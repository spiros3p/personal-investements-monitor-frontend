(self.webpackChunkangular_template_jest_spectator_playwright=self.webpackChunkangular_template_jest_spectator_playwright||[]).push([[179],{292:(Mf,nd,Wu)=>{"use strict";function ki(e){return"function"==typeof e}function oe(e){const d=e(n=>{Error.call(n),n.stack=(new Error).stack});return d.prototype=Object.create(Error.prototype),d.prototype.constructor=d,d}const j=oe(e=>function(d){e(this),this.message=d?`${d.length} errors occurred during unsubscription:\n${d.map((n,O)=>`${O+1}) ${n.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=d});function r(e,t){if(e){const d=e.indexOf(t);0<=d&&e.splice(d,1)}}class I{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:d}=this;if(d)if(this._parentage=null,Array.isArray(d))for(const G of d)G.remove(this);else d.remove(this);const{initialTeardown:n}=this;if(ki(n))try{n()}catch(G){t=G instanceof j?G.errors:[G]}const{_finalizers:O}=this;if(O){this._finalizers=null;for(const G of O)try{S(G)}catch(le){t=t??[],le instanceof j?t=[...t,...le.errors]:t.push(le)}}if(t)throw new j(t)}}add(t){var d;if(t&&t!==this)if(this.closed)S(t);else{if(t instanceof I){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(d=this._finalizers)&&void 0!==d?d:[]).push(t)}}_hasParent(t){const{_parentage:d}=this;return d===t||Array.isArray(d)&&d.includes(t)}_addParent(t){const{_parentage:d}=this;this._parentage=Array.isArray(d)?(d.push(t),d):d?[d,t]:t}_removeParent(t){const{_parentage:d}=this;d===t?this._parentage=null:Array.isArray(d)&&r(d,t)}remove(t){const{_finalizers:d}=this;d&&r(d,t),t instanceof I&&t._removeParent(this)}}I.EMPTY=(()=>{const e=new I;return e.closed=!0,e})();const E=I.EMPTY;function f(e){return e instanceof I||e&&"closed"in e&&ki(e.remove)&&ki(e.add)&&ki(e.unsubscribe)}function S(e){ki(e)?e():e.unsubscribe()}const M={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},y={setTimeout(e,t,...d){const{delegate:n}=y;return n?.setTimeout?n.setTimeout(e,t,...d):setTimeout(e,t,...d)},clearTimeout(e){const{delegate:t}=y;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function u(e){y.setTimeout(()=>{const{onUnhandledError:t}=M;if(!t)throw e;t(e)})}function i(){}const s=l("C",void 0,void 0);function l(e,t,d){return{kind:e,value:t,error:d}}let c=null;function h(e){if(M.useDeprecatedSynchronousErrorHandling){const t=!c;if(t&&(c={errorThrown:!1,error:null}),e(),t){const{errorThrown:d,error:n}=c;if(c=null,d)throw n}}else e()}class p extends I{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,f(t)&&t.add(this)):this.destination=m}static create(t,d,n){return new w(t,d,n)}next(t){this.isStopped?A(function o(e){return l("N",e,void 0)}(t),this):this._next(t)}error(t){this.isStopped?A(function a(e){return l("E",void 0,e)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?A(s,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const T=Function.prototype.bind;function _(e,t){return T.call(e,t)}class g{constructor(t){this.partialObserver=t}next(t){const{partialObserver:d}=this;if(d.next)try{d.next(t)}catch(n){x(n)}}error(t){const{partialObserver:d}=this;if(d.error)try{d.error(t)}catch(n){x(n)}else x(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(d){x(d)}}}class w extends p{constructor(t,d,n){let O;if(super(),ki(t)||!t)O={next:t??void 0,error:d??void 0,complete:n??void 0};else{let G;this&&M.useDeprecatedNextContext?(G=Object.create(t),G.unsubscribe=()=>this.unsubscribe(),O={next:t.next&&_(t.next,G),error:t.error&&_(t.error,G),complete:t.complete&&_(t.complete,G)}):O=t}this.destination=new g(O)}}function x(e){M.useDeprecatedSynchronousErrorHandling?function v(e){M.useDeprecatedSynchronousErrorHandling&&c&&(c.errorThrown=!0,c.error=e)}(e):u(e)}function A(e,t){const{onStoppedNotification:d}=M;d&&y.setTimeout(()=>d(e,t))}const m={closed:!0,next:i,error:function b(e){throw e},complete:i},C="function"==typeof Symbol&&Symbol.observable||"@@observable";function k(e){return e}function R(e){return 0===e.length?k:1===e.length?e[0]:function(d){return e.reduce((n,O)=>O(n),d)}}let L=(()=>{class e{constructor(d){d&&(this._subscribe=d)}lift(d){const n=new e;return n.source=this,n.operator=d,n}subscribe(d,n,O){const G=function J(e){return e&&e instanceof p||function B(e){return e&&ki(e.next)&&ki(e.error)&&ki(e.complete)}(e)&&f(e)}(d)?d:new w(d,n,O);return h(()=>{const{operator:le,source:Oe}=this;G.add(le?le.call(G,Oe):Oe?this._subscribe(G):this._trySubscribe(G))}),G}_trySubscribe(d){try{return this._subscribe(d)}catch(n){d.error(n)}}forEach(d,n){return new(n=N(n))((O,G)=>{const le=new w({next:Oe=>{try{d(Oe)}catch(He){G(He),le.unsubscribe()}},error:G,complete:O});this.subscribe(le)})}_subscribe(d){var n;return null===(n=this.source)||void 0===n?void 0:n.subscribe(d)}[C](){return this}pipe(...d){return R(d)(this)}toPromise(d){return new(d=N(d))((n,O)=>{let G;this.subscribe(le=>G=le,le=>O(le),()=>n(G))})}}return e.create=t=>new e(t),e})();function N(e){var t;return null!==(t=e??M.Promise)&&void 0!==t?t:Promise}const z=oe(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Y=(()=>{class e extends L{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(d){const n=new q(this,this);return n.operator=d,n}_throwIfClosed(){if(this.closed)throw new z}next(d){h(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const n of this.currentObservers)n.next(d)}})}error(d){h(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=d;const{observers:n}=this;for(;n.length;)n.shift().error(d)}})}complete(){h(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:d}=this;for(;d.length;)d.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var d;return(null===(d=this.observers)||void 0===d?void 0:d.length)>0}_trySubscribe(d){return this._throwIfClosed(),super._trySubscribe(d)}_subscribe(d){return this._throwIfClosed(),this._checkFinalizedStatuses(d),this._innerSubscribe(d)}_innerSubscribe(d){const{hasError:n,isStopped:O,observers:G}=this;return n||O?E:(this.currentObservers=null,G.push(d),new I(()=>{this.currentObservers=null,r(G,d)}))}_checkFinalizedStatuses(d){const{hasError:n,thrownError:O,isStopped:G}=this;n?d.error(O):G&&d.complete()}asObservable(){const d=new L;return d.source=this,d}}return e.create=(t,d)=>new q(t,d),e})();class q extends Y{constructor(t,d){super(),this.destination=t,this.source=d}next(t){var d,n;null===(n=null===(d=this.destination)||void 0===d?void 0:d.next)||void 0===n||n.call(d,t)}error(t){var d,n;null===(n=null===(d=this.destination)||void 0===d?void 0:d.error)||void 0===n||n.call(d,t)}complete(){var t,d;null===(d=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===d||d.call(t)}_subscribe(t){var d,n;return null!==(n=null===(d=this.source)||void 0===d?void 0:d.subscribe(t))&&void 0!==n?n:E}}class U extends Y{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const d=super._subscribe(t);return!d.closed&&t.next(this._value),d}getValue(){const{hasError:t,thrownError:d,_value:n}=this;if(t)throw d;return this._throwIfClosed(),n}next(t){super.next(this._value=t)}}function Z(e){return ki(e?.lift)}function X(e){return t=>{if(Z(t))return t.lift(function(d){try{return e(d,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function se(e,t,d,n,O){return new re(e,t,d,n,O)}class re extends p{constructor(t,d,n,O,G,le){super(t),this.onFinalize=G,this.shouldUnsubscribe=le,this._next=d?function(Oe){try{d(Oe)}catch(He){t.error(He)}}:super._next,this._error=O?function(Oe){try{O(Oe)}catch(He){t.error(He)}finally{this.unsubscribe()}}:super._error,this._complete=n?function(){try{n()}catch(Oe){t.error(Oe)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:d}=this;super.unsubscribe(),!d&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function ee(e,t){return X((d,n)=>{let O=0;d.subscribe(se(n,G=>{n.next(e.call(t,G,O++))}))})}function De(e){return this instanceof De?(this.v=e,this):new De(e)}function _e(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var d,t=e[Symbol.asyncIterator];return t?t.call(e):(e=function me(e){var t="function"==typeof Symbol&&Symbol.iterator,d=t&&e[t],n=0;if(d)return d.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),d={},n("next"),n("throw"),n("return"),d[Symbol.asyncIterator]=function(){return this},d);function n(G){d[G]=e[G]&&function(le){return new Promise(function(Oe,He){!function O(G,le,Oe,He){Promise.resolve(He).then(function(et){G({value:et,done:Oe})},le)}(Oe,He,(le=e[G](le)).done,le.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const Dt=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function vt(e){return ki(e?.then)}function mt(e){return ki(e[C])}function Et(e){return Symbol.asyncIterator&&ki(e?.[Symbol.asyncIterator])}function Lt(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Ut=function Rt(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Bt(e){return ki(e?.[Ut])}function rt(e){return function Ue(e,t,d){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var O,n=d.apply(e,t||[]),G=[];return O={},le("next"),le("throw"),le("return"),O[Symbol.asyncIterator]=function(){return this},O;function le(Qt){n[Qt]&&(O[Qt]=function(cn){return new Promise(function(Vn,Jn){G.push([Qt,cn,Vn,Jn])>1||Oe(Qt,cn)})})}function Oe(Qt,cn){try{!function He(Qt){Qt.value instanceof De?Promise.resolve(Qt.value.v).then(et,yt):Pt(G[0][2],Qt)}(n[Qt](cn))}catch(Vn){Pt(G[0][3],Vn)}}function et(Qt){Oe("next",Qt)}function yt(Qt){Oe("throw",Qt)}function Pt(Qt,cn){Qt(cn),G.shift(),G.length&&Oe(G[0][0],G[0][1])}}(this,arguments,function*(){const d=e.getReader();try{for(;;){const{value:n,done:O}=yield De(d.read());if(O)return yield De(void 0);yield yield De(n)}}finally{d.releaseLock()}})}function ot(e){return ki(e?.getReader)}function Je(e){if(e instanceof L)return e;if(null!=e){if(mt(e))return function it(e){return new L(t=>{const d=e[C]();if(ki(d.subscribe))return d.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(Dt(e))return function dt(e){return new L(t=>{for(let d=0;d<e.length&&!t.closed;d++)t.next(e[d]);t.complete()})}(e);if(vt(e))return function ht(e){return new L(t=>{e.then(d=>{t.closed||(t.next(d),t.complete())},d=>t.error(d)).then(null,u)})}(e);if(Et(e))return qe(e);if(Bt(e))return function Ve(e){return new L(t=>{for(const d of e)if(t.next(d),t.closed)return;t.complete()})}(e);if(ot(e))return function ut(e){return qe(rt(e))}(e)}throw Lt(e)}function qe(e){return new L(t=>{(function ft(e,t){var d,n,O,G;return function we(e,t,d,n){return new(d||(d=Promise))(function(G,le){function Oe(yt){try{et(n.next(yt))}catch(Pt){le(Pt)}}function He(yt){try{et(n.throw(yt))}catch(Pt){le(Pt)}}function et(yt){yt.done?G(yt.value):function O(G){return G instanceof d?G:new d(function(le){le(G)})}(yt.value).then(Oe,He)}et((n=n.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){try{for(d=_e(e);!(n=yield d.next()).done;)if(t.next(n.value),t.closed)return}catch(le){O={error:le}}finally{try{n&&!n.done&&(G=d.return)&&(yield G.call(d))}finally{if(O)throw O.error}}t.complete()})})(e,t).catch(d=>t.error(d))})}function St(e,t,d,n=0,O=!1){const G=t.schedule(function(){d(),O?e.add(this.schedule(null,n)):this.unsubscribe()},n);if(e.add(G),!O)return G}function Tt(e,t,d=1/0){return ki(t)?Tt((n,O)=>ee((G,le)=>t(n,G,O,le))(Je(e(n,O))),d):("number"==typeof t&&(d=t),X((n,O)=>function Mt(e,t,d,n,O,G,le,Oe){const He=[];let et=0,yt=0,Pt=!1;const Qt=()=>{Pt&&!He.length&&!et&&t.complete()},cn=Jn=>et<n?Vn(Jn):He.push(Jn),Vn=Jn=>{G&&t.next(Jn),et++;let Kn=!1;Je(d(Jn,yt++)).subscribe(se(t,pr=>{O?.(pr),G?cn(pr):t.next(pr)},()=>{Kn=!0},void 0,()=>{if(Kn)try{for(et--;He.length&&et<n;){const pr=He.shift();le?St(t,le,()=>Vn(pr)):Vn(pr)}Qt()}catch(pr){t.error(pr)}}))};return e.subscribe(se(t,cn,()=>{Pt=!0,Qt()})),()=>{Oe?.()}}(n,O,e,d)))}function xt(e=1/0){return Tt(k,e)}const Nt=new L(e=>e.complete());function It(e){return e&&ki(e.schedule)}function Wt(e){return e[e.length-1]}function Yt(e){return ki(Wt(e))?e.pop():void 0}function Zt(e){return It(Wt(e))?e.pop():void 0}function nn(e,t=0){return X((d,n)=>{d.subscribe(se(n,O=>St(n,e,()=>n.next(O),t),()=>St(n,e,()=>n.complete(),t),O=>St(n,e,()=>n.error(O),t)))})}function un(e,t=0){return X((d,n)=>{n.add(e.schedule(()=>d.subscribe(n),t))})}function en(e,t){if(!e)throw new Error("Iterable cannot be null");return new L(d=>{St(d,t,()=>{const n=e[Symbol.asyncIterator]();St(d,t,()=>{n.next().then(O=>{O.done?d.complete():d.next(O.value)})},0,!0)})})}function yn(e,t){return t?function hn(e,t){if(null!=e){if(mt(e))return function rn(e,t){return Je(e).pipe(un(t),nn(t))}(e,t);if(Dt(e))return function Pn(e,t){return new L(d=>{let n=0;return t.schedule(function(){n===e.length?d.complete():(d.next(e[n++]),d.closed||this.schedule())})})}(e,t);if(vt(e))return function kn(e,t){return Je(e).pipe(un(t),nn(t))}(e,t);if(Et(e))return en(e,t);if(Bt(e))return function Sn(e,t){return new L(d=>{let n;return St(d,t,()=>{n=e[Ut](),St(d,t,()=>{let O,G;try{({value:O,done:G}=n.next())}catch(le){return void d.error(le)}G?d.complete():d.next(O)},0,!0)}),()=>ki(n?.return)&&n.return()})}(e,t);if(ot(e))return function vn(e,t){return en(rt(e),t)}(e,t)}throw Lt(e)}(e,t):Je(e)}function _n(...e){return yn(e,Zt(e))}function Un(e={}){const{connector:t=(()=>new Y),resetOnError:d=!0,resetOnComplete:n=!0,resetOnRefCountZero:O=!0}=e;return G=>{let le,Oe,He,et=0,yt=!1,Pt=!1;const Qt=()=>{Oe?.unsubscribe(),Oe=void 0},cn=()=>{Qt(),le=He=void 0,yt=Pt=!1},Vn=()=>{const Jn=le;cn(),Jn?.unsubscribe()};return X((Jn,Kn)=>{et++,!Pt&&!yt&&Qt();const pr=He=He??t();Kn.add(()=>{et--,0===et&&!Pt&&!yt&&(Oe=qn(Vn,O))}),pr.subscribe(Kn),!le&&et>0&&(le=new w({next:nr=>pr.next(nr),error:nr=>{Pt=!0,Qt(),Oe=qn(cn,d,nr),pr.error(nr)},complete:()=>{yt=!0,Qt(),Oe=qn(cn,n),pr.complete()}}),Je(Jn).subscribe(le))})(G)}}function qn(e,t,...d){if(!0===t)return void e();if(!1===t)return;const n=new w({next:()=>{n.unsubscribe(),e()}});return Je(t(...d)).subscribe(n)}function Ln(e,t){return X((d,n)=>{let O=null,G=0,le=!1;const Oe=()=>le&&!O&&n.complete();d.subscribe(se(n,He=>{O?.unsubscribe();let et=0;const yt=G++;Je(e(He,yt)).subscribe(O=se(n,Pt=>n.next(t?t(He,Pt,yt,et++):Pt),()=>{O=null,Oe()}))},()=>{le=!0,Oe()}))})}function _r(e,t){return e===t}function dr(e){for(let t in e)if(e[t]===dr)return t;throw Error("Could not find renamed property on target object.")}function vr(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(vr).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const d=t.indexOf("\n");return-1===d?t:t.substring(0,d)}function mr(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const Br=dr({__forward_ref__:dr});function qt(e){return e.__forward_ref__=qt,e.toString=function(){return vr(this())},e}function on(e){return An(e)?e():e}function An(e){return"function"==typeof e&&e.hasOwnProperty(Br)&&e.__forward_ref__===qt}function Dn(e){return e&&!!e.\u0275providers}class bn extends Error{constructor(t,d){super(function Qn(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}(t,d)),this.code=t}}function er(e){return"string"==typeof e?e:null==e?"":String(e)}function pn(e,t){throw new bn(-201,!1)}function sr(e,t){null==e&&function hr(e,t,d,n){throw new Error(`ASSERTION ERROR: ${e}`+(null==n?"":` [Expected=> ${d} ${n} ${t} <=Actual]`))}(t,e,null,"!=")}function tr(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function ir(e){return{providers:e.providers||[],imports:e.imports||[]}}function Fr(e){return qi(e,so)||qi(e,Co)}function qi(e,t){return e.hasOwnProperty(t)?e[t]:null}function ao(e){return e&&(e.hasOwnProperty(Ki)||e.hasOwnProperty(Gs))?e[Ki]:null}const so=dr({\u0275prov:dr}),Ki=dr({\u0275inj:dr}),Co=dr({ngInjectableDef:dr}),Gs=dr({ngInjectorDef:dr});var fi=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(fi||{});let Ds;function oa(e){const t=Ds;return Ds=e,t}function tc(e,t,d){const n=Fr(e);return n&&"root"==n.providedIn?void 0===n.value?n.value=n.factory():n.value:d&fi.Optional?null:void 0!==t?t:void pn(vr(e))}const Li=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Ja={},No="__NG_DI_FLAG__",kl="ngTempTokenPath",qs=/\n/gm,Ws="__source";let Fa;function za(e){const t=Fa;return Fa=e,t}function al(e,t=fi.Default){if(void 0===Fa)throw new bn(-203,!1);return null===Fa?tc(e,void 0,t):Fa.get(e,t&fi.Optional?null:void 0,t)}function Vr(e,t=fi.Default){return(function Zc(){return Ds}()||al)(on(e),t)}function Ur(e,t=fi.Default){return Vr(e,Mc(t))}function Mc(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Ac(e){const t=[];for(let d=0;d<e.length;d++){const n=on(e[d]);if(Array.isArray(n)){if(0===n.length)throw new bn(900,!1);let O,G=fi.Default;for(let le=0;le<n.length;le++){const Oe=n[le],He=mu(Oe);"number"==typeof He?-1===He?O=Oe.token:G|=He:O=Oe}t.push(Vr(O,G))}else t.push(Vr(n))}return t}function ic(e,t){return e[No]=t,e.prototype[No]=t,e}function mu(e){return e[No]}function Ba(e){return{toString:e}.toString()}var $s=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}($s||{}),ja=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(ja||{});const ls={},Ui=[],ac=dr({\u0275cmp:dr}),Ka=dr({\u0275dir:dr}),sl=dr({\u0275pipe:dr}),Os=dr({\u0275mod:dr}),Ta=dr({\u0275fac:dr}),sc=dr({__NG_ELEMENT_ID__:dr}),ll=dr({__NG_ENV_ID__:dr});function no(e,t,d){let n=e.length;for(;;){const O=e.indexOf(t,d);if(-1===O)return O;if(0===O||e.charCodeAt(O-1)<=32){const G=t.length;if(O+G===n||e.charCodeAt(O+G)<=32)return O}d=O+1}}function cs(e,t,d){let n=0;for(;n<d.length;){const O=d[n];if("number"==typeof O){if(0!==O)break;n++;const G=d[n++],le=d[n++],Oe=d[n++];e.setAttribute(t,le,Oe,G)}else{const G=O,le=d[++n];us(G)?e.setProperty(t,G,le):e.setAttribute(t,G,le),n++}}return n}function lc(e){return 3===e||4===e||6===e}function us(e){return 64===e.charCodeAt(0)}function Is(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let d=-1;for(let n=0;n<t.length;n++){const O=t[n];"number"==typeof O?d=O:0===d||Zu(e,d,O,null,-1===d||2===d?t[++n]:null)}}return e}function Zu(e,t,d,n,O){let G=0,le=e.length;if(-1===t)le=-1;else for(;G<e.length;){const Oe=e[G++];if("number"==typeof Oe){if(Oe===t){le=-1;break}if(Oe>t){le=G-1;break}}}for(;G<e.length;){const Oe=e[G];if("number"==typeof Oe)break;if(Oe===d){if(null===n)return void(null!==O&&(e[G+1]=O));if(n===e[G+1])return void(e[G+2]=O)}G++,null!==n&&G++,null!==O&&G++}-1!==le&&(e.splice(le,0,t),G=le+1),e.splice(G++,0,d),null!==n&&e.splice(G++,0,n),null!==O&&e.splice(G++,0,O)}const Sc="ng-template";function Xu(e,t,d){let n=0,O=!0;for(;n<e.length;){let G=e[n++];if("string"==typeof G&&O){const le=e[n++];if(d&&"class"===G&&-1!==no(le.toLowerCase(),t,0))return!0}else{if(1===G){for(;n<e.length&&"string"==typeof(G=e[n++]);)if(G.toLowerCase()===t)return!0;return!1}"number"==typeof G&&(O=!1)}}return!1}function vu(e){return 4===e.type&&e.value!==Sc}function kc(e,t,d){return t===(4!==e.type||d?e.value:Sc)}function cc(e,t,d){let n=4;const O=e.attrs||[],G=function cl(e){for(let t=0;t<e.length;t++)if(lc(e[t]))return t;return e.length}(O);let le=!1;for(let Oe=0;Oe<t.length;Oe++){const He=t[Oe];if("number"!=typeof He){if(!le)if(4&n){if(n=2|1&n,""!==He&&!kc(e,He,d)||""===He&&1===t.length){if(qa(n))return!1;le=!0}}else{const et=8&n?He:t[++Oe];if(8&n&&null!==e.attrs){if(!Xu(e.attrs,et,d)){if(qa(n))return!1;le=!0}continue}const Pt=Cl(8&n?"class":He,O,vu(e),d);if(-1===Pt){if(qa(n))return!1;le=!0;continue}if(""!==et){let Qt;Qt=Pt>G?"":O[Pt+1].toLowerCase();const cn=8&n?Qt:null;if(cn&&-1!==no(cn,et,0)||2&n&&et!==Qt){if(qa(n))return!1;le=!0}}}}else{if(!le&&!qa(n)&&!qa(He))return!1;if(le&&qa(He))continue;le=!1,n=He|1&n}}return qa(n)||le}function qa(e){return 0==(1&e)}function Cl(e,t,d,n){if(null===t)return-1;let O=0;if(n||!d){let G=!1;for(;O<t.length;){const le=t[O];if(le===e)return O;if(3===le||6===le)G=!0;else{if(1===le||2===le){let Oe=t[++O];for(;"string"==typeof Oe;)Oe=t[++O];continue}if(4===le)break;if(0===le){O+=4;continue}}O+=G?1:2}return-1}return function Xc(e,t){let d=e.indexOf(4);if(d>-1)for(d++;d<e.length;){const n=e[d];if("number"==typeof n)return-1;if(n===t)return d;d++}return-1}(t,e)}function Ys(e,t,d=!1){for(let n=0;n<t.length;n++)if(cc(e,t[n],d))return!0;return!1}function Ps(e,t){e:for(let d=0;d<t.length;d++){const n=t[d];if(e.length===n.length){for(let O=0;O<e.length;O++)if(e[O]!==n[O])continue e;return!0}}return!1}function yu(e,t){return e?":not("+t.trim()+")":t}function Ju(e){let t=e[0],d=1,n=2,O="",G=!1;for(;d<e.length;){let le=e[d];if("string"==typeof le)if(2&n){const Oe=e[++d];O+="["+le+(Oe.length>0?'="'+Oe+'"':"")+"]"}else 8&n?O+="."+le:4&n&&(O+=" "+le);else""!==O&&!qa(le)&&(t+=yu(G,O),O=""),n=le,G=G||!qa(n);d++}return""!==O&&(t+=yu(G,O)),t}function ga(e){return Ba(()=>{const t=Zs(e),d={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===$s.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||ja.Emulated,styles:e.styles||Ui,_:null,schemas:e.schemas||null,tView:null,id:""};Kc(d);const n=e.dependencies;return d.directiveDefs=Il(n,!1),d.pipeDefs=Il(n,!0),d.id=function Cc(e){let t=0;const d=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const O of d)t=Math.imul(31,t)+O.charCodeAt(0)<<0;return t+=2147483648,"c"+t}(d),d})}function _u(e){return Ei(e)||Hi(e)}function uc(e){return null!==e}function Ri(e){return Ba(()=>({type:e.type,bootstrap:e.bootstrap||Ui,declarations:e.declarations||Ui,imports:e.imports||Ui,exports:e.exports||Ui,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function Vl(e,t){if(null==e)return ls;const d={};for(const n in e)if(e.hasOwnProperty(n)){let O=e[n],G=O;Array.isArray(O)&&(G=O[1],O=O[0]),d[O]=n,t&&(t[O]=G)}return d}function Cr(e){return Ba(()=>{const t=Zs(e);return Kc(t),t})}function Ei(e){return e[ac]||null}function Hi(e){return e[Ka]||null}function mi(e){return e[sl]||null}function aa(e,t){const d=e[Os]||null;if(!d&&!0===t)throw new Error(`Type ${vr(e)} does not have '\u0275mod' property.`);return d}function Zs(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||ls,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||Ui,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Vl(e.inputs,t),outputs:Vl(e.outputs)}}function Kc(e){e.features?.forEach(t=>t(e))}function Il(e,t){if(!e)return null;const d=t?mi:_u;return()=>("function"==typeof e?e():e).map(n=>d(n)).filter(uc)}const mo=0,Wr=1,hi=2,_i=3,Ma=4,Rs=5,ji=6,Uo=7,Oi=8,ko=9,Ho=10,pi=11,Wa=12,sa=13,ya=14,Qi=15,Rl=16,Aa=17,uo=18,Gr=19,_a=20,ys=21,_s=22,Xs=23,Js=24,bi=25,fs=1,Ul=2,Qa=7,Va=9,fo=11;function ea(e){return Array.isArray(e)&&"object"==typeof e[fs]}function $i(e){return Array.isArray(e)&&!0===e[fs]}function fl(e){return 0!=(4&e.flags)}function xs(e){return e.componentOffset>-1}function Go(e){return 1==(1&e.flags)}function Si(e){return!!e.template}function Hl(e){return 0!=(512&e[hi])}function ts(e,t){return e.hasOwnProperty(Ta)?e[Ta]:null}let ql=Li.WeakRef??class ns{constructor(t){this.ref=t}deref(){return this.ref}},vl=0,V=null,$=!1;function W(e){const t=V;return V=e,t}class te{constructor(){this.id=vl++,this.ref=function dc(e){return new ql(e)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[t,d]of this.producers){const n=d.producerNode.deref();if(null!=n&&d.atTrackingVersion===this.trackingVersion){if(n.producerPollStatus(d.seenValueVersion))return!0}else this.producers.delete(t),n?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const t=$;$=!0;try{for(const[d,n]of this.consumers){const O=n.consumerNode.deref();null!=O&&O.trackingVersion===n.atTrackingVersion?O.onConsumerDependencyMayHaveChanged():(this.consumers.delete(d),O?.producers.delete(this.id))}}finally{$=t}}producerAccessed(){if($)throw new Error("");if(null===V)return;let t=V.producers.get(this.id);void 0===t?(t={consumerNode:V.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:V.trackingVersion},V.producers.set(this.id,t),this.consumers.set(V.id,t)):(t.seenValueVersion=this.valueVersion,t.atTrackingVersion=V.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==V?.consumerAllowSignalWrites}producerPollStatus(t){return this.valueVersion!==t||(this.onProducerUpdateValueVersion(),this.valueVersion!==t)}}let Ce=null;const At=()=>{};class jt extends te{constructor(t,d,n){super(),this.watch=t,this.schedule=d,this.dirty=!1,this.cleanupFn=At,this.registerOnCleanup=O=>{this.cleanupFn=O},this.consumerAllowSignalWrites=n}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const t=W(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=At,this.watch(this.registerOnCleanup)}finally{W(t)}}cleanup(){this.cleanupFn()}}class Ht{constructor(t,d,n){this.previousValue=t,this.currentValue=d,this.firstChange=n}isFirstChange(){return this.firstChange}}function zt(){return Xt}function Xt(e){return e.type.prototype.ngOnChanges&&(e.setInput=mn),Vt}function Vt(){const e=tn(this),t=e?.current;if(t){const d=e.previous;if(d===ls)e.previous=t;else for(let n in t)d[n]=t[n];e.current=null,this.ngOnChanges(t)}}function mn(e,t,d,n){const O=this.declaredInputs[d],G=tn(e)||function On(e,t){return e[sn]=t}(e,{previous:ls,current:null}),le=G.current||(G.current={}),Oe=G.previous,He=Oe[O];le[O]=new Ht(He&&He.currentValue,t,Oe===ls),e[n]=t}zt.ngInherit=!0;const sn="__ngSimpleChanges__";function tn(e){return e[sn]||null}const Xn=function(e,t,d){};function wr(e){for(;Array.isArray(e);)e=e[mo];return e}function Rr(e,t){return wr(t[e.index])}function ar(e,t){return e.data[t]}function Or(e,t){const d=t[e];return ea(d)?d:d[mo]}function Ti(e,t){return null==t?null:e[t]}function Yi(e){e[Aa]=0}function vo(e){1024&e[hi]||(e[hi]|=1024,Zi(e,1))}function ho(e){1024&e[hi]&&(e[hi]&=-1025,Zi(e,-1))}function Zi(e,t){let d=e[_i];if(null===d)return;d[Rs]+=t;let n=d;for(d=d[_i];null!==d&&(1===t&&1===n[Rs]||-1===t&&0===n[Rs]);)d[Rs]+=t,n=d,d=d[_i]}const Kr={lFrame:ng(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function _o(){return Kr.bindingsEnabled}function fa(){return null!==Kr.skipHydrationRootTNode}function Tr(){return Kr.lFrame.lView}function di(){return Kr.lFrame.tView}function is(){let e=rp();for(;null!==e&&64===e.type;)e=e.parent;return e}function rp(){return Kr.lFrame.currentTNode}function yl(e,t){const d=Kr.lFrame;d.currentTNode=e,d.isParent=t}function Sf(){return Kr.lFrame.isParent}function Tu(){Kr.lFrame.isParent=!1}function id(){return Kr.lFrame.bindingIndex++}function Mu(e){const t=Kr.lFrame,d=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,d}function l1(e,t){const d=Kr.lFrame;d.bindingIndex=d.bindingRootIndex=e,od(t)}function od(e){Kr.lFrame.currentDirectiveIndex=e}function th(){return Kr.lFrame.currentQueryIndex}function eg(e){Kr.lFrame.currentQueryIndex=e}function Fy(e){const t=e[Wr];return 2===t.type?t.declTNode:1===t.type?e[ji]:null}function tg(e,t,d){if(d&fi.SkipSelf){let O=t,G=e;for(;!(O=O.parent,null!==O||d&fi.Host||(O=Fy(G),null===O||(G=G[ya],10&O.type))););if(null===O)return!1;t=O,e=G}const n=Kr.lFrame=sp();return n.currentTNode=t,n.lView=e,!0}function ap(e){const t=sp(),d=e[Wr];Kr.lFrame=t,t.currentTNode=d.firstChild,t.lView=e,t.tView=d,t.contextLView=e,t.bindingIndex=d.bindingStartIndex,t.inI18n=!1}function sp(){const e=Kr.lFrame,t=null===e?null:e.child;return null===t?ng(e):t}function ng(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function lp(){const e=Kr.lFrame;return Kr.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Ku=lp;function Ts(){const e=lp();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function _l(){return Kr.lFrame.selectedIndex}function Ef(e){Kr.lFrame.selectedIndex=e}function Da(){const e=Kr.lFrame;return ar(e.tView,e.selectedIndex)}let Au=!0;function Qu(){return Au}function ef(e){Au=e}function up(e,t){for(let d=t.directiveStart,n=t.directiveEnd;d<n;d++){const G=e.data[d].type.prototype,{ngAfterContentInit:le,ngAfterContentChecked:Oe,ngAfterViewInit:He,ngAfterViewChecked:et,ngOnDestroy:yt}=G;le&&(e.contentHooks??=[]).push(-d,le),Oe&&((e.contentHooks??=[]).push(d,Oe),(e.contentCheckHooks??=[]).push(d,Oe)),He&&(e.viewHooks??=[]).push(-d,He),et&&((e.viewHooks??=[]).push(d,et),(e.viewCheckHooks??=[]).push(d,et)),null!=yt&&(e.destroyHooks??=[]).push(d,yt)}}function fp(e,t,d){f1(e,t,3,d)}function dp(e,t,d,n){(3&e[hi])===d&&f1(e,t,d,n)}function og(e,t){let d=e[hi];(3&d)===t&&(d&=8191,d+=1,e[hi]=d)}function f1(e,t,d,n){const G=n??-1,le=t.length-1;let Oe=0;for(let He=void 0!==n?65535&e[Aa]:0;He<le;He++)if("number"==typeof t[He+1]){if(Oe=t[He],null!=n&&Oe>=n)break}else t[He]<0&&(e[Aa]+=65536),(Oe<G||-1==G)&&(Vy(e,d,t,He),e[Aa]=(4294901760&e[Aa])+He+2),He++}function hp(e,t){Xn(4,e,t);const d=W(null);try{t.call(e)}finally{W(d),Xn(5,e,t)}}function Vy(e,t,d,n){const O=d[n]<0,G=d[n+1],Oe=e[O?-d[n]:d[n]];O?e[hi]>>13<e[Aa]>>16&&(3&e[hi])===t&&(e[hi]+=8192,hp(Oe,G)):hp(Oe,G)}const Ic=-1;class nh{constructor(t,d,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=d,this.injectImpl=n}}function ad(e){return e!==Ic}function sd(e){return 32767&e}function mp(e,t){let d=function lg(e){return e>>16}(e),n=t;for(;d>0;)n=n[ya],d--;return n}let vp=!0;function tf(e){const t=vp;return vp=e,t}const yp=255,d1=5;let cg=0;const gc={};function _p(e,t){const d=h1(e,t);if(-1!==d)return d;const n=t[Wr];n.firstCreatePass&&(e.injectorIndex=t.length,ug(n.data,e),ug(t,null),ug(n.blueprint,null));const O=xp(e,t),G=e.injectorIndex;if(ad(O)){const le=sd(O),Oe=mp(O,t),He=Oe[Wr].data;for(let et=0;et<8;et++)t[G+et]=Oe[le+et]|He[le+et]}return t[G+8]=O,G}function ug(e,t){e.push(0,0,0,0,0,0,0,0,t)}function h1(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function xp(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let d=0,n=null,O=t;for(;null!==O;){if(n=pg(O),null===n)return Ic;if(d++,O=O[ya],-1!==n.injectorIndex)return n.injectorIndex|d<<16}return Ic}function bp(e,t,d){!function Pc(e,t,d){let n;"string"==typeof d?n=d.charCodeAt(0)||0:d.hasOwnProperty(sc)&&(n=d[sc]),null==n&&(n=d[sc]=cg++);const O=n&yp;t.data[e+(O>>d1)]|=1<<O}(e,t,d)}function p1(e,t,d){if(d&fi.Optional||void 0!==e)return e;pn()}function g1(e,t,d,n){if(d&fi.Optional&&void 0===n&&(n=null),!(d&(fi.Self|fi.Host))){const O=e[ko],G=oa(void 0);try{return O?O.get(t,n,d&fi.Optional):tc(t,n,d&fi.Optional)}finally{oa(G)}}return p1(n,0,d)}function fg(e,t,d,n=fi.Default,O){if(null!==e){if(2048&t[hi]&&!(n&fi.Self)){const le=function ih(e,t,d,n,O){let G=e,le=t;for(;null!==G&&null!==le&&2048&le[hi]&&!(512&le[hi]);){const Oe=dg(G,le,d,n|fi.Self,gc);if(Oe!==gc)return Oe;let He=G.parent;if(!He){const et=le[_a];if(et){const yt=et.get(d,gc,n);if(yt!==gc)return yt}He=pg(le),le=le[ya]}G=He}return O}(e,t,d,n,gc);if(le!==gc)return le}const G=dg(e,t,d,n,gc);if(G!==gc)return G}return g1(t,d,n,O)}function dg(e,t,d,n,O){const G=function qy(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(sc)?e[sc]:void 0;return"number"==typeof t?t>=0?t&yp:Wy:t}(d);if("function"==typeof G){if(!tg(t,e,n))return n&fi.Host?p1(O,0,n):g1(t,d,n,O);try{const le=G(n);if(null!=le||n&fi.Optional)return le;pn()}finally{Ku()}}else if("number"==typeof G){let le=null,Oe=h1(e,t),He=Ic,et=n&fi.Host?t[Qi][ji]:null;for((-1===Oe||n&fi.SkipSelf)&&(He=-1===Oe?xp(e,t):t[Oe+8],He!==Ic&&cd(n,!1)?(le=t[Wr],Oe=sd(He),t=mp(He,t)):Oe=-1);-1!==Oe;){const yt=t[Wr];if(Tp(G,Oe,yt.data)){const Pt=Gy(Oe,t,d,le,n,et);if(Pt!==gc)return Pt}He=t[Oe+8],He!==Ic&&cd(n,t[Wr].data[Oe+8]===et)&&Tp(G,Oe,t)?(le=yt,Oe=sd(He),t=mp(He,t)):Oe=-1}}return O}function Gy(e,t,d,n,O,G){const le=t[Wr],Oe=le.data[e+8],yt=wp(Oe,le,d,null==n?xs(Oe)&&vp:n!=le&&0!=(3&Oe.type),O&fi.Host&&G===Oe);return null!==yt?mc(t,le,yt,Oe):gc}function wp(e,t,d,n,O){const G=e.providerIndexes,le=t.data,Oe=1048575&G,He=e.directiveStart,yt=G>>20,Qt=O?Oe+yt:e.directiveEnd;for(let cn=n?Oe:Oe+yt;cn<Qt;cn++){const Vn=le[cn];if(cn<He&&d===Vn||cn>=He&&Vn.type===d)return cn}if(O){const cn=le[He];if(cn&&Si(cn)&&cn.type===d)return He}return null}function mc(e,t,d,n){let O=e[d];const G=t.data;if(function Oa(e){return e instanceof nh}(O)){const le=O;le.resolving&&function Nn(e,t){const d=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new bn(-200,`Circular dependency in DI detected for ${e}${d}`)}(function Jt(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():er(e)}(G[d]));const Oe=tf(le.canSeeViewProviders);le.resolving=!0;const He=le.injectImpl?oa(le.injectImpl):null;tg(e,n,fi.Default);try{O=e[d]=le.factory(void 0,G,e,n),t.firstCreatePass&&d>=n.directiveStart&&function jy(e,t,d){const{ngOnChanges:n,ngOnInit:O,ngDoCheck:G}=t.type.prototype;if(n){const le=Xt(t);(d.preOrderHooks??=[]).push(e,le),(d.preOrderCheckHooks??=[]).push(e,le)}O&&(d.preOrderHooks??=[]).push(0-e,O),G&&((d.preOrderHooks??=[]).push(e,G),(d.preOrderCheckHooks??=[]).push(e,G))}(d,G[d],t)}finally{null!==He&&oa(He),tf(Oe),le.resolving=!1,Ku()}}return O}function Tp(e,t,d){return!!(d[t+(e>>d1)]&1<<e)}function cd(e,t){return!(e&fi.Self||e&fi.Host&&t)}class el{constructor(t,d){this._tNode=t,this._lView=d}get(t,d,n){return fg(this._tNode,this._lView,t,Mc(n),d)}}function Wy(){return new el(is(),Tr())}function hg(e){return An(e)?()=>{const t=hg(on(e));return t&&t()}:ts(e)}function pg(e){const t=e[Wr],d=t.type;return 2===d?t.declTNode:1===d?e[ji]:null}const fd="__parameters__";function Df(e,t,d){return Ba(()=>{const n=function gg(e){return function(...d){if(e){const n=e(...d);for(const O in n)this[O]=n[O]}}}(t);function O(...G){if(this instanceof O)return n.apply(this,G),this;const le=new O(...G);return Oe.annotation=le,Oe;function Oe(He,et,yt){const Pt=He.hasOwnProperty(fd)?He[fd]:Object.defineProperty(He,fd,{value:[]})[fd];for(;Pt.length<=yt;)Pt.push(null);return(Pt[yt]=Pt[yt]||[]).push(le),He}}return d&&(O.prototype=Object.create(d.prototype)),O.prototype.ngMetadataName=e,O.annotationCls=O,O})}function Of(e,t){e.forEach(d=>Array.isArray(d)?Of(d,t):t(d))}function mg(e,t,d){t>=e.length?e.push(d):e.splice(t,0,d)}function ah(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function $l(e,t){const d=[];for(let n=0;n<e;n++)d.push(t);return d}function Yl(e,t,d){let n=gd(e,t);return n>=0?e[1|n]=d:(n=~n,function Jy(e,t,d,n){let O=e.length;if(O==t)e.push(d,n);else if(1===O)e.push(n,e[0]),e[0]=d;else{for(O--,e.push(e[O-1],e[O]);O>t;)e[O]=e[O-2],O--;e[t]=d,e[t+1]=n}}(e,n,t,d)),n}function vg(e,t){const d=gd(e,t);if(d>=0)return e[1|d]}function gd(e,t){return function _1(e,t,d){let n=0,O=e.length>>d;for(;O!==n;){const G=n+(O-n>>1),le=e[G<<d];if(t===le)return G<<d;le>t?O=G:n=G+1}return~(O<<d)}(e,t,1)}const sh=ic(Df("Optional"),8),Ms=ic(Df("SkipSelf"),4);function ku(e){return 128==(128&e.flags)}var Qc=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Qc||{});const Op=new Map;let E1=0;const oo="__ngContext__";function tl(e,t){ea(t)?(e[oo]=t[Gr],function d_(e){Op.set(e[Gr],e)}(t)):e[oo]=t}let Pp;function Rp(e,t){return Pp(e,t)}function Rc(e){const t=e[_i];return $i(t)?t[_i]:t}function Cg(e){return Dg(e[Wa])}function xa(e){return Dg(e[Ma])}function Dg(e){for(;null!==e&&!$i(e);)e=e[Ma];return e}function po(e,t,d,n,O){if(null!=n){let G,le=!1;$i(n)?G=n:ea(n)&&(le=!0,n=n[mo]);const Oe=wr(n);0===e&&null!==d?null==O?z1(t,d,Oe):sf(t,d,Oe,O||null,!0):1===e&&null!==d?sf(t,d,Oe,O||null,!0):2===e?function Gt(e,t,d){const n=D(e,t);n&&function lf(e,t,d,n){e.removeChild(t,d,n)}(e,n,t,d)}(t,Oe,le):3===e&&t.destroyNode(Oe),null!=G&&function zn(e,t,d,n,O){const G=d[Qa];G!==wr(d)&&po(t,e,n,G,O);for(let Oe=fo;Oe<d.length;Oe++){const He=d[Oe];gn(He[Wr],He,e,t,n,G)}}(t,e,G,d,O)}}function ph(e,t,d){return e.createElement(t,d)}function Md(e,t){const d=e[Va],n=d.indexOf(t);ho(t),d.splice(n,1)}function Lc(e,t){if(e.length<=fo)return;const d=fo+t,n=e[d];if(n){const O=n[Rl];null!==O&&O!==e&&Md(O,n),t>0&&(e[d-1][Ma]=n[Ma]);const G=ah(e,fo+t);!function N1(e,t){gn(e,t,t[pi],2,null,null),t[mo]=null,t[ji]=null}(n[Wr],n);const le=G[uo];null!==le&&le.detachView(G[Wr]),n[_i]=null,n[Ma]=null,n[hi]&=-129}return n}function gh(e,t){if(!(256&t[hi])){const d=t[pi];t[Xs]?.destroy(),t[Js]?.destroy(),d.destroyNode&&gn(e,t,d,3,null,null),function zf(e){let t=e[Wa];if(!t)return Ad(e[Wr],e);for(;t;){let d=null;if(ea(t))d=t[Wa];else{const n=t[fo];n&&(d=n)}if(!d){for(;t&&!t[Ma]&&t!==e;)ea(t)&&Ad(t[Wr],t),t=t[_i];null===t&&(t=e),ea(t)&&Ad(t[Wr],t),d=t&&t[Ma]}t=d}}(t)}}function Ad(e,t){if(!(256&t[hi])){t[hi]&=-129,t[hi]|=256,function Sd(e,t){let d;if(null!=e&&null!=(d=e.destroyHooks))for(let n=0;n<d.length;n+=2){const O=t[d[n]];if(!(O instanceof nh)){const G=d[n+1];if(Array.isArray(G))for(let le=0;le<G.length;le+=2){const Oe=O[G[le]],He=G[le+1];Xn(4,Oe,He);try{He.call(Oe)}finally{Xn(5,Oe,He)}}else{Xn(4,O,G);try{G.call(O)}finally{Xn(5,O,G)}}}}}(e,t),function Pg(e,t){const d=e.cleanup,n=t[Uo];if(null!==d)for(let G=0;G<d.length-1;G+=2)if("string"==typeof d[G]){const le=d[G+3];le>=0?n[le]():n[-le].unsubscribe(),G+=2}else d[G].call(n[d[G+1]]);null!==n&&(t[Uo]=null);const O=t[ys];if(null!==O){t[ys]=null;for(let G=0;G<O.length;G++)(0,O[G])()}}(e,t),1===t[Wr].type&&t[pi].destroy();const d=t[Rl];if(null!==d&&$i(t[_i])){d!==t[_i]&&Md(d,t);const n=t[uo];null!==n&&n.detachView(e)}!function Ip(e){Op.delete(e[Gr])}(t)}}function Nc(e,t,d){return function Rg(e,t,d){let n=t;for(;null!==n&&40&n.type;)n=(t=n).parent;if(null===n)return d[mo];{const{componentOffset:O}=n;if(O>-1){const{encapsulation:G}=e.data[n.directiveStart+O];if(G===ja.None||G===ja.Emulated)return null}return Rr(n,d)}}(e,t.parent,d)}function sf(e,t,d,n,O){e.insertBefore(t,d,n,O)}function z1(e,t,d){e.appendChild(t,d)}function Ha(e,t,d,n,O){null!==n?sf(e,t,d,n,O):z1(e,t,d)}function D(e,t){return e.parentNode(t)}function Q(e,t,d){return Le(e,t,d)}let je,ui,Le=function ve(e,t,d){return 40&e.type?Rr(e,d):null};function at(e,t,d,n){const O=Nc(e,n,t),G=t[pi],Oe=Q(n.parent||t[ji],n,t);if(null!=O)if(Array.isArray(d))for(let He=0;He<d.length;He++)Ha(G,O,d[He],Oe,!1);else Ha(G,O,d,Oe,!1);void 0!==je&&je(G,n,t,d,O)}function pt(e,t){if(null!==t){const d=t.type;if(3&d)return Rr(t,e);if(4&d)return Ot(-1,e[t.index]);if(8&d){const n=t.child;if(null!==n)return pt(e,n);{const O=e[t.index];return $i(O)?Ot(-1,O):wr(O)}}if(32&d)return Rp(t,e)()||wr(e[t.index]);{const n=Ct(e,t);return null!==n?Array.isArray(n)?n[0]:pt(Rc(e[Qi]),n):pt(e,t.next)}}return null}function Ct(e,t){return null!==t?e[Qi][ji].projection[t.projection]:null}function Ot(e,t){const d=fo+e+1;if(d<t.length){const n=t[d],O=n[Wr].firstChild;if(null!==O)return pt(n,O)}return t[Qa]}function $t(e,t,d,n,O,G,le){for(;null!=d;){const Oe=n[d.index],He=d.type;if(le&&0===t&&(Oe&&tl(wr(Oe),n),d.flags|=2),32!=(32&d.flags))if(8&He)$t(e,t,d.child,n,O,G,!1),po(t,e,O,Oe,G);else if(32&He){const et=Rp(d,n);let yt;for(;yt=et();)po(t,e,O,yt,G);po(t,e,O,Oe,G)}else 16&He?Fn(e,t,n,d,O,G):po(t,e,O,Oe,G);d=le?d.projectionNext:d.next}}function gn(e,t,d,n,O,G){$t(d,n,e.firstChild,t,O,G,!1)}function Fn(e,t,d,n,O,G){const le=d[Qi],He=le[ji].projection[n.projection];if(Array.isArray(He))for(let et=0;et<He.length;et++)po(t,e,O,He[et],G);else{let et=He;const yt=le[_i];ku(n)&&(et.flags|=128),$t(e,t,et,yt,O,G,!0)}}function lr(e,t,d){""===d?e.removeAttribute(t,"class"):e.setAttribute(t,"class",d)}function gr(e,t,d){const{mergedAttrs:n,classes:O,styles:G}=d;null!==n&&cs(e,t,n),null!==O&&lr(e,t,O),null!==G&&function Zn(e,t,d){e.setAttribute(t,"style",d)}(e,t,G)}class wo{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function $o(e){return e instanceof wo?e.changingThisBreaksApplicationSecurity:e}class ei{constructor(t,d){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof d?this.__NG_ELEMENT_ID__=d:void 0!==d&&(this.\u0275prov=tr({token:this,providedIn:d.providedIn||"root",factory:d.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const jc=new ei("ENVIRONMENT_INITIALIZER"),Dd=new ei("INJECTOR",-1),Od=new ei("INJECTOR_DEF_TYPES");class Ng{get(t,d=Ja){if(d===Ja){const n=new Error(`NullInjectorError: No provider for ${vr(t)}!`);throw n.name="NullInjectorError",n}return d}}function B1(...e){return{\u0275providers:Wp(0,e),\u0275fromNgModule:!0}}function Wp(e,...t){const d=[],n=new Set;let O;return Of(t,G=>{const le=G;Yp(le,d,[],n)&&(O||=[],O.push(le))}),void 0!==O&&$p(O,d),d}function $p(e,t){for(let d=0;d<e.length;d++){const{providers:O}=e[d];Zp(O,G=>{t.push(G)})}}function Yp(e,t,d,n){if(!(e=on(e)))return!1;let O=null,G=ao(e);const le=!G&&Ei(e);if(G||le){if(le&&!le.standalone)return!1;O=e}else{const He=e.ngModule;if(G=ao(He),!G)return!1;O=He}const Oe=n.has(O);if(le){if(Oe)return!1;if(n.add(O),le.dependencies){const He="function"==typeof le.dependencies?le.dependencies():le.dependencies;for(const et of He)Yp(et,t,d,n)}}else{if(!G)return!1;{if(null!=G.imports&&!Oe){let et;n.add(O);try{Of(G.imports,yt=>{Yp(yt,t,d,n)&&(et||=[],et.push(yt))})}finally{}void 0!==et&&$p(et,t)}if(!Oe){const et=ts(O)||(()=>new O);t.push({provide:O,useFactory:et,deps:Ui},{provide:Od,useValue:O,multi:!0},{provide:jc,useValue:()=>Vr(O),multi:!0})}const He=G.providers;null==He||Oe||Zp(He,yt=>{t.push(yt)})}}return O!==e&&void 0!==e.providers}function Zp(e,t){for(let d of e)Dn(d)&&(d=d.\u0275providers),Array.isArray(d)?Zp(d,t):t(d)}const Fg=dr({provide:String,useValue:dr});function zg(e){return null!==e&&"object"==typeof e&&Fg in e}function Bs(e){return"function"==typeof e}const nu=new ei("Set Injector scope."),Pd={},V1={};let Rd;function Xl(){return void 0===Rd&&(Rd=new Ng),Rd}class bl{}class Uf extends bl{get destroyed(){return this._destroyed}constructor(t,d,n,O){super(),this.parent=d,this.source=n,this.scopes=O,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Jp(t,le=>this.processProvider(le)),this.records.set(Dd,ru(void 0,this)),O.has("environment")&&this.records.set(bl,ru(void 0,this));const G=this.records.get(nu);null!=G&&"string"==typeof G.value&&this.scopes.add(G.value),this.injectorDefTypes=new Set(this.get(Od.multi,Ui,fi.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const d of this._ngOnDestroyHooks)d.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const d of t)d()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const d=za(this),n=oa(void 0);try{return t()}finally{za(d),oa(n)}}get(t,d=Ja,n=fi.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(ll))return t[ll](this);n=Mc(n);const O=za(this),G=oa(void 0);try{if(!(n&fi.SkipSelf)){let Oe=this.records.get(t);if(void 0===Oe){const He=function G1(e){return"function"==typeof e||"object"==typeof e&&e instanceof ei}(t)&&Fr(t);Oe=He&&this.injectableDefInScope(He)?ru(Ld(t),Pd):null,this.records.set(t,Oe)}if(null!=Oe)return this.hydrate(t,Oe)}return(n&fi.Self?Xl():this.parent).get(t,d=n&fi.Optional&&d===Ja?null:d)}catch(le){if("NullInjectorError"===le.name){if((le[kl]=le[kl]||[]).unshift(vr(t)),O)throw le;return function Yu(e,t,d,n){const O=e[kl];throw t[Ws]&&O.unshift(t[Ws]),e.message=function oc(e,t,d,n=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let O=vr(t);if(Array.isArray(t))O=t.map(vr).join(" -> ");else if("object"==typeof t){let G=[];for(let le in t)if(t.hasOwnProperty(le)){let Oe=t[le];G.push(le+":"+("string"==typeof Oe?JSON.stringify(Oe):vr(Oe)))}O=`{${G.join(", ")}}`}return`${d}${n?"("+n+")":""}[${O}]: ${e.replace(qs,"\n  ")}`}("\n"+e.message,O,d,n),e.ngTokenPath=O,e[kl]=null,e}(le,t,"R3InjectorError",this.source)}throw le}finally{oa(G),za(O)}}resolveInjectorInitializers(){const t=za(this),d=oa(void 0);try{const n=this.get(jc.multi,Ui,fi.Self);for(const O of n)O()}finally{za(t),oa(d)}}toString(){const t=[],d=this.records;for(const n of d.keys())t.push(vr(n));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new bn(205,!1)}processProvider(t){let d=Bs(t=on(t))?t:on(t&&t.provide);const n=function Bg(e){return zg(e)?ru(void 0,e.useValue):ru(jg(e),Pd)}(t);if(Bs(t)||!0!==t.multi)this.records.get(d);else{let O=this.records.get(d);O||(O=ru(void 0,Pd,!0),O.factory=()=>Ac(O.multi),this.records.set(d,O)),d=t,O.multi.push(t)}this.records.set(d,n)}hydrate(t,d){return d.value===Pd&&(d.value=V1,d.value=d.factory()),"object"==typeof d.value&&d.value&&function H1(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(d.value)&&this._ngOnDestroyHooks.add(d.value),d.value}injectableDefInScope(t){if(!t.providedIn)return!1;const d=on(t.providedIn);return"string"==typeof d?"any"===d||this.scopes.has(d):this.injectorDefTypes.has(d)}removeOnDestroy(t){const d=this._onDestroyHooks.indexOf(t);-1!==d&&this._onDestroyHooks.splice(d,1)}}function Ld(e){const t=Fr(e),d=null!==t?t.factory:ts(e);if(null!==d)return d;if(e instanceof ei)throw new bn(204,!1);if(e instanceof Function)return function Xp(e){const t=e.length;if(t>0)throw $l(t,"?"),new bn(204,!1);const d=function go(e){return e&&(e[so]||e[Co])||null}(e);return null!==d?()=>d.factory(e):()=>new e}(e);throw new bn(204,!1)}function jg(e,t,d){let n;if(Bs(e)){const O=on(e);return ts(O)||Ld(O)}if(zg(e))n=()=>on(e.useValue);else if(function ha(e){return!(!e||!e.useFactory)}(e))n=()=>e.useFactory(...Ac(e.deps||[]));else if(function Id(e){return!(!e||!e.useExisting)}(e))n=()=>Vr(on(e.useExisting));else{const O=on(e&&(e.useClass||e.provide));if(!function U1(e){return!!e.deps}(e))return ts(O)||Ld(O);n=()=>new O(...Ac(e.deps))}return n}function ru(e,t,d=!1){return{factory:e,value:t,multi:d?[]:void 0}}function Jp(e,t){for(const d of e)Array.isArray(d)?Jp(d,t):d&&Dn(d)?Jp(d.\u0275providers,t):t(d)}const xh=new ei("AppId",{providedIn:"root",factory:()=>Fl}),Fl="ng",bh=new ei("Platform Initializer"),df=new ei("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Vg=new ei("CSP nonce",{providedIn:"root",factory:()=>function Yr(){if(void 0!==ui)return ui;if(typeof document<"u")return document;throw new bn(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Ug=(e,t)=>null;function zd(e,t){return Ug(e,t)}class w_{}class Vc{}class $1{resolveComponentFactory(t){throw function a0(e){const t=Error(`No component factory found for ${vr(e)}.`);return t.ngComponent=e,t}(t)}}let Y1=(()=>{class t{}return t.NULL=new $1,t})();function mE(){return l0(is(),Tr())}function l0(e,t){return new Yo(Rr(e,t))}let Yo=(()=>{class t{constructor(n){this.nativeElement=n}}return t.__NG_ELEMENT_ID__=mE,t})();function vE(e){return e instanceof Yo?e.nativeElement:e}class T_{}let Uc=(()=>{class t{constructor(){this.destroyNode=null}}return t.__NG_ELEMENT_ID__=()=>function yE(){const e=Tr(),d=Or(is().index,e);return(ea(d)?d:e)[pi]}(),t})(),_E=(()=>{var e;class t{}return(e=t).\u0275prov=tr({token:e,providedIn:"root",factory:()=>null}),t})();class Zg{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const xE=new Zg("16.1.8"),M_={};function Xg(e){for(;e;){e[hi]|=64;const t=Rc(e);if(Hl(e)&&!t)return e;e=t}return null}function A_(e){return e.ngOriginalError}class Eh{constructor(){this._console=console}handleError(t){const d=this._findOriginalError(t);this._console.error("ERROR",t),d&&this._console.error("ORIGINAL ERROR",d)}_findOriginalError(t){let d=t&&A_(t);for(;d&&A_(d);)d=A_(d);return d||null}}const nw=new ei("",{providedIn:"root",factory:()=>!1});function Wf(e){return e instanceof Function?e():e}class sw extends te{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(t){this._lView=t}onConsumerDependencyMayHaveChanged(){Xg(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(t,d,n){const O=W(this);this.trackingVersion++;try{t(d,n)}finally{W(O)}}destroy(){this.trackingVersion++}}let X1=null;function lw(){return X1??=new sw,X1}function cw(e,t){return e[t]??lw()}function uw(e,t){const d=lw();d.hasReadASignal&&(e[t]=X1,d.lView=e,X1=new sw)}const Fi={};function yi(e){fw(di(),Tr(),_l()+e,!1)}function fw(e,t,d,n){if(!n)if(3==(3&t[hi])){const G=e.preOrderCheckHooks;null!==G&&fp(t,G,d)}else{const G=e.preOrderHooks;null!==G&&dp(t,G,0,d)}Ef(d)}function gw(e,t=null,d=null,n){const O=mw(e,t,d,n);return O.resolveInjectorInitializers(),O}function mw(e,t=null,d=null,n,O=new Set){const G=[d||Ui,B1(e)];return n=n||("object"==typeof e?void 0:vr(e)),new Uf(G,t||Xl(),n||null,O)}let _c=(()=>{var e;class t{static create(n,O){if(Array.isArray(n))return gw({name:""},O,n,"");{const G=n.name??"";return gw({name:G},n.parent,n.providers,G)}}}return(e=t).THROW_IF_NOT_FOUND=Ja,e.NULL=new Ng,e.\u0275prov=tr({token:e,providedIn:"any",factory:()=>Vr(Dd)}),e.__NG_ELEMENT_ID__=-1,t})();function Gn(e,t=fi.Default){const d=Tr();return null===d?Vr(e,t):fg(is(),d,on(e),t)}function J1(e,t,d,n,O,G,le,Oe,He,et,yt){const Pt=t.blueprint.slice();return Pt[mo]=O,Pt[hi]=140|n,(null!==et||e&&2048&e[hi])&&(Pt[hi]|=2048),Yi(Pt),Pt[_i]=Pt[ya]=e,Pt[Oi]=d,Pt[Ho]=le||e&&e[Ho],Pt[pi]=Oe||e&&e[pi],Pt[ko]=He||e&&e[ko]||null,Pt[ji]=G,Pt[Gr]=function f_(){return E1++}(),Pt[_s]=yt,Pt[_a]=et,Pt[Qi]=2==t.type?e[Qi]:Pt,Pt}function u0(e,t,d,n,O){let G=e.data[t];if(null===G)G=function S_(e,t,d,n,O){const G=rp(),le=Sf(),He=e.data[t]=function VE(e,t,d,n,O,G){let le=t?t.injectorIndex:-1,Oe=0;return fa()&&(Oe|=128),{type:d,index:n,insertBeforeIndex:null,injectorIndex:le,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:Oe,providerIndexes:0,value:O,attrs:G,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,le?G:G&&G.parent,d,t,n,O);return null===e.firstChild&&(e.firstChild=He),null!==G&&(le?null==G.child&&null!==He.parent&&(G.child=He):null===G.next&&(G.next=He,He.prev=G)),He}(e,t,d,n,O),function Ll(){return Kr.lFrame.inI18n}()&&(G.flags|=32);else if(64&G.type){G.type=d,G.value=n,G.attrs=O;const le=function wu(){const e=Kr.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();G.injectorIndex=null===le?-1:le.injectorIndex}return yl(G,!0),G}function Jg(e,t,d,n){if(0===d)return-1;const O=t.length;for(let G=0;G<d;G++)t.push(n),e.blueprint.push(n),e.data.push(null);return O}function yw(e,t,d,n,O){const G=cw(t,Xs),le=_l(),Oe=2&n;try{if(Ef(-1),Oe&&t.length>bi&&fw(e,t,bi,!1),Xn(Oe?2:0,O),Oe)G.runInContext(d,n,O);else{const et=W(null);try{d(n,O)}finally{W(et)}}}finally{Oe&&null===t[Xs]&&uw(t,Xs),Ef(le),Xn(Oe?3:1,O)}}function k_(e,t,d){if(fl(t)){const n=W(null);try{const G=t.directiveEnd;for(let le=t.directiveStart;le<G;le++){const Oe=e.data[le];Oe.contentQueries&&Oe.contentQueries(1,d[le],le)}}finally{W(n)}}}function E_(e,t,d){_o()&&(function YE(e,t,d,n){const O=d.directiveStart,G=d.directiveEnd;xs(d)&&function t6(e,t,d){const n=Rr(t,e),O=_w(d);let le=16;d.signals?le=4096:d.onPush&&(le=64);const Oe=K1(e,J1(e,O,null,le,n,t,null,e[Ho].rendererFactory.createRenderer(n,d),null,null,null));e[t.index]=Oe}(t,d,e.data[O+d.componentOffset]),e.firstCreatePass||_p(d,t),tl(n,t);const le=d.initialInputs;for(let Oe=O;Oe<G;Oe++){const He=e.data[Oe],et=mc(t,e,Oe,d);tl(et,t),null!==le&&n6(0,Oe-O,et,He,0,le),Si(He)&&(Or(d.index,t)[Oi]=mc(t,e,Oe,d))}}(e,t,d,Rr(d,t)),64==(64&d.flags)&&Mw(e,t,d))}function C_(e,t,d=Rr){const n=t.localNames;if(null!==n){let O=t.index+1;for(let G=0;G<n.length;G+=2){const le=n[G+1],Oe=-1===le?d(t,e):e[le];e[O++]=Oe}}}function _w(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=D_(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function D_(e,t,d,n,O,G,le,Oe,He,et,yt){const Pt=bi+n,Qt=Pt+O,cn=function LE(e,t){const d=[];for(let n=0;n<t;n++)d.push(n<e?null:Fi);return d}(Pt,Qt),Vn="function"==typeof et?et():et;return cn[Wr]={type:e,blueprint:cn,template:d,queries:null,viewQuery:Oe,declTNode:t,data:cn.slice().fill(null,Pt),bindingStartIndex:Pt,expandoStartIndex:Qt,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof G?G():G,pipeRegistry:"function"==typeof le?le():le,firstChild:null,schemas:He,consts:Vn,incompleteFirstPass:!1,ssrId:yt}}let xw=e=>null;function bw(e,t,d,n){for(let O in e)if(e.hasOwnProperty(O)){d=null===d?{}:d;const G=e[O];null===n?ww(d,t,O,G):n.hasOwnProperty(O)&&ww(d,t,n[O],G)}return d}function ww(e,t,d,n){e.hasOwnProperty(d)?e[d].push(t,n):e[d]=[t,n]}function O_(e,t,d,n){if(_o()){const O=null===n?null:{"":-1},G=function XE(e,t){const d=e.directiveRegistry;let n=null,O=null;if(d)for(let G=0;G<d.length;G++){const le=d[G];if(Ys(t,le.selectors,!1))if(n||(n=[]),Si(le))if(null!==le.findHostDirectiveDefs){const Oe=[];O=O||new Map,le.findHostDirectiveDefs(le,Oe,O),n.unshift(...Oe,le),I_(e,t,Oe.length)}else n.unshift(le),I_(e,t,0);else O=O||new Map,le.findHostDirectiveDefs?.(le,n,O),n.push(le)}return null===n?null:[n,O]}(e,d);let le,Oe;null===G?le=Oe=null:[le,Oe]=G,null!==le&&Tw(e,t,d,le,O,Oe),O&&function JE(e,t,d){if(t){const n=e.localNames=[];for(let O=0;O<t.length;O+=2){const G=d[t[O+1]];if(null==G)throw new bn(-301,!1);n.push(t[O],G)}}}(d,n,O)}d.mergedAttrs=Is(d.mergedAttrs,d.attrs)}function Tw(e,t,d,n,O,G){for(let et=0;et<n.length;et++)bp(_p(d,t),e,n[et].type);!function QE(e,t,d){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+d,e.providerIndexes=t}(d,e.data.length,n.length);for(let et=0;et<n.length;et++){const yt=n[et];yt.providersResolver&&yt.providersResolver(yt)}let le=!1,Oe=!1,He=Jg(e,t,n.length,null);for(let et=0;et<n.length;et++){const yt=n[et];d.mergedAttrs=Is(d.mergedAttrs,yt.hostAttrs),e6(e,d,t,He,yt),KE(He,yt,O),null!==yt.contentQueries&&(d.flags|=4),(null!==yt.hostBindings||null!==yt.hostAttrs||0!==yt.hostVars)&&(d.flags|=64);const Pt=yt.type.prototype;!le&&(Pt.ngOnChanges||Pt.ngOnInit||Pt.ngDoCheck)&&((e.preOrderHooks??=[]).push(d.index),le=!0),!Oe&&(Pt.ngOnChanges||Pt.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(d.index),Oe=!0),He++}!function UE(e,t,d){const O=t.directiveEnd,G=e.data,le=t.attrs,Oe=[];let He=null,et=null;for(let yt=t.directiveStart;yt<O;yt++){const Pt=G[yt],Qt=d?d.get(Pt):null,Vn=Qt?Qt.outputs:null;He=bw(Pt.inputs,yt,He,Qt?Qt.inputs:null),et=bw(Pt.outputs,yt,et,Vn);const Jn=null===He||null===le||vu(t)?null:r6(He,yt,le);Oe.push(Jn)}null!==He&&(He.hasOwnProperty("class")&&(t.flags|=8),He.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=Oe,t.inputs=He,t.outputs=et}(e,d,G)}function Mw(e,t,d){const n=d.directiveStart,O=d.directiveEnd,G=d.index,le=function Ny(){return Kr.lFrame.currentDirectiveIndex}();try{Ef(G);for(let Oe=n;Oe<O;Oe++){const He=e.data[Oe],et=t[Oe];od(Oe),(null!==He.hostBindings||0!==He.hostVars||null!==He.hostAttrs)&&ZE(He,et)}}finally{Ef(-1),od(le)}}function ZE(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function I_(e,t,d){t.componentOffset=d,(e.components??=[]).push(t.index)}function KE(e,t,d){if(d){if(t.exportAs)for(let n=0;n<t.exportAs.length;n++)d[t.exportAs[n]]=e;Si(t)&&(d[""]=e)}}function e6(e,t,d,n,O){e.data[n]=O;const G=O.factory||(O.factory=ts(O.type)),le=new nh(G,Si(O),Gn);e.blueprint[n]=le,d[n]=le,function WE(e,t,d,n,O){const G=O.hostBindings;if(G){let le=e.hostBindingOpCodes;null===le&&(le=e.hostBindingOpCodes=[]);const Oe=~t.index;(function $E(e){let t=e.length;for(;t>0;){const d=e[--t];if("number"==typeof d&&d<0)return d}return 0})(le)!=Oe&&le.push(Oe),le.push(d,n,G)}}(e,t,n,Jg(e,d,O.hostVars,Fi),O)}function hf(e,t,d,n,O,G){const le=Rr(e,t);!function P_(e,t,d,n,O,G,le){if(null==G)e.removeAttribute(t,O,d);else{const Oe=null==le?er(G):le(G,n||"",O);e.setAttribute(t,O,Oe,d)}}(t[pi],le,G,e.value,d,n,O)}function n6(e,t,d,n,O,G){const le=G[t];if(null!==le)for(let Oe=0;Oe<le.length;)Aw(n,d,le[Oe++],le[Oe++],le[Oe++])}function Aw(e,t,d,n,O){const G=W(null);try{const le=e.inputTransforms;null!==le&&le.hasOwnProperty(n)&&(O=le[n].call(t,O)),null!==e.setInput?e.setInput(t,O,d,n):t[n]=O}finally{W(G)}}function r6(e,t,d){let n=null,O=0;for(;O<d.length;){const G=d[O];if(0!==G)if(5!==G){if("number"==typeof G)break;if(e.hasOwnProperty(G)){null===n&&(n=[]);const le=e[G];for(let Oe=0;Oe<le.length;Oe+=2)if(le[Oe]===t){n.push(G,le[Oe+1],d[O+1]);break}}O+=2}else O+=2;else O+=4}return n}function Sw(e,t,d,n){return[e,!0,!1,t,null,0,n,d,null,null,null]}function kw(e,t){const d=e.contentQueries;if(null!==d)for(let n=0;n<d.length;n+=2){const G=d[n+1];if(-1!==G){const le=e.data[G];eg(d[n]),le.contentQueries(2,t[G],G)}}}function K1(e,t){return e[Wa]?e[sa][Ma]=t:e[Wa]=t,e[sa]=t,t}function R_(e,t,d){eg(0);const n=W(null);try{t(e,d)}finally{W(n)}}function L_(e,t,d,n,O){for(let G=0;G<d.length;){const le=d[G++],Oe=d[G++];Aw(e.data[le],t[le],n,Oe,O)}}function i6(e,t){const d=Or(t,e),n=d[Wr];!function o6(e,t){for(let d=t.length;d<e.blueprint.length;d++)t.push(e.blueprint[d])}(n,d);const O=d[mo];null!==O&&null===d[_s]&&(d[_s]=zd(O,d[ko])),N_(n,d,d[Oi])}function N_(e,t,d){ap(t);try{const n=e.viewQuery;null!==n&&R_(1,n,d);const O=e.template;null!==O&&yw(e,t,O,1,d),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&kw(e,t),e.staticViewQueries&&R_(2,e.viewQuery,d);const G=e.components;null!==G&&function a6(e,t){for(let d=0;d<t.length;d++)i6(e,t[d])}(t,G)}catch(n){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),n}finally{t[hi]&=-5,Ts()}}let Iw=(()=>{var e;class t{constructor(){this.all=new Set,this.queue=new Map}create(n,O,G){const le=typeof Zone>"u"?null:Zone.current,Oe=new jt(n,yt=>{this.all.has(yt)&&this.queue.set(yt,le)},G);let He;this.all.add(Oe),Oe.notify();const et=()=>{Oe.cleanup(),He?.(),this.all.delete(Oe),this.queue.delete(Oe)};return He=O?.onDestroy(et),{destroy:et}}flush(){if(0!==this.queue.size)for(const[n,O]of this.queue)this.queue.delete(n),O?O.run(()=>n.run()):n.run()}get isQueueEmpty(){return 0===this.queue.size}}return(e=t).\u0275prov=tr({token:e,providedIn:"root",factory:()=>new e}),t})();function Q1(e,t,d){let n=d?e.styles:null,O=d?e.classes:null,G=0;if(null!==t)for(let le=0;le<t.length;le++){const Oe=t[le];"number"==typeof Oe?G=Oe:1==G?O=mr(O,Oe):2==G&&(n=mr(n,Oe+": "+t[++le]+";"))}d?e.styles=n:e.stylesWithoutHost=n,d?e.classes=O:e.classesWithoutHost=O}function Kg(e,t,d,n,O=!1){for(;null!==d;){const G=t[d.index];if(null!==G&&n.push(wr(G)),$i(G)){for(let Oe=fo;Oe<G.length;Oe++){const He=G[Oe],et=He[Wr].firstChild;null!==et&&Kg(He[Wr],He,et,n)}G[Qa]!==G[mo]&&n.push(G[Qa])}const le=d.type;if(8&le)Kg(e,t,d.child,n);else if(32&le){const Oe=Rp(d,t);let He;for(;He=Oe();)n.push(He)}else if(16&le){const Oe=Ct(t,d);if(Array.isArray(Oe))n.push(...Oe);else{const He=Rc(t[Qi]);Kg(He[Wr],He,Oe,n,!0)}}d=O?d.projectionNext:d.next}return n}function ev(e,t,d,n=!0){const O=t[Ho].rendererFactory;O.begin&&O.begin();try{Pw(e,t,e.template,d)}catch(le){throw n&&function Ow(e,t){const d=e[ko],n=d?d.get(Eh,null):null;n&&n.handleError(t)}(t,le),le}finally{O.end&&O.end(),t[Ho].effectManager?.flush()}}function Pw(e,t,d,n){const O=t[hi];if(256!=(256&O)){t[Ho].effectManager?.flush(),ap(t);try{Yi(t),function eh(e){return Kr.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==d&&yw(e,t,d,2,n);const le=3==(3&O);if(le){const et=e.preOrderCheckHooks;null!==et&&fp(t,et,null)}else{const et=e.preOrderHooks;null!==et&&dp(t,et,0,null),og(t,0)}if(function f6(e){for(let t=Cg(e);null!==t;t=xa(t)){if(!t[Ul])continue;const d=t[Va];for(let n=0;n<d.length;n++){vo(d[n])}}}(t),Rw(t,2),null!==e.contentQueries&&kw(e,t),le){const et=e.contentCheckHooks;null!==et&&fp(t,et)}else{const et=e.contentHooks;null!==et&&dp(t,et,1),og(t,1)}!function RE(e,t){const d=e.hostBindingOpCodes;if(null===d)return;const n=cw(t,Js);try{for(let O=0;O<d.length;O++){const G=d[O];if(G<0)Ef(~G);else{const le=G,Oe=d[++O],He=d[++O];l1(Oe,le),n.runInContext(He,2,t[le])}}}finally{null===t[Js]&&uw(t,Js),Ef(-1)}}(e,t);const Oe=e.components;null!==Oe&&Nw(t,Oe,0);const He=e.viewQuery;if(null!==He&&R_(2,He,n),le){const et=e.viewCheckHooks;null!==et&&fp(t,et)}else{const et=e.viewHooks;null!==et&&dp(t,et,2),og(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[hi]&=-73,ho(t)}finally{Ts()}}}function Rw(e,t){for(let d=Cg(e);null!==d;d=xa(d))for(let n=fo;n<d.length;n++)Lw(d[n],t)}function d6(e,t,d){Lw(Or(t,e),d)}function Lw(e,t){if(!function ri(e){return 128==(128&e[hi])}(e))return;const d=e[Wr];if(80&e[hi]&&0===t||1024&e[hi]||2===t)Pw(d,e,d.template,e[Oi]);else if(e[Rs]>0){Rw(e,1);const O=e[Wr].components;null!==O&&Nw(e,O,1)}}function Nw(e,t,d){for(let n=0;n<t.length;n++)d6(e,t[n],d)}class Qg{get rootNodes(){const t=this._lView,d=t[Wr];return Kg(d,t,d.firstChild,[])}constructor(t,d){this._lView=t,this._cdRefInjectingView=d,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Oi]}set context(t){this._lView[Oi]=t}get destroyed(){return 256==(256&this._lView[hi])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[_i];if($i(t)){const d=t[8],n=d?d.indexOf(this):-1;n>-1&&(Lc(t,n),ah(d,n))}this._attachedToViewContainer=!1}gh(this._lView[Wr],this._lView)}onDestroy(t){!function Do(e,t){if(256==(256&e[hi]))throw new bn(911,!1);null===e[ys]&&(e[ys]=[]),e[ys].push(t)}(this._lView,t)}markForCheck(){Xg(this._cdRefInjectingView||this._lView)}detach(){this._lView[hi]&=-129}reattach(){this._lView[hi]|=128}detectChanges(){ev(this._lView[Wr],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new bn(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Ff(e,t){gn(e,t,t[pi],2,null,null)}(this._lView[Wr],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new bn(902,!1);this._appRef=t}}class h6 extends Qg{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;ev(t[Wr],t,t[Oi],!1)}checkNoChanges(){}get context(){return null}}class Fw extends Y1{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const d=Ei(t);return new em(d,this.ngModule)}}function zw(e){const t=[];for(let d in e)e.hasOwnProperty(d)&&t.push({propName:e[d],templateName:d});return t}class g6{constructor(t,d){this.injector=t,this.parentInjector=d}get(t,d,n){n=Mc(n);const O=this.injector.get(t,M_,n);return O!==M_||d===M_?O:this.parentInjector.get(t,d,n)}}class em extends Vc{get inputs(){const t=this.componentDef,d=t.inputTransforms,n=zw(t.inputs);if(null!==d)for(const O of n)d.hasOwnProperty(O.propName)&&(O.transform=d[O.propName]);return n}get outputs(){return zw(this.componentDef.outputs)}constructor(t,d){super(),this.componentDef=t,this.ngModule=d,this.componentType=t.type,this.selector=function Jc(e){return e.map(Ju).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!d}create(t,d,n,O){let G=(O=O||this.ngModule)instanceof bl?O:O?.injector;G&&null!==this.componentDef.getStandaloneInjector&&(G=this.componentDef.getStandaloneInjector(G)||G);const le=G?new g6(t,G):t,Oe=le.get(T_,null);if(null===Oe)throw new bn(407,!1);const yt={rendererFactory:Oe,sanitizer:le.get(_E,null),effectManager:le.get(Iw,null)},Pt=Oe.createRenderer(null,this.componentDef),Qt=this.componentDef.selectors[0][0]||"div",cn=n?function NE(e,t,d,n){const G=n.get(nw,!1)||d===ja.ShadowDom,le=e.selectRootElement(t,G);return function FE(e){xw(e)}(le),le}(Pt,n,this.componentDef.encapsulation,le):ph(Pt,Qt,function p6(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(Qt)),Kn=this.componentDef.signals?4608:this.componentDef.onPush?576:528,pr=D_(0,null,null,1,0,null,null,null,null,null,null),nr=J1(null,pr,null,Kn,null,null,yt,Pt,le,null,null);let $r,Nr;ap(nr);try{const Zr=this.componentDef;let Mi,So=null;Zr.findHostDirectiveDefs?(Mi=[],So=new Map,Zr.findHostDirectiveDefs(Zr,Mi,So),Mi.push(Zr)):Mi=[Zr];const Ko=function v6(e,t){const d=e[Wr],n=bi;return e[n]=t,u0(d,n,2,"#host",null)}(nr,cn),vs=function y6(e,t,d,n,O,G,le){const Oe=O[Wr];!function _6(e,t,d,n){for(const O of e)t.mergedAttrs=Is(t.mergedAttrs,O.hostAttrs);null!==t.mergedAttrs&&(Q1(t,t.mergedAttrs,!0),null!==d&&gr(n,d,t))}(n,e,t,le);let He=null;null!==t&&(He=zd(t,O[ko]));const et=G.rendererFactory.createRenderer(t,d);let yt=16;d.signals?yt=4096:d.onPush&&(yt=64);const Pt=J1(O,_w(d),null,yt,O[e.index],e,G,et,null,null,He);return Oe.firstCreatePass&&I_(Oe,e,n.length-1),K1(O,Pt),O[e.index]=Pt}(Ko,cn,Zr,Mi,nr,yt,Pt);Nr=ar(pr,bi),cn&&function b6(e,t,d,n){if(n)cs(e,d,["ng-version",xE.full]);else{const{attrs:O,classes:G}=function Ol(e){const t=[],d=[];let n=1,O=2;for(;n<e.length;){let G=e[n];if("string"==typeof G)2===O?""!==G&&t.push(G,e[++n]):8===O&&d.push(G);else{if(!qa(O))break;O=G}n++}return{attrs:t,classes:d}}(t.selectors[0]);O&&cs(e,d,O),G&&G.length>0&&lr(e,d,G.join(" "))}}(Pt,Zr,cn,n),void 0!==d&&function w6(e,t,d){const n=e.projection=[];for(let O=0;O<t.length;O++){const G=d[O];n.push(null!=G?Array.from(G):null)}}(Nr,this.ngContentSelectors,d),$r=function x6(e,t,d,n,O,G){const le=is(),Oe=O[Wr],He=Rr(le,O);Tw(Oe,O,le,d,null,n);for(let yt=0;yt<d.length;yt++)tl(mc(O,Oe,le.directiveStart+yt,le),O);Mw(Oe,O,le),He&&tl(He,O);const et=mc(O,Oe,le.directiveStart+le.componentOffset,le);if(e[Oi]=O[Oi]=et,null!==G)for(const yt of G)yt(et,t);return k_(Oe,le,e),et}(vs,Zr,Mi,So,nr,[T6]),N_(pr,nr,null)}finally{Ts()}return new m6(this.componentType,$r,l0(Nr,nr),nr,Nr)}}class m6 extends w_{constructor(t,d,n,O,G){super(),this.location=n,this._rootLView=O,this._tNode=G,this.previousInputValues=null,this.instance=d,this.hostView=this.changeDetectorRef=new h6(O),this.componentType=t}setInput(t,d){const n=this._tNode.inputs;let O;if(null!==n&&(O=n[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),d))return;const G=this._rootLView;L_(G[Wr],G,O,t,d),this.previousInputValues.set(t,d),Xg(Or(this._tNode.index,G))}}get injector(){return new el(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function T6(){const e=is();up(Tr()[Wr],e)}function nv(e){return!!F_(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function F_(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function zl(e,t,d){return!Object.is(e[t],d)&&(e[t]=d,!0)}function Bo(e,t,d,n){const O=Tr();return zl(O,id(),t)&&(di(),hf(Da(),O,e,t,d,n)),Bo}let n3=function r3(e,t,d,n){return ef(!0),t[pi].createComment("")};function ci(e,t,d){const n=Tr();return zl(n,id(),t)&&function Hc(e,t,d,n,O,G,le,Oe){const He=Rr(t,d);let yt,et=t.inputs;!Oe&&null!=et&&(yt=et[n])?(L_(e,d,yt,n,O),xs(t)&&function GE(e,t){const d=Or(t,e);16&d[hi]||(d[hi]|=64)}(d,t.index)):3&t.type&&(n=function HE(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(n),O=null!=le?le(O,t.value||"",n):O,G.setProperty(He,n,O))}(di(),Da(),n,e,t,n[pi],d,!1),ci}function H_(e,t,d,n,O){const le=O?"class":"style";L_(e,d,t.inputs[le],le,n)}function zi(e,t,d,n){const O=Tr(),G=di(),le=bi+e,Oe=O[pi],He=G.firstCreatePass?function t8(e,t,d,n,O,G){const le=t.consts,He=u0(t,e,2,n,Ti(le,O));return O_(t,d,He,Ti(le,G)),null!==He.attrs&&Q1(He,He.attrs,!1),null!==He.mergedAttrs&&Q1(He,He.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,He),He}(le,G,O,t,d,n):G.data[le],et=i3(G,O,He,Oe,t,e);O[le]=et;const yt=Go(He);return yl(He,!0),gr(Oe,et,He),32!=(32&He.flags)&&Qu()&&at(G,O,et,He),0===function Ci(){return Kr.lFrame.elementDepthCount}()&&tl(et,O),function yo(){Kr.lFrame.elementDepthCount++}(),yt&&(E_(G,O,He),k_(G,He,O)),null!==n&&C_(O,He),zi}function Bi(){let e=is();Sf()?Tu():(e=e.parent,yl(e,!1));const t=e;(function Oo(e){return Kr.skipHydrationRootTNode===e})(t)&&function ws(){Kr.skipHydrationRootTNode=null}(),function lo(){Kr.lFrame.elementDepthCount--}();const d=di();return d.firstCreatePass&&(up(d,e),fl(e)&&d.queries.elementEnd(e)),null!=t.classesWithoutHost&&function gp(e){return 0!=(8&e.flags)}(t)&&H_(d,t,Tr(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function rh(e){return 0!=(16&e.flags)}(t)&&H_(d,t,Tr(),t.stylesWithoutHost,!1),Bi}function ou(e,t,d,n){return zi(e,t,d,n),Bi(),ou}let i3=(e,t,d,n,O,G)=>(ef(!0),ph(n,O,function ig(){return Kr.lFrame.currentNamespace}()));function am(e){return!!e&&"function"==typeof e.then}function s3(e){return!!e&&"function"==typeof e.subscribe}function l8(e,t){let d=null;const n=function Dl(e){const t=e.attrs;if(null!=t){const d=t.indexOf(5);if(!(1&d))return t[d+1]}return null}(e);for(let O=0;O<t.length;O++){const G=t[O];if("*"!==G){if(null===n?Ys(e,G,!0):Ps(n,G))return O}else d=O}return d}function W_(e){const t=Tr()[Qi][ji];if(!t.projection){const n=t.projection=$l(e?e.length:1,null),O=n.slice();let G=t.child;for(;null!==G;){const le=e?l8(G,e):0;null!==le&&(O[le]?O[le].projectionNext=G:n[le]=G,O[le]=G),G=G.next}}}function $_(e,t=0,d){const n=Tr(),O=di(),G=u0(O,bi+e,16,null,d||null);null===G.projection&&(G.projection=t),Tu(),(!n[_s]||fa())&&32!=(32&G.flags)&&function xn(e,t,d){Fn(t[pi],0,t,d,Nc(e,d,t),Q(d.parent||t[ji],d,t))}(O,n,G)}function lv(e,t){return e<<17|t<<2}function Bd(e){return e>>17&32767}function Z_(e){return 2|e}function Dh(e){return(131068&e)>>2}function X_(e,t){return-131069&e|t<<2}function J_(e){return 1|e}function x3(e,t,d,n,O){const G=e[d+1],le=null===t;let Oe=n?Bd(G):Dh(G),He=!1;for(;0!==Oe&&(!1===He||le);){const yt=e[Oe+1];p8(e[Oe],t)&&(He=!0,e[Oe+1]=n?J_(yt):Z_(yt)),Oe=n?Bd(yt):Dh(yt)}He&&(e[d+1]=n?Z_(G):J_(G))}function p8(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&gd(e,t)>=0}const js={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function b3(e){return e.substring(js.key,js.keyEnd)}function w3(e,t){const d=js.textEnd;return d===t?-1:(t=js.keyEnd=function y8(e,t,d){for(;t<d&&e.charCodeAt(t)>32;)t++;return t}(e,js.key=t,d),x0(e,t,d))}function x0(e,t,d){for(;t<d&&e.charCodeAt(t)<=32;)t++;return t}function Ro(e,t){return function Iu(e,t,d,n){const O=Tr(),G=di(),le=Mu(2);G.firstUpdatePass&&C3(G,e,le,n),t!==Fi&&zl(O,le,t)&&O3(G,G.data[_l()],O,O[pi],e,O[le+1]=function C8(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=vr($o(e)))),e}(t,d),n,le)}(e,t,null,!0),Ro}function Oh(e){!function Pu(e,t,d,n){const O=di(),G=Mu(2);O.firstUpdatePass&&C3(O,null,G,n);const le=Tr();if(d!==Fi&&zl(le,G,d)){const Oe=O.data[_l()];if(P3(Oe,n)&&!E3(O,G)){let He=n?Oe.classesWithoutHost:Oe.stylesWithoutHost;null!==He&&(d=mr(He,d||"")),H_(O,Oe,le,d,n)}else!function E8(e,t,d,n,O,G,le,Oe){O===Fi&&(O=Ui);let He=0,et=0,yt=0<O.length?O[0]:null,Pt=0<G.length?G[0]:null;for(;null!==yt||null!==Pt;){const Qt=He<O.length?O[He+1]:void 0,cn=et<G.length?G[et+1]:void 0;let Jn,Vn=null;yt===Pt?(He+=2,et+=2,Qt!==cn&&(Vn=Pt,Jn=cn)):null===Pt||null!==yt&&yt<Pt?(He+=2,Vn=yt):(et+=2,Vn=Pt,Jn=cn),null!==Vn&&O3(e,t,d,n,Vn,Jn,le,Oe),yt=He<O.length?O[He]:null,Pt=et<G.length?G[et]:null}}(O,Oe,le,le[pi],le[G+1],le[G+1]=function S8(e,t,d){if(null==d||""===d)return Ui;const n=[],O=$o(d);if(Array.isArray(O))for(let G=0;G<O.length;G++)e(n,O[G],!0);else if("object"==typeof O)for(const G in O)O.hasOwnProperty(G)&&e(n,G,O[G]);else"string"==typeof O&&t(n,O);return n}(e,t,d),n,G)}}(k8,yf,e,!0)}function yf(e,t){for(let d=function m8(e){return function M3(e){js.key=0,js.keyEnd=0,js.value=0,js.valueEnd=0,js.textEnd=e.length}(e),w3(e,x0(e,0,js.textEnd))}(t);d>=0;d=w3(t,d))Yl(e,b3(t),!0)}function E3(e,t){return t>=e.expandoStartIndex}function C3(e,t,d,n){const O=e.data;if(null===O[d+1]){const G=O[_l()],le=E3(e,d);P3(G,n)&&null===t&&!le&&(t=!1),t=function w8(e,t,d,n){const O=function Q0(e){const t=Kr.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let G=n?t.residualClasses:t.residualStyles;if(null===O)0===(n?t.classBindings:t.styleBindings)&&(d=sm(d=K_(null,e,t,d,n),t.attrs,n),G=null);else{const le=t.directiveStylingLast;if(-1===le||e[le]!==O)if(d=K_(O,e,t,d,n),null===G){let He=function T8(e,t,d){const n=d?t.classBindings:t.styleBindings;if(0!==Dh(n))return e[Bd(n)]}(e,t,n);void 0!==He&&Array.isArray(He)&&(He=K_(null,e,t,He[1],n),He=sm(He,t.attrs,n),function M8(e,t,d,n){e[Bd(d?t.classBindings:t.styleBindings)]=n}(e,t,n,He))}else G=function A8(e,t,d){let n;const O=t.directiveEnd;for(let G=1+t.directiveStylingLast;G<O;G++)n=sm(n,e[G].hostAttrs,d);return sm(n,t.attrs,d)}(e,t,n)}return void 0!==G&&(n?t.residualClasses=G:t.residualStyles=G),d}(O,G,t,n),function d8(e,t,d,n,O,G){let le=G?t.classBindings:t.styleBindings,Oe=Bd(le),He=Dh(le);e[n]=d;let yt,et=!1;if(Array.isArray(d)?(yt=d[1],(null===yt||gd(d,yt)>0)&&(et=!0)):yt=d,O)if(0!==He){const Qt=Bd(e[Oe+1]);e[n+1]=lv(Qt,Oe),0!==Qt&&(e[Qt+1]=X_(e[Qt+1],n)),e[Oe+1]=function u8(e,t){return 131071&e|t<<17}(e[Oe+1],n)}else e[n+1]=lv(Oe,0),0!==Oe&&(e[Oe+1]=X_(e[Oe+1],n)),Oe=n;else e[n+1]=lv(He,0),0===Oe?Oe=n:e[He+1]=X_(e[He+1],n),He=n;et&&(e[n+1]=Z_(e[n+1])),x3(e,yt,n,!0),x3(e,yt,n,!1),function h8(e,t,d,n,O){const G=O?e.residualClasses:e.residualStyles;null!=G&&"string"==typeof t&&gd(G,t)>=0&&(d[n+1]=J_(d[n+1]))}(t,yt,e,n,G),le=lv(Oe,He),G?t.classBindings=le:t.styleBindings=le}(O,G,t,d,le,n)}}function K_(e,t,d,n,O){let G=null;const le=d.directiveEnd;let Oe=d.directiveStylingLast;for(-1===Oe?Oe=d.directiveStart:Oe++;Oe<le&&(G=t[Oe],n=sm(n,G.hostAttrs,O),G!==e);)Oe++;return null!==e&&(d.directiveStylingLast=Oe),n}function sm(e,t,d){const n=d?1:2;let O=-1;if(null!==t)for(let G=0;G<t.length;G++){const le=t[G];"number"==typeof le?O=le:O===n&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Yl(e,le,!!d||t[++G]))}return void 0===e?null:e}function k8(e,t,d){const n=String(t);""!==n&&!n.includes(" ")&&Yl(e,n,d)}function O3(e,t,d,n,O,G,le,Oe){if(!(3&t.type))return;const He=e.data,et=He[Oe+1],yt=function f8(e){return 1==(1&e)}(et)?I3(He,t,d,O,Dh(et),le):void 0;cv(yt)||(cv(G)||function c8(e){return 2==(2&e)}(et)&&(G=I3(He,null,d,O,Oe,le)),function $n(e,t,d,n,O){if(t)O?e.addClass(d,n):e.removeClass(d,n);else{let G=-1===n.indexOf("-")?void 0:Qc.DashCase;null==O?e.removeStyle(d,n,G):("string"==typeof O&&O.endsWith("!important")&&(O=O.slice(0,-10),G|=Qc.Important),e.setStyle(d,n,O,G))}}(n,le,function Ir(e,t){return wr(t[e])}(_l(),d),O,G))}function I3(e,t,d,n,O,G){const le=null===t;let Oe;for(;O>0;){const He=e[O],et=Array.isArray(He),yt=et?He[1]:He,Pt=null===yt;let Qt=d[O+1];Qt===Fi&&(Qt=Pt?Ui:void 0);let cn=Pt?vg(Qt,n):yt===n?Qt:void 0;if(et&&!cv(cn)&&(cn=vg(He,n)),cv(cn)&&(Oe=cn,le))return Oe;const Vn=e[O+1];O=le?Bd(Vn):Dh(Vn)}if(null!==t){let He=G?t.residualClasses:t.residualStyles;null!=He&&(Oe=vg(He,n))}return Oe}function cv(e){return void 0!==e}function P3(e,t){return 0!=(e.flags&(t?8:16))}const T0="en-US";let tT=T0;function tx(e,t,d,n,O){if(e=on(e),Array.isArray(e))for(let G=0;G<e.length;G++)tx(e[G],t,d,n,O);else{const G=di(),le=Tr();let Oe=Bs(e)?e:on(e.provide),He=jg(e);const et=is(),yt=1048575&et.providerIndexes,Pt=et.directiveStart,Qt=et.providerIndexes>>20;if(Bs(e)||!e.multi){const cn=new nh(He,O,Gn),Vn=rx(Oe,t,O?yt:yt+Qt,Pt);-1===Vn?(bp(_p(et,le),G,Oe),nx(G,e,t.length),t.push(Oe),et.directiveStart++,et.directiveEnd++,O&&(et.providerIndexes+=1048576),d.push(cn),le.push(cn)):(d[Vn]=cn,le[Vn]=cn)}else{const cn=rx(Oe,t,yt+Qt,Pt),Vn=rx(Oe,t,yt,yt+Qt),Kn=Vn>=0&&d[Vn];if(O&&!Kn||!O&&!(cn>=0&&d[cn])){bp(_p(et,le),G,Oe);const pr=function YC(e,t,d,n,O){const G=new nh(e,d,Gn);return G.multi=[],G.index=t,G.componentProviders=0,ST(G,O,n&&!d),G}(O?$C:WC,d.length,O,n,He);!O&&Kn&&(d[Vn].providerFactory=pr),nx(G,e,t.length,0),t.push(Oe),et.directiveStart++,et.directiveEnd++,O&&(et.providerIndexes+=1048576),d.push(pr),le.push(pr)}else nx(G,e,cn>-1?cn:Vn,ST(d[O?Vn:cn],He,!O&&n));!O&&n&&Kn&&d[Vn].componentProviders++}}}function nx(e,t,d,n){const O=Bs(t),G=function v_(e){return!!e.useClass}(t);if(O||G){const He=(G?on(t.useClass):t).prototype.ngOnDestroy;if(He){const et=e.destroyHooks||(e.destroyHooks=[]);if(!O&&t.multi){const yt=et.indexOf(d);-1===yt?et.push(d,[n,He]):et[yt+1].push(n,He)}else et.push(d,He)}}}function ST(e,t,d){return d&&e.componentProviders++,e.multi.push(t)-1}function rx(e,t,d,n){for(let O=d;O<n;O++)if(t[O]===e)return O;return-1}function WC(e,t,d,n){return ix(this.multi,[])}function $C(e,t,d,n){const O=this.multi;let G;if(this.providerFactory){const le=this.providerFactory.componentProviders,Oe=mc(d,d[Wr],this.providerFactory.index,n);G=Oe.slice(0,le),ix(O,G);for(let He=le;He<Oe.length;He++)G.push(Oe[He])}else G=[],ix(O,G);return G}function ix(e,t){for(let d=0;d<e.length;d++)t.push((0,e[d])());return t}function pa(e,t=[]){return d=>{d.providersResolver=(n,O)=>function qC(e,t,d){const n=di();if(n.firstCreatePass){const O=Si(e);tx(d,n.data,n.blueprint,O,!0),tx(t,n.data,n.blueprint,O,!1)}}(n,O?O(e):e,t)}}class M0{}class kT{}class ox extends M0{constructor(t,d,n){super(),this._parent=d,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Fw(this);const O=aa(t);this._bootstrapComponents=Wf(O.bootstrap),this._r3Injector=mw(t,d,[{provide:M0,useValue:this},{provide:Y1,useValue:this.componentFactoryResolver},...n],vr(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(d=>d()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class ax extends kT{constructor(t){super(),this.moduleType=t}create(t){return new ox(this.moduleType,t,[])}}class ET extends M0{constructor(t){super(),this.componentFactoryResolver=new Fw(this),this.instance=null;const d=new Uf([...t.providers,{provide:M0,useValue:this},{provide:Y1,useValue:this.componentFactoryResolver}],t.parent||Xl(),t.debugName,new Set(["environment"]));this.injector=d,t.runEnvironmentInitializers&&d.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function sx(e,t,d=null){return new ET({providers:e,parent:t,debugName:d,runEnvironmentInitializers:!0}).injector}let JC=(()=>{var e;class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const O=Wp(0,n.type),G=O.length>0?sx([O],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,G)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}}return(e=t).\u0275prov=tr({token:e,providedIn:"environment",factory:()=>new e(Vr(bl))}),t})();function lu(e){e.getStandaloneInjector=t=>t.get(JC).getOrCreateStandaloneInjector(e)}function ux(e){return t=>{setTimeout(e,void 0,t)}}const zr=class xD extends Y{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,d,n){let O=t,G=d||(()=>null),le=n;if(t&&"object"==typeof t){const He=t;O=He.next?.bind(He),G=He.error?.bind(He),le=He.complete?.bind(He)}this.__isAsync&&(G=ux(G),O&&(O=ux(O)),le&&(le=ux(le)));const Oe=super.subscribe({next:O,error:G,complete:le});return t instanceof I&&t.add(Oe),Oe}};function bD(){return this._results[Symbol.iterator]()}class fx{get changes(){return this._changes||(this._changes=new zr)}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const d=fx.prototype;d[Symbol.iterator]||(d[Symbol.iterator]=bD)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,d){return this._results.reduce(t,d)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,d){const n=this;n.dirty=!1;const O=function Ni(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function Mp(e,t,d){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++){let O=e[n],G=t[n];if(d&&(O=d(O),G=d(G)),G!==O)return!1}return!0}(n._results,O,d))&&(n._results=O,n.length=O.length,n.last=O[this.length-1],n.first=O[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Za=(()=>{class t{}return t.__NG_ELEMENT_ID__=MD,t})();const wD=Za,TD=class extends wD{constructor(t,d,n){super(),this._declarationLView=t,this._declarationTContainer=d,this.elementRef=n}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,d){return this.createEmbeddedViewImpl(t,d,null)}createEmbeddedViewImpl(t,d,n){const le=this._declarationTContainer.tView,Oe=J1(this._declarationLView,le,t,4096&this._declarationLView[hi]?4096:16,null,le.declTNode,null,null,null,d||null,n||null);Oe[Rl]=this._declarationLView[this._declarationTContainer.index];const et=this._declarationLView[uo];return null!==et&&(Oe[uo]=et.createEmbeddedView(le)),N_(le,Oe,t),new Qg(Oe)}};function MD(){return pv(is(),Tr())}function pv(e,t){return 4&e.type?new TD(t,e,l0(e,t)):null}let cu=(()=>{class t{}return t.__NG_ELEMENT_ID__=OD,t})();function OD(){return qT(is(),Tr())}const ID=cu,HT=class extends ID{constructor(t,d,n){super(),this._lContainer=t,this._hostTNode=d,this._hostLView=n}get element(){return l0(this._hostTNode,this._hostLView)}get injector(){return new el(this._hostTNode,this._hostLView)}get parentInjector(){const t=xp(this._hostTNode,this._hostLView);if(ad(t)){const d=mp(t,this._hostLView),n=sd(t);return new el(d[Wr].data[n+8],d)}return new el(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const d=GT(this._lContainer);return null!==d&&d[t]||null}get length(){return this._lContainer.length-fo}createEmbeddedView(t,d,n){let O,G;"number"==typeof n?O=n:null!=n&&(O=n.index,G=n.injector);const Oe=t.createEmbeddedViewImpl(d||{},G,null);return this.insertImpl(Oe,O,false),Oe}createComponent(t,d,n,O,G){const le=t&&!function hd(e){return"function"==typeof e}(t);let Oe;if(le)Oe=d;else{const Jn=d||{};Oe=Jn.index,n=Jn.injector,O=Jn.projectableNodes,G=Jn.environmentInjector||Jn.ngModuleRef}const He=le?t:new em(Ei(t)),et=n||this.parentInjector;if(!G&&null==He.ngModule){const Kn=(le?et:this.parentInjector).get(bl,null);Kn&&(G=Kn)}Ei(He.componentType??{});const cn=He.create(et,O,null,G);return this.insertImpl(cn.hostView,Oe,false),cn}insert(t,d){return this.insertImpl(t,d,!1)}insertImpl(t,d,n){const O=t._lView,G=O[Wr];if(function gi(e){return $i(e[_i])}(O)){const He=this.indexOf(t);if(-1!==He)this.detach(He);else{const et=O[_i],yt=new HT(et,et[ji],et[_i]);yt.detach(yt.indexOf(t))}}const le=this._adjustIndex(d),Oe=this._lContainer;if(function F1(e,t,d,n){const O=fo+n,G=d.length;n>0&&(d[O-1][Ma]=t),n<G-fo?(t[Ma]=d[O],mg(d,fo+n,t)):(d.push(t),t[Ma]=null),t[_i]=d;const le=t[Rl];null!==le&&d!==le&&function Ia(e,t){const d=e[Va];t[Qi]!==t[_i][_i][Qi]&&(e[Ul]=!0),null===d?e[Va]=[t]:d.push(t)}(le,t);const Oe=t[uo];null!==Oe&&Oe.insertView(e),t[hi]|=128}(G,O,Oe,le),!n){const He=Ot(le,Oe),et=O[pi],yt=D(et,Oe[Qa]);null!==yt&&function Ig(e,t,d,n,O,G){n[mo]=O,n[ji]=t,gn(e,n,d,1,O,G)}(G,Oe[ji],et,O,yt,He)}return t.attachToViewContainerRef(),mg(hx(Oe),le,t),t}move(t,d){return this.insert(t,d)}indexOf(t){const d=GT(this._lContainer);return null!==d?d.indexOf(t):-1}remove(t){const d=this._adjustIndex(t,-1),n=Lc(this._lContainer,d);n&&(ah(hx(this._lContainer),d),gh(n[Wr],n))}detach(t){const d=this._adjustIndex(t,-1),n=Lc(this._lContainer,d);return n&&null!=ah(hx(this._lContainer),d)?new Qg(n):null}_adjustIndex(t,d=0){return t??this.length+d}};function GT(e){return e[8]}function hx(e){return e[8]||(e[8]=[])}function qT(e,t){let d;const n=t[e.index];return $i(n)?d=n:(d=Sw(n,t,null,e),t[e.index]=d,K1(t,d)),WT(d,t,e,n),new HT(d,e,t)}let WT=function $T(e,t,d,n){if(e[Qa])return;let O;O=8&d.type?wr(n):function PD(e,t){const d=e[pi],n=d.createComment(""),O=Rr(t,e);return sf(d,D(d,O),n,function F(e,t){return e.nextSibling(t)}(d,O),!1),n}(t,d),e[Qa]=O};class px{constructor(t){this.queryList=t,this.matches=null}clone(){return new px(this.queryList)}setDirty(){this.queryList.setDirty()}}class gx{constructor(t=[]){this.queries=t}createEmbeddedView(t){const d=t.queries;if(null!==d){const n=null!==t.contentQueries?t.contentQueries[0]:d.length,O=[];for(let G=0;G<n;G++){const le=d.getByIndex(G);O.push(this.queries[le.indexInDeclarationView].clone())}return new gx(O)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let d=0;d<this.queries.length;d++)null!==KT(t,d).matches&&this.queries[d].setDirty()}}class YT{constructor(t,d,n=null){this.predicate=t,this.flags=d,this.read=n}}class mx{constructor(t=[]){this.queries=t}elementStart(t,d){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,d)}elementEnd(t){for(let d=0;d<this.queries.length;d++)this.queries[d].elementEnd(t)}embeddedTView(t){let d=null;for(let n=0;n<this.length;n++){const O=null!==d?d.length:0,G=this.getByIndex(n).embeddedTView(t,O);G&&(G.indexInDeclarationView=n,null!==d?d.push(G):d=[G])}return null!==d?new mx(d):null}template(t,d){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,d)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class vx{constructor(t,d=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=d}elementStart(t,d){this.isApplyingToNode(d)&&this.matchTNode(t,d)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,d){this.elementStart(t,d)}embeddedTView(t,d){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,d),new vx(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const d=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==d;)n=n.parent;return d===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,d){const n=this.metadata.predicate;if(Array.isArray(n))for(let O=0;O<n.length;O++){const G=n[O];this.matchTNodeWithReadOption(t,d,ND(d,G)),this.matchTNodeWithReadOption(t,d,wp(d,t,G,!1,!1))}else n===Za?4&d.type&&this.matchTNodeWithReadOption(t,d,-1):this.matchTNodeWithReadOption(t,d,wp(d,t,n,!1,!1))}matchTNodeWithReadOption(t,d,n){if(null!==n){const O=this.metadata.read;if(null!==O)if(O===Yo||O===cu||O===Za&&4&d.type)this.addMatch(d.index,-2);else{const G=wp(d,t,O,!1,!1);null!==G&&this.addMatch(d.index,G)}else this.addMatch(d.index,n)}}addMatch(t,d){null===this.matches?this.matches=[t,d]:this.matches.push(t,d)}}function ND(e,t){const d=e.localNames;if(null!==d)for(let n=0;n<d.length;n+=2)if(d[n]===t)return d[n+1];return null}function zD(e,t,d,n){return-1===d?function FD(e,t){return 11&e.type?l0(e,t):4&e.type?pv(e,t):null}(t,e):-2===d?function BD(e,t,d){return d===Yo?l0(t,e):d===Za?pv(t,e):d===cu?qT(t,e):void 0}(e,t,n):mc(e,e[Wr],d,t)}function ZT(e,t,d,n){const O=t[uo].queries[n];if(null===O.matches){const G=e.data,le=d.matches,Oe=[];for(let He=0;He<le.length;He+=2){const et=le[He];Oe.push(et<0?null:zD(t,G[et],le[He+1],d.metadata.read))}O.matches=Oe}return O.matches}function yx(e,t,d,n){const O=e.queries.getByIndex(d),G=O.matches;if(null!==G){const le=ZT(e,t,O,d);for(let Oe=0;Oe<G.length;Oe+=2){const He=G[Oe];if(He>0)n.push(le[Oe/2]);else{const et=G[Oe+1],yt=t[-He];for(let Pt=fo;Pt<yt.length;Pt++){const Qt=yt[Pt];Qt[Rl]===Qt[_i]&&yx(Qt[Wr],Qt,et,n)}if(null!==yt[Va]){const Pt=yt[Va];for(let Qt=0;Qt<Pt.length;Qt++){const cn=Pt[Qt];yx(cn[Wr],cn,et,n)}}}}}return n}function Xo(e){const t=Tr(),d=di(),n=th();eg(n+1);const O=KT(d,n);if(e.dirty&&function qr(e){return 4==(4&e[hi])}(t)===(2==(2&O.metadata.flags))){if(null===O.matches)e.reset([]);else{const G=O.crossesNgTemplate?yx(d,t,n,[]):ZT(d,t,O,n);e.reset(G,vE),e.notifyOnChanges()}return!0}return!1}function jd(e,t,d){const n=di();n.firstCreatePass&&(function JT(e,t,d){null===e.queries&&(e.queries=new mx),e.queries.track(new vx(t,d))}(n,new YT(e,t,d),-1),2==(2&t)&&(n.staticViewQueries=!0)),function XT(e,t,d){const n=new fx(4==(4&d));(function jE(e,t,d,n){const O=function Ew(e){return e[Uo]||(e[Uo]=[])}(t);O.push(d),e.firstCreatePass&&function Cw(e){return e.cleanup||(e.cleanup=[])}(e).push(n,O.length-1)})(e,t,n,n.destroy),null===t[uo]&&(t[uo]=new gx),t[uo].queries.push(new px(n))}(n,Tr(),t)}function Jo(){return function jD(e,t){return e[uo].queries[t].queryList}(Tr(),th())}function KT(e,t){return e.queries.getByIndex(t)}const Mx=new ei("Application Initializer");let Ax=(()=>{var e;class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,O)=>{this.resolve=n,this.reject=O}),this.appInits=Ur(Mx,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const G of this.appInits){const le=G();if(am(le))n.push(le);else if(s3(le)){const Oe=new Promise((He,et)=>{le.subscribe({complete:He,error:et})});n.push(Oe)}}const O=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{O()}).catch(G=>{this.reject(G)}),0===n.length&&O(),this.initialized=!0}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=tr({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),g5=(()=>{var e;class t{log(n){console.log(n)}warn(n){console.warn(n)}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=tr({token:e,factory:e.\u0275fac,providedIn:"platform"}),t})();const Lu=new ei("LocaleId",{providedIn:"root",factory:()=>Ur(Lu,fi.Optional|fi.SkipSelf)||function lO(){return typeof $localize<"u"&&$localize.locale||T0}()});let mv=(()=>{var e;class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new U(!1)}add(){this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=tr({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();class fO{constructor(t,d){this.ngModuleFactory=t,this.componentFactories=d}}let m5=(()=>{var e;class t{compileModuleSync(n){return new ax(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const O=this.compileModuleSync(n),le=Wf(aa(n).declarations).reduce((Oe,He)=>{const et=Ei(He);return et&&Oe.push(new em(et)),Oe},[]);return new fO(O,le)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=tr({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function _5(...e){}class Lo{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:d=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new zr(!1),this.onMicrotaskEmpty=new zr(!1),this.onStable=new zr(!1),this.onError=new zr(!1),typeof Zone>"u")throw new bn(908,!1);Zone.assertZonePatched();const O=this;O._nesting=0,O._outer=O._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(O._inner=O._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(O._inner=O._inner.fork(Zone.longStackTraceZoneSpec)),O.shouldCoalesceEventChangeDetection=!n&&d,O.shouldCoalesceRunChangeDetection=n,O.lastRequestAnimationFrameId=-1,O.nativeRequestAnimationFrame=function pO(){const e="function"==typeof Li.requestAnimationFrame;let t=Li[e?"requestAnimationFrame":"setTimeout"],d=Li[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&d){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const O=d[Zone.__symbol__("OriginalDelegate")];O&&(d=O)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:d}}().nativeRequestAnimationFrame,function vO(e){const t=()=>{!function mO(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Li,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,kx(e),e.isCheckStableRunning=!0,Sx(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),kx(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(d,n,O,G,le,Oe)=>{try{return x5(e),d.invokeTask(O,G,le,Oe)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===G.type||e.shouldCoalesceRunChangeDetection)&&t(),b5(e)}},onInvoke:(d,n,O,G,le,Oe,He)=>{try{return x5(e),d.invoke(O,G,le,Oe,He)}finally{e.shouldCoalesceRunChangeDetection&&t(),b5(e)}},onHasTask:(d,n,O,G)=>{d.hasTask(O,G),n===O&&("microTask"==G.change?(e._hasPendingMicrotasks=G.microTask,kx(e),Sx(e)):"macroTask"==G.change&&(e.hasPendingMacrotasks=G.macroTask))},onHandleError:(d,n,O,G)=>(d.handleError(O,G),e.runOutsideAngular(()=>e.onError.emit(G)),!1)})}(O)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Lo.isInAngularZone())throw new bn(909,!1)}static assertNotInAngularZone(){if(Lo.isInAngularZone())throw new bn(909,!1)}run(t,d,n){return this._inner.run(t,d,n)}runTask(t,d,n,O){const G=this._inner,le=G.scheduleEventTask("NgZoneEvent: "+O,t,gO,_5,_5);try{return G.runTask(le,d,n)}finally{G.cancelTask(le)}}runGuarded(t,d,n){return this._inner.runGuarded(t,d,n)}runOutsideAngular(t){return this._outer.run(t)}}const gO={};function Sx(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function kx(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function x5(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function b5(e){e._nesting--,Sx(e)}class yO{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new zr,this.onMicrotaskEmpty=new zr,this.onStable=new zr,this.onError=new zr}run(t,d,n){return t.apply(d,n)}runGuarded(t,d,n){return t.apply(d,n)}runOutsideAngular(t){return t()}runTask(t,d,n,O){return t.apply(d,n)}}const w5=new ei("",{providedIn:"root",factory:T5});function T5(){const e=Ur(Lo);let t=!0;return function Cn(...e){const t=Zt(e),d=function dn(e,t){return"number"==typeof Wt(e)?e.pop():t}(e,1/0),n=e;return n.length?1===n.length?Je(n[0]):xt(d)(yn(n,t)):Nt}(new L(O=>{t=e.isStable&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks,e.runOutsideAngular(()=>{O.next(t),O.complete()})}),new L(O=>{let G;e.runOutsideAngular(()=>{G=e.onStable.subscribe(()=>{Lo.assertNotInAngularZone(),queueMicrotask(()=>{!t&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks&&(t=!0,O.next(!0))})})});const le=e.onUnstable.subscribe(()=>{Lo.assertInAngularZone(),t&&(t=!1,e.runOutsideAngular(()=>{O.next(!1)}))});return()=>{G.unsubscribe(),le.unsubscribe()}}).pipe(Un()))}const M5=new ei(""),vv=new ei("");let Dx,Ex=(()=>{var e;class t{constructor(n,O,G){this._ngZone=n,this.registry=O,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Dx||(function _O(e){Dx=e}(G),G.addToWindow(O)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Lo.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(O=>!O.updateCb||!O.updateCb(n)||(clearTimeout(O.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,O,G){let le=-1;O&&O>0&&(le=setTimeout(()=>{this._callbacks=this._callbacks.filter(Oe=>Oe.timeoutId!==le),n(this._didWork,this.getPendingTasks())},O)),this._callbacks.push({doneCb:n,timeoutId:le,updateCb:G})}whenStable(n,O,G){if(G&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,O,G),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,O,G){return[]}}return(e=t).\u0275fac=function(n){return new(n||e)(Vr(Lo),Vr(Cx),Vr(vv))},e.\u0275prov=tr({token:e,factory:e.\u0275fac}),t})(),Cx=(()=>{var e;class t{constructor(){this._applications=new Map}registerApplication(n,O){this._applications.set(n,O)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,O=!0){return Dx?.findTestabilityInTree(this,n,O)??null}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=tr({token:e,factory:e.\u0275fac,providedIn:"platform"}),t})(),Vd=null;const A5=new ei("AllowMultipleToken"),Ox=new ei("PlatformDestroyListeners"),Ix=new ei("appBootstrapListener");class k5{constructor(t,d){this.name=t,this.token=d}}function C5(e,t,d=[]){const n=`Platform: ${t}`,O=new ei(n);return(G=[])=>{let le=Px();if(!le||le.injector.get(A5,!1)){const Oe=[...d,...G,{provide:O,useValue:!0}];e?e(Oe):function wO(e){if(Vd&&!Vd.get(A5,!1))throw new bn(400,!1);(function S5(){!function $e(e){Ce=e}(()=>{throw new bn(600,!1)})})(),Vd=e;const t=e.get(O5);(function E5(e){e.get(bh,null)?.forEach(d=>d())})(e)}(function D5(e=[],t){return _c.create({name:t,providers:[{provide:nu,useValue:"platform"},{provide:Ox,useValue:new Set([()=>Vd=null])},...e]})}(Oe,n))}return function MO(e){const t=Px();if(!t)throw new bn(401,!1);return t}()}}function Px(){return Vd?.get(O5)??null}let O5=(()=>{var e;class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,O){const G=function AO(e="zone.js",t){return"noop"===e?new yO:"zone.js"===e?new Lo(t):e}(O?.ngZone,function I5(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}({eventCoalescing:O?.ngZoneEventCoalescing,runCoalescing:O?.ngZoneRunCoalescing}));return G.run(()=>{const le=function XC(e,t,d){return new ox(e,t,d)}(n.moduleType,this.injector,function F5(e){return[{provide:Lo,useFactory:e},{provide:jc,multi:!0,useFactory:()=>{const t=Ur(kO,{optional:!0});return()=>t.initialize()}},{provide:N5,useFactory:SO},{provide:w5,useFactory:T5}]}(()=>G)),Oe=le.injector.get(Eh,null);return G.runOutsideAngular(()=>{const He=G.onError.subscribe({next:et=>{Oe.handleError(et)}});le.onDestroy(()=>{yv(this._modules,le),He.unsubscribe()})}),function P5(e,t,d){try{const n=d();return am(n)?n.catch(O=>{throw t.runOutsideAngular(()=>e.handleError(O)),O}):n}catch(n){throw t.runOutsideAngular(()=>e.handleError(n)),n}}(Oe,G,()=>{const He=le.injector.get(Ax);return He.runInitializers(),He.donePromise.then(()=>(function nT(e){sr(e,"Expected localeId to be defined"),"string"==typeof e&&(tT=e.toLowerCase().replace(/_/g,"-"))}(le.injector.get(Lu,T0)||T0),this._moduleDoBootstrap(le),le))})})}bootstrapModule(n,O=[]){const G=R5({},O);return function xO(e,t,d){const n=new ax(d);return Promise.resolve(n)}(0,0,n).then(le=>this.bootstrapModuleFactory(le,G))}_moduleDoBootstrap(n){const O=n.injector.get(Ud);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(G=>O.bootstrap(G));else{if(!n.instance.ngDoBootstrap)throw new bn(-403,!1);n.instance.ngDoBootstrap(O)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new bn(404,!1);this._modules.slice().forEach(O=>O.destroy()),this._destroyListeners.forEach(O=>O());const n=this._injector.get(Ox,null);n&&(n.forEach(O=>O()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(e=t).\u0275fac=function(n){return new(n||e)(Vr(_c))},e.\u0275prov=tr({token:e,factory:e.\u0275fac,providedIn:"platform"}),t})();function R5(e,t){return Array.isArray(t)?t.reduce(R5,e):{...e,...t}}let Ud=(()=>{var e;class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Ur(N5),this.zoneIsStable=Ur(w5),this.componentTypes=[],this.components=[],this.isStable=Ur(mv).hasPendingTasks.pipe(Ln(n=>n?_n(!1):this.zoneIsStable),function Yn(e,t=k){return e=e??_r,X((d,n)=>{let O,G=!0;d.subscribe(se(n,le=>{const Oe=t(le);(G||!e(O,Oe))&&(G=!1,O=Oe,n.next(le))}))})}(),Un()),this._injector=Ur(bl)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,O){const G=n instanceof Vc;if(!this._injector.get(Ax).done)throw!G&&function Di(e){const t=Ei(e)||Hi(e)||mi(e);return null!==t&&t.standalone}(n),new bn(405,!1);let Oe;Oe=G?n:this._injector.get(Y1).resolveComponentFactory(n),this.componentTypes.push(Oe.componentType);const He=function bO(e){return e.isBoundToModule}(Oe)?void 0:this._injector.get(M0),yt=Oe.create(_c.NULL,[],O||Oe.selector,He),Pt=yt.location.nativeElement,Qt=yt.injector.get(M5,null);return Qt?.registerApplication(Pt),yt.onDestroy(()=>{this.detachView(yt.hostView),yv(this.components,yt),Qt?.unregisterApplication(Pt)}),this._loadComponent(yt),yt}tick(){if(this._runningTick)throw new bn(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const O=n;this._views.push(O),O.attachToAppRef(this)}detachView(n){const O=n;yv(this._views,O),O.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const O=this._injector.get(Ix,[]);O.push(...this._bootstrapListeners),O.forEach(G=>G(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>yv(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new bn(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=tr({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function yv(e,t){const d=e.indexOf(t);d>-1&&e.splice(d,1)}const N5=new ei("",{providedIn:"root",factory:()=>Ur(Eh).handleError.bind(void 0)});function SO(){const e=Ur(Lo),t=Ur(Eh);return d=>e.runOutsideAngular(()=>t.handleError(d))}let kO=(()=>{var e;class t{constructor(){this.zone=Ur(Lo),this.applicationRef=Ur(Ud)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=tr({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();let Fu=(()=>{class t{}return t.__NG_ELEMENT_ID__=CO,t})();function CO(e){return function DO(e,t,d){if(xs(e)&&!d){const n=Or(e.index,t);return new Qg(n,n)}return 47&e.type?new Qg(t[Qi],t):null}(is(),Tr(),16==(16&e))}class V5{constructor(){}supports(t){return nv(t)}create(t){return new NO(t)}}const LO=(e,t)=>t;class NO{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||LO}forEachItem(t){let d;for(d=this._itHead;null!==d;d=d._next)t(d)}forEachOperation(t){let d=this._itHead,n=this._removalsHead,O=0,G=null;for(;d||n;){const le=!n||d&&d.currentIndex<H5(n,O,G)?d:n,Oe=H5(le,O,G),He=le.currentIndex;if(le===n)O--,n=n._nextRemoved;else if(d=d._next,null==le.previousIndex)O++;else{G||(G=[]);const et=Oe-O,yt=He-O;if(et!=yt){for(let Qt=0;Qt<et;Qt++){const cn=Qt<G.length?G[Qt]:G[Qt]=0,Vn=cn+Qt;yt<=Vn&&Vn<et&&(G[Qt]=cn+1)}G[le.previousIndex]=yt-et}}Oe!==He&&t(le,Oe,He)}}forEachPreviousItem(t){let d;for(d=this._previousItHead;null!==d;d=d._nextPrevious)t(d)}forEachAddedItem(t){let d;for(d=this._additionsHead;null!==d;d=d._nextAdded)t(d)}forEachMovedItem(t){let d;for(d=this._movesHead;null!==d;d=d._nextMoved)t(d)}forEachRemovedItem(t){let d;for(d=this._removalsHead;null!==d;d=d._nextRemoved)t(d)}forEachIdentityChange(t){let d;for(d=this._identityChangesHead;null!==d;d=d._nextIdentityChange)t(d)}diff(t){if(null==t&&(t=[]),!nv(t))throw new bn(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let O,G,le,d=this._itHead,n=!1;if(Array.isArray(t)){this.length=t.length;for(let Oe=0;Oe<this.length;Oe++)G=t[Oe],le=this._trackByFn(Oe,G),null!==d&&Object.is(d.trackById,le)?(n&&(d=this._verifyReinsertion(d,G,le,Oe)),Object.is(d.item,G)||this._addIdentityChange(d,G)):(d=this._mismatch(d,G,le,Oe),n=!0),d=d._next}else O=0,function P6(e,t){if(Array.isArray(e))for(let d=0;d<e.length;d++)t(e[d]);else{const d=e[Symbol.iterator]();let n;for(;!(n=d.next()).done;)t(n.value)}}(t,Oe=>{le=this._trackByFn(O,Oe),null!==d&&Object.is(d.trackById,le)?(n&&(d=this._verifyReinsertion(d,Oe,le,O)),Object.is(d.item,Oe)||this._addIdentityChange(d,Oe)):(d=this._mismatch(d,Oe,le,O),n=!0),d=d._next,O++}),this.length=O;return this._truncate(d),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,d,n,O){let G;return null===t?G=this._itTail:(G=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,d)||this._addIdentityChange(t,d),this._reinsertAfter(t,G,O)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,O))?(Object.is(t.item,d)||this._addIdentityChange(t,d),this._moveAfter(t,G,O)):t=this._addAfter(new FO(d,n),G,O),t}_verifyReinsertion(t,d,n,O){let G=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==G?t=this._reinsertAfter(G,t._prev,O):t.currentIndex!=O&&(t.currentIndex=O,this._addToMoves(t,O)),t}_truncate(t){for(;null!==t;){const d=t._next;this._addToRemovals(this._unlink(t)),t=d}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,d,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const O=t._prevRemoved,G=t._nextRemoved;return null===O?this._removalsHead=G:O._nextRemoved=G,null===G?this._removalsTail=O:G._prevRemoved=O,this._insertAfter(t,d,n),this._addToMoves(t,n),t}_moveAfter(t,d,n){return this._unlink(t),this._insertAfter(t,d,n),this._addToMoves(t,n),t}_addAfter(t,d,n){return this._insertAfter(t,d,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,d,n){const O=null===d?this._itHead:d._next;return t._next=O,t._prev=d,null===O?this._itTail=t:O._prev=t,null===d?this._itHead=t:d._next=t,null===this._linkedRecords&&(this._linkedRecords=new U5),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const d=t._prev,n=t._next;return null===d?this._itHead=n:d._next=n,null===n?this._itTail=d:n._prev=d,t}_addToMoves(t,d){return t.previousIndex===d||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new U5),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,d){return t.item=d,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class FO{constructor(t,d){this.item=t,this.trackById=d,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class zO{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,d){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===d||d<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const d=t._prevDup,n=t._nextDup;return null===d?this._head=n:d._nextDup=n,null===n?this._tail=d:n._prevDup=d,null===this._head}}class U5{constructor(){this.map=new Map}put(t){const d=t.trackById;let n=this.map.get(d);n||(n=new zO,this.map.set(d,n)),n.add(t)}get(t,d){const O=this.map.get(t);return O?O.get(t,d):null}remove(t){const d=t.trackById;return this.map.get(d).remove(t)&&this.map.delete(d),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function H5(e,t,d){const n=e.previousIndex;if(null===n)return n;let O=0;return d&&n<d.length&&(O=d[n]),n+t+O}class G5{constructor(){}supports(t){return t instanceof Map||F_(t)}create(){return new BO}}class BO{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let d;for(d=this._mapHead;null!==d;d=d._next)t(d)}forEachPreviousItem(t){let d;for(d=this._previousMapHead;null!==d;d=d._nextPrevious)t(d)}forEachChangedItem(t){let d;for(d=this._changesHead;null!==d;d=d._nextChanged)t(d)}forEachAddedItem(t){let d;for(d=this._additionsHead;null!==d;d=d._nextAdded)t(d)}forEachRemovedItem(t){let d;for(d=this._removalsHead;null!==d;d=d._nextRemoved)t(d)}diff(t){if(t){if(!(t instanceof Map||F_(t)))throw new bn(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let d=this._mapHead;if(this._appendAfter=null,this._forEach(t,(n,O)=>{if(d&&d.key===O)this._maybeAddToChanges(d,n),this._appendAfter=d,d=d._next;else{const G=this._getOrCreateRecordForKey(O,n);d=this._insertBeforeOrAppend(d,G)}}),d){d._prev&&(d._prev._next=null),this._removalsHead=d;for(let n=d;null!==n;n=n._nextRemoved)n===this._mapHead&&(this._mapHead=null),this._records.delete(n.key),n._nextRemoved=n._next,n.previousValue=n.currentValue,n.currentValue=null,n._prev=null,n._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,d){if(t){const n=t._prev;return d._next=t,d._prev=n,t._prev=d,n&&(n._next=d),t===this._mapHead&&(this._mapHead=d),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=d,d._prev=this._appendAfter):this._mapHead=d,this._appendAfter=d,null}_getOrCreateRecordForKey(t,d){if(this._records.has(t)){const O=this._records.get(t);this._maybeAddToChanges(O,d);const G=O._prev,le=O._next;return G&&(G._next=le),le&&(le._prev=G),O._next=null,O._prev=null,O}const n=new jO(t);return this._records.set(t,n),n.currentValue=d,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,d){Object.is(d,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=d,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,d){t instanceof Map?t.forEach(d):Object.keys(t).forEach(n=>d(t[n],n))}}class jO{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function q5(){return new _m([new V5])}let _m=(()=>{var e;class t{constructor(n){this.factories=n}static create(n,O){if(null!=O){const G=O.factories.slice();n=n.concat(G)}return new t(n)}static extend(n){return{provide:t,useFactory:O=>t.create(n,O||q5()),deps:[[t,new Ms,new sh]]}}find(n){const O=this.factories.find(G=>G.supports(n));if(null!=O)return O;throw new bn(901,!1)}}return(e=t).\u0275prov=tr({token:e,providedIn:"root",factory:q5}),t})();function W5(){return new k0([new G5])}let k0=(()=>{var e;class t{constructor(n){this.factories=n}static create(n,O){if(O){const G=O.factories.slice();n=n.concat(G)}return new t(n)}static extend(n){return{provide:t,useFactory:O=>t.create(n,O||W5()),deps:[[t,new Ms,new sh]]}}find(n){const O=this.factories.find(G=>G.supports(n));if(O)return O;throw new bn(901,!1)}}return(e=t).\u0275prov=tr({token:e,providedIn:"root",factory:W5}),t})();const HO=C5(null,"core",[]);let GO=(()=>{var e;class t{constructor(n){}}return(e=t).\u0275fac=function(n){return new(n||e)(Vr(Ud))},e.\u0275mod=Ri({type:e}),e.\u0275inj=ir({}),t})();function jx(e,t){const d=Ei(e),n=t.elementInjector||Xl();return new em(d).create(n,t.projectableNodes,t.hostElement,t.environmentInjector)}let Vx=null;function Hd(){return Vx}class nI{}const ks=new ei("DocumentToken");let Ux=(()=>{var e;class t{historyGo(n){throw new Error("Not implemented")}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=tr({token:e,factory:function(){return Ur(iI)},providedIn:"platform"}),t})();const rI=new ei("Location Initialized");let iI=(()=>{var e;class t extends Ux{constructor(){super(),this._doc=Ur(ks),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Hd().getBaseHref(this._doc)}onPopState(n){const O=Hd().getGlobalEventTarget(this._doc,"window");return O.addEventListener("popstate",n,!1),()=>O.removeEventListener("popstate",n)}onHashChange(n){const O=Hd().getGlobalEventTarget(this._doc,"window");return O.addEventListener("hashchange",n,!1),()=>O.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,O,G){this._history.pushState(n,O,G)}replaceState(n,O,G){this._history.replaceState(n,O,G)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=tr({token:e,factory:function(){return new e},providedIn:"platform"}),t})();function Hx(e,t){if(0==e.length)return t;if(0==t.length)return e;let d=0;return e.endsWith("/")&&d++,t.startsWith("/")&&d++,2==d?e+t.substring(1):1==d?e+t:e+"/"+t}function Q5(e){const t=e.match(/#|\?|$/),d=t&&t.index||e.length;return e.slice(0,d-("/"===e[d-1]?1:0))+e.slice(d)}function Zf(e){return e&&"?"!==e[0]?"?"+e:e}let Rh=(()=>{var e;class t{historyGo(n){throw new Error("Not implemented")}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=tr({token:e,factory:function(){return Ur(tM)},providedIn:"root"}),t})();const eM=new ei("appBaseHref");let tM=(()=>{var e;class t extends Rh{constructor(n,O){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=O??this._platformLocation.getBaseHrefFromDOM()??Ur(ks).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Hx(this._baseHref,n)}path(n=!1){const O=this._platformLocation.pathname+Zf(this._platformLocation.search),G=this._platformLocation.hash;return G&&n?`${O}${G}`:O}pushState(n,O,G,le){const Oe=this.prepareExternalUrl(G+Zf(le));this._platformLocation.pushState(n,O,Oe)}replaceState(n,O,G,le){const Oe=this.prepareExternalUrl(G+Zf(le));this._platformLocation.replaceState(n,O,Oe)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return(e=t).\u0275fac=function(n){return new(n||e)(Vr(Ux),Vr(eM,8))},e.\u0275prov=tr({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),oI=(()=>{var e;class t extends Rh{constructor(n,O){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=O&&(this._baseHref=O)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let O=this._platformLocation.hash;return null==O&&(O="#"),O.length>0?O.substring(1):O}prepareExternalUrl(n){const O=Hx(this._baseHref,n);return O.length>0?"#"+O:O}pushState(n,O,G,le){let Oe=this.prepareExternalUrl(G+Zf(le));0==Oe.length&&(Oe=this._platformLocation.pathname),this._platformLocation.pushState(n,O,Oe)}replaceState(n,O,G,le){let Oe=this.prepareExternalUrl(G+Zf(le));0==Oe.length&&(Oe=this._platformLocation.pathname),this._platformLocation.replaceState(n,O,Oe)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return(e=t).\u0275fac=function(n){return new(n||e)(Vr(Ux),Vr(eM,8))},e.\u0275prov=tr({token:e,factory:e.\u0275fac}),t})(),Gx=(()=>{var e;class t{constructor(n){this._subject=new zr,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const O=this._locationStrategy.getBaseHref();this._basePath=function lI(e){if(new RegExp("^(https?:)?//").test(e)){const[,d]=e.split(/\/\/[^\/]+/);return d}return e}(Q5(nM(O))),this._locationStrategy.onPopState(G=>{this._subject.emit({url:this.path(!0),pop:!0,state:G.state,type:G.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,O=""){return this.path()==this.normalize(n+Zf(O))}normalize(n){return t.stripTrailingSlash(function sI(e,t){if(!e||!t.startsWith(e))return t;const d=t.substring(e.length);return""===d||["/",";","?","#"].includes(d[0])?d:t}(this._basePath,nM(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,O="",G=null){this._locationStrategy.pushState(G,"",n,O),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Zf(O)),G)}replaceState(n,O="",G=null){this._locationStrategy.replaceState(G,"",n,O),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Zf(O)),G)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(O=>{this._notifyUrlChangeListeners(O.url,O.state)})),()=>{const O=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(O,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",O){this._urlChangeListeners.forEach(G=>G(n,O))}subscribe(n,O,G){return this._subject.subscribe({next:n,error:O,complete:G})}}return(e=t).normalizeQueryParams=Zf,e.joinWithSlash=Hx,e.stripTrailingSlash=Q5,e.\u0275fac=function(n){return new(n||e)(Vr(Rh))},e.\u0275prov=tr({token:e,factory:function(){return function aI(){return new Gx(Vr(Rh))}()},providedIn:"root"}),t})();function nM(e){return e.replace(/\/index.html$/,"")}function hM(e,t){t=encodeURIComponent(t);for(const d of e.split(";")){const n=d.indexOf("="),[O,G]=-1==n?[d,""]:[d.slice(0,n),d.slice(n+1)];if(O.trim()===t)return decodeURIComponent(G)}return null}const tb=/\s+/,pM=[];let gM=(()=>{var e;class t{constructor(n,O,G,le){this._iterableDiffers=n,this._keyValueDiffers=O,this._ngEl=G,this._renderer=le,this.initialClasses=pM,this.stateMap=new Map}set klass(n){this.initialClasses=null!=n?n.trim().split(tb):pM}set ngClass(n){this.rawClass="string"==typeof n?n.trim().split(tb):n}ngDoCheck(){for(const O of this.initialClasses)this._updateState(O,!0);const n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(const O of n)this._updateState(O,!0);else if(null!=n)for(const O of Object.keys(n))this._updateState(O,!!n[O]);this._applyStateDiff()}_updateState(n,O){const G=this.stateMap.get(n);void 0!==G?(G.enabled!==O&&(G.changed=!0,G.enabled=O),G.touched=!0):this.stateMap.set(n,{enabled:O,changed:!0,touched:!0})}_applyStateDiff(){for(const n of this.stateMap){const O=n[0],G=n[1];G.changed?(this._toggleClass(O,G.enabled),G.changed=!1):G.touched||(G.enabled&&this._toggleClass(O,!1),this.stateMap.delete(O)),G.touched=!1}}_toggleClass(n,O){(n=n.trim()).length>0&&n.split(tb).forEach(G=>{O?this._renderer.addClass(this._ngEl.nativeElement,G):this._renderer.removeClass(this._ngEl.nativeElement,G)})}}return(e=t).\u0275fac=function(n){return new(n||e)(Gn(_m),Gn(k0),Gn(Yo),Gn(Uc))},e.\u0275dir=Cr({type:e,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),t})();class GI{constructor(t,d,n,O){this.$implicit=t,this.ngForOf=d,this.index=n,this.count=O}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Kf=(()=>{var e;class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,O,G){this._viewContainer=n,this._template=O,this._differs=G,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const O=this._viewContainer;n.forEachOperation((G,le,Oe)=>{if(null==G.previousIndex)O.createEmbeddedView(this._template,new GI(G.item,this._ngForOf,-1,-1),null===Oe?void 0:Oe);else if(null==Oe)O.remove(null===le?void 0:le);else if(null!==le){const He=O.get(le);O.move(He,Oe),vM(He,G)}});for(let G=0,le=O.length;G<le;G++){const He=O.get(G).context;He.index=G,He.count=le,He.ngForOf=this._ngForOf}n.forEachIdentityChange(G=>{vM(O.get(G.currentIndex),G)})}static ngTemplateContextGuard(n,O){return!0}}return(e=t).\u0275fac=function(n){return new(n||e)(Gn(cu),Gn(Za),Gn(_m))},e.\u0275dir=Cr({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),t})();function vM(e,t){e.context.$implicit=t.item}let xM=(()=>{var e;class t{constructor(n,O,G){this._ngEl=n,this._differs=O,this._renderer=G,this._ngStyle=null,this._differ=null}set ngStyle(n){this._ngStyle=n,!this._differ&&n&&(this._differ=this._differs.find(n).create())}ngDoCheck(){if(this._differ){const n=this._differ.diff(this._ngStyle);n&&this._applyChanges(n)}}_setStyle(n,O){const[G,le]=n.split("."),Oe=-1===G.indexOf("-")?void 0:Qc.DashCase;null!=O?this._renderer.setStyle(this._ngEl.nativeElement,G,le?`${O}${le}`:O,Oe):this._renderer.removeStyle(this._ngEl.nativeElement,G,Oe)}_applyChanges(n){n.forEachRemovedItem(O=>this._setStyle(O.key,null)),n.forEachAddedItem(O=>this._setStyle(O.key,O.currentValue)),n.forEachChangedItem(O=>this._setStyle(O.key,O.currentValue))}}return(e=t).\u0275fac=function(n){return new(n||e)(Gn(Yo),Gn(k0),Gn(Uc))},e.\u0275dir=Cr({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),t})(),Iv=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=Ri({type:e}),e.\u0275inj=ir({}),t})();function TM(e){return"server"===e}let x7=(()=>{var e;class t{}return(e=t).\u0275prov=tr({token:e,providedIn:"root",factory:()=>new b7(Vr(ks),window)}),t})();class b7{constructor(t,d){this.document=t,this.window=d,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const d=function w7(e,t){const d=e.getElementById(t)||e.getElementsByName(t)[0];if(d)return d;if("function"==typeof e.createTreeWalker&&e.body&&"function"==typeof e.body.attachShadow){const n=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let O=n.currentNode;for(;O;){const G=O.shadowRoot;if(G){const le=G.getElementById(t)||G.querySelector(`[name="${t}"]`);if(le)return le}O=n.nextNode()}}return null}(this.document,t);d&&(this.scrollToElement(d),d.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const d=this.window.history;d&&d.scrollRestoration&&(d.scrollRestoration=t)}}scrollToElement(t){const d=t.getBoundingClientRect(),n=d.left+this.window.pageXOffset,O=d.top+this.window.pageYOffset,G=this.offset();this.window.scrollTo(n-G[0],O-G[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=MM(this.window.history)||MM(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function MM(e){return Object.getOwnPropertyDescriptor(e,"scrollRestoration")}class AM{}class q7 extends nI{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class lb extends q7{static makeCurrent(){!function tI(e){Vx||(Vx=e)}(new lb)}onAndCancel(t,d,n){return t.addEventListener(d,n),()=>{t.removeEventListener(d,n)}}dispatchEvent(t,d){t.dispatchEvent(d)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,d){return(d=d||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,d){return"window"===d?window:"document"===d?t:"body"===d?t.body:null}getBaseHref(t){const d=function W7(){return Tm=Tm||document.querySelector("base"),Tm?Tm.getAttribute("href"):null}();return null==d?null:function $7(e){Lv=Lv||document.createElement("a"),Lv.setAttribute("href",e);const t=Lv.pathname;return"/"===t.charAt(0)?t:`/${t}`}(d)}resetBaseElement(){Tm=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return hM(document.cookie,t)}}let Lv,Tm=null,Z7=(()=>{var e;class t{build(){return new XMLHttpRequest}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=tr({token:e,factory:e.\u0275fac}),t})();const cb=new ei("EventManagerPlugins");let DM=(()=>{var e;class t{constructor(n,O){this._zone=O,this._eventNameToPlugin=new Map,n.forEach(G=>{G.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,O,G){return this._findPluginFor(O).addEventListener(n,O,G)}getZone(){return this._zone}_findPluginFor(n){let O=this._eventNameToPlugin.get(n);if(O)return O;if(O=this._plugins.find(le=>le.supports(n)),!O)throw new bn(5101,!1);return this._eventNameToPlugin.set(n,O),O}}return(e=t).\u0275fac=function(n){return new(n||e)(Vr(cb),Vr(Lo))},e.\u0275prov=tr({token:e,factory:e.\u0275fac}),t})();class OM{constructor(t){this._doc=t}}const ub="ng-app-id";let IM=(()=>{var e;class t{constructor(n,O,G,le={}){this.doc=n,this.appId=O,this.nonce=G,this.platformId=le,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=TM(le),this.resetHostNodes()}addStyles(n){for(const O of n)1===this.changeUsageCount(O,1)&&this.onStyleAdded(O)}removeStyles(n){for(const O of n)this.changeUsageCount(O,-1)<=0&&this.onStyleRemoved(O)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(O=>O.remove()),n.clear());for(const O of this.getAllStyles())this.onStyleRemoved(O);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const O of this.getAllStyles())this.addStyleToHost(n,O)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const O of this.hostNodes)this.addStyleToHost(O,n)}onStyleRemoved(n){const O=this.styleRef;O.get(n)?.elements?.forEach(G=>G.remove()),O.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${ub}="${this.appId}"]`);if(n?.length){const O=new Map;return n.forEach(G=>{null!=G.textContent&&O.set(G.textContent,G)}),O}return null}changeUsageCount(n,O){const G=this.styleRef;if(G.has(n)){const le=G.get(n);return le.usage+=O,le.usage}return G.set(n,{usage:O,elements:[]}),O}getStyleElement(n,O){const G=this.styleNodesInDOM,le=G?.get(O);if(le?.parentNode===n)return G.delete(O),le.removeAttribute(ub),le;{const Oe=this.doc.createElement("style");return this.nonce&&Oe.setAttribute("nonce",this.nonce),Oe.textContent=O,this.platformIsServer&&Oe.setAttribute(ub,this.appId),Oe}}addStyleToHost(n,O){const G=this.getStyleElement(n,O);n.appendChild(G);const le=this.styleRef,Oe=le.get(O)?.elements;Oe?Oe.push(G):le.set(O,{elements:[G],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}}return(e=t).\u0275fac=function(n){return new(n||e)(Vr(ks),Vr(xh),Vr(Vg,8),Vr(df))},e.\u0275prov=tr({token:e,factory:e.\u0275fac}),t})();const fb={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},db=/%COMP%/g,Q7=new ei("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function RM(e,t){return t.map(d=>d.replace(db,e))}let LM=(()=>{var e;class t{constructor(n,O,G,le,Oe,He,et,yt=null){this.eventManager=n,this.sharedStylesHost=O,this.appId=G,this.removeStylesOnCompDestroy=le,this.doc=Oe,this.platformId=He,this.ngZone=et,this.nonce=yt,this.rendererByCompId=new Map,this.platformIsServer=TM(He),this.defaultRenderer=new hb(n,Oe,et,this.platformIsServer)}createRenderer(n,O){if(!n||!O)return this.defaultRenderer;this.platformIsServer&&O.encapsulation===ja.ShadowDom&&(O={...O,encapsulation:ja.Emulated});const G=this.getOrCreateRenderer(n,O);return G instanceof FM?G.applyToHost(n):G instanceof pb&&G.applyStyles(),G}getOrCreateRenderer(n,O){const G=this.rendererByCompId;let le=G.get(O.id);if(!le){const Oe=this.doc,He=this.ngZone,et=this.eventManager,yt=this.sharedStylesHost,Pt=this.removeStylesOnCompDestroy,Qt=this.platformIsServer;switch(O.encapsulation){case ja.Emulated:le=new FM(et,yt,O,this.appId,Pt,Oe,He,Qt);break;case ja.ShadowDom:return new r9(et,yt,n,O,Oe,He,this.nonce,Qt);default:le=new pb(et,yt,O,Pt,Oe,He,Qt)}G.set(O.id,le)}return le}ngOnDestroy(){this.rendererByCompId.clear()}}return(e=t).\u0275fac=function(n){return new(n||e)(Vr(DM),Vr(IM),Vr(xh),Vr(Q7),Vr(ks),Vr(df),Vr(Lo),Vr(Vg))},e.\u0275prov=tr({token:e,factory:e.\u0275fac}),t})();class hb{constructor(t,d,n,O){this.eventManager=t,this.doc=d,this.ngZone=n,this.platformIsServer=O,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,d){return d?this.doc.createElementNS(fb[d]||d,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,d){(NM(t)?t.content:t).appendChild(d)}insertBefore(t,d,n){t&&(NM(t)?t.content:t).insertBefore(d,n)}removeChild(t,d){t&&t.removeChild(d)}selectRootElement(t,d){let n="string"==typeof t?this.doc.querySelector(t):t;if(!n)throw new bn(-5104,!1);return d||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,d,n,O){if(O){d=O+":"+d;const G=fb[O];G?t.setAttributeNS(G,d,n):t.setAttribute(d,n)}else t.setAttribute(d,n)}removeAttribute(t,d,n){if(n){const O=fb[n];O?t.removeAttributeNS(O,d):t.removeAttribute(`${n}:${d}`)}else t.removeAttribute(d)}addClass(t,d){t.classList.add(d)}removeClass(t,d){t.classList.remove(d)}setStyle(t,d,n,O){O&(Qc.DashCase|Qc.Important)?t.style.setProperty(d,n,O&Qc.Important?"important":""):t.style[d]=n}removeStyle(t,d,n){n&Qc.DashCase?t.style.removeProperty(d):t.style[d]=""}setProperty(t,d,n){t[d]=n}setValue(t,d){t.nodeValue=d}listen(t,d,n){if("string"==typeof t&&!(t=Hd().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${d}`);return this.eventManager.addEventListener(t,d,this.decoratePreventDefault(n))}decoratePreventDefault(t){return d=>{if("__ngUnwrap__"===d)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(d)):t(d))&&d.preventDefault()}}}function NM(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class r9 extends hb{constructor(t,d,n,O,G,le,Oe,He){super(t,G,le,He),this.sharedStylesHost=d,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const et=RM(O.id,O.styles);for(const yt of et){const Pt=document.createElement("style");Oe&&Pt.setAttribute("nonce",Oe),Pt.textContent=yt,this.shadowRoot.appendChild(Pt)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,d){return super.appendChild(this.nodeOrShadowRoot(t),d)}insertBefore(t,d,n){return super.insertBefore(this.nodeOrShadowRoot(t),d,n)}removeChild(t,d){return super.removeChild(this.nodeOrShadowRoot(t),d)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class pb extends hb{constructor(t,d,n,O,G,le,Oe,He){super(t,G,le,Oe),this.sharedStylesHost=d,this.removeStylesOnCompDestroy=O,this.styles=He?RM(He,n.styles):n.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class FM extends pb{constructor(t,d,n,O,G,le,Oe,He){const et=O+"-"+n.id;super(t,d,n,G,le,Oe,He,et),this.contentAttr=function e9(e){return"_ngcontent-%COMP%".replace(db,e)}(et),this.hostAttr=function t9(e){return"_nghost-%COMP%".replace(db,e)}(et)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,d){const n=super.createElement(t,d);return super.setAttribute(n,this.contentAttr,""),n}}let i9=(()=>{var e;class t extends OM{constructor(n){super(n)}supports(n){return!0}addEventListener(n,O,G){return n.addEventListener(O,G,!1),()=>this.removeEventListener(n,O,G)}removeEventListener(n,O,G){return n.removeEventListener(O,G)}}return(e=t).\u0275fac=function(n){return new(n||e)(Vr(ks))},e.\u0275prov=tr({token:e,factory:e.\u0275fac}),t})();const zM=["alt","control","meta","shift"],o9={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},a9={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let s9=(()=>{var e;class t extends OM{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,O,G){const le=t.parseEventName(O),Oe=t.eventCallback(le.fullKey,G,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Hd().onAndCancel(n,le.domEventName,Oe))}static parseEventName(n){const O=n.toLowerCase().split("."),G=O.shift();if(0===O.length||"keydown"!==G&&"keyup"!==G)return null;const le=t._normalizeKey(O.pop());let Oe="",He=O.indexOf("code");if(He>-1&&(O.splice(He,1),Oe="code."),zM.forEach(yt=>{const Pt=O.indexOf(yt);Pt>-1&&(O.splice(Pt,1),Oe+=yt+".")}),Oe+=le,0!=O.length||0===le.length)return null;const et={};return et.domEventName=G,et.fullKey=Oe,et}static matchEventFullKeyCode(n,O){let G=o9[n.key]||n.key,le="";return O.indexOf("code.")>-1&&(G=n.code,le="code."),!(null==G||!G)&&(G=G.toLowerCase()," "===G?G="space":"."===G&&(G="dot"),zM.forEach(Oe=>{Oe!==G&&(0,a9[Oe])(n)&&(le+=Oe+".")}),le+=G,le===O)}static eventCallback(n,O,G){return le=>{t.matchEventFullKeyCode(le,n)&&G.runGuarded(()=>O(le))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return(e=t).\u0275fac=function(n){return new(n||e)(Vr(ks))},e.\u0275prov=tr({token:e,factory:e.\u0275fac}),t})();const f9=C5(HO,"browser",[{provide:df,useValue:"browser"},{provide:bh,useValue:function l9(){lb.makeCurrent()},multi:!0},{provide:ks,useFactory:function u9(){return function oi(e){ui=e}(document),document},deps:[]}]),d9=new ei(""),VM=[{provide:vv,useClass:class Y7{addToWindow(t){Li.getAngularTestability=(n,O=!0)=>{const G=t.findTestabilityInTree(n,O);if(null==G)throw new bn(5103,!1);return G},Li.getAllAngularTestabilities=()=>t.getAllTestabilities(),Li.getAllAngularRootElements=()=>t.getAllRootElements(),Li.frameworkStabilizers||(Li.frameworkStabilizers=[]),Li.frameworkStabilizers.push(n=>{const O=Li.getAllAngularTestabilities();let G=O.length,le=!1;const Oe=function(He){le=le||He,G--,0==G&&n(le)};O.forEach(He=>{He.whenStable(Oe)})})}findTestabilityInTree(t,d,n){return null==d?null:t.getTestability(d)??(n?Hd().isShadowRoot(d)?this.findTestabilityInTree(t,d.host,!0):this.findTestabilityInTree(t,d.parentElement,!0):null)}},deps:[]},{provide:M5,useClass:Ex,deps:[Lo,Cx,vv]},{provide:Ex,useClass:Ex,deps:[Lo,Cx,vv]}],UM=[{provide:nu,useValue:"root"},{provide:Eh,useFactory:function c9(){return new Eh},deps:[]},{provide:cb,useClass:i9,multi:!0,deps:[ks,Lo,df]},{provide:cb,useClass:s9,multi:!0,deps:[ks]},LM,IM,DM,{provide:T_,useExisting:LM},{provide:AM,useClass:Z7,deps:[]},[]];let h9=(()=>{var e;class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:xh,useValue:n.appId}]}}}return(e=t).\u0275fac=function(n){return new(n||e)(Vr(d9,12))},e.\u0275mod=Ri({type:e}),e.\u0275inj=ir({providers:[...UM,...VM],imports:[Iv,GO]}),t})(),HM=(()=>{var e;class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}}return(e=t).\u0275fac=function(n){return new(n||e)(Vr(ks))},e.\u0275prov=tr({token:e,factory:function(n){let O=null;return O=n?new n:function g9(){return new HM(Vr(ks))}(),O},providedIn:"root"}),t})();typeof window<"u"&&window;const{isArray:b9}=Array,{getPrototypeOf:w9,prototype:T9,keys:M9}=Object;const{isArray:S9}=Array;function mb(e){return ee(t=>function k9(e,t){return S9(t)?e(...t):e(t)}(e,t))}function vb(...e){const t=Zt(e),d=Yt(e),{args:n,keys:O}=function $M(e){if(1===e.length){const t=e[0];if(b9(t))return{args:t,keys:null};if(function A9(e){return e&&"object"==typeof e&&w9(e)===T9}(t)){const d=M9(t);return{args:d.map(n=>t[n]),keys:d}}}return{args:e,keys:null}}(e);if(0===n.length)return yn([],t);const G=new L(function E9(e,t,d=k){return n=>{ZM(t,()=>{const{length:O}=e,G=new Array(O);let le=O,Oe=O;for(let He=0;He<O;He++)ZM(t,()=>{const et=yn(e[He],t);let yt=!1;et.subscribe(se(n,Pt=>{G[He]=Pt,yt||(yt=!0,Oe--),Oe||n.next(d(G.slice()))},()=>{--le||n.complete()}))},n)},n)}}(n,t,O?le=>function YM(e,t){return e.reduce((d,n,O)=>(d[n]=t[O],d),{})}(O,le):k));return d?G.pipe(mb(d)):G}function ZM(e,t,d){e?St(d,e,t):t()}const Nv=oe(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function Mm(...e){return function C9(){return xt(1)}()(yn(e,Zt(e)))}function XM(e){return new L(t=>{Je(e()).subscribe(t)})}function O0(e,t){const d=ki(e)?e:()=>e,n=O=>O.error(d());return new L(t?O=>t.schedule(n,0,O):n)}function yb(){return X((e,t)=>{let d=null;e._refCount++;const n=se(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(d=null);const O=e._connection,G=d;d=null,O&&(!G||O===G)&&O.unsubscribe(),t.unsubscribe()});e.subscribe(n),n.closed||(d=e.connect())})}class JM extends L{constructor(t,d){super(),this.source=t,this.subjectFactory=d,this._subject=null,this._refCount=0,this._connection=null,Z(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new I;const d=this.getSubject();t.add(this.source.subscribe(se(d,void 0,()=>{this._teardown(),d.complete()},n=>{this._teardown(),d.error(n)},()=>this._teardown()))),t.closed&&(this._connection=null,t=I.EMPTY)}return t}refCount(){return yb()(this)}}function wl(e){return e<=0?()=>Nt:X((t,d)=>{let n=0;t.subscribe(se(d,O=>{++n<=e&&(d.next(O),e<=n&&d.complete())}))})}function Vs(e,t){return X((d,n)=>{let O=0;d.subscribe(se(n,G=>e.call(t,G,O++)&&n.next(G)))})}function Fv(e){return X((t,d)=>{let n=!1;t.subscribe(se(d,O=>{n=!0,d.next(O)},()=>{n||d.next(e),d.complete()}))})}function QM(e=D9){return X((t,d)=>{let n=!1;t.subscribe(se(d,O=>{n=!0,d.next(O)},()=>n?d.complete():d.error(e())))})}function D9(){return new Nv}function Nh(e,t){const d=arguments.length>=2;return n=>n.pipe(e?Vs((O,G)=>e(O,G,n)):k,wl(1),d?Fv(t):QM(()=>new Nv))}function I0(e,t){return ki(t)?Tt(e,t,1):Tt(e,1)}function Tl(e,t,d){const n=ki(e)||t||d?{next:e,error:t,complete:d}:e;return n?X((O,G)=>{var le;null===(le=n.subscribe)||void 0===le||le.call(n);let Oe=!0;O.subscribe(se(G,He=>{var et;null===(et=n.next)||void 0===et||et.call(n,He),G.next(He)},()=>{var He;Oe=!1,null===(He=n.complete)||void 0===He||He.call(n),G.complete()},He=>{var et;Oe=!1,null===(et=n.error)||void 0===et||et.call(n,He),G.error(He)},()=>{var He,et;Oe&&(null===(He=n.unsubscribe)||void 0===He||He.call(n)),null===(et=n.finalize)||void 0===et||et.call(n)}))}):k}function qd(e){return X((t,d)=>{let G,n=null,O=!1;n=t.subscribe(se(d,void 0,void 0,le=>{G=Je(e(le,qd(e)(t))),n?(n.unsubscribe(),n=null,G.subscribe(d)):O=!0})),O&&(n.unsubscribe(),n=null,G.subscribe(d))})}function _b(e){return e<=0?()=>Nt:X((t,d)=>{let n=[];t.subscribe(se(d,O=>{n.push(O),e<n.length&&n.shift()},()=>{for(const O of n)d.next(O);d.complete()},void 0,()=>{n=null}))})}function Am(e){return X((t,d)=>{try{t.subscribe(d)}finally{d.add(e)}})}const Gi="primary",Sm=Symbol("RouteTitle");class R9{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const d=this.params[t];return Array.isArray(d)?d[0]:d}return null}getAll(t){if(this.has(t)){const d=this.params[t];return Array.isArray(d)?d:[d]}return[]}get keys(){return Object.keys(this.params)}}function P0(e){return new R9(e)}function L9(e,t,d){const n=d.path.split("/");if(n.length>e.length||"full"===d.pathMatch&&(t.hasChildren()||n.length<e.length))return null;const O={};for(let G=0;G<n.length;G++){const le=n[G],Oe=e[G];if(le.startsWith(":"))O[le.substring(1)]=Oe;else if(le!==Oe.path)return null}return{consumed:e.slice(0,n.length),posParams:O}}function _f(e,t){const d=e?Object.keys(e):void 0,n=t?Object.keys(t):void 0;if(!d||!n||d.length!=n.length)return!1;let O;for(let G=0;G<d.length;G++)if(O=d[G],!tA(e[O],t[O]))return!1;return!0}function tA(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const d=[...e].sort(),n=[...t].sort();return d.every((O,G)=>n[G]===O)}return e===t}function nA(e){return e.length>0?e[e.length-1]:null}function Wd(e){return function x9(e){return!!e&&(e instanceof L||ki(e.lift)&&ki(e.subscribe))}(e)?e:am(e)?yn(Promise.resolve(e)):_n(e)}const F9={exact:function oA(e,t,d){if(!Fh(e.segments,t.segments)||!zv(e.segments,t.segments,d)||e.numberOfChildren!==t.numberOfChildren)return!1;for(const n in t.children)if(!e.children[n]||!oA(e.children[n],t.children[n],d))return!1;return!0},subset:aA},rA={exact:function z9(e,t){return _f(e,t)},subset:function B9(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(d=>tA(e[d],t[d]))},ignored:()=>!0};function iA(e,t,d){return F9[d.paths](e.root,t.root,d.matrixParams)&&rA[d.queryParams](e.queryParams,t.queryParams)&&!("exact"===d.fragment&&e.fragment!==t.fragment)}function aA(e,t,d){return sA(e,t,t.segments,d)}function sA(e,t,d,n){if(e.segments.length>d.length){const O=e.segments.slice(0,d.length);return!(!Fh(O,d)||t.hasChildren()||!zv(O,d,n))}if(e.segments.length===d.length){if(!Fh(e.segments,d)||!zv(e.segments,d,n))return!1;for(const O in t.children)if(!e.children[O]||!aA(e.children[O],t.children[O],n))return!1;return!0}{const O=d.slice(0,e.segments.length),G=d.slice(e.segments.length);return!!(Fh(e.segments,O)&&zv(e.segments,O,n)&&e.children[Gi])&&sA(e.children[Gi],t,G,n)}}function zv(e,t,d){return t.every((n,O)=>rA[d](e[O].parameters,n.parameters))}class R0{constructor(t=new ia([],{}),d={},n=null){this.root=t,this.queryParams=d,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=P0(this.queryParams)),this._queryParamMap}toString(){return U9.serialize(this)}}class ia{constructor(t,d){this.segments=t,this.children=d,this.parent=null,Object.values(d).forEach(n=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Bv(this)}}class km{constructor(t,d){this.path=t,this.parameters=d}get parameterMap(){return this._parameterMap||(this._parameterMap=P0(this.parameters)),this._parameterMap}toString(){return uA(this)}}function Fh(e,t){return e.length===t.length&&e.every((d,n)=>d.path===t[n].path)}let Em=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=tr({token:e,factory:function(){return new xb},providedIn:"root"}),t})();class xb{parse(t){const d=new Q9(t);return new R0(d.parseRootSegment(),d.parseQueryParams(),d.parseFragment())}serialize(t){const d=`/${Cm(t.root,!0)}`,n=function q9(e){const t=Object.keys(e).map(d=>{const n=e[d];return Array.isArray(n)?n.map(O=>`${jv(d)}=${jv(O)}`).join("&"):`${jv(d)}=${jv(n)}`}).filter(d=>!!d);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${d}${n}${"string"==typeof t.fragment?`#${function H9(e){return encodeURI(e)}(t.fragment)}`:""}`}}const U9=new xb;function Bv(e){return e.segments.map(t=>uA(t)).join("/")}function Cm(e,t){if(!e.hasChildren())return Bv(e);if(t){const d=e.children[Gi]?Cm(e.children[Gi],!1):"",n=[];return Object.entries(e.children).forEach(([O,G])=>{O!==Gi&&n.push(`${O}:${Cm(G,!1)}`)}),n.length>0?`${d}(${n.join("//")})`:d}{const d=function V9(e,t){let d=[];return Object.entries(e.children).forEach(([n,O])=>{n===Gi&&(d=d.concat(t(O,n)))}),Object.entries(e.children).forEach(([n,O])=>{n!==Gi&&(d=d.concat(t(O,n)))}),d}(e,(n,O)=>O===Gi?[Cm(e.children[Gi],!1)]:[`${O}:${Cm(n,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[Gi]?`${Bv(e)}/${d[0]}`:`${Bv(e)}/(${d.join("//")})`}}function lA(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function jv(e){return lA(e).replace(/%3B/gi,";")}function bb(e){return lA(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Vv(e){return decodeURIComponent(e)}function cA(e){return Vv(e.replace(/\+/g,"%20"))}function uA(e){return`${bb(e.path)}${function G9(e){return Object.keys(e).map(t=>`;${bb(t)}=${bb(e[t])}`).join("")}(e.parameters)}`}const W9=/^[^\/()?;#]+/;function wb(e){const t=e.match(W9);return t?t[0]:""}const $9=/^[^\/()?;=#]+/,Z9=/^[^=?&#]+/,J9=/^[^&#]+/;class Q9{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ia([],{}):new ia([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let d={};this.peekStartsWith("/(")&&(this.capture("/"),d=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(d).length>0)&&(n[Gi]=new ia(t,d)),n}parseSegment(){const t=wb(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new bn(4009,!1);return this.capture(t),new km(Vv(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const d=function Y9(e){const t=e.match($9);return t?t[0]:""}(this.remaining);if(!d)return;this.capture(d);let n="";if(this.consumeOptional("=")){const O=wb(this.remaining);O&&(n=O,this.capture(n))}t[Vv(d)]=Vv(n)}parseQueryParam(t){const d=function X9(e){const t=e.match(Z9);return t?t[0]:""}(this.remaining);if(!d)return;this.capture(d);let n="";if(this.consumeOptional("=")){const le=function K9(e){const t=e.match(J9);return t?t[0]:""}(this.remaining);le&&(n=le,this.capture(n))}const O=cA(d),G=cA(n);if(t.hasOwnProperty(O)){let le=t[O];Array.isArray(le)||(le=[le],t[O]=le),le.push(G)}else t[O]=G}parseParens(t){const d={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=wb(this.remaining),O=this.remaining[n.length];if("/"!==O&&")"!==O&&";"!==O)throw new bn(4010,!1);let G;n.indexOf(":")>-1?(G=n.slice(0,n.indexOf(":")),this.capture(G),this.capture(":")):t&&(G=Gi);const le=this.parseChildren();d[G]=1===Object.keys(le).length?le[Gi]:new ia([],le),this.consumeOptional("//")}return d}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new bn(4011,!1)}}function fA(e){return e.segments.length>0?new ia([],{[Gi]:e}):e}function dA(e){const t={};for(const n of Object.keys(e.children)){const G=dA(e.children[n]);if(n===Gi&&0===G.segments.length&&G.hasChildren())for(const[le,Oe]of Object.entries(G.children))t[le]=Oe;else(G.segments.length>0||G.hasChildren())&&(t[n]=G)}return function eP(e){if(1===e.numberOfChildren&&e.children[Gi]){const t=e.children[Gi];return new ia(e.segments.concat(t.segments),t.children)}return e}(new ia(e.segments,t))}function zh(e){return e instanceof R0}function hA(e){let t;const O=fA(function d(G){const le={};for(const He of G.children){const et=d(He);le[He.outlet]=et}const Oe=new ia(G.url,le);return G===e&&(t=Oe),Oe}(e.root));return t??O}function pA(e,t,d,n){let O=e;for(;O.parent;)O=O.parent;if(0===t.length)return Tb(O,O,O,d,n);const G=function nP(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new mA(!0,0,e);let t=0,d=!1;const n=e.reduce((O,G,le)=>{if("object"==typeof G&&null!=G){if(G.outlets){const Oe={};return Object.entries(G.outlets).forEach(([He,et])=>{Oe[He]="string"==typeof et?et.split("/"):et}),[...O,{outlets:Oe}]}if(G.segmentPath)return[...O,G.segmentPath]}return"string"!=typeof G?[...O,G]:0===le?(G.split("/").forEach((Oe,He)=>{0==He&&"."===Oe||(0==He&&""===Oe?d=!0:".."===Oe?t++:""!=Oe&&O.push(Oe))}),O):[...O,G]},[]);return new mA(d,t,n)}(t);if(G.toRoot())return Tb(O,O,new ia([],{}),d,n);const le=function rP(e,t,d){if(e.isAbsolute)return new Hv(t,!0,0);if(!d)return new Hv(t,!1,NaN);if(null===d.parent)return new Hv(d,!0,0);const n=Uv(e.commands[0])?0:1;return function iP(e,t,d){let n=e,O=t,G=d;for(;G>O;){if(G-=O,n=n.parent,!n)throw new bn(4005,!1);O=n.segments.length}return new Hv(n,!1,O-G)}(d,d.segments.length-1+n,e.numberOfDoubleDots)}(G,O,e),Oe=le.processChildren?Om(le.segmentGroup,le.index,G.commands):vA(le.segmentGroup,le.index,G.commands);return Tb(O,le.segmentGroup,Oe,d,n)}function Uv(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Dm(e){return"object"==typeof e&&null!=e&&e.outlets}function Tb(e,t,d,n,O){let le,G={};n&&Object.entries(n).forEach(([He,et])=>{G[He]=Array.isArray(et)?et.map(yt=>`${yt}`):`${et}`}),le=e===t?d:gA(e,t,d);const Oe=fA(dA(le));return new R0(Oe,G,O)}function gA(e,t,d){const n={};return Object.entries(e.children).forEach(([O,G])=>{n[O]=G===t?d:gA(G,t,d)}),new ia(e.segments,n)}class mA{constructor(t,d,n){if(this.isAbsolute=t,this.numberOfDoubleDots=d,this.commands=n,t&&n.length>0&&Uv(n[0]))throw new bn(4003,!1);const O=n.find(Dm);if(O&&O!==nA(n))throw new bn(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Hv{constructor(t,d,n){this.segmentGroup=t,this.processChildren=d,this.index=n}}function vA(e,t,d){if(e||(e=new ia([],{})),0===e.segments.length&&e.hasChildren())return Om(e,t,d);const n=function aP(e,t,d){let n=0,O=t;const G={match:!1,pathIndex:0,commandIndex:0};for(;O<e.segments.length;){if(n>=d.length)return G;const le=e.segments[O],Oe=d[n];if(Dm(Oe))break;const He=`${Oe}`,et=n<d.length-1?d[n+1]:null;if(O>0&&void 0===He)break;if(He&&et&&"object"==typeof et&&void 0===et.outlets){if(!_A(He,et,le))return G;n+=2}else{if(!_A(He,{},le))return G;n++}O++}return{match:!0,pathIndex:O,commandIndex:n}}(e,t,d),O=d.slice(n.commandIndex);if(n.match&&n.pathIndex<e.segments.length){const G=new ia(e.segments.slice(0,n.pathIndex),{});return G.children[Gi]=new ia(e.segments.slice(n.pathIndex),e.children),Om(G,0,O)}return n.match&&0===O.length?new ia(e.segments,{}):n.match&&!e.hasChildren()?Mb(e,t,d):n.match?Om(e,0,O):Mb(e,t,d)}function Om(e,t,d){if(0===d.length)return new ia(e.segments,{});{const n=function oP(e){return Dm(e[0])?e[0].outlets:{[Gi]:e}}(d),O={};if(!n[Gi]&&e.children[Gi]&&1===e.numberOfChildren&&0===e.children[Gi].segments.length){const G=Om(e.children[Gi],t,d);return new ia(e.segments,G.children)}return Object.entries(n).forEach(([G,le])=>{"string"==typeof le&&(le=[le]),null!==le&&(O[G]=vA(e.children[G],t,le))}),Object.entries(e.children).forEach(([G,le])=>{void 0===n[G]&&(O[G]=le)}),new ia(e.segments,O)}}function Mb(e,t,d){const n=e.segments.slice(0,t);let O=0;for(;O<d.length;){const G=d[O];if(Dm(G)){const He=sP(G.outlets);return new ia(n,He)}if(0===O&&Uv(d[0])){n.push(new km(e.segments[t].path,yA(d[0]))),O++;continue}const le=Dm(G)?G.outlets[Gi]:`${G}`,Oe=O<d.length-1?d[O+1]:null;le&&Oe&&Uv(Oe)?(n.push(new km(le,yA(Oe))),O+=2):(n.push(new km(le,{})),O++)}return new ia(n,{})}function sP(e){const t={};return Object.entries(e).forEach(([d,n])=>{"string"==typeof n&&(n=[n]),null!==n&&(t[d]=Mb(new ia([],{}),0,n))}),t}function yA(e){const t={};return Object.entries(e).forEach(([d,n])=>t[d]=`${n}`),t}function _A(e,t,d){return e==d.path&&_f(t,d.parameters)}const Im="imperative";class xf{constructor(t,d){this.id=t,this.url=d}}class Ab extends xf{constructor(t,d,n="imperative",O=null){super(t,d),this.type=0,this.navigationTrigger=n,this.restoredState=O}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Bh extends xf{constructor(t,d,n){super(t,d),this.urlAfterRedirects=n,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Gv extends xf{constructor(t,d,n,O){super(t,d),this.reason=n,this.code=O,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Pm extends xf{constructor(t,d,n,O){super(t,d),this.reason=n,this.code=O,this.type=16}}class Sb extends xf{constructor(t,d,n,O){super(t,d),this.error=n,this.target=O,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class lP extends xf{constructor(t,d,n,O){super(t,d),this.urlAfterRedirects=n,this.state=O,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class cP extends xf{constructor(t,d,n,O){super(t,d),this.urlAfterRedirects=n,this.state=O,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class uP extends xf{constructor(t,d,n,O,G){super(t,d),this.urlAfterRedirects=n,this.state=O,this.shouldActivate=G,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class fP extends xf{constructor(t,d,n,O){super(t,d),this.urlAfterRedirects=n,this.state=O,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class dP extends xf{constructor(t,d,n,O){super(t,d),this.urlAfterRedirects=n,this.state=O,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hP{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class pP{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class gP{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mP{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vP{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yP{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xA{constructor(t,d,n){this.routerEvent=t,this.position=d,this.anchor=n,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class _P{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Rm,this.attachRef=null}}let Rm=(()=>{var e;class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,O){const G=this.getOrCreateContext(n);G.outlet=O,this.contexts.set(n,G)}onChildOutletDestroyed(n){const O=this.getContext(n);O&&(O.outlet=null,O.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let O=this.getContext(n);return O||(O=new _P,this.contexts.set(n,O)),O}getContext(n){return this.contexts.get(n)||null}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=tr({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();class bA{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const d=this.pathFromRoot(t);return d.length>1?d[d.length-2]:null}children(t){const d=kb(t,this._root);return d?d.children.map(n=>n.value):[]}firstChild(t){const d=kb(t,this._root);return d&&d.children.length>0?d.children[0].value:null}siblings(t){const d=Eb(t,this._root);return d.length<2?[]:d[d.length-2].children.map(O=>O.value).filter(O=>O!==t)}pathFromRoot(t){return Eb(t,this._root).map(d=>d.value)}}function kb(e,t){if(e===t.value)return t;for(const d of t.children){const n=kb(e,d);if(n)return n}return null}function Eb(e,t){if(e===t.value)return[t];for(const d of t.children){const n=Eb(e,d);if(n.length)return n.unshift(t),n}return[]}class Qf{constructor(t,d){this.value=t,this.children=d}toString(){return`TreeNode(${this.value})`}}function L0(e){const t={};return e&&e.children.forEach(d=>t[d.value.outlet]=d),t}class wA extends bA{constructor(t,d){super(t),this.snapshot=d,Cb(this,t)}toString(){return this.snapshot.toString()}}function TA(e,t){const d=function xP(e,t){const le=new qv([],{},{},"",{},Gi,t,null,{});return new AA("",new Qf(le,[]))}(0,t),n=new U([new km("",{})]),O=new U({}),G=new U({}),le=new U({}),Oe=new U(""),He=new N0(n,O,le,Oe,G,Gi,t,d.root);return He.snapshot=d.root,new wA(new Qf(He,[]),d)}class N0{constructor(t,d,n,O,G,le,Oe,He){this.urlSubject=t,this.paramsSubject=d,this.queryParamsSubject=n,this.fragmentSubject=O,this.dataSubject=G,this.outlet=le,this.component=Oe,this._futureSnapshot=He,this.title=this.dataSubject?.pipe(ee(et=>et[Sm]))??_n(void 0),this.url=t,this.params=d,this.queryParams=n,this.fragment=O,this.data=G}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(ee(t=>P0(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(ee(t=>P0(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function MA(e,t="emptyOnly"){const d=e.pathFromRoot;let n=0;if("always"!==t)for(n=d.length-1;n>=1;){const O=d[n],G=d[n-1];if(O.routeConfig&&""===O.routeConfig.path)n--;else{if(G.component)break;n--}}return function bP(e){return e.reduce((t,d)=>({params:{...t.params,...d.params},data:{...t.data,...d.data},resolve:{...d.data,...t.resolve,...d.routeConfig?.data,...d._resolvedData}}),{params:{},data:{},resolve:{}})}(d.slice(n))}class qv{get title(){return this.data?.[Sm]}constructor(t,d,n,O,G,le,Oe,He,et){this.url=t,this.params=d,this.queryParams=n,this.fragment=O,this.data=G,this.outlet=le,this.component=Oe,this.routeConfig=He,this._resolve=et}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=P0(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=P0(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(n=>n.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class AA extends bA{constructor(t,d){super(d),this.url=t,Cb(this,d)}toString(){return SA(this._root)}}function Cb(e,t){t.value._routerState=e,t.children.forEach(d=>Cb(e,d))}function SA(e){const t=e.children.length>0?` { ${e.children.map(SA).join(", ")} } `:"";return`${e.value}${t}`}function Db(e){if(e.snapshot){const t=e.snapshot,d=e._futureSnapshot;e.snapshot=d,_f(t.queryParams,d.queryParams)||e.queryParamsSubject.next(d.queryParams),t.fragment!==d.fragment&&e.fragmentSubject.next(d.fragment),_f(t.params,d.params)||e.paramsSubject.next(d.params),function N9(e,t){if(e.length!==t.length)return!1;for(let d=0;d<e.length;++d)if(!_f(e[d],t[d]))return!1;return!0}(t.url,d.url)||e.urlSubject.next(d.url),_f(t.data,d.data)||e.dataSubject.next(d.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function Ob(e,t){const d=_f(e.params,t.params)&&function j9(e,t){return Fh(e,t)&&e.every((d,n)=>_f(d.parameters,t[n].parameters))}(e.url,t.url);return d&&!(!e.parent!=!t.parent)&&(!e.parent||Ob(e.parent,t.parent))}let kA=(()=>{var e;class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=Gi,this.activateEvents=new zr,this.deactivateEvents=new zr,this.attachEvents=new zr,this.detachEvents=new zr,this.parentContexts=Ur(Rm),this.location=Ur(cu),this.changeDetector=Ur(Fu),this.environmentInjector=Ur(bl),this.inputBinder=Ur(Wv,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:O,previousValue:G}=n.name;if(O)return;this.isTrackedInParentContexts(G)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(G)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new bn(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new bn(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new bn(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,O){this.activated=n,this._activatedRoute=O,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,O){if(this.isActivated)throw new bn(4013,!1);this._activatedRoute=n;const G=this.location,Oe=n.snapshot.component,He=this.parentContexts.getOrCreateContext(this.name).children,et=new wP(n,He,G.injector);this.activated=G.createComponent(Oe,{index:G.length,injector:et,environmentInjector:O??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275dir=Cr({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[zt]}),t})();class wP{constructor(t,d,n){this.route=t,this.childContexts=d,this.parent=n}get(t,d){return t===N0?this.route:t===Rm?this.childContexts:this.parent.get(t,d)}}const Wv=new ei("");let EA=(()=>{var e;class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:O}=n,G=vb([O.queryParams,O.params,O.data]).pipe(Ln(([le,Oe,He],et)=>(He={...le,...Oe,...He},0===et?_n(He):Promise.resolve(He)))).subscribe(le=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==O||null===O.component)return void this.unsubscribeFromRouteData(n);const Oe=function eI(e){const t=Ei(e);if(!t)return null;const d=new em(t);return{get selector(){return d.selector},get type(){return d.componentType},get inputs(){return d.inputs},get outputs(){return d.outputs},get ngContentSelectors(){return d.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}(O.component);if(Oe)for(const{templateName:He}of Oe.inputs)n.activatedComponentRef.setInput(He,le[He]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,G)}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=tr({token:e,factory:e.\u0275fac}),t})();function Lm(e,t,d){if(d&&e.shouldReuseRoute(t.value,d.value.snapshot)){const n=d.value;n._futureSnapshot=t.value;const O=function MP(e,t,d){return t.children.map(n=>{for(const O of d.children)if(e.shouldReuseRoute(n.value,O.value.snapshot))return Lm(e,n,O);return Lm(e,n)})}(e,t,d);return new Qf(n,O)}{if(e.shouldAttach(t.value)){const G=e.retrieve(t.value);if(null!==G){const le=G.route;return le.value._futureSnapshot=t.value,le.children=t.children.map(Oe=>Lm(e,Oe)),le}}const n=function AP(e){return new N0(new U(e.url),new U(e.params),new U(e.queryParams),new U(e.fragment),new U(e.data),e.outlet,e.component,e)}(t.value),O=t.children.map(G=>Lm(e,G));return new Qf(n,O)}}const Ib="ngNavigationCancelingError";function CA(e,t){const{redirectTo:d,navigationBehaviorOptions:n}=zh(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,O=DA(!1,0,t);return O.url=d,O.navigationBehaviorOptions=n,O}function DA(e,t,d){const n=new Error("NavigationCancelingError: "+(e||""));return n[Ib]=!0,n.cancellationCode=t,d&&(n.url=d),n}function OA(e){return IA(e)&&zh(e.url)}function IA(e){return e&&e[Ib]}let PA=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=ga({type:e,selectors:[["ng-component"]],standalone:!0,features:[lu],decls:1,vars:0,template:function(n,O){1&n&&ou(0,"router-outlet")},dependencies:[kA],encapsulation:2}),t})();function Pb(e){const t=e.children&&e.children.map(Pb),d=t?{...e,children:t}:{...e};return!d.component&&!d.loadComponent&&(t||d.loadChildren)&&d.outlet&&d.outlet!==Gi&&(d.component=PA),d}function ju(e){return e.outlet||Gi}function Nm(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){const d=t.routeConfig;if(d?._loadedInjector)return d._loadedInjector;if(d?._injector)return d._injector}return null}class IP{constructor(t,d,n,O,G){this.routeReuseStrategy=t,this.futureState=d,this.currState=n,this.forwardEvent=O,this.inputBindingEnabled=G}activate(t){const d=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(d,n,t),Db(this.futureState.root),this.activateChildRoutes(d,n,t)}deactivateChildRoutes(t,d,n){const O=L0(d);t.children.forEach(G=>{const le=G.value.outlet;this.deactivateRoutes(G,O[le],n),delete O[le]}),Object.values(O).forEach(G=>{this.deactivateRouteAndItsChildren(G,n)})}deactivateRoutes(t,d,n){const O=t.value,G=d?d.value:null;if(O===G)if(O.component){const le=n.getContext(O.outlet);le&&this.deactivateChildRoutes(t,d,le.children)}else this.deactivateChildRoutes(t,d,n);else G&&this.deactivateRouteAndItsChildren(d,n)}deactivateRouteAndItsChildren(t,d){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,d):this.deactivateRouteAndOutlet(t,d)}detachAndStoreRouteSubtree(t,d){const n=d.getContext(t.value.outlet),O=n&&t.value.component?n.children:d,G=L0(t);for(const le of Object.keys(G))this.deactivateRouteAndItsChildren(G[le],O);if(n&&n.outlet){const le=n.outlet.detach(),Oe=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:le,route:t,contexts:Oe})}}deactivateRouteAndOutlet(t,d){const n=d.getContext(t.value.outlet),O=n&&t.value.component?n.children:d,G=L0(t);for(const le of Object.keys(G))this.deactivateRouteAndItsChildren(G[le],O);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null)}activateChildRoutes(t,d,n){const O=L0(d);t.children.forEach(G=>{this.activateRoutes(G,O[G.value.outlet],n),this.forwardEvent(new yP(G.value.snapshot))}),t.children.length&&this.forwardEvent(new mP(t.value.snapshot))}activateRoutes(t,d,n){const O=t.value,G=d?d.value:null;if(Db(O),O===G)if(O.component){const le=n.getOrCreateContext(O.outlet);this.activateChildRoutes(t,d,le.children)}else this.activateChildRoutes(t,d,n);else if(O.component){const le=n.getOrCreateContext(O.outlet);if(this.routeReuseStrategy.shouldAttach(O.snapshot)){const Oe=this.routeReuseStrategy.retrieve(O.snapshot);this.routeReuseStrategy.store(O.snapshot,null),le.children.onOutletReAttached(Oe.contexts),le.attachRef=Oe.componentRef,le.route=Oe.route.value,le.outlet&&le.outlet.attach(Oe.componentRef,Oe.route.value),Db(Oe.route.value),this.activateChildRoutes(t,null,le.children)}else{const Oe=Nm(O.snapshot);le.attachRef=null,le.route=O,le.injector=Oe,le.outlet&&le.outlet.activateWith(O,le.injector),this.activateChildRoutes(t,null,le.children)}}else this.activateChildRoutes(t,null,n)}}class RA{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class $v{constructor(t,d){this.component=t,this.route=d}}function PP(e,t,d){const n=e._root;return Fm(n,t?t._root:null,d,[n.value])}function F0(e,t){const d=Symbol(),n=t.get(e,d);return n===d?"function"!=typeof e||function ii(e){return null!==Fr(e)}(e)?t.get(e):e:n}function Fm(e,t,d,n,O={canDeactivateChecks:[],canActivateChecks:[]}){const G=L0(t);return e.children.forEach(le=>{(function LP(e,t,d,n,O={canDeactivateChecks:[],canActivateChecks:[]}){const G=e.value,le=t?t.value:null,Oe=d?d.getContext(e.value.outlet):null;if(le&&G.routeConfig===le.routeConfig){const He=function NP(e,t,d){if("function"==typeof d)return d(e,t);switch(d){case"pathParamsChange":return!Fh(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Fh(e.url,t.url)||!_f(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ob(e,t)||!_f(e.queryParams,t.queryParams);default:return!Ob(e,t)}}(le,G,G.routeConfig.runGuardsAndResolvers);He?O.canActivateChecks.push(new RA(n)):(G.data=le.data,G._resolvedData=le._resolvedData),Fm(e,t,G.component?Oe?Oe.children:null:d,n,O),He&&Oe&&Oe.outlet&&Oe.outlet.isActivated&&O.canDeactivateChecks.push(new $v(Oe.outlet.component,le))}else le&&zm(t,Oe,O),O.canActivateChecks.push(new RA(n)),Fm(e,null,G.component?Oe?Oe.children:null:d,n,O)})(le,G[le.value.outlet],d,n.concat([le.value]),O),delete G[le.value.outlet]}),Object.entries(G).forEach(([le,Oe])=>zm(Oe,d.getContext(le),O)),O}function zm(e,t,d){const n=L0(e),O=e.value;Object.entries(n).forEach(([G,le])=>{zm(le,O.component?t?t.children.getContext(G):null:t,d)}),d.canDeactivateChecks.push(new $v(O.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,O))}function Bm(e){return"function"==typeof e}function LA(e){return e instanceof Nv||"EmptyError"===e?.name}const Yv=Symbol("INITIAL_VALUE");function z0(){return Ln(e=>vb(e.map(t=>t.pipe(wl(1),function KM(...e){const t=Zt(e);return X((d,n)=>{(t?Mm(e,d,t):Mm(e,d)).subscribe(n)})}(Yv)))).pipe(ee(t=>{for(const d of t)if(!0!==d){if(d===Yv)return Yv;if(!1===d||d instanceof R0)return d}return!0}),Vs(t=>t!==Yv),wl(1)))}function NA(e){return function P(...e){return R(e)}(Tl(t=>{if(zh(t))throw CA(0,t)}),ee(t=>!0===t))}class Zv{constructor(t){this.segmentGroup=t||null}}class FA{constructor(t){this.urlTree=t}}function B0(e){return O0(new Zv(e))}function zA(e){return O0(new FA(e))}class nR{constructor(t,d){this.urlSerializer=t,this.urlTree=d}noMatchError(t){return new bn(4002,!1)}lineralizeSegments(t,d){let n=[],O=d.root;for(;;){if(n=n.concat(O.segments),0===O.numberOfChildren)return _n(n);if(O.numberOfChildren>1||!O.children[Gi])return O0(new bn(4e3,!1));O=O.children[Gi]}}applyRedirectCommands(t,d,n){return this.applyRedirectCreateUrlTree(d,this.urlSerializer.parse(d),t,n)}applyRedirectCreateUrlTree(t,d,n,O){const G=this.createSegmentGroup(t,d.root,n,O);return new R0(G,this.createQueryParams(d.queryParams,this.urlTree.queryParams),d.fragment)}createQueryParams(t,d){const n={};return Object.entries(t).forEach(([O,G])=>{if("string"==typeof G&&G.startsWith(":")){const Oe=G.substring(1);n[O]=d[Oe]}else n[O]=G}),n}createSegmentGroup(t,d,n,O){const G=this.createSegments(t,d.segments,n,O);let le={};return Object.entries(d.children).forEach(([Oe,He])=>{le[Oe]=this.createSegmentGroup(t,He,n,O)}),new ia(G,le)}createSegments(t,d,n,O){return d.map(G=>G.path.startsWith(":")?this.findPosParam(t,G,O):this.findOrReturn(G,n))}findPosParam(t,d,n){const O=n[d.path.substring(1)];if(!O)throw new bn(4001,!1);return O}findOrReturn(t,d){let n=0;for(const O of d){if(O.path===t.path)return d.splice(n),O;n++}return t}}const Rb={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function rR(e,t,d,n,O){const G=Lb(e,t,d);return G.matched?(n=function SP(e,t){return e.providers&&!e._injector&&(e._injector=sx(e.providers,t,`Route: ${e.path}`)),e._injector??t}(t,n),function QP(e,t,d,n){const O=t.canMatch;return O&&0!==O.length?_n(O.map(le=>{const Oe=F0(le,e);return Wd(function UP(e){return e&&Bm(e.canMatch)}(Oe)?Oe.canMatch(t,d):e.runInContext(()=>Oe(t,d)))})).pipe(z0(),NA()):_n(!0)}(n,t,d).pipe(ee(le=>!0===le?G:{...Rb}))):_n(G)}function Lb(e,t,d){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||d.length>0)?{...Rb}:{matched:!0,consumedSegments:[],remainingSegments:d,parameters:{},positionalParamSegments:{}};const O=(t.matcher||L9)(d,e,t);if(!O)return{...Rb};const G={};Object.entries(O.posParams??{}).forEach(([Oe,He])=>{G[Oe]=He.path});const le=O.consumed.length>0?{...G,...O.consumed[O.consumed.length-1].parameters}:G;return{matched:!0,consumedSegments:O.consumed,remainingSegments:d.slice(O.consumed.length),parameters:le,positionalParamSegments:O.posParams??{}}}function BA(e,t,d,n){return d.length>0&&function aR(e,t,d){return d.some(n=>Xv(e,t,n)&&ju(n)!==Gi)}(e,d,n)?{segmentGroup:new ia(t,oR(n,new ia(d,e.children))),slicedSegments:[]}:0===d.length&&function sR(e,t,d){return d.some(n=>Xv(e,t,n))}(e,d,n)?{segmentGroup:new ia(e.segments,iR(e,0,d,n,e.children)),slicedSegments:d}:{segmentGroup:new ia(e.segments,e.children),slicedSegments:d}}function iR(e,t,d,n,O){const G={};for(const le of n)if(Xv(e,d,le)&&!O[ju(le)]){const Oe=new ia([],{});G[ju(le)]=Oe}return{...O,...G}}function oR(e,t){const d={};d[Gi]=t;for(const n of e)if(""===n.path&&ju(n)!==Gi){const O=new ia([],{});d[ju(n)]=O}return d}function Xv(e,t,d){return(!(e.hasChildren()||t.length>0)||"full"!==d.pathMatch)&&""===d.path}class fR{constructor(t,d,n,O,G,le,Oe){this.injector=t,this.configLoader=d,this.rootComponentType=n,this.config=O,this.urlTree=G,this.paramsInheritanceStrategy=le,this.urlSerializer=Oe,this.allowRedirects=!0,this.applyRedirects=new nR(this.urlSerializer,this.urlTree)}noMatchError(t){return new bn(4002,!1)}recognize(){const t=BA(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,Gi).pipe(qd(d=>{if(d instanceof FA)return this.allowRedirects=!1,this.urlTree=d.urlTree,this.match(d.urlTree);throw d instanceof Zv?this.noMatchError(d):d}),ee(d=>{const n=new qv([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Gi,this.rootComponentType,null,{}),O=new Qf(n,d),G=new AA("",O),le=function tP(e,t,d=null,n=null){return pA(hA(e),t,d,n)}(n,[],this.urlTree.queryParams,this.urlTree.fragment);return le.queryParams=this.urlTree.queryParams,G.url=this.urlSerializer.serialize(le),this.inheritParamsAndData(G._root),{state:G,tree:le}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t.root,Gi).pipe(qd(n=>{throw n instanceof Zv?this.noMatchError(n):n}))}inheritParamsAndData(t){const d=t.value,n=MA(d,this.paramsInheritanceStrategy);d.params=Object.freeze(n.params),d.data=Object.freeze(n.data),t.children.forEach(O=>this.inheritParamsAndData(O))}processSegmentGroup(t,d,n,O){return 0===n.segments.length&&n.hasChildren()?this.processChildren(t,d,n):this.processSegment(t,d,n,n.segments,O,!0)}processChildren(t,d,n){const O=[];for(const G of Object.keys(n.children))"primary"===G?O.unshift(G):O.push(G);return yn(O).pipe(I0(G=>{const le=n.children[G],Oe=function DP(e,t){const d=e.filter(n=>ju(n)===t);return d.push(...e.filter(n=>ju(n)!==t)),d}(d,G);return this.processSegmentGroup(t,Oe,le,G)}),function I9(e,t){return X(function O9(e,t,d,n,O){return(G,le)=>{let Oe=d,He=t,et=0;G.subscribe(se(le,yt=>{const Pt=et++;He=Oe?e(He,yt,Pt):(Oe=!0,yt),n&&le.next(He)},O&&(()=>{Oe&&le.next(He),le.complete()})))}}(e,t,arguments.length>=2,!0))}((G,le)=>(G.push(...le),G)),Fv(null),function P9(e,t){const d=arguments.length>=2;return n=>n.pipe(e?Vs((O,G)=>e(O,G,n)):k,_b(1),d?Fv(t):QM(()=>new Nv))}(),Tt(G=>{if(null===G)return B0(n);const le=jA(G);return function dR(e){e.sort((t,d)=>t.value.outlet===Gi?-1:d.value.outlet===Gi?1:t.value.outlet.localeCompare(d.value.outlet))}(le),_n(le)}))}processSegment(t,d,n,O,G,le){return yn(d).pipe(I0(Oe=>this.processSegmentAgainstRoute(Oe._injector??t,d,Oe,n,O,G,le).pipe(qd(He=>{if(He instanceof Zv)return _n(null);throw He}))),Nh(Oe=>!!Oe),qd(Oe=>{if(LA(Oe))return function cR(e,t,d){return 0===t.length&&!e.children[d]}(n,O,G)?_n([]):B0(n);throw Oe}))}processSegmentAgainstRoute(t,d,n,O,G,le,Oe){return function lR(e,t,d,n){return!!(ju(e)===n||n!==Gi&&Xv(t,d,e))&&("**"===e.path||Lb(t,e,d).matched)}(n,O,G,le)?void 0===n.redirectTo?this.matchSegmentAgainstRoute(t,O,n,G,le,Oe):Oe&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,O,d,n,G,le):B0(O):B0(O)}expandSegmentAgainstRouteUsingRedirect(t,d,n,O,G,le){return"**"===O.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,O,le):this.expandRegularSegmentAgainstRouteUsingRedirect(t,d,n,O,G,le)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,d,n,O){const G=this.applyRedirects.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?zA(G):this.applyRedirects.lineralizeSegments(n,G).pipe(Tt(le=>{const Oe=new ia(le,{});return this.processSegment(t,d,Oe,le,O,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,d,n,O,G,le){const{matched:Oe,consumedSegments:He,remainingSegments:et,positionalParamSegments:yt}=Lb(d,O,G);if(!Oe)return B0(d);const Pt=this.applyRedirects.applyRedirectCommands(He,O.redirectTo,yt);return O.redirectTo.startsWith("/")?zA(Pt):this.applyRedirects.lineralizeSegments(O,Pt).pipe(Tt(Qt=>this.processSegment(t,n,d,Qt.concat(et),le,!1)))}matchSegmentAgainstRoute(t,d,n,O,G,le){let Oe;if("**"===n.path){const He=O.length>0?nA(O).parameters:{};Oe=_n({snapshot:new qv(O,He,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,VA(n),ju(n),n.component??n._loadedComponent??null,n,UA(n)),consumedSegments:[],remainingSegments:[]}),d.children={}}else Oe=rR(d,n,O,t).pipe(ee(({matched:He,consumedSegments:et,remainingSegments:yt,parameters:Pt})=>He?{snapshot:new qv(et,Pt,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,VA(n),ju(n),n.component??n._loadedComponent??null,n,UA(n)),consumedSegments:et,remainingSegments:yt}:null));return Oe.pipe(Ln(He=>null===He?B0(d):this.getChildConfig(t=n._injector??t,n,O).pipe(Ln(({routes:et})=>{const yt=n._loadedInjector??t,{snapshot:Pt,consumedSegments:Qt,remainingSegments:cn}=He,{segmentGroup:Vn,slicedSegments:Jn}=BA(d,Qt,cn,et);if(0===Jn.length&&Vn.hasChildren())return this.processChildren(yt,et,Vn).pipe(ee(pr=>null===pr?null:[new Qf(Pt,pr)]));if(0===et.length&&0===Jn.length)return _n([new Qf(Pt,[])]);const Kn=ju(n)===G;return this.processSegment(yt,et,Vn,Jn,Kn?Gi:G,!0).pipe(ee(pr=>[new Qf(Pt,pr)]))}))))}getChildConfig(t,d,n){return d.children?_n({routes:d.children,injector:t}):d.loadChildren?void 0!==d._loadedRoutes?_n({routes:d._loadedRoutes,injector:d._loadedInjector}):function KP(e,t,d,n){const O=t.canLoad;return void 0===O||0===O.length?_n(!0):_n(O.map(le=>{const Oe=F0(le,e);return Wd(function zP(e){return e&&Bm(e.canLoad)}(Oe)?Oe.canLoad(t,d):e.runInContext(()=>Oe(t,d)))})).pipe(z0(),NA())}(t,d,n).pipe(Tt(O=>O?this.configLoader.loadChildren(t,d).pipe(Tl(G=>{d._loadedRoutes=G.routes,d._loadedInjector=G.injector})):function tR(e){return O0(DA(!1,3))}())):_n({routes:[],injector:t})}}function hR(e){const t=e.value.routeConfig;return t&&""===t.path}function jA(e){const t=[],d=new Set;for(const n of e){if(!hR(n)){t.push(n);continue}const O=t.find(G=>n.value.routeConfig===G.value.routeConfig);void 0!==O?(O.children.push(...n.children),d.add(O)):t.push(n)}for(const n of d){const O=jA(n.children);t.push(new Qf(n.value,O))}return t.filter(n=>!d.has(n))}function VA(e){return e.data||{}}function UA(e){return e.resolve||{}}function gR(e,t){return Tt(d=>{const{targetSnapshot:n,guards:{canActivateChecks:O}}=d;if(!O.length)return _n(d);let G=0;return yn(O).pipe(I0(le=>function mR(e,t,d,n){const O=e.routeConfig,G=e._resolve;return void 0!==O?.title&&!HA(O)&&(G[Sm]=O.title),function vR(e,t,d,n){const O=function yR(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}(e);if(0===O.length)return _n({});const G={};return yn(O).pipe(Tt(le=>function _R(e,t,d,n){const O=Nm(t)??n,G=F0(e,O);return Wd(G.resolve?G.resolve(t,d):O.runInContext(()=>G(t,d)))}(e[le],t,d,n).pipe(Nh(),Tl(Oe=>{G[le]=Oe}))),_b(1),function eA(e){return ee(()=>e)}(G),qd(le=>LA(le)?Nt:O0(le)))}(G,e,t,n).pipe(ee(le=>(e._resolvedData=le,e.data=MA(e,d).resolve,O&&HA(O)&&(e.data[Sm]=O.title),null)))}(le.route,n,e,t)),Tl(()=>G++),_b(1),Tt(le=>G===O.length?_n(d):Nt))})}function HA(e){return"string"==typeof e.title||null===e.title}function Nb(e){return Ln(t=>{const d=e(t);return d?yn(d).pipe(ee(()=>t)):_n(t)})}const j0=new ei("ROUTES");let Fb=(()=>{var e;class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=Ur(m5)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return _n(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const O=Wd(n.loadComponent()).pipe(ee(GA),Tl(le=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=le}),Am(()=>{this.componentLoaders.delete(n)})),G=new JM(O,()=>new Y).pipe(yb());return this.componentLoaders.set(n,G),G}loadChildren(n,O){if(this.childrenLoaders.get(O))return this.childrenLoaders.get(O);if(O._loadedRoutes)return _n({routes:O._loadedRoutes,injector:O._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(O);const le=this.loadModuleFactoryOrRoutes(O.loadChildren).pipe(ee(He=>{this.onLoadEndListener&&this.onLoadEndListener(O);let et,yt;return Array.isArray(He)?yt=He:(et=He.create(n).injector,yt=et.get(j0,[],fi.Self|fi.Optional).flat()),{routes:yt.map(Pb),injector:et}}),Am(()=>{this.childrenLoaders.delete(O)})),Oe=new JM(le,()=>new Y).pipe(yb());return this.childrenLoaders.set(O,Oe),Oe}loadModuleFactoryOrRoutes(n){return Wd(n()).pipe(ee(GA),Tt(O=>O instanceof kT||Array.isArray(O)?_n(O):yn(this.compiler.compileModuleAsync(O))))}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=tr({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function GA(e){return function xR(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let Jv=(()=>{var e;class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Y,this.configLoader=Ur(Fb),this.environmentInjector=Ur(bl),this.urlSerializer=Ur(Em),this.rootContexts=Ur(Rm),this.inputBindingEnabled=null!==Ur(Wv,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>_n(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=G=>this.events.next(new pP(G)),this.configLoader.onLoadStartListener=G=>this.events.next(new hP(G))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const O=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:O})}setupNavigations(n){return this.transitions=new U({id:0,currentUrlTree:n.currentUrlTree,currentRawUrl:n.currentUrlTree,extractedUrl:n.urlHandlingStrategy.extract(n.currentUrlTree),urlAfterRedirects:n.urlHandlingStrategy.extract(n.currentUrlTree),rawUrl:n.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Im,restoredState:null,currentSnapshot:n.routerState.snapshot,targetSnapshot:null,currentRouterState:n.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Vs(O=>0!==O.id),ee(O=>({...O,extractedUrl:n.urlHandlingStrategy.extract(O.rawUrl)})),Ln(O=>{let G=!1,le=!1;return _n(O).pipe(Tl(Oe=>{this.currentNavigation={id:Oe.id,initialUrl:Oe.rawUrl,extractedUrl:Oe.extractedUrl,trigger:Oe.source,extras:Oe.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Ln(Oe=>{const He=n.browserUrlTree.toString(),et=!n.navigated||Oe.extractedUrl.toString()!==He||He!==n.currentUrlTree.toString();if(!et&&"reload"!==(Oe.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const Pt="";return this.events.next(new Pm(Oe.id,n.serializeUrl(O.rawUrl),Pt,0)),n.rawUrlTree=Oe.rawUrl,Oe.resolve(null),Nt}if(n.urlHandlingStrategy.shouldProcessUrl(Oe.rawUrl))return qA(Oe.source)&&(n.browserUrlTree=Oe.extractedUrl),_n(Oe).pipe(Ln(Pt=>{const Qt=this.transitions?.getValue();return this.events.next(new Ab(Pt.id,this.urlSerializer.serialize(Pt.extractedUrl),Pt.source,Pt.restoredState)),Qt!==this.transitions?.getValue()?Nt:Promise.resolve(Pt)}),function pR(e,t,d,n,O,G){return Tt(le=>function uR(e,t,d,n,O,G,le="emptyOnly"){return new fR(e,t,d,n,O,le,G).recognize()}(e,t,d,n,le.extractedUrl,O,G).pipe(ee(({state:Oe,tree:He})=>({...le,targetSnapshot:Oe,urlAfterRedirects:He}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),Tl(Pt=>{if(O.targetSnapshot=Pt.targetSnapshot,O.urlAfterRedirects=Pt.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Pt.urlAfterRedirects},"eager"===n.urlUpdateStrategy){if(!Pt.extras.skipLocationChange){const cn=n.urlHandlingStrategy.merge(Pt.urlAfterRedirects,Pt.rawUrl);n.setBrowserUrl(cn,Pt)}n.browserUrlTree=Pt.urlAfterRedirects}const Qt=new lP(Pt.id,this.urlSerializer.serialize(Pt.extractedUrl),this.urlSerializer.serialize(Pt.urlAfterRedirects),Pt.targetSnapshot);this.events.next(Qt)}));if(et&&n.urlHandlingStrategy.shouldProcessUrl(n.rawUrlTree)){const{id:Pt,extractedUrl:Qt,source:cn,restoredState:Vn,extras:Jn}=Oe,Kn=new Ab(Pt,this.urlSerializer.serialize(Qt),cn,Vn);this.events.next(Kn);const pr=TA(0,this.rootComponentType).snapshot;return _n(O={...Oe,targetSnapshot:pr,urlAfterRedirects:Qt,extras:{...Jn,skipLocationChange:!1,replaceUrl:!1}})}{const Pt="";return this.events.next(new Pm(Oe.id,n.serializeUrl(O.extractedUrl),Pt,1)),n.rawUrlTree=Oe.rawUrl,Oe.resolve(null),Nt}}),Tl(Oe=>{const He=new cP(Oe.id,this.urlSerializer.serialize(Oe.extractedUrl),this.urlSerializer.serialize(Oe.urlAfterRedirects),Oe.targetSnapshot);this.events.next(He)}),ee(Oe=>O={...Oe,guards:PP(Oe.targetSnapshot,Oe.currentSnapshot,this.rootContexts)}),function GP(e,t){return Tt(d=>{const{targetSnapshot:n,currentSnapshot:O,guards:{canActivateChecks:G,canDeactivateChecks:le}}=d;return 0===le.length&&0===G.length?_n({...d,guardsResult:!0}):function qP(e,t,d,n){return yn(e).pipe(Tt(O=>function JP(e,t,d,n,O){const G=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return G&&0!==G.length?_n(G.map(Oe=>{const He=Nm(t)??O,et=F0(Oe,He);return Wd(function VP(e){return e&&Bm(e.canDeactivate)}(et)?et.canDeactivate(e,t,d,n):He.runInContext(()=>et(e,t,d,n))).pipe(Nh())})).pipe(z0()):_n(!0)}(O.component,O.route,d,t,n)),Nh(O=>!0!==O,!0))}(le,n,O,e).pipe(Tt(Oe=>Oe&&function FP(e){return"boolean"==typeof e}(Oe)?function WP(e,t,d,n){return yn(t).pipe(I0(O=>Mm(function YP(e,t){return null!==e&&t&&t(new gP(e)),_n(!0)}(O.route.parent,n),function $P(e,t){return null!==e&&t&&t(new vP(e)),_n(!0)}(O.route,n),function XP(e,t,d){const n=t[t.length-1],G=t.slice(0,t.length-1).reverse().map(le=>function RP(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(le)).filter(le=>null!==le).map(le=>XM(()=>_n(le.guards.map(He=>{const et=Nm(le.node)??d,yt=F0(He,et);return Wd(function jP(e){return e&&Bm(e.canActivateChild)}(yt)?yt.canActivateChild(n,e):et.runInContext(()=>yt(n,e))).pipe(Nh())})).pipe(z0())));return _n(G).pipe(z0())}(e,O.path,d),function ZP(e,t,d){const n=t.routeConfig?t.routeConfig.canActivate:null;if(!n||0===n.length)return _n(!0);const O=n.map(G=>XM(()=>{const le=Nm(t)??d,Oe=F0(G,le);return Wd(function BP(e){return e&&Bm(e.canActivate)}(Oe)?Oe.canActivate(t,e):le.runInContext(()=>Oe(t,e))).pipe(Nh())}));return _n(O).pipe(z0())}(e,O.route,d))),Nh(O=>!0!==O,!0))}(n,G,e,t):_n(Oe)),ee(Oe=>({...d,guardsResult:Oe})))})}(this.environmentInjector,Oe=>this.events.next(Oe)),Tl(Oe=>{if(O.guardsResult=Oe.guardsResult,zh(Oe.guardsResult))throw CA(0,Oe.guardsResult);const He=new uP(Oe.id,this.urlSerializer.serialize(Oe.extractedUrl),this.urlSerializer.serialize(Oe.urlAfterRedirects),Oe.targetSnapshot,!!Oe.guardsResult);this.events.next(He)}),Vs(Oe=>!!Oe.guardsResult||(n.restoreHistory(Oe),this.cancelNavigationTransition(Oe,"",3),!1)),Nb(Oe=>{if(Oe.guards.canActivateChecks.length)return _n(Oe).pipe(Tl(He=>{const et=new fP(He.id,this.urlSerializer.serialize(He.extractedUrl),this.urlSerializer.serialize(He.urlAfterRedirects),He.targetSnapshot);this.events.next(et)}),Ln(He=>{let et=!1;return _n(He).pipe(gR(n.paramsInheritanceStrategy,this.environmentInjector),Tl({next:()=>et=!0,complete:()=>{et||(n.restoreHistory(He),this.cancelNavigationTransition(He,"",2))}}))}),Tl(He=>{const et=new dP(He.id,this.urlSerializer.serialize(He.extractedUrl),this.urlSerializer.serialize(He.urlAfterRedirects),He.targetSnapshot);this.events.next(et)}))}),Nb(Oe=>{const He=et=>{const yt=[];et.routeConfig?.loadComponent&&!et.routeConfig._loadedComponent&&yt.push(this.configLoader.loadComponent(et.routeConfig).pipe(Tl(Pt=>{et.component=Pt}),ee(()=>{})));for(const Pt of et.children)yt.push(...He(Pt));return yt};return vb(He(Oe.targetSnapshot.root)).pipe(Fv(),wl(1))}),Nb(()=>this.afterPreactivation()),ee(Oe=>{const He=function TP(e,t,d){const n=Lm(e,t._root,d?d._root:void 0);return new wA(n,t)}(n.routeReuseStrategy,Oe.targetSnapshot,Oe.currentRouterState);return O={...Oe,targetRouterState:He}}),Tl(Oe=>{n.currentUrlTree=Oe.urlAfterRedirects,n.rawUrlTree=n.urlHandlingStrategy.merge(Oe.urlAfterRedirects,Oe.rawUrl),n.routerState=Oe.targetRouterState,"deferred"===n.urlUpdateStrategy&&(Oe.extras.skipLocationChange||n.setBrowserUrl(n.rawUrlTree,Oe),n.browserUrlTree=Oe.urlAfterRedirects)}),((e,t,d,n)=>ee(O=>(new IP(t,O.targetRouterState,O.currentRouterState,d,n).activate(e),O)))(this.rootContexts,n.routeReuseStrategy,Oe=>this.events.next(Oe),this.inputBindingEnabled),wl(1),Tl({next:Oe=>{G=!0,this.lastSuccessfulNavigation=this.currentNavigation,n.navigated=!0,this.events.next(new Bh(Oe.id,this.urlSerializer.serialize(Oe.extractedUrl),this.urlSerializer.serialize(n.currentUrlTree))),n.titleStrategy?.updateTitle(Oe.targetRouterState.snapshot),Oe.resolve(!0)},complete:()=>{G=!0}}),Am(()=>{G||le||this.cancelNavigationTransition(O,"",1),this.currentNavigation?.id===O.id&&(this.currentNavigation=null)}),qd(Oe=>{if(le=!0,IA(Oe)){OA(Oe)||(n.navigated=!0,n.restoreHistory(O,!0));const He=new Gv(O.id,this.urlSerializer.serialize(O.extractedUrl),Oe.message,Oe.cancellationCode);if(this.events.next(He),OA(Oe)){const et=n.urlHandlingStrategy.merge(Oe.url,n.rawUrlTree),yt={skipLocationChange:O.extras.skipLocationChange,replaceUrl:"eager"===n.urlUpdateStrategy||qA(O.source)};n.scheduleNavigation(et,Im,null,yt,{resolve:O.resolve,reject:O.reject,promise:O.promise})}else O.resolve(!1)}else{n.restoreHistory(O,!0);const He=new Sb(O.id,this.urlSerializer.serialize(O.extractedUrl),Oe,O.targetSnapshot??void 0);this.events.next(He);try{O.resolve(n.errorHandler(Oe))}catch(et){O.reject(et)}}return Nt}))}))}cancelNavigationTransition(n,O,G){const le=new Gv(n.id,this.urlSerializer.serialize(n.extractedUrl),O,G);this.events.next(le),n.resolve(!1)}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=tr({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function qA(e){return e!==Im}let WA=(()=>{var e;class t{buildTitle(n){let O,G=n.root;for(;void 0!==G;)O=this.getResolvedTitleForRoute(G)??O,G=G.children.find(le=>le.outlet===Gi);return O}getResolvedTitleForRoute(n){return n.data[Sm]}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=tr({token:e,factory:function(){return Ur(bR)},providedIn:"root"}),t})(),bR=(()=>{var e;class t extends WA{constructor(n){super(),this.title=n}updateTitle(n){const O=this.buildTitle(n);void 0!==O&&this.title.setTitle(O)}}return(e=t).\u0275fac=function(n){return new(n||e)(Vr(HM))},e.\u0275prov=tr({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),wR=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=tr({token:e,factory:function(){return Ur(MR)},providedIn:"root"}),t})();class TR{shouldDetach(t){return!1}store(t,d){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,d){return t.routeConfig===d.routeConfig}}let MR=(()=>{var e;class t extends TR{}return(e=t).\u0275fac=function(){let d;return function(O){return(d||(d=function $a(e){return Ba(()=>{const t=e.prototype.constructor,d=t[Ta]||hg(t),n=Object.prototype;let O=Object.getPrototypeOf(e.prototype).constructor;for(;O&&O!==n;){const G=O[Ta]||hg(O);if(G&&G!==d)return G;O=Object.getPrototypeOf(O)}return G=>new G})}(e)))(O||e)}}(),e.\u0275prov=tr({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const Kv=new ei("",{providedIn:"root",factory:()=>({})});let AR=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=tr({token:e,factory:function(){return Ur(SR)},providedIn:"root"}),t})(),SR=(()=>{var e;class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,O){return n}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=tr({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();var jm=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(jm||{});function $A(e,t){e.events.pipe(Vs(d=>d instanceof Bh||d instanceof Gv||d instanceof Sb||d instanceof Pm),ee(d=>d instanceof Bh||d instanceof Pm?jm.COMPLETE:d instanceof Gv&&(0===d.code||1===d.code)?jm.REDIRECTING:jm.FAILED),Vs(d=>d!==jm.REDIRECTING),wl(1)).subscribe(()=>{t()})}function kR(e){throw e}function ER(e,t,d){return t.parse("/")}const CR={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},DR={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let du=(()=>{var e;class t{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=Ur(g5),this.isNgZoneEnabled=!1,this.options=Ur(Kv,{optional:!0})||{},this.pendingTasks=Ur(mv),this.errorHandler=this.options.errorHandler||kR,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||ER,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=Ur(AR),this.routeReuseStrategy=Ur(wR),this.titleStrategy=Ur(WA),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Ur(j0,{optional:!0})?.flat()??[],this.navigationTransitions=Ur(Jv),this.urlSerializer=Ur(Em),this.location=Ur(Gx),this.componentInputBindingEnabled=!!Ur(Wv,{optional:!0}),this.isNgZoneEnabled=Ur(Lo)instanceof Lo&&Lo.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new R0,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=TA(0,null),this.navigationTransitions.setupNavigations(this).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId??0},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Im,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const O="popstate"===n.type?"popstate":"hashchange";"popstate"===O&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,O,n.state)},0)}))}navigateToSyncWithBrowser(n,O,G){const le={replaceUrl:!0},Oe=G?.navigationId?G:null;if(G){const et={...G};delete et.navigationId,delete et.\u0275routerPageId,0!==Object.keys(et).length&&(le.state=et)}const He=this.parseUrl(n);this.scheduleNavigation(He,O,Oe,le)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Pb),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,O={}){const{relativeTo:G,queryParams:le,fragment:Oe,queryParamsHandling:He,preserveFragment:et}=O,yt=et?this.currentUrlTree.fragment:Oe;let Qt,Pt=null;switch(He){case"merge":Pt={...this.currentUrlTree.queryParams,...le};break;case"preserve":Pt=this.currentUrlTree.queryParams;break;default:Pt=le||null}null!==Pt&&(Pt=this.removeEmptyProps(Pt));try{Qt=hA(G?G.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),Qt=this.currentUrlTree.root}return pA(Qt,n,Pt,yt??null)}navigateByUrl(n,O={skipLocationChange:!1}){const G=zh(n)?n:this.parseUrl(n),le=this.urlHandlingStrategy.merge(G,this.rawUrlTree);return this.scheduleNavigation(le,Im,null,O)}navigate(n,O={skipLocationChange:!1}){return function OR(e){for(let t=0;t<e.length;t++)if(null==e[t])throw new bn(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,O),O)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let O;try{O=this.urlSerializer.parse(n)}catch(G){O=this.malformedUriErrorHandler(G,this.urlSerializer,n)}return O}isActive(n,O){let G;if(G=!0===O?{...CR}:!1===O?{...DR}:O,zh(n))return iA(this.currentUrlTree,n,G);const le=this.parseUrl(n);return iA(this.currentUrlTree,le,G)}removeEmptyProps(n){return Object.keys(n).reduce((O,G)=>{const le=n[G];return null!=le&&(O[G]=le),O},{})}scheduleNavigation(n,O,G,le,Oe){if(this.disposed)return Promise.resolve(!1);let He,et,yt;Oe?(He=Oe.resolve,et=Oe.reject,yt=Oe.promise):yt=new Promise((Qt,cn)=>{He=Qt,et=cn});const Pt=this.pendingTasks.add();return $A(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Pt))}),this.navigationTransitions.handleNavigationRequest({source:O,restoredState:G,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:le,resolve:He,reject:et,promise:yt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),yt.catch(Qt=>Promise.reject(Qt))}setBrowserUrl(n,O){const G=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(G)||O.extras.replaceUrl){const Oe={...O.extras.state,...this.generateNgRouterState(O.id,this.browserPageId)};this.location.replaceState(G,"",Oe)}else{const le={...O.extras.state,...this.generateNgRouterState(O.id,(this.browserPageId??0)+1)};this.location.go(G,"",le)}}restoreHistory(n,O=!1){if("computed"===this.canceledNavigationResolution){const le=this.currentPageId-(this.browserPageId??this.currentPageId);0!==le?this.location.historyGo(le):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===le&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(O&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,O){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:O}:{navigationId:n}}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=tr({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();class YA{}let RR=(()=>{var e;class t{constructor(n,O,G,le,Oe){this.router=n,this.injector=G,this.preloadingStrategy=le,this.loader=Oe}setUpPreloading(){this.subscription=this.router.events.pipe(Vs(n=>n instanceof Bh),I0(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,O){const G=[];for(const le of O){le.providers&&!le._injector&&(le._injector=sx(le.providers,n,`Route: ${le.path}`));const Oe=le._injector??n,He=le._loadedInjector??Oe;(le.loadChildren&&!le._loadedRoutes&&void 0===le.canLoad||le.loadComponent&&!le._loadedComponent)&&G.push(this.preloadConfig(Oe,le)),(le.children||le._loadedRoutes)&&G.push(this.processRoutes(He,le.children??le._loadedRoutes))}return yn(G).pipe(xt())}preloadConfig(n,O){return this.preloadingStrategy.preload(O,()=>{let G;G=O.loadChildren&&void 0===O.canLoad?this.loader.loadChildren(n,O):_n(null);const le=G.pipe(Tt(Oe=>null===Oe?_n(void 0):(O._loadedRoutes=Oe.routes,O._loadedInjector=Oe.injector,this.processRoutes(Oe.injector??n,Oe.routes))));return O.loadComponent&&!O._loadedComponent?yn([le,this.loader.loadComponent(O)]).pipe(xt()):le})}}return(e=t).\u0275fac=function(n){return new(n||e)(Vr(du),Vr(m5),Vr(bl),Vr(YA),Vr(Fb))},e.\u0275prov=tr({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const Bb=new ei("");let ZA=(()=>{var e;class t{constructor(n,O,G,le,Oe={}){this.urlSerializer=n,this.transitions=O,this.viewportScroller=G,this.zone=le,this.options=Oe,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Oe.scrollPositionRestoration=Oe.scrollPositionRestoration||"disabled",Oe.anchorScrolling=Oe.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Ab?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Bh?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Pm&&0===n.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof xA&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,O){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new xA(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,O))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return(e=t).\u0275fac=function(n){!function vw(){throw new Error("invalid")}()},e.\u0275prov=tr({token:e,factory:e.\u0275fac}),t})();function ed(e,t){return{\u0275kind:e,\u0275providers:t}}function JA(){const e=Ur(_c);return t=>{const d=e.get(Ud);if(t!==d.components[0])return;const n=e.get(du),O=e.get(KA);1===e.get(jb)&&n.initialNavigation(),e.get(QA,null,fi.Optional)?.setUpPreloading(),e.get(Bb,null,fi.Optional)?.init(),n.resetRootComponentType(d.componentTypes[0]),O.closed||(O.next(),O.complete(),O.unsubscribe())}}const KA=new ei("",{factory:()=>new Y}),jb=new ei("",{providedIn:"root",factory:()=>1}),QA=new ei("");function zR(e){return ed(0,[{provide:QA,useExisting:RR},{provide:YA,useExisting:e}])}const e4=new ei("ROUTER_FORROOT_GUARD"),jR=[Gx,{provide:Em,useClass:xb},du,Rm,{provide:N0,useFactory:function XA(e){return e.routerState.root},deps:[du]},Fb,[]];function VR(){return new k5("Router",du)}let t4=(()=>{var e;class t{constructor(n){}static forRoot(n,O){return{ngModule:t,providers:[jR,[],{provide:j0,multi:!0,useValue:n},{provide:e4,useFactory:qR,deps:[[du,new sh,new Ms]]},{provide:Kv,useValue:O||{}},O?.useHash?{provide:Rh,useClass:oI}:{provide:Rh,useClass:tM},{provide:Bb,useFactory:()=>{const e=Ur(x7),t=Ur(Lo),d=Ur(Kv),n=Ur(Jv),O=Ur(Em);return d.scrollOffset&&e.setOffset(d.scrollOffset),new ZA(O,n,e,t,d)}},O?.preloadingStrategy?zR(O.preloadingStrategy).\u0275providers:[],{provide:k5,multi:!0,useFactory:VR},O?.initialNavigation?WR(O):[],O?.bindToComponentInputs?ed(8,[EA,{provide:Wv,useExisting:EA}]).\u0275providers:[],[{provide:n4,useFactory:JA},{provide:Ix,multi:!0,useExisting:n4}]]}}static forChild(n){return{ngModule:t,providers:[{provide:j0,multi:!0,useValue:n}]}}}return(e=t).\u0275fac=function(n){return new(n||e)(Vr(e4,8))},e.\u0275mod=Ri({type:e}),e.\u0275inj=ir({}),t})();function qR(e){return"guarded"}function WR(e){return["disabled"===e.initialNavigation?ed(3,[{provide:Mx,multi:!0,useFactory:()=>{const t=Ur(du);return()=>{t.setUpLocationChangeListener()}}},{provide:jb,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?ed(2,[{provide:jb,useValue:0},{provide:Mx,multi:!0,deps:[_c],useFactory:t=>{const d=t.get(rI,Promise.resolve());return()=>d.then(()=>new Promise(n=>{const O=t.get(du),G=t.get(KA);$A(O,()=>{n(!0)}),t.get(Jv).afterPreactivation=()=>(n(!0),G.closed?_n(void 0):G),O.initialNavigation()}))}}]).\u0275providers:[]]}const n4=new ei(""),YR=[];let ZR=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=Ri({type:e}),e.\u0275inj=ir({imports:[t4.forRoot(YR),t4]}),t})();class XR extends I{constructor(t,d){super()}schedule(t,d=0){return this}}const Qv={setInterval(e,t,...d){const{delegate:n}=Qv;return n?.setInterval?n.setInterval(e,t,...d):setInterval(e,t,...d)},clearInterval(e){const{delegate:t}=Qv;return(t?.clearInterval||clearInterval)(e)},delegate:void 0},r4={now:()=>(r4.delegate||Date).now(),delegate:void 0};class Vm{constructor(t,d=Vm.now){this.schedulerActionCtor=t,this.now=d}schedule(t,d=0,n){return new this.schedulerActionCtor(this,t).schedule(n,d)}}Vm.now=r4.now;const QR=new class KR extends Vm{constructor(t,d=Vm.now){super(t,d),this.actions=[],this._active=!1}flush(t){const{actions:d}=this;if(this._active)return void d.push(t);let n;this._active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=d.shift());if(this._active=!1,n){for(;t=d.shift();)t.unsubscribe();throw n}}}(class JR extends XR{constructor(t,d){super(t,d),this.scheduler=t,this.work=d,this.pending=!1}schedule(t,d=0){var n;if(this.closed)return this;this.state=t;const O=this.id,G=this.scheduler;return null!=O&&(this.id=this.recycleAsyncId(G,O,d)),this.pending=!0,this.delay=d,this.id=null!==(n=this.id)&&void 0!==n?n:this.requestAsyncId(G,this.id,d),this}requestAsyncId(t,d,n=0){return Qv.setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,d,n=0){if(null!=n&&this.delay===n&&!1===this.pending)return d;null!=d&&Qv.clearInterval(d)}execute(t,d){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,d);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,d){let O,n=!1;try{this.work(t)}catch(G){n=!0,O=G||new Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),O}unsubscribe(){if(!this.closed){const{id:t,scheduler:d}=this,{actions:n}=d;this.work=this.state=this.scheduler=null,this.pending=!1,r(n,this),null!=t&&(this.id=this.recycleAsyncId(d,t,null)),this.delay=null,super.unsubscribe()}}});function Vb(e=0,t,d=QR){let n=-1;return null!=t&&(It(t)?d=t:n=t),new L(O=>{let G=function eL(e){return e instanceof Date&&!isNaN(e)}(e)?+e-d.now():e;G<0&&(G=0);let le=0;return d.schedule(function(){O.closed||(O.next(le++),0<=n?this.schedule(void 0,n):O.complete())},G)})}class ey{}class ty{}class bf{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?"string"==typeof t?this.lazyInit=()=>{this.headers=new Map,t.split("\n").forEach(d=>{const n=d.indexOf(":");if(n>0){const O=d.slice(0,n),G=O.toLowerCase(),le=d.slice(n+1).trim();this.maybeSetNormalizedName(O,G),this.headers.has(G)?this.headers.get(G).push(le):this.headers.set(G,[le])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((d,n)=>{this.setHeaderEntries(n,d)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([d,n])=>{this.setHeaderEntries(d,n)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const d=this.headers.get(t.toLowerCase());return d&&d.length>0?d[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,d){return this.clone({name:t,value:d,op:"a"})}set(t,d){return this.clone({name:t,value:d,op:"s"})}delete(t,d){return this.clone({name:t,value:d,op:"d"})}maybeSetNormalizedName(t,d){this.normalizedNames.has(d)||this.normalizedNames.set(d,t)}init(){this.lazyInit&&(this.lazyInit instanceof bf?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(d=>{this.headers.set(d,t.headers.get(d)),this.normalizedNames.set(d,t.normalizedNames.get(d))})}clone(t){const d=new bf;return d.lazyInit=this.lazyInit&&this.lazyInit instanceof bf?this.lazyInit:this,d.lazyUpdate=(this.lazyUpdate||[]).concat([t]),d}applyUpdate(t){const d=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,d);const O=("a"===t.op?this.headers.get(d):void 0)||[];O.push(...n),this.headers.set(d,O);break;case"d":const G=t.value;if(G){let le=this.headers.get(d);if(!le)return;le=le.filter(Oe=>-1===G.indexOf(Oe)),0===le.length?(this.headers.delete(d),this.normalizedNames.delete(d)):this.headers.set(d,le)}else this.headers.delete(d),this.normalizedNames.delete(d)}}setHeaderEntries(t,d){const n=(Array.isArray(d)?d:[d]).map(G=>G.toString()),O=t.toLowerCase();this.headers.set(O,n),this.maybeSetNormalizedName(t,O)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(d=>t(this.normalizedNames.get(d),this.headers.get(d)))}}class nL{encodeKey(t){return o4(t)}encodeValue(t){return o4(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const iL=/%(\d[a-f0-9])/gi,oL={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function o4(e){return encodeURIComponent(e).replace(iL,(t,d)=>oL[d]??t)}function ny(e){return`${e}`}class $d{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new nL,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function rL(e,t){const d=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(O=>{const G=O.indexOf("="),[le,Oe]=-1==G?[t.decodeKey(O),""]:[t.decodeKey(O.slice(0,G)),t.decodeValue(O.slice(G+1))],He=d.get(le)||[];He.push(Oe),d.set(le,He)}),d}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(d=>{const n=t.fromObject[d],O=Array.isArray(n)?n.map(ny):[ny(n)];this.map.set(d,O)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const d=this.map.get(t);return d?d[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,d){return this.clone({param:t,value:d,op:"a"})}appendAll(t){const d=[];return Object.keys(t).forEach(n=>{const O=t[n];Array.isArray(O)?O.forEach(G=>{d.push({param:n,value:G,op:"a"})}):d.push({param:n,value:O,op:"a"})}),this.clone(d)}set(t,d){return this.clone({param:t,value:d,op:"s"})}delete(t,d){return this.clone({param:t,value:d,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const d=this.encoder.encodeKey(t);return this.map.get(t).map(n=>d+"="+this.encoder.encodeValue(n)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const d=new $d({encoder:this.encoder});return d.cloneFrom=this.cloneFrom||this,d.updates=(this.updates||[]).concat(t),d}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const d=("a"===t.op?this.map.get(t.param):void 0)||[];d.push(ny(t.value)),this.map.set(t.param,d);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let n=this.map.get(t.param)||[];const O=n.indexOf(ny(t.value));-1!==O&&n.splice(O,1),n.length>0?this.map.set(t.param,n):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class aL{constructor(){this.map=new Map}set(t,d){return this.map.set(t,d),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function a4(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function s4(e){return typeof Blob<"u"&&e instanceof Blob}function l4(e){return typeof FormData<"u"&&e instanceof FormData}class Um{constructor(t,d,n,O){let G;if(this.url=d,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function sL(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||O?(this.body=void 0!==n?n:null,G=O):G=n,G&&(this.reportProgress=!!G.reportProgress,this.withCredentials=!!G.withCredentials,G.responseType&&(this.responseType=G.responseType),G.headers&&(this.headers=G.headers),G.context&&(this.context=G.context),G.params&&(this.params=G.params)),this.headers||(this.headers=new bf),this.context||(this.context=new aL),this.params){const le=this.params.toString();if(0===le.length)this.urlWithParams=d;else{const Oe=d.indexOf("?");this.urlWithParams=d+(-1===Oe?"?":Oe<d.length-1?"&":"")+le}}else this.params=new $d,this.urlWithParams=d}serializeBody(){return null===this.body?null:a4(this.body)||s4(this.body)||l4(this.body)||function lL(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof $d?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||l4(this.body)?null:s4(this.body)?this.body.type||null:a4(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof $d?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const d=t.method||this.method,n=t.url||this.url,O=t.responseType||this.responseType,G=void 0!==t.body?t.body:this.body,le=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,Oe=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let He=t.headers||this.headers,et=t.params||this.params;const yt=t.context??this.context;return void 0!==t.setHeaders&&(He=Object.keys(t.setHeaders).reduce((Pt,Qt)=>Pt.set(Qt,t.setHeaders[Qt]),He)),t.setParams&&(et=Object.keys(t.setParams).reduce((Pt,Qt)=>Pt.set(Qt,t.setParams[Qt]),et)),new Um(d,n,G,{params:et,headers:He,context:yt,reportProgress:Oe,responseType:O,withCredentials:le})}}var V0=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(V0||{});class Ub{constructor(t,d=200,n="OK"){this.headers=t.headers||new bf,this.status=void 0!==t.status?t.status:d,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class Hb extends Ub{constructor(t={}){super(t),this.type=V0.ResponseHeader}clone(t={}){return new Hb({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class U0 extends Ub{constructor(t={}){super(t),this.type=V0.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new U0({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class c4 extends Ub{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function Gb(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}let u4=(()=>{var e;class t{constructor(n){this.handler=n}request(n,O,G={}){let le;if(n instanceof Um)le=n;else{let et,yt;et=G.headers instanceof bf?G.headers:new bf(G.headers),G.params&&(yt=G.params instanceof $d?G.params:new $d({fromObject:G.params})),le=new Um(n,O,void 0!==G.body?G.body:null,{headers:et,context:G.context,params:yt,reportProgress:G.reportProgress,responseType:G.responseType||"json",withCredentials:G.withCredentials})}const Oe=_n(le).pipe(I0(et=>this.handler.handle(et)));if(n instanceof Um||"events"===G.observe)return Oe;const He=Oe.pipe(Vs(et=>et instanceof U0));switch(G.observe||"body"){case"body":switch(le.responseType){case"arraybuffer":return He.pipe(ee(et=>{if(null!==et.body&&!(et.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return et.body}));case"blob":return He.pipe(ee(et=>{if(null!==et.body&&!(et.body instanceof Blob))throw new Error("Response is not a Blob.");return et.body}));case"text":return He.pipe(ee(et=>{if(null!==et.body&&"string"!=typeof et.body)throw new Error("Response is not a string.");return et.body}));default:return He.pipe(ee(et=>et.body))}case"response":return He;default:throw new Error(`Unreachable: unhandled observe type ${G.observe}}`)}}delete(n,O={}){return this.request("DELETE",n,O)}get(n,O={}){return this.request("GET",n,O)}head(n,O={}){return this.request("HEAD",n,O)}jsonp(n,O){return this.request("JSONP",n,{params:(new $d).append(O,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,O={}){return this.request("OPTIONS",n,O)}patch(n,O,G={}){return this.request("PATCH",n,Gb(G,O))}post(n,O,G={}){return this.request("POST",n,Gb(G,O))}put(n,O,G={}){return this.request("PUT",n,Gb(G,O))}}return(e=t).\u0275fac=function(n){return new(n||e)(Vr(ey))},e.\u0275prov=tr({token:e,factory:e.\u0275fac}),t})();function h4(e,t){return t(e)}function uL(e,t){return(d,n)=>t.intercept(d,{handle:O=>e(O,n)})}const dL=new ei(""),Hm=new ei(""),p4=new ei("");function hL(){let e=null;return(t,d)=>{null===e&&(e=(Ur(dL,{optional:!0})??[]).reduceRight(uL,h4));const n=Ur(mv),O=n.add();return e(t,d).pipe(Am(()=>n.remove(O)))}}let g4=(()=>{var e;class t extends ey{constructor(n,O){super(),this.backend=n,this.injector=O,this.chain=null,this.pendingTasks=Ur(mv)}handle(n){if(null===this.chain){const G=Array.from(new Set([...this.injector.get(Hm),...this.injector.get(p4,[])]));this.chain=G.reduceRight((le,Oe)=>function fL(e,t,d){return(n,O)=>d.runInContext(()=>t(n,G=>e(G,O)))}(le,Oe,this.injector),h4)}const O=this.pendingTasks.add();return this.chain(n,G=>this.backend.handle(G)).pipe(Am(()=>this.pendingTasks.remove(O)))}}return(e=t).\u0275fac=function(n){return new(n||e)(Vr(ty),Vr(bl))},e.\u0275prov=tr({token:e,factory:e.\u0275fac}),t})();const vL=/^\)\]\}',?\n/;let v4=(()=>{var e;class t{constructor(n){this.xhrFactory=n}handle(n){if("JSONP"===n.method)throw new bn(-2800,!1);const O=this.xhrFactory;return(O.\u0275loadImpl?yn(O.\u0275loadImpl()):_n(null)).pipe(Ln(()=>new L(le=>{const Oe=O.build();if(Oe.open(n.method,n.urlWithParams),n.withCredentials&&(Oe.withCredentials=!0),n.headers.forEach((Kn,pr)=>Oe.setRequestHeader(Kn,pr.join(","))),n.headers.has("Accept")||Oe.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){const Kn=n.detectContentTypeHeader();null!==Kn&&Oe.setRequestHeader("Content-Type",Kn)}if(n.responseType){const Kn=n.responseType.toLowerCase();Oe.responseType="json"!==Kn?Kn:"text"}const He=n.serializeBody();let et=null;const yt=()=>{if(null!==et)return et;const Kn=Oe.statusText||"OK",pr=new bf(Oe.getAllResponseHeaders()),nr=function yL(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(Oe)||n.url;return et=new Hb({headers:pr,status:Oe.status,statusText:Kn,url:nr}),et},Pt=()=>{let{headers:Kn,status:pr,statusText:nr,url:$r}=yt(),Nr=null;204!==pr&&(Nr=typeof Oe.response>"u"?Oe.responseText:Oe.response),0===pr&&(pr=Nr?200:0);let Zr=pr>=200&&pr<300;if("json"===n.responseType&&"string"==typeof Nr){const Mi=Nr;Nr=Nr.replace(vL,"");try{Nr=""!==Nr?JSON.parse(Nr):null}catch(So){Nr=Mi,Zr&&(Zr=!1,Nr={error:So,text:Nr})}}Zr?(le.next(new U0({body:Nr,headers:Kn,status:pr,statusText:nr,url:$r||void 0})),le.complete()):le.error(new c4({error:Nr,headers:Kn,status:pr,statusText:nr,url:$r||void 0}))},Qt=Kn=>{const{url:pr}=yt(),nr=new c4({error:Kn,status:Oe.status||0,statusText:Oe.statusText||"Unknown Error",url:pr||void 0});le.error(nr)};let cn=!1;const Vn=Kn=>{cn||(le.next(yt()),cn=!0);let pr={type:V0.DownloadProgress,loaded:Kn.loaded};Kn.lengthComputable&&(pr.total=Kn.total),"text"===n.responseType&&Oe.responseText&&(pr.partialText=Oe.responseText),le.next(pr)},Jn=Kn=>{let pr={type:V0.UploadProgress,loaded:Kn.loaded};Kn.lengthComputable&&(pr.total=Kn.total),le.next(pr)};return Oe.addEventListener("load",Pt),Oe.addEventListener("error",Qt),Oe.addEventListener("timeout",Qt),Oe.addEventListener("abort",Qt),n.reportProgress&&(Oe.addEventListener("progress",Vn),null!==He&&Oe.upload&&Oe.upload.addEventListener("progress",Jn)),Oe.send(He),le.next({type:V0.Sent}),()=>{Oe.removeEventListener("error",Qt),Oe.removeEventListener("abort",Qt),Oe.removeEventListener("load",Pt),Oe.removeEventListener("timeout",Qt),n.reportProgress&&(Oe.removeEventListener("progress",Vn),null!==He&&Oe.upload&&Oe.upload.removeEventListener("progress",Jn)),Oe.readyState!==Oe.DONE&&Oe.abort()}})))}}return(e=t).\u0275fac=function(n){return new(n||e)(Vr(AM))},e.\u0275prov=tr({token:e,factory:e.\u0275fac}),t})();const qb=new ei("XSRF_ENABLED"),y4=new ei("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),_4=new ei("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class x4{}let bL=(()=>{var e;class t{constructor(n,O,G){this.doc=n,this.platform=O,this.cookieName=G,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=hM(n,this.cookieName),this.lastCookieString=n),this.lastToken}}return(e=t).\u0275fac=function(n){return new(n||e)(Vr(ks),Vr(df),Vr(y4))},e.\u0275prov=tr({token:e,factory:e.\u0275fac}),t})();function wL(e,t){const d=e.url.toLowerCase();if(!Ur(qb)||"GET"===e.method||"HEAD"===e.method||d.startsWith("http://")||d.startsWith("https://"))return t(e);const n=Ur(x4).getToken(),O=Ur(_4);return null!=n&&!e.headers.has(O)&&(e=e.clone({headers:e.headers.set(O,n)})),t(e)}var Yd=function(e){return e[e.Interceptors=0]="Interceptors",e[e.LegacyInterceptors=1]="LegacyInterceptors",e[e.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",e[e.NoXsrfProtection=3]="NoXsrfProtection",e[e.JsonpSupport=4]="JsonpSupport",e[e.RequestsMadeViaParent=5]="RequestsMadeViaParent",e[e.Fetch=6]="Fetch",e}(Yd||{});function jh(e,t){return{\u0275kind:e,\u0275providers:t}}function TL(...e){const t=[u4,v4,g4,{provide:ey,useExisting:g4},{provide:ty,useExisting:v4},{provide:Hm,useValue:wL,multi:!0},{provide:qb,useValue:!0},{provide:x4,useClass:bL}];for(const d of e)t.push(...d.\u0275providers);return function _h(e){return{\u0275providers:e}}(t)}const b4=new ei("LEGACY_INTERCEPTOR_FN");let AL=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=Ri({type:e}),e.\u0275inj=ir({providers:[TL(jh(Yd.LegacyInterceptors,[{provide:b4,useFactory:hL},{provide:Hm,useExisting:b4,multi:!0}]))]}),t})(),OL=(()=>{var e;class t{constructor(n){this.http=n,this.url="https://pim-api.spiros.tpsflavor.site/resources"}getResourcesData(){return this.http.get(this.url).pipe(function tL(e=1/0){let t;t=e&&"object"==typeof e?e:{count:e};const{count:d=1/0,delay:n,resetOnSuccess:O=!1}=t;return d<=0?k:X((G,le)=>{let He,Oe=0;const et=()=>{let yt=!1;He=G.subscribe(se(le,Pt=>{O&&(Oe=0),le.next(Pt)},void 0,Pt=>{if(Oe++<d){const Qt=()=>{He?(He.unsubscribe(),He=null,et()):yt=!0};if(null!=n){const cn="number"==typeof n?Vb(n):Je(n(Pt,Oe)),Vn=se(le,()=>{Vn.unsubscribe(),Qt()},()=>{le.complete()});cn.subscribe(Vn)}else Qt()}else le.error(Pt)})),yt&&(He.unsubscribe(),He=null,et())};et()})}(1),qd(this.handleError))}handleError(n){let O="";return O=n.error instanceof ErrorEvent?n.error.message:`Error Code: ${n.status}\nMessage: ${n.message}`,window.alert(O),O0(()=>O)}}return(e=t).\u0275fac=function(n){return new(n||e)(Vr(u4))},e.\u0275prov=tr({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function w4(e,t,d,n,O,G,le){try{var Oe=e[G](le),He=Oe.value}catch(et){return void d(et)}Oe.done?t(He):Promise.resolve(He).then(n,O)}function T4(e){return function(){var t=this,d=arguments;return new Promise(function(n,O){var G=e.apply(t,d);function le(He){w4(G,n,O,le,Oe,"next",He)}function Oe(He){w4(G,n,O,le,Oe,"throw",He)}le(void 0)})}}const IL=["plot"],PL=["*"];class Ao{static setModuleName(t){Ao.moduleName=t}static getModuleName(){return Ao.moduleName}static setPlotly(t){if("object"==typeof t&&"function"!=typeof t.react)throw new Error("Invalid plotly.js version. Please, use any version above 1.40.0");Ao.plotly=t}static insert(t){return-1===Ao.instances.indexOf(t)&&Ao.instances.push(t),t}static remove(t){const d=Ao.instances.indexOf(t);d>=0&&(Ao.instances.splice(d,1),Ao.plotly.purge(t))}getInstanceByDivId(t){for(const d of Ao.instances)if(d&&d.id===t)return d}getPlotly(){var t=this;return T4(function*(){return yield t.waitFor(()=>"waiting"!==t._getPlotly()),t._getPlotly()})()}_getPlotly(){if(typeof Ao.plotly>"u")throw new Error("ViaCDN"===Ao.moduleName?"Error loading Peer dependency plotly.js from CDN url":"Peer dependency plotly.js isn't installed");return Ao.plotly}waitFor(t){return new Promise(d=>{const n=()=>{t()?d():setTimeout(n,10)};n()})}newPlot(t,d,n,O,G){var le=this;return T4(function*(){if(yield le.waitFor(()=>"waiting"!==le._getPlotly()),G){const Oe={data:d,layout:n,config:O,frames:G};return le._getPlotly().newPlot(t,Oe).then(()=>Ao.insert(t))}return le._getPlotly().newPlot(t,d,n,O).then(()=>Ao.insert(t))})()}plot(t,d,n,O,G){if(G){const le={data:d,layout:n,config:O,frames:G};return this._getPlotly().newPlot(t,le)}return this._getPlotly().newPlot(t,d,n,O)}update(t,d,n,O,G){if(G){const le={data:d,layout:n,config:O,frames:G};return this._getPlotly().react(t,le)}return this._getPlotly().react(t,d,n,O)}resize(t){return this._getPlotly().Plots.resize(t)}}Ao.instances=[],Ao.plotly=void 0,Ao.moduleName=void 0,Ao.\u0275fac=function(t){return new(t||Ao)},Ao.\u0275prov=tr({token:Ao,factory:Ao.\u0275fac,providedIn:"root"});let RL=(()=>{class e{constructor(d,n,O){this.plotly=d,this.iterableDiffers=n,this.keyValueDiffers=O,this.defaultClassName="js-plotly-plot",this.revision=0,this.debug=!1,this.useResizeHandler=!1,this.updateOnLayoutChange=!0,this.updateOnDataChange=!0,this.updateOnlyWithRevision=!1,this.initialized=new zr,this.update=new zr,this.purge=new zr,this.error=new zr,this.afterExport=new zr,this.afterPlot=new zr,this.animated=new zr,this.animatingFrame=new zr,this.animationInterrupted=new zr,this.autoSize=new zr,this.beforeExport=new zr,this.beforeHover=new zr,this.buttonClicked=new zr,this.click=new zr,this.plotlyClick=new zr,this.clickAnnotation=new zr,this.deselect=new zr,this.doubleClick=new zr,this.framework=new zr,this.hover=new zr,this.legendClick=new zr,this.legendDoubleClick=new zr,this.react=new zr,this.relayout=new zr,this.relayouting=new zr,this.restyle=new zr,this.redraw=new zr,this.selected=new zr,this.selecting=new zr,this.sliderChange=new zr,this.sliderEnd=new zr,this.sliderStart=new zr,this.sunburstclick=new zr,this.transitioning=new zr,this.transitionInterrupted=new zr,this.unhover=new zr,this.treemapclick=new zr,this.webglcontextlost=new zr,this.eventNames=["afterExport","afterPlot","animated","animatingFrame","animationInterrupted","autoSize","beforeExport","beforeHover","buttonClicked","clickAnnotation","deselect","doubleClick","framework","hover","legendClick","legendDoubleClick","react","relayout","relayouting","restyle","redraw","selected","selecting","sliderChange","sliderEnd","sliderStart","sunburstclick","transitioning","transitionInterrupted","unhover","treemapclick","webglcontextlost"]}ngOnInit(){this.createPlot().then(()=>{const d=this.createFigure();this.initialized.emit(d)}),this.click.observers.length>0&&console.error("DEPRECATED: Reconsider using `(plotlyClick)` instead of `(click)` to avoid event conflict. Please check https://github.com/plotly/angular-plotly.js#FAQ")}ngOnDestroy(){"function"==typeof this.resizeHandler&&(this.getWindow().removeEventListener("resize",this.resizeHandler),this.resizeHandler=void 0);const d=this.createFigure();this.purge.emit(d),Ao.remove(this.plotlyInstance)}ngOnChanges(d){let n=!1;const O=d.revision;O&&!O.isFirstChange()&&(n=!0);const G=d.debug;G&&!G.isFirstChange()&&(n=!0),n&&this.updatePlot(),this.updateWindowResizeHandler()}ngDoCheck(){if(this.updateOnlyWithRevision)return!1;let d=!1;this.updateOnLayoutChange&&(this.layoutDiffer?this.layoutDiffer.diff(this.layout)&&(d=!0):this.layoutDiffer=this.layout?this.keyValueDiffers.find(this.layout).create():void 0),this.updateOnDataChange&&(this.dataDiffer?this.dataDiffer.diff(this.data)&&(d=!0):this.dataDiffer=Array.isArray(this.data)?this.iterableDiffers.find(this.data).create(this.dataDifferTrackBy):void 0),d&&this.plotlyInstance&&this.updatePlot()}getData(){return this.data??[]}getWindow(){return window}getClassName(){let d=[this.defaultClassName];return Array.isArray(this.className)?d=d.concat(this.className):this.className&&d.push(this.className),d.join(" ")}createPlot(){return this.plotly.newPlot(this.plotEl.nativeElement,this.getData(),this.layout,this.config,this.frames).then(d=>{this.plotlyInstance=d,this.getWindow().gd=this.debug?d:void 0,this.eventNames.forEach(n=>{const O=`plotly_${n.toLowerCase()}`,G=this[n];d.on(O,le=>G.emit(le))}),d.on("plotly_click",n=>{this.plotlyClick.emit(n)}),this.updateWindowResizeHandler()},d=>{console.error("Error while plotting:",d),this.error.emit(d)})}createFigure(){const d=this.plotlyInstance;return{data:d.data,layout:d.layout,frames:d._transitionData?d._transitionData._frames:null}}updatePlot(){if(!this.plotlyInstance){const n=new Error("Plotly component wasn't initialized");throw this.error.emit(n),n}const d={...this.layout};return this.plotly.update(this.plotlyInstance,this.getData(),d,this.config,this.frames).then(()=>{const n=this.createFigure();this.update.emit(n)},n=>{console.error("Error while updating plot:",n),this.error.emit(n)})}updateWindowResizeHandler(){this.useResizeHandler?void 0===this.resizeHandler&&(this.resizeHandler=()=>this.plotly.resize(this.plotlyInstance),this.getWindow().addEventListener("resize",this.resizeHandler)):"function"==typeof this.resizeHandler&&(this.getWindow().removeEventListener("resize",this.resizeHandler),this.resizeHandler=void 0)}dataDifferTrackBy(d,n){const O=Object.assign({},n,{uid:""});return JSON.stringify(O)}}return e.\u0275fac=function(d){return new(d||e)(Gn(Ao),Gn(_m),Gn(k0))},e.\u0275cmp=ga({type:e,selectors:[["plotly-plot"]],viewQuery:function(d,n){if(1&d&&jd(IL,7),2&d){let O;Xo(O=Jo())&&(n.plotEl=O.first)}},inputs:{data:"data",layout:"layout",config:"config",frames:"frames",style:"style",divId:"divId",revision:"revision",className:"className",debug:"debug",useResizeHandler:"useResizeHandler",updateOnLayoutChange:"updateOnLayoutChange",updateOnDataChange:"updateOnDataChange",updateOnlyWithRevision:"updateOnlyWithRevision"},outputs:{initialized:"initialized",update:"update",purge:"purge",error:"error",afterExport:"afterExport",afterPlot:"afterPlot",animated:"animated",animatingFrame:"animatingFrame",animationInterrupted:"animationInterrupted",autoSize:"autoSize",beforeExport:"beforeExport",beforeHover:"beforeHover",buttonClicked:"buttonClicked",click:"click",plotlyClick:"plotlyClick",clickAnnotation:"clickAnnotation",deselect:"deselect",doubleClick:"doubleClick",framework:"framework",hover:"hover",legendClick:"legendClick",legendDoubleClick:"legendDoubleClick",react:"react",relayout:"relayout",relayouting:"relayouting",restyle:"restyle",redraw:"redraw",selected:"selected",selecting:"selecting",sliderChange:"sliderChange",sliderEnd:"sliderEnd",sliderStart:"sliderStart",sunburstclick:"sunburstclick",transitioning:"transitioning",transitionInterrupted:"transitionInterrupted",unhover:"unhover",treemapclick:"treemapclick",webglcontextlost:"webglcontextlost"},features:[pa([Ao]),zt],ngContentSelectors:PL,decls:3,vars:3,consts:[[3,"ngClass","ngStyle"],["plot",""]],template:function(d,n){1&d&&(W_(),zi(0,"div",0,1),$_(2),Bi()),2&d&&(ci("ngClass",n.getClassName())("ngStyle",n.style),Bo("id",n.divId))},dependencies:[gM,xM],encapsulation:2}),e})(),iy=(()=>{class e{constructor(){}}return e.\u0275fac=function(d){return new(d||e)},e.\u0275mod=Ri({type:e}),e.\u0275inj=ir({providers:[Ao],imports:[Iv]}),e})(),M4=(()=>{class e{constructor(){if(!this.isValid())throw new Error("Invalid PlotlyJS object. Please check https://github.com/plotly/angular-plotly.js#quick-start to see how to add PlotlyJS to your project.");Ao.setPlotly(e.plotlyjs)}isValid(){return void 0!==e.plotlyjs&&("function"==typeof e.plotlyjs.plot||"function"==typeof e.plotlyjs.newPlot)}}return e.plotlyjs={},e.\u0275fac=function(d){return new(d||e)},e.\u0275mod=Ri({type:e}),e.\u0275inj=ir({providers:[Ao],imports:[Iv,iy,iy]}),e})();class ol{constructor(t){this.plotlyService=t,Ao.setModuleName("ViaCDN")}static setPlotlyVersion(t){if("latest"!==t&&!/^(strict-)?\d\.\d{1,2}\.\d{1,2}$/.test(t))throw new Error("Invalid plotly version. Please set 'latest' or version number (i.e.: 1.4.3) or strict version number (i.e.: strict-1.4.3)");ol.loadViaCDN(),ol.plotlyVersion=t}static setPlotlyBundle(t){if(!(null===t||ol.plotlyBundleNames.indexOf(t)>=0)){const n=ol.plotlyBundleNames.map(O=>`"${O}"`).join(", ");throw new Error(`Invalid plotly bundle. Please set to null for full or ${n} for a partial bundle.`)}ol.plotlyBundle=t}static loadViaCDN(){Ao.setPlotly("waiting"),setTimeout(()=>{const d=null==ol.plotlyBundle?`https://cdn.plot.ly/plotly-${ol.plotlyVersion}.min.js`:`https://cdn.plot.ly/plotly-${ol.plotlyBundle}-${ol.plotlyVersion}.min.js`,n=document.createElement("script");n.type="text/javascript",n.src=d,n.onerror=()=>console.error(`Error loading plotly.js library from ${d}`),document.getElementsByTagName("head")[0].appendChild(n);let G=200;const le=()=>{const Oe=window.Plotly;if(Oe)Ao.setPlotly(Oe);else{if(!(G>0))throw new Error(`Error loading plotly.js library from ${d}. Timeout.`);G--,setTimeout(le,50)}};le()})}}ol.plotlyBundle=void 0,ol.plotlyVersion="latest",ol.plotlyBundleNames=["basic","cartesian","geo","gl3d","gl2d","mapbox","finance"],ol.\u0275fac=function(t){return new(t||ol)(Vr(Ao))},ol.\u0275mod=Ri({type:ol}),ol.\u0275inj=ir({providers:[Ao],imports:[Iv,iy,iy]});let LL=(()=>{var e;class t{constructor(){this.resourceData=[]}ngOnInit(){console.log(this.resourceData),this.initGraph()}initGraph(){const n=this.resourceData.map(le=>le.value),O=this.resourceData.map(le=>le.valueInEuro),G=this.resourceData.map(le=>le.timeStamp);console.log(n),this.graph={data:[{x:G,y:n,type:"scatter",mode:"lines",marker:{color:"red"},showlegend:!1}],layout:{width:350,height:270,title:this.resourceData[0].name},config:{displayModeBar:!1}},this.checkIfEuro(this.resourceData)&&this.graph.data.push({x:G,y:O,type:"scatter",mode:"lines",marker:{color:"blue"},showlegend:!1})}checkIfEuro(n){return!!n[0].valueInEuro}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=ga({type:e,selectors:[["app-single-chart"]],inputs:{resourceData:"resourceData"},decls:2,vars:2,consts:[[1,"plotly-container"],[3,"data","layout"]],template:function(n,O){1&n&&(zi(0,"div",0),ou(1,"plotly-plot",1),Bi()),2&n&&(yi(1),ci("data",O.graph.data)("layout",O.graph.layout))},dependencies:[RL],styles:[".plotly-container[_ngcontent-%COMP%]{background-color:#7272ff;display:inline-block;padding:5px;border-radius:5px;box-shadow:0 0 3px 1px #000000bf;-webkit-box-shadow:0px 0px 3px 1px rgba(0,0,0,.75);-moz-box-shadow:0px 0px 3px 1px rgba(0,0,0,.75)}"]}),t})();function NL(e,t){if(1&e&&(zi(0,"div",3),ou(1,"app-single-chart",4),Bi()),2&e){const d=t.$implicit;yi(1),ci("resourceData",d)}}let FL=(()=>{var e;class t{constructor(n){this.resourceApi=n,this.resourcesData=[]}ngOnInit(){this.resourceApi.getResourcesData().subscribe(n=>{this.resourcesData=Object.values(n)})}}return(e=t).\u0275fac=function(n){return new(n||e)(Gn(OL))},e.\u0275cmp=ga({type:e,selectors:[["app-page-all-charts"]],decls:3,vars:1,consts:[[1,"container-xl","py-2"],[1,"row","gy-2","justify-content-center"],["class","col-auto",4,"ngFor","ngForOf"],[1,"col-auto"],[3,"resourceData"]],template:function(n,O){1&n&&(zi(0,"div",0)(1,"div",1),function xi(e,t,d,n,O,G,le,Oe){const He=Tr(),et=di(),yt=e+bi,Pt=et.firstCreatePass?function J6(e,t,d,n,O,G,le,Oe,He){const et=t.consts,yt=u0(t,e,4,le||null,Ti(et,Oe));O_(t,d,yt,Ti(et,He)),up(t,yt);const Pt=yt.tView=D_(2,yt,n,O,G,t.directiveRegistry,t.pipeRegistry,null,t.schemas,et,null);return null!==t.queries&&(t.queries.template(t,yt),Pt.queries=t.queries.embeddedTView(yt)),yt}(yt,et,He,t,d,n,O,G,le):et.data[yt];yl(Pt,!1);const Qt=n3(et,He,Pt,e);Qu()&&at(et,He,Qt,Pt),tl(Qt,He),K1(He,He[yt]=Sw(Qt,He,Qt,Pt)),Go(Pt)&&E_(et,He,Pt),null!=le&&C_(He,Pt,Oe)}(2,NL,2,1,"div",2),Bi()()),2&n&&(yi(2),ci("ngForOf",O.resourcesData))},dependencies:[Kf,LL]}),t})(),zL=(()=>{var e;class t{constructor(){this.title="angular-template-jest-spectator-playwright"}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=ga({type:e,selectors:[["app-root"]],decls:1,vars:0,template:function(n,O){1&n&&ou(0,"app-page-all-charts")},dependencies:[FL]}),t})();const BL=["addListener","removeListener"],jL=["addEventListener","removeEventListener"],VL=["on","off"];function Ml(e,t,d,n){if(ki(d)&&(n=d,d=void 0),n)return Ml(e,t,d).pipe(mb(n));const[O,G]=function GL(e){return ki(e.addEventListener)&&ki(e.removeEventListener)}(e)?jL.map(le=>Oe=>e[le](t,Oe,d)):function UL(e){return ki(e.addListener)&&ki(e.removeListener)}(e)?BL.map(A4(e,t)):function HL(e){return ki(e.on)&&ki(e.off)}(e)?VL.map(A4(e,t)):[];if(!O&&Dt(e))return Tt(le=>Ml(le,t,d))(Je(e));if(!O)throw new TypeError("Invalid event target");return new L(le=>{const Oe=(...He)=>le.next(1<He.length?He:He[0]);return O(Oe),()=>G(Oe)})}function A4(e,t){return d=>n=>e[d](t,n)}const{isArray:qL}=Array;function S4(e){return 1===e.length&&qL(e[0])?e[0]:e}function Wb(...e){const t=Yt(e),d=S4(e);return d.length?new L(n=>{let O=d.map(()=>[]),G=d.map(()=>!1);n.add(()=>{O=G=null});for(let le=0;!n.closed&&le<d.length;le++)Je(d[le]).subscribe(se(n,Oe=>{if(O[le].push(Oe),O.every(He=>He.length)){const He=O.map(et=>et.shift());n.next(t?t(...He):He),O.some((et,yt)=>!et.length&&G[yt])&&n.complete()}},()=>{G[le]=!0,!O[le].length&&n.complete()}));return()=>{O=G=null}}):Nt}function Cs(e){return X((t,d)=>{Je(e).subscribe(se(d,()=>d.complete(),i)),!d.closed&&t.subscribe(d)})}function $b(...e){const t=Yt(e);return X((d,n)=>{const O=e.length,G=new Array(O);let le=e.map(()=>!1),Oe=!1;for(let He=0;He<O;He++)Je(e[He]).subscribe(se(n,et=>{G[He]=et,!Oe&&!le[He]&&(le[He]=!0,(Oe=le.every(k))&&(le=null))},i));d.subscribe(se(n,He=>{if(Oe){const et=[He,...G];n.next(t?t(...et):et)}}))})}Math,Math,Math;const az=["*"],Nz=["dialog"];function qh(e){return"string"==typeof e}function Wh(e){return null!=e}function Y0(e){return(e||document.body).getBoundingClientRect()}const QS={animation:!0,transitionTimerDelayMs:5},EB=()=>{},{transitionTimerDelayMs:CB}=QS,t1=new Map,Tc=(e,t,d,n)=>{let O=n.context||{};const G=t1.get(t);if(G)switch(n.runningTransition){case"continue":return Nt;case"stop":e.run(()=>G.transition$.complete()),O=Object.assign(G.context,O),t1.delete(t)}const le=d(t,n.animation,O)||EB;if(!n.animation||"none"===window.getComputedStyle(t).transitionProperty)return e.run(()=>le()),_n(void 0).pipe(function SB(e){return t=>new L(d=>t.subscribe({next:le=>e.run(()=>d.next(le)),error:le=>e.run(()=>d.error(le)),complete:()=>e.run(()=>d.complete())}))}(e));const Oe=new Y,He=new Y,et=Oe.pipe(function $L(...e){return t=>Mm(t,_n(...e))}(!0));t1.set(t,{transition$:Oe,complete:()=>{He.next(),He.complete()},context:O});const yt=function kB(e){const{transitionDelay:t,transitionDuration:d}=window.getComputedStyle(e);return 1e3*(parseFloat(t)+parseFloat(d))}(t);return e.runOutsideAngular(()=>{const Pt=Ml(t,"transitionend").pipe(Cs(et),Vs(({target:cn})=>cn===t));(function k4(...e){return 1===(e=S4(e)).length?Je(e[0]):new L(function WL(e){return t=>{let d=[];for(let n=0;d&&!t.closed&&n<e.length;n++)d.push(Je(e[n]).subscribe(se(t,O=>{if(d){for(let G=0;G<d.length;G++)G!==n&&d[G].unsubscribe();d=null}t.next(O)})))}}(e))})(Vb(yt+CB).pipe(Cs(et)),Pt,He).pipe(Cs(et)).subscribe(()=>{t1.delete(t),e.run(()=>{le(),Oe.next(),Oe.complete()})})}),Oe.asObservable()};let yy=(()=>{var e;class t{constructor(){this.animation=QS.animation}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=tr({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),lk=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=Ri({type:e}),e.\u0275inj=ir({}),t})(),ck=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=Ri({type:e}),e.\u0275inj=ir({}),t})(),dk=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=Ri({type:e}),e.\u0275inj=ir({}),t})(),hk=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=Ri({type:e}),e.\u0275inj=ir({}),t})();var va=function(e){return e[e.Tab=9]="Tab",e[e.Enter=13]="Enter",e[e.Escape=27]="Escape",e[e.Space=32]="Space",e[e.PageUp=33]="PageUp",e[e.PageDown=34]="PageDown",e[e.End=35]="End",e[e.Home=36]="Home",e[e.ArrowLeft=37]="ArrowLeft",e[e.ArrowUp=38]="ArrowUp",e[e.ArrowRight=39]="ArrowRight",e[e.ArrowDown=40]="ArrowDown",e}(va||{});typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const xk=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function bk(e){const t=Array.from(e.querySelectorAll(xk)).filter(d=>-1!==d.tabIndex);return[t[0],t[t.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let Rk=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=Ri({type:e}),e.\u0275inj=ir({}),t})(),Fk=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=Ri({type:e}),e.\u0275inj=ir({}),t})();class Jh{constructor(t,d,n){this.nodes=t,this.viewRef=d,this.componentRef=n}}let Ej=(()=>{var e;class t{constructor(n,O){this._el=n,this._zone=O}ngOnInit(){this._zone.onStable.asObservable().pipe(wl(1)).subscribe(()=>{Tc(this._zone,this._el.nativeElement,(n,O)=>{O&&Y0(n),n.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Tc(this._zone,this._el.nativeElement,({classList:n})=>n.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return(e=t).\u0275fac=function(n){return new(n||e)(Gn(Yo),Gn(Lo))},e.\u0275cmp=ga({type:e,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(n,O){2&n&&(Oh("modal-backdrop"+(O.backdropClass?" "+O.backdropClass:"")),Ro("show",!O.animation)("fade",O.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[lu],decls:0,vars:0,template:function(n,O){},encapsulation:2}),t})();class zk{update(t){}close(t){}dismiss(t){}}const Cj=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],Dj=["animation","backdropClass"];class Oj{_applyWindowOptions(t,d){Cj.forEach(n=>{Wh(d[n])&&(t[n]=d[n])})}_applyBackdropOptions(t,d){Dj.forEach(n=>{Wh(d[n])&&(t[n]=d[n])})}update(t){this._applyWindowOptions(this._windowCmptRef.instance,t),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,t)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(Cs(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(Cs(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(t,d,n,O){this._windowCmptRef=t,this._contentRef=d,this._backdropCmptRef=n,this._beforeDismiss=O,this._closed=new Y,this._dismissed=new Y,this._hidden=new Y,t.instance.dismissEvent.subscribe(G=>{this.dismiss(G)}),this.result=new Promise((G,le)=>{this._resolve=G,this._reject=le}),this.result.then(null,()=>{})}close(t){this._windowCmptRef&&(this._closed.next(t),this._resolve(t),this._removeModalElements())}_dismiss(t){this._dismissed.next(t),this._reject(t),this._removeModalElements()}dismiss(t){if(this._windowCmptRef)if(this._beforeDismiss){const d=this._beforeDismiss();!function ZS(e){return e&&e.then}(d)?!1!==d&&this._dismiss(t):d.then(n=>{!1!==n&&this._dismiss(t)},()=>{})}else this._dismiss(t)}_removeModalElements(){const t=this._windowCmptRef.instance.hide(),d=this._backdropCmptRef?this._backdropCmptRef.instance.hide():_n(void 0);t.subscribe(()=>{const{nativeElement:n}=this._windowCmptRef.location;n.parentNode.removeChild(n),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),d.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:n}=this._backdropCmptRef.location;n.parentNode.removeChild(n),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Wb(t,d).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var z2=function(e){return e[e.BACKDROP_CLICK=0]="BACKDROP_CLICK",e[e.ESC=1]="ESC",e}(z2||{});let Ij=(()=>{var e;class t{constructor(n,O,G){this._document=n,this._elRef=O,this._zone=G,this._closed$=new Y,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new zr,this.shown=new Y,this.hidden=new Y}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":qh(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(n){this.dismissEvent.emit(n)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(wl(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:n}=this._elRef,O={animation:this.animation,runningTransition:"stop"},Oe=Wb(Tc(this._zone,n,()=>n.classList.remove("show"),O),Tc(this._zone,this._dialogEl.nativeElement,()=>{},O));return Oe.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),Oe}_show(){const n={animation:this.animation,runningTransition:"continue"};Wb(Tc(this._zone,this._elRef.nativeElement,(le,Oe)=>{Oe&&Y0(le),le.classList.add("show")},n),Tc(this._zone,this._dialogEl.nativeElement,()=>{},n)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:n}=this._elRef;this._zone.runOutsideAngular(()=>{Ml(n,"keydown").pipe(Cs(this._closed$),Vs(G=>G.which===va.Escape)).subscribe(G=>{this.keyboard?requestAnimationFrame(()=>{G.defaultPrevented||this._zone.run(()=>this.dismiss(z2.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let O=!1;Ml(this._dialogEl.nativeElement,"mousedown").pipe(Cs(this._closed$),Tl(()=>O=!1),Ln(()=>Ml(n,"mouseup").pipe(Cs(this._closed$),wl(1))),Vs(({target:G})=>n===G)).subscribe(()=>{O=!0}),Ml(n,"click").pipe(Cs(this._closed$)).subscribe(({target:G})=>{n===G&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!O&&this._zone.run(()=>this.dismiss(z2.BACKDROP_CLICK))),O=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:n}=this._elRef;if(!n.contains(document.activeElement)){const O=n.querySelector("[ngbAutofocus]"),G=bk(n)[0];(O||G||n).focus()}}_restoreFocus(){const n=this._document.body,O=this._elWithFocus;let G;G=O&&O.focus&&n.contains(O)?O:n,this._zone.runOutsideAngular(()=>{setTimeout(()=>G.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Tc(this._zone,this._elRef.nativeElement,({classList:n})=>(n.add("modal-static"),()=>n.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return(e=t).\u0275fac=function(n){return new(n||e)(Gn(ks),Gn(Yo),Gn(Lo))},e.\u0275cmp=ga({type:e,selectors:[["ngb-modal-window"]],viewQuery:function(n,O){if(1&n&&jd(Nz,7),2&n){let G;Xo(G=Jo())&&(O._dialogEl=G.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(n,O){2&n&&(Bo("aria-modal",!0)("aria-labelledby",O.ariaLabelledBy)("aria-describedby",O.ariaDescribedBy),Oh("modal d-block"+(O.windowClass?" "+O.windowClass:"")),Ro("fade",O.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[lu],ngContentSelectors:az,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(n,O){1&n&&(W_(),zi(0,"div",0,1)(2,"div",2),$_(3),Bi()()),2&n&&Oh("modal-dialog"+(O.size?" modal-"+O.size:"")+(O.centered?" modal-dialog-centered":"")+O.fullscreenClass+(O.scrollable?" modal-dialog-scrollable":"")+(O.modalDialogClass?" "+O.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),t})(),Pj=(()=>{var e;class t{constructor(n){this._document=n}hide(){const n=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),O=this._document.body,G=O.style,{overflow:le,paddingRight:Oe}=G;if(n>0){const He=parseFloat(window.getComputedStyle(O).paddingRight);G.paddingRight=`${He+n}px`}return G.overflow="hidden",()=>{n>0&&(G.paddingRight=Oe),G.overflow=le}}}return(e=t).\u0275fac=function(n){return new(n||e)(Vr(ks))},e.\u0275prov=tr({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),Rj=(()=>{var e;class t{constructor(n,O,G,le,Oe,He,et){this._applicationRef=n,this._injector=O,this._environmentInjector=G,this._document=le,this._scrollBar=Oe,this._rendererFactory=He,this._ngZone=et,this._activeWindowCmptHasChanged=new Y,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new zr,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const yt=this._windowCmpts[this._windowCmpts.length-1];((e,t,d,n=!1)=>{e.runOutsideAngular(()=>{const O=Ml(t,"focusin").pipe(Cs(d),ee(G=>G.target));Ml(t,"keydown").pipe(Cs(d),Vs(G=>G.which===va.Tab),$b(O)).subscribe(([G,le])=>{const[Oe,He]=bk(t);(le===Oe||le===t)&&G.shiftKey&&(He.focus(),G.preventDefault()),le===He&&!G.shiftKey&&(Oe.focus(),G.preventDefault())}),n&&Ml(t,"click").pipe(Cs(d),$b(O),ee(G=>G[1])).subscribe(G=>G.focus())})})(this._ngZone,yt.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(yt.location.nativeElement)}})}_restoreScrollBar(){const n=this._scrollBarRestoreFn;n&&(this._scrollBarRestoreFn=null,n())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(n,O,G){const le=G.container instanceof HTMLElement?G.container:Wh(G.container)?this._document.querySelector(G.container):this._document.body,Oe=this._rendererFactory.createRenderer(null,null);if(!le)throw new Error(`The specified modal container "${G.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const He=new zk,et=(n=G.injector||n).get(bl,null)||this._environmentInjector,yt=this._getContentRef(n,et,O,He,G);let Pt=!1!==G.backdrop?this._attachBackdrop(le):void 0,Qt=this._attachWindowComponent(le,yt.nodes),cn=new Oj(Qt,yt,Pt,G.beforeDismiss);return this._registerModalRef(cn),this._registerWindowCmpt(Qt),cn.hidden.pipe(wl(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(Oe.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),He.close=Vn=>{cn.close(Vn)},He.dismiss=Vn=>{cn.dismiss(Vn)},He.update=Vn=>{cn.update(Vn)},cn.update(G),1===this._modalRefs.length&&Oe.addClass(this._document.body,"modal-open"),Pt&&Pt.instance&&Pt.changeDetectorRef.detectChanges(),Qt.changeDetectorRef.detectChanges(),cn}get activeInstances(){return this._activeInstances}dismissAll(n){this._modalRefs.forEach(O=>O.dismiss(n))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(n){let O=jx(Ej,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(O.hostView),n.appendChild(O.location.nativeElement),O}_attachWindowComponent(n,O){let G=jx(Ij,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:O});return this._applicationRef.attachView(G.hostView),n.appendChild(G.location.nativeElement),G}_getContentRef(n,O,G,le,Oe){return G?G instanceof Za?this._createFromTemplateRef(G,le):qh(G)?this._createFromString(G):this._createFromComponent(n,O,G,le,Oe):new Jh([])}_createFromTemplateRef(n,O){const le=n.createEmbeddedView({$implicit:O,close(Oe){O.close(Oe)},dismiss(Oe){O.dismiss(Oe)}});return this._applicationRef.attachView(le),new Jh([le.rootNodes],le)}_createFromString(n){const O=this._document.createTextNode(`${n}`);return new Jh([[O]])}_createFromComponent(n,O,G,le,Oe){const et=jx(G,{environmentInjector:O,elementInjector:_c.create({providers:[{provide:zk,useValue:le}],parent:n})}),yt=et.location.nativeElement;return Oe.scrollable&&yt.classList.add("component-host-scrollable"),this._applicationRef.attachView(et.hostView),new Jh([[yt]],et.hostView,et)}_setAriaHidden(n){const O=n.parentElement;O&&n!==this._document.body&&(Array.from(O.children).forEach(G=>{G!==n&&"SCRIPT"!==G.nodeName&&(this._ariaHiddenValues.set(G,G.getAttribute("aria-hidden")),G.setAttribute("aria-hidden","true"))}),this._setAriaHidden(O))}_revertAriaHidden(){this._ariaHiddenValues.forEach((n,O)=>{n?O.setAttribute("aria-hidden",n):O.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(n){const O=()=>{const G=this._modalRefs.indexOf(n);G>-1&&(this._modalRefs.splice(G,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(n),this._activeInstances.emit(this._modalRefs),n.result.then(O,O)}_registerWindowCmpt(n){this._windowCmpts.push(n),this._activeWindowCmptHasChanged.next(),n.onDestroy(()=>{const O=this._windowCmpts.indexOf(n);O>-1&&(this._windowCmpts.splice(O,1),this._activeWindowCmptHasChanged.next())})}}return(e=t).\u0275fac=function(n){return new(n||e)(Vr(Ud),Vr(_c),Vr(bl),Vr(ks),Vr(Pj),Vr(T_),Vr(Lo))},e.\u0275prov=tr({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),Lj=(()=>{var e;class t{constructor(n){this._ngbConfig=n,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(n){this._animation=n}}return(e=t).\u0275fac=function(n){return new(n||e)(Vr(yy))},e.\u0275prov=tr({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),Nj=(()=>{var e;class t{constructor(n,O,G){this._injector=n,this._modalStack=O,this._config=G}open(n,O={}){const G={...this._config,animation:this._config.animation,...O};return this._modalStack.open(this._injector,n,G)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(n){this._modalStack.dismissAll(n)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return(e=t).\u0275fac=function(n){return new(n||e)(Vr(_c),Vr(Rj),Vr(Lj))},e.\u0275prov=tr({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),Bk=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=Ri({type:e}),e.\u0275inj=ir({providers:[Nj]}),t})(),Uk=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=Ri({type:e}),e.\u0275inj=ir({}),t})(),Xk=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=Ri({type:e}),e.\u0275inj=ir({}),t})(),Kk=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=Ri({type:e}),e.\u0275inj=ir({}),t})(),Qk=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=Ri({type:e}),e.\u0275inj=ir({}),t})(),eE=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=Ri({type:e}),e.\u0275inj=ir({}),t})(),tE=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=Ri({type:e}),e.\u0275inj=ir({}),t})(),nE=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=Ri({type:e}),e.\u0275inj=ir({}),t})(),rE=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=Ri({type:e}),e.\u0275inj=ir({}),t})(),iE=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=Ri({type:e}),e.\u0275inj=ir({}),t})();new ei("live announcer delay",{providedIn:"root",factory:function eV(){return 100}});let oE=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=Ri({type:e}),e.\u0275inj=ir({}),t})(),aE=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=Ri({type:e}),e.\u0275inj=ir({}),t})();const nV=[lk,ck,dk,hk,Rk,Fk,Bk,Uk,aE,Xk,Kk,Qk,eE,tE,nE,rE,iE,oE];let rV=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=Ri({type:e}),e.\u0275inj=ir({imports:[nV,lk,ck,dk,hk,Rk,Fk,Bk,Uk,aE,Xk,Kk,Qk,eE,tE,nE,rE,iE,oE]}),t})();var iV=Wu(335);M4.plotlyjs=iV;let oV=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=Ri({type:e,bootstrap:[zL]}),e.\u0275inj=ir({imports:[h9,ZR,rV,M4,AL]}),t})();f9().bootstrapModule(oV).catch(e=>console.error(e))},335:Mf=>{self,Mf.exports=function(){var nd={98847:function(oe,j,r){"use strict";var I=r(71828),E={"X,X div":'direction:ltr;font-family:"Open Sans",verdana,arial,sans-serif;margin:0;padding:0;',"X input,X button":'font-family:"Open Sans",verdana,arial,sans-serif;',"X input:focus,X button:focus":"outline:none;","X a":"text-decoration:none;","X a:hover":"text-decoration:none;","X .crisp":"shape-rendering:crispEdges;","X .user-select-none":"-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;","X svg":"overflow:hidden;","X svg a":"fill:#447adb;","X svg a:hover":"fill:#3c6dc5;","X .main-svg":"position:absolute;top:0;left:0;pointer-events:none;","X .main-svg .draglayer":"pointer-events:all;","X .cursor-default":"cursor:default;","X .cursor-pointer":"cursor:pointer;","X .cursor-crosshair":"cursor:crosshair;","X .cursor-move":"cursor:move;","X .cursor-col-resize":"cursor:col-resize;","X .cursor-row-resize":"cursor:row-resize;","X .cursor-ns-resize":"cursor:ns-resize;","X .cursor-ew-resize":"cursor:ew-resize;","X .cursor-sw-resize":"cursor:sw-resize;","X .cursor-s-resize":"cursor:s-resize;","X .cursor-se-resize":"cursor:se-resize;","X .cursor-w-resize":"cursor:w-resize;","X .cursor-e-resize":"cursor:e-resize;","X .cursor-nw-resize":"cursor:nw-resize;","X .cursor-n-resize":"cursor:n-resize;","X .cursor-ne-resize":"cursor:ne-resize;","X .cursor-grab":"cursor:-webkit-grab;cursor:grab;","X .modebar":"position:absolute;top:2px;right:2px;","X .ease-bg":"-webkit-transition:background-color .3s ease 0s;-moz-transition:background-color .3s ease 0s;-ms-transition:background-color .3s ease 0s;-o-transition:background-color .3s ease 0s;transition:background-color .3s ease 0s;","X .modebar--hover>:not(.watermark)":"opacity:0;-webkit-transition:opacity .3s ease 0s;-moz-transition:opacity .3s ease 0s;-ms-transition:opacity .3s ease 0s;-o-transition:opacity .3s ease 0s;transition:opacity .3s ease 0s;","X:hover .modebar--hover .modebar-group":"opacity:1;","X .modebar-group":"float:left;display:inline-block;box-sizing:border-box;padding-left:8px;position:relative;vertical-align:middle;white-space:nowrap;","X .modebar-btn":"position:relative;font-size:16px;padding:3px 4px;height:22px;cursor:pointer;line-height:normal;box-sizing:border-box;","X .modebar-btn svg":"position:relative;top:2px;","X .modebar.vertical":"display:flex;flex-direction:column;flex-wrap:wrap;align-content:flex-end;max-height:100%;","X .modebar.vertical svg":"top:-1px;","X .modebar.vertical .modebar-group":"display:block;float:none;padding-left:0px;padding-bottom:8px;","X .modebar.vertical .modebar-group .modebar-btn":"display:block;text-align:center;","X [data-title]:before,X [data-title]:after":"position:absolute;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);display:none;opacity:0;z-index:1001;pointer-events:none;top:110%;right:50%;","X [data-title]:hover:before,X [data-title]:hover:after":"display:block;opacity:1;","X [data-title]:before":'content:"";position:absolute;background:rgba(0,0,0,0);border:6px solid rgba(0,0,0,0);z-index:1002;margin-top:-12px;border-bottom-color:#69738a;margin-right:-6px;',"X [data-title]:after":"content:attr(data-title);background:#69738a;color:#fff;padding:8px 10px;font-size:12px;line-height:12px;white-space:nowrap;margin-right:-18px;border-radius:2px;","X .vertical [data-title]:before,X .vertical [data-title]:after":"top:0%;right:200%;","X .vertical [data-title]:before":"border:6px solid rgba(0,0,0,0);border-left-color:#69738a;margin-top:8px;margin-right:-30px;",Y:'font-family:"Open Sans",verdana,arial,sans-serif;position:fixed;top:50px;right:20px;z-index:10000;font-size:10pt;max-width:180px;',"Y p":"margin:0;","Y .notifier-note":"min-width:180px;max-width:250px;border:1px solid #fff;z-index:3000;margin:0;background-color:#8c97af;background-color:rgba(140,151,175,.9);color:#fff;padding:10px;overflow-wrap:break-word;word-wrap:break-word;-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;","Y .notifier-close":"color:#fff;opacity:.8;float:right;padding:0 5px;background:none;border:none;font-size:20px;font-weight:bold;line-height:20px;","Y .notifier-close:hover":"color:#444;text-decoration:none;cursor:pointer;"};for(var f in E){var S=f.replace(/^,/," ,").replace(/X/g,".js-plotly-plot .plotly").replace(/Y/g,".plotly-notifier");I.addStyleRule(S,E[f])}},98222:function(oe,j,r){"use strict";oe.exports=r(82887)},27206:function(oe,j,r){"use strict";oe.exports=r(60822)},59893:function(oe,j,r){"use strict";oe.exports=r(23381)},5224:function(oe,j,r){"use strict";oe.exports=r(83832)},59509:function(oe,j,r){"use strict";oe.exports=r(72201)},75557:function(oe,j,r){"use strict";oe.exports=r(91815)},40338:function(oe,j,r){"use strict";oe.exports=r(21462)},35080:function(oe,j,r){"use strict";oe.exports=r(51319)},61396:function(oe,j,r){"use strict";oe.exports=r(57516)},40549:function(oe,j,r){"use strict";oe.exports=r(98128)},49866:function(oe,j,r){"use strict";oe.exports=r(99442)},36089:function(oe,j,r){"use strict";oe.exports=r(93740)},19548:function(oe,j,r){"use strict";oe.exports=r(8729)},35831:function(oe,j,r){"use strict";oe.exports=r(93814)},61039:function(oe,j,r){"use strict";oe.exports=r(14382)},97040:function(oe,j,r){"use strict";oe.exports=r(51759)},77986:function(oe,j,r){"use strict";oe.exports=r(10421)},24296:function(oe,j,r){"use strict";oe.exports=r(43102)},58872:function(oe,j,r){"use strict";oe.exports=r(92165)},29626:function(oe,j,r){"use strict";oe.exports=r(3325)},65591:function(oe,j,r){"use strict";oe.exports=r(36071)},69738:function(oe,j,r){"use strict";oe.exports=r(43905)},92650:function(oe,j,r){"use strict";oe.exports=r(35902)},35630:function(oe,j,r){"use strict";oe.exports=r(69816)},73434:function(oe,j,r){"use strict";oe.exports=r(94507)},27909:function(oe,j,r){"use strict";var I=r(19548);I.register([r(27206),r(5224),r(58872),r(65591),r(69738),r(92650),r(49866),r(25743),r(6197),r(97040),r(85461),r(73434),r(54201),r(81299),r(47645),r(35630),r(77986),r(83043),r(93005),r(96881),r(4534),r(50581),r(40549),r(77900),r(47582),r(35080),r(21641),r(17280),r(5861),r(29626),r(10021),r(65317),r(96268),r(61396),r(35831),r(16122),r(46163),r(40344),r(40338),r(48131),r(36089),r(55334),r(75557),r(19440),r(99488),r(59893),r(97393),r(98222),r(61039),r(24296),r(66398),r(59509)]),oe.exports=I},46163:function(oe,j,r){"use strict";oe.exports=r(15154)},96881:function(oe,j,r){"use strict";oe.exports=r(64943)},50581:function(oe,j,r){"use strict";oe.exports=r(21164)},55334:function(oe,j,r){"use strict";oe.exports=r(54186)},65317:function(oe,j,r){"use strict";oe.exports=r(94873)},10021:function(oe,j,r){"use strict";oe.exports=r(67618)},54201:function(oe,j,r){"use strict";oe.exports=r(58810)},5861:function(oe,j,r){"use strict";oe.exports=r(20593)},16122:function(oe,j,r){"use strict";oe.exports=r(29396)},83043:function(oe,j,r){"use strict";oe.exports=r(13551)},48131:function(oe,j,r){"use strict";oe.exports=r(46858)},47582:function(oe,j,r){"use strict";oe.exports=r(17988)},21641:function(oe,j,r){"use strict";oe.exports=r(68868)},96268:function(oe,j,r){"use strict";oe.exports=r(20467)},19440:function(oe,j,r){"use strict";oe.exports=r(91271)},99488:function(oe,j,r){"use strict";oe.exports=r(21461)},97393:function(oe,j,r){"use strict";oe.exports=r(85956)},25743:function(oe,j,r){"use strict";oe.exports=r(52979)},66398:function(oe,j,r){"use strict";oe.exports=r(32275)},17280:function(oe,j,r){"use strict";oe.exports=r(6419)},77900:function(oe,j,r){"use strict";oe.exports=r(61510)},81299:function(oe,j,r){"use strict";oe.exports=r(87619)},93005:function(oe,j,r){"use strict";oe.exports=r(93601)},40344:function(oe,j,r){"use strict";oe.exports=r(96595)},47645:function(oe,j,r){"use strict";oe.exports=r(70954)},6197:function(oe,j,r){"use strict";oe.exports=r(47462)},4534:function(oe,j,r){"use strict";oe.exports=r(17659)},85461:function(oe,j,r){"use strict";oe.exports=r(19990)},82884:function(oe){"use strict";oe.exports=[{path:"",backoff:0},{path:"M-2.4,-3V3L0.6,0Z",backoff:.6},{path:"M-3.7,-2.5V2.5L1.3,0Z",backoff:1.3},{path:"M-4.45,-3L-1.65,-0.2V0.2L-4.45,3L1.55,0Z",backoff:1.55},{path:"M-2.2,-2.2L-0.2,-0.2V0.2L-2.2,2.2L-1.4,3L1.6,0L-1.4,-3Z",backoff:1.6},{path:"M-4.4,-2.1L-0.6,-0.2V0.2L-4.4,2.1L-4,3L2,0L-4,-3Z",backoff:2},{path:"M2,0A2,2 0 1,1 0,-2A2,2 0 0,1 2,0Z",backoff:0,noRotate:!0},{path:"M2,2V-2H-2V2Z",backoff:0,noRotate:!0}]},50215:function(oe,j,r){"use strict";var I=r(82884),E=r(41940),f=r(85555),S=r(44467).templatedArray;r(24695),oe.exports=S("annotation",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},text:{valType:"string",editType:"calc+arraydraw"},textangle:{valType:"angle",dflt:0,editType:"calc+arraydraw"},font:E({editType:"calc+arraydraw",colorEditType:"arraydraw"}),width:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},height:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},align:{valType:"enumerated",values:["left","center","right"],dflt:"center",editType:"arraydraw"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"arraydraw"},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},bordercolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},borderpad:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},borderwidth:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},showarrow:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},arrowcolor:{valType:"color",editType:"arraydraw"},arrowhead:{valType:"integer",min:0,max:I.length,dflt:1,editType:"arraydraw"},startarrowhead:{valType:"integer",min:0,max:I.length,dflt:1,editType:"arraydraw"},arrowside:{valType:"flaglist",flags:["end","start"],extras:["none"],dflt:"end",editType:"arraydraw"},arrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},startarrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},arrowwidth:{valType:"number",min:.1,editType:"calc+arraydraw"},standoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},startstandoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},ax:{valType:"any",editType:"calc+arraydraw"},ay:{valType:"any",editType:"calc+arraydraw"},axref:{valType:"enumerated",dflt:"pixel",values:["pixel",f.idRegex.x.toString()],editType:"calc"},ayref:{valType:"enumerated",dflt:"pixel",values:["pixel",f.idRegex.y.toString()],editType:"calc"},xref:{valType:"enumerated",values:["paper",f.idRegex.x.toString()],editType:"calc"},x:{valType:"any",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},xshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},yref:{valType:"enumerated",values:["paper",f.idRegex.y.toString()],editType:"calc"},y:{valType:"any",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",editType:"calc+arraydraw"},yshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},clicktoshow:{valType:"enumerated",values:[!1,"onoff","onout"],dflt:!1,editType:"arraydraw"},xclick:{valType:"any",editType:"arraydraw"},yclick:{valType:"any",editType:"arraydraw"},hovertext:{valType:"string",editType:"arraydraw"},hoverlabel:{bgcolor:{valType:"color",editType:"arraydraw"},bordercolor:{valType:"color",editType:"arraydraw"},font:E({editType:"arraydraw"}),editType:"arraydraw"},captureevents:{valType:"boolean",editType:"arraydraw"},editType:"calc",_deprecated:{ref:{valType:"string",editType:"calc"}}})},3749:function(oe,j,r){"use strict";var I=r(71828),E=r(89298),f=r(92605).draw;function S(y){I.filterVisible(y._fullLayout.annotations).forEach(function(i){var s=E.getFromId(y,i.xref),a=E.getFromId(y,i.yref),o=E.getRefType(i.xref),l=E.getRefType(i.yref);i._extremes={},"range"===o&&M(i,s),"range"===l&&M(i,a)})}function M(y,u){var i,s=u._id,a=s.charAt(0),o=y[a],l=y["a"+a],v=y["_"+a+"padplus"],p=y["_"+a+"padminus"],T={x:1,y:-1}[a]*y[a+"shift"],_=3*y.arrowsize*y.arrowwidth||0,g=_+T,w=_-T,x=3*y.startarrowsize*y.arrowwidth||0,b=x+T,A=x-T;if(y["a"+a+"ref"]===y[a+"ref"]){var m=E.findExtremes(u,[u.r2c(o)],{ppadplus:g,ppadminus:w}),C=E.findExtremes(u,[u.r2c(l)],{ppadplus:Math.max(v,b),ppadminus:Math.max(p,A)});i={min:[m.min[0],C.min[0]],max:[m.max[0],C.max[0]]}}else b=l?b+l:b,A=l?A-l:A,i=E.findExtremes(u,[u.r2c(o)],{ppadplus:Math.max(v,g,b),ppadminus:Math.max(p,w,A)});y._extremes[s]=i}oe.exports=function(y){if(I.filterVisible(y._fullLayout.annotations).length&&y._fullData.length)return I.syncOrAsync([f,S],y)}},44317:function(oe,j,r){"use strict";var I=r(71828),E=r(73972),f=r(44467).arrayEditor;function S(y,u){var i,s,a,o,l,c,h,v=y._fullLayout.annotations,p=[],T=[],_=[],g=(u||[]).length;for(i=0;i<v.length;i++)if(o=(a=v[i]).clicktoshow){for(s=0;s<g;s++)if(c=(l=u[s]).xaxis,h=l.yaxis,c._id===a.xref&&h._id===a.yref&&c.d2r(l.x)===M(a._xclick,c)&&h.d2r(l.y)===M(a._yclick,h)){(a.visible?"onout"===o?T:_:p).push(i);break}s===g&&a.visible&&"onout"===o&&T.push(i)}return{on:p,off:T,explicitOff:_}}function M(y,u){return"log"===u.type?u.l2r(y):u.d2r(y)}oe.exports={hasClickToShow:function(y,u){var i=S(y,u);return i.on.length>0||i.explicitOff.length>0},onClick:function(y,u){var i,s,a=S(y,u),o=a.on,l=a.off.concat(a.explicitOff),c={},h=y._fullLayout.annotations;if(o.length||l.length){for(i=0;i<o.length;i++)(s=f(y.layout,"annotations",h[o[i]])).modifyItem("visible",!0),I.extendFlat(c,s.getUpdateObj());for(i=0;i<l.length;i++)(s=f(y.layout,"annotations",h[l[i]])).modifyItem("visible",!1),I.extendFlat(c,s.getUpdateObj());return E.call("update",y,{},c)}}}},25625:function(oe,j,r){"use strict";var I=r(71828),E=r(7901);oe.exports=function(f,S,M,y){y("opacity");var u=y("bgcolor"),i=y("bordercolor"),s=E.opacity(i);y("borderpad");var a=y("borderwidth"),o=y("showarrow");if(y("text",o?" ":M._dfltTitle.annotation),y("textangle"),I.coerceFont(y,"font",M.font),y("width"),y("align"),y("height")&&y("valign"),o){var l,c,h=y("arrowside");-1!==h.indexOf("end")&&(l=y("arrowhead"),c=y("arrowsize")),-1!==h.indexOf("start")&&(y("startarrowhead",l),y("startarrowsize",c)),y("arrowcolor",s?S.bordercolor:E.defaultLine),y("arrowwidth",2*(s&&a||1)),y("standoff"),y("startstandoff")}var v=y("hovertext"),p=M.hoverlabel||{};if(v){var T=y("hoverlabel.bgcolor",p.bgcolor||(E.opacity(u)?E.rgb(u):E.defaultLine)),_=y("hoverlabel.bordercolor",p.bordercolor||E.contrast(T));I.coerceFont(y,"hoverlabel.font",{family:p.font.family,size:p.font.size,color:p.font.color||_})}y("captureevents",!!v)}},94128:function(oe,j,r){"use strict";var I=r(92770),E=r(58163);oe.exports=function(f,S,M,y){S=S||{};var u="log"===M&&"linear"===S.type;if(u||"linear"===M&&"log"===S.type)for(var s,a,o=f._fullLayout.annotations,l=S._id.charAt(0),c=0;c<o.length;c++)a="annotations["+c+"].",(s=o[c])[l+"ref"]===S._id&&h(l),s["a"+l+"ref"]===S._id&&h("a"+l);function h(v){var p=s[v],T=null;T=u?E(p,S.range):Math.pow(10,p),I(T)||(T=null),y(a+v,T)}}},84046:function(oe,j,r){"use strict";var I=r(71828),E=r(89298),f=r(85501),S=r(25625),M=r(50215);function y(u,i,s){function a(C,k){return I.coerce(u,i,M,C,k)}var o=a("visible"),l=a("clicktoshow");if(o||l){S(u,i,s,a);for(var c=i.showarrow,h=["x","y"],v=[-10,-30],p={_fullLayout:s},T=0;T<2;T++){var _=h[T],g=E.coerceRef(u,i,p,_,"","paper");if("paper"!==g&&E.getFromId(p,g)._annIndices.push(i._index),E.coercePosition(i,p,a,g,_,.5),c){var w="a"+_,x=E.coerceRef(u,i,p,w,"pixel",["pixel","paper"]);"pixel"!==x&&x!==g&&(x=i[w]="pixel"),E.coercePosition(i,p,a,x,w,"pixel"===x?v[T]:.4)}a(_+"anchor"),a(_+"shift")}if(I.noneOrAll(u,i,["x","y"]),c&&I.noneOrAll(u,i,["ax","ay"]),l){var A=a("xclick"),m=a("yclick");i._xclick=void 0===A?i.x:E.cleanPosition(A,p,i.xref),i._yclick=void 0===m?i.y:E.cleanPosition(m,p,i.yref)}}}oe.exports=function(u,i){f(u,i,{name:"annotations",handleItemDefaults:y})}},92605:function(oe,j,r){"use strict";var I=r(39898),E=r(73972),f=r(74875),S=r(71828),M=S.strTranslate,y=r(89298),u=r(7901),i=r(91424),s=r(30211),a=r(63893),o=r(6964),l=r(28569),c=r(44467).arrayEditor,h=r(13011);function v(_,g){var w=_._fullLayout.annotations[g]||{},x=y.getFromId(_,w.xref),b=y.getFromId(_,w.yref);x&&x.setScale(),b&&b.setScale(),T(_,w,g,!1,x,b)}function p(_,g,w,x,b){var A=b[w],m=b[w+"ref"],C=-1!==w.indexOf("y"),k="domain"===y.getRefType(m),P=C?x.h:x.w;return _?k?A+(C?-g:g)/_._length:_.p2r(_.r2p(A)+g):A+(C?-g:g)/P}function T(_,g,w,x,b,A){var m,C,k=_._fullLayout,P=_._fullLayout._size,R=_._context.edits;x?(m="annotation-"+x,C=x+".annotations"):(m="annotation",C="annotations");var L=c(_.layout,C,g),N=L.modifyBase,B=L.modifyItem,J=L.getUpdateObj;k._infolayer.selectAll("."+m+'[data-index="'+w+'"]').remove();var z="clip"+k._uid+"_ann"+w;if(g._input&&!1!==g.visible){var Y={x:{},y:{}},q=+g.textangle||0,U=k._infolayer.append("g").classed(m,!0).attr("data-index",String(w)).style("opacity",g.opacity),Z=U.append("g").classed("annotation-text-g",!0),X=R[g.showarrow?"annotationTail":"annotationPosition"],se=g.captureevents||R.annotationText||X,re=Z.append("g").style("pointer-events",se?"all":null).call(o,"pointer").on("click",function(){_._dragging=!1,_.emit("plotly_clickannotation",Se(I.event))});g.hovertext&&re.on("mouseover",function(){var we=g.hoverlabel,ze=we.font,ke=this.getBoundingClientRect(),Ee=_.getBoundingClientRect();s.loneHover({x0:ke.left-Ee.left,x1:ke.right-Ee.left,y:(ke.top+ke.bottom)/2-Ee.top,text:g.hovertext,color:we.bgcolor,borderColor:we.bordercolor,fontFamily:ze.family,fontSize:ze.size,fontColor:ze.color},{container:k._hoverlayer.node(),outerContainer:k._paper.node(),gd:_})}).on("mouseout",function(){s.loneUnhover(k._hoverlayer.node())});var ee=g.borderwidth,ne=ee+g.borderpad,ae=re.append("rect").attr("class","bg").style("stroke-width",ee+"px").call(u.stroke,g.bordercolor).call(u.fill,g.bgcolor),ue=g.width||g.height,he=k._topclips.selectAll("#"+z).data(ue?[0]:[]);he.enter().append("clipPath").classed("annclip",!0).attr("id",z).append("rect"),he.exit().remove();var pe=g.font,ge=k._meta?S.templateString(g.text,k._meta):g.text,xe=re.append("text").classed("annotation-text",!0).text(ge);R.annotationText?xe.call(a.makeEditable,{delegate:re,gd:_}).call(Te).on("edit",function(we){g.text=we,this.call(Te),B("text",we),b&&b.autorange&&N(b._name+".autorange",!0),A&&A.autorange&&N(A._name+".autorange",!0),E.call("_guiRelayout",_,J())}):xe.call(Te)}else I.selectAll("#"+z).remove();function Se(we){var ze={index:w,annotation:g._input,fullAnnotation:g,event:we};return x&&(ze.subplotId=x),ze}function Te(we){return we.call(i.font,pe).attr({"text-anchor":{left:"start",right:"end"}[g.align]||"middle"}),a.convertToTspans(we,_,ye),we}function ye(){var we=xe.selectAll("a");1===we.size()&&we.text()===xe.text()&&re.insert("a",":first-child").attr({"xlink:xlink:href":we.attr("xlink:href"),"xlink:xlink:show":we.attr("xlink:show")}).style({cursor:"pointer"}).node().appendChild(ae.node());var ze=re.select(".annotation-text-math-group"),ke=!ze.empty(),Ee=i.bBox((ke?ze:xe).node()),me=Ee.width,de=Ee.height,ce=g.width||me,Ae=g.height||de,Ne=Math.round(ce+2*ne),De=Math.round(Ae+2*ne);function Ue(Tt,xt){return"auto"===xt&&(xt=Tt<.3333333333333333?"left":Tt>.6666666666666666?"right":"center"),{center:0,middle:0,left:.5,bottom:-.5,right:-.5,top:.5}[xt]}for(var Ye=!1,_e=["x","y"],Pe=0;Pe<_e.length;Pe++){var Ie,Be,We,Ge,Ke,tt=_e[Pe],st=g[tt+"ref"]||tt,gt=g["a"+tt+"ref"],ct={x:b,y:A}[tt],kt=(q+("x"===tt?0:-90))*Math.PI/180,Dt=Ne*Math.cos(kt),vt=De*Math.sin(kt),mt=Math.abs(Dt)+Math.abs(vt),Et=g[tt+"anchor"],Lt=g[tt+"shift"]*("x"===tt?1:-1),Rt=Y[tt],Ut=y.getRefType(st);if(ct&&"domain"!==Ut){var Bt=ct.r2fraction(g[tt]);(Bt<0||Bt>1)&&(gt===st?((Bt=ct.r2fraction(g["a"+tt]))<0||Bt>1)&&(Ye=!0):Ye=!0),Ie=ct._offset+ct.r2p(g[tt]),Ge=.5}else{var rt="domain"===Ut;"x"===tt?(We=g[tt],Ie=rt?ct._offset+ct._length*We:Ie=P.l+P.w*We):(We=1-g[tt],Ie=rt?ct._offset+ct._length*We:Ie=P.t+P.h*We),Ge=g.showarrow?.5:We}if(g.showarrow){Rt.head=Ie;var ot=g["a"+tt];if(Ke=Dt*Ue(.5,g.xanchor)-vt*Ue(.5,g.yanchor),gt===st){var Je=y.getRefType(gt);"domain"===Je?("y"===tt&&(ot=1-ot),Rt.tail=ct._offset+ct._length*ot):Rt.tail="paper"===Je?"y"===tt?P.t+P.h*(ot=1-ot):P.l+P.w*ot:ct._offset+ct.r2p(ot),Be=Ke}else Rt.tail=Ie+ot,Be=Ke+ot;Rt.text=Rt.tail+Ke;var it=k["x"===tt?"width":"height"];if("paper"===st&&(Rt.head=S.constrain(Rt.head,1,it-1)),"pixel"===gt){var dt=-Math.max(Rt.tail-3,Rt.text),ht=Math.min(Rt.tail+3,Rt.text)-it;dt>0?(Rt.tail+=dt,Rt.text+=dt):ht>0&&(Rt.tail-=ht,Rt.text-=ht)}Rt.tail+=Lt,Rt.head+=Lt}else Be=Ke=mt*Ue(Ge,Et),Rt.text=Ie+Ke;Rt.text+=Lt,Ke+=Lt,g["_"+tt+"padplus"]=mt/2+(Be+=Lt),g["_"+tt+"padminus"]=mt/2-Be,g["_"+tt+"size"]=mt,g["_"+tt+"shift"]=Ke}if(Ye)re.remove();else{var Ve=0,qe=0;"left"!==g.align&&(Ve=(ce-me)*("center"===g.align?.5:1)),"top"!==g.valign&&(qe=(Ae-de)*("middle"===g.valign?.5:1)),ke?ze.select("svg").attr({x:ne+Ve-1,y:ne+qe}).call(i.setClipUrl,ue?z:null,_):xe.call(a.positionText,ne+Ve-Ee.left,ne+qe-Ee.top).call(i.setClipUrl,ue?z:null,_),he.select("rect").call(i.setRect,ne,ne,ce,Ae),ae.call(i.setRect,ee/2,ee/2,Ne-ee,De-ee),re.call(i.setTranslate,Math.round(Y.x.text-Ne/2),Math.round(Y.y.text-De/2)),Z.attr({transform:"rotate("+q+","+Y.x.text+","+Y.y.text+")"});var St,Mt=function(Tt,xt){U.selectAll(".annotation-arrow-g").remove();var Nt=Y.x.head,bt=Y.y.head,wt=Y.x.tail+Tt,It=Y.y.tail+xt,Wt=Y.x.text+Tt,Yt=Y.y.text+xt,Zt=S.rotationXYMatrix(q,Wt,Yt),dn=S.apply2DTransform(Zt),nn=S.apply2DTransform2(Zt),un=+ae.attr("width"),rn=+ae.attr("height"),kn=Wt-.5*un,Pn=kn+un,Sn=Yt-.5*rn,en=Sn+rn,vn=[[kn,Sn,kn,en],[kn,en,Pn,en],[Pn,en,Pn,Sn],[Pn,Sn,kn,Sn]].map(nn);if(!vn.reduce(function(vr,mr){return vr^!!S.segmentsIntersect(Nt,bt,Nt+1e6,bt+1e6,mr[0],mr[1],mr[2],mr[3])},!1)){vn.forEach(function(vr){var mr=S.segmentsIntersect(wt,It,Nt,bt,vr[0],vr[1],vr[2],vr[3]);mr&&(wt=mr.x,It=mr.y)});var hn=g.arrowwidth,yn=g.arrowcolor,Cn=g.arrowside,_n=U.append("g").style({opacity:u.opacity(yn)}).classed("annotation-arrow-g",!0),Un=_n.append("path").attr("d","M"+wt+","+It+"L"+Nt+","+bt).style("stroke-width",hn+"px").call(u.stroke,u.rgb(yn));if(h(Un,Cn,g),R.annotationPosition&&Un.node().parentNode&&!x){var qn=Nt,Ln=bt;if(g.standoff){var Yn=Math.sqrt(Math.pow(Nt-wt,2)+Math.pow(bt-It,2));qn+=g.standoff*(wt-Nt)/Yn,Ln+=g.standoff*(It-bt)/Yn}var _r,dr,kr=_n.append("path").classed("annotation-arrow",!0).classed("anndrag",!0).classed("cursor-move",!0).attr({d:"M3,3H-3V-3H3ZM0,0L"+(wt-qn)+","+(It-Ln),transform:M(qn,Ln)}).style("stroke-width",hn+6+"px").call(u.stroke,"rgba(0,0,0,0)").call(u.fill,"rgba(0,0,0,0)");l.init({element:kr.node(),gd:_,prepFn:function(){var vr=i.getTranslate(re);_r=vr.x,dr=vr.y,b&&b.autorange&&N(b._name+".autorange",!0),A&&A.autorange&&N(A._name+".autorange",!0)},moveFn:function(vr,mr){var Br=dn(_r,dr),qt=Br[0]+vr,on=Br[1]+mr;re.call(i.setTranslate,qt,on),B("x",p(b,vr,"x",P,g)),B("y",p(A,mr,"y",P,g)),g.axref===g.xref&&B("ax",p(b,vr,"ax",P,g)),g.ayref===g.yref&&B("ay",p(A,mr,"ay",P,g)),_n.attr("transform",M(vr,mr)),Z.attr({transform:"rotate("+q+","+qt+","+on+")"})},doneFn:function(){E.call("_guiRelayout",_,J());var vr=document.querySelector(".js-notes-box-panel");vr&&vr.redraw(vr.selectedObj)}})}}};g.showarrow&&Mt(0,0),X&&l.init({element:re.node(),gd:_,prepFn:function(){St=Z.attr("transform")},moveFn:function(Tt,xt){var Nt="pointer";if(g.showarrow)B("ax",g.axref===g.xref?p(b,Tt,"ax",P,g):g.ax+Tt),B("ay",g.ayref===g.yref?p(A,xt,"ay",P.w,g):g.ay+xt),Mt(Tt,xt);else{if(x)return;var bt,wt;if(b)bt=p(b,Tt,"x",P,g);else{var It=g._xsize/P.w;bt=l.align(g.x+(g._xshift-g.xshift)/P.w-It/2+Tt/P.w,It,0,1,g.xanchor)}if(A)wt=p(A,xt,"y",P,g);else{var Yt=g._ysize/P.h;wt=l.align(g.y-(g._yshift+g.yshift)/P.h-Yt/2-xt/P.h,Yt,0,1,g.yanchor)}B("x",bt),B("y",wt),b&&A||(Nt=l.getCursor(b?.5:bt,A?.5:wt,g.xanchor,g.yanchor))}Z.attr({transform:M(Tt,xt)+St}),o(re,Nt)},clickFn:function(Tt,xt){g.captureevents&&_.emit("plotly_clickannotation",Se(xt))},doneFn:function(){o(re),E.call("_guiRelayout",_,J());var Tt=document.querySelector(".js-notes-box-panel");Tt&&Tt.redraw(Tt.selectedObj)}})}}}oe.exports={draw:function(_){var g=_._fullLayout;g._infolayer.selectAll(".annotation").remove();for(var w=0;w<g.annotations.length;w++)g.annotations[w].visible&&v(_,w);return f.previousPromises(_)},drawOne:v,drawRaw:T}},13011:function(oe,j,r){"use strict";var I=r(39898),E=r(7901),f=r(82884),S=r(71828),M=S.strScale,y=S.strRotate,u=S.strTranslate;oe.exports=function(i,s,a){var o,l,c,h,v=i.node(),p=f[a.arrowhead||0],T=f[a.startarrowhead||0],_=(a.arrowwidth||1)*(a.arrowsize||1),g=(a.arrowwidth||1)*(a.startarrowsize||1),w=s.indexOf("start")>=0,x=s.indexOf("end")>=0,b=p.backoff*_+a.standoff,A=T.backoff*g+a.startstandoff;if("line"===v.nodeName){o={x:+i.attr("x1"),y:+i.attr("y1")},l={x:+i.attr("x2"),y:+i.attr("y2")};var m=o.x-l.x,C=o.y-l.y;if(h=(c=Math.atan2(C,m))+Math.PI,b&&A&&b+A>Math.sqrt(m*m+C*C))return void U();if(b){if(b*b>m*m+C*C)return void U();var k=b*Math.cos(c),P=b*Math.sin(c);l.x+=k,l.y+=P,i.attr({x2:l.x,y2:l.y})}if(A){if(A*A>m*m+C*C)return void U();var R=A*Math.cos(c),L=A*Math.sin(c);o.x-=R,o.y-=L,i.attr({x1:o.x,y1:o.y})}}else if("path"===v.nodeName){var N=v.getTotalLength(),B="";if(N<b+A)return void U();var J=v.getPointAtLength(0),z=v.getPointAtLength(.1);c=Math.atan2(J.y-z.y,J.x-z.x),o=v.getPointAtLength(Math.min(A,N)),B="0px,"+A+"px,";var Y=v.getPointAtLength(N),q=v.getPointAtLength(N-.1);h=Math.atan2(Y.y-q.y,Y.x-q.x),l=v.getPointAtLength(Math.max(0,N-b)),i.style("stroke-dasharray",B+=N-(B?A+b:b)+"px,"+N+"px")}function U(){i.style("stroke-dasharray","0px,100px")}function Z(X,se,re,ee){X.path&&(X.noRotate&&(re=0),I.select(v.parentNode).append("path").attr({class:i.attr("class"),d:X.path,transform:u(se.x,se.y)+y(180*re/Math.PI)+M(ee)}).style({fill:E.rgb(a.arrowcolor),"stroke-width":0}))}w&&Z(T,o,c,g),x&&Z(p,l,h,_)}},32745:function(oe,j,r){"use strict";var I=r(92605),E=r(44317);oe.exports={moduleType:"component",name:"annotations",layoutAttributes:r(50215),supplyLayoutDefaults:r(84046),includeBasePlot:r(76325)("annotations"),calcAutorange:r(3749),draw:I.draw,drawOne:I.drawOne,drawRaw:I.drawRaw,hasClickToShow:E.hasClickToShow,onClick:E.onClick,convertCoords:r(94128)}},26997:function(oe,j,r){"use strict";var I=r(50215),E=r(30962).overrideAll,f=r(44467).templatedArray;oe.exports=E(f("annotation",{visible:I.visible,x:{valType:"any"},y:{valType:"any"},z:{valType:"any"},ax:{valType:"number"},ay:{valType:"number"},xanchor:I.xanchor,xshift:I.xshift,yanchor:I.yanchor,yshift:I.yshift,text:I.text,textangle:I.textangle,font:I.font,width:I.width,height:I.height,opacity:I.opacity,align:I.align,valign:I.valign,bgcolor:I.bgcolor,bordercolor:I.bordercolor,borderpad:I.borderpad,borderwidth:I.borderwidth,showarrow:I.showarrow,arrowcolor:I.arrowcolor,arrowhead:I.arrowhead,startarrowhead:I.startarrowhead,arrowside:I.arrowside,arrowsize:I.arrowsize,startarrowsize:I.startarrowsize,arrowwidth:I.arrowwidth,standoff:I.standoff,startstandoff:I.startstandoff,hovertext:I.hovertext,hoverlabel:I.hoverlabel,captureevents:I.captureevents}),"calc","from-root")},5485:function(oe,j,r){"use strict";var I=r(71828),E=r(89298);function f(S,M){var y=M.fullSceneLayout.domain,u=M.fullLayout._size,i={pdata:null,type:"linear",autorange:!1,range:[-1/0,1/0]};S._xa={},I.extendFlat(S._xa,i),E.setConvert(S._xa),S._xa._offset=u.l+y.x[0]*u.w,S._xa.l2p=function(){return.5*(1+S._pdata[0]/S._pdata[3])*u.w*(y.x[1]-y.x[0])},S._ya={},I.extendFlat(S._ya,i),E.setConvert(S._ya),S._ya._offset=u.t+(1-y.y[1])*u.h,S._ya.l2p=function(){return.5*(1-S._pdata[1]/S._pdata[3])*u.h*(y.y[1]-y.y[0])}}oe.exports=function(S){for(var M=S.fullSceneLayout.annotations,y=0;y<M.length;y++)f(M[y],S);S.fullLayout._infolayer.selectAll(".annotation-"+S.id).remove()}},20226:function(oe,j,r){"use strict";var I=r(71828),E=r(89298),f=r(85501),S=r(25625),M=r(26997);function y(u,i,s,a){function o(c,h){return I.coerce(u,i,M,c,h)}function l(c){var h=c+"axis",v={_fullLayout:{}};return v._fullLayout[h]=s[h],E.coercePosition(i,v,o,c,c,.5)}o("visible")&&(S(u,i,a.fullLayout,o),l("x"),l("y"),l("z"),I.noneOrAll(u,i,["x","y","z"]),i.xref="x",i.yref="y",i.zref="z",o("xanchor"),o("yanchor"),o("xshift"),o("yshift"),i.showarrow&&(i.axref="pixel",i.ayref="pixel",o("ax",-10),o("ay",-30),I.noneOrAll(u,i,["ax","ay"])))}oe.exports=function(u,i,s){f(u,i,{name:"annotations",handleItemDefaults:y,fullLayout:s.fullLayout})}},82188:function(oe,j,r){"use strict";var I=r(92605).drawRaw,E=r(63538),f=["x","y","z"];oe.exports=function(S){for(var M=S.fullSceneLayout,y=S.dataScale,u=M.annotations,i=0;i<u.length;i++){for(var s=u[i],a=!1,o=0;o<3;o++){var l=f[o],h=M[l+"axis"].r2fraction(s[l]);if(h<0||h>1){a=!0;break}}a?S.fullLayout._infolayer.select(".annotation-"+S.id+'[data-index="'+i+'"]').remove():(s._pdata=E(S.glplot.cameraParams,[M.xaxis.r2l(s.x)*y[0],M.yaxis.r2l(s.y)*y[1],M.zaxis.r2l(s.z)*y[2]]),I(S.graphDiv,s,i,S.id,s._xa,s._ya))}}},2468:function(oe,j,r){"use strict";var I=r(73972),E=r(71828);oe.exports={moduleType:"component",name:"annotations3d",schema:{subplots:{scene:{annotations:r(26997)}}},layoutAttributes:r(26997),handleDefaults:r(20226),includeBasePlot:function(f,S){var M=I.subplotsRegistry.gl3d;if(M)for(var y=M.attrRegex,u=Object.keys(f),i=0;i<u.length;i++){var s=u[i];y.test(s)&&(f[s].annotations||[]).length&&(E.pushUnique(S._basePlotModules,M),E.pushUnique(S._subplots.gl3d,s))}},convert:r(5485),draw:r(82188)}},7561:function(oe,j,r){"use strict";oe.exports=r(63489),r(94338),r(3961),r(38751),r(86825),r(37715),r(99384),r(43805),r(88874),r(83290),r(29108),r(55422),r(94320),r(31320),r(51367),r(21457)},72201:function(oe,j,r){"use strict";var I=r(7561),E=r(71828),f=r(50606),S=f.EPOCHJD,M=f.ONEDAY,y={valType:"enumerated",values:E.sortObjectKeys(I.calendars),editType:"calc",dflt:"gregorian"},u=function(_,g,w,x){var b={};return b[w]=y,E.coerce(_,g,b,w,x)},i="##",s={d:{0:"dd","-":"d"},e:{0:"d","-":"d"},a:{0:"D","-":"D"},A:{0:"DD","-":"DD"},j:{0:"oo","-":"o"},W:{0:"ww","-":"w"},m:{0:"mm","-":"m"},b:{0:"M","-":"M"},B:{0:"MM","-":"MM"},y:{0:"yy","-":"yy"},Y:{0:"yyyy","-":"yyyy"},U:i,w:i,c:{0:"D M d %X yyyy","-":"D M d %X yyyy"},x:{0:"mm/dd/yyyy","-":"mm/dd/yyyy"}},a={};function o(_){return a[_]||(a[_]=I.instance(_))}function l(_){return E.extendFlat({},y,{description:_})}function c(_){return"Sets the calendar system to use with `"+_+"` date data."}var h={xcalendar:l(c("x"))},v=E.extendFlat({},h,{ycalendar:l(c("y"))}),p=E.extendFlat({},v,{zcalendar:l(c("z"))}),T=l(["Sets the calendar system to use for `range` and `tick0`","if this is a date axis. This does not set the calendar for","interpreting data on this axis, that's specified in the trace","or via the global `layout.calendar`"].join(" "));oe.exports={moduleType:"component",name:"calendars",schema:{traces:{scatter:v,bar:v,box:v,heatmap:v,contour:v,histogram:v,histogram2d:v,histogram2dcontour:v,scatter3d:p,surface:p,mesh3d:p,scattergl:v,ohlc:h,candlestick:h},layout:{calendar:l(["Sets the default calendar system to use for interpreting and","displaying dates throughout the plot."].join(" "))},subplots:{xaxis:{calendar:T},yaxis:{calendar:T},scene:{xaxis:{calendar:T},yaxis:{calendar:T},zaxis:{calendar:T}},polar:{radialaxis:{calendar:T}}},transforms:{filter:{valuecalendar:l(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `value`, if it is a date."].join(" ")),targetcalendar:l(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `target`, if it is an","array of dates. If `target` is a string (eg *x*) we use the","corresponding trace attribute (eg `xcalendar`) if it exists,","even if `targetcalendar` is provided."].join(" "))}}},layoutAttributes:y,handleDefaults:u,handleTraceDefaults:function(_,g,w,x){for(var b=0;b<w.length;b++)u(_,g,w[b]+"calendar",x.calendar)},CANONICAL_SUNDAY:{chinese:"2000-01-02",coptic:"2000-01-03",discworld:"2000-01-03",ethiopian:"2000-01-05",hebrew:"5000-01-01",islamic:"1000-01-02",julian:"2000-01-03",mayan:"5000-01-01",nanakshahi:"1000-01-05",nepali:"2000-01-05",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-04",thai:"2000-01-04",ummalqura:"1400-01-06"},CANONICAL_TICK:{chinese:"2000-01-01",coptic:"2000-01-01",discworld:"2000-01-01",ethiopian:"2000-01-01",hebrew:"5000-01-01",islamic:"1000-01-01",julian:"2000-01-01",mayan:"5000-01-01",nanakshahi:"1000-01-01",nepali:"2000-01-01",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-01",thai:"2000-01-01",ummalqura:"1400-01-01"},DFLTRANGE:{chinese:["2000-01-01","2001-01-01"],coptic:["1700-01-01","1701-01-01"],discworld:["1800-01-01","1801-01-01"],ethiopian:["2000-01-01","2001-01-01"],hebrew:["5700-01-01","5701-01-01"],islamic:["1400-01-01","1401-01-01"],julian:["2000-01-01","2001-01-01"],mayan:["5200-01-01","5201-01-01"],nanakshahi:["0500-01-01","0501-01-01"],nepali:["2000-01-01","2001-01-01"],persian:["1400-01-01","1401-01-01"],jalali:["1400-01-01","1401-01-01"],taiwan:["0100-01-01","0101-01-01"],thai:["2500-01-01","2501-01-01"],ummalqura:["1400-01-01","1401-01-01"]},getCal:o,worldCalFmt:function(_,g,w){for(var x,b,A,m,C,k=Math.floor((g+.05)/M)+S,P=o(w).fromJD(k),R=0;-1!==(R=_.indexOf("%",R));)"0"===(x=_.charAt(R+1))||"-"===x||"_"===x?(A=3,b=_.charAt(R+2),"_"===x&&(x="-")):(b=x,x="0",A=2),(m=s[b])?(C=m===i?i:P.formatDate(m[x]),_=_.substr(0,R)+C+_.substr(R+A),R+=C.length):R+=A;return _}}},22399:function(oe,j){"use strict";j.defaults=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],j.defaultLine="#444",j.lightLine="#eee",j.background="#fff",j.borderLine="#BEC8D9",j.lightFraction=90.9090909090909},7901:function(oe,j,r){"use strict";var I=r(84267),E=r(92770),f=r(73627).isTypedArray,S=oe.exports={},M=r(22399);S.defaults=M.defaults;var y=S.defaultLine=M.defaultLine;S.lightLine=M.lightLine;var u=S.background=M.background;function i(s){if(E(s)||"string"!=typeof s)return s;var a=s.trim();if("rgb"!==a.substr(0,3))return s;var o=a.match(/^rgba?\s*\(([^()]*)\)$/);if(!o)return s;var l=o[1].trim().split(/\s*[\s,]\s*/),c="a"===a.charAt(3)&&4===l.length;if(!c&&3!==l.length)return s;for(var h=0;h<l.length;h++){if(!(l[h].length&&(l[h]=Number(l[h]),l[h]>=0)))return s;if(3===h)l[h]>1&&(l[h]=1);else if(l[h]>=1)return s}var v=Math.round(255*l[0])+", "+Math.round(255*l[1])+", "+Math.round(255*l[2]);return c?"rgba("+v+", "+l[3]+")":"rgb("+v+")"}S.tinyRGB=function(s){var a=s.toRgb();return"rgb("+Math.round(a.r)+", "+Math.round(a.g)+", "+Math.round(a.b)+")"},S.rgb=function(s){return S.tinyRGB(I(s))},S.opacity=function(s){return s?I(s).getAlpha():0},S.addOpacity=function(s,a){var o=I(s).toRgb();return"rgba("+Math.round(o.r)+", "+Math.round(o.g)+", "+Math.round(o.b)+", "+a+")"},S.combine=function(s,a){var o=I(s).toRgb();if(1===o.a)return I(s).toRgbString();var l=I(a||u).toRgb(),c=1===l.a?l:{r:255*(1-l.a)+l.r*l.a,g:255*(1-l.a)+l.g*l.a,b:255*(1-l.a)+l.b*l.a};return I({r:c.r*(1-o.a)+o.r*o.a,g:c.g*(1-o.a)+o.g*o.a,b:c.b*(1-o.a)+o.b*o.a}).toRgbString()},S.contrast=function(s,a,o){var l=I(s);return 1!==l.getAlpha()&&(l=I(S.combine(s,u))),(l.isDark()?a?l.lighten(a):u:o?l.darken(o):y).toString()},S.stroke=function(s,a){var o=I(a);s.style({stroke:S.tinyRGB(o),"stroke-opacity":o.getAlpha()})},S.fill=function(s,a){var o=I(a);s.style({fill:S.tinyRGB(o),"fill-opacity":o.getAlpha()})},S.clean=function(s){if(s&&"object"==typeof s){var a,o,l,c,h=Object.keys(s);for(a=0;a<h.length;a++)if(c=s[l=h[a]],"color"===l.substr(l.length-5))if(Array.isArray(c))for(o=0;o<c.length;o++)c[o]=i(c[o]);else s[l]=i(c);else if("colorscale"===l.substr(l.length-10)&&Array.isArray(c))for(o=0;o<c.length;o++)Array.isArray(c[o])&&(c[o][1]=i(c[o][1]));else if(Array.isArray(c)){var v=c[0];if(!Array.isArray(v)&&v&&"object"==typeof v)for(o=0;o<c.length;o++)S.clean(c[o])}else c&&"object"==typeof c&&!f(c)&&S.clean(c)}}},63583:function(oe,j,r){"use strict";var I=r(13838),E=r(41940),f=r(1426).extendFlat,S=r(30962).overrideAll;oe.exports=S({orientation:{valType:"enumerated",values:["h","v"],dflt:"v"},thicknessmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels"},thickness:{valType:"number",min:0,dflt:30},lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["left","center","right"]},xpad:{valType:"number",min:0,dflt:10},y:{valType:"number"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},ypad:{valType:"number",min:0,dflt:10},outlinecolor:I.linecolor,outlinewidth:I.linewidth,bordercolor:I.linecolor,borderwidth:{valType:"number",min:0,dflt:0},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},tickmode:I.minor.tickmode,nticks:I.nticks,tick0:I.tick0,dtick:I.dtick,tickvals:I.tickvals,ticktext:I.ticktext,ticks:f({},I.ticks,{dflt:""}),ticklabeloverflow:f({},I.ticklabeloverflow,{}),ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside"},ticklen:I.ticklen,tickwidth:I.tickwidth,tickcolor:I.tickcolor,ticklabelstep:I.ticklabelstep,showticklabels:I.showticklabels,labelalias:I.labelalias,tickfont:E({}),tickangle:I.tickangle,tickformat:I.tickformat,tickformatstops:I.tickformatstops,tickprefix:I.tickprefix,showtickprefix:I.showtickprefix,ticksuffix:I.ticksuffix,showticksuffix:I.showticksuffix,separatethousands:I.separatethousands,exponentformat:I.exponentformat,minexponent:I.minexponent,showexponent:I.showexponent,title:{text:{valType:"string"},font:E({}),side:{valType:"enumerated",values:["right","top","bottom"]}},_deprecated:{title:{valType:"string"},titlefont:E({}),titleside:{valType:"enumerated",values:["right","top","bottom"],dflt:"top"}}},"colorbars","from-root")},30939:function(oe){"use strict";oe.exports={cn:{colorbar:"colorbar",cbbg:"cbbg",cbfill:"cbfill",cbfills:"cbfills",cbline:"cbline",cblines:"cblines",cbaxis:"cbaxis",cbtitleunshift:"cbtitleunshift",cbtitle:"cbtitle",cboutline:"cboutline",crisp:"crisp",jsPlaceholder:"js-placeholder"}}},62499:function(oe,j,r){"use strict";var I=r(71828),E=r(44467),f=r(26218),S=r(38701),M=r(96115),y=r(89426),u=r(63583);oe.exports=function(i,s,a){var o=E.newContainer(s,"colorbar"),l=i.colorbar||{};function c(B,J){return I.coerce(l,o,u,B,J)}var h=a.margin||{t:0,b:0,l:0,r:0},v=a.width-h.l-h.r,p=a.height-h.t-h.b,T="v"===c("orientation"),_=c("thicknessmode");c("thickness","fraction"===_?30/(T?v:p):30);var g=c("lenmode");c("len","fraction"===g?1:T?p:v);var w,x,b,A="paper"===c("yref"),m="paper"===c("xref"),C="left";T?(b="middle",C=m?"left":"right",w=m?1.02:1,x=.5):(b=A?"bottom":"top",C="center",w=.5,x=A?1.02:1),I.coerce(l,o,{x:{valType:"number",min:m?-2:0,max:m?3:1,dflt:w}},"x"),I.coerce(l,o,{y:{valType:"number",min:A?-2:0,max:A?3:1,dflt:x}},"y"),c("xanchor",C),c("xpad"),c("yanchor",b),c("ypad"),I.noneOrAll(l,o,["x","y"]),c("outlinecolor"),c("outlinewidth"),c("bordercolor"),c("borderwidth"),c("bgcolor");var k=I.coerce(l,o,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:T?["outside","inside","outside top","inside top","outside bottom","inside bottom"]:["outside","inside","outside left","inside left","outside right","inside right"]}},"ticklabelposition");c("ticklabeloverflow",-1!==k.indexOf("inside")?"hide past domain":"hide past div"),f(l,o,c,"linear");var P=a.font,R={outerTicks:!1,font:P};-1!==k.indexOf("inside")&&(R.bgColor="black"),y(l,o,c,"linear",R),M(l,o,c,"linear",R),S(l,o,c,"linear",R),c("title.text",a._dfltTitle.colorbar);var L=o.showticklabels?o.tickfont:P,N=I.extendFlat({},L,{color:P.color,size:I.bigFont(L.size)});I.coerceFont(c,"title.font",N),c("title.side",T?"top":"right")}},98981:function(oe,j,r){"use strict";var I=r(39898),E=r(84267),f=r(74875),S=r(73972),M=r(89298),y=r(28569),u=r(71828),i=u.strTranslate,s=r(1426).extendFlat,a=r(6964),o=r(91424),l=r(7901),c=r(92998),h=r(63893),v=r(52075).flipScale,p=r(71453),T=r(52830),_=r(13838),g=r(18783),w=g.LINE_SPACING,x=g.FROM_TL,b=g.FROM_BR,A=r(30939).cn;oe.exports={draw:function(m){var C=m._fullLayout._infolayer.selectAll("g."+A.colorbar).data(function(k){var P,R,L,N,B=k._fullLayout,J=k.calcdata,z=[];function Y(ue){return s(ue,{_fillcolor:null,_line:{color:null,width:null,dash:null},_levels:{start:null,end:null,size:null},_filllevels:null,_fillgradient:null,_zrange:null})}function q(){"function"==typeof N.calc?N.calc(k,L,P):(P._fillgradient=R.reversescale?v(R.colorscale):R.colorscale,P._zrange=[R[N.min],R[N.max]])}for(var U=0;U<J.length;U++)if((L=J[U][0].trace)._module){var X=L._module.colorbar;if(!0===L.visible&&X)for(var se=Array.isArray(X),re=se?X:[X],ee=0;ee<re.length;ee++){var K=(N=re[ee]).container;(R=K?L[K]:L)&&R.showscale&&((P=Y(R.colorbar))._id="cb"+L.uid+(se&&K?"-"+K:""),P._traceIndex=L.index,P._propPrefix=(K?K+".":"")+"colorbar.",P._meta=L._meta,q(),z.push(P))}}for(var ne in B._colorAxes)if((R=B[ne]).showscale){var ae=B._colorAxes[ne];(P=Y(R.colorbar))._id="cb"+ne,P._propPrefix=ne+".colorbar.",P._meta=B._meta,N={min:"cmin",max:"cmax"},"heatmap"!==ae[0]&&(N.calc=(L=ae[1])._module.colorbar.calc),q(),z.push(P)}return z}(m),function(k){return k._id});C.enter().append("g").attr("class",function(k){return k._id}).classed(A.colorbar,!0),C.each(function(k){var P=I.select(this);u.ensureSingle(P,"rect",A.cbbg),u.ensureSingle(P,"g",A.cbfills),u.ensureSingle(P,"g",A.cblines),u.ensureSingle(P,"g",A.cbaxis,function(L){L.classed(A.crisp,!0)}),u.ensureSingle(P,"g",A.cbtitleunshift,function(L){L.append("g").classed(A.cbtitle,!0)}),u.ensureSingle(P,"rect",A.cboutline);var L,N,B,J,z,Y,q,U,R=function(L,N,B){var J="v"===N.orientation,z=N.len,Y=N.lenmode,q=N.thickness,U=N.thicknessmode,Z=N.outlinewidth,X=N.borderwidth,se=N.bgcolor,re=N.xanchor,ee=N.yanchor,K=N.xpad,ne=N.ypad,ae=N.x,ue=J?N.y:1-N.y,he="paper"===N.yref,pe="paper"===N.xref,ge=B._fullLayout,xe=ge._size,Se=N._fillcolor,Te=N._line,ye=N.title,we=ye.side,ze=N._zrange||I.extent(("function"==typeof Se?Se:Te.color).domain()),ke="function"==typeof Te.color?Te.color:function(){return Te.color},Ee="function"==typeof Se?Se:function(){return Se},me=N._levels,de=function(Je,it,dt){var ht,Ve,qe=it._levels,ut=[],ft=[],St=qe.end+qe.size/100,Mt=qe.size,Tt=1.001*dt[0]-.001*dt[1],xt=1.001*dt[1]-.001*dt[0];for(Ve=0;Ve<1e5&&(ht=qe.start+Ve*Mt,!(Mt>0?ht>=St:ht<=St));Ve++)ht>Tt&&ht<xt&&ut.push(ht);if(it._fillgradient)ft=[0];else if("function"==typeof it._fillcolor){var Nt=it._filllevels;if(Nt)for(St=Nt.end+Nt.size/100,Mt=Nt.size,Ve=0;Ve<1e5&&(ht=Nt.start+Ve*Mt,!(Mt>0?ht>=St:ht<=St));Ve++)ht>dt[0]&&ht<dt[1]&&ft.push(ht);else(ft=ut.map(function(bt){return bt-qe.size/2})).push(ft[ft.length-1]+qe.size)}else it._fillcolor&&"string"==typeof it._fillcolor&&(ft=[0]);return qe.size<0&&(ut.reverse(),ft.reverse()),{line:ut,fill:ft}}(0,N,ze),ce=de.fill,Ae=de.line,Ne=Math.round(q*("fraction"===U?J?xe.w:xe.h:1)),De=Ne/(J?xe.w:xe.h),Ue=Math.round(z*("fraction"===Y?J?xe.h:xe.w:1)),Ye=Ue/(J?xe.h:xe.w),_e=pe?xe.w:B._fullLayout.width,Pe=he?xe.h:B._fullLayout.height,Ie=Math.round(J?ae*_e+K:ue*Pe+ne),Be={center:.5,right:1}[re]||0,We={top:1,middle:.5}[ee]||0,Ge=J?ae-Be*De:ue-We*De,Ke=J?ue-We*Ye:ae-Be*Ye,tt=Math.round(J?Pe*(1-Ke):_e*Ke);N._lenFrac=Ye,N._thickFrac=De,N._uFrac=Ge,N._vFrac=Ke;var st=N._axis=function(Je,it,dt){var ht=Je._fullLayout,Ve="v"===it.orientation,qe={type:"linear",range:dt,tickmode:it.tickmode,nticks:it.nticks,tick0:it.tick0,dtick:it.dtick,tickvals:it.tickvals,ticktext:it.ticktext,ticks:it.ticks,ticklen:it.ticklen,tickwidth:it.tickwidth,tickcolor:it.tickcolor,showticklabels:it.showticklabels,labelalias:it.labelalias,ticklabelposition:it.ticklabelposition,ticklabeloverflow:it.ticklabeloverflow,ticklabelstep:it.ticklabelstep,tickfont:it.tickfont,tickangle:it.tickangle,tickformat:it.tickformat,exponentformat:it.exponentformat,minexponent:it.minexponent,separatethousands:it.separatethousands,showexponent:it.showexponent,showtickprefix:it.showtickprefix,tickprefix:it.tickprefix,showticksuffix:it.showticksuffix,ticksuffix:it.ticksuffix,title:it.title,showline:!0,anchor:"free",side:Ve?"right":"bottom",position:1},ut=Ve?"y":"x",ft={type:"linear",_id:ut+it._id},St={letter:ut,font:ht.font,noHover:!0,noTickson:!0,noTicklabelmode:!0,calendar:ht.calendar};function Mt(Tt,xt){return u.coerce(qe,ft,_,Tt,xt)}return p(qe,ft,Mt,St,ht),T(qe,ft,Mt,St),ft}(B,N,ze);st.position=De+(J?ae+K/xe.w:ue+ne/xe.h);var gt=-1!==["top","bottom"].indexOf(we);if(J&&gt&&(st.title.side=we,st.titlex=ae+K/xe.w,st.titley=Ke+("top"===ye.side?Ye-ne/xe.h:ne/xe.h)),J||gt||(st.title.side=we,st.titley=ue+ne/xe.h,st.titlex=Ke+K/xe.w),Te.color&&"auto"===N.tickmode){st.tickmode="linear",st.tick0=me.start;var ct=me.size,kt=u.constrain(Ue/50,4,15)+1,Dt=(ze[1]-ze[0])/((N.nticks||kt)*ct);if(Dt>1){var vt=Math.pow(10,Math.floor(Math.log(Dt)/Math.LN10));ct*=vt*u.roundUp(Dt/vt,[2,5,10]),(Math.abs(me.start)/me.size+1e-6)%1<2e-6&&(st.tick0=0)}st.dtick=ct}st.domain=J?[Ke+ne/xe.h,Ke+Ye-ne/xe.h]:[Ke+K/xe.w,Ke+Ye-K/xe.w],st.setScale(),L.attr("transform",i(Math.round(xe.l),Math.round(xe.t)));var mt,Et=L.select("."+A.cbtitleunshift).attr("transform",i(-Math.round(xe.l),-Math.round(xe.t))),Lt=st.ticklabelposition,Rt=st.title.font.size,Ut=L.select("."+A.cbaxis),Bt=0,rt=0;function ot(Je,it){var dt={propContainer:st,propName:N._propPrefix+"title",traceIndex:N._traceIndex,_meta:N._meta,placeholder:ge._dfltTitle.colorbar,containerGroup:L.select("."+A.cbtitle)},ht="h"===Je.charAt(0)?Je.substr(1):"h"+Je;L.selectAll("."+ht+",."+ht+"-math-group").remove(),c.draw(B,Je,s(dt,it||{}))}return u.syncOrAsync([f.previousPromises,function(){var Je,it;(J&&gt||!J&&!gt)&&("top"===we&&(Je=K+xe.l+_e*ae,it=ne+xe.t+Pe*(1-Ke-Ye)+3+.75*Rt),"bottom"===we&&(Je=K+xe.l+_e*ae,it=ne+xe.t+Pe*(1-Ke)-3-.25*Rt),"right"===we&&(it=ne+xe.t+Pe*ue+3+.75*Rt,Je=K+xe.l+_e*Ke),ot(st._id+"title",{attributes:{x:Je,y:it,"text-anchor":J?"start":"middle"}}))},function(){if(!J&&!gt||J&&gt){var Je,it=L.select("."+A.cbtitle),dt=it.select("text"),ht=[-Z/2,Z/2],Ve=it.select(".h"+st._id+"title-math-group").node(),qe=15.6;if(dt.node()&&(qe=parseInt(dt.node().style.fontSize,10)*w),Ve?(Je=o.bBox(Ve),rt=Je.width,(Bt=Je.height)>qe&&(ht[1]-=(Bt-qe)/2)):dt.node()&&!dt.classed(A.jsPlaceholder)&&(Je=o.bBox(dt.node()),rt=Je.width,Bt=Je.height),J){if(Bt){if(Bt+=5,"top"===we)st.domain[1]-=Bt/xe.h,ht[1]*=-1;else{st.domain[0]+=Bt/xe.h;var ut=h.lineCount(dt);ht[1]+=(1-ut)*qe}it.attr("transform",i(ht[0],ht[1])),st.setScale()}}else rt&&("right"===we&&(st.domain[0]+=(rt+Rt/2)/xe.w),it.attr("transform",i(ht[0],ht[1])),st.setScale())}L.selectAll("."+A.cbfills+",."+A.cblines).attr("transform",J?i(0,Math.round(xe.h*(1-st.domain[1]))):i(Math.round(xe.w*st.domain[0]),0)),Ut.attr("transform",J?i(0,Math.round(-xe.t)):i(Math.round(-xe.l),0));var ft=L.select("."+A.cbfills).selectAll("rect."+A.cbfill).attr("style","").data(ce);ft.enter().append("rect").classed(A.cbfill,!0).attr("style",""),ft.exit().remove();var St=ze.map(st.c2p).map(Math.round).sort(function(bt,wt){return bt-wt});ft.each(function(bt,wt){var It=[0===wt?ze[0]:(ce[wt]+ce[wt-1])/2,wt===ce.length-1?ze[1]:(ce[wt]+ce[wt+1])/2].map(st.c2p).map(Math.round);J&&(It[1]=u.constrain(It[1]+(It[1]>It[0])?1:-1,St[0],St[1]));var Wt=I.select(this).attr(J?"x":"y",Ie).attr(J?"y":"x",I.min(It)).attr(J?"width":"height",Math.max(Ne,2)).attr(J?"height":"width",Math.max(I.max(It)-I.min(It),2));if(N._fillgradient)o.gradient(Wt,B,N._id,J?"vertical":"horizontalreversed",N._fillgradient,"fill");else{var Yt=Ee(bt).replace("e-","");Wt.attr("fill",E(Yt).toHexString())}});var Mt=L.select("."+A.cblines).selectAll("path."+A.cbline).data(Te.color&&Te.width?Ae:[]);Mt.enter().append("path").classed(A.cbline,!0),Mt.exit().remove(),Mt.each(function(bt){var wt=Ie,It=Math.round(st.c2p(bt))+Te.width/2%1;I.select(this).attr("d","M"+(J?wt+","+It:It+","+wt)+(J?"h":"v")+Ne).call(o.lineGroupStyle,Te.width,ke(bt),Te.dash)}),Ut.selectAll("g."+st._id+"tick,path").remove();var Tt=Ie+Ne+(Z||0)/2-("outside"===N.ticks?1:0),xt=M.calcTicks(st),Nt=M.getTickSigns(st)[2];return M.drawTicks(B,st,{vals:"inside"===st.ticks?M.clipEnds(st,xt):xt,layer:Ut,path:M.makeTickPath(st,Tt,Nt),transFn:M.makeTransTickFn(st)}),M.drawLabels(B,st,{vals:xt,layer:Ut,transFn:M.makeTransTickLabelFn(st),labelFns:M.makeLabelFns(st,Tt)})},function(){if(J&&!gt||!J&&gt){var Je,it,dt=st.position||0,ht=st._offset+st._length/2;if("right"===we)it=ht,Je=xe.l+_e*dt+10+Rt*(st.showticklabels?1:.5);else if(Je=ht,"bottom"===we&&(it=xe.t+Pe*dt+10+(-1===Lt.indexOf("inside")?st.tickfont.size:0)+("intside"!==st.ticks&&N.ticklen||0)),"top"===we){var Ve=ye.text.split("<br>").length;it=xe.t+Pe*dt+10-Ne-w*Rt*Ve}ot((J?"h":"v")+st._id+"title",{avoid:{selection:I.select(B).selectAll("g."+st._id+"tick"),side:we,offsetTop:J?0:xe.t,offsetLeft:J?xe.l:0,maxShift:J?ge.width:ge.height},attributes:{x:Je,y:it,"text-anchor":"middle"},transform:{rotate:J?-90:0,offset:0}})}},f.previousPromises,function(){var Je,it=Ne+Z/2;-1===Lt.indexOf("inside")&&(Je=o.bBox(Ut.node()),it+=J?Je.width:Je.height),mt=Et.select("text");var dt=0,ht=J&&"top"===we,Ve=!J&&"right"===we,qe=0;if(mt.node()&&!mt.classed(A.jsPlaceholder)){var ut,ft=Et.select(".h"+st._id+"title-math-group").node();ft&&(J&&gt||!J&&!gt)?(dt=(Je=o.bBox(ft)).width,ut=Je.height):(dt=(Je=o.bBox(Et.node())).right-xe.l-(J?Ie:tt),ut=Je.bottom-xe.t-(J?tt:Ie),J||"top"!==we||(it+=Je.height,qe=Je.height)),Ve&&(mt.attr("transform",i(dt/2+Rt/2,0)),dt*=2),it=Math.max(it,J?dt:ut)}var St=2*(J?K:ne)+it+X+Z/2,Mt=0;!J&&ye.text&&"bottom"===ee&&ue<=0&&(St+=Mt=St/2,qe+=Mt),ge._hColorbarMoveTitle=Mt,ge._hColorbarMoveCBTitle=qe;var Tt=X+Z,xt=(J?Ie:tt)-Tt/2-(J?K:0),Nt=(J?tt:Ie)-(J?Ue:ne+qe-Mt);L.select("."+A.cbbg).attr("x",xt).attr("y",Nt).attr(J?"width":"height",Math.max(St-Mt,2)).attr(J?"height":"width",Math.max(Ue+Tt,2)).call(l.fill,se).call(l.stroke,N.bordercolor).style("stroke-width",X);var bt=Ve?Math.max(dt-10,0):0;L.selectAll("."+A.cboutline).attr("x",(J?Ie:tt+K)+bt).attr("y",(J?tt+ne-Ue:Ie)+(ht?Bt:0)).attr(J?"width":"height",Math.max(Ne,2)).attr(J?"height":"width",Math.max(Ue-(J?2*ne+Bt:2*K+bt),2)).call(l.stroke,N.outlinecolor).style({fill:"none","stroke-width":Z});var wt=J?Be*St:0,It=J?0:(1-We)*St-qe;if(L.attr("transform",i(wt=pe?xe.l-wt:-wt,It=he?xe.t-It:-It)),!J&&(X||E(se).getAlpha()&&!E.equals(ge.paper_bgcolor,se))){var Wt=Ut.selectAll("text"),Yt=Wt[0].length,Zt=L.select("."+A.cbbg).node(),dn=o.bBox(Zt),nn=o.getTranslate(L);Wt.each(function(Cn,_n){var Un=Yt-1;if(0===_n||_n===Un){var qn,Ln=o.bBox(this),Yn=o.getTranslate(this);_n===Un?(qn=dn.right+nn.x+tt-X-2+ae-(Ln.right+Yn.x))>0&&(qn=0):0===_n&&(qn=dn.left+nn.x+tt+X+2-(Ln.left+Yn.x))<0&&(qn=0),qn&&(Yt<3?this.setAttribute("transform","translate("+qn+",0) "+this.getAttribute("transform")):this.setAttribute("visibility","hidden"))}})}var un={},rn=x[re],kn=b[re],Pn=x[ee],Sn=b[ee],en=St-Ne;J?("pixels"===Y?(un.y=ue,un.t=Ue*Pn,un.b=Ue*Sn):(un.t=un.b=0,un.yt=ue+z*Pn,un.yb=ue-z*Sn),"pixels"===U?(un.x=ae,un.l=St*rn,un.r=St*kn):(un.l=en*rn,un.r=en*kn,un.xl=ae-q*rn,un.xr=ae+q*kn)):("pixels"===Y?(un.x=ae,un.l=Ue*rn,un.r=Ue*kn):(un.l=un.r=0,un.xl=ae+z*rn,un.xr=ae-z*kn),"pixels"===U?(un.y=1-ue,un.t=St*Pn,un.b=St*Sn):(un.t=en*Pn,un.b=en*Sn,un.yt=ue-q*Pn,un.yb=ue+q*Sn));var vn=N.y<.5?"b":"t",hn=N.x<.5?"l":"r";B._fullLayout._reservedMargin[N._id]={};var yn={r:ge.width-xt-wt,l:xt+un.r,b:ge.height-Nt-It,t:Nt+un.b};pe&&he?f.autoMargin(B,N._id,un):pe?B._fullLayout._reservedMargin[N._id][vn]=yn[vn]:he||J?B._fullLayout._reservedMargin[N._id][hn]=yn[hn]:B._fullLayout._reservedMargin[N._id][vn]=yn[vn]}],B)}(P,k,m);R&&R.then&&(m._promises||[]).push(R),m._context.edits.colorbarPosition&&(q="v"===(N=k).orientation,U=(B=m)._fullLayout._size,y.init({element:(L=P).node(),gd:B,prepFn:function(){J=L.attr("transform"),a(L)},moveFn:function(Z,X){L.attr("transform",J+i(Z,X)),z=y.align((q?N._uFrac:N._vFrac)+Z/U.w,q?N._thickFrac:N._lenFrac,0,1,N.xanchor),Y=y.align((q?N._vFrac:1-N._uFrac)-X/U.h,q?N._lenFrac:N._thickFrac,0,1,N.yanchor);var se=y.getCursor(z,Y,N.xanchor,N.yanchor);a(L,se)},doneFn:function(){if(a(L),void 0!==z&&void 0!==Y){var Z={};Z[N._propPrefix+"x"]=z,Z[N._propPrefix+"y"]=Y,void 0!==N._traceIndex?S.call("_guiRestyle",B,Z,N._traceIndex):S.call("_guiRelayout",B,Z)}}}))}),C.exit().each(function(k){f.autoMargin(m,k._id)}).remove(),C.order()}}},76228:function(oe,j,r){"use strict";var I=r(71828);oe.exports=function(E){return I.isPlainObject(E.colorbar)}},12311:function(oe,j,r){"use strict";oe.exports={moduleType:"component",name:"colorbar",attributes:r(63583),supplyDefaults:r(62499),draw:r(98981).draw,hasColorbar:r(76228)}},50693:function(oe,j,r){"use strict";var I=r(63583),E=r(30587).counter,f=r(78607),S=r(63282).scales;function M(y){return"`"+y+"`"}f(S),oe.exports=function(y,u){y=y||"";var i,s=(u=u||{}).cLetter||"c",a="noScale"in u?u.noScale:"marker.line"===y,o="showScaleDflt"in u?u.showScaleDflt:"z"===s,l="string"==typeof u.colorscaleDflt?S[u.colorscaleDflt]:null,c=u.editTypeOverride||"",h=y?y+".":"";"colorAttr"in u?i=u.colorAttr:M(h+(i={z:"z",c:"color"}[s]));var v=s+"auto",p=s+"min",T=s+"max",_=s+"mid",g=(M(h+v),M(h+p),M(h+T),{});g[p]=g[T]=void 0;var w={};w[v]=!1;var x={};return"color"===i&&(x.color={valType:"color",arrayOk:!0,editType:c||"style"},u.anim&&(x.color.anim=!0)),x[v]={valType:"boolean",dflt:!0,editType:"calc",impliedEdits:g},x[p]={valType:"number",dflt:null,editType:c||"plot",impliedEdits:w},x[T]={valType:"number",dflt:null,editType:c||"plot",impliedEdits:w},x[_]={valType:"number",dflt:null,editType:"calc",impliedEdits:g},x.colorscale={valType:"colorscale",editType:"calc",dflt:l,impliedEdits:{autocolorscale:!1}},x.autocolorscale={valType:"boolean",dflt:!1!==u.autoColorDflt,editType:"calc",impliedEdits:{colorscale:void 0}},x.reversescale={valType:"boolean",dflt:!1,editType:"plot"},a||(x.showscale={valType:"boolean",dflt:o,editType:"calc"},x.colorbar=I),u.noColorAxis||(x.coloraxis={valType:"subplotid",regex:E("coloraxis"),dflt:null,editType:"calc"}),x}},78803:function(oe,j,r){"use strict";var I=r(92770),E=r(71828),f=r(52075).extractOpts;oe.exports=function(S,M,y){var i=S._fullLayout,s=y.vals,a=y.containerStr,o=a?E.nestedProperty(M,a).get():M,l=f(o),c=!1!==l.auto,h=l.min,v=l.max,p=l.mid,T=function(){return E.aggNums(Math.min,null,s)},_=function(){return E.aggNums(Math.max,null,s)};void 0===h?h=T():c&&(h=o._colorAx&&I(h)?Math.min(h,T()):T()),void 0===v?v=_():c&&(v=o._colorAx&&I(v)?Math.max(v,_()):_()),c&&void 0!==p&&(v-p>p-h?h=p-(v-p):v-p<p-h&&(v=p+(p-h))),h===v&&(h-=.5,v+=.5),l._sync("min",h),l._sync("max",v),l.autocolorscale&&l._sync("colorscale",h*v<0?i.colorscale.diverging:h>=0?i.colorscale.sequential:i.colorscale.sequentialminus)}},33046:function(oe,j,r){"use strict";var I=r(71828),E=r(52075).hasColorscale,f=r(52075).extractOpts;oe.exports=function(S,M){function y(c,h){var v=c["_"+h];void 0!==v&&(c[h]=v)}function u(c,h){var v=h.container?I.nestedProperty(c,h.container).get():c;if(v)if(v.coloraxis)v._colorAx=M[v.coloraxis];else{var p=f(v),T=p.auto;(T||void 0===p.min)&&y(v,h.min),(T||void 0===p.max)&&y(v,h.max),p.autocolorscale&&y(v,"colorscale")}}for(var i=0;i<S.length;i++){var s=S[i],a=s._module.colorbar;if(a)if(Array.isArray(a))for(var o=0;o<a.length;o++)u(s,a[o]);else u(s,a);E(s,"marker.line")&&u(s,{container:"marker.line",min:"cmin",max:"cmax"})}for(var l in M._colorAxes)u(M[l],{min:"cmin",max:"cmax"})}},1586:function(oe,j,r){"use strict";var I=r(92770),E=r(71828),f=r(76228),S=r(62499),M=r(63282).isValid,y=r(73972).traceIs;function u(i,s){var a=s.slice(0,s.length-1);return s?E.nestedProperty(i,a).get()||{}:i}oe.exports=function i(s,a,o,l,c){var h=c.prefix,v=c.cLetter,p="_module"in a,T=u(s,h),_=u(a,h),g=u(a._template||{},h)||{},w=function(){return delete s.coloraxis,delete a.coloraxis,i(s,a,o,l,c)};if(p){var x=o._colorAxes||{},b=l(h+"coloraxis");if(b){var A=y(a,"contour")&&E.nestedProperty(a,"contours.coloring").get()||"heatmap",m=x[b];return void(m?(m[2].push(w),m[0]!==A&&(m[0]=!1,E.warn(["Ignoring coloraxis:",b,"setting","as it is linked to incompatible colorscales."].join(" ")))):x[b]=[A,a,[w]])}}var C=T[v+"min"],k=T[v+"max"],P=I(C)&&I(k)&&C<k;l(h+v+"auto",!P)?l(h+v+"mid"):(l(h+v+"min"),l(h+v+"max"));var R,L,N=T.colorscale,B=g.colorscale;void 0!==N&&(R=!M(N)),void 0!==B&&(R=!M(B)),l(h+"autocolorscale",R),l(h+"colorscale"),l(h+"reversescale"),"marker.line."!==h&&(h&&p&&(L=f(T)),l(h+"showscale",L)&&(h&&g&&(_._template=g),S(T,_,o)))}},52075:function(oe,j,r){"use strict";var I=r(39898),E=r(84267),f=r(92770),S=r(71828),M=r(7901),y=r(63282).isValid,u=["showscale","autocolorscale","colorscale","reversescale","colorbar"],i=["min","max","mid","auto"];function s(h){var v,p,T,_=h._colorAx,g=_||h,w={};for(p=0;p<u.length;p++)w[T=u[p]]=g[T];if(_)for(v="c",p=0;p<i.length;p++)w[T=i[p]]=g["c"+T];else{var x;for(p=0;p<i.length;p++)((x="c"+(T=i[p]))in g||(x="z"+T)in g)&&(w[T]=g[x]);v=x.charAt(0)}return w._sync=function(b,A){var m=-1!==i.indexOf(b)?v+b:b;g[m]=g["_"+m]=A},w}function a(h){for(var v=s(h),p=v.min,T=v.max,_=v.reversescale?o(v.colorscale):v.colorscale,g=_.length,w=new Array(g),x=new Array(g),b=0;b<g;b++){var A=_[b];w[b]=p+A[0]*(T-p),x[b]=A[1]}return{domain:w,range:x}}function o(h){for(var v=h.length,p=new Array(v),T=v-1,_=0;T>=0;T--,_++){var g=h[T];p[_]=[1-g[0],g[1]]}return p}function l(h,v){v=v||{};for(var p=h.domain,T=h.range,_=T.length,g=new Array(_),w=0;w<_;w++){var x=E(T[w]).toRgb();g[w]=[x.r,x.g,x.b,x.a]}var b,A=I.scale.linear().domain(p).range(g).clamp(!0),m=v.noNumericCheck,C=v.returnArray;return(b=m&&C?A:m?function(k){return c(A(k))}:C?function(k){return f(k)?A(k):E(k).isValid()?k:M.defaultLine}:function(k){return f(k)?c(A(k)):E(k).isValid()?k:M.defaultLine}).domain=A.domain,b.range=function(){return T},b}function c(h){return E({r:h[0],g:h[1],b:h[2],a:h[3]}).toRgbString()}oe.exports={hasColorscale:function(h,v,p){var T=v?S.nestedProperty(h,v).get()||{}:h,_=T[p||"color"],g=!1;if(S.isArrayOrTypedArray(_))for(var w=0;w<_.length;w++)if(f(_[w])){g=!0;break}return S.isPlainObject(T)&&(g||!0===T.showscale||f(T.cmin)&&f(T.cmax)||y(T.colorscale)||S.isPlainObject(T.colorbar))},extractOpts:s,extractScale:a,flipScale:o,makeColorScaleFunc:l,makeColorScaleFuncFromTrace:function(h,v){return l(a(h),v)}}},21081:function(oe,j,r){"use strict";var I=r(63282),E=r(52075);oe.exports={moduleType:"component",name:"colorscale",attributes:r(50693),layoutAttributes:r(72673),supplyLayoutDefaults:r(30959),handleDefaults:r(1586),crossTraceDefaults:r(33046),calc:r(78803),scales:I.scales,defaultScale:I.defaultScale,getScale:I.get,isValidScale:I.isValid,hasColorscale:E.hasColorscale,extractOpts:E.extractOpts,extractScale:E.extractScale,flipScale:E.flipScale,makeColorScaleFunc:E.makeColorScaleFunc,makeColorScaleFuncFromTrace:E.makeColorScaleFuncFromTrace}},72673:function(oe,j,r){"use strict";var I=r(1426).extendFlat,E=r(50693),f=r(63282).scales;oe.exports={editType:"calc",colorscale:{editType:"calc",sequential:{valType:"colorscale",dflt:f.Reds,editType:"calc"},sequentialminus:{valType:"colorscale",dflt:f.Blues,editType:"calc"},diverging:{valType:"colorscale",dflt:f.RdBu,editType:"calc"}},coloraxis:I({_isSubplotObj:!0,editType:"calc"},E("",{colorAttr:"corresponding trace color array(s)",noColorAxis:!0,showScaleDflt:!0}))}},30959:function(oe,j,r){"use strict";var I=r(71828),E=r(44467),f=r(72673),S=r(1586);oe.exports=function(M,y){function u(v,p){return I.coerce(M,y,f,v,p)}u("colorscale.sequential"),u("colorscale.sequentialminus"),u("colorscale.diverging");var i,s,a=y._colorAxes;function o(v,p){return I.coerce(i,s,f.coloraxis,v,p)}for(var l in a){var c=a[l];if(c[0])i=M[l]||{},(s=E.newContainer(y,l,"coloraxis"))._name=l,S(i,s,y,o,{prefix:"",cLetter:"c"});else{for(var h=0;h<c[2].length;h++)c[2][h]();delete y._colorAxes[l]}}}},63282:function(oe,j,r){"use strict";var I=r(84267),E={Greys:[[0,"rgb(0,0,0)"],[1,"rgb(255,255,255)"]],YlGnBu:[[0,"rgb(8,29,88)"],[.125,"rgb(37,52,148)"],[.25,"rgb(34,94,168)"],[.375,"rgb(29,145,192)"],[.5,"rgb(65,182,196)"],[.625,"rgb(127,205,187)"],[.75,"rgb(199,233,180)"],[.875,"rgb(237,248,217)"],[1,"rgb(255,255,217)"]],Greens:[[0,"rgb(0,68,27)"],[.125,"rgb(0,109,44)"],[.25,"rgb(35,139,69)"],[.375,"rgb(65,171,93)"],[.5,"rgb(116,196,118)"],[.625,"rgb(161,217,155)"],[.75,"rgb(199,233,192)"],[.875,"rgb(229,245,224)"],[1,"rgb(247,252,245)"]],YlOrRd:[[0,"rgb(128,0,38)"],[.125,"rgb(189,0,38)"],[.25,"rgb(227,26,28)"],[.375,"rgb(252,78,42)"],[.5,"rgb(253,141,60)"],[.625,"rgb(254,178,76)"],[.75,"rgb(254,217,118)"],[.875,"rgb(255,237,160)"],[1,"rgb(255,255,204)"]],Bluered:[[0,"rgb(0,0,255)"],[1,"rgb(255,0,0)"]],RdBu:[[0,"rgb(5,10,172)"],[.35,"rgb(106,137,247)"],[.5,"rgb(190,190,190)"],[.6,"rgb(220,170,132)"],[.7,"rgb(230,145,90)"],[1,"rgb(178,10,28)"]],Reds:[[0,"rgb(220,220,220)"],[.2,"rgb(245,195,157)"],[.4,"rgb(245,160,105)"],[1,"rgb(178,10,28)"]],Blues:[[0,"rgb(5,10,172)"],[.35,"rgb(40,60,190)"],[.5,"rgb(70,100,245)"],[.6,"rgb(90,120,245)"],[.7,"rgb(106,137,247)"],[1,"rgb(220,220,220)"]],Picnic:[[0,"rgb(0,0,255)"],[.1,"rgb(51,153,255)"],[.2,"rgb(102,204,255)"],[.3,"rgb(153,204,255)"],[.4,"rgb(204,204,255)"],[.5,"rgb(255,255,255)"],[.6,"rgb(255,204,255)"],[.7,"rgb(255,153,255)"],[.8,"rgb(255,102,204)"],[.9,"rgb(255,102,102)"],[1,"rgb(255,0,0)"]],Rainbow:[[0,"rgb(150,0,90)"],[.125,"rgb(0,0,200)"],[.25,"rgb(0,25,255)"],[.375,"rgb(0,152,255)"],[.5,"rgb(44,255,150)"],[.625,"rgb(151,255,0)"],[.75,"rgb(255,234,0)"],[.875,"rgb(255,111,0)"],[1,"rgb(255,0,0)"]],Portland:[[0,"rgb(12,51,131)"],[.25,"rgb(10,136,186)"],[.5,"rgb(242,211,56)"],[.75,"rgb(242,143,56)"],[1,"rgb(217,30,30)"]],Jet:[[0,"rgb(0,0,131)"],[.125,"rgb(0,60,170)"],[.375,"rgb(5,255,255)"],[.625,"rgb(255,255,0)"],[.875,"rgb(250,0,0)"],[1,"rgb(128,0,0)"]],Hot:[[0,"rgb(0,0,0)"],[.3,"rgb(230,0,0)"],[.6,"rgb(255,210,0)"],[1,"rgb(255,255,255)"]],Blackbody:[[0,"rgb(0,0,0)"],[.2,"rgb(230,0,0)"],[.4,"rgb(230,210,0)"],[.7,"rgb(255,255,255)"],[1,"rgb(160,200,255)"]],Earth:[[0,"rgb(0,0,130)"],[.1,"rgb(0,180,180)"],[.2,"rgb(40,210,40)"],[.4,"rgb(230,230,50)"],[.6,"rgb(120,70,20)"],[1,"rgb(255,255,255)"]],Electric:[[0,"rgb(0,0,0)"],[.15,"rgb(30,0,100)"],[.4,"rgb(120,0,100)"],[.6,"rgb(160,90,0)"],[.8,"rgb(230,200,0)"],[1,"rgb(255,250,220)"]],Viridis:[[0,"#440154"],[.06274509803921569,"#48186a"],[.12549019607843137,"#472d7b"],[.18823529411764706,"#424086"],[.25098039215686274,"#3b528b"],[.3137254901960784,"#33638d"],[.3764705882352941,"#2c728e"],[.4392156862745098,"#26828e"],[.5019607843137255,"#21918c"],[.5647058823529412,"#1fa088"],[.6274509803921569,"#28ae80"],[.6901960784313725,"#3fbc73"],[.7529411764705882,"#5ec962"],[.8156862745098039,"#84d44b"],[.8784313725490196,"#addc30"],[.9411764705882353,"#d8e219"],[1,"#fde725"]],Cividis:[[0,"rgb(0,32,76)"],[.058824,"rgb(0,42,102)"],[.117647,"rgb(0,52,110)"],[.176471,"rgb(39,63,108)"],[.235294,"rgb(60,74,107)"],[.294118,"rgb(76,85,107)"],[.352941,"rgb(91,95,109)"],[.411765,"rgb(104,106,112)"],[.470588,"rgb(117,117,117)"],[.529412,"rgb(131,129,120)"],[.588235,"rgb(146,140,120)"],[.647059,"rgb(161,152,118)"],[.705882,"rgb(176,165,114)"],[.764706,"rgb(192,177,109)"],[.823529,"rgb(209,191,102)"],[.882353,"rgb(225,204,92)"],[.941176,"rgb(243,219,79)"],[1,"rgb(255,233,69)"]]},f=E.RdBu;function S(M){var y=0;if(!Array.isArray(M)||M.length<2||!M[0]||!M[M.length-1]||0!=+M[0][0]||1!=+M[M.length-1][0])return!1;for(var u=0;u<M.length;u++){var i=M[u];if(2!==i.length||+i[0]<y||!I(i[1]).isValid())return!1;y=+i[0]}return!0}oe.exports={scales:E,defaultScale:f,get:function(M,y){if(y||(y=f),!M)return y;function u(){try{M=E[M]||JSON.parse(M)}catch{M=y}}return"string"==typeof M&&(u(),"string"==typeof M&&u()),S(M)?M:y},isValid:function(M){return void 0!==E[M]||S(M)}}},92807:function(oe){"use strict";oe.exports=function(j,r,I,E,f){var S=(j-I)/(E-I),M=S+r/(E-I),y=(S+M)/2;return"left"===f||"bottom"===f?S:"center"===f||"middle"===f?y:"right"===f||"top"===f?M:S<.6666666666666666-y?S:M>1.3333333333333333-y?M:y}},70461:function(oe,j,r){"use strict";var I=r(71828),E=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];oe.exports=function(f,S,M,y){return f="left"===M?0:"center"===M?1:"right"===M?2:I.constrain(Math.floor(3*f),0,2),S="bottom"===y?0:"middle"===y?1:"top"===y?2:I.constrain(Math.floor(3*S),0,2),E[S][f]}},64505:function(oe,j){"use strict";j.selectMode=function(r){return"lasso"===r||"select"===r},j.drawMode=function(r){return"drawclosedpath"===r||"drawopenpath"===r||"drawline"===r||"drawrect"===r||"drawcircle"===r},j.openMode=function(r){return"drawline"===r||"drawopenpath"===r},j.rectMode=function(r){return"select"===r||"drawline"===r||"drawrect"===r||"drawcircle"===r},j.freeMode=function(r){return"lasso"===r||"drawclosedpath"===r||"drawopenpath"===r},j.selectingOrDrawing=function(r){return j.freeMode(r)||j.rectMode(r)}},28569:function(oe,j,r){"use strict";var I=r(48956),E=r(57035),f=r(38520),S=r(71828).removeElement,M=r(85555),y=oe.exports={};y.align=r(92807),y.getCursor=r(70461);var u=r(26041);function i(){var a=document.createElement("div");a.className="dragcover";var o=a.style;return o.position="fixed",o.left=0,o.right=0,o.top=0,o.bottom=0,o.zIndex=999999999,o.background="none",document.body.appendChild(a),a}function s(a){return I(a.changedTouches?a.changedTouches[0]:a,document.body)}y.unhover=u.wrapped,y.unhoverRaw=u.raw,y.init=function(a){var o,l,c,h,v,p,T,_,g=a.gd,w=1,x=g._context.doubleClickDelay,b=a.element;g._mouseDownTime||(g._mouseDownTime=0),b.style.pointerEvents="all",b.onmousedown=m,f?(b._ontouchstart&&b.removeEventListener("touchstart",b._ontouchstart),b._ontouchstart=m,b.addEventListener("touchstart",m,{passive:!1})):b.ontouchstart=m;var A=a.clampFn||function(P,R,L){return Math.abs(P)<L&&(P=0),Math.abs(R)<L&&(R=0),[P,R]};function m(P){g._dragged=!1,g._dragging=!0;var R=s(P);o=R[0],l=R[1],T=P.target,p=P,_=2===P.buttons||P.ctrlKey,void 0===P.clientX&&void 0===P.clientY&&(P.clientX=o,P.clientY=l),(c=(new Date).getTime())-g._mouseDownTime<x?w+=1:(w=1,g._mouseDownTime=c),a.prepFn&&a.prepFn(P,o,l),E&&!_?(v=i()).style.cursor=window.getComputedStyle(b).cursor:E||(v=document,h=window.getComputedStyle(document.documentElement).cursor,document.documentElement.style.cursor=window.getComputedStyle(b).cursor),document.addEventListener("mouseup",k),document.addEventListener("touchend",k),!1!==a.dragmode&&(P.preventDefault(),document.addEventListener("mousemove",C),document.addEventListener("touchmove",C,{passive:!1}))}function C(P){P.preventDefault();var R=s(P),N=A(R[0]-o,R[1]-l,a.minDrag||M.MINDRAG),B=N[0],J=N[1];(B||J)&&(g._dragged=!0,y.unhover(g,P)),g._dragged&&a.moveFn&&!_&&(g._dragdata={element:b,dx:B,dy:J},a.moveFn(B,J))}function k(P){if(delete g._dragdata,!1!==a.dragmode&&(P.preventDefault(),document.removeEventListener("mousemove",C),document.removeEventListener("touchmove",C)),document.removeEventListener("mouseup",k),document.removeEventListener("touchend",k),E?S(v):h&&(v.documentElement.style.cursor=h,h=null),g._dragging){if(g._dragging=!1,(new Date).getTime()-g._mouseDownTime>x&&(w=Math.max(w-1,1)),g._dragged)a.doneFn&&a.doneFn();else if(a.clickFn&&a.clickFn(w,p),!_){var R;try{R=new MouseEvent("click",P)}catch{var L=s(P);(R=document.createEvent("MouseEvents")).initMouseEvent("click",P.bubbles,P.cancelable,P.view,P.detail,P.screenX,P.screenY,L[0],L[1],P.ctrlKey,P.altKey,P.shiftKey,P.metaKey,P.button,P.relatedTarget)}T.dispatchEvent(R)}g._dragging=!1,g._dragged=!1}else g._dragged=!1}},y.coverSlip=i},26041:function(oe,j,r){"use strict";var I=r(11086),E=r(79990),f=r(24401).getGraphDiv,S=r(26675),M=oe.exports={};M.wrapped=function(y,u,i){(y=f(y))._fullLayout&&E.clear(y._fullLayout._uid+S.HOVERID),M.raw(y,u,i)},M.raw=function(y,u){var i=y._fullLayout,s=y._hoverdata;u||(u={}),u.target&&!y._dragged&&!1===I.triggerHandler(y,"plotly_beforehover",u)||(i._hoverlayer.selectAll("g").remove(),i._hoverlayer.selectAll("line").remove(),i._hoverlayer.selectAll("circle").remove(),y._hoverdata=void 0,u.target&&s&&y.emit("plotly_unhover",{event:u,points:s}))}},79952:function(oe,j){"use strict";j.P={valType:"string",values:["solid","dot","dash","longdash","dashdot","longdashdot"],dflt:"solid",editType:"style"},j.u={shape:{valType:"enumerated",values:["","/","\\","x","-","|","+","."],dflt:"",arrayOk:!0,editType:"style"},fillmode:{valType:"enumerated",values:["replace","overlay"],dflt:"replace",editType:"style"},bgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgopacity:{valType:"number",editType:"style",min:0,max:1},size:{valType:"number",min:0,dflt:8,arrayOk:!0,editType:"style"},solidity:{valType:"number",min:0,max:1,dflt:.3,arrayOk:!0,editType:"style"},editType:"style"}},91424:function(oe,j,r){"use strict";var I=r(39898),E=r(71828),f=E.numberFormat,S=r(92770),M=r(84267),y=r(73972),u=r(7901),i=r(21081),s=E.strTranslate,a=r(63893),o=r(77922),l=r(18783).LINE_SPACING,c=r(37822).DESELECTDIM,h=r(34098),v=r(39984),p=r(23469).appendArrayPointValue,T=oe.exports={};function _(ke,Ee,me){var de=Ee.fillpattern,ce=de&&T.getPatternAttr(de.shape,0,"");if(ce){var Ae=T.getPatternAttr(de.bgcolor,0,null),Ne=T.getPatternAttr(de.fgcolor,0,null),De=de.fgopacity,Ue=T.getPatternAttr(de.size,0,8),Ye=T.getPatternAttr(de.solidity,0,.3);T.pattern(ke,"point",me,Ee.uid,ce,Ue,Ye,void 0,de.fillmode,Ae,Ne,De)}else Ee.fillcolor&&ke.call(u.fill,Ee.fillcolor)}T.font=function(ke,Ee,me,de){E.isPlainObject(Ee)&&(de=Ee.color,me=Ee.size,Ee=Ee.family),Ee&&ke.style("font-family",Ee),me+1&&ke.style("font-size",me+"px"),de&&ke.call(u.fill,de)},T.setPosition=function(ke,Ee,me){ke.attr("x",Ee).attr("y",me)},T.setSize=function(ke,Ee,me){ke.attr("width",Ee).attr("height",me)},T.setRect=function(ke,Ee,me,de,ce){ke.call(T.setPosition,Ee,me).call(T.setSize,de,ce)},T.translatePoint=function(ke,Ee,me,de){var ce=me.c2p(ke.x),Ae=de.c2p(ke.y);return!!(S(ce)&&S(Ae)&&Ee.node())&&("text"===Ee.node().nodeName?Ee.attr("x",ce).attr("y",Ae):Ee.attr("transform",s(ce,Ae)),!0)},T.translatePoints=function(ke,Ee,me){ke.each(function(de){var ce=I.select(this);T.translatePoint(de,ce,Ee,me)})},T.hideOutsideRangePoint=function(ke,Ee,me,de,ce,Ae){Ee.attr("display",me.isPtWithinRange(ke,ce)&&de.isPtWithinRange(ke,Ae)?null:"none")},T.hideOutsideRangePoints=function(ke,Ee){if(Ee._hasClipOnAxisFalse){var me=Ee.xaxis,de=Ee.yaxis;ke.each(function(ce){var Ae=ce[0].trace,Ne=Ae.xcalendar,De=Ae.ycalendar,Ue=y.traceIs(Ae,"bar-like")?".bartext":".point,.textpoint";ke.selectAll(Ue).each(function(Ye){T.hideOutsideRangePoint(Ye,I.select(this),me,de,Ne,De)})})}},T.crispRound=function(ke,Ee,me){return Ee&&S(Ee)?ke._context.staticPlot?Ee:Ee<1?1:Math.round(Ee):me||0},T.singleLineStyle=function(ke,Ee,me,de,ce){Ee.style("fill","none");var Ae=(((ke||[])[0]||{}).trace||{}).line||{},Ne=me||Ae.width||0,De=ce||Ae.dash||"";u.stroke(Ee,de||Ae.color),T.dashLine(Ee,De,Ne)},T.lineGroupStyle=function(ke,Ee,me,de){ke.style("fill","none").each(function(ce){var Ae=(((ce||[])[0]||{}).trace||{}).line||{},Ne=Ee||Ae.width||0,De=de||Ae.dash||"";I.select(this).call(u.stroke,me||Ae.color).call(T.dashLine,De,Ne)})},T.dashLine=function(ke,Ee,me){Ee=T.dashStyle(Ee,me=+me||0),ke.style({"stroke-dasharray":Ee,"stroke-width":me+"px"})},T.dashStyle=function(ke,Ee){Ee=+Ee||1;var me=Math.max(Ee,3);return"solid"===ke?ke="":"dot"===ke?ke=me+"px,"+me+"px":"dash"===ke?ke=3*me+"px,"+3*me+"px":"longdash"===ke?ke=5*me+"px,"+5*me+"px":"dashdot"===ke?ke=3*me+"px,"+me+"px,"+me+"px,"+me+"px":"longdashdot"===ke&&(ke=5*me+"px,"+2*me+"px,"+me+"px,"+2*me+"px"),ke},T.singleFillStyle=function(ke,Ee){var me=I.select(ke.node());_(ke,((me.data()[0]||[])[0]||{}).trace||{},Ee)},T.fillGroupStyle=function(ke,Ee){ke.style("stroke-width",0).each(function(me){var de=I.select(this);me[0].trace&&_(de,me[0].trace,Ee)})};var g=r(90998);T.symbolNames=[],T.symbolFuncs=[],T.symbolBackOffs=[],T.symbolNeedLines={},T.symbolNoDot={},T.symbolNoFill={},T.symbolList=[],Object.keys(g).forEach(function(ke){var Ee=g[ke],me=Ee.n;T.symbolList.push(me,String(me),ke,me+100,String(me+100),ke+"-open"),T.symbolNames[me]=ke,T.symbolFuncs[me]=Ee.f,T.symbolBackOffs[me]=Ee.backoff||0,Ee.needLine&&(T.symbolNeedLines[me]=!0),Ee.noDot?T.symbolNoDot[me]=!0:T.symbolList.push(me+200,String(me+200),ke+"-dot",me+300,String(me+300),ke+"-open-dot"),Ee.noFill&&(T.symbolNoFill[me]=!0)});var w=T.symbolNames.length;function x(ke,Ee,me,de){return T.symbolFuncs[ke%100](Ee,me,de)+(ke>=200?"M0,0.5L0.5,0L0,-0.5L-0.5,0Z":"")}T.symbolNumber=function(ke){if(S(ke))ke=+ke;else if("string"==typeof ke){var Ee=0;ke.indexOf("-open")>0&&(Ee=100,ke=ke.replace("-open","")),ke.indexOf("-dot")>0&&(Ee+=200,ke=ke.replace("-dot","")),(ke=T.symbolNames.indexOf(ke))>=0&&(ke+=Ee)}return ke%100>=w||ke>=400?0:Math.floor(Math.max(ke,0))};var b={x1:1,x2:0,y1:0,y2:0},A={x1:0,x2:0,y1:1,y2:0},m=f("~f"),C={radial:{node:"radialGradient"},radialreversed:{node:"radialGradient",reversed:!0},horizontal:{node:"linearGradient",attrs:b},horizontalreversed:{node:"linearGradient",attrs:b,reversed:!0},vertical:{node:"linearGradient",attrs:A},verticalreversed:{node:"linearGradient",attrs:A,reversed:!0}};T.gradient=function(ke,Ee,me,de,ce,Ae){for(var Ne=ce.length,De=C[de],Ue=new Array(Ne),Ye=0;Ye<Ne;Ye++)De.reversed?Ue[Ne-1-Ye]=[m(100*(1-ce[Ye][0])),ce[Ye][1]]:Ue[Ye]=[m(100*ce[Ye][0]),ce[Ye][1]];var _e=Ee._fullLayout,Pe="g"+_e._uid+"-"+me,Ie=_e._defs.select(".gradients").selectAll("#"+Pe).data([de+Ue.join(";")],E.identity);Ie.exit().remove(),Ie.enter().append(De.node).each(function(){var Be=I.select(this);De.attrs&&Be.attr(De.attrs),Be.attr("id",Pe);var We=Be.selectAll("stop").data(Ue);We.exit().remove(),We.enter().append("stop"),We.each(function(Ge){var Ke=M(Ge[1]);I.select(this).attr({offset:Ge[0]+"%","stop-color":u.tinyRGB(Ke),"stop-opacity":Ke.getAlpha()})})}),ke.style(Ae,re(Pe,Ee)).style(Ae+"-opacity",null),ke.classed("gradient_filled",!0)},T.pattern=function(ke,Ee,me,de,ce,Ae,Ne,De,Ue,Ye,_e,Pe){var Ie="legend"===Ee;De&&("overlay"===Ue?_e=u.contrast(Ye=De):(Ye=void 0,_e=De));var Be,We,Ge,Ke,tt,st,gt,ct,kt,Dt=me._fullLayout,vt="p"+Dt._uid+"-"+de,mt={},Et=M(_e),Lt=u.tinyRGB(Et),Rt=Pe*Et.getAlpha();switch(ce){case"/":Be=Ae*Math.sqrt(2),We=Ae*Math.sqrt(2),st="path",mt={d:Ge="M-"+Be/4+","+We/4+"l"+Be/2+",-"+We/2+"M0,"+We+"L"+Be+",0M"+Be/4*3+","+We/4*5+"l"+Be/2+",-"+We/2,opacity:Rt,stroke:Lt,"stroke-width":(Ke=Ne*Ae)+"px"};break;case"\\":Be=Ae*Math.sqrt(2),We=Ae*Math.sqrt(2),st="path",mt={d:Ge="M"+Be/4*3+",-"+We/4+"l"+Be/2+","+We/2+"M0,0L"+Be+","+We+"M-"+Be/4+","+We/4*3+"l"+Be/2+","+We/2,opacity:Rt,stroke:Lt,"stroke-width":(Ke=Ne*Ae)+"px"};break;case"x":Be=Ae*Math.sqrt(2),We=Ae*Math.sqrt(2),Ge="M-"+Be/4+","+We/4+"l"+Be/2+",-"+We/2+"M0,"+We+"L"+Be+",0M"+Be/4*3+","+We/4*5+"l"+Be/2+",-"+We/2+"M"+Be/4*3+",-"+We/4+"l"+Be/2+","+We/2+"M0,0L"+Be+","+We+"M-"+Be/4+","+We/4*3+"l"+Be/2+","+We/2,Ke=Ae-Ae*Math.sqrt(1-Ne),st="path",mt={d:Ge,opacity:Rt,stroke:Lt,"stroke-width":Ke+"px"};break;case"|":st="path",st="path",mt={d:Ge="M"+(Be=Ae)/2+",0L"+Be/2+","+(We=Ae),opacity:Rt,stroke:Lt,"stroke-width":(Ke=Ne*Ae)+"px"};break;case"-":st="path",st="path",mt={d:Ge="M0,"+(We=Ae)/2+"L"+(Be=Ae)+","+We/2,opacity:Rt,stroke:Lt,"stroke-width":(Ke=Ne*Ae)+"px"};break;case"+":st="path",Ge="M"+(Be=Ae)/2+",0L"+Be/2+","+(We=Ae)+"M0,"+We/2+"L"+Be+","+We/2,Ke=Ae-Ae*Math.sqrt(1-Ne),st="path",mt={d:Ge,opacity:Rt,stroke:Lt,"stroke-width":Ke+"px"};break;case".":Be=Ae,We=Ae,Ne<Math.PI/4?tt=Math.sqrt(Ne*Ae*Ae/Math.PI):(gt=Ne,ct=Math.PI/4,tt=(kt=Ae/2)+(Ae/Math.sqrt(2)-kt)*(gt-ct)/(1-ct)),st="circle",mt={cx:Be/2,cy:We/2,r:tt,opacity:Rt,fill:Lt}}var Ut=[ce||"noSh",Ye||"noBg",_e||"noFg",Ae,Ne].join(";"),Bt=Dt._defs.select(".patterns").selectAll("#"+vt).data([Ut],E.identity);Bt.exit().remove(),Bt.enter().append("pattern").each(function(){var rt=I.select(this);if(rt.attr({id:vt,width:Be+"px",height:We+"px",patternUnits:"userSpaceOnUse",patternTransform:Ie?"scale(0.8)":""}),Ye){var ot=M(Ye),Je=u.tinyRGB(ot),it=ot.getAlpha(),dt=rt.selectAll("rect").data([0]);dt.exit().remove(),dt.enter().append("rect").attr({width:Be+"px",height:We+"px",fill:Je,"fill-opacity":it})}var ht=rt.selectAll(st).data([0]);ht.exit().remove(),ht.enter().append(st).attr(mt)}),ke.style("fill",re(vt,me)).style("fill-opacity",null),ke.classed("pattern_filled",!0)},T.initGradients=function(ke){E.ensureSingle(ke._fullLayout._defs,"g","gradients").selectAll("linearGradient,radialGradient").remove(),I.select(ke).selectAll(".gradient_filled").classed("gradient_filled",!1)},T.initPatterns=function(ke){E.ensureSingle(ke._fullLayout._defs,"g","patterns").selectAll("pattern").remove(),I.select(ke).selectAll(".pattern_filled").classed("pattern_filled",!1)},T.getPatternAttr=function(ke,Ee,me){return ke&&E.isArrayOrTypedArray(ke)?Ee<ke.length?ke[Ee]:me:ke},T.pointStyle=function(ke,Ee,me,de){if(ke.size()){var ce=T.makePointStyleFns(Ee);ke.each(function(Ae){T.singlePointStyle(Ae,I.select(this),Ee,ce,me,de)})}},T.singlePointStyle=function(ke,Ee,me,de,ce,Ae){var Ne=me.marker,De=Ne.line;if(Ae&&Ae.i>=0&&void 0===ke.i&&(ke.i=Ae.i),Ee.style("opacity",de.selectedOpacityFn?de.selectedOpacityFn(ke):void 0===ke.mo?Ne.opacity:ke.mo),de.ms2mrc){var Ue;Ue="various"===ke.ms||"various"===Ne.size?3:de.ms2mrc(ke.ms),ke.mrc=Ue,de.selectedSizeFn&&(Ue=ke.mrc=de.selectedSizeFn(ke));var Ye=T.symbolNumber(ke.mx||Ne.symbol)||0;ke.om=Ye%200>=100;var _e=ze(ke,me),Pe=ne(ke,me);Ee.attr("d",x(Ye,Ue,_e,Pe))}var Ie,Be,We,Ge=!1;if(ke.so?(We=De.outlierwidth,Be=De.outliercolor,Ie=Ne.outliercolor):(We=(ke.mlw+1||(De||{}).width+1||(ke.trace?(ke.trace.marker.line||{}).width:0)+1)-1||0,Be="mlc"in ke?ke.mlcc=de.lineScale(ke.mlc):E.isArrayOrTypedArray(De.color)?u.defaultLine:De.color,E.isArrayOrTypedArray(Ne.color)&&(Ie=u.defaultLine,Ge=!0),Ie="mc"in ke?ke.mcc=de.markerScale(ke.mc):Ne.color||Ne.colors||"rgba(0,0,0,0)",de.selectedColorFn&&(Ie=de.selectedColorFn(ke))),ke.om)Ee.call(u.stroke,Ie).style({"stroke-width":(We||1)+"px",fill:"none"});else{Ee.style("stroke-width",(ke.isBlank?0:We)+"px");var tt=Ne.gradient,st=ke.mgt;st?Ge=!0:st=tt&&tt.type,E.isArrayOrTypedArray(st)&&(C[st=st[0]]||(st=0));var gt=Ne.pattern,ct=gt&&T.getPatternAttr(gt.shape,ke.i,"");if(st&&"none"!==st){var kt=ke.mgc;kt?Ge=!0:kt=tt.color;var Dt=me.uid;Ge&&(Dt+="-"+ke.i),T.gradient(Ee,ce,Dt,st,[[0,kt],[1,Ie]],"fill")}else if(ct){var vt=!1,mt=gt.fgcolor;!mt&&Ae&&Ae.color&&(mt=Ae.color,vt=!0);var Et=T.getPatternAttr(mt,ke.i,Ae&&Ae.color||null),Lt=T.getPatternAttr(gt.bgcolor,ke.i,null),Rt=gt.fgopacity,Ut=T.getPatternAttr(gt.size,ke.i,8),Bt=T.getPatternAttr(gt.solidity,ke.i,.3);vt=vt||ke.mcc||E.isArrayOrTypedArray(gt.shape)||E.isArrayOrTypedArray(gt.bgcolor)||E.isArrayOrTypedArray(gt.fgcolor)||E.isArrayOrTypedArray(gt.size)||E.isArrayOrTypedArray(gt.solidity);var rt=me.uid;vt&&(rt+="-"+ke.i),T.pattern(Ee,"point",ce,rt,ct,Ut,Bt,ke.mcc,gt.fillmode,Lt,Et,Rt)}else E.isArrayOrTypedArray(Ie)?u.fill(Ee,Ie[ke.i]):u.fill(Ee,Ie);We&&u.stroke(Ee,Be)}},T.makePointStyleFns=function(ke){var Ee={},me=ke.marker;return Ee.markerScale=T.tryColorscale(me,""),Ee.lineScale=T.tryColorscale(me,"line"),y.traceIs(ke,"symbols")&&(Ee.ms2mrc=h.isBubble(ke)?v(ke):function(){return(me.size||6)/2}),ke.selectedpoints&&E.extendFlat(Ee,T.makeSelectedPointStyleFns(ke)),Ee},T.makeSelectedPointStyleFns=function(ke){var Ee={},ce=ke.marker||{},Ae=(ke.selected||{}).marker||{},Ne=(ke.unselected||{}).marker||{},Ue=Ae.opacity,Ye=Ne.opacity,_e=void 0!==Ue,Pe=void 0!==Ye;(E.isArrayOrTypedArray(ce.opacity)||_e||Pe)&&(Ee.selectedOpacityFn=function(ct){var kt=void 0===ct.mo?ce.opacity:ct.mo;return ct.selected?_e?Ue:kt:Pe?Ye:c*kt});var Ie=ce.color,Be=Ae.color,We=Ne.color;(Be||We)&&(Ee.selectedColorFn=function(ct){var kt=ct.mcc||Ie;return ct.selected?Be||kt:We||kt});var Ge=ce.size,Ke=Ae.size,tt=Ne.size,st=void 0!==Ke,gt=void 0!==tt;return y.traceIs(ke,"symbols")&&(st||gt)&&(Ee.selectedSizeFn=function(ct){var kt=ct.mrc||Ge/2;return ct.selected?st?Ke/2:kt:gt?tt/2:kt}),Ee},T.makeSelectedTextStyleFns=function(ke){var Ee={},De=(ke.textfont||{}).color,Ue=((ke.selected||{}).textfont||{}).color,Ye=((ke.unselected||{}).textfont||{}).color;return Ee.selectedTextColorFn=function(_e){var Pe=_e.tc||De;return _e.selected?Ue||Pe:Ye||(Ue?Pe:u.addOpacity(Pe,c))},Ee},T.selectedPointStyle=function(ke,Ee){if(ke.size()&&Ee.selectedpoints){var me=T.makeSelectedPointStyleFns(Ee),de=Ee.marker||{},ce=[];me.selectedOpacityFn&&ce.push(function(Ae,Ne){Ae.style("opacity",me.selectedOpacityFn(Ne))}),me.selectedColorFn&&ce.push(function(Ae,Ne){u.fill(Ae,me.selectedColorFn(Ne))}),me.selectedSizeFn&&ce.push(function(Ae,Ne){var De=Ne.mx||de.symbol||0,Ue=me.selectedSizeFn(Ne);Ae.attr("d",x(T.symbolNumber(De),Ue,ze(Ne,Ee),ne(Ne,Ee))),Ne.mrc2=Ue}),ce.length&&ke.each(function(Ae){for(var Ne=I.select(this),De=0;De<ce.length;De++)ce[De](Ne,Ae)})}},T.tryColorscale=function(ke,Ee){var me=Ee?E.nestedProperty(ke,Ee).get():ke;return me&&(me.colorscale||me._colorAx)&&E.isArrayOrTypedArray(me.color)?i.makeColorScaleFuncFromTrace(me):E.identity};var k,P,R={start:1,end:-1,middle:0,bottom:1,top:-1};function L(ke,Ee,me,de,ce){var Ae=I.select(ke.node().parentNode),Ne=-1!==Ee.indexOf("top")?"top":-1!==Ee.indexOf("bottom")?"bottom":"middle",De=-1!==Ee.indexOf("left")?"end":-1!==Ee.indexOf("right")?"start":"middle",Ue=de?de/.8+1:0,Ye=(a.lineCount(ke)-1)*l+1,_e=R[De]*Ue,Pe=.75*me+R[Ne]*Ue+(R[Ne]-1)*Ye*me/2;ke.attr("text-anchor",De),ce||Ae.attr("transform",s(_e,Pe))}function N(ke,Ee){var me=ke.ts||Ee.textfont.size;return S(me)&&me>0?me:0}function B(ke,Ee,me){return me&&(ke=Z(ke)),Ee?z(ke[1]):J(ke[0])}function J(ke){var Ee=I.round(ke,2);return k=Ee,Ee}function z(ke){var Ee=I.round(ke,2);return P=Ee,Ee}function Y(ke,Ee,me,de){var ce=ke[0]-Ee[0],Ae=ke[1]-Ee[1],Ne=me[0]-Ee[0],De=me[1]-Ee[1],Ue=Math.pow(ce*ce+Ae*Ae,.25),Ye=Math.pow(Ne*Ne+De*De,.25),_e=(Ye*Ye*ce-Ue*Ue*Ne)*de,Pe=(Ye*Ye*Ae-Ue*Ue*De)*de,Ie=3*Ye*(Ue+Ye),Be=3*Ue*(Ue+Ye);return[[J(Ee[0]+(Ie&&_e/Ie)),z(Ee[1]+(Ie&&Pe/Ie))],[J(Ee[0]-(Be&&_e/Be)),z(Ee[1]-(Be&&Pe/Be))]]}T.textPointStyle=function(ke,Ee,me){if(ke.size()){var de;if(Ee.selectedpoints){var ce=T.makeSelectedTextStyleFns(Ee);de=ce.selectedTextColorFn}var Ae=Ee.texttemplate,Ne=me._fullLayout;ke.each(function(De){var Ue=I.select(this),Ye=Ae?E.extractOption(De,Ee,"txt","texttemplate"):E.extractOption(De,Ee,"tx","text");if(Ye||0===Ye){if(Ae){var _e=Ee._module.formatLabels,Pe=_e?_e(De,Ee,Ne):{},Ie={};p(Ie,Ee,De.i),Ye=E.texttemplateString(Ye,Pe,Ne._d3locale,Ie,De,Ee._meta||{})}var We=De.tp||Ee.textposition,Ge=N(De,Ee),Ke=de?de(De):De.tc||Ee.textfont.color;Ue.call(T.font,De.tf||Ee.textfont.family,Ge,Ke).text(Ye).call(a.convertToTspans,me).call(L,We,Ge,De.mrc)}else Ue.remove()})}},T.selectedTextStyle=function(ke,Ee){if(ke.size()&&Ee.selectedpoints){var me=T.makeSelectedTextStyleFns(Ee);ke.each(function(de){var ce=I.select(this),Ae=me.selectedTextColorFn(de),Ne=de.tp||Ee.textposition,De=N(de,Ee);u.fill(ce,Ae);var Ue=y.traceIs(Ee,"bar-like");L(ce,Ne,De,de.mrc2||de.mrc,Ue)})}},T.smoothopen=function(ke,Ee){if(ke.length<3)return"M"+ke.join("L");var me,de="M"+ke[0],ce=[];for(me=1;me<ke.length-1;me++)ce.push(Y(ke[me-1],ke[me],ke[me+1],Ee));for(de+="Q"+ce[0][0]+" "+ke[1],me=2;me<ke.length-1;me++)de+="C"+ce[me-2][1]+" "+ce[me-1][0]+" "+ke[me];return de+"Q"+ce[ke.length-3][1]+" "+ke[ke.length-1]},T.smoothclosed=function(ke,Ee){if(ke.length<3)return"M"+ke.join("L")+"Z";var me,de="M"+ke[0],ce=ke.length-1,Ae=[Y(ke[ce],ke[0],ke[1],Ee)];for(me=1;me<ce;me++)Ae.push(Y(ke[me-1],ke[me],ke[me+1],Ee));for(Ae.push(Y(ke[ce-1],ke[ce],ke[0],Ee)),me=1;me<=ce;me++)de+="C"+Ae[me-1][1]+" "+Ae[me][0]+" "+ke[me];return de+"C"+Ae[ce][1]+" "+Ae[0][0]+" "+ke[0]+"Z"};var q={hv:function(ke,Ee,me){return"H"+J(Ee[0])+"V"+B(Ee,1,me)},vh:function(ke,Ee,me){return"V"+z(Ee[1])+"H"+B(Ee,0,me)},hvh:function(ke,Ee,me){return"H"+J((ke[0]+Ee[0])/2)+"V"+z(Ee[1])+"H"+B(Ee,0,me)},vhv:function(ke,Ee,me){return"V"+z((ke[1]+Ee[1])/2)+"H"+J(Ee[0])+"V"+B(Ee,1,me)}},U=function(ke,Ee,me){return"L"+B(Ee,0,me)+","+B(Ee,1,me)};function Z(ke,Ee){var me=ke.backoff,de=ke.trace,ce=ke.d,Ae=ke.i;if(me&&de&&de.marker&&de.marker.angle%360==0&&de.line&&"spline"!==de.line.shape){var Ne=E.isArrayOrTypedArray(me),De=ke,Ue=Ee?Ee[0]:k||0,Ye=Ee?Ee[1]:P||0,_e=De[0],Pe=De[1],We=Math.atan2(Pe-Ye,_e-Ue),Ge=Ne?me[Ae]:me;if("auto"===Ge){var Ke=De.i;"scatter"===de.type&&Ke--;var tt=De.marker,st=tt.symbol;E.isArrayOrTypedArray(st)&&(st=st[Ke]);var gt=tt.size;E.isArrayOrTypedArray(gt)&&(gt=gt[Ke]),Ge=tt?T.symbolBackOffs[T.symbolNumber(st)]*gt:0,Ge+=T.getMarkerStandoff(ce[Ke],de)||0}var ct=_e-Ge*Math.cos(We),kt=Pe-Ge*Math.sin(We);(ct<=_e&&ct>=Ue||ct>=_e&&ct<=Ue)&&(kt<=Pe&&kt>=Ye||kt>=Pe&&kt<=Ye)&&(ke=[ct,kt])}return ke}T.steps=function(ke){var Ee=q[ke]||U;return function(me){for(var de="M"+J(me[0][0])+","+z(me[0][1]),ce=me.length,Ae=1;Ae<ce;Ae++)de+=Ee(me[Ae-1],me[Ae],Ae===ce-1);return de}},T.applyBackoff=Z,T.makeTester=function(){var ke=E.ensureSingleById(I.select("body"),"svg","js-plotly-tester",function(me){me.attr(o.svgAttrs).style({position:"absolute",left:"-10000px",top:"-10000px",width:"9000px",height:"9000px","z-index":"1"})}),Ee=E.ensureSingle(ke,"path","js-reference-point",function(me){me.attr("d","M0,0H1V1H0Z").style({"stroke-width":0,fill:"black"})});T.tester=ke,T.testref=Ee},T.savedBBoxes={};var X=0;function se(ke){var Ee=ke.getAttribute("data-unformatted");if(null!==Ee)return Ee+ke.getAttribute("data-math")+ke.getAttribute("text-anchor")+ke.getAttribute("style")}function re(ke,Ee){if(!ke)return null;var me=Ee._context,de=me._exportedPlot?"":me._baseUrl||"";return de?"url('"+de+"#"+ke+"')":"url(#"+ke+")"}T.bBox=function(ke,Ee,me){var de,ce,Ae;if(me||(me=se(ke)),me){if(de=T.savedBBoxes[me])return E.extendFlat({},de)}else if(1===ke.childNodes.length){var Ne=ke.childNodes[0];if(me=se(Ne)){var De=+Ne.getAttribute("x")||0,Ue=+Ne.getAttribute("y")||0,Ye=Ne.getAttribute("transform");if(!Ye){var _e=T.bBox(Ne,!1,me);return De&&(_e.left+=De,_e.right+=De),Ue&&(_e.top+=Ue,_e.bottom+=Ue),_e}if(de=T.savedBBoxes[me+="~"+De+"~"+Ue+"~"+Ye])return E.extendFlat({},de)}}Ee?ce=ke:(Ae=T.tester.node(),ce=ke.cloneNode(!0),Ae.appendChild(ce)),I.select(ce).attr("transform",null).call(a.positionText,0,0);var Pe=ce.getBoundingClientRect(),Ie=T.testref.node().getBoundingClientRect();Ee||Ae.removeChild(ce);var Be={height:Pe.height,width:Pe.width,left:Pe.left-Ie.left,top:Pe.top-Ie.top,right:Pe.right-Ie.left,bottom:Pe.bottom-Ie.top};return X>=1e4&&(T.savedBBoxes={},X=0),me&&(T.savedBBoxes[me]=Be),X++,E.extendFlat({},Be)},T.setClipUrl=function(ke,Ee,me){ke.attr("clip-path",re(Ee,me))},T.getTranslate=function(ke){var Ee=(ke[ke.attr?"attr":"getAttribute"]("transform")||"").replace(/.*\btranslate\((-?\d*\.?\d*)[^-\d]*(-?\d*\.?\d*)[^\d].*/,function(me,de,ce){return[de,ce].join(" ")}).split(" ");return{x:+Ee[0]||0,y:+Ee[1]||0}},T.setTranslate=function(ke,Ee,me){var ce=ke.attr?"attr":"setAttribute",Ae=ke[ke.attr?"attr":"getAttribute"]("transform")||"";return Ee=Ee||0,me=me||0,Ae=Ae.replace(/(\btranslate\(.*?\);?)/,"").trim(),Ae=(Ae+=s(Ee,me)).trim(),ke[ce]("transform",Ae),Ae},T.getScale=function(ke){var Ee=(ke[ke.attr?"attr":"getAttribute"]("transform")||"").replace(/.*\bscale\((\d*\.?\d*)[^\d]*(\d*\.?\d*)[^\d].*/,function(me,de,ce){return[de,ce].join(" ")}).split(" ");return{x:+Ee[0]||1,y:+Ee[1]||1}},T.setScale=function(ke,Ee,me){var ce=ke.attr?"attr":"setAttribute",Ae=ke[ke.attr?"attr":"getAttribute"]("transform")||"";return Ee=Ee||1,me=me||1,Ae=Ae.replace(/(\bscale\(.*?\);?)/,"").trim(),Ae=(Ae+="scale("+Ee+","+me+")").trim(),ke[ce]("transform",Ae),Ae};var ee=/\s*sc.*/;T.setPointGroupScale=function(ke,Ee,me){if(Ee=Ee||1,me=me||1,ke){var de=1===Ee&&1===me?"":"scale("+Ee+","+me+")";ke.each(function(){var ce=(this.getAttribute("transform")||"").replace(ee,"");ce=(ce+=de).trim(),this.setAttribute("transform",ce)})}};var K=/translate\([^)]*\)\s*$/;function ne(ke,Ee){var me;return ke&&(me=ke.mf),void 0===me&&(me=Ee.marker&&Ee.marker.standoff||0),Ee._geo||Ee._xA?me:-me}T.setTextPointsScale=function(ke,Ee,me){ke&&ke.each(function(){var de,ce=I.select(this),Ae=ce.select("text");if(Ae.node()){var Ne=parseFloat(Ae.attr("x")||0),De=parseFloat(Ae.attr("y")||0),Ue=(ce.attr("transform")||"").match(K);de=1===Ee&&1===me?[]:[s(Ne,De),"scale("+Ee+","+me+")",s(-Ne,-De)],Ue&&de.push(Ue),ce.attr("transform",de.join(""))}})},T.getMarkerStandoff=ne;var ae,ue,he,pe,ge,xe,Se=Math.atan2,Te=Math.cos,ye=Math.sin;function we(ke,Ee){var me=Ee[0],de=Ee[1];return[me*Te(ke)-de*ye(ke),me*ye(ke)+de*Te(ke)]}function ze(ke,Ee){var me,de,ce=ke.ma;void 0===ce&&(ce=Ee.marker.angle||0);var Ae=Ee.marker.angleref;if("previous"===Ae||"north"===Ae){if(Ee._geo){var Ne=Ee._geo.project(ke.lonlat);me=Ne[0],de=Ne[1]}else{var De=Ee._xA,Ue=Ee._yA;if(!De||!Ue)return 90;me=De.c2p(ke.x),de=Ue.c2p(ke.y)}if(Ee._geo){var Ye,_e=ke.lonlat[0],Pe=ke.lonlat[1],Ie=Ee._geo.project([_e,Pe+1e-5]),Be=Ee._geo.project([_e+1e-5,Pe]),We=Se(Be[1]-de,Be[0]-me),Ge=Se(Ie[1]-de,Ie[0]-me);if("north"===Ae)Ye=ce/180*Math.PI;else if("previous"===Ae){var Ke=_e/180*Math.PI,tt=Pe/180*Math.PI,st=ae/180*Math.PI,gt=ue/180*Math.PI,ct=st-Ke,kt=Te(gt)*ye(ct),Dt=ye(gt)*Te(tt)-Te(gt)*ye(tt)*Te(ct);Ye=-Se(kt,Dt)-Math.PI,ae=_e,ue=Pe}var vt=we(We,[Te(Ye),0]),mt=we(Ge,[ye(Ye),0]);ce=Se(vt[1]+mt[1],vt[0]+mt[0])/Math.PI*180,"previous"!==Ae||xe===Ee.uid&&ke.i===ge+1||(ce=null)}if("previous"===Ae&&!Ee._geo)if(xe===Ee.uid&&ke.i===ge+1&&S(me)&&S(de)){var Et=me-he,Lt=de-pe,Rt=Ee.line&&Ee.line.shape||"",Ut=Rt.slice(Rt.length-1);"h"===Ut&&(Lt=0),"v"===Ut&&(Et=0),ce+=Se(Lt,Et)/Math.PI*180+90}else ce=null}return he=me,pe=de,ge=ke.i,xe=Ee.uid,ce}T.getMarkerAngle=ze},90998:function(oe,j,r){"use strict";var I,E,f,S,M=r(95616),y=r(39898).round,u="M0,0Z",i=Math.sqrt(2),s=Math.sqrt(3),a=Math.PI,o=Math.cos,l=Math.sin;function c(v){return null===v}function h(v,p,T){if(!(v&&v%360!=0||p))return T;if(f===v&&S===p&&I===T)return E;function _(B,J){var z=o(B),Y=l(B),q=J[0],U=J[1]+(p||0);return[q*z-U*Y,q*Y+U*z]}f=v,S=p,I=T;for(var g=v/180*a,w=0,x=0,b=M(T),A="",m=0;m<b.length;m++){var C=b[m],k=C[0],P=w,R=x;if("M"===k||"L"===k)w=+C[1],x=+C[2];else if("m"===k||"l"===k)w+=+C[1],x+=+C[2];else if("H"===k)w=+C[1];else if("h"===k)w+=+C[1];else if("V"===k)x=+C[1];else if("v"===k)x+=+C[1];else if("A"===k){w=+C[1],x=+C[2];var L=_(g,[+C[6],+C[7]]);C[6]=L[0],C[7]=L[1],C[3]=+C[3]+v}"H"!==k&&"V"!==k||(k="L"),"h"!==k&&"v"!==k||(k="l"),"m"!==k&&"l"!==k||(w-=P,x-=R);var N=_(g,[w,x]);"H"!==k&&"V"!==k||(k="L"),"M"!==k&&"L"!==k&&"m"!==k&&"l"!==k||(C[1]=N[0],C[2]=N[1]),C[0]=k,A+=C[0]+C.slice(1).join(",")}return E=A,A}oe.exports={circle:{n:0,f:function(v,p,T){if(c(p))return u;var _=y(v,2),g="M"+_+",0A"+_+","+_+" 0 1,1 0,-"+_+"A"+_+","+_+" 0 0,1 "+_+",0Z";return T?h(p,T,g):g}},square:{n:1,f:function(v,p,T){if(c(p))return u;var _=y(v,2);return h(p,T,"M"+_+","+_+"H-"+_+"V-"+_+"H"+_+"Z")}},diamond:{n:2,f:function(v,p,T){if(c(p))return u;var _=y(1.3*v,2);return h(p,T,"M"+_+",0L0,"+_+"L-"+_+",0L0,-"+_+"Z")}},cross:{n:3,f:function(v,p,T){if(c(p))return u;var _=y(.4*v,2),g=y(1.2*v,2);return h(p,T,"M"+g+","+_+"H"+_+"V"+g+"H-"+_+"V"+_+"H-"+g+"V-"+_+"H-"+_+"V-"+g+"H"+_+"V-"+_+"H"+g+"Z")}},x:{n:4,f:function(v,p,T){if(c(p))return u;var _=y(.8*v/i,2),g="l"+_+","+_,w="l"+_+",-"+_,x="l-"+_+",-"+_,b="l-"+_+","+_;return h(p,T,"M0,"+_+g+w+x+w+x+b+x+b+g+b+g+"Z")}},"triangle-up":{n:5,f:function(v,p,T){if(c(p))return u;var _=y(2*v/s,2);return h(p,T,"M-"+_+","+y(v/2,2)+"H"+_+"L0,-"+y(v,2)+"Z")}},"triangle-down":{n:6,f:function(v,p,T){if(c(p))return u;var _=y(2*v/s,2);return h(p,T,"M-"+_+",-"+y(v/2,2)+"H"+_+"L0,"+y(v,2)+"Z")}},"triangle-left":{n:7,f:function(v,p,T){if(c(p))return u;var _=y(2*v/s,2);return h(p,T,"M"+y(v/2,2)+",-"+_+"V"+_+"L-"+y(v,2)+",0Z")}},"triangle-right":{n:8,f:function(v,p,T){if(c(p))return u;var _=y(2*v/s,2);return h(p,T,"M-"+y(v/2,2)+",-"+_+"V"+_+"L"+y(v,2)+",0Z")}},"triangle-ne":{n:9,f:function(v,p,T){if(c(p))return u;var _=y(.6*v,2),g=y(1.2*v,2);return h(p,T,"M-"+g+",-"+_+"H"+_+"V"+g+"Z")}},"triangle-se":{n:10,f:function(v,p,T){if(c(p))return u;var _=y(.6*v,2),g=y(1.2*v,2);return h(p,T,"M"+_+",-"+g+"V"+_+"H-"+g+"Z")}},"triangle-sw":{n:11,f:function(v,p,T){if(c(p))return u;var _=y(.6*v,2),g=y(1.2*v,2);return h(p,T,"M"+g+","+_+"H-"+_+"V-"+g+"Z")}},"triangle-nw":{n:12,f:function(v,p,T){if(c(p))return u;var _=y(.6*v,2),g=y(1.2*v,2);return h(p,T,"M-"+_+","+g+"V-"+_+"H"+g+"Z")}},pentagon:{n:13,f:function(v,p,T){if(c(p))return u;var _=y(.951*v,2),g=y(.588*v,2),w=y(-v,2),x=y(-.309*v,2);return h(p,T,"M"+_+","+x+"L"+g+","+y(.809*v,2)+"H-"+g+"L-"+_+","+x+"L0,"+w+"Z")}},hexagon:{n:14,f:function(v,p,T){if(c(p))return u;var _=y(v,2),g=y(v/2,2),w=y(v*s/2,2);return h(p,T,"M"+w+",-"+g+"V"+g+"L0,"+_+"L-"+w+","+g+"V-"+g+"L0,-"+_+"Z")}},hexagon2:{n:15,f:function(v,p,T){if(c(p))return u;var _=y(v,2),g=y(v/2,2),w=y(v*s/2,2);return h(p,T,"M-"+g+","+w+"H"+g+"L"+_+",0L"+g+",-"+w+"H-"+g+"L-"+_+",0Z")}},octagon:{n:16,f:function(v,p,T){if(c(p))return u;var _=y(.924*v,2),g=y(.383*v,2);return h(p,T,"M-"+g+",-"+_+"H"+g+"L"+_+",-"+g+"V"+g+"L"+g+","+_+"H-"+g+"L-"+_+","+g+"V-"+g+"Z")}},star:{n:17,f:function(v,p,T){if(c(p))return u;var _=1.4*v,g=y(.225*_,2),w=y(.951*_,2),x=y(.363*_,2),b=y(.588*_,2),A=y(-_,2),m=y(-.309*_,2),C=y(.118*_,2),k=y(.809*_,2);return h(p,T,"M"+g+","+m+"H"+w+"L"+x+","+C+"L"+b+","+k+"L0,"+y(.382*_,2)+"L-"+b+","+k+"L-"+x+","+C+"L-"+w+","+m+"H-"+g+"L0,"+A+"Z")}},hexagram:{n:18,f:function(v,p,T){if(c(p))return u;var _=y(.66*v,2),g=y(.38*v,2),w=y(.76*v,2);return h(p,T,"M-"+w+",0l-"+g+",-"+_+"h"+w+"l"+g+",-"+_+"l"+g+","+_+"h"+w+"l-"+g+","+_+"l"+g+","+_+"h-"+w+"l-"+g+","+_+"l-"+g+",-"+_+"h-"+w+"Z")}},"star-triangle-up":{n:19,f:function(v,p,T){if(c(p))return u;var _=y(v*s*.8,2),g=y(.8*v,2),w=y(1.6*v,2),x=y(4*v,2),b="A "+x+","+x+" 0 0 1 ";return h(p,T,"M-"+_+","+g+b+_+","+g+b+"0,-"+w+b+"-"+_+","+g+"Z")}},"star-triangle-down":{n:20,f:function(v,p,T){if(c(p))return u;var _=y(v*s*.8,2),g=y(.8*v,2),w=y(1.6*v,2),x=y(4*v,2),b="A "+x+","+x+" 0 0 1 ";return h(p,T,"M"+_+",-"+g+b+"-"+_+",-"+g+b+"0,"+w+b+_+",-"+g+"Z")}},"star-square":{n:21,f:function(v,p,T){if(c(p))return u;var _=y(1.1*v,2),g=y(2*v,2),w="A "+g+","+g+" 0 0 1 ";return h(p,T,"M-"+_+",-"+_+w+"-"+_+","+_+w+_+","+_+w+_+",-"+_+w+"-"+_+",-"+_+"Z")}},"star-diamond":{n:22,f:function(v,p,T){if(c(p))return u;var _=y(1.4*v,2),g=y(1.9*v,2),w="A "+g+","+g+" 0 0 1 ";return h(p,T,"M-"+_+",0"+w+"0,"+_+w+_+",0"+w+"0,-"+_+w+"-"+_+",0Z")}},"diamond-tall":{n:23,f:function(v,p,T){if(c(p))return u;var _=y(.7*v,2),g=y(1.4*v,2);return h(p,T,"M0,"+g+"L"+_+",0L0,-"+g+"L-"+_+",0Z")}},"diamond-wide":{n:24,f:function(v,p,T){if(c(p))return u;var _=y(1.4*v,2),g=y(.7*v,2);return h(p,T,"M0,"+g+"L"+_+",0L0,-"+g+"L-"+_+",0Z")}},hourglass:{n:25,f:function(v,p,T){if(c(p))return u;var _=y(v,2);return h(p,T,"M"+_+","+_+"H-"+_+"L"+_+",-"+_+"H-"+_+"Z")},noDot:!0},bowtie:{n:26,f:function(v,p,T){if(c(p))return u;var _=y(v,2);return h(p,T,"M"+_+","+_+"V-"+_+"L-"+_+","+_+"V-"+_+"Z")},noDot:!0},"circle-cross":{n:27,f:function(v,p,T){if(c(p))return u;var _=y(v,2);return h(p,T,"M0,"+_+"V-"+_+"M"+_+",0H-"+_+"M"+_+",0A"+_+","+_+" 0 1,1 0,-"+_+"A"+_+","+_+" 0 0,1 "+_+",0Z")},needLine:!0,noDot:!0},"circle-x":{n:28,f:function(v,p,T){if(c(p))return u;var _=y(v,2),g=y(v/i,2);return h(p,T,"M"+g+","+g+"L-"+g+",-"+g+"M"+g+",-"+g+"L-"+g+","+g+"M"+_+",0A"+_+","+_+" 0 1,1 0,-"+_+"A"+_+","+_+" 0 0,1 "+_+",0Z")},needLine:!0,noDot:!0},"square-cross":{n:29,f:function(v,p,T){if(c(p))return u;var _=y(v,2);return h(p,T,"M0,"+_+"V-"+_+"M"+_+",0H-"+_+"M"+_+","+_+"H-"+_+"V-"+_+"H"+_+"Z")},needLine:!0,noDot:!0},"square-x":{n:30,f:function(v,p,T){if(c(p))return u;var _=y(v,2);return h(p,T,"M"+_+","+_+"L-"+_+",-"+_+"M"+_+",-"+_+"L-"+_+","+_+"M"+_+","+_+"H-"+_+"V-"+_+"H"+_+"Z")},needLine:!0,noDot:!0},"diamond-cross":{n:31,f:function(v,p,T){if(c(p))return u;var _=y(1.3*v,2);return h(p,T,"M"+_+",0L0,"+_+"L-"+_+",0L0,-"+_+"ZM0,-"+_+"V"+_+"M-"+_+",0H"+_)},needLine:!0,noDot:!0},"diamond-x":{n:32,f:function(v,p,T){if(c(p))return u;var _=y(1.3*v,2),g=y(.65*v,2);return h(p,T,"M"+_+",0L0,"+_+"L-"+_+",0L0,-"+_+"ZM-"+g+",-"+g+"L"+g+","+g+"M-"+g+","+g+"L"+g+",-"+g)},needLine:!0,noDot:!0},"cross-thin":{n:33,f:function(v,p,T){if(c(p))return u;var _=y(1.4*v,2);return h(p,T,"M0,"+_+"V-"+_+"M"+_+",0H-"+_)},needLine:!0,noDot:!0,noFill:!0},"x-thin":{n:34,f:function(v,p,T){if(c(p))return u;var _=y(v,2);return h(p,T,"M"+_+","+_+"L-"+_+",-"+_+"M"+_+",-"+_+"L-"+_+","+_)},needLine:!0,noDot:!0,noFill:!0},asterisk:{n:35,f:function(v,p,T){if(c(p))return u;var _=y(1.2*v,2),g=y(.85*v,2);return h(p,T,"M0,"+_+"V-"+_+"M"+_+",0H-"+_+"M"+g+","+g+"L-"+g+",-"+g+"M"+g+",-"+g+"L-"+g+","+g)},needLine:!0,noDot:!0,noFill:!0},hash:{n:36,f:function(v,p,T){if(c(p))return u;var _=y(v/2,2),g=y(v,2);return h(p,T,"M"+_+","+g+"V-"+g+"M"+(_-g)+",-"+g+"V"+g+"M"+g+","+_+"H-"+g+"M-"+g+","+(_-g)+"H"+g)},needLine:!0,noFill:!0},"y-up":{n:37,f:function(v,p,T){if(c(p))return u;var _=y(1.2*v,2),g=y(1.6*v,2),w=y(.8*v,2);return h(p,T,"M-"+_+","+w+"L0,0M"+_+","+w+"L0,0M0,-"+g+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-down":{n:38,f:function(v,p,T){if(c(p))return u;var _=y(1.2*v,2),g=y(1.6*v,2),w=y(.8*v,2);return h(p,T,"M-"+_+",-"+w+"L0,0M"+_+",-"+w+"L0,0M0,"+g+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-left":{n:39,f:function(v,p,T){if(c(p))return u;var _=y(1.2*v,2),g=y(1.6*v,2),w=y(.8*v,2);return h(p,T,"M"+w+","+_+"L0,0M"+w+",-"+_+"L0,0M-"+g+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-right":{n:40,f:function(v,p,T){if(c(p))return u;var _=y(1.2*v,2),g=y(1.6*v,2),w=y(.8*v,2);return h(p,T,"M-"+w+","+_+"L0,0M-"+w+",-"+_+"L0,0M"+g+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"line-ew":{n:41,f:function(v,p,T){if(c(p))return u;var _=y(1.4*v,2);return h(p,T,"M"+_+",0H-"+_)},needLine:!0,noDot:!0,noFill:!0},"line-ns":{n:42,f:function(v,p,T){if(c(p))return u;var _=y(1.4*v,2);return h(p,T,"M0,"+_+"V-"+_)},needLine:!0,noDot:!0,noFill:!0},"line-ne":{n:43,f:function(v,p,T){if(c(p))return u;var _=y(v,2);return h(p,T,"M"+_+",-"+_+"L-"+_+","+_)},needLine:!0,noDot:!0,noFill:!0},"line-nw":{n:44,f:function(v,p,T){if(c(p))return u;var _=y(v,2);return h(p,T,"M"+_+","+_+"L-"+_+",-"+_)},needLine:!0,noDot:!0,noFill:!0},"arrow-up":{n:45,f:function(v,p,T){if(c(p))return u;var _=y(v,2);return h(p,T,"M0,0L-"+_+","+y(2*v,2)+"H"+_+"Z")},backoff:1,noDot:!0},"arrow-down":{n:46,f:function(v,p,T){if(c(p))return u;var _=y(v,2);return h(p,T,"M0,0L-"+_+",-"+y(2*v,2)+"H"+_+"Z")},noDot:!0},"arrow-left":{n:47,f:function(v,p,T){if(c(p))return u;var _=y(2*v,2),g=y(v,2);return h(p,T,"M0,0L"+_+",-"+g+"V"+g+"Z")},noDot:!0},"arrow-right":{n:48,f:function(v,p,T){if(c(p))return u;var _=y(2*v,2),g=y(v,2);return h(p,T,"M0,0L-"+_+",-"+g+"V"+g+"Z")},noDot:!0},"arrow-bar-up":{n:49,f:function(v,p,T){if(c(p))return u;var _=y(v,2);return h(p,T,"M-"+_+",0H"+_+"M0,0L-"+_+","+y(2*v,2)+"H"+_+"Z")},backoff:1,needLine:!0,noDot:!0},"arrow-bar-down":{n:50,f:function(v,p,T){if(c(p))return u;var _=y(v,2);return h(p,T,"M-"+_+",0H"+_+"M0,0L-"+_+",-"+y(2*v,2)+"H"+_+"Z")},needLine:!0,noDot:!0},"arrow-bar-left":{n:51,f:function(v,p,T){if(c(p))return u;var _=y(2*v,2),g=y(v,2);return h(p,T,"M0,-"+g+"V"+g+"M0,0L"+_+",-"+g+"V"+g+"Z")},needLine:!0,noDot:!0},"arrow-bar-right":{n:52,f:function(v,p,T){if(c(p))return u;var _=y(2*v,2),g=y(v,2);return h(p,T,"M0,-"+g+"V"+g+"M0,0L-"+_+",-"+g+"V"+g+"Z")},needLine:!0,noDot:!0},arrow:{n:53,f:function(v,p,T){if(c(p))return u;var _=a/2.5,g=2*v*o(_),w=2*v*l(_);return h(p,T,"M0,0L"+-g+","+w+"L"+g+","+w+"Z")},backoff:.9,noDot:!0},"arrow-wide":{n:54,f:function(v,p,T){if(c(p))return u;var _=a/4,g=2*v*o(_),w=2*v*l(_);return h(p,T,"M0,0L"+-g+","+w+"A "+2*v+","+2*v+" 0 0 1 "+g+","+w+"Z")},backoff:.4,noDot:!0}}},25673:function(oe){"use strict";oe.exports={visible:{valType:"boolean",editType:"calc"},type:{valType:"enumerated",values:["percent","constant","sqrt","data"],editType:"calc"},symmetric:{valType:"boolean",editType:"calc"},array:{valType:"data_array",editType:"calc"},arrayminus:{valType:"data_array",editType:"calc"},value:{valType:"number",min:0,dflt:10,editType:"calc"},valueminus:{valType:"number",min:0,dflt:10,editType:"calc"},traceref:{valType:"integer",min:0,dflt:0,editType:"style"},tracerefminus:{valType:"integer",min:0,dflt:0,editType:"style"},copy_ystyle:{valType:"boolean",editType:"plot"},copy_zstyle:{valType:"boolean",editType:"style"},color:{valType:"color",editType:"style"},thickness:{valType:"number",min:0,dflt:2,editType:"style"},width:{valType:"number",min:0,editType:"plot"},editType:"calc",_deprecated:{opacity:{valType:"number",editType:"style"}}}},84532:function(oe,j,r){"use strict";var I=r(92770),E=r(73972),f=r(89298),S=r(71828),M=r(45827);function y(u,i,s,a){var o=i["error_"+a]||{},l=[];if(o.visible&&-1!==["linear","log"].indexOf(s.type)){for(var c=M(o),h=0;h<u.length;h++){var v=u[h],p=v.i;if(void 0===p)p=h;else if(null===p)continue;var T=v[a];if(I(s.c2l(T))){var _=c(T,p);if(I(_[0])&&I(_[1])){var g=v[a+"s"]=T-_[0],w=v[a+"h"]=T+_[1];l.push(g,w)}}}var b=i._extremes[s._id],A=f.findExtremes(s,l,S.extendFlat({tozero:b.opts.tozero},{padded:!0}));b.min=b.min.concat(A.min),b.max=b.max.concat(A.max)}}oe.exports=function(u){for(var i=u.calcdata,s=0;s<i.length;s++){var a=i[s],o=a[0].trace;if(!0===o.visible&&E.traceIs(o,"errorBarsOK")){var l=f.getFromId(u,o.xaxis),c=f.getFromId(u,o.yaxis);y(a,o,l,"x"),y(a,o,c,"y")}}}},45827:function(oe){"use strict";function j(r,I){return"percent"===r?function(E){return Math.abs(E*I/100)}:"constant"===r?function(){return Math.abs(I)}:"sqrt"===r?function(E){return Math.sqrt(Math.abs(E))}:void 0}oe.exports=function(r){var I=r.type,E=r.symmetric;if("data"===I){var f=r.array||[];if(E)return function(u,i){var s=+f[i];return[s,s]};var S=r.arrayminus||[];return function(u,i){var s=+f[i],a=+S[i];return isNaN(s)&&isNaN(a)?[NaN,NaN]:[a||0,s||0]}}var M=j(I,r.value),y=j(I,r.valueminus);return E||void 0===r.valueminus?function(u){var i=M(u);return[i,i]}:function(u){return[y(u),M(u)]}}},97587:function(oe,j,r){"use strict";var I=r(92770),E=r(73972),f=r(71828),S=r(44467),M=r(25673);oe.exports=function(y,u,i,s){var a="error_"+s.axis,o=S.newContainer(u,a),l=y[a]||{};function c(T,_){return f.coerce(l,o,M,T,_)}if(!1!==c("visible",void 0!==l.array||void 0!==l.value||"sqrt"===l.type)){var h=c("type","array"in l?"data":"percent"),v=!0;"sqrt"!==h&&(v=c("symmetric",!(("data"===h?"arrayminus":"valueminus")in l))),"data"===h?(c("array"),c("traceref"),v||(c("arrayminus"),c("tracerefminus"))):"percent"!==h&&"constant"!==h||(c("value"),v||c("valueminus"));var p="copy_"+s.inherit+"style";s.inherit&&(u["error_"+s.inherit]||{}).visible&&c(p,!(l.color||I(l.thickness)||I(l.width))),s.inherit&&o[p]||(c("color",i),c("thickness"),c("width",E.traceIs(u,"gl3d")?0:4))}}},37369:function(oe,j,r){"use strict";var I=r(71828),E=r(30962).overrideAll,f=r(25673),S={error_x:I.extendFlat({},f),error_y:I.extendFlat({},f)};delete S.error_x.copy_zstyle,delete S.error_y.copy_zstyle,delete S.error_y.copy_ystyle;var M={error_x:I.extendFlat({},f),error_y:I.extendFlat({},f),error_z:I.extendFlat({},f)};delete M.error_x.copy_ystyle,delete M.error_y.copy_ystyle,delete M.error_z.copy_ystyle,delete M.error_z.copy_zstyle,oe.exports={moduleType:"component",name:"errorbars",schema:{traces:{scatter:S,bar:S,histogram:S,scatter3d:E(M,"calc","nested"),scattergl:E(S,"calc","nested")}},supplyDefaults:r(97587),calc:r(84532),makeComputeError:r(45827),plot:r(19398),style:r(62662),hoverInfo:function(y,u,i){(u.error_y||{}).visible&&(i.yerr=y.yh-y.y,u.error_y.symmetric||(i.yerrneg=y.y-y.ys)),(u.error_x||{}).visible&&(i.xerr=y.xh-y.x,u.error_x.symmetric||(i.xerrneg=y.x-y.xs))}}},19398:function(oe,j,r){"use strict";var I=r(39898),E=r(92770),f=r(91424),S=r(34098);oe.exports=function(M,y,u,i){var s=u.xaxis,a=u.yaxis,o=i&&i.duration>0,l=M._context.staticPlot;y.each(function(c){var h,v=c[0].trace,p=v.error_x||{},T=v.error_y||{};v.ids&&(h=function(x){return x.id});var _=S.hasMarkers(v)&&v.marker.maxdisplayed>0;T.visible||p.visible||(c=[]);var g=I.select(this).selectAll("g.errorbar").data(c,h);if(g.exit().remove(),c.length){p.visible||g.selectAll("path.xerror").remove(),T.visible||g.selectAll("path.yerror").remove(),g.style("opacity",1);var w=g.enter().append("g").classed("errorbar",!0);o&&w.style("opacity",0).transition().duration(i.duration).style("opacity",1),f.setClipUrl(g,u.layerClipId,M),g.each(function(x){var L,N,B,J,b=I.select(this),A=(B=a,J={x:(N=s).c2p((L=x).x),y:B.c2p(L.y)},void 0!==L.yh&&(J.yh=B.c2p(L.yh),J.ys=B.c2p(L.ys),E(J.ys)||(J.noYS=!0,J.ys=B.c2p(L.ys,!0))),void 0!==L.xh&&(J.xh=N.c2p(L.xh),J.xs=N.c2p(L.xs),E(J.xs)||(J.noXS=!0,J.xs=N.c2p(L.xs,!0))),J);if(!_||x.vis){var m,C=b.select("path.yerror");if(T.visible&&E(A.x)&&E(A.yh)&&E(A.ys)){var k=T.width;m="M"+(A.x-k)+","+A.yh+"h"+2*k+"m-"+k+",0V"+A.ys,A.noYS||(m+="m-"+k+",0h"+2*k),C.size()?o&&(C=C.transition().duration(i.duration).ease(i.easing)):C=b.append("path").style("vector-effect",l?"none":"non-scaling-stroke").classed("yerror",!0),C.attr("d",m)}else C.remove();var P=b.select("path.xerror");if(p.visible&&E(A.y)&&E(A.xh)&&E(A.xs)){var R=(p.copy_ystyle?T:p).width;m="M"+A.xh+","+(A.y-R)+"v"+2*R+"m0,-"+R+"H"+A.xs,A.noXS||(m+="m0,-"+R+"v"+2*R),P.size()?o&&(P=P.transition().duration(i.duration).ease(i.easing)):P=b.append("path").style("vector-effect",l?"none":"non-scaling-stroke").classed("xerror",!0),P.attr("d",m)}else P.remove()}})}})}},62662:function(oe,j,r){"use strict";var I=r(39898),E=r(7901);oe.exports=function(f){f.each(function(S){var M=S[0].trace,y=M.error_y||{},u=M.error_x||{},i=I.select(this);i.selectAll("path.yerror").style("stroke-width",y.thickness+"px").call(E.stroke,y.color),u.copy_ystyle&&(u=y),i.selectAll("path.xerror").style("stroke-width",u.thickness+"px").call(E.stroke,u.color)})}},77914:function(oe,j,r){"use strict";var I=r(41940),E=r(528).hoverlabel,f=r(1426).extendFlat;oe.exports={hoverlabel:{bgcolor:f({},E.bgcolor,{arrayOk:!0}),bordercolor:f({},E.bordercolor,{arrayOk:!0}),font:I({arrayOk:!0,editType:"none"}),align:f({},E.align,{arrayOk:!0}),namelength:f({},E.namelength,{arrayOk:!0}),editType:"none"}}},30732:function(oe,j,r){"use strict";var I=r(71828),E=r(73972);function f(S,M,y,u){u=u||I.identity,Array.isArray(S)&&(M[0][y]=u(S))}oe.exports=function(S){var M=S.calcdata,y=S._fullLayout;function u(l){return function(c){return I.coerceHoverinfo({hoverinfo:c},{_module:l._module},y)}}for(var i=0;i<M.length;i++){var s=M[i],a=s[0].trace;if(!E.traceIs(a,"pie-like")){var o=E.traceIs(a,"2dMap")?f:I.fillArray;o(a.hoverinfo,s,"hi",u(a)),a.hovertemplate&&o(a.hovertemplate,s,"ht"),a.hoverlabel&&(o(a.hoverlabel.bgcolor,s,"hbg"),o(a.hoverlabel.bordercolor,s,"hbc"),o(a.hoverlabel.font.size,s,"hts"),o(a.hoverlabel.font.color,s,"htc"),o(a.hoverlabel.font.family,s,"htf"),o(a.hoverlabel.namelength,s,"hnl"),o(a.hoverlabel.align,s,"hta"))}}}},75914:function(oe,j,r){"use strict";var I=r(73972),E=r(88335).hover;oe.exports=function(f,S,M){var y=I.getComponentMethod("annotations","onClick")(f,f._hoverdata);function u(){f.emit("plotly_click",{points:f._hoverdata,event:S})}void 0!==M&&E(f,S,M,!0),f._hoverdata&&S&&S.target&&(y&&y.then?y.then(u):u(),S.stopImmediatePropagation&&S.stopImmediatePropagation())}},26675:function(oe){"use strict";oe.exports={YANGLE:60,HOVERARROWSIZE:6,HOVERTEXTPAD:3,HOVERFONTSIZE:13,HOVERFONT:"Arial, sans-serif",HOVERMINTIME:50,HOVERID:"-hover"}},54268:function(oe,j,r){"use strict";var I=r(71828),E=r(77914),f=r(38048);oe.exports=function(S,M,y,u){var i=I.extendFlat({},u.hoverlabel);M.hovertemplate&&(i.namelength=-1),f(S,M,function(s,a){return I.coerce(S,M,E,s,a)},i)}},23469:function(oe,j,r){"use strict";var I=r(71828);j.getSubplot=function(u){return u.subplot||u.xaxis+u.yaxis||u.geo},j.isTraceInSubplots=function(u,i){if("splom"===u.type){for(var s=u.xaxes||[],a=u.yaxes||[],o=0;o<s.length;o++)for(var l=0;l<a.length;l++)if(-1!==i.indexOf(s[o]+a[l]))return!0;return!1}return-1!==i.indexOf(j.getSubplot(u))},j.flat=function(u,i){for(var s=new Array(u.length),a=0;a<u.length;a++)s[a]=i;return s},j.p2c=function(u,i){for(var s=new Array(u.length),a=0;a<u.length;a++)s[a]=u[a].p2c(i);return s},j.getDistanceFunction=function(u,i,s,a){return"closest"===u?a||j.quadrature(i,s):"x"===u.charAt(0)?i:s},j.getClosest=function(u,i,s){if(!1!==s.index)s.index>=0&&s.index<u.length?s.distance=0:s.index=!1;else for(var a=0;a<u.length;a++){var o=i(u[a]);o<=s.distance&&(s.index=a,s.distance=o)}return s},j.inbox=function(u,i,s){return u*i<0||0===u?s:1/0},j.quadrature=function(u,i){return function(s){var a=u(s),o=i(s);return Math.sqrt(a*a+o*o)}},j.makeEventData=function(u,i,s){var a="index"in u?u.index:u.pointNumber,o={data:i._input,fullData:i,curveNumber:i.index,pointNumber:a};if(i._indexToPoints){var l=i._indexToPoints[a];1===l.length?o.pointIndex=l[0]:o.pointIndices=l}else o.pointIndex=a;return i._module.eventData?o=i._module.eventData(o,u,i,s,a):("xVal"in u?o.x=u.xVal:"x"in u&&(o.x=u.x),"yVal"in u?o.y=u.yVal:"y"in u&&(o.y=u.y),u.xa&&(o.xaxis=u.xa),u.ya&&(o.yaxis=u.ya),void 0!==u.zLabelVal&&(o.z=u.zLabelVal)),j.appendArrayPointValue(o,i,a),o},j.appendArrayPointValue=function(u,i,s){var a=i._arrayAttrs;if(a)for(var o=0;o<a.length;o++){var l=a[o],c=f(l);if(void 0===u[c]){var h=S(I.nestedProperty(i,l).get(),s);void 0!==h&&(u[c]=h)}}},j.appendArrayMultiPointValues=function(u,i,s){var a=i._arrayAttrs;if(a)for(var o=0;o<a.length;o++){var l=a[o],c=f(l);if(void 0===u[c]){for(var h=I.nestedProperty(i,l).get(),v=new Array(s.length),p=0;p<s.length;p++)v[p]=S(h,s[p]);u[c]=v}}};var E={ids:"id",locations:"location",labels:"label",values:"value","marker.colors":"color",parents:"parent"};function f(u){return E[u]||u}function S(u,i){return Array.isArray(i)?Array.isArray(u)&&Array.isArray(u[i[0]])?u[i[0]][i[1]]:void 0:u[i]}var M={x:!0,y:!0},y={"x unified":!0,"y unified":!0};j.isUnifiedHover=function(u){return"string"==typeof u&&!!y[u]},j.isXYhover=function(u){return"string"==typeof u&&!!M[u]}},88335:function(oe,j,r){"use strict";var I=r(39898),E=r(92770),f=r(84267),S=r(71828),M=S.strTranslate,y=S.strRotate,u=r(11086),i=r(63893),s=r(39918),a=r(91424),o=r(7901),l=r(28569),c=r(89298),h=r(73972),v=r(23469),p=r(26675),T=r(99017),_=r(43969),g=p.YANGLE,w=Math.PI*g/180,x=1/Math.sin(w),b=Math.cos(w),A=Math.sin(w),m=p.HOVERARROWSIZE,C=p.HOVERTEXTPAD,k={box:!0,ohlc:!0,violin:!0,candlestick:!0},P={scatter:!0,scattergl:!0,splom:!0};function R(K){return[K.trace.index,K.index,K.x0,K.y0,K.name,K.attr,K.xa?K.xa._id:"",K.ya?K.ya._id:""].join(",")}j.hover=function(K,ne,ae,ue){K=S.getGraphDiv(K);var he=ne.target;S.throttle(K._fullLayout._uid+p.HOVERID,p.HOVERMINTIME,function(){!function(pe,ge,xe,Se,Te){xe||(xe="xy");var ye=Array.isArray(xe)?xe:[xe],we=pe._fullLayout,ze=we._plots||[],ke=ze[xe],Ee=we._has("cartesian");if(ke){var me=ke.overlays.map(function(qt){return qt.id});ye=ye.concat(me)}for(var de=ye.length,ce=new Array(de),Ae=new Array(de),Ne=!1,De=0;De<de;De++){var Ue=ye[De];if(ze[Ue])Ne=!0,ce[De]=ze[Ue].xaxis,Ae[De]=ze[Ue].yaxis;else{if(!we[Ue]||!we[Ue]._subplot)return void S.warn("Unrecognized subplot: "+Ue);var Ye=we[Ue]._subplot;ce[De]=Ye.xaxis,Ae[De]=Ye.yaxis}}var _e=ge.hovermode||we.hovermode;if(_e&&!Ne&&(_e="closest"),-1===["x","y","closest","x unified","y unified"].indexOf(_e)||!pe.calcdata||pe.querySelector(".zoombox")||pe._dragging)return l.unhoverRaw(pe,ge);var Pe=we.hoverdistance;-1===Pe&&(Pe=1/0);var Ie=we.spikedistance;-1===Ie&&(Ie=1/0);var Be,We,Ge,Ke,tt,st,gt,ct,kt,Dt,vt,mt,Et,Lt=[],Rt=[],Ut={hLinePoint:null,vLinePoint:null},Bt=!1;if(Array.isArray(ge))for(_e="array",Ge=0;Ge<ge.length;Ge++)(tt=pe.calcdata[ge[Ge].curveNumber||0])&&(st=tt[0].trace,"skip"!==tt[0].trace.hoverinfo&&(Rt.push(tt),"h"===st.orientation&&(Bt=!0)));else{for(Ke=0;Ke<pe.calcdata.length;Ke++)"skip"!==(st=(tt=pe.calcdata[Ke])[0].trace).hoverinfo&&v.isTraceInSubplots(st,ye)&&(Rt.push(tt),"h"===st.orientation&&(Bt=!0));var rt,ot;if(Te){if(!1===u.triggerHandler(pe,"plotly_beforehover",ge))return;var Je=Te.getBoundingClientRect();rt=ge.clientX-Je.left,ot=ge.clientY-Je.top,we._calcInverseTransform(pe);var it=S.apply3DTransform(we._invTransform)(rt,ot);if(ot=it[1],(rt=it[0])<0||rt>ce[0]._length||ot<0||ot>Ae[0]._length)return l.unhoverRaw(pe,ge)}else rt="xpx"in ge?ge.xpx:ce[0]._length/2,ot="ypx"in ge?ge.ypx:Ae[0]._length/2;if(ge.pointerX=rt+ce[0]._offset,ge.pointerY=ot+Ae[0]._offset,Be="xval"in ge?v.flat(ye,ge.xval):v.p2c(ce,rt),We="yval"in ge?v.flat(ye,ge.yval):v.p2c(Ae,ot),!E(Be[0])||!E(We[0]))return S.warn("Fx.hover failed",ge,pe),l.unhoverRaw(pe,ge)}var dt=1/0;function ht(qt,on){for(Ke=0;Ke<Rt.length;Ke++)if((tt=Rt[Ke])&&tt[0]&&tt[0].trace&&!0===(st=tt[0].trace).visible&&0!==st._length&&-1===["carpet","contourcarpet"].indexOf(st._module.name)){if("splom"===st.type?gt=ye[ct=0]:(gt=v.getSubplot(st),ct=ye.indexOf(gt)),v.isUnifiedHover(kt=_e)&&(kt=kt.charAt(0)),mt={cd:tt,trace:st,xa:ce[ct],ya:Ae[ct],maxHoverDistance:Pe,maxSpikeDistance:Ie,index:!1,distance:Math.min(dt,Pe),spikeDistance:1/0,xSpike:void 0,ySpike:void 0,color:o.defaultLine,name:st.name,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},we[gt]&&(mt.subplot=we[gt]._subplot),we._splomScenes&&we._splomScenes[st.uid]&&(mt.scene=we._splomScenes[st.uid]),Et=Lt.length,"array"===kt){var An=ge[Ke];"pointNumber"in An?(mt.index=An.pointNumber,kt="closest"):(kt="","xval"in An&&(Dt=An.xval,kt="x"),"yval"in An&&(vt=An.yval,kt=kt?"closest":"y"))}else void 0!==qt&&void 0!==on?(Dt=qt,vt=on):(Dt=Be[ct],vt=We[ct]);if(0!==Pe)if(st._module&&st._module.hoverPoints){var Dn=st._module.hoverPoints(mt,Dt,vt,kt,{finiteRange:!0,hoverLayer:we._hoverlayer});if(Dn)for(var Bn,fr=0;fr<Dn.length;fr++)E((Bn=Dn[fr]).x0)&&E(Bn.y0)&&Lt.push(Y(Bn,_e))}else S.log("Unrecognized trace type in hover:",st);if("closest"===_e&&Lt.length>Et&&(Lt.splice(0,Et),dt=Lt[0].distance),Ee&&0!==Ie&&0===Lt.length){mt.distance=Ie,mt.index=!1;var bn=st._module.hoverPoints(mt,Dt,vt,"closest",{hoverLayer:we._hoverlayer});if(bn&&(bn=bn.filter(function(an){return an.spikeDistance<=Ie})),bn&&bn.length){var Qn,er=bn.filter(function(an){return an.xa.showspikes&&"hovered data"!==an.xa.spikesnap});if(er.length){var Jt=er[0];E(Jt.x0)&&E(Jt.y0)&&(Qn=qe(Jt),(!Ut.vLinePoint||Ut.vLinePoint.spikeDistance>Qn.spikeDistance)&&(Ut.vLinePoint=Qn))}var Nn=bn.filter(function(an){return an.ya.showspikes&&"hovered data"!==an.ya.spikesnap});if(Nn.length){var Ft=Nn[0];E(Ft.x0)&&E(Ft.y0)&&(Qn=qe(Ft),(!Ut.hLinePoint||Ut.hLinePoint.spikeDistance>Qn.spikeDistance)&&(Ut.hLinePoint=Qn))}}}}}function Ve(qt,on,An){for(var Dn,Bn=null,fr=1/0,bn=0;bn<qt.length;bn++)Dn=qt[bn].spikeDistance,An&&0===bn&&(Dn=-1/0),Dn<=fr&&Dn<=on&&(Bn=qt[bn],fr=Dn);return Bn}function qe(qt){return qt?{xa:qt.xa,ya:qt.ya,x:void 0!==qt.xSpike?qt.xSpike:(qt.x0+qt.x1)/2,y:void 0!==qt.ySpike?qt.ySpike:(qt.y0+qt.y1)/2,distance:qt.distance,spikeDistance:qt.spikeDistance,curveNumber:qt.trace.index,color:qt.color,pointNumber:qt.index}:null}ht();var ut={fullLayout:we,container:we._hoverlayer,event:ge},ft=pe._spikepoints;pe._spikepoints={vLinePoint:Ut.vLinePoint,hLinePoint:Ut.hLinePoint};var Mt=function(){Lt.sort(function(qt,on){return qt.distance-on.distance}),Lt=function(qt,on){for(var An=on.charAt(0),Dn=[],Bn=[],fr=[],bn=0;bn<qt.length;bn++){var Qn=qt[bn];h.traceIs(Qn.trace,"bar-like")||h.traceIs(Qn.trace,"box-violin")?fr.push(Qn):Qn.trace[An+"period"]?Bn.push(Qn):Dn.push(Qn)}return Dn.concat(Bn).concat(fr)}(Lt,_e)};Mt();var Tt=_e.charAt(0),xt=("x"===Tt||"y"===Tt)&&Lt[0]&&P[Lt[0].trace.type];if(Ee&&0!==Ie&&0!==Lt.length){var Nt=Ve(Lt.filter(function(qt){return qt.ya.showspikes}),Ie,xt);Ut.hLinePoint=qe(Nt);var bt=Ve(Lt.filter(function(qt){return qt.xa.showspikes}),Ie,xt);Ut.vLinePoint=qe(bt)}if(0===Lt.length){var wt=l.unhoverRaw(pe,ge);return!Ee||null===Ut.hLinePoint&&null===Ut.vLinePoint||U(ft)&&q(pe,Ut,ut),wt}if(Ee&&U(ft)&&q(pe,Ut,ut),v.isXYhover(kt)&&0!==Lt[0].length&&"splom"!==Lt[0].trace.type){var It=Lt[0],Wt=(Lt=k[It.trace.type]?Lt.filter(function(qt){return qt.trace.index===It.trace.index}):[It]).length;ht(X("x",It,we),X("y",It,we));var Yt,Zt=[],dn={},nn=0,un=function(qt){var on=k[qt.trace.type]?R(qt):qt.trace.index;if(dn[on]){var An=dn[on]-1,Dn=Zt[An];An>0&&Math.abs(qt.distance)<Math.abs(Dn.distance)&&(Zt[An]=qt)}else nn++,dn[on]=nn,Zt.push(qt)};for(Yt=0;Yt<Wt;Yt++)un(Lt[Yt]);for(Yt=Lt.length-1;Yt>Wt-1;Yt--)un(Lt[Yt]);Lt=Zt,Mt()}var rn=pe._hoverdata,kn=[],Pn=se(pe),Sn=re(pe);for(Ge=0;Ge<Lt.length;Ge++){var en=Lt[Ge],vn=v.makeEventData(en,en.trace,en.cd);if(!1!==en.hovertemplate){var hn=!1;en.cd[en.index]&&en.cd[en.index].ht&&(hn=en.cd[en.index].ht),en.hovertemplate=hn||en.trace.hovertemplate||!1}if(en.xa&&en.ya){var yn=en.x0+en.xa._offset,Cn=en.x1+en.xa._offset,_n=en.y0+en.ya._offset,Un=en.y1+en.ya._offset,qn=Math.min(yn,Cn),Ln=Math.max(yn,Cn),Yn=Math.min(_n,Un),_r=Math.max(_n,Un);vn.bbox={x0:qn+Sn,x1:Ln+Sn,y0:Yn+Pn,y1:_r+Pn}}en.eventData=[vn],kn.push(vn)}pe._hoverdata=kn;var dr="y"===_e&&(Rt.length>1||Lt.length>1)||"closest"===_e&&Bt&&Lt.length>1,kr=o.combine(we.plot_bgcolor||o.background,we.paper_bgcolor),vr=N(Lt,{gd:pe,hovermode:_e,rotateLabels:dr,bgColor:kr,container:we._hoverlayer,outerContainer:we._paper.node(),commonLabelOpts:we.hoverlabel,hoverdistance:we.hoverdistance}),mr=vr.hoverLabels;if(v.isUnifiedHover(_e)||(function(qt,on,An,Dn){var Bn,fr,bn,Qn,er,Jt,Nn,Ft=on?"xa":"ya",an=on?"ya":"xa",pn=0,En=1,Rn=qt.size(),jn=new Array(Rn),Tn=0,ln=Dn.minX,fn=Dn.maxX,wn=Dn.minY,Mn=Dn.maxY,Hn=function(tr){return tr*An._invScaleX},Wn=function(tr){return tr*An._invScaleY};function cr(tr){var Xr=tr[0],ir=tr[tr.length-1];if(bn=ir.pos+ir.dp+ir.size-Xr.pmax,(fr=Xr.pmin-Xr.pos-Xr.dp+Xr.size)>.01){for(er=tr.length-1;er>=0;er--)tr[er].dp+=fr;Bn=!1}if(!(bn<.01)){if(fr<-.01){for(er=tr.length-1;er>=0;er--)tr[er].dp-=bn;Bn=!1}if(Bn){var Fr=0;for(Qn=0;Qn<tr.length;Qn++)(Jt=tr[Qn]).pos+Jt.dp+Jt.size>Xr.pmax&&Fr++;for(Qn=tr.length-1;Qn>=0&&!(Fr<=0);Qn--)(Jt=tr[Qn]).pos>Xr.pmax-1&&(Jt.del=!0,Fr--);for(Qn=0;Qn<tr.length&&!(Fr<=0);Qn++)if((Jt=tr[Qn]).pos<Xr.pmin+1)for(Jt.del=!0,Fr--,bn=2*Jt.size,er=tr.length-1;er>=0;er--)tr[er].dp-=bn;for(Qn=tr.length-1;Qn>=0&&!(Fr<=0);Qn--)(Jt=tr[Qn]).pos+Jt.dp+Jt.size>Xr.pmax&&(Jt.del=!0,Fr--)}}}for(qt.each(function(tr){var Xr=tr[Ft],ir=tr[an],Fr="x"===Xr._id.charAt(0),ii=Xr.range;0===Tn&&ii&&ii[0]>ii[1]!==Fr&&(En=-1);var qi=0,go=Fr?An.width:An.height;if("x"===An.hovermode||"y"===An.hovermode){var ao,so,Ki=J(tr,on),Co=tr.anchor,Gs="end"===Co?-1:1;if("middle"===Co)so=(ao=tr.crossPos+(Fr?Wn(Ki.y-tr.by/2):Hn(tr.bx/2+tr.tx2width/2)))+(Fr?Wn(tr.by):Hn(tr.bx));else if(Fr)so=(ao=tr.crossPos+Wn(m+Ki.y)-Wn(tr.by/2-m))+Wn(tr.by);else{var fi=Hn(Gs*m+Ki.x),Ds=fi+Hn(Gs*tr.bx);ao=tr.crossPos+Math.min(fi,Ds),so=tr.crossPos+Math.max(fi,Ds)}Fr?void 0!==wn&&void 0!==Mn&&Math.min(so,Mn)-Math.max(ao,wn)>1&&("left"===ir.side?(qi=ir._mainLinePosition,go=An.width):go=ir._mainLinePosition):void 0!==ln&&void 0!==fn&&Math.min(so,fn)-Math.max(ao,ln)>1&&("top"===ir.side?(qi=ir._mainLinePosition,go=An.height):go=ir._mainLinePosition)}jn[Tn++]=[{datum:tr,traceIndex:tr.trace.index,dp:0,pos:tr.pos,posref:tr.posref,size:tr.by*(Fr?x:1)/2,pmin:qi,pmax:go}]}),jn.sort(function(tr,Xr){return tr[0].posref-Xr[0].posref||En*(Xr[0].traceIndex-tr[0].traceIndex)});!Bn&&pn<=Rn;){for(pn++,Bn=!0,Qn=0;Qn<jn.length-1;){var or=jn[Qn],xr=jn[Qn+1],sr=or[or.length-1],hr=xr[0];if((fr=sr.pos+sr.dp+sr.size-hr.pos-hr.dp+hr.size)>.01&&sr.pmin===hr.pmin&&sr.pmax===hr.pmax){for(er=xr.length-1;er>=0;er--)xr[er].dp+=fr;for(or.push.apply(or,xr),jn.splice(Qn+1,1),Nn=0,er=or.length-1;er>=0;er--)Nn+=or[er].dp;for(bn=Nn/or.length,er=or.length-1;er>=0;er--)or[er].dp-=bn;Bn=!1}else Qn++}jn.forEach(cr)}for(Qn=jn.length-1;Qn>=0;Qn--){var Ar=jn[Qn];for(er=Ar.length-1;er>=0;er--){var Sr=Ar[er],Pr=Sr.datum;Pr.offset=Sr.dp,Pr.del=Sr.del}}}(mr,dr,we,vr.commonLabelBoundingBox),z(mr,dr,we._invScaleX,we._invScaleY)),Te&&Te.tagName){var Br=h.getComponentMethod("annotations","hasClickToShow")(pe,kn);s(I.select(Te),Br?"pointer":"")}Te&&!Se&&function(qt,on,An){if(!An||An.length!==qt._hoverdata.length)return!0;for(var Dn=An.length-1;Dn>=0;Dn--){var Bn=An[Dn],fr=qt._hoverdata[Dn];if(Bn.curveNumber!==fr.curveNumber||String(Bn.pointNumber)!==String(fr.pointNumber)||String(Bn.pointNumbers)!==String(fr.pointNumbers))return!0}return!1}(pe,0,rn)&&(rn&&pe.emit("plotly_unhover",{event:ge,points:rn}),pe.emit("plotly_hover",{event:ge,points:pe._hoverdata,xaxes:ce,yaxes:Ae,xvals:Be,yvals:We}))}(K,ne,ae,ue,he)})},j.loneHover=function(K,ne){var ae=!0;Array.isArray(K)||(ae=!1,K=[K]);var ue=ne.gd,he=se(ue),pe=re(ue),ge=N(K.map(function(Te){var ye=Te._x0||Te.x0||Te.x||0,we=Te._x1||Te.x1||Te.x||0,ze=Te._y0||Te.y0||Te.y||0,ke=Te._y1||Te.y1||Te.y||0,Ee=Te.eventData;if(Ee){var me=Math.min(ye,we),de=Math.max(ye,we),ce=Math.min(ze,ke),Ae=Math.max(ze,ke),Ne=Te.trace;if(h.traceIs(Ne,"gl3d")){var De=ue._fullLayout[Ne.scene]._scene.container,Ue=De.offsetLeft,Ye=De.offsetTop;me+=Ue,de+=Ue,ce+=Ye,Ae+=Ye}Ee.bbox={x0:me+pe,x1:de+pe,y0:ce+he,y1:Ae+he},ne.inOut_bbox&&ne.inOut_bbox.push(Ee.bbox)}else Ee=!1;return{color:Te.color||o.defaultLine,x0:Te.x0||Te.x||0,x1:Te.x1||Te.x||0,y0:Te.y0||Te.y||0,y1:Te.y1||Te.y||0,xLabel:Te.xLabel,yLabel:Te.yLabel,zLabel:Te.zLabel,text:Te.text,name:Te.name,idealAlign:Te.idealAlign,borderColor:Te.borderColor,fontFamily:Te.fontFamily,fontSize:Te.fontSize,fontColor:Te.fontColor,nameLength:Te.nameLength,textAlign:Te.textAlign,trace:Te.trace||{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0,hovertemplate:Te.hovertemplate||!1,hovertemplateLabels:Te.hovertemplateLabels||!1,eventData:Ee}}),{gd:ue,hovermode:"closest",rotateLabels:!1,bgColor:ne.bgColor||o.background,container:I.select(ne.container),outerContainer:ne.outerContainer||ne.container}).hoverLabels,xe=0,Se=0;return ge.sort(function(Te,ye){return Te.y0-ye.y0}).each(function(Te,ye){var we=Te.y0-Te.by/2;Te.offset=we-5<xe?xe-we+5:0,xe=we+Te.by+Te.offset,ye===ne.anchorIndex&&(Se=Te.offset)}).each(function(Te){Te.offset-=Se}),z(ge,!1,ue._fullLayout._invScaleX,ue._fullLayout._invScaleY),ae?ge:ge.node()};var L=/<extra>([\s\S]*)<\/extra>/;function N(K,ne){var ae=ne.gd,ue=ae._fullLayout,he=ne.hovermode,pe=ne.rotateLabels,ge=ne.bgColor,xe=ne.container,Se=ne.outerContainer,Te=ne.commonLabelOpts||{};if(0===K.length)return[[]];var ye=ne.fontFamily||p.HOVERFONT,we=ne.fontSize||p.HOVERFONTSIZE,ze=K[0],ke=ze.xa,Ee=ze.ya,me=he.charAt(0),de=me+"Label",ce=ze[de];if(void 0===ce&&"multicategory"===ke.type)for(var Ae=0;Ae<K.length&&void 0===(ce=K[Ae][de]);Ae++);var Ne=ee(ae,Se),De=Ne.top,Ue=Ne.width,Ye=Ne.height,_e=void 0!==ce&&ze.distance<=ne.hoverdistance&&("x"===he||"y"===he);if(_e){var Pe,Ie,Be=!0;for(Pe=0;Pe<K.length;Pe++)if(Be&&void 0===K[Pe].zLabel&&(Be=!1),Ie=K[Pe].hoverinfo||K[Pe].trace.hoverinfo){var We=Array.isArray(Ie)?Ie:Ie.split("+");if(-1===We.indexOf("all")&&-1===We.indexOf(he)){_e=!1;break}}Be&&(_e=!1)}var Ge=xe.selectAll("g.axistext").data(_e?[0]:[]);Ge.enter().append("g").classed("axistext",!0),Ge.exit().remove();var Ke={minX:0,maxX:0,minY:0,maxY:0};if(Ge.each(function(){var wt=I.select(this),It=S.ensureSingle(wt,"path","",function(Yn){Yn.style({"stroke-width":"1px"})}),Wt=S.ensureSingle(wt,"text","",function(Yn){Yn.attr("data-notex",1)}),Yt=Te.bgcolor||o.defaultLine,Zt=Te.bordercolor||o.contrast(Yt),dn=o.contrast(Yt),nn={family:Te.font.family||ye,size:Te.font.size||we,color:Te.font.color||dn};It.style({fill:Yt,stroke:Zt}),Wt.text(ce).call(a.font,nn).call(i.positionText,0,0).call(i.convertToTspans,ae),wt.attr("transform","");var un,rn,kn=ee(ae,Wt.node());if("x"===he){var Pn="top"===ke.side?"-":"";Wt.attr("text-anchor","middle").call(i.positionText,0,"top"===ke.side?De-kn.bottom-m-C:De-kn.top+m+C),rn=Ee._offset+("top"===ke.side?0:Ee._length);var Sn=kn.width/2+C;(un=ke._offset+(ze.x0+ze.x1)/2)<Sn?(un=Sn,It.attr("d","M-"+(Sn-m)+",0L-"+(Sn-2*m)+","+Pn+m+"H"+Sn+"v"+Pn+(2*C+kn.height)+"H-"+Sn+"V"+Pn+m+"Z")):un>ue.width-Sn?(un=ue.width-Sn,It.attr("d","M"+(Sn-m)+",0L"+Sn+","+Pn+m+"v"+Pn+(2*C+kn.height)+"H-"+Sn+"V"+Pn+m+"H"+(Sn-2*m)+"Z")):It.attr("d","M0,0L"+m+","+Pn+m+"H"+Sn+"v"+Pn+(2*C+kn.height)+"H-"+Sn+"V"+Pn+m+"H-"+m+"Z"),Ke.minX=un-Sn,Ke.maxX=un+Sn,"top"===ke.side?(Ke.minY=rn-(2*C+kn.height),Ke.maxY=rn-C):(Ke.minY=rn+C,Ke.maxY=rn+(2*C+kn.height))}else{var en,vn,hn;"right"===Ee.side?(en="start",vn=1,hn="",un=ke._offset+ke._length):(en="end",vn=-1,hn="-",un=ke._offset),rn=Ee._offset+(ze.y0+ze.y1)/2,Wt.attr("text-anchor",en),It.attr("d","M0,0L"+hn+m+","+m+"V"+(C+kn.height/2)+"h"+hn+(2*C+kn.width)+"V-"+(C+kn.height/2)+"H"+hn+m+"V-"+m+"Z"),Ke.minY=rn-(C+kn.height/2),Ke.maxY=rn+(C+kn.height/2),"right"===Ee.side?(Ke.minX=un+m,Ke.maxX=un+m+(2*C+kn.width)):(Ke.minX=un-m-(2*C+kn.width),Ke.maxX=un-m);var yn,Cn=kn.height/2,_n=De-kn.top-Cn,Un="clip"+ue._uid+"commonlabel"+Ee._id;if(un<kn.width+2*C+m){yn="M-"+(m+C)+"-"+Cn+"h-"+(kn.width-C)+"V"+Cn+"h"+(kn.width-C)+"Z";var qn=kn.width-un+C;i.positionText(Wt,qn,_n),"end"===en&&Wt.selectAll("tspan").each(function(){var Yn=I.select(this),_r=a.tester.append("text").text(Yn.text()).call(a.font,nn),dr=ee(ae,_r.node());Math.round(dr.width)<Math.round(kn.width)&&Yn.attr("x",qn-dr.width),_r.remove()})}else i.positionText(Wt,vn*(C+m),_n),yn=null;var Ln=ue._topclips.selectAll("#"+Un).data(yn?[0]:[]);Ln.enter().append("clipPath").attr("id",Un).append("path"),Ln.exit().remove(),Ln.select("path").attr("d",yn),a.setClipUrl(Wt,yn?Un:null,ae)}wt.attr("transform",M(un,rn))}),v.isUnifiedHover(he)){xe.selectAll("g.hovertext").remove();var tt=K.filter(function(wt){return"none"!==wt.hoverinfo});if(0===tt.length)return[];var st=ue.hoverlabel,gt=st.font,kt={font:gt};T({showlegend:!0,legend:{title:{text:ce,font:gt},font:gt,bgcolor:st.bgcolor,bordercolor:st.bordercolor,borderwidth:1,tracegroupgap:7,traceorder:ue.legend?ue.legend.traceorder:void 0,orientation:"v"}},kt,ae._fullData);var Dt=kt.legend;Dt.entries=[];for(var vt=0;vt<tt.length;vt++){var mt=tt[vt];if("none"!==mt.hoverinfo){var Et=B(mt,!0,he,ue,ce),Lt=Et[0],Rt=Et[1];mt.name=Rt,mt.text=""!==Rt?Rt+" : "+Lt:Lt;var Ut=mt.cd[mt.index];Ut&&(Ut.mc&&(mt.mc=Ut.mc),Ut.mcc&&(mt.mc=Ut.mcc),Ut.mlc&&(mt.mlc=Ut.mlc),Ut.mlcc&&(mt.mlc=Ut.mlcc),Ut.mlw&&(mt.mlw=Ut.mlw),Ut.mrc&&(mt.mrc=Ut.mrc),Ut.dir&&(mt.dir=Ut.dir)),mt._distinct=!0,Dt.entries.push([mt])}}Dt.entries.sort(function(wt,It){return wt[0].trace.index-It[0].trace.index}),Dt.layer=xe,Dt._inHover=!0,Dt._groupTitleFont=st.grouptitlefont,_(ae,Dt);var Bt,rt,ot,Je,it=xe.select("g.legend"),dt=ee(ae,it.node()),ht=dt.width+2*C,Ve=dt.height+2*C,qe=tt[0],ut=(qe.x0+qe.x1)/2,ft=(qe.y0+qe.y1)/2,St=!(h.traceIs(qe.trace,"bar-like")||h.traceIs(qe.trace,"box-violin"));"y"===me?St?(rt=ft-C,Bt=ft+C):(rt=Math.min.apply(null,tt.map(function(wt){return Math.min(wt.y0,wt.y1)})),Bt=Math.max.apply(null,tt.map(function(wt){return Math.max(wt.y0,wt.y1)}))):rt=Bt=S.mean(tt.map(function(wt){return(wt.y0+wt.y1)/2}))-Ve/2,"x"===me?St?(ot=ut+C,Je=ut-C):(ot=Math.max.apply(null,tt.map(function(wt){return Math.max(wt.x0,wt.x1)})),Je=Math.min.apply(null,tt.map(function(wt){return Math.min(wt.x0,wt.x1)}))):ot=Je=S.mean(tt.map(function(wt){return(wt.x0+wt.x1)/2}))-ht/2;var Mt,Tt,xt=ke._offset,Nt=Ee._offset;return Je+=xt-ht,rt+=Nt-Ve,Mt=(ot+=xt)+ht<Ue&&ot>=0?ot:Je+ht<Ue&&Je>=0?Je:xt+ht<Ue?xt:ot-ut<ut-Je+ht?Ue-ht:0,Tt=(Bt+=Nt)+Ve<Ye&&Bt>=0?Bt:rt+Ve<Ye&&rt>=0?rt:Nt+Ve<Ye?Nt:Bt-ft<ft-rt+Ve?Ye-Ve:0,it.attr("transform",M((Mt+=C)-1,(Tt+=C)-1)),it}var bt=xe.selectAll("g.hovertext").data(K,function(wt){return R(wt)});return bt.enter().append("g").classed("hovertext",!0).each(function(){var wt=I.select(this);wt.append("rect").call(o.fill,o.addOpacity(ge,.8)),wt.append("text").classed("name",!0),wt.append("path").style("stroke-width","1px"),wt.append("text").classed("nums",!0).call(a.font,ye,we)}),bt.exit().remove(),bt.each(function(wt){var It=I.select(this).attr("transform",""),Wt=wt.color;Array.isArray(Wt)&&(Wt=Wt[wt.eventData[0].pointNumber]);var Yt=wt.bgcolor||Wt,Zt=o.combine(o.opacity(Yt)?Yt:o.defaultLine,ge),dn=o.combine(o.opacity(Wt)?Wt:o.defaultLine,ge),nn=wt.borderColor||o.contrast(Zt),un=B(wt,_e,he,ue,ce,It),rn=un[0],kn=un[1],Pn=It.select("text.nums").call(a.font,wt.fontFamily||ye,wt.fontSize||we,wt.fontColor||nn).text(rn).attr("data-notex",1).call(i.positionText,0,0).call(i.convertToTspans,ae),Sn=It.select("text.name"),en=0,vn=0;if(kn&&kn!==rn){Sn.call(a.font,wt.fontFamily||ye,wt.fontSize||we,dn).text(kn).attr("data-notex",1).call(i.positionText,0,0).call(i.convertToTspans,ae);var hn=ee(ae,Sn.node());en=hn.width+2*C,vn=hn.height+2*C}else Sn.remove(),It.select("rect").remove();It.select("path").style({fill:Zt,stroke:nn});var yn=wt.xa._offset+(wt.x0+wt.x1)/2,Cn=wt.ya._offset+(wt.y0+wt.y1)/2,_n=Math.abs(wt.x1-wt.x0),Un=Math.abs(wt.y1-wt.y0),qn=ee(ae,Pn.node()),Ln=qn.width/ue._invScaleX,Yn=qn.height/ue._invScaleY;wt.ty0=(De-qn.top)/ue._invScaleY,wt.bx=Ln+2*C,wt.by=Math.max(Yn+2*C,vn),wt.anchor="start",wt.txwidth=Ln,wt.tx2width=en,wt.offset=0;var _r,dr,kr=(Ln+m+C+en)*ue._invScaleX;if(pe)wt.pos=yn,_r=Cn+Un/2+kr<=Ye,dr=Cn-Un/2-kr>=0,"top"!==wt.idealAlign&&_r||!dr?_r?(Cn+=Un/2,wt.anchor="start"):wt.anchor="middle":(Cn-=Un/2,wt.anchor="end"),wt.crossPos=Cn;else{if(wt.pos=Cn,_r=yn+_n/2+kr<=Ue,dr=yn-_n/2-kr>=0,"left"!==wt.idealAlign&&_r||!dr)if(_r)yn+=_n/2,wt.anchor="start";else{wt.anchor="middle";var vr=kr/2,mr=yn+vr-Ue,Br=yn-vr;mr>0&&(yn-=mr),Br<0&&(yn+=-Br)}else yn-=_n/2,wt.anchor="end";wt.crossPos=yn}Pn.attr("text-anchor",wt.anchor),en&&Sn.attr("text-anchor",wt.anchor),It.attr("transform",M(yn,Cn)+(pe?y(g):""))}),{hoverLabels:bt,commonLabelBoundingBox:Ke}}function B(K,ne,ae,ue,he,pe){var ge="",xe="";void 0!==K.nameOverride&&(K.name=K.nameOverride),K.name&&(K.trace._meta&&(K.name=S.templateString(K.name,K.trace._meta)),ge=Z(K.name,K.nameLength));var Se=ae.charAt(0);void 0!==K.zLabel?(void 0!==K.xLabel&&(xe+="x: "+K.xLabel+"<br>"),void 0!==K.yLabel&&(xe+="y: "+K.yLabel+"<br>"),"choropleth"!==K.trace.type&&"choroplethmapbox"!==K.trace.type&&(xe+=(xe?"z: ":"")+K.zLabel)):ne&&K[Se+"Label"]===he?xe=K[("x"===Se?"y":"x")+"Label"]||"":void 0===K.xLabel?void 0!==K.yLabel&&"scattercarpet"!==K.trace.type&&(xe=K.yLabel):xe=void 0===K.yLabel?K.xLabel:"("+K.xLabel+", "+K.yLabel+")",!K.text&&0!==K.text||Array.isArray(K.text)||(xe+=(xe?"<br>":"")+K.text),void 0!==K.extraText&&(xe+=(xe?"<br>":"")+K.extraText),pe&&""===xe&&!K.hovertemplate&&(""===ge&&pe.remove(),xe=ge);var ye=K.hovertemplate||!1;if(ye){var we=K.hovertemplateLabels||K;K[Se+"Label"]!==he&&(we[Se+"other"]=we[Se+"Val"],we[Se+"otherLabel"]=we[Se+"Label"]),xe=(xe=S.hovertemplateString(ye,we,ue._d3locale,K.eventData[0]||{},K.trace._meta)).replace(L,function(ze,ke){return ge=Z(ke,K.nameLength),""})}return[xe,ge]}function J(K,ne){var ae=0,ue=K.offset;return ne&&(ue*=-A,ae=K.offset*b),{x:ae,y:ue}}function z(K,ne,ae,ue){var he=function(ge){return ge*ae},pe=function(ge){return ge*ue};K.each(function(ge){var xe=I.select(this);if(ge.del)return xe.remove();var Se,Te,ye,we,ze=xe.select("text.nums"),ke=ge.anchor,Ee="end"===ke?-1:1,me=(we=(ye=(Te={start:1,end:-1,middle:0}[(Se=ge).anchor])*(m+C))+Te*(Se.txwidth+C),"middle"===Se.anchor&&(ye-=Se.tx2width/2,we+=Se.txwidth/2+C),{alignShift:Te,textShiftX:ye,text2ShiftX:we}),de=J(ge,ne),ce=de.x,Ae=de.y,Ne="middle"===ke;xe.select("path").attr("d",Ne?"M-"+he(ge.bx/2+ge.tx2width/2)+","+pe(Ae-ge.by/2)+"h"+he(ge.bx)+"v"+pe(ge.by)+"h-"+he(ge.bx)+"Z":"M0,0L"+he(Ee*m+ce)+","+pe(m+Ae)+"v"+pe(ge.by/2-m)+"h"+he(Ee*ge.bx)+"v-"+pe(ge.by)+"H"+he(Ee*m+ce)+"V"+pe(Ae-m)+"Z");var De=ce+me.textShiftX,Ue=Ae+ge.ty0-ge.by/2+C,Ye=ge.textAlign||"auto";"auto"!==Ye&&("left"===Ye&&"start"!==ke?(ze.attr("text-anchor","start"),De=Ne?-ge.bx/2-ge.tx2width/2+C:-ge.bx-C):"right"===Ye&&"end"!==ke&&(ze.attr("text-anchor","end"),De=Ne?ge.bx/2-ge.tx2width/2-C:ge.bx+C)),ze.call(i.positionText,he(De),pe(Ue)),ge.tx2width&&(xe.select("text.name").call(i.positionText,he(me.text2ShiftX+me.alignShift*C+ce),pe(Ae+ge.ty0-ge.by/2+C)),xe.select("rect").call(a.setRect,he(me.text2ShiftX+(me.alignShift-1)*ge.tx2width/2+ce),pe(Ae-ge.by/2-1),he(ge.tx2width),pe(ge.by+2)))})}function Y(K,ne){var ae=K.index,ue=K.trace||{},he=K.cd[0],pe=K.cd[ae]||{};function ge(ze){return ze||E(ze)&&0===ze}var xe=Array.isArray(ae)?function(ze,ke){var Ee=S.castOption(he,ae,ze);return ge(Ee)?Ee:S.extractOption({},ue,"",ke)}:function(ze,ke){return S.extractOption(pe,ue,ze,ke)};function Se(ze,ke,Ee){var me=xe(ke,Ee);ge(me)&&(K[ze]=me)}if(Se("hoverinfo","hi","hoverinfo"),Se("bgcolor","hbg","hoverlabel.bgcolor"),Se("borderColor","hbc","hoverlabel.bordercolor"),Se("fontFamily","htf","hoverlabel.font.family"),Se("fontSize","hts","hoverlabel.font.size"),Se("fontColor","htc","hoverlabel.font.color"),Se("nameLength","hnl","hoverlabel.namelength"),Se("textAlign","hta","hoverlabel.align"),K.posref="y"===ne||"closest"===ne&&"h"===ue.orientation?K.xa._offset+(K.x0+K.x1)/2:K.ya._offset+(K.y0+K.y1)/2,K.x0=S.constrain(K.x0,0,K.xa._length),K.x1=S.constrain(K.x1,0,K.xa._length),K.y0=S.constrain(K.y0,0,K.ya._length),K.y1=S.constrain(K.y1,0,K.ya._length),void 0!==K.xLabelVal&&(K.xLabel="xLabel"in K?K.xLabel:c.hoverLabelText(K.xa,K.xLabelVal,ue.xhoverformat),K.xVal=K.xa.c2d(K.xLabelVal)),void 0!==K.yLabelVal&&(K.yLabel="yLabel"in K?K.yLabel:c.hoverLabelText(K.ya,K.yLabelVal,ue.yhoverformat),K.yVal=K.ya.c2d(K.yLabelVal)),void 0!==K.zLabelVal&&void 0===K.zLabel&&(K.zLabel=String(K.zLabelVal)),!(isNaN(K.xerr)||"log"===K.xa.type&&K.xerr<=0)){var Te=c.tickText(K.xa,K.xa.c2l(K.xerr),"hover").text;K.xLabel+=void 0!==K.xerrneg?" +"+Te+" / -"+c.tickText(K.xa,K.xa.c2l(K.xerrneg),"hover").text:" \xb1 "+Te,"x"===ne&&(K.distance+=1)}if(!(isNaN(K.yerr)||"log"===K.ya.type&&K.yerr<=0)){var ye=c.tickText(K.ya,K.ya.c2l(K.yerr),"hover").text;K.yLabel+=void 0!==K.yerrneg?" +"+ye+" / -"+c.tickText(K.ya,K.ya.c2l(K.yerrneg),"hover").text:" \xb1 "+ye,"y"===ne&&(K.distance+=1)}var we=K.hoverinfo||K.trace.hoverinfo;return we&&"all"!==we&&(-1===(we=Array.isArray(we)?we:we.split("+")).indexOf("x")&&(K.xLabel=void 0),-1===we.indexOf("y")&&(K.yLabel=void 0),-1===we.indexOf("z")&&(K.zLabel=void 0),-1===we.indexOf("text")&&(K.text=void 0),-1===we.indexOf("name")&&(K.name=void 0)),K}function q(K,ne,ae){var ue,he,pe=ae.container,ge=ae.fullLayout,xe=ge._size,Se=ae.event,Te=!!ne.hLinePoint,ye=!!ne.vLinePoint;if(pe.selectAll(".spikeline").remove(),ye||Te){var we=o.combine(ge.plot_bgcolor,ge.paper_bgcolor);if(Te){var ze,ke,Ee=ne.hLinePoint;ue=Ee&&Ee.xa,"cursor"===(he=Ee&&Ee.ya).spikesnap?(ze=Se.pointerX,ke=Se.pointerY):(ze=ue._offset+Ee.x,ke=he._offset+Ee.y);var me,de,ce=f.readability(Ee.color,we)<1.5?o.contrast(we):Ee.color,Ae=he.spikemode,Ne=he.spikethickness,De=he.spikecolor||ce,Ue=c.getPxPosition(K,he);if(-1!==Ae.indexOf("toaxis")||-1!==Ae.indexOf("across")){if(-1!==Ae.indexOf("toaxis")&&(me=Ue,de=ze),-1!==Ae.indexOf("across")){var Ye=he._counterDomainMin,_e=he._counterDomainMax;"free"===he.anchor&&(Ye=Math.min(Ye,he.position),_e=Math.max(_e,he.position)),me=xe.l+Ye*xe.w,de=xe.l+_e*xe.w}pe.insert("line",":first-child").attr({x1:me,x2:de,y1:ke,y2:ke,"stroke-width":Ne,stroke:De,"stroke-dasharray":a.dashStyle(he.spikedash,Ne)}).classed("spikeline",!0).classed("crisp",!0),pe.insert("line",":first-child").attr({x1:me,x2:de,y1:ke,y2:ke,"stroke-width":Ne+2,stroke:we}).classed("spikeline",!0).classed("crisp",!0)}-1!==Ae.indexOf("marker")&&pe.insert("circle",":first-child").attr({cx:Ue+("right"!==he.side?Ne:-Ne),cy:ke,r:Ne,fill:De}).classed("spikeline",!0)}if(ye){var Pe,Ie,Be=ne.vLinePoint;he=Be&&Be.ya,"cursor"===(ue=Be&&Be.xa).spikesnap?(Pe=Se.pointerX,Ie=Se.pointerY):(Pe=ue._offset+Be.x,Ie=he._offset+Be.y);var We,Ge,Ke=f.readability(Be.color,we)<1.5?o.contrast(we):Be.color,tt=ue.spikemode,st=ue.spikethickness,gt=ue.spikecolor||Ke,ct=c.getPxPosition(K,ue);if(-1!==tt.indexOf("toaxis")||-1!==tt.indexOf("across")){if(-1!==tt.indexOf("toaxis")&&(We=ct,Ge=Ie),-1!==tt.indexOf("across")){var kt=ue._counterDomainMin,Dt=ue._counterDomainMax;"free"===ue.anchor&&(kt=Math.min(kt,ue.position),Dt=Math.max(Dt,ue.position)),We=xe.t+(1-Dt)*xe.h,Ge=xe.t+(1-kt)*xe.h}pe.insert("line",":first-child").attr({x1:Pe,x2:Pe,y1:We,y2:Ge,"stroke-width":st,stroke:gt,"stroke-dasharray":a.dashStyle(ue.spikedash,st)}).classed("spikeline",!0).classed("crisp",!0),pe.insert("line",":first-child").attr({x1:Pe,x2:Pe,y1:We,y2:Ge,"stroke-width":st+2,stroke:we}).classed("spikeline",!0).classed("crisp",!0)}-1!==tt.indexOf("marker")&&pe.insert("circle",":first-child").attr({cx:Pe,cy:ct-("top"!==ue.side?st:-st),r:st,fill:gt}).classed("spikeline",!0)}}}function U(K,ne){return!ne||ne.vLinePoint!==K._spikepoints.vLinePoint||ne.hLinePoint!==K._spikepoints.hLinePoint}function Z(K,ne){return i.plainText(K||"",{len:ne,allowedTags:["br","sub","sup","b","i","em"]})}function X(K,ne,ae){var ue=ne[K+"a"],he=ne[K+"Val"],pe=ne.cd[0];if("category"===ue.type||"multicategory"===ue.type)he=ue._categoriesMap[he];else if("date"===ue.type){var ge=ne.trace[K+"periodalignment"];if(ge){var xe=ne.cd[ne.index],Se=xe[K+"Start"];void 0===Se&&(Se=xe[K]);var Te=xe[K+"End"];void 0===Te&&(Te=xe[K]);var ye=Te-Se;"end"===ge?he+=ye:"middle"===ge&&(he+=ye/2)}he=ue.d2c(he)}return pe&&pe.t&&pe.t.posLetter===ue._id&&("group"!==ae.boxmode&&"group"!==ae.violinmode||(he+=pe.t.dPos)),he}function se(K){return K.offsetTop+K.clientTop}function re(K){return K.offsetLeft+K.clientLeft}function ee(K,ne){var ae=K._fullLayout,ue=ne.getBoundingClientRect(),he=ue.left,pe=ue.top,ge=he+ue.width,xe=pe+ue.height,Se=S.apply3DTransform(ae._invTransform)(he,pe),Te=S.apply3DTransform(ae._invTransform)(ge,xe),ye=Se[0],we=Se[1],ze=Te[0],ke=Te[1];return{x:ye,y:we,width:ze-ye,height:ke-we,top:Math.min(we,ke),left:Math.min(ye,ze),right:Math.max(ye,ze),bottom:Math.max(we,ke)}}},38048:function(oe,j,r){"use strict";var I=r(71828),E=r(7901),f=r(23469).isUnifiedHover;oe.exports=function(S,M,y,u){u=u||{};var i=M.legend;function s(a){u.font[a]||(u.font[a]=i?M.legend.font[a]:M.font[a])}M&&f(M.hovermode)&&(u.font||(u.font={}),s("size"),s("family"),s("color"),i?(u.bgcolor||(u.bgcolor=E.combine(M.legend.bgcolor,M.paper_bgcolor)),u.bordercolor||(u.bordercolor=M.legend.bordercolor)):u.bgcolor||(u.bgcolor=M.paper_bgcolor)),y("hoverlabel.bgcolor",u.bgcolor),y("hoverlabel.bordercolor",u.bordercolor),y("hoverlabel.namelength",u.namelength),I.coerceFont(y,"hoverlabel.font",u.font),y("hoverlabel.align",u.align)}},98212:function(oe,j,r){"use strict";var I=r(71828),E=r(528);oe.exports=function(f,S){function M(y,u){return void 0!==S[y]?S[y]:I.coerce(f,S,E,y,u)}return M("clickmode"),M("hovermode")}},30211:function(oe,j,r){"use strict";var I=r(39898),E=r(71828),f=r(28569),S=r(23469),M=r(528),y=r(88335);oe.exports={moduleType:"component",name:"fx",constants:r(26675),schema:{layout:M},attributes:r(77914),layoutAttributes:M,supplyLayoutGlobalDefaults:r(22774),supplyDefaults:r(54268),supplyLayoutDefaults:r(34938),calc:r(30732),getDistanceFunction:S.getDistanceFunction,getClosest:S.getClosest,inbox:S.inbox,quadrature:S.quadrature,appendArrayPointValue:S.appendArrayPointValue,castHoverOption:function(u,i,s){return E.castOption(u,i,"hoverlabel."+s)},castHoverinfo:function(u,i,s){return E.castOption(u,s,"hoverinfo",function(a){return E.coerceHoverinfo({hoverinfo:a},{_module:u._module},i)})},hover:y.hover,unhover:f.unhover,loneHover:y.loneHover,loneUnhover:function(u){var i=E.isD3Selection(u)?u:I.select(u);i.selectAll("g.hovertext").remove(),i.selectAll(".spikeline").remove()},click:r(75914)}},528:function(oe,j,r){"use strict";var I=r(26675),E=r(41940),f=E({editType:"none"});f.family.dflt=I.HOVERFONT,f.size.dflt=I.HOVERFONTSIZE,oe.exports={clickmode:{valType:"flaglist",flags:["event","select"],dflt:"event",editType:"plot",extras:["none"]},dragmode:{valType:"enumerated",values:["zoom","pan","select","lasso","drawclosedpath","drawopenpath","drawline","drawrect","drawcircle","orbit","turntable",!1],dflt:"zoom",editType:"modebar"},hovermode:{valType:"enumerated",values:["x","y","closest",!1,"x unified","y unified"],dflt:"closest",editType:"modebar"},hoverdistance:{valType:"integer",min:-1,dflt:20,editType:"none"},spikedistance:{valType:"integer",min:-1,dflt:-1,editType:"none"},hoverlabel:{bgcolor:{valType:"color",editType:"none"},bordercolor:{valType:"color",editType:"none"},font:f,grouptitlefont:E({editType:"none"}),align:{valType:"enumerated",values:["left","right","auto"],dflt:"auto",editType:"none"},namelength:{valType:"integer",min:-1,dflt:15,editType:"none"},editType:"none"},selectdirection:{valType:"enumerated",values:["h","v","d","any"],dflt:"any",editType:"none"}}},34938:function(oe,j,r){"use strict";var I=r(71828),E=r(528),f=r(98212),S=r(38048);oe.exports=function(M,y){function u(o,l){return I.coerce(M,y,E,o,l)}f(M,y)&&(u("hoverdistance"),u("spikedistance")),"select"===u("dragmode")&&u("selectdirection");var i=y._has("mapbox"),s=y._has("geo"),a=y._basePlotModules.length;"zoom"===y.dragmode&&((i||s)&&1===a||i&&s&&2===a)&&(y.dragmode="pan"),S(M,y,u),I.coerceFont(u,"hoverlabel.grouptitlefont",y.hoverlabel.font)}},22774:function(oe,j,r){"use strict";var I=r(71828),E=r(38048),f=r(528);oe.exports=function(S,M){E(S,M,function(y,u){return I.coerce(S,M,f,y,u)})}},83312:function(oe,j,r){"use strict";var I=r(71828),E=r(30587).counter,f=r(27670).Y,S=r(85555).idRegex,M=r(44467),y={rows:{valType:"integer",min:1,editType:"plot"},roworder:{valType:"enumerated",values:["top to bottom","bottom to top"],dflt:"top to bottom",editType:"plot"},columns:{valType:"integer",min:1,editType:"plot"},subplots:{valType:"info_array",freeLength:!0,dimensions:2,items:{valType:"enumerated",values:[E("xy").toString(),""],editType:"plot"},editType:"plot"},xaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[S.x.toString(),""],editType:"plot"},editType:"plot"},yaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[S.y.toString(),""],editType:"plot"},editType:"plot"},pattern:{valType:"enumerated",values:["independent","coupled"],dflt:"coupled",editType:"plot"},xgap:{valType:"number",min:0,max:1,editType:"plot"},ygap:{valType:"number",min:0,max:1,editType:"plot"},domain:f({name:"grid",editType:"plot",noGridCell:!0},{}),xside:{valType:"enumerated",values:["bottom","bottom plot","top plot","top"],dflt:"bottom plot",editType:"plot"},yside:{valType:"enumerated",values:["left","left plot","right plot","right"],dflt:"left plot",editType:"plot"},editType:"plot"};function u(a,o,l){var c=o[l+"axes"],h=Object.keys((a._splomAxes||{})[l]||{});return Array.isArray(c)?c:h.length?h:void 0}function i(a,o,l,c,h,v){var p=o(a+"gap",l),T=o("domain."+a);o(a+"side",c);for(var _=new Array(h),g=T[0],w=(T[1]-g)/(h-p),x=w*(1-p),b=0;b<h;b++){var A=g+w*b;_[v?h-1-b:b]=[A,A+x]}return _}function s(a,o,l,c,h){var v,p=new Array(l);function T(_,g){-1!==o.indexOf(g)&&void 0===c[g]?(p[_]=g,c[g]=_):p[_]=""}if(Array.isArray(a))for(v=0;v<l;v++)T(v,a[v]);else for(T(0,h),v=1;v<l;v++)T(v,h+(v+1));return p}oe.exports={moduleType:"component",name:"grid",schema:{layout:{grid:y}},layoutAttributes:y,sizeDefaults:function(a,o){var l=a.grid||{},c=u(o,l,"x"),h=u(o,l,"y");if(a.grid||c||h){var v,p,T=Array.isArray(l.subplots)&&Array.isArray(l.subplots[0]),_=Array.isArray(c),g=Array.isArray(h),w=_&&c!==l.xaxes&&g&&h!==l.yaxes;T?(v=l.subplots.length,p=l.subplots[0].length):(g&&(v=h.length),_&&(p=c.length));var x=M.newContainer(o,"grid"),b=L("rows",v),A=L("columns",p);if(b*A>1){T||_||g||"independent"===L("pattern")&&(T=!0),x._hasSubplotGrid=T;var m,C,k="top to bottom"===L("roworder"),R=T?.3:.1;w&&o._splomGridDflt&&(m=o._splomGridDflt.xside,C=o._splomGridDflt.yside),x._domains={x:i("x",L,T?.2:.1,m,A),y:i("y",L,R,C,b,k)}}else delete o.grid}function L(N,B){return I.coerce(l,x,y,N,B)}},contentDefaults:function(a,o){var l=o.grid;if(l&&l._domains){var c,h,v,p,T,_,g,w=a.grid||{},x=o._subplots,b=l._hasSubplotGrid,A=l.rows,m=l.columns,C="independent"===l.pattern,k=l._axisMap={};if(b){var P=w.subplots||[];_=l.subplots=new Array(A);var R=1;for(c=0;c<A;c++){var L=_[c]=new Array(m),N=P[c]||[];for(h=0;h<m;h++)if(C?(T=1===R?"xy":"x"+R+"y"+R,R++):T=N[h],L[h]="",-1!==x.cartesian.indexOf(T)){if(g=T.indexOf("y"),v=T.slice(0,g),p=T.slice(g),void 0!==k[v]&&k[v]!==h||void 0!==k[p]&&k[p]!==c)continue;L[h]=T,k[v]=h,k[p]=c}}}else{var B=u(o,w,"x"),J=u(o,w,"y");l.xaxes=s(B,x.xaxis,m,k,"x"),l.yaxes=s(J,x.yaxis,A,k,"y")}var z=l._anchors={},Y="top to bottom"===l.roworder;for(var q in k){var U,Z,X,se=q.charAt(0),re=l[se+"side"];if(re.length<8)z[q]="free";else if("x"===se){if("t"===re.charAt(0)===Y?(U=0,Z=1,X=A):(U=A-1,Z=-1,X=-1),b){var ee=k[q];for(c=U;c!==X;c+=Z)if((T=_[c][ee])&&(g=T.indexOf("y"),T.slice(0,g)===q)){z[q]=T.slice(g);break}}else for(c=U;c!==X;c+=Z)if(-1!==x.cartesian.indexOf(q+(p=l.yaxes[c]))){z[q]=p;break}}else if("l"===re.charAt(0)?(U=0,Z=1,X=m):(U=m-1,Z=-1,X=-1),b){var K=k[q];for(c=U;c!==X;c+=Z)if((T=_[K][c])&&(g=T.indexOf("y"),T.slice(g)===q)){z[q]=T.slice(0,g);break}}else for(c=U;c!==X;c+=Z)if(-1!==x.cartesian.indexOf((v=l.xaxes[c])+q)){z[q]=v;break}}}}}},69819:function(oe,j,r){"use strict";var I=r(85555),E=r(44467).templatedArray;r(24695),oe.exports=E("image",{visible:{valType:"boolean",dflt:!0,editType:"arraydraw"},source:{valType:"string",editType:"arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},sizex:{valType:"number",dflt:0,editType:"arraydraw"},sizey:{valType:"number",dflt:0,editType:"arraydraw"},sizing:{valType:"enumerated",values:["fill","contain","stretch"],dflt:"contain",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},x:{valType:"any",dflt:0,editType:"arraydraw"},y:{valType:"any",dflt:0,editType:"arraydraw"},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",editType:"arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"top",editType:"arraydraw"},xref:{valType:"enumerated",values:["paper",I.idRegex.x.toString()],dflt:"paper",editType:"arraydraw"},yref:{valType:"enumerated",values:["paper",I.idRegex.y.toString()],dflt:"paper",editType:"arraydraw"},editType:"arraydraw"})},75378:function(oe,j,r){"use strict";var I=r(92770),E=r(58163);oe.exports=function(f,S,M,y){S=S||{};var u="log"===M&&"linear"===S.type;if(u||"linear"===M&&"log"===S.type)for(var s,a,o=f._fullLayout.images,l=S._id.charAt(0),c=0;c<o.length;c++)if(a="images["+c+"].",(s=o[c])[l+"ref"]===S._id){var h=s[l],v=s["size"+l],p=null,T=null;if(u){p=E(h,S.range);var _=v/Math.pow(10,p)/2;T=2*Math.log(_+Math.sqrt(1+_*_))/Math.LN10}else T=(p=Math.pow(10,h))*(Math.pow(10,v/2)-Math.pow(10,-v/2));I(p)?I(T)||(T=null):(p=null,T=null),y(a+l,p),y(a+"size"+l,T)}}},81603:function(oe,j,r){"use strict";var I=r(71828),E=r(89298),f=r(85501),S=r(69819);function M(y,u,i){function s(p,T){return I.coerce(y,u,S,p,T)}var a=s("source");if(!s("visible",!!a))return u;s("layer"),s("xanchor"),s("yanchor"),s("sizex"),s("sizey"),s("sizing"),s("opacity");for(var o={_fullLayout:i},l=["x","y"],c=0;c<2;c++){var h=l[c],v=E.coerceRef(y,u,o,h,"paper",void 0);"paper"!==v&&E.getFromId(o,v)._imgIndices.push(u._index),E.coercePosition(u,o,s,v,h,0)}return u}oe.exports=function(y,u){f(y,u,{name:"images",handleItemDefaults:M})}},80750:function(oe,j,r){"use strict";var I=r(39898),E=r(91424),f=r(89298),S=r(41675),M=r(77922);oe.exports=function(y){var u,i,s=y._fullLayout,a=[],o={},l=[];for(i=0;i<s.images.length;i++){var c=s.images[i];if(c.visible)if("below"===c.layer&&"paper"!==c.xref&&"paper"!==c.yref){u=S.ref2id(c.xref)+S.ref2id(c.yref);var h=s._plots[u];if(!h){l.push(c);continue}h.mainplot&&(u=h.mainplot.id),o[u]||(o[u]=[]),o[u].push(c)}else"above"===c.layer?a.push(c):l.push(c)}var v={left:{sizing:"xMin",offset:0},center:{sizing:"xMid",offset:-.5},right:{sizing:"xMax",offset:-1}},p={top:{sizing:"YMin",offset:0},middle:{sizing:"YMid",offset:-.5},bottom:{sizing:"YMax",offset:-1}};function T(m){var C=I.select(this);if(this._imgSrc!==m.source)if(C.attr("xmlns",M.svg),m.source&&"data:"===m.source.slice(0,5))C.attr("xlink:href",m.source),this._imgSrc=m.source;else{var k=new Promise(function(P){var R=new Image;function L(){C.remove(),P()}this.img=R,R.setAttribute("crossOrigin","anonymous"),R.onerror=L,R.onload=function(){var N=document.createElement("canvas");N.width=this.width,N.height=this.height,N.getContext("2d",{willReadFrequently:!0}).drawImage(this,0,0);var B=N.toDataURL("image/png");C.attr("xlink:href",B),P()},C.on("error",L),R.src=m.source,this._imgSrc=m.source}.bind(this));y._promises.push(k)}}function _(m){var C,k,P=I.select(this),R=f.getFromId(y,m.xref),L=f.getFromId(y,m.yref),N="domain"===f.getRefType(m.xref),B="domain"===f.getRefType(m.yref),J=s._size;C=void 0!==R?"string"==typeof m.xref&&N?R._length*m.sizex:Math.abs(R.l2p(m.sizex)-R.l2p(0)):m.sizex*J.w,k=void 0!==L?"string"==typeof m.yref&&B?L._length*m.sizey:Math.abs(L.l2p(m.sizey)-L.l2p(0)):m.sizey*J.h;var z,Y,q=C*v[m.xanchor].offset,U=k*p[m.yanchor].offset,Z=v[m.xanchor].sizing+p[m.yanchor].sizing;switch(z=void 0!==R?"string"==typeof m.xref&&N?R._length*m.x+R._offset:R.r2p(m.x)+R._offset:m.x*J.w+J.l,z+=q,Y=void 0!==L?"string"==typeof m.yref&&B?L._length*(1-m.y)+L._offset:L.r2p(m.y)+L._offset:J.h-m.y*J.h+J.t,Y+=U,m.sizing){case"fill":Z+=" slice";break;case"stretch":Z="none"}P.attr({x:z,y:Y,width:C,height:k,preserveAspectRatio:Z,opacity:m.opacity});var X=(R&&"domain"!==f.getRefType(m.xref)?R._id:"")+(L&&"domain"!==f.getRefType(m.yref)?L._id:"");E.setClipUrl(P,X?"clip"+s._uid+X:null,y)}var g=s._imageLowerLayer.selectAll("image").data(l),w=s._imageUpperLayer.selectAll("image").data(a);g.enter().append("image"),w.enter().append("image"),g.exit().remove(),w.exit().remove(),g.each(function(m){T.bind(this)(m),_.bind(this)(m)}),w.each(function(m){T.bind(this)(m),_.bind(this)(m)});var x=Object.keys(s._plots);for(i=0;i<x.length;i++){var b=s._plots[u=x[i]];if(b.imagelayer){var A=b.imagelayer.selectAll("image").data(o[u]||[]);A.enter().append("image"),A.exit().remove(),A.each(function(m){T.bind(this)(m),_.bind(this)(m)})}}}},68804:function(oe,j,r){"use strict";oe.exports={moduleType:"component",name:"images",layoutAttributes:r(69819),supplyLayoutDefaults:r(81603),includeBasePlot:r(76325)("images"),draw:r(80750),convertCoords:r(75378)}},33030:function(oe,j,r){"use strict";var I=r(41940),E=r(22399);oe.exports={_isSubplotObj:!0,visible:{valType:"boolean",dflt:!0,editType:"legend"},bgcolor:{valType:"color",editType:"legend"},bordercolor:{valType:"color",dflt:E.defaultLine,editType:"legend"},borderwidth:{valType:"number",min:0,dflt:0,editType:"legend"},font:I({editType:"legend"}),grouptitlefont:I({editType:"legend"}),orientation:{valType:"enumerated",values:["v","h"],dflt:"v",editType:"legend"},traceorder:{valType:"flaglist",flags:["reversed","grouped"],extras:["normal"],editType:"legend"},tracegroupgap:{valType:"number",min:0,dflt:10,editType:"legend"},entrywidth:{valType:"number",min:0,editType:"legend"},entrywidthmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels",editType:"legend"},itemsizing:{valType:"enumerated",values:["trace","constant"],dflt:"trace",editType:"legend"},itemwidth:{valType:"number",min:30,dflt:30,editType:"legend"},itemclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggle",editType:"legend"},itemdoubleclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggleothers",editType:"legend"},groupclick:{valType:"enumerated",values:["toggleitem","togglegroup"],dflt:"togglegroup",editType:"legend"},x:{valType:"number",editType:"legend"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"legend"},y:{valType:"number",editType:"legend"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],editType:"legend"},uirevision:{valType:"any",editType:"none"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"legend"},title:{text:{valType:"string",dflt:"",editType:"legend"},font:I({editType:"legend"}),side:{valType:"enumerated",values:["top","left","top left"],editType:"legend"},editType:"legend"},editType:"legend"}},14928:function(oe){"use strict";oe.exports={scrollBarWidth:6,scrollBarMinHeight:20,scrollBarColor:"#808BA4",scrollBarMargin:4,scrollBarEnterAttrs:{rx:20,ry:3,width:0,height:0},titlePad:2,itemGap:5}},99017:function(oe,j,r){"use strict";var I=r(73972),E=r(71828),f=r(44467),S=r(9012),M=r(33030),y=r(10820),u=r(10130);function i(s,a,o,l){var c=a[s]||{},h=f.newContainer(o,s);function v(Z,X){return E.coerce(c,h,M,Z,X)}var p=E.coerceFont(v,"font",o.font);if(v("bgcolor",o.paper_bgcolor),v("bordercolor"),v("visible")){for(var T,_=function(Z,X){return E.coerce(T._input,T,S,Z,X)},g=o.font||{},w=E.coerceFont(v,"grouptitlefont",E.extendFlat({},g,{size:Math.round(1.1*g.size)})),x=0,b=!1,A="normal",m=(o.shapes||[]).filter(function(Z){return Z.showlegend}),C=l.concat(m).filter(function(Z){return s===(Z.legend||"legend")}),k=0;k<C.length;k++)if((T=C[k]).visible){var P=T._isShape;(T.showlegend||T._dfltShowLegend&&!(T._module&&T._module.attributes&&T._module.attributes.showlegend&&!1===T._module.attributes.showlegend.dflt))&&(x++,T.showlegend&&(b=!0,(!P&&I.traceIs(T,"pie-like")||!0===T._input.showlegend)&&x++),E.coerceFont(_,"legendgrouptitle.font",w)),(!P&&I.traceIs(T,"bar")&&"stack"===o.barmode||-1!==["tonextx","tonexty"].indexOf(T.fill))&&(A=u.isGrouped({traceorder:A})?"grouped+reversed":"reversed"),void 0!==T.legendgroup&&""!==T.legendgroup&&(A=u.isReversed({traceorder:A})?"reversed+grouped":"grouped")}var R=E.coerce(a,o,y,"showlegend",b&&x>("legend"===s?1:0));if(!1===R&&(o[s]=void 0),(!1!==R||c.uirevision)&&(v("uirevision",o.uirevision),!1!==R)){v("borderwidth");var L,N,B,J="h"===v("orientation"),z="paper"===v("yref"),Y="paper"===v("xref"),q="left";if(J?(L=0,I.getComponentMethod("rangeslider","isVisible")(a.xaxis)?z?(N=1.1,B="bottom"):(N=1,B="top"):z?(N=-.1,B="top"):(N=0,B="bottom")):(N=1,B="auto",Y?L=1.02:(L=1,q="right")),E.coerce(c,h,{x:{valType:"number",editType:"legend",min:Y?-2:0,max:Y?3:1,dflt:L}},"x"),E.coerce(c,h,{y:{valType:"number",editType:"legend",min:z?-2:0,max:z?3:1,dflt:N}},"y"),v("traceorder",A),u.isGrouped(o[s])&&v("tracegroupgap"),v("entrywidth"),v("entrywidthmode"),v("itemsizing"),v("itemwidth"),v("itemclick"),v("itemdoubleclick"),v("groupclick"),v("xanchor",q),v("yanchor",B),v("valign"),E.noneOrAll(c,h,["x","y"]),v("title.text")){v("title.side",J?"left":"top");var U=E.extendFlat({},p,{size:E.bigFont(p.size)});E.coerceFont(v,"title.font",U)}}}}oe.exports=function(s,a,o){var l,c=o.slice(),h=a.shapes;if(h)for(l=0;l<h.length;l++){var v=h[l];v.showlegend&&c.push({_input:v._input,visible:v.visible,showlegend:v.showlegend,legend:v.legend})}var T=["legend"];for(l=0;l<c.length;l++)E.pushUnique(T,c[l].legend);for(a._legends=[],l=0;l<T.length;l++){var _=T[l];i(_,s,a,c),a[_]&&a[_].visible&&(a[_]._id=_),a._legends.push(_)}}},43969:function(oe,j,r){"use strict";var I=r(39898),E=r(71828),f=r(74875),S=r(73972),M=r(11086),y=r(28569),u=r(91424),i=r(7901),s=r(63893),a=r(85167),o=r(14928),l=r(18783),c=l.LINE_SPACING,h=l.FROM_TL,v=l.FROM_BR,p=r(82424),T=r(53630),_=r(10130),g=1,w=/^legend[0-9]*$/;function x(B,J){var z,Y,q=J||{},U=B._fullLayout,Z=N(q),X=q._inHover;if(X?(Y=q.layer,z="hover"):(Y=U._infolayer,z=Z),Y){var se;if(z+=U._uid,B._legendMouseDownTime||(B._legendMouseDownTime=0),X){if(!q.entries)return;se=p(q.entries,q)}else{for(var re=(B.calcdata||[]).slice(),ee=U.shapes,K=0;K<ee.length;K++){var ne=ee[K];ne.showlegend&&re.push([{trace:{_isShape:!0,_fullInput:ne,index:ne._index,name:ne.name||ne.label.text||"shape "+ne._index,legend:ne.legend,legendgroup:ne.legendgroup,legendgrouptitle:ne.legendgrouptitle,legendrank:ne.legendrank,legendwidth:ne.legendwidth,showlegend:ne.showlegend,visible:ne.visible,opacity:ne.opacity,mode:"line"===ne.type?"lines":"markers",line:ne.line,marker:{line:ne.line,color:ne.fillcolor,size:12,symbol:"rect"===ne.type?"square":"circle"===ne.type?"circle":"hexagon2"}}}])}se=U.showlegend&&p(re,q,U._legends.length>1)}var ue=U.hiddenlabels||[];if(!(X||U.showlegend&&se.length))return Y.selectAll("."+Z).remove(),U._topdefs.select("#"+z).remove(),f.autoMargin(B,Z);var he=E.ensureSingle(Y,"g",Z,function(ke){X||ke.attr("pointer-events","all")}),pe=E.ensureSingleById(U._topdefs,"clipPath",z,function(ke){ke.append("rect")}),ge=E.ensureSingle(he,"rect","bg",function(ke){ke.attr("shape-rendering","crispEdges")});ge.call(i.stroke,q.bordercolor).call(i.fill,q.bgcolor).style("stroke-width",q.borderwidth+"px");var xe=E.ensureSingle(he,"g","scrollbox"),Se=q.title;if(q._titleWidth=0,q._titleHeight=0,Se.text){var Te=E.ensureSingle(xe,"text",Z+"titletext");Te.attr("text-anchor","start").call(u.font,Se.font).text(Se.text),P(Te,xe,B,q,g)}else xe.selectAll("."+Z+"titletext").remove();var ye=E.ensureSingle(he,"rect","scrollbar",function(ke){ke.attr(o.scrollBarEnterAttrs).call(i.fill,o.scrollBarColor)}),we=xe.selectAll("g.groups").data(se);we.enter().append("g").attr("class","groups"),we.exit().remove();var ze=we.selectAll("g.traces").data(E.identity);ze.enter().append("g").attr("class","traces"),ze.exit().remove(),ze.style("opacity",function(ke){var Ee=ke[0].trace;return S.traceIs(Ee,"pie-like")?-1!==ue.indexOf(ke[0].label)?.5:1:"legendonly"===Ee.visible?.5:1}).each(function(){I.select(this).call(m,B,q)}).call(T,B,q).each(function(){X||I.select(this).call(k,B,Z)}),E.syncOrAsync([f.previousPromises,function(){return function(ke,Ee,me,de){var ce=ke._fullLayout,Ae=N(de);de||(de=ce[Ae]);var Ne=ce._size,De=_.isVertical(de),Ue=_.isGrouped(de),Ye="fraction"===de.entrywidthmode,_e=de.borderwidth,Pe=2*_e,Ie=o.itemGap,Be=de.itemwidth+2*Ie,We=2*(_e+Ie),Ge=L(de),Ke=de.y<0||0===de.y&&"top"===Ge,tt=de.y>1||1===de.y&&"bottom"===Ge,st=de.tracegroupgap,gt={};de._maxHeight=Math.max(Ke||tt?ce.height/2:Ne.h,30);var ct=0;de._width=0,de._height=0;var Mt,Tt,xt,Nt,kt=(Tt=0,xt=0,(Nt=(Mt=de).title.side)&&(-1!==Nt.indexOf("left")&&(Tt=Mt._titleWidth),-1!==Nt.indexOf("top")&&(xt=Mt._titleHeight)),[Tt,xt]);if(De)me.each(function(Mt){var Tt=Mt[0].height;u.setTranslate(this,_e+kt[0],_e+kt[1]+de._height+Tt/2+Ie),de._height+=Tt,de._width=Math.max(de._width,Mt[0].width)}),ct=Be+de._width,de._width+=Ie+Be+Pe,de._height+=We,Ue&&(Ee.each(function(Mt,Tt){u.setTranslate(this,0,Tt*de.tracegroupgap)}),de._height+=(de._lgroupsLength-1)*de.tracegroupgap);else{var Dt=R(de),Et=tt||Ke,Lt=ce.width/2;de._maxWidth=Math.max(de.x<0||0===de.x&&"right"===Dt?Et&&"left"===Dt?Ne.l+Ne.w:Lt:de.x>1||1===de.x&&"left"===Dt?Et&&"right"===Dt?Ne.r+Ne.w:Lt:Ne.w,2*Be);var Rt=0,Ut=0;me.each(function(Mt){var Tt=b(Mt,de,Be);Rt=Math.max(Rt,Tt),Ut+=Tt}),ct=null;var Bt=0;if(Ue){var rt=0,ot=0,Je=0;Ee.each(function(){var Mt=0,Tt=0;I.select(this).selectAll("g.traces").each(function(Nt){var bt=b(Nt,de,Be),wt=Nt[0].height;u.setTranslate(this,kt[0],kt[1]+_e+Ie+wt/2+Tt),Tt+=wt,Mt=Math.max(Mt,bt),gt[Nt[0].trace.legendgroup]=Mt});var xt=Mt+Ie;ot>0&&xt+_e+ot>de._maxWidth?(Bt=Math.max(Bt,ot),ot=0,Je+=rt+st,rt=Tt):rt=Math.max(rt,Tt),u.setTranslate(this,ot,Je),ot+=xt}),de._width=Math.max(Bt,ot)+_e,de._height=Je+rt+We}else{var it=me.size(),dt=Ut+Pe+(it-1)*Ie<de._maxWidth,ht=0,Ve=0,qe=0,ut=0;me.each(function(Mt){var Tt=Mt[0].height,xt=b(Mt,de,Be),Nt=dt?xt:Rt;Ye||(Nt+=Ie),Nt+_e+Ve-Ie>=de._maxWidth&&(Bt=Math.max(Bt,ut),Ve=0,qe+=ht,de._height+=ht,ht=0),u.setTranslate(this,kt[0]+_e+Ve,kt[1]+_e+qe+Tt/2+Ie),ut=Ve+xt+Ie,Ve+=Nt,ht=Math.max(ht,Tt)}),dt?(de._width=Ve+Pe,de._height=ht+We):(de._width=Math.max(Bt,ut)+Pe,de._height+=ht+We)}}de._width=Math.ceil(Math.max(de._width+kt[0],de._titleWidth+2*(_e+o.titlePad))),de._height=Math.ceil(Math.max(de._height+kt[1],de._titleHeight+2*(_e+o.itemGap))),de._effHeight=Math.min(de._height,de._maxHeight);var ft=ke._context.edits,St=ft.legendText||ft.legendPosition;me.each(function(Mt){var Tt=I.select(this).select("."+Ae+"toggle"),xt=Mt[0].height,Nt=Mt[0].trace.legendgroup,bt=b(Mt,de,Be);Ue&&""!==Nt&&(bt=gt[Nt]);var wt=St?Be:ct||bt;De||Ye||(wt+=Ie/2),u.setRect(Tt,0,-xt/2,wt,xt)})}(B,we,ze,q)},function(){var ke,Ee,me,de,ce=U._size,Ae=q.borderwidth,Ne="paper"===q.xref,De="paper"===q.yref;if(!X){var Ue,Ye;if(Ue=Ne?ce.l+ce.w*q.x-h[R(q)]*q._width:U.width*q.x-h[R(q)]*q._width,Ye=De?ce.t+ce.h*(1-q.y)-h[L(q)]*q._effHeight:U.height*(1-q.y)-h[L(q)]*q._effHeight,function(Et,Lt,Rt,Ut){var Bt=Et._fullLayout,rt=Bt[Lt],ot=R(rt),Je=L(rt),it="paper"===rt.xref,dt="paper"===rt.yref;Et._fullLayout._reservedMargin[Lt]={};var ht=rt.y<.5?"b":"t",Ve=rt.x<.5?"l":"r",qe={r:Bt.width-Rt,l:Rt+rt._width,b:Bt.height-Ut,t:Ut+rt._effHeight};if(it&&dt)return f.autoMargin(Et,Lt,{x:rt.x,y:rt.y,l:rt._width*h[ot],r:rt._width*v[ot],b:rt._effHeight*v[Je],t:rt._effHeight*h[Je]});it?Et._fullLayout._reservedMargin[Lt][ht]=qe[ht]:dt||"v"===rt.orientation?Et._fullLayout._reservedMargin[Lt][Ve]=qe[Ve]:Et._fullLayout._reservedMargin[Lt][ht]=qe[ht]}(B,Z,Ue,Ye))return;if(U.margin.autoexpand){var Pe=Ue,Ie=Ye;Ue=Ne?E.constrain(Ue,0,U.width-q._width):Pe,Ye=De?E.constrain(Ye,0,U.height-q._effHeight):Ie,Ue!==Pe&&E.log("Constrain "+Z+".x to make legend fit inside graph"),Ye!==Ie&&E.log("Constrain "+Z+".y to make legend fit inside graph")}u.setTranslate(he,Ue,Ye)}if(ye.on(".drag",null),he.on("wheel",null),X||q._height<=q._maxHeight||B._context.staticPlot){var Be=q._effHeight;X&&(Be=q._height),ge.attr({width:q._width-Ae,height:Be-Ae,x:Ae/2,y:Ae/2}),u.setTranslate(xe,0,0),pe.select("rect").attr({width:q._width-2*Ae,height:Be-2*Ae,x:Ae,y:Ae}),u.setClipUrl(xe,z,B),u.setRect(ye,0,0,0,0),delete q._scrollY}else{var We,Ke,tt=Math.max(o.scrollBarMinHeight,q._effHeight*q._effHeight/q._height),st=q._effHeight-tt-2*o.scrollBarMargin,gt=q._height-q._effHeight,ct=st/gt,kt=Math.min(q._scrollY||0,gt);ge.attr({width:q._width-2*Ae+o.scrollBarWidth+o.scrollBarMargin,height:q._effHeight-Ae,x:Ae/2,y:Ae/2}),pe.select("rect").attr({width:q._width-2*Ae+o.scrollBarWidth+o.scrollBarMargin,height:q._effHeight-2*Ae,x:Ae,y:Ae+kt}),u.setClipUrl(xe,z,B),mt(kt,tt,ct),he.on("wheel",function(){mt(kt=E.constrain(q._scrollY+I.event.deltaY/st*gt,0,gt),tt,ct),0!==kt&&kt!==gt&&I.event.preventDefault()});var Dt=I.behavior.drag().on("dragstart",function(){var Et=I.event.sourceEvent;We="touchstart"===Et.type?Et.changedTouches[0].clientY:Et.clientY,Ke=kt}).on("drag",function(){var Et=I.event.sourceEvent;2===Et.buttons||Et.ctrlKey||mt(kt=E.constrain((("touchmove"===Et.type?Et.changedTouches[0].clientY:Et.clientY)-We)/ct+Ke,0,gt),tt,ct)});ye.call(Dt);var vt=I.behavior.drag().on("dragstart",function(){var Et=I.event.sourceEvent;"touchstart"===Et.type&&(We=Et.changedTouches[0].clientY,Ke=kt)}).on("drag",function(){var Et=I.event.sourceEvent;"touchmove"===Et.type&&mt(kt=E.constrain((We-Et.changedTouches[0].clientY)/ct+Ke,0,gt),tt,ct)});xe.call(vt)}function mt(Et,Lt,Rt){q._scrollY=B._fullLayout[Z]._scrollY=Et,u.setTranslate(xe,0,-Et),u.setRect(ye,q._width,o.scrollBarMargin+Et*Rt,o.scrollBarWidth,Lt),pe.select("rect").attr("y",Ae+Et)}B._context.edits.legendPosition&&(he.classed("cursor-move",!0),y.init({element:he.node(),gd:B,prepFn:function(){var Et=u.getTranslate(he);me=Et.x,de=Et.y},moveFn:function(Et,Lt){var Rt=me+Et,Ut=de+Lt;u.setTranslate(he,Rt,Ut),ke=y.align(Rt,q._width,ce.l,ce.l+ce.w,q.xanchor),Ee=y.align(Ut+q._height,-q._height,ce.t+ce.h,ce.t,q.yanchor)},doneFn:function(){if(void 0!==ke&&void 0!==Ee){var Et={};Et[Z+".x"]=ke,Et[Z+".y"]=Ee,S.call("_guiRelayout",B,Et)}},clickFn:function(Et,Lt){var Rt=Y.selectAll("g.traces").filter(function(){var Ut=this.getBoundingClientRect();return Lt.clientX>=Ut.left&&Lt.clientX<=Ut.right&&Lt.clientY>=Ut.top&&Lt.clientY<=Ut.bottom});Rt.size()>0&&A(B,he,Rt,Et,Lt)}}))}],B)}}function b(B,J,z){var Y=B[0],Z=Y.trace.legendwidth||J.entrywidth;return"fraction"===J.entrywidthmode?J._maxWidth*Z:z+(Z||Y.width)}function A(B,J,z,Y,q){var U=z.data()[0][0].trace,Z={event:q,node:z.node(),curveNumber:U.index,expandedIndex:U._expandedIndex,data:B.data,layout:B.layout,frames:B._transitionData._frames,config:B._context,fullData:B._fullData,fullLayout:B._fullLayout};U._group&&(Z.group=U._group),S.traceIs(U,"pie-like")&&(Z.label=z.datum()[0].label),!1!==M.triggerHandler(B,"plotly_legendclick",Z)&&(1===Y?J._clickTimeout=setTimeout(function(){B._fullLayout&&a(z,B,Y)},B._context.doubleClickDelay):2===Y&&(J._clickTimeout&&clearTimeout(J._clickTimeout),B._legendMouseDownTime=0,!1!==M.triggerHandler(B,"plotly_legenddoubleclick",Z)&&a(z,B,Y)))}function m(B,J,z){var Y,q,U=N(z),Z=B.data()[0][0],X=Z.trace,se=S.traceIs(X,"pie-like"),re=!z._inHover&&J._context.edits.legendText&&!se,ee=z._maxNameLength;Z.groupTitle?(Y=Z.groupTitle.text,q=Z.groupTitle.font):(q=z.font,z.entries?Y=Z.text:(Y=se?Z.label:X.name,X._meta&&(Y=E.templateString(Y,X._meta))));var K=E.ensureSingle(B,"text",U+"text");K.attr("text-anchor","start").call(u.font,q).text(re?C(Y,ee):Y),s.positionText(K,z.itemwidth+2*o.itemGap,0),re?K.call(s.makeEditable,{gd:J,text:Y}).call(P,B,J,z).on("edit",function(ae){this.text(C(ae,ee)).call(P,B,J,z);var ue=Z.trace._fullInput||{},he={};if(S.hasTransform(ue,"groupby")){var pe=S.getTransformIndices(ue,"groupby"),xe=E.keyedContainer(ue,"transforms["+pe[pe.length-1]+"].styles","target","value.name");xe.set(Z.trace._group,ae),he=xe.constructUpdate()}else he.name=ae;return ue._isShape?S.call("_guiRelayout",J,"shapes["+X.index+"].name",he.name):S.call("_guiRestyle",J,he,X.index)}):P(K,B,J,z)}function C(B,J){var z=Math.max(4,J);if(B&&B.trim().length>=z/2)return B;for(var Y=z-(B=B||"").length;Y>0;Y--)B+=" ";return B}function k(B,J,z){var Y,q=J._context.doubleClickDelay,U=1,Z=E.ensureSingle(B,"rect",z+"toggle",function(X){J._context.staticPlot||X.style("cursor","pointer").attr("pointer-events","all"),X.call(i.fill,"rgba(0,0,0,0)")});J._context.staticPlot||(Z.on("mousedown",function(){(Y=(new Date).getTime())-J._legendMouseDownTime<q?U+=1:(U=1,J._legendMouseDownTime=Y)}),Z.on("mouseup",function(){if(!J._dragged&&!J._editing){var X=J._fullLayout[z];(new Date).getTime()-J._legendMouseDownTime>q&&(U=Math.max(U-1,1)),A(J,X,B,U,I.event)}}))}function P(B,J,z,Y,q){Y._inHover&&B.attr("data-notex",!0),s.convertToTspans(B,z,function(){!function(U,Z,X,se){var re=U.data()[0][0];if(X._inHover||!re||re.trace.showlegend){var ee=U.select("g[class*=math-group]"),K=ee.node(),ne=N(X);X||(X=Z._fullLayout[ne]);var ae,ue,he=X.borderwidth,pe=(se===g?X.title.font:re.groupTitle?re.groupTitle.font:X.font).size*c;if(K){var ge=u.bBox(K);ae=ge.height,ue=ge.width,se===g?u.setTranslate(ee,he,he+.75*ae):u.setTranslate(ee,0,.25*ae)}else{var Se=U.select("."+ne+(se===g?"title":"")+"text"),Te=s.lineCount(Se),ye=Se.node();if(ae=pe*Te,ue=ye?u.bBox(ye).width:0,se===g)"left"===X.title.side&&(ue+=2*o.itemGap),s.positionText(Se,he+o.titlePad,he+pe);else{var we=2*o.itemGap+X.itemwidth;re.groupTitle&&(we=o.itemGap,ue-=X.itemwidth),s.positionText(Se,we,-pe*((Te-1)/2-.3))}}se===g?(X._titleWidth=ue,X._titleHeight=ae):(re.lineHeight=pe,re.height=Math.max(ae,16)+3,re.width=ue)}else U.remove()}(J,z,Y,q)})}function R(B){return E.isRightAnchor(B)?"right":E.isCenterAnchor(B)?"center":"left"}function L(B){return E.isBottomAnchor(B)?"bottom":E.isMiddleAnchor(B)?"middle":"top"}function N(B){return B._id||"legend"}oe.exports=function(B,J){if(J)x(B,J);else{var z=B._fullLayout,Y=z._legends;z._infolayer.selectAll('[class^="legend"]').each(function(){var Z=I.select(this),X=Z.attr("class").split(" ")[0];X.match(w)&&-1===Y.indexOf(X)&&Z.remove()});for(var q=0;q<Y.length;q++)x(B,B._fullLayout[Y[q]])}}},82424:function(oe,j,r){"use strict";var I=r(73972),E=r(10130);oe.exports=function(f,S,M){var y,u,i=S._inHover,s=E.isGrouped(S),a=E.isReversed(S),o={},l=[],c=!1,h={},v=0,p=0;function T(Y,q,U){if(!1!==S.visible&&(!M||Y===S._id))if(""!==q&&E.isGrouped(S))-1===l.indexOf(q)?(l.push(q),c=!0,o[q]=[U]):o[q].push(U);else{var Z="~~i"+v;l.push(Z),o[Z]=[U],v++}}for(y=0;y<f.length;y++){var _=f[y],g=_[0],w=g.trace,x=w.legend,b=w.legendgroup;if(i||w.visible&&w.showlegend)if(I.traceIs(w,"pie-like"))for(h[b]||(h[b]={}),u=0;u<_.length;u++){var A=_[u].label;h[b][A]||(T(x,b,{label:A,color:_[u].color,i:_[u].i,trace:w,pts:_[u].pts}),h[b][A]=!0,p=Math.max(p,(A||"").length))}else T(x,b,g),p=Math.max(p,(w.name||"").length)}if(!l.length)return[];var m=!c||!s,C=[];for(y=0;y<l.length;y++){var k=o[l[y]];C.push(m?k[0]:k)}for(m&&(C=[C]),y=0;y<C.length;y++){var P=1/0;for(u=0;u<C[y].length;u++){var R=C[y][u].trace.legendrank;P>R&&(P=R)}C[y][0]._groupMinRank=P,C[y][0]._preGroupSort=y}var L=function(Y,q){return Y.trace.legendrank-q.trace.legendrank||Y._preSort-q._preSort};for(C.forEach(function(Y,q){Y[0]._preGroupSort=q}),C.sort(function(Y,q){return Y[0]._groupMinRank-q[0]._groupMinRank||Y[0]._preGroupSort-q[0]._preGroupSort}),y=0;y<C.length;y++){C[y].forEach(function(Y,q){Y._preSort=q}),C[y].sort(L);var N=C[y][0].trace,B=null;for(u=0;u<C[y].length;u++){var J=C[y][u].trace.legendgrouptitle;if(J&&J.text){B=J,i&&(J.font=S._groupTitleFont);break}}if(a&&C[y].reverse(),B){var z=!1;for(u=0;u<C[y].length;u++)if(I.traceIs(C[y][u].trace,"pie-like")){z=!0;break}C[y].unshift({i:-1,groupTitle:B,noClick:z,trace:{showlegend:N.showlegend,legendgroup:N.legendgroup,visible:"toggleitem"===S.groupclick||N.visible}})}for(u=0;u<C[y].length;u++)C[y][u]=[C[y][u]]}return S._lgroupsLength=C.length,S._maxNameLength=p,C}},85167:function(oe,j,r){"use strict";var I=r(73972),E=r(71828),f=E.pushUnique,S=!0;oe.exports=function(M,y,u){var i=y._fullLayout;if(!y._dragged&&!y._editing){var s,a=i.legend.itemclick,o=i.legend.itemdoubleclick,l=i.legend.groupclick;if(1===u&&"toggle"===a&&"toggleothers"===o&&S&&y.data&&y._context.showTips&&E.notifier(E._(y,"Double-click on legend to isolate one trace"),"long"),S=!1,1===u?s=a:2===u&&(s=o),s){var c="togglegroup"===l,h=i.hiddenlabels?i.hiddenlabels.slice():[],v=M.data()[0][0];if(!v.groupTitle||!v.noClick){var p=y._fullData,T=(i.shapes||[]).filter(function(Ee){return Ee.showlegend}),_=p.concat(T),g=v.trace;g._isShape&&(g=g._fullInput);var w,x,b,A,m,C=g.legendgroup,k={},P=[],R=[],L=[],N=(i.shapes||[]).map(function(Ee){return Ee._input}),B=!1,J=g.legend,z=g._fullInput;if(z&&z._isShape||!I.traceIs(g,"pie-like")){var Y,q=C&&C.length,U=[];if(q)for(w=0;w<_.length;w++)(Y=_[w]).visible&&Y.legendgroup===C&&U.push(w);if("toggle"===s){var Z;switch(g.visible){case!0:Z="legendonly";break;case!1:Z=!1;break;case"legendonly":Z=!0}if(q)if(c)for(w=0;w<_.length;w++){var X=_[w];!1!==X.visible&&X.legendgroup===C&&ke(X,Z)}else ke(g,Z);else ke(g,Z)}else if("toggleothers"===s){var se,re,K,ne=!0;for(w=0;w<_.length;w++)if(se=(K=_[w])===g,re=!0!==K.showlegend,!(se||re||q&&K.legendgroup===C||K.legend!==J||!0!==K.visible||I.traceIs(K,"notLegendIsolatable"))){ne=!1;break}for(w=0;w<_.length;w++)if(!1!==(K=_[w]).visible&&K.legend===J&&!I.traceIs(K,"notLegendIsolatable"))switch(g.visible){case"legendonly":ke(K,!0);break;case!0:re=!0!==K.showlegend&&!K.legendgroup,ke(K,!!((se=K===g)||q&&K.legendgroup===C||re)||!!ne||"legendonly")}}for(w=0;w<R.length;w++)if(b=R[w]){var ae=b.constructUpdate(),ue=Object.keys(ae);for(x=0;x<ue.length;x++)(k[A=ue[x]]=k[A]||[])[L[w]]=ae[A]}for(m=Object.keys(k),w=0;w<m.length;w++)for(A=m[w],x=0;x<P.length;x++)k[A].hasOwnProperty(x)||(k[A][x]=void 0);B?I.call("_guiUpdate",y,k,{shapes:N},P):I.call("_guiRestyle",y,k,P)}else{var he=v.label,pe=h.indexOf(he);if("toggle"===s)-1===pe?h.push(he):h.splice(pe,1);else if("toggleothers"===s){var ge=-1!==pe,xe=[];for(w=0;w<y.calcdata.length;w++){var Se=y.calcdata[w];for(x=0;x<Se.length;x++){var Te=Se[x].label;J===Se[0].trace.legend&&he!==Te&&(-1===h.indexOf(Te)&&(ge=!0),f(h,Te),xe.push(Te))}}if(!ge)for(var ye=0;ye<xe.length;ye++){var we=h.indexOf(xe[ye]);-1!==we&&h.splice(we,1)}}I.call("_guiRelayout",y,"hiddenlabels",h)}}}}function ze(Ee,me){var de=P.indexOf(Ee),ce=k.visible;return ce||(ce=k.visible=[]),-1===P.indexOf(Ee)&&(P.push(Ee),de=P.length-1),ce[de]=me,de}function ke(Ee,me){if(!v.groupTitle||c){var ce=Ee._fullInput||Ee,Ae=ce._isShape,Ne=ce.index;if(void 0===Ne&&(Ne=ce._index),I.hasTransform(ce,"groupby")){var De=R[Ne];if(!De){var Ue=I.getTransformIndices(ce,"groupby");De=E.keyedContainer(ce,"transforms["+Ue[Ue.length-1]+"].styles","target","value.visible"),R[Ne]=De}var _e=De.get(Ee._group);void 0===_e&&(_e=!0),!1!==_e&&De.set(Ee._group,me),L[Ne]=ze(Ne,!1!==ce.visible)}else{var Pe=!1!==ce.visible&&me;Ae?(N[Ne].visible=Pe,B=!0):ze(Ne,Pe)}}}}},10130:function(oe,j){"use strict";j.isGrouped=function(r){return-1!==(r.traceorder||"").indexOf("grouped")},j.isVertical=function(r){return"h"!==r.orientation},j.isReversed=function(r){return-1!==(r.traceorder||"").indexOf("reversed")}},2199:function(oe,j,r){"use strict";oe.exports={moduleType:"component",name:"legend",layoutAttributes:r(33030),supplyLayoutDefaults:r(99017),draw:r(43969),style:r(53630)}},53630:function(oe,j,r){"use strict";var I=r(39898),E=r(73972),f=r(71828),S=f.strTranslate,M=r(91424),y=r(7901),u=r(52075).extractOpts,i=r(34098),s=r(63463),a=r(53581).castOption,o=r(14928);function l(v,p){return(p?"radial":"horizontal")+(v?"":"reversed")}function c(v){var p=v[0].trace,T=p.contours,_=i.hasLines(p),g=i.hasMarkers(p),w=p.visible&&p.fill&&"none"!==p.fill,x=!1,b=!1;if(T){var A=T.coloring;"lines"===A?x=!0:_="none"===A||"heatmap"===A||T.showlines,"constraint"===T.type?w="="!==T._operation:"fill"!==A&&"heatmap"!==A||(b=!0)}return{showMarker:g,showLine:_,showFill:w,showGradientLine:x,showGradientFill:b,anyLine:_||x,anyFill:w||b}}function h(v,p,T){return v&&f.isArrayOrTypedArray(v)?p:v>T?T:v}oe.exports=function(v,p,T){T||(T=p._fullLayout.legend);var g="constant"===T.itemsizing,w=T.itemwidth,b=S((w+2*o.itemGap)/2,0),A=function(k,P,R,L){var N;if(k+1)N=k;else{if(!(P&&P.width>0))return 0;N=P.width}return g?L:Math.min(N,R)};function m(k,P,R){var L=k[0].trace,N=L.marker||{},B=N.line||{},J=R?L.visible&&L.type===R:E.traceIs(L,"bar"),z=I.select(P).select("g.legendpoints").selectAll("path.legend"+R).data(J?[k]:[]);z.enter().append("path").classed("legend"+R,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",b),z.exit().remove(),z.each(function(Y){var q=I.select(this),U=Y[0],Z=A(U.mlw,N.line,5,2);q.style("stroke-width",Z+"px");var X=U.mcc;if(!T._inHover&&"mc"in U){var se=u(N),re=se.mid;void 0===re&&(re=(se.max+se.min)/2),X=M.tryColorscale(N,"")(re)}var ee=X||U.mc||N.color,K=N.pattern,ne=K&&M.getPatternAttr(K.shape,0,"");if(ne){var ae=M.getPatternAttr(K.bgcolor,0,null),ue=M.getPatternAttr(K.fgcolor,0,null),he=K.fgopacity,pe=h(K.size,8,10),ge=h(K.solidity,.5,1);q.call(M.pattern,"legend",p,"legend-"+L.uid,ne,pe,ge,X,K.fillmode,ae,ue,he)}else q.call(y.fill,ee);Z&&y.stroke(q,U.mlc||B.color)})}function C(k,P,R){var L=k[0],N=L.trace,B=R?N.visible&&N.type===R:E.traceIs(N,R),J=I.select(P).select("g.legendpoints").selectAll("path.legend"+R).data(B?[k]:[]);if(J.enter().append("path").classed("legend"+R,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",b),J.exit().remove(),J.size()){var z=N.marker||{},Y=A(a(z.line.width,L.pts),z.line,5,2),q="pieLike",U=f.minExtend(N,{marker:{line:{width:Y}}},q),Z=f.minExtend(L,{trace:U},q);s(J,Z,U,p)}}v.each(function(k){var P=I.select(this),R=f.ensureSingle(P,"g","layers");R.style("opacity",k[0].trace.opacity);var L=T.valign,N=k[0].lineHeight,B=k[0].height;R.attr("transform","middle"!==L&&N&&B?S(0,{top:1,bottom:-1}[L]*(.5*(N-B+3))):null),R.selectAll("g.legendfill").data([k]).enter().append("g").classed("legendfill",!0),R.selectAll("g.legendlines").data([k]).enter().append("g").classed("legendlines",!0);var z=R.selectAll("g.legendsymbols").data([k]);z.enter().append("g").classed("legendsymbols",!0),z.selectAll("g.legendpoints").data([k]).enter().append("g").classed("legendpoints",!0)}).each(function(k){var P,R=k[0].trace,L=[];if(R.visible)switch(R.type){case"histogram2d":case"heatmap":L=[["M-15,-2V4H15V-2Z"]],P=!0;break;case"choropleth":case"choroplethmapbox":L=[["M-6,-6V6H6V-6Z"]],P=!0;break;case"densitymapbox":L=[["M-6,0 a6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"]],P="radial";break;case"cone":L=[["M-6,2 A2,2 0 0,0 -6,6 V6L6,4Z"],["M-6,-6 A2,2 0 0,0 -6,-2 L6,-4Z"],["M-6,-2 A2,2 0 0,0 -6,2 L6,0Z"]],P=!1;break;case"streamtube":L=[["M-6,2 A2,2 0 0,0 -6,6 H6 A2,2 0 0,1 6,2 Z"],["M-6,-6 A2,2 0 0,0 -6,-2 H6 A2,2 0 0,1 6,-6 Z"],["M-6,-2 A2,2 0 0,0 -6,2 H6 A2,2 0 0,1 6,-2 Z"]],P=!1;break;case"surface":L=[["M-6,-6 A2,3 0 0,0 -6,0 H6 A2,3 0 0,1 6,-6 Z"],["M-6,1 A2,3 0 0,1 -6,6 H6 A2,3 0 0,0 6,0 Z"]],P=!0;break;case"mesh3d":L=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],P=!1;break;case"volume":L=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],P=!0;break;case"isosurface":L=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6 A12,24 0 0,0 6,-6 L0,6Z"]],P=!1}var N=I.select(this).select("g.legendpoints").selectAll("path.legend3dandfriends").data(L);N.enter().append("path").classed("legend3dandfriends",!0).attr("transform",b).style("stroke-miterlimit",1),N.exit().remove(),N.each(function(B,J){var z,Y=I.select(this),q=u(R),U=q.colorscale,Z=q.reversescale;if(U){if(!P){var X=U.length;z=0===J?U[Z?X-1:0][1]:1===J?U[Z?0:X-1][1]:U[Math.floor((X-1)/2)][1]}}else{var se=R.vertexcolor||R.facecolor||R.color;z=f.isArrayOrTypedArray(se)?se[J]||se[0]:se}Y.attr("d",B[0]),z?Y.call(y.fill,z):Y.call(function(re){re.size()&&M.gradient(re,p,"legendfill-"+R.uid,l(Z,"radial"===P),U,"fill")})})}).each(function(k){var P=k[0].trace,R="waterfall"===P.type;if(k[0]._distinct&&R){var L=k[0].trace[k[0].dir].marker;return k[0].mc=L.color,k[0].mlw=L.line.width,k[0].mlc=L.line.color,m(k,this,"waterfall")}var N=[];P.visible&&R&&(N=k[0].hasTotals?[["increasing","M-6,-6V6H0Z"],["totals","M6,6H0L-6,-6H-0Z"],["decreasing","M6,6V-6H0Z"]]:[["increasing","M-6,-6V6H6Z"],["decreasing","M6,6V-6H-6Z"]]);var B=I.select(this).select("g.legendpoints").selectAll("path.legendwaterfall").data(N);B.enter().append("path").classed("legendwaterfall",!0).attr("transform",b).style("stroke-miterlimit",1),B.exit().remove(),B.each(function(J){var z=I.select(this),Y=P[J[0]].marker,q=A(void 0,Y.line,5,2);z.attr("d",J[1]).style("stroke-width",q+"px").call(y.fill,Y.color),q&&z.call(y.stroke,Y.line.color)})}).each(function(k){m(k,this,"funnel")}).each(function(k){m(k,this)}).each(function(k){var P=k[0].trace,R=I.select(this).select("g.legendpoints").selectAll("path.legendbox").data(P.visible&&E.traceIs(P,"box-violin")?[k]:[]);R.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform",b),R.exit().remove(),R.each(function(){var L=I.select(this);if("all"!==P.boxpoints&&"all"!==P.points||0!==y.opacity(P.fillcolor)||0!==y.opacity((P.line||{}).color)){var N=A(void 0,P.line,5,2);L.style("stroke-width",N+"px").call(y.fill,P.fillcolor),N&&y.stroke(L,P.line.color)}else{var B=f.minExtend(P,{marker:{size:g?12:f.constrain(P.marker.size,2,16),sizeref:1,sizemin:1,sizemode:"diameter"}});R.call(M.pointStyle,B,p)}})}).each(function(k){C(k,this,"funnelarea")}).each(function(k){C(k,this,"pie")}).each(function(k){var P,R,L=c(k),N=L.showFill,B=L.showLine,J=L.showGradientLine,z=L.showGradientFill,Y=L.anyFill,q=L.anyLine,U=k[0],Z=U.trace,X=u(Z),se=X.colorscale,re=X.reversescale,ee=i.hasMarkers(Z)||!Y?"M5,0":q?"M5,-2":"M5,-3",K=I.select(this),ne=K.select(".legendfill").selectAll("path").data(N||z?[k]:[]);if(ne.enter().append("path").classed("js-fill",!0),ne.exit().remove(),ne.attr("d",ee+"h"+w+"v6h-"+w+"z").call(function(he){he.size()&&(N?M.fillGroupStyle(he,p):M.gradient(he,p,"legendfill-"+Z.uid,l(re),se,"fill"))}),B||J){var ae=A(void 0,Z.line,10,5);R=f.minExtend(Z,{line:{width:ae}}),P=[f.minExtend(U,{trace:R})]}var ue=K.select(".legendlines").selectAll("path").data(B||J?[P]:[]);ue.enter().append("path").classed("js-line",!0),ue.exit().remove(),ue.attr("d",ee+(J?"l"+w+",0.0001":"h"+w)).call(B?M.lineGroupStyle:function(he){if(he.size()){var pe="legendline-"+Z.uid;M.lineGroupStyle(he),M.gradient(he,p,pe,l(re),se,"stroke")}})}).each(function(k){var P,R,L=c(k),J=L.showLine,z=L.showMarker,Y=k[0],q=Y.trace,U=!z&&!L.anyLine&&!L.anyFill&&i.hasText(q);function Z(ue,he,pe,ge){var xe=f.nestedProperty(q,ue).get(),Se=f.isArrayOrTypedArray(xe)&&he?he(xe):xe;if(g&&Se&&void 0!==ge&&(Se=ge),pe){if(Se<pe[0])return pe[0];if(Se>pe[1])return pe[1]}return Se}function X(ue){return Y._distinct&&Y.index&&ue[Y.index]?ue[Y.index]:ue[0]}if(z||U||J){var se={},re={};if(z){se.mc=Z("marker.color",X),se.mx=Z("marker.symbol",X),se.mo=Z("marker.opacity",f.mean,[.2,1]),se.mlc=Z("marker.line.color",X),se.mlw=Z("marker.line.width",f.mean,[0,5],2),re.marker={sizeref:1,sizemin:1,sizemode:"diameter"};var ee=Z("marker.size",f.mean,[2,16],12);se.ms=ee,re.marker.size=ee}J&&(re.line={width:Z("line.width",X,[0,10],5)}),U&&(se.tx="Aa",se.tp=Z("textposition",X),se.ts=10,se.tc=Z("textfont.color",X),se.tf=Z("textfont.family",X)),P=[f.minExtend(Y,se)],(R=f.minExtend(q,re)).selectedpoints=null,R.texttemplate=null}var K=I.select(this).select("g.legendpoints"),ne=K.selectAll("path.scatterpts").data(z?P:[]);ne.enter().insert("path",":first-child").classed("scatterpts",!0).attr("transform",b),ne.exit().remove(),ne.call(M.pointStyle,R,p),z&&(P[0].mrc=3);var ae=K.selectAll("g.pointtext").data(U?P:[]);ae.enter().append("g").classed("pointtext",!0).append("text").attr("transform",b),ae.exit().remove(),ae.selectAll("text").call(M.textPointStyle,R,p)}).each(function(k){var P=k[0].trace,R=I.select(this).select("g.legendpoints").selectAll("path.legendcandle").data(P.visible&&"candlestick"===P.type?[k,k]:[]);R.enter().append("path").classed("legendcandle",!0).attr("d",function(L,N){return N?"M-15,0H-8M-8,6V-6H8Z":"M15,0H8M8,-6V6H-8Z"}).attr("transform",b).style("stroke-miterlimit",1),R.exit().remove(),R.each(function(L,N){var B=I.select(this),J=P[N?"increasing":"decreasing"],z=A(void 0,J.line,5,2);B.style("stroke-width",z+"px").call(y.fill,J.fillcolor),z&&y.stroke(B,J.line.color)})}).each(function(k){var P=k[0].trace,R=I.select(this).select("g.legendpoints").selectAll("path.legendohlc").data(P.visible&&"ohlc"===P.type?[k,k]:[]);R.enter().append("path").classed("legendohlc",!0).attr("d",function(L,N){return N?"M-15,0H0M-8,-6V0":"M15,0H0M8,6V0"}).attr("transform",b).style("stroke-miterlimit",1),R.exit().remove(),R.each(function(L,N){var B=I.select(this),J=P[N?"increasing":"decreasing"],z=A(void 0,J.line,5,2);B.style("fill","none").call(M.dashLine,J.line.dash,z),z&&y.stroke(B,J.line.color)})})}},42068:function(oe,j,r){"use strict";r(93348),oe.exports={editType:"modebar",orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"modebar"},bgcolor:{valType:"color",editType:"modebar"},color:{valType:"color",editType:"modebar"},activecolor:{valType:"color",editType:"modebar"},uirevision:{valType:"any",editType:"none"},add:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"},remove:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"}}},26023:function(oe,j,r){"use strict";var I=r(73972),E=r(74875),f=r(41675),S=r(24255),M=r(34031).eraseActiveShape,y=r(71828),u=y._,i=oe.exports={};function s(_,g){var w,x,b=g.currentTarget,A=b.getAttribute("data-attr"),m=b.getAttribute("data-val")||!0,C=_._fullLayout,k={},P=f.list(_,null,!0),R=C._cartesianSpikesEnabled;if("zoom"===A){var L,N="in"===m?.5:2,B=(1+N)/2,J=(1-N)/2;for(x=0;x<P.length;x++)if(!(w=P[x]).fixedrange)if(L=w._name,"auto"===m)k[L+".autorange"]=!0;else if("reset"===m){if(void 0===w._rangeInitial)k[L+".autorange"]=!0;else{var z=w._rangeInitial.slice();k[L+".range[0]"]=z[0],k[L+".range[1]"]=z[1]}void 0!==w._showSpikeInitial&&(k[L+".showspikes"]=w._showSpikeInitial,"on"!==R||w._showSpikeInitial||(R="off"))}else{var Y=[w.r2l(w.range[0]),w.r2l(w.range[1])],q=[B*Y[0]+J*Y[1],B*Y[1]+J*Y[0]];k[L+".range[0]"]=w.l2r(q[0]),k[L+".range[1]"]=w.l2r(q[1])}}else"hovermode"!==A||"x"!==m&&"y"!==m||b.setAttribute("data-val",m=C._isHoriz?"y":"x"),k[A]=m;C._cartesianSpikesEnabled=R,I.call("_guiRelayout",_,k)}function a(_,g){for(var w=g.currentTarget,x=w.getAttribute("data-attr"),b=w.getAttribute("data-val")||!0,A=_._fullLayout._subplots.gl3d||[],m={},C=x.split("."),k=0;k<A.length;k++)m[A[k]+"."+C[1]]=b;m.dragmode="pan"===b?b:"zoom",I.call("_guiRelayout",_,m)}function o(_,g){for(var w=g.currentTarget.getAttribute("data-attr"),x="resetLastSave"===w,b="resetDefault"===w,A=_._fullLayout,m=A._subplots.gl3d||[],C={},k=0;k<m.length;k++){var P,R=m[k],L=R+".camera",N=R+".aspectratio",B=R+".aspectmode",J=A[R]._scene;x?(C[L+".up"]=J.viewInitial.up,C[L+".eye"]=J.viewInitial.eye,C[L+".center"]=J.viewInitial.center,P=!0):b&&(C[L+".up"]=null,C[L+".eye"]=null,C[L+".center"]=null,P=!0),P&&(C[N+".x"]=J.viewInitial.aspectratio.x,C[N+".y"]=J.viewInitial.aspectratio.y,C[N+".z"]=J.viewInitial.aspectratio.z,C[B]=J.viewInitial.aspectmode)}I.call("_guiRelayout",_,C)}function l(_,g){var w=g.currentTarget,x=w._previousVal,b=_._fullLayout,A=b._subplots.gl3d||[],m=["xaxis","yaxis","zaxis"],C={},k={};if(x)k=x,w._previousVal=null;else{for(var P=0;P<A.length;P++){var R=A[P],L=b[R],N=R+".hovermode";C[N]=L.hovermode,k[N]=!1;for(var B=0;B<3;B++){var J=m[B],z=R+"."+J+".showspikes";k[z]=!1,C[z]=L[J].showspikes}}w._previousVal=C}return k}function c(_,g){for(var w=g.currentTarget,x=w.getAttribute("data-attr"),b=w.getAttribute("data-val")||!0,A=_._fullLayout,m=A._subplots.geo||[],C=0;C<m.length;C++){var k=m[C];if("zoom"===x){var R=A[k].projection.scale;I.call("_guiRelayout",_,k+".projection.scale","in"===b?2*R:.5*R)}}"reset"===x&&T(_,"geo")}function h(_){var g=_._fullLayout;return!g.hovermode&&(g._has("cartesian")?g._isHoriz?"y":"x":"closest")}function v(_){var g=h(_);I.call("_guiRelayout",_,"hovermode",g)}function p(_,g){for(var w=g.currentTarget.getAttribute("data-val"),x=_._fullLayout,b=x._subplots.mapbox||[],A={},m=0;m<b.length;m++){var C=b[m],k=x[C].zoom;A[C+".zoom"]="in"===w?1.05*k:k/1.05}I.call("_guiRelayout",_,A)}function T(_,g){for(var w=_._fullLayout,x=w._subplots[g]||[],b={},A=0;A<x.length;A++)for(var m=x[A],C=w[m]._subplot.viewInitial,k=Object.keys(C),P=0;P<k.length;P++){var R=k[P];b[m+"."+R]=C[R]}I.call("_guiRelayout",_,b)}i.toImage={name:"toImage",title:function(_){return u(_,"png"===((_._context.toImageButtonOptions||{}).format||"png")?"Download plot as a png":"Download plot")},icon:S.camera,click:function(_){var g=_._context.toImageButtonOptions,w={format:g.format||"png"};y.notifier(u(_,"Taking snapshot - this may take a few seconds"),"long"),"svg"!==w.format&&y.isIE()&&(y.notifier(u(_,"IE only supports svg.  Changing format to svg."),"long"),w.format="svg"),["filename","width","height","scale"].forEach(function(x){x in g&&(w[x]=g[x])}),I.call("downloadImage",_,w).then(function(x){y.notifier(u(_,"Snapshot succeeded")+" - "+x,"long")}).catch(function(){y.notifier(u(_,"Sorry, there was a problem downloading your snapshot!"),"long")})}},i.sendDataToCloud={name:"sendDataToCloud",title:function(_){return u(_,"Edit in Chart Studio")},icon:S.disk,click:function(_){E.sendDataToCloud(_)}},i.editInChartStudio={name:"editInChartStudio",title:function(_){return u(_,"Edit in Chart Studio")},icon:S.pencil,click:function(_){E.sendDataToCloud(_)}},i.zoom2d={name:"zoom2d",_cat:"zoom",title:function(_){return u(_,"Zoom")},attr:"dragmode",val:"zoom",icon:S.zoombox,click:s},i.pan2d={name:"pan2d",_cat:"pan",title:function(_){return u(_,"Pan")},attr:"dragmode",val:"pan",icon:S.pan,click:s},i.select2d={name:"select2d",_cat:"select",title:function(_){return u(_,"Box Select")},attr:"dragmode",val:"select",icon:S.selectbox,click:s},i.lasso2d={name:"lasso2d",_cat:"lasso",title:function(_){return u(_,"Lasso Select")},attr:"dragmode",val:"lasso",icon:S.lasso,click:s},i.drawclosedpath={name:"drawclosedpath",title:function(_){return u(_,"Draw closed freeform")},attr:"dragmode",val:"drawclosedpath",icon:S.drawclosedpath,click:s},i.drawopenpath={name:"drawopenpath",title:function(_){return u(_,"Draw open freeform")},attr:"dragmode",val:"drawopenpath",icon:S.drawopenpath,click:s},i.drawline={name:"drawline",title:function(_){return u(_,"Draw line")},attr:"dragmode",val:"drawline",icon:S.drawline,click:s},i.drawrect={name:"drawrect",title:function(_){return u(_,"Draw rectangle")},attr:"dragmode",val:"drawrect",icon:S.drawrect,click:s},i.drawcircle={name:"drawcircle",title:function(_){return u(_,"Draw circle")},attr:"dragmode",val:"drawcircle",icon:S.drawcircle,click:s},i.eraseshape={name:"eraseshape",title:function(_){return u(_,"Erase active shape")},icon:S.eraseshape,click:M},i.zoomIn2d={name:"zoomIn2d",_cat:"zoomin",title:function(_){return u(_,"Zoom in")},attr:"zoom",val:"in",icon:S.zoom_plus,click:s},i.zoomOut2d={name:"zoomOut2d",_cat:"zoomout",title:function(_){return u(_,"Zoom out")},attr:"zoom",val:"out",icon:S.zoom_minus,click:s},i.autoScale2d={name:"autoScale2d",_cat:"autoscale",title:function(_){return u(_,"Autoscale")},attr:"zoom",val:"auto",icon:S.autoscale,click:s},i.resetScale2d={name:"resetScale2d",_cat:"resetscale",title:function(_){return u(_,"Reset axes")},attr:"zoom",val:"reset",icon:S.home,click:s},i.hoverClosestCartesian={name:"hoverClosestCartesian",_cat:"hoverclosest",title:function(_){return u(_,"Show closest data on hover")},attr:"hovermode",val:"closest",icon:S.tooltip_basic,gravity:"ne",click:s},i.hoverCompareCartesian={name:"hoverCompareCartesian",_cat:"hoverCompare",title:function(_){return u(_,"Compare data on hover")},attr:"hovermode",val:function(_){return _._fullLayout._isHoriz?"y":"x"},icon:S.tooltip_compare,gravity:"ne",click:s},i.zoom3d={name:"zoom3d",_cat:"zoom",title:function(_){return u(_,"Zoom")},attr:"scene.dragmode",val:"zoom",icon:S.zoombox,click:a},i.pan3d={name:"pan3d",_cat:"pan",title:function(_){return u(_,"Pan")},attr:"scene.dragmode",val:"pan",icon:S.pan,click:a},i.orbitRotation={name:"orbitRotation",title:function(_){return u(_,"Orbital rotation")},attr:"scene.dragmode",val:"orbit",icon:S["3d_rotate"],click:a},i.tableRotation={name:"tableRotation",title:function(_){return u(_,"Turntable rotation")},attr:"scene.dragmode",val:"turntable",icon:S["z-axis"],click:a},i.resetCameraDefault3d={name:"resetCameraDefault3d",_cat:"resetCameraDefault",title:function(_){return u(_,"Reset camera to default")},attr:"resetDefault",icon:S.home,click:o},i.resetCameraLastSave3d={name:"resetCameraLastSave3d",_cat:"resetCameraLastSave",title:function(_){return u(_,"Reset camera to last save")},attr:"resetLastSave",icon:S.movie,click:o},i.hoverClosest3d={name:"hoverClosest3d",_cat:"hoverclosest",title:function(_){return u(_,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:S.tooltip_basic,gravity:"ne",click:function(_,g){var w=l(_,g);I.call("_guiRelayout",_,w)}},i.zoomInGeo={name:"zoomInGeo",_cat:"zoomin",title:function(_){return u(_,"Zoom in")},attr:"zoom",val:"in",icon:S.zoom_plus,click:c},i.zoomOutGeo={name:"zoomOutGeo",_cat:"zoomout",title:function(_){return u(_,"Zoom out")},attr:"zoom",val:"out",icon:S.zoom_minus,click:c},i.resetGeo={name:"resetGeo",_cat:"reset",title:function(_){return u(_,"Reset")},attr:"reset",val:null,icon:S.autoscale,click:c},i.hoverClosestGeo={name:"hoverClosestGeo",_cat:"hoverclosest",title:function(_){return u(_,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:S.tooltip_basic,gravity:"ne",click:v},i.hoverClosestGl2d={name:"hoverClosestGl2d",_cat:"hoverclosest",title:function(_){return u(_,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:S.tooltip_basic,gravity:"ne",click:v},i.hoverClosestPie={name:"hoverClosestPie",_cat:"hoverclosest",title:function(_){return u(_,"Toggle show closest data on hover")},attr:"hovermode",val:"closest",icon:S.tooltip_basic,gravity:"ne",click:v},i.resetViewSankey={name:"resetSankeyGroup",title:function(_){return u(_,"Reset view")},icon:S.home,click:function(_){for(var g={"node.groups":[],"node.x":[],"node.y":[]},w=0;w<_._fullData.length;w++){var x=_._fullData[w]._viewInitial;g["node.groups"].push(x.node.groups.slice()),g["node.x"].push(x.node.x.slice()),g["node.y"].push(x.node.y.slice())}I.call("restyle",_,g)}},i.toggleHover={name:"toggleHover",title:function(_){return u(_,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:S.tooltip_basic,gravity:"ne",click:function(_,g){var w=l(_,g);w.hovermode=h(_),I.call("_guiRelayout",_,w)}},i.resetViews={name:"resetViews",title:function(_){return u(_,"Reset views")},icon:S.home,click:function(_,g){var w=g.currentTarget;w.setAttribute("data-attr","zoom"),w.setAttribute("data-val","reset"),s(_,g),w.setAttribute("data-attr","resetLastSave"),o(_,g),T(_,"geo"),T(_,"mapbox")}},i.toggleSpikelines={name:"toggleSpikelines",title:function(_){return u(_,"Toggle Spike Lines")},icon:S.spikeline,attr:"_cartesianSpikesEnabled",val:"on",click:function(_){var g=_._fullLayout;g._cartesianSpikesEnabled="on"===g._cartesianSpikesEnabled?"off":"on",I.call("_guiRelayout",_,function(x){for(var b="on"===x._fullLayout._cartesianSpikesEnabled,A=f.list(x,null,!0),m={},C=0;C<A.length;C++){var k=A[C];m[k._name+".showspikes"]=!!b||k._showSpikeInitial}return m}(_))}},i.resetViewMapbox={name:"resetViewMapbox",_cat:"resetView",title:function(_){return u(_,"Reset view")},attr:"reset",icon:S.home,click:function(_){T(_,"mapbox")}},i.zoomInMapbox={name:"zoomInMapbox",_cat:"zoomin",title:function(_){return u(_,"Zoom in")},attr:"zoom",val:"in",icon:S.zoom_plus,click:p},i.zoomOutMapbox={name:"zoomOutMapbox",_cat:"zoomout",title:function(_){return u(_,"Zoom out")},attr:"zoom",val:"out",icon:S.zoom_minus,click:p}},93348:function(oe,j,r){"use strict";var I=r(26023),E=Object.keys(I),f=["drawline","drawopenpath","drawclosedpath","drawcircle","drawrect","eraseshape"],S=["v1hovermode","hoverclosest","hovercompare","togglehover","togglespikelines"].concat(f),M=[];E.forEach(function(y){!function(u){if(-1===S.indexOf(u._cat||u.name)){var i=u.name,s=(u._cat||u.name).toLowerCase();-1===M.indexOf(i)&&M.push(i),-1===M.indexOf(s)&&M.push(s)}}(I[y])}),M.sort(),oe.exports={DRAW_MODES:f,backButtons:S,foreButtons:M}},35750:function(oe,j,r){"use strict";var I=r(71828),E=r(7901),f=r(44467),S=r(42068);oe.exports=function(M,y){var u=M.modebar||{},i=f.newContainer(y,"modebar");function s(o,l){return I.coerce(u,i,S,o,l)}s("orientation"),s("bgcolor",E.addOpacity(y.paper_bgcolor,.5));var a=E.contrast(E.rgb(y.modebar.bgcolor));s("color",E.addOpacity(a,.3)),s("activecolor",E.addOpacity(a,.7)),s("uirevision",y.uirevision),s("add"),s("remove")}},64168:function(oe,j,r){"use strict";oe.exports={moduleType:"component",name:"modebar",layoutAttributes:r(42068),supplyLayoutDefaults:r(35750),manage:r(14192)}},14192:function(oe,j,r){"use strict";var I=r(41675),E=r(34098),f=r(73972),S=r(23469).isUnifiedHover,M=r(37676),y=r(26023),u=r(93348).DRAW_MODES,i=r(71828).extendDeep;oe.exports=function(s){var a=s._fullLayout,o=s._context,l=a._modeBar;if(o.displayModeBar||o.watermark){if(!Array.isArray(o.modeBarButtonsToRemove))throw new Error(["*modeBarButtonsToRemove* configuration options","must be an array."].join(" "));if(!Array.isArray(o.modeBarButtonsToAdd))throw new Error(["*modeBarButtonsToAdd* configuration options","must be an array."].join(" "));var c,h=o.modeBarButtons;c=Array.isArray(h)&&h.length?function(v){for(var p=i([],v),T=0;T<p.length;T++)for(var _=p[T],g=0;g<_.length;g++){var w=_[g];if("string"==typeof w){if(void 0===y[w])throw new Error(["*modeBarButtons* configuration options","invalid button name"].join(" "));p[T][g]=y[w]}}return p}(h):!o.displayModeBar&&o.watermark?[]:function(v){var p=v._fullLayout,T=v._fullData,_=v._context;function g(xe,Se){if("string"==typeof Se){if(Se.toLowerCase()===xe.toLowerCase())return!0}else if(Se.name===xe||(Se._cat||Se.name)===xe.toLowerCase())return!0;return!1}var w=p.modebar.add;"string"==typeof w&&(w=[w]);var x=p.modebar.remove;"string"==typeof x&&(x=[x]);var b=_.modeBarButtonsToAdd.concat(w.filter(function(xe){for(var Se=0;Se<_.modeBarButtonsToRemove.length;Se++)if(g(xe,_.modeBarButtonsToRemove[Se]))return!1;return!0})),A=_.modeBarButtonsToRemove.concat(x.filter(function(xe){for(var Se=0;Se<_.modeBarButtonsToAdd.length;Se++)if(g(xe,_.modeBarButtonsToAdd[Se]))return!1;return!0})),m=p._has("cartesian"),C=p._has("gl3d"),k=p._has("geo"),P=p._has("pie"),R=p._has("funnelarea"),L=p._has("gl2d"),N=p._has("ternary"),B=p._has("mapbox"),J=p._has("polar"),z=p._has("smith"),Y=p._has("sankey"),q=function(xe){for(var Se=I.list({_fullLayout:xe},null,!0),Te=0;Te<Se.length;Te++)if(!Se[Te].fixedrange)return!1;return!0}(p),U=S(p.hovermode),Z=[];function X(xe){if(xe.length){for(var Se=[],Te=0;Te<xe.length;Te++){for(var ye=xe[Te],we=y[ye],ze=we.name.toLowerCase(),ke=(we._cat||we.name).toLowerCase(),Ee=!1,me=0;me<A.length;me++){var de=A[me].toLowerCase();if(de===ze||de===ke){Ee=!0;break}}Ee||Se.push(y[ye])}Z.push(Se)}}var se=["toImage"];_.showEditInChartStudio?se.push("editInChartStudio"):_.showSendToCloud&&se.push("sendDataToCloud"),X(se);var re=[],ee=[],K=[],ne=[];(m||L||P||R||N)+k+C+B+J+z>1?(ee=["toggleHover"],K=["resetViews"]):k?(re=["zoomInGeo","zoomOutGeo"],ee=["hoverClosestGeo"],K=["resetGeo"]):C?(ee=["hoverClosest3d"],K=["resetCameraDefault3d","resetCameraLastSave3d"]):B?(re=["zoomInMapbox","zoomOutMapbox"],ee=["toggleHover"],K=["resetViewMapbox"]):L?ee=["hoverClosestGl2d"]:P?ee=["hoverClosestPie"]:Y?(ee=["hoverClosestCartesian","hoverCompareCartesian"],K=["resetViewSankey"]):ee=["toggleHover"],m&&(ee=["toggleSpikelines","hoverClosestCartesian","hoverCompareCartesian"]),(function(xe){for(var Se=0;Se<xe.length;Se++)if(!f.traceIs(xe[Se],"noHover"))return!1;return!0}(T)||U)&&(ee=[]),!m&&!L||q||(re=["zoomIn2d","zoomOut2d","autoScale2d"],"resetViews"!==K[0]&&(K=["resetScale2d"])),C?ne=["zoom3d","pan3d","orbitRotation","tableRotation"]:(m||L)&&!q||N?ne=["zoom2d","pan2d"]:B||k?ne=["pan2d"]:J&&(ne=["zoom2d"]),function(xe){for(var Se=!1,Te=0;Te<xe.length&&!Se;Te++){var ye=xe[Te];ye._module&&ye._module.selectPoints&&(f.traceIs(ye,"scatter-like")?(E.hasMarkers(ye)||E.hasText(ye))&&(Se=!0):f.traceIs(ye,"box-violin")&&"all"!==ye.boxpoints&&"all"!==ye.points||(Se=!0))}return Se}(T)&&ne.push("select2d","lasso2d");var ae=[],ue=function(xe){-1===ae.indexOf(xe)&&-1!==ee.indexOf(xe)&&ae.push(xe)};if(Array.isArray(b)){for(var he=[],pe=0;pe<b.length;pe++){var ge=b[pe];"string"==typeof ge?(ge=ge.toLowerCase(),-1!==u.indexOf(ge)?(p._has("mapbox")||p._has("cartesian"))&&ne.push(ge):"togglespikelines"===ge?ue("toggleSpikelines"):"togglehover"===ge?ue("toggleHover"):"hovercompare"===ge?ue("hoverCompareCartesian"):"hoverclosest"===ge?(ue("hoverClosestCartesian"),ue("hoverClosestGeo"),ue("hoverClosest3d"),ue("hoverClosestGl2d"),ue("hoverClosestPie")):"v1hovermode"===ge&&(ue("toggleHover"),ue("hoverClosestCartesian"),ue("hoverCompareCartesian"),ue("hoverClosestGeo"),ue("hoverClosest3d"),ue("hoverClosestGl2d"),ue("hoverClosestPie"))):he.push(ge)}b=he}return X(ne),X(re.concat(K)),X(ae),function(xe,Se){if(Se.length)if(Array.isArray(Se[0]))for(var Te=0;Te<Se.length;Te++)xe.push(Se[Te]);else xe.push(Se);return xe}(Z,b)}(s),l?l.update(s,c):a._modeBar=M(s,c)}else l&&(l.destroy(),delete a._modeBar)}},37676:function(oe,j,r){"use strict";var I=r(39898),E=r(92770),f=r(71828),S=r(24255),M=r(11506).version,y=new DOMParser;function u(s){this.container=s.container,this.element=document.createElement("div"),this.update(s.graphInfo,s.buttons),this.container.appendChild(this.element)}var i=u.prototype;i.update=function(s,a){this.graphInfo=s;var o=this.graphInfo._context,l=this.graphInfo._fullLayout,c="modebar-"+l._uid;this.element.setAttribute("id",c),this._uid=c,this.element.className="modebar","hover"===o.displayModeBar&&(this.element.className+=" modebar--hover ease-bg"),"v"===l.modebar.orientation&&(this.element.className+=" vertical",a=a.reverse());var h=l.modebar,v="hover"===o.displayModeBar?".js-plotly-plot .plotly:hover ":"";f.deleteRelatedStyleRule(c),f.addRelatedStyleRule(c,v+"#"+c+" .modebar-group","background-color: "+h.bgcolor),f.addRelatedStyleRule(c,"#"+c+" .modebar-btn .icon path","fill: "+h.color),f.addRelatedStyleRule(c,"#"+c+" .modebar-btn:hover .icon path","fill: "+h.activecolor),f.addRelatedStyleRule(c,"#"+c+" .modebar-btn.active .icon path","fill: "+h.activecolor);var p=!this.hasButtons(a),T=this.hasLogo!==o.displaylogo,_=this.locale!==o.locale;if(this.locale=o.locale,(p||T||_)&&(this.removeAllButtons(),this.updateButtons(a),o.watermark||o.displaylogo)){var g=this.getLogo();o.watermark&&(g.className=g.className+" watermark"),"v"===l.modebar.orientation?this.element.insertBefore(g,this.element.childNodes[0]):this.element.appendChild(g),this.hasLogo=!0}this.updateActiveButton()},i.updateButtons=function(s){var a=this;this.buttons=s,this.buttonElements=[],this.buttonsNames=[],this.buttons.forEach(function(o){var l=a.createGroup();o.forEach(function(c){var h=c.name;if(!h)throw new Error("must provide button 'name' in button config");if(-1!==a.buttonsNames.indexOf(h))throw new Error("button name '"+h+"' is taken");a.buttonsNames.push(h);var v=a.createButton(c);a.buttonElements.push(v),l.appendChild(v)}),a.element.appendChild(l)})},i.createGroup=function(){var s=document.createElement("div");return s.className="modebar-group",s},i.createButton=function(s){var a=this,o=document.createElement("a");o.setAttribute("rel","tooltip"),o.className="modebar-btn";var l=s.title;void 0===l?l=s.name:"function"==typeof l&&(l=l(this.graphInfo)),(l||0===l)&&o.setAttribute("data-title",l),void 0!==s.attr&&o.setAttribute("data-attr",s.attr);var c=s.val;if(void 0!==c&&("function"==typeof c&&(c=c(this.graphInfo)),o.setAttribute("data-val",c)),"function"!=typeof s.click)throw new Error("must provide button 'click' function in button config");o.addEventListener("click",function(v){s.click(a.graphInfo,v),a.updateActiveButton(v.currentTarget)}),o.setAttribute("data-toggle",s.toggle||!1),s.toggle&&I.select(o).classed("active",!0);var h=s.icon;return o.appendChild("function"==typeof h?h():this.createIcon(h||S.question)),o.setAttribute("data-gravity",s.gravity||"n"),o},i.createIcon=function(s){var a,o=E(s.height)?Number(s.height):s.ascent-s.descent,l="http://www.w3.org/2000/svg";if(s.path){(a=document.createElementNS(l,"svg")).setAttribute("viewBox",[0,0,s.width,o].join(" ")),a.setAttribute("class","icon");var c=document.createElementNS(l,"path");c.setAttribute("d",s.path),s.transform?c.setAttribute("transform",s.transform):void 0!==s.ascent&&c.setAttribute("transform","matrix(1 0 0 -1 0 "+s.ascent+")"),a.appendChild(c)}return s.svg&&(a=y.parseFromString(s.svg,"application/xml").childNodes[0]),a.setAttribute("height","1em"),a.setAttribute("width","1em"),a},i.updateActiveButton=function(s){var a=this.graphInfo._fullLayout,o=void 0!==s?s.getAttribute("data-attr"):null;this.buttonElements.forEach(function(l){var c=l.getAttribute("data-val")||!0,h=l.getAttribute("data-attr"),v="true"===l.getAttribute("data-toggle"),p=I.select(l);if(v)h===o&&p.classed("active",!p.classed("active"));else{var T=null===h?h:f.nestedProperty(a,h).get();p.classed("active",T===c)}})},i.hasButtons=function(s){var a=this.buttons;if(!a||s.length!==a.length)return!1;for(var o=0;o<s.length;++o){if(s[o].length!==a[o].length)return!1;for(var l=0;l<s[o].length;l++)if(s[o][l].name!==a[o][l].name)return!1}return!0},i.getLogo=function(){var s=this.createGroup(),a=document.createElement("a");return a.href="https://plotly.com/",a.target="_blank",a.setAttribute("data-title",f._(this.graphInfo,"Produced with Plotly.js")+" (v"+M+")"),a.className="modebar-btn plotlyjsicon modebar-btn--logo",a.appendChild(this.createIcon(S.newplotlylogo)),s.appendChild(a),s},i.removeAllButtons=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.hasLogo=!1},i.destroy=function(){f.removeElement(this.container.querySelector(".modebar")),f.deleteRelatedStyleRule(this._uid)},oe.exports=function(s,a){var o=s._fullLayout,l=new u({graphInfo:s,container:o._modebardiv.node(),buttons:a});return o._privateplot&&I.select(l.element).append("span").classed("badge-private float--left",!0).text("PRIVATE"),l}},37113:function(oe,j,r){"use strict";var I=r(41940),E=r(22399),f=(0,r(44467).templatedArray)("button",{visible:{valType:"boolean",dflt:!0,editType:"plot"},step:{valType:"enumerated",values:["month","year","day","hour","minute","second","all"],dflt:"month",editType:"plot"},stepmode:{valType:"enumerated",values:["backward","todate"],dflt:"backward",editType:"plot"},count:{valType:"number",min:0,dflt:1,editType:"plot"},label:{valType:"string",editType:"plot"},editType:"plot"});oe.exports={visible:{valType:"boolean",editType:"plot"},buttons:f,x:{valType:"number",min:-2,max:3,editType:"plot"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"plot"},y:{valType:"number",min:-2,max:3,editType:"plot"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"bottom",editType:"plot"},font:I({editType:"plot"}),bgcolor:{valType:"color",dflt:E.lightLine,editType:"plot"},activecolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:E.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"}},89573:function(oe){"use strict";oe.exports={yPad:.02,minButtonWidth:30,rx:3,ry:3,lightAmount:25,darkAmount:10}},28674:function(oe,j,r){"use strict";var I=r(71828),E=r(7901),f=r(44467),S=r(85501),M=r(37113),y=r(89573);function u(i,s,a,o){var l=o.calendar;function c(v,p){return I.coerce(i,s,M.buttons,v,p)}if(c("visible")){var h=c("step");"all"!==h&&(!l||"gregorian"===l||"month"!==h&&"year"!==h?c("stepmode"):s.stepmode="backward",c("count")),c("label")}}oe.exports=function(i,s,a,o,l){var c=i.rangeselector||{},h=f.newContainer(s,"rangeselector");function v(_,g){return I.coerce(c,h,M,_,g)}if(v("visible",S(c,h,{name:"buttons",handleItemDefaults:u,calendar:l}).length>0)){var p=function(_,g,w){for(var x=w.filter(function(C){return g[C].anchor===_._id}),b=0,A=0;A<x.length;A++){var m=g[x[A]].domain;m&&(b=Math.max(m[1],b))}return[_.domain[0],b+y.yPad]}(s,a,o);v("x",p[0]),v("y",p[1]),I.noneOrAll(i,s,["x","y"]),v("xanchor"),v("yanchor"),I.coerceFont(v,"font",a.font);var T=v("bgcolor");v("activecolor",E.contrast(T,y.lightAmount,y.darkAmount)),v("bordercolor"),v("borderwidth")}}},21598:function(oe,j,r){"use strict";var I=r(39898),E=r(73972),f=r(74875),S=r(7901),M=r(91424),y=r(71828),u=y.strTranslate,i=r(63893),s=r(41675),a=r(18783),o=a.LINE_SPACING,l=a.FROM_TL,c=a.FROM_BR,h=r(89573),v=r(70565);function p(g){return g._id}function T(g,w,x){var A,m,b=y.ensureSingle(g,"rect","selector-rect",function(A){A.attr("shape-rendering","crispEdges")});b.attr({rx:h.rx,ry:h.ry}),b.call(S.stroke,w.bordercolor).call(S.fill,(A=w,m=x,m._isActive||m._isHovered?A.activecolor:A.bgcolor)).style("stroke-width",w.borderwidth+"px")}function _(g,w,x,b){var A,m;y.ensureSingle(g,"text","selector-text",function(C){C.attr("text-anchor","middle")}).call(M.font,w.font).text((A=x,m=b._fullLayout._meta,A.label?m?y.templateString(A.label,m):A.label:"all"===A.step?"all":A.count+A.step.charAt(0))).call(function(C){i.convertToTspans(C,b)})}oe.exports=function(g){var w=g._fullLayout._infolayer.selectAll(".rangeselector").data(function(x){for(var b=s.list(x,"x",!0),A=[],m=0;m<b.length;m++){var C=b[m];C.rangeselector&&C.rangeselector.visible&&A.push(C)}return A}(g),p);w.enter().append("g").classed("rangeselector",!0),w.exit().remove(),w.style({cursor:"pointer","pointer-events":"all"}),w.each(function(x){var b=I.select(this),A=x,m=A.rangeselector,C=b.selectAll("g.button").data(y.filterVisible(m.buttons));C.enter().append("g").classed("button",!0),C.exit().remove(),C.each(function(k){var P=I.select(this),R=v(A,k);k._isActive=function(L,N,B){if("all"===N.step)return!0===L.autorange;var J=Object.keys(B);return L.range[0]===B[J[0]]&&L.range[1]===B[J[1]]}(A,k,R),P.call(T,m,k),P.call(_,m,k,g),P.on("click",function(){g._dragged||E.call("_guiRelayout",g,R)}),P.on("mouseover",function(){k._isHovered=!0,P.call(T,m,k)}),P.on("mouseout",function(){k._isHovered=!1,P.call(T,m,k)})}),function(k,P,R,L,N){var B=0,J=0,z=R.borderwidth;P.each(function(){var se=I.select(this).select(".selector-text"),ee=Math.max(R.font.size*o*i.lineCount(se),16)+3;J=Math.max(J,ee)}),P.each(function(){var se=I.select(this),re=se.select(".selector-rect"),ee=se.select(".selector-text"),K=ee.node()&&M.bBox(ee.node()).width,ne=R.font.size*o,ae=i.lineCount(ee),ue=Math.max(K+10,h.minButtonWidth);se.attr("transform",u(z+B,z)),re.attr({x:0,y:0,width:ue,height:J}),i.positionText(ee,ue/2,J/2-(ae-1)*ne/2+3),B+=ue+5});var Y=k._fullLayout._size,q=Y.l+Y.w*R.x,U=Y.t+Y.h*(1-R.y),Z="left";y.isRightAnchor(R)&&(q-=B,Z="right"),y.isCenterAnchor(R)&&(q-=B/2,Z="center");var X="top";y.isBottomAnchor(R)&&(U-=J,X="bottom"),y.isMiddleAnchor(R)&&(U-=J/2,X="middle"),B=Math.ceil(B),J=Math.ceil(J),q=Math.round(q),U=Math.round(U),f.autoMargin(k,L+"-range-selector",{x:R.x,y:R.y,l:B*l[Z],r:B*c[Z],b:J*c[X],t:J*l[X]}),N.attr("transform",u(q,U))}(g,C,m,A._name,b)})}},70565:function(oe,j,r){"use strict";var I=r(81041),E=r(71828).titleCase;oe.exports=function(f,S){var M=f._name,y={};if("all"===S.step)y[M+".autorange"]=!0;else{var u=function(i,s){var a,o=i.range,l=new Date(i.r2l(o[1])),h=I["utc"+E(s.step)],v=s.count;switch(s.stepmode){case"backward":a=i.l2r(+h.offset(l,-v));break;case"todate":var p=h.offset(l,-v);a=i.l2r(+h.ceil(p))}return[a,o[1]]}(f,S);y[M+".range[0]"]=u[0],y[M+".range[1]"]=u[1]}return y}},97218:function(oe,j,r){"use strict";oe.exports={moduleType:"component",name:"rangeselector",schema:{subplots:{xaxis:{rangeselector:r(37113)}}},layoutAttributes:r(37113),handleDefaults:r(28674),draw:r(21598)}},75148:function(oe,j,r){"use strict";var I=r(22399);oe.exports={bgcolor:{valType:"color",dflt:I.background,editType:"plot"},bordercolor:{valType:"color",dflt:I.defaultLine,editType:"plot"},borderwidth:{valType:"integer",dflt:0,min:0,editType:"plot"},autorange:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},range:{valType:"info_array",items:[{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}}],editType:"calc",impliedEdits:{autorange:!1}},thickness:{valType:"number",dflt:.15,min:0,max:1,editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"}},88443:function(oe,j,r){"use strict";var I=r(41675).list,E=r(71739).getAutoRange,f=r(73251);oe.exports=function(S){for(var M=I(S,"x",!0),y=0;y<M.length;y++){var u=M[y],i=u[f.name];i&&i.visible&&i.autorange&&(i._input.autorange=!0,i._input.range=i.range=E(S,u))}}},73251:function(oe){"use strict";oe.exports={name:"rangeslider",containerClassName:"rangeslider-container",bgClassName:"rangeslider-bg",rangePlotClassName:"rangeslider-rangeplot",maskMinClassName:"rangeslider-mask-min",maskMaxClassName:"rangeslider-mask-max",slideBoxClassName:"rangeslider-slidebox",grabberMinClassName:"rangeslider-grabber-min",grabAreaMinClassName:"rangeslider-grabarea-min",handleMinClassName:"rangeslider-handle-min",grabberMaxClassName:"rangeslider-grabber-max",grabAreaMaxClassName:"rangeslider-grabarea-max",handleMaxClassName:"rangeslider-handle-max",maskMinOppAxisClassName:"rangeslider-mask-min-opp-axis",maskMaxOppAxisClassName:"rangeslider-mask-max-opp-axis",maskColor:"rgba(0,0,0,0.4)",maskOppAxisColor:"rgba(0,0,0,0.2)",slideBoxFill:"transparent",slideBoxCursor:"ew-resize",grabAreaFill:"transparent",grabAreaCursor:"col-resize",grabAreaWidth:10,handleWidth:4,handleRadius:1,handleStrokeWidth:1,extraPad:15}},26377:function(oe,j,r){"use strict";var I=r(71828),E=r(44467),f=r(41675),S=r(75148),M=r(47850);oe.exports=function(y,u,i){var s=y[i],a=u[i];if(s.rangeslider||u._requestRangeslider[a._id]){I.isPlainObject(s.rangeslider)||(s.rangeslider={});var o,l,c=s.rangeslider,h=E.newContainer(a,"rangeslider");if(b("visible")){b("bgcolor",u.plot_bgcolor),b("bordercolor"),b("borderwidth"),b("thickness"),b("autorange",!a.isValidRange(c.range)),b("range");var v=u._subplots;if(v)for(var p=v.cartesian.filter(function(m){return m.substr(0,m.indexOf("y"))===f.name2id(i)}).map(function(m){return m.substr(m.indexOf("y"),m.length)}),T=I.simpleMap(p,f.id2name),_=0;_<T.length;_++){var g=T[_];o=c[g]||{},l=E.newContainer(h,g,"yaxis");var w,x=u[g];o.range&&x.isValidRange(o.range)&&(w="fixed"),"match"!==A("rangemode",w)&&A("range",x.range.slice())}h._input=c}}function b(m,C){return I.coerce(c,h,S,m,C)}function A(m,C){return I.coerce(o,l,M,m,C)}}},72413:function(oe,j,r){"use strict";var I=r(39898),E=r(73972),f=r(74875),S=r(71828),M=S.strTranslate,y=r(91424),u=r(7901),i=r(92998),s=r(93612),a=r(41675),o=r(28569),l=r(6964),c=r(73251);function h(w,x,b,A){var m=S.ensureSingle(w,"rect",c.bgClassName,function(R){R.attr({x:0,y:0,"shape-rendering":"crispEdges"})}),C=A.borderwidth%2==0?A.borderwidth:A.borderwidth-1,k=-A._offsetShift,P=y.crispRound(x,A.borderwidth);m.attr({width:A._width+C,height:A._height+C,transform:M(k,k),"stroke-width":P}).call(u.stroke,A.bordercolor).call(u.fill,A.bgcolor)}function v(w,x,b,A){S.ensureSingleById(x._fullLayout._topdefs,"clipPath",A._clipId,function(C){C.append("rect").attr({x:0,y:0})}).select("rect").attr({width:A._width,height:A._height})}function p(w,x,b,A){var m,C=x.calcdata,k=w.selectAll("g."+c.rangePlotClassName).data(b._subplotsWith,S.identity);k.enter().append("g").attr("class",function(P){return c.rangePlotClassName+" "+P}).call(y.setClipUrl,A._clipId,x),k.order(),k.exit().remove(),k.each(function(P,R){var L=I.select(this),N=0===R,B=a.getFromId(x,P,"y"),J=B._name,z=A[J],Y={data:[],layout:{xaxis:{type:b.type,domain:[0,1],range:A.range.slice(),calendar:b.calendar},width:A._width,height:A._height,margin:{t:0,b:0,l:0,r:0}},_context:x._context};b.rangebreaks&&(Y.layout.xaxis.rangebreaks=b.rangebreaks),Y.layout[J]={type:B.type,domain:[0,1],range:"match"!==z.rangemode?z.range.slice():B.range.slice(),calendar:B.calendar},B.rangebreaks&&(Y.layout[J].rangebreaks=B.rangebreaks),f.supplyDefaults(Y);var q=Y._fullLayout.xaxis,U=Y._fullLayout[J];q.clearCalc(),q.setScale(),U.clearCalc(),U.setScale();var Z={id:P,plotgroup:L,xaxis:q,yaxis:U,isRangePlot:!0};N?m=Z:(Z.mainplot="xy",Z.mainplotinfo=m),s.rangePlot(x,Z,function(X,se){for(var re=[],ee=0;ee<X.length;ee++){var K=X[ee],ne=K[0].trace;ne.xaxis+ne.yaxis===se&&re.push(K)}return re}(C,P))})}function T(w,x,b,A,m){S.ensureSingle(w,"rect",c.maskMinClassName,function(C){C.attr({x:0,y:0,"shape-rendering":"crispEdges"})}).attr("height",A._height).call(u.fill,c.maskColor),S.ensureSingle(w,"rect",c.maskMaxClassName,function(C){C.attr({y:0,"shape-rendering":"crispEdges"})}).attr("height",A._height).call(u.fill,c.maskColor),"match"!==m.rangemode&&(S.ensureSingle(w,"rect",c.maskMinOppAxisClassName,function(C){C.attr({y:0,"shape-rendering":"crispEdges"})}).attr("width",A._width).call(u.fill,c.maskOppAxisColor),S.ensureSingle(w,"rect",c.maskMaxOppAxisClassName,function(C){C.attr({y:0,"shape-rendering":"crispEdges"})}).attr("width",A._width).style("border-top",c.maskOppBorder).call(u.fill,c.maskOppAxisColor))}function _(w,x,b,A){x._context.staticPlot||S.ensureSingle(w,"rect",c.slideBoxClassName,function(m){m.attr({y:0,cursor:c.slideBoxCursor,"shape-rendering":"crispEdges"})}).attr({height:A._height,fill:c.slideBoxFill})}function g(w,x,b,A){var m=S.ensureSingle(w,"g",c.grabberMinClassName),C=S.ensureSingle(w,"g",c.grabberMaxClassName),k={x:0,width:c.handleWidth,rx:c.handleRadius,fill:u.background,stroke:u.defaultLine,"stroke-width":c.handleStrokeWidth,"shape-rendering":"crispEdges"},P={y:Math.round(A._height/4),height:Math.round(A._height/2)};S.ensureSingle(m,"rect",c.handleMinClassName,function(L){L.attr(k)}).attr(P),S.ensureSingle(C,"rect",c.handleMaxClassName,function(L){L.attr(k)}).attr(P);var R={width:c.grabAreaWidth,x:0,y:0,fill:c.grabAreaFill,cursor:x._context.staticPlot?void 0:c.grabAreaCursor};S.ensureSingle(m,"rect",c.grabAreaMinClassName,function(L){L.attr(R)}).attr("height",A._height),S.ensureSingle(C,"rect",c.grabAreaMaxClassName,function(L){L.attr(R)}).attr("height",A._height)}oe.exports=function(w){for(var x=w._fullLayout,b=x._rangeSliderData,A=0;A<b.length;A++){var m=b[A][c.name];m._clipId=m._id+"-"+x._uid}var C=x._infolayer.selectAll("g."+c.containerClassName).data(b,function(k){return k._name});C.exit().each(function(k){x._topdefs.select("#"+k[c.name]._clipId).remove()}).remove(),0!==b.length&&(C.enter().append("g").classed(c.containerClassName,!0).attr("pointer-events","all"),C.each(function(k){var P=I.select(this),R=k[c.name],L=x[a.id2name(k.anchor)],N=R[a.id2name(k.anchor)];if(R.range){var B,J=S.simpleMap(R.range,k.r2l),z=S.simpleMap(k.range,k.r2l);B=z[0]<z[1]?[Math.min(J[0],z[0]),Math.max(J[1],z[1])]:[Math.max(J[0],z[0]),Math.min(J[1],z[1])],R.range=R._input.range=S.simpleMap(B,k.l2r)}k.cleanRange("rangeslider.range");var Y=x._size,q=k.domain;R._width=Y.w*(q[1]-q[0]);var U=Math.round(Y.l+Y.w*q[0]),Z=Math.round(Y.t+Y.h*(1-k._counterDomainMin)+("bottom"===k.side?k._depth:0)+R._offsetShift+c.extraPad);P.attr("transform",M(U,Z)),R._rl=S.simpleMap(R.range,k.r2l);var X=R._rl[0],se=R._rl[1],re=se-X;if(R.p2d=function(xe){return xe/R._width*re+X},R.d2p=function(xe){return(xe-X)/re*R._width},k.rangebreaks){var ee=k.locateBreaks(X,se);if(ee.length){var K,ne,ae=0;for(K=0;K<ee.length;K++)ae+=(ne=ee[K]).max-ne.min;var ue=R._width/(se-X-ae),he=[-ue*X];for(K=0;K<ee.length;K++)he.push(he[he.length-1]-ue*((ne=ee[K]).max-ne.min));for(R.d2p=function(xe){for(var Se=he[0],Te=0;Te<ee.length;Te++){var ye=ee[Te];if(xe>=ye.max)Se=he[Te+1];else if(xe<ye.min)break}return Se+ue*xe},K=0;K<ee.length;K++)(ne=ee[K]).pmin=R.d2p(ne.min),ne.pmax=R.d2p(ne.max);R.p2d=function(xe){for(var Se=he[0],Te=0;Te<ee.length;Te++){var ye=ee[Te];if(xe>=ye.pmax)Se=he[Te+1];else if(xe<ye.pmin)break}return(xe-Se)/ue}}}if("match"!==N.rangemode){var pe=L.r2l(N.range[0]),ge=L.r2l(N.range[1])-pe;R.d2pOppAxis=function(xe){return(xe-pe)/ge*R._height}}P.call(h,w,k,R).call(v,w,k,R).call(p,w,k,R).call(T,w,k,R,N).call(_,w,k,R).call(g,w,k,R),function(xe,Se,Te,ye){if(!Se._context.staticPlot){var we=xe.select("rect."+c.slideBoxClassName).node(),ze=xe.select("rect."+c.grabAreaMinClassName).node(),ke=xe.select("rect."+c.grabAreaMaxClassName).node();xe.on("mousedown",Ee),xe.on("touchstart",Ee)}function Ee(){var me=I.event,de=me.target,ce=me.clientX||me.touches[0].clientX,Ae=ce-xe.node().getBoundingClientRect().left,Ne=ye.d2p(Te._rl[0]),De=ye.d2p(Te._rl[1]),Ue=o.coverSlip();function Ye(Pe){var Ie,Be,We,Ge=+(Pe.clientX||Pe.touches[0].clientX)-ce;switch(de){case we:if(We="ew-resize",Ne+Ge>Te._length||De+Ge<0)return;Ie=Ne+Ge,Be=De+Ge;break;case ze:if(We="col-resize",Ne+Ge>Te._length)return;Ie=Ne+Ge,Be=De;break;case ke:if(We="col-resize",De+Ge<0)return;Ie=Ne,Be=De+Ge;break;default:We="ew-resize",Ie=Ae,Be=Ae+Ge}if(Be<Ie){var Ke=Be;Be=Ie,Ie=Ke}ye._pixelMin=Ie,ye._pixelMax=Be,l(I.select(Ue),We),function(tt,st,gt,ct){function kt(mt){return gt.l2r(S.constrain(mt,ct._rl[0],ct._rl[1]))}var Dt=kt(ct.p2d(ct._pixelMin)),vt=kt(ct.p2d(ct._pixelMax));window.requestAnimationFrame(function(){E.call("_guiRelayout",st,gt._name+".range",[Dt,vt])})}(0,Se,Te,ye)}function _e(){Ue.removeEventListener("mousemove",Ye),Ue.removeEventListener("mouseup",_e),this.removeEventListener("touchmove",Ye),this.removeEventListener("touchend",_e),S.removeElement(Ue)}this.addEventListener("touchmove",Ye),this.addEventListener("touchend",_e),Ue.addEventListener("mousemove",Ye),Ue.addEventListener("mouseup",_e)}}(P,w,k,R),function(xe,Se,Te,ye,we,ze){var ke=c.handleWidth/2;function Ee(Pe){return S.constrain(Pe,0,ye._width)}function me(Pe){return S.constrain(Pe,0,ye._height)}function de(Pe){return S.constrain(Pe,-ke,ye._width+ke)}var ce=Ee(ye.d2p(Te._rl[0])),Ae=Ee(ye.d2p(Te._rl[1]));if(xe.select("rect."+c.slideBoxClassName).attr("x",ce).attr("width",Ae-ce),xe.select("rect."+c.maskMinClassName).attr("width",ce),xe.select("rect."+c.maskMaxClassName).attr("x",Ae).attr("width",ye._width-Ae),"match"!==ze.rangemode){var Ne=ye._height-me(ye.d2pOppAxis(we._rl[1])),De=ye._height-me(ye.d2pOppAxis(we._rl[0]));xe.select("rect."+c.maskMinOppAxisClassName).attr("x",ce).attr("height",Ne).attr("width",Ae-ce),xe.select("rect."+c.maskMaxOppAxisClassName).attr("x",ce).attr("y",De).attr("height",ye._height-De).attr("width",Ae-ce),xe.select("rect."+c.slideBoxClassName).attr("y",Ne).attr("height",De-Ne)}var Ye=Math.round(de(ce-ke))-.5,_e=Math.round(de(Ae-ke))+.5;xe.select("g."+c.grabberMinClassName).attr("transform",M(Ye,.5)),xe.select("g."+c.grabberMaxClassName).attr("transform",M(_e,.5))}(P,0,k,R,L,N),"bottom"===k.side&&i.draw(w,k._id+"title",{propContainer:k,propName:k._name+".title",placeholder:x._dfltTitle.x,attributes:{x:k._offset+k._length/2,y:Z+R._height+R._offsetShift+10+1.5*k.title.font.size,"text-anchor":"middle"}})}))}},549:function(oe,j,r){"use strict";var I=r(41675),E=r(63893),f=r(73251),S=r(18783).LINE_SPACING,M=f.name;function y(u){var i=u&&u[M];return i&&i.visible}j.isVisible=y,j.makeData=function(u){var i=I.list({_fullLayout:u},"x",!0),s=u.margin,a=[];if(!u._has("gl2d"))for(var o=0;o<i.length;o++){var l=i[o];if(y(l)){a.push(l);var c=l[M];c._id=M+l._id,c._height=(u.height-s.b-s.t)*c.thickness,c._offsetShift=Math.floor(c.borderwidth/2)}}u._rangeSliderData=a},j.autoMarginOpts=function(u,i){var s=u._fullLayout,a=i[M],o=i._id.charAt(0),l=0,c=0;return"bottom"===i.side&&(l=i._depth,i.title.text!==s._dfltTitle[o]&&(c=1.5*i.title.font.size+10+a._offsetShift,c+=(i.title.text.match(E.BR_TAG_ALL)||[]).length*i.title.font.size*S)),{x:0,y:i._counterDomainMin,l:0,r:0,t:0,b:a._height+l+Math.max(s.margin.b,c),pad:f.extraPad+2*a._offsetShift}}},13137:function(oe,j,r){"use strict";var I=r(71828),E=r(75148),f=r(47850),S=r(549);oe.exports={moduleType:"component",name:"rangeslider",schema:{subplots:{xaxis:{rangeslider:I.extendFlat({},E,{yaxis:f})}}},layoutAttributes:r(75148),handleDefaults:r(26377),calcAutorange:r(88443),draw:r(72413),isVisible:S.isVisible,makeData:S.makeData,autoMarginOpts:S.autoMarginOpts}},47850:function(oe){"use strict";oe.exports={_isSubplotObj:!0,rangemode:{valType:"enumerated",values:["auto","fixed","match"],dflt:"match",editType:"calc"},range:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},editType:"calc"}},8389:function(oe,j,r){"use strict";var I=r(50215),E=r(82196).line,f=r(79952).P,S=r(1426).extendFlat,M=r(30962).overrideAll,y=r(44467).templatedArray;r(24695),oe.exports=M(y("selection",{type:{valType:"enumerated",values:["rect","path"]},xref:S({},I.xref,{}),yref:S({},I.yref,{}),x0:{valType:"any"},x1:{valType:"any"},y0:{valType:"any"},y1:{valType:"any"},path:{valType:"string",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:.7,editType:"arraydraw"},line:{color:E.color,width:S({},E.width,{min:1,dflt:1}),dash:S({},f,{dflt:"dot"})}}),"arraydraw","from-root")},34122:function(oe){"use strict";oe.exports={BENDPX:1.5,MINSELECT:12,SELECTDELAY:100,SELECTID:"-select"}},59402:function(oe,j,r){"use strict";var I=r(71828),E=r(89298),f=r(85501),S=r(8389),M=r(30477);function y(u,i,s){function a(P,R){return I.coerce(u,i,S,P,R)}var o=a("path"),l="path"!==a("type",o?"path":"rect");l&&delete i.path,a("opacity"),a("line.color"),a("line.width"),a("line.dash");for(var c=["x","y"],h=0;h<2;h++){var v,p,T,_=c[h],g={_fullLayout:s},w=E.coerceRef(u,i,g,_);if((v=E.getFromId(g,w))._selectionIndices.push(i._index),T=M.rangeToShapePosition(v),p=M.shapePositionToRange(v),l){var x=_+"0",b=_+"1",A=u[x],m=u[b];u[x]=p(u[x],!0),u[b]=p(u[b],!0),E.coercePosition(i,g,a,w,x),E.coercePosition(i,g,a,w,b);var C=i[x],k=i[b];void 0!==C&&void 0!==k&&(i[x]=T(C),i[b]=T(k),u[x]=A,u[b]=m)}}l&&I.noneOrAll(u,i,["x0","x1","y0","y1"])}oe.exports=function(u,i){f(u,i,{name:"selections",handleItemDefaults:y});for(var s=i.selections,a=0;a<s.length;a++){var o=s[a];o&&void 0===o.path&&(void 0!==o.x0&&void 0!==o.x1&&void 0!==o.y0&&void 0!==o.y1||(i.selections[a]=null))}}},32485:function(oe,j,r){"use strict";var I=r(60165).readPaths,E=r(42359),f=r(51873).clearOutlineControllers,S=r(7901),M=r(91424),y=r(44467).arrayEditor,u=r(30477),i=u.getPathString;function s(h){var v=h._fullLayout;for(var p in f(h),v._selectionLayer.selectAll("path").remove(),v._plots){var T=v._plots[p].selectionLayer;T&&T.selectAll("path").remove()}for(var _=0;_<v.selections.length;_++)o(h,_)}function a(h){return h._context.editSelection}function o(h,v){h._fullLayout._paperdiv.selectAll('.selectionlayer [data-index="'+v+'"]').remove();var p=u.makeSelectionsOptionsAndPlotinfo(h,v),T=p.options,_=p.plotinfo;T._input&&function(g){var w=i(h,T),x={"data-index":v,"fill-rule":"evenodd",d:w},b=T.opacity,A="rgba(0,0,0,0)",m=T.line.color||S.contrast(h._fullLayout.plot_bgcolor),C=T.line.width,k=T.line.dash;C||(C=5,k="solid");var P=a(h)&&h._fullLayout._activeSelectionIndex===v;P&&(A=h._fullLayout.activeselection.fillcolor,b=h._fullLayout.activeselection.opacity);for(var R=[],L=1;L>=0;L--){var N=g.append("path").attr(x).style("opacity",L?.1:b).call(S.stroke,m).call(S.fill,A).call(M.dashLine,L?"solid":k,L?4+C:C);if(l(N,h,T),P){var B=y(h.layout,"selections",T);N.style({cursor:"move"});var J={element:N.node(),plotinfo:_,gd:h,editHelpers:B,isActiveSelection:!0},z=I(w,h);E(z,N,J)}else N.style("pointer-events",L?"all":"none");R[L]=N}var Y=R[0];R[1].node().addEventListener("click",function(){return function(q,U){if(a(q)){var Z=+U.node().getAttribute("data-index");if(Z>=0){if(Z===q._fullLayout._activeSelectionIndex)return void c(q);q._fullLayout._activeSelectionIndex=Z,q._fullLayout._deactivateSelection=c,s(q)}}}(h,Y)})}(h._fullLayout._selectionLayer)}function l(h,v,p){M.setClipUrl(h,"clip"+v._fullLayout._uid+(p.xref+p.yref),v)}function c(h){a(h)&&h._fullLayout._activeSelectionIndex>=0&&(f(h),delete h._fullLayout._activeSelectionIndex,s(h))}oe.exports={draw:s,drawOne:o,activateLastSelection:function(h){a(h)&&(h._fullLayout._activeSelectionIndex=h._fullLayout.selections.length-1,h._fullLayout._deactivateSelection=c,s(h))}}},53777:function(oe,j,r){"use strict";var I=r(79952).P,E=r(1426).extendFlat;oe.exports={newselection:{mode:{valType:"enumerated",values:["immediate","gradual"],dflt:"immediate",editType:"none"},line:{color:{valType:"color",editType:"none"},width:{valType:"number",min:1,dflt:1,editType:"none"},dash:E({},I,{dflt:"dot",editType:"none"}),editType:"none"},editType:"none"},activeselection:{fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:.5,editType:"none"},editType:"none"}}},90849:function(oe){"use strict";oe.exports=function(j,r,I){I("newselection.mode"),I("newselection.line.width")&&(I("newselection.line.color"),I("newselection.line.dash")),I("activeselection.fillcolor"),I("activeselection.opacity")}},35855:function(oe,j,r){"use strict";var I=r(64505).selectMode,E=r(51873).clearOutline,f=r(60165),S=f.readPaths,M=f.writePaths,y=f.fixDatesForPaths;oe.exports=function(u,i){if(u.length){var s=u[0][0];if(s){var a=s.getAttribute("d"),o=i.gd,l=o._fullLayout.newselection,c=i.plotinfo,h=c.xaxis,v=c.yaxis,p=i.isActiveSelection,T=i.dragmode,_=(o.layout||{}).selections||[];if(!I(T)&&void 0!==p){var g=o._fullLayout._activeSelectionIndex;if(g<_.length)switch(o._fullLayout.selections[g].type){case"rect":T="select";break;case"path":T="lasso"}}var w,x=S(a,o,c,p),b={xref:h._id,yref:v._id,opacity:l.opacity,line:{color:l.line.color,width:l.line.width,dash:l.line.dash}};1===x.length&&(w=x[0]),w&&5===w.length&&"select"===T?(b.type="rect",b.x0=w[0][1],b.y0=w[0][2],b.x1=w[2][1],b.y1=w[2][2]):(b.type="path",h&&v&&y(x,h,v),b.path=M(x),w=null),E(o);for(var A=i.editHelpers,m=(A||{}).modifyItem,C=[],k=0;k<_.length;k++){var P=o._fullLayout.selections[k];if(P){if(C[k]=P._input,void 0!==p&&k===o._fullLayout._activeSelectionIndex){var R=b;switch(P.type){case"rect":m("x0",R.x0),m("x1",R.x1),m("y0",R.y0),m("y1",R.y1);break;case"path":m("path",R.path)}}}else C[k]=P}return void 0===p?(C.push(b),C):A?A.getUpdateObj():{}}}}},75549:function(oe,j,r){"use strict";var I=r(71828).strTranslate;function E(f,S){switch(f.type){case"log":return f.p2d(S);case"date":return f.p2r(S,0,f.calendar);default:return f.p2r(S)}}oe.exports={p2r:E,r2p:function(f,S){switch(f.type){case"log":return f.d2p(S);case"date":return f.r2p(S,0,f.calendar);default:return f.r2p(S)}},axValue:function(f){var S="y"===f._id.charAt(0)?1:0;return function(M){return E(f,M[S])}},getTransform:function(f){return I(f.xaxis._offset,f.yaxis._offset)}}},47322:function(oe,j,r){"use strict";var I=r(32485),E=r(3937);oe.exports={moduleType:"component",name:"selections",layoutAttributes:r(8389),supplyLayoutDefaults:r(59402),supplyDrawNewSelectionDefaults:r(90849),includeBasePlot:r(76325)("selections"),draw:I.draw,drawOne:I.drawOne,reselect:E.reselect,prepSelect:E.prepSelect,clearOutline:E.clearOutline,clearSelectionsCache:E.clearSelectionsCache,selectOnClick:E.selectOnClick}},3937:function(oe,j,r){"use strict";var I=r(52142),E=r(38258),f=r(73972),S=r(91424).dashStyle,M=r(7901),y=r(30211),u=r(23469).makeEventData,i=r(64505),s=i.freeMode,a=i.rectMode,o=i.drawMode,l=i.openMode,c=i.selectMode,h=r(30477),v=r(21459),p=r(42359),T=r(51873).clearOutline,_=r(60165),g=_.handleEllipse,w=_.readPaths,x=r(90551).newShapes,b=r(35855),A=r(32485).activateLastSelection,m=r(71828),C=m.sorterAsc,k=r(61082),P=r(79990),R=r(41675).getFromId,L=r(33306),N=r(61549).redrawReglTraces,B=r(34122),J=B.MINSELECT,z=k.filter,Y=k.tester,q=r(75549),U=q.p2r,Z=q.axValue,X=q.getTransform;function se(_e){return void 0!==_e.subplot}function re(_e,Pe,Ie,Be,We,Ge,Ke){var tt,st,gt,ct,kt,Dt,vt,mt,Et,it,Lt=Pe._hoverdata,Rt=Pe._fullLayout.clickmode.indexOf("event")>-1,Ut=[];if((it=Lt)&&Array.isArray(it)&&!0!==it[0].hoverOnBox){ae(_e,Pe,Ge);var Bt=function(it,dt){var ht,Ve,qe=it[0],ut=-1,ft=[];for(Ve=0;Ve<dt.length;Ve++)if(qe.fullData._expandedIndex===(ht=dt[Ve]).cd[0].trace._expandedIndex){if(!0===qe.hoverOnBox)break;void 0!==qe.pointNumber?ut=qe.pointNumber:void 0!==qe.binNumber&&(ut=qe.binNumber,ft=qe.pointNumbers);break}return{pointNumber:ut,pointNumbers:ft,searchInfo:ht}}(Lt,tt=pe(Pe,Ie,Be,We));if(Bt.pointNumbers.length>0?function(it,dt){var ht,Ve,qe,ut=[];for(qe=0;qe<it.length;qe++)(ht=it[qe]).cd[0].trace.selectedpoints&&ht.cd[0].trace.selectedpoints.length>0&&ut.push(ht);if(1===ut.length&&ut[0]===dt.searchInfo&&(Ve=dt.searchInfo.cd[0].trace).selectedpoints.length===dt.pointNumbers.length){for(qe=0;qe<dt.pointNumbers.length;qe++)if(Ve.selectedpoints.indexOf(dt.pointNumbers[qe])<0)return!1;return!0}return!1}(tt,Bt):function(it){var dt,ht,Ve=0;for(ht=0;ht<it.length;ht++)if((dt=it[ht].cd[0].trace).selectedpoints&&(dt.selectedpoints.length>1||(Ve+=dt.selectedpoints.length)>1))return!1;return 1===Ve}(tt)&&(Dt=xe(Bt))){for(Ke&&Ke.remove(),Et=0;Et<tt.length;Et++)(st=tt[Et])._module.selectPoints(st,!1);Se(Pe,tt),ue(Ge),Rt&&Ye(Pe)}else{for(vt=_e.shiftKey&&(void 0!==Dt?Dt:xe(Bt)),gt=function(it,dt,ht){return{pointNumber:it,searchInfo:dt,subtract:!!ht}}(Bt.pointNumber,Bt.searchInfo,vt),ct=ne(Ge.selectionDefs.concat([gt])),Et=0;Et<tt.length;Et++)if(kt=ye(tt[Et]._module.selectPoints(tt[Et],ct),tt[Et]),Ut.length)for(var rt=0;rt<kt.length;rt++)Ut.push(kt[rt]);else Ut=kt;if(Se(Pe,tt,mt={points:Ut}),gt&&Ge&&Ge.selectionDefs.push(gt),Ke){var ot=Ge.mergedPolygons,Je=l(Ge.dragmode);p(we(ot,Je),Ke,Ge)}Rt&&Ue(Pe,mt)}}}function ee(_e){return"pointNumber"in _e&&"searchInfo"in _e}function K(_e){return{xmin:0,xmax:0,ymin:0,ymax:0,pts:[],contains:function(Pe,Ie,Be,We){return We.cd[0].trace._expandedIndex===_e.searchInfo.cd[0].trace._expandedIndex&&Be===_e.pointNumber},isRect:!1,degenerate:!1,subtract:!!_e.subtract}}function ne(_e){if(_e.length){for(var Pe=[],Ie=ee(_e[0])?0:_e[0][0][0],Be=Ie,We=ee(_e[0])?0:_e[0][0][1],Ge=We,Ke=0;Ke<_e.length;Ke++)if(ee(_e[Ke]))Pe.push(K(_e[Ke]));else{var tt=Y(_e[Ke]);tt.subtract=!!_e[Ke].subtract,Pe.push(tt),Ie=Math.min(Ie,tt.xmin),Be=Math.max(Be,tt.xmax),We=Math.min(We,tt.ymin),Ge=Math.max(Ge,tt.ymax)}return{xmin:Ie,xmax:Be,ymin:We,ymax:Ge,pts:[],contains:function(st,gt,ct,kt){for(var Dt=!1,vt=0;vt<Pe.length;vt++)Pe[vt].contains(st,gt,ct,kt)&&(Dt=!Pe[vt].subtract);return Dt},isRect:!1,degenerate:!1}}}function ae(_e,Pe,Ie){var Be=Pe._fullLayout,We=Ie.plotinfo,Ge=Ie.dragmode,Ke=Be._lastSelectedSubplot&&Be._lastSelectedSubplot===We.id,tt=(_e.shiftKey||_e.altKey)&&!(o(Ge)&&l(Ge));Ke&&tt&&We.selection&&We.selection.selectionDefs&&!Ie.selectionDefs?(Ie.selectionDefs=We.selection.selectionDefs,Ie.mergedPolygons=We.selection.mergedPolygons):tt&&We.selection||ue(Ie),Ke||(T(Pe),Be._lastSelectedSubplot=We.id)}function ue(_e,Pe){var Ie=_e.dragmode,Be=_e.plotinfo,We=_e.gd;We._fullLayout._activeShapeIndex>=0&&We._fullLayout._deactivateShape(We),We._fullLayout._activeSelectionIndex>=0&&We._fullLayout._deactivateSelection(We);var Ge=We._fullLayout._zoomlayer,Ke=o(Ie),tt=c(Ie);if(Ke||tt){var st,gt,ct=Ge.selectAll(".select-outline-"+Be.id);ct&&We._fullLayout._outlining&&(Ke&&(st=x(ct,_e)),st&&f.call("_guiRelayout",We,{shapes:st}),tt&&!se(_e)&&(gt=b(ct,_e)),gt&&(We._fullLayout._noEmitSelectedAtStart=!0,f.call("_guiRelayout",We,{selections:gt}).then(function(){Pe&&A(We)})),We._fullLayout._outlining=!1)}Be.selection={},Be.selection.selectionDefs=_e.selectionDefs=[],Be.selection.mergedPolygons=_e.mergedPolygons=[]}function he(_e){return _e._id}function pe(_e,Pe,Ie,Be){if(!_e.calcdata)return[];var We,Ge,Ke,tt=[],st=Pe.map(he),gt=Ie.map(he);for(Ke=0;Ke<_e.calcdata.length;Ke++)if(!0===(Ge=(We=_e.calcdata[Ke])[0].trace).visible&&Ge._module&&Ge._module.selectPoints)if(!se({subplot:Be})||Ge.subplot!==Be&&Ge.geo!==Be)if("splom"===Ge.type){if(Ge._xaxes[st[0]]&&Ge._yaxes[gt[0]]){var ct=ge(Ge._module,We,Pe[0],Ie[0]);ct.scene=_e._fullLayout._splomScenes[Ge.uid],tt.push(ct)}}else if("sankey"===Ge.type){var kt=ge(Ge._module,We,Pe[0],Ie[0]);tt.push(kt)}else{if(-1===st.indexOf(Ge.xaxis)||-1===gt.indexOf(Ge.yaxis))continue;tt.push(ge(Ge._module,We,R(_e,Ge.xaxis),R(_e,Ge.yaxis)))}else tt.push(ge(Ge._module,We,Pe[0],Ie[0]));return tt}function ge(_e,Pe,Ie,Be){return{_module:_e,cd:Pe,xaxis:Ie,yaxis:Be}}function xe(_e){var Pe=_e.searchInfo.cd[0].trace,Be=_e.pointNumbers;return!!Pe.selectedpoints&&Pe.selectedpoints.indexOf(Be.length>0?Be[0]:_e.pointNumber)>-1}function Se(_e,Pe,Ie){var Be,We;for(Be=0;Be<Pe.length;Be++){var Ge=Pe[Be].cd[0].trace._fullInput,Ke=_e._fullLayout._tracePreGUI[Ge.uid]||{};void 0===Ke.selectedpoints&&(Ke.selectedpoints=Ge._input.selectedpoints||null)}if(Ie){var tt=Ie.points||[];for(Be=0;Be<Pe.length;Be++)(We=Pe[Be].cd[0].trace)._input.selectedpoints=We._fullInput.selectedpoints=[],We._fullInput!==We&&(We.selectedpoints=[]);for(var st=0;st<tt.length;st++){var gt=tt[st],ct=gt.data,kt=gt.fullData,Dt=gt.pointIndex,vt=gt.pointIndices;vt?([].push.apply(ct.selectedpoints,vt),We._fullInput!==We&&[].push.apply(kt.selectedpoints,vt)):(ct.selectedpoints.push(Dt),We._fullInput!==We&&kt.selectedpoints.push(Dt))}}else for(Be=0;Be<Pe.length;Be++)delete(We=Pe[Be].cd[0].trace).selectedpoints,delete We._input.selectedpoints,We._fullInput!==We&&delete We._fullInput.selectedpoints;!function(mt,Et){for(var Lt=!1,Rt=0;Rt<Et.length;Rt++){var Ut=Et[Rt],Bt=Ut.cd;f.traceIs(Bt[0].trace,"regl")&&(Lt=!0);var rt=Ut._module,ot=rt.styleOnSelect||rt.style;ot&&(ot(mt,Bt,Bt[0].node3),Bt[0].nodeRangePlot3&&ot(mt,Bt,Bt[0].nodeRangePlot3))}Lt&&(L(mt),N(mt))}(_e,Pe)}function Te(_e,Pe,Ie){for(var Be=(Ie?I.difference:I.union)({regions:_e},{regions:[Pe]}).regions.reverse(),We=0;We<Be.length;We++){var Ge=Be[We];Ge.subtract=ce(Ge,Be.slice(0,We))}return Be}function ye(_e,Pe){if(Array.isArray(_e))for(var Ie=Pe.cd,Be=Pe.cd[0].trace,We=0;We<_e.length;We++)_e[We]=u(_e[We],Be,Ie);return _e}function we(_e,Pe){for(var Ie=[],Be=0;Be<_e.length;Be++){Ie[Be]=[];for(var We=0;We<_e[Be].length;We++){Ie[Be][We]=[],Ie[Be][We][0]=We?"L":"M";for(var Ge=0;Ge<_e[Be][We].length;Ge++)Ie[Be][We].push(_e[Be][We][Ge])}Pe||Ie[Be].push(["Z",Ie[Be][0][1],Ie[Be][0][2]])}return Ie}function ze(_e,Pe){for(var Ie,Be,We=[],Ge=[],Ke=0;Ke<Pe.length;Ke++){var tt=Pe[Ke];Be=tt._module.selectPoints(tt,_e),Ge.push(Be),Ie=ye(Be,tt),We=We.concat(Ie)}return We}function ke(_e,Pe,Ie,Be,We){var Ge,Ke,tt,st=!!Be;We&&(Ge=We.plotinfo,Ke=We.xaxes[0]._id,tt=We.yaxes[0]._id);var gt=[],ct=[],kt=de(_e),Dt=_e._fullLayout;if(Ge){var vt=Dt._zoomlayer,mt=Dt.dragmode,Et=o(mt),Lt=c(mt);if(Et||Lt){var Rt=R(_e,Ke,"x"),Ut=R(_e,tt,"y");if(Rt&&Ut){var Bt=vt.selectAll(".select-outline-"+Ge.id);if(Bt&&_e._fullLayout._outlining&&Bt.length){for(var rt=Bt[0][0].getAttribute("d"),ot=w(rt,_e,Ge),Je=[],it=0;it<ot.length;it++){for(var dt=ot[it],ht=[],Ve=0;Ve<dt.length;Ve++)ht.push([Ae(Rt,dt[Ve][1]),Ae(Ut,dt[Ve][2])]);ht.xref=Ke,ht.yref=tt,ht.subtract=ce(ht,Je),Je.push(ht)}kt=kt.concat(Je)}}}}var qe=Ke&&tt?[Ke+tt]:Dt._subplots.cartesian;!function(Un){var qn=Un.calcdata;if(qn)for(var Ln=0;Ln<qn.length;Ln++){var _r=Un._fullLayout._splomScenes;if(_r){var dr=_r[qn[Ln][0].trace.uid];dr&&(dr.selectBatch=[])}}}(_e);for(var ut={},ft=0;ft<qe.length;ft++){var St=qe[ft],Mt=St.indexOf("y"),Tt=St.slice(0,Mt),xt=St.slice(Mt),Nt=Ke&&tt?Ie:void 0;if(Nt=me(kt,Tt,xt,Nt)){var bt=Be;if(!st){var wt=R(_e,Tt,"x"),It=R(_e,xt,"y");bt=pe(_e,[wt],[It],St);for(var Wt=0;Wt<bt.length;Wt++){var Yt=bt[Wt],Zt=Yt.cd[0],dn=Zt.trace;if("scattergl"===Yt._module.name&&!Zt.t.xpx){var nn=dn.x,un=dn.y,rn=dn._length;Zt.t.xpx=[],Zt.t.ypx=[];for(var kn=0;kn<rn;kn++)Zt.t.xpx[kn]=wt.c2p(nn[kn]),Zt.t.ypx[kn]=It.c2p(un[kn])}"splom"===Yt._module.name&&(ut[dn.uid]||(ut[dn.uid]=!0))}}var Pn=ze(Nt,bt);gt=gt.concat(Pn),ct=ct.concat(bt)}}var Sn={points:gt};Se(_e,ct,Sn);var en=Dt.clickmode.indexOf("event")>-1&&Pe;if(!Ge&&Pe){var vn=de(_e,!0);if(vn.length){var hn=vn[0].xref,yn=vn[0].yref;if(hn&&yn){var Cn=Ne(vn);De([R(_e,hn,"x"),R(_e,yn,"y")])(Sn,Cn)}}_e._fullLayout._noEmitSelectedAtStart?_e._fullLayout._noEmitSelectedAtStart=!1:en&&Ue(_e,Sn),Dt._reselect=!1}if(!Ge&&Dt._deselect){var _n=Dt._deselect;(function(Un,qn,Ln){for(var Yn=0;Yn<Ln.length;Yn++){var _r=Ln[Yn];if(_r.xaxis&&_r.xaxis._id===Un&&_r.yaxis&&_r.yaxis._id===qn)return!0}return!1})(Ke=_n.xref,tt=_n.yref,ct)||Ee(_e,Ke,tt,Be),en&&(Sn.points.length?Ue(_e,Sn):Ye(_e)),Dt._deselect=!1}return{eventData:Sn,selectionTesters:Ie}}function Ee(_e,Pe,Ie,Be){Be=pe(_e,[R(_e,Pe,"x")],[R(_e,Ie,"y")],Pe+Ie);for(var We=0;We<Be.length;We++){var Ge=Be[We];Ge._module.selectPoints(Ge,!1)}Se(_e,Be)}function me(_e,Pe,Ie,Be){for(var We,Ge=0;Ge<_e.length;Ge++){var Ke=_e[Ge];Pe===Ke.xref&&Ie===Ke.yref&&(We?Be=ne(We=Te(We,Ke,!!Ke.subtract)):(We=[Ke],Be=Y(Ke)))}return Be}function de(_e,Pe){for(var Ie=[],Be=_e._fullLayout,We=Be.selections,Ge=We.length,Ke=0;Ke<Ge;Ke++)if(!Pe||Ke===Be._activeSelectionIndex){var tt=We[Ke];if(tt){var st,gt,ct,kt,Dt,vt=tt.xref,mt=tt.yref,Et=R(_e,vt,"x"),Lt=R(_e,mt,"y");if("rect"===tt.type){Dt=[];var Rt=Ae(Et,tt.x0),Ut=Ae(Et,tt.x1),Bt=Ae(Lt,tt.y0),rt=Ae(Lt,tt.y1);Dt=[[Rt,Bt],[Rt,rt],[Ut,rt],[Ut,Bt]],st=Math.min(Rt,Ut),gt=Math.max(Rt,Ut),ct=Math.min(Bt,rt),kt=Math.max(Bt,rt),Dt.xmin=st,Dt.xmax=gt,Dt.ymin=ct,Dt.ymax=kt,Dt.xref=vt,Dt.yref=mt,Dt.subtract=!1,Dt.isRect=!0,Ie.push(Dt)}else if("path"===tt.type)for(var ot=tt.path.split("Z"),Je=[],it=0;it<ot.length;it++){var dt=ot[it];if(dt){var ht=h.extractPathCoords(dt+="Z",v.paramIsX,"raw"),Ve=h.extractPathCoords(dt,v.paramIsY,"raw");st=1/0,gt=-1/0,ct=1/0,kt=-1/0,Dt=[];for(var qe=0;qe<ht.length;qe++){var ut=Ae(Et,ht[qe]),ft=Ae(Lt,Ve[qe]);Dt.push([ut,ft]),st=Math.min(ut,st),gt=Math.max(ut,gt),ct=Math.min(ft,ct),kt=Math.max(ft,kt)}Dt.xmin=st,Dt.xmax=gt,Dt.ymin=ct,Dt.ymax=kt,Dt.xref=vt,Dt.yref=mt,Dt.subtract=ce(Dt,Je),Je.push(Dt),Ie.push(Dt)}}}}return Ie}function ce(_e,Pe){for(var Ie=!1,Be=0;Be<Pe.length;Be++)for(var We=Pe[Be],Ge=0;Ge<_e.length;Ge++)if(E(_e[Ge],We)){Ie=!Ie;break}return Ie}function Ae(_e,Pe){return"date"===_e.type&&(Pe=Pe.replace("_"," ")),"log"===_e.type?_e.c2p(Pe):_e.r2p(Pe,null,_e.calendar)}function Ne(_e){for(var Pe=_e.length,Ie=[],Be=0;Be<Pe;Be++){var We=_e[Be];Ie=(Ie=Ie.concat(We)).concat([We[0]])}return(Ge=Ie).isRect=5===Ge.length&&Ge[0][0]===Ge[4][0]&&Ge[0][1]===Ge[4][1]&&Ge[0][0]===Ge[1][0]&&Ge[2][0]===Ge[3][0]&&Ge[0][1]===Ge[3][1]&&Ge[1][1]===Ge[2][1]||Ge[0][1]===Ge[1][1]&&Ge[2][1]===Ge[3][1]&&Ge[0][0]===Ge[3][0]&&Ge[1][0]===Ge[2][0],Ge.isRect&&(Ge.xmin=Math.min(Ge[0][0],Ge[2][0]),Ge.xmax=Math.max(Ge[0][0],Ge[2][0]),Ge.ymin=Math.min(Ge[0][1],Ge[2][1]),Ge.ymax=Math.max(Ge[0][1],Ge[2][1])),Ge;var Ge}function De(_e){return function(Pe,Ie){for(var Be,We,Ge=0;Ge<_e.length;Ge++){var Ke=_e[Ge],tt=Ke._id,st=tt.charAt(0);if(Ie.isRect){Be||(Be={});var gt=Ie[st+"min"],ct=Ie[st+"max"];void 0!==gt&&void 0!==ct&&(Be[tt]=[U(Ke,gt),U(Ke,ct)].sort(C))}else We||(We={}),We[tt]=Ie.map(Z(Ke))}Be&&(Pe.range=Be),We&&(Pe.lassoPoints=We)}}function Ue(_e,Pe){Pe&&(Pe.selections=(_e.layout||{}).selections||[]),_e.emit("plotly_selected",Pe)}function Ye(_e){_e.emit("plotly_deselect",null)}oe.exports={reselect:ke,prepSelect:function(_e,Pe,Ie,Be,We){var Ge=!se(Be),Ke=s(We),tt=a(We),st=l(We),gt=o(We),ct=c(We),kt="drawcircle"===We,Dt="drawline"===We||kt,vt=Be.gd,mt=vt._fullLayout,Et=ct&&"immediate"===mt.newselection.mode&&Ge,Lt=mt._zoomlayer,Rt=Be.element.getBoundingClientRect(),Ut=Be.plotinfo,Bt=X(Ut),rt=Pe-Rt.left,ot=Ie-Rt.top;mt._calcInverseTransform(vt);var it,dt,ht,Ve,qe,ut,ft,Je=m.apply3DTransform(mt._invTransform)(rt,ot),St=mt._invScaleX,Mt=mt._invScaleY,Tt=rt=Je[0],xt=ot=Je[1],Nt="M"+rt+","+ot,bt=Be.xaxes[0],wt=Be.yaxes[0],It=bt._length,Wt=wt._length,Yt=_e.altKey&&!(o(We)&&st);ae(_e,vt,Be),Ke&&(it=z([[rt,ot]],B.BENDPX));var Zt=Lt.selectAll("path.select-outline-"+Ut.id).data([1]),dn=gt?mt.newshape:mt.newselection;gt&&(Be.hasText=dn.label.text||dn.label.texttemplate);var nn=gt&&!st?dn.fillcolor:"rgba(0,0,0,0)",un=dn.line.color||(Ge?M.contrast(vt._fullLayout.plot_bgcolor):"#7f7f7f");Zt.enter().append("path").attr("class","select-outline select-outline-"+Ut.id).style({opacity:gt?dn.opacity/2:1,"stroke-dasharray":S(dn.line.dash,dn.line.width),"stroke-width":dn.line.width+"px","shape-rendering":"crispEdges"}).call(M.stroke,un).call(M.fill,nn).attr("fill-rule","evenodd").classed("cursor-move",!!gt).attr("transform",Bt).attr("d",Nt+"Z");var rn=Lt.append("path").attr("class","zoombox-corners").style({fill:M.background,stroke:M.defaultLine,"stroke-width":1}).attr("transform",Bt).attr("d","M0,0Z");if(gt&&Be.hasText){var kn=Lt.select(".label-temp");kn.empty()&&(kn=Lt.append("g").classed("label-temp",!0).classed("select-outline",!0).style({opacity:.8}))}var Pn=mt._uid+B.SELECTID,Sn=[],en=pe(vt,Be.xaxes,Be.yaxes,Be.subplot);Et&&!_e.shiftKey&&(Be._clearSubplotSelections=function(){if(Ge){var hn=bt._id,yn=wt._id;Ee(vt,hn,yn,en);for(var Cn=(vt.layout||{}).selections||[],_n=[],Un=!1,qn=0;qn<Cn.length;qn++){var Ln=mt.selections[qn];Ln.xref!==hn||Ln.yref!==yn?_n.push(Cn[qn]):Un=!0}Un&&(vt._fullLayout._noEmitSelectedAtStart=!0,f.call("_guiRelayout",vt,{selections:_n}))}});var hn,vn=(hn=Be).plotinfo.fillRangeItems||De(hn.xaxes.concat(hn.yaxes));Be.moveFn=function(hn,yn){Be._clearSubplotSelections&&(Be._clearSubplotSelections(),Be._clearSubplotSelections=void 0),Tt=Math.max(0,Math.min(It,St*hn+rt)),xt=Math.max(0,Math.min(Wt,Mt*yn+ot));var Cn=Math.abs(Tt-rt),_n=Math.abs(xt-ot);if(tt){var Un,qn,Ln;if(ct){var Yn=mt.selectdirection;switch(Un="any"===Yn?_n<Math.min(.6*Cn,J)?"h":Cn<Math.min(.6*_n,J)?"v":"d":Yn){case"h":qn=kt?Wt/2:0,Ln=Wt;break;case"v":qn=kt?It/2:0,Ln=It}}if(gt)switch(mt.newshape.drawdirection){case"vertical":Un="h",qn=kt?Wt/2:0,Ln=Wt;break;case"horizontal":Un="v",qn=kt?It/2:0,Ln=It;break;case"ortho":Cn<_n?(Un="h",qn=ot,Ln=xt):(Un="v",qn=rt,Ln=Tt);break;default:Un="d"}"h"===Un?((Ve=Dt?g(kt,[Tt,qn],[Tt,Ln]):[[rt,qn],[rt,Ln],[Tt,Ln],[Tt,qn]]).xmin=Dt?Tt:Math.min(rt,Tt),Ve.xmax=Dt?Tt:Math.max(rt,Tt),Ve.ymin=Math.min(qn,Ln),Ve.ymax=Math.max(qn,Ln),rn.attr("d","M"+Ve.xmin+","+(ot-J)+"h-4v"+2*J+"h4ZM"+(Ve.xmax-1)+","+(ot-J)+"h4v"+2*J+"h-4Z")):"v"===Un?((Ve=Dt?g(kt,[qn,xt],[Ln,xt]):[[qn,ot],[qn,xt],[Ln,xt],[Ln,ot]]).xmin=Math.min(qn,Ln),Ve.xmax=Math.max(qn,Ln),Ve.ymin=Dt?xt:Math.min(ot,xt),Ve.ymax=Dt?xt:Math.max(ot,xt),rn.attr("d","M"+(rt-J)+","+Ve.ymin+"v-4h"+2*J+"v4ZM"+(rt-J)+","+(Ve.ymax-1)+"v4h"+2*J+"v-4Z")):"d"===Un&&((Ve=Dt?g(kt,[rt,ot],[Tt,xt]):[[rt,ot],[rt,xt],[Tt,xt],[Tt,ot]]).xmin=Math.min(rt,Tt),Ve.xmax=Math.max(rt,Tt),Ve.ymin=Math.min(ot,xt),Ve.ymax=Math.max(ot,xt),rn.attr("d","M0,0Z"))}else Ke&&(it.addPt([Tt,xt]),Ve=it.filtered);if(Be.selectionDefs&&Be.selectionDefs.length?(ht=Te(Be.mergedPolygons,Ve,Yt),Ve.subtract=Yt,dt=ne(Be.selectionDefs.concat([Ve]))):(ht=[Ve],dt=Y(Ve)),p(we(ht,st),Zt,Be),ct){var _r,dr=ke(vt,!1),kr=dr.eventData?dr.eventData.points.slice():[];dr=ke(vt,!1,dt,en,Be),dt=dr.selectionTesters,ft=dr.eventData,_r=it?it.filtered:Ne(ht),P.throttle(Pn,B.SELECTDELAY,function(){for(var vr=(Sn=ze(dt,en)).slice(),mr=0;mr<kr.length;mr++){for(var Br=kr[mr],qt=!1,on=0;on<vr.length;on++)if(vr[on].curveNumber===Br.curveNumber&&vr[on].pointNumber===Br.pointNumber){qt=!0;break}qt||vr.push(Br)}vr.length&&(ft||(ft={}),ft.points=vr),vn(ft,_r),vt.emit("plotly_selecting",ft)})}},Be.clickFn=function(hn,yn){if(rn.remove(),vt._fullLayout._activeShapeIndex>=0)vt._fullLayout._deactivateShape(vt);else if(!gt){var Cn=mt.clickmode;P.done(Pn).then(function(){if(P.clear(Pn),2===hn){for(Zt.remove(),qe=0;qe<en.length;qe++)(ut=en[qe])._module.selectPoints(ut,!1);if(Se(vt,en),ue(Be),Ye(vt),en.length){var _n=en[0].xaxis,Un=en[0].yaxis;if(_n&&Un){for(var qn=[],Ln=vt._fullLayout.selections,Yn=0;Yn<Ln.length;Yn++){var _r=Ln[Yn];_r&&(_r.xref===_n._id&&_r.yref===Un._id||qn.push(_r))}qn.length<Ln.length&&(vt._fullLayout._noEmitSelectedAtStart=!0,f.call("_guiRelayout",vt,{selections:qn}))}}}else Cn.indexOf("select")>-1&&re(yn,vt,Be.xaxes,Be.yaxes,Be.subplot,Be,Zt),"event"===Cn&&Ue(vt,void 0);y.click(vt,yn)}).catch(m.error)}},Be.doneFn=function(){rn.remove(),P.done(Pn).then(function(){P.clear(Pn),!Et&&Ve&&Be.selectionDefs&&(Ve.subtract=Yt,Be.selectionDefs.push(Ve),Be.mergedPolygons.length=0,[].push.apply(Be.mergedPolygons,ht)),(Et||gt)&&ue(Be,Et),Be.doneFnCompleted&&Be.doneFnCompleted(Sn),ct&&Ue(vt,ft)}).catch(m.error)}},clearOutline:T,clearSelectionsCache:ue,selectOnClick:re}},89827:function(oe,j,r){"use strict";var I=r(50215),E=r(41940),f=r(82196).line,S=r(79952).P,M=r(1426).extendFlat,y=r(44467).templatedArray,u=(r(24695),r(9012)),i=r(5386).R,s=r(37281);oe.exports=y("shape",{visible:M({},u.visible,{editType:"calc+arraydraw"}),showlegend:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},legend:M({},u.legend,{editType:"calc+arraydraw"}),legendgroup:M({},u.legendgroup,{editType:"calc+arraydraw"}),legendgrouptitle:{text:M({},u.legendgrouptitle.text,{editType:"calc+arraydraw"}),font:E({editType:"calc+arraydraw"}),editType:"calc+arraydraw"},legendrank:M({},u.legendrank,{editType:"calc+arraydraw"}),legendwidth:M({},u.legendwidth,{editType:"calc+arraydraw"}),type:{valType:"enumerated",values:["circle","rect","path","line"],editType:"calc+arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},xref:M({},I.xref,{}),xsizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},xanchor:{valType:"any",editType:"calc+arraydraw"},x0:{valType:"any",editType:"calc+arraydraw"},x1:{valType:"any",editType:"calc+arraydraw"},yref:M({},I.yref,{}),ysizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},yanchor:{valType:"any",editType:"calc+arraydraw"},y0:{valType:"any",editType:"calc+arraydraw"},y1:{valType:"any",editType:"calc+arraydraw"},path:{valType:"string",editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},line:{color:M({},f.color,{editType:"arraydraw"}),width:M({},f.width,{editType:"calc+arraydraw"}),dash:M({},S,{editType:"arraydraw"}),editType:"calc+arraydraw"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"arraydraw"},editable:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},label:{text:{valType:"string",dflt:"",editType:"arraydraw"},texttemplate:i({},{keys:Object.keys(s)}),font:E({editType:"calc+arraydraw",colorEditType:"arraydraw"}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"],editType:"arraydraw"},textangle:{valType:"angle",dflt:"auto",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],editType:"calc+arraydraw"},padding:{valType:"number",dflt:3,min:0,editType:"arraydraw"},editType:"arraydraw"},editType:"arraydraw"})},5627:function(oe,j,r){"use strict";var I=r(71828),E=r(89298),f=r(21459),S=r(30477);function M(s){return u(s.line.width,s.xsizemode,s.x0,s.x1,s.path,!1)}function y(s){return u(s.line.width,s.ysizemode,s.y0,s.y1,s.path,!0)}function u(s,a,o,l,c,h){var v=s/2,p=h;if("pixel"===a){var T=c?S.extractPathCoords(c,h?f.paramIsY:f.paramIsX):[o,l],_=I.aggNums(Math.max,null,T),g=I.aggNums(Math.min,null,T),w=g<0?Math.abs(g)+v:v,x=_>0?_+v:v;return{ppad:v,ppadplus:p?w:x,ppadminus:p?x:w}}return{ppad:v}}function i(s,a,o,l,c){var h="category"===s.type||"multicategory"===s.type?s.r2c:s.d2c;if(void 0!==a)return[h(a),h(o)];if(l){var v,p,T,_,g=1/0,w=-1/0,x=l.match(f.segmentRE);for("date"===s.type&&(h=S.decodeDate(h)),v=0;v<x.length;v++)void 0!==(p=c[x[v].charAt(0)].drawn)&&(!(T=x[v].substr(1).match(f.paramRE))||T.length<p||((_=h(T[p]))<g&&(g=_),_>w&&(w=_)));return w>=g?[g,w]:void 0}}oe.exports=function(s){var o=I.filterVisible(s._fullLayout.shapes);if(o.length&&s._fullData.length)for(var l=0;l<o.length;l++){var c,h,v=o[l];v._extremes={};var p=E.getRefType(v.xref),T=E.getRefType(v.yref);if("paper"!==v.xref&&"domain"!==p){var _="pixel"===v.xsizemode?v.xanchor:v.x0,g="pixel"===v.xsizemode?v.xanchor:v.x1;(h=i(c=E.getFromId(s,v.xref),_,g,v.path,f.paramIsX))&&(v._extremes[c._id]=E.findExtremes(c,h,M(v)))}if("paper"!==v.yref&&"domain"!==T){var w="pixel"===v.ysizemode?v.yanchor:v.y0,x="pixel"===v.ysizemode?v.yanchor:v.y1;(h=i(c=E.getFromId(s,v.yref),w,x,v.path,f.paramIsY))&&(v._extremes[c._id]=E.findExtremes(c,h,y(v)))}}}},21459:function(oe){"use strict";oe.exports={segmentRE:/[MLHVQCTSZ][^MLHVQCTSZ]*/g,paramRE:/[^\s,]+/g,paramIsX:{M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},paramIsY:{M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:5},Z:{}},numParams:{M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0}}},84726:function(oe,j,r){"use strict";var I=r(71828),E=r(89298),f=r(85501),S=r(89827),M=r(30477);function y(u,i,s){function a(q,U){return I.coerce(u,i,S,q,U)}if(i._isShape=!0,a("visible")){a("showlegend")&&(a("legend"),a("legendwidth"),a("legendgroup"),a("legendgrouptitle.text"),I.coerceFont(a,"legendgrouptitle.font"),a("legendrank"));var o=a("path"),l=a("type",o?"path":"rect"),c="path"!==l;c&&delete i.path,a("editable"),a("layer"),a("opacity"),a("fillcolor"),a("fillrule"),a("line.width")&&(a("line.color"),a("line.dash"));for(var h=a("xsizemode"),v=a("ysizemode"),p=["x","y"],T=0;T<2;T++){var _,g,w,x=p[T],b=x+"anchor",A="x"===x?h:v,m={_fullLayout:s},C=E.coerceRef(u,i,m,x,void 0,"paper");if("range"===E.getRefType(C)?((_=E.getFromId(m,C))._shapeIndices.push(i._index),w=M.rangeToShapePosition(_),g=M.shapePositionToRange(_)):g=w=I.identity,c){var k=x+"0",P=x+"1",R=u[k],L=u[P];u[k]=g(u[k],!0),u[P]=g(u[P],!0),"pixel"===A?(a(k,0),a(P,10)):(E.coercePosition(i,m,a,C,k,.25),E.coercePosition(i,m,a,C,P,.75)),i[k]=w(i[k]),i[P]=w(i[P]),u[k]=R,u[P]=L}if("pixel"===A){var N=u[b];u[b]=g(u[b],!0),E.coercePosition(i,m,a,C,b,.25),i[b]=w(i[b]),u[b]=N}}c&&I.noneOrAll(u,i,["x0","x1","y0","y1"]);var B,J,z="line"===l;if(c&&(B=a("label.texttemplate")),B||(J=a("label.text")),J||B){a("label.textangle");var Y=a("label.textposition",z?"middle":"middle center");a("label.xanchor"),a("label.yanchor",(U=Y,z?"bottom":-1!==U.indexOf("top")?"top":-1!==U.indexOf("bottom")?"bottom":"middle")),a("label.padding"),I.coerceFont(a,"label.font",s.font)}}var U}oe.exports=function(u,i){f(u,i,{name:"shapes",handleItemDefaults:y})}},48100:function(oe,j,r){"use strict";var I=r(71828),E=r(89298),f=r(63893),S=r(91424),M=r(60165).readPaths,y=r(30477),u=y.getPathString,i=r(37281),s=r(18783).FROM_TL;oe.exports=function(a,o,l,c){if(c.selectAll(".shape-label").remove(),l.label.text||l.label.texttemplate){var h;if(l.label.texttemplate){var v={};if("path"!==l.type){var p=E.getFromId(a,l.xref),T=E.getFromId(a,l.yref);for(var _ in i){var g=i[_](l,p,T);void 0!==g&&(v[_]=g)}}h=I.texttemplateStringForShapes(l.label.texttemplate,{},a._fullLayout._d3locale,v)}else h=l.label.text;var w,x,b,A,m={"data-index":o},C=l.label.font,k=c.append("g").attr(m).classed("shape-label",!0).append("text").attr({"data-notex":1}).classed("shape-label-text",!0).text(h);if(l.path){var P=u(a,l),R=M(P,a);w=1/0,b=1/0,x=-1/0,A=-1/0;for(var L=0;L<R.length;L++)for(var N=0;N<R[L].length;N++)for(var B=R[L][N],J=1;J<B.length;J+=2){var z=B[J],Y=B[J+1];w=Math.min(w,z),x=Math.max(x,z),b=Math.min(b,Y),A=Math.max(A,Y)}}else{var q=E.getFromId(a,l.xref),U=E.getRefType(l.xref),Z=E.getFromId(a,l.yref),X=E.getRefType(l.yref),se=y.getDataToPixel(a,q,!1,U),re=y.getDataToPixel(a,Z,!0,X);w=se(l.x0),x=se(l.x1),b=re(l.y0),A=re(l.y1)}var ee=l.label.textangle;"auto"===ee&&(ee="line"===l.type?(he=w,pe=b,ge=x,xe=A,Te=Math.abs(ge-he),-180/Math.PI*Math.atan2(ge>=he?pe-xe:xe-pe,Te)):0),k.call(function(he){return he.call(S.font,C).attr({}),f.convertToTspans(he,a),he});var K=function(he,pe,ge,xe,Se,Te,ye){var we,ze,ke,Ee,me=Se.label.textposition,de=Se.label.textangle,ce=Se.label.padding,Ae=Se.type,Ne=Math.PI/180*Te,De=Math.sin(Ne),Ue=Math.cos(Ne),Ye=Se.label.xanchor,_e=Se.label.yanchor;if("line"===Ae){"start"===me?(we=he,ze=pe):"end"===me?(we=ge,ze=xe):(we=(he+ge)/2,ze=(pe+xe)/2),"auto"===Ye&&(Ye="start"===me?"auto"===de?ge>he?"left":ge<he?"right":"center":ge>he?"right":ge<he?"left":"center":"end"===me?"auto"===de?ge>he?"right":ge<he?"left":"center":ge>he?"left":ge<he?"right":"center":"center");var Pe={bottom:-1,middle:0,top:1};if("auto"===de){var Ie=Pe[_e];ke=-ce*De*Ie,Ee=ce*Ue*Ie}else ke=ce*{left:1,center:0,right:-1}[Ye],Ee=ce*Pe[_e];we+=ke,ze+=Ee}else ke=ce+3,-1!==me.indexOf("right")?(we=Math.max(he,ge)-ke,"auto"===Ye&&(Ye="right")):-1!==me.indexOf("left")?(we=Math.min(he,ge)+ke,"auto"===Ye&&(Ye="left")):(we=(he+ge)/2,"auto"===Ye&&(Ye="center")),ze=-1!==me.indexOf("top")?Math.min(pe,xe):-1!==me.indexOf("bottom")?Math.max(pe,xe):(pe+xe)/2,Ee=ce,"bottom"===_e?ze-=Ee:"top"===_e&&(ze+=Ee);var Be=s[_e],We=Se.label.font.size,Ge=ye.height;return{textx:we+(Ge*Be-We)*De,texty:ze+-(Ge*Be-We)*Ue,xanchor:Ye}}(w,b,x,A,l,ee,S.bBox(k.node())),ne=K.textx,ae=K.texty;k.attr({"text-anchor":{left:"start",center:"middle",right:"end"}[K.xanchor],y:ae,x:ne,transform:"rotate("+ee+","+ne+","+ae+")"}).call(f.positionText,ne,ae)}var he,pe,ge,xe,Te}},42359:function(oe,j,r){"use strict";var I=r(71828).strTranslate,E=r(28569),f=r(64505),S=f.drawMode,M=f.selectMode,y=r(73972),u=r(7901),i=r(89995),s=i.i000,a=i.i090,o=i.i180,l=i.i270,c=r(51873).clearOutlineControllers,h=r(60165),v=h.pointsOnRectangle,p=h.pointsOnEllipse,T=h.writePaths,_=r(90551).newShapes,g=r(90551).createShapeObj,w=r(35855),x=r(48100);function b(A,m){var C,k,P,N=A.length;return k=A[C=(m+1)%N][1],P=A[C][2],k===A[m][1]&&P===A[m][2]&&(k=A[C=(m+2)%N][1],P=A[C][2]),[C,k,P]}oe.exports=function A(m,C,k,P){P||(P=0);var R=k.gd;function L(){A(m,C,k,P++),(p(m[0])||k.hasText)&&N({redrawing:!0})}function N(Se){var Te={};void 0!==k.isActiveShape&&(k.isActiveShape=!1,Te=_(C,k)),void 0!==k.isActiveSelection&&(k.isActiveSelection=!1,Te=w(C,k),R._fullLayout._reselect=!0),Object.keys(Te).length&&y.call((Se||{}).redrawing?"relayout":"_guiRelayout",R,Te)}var B,J,z,Y,q,U=R._fullLayout._zoomlayer,Z=k.dragmode,X=S(Z),se=M(Z);if((X||se)&&(R._fullLayout._outlining=!0),c(R),C.attr("d",T(m)),P||!k.isActiveShape&&!k.isActiveSelection||(q=function(Se,Te){for(var ye=0;ye<Te.length;ye++){var we=Te[ye];Se[ye]=[];for(var ze=0;ze<we.length;ze++){Se[ye][ze]=[];for(var ke=0;ke<we[ze].length;ke++)Se[ye][ze][ke]=we[ze][ke]}}return Se}([],m),function(Se){B=[];for(var Te=0;Te<m.length;Te++){var ye=m[Te],we=v(ye),ze=!we&&p(ye);B[Te]=[];for(var ke=ye.length,Ee=0;Ee<ke;Ee++)if("Z"!==ye[Ee][0]&&(!ze||Ee===s||Ee===a||Ee===o||Ee===l)){var me,de=we&&k.isActiveSelection;de&&(me=b(ye,Ee));var ce=ye[Ee][1],Ae=ye[Ee][2],Ne=Se.append(de?"rect":"circle").attr("data-i",Te).attr("data-j",Ee).style({fill:u.background,stroke:u.defaultLine,"stroke-width":1,"shape-rendering":"crispEdges"});if(de){var De=me[1]-ce,Ue=me[2]-Ae,Ye=Ue?5:Math.max(Math.min(25,Math.abs(De)-5),5),_e=De?5:Math.max(Math.min(25,Math.abs(Ue)-5),5);Ne.classed(Ue?"cursor-ew-resize":"cursor-ns-resize",!0).attr("width",Ye).attr("height",_e).attr("x",ce-Ye/2).attr("y",Ae-_e/2).attr("transform",I(De/2,Ue/2))}else Ne.classed("cursor-grab",!0).attr("r",5).attr("cx",ce).attr("cy",Ae);B[Te][Ee]={element:Ne.node(),gd:R,prepFn:K,doneFn:ae,clickFn:ue},E.init(B[Te][Ee])}}}(U.append("g").attr("class","outline-controllers")),J=[],m.length&&(J[0]={element:C[0][0],gd:R,prepFn:function pe(Se){(z=+Se.srcElement.getAttribute("data-i"))||(z=0),J[z].moveFn=he},doneFn:function ge(){N()},clickFn:function xe(Se){2===Se&&function(Te){if(M(Te._fullLayout.dragmode)){c(Te);var ye=Te._fullLayout._activeSelectionIndex,we=(Te.layout||{}).selections||[];if(ye<we.length){for(var ze=[],ke=0;ke<we.length;ke++)ke!==ye&&ze.push(we[ke]);delete Te._fullLayout._activeSelectionIndex;var Ee=Te._fullLayout.selections[ye];Te._fullLayout._deselect={xref:Ee.xref,yref:Ee.yref},y.call("_guiRelayout",Te,{selections:ze})}}}(R)}},E.init(J[0]))),X&&k.hasText){var re=U.select(".label-temp"),ee=g(C,k,k.dragmode);x(R,"label-temp",ee,re)}function K(Se){z=+Se.srcElement.getAttribute("data-i"),Y=+Se.srcElement.getAttribute("data-j"),B[z][Y].moveFn=ne}function ne(Se,Te){if(m.length){var ye=q[z][Y][1],we=q[z][Y][2],ze=m[z],ke=ze.length;if(v(ze)){var Ee=Se,me=Te;k.isActiveSelection&&(b(ze,Y)[1]===ze[Y][1]?me=0:Ee=0);for(var de=0;de<ke;de++)if(de!==Y){var ce=ze[de];ce[1]===ze[Y][1]&&(ce[1]=ye+Ee),ce[2]===ze[Y][2]&&(ce[2]=we+me)}if(ze[Y][1]=ye+Ee,ze[Y][2]=we+me,!v(ze))for(var Ae=0;Ae<ke;Ae++)for(var Ne=0;Ne<ze[Ae].length;Ne++)ze[Ae][Ne]=q[z][Ae][Ne]}else ze[Y][1]=ye+Se,ze[Y][2]=we+Te;L()}}function ae(){N()}function ue(Se,Te){if(2===Se){z=+Te.srcElement.getAttribute("data-i"),Y=+Te.srcElement.getAttribute("data-j");var ye=m[z];v(ye)||p(ye)||function(){if(m.length&&m[z]&&m[z].length){for(var we=[],ze=0;ze<m[z].length;ze++)ze!==Y&&we.push(m[z][ze]);we.length>1&&(2!==we.length||"Z"!==we[1][0])&&(0===Y&&(we[0][0]="M"),m[z]=we,L(),N())}}()}}function he(Se,Te){(function(ye,we){if(m.length)for(var ze=0;ze<m.length;ze++)for(var ke=0;ke<m[ze].length;ke++)for(var Ee=0;Ee+2<m[ze][ke].length;Ee+=2)m[ze][ke][Ee+1]=q[ze][ke][Ee+1]+ye,m[ze][ke][Ee+2]=q[ze][ke][Ee+2]+we})(Se,Te),L()}}},34031:function(oe,j,r){"use strict";var I=r(39898),E=r(73972),f=r(71828),S=r(89298),M=r(60165).readPaths,y=r(42359),u=r(48100),i=r(51873).clearOutlineControllers,s=r(7901),a=r(91424),o=r(44467).arrayEditor,l=r(28569),c=r(6964),h=r(21459),v=r(30477),p=v.getPathString;function T(m){var C=m._fullLayout;for(var k in C._shapeUpperLayer.selectAll("path").remove(),C._shapeLowerLayer.selectAll("path").remove(),C._shapeUpperLayer.selectAll("text").remove(),C._shapeLowerLayer.selectAll("text").remove(),C._plots){var P=C._plots[k].shapelayer;P&&(P.selectAll("path").remove(),P.selectAll("text").remove())}for(var R=0;R<C.shapes.length;R++)!0===C.shapes[R].visible&&w(m,R)}function _(m){return!!m._fullLayout._outlining}function g(m){return!m._context.edits.shapePosition}function w(m,C){m._fullLayout._paperdiv.selectAll('.shapelayer [data-index="'+C+'"]').remove();var k=v.makeShapesOptionsAndPlotinfo(m,C),P=k.options,R=k.plotinfo;P._input&&!0===P.visible&&function L(N){var B=p(m,P),J={"data-index":C,"fill-rule":P.fillrule,d:B},z=P.opacity,Y=P.fillcolor,q=P.line.width?P.line.color:"rgba(0,0,0,0)",U=P.line.width,Z=P.line.dash;U||!0!==P.editable||(U=5,Z="solid");var X="Z"!==B[B.length-1],se=g(m)&&P.editable&&m._fullLayout._activeShapeIndex===C;se&&(Y=X?"rgba(0,0,0,0)":m._fullLayout.activeshape.fillcolor,z=m._fullLayout.activeshape.opacity);var re,ee=N.append("g").classed("shape-group",!0).attr({"data-index":C}),K=ee.append("path").attr(J).style("opacity",z).call(s.stroke,q).call(s.fill,Y).call(a.dashLine,Z,U);if(x(ee,m,P),u(m,C,P,ee),(se||m._context.edits.shapePosition)&&(re=o(m.layout,"shapes",P)),se){K.style({cursor:"move"});var ne={element:K.node(),plotinfo:R,gd:m,editHelpers:re,hasText:P.label.text||P.label.texttemplate,isActiveShape:!0},ae=M(B,m);y(ae,K,ne)}else m._context.edits.shapePosition?function(ue,he,pe,ge,xe,Se){var Te,ye,we,ze,ke,Ee,me,de,ce,Ae,Ne,De,Ue,Ye,_e,Pe,We="pixel"===pe.xsizemode,Ge="pixel"===pe.ysizemode,Ke="line"===pe.type,tt="path"===pe.type,st=Se.modifyItem,gt=I.select(he.node().parentNode),ct=S.getFromId(ue,pe.xref),kt=S.getRefType(pe.xref),Dt=S.getFromId(ue,pe.yref),vt=S.getRefType(pe.yref),mt=v.getDataToPixel(ue,ct,!1,kt),Et=v.getDataToPixel(ue,Dt,!0,vt),Lt=v.getPixelToData(ue,ct,!1,kt),Rt=v.getPixelToData(ue,Dt,!0,vt),Ut=Ke?function(){var Ve=Math.max(pe.line.width,10),qe=xe.append("g").attr("data-index",ge).attr("drag-helper",!0);qe.append("path").attr("d",he.attr("d")).style({cursor:"move","stroke-width":Ve,"stroke-opacity":"0"});var ut={"fill-opacity":"0"},ft=Math.max(Ve/2,10);return qe.append("circle").attr({"data-line-point":"start-point",cx:We?mt(pe.xanchor)+pe.x0:mt(pe.x0),cy:Ge?Et(pe.yanchor)-pe.y0:Et(pe.y0),r:ft}).style(ut).classed("cursor-grab",!0),qe.append("circle").attr({"data-line-point":"end-point",cx:We?mt(pe.xanchor)+pe.x1:mt(pe.x1),cy:Ge?Et(pe.yanchor)-pe.y1:Et(pe.y1),r:ft}).style(ut).classed("cursor-grab",!0),qe}():he,Bt={element:Ut.node(),gd:ue,prepFn:function(ht){var Ve,qe,ut,ft,St,Mt,Tt,xt;_(ue)||(We&&(ke=mt(pe.xanchor)),Ge&&(Ee=Et(pe.yanchor)),"path"===pe.type?_e=pe.path:(Te=We?pe.x0:mt(pe.x0),ye=Ge?pe.y0:Et(pe.y0),we=We?pe.x1:mt(pe.x1),ze=Ge?pe.y1:Et(pe.y1)),Te<we?(ce=Te,Ue="x0",Ae=we,Ye="x1"):(ce=we,Ue="x1",Ae=Te,Ye="x0"),!Ge&&ye<ze||Ge&&ye>ze?(me=ye,Ne="y0",de=ze,De="y1"):(me=ze,Ne="y1",de=ye,De="y0"),rt(ht),it(xe,pe),Ve=he,St=(qe=pe).yref,Mt=S.getFromId(ut=ue,ft=qe.xref),Tt=S.getFromId(ut,St),xt="","paper"===ft||Mt.autorange||(xt+=ft),"paper"===St||Tt.autorange||(xt+=St),a.setClipUrl(Ve,xt?"clip"+ut._fullLayout._uid+xt:null,ut),Bt.moveFn="move"===Pe?ot:Je,Bt.altKey=ht.altKey)},doneFn:function(){_(ue)||(c(he),dt(xe),x(he,ue,pe),E.call("_guiRelayout",ue,Se.getUpdateObj()))},clickFn:function(){_(ue)||dt(xe)}};function rt(ht){if(_(ue))Pe=null;else if(Ke)Pe="path"===ht.target.tagName?"move":"start-point"===ht.target.attributes["data-line-point"].value?"resize-over-start-point":"resize-over-end-point";else{var Ve=Bt.element.getBoundingClientRect(),qe=Ve.right-Ve.left,ut=Ve.bottom-Ve.top,Mt=!tt&&qe>10&&ut>10&&!ht.shiftKey?l.getCursor((ht.clientX-Ve.left)/qe,1-(ht.clientY-Ve.top)/ut):"move";c(he,Mt),Pe=Mt.split("-")[0]}}function ot(ht,Ve){if("path"===pe.type){var qe=function(St){return St},ut=qe,ft=qe;We?st("xanchor",pe.xanchor=Lt(ke+ht)):(ut=function(St){return Lt(mt(St)+ht)},ct&&"date"===ct.type&&(ut=v.encodeDate(ut))),Ge?st("yanchor",pe.yanchor=Rt(Ee+Ve)):(ft=function(St){return Rt(Et(St)+Ve)},Dt&&"date"===Dt.type&&(ft=v.encodeDate(ft))),st("path",pe.path=b(_e,ut,ft))}else We?st("xanchor",pe.xanchor=Lt(ke+ht)):(st("x0",pe.x0=Lt(Te+ht)),st("x1",pe.x1=Lt(we+ht))),Ge?st("yanchor",pe.yanchor=Rt(Ee+Ve)):(st("y0",pe.y0=Rt(ye+Ve)),st("y1",pe.y1=Rt(ze+Ve)));he.attr("d",p(ue,pe)),it(xe,pe),u(ue,ge,pe,gt)}function Je(ht,Ve){if(tt){var qe=function(un){return un},ut=qe,ft=qe;We?st("xanchor",pe.xanchor=Lt(ke+ht)):(ut=function(un){return Lt(mt(un)+ht)},ct&&"date"===ct.type&&(ut=v.encodeDate(ut))),Ge?st("yanchor",pe.yanchor=Rt(Ee+Ve)):(ft=function(un){return Rt(Et(un)+Ve)},Dt&&"date"===Dt.type&&(ft=v.encodeDate(ft))),st("path",pe.path=b(_e,ut,ft))}else if(Ke){if("resize-over-start-point"===Pe){var St=Te+ht,Mt=Ge?ye-Ve:ye+Ve;st("x0",pe.x0=We?St:Lt(St)),st("y0",pe.y0=Ge?Mt:Rt(Mt))}else if("resize-over-end-point"===Pe){var Tt=we+ht,xt=Ge?ze-Ve:ze+Ve;st("x1",pe.x1=We?Tt:Lt(Tt)),st("y1",pe.y1=Ge?xt:Rt(xt))}}else{var Nt=function(un){return-1!==Pe.indexOf(un)},bt=Nt("n"),wt=Nt("s"),It=Nt("w"),Wt=Nt("e"),Yt=bt?me+Ve:me,Zt=wt?de+Ve:de,dn=It?ce+ht:ce,nn=Wt?Ae+ht:Ae;Ge&&(bt&&(Yt=me-Ve),wt&&(Zt=de-Ve)),(!Ge&&Zt-Yt>10||Ge&&Yt-Zt>10)&&(st(Ne,pe[Ne]=Ge?Yt:Rt(Yt)),st(De,pe[De]=Ge?Zt:Rt(Zt))),nn-dn>10&&(st(Ue,pe[Ue]=We?dn:Lt(dn)),st(Ye,pe[Ye]=We?nn:Lt(nn)))}he.attr("d",p(ue,pe)),it(xe,pe),u(ue,ge,pe,gt)}function it(ht,Ve){(We||Ge)&&function(){var qe="path"!==Ve.type,ut=ht.selectAll(".visual-cue").data([0]);ut.enter().append("path").attr({fill:"#fff","fill-rule":"evenodd",stroke:"#000","stroke-width":1}).classed("visual-cue",!0);var ft=mt(We?Ve.xanchor:f.midRange(qe?[Ve.x0,Ve.x1]:v.extractPathCoords(Ve.path,h.paramIsX))),St=Et(Ge?Ve.yanchor:f.midRange(qe?[Ve.y0,Ve.y1]:v.extractPathCoords(Ve.path,h.paramIsY)));ft=v.roundPositionForSharpStrokeRendering(ft,1),St=v.roundPositionForSharpStrokeRendering(St,1),ut.attr("d",We&&Ge?"M"+(ft-1-1)+","+(St-1-1)+"h-8v2h8 v8h2v-8 h8v-2h-8 v-8h-2 Z":We?"M"+(ft-1-1)+","+(St-9-1)+"v18 h2 v-18 Z":"M"+(ft-9-1)+","+(St-1-1)+"h18 v2 h-18 Z")}()}function dt(ht){ht.selectAll(".visual-cue").remove()}l.init(Bt),Ut.node().onmousemove=rt}(m,K,P,C,N,re):!0===P.editable&&K.style("pointer-events",X||s.opacity(Y)*z<=.5?"stroke":"all");K.node().addEventListener("click",function(){return function(ue,he){if(g(ue)){var pe=+he.node().getAttribute("data-index");if(pe>=0){if(pe===ue._fullLayout._activeShapeIndex)return void A(ue);ue._fullLayout._activeShapeIndex=pe,ue._fullLayout._deactivateShape=A,T(ue)}}}(m,K)})}("below"!==P.layer?m._fullLayout._shapeUpperLayer:"paper"===P.xref||"paper"===P.yref?m._fullLayout._shapeLowerLayer:R._hadPlotinfo?(R.mainplotinfo||R).shapelayer:m._fullLayout._shapeLowerLayer)}function x(m,C,k){var P=(k.xref+k.yref).replace(/paper/g,"").replace(/[xyz][1-9]* *domain/g,"");a.setClipUrl(m,P?"clip"+C._fullLayout._uid+P:null,C)}function b(m,C,k){return m.replace(h.segmentRE,function(P){var R=0,L=P.charAt(0),N=h.paramIsX[L],B=h.paramIsY[L],J=h.numParams[L];return L+P.substr(1).replace(h.paramRE,function(z){return R>=J||(N[R]?z=C(z):B[R]&&(z=k(z)),R++),z})})}function A(m){g(m)&&m._fullLayout._activeShapeIndex>=0&&(i(m),delete m._fullLayout._activeShapeIndex,T(m))}oe.exports={draw:T,drawOne:w,eraseActiveShape:function(m){if(g(m)){i(m);var C=m._fullLayout._activeShapeIndex,k=(m.layout||{}).shapes||[];if(C<k.length){for(var P=[],R=0;R<k.length;R++)R!==C&&P.push(k[R]);return delete m._fullLayout._activeShapeIndex,E.call("_guiRelayout",m,{shapes:P})}}},drawLabel:u}},29241:function(oe,j,r){"use strict";var I=r(30962).overrideAll,E=r(9012),f=r(41940),S=r(79952).P,M=r(1426).extendFlat,y=r(5386).R,u=r(37281);oe.exports=I({newshape:{visible:M({},E.visible,{}),showlegend:{valType:"boolean",dflt:!1},legend:M({},E.legend,{}),legendgroup:M({},E.legendgroup,{}),legendgrouptitle:{text:M({},E.legendgrouptitle.text,{}),font:f({})},legendrank:M({},E.legendrank,{}),legendwidth:M({},E.legendwidth,{}),line:{color:{valType:"color"},width:{valType:"number",min:0,dflt:4},dash:M({},S,{dflt:"solid"})},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd"},opacity:{valType:"number",min:0,max:1,dflt:1},layer:{valType:"enumerated",values:["below","above"],dflt:"above"},drawdirection:{valType:"enumerated",values:["ortho","horizontal","vertical","diagonal"],dflt:"diagonal"},name:M({},E.name,{}),label:{text:{valType:"string",dflt:""},texttemplate:y({newshape:!0},{keys:Object.keys(u)}),font:f({}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"]},textangle:{valType:"angle",dflt:"auto"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},padding:{valType:"number",dflt:3,min:0}}},activeshape:{fillcolor:{valType:"color",dflt:"rgb(255,0,255)"},opacity:{valType:"number",min:0,max:1,dflt:.5}}},"none","from-root")},89995:function(oe){"use strict";oe.exports={CIRCLE_SIDES:32,i000:0,i090:8,i180:16,i270:24,cos45:Math.cos(Math.PI/4),sin45:Math.sin(Math.PI/4),SQRT2:Math.sqrt(2)}},45547:function(oe,j,r){"use strict";var I=r(7901),E=r(71828);oe.exports=function(f,S,M){M("newshape.visible"),M("newshape.name"),M("newshape.showlegend"),M("newshape.legend"),M("newshape.legendwidth"),M("newshape.legendgroup"),M("newshape.legendgrouptitle.text"),E.coerceFont(M,"newshape.legendgrouptitle.font"),M("newshape.legendrank"),M("newshape.drawdirection"),M("newshape.layer"),M("newshape.fillcolor"),M("newshape.fillrule"),M("newshape.opacity"),M("newshape.line.width")&&(M("newshape.line.color",I.contrast((f||{}).plot_bgcolor||"#FFF")),M("newshape.line.dash"));var l,u="drawline"===f.dragmode,i=M("newshape.label.text"),s=M("newshape.label.texttemplate");if(i||s){M("newshape.label.textangle");var a=M("newshape.label.textposition",u?"middle":"middle center");M("newshape.label.xanchor"),M("newshape.label.yanchor",(l=a,u?"bottom":-1!==l.indexOf("top")?"top":-1!==l.indexOf("bottom")?"bottom":"middle")),M("newshape.label.padding"),E.coerceFont(M,"newshape.label.font",S.font)}M("activeshape.fillcolor"),M("activeshape.opacity")}},60165:function(oe,j,r){"use strict";var I=r(95616),E=r(89995),f=E.CIRCLE_SIDES,S=E.SQRT2,M=r(75549),y=M.p2r,u=M.r2p,i=[0,3,4,5,6,1,2],s=[0,3,4,1,2];function a(l,c){return Math.abs(l-c)<=1e-6}function o(l,c){var h=c[1]-l[1],v=c[2]-l[2];return Math.sqrt(h*h+v*v)}j.writePaths=function(l){var c=l.length;if(!c)return"M0,0Z";for(var h="",v=0;v<c;v++)for(var p=l[v].length,T=0;T<p;T++){var _=l[v][T][0];if("Z"===_)h+="Z";else for(var g=l[v][T].length,w=0;w<g;w++){var x=w;"Q"===_||"S"===_?x=s[w]:"C"===_&&(x=i[w]),h+=l[v][T][x],w>0&&w<g-1&&(h+=",")}}return h},j.readPaths=function(l,c,h,v){var p,T,_,g=I(l),w=[],x=-1,b=0,A=0,m=function(){T=b,_=A};m();for(var C=0;C<g.length;C++){var N=[],B=g[C][0],J=B;switch(B){case"M":w[++x]=[],N.push([J,b=+g[C][1],A=+g[C][2]]),m();break;case"Q":case"S":N.push([J,b=+g[C][3],A=+g[C][4],+g[C][1],+g[C][2]]);break;case"C":N.push([J,b=+g[C][5],A=+g[C][6],+g[C][1],+g[C][2],+g[C][3],+g[C][4]]);break;case"T":case"L":N.push([J,b=+g[C][1],A=+g[C][2]]);break;case"H":N.push([J="L",b=+g[C][1],A]);break;case"V":N.push([J="L",b,A=+g[C][1]]);break;case"A":J="L";var z=+g[C][1],Y=+g[C][2];+g[C][4]||(z=-z,Y=-Y);var q=b-z,U=A;for(p=1;p<=f/2;p++){var Z=2*Math.PI*p/f;N.push([J,q+z*Math.cos(Z),U+Y*Math.sin(Z)])}break;case"Z":b===T&&A===_||N.push([J,b=T,A=_])}for(var X=(h||{}).domain,se=c._fullLayout._size,re=h&&"pixel"===h.xsizemode,ee=h&&"pixel"===h.ysizemode,K=!1===v,ne=0;ne<N.length;ne++){for(p=0;p+2<7;p+=2){var ae=N[ne][p+1],ue=N[ne][p+2];void 0!==ae&&void 0!==ue&&(b=ae,A=ue,h&&(h.xaxis&&h.xaxis.p2r?(K&&(ae-=h.xaxis._offset),ae=re?u(h.xaxis,h.xanchor)+ae:y(h.xaxis,ae)):(K&&(ae-=se.l),X?ae=X.x[0]+ae/se.w:ae/=se.w),h.yaxis&&h.yaxis.p2r?(K&&(ue-=h.yaxis._offset),ue=ee?u(h.yaxis,h.yanchor)-ue:y(h.yaxis,ue)):(K&&(ue-=se.t),ue=X?X.y[1]-ue/se.h:1-ue/se.h)),N[ne][p+1]=ae,N[ne][p+2]=ue)}w[x].push(N[ne].slice())}}return w},j.pointsOnRectangle=function(l){if(5!==l.length)return!1;for(var c=1;c<3;c++)if(!a(l[0][c]-l[1][c],l[3][c]-l[2][c])||!a(l[0][c]-l[3][c],l[1][c]-l[2][c]))return!1;return!(!a(l[0][1],l[1][1])&&!a(l[0][1],l[3][1])||!(o(l[0],l[1])*o(l[0],l[3])))},j.pointsOnEllipse=function(l){var c=l.length;if(c!==f+1)return!1;c=f;for(var h=0;h<c;h++){var v=(2*c-h)%c,p=(c/2+v)%c;if(!a(o(l[h],l[(c/2+h)%c]),o(l[v],l[p])))return!1}return!0},j.handleEllipse=function(l,c,h){if(!l)return[c,h];var v=j.ellipseOver({x0:c[0],y0:c[1],x1:h[0],y1:h[1]}),p=(v.x1+v.x0)/2,T=(v.y1+v.y0)/2,_=(v.x1-v.x0)/2,g=(v.y1-v.y0)/2;_||(_=g/=S),g||(g=_/=S);for(var w=[],x=0;x<f;x++){var b=2*x*Math.PI/f;w.push([p+_*Math.cos(b),T+g*Math.sin(b)])}return w},j.ellipseOver=function(l){var c=l.x0,h=l.y0,v=l.x1,p=l.y1,T=v-c,_=p-h,g=((c-=T)+v)/2,w=((h-=_)+p)/2;return{x0:g-(T*=S),y0:w-(_*=S),x1:g+T,y1:w+_}},j.fixDatesForPaths=function(l,c,h){var v="date"===c.type,p="date"===h.type;if(!v&&!p)return l;for(var T=0;T<l.length;T++)for(var _=0;_<l[T].length;_++)for(var g=0;g+2<l[T][_].length;g+=2)v&&(l[T][_][g+1]=l[T][_][g+1].replace(" ","_")),p&&(l[T][_][g+2]=l[T][_][g+2].replace(" ","_"));return l}},90551:function(oe,j,r){"use strict";var I=r(64505),E=I.drawMode,f=I.openMode,S=r(89995),M=S.i000,y=S.i090,u=S.i180,i=S.i270,s=S.cos45,a=S.sin45,o=r(75549),l=o.p2r,c=o.r2p,h=r(51873).clearOutline,v=r(60165),p=v.readPaths,T=v.writePaths,_=v.ellipseOver,g=v.fixDatesForPaths;function w(x,b,A){var m,k=b.gd,P=x[0][0].getAttribute("d"),R=k._fullLayout.newshape,L=b.plotinfo,N=b.isActiveShape,B=L.xaxis,J=L.yaxis,z=!!L.domain||!L.xaxis,Y=!!L.domain||!L.yaxis,q=f(A),U=p(P,k,L,N),Z={editable:!0,visible:R.visible,name:R.name,showlegend:R.showlegend,legend:R.legend,legendwidth:R.legendwidth,legendgroup:R.legendgroup,legendgrouptitle:{text:R.legendgrouptitle.text,font:R.legendgrouptitle.font},legendrank:R.legendrank,label:R.label,xref:z?"paper":B._id,yref:Y?"paper":J._id,layer:R.layer,opacity:R.opacity,line:{color:R.line.color,width:R.line.width,dash:R.line.dash}};if(q||(Z.fillcolor=R.fillcolor,Z.fillrule=R.fillrule),1===U.length&&(m=U[0]),m&&5===m.length&&"drawrect"===A)Z.type="rect",Z.x0=m[0][1],Z.y0=m[0][2],Z.x1=m[2][1],Z.y1=m[2][2];else if(m&&"drawline"===A)Z.type="line",Z.x0=m[0][1],Z.y0=m[0][2],Z.x1=m[1][1],Z.y1=m[1][2];else if(m&&"drawcircle"===A){Z.type="circle";var X=m[M][1],se=m[y][1],re=m[u][1],ee=m[i][1],K=m[M][2],ne=m[y][2],ae=m[u][2],ue=m[i][2],he=L.xaxis&&("date"===L.xaxis.type||"log"===L.xaxis.type),pe=L.yaxis&&("date"===L.yaxis.type||"log"===L.yaxis.type);he&&(X=c(L.xaxis,X),se=c(L.xaxis,se),re=c(L.xaxis,re),ee=c(L.xaxis,ee)),pe&&(K=c(L.yaxis,K),ne=c(L.yaxis,ne),ae=c(L.yaxis,ae),ue=c(L.yaxis,ue));var ge=(se+ee)/2,xe=(K+ae)/2,Se=_({x0:ge,y0:xe,x1:ge+(ee-se+re-X)/2*s,y1:xe+(ue-ne+ae-K)/2*a});he&&(Se.x0=l(L.xaxis,Se.x0),Se.x1=l(L.xaxis,Se.x1)),pe&&(Se.y0=l(L.yaxis,Se.y0),Se.y1=l(L.yaxis,Se.y1)),Z.x0=Se.x0,Z.y0=Se.y0,Z.x1=Se.x1,Z.y1=Se.y1}else Z.type="path",B&&J&&g(U,B,J),Z.path=T(U),m=null;return Z}oe.exports={newShapes:function(x,b){if(x.length&&x[0][0]){var A=b.gd,m=b.isActiveShape,C=b.dragmode,k=(A.layout||{}).shapes||[];if(!E(C)&&void 0!==m){var P=A._fullLayout._activeShapeIndex;if(P<k.length)switch(A._fullLayout.shapes[P].type){case"rect":C="drawrect";break;case"circle":C="drawcircle";break;case"line":C="drawline";break;case"path":var R=k[P].path||"";C="Z"===R[R.length-1]?"drawclosedpath":"drawopenpath"}}var L=w(x,b,C);h(A);for(var N=b.editHelpers,B=(N||{}).modifyItem,J=[],z=0;z<k.length;z++){var Y=A._fullLayout.shapes[z];if(J[z]=Y._input,void 0!==m&&z===A._fullLayout._activeShapeIndex){var q=L;switch(Y.type){case"line":case"rect":case"circle":B("x0",q.x0),B("x1",q.x1),B("y0",q.y0),B("y1",q.y1);break;case"path":B("path",q.path)}}}return void 0===m?(J.push(L),J):N?N.getUpdateObj():{}}},createShapeObj:w}},51873:function(oe){"use strict";oe.exports={clearOutlineControllers:function(j){var r=j._fullLayout._zoomlayer;r&&r.selectAll(".outline-controllers").remove()},clearOutline:function(j){var r=j._fullLayout._zoomlayer;r&&r.selectAll(".select-outline").remove(),j._fullLayout._outlining=!1}}},30477:function(oe,j,r){"use strict";var I=r(21459),E=r(71828),f=r(89298);j.rangeToShapePosition=function(S){return"log"===S.type?S.r2d:function(M){return M}},j.shapePositionToRange=function(S){return"log"===S.type?S.d2r:function(M){return M}},j.decodeDate=function(S){return function(M){return M.replace&&(M=M.replace("_"," ")),S(M)}},j.encodeDate=function(S){return function(M){return S(M).replace(" ","_")}},j.extractPathCoords=function(S,M,y){var u=[];return S.match(I.segmentRE).forEach(function(i){var s=M[i.charAt(0)].drawn;if(void 0!==s){var a=i.substr(1).match(I.paramRE);if(a&&!(a.length<s)){var o=a[s],l=y?o:E.cleanNumber(o);u.push(l)}}}),u},j.getDataToPixel=function(S,M,y,u){var i,s=S._fullLayout._size;if(M)if("domain"===u)i=function(o){return M._length*(y?1-o:o)+M._offset};else{var a=j.shapePositionToRange(M);i=function(o){return M._offset+M.r2p(a(o,!0))},"date"===M.type&&(i=j.decodeDate(i))}else i=y?function(o){return s.t+s.h*(1-o)}:function(o){return s.l+s.w*o};return i},j.getPixelToData=function(S,M,y,u){var i,s=S._fullLayout._size;if(M)if("domain"===u)i=function(o){var l=(o-M._offset)/M._length;return y?1-l:l};else{var a=j.rangeToShapePosition(M);i=function(o){return a(M.p2r(o-M._offset))}}else i=y?function(o){return 1-(o-s.t)/s.h}:function(o){return(o-s.l)/s.w};return i},j.roundPositionForSharpStrokeRendering=function(S,M){var y=1===Math.round(M%2),u=Math.round(S);return y?u+.5:u},j.makeShapesOptionsAndPlotinfo=function(S,M){var y=S._fullLayout.shapes[M]||{},u=S._fullLayout._plots[y.xref+y.yref];return u?u._hadPlotinfo=!0:(u={},y.xref&&"paper"!==y.xref&&(u.xaxis=S._fullLayout[y.xref+"axis"]),y.yref&&"paper"!==y.yref&&(u.yaxis=S._fullLayout[y.yref+"axis"])),u.xsizemode=y.xsizemode,u.ysizemode=y.ysizemode,u.xanchor=y.xanchor,u.yanchor=y.yanchor,{options:y,plotinfo:u}},j.makeSelectionsOptionsAndPlotinfo=function(S,M){var y=S._fullLayout.selections[M]||{},u=S._fullLayout._plots[y.xref+y.yref];return u?u._hadPlotinfo=!0:(u={},y.xref&&(u.xaxis=S._fullLayout[y.xref+"axis"]),y.yref&&(u.yaxis=S._fullLayout[y.yref+"axis"])),{options:y,plotinfo:u}},j.getPathString=function(S,M){var y,u,i,s,a,o,l,c,R,L,N,J,z,Y,q,h=M.type,v=f.getRefType(M.xref),p=f.getRefType(M.yref),T=f.getFromId(S,M.xref),_=f.getFromId(S,M.yref),g=S._fullLayout._size;if(T?"domain"===v?u=function(R){return T._offset+T._length*R}:(y=j.shapePositionToRange(T),u=function(R){return T._offset+T.r2p(y(R,!0))}):u=function(R){return g.l+g.w*R},_?"domain"===p?s=function(R){return _._offset+_._length*(1-R)}:(i=j.shapePositionToRange(_),s=function(R){return _._offset+_.r2p(i(R,!0))}):s=function(R){return g.t+g.h*(1-R)},"path"===h)return T&&"date"===T.type&&(u=j.decodeDate(u)),_&&"date"===_.type&&(s=j.decodeDate(s)),L=u,N=s,J=(R=M).xsizemode,z=R.ysizemode,Y=R.xanchor,q=R.yanchor,R.path.replace(I.segmentRE,function(U){var Z=0,X=U.charAt(0),se=I.paramIsX[X],re=I.paramIsY[X],ee=I.numParams[X],K=U.substr(1).replace(I.paramRE,function(ne){return se[Z]?ne="pixel"===J?L(Y)+Number(ne):L(ne):re[Z]&&(ne="pixel"===z?N(q)-Number(ne):N(ne)),++Z>ee&&(ne="X"),ne});return Z>ee&&(K=K.replace(/[\s,]*X.*/,""),E.log("Ignoring extra params in segment "+U)),X+K});if("pixel"===M.xsizemode){var w=u(M.xanchor);a=w+M.x0,o=w+M.x1}else a=u(M.x0),o=u(M.x1);if("pixel"===M.ysizemode){var x=s(M.yanchor);l=x-M.y0,c=x-M.y1}else l=s(M.y0),c=s(M.y1);if("line"===h)return"M"+a+","+l+"L"+o+","+c;if("rect"===h)return"M"+a+","+l+"H"+o+"V"+c+"H"+a+"Z";var b=(a+o)/2,A=(l+c)/2,m=Math.abs(b-a),C=Math.abs(A-l),k="A"+m+","+C,P=b+m+","+A;return"M"+P+k+" 0 1,1 "+b+","+(A-C)+k+" 0 0,1 "+P+"Z"}},89853:function(oe,j,r){"use strict";var I=r(34031);oe.exports={moduleType:"component",name:"shapes",layoutAttributes:r(89827),supplyLayoutDefaults:r(84726),supplyDrawNewShapeDefaults:r(45547),includeBasePlot:r(76325)("shapes"),calcAutorange:r(5627),draw:I.draw,drawOne:I.drawOne}},37281:function(oe){"use strict";function j(f,S){return S?S.d2l(f):f}function r(f,S){return S?S.l2d(f):f}function I(f,S){return j(f.x1,S)-j(f.x0,S)}function E(f,S,M){return j(f.y1,M)-j(f.y0,M)}oe.exports={x0:function(f){return f.x0},x1:function(f){return f.x1},y0:function(f){return f.y0},y1:function(f){return f.y1},slope:function(f,S,M){return"line"!==f.type?void 0:E(f,0,M)/I(f,S)},dx:I,dy:E,width:function(f,S){return Math.abs(I(f,S))},height:function(f,S,M){return Math.abs(E(f,0,M))},length:function(f,S,M){return"line"!==f.type?void 0:Math.sqrt(Math.pow(I(f,S),2)+Math.pow(E(f,0,M),2))},xcenter:function(f,S){return r((j(f.x1,S)+j(f.x0,S))/2,S)},ycenter:function(f,S,M){return r((j(f.y1,M)+j(f.y0,M))/2,M)}}},75067:function(oe,j,r){"use strict";var I=r(41940),E=r(35025),f=r(1426).extendDeepAll,S=r(30962).overrideAll,M=r(85594),y=r(44467).templatedArray,u=r(98292),i=y("step",{visible:{valType:"boolean",dflt:!0},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string"},value:{valType:"string"},execute:{valType:"boolean",dflt:!0}});oe.exports=S(y("slider",{visible:{valType:"boolean",dflt:!0},active:{valType:"number",min:0,dflt:0},steps:i,lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",min:-2,max:3,dflt:0},pad:f(E({editType:"arraydraw"}),{},{t:{dflt:20}}),xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left"},y:{valType:"number",min:-2,max:3,dflt:0},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},transition:{duration:{valType:"number",min:0,dflt:150},easing:{valType:"enumerated",values:M.transition.easing.values,dflt:"cubic-in-out"}},currentvalue:{visible:{valType:"boolean",dflt:!0},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left"},offset:{valType:"number",dflt:10},prefix:{valType:"string"},suffix:{valType:"string"},font:I({})},font:I({}),activebgcolor:{valType:"color",dflt:u.gripBgActiveColor},bgcolor:{valType:"color",dflt:u.railBgColor},bordercolor:{valType:"color",dflt:u.railBorderColor},borderwidth:{valType:"number",min:0,dflt:u.railBorderWidth},ticklen:{valType:"number",min:0,dflt:u.tickLength},tickcolor:{valType:"color",dflt:u.tickColor},tickwidth:{valType:"number",min:0,dflt:1},minorticklen:{valType:"number",min:0,dflt:u.minorTickLength}}),"arraydraw","from-root")},98292:function(oe){"use strict";oe.exports={name:"sliders",containerClassName:"slider-container",groupClassName:"slider-group",inputAreaClass:"slider-input-area",railRectClass:"slider-rail-rect",railTouchRectClass:"slider-rail-touch-rect",gripRectClass:"slider-grip-rect",tickRectClass:"slider-tick-rect",inputProxyClass:"slider-input-proxy",labelsClass:"slider-labels",labelGroupClass:"slider-label-group",labelClass:"slider-label",currentValueClass:"slider-current-value",railHeight:5,menuIndexAttrName:"slider-active-index",autoMarginIdRoot:"slider-",minWidth:30,minHeight:30,textPadX:40,arrowOffsetX:4,railRadius:2,railWidth:5,railBorder:4,railBorderWidth:1,railBorderColor:"#bec8d9",railBgColor:"#f8fafc",railInset:8,stepInset:10,gripRadius:10,gripWidth:20,gripHeight:20,gripBorder:20,gripBorderWidth:1,gripBorderColor:"#bec8d9",gripBgColor:"#f6f8fa",gripBgActiveColor:"#dbdde0",labelPadding:8,labelOffset:0,tickWidth:1,tickColor:"#333",tickOffset:25,tickLength:7,minorTickOffset:25,minorTickColor:"#333",minorTickLength:4,currentValuePadding:8,currentValueInset:0}},12343:function(oe,j,r){"use strict";var I=r(71828),E=r(85501),f=r(75067),S=r(98292).name,M=f.steps;function y(i,s,a){function o(p,T){return I.coerce(i,s,f,p,T)}for(var l=E(i,s,{name:"steps",handleItemDefaults:u}),c=0,h=0;h<l.length;h++)l[h].visible&&c++;if(c<2?s.visible=!1:o("visible")){s._stepCount=c;var v=s._visibleSteps=I.filterVisible(l);(l[o("active")]||{}).visible||(s.active=v[0]._index),o("x"),o("y"),I.noneOrAll(i,s,["x","y"]),o("xanchor"),o("yanchor"),o("len"),o("lenmode"),o("pad.t"),o("pad.r"),o("pad.b"),o("pad.l"),I.coerceFont(o,"font",a.font),o("currentvalue.visible")&&(o("currentvalue.xanchor"),o("currentvalue.prefix"),o("currentvalue.suffix"),o("currentvalue.offset"),I.coerceFont(o,"currentvalue.font",s.font)),o("transition.duration"),o("transition.easing"),o("bgcolor"),o("activebgcolor"),o("bordercolor"),o("borderwidth"),o("ticklen"),o("tickwidth"),o("tickcolor"),o("minorticklen")}}function u(i,s){function a(l,c){return I.coerce(i,s,M,l,c)}if("skip"===i.method||Array.isArray(i.args)?a("visible"):s.visible=!1){a("method"),a("args");var o=a("label","step-"+s._index);a("value",o),a("execute")}}oe.exports=function(i,s){E(i,s,{name:S,handleItemDefaults:y})}},44504:function(oe,j,r){"use strict";var I=r(39898),E=r(74875),f=r(7901),S=r(91424),M=r(71828),y=M.strTranslate,u=r(63893),i=r(44467).arrayEditor,s=r(98292),a=r(18783),o=a.LINE_SPACING,l=a.FROM_TL,c=a.FROM_BR;function h(N){return s.autoMarginIdRoot+N._index}function v(N){return N._index}function p(N,B){var J=S.tester.selectAll("g."+s.labelGroupClass).data(B._visibleSteps);J.enter().append("g").classed(s.labelGroupClass,!0);var z=0,Y=0;J.each(function(ne){var ae=g(I.select(this),{step:ne},B).node();if(ae){var ue=S.bBox(ae);Y=Math.max(Y,ue.height),z=Math.max(z,ue.width)}}),J.remove();var q=B._dims={};q.inputAreaWidth=Math.max(s.railWidth,s.gripHeight);var U=N._fullLayout._size;if(q.lx=U.l+U.w*B.x,q.ly=U.t+U.h*(1-B.y),q.outerLength="fraction"===B.lenmode?Math.round(U.w*B.len):B.len,q.inputAreaStart=0,q.inputAreaLength=Math.round(q.outerLength-B.pad.l-B.pad.r),q.labelStride=Math.max(1,Math.ceil((z+s.labelPadding)/((q.inputAreaLength-2*s.stepInset)/(B._stepCount-1)))),q.labelHeight=Y,q.currentValueMaxWidth=0,q.currentValueHeight=0,q.currentValueTotalHeight=0,q.currentValueMaxLines=1,B.currentvalue.visible){var se=S.tester.append("g");J.each(function(ne){var ae=T(se,B,ne.label),ue=ae.node()&&S.bBox(ae.node())||{width:0,height:0},he=u.lineCount(ae);q.currentValueMaxWidth=Math.max(q.currentValueMaxWidth,Math.ceil(ue.width)),q.currentValueHeight=Math.max(q.currentValueHeight,Math.ceil(ue.height)),q.currentValueMaxLines=Math.max(q.currentValueMaxLines,he)}),q.currentValueTotalHeight=q.currentValueHeight+B.currentvalue.offset,se.remove()}q.height=q.currentValueTotalHeight+s.tickOffset+B.ticklen+s.labelOffset+q.labelHeight+B.pad.t+B.pad.b;var re="left";M.isRightAnchor(B)&&(q.lx-=q.outerLength,re="right"),M.isCenterAnchor(B)&&(q.lx-=q.outerLength/2,re="center");var ee="top";M.isBottomAnchor(B)&&(q.ly-=q.height,ee="bottom"),M.isMiddleAnchor(B)&&(q.ly-=q.height/2,ee="middle"),q.outerLength=Math.ceil(q.outerLength),q.height=Math.ceil(q.height),q.lx=Math.round(q.lx),q.ly=Math.round(q.ly);var K={y:B.y,b:q.height*c[ee],t:q.height*l[ee]};"fraction"===B.lenmode?(K.l=0,K.xl=B.x-B.len*l[re],K.r=0,K.xr=B.x+B.len*c[re]):(K.x=B.x,K.l=q.outerLength*l[re],K.r=q.outerLength*c[re]),E.autoMargin(N,h(B),K)}function T(N,B,J){if(B.currentvalue.visible){var z,Y,q=B._dims;switch(B.currentvalue.xanchor){case"right":z=q.inputAreaLength-s.currentValueInset-q.currentValueMaxWidth,Y="left";break;case"center":z=.5*q.inputAreaLength,Y="middle";break;default:z=s.currentValueInset,Y="left"}var U=M.ensureSingle(N,"text",s.labelClass,function(K){K.attr({"text-anchor":Y,"data-notex":1})}),Z=B.currentvalue.prefix?B.currentvalue.prefix:"";if("string"==typeof J)Z+=J;else{var X=B.steps[B.active].label,se=B._gd._fullLayout._meta;se&&(X=M.templateString(X,se)),Z+=X}B.currentvalue.suffix&&(Z+=B.currentvalue.suffix),U.call(S.font,B.currentvalue.font).text(Z).call(u.convertToTspans,B._gd);var re=u.lineCount(U);return u.positionText(U,z,(q.currentValueMaxLines+1-re)*B.currentvalue.font.size*o),U}}function _(N,B,J){M.ensureSingle(N,"rect",s.gripRectClass,function(z){z.call(A,B,N,J).style("pointer-events","all")}).attr({width:s.gripWidth,height:s.gripHeight,rx:s.gripRadius,ry:s.gripRadius}).call(f.stroke,J.bordercolor).call(f.fill,J.bgcolor).style("stroke-width",J.borderwidth+"px")}function g(N,B,J){var z=M.ensureSingle(N,"text",s.labelClass,function(U){U.attr({"text-anchor":"middle","data-notex":1})}),Y=B.step.label,q=J._gd._fullLayout._meta;return q&&(Y=M.templateString(Y,q)),z.call(S.font,J.font).text(Y).call(u.convertToTspans,J._gd),z}function w(N,B){var J=M.ensureSingle(N,"g",s.labelsClass),z=B._dims,Y=J.selectAll("g."+s.labelGroupClass).data(z.labelSteps);Y.enter().append("g").classed(s.labelGroupClass,!0),Y.exit().remove(),Y.each(function(q){var U=I.select(this);U.call(g,q,B),S.setTranslate(U,k(B,q.fraction),s.tickOffset+B.ticklen+B.font.size*o+s.labelOffset+z.currentValueTotalHeight)})}function x(N,B,J,z,Y){var q=Math.round(z*(J._stepCount-1)),U=J._visibleSteps[q]._index;U!==J.active&&b(N,B,J,U,!0,Y)}function b(N,B,J,z,Y,q){var U=J.active;J.active=z,i(N.layout,s.name,J).applyUpdate("active",z);var Z=J.steps[J.active];B.call(C,J,q),B.call(T,J),N.emit("plotly_sliderchange",{slider:J,step:J.steps[J.active],interaction:Y,previousActive:U}),Z&&Z.method&&Y&&(B._nextMethod?(B._nextMethod.step=Z,B._nextMethod.doCallback=Y,B._nextMethod.doTransition=q):(B._nextMethod={step:Z,doCallback:Y,doTransition:q},B._nextMethodRaf=window.requestAnimationFrame(function(){var X=B._nextMethod.step;X.method&&(X.execute&&E.executeAPICommand(N,X.method,X.args),B._nextMethod=null,B._nextMethodRaf=null)})))}function A(N,B,J){if(!B._context.staticPlot){var z=J.node(),Y=I.select(B);N.on("mousedown",U),N.on("touchstart",U)}function q(){return J.data()[0]}function U(){var Z=q();B.emit("plotly_sliderstart",{slider:Z});var X=J.select("."+s.gripRectClass);I.event.stopPropagation(),I.event.preventDefault(),X.call(f.fill,Z.activebgcolor);var se=P(Z,I.mouse(z)[0]);function re(){var K=q(),ne=P(K,I.mouse(z)[0]);x(B,J,K,ne,!1)}function ee(){var K=q();K._dragging=!1,X.call(f.fill,K.bgcolor),Y.on("mouseup",null),Y.on("mousemove",null),Y.on("touchend",null),Y.on("touchmove",null),B.emit("plotly_sliderend",{slider:K,step:K.steps[K.active]})}x(B,J,Z,se,!0),Z._dragging=!0,Y.on("mousemove",re),Y.on("touchmove",re),Y.on("mouseup",ee),Y.on("touchend",ee)}}function m(N,B){var J=N.selectAll("rect."+s.tickRectClass).data(B._visibleSteps),z=B._dims;J.enter().append("rect").classed(s.tickRectClass,!0),J.exit().remove(),J.attr({width:B.tickwidth+"px","shape-rendering":"crispEdges"}),J.each(function(Y,q){var U=q%z.labelStride==0,Z=I.select(this);Z.attr({height:U?B.ticklen:B.minorticklen}).call(f.fill,B.tickcolor),S.setTranslate(Z,k(B,q/(B._stepCount-1))-.5*B.tickwidth,(U?s.tickOffset:s.minorTickOffset)+z.currentValueTotalHeight)})}function C(N,B,J){for(var z=N.select("rect."+s.gripRectClass),Y=0,q=0;q<B._stepCount;q++)if(B._visibleSteps[q]._index===B.active){Y=q;break}var U=k(B,Y/(B._stepCount-1));if(!B._invokingCommand){var Z=z;J&&B.transition.duration>0&&(Z=Z.transition().duration(B.transition.duration).ease(B.transition.easing)),Z.attr("transform",y(U-.5*s.gripWidth,B._dims.currentValueTotalHeight))}}function k(N,B){var J=N._dims;return J.inputAreaStart+s.stepInset+(J.inputAreaLength-2*s.stepInset)*Math.min(1,Math.max(0,B))}function P(N,B){var J=N._dims;return Math.min(1,Math.max(0,(B-s.stepInset-J.inputAreaStart)/(J.inputAreaLength-2*s.stepInset-2*J.inputAreaStart)))}function R(N,B,J){var z=J._dims,Y=M.ensureSingle(N,"rect",s.railTouchRectClass,function(q){q.call(A,B,N,J).style("pointer-events","all")});Y.attr({width:z.inputAreaLength,height:Math.max(z.inputAreaWidth,s.tickOffset+J.ticklen+z.labelHeight)}).call(f.fill,J.bgcolor).attr("opacity",0),S.setTranslate(Y,0,z.currentValueTotalHeight)}function L(N,B){var J=B._dims,z=J.inputAreaLength-2*s.railInset,Y=M.ensureSingle(N,"rect",s.railRectClass);Y.attr({width:z,height:s.railWidth,rx:s.railRadius,ry:s.railRadius,"shape-rendering":"crispEdges"}).call(f.stroke,B.bordercolor).call(f.fill,B.bgcolor).style("stroke-width",B.borderwidth+"px"),S.setTranslate(Y,s.railInset,.5*(J.inputAreaWidth-s.railWidth)+J.currentValueTotalHeight)}oe.exports=function(N){var B=N._context.staticPlot,J=N._fullLayout,z=function(se,re){for(var ee=se[s.name],K=[],ne=0;ne<ee.length;ne++){var ae=ee[ne];ae.visible&&(ae._gd=re,K.push(ae))}return K}(J,N),Y=J._infolayer.selectAll("g."+s.containerClassName).data(z.length>0?[0]:[]);function q(se){se._commandObserver&&(se._commandObserver.remove(),delete se._commandObserver),E.autoMargin(N,h(se))}if(Y.enter().append("g").classed(s.containerClassName,!0).style("cursor",B?null:"ew-resize"),Y.exit().each(function(){I.select(this).selectAll("g."+s.groupClassName).each(q)}).remove(),0!==z.length){var U=Y.selectAll("g."+s.groupClassName).data(z,v);U.enter().append("g").classed(s.groupClassName,!0),U.exit().each(q).remove();for(var Z=0;Z<z.length;Z++)p(N,z[Z]);U.each(function(se){var re=I.select(this);(function(ee){var K=ee._dims;K.labelSteps=[];for(var ne=ee._stepCount,ae=0;ae<ne;ae+=K.labelStride)K.labelSteps.push({fraction:ae/(ne-1),step:ee._visibleSteps[ae]})})(se),E.manageCommandObserver(N,se,se._visibleSteps,function(ee){var K=re.data()[0];K.active!==ee.index&&(K._dragging||b(N,re,K,ee.index,!1,!0))}),function(ee,K,ne){(ne.steps[ne.active]||{}).visible||(ne.active=ne._visibleSteps[0]._index),K.call(T,ne).call(L,ne).call(w,ne).call(m,ne).call(R,ee,ne).call(_,ee,ne);var ae=ne._dims;S.setTranslate(K,ae.lx+ne.pad.l,ae.ly+ne.pad.t),K.call(C,ne,!1),K.call(T,ne)}(N,I.select(this),se)})}}},23243:function(oe,j,r){"use strict";var I=r(98292);oe.exports={moduleType:"component",name:I.name,layoutAttributes:r(75067),supplyLayoutDefaults:r(12343),draw:r(44504)}},92998:function(oe,j,r){"use strict";var I=r(39898),E=r(92770),f=r(74875),S=r(73972),M=r(71828),y=M.strTranslate,u=r(91424),i=r(7901),s=r(63893),a=r(37822),o=r(18783).OPPOSITE_SIDE,l=/ [XY][0-9]* /;oe.exports={draw:function(c,h,v){var p,T=v.propContainer,_=v.propName,g=v.placeholder,w=v.traceIndex,x=v.avoid||{},b=v.attributes,A=v.transform,m=v.containerGroup,C=c._fullLayout,k=1,P=!1,R=T.title,L=(R&&R.text?R.text:"").trim(),N=R&&R.font?R.font:{},B=N.family,J=N.size,z=N.color;"title.text"===_?p="titleText":-1!==_.indexOf("axis")?p="axisTitleText":_.indexOf(!0)&&(p="colorbarTitleText");var Y=c._context.edits[p];""===L?k=0:L.replace(l," % ")===g.replace(l," % ")&&(k=.2,P=!0,Y||(L="")),v._meta?L=M.templateString(L,v._meta):C._meta&&(L=M.templateString(L,C._meta));var q,U=L||Y;m||(m=M.ensureSingle(C._infolayer,"g","g-"+h),q=C._hColorbarMoveTitle);var Z=m.selectAll("text").data(U?[0]:[]);if(Z.enter().append("text"),Z.text(L).attr("class",h),Z.exit().remove(),!U)return m;function X(ee){M.syncOrAsync([se,re],ee)}function se(ee){var K;return!A&&q&&(A={}),A?(K="",A.rotate&&(K+="rotate("+[A.rotate,b.x,b.y]+")"),(A.offset||q)&&(K+=y(0,(A.offset||0)-(q||0)))):K=null,ee.attr("transform",K),ee.style({"font-family":B,"font-size":I.round(J,2)+"px",fill:i.rgb(z),opacity:k*i.opacity(z),"font-weight":f.fontWeight}).attr(b).call(s.convertToTspans,c),f.previousPromises(c)}function re(ee){var K=I.select(ee.node().parentNode);if(x&&x.selection&&x.side&&L){K.attr("transform",null);var ne=o[x.side],ae="left"===x.side||"top"===x.side?-1:1,ue=E(x.pad)?x.pad:2,he=u.bBox(K.node()),pe={t:0,b:0,l:0,r:0},ge=c._fullLayout._reservedMargin;for(var xe in ge)for(var Se in ge[xe])pe[Se]=Math.max(pe[Se],ge[xe][Se]);var we=x.maxShift||ae*({left:pe.l,top:pe.t,right:C.width-pe.r,bottom:C.height-pe.b}[x.side]-he[x.side]),ze=0;if(we<0)ze=we;else{var ke=x.offsetLeft||0,Ee=x.offsetTop||0;he.left-=ke,he.right-=ke,he.top-=Ee,he.bottom-=Ee,x.selection.each(function(){var de=u.bBox(this);M.bBoxIntersect(he,de,ue)&&(ze=Math.max(ze,ae*(de[x.side]-he[ne])+ue))}),ze=Math.min(we,ze),T._titleScoot=Math.abs(ze)}if(ze>0||we<0){var me={left:[-ze,0],right:[ze,0],top:[0,-ze],bottom:[0,ze]}[x.side];K.attr("transform",y(me[0],me[1]))}}}return Z.call(X),Y&&(L?Z.on(".opacity",null):(k=0,P=!0,Z.text(g).on("mouseover.opacity",function(){I.select(this).transition().duration(a.SHOW_PLACEHOLDER).style("opacity",1)}).on("mouseout.opacity",function(){I.select(this).transition().duration(a.HIDE_PLACEHOLDER).style("opacity",0)})),Z.call(s.makeEditable,{gd:c}).on("edit",function(ee){void 0!==w?S.call("_guiRestyle",c,_,ee,w):S.call("_guiRelayout",c,_,ee)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call(X)}).on("input",function(ee){this.text(ee||" ").call(s.positionText,b.x,b.y)})),Z.classed("js-placeholder",P),m}}},7163:function(oe,j,r){"use strict";var I=r(41940),E=r(22399),f=r(1426).extendFlat,S=r(30962).overrideAll,M=r(35025),y=r(44467).templatedArray,u=y("button",{visible:{valType:"boolean"},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},args2:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string",dflt:""},execute:{valType:"boolean",dflt:!0}});oe.exports=S(y("updatemenu",{_arrayAttrRegexps:[/^updatemenus\[(0|[1-9][0-9]+)\]\.buttons/],visible:{valType:"boolean"},type:{valType:"enumerated",values:["dropdown","buttons"],dflt:"dropdown"},direction:{valType:"enumerated",values:["left","right","up","down"],dflt:"down"},active:{valType:"integer",min:-1,dflt:0},showactive:{valType:"boolean",dflt:!0},buttons:u,x:{valType:"number",min:-2,max:3,dflt:-.05},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"right"},y:{valType:"number",min:-2,max:3,dflt:1},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},pad:f(M({editType:"arraydraw"}),{}),font:I({}),bgcolor:{valType:"color"},bordercolor:{valType:"color",dflt:E.borderLine},borderwidth:{valType:"number",min:0,dflt:1,editType:"arraydraw"}}),"arraydraw","from-root")},75909:function(oe){"use strict";oe.exports={name:"updatemenus",containerClassName:"updatemenu-container",headerGroupClassName:"updatemenu-header-group",headerClassName:"updatemenu-header",headerArrowClassName:"updatemenu-header-arrow",dropdownButtonGroupClassName:"updatemenu-dropdown-button-group",dropdownButtonClassName:"updatemenu-dropdown-button",buttonClassName:"updatemenu-button",itemRectClassName:"updatemenu-item-rect",itemTextClassName:"updatemenu-item-text",menuIndexAttrName:"updatemenu-active-index",autoMarginIdRoot:"updatemenu-",blankHeaderOpts:{label:"  "},minWidth:30,minHeight:30,textPadX:24,arrowPadX:16,rx:2,ry:2,textOffsetX:12,textOffsetY:3,arrowOffsetX:4,gapButtonHeader:5,gapButton:2,activeColor:"#F4FAFF",hoverColor:"#F4FAFF",arrowSymbol:{left:"\u25c4",right:"\u25ba",up:"\u25b2",down:"\u25bc"}}},64897:function(oe,j,r){"use strict";var I=r(71828),E=r(85501),f=r(7163),S=r(75909).name,M=f.buttons;function y(i,s,a){function o(l,c){return I.coerce(i,s,f,l,c)}o("visible",E(i,s,{name:"buttons",handleItemDefaults:u}).length>0)&&(o("active"),o("direction"),o("type"),o("showactive"),o("x"),o("y"),I.noneOrAll(i,s,["x","y"]),o("xanchor"),o("yanchor"),o("pad.t"),o("pad.r"),o("pad.b"),o("pad.l"),I.coerceFont(o,"font",a.font),o("bgcolor",a.paper_bgcolor),o("bordercolor"),o("borderwidth"))}function u(i,s){function a(o,l){return I.coerce(i,s,M,o,l)}a("visible","skip"===i.method||Array.isArray(i.args))&&(a("method"),a("args"),a("args2"),a("label"),a("execute"))}oe.exports=function(i,s){E(i,s,{name:S,handleItemDefaults:y})}},13689:function(oe,j,r){"use strict";var I=r(39898),E=r(74875),f=r(7901),S=r(91424),M=r(71828),y=r(63893),u=r(44467).arrayEditor,i=r(18783).LINE_SPACING,s=r(75909),a=r(25849);function o(k){return k._index}function l(k,P){return+k.attr(s.menuIndexAttrName)===P._index}function c(k,P,R,L,N,B,J,z){P.active=J,u(k.layout,s.name,P).applyUpdate("active",J),"buttons"===P.type?v(k,L,null,null,P):"dropdown"===P.type&&(N.attr(s.menuIndexAttrName,"-1"),h(k,L,N,B,P),z||v(k,L,N,B,P))}function h(k,P,R,L,N){var B=M.ensureSingle(P,"g",s.headerClassName,function(Z){Z.style("pointer-events","all")}),J=N._dims,q={y:N.pad.t,yPad:0,x:N.pad.l,xPad:0,index:0},U={width:J.headerWidth,height:J.headerHeight};B.call(p,N,N.buttons[N.active]||s.blankHeaderOpts,k).call(m,N,q,U),M.ensureSingle(P,"text",s.headerArrowClassName,function(Z){Z.attr("text-anchor","end").call(S.font,N.font).text(s.arrowSymbol[N.direction])}).attr({x:J.headerWidth-s.arrowOffsetX+N.pad.l,y:J.headerHeight/2+s.textOffsetY+N.pad.t}),B.on("click",function(){R.call(C,String(l(R,N)?-1:N._index)),v(k,P,R,L,N)}),B.on("mouseover",function(){B.call(w)}),B.on("mouseout",function(){B.call(x,N)}),S.setTranslate(P,J.lx,J.ly)}function v(k,P,R,L,N){R||(R=P).attr("pointer-events","all");var B=-1==+R.attr(s.menuIndexAttrName)&&"buttons"!==N.type?[]:N.buttons,J="dropdown"===N.type?s.dropdownButtonClassName:s.buttonClassName,z=R.selectAll("g."+J).data(M.filterVisible(B)),Y=z.enter().append("g").classed(J,!0),q=z.exit();"dropdown"===N.type?(Y.attr("opacity","0").transition().attr("opacity","1"),q.transition().attr("opacity","0").remove()):q.remove();var U=0,Z=0,X=N._dims,se=-1!==["up","down"].indexOf(N.direction);"dropdown"===N.type&&(se?Z=X.headerHeight+s.gapButtonHeader:U=X.headerWidth+s.gapButtonHeader),"dropdown"===N.type&&"up"===N.direction&&(Z=-s.gapButtonHeader+s.gapButton-X.openHeight),"dropdown"===N.type&&"left"===N.direction&&(U=-s.gapButtonHeader+s.gapButton-X.openWidth);var K,ne,ae,re={x:X.lx+U+N.pad.l,y:X.ly+Z+N.pad.t,yPad:s.gapButton,xPad:s.gapButton,index:0},ee={l:re.x+N.borderwidth,t:re.y+N.borderwidth};z.each(function(K,ne){var ae=I.select(this);ae.call(p,N,K,k).call(m,N,re),ae.on("click",function(){I.event.defaultPrevented||(K.execute&&(K.args2&&N.active===ne?(c(k,N,0,P,R,L,-1),E.executeAPICommand(k,K.method,K.args2)):(c(k,N,0,P,R,L,ne),E.executeAPICommand(k,K.method,K.args))),k.emit("plotly_buttonclicked",{menu:N,button:K,active:N.active}))}),ae.on("mouseover",function(){ae.call(w)}),ae.on("mouseout",function(){ae.call(x,N),z.call(g,N)})}),z.call(g,N),se?(ee.w=Math.max(X.openWidth,X.headerWidth),ee.h=re.y-ee.t):(ee.w=re.x-ee.l,ee.h=Math.max(X.openHeight,X.headerHeight)),ee.direction=N.direction,L&&(z.size()?function(K,ne,ae,ue,he,pe){var ge,xe,Se,Te=he.direction,we=he._dims,ze=he.active;if("up"===Te||"down"===Te)for(xe=0,Se=0;Se<ze;Se++)xe+=we.heights[Se]+s.gapButton;else for(ge=0,Se=0;Se<ze;Se++)ge+=we.widths[Se]+s.gapButton;ue.enable(pe,ge,xe),ue.hbar&&ue.hbar.attr("opacity","0").transition().attr("opacity","1"),ue.vbar&&ue.vbar.attr("opacity","0").transition().attr("opacity","1")}(0,0,0,L,N,ee):(ae=!!(K=L).vbar,(ne=!!K.hbar)&&K.hbar.transition().attr("opacity","0").each("end",function(){ne=!1,ae||K.disable()}),ae&&K.vbar.transition().attr("opacity","0").each("end",function(){ae=!1,ne||K.disable()})))}function p(k,P,R,L){k.call(T,P).call(_,P,R,L)}function T(k,P){M.ensureSingle(k,"rect",s.itemRectClassName,function(R){R.attr({rx:s.rx,ry:s.ry,"shape-rendering":"crispEdges"})}).call(f.stroke,P.bordercolor).call(f.fill,P.bgcolor).style("stroke-width",P.borderwidth+"px")}function _(k,P,R,L){var N=M.ensureSingle(k,"text",s.itemTextClassName,function(z){z.attr({"text-anchor":"start","data-notex":1})}),B=R.label,J=L._fullLayout._meta;J&&(B=M.templateString(B,J)),N.call(S.font,P.font).text(B).call(y.convertToTspans,L)}function g(k,P){var R=P.active;k.each(function(L,N){var B=I.select(this);N===R&&P.showactive&&B.select("rect."+s.itemRectClassName).call(f.fill,s.activeColor)})}function w(k){k.select("rect."+s.itemRectClassName).call(f.fill,s.hoverColor)}function x(k,P){k.select("rect."+s.itemRectClassName).call(f.fill,P.bgcolor)}function b(k,P){var R=P._dims={width1:0,height1:0,heights:[],widths:[],totalWidth:0,totalHeight:0,openWidth:0,openHeight:0,lx:0,ly:0},L=S.tester.selectAll("g."+s.dropdownButtonClassName).data(M.filterVisible(P.buttons));L.enter().append("g").classed(s.dropdownButtonClassName,!0);var N=-1!==["up","down"].indexOf(P.direction);L.each(function(U,Z){var X=I.select(this);X.call(p,P,U,k);var se=X.select("."+s.itemTextClassName),re=se.node()&&S.bBox(se.node()).width,ee=Math.max(re+s.textPadX,s.minWidth),K=P.font.size*i,ne=y.lineCount(se),ae=Math.max(K*ne,s.minHeight)+s.textOffsetY;ae=Math.ceil(ae),ee=Math.ceil(ee),R.widths[Z]=ee,R.heights[Z]=ae,R.height1=Math.max(R.height1,ae),R.width1=Math.max(R.width1,ee),N?(R.totalWidth=Math.max(R.totalWidth,ee),R.openWidth=R.totalWidth,R.totalHeight+=ae+s.gapButton,R.openHeight+=ae+s.gapButton):(R.totalWidth+=ee+s.gapButton,R.openWidth+=ee+s.gapButton,R.totalHeight=Math.max(R.totalHeight,ae),R.openHeight=R.totalHeight)}),N?R.totalHeight-=s.gapButton:R.totalWidth-=s.gapButton,R.headerWidth=R.width1+s.arrowPadX,R.headerHeight=R.height1,"dropdown"===P.type&&(N?(R.width1+=s.arrowPadX,R.totalHeight=R.height1):R.totalWidth=R.width1,R.totalWidth+=s.arrowPadX),L.remove();var B=R.totalWidth+P.pad.l+P.pad.r,J=R.totalHeight+P.pad.t+P.pad.b,z=k._fullLayout._size;R.lx=z.l+z.w*P.x,R.ly=z.t+z.h*(1-P.y);var Y="left";M.isRightAnchor(P)&&(R.lx-=B,Y="right"),M.isCenterAnchor(P)&&(R.lx-=B/2,Y="center");var q="top";M.isBottomAnchor(P)&&(R.ly-=J,q="bottom"),M.isMiddleAnchor(P)&&(R.ly-=J/2,q="middle"),R.totalWidth=Math.ceil(R.totalWidth),R.totalHeight=Math.ceil(R.totalHeight),R.lx=Math.round(R.lx),R.ly=Math.round(R.ly),E.autoMargin(k,A(P),{x:P.x,y:P.y,l:B*({right:1,center:.5}[Y]||0),r:B*({left:1,center:.5}[Y]||0),b:J*({top:1,middle:.5}[q]||0),t:J*({bottom:1,middle:.5}[q]||0)})}function A(k){return s.autoMarginIdRoot+k._index}function m(k,P,R,L){L=L||{};var N=k.select("."+s.itemRectClassName),B=k.select("."+s.itemTextClassName),J=P.borderwidth,z=R.index,Y=P._dims;S.setTranslate(k,J+R.x,J+R.y);var q=-1!==["up","down"].indexOf(P.direction),U=L.height||(q?Y.heights[z]:Y.height1);N.attr({x:0,y:0,width:L.width||(q?Y.width1:Y.widths[z]),height:U});var Z=P.font.size*i,X=(y.lineCount(B)-1)*Z/2;y.positionText(B,s.textOffsetX,U/2-X+s.textOffsetY),q?R.y+=Y.heights[z]+R.yPad:R.x+=Y.widths[z]+R.xPad,R.index++}function C(k,P){k.attr(s.menuIndexAttrName,P||"-1").selectAll("g."+s.dropdownButtonClassName).remove()}oe.exports=function(k){var P=k._fullLayout,R=M.filterVisible(P[s.name]);function L(Z){E.autoMargin(k,A(Z))}var N=P._menulayer.selectAll("g."+s.containerClassName).data(R.length>0?[0]:[]);if(N.enter().append("g").classed(s.containerClassName,!0).style("cursor","pointer"),N.exit().each(function(){I.select(this).selectAll("g."+s.headerGroupClassName).each(L)}).remove(),0!==R.length){var B=N.selectAll("g."+s.headerGroupClassName).data(R,o);B.enter().append("g").classed(s.headerGroupClassName,!0);for(var J=M.ensureSingle(N,"g",s.dropdownButtonGroupClassName,function(Z){Z.style("pointer-events","all")}),z=0;z<R.length;z++)b(k,R[z]);var U=new a(k,J,"updatemenus"+P._uid);B.enter().size()&&(J.node().parentNode.appendChild(J.node()),J.call(C)),B.exit().each(function(Z){J.call(C),L(Z)}).remove(),B.each(function(Z){var X=I.select(this),se="dropdown"===Z.type?J:null;E.manageCommandObserver(k,Z,Z.buttons,function(re){c(k,Z,0,X,se,U,re.index,!0)}),"dropdown"===Z.type?(h(k,X,J,U,Z),l(J,Z)&&v(k,X,J,U,Z)):v(k,X,null,null,Z)})}}},20763:function(oe,j,r){"use strict";var I=r(75909);oe.exports={moduleType:"component",name:I.name,layoutAttributes:r(7163),supplyLayoutDefaults:r(64897),draw:r(13689)}},25849:function(oe,j,r){"use strict";oe.exports=M;var I=r(39898),E=r(7901),f=r(91424),S=r(71828);function M(y,u,i){this.gd=y,this.container=u,this.id=i,this.position=null,this.translateX=null,this.translateY=null,this.hbar=null,this.vbar=null,this.bg=this.container.selectAll("rect.scrollbox-bg").data([0]),this.bg.exit().on(".drag",null).on("wheel",null).remove(),this.bg.enter().append("rect").classed("scrollbox-bg",!0).style("pointer-events","all").attr({opacity:0,x:0,y:0,width:0,height:0})}M.barWidth=2,M.barLength=20,M.barRadius=2,M.barPad=1,M.barColor="#808BA4",M.prototype.enable=function(y,u,i){var s=this.gd._fullLayout,a=s.width,o=s.height;this.position=y;var l,c,h,v,p=this.position.l,T=this.position.w,_=this.position.t,g=this.position.h,w=this.position.direction,x="down"===w,b="left"===w,A="up"===w,m=T,C=g;x||b||"right"===w||A||(this.position.direction="down",x=!0),x||A?(c=(l=p)+m,x?(h=_,C=(v=Math.min(h+C,o))-h):C=(v=_+C)-(h=Math.max(v-C,0))):(v=(h=_)+C,b?m=(c=p+m)-(l=Math.max(c-m,0)):(l=p,m=(c=Math.min(l+m,a))-l)),this._box={l,t:h,w:m,h:C};var k=T>m,P=M.barLength+2*M.barPad,R=M.barWidth+2*M.barPad,L=p,N=_+g;N+R>o&&(N=o-R);var B=this.container.selectAll("rect.scrollbar-horizontal").data(k?[0]:[]);B.exit().on(".drag",null).remove(),B.enter().append("rect").classed("scrollbar-horizontal",!0).call(E.fill,M.barColor),k?(this.hbar=B.attr({rx:M.barRadius,ry:M.barRadius,x:L,y:N,width:P,height:R}),this._hbarXMin=L+P/2,this._hbarTranslateMax=m-P):(delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax);var J=g>C,z=M.barWidth+2*M.barPad,Y=M.barLength+2*M.barPad,q=p+T,U=_;q+z>a&&(q=a-z);var Z=this.container.selectAll("rect.scrollbar-vertical").data(J?[0]:[]);Z.exit().on(".drag",null).remove(),Z.enter().append("rect").classed("scrollbar-vertical",!0).call(E.fill,M.barColor),J?(this.vbar=Z.attr({rx:M.barRadius,ry:M.barRadius,x:q,y:U,width:z,height:Y}),this._vbarYMin=U+Y/2,this._vbarTranslateMax=C-Y):(delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax);var X=this.id,se=l-.5,re=J?c+z+.5:c+.5,ee=h-.5,K=k?v+R+.5:v+.5,ne=s._topdefs.selectAll("#"+X).data(k||J?[0]:[]);if(ne.exit().remove(),ne.enter().append("clipPath").attr("id",X).append("rect"),k||J?(this._clipRect=ne.select("rect").attr({x:Math.floor(se),y:Math.floor(ee),width:Math.ceil(re)-Math.floor(se),height:Math.ceil(K)-Math.floor(ee)}),this.container.call(f.setClipUrl,X,this.gd),this.bg.attr({x:p,y:_,width:T,height:g})):(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(f.setClipUrl,null),delete this._clipRect),k||J){var ae=I.behavior.drag().on("dragstart",function(){I.event.sourceEvent.preventDefault()}).on("drag",this._onBoxDrag.bind(this));this.container.on("wheel",null).on("wheel",this._onBoxWheel.bind(this)).on(".drag",null).call(ae);var ue=I.behavior.drag().on("dragstart",function(){I.event.sourceEvent.preventDefault(),I.event.sourceEvent.stopPropagation()}).on("drag",this._onBarDrag.bind(this));k&&this.hbar.on(".drag",null).call(ue),J&&this.vbar.on(".drag",null).call(ue)}this.setTranslate(u,i)},M.prototype.disable=function(){(this.hbar||this.vbar)&&(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(f.setClipUrl,null),delete this._clipRect),this.hbar&&(this.hbar.on(".drag",null),this.hbar.remove(),delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax),this.vbar&&(this.vbar.on(".drag",null),this.vbar.remove(),delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax)},M.prototype._onBoxDrag=function(){var y=this.translateX,u=this.translateY;this.hbar&&(y-=I.event.dx),this.vbar&&(u-=I.event.dy),this.setTranslate(y,u)},M.prototype._onBoxWheel=function(){var y=this.translateX,u=this.translateY;this.hbar&&(y+=I.event.deltaY),this.vbar&&(u+=I.event.deltaY),this.setTranslate(y,u)},M.prototype._onBarDrag=function(){var y=this.translateX,u=this.translateY;if(this.hbar){var i=y+this._hbarXMin,s=i+this._hbarTranslateMax;y=(S.constrain(I.event.x,i,s)-i)/(s-i)*(this.position.w-this._box.w)}if(this.vbar){var a=u+this._vbarYMin,o=a+this._vbarTranslateMax;u=(S.constrain(I.event.y,a,o)-a)/(o-a)*(this.position.h-this._box.h)}this.setTranslate(y,u)},M.prototype.setTranslate=function(y,u){var i=this.position.w-this._box.w,s=this.position.h-this._box.h;y=S.constrain(y||0,0,i),u=S.constrain(u||0,0,s),this.translateX=y,this.translateY=u,this.container.call(f.setTranslate,this._box.l-this.position.l-y,this._box.t-this.position.t-u),this._clipRect&&this._clipRect.attr({x:Math.floor(this.position.l+y-.5),y:Math.floor(this.position.t+u-.5)}),this.hbar&&this.hbar.call(f.setTranslate,y+y/i*this._hbarTranslateMax,u),this.vbar&&this.vbar.call(f.setTranslate,y,u+u/s*this._vbarTranslateMax)}},18783:function(oe){"use strict";oe.exports={FROM_BL:{left:0,center:.5,right:1,bottom:0,middle:.5,top:1},FROM_TL:{left:0,center:.5,right:1,bottom:1,middle:.5,top:0},FROM_BR:{left:1,center:.5,right:0,bottom:0,middle:.5,top:1},LINE_SPACING:1.3,CAP_SHIFT:.7,MID_SHIFT:.35,OPPOSITE_SIDE:{left:"right",right:"left",top:"bottom",bottom:"top"}}},24695:function(oe){"use strict";oe.exports={axisRefDescription:function(j,r,I){return["If set to a",j,"axis id (e.g. *"+j+"* or","*"+j+"2*), the `"+j+"` position refers to a",j,"coordinate. If set to *paper*, the `"+j+"`","position refers to the distance from the",r,"of the plotting","area in normalized coordinates where *0* (*1*) corresponds to the",r,"("+I+"). If set to a",j,"axis ID followed by","*domain* (separated by a space), the position behaves like for","*paper*, but refers to the distance in fractions of the domain","length from the",r,"of the domain of that axis: e.g.,","*"+j+"2 domain* refers to the domain of the second",j," axis and a",j,"position of 0.5 refers to the","point between the",r,"and the",I,"of the domain of the","second",j,"axis."].join(" ")}}},22372:function(oe){"use strict";oe.exports={INCREASING:{COLOR:"#3D9970",SYMBOL:"\u25b2"},DECREASING:{COLOR:"#FF4136",SYMBOL:"\u25bc"}}},31562:function(oe){"use strict";oe.exports={FORMAT_LINK:"https://github.com/d3/d3-format/tree/v1.4.5#d3-format",DATE_FORMAT_LINK:"https://github.com/d3/d3-time-format/tree/v2.2.3#locale_format"}},74808:function(oe){"use strict";oe.exports={COMPARISON_OPS:["=","!=","<",">=",">","<="],COMPARISON_OPS2:["=","<",">=",">","<="],INTERVAL_OPS:["[]","()","[)","(]","][",")(","](",")["],SET_OPS:["{}","}{"],CONSTRAINT_REDUCTION:{"=":"=","<":"<","<=":"<",">":">",">=":">","[]":"[]","()":"[]","[)":"[]","(]":"[]","][":"][",")(":"][","](":"][",")[":"]["}}},29659:function(oe){"use strict";oe.exports={solid:[[],0],dot:[[.5,1],200],dash:[[.5,1],50],longdash:[[.5,1],10],dashdot:[[.5,.625,.875,1],50],longdashdot:[[.5,.7,.8,1],10]}},87381:function(oe){"use strict";oe.exports={circle:"\u25cf","circle-open":"\u25cb",square:"\u25a0","square-open":"\u25a1",diamond:"\u25c6","diamond-open":"\u25c7",cross:"+",x:"\u274c"}},37822:function(oe){"use strict";oe.exports={SHOW_PLACEHOLDER:100,HIDE_PLACEHOLDER:1e3,DESELECTDIM:.2}},50606:function(oe){"use strict";oe.exports={BADNUM:void 0,FP_SAFE:1e-4*Number.MAX_VALUE,ONEMAXYEAR:316224e5,ONEAVGYEAR:315576e5,ONEMINYEAR:31536e6,ONEMAXQUARTER:79488e5,ONEAVGQUARTER:78894e5,ONEMINQUARTER:76896e5,ONEMAXMONTH:26784e5,ONEAVGMONTH:26298e5,ONEMINMONTH:24192e5,ONEWEEK:6048e5,ONEDAY:864e5,ONEHOUR:36e5,ONEMIN:6e4,ONESEC:1e3,EPOCHJD:2440587.5,ALMOST_EQUAL:.999999,LOG_CLIP:10,MINUS_SIGN:"\u2212"}},32396:function(oe,j){"use strict";j.CSS_DECLARATIONS=[["image-rendering","optimizeSpeed"],["image-rendering","-moz-crisp-edges"],["image-rendering","-o-crisp-edges"],["image-rendering","-webkit-optimize-contrast"],["image-rendering","optimize-contrast"],["image-rendering","crisp-edges"],["image-rendering","pixelated"]],j.STYLE=j.CSS_DECLARATIONS.map(function(r){return r.join(": ")+"; "}).join("")},77922:function(oe,j){"use strict";j.xmlns="http://www.w3.org/2000/xmlns/",j.svg="http://www.w3.org/2000/svg",j.xlink="http://www.w3.org/1999/xlink",j.svgAttrs={xmlns:j.svg,"xmlns:xlink":j.xlink}},8729:function(oe,j,r){"use strict";j.version=r(11506).version,r(7417),r(98847);for(var I=r(73972),E=j.register=I.register,f=r(10641),S=Object.keys(f),M=0;M<S.length;M++){var y=S[M];"_"!==y.charAt(0)&&(j[y]=f[y]),E({moduleType:"apiMethod",name:y,fn:f[y]})}E(r(67368)),E([r(32745),r(2468),r(47322),r(89853),r(68804),r(20763),r(23243),r(13137),r(97218),r(83312),r(37369),r(21081),r(12311),r(2199),r(30211),r(64168)]),E([r(92177),r(37815)]),window.PlotlyLocales&&Array.isArray(window.PlotlyLocales)&&(E(window.PlotlyLocales),delete window.PlotlyLocales),j.Icons=r(24255);var u=r(30211),i=r(74875);j.Plots={resize:i.resize,graphJson:i.graphJson,sendDataToCloud:i.sendDataToCloud},j.Fx={hover:u.hover,unhover:u.unhover,loneHover:u.loneHover,loneUnhover:u.loneUnhover},j.Snapshot=r(44511),j.PlotSchema=r(86281)},24255:function(oe){"use strict";oe.exports={undo:{width:857.1,height:1e3,path:"m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z",transform:"matrix(1 0 0 -1 0 850)"},home:{width:928.6,height:1e3,path:"m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z",transform:"matrix(1 0 0 -1 0 850)"},"camera-retro":{width:1e3,height:1e3,path:"m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z",transform:"matrix(1 0 0 -1 0 850)"},zoombox:{width:1e3,height:1e3,path:"m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z",transform:"matrix(1 0 0 -1 0 850)"},pan:{width:1e3,height:1e3,path:"m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z",transform:"matrix(1 0 0 -1 0 850)"},zoom_plus:{width:875,height:1e3,path:"m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},zoom_minus:{width:875,height:1e3,path:"m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},autoscale:{width:1e3,height:1e3,path:"m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_basic:{width:1500,height:1e3,path:"m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_compare:{width:1125,height:1e3,path:"m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z",transform:"matrix(1 0 0 -1 0 850)"},plotlylogo:{width:1542,height:1e3,path:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",transform:"matrix(1 0 0 -1 0 850)"},"z-axis":{width:1e3,height:1e3,path:"m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z",transform:"matrix(1 0 0 -1 0 850)"},"3d_rotate":{width:1e3,height:1e3,path:"m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z",transform:"matrix(1 0 0 -1 0 850)"},camera:{width:1e3,height:1e3,path:"m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z",transform:"matrix(1 0 0 -1 0 850)"},movie:{width:1e3,height:1e3,path:"m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z",transform:"matrix(1 0 0 -1 0 850)"},question:{width:857.1,height:1e3,path:"m500 82v107q0 8-5 13t-13 5h-107q-8 0-13-5t-5-13v-107q0-8 5-13t13-5h107q8 0 13 5t5 13z m143 375q0 49-31 91t-77 65-95 23q-136 0-207-119-9-14 4-24l74-55q4-4 10-4 9 0 14 7 30 38 48 51 19 14 48 14 27 0 48-15t21-33q0-21-11-34t-38-25q-35-16-65-48t-29-70v-20q0-8 5-13t13-5h107q8 0 13 5t5 13q0 10 12 27t30 28q18 10 28 16t25 19 25 27 16 34 7 45z m214-107q0-117-57-215t-156-156-215-58-216 58-155 156-58 215 58 215 155 156 216 58 215-58 156-156 57-215z",transform:"matrix(1 0 0 -1 0 850)"},disk:{width:857.1,height:1e3,path:"m214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z",transform:"matrix(1 0 0 -1 0 850)"},drawopenpath:{width:70,height:70,path:"M33.21,85.65a7.31,7.31,0,0,1-2.59-.48c-8.16-3.11-9.27-19.8-9.88-41.3-.1-3.58-.19-6.68-.35-9-.15-2.1-.67-3.48-1.43-3.79-2.13-.88-7.91,2.32-12,5.86L3,32.38c1.87-1.64,11.55-9.66,18.27-6.9,2.13.87,4.75,3.14,5.17,9,.17,2.43.26,5.59.36,9.25a224.17,224.17,0,0,0,1.5,23.4c1.54,10.76,4,12.22,4.48,12.4.84.32,2.79-.46,5.76-3.59L43,80.07C41.53,81.57,37.68,85.64,33.21,85.65ZM74.81,69a11.34,11.34,0,0,0,6.09-6.72L87.26,44.5,74.72,32,56.9,38.35c-2.37.86-5.57,3.42-6.61,6L38.65,72.14l8.42,8.43ZM55,46.27a7.91,7.91,0,0,1,3.64-3.17l14.8-5.3,8,8L76.11,60.6l-.06.19a6.37,6.37,0,0,1-3,3.43L48.25,74.59,44.62,71Zm16.57,7.82A6.9,6.9,0,1,0,64.64,61,6.91,6.91,0,0,0,71.54,54.09Zm-4.05,0a2.85,2.85,0,1,1-2.85-2.85A2.86,2.86,0,0,1,67.49,54.09Zm-4.13,5.22L60.5,56.45,44.26,72.7l2.86,2.86ZM97.83,35.67,84.14,22l-8.57,8.57L89.26,44.24Zm-13.69-8,8,8-2.85,2.85-8-8Z",transform:"matrix(1 0 0 1 -15 -15)"},drawclosedpath:{width:90,height:90,path:"M88.41,21.12a26.56,26.56,0,0,0-36.18,0l-2.07,2-2.07-2a26.57,26.57,0,0,0-36.18,0,23.74,23.74,0,0,0,0,34.8L48,90.12a3.22,3.22,0,0,0,4.42,0l36-34.21a23.73,23.73,0,0,0,0-34.79ZM84,51.24,50.16,83.35,16.35,51.25a17.28,17.28,0,0,1,0-25.47,20,20,0,0,1,27.3,0l4.29,4.07a3.23,3.23,0,0,0,4.44,0l4.29-4.07a20,20,0,0,1,27.3,0,17.27,17.27,0,0,1,0,25.46ZM66.76,47.68h-33v6.91h33ZM53.35,35H46.44V68h6.91Z",transform:"matrix(1 0 0 1 -5 -5)"},lasso:{width:1031,height:1e3,path:"m1018 538c-36 207-290 336-568 286-277-48-473-256-436-463 10-57 36-108 76-151-13-66 11-137 68-183 34-28 75-41 114-42l-55-70 0 0c-2-1-3-2-4-3-10-14-8-34 5-45 14-11 34-8 45 4 1 1 2 3 2 5l0 0 113 140c16 11 31 24 45 40 4 3 6 7 8 11 48-3 100 0 151 9 278 48 473 255 436 462z m-624-379c-80 14-149 48-197 96 42 42 109 47 156 9 33-26 47-66 41-105z m-187-74c-19 16-33 37-39 60 50-32 109-55 174-68-42-25-95-24-135 8z m360 75c-34-7-69-9-102-8 8 62-16 128-68 170-73 59-175 54-244-5-9 20-16 40-20 61-28 159 121 317 333 354s407-60 434-217c28-159-121-318-333-355z",transform:"matrix(1 0 0 -1 0 850)"},selectbox:{width:1e3,height:1e3,path:"m0 850l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-285l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z",transform:"matrix(1 0 0 -1 0 850)"},drawline:{width:70,height:70,path:"M60.64,62.3a11.29,11.29,0,0,0,6.09-6.72l6.35-17.72L60.54,25.31l-17.82,6.4c-2.36.86-5.57,3.41-6.6,6L24.48,65.5l8.42,8.42ZM40.79,39.63a7.89,7.89,0,0,1,3.65-3.17l14.79-5.31,8,8L61.94,54l-.06.19a6.44,6.44,0,0,1-3,3.43L34.07,68l-3.62-3.63Zm16.57,7.81a6.9,6.9,0,1,0-6.89,6.9A6.9,6.9,0,0,0,57.36,47.44Zm-4,0a2.86,2.86,0,1,1-2.85-2.85A2.86,2.86,0,0,1,53.32,47.44Zm-4.13,5.22L46.33,49.8,30.08,66.05l2.86,2.86ZM83.65,29,70,15.34,61.4,23.9,75.09,37.59ZM70,21.06l8,8-2.84,2.85-8-8ZM87,80.49H10.67V87H87Z",transform:"matrix(1 0 0 1 -15 -15)"},drawrect:{width:80,height:80,path:"M78,22V79H21V22H78m9-9H12V88H87V13ZM68,46.22H31V54H68ZM53,32H45.22V69H53Z",transform:"matrix(1 0 0 1 -10 -10)"},drawcircle:{width:80,height:80,path:"M50,84.72C26.84,84.72,8,69.28,8,50.3S26.84,15.87,50,15.87,92,31.31,92,50.3,73.16,84.72,50,84.72Zm0-60.59c-18.6,0-33.74,11.74-33.74,26.17S31.4,76.46,50,76.46,83.74,64.72,83.74,50.3,68.6,24.13,50,24.13Zm17.15,22h-34v7.11h34Zm-13.8-13H46.24v34h7.11Z",transform:"matrix(1 0 0 1 -10 -10)"},eraseshape:{width:80,height:80,path:"M82.77,78H31.85L6,49.57,31.85,21.14H82.77a8.72,8.72,0,0,1,8.65,8.77V69.24A8.72,8.72,0,0,1,82.77,78ZM35.46,69.84H82.77a.57.57,0,0,0,.49-.6V29.91a.57.57,0,0,0-.49-.61H35.46L17,49.57Zm32.68-34.7-24,24,5,5,24-24Zm-19,.53-5,5,24,24,5-5Z",transform:"matrix(1 0 0 1 -10 -10)"},spikeline:{width:1e3,height:1e3,path:"M512 409c0-57-46-104-103-104-57 0-104 47-104 104 0 57 47 103 104 103 57 0 103-46 103-103z m-327-39l92 0 0 92-92 0z m-185 0l92 0 0 92-92 0z m370-186l92 0 0 93-92 0z m0-184l92 0 0 92-92 0z",transform:"matrix(1.5 0 0 -1.5 0 850)"},pencil:{width:1792,height:1792,path:"M491 1536l91-91-235-235-91 91v107h128v128h107zm523-928q0-22-22-22-10 0-17 7l-542 542q-7 7-7 17 0 22 22 22 10 0 17-7l542-542q7-7 7-17zm-54-192l416 416-832 832h-416v-416zm683 96q0 53-37 90l-166 166-416-416 166-165q36-38 90-38 53 0 91 38l235 234q37 39 37 91z",transform:"matrix(1 0 0 1 0 1)"},newplotlylogo:{name:"newplotlylogo",svg:["<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 132 132'>","<defs>"," <style>","  .cls-0{fill:#000;}","  .cls-1{fill:#FFF;}","  .cls-2{fill:#F26;}","  .cls-3{fill:#D69;}","  .cls-4{fill:#BAC;}","  .cls-5{fill:#9EF;}"," </style>","</defs>"," <title>plotly-logomark</title>"," <g id='symbol'>","  <rect class='cls-0' x='0' y='0' width='132' height='132' rx='18' ry='18'/>","  <circle class='cls-5' cx='102' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='54' r='6'/>","  <circle class='cls-3' cx='54' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='54' r='6'/>","  <path class='cls-1' d='M30,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,30,72Z'/>","  <path class='cls-1' d='M78,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,78,72Z'/>","  <path class='cls-1' d='M54,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,54,48Z'/>","  <path class='cls-1' d='M102,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,102,48Z'/>"," </g>","</svg>"].join("")}}},99863:function(oe,j){"use strict";j.isLeftAnchor=function(r){return"left"===r.xanchor||"auto"===r.xanchor&&r.x<=.3333333333333333},j.isCenterAnchor=function(r){return"center"===r.xanchor||"auto"===r.xanchor&&r.x>.3333333333333333&&r.x<.6666666666666666},j.isRightAnchor=function(r){return"right"===r.xanchor||"auto"===r.xanchor&&r.x>=.6666666666666666},j.isTopAnchor=function(r){return"top"===r.yanchor||"auto"===r.yanchor&&r.y>=.6666666666666666},j.isMiddleAnchor=function(r){return"middle"===r.yanchor||"auto"===r.yanchor&&r.y>.3333333333333333&&r.y<.6666666666666666},j.isBottomAnchor=function(r){return"bottom"===r.yanchor||"auto"===r.yanchor&&r.y<=.3333333333333333}},26348:function(oe,j,r){"use strict";var I=r(64872),E=I.mod,f=I.modHalf,S=Math.PI,M=2*S;function y(a){return Math.abs(a[1]-a[0])>M-1e-14}function u(a,o){return f(o-a,M)}function i(a,o){if(y(o))return!0;var l,c;o[0]<o[1]?(l=o[0],c=o[1]):(l=o[1],c=o[0]),(l=E(l,M))>(c=E(c,M))&&(c+=M);var h=E(a,M),v=h+M;return h>=l&&h<=c||v>=l&&v<=c}function s(a,o,l,c,h,v,p){h=h||0,v=v||0;var T,_,g,w,x,b=y([l,c]);function A(P,R){return[P*Math.cos(R)+h,v-P*Math.sin(R)]}b?(T=0,_=S,g=M):l<c?(T=l,g=c):(T=c,g=l),a<o?(w=a,x=o):(w=o,x=a);var m,C=Math.abs(g-T)<=S?0:1;function k(P,R,L){return"A"+[P,P]+" "+[0,C,L]+" "+A(P,R)}return b?m=null===w?"M"+A(x,T)+k(x,_,0)+k(x,g,0)+"Z":"M"+A(w,T)+k(w,_,0)+k(w,g,0)+"ZM"+A(x,T)+k(x,_,1)+k(x,g,1)+"Z":null===w?(m="M"+A(x,T)+k(x,g,0),p&&(m+="L0,0Z")):m="M"+A(w,T)+"L"+A(x,T)+k(x,g,0)+"L"+A(w,g)+k(w,T,1)+"Z",m}oe.exports={deg2rad:function(a){return a/180*S},rad2deg:function(a){return a/S*180},angleDelta:u,angleDist:function(a,o){return Math.abs(u(a,o))},isFullCircle:y,isAngleInsideSector:i,isPtInsideSector:function(a,o,l,c){return!!i(o,c)&&(l[0]<l[1]?(h=l[0],v=l[1]):(h=l[1],v=l[0]),a>=h&&a<=v);var h,v},pathArc:function(a,o,l,c,h){return s(null,a,o,l,c,h,0)},pathSector:function(a,o,l,c,h){return s(null,a,o,l,c,h,1)},pathAnnulus:function(a,o,l,c,h,v){return s(a,o,l,c,h,v,1)}}},73627:function(oe,j){"use strict";var r=Array.isArray,I=ArrayBuffer,E=DataView;function f(y){return I.isView(y)&&!(y instanceof E)}function S(y){return r(y)||f(y)}function M(y,u,i){if(S(y)){if(S(y[0])){for(var s=i,a=0;a<y.length;a++)s=u(s,y[a].length);return s}return y.length}return 0}j.isTypedArray=f,j.isArrayOrTypedArray=S,j.isArray1D=function(y){return!S(y[0])},j.ensureArray=function(y,u){return r(y)||(y=[]),y.length=u,y},j.concat=function(){var y,u,i,s,a,o,l,c,h=[],v=!0,p=0;for(i=0;i<arguments.length;i++)(o=(s=arguments[i]).length)&&(u?h.push(s):(u=s,a=o),r(s)?y=!1:(v=!1,p?y!==s.constructor&&(y=!1):y=s.constructor),p+=o);if(!p)return[];if(!h.length)return u;if(v)return u.concat.apply(u,h);if(y){for((l=new y(p)).set(u),i=0;i<h.length;i++)l.set(s=h[i],a),a+=s.length;return l}for(l=new Array(p),c=0;c<u.length;c++)l[c]=u[c];for(i=0;i<h.length;i++){for(s=h[i],c=0;c<s.length;c++)l[a+c]=s[c];a+=c}return l},j.maxRowLength=function(y){return M(y,Math.max,0)},j.minRowLength=function(y){return M(y,Math.min,1/0)}},95218:function(oe,j,r){"use strict";var I=r(92770),E=r(50606).BADNUM,f=/^['"%,$#\s']+|[, ]|['"%,$#\s']+$/g;oe.exports=function(S){return"string"==typeof S&&(S=S.replace(f,"")),I(S)?Number(S):E}},33306:function(oe){"use strict";oe.exports=function(j){var r=j._fullLayout;r._glcanvas&&r._glcanvas.size()&&r._glcanvas.each(function(I){I.regl&&I.regl.clear({color:!0,depth:!0})})}},86367:function(oe){"use strict";oe.exports=function(j){j._responsiveChartHandler&&(window.removeEventListener("resize",j._responsiveChartHandler),delete j._responsiveChartHandler)}},96554:function(oe,j,r){"use strict";var I=r(92770),E=r(84267),f=r(9012),S=r(63282),M=r(7901),y=r(37822).DESELECTDIM,u=r(65487),i=r(30587).counter,s=r(64872).modHalf,a=r(73627).isArrayOrTypedArray;function o(l,c){var h=j.valObjectMeta[c.valType];if(c.arrayOk&&a(l))return!0;if(h.validateFunction)return h.validateFunction(l,c);var v={},p=v;return h.coerceFunction(l,{set:function(_){p=_}},v,c),p!==v}j.valObjectMeta={data_array:{coerceFunction:function(l,c,h){a(l)?c.set(l):void 0!==h&&c.set(h)}},enumerated:{coerceFunction:function(l,c,h,v){v.coerceNumber&&(l=+l),-1===v.values.indexOf(l)?c.set(h):c.set(l)},validateFunction:function(l,c){c.coerceNumber&&(l=+l);for(var h=c.values,v=0;v<h.length;v++){var p=String(h[v]);if("/"===p.charAt(0)&&"/"===p.charAt(p.length-1)){if(new RegExp(p.substr(1,p.length-2)).test(l))return!0}else if(l===h[v])return!0}return!1}},boolean:{coerceFunction:function(l,c,h){c.set(!0===l||!1===l?l:h)}},number:{coerceFunction:function(l,c,h,v){!I(l)||void 0!==v.min&&l<v.min||void 0!==v.max&&l>v.max?c.set(h):c.set(+l)}},integer:{coerceFunction:function(l,c,h,v){l%1||!I(l)||void 0!==v.min&&l<v.min||void 0!==v.max&&l>v.max?c.set(h):c.set(+l)}},string:{coerceFunction:function(l,c,h,v){c.set("string"!=typeof l?!0!==v.strict&&"number"==typeof l?String(l):h:v.noBlank&&!l?h:l)}},color:{coerceFunction:function(l,c,h){E(l).isValid()?c.set(l):c.set(h)}},colorlist:{coerceFunction:function(l,c,h){Array.isArray(l)&&l.length&&l.every(function(v){return E(v).isValid()})?c.set(l):c.set(h)}},colorscale:{coerceFunction:function(l,c,h){c.set(S.get(l,h))}},angle:{coerceFunction:function(l,c,h){"auto"===l?c.set("auto"):I(l)?c.set(s(+l,360)):c.set(h)}},subplotid:{coerceFunction:function(l,c,h,v){var p=v.regex||i(h);"string"==typeof l&&p.test(l)?c.set(l):c.set(h)},validateFunction:function(l,c){var h=c.dflt;return l===h||"string"==typeof l&&!!i(h).test(l)}},flaglist:{coerceFunction:function(l,c,h,v){if(-1===(v.extras||[]).indexOf(l))if("string"==typeof l){for(var p=l.split("+"),T=0;T<p.length;){var _=p[T];-1===v.flags.indexOf(_)||p.indexOf(_)<T?p.splice(T,1):T++}c.set(p.length?p.join("+"):h)}else c.set(h);else c.set(l)}},any:{coerceFunction:function(l,c,h){c.set(void 0===l?h:l)}},info_array:{coerceFunction:function(l,c,h,v){function p(N,B,J){var z;return void 0===J&&(J=B.dflt),j.valObjectMeta[B.valType].coerceFunction(N,{set:function(q){z=q}},J,B),z}var T=2===v.dimensions||"1-2"===v.dimensions&&Array.isArray(l)&&Array.isArray(l[0]);if(Array.isArray(l)){var _,g,w,b,A,m=v.items,C=[],k=Array.isArray(m),P=k&&T&&Array.isArray(m[0]),R=T&&k&&!P,L=k&&!R?m.length:l.length;if(h=Array.isArray(h)?h:[],T)for(_=0;_<L;_++)for(C[_]=[],w=Array.isArray(l[_])?l[_]:[],b=R?m.length:k?m[_].length:w.length,g=0;g<b;g++)void 0!==(A=p(w[g],R?m[g]:k?m[_][g]:m,(h[_]||[])[g]))&&(C[_][g]=A);else for(_=0;_<L;_++)void 0!==(A=p(l[_],k?m[_]:m,h[_]))&&(C[_]=A);c.set(C)}else c.set(h)},validateFunction:function(l,c){if(!Array.isArray(l))return!1;var h=c.items,v=Array.isArray(h),p=2===c.dimensions;if(!c.freeLength&&l.length!==h.length)return!1;for(var T=0;T<l.length;T++)if(p){if(!Array.isArray(l[T])||!c.freeLength&&l[T].length!==h[T].length)return!1;for(var _=0;_<l[T].length;_++)if(!o(l[T][_],v?h[T][_]:h))return!1}else if(!o(l[T],v?h[T]:h))return!1;return!0}}},j.coerce=function(l,c,h,v,p){var T=u(h,v).get(),_=u(l,v),g=u(c,v),w=_.get(),x=c._template;if(void 0===w&&x&&(w=u(x,v).get(),x=0),void 0===p&&(p=T.dflt),T.arrayOk&&a(w))return g.set(w),w;var b=j.valObjectMeta[T.valType].coerceFunction;b(w,g,p,T);var A=g.get();return x&&A===p&&!o(w,T)&&(b(w=u(x,v).get(),g,p,T),A=g.get()),A},j.coerce2=function(l,c,h,v,p){var T=u(l,v),_=j.coerce(l,c,h,v,p);return null!=T.get()&&_},j.coerceFont=function(l,c,h){var v={};return v.family=l(c+".family",(h=h||{}).family),v.size=l(c+".size",h.size),v.color=l(c+".color",h.color),v},j.coercePattern=function(l,c,h,v){if(l(c+".shape")){l(c+".solidity"),l(c+".size");var p="overlay"===l(c+".fillmode");if(!v){var T=l(c+".bgcolor",p?h:void 0);l(c+".fgcolor",p?M.contrast(T):h)}l(c+".fgopacity",p?.5:1)}},j.coerceHoverinfo=function(l,c,h){var v,p=c._module.attributes,T=p.hoverinfo?p:f,_=T.hoverinfo;if(1===h._dataLength){var g="all"===_.dflt?_.flags.slice():_.dflt.split("+");g.splice(g.indexOf("name"),1),v=g.join("+")}return j.coerce(l,c,T,"hoverinfo",v)},j.coerceSelectionMarkerOpacity=function(l,c){if(l.marker){var h,v,p=l.marker.opacity;void 0!==p&&(a(p)||l.selected||l.unselected||(h=p,v=y*p),c("selected.marker.opacity",h),c("unselected.marker.opacity",v))}},j.validate=o},41631:function(oe,j,r){"use strict";var I,E,f=r(84096).i$,S=r(92770),M=r(47769),y=r(64872).mod,u=r(50606),i=u.BADNUM,s=u.ONEDAY,a=u.ONEHOUR,o=u.ONEMIN,l=u.ONESEC,c=u.EPOCHJD,h=r(73972),v=r(84096).g0,p=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\d)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,T=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\di?)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,_=(new Date).getFullYear()-70;function g(B){return B&&h.componentsRegistry.calendars&&"string"==typeof B&&"gregorian"!==B}function w(B,J){return String(B+Math.pow(10,J)).substr(1)}j.dateTick0=function(B,J){var q,U,z=(U=!!J,g(q=B)?U?h.getComponentMethod("calendars","CANONICAL_SUNDAY")[q]:h.getComponentMethod("calendars","CANONICAL_TICK")[q]:U?"2000-01-02":"2000-01-01");if(J<2)return z;var Y=j.dateTime2ms(z,B);return j.ms2DateTime(Y+=s*(J-1),0,B)},j.dfltRange=function(B){return g(B)?h.getComponentMethod("calendars","DFLTRANGE")[B]:["2000-01-01","2001-01-01"]},j.isJSDate=function(B){return"object"==typeof B&&null!==B&&"function"==typeof B.getTime},j.dateTime2ms=function(B,J){if(j.isJSDate(B)){var z=B.getTimezoneOffset()*o,Y=(B.getUTCMinutes()-B.getMinutes())*o+(B.getUTCSeconds()-B.getSeconds())*l+(B.getUTCMilliseconds()-B.getMilliseconds());if(Y){var q=3*o;z=z-q/2+y(Y-z+q/2,q)}return(B=Number(B)-z)>=I&&B<=E?B:i}if("string"!=typeof B&&"number"!=typeof B)return i;B=String(B);var U=g(J),Z=B.charAt(0);!U||"G"!==Z&&"g"!==Z||(B=B.substr(1),J="");var X=U&&"chinese"===J.substr(0,7),se=B.match(X?T:p);if(!se)return i;var re=se[1],ee=se[3]||"1",K=Number(se[5]||1),ne=Number(se[7]||0),ae=Number(se[9]||0),ue=Number(se[11]||0);if(U){if(2===re.length)return i;var he;re=Number(re);try{var pe=h.getComponentMethod("calendars","getCal")(J);if(X){var ge="i"===ee.charAt(ee.length-1);ee=parseInt(ee,10),he=pe.newDate(re,pe.toMonthIndex(re,ee,ge),K)}else he=pe.newDate(re,Number(ee),K)}catch{return i}return he?(he.toJD()-c)*s+ne*a+ae*o+ue*l:i}re=2===re.length?(Number(re)+2e3-_)%100+_:Number(re),ee-=1;var xe=new Date(Date.UTC(2e3,ee,K,ne,ae));return xe.setUTCFullYear(re),xe.getUTCMonth()!==ee||xe.getUTCDate()!==K?i:xe.getTime()+ue*l},I=j.MIN_MS=j.dateTime2ms("-9999"),E=j.MAX_MS=j.dateTime2ms("9999-12-31 23:59:59.9999"),j.isDateTime=function(B,J){return j.dateTime2ms(B,J)!==i};var x=90*s,b=3*a,A=5*o;function m(B,J,z,Y,q){if((J||z||Y||q)&&(B+=" "+w(J,2)+":"+w(z,2),(Y||q)&&(B+=":"+w(Y,2),q))){for(var U=4;q%10==0;)U-=1,q/=10;B+="."+w(q,U)}return B}j.ms2DateTime=function(B,J,z){if("number"!=typeof B||!(B>=I&&B<=E))return i;J||(J=0);var Y,q,U,Z,X,se,re=Math.floor(10*y(B+.05,1)),ee=Math.round(B-re/10);if(g(z)){var K=Math.floor(ee/s)+c,ne=Math.floor(y(B,s));try{Y=h.getComponentMethod("calendars","getCal")(z).fromJD(K).formatDate("yyyy-mm-dd")}catch{Y=v("G%Y-%m-%d")(new Date(ee))}if("-"===Y.charAt(0))for(;Y.length<11;)Y="-0"+Y.substr(1);else for(;Y.length<10;)Y="0"+Y;q=J<x?Math.floor(ne/a):0,U=J<x?Math.floor(ne%a/o):0,Z=J<b?Math.floor(ne%o/l):0,X=J<A?ne%l*10+re:0}else se=new Date(ee),Y=v("%Y-%m-%d")(se),q=J<x?se.getUTCHours():0,U=J<x?se.getUTCMinutes():0,Z=J<b?se.getUTCSeconds():0,X=J<A?10*se.getUTCMilliseconds()+re:0;return m(Y,q,U,Z,X)},j.ms2DateTimeLocal=function(B){if(!(B>=I+s&&B<=E-s))return i;var J=Math.floor(10*y(B+.05,1)),z=new Date(Math.round(B-J/10));return m(f("%Y-%m-%d")(z),z.getHours(),z.getMinutes(),z.getSeconds(),10*z.getUTCMilliseconds()+J)},j.cleanDate=function(B,J,z){if(B===i)return J;if(j.isJSDate(B)||"number"==typeof B&&isFinite(B)){if(g(z))return M.error("JS Dates and milliseconds are incompatible with world calendars",B),J;if(!(B=j.ms2DateTimeLocal(+B))&&void 0!==J)return J}else if(!j.isDateTime(B,z))return M.error("unrecognized date",B),J;return B};var C=/%\d?f/g,k=/%h/g,P={1:"1",2:"1",3:"2",4:"2"};function R(B,J,z,Y){B=B.replace(C,function(U){var Z=Math.min(+U.charAt(1)||6,6);return(J/1e3%1+2).toFixed(Z).substr(2).replace(/0+$/,"")||"0"});var q=new Date(Math.floor(J+.05));if(B=B.replace(k,function(){return P[z("%q")(q)]}),g(Y))try{B=h.getComponentMethod("calendars","worldCalFmt")(B,J,Y)}catch{return"Invalid"}return z(B)(q)}var L=[59,59.9,59.99,59.999,59.9999];j.formatDate=function(B,J,z,Y,q,U){if(q=g(q)&&q,!J)if("y"===z)J=U.year;else if("m"===z)J=U.month;else{if("d"!==z)return function(Z,X){var se=y(Z+.05,s),re=w(Math.floor(se/a),2)+":"+w(y(Math.floor(se/o),60),2);if("M"!==X){S(X)||(X=0);var ee=(100+Math.min(y(Z/l,60),L[X])).toFixed(X).substr(1);X>0&&(ee=ee.replace(/0+$/,"").replace(/[\.]$/,"")),re+=":"+ee}return re}(B,z)+"\n"+R(U.dayMonthYear,B,Y,q);J=U.dayMonth+"\n"+U.year}return R(J,B,Y,q)};var N=3*s;j.incrementMonth=function(B,J,z){z=g(z)&&z;var Y=y(B,s);if(B=Math.round(B-Y),z)try{var q=Math.round(B/s)+c,U=h.getComponentMethod("calendars","getCal")(z),Z=U.fromJD(q);return J%12?U.add(Z,J,"m"):U.add(Z,J/12,"y"),(Z.toJD()-c)*s+Y}catch{M.error("invalid ms "+B+" in calendar "+z)}var X=new Date(B+N);return X.setUTCMonth(X.getUTCMonth()+J)+Y-N},j.findExactDates=function(B,J){for(var z,Y,q=0,U=0,Z=0,X=0,se=g(J)&&h.getComponentMethod("calendars","getCal")(J),re=0;re<B.length;re++)if(S(Y=B[re])){if(!(Y%s))if(se)try{1===(z=se.fromJD(Y/s+c)).day()?1===z.month()?q++:U++:Z++}catch{}else 1===(z=new Date(Y)).getUTCDate()?0===z.getUTCMonth()?q++:U++:Z++}else X++;Z+=U+=q;var ee=B.length-X;return{exactYears:q/ee,exactMonths:U/ee,exactDays:Z/ee}}},24401:function(oe,j,r){"use strict";var I=r(39898),E=r(47769),f=r(35657),S=r(79576);function M(a){var o=a&&a.parentNode;o&&o.removeChild(a)}function y(a,o,l){var c="plotly.js-style-"+a,h=document.getElementById(c);h||((h=document.createElement("style")).setAttribute("id",c),h.appendChild(document.createTextNode("")),document.head.appendChild(h));var v=h.sheet;v.insertRule?v.insertRule(o+"{"+l+"}",0):v.addRule?v.addRule(o,l,0):E.warn("addStyleRule failed")}function u(a){var o=window.getComputedStyle(a,null),l=o.getPropertyValue("-webkit-transform")||o.getPropertyValue("-moz-transform")||o.getPropertyValue("-ms-transform")||o.getPropertyValue("-o-transform")||o.getPropertyValue("transform");return"none"===l?null:l.replace("matrix","").replace("3d","").slice(1,-1).split(",").map(function(c){return+c})}function i(a){for(var o=[];s(a);)o.push(a),a=a.parentNode;return o}function s(a){return a&&(a instanceof Element||a instanceof HTMLElement)}oe.exports={getGraphDiv:function(a){var o;if("string"==typeof a){if(null===(o=document.getElementById(a)))throw new Error("No DOM element with id '"+a+"' exists on the page.");return o}if(null==a)throw new Error("DOM element provided is null or undefined");return a},isPlotDiv:function(a){var o=I.select(a);return o.node()instanceof HTMLElement&&o.size()&&o.classed("js-plotly-plot")},removeElement:M,addStyleRule:function(a,o){y("global",a,o)},addRelatedStyleRule:y,deleteRelatedStyleRule:function(a){var l=document.getElementById("plotly.js-style-"+a);l&&M(l)},getFullTransformMatrix:function(a){var o=i(a),l=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return o.forEach(function(c){var h=u(c);if(h){var v=f.convertCssMatrix(h);l=S.multiply(l,l,v)}}),l},getElementTransformMatrix:u,getElementAndAncestors:i,equalDomRects:function(a,o){return a&&o&&a.top===o.top&&a.left===o.left&&a.right===o.right&&a.bottom===o.bottom}}},11086:function(oe,j,r){"use strict";var I=r(15398).EventEmitter;oe.exports={init:function(f){if(f._ev instanceof I)return f;var S=new I,M=new I;return f._ev=S,f._internalEv=M,f.on=S.on.bind(S),f.once=S.once.bind(S),f.removeListener=S.removeListener.bind(S),f.removeAllListeners=S.removeAllListeners.bind(S),f._internalOn=M.on.bind(M),f._internalOnce=M.once.bind(M),f._removeInternalListener=M.removeListener.bind(M),f._removeAllInternalListeners=M.removeAllListeners.bind(M),f.emit=function(y,u){typeof jQuery<"u"&&jQuery(f).trigger(y,u),S.emit(y,u),M.emit(y,u)},f},triggerHandler:function(f,S,M){var y,u;typeof jQuery<"u"&&(y=jQuery(f).triggerHandler(S,M));var i=f._ev;if(!i)return y;var s,a=i._events[S];if(!a)return y;function o(l){return l.listener?(i.removeListener(S,l.listener),l.fired?void 0:(l.fired=!0,l.listener.apply(i,[M]))):l.apply(i,[M])}for(a=Array.isArray(a)?a:[a],s=0;s<a.length-1;s++)o(a[s]);return u=o(a[s]),void 0!==y?y:u},purge:function(f){return delete f._ev,delete f.on,delete f.once,delete f.removeListener,delete f.removeAllListeners,delete f.emit,delete f._ev,delete f._internalEv,delete f._internalOn,delete f._internalOnce,delete f._removeInternalListener,delete f._removeAllInternalListeners,f}}},1426:function(oe,j,r){"use strict";var I=r(41965),E=Array.isArray;function f(S,M,y,u){var i,s,a,o,l,c,v=S[0],p=S.length;if(2===p&&E(v)&&E(S[1])&&0===v.length){if(function(_,g){var w,x;for(w=0;w<_.length;w++){if(null!==(x=_[w])&&"object"==typeof x)return!1;void 0!==x&&(g[w]=x)}return!0}(S[1],v))return v;v.splice(0,v.length)}for(var T=1;T<p;T++)for(s in i=S[T])a=v[s],o=i[s],u&&E(o)?v[s]=o:M&&o&&(I(o)||(l=E(o)))?(l?(l=!1,c=a&&E(a)?a:[]):c=a&&I(a)?a:{},v[s]=f([c,o],M,y,u)):(void 0!==o||y)&&(v[s]=o);return v}j.extendFlat=function(){return f(arguments,!1,!1,!1)},j.extendDeep=function(){return f(arguments,!0,!1,!1)},j.extendDeepAll=function(){return f(arguments,!0,!0,!1)},j.extendDeepNoArrays=function(){return f(arguments,!0,!1,!0)}},75744:function(oe){"use strict";oe.exports=function(j){for(var r={},I=[],E=0,f=0;f<j.length;f++){var S=j[f];1!==r[S]&&(r[S]=1,I[E++]=S)}return I}},76756:function(oe){"use strict";function j(I){return!0===I.visible}function r(I){var E=I[0].trace;return!0===E.visible&&0!==E._length}oe.exports=function(I){for(var E,f=(E=I,Array.isArray(E)&&Array.isArray(E[0])&&E[0][0]&&E[0][0].trace?r:j),S=[],M=0;M<I.length;M++){var y=I[M];f(y)&&S.push(y)}return S}},41327:function(oe,j,r){"use strict";var I=r(39898),E=r(24138),f=r(30774),S=r(29261),M=r(85268),y=r(23389),u=r(47769),i=r(41965),s=r(65487),a=r(61082),o=Object.keys(E),l={"ISO-3":y,"USA-states":y,"country names":function(h){for(var v=0;v<o.length;v++){var p=o[v];if(new RegExp(E[p]).test(h.trim().toLowerCase()))return p}return u.log("Unrecognized country name: "+h+"."),!1}};function c(h){var v=h.geojson,p=window.PlotlyGeoAssets||{},T="string"==typeof v?p[v]:v;return i(T)?T:(u.error("Oops ... something went wrong when fetching "+v),!1)}oe.exports={locationToFeature:function(h,v,p){if(!v||"string"!=typeof v)return!1;var T,_,g,w=l[h](v);if(w){if("USA-states"===h)for(T=[],g=0;g<p.length;g++)(_=p[g]).properties&&_.properties.gu&&"USA"===_.properties.gu&&T.push(_);else T=p;for(g=0;g<T.length;g++)if((_=T[g]).id===w)return _;u.log(["Location with id",w,"does not have a matching topojson feature at this resolution."].join(" "))}return!1},feature2polygons:function(h){var v,p,T,_,g=h.geometry,w=g.coordinates,x=h.id,b=[];function A(m){for(var C=0;C<m.length-1;C++)if(m[C][0]>0&&m[C+1][0]<0)return C;return null}switch(v="RUS"===x||"FJI"===x?function(m){var C;if(null===A(m))C=m;else for(C=new Array(m.length),_=0;_<m.length;_++)C[_]=[m[_][0]<0?m[_][0]+360:m[_][0],m[_][1]];b.push(a.tester(C))}:"ATA"===x?function(m){var C=A(m);if(null===C)return b.push(a.tester(m));var k=new Array(m.length+1),P=0;for(_=0;_<m.length;_++)_>C?k[P++]=[m[_][0]+360,m[_][1]]:_===C?(k[P++]=m[_],k[P++]=[m[_][0],-90]):k[P++]=m[_];var R=a.tester(k);R.pts.pop(),b.push(R)}:function(m){b.push(a.tester(m))},g.type){case"MultiPolygon":for(p=0;p<w.length;p++)for(T=0;T<w[p].length;T++)v(w[p][T]);break;case"Polygon":for(p=0;p<w.length;p++)v(w[p])}return b},getTraceGeojson:c,extractTraceFeature:function(h){var v=h[0].trace,p=c(v);if(!p)return!1;var T,_={},g=[];for(T=0;T<v._length;T++){var w=h[T];(w.loc||0===w.loc)&&(_[w.loc]=w)}function x(m){var C=s(m,v.featureidkey||"id").get(),k=_[C];if(k){var P=m.geometry;if("Polygon"===P.type||"MultiPolygon"===P.type){var R={type:"Feature",id:C,geometry:P,properties:{}};R.properties.ct=function(L){var N,B=L.geometry;if("MultiPolygon"===B.type)for(var J=B.coordinates,z=0,Y=0;Y<J.length;Y++){var q={type:"Polygon",coordinates:J[Y]},U=f.default(q);U>z&&(z=U,N=q)}else N=B;return S.default(N).geometry.coordinates}(R),k.fIn=m,k.fOut=R,g.push(R)}else u.log(["Location",k.loc,"does not have a valid GeoJSON geometry.","Traces with locationmode *geojson-id* only support","*Polygon* and *MultiPolygon* geometries."].join(" "))}delete _[C]}switch(p.type){case"FeatureCollection":var b=p.features;for(T=0;T<b.length;T++)x(b[T]);break;case"Feature":x(p);break;default:return u.warn(["Invalid GeoJSON type",(p.type||"none")+".","Traces with locationmode *geojson-id* only support","*FeatureCollection* and *Feature* types."].join(" ")),!1}for(var A in _)u.log(["Location *"+A+"*","does not have a matching feature with id-key","*"+v.featureidkey+"*."].join(" "));return g},fetchTraceGeoData:function(h){var v=window.PlotlyGeoAssets||{},p=[];function T(x){return new Promise(function(b,A){I.json(x,function(m,C){return m?(delete v[x],A(new Error(404===m.status?'GeoJSON at URL "'+x+'" does not exist.':"Unexpected error while fetching from "+x))):(v[x]=C,b(C))})})}function _(x){return new Promise(function(b,A){var m=0,C=setInterval(function(){return v[x]&&"pending"!==v[x]?(clearInterval(C),b(v[x])):m>100?(clearInterval(C),A("Unexpected error while fetching from "+x)):void m++},50)})}for(var g=0;g<h.length;g++){var w=h[g][0].trace.geojson;"string"==typeof w&&(v[w]?"pending"===v[w]&&p.push(_(w)):(v[w]="pending",p.push(T(w))))}return p},computeBbox:function(h){return M.default(h)}}},18214:function(oe,j,r){"use strict";var I=r(50606).BADNUM;j.calcTraceToLineCoords=function(E){for(var f=E[0].trace.connectgaps,S=[],M=[],y=0;y<E.length;y++){var u=E[y].lonlat;u[0]!==I?M.push(u):!f&&M.length>0&&(S.push(M),M=[])}return M.length>0&&S.push(M),S},j.makeLine=function(E){return 1===E.length?{type:"LineString",coordinates:E[0]}:{type:"MultiLineString",coordinates:E}},j.makePolygon=function(E){if(1===E.length)return{type:"Polygon",coordinates:E};for(var f=new Array(E.length),S=0;S<E.length;S++)f[S]=[E[S]];return{type:"MultiPolygon",coordinates:f}},j.makeBlank=function(){return{type:"Point",coordinates:[]}}},87642:function(oe,j,r){"use strict";var I,E,f,S=r(64872).mod;function M(u,i,s,a,o,l,c,h){var v=s-u,p=o-u,T=c-o,_=a-i,g=l-i,w=h-l,x=v*w-T*_;if(0===x)return null;var b=(p*w-T*g)/x,A=(p*_-v*g)/x;return A<0||A>1||b<0||b>1?null:{x:u+v*b,y:i+_*b}}function y(u,i,s,a,o){var l=a*u+o*i;if(l<0)return a*a+o*o;if(l>s){var c=a-u,h=o-i;return c*c+h*h}var v=a*i-o*u;return v*v/s}j.segmentsIntersect=M,j.segmentDistance=function(u,i,s,a,o,l,c,h){if(M(u,i,s,a,o,l,c,h))return 0;var v=s-u,p=a-i,T=c-o,_=h-l,g=v*v+p*p,w=T*T+_*_,x=Math.min(y(v,p,g,o-u,l-i),y(v,p,g,c-u,h-i),y(T,_,w,u-o,i-l),y(T,_,w,s-o,a-l));return Math.sqrt(x)},j.getTextLocation=function(u,i,s,a){if(u===E&&a===f||(I={},E=u,f=a),I[s])return I[s];var o=u.getPointAtLength(S(s-a/2,i)),l=u.getPointAtLength(S(s+a/2,i)),c=Math.atan((l.y-o.y)/(l.x-o.x)),h=u.getPointAtLength(S(s,i)),v={x:(4*h.x+o.x+l.x)/6,y:(4*h.y+o.y+l.y)/6,theta:c};return I[s]=v,v},j.clearLocationCache=function(){E=null},j.getVisibleSegment=function(u,i,s){var a,o,l=i.left,c=i.right,h=i.top,v=i.bottom,p=0,T=u.getTotalLength(),_=T;function g(x){var b=u.getPointAtLength(x);0===x?a=b:x===T&&(o=b);var A=b.x<l?l-b.x:b.x>c?b.x-c:0,m=b.y<h?h-b.y:b.y>v?b.y-v:0;return Math.sqrt(A*A+m*m)}for(var w=g(p);w;){if((p+=w+s)>_)return;w=g(p)}for(w=g(_);w;){if(p>(_-=w+s))return;w=g(_)}return{min:p,max:_,len:_-p,total:T,isClosed:0===p&&_===T&&Math.abs(a.x-o.x)<.1&&Math.abs(a.y-o.y)<.1}},j.findPointOnPath=function(u,i,s,a){for(var o,l,c,h=(a=a||{}).pathLength||u.getTotalLength(),v=a.tolerance||.001,p=a.iterationLimit||30,T=u.getPointAtLength(0)[s]>u.getPointAtLength(h)[s]?-1:1,_=0,g=0,w=h;_<p;){if(c=(l=u.getPointAtLength(o=(g+w)/2))[s]-i,Math.abs(c)<v)return l;T*c>0?w=o:g=o,_++}return l}},81697:function(oe,j,r){"use strict";var I=r(92770),E=r(84267),f=r(25075),S=r(21081),M=r(22399).defaultLine,y=r(73627).isArrayOrTypedArray,u=f(M);function i(o,l){var c=o;return c[3]*=l,c}function s(o){if(I(o))return u;var l=f(o);return l.length?l:u}function a(o){return I(o)?o:1}oe.exports={formatColor:function(o,l,c){var h,v,p,T,_,g=o.color,w=y(g),x=y(l),b=S.extractOpts(o),A=[];if(h=void 0!==b.colorscale?S.makeColorScaleFuncFromTrace(o):s,v=w?function(C,k){return void 0===C[k]?u:f(h(C[k]))}:s,p=x?function(C,k){return void 0===C[k]?1:a(C[k])}:a,w||x)for(var m=0;m<c;m++)T=v(g,m),_=p(l,m),A[m]=i(T,_);else A=i(f(g),l);return A},parseColorScale:function(o){var l=S.extractOpts(o),c=l.colorscale;return l.reversescale&&(c=S.flipScale(l.colorscale)),c.map(function(h){var v=h[0],p=E(h[1]).toRgb();return{index:v,rgb:[p.r,p.g,p.b,p.a]}})}}},28984:function(oe,j,r){"use strict";var I=r(23389);function E(f){return[f]}oe.exports={keyFun:function(f){return f.key},repeat:E,descend:I,wrap:E,unwrap:function(f){return f[0]}}},23389:function(oe){"use strict";oe.exports=function(j){return j}},39240:function(oe){"use strict";oe.exports=function(j,r){if(!r)return j;var I=1/Math.abs(r),E=I>1?(I*j+I*r)/I:j+r,f=String(E).length;if(f>16){var S=String(r).length;if(f>=String(j).length+S){var M=parseFloat(E).toPrecision(12);-1===M.indexOf("e+")&&(E=+M)}}return E}},71828:function(oe,j,r){"use strict";var I=r(39898),E=r(84096).g0,f=r(60721).WU,S=r(92770),M=r(50606),y=M.FP_SAFE,u=-y,i=M.BADNUM,s=oe.exports={};s.adjustFormat=function(K){return!K||/^\d[.]\df/.test(K)||/[.]\d%/.test(K)?K:"0.f"===K?"~f":/^\d%/.test(K)?"~%":/^\ds/.test(K)?"~s":!/^[~,.0$]/.test(K)&&/[&fps]/.test(K)?"~"+K:K};var a={};s.warnBadFormat=function(K){var ne=String(K);a[ne]||(a[ne]=1,s.warn('encountered bad format: "'+ne+'"'))},s.noFormat=function(K){return String(K)},s.numberFormat=function(K){var ne;try{ne=f(s.adjustFormat(K))}catch{return s.warnBadFormat(K),s.noFormat}return ne},s.nestedProperty=r(65487),s.keyedContainer=r(66636),s.relativeAttr=r(6962),s.isPlainObject=r(41965),s.toLogRange=r(58163),s.relinkPrivateKeys=r(51332);var o=r(73627);s.isTypedArray=o.isTypedArray,s.isArrayOrTypedArray=o.isArrayOrTypedArray,s.isArray1D=o.isArray1D,s.ensureArray=o.ensureArray,s.concat=o.concat,s.maxRowLength=o.maxRowLength,s.minRowLength=o.minRowLength;var l=r(64872);s.mod=l.mod,s.modHalf=l.modHalf;var c=r(96554);s.valObjectMeta=c.valObjectMeta,s.coerce=c.coerce,s.coerce2=c.coerce2,s.coerceFont=c.coerceFont,s.coercePattern=c.coercePattern,s.coerceHoverinfo=c.coerceHoverinfo,s.coerceSelectionMarkerOpacity=c.coerceSelectionMarkerOpacity,s.validate=c.validate;var h=r(41631);s.dateTime2ms=h.dateTime2ms,s.isDateTime=h.isDateTime,s.ms2DateTime=h.ms2DateTime,s.ms2DateTimeLocal=h.ms2DateTimeLocal,s.cleanDate=h.cleanDate,s.isJSDate=h.isJSDate,s.formatDate=h.formatDate,s.incrementMonth=h.incrementMonth,s.dateTick0=h.dateTick0,s.dfltRange=h.dfltRange,s.findExactDates=h.findExactDates,s.MIN_MS=h.MIN_MS,s.MAX_MS=h.MAX_MS;var v=r(65888);s.findBin=v.findBin,s.sorterAsc=v.sorterAsc,s.sorterDes=v.sorterDes,s.distinctVals=v.distinctVals,s.roundUp=v.roundUp,s.sort=v.sort,s.findIndexOfMin=v.findIndexOfMin,s.sortObjectKeys=r(78607);var p=r(80038);s.aggNums=p.aggNums,s.len=p.len,s.mean=p.mean,s.median=p.median,s.midRange=p.midRange,s.variance=p.variance,s.stdev=p.stdev,s.interp=p.interp;var T=r(35657);s.init2dArray=T.init2dArray,s.transposeRagged=T.transposeRagged,s.dot=T.dot,s.translationMatrix=T.translationMatrix,s.rotationMatrix=T.rotationMatrix,s.rotationXYMatrix=T.rotationXYMatrix,s.apply3DTransform=T.apply3DTransform,s.apply2DTransform=T.apply2DTransform,s.apply2DTransform2=T.apply2DTransform2,s.convertCssMatrix=T.convertCssMatrix,s.inverseTransformMatrix=T.inverseTransformMatrix;var _=r(26348);s.deg2rad=_.deg2rad,s.rad2deg=_.rad2deg,s.angleDelta=_.angleDelta,s.angleDist=_.angleDist,s.isFullCircle=_.isFullCircle,s.isAngleInsideSector=_.isAngleInsideSector,s.isPtInsideSector=_.isPtInsideSector,s.pathArc=_.pathArc,s.pathSector=_.pathSector,s.pathAnnulus=_.pathAnnulus;var g=r(99863);s.isLeftAnchor=g.isLeftAnchor,s.isCenterAnchor=g.isCenterAnchor,s.isRightAnchor=g.isRightAnchor,s.isTopAnchor=g.isTopAnchor,s.isMiddleAnchor=g.isMiddleAnchor,s.isBottomAnchor=g.isBottomAnchor;var w=r(87642);s.segmentsIntersect=w.segmentsIntersect,s.segmentDistance=w.segmentDistance,s.getTextLocation=w.getTextLocation,s.clearLocationCache=w.clearLocationCache,s.getVisibleSegment=w.getVisibleSegment,s.findPointOnPath=w.findPointOnPath;var x=r(1426);s.extendFlat=x.extendFlat,s.extendDeep=x.extendDeep,s.extendDeepAll=x.extendDeepAll,s.extendDeepNoArrays=x.extendDeepNoArrays;var b=r(47769);s.log=b.log,s.warn=b.warn,s.error=b.error;var A=r(30587);s.counterRegex=A.counter;var m=r(79990);s.throttle=m.throttle,s.throttleDone=m.done,s.clearThrottle=m.clear;var C=r(24401);function k(K){var ne={};for(var ae in K)for(var ue=K[ae],he=0;he<ue.length;he++)ne[ue[he]]=+ae;return ne}s.getGraphDiv=C.getGraphDiv,s.isPlotDiv=C.isPlotDiv,s.removeElement=C.removeElement,s.addStyleRule=C.addStyleRule,s.addRelatedStyleRule=C.addRelatedStyleRule,s.deleteRelatedStyleRule=C.deleteRelatedStyleRule,s.getFullTransformMatrix=C.getFullTransformMatrix,s.getElementTransformMatrix=C.getElementTransformMatrix,s.getElementAndAncestors=C.getElementAndAncestors,s.equalDomRects=C.equalDomRects,s.clearResponsive=r(86367),s.preserveDrawingBuffer=r(45142),s.makeTraceGroups=r(77310),s._=r(15867),s.notifier=r(75046),s.filterUnique=r(75744),s.filterVisible=r(76756),s.pushUnique=r(75138),s.increment=r(39240),s.cleanNumber=r(95218),s.ensureNumber=function(K){return S(K)?(K=Number(K))>y||K<u?i:K:i},s.isIndex=function(K,ne){return!(void 0!==ne&&K>=ne)&&S(K)&&K>=0&&K%1==0},s.noop=r(64213),s.identity=r(23389),s.repeat=function(K,ne){for(var ae=new Array(ne),ue=0;ue<ne;ue++)ae[ue]=K;return ae},s.swapAttrs=function(K,ne,ae,ue){ae||(ae="x"),ue||(ue="y");for(var he=0;he<ne.length;he++){var pe=ne[he],ge=s.nestedProperty(K,pe.replace("?",ae)),xe=s.nestedProperty(K,pe.replace("?",ue)),Se=ge.get();ge.set(xe.get()),xe.set(Se)}},s.raiseToTop=function(K){K.parentNode.appendChild(K)},s.cancelTransition=function(K){return K.transition().duration(0)},s.constrain=function(K,ne,ae){return ne>ae?Math.max(ae,Math.min(ne,K)):Math.max(ne,Math.min(ae,K))},s.bBoxIntersect=function(K,ne,ae){return K.left<=ne.right+(ae=ae||0)&&ne.left<=K.right+ae&&K.top<=ne.bottom+ae&&ne.top<=K.bottom+ae},s.simpleMap=function(K,ne,ae,ue,he){for(var pe=K.length,ge=new Array(pe),xe=0;xe<pe;xe++)ge[xe]=ne(K[xe],ae,ue,he);return ge},s.randstr=function K(ne,ae,ue,he){if(ue||(ue=16),void 0===ae&&(ae=24),ae<=0)return"0";var pe,ge,xe=Math.log(Math.pow(2,ae))/Math.log(ue),Se="";for(pe=2;xe===1/0;pe*=2)xe=Math.log(Math.pow(2,ae/pe))/Math.log(ue)*pe;var Te=xe-Math.floor(xe);for(pe=0;pe<Math.floor(xe);pe++)Se=Math.floor(Math.random()*ue).toString(ue)+Se;Te&&(ge=Math.pow(ue,Te),Se=Math.floor(Math.random()*ge).toString(ue)+Se);var ye=parseInt(Se,ue);return ne&&ne[Se]||ye!==1/0&&ye>=Math.pow(2,ae)?he>10?(s.warn("randstr failed uniqueness"),Se):K(ne,ae,ue,(he||0)+1):Se},s.OptionControl=function(K,ne){K||(K={}),ne||(ne="opt");var ae={optionList:[],_newoption:function(ue){ue[ne]=K,ae[ue.name]=ue,ae.optionList.push(ue)}};return ae["_"+ne]=K,ae},s.smooth=function(K,ne){if((ne=Math.round(ne)||0)<2)return K;var ae,ue,he,pe,ge=K.length,xe=2*ge,Se=2*ne-1,Te=new Array(Se),ye=new Array(ge);for(ae=0;ae<Se;ae++)Te[ae]=(1-Math.cos(Math.PI*(ae+1)/ne))/(2*ne);for(ae=0;ae<ge;ae++){for(pe=0,ue=0;ue<Se;ue++)(he=ae+ue+1-ne)<-ge?he-=xe*Math.round(he/xe):he>=xe&&(he-=xe*Math.floor(he/xe)),he<0?he=-1-he:he>=ge&&(he=xe-1-he),pe+=K[he]*Te[ue];ye[ae]=pe}return ye},s.syncOrAsync=function(K,ne,ae){var ue;function he(){return s.syncOrAsync(K,ne,ae)}for(;K.length;)if((ue=(0,K.splice(0,1)[0])(ne))&&ue.then)return ue.then(he);return ae&&ae(ne)},s.stripTrailingSlash=function(K){return"/"===K.substr(-1)?K.substr(0,K.length-1):K},s.noneOrAll=function(K,ne,ae){if(K){var ue,he=!1,pe=!0;for(ue=0;ue<ae.length;ue++)null!=K[ae[ue]]?he=!0:pe=!1;if(he&&!pe)for(ue=0;ue<ae.length;ue++)K[ae[ue]]=ne[ae[ue]]}},s.mergeArray=function(K,ne,ae,ue){var he="function"==typeof ue;if(s.isArrayOrTypedArray(K))for(var pe=Math.min(K.length,ne.length),ge=0;ge<pe;ge++){var xe=K[ge];ne[ge][ae]=he?ue(xe):xe}},s.mergeArrayCastPositive=function(K,ne,ae){return s.mergeArray(K,ne,ae,function(ue){var he=+ue;return isFinite(he)&&he>0?he:0})},s.fillArray=function(K,ne,ae,ue){if(ue=ue||s.identity,s.isArrayOrTypedArray(K))for(var he=0;he<ne.length;he++)ne[he][ae]=ue(K[he])},s.castOption=function(K,ne,ae,ue){ue=ue||s.identity;var he=s.nestedProperty(K,ae).get();return s.isArrayOrTypedArray(he)?Array.isArray(ne)&&s.isArrayOrTypedArray(he[ne[0]])?ue(he[ne[0]][ne[1]]):ue(he[ne]):he},s.extractOption=function(K,ne,ae,ue){if(ae in K)return K[ae];var he=s.nestedProperty(ne,ue).get();return Array.isArray(he)?void 0:he},s.tagSelected=function(K,ne,ae){var ue,he,pe=ne.selectedpoints,ge=ne._indexToPoints;ge&&(ue=k(ge));for(var xe=0;xe<pe.length;xe++){var Se=pe[xe];if(s.isIndex(Se)||s.isArrayOrTypedArray(Se)&&s.isIndex(Se[0])&&s.isIndex(Se[1])){var Te=ue?ue[Se]:Se,ye=ae?ae[Te]:Te;void 0!==(he=ye)&&he<K.length&&(K[ye].selected=1)}}},s.selIndices2selPoints=function(K){var ne=K.selectedpoints,ae=K._indexToPoints;if(ae){for(var ue=k(ae),he=[],pe=0;pe<ne.length;pe++){var ge=ne[pe];if(s.isIndex(ge)){var xe=ue[ge];s.isIndex(xe)&&he.push(xe)}}return he}return ne},s.getTargetArray=function(K,ne){var ae=ne.target;if("string"==typeof ae&&ae){var ue=s.nestedProperty(K,ae).get();return!!Array.isArray(ue)&&ue}return!!Array.isArray(ae)&&ae},s.minExtend=function K(ne,ae,ue){var he={};"object"!=typeof ae&&(ae={});var pe,ge,xe,Se="pieLike"===ue?-1:3,Te=Object.keys(ne);for(pe=0;pe<Te.length;pe++)xe=ne[ge=Te[pe]],"_"!==ge.charAt(0)&&"function"!=typeof xe&&(he[ge]="module"===ge?xe:Array.isArray(xe)?"colorscale"===ge||-1===Se?xe.slice():xe.slice(0,Se):s.isTypedArray(xe)?-1===Se?xe.subarray():xe.subarray(0,Se):xe&&"object"==typeof xe?K(ne[ge],ae[ge],ue):xe);for(Te=Object.keys(ae),pe=0;pe<Te.length;pe++)"object"==typeof(xe=ae[ge=Te[pe]])&&ge in he&&"object"==typeof he[ge]||(he[ge]=xe);return he},s.titleCase=function(K){return K.charAt(0).toUpperCase()+K.substr(1)},s.containsAny=function(K,ne){for(var ae=0;ae<ne.length;ae++)if(-1!==K.indexOf(ne[ae]))return!0;return!1},s.isIE=function(){return void 0!==window.navigator.msSaveBlob};var P=/Version\/[\d\.]+.*Safari/;s.isSafari=function(){return P.test(window.navigator.userAgent)};var R=/iPad|iPhone|iPod/;s.isIOS=function(){return R.test(window.navigator.userAgent)};var L=/Firefox\/(\d+)\.\d+/;s.getFirefoxVersion=function(){var K=L.exec(window.navigator.userAgent);if(K&&2===K.length){var ne=parseInt(K[1]);if(!isNaN(ne))return ne}return null},s.isD3Selection=function(K){return K instanceof I.selection},s.ensureSingle=function(K,ne,ae,ue){var he=K.select(ne+(ae?"."+ae:""));if(he.size())return he;var pe=K.append(ne);return ae&&pe.classed(ae,!0),ue&&pe.call(ue),pe},s.ensureSingleById=function(K,ne,ae,ue){var he=K.select(ne+"#"+ae);if(he.size())return he;var pe=K.append(ne).attr("id",ae);return ue&&pe.call(ue),pe},s.objectFromPath=function(K,ne){for(var ae,ue=K.split("."),he=ae={},pe=0;pe<ue.length;pe++){var ge=ue[pe],xe=null,Se=ue[pe].match(/(.*)\[([0-9]+)\]/);Se?(xe=Se[2],(ae=ae[ge=Se[1]]=[])[xe]=pe===ue.length-1?ne:{},ae=ae[xe]):(ae[ge]=pe===ue.length-1?ne:{},ae=ae[ge])}return he};var N=/^([^\[\.]+)\.(.+)?/,B=/^([^\.]+)\[([0-9]+)\](\.)?(.+)?/;s.expandObjectPaths=function(K){var ne,ae,ue,he,pe,ge,xe;if("object"==typeof K&&!Array.isArray(K))for(ae in K)K.hasOwnProperty(ae)&&((ne=ae.match(N))?(he=K[ae],ue=ne[1],delete K[ae],K[ue]=s.extendDeepNoArrays(K[ue]||{},s.objectFromPath(ae,s.expandObjectPaths(he))[ue])):(ne=ae.match(B))?(he=K[ae],ue=ne[1],pe=parseInt(ne[2]),delete K[ae],K[ue]=K[ue]||[],"."===ne[3]?(xe=ne[4],ge=K[ue][pe]=K[ue][pe]||{},s.extendDeepNoArrays(ge,s.objectFromPath(xe,s.expandObjectPaths(he)))):K[ue][pe]=s.expandObjectPaths(he)):K[ae]=s.expandObjectPaths(K[ae]));return K},s.numSeparate=function(K,ne,ae){if(ae||(ae=!1),"string"!=typeof ne||0===ne.length)throw new Error("Separator string required for formatting!");"number"==typeof K&&(K=String(K));var ue=/(\d+)(\d{3})/,he=ne.charAt(0),pe=ne.charAt(1),ge=K.split("."),xe=ge[0],Se=ge.length>1?he+ge[1]:"";if(pe&&(ge.length>1||xe.length>4||ae))for(;ue.test(xe);)xe=xe.replace(ue,"$1"+pe+"$2");return xe+Se},s.TEMPLATE_STRING_REGEX=/%{([^\s%{}:]*)([:|\|][^}]*)?}/g;var J=/^\w*$/;s.templateString=function(K,ne){var ae={};return K.replace(s.TEMPLATE_STRING_REGEX,function(ue,he){var pe;return J.test(he)?pe=ne[he]:(ae[he]=ae[he]||s.nestedProperty(ne,he).get,pe=ae[he]()),s.isValidTextValue(pe)?pe:""})};var z={max:10,count:0,name:"hovertemplate"};s.hovertemplateString=function(){return X.apply(z,arguments)};var Y={max:10,count:0,name:"texttemplate"};s.texttemplateString=function(){return X.apply(Y,arguments)};var q=/^(\S+)([\*\/])(-?\d+(\.\d+)?)$/,U={max:10,count:0,name:"texttemplate",parseMultDiv:!0};s.texttemplateStringForShapes=function(){return X.apply(U,arguments)};var Z=/^[:|\|]/;function X(K,ne,ae){var ue=this,he=arguments;ne||(ne={});var pe={};return K.replace(s.TEMPLATE_STRING_REGEX,function(ge,xe,Se){var Te="_xother"===xe||"_yother"===xe,ye="_xother_"===xe||"_yother_"===xe,we="xother_"===xe||"yother_"===xe,ze="xother"===xe||"yother"===xe||Te||we||ye,ke=xe;(Te||ye)&&(ke=ke.substring(1)),(we||ye)&&(ke=ke.substring(0,ke.length-1));var Ee,me,de,_e,Pe,ce=null,Ae=null;if(ue.parseMultDiv){var Ne=(Pe=(_e=ke).match(q))?{key:Pe[1],op:Pe[2],number:Number(Pe[3])}:{key:_e,op:null,number:null};ke=Ne.key,ce=Ne.op,Ae=Ne.number}if(ze){if(void 0===(Ee=ne[ke]))return""}else for(de=3;de<he.length;de++)if(me=he[de]){if(me.hasOwnProperty(ke)){Ee=me[ke];break}if(J.test(ke)||(Ee=s.nestedProperty(me,ke).get(),(Ee=pe[ke]||s.nestedProperty(me,ke).get())&&(pe[ke]=Ee)),void 0!==Ee)break}if(void 0!==Ee&&("*"===ce&&(Ee*=Ae),"/"===ce&&(Ee/=Ae)),void 0===Ee&&ue)return ue.count<ue.max&&(s.warn("Variable '"+ke+"' in "+ue.name+" could not be found!"),Ee=ge),ue.count===ue.max&&s.warn("Too many "+ue.name+" warnings - additional warnings will be suppressed"),ue.count++,ge;if(Se){var De;if(":"===Se[0]&&(Ee=(De=ae?ae.numberFormat:s.numberFormat)(Se.replace(Z,""))(Ee)),"|"===Se[0]){De=ae?ae.timeFormat:E;var Ue=s.dateTime2ms(Ee);Ee=s.formatDate(Ue,Se.replace(Z,""),!1,De)}}else{var Ye=ke+"Label";ne.hasOwnProperty(Ye)&&(Ee=ne[Ye])}return ze&&(Ee="("+Ee+")",(Te||ye)&&(Ee=" "+Ee),(we||ye)&&(Ee+=" ")),Ee})}s.subplotSort=function(K,ne){for(var ae=Math.min(K.length,ne.length)+1,ue=0,he=0,pe=0;pe<ae;pe++){var ge=K.charCodeAt(pe)||0,xe=ne.charCodeAt(pe)||0,Se=ge>=48&&ge<=57,Te=xe>=48&&xe<=57;if(Se&&(ue=10*ue+ge-48),Te&&(he=10*he+xe-48),!Se||!Te){if(ue!==he)return ue-he;if(ge!==xe)return ge-xe}}return he-ue};var se=2e9;s.seedPseudoRandom=function(){se=2e9},s.pseudoRandom=function(){var K=se;return se=(69069*se+1)%4294967296,Math.abs(se-K)<429496729?s.pseudoRandom():se/4294967296},s.fillText=function(K,ne,ae){var ue=Array.isArray(ae)?function(ge){ae.push(ge)}:function(ge){ae.text=ge},he=s.extractOption(K,ne,"htx","hovertext");if(s.isValidTextValue(he))return ue(he);var pe=s.extractOption(K,ne,"tx","text");return s.isValidTextValue(pe)?ue(pe):void 0},s.isValidTextValue=function(K){return K||0===K},s.formatPercent=function(K,ne){ne=ne||0;for(var ae=(Math.round(100*K*Math.pow(10,ne))*Math.pow(.1,ne)).toFixed(ne)+"%",ue=0;ue<ne;ue++)-1!==ae.indexOf(".")&&(ae=(ae=ae.replace("0%","%")).replace(".%","%"));return ae},s.isHidden=function(K){var ne=window.getComputedStyle(K).display;return!ne||"none"===ne},s.strTranslate=function(K,ne){return K||ne?"translate("+K+","+ne+")":""},s.strRotate=function(K){return K?"rotate("+K+")":""},s.strScale=function(K){return 1!==K?"scale("+K+")":""},s.getTextTransform=function(K){var ne=K.noCenter,ae=K.textX,ue=K.textY,Se=K.rotate,Te=K.scale;return Te?Te>1&&(Te=1):Te=0,s.strTranslate(K.targetX-Te*(ae+(K.anchorX||0)),K.targetY-Te*(ue+(K.anchorY||0)))+s.strScale(Te)+(Se?"rotate("+Se+(ne?"":" "+ae+" "+ue)+")":"")},s.setTransormAndDisplay=function(K,ne){K.attr("transform",s.getTextTransform(ne)),K.style("display",ne.scale?null:"none")},s.ensureUniformFontSize=function(K,ne){var ae=s.extendFlat({},ne);return ae.size=Math.max(ne.size,K._fullLayout.uniformtext.minsize||0),ae},s.join2=function(K,ne,ae){var ue=K.length;return ue>1?K.slice(0,-1).join(ne)+ae+K[ue-1]:K.join(ne)},s.bigFont=function(K){return Math.round(1.2*K)};var re=s.getFirefoxVersion(),ee=null!==re&&re<86;s.getPositionFromD3Event=function(){return ee?[I.event.layerX,I.event.layerY]:[I.event.offsetX,I.event.offsetY]}},41965:function(oe){"use strict";oe.exports=function(j){return window&&window.process&&window.process.versions?"[object Object]"===Object.prototype.toString.call(j):"[object Object]"===Object.prototype.toString.call(j)&&Object.getPrototypeOf(j).hasOwnProperty("hasOwnProperty")}},66636:function(oe,j,r){"use strict";var I=r(65487),E=/^\w*$/;oe.exports=function(f,S,M,y){var u,i,s;M=M||"name",y=y||"value";var a={};S&&S.length?(s=I(f,S),i=s.get()):i=f,S=S||"";var o={};if(i)for(u=0;u<i.length;u++)o[i[u][M]]=u;var l=E.test(y),c={set:function(h,v){var p=null===v?4:0;if(!i){if(!s||4===p)return;s.set(i=[])}var T=o[h];if(void 0===T){if(4===p)return;p|=3,o[h]=T=i.length}else v!==(l?i[T][y]:I(i[T],y).get())&&(p|=2);var _=i[T]=i[T]||{};return _[M]=h,l?_[y]=v:I(_,y).set(v),null!==v&&(p&=-5),a[T]=a[T]|p,c},get:function(h){if(i){var v=o[h];return void 0===v?void 0:l?i[v][y]:I(i[v],y).get()}},rename:function(h,v){var p=o[h];return void 0===p||(a[p]=1|a[p],o[v]=p,delete o[h],i[p][M]=v),c},remove:function(h){var v=o[h];if(void 0===v)return c;var p=i[v];if(Object.keys(p).length>2)return a[v]=2|a[v],c.set(h,null);if(l){for(u=v;u<i.length;u++)a[u]=3|a[u];for(u=v;u<i.length;u++)o[i[u][M]]--;i.splice(v,1),delete o[h]}else I(p,y).set(null),a[v]=6|a[v];return c},constructUpdate:function(){for(var h,v,p={},T=Object.keys(a),_=0;_<T.length;_++)h=S+"["+(v=T[_])+"]",i[v]?(1&a[v]&&(p[h+"."+M]=i[v][M]),2&a[v]&&(p[h+"."+y]=l?4&a[v]?null:i[v][y]:4&a[v]?null:I(i[v],y).get())):p[h]=null;return p}};return c}},15867:function(oe,j,r){"use strict";var I=r(73972);oe.exports=function(E,f){for(var S=E._context.locale,M=0;M<2;M++){for(var y=E._context.locales,u=0;u<2;u++){var i=(y[S]||{}).dictionary;if(i){var s=i[f];if(s)return s}y=I.localeRegistry}var a=S.split("-")[0];if(a===S)break;S=a}return f}},47769:function(oe,j,r){"use strict";var I=r(72075).dfltConfig,E=r(75046),f=oe.exports={};f.log=function(){var S;if(I.logging>1){var M=["LOG:"];for(S=0;S<arguments.length;S++)M.push(arguments[S]);console.trace.apply(console,M)}if(I.notifyOnLogging>1){var y=[];for(S=0;S<arguments.length;S++)y.push(arguments[S]);E(y.join("<br>"),"long")}},f.warn=function(){var S;if(I.logging>0){var M=["WARN:"];for(S=0;S<arguments.length;S++)M.push(arguments[S]);console.trace.apply(console,M)}if(I.notifyOnLogging>0){var y=[];for(S=0;S<arguments.length;S++)y.push(arguments[S]);E(y.join("<br>"),"stick")}},f.error=function(){var S;if(I.logging>0){var M=["ERROR:"];for(S=0;S<arguments.length;S++)M.push(arguments[S]);console.error.apply(console,M)}if(I.notifyOnLogging>0){var y=[];for(S=0;S<arguments.length;S++)y.push(arguments[S]);E(y.join("<br>"),"stick")}}},77310:function(oe,j,r){"use strict";var I=r(39898);oe.exports=function(E,f,S){var M=E.selectAll("g."+S.replace(/\s/g,".")).data(f,function(u){return u[0].trace.uid});M.exit().remove(),M.enter().append("g").attr("class",S),M.order();var y=E.classed("rangeplot")?"nodeRangePlot3":"node3";return M.each(function(u){u[0][y]=I.select(this)}),M}},35657:function(oe,j,r){"use strict";var I=r(79576);j.init2dArray=function(E,f){for(var S=new Array(E),M=0;M<E;M++)S[M]=new Array(f);return S},j.transposeRagged=function(E){var f,S,M=0,y=E.length;for(f=0;f<y;f++)M=Math.max(M,E[f].length);var u=new Array(M);for(f=0;f<M;f++)for(u[f]=new Array(y),S=0;S<y;S++)u[f][S]=E[S][f];return u},j.dot=function(E,f){if(!E.length||!f.length||E.length!==f.length)return null;var S,M,y=E.length;if(E[0].length)for(S=new Array(y),M=0;M<y;M++)S[M]=j.dot(E[M],f);else if(f[0].length){var u=j.transposeRagged(f);for(S=new Array(u.length),M=0;M<u.length;M++)S[M]=j.dot(E,u[M])}else for(S=0,M=0;M<y;M++)S+=E[M]*f[M];return S},j.translationMatrix=function(E,f){return[[1,0,E],[0,1,f],[0,0,1]]},j.rotationMatrix=function(E){var f=E*Math.PI/180;return[[Math.cos(f),-Math.sin(f),0],[Math.sin(f),Math.cos(f),0],[0,0,1]]},j.rotationXYMatrix=function(E,f,S){return j.dot(j.dot(j.translationMatrix(f,S),j.rotationMatrix(E)),j.translationMatrix(-f,-S))},j.apply3DTransform=function(E){return function(){var f=arguments,S=1===arguments.length?f[0]:[f[0],f[1],f[2]||0];return j.dot(E,[S[0],S[1],S[2],1]).slice(0,3)}},j.apply2DTransform=function(E){return function(){var f=arguments;3===f.length&&(f=f[0]);var S=1===arguments.length?f[0]:[f[0],f[1]];return j.dot(E,[S[0],S[1],1]).slice(0,2)}},j.apply2DTransform2=function(E){var f=j.apply2DTransform(E);return function(S){return f(S.slice(0,2)).concat(f(S.slice(2,4)))}},j.convertCssMatrix=function(E){if(E){var f=E.length;if(16===f)return E;if(6===f)return[E[0],E[1],0,0,E[2],E[3],0,0,0,0,1,0,E[4],E[5],0,1]}return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},j.inverseTransformMatrix=function(E){var f=[];return I.invert(f,E),[[f[0],f[1],f[2],f[3]],[f[4],f[5],f[6],f[7]],[f[8],f[9],f[10],f[11]],[f[12],f[13],f[14],f[15]]]}},64872:function(oe){"use strict";oe.exports={mod:function(j,r){var I=j%r;return I<0?I+r:I},modHalf:function(j,r){return Math.abs(j)>r/2?j-Math.round(j/r)*r:j}}},65487:function(oe,j,r){"use strict";var I=r(92770),E=r(73627).isArrayOrTypedArray;function f(a,o){return function(){var l,c,h,v,p,T=a;for(v=0;v<o.length-1;v++){if(-1===(l=o[v])){for(c=!0,h=[],p=0;p<T.length;p++)h[p]=f(T[p],o.slice(v+1))(),h[p]!==h[0]&&(c=!1);return c?h[0]:h}if("number"==typeof l&&!E(T)||"object"!=typeof(T=T[l])||null===T)return}if("object"==typeof T&&null!==T&&null!==(h=T[o[v]]))return h}}oe.exports=function(a,o){if(I(o))o=String(o);else if("string"!=typeof o||"[-1]"===o.substr(o.length-4))throw"bad property string";for(var l,c,h,v=0,p=o.split(".");v<p.length;){if(l=String(p[v]).match(/^([^\[\]]*)((\[\-?[0-9]*\])+)$/)){if(l[1])p[v]=l[1];else{if(0!==v)throw"bad property string";p.splice(0,1)}for(c=l[2].substr(1,l[2].length-2).split("]["),h=0;h<c.length;h++)v++,p.splice(v,0,Number(c[h]))}v++}return"object"!=typeof a?{set:function(){throw"bad container"},get:function(){},astr:o,parts:p,obj:a}:{set:y(a,p,o),get:f(a,p),astr:o,parts:p,obj:a}};var S=/(^|\.)args\[/;function M(a,o){return void 0===a||null===a&&!o.match(S)}function y(a,o,l){return function(c){var h,v,p=a,T="",_=[[a,T]],g=M(c,l);for(v=0;v<o.length-1;v++){if("number"==typeof(h=o[v])&&!E(p))throw"array index but container is not an array";if(-1===h){if(g=!i(p,o.slice(v+1),c,l))break;return}if(!s(p,h,o[v+1],g))break;if("object"!=typeof(p=p[h])||null===p)throw"container is not an object";T=u(T,h),_.push([p,T])}if(g){if(v===o.length-1&&(delete p[o[v]],Array.isArray(p)&&+o[v]==p.length-1))for(;p.length&&void 0===p[p.length-1];)p.pop()}else p[o[v]]=c}}function u(a,o){var l=o;return I(o)?l="["+o+"]":a&&(l="."+o),a+l}function i(a,o,l,c){var h,v=E(l),p=!0,T=l,_=c.replace("-1",0),g=!v&&M(l,_),w=o[0];for(h=0;h<a.length;h++)_=c.replace("-1",h),v&&(g=M(T=l[h%l.length],_)),g&&(p=!1),s(a,h,w,g)&&y(a[h],o,c.replace("-1",h))(T);return p}function s(a,o,l,c){if(void 0===a[o]){if(c)return!1;a[o]="number"==typeof l?[]:{}}return!0}},64213:function(oe){"use strict";oe.exports=function(){}},75046:function(oe,j,r){"use strict";var I=r(39898),E=r(92770),f=[];oe.exports=function(S,M){if(-1===f.indexOf(S)){f.push(S);var y=1e3;E(M)?y=M:"long"===M&&(y=3e3);var u=I.select("body").selectAll(".plotly-notifier").data([0]);u.enter().append("div").classed("plotly-notifier",!0),u.selectAll(".notifier-note").data(f).enter().append("div").classed("notifier-note",!0).style("opacity",0).each(function(s){var a=I.select(this);a.append("button").classed("notifier-close",!0).html("&times;").on("click",function(){a.transition().call(i)});for(var o=a.append("p"),l=s.split(/<br\s*\/?>/g),c=0;c<l.length;c++)c&&o.append("br"),o.append("span").text(l[c]);"stick"===M?a.transition().duration(350).style("opacity",1):a.transition().duration(700).style("opacity",1).transition().delay(y).call(i)})}function i(s){s.duration(700).style("opacity",0).each("end",function(a){var o=f.indexOf(a);-1!==o&&f.splice(o,1),I.select(this).remove()})}}},39918:function(oe,j,r){"use strict";var I=r(6964),E="data-savedcursor";oe.exports=function(f,S){var M=f.attr(E);if(S){if(!M){for(var y=(f.attr("class")||"").split(" "),u=0;u<y.length;u++){var i=y[u];0===i.indexOf("cursor-")&&f.attr(E,i.substr(7)).classed(i,!1)}f.attr(E)||f.attr(E,"!!")}I(f,S)}else M&&(f.attr(E,null),"!!"===M?I(f):I(f,M))}},61082:function(oe,j,r){"use strict";var I=r(35657).dot,E=r(50606).BADNUM,f=oe.exports={};f.tester=function(S){var M,y=S.slice(),u=y[0][0],i=u,s=y[0][1],a=s;for(y[y.length-1][0]===y[0][0]&&y[y.length-1][1]===y[0][1]||y.push(y[0]),M=1;M<y.length;M++)u=Math.min(u,y[M][0]),i=Math.max(i,y[M][0]),s=Math.min(s,y[M][1]),a=Math.max(a,y[M][1]);var o,l=!1;5===y.length&&(y[0][0]===y[1][0]?y[2][0]===y[3][0]&&y[0][1]===y[3][1]&&y[1][1]===y[2][1]&&(l=!0,o=function(v){return v[0]===y[0][0]}):y[0][1]===y[1][1]&&y[2][1]===y[3][1]&&y[0][0]===y[3][0]&&y[1][0]===y[2][0]&&(l=!0,o=function(v){return v[1]===y[0][1]}));var c=!0,h=y[0];for(M=1;M<y.length;M++)if(h[0]!==y[M][0]||h[1]!==y[M][1]){c=!1;break}return{xmin:u,xmax:i,ymin:s,ymax:a,pts:y,contains:l?function(v,p){var T=v[0],_=v[1];return!(T===E||T<u||T>i||_===E||_<s||_>a||p&&o(v))}:function(v,p){var T=v[0],_=v[1];if(T===E||T<u||T>i||_===E||_<s||_>a)return!1;var g,w,x,b,A,m=y.length,C=y[0][0],k=y[0][1],P=0;for(g=1;g<m;g++)if(w=C,x=k,C=y[g][0],k=y[g][1],!(T<(b=Math.min(w,C))||T>Math.max(w,C)||_>Math.max(x,k)))if(_<Math.min(x,k))T!==b&&P++;else{if(_===(A=C===w?_:x+(T-w)*(k-x)/(C-w)))return 1!==g||!p;_<=A&&T!==b&&P++}return P%2==1},isRect:l,degenerate:c}},f.isSegmentBent=function(S,M,y,u){var i,s,a,o=S[M],l=[S[y][0]-o[0],S[y][1]-o[1]],c=I(l,l),h=Math.sqrt(c),v=[-l[1]/h,l[0]/h];for(i=M+1;i<y;i++)if((a=I(s=[S[i][0]-o[0],S[i][1]-o[1]],l))<0||a>c||Math.abs(I(s,v))>u)return!0;return!1},f.filter=function(S,M){var y=[S[0]],u=0,i=0;function s(a){S.push(a);var o=y.length,l=u;y.splice(i+1);for(var c=l+1;c<S.length;c++)(c===S.length-1||f.isSegmentBent(S,l,c+1,M))&&(y.push(S[c]),y.length<o-2&&(u=c,i=y.length-1),l=c)}return S.length>1&&s(S.pop()),{addPt:s,raw:S,filtered:y}}},79749:function(oe,j,r){"use strict";var I=r(58617),E=r(98580);oe.exports=function(f,S,M){var y=f._fullLayout,u=!0;return y._glcanvas.each(function(i){if(i.regl)i.regl.preloadCachedCode(M);else if(!i.pick||y._has("parcoords")){try{i.regl=E({canvas:this,attributes:{antialias:!i.pick,preserveDrawingBuffer:!0},pixelRatio:f._context.plotGlPixelRatio||r.g.devicePixelRatio,extensions:S||[],cachedCode:M||{}})}catch{u=!1}i.regl||(u=!1),u&&this.addEventListener("webglcontextlost",function(s){f&&f.emit&&f.emit("plotly_webglcontextlost",{event:s,layer:i.key})},!1)}}),u||I({container:y._glcontainer.node()}),u}},45142:function(oe,j,r){"use strict";var I=r(92770),E=r(35791);oe.exports=function(f){var S,o;if("string"!=typeof(S=f&&f.hasOwnProperty("userAgent")?f.userAgent:(typeof navigator<"u"&&(o=navigator.userAgent),o&&o.headers&&"string"==typeof o.headers["user-agent"]&&(o=o.headers["user-agent"]),o)))return!0;var M=E({ua:{headers:{"user-agent":S}},tablet:!0,featureDetect:!1});if(!M)for(var y=S.split(" "),u=1;u<y.length;u++)if(-1!==y[u].indexOf("Safari"))for(var i=u-1;i>-1;i--){var s=y[i];if("Version/"===s.substr(0,8)){var a=s.substr(8).split(".")[0];if(I(a)&&(a=+a),a>=13)return!0}}return M}},75138:function(oe){"use strict";oe.exports=function(j,r){if(r instanceof RegExp){for(var I=r.toString(),E=0;E<j.length;E++)if(j[E]instanceof RegExp&&j[E].toString()===I)return j;j.push(r)}else!r&&0!==r||-1!==j.indexOf(r)||j.push(r);return j}},10847:function(oe,j,r){"use strict";var I=r(71828),E=r(72075).dfltConfig,f={add:function(S,M,y,u,i){var s,a;S.undoQueue=S.undoQueue||{index:0,queue:[],sequence:!1},a=S.undoQueue.index,S.autoplay?S.undoQueue.inSequence||(S.autoplay=!1):(!S.undoQueue.sequence||S.undoQueue.beginSequence?(S.undoQueue.queue.splice(a,S.undoQueue.queue.length-a,s={undo:{calls:[],args:[]},redo:{calls:[],args:[]}}),S.undoQueue.index+=1):s=S.undoQueue.queue[a-1],S.undoQueue.beginSequence=!1,s&&(s.undo.calls.unshift(M),s.undo.args.unshift(y),s.redo.calls.push(u),s.redo.args.push(i)),S.undoQueue.queue.length>E.queueLength&&(S.undoQueue.queue.shift(),S.undoQueue.index--))},startSequence:function(S){S.undoQueue=S.undoQueue||{index:0,queue:[],sequence:!1},S.undoQueue.sequence=!0,S.undoQueue.beginSequence=!0},stopSequence:function(S){S.undoQueue=S.undoQueue||{index:0,queue:[],sequence:!1},S.undoQueue.sequence=!1,S.undoQueue.beginSequence=!1},undo:function(S){var M,y;if(!(void 0===S.undoQueue||isNaN(S.undoQueue.index)||S.undoQueue.index<=0)){for(S.undoQueue.index--,M=S.undoQueue.queue[S.undoQueue.index],S.undoQueue.inSequence=!0,y=0;y<M.undo.calls.length;y++)f.plotDo(S,M.undo.calls[y],M.undo.args[y]);S.undoQueue.inSequence=!1,S.autoplay=!1}},redo:function(S){var M,y;if(!(void 0===S.undoQueue||isNaN(S.undoQueue.index)||S.undoQueue.index>=S.undoQueue.queue.length)){for(M=S.undoQueue.queue[S.undoQueue.index],S.undoQueue.inSequence=!0,y=0;y<M.redo.calls.length;y++)f.plotDo(S,M.redo.calls[y],M.redo.args[y]);S.undoQueue.inSequence=!1,S.autoplay=!1,S.undoQueue.index++}},plotDo:function(S,M,y){S.autoplay=!0,y=function(u,i){for(var s,a=[],o=0;o<i.length;o++)a[o]=(s=i[o])===u?s:"object"==typeof s?Array.isArray(s)?I.extendDeep([],s):I.extendDeepAll({},s):s;return a}(S,y),M.apply(null,y)}};oe.exports=f},30587:function(oe,j){"use strict";j.counter=function(r,I,E,f){var S=(I||"")+(E?"":"$"),M=!1===f?"":"^";return"xy"===r?new RegExp(M+"x([2-9]|[1-9][0-9]+)?y([2-9]|[1-9][0-9]+)?"+S):new RegExp(M+r+"([2-9]|[1-9][0-9]+)?"+S)}},6962:function(oe){"use strict";var j=/^(.*)(\.[^\.\[\]]+|\[\d\])$/,r=/^[^\.\[\]]+$/;oe.exports=function(I,E){for(;E;){var f=I.match(j);if(f)I=f[1];else{if(!I.match(r))throw new Error("bad relativeAttr call:"+[I,E]);I=""}if("^"!==E.charAt(0))break;E=E.slice(1)}return I&&"["!==E.charAt(0)?I+"."+E:I+E}},51332:function(oe,j,r){"use strict";var I=r(73627).isArrayOrTypedArray,E=r(41965);oe.exports=function f(S,M){for(var y in M){var u=M[y],i=S[y];if(i!==u)if("_"===y.charAt(0)||"function"==typeof u){if(y in S)continue;S[y]=u}else if(I(u)&&I(i)&&E(u[0])){if("customdata"===y||"ids"===y)continue;for(var s=Math.min(u.length,i.length),a=0;a<s;a++)i[a]!==u[a]&&E(u[a])&&E(i[a])&&f(i[a],u[a])}else E(u)&&E(i)&&(f(i,u),Object.keys(i).length||delete S[y])}}},65888:function(oe,j,r){"use strict";var I=r(92770),E=r(47769),f=r(23389),S=r(50606).BADNUM,M=1e-9;function y(a,o){return a<o}function u(a,o){return a<=o}function i(a,o){return a>o}function s(a,o){return a>=o}j.findBin=function(a,o,l){if(I(o.start))return l?Math.ceil((a-o.start)/o.size-M)-1:Math.floor((a-o.start)/o.size+M);var c,h,v=0,p=o.length,T=0,_=p>1?(o[p-1]-o[0])/(p-1):1;for(h=_>=0?l?y:u:l?s:i,a+=_*M*(l?-1:1)*(_>=0?1:-1);v<p&&T++<100;)h(o[c=Math.floor((v+p)/2)],a)?v=c+1:p=c;return T>90&&E.log("Long binary search..."),v-1},j.sorterAsc=function(a,o){return a-o},j.sorterDes=function(a,o){return o-a},j.distinctVals=function(a){var o,l=a.slice();for(l.sort(j.sorterAsc),o=l.length-1;o>-1&&l[o]===S;o--);for(var c,h=l[o]-l[0]||1,v=h/(o||1)/1e4,p=[],T=0;T<=o;T++){var _=l[T],g=_-c;void 0===c?(p.push(_),c=_):g>v&&(h=Math.min(h,g),p.push(_),c=_)}return{vals:p,minDiff:h}},j.roundUp=function(a,o,l){for(var c,h=0,v=o.length-1,p=0,T=l?0:1,_=l?1:0,g=l?Math.ceil:Math.floor;h<v&&p++<100;)o[c=g((h+v)/2)]<=a?h=c+T:v=c-_;return o[h]},j.sort=function(a,o){for(var l=0,c=0,h=1;h<a.length;h++){var v=o(a[h],a[h-1]);if(v<0?l=1:v>0&&(c=1),l&&c)return a.sort(o)}return c?a:a.reverse()},j.findIndexOfMin=function(a,o){o=o||f;for(var l,c=1/0,h=0;h<a.length;h++){var v=o(a[h]);v<c&&(c=v,l=h)}return l}},6964:function(oe){"use strict";oe.exports=function(j,r){(j.attr("class")||"").split(" ").forEach(function(I){0===I.indexOf("cursor-")&&j.classed(I,!1)}),r&&j.classed("cursor-"+r,!0)}},58617:function(oe,j,r){"use strict";var I=r(7901),E=function(){};oe.exports=function(f){for(var S in f)"function"==typeof f[S]&&(f[S]=E);f.destroy=function(){f.container.parentNode.removeChild(f.container)};var M=document.createElement("div");M.className="no-webgl",M.style.cursor="pointer",M.style.fontSize="24px",M.style.color=I.defaults[0],M.style.position="absolute",M.style.left=M.style.top="0px",M.style.width=M.style.height="100%",M.style["background-color"]=I.lightLine,M.style["z-index"]=30;var y=document.createElement("p");return y.textContent="WebGL is not supported by your browser - visit https://get.webgl.org for more info",y.style.position="relative",y.style.top="50%",y.style.left="50%",y.style.height="30%",y.style.width="50%",y.style.margin="-15% 0 0 -25%",M.appendChild(y),f.container.appendChild(M),f.container.style.background="#FFFFFF",f.container.onclick=function(){window.open("https://get.webgl.org")},!1}},78607:function(oe){"use strict";oe.exports=function(j){return Object.keys(j).sort()}},80038:function(oe,j,r){"use strict";var I=r(92770),E=r(73627).isArrayOrTypedArray;j.aggNums=function(f,S,M,y){var u,i;if((!y||y>M.length)&&(y=M.length),I(S)||(S=!1),E(M[0])){for(i=new Array(y),u=0;u<y;u++)i[u]=j.aggNums(f,S,M[u]);M=i}for(u=0;u<y;u++)I(S)?I(M[u])&&(S=f(+S,+M[u])):S=M[u];return S},j.len=function(f){return j.aggNums(function(S){return S+1},0,f)},j.mean=function(f,S){return S||(S=j.len(f)),j.aggNums(function(M,y){return M+y},0,f)/S},j.midRange=function(f){if(void 0!==f&&0!==f.length)return(j.aggNums(Math.max,null,f)+j.aggNums(Math.min,null,f))/2},j.variance=function(f,S,M){return S||(S=j.len(f)),I(M)||(M=j.mean(f,S)),j.aggNums(function(y,u){return y+Math.pow(u-M,2)},0,f)/S},j.stdev=function(f,S,M){return Math.sqrt(j.variance(f,S,M))},j.median=function(f){var S=f.slice().sort();return j.interp(S,.5)},j.interp=function(f,S){if(!I(S))throw"n should be a finite number";if((S=S*f.length-.5)<0)return f[0];if(S>f.length-1)return f[f.length-1];var M=S%1;return M*f[Math.ceil(S)]+(1-M)*f[Math.floor(S)]}},78614:function(oe,j,r){"use strict";var I=r(25075);oe.exports=function(E){return E?I(E):[0,0,0,1]}},3883:function(oe,j,r){"use strict";var I=r(32396),E=r(91424),f=r(71828),S=null;oe.exports=function(){if(null!==S)return S;S=!1;var M=f.isIE()||f.isSafari()||f.isIOS();if(window.navigator.userAgent&&!M){var y=Array.from(I.CSS_DECLARATIONS).reverse(),u=window.CSS&&window.CSS.supports||window.supportsCSS;if("function"==typeof u)S=y.some(function(a){return u.apply(null,a)});else{var i=E.tester.append("image").attr("style",I.STYLE),s=window.getComputedStyle(i.node()).imageRendering;S=y.some(function(a){var o=a[1];return s===o||s===o.toLowerCase()}),i.remove()}}return S}},63893:function(oe,j,r){"use strict";var I=r(39898),E=r(71828),f=E.strTranslate,S=r(77922),M=r(18783).LINE_SPACING,y=/([^$]*)([$]+[^$]*[$]+)([^$]*)/;j.convertToTspans=function(B,J,z){var Y=B.text(),q=!B.attr("data-notex")&&J&&J._context.typesetMath&&typeof MathJax<"u"&&Y.match(y),U=I.select(B.node().parentNode);if(!U.empty()){var Z=B.attr("class")?B.attr("class").split(" ")[0]:"text";return U.selectAll("svg."+(Z+="-math")).remove(),U.selectAll("g."+Z+"-group").remove(),B.style("display",null).attr({"data-unformatted":Y,"data-math":"N"}),q?(J&&J._promises||[]).push(new Promise(function(se){B.style("display","none");var re=parseInt(B.node().style.fontSize,10);!function(K,ne,ae){var ue,he,pe,ge,xe=parseInt((MathJax.version||"").split(".")[0]);if(2===xe||3===xe){var Se=function(){var ye="math-output-"+E.randstr({},64),we=(ge=I.select("body").append("div").attr({id:ye}).style({visibility:"hidden",position:"absolute","font-size":ne.fontSize+"px"}).text(K.replace(u,"\\lt ").replace(i,"\\gt "))).node();return 2===xe?MathJax.Hub.Typeset(we):MathJax.typeset([we])},Te=function(){var ye=ge.select(2===xe?".MathJax_SVG":".MathJax"),we=!ye.empty()&&ge.select("svg").node();if(we){var ze,ke=we.getBoundingClientRect();ze=2===xe?I.select("body").select("#MathJax_SVG_glyphs"):ye.select("defs"),ae(ye,ze,ke)}else E.log("There was an error in the tex syntax.",K),ae();ge.remove()};2===xe?MathJax.Hub.Queue(function(){return he=E.extendDeepAll({},MathJax.Hub.config),pe=MathJax.Hub.processSectionDelay,void 0!==MathJax.Hub.processSectionDelay&&(MathJax.Hub.processSectionDelay=0),MathJax.Hub.Config({messageStyle:"none",tex2jax:{inlineMath:s},displayAlign:"left"})},function(){if("SVG"!==(ue=MathJax.Hub.config.menuSettings.renderer))return MathJax.Hub.setRenderer("SVG")},Se,Te,function(){if("SVG"!==ue)return MathJax.Hub.setRenderer(ue)},function(){return void 0!==pe&&(MathJax.Hub.processSectionDelay=pe),MathJax.Hub.Config(he)}):3===xe&&(he=E.extendDeepAll({},MathJax.config),MathJax.config.tex||(MathJax.config.tex={}),MathJax.config.tex.inlineMath=s,"svg"!==(ue=MathJax.config.startup.output)&&(MathJax.config.startup.output="svg"),MathJax.startup.defaultReady(),MathJax.startup.promise.then(function(){Se(),Te(),"svg"!==ue&&(MathJax.config.startup.output=ue),MathJax.config=he}))}else E.warn("No MathJax version:",MathJax.version)}(q[2],{fontSize:re},function(K,ne,ae){U.selectAll("svg."+Z).remove(),U.selectAll("g."+Z+"-group").remove();var ue=K&&K.select("svg");if(!ue||!ue.node())return X(),void se();var he=U.append("g").classed(Z+"-group",!0).attr({"pointer-events":"none","data-unformatted":Y,"data-math":"Y"});he.node().appendChild(ue.node()),ne&&ne.node()&&ue.node().insertBefore(ne.node().cloneNode(!0),ue.node().firstChild);var pe=ae.width,ge=ae.height;ue.attr({class:Z,height:ge,preserveAspectRatio:"xMinYMin meet"}).style({overflow:"visible","pointer-events":"none"});var xe=B.node().style.fill||"black",Se=ue.select("g");Se.attr({fill:xe,stroke:xe});var Te=Se.node().getBoundingClientRect(),ye=Te.width,we=Te.height;(ye>pe||we>ge)&&(ue.style("overflow","hidden"),ye=(Te=ue.node().getBoundingClientRect()).width,we=Te.height);var ze=+B.attr("x"),ke=+B.attr("y"),Ee=-(re||B.node().getBoundingClientRect().height)/4;if("y"===Z[0])he.attr({transform:"rotate("+[-90,ze,ke]+")"+f(-ye/2,Ee-we/2)});else if("l"===Z[0])ke=Ee-we/2;else if("a"===Z[0]&&0!==Z.indexOf("atitle"))ze=0,ke=Ee;else{var me=B.attr("text-anchor");ze-=ye*("middle"===me?.5:"end"===me?1:0),ke=ke+Ee-we/2}ue.attr({x:ze,y:ke}),z&&z.call(B,he),se(he)})})):X(),B}function X(){U.empty()||(Z=B.attr("class")+"-math",U.select("svg."+Z).remove()),B.text("").style("white-space","pre"),function(re,ee){ee=ee.replace(v," ");var K,ne=!1,ae=[],ue=-1;function he(){ue++;var Ne=document.createElementNS(S.svg,"tspan");I.select(Ne).attr({class:"line",dy:ue*M+"em"}),re.appendChild(Ne),K=Ne;var De=ae;if(ae=[{node:Ne}],De.length>1)for(var Ue=1;Ue<De.length;Ue++)pe(De[Ue])}function pe(Ne){var De,Ue=Ne.type,Ye={};if("a"===Ue){De="a";var _e=Ne.target,Pe=Ne.href,Ie=Ne.popup;Pe&&(Ye={"xlink:xlink:show":"_blank"===_e||"_"!==_e.charAt(0)?"new":"replace",target:_e,"xlink:xlink:href":Pe},Ie&&(Ye.onclick='window.open(this.href.baseVal,this.target.baseVal,"'+Ie+'");return false;'))}else De="tspan";Ne.style&&(Ye.style=Ne.style);var Be=document.createElementNS(S.svg,De);if("sup"===Ue||"sub"===Ue){ge(K,c),K.appendChild(Be);var We=document.createElementNS(S.svg,"tspan");ge(We,c),I.select(We).attr("dy",l[Ue]),Ye.dy=o[Ue],K.appendChild(Be),K.appendChild(We)}else K.appendChild(Be);I.select(Be).attr(Ye),K=Ne.node=Be,ae.push(Ne)}function ge(Ne,De){Ne.appendChild(document.createTextNode(De))}function xe(Ne){if(1!==ae.length){var De=ae.pop();Ne!==De.type&&E.log("Start tag <"+De.type+"> doesnt match end tag <"+Ne+">. Pretending it did match.",ee),K=ae[ae.length-1].node}else E.log("Ignoring unexpected end tag </"+Ne+">.",ee)}_.test(ee)?he():(K=re,ae=[{node:re}]);for(var Se=ee.split(p),Te=0;Te<Se.length;Te++){var ye=Se[Te],we=ye.match(T),ze=we&&we[2].toLowerCase(),ke=a[ze];if("br"===ze)he();else if(void 0===ke)ge(K,P(ye));else if(we[1])xe(ze);else{var Ee=we[4],me={type:ze},de=A(Ee,g);if(de?(de=de.replace(m,"$1 fill:"),ke&&(de+=";"+ke)):ke&&(de=ke),de&&(me.style=de),"a"===ze){ne=!0;var ce=A(Ee,w);if(ce){var Ae=R(ce);Ae&&(me.href=Ae,me.target=A(Ee,x)||"_blank",me.popup=A(Ee,b))}}pe(me)}}return ne}(B.node(),Y)&&B.style("pointer-events","all"),j.positionText(B),z&&z.call(B)}};var u=/(<|&lt;|&#60;)/g,i=/(>|&gt;|&#62;)/g,s=[["$","$"],["\\(","\\)"]],a={sup:"font-size:70%",sub:"font-size:70%",b:"font-weight:bold",i:"font-style:italic",a:"cursor:pointer",span:"",em:"font-style:italic;font-weight:bold"},o={sub:"0.3em",sup:"-0.6em"},l={sub:"-0.21em",sup:"0.42em"},c="\u200b",h=["http:","https:","mailto:","",void 0,":"],v=j.NEWLINES=/(\r\n?|\n)/g,p=/(<[^<>]*>)/,T=/<(\/?)([^ >]*)(\s+(.*))?>/i,_=/<br(\s+.*)?>/i;j.BR_TAG_ALL=/<br(\s+.*)?>/gi;var g=/(^|[\s"'])style\s*=\s*("([^"]*);?"|'([^']*);?')/i,w=/(^|[\s"'])href\s*=\s*("([^"]*)"|'([^']*)')/i,x=/(^|[\s"'])target\s*=\s*("([^"\s]*)"|'([^'\s]*)')/i,b=/(^|[\s"'])popup\s*=\s*("([\w=,]*)"|'([\w=,]*)')/i;function A(B,J){if(!B)return null;var z=B.match(J),Y=z&&(z[3]||z[4]);return Y&&P(Y)}var m=/(^|;)\s*color:/;j.plainText=function(B,J){for(var z=void 0!==(J=J||{}).len&&-1!==J.len?J.len:1/0,Y=void 0!==J.allowedTags?J.allowedTags:["br"],q=B.split(p),U=[],Z="",X=0,se=0;se<q.length;se++){var re=q[se],ee=re.match(T),K=ee&&ee[2].toLowerCase();if(K)-1!==Y.indexOf(K)&&(U.push(re),Z=K);else{var ne=re.length;if(X+ne<z)U.push(re),X+=ne;else if(X<z){var ae=z-X;Z&&("br"!==Z||ae<=3||ne<=3)&&U.pop(),U.push(z>3?re.substr(0,ae-3)+"...":re.substr(0,ae));break}Z=""}}return U.join("")};var C={mu:"\u03bc",amp:"&",lt:"<",gt:">",nbsp:"\xa0",times:"\xd7",plusmn:"\xb1",deg:"\xb0"},k=/&(#\d+|#x[\da-fA-F]+|[a-z]+);/g;function P(B){return B.replace(k,function(J,z){return("#"===z.charAt(0)?function(Y){if(!(Y>1114111)){var q=String.fromCodePoint;if(q)return q(Y);var U=String.fromCharCode;return Y<=65535?U(Y):U(55232+(Y>>10),Y%1024+56320)}}("x"===z.charAt(1)?parseInt(z.substr(2),16):parseInt(z.substr(1),10)):C[z])||J})}function R(B){var J=encodeURI(decodeURI(B)),z=document.createElement("a"),Y=document.createElement("a");z.href=B,Y.href=J;var U=Y.protocol;return-1!==h.indexOf(z.protocol)&&-1!==h.indexOf(U)?J:""}function L(B,J,z){var Y,q,U,Z=z.horizontalAlign,X=z.verticalAlign||"top",se=B.node().getBoundingClientRect(),re=J.node().getBoundingClientRect();return q="bottom"===X?function(){return se.bottom-Y.height}:"middle"===X?function(){return se.top+(se.height-Y.height)/2}:function(){return se.top},U="right"===Z?function(){return se.right-Y.width}:"center"===Z?function(){return se.left+(se.width-Y.width)/2}:function(){return se.left},function(){Y=this.node().getBoundingClientRect();var ee=U()-re.left,K=q()-re.top,ne=z.gd||{};if(z.gd){ne._fullLayout._calcInverseTransform(ne);var ae=E.apply3DTransform(ne._fullLayout._invTransform)(ee,K);ee=ae[0],K=ae[1]}return this.style({top:K+"px",left:ee+"px","z-index":1e3}),this}}j.convertEntities=P,j.sanitizeHTML=function(B){B=B.replace(v," ");for(var J=document.createElement("p"),z=J,Y=[],q=B.split(p),U=0;U<q.length;U++){var Z=q[U],X=Z.match(T),se=X&&X[2].toLowerCase();if(se in a)if(X[1])Y.length&&(z=Y.pop());else{var re=X[4],ee=A(re,g),K=ee?{style:ee}:{};if("a"===se){var ne=A(re,w);if(ne){var ae=R(ne);if(ae){K.href=ae;var ue=A(re,x);ue&&(K.target=ue)}}}var he=document.createElement(se);z.appendChild(he),I.select(he).attr(K),z=he,Y.push(he)}else z.appendChild(document.createTextNode(P(Z)))}return J.innerHTML},j.lineCount=function(B){return B.selectAll("tspan.line").size()||1},j.positionText=function(B,J,z){return B.each(function(){var Y=I.select(this);function q(X,se){return void 0===se?null===(se=Y.attr(X))&&(Y.attr(X,0),se=0):Y.attr(X,se),se}var U=q("x",J),Z=q("y",z);"text"===this.nodeName&&Y.selectAll("tspan.line").attr({x:U,y:Z})})};var N="1px ";j.makeTextShadow=function(B){return N+N+N+B+", -"+N+"-"+N+N+B+", "+N+"-"+N+N+B+", -"+N+N+N+B},j.makeEditable=function(B,J){var z=J.gd,Y=J.delegate,q=I.dispatch("edit","input","cancel"),U=Y||B;if(B.style({"pointer-events":Y?"none":"all"}),1!==B.size())throw new Error("boo");function Z(){var se,re,ee,K,ne;se=I.select(z).select(".svg-container"),re=se.append("div"),ee=B.node().style,K=parseFloat(ee.fontSize||12),void 0===(ne=J.text)&&(ne=B.attr("data-unformatted")),re.classed("plugin-editable editable",!0).style({position:"absolute","font-family":ee.fontFamily||"Arial","font-size":K,color:J.fill||ee.fill||"black",opacity:1,"background-color":J.background||"transparent",outline:"#ffffff33 1px solid",margin:[-K/8+1,0,0,-1].join("px ")+"px",padding:"0","box-sizing":"border-box"}).attr({contenteditable:!0}).text(ne).call(L(B,se,J)).on("blur",function(){z._editing=!1,B.text(this.textContent).style({opacity:1});var he,pe=I.select(this).attr("class");(he=pe?"."+pe.split(" ")[0]+"-math-group":"[class*=-math-group]")&&I.select(B.node().parentNode).select(he).style({opacity:0});var ge=this.textContent;I.select(this).transition().duration(0).remove(),I.select(document).on("mouseup",null),q.edit.call(B,ge)}).on("focus",function(){var he=this;z._editing=!0,I.select(document).on("mouseup",function(){if(I.event.target===he)return!1;document.activeElement===re.node()&&re.node().blur()})}).on("keyup",function(){27===I.event.which?(z._editing=!1,B.style({opacity:1}),I.select(this).style({opacity:0}).on("blur",function(){return!1}).transition().remove(),q.cancel.call(B,this.textContent)):(q.input.call(B,this.textContent),I.select(this).call(L(B,se,J)))}).on("keydown",function(){13===I.event.which&&this.blur()}).call(X),B.style({opacity:0});var ae,ue=U.attr("class");(ae=ue?"."+ue.split(" ")[0]+"-math-group":"[class*=-math-group]")&&I.select(B.node().parentNode).select(ae).style({opacity:0})}function X(se){var re=se.node(),ee=document.createRange();ee.selectNodeContents(re);var K=window.getSelection();K.removeAllRanges(),K.addRange(ee),re.focus()}return J.immediate?Z():U.on("click",Z),I.rebind(B,q,"on")}},79990:function(oe,j){"use strict";var r={};function I(E){E&&null!==E.timer&&(clearTimeout(E.timer),E.timer=null)}j.throttle=function(E,f,S){var M=r[E],y=Date.now();if(!M){for(var u in r)r[u].ts<y-6e4&&delete r[u];M=r[E]={ts:0,timer:null}}function i(){S(),M.ts=Date.now(),M.onDone&&(M.onDone(),M.onDone=null)}I(M),y>M.ts+f?i():M.timer=setTimeout(function(){i(),M.timer=null},f)},j.done=function(E){var f=r[E];return f&&f.timer?new Promise(function(S){var M=f.onDone;f.onDone=function(){M&&M(),S(),f.onDone=null}}):Promise.resolve()},j.clear=function(E){if(E)I(r[E]),delete r[E];else for(var f in r)j.clear(f)}},58163:function(oe,j,r){"use strict";var I=r(92770);oe.exports=function(E,f){if(E>0)return Math.log(E)/Math.LN10;var S=Math.log(Math.min(f[0],f[1]))/Math.LN10;return I(S)||(S=Math.log(Math.max(f[0],f[1]))/Math.LN10-6),S}},90973:function(oe,j,r){"use strict";var I=oe.exports={},E=r(78776).locationmodeToLayer,f=r(96892).zL;I.getTopojsonName=function(S){return[S.scope.replace(/ /g,"-"),"_",S.resolution.toString(),"m"].join("")},I.getTopojsonPath=function(S,M){return S+M+".json"},I.getTopojsonFeatures=function(S,M){return f(M,M.objects[E[S.locationmode]]).features}},37815:function(oe){"use strict";oe.exports={moduleType:"locale",name:"en-US",dictionary:{"Click to enter Colorscale title":"Click to enter Colorscale title"},format:{date:"%m/%d/%Y"}}},92177:function(oe){"use strict";oe.exports={moduleType:"locale",name:"en",dictionary:{"Click to enter Colorscale title":"Click to enter Colourscale title"},format:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],periods:["AM","PM"],dateTime:"%a %b %e %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",decimal:".",thousands:",",grouping:[3],currency:["$",""],year:"%Y",month:"%b %Y",dayMonth:"%b %-d",dayMonthYear:"%b %-d, %Y"}}},14458:function(oe,j,r){"use strict";var I=r(73972);oe.exports=function(E){for(var f,S,M=I.layoutArrayContainers,y=I.layoutArrayRegexes,u=E.split("[")[0],i=0;i<y.length;i++)if((S=E.match(y[i]))&&0===S.index){f=S[0];break}if(f||(f=M[M.indexOf(u)]),!f)return!1;var s=E.substr(f.length);return s?!!(S=s.match(/^\[(0|[1-9][0-9]*)\](\.(.+))?$/))&&{array:f,index:Number(S[1]),property:S[3]||""}:{array:f,index:"",property:""}}},30962:function(oe,j,r){"use strict";var I=r(1426).extendFlat,E=r(41965),f={valType:"flaglist",extras:["none"],flags:["calc","clearAxisTypes","plot","style","markerSize","colorbars"]},S={valType:"flaglist",extras:["none"],flags:["calc","plot","legend","ticks","axrange","layoutstyle","modebar","camera","arraydraw","colorbars"]},M=f.flags.slice().concat(["fullReplot"]),y=S.flags.slice().concat("layoutReplot");function u(a){for(var o={},l=0;l<a.length;l++)o[a[l]]=!1;return o}function i(a,o,l){var c=I({},a);for(var h in c){var v=c[h];E(v)&&(c[h]=s(v,o,0,h))}return"from-root"===l&&(c.editType=o),c}function s(a,o,l,c){if(a.valType){var h=I({},a);if(h.editType=o,Array.isArray(a.items)){h.items=new Array(a.items.length);for(var v=0;v<a.items.length;v++)h.items[v]=s(a.items[v],o)}return h}return i(a,o,"_"===c.charAt(0)?"nested":"from-root")}oe.exports={traces:f,layout:S,traceFlags:function(){return u(M)},layoutFlags:function(){return u(y)},update:function(a,o){var l=o.editType;if(l&&"none"!==l)for(var c=l.split("+"),h=0;h<c.length;h++)a[c[h]]=!0},overrideAll:i}},58377:function(oe,j,r){"use strict";var I=r(92770),E=r(27812),f=r(73972),S=r(71828),M=r(74875),y=r(41675),u=r(7901),i=y.cleanId,s=y.getFromTrace,a=f.traceIs;function o(w,x){var b=w[x],A=x.charAt(0);b&&"paper"!==b&&(w[x]=i(b,A,!0))}function l(w){function x(b,A){w[b]&&(!w.title||!w.title[A])&&(w.title||(w.title={}),w.title[A]=w[b],delete w[b])}w&&("string"!=typeof w.title&&"number"!=typeof w.title||(w.title={text:w.title}),x("titlefont","font"),x("titleposition","position"),x("titleside","side"),x("titleoffset","offset"))}function c(w){if(!S.isPlainObject(w))return!1;var x=w.name;return delete w.name,delete w.showlegend,("string"==typeof x||"number"==typeof x)&&String(x)}function h(w,x,b,A){if(b&&!A)return w;if(A&&!b||!w.trim())return x;if(!x.trim())return w;var m,C=Math.min(w.length,x.length);for(m=0;m<C&&w.charAt(m)===x.charAt(m);m++);return w.substr(0,m).trim()}function v(w){var x="middle",b="center";return"string"==typeof w&&(-1!==w.indexOf("top")?x="top":-1!==w.indexOf("bottom")&&(x="bottom"),-1!==w.indexOf("left")?b="left":-1!==w.indexOf("right")&&(b="right")),x+" "+b}function p(w,x){return x in w&&"object"==typeof w[x]&&0===Object.keys(w[x]).length}j.clearPromiseQueue=function(w){Array.isArray(w._promises)&&w._promises.length>0&&S.log("Clearing previous rejected promises from queue."),w._promises=[]},j.cleanLayout=function(w){var x,b;w||(w={}),w.xaxis1&&(w.xaxis||(w.xaxis=w.xaxis1),delete w.xaxis1),w.yaxis1&&(w.yaxis||(w.yaxis=w.yaxis1),delete w.yaxis1),w.scene1&&(w.scene||(w.scene=w.scene1),delete w.scene1);var A=(M.subplotsRegistry.cartesian||{}).attrRegex,m=(M.subplotsRegistry.polar||{}).attrRegex,C=(M.subplotsRegistry.ternary||{}).attrRegex,k=(M.subplotsRegistry.gl3d||{}).attrRegex,P=Object.keys(w);for(x=0;x<P.length;x++){var R=P[x];if(A&&A.test(R)){var L=w[R];L.anchor&&"free"!==L.anchor&&(L.anchor=i(L.anchor)),L.overlaying&&(L.overlaying=i(L.overlaying)),L.type||(L.isdate?L.type="date":L.islog?L.type="log":!1===L.isdate&&!1===L.islog&&(L.type="linear")),"withzero"!==L.autorange&&"tozero"!==L.autorange||(L.autorange=!0,L.rangemode="tozero"),delete L.islog,delete L.isdate,delete L.categories,p(L,"domain")&&delete L.domain,void 0!==L.autotick&&(void 0===L.tickmode&&(L.tickmode=L.autotick?"auto":"linear"),delete L.autotick),l(L)}else if(m&&m.test(R))l(w[R].radialaxis);else if(C&&C.test(R)){var N=w[R];l(N.aaxis),l(N.baxis),l(N.caxis)}else if(k&&k.test(R)){var B=w[R],J=B.cameraposition;if(Array.isArray(J)&&4===J[0].length){var Y=J[1],q=J[2],U=E([],J[0]),Z=[];for(b=0;b<3;++b)Z[b]=Y[b]+q*U[2+4*b];B.camera={eye:{x:Z[0],y:Z[1],z:Z[2]},center:{x:Y[0],y:Y[1],z:Y[2]},up:{x:0,y:0,z:1}},delete B.cameraposition}l(B.xaxis),l(B.yaxis),l(B.zaxis)}}var X=Array.isArray(w.annotations)?w.annotations.length:0;for(x=0;x<X;x++){var se=w.annotations[x];S.isPlainObject(se)&&(se.ref&&("paper"===se.ref?(se.xref="paper",se.yref="paper"):"data"===se.ref&&(se.xref="x",se.yref="y"),delete se.ref),o(se,"xref"),o(se,"yref"))}var re=Array.isArray(w.shapes)?w.shapes.length:0;for(x=0;x<re;x++){var ee=w.shapes[x];S.isPlainObject(ee)&&(o(ee,"xref"),o(ee,"yref"))}var K=Array.isArray(w.images)?w.images.length:0;for(x=0;x<K;x++){var ne=w.images[x];S.isPlainObject(ne)&&(o(ne,"xref"),o(ne,"yref"))}var ae=w.legend;return ae&&(ae.x>3?(ae.x=1.02,ae.xanchor="left"):ae.x<-2&&(ae.x=-.02,ae.xanchor="right"),ae.y>3?(ae.y=1.02,ae.yanchor="bottom"):ae.y<-2&&(ae.y=-.02,ae.yanchor="top")),l(w),"rotate"===w.dragmode&&(w.dragmode="orbit"),u.clean(w),w.template&&w.template.layout&&j.cleanLayout(w.template.layout),w},j.cleanData=function(w){for(var x=0;x<w.length;x++){var b,A=w[x];if("histogramy"===A.type&&"xbins"in A&&!("ybins"in A)&&(A.ybins=A.xbins,delete A.xbins),A.error_y&&"opacity"in A.error_y){var m=u.defaults,C=A.error_y.color||(a(A,"bar")?u.defaultLine:m[x%m.length]);A.error_y.color=u.addOpacity(u.rgb(C),u.opacity(C)*A.error_y.opacity),delete A.error_y.opacity}if("bardir"in A&&("h"!==A.bardir||!a(A,"bar")&&"histogram"!==A.type.substr(0,9)||(A.orientation="h",j.swapXYData(A)),delete A.bardir),"histogramy"===A.type&&j.swapXYData(A),"histogramx"!==A.type&&"histogramy"!==A.type||(A.type="histogram"),"scl"in A&&!("colorscale"in A)&&(A.colorscale=A.scl,delete A.scl),"reversescl"in A&&!("reversescale"in A)&&(A.reversescale=A.reversescl,delete A.reversescl),A.xaxis&&(A.xaxis=i(A.xaxis,"x")),A.yaxis&&(A.yaxis=i(A.yaxis,"y")),a(A,"gl3d")&&A.scene&&(A.scene=M.subplotsRegistry.gl3d.cleanId(A.scene)),!a(A,"pie-like")&&!a(A,"bar-like"))if(Array.isArray(A.textposition))for(b=0;b<A.textposition.length;b++)A.textposition[b]=v(A.textposition[b]);else A.textposition&&(A.textposition=v(A.textposition));var k=f.getModule(A);if(k&&k.colorbar){var P=k.colorbar.container,R=P?A[P]:A;R&&R.colorscale&&("YIGnBu"===R.colorscale&&(R.colorscale="YlGnBu"),"YIOrRd"===R.colorscale&&(R.colorscale="YlOrRd"))}if("surface"===A.type&&S.isPlainObject(A.contours)){var L=["x","y","z"];for(b=0;b<L.length;b++){var N=A.contours[L[b]];S.isPlainObject(N)&&(N.highlightColor&&(N.highlightcolor=N.highlightColor,delete N.highlightColor),N.highlightWidth&&(N.highlightwidth=N.highlightWidth,delete N.highlightWidth))}}if("candlestick"===A.type||"ohlc"===A.type){var B=!1!==(A.increasing||{}).showlegend,J=!1!==(A.decreasing||{}).showlegend,z=c(A.increasing),Y=c(A.decreasing);if(!1!==z&&!1!==Y){var q=h(z,Y,B,J);q&&(A.name=q)}else!z&&!Y||A.name||(A.name=z||Y)}if(Array.isArray(A.transforms)){var U=A.transforms;for(b=0;b<U.length;b++){var Z=U[b];if(S.isPlainObject(Z))switch(Z.type){case"filter":Z.filtersrc&&(Z.target=Z.filtersrc,delete Z.filtersrc),Z.calendar&&(Z.valuecalendar||(Z.valuecalendar=Z.calendar),delete Z.calendar);break;case"groupby":if(Z.styles=Z.styles||Z.style,Z.styles&&!Array.isArray(Z.styles)){var X=Z.styles,se=Object.keys(X);Z.styles=[];for(var re=0;re<se.length;re++)Z.styles.push({target:se[re],value:X[se[re]]})}}}}p(A,"line")&&delete A.line,"marker"in A&&(p(A.marker,"line")&&delete A.marker.line,p(A,"marker")&&delete A.marker),u.clean(A),A.autobinx&&(delete A.autobinx,delete A.xbins),A.autobiny&&(delete A.autobiny,delete A.ybins),l(A),A.colorbar&&l(A.colorbar),A.marker&&A.marker.colorbar&&l(A.marker.colorbar),A.line&&A.line.colorbar&&l(A.line.colorbar),A.aaxis&&l(A.aaxis),A.baxis&&l(A.baxis)}},j.swapXYData=function(w){var x;if(S.swapAttrs(w,["?","?0","d?","?bins","nbins?","autobin?","?src","error_?"]),Array.isArray(w.z)&&Array.isArray(w.z[0])&&(w.transpose?delete w.transpose:w.transpose=!0),w.error_x&&w.error_y){var b=w.error_y,A="copy_ystyle"in b?b.copy_ystyle:!(b.color||b.thickness||b.width);S.swapAttrs(w,["error_?.copy_ystyle"]),A&&S.swapAttrs(w,["error_?.color","error_?.thickness","error_?.width"])}if("string"==typeof w.hoverinfo){var m=w.hoverinfo.split("+");for(x=0;x<m.length;x++)"x"===m[x]?m[x]="y":"y"===m[x]&&(m[x]="x");w.hoverinfo=m.join("+")}},j.coerceTraceIndices=function(w,x){if(I(x))return[x];if(!Array.isArray(x)||!x.length)return w.data.map(function(m,C){return C});if(Array.isArray(x)){for(var b=[],A=0;A<x.length;A++)S.isIndex(x[A],w.data.length)?b.push(x[A]):S.warn("trace index (",x[A],") is not a number or is out of bounds");return b}return x},j.manageArrayContainers=function(w,x,b){var A=w.obj,m=w.parts,C=m.length,k=m[C-1],P=I(k);if(P&&null===x){var R=m.slice(0,C-1).join(".");S.nestedProperty(A,R).get().splice(k,1)}else P&&void 0===w.get()&&void 0===w.get()&&(b[w.astr]=null),w.set(x)};var T=/(\.[^\[\]\.]+|\[[^\[\]\.]+\])$/;function _(w){var x=w.search(T);if(x>0)return w.substr(0,x)}j.hasParent=function(w,x){for(var b=_(x);b;){if(b in w)return!0;b=_(b)}return!1};var g=["x","y","z"];j.clearAxisTypes=function(w,x,b){for(var A=0;A<x.length;A++)for(var m=w._fullData[A],C=0;C<3;C++){var k=s(w,m,g[C]);if(k&&"log"!==k.type){var P=k._name,R=k._id.substr(1);if("scene"===R.substr(0,5)){if(void 0!==b[R])continue;P=R+"."+P}var L=P+".type";void 0===b[P]&&void 0===b[L]&&S.nestedProperty(w.layout,L).set(null)}}}},10641:function(oe,j,r){"use strict";var I=r(72391);j._doPlot=I._doPlot,j.newPlot=I.newPlot,j.restyle=I.restyle,j.relayout=I.relayout,j.redraw=I.redraw,j.update=I.update,j._guiRestyle=I._guiRestyle,j._guiRelayout=I._guiRelayout,j._guiUpdate=I._guiUpdate,j._storeDirectGUIEdit=I._storeDirectGUIEdit,j.react=I.react,j.extendTraces=I.extendTraces,j.prependTraces=I.prependTraces,j.addTraces=I.addTraces,j.deleteTraces=I.deleteTraces,j.moveTraces=I.moveTraces,j.purge=I.purge,j.addFrames=I.addFrames,j.deleteFrames=I.deleteFrames,j.animate=I.animate,j.setPlotConfig=I.setPlotConfig;var E=r(24401).getGraphDiv,f=r(34031).eraseActiveShape;j.deleteActiveShape=function(M){return f(E(M))},j.toImage=r(403),j.validate=r(84936),j.downloadImage=r(7239);var S=r(96318);j.makeTemplate=S.makeTemplate,j.validateTemplate=S.validateTemplate},6611:function(oe,j,r){"use strict";var I=r(41965),E=r(64213),f=r(47769),S=r(65888).sorterAsc,M=r(73972);j.containerArrayMatch=r(14458);var y=j.isAddVal=function(i){return"add"===i||I(i)},u=j.isRemoveVal=function(i){return null===i||"remove"===i};j.applyContainerArrayChanges=function(i,s,a,o,l){var c=s.astr,h=M.getComponentMethod(c,"supplyLayoutDefaults"),v=M.getComponentMethod(c,"draw"),p=M.getComponentMethod(c,"drawOne"),T=o.replot||o.recalc||h===E||v===E,_=i.layout,g=i._fullLayout;if(a[""]){Object.keys(a).length>1&&f.warn("Full array edits are incompatible with other edits",c);var w=a[""][""];if(u(w))s.set(null);else{if(!Array.isArray(w))return f.warn("Unrecognized full array edit value",c,w),!0;s.set(w)}return!T&&(h(_,g),v(i),!0)}var x,b,A,m,C,k,P,L=Object.keys(a).map(Number).sort(S),N=s.get(),B=N||[],J=l(g,c).get(),z=[],Y=-1,q=B.length;for(x=0;x<L.length;x++)if(m=a[A=L[x]],C=Object.keys(m),P=y(k=m[""]),A<0||A>B.length-(P?0:1))f.warn("index out of range",c,A);else if(void 0!==k)C.length>1&&f.warn("Insertion & removal are incompatible with edits to the same index.",c,A),u(k)?z.push(A):P?("add"===k&&(k={}),B.splice(A,0,k),J&&J.splice(A,0,{})):f.warn("Unrecognized full object edit value",c,A,k),-1===Y&&(Y=A);else for(b=0;b<C.length;b++)l(B[A],C[b],c+"["+A+"].").set(m[C[b]]);for(x=z.length-1;x>=0;x--)B.splice(z[x],1),J&&J.splice(z[x],1);if(B.length?N||s.set(B):s.set(null),T)return!1;if(h(_,g),p!==E){var U;if(-1===Y)U=L;else{for(q=Math.max(B.length,q),U=[],x=0;x<L.length&&!((A=L[x])>=Y);x++)U.push(A);for(x=Y;x<q;x++)U.push(x)}for(x=0;x<U.length;x++)p(i,U[x])}else v(i);return!0}},72391:function(oe,j,r){"use strict";var I=r(39898),E=r(92770),f=r(57035),S=r(71828),M=S.nestedProperty,y=r(11086),u=r(10847),i=r(73972),s=r(86281),a=r(74875),o=r(89298),l=r(91424),c=r(7901),h=r(4305).initInteractions,v=r(77922),p=r(47322).clearOutline,T=r(72075).dfltConfig,_=r(6611),g=r(58377),w=r(61549),x=r(30962),b=r(85555).AX_NAME_PATTERN,A=0;function m(ce){var Ae=ce._fullLayout;Ae._redrawFromAutoMarginCount?Ae._redrawFromAutoMarginCount--:ce.emit("plotly_afterplot")}function C(ce,Ae){try{ce._fullLayout._paper.style("background",Ae)}catch(Ne){S.error(Ne)}}function k(ce,Ae){C(ce,c.combine(Ae,"white"))}function P(ce,Ae){if(!ce._context){ce._context=S.extendDeep({},T);var Ne=I.select("base");ce._context._baseUrl=Ne.size()&&Ne.attr("href")?window.location.href.split("#")[0]:""}var De,Ue,Ye,_e=ce._context;if(Ae){for(Ue=Object.keys(Ae),De=0;De<Ue.length;De++)"editable"!==(Ye=Ue[De])&&"edits"!==Ye&&Ye in _e&&(_e[Ye]="setBackground"===Ye&&"opaque"===Ae[Ye]?k:Ae[Ye]);Ae.plot3dPixelRatio&&!_e.plotGlPixelRatio&&(_e.plotGlPixelRatio=_e.plot3dPixelRatio);var Pe=Ae.editable;if(void 0!==Pe)for(_e.editable=Pe,Ue=Object.keys(_e.edits),De=0;De<Ue.length;De++)_e.edits[Ue[De]]=Pe;if(Ae.edits)for(Ue=Object.keys(Ae.edits),De=0;De<Ue.length;De++)(Ye=Ue[De])in _e.edits&&(_e.edits[Ye]=Ae.edits[Ye]);_e._exportedPlot=Ae._exportedPlot}_e.staticPlot&&(_e.editable=!1,_e.edits={},_e.autosizable=!1,_e.scrollZoom=!1,_e.doubleClick=!1,_e.showTips=!1,_e.showLink=!1,_e.displayModeBar=!1),"hover"!==_e.displayModeBar||f||(_e.displayModeBar=!0),"transparent"!==_e.setBackground&&"function"==typeof _e.setBackground||(_e.setBackground=C),_e._hasZeroHeight=_e._hasZeroHeight||0===ce.clientHeight,_e._hasZeroWidth=_e._hasZeroWidth||0===ce.clientWidth;var Ie=_e.scrollZoom,Be=_e._scrollZoom={};if(!0===Ie)Be.cartesian=1,Be.gl3d=1,Be.geo=1,Be.mapbox=1;else if("string"==typeof Ie){var We=Ie.split("+");for(De=0;De<We.length;De++)Be[We[De]]=1}else!1!==Ie&&(Be.gl3d=1,Be.geo=1,Be.mapbox=1)}function R(ce,Ae){var Ne,De,Ue=Ae+1,Ye=[];for(Ne=0;Ne<ce.length;Ne++)(De=ce[Ne])<0?Ye.push(Ue+De):Ye.push(De);return Ye}function L(ce,Ae,Ne){var De,Ue;for(De=0;De<Ae.length;De++){if((Ue=Ae[De])!==parseInt(Ue,10))throw new Error("all values in "+Ne+" must be integers");if(Ue>=ce.data.length||Ue<-ce.data.length)throw new Error(Ne+" must be valid indices for gd.data.");if(Ae.indexOf(Ue,De+1)>-1||Ue>=0&&Ae.indexOf(-ce.data.length+Ue)>-1||Ue<0&&Ae.indexOf(ce.data.length+Ue)>-1)throw new Error("each index in "+Ne+" must be unique.")}}function N(ce,Ae,Ne){if(!Array.isArray(ce.data))throw new Error("gd.data must be an array.");if(void 0===Ae)throw new Error("currentIndices is a required argument.");if(Array.isArray(Ae)||(Ae=[Ae]),L(ce,Ae,"currentIndices"),void 0===Ne||Array.isArray(Ne)||(Ne=[Ne]),void 0!==Ne&&L(ce,Ne,"newIndices"),void 0!==Ne&&Ae.length!==Ne.length)throw new Error("current and new indices must be of equal length.")}function B(ce,Ae,Ne,De,Ue){!function(Ke,tt,st,gt){var ct=S.isPlainObject(gt);if(!Array.isArray(Ke.data))throw new Error("gd.data must be an array");if(!S.isPlainObject(tt))throw new Error("update must be a key:value object");if(void 0===st)throw new Error("indices must be an integer or array of integers");for(var kt in L(Ke,st,"indices"),tt){if(!Array.isArray(tt[kt])||tt[kt].length!==st.length)throw new Error("attribute "+kt+" must be an array of length equal to indices array length");if(ct&&(!(kt in gt)||!Array.isArray(gt[kt])||gt[kt].length!==tt[kt].length))throw new Error("when maxPoints is set as a key:value object it must contain a 1:1 corrispondence with the keys and number of traces in the update object")}}(ce,Ae,Ne,De);for(var Ye=function(Ke,tt,st,gt){var kt,Dt,vt,mt,Et=S.isPlainObject(gt),Lt=[];for(var Rt in Array.isArray(st)||(st=[st]),st=R(st,Ke.data.length-1),tt)for(var Ut=0;Ut<st.length;Ut++){if(kt=(Dt=M(Ke.data[st[Ut]],Rt)).get(),!S.isArrayOrTypedArray(vt=tt[Rt][Ut]))throw new Error("attribute: "+Rt+" index: "+Ut+" must be an array");if(!S.isArrayOrTypedArray(kt))throw new Error("cannot extend missing or non-array attribute: "+Rt);if(kt.constructor!==vt.constructor)throw new Error("cannot extend array with an array of a different type: "+Rt);E(mt=Et?gt[Rt][Ut]:gt)||(mt=-1),Lt.push({prop:Dt,target:kt,insert:vt,maxp:Math.floor(mt)})}return Lt}(ce,Ae,Ne,De),_e={},Pe={},Ie=0;Ie<Ye.length;Ie++){var Be=Ye[Ie].prop,Ge=Ue(Ye[Ie].target,Ye[Ie].insert,Ye[Ie].maxp);Be.set(Ge[0]),Array.isArray(_e[Be.astr])||(_e[Be.astr]=[]),_e[Be.astr].push(Ge[1]),Array.isArray(Pe[Be.astr])||(Pe[Be.astr]=[]),Pe[Be.astr].push(Ye[Ie].target.length)}return{update:_e,maxPoints:Pe}}function J(ce,Ae){var Ne=new ce.constructor(ce.length+Ae.length);return Ne.set(ce),Ne.set(Ae,ce.length),Ne}function z(ce,Ae,Ne,De){ce=S.getGraphDiv(ce),g.clearPromiseQueue(ce);var Ue={};if("string"==typeof Ae)Ue[Ae]=Ne;else{if(!S.isPlainObject(Ae))return S.warn("Restyle fail.",Ae,Ne,De),Promise.reject();Ue=S.extendFlat({},Ae),void 0===De&&(De=Ne)}Object.keys(Ue).length&&(ce.changed=!0);var Ye=g.coerceTraceIndices(ce,De),_e=Z(ce,Ue,Ye),Pe=_e.flags;Pe.calc&&(ce.calcdata=void 0),Pe.clearAxisTypes&&g.clearAxisTypes(ce,Ye,{});var Ie=[];Pe.fullReplot?Ie.push(j._doPlot):(Ie.push(a.previousPromises),a.supplyDefaults(ce),Pe.markerSize&&(a.doCalcdata(ce),ee(Ie)),Pe.style&&Ie.push(w.doTraceStyle),Pe.colorbars&&Ie.push(w.doColorBars),Ie.push(m)),Ie.push(a.rehover,a.redrag,a.reselect),u.add(ce,z,[ce,_e.undoit,_e.traces],z,[ce,_e.redoit,_e.traces]);var Be=S.syncOrAsync(Ie,ce);return Be&&Be.then||(Be=Promise.resolve()),Be.then(function(){return ce.emit("plotly_restyle",_e.eventData),ce})}function Y(ce){return void 0===ce?null:ce}function q(ce,Ae){return Ae?function(Ne,De,Ue){var Ye=M(Ne,De),_e=Ye.set;return Ye.set=function(Pe){U((Ue||"")+De,Ye.get(),Pe,ce),_e(Pe)},Ye}:M}function U(ce,Ae,Ne,De){if(Array.isArray(Ae)||Array.isArray(Ne))for(var Ue=Array.isArray(Ae)?Ae:[],Ye=Array.isArray(Ne)?Ne:[],_e=Math.max(Ue.length,Ye.length),Pe=0;Pe<_e;Pe++)U(ce+"["+Pe+"]",Ue[Pe],Ye[Pe],De);else if(S.isPlainObject(Ae)||S.isPlainObject(Ne)){var Ie=S.isPlainObject(Ae)?Ae:{},Be=S.isPlainObject(Ne)?Ne:{},We=S.extendFlat({},Ie,Be);for(var Ge in We)U(ce+"."+Ge,Ie[Ge],Be[Ge],De)}else void 0===De[ce]&&(De[ce]=Y(Ae))}function Z(ce,Ae,Ne){var De,Ue=ce._fullLayout,Ye=ce._fullData,_e=ce.data,Pe=Ue._guiEditing,Ie=q(Ue._preGUI,Pe),Be=S.extendDeepAll({},Ae);X(Ae);var We,Ge=x.traceFlags(),Ke={},tt={};function st(){return Ne.map(function(){})}function gt(Zt){var dn=o.id2name(Zt);-1===We.indexOf(dn)&&We.push(dn)}function ct(Zt){return"LAYOUT"+Zt+".autorange"}function kt(Zt){return"LAYOUT"+Zt+".range"}function Dt(Zt){for(var dn=Zt;dn<Ye.length;dn++)if(Ye[dn]._input===_e[Zt])return Ye[dn]}function vt(Zt,dn,nn){if(Array.isArray(Zt))Zt.forEach(function(kn){vt(kn,dn,nn)});else if(!(Zt in Ae)&&!g.hasParent(Ae,Zt)){var un;if("LAYOUT"===Zt.substr(0,6))un=Ie(ce.layout,Zt.replace("LAYOUT",""));else{var rn=Ne[nn];un=q(Ue._tracePreGUI[Dt(rn)._fullInput.uid],Pe)(_e[rn],Zt)}Zt in tt||(tt[Zt]=st()),void 0===tt[Zt][nn]&&(tt[Zt][nn]=Y(un.get())),void 0!==dn&&un.set(dn)}}function mt(Zt){return function(dn){return Ye[dn][Zt]}}function Et(Zt){return function(dn,nn){return!1===dn?Ye[Ne[nn]][Zt]:null}}for(var Lt in Ae){if(g.hasParent(Ae,Lt))throw new Error("cannot set "+Lt+" and a parent attribute simultaneously");var Rt,Ut,Bt,rt,ot,Je,it=Ae[Lt];if("autobinx"!==Lt&&"autobiny"!==Lt||(Lt=Lt.charAt(Lt.length-1)+"bins",it=Array.isArray(it)?it.map(Et(Lt)):!1===it?Ne.map(mt(Lt)):null),Ke[Lt]=it,"LAYOUT"!==Lt.substr(0,6)){for(tt[Lt]=st(),De=0;De<Ne.length;De++)if(Rt=_e[Ne[De]],Ut=Dt(Ne[De]),rt=(Bt=q(Ue._tracePreGUI[Ut._fullInput.uid],Pe)(Rt,Lt)).get(),void 0!==(ot=Array.isArray(it)?it[De%it.length]:it)){var dt=Bt.parts[Bt.parts.length-1],ht=Lt.substr(0,Lt.length-dt.length-1),Ve=ht?ht+".":"",qe=ht?M(Ut,ht).get():Ut;if((Je=s.getTraceValObject(Ut,Bt.parts))&&Je.impliedEdits&&null!==ot)for(var ut in Je.impliedEdits)vt(S.relativeAttr(Lt,ut),Je.impliedEdits[ut],De);else if("thicknessmode"!==dt&&"lenmode"!==dt||rt===ot||"fraction"!==ot&&"pixels"!==ot||!qe){if("type"===Lt&&("pie"===ot!=("pie"===rt)||"funnelarea"===ot!=("funnelarea"===rt))){var ft="x",St="y";"bar"!==ot&&"bar"!==rt||"h"!==Rt.orientation||(ft="y",St="x"),S.swapAttrs(Rt,["?","?src"],"labels",ft),S.swapAttrs(Rt,["d?","?0"],"label",ft),S.swapAttrs(Rt,["?","?src"],"values",St),"pie"===rt||"funnelarea"===rt?(M(Rt,"marker.color").set(M(Rt,"marker.colors").get()),Ue._pielayer.selectAll("g.trace").remove()):i.traceIs(Rt,"cartesian")&&M(Rt,"marker.colors").set(M(Rt,"marker.color").get())}}else{var Mt=Ue._size,Tt=qe.orient,xt="top"===Tt||"bottom"===Tt;if("thicknessmode"===dt){var Nt=xt?Mt.h:Mt.w;vt(Ve+"thickness",qe.thickness*("fraction"===ot?1/Nt:Nt),De)}else{var bt=xt?Mt.w:Mt.h;vt(Ve+"len",qe.len*("fraction"===ot?1/bt:bt),De)}}if(tt[Lt][De]=Y(rt),-1!==["swapxy","swapxyaxes","orientation","orientationaxes"].indexOf(Lt)){if("orientation"===Lt){Bt.set(ot);var wt=Rt.x&&!Rt.y?"h":"v";if((Bt.get()||wt)===Ut.orientation)continue}else"orientationaxes"===Lt&&(Rt.orientation={v:"h",h:"v"}[Ut.orientation]);g.swapXYData(Rt),Ge.calc=Ge.clearAxisTypes=!0}else-1!==a.dataArrayContainers.indexOf(Bt.parts[0])?(g.manageArrayContainers(Bt,ot,tt),Ge.calc=!0):(Je?Je.arrayOk&&!i.traceIs(Ut,"regl")&&(S.isArrayOrTypedArray(ot)||S.isArrayOrTypedArray(rt))?Ge.calc=!0:x.update(Ge,Je):Ge.calc=!0,Bt.set(ot))}if(-1!==["swapxyaxes","orientationaxes"].indexOf(Lt)&&o.swap(ce,Ne),"orientationaxes"===Lt){var It=M(ce.layout,"hovermode"),Wt=It.get();"x"===Wt?It.set("y"):"y"===Wt?It.set("x"):"x unified"===Wt?It.set("y unified"):"y unified"===Wt&&It.set("x unified")}if(-1!==["orientation","type"].indexOf(Lt)){for(We=[],De=0;De<Ne.length;De++){var Yt=_e[Ne[De]];i.traceIs(Yt,"cartesian")&&(gt(Yt.xaxis||"x"),gt(Yt.yaxis||"y"))}vt(We.map(ct),!0,0),vt(We.map(kt),[0,1],0)}}else Bt=Ie(ce.layout,Lt.replace("LAYOUT","")),tt[Lt]=[Y(Bt.get())],Bt.set(Array.isArray(it)?it[0]:it),Ge.calc=!0}return(Ge.calc||Ge.plot)&&(Ge.fullReplot=!0),{flags:Ge,undoit:tt,redoit:Ke,traces:Ne,eventData:S.extendDeepNoArrays([],[Be,Ne])}}function X(ce){var Ae,Ne,De,Ue=S.counterRegex("axis",".title",!1,!1),Ye=/colorbar\.title$/,_e=Object.keys(ce);for(Ae=0;Ae<_e.length;Ae++)De=ce[Ne=_e[Ae]],"title"!==Ne&&!Ue.test(Ne)&&!Ye.test(Ne)||"string"!=typeof De&&"number"!=typeof De?Ne.indexOf("titlefont")>-1&&-1===Ne.indexOf("grouptitlefont")?Pe(Ne,Ne.replace("titlefont","title.font")):Ne.indexOf("titleposition")>-1?Pe(Ne,Ne.replace("titleposition","title.position")):Ne.indexOf("titleside")>-1?Pe(Ne,Ne.replace("titleside","title.side")):Ne.indexOf("titleoffset")>-1&&Pe(Ne,Ne.replace("titleoffset","title.offset")):Pe(Ne,Ne.replace("title","title.text"));function Pe(Ie,Be){ce[Be]=ce[Ie],delete ce[Ie]}}function se(ce,Ae,Ne){ce=S.getGraphDiv(ce),g.clearPromiseQueue(ce);var De={};if("string"==typeof Ae)De[Ae]=Ne;else{if(!S.isPlainObject(Ae))return S.warn("Relayout fail.",Ae,Ne),Promise.reject();De=S.extendFlat({},Ae)}Object.keys(De).length&&(ce.changed=!0);var Ue=ue(ce,De),Ye=Ue.flags;Ye.calc&&(ce.calcdata=void 0);var _e=[a.previousPromises];Ye.layoutReplot?_e.push(w.layoutReplot):Object.keys(De).length&&(re(ce,Ye,Ue)||a.supplyDefaults(ce),Ye.legend&&_e.push(w.doLegend),Ye.layoutstyle&&_e.push(w.layoutStyles),Ye.axrange&&ee(_e,Ue.rangesAltered),Ye.ticks&&_e.push(w.doTicksRelayout),Ye.modebar&&_e.push(w.doModeBar),Ye.camera&&_e.push(w.doCamera),Ye.colorbars&&_e.push(w.doColorBars),_e.push(m)),_e.push(a.rehover,a.redrag,a.reselect),u.add(ce,se,[ce,Ue.undoit],se,[ce,Ue.redoit]);var Pe=S.syncOrAsync(_e,ce);return Pe&&Pe.then||(Pe=Promise.resolve(ce)),Pe.then(function(){return ce.emit("plotly_relayout",Ue.eventData),ce})}function re(ce,Ae,Ne){var De=ce._fullLayout;if(!Ae.axrange)return!1;for(var Ue in Ae)if("axrange"!==Ue&&Ae[Ue])return!1;for(var Ye in Ne.rangesAltered){var _e=o.id2name(Ye),Pe=ce.layout[_e],Ie=De[_e];if(Ie.autorange=Pe.autorange,Pe.range&&(Ie.range=Pe.range.slice()),Ie.cleanRange(),Ie._matchGroup)for(var Be in Ie._matchGroup)if(Be!==Ye){var We=De[o.id2name(Be)];We.autorange=Ie.autorange,We.range=Ie.range.slice(),We._input.range=Ie.range.slice()}}return!0}function ee(ce,Ae){ce.push(p,w.doAutoRangeAndConstraints,Ae?function(De){var Ue=[];for(var Ye in Ae){var _e=o.getFromId(De,Ye);if(Ue.push(Ye),-1!==(_e.ticklabelposition||"").indexOf("inside")&&_e._anchorAxis&&Ue.push(_e._anchorAxis._id),_e._matchGroup)for(var Pe in _e._matchGroup)Ae[Pe]||Ue.push(Pe)}return o.draw(De,Ue,{skipTitle:!0})}:function(De){return o.draw(De,"redraw")},w.drawData,w.finalDraw)}var K=/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/,ne=/^[xyz]axis[0-9]*\.autorange$/,ae=/^[xyz]axis[0-9]*\.domain(\[[0|1]\])?$/;function ue(ce,Ae){var Ne,De,Ue,Ye=ce.layout,_e=ce._fullLayout,Ie=q(_e._preGUI,_e._guiEditing),Be=Object.keys(Ae),We=o.list(ce),Ge=S.extendDeepAll({},Ae),Ke={};for(X(Ae),Be=Object.keys(Ae),De=0;De<Be.length;De++)if(0===Be[De].indexOf("allaxes")){for(Ue=0;Ue<We.length;Ue++){var tt=We[Ue]._id.substr(1),st=-1!==tt.indexOf("scene")?tt+".":"",gt=Be[De].replace("allaxes",st+We[Ue]._name);Ae[gt]||(Ae[gt]=Ae[Be[De]])}delete Ae[Be[De]]}var ct=x.layoutFlags(),kt={},Dt={};function vt(kn,Pn){if(Array.isArray(kn))kn.forEach(function(en){vt(en,Pn)});else if(!(kn in Ae)&&!g.hasParent(Ae,kn)){var Sn=Ie(Ye,kn);kn in Dt||(Dt[kn]=Y(Sn.get())),void 0!==Pn&&Sn.set(Pn)}}var mt,Et={};function Lt(kn){var Pn=o.name2id(kn.split(".")[0]);return Et[Pn]=1,Pn}for(var Rt in Ae){if(g.hasParent(Ae,Rt))throw new Error("cannot set "+Rt+" and a parent attribute simultaneously");for(var Ut=Ie(Ye,Rt),Bt=Ae[Rt],rt=Ut.parts.length-1;rt>0&&"string"!=typeof Ut.parts[rt];)rt--;var ot=Ut.parts[rt],Je=Ut.parts[rt-1]+"."+ot,it=Ut.parts.slice(0,rt).join("."),dt=M(ce.layout,it).get(),ht=M(_e,it).get(),Ve=Ut.get();if(void 0!==Bt){kt[Rt]=Bt,Dt[Rt]="reverse"===ot?Bt:Y(Ve);var qe=s.getLayoutValObject(_e,Ut.parts);if(qe&&qe.impliedEdits&&null!==Bt)for(var ut in qe.impliedEdits)vt(S.relativeAttr(Rt,ut),qe.impliedEdits[ut]);if(-1!==["width","height"].indexOf(Rt))if(Bt){vt("autosize",null);var ft="height"===Rt?"width":"height";vt(ft,_e[ft])}else _e[Rt]=ce._initialAutoSize[Rt];else if("autosize"===Rt)vt("width",Bt?null:_e.width),vt("height",Bt?null:_e.height);else if(Je.match(K))Lt(Je),M(_e,it+"._inputRange").set(null);else if(Je.match(ne)){Lt(Je),M(_e,it+"._inputRange").set(null);var St=M(_e,it).get();St._inputDomain&&(St._input.domain=St._inputDomain.slice())}else Je.match(ae)&&M(_e,it+"._inputDomain").set(null);if("type"===ot){mt=dt;var Mt="linear"===ht.type&&"log"===Bt;if(Mt||"log"===ht.type&&"linear"===Bt){if(mt&&mt.range)if(ht.autorange)Mt&&(mt.range=mt.range[1]>mt.range[0]?[1,2]:[2,1]);else{var xt=mt.range[0],Nt=mt.range[1];Mt?(xt<=0&&Nt<=0&&vt(it+".autorange",!0),xt<=0?xt=Nt/1e6:Nt<=0&&(Nt=xt/1e6),vt(it+".range[0]",Math.log(xt)/Math.LN10),vt(it+".range[1]",Math.log(Nt)/Math.LN10)):(vt(it+".range[0]",Math.pow(10,xt)),vt(it+".range[1]",Math.pow(10,Nt)))}else vt(it+".autorange",!0);Array.isArray(_e._subplots.polar)&&_e._subplots.polar.length&&_e[Ut.parts[0]]&&"radialaxis"===Ut.parts[1]&&delete _e[Ut.parts[0]]._subplot.viewInitial["radialaxis.range"],i.getComponentMethod("annotations","convertCoords")(ce,ht,Bt,vt),i.getComponentMethod("images","convertCoords")(ce,ht,Bt,vt)}else vt(it+".autorange",!0),vt(it+".range",null);M(_e,it+"._inputRange").set(null)}else if(ot.match(b)){var bt=M(_e,Rt).get(),wt=(Bt||{}).type;wt&&"-"!==wt||(wt="linear"),i.getComponentMethod("annotations","convertCoords")(ce,bt,wt,vt),i.getComponentMethod("images","convertCoords")(ce,bt,wt,vt)}var It=_.containerArrayMatch(Rt);if(It){Ne=It.array;var Wt=It.property,Yt=qe||{editType:"calc"};""!==(De=It.index)&&""===Wt&&(_.isAddVal(Bt)?Dt[Rt]=null:_.isRemoveVal(Bt)?Dt[Rt]=(M(Ye,Ne).get()||[])[De]:S.warn("unrecognized full object value",Ae)),x.update(ct,Yt),Ke[Ne]||(Ke[Ne]={});var Zt=Ke[Ne][De];Zt||(Zt=Ke[Ne][De]={}),Zt[Wt]=Bt,delete Ae[Rt]}else"reverse"===ot?(dt.range?dt.range.reverse():(vt(it+".autorange",!0),dt.range=[1,0]),ht.autorange?ct.calc=!0:ct.plot=!0):("dragmode"===Rt&&(!1===Bt&&!1!==Ve||!1!==Bt&&!1===Ve)||_e._has("scatter-like")&&_e._has("regl")&&"dragmode"===Rt&&("lasso"===Bt||"select"===Bt)&&"lasso"!==Ve&&"select"!==Ve||_e._has("gl2d")?ct.plot=!0:qe?x.update(ct,qe):ct.calc=!0,Ut.set(Bt))}}for(Ne in Ke)_.applyContainerArrayChanges(ce,Ie(Ye,Ne),Ke[Ne],ct,Ie)||(ct.plot=!0);for(var dn in Et){var nn=(mt=o.getFromId(ce,dn))&&mt._constraintGroup;if(nn)for(var un in ct.calc=!0,nn)Et[un]||(o.getFromId(ce,un)._constraintShrinkable=!0)}(he(ce)||Ae.height||Ae.width)&&(ct.plot=!0);var rn=_e.shapes;for(De=0;De<rn.length;De++)if(rn[De].showlegend){ct.calc=!0;break}return(ct.plot||ct.calc)&&(ct.layoutReplot=!0),{flags:ct,rangesAltered:Et,undoit:Dt,redoit:kt,eventData:Ge}}function he(ce){var Ae=ce._fullLayout,Ne=Ae.width,De=Ae.height;return ce.layout.autosize&&a.plotAutoSize(ce,ce.layout,Ae),Ae.width!==Ne||Ae.height!==De}function pe(ce,Ae,Ne,De){ce=S.getGraphDiv(ce),g.clearPromiseQueue(ce),S.isPlainObject(Ae)||(Ae={}),S.isPlainObject(Ne)||(Ne={}),Object.keys(Ae).length&&(ce.changed=!0),Object.keys(Ne).length&&(ce.changed=!0);var Ue=g.coerceTraceIndices(ce,De),Ye=Z(ce,S.extendFlat({},Ae),Ue),_e=Ye.flags,Pe=ue(ce,S.extendFlat({},Ne)),Ie=Pe.flags;(_e.calc||Ie.calc)&&(ce.calcdata=void 0),_e.clearAxisTypes&&g.clearAxisTypes(ce,Ue,Ne);var Be=[];Ie.layoutReplot?Be.push(w.layoutReplot):_e.fullReplot?Be.push(j._doPlot):(Be.push(a.previousPromises),re(ce,Ie,Pe)||a.supplyDefaults(ce),_e.style&&Be.push(w.doTraceStyle),(_e.colorbars||Ie.colorbars)&&Be.push(w.doColorBars),Ie.legend&&Be.push(w.doLegend),Ie.layoutstyle&&Be.push(w.layoutStyles),Ie.axrange&&ee(Be,Pe.rangesAltered),Ie.ticks&&Be.push(w.doTicksRelayout),Ie.modebar&&Be.push(w.doModeBar),Ie.camera&&Be.push(w.doCamera),Be.push(m)),Be.push(a.rehover,a.redrag,a.reselect),u.add(ce,pe,[ce,Ye.undoit,Pe.undoit,Ye.traces],pe,[ce,Ye.redoit,Pe.redoit,Ye.traces]);var We=S.syncOrAsync(Be,ce);return We&&We.then||(We=Promise.resolve(ce)),We.then(function(){return ce.emit("plotly_update",{data:Ye.eventData,layout:Pe.eventData}),ce})}function ge(ce){return function(Ae){Ae._fullLayout._guiEditing=!0;var Ne=ce.apply(null,arguments);return Ae._fullLayout._guiEditing=!1,Ne}}var xe=[{pattern:/^hiddenlabels/,attr:"legend.uirevision"},{pattern:/^((x|y)axis\d*)\.((auto)?range|title\.text)/},{pattern:/axis\d*\.showspikes$/,attr:"modebar.uirevision"},{pattern:/(hover|drag)mode$/,attr:"modebar.uirevision"},{pattern:/^(scene\d*)\.camera/},{pattern:/^(geo\d*)\.(projection|center|fitbounds)/},{pattern:/^(ternary\d*\.[abc]axis)\.(min|title\.text)$/},{pattern:/^(polar\d*\.radialaxis)\.((auto)?range|angle|title\.text)/},{pattern:/^(polar\d*\.angularaxis)\.rotation/},{pattern:/^(mapbox\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^legend\.(x|y)$/,attr:"editrevision"},{pattern:/^(shapes|annotations)/,attr:"editrevision"},{pattern:/^title\.text$/,attr:"editrevision"}],Se=[{pattern:/^selectedpoints$/,attr:"selectionrevision"},{pattern:/(^|value\.)visible$/,attr:"legend.uirevision"},{pattern:/^dimensions\[\d+\]\.constraintrange/},{pattern:/^node\.(x|y|groups)/},{pattern:/^level$/},{pattern:/(^|value\.)name$/},{pattern:/colorbar\.title\.text$/},{pattern:/colorbar\.(x|y)$/,attr:"editrevision"}];function Te(ce,Ae){for(var Ne=0;Ne<Ae.length;Ne++){var De=Ae[Ne],Ue=ce.match(De.pattern);if(Ue){var Ye=Ue[1]||"";return{head:Ye,tail:ce.substr(Ye.length+1),attr:De.attr}}}}function ye(ce,Ae){var Ne=M(Ae,ce).get();if(void 0!==Ne)return Ne;var De=ce.split(".");for(De.pop();De.length>1;)if(De.pop(),void 0!==(Ne=M(Ae,De.join(".")+".uirevision").get()))return Ne;return Ae.uirevision}function we(ce,Ae){for(var Ne=0;Ne<Ae.length;Ne++)if(Ae[Ne]._fullInput.uid===ce)return Ne;return-1}function ze(ce,Ae,Ne){for(var De=0;De<Ae.length;De++)if(Ae[De].uid===ce)return De;return!Ae[Ne]||Ae[Ne].uid?-1:Ne}function ke(ce,Ae){var Ne=S.isPlainObject(ce),De=Array.isArray(ce);return Ne||De?(Ne&&S.isPlainObject(Ae)||De&&Array.isArray(Ae))&&JSON.stringify(ce)===JSON.stringify(Ae):ce===Ae}function Ee(ce,Ae,Ne,De){var Ue,Ye,_e,Pe=De.getValObject,Ie=De.flags,Be=De.immutable,We=De.inArray,Ge=De.arrayIndex;function Ke(){var dt=Ue.editType;We&&-1!==dt.indexOf("arraydraw")?S.pushUnique(Ie.arrays[We],Ge):(x.update(Ie,Ue),"none"!==dt&&Ie.nChanges++,De.transition&&Ue.anim&&Ie.nChangesAnim++,(K.test(_e)||ne.test(_e))&&(Ie.rangesAltered[Ne[0]]=1),ae.test(_e)&&M(Ae,"_inputDomain").set(null),"datarevision"===Ye&&(Ie.newDataRevision=1))}function tt(dt){return"data_array"===dt.valType||dt.arrayOk}for(Ye in ce){if(Ie.calc&&!De.transition)return;var st=ce[Ye],gt=Ae[Ye],ct=Ne.concat(Ye);if(_e=ct.join("."),"_"!==Ye.charAt(0)&&"function"!=typeof st&&st!==gt){if(("tick0"===Ye||"dtick"===Ye)&&"geo"!==Ne[0]){var kt=Ae.tickmode;if("auto"===kt||"array"===kt||!kt)continue}if(("range"!==Ye||!Ae.autorange)&&("zmin"!==Ye&&"zmax"!==Ye||"contourcarpet"!==Ae.type)&&(Ue=Pe(ct))&&(!Ue._compareAsJSON||JSON.stringify(st)!==JSON.stringify(gt))){var Dt,vt=Ue.valType,mt=tt(Ue),Et=Array.isArray(st),Lt=Array.isArray(gt);if(Et&&Lt){var Rt="_input_"+Ye,Ut=ce[Rt],Bt=Ae[Rt];if(Array.isArray(Ut)&&Ut===Bt)continue}if(void 0===gt)mt&&Et?Ie.calc=!0:Ke();else if(Ue._isLinkedToArray){var rt=[],ot=!1;We||(Ie.arrays[Ye]=rt);var Je=Math.min(st.length,gt.length),it=Math.max(st.length,gt.length);if(Je!==it){if("arraydraw"!==Ue.editType){Ke();continue}ot=!0}for(Dt=0;Dt<Je;Dt++)Ee(st[Dt],gt[Dt],ct.concat(Dt),S.extendFlat({inArray:Ye,arrayIndex:Dt},De));if(ot)for(Dt=Je;Dt<it;Dt++)rt.push(Dt)}else!vt&&S.isPlainObject(st)?Ee(st,gt,ct,De):mt?Et&&Lt?(Be&&(Ie.calc=!0),(Be||De.newDataRevision)&&Ke()):Et!==Lt?Ie.calc=!0:Ke():Et&&Lt&&st.length===gt.length&&String(st)===String(gt)||Ke()}}}for(Ye in Ae)if(!(Ye in ce)&&"_"!==Ye.charAt(0)&&"function"!=typeof Ae[Ye]){if(tt(Ue=Pe(Ne.concat(Ye)))&&Array.isArray(Ae[Ye]))return void(Ie.calc=!0);Ke()}}function me(ce,Ae){var Ne;for(Ne in ce)if("_"!==Ne.charAt(0)){var De=ce[Ne],Ue=Ae[Ne];if(De!==Ue)if(S.isPlainObject(De)&&S.isPlainObject(Ue)){if(me(De,Ue))return!0}else{if(!Array.isArray(De)||!Array.isArray(Ue)||De.length!==Ue.length)return!0;for(var Ye=0;Ye<De.length;Ye++)if(De[Ye]!==Ue[Ye]&&(!S.isPlainObject(De[Ye])||!S.isPlainObject(Ue[Ye])||me(De[Ye],Ue[Ye])))return!0}}}function de(ce){var Ae=ce._fullLayout,Ne=ce.getBoundingClientRect();if(!S.equalDomRects(Ne,Ae._lastBBox)){var De=Ae._invTransform=S.inverseTransformMatrix(S.getFullTransformMatrix(ce));Ae._invScaleX=Math.sqrt(De[0][0]*De[0][0]+De[0][1]*De[0][1]+De[0][2]*De[0][2]),Ae._invScaleY=Math.sqrt(De[1][0]*De[1][0]+De[1][1]*De[1][1]+De[1][2]*De[1][2]),Ae._lastBBox=Ne}}j.animate=function(ce,Ae,Ne){if(ce=S.getGraphDiv(ce),!S.isPlotDiv(ce))throw new Error("This element is not a Plotly plot: "+ce+". It's likely that you've failed to create a plot before animating it. For more details, see https://plotly.com/javascript/animations/");var De=ce._transitionData;De._frameQueue||(De._frameQueue=[]);var Ue=(Ne=a.supplyAnimationDefaults(Ne)).transition,Ye=Ne.frame;function _e(Be){return Array.isArray(Ue)?Be>=Ue.length?Ue[0]:Ue[Be]:Ue}function Pe(Be){return Array.isArray(Ye)?Be>=Ye.length?Ye[0]:Ye[Be]:Ye}function Ie(Be,We){var Ge=0;return function(){if(Be&&++Ge===We)return Be()}}return void 0===De._frameWaitingCnt&&(De._frameWaitingCnt=0),new Promise(function(Be,We){var Ke,tt,st=0;function gt(Rt){return Rt.transitionOpts=Array.isArray(Ue)?st>=Ue.length?Ue[st]:Ue[0]:Ue,st++,Rt}var ct=[],kt=null==Ae,Dt=Array.isArray(Ae);if(kt||Dt||!S.isPlainObject(Ae)){if(kt||-1!==["string","number"].indexOf(typeof Ae))for(Ke=0;Ke<De._frames.length;Ke++)(tt=De._frames[Ke])&&(kt||String(tt.group)===String(Ae))&&ct.push({type:"byname",name:String(tt.name),data:gt({name:tt.name})});else if(Dt)for(Ke=0;Ke<Ae.length;Ke++){var vt=Ae[Ke];-1!==["number","string"].indexOf(typeof vt)?(vt=String(vt),ct.push({type:"byname",name:vt,data:gt({name:vt})})):S.isPlainObject(vt)&&ct.push({type:"object",data:gt(S.extendFlat({},vt))})}}else ct.push({type:"object",data:gt(S.extendFlat({},Ae))});for(Ke=0;Ke<ct.length;Ke++)if("byname"===(tt=ct[Ke]).type&&!De._frameHash[tt.data.name])return S.warn('animate failure: frame not found: "'+tt.data.name+'"'),void We();-1!==["next","immediate"].indexOf(Ne.mode)&&function(){if(0!==De._frameQueue.length){for(;De._frameQueue.length;){var Rt=De._frameQueue.pop();Rt.onInterrupt&&Rt.onInterrupt()}ce.emit("plotly_animationinterrupted",[])}}(),"reverse"===Ne.direction&&ct.reverse();var mt=ce._fullLayout._currentFrame;if(mt&&Ne.fromcurrent){var Et=-1;for(Ke=0;Ke<ct.length;Ke++)if("byname"===(tt=ct[Ke]).type&&tt.name===mt){Et=Ke;break}if(Et>0&&Et<ct.length-1){var Lt=[];for(Ke=0;Ke<ct.length;Ke++)tt=ct[Ke],("byname"!==ct[Ke].type||Ke>Et)&&Lt.push(tt);ct=Lt}}ct.length>0?function(Rt){if(0!==Rt.length){for(var Ut=0;Ut<Rt.length;Ut++){var Bt;Bt="byname"===Rt[Ut].type?a.computeFrame(ce,Rt[Ut].name):Rt[Ut].data;var rt=Pe(Ut),ot=_e(Ut);ot.duration=Math.min(ot.duration,rt.duration);var Je={frame:Bt,name:Rt[Ut].name,frameOpts:rt,transitionOpts:ot};Ut===Rt.length-1&&(Je.onComplete=Ie(Be,2),Je.onInterrupt=We),De._frameQueue.push(Je)}"immediate"===Ne.mode&&(De._lastFrameAt=-1/0),De._animationRaf||function Ge(){ce.emit("plotly_animating"),De._lastFrameAt=-1/0,De._timeToNext=0,De._runningTransitions=0,De._currentFrame=null;var Rt=function(){De._animationRaf=window.requestAnimationFrame(Rt),Date.now()-De._lastFrameAt>De._timeToNext&&function(){De._currentFrame&&De._currentFrame.onComplete&&De._currentFrame.onComplete();var Ut=De._currentFrame=De._frameQueue.shift();if(Ut){var Bt=Ut.name?Ut.name.toString():null;ce._fullLayout._currentFrame=Bt,De._lastFrameAt=Date.now(),De._timeToNext=Ut.frameOpts.duration,a.transition(ce,Ut.frame.data,Ut.frame.layout,g.coerceTraceIndices(ce,Ut.frame.traces),Ut.frameOpts,Ut.transitionOpts).then(function(){Ut.onComplete&&Ut.onComplete()}),ce.emit("plotly_animatingframe",{name:Bt,frame:Ut.frame,animation:{frame:Ut.frameOpts,transition:Ut.transitionOpts}})}else ce.emit("plotly_animated"),window.cancelAnimationFrame(De._animationRaf),De._animationRaf=null}()};Rt()}()}}(ct):(ce.emit("plotly_animated"),Be())})},j.addFrames=function(ce,Ae,Ne){if(ce=S.getGraphDiv(ce),null==Ae)return Promise.resolve();if(!S.isPlotDiv(ce))throw new Error("This element is not a Plotly plot: "+ce+". It's likely that you've failed to create a plot before adding frames. For more details, see https://plotly.com/javascript/animations/");var De,Ue,Ye,_e,Pe=ce._transitionData._frames,Ie=ce._transitionData._frameHash;if(!Array.isArray(Ae))throw new Error("addFrames failure: frameList must be an Array of frame definitions"+Ae);var Be=Pe.length+2*Ae.length,We=[],Ge={};for(De=Ae.length-1;De>=0;De--)if(S.isPlainObject(Ae[De])){var Ke=Ae[De].name,tt=(Ie[Ke]||Ge[Ke]||{}).name,st=Ae[De].name;tt&&st&&"number"==typeof st&&(Ie[tt]||Ge[tt])&&A<5&&(A++,S.warn('addFrames: overwriting frame "'+(Ie[tt]||Ge[tt]).name+'" with a frame whose name of type "number" also equates to "'+tt+'". This is valid but may potentially lead to unexpected behavior since all plotly.js frame names are stored internally as strings.'),5===A&&S.warn("addFrames: This API call has yielded too many of these warnings. For the rest of this call, further warnings about numeric frame names will be suppressed.")),Ge[Ke]={name:Ke},We.push({frame:a.supplyFrameDefaults(Ae[De]),index:Ne&&null!=Ne[De]?Ne[De]:Be+De})}We.sort(function(Rt,Ut){return Rt.index>Ut.index?-1:Rt.index<Ut.index?1:0});var ct=[],kt=[],Dt=Pe.length;for(De=We.length-1;De>=0;De--){if("number"==typeof(Ue=We[De].frame).name&&S.warn("Warning: addFrames accepts frames with numeric names, but the numbers areimplicitly cast to strings"),!Ue.name)for(;Ie[Ue.name="frame "+ce._transitionData._counter++];);if(Ie[Ue.name]){for(Ye=0;Ye<Pe.length&&(Pe[Ye]||{}).name!==Ue.name;Ye++);ct.push({type:"replace",index:Ye,value:Ue}),kt.unshift({type:"replace",index:Ye,value:Pe[Ye]})}else _e=Math.max(0,Math.min(We[De].index,Dt)),ct.push({type:"insert",index:_e,value:Ue}),kt.unshift({type:"delete",index:_e}),Dt++}return u&&u.add(ce,a.modifyFrames,[ce,kt],a.modifyFrames,[ce,ct]),a.modifyFrames(ce,ct)},j.deleteFrames=function(ce,Ae){if(ce=S.getGraphDiv(ce),!S.isPlotDiv(ce))throw new Error("This element is not a Plotly plot: "+ce);var Ne,De,Ue=ce._transitionData._frames,Ye=[],_e=[];if(!Ae)for(Ae=[],Ne=0;Ne<Ue.length;Ne++)Ae.push(Ne);for((Ae=Ae.slice()).sort(),Ne=Ae.length-1;Ne>=0;Ne--)Ye.push({type:"delete",index:De=Ae[Ne]}),_e.unshift({type:"insert",index:De,value:Ue[De]});return u&&u.add(ce,a.modifyFrames,[ce,_e],a.modifyFrames,[ce,Ye]),a.modifyFrames(ce,Ye)},j.addTraces=function ce(Ae,Ne,De){Ae=S.getGraphDiv(Ae);var Ue,Ye,_e=[],Pe=j.deleteTraces,Ie=ce,Be=[Ae,_e],We=[Ae,Ne];for(function(Ge,Ke,tt){var st,gt;if(!Array.isArray(Ge.data))throw new Error("gd.data must be an array.");if(void 0===Ke)throw new Error("traces must be defined.");for(Array.isArray(Ke)||(Ke=[Ke]),st=0;st<Ke.length;st++)if("object"!=typeof(gt=Ke[st])||Array.isArray(gt)||null===gt)throw new Error("all values in traces array must be non-array objects");if(void 0===tt||Array.isArray(tt)||(tt=[tt]),void 0!==tt&&tt.length!==Ke.length)throw new Error("if indices is specified, traces.length must equal indices.length")}(Ae,Ne,De),Array.isArray(Ne)||(Ne=[Ne]),Ne=Ne.map(function(Ge){return S.extendFlat({},Ge)}),g.cleanData(Ne),Ue=0;Ue<Ne.length;Ue++)Ae.data.push(Ne[Ue]);for(Ue=0;Ue<Ne.length;Ue++)_e.push(-Ne.length+Ue);if(void 0===De)return Ye=j.redraw(Ae),u.add(Ae,Pe,Be,Ie,We),Ye;Array.isArray(De)||(De=[De]);try{N(Ae,_e,De)}catch(Ge){throw Ae.data.splice(Ae.data.length-Ne.length,Ne.length),Ge}return u.startSequence(Ae),u.add(Ae,Pe,Be,Ie,We),Ye=j.moveTraces(Ae,_e,De),u.stopSequence(Ae),Ye},j.deleteTraces=function ce(Ae,Ne){Ae=S.getGraphDiv(Ae);var De,Ue,Ye=[],_e=j.addTraces,Pe=ce,Ie=[Ae,Ye,Ne],Be=[Ae,Ne];if(void 0===Ne)throw new Error("indices must be an integer or array of integers.");for(Array.isArray(Ne)||(Ne=[Ne]),L(Ae,Ne,"indices"),(Ne=R(Ne,Ae.data.length-1)).sort(S.sorterDes),De=0;De<Ne.length;De+=1)Ue=Ae.data.splice(Ne[De],1)[0],Ye.push(Ue);var We=j.redraw(Ae);return u.add(Ae,_e,Ie,Pe,Be),We},j.extendTraces=function ce(Ae,Ne,De,Ue){var Ye=B(Ae=S.getGraphDiv(Ae),Ne,De,Ue,function(Ie,Be,We){var Ge,Ke;if(S.isTypedArray(Ie))if(We<0){var tt=new Ie.constructor(0),st=J(Ie,Be);We<0?(Ge=st,Ke=tt):(Ge=tt,Ke=st)}else if(Ge=new Ie.constructor(We),Ke=new Ie.constructor(Ie.length+Be.length-We),We===Be.length)Ge.set(Be),Ke.set(Ie);else if(We<Be.length){var gt=Be.length-We;Ge.set(Be.subarray(gt)),Ke.set(Ie),Ke.set(Be.subarray(0,gt),Ie.length)}else{var ct=We-Be.length,kt=Ie.length-ct;Ge.set(Ie.subarray(kt)),Ge.set(Be,ct),Ke.set(Ie.subarray(0,kt))}else Ge=Ie.concat(Be),Ke=We>=0&&We<Ge.length?Ge.splice(0,Ge.length-We):[];return[Ge,Ke]}),_e=j.redraw(Ae);return u.add(Ae,j.prependTraces,[Ae,Ye.update,De,Ye.maxPoints],ce,arguments),_e},j.moveTraces=function ce(Ae,Ne,De){var Ue,Ye=[],_e=[],Pe=ce,Ie=ce,Be=[Ae=S.getGraphDiv(Ae),De,Ne],We=[Ae,Ne,De];if(N(Ae,Ne,De),Ne=Array.isArray(Ne)?Ne:[Ne],void 0===De)for(De=[],Ue=0;Ue<Ne.length;Ue++)De.push(-Ne.length+Ue);for(De=Array.isArray(De)?De:[De],Ne=R(Ne,Ae.data.length-1),De=R(De,Ae.data.length-1),Ue=0;Ue<Ae.data.length;Ue++)-1===Ne.indexOf(Ue)&&Ye.push(Ae.data[Ue]);for(Ue=0;Ue<Ne.length;Ue++)_e.push({newIndex:De[Ue],trace:Ae.data[Ne[Ue]]});for(_e.sort(function(Ke,tt){return Ke.newIndex-tt.newIndex}),Ue=0;Ue<_e.length;Ue+=1)Ye.splice(_e[Ue].newIndex,0,_e[Ue].trace);Ae.data=Ye;var Ge=j.redraw(Ae);return u.add(Ae,Pe,Be,Ie,We),Ge},j.prependTraces=function ce(Ae,Ne,De,Ue){var Ye=B(Ae=S.getGraphDiv(Ae),Ne,De,Ue,function(Ie,Be,We){var Ge,Ke;if(S.isTypedArray(Ie))if(We<=0){var tt=new Ie.constructor(0),st=J(Be,Ie);We<0?(Ge=st,Ke=tt):(Ge=tt,Ke=st)}else if(Ge=new Ie.constructor(We),Ke=new Ie.constructor(Ie.length+Be.length-We),We===Be.length)Ge.set(Be),Ke.set(Ie);else if(We<Be.length){var gt=Be.length-We;Ge.set(Be.subarray(0,gt)),Ke.set(Be.subarray(gt)),Ke.set(Ie,gt)}else{var ct=We-Be.length;Ge.set(Be),Ge.set(Ie.subarray(0,ct),Be.length),Ke.set(Ie.subarray(ct))}else Ge=Be.concat(Ie),Ke=We>=0&&We<Ge.length?Ge.splice(We,Ge.length):[];return[Ge,Ke]}),_e=j.redraw(Ae);return u.add(Ae,j.extendTraces,[Ae,Ye.update,De,Ye.maxPoints],ce,arguments),_e},j.newPlot=function(ce,Ae,Ne,De){return ce=S.getGraphDiv(ce),a.cleanPlot([],{},ce._fullData||[],ce._fullLayout||{}),a.purge(ce),j._doPlot(ce,Ae,Ne,De)},j._doPlot=function(ce,Ae,Ne,De){var Ue;if(ce=S.getGraphDiv(ce),y.init(ce),S.isPlainObject(Ae)){var Ye=Ae;Ae=Ye.data,Ne=Ye.layout,De=Ye.config,Ue=Ye.frames}if(!1===y.triggerHandler(ce,"plotly_beforeplot",[Ae,Ne,De]))return Promise.reject();Ae||Ne||S.isPlotDiv(ce)||S.warn("Calling _doPlot as if redrawing but this container doesn't yet have a plot.",ce),P(ce,De),Ne||(Ne={}),I.select(ce).classed("js-plotly-plot",!0),l.makeTester(),Array.isArray(ce._promises)||(ce._promises=[]);var _e=0===(ce.data||[]).length&&Array.isArray(Ae);Array.isArray(Ae)&&(g.cleanData(Ae),_e?ce.data=Ae:ce.data.push.apply(ce.data,Ae),ce.empty=!1),ce.layout&&!_e||(ce.layout=g.cleanLayout(Ne)),a.supplyDefaults(ce);var Pe=ce._fullLayout,Ie=Pe._has("cartesian");Pe._replotting=!0,(_e||Pe._shouldCreateBgLayer)&&(function(kt){var Dt=I.select(kt),vt=kt._fullLayout;if(vt._calcInverseTransform=de,vt._calcInverseTransform(kt),vt._container=Dt.selectAll(".plot-container").data([0]),vt._container.enter().insert("div",":first-child").classed("plot-container",!0).classed("plotly",!0),vt._paperdiv=vt._container.selectAll(".svg-container").data([0]),vt._paperdiv.enter().append("div").classed("user-select-none",!0).classed("svg-container",!0).style("position","relative"),vt._glcontainer=vt._paperdiv.selectAll(".gl-container").data([{}]),vt._glcontainer.enter().append("div").classed("gl-container",!0),vt._paperdiv.selectAll(".main-svg").remove(),vt._paperdiv.select(".modebar-container").remove(),vt._paper=vt._paperdiv.insert("svg",":first-child").classed("main-svg",!0),vt._toppaper=vt._paperdiv.append("svg").classed("main-svg",!0),vt._modebardiv=vt._paperdiv.append("div"),delete vt._modeBar,vt._hoverpaper=vt._paperdiv.append("svg").classed("main-svg",!0),!vt._uid){var mt={};I.selectAll("defs").each(function(){this.id&&(mt[this.id.split("-")[1]]=1)}),vt._uid=S.randstr(mt)}vt._paperdiv.selectAll(".main-svg").attr(v.svgAttrs),vt._defs=vt._paper.append("defs").attr("id","defs-"+vt._uid),vt._clips=vt._defs.append("g").classed("clips",!0),vt._topdefs=vt._toppaper.append("defs").attr("id","topdefs-"+vt._uid),vt._topclips=vt._topdefs.append("g").classed("clips",!0),vt._bgLayer=vt._paper.append("g").classed("bglayer",!0),vt._draggers=vt._paper.append("g").classed("draglayer",!0);var Et=vt._paper.append("g").classed("layer-below",!0);vt._imageLowerLayer=Et.append("g").classed("imagelayer",!0),vt._shapeLowerLayer=Et.append("g").classed("shapelayer",!0),vt._cartesianlayer=vt._paper.append("g").classed("cartesianlayer",!0),vt._polarlayer=vt._paper.append("g").classed("polarlayer",!0),vt._smithlayer=vt._paper.append("g").classed("smithlayer",!0),vt._ternarylayer=vt._paper.append("g").classed("ternarylayer",!0),vt._geolayer=vt._paper.append("g").classed("geolayer",!0),vt._funnelarealayer=vt._paper.append("g").classed("funnelarealayer",!0),vt._pielayer=vt._paper.append("g").classed("pielayer",!0),vt._iciclelayer=vt._paper.append("g").classed("iciclelayer",!0),vt._treemaplayer=vt._paper.append("g").classed("treemaplayer",!0),vt._sunburstlayer=vt._paper.append("g").classed("sunburstlayer",!0),vt._indicatorlayer=vt._toppaper.append("g").classed("indicatorlayer",!0),vt._glimages=vt._paper.append("g").classed("glimages",!0);var Lt=vt._toppaper.append("g").classed("layer-above",!0);vt._imageUpperLayer=Lt.append("g").classed("imagelayer",!0),vt._shapeUpperLayer=Lt.append("g").classed("shapelayer",!0),vt._selectionLayer=vt._toppaper.append("g").classed("selectionlayer",!0),vt._infolayer=vt._toppaper.append("g").classed("infolayer",!0),vt._menulayer=vt._toppaper.append("g").classed("menulayer",!0),vt._zoomlayer=vt._toppaper.append("g").classed("zoomlayer",!0),vt._hoverlayer=vt._hoverpaper.append("g").classed("hoverlayer",!0),vt._modebardiv.classed("modebar-container",!0).style("position","absolute").style("top","0px").style("right","0px"),kt.emit("plotly_framework")}(ce),Pe._shouldCreateBgLayer&&delete Pe._shouldCreateBgLayer),l.initGradients(ce),l.initPatterns(ce),_e&&o.saveShowSpikeInitial(ce);var Be=!ce.calcdata||ce.calcdata.length!==(ce._fullData||[]).length;Be&&a.doCalcdata(ce);for(var We=0;We<ce.calcdata.length;We++)ce.calcdata[We][0].trace=ce._fullData[We];ce._context.responsive?ce._responsiveChartHandler||(ce._responsiveChartHandler=function(){S.isHidden(ce)||a.resize(ce)},window.addEventListener("resize",ce._responsiveChartHandler)):S.clearResponsive(ce);var Ge=S.extendFlat({},Pe._size),Ke=0;function tt(){if(a.clearAutoMarginIds(ce),w.drawMarginPushers(ce),o.allowAutoMargin(ce),ce._fullLayout.title.text&&ce._fullLayout.title.automargin&&a.allowAutoMargin(ce,"title.automargin"),Pe._has("pie"))for(var kt=ce._fullData,Dt=0;Dt<kt.length;Dt++){var vt=kt[Dt];"pie"===vt.type&&vt.automargin&&a.allowAutoMargin(ce,"pie."+vt.uid+".automargin")}return a.doAutoMargin(ce),a.previousPromises(ce)}function st(){ce._transitioning||(w.doAutoRangeAndConstraints(ce),_e&&o.saveRangeInitial(ce),i.getComponentMethod("rangeslider","calcAutorange")(ce))}var gt=[a.previousPromises,function(){if(Ue)return j.addFrames(ce,Ue)},function kt(){for(var Dt=Pe._basePlotModules,vt=0;vt<Dt.length;vt++)Dt[vt].drawFramework&&Dt[vt].drawFramework(ce);!Pe._glcanvas&&Pe._has("gl")&&(Pe._glcanvas=Pe._glcontainer.selectAll(".gl-canvas").data([{key:"contextLayer",context:!0,pick:!1},{key:"focusLayer",context:!1,pick:!1},{key:"pickLayer",context:!1,pick:!0}],function(Rt){return Rt.key}),Pe._glcanvas.enter().append("canvas").attr("class",function(Rt){return"gl-canvas gl-canvas-"+Rt.key.replace("Layer","")}).style({position:"absolute",top:0,left:0,overflow:"visible","pointer-events":"none"}));var mt=ce._context.plotGlPixelRatio;if(Pe._glcanvas){Pe._glcanvas.attr("width",Pe.width*mt).attr("height",Pe.height*mt).style("width",Pe.width+"px").style("height",Pe.height+"px");var Et=Pe._glcanvas.data()[0].regl;if(Et&&(Math.floor(Pe.width*mt)!==Et._gl.drawingBufferWidth||Math.floor(Pe.height*mt)!==Et._gl.drawingBufferHeight)){var Lt="WebGL context buffer and canvas dimensions do not match due to browser/WebGL bug.";if(!Ke)return S.log(Lt+" Clearing graph and plotting again."),a.cleanPlot([],{},ce._fullData,Pe),a.supplyDefaults(ce),Pe=ce._fullLayout,a.doCalcdata(ce),Ke++,kt();S.error(Lt)}}return"h"===Pe.modebar.orientation?Pe._modebardiv.style("height",null).style("width","100%"):Pe._modebardiv.style("width",null).style("height",Pe.height+"px"),a.previousPromises(ce)},tt,function(){if(a.didMarginChange(Ge,Pe._size))return S.syncOrAsync([tt,w.layoutStyles],ce)}];Ie&&gt.push(function(){if(Be)return S.syncOrAsync([i.getComponentMethod("shapes","calcAutorange"),i.getComponentMethod("annotations","calcAutorange"),st],ce);st()}),gt.push(w.layoutStyles),Ie&&gt.push(function(){return o.draw(ce,_e?"":"redraw")},function(kt){kt._fullLayout._insideTickLabelsAutorange&&se(kt,kt._fullLayout._insideTickLabelsAutorange).then(function(){kt._fullLayout._insideTickLabelsAutorange=void 0})}),gt.push(w.drawData,w.finalDraw,h,a.addLinks,a.rehover,a.redrag,a.reselect,a.doAutoMargin,function(kt){kt._fullLayout._insideTickLabelsAutorange&&_e&&o.saveRangeInitial(kt,!0)},a.previousPromises);var ct=S.syncOrAsync(gt,ce);return ct&&ct.then||(ct=Promise.resolve()),ct.then(function(){return m(ce),ce})},j.purge=function(ce){var Ae=(ce=S.getGraphDiv(ce))._fullLayout||{};return a.cleanPlot([],{},ce._fullData||[],Ae),a.purge(ce),y.purge(ce),Ae._container&&Ae._container.remove(),delete ce._context,ce},j.react=function(ce,Ae,Ne,De){var Ue,Ye;ce=S.getGraphDiv(ce),g.clearPromiseQueue(ce);var it,dt,ht,Ve,qe,ut,_e=ce._fullData,Pe=ce._fullLayout;if(S.isPlotDiv(ce)&&_e&&Pe){if(S.isPlainObject(Ae)){var Ie=Ae;Ae=Ie.data,Ne=Ie.layout,De=Ie.config,Ue=Ie.frames}var Be=!1;if(De){var We=S.extendDeep({},ce._context);ce._context=void 0,P(ce,De),Be=me(We,ce._context)}ce.data=Ae||[],g.cleanData(ce.data),ce.layout=Ne||{},g.cleanLayout(ce.layout),function(it,dt,ht,Ve){var qe,ut,ft,St,Mt,Tt,xt,Nt,bt,wt,It=Ve._preGUI,Wt=[],Yt={},Zt={};for(qe in It){if(Mt=Te(qe,xe)){if(bt=Mt.head,wt=Mt.tail,(St=(ft=M(Ve,ut=Mt.attr||bt+".uirevision").get())&&ye(ut,dt))&&St===ft){if(null===(Tt=It[qe])&&(Tt=void 0),ke(Nt=(xt=M(dt,qe)).get(),Tt)){void 0===Nt&&"autorange"===wt&&Wt.push(bt),xt.set(Y(M(Ve,qe).get()));continue}if("autorange"===wt||"range["===wt.substr(0,6)){var un=It[bt+".autorange"];if(un||null===un&&null===It[bt+".range[0]"]&&null===It[bt+".range[1]"]){if(!(bt in Yt)){var rn=M(dt,bt).get();Yt[bt]=rn&&(rn.autorange||!1!==rn.autorange&&(!rn.range||2!==rn.range.length))}if(Yt[bt]){xt.set(Y(M(Ve,qe).get()));continue}}}}}else S.warn("unrecognized GUI edit: "+qe);delete It[qe],Mt&&"range["===Mt.tail.substr(0,6)&&(Zt[Mt.head]=1)}for(var kn=0;kn<Wt.length;kn++){var Pn=Wt[kn];if(Zt[Pn]){var Sn=M(dt,Pn).get();Sn&&delete Sn.autorange}}var en=Ve._tracePreGUI;for(var vn in en){var hn,yn=en[vn],Cn=null;for(qe in yn){if(!Cn){var _n=we(vn,ht);if(_n<0){delete en[vn];break}var Un=ze(vn,it,(hn=ht[_n]._fullInput).index);if(Un<0){delete en[vn];break}Cn=it[Un]}if(Mt=Te(qe,Se)){if(Mt.attr?St=(ft=M(Ve,Mt.attr).get())&&ye(Mt.attr,dt):(ft=hn.uirevision,void 0===(St=Cn.uirevision)&&(St=dt.uirevision)),St&&St===ft&&(null===(Tt=yn[qe])&&(Tt=void 0),ke(Nt=(xt=M(Cn,qe)).get(),Tt))){xt.set(Y(M(hn,qe).get()));continue}}else S.warn("unrecognized GUI edit: "+qe+" in trace uid "+vn);delete yn[qe]}}}(ce.data,ce.layout,_e,Pe),a.supplyDefaults(ce,{skipUpdateCalc:!0});var Ge=ce._fullData,Ke=ce._fullLayout,tt=void 0===Ke.datarevision,st=Ke.transition,gt=(it=ce,dt=Pe,ht=Ke,Ve=tt,qe=st,(ut=x.layoutFlags()).arrays={},ut.rangesAltered={},ut.nChanges=0,ut.nChangesAnim=0,Ee(dt,ht,[],{getValObject:function(ft){return s.getLayoutValObject(ht,ft)},flags:ut,immutable:Ve,transition:qe,gd:it}),(ut.plot||ut.calc)&&(ut.layoutReplot=!0),qe&&ut.nChanges&&ut.nChangesAnim&&(ut.anim=ut.nChanges===ut.nChangesAnim?"all":"some"),ut),kt=function(it,dt,ht,Ve,qe,ut){var ft=dt.length===ht.length;if(!qe&&!ft)return{fullReplot:!0,calc:!0};var St,Mt,Tt=x.traceFlags();Tt.arrays={},Tt.nChanges=0,Tt.nChangesAnim=0;var xt={getValObject:function(bt){var wt=s.getTraceValObject(Mt,bt);return!Mt._module.animatable&&wt.anim&&(wt.anim=!1),wt},flags:Tt,immutable:Ve,transition:qe,newDataRevision:ut,gd:it},Nt={};for(St=0;St<dt.length;St++)if(ht[St]){if(a.hasMakesDataTransform(Mt=ht[St]._fullInput)&&(Mt=ht[St]),Nt[Mt.uid])continue;Nt[Mt.uid]=1,Ee(dt[St]._fullInput,Mt,[],xt)}return(Tt.calc||Tt.plot)&&(Tt.fullReplot=!0),qe&&Tt.nChanges&&Tt.nChangesAnim&&(Tt.anim=Tt.nChanges===Tt.nChangesAnim&&ft?"all":"some"),Tt}(ce,_e,Ge,tt,st,gt.newDataRevision);if(he(ce)&&(gt.layoutReplot=!0),kt.calc||gt.calc){ce.calcdata=void 0;for(var Dt=Object.getOwnPropertyNames(Ke),vt=0;vt<Dt.length;vt++){var mt=Dt[vt],Et=mt.substring(0,5);if("xaxis"===Et||"yaxis"===Et){var Lt=Ke[mt]._emptyCategories;Lt&&Lt()}}}else a.supplyDefaultsUpdateCalc(ce.calcdata,Ge);var Rt=[];if(Ue&&(ce._transitionData={},a.createTransitionData(ce),Rt.push(function(){return j.addFrames(ce,Ue)})),Ke.transition&&!Be&&(kt.anim||gt.anim))gt.ticks&&Rt.push(w.doTicksRelayout),a.doCalcdata(ce),w.doAutoRangeAndConstraints(ce),Rt.push(function(){return a.transitionFromReact(ce,kt,gt,Pe)});else if(kt.fullReplot||gt.layoutReplot||Be)ce._fullLayout._skipDefaults=!0,Rt.push(j._doPlot);else{for(var Ut in gt.arrays){var Bt=gt.arrays[Ut];if(Bt.length){var rt=i.getComponentMethod(Ut,"drawOne");if(rt!==S.noop)for(var ot=0;ot<Bt.length;ot++)rt(ce,Bt[ot]);else{var Je=i.getComponentMethod(Ut,"draw");if(Je===S.noop)throw new Error("cannot draw components: "+Ut);Je(ce)}}}Rt.push(a.previousPromises),kt.style&&Rt.push(w.doTraceStyle),(kt.colorbars||gt.colorbars)&&Rt.push(w.doColorBars),gt.legend&&Rt.push(w.doLegend),gt.layoutstyle&&Rt.push(w.layoutStyles),gt.axrange&&ee(Rt),gt.ticks&&Rt.push(w.doTicksRelayout),gt.modebar&&Rt.push(w.doModeBar),gt.camera&&Rt.push(w.doCamera),Rt.push(m)}Rt.push(a.rehover,a.redrag,a.reselect),(Ye=S.syncOrAsync(Rt,ce))&&Ye.then||(Ye=Promise.resolve(ce))}else Ye=j.newPlot(ce,Ae,Ne,De);return Ye.then(function(){return ce.emit("plotly_react",{data:Ae,layout:Ne}),ce})},j.redraw=function(ce){if(ce=S.getGraphDiv(ce),!S.isPlotDiv(ce))throw new Error("This element is not a Plotly plot: "+ce);return g.cleanData(ce.data),g.cleanLayout(ce.layout),ce.calcdata=void 0,j._doPlot(ce).then(function(){return ce.emit("plotly_redraw"),ce})},j.relayout=se,j.restyle=z,j.setPlotConfig=function(ce){return S.extendFlat(T,ce)},j.update=pe,j._guiRelayout=ge(se),j._guiRestyle=ge(z),j._guiUpdate=ge(pe),j._storeDirectGUIEdit=function(ce,Ae,Ne){for(var De in Ne)U(De,M(ce,De).get(),Ne[De],Ae)}},72075:function(oe){"use strict";var j={staticPlot:{valType:"boolean",dflt:!1},typesetMath:{valType:"boolean",dflt:!0},plotlyServerURL:{valType:"string",dflt:""},editable:{valType:"boolean",dflt:!1},edits:{annotationPosition:{valType:"boolean",dflt:!1},annotationTail:{valType:"boolean",dflt:!1},annotationText:{valType:"boolean",dflt:!1},axisTitleText:{valType:"boolean",dflt:!1},colorbarPosition:{valType:"boolean",dflt:!1},colorbarTitleText:{valType:"boolean",dflt:!1},legendPosition:{valType:"boolean",dflt:!1},legendText:{valType:"boolean",dflt:!1},shapePosition:{valType:"boolean",dflt:!1},titleText:{valType:"boolean",dflt:!1}},editSelection:{valType:"boolean",dflt:!0},autosizable:{valType:"boolean",dflt:!1},responsive:{valType:"boolean",dflt:!1},fillFrame:{valType:"boolean",dflt:!1},frameMargins:{valType:"number",dflt:0,min:0,max:.5},scrollZoom:{valType:"flaglist",flags:["cartesian","gl3d","geo","mapbox"],extras:[!0,!1],dflt:"gl3d+geo+mapbox"},doubleClick:{valType:"enumerated",values:[!1,"reset","autosize","reset+autosize"],dflt:"reset+autosize"},doubleClickDelay:{valType:"number",dflt:300,min:0},showAxisDragHandles:{valType:"boolean",dflt:!0},showAxisRangeEntryBoxes:{valType:"boolean",dflt:!0},showTips:{valType:"boolean",dflt:!0},showLink:{valType:"boolean",dflt:!1},linkText:{valType:"string",dflt:"Edit chart",noBlank:!0},sendData:{valType:"boolean",dflt:!0},showSources:{valType:"any",dflt:!1},displayModeBar:{valType:"enumerated",values:["hover",!0,!1],dflt:"hover"},showSendToCloud:{valType:"boolean",dflt:!1},showEditInChartStudio:{valType:"boolean",dflt:!1},modeBarButtonsToRemove:{valType:"any",dflt:[]},modeBarButtonsToAdd:{valType:"any",dflt:[]},modeBarButtons:{valType:"any",dflt:!1},toImageButtonOptions:{valType:"any",dflt:{}},displaylogo:{valType:"boolean",dflt:!0},watermark:{valType:"boolean",dflt:!1},plotGlPixelRatio:{valType:"number",dflt:2,min:1,max:4},setBackground:{valType:"any",dflt:"transparent"},topojsonURL:{valType:"string",noBlank:!0,dflt:"https://cdn.plot.ly/"},mapboxAccessToken:{valType:"string",dflt:null},logging:{valType:"integer",min:0,max:2,dflt:1},notifyOnLogging:{valType:"integer",min:0,max:2,dflt:0},queueLength:{valType:"integer",min:0,dflt:0},globalTransforms:{valType:"any",dflt:[]},locale:{valType:"string",dflt:"en-US"},locales:{valType:"any",dflt:{}}},r={};(function I(E,f){for(var S in E){var M=E[S];M.valType?f[S]=M.dflt:(f[S]||(f[S]={}),I(M,f[S]))}})(j,r),oe.exports={configAttributes:j,dfltConfig:r}},86281:function(oe,j,r){"use strict";var I=r(73972),E=r(71828),f=r(9012),S=r(10820),M=r(31391),y=r(85594),u=r(72075).configAttributes,i=r(30962),s=E.extendDeepAll,a=E.isPlainObject,o=E.isArrayOrTypedArray,l=E.nestedProperty,c=E.valObjectMeta,h="_isSubplotObj",v="_isLinkedToArray",p="_deprecated",T=[h,v,"_arrayAttrRegexps",p];function _(m,C,k){if(!m)return!1;if(m._isLinkedToArray)if(g(C[k]))k++;else if(k<C.length)return!1;for(;k<C.length;k++){var P=m[C[k]];if(!a(P)||(m=P,k===C.length-1))break;if(m._isLinkedToArray){if(!g(C[++k]))return!1}else if("info_array"===m.valType){var R=C[++k];if(!g(R))return!1;var L=m.items;if(Array.isArray(L)){if(R>=L.length)return!1;if(2===m.dimensions){if(k++,C.length===k)return m;var N=C[k];if(!g(N))return!1;m=L[R][N]}else m=L[R]}else m=L}}return m}function g(m){return m===Math.round(m)&&m>=0}function w(){var m,C,k={};for(m in s(k,S),I.subplotsRegistry)if((C=I.subplotsRegistry[m]).layoutAttributes)if(Array.isArray(C.attr))for(var P=0;P<C.attr.length;P++)b(k,C,C.attr[P]);else b(k,C,"subplot"===C.attr?C.name:C.attr);for(m in I.componentsRegistry){var R=(C=I.componentsRegistry[m]).schema;if(R&&(R.subplots||R.layout)){var L=R.subplots;if(L&&L.xaxis&&!L.yaxis)for(var N in L.xaxis)delete k.yaxis[N];delete k.xaxis.shift,delete k.xaxis.autoshift}else"colorscale"===C.name?s(k,C.layoutAttributes):C.layoutAttributes&&A(k,C.layoutAttributes,C.name)}return{layoutAttributes:x(k)}}function x(m){return j.crawl(m,function(k,P,R){j.isValObject(k)?!0!==k.arrayOk&&"data_array"!==k.valType||(R[P+"src"]={valType:"string",editType:"none"}):a(k)&&(k.role="object")}),j.crawl(m,function(k,P,R){if(k){var L=k[v];L&&(delete k[v],R[P]={items:{}},R[P].items[L]=k,R[P].role="object")}}),function(C){!function k(P){for(var R in P)if(a(P[R]))k(P[R]);else if(Array.isArray(P[R]))for(var L=0;L<P[R].length;L++)k(P[R][L]);else P[R]instanceof RegExp&&(P[R]=P[R].toString())}(C)}(m),m}function b(m,C,k){var P=l(m,k),R=s({},C.layoutAttributes);R[h]=!0,P.set(R)}function A(m,C,k){var P=l(m,k);P.set(s(P.get()||{},C))}j.IS_SUBPLOT_OBJ=h,j.IS_LINKED_TO_ARRAY=v,j.DEPRECATED=p,j.UNDERSCORE_ATTRS=T,j.get=function(){var m={};I.allTypes.forEach(function(P){m[P]=function(R){var L,N;N=(L=I.modules[R]._module).basePlotModule;var B={type:null},J=s({},f),z=s({},L.attributes);j.crawl(z,function(U,Z,X,se,re){l(J,re).set(void 0),void 0===U&&l(z,re).set(void 0)}),s(B,J),I.traceIs(R,"noOpacity")&&delete B.opacity,I.traceIs(R,"showLegend")||(delete B.showlegend,delete B.legendgroup),I.traceIs(R,"noHover")&&(delete B.hoverinfo,delete B.hoverlabel),L.selectPoints||delete B.selectedpoints,s(B,z),N.attributes&&s(B,N.attributes),B.type=R;var Y={meta:L.meta||{},categories:L.categories||{},animatable:!!L.animatable,type:R,attributes:x(B)};if(L.layoutAttributes){var q={};s(q,L.layoutAttributes),Y.layoutAttributes=x(q)}return L.animatable||j.crawl(Y,function(U){j.isValObject(U)&&"anim"in U&&delete U.anim}),Y}(P)});var C,k={};return Object.keys(I.transformsRegistry).forEach(function(P){var R,N;k[P]=(N=s({},I.transformsRegistry[R=P].attributes),Object.keys(I.componentsRegistry).forEach(function(B){var J=I.componentsRegistry[B];J.schema&&J.schema.transforms&&J.schema.transforms[R]&&Object.keys(J.schema.transforms[R]).forEach(function(z){A(N,J.schema.transforms[R][z],z)})}),{attributes:x(N)})}),{defs:{valObjects:c,metaKeys:T.concat(["description","role","editType","impliedEdits"]),editType:{traces:i.traces,layout:i.layout},impliedEdits:{}},traces:m,layout:w(),transforms:k,frames:(C={frames:s({},M)},x(C),C.frames),animation:x(y),config:x(u)}},j.crawl=function(m,C,k,P){var R=k||0;P=P||"",Object.keys(m).forEach(function(L){var N=m[L];if(-1===T.indexOf(L)){var B=(P?P+".":"")+L;C(N,L,m,R,B),j.isValObject(N)||a(N)&&"impliedEdits"!==L&&j.crawl(N,C,R+1,B)}})},j.isValObject=function(m){return m&&void 0!==m.valType},j.findArrayAttributes=function(m){var C,k,P=[],R=[],L=[];function N(U,Z,X,se){R=R.slice(0,se).concat([Z]),L=L.slice(0,se).concat([U&&U._isLinkedToArray]),U&&("data_array"===U.valType||!0===U.arrayOk)&&("colorbar"!==R[se-1]||"ticktext"!==Z&&"tickvals"!==Z)&&B(C,0,"")}function B(U,Z,X){var se=U[R[Z]],re=X+R[Z];if(Z===R.length-1)o(se)&&P.push(k+re);else if(L[Z]){if(Array.isArray(se))for(var ee=0;ee<se.length;ee++)a(se[ee])&&B(se[ee],Z+1,re+"["+ee+"].")}else a(se)&&B(se,Z+1,re+".")}C=m,k="",j.crawl(f,N),m._module&&m._module.attributes&&j.crawl(m._module.attributes,N);var J=m.transforms;if(J)for(var z=0;z<J.length;z++){var Y=J[z],q=Y._module;q&&(k="transforms["+z+"].",C=Y,j.crawl(q.attributes,N))}return P},j.getTraceValObject=function(m,C){var k,P,R=C[0],L=1;if("transforms"===R){if(1===C.length)return f.transforms;var N=m.transforms;if(!Array.isArray(N)||!N.length)return!1;var B=C[1];if(!g(B)||B>=N.length)return!1;P=(k=(I.transformsRegistry[N[B].type]||{}).attributes)&&k[C[2]],L=3}else{var J=m._module;if(J||(J=(I.modules[m.type||f.type.dflt]||{})._module),!J)return!1;if(!(P=(k=J.attributes)&&k[R])){var z=J.basePlotModule;z&&z.attributes&&(P=z.attributes[R])}P||(P=f[R])}return _(P,C,L)},j.getLayoutValObject=function(m,C){return _(function(P,R){var L,N,B,J,z=P._basePlotModules;if(z){var Y;for(L=0;L<z.length;L++){if((B=z[L]).attrRegex&&B.attrRegex.test(R)){if(B.layoutAttrOverrides)return B.layoutAttrOverrides;!Y&&B.layoutAttributes&&(Y=B.layoutAttributes)}var q=B.baseLayoutAttrOverrides;if(q&&R in q)return q[R]}if(Y)return Y}var U=P._modules;if(U)for(L=0;L<U.length;L++)if((J=U[L].layoutAttributes)&&R in J)return J[R];for(N in I.componentsRegistry){if("colorscale"===(B=I.componentsRegistry[N]).name&&0===R.indexOf("coloraxis"))return B.layoutAttributes[R];if(!B.schema&&R===B.name)return B.layoutAttributes}return R in S&&S[R]}(m,C[0]),C,1)}},44467:function(oe,j,r){"use strict";var I=r(71828),E=r(9012),f="templateitemname",S={name:{valType:"string",editType:"none"}};function M(u){return u&&"string"==typeof u}function y(u){return"s"!==u.charAt(u.length-1)&&I.warn("bad argument to arrayDefaultKey: "+u),u.substr(0,u.length-1)+"defaults"}S[f]={valType:"string",editType:"calc"},j.templatedArray=function(u,i){return i._isLinkedToArray=u,i.name=S.name,i[f]=S[f],i},j.traceTemplater=function(u){var i,s,a={};for(i in u)s=u[i],Array.isArray(s)&&s.length&&(a[i]=0);return{newTrace:function(o){var l={type:i=I.coerce(o,{},E,"type"),_template:null};if(i in a){var c=a[i]%(s=u[i]).length;a[i]++,l._template=s[c]}return l}}},j.newContainer=function(u,i,s){var a=u._template,o=a&&(a[i]||s&&a[s]);return I.isPlainObject(o)||(o=null),u[i]={_template:o}},j.arrayTemplater=function(u,i,s){var a=u._template,o=a&&a[y(i)],l=a&&a[i];Array.isArray(l)&&l.length||(l=[]);var c={};return{newItem:function(h){var v={name:h.name,_input:h},p=v[f]=h[f];if(!M(p))return v._template=o,v;for(var T=0;T<l.length;T++){var _=l[T];if(_.name===p)return c[p]=1,v._template=_,v}return v[s]=h[s]||!1,v._template=!1,v},defaultItems:function(){for(var h=[],v=0;v<l.length;v++){var p=l[v],T=p.name;if(M(T)&&!c[T]){var _={_template:p,name:T,_input:{_templateitemname:T}};_[f]=p[f],h.push(_),c[T]=1}}return h}}},j.arrayDefaultKey=y,j.arrayEditor=function(u,i,s){var a=(I.nestedProperty(u,i).get()||[]).length,o=s._index,l=o>=a&&(s._input||{})._templateitemname;l&&(o=a);var c,h=i+"["+o+"]";function v(){c={},l&&(c[h]={},c[h][f]=l)}function p(_,g){l?I.nestedProperty(c[h],_).set(g):c[h+"."+_]=g}function T(){var _=c;return v(),_}return v(),{modifyBase:function(_,g){c[_]=g},modifyItem:p,getUpdateObj:T,applyUpdate:function(_,g){_&&p(_,g);var w=T();for(var x in w)I.nestedProperty(u,x).set(w[x])}}}},61549:function(oe,j,r){"use strict";var I=r(39898),E=r(73972),f=r(74875),S=r(71828),M=r(63893),y=r(33306),u=r(7901),i=r(91424),s=r(92998),a=r(64168),o=r(89298),l=r(18783),c=r(99082),h=c.enforce,v=c.clean,p=r(71739).doAutoRange,T="start";function _(A,m,C){for(var k=0;k<C.length;k++){var P=C[k][0],R=C[k][1];if(!(P[0]>=A[1]||P[1]<=A[0])&&R[0]<m[1]&&R[1]>m[0])return!0}return!1}function g(A){var m,C,k,P,R,L,N=A._fullLayout,B=N._size,J=B.p,z=o.list(A,"",!0);if(N._paperdiv.style({width:A._context.responsive&&N.autosize&&!A._context._hasZeroWidth&&!A.layout.width?"100%":N.width+"px",height:A._context.responsive&&N.autosize&&!A._context._hasZeroHeight&&!A.layout.height?"100%":N.height+"px"}).selectAll(".main-svg").call(i.setSize,N.width,N.height),A._context.setBackground(A,N.paper_bgcolor),j.drawMainTitle(A),a.manage(A),!N._has("cartesian"))return f.previousPromises(A);function Y(Ge,Ke,tt){var st=Ge._lw/2;return"x"===Ge._id.charAt(0)?Ke?"top"===tt?Ke._offset-J-st:Ke._offset+Ke._length+J+st:B.t+B.h*(1-(Ge.position||0))+st%1:Ke?"right"===tt?Ke._offset+Ke._length+J+st:Ke._offset-J-st:B.l+B.w*(Ge.position||0)+st%1}for(m=0;m<z.length;m++){var q=(P=z[m])._anchorAxis;P._linepositions={},P._lw=i.crispRound(A,P.linewidth,1),P._mainLinePosition=Y(P,q,P.side),P._mainMirrorPosition=P.mirror&&q?Y(P,q,l.OPPOSITE_SIDE[P.side]):null}var U=[],Z=[],X=[],se=1===u.opacity(N.paper_bgcolor)&&1===u.opacity(N.plot_bgcolor)&&N.paper_bgcolor===N.plot_bgcolor;for(C in N._plots)if((k=N._plots[C]).mainplot)k.bg&&k.bg.remove(),k.bg=void 0;else{var re=k.xaxis.domain,ee=k.yaxis.domain,K=k.plotgroup;if(_(re,ee,X)){var ne=K.node(),ae=k.bg=S.ensureSingle(K,"rect","bg");ne.insertBefore(ae.node(),ne.childNodes[0]),Z.push(C)}else K.select("rect.bg").remove(),X.push([re,ee]),se||(U.push(C),Z.push(C))}var ue,he,pe,ge,xe,Se,Te,ye,we,ze,ke,Ee,me,de=N._bgLayer.selectAll(".bg").data(U);for(de.enter().append("rect").classed("bg",!0),de.exit().remove(),de.each(function(Ge){N._plots[Ge].bg=I.select(this)}),m=0;m<Z.length;m++)R=(k=N._plots[Z[m]]).xaxis,L=k.yaxis,k.bg&&void 0!==R._offset&&void 0!==L._offset&&k.bg.call(i.setRect,R._offset-J,L._offset-J,R._length+2*J,L._length+2*J).call(u.fill,N.plot_bgcolor).style("stroke-width",0);if(!N._hasOnlyLargeSploms)for(C in N._plots){R=(k=N._plots[C]).xaxis,L=k.yaxis;var ce,Ae,Ne=k.clipId="clip"+N._uid+C+"plot",De=S.ensureSingleById(N._clips,"clipPath",Ne,function(Ge){Ge.classed("plotclip",!0).append("rect")});k.clipRect=De.select("rect").attr({width:R._length,height:L._length}),i.setTranslate(k.plot,R._offset,L._offset),k._hasClipOnAxisFalse?(ce=null,Ae=Ne):(ce=Ne,Ae=null),i.setClipUrl(k.plot,ce,A),k.layerClipId=Ae}function Ue(Ge){return"M"+ue+","+Ge+"H"+he}function Ye(Ge){return"M"+R._offset+","+Ge+"h"+R._length}function _e(Ge){return"M"+Ge+","+ye+"V"+Te}function Pe(Ge){return void 0!==L._shift&&(Ge+=L._shift),"M"+Ge+","+L._offset+"v"+L._length}function Ie(Ge,Ke,tt){if(!Ge.showline||C!==Ge._mainSubplot)return"";if(!Ge._anchorAxis)return tt(Ge._mainLinePosition);var st=Ke(Ge._mainLinePosition);return Ge.mirror&&(st+=Ke(Ge._mainMirrorPosition)),st}for(C in N._plots){L=(k=N._plots[C]).yaxis;var Be="M0,0";w(R=k.xaxis,C)&&(xe=b(R,"left",L,z),ue=R._offset-(xe?J+xe:0),Se=b(R,"right",L,z),he=R._offset+R._length+(Se?J+Se:0),pe=Y(R,L,"bottom"),ge=Y(R,L,"top"),!(me=!R._anchorAxis||C!==R._mainSubplot)||"allticks"!==R.mirror&&"all"!==R.mirror||(R._linepositions[C]=[pe,ge]),Be=Ie(R,Ue,Ye),me&&R.showline&&("all"===R.mirror||"allticks"===R.mirror)&&(Be+=Ue(pe)+Ue(ge)),k.xlines.style("stroke-width",R._lw+"px").call(u.stroke,R.showline?R.linecolor:"rgba(0,0,0,0)")),k.xlines.attr("d",Be);var We="M0,0";w(L,C)&&(ke=b(L,"bottom",R,z),Te=L._offset+L._length+(ke?J:0),Ee=b(L,"top",R,z),ye=L._offset-(Ee?J:0),we=Y(L,R,"left"),ze=Y(L,R,"right"),!(me=!L._anchorAxis||C!==L._mainSubplot)||"allticks"!==L.mirror&&"all"!==L.mirror||(L._linepositions[C]=[we,ze]),We=Ie(L,_e,Pe),me&&L.showline&&("all"===L.mirror||"allticks"===L.mirror)&&(We+=_e(we)+_e(ze)),k.ylines.style("stroke-width",L._lw+"px").call(u.stroke,L.showline?L.linecolor:"rgba(0,0,0,0)")),k.ylines.attr("d",We)}return o.makeClipPaths(A),f.previousPromises(A)}function w(A,m){return(A.ticks||A.showline)&&(m===A._mainSubplot||"all"===A.mirror||"allticks"===A.mirror)}function x(A,m,C){if(!C.showline||!C._lw)return!1;if("all"===C.mirror||"allticks"===C.mirror)return!0;var k=C._anchorAxis;if(!k)return!1;var P=l.FROM_BL[m];return C.side===m?k.domain[P]===A.domain[P]:C.mirror&&k.domain[1-P]===A.domain[1-P]}function b(A,m,C,k){if(x(A,m,C))return C._lw;for(var P=0;P<k.length;P++){var R=k[P];if(R._mainAxis===C._mainAxis&&x(A,m,R))return R._lw}return 0}j.layoutStyles=function(A){return S.syncOrAsync([f.doAutoMargin,g],A)},j.drawMainTitle=function(A){var m,q,U,C=A._fullLayout.title,k=A._fullLayout,P=(U="middle",S.isRightAnchor(q=k.title)?U="end":S.isLeftAnchor(q)&&(U=T),U),R=function(Y){var q=Y.title,U="0em";return S.isTopAnchor(q)?U=l.CAP_SHIFT+"em":S.isMiddleAnchor(q)&&(U=l.MID_SHIFT+"em"),U}(k),L=function(Y,q){var U=Y.title,Z=Y._size,X=0;return"0em"!==q&&q?q===l.CAP_SHIFT+"em"&&(X=U.pad.t):X=-U.pad.b,"auto"===U.y?Z.t/2:"paper"===U.yref?Z.t+Z.h-Z.h*U.y+X:Y.height-Y.height*U.y+X}(k,R),N=function(Y,q){var U=Y.title,Z=Y._size,X=0;return q===T?X=U.pad.l:"end"===q&&(X=-U.pad.r),"paper"===U.xref?Z.l+Z.w*U.x+X:Y.width*U.x+X}(k,P);if(s.draw(A,"gtitle",{propContainer:k,propName:"title.text",placeholder:k._dfltTitle.plot,attributes:{x:N,y:L,"text-anchor":P,dy:R}}),C.text&&C.automargin){var B=I.selectAll(".gtitle"),J=i.bBox(B.node()).height,z=function(Y,q,U){var ne,ae,ue,he,pe,Z=q.y,se=Z>.5?"t":"b",ee=0;return"paper"===q.yref?ee=U+q.pad.t+q.pad.b:"container"===q.yref&&(ne=Z,ue=Y._fullLayout.height,he=U,pe=0,"middle"===(ae=q.yanchor)&&(pe+=he/2),"t"===se?("top"===ae&&(pe+=he),pe+=ue-ne*ue):("bottom"===ae&&(pe+=he),pe+=ne*ue),ee=pe+q.pad.t+q.pad.b),ee>Y._fullLayout.margin[se]?ee:0}(A,C,J);z>0&&(function(Y,q,U,Z){var ne,ae,ue,he,pe,ge,xe,Se,X="title.automargin",se=Y._fullLayout.title,re=se.y>.5?"t":"b",ee={x:se.x,y:se.y,t:0,b:0},K={};"paper"===se.yref&&(ne=Y,ue=re,he=q,pe=Z,ge="paper"===(ae=se).yref?ne._fullLayout._size.h:ne._fullLayout.height,xe=S.isTopAnchor(ae)?he:he-pe,Se="b"===ue?ge-xe:xe,!(S.isTopAnchor(ae)&&"t"===ue||S.isBottomAnchor(ae)&&"b"===ue)&&Se<pe)?ee[re]=U:"container"===se.yref&&(K[re]=U,Y._fullLayout._reservedMargin[X]=K),f.allowAutoMargin(Y,X),f.autoMargin(Y,X,ee)}(A,L,z,J),B.attr({x:N,y:L,"text-anchor":P,dy:(m=C.yanchor,"top"===m?l.CAP_SHIFT+.3+"em":"bottom"===m?"-0.3em":l.MID_SHIFT+"em")}).call(M.positionText,N,L))}},j.doTraceStyle=function(A){var m,C=A.calcdata,k=[];for(m=0;m<C.length;m++){var P=C[m],R=P[0]||{},L=R.trace||{},N=L._module||{},B=N.arraysToCalcdata;B&&B(P,L);var J=N.editStyle;J&&k.push({fn:J,cd0:R})}if(k.length){for(m=0;m<k.length;m++){var z=k[m];z.fn(A,z.cd0)}y(A),j.redrawReglTraces(A)}return f.style(A),E.getComponentMethod("legend","draw")(A),f.previousPromises(A)},j.doColorBars=function(A){return E.getComponentMethod("colorbar","draw")(A),f.previousPromises(A)},j.layoutReplot=function(A){var m=A.layout;return A.layout=void 0,E.call("_doPlot",A,"",m)},j.doLegend=function(A){return E.getComponentMethod("legend","draw")(A),f.previousPromises(A)},j.doTicksRelayout=function(A){return o.draw(A,"redraw"),A._fullLayout._hasOnlyLargeSploms&&(E.subplotsRegistry.splom.updateGrid(A),y(A),j.redrawReglTraces(A)),j.drawMainTitle(A),f.previousPromises(A)},j.doModeBar=function(A){var m=A._fullLayout;a.manage(A);for(var C=0;C<m._basePlotModules.length;C++){var k=m._basePlotModules[C].updateFx;k&&k(A)}return f.previousPromises(A)},j.doCamera=function(A){for(var m=A._fullLayout,C=m._subplots.gl3d,k=0;k<C.length;k++){var P=m[C[k]];P._scene.setViewport(P)}},j.drawData=function(A){var m=A._fullLayout;y(A);for(var C=m._basePlotModules,k=0;k<C.length;k++)C[k].plot(A);return j.redrawReglTraces(A),f.style(A),E.getComponentMethod("selections","draw")(A),E.getComponentMethod("shapes","draw")(A),E.getComponentMethod("annotations","draw")(A),E.getComponentMethod("images","draw")(A),m._replotting=!1,f.previousPromises(A)},j.redrawReglTraces=function(A){var m=A._fullLayout;if(m._has("regl")){var C,k,P=A._fullData,R=[],L=[];for(m._hasOnlyLargeSploms&&m._splomGrid.draw(),C=0;C<P.length;C++){var N=P[C];!0===N.visible&&0!==N._length&&("splom"===N.type?m._splomScenes[N.uid].draw():"scattergl"===N.type?S.pushUnique(R,N.xaxis+N.yaxis):"scatterpolargl"===N.type&&S.pushUnique(L,N.subplot))}for(C=0;C<R.length;C++)(k=m._plots[R[C]])._scene&&k._scene.draw();for(C=0;C<L.length;C++)(k=m[L[C]]._subplot)._scene&&k._scene.draw()}},j.doAutoRangeAndConstraints=function(A){for(var m,C=o.list(A,"",!0),k={},P=0;P<C.length;P++)if(!k[(m=C[P])._id]){k[m._id]=1,v(A,m),p(A,m);var R=m._matchGroup;if(R)for(var L in R){var N=o.getFromId(A,L);p(A,N,m.range),k[L]=1}}h(A)},j.finalDraw=function(A){E.getComponentMethod("rangeslider","draw")(A),E.getComponentMethod("rangeselector","draw")(A)},j.drawMarginPushers=function(A){E.getComponentMethod("legend","draw")(A),E.getComponentMethod("rangeselector","draw")(A),E.getComponentMethod("sliders","draw")(A),E.getComponentMethod("updatemenus","draw")(A),E.getComponentMethod("colorbar","draw")(A)}},96318:function(oe,j,r){"use strict";var I=r(71828),E=I.isPlainObject,f=r(86281),S=r(74875),M=r(9012),y=r(44467),u=r(72075).dfltConfig;function i(p,T){p=I.extendDeep({},p);var _,g,w=Object.keys(p).sort();function x(k,P,R){if(E(P)&&E(k))i(k,P);else if(Array.isArray(P)&&Array.isArray(k)){var L=y.arrayTemplater({_template:p},R);for(g=0;g<P.length;g++){var N=P[g],B=L.newItem(N)._template;B&&i(B,N)}var J=L.defaultItems();for(g=0;g<J.length;g++)P.push(J[g]._template);for(g=0;g<P.length;g++)delete P[g].templateitemname}}for(_=0;_<w.length;_++){var b=w[_],A=p[b];if(b in T?x(A,T[b],b):T[b]=A,s(b)===b)for(var m in T){var C=s(m);m===C||C!==b||m in p||x(A,T[m],b)}}}function s(p){return p.replace(/[0-9]+$/,"")}function a(p,T,_,g,w){var x=w&&_(w);for(var b in p){var A=p[b],m=c(p,b,g),C=c(p,b,w),k=_(C);if(!k){var P=s(b);P!==b&&(k=_(C=c(p,P,w)))}if(!(x&&x===k||!k||k._noTemplating||"data_array"===k.valType||k.arrayOk&&Array.isArray(A)))if(!k.valType&&E(A))a(A,T,_,m,C);else if(k._isLinkedToArray&&Array.isArray(A))for(var R=!1,L=0,N={},B=0;B<A.length;B++){var J=A[B];if(E(J)){var z=J.name;if(z)N[z]||(a(J,T,_,c(A,L,m),c(A,L,C)),L++,N[z]=1);else if(!R){var Y=c(p,y.arrayDefaultKey(b),g),q=c(A,L,m);a(J,T,_,q,c(A,L,C));var U=I.nestedProperty(T,q);I.nestedProperty(T,Y).set(U.get()),U.set(null),R=!0}}}else I.nestedProperty(T,m).set(A)}}function o(p,T){return f.getLayoutValObject(p,I.nestedProperty({},T).parts)}function l(p,T){return f.getTraceValObject(p,I.nestedProperty({},T).parts)}function c(p,T,_){return _?Array.isArray(p)?_+"["+T+"]":_+"."+T:T}function h(p){for(var T=0;T<p.length;T++)if(E(p[T]))return!0}function v(p){var T;switch(p.code){case"data":T="The template has no key data.";break;case"layout":T="The template has no key layout.";break;case"missing":T=p.path?"There are no templates for item "+p.path+" with name "+p.templateitemname:"There are no templates for trace "+p.index+", of type "+p.traceType+".";break;case"unused":T=p.path?"The template item at "+p.path+" was not used in constructing the plot.":p.dataCount?"Some of the templates of type "+p.traceType+" were not used. The template has "+p.templateCount+" traces, the data only has "+p.dataCount+" of this type.":"The template has "+p.templateCount+" traces of type "+p.traceType+" but there are none in the data.";break;case"reused":T="Some of the templates of type "+p.traceType+" were used more than once. The template has "+p.templateCount+" traces, the data has "+p.dataCount+" of this type."}return p.msg=T,p}j.makeTemplate=function(p){p=I.isPlainObject(p)?p:I.getGraphDiv(p),p=I.extendDeep({_context:u},{data:p.data,layout:p.layout}),S.supplyDefaults(p);var T=p.data||[],_=p.layout||{};_._basePlotModules=p._fullLayout._basePlotModules,_._modules=p._fullLayout._modules;var g={data:{},layout:{}};T.forEach(function(L){var N={};a(L,N,l.bind(null,L));var B=I.coerce(L,{},M,"type"),J=g.data[B];J||(J=g.data[B]=[]),J.push(N)}),a(_,g.layout,o.bind(null,_)),delete g.layout.template;var w=_.template;if(E(w)){var x,b,A,m,C,k,P=w.layout;E(P)&&i(P,g.layout);var R=w.data;if(E(R)){for(b in g.data)if(A=R[b],Array.isArray(A)){for(k=(C=g.data[b]).length,m=A.length,x=0;x<k;x++)i(A[x%m],C[x]);for(x=k;x<m;x++)C.push(I.extendDeep({},A[x]))}for(b in R)b in g.data||(g.data[b]=I.extendDeep([],R[b]))}}return g},j.validateTemplate=function(p,T){var _=I.extendDeep({},{_context:u,data:p.data,layout:p.layout}),g=_.layout||{};E(T)||(T=g.template||{});var w=T.layout,x=T.data,b=[];_.layout=g,_.layout.template=T,S.supplyDefaults(_);var A=_._fullLayout,m=_._fullData,C={};if(E(w)?(function J(z,Y){for(var q in z)if("_"!==q.charAt(0)&&E(z[q])){var U,Z=s(q),X=[];for(U=0;U<Y.length;U++)X.push(c(z,q,Y[U])),Z!==q&&X.push(c(z,Z,Y[U]));for(U=0;U<X.length;U++)C[X[U]]=1;J(z[q],X)}}(A,["layout"]),function J(z,Y){for(var q in z)if(-1===q.indexOf("defaults")&&E(z[q])){var U=c(z,q,Y);C[U]?J(z[q],U):b.push({code:"unused",path:U})}}(w,"layout")):b.push({code:"layout"}),E(x)){for(var k,P={},R=0;R<m.length;R++){var L=m[R];P[k=L.type]=(P[k]||0)+1,L._fullInput._template||b.push({code:"missing",index:L._fullInput.index,traceType:k})}for(k in x){var N=x[k].length,B=P[k]||0;N>B?b.push({code:"unused",traceType:k,templateCount:N,dataCount:B}):B>N&&b.push({code:"reused",traceType:k,templateCount:N,dataCount:B})}}else b.push({code:"data"});if(function J(z,Y){for(var q in z)if("_"!==q.charAt(0)){var U=z[q],Z=c(z,q,Y);E(U)?(Array.isArray(z)&&!1===U._template&&U.templateitemname&&b.push({code:"missing",path:Z,templateitemname:U.templateitemname}),J(U,Z)):Array.isArray(U)&&h(U)&&J(U,Z)}}({data:m,layout:A},""),b.length)return b.map(v)}},403:function(oe,j,r){"use strict";var I=r(92770),E=r(72391),f=r(74875),S=r(71828),M=r(25095),y=r(5900),u=r(70942),i=r(11506).version,s={format:{valType:"enumerated",values:["png","jpeg","webp","svg","full-json"],dflt:"png"},width:{valType:"number",min:1},height:{valType:"number",min:1},scale:{valType:"number",min:0,dflt:1},setBackground:{valType:"any",dflt:!1},imageDataOnly:{valType:"boolean",dflt:!1}};oe.exports=function(a,o){var l,c,h,v;function p(B){return!(B in o)||S.validate(o[B],s[B])}if(o=o||{},S.isPlainObject(a)?(l=a.data||[],c=a.layout||{},h=a.config||{},v={}):(a=S.getGraphDiv(a),l=S.extendDeep([],a.data),c=S.extendDeep({},a.layout),h=a._context,v=a._fullLayout||{}),!p("width")&&null!==o.width||!p("height")&&null!==o.height)throw new Error("Height and width should be pixel values.");if(!p("format"))throw new Error("Export format is not "+S.join2(s.format.values,", "," or ")+".");var T={};function _(B,J){return S.coerce(o,T,s,B,J)}var g=_("format"),w=_("width"),x=_("height"),b=_("scale"),A=_("setBackground"),m=_("imageDataOnly"),C=document.createElement("div");C.style.position="absolute",C.style.left="-5000px",document.body.appendChild(C);var k=S.extendFlat({},c);w?k.width=w:null===o.width&&I(v.width)&&(k.width=v.width),x?k.height=x:null===o.height&&I(v.height)&&(k.height=v.height);var P=S.extendFlat({},h,{_exportedPlot:!0,staticPlot:!0,setBackground:A}),R=M.getRedrawFunc(C);function L(){return new Promise(function(B){setTimeout(B,M.getDelay(C._fullLayout))})}function N(){return new Promise(function(B,J){var z=y(C,g,b),Y=C._fullLayout.width,q=C._fullLayout.height;function U(){E.purge(C),document.body.removeChild(C)}if("full-json"===g){var Z=f.graphJson(C,!1,"keepdata","object",!0,!0);return Z.version=i,Z=JSON.stringify(Z),U(),B(m?Z:M.encodeJSON(Z))}if(U(),"svg"===g)return B(m?z:M.encodeSVG(z));var X=document.createElement("canvas");X.id=S.randstr(),u({format:g,width:Y,height:q,scale:b,canvas:X,svg:z,promise:!0}).then(B).catch(J)})}return new Promise(function(B,J){E.newPlot(C,l,k,P).then(R).then(L).then(N).then(function(z){var Y;B((Y=z,m?Y.replace(M.IMAGE_URL_PREFIX,""):Y))}).catch(function(z){J(z)})})}},84936:function(oe,j,r){"use strict";var I=r(71828),E=r(74875),f=r(86281),S=r(72075).dfltConfig,M=I.isPlainObject,y=Array.isArray,u=I.isArrayOrTypedArray;function i(p,T,_,g,w,x){x=x||[];for(var b=Object.keys(p),A=0;A<b.length;A++){var m=b[A];if("transforms"!==m){var C=x.slice();C.push(m);var k=p[m],P=T[m],R=c(_,m),L=(R||{}).valType,N="info_array"===L,B="colorscale"===L,J=(R||{}).items;if(l(_,m))if(M(k)&&M(P)&&"any"!==L)i(k,P,R,g,w,C);else if(N&&y(k)){k.length>P.length&&g.push(o("unused",w,C.concat(P.length)));var z,Y,U,Z,X=P.length,se=Array.isArray(J);if(se&&(X=Math.min(X,J.length)),2===R.dimensions)for(Y=0;Y<X;Y++)if(y(k[Y])){k[Y].length>P[Y].length&&g.push(o("unused",w,C.concat(Y,P[Y].length)));var re=P[Y].length;for(z=0;z<(se?Math.min(re,J[Y].length):re);z++)Z=P[Y][z],I.validate(U=k[Y][z],se?J[Y][z]:J)?Z!==U&&Z!==+U&&g.push(o("dynamic",w,C.concat(Y,z),U,Z)):g.push(o("value",w,C.concat(Y,z),U))}else g.push(o("array",w,C.concat(Y),k[Y]));else for(Y=0;Y<X;Y++)Z=P[Y],I.validate(U=k[Y],se?J[Y]:J)?Z!==U&&Z!==+U&&g.push(o("dynamic",w,C.concat(Y),U,Z)):g.push(o("value",w,C.concat(Y),U))}else if(R.items&&!N&&y(k)){var ee,K,ne=J[Object.keys(J)[0]],ae=[];for(ee=0;ee<P.length;ee++){var ue=P[ee]._index||ee;if((K=C.slice()).push(ue),M(k[ue])&&M(P[ee])){ae.push(ue);var he=k[ue],pe=P[ee];M(he)&&!1!==he.visible&&!1===pe.visible?g.push(o("invisible",w,K)):i(he,pe,ne,g,w,K)}}for(ee=0;ee<k.length;ee++)(K=C.slice()).push(ee),M(k[ee])?-1===ae.indexOf(ee)&&g.push(o("unused",w,K)):g.push(o("object",w,K,k[ee]))}else!M(k)&&M(P)?g.push(o("object",w,C,k)):u(k)||!u(P)||N||B?m in T?I.validate(k,R)?"enumerated"===R.valType&&(R.coerceNumber&&k!==+P||k!==P)&&g.push(o("dynamic",w,C,k,P)):g.push(o("value",w,C,k)):g.push(o("unused",w,C,k)):g.push(o("array",w,C,k));else g.push(o("schema",w,C))}}return g}oe.exports=function(p,T){void 0===p&&(p=[]),void 0===T&&(T={});var _,g,w=f.get(),x=[],b={_context:I.extendFlat({},S)};y(p)?(b.data=I.extendDeep([],p),_=p):(b.data=[],_=[],x.push(o("array","data"))),M(T)?(b.layout=I.extendDeep({},T),g=T):(b.layout={},g={},arguments.length>1&&x.push(o("object","layout"))),E.supplyDefaults(b);for(var A=b._fullData,m=_.length,C=0;C<m;C++){var k=_[C],P=["data",C];if(M(k)){var R=A[C],L=R.type,N=w.traces[L].attributes;N.type={valType:"enumerated",values:[L]},!1===R.visible&&!1!==k.visible&&x.push(o("invisible",P)),i(k,R,N,x,P);var B=k.transforms,J=R.transforms;if(B){y(B)||x.push(o("array",P,["transforms"])),P.push("transforms");for(var z=0;z<B.length;z++){var Y=["transforms",z],q=B[z].type;if(M(B[z])){var U=w.transforms[q]?w.transforms[q].attributes:{};U.type={valType:"enumerated",values:Object.keys(w.transforms)},i(B[z],J[z],U,x,P,Y)}else x.push(o("object",P,Y))}}}else x.push(o("object",P))}return i(g,b._fullLayout,function(se,re){for(var ee=se.layout.layoutAttributes,K=0;K<re.length;K++){var ne=re[K],ae=se.traces[ne.type],ue=ae.layoutAttributes;ue&&I.extendFlat(ne.subplot?ee[ae.attributes.subplot.dflt]:ee,ue)}return ee}(w,A),x,"layout"),0===x.length?void 0:x};var s={object:function(p,T){return("layout"===p&&""===T?"The layout argument":"data"===p[0]&&""===T?"Trace "+p[1]+" in the data argument":a(p)+"key "+T)+" must be linked to an object container"},array:function(p,T){return("data"===p?"The data argument":a(p)+"key "+T)+" must be linked to an array container"},schema:function(p,T){return a(p)+"key "+T+" is not part of the schema"},unused:function(p,T,_){var g=M(_)?"container":"key";return a(p)+g+" "+T+" did not get coerced"},dynamic:function(p,T,_,g){return[a(p)+"key",T,"(set to '"+_+"')","got reset to","'"+g+"'","during defaults."].join(" ")},invisible:function(p,T){return(T?a(p)+"item "+T:"Trace "+p[1])+" got defaulted to be not visible"},value:function(p,T,_){return[a(p)+"key "+T,"is set to an invalid value ("+_+")"].join(" ")}};function a(p){return y(p)?"In data trace "+p[1]+", ":"In "+p+", "}function o(p,T,_,g,w){var x,b;_=_||"",y(T)?(x=T[0],b=T[1]):(x=T,b=null);var A=function(C){if(!y(C))return String(C);for(var k="",P=0;P<C.length;P++){var R=C[P];"number"==typeof R?k=k.substr(0,k.length-1)+"["+R+"]":k+=R,P<C.length-1&&(k+=".")}return k}(_),m=s[p](T,A,g,w);return I.log(m),{code:p,container:x,trace:b,path:_,astr:A,msg:m}}function l(p,T){var _=v(T),g=_.keyMinusId;return!!(g in p&&p[g]._isSubplotObj&&_.id)||T in p}function c(p,T){return T in p?p[T]:p[v(T).keyMinusId]}var h=I.counterRegex("([a-z]+)");function v(p){var T=p.match(h);return{keyMinusId:T&&T[1],id:T&&T[2]}}},85594:function(oe){"use strict";oe.exports={mode:{valType:"enumerated",dflt:"afterall",values:["immediate","next","afterall"]},direction:{valType:"enumerated",values:["forward","reverse"],dflt:"forward"},fromcurrent:{valType:"boolean",dflt:!1},frame:{duration:{valType:"number",min:0,dflt:500},redraw:{valType:"boolean",dflt:!0}},transition:{duration:{valType:"number",min:0,dflt:500,editType:"none"},easing:{valType:"enumerated",dflt:"cubic-in-out",values:["linear","quad","cubic","sin","exp","circle","elastic","back","bounce","linear-in","quad-in","cubic-in","sin-in","exp-in","circle-in","elastic-in","back-in","bounce-in","linear-out","quad-out","cubic-out","sin-out","exp-out","circle-out","elastic-out","back-out","bounce-out","linear-in-out","quad-in-out","cubic-in-out","sin-in-out","exp-in-out","circle-in-out","elastic-in-out","back-in-out","bounce-in-out"],editType:"none"},ordering:{valType:"enumerated",values:["layout first","traces first"],dflt:"layout first",editType:"none"}}}},85501:function(oe,j,r){"use strict";var I=r(71828),E=r(44467);oe.exports=function(f,S,M){var y,u,i=M.name,s=M.inclusionAttr||"visible",a=S[i],o=I.isArrayOrTypedArray(f[i])?f[i]:[],l=S[i]=[],c=E.arrayTemplater(S,i,s);for(y=0;y<o.length;y++){var h=o[y];I.isPlainObject(h)?u=c.newItem(h):(u=c.newItem({}))[s]=!1,u._index=y,!1!==u[s]&&M.handleItemDefaults(h,u,S,M),l.push(u)}var v=c.defaultItems();for(y=0;y<v.length;y++)(u=v[y])._index=l.length,M.handleItemDefaults({},u,S,M,{}),l.push(u);if(I.isArrayOrTypedArray(a)){var p=Math.min(a.length,l.length);for(y=0;y<p;y++)I.relinkPrivateKeys(l[y],a[y])}return l}},9012:function(oe,j,r){"use strict";var I=r(41940),E=r(77914);oe.exports={type:{valType:"enumerated",values:[],dflt:"scatter",editType:"calc+clearAxisTypes",_noTemplating:!0},visible:{valType:"enumerated",values:[!0,!1,"legendonly"],dflt:!0,editType:"calc"},showlegend:{valType:"boolean",dflt:!0,editType:"style"},legend:{valType:"subplotid",dflt:"legend",editType:"style"},legendgroup:{valType:"string",dflt:"",editType:"style"},legendgrouptitle:{text:{valType:"string",dflt:"",editType:"style"},font:I({editType:"style"}),editType:"style"},legendrank:{valType:"number",dflt:1e3,editType:"style"},legendwidth:{valType:"number",min:0,editType:"style"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"style"},name:{valType:"string",editType:"style"},uid:{valType:"string",editType:"plot",anim:!0},ids:{valType:"data_array",editType:"calc",anim:!0},customdata:{valType:"data_array",editType:"calc"},meta:{valType:"any",arrayOk:!0,editType:"plot"},selectedpoints:{valType:"any",editType:"calc"},hoverinfo:{valType:"flaglist",flags:["x","y","z","text","name"],extras:["all","none","skip"],arrayOk:!0,dflt:"all",editType:"none"},hoverlabel:E.hoverlabel,stream:{token:{valType:"string",noBlank:!0,strict:!0,editType:"calc"},maxpoints:{valType:"number",min:0,max:1e4,dflt:500,editType:"calc"},editType:"calc"},transforms:{_isLinkedToArray:"transform",editType:"calc"},uirevision:{valType:"any",editType:"none"}}},42973:function(oe,j,r){"use strict";var I=r(92770),E=r(71828),f=E.dateTime2ms,S=E.incrementMonth,M=r(50606).ONEAVGMONTH;oe.exports=function(y,u,i,s){if("date"!==u.type)return{vals:s};var a=y[i+"periodalignment"];if(!a)return{vals:s};var o,l=y[i+"period"];if(I(l)){if((l=+l)<=0)return{vals:s}}else if("string"==typeof l&&"M"===l.charAt(0)){var c=+l.substring(1);if(!(c>0&&Math.round(c)===c))return{vals:s};o=c}for(var h=u.calendar,v="start"===a,p="end"===a,_=f(y[i+"period0"],h)||0,g=[],w=[],x=[],b=s.length,A=0;A<b;A++){var m,C,k,P=s[A];if(o){for(m=Math.round((P-_)/(o*M)),k=S(_,o*m,h);k>P;)k=S(k,-o,h);for(;k<=P;)k=S(k,o,h);C=S(k,-o,h)}else{for(k=_+(m=Math.round((P-_)/l))*l;k>P;)k-=l;for(;k<=P;)k+=l;C=k-l}g[A]=v?C:p?k:(C+k)/2,w[A]=C,x[A]=k}return{vals:g,starts:w,ends:x}}},89502:function(oe){"use strict";oe.exports={xaxis:{valType:"subplotid",dflt:"x",editType:"calc+clearAxisTypes"},yaxis:{valType:"subplotid",dflt:"y",editType:"calc+clearAxisTypes"}}},71739:function(oe,j,r){"use strict";var I=r(39898),E=r(92770),f=r(71828),S=r(50606).FP_SAFE,M=r(73972),y=r(91424),u=r(41675),i=u.getFromId,s=u.isLinked;function a(x,b){var A,m,C=[],k=x._fullLayout,P=l(k,b,0),R=l(k,b,1),L=h(x,b),N=L.min,B=L.max;if(0===N.length||0===B.length)return f.simpleMap(b.range,b.r2l);var J=N[0].val,z=B[0].val;for(A=1;A<N.length&&J===z;A++)J=Math.min(J,N[A].val);for(A=1;A<B.length&&J===z;A++)z=Math.max(z,B[A].val);var Y=!1;if(b.range){var q=f.simpleMap(b.range,b.r2l);Y=q[1]<q[0]}"reversed"===b.autorange&&(Y=!0,b.autorange=!0);var U,Z,X,se,re,ee,K=b.rangemode,ne="tozero"===K,ae="nonnegative"===K,ue=b._length,he=ue/10,pe=0;for(A=0;A<N.length;A++)for(U=N[A],m=0;m<B.length;m++)(ee=(Z=B[m]).val-U.val-o(b,U.val,Z.val))>0&&((re=ue-P(U)-R(Z))>he?ee/re>pe&&(X=U,se=Z,pe=ee/re):ee/ue>pe&&(X={val:U.val,nopad:1},se={val:Z.val,nopad:1},pe=ee/ue));if(J===z){var ge=J-1,xe=J+1;if(ne)if(0===J)C=[0,1];else{var Se=(J>0?B:N).reduce(function(ye,we){return Math.max(ye,R(we))},0),Te=J/(1-Math.min(.5,Se/ue));C=J>0?[0,Te]:[Te,0]}else C=ae?[Math.max(0,ge),Math.max(1,xe)]:[ge,xe]}else ne?(X.val>=0&&(X={val:0,nopad:1}),se.val<=0&&(se={val:0,nopad:1})):ae&&(X.val-pe*P(X)<0&&(X={val:0,nopad:1}),se.val<=0&&(se={val:1,nopad:1})),pe=(se.val-X.val-o(b,U.val,Z.val))/(ue-P(X)-R(se)),C=[X.val-pe*P(X),se.val+pe*R(se)];return Y&&C.reverse(),f.simpleMap(C,b.l2r||Number)}function o(x,b,A){var m=0;if(x.rangebreaks)for(var C=x.locateBreaks(b,A),k=0;k<C.length;k++){var P=C[k];m+=P.max-P.min}return m}function l(x,b,A){var m=.05*b._length,C=b._anchorAxis||{};if(-1!==(b.ticklabelposition||"").indexOf("inside")||-1!==(C.ticklabelposition||"").indexOf("inside")){var k="reversed"===b.autorange;if(!k){var P=f.simpleMap(b.range,b.r2l);k=P[1]<P[0]}k&&(A=!A)}var R=0;return s(x,b._id)||(R=function(L,N,B){var J=0,z="x"===N._id.charAt(0);for(var Y in L._plots){var q=L._plots[Y];if(N._id===q.xaxis._id||N._id===q.yaxis._id){var U=(z?q.yaxis:q.xaxis)||{};if(-1!==(U.ticklabelposition||"").indexOf("inside")&&(!B&&("left"===U.side||"bottom"===U.side)||B&&("top"===U.side||"right"===U.side))){if(U._vals){var Z=f.deg2rad(U._tickAngles[U._id+"tick"]||0),X=Math.abs(Math.cos(Z)),se=Math.abs(Math.sin(Z));U._vals[0].bb||U._selections[U._id+"tick"].each(function(ue){var he=I.select(this);he.select(".text-math-group").empty()&&(ue.bb=y.bBox(he.node()))});for(var ee=0;ee<U._vals.length;ee++){var K=U._vals[ee].bb;if(K){var ne=2*c+K.width,ae=2*c+K.height;J=Math.max(J,z?Math.max(ne*X,ae*se):Math.max(ae*X,ne*se))}}}"inside"===U.ticks&&"inside"===U.ticklabelposition&&(J+=U.ticklen||0)}}}return J}(x,b,A)),m=Math.max(R,m),"domain"===b.constrain&&b._inputDomain&&(m*=(b._inputDomain[1]-b._inputDomain[0])/(b.domain[1]-b.domain[0])),function(L){return L.nopad?0:L.pad+(L.extrapad?m:R)}}oe.exports={getAutoRange:a,makePadFn:l,doAutoRange:function(x,b,A){if(b.setScale(),b.autorange){b.range=A?A.slice():a(x,b),b._r=b.range.slice(),b._rl=f.simpleMap(b._r,b.r2l);var m=b._input,C={};C[b._attr+".range"]=b.range,C[b._attr+".autorange"]=b.autorange,M.call("_storeDirectGUIEdit",x.layout,x._fullLayout._preGUI,C),m.range=b.range.slice(),m.autorange=b.autorange}var k=b._anchorAxis;if(k&&k.rangeslider){var P=k.rangeslider[b._name];P&&"auto"===P.rangemode&&(P.range=a(x,b)),k._input.rangeslider[b._name]=f.extendFlat({},P)}},findExtremes:function(x,b,A){A||(A={}),x._m||x.setScale();var m,C,k,P,R,L,N,B,J,z=[],Y=[],q=b.length,U=A.padded||!1,Z=A.tozero&&("linear"===x.type||"-"===x.type),X="log"===x.type,se=!1,re=A.vpadLinearized||!1;function ee(xe){if(Array.isArray(xe))return se=!0,function(Te){return Math.max(Number(xe[Te]||0),0)};var Se=Math.max(Number(xe||0),0);return function(){return Se}}var K=ee((x._m>0?A.ppadplus:A.ppadminus)||A.ppad||0),ne=ee((x._m>0?A.ppadminus:A.ppadplus)||A.ppad||0),ae=ee(A.vpadplus||A.vpad),ue=ee(A.vpadminus||A.vpad);if(!se){if(B=1/0,J=-1/0,X)for(m=0;m<q;m++)(C=b[m])<B&&C>0&&(B=C),C>J&&C<S&&(J=C);else for(m=0;m<q;m++)(C=b[m])<B&&C>-S&&(B=C),C>J&&C<S&&(J=C);b=[B,J],q=2}var he={tozero:Z,extrapad:U};function pe(xe){E(k=b[xe])&&(L=K(xe),N=ne(xe),re?(P=x.c2l(k)-ue(xe),R=x.c2l(k)+ae(xe)):(B=k-ue(xe),J=k+ae(xe),X&&B<J/10&&(B=J/10),P=x.c2l(B),R=x.c2l(J)),Z&&(P=Math.min(0,P),R=Math.max(0,R)),_(P)&&v(z,P,N,he),_(R)&&p(Y,R,L,he))}var ge=Math.min(6,q);for(m=0;m<ge;m++)pe(m);for(m=q-1;m>=ge;m--)pe(m);return{min:z,max:Y,opts:A}},concatExtremes:h};var c=3;function h(x,b,A){var m,C,k,P=b._id,L=x._fullLayout,N=[],B=[];function J(Z,X){for(m=0;m<X.length;m++){var se=Z[X[m]],re=(se._extremes||{})[P];if(!0===se.visible&&re){for(C=0;C<re.min.length;C++)v(N,(k=re.min[C]).val,k.pad,{extrapad:k.extrapad});for(C=0;C<re.max.length;C++)p(B,(k=re.max[C]).val,k.pad,{extrapad:k.extrapad})}}}if(J(x._fullData,b._traceIndices),J(L.annotations||[],b._annIndices||[]),J(L.shapes||[],b._shapeIndices||[]),b._matchGroup&&!A)for(var z in b._matchGroup)if(z!==b._id){var Y=i(x,z),q=h(x,Y,!0),U=b._length/Y._length;for(C=0;C<q.min.length;C++)v(N,(k=q.min[C]).val,k.pad*U,{extrapad:k.extrapad});for(C=0;C<q.max.length;C++)p(B,(k=q.max[C]).val,k.pad*U,{extrapad:k.extrapad})}return{min:N,max:B}}function v(x,b,A,m){T(x,b,A,m,g)}function p(x,b,A,m){T(x,b,A,m,w)}function T(x,b,A,m,C){for(var k=m.tozero,P=m.extrapad,R=!0,L=0;L<x.length&&R;L++){var N=x[L];if(C(N.val,b)&&N.pad>=A&&(N.extrapad||!P)){R=!1;break}C(b,N.val)&&N.pad<=A&&(P||!N.extrapad)&&(x.splice(L,1),L--)}if(R){var B=k&&0===b;x.push({val:b,pad:B?0:A,extrapad:!B&&P})}}function _(x){return E(x)&&Math.abs(x)<S}function g(x,b){return x<=b}function w(x,b){return x>=b}},89298:function(oe,j,r){"use strict";var I=r(39898),E=r(92770),f=r(74875),S=r(73972),M=r(71828),y=M.strTranslate,u=r(63893),i=r(92998),s=r(7901),a=r(91424),o=r(13838),l=r(66287),c=r(50606),h=c.ONEMAXYEAR,v=c.ONEAVGYEAR,p=c.ONEMINYEAR,T=c.ONEMAXQUARTER,_=c.ONEAVGQUARTER,g=c.ONEMINQUARTER,w=c.ONEMAXMONTH,x=c.ONEAVGMONTH,b=c.ONEMINMONTH,A=c.ONEWEEK,m=c.ONEDAY,C=m/2,k=c.ONEHOUR,P=c.ONEMIN,R=c.ONESEC,L=c.MINUS_SIGN,N=c.BADNUM,B={K:"zeroline"},J={K:"gridline",L:"path"},z={K:"minor-gridline",L:"path"},Y={K:"tick",L:"path"},q={K:"tick",L:"text"},U={width:["x","r","l","xl","xr"],height:["y","t","b","yt","yb"],right:["r","xr"],left:["l","xl"],top:["t","yt"],bottom:["b","yb"]},Z=r(18783),X=Z.MID_SHIFT,se=Z.CAP_SHIFT,re=Z.LINE_SPACING,ee=Z.OPPOSITE_SIDE,K=oe.exports={};K.setConvert=r(21994);var ne=r(4322),ae=r(41675),ue=ae.idSort,he=ae.isLinked;K.id2name=ae.id2name,K.name2id=ae.name2id,K.cleanId=ae.cleanId,K.list=ae.list,K.listIds=ae.listIds,K.getFromId=ae.getFromId,K.getFromTrace=ae.getFromTrace;var pe=r(71739);K.getAutoRange=pe.getAutoRange,K.findExtremes=pe.findExtremes;var ge=1e-4;function xe(Ve){var qe=(Ve[1]-Ve[0])*ge;return[Ve[0]-qe,Ve[1]+qe]}K.coerceRef=function(Ve,qe,ut,ft,St,Mt){var Tt=ft.charAt(ft.length-1),xt=ut._fullLayout._subplots[Tt+"axis"],Nt=ft+"ref",bt={};return St||(St=xt[0]||("string"==typeof Mt?Mt:Mt[0])),Mt||(Mt=St),xt=xt.concat(xt.map(function(wt){return wt+" domain"})),bt[Nt]={valType:"enumerated",values:xt.concat(Mt?"string"==typeof Mt?[Mt]:Mt:[]),dflt:St},M.coerce(Ve,qe,bt,Nt)},K.getRefType=function(Ve){return void 0===Ve?Ve:"paper"===Ve?"paper":"pixel"===Ve?"pixel":/( domain)$/.test(Ve)?"domain":"range"},K.coercePosition=function(Ve,qe,ut,ft,St,Mt){var Tt,xt;if("range"!==K.getRefType(ft))Tt=M.ensureNumber,xt=ut(St,Mt);else{var Nt=K.getFromId(qe,ft);xt=ut(St,Mt=Nt.fraction2r(Mt)),Tt=Nt.cleanPos}Ve[St]=Tt(xt)},K.cleanPosition=function(Ve,qe,ut){return("paper"===ut||"pixel"===ut?M.ensureNumber:K.getFromId(qe,ut).cleanPos)(Ve)},K.redrawComponents=function(Ve,qe){qe=qe||K.listIds(Ve);var ut=Ve._fullLayout;function ft(St,Mt,Tt,xt){for(var Nt=S.getComponentMethod(St,Mt),bt={},wt=0;wt<qe.length;wt++)for(var It=ut[K.id2name(qe[wt])][Tt],Wt=0;Wt<It.length;Wt++){var Yt=It[Wt];if(!bt[Yt]&&(Nt(Ve,Yt),bt[Yt]=1,xt))return}}ft("annotations","drawOne","_annIndices"),ft("shapes","drawOne","_shapeIndices"),ft("images","draw","_imgIndices",!0),ft("selections","drawOne","_selectionIndices")};var Se=K.getDataConversions=function(Ve,qe,ut,ft){var St,Mt="x"===ut||"y"===ut||"z"===ut?ut:ft;if(Array.isArray(Mt)){if(St={type:ne(ft,void 0,{autotypenumbers:Ve._fullLayout.autotypenumbers}),_categories:[]},K.setConvert(St),"category"===St.type)for(var Tt=0;Tt<ft.length;Tt++)St.d2c(ft[Tt])}else St=K.getFromTrace(Ve,qe,Mt);return St?{d2c:St.d2c,c2d:St.c2d}:"ids"===Mt?{d2c:ye,c2d:ye}:{d2c:Te,c2d:Te}};function Te(Ve){return+Ve}function ye(Ve){return String(Ve)}function we(Ve,qe){return Math.abs((Ve/qe+.5)%1-.5)<.001}function ze(Ve,qe){return Math.abs(Ve/qe-1)<.001}function ke(Ve){return+Ve.substring(1)}function Ee(Ve,qe){return Ve.rangebreaks&&(qe=qe.filter(function(ut){return Ve.maskBreaks(ut.x)!==N})),qe}function me(Ve){var qe=Ve._mainAxis,ut=[];if(qe._vals)for(var ft=0;ft<qe._vals.length;ft++)if(!qe._vals[ft].noTick){var St=qe.l2p(qe._vals[ft].x),Mt=Ve.p2l(St),Tt=K.tickText(Ve,Mt);qe._vals[ft].minor&&(Tt.minor=!0,Tt.text=""),ut.push(Tt)}return Ee(Ve,ut)}function de(Ve){var qe=xe(M.simpleMap(Ve.range,Ve.r2l)),ut=Math.min(qe[0],qe[1]),ft=Math.max(qe[0],qe[1]),St="category"===Ve.type?Ve.d2l_noadd:Ve.d2l;"log"===Ve.type&&"L"!==String(Ve.dtick).charAt(0)&&(Ve.dtick="L"+Math.pow(10,Math.floor(Math.min(Ve.range[0],Ve.range[1]))-1));for(var Mt=[],Tt=0;Tt<=1;Tt++)if(!Tt||Ve.minor){var xt=Tt?Ve.minor.tickvals:Ve.tickvals,Nt=Tt?[]:Ve.ticktext;if(xt){Array.isArray(Nt)||(Nt=[]);for(var bt=0;bt<xt.length;bt++){var wt=St(xt[bt]);if(wt>ut&&wt<ft){var It=void 0===Nt[bt]?K.tickText(Ve,wt):Be(Ve,wt,String(Nt[bt]));Tt&&(It.minor=!0,It.text=""),Mt.push(It)}}}}return Ee(Ve,Mt)}K.getDataToCoordFunc=function(Ve,qe,ut,ft){return Se(Ve,qe,ut,ft).d2c},K.counterLetter=function(Ve){var qe=Ve.charAt(0);return"x"===qe?"y":"y"===qe?"x":void 0},K.minDtick=function(Ve,qe,ut,ft){-1===["log","category","multicategory"].indexOf(Ve.type)&&ft?void 0===Ve._minDtick?(Ve._minDtick=qe,Ve._forceTick0=ut):Ve._minDtick&&((Ve._minDtick/qe+1e-6)%1<2e-6&&((ut-Ve._forceTick0)/qe%1+1.000001)%1<2e-6?(Ve._minDtick=qe,Ve._forceTick0=ut):((qe/Ve._minDtick+1e-6)%1>2e-6||((ut-Ve._forceTick0)/Ve._minDtick%1+1.000001)%1>2e-6)&&(Ve._minDtick=0)):Ve._minDtick=0},K.saveRangeInitial=function(Ve,qe){for(var ut=K.list(Ve,"",!0),ft=!1,St=0;St<ut.length;St++){var Mt=ut[St],Tt=void 0===Mt._rangeInitial;(Tt&&!1===Mt.autorange||qe&&(Tt||Mt.range[0]!==Mt._rangeInitial[0]||Mt.range[1]!==Mt._rangeInitial[1]))&&(Mt._rangeInitial=Mt.range.slice(),ft=!0)}return ft},K.saveShowSpikeInitial=function(Ve,qe){for(var ut=K.list(Ve,"",!0),ft=!1,St="on",Mt=0;Mt<ut.length;Mt++){var Tt=ut[Mt],xt=void 0===Tt._showSpikeInitial;(xt||qe&&(xt||Tt.showspikes!==Tt._showspikes))&&(Tt._showSpikeInitial=Tt.showspikes,ft=!0),"on"!==St||Tt.showspikes||(St="off")}return Ve._fullLayout._cartesianSpikesEnabled=St,ft},K.autoBin=function(Ve,qe,ut,ft,St,Mt){var Tt,xt=M.aggNums(Math.min,null,Ve),Nt=M.aggNums(Math.max,null,Ve);if("category"===qe.type||"multicategory"===qe.type)return{start:xt-.5,end:Nt+.5,size:Math.max(1,Math.round(Mt)||1),_dataSpan:Nt-xt};if(St||(St=qe.calendar),Tt="log"===qe.type?{type:"linear",range:[xt,Nt]}:{type:qe.type,range:M.simpleMap([xt,Nt],qe.c2r,0,St),calendar:St},K.setConvert(Tt),Mt=Mt&&l.dtick(Mt,Tt.type))Tt.dtick=Mt,Tt.tick0=l.tick0(void 0,Tt.type,St);else{var bt;if(ut)bt=(Nt-xt)/ut;else{var wt=M.distinctVals(Ve),It=Math.pow(10,Math.floor(Math.log(wt.minDiff)/Math.LN10)),Wt=It*M.roundUp(wt.minDiff/It,[.9,1.9,4.9,9.9],!0);bt=Math.max(Wt,2*M.stdev(Ve)/Math.pow(Ve.length,ft?.25:.4)),E(bt)||(bt=1)}K.autoTicks(Tt,bt)}var Yt,Zt=Tt.dtick,dn=K.tickIncrement(K.tickFirst(Tt),Zt,"reverse",St);if("number"==typeof Zt)Yt=(dn=function(nn,un,rn,kn,Pn){var Sn=0,en=0,vn=0,hn=0;function yn(qn){return(1+100*(qn-nn)/rn.dtick)%100<2}for(var Cn=0;Cn<un.length;Cn++)un[Cn]%1==0?vn++:E(un[Cn])||hn++,yn(un[Cn])&&Sn++,yn(un[Cn]+rn.dtick/2)&&en++;var _n=un.length-hn;if(vn===_n&&"date"!==rn.type)rn.dtick<1?nn=kn-.5*rn.dtick:(nn-=.5)+rn.dtick<kn&&(nn+=rn.dtick);else if(en<.1*_n&&(Sn>.3*_n||yn(kn)||yn(Pn))){var Un=rn.dtick/2;nn+=nn+Un<kn?Un:-Un}return nn}(dn,Ve,Tt,xt,Nt))+(1+Math.floor((Nt-dn)/Zt))*Zt;else for("M"===Tt.dtick.charAt(0)&&(dn=function(nn,un,rn,kn,Pn){var Sn=M.findExactDates(un,Pn);if(Sn.exactDays>.8){var en=Number(rn.substr(1));Sn.exactYears>.8&&en%12==0?nn=K.tickIncrement(nn,"M6","reverse")+1.5*m:Sn.exactMonths>.8?nn=K.tickIncrement(nn,"M1","reverse")+15.5*m:nn-=C;var vn=K.tickIncrement(nn,rn);if(vn<=kn)return vn}return nn}(dn,Ve,Zt,xt,St)),Yt=dn;Yt<=Nt;)Yt=K.tickIncrement(Yt,Zt,!1,St);return{start:qe.c2r(dn,0,St),end:qe.c2r(Yt,0,St),size:Zt,_dataSpan:Nt-xt}},K.prepMinorTicks=function(Ve,qe,ut){if(!qe.minor.dtick){delete Ve.dtick;var ft,St=qe.dtick&&E(qe._tmin);if(St){var Mt=K.tickIncrement(qe._tmin,qe.dtick,!0);ft=[qe._tmin,.99*Mt+.01*qe._tmin]}else{var Tt=M.simpleMap(qe.range,qe.r2l);ft=[Tt[0],.8*Tt[0]+.2*Tt[1]]}if(Ve.range=M.simpleMap(ft,qe.l2r),Ve._isMinor=!0,K.prepTicks(Ve,ut),St){var xt=E(qe.dtick),Nt=E(Ve.dtick),bt=xt?qe.dtick:+qe.dtick.substring(1),wt=Nt?Ve.dtick:+Ve.dtick.substring(1);xt&&Nt?we(bt,wt)?bt===2*A&&wt===2*m&&(Ve.dtick=A):Ve.dtick=bt===2*A&&wt===3*m?A:bt!==A||(qe._input.minor||{}).nticks?ze(bt/wt,2.5)?bt/2:bt:m:"M"===String(qe.dtick).charAt(0)?Nt?Ve.dtick="M1":we(bt,wt)?bt>=12&&2===wt&&(Ve.dtick="M3"):Ve.dtick=qe.dtick:"L"===String(Ve.dtick).charAt(0)?"L"===String(qe.dtick).charAt(0)?we(bt,wt)||(Ve.dtick=ze(bt/wt,2.5)?qe.dtick/2:qe.dtick):Ve.dtick="D1":"D2"===Ve.dtick&&+qe.dtick>1&&(Ve.dtick=1)}Ve.range=qe.range}void 0===qe.minor._tick0Init&&(Ve.tick0=qe.tick0)},K.prepTicks=function(Ve,qe){var ut=M.simpleMap(Ve.range,Ve.r2l,void 0,void 0,qe);if("auto"===Ve.tickmode||!Ve.dtick){var ft,St=Ve.nticks;St||("category"===Ve.type||"multicategory"===Ve.type?(ft=Ve.tickfont?M.bigFont(Ve.tickfont.size||12):15,St=Ve._length/ft):(ft="y"===Ve._id.charAt(0)?40:80,St=M.constrain(Ve._length/ft,4,9)+1),"radialaxis"===Ve._name&&(St*=2)),Ve.minor&&"array"!==Ve.minor.tickmode||"array"===Ve.tickmode&&(St*=100),Ve._roughDTick=Math.abs(ut[1]-ut[0])/St,K.autoTicks(Ve,Ve._roughDTick),Ve._minDtick>0&&Ve.dtick<2*Ve._minDtick&&(Ve.dtick=Ve._minDtick,Ve.tick0=Ve.l2r(Ve._forceTick0))}"period"===Ve.ticklabelmode&&function(Mt){var Tt;function xt(){return!(E(Mt.dtick)||"M"!==Mt.dtick.charAt(0))}var Nt=xt(),bt=K.getTickFormat(Mt);if(bt){var wt=Mt._dtickInit!==Mt.dtick;/%[fLQsSMX]/.test(bt)||(/%[HI]/.test(bt)?(Tt=k,wt&&!Nt&&Mt.dtick<k&&(Mt.dtick=k)):/%p/.test(bt)?(Tt=C,wt&&!Nt&&Mt.dtick<C&&(Mt.dtick=C)):/%[Aadejuwx]/.test(bt)?(Tt=m,wt&&!Nt&&Mt.dtick<m&&(Mt.dtick=m)):/%[UVW]/.test(bt)?(Tt=A,wt&&!Nt&&Mt.dtick<A&&(Mt.dtick=A)):/%[Bbm]/.test(bt)?(Tt=x,wt&&(Nt?ke(Mt.dtick)<1:Mt.dtick<b)&&(Mt.dtick="M1")):/%[q]/.test(bt)?(Tt=_,wt&&(Nt?ke(Mt.dtick)<3:Mt.dtick<g)&&(Mt.dtick="M3")):/%[Yy]/.test(bt)&&(Tt=v,wt&&(Nt?ke(Mt.dtick)<12:Mt.dtick<p)&&(Mt.dtick="M12")))}(Nt=xt())&&Mt.tick0===Mt._dowTick0&&(Mt.tick0=Mt._rawTick0),Mt._definedDelta=Tt}(Ve),Ve.tick0||(Ve.tick0="date"===Ve.type?"2000-01-01":0),"date"===Ve.type&&Ve.dtick<.1&&(Ve.dtick=.1),Ie(Ve)},K.calcTicks=function(Ve,qe){for(var ut,ft,St=Ve.type,Mt=Ve.calendar,Tt=Ve.ticklabelstep,xt="period"===Ve.ticklabelmode,Nt=M.simpleMap(Ve.range,Ve.r2l,void 0,void 0,qe),bt=Nt[1]<Nt[0],wt=Math.min(Nt[0],Nt[1]),It=Math.max(Nt[0],Nt[1]),Wt=Math.max(1e3,Ve._length||0),Yt=[],Zt=[],dn=[],nn=[],un=Ve.minor&&(Ve.minor.ticks||Ve.minor.showgrid),rn=1;rn>=(un?0:1);rn--){var kn=!rn;rn?(Ve._dtickInit=Ve.dtick,Ve._tick0Init=Ve.tick0):(Ve.minor._dtickInit=Ve.minor.dtick,Ve.minor._tick0Init=Ve.minor.tick0);var Pn=rn?Ve:M.extendFlat({},Ve,Ve.minor);if(kn?K.prepMinorTicks(Pn,Ve,qe):K.prepTicks(Pn,qe),"array"!==Pn.tickmode)if("sync"!==Pn.tickmode){var Sn=xe(Nt),en=Sn[0],vn=Sn[1],hn=E(Pn.dtick),yn="log"===St&&!(hn||"L"===Pn.dtick.charAt(0)),Cn=K.tickFirst(Pn,qe);if(rn){if(Ve._tmin=Cn,Cn<en!==bt)break;"category"!==St&&"multicategory"!==St||(vn=bt?Math.max(-.5,vn):Math.min(Ve._categories.length-.5,vn))}var _n,Un,qn=null,Ln=Cn;rn&&(hn?Un=Ve.dtick:"date"===St?"string"==typeof Ve.dtick&&"M"===Ve.dtick.charAt(0)&&(Un=x*Ve.dtick.substring(1)):Un=Ve._roughDTick,_n=Math.round((Ve.r2l(Ln)-Ve.r2l(Ve.tick0))/Un)-1);var Yn=Pn.dtick;for(Pn.rangebreaks&&Pn._tick0Init!==Pn.tick0&&(Ln=Je(Ln,Ve),bt||(Ln=K.tickIncrement(Ln,Yn,!bt,Mt))),rn&&xt&&(Ln=K.tickIncrement(Ln,Yn,!bt,Mt),_n--);bt?Ln>=vn:Ln<=vn;Ln=K.tickIncrement(Ln,Yn,bt,Mt)){if(rn&&_n++,Pn.rangebreaks&&!bt){if(Ln<en)continue;if(Pn.maskBreaks(Ln)===N&&Je(Ln,Pn)>=It)break}if(dn.length>Wt||Ln===qn)break;qn=Ln;var _r={value:Ln};rn?(yn&&Ln!==(0|Ln)&&(_r.simpleLabel=!0),Tt>1&&_n%Tt&&(_r.skipLabel=!0),dn.push(_r)):(_r.minor=!0,nn.push(_r))}}else dn=[],Yt=me(Ve);else rn?(dn=[],Yt=de(Ve)):(nn=[],Zt=de(Ve))}if(un&&!("inside"===Ve.minor.ticks&&"outside"===Ve.ticks||"outside"===Ve.minor.ticks&&"inside"===Ve.ticks)){for(var dr=dn.map(function(Ft){return Ft.value}),kr=[],vr=0;vr<nn.length;vr++){var mr=nn[vr],Br=mr.value;if(-1===dr.indexOf(Br)){for(var qt=!1,on=0;!qt&&on<dn.length;on++)1e7+dn[on].value===1e7+Br&&(qt=!0);qt||kr.push(mr)}}nn=kr}if(xt&&function(Ft,an,pn){for(var En=0;En<Ft.length;En++){var Rn=Ft[En].value,jn=En,Tn=En+1;En<Ft.length-1?(jn=En,Tn=En+1):En>0?(jn=En-1,Tn=En):(jn=En,Tn=En);var ln,Mn=Math.abs(Ft[Tn].value-Ft[jn].value),Hn=pn||Mn,Wn=0;Hn>=p?Wn=Mn>=p&&Mn<=h?Mn:v:pn===_&&Hn>=g?Wn=Mn>=g&&Mn<=T?Mn:_:Hn>=b?Wn=Mn>=b&&Mn<=w?Mn:x:pn===A&&Hn>=A?Wn=A:Hn>=m?Wn=m:pn===C&&Hn>=C?Wn=C:pn===k&&Hn>=k&&(Wn=k),Wn>=Mn&&(Wn=Mn,ln=!0);var cr=Rn+Wn;if(an.rangebreaks&&Wn>0){for(var or=0,xr=0;xr<84;xr++){var sr=(xr+.5)/84;an.maskBreaks(Rn*(1-sr)+sr*cr)!==N&&or++}(Wn*=or/84)||(Ft[En].drop=!0),ln&&Mn>A&&(Wn=Mn)}(Wn>0||0===En)&&(Ft[En].periodX=Rn+Wn/2)}}(dn,Ve,Ve._definedDelta),Ve.rangebreaks){var An="y"===Ve._id.charAt(0),Dn=1;"auto"===Ve.tickmode&&(Dn=Ve.tickfont?Ve.tickfont.size:12);var Bn=NaN;for(ut=dn.length-1;ut>-1;ut--)if(dn[ut].drop)dn.splice(ut,1);else{dn[ut].value=Je(dn[ut].value,Ve);var fr=Ve.c2p(dn[ut].value);(An?Bn>fr-Dn:Bn<fr+Dn)?dn.splice(bt?ut+1:ut,1):Bn=fr}}ot(Ve)&&360===Math.abs(Nt[1]-Nt[0])&&dn.pop(),Ve._tmax=(dn[dn.length-1]||{}).value,Ve._prevDateHead="",Ve._inCalcTicks=!0;var bn,Qn,er=function(Ft){Ft.text="",Ve._prevDateHead=ft};for(dn=dn.concat(nn),ut=0;ut<dn.length;ut++){var Nn=dn[ut].value;dn[ut].minor?Zt.push({x:Nn,minor:!0}):(ft=Ve._prevDateHead,bn=K.tickText(Ve,Nn,!1,dn[ut].simpleLabel),void 0!==(Qn=dn[ut].periodX)&&(bn.periodX=Qn,(Qn>It||Qn<wt)&&(Qn>It&&(bn.periodX=It),Qn<wt&&(bn.periodX=wt),er(bn))),dn[ut].skipLabel&&er(bn),Yt.push(bn))}return Yt=Yt.concat(Zt),Ve._inCalcTicks=!1,xt&&Yt.length&&(Yt[0].noTick=!0),Yt};var ce=[2,5,10],Ae=[1,2,3,6,12],Ne=[1,2,5,10,15,30],De=[1,2,3,7,14],Ue=[-.046,0,.301,.477,.602,.699,.778,.845,.903,.954,1],Ye=[-.301,0,.301,.699,1],_e=[15,30,45,90,180];function Pe(Ve,qe,ut){return qe*M.roundUp(Ve/qe,ut)}function Ie(Ve){var qe=Ve.dtick;if(Ve._tickexponent=0,E(qe)||"string"==typeof qe||(qe=1),"category"!==Ve.type&&"multicategory"!==Ve.type||(Ve._tickround=null),"date"===Ve.type){var ut=Ve.r2l(Ve.tick0),ft=Ve.l2r(ut).replace(/(^-|i)/g,""),St=ft.length;if("M"===String(qe).charAt(0))Ve._tickround=St>10||"01-01"!==ft.substr(5)?"d":+qe.substr(1)%12==0?"y":"m";else if(qe>=m&&St<=10||qe>=15*m)Ve._tickround="d";else if(qe>=P&&St<=16||qe>=k)Ve._tickround="M";else if(qe>=R&&St<=19||qe>=P)Ve._tickround="S";else{var Mt=Ve.l2r(ut+qe).replace(/^-/,"").length;Ve._tickround=Math.max(St,Mt)-20,Ve._tickround<0&&(Ve._tickround=4)}}else if(E(qe)||"L"===qe.charAt(0)){var Tt=Ve.range.map(Ve.r2d||Number);E(qe)||(qe=Number(qe.substr(1))),Ve._tickround=2-Math.floor(Math.log(qe)/Math.LN10+.01);var xt=Math.max(Math.abs(Tt[0]),Math.abs(Tt[1])),Nt=Math.floor(Math.log(xt)/Math.LN10+.01),bt=void 0===Ve.minexponent?3:Ve.minexponent;Math.abs(Nt)>bt&&(Ve._tickexponent=Ge(Ve.exponentformat)&&!Ke(Nt)?3*Math.round((Nt-1)/3):Nt)}else Ve._tickround=null}function Be(Ve,qe,ut){var ft=Ve.tickfont||{};return{x:qe,dx:0,dy:0,text:ut||"",fontSize:ft.size,font:ft.family,fontColor:ft.color}}K.autoTicks=function(Ve,qe,ut){var ft;function St(It){return Math.pow(It,Math.floor(Math.log(qe)/Math.LN10))}if("date"===Ve.type){Ve.tick0=M.dateTick0(Ve.calendar,0);var Mt=2*qe;if(Mt>v)qe/=v,ft=St(10),Ve.dtick="M"+12*Pe(qe,ft,ce);else if(Mt>x)Ve.dtick="M"+Pe(qe/=x,1,Ae);else if(Mt>m){if(Ve.dtick=Pe(qe,m,Ve._hasDayOfWeekBreaks?[1,2,7,14]:De),!ut){var Tt=K.getTickFormat(Ve),xt="period"===Ve.ticklabelmode;xt&&(Ve._rawTick0=Ve.tick0),Ve.tick0=/%[uVW]/.test(Tt)?M.dateTick0(Ve.calendar,2):M.dateTick0(Ve.calendar,1),xt&&(Ve._dowTick0=Ve.tick0)}}else Mt>k?Ve.dtick=Pe(qe,k,Ae):Mt>P?Ve.dtick=Pe(qe,P,Ne):Mt>R?Ve.dtick=Pe(qe,R,Ne):(ft=St(10),Ve.dtick=Pe(qe,ft,ce))}else if("log"===Ve.type){Ve.tick0=0;var Nt=M.simpleMap(Ve.range,Ve.r2l);if(Ve._isMinor&&(qe*=1.5),qe>.7)Ve.dtick=Math.ceil(qe);else if(Math.abs(Nt[1]-Nt[0])<1){var bt=1.5*Math.abs((Nt[1]-Nt[0])/qe);qe=Math.abs(Math.pow(10,Nt[1])-Math.pow(10,Nt[0]))/bt,ft=St(10),Ve.dtick="L"+Pe(qe,ft,ce)}else Ve.dtick=qe>.3?"D2":"D1"}else"category"===Ve.type||"multicategory"===Ve.type?(Ve.tick0=0,Ve.dtick=Math.ceil(Math.max(qe,1))):ot(Ve)?(Ve.tick0=0,Ve.dtick=Pe(qe,ft=1,_e)):(Ve.tick0=0,ft=St(10),Ve.dtick=Pe(qe,ft,ce));if(0===Ve.dtick&&(Ve.dtick=1),!E(Ve.dtick)&&"string"!=typeof Ve.dtick){var wt=Ve.dtick;throw Ve.dtick=1,"ax.dtick error: "+String(wt)}},K.tickIncrement=function(Ve,qe,ut,ft){var St=ut?-1:1;if(E(qe))return M.increment(Ve,St*qe);var Mt=qe.charAt(0),Tt=St*Number(qe.substr(1));if("M"===Mt)return M.incrementMonth(Ve,Tt,ft);if("L"===Mt)return Math.log(Math.pow(10,Ve)+Tt)/Math.LN10;if("D"===Mt){var xt="D2"===qe?Ye:Ue,Nt=Ve+.01*St,bt=M.roundUp(M.mod(Nt,1),xt,ut);return Math.floor(Nt)+Math.log(I.round(Math.pow(10,bt),1))/Math.LN10}throw"unrecognized dtick "+String(qe)},K.tickFirst=function(Ve,qe){var ut=Ve.r2l||Number,ft=M.simpleMap(Ve.range,ut,void 0,void 0,qe),St=ft[1]<ft[0],Mt=St?Math.floor:Math.ceil,Tt=xe(ft)[0],xt=Ve.dtick,Nt=ut(Ve.tick0);if(E(xt)){var bt=Mt((Tt-Nt)/xt)*xt+Nt;return"category"!==Ve.type&&"multicategory"!==Ve.type||(bt=M.constrain(bt,0,Ve._categories.length-1)),bt}var wt=xt.charAt(0),It=Number(xt.substr(1));if("M"===wt){for(var Wt,Yt,Zt,dn=0,nn=Nt;dn<10;){if(((Wt=K.tickIncrement(nn,xt,St,Ve.calendar))-Tt)*(nn-Tt)<=0)return St?Math.min(nn,Wt):Math.max(nn,Wt);Yt=(Tt-(nn+Wt)/2)/(Wt-nn),Zt=wt+(Math.abs(Math.round(Yt))||1)*It,nn=K.tickIncrement(nn,Zt,Yt<0?!St:St,Ve.calendar),dn++}return M.error("tickFirst did not converge",Ve),nn}if("L"===wt)return Math.log(Mt((Math.pow(10,Tt)-Nt)/It)*It+Nt)/Math.LN10;if("D"===wt){var un="D2"===xt?Ye:Ue,rn=M.roundUp(M.mod(Tt,1),un,St);return Math.floor(Tt)+Math.log(I.round(Math.pow(10,rn),1))/Math.LN10}throw"unrecognized dtick "+String(xt)},K.tickText=function(Ve,qe,ut,ft){var St,Mt=Be(Ve,qe),Tt="array"===Ve.tickmode,xt=ut||Tt,Nt=Ve.type,bt="category"===Nt?Ve.d2l_noadd:Ve.d2l;if(Tt&&Array.isArray(Ve.ticktext)){var wt=M.simpleMap(Ve.range,Ve.r2l),It=(Math.abs(wt[1]-wt[0])-(Ve._lBreaks||0))/1e4;for(St=0;St<Ve.ticktext.length&&!(Math.abs(qe-bt(Ve.tickvals[St]))<It);St++);if(St<Ve.ticktext.length)return Mt.text=String(Ve.ticktext[St]),Mt}function Wt(nn){return void 0===nn||(ut?"none"===nn:"all"!==nn&&qe!=={first:Ve._tmin,last:Ve._tmax}[nn])}var un,rn,Yt=ut?"never":"none"!==Ve.exponentformat&&Wt(Ve.showexponent)?"hide":"";if("date"===Nt?function(nn,un,rn,kn){var Pn=nn._tickround,Sn=rn&&nn.hoverformat||K.getTickFormat(nn);kn&&(Pn=E(Pn)?4:{y:"m",m:"d",d:"M",M:"S",S:4}[Pn]);var en,vn=M.formatDate(un.x,Sn,Pn,nn._dateFormat,nn.calendar,nn._extraFormat),hn=vn.indexOf("\n");if(-1!==hn&&(en=vn.substr(hn+1),vn=vn.substr(0,hn)),kn&&("00:00:00"===vn||"00:00"===vn?(vn=en,en=""):8===vn.length&&(vn=vn.replace(/:00$/,""))),en)if(rn)"d"===Pn?vn+=", "+en:vn=en+(vn?", "+vn:"");else if(nn._inCalcTicks&&nn._prevDateHead===en){var yn=it(nn),Cn=nn._trueSide||nn.side;(!yn&&"top"===Cn||yn&&"bottom"===Cn)&&(vn+="<br> ")}else nn._prevDateHead=en,vn+="<br>"+en;un.text=vn}(Ve,Mt,ut,xt):"log"===Nt?function(nn,un,rn,kn,Pn){var Sn=nn.dtick,en=un.x,vn=nn.tickformat,hn="string"==typeof Sn&&Sn.charAt(0);if("never"===Pn&&(Pn=""),kn&&"L"!==hn&&(Sn="L3",hn="L"),vn||"L"===hn)un.text=tt(Math.pow(10,en),nn,Pn,kn);else if(E(Sn)||"D"===hn&&M.mod(en+.01,1)<.1){var yn=Math.round(en),Cn=Math.abs(yn),_n=nn.exponentformat;"power"===_n||Ge(_n)&&Ke(yn)?(un.text=0===yn?1:1===yn?"10":"10<sup>"+(yn>1?"":L)+Cn+"</sup>",un.fontSize*=1.25):("e"===_n||"E"===_n)&&Cn>2?un.text="1"+_n+(yn>0?"+":L)+Cn:(un.text=tt(Math.pow(10,en),nn,"","fakehover"),"D1"===Sn&&"y"===nn._id.charAt(0)&&(un.dy-=un.fontSize/6))}else{if("D"!==hn)throw"unrecognized dtick "+String(Sn);un.text=String(Math.round(Math.pow(10,M.mod(en,1)))),un.fontSize*=.75}if("D1"===nn.dtick){var Un=String(un.text).charAt(0);"0"!==Un&&"1"!==Un||("y"===nn._id.charAt(0)?un.dx-=un.fontSize/4:(un.dy+=un.fontSize/2,un.dx+=(nn.range[1]>nn.range[0]?1:-1)*un.fontSize*(en<0?.5:.25)))}}(Ve,Mt,0,xt,Yt):"category"===Nt?(un=Mt,void 0===(rn=Ve._categories[Math.round(un.x)])&&(rn=""),un.text=String(rn)):"multicategory"===Nt?function(nn,un,rn){var kn=Math.round(un.x),Pn=nn._categories[kn]||[],Sn=void 0===Pn[1]?"":String(Pn[1]),en=void 0===Pn[0]?"":String(Pn[0]);rn?un.text=en+" - "+Sn:(un.text=Sn,un.text2=en)}(Ve,Mt,ut):ot(Ve)?function(nn,un,rn,kn,Pn){if("radians"!==nn.thetaunit||rn)un.text=tt(un.x,nn,Pn,kn);else{var Sn=un.x/180;if(0===Sn)un.text="0";else{var en=function(hn){function yn(qn,Ln){return Math.abs(qn-Ln)<=1e-6}var Cn=function(qn){for(var Ln=1;!yn(Math.round(qn*Ln)/Ln,qn);)Ln*=10;return Ln}(hn),_n=hn*Cn,Un=Math.abs(function qn(Ln,Yn){return yn(Yn,0)?Ln:qn(Yn,Ln%Yn)}(_n,Cn));return[Math.round(_n/Un),Math.round(Cn/Un)]}(Sn);if(en[1]>=100)un.text=tt(M.deg2rad(un.x),nn,Pn,kn);else{var vn=un.x<0;un.text=1===en[1]?1===en[0]?"\u03c0":en[0]+"\u03c0":["<sup>",en[0],"</sup>","\u2044","<sub>",en[1],"</sub>","\u03c0"].join(""),vn&&(un.text=L+un.text)}}}}(Ve,Mt,ut,xt,Yt):function(nn,un,rn,kn,Pn){"never"===Pn?Pn="":"all"===nn.showexponent&&Math.abs(un.x/nn.dtick)<1e-6&&(Pn="hide"),un.text=tt(un.x,nn,Pn,kn)}(Ve,Mt,0,xt,Yt),ft||(Ve.tickprefix&&!Wt(Ve.showtickprefix)&&(Mt.text=Ve.tickprefix+Mt.text),Ve.ticksuffix&&!Wt(Ve.showticksuffix)&&(Mt.text+=Ve.ticksuffix)),Ve.labelalias&&Ve.labelalias.hasOwnProperty(Mt.text)){var Zt=Ve.labelalias[Mt.text];"string"==typeof Zt&&(Mt.text=Zt)}if("boundaries"===Ve.tickson||Ve.showdividers){var dn=function(nn){var un=Ve.l2p(nn);return un>=0&&un<=Ve._length?nn:null};Mt.xbnd=[dn(Mt.x-.5),dn(Mt.x+Ve.dtick-.5)]}return Mt},K.hoverLabelText=function(Ve,qe,ut){ut&&(Ve=M.extendFlat({},Ve,{hoverformat:ut}));var ft=Array.isArray(qe)?qe[0]:qe,St=Array.isArray(qe)?qe[1]:void 0;if(void 0!==St&&St!==ft)return K.hoverLabelText(Ve,ft,ut)+" - "+K.hoverLabelText(Ve,St,ut);var Mt="log"===Ve.type&&ft<=0,Tt=K.tickText(Ve,Ve.c2l(Mt?-ft:ft),"hover").text;return Mt?0===ft?"0":L+Tt:Tt};var We=["f","p","n","\u03bc","m","","k","M","G","T"];function Ge(Ve){return"SI"===Ve||"B"===Ve}function Ke(Ve){return Ve>14||Ve<-15}function tt(Ve,qe,ut,ft){var St=Ve<0,Mt=qe._tickround,Tt=ut||qe.exponentformat||"B",xt=qe._tickexponent,Nt=K.getTickFormat(qe),bt=qe.separatethousands;if(ft){var wt={exponentformat:Tt,minexponent:qe.minexponent,dtick:"none"===qe.showexponent?qe.dtick:E(Ve)&&Math.abs(Ve)||1,range:"none"===qe.showexponent?qe.range.map(qe.r2d):[0,Ve||1]};Ie(wt),Mt=(Number(wt._tickround)||0)+4,xt=wt._tickexponent,qe.hoverformat&&(Nt=qe.hoverformat)}if(Nt)return qe._numFormat(Nt)(Ve).replace(/-/g,L);var It,Wt=Math.pow(10,-Mt)/2;if("none"===Tt&&(xt=0),(Ve=Math.abs(Ve))<Wt)Ve="0",St=!1;else{if(Ve+=Wt,xt&&(Ve*=Math.pow(10,-xt),Mt+=xt),0===Mt)Ve=String(Math.floor(Ve));else if(Mt<0){Ve=(Ve=String(Math.round(Ve))).substr(0,Ve.length+Mt);for(var Yt=Mt;Yt<0;Yt++)Ve+="0"}else{var Zt=(Ve=String(Ve)).indexOf(".")+1;Zt&&(Ve=Ve.substr(0,Zt+Mt).replace(/\.?0+$/,""))}Ve=M.numSeparate(Ve,qe._separators,bt)}return xt&&"hide"!==Tt&&(Ge(Tt)&&Ke(xt)&&(Tt="power"),It=xt<0?L+-xt:"power"!==Tt?"+"+xt:String(xt),"e"===Tt||"E"===Tt?Ve+=Tt+It:"power"===Tt?Ve+="\xd710<sup>"+It+"</sup>":"B"===Tt&&9===xt?Ve+="B":Ge(Tt)&&(Ve+=We[xt/3+5])),St?L+Ve:Ve}function st(Ve,qe){if(Ve){var ut=Object.keys(U).reduce(function(ft,St){return-1!==qe.indexOf(St)&&U[St].forEach(function(Mt){ft[Mt]=1}),ft},{});Object.keys(Ve).forEach(function(ft){ut[ft]||(1===ft.length?Ve[ft]=0:delete Ve[ft])})}}function gt(Ve,qe){for(var ut=[],ft={},St=0;St<qe.length;St++){var Mt=qe[St];ft[Mt.text2]?ft[Mt.text2].push(Mt.x):ft[Mt.text2]=[Mt.x]}for(var Tt in ft)ut.push(Be(Ve,M.interp(ft[Tt],.5),Tt));return ut}function ct(Ve){return void 0!==Ve.periodX?Ve.periodX:Ve.x}function kt(Ve){return[Ve.text,Ve.x,Ve.axInfo,Ve.font,Ve.fontSize,Ve.fontColor].join("_")}function Dt(Ve){var qe=Ve.title.font.size,ut=(Ve.title.text.match(u.BR_TAG_ALL)||[]).length;return Ve.title.hasOwnProperty("standoff")?ut?qe*(se+ut*re):qe*se:ut?qe*(ut+1)*re:qe}function vt(Ve,qe){var ut=Ve.l2p(qe);return ut>1&&ut<Ve._length-1}function mt(Ve){var qe=I.select(Ve),ut=qe.select(".text-math-group");return ut.empty()?qe.select("text"):ut}function Et(Ve){return Ve._id+".automargin"}function Lt(Ve){return Et(Ve)+".mirror"}function Rt(Ve){return Ve._id+".rangeslider"}function Ut(Ve,qe){for(var ut=0;ut<qe.length;ut++)-1===Ve.indexOf(qe[ut])&&Ve.push(qe[ut])}function Bt(Ve,qe,ut){var ft,St,Mt=[],Tt=[],xt=Ve.layout;for(ft=0;ft<qe.length;ft++)Mt.push(K.getFromId(Ve,qe[ft]));for(ft=0;ft<ut.length;ft++)Tt.push(K.getFromId(Ve,ut[ft]));var Nt=Object.keys(o),bt=["anchor","domain","overlaying","position","side","tickangle","editType"],wt=["linear","log"];for(ft=0;ft<Nt.length;ft++){var It=Nt[ft],Wt=Mt[0][It],Yt=Tt[0][It],Zt=!0,dn=!1,nn=!1;if("_"!==It.charAt(0)&&"function"!=typeof Wt&&-1===bt.indexOf(It)){for(St=1;St<Mt.length&&Zt;St++){var un=Mt[St][It];"type"===It&&-1!==wt.indexOf(Wt)&&-1!==wt.indexOf(un)&&Wt!==un?dn=!0:un!==Wt&&(Zt=!1)}for(St=1;St<Tt.length&&Zt;St++){var rn=Tt[St][It];"type"===It&&-1!==wt.indexOf(Yt)&&-1!==wt.indexOf(rn)&&Yt!==rn?nn=!0:Tt[St][It]!==Yt&&(Zt=!1)}Zt&&(dn&&(xt[Mt[0]._name].type="linear"),nn&&(xt[Tt[0]._name].type="linear"),rt(xt,It,Mt,Tt,Ve._fullLayout._dfltTitle))}}for(ft=0;ft<Ve._fullLayout.annotations.length;ft++){var kn=Ve._fullLayout.annotations[ft];-1!==qe.indexOf(kn.xref)&&-1!==ut.indexOf(kn.yref)&&M.swapAttrs(xt.annotations[ft],["?"])}}function rt(Ve,qe,ut,ft,St){var Mt,Tt=M.nestedProperty,xt=Tt(Ve[ut[0]._name],qe).get(),Nt=Tt(Ve[ft[0]._name],qe).get();for("title"===qe&&(xt&&xt.text===St.x&&(xt.text=St.y),Nt&&Nt.text===St.y&&(Nt.text=St.x)),Mt=0;Mt<ut.length;Mt++)Tt(Ve,ut[Mt]._name+"."+qe).set(Nt);for(Mt=0;Mt<ft.length;Mt++)Tt(Ve,ft[Mt]._name+"."+qe).set(xt)}function ot(Ve){return"angularaxis"===Ve._id}function Je(Ve,qe){for(var ut=qe._rangebreaks.length,ft=0;ft<ut;ft++){var St=qe._rangebreaks[ft];if(Ve>=St.min&&Ve<St.max)return St.max}return Ve}function it(Ve){return-1!==(Ve.ticklabelposition||"").indexOf("inside")}function dt(Ve,qe){it(Ve._anchorAxis||{})&&Ve._hideCounterAxisInsideTickLabels&&Ve._hideCounterAxisInsideTickLabels(qe)}function ht(Ve,qe,ut,ft){var St,Mt="free"===Ve.anchor||void 0!==Ve.overlaying&&!1!==Ve.overlaying?Ve.overlaying:Ve._id;St=ft?"right"===Ve.side?qe:-qe:qe,Mt in ut||(ut[Mt]={}),Ve.side in ut[Mt]||(ut[Mt][Ve.side]=0),ut[Mt][Ve.side]+=St}K.getTickFormat=function(Ve){var qe,ut,ft,St,Mt,Tt,xt,Nt,Wt,Yt,Zt,dn,nn,un;function bt(Wt){return"string"!=typeof Wt?Wt:Number(Wt.replace("M",""))*x}function wt(Wt,Yt){var Zt=["L","D"];if(typeof Wt==typeof Yt){if("number"==typeof Wt)return Wt-Yt;var dn=Zt.indexOf(Wt.charAt(0)),nn=Zt.indexOf(Yt.charAt(0));return dn===nn?Number(Wt.replace(/(L|D)/g,""))-Number(Yt.replace(/(L|D)/g,"")):dn-nn}return"number"==typeof Wt?1:-1}if(Ve.tickformatstops&&Ve.tickformatstops.length>0)switch(Ve.type){case"date":case"linear":for(qe=0;qe<Ve.tickformatstops.length;qe++)if((ft=Ve.tickformatstops[qe]).enabled&&(St=Ve.dtick,Tt=void 0,void 0,void 0,Tt=bt||function(Wt){return Wt},Nt=(Mt=ft.dtickrange)[1],(!(xt=Mt[0])&&"number"!=typeof xt||Tt(xt)<=Tt(St))&&(!Nt&&"number"!=typeof Nt||Tt(Nt)>=Tt(St)))){ut=ft;break}break;case"log":for(qe=0;qe<Ve.tickformatstops.length;qe++)if((ft=Ve.tickformatstops[qe]).enabled&&(Zt=void 0,dn=void 0,nn=void 0,un=void 0,Zt=null===(Yt=ft.dtickrange)[0],dn=null===Yt[1],nn=wt(Wt=Ve.dtick,Yt[0])>=0,un=wt(Wt,Yt[1])<=0,(Zt||nn)&&(dn||un))){ut=ft;break}}return ut?ut.value:Ve.tickformat},K.getSubplots=function(Ve,qe){var ut=Ve._fullLayout._subplots,ft=ut.cartesian.concat(ut.gl2d||[]),St=qe?K.findSubplotsWithAxis(ft,qe):ft;return St.sort(function(Mt,Tt){var xt=Mt.substr(1).split("y"),Nt=Tt.substr(1).split("y");return xt[0]===Nt[0]?+xt[1]-+Nt[1]:+xt[0]-+Nt[0]}),St},K.findSubplotsWithAxis=function(Ve,qe){for(var ut=new RegExp("x"===qe._id.charAt(0)?"^"+qe._id+"y":qe._id+"$"),ft=[],St=0;St<Ve.length;St++){var Mt=Ve[St];ut.test(Mt)&&ft.push(Mt)}return ft},K.makeClipPaths=function(Ve){var qe=Ve._fullLayout;if(!qe._hasOnlyLargeSploms){var ut,ft,St={_offset:0,_length:qe.width,_id:""},Mt={_offset:0,_length:qe.height,_id:""},Tt=K.list(Ve,"x",!0),xt=K.list(Ve,"y",!0),Nt=[];for(ut=0;ut<Tt.length;ut++)for(Nt.push({x:Tt[ut],y:Mt}),ft=0;ft<xt.length;ft++)0===ut&&Nt.push({x:St,y:xt[ft]}),Nt.push({x:Tt[ut],y:xt[ft]});var bt=qe._clips.selectAll(".axesclip").data(Nt,function(wt){return wt.x._id+wt.y._id});bt.enter().append("clipPath").classed("axesclip",!0).attr("id",function(wt){return"clip"+qe._uid+wt.x._id+wt.y._id}).append("rect"),bt.exit().remove(),bt.each(function(wt){I.select(this).select("rect").attr({x:wt.x._offset||0,y:wt.y._offset||0,width:wt.x._length||1,height:wt.y._length||1})})}},K.draw=function(Ve,qe,ut){var ft=Ve._fullLayout;"redraw"===qe&&ft._paper.selectAll("g.subplot").each(function(xt){var bt=ft._plots[xt[0]];if(bt){var wt=bt.xaxis,It=bt.yaxis;bt.xaxislayer.selectAll("."+wt._id+"tick").remove(),bt.yaxislayer.selectAll("."+It._id+"tick").remove(),bt.xaxislayer.selectAll("."+wt._id+"tick2").remove(),bt.yaxislayer.selectAll("."+It._id+"tick2").remove(),bt.xaxislayer.selectAll("."+wt._id+"divider").remove(),bt.yaxislayer.selectAll("."+It._id+"divider").remove(),bt.minorGridlayer&&bt.minorGridlayer.selectAll("path").remove(),bt.gridlayer&&bt.gridlayer.selectAll("path").remove(),bt.zerolinelayer&&bt.zerolinelayer.selectAll("path").remove(),ft._infolayer.select(".g-"+wt._id+"title").remove(),ft._infolayer.select(".g-"+It._id+"title").remove()}});var St=qe&&"redraw"!==qe?qe:K.listIds(Ve),Mt=K.list(Ve).filter(function(xt){return xt.autoshift}).map(function(xt){return xt.overlaying});St.map(function(xt){var Nt=K.getFromId(Ve,xt);if("sync"===Nt.tickmode&&Nt.overlaying){var bt=St.findIndex(function(wt){return wt===Nt.overlaying});bt>=0&&St.unshift(St.splice(bt,1).shift())}});var Tt={false:{left:0,right:0}};return M.syncOrAsync(St.map(function(xt){return function(){if(xt){var Nt=K.getFromId(Ve,xt);ut||(ut={}),ut.axShifts=Tt,ut.overlayingShiftedAx=Mt;var bt=K.drawOne(Ve,Nt,ut);return Nt._shiftPusher&&ht(Nt,Nt._fullDepth||0,Tt,!0),Nt._r=Nt.range.slice(),Nt._rl=M.simpleMap(Nt._r,Nt.r2l),bt}}}))},K.drawOne=function(Ve,qe,ut){var ft,St,Mt,Tt=(ut=ut||{}).axShifts||{},xt=ut.overlayingShiftedAx||[];qe.setScale();var Tn,Nt=Ve._fullLayout,bt=qe._id,wt=bt.charAt(0),It=K.counterLetter(bt),Wt=Nt._plots[qe._mainSubplot];if(Wt){if(qe._shiftPusher=qe.autoshift||-1!==xt.indexOf(qe._id)||-1!==xt.indexOf(qe.overlaying),qe._shiftPusher&"free"===qe.anchor){var Yt=qe.linewidth/2||0;"inside"===qe.ticks&&(Yt+=qe.ticklen),ht(qe,Yt,Tt,!0),ht(qe,qe.shift||0,Tt,!1)}!0===ut.skipTitle&&void 0!==qe._shift||(qe._shift=(Tn=qe).autoshift?Tt[Tn.overlaying][Tn.side]:Tn.shift||0);var Zt=Wt[wt+"axislayer"],dn=qe._mainLinePosition,nn=dn+=qe._shift,un=qe._mainMirrorPosition,rn=qe._vals=K.calcTicks(qe),kn=[qe.mirror,nn,un].join("_");for(ft=0;ft<rn.length;ft++)rn[ft].axInfo=kn;qe._selections={},qe._tickAngles&&(qe._prevTickAngles=qe._tickAngles),qe._tickAngles={},qe._depth=null;var Pn={};if(qe.visible){var Sn,en,vn=K.makeTransTickFn(qe),hn=K.makeTransTickLabelFn(qe),yn="inside"===qe.ticks,Cn="outside"===qe.ticks;if("boundaries"===qe.tickson){var _n=function(Tn,ln){var fn,wn=[],Mn=function(Hn,Wn){var cr=Hn.xbnd[Wn];null!==cr&&wn.push(M.extendFlat({},Hn,{x:cr}))};if(ln.length){for(fn=0;fn<ln.length;fn++)Mn(ln[fn],0);Mn(ln[fn-1],1)}return wn}(0,rn);en=K.clipEnds(qe,_n),Sn=yn?en:_n}else en=K.clipEnds(qe,rn),Sn=yn&&"period"!==qe.ticklabelmode?en:rn;var Un,qn=qe._gridVals=en,Ln=function(Tn,ln){var fn,wn,Mn=[],Hn=ln.length&&ln[ln.length-1].x<ln[0].x,Wn=function(or,xr){var sr=or.xbnd[xr];null!==sr&&Mn.push(M.extendFlat({},or,{x:sr}))};if(Tn.showdividers&&ln.length){for(fn=0;fn<ln.length;fn++){var cr=ln[fn];cr.text2!==wn&&Wn(cr,Hn?1:0),wn=cr.text2}Wn(ln[fn-1],Hn?0:1)}return Mn}(qe,rn);if(!Nt._hasOnlyLargeSploms){var Yn=qe._subplotsWith,_r={};for(ft=0;ft<Yn.length;ft++){var dr=(Mt=Nt._plots[St=Yn[ft]])[It+"axis"],kr=dr._mainAxis._id;if(!_r[kr]){_r[kr]=1;var vr="x"===wt?"M0,"+dr._offset+"v"+dr._length:"M"+dr._offset+",0h"+dr._length;K.drawGrid(Ve,qe,{vals:qn,counterAxis:dr,layer:Mt.gridlayer.select("."+bt),minorLayer:Mt.minorGridlayer.select("."+bt),path:vr,transFn:vn}),K.drawZeroLine(Ve,qe,{counterAxis:dr,layer:Mt.zerolinelayer,path:vr,transFn:vn})}}}var mr=K.getTickSigns(qe),Br=K.getTickSigns(qe,"minor");if(qe.ticks||qe.minor&&qe.minor.ticks){var qt,on,An,Dn,Bn=K.makeTickPath(qe,nn,mr[2]),fr=K.makeTickPath(qe,nn,Br[2],{minor:!0});if(qe._anchorAxis&&qe.mirror&&!0!==qe.mirror?(qt=K.makeTickPath(qe,un,mr[3]),on=K.makeTickPath(qe,un,Br[3],{minor:!0}),An=Bn+qt,Dn=fr+on):(qt="",on="",An=Bn,Dn=fr),qe.showdividers&&Cn&&"boundaries"===qe.tickson){var bn={};for(ft=0;ft<Ln.length;ft++)bn[Ln[ft].x]=1;Un=function(Tn){return bn[Tn.x]?qt:An}}else Un=function(Tn){return Tn.minor?Dn:An}}if(K.drawTicks(Ve,qe,{vals:Sn,layer:Zt,path:Un,transFn:vn}),"allticks"===qe.mirror){var Qn=Object.keys(qe._linepositions||{});for(ft=0;ft<Qn.length;ft++){Mt=Nt._plots[St=Qn[ft]];var er=qe._linepositions[St]||[],Nn=er[1],Ft=er[2],an=K.makeTickPath(qe,er[0],Ft?mr[0]:Br[0],{minor:Ft})+K.makeTickPath(qe,Nn,Ft?mr[1]:Br[1],{minor:Ft});K.drawTicks(Ve,qe,{vals:Sn,layer:Mt[wt+"axislayer"],path:an,transFn:vn})}}var pn=[];if(pn.push(function(){return K.drawLabels(Ve,qe,{vals:rn,layer:Zt,plotinfo:Mt,transFn:hn,labelFns:K.makeLabelFns(qe,nn)})}),"multicategory"===qe.type){var En={x:2,y:10}[wt];pn.push(function(){var Tn={x:"height",y:"width"}[wt],ln=jn()[Tn]+En+(qe._tickAngles[bt+"tick"]?qe.tickfont.size*re:0);return K.drawLabels(Ve,qe,{vals:gt(qe,rn),layer:Zt,cls:bt+"tick2",repositionOnUpdate:!0,secondary:!0,transFn:vn,labelFns:K.makeLabelFns(qe,nn+ln*mr[4])})}),pn.push(function(){return qe._depth=mr[4]*(jn("tick2")[qe.side]-nn),function(Tn,ln,fn){var wn=ln._id+"divider",Mn=fn.vals,Hn=fn.layer.selectAll("path."+wn).data(Mn,kt);Hn.exit().remove(),Hn.enter().insert("path",":first-child").classed(wn,1).classed("crisp",1).call(s.stroke,ln.dividercolor).style("stroke-width",a.crispRound(Tn,ln.dividerwidth,1)+"px"),Hn.attr("transform",fn.transFn).attr("d",fn.path)}(Ve,qe,{vals:Ln,layer:Zt,path:K.makeTickPath(qe,nn,mr[4],{len:qe._depth}),transFn:vn})})}else qe.title.hasOwnProperty("standoff")&&pn.push(function(){qe._depth=mr[4]*(jn()[qe.side]-nn)});var Rn=S.getComponentMethod("rangeslider","isVisible")(qe);return ut.skipTitle||Rn&&"bottom"===qe.side||pn.push(function(){return function(Tn,ln){var fn,wn=Tn._fullLayout,Mn=ln._id,Hn=Mn.charAt(0),Wn=ln.title.font.size;if(ln.title.hasOwnProperty("standoff"))fn=ln._depth+ln.title.standoff+Dt(ln);else{var cr=it(ln);if("multicategory"===ln.type)fn=ln._depth;else{var or=1.5*Wn;cr&&(or=.5*Wn,"outside"===ln.ticks&&(or+=ln.ticklen)),fn=10+or+(ln.linewidth?ln.linewidth-1:0)}cr||(fn+="x"===Hn?"top"===ln.side?Wn*(ln.showticklabels?1:0):Wn*(ln.showticklabels?1.5:.5):"right"===ln.side?Wn*(ln.showticklabels?1:.5):Wn*(ln.showticklabels?.5:0))}var xr,sr,hr,Ar,Sr=K.getPxPosition(Tn,ln);if("x"===Hn?(sr=ln._offset+ln._length/2,hr="top"===ln.side?Sr-fn:Sr+fn):(hr=ln._offset+ln._length/2,sr="right"===ln.side?Sr+fn:Sr-fn,xr={rotate:"-90",offset:0}),"multicategory"!==ln.type){var Pr=ln._selections[ln._id+"tick"];if(Ar={selection:Pr,side:ln.side},Pr&&Pr.node()&&Pr.node().parentNode){var tr=a.getTranslate(Pr.node().parentNode);Ar.offsetLeft=tr.x,Ar.offsetTop=tr.y}ln.title.hasOwnProperty("standoff")&&(Ar.pad=0)}return ln._titleStandoff=fn,i.draw(Tn,Mn+"title",{propContainer:ln,propName:ln._name+".title.text",placeholder:wn._dfltTitle[Hn],avoid:Ar,transform:xr,attributes:{x:sr,y:hr,"text-anchor":"middle"}})}(Ve,qe)}),pn.push(function(){var Tn,ln,fn,wn,Mn=qe.side.charAt(0),Hn=ee[qe.side].charAt(0),Wn=K.getPxPosition(Ve,qe),cr=Cn?qe.ticklen:0;(qe.automargin||Rn||qe._shiftPusher)&&("multicategory"===qe.type?Tn=jn("tick2"):(Tn=jn(),"x"===wt&&"b"===Mn&&(qe._depth=Math.max(Tn.width>0?Tn.bottom-Wn:0,cr))));var or=0,xr=0;if(qe._shiftPusher&&(or=Math.max(cr,Tn.height>0?"l"===Mn?Wn-Tn.left:Tn.right-Wn:0),qe.title.text!==Nt._dfltTitle[wt]&&(xr=(qe._titleStandoff||0)+(qe._titleScoot||0),"l"===Mn&&(xr+=Dt(qe))),qe._fullDepth=Math.max(or,xr)),qe.automargin){ln={x:0,y:0,r:0,l:0,t:0,b:0};var sr=[0,1],hr="number"==typeof qe._shift?qe._shift:0;if("x"===wt){if("b"===Mn?ln[Mn]=qe._depth:(ln[Mn]=qe._depth=Math.max(Tn.width>0?Wn-Tn.top:0,cr),sr.reverse()),Tn.width>0){var Ar=Tn.right-(qe._offset+qe._length);Ar>0&&(ln.xr=1,ln.r=Ar);var Sr=qe._offset-Tn.left;Sr>0&&(ln.xl=0,ln.l=Sr)}}else if("l"===Mn?(qe._depth=Math.max(Tn.height>0?Wn-Tn.left:0,cr),ln[Mn]=qe._depth-hr):(qe._depth=Math.max(Tn.height>0?Tn.right-Wn:0,cr),ln[Mn]=qe._depth+hr,sr.reverse()),Tn.height>0){var Pr=Tn.bottom-(qe._offset+qe._length);Pr>0&&(ln.yb=0,ln.b=Pr);var tr=qe._offset-Tn.top;tr>0&&(ln.yt=1,ln.t=tr)}ln[It]="free"===qe.anchor?qe.position:qe._anchorAxis.domain[sr[0]],qe.title.text!==Nt._dfltTitle[wt]&&(ln[Mn]+=Dt(qe)+(qe.title.standoff||0)),qe.mirror&&"free"!==qe.anchor&&((fn={x:0,y:0,r:0,l:0,t:0,b:0})[Hn]=qe.linewidth,qe.mirror&&!0!==qe.mirror&&(fn[Hn]+=cr),!0===qe.mirror||"ticks"===qe.mirror?fn[It]=qe._anchorAxis.domain[sr[1]]:"all"!==qe.mirror&&"allticks"!==qe.mirror||(fn[It]=[qe._counterDomainMin,qe._counterDomainMax][sr[1]]))}Rn&&(wn=S.getComponentMethod("rangeslider","autoMarginOpts")(Ve,qe)),"string"==typeof qe.automargin&&(st(ln,qe.automargin),st(fn,qe.automargin)),f.autoMargin(Ve,Et(qe),ln),f.autoMargin(Ve,Lt(qe),fn),f.autoMargin(Ve,Rt(qe),wn)}),M.syncOrAsync(pn)}}function jn(Tn){var fn,wn,Mn,Hn,Wn,cr,ln=bt+(Tn||"tick");return Pn[ln]||(Pn[ln]=((fn=qe)._selections[wn=ln].size()?(Mn=1/0,Hn=-1/0,Wn=1/0,cr=-1/0,fn._selections[wn].each(function(){var or=mt(this),xr=a.bBox(or.node().parentNode);Mn=Math.min(Mn,xr.top),Hn=Math.max(Hn,xr.bottom),Wn=Math.min(Wn,xr.left),cr=Math.max(cr,xr.right)})):(Mn=0,Hn=0,Wn=0,cr=0),{top:Mn,bottom:Hn,left:Wn,right:cr,height:Hn-Mn,width:cr-Wn})),Pn[ln]}},K.getTickSigns=function(Ve,qe){var ut=Ve._id.charAt(0),St=Ve.side==={x:"top",y:"right"}[ut]?1:-1,Mt=[-1,1,St,-St];return"inside"!==(qe?(Ve.minor||{}).ticks:Ve.ticks)==("x"===ut)&&(Mt=Mt.map(function(Tt){return-Tt})),Ve.side&&Mt.push({l:-1,t:-1,r:1,b:1}[Ve.side.charAt(0)]),Mt},K.makeTransTickFn=function(Ve){return"x"===Ve._id.charAt(0)?function(qe){return y(Ve._offset+Ve.l2p(qe.x),0)}:function(qe){return y(0,Ve._offset+Ve.l2p(qe.x))}},K.makeTransTickLabelFn=function(Ve){var qe=function(St){var Mt=St.ticklabelposition||"",Tt=function(un){return-1!==Mt.indexOf(un)},xt=Tt("top"),Nt=Tt("left"),bt=Tt("right"),wt=Tt("bottom"),It=Tt("inside"),Wt=wt||Nt||xt||bt;if(!Wt&&!It)return[0,0];var Yt=St.side,Zt=Wt?(St.tickwidth||0)/2:0,dn=3,nn=St.tickfont?St.tickfont.size:12;return(wt||xt)&&(Zt+=nn*se,dn+=(St.linewidth||0)/2),(Nt||bt)&&(Zt+=(St.linewidth||0)/2,dn+=3),It&&"top"===Yt&&(dn-=nn*(1-se)),(Nt||xt)&&(Zt=-Zt),"bottom"!==Yt&&"right"!==Yt||(dn=-dn),[Wt?Zt:0,It?dn:0]}(Ve),ut=qe[0],ft=qe[1];return"x"===Ve._id.charAt(0)?function(St){return y(ut+Ve._offset+Ve.l2p(ct(St)),ft)}:function(St){return y(ft,ut+Ve._offset+Ve.l2p(ct(St)))}},K.makeTickPath=function(Ve,qe,ut,ft){ft||(ft={});var St=ft.minor;if(St&&!Ve.minor)return"";var Mt=void 0!==ft.len?ft.len:St?Ve.minor.ticklen:Ve.ticklen,Tt=Ve._id.charAt(0),xt=(Ve.linewidth||1)/2;return"x"===Tt?"M0,"+(qe+xt*ut)+"v"+Mt*ut:"M"+(qe+xt*ut)+",0h"+Mt*ut},K.makeLabelFns=function(Ve,qe,ut){var ft=Ve.ticklabelposition||"",St=function(_n){return-1!==ft.indexOf(_n)},Mt=St("top"),Tt=St("left"),xt=St("right"),Nt=St("bottom")||Tt||Mt||xt,bt=St("inside"),wt="inside"===ft&&"inside"===Ve.ticks||!bt&&"outside"===Ve.ticks&&"boundaries"!==Ve.tickson,It=0,Wt=0,Yt=wt?Ve.ticklen:0;if(bt?Yt*=-1:Nt&&(Yt=0),wt&&(It+=Yt,ut)){var Zt=M.deg2rad(ut);It=Yt*Math.cos(Zt)+1,Wt=Yt*Math.sin(Zt)}Ve.showticklabels&&(wt||Ve.showline)&&(It+=.2*Ve.tickfont.size);var dn,nn,un,rn,kn,Pn={labelStandoff:It+=(Ve.linewidth||1)/2*(bt?-1:1),labelShift:Wt},Sn=0,en=Ve.side,vn=Ve._id.charAt(0),hn=Ve.tickangle;if("x"===vn)rn=(kn=!bt&&"bottom"===en||bt&&"top"===en)?1:-1,bt&&(rn*=-1),dn=Wt*rn,nn=qe+It*rn,un=kn?1:-.2,90===Math.abs(hn)&&(bt?un+=X:un=-90===hn&&"bottom"===en?se:90===hn&&"top"===en?X:.5,Sn=X/2*(hn/90)),Pn.xFn=function(_n){return _n.dx+dn+Sn*_n.fontSize},Pn.yFn=function(_n){return _n.dy+nn+_n.fontSize*un},Pn.anchorFn=function(_n,Un){if(Nt){if(Tt)return"end";if(xt)return"start"}return E(Un)&&0!==Un&&180!==Un?Un*rn<0!==bt?"end":"start":"middle"},Pn.heightFn=function(_n,Un,qn){return Un<-60||Un>60?-.5*qn:"top"===Ve.side!==bt?-qn:0};else if("y"===vn){if(rn=(kn=!bt&&"left"===en||bt&&"right"===en)?1:-1,bt&&(rn*=-1),dn=It,nn=Wt*rn,un=0,bt||90!==Math.abs(hn)||(un=-90===hn&&"left"===en||90===hn&&"right"===en?se:.5),bt){var yn=E(hn)?+hn:0;if(0!==yn){var Cn=M.deg2rad(yn);Sn=Math.abs(Math.sin(Cn))*se*rn,un=0}}Pn.xFn=function(_n){return _n.dx+qe-(dn+_n.fontSize*un)*rn+Sn*_n.fontSize},Pn.yFn=function(_n){return _n.dy+nn+_n.fontSize*X},Pn.anchorFn=function(_n,Un){return E(Un)&&90===Math.abs(Un)?"middle":kn?"end":"start"},Pn.heightFn=function(_n,Un,qn){return"right"===Ve.side&&(Un*=-1),Un<-30?-qn:Un<30?-.5*qn:0}}return Pn},K.drawTicks=function(Ve,qe,ut){ut=ut||{};var ft=qe._id+"tick",St=[].concat(qe.minor&&qe.minor.ticks?ut.vals.filter(function(Tt){return Tt.minor&&!Tt.noTick}):[]).concat(qe.ticks?ut.vals.filter(function(Tt){return!Tt.minor&&!Tt.noTick}):[]),Mt=ut.layer.selectAll("path."+ft).data(St,kt);Mt.exit().remove(),Mt.enter().append("path").classed(ft,1).classed("ticks",1).classed("crisp",!1!==ut.crisp).each(function(Tt){return s.stroke(I.select(this),Tt.minor?qe.minor.tickcolor:qe.tickcolor)}).style("stroke-width",function(Tt){return a.crispRound(Ve,Tt.minor?qe.minor.tickwidth:qe.tickwidth,1)+"px"}).attr("d",ut.path).style("display",null),dt(qe,[Y]),Mt.attr("transform",ut.transFn)},K.drawGrid=function(Ve,qe,ut){if(ut=ut||{},"sync"!==qe.tickmode){var ft=qe._id+"grid",St=qe.minor&&qe.minor.showgrid,Mt=St?ut.vals.filter(function(un){return un.minor}):[],Tt=qe.showgrid?ut.vals.filter(function(un){return!un.minor}):[],xt=ut.counterAxis;if(xt&&K.shouldShowZeroLine(Ve,qe,xt))for(var Nt="array"===qe.tickmode,bt=0;bt<Tt.length;bt++){var wt=Tt[bt].x;if(Nt?!wt:Math.abs(wt)<qe.dtick/100){if(Tt=Tt.slice(0,bt).concat(Tt.slice(bt+1)),!Nt)break;bt--}}qe._gw=a.crispRound(Ve,qe.gridwidth,1);for(var It=St?a.crispRound(Ve,qe.minor.gridwidth,1):0,Wt=ut.layer,Yt=ut.minorLayer,Zt=1;Zt>=0;Zt--){var dn=Zt?Wt:Yt;if(dn){var nn=dn.selectAll("path."+ft).data(Zt?Tt:Mt,kt);nn.exit().remove(),nn.enter().append("path").classed(ft,1).classed("crisp",!1!==ut.crisp),nn.attr("transform",ut.transFn).attr("d",ut.path).each(function(un){return s.stroke(I.select(this),un.minor?qe.minor.gridcolor:qe.gridcolor||"#ddd")}).style("stroke-dasharray",function(un){return a.dashStyle(un.minor?qe.minor.griddash:qe.griddash,un.minor?qe.minor.gridwidth:qe.gridwidth)}).style("stroke-width",function(un){return(un.minor?It:qe._gw)+"px"}).style("display",null),"function"==typeof ut.path&&nn.attr("d",ut.path)}}dt(qe,[J,z])}},K.drawZeroLine=function(Ve,qe,ut){var ft=qe._id+"zl",St=K.shouldShowZeroLine(Ve,qe,(ut=ut||ut).counterAxis),Mt=ut.layer.selectAll("path."+ft).data(St?[{x:0,id:qe._id}]:[]);Mt.exit().remove(),Mt.enter().append("path").classed(ft,1).classed("zl",1).classed("crisp",!1!==ut.crisp).each(function(){ut.layer.selectAll("path").sort(function(Tt,xt){return ue(Tt.id,xt.id)})}),Mt.attr("transform",ut.transFn).attr("d",ut.path).call(s.stroke,qe.zerolinecolor||s.defaultLine).style("stroke-width",a.crispRound(Ve,qe.zerolinewidth,qe._gw||1)+"px").style("display",null),dt(qe,[B])},K.drawLabels=function(Ve,qe,ut){ut=ut||{};var ft=Ve._fullLayout,St=qe._id,Mt=St.charAt(0),Tt=ut.cls||St+"tick",xt=ut.vals.filter(function(rn){return rn.text}),Nt=ut.labelFns,bt=ut.secondary?0:qe.tickangle,wt=(qe._prevTickAngles||{})[Tt],It=ut.layer.selectAll("g."+Tt).data(qe.showticklabels?xt:[],kt),Wt=[];function Yt(rn,kn){rn.each(function(Pn){var Sn=I.select(this),en=Sn.select(".text-math-group"),vn=Nt.anchorFn(Pn,kn),hn=ut.transFn.call(Sn.node(),Pn)+(E(kn)&&0!=+kn?" rotate("+kn+","+Nt.xFn(Pn)+","+(Nt.yFn(Pn)-Pn.fontSize/2)+")":""),yn=u.lineCount(Sn),Cn=re*Pn.fontSize,_n=Nt.heightFn(Pn,E(kn)?+kn:0,(yn-1)*Cn);if(_n&&(hn+=y(0,_n)),en.empty()){var Un=Sn.select("text");Un.attr({transform:hn,"text-anchor":vn}),Un.style("opacity",1),qe._adjustTickLabelsOverflow&&qe._adjustTickLabelsOverflow()}else{var qn=a.bBox(en.node()).width*{end:-.5,start:.5}[vn];en.attr("transform",hn+y(qn,0))}})}It.enter().append("g").classed(Tt,1).append("text").attr("text-anchor","middle").each(function(rn){var kn=I.select(this),Pn=Ve._promises.length;kn.call(u.positionText,Nt.xFn(rn),Nt.yFn(rn)).call(a.font,rn.font,rn.fontSize,rn.fontColor).text(rn.text).call(u.convertToTspans,Ve),Ve._promises[Pn]?Wt.push(Ve._promises.pop().then(function(){Yt(kn,bt)})):Yt(kn,bt)}),dt(qe,[q]),It.exit().remove(),ut.repositionOnUpdate&&It.each(function(rn){I.select(this).select("text").call(u.positionText,Nt.xFn(rn),Nt.yFn(rn))}),qe._adjustTickLabelsOverflow=function(){var rn=qe.ticklabeloverflow;if(rn&&"allow"!==rn){var kn=-1!==rn.indexOf("hide"),Pn="x"===qe._id.charAt(0),Sn=0,en=Pn?Ve._fullLayout.width:Ve._fullLayout.height;if(-1!==rn.indexOf("domain")){var vn=M.simpleMap(qe.range,qe.r2l);Sn=qe.l2p(vn[0])+qe._offset,en=qe.l2p(vn[1])+qe._offset}var hn=Math.min(Sn,en),yn=Math.max(Sn,en),Cn=qe.side,_n=1/0,Un=-1/0;for(var qn in It.each(function(_r){var dr=I.select(this);if(dr.select(".text-math-group").empty()){var kr=a.bBox(dr.node()),vr=0;Pn?(kr.right>yn||kr.left<hn)&&(vr=1):(kr.bottom>yn||kr.top+(qe.tickangle?0:_r.fontSize/4)<hn)&&(vr=1);var mr=dr.select("text");vr?kn&&mr.style("opacity",0):(mr.style("opacity",1),_n="bottom"===Cn||"right"===Cn?Math.min(_n,Pn?kr.top:kr.left):-1/0,Un="top"===Cn||"left"===Cn?Math.max(Un,Pn?kr.bottom:kr.right):1/0)}}),ft._plots){var Ln=ft._plots[qn];if(qe._id===Ln.xaxis._id||qe._id===Ln.yaxis._id){var Yn=Pn?Ln.yaxis:Ln.xaxis;Yn&&(Yn["_visibleLabelMin_"+qe._id]=_n,Yn["_visibleLabelMax_"+qe._id]=Un)}}}},qe._hideCounterAxisInsideTickLabels=function(rn){var kn="x"===qe._id.charAt(0),Pn=[];for(var Sn in ft._plots){var en=ft._plots[Sn];qe._id!==en.xaxis._id&&qe._id!==en.yaxis._id||Pn.push(kn?en.yaxis:en.xaxis)}Pn.forEach(function(vn,hn){vn&&it(vn)&&(rn||[B,z,J,Y,q]).forEach(function(yn){var Cn="tick"===yn.K&&"text"===yn.L&&"period"===qe.ticklabelmode,_n=ft._plots[qe._mainSubplot];(yn.K===B.K?_n.zerolinelayer.selectAll("."+qe._id+"zl"):yn.K===z.K?_n.minorGridlayer.selectAll("."+qe._id):yn.K===J.K?_n.gridlayer.selectAll("."+qe._id):_n[qe._id.charAt(0)+"axislayer"]).each(function(){var Un=I.select(this);yn.L&&(Un=Un.selectAll(yn.L)),Un.each(function(qn){var Ln=qe.l2p(Cn?ct(qn):qn.x)+qe._offset,Yn=I.select(this);Ln<qe["_visibleLabelMax_"+vn._id]&&Ln>qe["_visibleLabelMin_"+vn._id]?Yn.style("display","none"):"tick"!==yn.K||hn||Yn.style("display",null)})})})})},Yt(It,wt+1?wt:bt);var Zt=null;qe._selections&&(qe._selections[Tt]=It);var dn=[function(){return Wt.length&&Promise.all(Wt)}];qe.automargin&&ft._redrawFromAutoMarginCount&&90===wt?(Zt=90,dn.push(function(){Yt(It,wt)})):dn.push(function(){if(Yt(It,bt),xt.length&&"x"===Mt&&!E(bt)&&("log"!==qe.type||"D"!==String(qe.dtick).charAt(0))){Zt=0;var rn,kn=0,Pn=[];if(It.each(function(dr){kn=Math.max(kn,dr.fontSize);var kr=qe.l2p(dr.x),vr=mt(this),mr=a.bBox(vr.node());Pn.push({top:0,bottom:10,height:10,left:kr-mr.width/2,right:kr+mr.width/2+2,width:mr.width+2})}),"boundaries"!==qe.tickson&&!qe.showdividers||ut.secondary){var Sn=xt.length,en=Math.abs((xt[Sn-1].x-xt[0].x)*qe._m)/(Sn-1),vn=qe.ticklabelposition||"",hn=function(dr){return-1!==vn.indexOf(dr)},yn=hn("top"),Cn=hn("left"),_n=hn("right"),Un=hn("bottom")||Cn||yn||_n?(qe.tickwidth||0)+6:0,qn=en<2.5*kn||"multicategory"===qe.type||"realaxis"===qe._name;for(rn=0;rn<Pn.length-1;rn++)if(M.bBoxIntersect(Pn[rn],Pn[rn+1],Un)){Zt=qn?90:30;break}}else{var Ln=2;for(qe.ticks&&(Ln+=qe.tickwidth/2),rn=0;rn<Pn.length;rn++){var Yn=xt[rn].xbnd,_r=Pn[rn];if(null!==Yn[0]&&_r.left-qe.l2p(Yn[0])<Ln||null!==Yn[1]&&qe.l2p(Yn[1])-_r.right<Ln){Zt=90;break}}}Zt&&Yt(It,Zt)}}),qe._tickAngles&&dn.push(function(){qe._tickAngles[Tt]=null===Zt?E(bt)?bt:0:Zt});var nn=qe._anchorAxis;nn&&nn.autorange&&it(qe)&&!he(ft,qe._id)&&(ft._insideTickLabelsAutorange||(ft._insideTickLabelsAutorange={}),ft._insideTickLabelsAutorange[nn._name+".autorange"]=nn.autorange,dn.push(function(){It.each(function(rn,kn){var Pn=mt(this);Pn.select(".text-math-group").empty()&&(qe._vals[kn].bb=a.bBox(Pn.node()))})}));var un=M.syncOrAsync(dn);return un&&un.then&&Ve._promises.push(un),un},K.getPxPosition=function(Ve,qe){var ut,ft=Ve._fullLayout._size,St=qe._id.charAt(0),Mt=qe.side;return"free"!==qe.anchor?ut=qe._anchorAxis:"x"===St?ut={_offset:ft.t+(1-(qe.position||0))*ft.h,_length:0}:"y"===St&&(ut={_offset:ft.l+(qe.position||0)*ft.w+qe._shift,_length:0}),"top"===Mt||"left"===Mt?ut._offset:"bottom"===Mt||"right"===Mt?ut._offset+ut._length:void 0},K.shouldShowZeroLine=function(Ve,qe,ut){var ft=M.simpleMap(qe.range,qe.r2l);return ft[0]*ft[1]<=0&&qe.zeroline&&("linear"===qe.type||"-"===qe.type)&&!(qe.rangebreaks&&qe.maskBreaks(0)===N)&&(vt(qe,0)||!function(St,Mt,Tt,xt){var Nt=Tt._mainAxis;if(Nt){var bt=St._fullLayout,wt=Mt._id.charAt(0),It=K.counterLetter(Mt._id),Wt=Mt._offset+(Math.abs(xt[0])<Math.abs(xt[1])==("x"===wt)?0:Mt._length),Yt=bt._plots[Tt._mainSubplot];if(!(Yt.mainplotinfo||Yt).overlays.length)return un(Tt);for(var Zt=K.list(St,It),dn=0;dn<Zt.length;dn++){var nn=Zt[dn];if(nn._mainAxis===Nt&&un(nn))return!0}}function un(rn){if(!rn.showline||!rn.linewidth)return!1;var kn=Math.max((rn.linewidth+Mt.zerolinewidth)/2,1);function Pn(vn){return"number"==typeof vn&&Math.abs(vn-Wt)<kn}if(Pn(rn._mainLinePosition)||Pn(rn._mainMirrorPosition))return!0;var Sn=rn._linepositions||{};for(var en in Sn)if(Pn(Sn[en][0])||Pn(Sn[en][1]))return!0}}(Ve,qe,ut,ft)||function(St,Mt){for(var Tt=St._fullData,xt=Mt._mainSubplot,Nt=Mt._id.charAt(0),bt=0;bt<Tt.length;bt++){var wt=Tt[bt];if(!0===wt.visible&&wt.xaxis+wt.yaxis===xt&&(S.traceIs(wt,"bar-like")&&wt.orientation==={x:"h",y:"v"}[Nt]||wt.fill&&wt.fill.charAt(wt.fill.length-1)===Nt))return!0}return!1}(Ve,qe))},K.clipEnds=function(Ve,qe){return qe.filter(function(ut){return vt(Ve,ut.x)})},K.allowAutoMargin=function(Ve){for(var qe=K.list(Ve,"",!0),ut=0;ut<qe.length;ut++){var ft=qe[ut];ft.automargin&&(f.allowAutoMargin(Ve,Et(ft)),ft.mirror&&f.allowAutoMargin(Ve,Lt(ft))),S.getComponentMethod("rangeslider","isVisible")(ft)&&f.allowAutoMargin(Ve,Rt(ft))}},K.swap=function(Ve,qe){for(var ut=function(St,Mt){var Tt,xt,Nt=[];for(Tt=0;Tt<Mt.length;Tt++){var bt=[],wt=St._fullData[Mt[Tt]].xaxis,It=St._fullData[Mt[Tt]].yaxis;if(wt&&It){for(xt=0;xt<Nt.length;xt++)-1===Nt[xt].x.indexOf(wt)&&-1===Nt[xt].y.indexOf(It)||bt.push(xt);if(bt.length){var Wt,Yt=Nt[bt[0]];if(bt.length>1)for(xt=1;xt<bt.length;xt++)Ut(Yt.x,(Wt=Nt[bt[xt]]).x),Ut(Yt.y,Wt.y);Ut(Yt.x,[wt]),Ut(Yt.y,[It])}else Nt.push({x:[wt],y:[It]})}}return Nt}(Ve,qe),ft=0;ft<ut.length;ft++)Bt(Ve,ut[ft].x,ut[ft].y)}},4322:function(oe,j,r){"use strict";var I=r(92770),E=r(71828),f=r(50606).BADNUM,S=E.isArrayOrTypedArray,M=E.isDateTime,y=E.cleanNumber,u=Math.round;function i(a,o){return o?I(a):"number"==typeof a}function s(a){return Math.max(1,(a-1)/1e3)}oe.exports=function(a,o,l){var g,c=a,h=l.noMultiCategory;if(S(c)&&!c.length)return"-";if(!h&&S((g=c)[0])&&S(g[1]))return"multicategory";if(h&&Array.isArray(c[0])){for(var v=[],p=0;p<c.length;p++)if(S(c[p]))for(var T=0;T<c[p].length;T++)v.push(c[p][T]);c=v}if(function(g,w){for(var x=g.length,b=s(x),A=0,m=0,C={},k=0;k<x;k+=b){var P=g[u(k)],R=String(P);C[R]||(C[R]=1,M(P,w)&&A++,I(P)&&m++)}return A>2*m}(c,o))return"date";var _="strict"!==l.autotypenumbers;return function(g,w){for(var x=g.length,b=s(x),A=0,m=0,C={},k=0;k<x;k+=b){var P=g[u(k)],R=String(P);if(!C[R]){C[R]=1;var L=typeof P;"boolean"===L?m++:(w?y(P)!==f:"number"===L)?A++:"string"===L&&m++}}return m>2*A}(c,_)?"category":function(g,w){for(var x=g.length,b=0;b<x;b++)if(i(g[b],w))return!0;return!1}(c,_)?"linear":"-"}},71453:function(oe,j,r){"use strict";var I=r(92770),E=r(73972),f=r(71828),S=r(44467),M=r(85501),y=r(13838),u=r(26218),i=r(38701),s=r(96115),a=r(89426),o=r(15258),l=r(92128),c=r(21994),h=r(85555).WEEKDAY_PATTERN,v=r(85555).HOUR_PATTERN;function p(g,w,x){function b(N,B){return f.coerce(g,w,y.rangebreaks,N,B)}if(b("enabled")){var A=b("bounds");if(A&&A.length>=2){var m,C,k="";if(2===A.length)for(m=0;m<2;m++)if(C=_(A[m])){k=h;break}var P=b("pattern",k);if(P===h)for(m=0;m<2;m++)(C=_(A[m]))&&(w.bounds[m]=A[m]=C-1);if(P)for(m=0;m<2;m++)switch(C=A[m],P){case h:if(!I(C)||(C=+C)!==Math.floor(C)||C<0||C>=7)return void(w.enabled=!1);w.bounds[m]=A[m]=C;break;case v:if(!I(C)||(C=+C)<0||C>24)return void(w.enabled=!1);w.bounds[m]=A[m]=C}if(!1===x.autorange){var R=x.range;if(R[0]<R[1]){if(A[0]<R[0]&&A[1]>R[1])return void(w.enabled=!1)}else if(A[0]>R[0]&&A[1]<R[1])return void(w.enabled=!1)}}else{var L=b("values");if(!L||!L.length)return void(w.enabled=!1);b("dvalue")}}}oe.exports=function(g,w,x,b,A){var m,C=b.letter,k=b.font||{},P=b.splomStash||{},R=x("visible",!b.visibleDflt),N=w.type||(w._template||{}).type||"-";"date"===N&&(E.getComponentMethod("calendars","handleDefaults")(g,w,"calendar",b.calendar),b.noTicklabelmode||(m=x("ticklabelmode")));var B="";b.noTicklabelposition&&"multicategory"!==N||(B=f.coerce(g,w,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:"period"===m?["outside","inside"]:"x"===C?["outside","inside","outside left","inside left","outside right","inside right"]:["outside","inside","outside top","inside top","outside bottom","inside bottom"]}},"ticklabelposition")),b.noTicklabeloverflow||x("ticklabeloverflow",-1!==B.indexOf("inside")?"hide past domain":"category"===N||"multicategory"===N?"allow":"hide past div"),c(w,A);var J=!w.isValidRange(g.range);J&&b.reverseDflt&&(J="reversed"),!x("autorange",J)||"linear"!==N&&"-"!==N||x("rangemode"),x("range"),w.cleanRange(),o(g,w,x,b),"category"===N||b.noHover||x("hoverformat");var z=x("color"),Y=z!==y.color.dflt?z:k.color,q=P.label||A._dfltTitle[C];if(a(g,w,x,N,b),!R)return w;x("title.text",q),f.coerceFont(x,"title.font",{family:k.family,size:f.bigFont(k.size),color:Y}),u(g,w,x,N);var U=b.hasMinor;if(U&&(S.newContainer(w,"minor"),u(g,w,x,N,{isMinor:!0})),s(g,w,x,N,b),i(g,w,x,b),U){var Z=b.isMinor;b.isMinor=!0,i(g,w,x,b),b.isMinor=Z}l(g,w,x,{dfltColor:z,bgColor:b.bgColor,showGrid:b.showGrid,hasMinor:U,attributes:y}),!U||w.minor.ticks||w.minor.showgrid||delete w.minor,(w.showline||w.ticks)&&x("mirror");var X,se="multicategory"===N;if(b.noTickson||"category"!==N&&!se||!w.ticks&&!w.showgrid||(se&&(X="boundaries"),"boundaries"===x("tickson",X)&&delete w.ticklabelposition),se&&x("showdividers")&&(x("dividercolor"),x("dividerwidth")),"date"===N)if(M(g,w,{name:"rangebreaks",inclusionAttr:"enabled",handleItemDefaults:p}),w.rangebreaks.length){for(var re=0;re<w.rangebreaks.length;re++)if(w.rangebreaks[re].pattern===h){w._hasDayOfWeekBreaks=!0;break}if(c(w,A),A._has("scattergl")||A._has("splom"))for(var ee=0;ee<b.data.length;ee++){var K=b.data[ee];"scattergl"!==K.type&&"splom"!==K.type||(K.visible=!1,f.warn(K.type+" traces do not work on axes with rangebreaks. Setting trace "+K.index+" to `visible: false`."))}}else delete w.rangebreaks;return w};var T={sun:1,mon:2,tue:3,wed:4,thu:5,fri:6,sat:7};function _(g){if("string"==typeof g)return T[g.substr(0,3).toLowerCase()]}},12663:function(oe,j,r){"use strict";var I=r(31562),E=I.FORMAT_LINK,f=I.DATE_FORMAT_LINK;function S(y,u){return["Sets the "+y+" formatting rule"+(u?"for `"+u+"` ":""),"using d3 formatting mini-languages","which are very similar to those in Python. For numbers, see: "+E+"."].join(" ")}function M(y,u){return S(y,u)+[" And for dates see: "+f+".","We add two items to d3's date formatter:","*%h* for half of the year as a decimal number as well as","*%{n}f* for fractional seconds","with n digits. For example, *2016-10-13 09:15:23.456* with tickformat","*%H~%M~%S.%2f* would display *09~15~23.46*"].join(" ")}oe.exports={axisHoverFormat:function(y,u){return{valType:"string",dflt:"",editType:"none",description:(u?S:M)("hover text",y)+["By default the values are formatted using "+(u?"generic number format":"`"+y+"axis.hoverformat`")+"."].join(" ")}},descriptionOnlyNumbers:S,descriptionWithDates:M}},41675:function(oe,j,r){"use strict";var I=r(73972),E=r(85555);function f(S,M){if(M&&M.length)for(var y=0;y<M.length;y++)if(M[y][S])return!0;return!1}j.id2name=function(S){if("string"==typeof S&&S.match(E.AX_ID_PATTERN)){var M=S.split(" ")[0].substr(1);return"1"===M&&(M=""),S.charAt(0)+"axis"+M}},j.name2id=function(S){if(S.match(E.AX_NAME_PATTERN)){var M=S.substr(5);return"1"===M&&(M=""),S.charAt(0)+M}},j.cleanId=function(S,M,y){var u=/( domain)$/.test(S);if("string"==typeof S&&S.match(E.AX_ID_PATTERN)&&(!M||S.charAt(0)===M)&&(!u||y)){var i=S.split(" ")[0].substr(1).replace(/^0+/,"");return"1"===i&&(i=""),S.charAt(0)+i+(u&&y?" domain":"")}},j.list=function(S,M,y){var u=S._fullLayout;if(!u)return[];var i,s=j.listIds(S,M),a=new Array(s.length);for(i=0;i<s.length;i++){var o=s[i];a[i]=u[o.charAt(0)+"axis"+o.substr(1)]}if(!y){var l=u._subplots.gl3d||[];for(i=0;i<l.length;i++){var c=u[l[i]];M?a.push(c[M+"axis"]):a.push(c.xaxis,c.yaxis,c.zaxis)}}return a},j.listIds=function(S,M){var y=S._fullLayout;if(!y)return[];var u=y._subplots;return M?u[M+"axis"]:u.xaxis.concat(u.yaxis)},j.getFromId=function(S,M,y){var u=S._fullLayout;return M=void 0===M||"string"!=typeof M?M:M.replace(" domain",""),"x"===y?M=M.replace(/y[0-9]*/,""):"y"===y&&(M=M.replace(/x[0-9]*/,"")),u[j.id2name(M)]},j.getFromTrace=function(S,M,y){var u=S._fullLayout,i=null;if(I.traceIs(M,"gl3d")){var s=M.scene;"scene"===s.substr(0,5)&&(i=u[s][y+"axis"])}else i=j.getFromId(S,M[y+"axis"]||y);return i},j.idSort=function(S,M){var y=S.charAt(0),u=M.charAt(0);return y!==u?y>u?1:-1:+(S.substr(1)||1)-+(M.substr(1)||1)},j.ref2id=function(S){return!!/^[xyz]/.test(S)&&S.split(" ")[0]},j.isLinked=function(S,M){return f(M,S._axisMatchGroups)||f(M,S._axisConstraintGroups)}},15258:function(oe){"use strict";oe.exports=function(j,r,I,E){if("category"===r.type){var f,S=j.categoryarray,M=Array.isArray(S)&&S.length>0;M&&(f="array");var y,u=I("categoryorder",f);"array"===u&&(y=I("categoryarray")),M||"array"!==u||(u=r.categoryorder="trace"),"trace"===u?r._initialCategories=[]:"array"===u?r._initialCategories=y.slice():(y=function(i,s){var a,o,l,c=s.dataAttr||i._id.charAt(0),h={};if(s.axData)a=s.axData;else for(a=[],o=0;o<s.data.length;o++){var v=s.data[o];v[c+"axis"]===i._id&&a.push(v)}for(o=0;o<a.length;o++){var p=a[o][c];for(l=0;l<p.length;l++){var T=p[l];null!=T&&(h[T]=1)}}return Object.keys(h)}(r,E).sort(),"category ascending"===u?r._initialCategories=y:"category descending"===u&&(r._initialCategories=y.reverse()))}}},66287:function(oe,j,r){"use strict";var I=r(92770),E=r(71828),f=r(50606),S=f.ONEDAY,M=f.ONEWEEK;j.dtick=function(y,u){var i="log"===u,s="date"===u,a="category"===u,o=s?S:1;if(!y)return o;if(I(y))return(y=Number(y))<=0?o:a?Math.max(1,Math.round(y)):s?Math.max(.1,y):y;if("string"!=typeof y||!s&&!i)return o;var l=y.charAt(0),c=y.substr(1);return(c=I(c)?Number(c):0)<=0||!(s&&"M"===l&&c===Math.round(c)||i&&"L"===l||i&&"D"===l&&(1===c||2===c))?o:y},j.tick0=function(y,u,i,s){return"date"===u?E.cleanDate(y,E.dateTick0(i,s%M==0?1:0)):"D1"!==s&&"D2"!==s?I(y)?Number(y):0:void 0}},85555:function(oe,j,r){"use strict";var I=r(30587).counter;oe.exports={idRegex:{x:I("x","( domain)?"),y:I("y","( domain)?")},attrRegex:I("[xy]axis"),xAxisMatch:I("xaxis"),yAxisMatch:I("yaxis"),AX_ID_PATTERN:/^[xyz][0-9]*( domain)?$/,AX_NAME_PATTERN:/^[xyz]axis[0-9]*$/,SUBPLOT_PATTERN:/^x([0-9]*)y([0-9]*)$/,HOUR_PATTERN:"hour",WEEKDAY_PATTERN:"day of week",MINDRAG:8,MINZOOM:20,DRAGGERSIZE:20,REDRAWDELAY:50,DFLTRANGEX:[-1,6],DFLTRANGEY:[-1,4],traceLayerClasses:["imagelayer","heatmaplayer","contourcarpetlayer","contourlayer","funnellayer","waterfalllayer","barlayer","carpetlayer","violinlayer","boxlayer","ohlclayer","scattercarpetlayer","scatterlayer"],clipOnAxisFalseQuery:[".scatterlayer",".barlayer",".funnellayer",".waterfalllayer"],layerValue2layerClass:{"above traces":"above","below traces":"below"}}},99082:function(oe,j,r){"use strict";var I=r(71828),E=r(71739),f=r(41675).id2name,S=r(13838),M=r(42449),y=r(21994),u=r(50606).ALMOST_EQUAL,i=r(18783).FROM_BL;function s(p,T,_){var g=_.axIds,w=_.layoutOut,x=_.hasImage,b=w._axisConstraintGroups,A=w._axisMatchGroups,m=T._id,C=m.charAt(0),k=((w._splomAxes||{})[C]||{})[m]||{},P=T._id,R="x"===P.charAt(0);function L(ne,ae){return I.coerce(p,T,S,ne,ae)}T._matchGroup=null,T._constraintGroup=null,L("constrain",x?"domain":"range"),I.coerce(p,T,{constraintoward:{valType:"enumerated",values:R?["left","center","right"]:["bottom","middle","top"],dflt:R?"center":"middle"}},"constraintoward");var N,B,J=T.type,z=[];for(N=0;N<g.length;N++)(B=g[N])!==P&&w[f(B)].type===J&&z.push(B);var Y=o(b,P);if(Y){var q=[];for(N=0;N<z.length;N++)Y[B=z[N]]||q.push(B);z=q}var U,Z,X=z.length;X&&(p.matches||k.matches)&&(U=I.coerce(p,T,{matches:{valType:"enumerated",values:z,dflt:-1!==z.indexOf(k.matches)?k.matches:void 0}},"matches"));var se=x&&!R?T.anchor:void 0;if(X&&!U&&(p.scaleanchor||se)&&(Z=I.coerce(p,T,{scaleanchor:{valType:"enumerated",values:z}},"scaleanchor",se)),U){T._matchGroup=l(A,P,U,1);var re=w[f(U)],ee=a(w,T)/a(w,re);R!==("x"===U.charAt(0))&&(ee=(R?"x":"y")+ee),l(b,P,U,ee)}else p.matches&&-1!==g.indexOf(p.matches)&&I.warn("ignored "+T._name+'.matches: "'+p.matches+'" to avoid an infinite loop');if(Z){var K=L("scaleratio");K||(K=T.scaleratio=1),l(b,P,Z,K)}else p.scaleanchor&&-1!==g.indexOf(p.scaleanchor)&&I.warn("ignored "+T._name+'.scaleanchor: "'+p.scaleanchor+'" to avoid either an infinite loop and possibly inconsistent scaleratios, or because this axis declares a *matches* constraint.')}function a(p,T){var _=T.domain;return _||(_=p[f(T.overlaying)].domain),_[1]-_[0]}function o(p,T){for(var _=0;_<p.length;_++)if(p[_][T])return p[_];return null}function l(p,T,_,g){var w,x,b,A,m,C=o(p,T);null===C?((C={})[T]=1,m=p.length,p.push(C)):m=p.indexOf(C);var k=Object.keys(C);for(w=0;w<p.length;w++)if(b=p[w],w!==m&&b[_]){var P=b[_];for(x=0;x<k.length;x++)b[A=k[x]]=c(P,c(g,C[A]));return void p.splice(m,1)}if(1!==g)for(x=0;x<k.length;x++){var R=k[x];C[R]=c(g,C[R])}C[_]=1}function c(p,T){var _,g,w="",x="";"string"==typeof p&&(_=(w=p.match(/^[xy]*/)[0]).length,p=+p.substr(_)),"string"==typeof T&&(g=(x=T.match(/^[xy]*/)[0]).length,T=+T.substr(g));var b=p*T;return _||g?_&&g&&w.charAt(0)!==x.charAt(0)?_===g?b:(_>g?w.substr(g):x.substr(_))+b:w+x+p*T:b}function h(p,T){for(var _=T._size,g=_.h/_.w,w={},x=Object.keys(p),b=0;b<x.length;b++){var A=x[b],m=p[A];if("string"==typeof m){var C=m.match(/^[xy]*/)[0],k=C.length;m=+m.substr(k);for(var P="y"===C.charAt(0)?g:1/g,R=0;R<k;R++)m*=P}w[A]=m}return w}function v(p,T){var _=p._inputDomain,w=_[0]+(_[1]-_[0])*i[p.constraintoward];p.domain=p._input.domain=[w+(_[0]-w)/T,w+(_[1]-w)/T],p.setScale()}j.handleDefaults=function(p,T,_){var g,w,x,b,A,m,C,k,P=_.axIds,R=_.axHasImage,L=T._axisConstraintGroups=[],N=T._axisMatchGroups=[];for(g=0;g<P.length;g++)s(A=p[b=f(P[g])],m=T[b],{axIds:P,layoutOut:T,hasImage:R[b]});function B(re,ee){for(g=0;g<re.length;g++)for(x in w=re[g])T[f(x)][ee]=w}for(B(N,"_matchGroup"),g=0;g<L.length;g++)for(x in w=L[g])if((m=T[f(x)]).fixedrange){for(var J in w){var z=f(J);!1===(p[z]||{}).fixedrange&&I.warn("fixedrange was specified as false for axis "+z+" but was overridden because another axis in its constraint group has fixedrange true"),T[z].fixedrange=!0}break}for(g=0;g<L.length;){for(x in w=L[g]){(m=T[f(x)])._matchGroup&&Object.keys(m._matchGroup).length===Object.keys(w).length&&(L.splice(g,1),g--);break}g++}B(L,"_constraintGroup");var Y=["constrain","range","autorange","rangemode","rangebreaks","categoryorder","categoryarray"],q=!1,U=!1;function Z(){k=m[C],"rangebreaks"===C&&(U=m._hasDayOfWeekBreaks)}for(g=0;g<N.length;g++){w=N[g];for(var X=0;X<Y.length;X++){var se;for(x in C=Y[X],k=null,w)if(A=p[b=f(x)],C in(m=T[b])){if(!m.matches&&(se=m,C in A)){Z();break}null===k&&C in A&&Z()}if("range"===C&&k&&(q=!0),"autorange"===C&&null===k&&q&&(k=!1),null===k&&C in se&&(k=se[C]),null!==k)for(x in w)(m=T[f(x)])[C]="range"===C?k.slice():k,"rangebreaks"===C&&(m._hasDayOfWeekBreaks=U,y(m,T))}}},j.enforce=function(p){var T,_,g,w,x,b,A,m,C=p._fullLayout,k=C._axisConstraintGroups||[];for(T=0;T<k.length;T++){g=h(k[T],C);var P=Object.keys(g),R=1/0,L=0,N=1/0,B={},J={},z=!1;for(_=0;_<P.length;_++)J[w=P[_]]=x=C[f(w)],x._inputDomain?x.domain=x._inputDomain.slice():x._inputDomain=x.domain.slice(),x._inputRange||(x._inputRange=x.range.slice()),x.setScale(),B[w]=b=Math.abs(x._m)/g[w],R=Math.min(R,b),"domain"!==x.constrain&&x._constraintShrinkable||(N=Math.min(N,b)),delete x._constraintShrinkable,L=Math.max(L,b),"domain"===x.constrain&&(z=!0);if(!(R>u*L)||z)for(_=0;_<P.length;_++)if(b=B[w=P[_]],A=(x=J[w]).constrain,b!==N||"domain"===A)if(m=b/N,"range"===A)M(x,m);else{var Y=x._inputDomain,q=(x.domain[1]-x.domain[0])/(Y[1]-Y[0]),U=(x.r2l(x.range[1])-x.r2l(x.range[0]))/(x.r2l(x._inputRange[1])-x.r2l(x._inputRange[0]));if((m/=q)*U<1){x.domain=x._input.domain=Y.slice(),M(x,m);continue}if(U<1&&(x.range=x._input.range=x._inputRange.slice(),m*=U),x.autorange){var Z=x.r2l(x.range[0]),X=x.r2l(x.range[1]),se=(Z+X)/2,re=se,ee=se,K=Math.abs(X-se),ne=se-K*m*1.0001,ae=se+K*m*1.0001,ue=E.makePadFn(C,x,0),he=E.makePadFn(C,x,1);v(x,m);var pe,ge,xe=Math.abs(x._m),Se=E.concatExtremes(p,x),Te=Se.min,ye=Se.max;for(ge=0;ge<Te.length;ge++)(pe=Te[ge].val-ue(Te[ge])/xe)>ne&&pe<re&&(re=pe);for(ge=0;ge<ye.length;ge++)(pe=ye[ge].val+he(ye[ge])/xe)<ae&&pe>ee&&(ee=pe);m/=(ee-re)/(2*K),re=x.l2r(re),ee=x.l2r(ee),x.range=x._input.range=Z<X?[re,ee]:[ee,re]}v(x,m)}}},j.getAxisGroup=function(p,T){for(var _=p._axisMatchGroups,g=0;g<_.length;g++)if(_[g][T])return"g"+g;return T},j.clean=function(p,T){if(T._inputDomain){for(var _=!1,g=T._id,w=p._fullLayout._axisConstraintGroups,x=0;x<w.length;x++)if(w[x][g]){_=!0;break}_&&"domain"===T.constrain||(T._input.domain=T.domain=T._inputDomain,delete T._inputDomain)}}},29323:function(oe,j,r){"use strict";var I=r(39898),E=r(71828),f=E.numberFormat,S=r(84267),M=r(38520),y=r(73972),u=E.strTranslate,i=r(63893),s=r(7901),a=r(91424),o=r(30211),l=r(89298),c=r(6964),h=r(28569),v=r(64505),p=v.selectingOrDrawing,T=v.freeMode,_=r(18783).FROM_TL,g=r(33306),w=r(61549).redrawReglTraces,x=r(74875),b=r(41675).getFromId,A=r(47322).prepSelect,m=r(47322).clearOutline,C=r(47322).selectOnClick,k=r(42449),P=r(85555),R=P.MINDRAG,L=P.MINZOOM,N=!0;function B(pe,ge,xe,Se){var Te=E.ensureSingle(pe.draglayer,ge,xe,function(ye){ye.classed("drag",!0).style({fill:"transparent","stroke-width":0}).attr("data-subplot",pe.id)});return Te.call(c,Se),Te.node()}function J(pe,ge,xe,Se,Te,ye,we){var ze=B(pe,"rect",ge,xe);return I.select(ze).call(a.setRect,Se,Te,ye,we),ze}function z(pe,ge){for(var xe=0;xe<pe.length;xe++)if(!pe[xe].fixedrange)return ge;return""}function Y(pe,ge,xe,Se,Te){for(var ye=0;ye<pe.length;ye++){var we=pe[ye];if(!we.fixedrange)if(we.rangebreaks){var ze="y"===we._id.charAt(0),Ee=ze?1-xe:xe;Se[we._name+".range[0]"]=we.l2r(we.p2l((ze?1-ge:ge)*we._length)),Se[we._name+".range[1]"]=we.l2r(we.p2l(Ee*we._length))}else{var me=we._rl[0],de=we._rl[1]-me;Se[we._name+".range[0]"]=we.l2r(me+de*ge),Se[we._name+".range[1]"]=we.l2r(me+de*xe)}}if(Te&&Te.length){var ce=(ge+(1-xe))/2;Y(Te,ce,1-ce,Se,[])}}function q(pe,ge){for(var xe=0;xe<pe.length;xe++){var Se=pe[xe];if(!Se.fixedrange)if(Se.rangebreaks){var Te=Se._length,ye=(Se.p2l(0+ge)-Se.p2l(0)+(Se.p2l(Te+ge)-Se.p2l(Te)))/2;Se.range=[Se.l2r(Se._rl[0]-ye),Se.l2r(Se._rl[1]-ye)]}else Se.range=[Se.l2r(Se._rl[0]-ge/Se._m),Se.l2r(Se._rl[1]-ge/Se._m)]}}function U(pe){return 1-(pe>=0?Math.min(pe,.9):1/(1/Math.max(pe,-.3)+3.222))}function Z(pe,ge,xe,Se,Te){return pe.append("path").attr("class","zoombox").style({fill:ge>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("transform",u(xe,Se)).attr("d",Te+"Z")}function X(pe,ge,xe){return pe.append("path").attr("class","zoombox-corners").style({fill:s.background,stroke:s.defaultLine,"stroke-width":1,opacity:0}).attr("transform",u(ge,xe)).attr("d","M0,0Z")}function se(pe,ge,xe,Se,Te,ye){pe.attr("d",Se+"M"+xe.l+","+xe.t+"v"+xe.h+"h"+xe.w+"v-"+xe.h+"h-"+xe.w+"Z"),re(pe,ge,Te,ye)}function re(pe,ge,xe,Se){xe||(pe.transition().style("fill",Se>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),ge.transition().style("opacity",1).duration(200))}function ee(pe){I.select(pe).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}function K(pe){N&&pe.data&&pe._context.showTips&&(E.notifier(E._(pe,"Double-click to zoom back out"),"long"),N=!1)}function ne(pe){var ge=Math.floor(Math.min(pe.b-pe.t,pe.r-pe.l,L)/2);return"M"+(pe.l-3.5)+","+(pe.t-.5+ge)+"h3v"+-ge+"h"+ge+"v-3h-"+(ge+3)+"ZM"+(pe.r+3.5)+","+(pe.t-.5+ge)+"h-3v"+-ge+"h"+-ge+"v-3h"+(ge+3)+"ZM"+(pe.r+3.5)+","+(pe.b+.5-ge)+"h-3v"+ge+"h"+-ge+"v3h"+(ge+3)+"ZM"+(pe.l-3.5)+","+(pe.b+.5-ge)+"h3v"+ge+"h"+ge+"v3h-"+(ge+3)+"Z"}function ae(pe,ge,xe,Se,Te){for(var ye,we,ze,ke,Ee=!1,me={},de={},ce=(Te||{}).xaHash,Ae=(Te||{}).yaHash,Ne=0;Ne<ge.length;Ne++){var De=ge[Ne];for(ye in xe)if(De[ye]){for(ze in De)Te&&(ce[ze]||Ae[ze])||("x"===ze.charAt(0)?xe:Se)[ze]||(me[ze]=ye);for(we in Se)Te&&(ce[we]||Ae[we])||!De[we]||(Ee=!0)}for(we in Se)if(De[we])for(ke in De)Te&&(ce[ke]||Ae[ke])||("x"===ke.charAt(0)?xe:Se)[ke]||(de[ke]=we)}Ee&&(E.extendFlat(me,de),de={});var Ue={},Ye=[];for(ze in me){var _e=b(pe,ze);Ye.push(_e),Ue[_e._id]=_e}var Pe={},Ie=[];for(ke in de){var Be=b(pe,ke);Ie.push(Be),Pe[Be._id]=Be}return{xaHash:Ue,yaHash:Pe,xaxes:Ye,yaxes:Ie,xLinks:me,yLinks:de,isSubplotConstrained:Ee}}function ue(pe,ge){if(M){var xe=void 0!==pe.onwheel?"wheel":"mousewheel";pe._onwheel&&pe.removeEventListener(xe,pe._onwheel),pe._onwheel=ge,pe.addEventListener(xe,ge,{passive:!1})}else void 0!==pe.onwheel?pe.onwheel=ge:void 0!==pe.onmousewheel?pe.onmousewheel=ge:pe.isAddedWheelEvent||(pe.isAddedWheelEvent=!0,pe.addEventListener("wheel",ge,{passive:!1}))}function he(pe){var ge=[];for(var xe in pe)ge.push(pe[xe]);return ge}oe.exports={makeDragBox:function(pe,ge,xe,Se,Te,ye,we,ze){var ke,Ee,me,de,ce,Ae,Ne,De,Ue,Ye,_e,Pe,Ie,Be,We,Ge,Ke,tt,st,gt,ct,kt,Dt,vt=pe._fullLayout._zoomlayer,mt=we+ze==="nsew",Et=1===(we+ze).length;function Lt(){if(Ue=(ke=ge.xaxis)._length,Ye=(Ee=ge.yaxis)._length,Ne=ke._offset,De=Ee._offset,(me={})[ke._id]=ke,(de={})[Ee._id]=Ee,we&&ze)for(var en=ge.overlays,vn=0;vn<en.length;vn++){var hn=en[vn].xaxis;me[hn._id]=hn;var yn=en[vn].yaxis;de[yn._id]=yn}ce=he(me),Ae=he(de),Ie=z(ce,ze),Be=z(Ae,we),We=!Be&&!Ie,Pe=ae(pe,pe._fullLayout._axisMatchGroups,me,de);var Cn=(_e=ae(pe,pe._fullLayout._axisConstraintGroups,me,de,Pe)).isSubplotConstrained||Pe.isSubplotConstrained;Ge=ze||Cn,Ke=we||Cn;var _n=pe._fullLayout;tt=_n._has("scattergl"),st=_n._has("splom"),gt=_n._has("svg")}xe+=ge.yaxis._shift,Lt();var en,Rt=(en=Be+Ie)?"nsew"===en?mt?"":"pan"===pe._fullLayout.dragmode?"move":"crosshair":en.toLowerCase()+"-resize":"pointer",Ut=J(ge,we+ze+"drag",Rt,xe,Se,Te,ye);if(We&&!mt)return Ut.onmousedown=null,Ut.style.pointerEvents="none",Ut;var Bt,rt,ot,Je,it,dt,ht,Ve,qe,ut,ft={element:Ut,gd:pe,plotinfo:ge};function St(){ft.plotinfo.selection=!1,m(pe)}function Mt(en,vn){var _r,dr,kr,vr,mr,hn=ft.gd;if(hn._fullLayout._activeShapeIndex>=0)hn._fullLayout._deactivateShape(hn);else{var yn=hn._fullLayout.clickmode;if(ee(hn),2!==en||Et||function nn(){if(!pe._transitioningWithDuration){var en=pe._context.doubleClick,vn=[];Ie&&(vn=vn.concat(ce)),Be&&(vn=vn.concat(Ae)),Pe.xaxes&&(vn=vn.concat(Pe.xaxes)),Pe.yaxes&&(vn=vn.concat(Pe.yaxes));var hn,yn,Cn,_n={};if("reset+autosize"===en)for(en="autosize",yn=0;yn<vn.length;yn++)if((hn=vn[yn])._rangeInitial&&(hn.range[0]!==hn._rangeInitial[0]||hn.range[1]!==hn._rangeInitial[1])||!hn._rangeInitial&&!hn.autorange){en="reset";break}if("autosize"===en)for(yn=0;yn<vn.length;yn++)(hn=vn[yn]).fixedrange||(_n[hn._name+".autorange"]=!0);else if("reset"===en)for((Ie||_e.isSubplotConstrained)&&(vn=vn.concat(_e.xaxes)),Be&&!_e.isSubplotConstrained&&(vn=vn.concat(_e.yaxes)),_e.isSubplotConstrained&&(Ie?Be||(vn=vn.concat(Ae)):vn=vn.concat(ce)),yn=0;yn<vn.length;yn++)(hn=vn[yn]).fixedrange||(hn._rangeInitial?(_n[hn._name+".range[0]"]=(Cn=hn._rangeInitial)[0],_n[hn._name+".range[1]"]=Cn[1]):_n[hn._name+".autorange"]=!0);pe.emit("plotly_doubleclick",null),y.call("_guiRelayout",pe,_n)}}(),mt)yn.indexOf("select")>-1&&C(vn,hn,ce,Ae,ge.id,ft),yn.indexOf("event")>-1&&o.click(hn,vn,ge.id);else if(1===en&&Et){var Cn=we?Ee:ke,_n="s"===we||"w"===ze?0:1,Un=Cn._name+".range["+_n+"]",qn=(vr=(_r=Cn).range[dr=_n],mr=Math.abs(vr-_r.range[1-dr]),"date"===_r.type?vr:"log"===_r.type?(kr=Math.ceil(Math.max(0,-Math.log(mr)/Math.LN10))+3,f("."+kr+"g")(Math.pow(10,vr))):(kr=Math.floor(Math.log(Math.abs(vr))/Math.LN10)-Math.floor(Math.log(mr)/Math.LN10)+4,f("."+String(kr)+"g")(vr))),Ln="left",Yn="middle";if(Cn.fixedrange)return;we?(Yn="n"===we?"top":"bottom","right"===Cn.side&&(Ln="right")):"e"===ze&&(Ln="right"),hn._context.showAxisRangeEntryBoxes&&I.select(Ut).call(i.makeEditable,{gd:hn,immediate:!0,background:hn._fullLayout.paper_bgcolor,text:String(qn),fill:Cn.tickfont?Cn.tickfont.color:"#444",horizontalAlign:Ln,verticalAlign:Yn}).on("edit",function(_r){var dr=Cn.d2r(_r);void 0!==dr&&y.call("_guiRelayout",hn,Un,dr)})}}}function Tt(en,vn){if(pe._transitioningWithDuration)return!1;var Yn,_r,hn=Math.max(0,Math.min(Ue,kt*en+Bt)),yn=Math.max(0,Math.min(Ye,Dt*vn+rt)),Cn=Math.abs(hn-Bt),_n=Math.abs(yn-rt);function Un(){ht="",ot.r=ot.l,ot.t=ot.b,qe.attr("d","M0,0Z")}if(ot.l=Math.min(Bt,hn),ot.r=Math.max(Bt,hn),ot.t=Math.min(rt,yn),ot.b=Math.max(rt,yn),_e.isSubplotConstrained)Cn>L||_n>L?(ht="xy",Cn/Ue>_n/Ye?(_n=Cn*Ye/Ue,rt>yn?ot.t=rt-_n:ot.b=rt+_n):(Cn=_n*Ue/Ye,Bt>hn?ot.l=Bt-Cn:ot.r=Bt+Cn),qe.attr("d",ne(ot))):Un();else if(Pe.isSubplotConstrained)if(Cn>L||_n>L){ht="xy";var qn=Math.min(ot.l/Ue,(Ye-ot.b)/Ye),Ln=Math.max(ot.r/Ue,(Ye-ot.t)/Ye);ot.l=qn*Ue,ot.r=Ln*Ue,ot.b=(1-qn)*Ye,ot.t=(1-Ln)*Ye,qe.attr("d",ne(ot))}else Un();else!Be||_n<Math.min(Math.max(.6*Cn,R),L)?Cn<R||!Ie?Un():(ot.t=0,ot.b=Ye,ht="x",qe.attr("d","M"+((Yn=ot).l-.5)+","+((_r=rt)-L-.5)+"h-3v"+(2*L+1)+"h3ZM"+(Yn.r+.5)+","+(_r-L-.5)+"h3v"+(2*L+1)+"h-3Z")):!Ie||Cn<Math.min(.6*_n,L)?(ot.l=0,ot.r=Ue,ht="y",qe.attr("d",function(Yn,_r){return"M"+(_r-L-.5)+","+(Yn.t-.5)+"v-3h"+(2*L+1)+"v3ZM"+(_r-L-.5)+","+(Yn.b+.5)+"v3h"+(2*L+1)+"v-3Z"}(ot,Bt))):(ht="xy",qe.attr("d",ne(ot)));ot.w=ot.r-ot.l,ot.h=ot.b-ot.t,ht&&(ut=!0),pe._dragged=ut,se(Ve,qe,ot,it,dt,Je),xt(),pe.emit("plotly_relayouting",ct),dt=!0}function xt(){ct={},"xy"!==ht&&"x"!==ht||(Y(ce,ot.l/Ue,ot.r/Ue,ct,_e.xaxes),Zt("x",ct)),"xy"!==ht&&"y"!==ht||(Y(Ae,(Ye-ot.b)/Ye,(Ye-ot.t)/Ye,ct,_e.yaxes),Zt("y",ct))}function Nt(){xt(),ee(pe),un(),K(pe)}ft.prepFn=function(en,vn,hn){var yn=ft.dragmode,Cn=pe._fullLayout.dragmode;Cn!==yn&&(ft.dragmode=Cn),Lt(),kt=pe._fullLayout._invScaleX,Dt=pe._fullLayout._invScaleY,We||(mt?en.shiftKey?"pan"===Cn?Cn="zoom":p(Cn)||(Cn="pan"):en.ctrlKey&&(Cn="pan"):Cn="pan"),ft.minDrag=T(Cn)?1:void 0,p(Cn)?(ft.xaxes=ce,ft.yaxes=Ae,A(en,vn,hn,ft,Cn)):(ft.clickFn=Mt,p(yn)&&St(),We||("zoom"===Cn?(ft.moveFn=Tt,ft.doneFn=Nt,ft.minDrag=1,function(_n,Un,qn){var Ln=Ut.getBoundingClientRect();Bt=Un-Ln.left,rt=qn-Ln.top,pe._fullLayout._calcInverseTransform(pe);var Yn=E.apply3DTransform(pe._fullLayout._invTransform)(Bt,rt);ot={l:Bt=Yn[0],r:Bt,w:0,t:rt=Yn[1],b:rt,h:0},Je=pe._hmpixcount?pe._hmlumcount/pe._hmpixcount:S(pe._fullLayout.plot_bgcolor).getLuminance(),dt=!1,ht="xy",ut=!1,Ve=Z(vt,Je,Ne,De,it="M0,0H"+Ue+"V"+Ye+"H0V0"),qe=X(vt,Ne,De)}(0,vn,hn)):"pan"===Cn&&(ft.moveFn=Yt,ft.doneFn=un))),pe._fullLayout._redrag=function(){var _n=pe._dragdata;_n&&_n.element===Ut&&(p(pe._fullLayout.dragmode)||(Lt(),rn([0,0,Ue,Ye]),ft.moveFn(_n.dx,_n.dy)))}},h.init(ft);var bt=[0,0,Ue,Ye],wt=null,It=P.REDRAWDELAY,Wt=ge.mainplot?pe._fullLayout._plots[ge.mainplot]:ge;function Yt(en,vn){if(en*=kt,vn*=Dt,!pe._transitioningWithDuration){if(pe._fullLayout._replotting=!0,"ew"===Ie||"ns"===Be){var hn=Ie?-en:0,yn=Be?-vn:0;if(Pe.isSubplotConstrained){if(Ie&&Be){var Cn=(en/Ue-vn/Ye)/2;hn=-(en=Cn*Ue),yn=-(vn=-Cn*Ye)}Be?hn=-yn*Ue/Ye:yn=-hn*Ye/Ue}return Ie&&(q(ce,en),Zt("x")),Be&&(q(Ae,vn),Zt("y")),rn([hn,yn,Ue,Ye]),dn(),void pe.emit("plotly_relayouting",ct)}var _n,Un,qn="w"===Ie==("n"===Be)?1:-1;if(Ie&&Be&&(_e.isSubplotConstrained||Pe.isSubplotConstrained)){var Ln=(en/Ue+qn*vn/Ye)/2;en=Ln*Ue,vn=qn*Ln*Ye}if("w"===Ie?en=kr(ce,0,en):"e"===Ie?en=kr(ce,1,-en):Ie||(en=0),"n"===Be?vn=kr(Ae,1,vn):"s"===Be?vn=kr(Ae,0,-vn):Be||(vn=0),_n="w"===Ie?en:0,Un="n"===Be?vn:0,_e.isSubplotConstrained&&!Pe.isSubplotConstrained||Pe.isSubplotConstrained&&Ie&&Be&&qn>0){var Yn;if(Pe.isSubplotConstrained||!Ie&&1===Be.length){for(Yn=0;Yn<ce.length;Yn++)ce[Yn].range=ce[Yn]._r.slice(),k(ce[Yn],1-vn/Ye);_n=(en=vn*Ue/Ye)/2}if(Pe.isSubplotConstrained||!Be&&1===Ie.length){for(Yn=0;Yn<Ae.length;Yn++)Ae[Yn].range=Ae[Yn]._r.slice(),k(Ae[Yn],1-en/Ue);Un=(vn=en*Ye/Ue)/2}}Pe.isSubplotConstrained&&Be||Zt("x"),Pe.isSubplotConstrained&&Ie||Zt("y");var _r=Ue-en,dr=Ye-vn;!Pe.isSubplotConstrained||Ie&&Be||(Ie?(Un=_n?0:en*Ye/Ue,dr=_r*Ye/Ue):(_n=Un?0:vn*Ue/Ye,_r=dr*Ue/Ye)),rn([_n,Un,_r,dr]),dn(),pe.emit("plotly_relayouting",ct)}function kr(vr,mr,Br){for(var qt,on,An=1-mr,Dn=0;Dn<vr.length;Dn++){var Bn=vr[Dn];if(!Bn.fixedrange){qt=Bn,on=Bn._rl[An]+(Bn._rl[mr]-Bn._rl[An])/U(Br/Bn._length);var fr=Bn.l2r(on);!1!==fr&&void 0!==fr&&(Bn.range[mr]=fr)}}return qt._length*(qt._rl[mr]-on)/(qt._rl[mr]-qt._rl[An])}}function Zt(en,vn){for(var hn=Pe.isSubplotConstrained?{x:Ae,y:ce}[en]:Pe[en+"axes"],yn=Pe.isSubplotConstrained?{x:ce,y:Ae}[en]:[],Cn=0;Cn<hn.length;Cn++){var _n=hn[Cn],Un=_n._id,qn=Pe.xLinks[Un]||Pe.yLinks[Un],Ln=yn[0]||me[qn]||de[qn];Ln&&(vn?(vn[_n._name+".range[0]"]=vn[Ln._name+".range[0]"],vn[_n._name+".range[1]"]=vn[Ln._name+".range[1]"]):_n.range=Ln.range.slice())}}function dn(){var en,vn=[];function hn(Un){for(en=0;en<Un.length;en++)Un[en].fixedrange||vn.push(Un[en]._id)}function yn(Un,qn){for(en=0;en<Un.length;en++){var Ln=Un[en],Yn=Ln[qn];Ln.fixedrange||"sync"!==Yn.tickmode||vn.push(Yn._id)}}for(Ge&&(hn(ce),hn(_e.xaxes),hn(Pe.xaxes),yn(ge.overlays,"xaxis")),Ke&&(hn(Ae),hn(_e.yaxes),hn(Pe.yaxes),yn(ge.overlays,"yaxis")),ct={},en=0;en<vn.length;en++){var _n=b(pe,vn[en]);l.drawOne(pe,_n,{skipTitle:!0}),ct[_n._name+".range[0]"]=_n.range[0],ct[_n._name+".range[1]"]=_n.range[1]}l.redrawComponents(pe,vn)}function un(){rn([0,0,Ue,Ye]),E.syncOrAsync([x.previousPromises,function(){pe._fullLayout._replotting=!1,y.call("_guiRelayout",pe,ct)}],pe)}function rn(en){var vn,hn,yn,Cn,_n=pe._fullLayout,Un=_n._plots,qn=_n._subplots.cartesian;if(st&&y.subplotsRegistry.splom.drag(pe),tt)for(vn=0;vn<qn.length;vn++)if(yn=(hn=Un[qn[vn]]).xaxis,Cn=hn.yaxis,hn._scene){var Ln=E.simpleMap(yn.range,yn.r2l),Yn=E.simpleMap(Cn.range,Cn.r2l);hn._scene.update({range:[Ln[0],Yn[0],Ln[1],Yn[1]]})}if((st||tt)&&(g(pe),w(pe)),gt){var _r=en[2]/ke._length,dr=en[3]/Ee._length;for(vn=0;vn<qn.length;vn++){yn=(hn=Un[qn[vn]]).xaxis,Cn=hn.yaxis;var kr,vr,mr,Br,on=(Ke||Pe.isSubplotConstrained)&&!Cn.fixedrange&&de[Cn._id];if((Ge||Pe.isSubplotConstrained)&&!yn.fixedrange&&me[yn._id]?(kr=_r,mr=ze||Pe.isSubplotConstrained?en[0]:Sn(yn,kr)):Pe.xaHash[yn._id]?(kr=_r,mr=en[0]*yn._length/ke._length):Pe.yaHash[yn._id]?(kr=dr,mr="ns"===Be?-en[1]*yn._length/Ee._length:Sn(yn,kr,{n:"top",s:"bottom"}[Be])):mr=Pn(yn,kr=kn(yn,_r,dr)),on?(vr=dr,Br=we||Pe.isSubplotConstrained?en[1]:Sn(Cn,vr)):Pe.yaHash[Cn._id]?(vr=dr,Br=en[1]*Cn._length/Ee._length):Pe.xaHash[Cn._id]?(vr=_r,Br="ew"===Ie?-en[0]*Cn._length/ke._length:Sn(Cn,vr,{e:"right",w:"left"}[Ie])):Br=Pn(Cn,vr=kn(Cn,_r,dr)),kr||vr){kr||(kr=1),vr||(vr=1);var An=yn._offset-mr/kr,Dn=Cn._offset-Br/vr;hn.clipRect.call(a.setTranslate,mr,Br).call(a.setScale,kr,vr),hn.plot.call(a.setTranslate,An,Dn).call(a.setScale,1/kr,1/vr),kr===hn.xScaleFactor&&vr===hn.yScaleFactor||(a.setPointGroupScale(hn.zoomScalePts,kr,vr),a.setTextPointsScale(hn.zoomScaleTxt,kr,vr)),a.hideOutsideRangePoints(hn.clipOnAxisFalseTraces,hn),hn.xScaleFactor=kr,hn.yScaleFactor=vr}}}}function kn(en,vn,hn){return en.fixedrange?0:Ge&&_e.xaHash[en._id]?vn:Ke&&(_e.isSubplotConstrained?_e.xaHash:_e.yaHash)[en._id]?hn:0}function Pn(en,vn){return vn?(en.range=en._r.slice(),k(en,vn),Sn(en,vn)):0}function Sn(en,vn,hn){return en._length*(1-vn)*_[hn||en.constraintoward||"middle"]}return we.length*ze.length!=1&&ue(Ut,function(en){if(pe._context._scrollZoom.cartesian||pe._fullLayout._enablescrollzoom){if(St(),pe._transitioningWithDuration)return en.preventDefault(),void en.stopPropagation();Lt(),clearTimeout(wt);var vn=-en.deltaY;if(isFinite(vn)||(vn=en.wheelDelta/10),isFinite(vn)){var hn,yn=Math.exp(-Math.min(Math.max(vn,-20),20)/200),Cn=Wt.draglayer.select(".nsewdrag").node().getBoundingClientRect(),_n=(en.clientX-Cn.left)/Cn.width,Un=(Cn.bottom-en.clientY)/Cn.height;if(Ge){for(ze||(_n=.5),hn=0;hn<ce.length;hn++)qn(ce[hn],_n,yn);Zt("x"),bt[2]*=yn,bt[0]+=bt[2]*_n*(1/yn-1)}if(Ke){for(we||(Un=.5),hn=0;hn<Ae.length;hn++)qn(Ae[hn],Un,yn);Zt("y"),bt[3]*=yn,bt[1]+=bt[3]*(1-Un)*(1/yn-1)}rn(bt),dn(),pe.emit("plotly_relayouting",ct),wt=setTimeout(function(){pe._fullLayout&&(bt=[0,0,Ue,Ye],un())},It),en.preventDefault()}else E.log("Did not find wheel motion attributes: ",en)}function qn(Ln,Yn,_r){if(!Ln.fixedrange){var dr=E.simpleMap(Ln.range,Ln.r2l),kr=dr[0]+(dr[1]-dr[0])*Yn;Ln.range=dr.map(function(vr){return Ln.l2r(kr+(vr-kr)*_r)})}}}),Ut},makeDragger:B,makeRectDragger:J,makeZoombox:Z,makeCorners:X,updateZoombox:se,xyCorners:ne,transitionZoombox:re,removeZoombox:ee,showDoubleClickNotifier:K,attachWheelEventHandler:ue}},4305:function(oe,j,r){"use strict";var I=r(39898),E=r(30211),f=r(28569),S=r(6964),M=r(29323).makeDragBox,y=r(85555).DRAGGERSIZE;j.initInteractions=function(u){var i=u._fullLayout;if(u._context.staticPlot)I.select(u).selectAll(".drag").remove();else if(i._has("cartesian")||i._has("splom")){Object.keys(i._plots||{}).sort(function(a,o){if((i._plots[a].mainplot&&!0)===(i._plots[o].mainplot&&!0)){var l=a.split("y"),c=o.split("y");return l[0]===c[0]?Number(l[1]||1)-Number(c[1]||1):Number(l[0]||1)-Number(c[0]||1)}return i._plots[a].mainplot?1:-1}).forEach(function(a){var o=i._plots[a],l=o.xaxis,c=o.yaxis;if(!o.mainplot){var h=M(u,o,l._offset,c._offset,l._length,c._length,"ns","ew");h.onmousemove=function(T){u._fullLayout._rehover=function(){u._fullLayout._hoversubplot===a&&u._fullLayout._plots[a]&&E.hover(u,T,a)},E.hover(u,T,a),u._fullLayout._lasthover=h,u._fullLayout._hoversubplot=a},h.onmouseout=function(T){u._dragging||(u._fullLayout._hoversubplot=null,f.unhover(u,T))},u._context.showAxisDragHandles&&(M(u,o,l._offset-y,c._offset-y,y,y,"n","w"),M(u,o,l._offset+l._length,c._offset-y,y,y,"n","e"),M(u,o,l._offset-y,c._offset+c._length,y,y,"s","w"),M(u,o,l._offset+l._length,c._offset+c._length,y,y,"s","e"))}if(u._context.showAxisDragHandles){if(a===l._mainSubplot){var v=l._mainLinePosition;"top"===l.side&&(v-=y),M(u,o,l._offset+.1*l._length,v,.8*l._length,y,"","ew"),M(u,o,l._offset,v,.1*l._length,y,"","w"),M(u,o,l._offset+.9*l._length,v,.1*l._length,y,"","e")}if(a===c._mainSubplot){var p=c._mainLinePosition;"right"!==c.side&&(p-=y),M(u,o,p,c._offset+.1*c._length,y,.8*c._length,"ns",""),M(u,o,p,c._offset+.9*c._length,y,.1*c._length,"s",""),M(u,o,p,c._offset,y,.1*c._length,"n","")}}});var s=i._hoverlayer.node();s.onmousemove=function(a){a.target=u._fullLayout._lasthover,E.hover(u,a,i._hoversubplot)},s.onclick=function(a){a.target=u._fullLayout._lasthover,E.click(u,a)},s.onmousedown=function(a){u._fullLayout._lasthover.onmousedown(a)},j.updateFx(u)}},j.updateFx=function(u){var i=u._fullLayout;S(i._draggers,"pan"===i.dragmode?"move":"crosshair")}},76325:function(oe,j,r){"use strict";var I=r(73972),E=r(71828),f=r(41675);oe.exports=function(S){return function(M,y){var u=M[S];if(Array.isArray(u))for(var i=I.subplotsRegistry.cartesian,s=i.idRegex,a=y._subplots,o=a.xaxis,l=a.yaxis,c=a.cartesian,h=y._has("cartesian")||y._has("gl2d"),v=0;v<u.length;v++){var p=u[v];if(E.isPlainObject(p)){var T=f.cleanId(p.xref,"x",!1),_=f.cleanId(p.yref,"y",!1),g=s.x.test(T),w=s.y.test(_);if(g||w){h||E.pushUnique(y._basePlotModules,i);var x=!1;g&&-1===o.indexOf(T)&&(o.push(T),x=!0),w&&-1===l.indexOf(_)&&(l.push(_),x=!0),x&&g&&w&&c.push(T+_)}}}}}},93612:function(oe,j,r){"use strict";var I=r(39898),E=r(73972),f=r(71828),S=r(74875),M=r(91424),y=r(27659).a0,u=r(41675),i=r(85555),s=r(77922),a=f.ensureSingle;function o(p,T,_){return f.ensureSingle(p,T,_,function(g){g.datum(_)})}function l(p,T,_,g,w){for(var x,b,A,m=i.traceLayerClasses,C=p._fullLayout,k=C._modules,P=[],R=[],L=0;L<k.length;L++){var N=(x=k[L]).name,B=E.modules[N].categories;if(B.svg){var J=x.layerName||N+"layer",z=x.plot;A=(b=y(_,z))[0],_=b[1],A.length&&P.push({i:m.indexOf(J),className:J,plotMethod:z,cdModule:A}),B.zoomScale&&R.push("."+J)}}P.sort(function(U,Z){return U.i-Z.i});var Y=T.plot.selectAll("g.mlayer").data(P,function(U){return U.className});if(Y.enter().append("g").attr("class",function(U){return U.className}).classed("mlayer",!0).classed("rangeplot",T.isRangePlot),Y.exit().remove(),Y.order(),Y.each(function(U){var Z=I.select(this),X=U.className;U.plotMethod(p,T,U.cdModule,Z,g,w),-1===i.clipOnAxisFalseQuery.indexOf("."+X)&&M.setClipUrl(Z,T.layerClipId,p)}),C._has("scattergl")&&(x=E.getModule("scattergl"),A=y(_,x)[0],x.plot(p,T,A)),!p._context.staticPlot&&(T._hasClipOnAxisFalse&&(T.clipOnAxisFalseTraces=T.plot.selectAll(i.clipOnAxisFalseQuery.join(",")).selectAll(".trace")),R.length)){var q=T.plot.selectAll(R.join(",")).selectAll(".trace");T.zoomScalePts=q.selectAll("path.point"),T.zoomScaleTxt=q.selectAll(".textpoint")}}function c(p,T){var _=T.plotgroup,g=T.id,w=i.layerValue2layerClass[T.xaxis.layer],x=i.layerValue2layerClass[T.yaxis.layer],b=p._fullLayout._hasOnlyLargeSploms;if(T.mainplot){var A=T.mainplotinfo,m=A.plotgroup,C=g+"-x",k=g+"-y";T.minorGridlayer=A.minorGridlayer,T.gridlayer=A.gridlayer,T.zerolinelayer=A.zerolinelayer,a(A.overlinesBelow,"path",C),a(A.overlinesBelow,"path",k),a(A.overaxesBelow,"g",C),a(A.overaxesBelow,"g",k),T.plot=a(A.overplot,"g",g),a(A.overlinesAbove,"path",C),a(A.overlinesAbove,"path",k),a(A.overaxesAbove,"g",C),a(A.overaxesAbove,"g",k),T.xlines=m.select(".overlines-"+w).select("."+C),T.ylines=m.select(".overlines-"+x).select("."+k),T.xaxislayer=m.select(".overaxes-"+w).select("."+C),T.yaxislayer=m.select(".overaxes-"+x).select("."+k)}else if(b)T.xlines=a(_,"path","xlines-above"),T.ylines=a(_,"path","ylines-above"),T.xaxislayer=a(_,"g","xaxislayer-above"),T.yaxislayer=a(_,"g","yaxislayer-above");else{var P=a(_,"g","layer-subplot");T.shapelayer=a(P,"g","shapelayer"),T.imagelayer=a(P,"g","imagelayer"),T.minorGridlayer=a(_,"g","minor-gridlayer"),T.gridlayer=a(_,"g","gridlayer"),T.zerolinelayer=a(_,"g","zerolinelayer"),a(_,"path","xlines-below"),a(_,"path","ylines-below"),T.overlinesBelow=a(_,"g","overlines-below"),a(_,"g","xaxislayer-below"),a(_,"g","yaxislayer-below"),T.overaxesBelow=a(_,"g","overaxes-below"),T.plot=a(_,"g","plot"),T.overplot=a(_,"g","overplot"),T.xlines=a(_,"path","xlines-above"),T.ylines=a(_,"path","ylines-above"),T.overlinesAbove=a(_,"g","overlines-above"),a(_,"g","xaxislayer-above"),a(_,"g","yaxislayer-above"),T.overaxesAbove=a(_,"g","overaxes-above"),T.xlines=_.select(".xlines-"+w),T.ylines=_.select(".ylines-"+x),T.xaxislayer=_.select(".xaxislayer-"+w),T.yaxislayer=_.select(".yaxislayer-"+x)}b||(o(T.minorGridlayer,"g",T.xaxis._id),o(T.minorGridlayer,"g",T.yaxis._id),T.minorGridlayer.selectAll("g").map(function(R){return R[0]}).sort(u.idSort),o(T.gridlayer,"g",T.xaxis._id),o(T.gridlayer,"g",T.yaxis._id),T.gridlayer.selectAll("g").map(function(R){return R[0]}).sort(u.idSort)),T.xlines.style("fill","none").classed("crisp",!0),T.ylines.style("fill","none").classed("crisp",!0)}function h(p,T){if(p){var _={};for(var g in p.each(function(A){var m=A[0];I.select(this).remove(),v(m,T),_[m]=!0}),T._plots)for(var w=T._plots[g].overlays||[],x=0;x<w.length;x++){var b=w[x];_[b.id]&&b.plot.selectAll(".trace").remove()}}}function v(p,T){T._draggers.selectAll("g."+p).remove(),T._defs.select("#clip"+T._uid+p+"plot").remove()}j.name="cartesian",j.attr=["xaxis","yaxis"],j.idRoot=["x","y"],j.idRegex=i.idRegex,j.attrRegex=i.attrRegex,j.attributes=r(89502),j.layoutAttributes=r(13838),j.supplyLayoutDefaults=r(86763),j.transitionAxes=r(66847),j.finalizeSubplots=function(p,T){var _,g,w,x=T._subplots,b=x.xaxis,A=x.yaxis,m=x.cartesian,C=m.concat(x.gl2d||[]),k={},P={};for(_=0;_<C.length;_++){var R=C[_].split("y");k[R[0]]=1,P["y"+R[1]]=1}for(_=0;_<b.length;_++)k[g=b[_]]||(w=(p[u.id2name(g)]||{}).anchor,i.idRegex.y.test(w)||(w="y"),m.push(g+w),C.push(g+w),P[w]||(P[w]=1,f.pushUnique(A,w)));for(_=0;_<A.length;_++)P[w=A[_]]||(g=(p[u.id2name(w)]||{}).anchor,i.idRegex.x.test(g)||(g="x"),m.push(g+w),C.push(g+w),k[g]||(k[g]=1,f.pushUnique(b,g)));if(!C.length){for(var L in g="",w="",p)i.attrRegex.test(L)&&("x"===L.charAt(0)?(!g||+L.substr(5)<+g.substr(5))&&(g=L):(!w||+L.substr(5)<+w.substr(5))&&(w=L));g=g?u.name2id(g):"x",w=w?u.name2id(w):"y",b.push(g),A.push(w),m.push(g+w)}},j.plot=function(p,T,_,g){var w,x=p._fullLayout,b=x._subplots.cartesian,A=p.calcdata;if(!Array.isArray(T))for(T=[],w=0;w<A.length;w++)T.push(w);for(w=0;w<b.length;w++){for(var m,C=b[w],k=x._plots[C],P=[],R=0;R<A.length;R++){var L=A[R],N=L[0].trace;N.xaxis+N.yaxis===C&&((-1!==T.indexOf(N.index)||N.carpet)&&(m&&m[0].trace.xaxis+m[0].trace.yaxis===C&&-1!==["tonextx","tonexty","tonext"].indexOf(N.fill)&&-1===P.indexOf(m)&&P.push(m),P.push(L)),m=L)}l(p,k,P,_,g)}},j.clean=function(p,T,_,g){var w,x,b,A=g._plots||{},m=T._plots||{},C=g._subplots||{};if(g._hasOnlyLargeSploms&&!T._hasOnlyLargeSploms)for(b in A)(w=A[b]).plotgroup&&w.plotgroup.remove();var k=g._has&&g._has("gl"),P=T._has&&T._has("gl");if(k&&!P)for(b in A)(w=A[b])._scene&&w._scene.destroy();if(C.xaxis&&C.yaxis){var R=u.listIds({_fullLayout:g});for(x=0;x<R.length;x++){var L=R[x];T[u.id2name(L)]||g._infolayer.selectAll(".g-"+L+"title").remove()}}var N=g._has&&g._has("cartesian"),B=T._has&&T._has("cartesian");if(N&&!B)h(g._cartesianlayer.selectAll(".subplot"),g),g._defs.selectAll(".axesclip").remove(),delete g._axisConstraintGroups,delete g._axisMatchGroups;else if(C.cartesian)for(x=0;x<C.cartesian.length;x++){var J=C.cartesian[x];m[J]||(g._cartesianlayer.selectAll("."+J+",."+J+"-x,."+J+"-y").remove(),v(J,g))}},j.drawFramework=function(p){var T=p._fullLayout,_=function(w){var x,b,A,m,C,k,P=w._fullLayout,R=P._subplots.cartesian,L=R.length,N=[],B=[];for(x=0;x<L;x++){var Y=(C=(m=P._plots[A=R[x]]).xaxis)._mainAxis._id+(k=m.yaxis)._mainAxis._id,q=P._plots[Y];m.overlays=[],Y!==A&&q?(m.mainplot=Y,m.mainplotinfo=q,B.push(A)):(m.mainplot=void 0,m.mainplotinfo=void 0,N.push(A))}for(x=0;x<B.length;x++)(m=P._plots[A=B[x]]).mainplotinfo.overlays.push(m);var U=N.concat(B),Z=new Array(L);for(x=0;x<L;x++){var X=[A=U[x],(C=(m=P._plots[A]).xaxis).layer,(k=m.yaxis).layer,C.overlaying||"",k.overlaying||""];for(b=0;b<m.overlays.length;b++)X.push(m.overlays[b].id);Z[x]=X}return Z}(p),g=T._cartesianlayer.selectAll(".subplot").data(_,String);g.enter().append("g").attr("class",function(w){return"subplot "+w[0]}),g.order(),g.exit().call(h,T),g.each(function(w){var x=w[0],b=T._plots[x];b.plotgroup=I.select(this),c(p,b),b.draglayer=a(T._draggers,"g",x)})},j.rangePlot=function(p,T,_){c(p,T),l(p,T,_),S.style(p)},j.toSVG=function(p){var T=p._fullLayout._glimages,_=I.select(p).selectAll(".svg-container");_.filter(function(g,w){return w===_.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus").each(function(){var g=this,w=g.toDataURL("image/png");T.append("svg:image").attr({xmlns:s.svg,"xlink:href":w,preserveAspectRatio:"none",x:0,y:0,width:g.style.width,height:g.style.height})})},j.updateFx=r(4305).updateFx},13838:function(oe,j,r){"use strict";var I=r(41940),E=r(22399),f=r(79952).P,S=r(1426).extendFlat,M=r(44467).templatedArray,y=r(12663).descriptionWithDates,u=r(50606).ONEDAY,i=r(85555),s=i.HOUR_PATTERN,a=i.WEEKDAY_PATTERN,o={valType:"enumerated",values:["auto","linear","array"],editType:"ticks",impliedEdits:{tick0:void 0,dtick:void 0}},l=S({},o,{values:o.values.slice().concat(["sync"])});function c(C){return{valType:"integer",min:0,dflt:C?5:0,editType:"ticks"}}var h={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},v={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},p={valType:"data_array",editType:"ticks"},T={valType:"enumerated",values:["outside","inside",""],editType:"ticks"};function _(C){var k={valType:"number",min:0,editType:"ticks"};return C||(k.dflt=5),k}function g(C){var k={valType:"number",min:0,editType:"ticks"};return C||(k.dflt=1),k}var w={valType:"color",dflt:E.defaultLine,editType:"ticks"},x={valType:"color",dflt:E.lightLine,editType:"ticks"};function b(C){var k={valType:"number",min:0,editType:"ticks"};return C||(k.dflt=1),k}var A=S({},f,{editType:"ticks"}),m={valType:"boolean",editType:"ticks"};oe.exports={visible:{valType:"boolean",editType:"plot"},color:{valType:"color",dflt:E.defaultLine,editType:"ticks"},title:{text:{valType:"string",editType:"ticks"},font:I({editType:"ticks"}),standoff:{valType:"number",min:0,editType:"ticks"},editType:"ticks"},type:{valType:"enumerated",values:["-","linear","log","date","category","multicategory"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},autorange:{valType:"enumerated",values:[!0,!1,"reversed"],dflt:!0,editType:"axrange",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"plot"},range:{valType:"info_array",items:[{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0},{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0}],editType:"axrange",impliedEdits:{autorange:!1},anim:!0},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},scaleanchor:{valType:"enumerated",values:[i.idRegex.x.toString(),i.idRegex.y.toString()],editType:"plot"},scaleratio:{valType:"number",min:0,dflt:1,editType:"plot"},constrain:{valType:"enumerated",values:["range","domain"],editType:"plot"},constraintoward:{valType:"enumerated",values:["left","center","right","top","middle","bottom"],editType:"plot"},matches:{valType:"enumerated",values:[i.idRegex.x.toString(),i.idRegex.y.toString()],editType:"calc"},rangebreaks:M("rangebreak",{enabled:{valType:"boolean",dflt:!0,editType:"calc"},bounds:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},pattern:{valType:"enumerated",values:[a,s,""],editType:"calc"},values:{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"any",editType:"calc"}},dvalue:{valType:"number",editType:"calc",min:0,dflt:u},editType:"calc"}),tickmode:l,nticks:c(),tick0:h,dtick:v,ticklabelstep:{valType:"integer",min:1,dflt:1,editType:"ticks"},tickvals:p,ticktext:{valType:"data_array",editType:"ticks"},ticks:T,tickson:{valType:"enumerated",values:["labels","boundaries"],dflt:"labels",editType:"ticks"},ticklabelmode:{valType:"enumerated",values:["instant","period"],dflt:"instant",editType:"ticks"},ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside",editType:"calc"},ticklabeloverflow:{valType:"enumerated",values:["allow","hide past div","hide past domain"],editType:"calc"},mirror:{valType:"enumerated",values:[!0,"ticks",!1,"all","allticks"],dflt:!1,editType:"ticks+layoutstyle"},ticklen:_(),tickwidth:g(),tickcolor:w,showticklabels:{valType:"boolean",dflt:!0,editType:"ticks"},labelalias:{valType:"any",dflt:!1,editType:"ticks"},automargin:{valType:"flaglist",flags:["height","width","left","right","top","bottom"],extras:[!0,!1],dflt:!1,editType:"ticks"},showspikes:{valType:"boolean",dflt:!1,editType:"modebar"},spikecolor:{valType:"color",dflt:null,editType:"none"},spikethickness:{valType:"number",dflt:3,editType:"none"},spikedash:S({},f,{dflt:"dash",editType:"none"}),spikemode:{valType:"flaglist",flags:["toaxis","across","marker"],dflt:"toaxis",editType:"none"},spikesnap:{valType:"enumerated",values:["data","cursor","hovered data"],dflt:"hovered data",editType:"none"},tickfont:I({editType:"ticks"}),tickangle:{valType:"angle",dflt:"auto",editType:"ticks"},tickprefix:{valType:"string",dflt:"",editType:"ticks"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},ticksuffix:{valType:"string",dflt:"",editType:"ticks"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"ticks"},minexponent:{valType:"number",dflt:3,min:0,editType:"ticks"},separatethousands:{valType:"boolean",dflt:!1,editType:"ticks"},tickformat:{valType:"string",dflt:"",editType:"ticks",description:y("tick label")},tickformatstops:M("tickformatstop",{enabled:{valType:"boolean",dflt:!0,editType:"ticks"},dtickrange:{valType:"info_array",items:[{valType:"any",editType:"ticks"},{valType:"any",editType:"ticks"}],editType:"ticks"},value:{valType:"string",dflt:"",editType:"ticks"},editType:"ticks"}),hoverformat:{valType:"string",dflt:"",editType:"none",description:y("hover text")},showline:{valType:"boolean",dflt:!1,editType:"ticks+layoutstyle"},linecolor:{valType:"color",dflt:E.defaultLine,editType:"layoutstyle"},linewidth:{valType:"number",min:0,dflt:1,editType:"ticks+layoutstyle"},showgrid:m,gridcolor:x,gridwidth:b(),griddash:A,zeroline:{valType:"boolean",editType:"ticks"},zerolinecolor:{valType:"color",dflt:E.defaultLine,editType:"ticks"},zerolinewidth:{valType:"number",dflt:1,editType:"ticks"},showdividers:{valType:"boolean",dflt:!0,editType:"ticks"},dividercolor:{valType:"color",dflt:E.defaultLine,editType:"ticks"},dividerwidth:{valType:"number",dflt:1,editType:"ticks"},anchor:{valType:"enumerated",values:["free",i.idRegex.x.toString(),i.idRegex.y.toString()],editType:"plot"},side:{valType:"enumerated",values:["top","bottom","left","right"],editType:"plot"},overlaying:{valType:"enumerated",values:["free",i.idRegex.x.toString(),i.idRegex.y.toString()],editType:"plot"},minor:{tickmode:o,nticks:c("minor"),tick0:h,dtick:v,tickvals:p,ticks:T,ticklen:_("minor"),tickwidth:g("minor"),tickcolor:w,gridcolor:x,gridwidth:b("minor"),griddash:A,showgrid:m,editType:"ticks"},layer:{valType:"enumerated",values:["above traces","below traces"],dflt:"above traces",editType:"plot"},domain:{valType:"info_array",items:[{valType:"number",min:0,max:1,editType:"plot"},{valType:"number",min:0,max:1,editType:"plot"}],dflt:[0,1],editType:"plot"},position:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},autoshift:{valType:"boolean",dflt:!1,editType:"plot"},shift:{valType:"number",editType:"plot"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array","total ascending","total descending","min ascending","min descending","max ascending","max descending","sum ascending","sum descending","mean ascending","mean descending","median ascending","median descending"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{autotick:{valType:"boolean",editType:"ticks"},title:{valType:"string",editType:"ticks"},titlefont:I({editType:"ticks"})}}},86763:function(oe,j,r){"use strict";var I=r(71828),E=r(7901),f=r(23469).isUnifiedHover,S=r(98212),M=r(44467),y=r(10820),u=r(13838),i=r(951),s=r(71453),a=r(99082),o=r(52830),l=r(41675),c=l.id2name,h=l.name2id,v=r(85555).AX_ID_PATTERN,p=r(73972),T=p.traceIs,_=p.getComponentMethod;function g(w,x,b){Array.isArray(w[x])?w[x].push(b):w[x]=[b]}oe.exports=function(w,x,b){var A,m,C=x.autotypenumbers,k={},P={},R={},L={},N={},B={},J={},z={},Y={},q={};for(A=0;A<b.length;A++){var U=b[A];if(T(U,"cartesian")||T(U,"gl2d")){var Z,X;if(U.xaxis)Z=c(U.xaxis),g(k,Z,U);else if(U.xaxes)for(m=0;m<U.xaxes.length;m++)g(k,c(U.xaxes[m]),U);if(U.yaxis)X=c(U.yaxis),g(k,X,U);else if(U.yaxes)for(m=0;m<U.yaxes.length;m++)g(k,c(U.yaxes[m]),U);"funnel"===U.type?"h"===U.orientation?(Z&&(P[Z]=!0),X&&(J[X]=!0)):X&&(R[X]=!0):"image"===U.type?(X&&(z[X]=!0),Z&&(z[Z]=!0)):(X&&(N[X]=!0,B[X]=!0),T(U,"carpet")&&("carpet"!==U.type||U._cheater)||Z&&(L[Z]=!0)),"carpet"===U.type&&U._cheater&&Z&&(P[Z]=!0),T(U,"2dMap")&&(Y[Z]=!0,Y[X]=!0),T(U,"oriented")&&(q["h"===U.orientation?X:Z]=!0)}}var se=x._subplots,re=se.xaxis,ee=se.yaxis,K=I.simpleMap(re,c),ne=I.simpleMap(ee,c),ae=K.concat(ne),ue=E.background;re.length&&ee.length&&(ue=I.coerce(w,x,y,"plot_bgcolor"));var he,pe,ge,xe,Se,Te=E.combine(ue,x.paper_bgcolor);function ye(){Se._traceIndices=(k[he]||[]).map(function(Lt){return Lt._expandedIndex}),Se._annIndices=[],Se._shapeIndices=[],Se._selectionIndices=[],Se._imgIndices=[],Se._subplotsWith=[],Se._counterAxes=[],Se._name=Se._attr=he,Se._id=pe}function we(Et,Lt){return I.coerce(xe,Se,u,Et,Lt)}function ze(Et,Lt){return I.coerce2(xe,Se,u,Et,Lt)}function ke(Et){return"x"===Et?ee:re}function Ee(Et,Lt){for(var Rt="x"===Et?K:ne,Ut=[],Bt=0;Bt<Rt.length;Bt++){var rt=Rt[Bt];rt===Lt||(w[rt]||{}).overlaying||Ut.push(h(rt))}return Ut}var me={x:ke("x"),y:ke("y")},de=me.x.concat(me.y),ce={},Ae=[];function Ne(){var Et=xe.matches;v.test(Et)&&-1===de.indexOf(Et)&&(ce[Et]=xe.type,Ae=Object.keys(ce))}var De=S(w,x),Ue=f(De);for(A=0;A<ae.length;A++){pe=h(he=ae[A]),ge=he.charAt(0),I.isPlainObject(w[he])||(w[he]={}),xe=w[he],Se=M.newContainer(x,he,ge+"axis"),ye();var Pe={hasMinor:!0,letter:ge,font:x.font,outerTicks:Y[he],showGrid:!q[he],data:k[he]||[],bgColor:Te,calendar:x.calendar,automargin:!0,visibleDflt:"x"===ge&&!L[he]&&P[he]||"y"===ge&&!N[he]&&R[he],reverseDflt:"y"===ge&&(!B[he]&&J[he]||z[he]),autotypenumbersDflt:C,splomStash:((x._splomAxes||{})[ge]||{})[pe]};we("uirevision",x.uirevision),i(xe,Se,we,Pe),s(xe,Se,we,Pe,x);var Ie=Ue&&ge===De.charAt(0),Be=ze("spikecolor",Ue?Se.color:void 0),We=ze("spikethickness",Ue?1.5:void 0),Ge=ze("spikedash",Ue?"dot":void 0),Ke=ze("spikemode",Ue?"across":void 0),tt=ze("spikesnap");we("showspikes",!!(Ie||Be||We||Ge||Ke||tt))||(delete Se.spikecolor,delete Se.spikethickness,delete Se.spikedash,delete Se.spikemode,delete Se.spikesnap);var st=c(xe.overlaying),gt=[0,1];if(void 0!==x[st]){var ct=c(x[st].anchor);void 0!==x[ct]&&(gt=x[ct].domain)}o(xe,Se,we,{letter:ge,counterAxes:me[ge],overlayableAxes:Ee(ge,he),grid:x.grid,overlayingDomain:gt}),we("title.standoff"),Ne(),Se._input=xe}for(A=0;A<Ae.length;){pe=Ae[A++],ge=(he=c(pe)).charAt(0),I.isPlainObject(w[he])||(w[he]={}),xe=w[he],Se=M.newContainer(x,he,ge+"axis"),ye();var kt={letter:ge,font:x.font,outerTicks:Y[he],showGrid:!q[he],data:[],bgColor:Te,calendar:x.calendar,automargin:!0,visibleDflt:!1,reverseDflt:!1,autotypenumbersDflt:C,splomStash:((x._splomAxes||{})[ge]||{})[pe]};we("uirevision",x.uirevision),Se.type=ce[pe]||"linear",s(xe,Se,we,kt,x),o(xe,Se,we,{letter:ge,counterAxes:me[ge],overlayableAxes:Ee(ge,he),grid:x.grid}),we("fixedrange"),Ne(),Se._input=xe}var Dt=_("rangeslider","handleDefaults"),vt=_("rangeselector","handleDefaults");for(A=0;A<K.length;A++)xe=w[he=K[A]],Se=x[he],Dt(w,x,he),"date"===Se.type&&vt(xe,Se,x,ne,Se.calendar),we("fixedrange");for(A=0;A<ne.length;A++){xe=w[he=ne[A]];var mt=x[c((Se=x[he]).anchor)];we("fixedrange",_("rangeslider","isVisible")(mt))}a.handleDefaults(w,x,{axIds:de.concat(Ae).sort(l.idSort),axHasImage:z})}},92128:function(oe,j,r){"use strict";var I=r(84267).mix,E=r(22399),f=r(71828);oe.exports=function(S,M,y,u){var i=(u=u||{}).dfltColor;function s(w,x){return f.coerce2(S,M,u.attributes,w,x)}var a=s("linecolor",i),o=s("linewidth");y("showline",u.showLine||!!a||!!o)||(delete M.linecolor,delete M.linewidth);var l=s("gridcolor",I(i,u.bgColor,u.blend||E.lightFraction).toRgbString()),c=s("gridwidth"),h=s("griddash");if(y("showgrid",u.showGrid||!!l||!!c||!!h)||(delete M.gridcolor,delete M.gridwidth,delete M.griddash),u.hasMinor){var v=s("minor.gridcolor",I(M.gridcolor,u.bgColor,67).toRgbString()),p=s("minor.gridwidth",M.gridwidth||1),T=s("minor.griddash",M.griddash||"solid");y("minor.showgrid",!!v||!!p||!!T)||(delete M.minor.gridcolor,delete M.minor.gridwidth,delete M.minor.griddash)}if(!u.noZeroLine){var _=s("zerolinecolor",i),g=s("zerolinewidth");y("zeroline",u.showGrid||!!_||!!g)||(delete M.zerolinecolor,delete M.zerolinewidth)}}},52830:function(oe,j,r){"use strict";var I=r(92770),E=r(71828);oe.exports=function(f,S,M,y){var u,i,s,a,o,l,c=y.counterAxes||[],h=y.overlayableAxes||[],v=y.letter,p=y.grid,T=y.overlayingDomain;p&&(u=p._anchors[S._id],(i=p._domains[v][p._axisMap[S._id]])&&(s=p[v+"side"].split(" ")[0],a=p.domain[v]["right"===s||"top"===s?1:0])),i=i||[0,1],u=u||(I(f.position)?"free":c[0]||"free"),s=s||("x"===v?"bottom":"left"),a=a||0,o=0,l=!1;var _=E.coerce(f,S,{anchor:{valType:"enumerated",values:["free"].concat(c),dflt:u}},"anchor"),g=E.coerce(f,S,{side:{valType:"enumerated",values:"x"===v?["bottom","top"]:["left","right"],dflt:s}},"side");"free"===_&&("y"===v&&(M("autoshift")&&(a="left"===g?T[0]:T[1],l=!S.automargin||S.automargin,o="left"===g?-3:3),M("shift",o)),M("position",a)),M("automargin",l);var w=!1;if(h.length&&(w=E.coerce(f,S,{overlaying:{valType:"enumerated",values:[!1].concat(h),dflt:!1}},"overlaying")),!w){var x=M("domain",i);x[0]>x[1]-.000244140625&&(S.domain=i),E.noneOrAll(f.domain,S.domain,i),"sync"===S.tickmode&&(S.tickmode="auto")}return M("layer"),S}},89426:function(oe,j,r){"use strict";var I=r(59652);oe.exports=function(E,f,S,M,y){y||(y={});var u=y.tickSuffixDflt,i=I(E);S("tickprefix")&&S("showtickprefix",i),S("ticksuffix",u)&&S("showticksuffix",i)}},42449:function(oe,j,r){"use strict";var I=r(18783).FROM_BL;oe.exports=function(E,f,S){void 0===S&&(S=I[E.constraintoward||"center"]);var M=[E.r2l(E.range[0]),E.r2l(E.range[1])],y=M[0]+(M[1]-M[0])*S;E.range=E._input.range=[E.l2r(y+(M[0]-y)*f),E.l2r(y+(M[1]-y)*f)],E.setScale()}},21994:function(oe,j,r){"use strict";var I=r(39898),E=r(84096).g0,f=r(71828),S=f.numberFormat,M=r(92770),y=f.cleanNumber,u=f.ms2DateTime,i=f.dateTime2ms,s=f.ensureNumber,a=f.isArrayOrTypedArray,o=r(50606),l=o.FP_SAFE,c=o.BADNUM,h=o.LOG_CLIP,v=o.ONEWEEK,p=o.ONEDAY,T=o.ONEHOUR,_=o.ONEMIN,g=o.ONESEC,w=r(41675),x=r(85555),b=x.HOUR_PATTERN,A=x.WEEKDAY_PATTERN;function m(k){return Math.pow(10,k)}function C(k){return null!=k}oe.exports=function(k,P){P=P||{};var R=k._id||"x",L=R.charAt(0);function N(ae,ue){if(ae>0)return Math.log(ae)/Math.LN10;if(ae<=0&&ue&&k.range&&2===k.range.length){var he=k.range[0],pe=k.range[1];return.5*(he+pe-2*h*Math.abs(he-pe))}return c}function B(ae,ue,he,pe){if((pe||{}).msUTC&&M(ae))return+ae;var ge=i(ae,he||k.calendar);if(ge===c){if(!M(ae))return c;ae=+ae;var xe=Math.floor(10*f.mod(ae+.05,1)),Se=Math.round(ae-xe/10);ge=i(new Date(Se))+xe/10}return ge}function J(ae,ue,he){return u(ae,ue,he||k.calendar)}function z(ae){return k._categories[Math.round(ae)]}function Y(ae){if(C(ae)){if(void 0===k._categoriesMap&&(k._categoriesMap={}),void 0!==k._categoriesMap[ae])return k._categoriesMap[ae];k._categories.push("number"==typeof ae?String(ae):ae);var ue=k._categories.length-1;return k._categoriesMap[ae]=ue,ue}return c}function q(ae){if(k._categoriesMap)return k._categoriesMap[ae]}function U(ae){var ue=q(ae);return void 0!==ue?ue:M(ae)?+ae:void 0}function Z(ae){return M(ae)?+ae:q(ae)}function X(ae,ue,he){return I.round(he+ue*ae,2)}function se(ae,ue,he){return(ae-he)/ue}var re=function(ae){return M(ae)?X(ae,k._m,k._b):c},ee=function(ae){return se(ae,k._m,k._b)};if(k.rangebreaks){var K="y"===L;re=function(ae){if(!M(ae))return c;var ue=k._rangebreaks.length;if(!ue)return X(ae,k._m,k._b);var he=K;k.range[0]>k.range[1]&&(he=!he);for(var pe=he?-1:1,ge=pe*ae,xe=0,Se=0;Se<ue;Se++){var Te=pe*k._rangebreaks[Se].min,ye=pe*k._rangebreaks[Se].max;if(ge<Te)break;if(!(ge>ye)){xe=ge<(Te+ye)/2?Se:Se+1;break}xe=Se+1}var we=k._B[xe]||0;return isFinite(we)?X(ae,k._m2,we):0},ee=function(ae){var ue=k._rangebreaks.length;if(!ue)return se(ae,k._m,k._b);for(var he=0,pe=0;pe<ue&&!(ae<k._rangebreaks[pe].pmin);pe++)ae>k._rangebreaks[pe].pmax&&(he=pe+1);return se(ae,k._m2,k._B[he])}}k.c2l="log"===k.type?N:s,k.l2c="log"===k.type?m:s,k.l2p=re,k.p2l=ee,k.c2p="log"===k.type?function(ae,ue){return re(N(ae,ue))}:re,k.p2c="log"===k.type?function(ae){return m(ee(ae))}:ee,-1!==["linear","-"].indexOf(k.type)?(k.d2r=k.r2d=k.d2c=k.r2c=k.d2l=k.r2l=y,k.c2d=k.c2r=k.l2d=k.l2r=s,k.d2p=k.r2p=function(ae){return k.l2p(y(ae))},k.p2d=k.p2r=ee,k.cleanPos=s):"log"===k.type?(k.d2r=k.d2l=function(ae,ue){return N(y(ae),ue)},k.r2d=k.r2c=function(ae){return m(y(ae))},k.d2c=k.r2l=y,k.c2d=k.l2r=s,k.c2r=N,k.l2d=m,k.d2p=function(ae,ue){return k.l2p(k.d2r(ae,ue))},k.p2d=function(ae){return m(ee(ae))},k.r2p=function(ae){return k.l2p(y(ae))},k.p2r=ee,k.cleanPos=s):"date"===k.type?(k.d2r=k.r2d=f.identity,k.d2c=k.r2c=k.d2l=k.r2l=B,k.c2d=k.c2r=k.l2d=k.l2r=J,k.d2p=k.r2p=function(ae,ue,he){return k.l2p(B(ae,0,he))},k.p2d=k.p2r=function(ae,ue,he){return J(ee(ae),ue,he)},k.cleanPos=function(ae){return f.cleanDate(ae,c,k.calendar)}):"category"===k.type?(k.d2c=k.d2l=Y,k.r2d=k.c2d=k.l2d=z,k.d2r=k.d2l_noadd=U,k.r2c=function(ae){var ue=Z(ae);return void 0!==ue?ue:k.fraction2r(.5)},k.l2r=k.c2r=s,k.r2l=Z,k.d2p=function(ae){return k.l2p(k.r2c(ae))},k.p2d=function(ae){return z(ee(ae))},k.r2p=k.d2p,k.p2r=ee,k.cleanPos=function(ae){return"string"==typeof ae&&""!==ae?ae:s(ae)}):"multicategory"===k.type&&(k.r2d=k.c2d=k.l2d=z,k.d2r=k.d2l_noadd=U,k.r2c=function(ae){var ue=U(ae);return void 0!==ue?ue:k.fraction2r(.5)},k.r2c_just_indices=q,k.l2r=k.c2r=s,k.r2l=U,k.d2p=function(ae){return k.l2p(k.r2c(ae))},k.p2d=function(ae){return z(ee(ae))},k.r2p=k.d2p,k.p2r=ee,k.cleanPos=function(ae){return Array.isArray(ae)||"string"==typeof ae&&""!==ae?ae:s(ae)},k.setupMultiCategory=function(ae){var ue,he,pe=k._traceIndices,ge=k._matchGroup;if(ge&&0===k._categories.length)for(var xe in ge)if(xe!==R){var Se=P[w.id2name(xe)];pe=pe.concat(Se._traceIndices)}var Te=[[0,{}],[0,{}]],ye=[];for(ue=0;ue<pe.length;ue++){var we=ae[pe[ue]];if(L in we){var ze=we[L],ke=we._length||f.minRowLength(ze);if(a(ze[0])&&a(ze[1]))for(he=0;he<ke;he++){var Ee=ze[0][he],me=ze[1][he];C(Ee)&&C(me)&&(ye.push([Ee,me]),Ee in Te[0][1]||(Te[0][1][Ee]=Te[0][0]++),me in Te[1][1]||(Te[1][1][me]=Te[1][0]++))}}}for(ye.sort(function(de,ce){var Ae=Te[0][1],Ne=Ae[de[0]]-Ae[ce[0]];if(Ne)return Ne;var De=Te[1][1];return De[de[1]]-De[ce[1]]}),ue=0;ue<ye.length;ue++)Y(ye[ue])}),k.fraction2r=function(ae){var ue=k.r2l(k.range[0]),he=k.r2l(k.range[1]);return k.l2r(ue+ae*(he-ue))},k.r2fraction=function(ae){var ue=k.r2l(k.range[0]),he=k.r2l(k.range[1]);return(k.r2l(ae)-ue)/(he-ue)},k.cleanRange=function(ae,ue){ue||(ue={}),ae||(ae="range");var he,pe,ge=f.nestedProperty(k,ae).get();if(pe=(pe="date"===k.type?f.dfltRange(k.calendar):"y"===L?x.DFLTRANGEY:"realaxis"===k._name?[0,1]:ue.dfltRange||x.DFLTRANGEX).slice(),"tozero"!==k.rangemode&&"nonnegative"!==k.rangemode||(pe[0]=0),ge&&2===ge.length)for("date"!==k.type||k.autorange||(ge[0]=f.cleanDate(ge[0],c,k.calendar),ge[1]=f.cleanDate(ge[1],c,k.calendar)),he=0;he<2;he++)if("date"===k.type){if(!f.isDateTime(ge[he],k.calendar)){k[ae]=pe;break}if(k.r2l(ge[0])===k.r2l(ge[1])){var xe=f.constrain(k.r2l(ge[0]),f.MIN_MS+1e3,f.MAX_MS-1e3);ge[0]=k.l2r(xe-1e3),ge[1]=k.l2r(xe+1e3);break}}else{if(!M(ge[he])){if(!M(ge[1-he])){k[ae]=pe;break}ge[he]=ge[1-he]*(he?10:.1)}if(ge[he]<-l?ge[he]=-l:ge[he]>l&&(ge[he]=l),ge[0]===ge[1]){var Se=Math.max(1,Math.abs(1e-6*ge[0]));ge[0]-=Se,ge[1]+=Se}}else f.nestedProperty(k,ae).set(pe)},k.setScale=function(ae){var ue=P._size;if(k.overlaying){var he=w.getFromId({_fullLayout:P},k.overlaying);k.domain=he.domain}var pe=ae&&k._r?"_r":"range",ge=k.calendar;k.cleanRange(pe);var xe,Se,Te=k.r2l(k[pe][0],ge),ye=k.r2l(k[pe][1],ge),we="y"===L;if(we?(k._offset=ue.t+(1-k.domain[1])*ue.h,k._length=ue.h*(k.domain[1]-k.domain[0]),k._m=k._length/(Te-ye),k._b=-k._m*ye):(k._offset=ue.l+k.domain[0]*ue.w,k._length=ue.w*(k.domain[1]-k.domain[0]),k._m=k._length/(ye-Te),k._b=-k._m*Te),k._rangebreaks=[],k._lBreaks=0,k._m2=0,k._B=[],k.rangebreaks&&(k._rangebreaks=k.locateBreaks(Math.min(Te,ye),Math.max(Te,ye)),k._rangebreaks.length)){for(xe=0;xe<k._rangebreaks.length;xe++)Se=k._rangebreaks[xe],k._lBreaks+=Math.abs(Se.max-Se.min);var ze=we;Te>ye&&(ze=!ze),ze&&k._rangebreaks.reverse();var ke=ze?-1:1;for(k._m2=ke*k._length/(Math.abs(ye-Te)-k._lBreaks),k._B.push(-k._m2*(we?ye:Te)),xe=0;xe<k._rangebreaks.length;xe++)k._B.push(k._B[k._B.length-1]-ke*k._m2*((Se=k._rangebreaks[xe]).max-Se.min));for(xe=0;xe<k._rangebreaks.length;xe++)(Se=k._rangebreaks[xe]).pmin=re(Se.min),Se.pmax=re(Se.max)}if(!isFinite(k._m)||!isFinite(k._b)||k._length<0)throw P._replotting=!1,new Error("Something went wrong with axis scaling")},k.maskBreaks=function(ae){var ue,he,pe,ge,xe,Se=k.rangebreaks||[];Se._cachedPatterns||(Se._cachedPatterns=Se.map(function(Ee){return Ee.enabled&&Ee.bounds?f.simpleMap(Ee.bounds,Ee.pattern?y:k.d2c):null})),Se._cachedValues||(Se._cachedValues=Se.map(function(Ee){return Ee.enabled&&Ee.values?f.simpleMap(Ee.values,k.d2c).sort(f.sorterAsc):null}));for(var Te=0;Te<Se.length;Te++){var ye=Se[Te];if(ye.enabled)if(ye.bounds){switch(he=(ue=Se._cachedPatterns[Te])[0],pe=ue[1],ye.pattern){case A:ge=(xe=new Date(ae)).getUTCDay(),he>pe&&(pe+=7,ge<he&&(ge+=7));break;case b:ge=(xe=new Date(ae)).getUTCHours()+(xe.getUTCMinutes()/60+xe.getUTCSeconds()/3600+xe.getUTCMilliseconds()/36e5),he>pe&&(pe+=24,ge<he&&(ge+=24));break;case"":ge=ae}if(ge>=he&&ge<pe)return c}else for(var ze=Se._cachedValues[Te],ke=0;ke<ze.length;ke++)if(pe=(he=ze[ke])+ye.dvalue,ae>=he&&ae<pe)return c}return ae},k.locateBreaks=function(ae,ue){var he,pe,ge,xe,Se=[];if(!k.rangebreaks)return Se;var Te=k.rangebreaks.slice().sort(function(De,Ue){return De.pattern===A&&Ue.pattern===b?-1:Ue.pattern===A&&De.pattern===b?1:0}),ye=function(De,Ue){if((De=f.constrain(De,ae,ue))!==(Ue=f.constrain(Ue,ae,ue))){for(var Ye=!0,_e=0;_e<Se.length;_e++){var Pe=Se[_e];De<Pe.max&&Ue>=Pe.min&&(De<Pe.min&&(Pe.min=De),Ue>Pe.max&&(Pe.max=Ue),Ye=!1)}Ye&&Se.push({min:De,max:Ue})}};for(he=0;he<Te.length;he++){var we=Te[he];if(we.enabled)if(we.bounds){var ze=ae,ke=ue;we.pattern&&(ze=Math.floor(ze)),ge=(pe=f.simpleMap(we.bounds,we.pattern?y:k.r2l))[0],xe=pe[1];var Ee,me,de=new Date(ze);switch(we.pattern){case A:me=v,Ee=(xe-ge+(xe<ge?7:0))*p,ze+=ge*p-(de.getUTCDay()*p+de.getUTCHours()*T+de.getUTCMinutes()*_+de.getUTCSeconds()*g+de.getUTCMilliseconds());break;case b:me=p,Ee=(xe-ge+(xe<ge?24:0))*T,ze+=ge*T-(de.getUTCHours()*T+de.getUTCMinutes()*_+de.getUTCSeconds()*g+de.getUTCMilliseconds());break;default:ze=Math.min(pe[0],pe[1]),Ee=me=(ke=Math.max(pe[0],pe[1]))-ze}for(var ce=ze;ce<ke;ce+=me)ye(ce,ce+Ee)}else for(var Ae=f.simpleMap(we.values,k.d2c),Ne=0;Ne<Ae.length;Ne++)ye(ge=Ae[Ne],xe=ge+we.dvalue)}return Se.sort(function(De,Ue){return De.min-Ue.min}),Se},k.makeCalcdata=function(ae,ue,he){var pe,ge,xe,Se,Te=k.type,ye="date"===Te&&ae[ue+"calendar"];if(ue in ae){if(pe=ae[ue],Se=ae._length||f.minRowLength(pe),f.isTypedArray(pe)&&("linear"===Te||"log"===Te)){if(Se===pe.length)return pe;if(pe.subarray)return pe.subarray(0,Se)}if("multicategory"===Te)return function(ke,Ee){for(var me=new Array(Ee),de=0;de<Ee;de++)me[de]=q([(ke[0]||[])[de],(ke[1]||[])[de]]);return me}(pe,Se);for(ge=new Array(Se),xe=0;xe<Se;xe++)ge[xe]=k.d2c(pe[xe],0,ye,he)}else{var we=ue+"0"in ae?k.d2c(ae[ue+"0"],0,ye):0,ze=ae["d"+ue]?Number(ae["d"+ue]):1;for(pe=ae[{x:"y",y:"x"}[ue]],Se=ae._length||pe.length,ge=new Array(Se),xe=0;xe<Se;xe++)ge[xe]=we+xe*ze}if(k.rangebreaks)for(xe=0;xe<Se;xe++)ge[xe]=k.maskBreaks(ge[xe]);return ge},k.isValidRange=function(ae){return Array.isArray(ae)&&2===ae.length&&M(k.r2l(ae[0]))&&M(k.r2l(ae[1]))},k.isPtWithinRange=function(ae,ue){var he=k.c2l(ae[L],null,ue),pe=k.r2l(k.range[0]),ge=k.r2l(k.range[1]);return pe<ge?pe<=he&&he<=ge:ge<=he&&he<=pe},k._emptyCategories=function(){k._categories=[],k._categoriesMap={}},k.clearCalc=function(){var ae=k._matchGroup;if(ae){var ue=null,he=null;for(var pe in ae){var ge=P[w.id2name(pe)];if(ge._categories){ue=ge._categories,he=ge._categoriesMap;break}}ue&&he?(k._categories=ue,k._categoriesMap=he):k._emptyCategories()}else k._emptyCategories();if(k._initialCategories)for(var xe=0;xe<k._initialCategories.length;xe++)Y(k._initialCategories[xe])},k.sortByInitialCategories=function(){var ae=[];if(k._emptyCategories(),k._initialCategories)for(var ue=0;ue<k._initialCategories.length;ue++)Y(k._initialCategories[ue]);ae=ae.concat(k._traceIndices);var he=k._matchGroup;for(var pe in he)if(R!==pe){var ge=P[w.id2name(pe)];ge._categories=k._categories,ge._categoriesMap=k._categoriesMap,ae=ae.concat(ge._traceIndices)}return ae};var ne=P._d3locale;"date"===k.type&&(k._dateFormat=ne?ne.timeFormat:E,k._extraFormat=P._extraFormat),k._separators=P.separators,k._numFormat=ne?ne.numberFormat:S,delete k._minDtick,delete k._forceTick0}},59652:function(oe){"use strict";oe.exports=function(j){var r=["showexponent","showtickprefix","showticksuffix"].filter(function(I){return void 0!==j[I]});if(r.every(function(I){return j[I]===j[r[0]]})||1===r.length)return j[r[0]]}},96115:function(oe,j,r){"use strict";var I=r(71828),E=r(7901).contrast,f=r(13838),S=r(59652),M=r(85501);function y(u,i){function s(a,o){return I.coerce(u,i,f.tickformatstops,a,o)}s("enabled")&&(s("dtickrange"),s("value"))}oe.exports=function(u,i,s,a,o){o||(o={});var l=s("labelalias");I.isPlainObject(l)||delete i.labelalias;var c=S(u);if(s("showticklabels")){var h=o.font||{},v=i.color,p=-1!==(i.ticklabelposition||"").indexOf("inside")?E(o.bgColor):v&&v!==f.color.dflt?v:h.color;if(I.coerceFont(s,"tickfont",{family:h.family,size:h.size,color:p}),o.noTicklabelstep||"multicategory"===a||"log"===a||s("ticklabelstep"),o.noAng||s("tickangle"),"category"!==a){var T=s("tickformat");M(u,i,{name:"tickformatstops",inclusionAttr:"enabled",handleItemDefaults:y}),i.tickformatstops.length||delete i.tickformatstops,o.noExp||T||"date"===a||(s("showexponent",c),s("exponentformat"),s("minexponent"),s("separatethousands"))}}}},38701:function(oe,j,r){"use strict";var I=r(71828),E=r(13838);oe.exports=function(f,S,M,y){var u=y.isMinor,i=u?f.minor||{}:f,s=u?S.minor:S,a=u?E.minor:E,o=u?"minor.":"",l=I.coerce2(i,s,a,"ticklen",u?.6*(S.ticklen||5):void 0),c=I.coerce2(i,s,a,"tickwidth",u?S.tickwidth||1:void 0),h=I.coerce2(i,s,a,"tickcolor",(u?S.tickcolor:void 0)||s.color);M(o+"ticks",!u&&y.outerTicks||l||c||h?"outside":"")||(delete s.ticklen,delete s.tickwidth,delete s.tickcolor)}},26218:function(oe,j,r){"use strict";var I=r(66287),E=r(71828).isArrayOrTypedArray;oe.exports=function(f,S,M,y,u){u||(u={});var i=u.isMinor,s=i?f.minor||{}:f,a=i?S.minor:S,o=i?"minor.":"";function l(_){var g=s[_];return void 0!==g?g:(a._template||{})[_]}var c=l("tick0"),h=l("dtick"),v=l("tickvals"),p=M(o+"tickmode",E(v)?"array":h?"linear":"auto");if("auto"===p||"sync"===p)M(o+"nticks");else if("linear"===p){var T=a.dtick=I.dtick(h,y);a.tick0=I.tick0(c,y,S.calendar,T)}else"multicategory"!==y&&(void 0===M(o+"tickvals")?a.tickmode="auto":i||M("ticktext"))}},66847:function(oe,j,r){"use strict";var I=r(39898),E=r(73972),f=r(71828),S=r(91424),M=r(89298);oe.exports=function(y,u,i,s){var a=y._fullLayout;if(0!==u.length){var o,l,c,h;s&&(o=s());var v=I.ease(i.easing);return y._transitionData._interruptCallbacks.push(function(){return window.cancelAnimationFrame(h),h=null,function(){for(var _={},g=0;g<u.length;g++){var w=u[g],b=w.plotinfo.yaxis;w.xr0&&(_[w.plotinfo.xaxis._name+".range"]=w.xr0.slice()),w.yr0&&(_[b._name+".range"]=w.yr0.slice())}return E.call("relayout",y,_).then(function(){for(var A=0;A<u.length;A++)p(u[A].plotinfo)})}()}),l=Date.now(),h=window.requestAnimationFrame(function _(){c=Date.now();for(var g=Math.min(1,(c-l)/i.duration),w=v(g),x=0;x<u.length;x++)T(u[x],w);c-l>i.duration?(function(){for(var b={},A=0;A<u.length;A++){var m=u[A],k=m.plotinfo.yaxis;m.xr1&&(b[m.plotinfo.xaxis._name+".range"]=m.xr1.slice()),m.yr1&&(b[k._name+".range"]=m.yr1.slice())}o&&o(),E.call("relayout",y,b).then(function(){for(var P=0;P<u.length;P++)p(u[P].plotinfo)})}(),h=window.cancelAnimationFrame(_)):h=window.requestAnimationFrame(_)}),Promise.resolve()}function p(_){var g=_.xaxis,w=_.yaxis;a._defs.select("#"+_.clipId+"> rect").call(S.setTranslate,0,0).call(S.setScale,1,1),_.plot.call(S.setTranslate,g._offset,w._offset).call(S.setScale,1,1);var x=_.plot.selectAll(".scatterlayer .trace");x.selectAll(".point").call(S.setPointGroupScale,1,1),x.selectAll(".textpoint").call(S.setTextPointsScale,1,1),x.call(S.hideOutsideRangePoints,_)}function T(_,g){var w=_.plotinfo,x=w.xaxis,b=w.yaxis,A=x._length,m=b._length,C=!!_.xr1,k=!!_.yr1,P=[];if(C){var R=f.simpleMap(_.xr0,x.r2l),L=f.simpleMap(_.xr1,x.r2l),N=R[1]-R[0],B=L[1]-L[0];P[0]=(R[0]*(1-g)+g*L[0]-R[0])/(R[1]-R[0])*A,P[2]=A*(1-g+g*B/N),x.range[0]=x.l2r(R[0]*(1-g)+g*L[0]),x.range[1]=x.l2r(R[1]*(1-g)+g*L[1])}else P[0]=0,P[2]=A;if(k){var J=f.simpleMap(_.yr0,b.r2l),z=f.simpleMap(_.yr1,b.r2l),Y=J[1]-J[0],q=z[1]-z[0];P[1]=(J[1]*(1-g)+g*z[1]-J[1])/(J[0]-J[1])*m,P[3]=m*(1-g+g*q/Y),b.range[0]=x.l2r(J[0]*(1-g)+g*z[0]),b.range[1]=b.l2r(J[1]*(1-g)+g*z[1])}else P[1]=0,P[3]=m;M.drawOne(y,x,{skipTitle:!0}),M.drawOne(y,b,{skipTitle:!0}),M.redrawComponents(y,[x._id,b._id]);var U=C?A/P[2]:1,Z=k?m/P[3]:1,K=x._offset-(C?P[0]/P[2]*A:0),ne=b._offset-(k?P[1]/P[3]*m:0);w.clipRect.call(S.setTranslate,C?P[0]:0,k?P[1]:0).call(S.setScale,1/U,1/Z),w.plot.call(S.setTranslate,K,ne).call(S.setScale,U,Z),S.setPointGroupScale(w.zoomScalePts,1/U,1/Z),S.setTextPointsScale(w.zoomScaleTxt,1/U,1/Z)}M.redrawComponents(y)}},951:function(oe,j,r){"use strict";var I=r(73972).traceIs,E=r(4322);function f(M){return{v:"x",h:"y"}[M.orientation||"v"]}function S(M,y){var u=f(M),i=I(M,"box-violin"),s=I(M._fullInput||{},"candlestick");return i&&!s&&y===u&&void 0===M[u]&&void 0===M[u+"0"]}oe.exports=function(M,y,u,i){u("autotypenumbers",i.autotypenumbersDflt),"-"===u("type",(i.splomStash||{}).type)&&(function(s,a){if("-"===s.type){var o,l=s._id,c=l.charAt(0);-1!==l.indexOf("scene")&&(l=c);var h=function(b,A,m){for(var C=0;C<b.length;C++){var k=b[C];if("splom"===k.type&&k._length>0&&(k["_"+m+"axes"]||{})[A]||(k[m+"axis"]||m)===A&&(S(k,m)||(k[m]||[]).length||k[m+"0"]))return k}}(a,l,c);if(h)if("histogram"!==h.type||c!=={v:"y",h:"x"}[h.orientation||"v"]){var v=c+"calendar",p=h[v],T={noMultiCategory:!I(h,"cartesian")||I(h,"noMultiCategory")};if("box"===h.type&&h._hasPreCompStats&&c==={h:"x",v:"y"}[h.orientation||"v"]&&(T.noMultiCategory=!0),T.autotypenumbers=s.autotypenumbers,S(h,c)){var _=f(h),g=[];for(o=0;o<a.length;o++){var w=a[o];I(w,"box-violin")&&(w[c+"axis"]||c)===l&&(g.push(void 0!==w[_]?w[_][0]:void 0!==w.name?w.name:"text"),w[v]!==p&&(p=void 0))}s.type=E(g,p,T)}else if("splom"===h.type){var x=h.dimensions[h._axesDim[l]];x.visible&&(s.type=E(x.values,p,T))}else s.type=E(h[c]||[h[c+"0"]],p,T)}else s.type="linear"}}(y,i.data),"-"===y.type?y.type="linear":M.type=y.type)}},31137:function(oe,j,r){"use strict";var I=r(73972),E=r(71828);function f(u,i,s){var a,o,l,c=!1;if("data"===i.type)a=u._fullData[null!==i.traces?i.traces[0]:0];else{if("layout"!==i.type)return!1;a=u._fullLayout}return o=E.nestedProperty(a,i.prop).get(),(l=s[i.type]=s[i.type]||{}).hasOwnProperty(i.prop)&&l[i.prop]!==o&&(c=!0),l[i.prop]=o,{changed:c,value:o}}function S(u,i){var s=[],a=i[0],o={};if("string"==typeof a)o[a]=i[1];else{if(!E.isPlainObject(a))return s;o=a}return y(o,function(l,c,h){s.push({type:"layout",prop:l,value:h})},"",0),s}function M(u,i){var s,a,o,l,c=[];if(o=i[1],s=i[2],l={},"string"==typeof(a=i[0]))l[a]=o;else{if(!E.isPlainObject(a))return c;l=a,void 0===s&&(s=o)}return void 0===s&&(s=null),y(l,function(h,v,p){var T,_;if(Array.isArray(p)){_=p.slice();var g=Math.min(_.length,u.data.length);s&&(g=Math.min(g,s.length)),T=[];for(var w=0;w<g;w++)T[w]=s?s[w]:w}else _=p,T=s?s.slice():null;if(null===T)Array.isArray(_)&&(_=_[0]);else if(Array.isArray(T)){if(!Array.isArray(_)){var x=_;_=[];for(var b=0;b<T.length;b++)_[b]=x}_.length=Math.min(T.length,_.length)}c.push({type:"data",prop:h,traces:T,value:_})},"",0),c}function y(u,i,s,a){Object.keys(u).forEach(function(o){var l=u[o];if("_"!==o[0]){var c=s+(a>0?".":"")+o;E.isPlainObject(l)?y(l,i,c,a+1):i(c,o,l)}})}j.manageCommandObserver=function(u,i,s,a){var o={},l=!0;i&&i._commandObserver&&(o=i._commandObserver),o.cache||(o.cache={}),o.lookupTable={};var c=j.hasSimpleAPICommandBindings(u,s,o.lookupTable);if(i&&i._commandObserver){if(c)return o;if(i._commandObserver.remove)return i._commandObserver.remove(),i._commandObserver=null,o}if(c){f(u,c,o.cache),o.check=function(){if(l){var p=f(u,c,o.cache);return p.changed&&a&&void 0!==o.lookupTable[p.value]&&(o.disable(),Promise.resolve(a({value:p.value,type:c.type,prop:c.prop,traces:c.traces,index:o.lookupTable[p.value]})).then(o.enable,o.enable)),p.changed}};for(var h=["plotly_relayout","plotly_redraw","plotly_restyle","plotly_update","plotly_animatingframe","plotly_afterplot"],v=0;v<h.length;v++)u._internalOn(h[v],o.check);o.remove=function(){for(var p=0;p<h.length;p++)u._removeInternalListener(h[p],o.check)}}else E.log("Unable to automatically bind plot updates to API command"),o.lookupTable={},o.remove=function(){};return o.disable=function(){l=!1},o.enable=function(){l=!0},i&&(i._commandObserver=o),o},j.hasSimpleAPICommandBindings=function(u,i,s){var a,o,l=i.length;for(a=0;a<l;a++){var c,h=i[a],v=h.method,p=h.args;if(Array.isArray(p)||(p=[]),!v)return!1;var T=j.computeAPICommandBindings(u,v,p);if(1!==T.length)return!1;if(o){if((c=T[0]).type!==o.type||c.prop!==o.prop)return!1;if(Array.isArray(o.traces)){if(!Array.isArray(c.traces))return!1;c.traces.sort();for(var _=0;_<o.traces.length;_++)if(o.traces[_]!==c.traces[_])return!1}else if(c.prop!==o.prop)return!1}else o=T[0],Array.isArray(o.traces)&&o.traces.sort();var g=(c=T[0]).value;if(Array.isArray(g)){if(1!==g.length)return!1;g=g[0]}s&&(s[g]=a)}return o},j.executeAPICommand=function(u,i,s){if("skip"===i)return Promise.resolve();var a=I.apiMethodRegistry[i],o=[u];Array.isArray(s)||(s=[]);for(var l=0;l<s.length;l++)o.push(s[l]);return a.apply(null,o).catch(function(c){return E.warn("API call to Plotly."+i+" rejected.",c),Promise.reject(c)})},j.computeAPICommandBindings=function(u,i,s){var a,l;switch(Array.isArray(s)||(s=[]),i){case"restyle":a=M(u,s);break;case"relayout":a=S(0,s);break;case"update":a=M(u,[s[0],s[2]]).concat(S(0,[s[1]]));break;case"animate":l=s,a=Array.isArray(l[0])&&1===l[0].length&&-1!==["string","number"].indexOf(typeof l[0][0])?[{type:"layout",prop:"_currentFrame",value:l[0][0].toString()}]:[];break;default:a=[]}return a}},27670:function(oe,j,r){"use strict";var I=r(1426).extendFlat;j.Y=function(E,f){f=f||{};var S={valType:"info_array",editType:(E=E||{}).editType,items:[{valType:"number",min:0,max:1,editType:E.editType},{valType:"number",min:0,max:1,editType:E.editType}],dflt:[0,1]},M={x:I({},S,{}),y:I({},S,{}),editType:E.editType};return E.noGridCell||(M.row={valType:"integer",min:0,dflt:0,editType:E.editType},M.column={valType:"integer",min:0,dflt:0,editType:E.editType}),M},j.c=function(E,f,S,M){var y=M&&M.x||[0,1],u=M&&M.y||[0,1],i=f.grid;if(i){var s=S("domain.column");void 0!==s&&(s<i.columns?y=i._domains.x[s]:delete E.domain.column);var a=S("domain.row");void 0!==a&&(a<i.rows?u=i._domains.y[a]:delete E.domain.row)}var o=S("domain.x",y),l=S("domain.y",u);o[0]<o[1]||(E.domain.x=y.slice()),l[0]<l[1]||(E.domain.y=u.slice())}},41940:function(oe){"use strict";oe.exports=function(j){var r=j.editType,I=j.colorEditType;void 0===I&&(I=r);var E={family:{valType:"string",noBlank:!0,strict:!0,editType:r},size:{valType:"number",min:1,editType:r},color:{valType:"color",editType:I},editType:r};return j.autoSize&&(E.size.dflt="auto"),j.autoColor&&(E.color.dflt="auto"),j.arrayOk&&(E.family.arrayOk=!0,E.size.arrayOk=!0,E.color.arrayOk=!0),E}},31391:function(oe){"use strict";oe.exports={_isLinkedToArray:"frames_entry",group:{valType:"string"},name:{valType:"string"},traces:{valType:"any"},baseframe:{valType:"string"},data:{valType:"any"},layout:{valType:"any"}}},78776:function(oe,j){"use strict";j.projNames={airy:"airy",aitoff:"aitoff","albers usa":"albersUsa",albers:"albers",august:"august","azimuthal equal area":"azimuthalEqualArea","azimuthal equidistant":"azimuthalEquidistant",baker:"baker",bertin1953:"bertin1953",boggs:"boggs",bonne:"bonne",bottomley:"bottomley",bromley:"bromley",collignon:"collignon","conic conformal":"conicConformal","conic equal area":"conicEqualArea","conic equidistant":"conicEquidistant",craig:"craig",craster:"craster","cylindrical equal area":"cylindricalEqualArea","cylindrical stereographic":"cylindricalStereographic",eckert1:"eckert1",eckert2:"eckert2",eckert3:"eckert3",eckert4:"eckert4",eckert5:"eckert5",eckert6:"eckert6",eisenlohr:"eisenlohr","equal earth":"equalEarth",equirectangular:"equirectangular",fahey:"fahey","foucaut sinusoidal":"foucautSinusoidal",foucaut:"foucaut",ginzburg4:"ginzburg4",ginzburg5:"ginzburg5",ginzburg6:"ginzburg6",ginzburg8:"ginzburg8",ginzburg9:"ginzburg9",gnomonic:"gnomonic","gringorten quincuncial":"gringortenQuincuncial",gringorten:"gringorten",guyou:"guyou",hammer:"hammer",hill:"hill",homolosine:"homolosine",hufnagel:"hufnagel",hyperelliptical:"hyperelliptical",kavrayskiy7:"kavrayskiy7",lagrange:"lagrange",larrivee:"larrivee",laskowski:"laskowski",loximuthal:"loximuthal",mercator:"mercator",miller:"miller",mollweide:"mollweide","mt flat polar parabolic":"mtFlatPolarParabolic","mt flat polar quartic":"mtFlatPolarQuartic","mt flat polar sinusoidal":"mtFlatPolarSinusoidal","natural earth":"naturalEarth","natural earth1":"naturalEarth1","natural earth2":"naturalEarth2","nell hammer":"nellHammer",nicolosi:"nicolosi",orthographic:"orthographic",patterson:"patterson","peirce quincuncial":"peirceQuincuncial",polyconic:"polyconic","rectangular polyconic":"rectangularPolyconic",robinson:"robinson",satellite:"satellite","sinu mollweide":"sinuMollweide",sinusoidal:"sinusoidal",stereographic:"stereographic",times:"times","transverse mercator":"transverseMercator","van der grinten":"vanDerGrinten","van der grinten2":"vanDerGrinten2","van der grinten3":"vanDerGrinten3","van der grinten4":"vanDerGrinten4",wagner4:"wagner4",wagner6:"wagner6",wiechel:"wiechel","winkel tripel":"winkel3",winkel3:"winkel3"},j.axesNames=["lonaxis","lataxis"],j.lonaxisSpan={orthographic:180,"azimuthal equal area":360,"azimuthal equidistant":360,"conic conformal":180,gnomonic:160,stereographic:180,"transverse mercator":180,"*":360},j.lataxisSpan={"conic conformal":150,stereographic:179.5,"*":180},j.scopeDefaults={world:{lonaxisRange:[-180,180],lataxisRange:[-90,90],projType:"equirectangular",projRotate:[0,0,0]},usa:{lonaxisRange:[-180,-50],lataxisRange:[15,80],projType:"albers usa"},europe:{lonaxisRange:[-30,60],lataxisRange:[30,85],projType:"conic conformal",projRotate:[15,0,0],projParallels:[0,60]},asia:{lonaxisRange:[22,160],lataxisRange:[-15,55],projType:"mercator",projRotate:[0,0,0]},africa:{lonaxisRange:[-30,60],lataxisRange:[-40,40],projType:"mercator",projRotate:[0,0,0]},"north america":{lonaxisRange:[-180,-45],lataxisRange:[5,85],projType:"conic conformal",projRotate:[-100,0,0],projParallels:[29.5,45.5]},"south america":{lonaxisRange:[-100,-30],lataxisRange:[-60,15],projType:"mercator",projRotate:[0,0,0]}},j.clipPad=.001,j.precision=.1,j.landColor="#F0DC82",j.waterColor="#3399FF",j.locationmodeToLayer={"ISO-3":"countries","USA-states":"subunits","country names":"countries"},j.sphereSVG={type:"Sphere"},j.fillLayers={ocean:1,land:1,lakes:1},j.lineLayers={subunits:1,countries:1,coastlines:1,rivers:1,frame:1},j.layers=["bg","ocean","land","lakes","subunits","countries","coastlines","rivers","lataxis","lonaxis","frame","backplot","frontplot"],j.layersForChoropleth=["bg","ocean","land","subunits","countries","coastlines","lataxis","lonaxis","frame","backplot","rivers","lakes","frontplot"],j.layerNameToAdjective={ocean:"ocean",land:"land",lakes:"lake",subunits:"subunit",countries:"country",coastlines:"coastline",rivers:"river",frame:"frame"}},69082:function(oe,j,r){"use strict";var I=r(39898),E=r(27362),f=E.geoPath,S=E.geoDistance,M=r(65704),y=r(73972),u=r(71828),i=u.strTranslate,s=r(7901),a=r(91424),o=r(30211),l=r(74875),c=r(89298),h=r(71739).getAutoRange,v=r(28569),p=r(47322).prepSelect,T=r(47322).clearOutline,_=r(47322).selectOnClick,g=r(74455),w=r(78776),x=r(41327),b=r(90973),A=r(96892).zL;function m(P){this.id=P.id,this.graphDiv=P.graphDiv,this.container=P.container,this.topojsonURL=P.topojsonURL,this.isStatic=P.staticPlot,this.topojsonName=null,this.topojson=null,this.projection=null,this.scope=null,this.viewInitial=null,this.fitScale=null,this.bounds=null,this.midPt=null,this.hasChoropleth=!1,this.traceHash={},this.layers={},this.basePaths={},this.dataPaths={},this.dataPoints={},this.clipDef=null,this.clipRect=null,this.bgRect=null,this.makeFramework()}var C=m.prototype;function k(P,R){var L=w.clipPad,N=P[0]+L,B=P[1]-L,J=R[0]+L,z=R[1]-L;N>0&&B<0&&(B+=360);var Y=(B-N)/4;return{type:"Polygon",coordinates:[[[N,J],[N,z],[N+Y,z],[N+2*Y,z],[N+3*Y,z],[B,z],[B,J],[B-Y,J],[B-2*Y,J],[B-3*Y,J],[N,J]]]}}oe.exports=function(P){return new m(P)},C.plot=function(P,R,L,N){var B=this;if(N)return B.update(P,R,!0);B._geoCalcData=P,B._fullLayout=R;var J=R[this.id],z=[],Y=!1;for(var q in w.layerNameToAdjective)if("frame"!==q&&J["show"+q]){Y=!0;break}for(var U=!1,Z=0;Z<P.length;Z++){var X=P[0][0].trace;X._geo=B,X.locationmode&&(Y=!0);var se=X.marker;if(se){var ee=se.angleref;(se.angle||"north"===ee||"previous"===ee)&&(U=!0)}}if(this._hasMarkerAngles=U,Y){var K=b.getTopojsonName(J);null!==B.topojson&&K===B.topojsonName||(B.topojsonName=K,void 0===PlotlyGeoAssets.topojson[B.topojsonName]&&z.push(B.fetchTopojson()))}z=z.concat(x.fetchTraceGeoData(P)),L.push(new Promise(function(ne,ae){Promise.all(z).then(function(){B.topojson=PlotlyGeoAssets.topojson[B.topojsonName],B.update(P,R),ne()}).catch(ae)}))},C.fetchTopojson=function(){var P=this,R=b.getTopojsonPath(P.topojsonURL,P.topojsonName);return new Promise(function(L,N){I.json(R,function(B,J){if(B)return N(404===B.status?new Error(["plotly.js could not find topojson file at",R+".","Make sure the *topojsonURL* plot config option","is set properly."].join(" ")):new Error(["unexpected error while fetching topojson file at",R].join(" ")));PlotlyGeoAssets.topojson[P.topojsonName]=J,L()})})},C.update=function(P,R,L){var N=R[this.id];this.hasChoropleth=!1;for(var B=0;B<P.length;B++){var J=P[B],z=J[0].trace;"choropleth"===z.type&&(this.hasChoropleth=!0),!0===z.visible&&z._length>0&&z._module.calcGeoJSON(J,R)}if(!L){if(this.updateProjection(P,R))return;this.viewInitial&&this.scope===N.scope||this.saveViewInitial(N)}this.scope=N.scope,this.updateBaseLayers(R,N),this.updateDims(R,N),this.updateFx(R,N),l.generalUpdatePerTraceModule(this.graphDiv,this,P,N);var Y=this.layers.frontplot.select(".scatterlayer");this.dataPoints.point=Y.selectAll(".point"),this.dataPoints.text=Y.selectAll("text"),this.dataPaths.line=Y.selectAll(".js-line");var q=this.layers.backplot.select(".choroplethlayer");this.dataPaths.choropleth=q.selectAll("path"),this._render()},C.updateProjection=function(P,R){var L=this.graphDiv,N=R[this.id],B=R._size,J=N.domain,z=N.projection,Y=N.lonaxis,q=N.lataxis,U=Y._ax,Z=q._ax,X=this.projection=function(de){var ce=de.projection,Ae=ce.type,Ne=w.projNames[Ae];Ne="geo"+u.titleCase(Ne);for(var De=(E[Ne]||M[Ne])(),Ue=de._isSatellite?180*Math.acos(1/ce.distance)/Math.PI:de._isClipped?w.lonaxisSpan[Ae]/2:null,Ye=["center","rotate","parallels","clipExtent"],_e=function(Be){return Be?De:[]},Pe=0;Pe<Ye.length;Pe++){var Ie=Ye[Pe];"function"!=typeof De[Ie]&&(De[Ie]=_e)}return De.isLonLatOverEdges=function(Be){if(null===De(Be))return!0;if(Ue){var We=De.rotate();return S(Be,[-We[0],-We[1]])>Ue*Math.PI/180}return!1},De.getPath=function(){return f().projection(De)},De.getBounds=function(Be){return De.getPath().bounds(Be)},De.precision(w.precision),de._isSatellite&&De.tilt(ce.tilt).distance(ce.distance),Ue&&De.clipAngle(Ue-w.clipPad),De}(N),se=[[B.l+B.w*J.x[0],B.t+B.h*(1-J.y[1])],[B.l+B.w*J.x[1],B.t+B.h*(1-J.y[0])]],re=N.center||{},ee=z.rotation||{},K=Y.range||[],ne=q.range||[];if(N.fitbounds){U._length=se[1][0]-se[0][0],Z._length=se[1][1]-se[0][1],U.range=h(L,U),Z.range=h(L,Z);var ae=(U.range[0]+U.range[1])/2,ue=(Z.range[0]+Z.range[1])/2;if(N._isScoped)re={lon:ae,lat:ue};else if(N._isClipped){re={lon:ae,lat:ue},ee={lon:ae,lat:ue,roll:ee.roll};var he=z.type,pe=w.lonaxisSpan[he]/2||180,ge=w.lataxisSpan[he]/2||90;K=[ae-pe,ae+pe],ne=[ue-ge,ue+ge]}else re={lon:ae,lat:ue},ee={lon:ae,lat:ee.lat,roll:ee.roll}}X.center([re.lon-ee.lon,re.lat-ee.lat]).rotate([-ee.lon,-ee.lat,ee.roll]).parallels(z.parallels);var xe=k(K,ne);X.fitExtent(se,xe);var Se=this.bounds=X.getBounds(xe),Te=this.fitScale=X.scale(),ye=X.translate();if(N.fitbounds){var we=X.getBounds(k(U.range,Z.range)),ze=Math.min((Se[1][0]-Se[0][0])/(we[1][0]-we[0][0]),(Se[1][1]-Se[0][1])/(we[1][1]-we[0][1]));isFinite(ze)?X.scale(ze*Te):u.warn("Something went wrong during"+this.id+"fitbounds computations.")}else X.scale(z.scale*Te);var ke=this.midPt=[(Se[0][0]+Se[1][0])/2,(Se[0][1]+Se[1][1])/2];if(X.translate([ye[0]+(ke[0]-ye[0]),ye[1]+(ke[1]-ye[1])]).clipExtent(Se),N._isAlbersUsa){var Ee=X([re.lon,re.lat]),me=X.translate();X.translate([me[0]-(Ee[0]-me[0]),me[1]-(Ee[1]-me[1])])}},C.updateBaseLayers=function(P,R){var L=this,N=L.topojson,B=L.layers,J=L.basePaths;function z(X){return"lonaxis"===X||"lataxis"===X}function Y(X){return!!w.lineLayers[X]}function q(X){return!!w.fillLayers[X]}var U=(this.hasChoropleth?w.layersForChoropleth:w.layers).filter(function(X){return Y(X)||q(X)?R["show"+X]:!z(X)||R[X].showgrid}),Z=L.framework.selectAll(".layer").data(U,String);Z.exit().each(function(X){delete B[X],delete J[X],I.select(this).remove()}),Z.enter().append("g").attr("class",function(X){return"layer "+X}).each(function(X){var se=B[X]=I.select(this);"bg"===X?L.bgRect=se.append("rect").style("pointer-events","all"):z(X)?J[X]=se.append("path").style("fill","none"):"backplot"===X?se.append("g").classed("choroplethlayer",!0):"frontplot"===X?se.append("g").classed("scatterlayer",!0):Y(X)?J[X]=se.append("path").style("fill","none").style("stroke-miterlimit",2):q(X)&&(J[X]=se.append("path").style("stroke","none"))}),Z.order(),Z.each(function(X){var se=J[X],re=w.layerNameToAdjective[X];"frame"===X?se.datum(w.sphereSVG):Y(X)||q(X)?se.datum(A(N,N.objects[X])):z(X)&&se.datum(function(ee,K,ne){var ae,ue,he,pe=K[ee],ge=w.scopeDefaults[K.scope];"lonaxis"===ee?(ae=ge.lonaxisRange,ue=ge.lataxisRange,he=function(me,de){return[me,de]}):"lataxis"===ee&&(ae=ge.lataxisRange,ue=ge.lonaxisRange,he=function(me,de){return[de,me]});var xe={type:"linear",range:[ae[0],ae[1]-1e-6],tick0:pe.tick0,dtick:pe.dtick};c.setConvert(xe,ne);var Se=c.calcTicks(xe);K.isScoped||"lonaxis"!==ee||Se.pop();for(var Te=Se.length,ye=new Array(Te),we=0;we<Te;we++)for(var ze=Se[we].x,ke=ye[we]=[],Ee=ue[0];Ee<ue[1]+2.5;Ee+=2.5)ke.push(he(ze,Ee));return{type:"MultiLineString",coordinates:ye}}(X,R,P)).call(s.stroke,R[X].gridcolor).call(a.dashLine,R[X].griddash,R[X].gridwidth),Y(X)?se.call(s.stroke,R[re+"color"]).call(a.dashLine,"",R[re+"width"]):q(X)&&se.call(s.fill,R[re+"color"])})},C.updateDims=function(P,R){var L=this.bounds,N=(R.framewidth||0)/2,B=L[0][0]-N,J=L[0][1]-N,z=L[1][0]-B+N,Y=L[1][1]-J+N;a.setRect(this.clipRect,B,J,z,Y),this.bgRect.call(a.setRect,B,J,z,Y).call(s.fill,R.bgcolor),this.xaxis._offset=B,this.xaxis._length=z,this.yaxis._offset=J,this.yaxis._length=Y},C.updateFx=function(P,R){var L=this,N=L.graphDiv,B=L.bgRect,J=P.dragmode,z=P.clickmode;if(!L.isStatic){var Y={element:L.bgRect.node(),gd:N,plotinfo:{id:L.id,xaxis:L.xaxis,yaxis:L.yaxis,fillRangeItems:function(U,Z){Z.isRect?(U.range={})[L.id]=[q([Z.xmin,Z.ymin]),q([Z.xmax,Z.ymax])]:(U.lassoPoints={})[L.id]=Z.map(q)}},xaxes:[L.xaxis],yaxes:[L.yaxis],subplot:L.id,clickFn:function(U){2===U&&T(N)}};"pan"===J?(B.node().onmousedown=null,B.call(g(L,R)),B.on("dblclick.zoom",function(){var U=L.viewInitial,Z={};for(var X in U)Z[L.id+"."+X]=U[X];y.call("_guiRelayout",N,Z),N.emit("plotly_doubleclick",null)}),N._context._scrollZoom.geo||B.on("wheel.zoom",null)):"select"!==J&&"lasso"!==J||(B.on(".zoom",null),Y.prepFn=function(U,Z,X){p(U,Z,X,Y,J)},v.init(Y)),B.on("mousemove",function(){var U=L.projection.invert(u.getPositionFromD3Event());if(!U)return v.unhover(N,I.event);L.xaxis.p2c=function(){return U[0]},L.yaxis.p2c=function(){return U[1]},o.hover(N,I.event,L.id)}),B.on("mouseout",function(){N._dragging||v.unhover(N,I.event)}),B.on("click",function(){"select"!==J&&"lasso"!==J&&(z.indexOf("select")>-1&&_(I.event,N,[L.xaxis],[L.yaxis],L.id,Y),z.indexOf("event")>-1&&o.click(N,I.event))})}function q(U){return L.projection.invert([U[0]+L.xaxis._offset,U[1]+L.yaxis._offset])}},C.makeFramework=function(){var P=this,R=P.graphDiv,L=R._fullLayout,N="clip"+L._uid+P.id;P.clipDef=L._clips.append("clipPath").attr("id",N),P.clipRect=P.clipDef.append("rect"),P.framework=I.select(P.container).append("g").attr("class","geo "+P.id).call(a.setClipUrl,N,R),P.project=function(B){var J=P.projection(B);return J?[J[0]-P.xaxis._offset,J[1]-P.yaxis._offset]:[null,null]},P.xaxis={_id:"x",c2p:function(B){return P.project(B)[0]}},P.yaxis={_id:"y",c2p:function(B){return P.project(B)[1]}},P.mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},c.setConvert(P.mockAxis,L)},C.saveViewInitial=function(P){var L=P.center||{},N=P.projection,B=N.rotation||{};this.viewInitial={fitbounds:P.fitbounds,"projection.scale":N.scale},u.extendFlat(this.viewInitial,P._isScoped?{"center.lon":L.lon,"center.lat":L.lat}:P._isClipped?{"projection.rotation.lon":B.lon,"projection.rotation.lat":B.lat}:{"center.lon":L.lon,"center.lat":L.lat,"projection.rotation.lon":B.lon})},C.render=function(P){this._hasMarkerAngles&&P?this.plot(this._geoCalcData,this._fullLayout,[],!0):this._render()},C._render=function(){var P,R=this.projection,L=R.getPath();function N(J){var z=R(J.lonlat);return z?i(z[0],z[1]):null}function B(J){return R.isLonLatOverEdges(J.lonlat)?"none":null}for(P in this.basePaths)this.basePaths[P].attr("d",L);for(P in this.dataPaths)this.dataPaths[P].attr("d",function(J){return L(J.geojson)});for(P in this.dataPoints)this.dataPoints[P].attr("display",B).attr("transform",N)}},44622:function(oe,j,r){"use strict";var I=r(27659).AU,E=r(71828).counterRegex,f=r(69082),S="geo",M=E(S),y={};y[S]={valType:"subplotid",dflt:S,editType:"calc"},oe.exports={attr:S,name:S,idRoot:S,idRegex:M,attrRegex:M,attributes:y,layoutAttributes:r(77519),supplyLayoutDefaults:r(82161),plot:function(u){for(var i=u._fullLayout,s=u.calcdata,a=i._subplots[S],o=0;o<a.length;o++){var l=a[o],c=I(s,S,l),h=i[l]._subplot;h||(h=f({id:l,graphDiv:u,container:i._geolayer.node(),topojsonURL:u._context.topojsonURL,staticPlot:u._context.staticPlot}),i[l]._subplot=h),h.plot(c,i,u._promises)}},updateFx:function(u){for(var i=u._fullLayout,s=i._subplots[S],a=0;a<s.length;a++){var o=i[s[a]];o._subplot.updateFx(i,o)}},clean:function(u,i,s,a){for(var o=a._subplots[S]||[],l=0;l<o.length;l++){var c=o[l],h=a[c]._subplot;!i[c]&&h&&(h.framework.remove(),h.clipDef.remove())}}}},77519:function(oe,j,r){"use strict";var I=r(22399),E=r(27670).Y,f=r(79952).P,S=r(78776),M=r(30962).overrideAll,y=r(78607),u={range:{valType:"info_array",items:[{valType:"number"},{valType:"number"}]},showgrid:{valType:"boolean",dflt:!1},tick0:{valType:"number",dflt:0},dtick:{valType:"number"},gridcolor:{valType:"color",dflt:I.lightLine},gridwidth:{valType:"number",min:0,dflt:1},griddash:f};(oe.exports=M({domain:E({name:"geo"},{}),fitbounds:{valType:"enumerated",values:[!1,"locations","geojson"],dflt:!1,editType:"plot"},resolution:{valType:"enumerated",values:[110,50],dflt:110,coerceNumber:!0},scope:{valType:"enumerated",values:y(S.scopeDefaults),dflt:"world"},projection:{type:{valType:"enumerated",values:y(S.projNames)},rotation:{lon:{valType:"number"},lat:{valType:"number"},roll:{valType:"number"}},tilt:{valType:"number",dflt:0},distance:{valType:"number",min:1.001,dflt:2},parallels:{valType:"info_array",items:[{valType:"number"},{valType:"number"}]},scale:{valType:"number",min:0,dflt:1}},center:{lon:{valType:"number"},lat:{valType:"number"}},visible:{valType:"boolean",dflt:!0},showcoastlines:{valType:"boolean"},coastlinecolor:{valType:"color",dflt:I.defaultLine},coastlinewidth:{valType:"number",min:0,dflt:1},showland:{valType:"boolean",dflt:!1},landcolor:{valType:"color",dflt:S.landColor},showocean:{valType:"boolean",dflt:!1},oceancolor:{valType:"color",dflt:S.waterColor},showlakes:{valType:"boolean",dflt:!1},lakecolor:{valType:"color",dflt:S.waterColor},showrivers:{valType:"boolean",dflt:!1},rivercolor:{valType:"color",dflt:S.waterColor},riverwidth:{valType:"number",min:0,dflt:1},showcountries:{valType:"boolean"},countrycolor:{valType:"color",dflt:I.defaultLine},countrywidth:{valType:"number",min:0,dflt:1},showsubunits:{valType:"boolean"},subunitcolor:{valType:"color",dflt:I.defaultLine},subunitwidth:{valType:"number",min:0,dflt:1},showframe:{valType:"boolean"},framecolor:{valType:"color",dflt:I.defaultLine},framewidth:{valType:"number",min:0,dflt:1},bgcolor:{valType:"color",dflt:I.background},lonaxis:u,lataxis:u},"plot","from-root")).uirevision={valType:"any",editType:"none"}},82161:function(oe,j,r){"use strict";var I=r(71828),E=r(49119),f=r(27659).NG,S=r(78776),M=r(77519),y=S.axesNames;function u(i,s,a,o){var l=f(o.fullData,"geo",o.id).map(function(ee){return ee._expandedIndex}),c=a("resolution"),h=a("scope"),v=S.scopeDefaults[h],p=a("projection.type",v.projType),T=s._isAlbersUsa="albers usa"===p;T&&(h=s.scope="usa");var _=s._isScoped="world"!==h,g=s._isSatellite="satellite"===p,w=s._isConic=-1!==p.indexOf("conic")||"albers"===p,x=s._isClipped=!!S.lonaxisSpan[p];if(!1===i.visible){var b=I.extendDeep({},s._template);b.showcoastlines=!1,b.showcountries=!1,b.showframe=!1,b.showlakes=!1,b.showland=!1,b.showocean=!1,b.showrivers=!1,b.showsubunits=!1,b.lonaxis&&(b.lonaxis.showgrid=!1),b.lataxis&&(b.lataxis.showgrid=!1),s._template=b}for(var A=a("visible"),m=0;m<y.length;m++){var C,k=y[m],P=[30,10][m];if(_)C=v[k+"Range"];else{var R=S[k+"Span"],L=(R[p]||R["*"])/2,N=a("projection.rotation."+k.substr(0,3),v.projRotate[m]);C=[N-L,N+L]}var B=a(k+".range",C);a(k+".tick0"),a(k+".dtick",P),a(k+".showgrid",!!A&&void 0)&&(a(k+".gridcolor"),a(k+".gridwidth"),a(k+".griddash")),s[k]._ax={type:"linear",_id:k.slice(0,3),_traceIndices:l,setScale:I.identity,c2l:I.identity,r2l:I.identity,autorange:!0,range:B.slice(),_m:1,_input:{}}}var J=s.lonaxis.range,z=s.lataxis.range,Y=J[0],q=J[1];Y>0&&q<0&&(q+=360);var U,Z,X,se=(Y+q)/2;if(!T){var re=_?v.projRotate:[se,0,0];U=a("projection.rotation.lon",re[0]),a("projection.rotation.lat",re[1]),a("projection.rotation.roll",re[2]),a("showcoastlines",!_&&A)&&(a("coastlinecolor"),a("coastlinewidth")),a("showocean",!!A&&void 0)&&a("oceancolor")}T?(Z=-96.6,X=38.7):(Z=_?se:U,X=(z[0]+z[1])/2),a("center.lon",Z),a("center.lat",X),g&&(a("projection.tilt"),a("projection.distance")),w&&a("projection.parallels",v.projParallels||[0,60]),a("projection.scale"),a("showland",!!A&&void 0)&&a("landcolor"),a("showlakes",!!A&&void 0)&&a("lakecolor"),a("showrivers",!!A&&void 0)&&(a("rivercolor"),a("riverwidth")),a("showcountries",_&&"usa"!==h&&A)&&(a("countrycolor"),a("countrywidth")),("usa"===h||"north america"===h&&50===c)&&(a("showsubunits",A),a("subunitcolor"),a("subunitwidth")),_||a("showframe",A)&&(a("framecolor"),a("framewidth")),a("bgcolor"),a("fitbounds")&&(delete s.projection.scale,_?(delete s.center.lon,delete s.center.lat):x?(delete s.center.lon,delete s.center.lat,delete s.projection.rotation.lon,delete s.projection.rotation.lat,delete s.lonaxis.range,delete s.lataxis.range):(delete s.center.lon,delete s.center.lat,delete s.projection.rotation.lon))}oe.exports=function(i,s,a){E(i,s,a,{type:"geo",attributes:M,handleDefaults:u,fullData:a,partition:"y"})}},74455:function(oe,j,r){"use strict";var I=r(39898),E=r(71828),f=r(73972),S=Math.PI/180,M=180/Math.PI,y={cursor:"pointer"},u={cursor:"auto"};function i(_,g){return I.behavior.zoom().translate(g.translate()).scale(g.scale())}function s(_,g,w){var x=_.id,b=_.graphDiv,A=b.layout,m=A[x],C=b._fullLayout,k=C[x],P={},R={};function L(N,B){P[x+"."+N]=E.nestedProperty(m,N).get(),f.call("_storeDirectGUIEdit",A,C._preGUI,P);var J=E.nestedProperty(k,N);J.get()!==B&&(J.set(B),E.nestedProperty(m,N).set(B),R[x+"."+N]=B)}w(L),L("projection.scale",g.scale()/_.fitScale),L("fitbounds",!1),b.emit("plotly_relayout",R)}function a(_,g){var w=i(0,g);function x(b){var A=g.invert(_.midPt);b("center.lon",A[0]),b("center.lat",A[1])}return w.on("zoomstart",function(){I.select(this).style(y)}).on("zoom",function(){g.scale(I.event.scale).translate(I.event.translate),_.render(!0);var b=g.invert(_.midPt);_.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":g.scale()/_.fitScale,"geo.center.lon":b[0],"geo.center.lat":b[1]})}).on("zoomend",function(){I.select(this).style(u),s(_,g,x)}),w}function o(_,g){var w,x,b,A,m,C,k,P,R,L=i(0,g);function N(J){return g.invert(J)}function B(J){var z=g.rotate(),Y=g.invert(_.midPt);J("projection.rotation.lon",-z[0]),J("center.lon",Y[0]),J("center.lat",Y[1])}return L.on("zoomstart",function(){I.select(this).style(y),w=I.mouse(this),x=g.rotate(),b=g.translate(),A=x,m=N(w)}).on("zoom",function(){if(C=I.mouse(this),function(Y){var q=N(Y);if(!q)return!0;var U=g(q);return Math.abs(U[0]-Y[0])>2||Math.abs(U[1]-Y[1])>2}(w))return L.scale(g.scale()),void L.translate(g.translate());g.scale(I.event.scale),g.translate([b[0],I.event.translate[1]]),m?N(C)&&(P=N(C),g.rotate(k=[A[0]+(P[0]-m[0]),x[1],x[2]]),A=k):m=N(w=C),R=!0,_.render(!0);var J=g.rotate(),z=g.invert(_.midPt);_.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":g.scale()/_.fitScale,"geo.center.lon":z[0],"geo.center.lat":z[1],"geo.projection.rotation.lon":-J[0]})}).on("zoomend",function(){I.select(this).style(u),R&&s(_,g,B)}),L}function l(_,g){var w,x={r:g.rotate(),k:g.scale()},b=i(0,g),A=function(P){for(var R=0,L=arguments.length,N=[];++R<L;)N.push(arguments[R]);var B=I.dispatch.apply(null,N);return B.of=function(J,z){return function(Y){var q;try{q=Y.sourceEvent=I.event,Y.target=P,I.event=Y,B[Y.type].apply(J,z)}finally{I.event=q}}},B}(b,"zoomstart","zoom","zoomend"),m=0,C=b.on;function k(P){var R=g.rotate();P("projection.rotation.lon",-R[0]),P("projection.rotation.lat",-R[1])}return b.on("zoomstart",function(){I.select(this).style(y);var P,R,L,N,B,J,z,Y,q,U,Z,X=I.mouse(this),se=g.rotate(),re=se,ee=g.translate(),K=(R=.5*(P=se)[0]*S,L=.5*P[1]*S,N=.5*P[2]*S,B=Math.sin(R),J=Math.cos(R),z=Math.sin(L),Y=Math.cos(L),q=Math.sin(N),[J*Y*(U=Math.cos(N))+B*z*q,B*Y*U-J*z*q,J*z*U+B*Y*q,J*Y*q-B*z*U]);w=c(g,X),C.call(b,"zoom",function(){var ne,ae,ue,he,pe,ge,xe,Se,Te,ye,de,we=I.mouse(this);if(g.scale(x.k=I.event.scale),w){if(c(g,we)){g.rotate(se).translate(ee);var ze=c(g,we),ke=function(de,ce){if(de&&ce){var Ae=[(Ye=de)[1]*(_e=ce)[2]-Ye[2]*_e[1],Ye[2]*_e[0]-Ye[0]*_e[2],Ye[0]*_e[1]-Ye[1]*_e[0]],Ne=Math.sqrt(T(Ae,Ae)),De=.5*Math.acos(Math.max(-1,Math.min(1,T(de,ce)))),Ue=Math.sin(De)/Ne;return Ne&&[Math.cos(De),Ae[2]*Ue,-Ae[1]*Ue,Ae[0]*Ue]}var Ye,_e}(w,ze),Ee=(de=[(ue=(ne=K)[0])*(xe=(ae=ke)[0])-(he=ne[1])*(Se=ae[1])-(pe=ne[2])*(Te=ae[2])-(ge=ne[3])*(ye=ae[3]),ue*Se+he*xe+pe*ye-ge*Te,ue*Te-he*ye+pe*xe+ge*Se,ue*ye+he*Te-pe*Se+ge*xe],[Math.atan2(2*(de[0]*de[1]+de[2]*de[3]),1-2*(de[1]*de[1]+de[2]*de[2]))*M,Math.asin(Math.max(-1,Math.min(1,2*(de[0]*de[2]-de[3]*de[1]))))*M,Math.atan2(2*(de[0]*de[3]+de[1]*de[2]),1-2*(de[2]*de[2]+de[3]*de[3]))*M]),me=x.r=function(de,ce,Ae){var Ne=p(ce,2,de[0]);Ne=p(Ne,1,de[1]),Ne=p(Ne,0,de[2]-Ae[2]);var De,Ue,Ye=ce[0],_e=ce[1],Pe=ce[2],Ie=Ne[0],Be=Ne[1],We=Ne[2],Ge=Math.atan2(_e,Ye)*M,Ke=Math.sqrt(Ye*Ye+_e*_e);Math.abs(Be)>Ke?(Ue=(Be>0?90:-90)-Ge,De=0):(Ue=Math.asin(Be/Ke)*M-Ge,De=Math.sqrt(Ke*Ke-Be*Be));var tt=180-Ue-2*Ge,st=(Math.atan2(We,Ie)-Math.atan2(Pe,De))*M,gt=(Math.atan2(We,Ie)-Math.atan2(Pe,-De))*M;return h(Ae[0],Ae[1],Ue,st)<=h(Ae[0],Ae[1],tt,gt)?[Ue,st,Ae[2]]:[tt,gt,Ae[2]]}(Ee,w,re);isFinite(me[0])&&isFinite(me[1])&&isFinite(me[2])||(me=re),g.rotate(me),re=me}}else w=c(g,X=we);A.of(this,arguments)({type:"zoom"})}),Z=A.of(this,arguments),m++||Z({type:"zoomstart"})}).on("zoomend",function(){var P;I.select(this).style(u),C.call(b,"zoom",null),P=A.of(this,arguments),--m||P({type:"zoomend"}),s(_,g,k)}).on("zoom.redraw",function(){_.render(!0);var P=g.rotate();_.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":g.scale()/_.fitScale,"geo.projection.rotation.lon":-P[0],"geo.projection.rotation.lat":-P[1]})}),I.rebind(b,A,"on")}function c(_,g){var x,b,A,m,w=_.invert(g);return w&&isFinite(w[0])&&isFinite(w[1])&&(b=(x=w)[0]*S,A=x[1]*S,[(m=Math.cos(A))*Math.cos(b),m*Math.sin(b),Math.sin(A)])}function h(_,g,w,x){var b=v(w-_),A=v(x-g);return Math.sqrt(b*b+A*A)}function v(_){return(_%360+540)%360-180}function p(_,g,w){var x=w*S,b=_.slice(),A=0===g?1:0,m=2===g?1:2,C=Math.cos(x),k=Math.sin(x);return b[A]=_[A]*C-_[m]*k,b[m]=_[m]*C+_[A]*k,b}function T(_,g){for(var w=0,x=0,b=_.length;x<b;++x)w+=_[x]*g[x];return w}oe.exports=function(_,g){return(g._isScoped?a:g._isClipped?l:o)(_,_.projection)}},27659:function(oe,j,r){"use strict";var I=r(73972),E=r(85555).SUBPLOT_PATTERN;j.AU=function(f,S,M){var y=I.subplotsRegistry[S];if(!y)return[];for(var u=y.attr,i=[],s=0;s<f.length;s++){var a=f[s];a[0].trace[u]===M&&i.push(a)}return i},j.a0=function(f,S){var M,y=[],u=[];if(!(M="string"==typeof S?I.getModule(S).plot:"function"==typeof S?S:S.plot))return[y,f];for(var i=0;i<f.length;i++){var s=f[i],a=s[0].trace;!0===a.visible&&0!==a._length&&(a._module&&a._module.plot===M?y.push(s):u.push(s))}return[y,u]},j.NG=function(f,S,M){if(!I.subplotsRegistry[S])return[];var y,u,i,s=I.subplotsRegistry[S].attr,a=[];if("gl2d"===S){var o=M.match(E);u="x"+o[1],i="y"+o[2]}for(var l=0;l<f.length;l++)y=f[l],"gl2d"===S&&I.traceIs(y,"gl2d")?y[s[0]]===u&&y[s[1]]===i&&a.push(y):y[s]===M&&a.push(y);return a}},75071:function(oe,j,r){"use strict";var I=r(16825),E=r(1195),f=r(48956),S=r(85555),M=r(38520);function y(u,i){this.element=u,this.plot=i,this.mouseListener=null,this.wheelListener=null,this.lastInputTime=Date.now(),this.lastPos=[0,0],this.boxEnabled=!1,this.boxInited=!1,this.boxStart=[0,0],this.boxEnd=[0,0],this.dragStart=[0,0]}oe.exports=function(u){var i=u.mouseContainer,s=u.glplot,a=new y(i,s);function o(){u.xaxis.autorange=!1,u.yaxis.autorange=!1}function l(c,h,v){var p,T,_=u.calcDataBox(),g=s.viewBox,w=a.lastPos[0],x=a.lastPos[1],b=S.MINDRAG*s.pixelRatio,A=S.MINZOOM*s.pixelRatio;function m(N,B,J){var z=Math.min(B,J),Y=Math.max(B,J);z!==Y?(_[N]=z,_[N+2]=Y,a.dataBox=_,u.setRanges(_)):(u.selectBox.selectBox=[0,0,1,1],u.glplot.setDirty())}switch(h*=s.pixelRatio,v=g[3]-g[1]-(v*=s.pixelRatio),u.fullLayout.dragmode){case"zoom":if(c){var C=h/(g[2]-g[0])*(_[2]-_[0])+_[0],k=v/(g[3]-g[1])*(_[3]-_[1])+_[1];a.boxInited||(a.boxStart[0]=C,a.boxStart[1]=k,a.dragStart[0]=h,a.dragStart[1]=v),a.boxEnd[0]=C,a.boxEnd[1]=k,a.boxInited=!0,a.boxEnabled||a.boxStart[0]===a.boxEnd[0]&&a.boxStart[1]===a.boxEnd[1]||(a.boxEnabled=!0);var P=Math.abs(a.dragStart[0]-h)<A,R=Math.abs(a.dragStart[1]-v)<A;if(!function(){for(var N=u.graphDiv._fullLayout._axisConstraintGroups,B=u.xaxis._id,J=u.yaxis._id,z=0;z<N.length;z++)if(-1!==N[z][B]){if(-1!==N[z][J])return!0;break}return!1}()||P&&R)P&&(a.boxEnd[0]=a.boxStart[0]),R&&(a.boxEnd[1]=a.boxStart[1]);else{p=a.boxEnd[0]-a.boxStart[0],T=a.boxEnd[1]-a.boxStart[1];var L=(_[3]-_[1])/(_[2]-_[0]);Math.abs(p*L)>Math.abs(T)?(a.boxEnd[1]=a.boxStart[1]+Math.abs(p)*L*(T>=0?1:-1),a.boxEnd[1]<_[1]?(a.boxEnd[1]=_[1],a.boxEnd[0]=a.boxStart[0]+(_[1]-a.boxStart[1])/Math.abs(L)):a.boxEnd[1]>_[3]&&(a.boxEnd[1]=_[3],a.boxEnd[0]=a.boxStart[0]+(_[3]-a.boxStart[1])/Math.abs(L))):(a.boxEnd[0]=a.boxStart[0]+Math.abs(T)/L*(p>=0?1:-1),a.boxEnd[0]<_[0]?(a.boxEnd[0]=_[0],a.boxEnd[1]=a.boxStart[1]+(_[0]-a.boxStart[0])*Math.abs(L)):a.boxEnd[0]>_[2]&&(a.boxEnd[0]=_[2],a.boxEnd[1]=a.boxStart[1]+(_[2]-a.boxStart[0])*Math.abs(L)))}}else a.boxEnabled?(T=a.boxStart[1]!==a.boxEnd[1],(p=a.boxStart[0]!==a.boxEnd[0])||T?(p&&(m(0,a.boxStart[0],a.boxEnd[0]),u.xaxis.autorange=!1),T&&(m(1,a.boxStart[1],a.boxEnd[1]),u.yaxis.autorange=!1),u.relayoutCallback()):u.glplot.setDirty(),a.boxEnabled=!1,a.boxInited=!1):a.boxInited&&(a.boxInited=!1);break;case"pan":a.boxEnabled=!1,a.boxInited=!1,c?(a.panning||(a.dragStart[0]=h,a.dragStart[1]=v),Math.abs(a.dragStart[0]-h)<b&&(h=a.dragStart[0]),Math.abs(a.dragStart[1]-v)<b&&(v=a.dragStart[1]),T=(x-v)*(_[3]-_[1])/(s.viewBox[3]-s.viewBox[1]),_[0]+=p=(w-h)*(_[2]-_[0])/(s.viewBox[2]-s.viewBox[0]),_[2]+=p,_[1]+=T,_[3]+=T,u.setRanges(_),a.panning=!0,a.lastInputTime=Date.now(),o(),u.cameraChanged(),u.handleAnnotations()):a.panning&&(a.panning=!1,u.relayoutCallback())}a.lastPos[0]=h,a.lastPos[1]=v}return a.mouseListener=I(i,l),i.addEventListener("touchstart",function(c){var h=f(c.changedTouches[0],i);l(0,h[0],h[1]),l(1,h[0],h[1]),c.preventDefault()},!!M&&{passive:!1}),i.addEventListener("touchmove",function(c){c.preventDefault();var h=f(c.changedTouches[0],i);l(1,h[0],h[1]),c.preventDefault()},!!M&&{passive:!1}),i.addEventListener("touchend",function(c){l(0,a.lastPos[0],a.lastPos[1]),c.preventDefault()},!!M&&{passive:!1}),a.wheelListener=E(i,function(c,h){if(!u.scrollZoom)return!1;var v=u.calcDataBox(),p=s.viewBox,T=a.lastPos[0],_=a.lastPos[1],g=Math.exp(5*h/(p[3]-p[1])),w=T/(p[2]-p[0])*(v[2]-v[0])+v[0],x=_/(p[3]-p[1])*(v[3]-v[1])+v[1];return v[0]=(v[0]-w)*g+w,v[2]=(v[2]-w)*g+w,v[1]=(v[1]-x)*g+x,v[3]=(v[3]-x)*g+x,u.setRanges(v),a.lastInputTime=Date.now(),o(),u.cameraChanged(),u.handleAnnotations(),u.relayoutCallback(),!0},!0),a}},82961:function(oe,j,r){"use strict";var I=r(89298),E=r(78614);function f(y){this.scene=y,this.gl=y.gl,this.pixelRatio=y.pixelRatio,this.screenBox=[0,0,1,1],this.viewBox=[0,0,1,1],this.dataBox=[-1,-1,1,1],this.borderLineEnable=[!1,!1,!1,!1],this.borderLineWidth=[1,1,1,1],this.borderLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.ticks=[[],[]],this.tickEnable=[!0,!0,!1,!1],this.tickPad=[15,15,15,15],this.tickAngle=[0,0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickMarkLength=[0,0,0,0],this.tickMarkWidth=[0,0,0,0],this.tickMarkColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labels=["x","y"],this.labelEnable=[!0,!0,!1,!1],this.labelAngle=[0,Math.PI/2,0,3*Math.PI/2],this.labelPad=[15,15,15,15],this.labelSize=[12,12],this.labelFont=["sans-serif","sans-serif"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.title="",this.titleEnable=!0,this.titleCenter=[0,0,0,0],this.titleAngle=0,this.titleColor=[0,0,0,1],this.titleFont="sans-serif",this.titleSize=18,this.gridLineEnable=[!0,!0],this.gridLineColor=[[0,0,0,.5],[0,0,0,.5]],this.gridLineWidth=[1,1],this.zeroLineEnable=[!0,!0],this.zeroLineWidth=[1,1],this.zeroLineColor=[[0,0,0,1],[0,0,0,1]],this.borderColor=[0,0,0,0],this.backgroundColor=[0,0,0,0],this.static=this.scene.staticPlot}var S=f.prototype,M=["xaxis","yaxis"];S.merge=function(y){var u,i,s,a,o,l,c,h,v,p,T;for(this.titleEnable=!1,this.backgroundColor=E(y.plot_bgcolor),p=0;p<2;++p){var _=(u=M[p]).charAt(0);for(s=(i=y[this.scene[u]._name]).title.text===this.scene.fullLayout._dfltTitle[_]?"":i.title.text,T=0;T<=2;T+=2)this.labelEnable[p+T]=!1,this.labels[p+T]=s,this.labelColor[p+T]=E(i.title.font.color),this.labelFont[p+T]=i.title.font.family,this.labelSize[p+T]=i.title.font.size,this.labelPad[p+T]=this.getLabelPad(u,i),this.tickEnable[p+T]=!1,this.tickColor[p+T]=E((i.tickfont||{}).color),this.tickAngle[p+T]="auto"===i.tickangle?0:Math.PI*-i.tickangle/180,this.tickPad[p+T]=this.getTickPad(i),this.tickMarkLength[p+T]=0,this.tickMarkWidth[p+T]=i.tickwidth||0,this.tickMarkColor[p+T]=E(i.tickcolor),this.borderLineEnable[p+T]=!1,this.borderLineColor[p+T]=E(i.linecolor),this.borderLineWidth[p+T]=i.linewidth||0;c=this.hasSharedAxis(i),o=this.hasAxisInDfltPos(u,i)&&!c,l=this.hasAxisInAltrPos(u,i)&&!c,a=i.mirror||!1,h=c?-1!==String(a).indexOf("all"):!!a,v=c?"allticks"===a:-1!==String(a).indexOf("ticks"),o?this.labelEnable[p]=!0:l&&(this.labelEnable[p+2]=!0),o?this.tickEnable[p]=i.showticklabels:l&&(this.tickEnable[p+2]=i.showticklabels),(o||h)&&(this.borderLineEnable[p]=i.showline),(l||h)&&(this.borderLineEnable[p+2]=i.showline),(o||v)&&(this.tickMarkLength[p]=this.getTickMarkLength(i)),(l||v)&&(this.tickMarkLength[p+2]=this.getTickMarkLength(i)),this.gridLineEnable[p]=i.showgrid,this.gridLineColor[p]=E(i.gridcolor),this.gridLineWidth[p]=i.gridwidth,this.zeroLineEnable[p]=i.zeroline,this.zeroLineColor[p]=E(i.zerolinecolor),this.zeroLineWidth[p]=i.zerolinewidth}},S.hasSharedAxis=function(y){var u=this.scene;return 0!==I.findSubplotsWithAxis(u.fullLayout._subplots.gl2d,y).indexOf(u.id)},S.hasAxisInDfltPos=function(y,u){var i=u.side;return"xaxis"===y?"bottom"===i:"yaxis"===y?"left"===i:void 0},S.hasAxisInAltrPos=function(y,u){var i=u.side;return"xaxis"===y?"top"===i:"yaxis"===y?"right"===i:void 0},S.getLabelPad=function(y,u){var i=1.5,s=u.title.font.size,a=u.showticklabels;return"xaxis"===y?"top"===u.side?s*(i+(a?1:0))-10:s*(i+(a?.5:0))-10:"yaxis"===y?"right"===u.side?10+s*(i+(a?1:.5)):10+s*(i+(a?.5:0)):void 0},S.getTickPad=function(y){return"outside"===y.ticks?10+y.ticklen:15},S.getTickMarkLength=function(y){if(!y.ticks)return 0;var u=y.ticklen;return"inside"===y.ticks?-u:u},oe.exports=function(y){return new f(y)}},4796:function(oe,j,r){"use strict";var I=r(30962).overrideAll,E=r(92918),f=r(10820),S=r(77922),M=r(85555),y=r(93612),u=r(528),i=r(27659).NG;j.name="gl2d",j.attr=["xaxis","yaxis"],j.idRoot=["x","y"],j.idRegex=M.idRegex,j.attrRegex=M.attrRegex,j.attributes=r(89502),j.supplyLayoutDefaults=function(s,a,o){a._has("cartesian")||y.supplyLayoutDefaults(s,a,o)},j.layoutAttrOverrides=I(y.layoutAttributes,"plot","from-root"),j.baseLayoutAttrOverrides=I({plot_bgcolor:f.plot_bgcolor,hoverlabel:u.hoverlabel},"plot","nested"),j.plot=function(s){for(var a=s._fullLayout,o=s._fullData,l=a._subplots.gl2d,c=0;c<l.length;c++){var h=l[c],v=a._plots[h],p=i(o,"gl2d",h),T=v._scene2d;void 0===T&&(T=new E({id:h,graphDiv:s,container:s.querySelector(".gl-container"),staticPlot:s._context.staticPlot,plotGlPixelRatio:s._context.plotGlPixelRatio},a),v._scene2d=T),T.plot(p,s.calcdata,a,s.layout)}},j.clean=function(s,a,o,l){for(var c=l._subplots.gl2d||[],h=0;h<c.length;h++){var v=c[h],p=l._plots[v];p._scene2d&&0===i(s,"gl2d",v).length&&(p._scene2d.destroy(),delete l._plots[v])}y.clean.apply(this,arguments)},j.drawFramework=function(s){s._context.staticPlot||y.drawFramework(s)},j.toSVG=function(s){for(var a=s._fullLayout,o=a._subplots.gl2d,l=0;l<o.length;l++){var c=a._plots[o[l]]._scene2d,h=c.toImage("png");a._glimages.append("svg:image").attr({xmlns:S.svg,"xlink:href":h,x:0,y:0,width:"100%",height:"100%",preserveAspectRatio:"none"}),c.destroy()}},j.updateFx=function(s){for(var a=s._fullLayout,o=a._subplots.gl2d,l=0;l<o.length;l++)a._plots[o[l]]._scene2d.updateFx(a.dragmode)}},92918:function(oe,j,r){"use strict";var I,E,f=r(73972),S=r(89298),M=r(30211),y=r(9330).gl_plot2d,u=r(9330).gl_spikes2d,i=r(9330).gl_select_box,s=r(40372),a=r(82961),o=r(75071),l=r(58617),c=r(99082),h=c.enforce,v=c.clean,p=r(71739).doAutoRange,T=r(64505),_=T.drawMode,g=T.selectMode,w=["xaxis","yaxis"],x=r(85555).SUBPLOT_PATTERN;function b(m,C){this.container=m.container,this.graphDiv=m.graphDiv,this.pixelRatio=m.plotGlPixelRatio||window.devicePixelRatio,this.id=m.id,this.staticPlot=!!m.staticPlot,this.scrollZoom=this.graphDiv._context._scrollZoom.cartesian,this.fullData=null,this.updateRefs(C),this.makeFramework(),this.stopped||(this.glplotOptions=a(this),this.glplotOptions.merge(C),this.glplot=y(this.glplotOptions),this.camera=o(this),this.traces={},this.spikes=u(this.glplot),this.selectBox=i(this.glplot,{innerFill:!1,outerFill:!0}),this.lastButtonState=0,this.pickResult=null,this.isMouseOver=!0,this.stopped=!1,this.redraw=this.draw.bind(this),this.redraw())}oe.exports=b;var A=b.prototype;A.makeFramework=function(){if(this.staticPlot){if(!(E||(I=document.createElement("canvas"),E=s({canvas:I,preserveDrawingBuffer:!1,premultipliedAlpha:!0,antialias:!0}))))throw new Error("Error creating static canvas/context for image server");this.canvas=I,this.gl=E}else{var m=this.container.querySelector(".gl-canvas-focus"),C=s({canvas:m,preserveDrawingBuffer:!0,premultipliedAlpha:!0});if(!C)return l(this),void(this.stopped=!0);this.canvas=m,this.gl=C}var k=this.canvas;k.style.width="100%",k.style.height="100%",k.style.position="absolute",k.style.top="0px",k.style.left="0px",k.style["pointer-events"]="none",this.updateSize(k);var P=this.svgContainer=document.createElementNS("http://www.w3.org/2000/svg","svg");P.style.position="absolute",P.style.top=P.style.left="0px",P.style.width=P.style.height="100%",P.style["z-index"]=20,P.style["pointer-events"]="none";var R=this.mouseContainer=document.createElement("div");R.style.position="absolute",R.style["pointer-events"]="auto",this.pickCanvas=this.container.querySelector(".gl-canvas-pick");var L=this.container;L.appendChild(P),L.appendChild(R);var N=this;R.addEventListener("mouseout",function(){N.isMouseOver=!1,N.unhover()}),R.addEventListener("mouseover",function(){N.isMouseOver=!0})},A.toImage=function(m){m||(m="png"),this.stopped=!0,this.staticPlot&&this.container.appendChild(I),this.updateSize(this.canvas);var C=this.glplot.gl,k=C.drawingBufferWidth,P=C.drawingBufferHeight;C.clearColor(1,1,1,0),C.clear(C.COLOR_BUFFER_BIT|C.DEPTH_BUFFER_BIT),this.glplot.setDirty(),this.glplot.draw(),C.bindFramebuffer(C.FRAMEBUFFER,null);var R=new Uint8Array(k*P*4);C.readPixels(0,0,k,P,C.RGBA,C.UNSIGNED_BYTE,R);for(var L=0,N=P-1;L<N;++L,--N)for(var B=0;B<k;++B)for(var J=0;J<4;++J){var z=R[4*(k*L+B)+J];R[4*(k*L+B)+J]=R[4*(k*N+B)+J],R[4*(k*N+B)+J]=z}var Y=document.createElement("canvas");Y.width=k,Y.height=P;var q,U=Y.getContext("2d",{willReadFrequently:!0}),Z=U.createImageData(k,P);switch(Z.data.set(R),U.putImageData(Z,0,0),m){case"jpeg":q=Y.toDataURL("image/jpeg");break;case"webp":q=Y.toDataURL("image/webp");break;default:q=Y.toDataURL("image/png")}return this.staticPlot&&this.container.removeChild(I),q},A.updateSize=function(m){m||(m=this.canvas);var C=this.pixelRatio,k=this.fullLayout,R=k.height,L=0|Math.ceil(C*k.width),N=0|Math.ceil(C*R);return m.width===L&&m.height===N||(m.width=L,m.height=N),m},A.computeTickMarks=function(){this.xaxis.setScale(),this.yaxis.setScale();for(var m=[S.calcTicks(this.xaxis),S.calcTicks(this.yaxis)],C=0;C<2;++C)for(var k=0;k<m[C].length;++k)m[C][k].text=m[C][k].text+"";return m},A.updateRefs=function(m){this.fullLayout=m;var C=this.id.match(x),P="yaxis"+C[2];this.xaxis=this.fullLayout["xaxis"+C[1]],this.yaxis=this.fullLayout[P]},A.relayoutCallback=function(){var m=this.graphDiv,C=this.xaxis,k=this.yaxis,P=m.layout,R={},L=R[C._name+".range"]=C.range.slice(),N=R[k._name+".range"]=k.range.slice();R[C._name+".autorange"]=C.autorange,R[k._name+".autorange"]=k.autorange,f.call("_storeDirectGUIEdit",m.layout,m._fullLayout._preGUI,R);var B=P[C._name];B.range=L,B.autorange=C.autorange;var J=P[k._name];J.range=N,J.autorange=k.autorange,R.lastInputTime=this.camera.lastInputTime,m.emit("plotly_relayout",R)},A.cameraChanged=function(){var m=this.camera;this.glplot.setDataBox(this.calcDataBox());var C=this.computeTickMarks();(function(k,P){for(var R=0;R<2;++R){var L=k[R],N=P[R];if(L.length!==N.length)return!0;for(var B=0;B<L.length;++B)if(L[B].x!==N[B].x)return!0}return!1})(C,this.glplotOptions.ticks)&&(this.glplotOptions.ticks=C,this.glplotOptions.dataBox=m.dataBox,this.glplot.update(this.glplotOptions),this.handleAnnotations())},A.handleAnnotations=function(){for(var m=this.graphDiv,C=this.fullLayout.annotations,k=0;k<C.length;k++){var P=C[k];P.xref===this.xaxis._id&&P.yref===this.yaxis._id&&f.getComponentMethod("annotations","drawOne")(m,k)}},A.destroy=function(){if(this.glplot){var m=this.traces;m&&Object.keys(m).map(function(C){m[C].dispose(),delete m[C]}),this.glplot.dispose(),this.container.removeChild(this.svgContainer),this.container.removeChild(this.mouseContainer),this.fullData=null,this.glplot=null,this.stopped=!0,this.camera.mouseListener.enabled=!1,this.mouseContainer.removeEventListener("wheel",this.camera.wheelListener),this.camera=null}},A.plot=function(m,C,k){var P=this.glplot;this.updateRefs(k),this.xaxis.clearCalc(),this.yaxis.clearCalc(),this.updateTraces(m,C),this.updateFx(k.dragmode);var R=k.width,L=k.height;this.updateSize(this.canvas);var N=this.glplotOptions;N.merge(k),N.screenBox=[0,0,R,L];var B={_fullLayout:{_axisConstraintGroups:k._axisConstraintGroups,xaxis:this.xaxis,yaxis:this.yaxis,_size:k._size}};v(B,this.xaxis),v(B,this.yaxis);var J,z,Y=k._size,q=this.xaxis.domain,U=this.yaxis.domain;for(N.viewBox=[Y.l+q[0]*Y.w,Y.b+U[0]*Y.h,R-Y.r-(1-q[1])*Y.w,L-Y.t-(1-U[1])*Y.h],this.mouseContainer.style.width=Y.w*(q[1]-q[0])+"px",this.mouseContainer.style.height=Y.h*(U[1]-U[0])+"px",this.mouseContainer.height=Y.h*(U[1]-U[0]),this.mouseContainer.style.left=Y.l+q[0]*Y.w+"px",this.mouseContainer.style.top=Y.t+(1-U[1])*Y.h+"px",z=0;z<2;++z)(J=this[w[z]])._length=N.viewBox[z+2]-N.viewBox[z],p(this.graphDiv,J),J.setScale();h(B),N.ticks=this.computeTickMarks(),N.dataBox=this.calcDataBox(),N.merge(k),P.update(N),this.glplot.draw()},A.calcDataBox=function(){var m=this.xaxis,C=this.yaxis,k=m.range,P=C.range,R=m.r2l,L=C.r2l;return[R(k[0]),L(P[0]),R(k[1]),L(P[1])]},A.setRanges=function(m){var C=this.xaxis,k=this.yaxis,P=C.l2r,R=k.l2r;C.range=[P(m[0]),P(m[2])],k.range=[R(m[1]),R(m[3])]},A.updateTraces=function(m,C){var k,P,R,L=Object.keys(this.traces);this.fullData=m;e:for(k=0;k<L.length;k++){var N=L[k],B=this.traces[N];for(P=0;P<m.length;P++)if((R=m[P]).uid===N&&R.type===B.type)continue e;B.dispose(),delete this.traces[N]}for(k=0;k<m.length;k++){var J=C[k],z=this.traces[(R=m[k]).uid];z?z.update(R,J):(z=R._module.plot(this,R,J),this.traces[R.uid]=z)}this.glplot.objects.sort(function(Y,q){return Y._trace.index-q._trace.index})},A.updateFx=function(m){g(m)||_(m)?(this.pickCanvas.style["pointer-events"]="none",this.mouseContainer.style["pointer-events"]="none"):(this.pickCanvas.style["pointer-events"]="auto",this.mouseContainer.style["pointer-events"]="auto"),this.mouseContainer.style.cursor="pan"===m?"move":"zoom"===m?"crosshair":null},A.emitPointAction=function(m,C){for(var k,P=m.trace.uid,R=m.pointIndex,L=0;L<this.fullData.length;L++)this.fullData[L].uid===P&&(k=this.fullData[L]);var N={x:m.traceCoord[0],y:m.traceCoord[1],curveNumber:k.index,pointNumber:R,data:k._input,fullData:this.fullData,xaxis:this.xaxis,yaxis:this.yaxis};M.appendArrayPointValue(N,k,R),this.graphDiv.emit(C,{points:[N]})},A.draw=function(){if(!this.stopped){requestAnimationFrame(this.redraw);var m=this.glplot,C=this.camera,k=C.mouseListener,P=1===this.lastButtonState&&0===k.buttons,R=this.fullLayout;this.lastButtonState=k.buttons,this.cameraChanged();var L,N=k.x*m.pixelRatio,B=this.canvas.height-m.pixelRatio*k.y;if(C.boxEnabled&&"zoom"===R.dragmode){this.selectBox.enabled=!0;for(var J=this.selectBox.selectBox=[Math.min(C.boxStart[0],C.boxEnd[0]),Math.min(C.boxStart[1],C.boxEnd[1]),Math.max(C.boxStart[0],C.boxEnd[0]),Math.max(C.boxStart[1],C.boxEnd[1])],z=0;z<2;z++)C.boxStart[z]===C.boxEnd[z]&&(J[z]=m.dataBox[z],J[z+2]=m.dataBox[z+2]);m.setDirty()}else if(!C.panning&&this.isMouseOver){this.selectBox.enabled=!1;var Y=R._size,Z=(L=m.pick(N/m.pixelRatio+Y.l+this.xaxis.domain[0]*Y.w,B/m.pixelRatio-(Y.t+(1-this.yaxis.domain[1])*Y.h)))&&L.object._trace.handlePick(L);if(Z&&P&&this.emitPointAction(Z,"plotly_click"),L&&"skip"!==L.object._trace.hoverinfo&&R.hovermode&&Z&&(!this.lastPickResult||this.lastPickResult.traceUid!==Z.trace.uid||this.lastPickResult.dataCoord[0]!==Z.dataCoord[0]||this.lastPickResult.dataCoord[1]!==Z.dataCoord[1])){var X=Z;this.lastPickResult={traceUid:Z.trace?Z.trace.uid:null,dataCoord:Z.dataCoord.slice()},this.spikes.update({center:L.dataCoord}),X.screenCoord=[((m.viewBox[2]-m.viewBox[0])*(L.dataCoord[0]-m.dataBox[0])/(m.dataBox[2]-m.dataBox[0])+m.viewBox[0])/m.pixelRatio,(this.canvas.height-(m.viewBox[3]-m.viewBox[1])*(L.dataCoord[1]-m.dataBox[1])/(m.dataBox[3]-m.dataBox[1])-m.viewBox[1])/m.pixelRatio],this.emitPointAction(Z,"plotly_hover");var se=this.fullData[X.trace.index]||{},re=X.pointIndex,ee=M.castHoverinfo(se,R,re);if(ee&&"all"!==ee){var K=ee.split("+");-1===K.indexOf("x")&&(X.traceCoord[0]=void 0),-1===K.indexOf("y")&&(X.traceCoord[1]=void 0),-1===K.indexOf("z")&&(X.traceCoord[2]=void 0),-1===K.indexOf("text")&&(X.textLabel=void 0),-1===K.indexOf("name")&&(X.name=void 0)}M.loneHover({x:X.screenCoord[0],y:X.screenCoord[1],xLabel:this.hoverFormatter("xaxis",X.traceCoord[0]),yLabel:this.hoverFormatter("yaxis",X.traceCoord[1]),zLabel:X.traceCoord[2],text:X.textLabel,name:X.name,color:M.castHoverOption(se,re,"bgcolor")||X.color,borderColor:M.castHoverOption(se,re,"bordercolor"),fontFamily:M.castHoverOption(se,re,"font.family"),fontSize:M.castHoverOption(se,re,"font.size"),fontColor:M.castHoverOption(se,re,"font.color"),nameLength:M.castHoverOption(se,re,"namelength"),textAlign:M.castHoverOption(se,re,"align")},{container:this.svgContainer,gd:this.graphDiv})}}L||this.unhover(),m.draw()}},A.unhover=function(){this.lastPickResult&&(this.spikes.update({}),this.lastPickResult=null,this.graphDiv.emit("plotly_unhover"),M.loneUnhover(this.svgContainer))},A.hoverFormatter=function(m,C){if(void 0!==C){var k=this[m];return S.tickText(k,k.c2l(C),"hover").text}}},58547:function(oe,j,r){"use strict";var I=r(30962).overrideAll,E=r(528),f=r(33539),S=r(27659).NG,M=r(71828),y=r(77922),u="gl3d",i="scene";j.name=u,j.attr=i,j.idRoot=i,j.idRegex=j.attrRegex=M.counterRegex("scene"),j.attributes=r(59084),j.layoutAttributes=r(65500),j.baseLayoutAttrOverrides=I({hoverlabel:E.hoverlabel},"plot","nested"),j.supplyLayoutDefaults=r(24682),j.plot=function(s){for(var a=s._fullLayout,o=s._fullData,l=a._subplots[u],c=0;c<l.length;c++){var h=l[c],v=S(o,u,h),p=a[h],T=p.camera,_=p._scene;_||(_=new f({id:h,graphDiv:s,container:s.querySelector(".gl-container"),staticPlot:s._context.staticPlot,plotGlPixelRatio:s._context.plotGlPixelRatio,camera:T},a),p._scene=_),_.viewInitial||(_.viewInitial={up:{x:T.up.x,y:T.up.y,z:T.up.z},eye:{x:T.eye.x,y:T.eye.y,z:T.eye.z},center:{x:T.center.x,y:T.center.y,z:T.center.z}}),_.plot(v,a,s.layout)}},j.clean=function(s,a,o,l){for(var c=l._subplots[u]||[],h=0;h<c.length;h++){var v=c[h];!a[v]&&l[v]._scene&&(l[v]._scene.destroy(),l._infolayer&&l._infolayer.selectAll(".annotation-"+v).remove())}},j.toSVG=function(s){for(var a=s._fullLayout,o=a._subplots[u],l=a._size,c=0;c<o.length;c++){var h=a[o[c]],v=h.domain,p=h._scene,T=p.toImage("png");a._glimages.append("svg:image").attr({xmlns:y.svg,"xlink:href":T,x:l.l+l.w*v.x[0],y:l.t+l.h*(1-v.y[1]),width:l.w*(v.x[1]-v.x[0]),height:l.h*(v.y[1]-v.y[0]),preserveAspectRatio:"none"}),p.destroy()}},j.cleanId=function(s){if(s.match(/^scene[0-9]*$/)){var a=s.substr(5);return"1"===a&&(a=""),i+a}},j.updateFx=function(s){for(var a=s._fullLayout,o=a._subplots[u],l=0;l<o.length;l++)a[o[l]]._scene.updateFx(a.dragmode,a.hovermode)}},59084:function(oe){"use strict";oe.exports={scene:{valType:"subplotid",dflt:"scene",editType:"calc+clearAxisTypes"}}},77894:function(oe,j,r){"use strict";var I=r(7901),E=r(13838),f=r(1426).extendFlat,S=r(30962).overrideAll;oe.exports=S({visible:E.visible,showspikes:{valType:"boolean",dflt:!0},spikesides:{valType:"boolean",dflt:!0},spikethickness:{valType:"number",min:0,dflt:2},spikecolor:{valType:"color",dflt:I.defaultLine},showbackground:{valType:"boolean",dflt:!1},backgroundcolor:{valType:"color",dflt:"rgba(204, 204, 204, 0.5)"},showaxeslabels:{valType:"boolean",dflt:!0},color:E.color,categoryorder:E.categoryorder,categoryarray:E.categoryarray,title:{text:E.title.text,font:E.title.font},type:f({},E.type,{values:["-","linear","log","date","category"]}),autotypenumbers:E.autotypenumbers,autorange:E.autorange,rangemode:E.rangemode,range:f({},E.range,{items:[{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}}],anim:!1}),tickmode:E.minor.tickmode,nticks:E.nticks,tick0:E.tick0,dtick:E.dtick,tickvals:E.tickvals,ticktext:E.ticktext,ticks:E.ticks,mirror:E.mirror,ticklen:E.ticklen,tickwidth:E.tickwidth,tickcolor:E.tickcolor,showticklabels:E.showticklabels,labelalias:E.labelalias,tickfont:E.tickfont,tickangle:E.tickangle,tickprefix:E.tickprefix,showtickprefix:E.showtickprefix,ticksuffix:E.ticksuffix,showticksuffix:E.showticksuffix,showexponent:E.showexponent,exponentformat:E.exponentformat,minexponent:E.minexponent,separatethousands:E.separatethousands,tickformat:E.tickformat,tickformatstops:E.tickformatstops,hoverformat:E.hoverformat,showline:E.showline,linecolor:E.linecolor,linewidth:E.linewidth,showgrid:E.showgrid,gridcolor:f({},E.gridcolor,{dflt:"rgb(204, 204, 204)"}),gridwidth:E.gridwidth,zeroline:E.zeroline,zerolinecolor:E.zerolinecolor,zerolinewidth:E.zerolinewidth,_deprecated:{title:E._deprecated.title,titlefont:E._deprecated.titlefont}},"plot","from-root")},3277:function(oe,j,r){"use strict";var I=r(84267).mix,E=r(71828),f=r(44467),S=r(77894),M=r(951),y=r(71453),u=["xaxis","yaxis","zaxis"];oe.exports=function(i,s,a){var o,l;function c(p,T){return E.coerce(o,l,S,p,T)}for(var h=0;h<u.length;h++){var v=u[h];o=i[v]||{},(l=f.newContainer(s,v))._id=v[0]+a.scene,l._name=v,M(o,l,c,a),y(o,l,c,{font:a.font,letter:v[0],data:a.data,showGrid:!0,noTickson:!0,noTicklabelmode:!0,noTicklabelstep:!0,noTicklabelposition:!0,noTicklabeloverflow:!0,bgColor:a.bgColor,calendar:a.calendar},a.fullLayout),c("gridcolor",I(l.color,a.bgColor,72.72727272727273).toRgbString()),c("title.text",v[0]),l.setScale=E.noop,c("showspikes")&&(c("spikesides"),c("spikethickness"),c("spikecolor",l.color)),c("showaxeslabels"),c("showbackground")&&c("backgroundcolor")}}},30422:function(oe,j,r){"use strict";var I=r(78614),E=r(71828),f=["xaxis","yaxis","zaxis"];function S(){this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickSize=[12,12,12],this.tickAngle=[0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[18,18,18],this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont=["Open Sans","Open Sans","Open Sans"],this.labelSize=[20,20,20],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[30,30,30],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[10,10,10],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!0,!0,!0],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._defaultTickPad=this.tickPad.slice(),this._defaultLabelPad=this.labelPad.slice(),this._defaultLineTickLength=this.lineTickLength.slice()}S.prototype.merge=function(M,y){for(var u=this,i=0;i<3;++i){var s=y[f[i]];s.visible?(u.labels[i]=M._meta?E.templateString(s.title.text,M._meta):s.title.text,"font"in s.title&&(s.title.font.color&&(u.labelColor[i]=I(s.title.font.color)),s.title.font.family&&(u.labelFont[i]=s.title.font.family),s.title.font.size&&(u.labelSize[i]=s.title.font.size)),"showline"in s&&(u.lineEnable[i]=s.showline),"linecolor"in s&&(u.lineColor[i]=I(s.linecolor)),"linewidth"in s&&(u.lineWidth[i]=s.linewidth),"showgrid"in s&&(u.gridEnable[i]=s.showgrid),"gridcolor"in s&&(u.gridColor[i]=I(s.gridcolor)),"gridwidth"in s&&(u.gridWidth[i]=s.gridwidth),"log"===s.type?u.zeroEnable[i]=!1:"zeroline"in s&&(u.zeroEnable[i]=s.zeroline),"zerolinecolor"in s&&(u.zeroLineColor[i]=I(s.zerolinecolor)),"zerolinewidth"in s&&(u.zeroLineWidth[i]=s.zerolinewidth),u.lineTickEnable[i]=!(!("ticks"in s)||!s.ticks),"ticklen"in s&&(u.lineTickLength[i]=u._defaultLineTickLength[i]=s.ticklen),"tickcolor"in s&&(u.lineTickColor[i]=I(s.tickcolor)),"tickwidth"in s&&(u.lineTickWidth[i]=s.tickwidth),"tickangle"in s&&(u.tickAngle[i]="auto"===s.tickangle?-3600:Math.PI*-s.tickangle/180),"showticklabels"in s&&(u.tickEnable[i]=s.showticklabels),"tickfont"in s&&(s.tickfont.color&&(u.tickColor[i]=I(s.tickfont.color)),s.tickfont.family&&(u.tickFont[i]=s.tickfont.family),s.tickfont.size&&(u.tickSize[i]=s.tickfont.size)),"mirror"in s?-1!==["ticks","all","allticks"].indexOf(s.mirror)?(u.lineTickMirror[i]=!0,u.lineMirror[i]=!0):!0===s.mirror?(u.lineTickMirror[i]=!1,u.lineMirror[i]=!0):(u.lineTickMirror[i]=!1,u.lineMirror[i]=!1):u.lineMirror[i]=!1,"showbackground"in s&&!1!==s.showbackground?(u.backgroundEnable[i]=!0,u.backgroundColor[i]=I(s.backgroundcolor)):u.backgroundEnable[i]=!1):(u.tickEnable[i]=!1,u.labelEnable[i]=!1,u.lineEnable[i]=!1,u.lineTickEnable[i]=!1,u.gridEnable[i]=!1,u.zeroEnable[i]=!1,u.backgroundEnable[i]=!1)}},oe.exports=function(M,y){var u=new S;return u.merge(M,y),u}},24682:function(oe,j,r){"use strict";var I=r(71828),E=r(7901),f=r(73972),S=r(49119),M=r(3277),y=r(65500),u=r(27659).NG,i="gl3d";function s(a,o,l,c){for(var h=l("bgcolor"),v=E.combine(h,c.paper_bgcolor),p=["up","center","eye"],T=0;T<p.length;T++)l("camera."+p[T]+".x"),l("camera."+p[T]+".y"),l("camera."+p[T]+".z");l("camera.projection.type");var _=!!l("aspectratio.x")&&!!l("aspectratio.y")&&!!l("aspectratio.z"),g=l("aspectmode",_?"manual":"auto");_||(a.aspectratio=o.aspectratio={x:1,y:1,z:1},"manual"===g&&(o.aspectmode="auto"),a.aspectmode=o.aspectmode);var w=u(c.fullData,i,c.id);M(a,o,{font:c.font,scene:c.id,data:w,bgColor:v,calendar:c.calendar,autotypenumbersDflt:c.autotypenumbersDflt,fullLayout:c.fullLayout}),f.getComponentMethod("annotations3d","handleDefaults")(a,o,c);var x=c.getDfltFromLayout("dragmode");if(!1!==x&&!x)if(x="orbit",a.camera&&a.camera.up){var b=a.camera.up.x,A=a.camera.up.y,m=a.camera.up.z;0!==m&&(b&&A&&m?m/Math.sqrt(b*b+A*A+m*m)>.999&&(x="turntable"):x="turntable")}else x="turntable";l("dragmode",x),l("hovermode",c.getDfltFromLayout("hovermode"))}oe.exports=function(a,o,l){var c=o._basePlotModules.length>1;S(a,o,l,{type:i,attributes:y,handleDefaults:s,fullLayout:o,font:o.font,fullData:l,getDfltFromLayout:function(h){if(!c)return I.validate(a[h],y[h])?a[h]:void 0},autotypenumbersDflt:o.autotypenumbers,paper_bgcolor:o.paper_bgcolor,calendar:o.calendar})}},65500:function(oe,j,r){"use strict";var I=r(77894),E=r(27670).Y,f=r(1426).extendFlat,S=r(71828).counterRegex;function M(y,u,i){return{x:{valType:"number",dflt:y,editType:"camera"},y:{valType:"number",dflt:u,editType:"camera"},z:{valType:"number",dflt:i,editType:"camera"},editType:"camera"}}oe.exports={_arrayAttrRegexps:[S("scene",".annotations",!0)],bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"plot"},camera:{up:f(M(0,0,1),{}),center:f(M(0,0,0),{}),eye:f(M(1.25,1.25,1.25),{}),projection:{type:{valType:"enumerated",values:["perspective","orthographic"],dflt:"perspective",editType:"calc"},editType:"calc"},editType:"camera"},domain:E({name:"scene",editType:"plot"}),aspectmode:{valType:"enumerated",values:["auto","cube","data","manual"],dflt:"auto",editType:"plot",impliedEdits:{"aspectratio.x":void 0,"aspectratio.y":void 0,"aspectratio.z":void 0}},aspectratio:{x:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},y:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},z:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},editType:"plot",impliedEdits:{aspectmode:"manual"}},xaxis:I,yaxis:I,zaxis:I,dragmode:{valType:"enumerated",values:["orbit","turntable","zoom","pan",!1],editType:"plot"},hovermode:{valType:"enumerated",values:["closest",!1],dflt:"closest",editType:"modebar"},uirevision:{valType:"any",editType:"none"},editType:"plot",_deprecated:{cameraposition:{valType:"info_array",editType:"camera"}}}},13133:function(oe,j,r){"use strict";var I=r(78614),E=["xaxis","yaxis","zaxis"];function f(){this.enabled=[!0,!0,!0],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.drawSides=[!0,!0,!0],this.lineWidth=[1,1,1]}f.prototype.merge=function(S){for(var M=0;M<3;++M){var y=S[E[M]];y.visible?(this.enabled[M]=y.showspikes,this.colors[M]=I(y.spikecolor),this.drawSides[M]=y.spikesides,this.lineWidth[M]=y.spikethickness):(this.enabled[M]=!1,this.drawSides[M]=!1)}},oe.exports=function(S){var M=new f;return M.merge(S),M}},96085:function(oe,j,r){"use strict";oe.exports=function(M){for(var y=M.axesOptions,u=M.glplot.axesPixels,i=M.fullSceneLayout,s=[[],[],[]],a=0;a<3;++a){var o=i[f[a]];if(o._length=(u[a].hi-u[a].lo)*u[a].pixelsPerDataUnit/M.dataScale[a],Math.abs(o._length)===1/0||isNaN(o._length))s[a]=[];else{o._input_range=o.range.slice(),o.range[0]=u[a].lo/M.dataScale[a],o.range[1]=u[a].hi/M.dataScale[a],o._m=1/(M.dataScale[a]*u[a].pixelsPerDataUnit),o.range[0]===o.range[1]&&(o.range[0]-=1,o.range[1]+=1);var l=o.tickmode;if("auto"===o.tickmode){o.tickmode="linear";var c=o.nticks||E.constrain(o._length/40,4,9);I.autoTicks(o,Math.abs(o.range[1]-o.range[0])/c)}for(var h=I.calcTicks(o,{msUTC:!0}),v=0;v<h.length;++v)h[v].x=h[v].x*M.dataScale[a],"date"===o.type&&(h[v].text=h[v].text.replace(/\<br\>/g," "));s[a]=h,o.tickmode=l}}for(y.ticks=s,a=0;a<3;++a)for(S[a]=.5*(M.glplot.bounds[0][a]+M.glplot.bounds[1][a]),v=0;v<2;++v)y.bounds[v][a]=M.glplot.bounds[v][a];M.contourLevels=function(p){for(var T=new Array(3),_=0;_<3;++_){for(var g=p[_],w=new Array(g.length),x=0;x<g.length;++x)w[x]=g[x].x;T[_]=w}return T}(s)};var I=r(89298),E=r(71828),f=["xaxis","yaxis","zaxis"],S=[0,0,0]},63538:function(oe){"use strict";function j(r,I){var E,f,S=[0,0,0,0];for(E=0;E<4;++E)for(f=0;f<4;++f)S[f]+=r[4*E+f]*I[E];return S}oe.exports=function(r,I){return j(r.projection,j(r.view,j(r.model,[I[0],I[1],I[2],1])))}},33539:function(oe,j,r){"use strict";var I,E,f=r(9330).gl_plot3d,S=f.createCamera,M=f.createScene,y=r(40372),u=r(38520),i=r(73972),s=r(71828),a=s.preserveDrawingBuffer(),o=r(89298),l=r(30211),c=r(78614),h=r(58617),v=r(63538),p=r(30422),T=r(13133),_=r(96085),g=!1;function w(C,k){var P=document.createElement("div"),R=C.container;this.graphDiv=C.graphDiv;var L=document.createElementNS("http://www.w3.org/2000/svg","svg");L.style.position="absolute",L.style.top=L.style.left="0px",L.style.width=L.style.height="100%",L.style["z-index"]=20,L.style["pointer-events"]="none",P.appendChild(L),this.svgContainer=L,P.id=C.id,P.style.position="absolute",P.style.top=P.style.left="0px",P.style.width=P.style.height="100%",R.appendChild(P),this.fullLayout=k,this.id=C.id||"scene",this.fullSceneLayout=k[this.id],this.plotArgs=[[],{},{}],this.axesOptions=p(k,k[this.id]),this.spikeOptions=T(k[this.id]),this.container=P,this.staticMode=!!C.staticPlot,this.pixelRatio=this.pixelRatio||C.plotGlPixelRatio||2,this.dataScale=[1,1,1],this.contourLevels=[[],[],[]],this.convertAnnotations=i.getComponentMethod("annotations3d","convert"),this.drawAnnotations=i.getComponentMethod("annotations3d","draw"),this.initializeGLPlot()}var x=w.prototype;x.prepareOptions=function(){var C=this,k={canvas:C.canvas,gl:C.gl,glOptions:{preserveDrawingBuffer:a,premultipliedAlpha:!0,antialias:!0},container:C.container,axes:C.axesOptions,spikes:C.spikeOptions,pickRadius:10,snapToData:!0,autoScale:!0,autoBounds:!1,cameraObject:C.camera,pixelRatio:C.pixelRatio};if(C.staticMode){if(!(E||(I=document.createElement("canvas"),E=y({canvas:I,preserveDrawingBuffer:!0,premultipliedAlpha:!0,antialias:!0}))))throw new Error("error creating static canvas/context for image server");k.gl=E,k.canvas=I}return k};var b=!0;x.tryCreatePlot=function(){var C=this,k=C.prepareOptions(),P=!0;try{C.glplot=M(k)}catch{if(C.staticMode||!b||a)P=!1;else{s.warn(["webgl setup failed possibly due to","false preserveDrawingBuffer config.","The mobile/tablet device may not be detected by is-mobile module.","Enabling preserveDrawingBuffer in second attempt to create webgl scene..."].join(" "));try{a=k.glOptions.preserveDrawingBuffer=!0,C.glplot=M(k)}catch{a=k.glOptions.preserveDrawingBuffer=!1,P=!1}}}return b=!1,P},x.initializeGLCamera=function(){var C=this,k=C.fullSceneLayout.camera;C.camera=S(C.container,{center:[k.center.x,k.center.y,k.center.z],eye:[k.eye.x,k.eye.y,k.eye.z],up:[k.up.x,k.up.y,k.up.z],_ortho:"orthographic"===k.projection.type,zoomMin:.01,zoomMax:100,mode:"orbit"})},x.initializeGLPlot=function(){var C=this;if(C.initializeGLCamera(),!C.tryCreatePlot())return h(C);C.traces={},C.make4thDimension();var k=C.graphDiv,P=k.layout,R=function(){var N={};return C.isCameraChanged(P)&&(N[C.id+".camera"]=C.getCamera()),C.isAspectChanged(P)&&(N[C.id+".aspectratio"]=C.glplot.getAspectratio(),"manual"!==P[C.id].aspectmode&&(C.fullSceneLayout.aspectmode=P[C.id].aspectmode=N[C.id+".aspectmode"]="manual")),N},L=function(N){if(!1!==N.fullSceneLayout.dragmode){var B=R();N.saveLayout(P),N.graphDiv.emit("plotly_relayout",B)}};return C.glplot.canvas&&(C.glplot.canvas.addEventListener("mouseup",function(){L(C)}),C.glplot.canvas.addEventListener("touchstart",function(){g=!0}),C.glplot.canvas.addEventListener("wheel",function(N){if(k._context._scrollZoom.gl3d){if(C.camera._ortho){var B=N.deltaX>N.deltaY?1.1:.9090909090909091,J=C.glplot.getAspectratio();C.glplot.setAspectratio({x:B*J.x,y:B*J.y,z:B*J.z})}L(C)}},!!u&&{passive:!1}),C.glplot.canvas.addEventListener("mousemove",function(){if(!1!==C.fullSceneLayout.dragmode&&0!==C.camera.mouseListener.buttons){var N=R();C.graphDiv.emit("plotly_relayouting",N)}}),C.staticMode||C.glplot.canvas.addEventListener("webglcontextlost",function(N){k&&k.emit&&k.emit("plotly_webglcontextlost",{event:N,layer:C.id})},!1)),C.glplot.oncontextloss=function(){C.recoverContext()},C.glplot.onrender=function(){C.render()},!0},x.render=function(){var C,k=this,P=k.graphDiv,R=k.svgContainer,L=k.container.getBoundingClientRect();P._fullLayout._calcInverseTransform(P);var J=L.width*P._fullLayout._invScaleX,z=L.height*P._fullLayout._invScaleY;R.setAttributeNS(null,"viewBox","0 0 "+J+" "+z),R.setAttributeNS(null,"width",J),R.setAttributeNS(null,"height",z),_(k),k.glplot.axes.update(k.axesOptions);for(var Y=Object.keys(k.traces),q=null,U=k.glplot.selection,Z=0;Z<Y.length;++Z)"skip"!==(C=k.traces[Y[Z]]).data.hoverinfo&&C.handlePick(U)&&(q=C),C.setContourLevels&&C.setContourLevels();function X(Te,ye,we){var ze=k.fullSceneLayout[Te+"axis"];return"log"!==ze.type&&(ye=ze.d2l(ye)),o.hoverLabelText(ze,ye,we)}if(null!==q){var re,se=v(k.glplot.cameraParams,U.dataCoordinate),ee=P._fullData[(C=q.data).index],K=U.index,ne={xLabel:X("x",U.traceCoordinate[0],C.xhoverformat),yLabel:X("y",U.traceCoordinate[1],C.yhoverformat),zLabel:X("z",U.traceCoordinate[2],C.zhoverformat)},ae=l.castHoverinfo(ee,k.fullLayout,K),ue=(ae||"").split("+"),he=ae&&"all"===ae;ee.hovertemplate||he||(-1===ue.indexOf("x")&&(ne.xLabel=void 0),-1===ue.indexOf("y")&&(ne.yLabel=void 0),-1===ue.indexOf("z")&&(ne.zLabel=void 0),-1===ue.indexOf("text")&&(U.textLabel=void 0),-1===ue.indexOf("name")&&(q.name=void 0));var pe=[];"cone"===C.type||"streamtube"===C.type?(ne.uLabel=X("x",U.traceCoordinate[3],C.uhoverformat),(he||-1!==ue.indexOf("u"))&&pe.push("u: "+ne.uLabel),ne.vLabel=X("y",U.traceCoordinate[4],C.vhoverformat),(he||-1!==ue.indexOf("v"))&&pe.push("v: "+ne.vLabel),ne.wLabel=X("z",U.traceCoordinate[5],C.whoverformat),(he||-1!==ue.indexOf("w"))&&pe.push("w: "+ne.wLabel),ne.normLabel=U.traceCoordinate[6].toPrecision(3),(he||-1!==ue.indexOf("norm"))&&pe.push("norm: "+ne.normLabel),"streamtube"===C.type&&(ne.divergenceLabel=U.traceCoordinate[7].toPrecision(3),(he||-1!==ue.indexOf("divergence"))&&pe.push("divergence: "+ne.divergenceLabel)),U.textLabel&&pe.push(U.textLabel),re=pe.join("<br>")):"isosurface"===C.type||"volume"===C.type?(ne.valueLabel=o.hoverLabelText(k._mockAxis,k._mockAxis.d2l(U.traceCoordinate[3]),C.valuehoverformat),pe.push("value: "+ne.valueLabel),U.textLabel&&pe.push(U.textLabel),re=pe.join("<br>")):re=U.textLabel;var ge={x:U.traceCoordinate[0],y:U.traceCoordinate[1],z:U.traceCoordinate[2],data:ee._input,fullData:ee,curveNumber:ee.index,pointNumber:K};l.appendArrayPointValue(ge,ee,K),C._module.eventData&&(ge=ee._module.eventData(ge,U,ee,{},K));var xe={points:[ge]};if(k.fullSceneLayout.hovermode){var Se=[];l.loneHover({trace:ee,x:(.5+.5*se[0]/se[3])*J,y:(.5-.5*se[1]/se[3])*z,xLabel:ne.xLabel,yLabel:ne.yLabel,zLabel:ne.zLabel,text:re,name:q.name,color:l.castHoverOption(ee,K,"bgcolor")||q.color,borderColor:l.castHoverOption(ee,K,"bordercolor"),fontFamily:l.castHoverOption(ee,K,"font.family"),fontSize:l.castHoverOption(ee,K,"font.size"),fontColor:l.castHoverOption(ee,K,"font.color"),nameLength:l.castHoverOption(ee,K,"namelength"),textAlign:l.castHoverOption(ee,K,"align"),hovertemplate:s.castOption(ee,K,"hovertemplate"),hovertemplateLabels:s.extendFlat({},ge,ne),eventData:[ge]},{container:R,gd:P,inOut_bbox:Se}),ge.bbox=Se[0]}P.emit(U.distance<5&&(U.buttons||g)?"plotly_click":"plotly_hover",xe),this.oldEventData=xe}else l.loneUnhover(R),this.oldEventData&&P.emit("plotly_unhover",this.oldEventData),this.oldEventData=void 0;k.drawAnnotations(k)},x.recoverContext=function(){var C=this;C.glplot.dispose();var k=function(){C.glplot.gl.isContextLost()?requestAnimationFrame(k):C.initializeGLPlot()?C.plot.apply(C,C.plotArgs):s.error("Catastrophic and unrecoverable WebGL error. Context lost.")};requestAnimationFrame(k)};var A=["xaxis","yaxis","zaxis"];function m(C,k,P){for(var R=C.fullSceneLayout,L=0;L<3;L++){var N=A[L],B=N.charAt(0),J=R[N],z=k[B],Y=k[B+"calendar"],q=k["_"+B+"length"];if(s.isArrayOrTypedArray(z))for(var U,Z=0;Z<(q||z.length);Z++)if(s.isArrayOrTypedArray(z[Z]))for(var X=0;X<z[Z].length;++X)U=J.d2l(z[Z][X],0,Y),!isNaN(U)&&isFinite(U)&&(P[0][L]=Math.min(P[0][L],U),P[1][L]=Math.max(P[1][L],U));else U=J.d2l(z[Z],0,Y),!isNaN(U)&&isFinite(U)&&(P[0][L]=Math.min(P[0][L],U),P[1][L]=Math.max(P[1][L],U));else P[0][L]=Math.min(P[0][L],0),P[1][L]=Math.max(P[1][L],q-1)}}x.plot=function(C,k,P){var R=this;if(R.plotArgs=[C,k,P],!R.glplot.contextLost){var L,N,B,J,z,Y,q=k[R.id],U=P[R.id];R.fullLayout=k,R.fullSceneLayout=q,R.axesOptions.merge(k,q),R.spikeOptions.merge(q),R.setViewport(q),R.updateFx(q.dragmode,q.hovermode),R.camera.enableWheel=R.graphDiv._context._scrollZoom.gl3d,R.glplot.setClearColor(c(q.bgcolor)),R.setConvert(z),C?Array.isArray(C)||(C=[C]):C=[];var Z=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(B=0;B<C.length;++B)!0===(L=C[B]).visible&&0!==L._length&&m(this,L,Z);!function(De,Ue){for(var Ye=De.fullSceneLayout,_e=Ye.annotations||[],Pe=0;Pe<3;Pe++)for(var Ie=A[Pe],Be=Ie.charAt(0),We=Ye[Ie],Ge=0;Ge<_e.length;Ge++){var Ke=_e[Ge];if(Ke.visible){var tt=We.r2l(Ke[Be]);!isNaN(tt)&&isFinite(tt)&&(Ue[0][Pe]=Math.min(Ue[0][Pe],tt),Ue[1][Pe]=Math.max(Ue[1][Pe],tt))}}}(this,Z);var X=[1,1,1];for(J=0;J<3;++J)X[J]=Z[1][J]===Z[0][J]?1:1/(Z[1][J]-Z[0][J]);for(R.dataScale=X,R.convertAnnotations(this),B=0;B<C.length;++B)!0===(L=C[B]).visible&&0!==L._length&&((N=R.traces[L.uid])?N.data.type===L.type?N.update(L):(N.dispose(),N=L._module.plot(this,L),R.traces[L.uid]=N):(N=L._module.plot(this,L),R.traces[L.uid]=N),N.name=L.name);var se=Object.keys(R.traces);e:for(B=0;B<se.length;++B){for(J=0;J<C.length;++J)if(C[J].uid===se[B]&&!0===C[J].visible&&0!==C[J]._length)continue e;(N=R.traces[se[B]]).dispose(),delete R.traces[se[B]]}R.glplot.objects.sort(function(De,Ue){return De._trace.data.index-Ue._trace.data.index});var re,ee=[[0,0,0],[0,0,0]],K=[],ne={};for(B=0;B<3;++B){if((Y=(z=q[A[B]]).type)in ne?(ne[Y].acc*=X[B],ne[Y].count+=1):ne[Y]={acc:X[B],count:1},z.autorange){ee[0][B]=1/0,ee[1][B]=-1/0;var ae=R.glplot.objects,ue=R.fullSceneLayout.annotations||[],he=z._name.charAt(0);for(J=0;J<ae.length;J++){var pe=ae[J],ge=pe.bounds,xe=pe._trace.data._pad||0;ee[0][B]="ErrorBars"===pe.constructor.name&&z._lowerLogErrorBound?Math.min(ee[0][B],z._lowerLogErrorBound):Math.min(ee[0][B],ge[0][B]/X[B]-xe),ee[1][B]=Math.max(ee[1][B],ge[1][B]/X[B]+xe)}for(J=0;J<ue.length;J++){var Se=ue[J];if(Se.visible){var Te=z.r2l(Se[he]);ee[0][B]=Math.min(ee[0][B],Te),ee[1][B]=Math.max(ee[1][B],Te)}}if("rangemode"in z&&"tozero"===z.rangemode&&(ee[0][B]=Math.min(ee[0][B],0),ee[1][B]=Math.max(ee[1][B],0)),ee[0][B]>ee[1][B])ee[0][B]=-1,ee[1][B]=1;else{var ye=ee[1][B]-ee[0][B];ee[0][B]-=ye/32,ee[1][B]+=ye/32}if("reversed"===z.autorange){var we=ee[0][B];ee[0][B]=ee[1][B],ee[1][B]=we}}else{var ze=z.range;ee[0][B]=z.r2l(ze[0]),ee[1][B]=z.r2l(ze[1])}ee[0][B]===ee[1][B]&&(ee[0][B]-=1,ee[1][B]+=1),K[B]=ee[1][B]-ee[0][B],R.glplot.setBounds(B,{min:ee[0][B]*X[B],max:ee[1][B]*X[B]})}var ke=q.aspectmode;if("cube"===ke)re=[1,1,1];else if("manual"===ke){var Ee=q.aspectratio;re=[Ee.x,Ee.y,Ee.z]}else{if("auto"!==ke&&"data"!==ke)throw new Error("scene.js aspectRatio was not one of the enumerated types");var me=[1,1,1];for(B=0;B<3;++B){var de=ne[Y=(z=q[A[B]]).type];me[B]=Math.pow(de.acc,1/de.count)/X[B]}re="data"===ke||Math.max.apply(null,me)/Math.min.apply(null,me)<=4?me:[1,1,1]}q.aspectratio.x=U.aspectratio.x=re[0],q.aspectratio.y=U.aspectratio.y=re[1],q.aspectratio.z=U.aspectratio.z=re[2],R.glplot.setAspectratio(q.aspectratio),R.viewInitial.aspectratio||(R.viewInitial.aspectratio={x:q.aspectratio.x,y:q.aspectratio.y,z:q.aspectratio.z}),R.viewInitial.aspectmode||(R.viewInitial.aspectmode=q.aspectmode);var ce=q.domain||null,Ae=k._size||null;if(ce&&Ae){var Ne=R.container.style;Ne.position="absolute",Ne.left=Ae.l+ce.x[0]*Ae.w+"px",Ne.top=Ae.t+(1-ce.y[1])*Ae.h+"px",Ne.width=Ae.w*(ce.x[1]-ce.x[0])+"px",Ne.height=Ae.h*(ce.y[1]-ce.y[0])+"px"}R.glplot.redraw()}},x.destroy=function(){var C=this;C.glplot&&(C.camera.mouseListener.enabled=!1,C.container.removeEventListener("wheel",C.camera.wheelListener),C.camera=null,C.glplot.dispose(),C.container.parentNode.removeChild(C.container),C.glplot=null)},x.getCamera=function(){var C,k=this;return k.camera.view.recalcMatrix(k.camera.view.lastT()),{up:{x:(C=k.camera).up[0],y:C.up[1],z:C.up[2]},center:{x:C.center[0],y:C.center[1],z:C.center[2]},eye:{x:C.eye[0],y:C.eye[1],z:C.eye[2]},projection:{type:!0===C._ortho?"orthographic":"perspective"}}},x.setViewport=function(C){var k,P=this,R=C.camera;P.camera.lookAt.apply(this,[[(k=R).eye.x,k.eye.y,k.eye.z],[k.center.x,k.center.y,k.center.z],[k.up.x,k.up.y,k.up.z]]),P.glplot.setAspectratio(C.aspectratio),"orthographic"===R.projection.type!==P.camera._ortho&&(P.glplot.redraw(),P.glplot.clearRGBA(),P.glplot.dispose(),P.initializeGLPlot())},x.isCameraChanged=function(C){var k=this.getCamera(),P=s.nestedProperty(C,this.id+".camera").get();var J,z,Y,q,U,Z,L=!1;if(void 0===P)L=!0;else{for(var N=0;N<3;N++)for(var B=0;B<3;B++)if(J=k,q=B,U=void 0,Z=void 0,Z=["x","y","z"],!(z=P)[(U=["up","center","eye"])[Y=N]]||J[U[Y]][Z[q]]!==z[U[Y]][Z[q]]){L=!0;break}(!P.projection||k.projection&&k.projection.type!==P.projection.type)&&(L=!0)}return L},x.isAspectChanged=function(C){var k=this.glplot.getAspectratio(),P=s.nestedProperty(C,this.id+".aspectratio").get();return void 0===P||P.x!==k.x||P.y!==k.y||P.z!==k.z},x.saveLayout=function(C){var k,P,R,L,N,B,J=this,z=J.fullLayout,Y=J.isCameraChanged(C),q=J.isAspectChanged(C),U=Y||q;if(U){var Z={};Y&&(k=J.getCamera(),R=(P=s.nestedProperty(C,J.id+".camera")).get(),Z[J.id+".camera"]=R),q&&(L=J.glplot.getAspectratio(),B=(N=s.nestedProperty(C,J.id+".aspectratio")).get(),Z[J.id+".aspectratio"]=B),i.call("_storeDirectGUIEdit",C,z._preGUI,Z),Y&&(P.set(k),s.nestedProperty(z,J.id+".camera").set(k)),q&&(N.set(L),s.nestedProperty(z,J.id+".aspectratio").set(L),J.glplot.redraw())}return U},x.updateFx=function(C,k){var P=this,R=P.camera;if(R)if("orbit"===C)R.mode="orbit",R.keyBindingMode="rotate";else if("turntable"===C){R.up=[0,0,1],R.mode="turntable",R.keyBindingMode="rotate";var L=P.graphDiv,N=L._fullLayout,B=P.fullSceneLayout.camera,J=B.up.x,z=B.up.y,Y=B.up.z;if(Y/Math.sqrt(J*J+z*z+Y*Y)<.999){var q=P.id+".camera.up",U={x:0,y:0,z:1},Z={};Z[q]=U;var X=L.layout;i.call("_storeDirectGUIEdit",X,N._preGUI,Z),B.up=U,s.nestedProperty(X,q).set(U)}}else R.keyBindingMode=C;P.fullSceneLayout.hovermode=k},x.toImage=function(C){var k=this;C||(C="png"),k.staticMode&&k.container.appendChild(I),k.glplot.redraw();var P=k.glplot.gl,R=P.drawingBufferWidth,L=P.drawingBufferHeight;P.bindFramebuffer(P.FRAMEBUFFER,null);var N=new Uint8Array(R*L*4);P.readPixels(0,0,R,L,P.RGBA,P.UNSIGNED_BYTE,N),function(q,U,Z){for(var X=0,se=Z-1;X<se;++X,--se)for(var re=0;re<U;++re)for(var ee=0;ee<4;++ee){var K=4*(U*X+re)+ee,ne=4*(U*se+re)+ee,ae=q[K];q[K]=q[ne],q[ne]=ae}}(N,R,L),function(q,U,Z){for(var X=0;X<Z;++X)for(var se=0;se<U;++se){var re=4*(U*X+se),ee=q[re+3];if(ee>0)for(var K=255/ee,ne=0;ne<3;++ne)q[re+ne]=Math.min(K*q[re+ne],255)}}(N,R,L);var B=document.createElement("canvas");B.width=R,B.height=L;var J,z=B.getContext("2d",{willReadFrequently:!0}),Y=z.createImageData(R,L);switch(Y.data.set(N),z.putImageData(Y,0,0),C){case"jpeg":J=B.toDataURL("image/jpeg");break;case"webp":J=B.toDataURL("image/webp");break;default:J=B.toDataURL("image/png")}return k.staticMode&&k.container.removeChild(I),J},x.setConvert=function(){for(var C=0;C<3;C++){var k=this.fullSceneLayout[A[C]];o.setConvert(k,this.fullLayout),k.setScale=s.noop}},x.make4thDimension=function(){var C=this,k=C.graphDiv._fullLayout;C._mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},o.setConvert(C._mockAxis,k)},oe.exports=w},90060:function(oe){"use strict";oe.exports=function(j,r,I,E){E=E||j.length;for(var f=new Array(E),S=0;S<E;S++)f[S]=[j[S],r[S],I[S]];return f}},10820:function(oe,j,r){"use strict";var I=r(41940),E=r(85594),f=r(22399),S=r(29241),M=r(53777),y=r(35025),u=r(1426).extendFlat,i=I({editType:"calc"});i.family.dflt='"Open Sans", verdana, arial, sans-serif',i.size.dflt=12,i.color.dflt=f.defaultLine,oe.exports={font:i,title:{text:{valType:"string",editType:"layoutstyle"},font:I({editType:"layoutstyle"}),xref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},yref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},x:{valType:"number",min:0,max:1,dflt:.5,editType:"layoutstyle"},y:{valType:"number",min:0,max:1,dflt:"auto",editType:"layoutstyle"},xanchor:{valType:"enumerated",dflt:"auto",values:["auto","left","center","right"],editType:"layoutstyle"},yanchor:{valType:"enumerated",dflt:"auto",values:["auto","top","middle","bottom"],editType:"layoutstyle"},pad:u(y({editType:"layoutstyle"}),{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},editType:"layoutstyle"},uniformtext:{mode:{valType:"enumerated",values:[!1,"hide","show"],dflt:!1,editType:"plot"},minsize:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"},autosize:{valType:"boolean",dflt:!1,editType:"none"},width:{valType:"number",min:10,dflt:700,editType:"plot"},height:{valType:"number",min:10,dflt:450,editType:"plot"},minreducedwidth:{valType:"number",min:2,dflt:64,editType:"plot"},minreducedheight:{valType:"number",min:2,dflt:64,editType:"plot"},margin:{l:{valType:"number",min:0,dflt:80,editType:"plot"},r:{valType:"number",min:0,dflt:80,editType:"plot"},t:{valType:"number",min:0,dflt:100,editType:"plot"},b:{valType:"number",min:0,dflt:80,editType:"plot"},pad:{valType:"number",min:0,dflt:0,editType:"plot"},autoexpand:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},computed:{valType:"any",editType:"none"},paper_bgcolor:{valType:"color",dflt:f.background,editType:"plot"},plot_bgcolor:{valType:"color",dflt:f.background,editType:"layoutstyle"},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},separators:{valType:"string",editType:"plot"},hidesources:{valType:"boolean",dflt:!1,editType:"plot"},showlegend:{valType:"boolean",editType:"legend"},colorway:{valType:"colorlist",dflt:f.defaults,editType:"calc"},datarevision:{valType:"any",editType:"calc"},uirevision:{valType:"any",editType:"none"},editrevision:{valType:"any",editType:"none"},selectionrevision:{valType:"any",editType:"none"},template:{valType:"any",editType:"calc"},newshape:S.newshape,activeshape:S.activeshape,newselection:M.newselection,activeselection:M.activeselection,meta:{valType:"any",arrayOk:!0,editType:"plot"},transition:u({},E.transition,{editType:"none"}),_deprecated:{title:{valType:"string",editType:"layoutstyle"},titlefont:I({editType:"layoutstyle"})}}},77734:function(oe,j,r){"use strict";var I=r(78607),E="1.10.1",f='\xa9 <a target="_blank" href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',S=['\xa9 <a target="_blank" href="https://carto.com/">Carto</a>',f].join(" "),M=['Map tiles by <a target="_blank" href="https://stamen.com">Stamen Design</a>','under <a target="_blank" href="https://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>',"|",'Data by <a target="_blank" href="https://openstreetmap.org">OpenStreetMap</a> contributors','under <a target="_blank" href="https://www.openstreetmap.org/copyright">ODbL</a>'].join(" "),y={"open-street-map":{id:"osm",version:8,sources:{"plotly-osm-tiles":{type:"raster",attribution:f,tiles:["https://a.tile.openstreetmap.org/{z}/{x}/{y}.png","https://b.tile.openstreetmap.org/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-osm-tiles",type:"raster",source:"plotly-osm-tiles",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"white-bg":{id:"white-bg",version:8,sources:{},layers:[{id:"white-bg",type:"background",paint:{"background-color":"#FFFFFF"},minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"carto-positron":{id:"carto-positron",version:8,sources:{"plotly-carto-positron":{type:"raster",attribution:S,tiles:["https://cartodb-basemaps-c.global.ssl.fastly.net/light_all/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-carto-positron",type:"raster",source:"plotly-carto-positron",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"carto-darkmatter":{id:"carto-darkmatter",version:8,sources:{"plotly-carto-darkmatter":{type:"raster",attribution:S,tiles:["https://cartodb-basemaps-c.global.ssl.fastly.net/dark_all/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-carto-darkmatter",type:"raster",source:"plotly-carto-darkmatter",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-terrain":{id:"stamen-terrain",version:8,sources:{"plotly-stamen-terrain":{type:"raster",attribution:M,tiles:["https://stamen-tiles.a.ssl.fastly.net/terrain/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-stamen-terrain",type:"raster",source:"plotly-stamen-terrain",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-toner":{id:"stamen-toner",version:8,sources:{"plotly-stamen-toner":{type:"raster",attribution:M,tiles:["https://stamen-tiles.a.ssl.fastly.net/toner/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-stamen-toner",type:"raster",source:"plotly-stamen-toner",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-watercolor":{id:"stamen-watercolor",version:8,sources:{"plotly-stamen-watercolor":{type:"raster",attribution:['Map tiles by <a target="_blank" href="https://stamen.com">Stamen Design</a>','under <a target="_blank" href="https://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>',"|",'Data by <a target="_blank" href="https://openstreetmap.org">OpenStreetMap</a> contributors','under <a target="_blank" href="https://creativecommons.org/licenses/by-sa/3.0">CC BY SA</a>'].join(" "),tiles:["https://stamen-tiles.a.ssl.fastly.net/watercolor/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-stamen-watercolor",type:"raster",source:"plotly-stamen-watercolor",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"}},u=I(y);oe.exports={requiredVersion:E,styleUrlPrefix:"mapbox://styles/mapbox/",styleUrlSuffix:"v9",styleValuesMapbox:["basic","streets","outdoors","light","dark","satellite","satellite-streets"],styleValueDflt:"basic",stylesNonMapbox:y,styleValuesNonMapbox:u,traceLayerPrefix:"plotly-trace-layer-",layoutLayerPrefix:"plotly-layout-layer-",wrongVersionErrorMsg:["Your custom plotly.js bundle is not using the correct mapbox-gl version","Please install mapbox-gl@"+E+"."].join("\n"),noAccessTokenErrorMsg:["Missing Mapbox access token.","Mapbox trace type require a Mapbox access token to be registered.","For example:","  Plotly.newPlot(gd, data, layout, { mapboxAccessToken: 'my-access-token' });","More info here: https://www.mapbox.com/help/define-access-token/"].join("\n"),missingStyleErrorMsg:["No valid mapbox style found, please set `mapbox.style` to one of:",u.join(", "),"or register a Mapbox access token to use a Mapbox-served style."].join("\n"),multipleTokensErrorMsg:["Set multiple mapbox access token across different mapbox subplot,","using first token found as mapbox-gl does not allow multipleaccess tokens on the same page."].join("\n"),mapOnErrorMsg:"Mapbox error.",mapboxLogo:{path0:"m 10.5,1.24 c -5.11,0 -9.25,4.15 -9.25,9.25 0,5.1 4.15,9.25 9.25,9.25 5.1,0 9.25,-4.15 9.25,-9.25 0,-5.11 -4.14,-9.25 -9.25,-9.25 z m 4.39,11.53 c -1.93,1.93 -4.78,2.31 -6.7,2.31 -0.7,0 -1.41,-0.05 -2.1,-0.16 0,0 -1.02,-5.64 2.14,-8.81 0.83,-0.83 1.95,-1.28 3.13,-1.28 1.27,0 2.49,0.51 3.39,1.42 1.84,1.84 1.89,4.75 0.14,6.52 z",path1:"M 10.5,-0.01 C 4.7,-0.01 0,4.7 0,10.49 c 0,5.79 4.7,10.5 10.5,10.5 5.8,0 10.5,-4.7 10.5,-10.5 C 20.99,4.7 16.3,-0.01 10.5,-0.01 Z m 0,19.75 c -5.11,0 -9.25,-4.15 -9.25,-9.25 0,-5.1 4.14,-9.26 9.25,-9.26 5.11,0 9.25,4.15 9.25,9.25 0,5.13 -4.14,9.26 -9.25,9.26 z",path2:"M 14.74,6.25 C 12.9,4.41 9.98,4.35 8.23,6.1 5.07,9.27 6.09,14.91 6.09,14.91 c 0,0 5.64,1.02 8.81,-2.14 C 16.64,11 16.59,8.09 14.74,6.25 Z m -2.27,4.09 -0.91,1.87 -0.9,-1.87 -1.86,-0.91 1.86,-0.9 0.9,-1.87 0.91,1.87 1.86,0.9 z",polygon:"11.56,12.21 10.66,10.34 8.8,9.43 10.66,8.53 11.56,6.66 12.47,8.53 14.33,9.43 12.47,10.34"},styleRules:{map:"overflow:hidden;position:relative;","missing-css":"display:none;",canary:"background-color:salmon;","ctrl-bottom-left":"position: absolute; pointer-events: none; z-index: 2; bottom: 0; left: 0;","ctrl-bottom-right":"position: absolute; pointer-events: none; z-index: 2; right: 0; bottom: 0;",ctrl:"clear: both; pointer-events: auto; transform: translate(0, 0);","ctrl-attrib.mapboxgl-compact .mapboxgl-ctrl-attrib-inner":"display: none;","ctrl-attrib.mapboxgl-compact:hover .mapboxgl-ctrl-attrib-inner":"display: block; margin-top:2px","ctrl-attrib.mapboxgl-compact:hover":"padding: 2px 24px 2px 4px; visibility: visible; margin-top: 6px;","ctrl-attrib.mapboxgl-compact::after":'content: ""; cursor: pointer; position: absolute; background-image: url(\'data:image/svg+xml;charset=utf-8,%3Csvg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"%3E %3Cpath fill="%23333333" fill-rule="evenodd" d="M4,10a6,6 0 1,0 12,0a6,6 0 1,0 -12,0 M9,7a1,1 0 1,0 2,0a1,1 0 1,0 -2,0 M9,10a1,1 0 1,1 2,0l0,3a1,1 0 1,1 -2,0"/%3E %3C/svg%3E\'); background-color: rgba(255, 255, 255, 0.5); width: 24px; height: 24px; box-sizing: border-box; border-radius: 12px;',"ctrl-attrib.mapboxgl-compact":"min-height: 20px; padding: 0; margin: 10px; position: relative; background-color: #fff; border-radius: 3px 12px 12px 3px;","ctrl-bottom-right > .mapboxgl-ctrl-attrib.mapboxgl-compact::after":"bottom: 0; right: 0","ctrl-bottom-left > .mapboxgl-ctrl-attrib.mapboxgl-compact::after":"bottom: 0; left: 0","ctrl-bottom-left .mapboxgl-ctrl":"margin: 0 0 10px 10px; float: left;","ctrl-bottom-right .mapboxgl-ctrl":"margin: 0 10px 10px 0; float: right;","ctrl-attrib":"color: rgba(0, 0, 0, 0.75); text-decoration: none; font-size: 12px","ctrl-attrib a":"color: rgba(0, 0, 0, 0.75); text-decoration: none; font-size: 12px","ctrl-attrib a:hover":"color: inherit; text-decoration: underline;","ctrl-attrib .mapbox-improve-map":"font-weight: bold; margin-left: 2px;","attrib-empty":"display: none;","ctrl-logo":'display:block; width: 21px; height: 21px; background-image: url(\'data:image/svg+xml;charset=utf-8,%3C?xml version="1.0" encoding="utf-8"?%3E %3Csvg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 21 21" style="enable-background:new 0 0 21 21;" xml:space="preserve"%3E%3Cg transform="translate(0,0.01)"%3E%3Cpath d="m 10.5,1.24 c -5.11,0 -9.25,4.15 -9.25,9.25 0,5.1 4.15,9.25 9.25,9.25 5.1,0 9.25,-4.15 9.25,-9.25 0,-5.11 -4.14,-9.25 -9.25,-9.25 z m 4.39,11.53 c -1.93,1.93 -4.78,2.31 -6.7,2.31 -0.7,0 -1.41,-0.05 -2.1,-0.16 0,0 -1.02,-5.64 2.14,-8.81 0.83,-0.83 1.95,-1.28 3.13,-1.28 1.27,0 2.49,0.51 3.39,1.42 1.84,1.84 1.89,4.75 0.14,6.52 z" style="opacity:0.9;fill:%23ffffff;enable-background:new" class="st0"/%3E%3Cpath d="M 10.5,-0.01 C 4.7,-0.01 0,4.7 0,10.49 c 0,5.79 4.7,10.5 10.5,10.5 5.8,0 10.5,-4.7 10.5,-10.5 C 20.99,4.7 16.3,-0.01 10.5,-0.01 Z m 0,19.75 c -5.11,0 -9.25,-4.15 -9.25,-9.25 0,-5.1 4.14,-9.26 9.25,-9.26 5.11,0 9.25,4.15 9.25,9.25 0,5.13 -4.14,9.26 -9.25,9.26 z" style="opacity:0.35;enable-background:new" class="st1"/%3E%3Cpath d="M 14.74,6.25 C 12.9,4.41 9.98,4.35 8.23,6.1 5.07,9.27 6.09,14.91 6.09,14.91 c 0,0 5.64,1.02 8.81,-2.14 C 16.64,11 16.59,8.09 14.74,6.25 Z m -2.27,4.09 -0.91,1.87 -0.9,-1.87 -1.86,-0.91 1.86,-0.9 0.9,-1.87 0.91,1.87 1.86,0.9 z" style="opacity:0.35;enable-background:new" class="st1"/%3E%3Cpolygon points="11.56,12.21 10.66,10.34 8.8,9.43 10.66,8.53 11.56,6.66 12.47,8.53 14.33,9.43 12.47,10.34 " style="opacity:0.9;fill:%23ffffff;enable-background:new" class="st0"/%3E%3C/g%3E%3C/svg%3E\')'}}},13056:function(oe,j,r){"use strict";var I=r(71828);oe.exports=function(E,f){var S=E.split(" "),M=S[0],y=S[1],u=I.isArrayOrTypedArray(f)?I.mean(f):f,i=.5+u/100,s=1.5+u/100,a=["",""],o=[0,0];switch(M){case"top":a[0]="top",o[1]=-s;break;case"bottom":a[0]="bottom",o[1]=s}switch(y){case"left":a[1]="right",o[0]=-i;break;case"right":a[1]="left",o[0]=i}return{anchor:a[0]&&a[1]?a.join("-"):a[0]?a[0]:a[1]?a[1]:"center",offset:o}}},50101:function(oe,j,r){"use strict";var I=r(44517),E=r(71828),f=E.strTranslate,S=E.strScale,M=r(27659).AU,y=r(77922),u=r(39898),i=r(91424),s=r(63893),a=r(10481),o="mapbox",l=j.constants=r(77734);function c(h){return"string"==typeof h&&(-1!==l.styleValuesMapbox.indexOf(h)||0===h.indexOf("mapbox://"))}j.name=o,j.attr="subplot",j.idRoot=o,j.idRegex=j.attrRegex=E.counterRegex(o),j.attributes={subplot:{valType:"subplotid",dflt:"mapbox",editType:"calc"}},j.layoutAttributes=r(23585),j.supplyLayoutDefaults=r(77882),j.plot=function(h){var v=h._fullLayout,p=h.calcdata,T=v._subplots[o];if(I.version!==l.requiredVersion)throw new Error(l.wrongVersionErrorMsg);var _=function(m,C){var k=m._fullLayout;if(""===m._context.mapboxAccessToken)return"";for(var P=[],R=[],L=!1,N=!1,B=0;B<C.length;B++){var J=k[C[B]],z=J.accesstoken;c(J.style)&&(z?E.pushUnique(P,z):(c(J._input.style)&&(E.error("Uses Mapbox map style, but did not set an access token."),L=!0),N=!0)),z&&E.pushUnique(R,z)}if(N){var Y=L?l.noAccessTokenErrorMsg:l.missingStyleErrorMsg;throw E.error(Y),new Error(Y)}return P.length?(P.length>1&&E.warn(l.multipleTokensErrorMsg),P[0]):(R.length&&E.log(["Listed mapbox access token(s)",R.join(","),"but did not use a Mapbox map style, ignoring token(s)."].join(" ")),"")}(h,T);I.accessToken=_;for(var g=0;g<T.length;g++){var w=T[g],x=M(p,o,w),b=v[w],A=b._subplot;A||(A=new a(h,w),v[w]._subplot=A),A.viewInitial||(A.viewInitial={center:E.extendFlat({},b.center),zoom:b.zoom,bearing:b.bearing,pitch:b.pitch}),A.plot(x,v,h._promises)}},j.clean=function(h,v,p,T){for(var _=T._subplots[o]||[],g=0;g<_.length;g++){var w=_[g];!v[w]&&T[w]._subplot&&T[w]._subplot.destroy()}},j.toSVG=function(h){for(var v=h._fullLayout,p=v._subplots[o],T=v._size,_=0;_<p.length;_++){var g=v[p[_]],w=g.domain,x=g._subplot.toImage("png");v._glimages.append("svg:image").attr({xmlns:y.svg,"xlink:href":x,x:T.l+T.w*w.x[0],y:T.t+T.h*(1-w.y[1]),width:T.w*(w.x[1]-w.x[0]),height:T.h*(w.y[1]-w.y[0]),preserveAspectRatio:"none"});var b=u.select(g._subplot.div);if(null!==b.select(".mapboxgl-ctrl-logo").node().offsetParent){var A=v._glimages.append("g");A.attr("transform",f(T.l+T.w*w.x[0]+10,T.t+T.h*(1-w.y[0])-31)),A.append("path").attr("d",l.mapboxLogo.path0).style({opacity:.9,fill:"#ffffff","enable-background":"new"}),A.append("path").attr("d",l.mapboxLogo.path1).style("opacity",.35).style("enable-background","new"),A.append("path").attr("d",l.mapboxLogo.path2).style("opacity",.35).style("enable-background","new"),A.append("polygon").attr("points",l.mapboxLogo.polygon).style({opacity:.9,fill:"#ffffff","enable-background":"new"})}var m=b.select(".mapboxgl-ctrl-attrib").text().replace("Improve this map",""),C=v._glimages.append("g"),k=C.append("text");k.text(m).classed("static-attribution",!0).attr({"font-size":12,"font-family":"Arial",color:"rgba(0, 0, 0, 0.75)","text-anchor":"end","data-unformatted":m});var P=i.bBox(k.node()),R=T.w*(w.x[1]-w.x[0]);if(P.width>R/2){var L=m.split("|").join("<br>");k.text(L).attr("data-unformatted",L).call(s.convertToTspans,h),P=i.bBox(k.node())}k.attr("transform",f(-3,8-P.height)),C.insert("rect",".static-attribution").attr({x:-P.width-6,y:-P.height-3,width:P.width+6,height:P.height+3,fill:"rgba(255, 255, 255, 0.75)"});var N=1;P.width+6>R&&(N=R/(P.width+6));var B=[T.l+T.w*w.x[1],T.t+T.h*(1-w.y[0])];C.attr("transform",f(B[0],B[1])+S(N))}},j.updateFx=function(h){for(var v=h._fullLayout,p=v._subplots[o],T=0;T<p.length;T++)v[p[T]]._subplot.updateFx(v)}},67911:function(oe,j,r){"use strict";var I=r(71828),E=r(63893).sanitizeHTML,f=r(13056),S=r(77734);function M(s,a){this.subplot=s,this.uid=s.uid+"-"+a,this.index=a,this.idSource="source-"+this.uid,this.idLayer=S.layoutLayerPrefix+this.uid,this.sourceType=null,this.source=null,this.layerType=null,this.below=null,this.visible=!1}var y=M.prototype;function u(s){if(!s.visible)return!1;var a=s.source;if(Array.isArray(a)&&a.length>0){for(var o=0;o<a.length;o++)if("string"!=typeof a[o]||0===a[o].length)return!1;return!0}return I.isPlainObject(a)||"string"==typeof a&&a.length>0}function i(s){var a={},o={};switch(s.type){case"circle":I.extendFlat(o,{"circle-radius":s.circle.radius,"circle-color":s.color,"circle-opacity":s.opacity});break;case"line":I.extendFlat(o,{"line-width":s.line.width,"line-color":s.color,"line-opacity":s.opacity,"line-dasharray":s.line.dash});break;case"fill":I.extendFlat(o,{"fill-color":s.color,"fill-outline-color":s.fill.outlinecolor,"fill-opacity":s.opacity});break;case"symbol":var l=s.symbol,c=f(l.textposition,l.iconsize);I.extendFlat(a,{"icon-image":l.icon+"-15","icon-size":l.iconsize/10,"text-field":l.text,"text-size":l.textfont.size,"text-anchor":c.anchor,"text-offset":c.offset,"symbol-placement":l.placement}),I.extendFlat(o,{"icon-color":s.color,"text-color":l.textfont.color,"text-opacity":s.opacity});break;case"raster":I.extendFlat(o,{"raster-fade-duration":0,"raster-opacity":s.opacity})}return{layout:a,paint:o}}y.update=function(s){this.visible?this.needsNewImage(s)?this.updateImage(s):this.needsNewSource(s)?(this.removeLayer(),this.updateSource(s),this.updateLayer(s)):this.needsNewLayer(s)?this.updateLayer(s):this.updateStyle(s):(this.updateSource(s),this.updateLayer(s)),this.visible=u(s)},y.needsNewImage=function(s){return this.subplot.map.getSource(this.idSource)&&"image"===this.sourceType&&"image"===s.sourcetype&&(this.source!==s.source||JSON.stringify(this.coordinates)!==JSON.stringify(s.coordinates))},y.needsNewSource=function(s){return this.sourceType!==s.sourcetype||JSON.stringify(this.source)!==JSON.stringify(s.source)||this.layerType!==s.type},y.needsNewLayer=function(s){return this.layerType!==s.type||this.below!==this.subplot.belowLookup["layout-"+this.index]},y.lookupBelow=function(){return this.subplot.belowLookup["layout-"+this.index]},y.updateImage=function(s){this.subplot.map.getSource(this.idSource).updateImage({url:s.source,coordinates:s.coordinates});var a=this.findFollowingMapboxLayerId(this.lookupBelow());null!==a&&this.subplot.map.moveLayer(this.idLayer,a)},y.updateSource=function(s){var l,c,h,v,p,a=this.subplot.map;if(a.getSource(this.idSource)&&a.removeSource(this.idSource),this.sourceType=s.sourcetype,this.source=s.source,u(s)){var o=(v=(l=s).source,p={type:h=l.sourcetype},"geojson"===h?c="data":"vector"===h?c="string"==typeof v?"url":"tiles":"raster"===h?(c="tiles",p.tileSize=256):"image"===h&&(c="url",p.coordinates=l.coordinates),p[c]=v,l.sourceattribution&&(p.attribution=E(l.sourceattribution)),p);a.addSource(this.idSource,o)}},y.findFollowingMapboxLayerId=function(s){if("traces"===s)for(var a=this.subplot.getMapLayers(),o=0;o<a.length;o++){var l=a[o].id;if("string"==typeof l&&0===l.indexOf(S.traceLayerPrefix)){s=l;break}}return s},y.updateLayer=function(s){var a=this.subplot,o=i(s),l=this.lookupBelow(),c=this.findFollowingMapboxLayerId(l);this.removeLayer(),u(s)&&a.addLayer({id:this.idLayer,source:this.idSource,"source-layer":s.sourcelayer||"",type:s.type,minzoom:s.minzoom,maxzoom:s.maxzoom,layout:o.layout,paint:o.paint},c),this.layerType=s.type,this.below=l},y.updateStyle=function(s){if(u(s)){var a=i(s);this.subplot.setOptions(this.idLayer,"setLayoutProperty",a.layout),this.subplot.setOptions(this.idLayer,"setPaintProperty",a.paint)}},y.removeLayer=function(){var s=this.subplot.map;s.getLayer(this.idLayer)&&s.removeLayer(this.idLayer)},y.dispose=function(){var s=this.subplot.map;s.getLayer(this.idLayer)&&s.removeLayer(this.idLayer),s.getSource(this.idSource)&&s.removeSource(this.idSource)},oe.exports=function(s,a,o){var l=new M(s,a);return l.update(o),l}},23585:function(oe,j,r){"use strict";var I=r(71828),E=r(7901).defaultLine,f=r(27670).Y,S=r(41940),M=r(82196).textposition,y=r(30962).overrideAll,u=r(44467).templatedArray,i=r(77734),s=S({});s.family.dflt="Open Sans Regular, Arial Unicode MS Regular",(oe.exports=y({_arrayAttrRegexps:[I.counterRegex("mapbox",".layers",!0)],domain:f({name:"mapbox"}),accesstoken:{valType:"string",noBlank:!0,strict:!0},style:{valType:"any",values:i.styleValuesMapbox.concat(i.styleValuesNonMapbox),dflt:i.styleValueDflt},center:{lon:{valType:"number",dflt:0},lat:{valType:"number",dflt:0}},zoom:{valType:"number",dflt:1},bearing:{valType:"number",dflt:0},pitch:{valType:"number",dflt:0},bounds:{west:{valType:"number"},east:{valType:"number"},south:{valType:"number"},north:{valType:"number"}},layers:u("layer",{visible:{valType:"boolean",dflt:!0},sourcetype:{valType:"enumerated",values:["geojson","vector","raster","image"],dflt:"geojson"},source:{valType:"any"},sourcelayer:{valType:"string",dflt:""},sourceattribution:{valType:"string"},type:{valType:"enumerated",values:["circle","line","fill","symbol","raster"],dflt:"circle"},coordinates:{valType:"any"},below:{valType:"string"},color:{valType:"color",dflt:E},opacity:{valType:"number",min:0,max:1,dflt:1},minzoom:{valType:"number",min:0,max:24,dflt:0},maxzoom:{valType:"number",min:0,max:24,dflt:24},circle:{radius:{valType:"number",dflt:15}},line:{width:{valType:"number",dflt:2},dash:{valType:"data_array"}},fill:{outlinecolor:{valType:"color",dflt:E}},symbol:{icon:{valType:"string",dflt:"marker"},iconsize:{valType:"number",dflt:10},text:{valType:"string",dflt:""},placement:{valType:"enumerated",values:["point","line","line-center"],dflt:"point"},textfont:s,textposition:I.extendFlat({},M,{arrayOk:!1})}})},"plot","from-root")).uirevision={valType:"any",editType:"none"}},77882:function(oe,j,r){"use strict";var I=r(71828),E=r(49119),f=r(85501),S=r(23585);function M(u,i,s,a){s("accesstoken",a.accessToken),s("style"),s("center.lon"),s("center.lat"),s("zoom"),s("bearing"),s("pitch");var o=s("bounds.west"),l=s("bounds.east"),c=s("bounds.south"),h=s("bounds.north");void 0!==o&&void 0!==l&&void 0!==c&&void 0!==h||delete i.bounds,f(u,i,{name:"layers",handleItemDefaults:y}),i._input=u}function y(u,i){function s(h,v){return I.coerce(u,i,S.layers,h,v)}if(s("visible")){var a,o=s("sourcetype"),l="raster"===o||"image"===o;s("source"),s("sourceattribution"),"vector"===o&&s("sourcelayer"),"image"===o&&s("coordinates"),l&&(a="raster");var c=s("type",a);l&&"raster"!==c&&(c=i.type="raster",I.log("Source types *raster* and *image* must drawn *raster* layer type.")),s("below"),s("color"),s("opacity"),s("minzoom"),s("maxzoom"),"circle"===c&&s("circle.radius"),"line"===c&&(s("line.width"),s("line.dash")),"fill"===c&&s("fill.outlinecolor"),"symbol"===c&&(s("symbol.icon"),s("symbol.iconsize"),s("symbol.text"),I.coerceFont(s,"symbol.textfont"),s("symbol.textposition"),s("symbol.placement"))}}oe.exports=function(u,i,s){E(u,i,s,{type:"mapbox",attributes:S,handleDefaults:M,partition:"y",accessToken:i._mapboxAccessToken})}},10481:function(oe,j,r){"use strict";var I=r(44517),E=r(71828),f=r(41327),S=r(73972),M=r(89298),y=r(28569),u=r(30211),i=r(64505),s=i.drawMode,a=i.selectMode,o=r(47322).prepSelect,l=r(47322).clearOutline,c=r(47322).clearSelectionsCache,h=r(47322).selectOnClick,v=r(77734),p=r(67911);function T(A,m){this.id=m,this.gd=A;var C=A._fullLayout,k=A._context;this.container=C._glcontainer.node(),this.isStatic=k.staticPlot,this.uid=C._uid+"-"+this.id,this.div=null,this.xaxis=null,this.yaxis=null,this.createFramework(C),this.map=null,this.accessToken=null,this.styleObj=null,this.traceHash={},this.layerList=[],this.belowLookup={},this.dragging=!1,this.wheeling=!1}var _=T.prototype;_.plot=function(A,m,C){var k,P=this;P.map&&m[P.id].accesstoken!==P.accessToken&&(P.map.remove(),P.map=null,P.styleObj=null,P.traceHash={},P.layerList=[]),k=new Promise(P.map?function(L,N){P.updateMap(A,m,L,N)}:function(L,N){P.createMap(A,m,L,N)}),C.push(k)},_.createMap=function(A,m,C,k){var P=this,R=m[P.id],L=P.styleObj=w(R.style);P.accessToken=R.accesstoken;var N=R.bounds,B=N?[[N.west,N.south],[N.east,N.north]]:null,J=P.map=new I.Map({container:P.div,style:L.style,center:b(R.center),zoom:R.zoom,bearing:R.bearing,pitch:R.pitch,maxBounds:B,interactive:!P.isStatic,preserveDrawingBuffer:P.isStatic,doubleClickZoom:!1,boxZoom:!1,attributionControl:!1}).addControl(new I.AttributionControl({compact:!0}));J._canvas.style.left="0px",J._canvas.style.top="0px",P.rejectOnError(k),P.isStatic||P.initFx(A,m);var z=[];z.push(new Promise(function(Y){J.once("load",Y)})),z=z.concat(f.fetchTraceGeoData(A)),Promise.all(z).then(function(){P.fillBelowLookup(A,m),P.updateData(A),P.updateLayout(m),P.resolveOnRender(C)}).catch(k)},_.updateMap=function(A,m,C,k){var P=this,R=P.map,L=m[this.id];P.rejectOnError(k);var N=[],B=w(L.style);JSON.stringify(P.styleObj)!==JSON.stringify(B)&&(P.styleObj=B,R.setStyle(B.style),P.traceHash={},N.push(new Promise(function(J){R.once("styledata",J)}))),N=N.concat(f.fetchTraceGeoData(A)),Promise.all(N).then(function(){P.fillBelowLookup(A,m),P.updateData(A),P.updateLayout(m),P.resolveOnRender(C)}).catch(k)},_.fillBelowLookup=function(A,m){var C,k,P=m[this.id].layers,R=this.belowLookup={},L=!1;for(C=0;C<A.length;C++){var N=A[C][0].trace,B=N._module;"string"==typeof N.below?k=N.below:B.getBelow&&(k=B.getBelow(N,this)),""===k&&(L=!0),R["trace-"+N.uid]=k||""}for(C=0;C<P.length;C++){var J=P[C];R["layout-"+C]=k="string"==typeof J.below?J.below:L?"traces":""}var z,Y,q={};for(z in R)q[k=R[z]]?q[k].push(z):q[k]=[z];for(k in q){var U=q[k];if(U.length>1)for(C=0;C<U.length;C++)0===(z=U[C]).indexOf("trace-")?(Y=z.split("trace-")[1],this.traceHash[Y]&&(this.traceHash[Y].below=null)):0===z.indexOf("layout-")&&(Y=z.split("layout-")[1],this.layerList[Y]&&(this.layerList[Y].below=null))}};var g={choroplethmapbox:0,densitymapbox:1,scattermapbox:2};function w(A){var m={};return E.isPlainObject(A)?(m.id=A.id,m.style=A):"string"==typeof A?(m.id=A,m.style=-1!==v.styleValuesMapbox.indexOf(A)?x(A):v.stylesNonMapbox[A]?v.stylesNonMapbox[A]:A):(m.id=v.styleValueDflt,m.style=x(v.styleValueDflt)),m.transition={duration:0,delay:0},m}function x(A){return v.styleUrlPrefix+A+"-"+v.styleUrlSuffix}function b(A){return[A.lon,A.lat]}_.updateData=function(A){var m,C,k,P,R=this.traceHash,L=A.slice().sort(function(Y,q){return g[Y[0].trace.type]-g[q[0].trace.type]});for(k=0;k<L.length;k++){var N=L[k],B=!1;(m=R[(C=N[0].trace).uid])&&(m.type===C.type?(m.update(N),B=!0):m.dispose()),!B&&C._module&&(R[C.uid]=C._module.plot(this,N))}var J=Object.keys(R);e:for(k=0;k<J.length;k++){var z=J[k];for(P=0;P<A.length;P++)if(z===(C=A[P][0].trace).uid)continue e;(m=R[z]).dispose(),delete R[z]}},_.updateLayout=function(A){var m=this.map,C=A[this.id];this.dragging||this.wheeling||(m.setCenter(b(C.center)),m.setZoom(C.zoom),m.setBearing(C.bearing),m.setPitch(C.pitch)),this.updateLayers(A),this.updateFramework(A),this.updateFx(A),this.map.resize(),this.gd._context._scrollZoom.mapbox?m.scrollZoom.enable():m.scrollZoom.disable()},_.resolveOnRender=function(A){var m=this.map;m.on("render",function C(){m.loaded()&&(m.off("render",C),setTimeout(A,10))})},_.rejectOnError=function(A){var m=this.map;function C(){A(new Error(v.mapOnErrorMsg))}m.once("error",C),m.once("style.error",C),m.once("source.error",C),m.once("tile.error",C),m.once("layer.error",C)},_.createFramework=function(A){var m=this,C=m.div=document.createElement("div");C.id=m.uid,C.style.position="absolute",m.container.appendChild(C),m.xaxis={_id:"x",c2p:function(k){return m.project(k).x}},m.yaxis={_id:"y",c2p:function(k){return m.project(k).y}},m.updateFramework(A),m.mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},M.setConvert(m.mockAxis,A)},_.initFx=function(A,m){var C=this,k=C.gd,P=C.map;function R(){u.loneUnhover(m._hoverlayer)}function L(){var N=C.getView();k.emit("plotly_relayouting",C.getViewEditsWithDerived(N))}P.on("moveend",function(N){if(C.map){var B=k._fullLayout;if(N.originalEvent||C.wheeling){var J=B[C.id];S.call("_storeDirectGUIEdit",k.layout,B._preGUI,C.getViewEdits(J));var z=C.getView();J._input.center=J.center=z.center,J._input.zoom=J.zoom=z.zoom,J._input.bearing=J.bearing=z.bearing,J._input.pitch=J.pitch=z.pitch,k.emit("plotly_relayout",C.getViewEditsWithDerived(z))}N.originalEvent&&"mouseup"===N.originalEvent.type?C.dragging=!1:C.wheeling&&(C.wheeling=!1),B._rehover&&B._rehover()}}),P.on("wheel",function(){C.wheeling=!0}),P.on("mousemove",function(N){var B=C.div.getBoundingClientRect(),J=[N.originalEvent.offsetX,N.originalEvent.offsetY];N.target.getBoundingClientRect=function(){return B},C.xaxis.p2c=function(){return P.unproject(J).lng},C.yaxis.p2c=function(){return P.unproject(J).lat},k._fullLayout._rehover=function(){k._fullLayout._hoversubplot===C.id&&k._fullLayout[C.id]&&u.hover(k,N,C.id)},u.hover(k,N,C.id),k._fullLayout._hoversubplot=C.id}),P.on("dragstart",function(){C.dragging=!0,R()}),P.on("zoomstart",R),P.on("mouseout",function(){k._fullLayout._hoversubplot=null}),P.on("drag",L),P.on("zoom",L),P.on("dblclick",function(){var N=k._fullLayout[C.id];S.call("_storeDirectGUIEdit",k.layout,k._fullLayout._preGUI,C.getViewEdits(N));var B=C.viewInitial;P.setCenter(b(B.center)),P.setZoom(B.zoom),P.setBearing(B.bearing),P.setPitch(B.pitch);var J=C.getView();N._input.center=N.center=J.center,N._input.zoom=N.zoom=J.zoom,N._input.bearing=N.bearing=J.bearing,N._input.pitch=N.pitch=J.pitch,k.emit("plotly_doubleclick",null),k.emit("plotly_relayout",C.getViewEditsWithDerived(J))}),C.clearOutline=function(){c(C.dragOptions),l(C.dragOptions.gd)},C.onClickInPanFn=function(N){return function(B){var J=k._fullLayout.clickmode;J.indexOf("select")>-1&&h(B.originalEvent,k,[C.xaxis],[C.yaxis],C.id,N),J.indexOf("event")>-1&&u.click(k,B.originalEvent)}}},_.updateFx=function(A){var m=this,C=m.map;if(!m.isStatic){var R=A.dragmode;m.dragOptions=E.extendDeep(m.dragOptions||{},{dragmode:A.dragmode,element:m.div,gd:m.gd,plotinfo:{id:m.id,domain:A[m.id].domain,xaxis:m.xaxis,yaxis:m.yaxis,fillRangeItems:function(B,J){J.isRect?(B.range={})[m.id]=[N([J.xmin,J.ymin]),N([J.xmax,J.ymax])]:(B.lassoPoints={})[m.id]=J.map(N)}},xaxes:[m.xaxis],yaxes:[m.yaxis],subplot:m.id}),C.off("click",m.onClickInPanHandler),a(R)||s(R)?(C.dragPan.disable(),C.on("zoomstart",m.clearOutline),m.dragOptions.prepFn=function(B,J,z){o(B,J,z,m.dragOptions,R)},y.init(m.dragOptions)):(C.dragPan.enable(),C.off("zoomstart",m.clearOutline),m.div.onmousedown=null,m.div.ontouchstart=null,m.div.removeEventListener("touchstart",m.div._ontouchstart),m.onClickInPanHandler=m.onClickInPanFn(m.dragOptions),C.on("click",m.onClickInPanHandler))}function N(B){var J=m.map.unproject(B);return[J.lng,J.lat]}},_.updateFramework=function(A){var m=A[this.id].domain,C=A._size,k=this.div.style;k.width=C.w*(m.x[1]-m.x[0])+"px",k.height=C.h*(m.y[1]-m.y[0])+"px",k.left=C.l+m.x[0]*C.w+"px",k.top=C.t+(1-m.y[1])*C.h+"px",this.xaxis._offset=C.l+m.x[0]*C.w,this.xaxis._length=C.w*(m.x[1]-m.x[0]),this.yaxis._offset=C.t+(1-m.y[1])*C.h,this.yaxis._length=C.h*(m.y[1]-m.y[0])},_.updateLayers=function(A){var m,C=A[this.id].layers,k=this.layerList;if(C.length!==k.length){for(m=0;m<k.length;m++)k[m].dispose();for(k=this.layerList=[],m=0;m<C.length;m++)k.push(p(this,m,C[m]))}else for(m=0;m<C.length;m++)k[m].update(C[m])},_.destroy=function(){this.map&&(this.map.remove(),this.map=null,this.container.removeChild(this.div))},_.toImage=function(){return this.map.stop(),this.map.getCanvas().toDataURL()},_.setOptions=function(A,m,C){for(var k in C)this.map[m](A,k,C[k])},_.getMapLayers=function(){return this.map.getStyle().layers},_.addLayer=function(A,m){var C=this.map;if("string"==typeof m){if(""===m)return void C.addLayer(A,m);for(var k=this.getMapLayers(),P=0;P<k.length;P++)if(m===k[P].id)return void C.addLayer(A,m);E.warn(["Trying to add layer with *below* value",m,"referencing a layer that does not exist","or that does not yet exist."].join(" "))}C.addLayer(A)},_.project=function(A){return this.map.project(new I.LngLat(A[0],A[1]))},_.getView=function(){var A=this.map,m=A.getCenter(),C={lon:m.lng,lat:m.lat},k=A.getCanvas(),P=parseInt(k.style.width),R=parseInt(k.style.height);return{center:C,zoom:A.getZoom(),bearing:A.getBearing(),pitch:A.getPitch(),_derived:{coordinates:[A.unproject([0,0]).toArray(),A.unproject([P,0]).toArray(),A.unproject([P,R]).toArray(),A.unproject([0,R]).toArray()]}}},_.getViewEdits=function(A){for(var m=this.id,C=["center","zoom","bearing","pitch"],k={},P=0;P<C.length;P++){var R=C[P];k[m+"."+R]=A[R]}return k},_.getViewEditsWithDerived=function(A){var m=this.id,C=this.getViewEdits(A);return C[m+"._derived"]=A._derived,C},oe.exports=T},35025:function(oe){"use strict";oe.exports=function(j){var r=j.editType;return{t:{valType:"number",dflt:0,editType:r},r:{valType:"number",dflt:0,editType:r},b:{valType:"number",dflt:0,editType:r},l:{valType:"number",dflt:0,editType:r},editType:r}}},74875:function(oe,j,r){"use strict";var I=r(39898),E=r(84096).Dq,f=r(60721).FF,S=r(92770),M=r(73972),y=r(86281),u=r(44467),i=r(71828),s=r(7901),a=r(50606).BADNUM,o=r(41675),l=r(51873).clearOutline,c=r(21479),h=r(85594),v=r(31391),p=r(27659).a0,T=i.relinkPrivateKeys,_=i._,g=oe.exports={};i.extendFlat(g,M),g.attributes=r(9012),g.attributes.type.values=g.allTypes,g.fontAttrs=r(41940),g.layoutAttributes=r(10820),g.fontWeight="normal";var w=g.transformsRegistry,x=r(31137);g.executeAPICommand=x.executeAPICommand,g.computeAPICommandBindings=x.computeAPICommandBindings,g.manageCommandObserver=x.manageCommandObserver,g.hasSimpleAPICommandBindings=x.hasSimpleAPICommandBindings,g.redrawText=function(q){return q=i.getGraphDiv(q),new Promise(function(U){setTimeout(function(){q._fullLayout&&(M.getComponentMethod("annotations","draw")(q),M.getComponentMethod("legend","draw")(q),M.getComponentMethod("colorbar","draw")(q),U(g.previousPromises(q)))},300)})},g.resize=function(q){var U;q=i.getGraphDiv(q);var Z=new Promise(function(X,se){q&&!i.isHidden(q)||se(new Error("Resize must be passed a displayed plot div element.")),q._redrawTimer&&clearTimeout(q._redrawTimer),q._resolveResize&&(U=q._resolveResize),q._resolveResize=X,q._redrawTimer=setTimeout(function(){if(!q.layout||q.layout.width&&q.layout.height||i.isHidden(q))X(q);else{delete q.layout.width,delete q.layout.height;var re=q.changed;q.autoplay=!0,M.call("relayout",q,{autosize:!0}).then(function(){q.changed=re,q._resolveResize===X&&(delete q._resolveResize,X(q))})}},100)});return U&&U(Z),Z},g.previousPromises=function(q){if((q._promises||[]).length)return Promise.all(q._promises).then(function(){q._promises=[]})},g.addLinks=function(q){if(q._context.showLink||q._context.showSources){var U=q._fullLayout,Z=i.ensureSingle(U._paper,"text","js-plot-link-container",function(ne){ne.style({"font-family":'"Open Sans", Arial, sans-serif',"font-size":"12px",fill:s.defaultLine,"pointer-events":"all"}).each(function(){var ae=I.select(this);ae.append("tspan").classed("js-link-to-tool",!0),ae.append("tspan").classed("js-link-spacer",!0),ae.append("tspan").classed("js-sourcelinks",!0)})}),X=Z.node(),se={y:U._paper.attr("height")-9};document.body.contains(X)&&X.getComputedTextLength()>=U.width-20?(se["text-anchor"]="start",se.x=5):(se["text-anchor"]="end",se.x=U._paper.attr("width")-7),Z.attr(se);var re=Z.select(".js-link-to-tool"),ee=Z.select(".js-link-spacer"),K=Z.select(".js-sourcelinks");q._context.showSources&&q._context.showSources(q),q._context.showLink&&function(ne,ae){ae.text("");var ue=ae.append("a").attr({"xlink:xlink:href":"#",class:"link--impt link--embedview","font-weight":"bold"}).text(ne._context.linkText+" "+String.fromCharCode(187));if(ne._context.sendData)ue.on("click",function(){g.sendDataToCloud(ne)});else{var he=window.location.pathname.split("/"),pe=window.location.search;ue.attr({"xlink:xlink:show":"new","xlink:xlink:href":"/"+he[2].split(".")[0]+"/"+he[1]+pe})}}(q,re),ee.text(re.text()&&K.text()?" - ":"")}},g.sendDataToCloud=function(q){var U=(window.PLOTLYENV||{}).BASE_URL||q._context.plotlyServerURL;if(U){q.emit("plotly_beforeexport");var Z=I.select(q).append("div").attr("id","hiddenform").style("display","none"),X=Z.append("form").attr({action:U+"/external",method:"post",target:"_blank"});return X.append("input").attr({type:"text",name:"data"}).node().value=g.graphJson(q,!1,"keepdata"),X.node().submit(),Z.remove(),q.emit("plotly_afterexport"),!1}};var b=["days","shortDays","months","shortMonths","periods","dateTime","date","time","decimal","thousands","grouping","currency"],A=["year","month","dayMonth","dayMonthYear"];function m(q,U){var Z=q._context.locale;Z||(Z="en-US");var X=!1,se={};function re(he){for(var pe=!0,ge=0;ge<U.length;ge++){var xe=U[ge];se[xe]||(he[xe]?se[xe]=he[xe]:pe=!1)}pe&&(X=!0)}for(var ee=0;ee<2;ee++){for(var K=q._context.locales,ne=0;ne<2;ne++){var ae=(K[Z]||{}).format;if(ae&&(re(ae),X))break;K=M.localeRegistry}var ue=Z.split("-")[0];if(X||ue===Z)break;Z=ue}return X||re(M.localeRegistry.en.format),se}function C(q,U){var Z={_fullLayout:U},X="x"===q._id.charAt(0),se=q._mainAxis._anchorAxis,re="",ee="",K="";if(se&&(K=se._mainAxis._id,re=X?q._id+K:K+q._id),!re||!U._plots[re]){re="";for(var ne=q._counterAxes,ae=0;ae<ne.length;ae++){var ue=ne[ae],he=X?q._id+ue:ue+q._id;ee||(ee=he);var pe=o.getFromId(Z,ue);if(K&&pe.overlaying===K){re=he;break}}}return re||ee}function k(q){var U=q.transforms;if(Array.isArray(U)&&U.length)for(var Z=0;Z<U.length;Z++){var X=U[Z],se=X._module||w[X.type];if(se&&se.makesData)return!0}return!1}function P(q,U,Z,X){for(var se=q.transforms,re=[q],ee=0;ee<se.length;ee++){var K=se[ee],ne=w[K.type];ne&&ne.transform&&(re=ne.transform(re,{transform:K,fullTrace:q,fullData:U,layout:Z,fullLayout:X,transformIndex:ee}))}return re}function R(q){return"string"==typeof q&&"px"===q.substr(q.length-2)&&parseFloat(q)}function L(q){var U=q.margin;if(!q._size){var Z=q._size={l:Math.round(U.l),r:Math.round(U.r),t:Math.round(U.t),b:Math.round(U.b),p:Math.round(U.pad)};Z.w=Math.round(q.width)-Z.l-Z.r,Z.h=Math.round(q.height)-Z.t-Z.b}q._pushmargin||(q._pushmargin={}),q._pushmarginIds||(q._pushmarginIds={}),q._reservedMargin||(q._reservedMargin={})}g.supplyDefaults=function(q,U){var We,Ge,Z=U&&U.skipUpdateCalc,X=q._fullLayout||{};if(X._skipDefaults)delete X._skipDefaults;else{var se,re=q._fullLayout={},ee=q.layout||{},K=q._fullData||[],ne=q._fullData=[],ae=q.data||[],ue=q.calcdata||[],he=q._context||{};q._transitionData||g.createTransitionData(q),re._dfltTitle={plot:_(q,"Click to enter Plot title"),x:_(q,"Click to enter X axis title"),y:_(q,"Click to enter Y axis title"),colorbar:_(q,"Click to enter Colorscale title"),annotation:_(q,"new text")},re._traceWord=_(q,"trace");var pe=m(q,b);if(re._mapboxAccessToken=he.mapboxAccessToken,X._initialAutoSizeIsDone){var ge=X.width,xe=X.height;g.supplyLayoutGlobalDefaults(ee,re,pe),ee.width||(re.width=ge),ee.height||(re.height=xe),g.sanitizeMargins(re)}else{g.supplyLayoutGlobalDefaults(ee,re,pe);var Se=!ee.width||!ee.height,Te=re.autosize;Se&&(Te||he.autosizable)?g.plotAutoSize(q,ee,re):Se&&g.sanitizeMargins(re),!Te&&Se&&(ee.width=re.width,ee.height=re.height)}re._d3locale=((We=pe).decimal=(Ge=re.separators).charAt(0),We.thousands=Ge.charAt(1),{numberFormat:function(Ke){try{Ke=f(We).format(i.adjustFormat(Ke))}catch{return i.warnBadFormat(Ke),i.noFormat}return Ke},timeFormat:E(We).utcFormat}),re._extraFormat=m(q,A),re._initialAutoSizeIsDone=!0,re._dataLength=ae.length,re._modules=[],re._visibleModules=[],re._basePlotModules=[];var we=re._subplots=function(){var We,Ge,Ke=M.collectableSubplotTypes,tt={};if(!Ke){Ke=[];var st=M.subplotsRegistry;for(var gt in st){var ct=st[gt].attr;if(ct&&(Ke.push(gt),Array.isArray(ct)))for(Ge=0;Ge<ct.length;Ge++)i.pushUnique(Ke,ct[Ge])}}for(We=0;We<Ke.length;We++)tt[Ke[We]]=[];return tt}(),ze=re._splomAxes={x:{},y:{}},ke=re._splomSubplots={};re._splomGridDflt={},re._scatterStackOpts={},re._firstScatter={},re._alignmentOpts={},re._colorAxes={},re._requestRangeslider={},re._traceUids=function(We,Ge){var Ke,tt,st=Ge.length,gt=[];for(Ke=0;Ke<We.length;Ke++){var ct=We[Ke]._fullInput;ct!==tt&&gt.push(ct),tt=ct}var kt=gt.length,Dt=new Array(st),vt={};function mt(Rt,Ut){Dt[Ut]=Rt,vt[Rt]=1}function Et(Rt,Ut){if(Rt&&"string"==typeof Rt&&!vt[Rt])return mt(Rt,Ut),!0}for(Ke=0;Ke<st;Ke++){var Lt=Ge[Ke].uid;"number"==typeof Lt&&(Lt=String(Lt)),Et(Lt,Ke)||Ke<kt&&Et(gt[Ke].uid,Ke)||mt(i.randstr(vt),Ke)}return Dt}(K,ae),re._globalTransforms=(q._context||{}).globalTransforms,g.supplyDataDefaults(ae,ne,ee,re);var Ee=Object.keys(ze.x),me=Object.keys(ze.y);if(Ee.length>1&&me.length>1){for(M.getComponentMethod("grid","sizeDefaults")(ee,re),se=0;se<Ee.length;se++)i.pushUnique(we.xaxis,Ee[se]);for(se=0;se<me.length;se++)i.pushUnique(we.yaxis,me[se]);for(var de in ke)i.pushUnique(we.cartesian,de)}if(re._has=g._hasPlotType.bind(re),K.length===ne.length)for(se=0;se<ne.length;se++)T(ne[se],K[se]);g.supplyLayoutModuleDefaults(ee,re,ne,q._transitionData);var ce=re._visibleModules,Ae=[];for(se=0;se<ce.length;se++){var Ne=ce[se].crossTraceDefaults;Ne&&i.pushUnique(Ae,Ne)}for(se=0;se<Ae.length;se++)Ae[se](ne,re);re._hasOnlyLargeSploms=1===re._basePlotModules.length&&"splom"===re._basePlotModules[0].name&&Ee.length>15&&me.length>15&&0===re.shapes.length&&0===re.images.length,g.linkSubplots(ne,re,K,X),g.cleanPlot(ne,re,K,X);var De=!(!X._has||!X._has("gl2d")),Ue=!(!re._has||!re._has("gl2d")),Ye=!(!X._has||!X._has("cartesian"))||De,_e=!(!re._has||!re._has("cartesian"))||Ue;Ye&&!_e?X._bgLayer.remove():_e&&!Ye&&(re._shouldCreateBgLayer=!0),X._zoomlayer&&!q._dragging&&l({_fullLayout:X}),function(We,Ge){var Ke,tt=[];Ge.meta&&(Ke=Ge._meta={meta:Ge.meta,layout:{meta:Ge.meta}});for(var st=0;st<We.length;st++){var gt=We[st];gt.meta?tt[gt.index]=gt._meta={meta:gt.meta}:Ge.meta&&(gt._meta={meta:Ge.meta}),Ge.meta&&(gt._meta.layout={meta:Ge.meta})}tt.length&&(Ke||(Ke=Ge._meta={}),Ke.data=tt)}(ne,re),T(re,X),M.getComponentMethod("colorscale","crossTraceDefaults")(ne,re),re._preGUI||(re._preGUI={}),re._tracePreGUI||(re._tracePreGUI={});var Pe,Ie=re._tracePreGUI,Be={};for(Pe in Ie)Be[Pe]="old";for(se=0;se<ne.length;se++)Be[Pe=ne[se]._fullInput.uid]||(Ie[Pe]={}),Be[Pe]="new";for(Pe in Be)"old"===Be[Pe]&&delete Ie[Pe];L(re),M.getComponentMethod("rangeslider","makeData")(re),Z||ue.length!==ne.length||g.supplyDefaultsUpdateCalc(ue,ne)}},g.supplyDefaultsUpdateCalc=function(q,U){for(var Z=0;Z<U.length;Z++){var X=U[Z],se=(q[Z]||[])[0];if(se&&se.trace){var re=se.trace;if(re._hasCalcTransform){var ee,K,ne,ae=re._arrayAttrs;for(ee=0;ee<ae.length;ee++)ne=i.nestedProperty(re,K=ae[ee]).get().slice(),i.nestedProperty(X,K).set(ne)}se.trace=X}}},g.createTransitionData=function(q){q._transitionData||(q._transitionData={}),q._transitionData._frames||(q._transitionData._frames=[]),q._transitionData._frameHash||(q._transitionData._frameHash={}),q._transitionData._counter||(q._transitionData._counter=0),q._transitionData._interruptCallbacks||(q._transitionData._interruptCallbacks=[])},g._hasPlotType=function(q){var U,Z=this._basePlotModules||[];for(U=0;U<Z.length;U++)if(Z[U].name===q)return!0;var X=this._modules||[];for(U=0;U<X.length;U++){var se=X[U].name;if(se===q)return!0;var re=M.modules[se];if(re&&re.categories[q])return!0}return!1},g.cleanPlot=function(q,U,Z,X){var se,re,ee=X._basePlotModules||[];for(se=0;se<ee.length;se++){var K=ee[se];K.clean&&K.clean(q,U,Z,X)}var ne=X._has&&X._has("gl"),ae=U._has&&U._has("gl");ne&&!ae&&void 0!==X._glcontainer&&(X._glcontainer.selectAll(".gl-canvas").remove(),X._glcontainer.selectAll(".no-webgl").remove(),X._glcanvas=null);var ue=!!X._infolayer;e:for(se=0;se<Z.length;se++){var he=Z[se].uid;for(re=0;re<q.length;re++)if(he===q[re].uid)continue e;ue&&X._infolayer.select(".cb"+he).remove()}},g.linkSubplots=function(q,U,Z,X){var se,re,ee=X._plots||{},K=U._plots={},ne=U._subplots,ae={_fullData:q,_fullLayout:U},ue=ne.cartesian.concat(ne.gl2d||[]);for(se=0;se<ue.length;se++){var he,pe=ue[se],ge=ee[pe],xe=o.getFromId(ae,pe,"x"),Se=o.getFromId(ae,pe,"y");for(ge?he=K[pe]=ge:(he=K[pe]={}).id=pe,xe._counterAxes.push(Se._id),Se._counterAxes.push(xe._id),xe._subplotsWith.push(pe),Se._subplotsWith.push(pe),he.xaxis=xe,he.yaxis=Se,he._hasClipOnAxisFalse=!1,re=0;re<q.length;re++){var Te=q[re];if(Te.xaxis===he.xaxis._id&&Te.yaxis===he.yaxis._id&&!1===Te.cliponaxis){he._hasClipOnAxisFalse=!0;break}}}var ye,we=o.list(ae,null,!0);for(se=0;se<we.length;se++){var ze=null;(ye=we[se]).overlaying&&(ze=o.getFromId(ae,ye.overlaying))&&ze.overlaying&&(ye.overlaying=!1,ze=null),ye._mainAxis=ze||ye,ze&&(ye.domain=ze.domain.slice()),ye._anchorAxis="free"===ye.anchor?null:o.getFromId(ae,ye.anchor)}for(se=0;se<we.length;se++)if((ye=we[se])._counterAxes.sort(o.idSort),ye._subplotsWith.sort(i.subplotSort),ye._mainSubplot=C(ye,U),ye._counterAxes.length&&(ye.spikemode&&-1!==ye.spikemode.indexOf("across")||ye.automargin&&ye.mirror&&"free"!==ye.anchor||M.getComponentMethod("rangeslider","isVisible")(ye))){var ke=1,Ee=0;for(re=0;re<ye._counterAxes.length;re++){var me=o.getFromId(ae,ye._counterAxes[re]);ke=Math.min(ke,me.domain[0]),Ee=Math.max(Ee,me.domain[1])}ke<Ee&&(ye._counterDomainMin=ke,ye._counterDomainMax=Ee)}},g.clearExpandedTraceDefaultColors=function(q){var U,Z,X;for(Z=[],(U=q._module._colorAttrs)||(q._module._colorAttrs=U=[],y.crawl(q._module.attributes,function(se,re,ee,K){Z[K]=re,Z.length=K+1,"color"===se.valType&&void 0===se.dflt&&U.push(Z.join("."))})),X=0;X<U.length;X++)i.nestedProperty(q,"_input."+U[X]).get()||i.nestedProperty(q,U[X]).set(null)},g.supplyDataDefaults=function(q,U,Z,X){var se,re,ee,K=X._modules,ne=X._visibleModules,ae=X._basePlotModules,ue=0,he=0;function pe(de){U.push(de);var ce=de._module;ce&&(i.pushUnique(K,ce),!0===de.visible&&i.pushUnique(ne,ce),i.pushUnique(ae,de._module.basePlotModule),ue++,!1!==de._input.visible&&he++)}X._transformModules=[];var ge={},xe=[],Te=u.traceTemplater((Z.template||{}).data||{});for(se=0;se<q.length;se++){if((re=Te.newTrace(ee=q[se])).uid=X._traceUids[se],g.supplyTraceDefaults(ee,re,he,X,se),re.index=se,re._input=ee,re._expandedIndex=ue,re.transforms&&re.transforms.length)for(var ye=!1!==ee.visible&&!1===re.visible,we=P(re,U,Z,X),ze=0;ze<we.length;ze++){var ke=we[ze],Ee={_template:re._template,type:re.type,uid:re.uid+ze};ye&&!1===ke.visible&&delete ke.visible,g.supplyTraceDefaults(ke,Ee,ue,X,se),T(Ee,ke),Ee.index=se,Ee._input=ee,Ee._fullInput=re,Ee._expandedIndex=ue,Ee._expandedInput=ke,pe(Ee)}else re._fullInput=re,re._expandedInput=re,pe(re);M.traceIs(re,"carpetAxis")&&(ge[re.carpet]=re),M.traceIs(re,"carpetDependent")&&xe.push(se)}for(se=0;se<xe.length;se++)if((re=U[xe[se]]).visible){var me=ge[re.carpet];re._carpet=me,me&&me.visible?(re.xaxis=me.xaxis,re.yaxis=me.yaxis):re.visible=!1}},g.supplyAnimationDefaults=function(q){var U;q=q||{};var Z={};function X(se,re){return i.coerce(q||{},Z,h,se,re)}if(X("mode"),X("direction"),X("fromcurrent"),Array.isArray(q.frame))for(Z.frame=[],U=0;U<q.frame.length;U++)Z.frame[U]=g.supplyAnimationFrameDefaults(q.frame[U]||{});else Z.frame=g.supplyAnimationFrameDefaults(q.frame||{});if(Array.isArray(q.transition))for(Z.transition=[],U=0;U<q.transition.length;U++)Z.transition[U]=g.supplyAnimationTransitionDefaults(q.transition[U]||{});else Z.transition=g.supplyAnimationTransitionDefaults(q.transition||{});return Z},g.supplyAnimationFrameDefaults=function(q){var U={};function Z(X,se){return i.coerce(q||{},U,h.frame,X,se)}return Z("duration"),Z("redraw"),U},g.supplyAnimationTransitionDefaults=function(q){var U={};function Z(X,se){return i.coerce(q||{},U,h.transition,X,se)}return Z("duration"),Z("easing"),U},g.supplyFrameDefaults=function(q){var U={};function Z(X,se){return i.coerce(q,U,v,X,se)}return Z("group"),Z("name"),Z("traces"),Z("baseframe"),Z("data"),Z("layout"),U},g.supplyTraceDefaults=function(q,U,Z,X,se){var re,ee=X.colorway||s.defaults,K=ee[Z%ee.length];function ne(we,ze){return i.coerce(q,U,g.attributes,we,ze)}var ae=ne("visible");ne("type"),ne("name",X._traceWord+" "+se),ne("uirevision",X.uirevision);var ue=g.getModule(U);if(U._module=ue,ue){var he=ue.basePlotModule,pe=he.attr,ge=he.attributes;if(pe&&ge){var xe=X._subplots,Se="";if(ae||"gl2d"!==he.name){if(Array.isArray(pe))for(re=0;re<pe.length;re++){var Te=pe[re],ye=i.coerce(q,U,ge,Te);xe[Te]&&i.pushUnique(xe[Te],ye),Se+=ye}else Se=i.coerce(q,U,ge,pe);xe[he.name]&&i.pushUnique(xe[he.name],Se)}}}return ae&&(ne("customdata"),ne("ids"),ne("meta"),M.traceIs(U,"showLegend")?(i.coerce(q,U,ue.attributes.showlegend?ue.attributes:g.attributes,"showlegend"),ne("legend"),ne("legendwidth"),ne("legendgroup"),ne("legendgrouptitle.text"),ne("legendrank"),U._dfltShowLegend=!0):U._dfltShowLegend=!1,ue&&ue.supplyDefaults(q,U,K,X),M.traceIs(U,"noOpacity")||ne("opacity"),M.traceIs(U,"notLegendIsolatable")&&(U.visible=!!U.visible),M.traceIs(U,"noHover")||(U.hovertemplate||i.coerceHoverinfo(q,U,X),"parcats"!==U.type&&M.getComponentMethod("fx","supplyDefaults")(q,U,K,X)),ue&&ue.selectPoints&&ne("selectedpoints"),g.supplyTransformDefaults(q,U,X)),U},g.hasMakesDataTransform=k,g.supplyTransformDefaults=function(q,U,Z){if(U._length||k(q)){var X=Z._globalTransforms||[],se=Z._transformModules||[];if(Array.isArray(q.transforms)||0!==X.length)for(var ee=X.concat(q.transforms||[]),K=U.transforms=[],ne=0;ne<ee.length;ne++){var ae,ue=ee[ne],he=ue.type,pe=w[he],ge=!(ue._module&&ue._module===pe),xe=pe&&"function"==typeof pe.transform;pe||i.warn("Unrecognized transform type "+he+"."),pe&&pe.supplyDefaults&&(ge||xe)?((ae=pe.supplyDefaults(ue,U,Z,q)).type=he,ae._module=pe,i.pushUnique(se,pe)):ae=i.extendFlat({},ue),K.push(ae)}}},g.supplyLayoutGlobalDefaults=function(q,U,Z){function X(ue,he){return i.coerce(q,U,g.layoutAttributes,ue,he)}var se=q.template;i.isPlainObject(se)&&(U.template=se,U._template=se.layout,U._dataTemplate=se.data),X("autotypenumbers");var re=i.coerceFont(X,"font");i.coerceFont(X,"title.font",i.extendFlat({},re,{size:Math.round(1.4*re.size)})),X("title.text",U._dfltTitle.plot),X("title.xref");var K=X("title.yref");X("title.pad.t"),X("title.pad.r"),X("title.pad.b"),X("title.pad.l");var ne=X("title.automargin");X("title.x"),X("title.xanchor"),X("title.y"),X("title.yanchor"),ne&&("paper"===K&&(0!==U.title.y&&(U.title.y=1),"auto"===U.title.yanchor&&(U.title.yanchor=0===U.title.y?"top":"bottom")),"container"===K&&("auto"===U.title.y&&(U.title.y=1),"auto"===U.title.yanchor&&(U.title.yanchor=U.title.y<.5?"bottom":"top"))),X("uniformtext.mode")&&X("uniformtext.minsize"),X("autosize",!(q.width&&q.height)),X("width"),X("height"),X("minreducedwidth"),X("minreducedheight"),X("margin.l"),X("margin.r"),X("margin.t"),X("margin.b"),X("margin.pad"),X("margin.autoexpand"),q.width&&q.height&&g.sanitizeMargins(U),M.getComponentMethod("grid","sizeDefaults")(q,U),X("paper_bgcolor"),X("separators",Z.decimal+Z.thousands),X("hidesources"),X("colorway"),X("datarevision");var ae=X("uirevision");X("editrevision",ae),X("selectionrevision",ae),M.getComponentMethod("modebar","supplyLayoutDefaults")(q,U),M.getComponentMethod("shapes","supplyDrawNewShapeDefaults")(q,U,X),M.getComponentMethod("selections","supplyDrawNewSelectionDefaults")(q,U,X),X("meta"),i.isPlainObject(q.transition)&&(X("transition.duration"),X("transition.easing"),X("transition.ordering")),M.getComponentMethod("calendars","handleDefaults")(q,U,"calendar"),M.getComponentMethod("fx","supplyLayoutGlobalDefaults")(q,U,X),i.coerce(q,U,c,"scattermode")},g.plotAutoSize=function(q,U,Z){var X,se,re=q._context||{},ee=re.frameMargins,K=i.isPlotDiv(q);if(K&&q.emit("plotly_autosize"),re.fillFrame)X=window.innerWidth,se=window.innerHeight,document.body.style.overflow="hidden";else{var ne=K?window.getComputedStyle(q):{};if(X=R(ne.width)||R(ne.maxWidth)||Z.width,se=R(ne.height)||R(ne.maxHeight)||Z.height,S(ee)&&ee>0){var ae=1-2*ee;X=Math.round(ae*X),se=Math.round(ae*se)}}var ue=g.layoutAttributes.width.min,he=g.layoutAttributes.height.min;X<ue&&(X=ue),se<he&&(se=he);var pe=!U.width&&Math.abs(Z.width-X)>1,ge=!U.height&&Math.abs(Z.height-se)>1;(ge||pe)&&(pe&&(Z.width=X),ge&&(Z.height=se)),q._initialAutoSize||(q._initialAutoSize={width:X,height:se}),g.sanitizeMargins(Z)},g.supplyLayoutModuleDefaults=function(q,U,Z,X){var se,re,ee,K=M.componentsRegistry,ne=U._basePlotModules,ae=M.subplotsRegistry.cartesian;for(se in K)(ee=K[se]).includeBasePlot&&ee.includeBasePlot(q,U);for(var ue in ne.length||ne.push(ae),U._has("cartesian")&&(M.getComponentMethod("grid","contentDefaults")(q,U),ae.finalizeSubplots(q,U)),U._subplots)U._subplots[ue].sort(i.subplotSort);for(re=0;re<ne.length;re++)(ee=ne[re]).supplyLayoutDefaults&&ee.supplyLayoutDefaults(q,U,Z);var he=U._modules;for(re=0;re<he.length;re++)(ee=he[re]).supplyLayoutDefaults&&ee.supplyLayoutDefaults(q,U,Z);var pe=U._transformModules;for(re=0;re<pe.length;re++)(ee=pe[re]).supplyLayoutDefaults&&ee.supplyLayoutDefaults(q,U,Z,X);for(se in K)(ee=K[se]).supplyLayoutDefaults&&ee.supplyLayoutDefaults(q,U,Z)},g.purge=function(q){var U=q._fullLayout||{};void 0!==U._glcontainer&&(U._glcontainer.selectAll(".gl-canvas").remove(),U._glcontainer.remove(),U._glcanvas=null),U._modeBar&&U._modeBar.destroy(),q._transitionData&&(q._transitionData._interruptCallbacks&&(q._transitionData._interruptCallbacks.length=0),q._transitionData._animationRaf&&window.cancelAnimationFrame(q._transitionData._animationRaf)),i.clearThrottle(),i.clearResponsive(q),delete q.data,delete q.layout,delete q._fullData,delete q._fullLayout,delete q.calcdata,delete q.empty,delete q.fid,delete q.undoqueue,delete q.undonum,delete q.autoplay,delete q.changed,delete q._promises,delete q._redrawTimer,delete q._hmlumcount,delete q._hmpixcount,delete q._transitionData,delete q._transitioning,delete q._initialAutoSize,delete q._transitioningWithDuration,delete q._dragging,delete q._dragged,delete q._dragdata,delete q._hoverdata,delete q._snapshotInProgress,delete q._editing,delete q._mouseDownTime,delete q._legendMouseDownTime,q.removeAllListeners&&q.removeAllListeners()},g.style=function(q){var U,Z=q._fullLayout._visibleModules,X=[];for(U=0;U<Z.length;U++){var se=Z[U];se.style&&i.pushUnique(X,se.style)}for(U=0;U<X.length;U++)X[U](q)},g.sanitizeMargins=function(q){if(q&&q.margin){var U,Z=q.width,X=q.height,se=q.margin,ee=X-(se.t+se.b);Z-(se.l+se.r)<0&&(U=(Z-1)/(se.l+se.r),se.l=Math.floor(U*se.l),se.r=Math.floor(U*se.r)),ee<0&&(U=(X-1)/(se.t+se.b),se.t=Math.floor(U*se.t),se.b=Math.floor(U*se.b))}},g.clearAutoMarginIds=function(q){q._fullLayout._pushmarginIds={}},g.allowAutoMargin=function(q,U){q._fullLayout._pushmarginIds[U]=1},g.autoMargin=function(q,U,Z){var X=q._fullLayout,se=X.width,re=X.height,ee=X.margin,ne=X.minreducedheight,ae=i.constrain(se-ee.l-ee.r,2,X.minreducedwidth),ue=i.constrain(re-ee.t-ee.b,2,ne),he=Math.max(0,se-ae),pe=Math.max(0,re-ue),ge=X._pushmargin,xe=X._pushmarginIds;if(!1!==ee.autoexpand){if(Z){var Se=Z.pad;if(void 0===Se&&(Se=Math.min(12,ee.l,ee.r,ee.t,ee.b)),he){var Te=(Z.l+Z.r)/he;Te>1&&(Z.l/=Te,Z.r/=Te)}if(pe){var ye=(Z.t+Z.b)/pe;ye>1&&(Z.t/=ye,Z.b/=ye)}ge[U]={l:{val:void 0!==Z.xl?Z.xl:Z.x,size:Z.l+Se},r:{val:void 0!==Z.xr?Z.xr:Z.x,size:Z.r+Se},b:{val:void 0!==Z.yb?Z.yb:Z.y,size:Z.b+Se},t:{val:void 0!==Z.yt?Z.yt:Z.y,size:Z.t+Se}},xe[U]=1}else delete ge[U],delete xe[U];if(!X._replotting)return g.doAutoMargin(q)}},g.doAutoMargin=function(q){var U=q._fullLayout,Z=U.width,X=U.height;U._size||(U._size={}),L(U);var se=U._size,re=U.margin,ee={t:0,b:0,l:0,r:0},K=i.extendFlat({},se),ne=re.l,ae=re.r,ue=re.t,he=re.b,pe=U._pushmargin,ge=U._pushmarginIds,xe=U.minreducedwidth,Se=U.minreducedheight;if(!1!==re.autoexpand){for(var Te in pe)ge[Te]||delete pe[Te];var ye=q._fullLayout._reservedMargin;for(var we in ye)for(var ze in ye[we])ee[ze]=Math.max(ee[ze],ye[we][ze]);for(var Ee in pe.base={l:{val:0,size:ne},r:{val:1,size:ae},t:{val:1,size:ue},b:{val:0,size:he}},ee){var me=0;for(var de in pe)"base"!==de&&S(pe[de][Ee].size)&&(me=pe[de][Ee].size>me?pe[de][Ee].size:me);var ce=Math.max(0,re[Ee]-me);ee[Ee]=Math.max(0,ee[Ee]-ce)}for(var Ae in pe){var Ne=pe[Ae].l||{},De=pe[Ae].b||{},Ue=Ne.val,Ye=Ne.size,_e=De.val,Pe=De.size,Ie=Z-ee.r-ee.l,Be=X-ee.t-ee.b;for(var We in pe){if(S(Ye)&&pe[We].r){var Ge=pe[We].r.val,Ke=pe[We].r.size;if(Ge>Ue){var tt=(Ye*Ge+(Ke-Ie)*Ue)/(Ge-Ue),st=(Ke*(1-Ue)+(Ye-Ie)*(1-Ge))/(Ge-Ue);tt+st>ne+ae&&(ne=tt,ae=st)}}if(S(Pe)&&pe[We].t){var gt=pe[We].t.val,ct=pe[We].t.size;if(gt>_e){var kt=(Pe*gt+(ct-Be)*_e)/(gt-_e),Dt=(ct*(1-_e)+(Pe-Be)*(1-gt))/(gt-_e);kt+Dt>he+ue&&(he=kt,ue=Dt)}}}}}var ot,vt=i.constrain(Z-re.l-re.r,2,xe),mt=i.constrain(X-re.t-re.b,2,Se),Et=Math.max(0,Z-vt),Lt=Math.max(0,X-mt);if(Et){var Rt=(ne+ae)/Et;Rt>1&&(ne/=Rt,ae/=Rt)}if(Lt){var Ut=(he+ue)/Lt;Ut>1&&(he/=Ut,ue/=Ut)}if(se.l=Math.round(ne)+ee.l,se.r=Math.round(ae)+ee.r,se.t=Math.round(ue)+ee.t,se.b=Math.round(he)+ee.b,se.p=Math.round(re.pad),se.w=Math.round(Z)-se.l-se.r,se.h=Math.round(X)-se.t-se.b,!U._replotting&&(g.didMarginChange(K,se)||function(rt){if("_redrawFromAutoMarginCount"in rt._fullLayout)return!1;var ot=o.list(rt,"",!0);for(var Je in ot)if(ot[Je].autoshift||ot[Je].shift)return!0;return!1}(q))){"_redrawFromAutoMarginCount"in U?U._redrawFromAutoMarginCount++:U._redrawFromAutoMarginCount=1;var Bt=3*(1+Object.keys(ge).length);if(U._redrawFromAutoMarginCount<Bt)return M.call("_doPlot",q);U._size=K,i.warn("Too many auto-margin redraws.")}ot=o.list(q,"",!0),["_adjustTickLabelsOverflow","_hideCounterAxisInsideTickLabels"].forEach(function(Je){for(var it=0;it<ot.length;it++){var dt=ot[it][Je];dt&&dt()}})};var N=["l","r","t","b","p","w","h"];function B(q,U,Z){var X=!1,re=i.syncOrAsync([g.previousPromises,function(){if(q._transitionData)return q._transitioning=!1,function(ee){var K=Promise.resolve();if(!ee)return K;for(;ee.length;)K=K.then(ee.shift());return K}(q._transitionData._interruptCallbacks)},Z.prepareFn,g.rehover,g.reselect,function(){return q.emit("plotly_transitioning",[]),new Promise(function(ee){q._transitioning=!0,U.duration>0&&(q._transitioningWithDuration=!0),q._transitionData._interruptCallbacks.push(function(){X=!0}),Z.redraw&&q._transitionData._interruptCallbacks.push(function(){return M.call("redraw",q)}),q._transitionData._interruptCallbacks.push(function(){q.emit("plotly_transitioninterrupted",[])});var K=0,ne=0;function ae(){return K++,function(){var ue;ne++,X||ne!==K||(ue=ee,q._transitionData&&(function(he){if(he)for(;he.length;)he.shift()}(q._transitionData._interruptCallbacks),Promise.resolve().then(function(){if(Z.redraw)return M.call("redraw",q)}).then(function(){q._transitioning=!1,q._transitioningWithDuration=!1,q.emit("plotly_transitioned",[])}).then(ue)))}}Z.runFn(ae),setTimeout(ae())})}],q);return re&&re.then||(re=Promise.resolve()),re.then(function(){return q})}g.didMarginChange=function(q,U){for(var Z=0;Z<N.length;Z++){var X=N[Z],se=q[X],re=U[X];if(!S(se)||Math.abs(re-se)>1)return!0}return!1},g.graphJson=function(q,U,Z,X,se,re){(se&&U&&!q._fullData||se&&!U&&!q._fullLayout)&&g.supplyDefaults(q);var K=se?q._fullLayout:q.layout,ne=(q._transitionData||{})._frames;function ae(pe,ge){if("function"==typeof pe)return ge?"_function_":null;if(i.isPlainObject(pe)){var xe,Se={};return Object.keys(pe).sort().forEach(function(Te){if(-1===["_","["].indexOf(Te.charAt(0)))if("function"!=typeof pe[Te]){if("keepdata"===Z){if("src"===Te.substr(Te.length-3))return}else if("keepstream"===Z){if("string"==typeof(xe=pe[Te+"src"])&&xe.indexOf(":")>0&&!i.isPlainObject(pe.stream))return}else if("keepall"!==Z&&"string"==typeof(xe=pe[Te+"src"])&&xe.indexOf(":")>0)return;Se[Te]=ae(pe[Te],ge)}else ge&&(Se[Te]="_function")}),Se}return Array.isArray(pe)?pe.map(function(Te){return ae(Te,ge)}):i.isTypedArray(pe)?i.simpleMap(pe,i.identity):i.isJSDate(pe)?i.ms2DateTimeLocal(+pe):pe}var ue={data:((se?q._fullData:q.data)||[]).map(function(pe){var ge=ae(pe);return U&&delete ge.fit,ge})};if(!U&&(ue.layout=ae(K),se)){var he=K._size;ue.layout.computed={margin:{b:he.b,l:he.l,r:he.r,t:he.t}}}return ne&&(ue.frames=ae(ne)),re&&(ue.config=ae(q._context,!0)),"object"===X?ue:JSON.stringify(ue)},g.modifyFrames=function(q,U){var Z,X,se,re=q._transitionData._frames,ee=q._transitionData._frameHash;for(Z=0;Z<U.length;Z++)switch((X=U[Z]).type){case"replace":var K=(re[X.index]||{}).name,ne=(se=X.value).name;re[X.index]=ee[ne]=se,ne!==K&&(delete ee[K],ee[ne]=se);break;case"insert":ee[(se=X.value).name]=se,re.splice(X.index,0,se);break;case"delete":delete ee[(se=re[X.index]).name],re.splice(X.index,1)}return Promise.resolve()},g.computeFrame=function(q,U){var Z,X,se,re,ee=q._transitionData._frameHash;if(!U)throw new Error("computeFrame must be given a string frame name");var K=ee[U.toString()];if(!K)return!1;for(var ne=[K],ae=[K.name];K.baseframe&&(K=ee[K.baseframe.toString()])&&-1===ae.indexOf(K.name);)ne.push(K),ae.push(K.name);for(var ue={};K=ne.pop();)if(K.layout&&(ue.layout=g.extendLayout(ue.layout,K.layout)),K.data){if(ue.data||(ue.data=[]),!(X=K.traces))for(X=[],Z=0;Z<K.data.length;Z++)X[Z]=Z;for(ue.traces||(ue.traces=[]),Z=0;Z<K.data.length;Z++)null!=(se=X[Z])&&(-1===(re=ue.traces.indexOf(se))&&(ue.traces[re=ue.data.length]=se),ue.data[re]=g.extendTrace(ue.data[re],K.data[Z]))}return ue},g.recomputeFrameHash=function(q){for(var U=q._transitionData._frameHash={},Z=q._transitionData._frames,X=0;X<Z.length;X++){var se=Z[X];se&&se.name&&(U[se.name]=se)}},g.extendObjectWithContainers=function(q,U,Z){var X,se,re,ee,K,ne,ae,ue=i.extendDeepNoArrays({},U||{}),he=i.expandObjectPaths(ue),pe={};if(Z&&Z.length)for(re=0;re<Z.length;re++)void 0===(se=(X=i.nestedProperty(he,Z[re])).get())?i.nestedProperty(pe,Z[re]).set(null):(X.set(null),i.nestedProperty(pe,Z[re]).set(se));if(q=i.extendDeepNoArrays(q||{},he),Z&&Z.length)for(re=0;re<Z.length;re++)if(ne=i.nestedProperty(pe,Z[re]).get()){for(ae=(K=i.nestedProperty(q,Z[re])).get(),Array.isArray(ae)||K.set(ae=[]),ee=0;ee<ne.length;ee++){var ge=ne[ee];ae[ee]=null===ge?null:g.extendObjectWithContainers(ae[ee],ge)}K.set(ae)}return q},g.dataArrayContainers=["transforms","dimensions"],g.layoutArrayContainers=M.layoutArrayContainers,g.extendTrace=function(q,U){return g.extendObjectWithContainers(q,U,g.dataArrayContainers)},g.extendLayout=function(q,U){return g.extendObjectWithContainers(q,U,g.layoutArrayContainers)},g.transition=function(q,U,Z,X,se,re){var ee={redraw:se.redraw},K={},ne=[];return ee.prepareFn=function(){for(var ae=Array.isArray(U)?U.length:0,ue=X.slice(0,ae),he=0;he<ue.length;he++){var pe=ue[he],ge=q._fullData[pe]._module;if(ge){if(ge.animatable){var xe=ge.basePlotModule.name;K[xe]||(K[xe]=[]),K[xe].push(pe)}q.data[ue[he]]=g.extendTrace(q.data[ue[he]],U[he])}}var Se=i.expandObjectPaths(i.extendDeepNoArrays({},Z)),Te=/^[xy]axis[0-9]*$/;for(var ye in Se)Te.test(ye)&&delete Se[ye].range;g.extendLayout(q.layout,Se),delete q.calcdata,g.supplyDefaults(q),g.doCalcdata(q);var we=i.expandObjectPaths(Z);if(we){var ze=q._fullLayout._plots;for(var ke in ze){var Ee=ze[ke],me=Ee.xaxis,de=Ee.yaxis,ce=me.range.slice(),Ae=de.range.slice(),Ne=null,De=null,Ue=null,Ye=null;Array.isArray(we[me._name+".range"])?Ne=we[me._name+".range"].slice():Array.isArray((we[me._name]||{}).range)&&(Ne=we[me._name].range.slice()),Array.isArray(we[de._name+".range"])?De=we[de._name+".range"].slice():Array.isArray((we[de._name]||{}).range)&&(De=we[de._name].range.slice()),ce&&Ne&&(me.r2l(ce[0])!==me.r2l(Ne[0])||me.r2l(ce[1])!==me.r2l(Ne[1]))&&(Ue={xr0:ce,xr1:Ne}),Ae&&De&&(de.r2l(Ae[0])!==de.r2l(De[0])||de.r2l(Ae[1])!==de.r2l(De[1]))&&(Ye={yr0:Ae,yr1:De}),(Ue||Ye)&&ne.push(i.extendFlat({plotinfo:Ee},Ue,Ye))}}return Promise.resolve()},ee.runFn=function(ae){var ue,he,pe=q._fullLayout._basePlotModules,ge=ne.length;if(Z)for(he=0;he<pe.length;he++)pe[he].transitionAxes&&pe[he].transitionAxes(q,ne,re,ae);for(var xe in ge?((ue=i.extendFlat({},re)).duration=0,delete K.cartesian):ue=re,K){var Se=K[xe];q._fullData[Se[0]]._module.basePlotModule.plot(q,Se,ue,ae)}},B(q,re,ee)},g.transitionFromReact=function(q,U,Z,X){var se=q._fullLayout,re=se.transition,ee={},K=[];return ee.prepareFn=function(){var ne=se._plots;for(var ae in ee.redraw=!1,"some"===U.anim&&(ee.redraw=!0),"some"===Z.anim&&(ee.redraw=!0),ne){var ue=ne[ae],he=ue.xaxis,pe=ue.yaxis,ge=X[he._name].range.slice(),xe=X[pe._name].range.slice(),Se=he.range.slice(),Te=pe.range.slice();he.setScale(),pe.setScale();var ye=null,we=null;he.r2l(ge[0])===he.r2l(Se[0])&&he.r2l(ge[1])===he.r2l(Se[1])||(ye={xr0:ge,xr1:Se}),pe.r2l(xe[0])===pe.r2l(Te[0])&&pe.r2l(xe[1])===pe.r2l(Te[1])||(we={yr0:xe,yr1:Te}),(ye||we)&&K.push(i.extendFlat({plotinfo:ue},ye,we))}return Promise.resolve()},ee.runFn=function(ne){for(var ae,ue,he,pe=q._fullData,ge=q._fullLayout._basePlotModules,xe=[],Se=0;Se<pe.length;Se++)xe.push(Se);function Te(){if(q._fullLayout)for(var we=0;we<ge.length;we++)ge[we].transitionAxes&&ge[we].transitionAxes(q,K,ae,ne)}function ye(){if(q._fullLayout)for(var we=0;we<ge.length;we++)ge[we].plot(q,he,ue,ne)}K.length&&U.anim?"traces first"===re.ordering?(ae=i.extendFlat({},re,{duration:0}),he=xe,ue=re,setTimeout(Te,re.duration),ye()):(ae=re,he=null,ue=i.extendFlat({},re,{duration:0}),setTimeout(ye,ae.duration),Te()):K.length?(ae=re,Te()):U.anim&&(he=xe,ue=re,ye())},B(q,re,ee)},g.doCalcdata=function(q,U){var Z,X,se,re,ee=o.list(q),K=q._fullData,ne=q._fullLayout,ae=new Array(K.length),ue=(q.calcdata||[]).slice();for(q.calcdata=ae,ne._numBoxes=0,ne._numViolins=0,ne._violinScaleGroupStats={},q._hmpixcount=0,q._hmlumcount=0,ne._piecolormap={},ne._sunburstcolormap={},ne._treemapcolormap={},ne._iciclecolormap={},ne._funnelareacolormap={},se=0;se<K.length;se++)Array.isArray(U)&&-1===U.indexOf(se)&&(ae[se]=ue[se]);for(se=0;se<K.length;se++)(Z=K[se])._arrayAttrs=y.findArrayAttributes(Z),Z._extremes={};var he=ne._subplots.polar||[];for(se=0;se<he.length;se++)ee.push(ne[he[se]].radialaxis,ne[he[se]].angularaxis);for(var pe in ne._colorAxes){var ge=ne[pe];!1!==ge.cauto&&(delete ge.cmin,delete ge.cmax)}var xe=!1;function Se(we){if(X=(Z=K[we])._module,!0===Z.visible&&Z.transforms){if(X&&X.calc){var ze=X.calc(q,Z);ze[0]&&ze[0].t&&ze[0].t._scene&&delete ze[0].t._scene.dirty}for(re=0;re<Z.transforms.length;re++){var ke=Z.transforms[re];(X=w[ke.type])&&X.calcTransform&&(Z._hasCalcTransform=!0,xe=!0,X.calcTransform(q,Z,ke))}}}function Te(we,ze){if(!!(X=(Z=K[we])._module).isContainer===ze){var ke=[];if(!0===Z.visible&&0!==Z._length){delete Z._indexToPoints;var Ee=Z.transforms||[];for(re=Ee.length-1;re>=0;re--)if(Ee[re].enabled){Z._indexToPoints=Ee[re]._indexToPoints;break}X&&X.calc&&(ke=X.calc(q,Z))}Array.isArray(ke)&&ke[0]||(ke=[{x:a,y:a}]),ke[0].t||(ke[0].t={}),ke[0].trace=Z,ae[we]=ke}}for(z(ee,K,ne),se=0;se<K.length;se++)Te(se,!0);for(se=0;se<K.length;se++)Se(se);for(xe&&z(ee,K,ne),se=0;se<K.length;se++)Te(se,!0);for(se=0;se<K.length;se++)Te(se,!1);Y(q);var ye=function(we,ze){var ke,Ee,me,de,ce,Ae=[];function Ne(rt,ot,Je){var it=ot._id.charAt(0);if("histogram2dcontour"===rt){var dt=ot._counterAxes[0],ht=o.getFromId(ze,dt),Ve="x"===it||"x"===dt&&"category"===ht.type,qe="y"===it||"y"===dt&&"category"===ht.type;return function(ut,ft){return 0===ut||0===ft||Ve&&ut===Je[ft].length-1||qe&&ft===Je.length-1?-1:("y"===it?ft:ut)-1}}return function(ut,ft){return"y"===it?ft:ut}}var De={min:function(rt){return i.aggNums(Math.min,null,rt)},max:function(rt){return i.aggNums(Math.max,null,rt)},sum:function(rt){return i.aggNums(function(ot,Je){return ot+Je},null,rt)},total:function(rt){return i.aggNums(function(ot,Je){return ot+Je},null,rt)},mean:function(rt){return i.mean(rt)},median:function(rt){return i.median(rt)}};for(ke=0;ke<we.length;ke++){var Ue=we[ke];if("category"===Ue.type){var Ye=Ue.categoryorder.match(J);if(Ye){var _e=Ye[1],Pe=Ye[2],Ie=Ue._id.charAt(0),Be="x"===Ie,We=[];for(Ee=0;Ee<Ue._categories.length;Ee++)We.push([Ue._categories[Ee],[]]);for(Ee=0;Ee<Ue._traceIndices.length;Ee++){var Ge=Ue._traceIndices[Ee],Ke=ze._fullData[Ge];if(!0===Ke.visible){var tt=Ke.type;M.traceIs(Ke,"histogram")&&(delete Ke._xautoBinFinished,delete Ke._yautoBinFinished);var st="splom"===tt,gt="scattergl"===tt,ct=ze.calcdata[Ge];for(me=0;me<ct.length;me++){var kt,Dt,vt=ct[me];if(st){var mt=Ke._axesDim[Ue._id];if(!Be){var Et=Ke._diag[mt][0];Et&&(Ue=ze._fullLayout[o.id2name(Et)])}var Lt=vt.trace.dimensions[mt].values;for(de=0;de<Lt.length;de++)for(kt=Ue._categoriesMap[Lt[de]],ce=0;ce<vt.trace.dimensions.length;ce++)ce!==mt&&We[kt][1].push(vt.trace.dimensions[ce].values[de])}else if(gt){for(de=0;de<vt.t.x.length;de++)Be?(kt=vt.t.x[de],Dt=vt.t.y[de]):(kt=vt.t.y[de],Dt=vt.t.x[de]),We[kt][1].push(Dt);vt.t&&vt.t._scene&&delete vt.t._scene.dirty}else if(vt.hasOwnProperty("z")){var Ut=Ne(Ke.type,Ue,Dt=vt.z);for(de=0;de<Dt.length;de++)for(ce=0;ce<Dt[de].length;ce++)(kt=Ut(ce,de))+1&&We[kt][1].push(Dt[de][ce])}else for(void 0===(kt=vt.p)&&(kt=vt[Ie]),void 0===(Dt=vt.s)&&(Dt=vt.v),void 0===Dt&&(Dt=Be?vt.y:vt.x),Array.isArray(Dt)||(Dt=void 0===Dt?[]:[Dt]),de=0;de<Dt.length;de++)We[kt][1].push(Dt[de])}}}Ue._categoriesValue=We;var Bt=[];for(Ee=0;Ee<We.length;Ee++)Bt.push([We[Ee][0],De[_e](We[Ee][1])]);Bt.sort(function(rt,ot){return rt[1]-ot[1]}),Ue._categoriesAggregatedValue=Bt,Ue._initialCategories=Bt.map(function(rt){return rt[0]}),"descending"===Pe&&Ue._initialCategories.reverse(),Ae=Ae.concat(Ue.sortByInitialCategories())}}}return Ae}(ee,q);if(ye.length){for(ne._numBoxes=0,ne._numViolins=0,se=0;se<ye.length;se++)Te(ye[se],!0);for(se=0;se<ye.length;se++)Te(ye[se],!1);Y(q)}M.getComponentMethod("fx","calc")(q),M.getComponentMethod("errorbars","calc")(q)};var J=/(total|sum|min|max|mean|median) (ascending|descending)/;function z(q,U,Z){var X={};function se(ne){ne.clearCalc(),"multicategory"===ne.type&&ne.setupMultiCategory(U),X[ne._id]=1}i.simpleMap(q,se);for(var re=Z._axisMatchGroups||[],ee=0;ee<re.length;ee++)for(var K in re[ee])X[K]||se(Z[o.id2name(K)])}function Y(q){var U,Z,X,se=q._fullLayout,re=se._visibleModules,ee={};for(Z=0;Z<re.length;Z++){var K=re[Z],ne=K.crossTraceCalc;if(ne){var ae=K.basePlotModule.name;ee[ae]?i.pushUnique(ee[ae],ne):ee[ae]=[ne]}}for(X in ee){var ue=ee[X],he=se._subplots[X];if(Array.isArray(he))for(U=0;U<he.length;U++){var pe=he[U],ge="cartesian"===X?se._plots[pe]:se[pe];for(Z=0;Z<ue.length;Z++)ue[Z](q,ge,pe)}else for(Z=0;Z<ue.length;Z++)ue[Z](q)}}g.rehover=function(q){q._fullLayout._rehover&&q._fullLayout._rehover()},g.redrag=function(q){q._fullLayout._redrag&&q._fullLayout._redrag()},g.reselect=function(q){var U=q._fullLayout,Z=(q.layout||{}).selections,X=U._previousSelections;U._previousSelections=Z;var se=U._reselect||JSON.stringify(Z)!==JSON.stringify(X);M.getComponentMethod("selections","reselect")(q,se)},g.generalUpdatePerTraceModule=function(q,U,Z,X){var se,re=U.traceHash,ee={};for(se=0;se<Z.length;se++){var K=Z[se],ne=K[0].trace;ne.visible&&(ee[ne.type]=ee[ne.type]||[],ee[ne.type].push(K))}for(var ae in re)if(!ee[ae]){var ue=re[ae][0];ue[0].trace.visible=!1,ee[ae]=[ue]}for(var he in ee){var pe=ee[he];pe[0][0].trace._module.plot(q,U,i.filterVisible(pe),X)}U.traceHash=ee},g.plotBasePlot=function(q,U,Z,X,se){var re=M.getModule(q),ee=p(U.calcdata,re)[0];re.plot(U,ee,X,se)},g.cleanBasePlot=function(q,U,Z,X,se){var re=se._has&&se._has(q),ee=Z._has&&Z._has(q);re&&!ee&&se["_"+q+"layer"].selectAll("g.trace").remove()}},9813:function(oe){"use strict";oe.exports={attr:"subplot",name:"polar",axisNames:["angularaxis","radialaxis"],axisName2dataArray:{angularaxis:"theta",radialaxis:"r"},layerNames:["draglayer","plotbg","backplot","angular-grid","radial-grid","frontplot","angular-line","radial-line","angular-axis","radial-axis"],radialDragBoxSize:50,angularDragBoxSize:30,cornerLen:25,cornerHalfWidth:2,MINDRAG:8,MINZOOM:20,OFFEDGE:20}},10869:function(oe,j,r){"use strict";var I=r(71828),E=r(61082).tester,f=I.findIndexOfMin,S=I.isAngleInsideSector,M=I.angleDelta,y=I.angleDist;function u(o,l,c,h){var v,p,T=h[0],_=h[1],g=s(Math.sin(l)-Math.sin(o)),w=s(Math.cos(l)-Math.cos(o)),x=Math.tan(c),b=s(1/x),A=g/w,m=_-A*T;return b?g&&w?p=x*(v=m/(x-A)):w?(v=_*b,p=_):(v=T,p=T*x):g&&w?(v=0,p=m):w?(v=0,p=_):v=p=NaN,[v,p]}function i(o,l,c,h){return I.isFullCircle([l,c])?function(v,p){var T,_=p.length,g=new Array(_+1);for(T=0;T<_;T++){var w=p[T];g[T]=[v*Math.cos(w),v*Math.sin(w)]}return g[T]=g[0].slice(),g}(o,h):function(v,p,T,_){var g,w,x=_.length,b=[];function A(J){return[v*Math.cos(J),v*Math.sin(J)]}function m(J,z,Y){return u(J,z,Y,A(J))}function C(J){return I.mod(J,x)}function k(J){return S(J,[p,T])}var P=f(_,function(J){return k(J)?y(J,p):1/0}),R=m(_[P],_[C(P-1)],p);for(b.push(R),g=P,w=0;w<x;g++,w++){var L=_[C(g)];if(!k(L))break;b.push(A(L))}var N=f(_,function(J){return k(J)?y(J,T):1/0}),B=m(_[N],_[C(N+1)],T);return b.push(B),b.push([0,0]),b.push(b[0].slice()),b}(o,l,c,h)}function s(o){return Math.abs(o)>1e-10?o:0}function a(o,l,c){l=l||0,c=c||0;for(var h=o.length,v=new Array(h),p=0;p<h;p++){var T=o[p];v[p]=[l+T[0],c-T[1]]}return v}oe.exports={isPtInsidePolygon:function(o,l,c,h,v){if(!S(l,h))return!1;var p,T;c[0]<c[1]?(p=c[0],T=c[1]):(p=c[1],T=c[0]);var _=E(i(p,h[0],h[1],v)),g=E(i(T,h[0],h[1],v)),w=[o*Math.cos(l),o*Math.sin(l)];return g.contains(w)&&!_.contains(w)},findPolygonOffset:function(o,l,c,h){for(var v=1/0,p=1/0,T=i(o,l,c,h),_=0;_<T.length;_++){var g=T[_];v=Math.min(v,g[0]),p=Math.min(p,-g[1])}return[v,p]},findEnclosingVertexAngles:function(o,l){var c=f(l,function(v){var p=M(v,o);return p>0?p:1/0}),h=I.mod(c+1,l.length);return[l[c],l[h]]},findIntersectionXY:u,findXYatLength:function(o,l,c,h){var v=-l*c,p=l*l+1,T=2*(l*v-c),g=Math.sqrt(T*T-4*p*(v*v+c*c-o*o)),w=(-T+g)/(2*p),x=(-T-g)/(2*p);return[[w,l*w+v+h],[x,l*x+v+h]]},clampTiny:s,pathPolygon:function(o,l,c,h,v,p){return"M"+a(i(o,l,c,h),v,p).join("L")},pathPolygonAnnulus:function(o,l,c,h,v,p,T){var _,g;o<l?(_=o,g=l):(_=l,g=o);var w=a(i(_,c,h,v),p,T);return"M"+a(i(g,c,h,v),p,T).reverse().join("L")+"M"+w.join("L")}}},23580:function(oe,j,r){"use strict";var I=r(27659).AU,E=r(71828).counterRegex,f=r(77997),S=r(9813),M=S.attr,y=S.name,u=E(y),i={};i[M]={valType:"subplotid",dflt:y,editType:"calc"},oe.exports={attr:M,name:y,idRoot:y,idRegex:u,attrRegex:u,attributes:i,layoutAttributes:r(73812),supplyLayoutDefaults:r(68993),plot:function(s){for(var a=s._fullLayout,o=s.calcdata,l=a._subplots[y],c=0;c<l.length;c++){var h=l[c],v=I(o,y,h),p=a[h]._subplot;p||(p=f(s,h),a[h]._subplot=p),p.plot(v,a,s._promises)}},clean:function(s,a,o,l){for(var c=l._subplots[y]||[],h=l._has&&l._has("gl"),v=a._has&&a._has("gl"),p=h&&!v,T=0;T<c.length;T++){var _=c[T],g=l[_]._subplot;if(!a[_]&&g)for(var w in g.framework.remove(),g.layers["radial-axis-title"].remove(),g.clipPaths)g.clipPaths[w].remove();p&&g._scene&&(g._scene.destroy(),g._scene=null)}},toSVG:r(93612).toSVG}},73812:function(oe,j,r){"use strict";var I=r(22399),E=r(13838),f=r(27670).Y,S=r(71828).extendFlat,M=r(30962).overrideAll,y=M({color:E.color,showline:S({},E.showline,{dflt:!0}),linecolor:E.linecolor,linewidth:E.linewidth,showgrid:S({},E.showgrid,{dflt:!0}),gridcolor:E.gridcolor,gridwidth:E.gridwidth,griddash:E.griddash},"plot","from-root"),u=M({tickmode:E.minor.tickmode,nticks:E.nticks,tick0:E.tick0,dtick:E.dtick,tickvals:E.tickvals,ticktext:E.ticktext,ticks:E.ticks,ticklen:E.ticklen,tickwidth:E.tickwidth,tickcolor:E.tickcolor,ticklabelstep:E.ticklabelstep,showticklabels:E.showticklabels,labelalias:E.labelalias,showtickprefix:E.showtickprefix,tickprefix:E.tickprefix,showticksuffix:E.showticksuffix,ticksuffix:E.ticksuffix,showexponent:E.showexponent,exponentformat:E.exponentformat,minexponent:E.minexponent,separatethousands:E.separatethousands,tickfont:E.tickfont,tickangle:E.tickangle,tickformat:E.tickformat,tickformatstops:E.tickformatstops,layer:E.layer},"plot","from-root"),i={visible:S({},E.visible,{dflt:!0}),type:S({},E.type,{values:["-","linear","log","date","category"]}),autotypenumbers:E.autotypenumbers,autorange:S({},E.autorange,{editType:"plot"}),rangemode:{valType:"enumerated",values:["tozero","nonnegative","normal"],dflt:"tozero",editType:"calc"},range:S({},E.range,{items:[{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}}],editType:"plot"}),categoryorder:E.categoryorder,categoryarray:E.categoryarray,angle:{valType:"angle",editType:"plot"},side:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"clockwise",editType:"plot"},title:{text:S({},E.title.text,{editType:"plot",dflt:""}),font:S({},E.title.font,{editType:"plot"}),editType:"plot"},hoverformat:E.hoverformat,uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{title:E._deprecated.title,titlefont:E._deprecated.titlefont}};S(i,y,u);var s={visible:S({},E.visible,{dflt:!0}),type:{valType:"enumerated",values:["-","linear","category"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:E.autotypenumbers,categoryorder:E.categoryorder,categoryarray:E.categoryarray,thetaunit:{valType:"enumerated",values:["radians","degrees"],dflt:"degrees",editType:"calc"},period:{valType:"number",editType:"calc",min:0},direction:{valType:"enumerated",values:["counterclockwise","clockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"angle",editType:"calc"},hoverformat:E.hoverformat,uirevision:{valType:"any",editType:"none"},editType:"calc"};S(s,y,u),oe.exports={domain:f({name:"polar",editType:"plot"}),sector:{valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],dflt:[0,360],editType:"plot"},hole:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},bgcolor:{valType:"color",editType:"plot",dflt:I.background},radialaxis:i,angularaxis:s,gridshape:{valType:"enumerated",values:["circular","linear"],dflt:"circular",editType:"plot"},uirevision:{valType:"any",editType:"none"},editType:"calc"}},68993:function(oe,j,r){"use strict";var I=r(71828),E=r(7901),f=r(44467),S=r(49119),M=r(27659).NG,y=r(26218),u=r(38701),i=r(96115),s=r(89426),a=r(15258),o=r(92128),l=r(4322),c=r(73812),h=r(12101),v=r(9813),p=v.axisNames;function T(g,w,x,b){var A=x("bgcolor");b.bgColor=E.combine(A,b.paper_bgcolor);var m=x("sector");x("hole");var C,k=M(b.fullData,v.name,b.id),P=b.layoutOut;function R(ne,ae){return x(C+"."+ne,ae)}for(var L=0;L<p.length;L++){I.isPlainObject(g[C=p[L]])||(g[C]={});var N=g[C],B=f.newContainer(w,C);B._id=B._name=C,B._attr=b.id+"."+C,B._traceIndices=k.map(function(ne){return ne._expandedIndex});var J=v.axisName2dataArray[C],z=_(N,B,R,k,J,b);a(N,B,R,{axData:k,dataAttr:J});var Y=R("visible");switch(h(B,w,P),R("uirevision",w.uirevision),B._m=1,C){case"radialaxis":var q=R("autorange",!B.isValidRange(N.range));N.autorange=q,!q||"linear"!==z&&"-"!==z||R("rangemode"),"reversed"===q&&(B._m=-1),R("range"),B.cleanRange("range",{dfltRange:[0,1]});break;case"angularaxis":if("date"===z){I.log("Polar plots do not support date angular axes yet.");for(var U=0;U<k.length;U++)k[U].visible=!1;z=N.type=B.type="linear"}R("linear"===z?"thetaunit":"period");var Z=R("direction");R("rotation",{counterclockwise:0,clockwise:90}[Z])}if(s(N,B,R,B.type,{tickSuffixDflt:"degrees"===B.thetaunit?"\xb0":void 0}),Y){var X,se,re,ee,K=b.font||{};se=(X=R("color"))===N.color?X:K.color,re=K.size,ee=K.family,y(N,B,R,B.type),i(N,B,R,B.type,{font:{color:se,size:re,family:ee}}),u(N,B,R,{outerTicks:!0}),o(N,B,R,{dfltColor:X,bgColor:b.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:c[C]}),R("layer"),"radialaxis"===C&&(R("side"),R("angle",m[0]),R("title.text"),I.coerceFont(R,"title.font",{color:se,size:I.bigFont(re),family:ee}))}"category"!==z&&R("hoverformat"),B._input=N}"category"===w.angularaxis.type&&x("gridshape")}function _(g,w,x,b,A,m){var C=x("autotypenumbers",m.autotypenumbersDflt);if("-"===x("type")){for(var k,P=0;P<b.length;P++)if(b[P].visible){k=b[P];break}k&&k[A]&&(w.type=l(k[A],"gregorian",{noMultiCategory:!0,autotypenumbers:C})),"-"===w.type?w.type="linear":g.type=w.type}return w.type}oe.exports=function(g,w,x){S(g,w,x,{type:v.name,attributes:c,handleDefaults:T,font:w.font,autotypenumbersDflt:w.autotypenumbers,paper_bgcolor:w.paper_bgcolor,fullData:x,layoutOut:w})}},77997:function(oe,j,r){"use strict";var I=r(39898),E=r(84267),f=r(73972),S=r(71828),M=S.strRotate,y=S.strTranslate,u=r(7901),i=r(91424),s=r(74875),a=r(89298),o=r(21994),l=r(12101),c=r(71739).doAutoRange,h=r(29323),v=r(28569),p=r(30211),T=r(92998),_=r(47322).prepSelect,g=r(47322).selectOnClick,w=r(47322).clearOutline,x=r(6964),b=r(33306),A=r(61549).redrawReglTraces,m=r(18783).MID_SHIFT,C=r(9813),k=r(10869),P=r(23893),R=P.smith,L=P.reactanceArc,N=P.resistanceArc,B=P.smithTransform,J=S._,z=S.mod,Y=S.deg2rad,q=S.rad2deg;function U(ee,K,ne){this.isSmith=ne||!1,this.id=K,this.gd=ee,this._hasClipOnAxisFalse=null,this.vangles=null,this.radialAxisAngle=null,this.traceHash={},this.layers={},this.clipPaths={},this.clipIds={},this.viewInitial={};var ae=ee._fullLayout;this.clipIds.forTraces="clip"+ae._uid+K+"-for-traces",this.clipPaths.forTraces=ae._clips.append("clipPath").attr("id",this.clipIds.forTraces),this.clipPaths.forTraces.append("path"),this.framework=ae["_"+(ne?"smith":"polar")+"layer"].append("g").attr("class",K),this.getHole=function(he){return this.isSmith?0:he.hole},this.getSector=function(he){return this.isSmith?[0,360]:he.sector},this.getRadial=function(he){return this.isSmith?he.realaxis:he.radialaxis},this.getAngular=function(he){return this.isSmith?he.imaginaryaxis:he.angularaxis},ne||(this.radialTickLayout=null,this.angularTickLayout=null)}var Z=U.prototype;function X(ee){var K=ee.ticks+String(ee.ticklen)+String(ee.showticklabels);return"side"in ee&&(K+=ee.side),K}function se(ee,K){return K[S.findIndexOfMin(K,function(ne){return S.angleDist(ee,ne)})]}function re(ee,K,ne){return K?(ee.attr("display",null),ee.attr(ne)):ee&&ee.attr("display","none"),ee}oe.exports=function(ee,K,ne){return new U(ee,K,ne)},Z.plot=function(ee,K){for(var ne=this,ae=K[ne.id],ue=!1,he=0;he<ee.length;he++)if(!1===ee[he][0].trace.cliponaxis){ue=!0;break}ne._hasClipOnAxisFalse=ue,ne.updateLayers(K,ae),ne.updateLayout(K,ae),s.generalUpdatePerTraceModule(ne.gd,ne,ee,ae),ne.updateFx(K,ae),ne.isSmith&&(delete ae.realaxis.range,delete ae.imaginaryaxis.range)},Z.updateLayers=function(ee,K){var ne=this,ae=ne.isSmith,ue=ne.layers,he=ne.getRadial(K),pe=ne.getAngular(K),ge=C.layerNames,xe=ge.indexOf("frontplot"),Se=ge.slice(0,xe),Te="below traces"===pe.layer,ye="below traces"===he.layer;Te&&Se.push("angular-line"),ye&&Se.push("radial-line"),Te&&Se.push("angular-axis"),ye&&Se.push("radial-axis"),Se.push("frontplot"),Te||Se.push("angular-line"),ye||Se.push("radial-line"),Te||Se.push("angular-axis"),ye||Se.push("radial-axis");var we=(ae?"smith":"polar")+"sublayer",ze=ne.framework.selectAll("."+we).data(Se,String);ze.enter().append("g").attr("class",function(ke){return we+" "+ke}).each(function(ke){var Ee=ue[ke]=I.select(this);switch(ke){case"frontplot":ae||Ee.append("g").classed("barlayer",!0),Ee.append("g").classed("scatterlayer",!0);break;case"backplot":Ee.append("g").classed("maplayer",!0);break;case"plotbg":ue.bg=Ee.append("path");break;case"radial-grid":case"angular-grid":Ee.style("fill","none");break;case"radial-line":Ee.append("line").style("fill","none");break;case"angular-line":Ee.append("path").style("fill","none")}}),ze.order()},Z.updateLayout=function(ee,K){var ne=this,ae=ne.layers,ue=ee._size,he=ne.getRadial(K),pe=ne.getAngular(K),ge=K.domain.x,xe=K.domain.y;ne.xOffset=ue.l+ue.w*ge[0],ne.yOffset=ue.t+ue.h*(1-xe[1]);var Se=ne.xLength=ue.w*(ge[1]-ge[0]),Te=ne.yLength=ue.h*(xe[1]-xe[0]),ye=ne.getSector(K);ne.sectorInRad=ye.map(Y);var we,ze,ke,Ee,me,gt,ct,kt,Dt,vt,mt,Et,Lt,Rt,Ut,de=ne.sectorBBox=(Dt=(gt=ye)[1]-(kt=gt[0]),mt=(vt=z(kt,360))+Dt,Et=Math.cos(Y(vt)),Lt=Math.sin(Y(vt)),Rt=Math.cos(Y(mt)),Ut=Math.sin(Y(mt)),ct=vt<=90&&mt>=90||vt>90&&mt>=450?1:Lt<=0&&Ut<=0?0:Math.max(Lt,Ut),[vt<=180&&mt>=180||vt>180&&mt>=540?-1:Et>=0&&Rt>=0?0:Math.min(Et,Rt),vt<=270&&mt>=270||vt>270&&mt>=630?-1:Lt>=0&&Ut>=0?0:Math.min(Lt,Ut),mt>=360?1:Et<=0&&Rt<=0?0:Math.max(Et,Rt),ct]),ce=de[2]-de[0],Ne=Te/Se,De=Math.abs((de[3]-de[1])/ce);Ne>De?(we=Se,me=(Te-(ze=Se*De))/ue.h/2,ke=[ge[0],ge[1]],Ee=[xe[0]+me,xe[1]-me]):(ze=Te,me=(Se-(we=Te/De))/ue.w/2,ke=[ge[0]+me,ge[1]-me],Ee=[xe[0],xe[1]]),ne.xLength2=we,ne.yLength2=ze,ne.xDomain2=ke,ne.yDomain2=Ee;var Ue,Ye=ne.xOffset2=ue.l+ue.w*ke[0],_e=ne.yOffset2=ue.t+ue.h*(1-Ee[1]),Pe=ne.radius=we/ce,Ie=ne.innerRadius=ne.getHole(K)*Pe,Be=ne.cx=Ye-Pe*de[0],We=ne.cy=_e+Pe*de[3],Ge=ne.cxx=Be-Ye,Ke=ne.cyy=We-_e,tt=he.side;"counterclockwise"===tt?(Ue=tt,tt="top"):"clockwise"===tt&&(Ue=tt,tt="bottom"),ne.radialAxis=ne.mockAxis(ee,K,he,{_id:"x",side:tt,_trueSide:Ue,domain:[Ie/ue.w,Pe/ue.w]}),ne.angularAxis=ne.mockAxis(ee,K,pe,{side:"right",domain:[0,Math.PI],autorange:!1}),ne.doAutoRange(ee,K),ne.updateAngularAxis(ee,K),ne.updateRadialAxis(ee,K),ne.updateRadialAxisTitle(ee,K),ne.xaxis=ne.mockCartesianAxis(ee,K,{_id:"x",domain:ke}),ne.yaxis=ne.mockCartesianAxis(ee,K,{_id:"y",domain:Ee});var st=ne.pathSubplot();ne.clipPaths.forTraces.select("path").attr("d",st).attr("transform",y(Ge,Ke)),ae.frontplot.attr("transform",y(Ye,_e)).call(i.setClipUrl,ne._hasClipOnAxisFalse?null:ne.clipIds.forTraces,ne.gd),ae.bg.attr("d",st).attr("transform",y(Be,We)).call(u.fill,K.bgcolor)},Z.mockAxis=function(ee,K,ne,ae){var ue=S.extendFlat({},ne,ae);return l(ue,K,ee),ue},Z.mockCartesianAxis=function(ee,K,ne){var ae=this,ue=ae.isSmith,he=ne._id,pe=S.extendFlat({type:"linear"},ne);o(pe,ee);var ge={x:[0,2],y:[1,3]};return pe.setRange=function(){var xe=ae.sectorBBox,Se=ge[he],Te=ae.radialAxis._rl,ye=(Te[1]-Te[0])/(1-ae.getHole(K));pe.range=[xe[Se[0]]*ye,xe[Se[1]]*ye]},pe.isPtWithinRange="x"!==he||ue?function(){return!0}:function(xe){return ae.isPtInside(xe)},pe.setRange(),pe.setScale(),pe},Z.doAutoRange=function(ee,K){var ae=this.gd,ue=this.radialAxis,he=this.getRadial(K);c(ae,ue);var pe=ue.range;he.range=pe.slice(),he._input.range=pe.slice(),ue._rl=[ue.r2l(pe[0],null,"gregorian"),ue.r2l(pe[1],null,"gregorian")]},Z.updateRadialAxis=function(ee,K){var ne=this,ae=ne.gd,ue=ne.layers,he=ne.radius,pe=ne.innerRadius,ge=ne.cx,xe=ne.cy,Se=ne.getRadial(K),Te=z(ne.getSector(K)[0],360),ye=ne.radialAxis,we=pe<he,ze=ne.isSmith;ze||(ne.fillViewInitialKey("radialaxis.angle",Se.angle),ne.fillViewInitialKey("radialaxis.range",ye.range.slice()),ye.setGeometry()),"auto"===ye.tickangle&&Te>90&&Te<=270&&(ye.tickangle=180);var ke=ze?function(_e){var Pe=B(ne,R([_e.x,0]));return y(Pe[0]-ge,Pe[1]-xe)}:function(_e){return y(ye.l2p(_e.x)+pe,0)},Ee=ze?function(_e){return N(ne,_e.x,-1/0,1/0)}:function(_e){return ne.pathArc(ye.r2p(_e.x)+pe)},me=X(Se);if(ne.radialTickLayout!==me&&(ue["radial-axis"].selectAll(".xtick").remove(),ne.radialTickLayout=me),we){ye.setScale();var de=0,ce=ze?(ye.tickvals||[]).filter(function(_e){return _e>=0}).map(function(_e){return a.tickText(ye,_e,!0,!1)}):a.calcTicks(ye),Ae=ze?ce:a.clipEnds(ye,ce),Ne=a.getTickSigns(ye)[2];ze&&(("top"===ye.ticks&&"bottom"===ye.side||"bottom"===ye.ticks&&"top"===ye.side)&&(Ne=-Ne),"top"===ye.ticks&&"top"===ye.side&&(de=-ye.ticklen),"bottom"===ye.ticks&&"bottom"===ye.side&&(de=ye.ticklen)),a.drawTicks(ae,ye,{vals:ce,layer:ue["radial-axis"],path:a.makeTickPath(ye,0,Ne),transFn:ke,crisp:!1}),a.drawGrid(ae,ye,{vals:Ae,layer:ue["radial-grid"],path:Ee,transFn:S.noop,crisp:!1}),a.drawLabels(ae,ye,{vals:ce,layer:ue["radial-axis"],transFn:ke,labelFns:a.makeLabelFns(ye,de)})}var De=ne.radialAxisAngle=ne.vangles?q(se(Y(Se.angle),ne.vangles)):Se.angle,Ue=y(ge,xe),Ye=Ue+M(-De);re(ue["radial-axis"],we&&(Se.showticklabels||Se.ticks),{transform:Ye}),re(ue["radial-grid"],we&&Se.showgrid,{transform:ze?"":Ue}),re(ue["radial-line"].select("line"),we&&Se.showline,{x1:ze?-he:pe,y1:0,x2:he,y2:0,transform:Ye}).attr("stroke-width",Se.linewidth).call(u.stroke,Se.linecolor)},Z.updateRadialAxisTitle=function(ee,K,ne){if(!this.isSmith){var ae=this,ue=ae.gd,he=ae.radius,pe=ae.cx,ge=ae.cy,xe=ae.getRadial(K),Se=ae.id+"title",Te=0;if(xe.title){var ye=i.bBox(ae.layers["radial-axis"].node()).height,we=xe.title.font.size,ze=xe.side;Te="top"===ze?we:"counterclockwise"===ze?-(ye+.4*we):ye+.8*we}var ke=void 0!==ne?ne:ae.radialAxisAngle,Ee=Y(ke),me=Math.cos(Ee),de=Math.sin(Ee),ce=pe+he/2*me+Te*de,Ae=ge-he/2*de+Te*me;ae.layers["radial-axis-title"]=T.draw(ue,Se,{propContainer:xe,propName:ae.id+".radialaxis.title",placeholder:J(ue,"Click to enter radial axis title"),attributes:{x:ce,y:Ae,"text-anchor":"middle"},transform:{rotate:-ke}})}},Z.updateAngularAxis=function(ee,K){var ne=this,ae=ne.gd,ue=ne.layers,he=ne.radius,pe=ne.innerRadius,ge=ne.cx,xe=ne.cy,Se=ne.getAngular(K),Te=ne.angularAxis,ye=ne.isSmith;ye||(ne.fillViewInitialKey("angularaxis.rotation",Se.rotation),Te.setGeometry(),Te.setScale());var we=ye?function(_e){var Pe=B(ne,R([0,_e.x]));return Math.atan2(Pe[0]-ge,Pe[1]-xe)-Math.PI/2}:function(_e){return Te.t2g(_e.x)};"linear"===Te.type&&"radians"===Te.thetaunit&&(Te.tick0=q(Te.tick0),Te.dtick=q(Te.dtick));var ze=function(_e){return y(ge+he*Math.cos(_e),xe-he*Math.sin(_e))},ke=ye?function(_e){var Pe=B(ne,R([0,_e.x]));return y(Pe[0],Pe[1])}:function(_e){return ze(we(_e))},Ee=ye?function(_e){var Pe=B(ne,R([0,_e.x])),Ie=Math.atan2(Pe[0]-ge,Pe[1]-xe)-Math.PI/2;return y(Pe[0],Pe[1])+M(-q(Ie))}:function(_e){var Pe=we(_e);return ze(Pe)+M(-q(Pe))},me=ye?function(_e){return L(ne,_e.x,0,1/0)}:function(_e){var Pe=we(_e),Ie=Math.cos(Pe),Be=Math.sin(Pe);return"M"+[ge+pe*Ie,xe-pe*Be]+"L"+[ge+he*Ie,xe-he*Be]},de=a.makeLabelFns(Te,0).labelStandoff,ce={xFn:function(_e){var Pe=we(_e);return Math.cos(Pe)*de},yFn:function(_e){var Pe=we(_e),Ie=Math.sin(Pe)>0?.2:1;return-Math.sin(Pe)*(de+_e.fontSize*Ie)+Math.abs(Math.cos(Pe))*(_e.fontSize*m)},anchorFn:function(_e){var Pe=we(_e),Ie=Math.cos(Pe);return Math.abs(Ie)<.1?"middle":Ie>0?"start":"end"},heightFn:function(_e,Pe,Ie){var Be=we(_e);return-.5*(1+Math.sin(Be))*Ie}},Ae=X(Se);ne.angularTickLayout!==Ae&&(ue["angular-axis"].selectAll("."+Te._id+"tick").remove(),ne.angularTickLayout=Ae);var Ne,De=ye?[1/0].concat(Te.tickvals||[]).map(function(_e){return a.tickText(Te,_e,!0,!1)}):a.calcTicks(Te);if(ye&&(De[0].text="\u221e",De[0].fontSize*=1.75),"linear"===K.gridshape?(Ne=De.map(we),S.angleDelta(Ne[0],Ne[1])<0&&(Ne=Ne.slice().reverse())):Ne=null,ne.vangles=Ne,"category"===Te.type&&(De=De.filter(function(_e){return S.isAngleInsideSector(we(_e),ne.sectorInRad)})),Te.visible){var Ue="inside"===Te.ticks?-1:1;a.drawTicks(ae,Te,{vals:De,layer:ue["angular-axis"],path:"M"+Ue*((Te.linewidth||1)/2)+",0h"+Ue*Te.ticklen,transFn:Ee,crisp:!1}),a.drawGrid(ae,Te,{vals:De,layer:ue["angular-grid"],path:me,transFn:S.noop,crisp:!1}),a.drawLabels(ae,Te,{vals:De,layer:ue["angular-axis"],repositionOnUpdate:!0,transFn:ke,labelFns:ce})}re(ue["angular-line"].select("path"),Se.showline,{d:ne.pathSubplot(),transform:y(ge,xe)}).attr("stroke-width",Se.linewidth).call(u.stroke,Se.linecolor)},Z.updateFx=function(ee,K){this.gd._context.staticPlot||(!this.isSmith&&(this.updateAngularDrag(ee),this.updateRadialDrag(ee,K,0),this.updateRadialDrag(ee,K,1)),this.updateHoverAndMainDrag(ee))},Z.updateHoverAndMainDrag=function(ee){var K,ne,ae=this,ue=ae.isSmith,he=ae.gd,ge=ee._zoomlayer,xe=C.MINZOOM,Se=C.OFFEDGE,Te=ae.radius,ye=ae.innerRadius,we=ae.cx,ze=ae.cy,ke=ae.cxx,Ee=ae.cyy,me=ae.sectorInRad,de=ae.vangles,ce=ae.radialAxis,Ae=k.clampTiny,Ne=k.findXYatLength,De=k.findEnclosingVertexAngles,Ue=C.cornerHalfWidth,Ye=C.cornerLen/2,_e=h.makeDragger(ae.layers,"path","maindrag",!1===ee.dragmode?"none":"crosshair");I.select(_e).attr("d",ae.pathSubplot()).attr("transform",y(we,ze)),_e.onmousemove=function(ht){p.hover(he,ht,ae.id),he._fullLayout._lasthover=_e,he._fullLayout._hoversubplot=ae.id},_e.onmouseout=function(ht){he._dragging||v.unhover(he,ht)};var Pe,Ie,Be,We,Ge,Ke,tt,st,gt,ct={element:_e,gd:he,subplot:ae.id,plotinfo:{id:ae.id,xaxis:ae.xaxis,yaxis:ae.yaxis},xaxes:[ae.xaxis],yaxes:[ae.yaxis]};function kt(ht,Ve){return Math.sqrt(ht*ht+Ve*Ve)}function Dt(ht,Ve){return kt(ht-ke,Ve-Ee)}function vt(ht,Ve){return Math.atan2(Ee-Ve,ht-ke)}function mt(ht,Ve){return[ht*Math.cos(Ve),ht*Math.sin(-Ve)]}function Et(ht,Ve){if(0===ht)return ae.pathSector(2*Ue);var qe=Ye/ht,ut=Ve-qe,ft=Ve+qe,St=Math.max(0,Math.min(ht,Te)),Mt=St-Ue,Tt=St+Ue;return"M"+mt(Mt,ut)+"A"+[Mt,Mt]+" 0,0,0 "+mt(Mt,ft)+"L"+mt(Tt,ft)+"A"+[Tt,Tt]+" 0,0,1 "+mt(Tt,ut)+"Z"}function Lt(ht,Ve,qe){if(0===ht)return ae.pathSector(2*Ue);var ut,ft,St=mt(ht,Ve),Mt=mt(ht,qe),Tt=Ae((St[0]+Mt[0])/2),xt=Ae((St[1]+Mt[1])/2);if(Tt&&xt){var Nt=xt/Tt,bt=-1/Nt,wt=Ne(Ue,Nt,Tt,xt);ut=Ne(Ye,bt,wt[0][0],wt[0][1]),ft=Ne(Ye,bt,wt[1][0],wt[1][1])}else{var It,Wt;xt?(It=Ye,Wt=Ue):(It=Ue,Wt=Ye),ut=[[Tt-It,xt-Wt],[Tt+It,xt-Wt]],ft=[[Tt-It,xt+Wt],[Tt+It,xt+Wt]]}return"M"+ut.join("L")+"L"+ft.reverse().join("L")+"Z"}function Rt(ht,Ve){return Ve=Math.max(Math.min(Ve,Te),ye),ht<Se?ht=0:Te-ht<Se?ht=Te:Ve<Se?Ve=0:Te-Ve<Se&&(Ve=Te),Math.abs(Ve-ht)>xe?(ht<Ve?(Be=ht,We=Ve):(Be=Ve,We=ht),!0):(Be=null,We=null,!1)}function Ut(ht,Ve){Ve=Ve||"M0,0Z",st.attr("d",ht=ht||Ge),gt.attr("d",Ve),h.transitionZoombox(st,gt,Ke,tt),Ke=!0;var qe={};it(qe),he.emit("plotly_relayouting",qe)}function Bt(ht,Ve){var qe,ut,ft=Pe+(ht*=K),St=Ie+(Ve*=ne),Mt=Dt(Pe,Ie),Tt=Math.min(Dt(ft,St),Te),xt=vt(Pe,Ie);Rt(Mt,Tt)&&(qe=Ge+ae.pathSector(We),Be&&(qe+=ae.pathSector(Be)),ut=Et(Be,xt)+Et(We,xt)),Ut(qe,ut)}function rt(ht,Ve,qe,ut){var ft=k.findIntersectionXY(qe,ut,qe,[ht-ke,Ee-Ve]);return kt(ft[0],ft[1])}function ot(ht,Ve){var qe,ut,ft=Pe+ht,St=Ie+Ve,Mt=vt(Pe,Ie),Tt=vt(ft,St),xt=De(Mt,de),Nt=De(Tt,de);Rt(rt(Pe,Ie,xt[0],xt[1]),Math.min(rt(ft,St,Nt[0],Nt[1]),Te))&&(qe=Ge+ae.pathSector(We),Be&&(qe+=ae.pathSector(Be)),ut=[Lt(Be,xt[0],xt[1]),Lt(We,xt[0],xt[1])].join(" ")),Ut(qe,ut)}function Je(){if(h.removeZoombox(he),null!==Be&&null!==We){var ht={};it(ht),h.showDoubleClickNotifier(he),f.call("_guiRelayout",he,ht)}}function it(ht){var Ve=ce._rl,qe=(Ve[1]-Ve[0])/(1-ye/Te)/Te;ht[ae.id+".radialaxis.range"]=[Ve[0]+(Be-ye)*qe,Ve[0]+(We-ye)*qe]}function dt(ht,Ve){var qe=he._fullLayout.clickmode;if(h.removeZoombox(he),2===ht){var ut={};for(var ft in ae.viewInitial)ut[ae.id+"."+ft]=ae.viewInitial[ft];he.emit("plotly_doubleclick",null),f.call("_guiRelayout",he,ut)}qe.indexOf("select")>-1&&1===ht&&g(Ve,he,[ae.xaxis],[ae.yaxis],ae.id,ct),qe.indexOf("event")>-1&&p.click(he,Ve,ae.id)}ct.prepFn=function(ht,Ve,qe){var ut=he._fullLayout.dragmode,ft=_e.getBoundingClientRect();he._fullLayout._calcInverseTransform(he),K=he._fullLayout._invScaleX,ne=he._fullLayout._invScaleY;var Mt=S.apply3DTransform(he._fullLayout._invTransform)(Ve-ft.left,qe-ft.top);if(Pe=Mt[0],Ie=Mt[1],de){var Tt=k.findPolygonOffset(Te,me[0],me[1],de);Pe+=ke+Tt[0],Ie+=Ee+Tt[1]}switch(ut){case"zoom":ct.clickFn=dt,ue||(ct.moveFn=de?ot:Bt,ct.doneFn=Je,Be=null,We=null,Ge=ae.pathSubplot(),Ke=!1,tt=E(he._fullLayout[ae.id].bgcolor).getLuminance(),(st=h.makeZoombox(ge,tt,we,ze,Ge)).attr("fill-rule","evenodd"),gt=h.makeCorners(ge,we,ze),w(he));break;case"select":case"lasso":_(ht,Ve,qe,ct,ut)}},v.init(ct)},Z.updateRadialDrag=function(ee,K,ne){var ae=this,ue=ae.gd,he=ae.layers,pe=ae.radius,ge=ae.innerRadius,xe=ae.cx,Se=ae.cy,Te=ae.radialAxis,ye=C.radialDragBoxSize,we=ye/2;if(Te.visible){var ze,ke,Ee,me=Y(ae.radialAxisAngle),de=Te._rl,ce=de[0],Ae=de[1],Ne=de[ne],De=.75*(de[1]-de[0])/(1-ae.getHole(K))/pe;ne?(ze=xe+(pe+we)*Math.cos(me),ke=Se-(pe+we)*Math.sin(me),Ee="radialdrag"):(ze=xe+(ge-we)*Math.cos(me),ke=Se-(ge-we)*Math.sin(me),Ee="radialdrag-inner");var Ue,Ye,_e,Pe=h.makeRectDragger(he,Ee,"crosshair",-we,-we,ye,ye),Ie={element:Pe,gd:ue};!1===ee.dragmode&&(Ie.dragmode=!1),re(I.select(Pe),Te.visible&&ge<pe,{transform:y(ze,ke)}),Ie.prepFn=function(){Ue=null,Ye=null,_e=null,Ie.moveFn=Be,Ie.doneFn=We,w(ue)},Ie.clampFn=function(tt,st){return Math.sqrt(tt*tt+st*st)<C.MINDRAG&&(tt=0,st=0),[tt,st]},v.init(Ie)}function Be(tt,st){if(Ue)Ue(tt,st);else{var gt=[tt,-st],ct=[Math.cos(me),Math.sin(me)],kt=Math.abs(S.dot(gt,ct)/Math.sqrt(S.dot(gt,gt)));isNaN(kt)||(Ue=kt<.5?Ge:Ke)}var vt,Dt={};vt=Dt,null!==Ye?vt[ae.id+".radialaxis.angle"]=Ye:null!==_e&&(vt[ae.id+".radialaxis.range["+ne+"]"]=_e),ue.emit("plotly_relayouting",Dt)}function We(){null!==Ye?f.call("_guiRelayout",ue,ae.id+".radialaxis.angle",Ye):null!==_e&&f.call("_guiRelayout",ue,ae.id+".radialaxis.range["+ne+"]",_e)}function Ge(tt,st){if(0!==ne){Ye=Math.atan2(Se-(ke+st),ze+tt-xe),ae.vangles&&(Ye=se(Ye,ae.vangles)),Ye=q(Ye);var kt=y(xe,Se)+M(-Ye);he["radial-axis"].attr("transform",kt),he["radial-line"].select("line").attr("transform",kt);var Dt=ae.gd._fullLayout;ae.updateRadialAxisTitle(Dt,Dt[ae.id],Ye)}}function Ke(tt,st){var gt=S.dot([tt,-st],[Math.cos(me),Math.sin(me)]);if(_e=Ne-De*gt,De>0==(ne?_e>ce:_e<Ae)){var ct=ue._fullLayout,kt=ct[ae.id];Te.range[ne]=_e,Te._rl[ne]=_e,ae.updateRadialAxis(ct,kt),ae.xaxis.setRange(),ae.xaxis.setScale(),ae.yaxis.setRange(),ae.yaxis.setScale();var Dt=!1;for(var vt in ae.traceHash){var mt=ae.traceHash[vt],Et=S.filterVisible(mt);mt[0][0].trace._module.plot(ue,ae,Et,kt),f.traceIs(vt,"gl")&&Et.length&&(Dt=!0)}Dt&&(b(ue),A(ue))}else _e=null}},Z.updateAngularDrag=function(ee){var K=this,ne=K.gd,ae=K.layers,ue=K.radius,he=K.angularAxis,pe=K.cx,ge=K.cy,xe=K.cxx,Se=K.cyy,Te=C.angularDragBoxSize,ye=h.makeDragger(ae,"path","angulardrag",!1===ee.dragmode?"none":"move"),we={element:ye,gd:ne};function ze(Ie,Be){return Math.atan2(Se+Te-Be,Ie-xe-Te)}!1===ee.dragmode?we.dragmode=!1:I.select(ye).attr("d",K.pathAnnulus(ue,ue+Te)).attr("transform",y(pe,ge)).call(x,"move");var ke,Ee,me,de,ce,Ae,Ne=ae.frontplot.select(".scatterlayer").selectAll(".trace"),De=Ne.selectAll(".point"),Ue=Ne.selectAll(".textpoint");function Ye(Ie,Be){var We=K.gd._fullLayout,Ge=We[K.id],Ke=ze(ke+Ie*ee._invScaleX,Ee+Be*ee._invScaleY),tt=q(Ke-Ae);if(de=me+tt,ae.frontplot.attr("transform",y(K.xOffset2,K.yOffset2)+M([-tt,xe,Se])),K.vangles){ce=K.radialAxisAngle+tt;var st=y(pe,ge)+M(-tt),gt=y(pe,ge)+M(-ce);ae.bg.attr("transform",st),ae["radial-grid"].attr("transform",st),ae["radial-axis"].attr("transform",gt),ae["radial-line"].select("line").attr("transform",gt),K.updateRadialAxisTitle(We,Ge,ce)}else K.clipPaths.forTraces.select("path").attr("transform",y(xe,Se)+M(tt));De.each(function(){var Et=I.select(this),Lt=i.getTranslate(Et);Et.attr("transform",y(Lt.x,Lt.y)+M([tt]))}),Ue.each(function(){var Et=I.select(this),Lt=Et.select("text"),Rt=i.getTranslate(Et);Et.attr("transform",M([tt,Lt.attr("x"),Lt.attr("y")])+y(Rt.x,Rt.y))}),he.rotation=S.modHalf(de,360),K.updateAngularAxis(We,Ge),K._hasClipOnAxisFalse&&!S.isFullCircle(K.sectorInRad)&&Ne.call(i.hideOutsideRangePoints,K);var ct=!1;for(var kt in K.traceHash)if(f.traceIs(kt,"gl")){var Dt=K.traceHash[kt],vt=S.filterVisible(Dt);Dt[0][0].trace._module.plot(ne,K,vt,Ge),vt.length&&(ct=!0)}ct&&(b(ne),A(ne));var mt={};_e(mt),ne.emit("plotly_relayouting",mt)}function _e(Ie){Ie[K.id+".angularaxis.rotation"]=de,K.vangles&&(Ie[K.id+".radialaxis.angle"]=ce)}function Pe(){Ue.select("text").attr("transform",null);var Ie={};_e(Ie),f.call("_guiRelayout",ne,Ie)}we.prepFn=function(Ie,Be,We){me=ee[K.id].angularaxis.rotation;var Ke=ye.getBoundingClientRect();ke=Be-Ke.left,Ee=We-Ke.top,ne._fullLayout._calcInverseTransform(ne);var tt=S.apply3DTransform(ee._invTransform)(ke,Ee);Ae=ze(ke=tt[0],Ee=tt[1]),we.moveFn=Ye,we.doneFn=Pe,w(ne)},K.vangles&&!S.isFullCircle(K.sectorInRad)&&(we.prepFn=S.noop,x(I.select(ye),null)),v.init(we)},Z.isPtInside=function(ee){if(this.isSmith)return!0;var K=this.sectorInRad,ne=this.vangles,ae=this.angularAxis.c2g(ee.theta),ue=this.radialAxis,he=ue.c2l(ee.r);return(ne?k.isPtInsidePolygon:S.isPtInsideSector)(he,ae,ue._rl,K,ne)},Z.pathArc=function(ee){var K=this.sectorInRad,ne=this.vangles;return(ne?k.pathPolygon:S.pathArc)(ee,K[0],K[1],ne)},Z.pathSector=function(ee){var K=this.sectorInRad,ne=this.vangles;return(ne?k.pathPolygon:S.pathSector)(ee,K[0],K[1],ne)},Z.pathAnnulus=function(ee,K){var ne=this.sectorInRad,ae=this.vangles;return(ae?k.pathPolygonAnnulus:S.pathAnnulus)(ee,K,ne[0],ne[1],ae)},Z.pathSubplot=function(){var ee=this.innerRadius,K=this.radius;return ee?this.pathAnnulus(ee,K):this.pathSector(K)},Z.fillViewInitialKey=function(ee,K){ee in this.viewInitial||(this.viewInitial[ee]=K)}},12101:function(oe,j,r){"use strict";var I=r(71828),E=r(21994),f=I.deg2rad,S=I.rad2deg;oe.exports=function(M,y,u){switch(E(M,u),M._id){case"x":case"radialaxis":a=y._subplot,(i=M).setGeometry=function(){var o=i._rl[0],l=i._rl[1],c=a.innerRadius,h=(a.radius-c)/(l-o),v=c/h,p=o>l?function(T){return T<=0}:function(T){return T>=0};i.c2g=function(T){var _=i.c2l(T)-o;return(p(_)?_:0)+v},i.g2c=function(T){return i.l2c(T+o-v)},i.g2p=function(T){return T*h},i.c2p=function(T){return i.g2p(i.c2g(T))}};break;case"angularaxis":!function(i,s){var a=i.type;if("linear"===a){var o=i.d2c,l=i.c2d;i.d2c=function(c,h){return v=o(c),"degrees"===h?f(v):v;var v},i.c2d=function(c,h){return l((v=c,"degrees"===h?S(v):v));var v}}i.makeCalcdata=function(c,h){var v,p,T=c[h],_=c._length,g=function(m){return i.d2c(m,c.thetaunit)};if(T){if(I.isTypedArray(T)&&"linear"===a){if(_===T.length)return T;if(T.subarray)return T.subarray(0,_)}for(v=new Array(_),p=0;p<_;p++)v[p]=g(T[p])}else{var w=h+"0",x="d"+h,b=w in c?g(c[w]):0,A=c[x]?g(c[x]):(i.period||2*Math.PI)/_;for(v=new Array(_),p=0;p<_;p++)v[p]=b+p*A}return v},i.setGeometry=function(){var c,h,v,p,T=s.sector,_=T.map(f),g={clockwise:-1,counterclockwise:1}[i.direction],w=f(i.rotation),x=function(C){return g*C+w},b=function(C){return(C-w)/g};switch(a){case"linear":h=c=I.identity,p=f,v=S,i.range=I.isFullCircle(_)?[T[0],T[0]+360]:_.map(b).map(S);break;case"category":var A=i._categories.length,m=i.period?Math.max(i.period,A):A;0===m&&(m=1),h=p=function(C){return 2*C*Math.PI/m},c=v=function(C){return C*m/Math.PI/2},i.range=[0,m]}i.c2g=function(C){return x(h(C))},i.g2c=function(C){return c(b(C))},i.t2g=function(C){return x(p(C))},i.g2t=function(C){return v(b(C))}}}(M,y)}var i,a}},39779:function(oe){"use strict";oe.exports={attr:"subplot",name:"smith",axisNames:["realaxis","imaginaryaxis"],axisName2dataArray:{imaginaryaxis:"imag",realaxis:"real"}}},23893:function(oe){"use strict";function j(f){return f<0?-1:f>0?1:0}function r(f){var S=f[0],M=f[1];if(!isFinite(S)||!isFinite(M))return[1,0];var y=(S+1)*(S+1)+M*M;return[(S*S+M*M-1)/y,2*M/y]}function I(f,S){return[S[0]*f.radius+f.cx,-S[1]*f.radius+f.cy]}function E(f,S){return S*f.radius}oe.exports={smith:r,reactanceArc:function(f,S,M,y){var u=I(f,r([M,S])),i=u[0],s=u[1],a=I(f,r([y,S])),o=a[0],l=a[1];if(0===S)return["M"+i+","+s,"L"+o+","+l].join(" ");var c=E(f,1/Math.abs(S));return["M"+i+","+s,"A"+c+","+c+" 0 0,"+(S<0?1:0)+" "+o+","+l].join(" ")},resistanceArc:function(f,S,M,y){var u=E(f,1/(S+1)),i=I(f,r([S,M])),s=i[0],a=i[1],o=I(f,r([S,y])),l=o[0],c=o[1];if(j(M)!==j(y)){var h=I(f,r([S,0]));return["M"+s+","+a,"A"+u+","+u+" 0 0,"+(0<M?0:1)+" "+h[0]+","+h[1],"A"+u+","+u+" 0 0,"+(y<0?0:1)+l+","+c].join(" ")}return["M"+s+","+a,"A"+u+","+u+" 0 0,"+(y<M?0:1)+" "+l+","+c].join(" ")},smithTransform:I}},7504:function(oe,j,r){"use strict";var I=r(27659).AU,E=r(71828).counterRegex,f=r(77997),S=r(39779),M=S.attr,y=S.name,u=E(y),i={};i[M]={valType:"subplotid",dflt:y,editType:"calc"},oe.exports={attr:M,name:y,idRoot:y,idRegex:u,attrRegex:u,attributes:i,layoutAttributes:r(33419),supplyLayoutDefaults:r(9558),plot:function(s){for(var a=s._fullLayout,o=s.calcdata,l=a._subplots[y],c=0;c<l.length;c++){var h=l[c],v=I(o,y,h),p=a[h]._subplot;p||(p=f(s,h,!0),a[h]._subplot=p),p.plot(v,a,s._promises)}},clean:function(s,a,o,l){for(var c=l._subplots[y]||[],h=0;h<c.length;h++){var v=c[h],p=l[v]._subplot;if(!a[v]&&p)for(var T in p.framework.remove(),p.clipPaths)p.clipPaths[T].remove()}},toSVG:r(93612).toSVG}},33419:function(oe,j,r){"use strict";var I=r(22399),E=r(13838),f=r(27670).Y,S=r(71828).extendFlat,M=r(30962).overrideAll,y=M({color:E.color,showline:S({},E.showline,{dflt:!0}),linecolor:E.linecolor,linewidth:E.linewidth,showgrid:S({},E.showgrid,{dflt:!0}),gridcolor:E.gridcolor,gridwidth:E.gridwidth,griddash:E.griddash},"plot","from-root"),u=M({ticklen:E.ticklen,tickwidth:S({},E.tickwidth,{dflt:2}),tickcolor:E.tickcolor,showticklabels:E.showticklabels,labelalias:E.labelalias,showtickprefix:E.showtickprefix,tickprefix:E.tickprefix,showticksuffix:E.showticksuffix,ticksuffix:E.ticksuffix,tickfont:E.tickfont,tickformat:E.tickformat,hoverformat:E.hoverformat,layer:E.layer},"plot","from-root"),i=S({visible:S({},E.visible,{dflt:!0}),tickvals:{dflt:[.2,.5,1,2,5],valType:"data_array",editType:"plot"},tickangle:S({},E.tickangle,{dflt:90}),ticks:{valType:"enumerated",values:["top","bottom",""],editType:"ticks"},side:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},editType:"calc"},y,u),s=S({visible:S({},E.visible,{dflt:!0}),tickvals:{valType:"data_array",editType:"plot"},ticks:E.ticks,editType:"calc"},y,u);oe.exports={domain:f({name:"smith",editType:"plot"}),bgcolor:{valType:"color",editType:"plot",dflt:I.background},realaxis:i,imaginaryaxis:s,editType:"calc"}},9558:function(oe,j,r){"use strict";var I,E,f,S=r(71828),M=r(7901),y=r(44467),u=r(49119),i=r(27659).NG,s=r(89426),a=r(96115),o=r(92128),l=r(21994),c=r(33419),h=r(39779),v=h.axisNames,p=(I=function(_){return _.slice().reverse().map(function(g){return-g}).concat([0]).concat(_)},E=String,f={},function(_){var g=E?E(_):_;if(g in f)return f[g];var w=I(_);return f[g]=w,w});function T(_,g,w,x){var b=w("bgcolor");x.bgColor=M.combine(b,x.paper_bgcolor);var A,m=i(x.fullData,h.name,x.id),C=x.layoutOut;function k(Z,X){return w(A+"."+Z,X)}for(var P=0;P<v.length;P++){S.isPlainObject(_[A=v[P]])||(_[A]={});var R=_[A],L=y.newContainer(g,A);L._id=L._name=A,L._attr=x.id+"."+A,L._traceIndices=m.map(function(Z){return Z._expandedIndex});var N=k("visible");if(L.type="linear",l(L,C),s(R,L,k,L.type),N){var B,J,z,Y,q="realaxis"===A;q&&k("side"),q?k("tickvals"):k("tickvals",p(g.realaxis.tickvals||c.realaxis.tickvals.dflt));var U=x.font||{};N&&(J=(B=k("color"))===R.color?B:U.color,z=U.size,Y=U.family),a(R,L,k,L.type,{noTicklabelstep:!0,noAng:!q,noExp:!0,font:{color:J,size:z,family:Y}}),S.coerce2(_,g,c,A+".ticklen"),S.coerce2(_,g,c,A+".tickwidth"),S.coerce2(_,g,c,A+".tickcolor",g.color),k("ticks")||(delete g[A].ticklen,delete g[A].tickwidth,delete g[A].tickcolor),o(R,L,k,{dfltColor:B,bgColor:x.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:c[A]}),k("layer")}k("hoverformat"),delete L.type,L._input=R}}oe.exports=function(_,g,w){u(_,g,w,{noUirevision:!0,type:h.name,attributes:c,handleDefaults:T,font:g.font,paper_bgcolor:g.paper_bgcolor,fullData:w,layoutOut:g})}},49119:function(oe,j,r){"use strict";var I=r(71828),E=r(44467),f=r(27670).c;oe.exports=function(S,M,y,u){var i,s,o=u.attributes,l=u.handleDefaults,c=u.partition||"x",h=M._subplots[u.type],v=h.length,p=v&&h[0].replace(/\d+$/,"");function T(x,b){return I.coerce(i,s,o,x,b)}for(var _=0;_<v;_++){var g=h[_];i=S[g]?S[g]:S[g]={},s=E.newContainer(M,g,p),u.noUirevision||T("uirevision",M.uirevision);var w={};w[c]=[_/v,(_+1)/v],f(s,M,T,w),u.id=g,l(i,s,T,u)}}},5386:function(oe,j,r){"use strict";function E(f){var S=f.description?" "+f.description:"",M=f.keys||[];if(M.length>0){for(var y=[],u=0;u<M.length;u++)y[u]="`"+M[u]+"`";S+="Finally, the template string has access to ",S=1===M.length?S+"variable "+y[0]:S+"variables "+y.slice(0,-1).join(", ")+" and "+y.slice(-1)+"."}return S}r(31562),j.fF=function(f,S){f=f||{},E(S=S||{});var M={valType:"string",dflt:"",editType:f.editType||"none"};return!1!==f.arrayOk&&(M.arrayOk=!0),M},j.si=function(f,S){f=f||{},E(S=S||{});var M={valType:"string",dflt:"",editType:f.editType||"calc"};return!1!==f.arrayOk&&(M.arrayOk=!0),M},j.R=function(f,S){return f=f||{},E(S=S||{}),{valType:"string",dflt:"",editType:f.editType||"arraydraw"}}},61639:function(oe,j,r){"use strict";var I=r(64380),E=r(27659).AU,f=r(71828).counterRegex,S="ternary";j.name=S;var M=j.attr="subplot";j.idRoot=S,j.idRegex=j.attrRegex=f(S),(j.attributes={})[M]={valType:"subplotid",dflt:"ternary",editType:"calc"},j.layoutAttributes=r(81367),j.supplyLayoutDefaults=r(25369),j.plot=function(y){for(var u=y._fullLayout,i=y.calcdata,s=u._subplots[S],a=0;a<s.length;a++){var o=s[a],l=E(i,S,o),c=u[o]._subplot;c||(c=new I({id:o,graphDiv:y,container:u._ternarylayer.node()},u),u[o]._subplot=c),c.plot(l,u,y._promises)}},j.clean=function(y,u,i,s){for(var a=s._subplots[S]||[],o=0;o<a.length;o++){var l=a[o],c=s[l]._subplot;!u[l]&&c&&(c.plotContainer.remove(),c.clipDef.remove(),c.clipDefRelative.remove(),c.layers["a-title"].remove(),c.layers["b-title"].remove(),c.layers["c-title"].remove())}}},81367:function(oe,j,r){"use strict";var I=r(22399),E=r(27670).Y,f=r(13838),S=r(30962).overrideAll,M=r(1426).extendFlat,y={title:{text:f.title.text,font:f.title.font},color:f.color,tickmode:f.minor.tickmode,nticks:M({},f.nticks,{dflt:6,min:1}),tick0:f.tick0,dtick:f.dtick,tickvals:f.tickvals,ticktext:f.ticktext,ticks:f.ticks,ticklen:f.ticklen,tickwidth:f.tickwidth,tickcolor:f.tickcolor,ticklabelstep:f.ticklabelstep,showticklabels:f.showticklabels,labelalias:f.labelalias,showtickprefix:f.showtickprefix,tickprefix:f.tickprefix,showticksuffix:f.showticksuffix,ticksuffix:f.ticksuffix,showexponent:f.showexponent,exponentformat:f.exponentformat,minexponent:f.minexponent,separatethousands:f.separatethousands,tickfont:f.tickfont,tickangle:f.tickangle,tickformat:f.tickformat,tickformatstops:f.tickformatstops,hoverformat:f.hoverformat,showline:M({},f.showline,{dflt:!0}),linecolor:f.linecolor,linewidth:f.linewidth,showgrid:M({},f.showgrid,{dflt:!0}),gridcolor:f.gridcolor,gridwidth:f.gridwidth,griddash:f.griddash,layer:f.layer,min:{valType:"number",dflt:0,min:0},_deprecated:{title:f._deprecated.title,titlefont:f._deprecated.titlefont}},u=oe.exports=S({domain:E({name:"ternary"}),bgcolor:{valType:"color",dflt:I.background},sum:{valType:"number",dflt:1,min:0},aaxis:y,baxis:y,caxis:y},"plot","from-root");u.uirevision={valType:"any",editType:"none"},u.aaxis.uirevision=u.baxis.uirevision=u.caxis.uirevision={valType:"any",editType:"none"}},25369:function(oe,j,r){"use strict";var I=r(7901),E=r(44467),f=r(71828),S=r(49119),M=r(96115),y=r(89426),u=r(38701),i=r(26218),s=r(92128),a=r(81367),o=["aaxis","baxis","caxis"];function l(h,v,p,T){var _,g,w,x=p("bgcolor"),b=p("sum");T.bgColor=I.combine(x,T.paper_bgcolor);for(var A=0;A<o.length;A++)g=h[_=o[A]]||{},(w=E.newContainer(v,_))._name=_,c(g,w,T,v);var m=v.aaxis,C=v.baxis,k=v.caxis;m.min+C.min+k.min>=b&&(m.min=0,C.min=0,k.min=0,h.aaxis&&delete h.aaxis.min,h.baxis&&delete h.baxis.min,h.caxis&&delete h.caxis.min)}function c(h,v,p,T){var _=a[v._name];function g(C,k){return f.coerce(h,v,_,C,k)}g("uirevision",T.uirevision),v.type="linear";var w=g("color"),x=w!==_.color.dflt?w:p.font.color,b=v._name.charAt(0).toUpperCase(),A="Component "+b,m=g("title.text",A);v._hovertitle=m===A?m:b,f.coerceFont(g,"title.font",{family:p.font.family,size:f.bigFont(p.font.size),color:x}),g("min"),i(h,v,g,"linear"),y(h,v,g,"linear"),M(h,v,g,"linear"),u(h,v,g,{outerTicks:!0}),g("showticklabels")&&(f.coerceFont(g,"tickfont",{family:p.font.family,size:p.font.size,color:x}),g("tickangle"),g("tickformat")),s(h,v,g,{dfltColor:w,bgColor:p.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:_}),g("hoverformat"),g("layer")}oe.exports=function(h,v,p){S(h,v,p,{type:"ternary",attributes:a,handleDefaults:l,font:v.font,paper_bgcolor:v.paper_bgcolor})}},64380:function(oe,j,r){"use strict";var I=r(39898),E=r(84267),f=r(73972),S=r(71828),M=S.strTranslate,y=S._,u=r(7901),i=r(91424),s=r(21994),a=r(1426).extendFlat,o=r(74875),l=r(89298),c=r(28569),h=r(30211),v=r(64505),p=v.freeMode,T=v.rectMode,_=r(92998),g=r(47322).prepSelect,w=r(47322).selectOnClick,x=r(47322).clearOutline,b=r(47322).clearSelectionsCache,A=r(85555);function m(z,Y){this.id=z.id,this.graphDiv=z.graphDiv,this.init(Y),this.makeFramework(Y),this.aTickLayout=null,this.bTickLayout=null,this.cTickLayout=null}oe.exports=m;var C=m.prototype;C.init=function(z){this.container=z._ternarylayer,this.defs=z._defs,this.layoutId=z._uid,this.traceHash={},this.layers={}},C.plot=function(z,Y){var q=this,U=Y[q.id],Z=Y._size;q._hasClipOnAxisFalse=!1;for(var X=0;X<z.length;X++)if(!1===z[X][0].trace.cliponaxis){q._hasClipOnAxisFalse=!0;break}q.updateLayers(U),q.adjustLayout(U,Z),o.generalUpdatePerTraceModule(q.graphDiv,q,z,U),q.layers.plotbg.select("path").call(u.fill,U.bgcolor)},C.makeFramework=function(z){var Y=this,q=Y.graphDiv,U=z[Y.id],Z=Y.clipId="clip"+Y.layoutId+Y.id,X=Y.clipIdRelative="clip-relative"+Y.layoutId+Y.id;Y.clipDef=S.ensureSingleById(z._clips,"clipPath",Z,function(se){se.append("path").attr("d","M0,0Z")}),Y.clipDefRelative=S.ensureSingleById(z._clips,"clipPath",X,function(se){se.append("path").attr("d","M0,0Z")}),Y.plotContainer=S.ensureSingle(Y.container,"g",Y.id),Y.updateLayers(U),i.setClipUrl(Y.layers.backplot,Z,q),i.setClipUrl(Y.layers.grids,Z,q)},C.updateLayers=function(z){var Y=this.layers,q=["draglayer","plotbg","backplot","grids"];"below traces"===z.aaxis.layer&&q.push("aaxis","aline"),"below traces"===z.baxis.layer&&q.push("baxis","bline"),"below traces"===z.caxis.layer&&q.push("caxis","cline"),q.push("frontplot"),"above traces"===z.aaxis.layer&&q.push("aaxis","aline"),"above traces"===z.baxis.layer&&q.push("baxis","bline"),"above traces"===z.caxis.layer&&q.push("caxis","cline");var U=this.plotContainer.selectAll("g.toplevel").data(q,String),Z=["agrid","bgrid","cgrid"];U.enter().append("g").attr("class",function(X){return"toplevel "+X}).each(function(X){var se=I.select(this);Y[X]=se,"frontplot"===X?se.append("g").classed("scatterlayer",!0):"backplot"===X?se.append("g").classed("maplayer",!0):"plotbg"===X?se.append("path").attr("d","M0,0Z"):"aline"===X||"bline"===X||"cline"===X?se.append("path"):"grids"===X&&Z.forEach(function(re){Y[re]=se.append("g").classed("grid "+re,!0)})}),U.order()};var k=Math.sqrt(4/3);C.adjustLayout=function(z,Y){var q,U,Z,X,se,re,ee=this,K=z.domain,ne=(K.x[0]+K.x[1])/2,ae=(K.y[0]+K.y[1])/2,ue=K.x[1]-K.x[0],he=K.y[1]-K.y[0],pe=ue*Y.w,ge=he*Y.h,xe=z.sum,Se=z.aaxis.min,Te=z.baxis.min,ye=z.caxis.min;pe>k*ge?Z=(X=ge)*k:X=(Z=pe)/k,se=ue*Z/pe,re=he*X/ge,U=Y.t+Y.h*(1-ae)-X/2,ee.x0=q=Y.l+Y.w*ne-Z/2,ee.y0=U,ee.w=Z,ee.h=X,ee.sum=xe,ee.xaxis={type:"linear",range:[Se+2*ye-xe,xe-Se-2*Te],domain:[ne-se/2,ne+se/2],_id:"x"},s(ee.xaxis,ee.graphDiv._fullLayout),ee.xaxis.setScale(),ee.xaxis.isPtWithinRange=function(Ue){return Ue.a>=ee.aaxis.range[0]&&Ue.a<=ee.aaxis.range[1]&&Ue.b>=ee.baxis.range[1]&&Ue.b<=ee.baxis.range[0]&&Ue.c>=ee.caxis.range[1]&&Ue.c<=ee.caxis.range[0]},ee.yaxis={type:"linear",range:[Se,xe-Te-ye],domain:[ae-re/2,ae+re/2],_id:"y"},s(ee.yaxis,ee.graphDiv._fullLayout),ee.yaxis.setScale(),ee.yaxis.isPtWithinRange=function(){return!0};var we=ee.yaxis.domain[0],ze=ee.aaxis=a({},z.aaxis,{range:[Se,xe-Te-ye],side:"left",tickangle:(+z.aaxis.tickangle||0)-30,domain:[we,we+re*k],anchor:"free",position:0,_id:"y",_length:Z});s(ze,ee.graphDiv._fullLayout),ze.setScale();var ke=ee.baxis=a({},z.baxis,{range:[xe-Se-ye,Te],side:"bottom",domain:ee.xaxis.domain,anchor:"free",position:0,_id:"x",_length:Z});s(ke,ee.graphDiv._fullLayout),ke.setScale();var Ee=ee.caxis=a({},z.caxis,{range:[xe-Se-Te,ye],side:"right",tickangle:(+z.caxis.tickangle||0)+30,domain:[we,we+re*k],anchor:"free",position:0,_id:"y",_length:Z});s(Ee,ee.graphDiv._fullLayout),Ee.setScale();var me="M"+q+","+(U+X)+"h"+Z+"l-"+Z/2+",-"+X+"Z";ee.clipDef.select("path").attr("d",me),ee.layers.plotbg.select("path").attr("d",me);var de="M0,"+X+"h"+Z+"l-"+Z/2+",-"+X+"Z";ee.clipDefRelative.select("path").attr("d",de);var ce=M(q,U);ee.plotContainer.selectAll(".scatterlayer,.maplayer").attr("transform",ce),ee.clipDefRelative.select("path").attr("transform",null);var Ae=M(q-ke._offset,U+X);ee.layers.baxis.attr("transform",Ae),ee.layers.bgrid.attr("transform",Ae);var Ne=M(q+Z/2,U)+"rotate(30)"+M(0,-ze._offset);ee.layers.aaxis.attr("transform",Ne),ee.layers.agrid.attr("transform",Ne);var De=M(q+Z/2,U)+"rotate(-30)"+M(0,-Ee._offset);ee.layers.caxis.attr("transform",De),ee.layers.cgrid.attr("transform",De),ee.drawAxes(!0),ee.layers.aline.select("path").attr("d",ze.showline?"M"+q+","+(U+X)+"l"+Z/2+",-"+X:"M0,0").call(u.stroke,ze.linecolor||"#000").style("stroke-width",(ze.linewidth||0)+"px"),ee.layers.bline.select("path").attr("d",ke.showline?"M"+q+","+(U+X)+"h"+Z:"M0,0").call(u.stroke,ke.linecolor||"#000").style("stroke-width",(ke.linewidth||0)+"px"),ee.layers.cline.select("path").attr("d",Ee.showline?"M"+(q+Z/2)+","+U+"l"+Z/2+","+X:"M0,0").call(u.stroke,Ee.linecolor||"#000").style("stroke-width",(Ee.linewidth||0)+"px"),ee.graphDiv._context.staticPlot||ee.initInteractions(),i.setClipUrl(ee.layers.frontplot,ee._hasClipOnAxisFalse?null:ee.clipId,ee.graphDiv)},C.drawAxes=function(z){var Y=this,q=Y.graphDiv,U=Y.id.substr(7)+"title",Z=Y.layers,X=Y.aaxis,se=Y.baxis,re=Y.caxis;if(Y.drawAx(X),Y.drawAx(se),Y.drawAx(re),z){var ee=Math.max(X.showticklabels?X.tickfont.size/2:0,(re.showticklabels?.75*re.tickfont.size:0)+("outside"===re.ticks?.87*re.ticklen:0)),K=(se.showticklabels?se.tickfont.size:0)+("outside"===se.ticks?se.ticklen:0)+3;Z["a-title"]=_.draw(q,"a"+U,{propContainer:X,propName:Y.id+".aaxis.title",placeholder:y(q,"Click to enter Component A title"),attributes:{x:Y.x0+Y.w/2,y:Y.y0-X.title.font.size/3-ee,"text-anchor":"middle"}}),Z["b-title"]=_.draw(q,"b"+U,{propContainer:se,propName:Y.id+".baxis.title",placeholder:y(q,"Click to enter Component B title"),attributes:{x:Y.x0-K,y:Y.y0+Y.h+.83*se.title.font.size+K,"text-anchor":"middle"}}),Z["c-title"]=_.draw(q,"c"+U,{propContainer:re,propName:Y.id+".caxis.title",placeholder:y(q,"Click to enter Component C title"),attributes:{x:Y.x0+Y.w+K,y:Y.y0+Y.h+.83*re.title.font.size+K,"text-anchor":"middle"}})}},C.drawAx=function(z){var Y,q=this,U=q.graphDiv,Z=z._name,X=Z.charAt(0),se=z._id,re=q.layers[Z],ee=X+"tickLayout",K=(Y=z).ticks+String(Y.ticklen)+String(Y.showticklabels);q[ee]!==K&&(re.selectAll("."+se+"tick").remove(),q[ee]=K),z.setScale();var ne=l.calcTicks(z),ae=l.clipEnds(z,ne),ue=l.makeTransTickFn(z),he=l.getTickSigns(z)[2],pe=S.deg2rad(30),ge=he*(z.linewidth||1)/2,xe=he*z.ticklen,Se=q.w,Te=q.h,ye="b"===X?"M0,"+ge+"l"+Math.sin(pe)*xe+","+Math.cos(pe)*xe:"M"+ge+",0l"+Math.cos(pe)*xe+","+-Math.sin(pe)*xe,we={a:"M0,0l"+Te+",-"+Se/2,b:"M0,0l-"+Se/2+",-"+Te,c:"M0,0l-"+Te+","+Se/2}[X];l.drawTicks(U,z,{vals:"inside"===z.ticks?ae:ne,layer:re,path:ye,transFn:ue,crisp:!1}),l.drawGrid(U,z,{vals:ae,layer:q.layers[X+"grid"],path:we,transFn:ue,crisp:!1}),l.drawLabels(U,z,{vals:ne,layer:re,transFn:ue,labelFns:l.makeLabelFns(z,0,30)})};var P=A.MINZOOM/2+.87,R="m-0.87,.5h"+P+"v3h-"+(P+5.2)+"l"+(P/2+2.6)+",-"+(.87*P+4.5)+"l2.6,1.5l-"+P/2+","+.87*P+"Z",L="m0.87,.5h-"+P+"v3h"+(P+5.2)+"l-"+(P/2+2.6)+",-"+(.87*P+4.5)+"l-2.6,1.5l"+P/2+","+.87*P+"Z",N="m0,1l"+P/2+","+.87*P+"l2.6,-1.5l-"+(P/2+2.6)+",-"+(.87*P+4.5)+"l-"+(P/2+2.6)+","+(.87*P+4.5)+"l2.6,1.5l"+P/2+",-"+.87*P+"Z",B=!0;function J(z){I.select(z).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}C.clearOutline=function(){b(this.dragOptions),x(this.dragOptions.gd)},C.initInteractions=function(){var z,Y,q,U,Z,X,se,re,ee,K,ne,ae,ue=this,he=ue.layers.plotbg.select("path").node(),pe=ue.graphDiv,ge=pe._fullLayout._zoomlayer;function xe(de){var ce={};return ce[ue.id+".aaxis.min"]=de.a,ce[ue.id+".baxis.min"]=de.b,ce[ue.id+".caxis.min"]=de.c,ce}function Se(de,ce){var Ae=pe._fullLayout.clickmode;J(pe),2===de&&(pe.emit("plotly_doubleclick",null),f.call("_guiRelayout",pe,xe({a:0,b:0,c:0}))),Ae.indexOf("select")>-1&&1===de&&w(ce,pe,[ue.xaxis],[ue.yaxis],ue.id,ue.dragOptions),Ae.indexOf("event")>-1&&h.click(pe,ce,ue.id)}function Te(de,ce){return 1-ce/ue.h}function ye(de,ce){return 1-(de+(ue.h-ce)/Math.sqrt(3))/ue.w}function we(de,ce){return(de-(ue.h-ce)/Math.sqrt(3))/ue.w}function ze(de,ce){var Ae=q+de*z,Ne=U+ce*Y,De=Math.max(0,Math.min(1,Te(0,U),Te(0,Ne))),Ue=Math.max(0,Math.min(1,ye(q,U),ye(Ae,Ne))),Ye=Math.max(0,Math.min(1,we(q,U),we(Ae,Ne))),_e=(De/2+Ye)*ue.w,Pe=(1-De/2-Ue)*ue.w,Ie=(_e+Pe)/2,Be=Pe-_e,We=(1-De)*ue.h,Ge=We-Be/k;Be<A.MINZOOM?(se=Z,ne.attr("d",ee),ae.attr("d","M0,0Z")):(se={a:Z.a+De*X,b:Z.b+Ue*X,c:Z.c+Ye*X},ne.attr("d",ee+"M"+_e+","+We+"H"+Pe+"L"+Ie+","+Ge+"L"+_e+","+We+"Z"),ae.attr("d","M"+q+","+U+"m0.5,0.5h5v-2h-5v-5h-2v5h-5v2h5v5h2ZM"+_e+","+We+R+"M"+Pe+","+We+L+"M"+Ie+","+Ge+N)),K||(ne.transition().style("fill",re>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),ae.transition().style("opacity",1).duration(200),K=!0),pe.emit("plotly_relayouting",xe(se))}function ke(){J(pe),se!==Z&&(f.call("_guiRelayout",pe,xe(se)),B&&pe.data&&pe._context.showTips&&(S.notifier(y(pe,"Double-click to zoom back out"),"long"),B=!1))}function Ee(de,ce){var Ae=de/ue.xaxis._m,Ne=ce/ue.yaxis._m,De=[(se={a:Z.a-Ne,b:Z.b+(Ae+Ne)/2,c:Z.c-(Ae-Ne)/2}).a,se.b,se.c].sort(S.sorterAsc),Ue=De.indexOf(se.a),Ye=De.indexOf(se.b),_e=De.indexOf(se.c);De[0]<0&&(De[1]+De[0]/2<0?(De[2]+=De[0]+De[1],De[0]=De[1]=0):(De[2]+=De[0]/2,De[1]+=De[0]/2,De[0]=0),ce=(Z.a-(se={a:De[Ue],b:De[Ye],c:De[_e]}).a)*ue.yaxis._m,de=(Z.c-se.c-Z.b+se.b)*ue.xaxis._m);var Pe=M(ue.x0+de,ue.y0+ce);ue.plotContainer.selectAll(".scatterlayer,.maplayer").attr("transform",Pe);var Ie=M(-de,-ce);ue.clipDefRelative.select("path").attr("transform",Ie),ue.aaxis.range=[se.a,ue.sum-se.b-se.c],ue.baxis.range=[ue.sum-se.a-se.c,se.b],ue.caxis.range=[ue.sum-se.a-se.b,se.c],ue.drawAxes(!1),ue._hasClipOnAxisFalse&&ue.plotContainer.select(".scatterlayer").selectAll(".trace").call(i.hideOutsideRangePoints,ue),pe.emit("plotly_relayouting",xe(se))}function me(){f.call("_guiRelayout",pe,xe(se))}this.dragOptions={element:he,gd:pe,plotinfo:{id:ue.id,domain:pe._fullLayout[ue.id].domain,xaxis:ue.xaxis,yaxis:ue.yaxis},subplot:ue.id,prepFn:function(de,ce,Ae){ue.dragOptions.xaxes=[ue.xaxis],ue.dragOptions.yaxes=[ue.yaxis],z=pe._fullLayout._invScaleX,Y=pe._fullLayout._invScaleY;var Ne=ue.dragOptions.dragmode=pe._fullLayout.dragmode;ue.dragOptions.minDrag=p(Ne)?1:void 0,"zoom"===Ne?(ue.dragOptions.moveFn=ze,ue.dragOptions.clickFn=Se,ue.dragOptions.doneFn=ke,function(De,Ue,Ye){var _e=he.getBoundingClientRect();q=Ue-_e.left,U=Ye-_e.top,pe._fullLayout._calcInverseTransform(pe);var Ie=S.apply3DTransform(pe._fullLayout._invTransform)(q,U);q=Ie[0],U=Ie[1],se=Z={a:ue.aaxis.range[0],b:ue.baxis.range[1],c:ue.caxis.range[1]},X=ue.aaxis.range[1]-Z.a,re=E(ue.graphDiv._fullLayout[ue.id].bgcolor).getLuminance(),ee="M0,"+ue.h+"L"+ue.w/2+", 0L"+ue.w+","+ue.h+"Z",K=!1,ne=ge.append("path").attr("class","zoombox").attr("transform",M(ue.x0,ue.y0)).style({fill:re>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("d",ee),ae=ge.append("path").attr("class","zoombox-corners").attr("transform",M(ue.x0,ue.y0)).style({fill:u.background,stroke:u.defaultLine,"stroke-width":1,opacity:0}).attr("d","M0,0Z"),ue.clearOutline(pe)}(0,ce,Ae)):"pan"===Ne?(ue.dragOptions.moveFn=Ee,ue.dragOptions.clickFn=Se,ue.dragOptions.doneFn=me,se=Z={a:ue.aaxis.range[0],b:ue.baxis.range[1],c:ue.caxis.range[1]},ue.clearOutline(pe)):(T(Ne)||p(Ne))&&g(de,ce,Ae,ue.dragOptions,Ne)}},he.onmousemove=function(de){h.hover(pe,de,ue.id),pe._fullLayout._lasthover=he,pe._fullLayout._hoversubplot=ue.id},he.onmouseout=function(de){pe._dragging||c.unhover(pe,de)},c.init(this.dragOptions)}},73972:function(oe,j,r){"use strict";var I=r(47769),E=r(64213),f=r(75138),S=r(41965),M=r(24401).addStyleRule,y=r(1426),u=r(9012),i=r(10820),s=y.extendFlat,a=y.extendDeepAll;function o(w){var x=w.name,b=w.categories,A=w.meta;if(j.modules[x])I.log("Type "+x+" already registered");else{j.subplotsRegistry[w.basePlotModule.name]||function(B){var J=B.name;if(j.subplotsRegistry[J])I.log("Plot type "+J+" already registered.");else for(var z in v(B),j.subplotsRegistry[J]=B,j.componentsRegistry)_(z,B.name)}(w.basePlotModule);for(var m={},C=0;C<b.length;C++)m[b[C]]=!0,j.allCategories[b[C]]=!0;for(var k in j.modules[x]={_module:w,categories:m},A&&Object.keys(A).length&&(j.modules[x].meta=A),j.allTypes.push(x),j.componentsRegistry)p(k,x);w.layoutAttributes&&s(j.traceLayoutAttributes,w.layoutAttributes);var P=w.basePlotModule,R=P.name;if("mapbox"===R){var L=P.constants.styleRules;for(var N in L)M(".js-plotly-plot .plotly .mapboxgl-"+N,L[N])}"geo"!==R&&"mapbox"!==R||void 0!==window.PlotlyGeoAssets||(window.PlotlyGeoAssets={topojson:{}})}}function l(w){if("string"!=typeof w.name)throw new Error("Component module *name* must be a string.");var x=w.name;for(var b in j.componentsRegistry[x]=w,w.layoutAttributes&&(w.layoutAttributes._isLinkedToArray&&f(j.layoutArrayContainers,x),v(w)),j.modules)p(x,b);for(var A in j.subplotsRegistry)_(x,A);for(var m in j.transformsRegistry)T(x,m);w.schema&&w.schema.layout&&a(i,w.schema.layout)}function c(w){if("string"!=typeof w.name)throw new Error("Transform module *name* must be a string.");var x="Transform module "+w.name,b="function"==typeof w.transform,A="function"==typeof w.calcTransform;if(!b&&!A)throw new Error(x+" is missing a *transform* or *calcTransform* method.");for(var m in b&&A&&I.log([x+" has both a *transform* and *calcTransform* methods.","Please note that all *transform* methods are executed","before all *calcTransform* methods."].join(" ")),S(w.attributes)||I.log(x+" registered without an *attributes* object."),"function"!=typeof w.supplyDefaults&&I.log(x+" registered without a *supplyDefaults* method."),j.transformsRegistry[w.name]=w,j.componentsRegistry)T(m,w.name)}function h(w){var x=w.name,b=x.split("-")[0],A=w.dictionary,m=w.format,C=A&&Object.keys(A).length,k=m&&Object.keys(m).length,P=j.localeRegistry,R=P[x];if(R||(P[x]=R={}),b!==x){var L=P[b];L||(P[b]=L={}),C&&L.dictionary===R.dictionary&&(L.dictionary=A),k&&L.format===R.format&&(L.format=m)}C&&(R.dictionary=A),k&&(R.format=m)}function v(w){if(w.layoutAttributes){var x=w.layoutAttributes._arrayAttrRegexps;if(x)for(var b=0;b<x.length;b++)f(j.layoutArrayRegexes,x[b])}}function p(w,x){var b=j.componentsRegistry[w].schema;if(b&&b.traces){var A=b.traces[x];A&&a(j.modules[x]._module.attributes,A)}}function T(w,x){var b=j.componentsRegistry[w].schema;if(b&&b.transforms){var A=b.transforms[x];A&&a(j.transformsRegistry[x].attributes,A)}}function _(w,x){var b=j.componentsRegistry[w].schema;if(b&&b.subplots){var A=j.subplotsRegistry[x],m=A.layoutAttributes,C="subplot"===A.attr?A.name:A.attr;Array.isArray(C)&&(C=C[0]);var k=b.subplots[C];m&&k&&a(m,k)}}function g(w){return"object"==typeof w&&(w=w.type),w}j.modules={},j.allCategories={},j.allTypes=[],j.subplotsRegistry={},j.transformsRegistry={},j.componentsRegistry={},j.layoutArrayContainers=[],j.layoutArrayRegexes=[],j.traceLayoutAttributes={},j.localeRegistry={},j.apiMethodRegistry={},j.collectableSubplotTypes=null,j.register=function(w){if(j.collectableSubplotTypes=null,!w)throw new Error("No argument passed to Plotly.register.");w&&!Array.isArray(w)&&(w=[w]);for(var x=0;x<w.length;x++){var b=w[x];if(!b)throw new Error("Invalid module was attempted to be registered!");switch(b.moduleType){case"trace":o(b);break;case"transform":c(b);break;case"component":l(b);break;case"locale":h(b);break;case"apiMethod":j.apiMethodRegistry[b.name]=b.fn;break;default:throw new Error("Invalid module was attempted to be registered!")}}},j.getModule=function(w){var x=j.modules[g(w)];return!!x&&x._module},j.traceIs=function(w,x){if("various"===(w=g(w)))return!1;var b=j.modules[w];return b||(w&&I.log("Unrecognized trace type "+w+"."),b=j.modules[u.type.dflt]),!!b.categories[x]},j.getTransformIndices=function(w,x){for(var b=[],A=w.transforms||[],m=0;m<A.length;m++)A[m].type===x&&b.push(m);return b},j.hasTransform=function(w,x){for(var b=w.transforms||[],A=0;A<b.length;A++)if(b[A].type===x)return!0;return!1},j.getComponentMethod=function(w,x){var b=j.componentsRegistry[w];return b&&b[x]||E},j.call=function(){var w=arguments[0],x=[].slice.call(arguments,1);return j.apiMethodRegistry[w].apply(null,x)}},61914:function(oe,j,r){"use strict";var I=r(73972),E=r(71828),f=E.extendFlat,S=E.extendDeep;function M(y){var u;switch(y){case"themes__thumb":u={autosize:!0,width:150,height:150,title:{text:""},showlegend:!1,margin:{l:5,r:5,t:5,b:5,pad:0},annotations:[]};break;case"thumbnail":u={title:{text:""},hidesources:!0,showlegend:!1,borderwidth:0,bordercolor:"",margin:{l:1,r:1,t:1,b:1,pad:0},annotations:[]};break;default:u={}}return u}oe.exports=function(y,u){var i,o=y.layout,l=S([],y.data),c=S({},o,M(u.tileClass)),h=y._context||{};if(u.width&&(c.width=u.width),u.height&&(c.height=u.height),"thumbnail"===u.tileClass||"themes__thumb"===u.tileClass){c.annotations=[];var v=Object.keys(c);for(i=0;i<v.length;i++)["xaxis","yaxis","zaxis"].indexOf(v[i].slice(0,5))>-1&&(c[v[i]].title={text:""});for(i=0;i<l.length;i++){var p=l[i];p.showscale=!1,p.marker&&(p.marker.showscale=!1),I.traceIs(p,"pie-like")&&(p.textposition="none")}}if(Array.isArray(u.annotations))for(i=0;i<u.annotations.length;i++)c.annotations.push(u.annotations[i]);var T=Object.keys(c).filter(function(b){return b.match(/^scene\d*$/)});if(T.length){var _={};for("thumbnail"===u.tileClass&&(_={title:{text:""},showaxeslabels:!1,showticklabels:!1,linetickenable:!1}),i=0;i<T.length;i++){var g=c[T[i]];g.xaxis||(g.xaxis={}),g.yaxis||(g.yaxis={}),g.zaxis||(g.zaxis={}),f(g.xaxis,_),f(g.yaxis,_),f(g.zaxis,_),g._scene=null}}var w=document.createElement("div");u.tileClass&&(w.className=u.tileClass);var x={gd:w,td:w,layout:c,data:l,config:{staticPlot:void 0===u.staticPlot||u.staticPlot,plotGlPixelRatio:void 0===u.plotGlPixelRatio?2:u.plotGlPixelRatio,displaylogo:u.displaylogo||!1,showLink:u.showLink||!1,showTips:u.showTips||!1,mapboxAccessToken:h.mapboxAccessToken}};return"transparent"!==u.setBackground&&(x.config.setBackground=u.setBackground||"opaque"),x.gd.defaultLayout=M(u.tileClass),x}},7239:function(oe,j,r){"use strict";var I=r(71828),E=r(403),f=r(22435),S=r(25095);oe.exports=function(M,y){var u;return I.isPlainObject(M)||(u=I.getGraphDiv(M)),(y=y||{}).format=y.format||"png",y.width=y.width||null,y.height=y.height||null,y.imageDataOnly=!0,new Promise(function(i,s){u&&u._snapshotInProgress&&s(new Error("Snapshotting already in progress.")),I.isIE()&&"svg"!==y.format&&s(new Error(S.MSG_IE_BAD_FORMAT)),u&&(u._snapshotInProgress=!0);var a=E(M,y),o=y.filename||M.fn||"newplot";o+="."+y.format.replace("-","."),a.then(function(l){return u&&(u._snapshotInProgress=!1),f(l,o,y.format)}).then(function(l){i(l)}).catch(function(l){u&&(u._snapshotInProgress=!1),s(l)})})}},22435:function(oe,j,r){"use strict";var I=r(71828),E=r(25095);oe.exports=function(f,S,M){var y=document.createElement("a"),u="download"in y;return new Promise(function(i,s){var a,o;return I.isIE()?(a=E.createBlob(f,"svg"),window.navigator.msSaveBlob(a,S),a=null,i(S)):u?(a=E.createBlob(f,M),o=E.createObjectURL(a),y.href=o,y.download=S,document.body.appendChild(y),y.click(),document.body.removeChild(y),E.revokeObjectURL(o),a=null,i(S)):I.isSafari()?(E.octetStream(("svg"===M?",":";base64,")+encodeURIComponent(f)),i(S)):void s(new Error("download error"))})}},25095:function(oe,j,r){"use strict";var I=r(73972);j.getDelay=function(f){return f._has&&(f._has("gl3d")||f._has("gl2d")||f._has("mapbox"))?500:0},j.getRedrawFunc=function(f){return function(){I.getComponentMethod("colorbar","draw")(f)}},j.encodeSVG=function(f){return"data:image/svg+xml,"+encodeURIComponent(f)},j.encodeJSON=function(f){return"data:application/json,"+encodeURIComponent(f)};var E=window.URL||window.webkitURL;j.createObjectURL=function(f){return E.createObjectURL(f)},j.revokeObjectURL=function(f){return E.revokeObjectURL(f)},j.createBlob=function(f,S){if("svg"===S)return new window.Blob([f],{type:"image/svg+xml;charset=utf-8"});if("full-json"===S)return new window.Blob([f],{type:"application/json;charset=utf-8"});var M=function(y){for(var u=y.length,i=new ArrayBuffer(u),s=new Uint8Array(i),a=0;a<u;a++)s[a]=y.charCodeAt(a);return i}(window.atob(f));return new window.Blob([M],{type:"image/"+S})},j.octetStream=function(f){document.location.href="data:application/octet-stream"+f},j.IMAGE_URL_PREFIX=/^data:image\/\w+;base64,/,j.MSG_IE_BAD_FORMAT="Sorry IE does not support downloading from canvas. Try {format:'svg'} instead."},44511:function(oe,j,r){"use strict";var I=r(25095),E={getDelay:I.getDelay,getRedrawFunc:I.getRedrawFunc,clone:r(61914),toSVG:r(5900),svgToImg:r(70942),toImage:r(56395),downloadImage:r(7239)};oe.exports=E},70942:function(oe,j,r){"use strict";var I=r(71828),E=r(15398).EventEmitter,f=r(25095);oe.exports=function(S){var M=S.emitter||new E,y=new Promise(function(u,i){var s=window.Image,a=S.svg,o=S.format||"png";if(I.isIE()&&"svg"!==o){var l=new Error(f.MSG_IE_BAD_FORMAT);return i(l),S.promise?y:M.emit("error",l)}var c,h,v=S.canvas,p=S.scale||1,g=p*(S.width||300),w=p*(S.height||150),x=v.getContext("2d",{willReadFrequently:!0}),b=new s;"svg"===o||I.isSafari()?h=f.encodeSVG(a):(c=f.createBlob(a,"svg"),h=f.createObjectURL(c)),v.width=g,v.height=w,b.onload=function(){var A;switch(c=null,f.revokeObjectURL(h),"svg"!==o&&x.drawImage(b,0,0,g,w),o){case"jpeg":A=v.toDataURL("image/jpeg");break;case"png":A=v.toDataURL("image/png");break;case"webp":A=v.toDataURL("image/webp");break;case"svg":A=h;break;default:var m="Image format is not jpeg, png, svg or webp.";if(i(new Error(m)),!S.promise)return M.emit("error",m)}u(A),S.promise||M.emit("success",A)},b.onerror=function(A){if(c=null,f.revokeObjectURL(h),i(A),!S.promise)return M.emit("error",A)},b.src=h});return S.promise?y:M}},56395:function(oe,j,r){"use strict";var I=r(15398).EventEmitter,E=r(73972),f=r(71828),S=r(25095),M=r(61914),y=r(5900),u=r(70942);oe.exports=function(i,s){var a=new I,o=M(i,{format:"png"}),l=o.gd;l.style.position="absolute",l.style.left="-5000px",document.body.appendChild(l);var c=S.getRedrawFunc(l);return E.call("_doPlot",l,o.data,o.layout,o.config).then(c).then(function(){var h=S.getDelay(l._fullLayout);setTimeout(function(){var v=y(l),p=document.createElement("canvas");p.id=f.randstr(),(a=u({format:s.format,width:l._fullLayout.width,height:l._fullLayout.height,canvas:p,emitter:a,svg:v})).clean=function(){l&&document.body.removeChild(l)}},h)}).catch(function(h){a.emit("error",h)}),a}},5900:function(oe,j,r){"use strict";var I=r(39898),E=r(71828),f=r(91424),S=r(7901),M=r(77922),y=/"/g,u="TOBESTRIPPED",i=new RegExp('("'+u+")|("+u+'")',"g");oe.exports=function(s,a,o){var l,c=s._fullLayout,h=c._paper,v=c._toppaper,p=c.width,T=c.height;h.insert("rect",":first-child").call(f.setRect,0,0,p,T).call(S.fill,c.paper_bgcolor);var _=c._basePlotModules||[];for(l=0;l<_.length;l++){var g=_[l];g.toSVG&&g.toSVG(s)}if(v){var w=v.node().childNodes,x=Array.prototype.slice.call(w);for(l=0;l<x.length;l++){var b=x[l];b.childNodes.length&&h.node().appendChild(b)}}c._draggers&&c._draggers.remove(),h.node().style.background="",h.selectAll("text").attr({"data-unformatted":null,"data-math":null}).each(function(){var m=I.select(this);if("hidden"!==this.style.visibility&&"none"!==this.style.display){m.style({visibility:null,display:null});var C=this.style.fontFamily;C&&-1!==C.indexOf('"')&&m.style("font-family",C.replace(y,u))}else m.remove()}),h.selectAll(".gradient_filled,.pattern_filled").each(function(){var m=I.select(this),C=this.style.fill;C&&-1!==C.indexOf("url(")&&m.style("fill",C.replace(y,u));var k=this.style.stroke;k&&-1!==k.indexOf("url(")&&m.style("stroke",k.replace(y,u))}),"pdf"!==a&&"eps"!==a||h.selectAll("#MathJax_SVG_glyphs path").attr("stroke-width",0),h.node().setAttributeNS(M.xmlns,"xmlns",M.svg),h.node().setAttributeNS(M.xmlns,"xmlns:xlink",M.xlink),"svg"===a&&o&&(h.attr("width",o*p),h.attr("height",o*T),h.attr("viewBox","0 0 "+p+" "+T));var m,C,k,A=(new window.XMLSerializer).serializeToString(h.node());return A=(A=(m=A,C=I.select("body").append("div").style({display:"none"}).html(""),k=m.replace(/(&[^;]*;)/gi,function(P){return"&lt;"===P?"&#60;":"&rt;"===P?"&#62;":-1!==P.indexOf("<")||-1!==P.indexOf(">")?"":C.html(P).text()}),C.remove(),A=k).replace(/&(?!\w+;|\#[0-9]+;| \#x[0-9A-F]+;)/g,"&amp;")).replace(i,"'"),E.isIE()&&(A=(A=(A=A.replace(/"/gi,"'")).replace(/(\('#)([^']*)('\))/gi,'("#$2")')).replace(/(\\')/gi,'"')),A}},75341:function(oe,j,r){"use strict";var I=r(71828);oe.exports=function(E,f){for(var S=0;S<E.length;S++)E[S].i=S;I.mergeArray(f.text,E,"tx"),I.mergeArray(f.hovertext,E,"htx");var M=f.marker;if(M){I.mergeArray(M.opacity,E,"mo",!0),I.mergeArray(M.color,E,"mc");var y=M.line;y&&(I.mergeArray(y.color,E,"mlc"),I.mergeArrayCastPositive(y.width,E,"mlw"))}}},1486:function(oe,j,r){"use strict";var I=r(82196),E=r(12663).axisHoverFormat,f=r(5386).fF,S=r(5386).si,M=r(50693),y=r(41940),u=r(97313),i=r(79952).u,s=r(1426).extendFlat,a=y({editType:"calc",arrayOk:!0,colorEditType:"style"}),o=s({},I.marker.line.width,{dflt:0}),l=s({width:o,editType:"calc"},M("marker.line")),c=s({line:l,editType:"calc"},M("marker"),{opacity:{valType:"number",arrayOk:!0,dflt:1,min:0,max:1,editType:"style"},pattern:i});oe.exports={x:I.x,x0:I.x0,dx:I.dx,y:I.y,y0:I.y0,dy:I.dy,xperiod:I.xperiod,yperiod:I.yperiod,xperiod0:I.xperiod0,yperiod0:I.yperiod0,xperiodalignment:I.xperiodalignment,yperiodalignment:I.yperiodalignment,xhoverformat:E("x"),yhoverformat:E("y"),text:I.text,texttemplate:S({editType:"plot"},{keys:u.eventDataKeys}),hovertext:I.hovertext,hovertemplate:f({},{keys:u.eventDataKeys}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"calc"},insidetextanchor:{valType:"enumerated",values:["end","middle","start"],dflt:"end",editType:"plot"},textangle:{valType:"angle",dflt:"auto",editType:"plot"},textfont:s({},a,{}),insidetextfont:s({},a,{}),outsidetextfont:s({},a,{}),constraintext:{valType:"enumerated",values:["inside","outside","both","none"],dflt:"both",editType:"calc"},cliponaxis:s({},I.cliponaxis,{}),orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},base:{valType:"any",dflt:null,arrayOk:!0,editType:"calc"},offset:{valType:"number",dflt:null,arrayOk:!0,editType:"calc"},width:{valType:"number",dflt:null,min:0,arrayOk:!0,editType:"calc"},marker:c,offsetgroup:I.offsetgroup,alignmentgroup:I.alignmentgroup,selected:{marker:{opacity:I.selected.marker.opacity,color:I.selected.marker.color,editType:"style"},textfont:I.selected.textfont,editType:"style"},unselected:{marker:{opacity:I.unselected.marker.opacity,color:I.unselected.marker.color,editType:"style"},textfont:I.unselected.textfont,editType:"style"},_deprecated:{bardir:{valType:"enumerated",editType:"calc",values:["v","h"]}}}},92290:function(oe,j,r){"use strict";var I=r(89298),E=r(42973),f=r(52075).hasColorscale,S=r(78803),M=r(75341),y=r(66279);oe.exports=function(u,i){var s,a,o,l,c,h,v=I.getFromId(u,i.xaxis||"x"),p=I.getFromId(u,i.yaxis||"y"),T={msUTC:!(!i.base&&0!==i.base)};"h"===i.orientation?(s=v.makeCalcdata(i,"x",T),o=p.makeCalcdata(i,"y"),l=E(i,p,"y",o),c=!!i.yperiodalignment,h="y"):(s=p.makeCalcdata(i,"y",T),o=v.makeCalcdata(i,"x"),l=E(i,v,"x",o),c=!!i.xperiodalignment,h="x"),a=l.vals;for(var _=Math.min(a.length,s.length),g=new Array(_),w=0;w<_;w++)g[w]={p:a[w],s:s[w]},c&&(g[w].orig_p=o[w],g[w][h+"End"]=l.ends[w],g[w][h+"Start"]=l.starts[w]),i.ids&&(g[w].id=String(i.ids[w]));return f(i,"marker")&&S(u,i,{vals:i.marker.color,containerStr:"marker",cLetter:"c"}),f(i,"marker.line")&&S(u,i,{vals:i.marker.line.color,containerStr:"marker.line",cLetter:"c"}),M(g,i),y(g,i),g}},97313:function(oe){"use strict";oe.exports={TEXTPAD:3,eventDataKeys:["value","label"]}},11661:function(oe,j,r){"use strict";var I=r(92770),E=r(71828).isArrayOrTypedArray,f=r(50606).BADNUM,S=r(73972),M=r(89298),y=r(99082).getAxisGroup,u=r(61546);function i(_,g,w,x,b){if(x.length){var A,m,C,k;switch(function(P,R){var L,N;for(L=0;L<R.length;L++){var B,J=R[L],z=J[0].trace,Y="funnel"===z.type?z._base:z.base,q="h"===z.orientation?z.xcalendar:z.ycalendar,U="category"===P.type||"multicategory"===P.type?function(){return null}:P.d2c;if(E(Y)){for(N=0;N<Math.min(Y.length,J.length);N++)B=U(Y[N],0,q),I(B)?(J[N].b=+B,J[N].hasB=1):J[N].b=0;for(;N<J.length;N++)J[N].b=0}else{B=U(Y,0,q);var Z=I(B);for(B=Z?B:0,N=0;N<J.length;N++)J[N].b=B,Z&&(J[N].hasB=1)}}}(w,x),b.mode){case"overlay":s(g,w,x,b);break;case"group":for(A=[],m=[],C=0;C<x.length;C++)void 0===(k=x[C])[0].trace.offset?m.push(k):A.push(k);m.length&&(P=_,L=w,J=new u(m,{posAxis:R=g,sepNegVal:!1,overlapNoMerge:!(B=b).norm}),function(z,Y,q,U){for(var Z=z._fullLayout,re=q.minDiff,ee=q.traces,K=ee.length,ne=q.positions.length!==q.distinctPositions.length,ae=re*(1-U.gap),ue=y(Z,Y._id)+ee[0][0].trace.orientation,he=Z._alignmentOpts[ue]||{},pe=0;pe<K;pe++){var ge,xe,Se=ee[pe],Te=Se[0].trace,we=Object.keys((he[Te.alignmentgroup]||{}).offsetGroups||{}).length,ze=(ge=we?ae/we:ne?ae/K:ae)*(1-(U.groupgap||0));xe=we?((2*Te._offsetIndex+1-we)*ge-ze)/2:ne?((2*pe+1-K)*ge-ze)/2:-ze/2;var ke=Se[0].t;ke.barwidth=ze,ke.poffset=xe,ke.bargroupwidth=ae,ke.bardelta=re}q.binWidth=ee[0][0].t.barwidth/100,o(q),l(Y,q),c(Y,q,ne)}(P,R,J,B),function(z,Y){for(var q=z.traces,U=0;U<q.length;U++){var Z=q[U];if(void 0===Z[0].trace.base)for(var X=new u([Z],{posAxis:Y,sepNegVal:!0,overlapNoMerge:!0}),se=0;se<Z.length;se++){var re=Z[se];if(re.p!==f){var ee=X.put(re.p,re.b+re.s);ee&&(re.b=ee)}}}}(J,R),B.norm?(v(J),p(L,J,B)):h(L,J)),A.length&&s(g,w,A,b);break;case"stack":case"relative":for(A=[],m=[],C=0;C<x.length;C++)void 0===(k=x[C])[0].trace.base?m.push(k):A.push(k);m.length&&function(P,R,L,N,B){var J=new u(N,{posAxis:R,sepNegVal:"relative"===B.mode,overlapNoMerge:!(B.norm||"stack"===B.mode||"relative"===B.mode)});a(R,J,B),function(Z,X,se){var re,ee,K,ne,ae,ue,he=T(Z),pe=X.traces;for(ne=0;ne<pe.length;ne++)if("funnel"===(ee=(re=pe[ne])[0].trace).type)for(ae=0;ae<re.length;ae++)(ue=re[ae]).s!==f&&X.put(ue.p,-.5*ue.s);for(ne=0;ne<pe.length;ne++){K="funnel"===(ee=(re=pe[ne])[0].trace).type;var ge=[];for(ae=0;ae<re.length;ae++)if((ue=re[ae]).s!==f){var xe,Se=X.put(ue.p,xe=K?ue.s:ue.s+ue.b),Te=Se+xe;ue.b=Se,ue[he]=Te,se.norm||(ge.push(Te),ue.hasB&&ge.push(Se))}se.norm||(ee._extremes[Z._id]=M.findExtremes(Z,ge,{tozero:!0,padded:!0}))}}(L,J,B);for(var z=0;z<N.length;z++)for(var Y=N[z],q=0;q<Y.length;q++){var U=Y[q];U.s!==f&&U.b+U.s===J.get(U.p,U.s)&&(U._outmost=!0)}B.norm&&p(L,J,B)}(0,g,w,m,b),A.length&&s(g,w,A,b)}!function(P,R){var L,N,B,J=T(R),z={},Y=1/0,q=-1/0;for(L=0;L<P.length;L++)for(B=P[L],N=0;N<B.length;N++){var U=B[N].p;I(U)&&(Y=Math.min(Y,U),q=Math.max(q,U))}var Z=1e4/(q-Y),X=z.round=function(ue){return String(Math.round(Z*(ue-Y)))};for(L=0;L<P.length;L++){(B=P[L])[0].t.extents=z;var se=B[0].t.poffset,re=Array.isArray(se);for(N=0;N<B.length;N++){var ee=B[N],K=ee[J]-ee.w/2;if(I(K)){var ne=ee[J]+ee.w/2,ae=X(ee.p);z[ae]=z[ae]?[Math.min(K,z[ae][0]),Math.max(ne,z[ae][1])]:[K,ne]}ee.p0=ee.p+(re?se[N]:se),ee.p1=ee.p0+ee.w,ee.s0=ee.b,ee.s1=ee.s0+ee.s}}}(x,g)}var P,R,L,B,J}function s(_,g,w,x){for(var b=0;b<w.length;b++){var m=new u([w[b]],{posAxis:_,sepNegVal:!1,overlapNoMerge:!x.norm});a(_,m,x),x.norm?(v(m),p(g,m,x)):h(g,m)}}function a(_,g,w){for(var x=g.minDiff,b=g.traces,A=x*(1-w.gap),m=A*(1-(w.groupgap||0)),C=-m/2,k=0;k<b.length;k++){var P=b[k][0].t;P.barwidth=m,P.poffset=C,P.bargroupwidth=A,P.bardelta=x}g.binWidth=b[0][0].t.barwidth/100,o(g),l(_,g),c(_,g)}function o(_){var g,w,x=_.traces;for(g=0;g<x.length;g++){var b,A=x[g],m=A[0],C=m.trace,k=m.t,P=C._offset||C.offset,R=k.poffset;if(E(P)){for(b=Array.prototype.slice.call(P,0,A.length),w=0;w<b.length;w++)I(b[w])||(b[w]=R);for(w=b.length;w<A.length;w++)b.push(R);k.poffset=b}else void 0!==P&&(k.poffset=P);var L=C._width||C.width,N=k.barwidth;if(E(L)){var B=Array.prototype.slice.call(L,0,A.length);for(w=0;w<B.length;w++)I(B[w])||(B[w]=N);for(w=B.length;w<A.length;w++)B.push(N);if(k.barwidth=B,void 0===P){for(b=[],w=0;w<A.length;w++)b.push(R+(N-B[w])/2);k.poffset=b}}else void 0!==L&&(k.barwidth=L,void 0===P&&(k.poffset=R+(N-L)/2))}}function l(_,g){for(var w=g.traces,x=T(_),b=0;b<w.length;b++)for(var A=w[b],m=A[0].t,C=m.poffset,k=Array.isArray(C),P=m.barwidth,R=Array.isArray(P),L=0;L<A.length;L++){var N=A[L],B=N.w=R?P[L]:P;void 0===N.p&&(N.p=N[x],N["orig_"+x]=N[x]),N[x]=N.p+((k?C[L]:C)+B/2)}}function c(_,g,w){var x=g.traces,b=g.minDiff/2;M.minDtick(_,g.minDiff,g.distinctPositions[0],w);for(var A=0;A<x.length;A++){var m,C,k,P,R=x[A],L=R[0],N=L.trace,B=[];for(P=0;P<R.length;P++)C=(m=R[P]).p-b,B.push(C,k=m.p+b);if(N.width||N.offset){var J=L.t,z=J.poffset,Y=J.barwidth,q=Array.isArray(z),U=Array.isArray(Y);for(P=0;P<R.length;P++)k=(C=(m=R[P]).p+(q?z[P]:z))+(U?Y[P]:Y),B.push(C,k)}N._extremes[_._id]=M.findExtremes(_,B,{padded:!1})}}function h(_,g){for(var w=g.traces,x=T(_),b=0;b<w.length;b++){for(var A=w[b],m=A[0].trace,C="scatter"===m.type,k="v"===m.orientation,P=[],R=!1,L=0;L<A.length;L++){var N=A[L],B=C?0:N.b,J=C?k?N.y:N.x:B+N.s;N[x]=J,P.push(J),N.hasB&&P.push(B),N.hasB&&N.b||(R=!0)}m._extremes[_._id]=M.findExtremes(_,P,{tozero:R,padded:!0})}}function v(_){for(var g=_.traces,w=0;w<g.length;w++)for(var x=g[w],b=0;b<x.length;b++){var A=x[b];A.s!==f&&_.put(A.p,A.b+A.s)}}function p(_,g,w){var x=g.traces,b=T(_),A="fraction"===w.norm?1:100,m=A/1e9,C=_.l2c(_.c2l(0)),k="stack"===w.mode?A:C;function P(se){return I(_.c2l(se))&&(se<C-m||se>k+m||!I(C))}for(var R=0;R<x.length;R++){for(var L=x[R],N=L[0].trace,B=[],J=!1,z=!1,Y=0;Y<L.length;Y++){var q=L[Y];if(q.s!==f){var U=Math.abs(A/g.get(q.p,q.s));q.b*=U,q.s*=U;var Z=q.b,X=Z+q.s;q[b]=X,B.push(X),z=z||P(X),q.hasB&&(B.push(Z),z=z||P(Z)),q.hasB&&q.b||(J=!0)}}N._extremes[_._id]=M.findExtremes(_,B,{tozero:J,padded:z})}}function T(_){return _._id.charAt(0)}oe.exports={crossTraceCalc:function(_,g){for(var w=g.xaxis,x=g.yaxis,b=_._fullLayout,A=_._fullData,m=_.calcdata,C=[],k=[],P=0;P<A.length;P++){var R=A[P];if(!0===R.visible&&S.traceIs(R,"bar")&&R.xaxis===w._id&&R.yaxis===x._id&&("h"===R.orientation?C.push(m[P]):k.push(m[P]),R._computePh))for(var L=_.calcdata[P],N=0;N<L.length;N++)"function"==typeof L[N].ph0&&(L[N].ph0=L[N].ph0()),"function"==typeof L[N].ph1&&(L[N].ph1=L[N].ph1())}var B={xCat:"category"===w.type||"multicategory"===w.type,yCat:"category"===x.type||"multicategory"===x.type,mode:b.barmode,norm:b.barnorm,gap:b.bargap,groupgap:b.bargroupgap};i(_,w,x,k,B),i(_,x,w,C,B)},setGroupPositions:i}},90769:function(oe,j,r){"use strict";var I=r(71828),E=r(7901),f=r(73972),S=r(67513),M=r(73927),y=r(98340),u=r(26125),i=r(1486),s=I.coerceFont;function a(o,l,c,h,v,p){var T=!1!==(p=p||{}).moduleHasSelected,_=!1!==p.moduleHasUnselected,g=!1!==p.moduleHasConstrain,w=!1!==p.moduleHasCliponaxis,x=!1!==p.moduleHasTextangle,b=!1!==p.moduleHasInsideanchor,A=!!p.hasPathbar,m=Array.isArray(v)||"auto"===v,C=m||"inside"===v,k=m||"outside"===v;if(C||k){var P=s(h,"textfont",c.font),R=I.extendFlat({},P),L=!(o.textfont&&o.textfont.color);if(L&&delete R.color,s(h,"insidetextfont",R),A){var N=I.extendFlat({},P);L&&delete N.color,s(h,"pathbar.textfont",N)}k&&s(h,"outsidetextfont",P),T&&h("selected.textfont.color"),_&&h("unselected.textfont.color"),g&&h("constraintext"),w&&h("cliponaxis"),x&&h("textangle"),h("texttemplate")}C&&b&&h("insidetextanchor")}oe.exports={supplyDefaults:function(o,l,c,h){function v(g,w){return I.coerce(o,l,i,g,w)}if(S(o,l,h,v)){M(o,l,h,v),v("xhoverformat"),v("yhoverformat"),v("orientation",l.x&&!l.y?"h":"v"),v("base"),v("offset"),v("width"),v("text"),v("hovertext"),v("hovertemplate");var p=v("textposition");a(o,0,h,v,p,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),y(o,l,v,c,h);var T=(l.marker.line||{}).color,_=f.getComponentMethod("errorbars","supplyDefaults");_(o,l,T||E.defaultLine,{axis:"y"}),_(o,l,T||E.defaultLine,{axis:"x",inherit:"y"}),I.coerceSelectionMarkerOpacity(l,v)}else l.visible=!1},crossTraceDefaults:function(o,l){var h;function v(T){return I.coerce(h._input,h,i,T)}if("group"===l.barmode)for(var p=0;p<o.length;p++)"bar"===(h=o[p]).type&&u(h._input,h,l,v)},handleText:a}},58065:function(oe){"use strict";oe.exports=function(j,r,I){return j.x="xVal"in r?r.xVal:r.x,j.y="yVal"in r?r.yVal:r.y,r.xa&&(j.xaxis=r.xa),r.ya&&(j.yaxis=r.ya),"h"===I.orientation?(j.label=j.y,j.value=j.x):(j.label=j.x,j.value=j.y),j}},69383:function(oe,j,r){"use strict";var I=r(92770),E=r(84267),f=r(71828).isArrayOrTypedArray;j.coerceString=function(S,M,y){if("string"==typeof M){if(M||!S.noBlank)return M}else if(("number"==typeof M||!0===M)&&!S.strict)return String(M);return void 0!==y?y:S.dflt},j.coerceNumber=function(S,M,y){if(I(M)){M=+M;var u=S.min,i=S.max;if(!(void 0!==u&&M<u||void 0!==i&&M>i))return M}return void 0!==y?y:S.dflt},j.coerceColor=function(S,M,y){return E(M).isValid()?M:void 0!==y?y:S.dflt},j.coerceEnumerated=function(S,M,y){return S.coerceNumber&&(M=+M),-1!==S.values.indexOf(M)?M:void 0!==y?y:S.dflt},j.getValue=function(S,M){var y;return Array.isArray(S)?M<S.length&&(y=S[M]):y=S,y},j.getLineWidth=function(S,M){return 0<M.mlw?M.mlw:f(S.marker.line.width)?0:S.marker.line.width}},95423:function(oe,j,r){"use strict";var I=r(30211),E=r(73972),f=r(7901),S=r(71828).fillText,M=r(69383).getLineWidth,y=r(89298).hoverLabelText,u=r(50606).BADNUM;function i(a,o,l,c,h){var v,p,T,_,g,w,x,b=a.cd,A=b[0].trace,m=b[0].t,C="closest"===c,k="waterfall"===A.type,P=a.maxHoverDistance,R=a.maxSpikeDistance;"h"===A.orientation?(v=l,p=o,T="y",_="x",g=re,w=X):(v=o,p=l,T="x",_="y",w=re,g=X);var L=A[T+"period"],N=C||L;function B(ge){return z(ge,-1)}function J(ge){return z(ge,1)}function z(ge,xe){return ge[T]+xe*ge.w/2}function Y(ge){return ge[T+"End"]-ge[T+"Start"]}var q=C?B:L?function(ge){return ge.p-Y(ge)/2}:function(ge){return Math.min(B(ge),ge.p-m.bardelta/2)},U=C?J:L?function(ge){return ge.p+Y(ge)/2}:function(ge){return Math.max(J(ge),ge.p+m.bardelta/2)};function Z(ge,xe,Se){return h.finiteRange&&(Se=0),I.inbox(ge-v,xe-v,Se+Math.min(1,Math.abs(xe-ge)/x)-1)}function X(ge){return Z(q(ge),U(ge),P)}function se(ge){var xe=ge[_];if(k){var Se=Math.abs(ge.rawS)||0;p>0?xe+=Se:p<0&&(xe-=Se)}return xe}function re(ge){var xe=p,Se=ge.b,Te=se(ge);return I.inbox(Se-xe,Te-xe,P+(Te-xe)/(Te-Se)-1)}var ee=a[T+"a"],K=a[_+"a"];x=Math.abs(ee.r2c(ee.range[1])-ee.r2c(ee.range[0]));var ge,xe,Se,Te,ne=I.getDistanceFunction(c,g,w,function(ge){return(g(ge)+w(ge))/2});if(I.getClosest(b,ne,a),!1!==a.index&&b[a.index].p!==u){N||(q=function(ge){return Math.min(B(ge),ge.p-m.bargroupwidth/2)},U=function(ge){return Math.max(J(ge),ge.p+m.bargroupwidth/2)});var ae=b[a.index],ue=A.base?ae.b+ae.s:ae.s;a[_+"0"]=a[_+"1"]=K.c2p(ae[_],!0),a[_+"LabelVal"]=ue;var he=m.extents[m.extents.round(ae.p)];return a[T+"0"]=ee.c2p(C?q(ae):he[0],!0),a[T+"1"]=ee.c2p(C?U(ae):he[1],!0),a[T+"LabelVal"]=void 0!==ae.orig_p?ae.orig_p:ae.p,a.labelLabel=y(ee,a[T+"LabelVal"],A[T+"hoverformat"]),a.valueLabel=y(K,a[_+"LabelVal"],A[_+"hoverformat"]),a.baseLabel=y(K,ae.b,A[_+"hoverformat"]),a.spikeDistance=(xe=p,Se=(ge=ae).b,Te=se(ge),(I.inbox(Se-xe,Te-xe,R+(Te-xe)/(Te-Se)-1)+function(ge){return Z(B(ge),J(ge),R)}(ae))/2),a[T+"Spike"]=ee.c2p(ae.p,!0),S(ae,A,a),a.hovertemplate=A.hovertemplate,a}}function s(a,o){var l=o.mcc||a.marker.color,c=o.mlcc||a.marker.line.color,h=M(a,o);return f.opacity(l)?l:f.opacity(c)&&h?c:void 0}oe.exports={hoverPoints:function(a,o,l,c,h){var v=i(a,o,l,c,h);if(v){var p=v.cd,T=p[0].trace,_=p[v.index];return v.color=s(T,_),E.getComponentMethod("errorbars","hoverInfo")(_,T,v),[v]}},hoverOnBars:i,getTraceColor:s}},60822:function(oe,j,r){"use strict";oe.exports={attributes:r(1486),layoutAttributes:r(43641),supplyDefaults:r(90769).supplyDefaults,crossTraceDefaults:r(90769).crossTraceDefaults,supplyLayoutDefaults:r(13957),calc:r(92290),crossTraceCalc:r(11661).crossTraceCalc,colorbar:r(4898),arraysToCalcdata:r(75341),plot:r(17295).plot,style:r(16688).style,styleOnSelect:r(16688).styleOnSelect,hoverPoints:r(95423).hoverPoints,eventData:r(58065),selectPoints:r(81974),moduleType:"trace",name:"bar",basePlotModule:r(93612),categories:["bar-like","cartesian","svg","bar","oriented","errorBarsOK","showLegend","zoomScale"],animatable:!0,meta:{}}},43641:function(oe){"use strict";oe.exports={barmode:{valType:"enumerated",values:["stack","group","overlay","relative"],dflt:"group",editType:"calc"},barnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},bargap:{valType:"number",min:0,max:1,editType:"calc"},bargroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},13957:function(oe,j,r){"use strict";var I=r(73972),E=r(89298),f=r(71828),S=r(43641);oe.exports=function(M,y,u){function i(T,_){return f.coerce(M,y,S,T,_)}for(var s=!1,a=!1,o=!1,l={},c=i("barmode"),h=0;h<u.length;h++){var v=u[h];if(I.traceIs(v,"bar")&&v.visible){if(s=!0,"group"===c){var p=v.xaxis+v.yaxis;l[p]&&(o=!0),l[p]=!0}v.visible&&"histogram"===v.type&&"category"!==E.getFromId({_fullLayout:y},v["v"===v.orientation?"xaxis":"yaxis"]).type&&(a=!0)}}s?("overlay"!==c&&i("barnorm"),i("bargap",a&&!o?0:.2),i("bargroupgap")):delete y.barmode}},17295:function(oe,j,r){"use strict";var I=r(39898),E=r(92770),f=r(71828),S=r(63893),M=r(7901),y=r(91424),u=r(73972),i=r(89298).tickText,s=r(72597),a=s.recordMinTextSize,o=s.clearMinTextSize,l=r(16688),c=r(69383),h=r(97313),v=r(1486),p=v.text,T=v.textposition,_=r(23469).appendArrayPointValue,g=h.TEXTPAD;function w(R){return R.id}function b(R,L){return R<L?1:-1}function A(R,L,N,B){var J;return!L.uniformtext.mode&&m(N)?(B&&(J=B()),R.transition().duration(N.duration).ease(N.easing).each("end",function(){J&&J()}).each("interrupt",function(){J&&J()})):R}function m(R){return R&&R.duration>0}function C(R){return"auto"===R?0:R}function k(R,L){var N=Math.PI/180*L,B=Math.abs(Math.sin(N)),J=Math.abs(Math.cos(N));return{x:R.width*J+R.height*B,y:R.width*B+R.height*J}}function P(R,L,N,B,J,z){var Y=!!z.isHorizontal,q=!!z.constrained,U=z.angle||0,Z=z.anchor||"end",X="end"===Z,se="start"===Z,re=((z.leftToRight||0)+1)/2,ee=1-re,K=J.width,ne=J.height,ae=Math.abs(L-R),ue=Math.abs(B-N),he=ae>2*g&&ue>2*g?g:0;ae-=2*he,ue-=2*he;var pe=C(U);"auto"!==U||K<=ae&&ne<=ue||!(K>ae||ne>ue)||(K>ue||ne>ae)&&K<ne==ae<ue||(pe+=90);var ge=k(J,pe),xe=1;q&&(xe=Math.min(1,ae/ge.x,ue/ge.y));var Se=J.left*ee+J.right*re,Te=(J.top+J.bottom)/2,ye=(R+g)*ee+(L-g)*re,we=(N+B)/2,ze=0,ke=0;if(se||X){var Ee=(Y?ge.x:ge.y)/2,me=Y?b(R,L):b(N,B);Y?se?(ye=R+me*he,ze=-me*Ee):(ye=L-me*he,ze=me*Ee):se?(we=N+me*he,ke=-me*Ee):(we=B-me*he,ke=me*Ee)}return{textX:Se,textY:Te,targetX:ye,targetY:we,anchorX:ze,anchorY:ke,scale:xe,rotate:pe}}oe.exports={plot:function(R,L,N,B,J,z){var Y=L.xaxis,q=L.yaxis,U=R._fullLayout,Z=R._context.staticPlot;J||(J={mode:U.barmode,norm:U.barmode,gap:U.bargap,groupgap:U.bargroupgap},o("bar",U));var X=f.makeTraceGroups(B,N,"trace bars").each(function(se){var re=I.select(this),ee=se[0].trace,ae="bar"===ee.type||"funnel"===ee.type,ue=0;"waterfall"===ee.type&&ee.connector.visible&&"between"===ee.connector.mode&&(ue=ee.connector.line.width/2);var he="h"===ee.orientation,pe=m(J),ge=f.ensureSingle(re,"g","points"),xe=function x(R){if(R.ids)return w}(ee),Se=ge.selectAll("g.point").data(f.identity,xe);Se.enter().append("g").classed("point",!0),Se.exit().remove(),Se.each(function(ye,we){var ze,ke,Be,We,Ge,Ke,tt,st,gt,ct,Ee=I.select(this),me=(We=Y,Ge=q,st=[],ct=(Ke=he)?Ge:We,(tt=[])[0]=(gt=Ke?We:Ge).c2p((Be=ye).s0,!0),st[0]=ct.c2p(Be.p0,!0),tt[1]=gt.c2p(Be.s1,!0),st[1]=ct.c2p(Be.p1,!0),Ke?[tt,st]:[st,tt]),de=me[0][0],ce=me[0][1],Ae=me[1][0],Ne=me[1][1],De=0==(he?ce-de:Ne-Ae);if(De&&ae&&c.getLineWidth(ee,ye)&&(De=!1),De||(De=!(E(de)&&E(ce)&&E(Ae)&&E(Ne))),ye.isBlank=De,De&&(he?ce=de:Ne=Ae),ue&&!De&&(he?(de-=b(de,ce)*ue,ce+=b(de,ce)*ue):(Ae-=b(Ae,Ne)*ue,Ne+=b(Ae,Ne)*ue)),"waterfall"===ee.type){if(!De){var Ue=ee[ye.dir].marker;ze=Ue.line.width,ke=Ue.color}}else ze=c.getLineWidth(ee,ye),ke=ye.mc||ee.marker.color;function Ye(Be){var We=I.round(ze/2%1,2);return 0===J.gap&&0===J.groupgap?I.round(Math.round(Be)-We,2):Be}if(!R._context.staticPlot){var _e=M.opacity(ke)<1||ze>.01?Ye:function(Be,We,Ge){return Ge&&Be===We?Be:Math.abs(Be-We)>=2?Ye(Be):Be>We?Math.ceil(Be):Math.floor(Be)};de=_e(de,ce,he),ce=_e(ce,de,he),Ae=_e(Ae,Ne,!he),Ne=_e(Ne,Ae,!he)}var Pe=A(f.ensureSingle(Ee,"path"),U,J,z);if(Pe.style("vector-effect",Z?"none":"non-scaling-stroke").attr("d",isNaN((ce-de)*(Ne-Ae))||De&&R._context.staticPlot?"M0,0Z":"M"+de+","+Ae+"V"+Ne+"H"+ce+"V"+Ae+"Z").call(y.setClipUrl,L.layerClipId,R),!U.uniformtext.mode&&pe){var Ie=y.makePointStyleFns(ee);y.singlePointStyle(ye,Pe,ee,Ie,R)}(function(Be,We,Ge,Ke,tt,st,gt,ct,kt,Dt,vt){var mt,Et=We.xaxis,Lt=We.yaxis,Rt=Be._fullLayout;function Ut(dn,nn,un){return f.ensureSingle(dn,"text").text(nn).attr({class:"bartext bartext-"+mt,"text-anchor":"middle","data-notex":1}).call(y.font,un).call(S.convertToTspans,Be)}var nn,un,rn,kn,Pn,Sn,Bt=Ke[0].trace,rt="h"===Bt.orientation,ot=(un=tt,rn=Et,kn=Lt,Pn=(Sn=(nn=Ke)[0].trace).texttemplate?function(en,vn,hn,yn,Cn){var _n=vn[0].trace,Un=f.castOption(_n,hn,"texttemplate");if(!Un)return"";var qn,Ln,Yn,_r,dr="histogram"===_n.type,kr="waterfall"===_n.type,vr="funnel"===_n.type,mr="h"===_n.orientation;function Br(bn){return i(_r,_r.c2l(bn),!0).text}mr?(qn="y",Ln=Cn,Yn="x",_r=yn):(qn="x",Ln=yn,Yn="y",_r=Cn);var on=vn[hn],An={};An.label=on.p,An.labelLabel=An[qn+"Label"]=i(Ln,Ln.c2l(on.p),!0).text;var Dn=f.castOption(_n,on.i,"text");(0===Dn||Dn)&&(An.text=Dn),An.value=on.s,An.valueLabel=An[Yn+"Label"]=Br(on.s);var Bn={};_(Bn,_n,on.i),(dr||void 0===Bn.x)&&(Bn.x=mr?An.value:An.label),(dr||void 0===Bn.y)&&(Bn.y=mr?An.label:An.value),(dr||void 0===Bn.xLabel)&&(Bn.xLabel=mr?An.valueLabel:An.labelLabel),(dr||void 0===Bn.yLabel)&&(Bn.yLabel=mr?An.labelLabel:An.valueLabel),kr&&(An.delta=+on.rawS||on.s,An.deltaLabel=Br(An.delta),An.final=on.v,An.finalLabel=Br(An.final),An.initial=An.final-An.delta,An.initialLabel=Br(An.initial)),vr&&(An.value=on.s,An.valueLabel=Br(An.value),An.percentInitial=on.begR,An.percentInitialLabel=f.formatPercent(on.begR),An.percentPrevious=on.difR,An.percentPreviousLabel=f.formatPercent(on.difR),An.percentTotal=on.sumR,An.percenTotalLabel=f.formatPercent(on.sumR));var fr=f.castOption(_n,on.i,"customdata");return fr&&(An.customdata=fr),f.texttemplateString(Un,An,en._d3locale,Bn,An,_n._meta||{})}(Rt,nn,un,rn,kn):Sn.textinfo?function(en,vn,hn,yn){var Cn=en[0].trace,_n="h"===Cn.orientation,Un="waterfall"===Cn.type,qn="funnel"===Cn.type;function Ln(fr){return i(_n?hn:yn,+fr,!0).text}var Yn,kr=en[vn],vr=Cn.textinfo.split("+"),mr=[],Br=function(fr){return-1!==vr.indexOf(fr)};if(Br("label")&&mr.push(i(_n?yn:hn,en[vn].p,!0).text),Br("text")&&(0===(Yn=f.castOption(Cn,kr.i,"text"))||Yn)&&mr.push(Yn),Un){var qt=+kr.rawS||kr.s,on=kr.v,An=on-qt;Br("initial")&&mr.push(Ln(An)),Br("delta")&&mr.push(Ln(qt)),Br("final")&&mr.push(Ln(on))}if(qn){Br("value")&&mr.push(Ln(kr.s));var Dn=0;Br("percent initial")&&Dn++,Br("percent previous")&&Dn++,Br("percent total")&&Dn++;var Bn=Dn>1;Br("percent initial")&&(Yn=f.formatPercent(kr.begR),Bn&&(Yn+=" of initial"),mr.push(Yn)),Br("percent previous")&&(Yn=f.formatPercent(kr.difR),Bn&&(Yn+=" of previous"),mr.push(Yn)),Br("percent total")&&(Yn=f.formatPercent(kr.sumR),Bn&&(Yn+=" of total"),mr.push(Yn))}return mr.join("<br>")}(nn,un,rn,kn):c.getValue(Sn.text,un),c.coerceString(p,Pn));mt=function(dn,nn){var un=c.getValue(dn.textposition,nn);return c.coerceEnumerated(T,un)}(Bt,tt);var it=Ke[tt],dt=!("stack"===Dt.mode||"relative"===Dt.mode)||it._outmost;if(ot&&"none"!==mt&&(!it.isBlank&&st!==gt&&ct!==kt||"auto"!==mt&&"inside"!==mt)){var ht=Rt.font,Ve=l.getBarColor(Ke[tt],Bt),qe=l.getInsideTextFont(Bt,tt,ht,Ve),ut=l.getOutsideTextFont(Bt,tt,ht),ft=Ge.datum();rt?"log"===Et.type&&ft.s0<=0&&(st=Et.range[0]<Et.range[1]?0:Et._length):"log"===Lt.type&&ft.s0<=0&&(ct=Lt.range[0]<Lt.range[1]?Lt._length:0);var St,Mt,Tt,xt,Nt,bt=Math.abs(gt-st)-2*g,wt=Math.abs(kt-ct)-2*g;if("outside"===mt&&(dt||it.hasB||(mt="inside")),"auto"===mt&&(dt?(mt="inside",St=Ut(Ge,ot,Nt=f.ensureUniformFontSize(Be,qe)),Tt=(Mt=y.bBox(St.node())).width,xt=Mt.height,Tt>0&&xt>0&&(Tt<=bt&&xt<=wt||Tt<=wt&&xt<=bt||(rt?bt>=Tt*(wt/xt):wt>=xt*(bt/Tt)))?mt="inside":(mt="outside",St.remove(),St=null)):mt="inside"),!St){var It=(St=Ut(Ge,ot,Nt=f.ensureUniformFontSize(Be,"outside"===mt?ut:qe))).attr("transform");if(St.attr("transform",""),Tt=(Mt=y.bBox(St.node())).width,xt=Mt.height,St.attr("transform",It),Tt<=0||xt<=0)return void St.remove()}var Wt,Yt=Bt.textangle;Wt="outside"===mt?function(dn,nn,un,rn,kn,Pn){var Sn,en=!!Pn.isHorizontal,vn=!!Pn.constrained,hn=Pn.angle||0,yn=kn.width,Cn=kn.height,_n=Math.abs(nn-dn),Un=Math.abs(rn-un);Sn=en?Un>2*g?g:0:_n>2*g?g:0;var qn=1;vn&&(qn=en?Math.min(1,Un/Cn):Math.min(1,_n/yn));var Ln=C(hn),Yn=k(kn,Ln),_r=(en?Yn.x:Yn.y)/2,dr=(kn.left+kn.right)/2,kr=(kn.top+kn.bottom)/2,vr=(dn+nn)/2,mr=(un+rn)/2,Br=0,qt=0,on=en?b(nn,dn):b(un,rn);return en?(vr=nn-on*Sn,Br=on*_r):(mr=rn+on*Sn,qt=-on*_r),{textX:dr,textY:kr,targetX:vr,targetY:mr,anchorX:Br,anchorY:qt,scale:qn,rotate:Ln}}(st,gt,ct,kt,Mt,{isHorizontal:rt,constrained:"both"===Bt.constraintext||"outside"===Bt.constraintext,angle:Yt}):P(st,gt,ct,kt,Mt,{isHorizontal:rt,constrained:"both"===Bt.constraintext||"inside"===Bt.constraintext,angle:Yt,anchor:Bt.insidetextanchor}),Wt.fontSize=Nt.size,a("histogram"===Bt.type?"bar":Bt.type,Wt,Rt),it.transform=Wt;var Zt=A(St,Rt,Dt,vt);f.setTransormAndDisplay(Zt,Wt)}else Ge.select("text").remove()})(R,L,Ee,se,we,de,ce,Ae,Ne,J,z),L.layerClipId&&y.hideOutsideRangePoint(ye,Ee.select("text"),Y,q,ee.xcalendar,ee.ycalendar)}),y.setClipUrl(re,!1===ee.cliponaxis?null:L.layerClipId,R)});u.getComponentMethod("errorbars","plot")(R,X,L,J)},toMoveInsideBar:P}},81974:function(oe){"use strict";function j(r,I,E,f,S){var M=I.c2p(f?r.s0:r.p0,!0),y=I.c2p(f?r.s1:r.p1,!0),u=E.c2p(f?r.p0:r.s0,!0),i=E.c2p(f?r.p1:r.s1,!0);return S?[(M+y)/2,(u+i)/2]:f?[y,(u+i)/2]:[(M+y)/2,i]}oe.exports=function(r,I){var E,f=r.cd,S=r.xaxis,M=r.yaxis,y=f[0].trace,u="funnel"===y.type,i="h"===y.orientation,s=[];if(!1===I)for(E=0;E<f.length;E++)f[E].selected=0;else for(E=0;E<f.length;E++){var a=f[E],o="ct"in a?a.ct:j(a,S,M,i,u);I.contains(o,!1,E,r)?(s.push({pointNumber:E,x:S.c2d(a.x),y:M.c2d(a.y)}),a.selected=1):a.selected=0}return s}},61546:function(oe,j,r){"use strict";oe.exports=E;var I=r(71828).distinctVals;function E(f,S){this.traces=f,this.sepNegVal=S.sepNegVal,this.overlapNoMerge=S.overlapNoMerge;for(var M=1/0,y=S.posAxis._id.charAt(0),u=[],i=0;i<f.length;i++){for(var s=f[i],a=0;a<s.length;a++){var o=s[a],l=o.p;void 0===l&&(l=o[y]),void 0!==l&&u.push(l)}s[0]&&s[0].width1&&(M=Math.min(s[0].width1,M))}this.positions=u;var c=I(u);this.distinctPositions=c.vals,this.minDiff=1===c.vals.length&&M!==1/0?M:Math.min(c.minDiff,M);var h=(S.posAxis||{}).type;"category"!==h&&"multicategory"!==h||(this.minDiff=1),this.binWidth=this.minDiff,this.bins={}}E.prototype.put=function(f,S){var M=this.getLabel(f,S),y=this.bins[M]||0;return this.bins[M]=y+S,y},E.prototype.get=function(f,S){var M=this.getLabel(f,S);return this.bins[M]||0},E.prototype.getLabel=function(f,S){return(S<0&&this.sepNegVal?"v":"^")+(this.overlapNoMerge?f:Math.round(f/this.binWidth))}},16688:function(oe,j,r){"use strict";var I=r(39898),E=r(7901),f=r(91424),S=r(71828),M=r(73972),y=r(72597).resizeText,u=r(1486),i=u.textfont,s=u.insidetextfont,a=u.outsidetextfont,o=r(69383);function l(w,x,b){f.pointStyle(w.selectAll("path"),x,b),c(w,x,b)}function c(w,x,b){w.selectAll("text").each(function(A){var m=I.select(this),C=S.ensureUniformFontSize(b,h(m,A,x,b));f.font(m,C)})}function h(w,x,b,A){var m=A._fullLayout.font,C=b.textfont;if(w.classed("bartext-inside")){var k=g(x,b);C=p(b,x.i,m,k)}else w.classed("bartext-outside")&&(C=T(b,x.i,m));return C}function v(w,x,b){return _(i,w.textfont,x,b)}function p(w,x,b,A){var m=v(w,x,b);return(void 0===w._input.textfont||void 0===w._input.textfont.color||Array.isArray(w.textfont.color)&&void 0===w.textfont.color[x])&&(m={color:E.contrast(A),family:m.family,size:m.size}),_(s,w.insidetextfont,x,m)}function T(w,x,b){var A=v(w,x,b);return _(a,w.outsidetextfont,x,A)}function _(w,x,b,A){var m=o.getValue((x=x||{}).family,b),C=o.getValue(x.size,b),k=o.getValue(x.color,b);return{family:o.coerceString(w.family,m,A.family),size:o.coerceNumber(w.size,C,A.size),color:o.coerceColor(w.color,k,A.color)}}function g(w,x){return"waterfall"===x.type?x[w.dir].marker.color:w.mcc||w.mc||x.marker.color}oe.exports={style:function(w){var x=I.select(w).selectAll("g.barlayer").selectAll("g.trace");y(w,x,"bar");var b=x.size(),A=w._fullLayout;x.style("opacity",function(m){return m[0].trace.opacity}).each(function(m){("stack"===A.barmode&&b>1||0===A.bargap&&0===A.bargroupgap&&!m[0].trace.marker.line.width)&&I.select(this).attr("shape-rendering","crispEdges")}),x.selectAll("g.points").each(function(m){l(I.select(this),m[0].trace,w)}),M.getComponentMethod("errorbars","style")(x)},styleTextPoints:c,styleOnSelect:function(w,x,b){var m,C,k,P,R,L,A=x[0].trace;A.selectedpoints?(C=A,k=w,f.selectedPointStyle((m=b).selectAll("path"),C),P=m.selectAll("text"),R=C,L=k,P.each(function(N){var B,J=I.select(this);if(N.selected){B=S.ensureUniformFontSize(L,h(J,N,R,L));var z=R.selected.textfont&&R.selected.textfont.color;z&&(B.color=z),f.font(J,B)}else f.selectedTextStyle(J,R)})):(l(b,A,w),M.getComponentMethod("errorbars","style")(b))},getInsideTextFont:p,getOutsideTextFont:T,getBarColor:g,resizeText:y}},98340:function(oe,j,r){"use strict";var I=r(7901),E=r(52075).hasColorscale,f=r(1586),S=r(71828).coercePattern;oe.exports=function(M,y,u,i,s){var a=u("marker.color",i),o=E(M,"marker");o&&f(M,y,s,u,{prefix:"marker.",cLetter:"c"}),u("marker.line.color",I.defaultLine),E(M,"marker.line")&&f(M,y,s,u,{prefix:"marker.line.",cLetter:"c"}),u("marker.line.width"),u("marker.opacity"),S(u,"marker.pattern",a,o),u("selected.marker.color"),u("unselected.marker.color")}},72597:function(oe,j,r){"use strict";var I=r(39898),E=r(71828);function f(S){return"_"+S+"Text_minsize"}oe.exports={recordMinTextSize:function(S,M,y){if(y.uniformtext.mode){var u=f(S),i=y.uniformtext.minsize,s=M.scale*M.fontSize;M.hide=s<i,y[u]=y[u]||1/0,M.hide||(y[u]=Math.min(y[u],Math.max(s,i)))}},clearMinTextSize:function(S,M){M[f(S)]=void 0},resizeText:function(S,M,y){var u=S._fullLayout,i=u["_"+y+"Text_minsize"];if(i){var s,a="hide"===u.uniformtext.mode;switch(y){case"funnelarea":case"pie":case"sunburst":s="g.slice";break;case"treemap":case"icicle":s="g.slice, g.pathbar";break;default:s="g.points > g.point"}M.selectAll(s).each(function(o){var l=o.transform;if(l){l.scale=a&&l.hide?0:i/l.fontSize;var c=I.select(this).select("text");E.setTransormAndDisplay(c,l)}})}}}},55023:function(oe,j,r){"use strict";var I=r(5386).fF,E=r(1426).extendFlat,f=r(81245),S=r(1486);oe.exports={r:f.r,theta:f.theta,r0:f.r0,dr:f.dr,theta0:f.theta0,dtheta:f.dtheta,thetaunit:f.thetaunit,base:E({},S.base,{}),offset:E({},S.offset,{}),width:E({},S.width,{}),text:E({},S.text,{}),hovertext:E({},S.hovertext,{}),marker:S.marker,hoverinfo:f.hoverinfo,hovertemplate:I(),selected:S.selected,unselected:S.unselected}},74692:function(oe,j,r){"use strict";var I=r(52075).hasColorscale,E=r(78803),f=r(75341),S=r(11661).setGroupPositions,M=r(66279),y=r(73972).traceIs,u=r(71828).extendFlat;oe.exports={calc:function(i,s){for(var a=i._fullLayout,o=s.subplot,c=a[o].angularaxis,h=a[o].radialaxis.makeCalcdata(s,"r"),v=c.makeCalcdata(s,"theta"),p=s._length,T=new Array(p),_=h,g=v,w=0;w<p;w++)T[w]={p:g[w],s:_[w]};function x(b){var A=s[b];void 0!==A&&(s["_"+b]=Array.isArray(A)?c.makeCalcdata(s,b):c.d2c(A,s.thetaunit))}return"linear"===c.type&&(x("width"),x("offset")),I(s,"marker")&&E(i,s,{vals:s.marker.color,containerStr:"marker",cLetter:"c"}),I(s,"marker.line")&&E(i,s,{vals:s.marker.line.color,containerStr:"marker.line",cLetter:"c"}),f(T,s),M(T,s),T},crossTraceCalc:function(i,s,a){for(var o=i.calcdata,l=[],c=0;c<o.length;c++){var h=o[c],v=h[0].trace;!0===v.visible&&y(v,"bar")&&v.subplot===a&&l.push(h)}var p=u({},s.radialaxis,{_id:"x"});S(i,s.angularaxis,p,l,{mode:s.barmode,norm:s.barnorm,gap:s.bargap,groupgap:s.bargroupgap})}}},6135:function(oe,j,r){"use strict";var I=r(71828),E=r(22184).handleRThetaDefaults,f=r(98340),S=r(55023);oe.exports=function(M,y,u,i){function s(a,o){return I.coerce(M,y,S,a,o)}E(M,y,i,s)?(s("thetaunit"),s("base"),s("offset"),s("width"),s("text"),s("hovertext"),s("hovertemplate"),f(M,y,s,u,i),I.coerceSelectionMarkerOpacity(y,s)):y.visible=!1}},27379:function(oe,j,r){"use strict";var I=r(30211),E=r(71828),f=r(95423).getTraceColor,S=E.fillText,M=r(59150).makeHoverPointText,y=r(10869).isPtInsidePolygon;oe.exports=function(u,i,s){var a=u.cd,o=a[0].trace,l=u.subplot,c=l.radialAxis,v=l.vangles,p=v?y:E.isPtInsideSector,T=u.maxHoverDistance,_=l.angularAxis._period||2*Math.PI,g=Math.abs(c.g2p(Math.sqrt(i*i+s*s))),w=Math.atan2(s,i);if(c.range[0]>c.range[1]&&(w+=Math.PI),I.getClosest(a,function(A){return p(g,w,[A.rp0,A.rp1],[A.thetag0,A.thetag1],v)?T+Math.min(1,Math.abs(A.thetag1-A.thetag0)/_)-1+(A.rp1-g)/(A.rp1-A.rp0)-1:1/0},u),!1!==u.index){var x=a[u.index];u.x0=u.x1=x.ct[0],u.y0=u.y1=x.ct[1];var b=E.extendFlat({},x,{r:x.s,theta:x.p});return S(x,o,u),M(b,o,l,u),u.hovertemplate=o.hovertemplate,u.color=f(o,x),u.xLabelVal=u.yLabelVal=void 0,x.s<0&&(u.idealAlign="left"),[u]}}},23381:function(oe,j,r){"use strict";oe.exports={moduleType:"trace",name:"barpolar",basePlotModule:r(23580),categories:["polar","bar","showLegend"],attributes:r(55023),layoutAttributes:r(40151),supplyDefaults:r(6135),supplyLayoutDefaults:r(19860),calc:r(74692).calc,crossTraceCalc:r(74692).crossTraceCalc,plot:r(60173),colorbar:r(4898),formatLabels:r(98608),style:r(16688).style,styleOnSelect:r(16688).styleOnSelect,hoverPoints:r(27379),selectPoints:r(81974),meta:{}}},40151:function(oe){"use strict";oe.exports={barmode:{valType:"enumerated",values:["stack","overlay"],dflt:"stack",editType:"calc"},bargap:{valType:"number",dflt:.1,min:0,max:1,editType:"calc"}}},19860:function(oe,j,r){"use strict";var I=r(71828),E=r(40151);oe.exports=function(f,S,M){var y,u={};function i(o,l){return I.coerce(f[y]||{},S[y],E,o,l)}for(var s=0;s<M.length;s++){var a=M[s];"barpolar"===a.type&&!0===a.visible&&(u[y=a.subplot]||(i("barmode"),i("bargap"),u[y]=1))}}},60173:function(oe,j,r){"use strict";var I=r(39898),E=r(92770),f=r(71828),S=r(91424),M=r(10869);oe.exports=function(y,u,i){var p,T,_,s=y._context.staticPlot,a=u.xaxis,o=u.yaxis,l=u.radialAxis,c=u.angularAxis,h=(T=(p=u).cxx,_=p.cyy,p.vangles?function(g,w,x,b){var A,m;f.angleDelta(x,b)>0?(A=x,m=b):(A=b,m=x);var C=[M.findEnclosingVertexAngles(A,p.vangles)[0],(A+m)/2,M.findEnclosingVertexAngles(m,p.vangles)[1]];return M.pathPolygonAnnulus(g,w,A,m,C,T,_)}:function(g,w,x,b){return f.pathAnnulus(g,w,x,b,T,_)}),v=u.layers.frontplot.select("g.barlayer");f.makeTraceGroups(v,i,"trace bars").each(function(){var p=I.select(this),T=f.ensureSingle(p,"g","points").selectAll("g.point").data(f.identity);T.enter().append("g").style("vector-effect",s?"none":"non-scaling-stroke").style("stroke-miterlimit",2).classed("point",!0),T.exit().remove(),T.each(function(_){var g,w=I.select(this),x=_.rp0=l.c2p(_.s0),b=_.rp1=l.c2p(_.s1),A=_.thetag0=c.c2g(_.p0),m=_.thetag1=c.c2g(_.p1);if(E(x)&&E(b)&&E(A)&&E(m)&&x!==b&&A!==m){var C=l.c2g(_.s1),k=(A+m)/2;_.ct=[a.c2p(C*Math.cos(k)),o.c2p(C*Math.sin(k))],g=h(x,b,A,m)}else g="M0,0Z";f.ensureSingle(w,"path").attr("d",g)}),S.setClipUrl(p,u._hasClipOnAxisFalse?u.clipIds.forTraces:null,y)})}},53522:function(oe,j,r){"use strict";var I=r(82196),E=r(1486),f=r(22399),S=r(12663).axisHoverFormat,M=r(5386).fF,y=r(1426).extendFlat,u=I.marker,i=u.line;oe.exports={y:{valType:"data_array",editType:"calc+clearAxisTypes"},x:{valType:"data_array",editType:"calc+clearAxisTypes"},x0:{valType:"any",editType:"calc+clearAxisTypes"},y0:{valType:"any",editType:"calc+clearAxisTypes"},dx:{valType:"number",editType:"calc"},dy:{valType:"number",editType:"calc"},xperiod:I.xperiod,yperiod:I.yperiod,xperiod0:I.xperiod0,yperiod0:I.yperiod0,xperiodalignment:I.xperiodalignment,yperiodalignment:I.yperiodalignment,xhoverformat:S("x"),yhoverformat:S("y"),name:{valType:"string",editType:"calc+clearAxisTypes"},q1:{valType:"data_array",editType:"calc+clearAxisTypes"},median:{valType:"data_array",editType:"calc+clearAxisTypes"},q3:{valType:"data_array",editType:"calc+clearAxisTypes"},lowerfence:{valType:"data_array",editType:"calc"},upperfence:{valType:"data_array",editType:"calc"},notched:{valType:"boolean",editType:"calc"},notchwidth:{valType:"number",min:0,max:.5,dflt:.25,editType:"calc"},notchspan:{valType:"data_array",editType:"calc"},boxpoints:{valType:"enumerated",values:["all","outliers","suspectedoutliers",!1],editType:"calc"},jitter:{valType:"number",min:0,max:1,editType:"calc"},pointpos:{valType:"number",min:-2,max:2,editType:"calc"},boxmean:{valType:"enumerated",values:[!0,"sd",!1],editType:"calc"},mean:{valType:"data_array",editType:"calc"},sd:{valType:"data_array",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},quartilemethod:{valType:"enumerated",values:["linear","exclusive","inclusive"],dflt:"linear",editType:"calc"},width:{valType:"number",min:0,dflt:0,editType:"calc"},marker:{outliercolor:{valType:"color",dflt:"rgba(0, 0, 0, 0)",editType:"style"},symbol:y({},u.symbol,{arrayOk:!1,editType:"plot"}),opacity:y({},u.opacity,{arrayOk:!1,dflt:1,editType:"style"}),angle:y({},u.angle,{arrayOk:!1,editType:"calc"}),size:y({},u.size,{arrayOk:!1,editType:"calc"}),color:y({},u.color,{arrayOk:!1,editType:"style"}),line:{color:y({},i.color,{arrayOk:!1,dflt:f.defaultLine,editType:"style"}),width:y({},i.width,{arrayOk:!1,dflt:0,editType:"style"}),outliercolor:{valType:"color",editType:"style"},outlierwidth:{valType:"number",min:0,dflt:1,editType:"style"},editType:"style"},editType:"plot"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,dflt:2,editType:"style"},editType:"plot"},fillcolor:I.fillcolor,whiskerwidth:{valType:"number",min:0,max:1,dflt:.5,editType:"calc"},offsetgroup:E.offsetgroup,alignmentgroup:E.alignmentgroup,selected:{marker:I.selected.marker,editType:"style"},unselected:{marker:I.unselected.marker,editType:"style"},text:y({},I.text,{}),hovertext:y({},I.hovertext,{}),hovertemplate:M({}),hoveron:{valType:"flaglist",flags:["boxes","points"],dflt:"boxes+points",editType:"style"}}},48518:function(oe,j,r){"use strict";var I=r(92770),E=r(89298),f=r(42973),S=r(71828),M=r(50606).BADNUM,y=S._;oe.exports=function(p,T){var _,g,w,x,b,A,m,C=p._fullLayout,k=E.getFromId(p,T.xaxis||"x"),P=E.getFromId(p,T.yaxis||"y"),R=[],L="violin"===T.type?"_numViolins":"_numBoxes";"h"===T.orientation?(w=k,x="x",b=P,A="y",m=!!T.yperiodalignment):(w=P,x="y",b=k,A="x",m=!!T.xperiodalignment);var N,B,J,z,Y,q,U=function(We,Ge,Ke,tt){var st,gt=Ge+"0"in We;if(Ge in We||gt&&"d"+Ge in We){var ct=Ke.makeCalcdata(We,Ge);return[f(We,Ke,Ge,ct).vals,ct]}st=gt?We[Ge+"0"]:"name"in We&&("category"===Ke.type||I(We.name)&&-1!==["linear","log"].indexOf(Ke.type)||S.isDateTime(We.name)&&"date"===Ke.type)?We.name:tt;for(var kt="multicategory"===Ke.type?Ke.r2c_just_indices(st):Ke.d2c(st,0,We[Ge+"calendar"]),Dt=We._length,vt=new Array(Dt),mt=0;mt<Dt;mt++)vt[mt]=kt;return[vt]}(T,A,b,C[L]),Z=U[0],X=U[1],se=S.distinctVals(Z,b),re=se.vals,ee=se.minDiff/2,K="all"===(T.boxpoints||T.points)?S.identity:function(We){return We.v<N.lf||We.v>N.uf};if(T._hasPreCompStats){var ne=T[x],ae=function(We){return w.d2c((T[We]||[])[_])},ue=1/0,he=-1/0;for(_=0;_<T._length;_++){var pe=Z[_];if(I(pe)){if((N={}).pos=N[A]=pe,m&&X&&(N.orig_p=X[_]),N.q1=ae("q1"),N.med=ae("median"),N.q3=ae("q3"),B=[],ne&&S.isArrayOrTypedArray(ne[_]))for(g=0;g<ne[_].length;g++)(q=w.d2c(ne[_][g]))!==M&&(i(Y={v:q,i:[_,g]},T,[_,g]),B.push(Y));if(N.pts=B.sort(s),z=(J=N[x]=B.map(a)).length,N.med!==M&&N.q1!==M&&N.q3!==M&&N.med>=N.q1&&N.q3>=N.med){var ge=ae("lowerfence");N.lf=ge!==M&&ge<=N.q1?ge:o(N,J,z);var xe=ae("upperfence");N.uf=xe!==M&&xe>=N.q3?xe:l(N,J,z);var Se=ae("mean");N.mean=Se!==M?Se:z?S.mean(J,z):(N.q1+N.q3)/2;var Te=ae("sd");N.sd=Se!==M&&Te>=0?Te:z?S.stdev(J,z,N.mean):N.q3-N.q1,N.lo=c(N),N.uo=h(N);var ye=ae("notchspan");ye=ye!==M&&ye>0?ye:v(N,z),N.ln=N.med-ye,N.un=N.med+ye;var we=N.lf,ze=N.uf;T.boxpoints&&J.length&&(we=Math.min(we,J[0]),ze=Math.max(ze,J[z-1])),T.notched&&(we=Math.min(we,N.ln),ze=Math.max(ze,N.un)),N.min=we,N.max=ze}else{var ke;S.warn(["Invalid input - make sure that q1 <= median <= q3","q1 = "+N.q1,"median = "+N.med,"q3 = "+N.q3].join("\n")),N.med=ke=N.med!==M?N.med:N.q1!==M?N.q3!==M?(N.q1+N.q3)/2:N.q1:N.q3!==M?N.q3:0,N.q1=N.q3=ke,N.lf=N.uf=ke,N.mean=N.sd=ke,N.ln=N.un=ke,N.min=N.max=ke}ue=Math.min(ue,N.min),he=Math.max(he,N.max),N.pts2=B.filter(K),R.push(N)}}T._extremes[w._id]=E.findExtremes(w,[ue,he],{padded:!0})}else{var Ee=w.makeCalcdata(T,x),me=function(We,Ge){for(var Ke=We.length,tt=new Array(Ke+1),st=0;st<Ke;st++)tt[st]=We[st]-Ge;return tt[Ke]=We[Ke-1]+Ge,tt}(re,ee),de=re.length,ce=function(We){for(var Ge=new Array(We),Ke=0;Ke<We;Ke++)Ge[Ke]=[];return Ge}(de);for(_=0;_<T._length;_++)if(I(q=Ee[_])){var Ae=S.findBin(Z[_],me);Ae>=0&&Ae<de&&(i(Y={v:q,i:_},T,_),ce[Ae].push(Y))}var Ne=1/0,De=-1/0,Ue=T.quartilemethod,Ye="exclusive"===Ue,_e="inclusive"===Ue;for(_=0;_<de;_++)if(ce[_].length>0){var Pe,Ie;(N={}).pos=N[A]=re[_],B=N.pts=ce[_].sort(s),z=(J=N[x]=B.map(a)).length,N.min=J[0],N.max=J[z-1],N.mean=S.mean(J,z),N.sd=S.stdev(J,z,N.mean),N.med=S.interp(J,.5),z%2&&(Ye||_e)?(Ye?(Pe=J.slice(0,z/2),Ie=J.slice(z/2+1)):_e&&(Pe=J.slice(0,z/2+1),Ie=J.slice(z/2)),N.q1=S.interp(Pe,.5),N.q3=S.interp(Ie,.5)):(N.q1=S.interp(J,.25),N.q3=S.interp(J,.75)),N.lf=o(N,J,z),N.uf=l(N,J,z),N.lo=c(N),N.uo=h(N);var Be=v(N,z);N.ln=N.med-Be,N.un=N.med+Be,Ne=Math.min(Ne,N.ln),De=Math.max(De,N.un),N.pts2=B.filter(K),R.push(N)}T._extremes[w._id]=E.findExtremes(w,T.notched?Ee.concat([Ne,De]):Ee,{padded:!0})}return function(We,Ge){if(S.isArrayOrTypedArray(Ge.selectedpoints))for(var Ke=0;Ke<We.length;Ke++){for(var tt=We[Ke].pts||[],st={},gt=0;gt<tt.length;gt++)st[tt[gt].i]=gt;S.tagSelected(tt,Ge,st)}}(R,T),R.length>0?(R[0].t={num:C[L],dPos:ee,posLetter:A,valLetter:x,labels:{med:y(p,"median:"),min:y(p,"min:"),q1:y(p,"q1:"),q3:y(p,"q3:"),max:y(p,"max:"),mean:y(p,"sd"===T.boxmean?"mean \xb1 \u03c3:":"mean:"),lf:y(p,"lower fence:"),uf:y(p,"upper fence:")}},C[L]++,R):[{t:{empty:!0}}]};var u={text:"tx",hovertext:"htx"};function i(p,T,_){for(var g in u)S.isArrayOrTypedArray(T[g])&&(Array.isArray(_)?S.isArrayOrTypedArray(T[g][_[0]])&&(p[u[g]]=T[g][_[0]][_[1]]):p[u[g]]=T[g][_])}function s(p,T){return p.v-T.v}function a(p){return p.v}function o(p,T,_){return 0===_?p.q1:Math.min(p.q1,T[Math.min(S.findBin(2.5*p.q1-1.5*p.q3,T,!0)+1,_-1)])}function l(p,T,_){return 0===_?p.q3:Math.max(p.q3,T[Math.max(S.findBin(2.5*p.q3-1.5*p.q1,T),0)])}function c(p){return 4*p.q1-3*p.q3}function h(p){return 4*p.q3-3*p.q1}function v(p,T){return 0===T?0:1.57*(p.q3-p.q1)/Math.sqrt(T)}},37188:function(oe,j,r){"use strict";var I=r(89298),E=r(71828),f=r(99082).getAxisGroup,S=["v","h"];function M(y,u,i,s){var a,o,l,c=u.calcdata,h=u._fullLayout,v=s._id,p=v.charAt(0),T=[],_=0;for(a=0;a<i.length;a++)for(l=c[i[a]],o=0;o<l.length;o++)T.push(s.c2l(l[o].pos,!0)),_+=(l[o].pts2||[]).length;if(T.length){var g=E.distinctVals(T);"category"!==s.type&&"multicategory"!==s.type||(g.minDiff=1);var w=g.minDiff/2;I.minDtick(s,g.minDiff,g.vals[0],!0);var x=h["violin"===y?"_numViolins":"_numBoxes"],b="group"===h[y+"mode"]&&x>1,A=1-h[y+"gap"],m=1-h[y+"groupgap"];for(a=0;a<i.length;a++){var C,k,P,R,L,N,B=(l=c[i[a]])[0].trace,J=l[0].t,z=B.width,Y=B.side;if(z)C=k=R=z/2,P=0;else if(C=w,b){var q=f(h,s._id)+B.orientation,Z=Object.keys(((h._alignmentOpts[q]||{})[B.alignmentgroup]||{}).offsetGroups||{}).length,X=Z||x;k=C*A*m/X,P=2*C*(((Z?B._offsetIndex:J.num)+.5)/X-.5)*A,R=C*A/X}else k=C*A*m,P=0,R=C;J.dPos=C,J.bPos=P,J.bdPos=k,J.wHover=R;var se,re,ee,K,ne,ae,ue=P+k,he=!!z;if("positive"===Y?(L=C*(z?1:.5),se=ue,N=se=P):"negative"===Y?(L=se=P,N=C*(z?1:.5),re=ue):(L=N=C,se=re=ue),(B.boxpoints||B.points)&&_>0){var pe=B.pointpos,ge=B.jitter,xe=B.marker.size/2,Se=0;pe+ge>=0&&((Se=ue*(pe+ge))>L?(he=!0,ne=xe,ee=Se):Se>se&&(ne=xe,ee=L)),Se<=L&&(ee=L);var Te=0;pe-ge<=0&&((Te=-ue*(pe-ge))>N?(he=!0,ae=xe,K=Te):Te>re&&(ae=xe,K=N)),Te<=N&&(K=N)}else ee=L,K=N;var ye=new Array(l.length);for(o=0;o<l.length;o++)ye[o]=l[o].pos;B._extremes[v]=I.findExtremes(s,ye,{padded:he,vpadminus:K,vpadplus:ee,vpadLinearized:!0,ppadminus:{x:ae,y:ne}[p],ppadplus:{x:ne,y:ae}[p]})}}}oe.exports={crossTraceCalc:function(y,u){for(var i=y.calcdata,s=u.xaxis,a=u.yaxis,o=0;o<S.length;o++){for(var l=S[o],c="h"===l?a:s,h=[],v=0;v<i.length;v++){var p=i[v],_=p[0].trace;!0!==_.visible||"box"!==_.type&&"candlestick"!==_.type||p[0].t.empty||(_.orientation||"v")!==l||_.xaxis!==s._id||_.yaxis!==a._id||h.push(v)}M("box",y,h,c)}},setPositionOffset:M}},36411:function(oe,j,r){"use strict";var I=r(71828),E=r(73972),f=r(7901),S=r(73927),M=r(26125),y=r(4322),u=r(53522);function i(a,o,l,c){function h(Y){var q=0;return Y&&Y.length&&(q+=1,I.isArrayOrTypedArray(Y[0])&&Y[0].length&&(q+=1)),q}function v(Y){return I.validate(a[Y],u[Y])}var p,T=l("y"),_=l("x");if("box"===o.type){var g=l("q1"),w=l("median"),x=l("q3");o._hasPreCompStats=g&&g.length&&w&&w.length&&x&&x.length,p=Math.min(I.minRowLength(g),I.minRowLength(w),I.minRowLength(x))}var b,A,m=h(T),C=h(_),k=m&&I.minRowLength(T),P=C&&I.minRowLength(_),R=c.calendar,L={autotypenumbers:c.autotypenumbers};if(o._hasPreCompStats)switch(String(C)+String(m)){case"00":var N=v("x0")||v("dx");b=!v("y0")&&!v("dy")||N?"v":"h",A=p;break;case"10":b="v",A=Math.min(p,P);break;case"20":b="h",A=Math.min(p,_.length);break;case"01":b="h",A=Math.min(p,k);break;case"02":b="v",A=Math.min(p,T.length);break;case"12":b="v",A=Math.min(p,P,T.length);break;case"21":b="h",A=Math.min(p,_.length,k);break;case"11":A=0;break;case"22":var B,J=!1;for(B=0;B<_.length;B++)if("category"===y(_[B],R,L)){J=!0;break}if(J)b="v",A=Math.min(p,P,T.length);else{for(B=0;B<T.length;B++)if("category"===y(T[B],R,L)){J=!0;break}J?(b="h",A=Math.min(p,_.length,k)):(b="v",A=Math.min(p,P,T.length))}}else m>0?(b="v",A=C>0?Math.min(P,k):Math.min(k)):C>0?(b="h",A=Math.min(P)):A=0;if(A){o._length=A;var z=l("orientation",b);o._hasPreCompStats?"v"===z&&0===C?(l("x0",0),l("dx",1)):"h"===z&&0===m&&(l("y0",0),l("dy",1)):"v"===z&&0===C?l("x0"):"h"===z&&0===m&&l("y0"),E.getComponentMethod("calendars","handleTraceDefaults")(a,o,["x","y"],c)}else o.visible=!1}function s(a,o,l,c){var h=c.prefix,v=I.coerce2(a,o,u,"marker.outliercolor"),p=l("marker.line.outliercolor"),T="outliers";o._hasPreCompStats?T="all":(v||p)&&(T="suspectedoutliers");var _=l(h+"points",T);_?(l("jitter","all"===_?.3:0),l("pointpos","all"===_?-1.5:0),l("marker.symbol"),l("marker.opacity"),l("marker.size"),l("marker.angle"),l("marker.color",o.line.color),l("marker.line.color"),l("marker.line.width"),"suspectedoutliers"===_&&(l("marker.line.outliercolor",o.marker.color),l("marker.line.outlierwidth")),l("selected.marker.color"),l("unselected.marker.color"),l("selected.marker.size"),l("unselected.marker.size"),l("text"),l("hovertext")):delete o.marker;var g=l("hoveron");"all"!==g&&-1===g.indexOf("points")||l("hovertemplate"),I.coerceSelectionMarkerOpacity(o,l)}oe.exports={supplyDefaults:function(a,o,l,c){function h(x,b){return I.coerce(a,o,u,x,b)}if(i(a,o,h,c),!1!==o.visible){S(a,o,c,h),h("xhoverformat"),h("yhoverformat");var v=o._hasPreCompStats;v&&(h("lowerfence"),h("upperfence")),h("line.color",(a.marker||{}).color||l),h("line.width"),h("fillcolor",f.addOpacity(o.line.color,.5));var p=!1;if(v){var T=h("mean"),_=h("sd");T&&T.length&&(p=!0,_&&_.length&&(p="sd"))}h("boxmean",p),h("whiskerwidth"),h("width"),h("quartilemethod");var g=!1;if(v){var w=h("notchspan");w&&w.length&&(g=!0)}else I.validate(a.notchwidth,u.notchwidth)&&(g=!0);h("notched",g)&&h("notchwidth"),s(a,o,h,{prefix:"box"})}},crossTraceDefaults:function(a,o){var c;function h(T){return I.coerce(c._input,c,u,T)}for(var v=0;v<a.length;v++){var p=(c=a[v]).type;"box"!==p&&"violin"!==p||"group"===o[p+"mode"]&&M(c._input,c,o,h)}},handleSampleDefaults:i,handlePointsDefaults:s}},74907:function(oe){"use strict";oe.exports=function(j,r){return r.hoverOnBox&&(j.hoverOnBox=r.hoverOnBox),"xVal"in r&&(j.x=r.xVal),"yVal"in r&&(j.y=r.yVal),r.xa&&(j.xaxis=r.xa),r.ya&&(j.yaxis=r.ya),j}},41868:function(oe,j,r){"use strict";var I=r(89298),E=r(71828),f=r(30211),S=r(7901),M=E.fillText;function y(i,s,a,o){var l,c,h,v,p,T,_,g,w,x,b,A,m,C,k=i.cd,P=i.xa,R=i.ya,L=k[0].trace,N=k[0].t,B="violin"===L.type,J=N.bdPos,z=N.wHover,Y=function(ke){return h.c2l(ke.pos)+N.bPos-h.c2l(T)};B&&"both"!==L.side?("positive"===L.side&&(w=function(ke){var Ee=Y(ke);return f.inbox(Ee,Ee+z,x)},A=J,m=0),"negative"===L.side&&(w=function(ke){var Ee=Y(ke);return f.inbox(Ee-z,Ee,x)},A=0,m=J)):(w=function(ke){var Ee=Y(ke);return f.inbox(Ee-z,Ee+z,x)},A=m=J),C=B?function(ke){return f.inbox(ke.span[0]-p,ke.span[1]-p,x)}:function(ke){return f.inbox(ke.min-p,ke.max-p,x)},"h"===L.orientation?(p=s,T=a,_=C,g=w,l="y",h=R,c="x",v=P):(p=a,T=s,_=w,g=C,l="x",h=P,c="y",v=R);var q=Math.min(1,J/Math.abs(h.r2c(h.range[1])-h.r2c(h.range[0])));function U(ke){return(_(ke)+g(ke))/2}x=i.maxHoverDistance-q,b=i.maxSpikeDistance-q;var Z=f.getDistanceFunction(o,_,g,U);if(f.getClosest(k,Z,i),!1===i.index)return[];var X=k[i.index],se=L.line.color,re=(L.marker||{}).color;i.color=S.opacity(se)&&L.line.width?se:S.opacity(re)&&L.boxpoints?re:L.fillcolor,i[l+"0"]=h.c2p(X.pos+N.bPos-m,!0),i[l+"1"]=h.c2p(X.pos+N.bPos+A,!0),i[l+"LabelVal"]=void 0!==X.orig_p?X.orig_p:X.pos;var ee=l+"Spike";i.spikeDistance=U(X)*b/x,i[ee]=h.c2p(X.pos,!0);var K=L.boxmean||(L.meanline||{}).visible,ne=L.boxpoints||L.points,ae=ne&&K?["max","uf","q3","med","mean","q1","lf","min"]:ne&&!K?["max","uf","q3","med","q1","lf","min"]:!ne&&K?["max","q3","med","mean","q1","min"]:["max","q3","med","q1","min"];L.orientation===(v.range[1]<v.range[0]?"v":"h")&&ae.reverse();for(var he=i.spikeDistance,pe=i[ee],ge=[],xe=0;xe<ae.length;xe++){var Se=ae[xe];if(Se in X){var Te=X[Se],ye=v.c2p(Te,!0),we=E.extendFlat({},i);we.attr=Se,we[c+"0"]=we[c+"1"]=ye,we[c+"LabelVal"]=Te,we[c+"Label"]=(N.labels?N.labels[Se]+" ":"")+I.hoverLabelText(v,Te,L[c+"hoverformat"]),we.hoverOnBox=!0,"mean"===Se&&"sd"in X&&"sd"===L.boxmean&&(we[c+"err"]=X.sd),we.hovertemplate=!1,ge.push(we)}}i.name="",i.spikeDistance=void 0,i[ee]=void 0;for(var ze=0;ze<ge.length;ze++)"med"!==ge[ze].attr?(ge[ze].name="",ge[ze].spikeDistance=void 0,ge[ze][ee]=void 0):(ge[ze].spikeDistance=he,ge[ze][ee]=pe);return ge}function u(i,s,a){for(var o,l,c,h=i.cd,v=i.xa,p=i.ya,T=h[0].trace,_=v.c2p(s),g=p.c2p(a),w=f.quadrature(function(B){var J=Math.max(3,B.mrc||0);return Math.max(Math.abs(v.c2p(B.x)-_)-J,1-3/J)},function(B){var J=Math.max(3,B.mrc||0);return Math.max(Math.abs(p.c2p(B.y)-g)-J,1-3/J)}),x=!1,b=0;b<h.length;b++){l=h[b];for(var A=0;A<(l.pts||[]).length;A++){var m=w(c=l.pts[A]);m<=i.distance&&(i.distance=m,x=[b,A])}}if(!x)return!1;c=(l=h[x[0]]).pts[x[1]];var C=v.c2p(c.x,!0),k=p.c2p(c.y,!0),P=c.mrc||1;o=E.extendFlat({},i,{index:c.i,color:(T.marker||{}).color,name:T.name,x0:C-P,x1:C+P,y0:k-P,y1:k+P,spikeDistance:i.distance,hovertemplate:T.hovertemplate});var R,L=l.orig_p,N=void 0!==L?L:l.pos;return"h"===T.orientation?(R=p,o.xLabelVal=c.x,o.yLabelVal=N):(R=v,o.xLabelVal=N,o.yLabelVal=c.y),o[R._id.charAt(0)+"Spike"]=R.c2p(l.pos,!0),M(c,T,o),o}oe.exports={hoverPoints:function(i,s,a,o){var l,c=i.cd[0].trace.hoveron,h=[];return-1!==c.indexOf("boxes")&&(h=h.concat(y(i,s,a,o))),-1!==c.indexOf("points")&&(l=u(i,s,a)),"closest"===o?l?[l]:h:(l&&h.push(l),h)},hoverOnBoxes:y,hoverOnPoints:u}},83832:function(oe,j,r){"use strict";oe.exports={attributes:r(53522),layoutAttributes:r(40094),supplyDefaults:r(36411).supplyDefaults,crossTraceDefaults:r(36411).crossTraceDefaults,supplyLayoutDefaults:r(4199).supplyLayoutDefaults,calc:r(48518),crossTraceCalc:r(37188).crossTraceCalc,plot:r(86047).plot,style:r(58063).style,styleOnSelect:r(58063).styleOnSelect,hoverPoints:r(41868).hoverPoints,eventData:r(74907),selectPoints:r(24626),moduleType:"trace",name:"box",basePlotModule:r(93612),categories:["cartesian","svg","symbols","oriented","box-violin","showLegend","boxLayout","zoomScale"],meta:{}}},40094:function(oe){"use strict";oe.exports={boxmode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},boxgap:{valType:"number",min:0,max:1,dflt:.3,editType:"calc"},boxgroupgap:{valType:"number",min:0,max:1,dflt:.3,editType:"calc"}}},4199:function(oe,j,r){"use strict";var I=r(73972),E=r(71828),f=r(40094);function S(M,y,u,i,s){for(var a=s+"Layout",o=!1,l=0;l<u.length;l++)if(I.traceIs(u[l],a)){o=!0;break}o&&(i(s+"mode"),i(s+"gap"),i(s+"groupgap"))}oe.exports={supplyLayoutDefaults:function(M,y,u){S(0,0,u,function(i,s){return E.coerce(M,y,f,i,s)},"box")},_supply:S}},86047:function(oe,j,r){"use strict";var I=r(39898),E=r(71828),f=r(91424);function S(u,i,s,a,o){var l,c,h="h"===s.orientation,v=i.val,p=i.pos,T=!!p.rangebreaks,_=a.bPos,g=a.wdPos||0,w=a.bPosPxOffset||0,x=s.whiskerwidth||0,b=s.notched||!1,A=b?1-2*s.notchwidth:1;Array.isArray(a.bdPos)?(l=a.bdPos[0],c=a.bdPos[1]):(l=a.bdPos,c=a.bdPos);var m=u.selectAll("path.box").data("violin"!==s.type||s.box.visible?E.identity:[]);m.enter().append("path").style("vector-effect",o?"none":"non-scaling-stroke").attr("class","box"),m.exit().remove(),m.each(function(C){if(C.empty)return"M0,0Z";var k=p.c2l(C.pos+_,!0),P=p.l2p(k-l)+w,R=p.l2p(k+c)+w,L=T?(P+R)/2:p.l2p(k)+w,N=s.whiskerwidth,B=T?P*N+(1-N)*L:p.l2p(k-g)+w,J=T?R*N+(1-N)*L:p.l2p(k+g)+w,z=p.l2p(k-l*A)+w,Y=p.l2p(k+c*A)+w,q=v.c2p(C.q1,!0),U=v.c2p(C.q3,!0),Z=E.constrain(v.c2p(C.med,!0),Math.min(q,U)+1,Math.max(q,U)-1),X=void 0===C.lf||!1===s.boxpoints,se=v.c2p(X?C.min:C.lf,!0),re=v.c2p(X?C.max:C.uf,!0),ee=v.c2p(C.ln,!0),K=v.c2p(C.un,!0);h?I.select(this).attr("d","M"+Z+","+z+"V"+Y+"M"+q+","+P+"V"+R+(b?"H"+ee+"L"+Z+","+Y+"L"+K+","+R:"")+"H"+U+"V"+P+(b?"H"+K+"L"+Z+","+z+"L"+ee+","+P:"")+"ZM"+q+","+L+"H"+se+"M"+U+","+L+"H"+re+(0===x?"":"M"+se+","+B+"V"+J+"M"+re+","+B+"V"+J)):I.select(this).attr("d","M"+z+","+Z+"H"+Y+"M"+P+","+q+"H"+R+(b?"V"+ee+"L"+Y+","+Z+"L"+R+","+K:"")+"V"+U+"H"+P+(b?"V"+K+"L"+z+","+Z+"L"+P+","+ee:"")+"ZM"+L+","+q+"V"+se+"M"+L+","+U+"V"+re+(0===x?"":"M"+B+","+se+"H"+J+"M"+B+","+re+"H"+J))})}function M(u,i,s,a){var o=i.x,l=i.y,c=a.bdPos,h=a.bPos,v=s.boxpoints||s.points;E.seedPseudoRandom();var p=u.selectAll("g.points").data(v?function(_){return _.forEach(function(g){g.t=a,g.trace=s}),_}:[]);p.enter().append("g").attr("class","points"),p.exit().remove();var T=p.selectAll("path").data(function(_){var g,w,x=_.pts2,b=Math.max((_.max-_.min)/10,_.q3-_.q1),A=1e-9*b,m=.01*b,C=[],k=0;if(s.jitter){if(0===b)for(k=1,C=new Array(x.length),g=0;g<x.length;g++)C[g]=1;else for(g=0;g<x.length;g++){var P=Math.max(0,g-5),R=x[P].v,L=Math.min(x.length-1,g+5),N=x[L].v;"all"!==v&&(x[g].v<_.lf?N=Math.min(N,_.lf):R=Math.max(R,_.uf));var B=Math.sqrt(m*(L-P)/(N-R+A))||0;B=E.constrain(Math.abs(B),0,1),C.push(B),k=Math.max(B,k)}w=2*s.jitter/(k||1)}for(g=0;g<x.length;g++){var J=x[g],z=J.v,Y=s.jitter?w*C[g]*(E.pseudoRandom()-.5):0,q=_.pos+h+c*(s.pointpos+Y);"h"===s.orientation?(J.y=q,J.x=z):(J.x=q,J.y=z),"suspectedoutliers"===v&&z<_.uo&&z>_.lo&&(J.so=!0)}return x});T.enter().append("path").classed("point",!0),T.exit().remove(),T.call(f.translatePoints,o,l)}function y(u,i,s,a){var o,l,c=i.val,h=i.pos,v=!!h.rangebreaks,p=a.bPos,T=a.bPosPxOffset||0,_=s.boxmean||(s.meanline||{}).visible;Array.isArray(a.bdPos)?(o=a.bdPos[0],l=a.bdPos[1]):(o=a.bdPos,l=a.bdPos);var g=u.selectAll("path.mean").data("box"===s.type&&s.boxmean||"violin"===s.type&&s.box.visible&&s.meanline.visible?E.identity:[]);g.enter().append("path").attr("class","mean").style({fill:"none","vector-effect":"non-scaling-stroke"}),g.exit().remove(),g.each(function(w){var x=h.c2l(w.pos+p,!0),b=h.l2p(x-o)+T,A=h.l2p(x+l)+T,m=v?(b+A)/2:h.l2p(x)+T,C=c.c2p(w.mean,!0),k=c.c2p(w.mean-w.sd,!0),P=c.c2p(w.mean+w.sd,!0);"h"===s.orientation?I.select(this).attr("d","M"+C+","+b+"V"+A+("sd"===_?"m0,0L"+k+","+m+"L"+C+","+b+"L"+P+","+m+"Z":"")):I.select(this).attr("d","M"+b+","+C+"H"+A+("sd"===_?"m0,0L"+m+","+k+"L"+b+","+C+"L"+m+","+P+"Z":""))})}oe.exports={plot:function(u,i,s,a){var o=u._context.staticPlot,l=i.xaxis,c=i.yaxis;E.makeTraceGroups(a,s,"trace boxes").each(function(h){var v,p,T=I.select(this),_=h[0],g=_.t,w=_.trace;g.wdPos=g.bdPos*w.whiskerwidth,!0!==w.visible||g.empty?T.remove():("h"===w.orientation?(v=c,p=l):(v=l,p=c),S(T,{pos:v,val:p},w,g,o),M(T,{x:l,y:c},w,g),y(T,{pos:v,val:p},w,g))})},plotBoxAndWhiskers:S,plotPoints:M,plotBoxMean:y}},24626:function(oe){"use strict";oe.exports=function(j,r){var I,E,f=j.cd,S=j.xaxis,M=j.yaxis,y=[];if(!1===r)for(I=0;I<f.length;I++)for(E=0;E<(f[I].pts||[]).length;E++)f[I].pts[E].selected=0;else for(I=0;I<f.length;I++)for(E=0;E<(f[I].pts||[]).length;E++){var u=f[I].pts[E],i=S.c2p(u.x),s=M.c2p(u.y);r.contains([i,s],null,u.i,j)?(y.push({pointNumber:u.i,x:S.c2d(u.x),y:M.c2d(u.y)}),u.selected=1):u.selected=0}return y}},58063:function(oe,j,r){"use strict";var I=r(39898),E=r(7901),f=r(91424);oe.exports={style:function(S,M,y){var u=y||I.select(S).selectAll("g.trace.boxes");u.style("opacity",function(i){return i[0].trace.opacity}),u.each(function(i){var s=I.select(this),a=i[0].trace,o=a.line.width;function l(v,p,T,_){v.style("stroke-width",p+"px").call(E.stroke,T).call(E.fill,_)}var c=s.selectAll("path.box");if("candlestick"===a.type)c.each(function(v){if(!v.empty){var p=I.select(this),T=a[v.dir];l(p,T.line.width,T.line.color,T.fillcolor),p.style("opacity",a.selectedpoints&&!v.selected?.3:1)}});else{l(c,o,a.line.color,a.fillcolor),s.selectAll("path.mean").style({"stroke-width":o,"stroke-dasharray":2*o+"px,"+o+"px"}).call(E.stroke,a.line.color);var h=s.selectAll("path.point");f.pointStyle(h,a,S)}})},styleOnSelect:function(S,M,y){var u=M[0].trace,i=y.selectAll("path.point");u.selectedpoints?f.selectedPointStyle(i,u):f.pointStyle(i,u,S)}}},75343:function(oe,j,r){"use strict";var I=r(71828).extendFlat,E=r(12663).axisHoverFormat,f=r(2522),S=r(53522);function M(y){return{line:{color:I({},S.line.color,{dflt:y}),width:S.line.width,editType:"style"},fillcolor:S.fillcolor,editType:"style"}}oe.exports={xperiod:f.xperiod,xperiod0:f.xperiod0,xperiodalignment:f.xperiodalignment,xhoverformat:E("x"),yhoverformat:E("y"),x:f.x,open:f.open,high:f.high,low:f.low,close:f.close,line:{width:I({},S.line.width,{}),editType:"style"},increasing:M(f.increasing.line.color.dflt),decreasing:M(f.decreasing.line.color.dflt),text:f.text,hovertext:f.hovertext,whiskerwidth:I({},S.whiskerwidth,{dflt:0}),hoverlabel:f.hoverlabel}},41197:function(oe,j,r){"use strict";var I=r(71828),E=r(89298),f=r(42973),S=r(3485).calcCommon;function M(y,u,i,s){return{min:i,q1:Math.min(y,s),med:s,q3:Math.max(y,s),max:u}}oe.exports=function(y,u){var i=y._fullLayout,s=E.getFromId(y,u.xaxis),a=E.getFromId(y,u.yaxis),o=s.makeCalcdata(u,"x"),l=f(u,s,"x",o).vals,c=S(y,u,o,l,a,M);return c.length?(I.extendFlat(c[0].t,{num:i._numBoxes,dPos:I.distinctVals(l).minDiff/2,posLetter:"x",valLetter:"y"}),i._numBoxes++,c):[{t:{empty:!0}}]}},1026:function(oe,j,r){"use strict";var I=r(71828),E=r(7901),f=r(14555),S=r(73927),M=r(75343);function y(u,i,s,a){var o=s(a+".line.color");s(a+".line.width",i.line.width),s(a+".fillcolor",E.addOpacity(o,.5))}oe.exports=function(u,i,s,a){function o(l,c){return I.coerce(u,i,M,l,c)}f(u,i,o,a)?(S(u,i,a,o,{x:!0}),o("xhoverformat"),o("yhoverformat"),o("line.width"),y(0,i,o,"increasing"),y(0,i,o,"decreasing"),o("text"),o("hovertext"),o("whiskerwidth"),a._requestRangeslider[i.xaxis]=!0):i.visible=!1}},91815:function(oe,j,r){"use strict";oe.exports={moduleType:"trace",name:"candlestick",basePlotModule:r(93612),categories:["cartesian","svg","showLegend","candlestick","boxLayout"],meta:{},attributes:r(75343),layoutAttributes:r(40094),supplyLayoutDefaults:r(4199).supplyLayoutDefaults,crossTraceCalc:r(37188).crossTraceCalc,supplyDefaults:r(1026),calc:r(41197),plot:r(86047).plot,layerName:"boxlayer",style:r(58063).style,hoverPoints:r(66449).hoverPoints,selectPoints:r(67324)}},13145:function(oe,j,r){"use strict";var I=r(11500),E=r(44467);oe.exports=function(f,S,M,y,u){var i,s,a,o;y("a")||(y("da"),y("a0")),y("b")||(y("db"),y("b0")),i=f,s=S,a=M,o=u,["aaxis","baxis"].forEach(function(l){var c=l.charAt(0),h=i[l]||{},v=E.newContainer(s,l);I(h,v,{noTicklabelstep:!0,tickfont:"x",id:c+"axis",letter:c,font:s.font,name:l,data:i[c],calendar:s.calendar,dfltColor:o,bgColor:a.paper_bgcolor,autotypenumbersDflt:a.autotypenumbers,fullLayout:a}),v._categories=v._categories||[],i[l]||"-"===h.type||(i[l]={type:h.type})})}},402:function(oe,j,r){"use strict";var I=r(71828).isArrayOrTypedArray;function E(f,S){if(!I(f)||S>=10)return null;for(var M=1/0,y=-1/0,u=f.length,i=0;i<u;i++){var s=f[i];if(I(s)){var a=E(s,S+1);a&&(M=Math.min(a[0],M),y=Math.max(a[1],y))}else M=Math.min(s,M),y=Math.max(s,y)}return[M,y]}oe.exports=function(f){return E(f,0)}},99798:function(oe,j,r){"use strict";var I=r(41940),E=r(1928),f=r(22399),S=I({editType:"calc"});S.family.dflt='"Open Sans", verdana, arial, sans-serif',S.size.dflt=12,S.color.dflt=f.defaultLine,oe.exports={carpet:{valType:"string",editType:"calc"},x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},a:{valType:"data_array",editType:"calc"},a0:{valType:"number",dflt:0,editType:"calc"},da:{valType:"number",dflt:1,editType:"calc"},b:{valType:"data_array",editType:"calc"},b0:{valType:"number",dflt:0,editType:"calc"},db:{valType:"number",dflt:1,editType:"calc"},cheaterslope:{valType:"number",dflt:1,editType:"calc"},aaxis:E,baxis:E,font:S,color:{valType:"color",dflt:f.defaultLine,editType:"plot"},transforms:void 0}},4536:function(oe,j,r){"use strict";var I=r(71828).isArrayOrTypedArray;oe.exports=function(E,f,S,M){var y,u,i,s,a,o,l,c,h,v,p,T,_,g=I(S)?"a":"b",w=("a"===g?E.aaxis:E.baxis).smoothing,x="a"===g?E.a2i:E.b2j,b="a"===g?S:M,A="a"===g?M:S,m="a"===g?f.a.length:f.b.length,C="a"===g?f.b.length:f.a.length,k=Math.floor("a"===g?E.b2j(A):E.a2i(A)),P="a"===g?function(se){return E.evalxy([],se,k)}:function(se){return E.evalxy([],k,se)};w&&(i=Math.max(0,Math.min(C-2,k)),s=k-i,u="a"===g?function(se,re){return E.dxydi([],se,i,re,s)}:function(se,re){return E.dxydj([],i,se,s,re)});var R=x(b[0]),L=x(b[1]),N=R<L?1:-1,B=1e-8*(L-R),J=N>0?Math.floor:Math.ceil,z=N>0?Math.ceil:Math.floor,Y=N>0?Math.min:Math.max,q=N>0?Math.max:Math.min,U=J(R+B),Z=z(L-B),X=[[l=P(R)]];for(y=U;y*N<Z*N;y+=N)a=[],p=q(R,y),_=(T=Y(L,y+N))-p,o=Math.max(0,Math.min(m-2,Math.floor(.5*(p+T)))),c=P(T),w&&(h=u(o,p-o),v=u(o,T-o),a.push([l[0]+h[0]/3*_,l[1]+h[1]/3*_]),a.push([c[0]-v[0]/3*_,c[1]-v[1]/3*_])),a.push(c),X.push(a),l=c;return X}},1928:function(oe,j,r){"use strict";var I=r(41940),E=r(22399),f=r(13838),S=r(12663).descriptionWithDates,M=r(30962).overrideAll,y=r(79952).P,u=r(1426).extendFlat;oe.exports={color:{valType:"color",editType:"calc"},smoothing:{valType:"number",dflt:1,min:0,max:1.3,editType:"calc"},title:{text:{valType:"string",dflt:"",editType:"calc"},font:I({editType:"calc"}),offset:{valType:"number",dflt:10,editType:"calc"},editType:"calc"},type:{valType:"enumerated",values:["-","linear","date","category"],dflt:"-",editType:"calc"},autotypenumbers:f.autotypenumbers,autorange:{valType:"enumerated",values:[!0,!1,"reversed"],dflt:!0,editType:"calc"},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"calc"},range:{valType:"info_array",editType:"calc",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}]},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},cheatertype:{valType:"enumerated",values:["index","value"],dflt:"value",editType:"calc"},tickmode:{valType:"enumerated",values:["linear","array"],dflt:"array",editType:"calc"},nticks:{valType:"integer",min:0,dflt:0,editType:"calc"},tickvals:{valType:"data_array",editType:"calc"},ticktext:{valType:"data_array",editType:"calc"},showticklabels:{valType:"enumerated",values:["start","end","both","none"],dflt:"start",editType:"calc"},labelalias:u({},f.labelalias,{editType:"calc"}),tickfont:I({editType:"calc"}),tickangle:{valType:"angle",dflt:"auto",editType:"calc"},tickprefix:{valType:"string",dflt:"",editType:"calc"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},ticksuffix:{valType:"string",dflt:"",editType:"calc"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"calc"},minexponent:{valType:"number",dflt:3,min:0,editType:"calc"},separatethousands:{valType:"boolean",dflt:!1,editType:"calc"},tickformat:{valType:"string",dflt:"",editType:"calc",description:S("tick label")},tickformatstops:M(f.tickformatstops,"calc","from-root"),categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},labelpadding:{valType:"integer",dflt:10,editType:"calc"},labelprefix:{valType:"string",editType:"calc"},labelsuffix:{valType:"string",dflt:"",editType:"calc"},showline:{valType:"boolean",dflt:!1,editType:"calc"},linecolor:{valType:"color",dflt:E.defaultLine,editType:"calc"},linewidth:{valType:"number",min:0,dflt:1,editType:"calc"},gridcolor:{valType:"color",editType:"calc"},gridwidth:{valType:"number",min:0,dflt:1,editType:"calc"},griddash:u({},y,{editType:"calc"}),showgrid:{valType:"boolean",dflt:!0,editType:"calc"},minorgridcount:{valType:"integer",min:0,dflt:0,editType:"calc"},minorgridwidth:{valType:"number",min:0,dflt:1,editType:"calc"},minorgriddash:u({},y,{editType:"calc"}),minorgridcolor:{valType:"color",dflt:E.lightLine,editType:"calc"},startline:{valType:"boolean",editType:"calc"},startlinecolor:{valType:"color",editType:"calc"},startlinewidth:{valType:"number",dflt:1,editType:"calc"},endline:{valType:"boolean",editType:"calc"},endlinewidth:{valType:"number",dflt:1,editType:"calc"},endlinecolor:{valType:"color",editType:"calc"},tick0:{valType:"number",min:0,dflt:0,editType:"calc"},dtick:{valType:"number",min:0,dflt:1,editType:"calc"},arraytick0:{valType:"integer",min:0,dflt:0,editType:"calc"},arraydtick:{valType:"integer",min:1,dflt:1,editType:"calc"},_deprecated:{title:{valType:"string",editType:"calc"},titlefont:I({editType:"calc"}),titleoffset:{valType:"number",dflt:10,editType:"calc"}},editType:"calc"}},11500:function(oe,j,r){"use strict";var I=r(99798),E=r(7901).addOpacity,f=r(73972),S=r(71828),M=r(26218),y=r(96115),u=r(89426),i=r(15258),s=r(21994),a=r(4322);oe.exports=function(o,l,c){var h=c.letter,v=c.font||{},p=I[h+"axis"];function T(N,B){return S.coerce(o,l,p,N,B)}function _(N,B){return S.coerce2(o,l,p,N,B)}c.name&&(l._name=c.name,l._id=c.name),T("autotypenumbers",c.autotypenumbersDflt);var g=T("type");"-"===g&&(c.data&&function(N,B){if("-"===N.type){var J=N._id.charAt(0);N.type=a(B,N[J+"calendar"],{autotypenumbers:N.autotypenumbers})}}(l,c.data),"-"===l.type?l.type="linear":g=o.type=l.type),T("smoothing"),T("cheatertype"),T("showticklabels"),T("labelprefix",h+" = "),T("labelsuffix"),T("showtickprefix"),T("showticksuffix"),T("separatethousands"),T("tickformat"),T("exponentformat"),T("minexponent"),T("showexponent"),T("categoryorder"),T("tickmode"),T("tickvals"),T("ticktext"),T("tick0"),T("dtick"),"array"===l.tickmode&&(T("arraytick0"),T("arraydtick")),T("labelpadding"),l._hovertitle=h,"date"===g&&f.getComponentMethod("calendars","handleDefaults")(o,l,"calendar",c.calendar),s(l,c.fullLayout),l.c2p=S.identity;var w=T("color",c.dfltColor),x=w===o.color?w:v.color;T("title.text")&&(S.coerceFont(T,"title.font",{family:v.family,size:S.bigFont(v.size),color:x}),T("title.offset")),T("tickangle"),T("autorange",!l.isValidRange(o.range))&&T("rangemode"),T("range"),l.cleanRange(),T("fixedrange"),M(o,l,T,g),u(o,l,T,g,c),y(o,l,T,g,c),i(o,l,T,{data:c.data,dataAttr:h});var b=_("gridcolor",E(w,.3)),A=_("gridwidth"),m=_("griddash"),C=T("showgrid");C||(delete l.gridcolor,delete l.gridwidth,delete l.griddash);var k=_("startlinecolor",w),P=_("startlinewidth",A);T("startline",l.showgrid||!!k||!!P)||(delete l.startlinecolor,delete l.startlinewidth);var R=_("endlinecolor",w),L=_("endlinewidth",A);return T("endline",l.showgrid||!!R||!!L)||(delete l.endlinecolor,delete l.endlinewidth),C?(T("minorgridcount"),T("minorgridwidth",A),T("minorgriddash",m),T("minorgridcolor",E(b,.06)),l.minorgridcount||(delete l.minorgridwidth,delete l.minorgriddash,delete l.minorgridcolor)):(delete l.gridcolor,delete l.gridwidth,delete l.griddash),"none"===l.showticklabels&&(delete l.tickfont,delete l.tickangle,delete l.showexponent,delete l.exponentformat,delete l.minexponent,delete l.tickformat,delete l.showticksuffix,delete l.showtickprefix),l.showticksuffix||delete l.ticksuffix,l.showtickprefix||delete l.tickprefix,T("tickmode"),l}},25281:function(oe,j,r){"use strict";var I=r(89298),E=r(71828).isArray1D,f=r(53824),S=r(402),M=r(20347),y=r(83311),u=r(44807),i=r(4742),s=r(72505),a=r(68296),o=r(11435);oe.exports=function(l,c){var h=I.getFromId(l,c.xaxis),v=I.getFromId(l,c.yaxis),p=c.aaxis,T=c.baxis,_=c.x,g=c.y,w=[];_&&E(_)&&w.push("x"),g&&E(g)&&w.push("y"),w.length&&a(c,p,T,"a","b",w);var x=c._a=c._a||c.a,b=c._b=c._b||c.b;_=c._x||c.x,g=c._y||c.y;var A={};c._cheater&&(_=f("index"===p.cheatertype?x.length:x,"index"===T.cheatertype?b.length:b,c.cheaterslope)),c._x=_=i(_),c._y=g=i(g),s(_,x,b),s(g,x,b),o(c),c.setScale();var k=S(_),P=S(g),R=.5*(k[1]-k[0]),L=.5*(k[1]+k[0]),N=.5*(P[1]-P[0]),B=.5*(P[1]+P[0]),J=1.3;return P=[B-N*J,B+N*J],c._extremes[h._id]=I.findExtremes(h,k=[L-R*J,L+R*J],{padded:!0}),c._extremes[v._id]=I.findExtremes(v,P,{padded:!0}),M(c,"a","b"),M(c,"b","a"),y(c,p),y(c,T),A.clipsegments=u(c._xctrl,c._yctrl,p,T),A.x=_,A.y=g,A.a=x,A.b=b,[A]}},44807:function(oe){"use strict";oe.exports=function(j,r,I,E){var f,S,M,y=[],u=!!I.smoothing,i=!!E.smoothing,s=j[0].length-1,a=j.length-1;for(f=0,S=[],M=[];f<=s;f++)S[f]=j[0][f],M[f]=r[0][f];for(y.push({x:S,y:M,bicubic:u}),f=0,S=[],M=[];f<=a;f++)S[f]=j[f][s],M[f]=r[f][s];for(y.push({x:S,y:M,bicubic:i}),f=s,S=[],M=[];f>=0;f--)S[s-f]=j[a][f],M[s-f]=r[a][f];for(y.push({x:S,y:M,bicubic:u}),f=a,S=[],M=[];f>=0;f--)S[a-f]=j[f][0],M[a-f]=r[f][0];return y.push({x:S,y:M,bicubic:i}),y}},20347:function(oe,j,r){"use strict";var I=r(89298),E=r(1426).extendFlat;oe.exports=function(f,S,M){var y,u,i,s,a,o,l,c,h,v,p,T,_,g,w=f["_"+S],x=f[S+"axis"],b=x._gridlines=[],A=x._minorgridlines=[],m=x._boundarylines=[],C=f["_"+M],k=f[M+"axis"];"array"===x.tickmode&&(x.tickvals=w.slice());var P=f._xctrl,R=f._yctrl,L=P[0].length,N=P.length,B=f._a.length,J=f._b.length;I.prepTicks(x),"array"===x.tickmode&&delete x.tickvals;var z=x.smoothing?3:1;function Y(U){var Z,X,se,re,ee,K,ne,ae,ue,he,pe,ge,xe=[],Se=[],Te={};if("b"===S)for(X=f.b2j(U),se=Math.floor(Math.max(0,Math.min(J-2,X))),re=X-se,Te.length=J,Te.crossLength=B,Te.xy=function(ye){return f.evalxy([],ye,X)},Te.dxy=function(ye,we){return f.dxydi([],ye,se,we,re)},Z=0;Z<B;Z++)K=Math.min(B-2,Z),ne=Z-K,ae=f.evalxy([],Z,X),k.smoothing&&Z>0&&(ue=f.dxydi([],Z-1,se,0,re),xe.push(ee[0]+ue[0]/3),Se.push(ee[1]+ue[1]/3),he=f.dxydi([],Z-1,se,1,re),xe.push(ae[0]-he[0]/3),Se.push(ae[1]-he[1]/3)),xe.push(ae[0]),Se.push(ae[1]),ee=ae;else for(Z=f.a2i(U),K=Math.floor(Math.max(0,Math.min(B-2,Z))),ne=Z-K,Te.length=B,Te.crossLength=J,Te.xy=function(ye){return f.evalxy([],Z,ye)},Te.dxy=function(ye,we){return f.dxydj([],K,ye,ne,we)},X=0;X<J;X++)se=Math.min(J-2,X),re=X-se,ae=f.evalxy([],Z,X),k.smoothing&&X>0&&(pe=f.dxydj([],K,X-1,ne,0),xe.push(ee[0]+pe[0]/3),Se.push(ee[1]+pe[1]/3),ge=f.dxydj([],K,X-1,ne,1),xe.push(ae[0]-ge[0]/3),Se.push(ae[1]-ge[1]/3)),xe.push(ae[0]),Se.push(ae[1]),ee=ae;return Te.axisLetter=S,Te.axis=x,Te.crossAxis=k,Te.value=U,Te.constvar=M,Te.index=c,Te.x=xe,Te.y=Se,Te.smoothing=k.smoothing,Te}function q(U){var Z,X,se,re,ee,K=[],ne=[],ae={};if(ae.length=w.length,ae.crossLength=C.length,"b"===S)for(se=Math.max(0,Math.min(J-2,U)),ee=Math.min(1,Math.max(0,U-se)),ae.xy=function(ue){return f.evalxy([],ue,U)},ae.dxy=function(ue,he){return f.dxydi([],ue,se,he,ee)},Z=0;Z<L;Z++)K[Z]=P[U*z][Z],ne[Z]=R[U*z][Z];else for(X=Math.max(0,Math.min(B-2,U)),re=Math.min(1,Math.max(0,U-X)),ae.xy=function(ue){return f.evalxy([],U,ue)},ae.dxy=function(ue,he){return f.dxydj([],X,ue,re,he)},Z=0;Z<N;Z++)K[Z]=P[Z][U*z],ne[Z]=R[Z][U*z];return ae.axisLetter=S,ae.axis=x,ae.crossAxis=k,ae.value=w[U],ae.constvar=M,ae.index=U,ae.x=K,ae.y=ne,ae.smoothing=k.smoothing,ae}if("array"===x.tickmode){for(s=5e-15,o=(a=[Math.floor((w.length-1-x.arraytick0)/x.arraydtick*(1+s)),Math.ceil(-x.arraytick0/x.arraydtick/(1+s))].sort(function(U,Z){return U-Z}))[0]-1,l=a[1]+1,c=o;c<l;c++)(u=x.arraytick0+x.arraydtick*c)<0||u>w.length-1||b.push(E(q(u),{color:x.gridcolor,width:x.gridwidth,dash:x.griddash}));for(c=o;c<l;c++)if(i=x.arraytick0+x.arraydtick*c,p=Math.min(i+x.arraydtick,w.length-1),!(i<0||i>w.length-1||p<0||p>w.length-1))for(T=w[i],_=w[p],y=0;y<x.minorgridcount;y++)(g=p-i)<=0||(v=T+(_-T)*(y+1)/(x.minorgridcount+1)*(x.arraydtick/g))<w[0]||v>w[w.length-1]||A.push(E(Y(v),{color:x.minorgridcolor,width:x.minorgridwidth,dash:x.minorgriddash}));x.startline&&m.push(E(q(0),{color:x.startlinecolor,width:x.startlinewidth})),x.endline&&m.push(E(q(w.length-1),{color:x.endlinecolor,width:x.endlinewidth}))}else{for(s=5e-15,o=(a=[Math.floor((w[w.length-1]-x.tick0)/x.dtick*(1+s)),Math.ceil((w[0]-x.tick0)/x.dtick/(1+s))].sort(function(U,Z){return U-Z}))[0],l=a[1],c=o;c<=l;c++)b.push(E(Y(h=x.tick0+x.dtick*c),{color:x.gridcolor,width:x.gridwidth,dash:x.griddash}));for(c=o-1;c<l+1;c++)for(h=x.tick0+x.dtick*c,y=0;y<x.minorgridcount;y++)(v=h+x.dtick*(y+1)/(x.minorgridcount+1))<w[0]||v>w[w.length-1]||A.push(E(Y(v),{color:x.minorgridcolor,width:x.minorgridwidth,dash:x.minorgriddash}));x.startline&&m.push(E(Y(w[0]),{color:x.startlinecolor,width:x.startlinewidth})),x.endline&&m.push(E(Y(w[w.length-1]),{color:x.endlinecolor,width:x.endlinewidth}))}}},83311:function(oe,j,r){"use strict";var I=r(89298),E=r(1426).extendFlat;oe.exports=function(f,S){var M,y,u,i=S._labels=[],s=S._gridlines;for(M=0;M<s.length;M++)u=s[M],-1!==["start","both"].indexOf(S.showticklabels)&&(y=I.tickText(S,u.value),E(y,{prefix:void 0,suffix:void 0,endAnchor:!0,xy:u.xy(0),dxy:u.dxy(0,0),axis:u.axis,length:u.crossAxis.length,font:u.axis.tickfont,isFirst:0===M,isLast:M===s.length-1}),i.push(y)),-1!==["end","both"].indexOf(S.showticklabels)&&(y=I.tickText(S,u.value),E(y,{endAnchor:!1,xy:u.xy(u.crossLength-1),dxy:u.dxy(u.crossLength-2,1),axis:u.axis,length:u.crossAxis.length,font:u.axis.tickfont,isFirst:0===M,isLast:M===s.length-1}),i.push(y))}},42048:function(oe){"use strict";oe.exports=function(j,r,I,E){var f=j[0]-r[0],S=j[1]-r[1],M=I[0]-r[0],y=I[1]-r[1],u=Math.pow(f*f+S*S,.25),i=Math.pow(M*M+y*y,.25),s=(i*i*f-u*u*M)*E,a=(i*i*S-u*u*y)*E,o=i*(u+i)*3,l=u*(u+i)*3;return[[r[0]+(o&&s/o),r[1]+(o&&a/o)],[r[0]-(l&&s/l),r[1]-(l&&a/l)]]}},53824:function(oe,j,r){"use strict";var I=r(71828).isArrayOrTypedArray;oe.exports=function(E,f,S){var M,y,u,i,s,a,o=[],l=I(E)?E.length:E,c=I(f)?f.length:f,h=I(E)?E:null,v=I(f)?f:null;h&&(u=(h.length-1)/(h[h.length-1]-h[0])/(l-1)),v&&(i=(v.length-1)/(v[v.length-1]-v[0])/(c-1));var p=1/0,T=-1/0;for(y=0;y<c;y++)for(o[y]=[],s=v?(v[y]-v[0])*i:y/(c-1),M=0;M<l;M++)a=(h?(h[M]-h[0])*u:M/(l-1))-s*S,p=Math.min(a,p),T=Math.max(a,T),o[y][M]=a;var _=1/(T-p),g=-p*_;for(y=0;y<c;y++)for(M=0;M<l;M++)o[y][M]=_*o[y][M]+g;return o}},45664:function(oe,j,r){"use strict";var I=r(42048),E=r(71828).ensureArray;function f(S,M,y){return[(2*(-.5*y[0]+1.5*M[0])+S[0])/3,(2*(-.5*y[1]+1.5*M[1])+S[1])/3]}oe.exports=function(S,M,y,u,i,s){var a,o,l,c,h,v,p,T,_,g,w=y[0].length,x=y.length,b=i?3*w-2:w,A=s?3*x-2:x;for(S=E(S,A),M=E(M,A),l=0;l<A;l++)S[l]=E(S[l],b),M[l]=E(M[l],b);for(o=0,c=0;o<x;o++,c+=s?3:1)for(h=S[c],v=M[c],p=y[o],T=u[o],a=0,l=0;a<w;a++,l+=i?3:1)h[l]=p[a],v[l]=T[a];if(i)for(o=0,c=0;o<x;o++,c+=s?3:1){for(a=1,l=3;a<w-1;a++,l+=3)_=I([y[o][a-1],u[o][a-1]],[y[o][a],u[o][a]],[y[o][a+1],u[o][a+1]],i),S[c][l-1]=_[0][0],M[c][l-1]=_[0][1],S[c][l+1]=_[1][0],M[c][l+1]=_[1][1];g=f([S[c][0],M[c][0]],[S[c][2],M[c][2]],[S[c][3],M[c][3]]),S[c][1]=g[0],M[c][1]=g[1],g=f([S[c][b-1],M[c][b-1]],[S[c][b-3],M[c][b-3]],[S[c][b-4],M[c][b-4]]),S[c][b-2]=g[0],M[c][b-2]=g[1]}if(s)for(l=0;l<b;l++){for(c=3;c<A-3;c+=3)_=I([S[c-3][l],M[c-3][l]],[S[c][l],M[c][l]],[S[c+3][l],M[c+3][l]],s),S[c-1][l]=_[0][0],M[c-1][l]=_[0][1],S[c+1][l]=_[1][0],M[c+1][l]=_[1][1];g=f([S[0][l],M[0][l]],[S[2][l],M[2][l]],[S[3][l],M[3][l]]),S[1][l]=g[0],M[1][l]=g[1],g=f([S[A-1][l],M[A-1][l]],[S[A-3][l],M[A-3][l]],[S[A-4][l],M[A-4][l]]),S[A-2][l]=g[0],M[A-2][l]=g[1]}if(i&&s)for(c=1;c<A;c+=(c+1)%3==0?2:1){for(l=3;l<b-3;l+=3)_=I([S[c][l-3],M[c][l-3]],[S[c][l],M[c][l]],[S[c][l+3],M[c][l+3]],i),S[c][l-1]=.5*(S[c][l-1]+_[0][0]),M[c][l-1]=.5*(M[c][l-1]+_[0][1]),S[c][l+1]=.5*(S[c][l+1]+_[1][0]),M[c][l+1]=.5*(M[c][l+1]+_[1][1]);g=f([S[c][0],M[c][0]],[S[c][2],M[c][2]],[S[c][3],M[c][3]]),S[c][1]=.5*(S[c][1]+g[0]),M[c][1]=.5*(M[c][1]+g[1]),g=f([S[c][b-1],M[c][b-1]],[S[c][b-3],M[c][b-3]],[S[c][b-4],M[c][b-4]]),S[c][b-2]=.5*(S[c][b-2]+g[0]),M[c][b-2]=.5*(M[c][b-2]+g[1])}return[S,M]}},35509:function(oe){"use strict";oe.exports={RELATIVE_CULL_TOLERANCE:1e-6}},54495:function(oe){"use strict";oe.exports=function(j,r,I){return r&&I?function(E,f,S,M,y){var u,o,l;E||(E=[]),f*=3,S*=3;var c=M*M,h=1-M,v=h*h,p=h*M*2,T=-3*v,_=3*(v-p),g=3*(p-c),w=3*c,x=y*y,b=x*y,A=1-y,m=A*A,C=m*A;for(l=0;l<j.length;l++)u=T*(o=j[l])[S][f]+_*o[S][f+1]+g*o[S][f+2]+w*o[S][f+3],E[l]=C*u+3*(m*y*(T*o[S+1][f]+_*o[S+1][f+1]+g*o[S+1][f+2]+w*o[S+1][f+3])+A*x*(T*o[S+2][f]+_*o[S+2][f+1]+g*o[S+2][f+2]+w*o[S+2][f+3]))+b*(T*o[S+3][f]+_*o[S+3][f+1]+g*o[S+3][f+2]+w*o[S+3][f+3]);return E}:r?function(E,f,S,M,y){var u,s,a;E||(E=[]),f*=3;var o=M*M,l=1-M,c=l*l,h=l*M*2,v=-3*c,p=3*(c-h),T=3*(h-o),_=3*o,g=1-y;for(s=0;s<j.length;s++)u=v*(a=j[s])[S][f]+p*a[S][f+1]+T*a[S][f+2]+_*a[S][f+3],E[s]=g*u+y*(v*a[S+1][f]+p*a[S+1][f+1]+T*a[S+1][f+2]+_*a[S+1][f+3]);return E}:I?function(E,f,S,M,y){var u,o,l;E||(E=[]),S*=3;var c=y*y,h=c*y,v=1-y,p=v*v,T=p*v;for(o=0;o<j.length;o++)u=(l=j[o])[S][f+1]-l[S][f],E[o]=T*u+3*(p*y*(l[S+1][f+1]-l[S+1][f])+v*c*(l[S+2][f+1]-l[S+2][f]))+h*(l[S+3][f+1]-l[S+3][f]);return E}:function(E,f,S,M,y){var u,s,a;E||(E=[]);var o=1-y;for(s=0;s<j.length;s++)u=(a=j[s])[S][f+1]-a[S][f],E[s]=o*u+y*(a[S+1][f+1]-a[S+1][f]);return E}}},73057:function(oe){"use strict";oe.exports=function(j,r,I){return r&&I?function(E,f,S,M,y){var u,o,l;E||(E=[]),f*=3,S*=3;var c=M*M,h=c*M,v=1-M,p=v*v,T=p*v,_=y*y,g=1-y,w=g*g,x=g*y*2,b=-3*w,A=3*(w-x),m=3*(x-_),C=3*_;for(l=0;l<j.length;l++)u=b*(o=j[l])[S][f]+A*o[S+1][f]+m*o[S+2][f]+C*o[S+3][f],E[l]=T*u+3*(p*M*(b*o[S][f+1]+A*o[S+1][f+1]+m*o[S+2][f+1]+C*o[S+3][f+1])+v*c*(b*o[S][f+2]+A*o[S+1][f+2]+m*o[S+2][f+2]+C*o[S+3][f+2]))+h*(b*o[S][f+3]+A*o[S+1][f+3]+m*o[S+2][f+3]+C*o[S+3][f+3]);return E}:r?function(E,f,S,M,y){var u,o,l;E||(E=[]),f*=3;var c=y*y,h=c*y,v=1-y,p=v*v,T=p*v;for(o=0;o<j.length;o++)u=(l=j[o])[S+1][f]-l[S][f],E[o]=T*u+3*(p*y*(l[S+1][f+1]-l[S][f+1])+v*c*(l[S+1][f+2]-l[S][f+2]))+h*(l[S+1][f+3]-l[S][f+3]);return E}:I?function(E,f,S,M,y){var u,s,a;E||(E=[]),S*=3;var o=1-M,l=y*y,c=1-y,h=c*c,v=c*y*2,p=-3*h,T=3*(h-v),_=3*(v-l),g=3*l;for(s=0;s<j.length;s++)u=p*(a=j[s])[S][f]+T*a[S+1][f]+_*a[S+2][f]+g*a[S+3][f],E[s]=o*u+M*(p*a[S][f+1]+T*a[S+1][f+1]+_*a[S+2][f+1]+g*a[S+3][f+1]);return E}:function(E,f,S,M,y){var u,s,a;E||(E=[]);var o=1-M;for(s=0;s<j.length;s++)u=(a=j[s])[S+1][f]-a[S][f],E[s]=o*u+M*(a[S+1][f+1]-a[S][f+1]);return E}}},20349:function(oe){"use strict";oe.exports=function(j,r,I,E,f){var S=r-2,M=I-2;return E&&f?function(y,u,i){var s,c,h;y||(y=[]);var v=Math.max(0,Math.min(Math.floor(u),S)),p=Math.max(0,Math.min(Math.floor(i),M)),T=Math.max(0,Math.min(1,u-v)),_=Math.max(0,Math.min(1,i-p));v*=3,p*=3;var g=T*T,w=g*T,x=1-T,b=x*x,A=b*x,m=_*_,C=m*_,k=1-_,P=k*k,R=P*k;for(h=0;h<j.length;h++)s=A*(c=j[h])[p][v]+3*(b*T*c[p][v+1]+x*g*c[p][v+2])+w*c[p][v+3],y[h]=R*s+3*(P*_*(A*c[p+1][v]+3*(b*T*c[p+1][v+1]+x*g*c[p+1][v+2])+w*c[p+1][v+3])+k*m*(A*c[p+2][v]+3*(b*T*c[p+2][v+1]+x*g*c[p+2][v+2])+w*c[p+2][v+3]))+C*(A*c[p+3][v]+3*(b*T*c[p+3][v+1]+x*g*c[p+3][v+2])+w*c[p+3][v+3]);return y}:E?function(y,u,i){y||(y=[]);var s,c,h,v=Math.max(0,Math.min(Math.floor(u),S)),p=Math.max(0,Math.min(Math.floor(i),M)),T=Math.max(0,Math.min(1,u-v)),_=Math.max(0,Math.min(1,i-p));v*=3;var g=T*T,w=g*T,x=1-T,b=x*x,A=b*x,m=1-_;for(c=0;c<j.length;c++)s=m*(h=j[c])[p][v]+_*h[p+1][v],y[c]=A*s+3*(b*T*(m*h[p][v+1]+_*h[p+1][v+1])+x*g*(m*h[p][v+2]+_*h[p+1][v+1]))+w*(m*h[p][v+3]+_*h[p+1][v+1]);return y}:f?function(y,u,i){y||(y=[]);var s,c,h,v=Math.max(0,Math.min(Math.floor(u),S)),p=Math.max(0,Math.min(Math.floor(i),M)),T=Math.max(0,Math.min(1,u-v)),_=Math.max(0,Math.min(1,i-p));p*=3;var g=_*_,w=g*_,x=1-_,b=x*x,A=b*x,m=1-T;for(c=0;c<j.length;c++)s=m*(h=j[c])[p][v]+T*h[p][v+1],y[c]=A*s+3*(b*_*(m*h[p+1][v]+T*h[p+1][v+1])+x*g*(m*h[p+2][v]+T*h[p+2][v+1]))+w*(m*h[p+3][v]+T*h[p+3][v+1]);return y}:function(y,u,i){y||(y=[]);var s,o,l,c=Math.max(0,Math.min(Math.floor(u),S)),h=Math.max(0,Math.min(Math.floor(i),M)),v=Math.max(0,Math.min(1,u-c)),p=Math.max(0,Math.min(1,i-h)),T=1-p,_=1-v;for(o=0;o<j.length;o++)s=_*(l=j[o])[h][c]+v*l[h][c+1],y[o]=T*s+p*(_*l[h+1][c]+v*l[h+1][c+1]);return y}}},92087:function(oe,j,r){"use strict";var I=r(71828),E=r(19237),f=r(13145),S=r(99798),M=r(22399);oe.exports=function(y,u,i,s){function a(l,c){return I.coerce(y,u,S,l,c)}u._clipPathId="clip"+u.uid+"carpet";var o=a("color",M.defaultLine);I.coerceFont(a,"font"),a("carpet"),f(y,u,s,a,o),u.a&&u.b?(u.a.length<3&&(u.aaxis.smoothing=0),u.b.length<3&&(u.baxis.smoothing=0),E(y,u,a)||(u.visible=!1),u._cheater&&a("cheaterslope")):u.visible=!1}},21462:function(oe,j,r){"use strict";oe.exports={attributes:r(99798),supplyDefaults:r(92087),plot:r(89740),calc:r(25281),animatable:!0,isContainer:!0,moduleType:"trace",name:"carpet",basePlotModule:r(93612),categories:["cartesian","svg","carpet","carpetAxis","notLegendIsolatable","noMultiCategory","noHover","noSortingByValue"],meta:{}}},22882:function(oe){"use strict";oe.exports=function(j,r){for(var I,E=j._fullData.length,f=0;f<E;f++){var S=j._fullData[f];if(S.index!==r.index&&"carpet"===S.type&&(I||(I=S),S.carpet===r.carpet))return S}return I}},67961:function(oe){"use strict";oe.exports=function(j,r,I){if(0===j.length)return"";var E,f=[],S=I?3:1;for(E=0;E<j.length;E+=S)f.push(j[E]+","+r[E]),I&&E<j.length-S&&(f.push("C"),f.push([j[E+1]+","+r[E+1],j[E+2]+","+r[E+2]+" "].join(" ")));return f.join(I?"":"L")}},27669:function(oe,j,r){"use strict";var I=r(71828).isArrayOrTypedArray;oe.exports=function(E,f,S){var M;for(I(E)?E.length>f.length&&(E=E.slice(0,f.length)):E=[],M=0;M<f.length;M++)E[M]=S(f[M]);return E}},11651:function(oe){"use strict";oe.exports=function(j,r,I,E,f,S){var M=f[0]*j.dpdx(r),y=f[1]*j.dpdy(I),u=1,i=1;if(S){var s=Math.sqrt(f[0]*f[0]+f[1]*f[1]),a=Math.sqrt(S[0]*S[0]+S[1]*S[1]);i=Math.max(0,(f[0]*S[0]+f[1]*S[1])/s/a)}var l=180*Math.atan2(y,M)/Math.PI;return l<-90?(l+=180,u=-u):l>90&&(l-=180,u=-u),{angle:l,flip:u,p:j.c2p(E,r,I),offsetMultplier:i}}},89740:function(oe,j,r){"use strict";var I=r(39898),E=r(91424),f=r(27669),S=r(67961),M=r(11651),y=r(63893),u=r(71828),i=u.strRotate,s=u.strTranslate,a=r(18783);function o(p,T,_,g,w,x,b){var A="const-"+w+"-lines",m=_.selectAll("."+A).data(x);m.enter().append("path").classed(A,!0).style("vector-effect",b?"none":"non-scaling-stroke"),m.each(function(C){var k=C,R=k.y,L=f([],k.x,p.c2p),N=f([],R,T.c2p),B="M"+S(L,N,k.smoothing);I.select(this).attr("d",B).style("stroke-width",k.width).style("stroke",k.color).style("stroke-dasharray",E.dashStyle(k.dash,k.width)).style("fill","none")}),m.exit().remove()}function l(p,T,_,g,w,x,b,A){var m=x.selectAll("text."+A).data(b);m.enter().append("text").classed(A,!0);var C=0,k={};return m.each(function(P,R){var L;if("auto"===P.axis.tickangle)L=M(g,T,_,P.xy,P.dxy);else{var N=(P.axis.tickangle+180)*Math.PI/180;L=M(g,T,_,P.xy,[Math.cos(N),Math.sin(N)])}R||(k={angle:L.angle,flip:L.flip});var B=(P.endAnchor?-1:1)*L.flip,J=I.select(this).attr({"text-anchor":B>0?"start":"end","data-notex":1}).call(E.font,P.font).text(P.text).call(y.convertToTspans,p),z=E.bBox(this);J.attr("transform",s(L.p[0],L.p[1])+i(L.angle)+s(P.axis.labelpadding*B,.3*z.height)),C=Math.max(C,z.width+P.axis.labelpadding)}),m.exit().remove(),k.maxExtent=C,k}oe.exports=function(p,T,_,g){var w=p._context.staticPlot,x=T.xaxis,b=T.yaxis,A=p._fullLayout._clips;u.makeTraceGroups(g,_,"trace").each(function(m){var C=I.select(this),k=m[0],P=k.trace,R=P.aaxis,L=P.baxis,N=u.ensureSingle(C,"g","minorlayer"),B=u.ensureSingle(C,"g","majorlayer"),J=u.ensureSingle(C,"g","boundarylayer"),z=u.ensureSingle(C,"g","labellayer");C.style("opacity",P.opacity),o(x,b,B,0,"a",R._gridlines,!0),o(x,b,B,0,"b",L._gridlines,!0),o(x,b,N,0,"a",R._minorgridlines,!0),o(x,b,N,0,"b",L._minorgridlines,!0),o(x,b,J,0,"a-boundary",R._boundarylines,w),o(x,b,J,0,"b-boundary",L._boundarylines,w);var U,Z,X,re,ee,K,ne,ae,ue,he,pe,ge,xe,Se,Te,Y=l(p,x,b,P,0,z,R._labels,"a-label"),q=l(p,x,b,P,0,z,L._labels,"b-label");U=p,Z=z,X=P,re=x,ee=b,K=Y,ne=q,ge=u.aggNums(Math.min,null,X.a),xe=u.aggNums(Math.max,null,X.a),Se=u.aggNums(Math.min,null,X.b),Te=u.aggNums(Math.max,null,X.b),he=X.ab2xy(ae=.5*(ge+xe),ue=Se,!0),pe=X.dxyda_rough(ae,ue),void 0===K.angle&&u.extendFlat(K,M(X,re,ee,he,X.dxydb_rough(ae,ue))),v(U,Z,X,0,he,pe,X.aaxis,re,ee,K,"a-title"),he=X.ab2xy(ae=ge,ue=.5*(Se+Te),!0),pe=X.dxydb_rough(ae,ue),void 0===ne.angle&&u.extendFlat(ne,M(X,re,ee,he,X.dxyda_rough(ae,ue))),v(U,Z,X,0,he,pe,X.baxis,re,ee,ne,"b-title"),function(U,Z,X,se,re){var ee,K,ne,ae,ue=X.select("#"+U._clipPathId);ue.size()||(ue=X.append("clipPath").classed("carpetclip",!0));var he=u.ensureSingle(ue,"path","carpetboundary"),pe=Z.clipsegments,ge=[];for(ae=0;ae<pe.length;ae++)K=f([],(ee=pe[ae]).x,se.c2p),ne=f([],ee.y,re.c2p),ge.push(S(K,ne,ee.bicubic));var xe="M"+ge.join("L")+"Z";ue.attr("id",U._clipPathId),he.attr("d",xe)}(P,k,A,x,b)})};var c=a.LINE_SPACING,h=(1-a.MID_SHIFT)/c+1;function v(p,T,_,g,w,x,b,A,m,C,k){var P=[];b.title.text&&P.push(b.title.text);var R=T.selectAll("text."+k).data(P),L=C.maxExtent;R.enter().append("text").classed(k,!0),R.each(function(){var N=M(_,A,m,w,x);-1===["start","both"].indexOf(b.showticklabels)&&(L=0);var B=b.title.font.size;L+=B+b.title.offset;var J=(C.angle+(C.flip<0?180:0)-N.angle+450)%360,z=J>90&&J<270,Y=I.select(this);Y.text(b.title.text).call(y.convertToTspans,p),z&&(L=(-y.lineCount(Y)+h)*c*B-L),Y.attr("transform",s(N.p[0],N.p[1])+i(N.angle)+s(0,L)).attr("text-anchor","middle").call(E.font,b.title.font)}),R.exit().remove()}},11435:function(oe,j,r){"use strict";var I=r(35509),E=r(65888).findBin,f=r(45664),S=r(20349),M=r(54495),y=r(73057);oe.exports=function(u){var i=u._a,s=u._b,a=i.length,o=s.length,l=u.aaxis,c=u.baxis,h=i[0],v=i[a-1],p=s[0],T=s[o-1],_=i[i.length-1]-i[0],g=s[s.length-1]-s[0],w=_*I.RELATIVE_CULL_TOLERANCE,x=g*I.RELATIVE_CULL_TOLERANCE;h-=w,v+=w,p-=x,T+=x,u.isVisible=function(b,A){return b>h&&b<v&&A>p&&A<T},u.isOccluded=function(b,A){return b<h||b>v||A<p||A>T},u.setScale=function(){var m=f(u._xctrl,u._yctrl,u._x,u._y,l.smoothing,c.smoothing);u._xctrl=m[0],u._yctrl=m[1],u.evalxy=S([u._xctrl,u._yctrl],a,o,l.smoothing,c.smoothing),u.dxydi=M([u._xctrl,u._yctrl],l.smoothing,c.smoothing),u.dxydj=y([u._xctrl,u._yctrl],l.smoothing,c.smoothing)},u.i2a=function(b){var A=Math.max(0,Math.floor(b[0]),a-2),m=b[0]-A;return(1-m)*i[A]+m*i[A+1]},u.j2b=function(b){var A=Math.max(0,Math.floor(b[1]),a-2),m=b[1]-A;return(1-m)*s[A]+m*s[A+1]},u.ij2ab=function(b){return[u.i2a(b[0]),u.j2b(b[1])]},u.a2i=function(b){var A=Math.max(0,Math.min(E(b,i),a-2)),m=i[A];return Math.max(0,Math.min(a-1,A+(b-m)/(i[A+1]-m)))},u.b2j=function(b){var A=Math.max(0,Math.min(E(b,s),o-2)),m=s[A];return Math.max(0,Math.min(o-1,A+(b-m)/(s[A+1]-m)))},u.ab2ij=function(b){return[u.a2i(b[0]),u.b2j(b[1])]},u.i2c=function(b,A){return u.evalxy([],b,A)},u.ab2xy=function(b,A,m){if(!m&&(b<i[0]||b>i[a-1]|A<s[0]||A>s[o-1]))return[!1,!1];var C=u.a2i(b),k=u.b2j(A),P=u.evalxy([],C,k);if(m){var R,L,N,B,J=0,z=0,Y=[];b<i[0]?(R=0,L=0,J=(b-i[0])/(i[1]-i[0])):b>i[a-1]?(R=a-2,L=1,J=(b-i[a-1])/(i[a-1]-i[a-2])):L=C-(R=Math.max(0,Math.min(a-2,Math.floor(C)))),A<s[0]?(N=0,B=0,z=(A-s[0])/(s[1]-s[0])):A>s[o-1]?(N=o-2,B=1,z=(A-s[o-1])/(s[o-1]-s[o-2])):B=k-(N=Math.max(0,Math.min(o-2,Math.floor(k)))),J&&(u.dxydi(Y,R,N,L,B),P[0]+=Y[0]*J,P[1]+=Y[1]*J),z&&(u.dxydj(Y,R,N,L,B),P[0]+=Y[0]*z,P[1]+=Y[1]*z)}return P},u.c2p=function(b,A,m){return[A.c2p(b[0]),m.c2p(b[1])]},u.p2x=function(b,A,m){return[A.p2c(b[0]),m.p2c(b[1])]},u.dadi=function(b){var A=Math.max(0,Math.min(i.length-2,b));return i[A+1]-i[A]},u.dbdj=function(b){var A=Math.max(0,Math.min(s.length-2,b));return s[A+1]-s[A]},u.dxyda=function(b,A,m,C){var k=u.dxydi(null,b,A,m,C),P=u.dadi(b,m);return[k[0]/P,k[1]/P]},u.dxydb=function(b,A,m,C){var k=u.dxydj(null,b,A,m,C),P=u.dbdj(A,C);return[k[0]/P,k[1]/P]},u.dxyda_rough=function(b,A,m){var C=_*(m||.1),k=u.ab2xy(b+C,A,!0),P=u.ab2xy(b-C,A,!0);return[.5*(k[0]-P[0])/C,.5*(k[1]-P[1])/C]},u.dxydb_rough=function(b,A,m){var C=g*(m||.1),k=u.ab2xy(b,A+C,!0),P=u.ab2xy(b,A-C,!0);return[.5*(k[0]-P[0])/C,.5*(k[1]-P[1])/C]},u.dpdx=function(b){return b._m},u.dpdy=function(b){return b._m}}},72505:function(oe,j,r){"use strict";var I=r(71828);oe.exports=function(E,f,S){var M,y,u,i=[],s=[],a=E[0].length,o=E.length;var c,h,v,p,T,_,g,w,x,b,U,Z,X,se,re,m=0;for(M=0;M<a;M++)for(y=0;y<o;y++)void 0===E[y][M]&&(i.push(M),s.push(y),E[y][M]=(Z=y,X=void 0,se=void 0,re=void 0,se=0,re=0,(U=M)>0&&void 0!==(X=E[Z][U-1])&&(re++,se+=X),U<a-1&&void 0!==(X=E[Z][U+1])&&(re++,se+=X),Z>0&&void 0!==(X=E[Z-1][U])&&(re++,se+=X),Z<o-1&&void 0!==(X=E[Z+1][U])&&(re++,se+=X),se/Math.max(1,re))),m=Math.max(m,Math.abs(E[y][M]));if(!i.length)return E;var C=0,k=0,P=i.length;do{for(C=0,u=0;u<P;u++){y=s[u];var L,N,B,J,z,Y=0,q=0;0===(M=i[u])?(N=f[J=Math.min(a-1,2)],q+=(L=E[y][1])+(L-E[y][J])*(f[0]-(B=f[1]))/(B-N),Y++):M===a-1&&(N=f[J=Math.max(0,a-3)],q+=(L=E[y][a-2])+(L-E[y][J])*(f[a-1]-(B=f[a-2]))/(B-N),Y++),(0===M||M===a-1)&&y>0&&y<o-1&&(q+=((h=S[y]-S[y-1])*E[y+1][M]+(c=S[y+1]-S[y])*E[y-1][M])/(h+c),Y++),0===y?(N=S[z=Math.min(o-1,2)],q+=(L=E[1][M])+(L-E[z][M])*(S[0]-(B=S[1]))/(B-N),Y++):y===o-1&&(N=S[z=Math.max(0,o-3)],q+=(L=E[o-2][M])+(L-E[z][M])*(S[o-1]-(B=S[o-2]))/(B-N),Y++),(0===y||y===o-1)&&M>0&&M<a-1&&(q+=((h=f[M]-f[M-1])*E[y][M+1]+(c=f[M+1]-f[M])*E[y][M-1])/(h+c),Y++),Y?q/=Y:(w=(T=S[y+1]-S[y])*(_=S[y]-S[y-1])*(T+_),q=((g=(v=f[M+1]-f[M])*(p=f[M]-f[M-1])*(v+p))*(_*E[y+1][M]+T*E[y-1][M])+w*(p*E[y][M+1]+v*E[y][M-1]))/(w*(p+v)+g*(_+T))),C+=(b=(x=q-E[y][M])/m)*b,E[y][M]+=x*(1+(Y?0:.85))}C=Math.sqrt(C)}while(k++<100&&C>1e-5);return I.log("Smoother converged to",C,"after",k,"iterations"),E}},19237:function(oe,j,r){"use strict";var I=r(71828).isArray1D;oe.exports=function(E,f,S){var M=S("x"),y=M&&M.length,u=S("y"),i=u&&u.length;if(!y&&!i)return!1;if(f._cheater=!M,y&&!I(M)||i&&!I(u))f._length=null;else{var s=y?M.length:1/0;i&&(s=Math.min(s,u.length)),f.a&&f.a.length&&(s=Math.min(s,f.a.length)),f.b&&f.b.length&&(s=Math.min(s,f.b.length)),f._length=s}return!0}},69568:function(oe,j,r){"use strict";var I=r(5386).fF,E=r(19316),f=r(50693),S=r(9012),M=r(22399).defaultLine,y=r(1426).extendFlat,u=E.marker.line;oe.exports=y({locations:{valType:"data_array",editType:"calc"},locationmode:E.locationmode,z:{valType:"data_array",editType:"calc"},geojson:y({},E.geojson,{}),featureidkey:E.featureidkey,text:y({},E.text,{}),hovertext:y({},E.hovertext,{}),marker:{line:{color:y({},u.color,{dflt:M}),width:y({},u.width,{dflt:1}),editType:"calc"},opacity:{valType:"number",arrayOk:!0,min:0,max:1,dflt:1,editType:"style"},editType:"calc"},selected:{marker:{opacity:E.selected.marker.opacity,editType:"plot"},editType:"plot"},unselected:{marker:{opacity:E.unselected.marker.opacity,editType:"plot"},editType:"plot"},hoverinfo:y({},S.hoverinfo,{editType:"calc",flags:["location","z","text","name"]}),hovertemplate:I(),showlegend:y({},S.showlegend,{dflt:!1})},f("",{cLetter:"z",editTypeOverride:"calc"}))},38675:function(oe,j,r){"use strict";var I=r(92770),E=r(50606).BADNUM,f=r(78803),S=r(75225),M=r(66279);function y(u){return u&&"string"==typeof u}oe.exports=function(u,i){var s,a=i._length,o=new Array(a);s=i.geojson?function(p){return y(p)||I(p)}:y;for(var l=0;l<a;l++){var c=o[l]={},h=i.locations[l],v=i.z[l];s(h)&&I(v)?(c.loc=h,c.z=v):(c.loc=null,c.z=E),c.index=l}return S(o,i),f(u,i,{vals:i.z,containerStr:"",cLetter:"z"}),M(o,i),o}},61869:function(oe,j,r){"use strict";var I=r(71828),E=r(1586),f=r(69568);oe.exports=function(S,M,y,u){function i(c,h){return I.coerce(S,M,f,c,h)}var s=i("locations"),a=i("z");if(s&&s.length&&I.isArrayOrTypedArray(a)&&a.length){M._length=Math.min(s.length,a.length);var o,l=i("geojson");("string"==typeof l&&""!==l||I.isPlainObject(l))&&(o="geojson-id"),"geojson-id"===i("locationmode",o)&&i("featureidkey"),i("text"),i("hovertext"),i("hovertemplate"),i("marker.line.width")&&i("marker.line.color"),i("marker.opacity"),E(S,M,u,i,{prefix:"",cLetter:"z"}),I.coerceSelectionMarkerOpacity(M,i)}else M.visible=!1}},92069:function(oe){"use strict";oe.exports=function(j,r,I,E,f){j.location=r.location,j.z=r.z;var S=E[f];return S.fIn&&S.fIn.properties&&(j.properties=S.fIn.properties),j.ct=S.ct,j}},42300:function(oe,j,r){"use strict";var I=r(89298),E=r(69568),f=r(71828).fillText;oe.exports=function(S,M,y){var u,i,s,a,o=S.cd,l=o[0].trace,c=S.subplot,h=[M,y],v=[M+360,y];for(i=0;i<o.length;i++)if(a=!1,(u=o[i])._polygons){for(s=0;s<u._polygons.length;s++)u._polygons[s].contains(h)&&(a=!a),u._polygons[s].contains(v)&&(a=!a);if(a)break}if(a&&u)return S.x0=S.x1=S.xa.c2p(u.ct),S.y0=S.y1=S.ya.c2p(u.ct),S.index=u.index,S.location=u.loc,S.z=u.z,S.zLabel=I.tickText(c.mockAxis,c.mockAxis.c2l(u.z),"hover").text,S.hovertemplate=u.hovertemplate,function(p,T,_){if(!T.hovertemplate){var g=_.hi||T.hoverinfo,w=String(_.loc),x="all"===g?E.hoverinfo.flags:g.split("+"),b=-1!==x.indexOf("name"),A=-1!==x.indexOf("location"),m=-1!==x.indexOf("z"),C=-1!==x.indexOf("text"),k=[];!b&&A?p.nameOverride=w:(b&&(p.nameOverride=T.name),A&&k.push(w)),m&&k.push(p.zLabel),C&&f(_,T,k),p.extraText=k.join("<br>")}}(S,l,u),[S]}},51319:function(oe,j,r){"use strict";oe.exports={attributes:r(69568),supplyDefaults:r(61869),colorbar:r(61243),calc:r(38675),calcGeoJSON:r(99841).calcGeoJSON,plot:r(99841).plot,style:r(99636).style,styleOnSelect:r(99636).styleOnSelect,hoverPoints:r(42300),eventData:r(92069),selectPoints:r(81253),moduleType:"trace",name:"choropleth",basePlotModule:r(44622),categories:["geo","noOpacity","showLegend"],meta:{}}},99841:function(oe,j,r){"use strict";var I=r(39898),E=r(71828),f=r(41327),S=r(90973).getTopojsonFeatures,M=r(71739).findExtremes,y=r(99636).style;oe.exports={calcGeoJSON:function(u,i){for(var s=u[0].trace,a=i[s.geo],o=a._subplot,l=s.locationmode,c=s._length,h="geojson-id"===l?f.extractTraceFeature(u):S(s,o.topojson),v=[],p=[],T=0;T<c;T++){var _=u[T],g="geojson-id"===l?_.fOut:f.locationToFeature(l,_.loc,h);if(g){_.geojson=g,_.ct=g.properties.ct,_._polygons=f.feature2polygons(g);var w=f.computeBbox(g);v.push(w[0],w[2]),p.push(w[1],w[3])}else _.geojson=null}if("geojson"===a.fitbounds&&"geojson-id"===l){var x=f.computeBbox(f.getTraceGeojson(s));v=[x[0],x[2]],p=[x[1],x[3]]}var b={padded:!0};s._extremes.lon=M(a.lonaxis._ax,v,b),s._extremes.lat=M(a.lataxis._ax,p,b)},plot:function(u,i,s){var a=i.layers.backplot.select(".choroplethlayer");E.makeTraceGroups(a,s,"trace choropleth").each(function(o){var l=I.select(this).selectAll("path.choroplethlocation").data(E.identity);l.enter().append("path").classed("choroplethlocation",!0),l.exit().remove(),y(u,o)})}}},81253:function(oe){"use strict";oe.exports=function(j,r){var I,E,f,S,M,y=j.cd,u=j.xaxis,i=j.yaxis,s=[];if(!1===r)for(I=0;I<y.length;I++)y[I].selected=0;else for(I=0;I<y.length;I++)(f=(E=y[I]).ct)&&(S=u.c2p(f),M=i.c2p(f),r.contains([S,M],null,I,j)?(s.push({pointNumber:I,lon:f[0],lat:f[1]}),E.selected=1):E.selected=0);return s}},99636:function(oe,j,r){"use strict";var I=r(39898),E=r(7901),f=r(91424),S=r(21081);function M(y,u){var i=u[0].trace,s=u[0].node3.selectAll(".choroplethlocation"),a=i.marker||{},o=a.line||{},l=S.makeColorScaleFuncFromTrace(i);s.each(function(c){I.select(this).attr("fill",l(c.z)).call(E.stroke,c.mlc||o.color).call(f.dashLine,"",c.mlw||o.width||0).style("opacity",a.opacity)}),f.selectedPointStyle(s,i)}oe.exports={style:function(y,u){u&&M(0,u)},styleOnSelect:function(y,u){var s=u[0].trace;s.selectedpoints?f.selectedPointStyle(u[0].node3.selectAll(".choroplethlocation"),s):M(0,u)}}},64496:function(oe,j,r){"use strict";var I=r(69568),E=r(50693),f=r(5386).fF,S=r(9012),M=r(1426).extendFlat;oe.exports=M({locations:{valType:"data_array",editType:"calc"},z:{valType:"data_array",editType:"calc"},geojson:{valType:"any",editType:"calc"},featureidkey:M({},I.featureidkey,{}),below:{valType:"string",editType:"plot"},text:I.text,hovertext:I.hovertext,marker:{line:{color:M({},I.marker.line.color,{editType:"plot"}),width:M({},I.marker.line.width,{editType:"plot"}),editType:"calc"},opacity:M({},I.marker.opacity,{editType:"plot"}),editType:"calc"},selected:{marker:{opacity:M({},I.selected.marker.opacity,{editType:"plot"}),editType:"plot"},editType:"plot"},unselected:{marker:{opacity:M({},I.unselected.marker.opacity,{editType:"plot"}),editType:"plot"},editType:"plot"},hoverinfo:I.hoverinfo,hovertemplate:f({},{keys:["properties"]}),showlegend:M({},S.showlegend,{dflt:!1})},E("",{cLetter:"z",editTypeOverride:"calc"}))},82004:function(oe,j,r){"use strict";var I=r(92770),E=r(71828),f=r(21081),S=r(91424),M=r(18214).makeBlank,y=r(41327);function u(i){var s,a=i[0].trace,o=a._opts;if(a.selectedpoints){for(var l=S.makeSelectedPointStyleFns(a),c=0;c<i.length;c++){var h=i[c];h.fOut&&(h.fOut.properties.mo2=l.selectedOpacityFn(h))}s={type:"identity",property:"mo2"}}else s=E.isArrayOrTypedArray(a.marker.opacity)?{type:"identity",property:"mo"}:a.marker.opacity;return E.extendFlat(o.fill.paint,{"fill-opacity":s}),E.extendFlat(o.line.paint,{"line-opacity":s}),o}oe.exports={convert:function(i){var s=i[0].trace,a=!0===s.visible&&0!==s._length,o={layout:{visibility:"none"},paint:{}},l={layout:{visibility:"none"},paint:{}},c=s._opts={fill:o,line:l,geojson:M()};if(!a)return c;var h=y.extractTraceFeature(i);if(!h)return c;var v,p,T,_=f.makeColorScaleFuncFromTrace(s),g=s.marker,w=g.line||{};E.isArrayOrTypedArray(g.opacity)&&(v=function(k){var P=k.mo;return I(P)?+E.constrain(P,0,1):0}),E.isArrayOrTypedArray(w.color)&&(p=function(k){return k.mlc}),E.isArrayOrTypedArray(w.width)&&(T=function(k){return k.mlw});for(var x=0;x<i.length;x++){var b=i[x],A=b.fOut;if(A){var m=A.properties;m.fc=_(b.z),v&&(m.mo=v(b)),p&&(m.mlc=p(b)),T&&(m.mlw=T(b)),b.ct=m.ct,b._polygons=y.feature2polygons(A)}}var C=v?{type:"identity",property:"mo"}:g.opacity;return E.extendFlat(o.paint,{"fill-color":{type:"identity",property:"fc"},"fill-opacity":C}),E.extendFlat(l.paint,{"line-color":p?{type:"identity",property:"mlc"}:w.color,"line-width":T?{type:"identity",property:"mlw"}:w.width,"line-opacity":C}),o.layout.visibility="visible",l.layout.visibility="visible",c.geojson={type:"FeatureCollection",features:h},u(i),c},convertOnSelect:u}},22654:function(oe,j,r){"use strict";var I=r(71828),E=r(1586),f=r(64496);oe.exports=function(S,M,y,u){function i(l,c){return I.coerce(S,M,f,l,c)}var s=i("locations"),a=i("z"),o=i("geojson");I.isArrayOrTypedArray(s)&&s.length&&I.isArrayOrTypedArray(a)&&a.length&&("string"==typeof o&&""!==o||I.isPlainObject(o))?(i("featureidkey"),M._length=Math.min(s.length,a.length),i("below"),i("text"),i("hovertext"),i("hovertemplate"),i("marker.line.width")&&i("marker.line.color"),i("marker.opacity"),E(S,M,u,i,{prefix:"",cLetter:"z"}),I.coerceSelectionMarkerOpacity(M,i)):M.visible=!1}},57516:function(oe,j,r){"use strict";oe.exports={attributes:r(64496),supplyDefaults:r(22654),colorbar:r(61243),calc:r(38675),plot:r(7852),hoverPoints:r(42300),eventData:r(92069),selectPoints:r(81253),styleOnSelect:function(I,E){E&&E[0].trace._glTrace.updateOnSelect(E)},getBelow:function(I,E){for(var f=E.getMapLayers(),S=f.length-2;S>=0;S--){var M=f[S].id;if("string"==typeof M&&0===M.indexOf("water"))for(var y=S+1;y<f.length;y++)if("string"==typeof(M=f[y].id)&&-1===M.indexOf("plotly-"))return M}},moduleType:"trace",name:"choroplethmapbox",basePlotModule:r(50101),categories:["mapbox","gl","noOpacity","showLegend"],meta:{hr_name:"choropleth_mapbox"}}},7852:function(oe,j,r){"use strict";var I=r(82004).convert,E=r(82004).convertOnSelect,f=r(77734).traceLayerPrefix;function S(y,u){this.type="choroplethmapbox",this.subplot=y,this.uid=u,this.sourceId="source-"+u,this.layerList=[["fill",f+u+"-fill"],["line",f+u+"-line"]],this.below=null}var M=S.prototype;M.update=function(y){this._update(I(y)),y[0].trace._glTrace=this},M.updateOnSelect=function(y){this._update(E(y))},M._update=function(y){var u=this.subplot,i=this.layerList,s=u.belowLookup["trace-"+this.uid];u.map.getSource(this.sourceId).setData(y.geojson),s!==this.below&&(this._removeLayers(),this._addLayers(y,s),this.below=s);for(var a=0;a<i.length;a++){var o=i[a],c=o[1],h=y[o[0]];u.setOptions(c,"setLayoutProperty",h.layout),"visible"===h.layout.visibility&&u.setOptions(c,"setPaintProperty",h.paint)}},M._addLayers=function(y,u){for(var i=this.subplot,s=this.layerList,a=this.sourceId,o=0;o<s.length;o++){var l=s[o],c=l[0],h=y[c];i.addLayer({type:c,id:l[1],source:a,layout:h.layout,paint:h.paint},u)}},M._removeLayers=function(){for(var y=this.subplot.map,u=this.layerList,i=u.length-1;i>=0;i--)y.removeLayer(u[i][1])},M.dispose=function(){var y=this.subplot.map;this._removeLayers(),y.removeSource(this.sourceId)},oe.exports=function(y,u){var i=u[0].trace,s=new S(y,i.uid),a=s.sourceId,o=I(u),l=s.below=y.belowLookup["trace-"+i.uid];return y.map.addSource(a,{type:"geojson",data:o.geojson}),s._addLayers(o,l),u[0].trace._glTrace=s,s}},12674:function(oe,j,r){"use strict";var I=r(50693),E=r(12663).axisHoverFormat,f=r(5386).fF,S=r(2418),M=r(9012),y=r(1426).extendFlat,u={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},u:{valType:"data_array",editType:"calc"},v:{valType:"data_array",editType:"calc"},w:{valType:"data_array",editType:"calc"},sizemode:{valType:"enumerated",values:["scaled","absolute"],editType:"calc",dflt:"scaled"},sizeref:{valType:"number",editType:"calc",min:0},anchor:{valType:"enumerated",editType:"calc",values:["tip","tail","cm","center"],dflt:"cm"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertemplate:f({editType:"calc"},{keys:["norm"]}),uhoverformat:E("u",1),vhoverformat:E("v",1),whoverformat:E("w",1),xhoverformat:E("x"),yhoverformat:E("y"),zhoverformat:E("z"),showlegend:y({},M.showlegend,{dflt:!1})};y(u,I("",{colorAttr:"u/v/w norm",showScaleDflt:!0,editTypeOverride:"calc"})),["opacity","lightposition","lighting"].forEach(function(i){u[i]=S[i]}),u.hoverinfo=y({},M.hoverinfo,{editType:"calc",flags:["x","y","z","u","v","w","norm","text","name"],dflt:"x+y+z+norm+text+name"}),u.transforms=void 0,oe.exports=u},31371:function(oe,j,r){"use strict";var I=r(78803);oe.exports=function(E,f){for(var S=f.u,M=f.v,y=f.w,u=Math.min(f.x.length,f.y.length,f.z.length,S.length,M.length,y.length),i=-1/0,s=1/0,a=0;a<u;a++){var o=S[a],l=M[a],c=y[a],h=Math.sqrt(o*o+l*l+c*c);i=Math.max(i,h),s=Math.min(s,h)}f._len=u,f._normMax=i,I(E,f,{vals:[s,i],containerStr:"",cLetter:"c"})}},5453:function(oe,j,r){"use strict";var I=r(9330).gl_cone3d,E=r(9330).gl_cone3d.createConeMesh,f=r(71828).simpleMap,S=r(81697).parseColorScale,M=r(21081).extractOpts,y=r(90060);function u(c,h){this.scene=c,this.uid=h,this.mesh=null,this.data=null}var i=u.prototype;i.handlePick=function(c){if(c.object===this.mesh){var h=c.index=c.data.index,_=this.data.u[h],g=this.data.v[h],w=this.data.w[h];c.traceCoordinate=[this.data.x[h],this.data.y[h],this.data.z[h],_,g,w,Math.sqrt(_*_+g*g+w*w)];var x=this.data.hovertext||this.data.text;return Array.isArray(x)&&void 0!==x[h]?c.textLabel=x[h]:x&&(c.textLabel=x),!0}};var s={xaxis:0,yaxis:1,zaxis:2},a={tip:1,tail:0,cm:.25,center:.5},o={tip:1,tail:1,cm:.75,center:.5};function l(c,h){var v=c.fullSceneLayout,p=c.dataScale,T={};function _(b,A){var m=v[A],C=p[s[A]];return f(b,function(k){return m.d2l(k)*C})}T.vectors=y(_(h.u,"xaxis"),_(h.v,"yaxis"),_(h.w,"zaxis"),h._len),T.positions=y(_(h.x,"xaxis"),_(h.y,"yaxis"),_(h.z,"zaxis"),h._len);var g=M(h);T.colormap=S(h),T.vertexIntensityBounds=[g.min/h._normMax,g.max/h._normMax],T.coneOffset=a[h.anchor],T.coneSize="scaled"===h.sizemode?h.sizeref||.5:h.sizeref&&h._normMax?h.sizeref/h._normMax:.5;var w=I(T),x=h.lightposition;return w.lightPosition=[x.x,x.y,x.z],w.ambient=h.lighting.ambient,w.diffuse=h.lighting.diffuse,w.specular=h.lighting.specular,w.roughness=h.lighting.roughness,w.fresnel=h.lighting.fresnel,w.opacity=h.opacity,h._pad=o[h.anchor]*w.vectorScale*w.coneScale*h._normMax,w}i.update=function(c){this.data=c;var h=l(this.scene,c);this.mesh.update(h)},i.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()},oe.exports=function(c,h){var v=c.glplot.gl,p=l(c,h),T=E(v,p),_=new u(c,h.uid);return _.mesh=T,_.data=h,T._trace=_,c.glplot.add(T),_}},91750:function(oe,j,r){"use strict";var I=r(71828),E=r(1586),f=r(12674);oe.exports=function(S,M,y,u){function i(v,p){return I.coerce(S,M,f,v,p)}var s=i("u"),a=i("v"),o=i("w"),l=i("x"),c=i("y"),h=i("z");s&&s.length&&a&&a.length&&o&&o.length&&l&&l.length&&c&&c.length&&h&&h.length?(i("sizeref"),i("sizemode"),i("anchor"),i("lighting.ambient"),i("lighting.diffuse"),i("lighting.specular"),i("lighting.roughness"),i("lighting.fresnel"),i("lightposition.x"),i("lightposition.y"),i("lightposition.z"),E(S,M,u,i,{prefix:"",cLetter:"c"}),i("text"),i("hovertext"),i("hovertemplate"),i("uhoverformat"),i("vhoverformat"),i("whoverformat"),i("xhoverformat"),i("yhoverformat"),i("zhoverformat"),M._length=null):M.visible=!1}},98128:function(oe,j,r){"use strict";oe.exports={moduleType:"trace",name:"cone",basePlotModule:r(58547),categories:["gl3d","showLegend"],attributes:r(12674),supplyDefaults:r(91750),colorbar:{min:"cmin",max:"cmax"},calc:r(31371),plot:r(5453),eventData:function(I,E){return I.norm=E.traceCoordinate[6],I},meta:{}}},70600:function(oe,j,r){"use strict";var I=r(21606),E=r(82196),f=r(12663),S=f.axisHoverFormat,M=f.descriptionOnlyNumbers,y=r(50693),u=r(79952).P,i=r(41940),s=r(1426).extendFlat,a=r(74808),o=a.COMPARISON_OPS2,l=a.INTERVAL_OPS,c=E.line;oe.exports=s({z:I.z,x:I.x,x0:I.x0,dx:I.dx,y:I.y,y0:I.y0,dy:I.dy,xperiod:I.xperiod,yperiod:I.yperiod,xperiod0:E.xperiod0,yperiod0:E.yperiod0,xperiodalignment:I.xperiodalignment,yperiodalignment:I.yperiodalignment,text:I.text,hovertext:I.hovertext,transpose:I.transpose,xtype:I.xtype,ytype:I.ytype,xhoverformat:S("x"),yhoverformat:S("y"),zhoverformat:S("z",1),hovertemplate:I.hovertemplate,texttemplate:s({},I.texttemplate,{}),textfont:s({},I.textfont,{}),hoverongaps:I.hoverongaps,connectgaps:s({},I.connectgaps,{}),fillcolor:{valType:"color",editType:"calc"},autocontour:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"contours.start":void 0,"contours.end":void 0,"contours.size":void 0}},ncontours:{valType:"integer",dflt:15,min:1,editType:"calc"},contours:{type:{valType:"enumerated",values:["levels","constraint"],dflt:"levels",editType:"calc"},start:{valType:"number",dflt:null,editType:"plot",impliedEdits:{"^autocontour":!1}},end:{valType:"number",dflt:null,editType:"plot",impliedEdits:{"^autocontour":!1}},size:{valType:"number",dflt:null,min:0,editType:"plot",impliedEdits:{"^autocontour":!1}},coloring:{valType:"enumerated",values:["fill","heatmap","lines","none"],dflt:"fill",editType:"calc"},showlines:{valType:"boolean",dflt:!0,editType:"plot"},showlabels:{valType:"boolean",dflt:!1,editType:"plot"},labelfont:i({editType:"plot",colorEditType:"style"}),labelformat:{valType:"string",dflt:"",editType:"plot",description:M("contour label")},operation:{valType:"enumerated",values:[].concat(o).concat(l),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},editType:"calc",impliedEdits:{autocontour:!1}},line:{color:s({},c.color,{editType:"style+colorbars"}),width:{valType:"number",min:0,editType:"style+colorbars"},dash:u,smoothing:s({},c.smoothing,{}),editType:"plot"}},y("",{cLetter:"z",autoColorDflt:!1,editTypeOverride:"calc"}))},27529:function(oe,j,r){"use strict";var I=r(21081),E=r(90757),f=r(18670),S=r(53572);oe.exports=function(M,y){var u=E(M,y),i=u[0].z;f(y,i);var s,a=y.contours,o=I.extractOpts(y);if("heatmap"===a.coloring&&o.auto&&!1===y.autocontour){var l=a.start,c=S(a),h=a.size||1,v=Math.floor((c-l)/h)+1;isFinite(h)||(h=1,v=1);var p=l-h/2;s=[p,p+v*h]}else s=i;return I.calc(M,y,{vals:s,cLetter:"z"}),u}},20083:function(oe){"use strict";oe.exports=function(j,r){var I,E=j[0],f=E.z;switch(r.type){case"levels":var S=Math.min(f[0][0],f[0][1]);for(I=0;I<j.length;I++){var M=j[I];M.prefixBoundary=!M.edgepaths.length&&(S>M.level||M.starts.length&&S===M.level)}break;case"constraint":if(E.prefixBoundary=!1,E.edgepaths.length)return;var y=E.x.length,u=E.y.length,i=-1/0,s=1/0;for(I=0;I<u;I++)s=Math.min(s,f[I][0]),s=Math.min(s,f[I][y-1]),i=Math.max(i,f[I][0]),i=Math.max(i,f[I][y-1]);for(I=1;I<y-1;I++)s=Math.min(s,f[0][I]),s=Math.min(s,f[u-1][I]),i=Math.max(i,f[0][I]),i=Math.max(i,f[u-1][I]);var a,o,l=r.value;switch(r._operation){case">":l>i&&(E.prefixBoundary=!0);break;case"<":(l<s||E.starts.length&&l===s)&&(E.prefixBoundary=!0);break;case"[]":a=Math.min(l[0],l[1]),((o=Math.max(l[0],l[1]))<s||a>i||E.starts.length&&o===s)&&(E.prefixBoundary=!0);break;case"][":a=Math.min(l[0],l[1]),o=Math.max(l[0],l[1]),a<s&&o>i&&(E.prefixBoundary=!0)}}}},90654:function(oe,j,r){"use strict";var I=r(21081),E=r(86068),f=r(53572);oe.exports={min:"zmin",max:"zmax",calc:function(S,M,y){var u=M.contours,i=M.line,s=u.size||1,a=u.coloring,o=E(M,{isColorbar:!0});if("heatmap"===a){var l=I.extractOpts(M);y._fillgradient=l.reversescale?I.flipScale(l.colorscale):l.colorscale,y._zrange=[l.min,l.max]}else"fill"===a&&(y._fillcolor=o);y._line={color:"lines"===a?o:i.color,width:!1!==u.showlines?i.width:0,dash:i.dash},y._levels={start:u.start,end:f(u),size:s}}}},36914:function(oe){"use strict";oe.exports={BOTTOMSTART:[1,9,13,104,713],TOPSTART:[4,6,7,104,713],LEFTSTART:[8,12,14,208,1114],RIGHTSTART:[2,3,11,208,1114],NEWDELTA:[null,[-1,0],[0,-1],[-1,0],[1,0],null,[0,-1],[-1,0],[0,1],[0,1],null,[0,1],[1,0],[1,0],[0,-1]],CHOOSESADDLE:{104:[4,1],208:[2,8],713:[7,13],1114:[11,14]},SADDLEREMAINDER:{1:4,2:8,4:1,7:13,8:2,11:14,13:7,14:11},LABELDISTANCE:2,LABELINCREASE:10,LABELMIN:3,LABELMAX:10,LABELOPTIMIZER:{EDGECOST:1,ANGLECOST:1,NEIGHBORCOST:5,SAMELEVELFACTOR:10,SAMELEVELDISTANCE:5,MAXCOST:100,INITIALSEARCHPOINTS:10,ITERATIONS:5}}},83179:function(oe,j,r){"use strict";var I=r(92770),E=r(14523),f=r(7901),S=f.addOpacity,M=f.opacity,y=r(74808),u=y.CONSTRAINT_REDUCTION,i=y.COMPARISON_OPS2;oe.exports=function(s,a,o,l,c,h){var v,p,T,w,x,b,_=a.contours,g=o("contours.operation");_._operation=u[g],w=o,-1===i.indexOf((x=_).operation)?(w("contours.value",[0,1]),Array.isArray(x.value)?x.value.length>2?x.value=x.value.slice(2):0===x.length?x.value=[0,1]:x.length<2?(b=parseFloat(x.value[0]),x.value=[b,b+1]):x.value=[parseFloat(x.value[0]),parseFloat(x.value[1])]:I(x.value)&&(b=parseFloat(x.value),x.value=[b,b+1])):(w("contours.value",0),I(x.value)||(x.value=Array.isArray(x.value)?parseFloat(x.value[0]):0)),"="===g?v=_.showlines=!0:(v=o("contours.showlines"),T=o("fillcolor",S((s.line||{}).color||c,.5))),v&&(p=o("line.color",T&&M(T)?S(a.fillcolor,1):c),o("line.width",2),o("line.dash")),o("line.smoothing"),E(o,l,p,h)}},64237:function(oe,j,r){"use strict";var I=r(74808),E=r(92770);function f(y,u){var i,s=Array.isArray(u);function a(o){return E(o)?+o:null}return-1!==I.COMPARISON_OPS2.indexOf(y)?i=a(s?u[0]:u):-1!==I.INTERVAL_OPS.indexOf(y)?i=s?[a(u[0]),a(u[1])]:[a(u),a(u)]:-1!==I.SET_OPS.indexOf(y)&&(i=s?u.map(a):[a(u)]),i}function S(y){return function(u){u=f(y,u);var i=Math.min(u[0],u[1]),s=Math.max(u[0],u[1]);return{start:i,end:s,size:s-i}}}function M(y){return function(u){return{start:u=f(y,u),end:1/0,size:1/0}}}oe.exports={"[]":S("[]"),"][":S("]["),">":M(">"),"<":M("<"),"=":M("=")}},67217:function(oe){"use strict";oe.exports=function(j,r,I,E){var f=E("contours.start"),S=E("contours.end"),M=!1===f||!1===S,y=I("contours.size");!(M?r.autocontour=!0:I("autocontour",!1))&&y||I("ncontours")}},84857:function(oe,j,r){"use strict";var I=r(71828);function E(f){return I.extendFlat({},f,{edgepaths:I.extendDeep([],f.edgepaths),paths:I.extendDeep([],f.paths),starts:I.extendDeep([],f.starts)})}oe.exports=function(f,S){var M,y,u,i=function(o){return o.reverse()},s=function(o){return o};switch(S){case"=":case"<":return f;case">":for(1!==f.length&&I.warn("Contour data invalid for the specified inequality operation."),y=f[0],M=0;M<y.edgepaths.length;M++)y.edgepaths[M]=i(y.edgepaths[M]);for(M=0;M<y.paths.length;M++)y.paths[M]=i(y.paths[M]);for(M=0;M<y.starts.length;M++)y.starts[M]=i(y.starts[M]);return f;case"][":var a=i;i=s,s=a;case"[]":for(2!==f.length&&I.warn("Contour data invalid for the specified inequality range operation."),y=E(f[0]),u=E(f[1]),M=0;M<y.edgepaths.length;M++)y.edgepaths[M]=i(y.edgepaths[M]);for(M=0;M<y.paths.length;M++)y.paths[M]=i(y.paths[M]);for(M=0;M<y.starts.length;M++)y.starts[M]=i(y.starts[M]);for(;u.edgepaths.length;)y.edgepaths.push(s(u.edgepaths.shift()));for(;u.paths.length;)y.paths.push(s(u.paths.shift()));for(;u.starts.length;)y.starts.push(s(u.starts.shift()));return[y]}}},13031:function(oe,j,r){"use strict";var I=r(71828),E=r(67684),f=r(73927),S=r(83179),M=r(67217),y=r(8724),u=r(58623),i=r(70600);oe.exports=function(s,a,o,l){function c(v,p){return I.coerce(s,a,i,v,p)}if(E(s,a,c,l)){f(s,a,l,c),c("xhoverformat"),c("yhoverformat"),c("text"),c("hovertext"),c("hoverongaps"),c("hovertemplate");var h="constraint"===c("contours.type");c("connectgaps",I.isArray1D(a.z)),h?S(s,a,c,l,o):(M(s,a,c,function(v){return I.coerce2(s,a,i,v)}),y(s,a,c,l)),a.contours&&"heatmap"===a.contours.coloring&&u(c,l)}else a.visible=!1}},87558:function(oe,j,r){"use strict";var I=r(71828),E=r(64237),f=r(53572);oe.exports=function(S,M,y){for(var u="constraint"===S.type?E[S._operation](S.value):S,i=u.size,s=[],a=f(u),o=y.trace._carpetTrace,l=o?{xaxis:o.aaxis,yaxis:o.baxis,x:y.a,y:y.b}:{xaxis:M.xaxis,yaxis:M.yaxis,x:y.x,y:y.y},c=u.start;c<a;c+=i)if(s.push(I.extendFlat({level:c,crossings:{},starts:[],edgepaths:[],paths:[],z:y.z,smoothing:y.trace.line.smoothing},l)),s.length>1e3){I.warn("Too many contours, clipping at 1000",S);break}return s}},53572:function(oe){"use strict";oe.exports=function(j){return j.end+j.size/1e6}},81696:function(oe,j,r){"use strict";var I=r(71828),E=r(36914);function f(y,u,i,s){return Math.abs(y[0]-u[0])<i&&Math.abs(y[1]-u[1])<s}function S(y,u,i,s,a){var o,ue,pe,ge,xe,l=u.join(","),c=y.crossings[l],h=(pe=u,ge=0,xe=0,(ue=c)>20&&i?208===ue||1114===ue?ge=0===pe[0]?1:-1:xe=0===pe[1]?1:-1:-1!==E.BOTTOMSTART.indexOf(ue)?xe=1:-1!==E.LEFTSTART.indexOf(ue)?ge=1:-1!==E.TOPSTART.indexOf(ue)?xe=-1:ge=-1,[ge,xe]),v=[M(y,u,[-h[0],-h[1]])],p=y.z.length,T=y.z[0].length,_=u.slice(),g=h.slice();for(o=0;o<1e4;o++){if(c>20?y.crossings[l]=E.SADDLEREMAINDER[c=E.CHOOSESADDLE[c][(h[0]||h[1])<0?0:1]]:delete y.crossings[l],!(h=E.NEWDELTA[c])){I.log("Found bad marching index:",c,u,y.level);break}if(v.push(M(y,u,h)),u[0]+=h[0],u[1]+=h[1],l=u.join(","),f(v[v.length-1],v[v.length-2],s,a)&&v.pop(),u[0]===_[0]&&u[1]===_[1]&&h[0]===g[0]&&h[1]===g[1]||i&&(h[0]&&(u[0]<0||u[0]>T-2)||h[1]&&(u[1]<0||u[1]>p-2)))break;c=y.crossings[l]}1e4===o&&I.log("Infinite loop in contour?");var x,b,A,m,C,k,P,R,L,N,B,J,z,Y,q,U=f(v[0],v[v.length-1],s,a),Z=0,X=.2*y.smoothing,se=[],re=0;for(o=1;o<v.length;o++)Y=(J=v[o])[2]-(z=v[o-1])[2],q=J[3]-z[3],Z+=P=Math.sqrt(Y*Y+q*q),se.push(P);var ee=Z/se.length*X;function K(ue){return v[ue%v.length]}for(o=v.length-2;o>=re;o--)if((x=se[o])<ee){for(A=0,b=o-1;b>=re&&x+se[b]<ee;b--)x+=se[b];if(U&&o===v.length-2)for(A=0;A<b&&x+se[A]<ee;A++)x+=se[A];C=o-b+A+1,k=Math.floor((o+b+A+2)/2),m=U||o!==v.length-2?U||-1!==b?C%2?K(k):[(K(k)[0]+K(k+1)[0])/2,(K(k)[1]+K(k+1)[1])/2]:v[0]:v[v.length-1],v.splice(b+1,o-b+1,m),o=b+1,A&&(re=A),U&&(o===v.length-2?v[A]=v[v.length-1]:0===o&&(v[v.length-1]=v[0]))}for(v.splice(0,re),o=0;o<v.length;o++)v[o].length=2;if(!(v.length<2))if(U)v.pop(),y.paths.push(v);else{i||I.log("Unclosed interior contour?",y.level,_.join(","),v.join("L"));var ne=!1;for(R=0;R<y.edgepaths.length;R++)if(N=y.edgepaths[R],!ne&&f(N[0],v[v.length-1],s,a)){v.pop(),ne=!0;var ae=!1;for(L=0;L<y.edgepaths.length;L++)if(f((B=y.edgepaths[L])[B.length-1],v[0],s,a)){ae=!0,v.shift(),y.edgepaths.splice(R,1),L===R?y.paths.push(v.concat(B)):(L>R&&L--,y.edgepaths[L]=B.concat(v,N));break}ae||(y.edgepaths[R]=v.concat(N))}for(R=0;R<y.edgepaths.length&&!ne;R++)f((N=y.edgepaths[R])[N.length-1],v[0],s,a)&&(v.shift(),y.edgepaths[R]=N.concat(v),ne=!0);ne||y.edgepaths.push(v)}}function M(y,u,i){var s=u[0]+Math.max(i[0],0),a=u[1]+Math.max(i[1],0),o=y.z[a][s],l=y.xaxis,c=y.yaxis;if(i[1]){var h=(y.level-o)/(y.z[a][s+1]-o),v=(1!==h?(1-h)*l.c2l(y.x[s]):0)+(0!==h?h*l.c2l(y.x[s+1]):0);return[l.c2p(l.l2c(v),!0),c.c2p(y.y[a],!0),s+h,a]}var p=(y.level-o)/(y.z[a+1][s]-o),T=(1!==p?(1-p)*c.c2l(y.y[a]):0)+(0!==p?p*c.c2l(y.y[a+1]):0);return[l.c2p(y.x[s],!0),c.c2p(c.l2c(T),!0),s,a+p]}oe.exports=function(y,u,i){var s,a,o,l;for(u=u||.01,i=i||.01,a=0;a<y.length;a++){for(o=y[a],l=0;l<o.starts.length;l++)S(o,o.starts[l],"edge",u,i);for(s=0;Object.keys(o.crossings).length&&s<1e4;)s++,S(o,Object.keys(o.crossings)[0].split(",").map(Number),void 0,u,i);1e4===s&&I.log("Infinite loop in contour?")}}},52421:function(oe,j,r){"use strict";var I=r(7901),E=r(46248);oe.exports=function(f,S,M,y,u){u||(u={}),u.isContour=!0;var i=E(f,S,M,y,u);return i&&i.forEach(function(s){var a=s.trace;"constraint"===a.contours.type&&(a.fillcolor&&I.opacity(a.fillcolor)?s.color=I.addOpacity(a.fillcolor,1):a.contours.showlines&&I.opacity(a.line.color)&&(s.color=I.addOpacity(a.line.color,1)))}),i}},99442:function(oe,j,r){"use strict";oe.exports={attributes:r(70600),supplyDefaults:r(13031),calc:r(27529),plot:r(29854).plot,style:r(84426),colorbar:r(90654),hoverPoints:r(52421),moduleType:"trace",name:"contour",basePlotModule:r(93612),categories:["cartesian","svg","2dMap","contour","showLegend"],meta:{}}},14523:function(oe,j,r){"use strict";var I=r(71828);oe.exports=function(E,f,S,M){if(M||(M={}),E("contours.showlabels")){var y=f.font;I.coerceFont(E,"contours.labelfont",{family:y.family,size:y.size,color:S}),E("contours.labelformat")}!1!==M.hasHover&&E("zhoverformat")}},86068:function(oe,j,r){"use strict";var I=r(39898),E=r(21081),f=r(53572);oe.exports=function(S){var M=S.contours,y=M.start,u=f(M),i=M.size||1,s=Math.floor((u-y)/i)+1,a="lines"===M.coloring?0:1,o=E.extractOpts(S);isFinite(i)||(i=1,s=1);var l,c,h=o.reversescale?E.flipScale(o.colorscale):o.colorscale,v=h.length,p=new Array(v),T=new Array(v),_=o.min,g=o.max;if("heatmap"===M.coloring){for(c=0;c<v;c++)p[c]=(l=h[c])[0]*(g-_)+_,T[c]=l[1];var w=I.extent([_,g,M.start,M.start+i*(s-1)]),x=w[_<g?0:1],b=w[_<g?1:0];x!==_&&(p.splice(0,0,x),T.splice(0,0,T[0])),b!==g&&(p.push(b),T.push(T[T.length-1]))}else{var A=S._input&&"number"==typeof S._input.zmin&&"number"==typeof S._input.zmax;for(A&&(y<=_||u>=g)&&(y<=_&&(y=_),u>=g&&(u=g),s=Math.floor((u-y)/i)+1,a=0),c=0;c<v;c++)p[c]=((l=h[c])[0]*(s+a-1)-a/2)*i+y,T[c]=l[1];(A||S.autocontour)&&(p[0]>_&&(p.unshift(_),T.unshift(T[0])),p[p.length-1]<g&&(p.push(g),T.push(T[T.length-1])))}return E.makeColorScaleFunc({domain:p,range:T},{noNumericCheck:!0})}},87678:function(oe,j,r){"use strict";var I=r(36914);function E(f,S){var M=(S[0][0]>f?0:1)+(S[0][1]>f?0:2)+(S[1][1]>f?0:4)+(S[1][0]>f?0:8);return 5===M||10===M?f>(S[0][0]+S[0][1]+S[1][0]+S[1][1])/4?5===M?713:1114:5===M?104:208:15===M?0:M}oe.exports=function(f){var S,M,y,u,i,s,a,o,l,c=f[0].z,h=c.length,v=c[0].length,p=2===h||2===v;for(M=0;M<h-1;M++)for(u=[],0===M&&(u=u.concat(I.BOTTOMSTART)),M===h-2&&(u=u.concat(I.TOPSTART)),S=0;S<v-1;S++)for(y=u.slice(),0===S&&(y=y.concat(I.LEFTSTART)),S===v-2&&(y=y.concat(I.RIGHTSTART)),i=S+","+M,s=[[c[M][S],c[M][S+1]],[c[M+1][S],c[M+1][S+1]]],l=0;l<f.length;l++)(a=E((o=f[l]).level,s))&&(o.crossings[i]=a,-1!==y.indexOf(a)&&(o.starts.push([S,M]),p&&-1!==y.indexOf(a,y.indexOf(a)+1)&&o.starts.push([S,M])))}},29854:function(oe,j,r){"use strict";var I=r(39898),E=r(71828),f=r(91424),S=r(21081),M=r(63893),y=r(89298),u=r(21994),i=r(50347),s=r(87678),a=r(81696),o=r(87558),l=r(84857),c=r(20083),h=r(36914),v=h.LABELOPTIMIZER;function p(g,w){var x,b,A,m,C,k,R="",L=0,N=g.edgepaths.map(function(U,Z){return Z}),B=!0;function J(U){return Math.abs(U[1]-w[2][1])<.01}function Y(U){return Math.abs(U[0]-w[2][0])<.01}for(;N.length;){for(k=f.smoothopen(g.edgepaths[L],g.smoothing),R+=B?k:k.replace(/^M/,"L"),N.splice(N.indexOf(L),1),x=g.edgepaths[L][g.edgepaths[L].length-1],m=-1,A=0;A<4;A++){if(!x){E.log("Missing end?",L,g);break}for(Math.abs(x[1]-w[0][1])<.01&&!Y(x)?b=w[1]:Math.abs(x[0]-w[0][0])<.01?b=w[0]:J(x)?b=w[3]:Y(x)&&(b=w[2]),C=0;C<g.edgepaths.length;C++){var q=g.edgepaths[C][0];Math.abs(x[0]-b[0])<.01?Math.abs(x[0]-q[0])<.01&&(q[1]-x[1])*(b[1]-q[1])>=0&&(b=q,m=C):Math.abs(x[1]-b[1])<.01?Math.abs(x[1]-q[1])<.01&&(q[0]-x[0])*(b[0]-q[0])>=0&&(b=q,m=C):E.log("endpt to newendpt is not vert. or horz.",x,b,q)}if(x=b,m>=0)break;R+="L"+b}if(m===g.edgepaths.length){E.log("unclosed perimeter path");break}(B=-1===N.indexOf(L=m))&&(L=N[0],R+="Z")}for(L=0;L<g.paths.length;L++)R+=f.smoothclosed(g.paths[L],g.smoothing);return R}function T(g,w,x,b){var A=w.width/2,m=w.height/2,C=g.x,k=g.y,P=g.theta,R=Math.cos(P)*A,L=Math.sin(P)*A,N=(C>b.center?b.right-C:C-b.left)/(R+Math.abs(Math.sin(P)*m)),B=(k>b.middle?b.bottom-k:k-b.top)/(Math.abs(L)+Math.cos(P)*m);if(N<1||B<1)return 1/0;var J=v.EDGECOST*(1/(N-1)+1/(B-1));J+=v.ANGLECOST*P*P;for(var z=C-R,Y=k-L,q=C+R,U=k+L,Z=0;Z<x.length;Z++){var X=x[Z],se=Math.cos(X.theta)*X.width/2,re=Math.sin(X.theta)*X.width/2,ee=2*E.segmentDistance(z,Y,q,U,X.x-se,X.y-re,X.x+se,X.y+re)/(w.height+X.height),K=X.level===w.level,ne=K?v.SAMELEVELDISTANCE:1;if(ee<=ne)return 1/0;J+=v.NEIGHBORCOST*(K?v.SAMELEVELFACTOR:1)/(ee-ne)}return J}function _(g){var w,x,b=g.trace._emptypoints,A=[],m=g.z.length,C=g.z[0].length,k=[];for(w=0;w<C;w++)k.push(1);for(w=0;w<m;w++)A.push(k.slice());for(w=0;w<b.length;w++)A[(x=b[w])[0]][x[1]]=0;return g.zmask=A,A}j.plot=function(g,w,x,b){var A=w.xaxis,m=w.yaxis;E.makeTraceGroups(b,x,"contour").each(function(C){var k=I.select(this),P=C[0],L=P.x,N=P.y,B=P.trace.contours,J=o(B,w,P),z=E.ensureSingle(k,"g","heatmapcoloring"),Y=[];"heatmap"===B.coloring&&(Y=[C]),i(g,w,Y,z),s(J),a(J);var K,ne,ae,q=A.c2p(L[0],!0),U=A.c2p(L[L.length-1],!0),Z=m.c2p(N[0],!0),X=m.c2p(N[N.length-1],!0),se=[[q,X],[U,X],[U,Z],[q,Z]],re=J;"constraint"===B.type&&(re=l(J,B._operation)),K=se,ne=B,(ae=E.ensureSingle(k,"g","contourbg").selectAll("path").data("fill"===ne.coloring?[0]:[])).enter().append("path"),ae.exit().remove(),ae.attr("d","M"+K.join("L")+"Z").style("stroke","none"),function(ee,K,ne,ae){var ue="fill"===ae.coloring||"constraint"===ae.type&&"="!==ae._operation,he="M"+ne.join("L")+"Z";ue&&c(K,ae);var pe=E.ensureSingle(ee,"g","contourfill").selectAll("path").data(ue?K:[]);pe.enter().append("path"),pe.exit().remove(),pe.each(function(ge){var xe=(ge.prefixBoundary?he:"")+p(ge,ne);xe?I.select(this).attr("d",xe).style("stroke","none"):I.select(this).remove()})}(k,re,se,B),function(ee,K,ne,ae,ue){var he=ne._context.staticPlot,pe=E.ensureSingle(ee,"g","contourlines"),ge=!1!==ue.showlines,xe=ue.showlabels,Se=ge&&xe,Te=j.createLines(pe,ge||xe,K,he),ye=j.createLineClip(pe,Se,ne,ae.trace.uid),we=ee.selectAll("g.contourlabels").data(xe?[0]:[]);if(we.exit().remove(),we.enter().append("g").classed("contourlabels",!0),xe){var ze=[],ke=[];E.clearLocationCache();var Ee=j.labelFormatter(ne,ae),me=f.tester.append("text").attr("data-notex",1).call(f.font,ue.labelfont),de=K[0].xaxis,ce=K[0].yaxis,Ae=de._length,Ne=ce._length,De=de.range,Ue=ce.range,Ye=E.aggNums(Math.min,null,ae.x),_e=E.aggNums(Math.max,null,ae.x),Pe=E.aggNums(Math.min,null,ae.y),Ie=E.aggNums(Math.max,null,ae.y),Be=Math.max(de.c2p(Ye,!0),0),We=Math.min(de.c2p(_e,!0),Ae),Ge=Math.max(ce.c2p(Ie,!0),0),Ke=Math.min(ce.c2p(Pe,!0),Ne),tt={};De[0]<De[1]?(tt.left=Be,tt.right=We):(tt.left=We,tt.right=Be),Ue[0]<Ue[1]?(tt.top=Ge,tt.bottom=Ke):(tt.top=Ke,tt.bottom=Ge),tt.middle=(tt.top+tt.bottom)/2,tt.center=(tt.left+tt.right)/2,ze.push([[tt.left,tt.top],[tt.right,tt.top],[tt.right,tt.bottom],[tt.left,tt.bottom]]);var st=Math.sqrt(Ae*Ae+Ne*Ne),gt=h.LABELDISTANCE*st/Math.max(1,K.length/h.LABELINCREASE);Te.each(function(ct){var kt=j.calcTextOpts(ct.level,Ee,me,ne);I.select(this).selectAll("path").each(function(){var Dt=E.getVisibleSegment(this,tt,kt.height/2);if(Dt&&!(Dt.len<(kt.width+kt.height)*h.LABELMIN))for(var vt=Math.min(Math.ceil(Dt.len/gt),h.LABELMAX),mt=0;mt<vt;mt++){var Et=j.findBestTextLocation(this,Dt,kt,ke,tt);if(!Et)break;j.addLabelData(Et,kt,ke,ze)}})}),me.remove(),j.drawLabels(we,ke,ne,ye,Se?ze:null)}xe&&!ge&&Te.remove()}(k,J,g,P,B),function(ee,K,ne,ae,ue){var he=ae.trace,ge="clip"+he.uid,xe=ne._fullLayout._clips.selectAll("#"+ge).data(he.connectgaps?[]:[0]);if(xe.enter().append("clipPath").classed("contourclip",!0).attr("id",ge),xe.exit().remove(),!1===he.connectgaps){var Se={level:.9,crossings:{},starts:[],edgepaths:[],paths:[],xaxis:K.xaxis,yaxis:K.yaxis,x:ae.x,y:ae.y,z:_(ae),smoothing:0};s([Se]),a([Se]),c([Se],{type:"levels"}),E.ensureSingle(xe,"path","").attr("d",(Se.prefixBoundary?"M"+ue.join("L")+"Z":"")+p(Se,ue))}else ge=null;f.setClipUrl(ee,ge,ne)}(k,w,g,P,se)})},j.createLines=function(g,w,x,b){var A=x[0].smoothing,m=g.selectAll("g.contourlevel").data(w?x:[]);if(m.exit().remove(),m.enter().append("g").classed("contourlevel",!0),w){var C=m.selectAll("path.openline").data(function(P){return P.pedgepaths||P.edgepaths});C.exit().remove(),C.enter().append("path").classed("openline",!0),C.attr("d",function(P){return f.smoothopen(P,A)}).style("stroke-miterlimit",1).style("vector-effect",b?"none":"non-scaling-stroke");var k=m.selectAll("path.closedline").data(function(P){return P.ppaths||P.paths});k.exit().remove(),k.enter().append("path").classed("closedline",!0),k.attr("d",function(P){return f.smoothclosed(P,A)}).style("stroke-miterlimit",1).style("vector-effect",b?"none":"non-scaling-stroke")}return m},j.createLineClip=function(g,w,x,b){var A=w?"clipline"+b:null,m=x._fullLayout._clips.selectAll("#"+A).data(w?[0]:[]);return m.exit().remove(),m.enter().append("clipPath").classed("contourlineclip",!0).attr("id",A),f.setClipUrl(g,A,x),m},j.labelFormatter=function(g,w){var x=g._fullLayout,b=w.trace,A=b.contours,m={type:"linear",_id:"ycontour",showexponent:"all",exponentformat:"B"};if(A.labelformat)m.tickformat=A.labelformat,u(m,x);else{var C=S.extractOpts(b);if(C&&C.colorbar&&C.colorbar._axis)m=C.colorbar._axis;else{if("constraint"===A.type){var k=A.value;m.range=Array.isArray(k)?[k[0],k[k.length-1]]:[k,k]}else m.range=[A.start,A.end],m.nticks=(A.end-A.start)/A.size;m.range[0]===m.range[1]&&(m.range[1]+=m.range[0]||1),m.nticks||(m.nticks=1e3),u(m,x),y.prepTicks(m),m._tmin=null,m._tmax=null}}return function(P){return y.tickText(m,P).text}},j.calcTextOpts=function(g,w,x,b){var A=w(g);x.text(A).call(M.convertToTspans,b);var m=x.node(),C=f.bBox(m,!0);return{text:A,width:C.width,height:C.height,fontSize:+m.style["font-size"].replace("px",""),level:g,dy:(C.top+C.bottom)/2}},j.findBestTextLocation=function(g,w,x,b,A){var m,C,k,P,R,L=x.width;w.isClosed?(m=w.min+(C=w.len/v.INITIALSEARCHPOINTS)/2,k=w.max):(m=w.min+(C=(w.len-L)/(v.INITIALSEARCHPOINTS+1))+L/2,k=w.max-(C+L)/2);for(var N=1/0,B=0;B<v.ITERATIONS;B++){for(var J=m;J<k;J+=C){var z=E.getTextLocation(g,w.total,J,L),Y=T(z,x,b,A);Y<N&&(N=Y,R=z,P=J)}if(N>2*v.MAXCOST)break;B&&(C/=2),k=(m=P-C/2)+1.5*C}if(N<=v.MAXCOST)return R},j.addLabelData=function(g,w,x,b){var A=w.fontSize,m=w.width+A/3,C=Math.max(0,w.height-A/3),k=g.x,P=g.y,R=g.theta,L=Math.sin(R),N=Math.cos(R),B=function(z,Y){return[k+z*N-Y*L,P+z*L+Y*N]},J=[B(-m/2,-C/2),B(-m/2,C/2),B(m/2,C/2),B(m/2,-C/2)];x.push({text:w.text,x:k,y:P,dy:w.dy,theta:R,level:w.level,width:m,height:C}),b.push(J)},j.drawLabels=function(g,w,x,b,A){var m=g.selectAll("text").data(w,function(P){return P.text+","+P.x+","+P.y+","+P.theta});if(m.exit().remove(),m.enter().append("text").attr({"data-notex":1,"text-anchor":"middle"}).each(function(P){var R=P.x+Math.sin(P.theta)*P.dy,L=P.y-Math.cos(P.theta)*P.dy;I.select(this).text(P.text).attr({x:R,y:L,transform:"rotate("+180*P.theta/Math.PI+" "+R+" "+L+")"}).call(M.convertToTspans,x)}),A){for(var C="",k=0;k<A.length;k++)C+="M"+A[k].join("L")+"Z";E.ensureSingle(b,"path","").attr("d",C)}}},18670:function(oe,j,r){"use strict";var I=r(89298),E=r(71828);function f(S,M,y){var u={type:"linear",range:[S,M]};return I.autoTicks(u,(M-S)/(y||15)),u}oe.exports=function(S,M){var y=S.contours;if(S.autocontour){var u=S.zmin,i=S.zmax;(S.zauto||void 0===u)&&(u=E.aggNums(Math.min,null,M)),(S.zauto||void 0===i)&&(i=E.aggNums(Math.max,null,M));var s=f(u,i,S.ncontours);y.size=s.dtick,y.start=I.tickFirst(s),s.range.reverse(),y.end=I.tickFirst(s),y.start===u&&(y.start+=y.size),y.end===i&&(y.end-=y.size),y.start>y.end&&(y.start=y.end=(y.start+y.end)/2),S._input.contours||(S._input.contours={}),E.extendFlat(S._input.contours,{start:y.start,end:y.end,size:y.size}),S._input.autocontour=!0}else if("constraint"!==y.type){var a,o=y.start,l=y.end,c=S._input.contours;o>l&&(y.start=c.start=l,l=y.end=c.end=o,o=y.start),y.size>0||(a=o===l?1:f(o,l,S.ncontours).dtick,c.size=y.size=a)}}},84426:function(oe,j,r){"use strict";var I=r(39898),E=r(91424),f=r(70035),S=r(86068);oe.exports=function(M){var y=I.select(M).selectAll("g.contour");y.style("opacity",function(u){return u[0].trace.opacity}),y.each(function(u){var i=I.select(this),s=u[0].trace,a=s.contours,o=s.line,l=a.size||1,c=a.start,h="constraint"===a.type,v=!h&&"lines"===a.coloring,p=!h&&"fill"===a.coloring,T=v||p?S(s):null;i.selectAll("g.contourlevel").each(function(w){I.select(this).selectAll("path").call(E.lineGroupStyle,o.width,v?T(w.level):o.color,o.dash)});var _=a.labelfont;if(i.selectAll("g.contourlabels text").each(function(w){E.font(I.select(this),{family:_.family,size:_.size,color:_.color||(v?T(w.level):o.color)})}),h)i.selectAll("g.contourfill path").style("fill",s.fillcolor);else if(p){var g;i.selectAll("g.contourfill path").style("fill",function(w){return void 0===g&&(g=w.level),T(w.level+.5*l)}),void 0===g&&(g=c),i.selectAll("g.contourbg path").style("fill",T(g-.5*l))}}),f(M)}},8724:function(oe,j,r){"use strict";var I=r(1586),E=r(14523);oe.exports=function(f,S,M,y,u){var i,s=M("contours.coloring"),a="";"fill"===s&&(i=M("contours.showlines")),!1!==i&&("lines"!==s&&(a=M("line.color","#000")),M("line.width",.5),M("line.dash")),"none"!==s&&(!0!==f.showlegend&&(S.showlegend=!1),S._dfltShowLegend=!1,I(f,S,y,M,{prefix:"",cLetter:"z"})),M("line.smoothing"),E(M,y,a,u)}},88085:function(oe,j,r){"use strict";var I=r(21606),E=r(70600),f=r(50693),S=r(1426).extendFlat,M=E.contours;oe.exports=S({carpet:{valType:"string",editType:"calc"},z:I.z,a:I.x,a0:I.x0,da:I.dx,b:I.y,b0:I.y0,db:I.dy,text:I.text,hovertext:I.hovertext,transpose:I.transpose,atype:I.xtype,btype:I.ytype,fillcolor:E.fillcolor,autocontour:E.autocontour,ncontours:E.ncontours,contours:{type:M.type,start:M.start,end:M.end,size:M.size,coloring:{valType:"enumerated",values:["fill","lines","none"],dflt:"fill",editType:"calc"},showlines:M.showlines,showlabels:M.showlabels,labelfont:M.labelfont,labelformat:M.labelformat,operation:M.operation,value:M.value,editType:"calc",impliedEdits:{autocontour:!1}},line:{color:E.line.color,width:E.line.width,dash:E.line.dash,smoothing:E.line.smoothing,editType:"plot"},transforms:void 0},f("",{cLetter:"z",autoColorDflt:!1}))},59885:function(oe,j,r){"use strict";var I=r(78803),E=r(71828),f=r(68296),S=r(4742),M=r(824),y=r(43907),u=r(70769),i=r(75005),s=r(22882),a=r(18670);oe.exports=function(o,l){var c=l._carpetTrace=s(o,l);if(c&&c.visible&&"legendonly"!==c.visible){if(!l.a||!l.b){var h=o.data[c.index],v=o.data[l.index];v.a||(v.a=h.a),v.b||(v.b=h.b),i(v,l,l._defaultColor,o._fullLayout)}var p=function(T,_){var g,w,x,b,A,m,C,k=_._carpetTrace,P=k.aaxis,R=k.baxis;P._minDtick=0,R._minDtick=0,E.isArray1D(_.z)&&f(_,P,R,"a","b",["z"]),g=_._a=_._a||_.a,b=_._b=_._b||_.b,g=g?P.makeCalcdata(_,"_a"):[],b=b?R.makeCalcdata(_,"_b"):[],w=_.a0||0,x=_.da||1,A=_.b0||0,m=_.db||1,C=_._z=S(_._z||_.z,_.transpose),_._emptypoints=y(C),M(C,_._emptypoints);var L=E.maxRowLength(C),z={a:u(_,"scaled"===_.xtype?"":g,w,x,L,P),b:u(_,"scaled"===_.ytype?"":b,A,m,C.length,R),z:C};return"levels"===_.contours.type&&"none"!==_.contours.coloring&&I(T,_,{vals:C,containerStr:"",cLetter:"z"}),[z]}(o,l);return a(l,l._z),p}}},75005:function(oe,j,r){"use strict";var I=r(71828),E=r(67684),f=r(88085),S=r(83179),M=r(67217),y=r(8724);oe.exports=function(u,i,s,a){function o(l,c){return I.coerce(u,i,f,l,c)}if(o("carpet"),u.a&&u.b){if(!E(u,i,o,a,"a","b"))return void(i.visible=!1);o("text"),"constraint"===o("contours.type")?S(u,i,o,a,s,{hasHover:!1}):(M(u,i,o,function(l){return I.coerce2(u,i,f,l)}),y(u,i,o,a,{hasHover:!1}))}else i._defaultColor=s,i._length=null}},93740:function(oe,j,r){"use strict";oe.exports={attributes:r(88085),supplyDefaults:r(75005),colorbar:r(90654),calc:r(59885),plot:r(51048),style:r(84426),moduleType:"trace",name:"contourcarpet",basePlotModule:r(93612),categories:["cartesian","svg","carpet","contour","symbols","showLegend","hasLines","carpetDependent","noHover","noSortingByValue"],meta:{}}},51048:function(oe,j,r){"use strict";var I=r(39898),E=r(27669),f=r(67961),S=r(91424),M=r(71828),y=r(87678),u=r(81696),i=r(29854),s=r(36914),a=r(84857),o=r(87558),l=r(20083),c=r(22882),h=r(4536);function v(_,g,w){var x=_.getPointAtLength(g),b=_.getPointAtLength(w),A=b.x-x.x,m=b.y-x.y,C=Math.sqrt(A*A+m*m);return[A/C,m/C]}function p(_){var g=Math.sqrt(_[0]*_[0]+_[1]*_[1]);return[_[0]/g,_[1]/g]}function T(_,g){var w=Math.abs(_[0]*g[0]+_[1]*g[1]);return Math.sqrt(1-w*w)/w}oe.exports=function(_,g,w,x){var b=g.xaxis,A=g.yaxis;M.makeTraceGroups(x,w,"contour").each(function(m){var C=I.select(this),k=m[0],P=k.trace,R=P._carpetTrace=c(_,P),L=_.calcdata[R.index][0];if(R.visible&&"legendonly"!==R.visible){var N=k.a,B=k.b,J=P.contours,z=o(J,g,k),Y="constraint"===J.type,q=J._operation,U=Y?"="===q?"lines":"fill":J.coloring,Z=[[N[0],B[B.length-1]],[N[N.length-1],B[B.length-1]],[N[N.length-1],B[0]],[N[0],B[0]]];y(z),u(z,1e-8*(N[N.length-1]-N[0]),1e-8*(B[B.length-1]-B[0]));var re,ee,K,ne,ae=z;"constraint"===J.type&&(ae=a(z,q)),function(ge,xe){var Se,Te,ye,we,ze,ke,Ee,me,de;for(Se=0;Se<ge.length;Se++){for(ze=(we=ge[Se]).pedgepaths=[],ke=we.ppaths=[],Te=0;Te<we.edgepaths.length;Te++){for(de=we.edgepaths[Te],Ee=[],ye=0;ye<de.length;ye++)Ee[ye]=xe(de[ye]);ze.push(Ee)}for(Te=0;Te<we.paths.length;Te++){for(de=we.paths[Te],me=[],ye=0;ye<de.length;ye++)me[ye]=xe(de[ye]);ke.push(me)}}}(z,pe);var ue=[];for(ne=L.clipsegments.length-1;ne>=0;ne--)ee=E([],(re=L.clipsegments[ne]).x,b.c2p),K=E([],re.y,A.c2p),ee.reverse(),K.reverse(),ue.push(f(ee,K,re.bicubic));var he="M"+ue.join("L")+"Z";(function(ge,xe,Se,Te,ye,we){var ze,ke,Ee,me,de=M.ensureSingle(ge,"g","contourbg").selectAll("path").data("fill"!==we||ye?[]:[0]);de.enter().append("path"),de.exit().remove();var ce=[];for(me=0;me<xe.length;me++)ke=E([],(ze=xe[me]).x,Se.c2p),Ee=E([],ze.y,Te.c2p),ce.push(f(ke,Ee,ze.bicubic));de.attr("d","M"+ce.join("L")+"Z").style("stroke","none")})(C,L.clipsegments,b,A,Y,U),function(ge,xe,Se,Te,ye,we,ze,ke,Ee,me,de){var ce="fill"===me;ce&&l(ye,ge.contours);var Ae=M.ensureSingle(xe,"g","contourfill").selectAll("path").data(ce?ye:[]);Ae.enter().append("path"),Ae.exit().remove(),Ae.each(function(Ne){var De=(Ne.prefixBoundary?de:"")+function(Ue,Ye,_e,Pe,Ie,Be,We,Ge){var Ke,tt,st,gt,ct,kt,Dt,vt="",mt=Ye.edgepaths.map(function(ht,Ve){return Ve}),Et=!0,Lt=1e-4*Math.abs(_e[0][0]-_e[2][0]),Rt=1e-4*Math.abs(_e[0][1]-_e[2][1]);function Ut(ht){return Math.abs(ht[1]-_e[0][1])<Rt}function Bt(ht){return Math.abs(ht[1]-_e[2][1])<Rt}function rt(ht){return Math.abs(ht[0]-_e[0][0])<Lt}function ot(ht){return Math.abs(ht[0]-_e[2][0])<Lt}function Je(ht,Ve){var qe,ut,ft,St,Mt="";for(Ut(ht)&&!ot(ht)||Bt(ht)&&!rt(ht)?(St=Ie.aaxis,ft=h(Ie,Be,[ht[0],Ve[0]],.5*(ht[1]+Ve[1]))):(St=Ie.baxis,ft=h(Ie,Be,.5*(ht[0]+Ve[0]),[ht[1],Ve[1]])),qe=1;qe<ft.length;qe++)for(Mt+=St.smoothing?"C":"L",ut=0;ut<ft[qe].length;ut++){var Tt=ft[qe][ut];Mt+=[We.c2p(Tt[0]),Ge.c2p(Tt[1])]+" "}return Mt}for(Ke=0,tt=null;mt.length;){for(tt&&(vt+=Je(tt,Ye.edgepaths[Ke][0])),Dt=S.smoothopen(Ye.edgepaths[Ke].map(Pe),Ye.smoothing),vt+=Et?Dt:Dt.replace(/^M/,"L"),mt.splice(mt.indexOf(Ke),1),tt=Ye.edgepaths[Ke][Ye.edgepaths[Ke].length-1],ct=-1,gt=0;gt<4;gt++){if(!tt){M.log("Missing end?",Ke,Ye);break}for(Ut(tt)&&!ot(tt)?st=_e[1]:rt(tt)?st=_e[0]:Bt(tt)?st=_e[3]:ot(tt)&&(st=_e[2]),kt=0;kt<Ye.edgepaths.length;kt++){var dt=Ye.edgepaths[kt][0];Math.abs(tt[0]-st[0])<Lt?Math.abs(tt[0]-dt[0])<Lt&&(dt[1]-tt[1])*(st[1]-dt[1])>=0&&(st=dt,ct=kt):Math.abs(tt[1]-st[1])<Rt?Math.abs(tt[1]-dt[1])<Rt&&(dt[0]-tt[0])*(st[0]-dt[0])>=0&&(st=dt,ct=kt):M.log("endpt to newendpt is not vert. or horz.",tt,st,dt)}if(ct>=0)break;vt+=Je(tt,st),tt=st}if(ct===Ye.edgepaths.length){M.log("unclosed perimeter path");break}(Et=-1===mt.indexOf(Ke=ct))&&(Ke=mt[0],vt+=Je(tt,st)+"Z",tt=null)}for(Ke=0;Ke<Ye.paths.length;Ke++)vt+=S.smoothclosed(Ye.paths[Ke].map(Pe),Ye.smoothing);return vt}(0,Ne,we,ze,ke,Ee,Se,Te);De?I.select(this).attr("d",De).style("stroke","none"):I.select(this).remove()})}(P,C,b,A,ae,Z,pe,R,L,U,he),function(ge,xe,Se,Te,ye,we,ze){var ke=Se._context.staticPlot,Ee=M.ensureSingle(ge,"g","contourlines"),me=!1!==ye.showlines,de=ye.showlabels,ce=me&&de,Ae=i.createLines(Ee,me||de,xe,ke),Ne=i.createLineClip(Ee,ce,Se,Te.trace.uid),De=ge.selectAll("g.contourlabels").data(de?[0]:[]);if(De.exit().remove(),De.enter().append("g").classed("contourlabels",!0),de){var _e=we.xaxis._length,Pe=we.yaxis._length,Ie=[[[0,0],[_e,0],[_e,Pe],[0,Pe]]],Be=[];M.clearLocationCache();var We=i.labelFormatter(Se,Te),Ge=S.tester.append("text").attr("data-notex",1).call(S.font,ye.labelfont),Ke={left:0,right:_e,center:_e/2,top:0,bottom:Pe,middle:Pe/2},tt=Math.sqrt(_e*_e+Pe*Pe),st=s.LABELDISTANCE*tt/Math.max(1,xe.length/s.LABELINCREASE);Ae.each(function(gt){var ct=i.calcTextOpts(gt.level,We,Ge,Se);I.select(this).selectAll("path").each(function(kt){var vt=M.getVisibleSegment(this,Ke,ct.height/2);if(vt&&(function(Rt,Ut,Bt,rt,ot,Je){for(var it,dt=0;dt<Bt.pedgepaths.length;dt++)Ut===Bt.pedgepaths[dt]&&(it=Bt.edgepaths[dt]);if(it){var ht=ot.a[0],Ve=ot.a[ot.a.length-1],qe=ot.b[0],ut=ot.b[ot.b.length-1],ft=v(Rt,0,1),St=v(Rt,rt.total,rt.total-1),Mt=xt(it[0],ft),Tt=rt.total-xt(it[it.length-1],St);rt.min<Mt&&(rt.min=Mt),rt.max>Tt&&(rt.max=Tt),rt.len=rt.max-rt.min}function xt(Nt,bt){var wt,It=0;return(Math.abs(Nt[0]-ht)<.1||Math.abs(Nt[0]-Ve)<.1)&&(wt=p(ot.dxydb_rough(Nt[0],Nt[1],.1)),It=Math.max(It,Je*T(bt,wt)/2)),(Math.abs(Nt[1]-qe)<.1||Math.abs(Nt[1]-ut)<.1)&&(wt=p(ot.dxyda_rough(Nt[0],Nt[1],.1)),It=Math.max(It,Je*T(bt,wt)/2)),It}}(this,kt,gt,vt,ze,ct.height),!(vt.len<(ct.width+ct.height)*s.LABELMIN)))for(var mt=Math.min(Math.ceil(vt.len/st),s.LABELMAX),Et=0;Et<mt;Et++){var Lt=i.findBestTextLocation(this,vt,ct,Be,Ke);if(!Lt)break;i.addLabelData(Lt,ct,Be,Ie)}})}),Ge.remove(),i.drawLabels(De,Be,Se,Ne,ce?Ie:null)}de&&!me&&Ae.remove()}(C,z,_,k,J,g,R),S.setClipUrl(C,R._clipPathId,_)}function pe(ge){var xe=R.ab2xy(ge[0],ge[1],!0);return[b.c2p(xe[0]),A.c2p(xe[1])]}})}},64096:function(oe,j,r){"use strict";var I=r(50693),E=r(5386).fF,f=r(9012),S=r(99181),M=r(1426).extendFlat;oe.exports=M({lon:S.lon,lat:S.lat,z:{valType:"data_array",editType:"calc"},radius:{valType:"number",editType:"plot",arrayOk:!0,min:1,dflt:30},below:{valType:"string",editType:"plot"},text:S.text,hovertext:S.hovertext,hoverinfo:M({},f.hoverinfo,{flags:["lon","lat","z","text","name"]}),hovertemplate:E(),showlegend:M({},f.showlegend,{dflt:!1})},I("",{cLetter:"z",editTypeOverride:"calc"}))},85070:function(oe,j,r){"use strict";var I=r(92770),E=r(71828).isArrayOrTypedArray,f=r(50606).BADNUM,S=r(78803),M=r(71828)._;oe.exports=function(y,u){for(var i=u._length,s=new Array(i),a=u.z,o=E(a)&&a.length,l=0;l<i;l++){var c=s[l]={},h=u.lon[l],v=u.lat[l];if(c.lonlat=I(h)&&I(v)?[+h,+v]:[f,f],o){var p=a[l];c.z=I(p)?p:f}}return S(y,u,{vals:o?a:[0,1],containerStr:"",cLetter:"z"}),i&&(s[0].t={labels:{lat:M(y,"lat:")+" ",lon:M(y,"lon:")+" "}}),s}},52414:function(oe,j,r){"use strict";var I=r(92770),E=r(71828),f=r(7901),S=r(21081),M=r(50606).BADNUM,y=r(18214).makeBlank;oe.exports=function(u){var i=u[0].trace,s=!0===i.visible&&0!==i._length,a=i._opts={heatmap:{layout:{visibility:"none"},paint:{}},geojson:y()};if(!s)return a;var o,l=[],c=i.z,h=i.radius,v=E.isArrayOrTypedArray(c)&&c.length,p=E.isArrayOrTypedArray(h);for(o=0;o<u.length;o++){var T=u[o],_=T.lonlat;if(_[0]!==M){var g={};if(v){var w=T.z;g.z=w!==M?w:0}p&&(g.r=I(h[o])&&h[o]>0?+h[o]:0),l.push({type:"Feature",geometry:{type:"Point",coordinates:_},properties:g})}}var x=S.extractOpts(i),b=x.reversescale?S.flipScale(x.colorscale):x.colorscale,A=b[0][1],m=["interpolate",["linear"],["heatmap-density"],0,f.opacity(A)<1?A:f.addOpacity(A,0)];for(o=1;o<b.length;o++)m.push(b[o][0],b[o][1]);return E.extendFlat(a.heatmap.paint,{"heatmap-weight":v?["interpolate",["linear"],["get","z"],x.min,0,x.max,1]:1/(x.max-x.min),"heatmap-color":m,"heatmap-radius":p?{type:"identity",property:"r"}:i.radius,"heatmap-opacity":i.opacity}),a.geojson={type:"FeatureCollection",features:l},a.heatmap.layout.visibility="visible",a}},79429:function(oe,j,r){"use strict";var I=r(71828),E=r(1586),f=r(64096);oe.exports=function(S,M,y,u){function i(l,c){return I.coerce(S,M,f,l,c)}var s=i("lon")||[],a=i("lat")||[],o=Math.min(s.length,a.length);o?(M._length=o,i("z"),i("radius"),i("below"),i("text"),i("hovertext"),i("hovertemplate"),E(S,M,u,i,{prefix:"",cLetter:"z"})):M.visible=!1}},62474:function(oe){"use strict";oe.exports=function(j,r){return j.lon=r.lon,j.lat=r.lat,j.z=r.z,j}},84684:function(oe,j,r){"use strict";var I=r(89298),E=r(28178).hoverPoints,f=r(28178).getExtraText;oe.exports=function(S,M,y){var u=E(S,M,y);if(u){var i=u[0],s=i.cd,a=s[0].trace,o=s[i.index];if(delete i.color,"z"in o){var l=i.subplot.mockAxis;i.z=o.z,i.zLabel=I.tickText(l,l.c2l(o.z),"hover").text}return i.extraText=f(a,o,s[0].t.labels),[i]}}},93814:function(oe,j,r){"use strict";oe.exports={attributes:r(64096),supplyDefaults:r(79429),colorbar:r(61243),formatLabels:r(15636),calc:r(85070),plot:r(7336),hoverPoints:r(84684),eventData:r(62474),getBelow:function(I,E){for(var f=E.getMapLayers(),S=0;S<f.length;S++){var M=f[S],y=M.id;if("symbol"===M.type&&"string"==typeof y&&-1===y.indexOf("plotly-"))return y}},moduleType:"trace",name:"densitymapbox",basePlotModule:r(50101),categories:["mapbox","gl","showLegend"],meta:{hr_name:"density_mapbox"}}},7336:function(oe,j,r){"use strict";var I=r(52414),E=r(77734).traceLayerPrefix;function f(M,y){this.type="densitymapbox",this.subplot=M,this.uid=y,this.sourceId="source-"+y,this.layerList=[["heatmap",E+y+"-heatmap"]],this.below=null}var S=f.prototype;S.update=function(M){var y=this.subplot,u=this.layerList,i=I(M),s=y.belowLookup["trace-"+this.uid];y.map.getSource(this.sourceId).setData(i.geojson),s!==this.below&&(this._removeLayers(),this._addLayers(i,s),this.below=s);for(var a=0;a<u.length;a++){var o=u[a],c=o[1],h=i[o[0]];y.setOptions(c,"setLayoutProperty",h.layout),"visible"===h.layout.visibility&&y.setOptions(c,"setPaintProperty",h.paint)}},S._addLayers=function(M,y){for(var u=this.subplot,i=this.layerList,s=this.sourceId,a=0;a<i.length;a++){var o=i[a],l=o[0],c=M[l];u.addLayer({type:l,id:o[1],source:s,layout:c.layout,paint:c.paint},y)}},S._removeLayers=function(){for(var M=this.subplot.map,y=this.layerList,u=y.length-1;u>=0;u--)M.removeLayer(y[u][1])},S.dispose=function(){var M=this.subplot.map;this._removeLayers(),M.removeSource(this.sourceId)},oe.exports=function(M,y){var u=y[0].trace,i=new f(M,u.uid),s=i.sourceId,a=I(y),o=i.below=M.belowLookup["trace-"+u.uid];return M.map.addSource(s,{type:"geojson",data:a.geojson}),i._addLayers(a,o),i}},49789:function(oe,j,r){"use strict";var I=r(71828);oe.exports=function(E,f){for(var S=0;S<E.length;S++)E[S].i=S;I.mergeArray(f.text,E,"tx"),I.mergeArray(f.hovertext,E,"htx");var M=f.marker;if(M){I.mergeArray(M.opacity,E,"mo"),I.mergeArray(M.color,E,"mc");var y=M.line;y&&(I.mergeArray(y.color,E,"mlc"),I.mergeArrayCastPositive(y.width,E,"mlw"))}}},1285:function(oe,j,r){"use strict";var I,E=r(1486),f=r(82196).line,S=r(9012),M=r(12663).axisHoverFormat,y=r(5386).fF,u=r(5386).si,i=r(18517),s=r(1426).extendFlat,a=r(7901);oe.exports={x:E.x,x0:E.x0,dx:E.dx,y:E.y,y0:E.y0,dy:E.dy,xperiod:E.xperiod,yperiod:E.yperiod,xperiod0:E.xperiod0,yperiod0:E.yperiod0,xperiodalignment:E.xperiodalignment,yperiodalignment:E.yperiodalignment,xhoverformat:M("x"),yhoverformat:M("y"),hovertext:E.hovertext,hovertemplate:y({},{keys:i.eventDataKeys}),hoverinfo:s({},S.hoverinfo,{flags:["name","x","y","text","percent initial","percent previous","percent total"]}),textinfo:{valType:"flaglist",flags:["label","text","percent initial","percent previous","percent total","value"],extras:["none"],editType:"plot",arrayOk:!1},texttemplate:u({editType:"plot"},{keys:i.eventDataKeys.concat(["label","value"])}),text:E.text,textposition:E.textposition,insidetextanchor:s({},E.insidetextanchor,{dflt:"middle"}),textangle:s({},E.textangle,{dflt:0}),textfont:E.textfont,insidetextfont:E.insidetextfont,outsidetextfont:E.outsidetextfont,constraintext:E.constraintext,cliponaxis:E.cliponaxis,orientation:s({},E.orientation,{}),offset:s({},E.offset,{arrayOk:!1}),width:s({},E.width,{arrayOk:!1}),marker:(I=s({},E.marker),delete I.pattern,I),connector:{fillcolor:{valType:"color",editType:"style"},line:{color:s({},f.color,{dflt:a.defaultLine}),width:s({},f.width,{dflt:0,editType:"plot"}),dash:f.dash,editType:"style"},visible:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},offsetgroup:E.offsetgroup,alignmentgroup:E.alignmentgroup}},9532:function(oe,j,r){"use strict";var I=r(89298),E=r(42973),f=r(49789),S=r(66279),M=r(50606).BADNUM;function y(u){return u===M?0:u}oe.exports=function(u,i){var s,a,o,l,c,h,v,p,T=I.getFromId(u,i.xaxis||"x"),_=I.getFromId(u,i.yaxis||"y");"h"===i.orientation?(s=T.makeCalcdata(i,"x"),o=_.makeCalcdata(i,"y"),l=E(i,_,"y",o),c=!!i.yperiodalignment,h="y"):(s=_.makeCalcdata(i,"y"),o=T.makeCalcdata(i,"x"),l=E(i,T,"x",o),c=!!i.xperiodalignment,h="x"),a=l.vals;var g,w=Math.min(a.length,s.length),x=new Array(w);for(i._base=[],v=0;v<w;v++){s[v]<0&&(s[v]=M);var b=!1;s[v]!==M&&v+1<w&&s[v+1]!==M&&(b=!0),p=x[v]={p:a[v],s:s[v],cNext:b},i._base[v]=-.5*p.s,c&&(x[v].orig_p=o[v],x[v][h+"End"]=l.ends[v],x[v][h+"Start"]=l.starts[v]),i.ids&&(p.id=String(i.ids[v])),0===v&&(x[0].vTotal=0),x[0].vTotal+=y(p.s),p.begR=y(p.s)/y(x[0].s)}for(v=0;v<w;v++)(p=x[v]).s!==M&&(p.sumR=p.s/x[0].vTotal,p.difR=void 0!==g?p.s/g:1,g=p.s);return f(x,i),S(x,i),x}},18517:function(oe){"use strict";oe.exports={eventDataKeys:["percentInitial","percentPrevious","percentTotal"]}},8984:function(oe,j,r){"use strict";var I=r(11661).setGroupPositions;oe.exports=function(E,f){var S,M,y=E._fullLayout,u=E._fullData,i=E.calcdata,s=f.xaxis,a=f.yaxis,o=[],l=[],c=[];for(M=0;M<u.length;M++){var h=u[M];!0===h.visible&&h.xaxis===s._id&&h.yaxis===a._id&&"funnel"===h.type&&(S=i[M],"h"===h.orientation?c.push(S):l.push(S),o.push(S))}var p={mode:y.funnelmode,norm:y.funnelnorm,gap:y.funnelgap,groupgap:y.funnelgroupgap};for(I(E,s,a,l,p),I(E,a,s,c,p),M=0;M<o.length;M++){S=o[M];for(var T=0;T<S.length;T++)T+1<S.length&&(S[T].nextP0=S[T+1].p0,S[T].nextS0=S[T+1].s0,S[T].nextP1=S[T+1].p1,S[T].nextS1=S[T+1].s1)}}},26199:function(oe,j,r){"use strict";var I=r(71828),E=r(26125),f=r(90769).handleText,S=r(67513),M=r(73927),y=r(1285),u=r(7901);oe.exports={supplyDefaults:function(i,s,a,o){function l(p,T){return I.coerce(i,s,y,p,T)}if(S(i,s,o,l)){M(i,s,o,l),l("xhoverformat"),l("yhoverformat"),l("orientation",s.y&&!s.x?"v":"h"),l("offset"),l("width");var c=l("text");l("hovertext"),l("hovertemplate");var h=l("textposition");f(i,s,o,l,h,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),"none"===s.textposition||s.texttemplate||l("textinfo",Array.isArray(c)?"text+value":"value");var v=l("marker.color",a);l("marker.line.color",u.defaultLine),l("marker.line.width"),l("connector.visible")&&(l("connector.fillcolor",(T=I.isArrayOrTypedArray(p=v)?"#000":p,u.addOpacity(T,.5*u.opacity(T)))),l("connector.line.width")&&(l("connector.line.color"),l("connector.line.dash")))}else s.visible=!1;var p,T},crossTraceDefaults:function(i,s){var a,o;function l(h){return I.coerce(o._input,o,y,h)}if("group"===s.funnelmode)for(var c=0;c<i.length;c++)a=(o=i[c])._input,E(a,o,s,l)}}},34598:function(oe){"use strict";oe.exports=function(j,r){return j.x="xVal"in r?r.xVal:r.x,j.y="yVal"in r?r.yVal:r.y,"percentInitial"in r&&(j.percentInitial=r.percentInitial),"percentPrevious"in r&&(j.percentPrevious=r.percentPrevious),"percentTotal"in r&&(j.percentTotal=r.percentTotal),r.xa&&(j.xaxis=r.xa),r.ya&&(j.yaxis=r.ya),j}},63341:function(oe,j,r){"use strict";var I=r(7901).opacity,E=r(95423).hoverOnBars,f=r(71828).formatPercent;oe.exports=function(S,M,y,u,i){var w,x,b,A,m,s=E(S,M,y,u,i);if(s){var a=s.cd,o=a[0].trace,c=a[s.index];s[("h"===o.orientation?"x":"y")+"LabelVal"]=c.s,s.percentInitial=c.begR,s.percentInitialLabel=f(c.begR,1),s.percentPrevious=c.difR,s.percentPreviousLabel=f(c.difR,1),s.percentTotal=c.sumR,s.percentTotalLabel=f(c.sumR,1);var h=c.hi||o.hoverinfo,v=[];if(h&&"none"!==h&&"skip"!==h){var p="all"===h,T=h.split("+"),_=function(g){return p||-1!==T.indexOf(g)};_("percent initial")&&v.push(s.percentInitialLabel+" of initial"),_("percent previous")&&v.push(s.percentPreviousLabel+" of previous"),_("percent total")&&v.push(s.percentTotalLabel+" of total")}return s.extraText=v.join("<br>"),s.color=(x=o.marker,A=(w=c).mlc||x.line.color,m=w.mlw||x.line.width,I(b=w.mc||x.color)?b:I(A)&&m?A:void 0),[s]}}},51759:function(oe,j,r){"use strict";oe.exports={attributes:r(1285),layoutAttributes:r(10440),supplyDefaults:r(26199).supplyDefaults,crossTraceDefaults:r(26199).crossTraceDefaults,supplyLayoutDefaults:r(93138),calc:r(9532),crossTraceCalc:r(8984),plot:r(80461),style:r(68266).style,hoverPoints:r(63341),eventData:r(34598),selectPoints:r(81974),moduleType:"trace",name:"funnel",basePlotModule:r(93612),categories:["bar-like","cartesian","svg","oriented","showLegend","zoomScale"],meta:{}}},10440:function(oe){"use strict";oe.exports={funnelmode:{valType:"enumerated",values:["stack","group","overlay"],dflt:"stack",editType:"calc"},funnelgap:{valType:"number",min:0,max:1,editType:"calc"},funnelgroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},93138:function(oe,j,r){"use strict";var I=r(71828),E=r(10440);oe.exports=function(f,S,M){var y=!1;function u(a,o){return I.coerce(f,S,E,a,o)}for(var i=0;i<M.length;i++){var s=M[i];if(s.visible&&"funnel"===s.type){y=!0;break}}y&&(u("funnelmode"),u("funnelgap",.2),u("funnelgroupgap"))}},80461:function(oe,j,r){"use strict";var I=r(39898),E=r(71828),f=r(91424),S=r(50606).BADNUM,M=r(17295),y=r(72597).clearMinTextSize;function u(i,s,a,o){var l=[],c=[],h=o?s:a,v=o?a:s;return l[0]=h.c2p(i.s0,!0),c[0]=v.c2p(i.p0,!0),l[1]=h.c2p(i.s1,!0),c[1]=v.c2p(i.p1,!0),l[2]=h.c2p(i.nextS0,!0),c[2]=v.c2p(i.nextP0,!0),l[3]=h.c2p(i.nextS1,!0),c[3]=v.c2p(i.nextP1,!0),o?[l,c]:[c,l]}oe.exports=function(i,s,a,o){var c,h,T,_,l=i._fullLayout;y("funnel",l),c=i,T=(h=s).xaxis,_=h.yaxis,E.makeTraceGroups(o,a,"trace bars").each(function(g){var w=I.select(this),x=g[0].trace,b=E.ensureSingle(w,"g","regions");if(x.connector&&x.connector.visible){var A="h"===x.orientation,m=b.selectAll("g.region").data(E.identity);m.enter().append("g").classed("region",!0),m.exit().remove();var C=m.size();m.each(function(k,P){if(P===C-1||k.cNext){var R=u(k,T,_,A),L=R[0],N=R[1],B="";L[0]!==S&&N[0]!==S&&L[1]!==S&&N[1]!==S&&L[2]!==S&&N[2]!==S&&L[3]!==S&&N[3]!==S&&(B+=A?"M"+L[0]+","+N[1]+"L"+L[2]+","+N[2]+"H"+L[3]+"L"+L[1]+","+N[1]+"Z":"M"+L[1]+","+N[1]+"L"+L[2]+","+N[3]+"V"+N[2]+"L"+L[1]+","+N[0]+"Z"),""===B&&(B="M0,0Z"),E.ensureSingle(I.select(this),"path").attr("d",B).call(f.setClipUrl,h.layerClipId,c)}})}else b.remove()}),function(c,h,v,p){var T=h.xaxis,_=h.yaxis;E.makeTraceGroups(p,v,"trace bars").each(function(g){var w=I.select(this),x=g[0].trace,b=E.ensureSingle(w,"g","lines");if(x.connector&&x.connector.visible&&x.connector.line.width){var A="h"===x.orientation,m=b.selectAll("g.line").data(E.identity);m.enter().append("g").classed("line",!0),m.exit().remove();var C=m.size();m.each(function(k,P){if(P===C-1||k.cNext){var R=u(k,T,_,A),L=R[0],N=R[1],B="";void 0!==L[3]&&void 0!==N[3]&&(A?(B+="M"+L[0]+","+N[1]+"L"+L[2]+","+N[2],B+="M"+L[1]+","+N[1]+"L"+L[3]+","+N[2]):(B+="M"+L[1]+","+N[1]+"L"+L[2]+","+N[3],B+="M"+L[1]+","+N[0]+"L"+L[2]+","+N[2])),""===B&&(B="M0,0Z"),E.ensureSingle(I.select(this),"path").attr("d",B).call(f.setClipUrl,h.layerClipId,c)}})}else b.remove()})}(i,s,a,o),M.plot(i,s,a,o,{mode:l.funnelmode,norm:l.funnelmode,gap:l.funnelgap,groupgap:l.funnelgroupgap})}},68266:function(oe,j,r){"use strict";var I=r(39898),E=r(91424),f=r(7901),S=r(37822).DESELECTDIM,M=r(16688),y=r(72597).resizeText,u=M.styleTextPoints;oe.exports={style:function(i,s,a){var o=a||I.select(i).selectAll("g.funnellayer").selectAll("g.trace");y(i,o,"funnel"),o.style("opacity",function(l){return l[0].trace.opacity}),o.each(function(l){var c=I.select(this),h=l[0].trace;c.selectAll(".point > path").each(function(v){if(!v.isBlank){var p=h.marker;I.select(this).call(f.fill,v.mc||p.color).call(f.stroke,v.mlc||p.line.color).call(E.dashLine,p.line.dash,v.mlw||p.line.width).style("opacity",h.selectedpoints&&!v.selected?S:1)}}),u(c,h,i),c.selectAll(".regions").each(function(){I.select(this).selectAll("path").style("stroke-width",0).call(f.fill,h.connector.fillcolor)}),c.selectAll(".lines").each(function(){var v=h.connector.line;E.lineGroupStyle(I.select(this).selectAll("path"),v.width,v.color,v.dash)})})}}},86807:function(oe,j,r){"use strict";var I=r(34e3),E=r(9012),f=r(27670).Y,S=r(5386).fF,M=r(5386).si,y=r(1426).extendFlat;oe.exports={labels:I.labels,label0:I.label0,dlabel:I.dlabel,values:I.values,marker:{colors:I.marker.colors,line:{color:y({},I.marker.line.color,{dflt:null}),width:y({},I.marker.line.width,{dflt:1}),editType:"calc"},pattern:I.marker.pattern,editType:"calc"},text:I.text,hovertext:I.hovertext,scalegroup:y({},I.scalegroup,{}),textinfo:y({},I.textinfo,{flags:["label","text","value","percent"]}),texttemplate:M({editType:"plot"},{keys:["label","color","value","text","percent"]}),hoverinfo:y({},E.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:S({},{keys:["label","color","value","text","percent"]}),textposition:y({},I.textposition,{values:["inside","none"],dflt:"inside"}),textfont:I.textfont,insidetextfont:I.insidetextfont,title:{text:I.title.text,font:I.title.font,position:y({},I.title.position,{values:["top left","top center","top right"],dflt:"top center"}),editType:"plot"},domain:f({name:"funnelarea",trace:!0,editType:"calc"}),aspectratio:{valType:"number",min:0,dflt:1,editType:"plot"},baseratio:{valType:"number",min:0,max:1,dflt:.333,editType:"plot"}}},6452:function(oe,j,r){"use strict";var I=r(74875);j.name="funnelarea",j.plot=function(E,f,S,M){I.plotBasePlot(j.name,E,f,S,M)},j.clean=function(E,f,S,M){I.cleanBasePlot(j.name,E,f,S,M)}},89574:function(oe,j,r){"use strict";var I=r(32354);oe.exports={calc:function(E,f){return I.calc(E,f)},crossTraceCalc:function(E){I.crossTraceCalc(E,{type:"funnelarea"})}}},86282:function(oe,j,r){"use strict";var I=r(71828),E=r(86807),f=r(27670).c,S=r(90769).handleText,M=r(37434).handleLabelsAndValues,y=r(37434).handleMarkerDefaults;oe.exports=function(u,i,s,a){function o(w,x){return I.coerce(u,i,E,w,x)}var l=o("labels"),c=o("values"),h=M(l,c),v=h.len;if(i._hasLabels=h.hasLabels,i._hasValues=h.hasValues,!i._hasLabels&&i._hasValues&&(o("label0"),o("dlabel")),v){i._length=v,y(u,i,a,o),o("scalegroup");var p,T=o("text"),_=o("texttemplate");if(_||(p=o("textinfo",Array.isArray(T)?"text+percent":"percent")),o("hovertext"),o("hovertemplate"),_||p&&"none"!==p){var g=o("textposition");S(u,i,a,o,g,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1})}f(i,a,o),o("title.text")&&(o("title.position"),I.coerceFont(o,"title.font",a.font)),o("aspectratio"),o("baseratio")}else i.visible=!1}},10421:function(oe,j,r){"use strict";oe.exports={moduleType:"trace",name:"funnelarea",basePlotModule:r(6452),categories:["pie-like","funnelarea","showLegend"],attributes:r(86807),layoutAttributes:r(80097),supplyDefaults:r(86282),supplyLayoutDefaults:r(57402),calc:r(89574).calc,crossTraceCalc:r(89574).crossTraceCalc,plot:r(79187),style:r(71858),styleOne:r(63463),meta:{}}},80097:function(oe,j,r){"use strict";var I=r(92774).hiddenlabels;oe.exports={hiddenlabels:I,funnelareacolorway:{valType:"colorlist",editType:"calc"},extendfunnelareacolors:{valType:"boolean",dflt:!0,editType:"calc"}}},57402:function(oe,j,r){"use strict";var I=r(71828),E=r(80097);oe.exports=function(f,S){function M(y,u){return I.coerce(f,S,E,y,u)}M("hiddenlabels"),M("funnelareacolorway",S.colorway),M("extendfunnelareacolors")}},79187:function(oe,j,r){"use strict";var I=r(39898),E=r(91424),f=r(71828),S=f.strScale,M=f.strTranslate,y=r(63893),u=r(17295).toMoveInsideBar,i=r(72597),s=i.recordMinTextSize,a=i.clearMinTextSize,o=r(53581),l=r(14575),c=l.attachFxHandlers,h=l.determineInsideTextFont,v=l.layoutAreas,p=l.prerenderTitles,T=l.positionTitleOutside,_=l.formatSliceLabel;function g(w,x){return"l"+(x[0]-w[0])+","+(x[1]-w[1])}oe.exports=function(w,x){var b=w._context.staticPlot,A=w._fullLayout;a("funnelarea",A),p(x,w),v(x,A._size),f.makeTraceGroups(A._funnelarealayer,x,"trace").each(function(m){var C=I.select(this),k=m[0],P=k.trace;(function(R){if(R.length){var L=R[0],N=L.trace,B=N.aspectratio,J=N.baseratio;J>.999&&(J=.999);var z,Y,q,U=Math.pow(J,2),Z=L.vTotal,X=Z,se=Z*U/(1-U)/Z,re=[];for(re.push(Ee()),Y=R.length-1;Y>-1;Y--)(q=R[Y]).hidden||(se+=q.v/X,re.push(Ee()));var K=1/0,ne=-1/0;for(Y=0;Y<re.length;Y++)z=re[Y],K=Math.min(K,z[1]),ne=Math.max(ne,z[1]);for(Y=0;Y<re.length;Y++)re[Y][1]-=(ne+K)/2;var ue=L.r,he=(ne-K)/2,pe=ue/re[re.length-1][0],ge=ue/he*B;for(L.r=ge*he,Y=0;Y<re.length;Y++)re[Y][0]*=pe,re[Y][1]*=ge;var xe,Se,Te=[-(z=re[0])[0],z[1]],ye=[z[0],z[1]],we=0;for(Y=R.length-1;Y>-1;Y--)if(!(q=R[Y]).hidden){var ze=re[we+=1][0],ke=re[we][1];q.TL=[-ze,ke],q.TR=[ze,ke],q.BL=Te,q.BR=ye,q.pxmid=[.5*((xe=q.TR)[0]+(Se=q.BR)[0]),.5*(xe[1]+Se[1])],Te=q.TL,ye=q.TR}}function Ee(){var me,de={x:me=Math.sqrt(se),y:-me};return[de.x,de.y]}})(m),C.each(function(){var R=I.select(this).selectAll("g.slice").data(m);R.enter().append("g").classed("slice",!0),R.exit().remove(),R.each(function(N,B){if(N.hidden)I.select(this).selectAll("path,g").remove();else{N.pointNumber=N.i,N.curveNumber=P.index;var J=k.cx,z=k.cy,Y=I.select(this),q=Y.selectAll("path.surface").data([N]);q.enter().append("path").classed("surface",!0).style({"pointer-events":b?"none":"all"}),Y.call(c,w,m);var U="M"+(J+N.TR[0])+","+(z+N.TR[1])+g(N.TR,N.BR)+g(N.BR,N.BL)+g(N.BL,N.TL)+"Z";q.attr("d",U),_(w,N,k);var Z=o.castOption(P.textposition,N.pts),X=Y.selectAll("g.slicetext").data(N.text&&"none"!==Z?[0]:[]);X.enter().append("g").classed("slicetext",!0),X.exit().remove(),X.each(function(){var se=f.ensureSingle(I.select(this),"text","",function(pe){pe.attr("data-notex",1)}),re=f.ensureUniformFontSize(w,h(P,N,A.font));se.text(N.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(E.font,re).call(y.convertToTspans,w);var ee,K,ne,ae=E.bBox(se.node()),ue=Math.min(N.BL[1],N.BR[1])+z,he=Math.max(N.TL[1],N.TR[1])+z;K=Math.max(N.TL[0],N.BL[0])+J,ne=Math.min(N.TR[0],N.BR[0])+J,(ee=u(K,ne,ue,he,ae,{isHorizontal:!0,constrained:!0,angle:0,anchor:"middle"})).fontSize=re.size,s(P.type,ee,A),m[B].transform=ee,f.setTransormAndDisplay(se,ee)})}});var L=I.select(this).selectAll("g.titletext").data(P.title.text?[0]:[]);L.enter().append("g").classed("titletext",!0),L.exit().remove(),L.each(function(){var N=f.ensureSingle(I.select(this),"text","",function(z){z.attr("data-notex",1)}),B=P.title.text;P._meta&&(B=f.templateString(B,P._meta)),N.text(B).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(E.font,P.title.font).call(y.convertToTspans,w);var J=T(k,A._size);N.attr("transform",M(J.x,J.y)+S(Math.min(1,J.scale))+M(J.tx,J.ty))})})})}},71858:function(oe,j,r){"use strict";var I=r(39898),E=r(63463),f=r(72597).resizeText;oe.exports=function(S){var M=S._fullLayout._funnelarealayer.selectAll(".trace");f(S,M,"funnelarea"),M.each(function(y){var u=y[0].trace,i=I.select(this);i.style({opacity:u.opacity}),i.selectAll("path.surface").each(function(s){I.select(this).call(E,s,u,S)})})}},21606:function(oe,j,r){"use strict";var I=r(82196),E=r(9012),f=r(41940),S=r(12663).axisHoverFormat,M=r(5386).fF,y=r(5386).si,u=r(50693),i=r(1426).extendFlat;oe.exports=i({z:{valType:"data_array",editType:"calc"},x:i({},I.x,{impliedEdits:{xtype:"array"}}),x0:i({},I.x0,{impliedEdits:{xtype:"scaled"}}),dx:i({},I.dx,{impliedEdits:{xtype:"scaled"}}),y:i({},I.y,{impliedEdits:{ytype:"array"}}),y0:i({},I.y0,{impliedEdits:{ytype:"scaled"}}),dy:i({},I.dy,{impliedEdits:{ytype:"scaled"}}),xperiod:i({},I.xperiod,{impliedEdits:{xtype:"scaled"}}),yperiod:i({},I.yperiod,{impliedEdits:{ytype:"scaled"}}),xperiod0:i({},I.xperiod0,{impliedEdits:{xtype:"scaled"}}),yperiod0:i({},I.yperiod0,{impliedEdits:{ytype:"scaled"}}),xperiodalignment:i({},I.xperiodalignment,{impliedEdits:{xtype:"scaled"}}),yperiodalignment:i({},I.yperiodalignment,{impliedEdits:{ytype:"scaled"}}),text:{valType:"data_array",editType:"calc"},hovertext:{valType:"data_array",editType:"calc"},transpose:{valType:"boolean",dflt:!1,editType:"calc"},xtype:{valType:"enumerated",values:["array","scaled"],editType:"calc+clearAxisTypes"},ytype:{valType:"enumerated",values:["array","scaled"],editType:"calc+clearAxisTypes"},zsmooth:{valType:"enumerated",values:["fast","best",!1],dflt:!1,editType:"calc"},hoverongaps:{valType:"boolean",dflt:!0,editType:"none"},connectgaps:{valType:"boolean",editType:"calc"},xgap:{valType:"number",dflt:0,min:0,editType:"plot"},ygap:{valType:"number",dflt:0,min:0,editType:"plot"},xhoverformat:S("x"),yhoverformat:S("y"),zhoverformat:S("z",1),hovertemplate:M(),texttemplate:y({arrayOk:!1,editType:"plot"},{keys:["x","y","z","text"]}),textfont:f({editType:"plot",autoSize:!0,autoColor:!0,colorEditType:"style"}),showlegend:i({},E.showlegend,{dflt:!1})},{transforms:void 0},u("",{cLetter:"z",autoColorDflt:!1}))},90757:function(oe,j,r){"use strict";var I=r(73972),E=r(71828),f=r(89298),S=r(42973),M=r(17562),y=r(78803),u=r(68296),i=r(4742),s=r(824),a=r(43907),o=r(70769),l=r(50606).BADNUM;function c(h){for(var v=[],p=h.length,T=0;T<p;T++){var _=h[T];_!==l&&v.push(_)}return v}oe.exports=function(h,v){var p,T,_,g,w,x,b,A,m,C,k,P=f.getFromId(h,v.xaxis||"x"),R=f.getFromId(h,v.yaxis||"y"),L=I.traceIs(v,"contour"),N=I.traceIs(v,"histogram"),B=I.traceIs(v,"gl2d"),J=L?"best":v.zsmooth;if(P._minDtick=0,R._minDtick=0,N)g=(k=M(h,v)).orig_x,p=k.x,T=k.x0,_=k.dx,A=k.orig_y,w=k.y,x=k.y0,b=k.dy,m=k.z;else{var z=v.z;E.isArray1D(z)?(u(v,P,R,"x","y",["z"]),p=v._x,w=v._y,z=v._z):(g=v.x?P.makeCalcdata(v,"x"):[],A=v.y?R.makeCalcdata(v,"y"):[],p=S(v,P,"x",g).vals,w=S(v,R,"y",A).vals,v._x=p,v._y=w),T=v.x0,_=v.dx,x=v.y0,b=v.dy,m=i(z,v,P,R)}function Y(ne){J=v._input.zsmooth=v.zsmooth=!1,E.warn('cannot use zsmooth: "fast": '+ne)}function q(ne){if(ne.length>1){var ae=(ne[ne.length-1]-ne[0])/(ne.length-1),ue=Math.abs(ae/100);for(C=0;C<ne.length-1;C++)if(Math.abs(ne[C+1]-ne[C]-ae)>ue)return!1}return!0}(P.rangebreaks||R.rangebreaks)&&(m=function(ne,ae,ue){for(var he=[],pe=-1,ge=0;ge<ue.length;ge++)if(ae[ge]!==l){he[++pe]=[];for(var xe=0;xe<ue[ge].length;xe++)ne[xe]!==l&&he[pe].push(ue[ge][xe])}return he}(p,w,m),N||(p=c(p),w=c(w),v._x=p,v._y=w)),N||!L&&!v.connectgaps||(v._emptypoints=a(m),s(m,v._emptypoints)),v._islinear=!1,"log"===P.type||"log"===R.type?"fast"===J&&Y("log axis found"):q(p)?q(w)?v._islinear=!0:"fast"===J&&Y("y scale is not linear"):"fast"===J&&Y("x scale is not linear");var U=E.maxRowLength(m),Z="scaled"===v.xtype?"":p,X=o(v,Z,T,_,U,P),se="scaled"===v.ytype?"":w,re=o(v,se,x,b,m.length,R);B||(v._extremes[P._id]=f.findExtremes(P,X),v._extremes[R._id]=f.findExtremes(R,re));var ee={x:X,y:re,z:m,text:v._text||v.text,hovertext:v._hovertext||v.hovertext};if(v.xperiodalignment&&g&&(ee.orig_x=g),v.yperiodalignment&&A&&(ee.orig_y=A),Z&&Z.length===X.length-1&&(ee.xCenter=Z),se&&se.length===re.length-1&&(ee.yCenter=se),N&&(ee.xRanges=k.xRanges,ee.yRanges=k.yRanges,ee.pts=k.pts),L||y(h,v,{vals:m,cLetter:"z"}),L&&v.contours&&"heatmap"===v.contours.coloring){var K={type:"contour"===v.type?"heatmap":"histogram2d",xcalendar:v.xcalendar,ycalendar:v.ycalendar};ee.xfill=o(K,Z,T,_,U,P),ee.yfill=o(K,se,x,b,m.length,R)}return[ee]}},4742:function(oe,j,r){"use strict";var I=r(92770),E=r(71828),f=r(50606).BADNUM;oe.exports=function(S,M,y,u){var i,s,a,o,l,c;function h(w){if(I(w))return+w}if(M&&M.transpose){for(i=0,l=0;l<S.length;l++)i=Math.max(i,S[l].length);if(0===i)return!1;a=function(w){return w.length},o=function(w,x,b){return(w[b]||[])[x]}}else i=S.length,a=function(w,x){return w[x].length},o=function(w,x,b){return(w[x]||[])[b]};function p(w){if(M&&"carpet"!==M.type&&"contourcarpet"!==M.type&&w&&"category"===w.type&&M["_"+w._id.charAt(0)].length){var x=w._id.charAt(0),b={},A=M["_"+x+"CategoryMap"]||M[x];for(l=0;l<A.length;l++)b[A[l]]=l;return function(m){var C=b[w._categories[m]];return C+1?C:f}}return E.identity}var T=p(y),_=p(u);u&&"category"===u.type&&(i=u._categories.length);var w,x,b,g=new Array(i);for(l=0;l<i;l++)for(s=y&&"category"===y.type?y._categories.length:a(S,l),g[l]=new Array(s),c=0;c<s;c++)g[l][c]=h((w=S,x=_(l),b=T(c),x===f||b===f?f:o(w,x,b)));return g}},61243:function(oe){"use strict";oe.exports={min:"zmin",max:"zmax"}},68296:function(oe,j,r){"use strict";var I=r(71828),E=r(50606).BADNUM,f=r(42973);oe.exports=function(S,M,y,u,i,s){var a=S._length,o=M.makeCalcdata(S,u),l=y.makeCalcdata(S,i);o=f(S,M,u,o).vals,l=f(S,y,i,l).vals;var c,h,v,p,T=S.text,_=void 0!==T&&I.isArray1D(T),g=S.hovertext,w=void 0!==g&&I.isArray1D(g),x=I.distinctVals(o),b=x.vals,A=I.distinctVals(l),m=A.vals,C=[],k=m.length,P=b.length;for(c=0;c<s.length;c++)C[c]=I.init2dArray(k,P);_&&(v=I.init2dArray(k,P)),w&&(p=I.init2dArray(k,P));var R=I.init2dArray(k,P);for(c=0;c<a;c++)if(o[c]!==E&&l[c]!==E){var L=I.findBin(o[c]+x.minDiff/2,b),N=I.findBin(l[c]+A.minDiff/2,m);for(h=0;h<s.length;h++)C[h][N][L]=S[s[h]][c],R[N][L]=c;_&&(v[N][L]=T[c]),w&&(p[N][L]=g[c])}for(S["_"+u]=b,S["_"+i]=m,h=0;h<s.length;h++)S["_"+s[h]]=C[h];_&&(S._text=v),w&&(S._hovertext=p),M&&"category"===M.type&&(S["_"+u+"CategoryMap"]=b.map(function(J){return M._categories[J]})),y&&"category"===y.type&&(S["_"+i+"CategoryMap"]=m.map(function(J){return y._categories[J]})),S._after2before=R}},76382:function(oe,j,r){"use strict";var I=r(71828),E=r(67684),f=r(58623),S=r(73927),M=r(49901),y=r(1586),u=r(21606);oe.exports=function(i,s,a,o){function l(c,h){return I.coerce(i,s,u,c,h)}E(i,s,l,o)?(S(i,s,o,l),l("xhoverformat"),l("yhoverformat"),l("text"),l("hovertext"),l("hovertemplate"),f(l,o),M(i,s,l,o),l("hoverongaps"),l("connectgaps",I.isArray1D(s.z)&&!1!==s.zsmooth),y(i,s,o,l,{prefix:"",cLetter:"z"})):s.visible=!1}},43907:function(oe,j,r){"use strict";var I=r(71828).maxRowLength;oe.exports=function(E){var f,S,M,y,u,i,s,a,o=[],l={},c=[],h=E[0],v=[],p=[0,0,0],T=I(E);for(S=0;S<E.length;S++)for(f=v,v=h,h=E[S+1]||[],M=0;M<T;M++)void 0===v[M]&&((i=(void 0!==v[M-1]?1:0)+(void 0!==v[M+1]?1:0)+(void 0!==f[M]?1:0)+(void 0!==h[M]?1:0))?(0===S&&i++,0===M&&i++,S===E.length-1&&i++,M===v.length-1&&i++,i<4&&(l[[S,M]]=[S,M,i]),o.push([S,M,i])):c.push([S,M]));for(;c.length;){for(s={},a=!1,u=c.length-1;u>=0;u--)(i=((l[[(S=(y=c[u])[0])-1,M=y[1]]]||p)[2]+(l[[S+1,M]]||p)[2]+(l[[S,M-1]]||p)[2]+(l[[S,M+1]]||p)[2])/20)&&(s[y]=[S,M,i],c.splice(u,1),a=!0);if(!a)throw"findEmpties iterated with no new neighbors";for(y in s)l[y]=s[y],o.push(s[y])}return o.sort(function(_,g){return g[2]-_[2]})}},46248:function(oe,j,r){"use strict";var I=r(30211),E=r(71828),f=r(89298),S=r(21081).extractOpts;oe.exports=function(M,y,u,i,s){s||(s={});var a,o,l,c,h=s.isContour,v=M.cd[0],p=v.trace,T=M.xa,_=M.ya,g=v.x,w=v.y,x=v.z,b=v.xCenter,A=v.yCenter,m=v.zmask,C=p.zhoverformat,k=g,P=w;if(!1!==M.index){try{l=Math.round(M.index[1]),c=Math.round(M.index[0])}catch{return void E.error("Error hovering on heatmap, pointNumber must be [row,col], found:",M.index)}if(l<0||l>=x[0].length||c<0||c>x.length)return}else{if(I.inbox(y-g[0],y-g[g.length-1],0)>0||I.inbox(u-w[0],u-w[w.length-1],0)>0)return;if(h){var R;for(k=[2*g[0]-g[1]],R=1;R<g.length;R++)k.push((g[R]+g[R-1])/2);for(k.push([2*g[g.length-1]-g[g.length-2]]),P=[2*w[0]-w[1]],R=1;R<w.length;R++)P.push((w[R]+w[R-1])/2);P.push([2*w[w.length-1]-w[w.length-2]])}l=Math.max(0,Math.min(k.length-2,E.findBin(y,k))),c=Math.max(0,Math.min(P.length-2,E.findBin(u,P)))}var L,N,B=T.c2p(g[l]),J=T.c2p(g[l+1]),z=_.c2p(w[c]),Y=_.c2p(w[c+1]);h?(J=B,a=(L=v.orig_x||g)[l],Y=z,o=(N=v.orig_y||w)[c]):(L=v.orig_x||b||g,N=v.orig_y||A||w,a=b?L[l]:(L[l]+L[l+1])/2,o=A?N[c]:(N[c]+N[c+1])/2,T&&"category"===T.type&&(a=g[l]),_&&"category"===_.type&&(o=w[c]),p.zsmooth&&(B=J=T.c2p(a),z=Y=_.c2p(o)));var q=x[c][l];if(m&&!m[c][l]&&(q=void 0),void 0!==q||p.hoverongaps){var U;Array.isArray(v.hovertext)&&Array.isArray(v.hovertext[c])?U=v.hovertext[c][l]:Array.isArray(v.text)&&Array.isArray(v.text[c])&&(U=v.text[c][l]);var Z=S(p),se=f.tickText({type:"linear",range:[Z.min,Z.max],hoverformat:C,_separators:T._separators,_numFormat:T._numFormat},q,"hover").text;return[E.extendFlat(M,{index:p._after2before?p._after2before[c][l]:[c,l],distance:M.maxHoverDistance,spikeDistance:M.maxSpikeDistance,x0:B,x1:J,y0:z,y1:Y,xLabelVal:a,yLabelVal:o,zLabelVal:q,zLabel:se,text:U})]}}},92165:function(oe,j,r){"use strict";oe.exports={attributes:r(21606),supplyDefaults:r(76382),calc:r(90757),plot:r(50347),colorbar:r(61243),style:r(70035),hoverPoints:r(46248),moduleType:"trace",name:"heatmap",basePlotModule:r(93612),categories:["cartesian","svg","2dMap","showLegend"],meta:{}}},824:function(oe,j,r){"use strict";var I=r(71828),E=[[-1,0],[1,0],[0,-1],[0,1]];function f(M){return.5-.25*Math.min(1,.5*M)}function S(M,y,u){var i,s,a,o,l,c,h,v,p,T,_,g,w,x=0;for(o=0;o<y.length;o++){for(_=M[s=(i=y[o])[0]][a=i[1]],T=0,p=0,l=0;l<4;l++)(h=M[s+(c=E[l])[0]])&&void 0!==(v=h[a+c[1]])&&(0===T?g=w=v:(g=Math.min(g,v),w=Math.max(w,v)),p++,T+=v);if(0===p)throw"iterateInterp2d order is wrong: no defined neighbors";M[s][a]=T/p,void 0===_?p<4&&(x=1):(M[s][a]=(1+u)*M[s][a]-u*_,w>g&&(x=Math.max(x,Math.abs(M[s][a]-_)/(w-g))))}return x}oe.exports=function(M,y){var u,i=1;for(S(M,y),u=0;u<y.length&&!(y[u][2]<4);u++);for(y=y.slice(u),u=0;u<100&&i>.01;u++)i=S(M,y,f(i));return i>.01&&I.log("interp2d didn't converge quickly",i),M}},58623:function(oe,j,r){"use strict";var I=r(71828);oe.exports=function(E,f){E("texttemplate");var S=I.extendFlat({},f.font,{color:"auto",size:"auto"});I.coerceFont(E,"textfont",S)}},70769:function(oe,j,r){"use strict";var I=r(73972),E=r(71828).isArrayOrTypedArray;oe.exports=function(f,S,M,y,u,i){var s,a,o,l=[],c=I.traceIs(f,"contour"),h=I.traceIs(f,"histogram"),v=I.traceIs(f,"gl2d");if(E(S)&&S.length>1&&!h&&"category"!==i.type){var p=S.length;if(!(p<=u))return S.slice(0,c?u:u+1);if(c||v)l=S.slice(0,u);else if(1===u)l=[S[0]-.5,S[0]+.5];else{for(l=[1.5*S[0]-.5*S[1]],o=1;o<p;o++)l.push(.5*(S[o-1]+S[o]));l.push(1.5*S[p-1]-.5*S[p-2])}if(p<u){var T=l[l.length-1],_=T-l[l.length-2];for(o=p;o<u;o++)l.push(T+=_)}}else{var g=f[i._id.charAt(0)+"calendar"];for(s=h?i.r2c(M,0,g):E(S)&&1===S.length?S[0]:void 0===M?0:("log"===i.type?i.d2c:i.r2c)(M,0,g),a=y||1,o=c||v?0:-.5;o<u;o++)l.push(s+a*o)}return l}},50347:function(oe,j,r){"use strict";var I=r(39898),E=r(84267),f=r(73972),S=r(91424),M=r(89298),y=r(71828),u=r(63893),i=r(8225),s=r(7901),a=r(21081).extractOpts,o=r(21081).makeColorScaleFuncFromTrace,l=r(77922),c=r(18783).LINE_SPACING,h=r(3883),v=r(32396).STYLE,p="heatmap-label";function T(b){return b.selectAll("g."+p)}function _(b){T(b).remove()}function g(b,A){var m=A.length-2,C=y.constrain(y.findBin(b,A),0,m),k=A[C],R=y.constrain(C+(b-k)/(A[C+1]-k)-.5,0,m),L=Math.round(R),N=Math.abs(R-L);return R&&R!==m&&N?{bin0:L,frac:N,bin1:Math.round(L+N/(R-L))}:{bin0:L,bin1:L,frac:0}}function w(b,A){var m=A.length-1,C=y.constrain(y.findBin(b,A),0,m),k=A[C],P=(b-k)/(A[C+1]-k)||0;return P<=0?{bin0:C,bin1:C,frac:0}:P<.5?{bin0:C,bin1:C+1,frac:P}:{bin0:C+1,bin1:C,frac:1-P}}function x(b,A,m){b[A]=m[0],b[A+1]=m[1],b[A+2]=m[2],b[A+3]=Math.round(255*m[3])}oe.exports=function(b,A,m,C){var k=A.xaxis,P=A.yaxis;y.makeTraceGroups(C,m,"hm").each(function(R){var L,N,B,J,z,Y,q,U,Z=I.select(this),X=R[0],se=X.trace,re=se.xgap||0,ee=se.ygap||0,K=X.z,ne=X.x,ae=X.y,ue=X.xCenter,he=X.yCenter,pe=f.traceIs(se,"contour"),ge=pe?"best":se.zsmooth,xe=K.length,Se=y.maxRowLength(K),Te=!1,ye=!1;for(Y=0;void 0===L&&Y<ne.length-1;)L=k.c2p(ne[Y]),Y++;for(Y=ne.length-1;void 0===N&&Y>0;)N=k.c2p(ne[Y]),Y--;for(N<L&&(B=N,N=L,L=B,Te=!0),Y=0;void 0===J&&Y<ae.length-1;)J=P.c2p(ae[Y]),Y++;for(Y=ae.length-1;void 0===z&&Y>0;)z=P.c2p(ae[Y]),Y--;z<J&&(B=J,J=z,z=B,ye=!0),pe&&(ue=ne,he=ae,ne=X.xfill,ae=X.yfill);var we="default";if(ge?we="best"===ge?"smooth":"fast":se._islinear&&0===re&&0===ee&&h()&&(we="fast"),"fast"!==we){var ze="best"===ge?0:.5;L=Math.max(-ze*k._length,L),N=Math.min((1+ze)*k._length,N),J=Math.max(-ze*P._length,J),z=Math.min((1+ze)*P._length,z)}var ke,Ee,me=Math.round(N-L),de=Math.round(z-J);if(L>=k._length||N<=0||J>=P._length||z<=0)return Z.selectAll("image").data([]).exit().remove(),void _(Z);"fast"===we?(ke=Se,Ee=xe):(ke=me,Ee=de);var ce=document.createElement("canvas");ce.width=ke,ce.height=Ee;var Ae,Ne,De=ce.getContext("2d"),Ue=o(se,{noNumericCheck:!0,returnArray:!0});"fast"===we?(Ae=Te?function(qt){return Se-1-qt}:y.identity,Ne=ye?function(qt){return xe-1-qt}:y.identity):(Ae=function(qt){return y.constrain(Math.round(k.c2p(ne[qt])-L),0,me)},Ne=function(qt){return y.constrain(Math.round(P.c2p(ae[qt])-J),0,de)});var Ye,_e,Pe,Ie,Be=Ne(0),We=[Be,Be],Ge=Te?0:1,Ke=ye?0:1,tt=0,st=0,gt=0,ct=0;function kt(qt,on){if(void 0!==qt){var An=Ue(qt);return An[0]=Math.round(An[0]),An[1]=Math.round(An[1]),An[2]=Math.round(An[2]),tt+=on,st+=An[0]*on,gt+=An[1]*on,ct+=An[2]*on,An}return[0,0,0,0]}function Dt(qt,on,An,Dn){var Bn=qt[An.bin0];if(void 0===Bn)return kt(void 0,1);var bn=qt[An.bin1],Qn=on[An.bin0],er=on[An.bin1];return kt(Bn+An.frac*(bn-Bn||0)+Dn.frac*((Qn-Bn||0)+An.frac*(void 0===bn?void 0===er?0:void 0===Qn?2*(er-Bn):2*(2*er-Qn-Bn)/3:void 0===er?void 0===Qn?0:2*(2*Bn-bn-Qn)/3:void 0===Qn?2*(2*er-bn-Bn)/3:er+Bn-bn-Qn)))}if("default"!==we){var vt,mt=0;try{vt=new Uint8Array(ke*Ee*4)}catch{vt=new Array(ke*Ee*4)}if("smooth"===we){var Et,Lt,Rt,Ut=ue||ne,Bt=he||ae,rt=new Array(Ut.length),ot=new Array(Bt.length),Je=new Array(me),it=ue?w:g,dt=he?w:g;for(Y=0;Y<Ut.length;Y++)rt[Y]=Math.round(k.c2p(Ut[Y])-L);for(Y=0;Y<Bt.length;Y++)ot[Y]=Math.round(P.c2p(Bt[Y])-J);for(Y=0;Y<me;Y++)Je[Y]=it(Y,rt);for(q=0;q<de;q++)for(Lt=K[(Et=dt(q,ot)).bin0],Rt=K[Et.bin1],Y=0;Y<me;Y++,mt+=4)x(vt,mt,Ie=Dt(Lt,Rt,Je[Y],Et))}else for(q=0;q<xe;q++)for(Pe=K[q],We=Ne(q),Y=0;Y<Se;Y++)Ie=kt(Pe[Y],1),x(vt,mt=4*(We*Se+Ae(Y)),Ie);var ht=De.createImageData(ke,Ee);try{ht.data.set(vt)}catch{var Ve=ht.data,qe=Ve.length;for(q=0;q<qe;q++)Ve[q]=vt[q]}De.putImageData(ht,0,0)}else{var ut=Math.floor(re/2),ft=Math.floor(ee/2);for(q=0;q<xe;q++)if(Pe=K[q],We.reverse(),We[Ke]=Ne(q+1),We[0]!==We[1]&&void 0!==We[0]&&void 0!==We[1])for(Ye=[_e=Ae(0),_e],Y=0;Y<Se;Y++)Ye.reverse(),Ye[Ge]=Ae(Y+1),Ye[0]!==Ye[1]&&void 0!==Ye[0]&&void 0!==Ye[1]&&(Ie=kt(Pe[Y],(Ye[1]-Ye[0])*(We[1]-We[0])),De.fillStyle="rgba("+Ie.join(",")+")",De.fillRect(Ye[0]+ut,We[0]+ft,Ye[1]-Ye[0]-re,We[1]-We[0]-ee))}st=Math.round(st/tt),gt=Math.round(gt/tt),ct=Math.round(ct/tt);var St=E("rgb("+st+","+gt+","+ct+")");b._hmpixcount=(b._hmpixcount||0)+tt,b._hmlumcount=(b._hmlumcount||0)+tt*St.getLuminance();var Mt=Z.selectAll("image").data(R);Mt.enter().append("svg:image").attr({xmlns:l.svg,preserveAspectRatio:"none"}),Mt.attr({height:de,width:me,x:L,y:J,"xlink:href":ce.toDataURL("image/png")}),"fast"!==we||ge||Mt.attr("style",v),_(Z);var Tt=se.texttemplate;if(Tt){var xt=a(se),Nt={type:"linear",range:[xt.min,xt.max],_separators:k._separators,_numFormat:k._numFormat},bt="histogram2dcontour"===se.type,wt="contour"===se.type,It=wt?xe-1:xe,Wt=wt?1:0,Yt=wt?Se-1:Se,Zt=[];for(Y=wt?1:0;Y<It;Y++){var dn;if(wt)dn=X.y[Y];else if(bt){if(0===Y||Y===xe-1)continue;dn=X.y[Y]}else if(X.yCenter)dn=X.yCenter[Y];else{if(Y+1===xe&&void 0===X.y[Y+1])continue;dn=(X.y[Y]+X.y[Y+1])/2}var nn=Math.round(P.c2p(dn));if(!(0>nn||nn>P._length))for(q=Wt;q<Yt;q++){var un;if(wt)un=X.x[q];else if(bt){if(0===q||q===Se-1)continue;un=X.x[q]}else if(X.xCenter)un=X.xCenter[q];else{if(q+1===Se&&void 0===X.x[q+1])continue;un=(X.x[q]+X.x[q+1])/2}var rn=Math.round(k.c2p(un));if(!(0>rn||rn>k._length)){var kn=i({x:un,y:dn},se,b._fullLayout);kn.x=un,kn.y=dn;var Pn=X.z[Y][q];void 0===Pn?(kn.z="",kn.zLabel=""):(kn.z=Pn,kn.zLabel=M.tickText(Nt,Pn,"hover").text);var Sn=X.text&&X.text[Y]&&X.text[Y][q];void 0!==Sn&&!1!==Sn||(Sn=""),kn.text=Sn;var en=y.texttemplateString(Tt,kn,b._fullLayout._d3locale,kn,se._meta||{});if(en){var vn=en.split("<br>"),hn=vn.length,yn=0;for(U=0;U<hn;U++)yn=Math.max(yn,vn[U].length);Zt.push({l:hn,c:yn,t:en,x:rn,y:nn,z:Pn})}}}}var Cn=se.textfont,_n=Cn.family,Un=Cn.size,qn=b._fullLayout.font.size;if(!Un||"auto"===Un){var Ln=1/0,Yn=1/0,_r=0,dr=0;for(U=0;U<Zt.length;U++){var kr=Zt[U];if(_r=Math.max(_r,kr.l),dr=Math.max(dr,kr.c),U<Zt.length-1){var vr=Zt[U+1],mr=Math.abs(vr.x-kr.x),Br=Math.abs(vr.y-kr.y);mr&&(Ln=Math.min(Ln,mr)),Br&&(Yn=Math.min(Yn,Br))}}isFinite(Ln)&&isFinite(Yn)?(Ln-=re,Yn-=ee,Ln/=dr,Yn/=_r,Ln/=c/2,Yn/=c,Un=Math.min(Math.floor(Ln),Math.floor(Yn),qn)):Un=qn}if(Un<=0||!isFinite(Un))return;T(Z).data(Zt).enter().append("g").classed(p,1).append("text").attr("text-anchor","middle").each(function(qt){var Dn,on=I.select(this),An=Cn.color;An&&"auto"!==An||(An=s.contrast("rgba("+Ue(qt.z).join()+")")),on.attr("data-notex",1).call(u.positionText,(Dn=qt,Dn.x),function(Dn){return Dn.y-Un*(Dn.l*c/2-1)}(qt)).call(S.font,_n,Un,An).text(qt.t).call(u.convertToTspans,b)})}})}},70035:function(oe,j,r){"use strict";var I=r(39898);oe.exports=function(E){I.select(E).selectAll(".hm image").style("opacity",function(f){return f.trace.opacity})}},49901:function(oe){"use strict";oe.exports=function(j,r,I){!1===I("zsmooth")&&(I("xgap"),I("ygap")),I("zhoverformat")}},67684:function(oe,j,r){"use strict";var I=r(92770),E=r(71828),f=r(73972);function S(M,y){var u=y(M);return"scaled"===(u?y(M+"type","array"):"scaled")&&(y(M+"0"),y("d"+M)),u}oe.exports=function(M,y,u,i,s,a){var o,l,c=u("z");if(s=s||"x",a=a||"y",void 0===c||!c.length)return 0;if(E.isArray1D(M.z)){o=u(s),l=u(a);var h=E.minRowLength(o),v=E.minRowLength(l);if(0===h||0===v)return 0;y._length=Math.min(h,v,c.length)}else{if(o=S(s,u),l=S(a,u),!function(p){for(var T,_=!0,g=!1,w=!1,x=0;x<p.length;x++){if(!E.isArrayOrTypedArray(T=p[x])){_=!1;break}T.length>0&&(g=!0);for(var b=0;b<T.length;b++)if(I(T[b])){w=!0;break}}return _&&g&&w}(c))return 0;u("transpose"),y._length=null}return"heatmapgl"===M.type||f.getComponentMethod("calendars","handleTraceDefaults")(M,y,[s,a],i),!0}},16063:function(oe,j,r){"use strict";for(var I=r(21606),E=r(50693),f=r(1426).extendFlat,S=r(30962).overrideAll,M=["z","x","x0","dx","y","y0","dy","text","transpose","xtype","ytype"],y={},u=0;u<M.length;u++){var i=M[u];y[i]=I[i]}y.zsmooth={valType:"enumerated",values:["fast",!1],dflt:"fast",editType:"calc"},f(y,E("",{cLetter:"z",autoColorDflt:!1})),oe.exports=S(y,"calc","nested")},59560:function(oe,j,r){"use strict";var I=r(9330).gl_heatmap2d,E=r(89298),f=r(78614);function S(y,u){this.scene=y,this.uid=u,this.type="heatmapgl",this.name="",this.hoverinfo="all",this.xData=[],this.yData=[],this.zData=[],this.textLabels=[],this.idToIndex=[],this.bounds=[0,0,0,0],this.options={zsmooth:"fast",z:[],x:[],y:[],shape:[0,0],colorLevels:[0],colorValues:[0,0,0,1]},this.heatmap=I(y.glplot,this.options),this.heatmap._trace=this}var M=S.prototype;M.handlePick=function(y){var u=this.options,i=u.shape,s=y.pointId,a=s%i[0],o=Math.floor(s/i[0]);return{trace:this,dataCoord:y.dataCoord,traceCoord:[u.x[a],u.y[o],u.z[s]],textLabel:this.textLabels[s],name:this.name,pointIndex:[o,a],hoverinfo:this.hoverinfo}},M.update=function(y,u){var i=u[0];this.index=y.index,this.name=y.name,this.hoverinfo=y.hoverinfo;var s=i.z;this.options.z=[].concat.apply([],s),this.options.shape=[s[0].length,s.length],this.options.x=i.x,this.options.y=i.y,this.options.zsmooth=y.zsmooth;var l=function(T){for(var _=T.colorscale,g=T.zmin,w=T.zmax,x=_.length,b=new Array(x),A=new Array(4*x),m=0;m<x;m++){var C=_[m],k=f(C[1]);b[m]=g+C[0]*(w-g);for(var P=0;P<4;P++)A[4*m+P]=k[P]}return{colorLevels:b,colorValues:A}}(y);this.options.colorLevels=l.colorLevels,this.options.colorValues=l.colorValues,this.textLabels=[].concat.apply([],y.text),this.heatmap.update(this.options);var c,h,v=this.scene.xaxis,p=this.scene.yaxis;!1===y.zsmooth&&(c={ppad:i.x[1]-i.x[0]},h={ppad:i.y[1]-i.y[0]}),y._extremes[v._id]=E.findExtremes(v,i.x,c),y._extremes[p._id]=E.findExtremes(p,i.y,h)},M.dispose=function(){this.heatmap.dispose()},oe.exports=function(y,u,i){var s=new S(y,u.uid);return s.update(u,i),s}},19600:function(oe,j,r){"use strict";var I=r(71828),E=r(67684),f=r(1586),S=r(16063);oe.exports=function(M,y,u,i){function s(a,o){return I.coerce(M,y,S,a,o)}E(M,y,s,i)?(s("text"),s("zsmooth"),f(M,y,i,s,{prefix:"",cLetter:"z"})):y.visible=!1}},3325:function(oe,j,r){"use strict";["*heatmapgl* trace is deprecated!","Please consider switching to the *heatmap* or *image* trace types.","Alternatively you could contribute/sponsor rewriting this trace type","based on cartesian features and using regl framework."].join(" "),oe.exports={attributes:r(16063),supplyDefaults:r(19600),colorbar:r(61243),calc:r(90757),plot:r(59560),moduleType:"trace",name:"heatmapgl",basePlotModule:r(4796),categories:["gl","gl2d","2dMap"],meta:{}}},7745:function(oe,j,r){"use strict";var I=r(1486),E=r(12663).axisHoverFormat,f=r(5386).fF,S=r(5386).si,M=r(41940),y=r(17656),u=r(72406),i=r(1426).extendFlat;oe.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},xhoverformat:E("x"),yhoverformat:E("y"),text:i({},I.text,{}),hovertext:i({},I.hovertext,{}),orientation:I.orientation,histfunc:{valType:"enumerated",values:["count","sum","avg","min","max"],dflt:"count",editType:"calc"},histnorm:{valType:"enumerated",values:["","percent","probability","density","probability density"],dflt:"",editType:"calc"},cumulative:{enabled:{valType:"boolean",dflt:!1,editType:"calc"},direction:{valType:"enumerated",values:["increasing","decreasing"],dflt:"increasing",editType:"calc"},currentbin:{valType:"enumerated",values:["include","exclude","half"],dflt:"include",editType:"calc"},editType:"calc"},nbinsx:{valType:"integer",min:0,dflt:0,editType:"calc"},xbins:y("x",!0),nbinsy:{valType:"integer",min:0,dflt:0,editType:"calc"},ybins:y("y",!0),autobinx:{valType:"boolean",dflt:null,editType:"calc"},autobiny:{valType:"boolean",dflt:null,editType:"calc"},bingroup:{valType:"string",dflt:"",editType:"calc"},hovertemplate:f({},{keys:u.eventDataKeys}),texttemplate:S({arrayOk:!1,editType:"plot"},{keys:["label","value"]}),textposition:i({},I.textposition,{arrayOk:!1}),textfont:M({arrayOk:!1,editType:"plot",colorEditType:"style"}),outsidetextfont:M({arrayOk:!1,editType:"plot",colorEditType:"style"}),insidetextfont:M({arrayOk:!1,editType:"plot",colorEditType:"style"}),insidetextanchor:I.insidetextanchor,textangle:I.textangle,cliponaxis:I.cliponaxis,constraintext:I.constraintext,marker:I.marker,offsetgroup:I.offsetgroup,alignmentgroup:I.alignmentgroup,selected:I.selected,unselected:I.unselected,_deprecated:{bardir:I._deprecated.bardir}}},42174:function(oe){"use strict";oe.exports=function(j,r){for(var I=j.length,E=0,f=0;f<I;f++)r[f]?(j[f]/=r[f],E+=j[f]):j[f]=null;return E}},17656:function(oe){"use strict";oe.exports=function(j,r){return{start:{valType:"any",editType:"calc"},end:{valType:"any",editType:"calc"},size:{valType:"any",editType:"calc"},editType:"calc"}}},59575:function(oe,j,r){"use strict";var I=r(92770);oe.exports={count:function(E,f,S){return S[E]++,1},sum:function(E,f,S,M){var y=M[f];return I(y)?(y=Number(y),S[E]+=y,y):0},avg:function(E,f,S,M,y){var u=M[f];return I(u)&&(u=Number(u),S[E]+=u,y[E]++),0},min:function(E,f,S,M){var y=M[f];if(I(y)){if(y=Number(y),!I(S[E]))return S[E]=y,y;if(S[E]>y){var u=y-S[E];return S[E]=y,u}}return 0},max:function(E,f,S,M){var y=M[f];if(I(y)){if(y=Number(y),!I(S[E]))return S[E]=y,y;if(S[E]<y){var u=y-S[E];return S[E]=y,u}}return 0}}},40965:function(oe,j,r){"use strict";var I=r(50606),E=I.ONEAVGYEAR,f=I.ONEAVGMONTH,S=I.ONEDAY,M=I.ONEHOUR,y=I.ONEMIN,u=I.ONESEC,i=r(89298).tickIncrement;function s(c,h,v,p){if(c*h<=0)return 1/0;for(var T=Math.abs(h-c),_="date"===v.type,g=a(T,_),w=0;w<10;w++){var x=a(80*g,_);if(g===x||!o(x,c,h,_,v,p))break;g=x}return g}function a(c,h){return h&&c>u?c>S?c>1.1*E?E:c>1.1*f?f:S:c>M?M:c>y?y:u:Math.pow(10,Math.floor(Math.log(c)/Math.LN10))}function o(c,h,v,p,T,_){if(p&&c>S){var g=l(h,T,_),w=l(v,T,_),x=c===E?0:1;return g[x]!==w[x]}return Math.floor(v/c)-Math.floor(h/c)>.1}function l(c,h,v){var p=h.c2d(c,E,v).split("-");return""===p[0]&&(p.unshift(),p[0]="-"+p[0]),p}oe.exports=function(c,h,v,p,T){var _,g,w=-1.1*h,x=-.1*h,b=c-x,A=v[0],m=v[1],C=Math.min(s(A+x,A+b,p,T),s(m+x,m+b,p,T)),k=Math.min(s(A+w,A+x,p,T),s(m+w,m+x,p,T));if(C>k&&k<Math.abs(m-A)/4e3?(_=C,g=!1):(_=Math.min(C,k),g=!0),"date"===p.type&&_>S){var P=_===E?1:6,R=_===E?"M12":"M1";return function(L,N){var B=p.c2d(L,E,T),J=B.indexOf("-",P);J>0&&(B=B.substr(0,J));var z=p.d2c(B,0,T);if(z<L){var Y=i(z,R,!1,T);(z+Y)/2<L+c&&(z=Y)}return N&&g?i(z,R,!0,T):z}}return function(L,N){var B=_*Math.round(L/_);return B+_/10<L&&B+.9*_<L+c&&(B+=_),N&&g&&(B-=_),B}}},72138:function(oe,j,r){"use strict";var I=r(92770),E=r(71828),f=r(73972),S=r(89298),M=r(75341),y=r(59575),u=r(36362),i=r(42174),s=r(40965);function a(o,l,c,h,v){var p,T,_,g,w,x,b,A=h+"bins",m=o._fullLayout,k=m._histogramBinOpts[l["_"+h+"bingroup"]],P="overlay"===m.barmode,R=function(ye){return c.r2c(ye,0,g)},L=function(ye){return c.c2r(ye,0,g)},N="date"===c.type?function(ye){return ye||0===ye?E.cleanDate(ye,null,g):null}:function(ye){return I(ye)?Number(ye):null};function B(ye,we,ze){we[ye+"Found"]?(we[ye]=N(we[ye]),null===we[ye]&&(we[ye]=ze[ye])):(x[ye]=we[ye]=ze[ye],E.nestedProperty(T[0],A+"."+ye).set(ze[ye]))}if(l["_"+h+"autoBinFinished"])delete l["_"+h+"autoBinFinished"];else{T=k.traces;var J=[],z=!0,Y=!1,q=!1;for(p=0;p<T.length;p++)if((_=T[p]).visible){var U=k.dirs[p];w=_["_"+U+"pos0"]=c.makeCalcdata(_,U),J=E.concat(J,w),delete _["_"+h+"autoBinFinished"],!0===l.visible&&(z?z=!1:(delete _._autoBin,_["_"+h+"autoBinFinished"]=1),f.traceIs(_,"2dMap")&&(Y=!0),"histogram2dcontour"===_.type&&(q=!0))}var Z=S.autoBin(J,c,k.nbins,Y,g=T[0][h+"calendar"],k.sizeFound&&k.size),X=T[0]._autoBin={};if(x=X[k.dirs[0]]={},q&&(k.size||(Z.start=L(S.tickIncrement(R(Z.start),Z.size,!0,g))),void 0===k.end&&(Z.end=L(S.tickIncrement(R(Z.end),Z.size,!1,g)))),P&&!f.traceIs(l,"2dMap")&&0===Z._dataSpan&&"category"!==c.type&&"multicategory"!==c.type){if(v)return[Z,w,!0];Z=function(ye,we,ze,ke,Ee){var me,de,ce,Ae=ye._fullLayout,Ne=function(st,gt){for(var ct=gt.xaxis,kt=gt.yaxis,Dt=gt.orientation,vt=[],mt=st._fullData,Et=0;Et<mt.length;Et++){var Lt=mt[Et];"histogram"===Lt.type&&!0===Lt.visible&&Lt.orientation===Dt&&Lt.xaxis===ct&&Lt.yaxis===kt&&vt.push(Lt)}return vt}(ye,we),De=!1,Ue=1/0,Ye=[we];for(me=0;me<Ne.length;me++)if((de=Ne[me])===we)De=!0;else if(De){var _e=a(ye,de,ze,ke,!0),Pe=_e[0],Ie=_e[2];de["_"+ke+"autoBinFinished"]=1,de["_"+ke+"pos0"]=_e[1],Ie?Ye.push(de):Ue=Math.min(Ue,Pe.size)}else ce=Ae._histogramBinOpts[de["_"+ke+"bingroup"]],Ue=Math.min(Ue,ce.size||de[Ee].size);var Be=new Array(Ye.length);for(me=0;me<Ye.length;me++)for(var We=Ye[me]["_"+ke+"pos0"],Ge=0;Ge<We.length;Ge++)if(void 0!==We[Ge]){Be[me]=We[Ge];break}for(isFinite(Ue)||(Ue=E.distinctVals(Be).minDiff),me=0;me<Ye.length;me++){var Ke=(de=Ye[me])[ke+"calendar"],tt={start:ze.c2r(Be[me]-Ue/2,0,Ke),end:ze.c2r(Be[me]+Ue/2,0,Ke),size:Ue};de._input[Ee]=de[Ee]=tt,(ce=Ae._histogramBinOpts[de["_"+ke+"bingroup"]])&&E.extendFlat(ce,tt)}return we[Ee]}(o,l,c,h,A)}(b=_.cumulative||{}).enabled&&"include"!==b.currentbin&&("decreasing"===b.direction?Z.start=L(S.tickIncrement(R(Z.start),Z.size,!0,g)):Z.end=L(S.tickIncrement(R(Z.end),Z.size,!1,g))),k.size=Z.size,k.sizeFound||(x.size=Z.size,E.nestedProperty(T[0],A+".size").set(Z.size)),B("start",k,Z),B("end",k,Z)}w=l["_"+h+"pos0"],delete l["_"+h+"pos0"];var se=l._input[A]||{},re=E.extendFlat({},k),ee=k.start,K=c.r2l(se.start),ne=void 0!==K;if((k.startFound||ne)&&K!==c.r2l(ee)){var ae=ne?K:E.aggNums(Math.min,null,w),ue={type:"category"===c.type||"multicategory"===c.type?"linear":c.type,r2l:c.r2l,dtick:k.size,tick0:ee,calendar:g,range:[ae,S.tickIncrement(ae,k.size,!1,g)].map(c.l2r)},he=S.tickFirst(ue);he>c.r2l(ae)&&(he=S.tickIncrement(he,k.size,!0,g)),re.start=c.l2r(he),ne||E.nestedProperty(l,A+".start").set(re.start)}var pe=k.end,ge=c.r2l(se.end),xe=void 0!==ge;if((k.endFound||xe)&&ge!==c.r2l(pe)){var Se=xe?ge:E.aggNums(Math.max,null,w);re.end=c.l2r(Se),xe||E.nestedProperty(l,A+".start").set(re.end)}var Te="autobin"+h;return!1===l._input[Te]&&(l._input[A]=E.extendFlat({},l[A]||{}),delete l._input[Te],delete l[Te]),[re,w]}oe.exports={calc:function(o,l){var c,h,v,p,T=[],_=[],g="h"===l.orientation,w=S.getFromId(o,g?l.yaxis:l.xaxis),x=g?"y":"x",b={x:"y",y:"x"}[x],A=l[x+"calendar"],m=l.cumulative,C=a(o,l,w,x),k=C[0],P=C[1],R="string"==typeof k.size,L=[],N=R?L:k,B=[],J=[],z=[],Y=0,q=l.histnorm,U=l.histfunc,Z=-1!==q.indexOf("density");m.enabled&&Z&&(q=q.replace(/ ?density$/,""),Z=!1);var X,se="max"===U||"min"===U?null:0,re=y.count,ee=u[q],K=!1,ne=function(de){return w.r2c(de,0,A)};for(E.isArrayOrTypedArray(l[b])&&"count"!==U&&(X=l[b],K="avg"===U,re=y[U]),c=ne(k.start),v=ne(k.end)+(c-S.tickIncrement(c,k.size,!1,A))/1e6;c<v&&T.length<1e6&&(h=S.tickIncrement(c,k.size,!1,A),T.push((c+h)/2),_.push(se),z.push([]),L.push(c),Z&&B.push(1/(h-c)),K&&J.push(0),!(h<=c));)c=h;L.push(c),R||"date"!==w.type||(N={start:ne(N.start),end:ne(N.end),size:N.size}),o._fullLayout._roundFnOpts||(o._fullLayout._roundFnOpts={});var ae=l["_"+x+"bingroup"],ue={leftGap:1/0,rightGap:1/0};ae&&(o._fullLayout._roundFnOpts[ae]||(o._fullLayout._roundFnOpts[ae]=ue),ue=o._fullLayout._roundFnOpts[ae]);var he,pe=_.length,ge=!0,xe=ue.leftGap,Se=ue.rightGap,Te={};for(c=0;c<P.length;c++){var ye=P[c];(p=E.findBin(ye,N))>=0&&p<pe&&(Y+=re(p,c,_,X,J),ge&&z[p].length&&ye!==P[z[p][0]]&&(ge=!1),z[p].push(c),Te[c]=p,xe=Math.min(xe,ye-L[p]),Se=Math.min(Se,L[p+1]-ye))}ue.leftGap=xe,ue.rightGap=Se,ge||(he=function(de,ce){return function(){var Ae=o._fullLayout._roundFnOpts[ae];return s(Ae.leftGap,Ae.rightGap,L,w,A)(de,ce)}}),K&&(Y=i(_,J)),ee&&ee(_,Y,B),m.enabled&&function(de,ce,Ae){var Ne,De,Ue;function Ye(Pe){Ue=de[Pe],de[Pe]/=2}function _e(Pe){de[Pe]=Ue+(De=de[Pe])/2,Ue+=De}if("half"===Ae)if("increasing"===ce)for(Ye(0),Ne=1;Ne<de.length;Ne++)_e(Ne);else for(Ye(de.length-1),Ne=de.length-2;Ne>=0;Ne--)_e(Ne);else if("increasing"===ce){for(Ne=1;Ne<de.length;Ne++)de[Ne]+=de[Ne-1];"exclude"===Ae&&(de.unshift(0),de.pop())}else{for(Ne=de.length-2;Ne>=0;Ne--)de[Ne]+=de[Ne+1];"exclude"===Ae&&(de.push(0),de.shift())}}(_,m.direction,m.currentbin);var we=Math.min(T.length,_.length),ze=[],ke=0,Ee=we-1;for(c=0;c<we;c++)if(_[c]){ke=c;break}for(c=we-1;c>=ke;c--)if(_[c]){Ee=c;break}for(c=ke;c<=Ee;c++)if(I(T[c])&&I(_[c])){var me={p:T[c],s:_[c],b:0};m.enabled||(me.pts=z[c],ge?me.ph0=me.ph1=z[c].length?P[z[c][0]]:T[c]:(l._computePh=!0,me.ph0=he(L[c]),me.ph1=he(L[c+1],!0))),ze.push(me)}return 1===ze.length&&(ze[0].width1=S.tickIncrement(ze[0].p,k.size,!1,A)-ze[0].p),M(ze,l),E.isArrayOrTypedArray(l.selectedpoints)&&E.tagSelected(ze,l,Te),ze},calcAllAutoBins:a}},72406:function(oe){"use strict";oe.exports={eventDataKeys:["binNumber"]}},82222:function(oe,j,r){"use strict";var I=r(71828),E=r(41675),f=r(73972).traceIs,S=r(26125),M=I.nestedProperty,y=r(99082).getAxisGroup,u=[{aStr:{x:"xbins.start",y:"ybins.start"},name:"start"},{aStr:{x:"xbins.end",y:"ybins.end"},name:"end"},{aStr:{x:"xbins.size",y:"ybins.size"},name:"size"},{aStr:{x:"nbinsx",y:"nbinsy"},name:"nbins"}],i=["x","y"];oe.exports=function(s,a){var o,l,c,h,v,p,T,_=a._histogramBinOpts={},g=[],w={},x=[];function b(Z,X){return I.coerce(o._input,o,o._module.attributes,Z,X)}function A(Z){return"v"===Z.orientation?"x":"y"}function m(Z,X,se){var re=Z.uid+"__"+se;X||(X=re);var ee=E.getFromTrace({_fullLayout:a},Z,se).type,K=Z[se+"calendar"]||"",ne=_[X],ae=!0;ne&&(ee===ne.axType&&K===ne.calendar?(ae=!1,ne.traces.push(Z),ne.dirs.push(se)):(X=re,ee!==ne.axType&&I.warn(["Attempted to group the bins of trace",Z.index,"set on a","type:"+ee,"axis","with bins on","type:"+ne.axType,"axis."].join(" ")),K!==ne.calendar&&I.warn(["Attempted to group the bins of trace",Z.index,"set with a",K,"calendar","with bins",ne.calendar?"on a "+ne.calendar+" calendar":"w/o a set calendar"].join(" ")))),ae&&(_[X]={traces:[Z],dirs:[se],axType:ee,calendar:Z[se+"calendar"]||""}),Z["_"+se+"bingroup"]=X}for(v=0;v<s.length;v++)f(o=s[v],"histogram")&&(g.push(o),delete o._xautoBinFinished,delete o._yautoBinFinished,f(o,"2dMap")||S(o._input,o,a,b));var C=a._alignmentOpts||{};for(v=0;v<g.length;v++){if(c="",!f(o=g[v],"2dMap")){if(h=A(o),"group"===a.barmode&&o.alignmentgroup){var P=y(a,o[h+"axis"])+o.orientation;(C[P]||{})[o.alignmentgroup]&&(c=P)}c||"overlay"===a.barmode||(c=y(a,o.xaxis)+y(a,o.yaxis)+A(o))}c?(w[c]||(w[c]=[]),w[c].push(o)):x.push(o)}for(c in w)if(1!==(l=w[c]).length){var R=!1;for(l.length&&(o=l[0],R=b("bingroup")),c=R||c,v=0;v<l.length;v++){var L=(o=l[v])._input.bingroup;L&&L!==c&&I.warn(["Trace",o.index,"must match","within bingroup",c+".","Ignoring its bingroup:",L,"setting."].join(" ")),o.bingroup=c,m(o,c,A(o))}}else x.push(l[0]);for(v=0;v<x.length;v++){o=x[v];var N=b("bingroup");if(f(o,"2dMap"))for(T=0;T<2;T++){var B=b((h=i[T])+"bingroup",N?N+"__"+h:null);m(o,B,h)}else m(o,N,A(o))}for(c in _){var J=_[c];for(l=J.traces,p=0;p<u.length;p++){var z,Y,q=u[p],U=q.name;if("nbins"!==U||!J.sizeFound){for(v=0;v<l.length;v++){if(void 0!==M((o=l[v])._input,z=q.aStr[h=J.dirs[v]]).get()){J[U]=b(z),J[U+"Found"]=!0;break}(Y=(o._autoBin||{})[h]||{})[U]&&M(o,z).set(Y[U])}if("start"===U||"end"===U)for(;v<l.length;v++)(o=l[v])["_"+h+"bingroup"]&&b(z,(Y=(o._autoBin||{})[h]||{})[U]);"nbins"!==U||J.sizeFound||J.nbinsFound||(o=l[0],J[U]=b(z))}}}}},11385:function(oe,j,r){"use strict";var I=r(73972),E=r(71828),f=r(7901),S=r(90769).handleText,M=r(98340),y=r(7745);oe.exports=function(u,i,s,a){function o(x,b){return E.coerce(u,i,y,x,b)}var l=o("x"),c=o("y");o("cumulative.enabled")&&(o("cumulative.direction"),o("cumulative.currentbin")),o("text");var h=o("textposition");S(u,i,a,o,h,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),o("hovertext"),o("hovertemplate"),o("xhoverformat"),o("yhoverformat");var v=o("orientation",c&&!l?"h":"v"),p="v"===v?"x":"y",T="v"===v?"y":"x",_=l&&c?Math.min(E.minRowLength(l)&&E.minRowLength(c)):E.minRowLength(i[p]||[]);if(_){i._length=_,I.getComponentMethod("calendars","handleTraceDefaults")(u,i,["x","y"],a),i[T]&&o("histfunc"),o("histnorm"),o("autobin"+p),M(u,i,o,s,a),E.coerceSelectionMarkerOpacity(i,o);var g=(i.marker.line||{}).color,w=I.getComponentMethod("errorbars","supplyDefaults");w(u,i,g||f.defaultLine,{axis:"y"}),w(u,i,g||f.defaultLine,{axis:"x",inherit:"y"})}else i.visible=!1}},84402:function(oe){"use strict";oe.exports=function(j,r,I,E,f){if(j.x="xVal"in r?r.xVal:r.x,j.y="yVal"in r?r.yVal:r.y,"zLabelVal"in r&&(j.z=r.zLabelVal),r.xa&&(j.xaxis=r.xa),r.ya&&(j.yaxis=r.ya),!(I.cumulative||{}).enabled){var S,M=Array.isArray(f)?E[0].pts[f[0]][f[1]]:E[f].pts;if(j.pointNumbers=M,j.binNumber=j.pointNumber,delete j.pointNumber,delete j.pointIndex,I._indexToPoints){S=[];for(var y=0;y<M.length;y++)S=S.concat(I._indexToPoints[M[y]])}else S=M;j.pointIndices=S}return j}},76440:function(oe,j,r){"use strict";var I=r(95423).hoverPoints,E=r(89298).hoverLabelText;oe.exports=function(f,S,M,y,u){var i=I(f,S,M,y,u);if(i){var s=(f=i[0]).cd[f.index],a=f.cd[0].trace;if(!a.cumulative.enabled){var o="h"===a.orientation?"y":"x";f[o+"Label"]=E(f[o+"a"],[s.ph0,s.ph1],a[o+"hoverformat"])}return i}}},36071:function(oe,j,r){"use strict";oe.exports={attributes:r(7745),layoutAttributes:r(43641),supplyDefaults:r(11385),crossTraceDefaults:r(82222),supplyLayoutDefaults:r(13957),calc:r(72138).calc,crossTraceCalc:r(11661).crossTraceCalc,plot:r(17295).plot,layerName:"barlayer",style:r(16688).style,styleOnSelect:r(16688).styleOnSelect,colorbar:r(4898),hoverPoints:r(76440),selectPoints:r(81974),eventData:r(84402),moduleType:"trace",name:"histogram",basePlotModule:r(93612),categories:["bar-like","cartesian","svg","bar","histogram","oriented","errorBarsOK","showLegend"],meta:{}}},36362:function(oe){"use strict";oe.exports={percent:function(j,r){for(var I=j.length,E=100/r,f=0;f<I;f++)j[f]*=E},probability:function(j,r){for(var I=j.length,E=0;E<I;E++)j[E]/=r},density:function(j,r,I,E){var f=j.length;E=E||1;for(var S=0;S<f;S++)j[S]*=I[S]*E},"probability density":function(j,r,I,E){var f=j.length;E&&(r/=E);for(var S=0;S<f;S++)j[S]*=I[S]/r}}},35361:function(oe,j,r){"use strict";var I=r(7745),E=r(17656),f=r(21606),S=r(9012),M=r(12663).axisHoverFormat,y=r(5386).fF,u=r(5386).si,i=r(50693),s=r(1426).extendFlat;oe.exports=s({x:I.x,y:I.y,z:{valType:"data_array",editType:"calc"},marker:{color:{valType:"data_array",editType:"calc"},editType:"calc"},histnorm:I.histnorm,histfunc:I.histfunc,nbinsx:I.nbinsx,xbins:E("x"),nbinsy:I.nbinsy,ybins:E("y"),autobinx:I.autobinx,autobiny:I.autobiny,bingroup:s({},I.bingroup,{}),xbingroup:s({},I.bingroup,{}),ybingroup:s({},I.bingroup,{}),xgap:f.xgap,ygap:f.ygap,zsmooth:f.zsmooth,xhoverformat:M("x"),yhoverformat:M("y"),zhoverformat:M("z",1),hovertemplate:y({},{keys:"z"}),texttemplate:u({arrayOk:!1,editType:"plot"},{keys:"z"}),textfont:f.textfont,showlegend:s({},S.showlegend,{dflt:!1})},i("",{cLetter:"z",autoColorDflt:!1}))},17562:function(oe,j,r){"use strict";var I=r(71828),E=r(89298),f=r(59575),S=r(36362),M=r(42174),y=r(40965),u=r(72138).calcAllAutoBins;function i(o,l,c,h){var v,p=new Array(o);if(h)for(v=0;v<o;v++)p[v]=1/(l[v+1]-l[v]);else{var T=1/c;for(v=0;v<o;v++)p[v]=T}return p}function s(o,l){return{start:o(l.start),end:o(l.end),size:l.size}}function a(o,l,c,h,v,p){var T,_=o.length-1,g=new Array(_),w=y(c,h,o,v,p);for(T=0;T<_;T++){var x=(l||[])[T];g[T]=void 0===x?[w(o[T]),w(o[T+1],!0)]:[x,x]}return g}oe.exports=function(o,l){var c,h,v,p,T=E.getFromId(o,l.xaxis),_=E.getFromId(o,l.yaxis),g=l.xcalendar,w=l.ycalendar,x=function(kt){return T.r2c(kt,0,g)},b=function(kt){return _.r2c(kt,0,w)},A=u(o,l,T,"x"),m=A[0],C=A[1],k=u(o,l,_,"y"),P=k[0],R=k[1],L=l._length;C.length>L&&C.splice(L,C.length-L),R.length>L&&R.splice(L,R.length-L);var N=[],B=[],J=[],z="string"==typeof m.size,Y="string"==typeof P.size,q=[],U=[],Z=z?q:m,X=Y?U:P,se=0,re=[],ee=[],K=l.histnorm,ne=l.histfunc,ae=-1!==K.indexOf("density"),ue="max"===ne||"min"===ne?null:0,he=f.count,pe=S[K],ge=!1,xe=[],Se=[],Te="z"in l?l.z:"marker"in l&&Array.isArray(l.marker.color)?l.marker.color:"";Te&&"count"!==ne&&(ge="avg"===ne,he=f[ne]);var ye=m.size,we=x(m.start),ze=x(m.end)+(we-E.tickIncrement(we,ye,!1,g))/1e6;for(c=we;c<ze;c=E.tickIncrement(c,ye,!1,g))B.push(ue),q.push(c),ge&&J.push(0);q.push(c);var Ee=B.length,me=(c-we)/Ee,de=T.c2r(we+me/2,0,g),ce=P.size,Ae=b(P.start),Ne=b(P.end)+(Ae-E.tickIncrement(Ae,ce,!1,w))/1e6;for(c=Ae;c<Ne;c=E.tickIncrement(c,ce,!1,w)){N.push(B.slice()),U.push(c);var De=new Array(Ee);for(h=0;h<Ee;h++)De[h]=[];ee.push(De),ge&&re.push(J.slice())}U.push(c);var Ue=N.length,Ye=(c-Ae)/Ue,_e=_.c2r(Ae+Ye/2,0,w);ae&&(xe=i(B.length,Z,me,z),Se=i(N.length,X,Ye,Y)),z||"date"!==T.type||(Z=s(x,Z)),Y||"date"!==_.type||(X=s(b,X));var Pe=!0,Ie=!0,Be=new Array(Ee),We=new Array(Ue),Ge=1/0,Ke=1/0,tt=1/0,st=1/0;for(c=0;c<L;c++){var gt=C[c],ct=R[c];v=I.findBin(gt,Z),p=I.findBin(ct,X),v>=0&&v<Ee&&p>=0&&p<Ue&&(se+=he(v,c,N[p],Te,re[p]),ee[p][v].push(c),Pe&&(void 0===Be[v]?Be[v]=gt:Be[v]!==gt&&(Pe=!1)),Ie&&(void 0===We[p]?We[p]=ct:We[p]!==ct&&(Ie=!1)),Ge=Math.min(Ge,gt-q[v]),Ke=Math.min(Ke,q[v+1]-gt),tt=Math.min(tt,ct-U[p]),st=Math.min(st,U[p+1]-ct))}if(ge)for(p=0;p<Ue;p++)se+=M(N[p],re[p]);if(pe)for(p=0;p<Ue;p++)pe(N[p],se,xe,Se[p]);return{x:C,xRanges:a(q,Pe&&Be,Ge,Ke,T,g),x0:de,dx:me,y:R,yRanges:a(U,Ie&&We,tt,st,_,w),y0:_e,dy:Ye,z:N,pts:ee}}},93888:function(oe,j,r){"use strict";var I=r(71828),E=r(75238),f=r(49901),S=r(1586),M=r(58623),y=r(35361);oe.exports=function(u,i,s,a){function o(l,c){return I.coerce(u,i,y,l,c)}E(u,i,o,a),!1!==i.visible&&(f(u,i,o,a),S(u,i,a,o,{prefix:"",cLetter:"z"}),o("hovertemplate"),M(o,a),o("xhoverformat"),o("yhoverformat"))}},76128:function(oe,j,r){"use strict";var I=r(46248),E=r(89298).hoverLabelText;oe.exports=function(f,S,M,y,u){var i=I(f,S,M,y,u);if(i){var s=(f=i[0]).index,l=f.cd[0],c=l.trace,h=l.xRanges[s[1]],v=l.yRanges[s[0]];return f.xLabel=E(f.xa,[h[0],h[1]],c.xhoverformat),f.yLabel=E(f.ya,[v[0],v[1]],c.yhoverformat),i}}},43905:function(oe,j,r){"use strict";oe.exports={attributes:r(35361),supplyDefaults:r(93888),crossTraceDefaults:r(82222),calc:r(90757),plot:r(50347),layerName:"heatmaplayer",colorbar:r(61243),style:r(70035),hoverPoints:r(76128),eventData:r(84402),moduleType:"trace",name:"histogram2d",basePlotModule:r(93612),categories:["cartesian","svg","2dMap","histogram","showLegend"],meta:{}}},75238:function(oe,j,r){"use strict";var I=r(73972),E=r(71828);oe.exports=function(f,S,M,y){var u=M("x"),i=M("y"),s=E.minRowLength(u),a=E.minRowLength(i);s&&a?(S._length=Math.min(s,a),I.getComponentMethod("calendars","handleTraceDefaults")(f,S,["x","y"],y),(M("z")||M("marker.color"))&&M("histfunc"),M("histnorm"),M("autobinx"),M("autobiny")):S.visible=!1}},99066:function(oe,j,r){"use strict";var I=r(35361),E=r(70600),f=r(50693),S=r(12663).axisHoverFormat,M=r(1426).extendFlat;oe.exports=M({x:I.x,y:I.y,z:I.z,marker:I.marker,histnorm:I.histnorm,histfunc:I.histfunc,nbinsx:I.nbinsx,xbins:I.xbins,nbinsy:I.nbinsy,ybins:I.ybins,autobinx:I.autobinx,autobiny:I.autobiny,bingroup:I.bingroup,xbingroup:I.xbingroup,ybingroup:I.ybingroup,autocontour:E.autocontour,ncontours:E.ncontours,contours:E.contours,line:{color:E.line.color,width:M({},E.line.width,{dflt:.5}),dash:E.line.dash,smoothing:E.line.smoothing,editType:"plot"},xhoverformat:S("x"),yhoverformat:S("y"),zhoverformat:S("z",1),hovertemplate:I.hovertemplate,texttemplate:E.texttemplate,textfont:E.textfont},f("",{cLetter:"z",editTypeOverride:"calc"}))},62654:function(oe,j,r){"use strict";var I=r(71828),E=r(75238),f=r(67217),S=r(8724),M=r(58623),y=r(99066);oe.exports=function(u,i,s,a){function o(l,c){return I.coerce(u,i,y,l,c)}E(u,i,o,a),!1!==i.visible&&(f(u,i,o,function(l){return I.coerce2(u,i,y,l)}),S(u,i,o,a),o("xhoverformat"),o("yhoverformat"),o("hovertemplate"),i.contours&&"heatmap"===i.contours.coloring&&M(o,a))}},35902:function(oe,j,r){"use strict";oe.exports={attributes:r(99066),supplyDefaults:r(62654),crossTraceDefaults:r(82222),calc:r(27529),plot:r(29854).plot,layerName:"contourlayer",style:r(84426),colorbar:r(90654),hoverPoints:r(52421),moduleType:"trace",name:"histogram2dcontour",basePlotModule:r(93612),categories:["cartesian","svg","2dMap","contour","histogram","showLegend"],meta:{}}},46291:function(oe,j,r){"use strict";var I=r(5386).fF,E=r(5386).si,f=r(50693),S=r(27670).Y,M=r(34e3),y=r(57564),u=r(45802),i=r(43473),s=r(1426).extendFlat,a=r(79952).u;oe.exports={labels:y.labels,parents:y.parents,values:y.values,branchvalues:y.branchvalues,count:y.count,level:y.level,maxdepth:y.maxdepth,tiling:{orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"plot"},flip:u.tiling.flip,pad:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},marker:s({colors:y.marker.colors,line:y.marker.line,pattern:a,editType:"calc"},f("marker",{colorAttr:"colors",anim:!1})),leaf:y.leaf,pathbar:u.pathbar,text:M.text,textinfo:y.textinfo,texttemplate:E({editType:"plot"},{keys:i.eventDataKeys.concat(["label","value"])}),hovertext:M.hovertext,hoverinfo:y.hoverinfo,hovertemplate:I({},{keys:i.eventDataKeys}),textfont:M.textfont,insidetextfont:M.insidetextfont,outsidetextfont:u.outsidetextfont,textposition:u.textposition,sort:M.sort,root:y.root,domain:S({name:"icicle",trace:!0,editType:"calc"})}},96346:function(oe,j,r){"use strict";var I=r(74875);j.name="icicle",j.plot=function(E,f,S,M){I.plotBasePlot(j.name,E,f,S,M)},j.clean=function(E,f,S,M){I.cleanBasePlot(j.name,E,f,S,M)}},46584:function(oe,j,r){"use strict";var I=r(52147);j.y=function(E,f){return I.calc(E,f)},j.T=function(E){return I._runCrossTraceCalc("icicle",E)}},56524:function(oe,j,r){"use strict";var I=r(71828),E=r(46291),f=r(7901),S=r(27670).c,M=r(90769).handleText,y=r(97313).TEXTPAD,u=r(37434).handleMarkerDefaults,i=r(21081),s=i.hasColorscale,a=i.handleDefaults;oe.exports=function(o,l,c,h){function v(b,A){return I.coerce(o,l,E,b,A)}var p=v("labels"),T=v("parents");if(p&&p.length&&T&&T.length){var _=v("values");v(_&&_.length?"branchvalues":"count"),v("level"),v("maxdepth"),v("tiling.orientation"),v("tiling.flip"),v("tiling.pad");var g=v("text");v("texttemplate"),l.texttemplate||v("textinfo",Array.isArray(g)?"text+label":"label"),v("hovertext"),v("hovertemplate");var w=v("pathbar.visible");M(o,l,h,v,"auto",{hasPathbar:w,moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),v("textposition"),u(o,l,h,v);var x=l._hasColorscale=s(o,"marker","colors")||(o.marker||{}).coloraxis;x&&a(o,l,h,v,{prefix:"marker.",cLetter:"c"}),v("leaf.opacity",x?1:.7),l._hovered={marker:{line:{width:2,color:f.contrast(h.paper_bgcolor)}}},w&&(v("pathbar.thickness",l.pathbar.textfont.size+2*y),v("pathbar.side"),v("pathbar.edgeshape")),v("sort"),v("root.color"),S(l,h,v),l._length=null}else l.visible=!1}},90666:function(oe,j,r){"use strict";var I=r(39898),E=r(71828),f=r(91424),S=r(63893),M=r(21538),y=r(82454).styleOne,u=r(43473),i=r(2791),s=r(83523),a=r(24714).formatSliceLabel,o=!1;oe.exports=function(l,c,h,v,p){var T=p.width,_=p.height,g=p.viewX,w=p.viewY,x=p.pathSlice,b=p.toMoveInsideSlice,A=p.strTransform,m=p.hasTransition,C=p.handleSlicesExit,k=p.makeUpdateSliceInterpolator,P=p.makeUpdateTextInterpolator,R=p.prevEntry,L=l._context.staticPlot,N=l._fullLayout,B=c[0].trace,J=-1!==B.textposition.indexOf("left"),z=-1!==B.textposition.indexOf("right"),Y=-1!==B.textposition.indexOf("bottom"),q=M(h,[T,_],{flipX:B.tiling.flip.indexOf("x")>-1,flipY:B.tiling.flip.indexOf("y")>-1,orientation:B.tiling.orientation,pad:{inner:B.tiling.pad},maxDepth:B._maxDepth}).descendants(),U=1/0,Z=-1/0;q.forEach(function(K){var ne=K.depth;ne>=B._maxDepth?(K.x0=K.x1=(K.x0+K.x1)/2,K.y0=K.y1=(K.y0+K.y1)/2):(U=Math.min(U,ne),Z=Math.max(Z,ne))}),v=v.data(q,i.getPtId),B._maxVisibleLayers=isFinite(Z)?Z-U+1:0,v.enter().append("g").classed("slice",!0),C(v,o,{},[T,_],x),v.order();var X=null;if(m&&R){var se=i.getPtId(R);v.each(function(K){null===X&&i.getPtId(K)===se&&(X={x0:K.x0,x1:K.x1,y0:K.y0,y1:K.y1})})}var re=function(){return X||{x0:0,x1:T,y0:0,y1:_}},ee=v;return m&&(ee=ee.transition().each("end",function(){var K=I.select(this);i.setSliceCursor(K,l,{hideOnRoot:!0,hideOnLeaves:!1,isTransitioning:!1})})),ee.each(function(K){K._x0=g(K.x0),K._x1=g(K.x1),K._y0=w(K.y0),K._y1=w(K.y1),K._hoverX=g(K.x1-B.tiling.pad),K._hoverY=w(Y?K.y1-B.tiling.pad/2:K.y0+B.tiling.pad/2);var ne=I.select(this),ae=E.ensureSingle(ne,"path","surface",function(ge){ge.style("pointer-events",L?"none":"all")});m?ae.transition().attrTween("d",function(ge){var xe=k(ge,o,re(),[T,_],{orientation:B.tiling.orientation,flipX:B.tiling.flip.indexOf("x")>-1,flipY:B.tiling.flip.indexOf("y")>-1});return function(Se){return x(xe(Se))}}):ae.attr("d",x),ne.call(s,h,l,c,{styleOne:y,eventDataKeys:u.eventDataKeys,transitionTime:u.CLICK_TRANSITION_TIME,transitionEasing:u.CLICK_TRANSITION_EASING}).call(i.setSliceCursor,l,{isTransitioning:l._transitioning}),ae.call(y,K,B,l,{hovered:!1}),K._text=K.x0===K.x1||K.y0===K.y1?"":a(K,h,B,c,N)||"";var ue=E.ensureSingle(ne,"g","slicetext"),he=E.ensureSingle(ue,"text","",function(ge){ge.attr("data-notex",1)}),pe=E.ensureUniformFontSize(l,i.determineTextFont(B,K,N.font));he.text(K._text||" ").classed("slicetext",!0).attr("text-anchor",z?"end":J?"start":"middle").call(f.font,pe).call(S.convertToTspans,l),K.textBB=f.bBox(he.node()),K.transform=b(K,{fontSize:pe.size}),K.transform.fontSize=pe.size,m?he.transition().attrTween("transform",function(ge){var xe=P(ge,o,re(),[T,_]);return function(Se){return A(xe(Se))}}):he.attr("transform",A(K))}),X}},69816:function(oe,j,r){"use strict";oe.exports={moduleType:"trace",name:"icicle",basePlotModule:r(96346),categories:[],animatable:!0,attributes:r(46291),layoutAttributes:r(92894),supplyDefaults:r(56524),supplyLayoutDefaults:r(21070),calc:r(46584).y,crossTraceCalc:r(46584).T,plot:r(85596),style:r(82454).style,colorbar:r(4898),meta:{}}},92894:function(oe){"use strict";oe.exports={iciclecolorway:{valType:"colorlist",editType:"calc"},extendiciclecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},21070:function(oe,j,r){"use strict";var I=r(71828),E=r(92894);oe.exports=function(f,S){function M(y,u){return I.coerce(f,S,E,y,u)}M("iciclecolorway",S.colorway),M("extendiciclecolors")}},21538:function(oe,j,r){"use strict";var I=r(674),E=r(14102);oe.exports=function(f,S,M){var y=M.flipX,u=M.flipY,i="h"===M.orientation,s=M.maxDepth,a=S[0],o=S[1];s&&(a=(f.height+1)*S[0]/Math.min(f.height+1,s),o=(f.height+1)*S[1]/Math.min(f.height+1,s));var l=I.partition().padding(M.pad.inner).size(i?[S[1],a]:[S[0],o])(f);return(i||y||u)&&E(l,S,{swapXY:i,flipX:y,flipY:u}),l}},85596:function(oe,j,r){"use strict";var I=r(80694),E=r(90666);oe.exports=function(f,S,M,y){return I(f,S,M,y,{type:"icicle",drawDescendants:E})}},82454:function(oe,j,r){"use strict";var I=r(39898),E=r(7901),f=r(71828),S=r(72597).resizeText,M=r(43467);function y(u,i,s,a){var l=!i.children,c=i.data.data.i,h=f.castOption(s,c,"marker.line.color")||E.defaultLine,v=f.castOption(s,c,"marker.line.width")||0;u.call(M,i,s,a).style("stroke-width",v).call(E.stroke,h).style("opacity",l?s.leaf.opacity:null)}oe.exports={style:function(u){var i=u._fullLayout._iciclelayer.selectAll(".trace");S(u,i,"icicle"),i.each(function(s){var a=I.select(this),o=s[0].trace;a.style("opacity",o.opacity),a.selectAll("path.surface").each(function(l){I.select(this).call(y,l,o,u)})})},styleOne:y}},17230:function(oe,j,r){"use strict";for(var I=r(9012),E=r(5386).fF,f=r(1426).extendFlat,S=r(51877).colormodel,M=["rgb","rgba","rgba256","hsl","hsla"],y=[],u=[],i=0;i<M.length;i++){var s=S[M[i]];y.push("For the `"+M[i]+"` colormodel, it is ["+(s.zminDflt||s.min).join(", ")+"]."),u.push("For the `"+M[i]+"` colormodel, it is ["+(s.zmaxDflt||s.max).join(", ")+"].")}oe.exports=f({source:{valType:"string",editType:"calc"},z:{valType:"data_array",editType:"calc"},colormodel:{valType:"enumerated",values:M,editType:"calc"},zsmooth:{valType:"enumerated",values:["fast",!1],dflt:!1,editType:"plot"},zmin:{valType:"info_array",items:[{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"}],editType:"calc"},zmax:{valType:"info_array",items:[{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"}],editType:"calc"},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dx:{valType:"number",dflt:1,editType:"calc"},dy:{valType:"number",dflt:1,editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"data_array",editType:"plot"},hoverinfo:f({},I.hoverinfo,{flags:["x","y","z","color","name","text"],dflt:"x+y+z+text+name"}),hovertemplate:E({},{keys:["z","color","colormodel"]}),transforms:void 0})},71113:function(oe,j,r){"use strict";var I=r(71828),E=r(51877),f=r(92770),S=r(89298),M=r(71828).maxRowLength,y=r(67395).A;function u(s,a,o,l){return function(c){return I.constrain((c-s)*a,o,l)}}function i(s,a){return function(o){return I.constrain(o,s,a)}}oe.exports=function(s,a){var o,l;if(a._hasZ)o=a.z.length,l=M(a.z);else if(a._hasSource){var c=y(a.source);o=c.height,l=c.width}var h,v=S.getFromId(s,a.xaxis||"x"),p=S.getFromId(s,a.yaxis||"y"),T=v.d2c(a.x0)-a.dx/2,_=p.d2c(a.y0)-a.dy/2,g=[T,T+l*a.dx],w=[_,_+o*a.dy];if(v&&"log"===v.type)for(h=0;h<l;h++)g.push(T+h*a.dx);if(p&&"log"===p.type)for(h=0;h<o;h++)w.push(_+h*a.dy);return a._extremes[v._id]=S.findExtremes(v,g),a._extremes[p._id]=S.findExtremes(p,w),a._scaler=function(x){var b=E.colormodel[x.colormodel],A=(b.colormodel||x.colormodel).length;x._sArray=[];for(var m=0;m<A;m++)x._sArray.push(b.min[m]!==x.zmin[m]||b.max[m]!==x.zmax[m]?u(x.zmin[m],(b.max[m]-b.min[m])/(x.zmax[m]-x.zmin[m]),b.min[m],b.max[m]):i(b.min[m],b.max[m]));return function(C){for(var k=C.slice(0,A),P=0;P<A;P++){var R=k[P];if(!f(R))return!1;k[P]=x._sArray[P](R)}return k}}(a),[{x0:T,y0:_,z:a.z,w:l,h:o}]}},51877:function(oe){"use strict";oe.exports={colormodel:{rgb:{min:[0,0,0],max:[255,255,255],fmt:function(j){return j.slice(0,3)},suffix:["","",""]},rgba:{min:[0,0,0,0],max:[255,255,255,1],fmt:function(j){return j.slice(0,4)},suffix:["","","",""]},rgba256:{colormodel:"rgba",zminDflt:[0,0,0,0],zmaxDflt:[255,255,255,255],min:[0,0,0,0],max:[255,255,255,1],fmt:function(j){return j.slice(0,4)},suffix:["","","",""]},hsl:{min:[0,0,0],max:[360,100,100],fmt:function(j){var r=j.slice(0,3);return r[1]=r[1]+"%",r[2]=r[2]+"%",r},suffix:["\xb0","%","%"]},hsla:{min:[0,0,0,0],max:[360,100,100,1],fmt:function(j){var r=j.slice(0,4);return r[1]=r[1]+"%",r[2]=r[2]+"%",r},suffix:["\xb0","%","%",""]}}}},13245:function(oe,j,r){"use strict";var I=r(71828),E=r(17230),f=r(51877),S=r(25095).IMAGE_URL_PREFIX;oe.exports=function(M,y){function u(a,o){return I.coerce(M,y,E,a,o)}u("source"),y.source&&!y.source.match(S)&&delete y.source,y._hasSource=!!y.source;var i,s=u("z");y._hasZ=!(void 0===s||!s.length||!s[0]||!s[0].length),y._hasZ||y._hasSource?(u("x0"),u("y0"),u("dx"),u("dy"),y._hasZ?(u("colormodel","rgb"),u("zmin",(i=f.colormodel[y.colormodel]).zminDflt||i.min),u("zmax",i.zmaxDflt||i.max)):y._hasSource&&(y.colormodel="rgba256",y.zmin=(i=f.colormodel[y.colormodel]).zminDflt,y.zmax=i.zmaxDflt),u("zsmooth"),u("text"),u("hovertext"),u("hovertemplate"),y._length=null):y.visible=!1}},30835:function(oe){"use strict";oe.exports=function(j,r){return"xVal"in r&&(j.x=r.xVal),"yVal"in r&&(j.y=r.yVal),r.xa&&(j.xaxis=r.xa),r.ya&&(j.yaxis=r.ya),j.color=r.color,j.colormodel=r.trace.colormodel,j.z||(j.z=r.color),j}},67395:function(oe,j,r){"use strict";var I=r(33575),E=r(25095).IMAGE_URL_PREFIX,f=r(12856).Buffer;j.A=function(S){var M=S.replace(E,""),y=new f(M,"base64");return I(y)}},28749:function(oe,j,r){"use strict";var I=r(30211),E=r(71828),f=r(51877);oe.exports=function(S,M,y){var u=S.cd[0],i=u.trace,s=S.xa,a=S.ya;if(!(I.inbox(M-u.x0,M-(u.x0+u.w*i.dx),0)>0||I.inbox(y-u.y0,y-(u.y0+u.h*i.dy),0)>0)){var o,l=Math.floor((M-u.x0)/i.dx),c=Math.floor(Math.abs(y-u.y0)/i.dy);if(i._hasZ?o=u.z[c][l]:i._hasSource&&(o=i._canvas.el.getContext("2d",{willReadFrequently:!0}).getImageData(l,c,1,1).data),o){var h,v=u.hi||i.hoverinfo;if(v){var p=v.split("+");-1!==p.indexOf("all")&&(p=["color"]),-1!==p.indexOf("color")&&(h=!0)}var T,_=f.colormodel[i.colormodel],g=_.colormodel||i.colormodel,w=g.length,x=i._scaler(o),b=_.suffix,A=[];(i.hovertemplate||h)&&(A.push("["+[x[0]+b[0],x[1]+b[1],x[2]+b[2]].join(", ")),4===w&&A.push(", "+x[3]+b[3]),A.push("]"),A=A.join(""),S.extraText=g.toUpperCase()+": "+A),Array.isArray(i.hovertext)&&Array.isArray(i.hovertext[c])?T=i.hovertext[c][l]:Array.isArray(i.text)&&Array.isArray(i.text[c])&&(T=i.text[c][l]);var m=a.c2p(u.y0+(c+.5)*i.dy),C=u.x0+(l+.5)*i.dx,k=u.y0+(c+.5)*i.dy,P="["+o.slice(0,i.colormodel.length).join(", ")+"]";return[E.extendFlat(S,{index:[c,l],x0:s.c2p(u.x0+l*i.dx),x1:s.c2p(u.x0+(l+1)*i.dx),y0:m,y1:m,color:x,xVal:C,xLabelVal:C,yVal:k,yLabelVal:k,zLabelVal:P,text:T,hovertemplateLabels:{zLabel:P,colorLabel:A,"color[0]Label":x[0]+b[0],"color[1]Label":x[1]+b[1],"color[2]Label":x[2]+b[2],"color[3]Label":x[3]+b[3]}})]}}}},94507:function(oe,j,r){"use strict";oe.exports={attributes:r(17230),supplyDefaults:r(13245),calc:r(71113),plot:r(60775),style:r(12826),hoverPoints:r(28749),eventData:r(30835),moduleType:"trace",name:"image",basePlotModule:r(93612),categories:["cartesian","svg","2dMap","noSortingByValue"],animatable:!1,meta:{}}},60775:function(oe,j,r){"use strict";var I=r(39898),E=r(71828),f=E.strTranslate,S=r(77922),M=r(51877),y=r(3883),u=r(32396).STYLE;oe.exports=function(i,s,a,o){var l=s.xaxis,c=s.yaxis,h=!i._context._exportedPlot&&y();E.makeTraceGroups(o,a,"im").each(function(v){var p=I.select(this),T=v[0],_=T.trace,g=("fast"===_.zsmooth||!1===_.zsmooth&&h)&&!_._hasZ&&_._hasSource&&"linear"===l.type&&"linear"===c.type;_._realImage=g;var w,x,b,A,m,C,k=T.z,P=T.x0,R=T.y0,L=T.w,N=T.h,B=_.dx,J=_.dy;for(C=0;void 0===w&&C<L;)w=l.c2p(P+C*B),C++;for(C=L;void 0===x&&C>0;)x=l.c2p(P+C*B),C--;for(C=0;void 0===A&&C<N;)A=c.c2p(R+C*J),C++;for(C=N;void 0===m&&C>0;)m=c.c2p(R+C*J),C--;x<w&&(b=x,x=w,w=b),m<A&&(b=A,A=m,m=b),g||(w=Math.max(-.5*l._length,w),x=Math.min(1.5*l._length,x),A=Math.max(-.5*c._length,A),m=Math.min(1.5*c._length,m));var z=Math.round(x-w),Y=Math.round(m-A);if(z<=0||Y<=0)p.selectAll("image").data([]).exit().remove();else{var q=p.selectAll("image").data([v]);q.enter().append("svg:image").attr({xmlns:S.svg,preserveAspectRatio:"none"}),q.exit().remove();var U=!1===_.zsmooth?u:"";if(g){var Z=E.simpleMap(l.range,l.r2l),X=E.simpleMap(c.range,c.r2l),se=Z[1]<Z[0],re=X[1]>X[0];if(se||re){var ee=w+z/2,K=A+Y/2;U+="transform:"+f(ee+"px",K+"px")+"scale("+(se?-1:1)+","+(re?-1:1)+")"+f(-ee+"px",-K+"px")+";"}}q.attr("style",U);var ne=new Promise(function(ue){if(_._hasZ)ue();else if(_._hasSource)if(_._canvas&&_._canvas.el.width===L&&_._canvas.el.height===N&&_._canvas.source===_.source)ue();else{var he=document.createElement("canvas");he.width=L,he.height=N;var pe=he.getContext("2d",{willReadFrequently:!0});_._image=_._image||new Image;var ge=_._image;ge.onload=function(){pe.drawImage(ge,0,0),_._canvas={el:he,source:_.source},ue()},ge.setAttribute("src",_.source)}}).then(function(){var ue;if(_._hasZ)ue=ae(function(ge,xe){return k[xe][ge]}).toDataURL("image/png");else if(_._hasSource)if(g)ue=_.source;else{var pe=_._canvas.el.getContext("2d",{willReadFrequently:!0}).getImageData(0,0,L,N).data;ue=ae(function(ge,xe){var Se=4*(xe*L+ge);return[pe[Se],pe[Se+1],pe[Se+2],pe[Se+3]]}).toDataURL("image/png")}q.attr({"xlink:href":ue,height:Y,width:z,x:w,y:A})});i._promises.push(ne)}function ae(ue){var he=document.createElement("canvas");he.width=z,he.height=Y;var pe,ge=he.getContext("2d",{willReadFrequently:!0}),xe=function(ce){return E.constrain(Math.round(l.c2p(P+ce*B)-w),0,z)},Se=function(ce){return E.constrain(Math.round(c.c2p(R+ce*J)-A),0,Y)},Te=M.colormodel[_.colormodel],ye=Te.colormodel||_.colormodel,we=Te.fmt;for(C=0;C<T.w;C++){var ze=xe(C),ke=xe(C+1);if(ke!==ze&&!isNaN(ke)&&!isNaN(ze))for(var Ee=0;Ee<T.h;Ee++){var me=Se(Ee),de=Se(Ee+1);de===me||isNaN(de)||isNaN(me)||!ue(C,Ee)||(pe=_._scaler(ue(C,Ee)),ge.fillStyle=pe?ye+"("+we(pe).join(",")+")":"rgba(0,0,0,0)",ge.fillRect(ze,me,ke-ze,de-me))}}return he}})}},12826:function(oe,j,r){"use strict";var I=r(39898);oe.exports=function(E){I.select(E).selectAll(".im image").style("opacity",function(f){return f[0].trace.opacity})}},54846:function(oe,j,r){"use strict";var I=r(1426).extendFlat,E=r(1426).extendDeep,f=r(30962).overrideAll,S=r(41940),M=r(22399),y=r(27670).Y,u=r(13838),i=r(44467).templatedArray,s=r(22372),a=r(12663).descriptionOnlyNumbers,o=S({editType:"plot",colorEditType:"plot"}),l={color:{valType:"color",editType:"plot"},line:{color:{valType:"color",dflt:M.defaultLine,editType:"plot"},width:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},thickness:{valType:"number",min:0,max:1,dflt:1,editType:"plot"},editType:"calc"},c={valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],editType:"plot"},h=i("step",E({},l,{range:c}));oe.exports={mode:{valType:"flaglist",editType:"calc",flags:["number","delta","gauge"],dflt:"number"},value:{valType:"number",editType:"calc",anim:!0},align:{valType:"enumerated",values:["left","center","right"],editType:"plot"},domain:y({name:"indicator",trace:!0,editType:"calc"}),title:{text:{valType:"string",editType:"plot"},align:{valType:"enumerated",values:["left","center","right"],editType:"plot"},font:I({},o,{}),editType:"plot"},number:{valueformat:{valType:"string",dflt:"",editType:"plot",description:a("value")},font:I({},o,{}),prefix:{valType:"string",dflt:"",editType:"plot"},suffix:{valType:"string",dflt:"",editType:"plot"},editType:"plot"},delta:{reference:{valType:"number",editType:"calc"},position:{valType:"enumerated",values:["top","bottom","left","right"],dflt:"bottom",editType:"plot"},relative:{valType:"boolean",editType:"plot",dflt:!1},valueformat:{valType:"string",editType:"plot",description:a("value")},increasing:{symbol:{valType:"string",dflt:s.INCREASING.SYMBOL,editType:"plot"},color:{valType:"color",dflt:s.INCREASING.COLOR,editType:"plot"},editType:"plot"},decreasing:{symbol:{valType:"string",dflt:s.DECREASING.SYMBOL,editType:"plot"},color:{valType:"color",dflt:s.DECREASING.COLOR,editType:"plot"},editType:"plot"},font:I({},o,{}),prefix:{valType:"string",dflt:"",editType:"plot"},suffix:{valType:"string",dflt:"",editType:"plot"},editType:"calc"},gauge:{shape:{valType:"enumerated",editType:"plot",dflt:"angular",values:["angular","bullet"]},bar:E({},l,{color:{dflt:"green"}}),bgcolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:M.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:1,editType:"plot"},axis:f({range:c,visible:I({},u.visible,{dflt:!0}),tickmode:u.minor.tickmode,nticks:u.nticks,tick0:u.tick0,dtick:u.dtick,tickvals:u.tickvals,ticktext:u.ticktext,ticks:I({},u.ticks,{dflt:"outside"}),ticklen:u.ticklen,tickwidth:u.tickwidth,tickcolor:u.tickcolor,ticklabelstep:u.ticklabelstep,showticklabels:u.showticklabels,labelalias:u.labelalias,tickfont:S({}),tickangle:u.tickangle,tickformat:u.tickformat,tickformatstops:u.tickformatstops,tickprefix:u.tickprefix,showtickprefix:u.showtickprefix,ticksuffix:u.ticksuffix,showticksuffix:u.showticksuffix,separatethousands:u.separatethousands,exponentformat:u.exponentformat,minexponent:u.minexponent,showexponent:u.showexponent,editType:"plot"},"plot"),steps:h,threshold:{line:{color:I({},l.line.color,{}),width:I({},l.line.width,{dflt:1}),editType:"plot"},thickness:I({},l.thickness,{dflt:.85}),value:{valType:"number",editType:"calc",dflt:!1},editType:"plot"},editType:"plot"}}},15970:function(oe,j,r){"use strict";var I=r(74875);j.name="indicator",j.plot=function(E,f,S,M){I.plotBasePlot(j.name,E,f,S,M)},j.clean=function(E,f,S,M){I.cleanBasePlot(j.name,E,f,S,M)}},24667:function(oe){"use strict";oe.exports={calc:function(j,r){var I=[],E=r.value;"number"!=typeof r._lastValue&&(r._lastValue=r.value);var f=r._lastValue,S=f;return r._hasDelta&&"number"==typeof r.delta.reference&&(S=r.delta.reference),I[0]={y:E,lastY:f,delta:E-S,relativeDelta:(E-S)/S},I}}},84577:function(oe){"use strict";oe.exports={defaultNumberFontSize:80,bulletNumberDomainSize:.25,bulletPadding:.025,innerRadius:.75,valueThickness:.5,titlePadding:5,horizontalPadding:10}},94425:function(oe,j,r){"use strict";var I=r(71828),E=r(54846),f=r(27670).c,S=r(44467),M=r(85501),y=r(84577),u=r(26218),i=r(38701),s=r(96115),a=r(89426);function o(l,c){function h(v,p){return I.coerce(l,c,E.gauge.steps,v,p)}h("color"),h("line.color"),h("line.width"),h("range"),h("thickness")}oe.exports={supplyDefaults:function(l,c,h,v){function p(R,L){return I.coerce(l,c,E,R,L)}f(c,v,p),p("mode"),c._hasNumber=-1!==c.mode.indexOf("number"),c._hasDelta=-1!==c.mode.indexOf("delta"),c._hasGauge=-1!==c.mode.indexOf("gauge");var T=p("value");c._range=[0,"number"==typeof T?1.5*T:1];var _,g,w,x,b,A,m=new Array(2);function C(R,L){return I.coerce(w,x,E.gauge,R,L)}function k(R,L){return I.coerce(b,A,E.gauge.axis,R,L)}if(c._hasNumber&&(p("number.valueformat"),p("number.font.color",v.font.color),p("number.font.family",v.font.family),p("number.font.size"),void 0===c.number.font.size&&(c.number.font.size=y.defaultNumberFontSize,m[0]=!0),p("number.prefix"),p("number.suffix"),_=c.number.font.size),c._hasDelta&&(p("delta.font.color",v.font.color),p("delta.font.family",v.font.family),p("delta.font.size"),void 0===c.delta.font.size&&(c.delta.font.size=(c._hasNumber?.5:1)*(_||y.defaultNumberFontSize),m[1]=!0),p("delta.reference",c.value),p("delta.relative"),p("delta.valueformat",c.delta.relative?"2%":""),p("delta.increasing.symbol"),p("delta.increasing.color"),p("delta.decreasing.symbol"),p("delta.decreasing.color"),p("delta.position"),p("delta.prefix"),p("delta.suffix"),g=c.delta.font.size),c._scaleNumbers=(!c._hasNumber||m[0])&&(!c._hasDelta||m[1])||!1,p("title.font.color",v.font.color),p("title.font.family",v.font.family),p("title.font.size",.25*(_||g||y.defaultNumberFontSize)),p("title.text"),c._hasGauge){(w=l.gauge)||(w={}),x=S.newContainer(c,"gauge"),C("shape"),(c._isBullet="bullet"===c.gauge.shape)||p("title.align","center"),(c._isAngular="angular"===c.gauge.shape)||p("align","center"),C("bgcolor",v.paper_bgcolor),C("borderwidth"),C("bordercolor"),C("bar.color"),C("bar.line.color"),C("bar.line.width"),C("bar.thickness",y.valueThickness*("bullet"===c.gauge.shape?.5:1)),M(w,x,{name:"steps",handleItemDefaults:o}),C("threshold.value"),C("threshold.thickness"),C("threshold.line.width"),C("threshold.line.color"),b={},w&&(b=w.axis||{}),A=S.newContainer(x,"axis"),k("visible"),c._range=k("range",c._range);var P={outerTicks:!0};u(b,A,k,"linear"),a(b,A,k,"linear",P),s(b,A,k,"linear",P),i(b,A,k,P)}else p("title.align","center"),p("align","center"),c._isAngular=c._isBullet=!1;c._length=null}}},15154:function(oe,j,r){"use strict";oe.exports={moduleType:"trace",name:"indicator",basePlotModule:r(15970),categories:["svg","noOpacity","noHover"],animatable:!0,attributes:r(54846),supplyDefaults:r(94425).supplyDefaults,calc:r(24667).calc,plot:r(75634),meta:{}}},75634:function(oe,j,r){"use strict";var I=r(39898),E=r(81684).sX,f=r(81684).k4,S=r(71828),M=S.strScale,y=S.strTranslate,u=S.rad2deg,i=r(18783).MID_SHIFT,s=r(91424),a=r(84577),o=r(63893),l=r(89298),c=r(71453),h=r(52830),v=r(13838),p=r(7901),T={left:"start",center:"middle",right:"end"},_={left:0,center:.5,right:1},g=/[yzafpn\xb5mkMGTPEZY]/;function w(k){return k&&k.duration>0}function x(k){k.each(function(P){p.stroke(I.select(this),P.line.color)}).each(function(P){p.fill(I.select(this),P.color)}).style("stroke-width",function(P){return P.line.width})}function b(k,P,R){var L=k._fullLayout,N=S.extendFlat({type:"linear",ticks:"outside",range:R,showline:!0},P),B={type:"linear",_id:"x"+P._id},J={letter:"x",font:L.font,noHover:!0,noTickson:!0};function z(Y,q){return S.coerce(N,B,v,Y,q)}return c(N,B,z,J,L),h(N,B,z,J),B}function A(k,P,R){return[Math.min(P/k.width,R/k.height),k,P+"x"+R]}function m(k,P,R,L){var N=document.createElementNS("http://www.w3.org/2000/svg","text"),B=I.select(N);return B.text(k).attr("x",0).attr("y",0).attr("text-anchor",R).attr("data-unformatted",k).call(o.convertToTspans,L).call(s.font,P),s.bBox(B.node())}function C(k,P,R,L,N,B){var J="_cache"+P;k[J]&&k[J].key===N||(k[J]={key:N,value:R});var z=S.aggNums(B,null,[k[J].value,L],2);return k[J].value=z,z}oe.exports=function(k,P,R,L){var N,B=k._fullLayout;w(R)&&L&&(N=L()),S.makeTraceGroups(B._indicatorlayer,P,"trace").each(function(J){var z,Y,q,U,Z,X=J[0].trace,se=I.select(this),re=X._hasGauge,ee=X._isAngular,K=X._isBullet,ne=X.domain,ae={w:B._size.w*(ne.x[1]-ne.x[0]),h:B._size.h*(ne.y[1]-ne.y[0]),l:B._size.l+B._size.w*ne.x[0],r:B._size.r+B._size.w*(1-ne.x[1]),t:B._size.t+B._size.h*(1-ne.y[1]),b:B._size.b+B._size.h*ne.y[0]},ue=ae.l+ae.w/2,he=ae.t+ae.h/2,pe=Math.min(ae.w/2,ae.h),ge=a.innerRadius*pe,xe=X.align||"center";if(Y=he,re){if(ee&&(z=ue,Y=he+pe/2,q=function(me){return de=me,[(ce=.9*ge)/Math.sqrt(de.width/2*(de.width/2)+de.height*de.height),de,ce];var de,ce}),K){var Se=a.bulletPadding,Te=1-a.bulletNumberDomainSize+Se;z=ae.l+(Te+(1-Te)*_[xe])*ae.w,q=function(me){return A(me,(a.bulletNumberDomainSize-Se)*ae.w,ae.h)}}}else z=ae.l+_[xe]*ae.w,q=function(me){return A(me,ae.w,ae.h)};(function(me,de,ce,Ae){var Ne,De,Ue,Ye=ce[0].trace,_e=Ae.numbersX,Pe=Ae.numbersY,Ie=Ye.align||"center",Be=T[Ie],We=Ae.transitionOpts,Ge=Ae.onComplete,Ke=S.ensureSingle(de,"g","numbers"),tt=[];Ye._hasNumber&&tt.push("number"),Ye._hasDelta&&(tt.push("delta"),"left"===Ye.delta.position&&tt.reverse());var st=Ke.selectAll("text").data(tt);function gt(Rt,Ut,Bt,rt){if(!Rt.match("s")||Bt>=0==rt>=0||Ut(Bt).slice(-1).match(g)||Ut(rt).slice(-1).match(g))return Ut;var ot=Rt.slice().replace("s","f").replace(/\d+/,function(it){return parseInt(it)-1}),Je=b(me,{tickformat:ot});return function(it){return Math.abs(it)<1?l.tickText(Je,it).text:Ut(it)}}st.enter().append("text"),st.attr("text-anchor",function(){return Be}).attr("class",function(Rt){return Rt}).attr("x",null).attr("y",null).attr("dx",null).attr("dy",null),st.exit().remove();var ct,kt=Ye.mode+Ye.align;if(Ye._hasDelta&&(ct=function(){var Rt=b(me,{tickformat:Ye.delta.valueformat},Ye._range);Rt.setScale(),l.prepTicks(Rt);var Ut=function(Ve){return l.tickText(Rt,Ve).text},Bt=Ye.delta.suffix,rt=Ye.delta.prefix,ot=function(Ve){return Ye.delta.relative?Ve.relativeDelta:Ve.delta},Je=function(Ve,qe){return 0===Ve||"number"!=typeof Ve||isNaN(Ve)?"-":(Ve>0?Ye.delta.increasing.symbol:Ye.delta.decreasing.symbol)+rt+qe(Ve)+Bt},it=function(Ve){return Ve.delta>=0?Ye.delta.increasing.color:Ye.delta.decreasing.color};void 0===Ye._deltaLastValue&&(Ye._deltaLastValue=ot(ce[0]));var dt=Ke.select("text.delta");function ht(){dt.text(Je(ot(ce[0]),Ut)).call(p.fill,it(ce[0])).call(o.convertToTspans,me)}return dt.call(s.font,Ye.delta.font).call(p.fill,it({delta:Ye._deltaLastValue})),w(We)?dt.transition().duration(We.duration).ease(We.easing).tween("text",function(){var Ve=I.select(this),qe=ot(ce[0]),ut=Ye._deltaLastValue,ft=gt(Ye.delta.valueformat,Ut,ut,qe),St=f(ut,qe);return Ye._deltaLastValue=qe,function(Mt){Ve.text(Je(St(Mt),ft)),Ve.call(p.fill,it({delta:St(Mt)}))}}).each("end",function(){ht(),Ge&&Ge()}).each("interrupt",function(){ht(),Ge&&Ge()}):ht(),De=m(Je(ot(ce[0]),Ut),Ye.delta.font,Be,me),dt}(),kt+=Ye.delta.position+Ye.delta.font.size+Ye.delta.font.family+Ye.delta.valueformat,kt+=Ye.delta.increasing.symbol+Ye.delta.decreasing.symbol,Ue=De),Ye._hasNumber&&(function(){var Rt=b(me,{tickformat:Ye.number.valueformat},Ye._range);Rt.setScale(),l.prepTicks(Rt);var Ut=function(it){return l.tickText(Rt,it).text},Bt=Ye.number.suffix,rt=Ye.number.prefix,ot=Ke.select("text.number");function Je(){var it="number"==typeof ce[0].y?rt+Ut(ce[0].y)+Bt:"-";ot.text(it).call(s.font,Ye.number.font).call(o.convertToTspans,me)}w(We)?ot.transition().duration(We.duration).ease(We.easing).each("end",function(){Je(),Ge&&Ge()}).each("interrupt",function(){Je(),Ge&&Ge()}).attrTween("text",function(){var it=I.select(this),dt=f(ce[0].lastY,ce[0].y);Ye._lastValue=ce[0].y;var ht=gt(Ye.number.valueformat,Ut,ce[0].lastY,ce[0].y);return function(Ve){it.text(rt+ht(dt(Ve))+Bt)}}):Je(),Ne=m(rt+Ut(ce[0].y)+Bt,Ye.number.font,Be,me)}(),kt+=Ye.number.font.size+Ye.number.font.family+Ye.number.valueformat+Ye.number.suffix+Ye.number.prefix,Ue=Ne),Ye._hasDelta&&Ye._hasNumber){var Dt,vt,mt=[(Ne.left+Ne.right)/2,(Ne.top+Ne.bottom)/2],Et=[(De.left+De.right)/2,(De.top+De.bottom)/2],Lt=.75*Ye.delta.font.size;"left"===Ye.delta.position&&(Dt=C(Ye,"deltaPos",0,-1*(Ne.width*_[Ye.align]+De.width*(1-_[Ye.align])+Lt),kt,Math.min),vt=mt[1]-Et[1],Ue={width:Ne.width+De.width+Lt,height:Math.max(Ne.height,De.height),left:De.left+Dt,right:Ne.right,top:Math.min(Ne.top,De.top+vt),bottom:Math.max(Ne.bottom,De.bottom+vt)}),"right"===Ye.delta.position&&(Dt=C(Ye,"deltaPos",0,Ne.width*(1-_[Ye.align])+De.width*_[Ye.align]+Lt,kt,Math.max),vt=mt[1]-Et[1],Ue={width:Ne.width+De.width+Lt,height:Math.max(Ne.height,De.height),left:Ne.left,right:De.right+Dt,top:Math.min(Ne.top,De.top+vt),bottom:Math.max(Ne.bottom,De.bottom+vt)}),"bottom"===Ye.delta.position&&(Dt=null,vt=De.height,Ue={width:Math.max(Ne.width,De.width),height:Ne.height+De.height,left:Math.min(Ne.left,De.left),right:Math.max(Ne.right,De.right),top:Ne.bottom-Ne.height,bottom:Ne.bottom+De.height}),"top"===Ye.delta.position&&(Dt=null,vt=Ne.top,Ue={width:Math.max(Ne.width,De.width),height:Ne.height+De.height,left:Math.min(Ne.left,De.left),right:Math.max(Ne.right,De.right),top:Ne.bottom-Ne.height-De.height,bottom:Ne.bottom}),ct.attr({dx:Dt,dy:vt})}(Ye._hasNumber||Ye._hasDelta)&&Ke.attr("transform",function(){var Ut,Rt=Ae.numbersScaler(Ue),Bt=C(Ye,"numbersScale",1,Rt[0],kt+=Rt[2],Math.min);Ye._scaleNumbers||(Bt=1),Ye._numbersTop=Bt*Ue.top+(Ut=Ye._isAngular?Pe-Bt*Ue.bottom:Pe-Bt*(Ue.top+Ue.bottom)/2);var rt=Ue[Ie];"center"===Ie&&(rt=(Ue.left+Ue.right)/2);var ot=_e-Bt*rt;return ot=C(Ye,"numbersTranslate",0,ot,kt,Math.max),y(ot,Ut)+M(Bt)})})(k,se,J,{numbersX:z,numbersY:Y,numbersScaler:q,transitionOpts:R,onComplete:N}),re&&(U={range:X.gauge.axis.range,color:X.gauge.bgcolor,line:{color:X.gauge.bordercolor,width:0},thickness:1},Z={range:X.gauge.axis.range,color:"rgba(0, 0, 0, 0)",line:{color:X.gauge.bordercolor,width:X.gauge.borderwidth},thickness:1});var ye=se.selectAll("g.angular").data(ee?J:[]);ye.exit().remove();var we=se.selectAll("g.angularaxis").data(ee?J:[]);we.exit().remove(),ee&&function(me,de,ce,Ae){var Ne,De,Ue,Ye,_e=ce[0].trace,Pe=Ae.size,Ie=Ae.radius,Be=Ae.innerRadius,We=Ae.gaugeBg,Ge=Ae.gaugeOutline,Ke=[Pe.l+Pe.w/2,Pe.t+Pe.h/2+Ie/2],tt=Ae.gauge,st=Ae.layer,gt=Ae.transitionOpts,ct=Ae.onComplete,kt=Math.PI/2;function Dt(Mt){var Tt=_e.gauge.axis.range[0],xt=(Mt-Tt)/(_e.gauge.axis.range[1]-Tt)*Math.PI-kt;return xt<-kt?-kt:xt>kt?kt:xt}function vt(Mt){return I.svg.arc().innerRadius((Be+Ie)/2-Mt/2*(Ie-Be)).outerRadius((Be+Ie)/2+Mt/2*(Ie-Be)).startAngle(-kt)}function mt(Mt){Mt.attr("d",function(Tt){return vt(Tt.thickness).startAngle(Dt(Tt.range[0])).endAngle(Dt(Tt.range[1]))()})}tt.enter().append("g").classed("angular",!0),tt.attr("transform",y(Ke[0],Ke[1])),st.enter().append("g").classed("angularaxis",!0).classed("crisp",!0),st.selectAll("g.xangularaxistick,path,text").remove(),(Ne=b(me,_e.gauge.axis)).type="linear",Ne.range=_e.gauge.axis.range,Ne._id="xangularaxis",Ne.ticklabeloverflow="allow",Ne.setScale();var Et=function(Mt){return(Ne.range[0]-Mt.x)/(Ne.range[1]-Ne.range[0])*Math.PI+Math.PI},Lt={},Rt=l.makeLabelFns(Ne,0).labelStandoff;Lt.xFn=function(Mt){var Tt=Et(Mt);return Math.cos(Tt)*Rt},Lt.yFn=function(Mt){var Tt=Et(Mt),xt=Math.sin(Tt)>0?.2:1;return-Math.sin(Tt)*(Rt+Mt.fontSize*xt)+Math.abs(Math.cos(Tt))*(Mt.fontSize*i)},Lt.anchorFn=function(Mt){var Tt=Et(Mt),xt=Math.cos(Tt);return Math.abs(xt)<.1?"middle":xt>0?"start":"end"},Lt.heightFn=function(Mt,Tt,xt){var Nt=Et(Mt);return-.5*(1+Math.sin(Nt))*xt};var Ut=function(Mt){return y(Ke[0]+Ie*Math.cos(Mt),Ke[1]-Ie*Math.sin(Mt))};Ue=function(Mt){return Ut(Et(Mt))},De=l.calcTicks(Ne),Ye=l.getTickSigns(Ne)[2],Ne.visible&&(l.drawTicks(me,Ne,{vals:De,layer:st,path:"M"+(Ye="inside"===Ne.ticks?-1:1)*((Ne.linewidth||1)/2)+",0h"+Ye*Ne.ticklen,transFn:function(Mt){var Tt=Et(Mt);return Ut(Tt)+"rotate("+-u(Tt)+")"}}),l.drawLabels(me,Ne,{vals:De,layer:st,transFn:Ue,labelFns:Lt}));var rt=[We].concat(_e.gauge.steps),ot=tt.selectAll("g.bg-arc").data(rt);ot.enter().append("g").classed("bg-arc",!0).append("path"),ot.select("path").call(mt).call(x),ot.exit().remove();var Je=vt(_e.gauge.bar.thickness),it=tt.selectAll("g.value-arc").data([_e.gauge.bar]);it.enter().append("g").classed("value-arc",!0).append("path");var dt,ht,Ve,qe=it.select("path");w(gt)?(qe.transition().duration(gt.duration).ease(gt.easing).each("end",function(){ct&&ct()}).each("interrupt",function(){ct&&ct()}).attrTween("d",(dt=Je,ht=Dt(ce[0].lastY),Ve=Dt(ce[0].y),function(){var Mt=E(ht,Ve);return function(Tt){return dt.endAngle(Mt(Tt))()}})),_e._lastValue=ce[0].y):qe.attr("d","number"==typeof ce[0].y?Je.endAngle(Dt(ce[0].y)):"M0,0Z"),qe.call(x),it.exit().remove(),rt=[];var ut=_e.gauge.threshold.value;(ut||0===ut)&&rt.push({range:[ut,ut],color:_e.gauge.threshold.color,line:{color:_e.gauge.threshold.line.color,width:_e.gauge.threshold.line.width},thickness:_e.gauge.threshold.thickness});var ft=tt.selectAll("g.threshold-arc").data(rt);ft.enter().append("g").classed("threshold-arc",!0).append("path"),ft.select("path").call(mt).call(x),ft.exit().remove();var St=tt.selectAll("g.gauge-outline").data([Ge]);St.enter().append("g").classed("gauge-outline",!0).append("path"),St.select("path").call(mt).call(x),St.exit().remove()}(k,0,J,{radius:pe,innerRadius:ge,gauge:ye,layer:we,size:ae,gaugeBg:U,gaugeOutline:Z,transitionOpts:R,onComplete:N});var ze=se.selectAll("g.bullet").data(K?J:[]);ze.exit().remove();var ke=se.selectAll("g.bulletaxis").data(K?J:[]);ke.exit().remove(),K&&function(me,de,ce,Ae){var Ne,De,Ue,Ye,_e,Pe=ce[0].trace,Ie=Ae.gauge,Be=Ae.layer,We=Ae.gaugeBg,Ge=Ae.gaugeOutline,Ke=Ae.size,tt=Pe.domain,st=Ae.transitionOpts,gt=Ae.onComplete;Ie.enter().append("g").classed("bullet",!0),Ie.attr("transform",y(Ke.l,Ke.t)),Be.enter().append("g").classed("bulletaxis",!0).classed("crisp",!0),Be.selectAll("g.xbulletaxistick,path,text").remove();var ct=Ke.h,kt=Pe.gauge.bar.thickness*ct,Dt=tt.x[0],vt=tt.x[0]+(tt.x[1]-tt.x[0])*(Pe._hasNumber||Pe._hasDelta?1-a.bulletNumberDomainSize:1);function mt(ot){ot.attr("width",function(Je){return Math.max(0,Ne.c2p(Je.range[1])-Ne.c2p(Je.range[0]))}).attr("x",function(Je){return Ne.c2p(Je.range[0])}).attr("y",function(Je){return.5*(1-Je.thickness)*ct}).attr("height",function(Je){return Je.thickness*ct})}(Ne=b(me,Pe.gauge.axis))._id="xbulletaxis",Ne.domain=[Dt,vt],Ne.setScale(),De=l.calcTicks(Ne),Ue=l.makeTransTickFn(Ne),Ye=l.getTickSigns(Ne)[2],_e=Ke.t+Ke.h,Ne.visible&&(l.drawTicks(me,Ne,{vals:"inside"===Ne.ticks?l.clipEnds(Ne,De):De,layer:Be,path:l.makeTickPath(Ne,_e,Ye),transFn:Ue}),l.drawLabels(me,Ne,{vals:De,layer:Be,transFn:Ue,labelFns:l.makeLabelFns(Ne,_e)}));var Et=[We].concat(Pe.gauge.steps),Lt=Ie.selectAll("g.bg-bullet").data(Et);Lt.enter().append("g").classed("bg-bullet",!0).append("rect"),Lt.select("rect").call(mt).call(x),Lt.exit().remove();var Rt=Ie.selectAll("g.value-bullet").data([Pe.gauge.bar]);Rt.enter().append("g").classed("value-bullet",!0).append("rect"),Rt.select("rect").attr("height",kt).attr("y",(ct-kt)/2).call(x),w(st)?Rt.select("rect").transition().duration(st.duration).ease(st.easing).each("end",function(){gt&&gt()}).each("interrupt",function(){gt&&gt()}).attr("width",Math.max(0,Ne.c2p(Math.min(Pe.gauge.axis.range[1],ce[0].y)))):Rt.select("rect").attr("width","number"==typeof ce[0].y?Math.max(0,Ne.c2p(Math.min(Pe.gauge.axis.range[1],ce[0].y))):0),Rt.exit().remove();var Ut=ce.filter(function(){return Pe.gauge.threshold.value||0===Pe.gauge.threshold.value}),Bt=Ie.selectAll("g.threshold-bullet").data(Ut);Bt.enter().append("g").classed("threshold-bullet",!0).append("line"),Bt.select("line").attr("x1",Ne.c2p(Pe.gauge.threshold.value)).attr("x2",Ne.c2p(Pe.gauge.threshold.value)).attr("y1",(1-Pe.gauge.threshold.thickness)/2*ct).attr("y2",(1-(1-Pe.gauge.threshold.thickness)/2)*ct).call(p.stroke,Pe.gauge.threshold.line.color).style("stroke-width",Pe.gauge.threshold.line.width),Bt.exit().remove();var rt=Ie.selectAll("g.gauge-outline").data([Ge]);rt.enter().append("g").classed("gauge-outline",!0).append("rect"),rt.select("rect").call(mt).call(x),rt.exit().remove()}(k,0,J,{gauge:ze,layer:ke,size:ae,gaugeBg:U,gaugeOutline:Z,transitionOpts:R,onComplete:N});var Ee=se.selectAll("text.title").data(J);Ee.exit().remove(),Ee.enter().append("text").classed("title",!0),Ee.attr("text-anchor",function(){return K?T.right:T[X.title.align]}).text(X.title.text).call(s.font,X.title.font).call(o.convertToTspans,k),Ee.attr("transform",function(){var me,de=ae.l+ae.w*_[X.title.align],ce=a.titlePadding,Ae=s.bBox(Ee.node());return re?(ee&&(me=X.gauge.axis.visible?s.bBox(we.node()).top-ce-Ae.bottom:ae.t+ae.h/2-pe/2-Ae.bottom-ce),K&&(me=Y-(Ae.top+Ae.bottom)/2,de=ae.l-a.bulletPadding*ae.w)):me=X._numbersTop-ce-Ae.bottom,y(de,me)})})}},16249:function(oe,j,r){"use strict";var I=r(50693),E=r(12663).axisHoverFormat,f=r(5386).fF,S=r(2418),M=r(9012),y=r(1426).extendFlat,u=r(30962).overrideAll,i=oe.exports=u(y({x:{valType:"data_array"},y:{valType:"data_array"},z:{valType:"data_array"},value:{valType:"data_array"},isomin:{valType:"number"},isomax:{valType:"number"},surface:{show:{valType:"boolean",dflt:!0},count:{valType:"integer",dflt:2,min:1},fill:{valType:"number",min:0,max:1,dflt:1},pattern:{valType:"flaglist",flags:["A","B","C","D","E"],extras:["all","odd","even"],dflt:"all"}},spaceframe:{show:{valType:"boolean",dflt:!1},fill:{valType:"number",min:0,max:1,dflt:.15}},slices:{x:{show:{valType:"boolean",dflt:!1},locations:{valType:"data_array",dflt:[]},fill:{valType:"number",min:0,max:1,dflt:1}},y:{show:{valType:"boolean",dflt:!1},locations:{valType:"data_array",dflt:[]},fill:{valType:"number",min:0,max:1,dflt:1}},z:{show:{valType:"boolean",dflt:!1},locations:{valType:"data_array",dflt:[]},fill:{valType:"number",min:0,max:1,dflt:1}}},caps:{x:{show:{valType:"boolean",dflt:!0},fill:{valType:"number",min:0,max:1,dflt:1}},y:{show:{valType:"boolean",dflt:!0},fill:{valType:"number",min:0,max:1,dflt:1}},z:{show:{valType:"boolean",dflt:!0},fill:{valType:"number",min:0,max:1,dflt:1}}},text:{valType:"string",dflt:"",arrayOk:!0},hovertext:{valType:"string",dflt:"",arrayOk:!0},hovertemplate:f(),xhoverformat:E("x"),yhoverformat:E("y"),zhoverformat:E("z"),valuehoverformat:E("value",1),showlegend:y({},M.showlegend,{dflt:!1})},I("",{colorAttr:"`value`",showScaleDflt:!0,editTypeOverride:"calc"}),{opacity:S.opacity,lightposition:S.lightposition,lighting:S.lighting,flatshading:S.flatshading,contour:S.contour,hoverinfo:y({},M.hoverinfo)}),"calc","nested");i.flatshading.dflt=!0,i.lighting.facenormalsepsilon.dflt=0,i.x.editType=i.y.editType=i.z.editType=i.value.editType="calc+clearAxisTypes",i.transforms=void 0},56959:function(oe,j,r){"use strict";var I=r(78803),E=r(88489).processGrid,f=r(88489).filter;oe.exports=function(S,M){M._len=Math.min(M.x.length,M.y.length,M.z.length,M.value.length),M._x=f(M.x,M._len),M._y=f(M.y,M._len),M._z=f(M.z,M._len),M._value=f(M.value,M._len);var y=E(M);M._gridFill=y.fill,M._Xs=y.Xs,M._Ys=y.Ys,M._Zs=y.Zs,M._len=y.len;for(var u=1/0,i=-1/0,s=0;s<M._len;s++){var a=M._value[s];u=Math.min(u,a),i=Math.max(i,a)}M._minValues=u,M._maxValues=i,M._vMin=null==M.isomin?u:M.isomin,M._vMax=void 0===M.isomax||null===M.isomin?i:M.isomax,I(S,M,{vals:[M._vMin,M._vMax],containerStr:"",cLetter:"c"})}},22674:function(oe,j,r){"use strict";var I=r(9330).gl_mesh3d,E=r(81697).parseColorScale,f=r(78614),S=r(21081).extractOpts,M=r(90060),y=function(o,l){for(var c=l.length-1;c>0;c--){var h=Math.min(l[c],l[c-1]),v=Math.max(l[c],l[c-1]);if(v>h&&h<o&&o<=v)return{id:c,distRatio:(v-o)/(v-h)}}return{id:0,distRatio:0}};function u(o,l,c){this.scene=o,this.uid=c,this.mesh=l,this.name="",this.data=null,this.showContour=!1}var i=u.prototype;i.handlePick=function(o){if(o.object===this.mesh){var l=o.data.index,h=this.data._meshY[l],v=this.data._meshZ[l],p=this.data._Ys.length,T=this.data._Zs.length,_=y(this.data._meshX[l],this.data._Xs).id,g=y(h,this.data._Ys).id,w=y(v,this.data._Zs).id,x=o.index=w+T*g+T*p*_;o.traceCoordinate=[this.data._meshX[x],this.data._meshY[x],this.data._meshZ[x],this.data._value[x]];var b=this.data.hovertext||this.data.text;return Array.isArray(b)&&void 0!==b[x]?o.textLabel=b[x]:b&&(o.textLabel=b),!0}},i.update=function(o){var l=this.scene,c=l.fullSceneLayout;function h(T,_,g,w){return _.map(function(x){return T.d2l(x,0,w)*g})}this.data=a(o);var v={positions:M(h(c.xaxis,o._meshX,l.dataScale[0],o.xcalendar),h(c.yaxis,o._meshY,l.dataScale[1],o.ycalendar),h(c.zaxis,o._meshZ,l.dataScale[2],o.zcalendar)),cells:M(o._meshI,o._meshJ,o._meshK),lightPosition:[o.lightposition.x,o.lightposition.y,o.lightposition.z],ambient:o.lighting.ambient,diffuse:o.lighting.diffuse,specular:o.lighting.specular,roughness:o.lighting.roughness,fresnel:o.lighting.fresnel,vertexNormalsEpsilon:o.lighting.vertexnormalsepsilon,faceNormalsEpsilon:o.lighting.facenormalsepsilon,opacity:o.opacity,contourEnable:o.contour.show,contourColor:f(o.contour.color).slice(0,3),contourWidth:o.contour.width,useFacetNormals:o.flatshading},p=S(o);v.vertexIntensity=o._meshIntensity,v.vertexIntensityBounds=[p.min,p.max],v.colormap=E(o),this.mesh.update(v)},i.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};var s=["xyz","xzy","yxz","yzx","zxy","zyx"];function a(o){o._meshI=[],o._meshJ=[],o._meshK=[];var l,c,h,v,p,T,_,g=o.surface.show,w=o.spaceframe.show,x=o.surface.fill,b=o.spaceframe.fill,A=!1,m=!1,C=0,k=o._Xs,P=o._Ys,R=o._Zs,L=k.length,N=P.length,B=R.length,J=s.indexOf(o._gridFill.replace(/-/g,"").replace(/\+/g,"")),z=function(Ie,Be,We){switch(J){case 5:return We+B*Be+B*N*Ie;case 4:return We+B*Ie+B*L*Be;case 3:return Be+N*We+N*B*Ie;case 2:return Be+N*Ie+N*L*We;case 1:return Ie+L*We+L*B*Be;default:return Ie+L*Be+L*N*We}},Y=o._minValues,q=o._maxValues,U=o._vMin,Z=o._vMax;function X(Ie,Be,We){for(var Ge=T.length,Ke=c;Ke<Ge;Ke++)if(Ie===h[Ke]&&Be===v[Ke]&&We===p[Ke])return Ke;return-1}function se(){c=l}function re(){h=[],v=[],p=[],T=[],l=0,se()}function ee(Ie,Be,We,Ge){return h.push(Ie),v.push(Be),p.push(We),T.push(Ge),++l-1}function K(Ie,Be,We){for(var Ge=[],Ke=0;Ke<Ie.length;Ke++)Ge[Ke]=Ie[Ke]*(1-We)+We*Be[Ke];return Ge}function ne(Ie){_=Ie}function ae(Ie,Be){return"all"===Ie||null===Ie||Ie.indexOf(Be)>-1}function ue(Ie,Be){return null===Ie?Be:Ie}function he(Ie,Be,We){se();var Ke,tt,Bt,rt,ot,Je,it,dt,ht,Ve,qe,ut,ft,St,Mt,st=[Be],gt=[We];if(_>=1)st=[Be],gt=[We];else if(_>0){var ct=(rt=We,Ve=K(dt=function(Tt,xt,Nt){for(var bt=[],wt=0;wt<Tt.length;wt++)bt[wt]=(Tt[wt]+xt[wt]+Nt[wt])/3;return bt}(ot=(Bt=Be)[0],Je=Bt[1],it=Bt[2]),ot,ht=Math.sqrt(1-_)),{xyzv:[[ot,Je,qe=K(dt,Je,ht)],[qe,Ve,ot],[Je,it,ut=K(dt,it,ht)],[ut,qe,Je],[it,ot,Ve],[Ve,ut,it]],abc:[[ft=rt[0],St=rt[1],-1],[-1,-1,ft],[St,Mt=rt[2],-1],[-1,-1,St],[Mt,ft,-1],[-1,-1,Mt]]});st=ct.xyzv,gt=ct.abc}for(var kt=0;kt<st.length;kt++){Be=st[kt],We=gt[kt];for(var Dt=[],vt=0;vt<3;vt++){var mt=Be[vt][0],Et=Be[vt][1],Lt=Be[vt][2],Rt=Be[vt][3],Ut=We[vt]>-1?We[vt]:X(mt,Et,Lt);Dt[vt]=Ut>-1?Ut:ee(mt,Et,Lt,ue(Ie,Rt))}Ke=Dt[1],tt=Dt[2],o._meshI.push(Dt[0]),o._meshJ.push(Ke),o._meshK.push(tt),++C}}function pe(Ie,Be,We,Ge){var Ke=Ie[3];Ke<We&&(Ke=We),Ke>Ge&&(Ke=Ge);for(var tt=(Ie[3]-Ke)/(Ie[3]-Be[3]+1e-9),st=[],gt=0;gt<4;gt++)st[gt]=(1-tt)*Ie[gt]+tt*Be[gt];return st}function ge(Ie,Be,We){return Ie>=Be&&Ie<=We}function xe(Ie){var Be=.001*(Z-U);return Ie>=U-Be&&Ie<=Z+Be}function Se(Ie){for(var Be=[],We=0;We<4;We++){var Ge=Ie[We];Be.push([o._x[Ge],o._y[Ge],o._z[Ge],o._value[Ge]])}return Be}var Te=3;function ye(Ie,Be,We,Ge,Ke,tt){tt||(tt=1),We=[-1,-1,-1];var st=!1,gt=[ge(Be[0][3],Ge,Ke),ge(Be[1][3],Ge,Ke),ge(Be[2][3],Ge,Ke)];if(!gt[0]&&!gt[1]&&!gt[2])return!1;var ct=function(Dt,vt,mt){return xe(vt[0][3])&&xe(vt[1][3])&&xe(vt[2][3])?(he(Dt,vt,mt),!0):tt<Te&&ye(Dt,vt,mt,U,Z,++tt)};if(gt[0]&&gt[1]&&gt[2])return ct(Ie,Be,We)||st;var kt=!1;return[[0,1,2],[2,0,1],[1,2,0]].forEach(function(Dt){if(gt[Dt[0]]&&gt[Dt[1]]&&!gt[Dt[2]]){var vt=Be[Dt[0]],mt=Be[Dt[1]],Et=Be[Dt[2]],Lt=pe(Et,vt,Ge,Ke),Rt=pe(Et,mt,Ge,Ke);st=ct(Ie,[Rt,Lt,vt],[-1,-1,We[Dt[0]]])||st,st=ct(Ie,[vt,mt,Rt],[We[Dt[0]],We[Dt[1]],-1])||st,kt=!0}}),kt||[[0,1,2],[1,2,0],[2,0,1]].forEach(function(Dt){if(gt[Dt[0]]&&!gt[Dt[1]]&&!gt[Dt[2]]){var vt=Be[Dt[0]],Et=Be[Dt[2]],Lt=pe(Be[Dt[1]],vt,Ge,Ke),Rt=pe(Et,vt,Ge,Ke);st=ct(Ie,[Rt,Lt,vt],[-1,-1,We[Dt[0]]])||st,kt=!0}}),st}function we(Ie,Be,We,Ge){var ct,kt,Dt,vt,Ke=!1,tt=Se(Be),st=[ge(tt[0][3],We,Ge),ge(tt[1][3],We,Ge),ge(tt[2][3],We,Ge),ge(tt[3][3],We,Ge)];if(!(st[0]||st[1]||st[2]||st[3]))return Ke;if(st[0]&&st[1]&&st[2]&&st[3])return m&&(ct=Ie,kt=tt,Dt=Be,(vt=function(mt,Et,Lt){he(ct,[kt[mt],kt[Et],kt[Lt]],[Dt[mt],Dt[Et],Dt[Lt]])})(0,1,2),vt(3,0,1),vt(2,3,0),Ke=void vt(1,2,3)||Ke),Ke;var gt=!1;return[[0,1,2,3],[3,0,1,2],[2,3,0,1],[1,2,3,0]].forEach(function(ct){if(st[ct[0]]&&st[ct[1]]&&st[ct[2]]&&!st[ct[3]]){var kt=tt[ct[0]],Dt=tt[ct[1]],vt=tt[ct[2]],mt=tt[ct[3]];if(m)Ke=he(Ie,[kt,Dt,vt],[Be[ct[0]],Be[ct[1]],Be[ct[2]]])||Ke;else{var Et=pe(mt,kt,We,Ge),Lt=pe(mt,Dt,We,Ge),Rt=pe(mt,vt,We,Ge);Ke=he(null,[Et,Lt,Rt],[-1,-1,-1])||Ke}gt=!0}}),gt||([[0,1,2,3],[1,2,3,0],[2,3,0,1],[3,0,1,2],[0,2,3,1],[1,3,2,0]].forEach(function(ct){if(st[ct[0]]&&st[ct[1]]&&!st[ct[2]]&&!st[ct[3]]){var kt=tt[ct[0]],Dt=tt[ct[1]],vt=tt[ct[2]],mt=tt[ct[3]],Et=pe(vt,kt,We,Ge),Lt=pe(vt,Dt,We,Ge),Rt=pe(mt,Dt,We,Ge),Ut=pe(mt,kt,We,Ge);m?(Ke=he(Ie,[kt,Ut,Et],[Be[ct[0]],-1,-1])||Ke,Ke=he(Ie,[Dt,Lt,Rt],[Be[ct[1]],-1,-1])||Ke):(rt=[Et,Lt,Rt,Ut],ot=[-1,-1,-1,-1],(Je=function(it,dt,ht){he(null,[rt[it],rt[dt],rt[ht]],[ot[it],ot[dt],ot[ht]])})(0,1,2),Ke=void Je(2,3,0)||Ke),gt=!0}var rt,ot,Je}),gt||[[0,1,2,3],[1,2,3,0],[2,3,0,1],[3,0,1,2]].forEach(function(ct){if(st[ct[0]]&&!st[ct[1]]&&!st[ct[2]]&&!st[ct[3]]){var kt=tt[ct[0]],vt=tt[ct[2]],mt=tt[ct[3]],Et=pe(tt[ct[1]],kt,We,Ge),Lt=pe(vt,kt,We,Ge),Rt=pe(mt,kt,We,Ge);m?(Ke=he(Ie,[kt,Et,Lt],[Be[ct[0]],-1,-1])||Ke,Ke=he(Ie,[kt,Lt,Rt],[Be[ct[0]],-1,-1])||Ke,Ke=he(Ie,[kt,Rt,Et],[Be[ct[0]],-1,-1])||Ke):Ke=he(null,[Et,Lt,Rt],[-1,-1,-1])||Ke,gt=!0}})),Ke}function ze(Ie,Be,We,Ge,Ke,tt,st,gt,ct,kt,Dt){var vt=!1;return A&&(ae(Ie,"A")&&(vt=we(null,[Be,We,Ge,tt],kt,Dt)||vt),ae(Ie,"B")&&(vt=we(null,[We,Ge,Ke,ct],kt,Dt)||vt),ae(Ie,"C")&&(vt=we(null,[We,tt,st,ct],kt,Dt)||vt),ae(Ie,"D")&&(vt=we(null,[Ge,tt,gt,ct],kt,Dt)||vt),ae(Ie,"E")&&(vt=we(null,[We,Ge,tt,ct],kt,Dt)||vt)),m&&(vt=we(Ie,[We,Ge,tt,ct],kt,Dt)||vt),vt}function ke(Ie,Be,We,Ge,Ke,tt,st,gt){return[!0===gt[0]||ye(Ie,Se([Be,We,Ge]),[Be,We,Ge],tt,st),!0===gt[1]||ye(Ie,Se([Ge,Ke,Be]),[Ge,Ke,Be],tt,st)]}function Ee(Ie,Be,We,Ge,Ke,tt,st,gt,ct){return gt?ke(Ie,Be,We,Ke,Ge,tt,st,ct):ke(Ie,We,Ke,Ge,Be,tt,st,ct)}function me(Ie,Be,We,Ge,Ke,tt,st){var gt,ct,kt,Dt,vt=!1,mt=function(){vt=ye(Ie,[gt,ct,kt],[-1,-1,-1],Ke,tt)||vt,vt=ye(Ie,[kt,Dt,gt],[-1,-1,-1],Ke,tt)||vt},Et=st[0],Lt=st[1],Rt=st[2];return Et&&(gt=K(Se([z(Be,We-0,Ge-0)])[0],Se([z(Be-1,We-0,Ge-0)])[0],Et),ct=K(Se([z(Be,We-0,Ge-1)])[0],Se([z(Be-1,We-0,Ge-1)])[0],Et),kt=K(Se([z(Be,We-1,Ge-1)])[0],Se([z(Be-1,We-1,Ge-1)])[0],Et),Dt=K(Se([z(Be,We-1,Ge-0)])[0],Se([z(Be-1,We-1,Ge-0)])[0],Et),mt()),Lt&&(gt=K(Se([z(Be-0,We,Ge-0)])[0],Se([z(Be-0,We-1,Ge-0)])[0],Lt),ct=K(Se([z(Be-0,We,Ge-1)])[0],Se([z(Be-0,We-1,Ge-1)])[0],Lt),kt=K(Se([z(Be-1,We,Ge-1)])[0],Se([z(Be-1,We-1,Ge-1)])[0],Lt),Dt=K(Se([z(Be-1,We,Ge-0)])[0],Se([z(Be-1,We-1,Ge-0)])[0],Lt),mt()),Rt&&(gt=K(Se([z(Be-0,We-0,Ge)])[0],Se([z(Be-0,We-0,Ge-1)])[0],Rt),ct=K(Se([z(Be-0,We-1,Ge)])[0],Se([z(Be-0,We-1,Ge-1)])[0],Rt),kt=K(Se([z(Be-1,We-1,Ge)])[0],Se([z(Be-1,We-1,Ge-1)])[0],Rt),Dt=K(Se([z(Be-1,We-0,Ge)])[0],Se([z(Be-1,We-0,Ge-1)])[0],Rt),mt()),vt}function de(Ie,Be,We,Ge,Ke,tt,st,gt,ct,kt,Dt,vt){var mt=Ie;return vt?(A&&"even"===Ie&&(mt=null),ze(mt,Be,We,Ge,Ke,tt,st,gt,ct,kt,Dt)):(A&&"odd"===Ie&&(mt=null),ze(mt,ct,gt,st,tt,Ke,Ge,We,Be,kt,Dt))}function ce(Ie,Be,We,Ge,Ke){for(var tt=[],st=0,gt=0;gt<Be.length;gt++)for(var ct=Be[gt],kt=1;kt<B;kt++)for(var Dt=1;Dt<N;Dt++)tt.push(Ee(Ie,z(ct,Dt-1,kt-1),z(ct,Dt-1,kt),z(ct,Dt,kt-1),z(ct,Dt,kt),We,Ge,(ct+Dt+kt)%2,Ke&&Ke[st]?Ke[st]:[])),st++;return tt}function Ae(Ie,Be,We,Ge,Ke){for(var tt=[],st=0,gt=0;gt<Be.length;gt++)for(var ct=Be[gt],kt=1;kt<L;kt++)for(var Dt=1;Dt<B;Dt++)tt.push(Ee(Ie,z(kt-1,ct,Dt-1),z(kt,ct,Dt-1),z(kt-1,ct,Dt),z(kt,ct,Dt),We,Ge,(kt+ct+Dt)%2,Ke&&Ke[st]?Ke[st]:[])),st++;return tt}function Ne(Ie,Be,We,Ge,Ke){for(var tt=[],st=0,gt=0;gt<Be.length;gt++)for(var ct=Be[gt],kt=1;kt<N;kt++)for(var Dt=1;Dt<L;Dt++)tt.push(Ee(Ie,z(Dt-1,kt-1,ct),z(Dt-1,kt,ct),z(Dt,kt-1,ct),z(Dt,kt,ct),We,Ge,(Dt+kt+ct)%2,Ke&&Ke[st]?Ke[st]:[])),st++;return tt}function De(Ie,Be,We){for(var Ge=1;Ge<B;Ge++)for(var Ke=1;Ke<N;Ke++)for(var tt=1;tt<L;tt++)de(Ie,z(tt-1,Ke-1,Ge-1),z(tt-1,Ke-1,Ge),z(tt-1,Ke,Ge-1),z(tt-1,Ke,Ge),z(tt,Ke-1,Ge-1),z(tt,Ke-1,Ge),z(tt,Ke,Ge-1),z(tt,Ke,Ge),Be,We,(tt+Ke+Ge)%2)}function Ue(Ie,Be,We,Ge,Ke,tt){for(var st=[],ct=0;ct<Be.length;ct++)for(var kt=Be[ct],Dt=1;Dt<B;Dt++)for(var vt=1;vt<N;vt++)st.push(me(Ie,kt,vt,Dt,We,Ge,Ke[ct]));return st}function Ye(Ie,Be,We,Ge,Ke,tt){for(var st=[],ct=0;ct<Be.length;ct++)for(var kt=Be[ct],Dt=1;Dt<L;Dt++)for(var vt=1;vt<B;vt++)st.push(me(Ie,Dt,kt,vt,We,Ge,Ke[ct]));return st}function _e(Ie,Be,We,Ge,Ke,tt){for(var st=[],ct=0;ct<Be.length;ct++)for(var kt=Be[ct],Dt=1;Dt<N;Dt++)for(var vt=1;vt<L;vt++)st.push(me(Ie,vt,Dt,kt,We,Ge,Ke[ct]));return st}function Pe(Ie,Be){for(var We=[],Ge=Ie;Ge<Be;Ge++)We.push(Ge);return We}return function(){re(),function(){for(var ct=0;ct<L;ct++)for(var kt=0;kt<N;kt++)for(var Dt=0;Dt<B;Dt++){var vt=z(ct,kt,Dt);ee(o._x[vt],o._y[vt],o._z[vt],o._value[vt])}}();var Ie=null;if(w&&b&&(ne(b),m=!0,De(Ie,U,Z),m=!1),g&&x){ne(x);for(var Be=o.surface.pattern,We=o.surface.count,Ge=0;Ge<We;Ge++){var Ke=1===We?.5:Ge/(We-1),tt=(1-Ke)*U+Ke*Z,st=Math.abs(tt-Y)>Math.abs(tt-q)?[Y,tt]:[tt,q];A=!0,De(Be,st[0],st[1]),A=!1}}var gt=[[Math.min(U,q),Math.max(U,q)],[Math.min(Y,Z),Math.max(Y,Z)]];["x","y","z"].forEach(function(ct){for(var kt=[],Dt=0;Dt<gt.length;Dt++){var vt=0,mt=gt[Dt][0],Et=gt[Dt][1],Lt=o.slices[ct];if(Lt.show&&Lt.fill){ne(Lt.fill);var Rt=[],Ut=[],Bt=[];if(Lt.locations.length)for(var rt=0;rt<Lt.locations.length;rt++){var ot=y(Lt.locations[rt],"x"===ct?k:"y"===ct?P:R);0===ot.distRatio?Rt.push(ot.id):ot.id>0&&(Ut.push(ot.id),Bt.push("x"===ct?[ot.distRatio,0,0]:"y"===ct?[0,ot.distRatio,0]:[0,0,ot.distRatio]))}else Rt=Pe(1,"x"===ct?L-1:"y"===ct?N-1:B-1);Ut.length>0&&(kt[vt]="x"===ct?Ue(Ie,Ut,mt,Et,Bt):"y"===ct?Ye(Ie,Ut,mt,Et,Bt):_e(Ie,Ut,mt,Et,Bt),vt++),Rt.length>0&&(kt[vt]="x"===ct?ce(Ie,Rt,mt,Et,kt[vt]):"y"===ct?Ae(Ie,Rt,mt,Et,kt[vt]):Ne(Ie,Rt,mt,Et,kt[vt]),vt++)}var Je=o.caps[ct];Je.show&&Je.fill&&(ne(Je.fill),kt[vt]="x"===ct?ce(Ie,[0,L-1],mt,Et,kt[vt]):"y"===ct?Ae(Ie,[0,N-1],mt,Et,kt[vt]):Ne(Ie,[0,B-1],mt,Et,kt[vt]),vt++)}}),0===C&&re(),o._meshX=h,o._meshY=v,o._meshZ=p,o._meshIntensity=T,o._Xs=k,o._Ys=P,o._Zs=R}(),o}oe.exports={findNearestOnAxis:y,generateIsoMeshes:a,createIsosurfaceTrace:function(o,l){var h=I({gl:o.glplot.gl}),v=new u(o,h,l.uid);return h._trace=v,v.update(l),o.glplot.add(h),v}}},82738:function(oe,j,r){"use strict";var I=r(71828),E=r(73972),f=r(16249),S=r(1586);function M(y,u,i,s,a){var o=a("isomin"),l=a("isomax");null!=l&&null!=o&&o>l&&(u.isomin=null,u.isomax=null);var c=a("x"),h=a("y"),v=a("z"),p=a("value");c&&c.length&&h&&h.length&&v&&v.length&&p&&p.length?(E.getComponentMethod("calendars","handleTraceDefaults")(y,u,["x","y","z"],s),a("valuehoverformat"),["x","y","z"].forEach(function(T){a(T+"hoverformat");var _="caps."+T;a(_+".show")&&a(_+".fill");var g="slices."+T;a(g+".show")&&(a(g+".fill"),a(g+".locations"))}),a("spaceframe.show")&&a("spaceframe.fill"),a("surface.show")&&(a("surface.count"),a("surface.fill"),a("surface.pattern")),a("contour.show")&&(a("contour.color"),a("contour.width")),["text","hovertext","hovertemplate","lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lighting.vertexnormalsepsilon","lighting.facenormalsepsilon","lightposition.x","lightposition.y","lightposition.z","flatshading","opacity"].forEach(function(T){a(T)}),S(y,u,s,a,{prefix:"",cLetter:"c"}),u._length=null):u.visible=!1}oe.exports={supplyDefaults:function(y,u,i,s){M(y,u,0,s,function(a,o){return I.coerce(y,u,f,a,o)})},supplyIsoDefaults:M}},64943:function(oe,j,r){"use strict";oe.exports={attributes:r(16249),supplyDefaults:r(82738).supplyDefaults,calc:r(56959),colorbar:{min:"cmin",max:"cmax"},plot:r(22674).createIsosurfaceTrace,moduleType:"trace",name:"isosurface",basePlotModule:r(58547),categories:["gl3d","showLegend"],meta:{}}},2418:function(oe,j,r){"use strict";var I=r(50693),E=r(12663).axisHoverFormat,f=r(5386).fF,S=r(54532),M=r(9012),y=r(1426).extendFlat;oe.exports=y({x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},i:{valType:"data_array",editType:"calc"},j:{valType:"data_array",editType:"calc"},k:{valType:"data_array",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertemplate:f({editType:"calc"}),xhoverformat:E("x"),yhoverformat:E("y"),zhoverformat:E("z"),delaunayaxis:{valType:"enumerated",values:["x","y","z"],dflt:"z",editType:"calc"},alphahull:{valType:"number",dflt:-1,editType:"calc"},intensity:{valType:"data_array",editType:"calc"},intensitymode:{valType:"enumerated",values:["vertex","cell"],dflt:"vertex",editType:"calc"},color:{valType:"color",editType:"calc"},vertexcolor:{valType:"data_array",editType:"calc"},facecolor:{valType:"data_array",editType:"calc"},transforms:void 0},I("",{colorAttr:"`intensity`",showScaleDflt:!0,editTypeOverride:"calc"}),{opacity:S.opacity,flatshading:{valType:"boolean",dflt:!1,editType:"calc"},contour:{show:y({},S.contours.x.show,{}),color:S.contours.x.color,width:S.contours.x.width,editType:"calc"},lightposition:{x:y({},S.lightposition.x,{dflt:1e5}),y:y({},S.lightposition.y,{dflt:1e5}),z:y({},S.lightposition.z,{dflt:0}),editType:"calc"},lighting:y({vertexnormalsepsilon:{valType:"number",min:0,max:1,dflt:1e-12,editType:"calc"},facenormalsepsilon:{valType:"number",min:0,max:1,dflt:1e-6,editType:"calc"},editType:"calc"},S.lighting),hoverinfo:y({},M.hoverinfo,{editType:"calc"}),showlegend:y({},M.showlegend,{dflt:!1})})},82932:function(oe,j,r){"use strict";var I=r(78803);oe.exports=function(E,f){f.intensity&&I(E,f,{vals:f.intensity,containerStr:"",cLetter:"c"})}},91134:function(oe,j,r){"use strict";var I=r(9330).gl_mesh3d,E=r(9330).delaunay_triangulate,f=r(9330).alpha_shape,S=r(9330).convex_hull,M=r(81697).parseColorScale,y=r(78614),u=r(21081).extractOpts,i=r(90060);function s(v,p,T){this.scene=v,this.uid=T,this.mesh=p,this.name="",this.color="#fff",this.data=null,this.showContour=!1}var a=s.prototype;function o(v){for(var p=[],T=v.length,_=0;_<T;_++)p[_]=y(v[_]);return p}function l(v,p,T,_){for(var g=[],w=p.length,x=0;x<w;x++)g[x]=v.d2l(p[x],0,_)*T;return g}function c(v){for(var p=[],T=v.length,_=0;_<T;_++)p[_]=Math.round(v[_]);return p}function h(v,p){for(var T=v.length,_=0;_<T;_++)if(v[_]<=-.5||v[_]>=p-.5)return!1;return!0}a.handlePick=function(v){if(v.object===this.mesh){var p=v.index=v.data.index;v.traceCoordinate=v.data._cellCenter?v.data.dataCoordinate:[this.data.x[p],this.data.y[p],this.data.z[p]];var T=this.data.hovertext||this.data.text;return Array.isArray(T)&&void 0!==T[p]?v.textLabel=T[p]:T&&(v.textLabel=T),!0}},a.update=function(v){var p=this.scene,T=p.fullSceneLayout;this.data=v;var _,g=v.x.length,w=i(l(T.xaxis,v.x,p.dataScale[0],v.xcalendar),l(T.yaxis,v.y,p.dataScale[1],v.ycalendar),l(T.zaxis,v.z,p.dataScale[2],v.zcalendar));if(v.i&&v.j&&v.k){if(v.i.length!==v.j.length||v.j.length!==v.k.length||!h(v.i,g)||!h(v.j,g)||!h(v.k,g))return;_=i(c(v.i),c(v.j),c(v.k))}else _=0===v.alphahull?S(w):v.alphahull>0?f(v.alphahull,w):function(m,C){for(var k=["x","y","z"].indexOf(m),P=[],R=C.length,L=0;L<R;L++)P[L]=[C[L][(k+1)%3],C[L][(k+2)%3]];return E(P)}(v.delaunayaxis,w);var x={positions:w,cells:_,lightPosition:[v.lightposition.x,v.lightposition.y,v.lightposition.z],ambient:v.lighting.ambient,diffuse:v.lighting.diffuse,specular:v.lighting.specular,roughness:v.lighting.roughness,fresnel:v.lighting.fresnel,vertexNormalsEpsilon:v.lighting.vertexnormalsepsilon,faceNormalsEpsilon:v.lighting.facenormalsepsilon,opacity:v.opacity,contourEnable:v.contour.show,contourColor:y(v.contour.color).slice(0,3),contourWidth:v.contour.width,useFacetNormals:v.flatshading};if(v.intensity){var b=u(v);this.color="#fff";var A=v.intensitymode;x[A+"Intensity"]=v.intensity,x[A+"IntensityBounds"]=[b.min,b.max],x.colormap=M(v)}else v.vertexcolor?(this.color=v.vertexcolor[0],x.vertexColors=o(v.vertexcolor)):v.facecolor?(this.color=v.facecolor[0],x.cellColors=o(v.facecolor)):(this.color=v.color,x.meshColor=y(v.color));this.mesh.update(x)},a.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()},oe.exports=function(v,p){var _=I({gl:v.glplot.gl}),g=new s(v,_,p.uid);return _._trace=g,g.update(p),v.glplot.add(_),g}},58669:function(oe,j,r){"use strict";var I=r(73972),E=r(71828),f=r(1586),S=r(2418);oe.exports=function(M,y,u,i){function s(o,l){return E.coerce(M,y,S,o,l)}function a(o){var l=o.map(function(c){var h=s(c);return h&&E.isArrayOrTypedArray(h)?h:null});return l.every(function(c){return c&&c.length===l[0].length})&&l}a(["x","y","z"])?(a(["i","j","k"]),(!y.i||y.j&&y.k)&&(!y.j||y.k&&y.i)&&(!y.k||y.i&&y.j)?(I.getComponentMethod("calendars","handleTraceDefaults")(M,y,["x","y","z"],i),["lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lighting.vertexnormalsepsilon","lighting.facenormalsepsilon","lightposition.x","lightposition.y","lightposition.z","flatshading","alphahull","delaunayaxis","opacity"].forEach(function(o){s(o)}),s("contour.show")&&(s("contour.color"),s("contour.width")),"intensity"in M?(s("intensity"),s("intensitymode"),f(M,y,i,s,{prefix:"",cLetter:"c"})):(y.showscale=!1,"facecolor"in M?s("facecolor"):"vertexcolor"in M?s("vertexcolor"):s("color",u)),s("text"),s("hovertext"),s("hovertemplate"),s("xhoverformat"),s("yhoverformat"),s("zhoverformat"),y._length=null):y.visible=!1):y.visible=!1}},21164:function(oe,j,r){"use strict";oe.exports={attributes:r(2418),supplyDefaults:r(58669),calc:r(82932),colorbar:{min:"cmin",max:"cmax"},plot:r(91134),moduleType:"trace",name:"mesh3d",basePlotModule:r(58547),categories:["gl3d","showLegend"],meta:{}}},2522:function(oe,j,r){"use strict";var I=r(71828).extendFlat,E=r(82196),f=r(12663).axisHoverFormat,S=r(79952).P,M=r(77914),y=r(22372),u=y.INCREASING.COLOR,i=y.DECREASING.COLOR,s=E.line;function a(o){return{line:{color:I({},s.color,{dflt:o}),width:s.width,dash:S,editType:"style"},editType:"style"}}oe.exports={xperiod:E.xperiod,xperiod0:E.xperiod0,xperiodalignment:E.xperiodalignment,xhoverformat:f("x"),yhoverformat:f("y"),x:{valType:"data_array",editType:"calc+clearAxisTypes"},open:{valType:"data_array",editType:"calc"},high:{valType:"data_array",editType:"calc"},low:{valType:"data_array",editType:"calc"},close:{valType:"data_array",editType:"calc"},line:{width:I({},s.width,{}),dash:I({},S,{}),editType:"style"},increasing:a(u),decreasing:a(i),text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},tickwidth:{valType:"number",min:0,max:.5,dflt:.3,editType:"calc"},hoverlabel:I({},M.hoverlabel,{split:{valType:"boolean",dflt:!1,editType:"style"}})}},3485:function(oe,j,r){"use strict";var I=r(71828),E=I._,f=r(89298),S=r(42973),M=r(50606).BADNUM;function y(i,s,a,o){return{o:i,h:s,l:a,c:o}}function u(i,s,a,o,l,c){for(var h=l.makeCalcdata(s,"open"),v=l.makeCalcdata(s,"high"),p=l.makeCalcdata(s,"low"),T=l.makeCalcdata(s,"close"),_=Array.isArray(s.text),g=Array.isArray(s.hovertext),w=!0,x=null,b=!!s.xperiodalignment,A=[],m=0;m<o.length;m++){var C=o[m],k=h[m],P=v[m],R=p[m],L=T[m];if(C!==M&&k!==M&&P!==M&&R!==M&&L!==M){L===k?null!==x&&L!==x&&(w=L>x):w=L>k,x=L;var N=c(k,P,R,L);N.pos=C,N.yc=(k+L)/2,N.i=m,N.dir=w?"increasing":"decreasing",N.x=N.pos,N.y=[R,P],b&&(N.orig_p=a[m]),_&&(N.tx=s.text[m]),g&&(N.htx=s.hovertext[m]),A.push(N)}else A.push({pos:C,empty:!0})}return s._extremes[l._id]=f.findExtremes(l,I.concat(p,v),{padded:!0}),A.length&&(A[0].t={labels:{open:E(i,"open:")+" ",high:E(i,"high:")+" ",low:E(i,"low:")+" ",close:E(i,"close:")+" "}}),A}oe.exports={calc:function(i,s){var a=f.getFromId(i,s.xaxis),o=f.getFromId(i,s.yaxis),l=function(T,_,g){var w=g._minDiff;if(!w){var x,b=T._fullData,A=[];for(w=1/0,x=0;x<b.length;x++){var m=b[x];if("ohlc"===m.type&&!0===m.visible&&m.xaxis===_._id){A.push(m);var C=_.makeCalcdata(m,"x");m._origX=C;var k=S(g,_,"x",C).vals;m._xcalc=k;var P=I.distinctVals(k).minDiff;P&&isFinite(P)&&(w=Math.min(w,P))}}for(w===1/0&&(w=1),x=0;x<A.length;x++)A[x]._minDiff=w}return w*g.tickwidth}(i,a,s),c=s._minDiff;s._minDiff=null;var h=s._origX;s._origX=null;var v=s._xcalc;s._xcalc=null;var p=u(i,s,h,v,o,y);return s._extremes[a._id]=f.findExtremes(a,v,{vpad:c/2}),p.length?(I.extendFlat(p[0].t,{wHover:c/2,tickLen:l}),p):[{t:{empty:!0}}]},calcCommon:u}},16169:function(oe,j,r){"use strict";var I=r(71828),E=r(14555),f=r(73927),S=r(2522);function M(y,u,i,s){i(s+".line.color"),i(s+".line.width",u.line.width),i(s+".line.dash",u.line.dash)}oe.exports=function(y,u,i,s){function a(o,l){return I.coerce(y,u,S,o,l)}E(y,u,a,s)?(f(y,u,s,a,{x:!0}),a("xhoverformat"),a("yhoverformat"),a("line.width"),a("line.dash"),M(0,u,a,"increasing"),M(0,u,a,"decreasing"),a("text"),a("hovertext"),a("tickwidth"),s._requestRangeslider[u.xaxis]=!0):u.visible=!1}},66449:function(oe,j,r){"use strict";var I=r(89298),E=r(71828),f=r(30211),S=r(7901),M=r(71828).fillText,y=r(22372),u={increasing:y.INCREASING.SYMBOL,decreasing:y.DECREASING.SYMBOL};function i(o,l,c,h){var v,p,T=o.cd,_=o.xa,g=T[0].trace,w=T[0].t,x=g.type,b="ohlc"===x?"l":"min",A="ohlc"===x?"h":"max",m=w.bPos||0,C=function(U){return U.pos+m-l},k=w.bdPos||w.tickLen,P=w.wHover,R=Math.min(1,k/Math.abs(_.r2c(_.range[1])-_.r2c(_.range[0])));function L(U){var Z=C(U);return f.inbox(Z-P,Z+P,v)}function N(U){var Z=U[b],X=U[A];return Z===X||f.inbox(Z-c,X-c,v)}function B(U){return(L(U)+N(U))/2}v=o.maxHoverDistance-R,p=o.maxSpikeDistance-R;var J=f.getDistanceFunction(h,L,N,B);if(f.getClosest(T,J,o),!1===o.index)return null;var z=T[o.index];if(z.empty)return null;var Y=g[z.dir],q=Y.line.color;return o.color=S.opacity(q)&&Y.line.width?q:Y.fillcolor,o.x0=_.c2p(z.pos+m-k,!0),o.x1=_.c2p(z.pos+m+k,!0),o.xLabelVal=void 0!==z.orig_p?z.orig_p:z.pos,o.spikeDistance=B(z)*p/v,o.xSpike=_.c2p(z.pos,!0),o}function s(o,l,c,h){var v=o.cd,p=o.ya,T=v[0].trace,_=v[0].t,g=[],w=i(o,l,c,h);if(!w)return[];var x=v[w.index].hi||T.hoverinfo,b=x.split("+");if("all"!==x&&-1===b.indexOf("y"))return[];for(var A=["high","open","close","low"],m={},C=0;C<A.length;C++){var k,P=A[C],R=T[P][w.index],L=p.c2p(R,!0);R in m?(k=m[R]).yLabel+="<br>"+_.labels[P]+I.hoverLabelText(p,R,T.yhoverformat):((k=E.extendFlat({},w)).y0=k.y1=L,k.yLabelVal=R,k.yLabel=_.labels[P]+I.hoverLabelText(p,R,T.yhoverformat),k.name="",g.push(k),m[R]=k)}return g}function a(o,l,c,h){var v=o.cd,p=o.ya,T=v[0].trace,_=v[0].t,g=i(o,l,c,h);if(!g)return[];var w=v[g.index],x=g.index=w.i,b=w.dir;function A(N){return _.labels[N]+I.hoverLabelText(p,T[N][x],T.yhoverformat)}var m=w.hi||T.hoverinfo,C=m.split("+"),k="all"===m,P=k||-1!==C.indexOf("y"),R=k||-1!==C.indexOf("text"),L=P?[A("open"),A("high"),A("low"),A("close")+"  "+u[b]]:[];return R&&M(w,T,L),g.extraText=L.join("<br>"),g.y0=g.y1=p.c2p(w.yc,!0),[g]}oe.exports={hoverPoints:function(o,l,c,h){return o.cd[0].trace.hoverlabel.split?s(o,l,c,h):a(o,l,c,h)},hoverSplit:s,hoverOnPoints:a}},54186:function(oe,j,r){"use strict";oe.exports={moduleType:"trace",name:"ohlc",basePlotModule:r(93612),categories:["cartesian","svg","showLegend"],meta:{},attributes:r(2522),supplyDefaults:r(16169),calc:r(3485).calc,plot:r(72314),style:r(53101),hoverPoints:r(66449).hoverPoints,selectPoints:r(67324)}},14555:function(oe,j,r){"use strict";var I=r(73972),E=r(71828);oe.exports=function(f,S,M,y){var u=M("x"),i=M("open"),s=M("high"),a=M("low"),o=M("close");if(M("hoverlabel.split"),I.getComponentMethod("calendars","handleTraceDefaults")(f,S,["x"],y),i&&s&&a&&o){var l=Math.min(i.length,s.length,a.length,o.length);return u&&(l=Math.min(l,E.minRowLength(u))),S._length=l,l}}},72314:function(oe,j,r){"use strict";var I=r(39898),E=r(71828);oe.exports=function(f,S,M,y){var u=S.yaxis,i=S.xaxis,s=!!i.rangebreaks;E.makeTraceGroups(y,M,"trace ohlc").each(function(a){var o=I.select(this),l=a[0],c=l.t;if(!0!==l.trace.visible||c.empty)o.remove();else{var h=c.tickLen,v=o.selectAll("path").data(E.identity);v.enter().append("path"),v.exit().remove(),v.attr("d",function(p){if(p.empty)return"M0,0Z";var T=i.c2p(p.pos-h,!0),_=i.c2p(p.pos+h,!0),g=s?(T+_)/2:i.c2p(p.pos,!0);return"M"+T+","+u.c2p(p.o,!0)+"H"+g+"M"+g+","+u.c2p(p.h,!0)+"V"+u.c2p(p.l,!0)+"M"+_+","+u.c2p(p.c,!0)+"H"+g})}})}},67324:function(oe){"use strict";oe.exports=function(j,r){var I,E=j.cd,f=j.xaxis,S=j.yaxis,M=[],y=E[0].t.bPos||0;if(!1===r)for(I=0;I<E.length;I++)E[I].selected=0;else for(I=0;I<E.length;I++){var u=E[I];r.contains([f.c2p(u.pos+y),S.c2p(u.yc)],null,u.i,j)?(M.push({pointNumber:u.i,x:f.c2d(u.pos),y:S.c2d(u.yc)}),u.selected=1):u.selected=0}return M}},53101:function(oe,j,r){"use strict";var I=r(39898),E=r(91424),f=r(7901);oe.exports=function(S,M,y){var u=y||I.select(S).selectAll("g.ohlclayer").selectAll("g.trace");u.style("opacity",function(i){return i[0].trace.opacity}),u.each(function(i){var s=i[0].trace;I.select(this).selectAll("path").each(function(a){if(!a.empty){var o=s[a.dir].line;I.select(this).style("fill","none").call(f.stroke,o.color).call(E.dashLine,o.dash,o.width).style("opacity",s.selectedpoints&&!a.selected?.3:1)}})})}},99506:function(oe,j,r){"use strict";var I=r(1426).extendFlat,E=r(9012),f=r(41940),S=r(50693),M=r(5386).fF,y=r(27670).Y,u=I({editType:"calc"},S("line",{editTypeOverride:"calc"}),{shape:{valType:"enumerated",values:["linear","hspline"],dflt:"linear",editType:"plot"},hovertemplate:M({editType:"plot",arrayOk:!1},{keys:["count","probability"]})});oe.exports={domain:y({name:"parcats",trace:!0,editType:"calc"}),hoverinfo:I({},E.hoverinfo,{flags:["count","probability"],editType:"plot",arrayOk:!1}),hoveron:{valType:"enumerated",values:["category","color","dimension"],dflt:"category",editType:"plot"},hovertemplate:M({editType:"plot",arrayOk:!1},{keys:["count","probability","category","categorycount","colorcount","bandcolorcount"]}),arrangement:{valType:"enumerated",values:["perpendicular","freeform","fixed"],dflt:"perpendicular",editType:"plot"},bundlecolors:{valType:"boolean",dflt:!0,editType:"plot"},sortpaths:{valType:"enumerated",values:["forward","backward"],dflt:"forward",editType:"plot"},labelfont:f({editType:"calc"}),tickfont:f({editType:"calc"}),dimensions:{_isLinkedToArray:"dimension",label:{valType:"string",editType:"calc"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},ticktext:{valType:"data_array",editType:"calc"},values:{valType:"data_array",dflt:[],editType:"calc"},displayindex:{valType:"integer",editType:"calc"},editType:"calc",visible:{valType:"boolean",dflt:!0,editType:"calc"}},line:u,counts:{valType:"number",min:0,dflt:1,arrayOk:!0,editType:"calc"},customdata:void 0,hoverlabel:void 0,ids:void 0,legend:void 0,legendgroup:void 0,legendrank:void 0,opacity:void 0,selectedpoints:void 0,showlegend:void 0}},27677:function(oe,j,r){"use strict";var I=r(27659).a0,E=r(45784),f="parcats";j.name=f,j.plot=function(S,M,y,u){var i=I(S.calcdata,f);i.length&&E(S,i[0],y,u)},j.clean=function(S,M,y,u){var i=u._has&&u._has("parcats"),s=M._has&&M._has("parcats");i&&!s&&u._paperdiv.selectAll(".parcats").remove()}},28699:function(oe,j,r){"use strict";var I=r(28984).wrap,E=r(52075).hasColorscale,f=r(78803),S=r(75744),M=r(91424),y=r(71828),u=r(92770);function i(o,l,c){o.valueInds.push(l),o.count+=c}function s(o,l,c){return{categoryInds:o,color:l,rawColor:c,valueInds:[],count:0}}function a(o,l,c){o.valueInds.push(l),o.count+=c}oe.exports=function(o,l){var c=y.filterVisible(l.dimensions);if(0===c.length)return[];var h,v,p,T=c.map(function(X){var se;if("trace"===X.categoryorder)se=null;else if("array"===X.categoryorder)se=X.categoryarray;else{se=S(X.values);for(var re=!0,ee=0;ee<se.length;ee++)if(!u(se[ee])){re=!1;break}se.sort(re?y.sorterAsc:void 0),"category descending"===X.categoryorder&&(se=se.reverse())}return function(K,ne){ne=null==ne?[]:ne.map(function(Te){return Te});var ae={},ue={},he=[];ne.forEach(function(Te,ye){ae[Te]=0,ue[Te]=ye});for(var pe=0;pe<K.length;pe++){var ge,xe=K[pe];void 0===ae[xe]?(ae[xe]=1,ge=ne.push(xe)-1,ue[xe]=ge):(ae[xe]++,ge=ue[xe]),he.push(ge)}var Se=ne.map(function(Te){return ae[Te]});return{uniqueValues:ne,uniqueCounts:Se,inds:he}}(X.values,se)});h=y.isArrayOrTypedArray(l.counts)?l.counts:[l.counts],function(X){var se;if(function(ee){for(var K=new Array(ee.length),ne=0;ne<ee.length;ne++){if(ee[ne]<0||ee[ne]>=ee.length||void 0!==K[ee[ne]])return!1;K[ee[ne]]=!0}return!0}(X.map(function(ee){return ee.displayindex})))for(se=0;se<X.length;se++)X[se]._displayindex=X[se].displayindex;else for(se=0;se<X.length;se++)X[se]._displayindex=se}(c),c.forEach(function(X,se){!function(re,ee){re._categoryarray=ee.uniqueValues,re._ticktext=null==re.ticktext?[]:re.ticktext.slice();for(var K=re._ticktext.length;K<ee.uniqueValues.length;K++)re._ticktext.push(ee.uniqueValues[K])}(X,T[se])});var _,g=l.line;g?(E(l,"line")&&f(o,l,{vals:l.line.color,containerStr:"line",cLetter:"c"}),_=M.tryColorscale(g)):_=y.identity;var w,x,b,A,m,C=c[0].values.length,k={},P=T.map(function(X){return X.inds});for(p=0,w=0;w<C;w++){var R=[];for(x=0;x<P.length;x++)R.push(P[x][w]);p+=v=h[w%h.length];var L=(b=w,A=void 0,m=void 0,y.isArrayOrTypedArray(g.color)?m=A=g.color[b%g.color.length]:A=g.color,{color:_(A),rawColor:m}),N=R+"-"+L.rawColor;void 0===k[N]&&(k[N]=s(R,L.color,L.rawColor)),a(k[N],w,v)}var B,X,se,re,ee,J=c.map(function(X,se){return{dimensionInd:se,containerInd:X._index,displayInd:X._displayindex,dimensionLabel:X.label,count:p,categories:[],dragX:null}});for(w=0;w<C;w++)for(v=h[w%h.length],x=0;x<J.length;x++){var z=J[x].containerInd,Y=T[x].inds[w],q=J[x].categories;void 0===q[Y]&&(q[Y]={dimensionInd:x,categoryInd:B=Y,categoryValue:l.dimensions[z]._categoryarray[Y],displayInd:B,categoryLabel:l.dimensions[z]._ticktext[Y],valueInds:[],count:0,dragY:null}),i(q[Y],w,v)}return I((se=k,re=p,ee=(X=J).map(function(K){return K.categories.length}).reduce(function(K,ne){return Math.max(K,ne)}),{dimensions:X,paths:se,trace:void 0,maxCats:ee,count:re}))}},14647:function(oe,j,r){"use strict";var I=r(71828),E=r(52075).hasColorscale,f=r(1586),S=r(27670).c,M=r(85501),y=r(99506),u=r(94397);function i(s,a){function o(_,g){return I.coerce(s,a,y.dimensions,_,g)}var l=o("values"),c=o("visible");if(l&&l.length||(c=a.visible=!1),c){o("label"),o("displayindex",a._index);var h,v=s.categoryarray,p=Array.isArray(v)&&v.length>0;p&&(h="array");var T=o("categoryorder",h);"array"===T?(o("categoryarray"),o("ticktext")):(delete s.categoryarray,delete s.ticktext),p||"array"!==T||(a.categoryorder="trace")}}oe.exports=function(s,a,o,l){function c(_,g){return I.coerce(s,a,y,_,g)}var h=M(s,a,{name:"dimensions",handleItemDefaults:i}),v=function(_,g,w,x,b){b("line.shape"),b("line.hovertemplate");var A=b("line.color",x.colorway[0]);if(E(_,"line")&&I.isArrayOrTypedArray(A)){if(A.length)return b("line.colorscale"),f(_,g,x,b,{prefix:"line.",cLetter:"c"}),A.length;g.line.color=w}return 1/0}(s,a,o,l,c);S(a,l,c),Array.isArray(h)&&h.length||(a.visible=!1),u(a,h,"values",v),c("hoveron"),c("hovertemplate"),c("arrangement"),c("bundlecolors"),c("sortpaths"),c("counts");var p={family:l.font.family,size:Math.round(l.font.size),color:l.font.color};I.coerceFont(c,"labelfont",p);var T={family:l.font.family,size:Math.round(l.font.size/1.2),color:l.font.color};I.coerceFont(c,"tickfont",T)}},94873:function(oe,j,r){"use strict";oe.exports={attributes:r(99506),supplyDefaults:r(14647),calc:r(28699),plot:r(45784),colorbar:{container:"line",min:"cmin",max:"cmax"},moduleType:"trace",name:"parcats",basePlotModule:r(27677),categories:["noOpacity"],meta:{}}},45460:function(oe,j,r){"use strict";var I=r(39898),E=r(81684).k4,f=r(72391),S=r(30211),M=r(71828),y=M.strTranslate,u=r(91424),i=r(84267),s=r(63893);function a(re,ee,K,ne){var ae=ee._context.staticPlot,ue=re.map(q.bind(0,ee,K)),he=ne.selectAll("g.parcatslayer").data([null]);he.enter().append("g").attr("class","parcatslayer").style("pointer-events",ae?"none":"all");var pe=he.selectAll("g.trace.parcats").data(ue,o),ge=pe.enter().append("g").attr("class","trace parcats");pe.attr("transform",function(me){return y(me.x,me.y)}),ge.append("g").attr("class","paths");var xe=pe.select("g.paths").selectAll("path.path").data(function(me){return me.paths},o);xe.attr("fill",function(me){return me.model.color});var Se=xe.enter().append("path").attr("class","path").attr("stroke-opacity",0).attr("fill",function(me){return me.model.color}).attr("fill-opacity",0);g(Se),xe.attr("d",function(me){return me.svgD}),Se.empty()||xe.sort(c),xe.exit().remove(),xe.on("mouseover",h).on("mouseout",v).on("click",_),ge.append("g").attr("class","dimensions");var Te=pe.select("g.dimensions").selectAll("g.dimension").data(function(me){return me.dimensions},o);Te.enter().append("g").attr("class","dimension"),Te.attr("transform",function(me){return y(me.x,0)}),Te.exit().remove();var ye=Te.selectAll("g.category").data(function(me){return me.categories},o),we=ye.enter().append("g").attr("class","category");ye.attr("transform",function(me){return y(0,me.y)}),we.append("rect").attr("class","catrect").attr("pointer-events","none"),ye.select("rect.catrect").attr("fill","none").attr("width",function(me){return me.width}).attr("height",function(me){return me.height}),x(we);var ze=ye.selectAll("rect.bandrect").data(function(me){return me.bands},o);ze.each(function(){M.raiseToTop(this)}),ze.attr("fill",function(me){return me.color});var ke=ze.enter().append("rect").attr("class","bandrect").attr("stroke-opacity",0).attr("fill",function(me){return me.color}).attr("fill-opacity",0);ze.attr("fill",function(me){return me.color}).attr("width",function(me){return me.width}).attr("height",function(me){return me.height}).attr("y",function(me){return me.y}).attr("cursor",function(me){return"fixed"===me.parcatsViewModel.arrangement?"default":"perpendicular"===me.parcatsViewModel.arrangement?"ns-resize":"move"}),b(ke),ze.exit().remove(),we.append("text").attr("class","catlabel").attr("pointer-events","none");var Ee=ee._fullLayout.paper_bgcolor;ye.select("text.catlabel").attr("text-anchor",function(me){return l(me)?"start":"end"}).attr("alignment-baseline","middle").style("text-shadow",s.makeTextShadow(Ee)).style("fill","rgb(0, 0, 0)").attr("x",function(me){return l(me)?me.width+5:-5}).attr("y",function(me){return me.height/2}).text(function(me){return me.model.categoryLabel}).each(function(me){u.font(I.select(this),me.parcatsViewModel.categorylabelfont),s.convertToTspans(I.select(this),ee)}),we.append("text").attr("class","dimlabel"),ye.select("text.dimlabel").attr("text-anchor","middle").attr("alignment-baseline","baseline").attr("cursor",function(me){return"fixed"===me.parcatsViewModel.arrangement?"default":"ew-resize"}).attr("x",function(me){return me.width/2}).attr("y",-5).text(function(me,de){return 0===de?me.parcatsViewModel.model.dimensions[me.model.dimensionInd].dimensionLabel:null}).each(function(me){u.font(I.select(this),me.parcatsViewModel.labelfont)}),ye.selectAll("rect.bandrect").on("mouseover",P).on("mouseout",R),ye.exit().remove(),Te.call(I.behavior.drag().origin(function(me){return{x:me.x,y:0}}).on("dragstart",L).on("drag",N).on("dragend",B)),pe.each(function(me){me.traceSelection=I.select(this),me.pathSelection=I.select(this).selectAll("g.paths").selectAll("path.path"),me.dimensionSelection=I.select(this).selectAll("g.dimensions").selectAll("g.dimension")}),pe.exit().remove()}function o(re){return re.key}function l(re){return re.model.dimensionInd===re.parcatsViewModel.dimensions[re.parcatsViewModel.dimensions.length-1].model.dimensionInd}function c(re,ee){return re.model.rawColor>ee.model.rawColor?1:re.model.rawColor<ee.model.rawColor?-1:0}function h(re){if(!re.parcatsViewModel.dragDimension&&-1===re.parcatsViewModel.hoverinfoItems.indexOf("skip")){M.raiseToTop(this),w(I.select(this));var ee=p(re),K=T(re);if(re.parcatsViewModel.graphDiv.emit("plotly_hover",{points:ee,event:I.event,constraints:K}),-1===re.parcatsViewModel.hoverinfoItems.indexOf("none")){var ne,ae,ue,he=I.mouse(this)[0],pe=re.parcatsViewModel.graphDiv,ge=re.parcatsViewModel.trace,xe=pe._fullLayout,Se=xe._paperdiv.node().getBoundingClientRect(),Te=re.parcatsViewModel.graphDiv.getBoundingClientRect();for(ue=0;ue<re.leftXs.length-1;ue++)if(re.leftXs[ue]+re.dimWidths[ue]-2<=he&&he<=re.leftXs[ue+1]+2){var ye=re.parcatsViewModel.dimensions[ue];ne=(ye.x+ye.width+re.parcatsViewModel.dimensions[ue+1].x)/2,ae=(re.topYs[ue]+re.topYs[ue+1]+re.height)/2;break}var ze=re.parcatsViewModel.x+ne,ke=re.parcatsViewModel.y+ae,Ee=i.mostReadable(re.model.color,["black","white"]),me=re.model.count,de=me/re.parcatsViewModel.model.count,ce={countLabel:me,probabilityLabel:de.toFixed(3)},Ae=[];-1!==re.parcatsViewModel.hoverinfoItems.indexOf("count")&&Ae.push(["Count:",ce.countLabel].join(" ")),-1!==re.parcatsViewModel.hoverinfoItems.indexOf("probability")&&Ae.push(["P:",ce.probabilityLabel].join(" "));var Ne=Ae.join("<br>"),De=I.mouse(pe)[0];S.loneHover({trace:ge,x:ze-Se.left+Te.left,y:ke-Se.top+Te.top,text:Ne,color:re.model.color,borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontSize:10,fontColor:Ee,idealAlign:De<ze?"right":"left",hovertemplate:(ge.line||{}).hovertemplate,hovertemplateLabels:ce,eventData:[{data:ge._input,fullData:ge,count:me,probability:de}]},{container:xe._hoverlayer.node(),outerContainer:xe._paper.node(),gd:pe})}}}function v(re){if(!re.parcatsViewModel.dragDimension&&(g(I.select(this)),S.loneUnhover(re.parcatsViewModel.graphDiv._fullLayout._hoverlayer.node()),re.parcatsViewModel.pathSelection.sort(c),-1===re.parcatsViewModel.hoverinfoItems.indexOf("skip"))){var ee=p(re),K=T(re);re.parcatsViewModel.graphDiv.emit("plotly_unhover",{points:ee,event:I.event,constraints:K})}}function p(re){for(var ee=[],K=J(re.parcatsViewModel),ne=0;ne<re.model.valueInds.length;ne++)ee.push({curveNumber:K,pointNumber:re.model.valueInds[ne]});return ee}function T(re){for(var ee={},K=re.parcatsViewModel.model.dimensions,ne=0;ne<K.length;ne++){var ae=K[ne];ee[ae.containerInd]=ae.categories[re.model.categoryInds[ne]].categoryValue}return void 0!==re.model.rawColor&&(ee.color=re.model.rawColor),ee}function _(re){if(-1===re.parcatsViewModel.hoverinfoItems.indexOf("skip")){var ee=p(re),K=T(re);re.parcatsViewModel.graphDiv.emit("plotly_click",{points:ee,event:I.event,constraints:K})}}function g(re){re.attr("fill",function(ee){return ee.model.color}).attr("fill-opacity",.6).attr("stroke","lightgray").attr("stroke-width",.2).attr("stroke-opacity",1)}function w(re){re.attr("fill-opacity",.8).attr("stroke",function(ee){return i.mostReadable(ee.model.color,["black","white"])}).attr("stroke-width",.3)}function x(re){re.select("rect.catrect").attr("stroke","black").attr("stroke-width",1).attr("stroke-opacity",1)}function b(re){re.attr("stroke","black").attr("stroke-width",.2).attr("stroke-opacity",1).attr("fill-opacity",1)}function A(re){var K=re.categoryViewModel.model.dimensionInd,ne=re.categoryViewModel.model.categoryInd;return re.parcatsViewModel.pathSelection.filter(function(ae){return ae.model.categoryInds[K]===ne&&ae.model.color===re.color})}function m(re,ee,K){var ne=I.select(re).datum(),ae=ne.categoryViewModel.model,ue=ne.parcatsViewModel.graphDiv,he=I.select(re.parentNode).selectAll("rect.bandrect"),pe=[];he.each(function(xe){A(xe).each(function(Se){Array.prototype.push.apply(pe,p(Se))})});var ge={};ge[ae.dimensionInd]=ae.categoryValue,ue.emit(ee,{points:pe,event:K,constraints:ge})}function C(re,ee,K){var ne=I.select(re).datum(),ae=ne.categoryViewModel.model,ue=ne.parcatsViewModel.graphDiv,he=A(ne),pe=[];he.each(function(xe){Array.prototype.push.apply(pe,p(xe))});var ge={};ge[ae.dimensionInd]=ae.categoryValue,void 0!==ne.rawColor&&(ge.color=ne.rawColor),ue.emit(ee,{points:pe,event:K,constraints:ge})}function k(re,ee,K){re._fullLayout._calcInverseTransform(re);var ne,ae,ue=re._fullLayout._invScaleX,he=re._fullLayout._invScaleY,pe=I.select(K.parentNode).select("rect.catrect"),ge=pe.node().getBoundingClientRect(),xe=pe.datum(),Se=xe.parcatsViewModel,ye=Se.trace,we=ge.top+ge.height/2;Se.dimensions.length>1&&Se.model.dimensions[xe.model.dimensionInd].displayInd===Se.dimensions.length-1?(ne=ge.left,ae="left"):(ne=ge.left+ge.width,ae="right");var ze=xe.model.count,ke=xe.model.categoryLabel,Ee=ze/xe.parcatsViewModel.model.count,me={countLabel:ze,categoryLabel:ke,probabilityLabel:Ee.toFixed(3)},de=[];-1!==xe.parcatsViewModel.hoverinfoItems.indexOf("count")&&de.push(["Count:",me.countLabel].join(" ")),-1!==xe.parcatsViewModel.hoverinfoItems.indexOf("probability")&&de.push(["P("+me.categoryLabel+"):",me.probabilityLabel].join(" "));var ce=de.join("<br>");return{trace:ye,x:ue*(ne-ee.left),y:he*(we-ee.top),text:ce,color:"lightgray",borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontSize:12,fontColor:"black",idealAlign:ae,hovertemplate:ye.hovertemplate,hovertemplateLabels:me,eventData:[{data:ye._input,fullData:ye,count:ze,category:ke,probability:Ee}]}}function P(re){if(!re.parcatsViewModel.dragDimension&&-1===re.parcatsViewModel.hoverinfoItems.indexOf("skip")){if(I.mouse(this)[1]<-1)return;var ee,K=re.parcatsViewModel.graphDiv,ne=K._fullLayout,ae=ne._paperdiv.node().getBoundingClientRect(),ue=re.parcatsViewModel.hoveron,he=this;"color"===ue?(w(xe=A(ge=I.select(pe=he).datum())),xe.each(function(){M.raiseToTop(this)}),I.select(pe.parentNode).selectAll("rect.bandrect").filter(function(Se){return Se.color===ge.color}).each(function(){M.raiseToTop(this),I.select(this).attr("stroke","black").attr("stroke-width",1.5)}),C(he,"plotly_hover",I.event)):(function(pe){I.select(pe.parentNode).selectAll("rect.bandrect").each(function(ge){var xe=A(ge);w(xe),xe.each(function(){M.raiseToTop(this)})}),I.select(pe.parentNode).select("rect.catrect").attr("stroke","black").attr("stroke-width",2.5)}(he),m(he,"plotly_hover",I.event)),-1===re.parcatsViewModel.hoverinfoItems.indexOf("none")&&("category"===ue?ee=k(K,ae,he):"color"===ue?ee=function(pe,ge,xe){pe._fullLayout._calcInverseTransform(pe);var Se,Te,ye=pe._fullLayout._invScaleX,we=pe._fullLayout._invScaleY,ze=xe.getBoundingClientRect(),ke=I.select(xe).datum(),Ee=ke.categoryViewModel,me=Ee.parcatsViewModel,ce=me.trace,Ae=ze.y+ze.height/2;me.dimensions.length>1&&me.model.dimensions[Ee.model.dimensionInd].displayInd===me.dimensions.length-1?(Se=ze.left,Te="left"):(Se=ze.left+ze.width,Te="right");var Ne=Ee.model.categoryLabel,De=ke.parcatsViewModel.model.count,Ue=0;ke.categoryViewModel.bands.forEach(function(st){st.color===ke.color&&(Ue+=st.count)});var Ye=Ee.model.count,_e=0;me.pathSelection.each(function(st){st.model.color===ke.color&&(_e+=st.model.count)});var Pe=Ue/De,Ie=Ue/_e,Be=Ue/Ye,We={countLabel:De,categoryLabel:Ne,probabilityLabel:Pe.toFixed(3)},Ge=[];-1!==Ee.parcatsViewModel.hoverinfoItems.indexOf("count")&&Ge.push(["Count:",We.countLabel].join(" ")),-1!==Ee.parcatsViewModel.hoverinfoItems.indexOf("probability")&&(Ge.push("P(color \u2229 "+Ne+"): "+We.probabilityLabel),Ge.push("P("+Ne+" | color): "+Ie.toFixed(3)),Ge.push("P(color | "+Ne+"): "+Be.toFixed(3)));var Ke=Ge.join("<br>"),tt=i.mostReadable(ke.color,["black","white"]);return{trace:ce,x:ye*(Se-ge.left),y:we*(Ae-ge.top),text:Ke,color:ke.color,borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontColor:tt,fontSize:10,idealAlign:Te,hovertemplate:ce.hovertemplate,hovertemplateLabels:We,eventData:[{data:ce._input,fullData:ce,category:Ne,count:De,probability:Pe,categorycount:Ye,colorcount:_e,bandcolorcount:Ue}]}}(K,ae,he):"dimension"===ue&&(ee=function(pe,ge,xe){var Se=[];return I.select(xe.parentNode.parentNode).selectAll("g.category").select("rect.catrect").each(function(){Se.push(k(pe,ge,this))}),Se}(K,ae,he)),ee&&S.loneHover(ee,{container:ne._hoverlayer.node(),outerContainer:ne._paper.node(),gd:K}))}var pe,ge,xe}function R(re){var ee=re.parcatsViewModel;ee.dragDimension||(g(ee.pathSelection),x(ee.dimensionSelection.selectAll("g.category")),b(ee.dimensionSelection.selectAll("g.category").selectAll("rect.bandrect")),S.loneUnhover(ee.graphDiv._fullLayout._hoverlayer.node()),ee.pathSelection.sort(c),-1!==ee.hoverinfoItems.indexOf("skip"))||("color"===re.parcatsViewModel.hoveron?C(this,"plotly_unhover",I.event):m(this,"plotly_unhover",I.event))}function L(re){"fixed"!==re.parcatsViewModel.arrangement&&(re.dragDimensionDisplayInd=re.model.displayInd,re.initialDragDimensionDisplayInds=re.parcatsViewModel.model.dimensions.map(function(ee){return ee.displayInd}),re.dragHasMoved=!1,re.dragCategoryDisplayInd=null,I.select(this).selectAll("g.category").select("rect.catrect").each(function(ee){var K=I.mouse(this)[0],ne=I.mouse(this)[1];-2<=K&&K<=ee.width+2&&-2<=ne&&ne<=ee.height+2&&(re.dragCategoryDisplayInd=ee.model.displayInd,re.initialDragCategoryDisplayInds=re.model.categories.map(function(ae){return ae.displayInd}),ee.model.dragY=ee.y,M.raiseToTop(this.parentNode),I.select(this.parentNode).selectAll("rect.bandrect").each(function(ae){ae.y<ne&&ne<=ae.y+ae.height&&(re.potentialClickBand=this)}))}),re.parcatsViewModel.dragDimension=re,S.loneUnhover(re.parcatsViewModel.graphDiv._fullLayout._hoverlayer.node()))}function N(re){if("fixed"!==re.parcatsViewModel.arrangement&&(re.dragHasMoved=!0,null!==re.dragDimensionDisplayInd)){var ee=re.dragDimensionDisplayInd,K=ee-1,ne=ee+1,ae=re.parcatsViewModel.dimensions[ee];if(null!==re.dragCategoryDisplayInd){var ue=ae.categories[re.dragCategoryDisplayInd];ue.model.dragY+=I.event.dy;var he=ue.model.dragY,pe=ue.model.displayInd,ge=ae.categories,xe=ge[pe-1],Se=ge[pe+1];void 0!==xe&&he<xe.y+xe.height/2&&(ue.model.displayInd=xe.model.displayInd,xe.model.displayInd=pe),void 0!==Se&&he+ue.height>Se.y+Se.height/2&&(ue.model.displayInd=Se.model.displayInd,Se.model.displayInd=pe),re.dragCategoryDisplayInd=ue.model.displayInd}if(null===re.dragCategoryDisplayInd||"freeform"===re.parcatsViewModel.arrangement){ae.model.dragX=I.event.x;var Te=re.parcatsViewModel.dimensions[K],ye=re.parcatsViewModel.dimensions[ne];void 0!==Te&&ae.model.dragX<Te.x+Te.width&&(ae.model.displayInd=Te.model.displayInd,Te.model.displayInd=ee),void 0!==ye&&ae.model.dragX+ae.width>ye.x&&(ae.model.displayInd=ye.model.displayInd,ye.model.displayInd=re.dragDimensionDisplayInd),re.dragDimensionDisplayInd=ae.model.displayInd}X(re.parcatsViewModel),Z(re.parcatsViewModel),Y(re.parcatsViewModel),z(re.parcatsViewModel)}}function B(re){if("fixed"!==re.parcatsViewModel.arrangement&&null!==re.dragDimensionDisplayInd){I.select(this).selectAll("text").attr("font-weight","normal");var ee={},K=J(re.parcatsViewModel),ne=re.parcatsViewModel.model.dimensions.map(function(Se){return Se.displayInd}),ae=re.initialDragDimensionDisplayInds.some(function(Se,Te){return Se!==ne[Te]});ae&&ne.forEach(function(Se,Te){ee["dimensions["+re.parcatsViewModel.model.dimensions[Te].containerInd+"].displayindex"]=Se});var ue=!1;if(null!==re.dragCategoryDisplayInd){var he=re.model.categories.map(function(Se){return Se.displayInd});if(ue=re.initialDragCategoryDisplayInds.some(function(Se,Te){return Se!==he[Te]})){var pe=re.model.categories.slice().sort(function(Se,Te){return Se.displayInd-Te.displayInd}),ge=pe.map(function(Se){return Se.categoryValue}),xe=pe.map(function(Se){return Se.categoryLabel});ee["dimensions["+re.model.containerInd+"].categoryarray"]=[ge],ee["dimensions["+re.model.containerInd+"].ticktext"]=[xe],ee["dimensions["+re.model.containerInd+"].categoryorder"]="array"}}-1===re.parcatsViewModel.hoverinfoItems.indexOf("skip")&&!re.dragHasMoved&&re.potentialClickBand&&("color"===re.parcatsViewModel.hoveron?C(re.potentialClickBand,"plotly_click",I.event.sourceEvent):m(re.potentialClickBand,"plotly_click",I.event.sourceEvent)),re.model.dragX=null,null!==re.dragCategoryDisplayInd&&(re.parcatsViewModel.dimensions[re.dragDimensionDisplayInd].categories[re.dragCategoryDisplayInd].model.dragY=null,re.dragCategoryDisplayInd=null),re.dragDimensionDisplayInd=null,re.parcatsViewModel.dragDimension=null,re.dragHasMoved=null,re.potentialClickBand=null,X(re.parcatsViewModel),Z(re.parcatsViewModel),I.transition().duration(300).ease("cubic-in-out").each(function(){Y(re.parcatsViewModel,!0),z(re.parcatsViewModel,!0)}).each("end",function(){(ae||ue)&&f.restyle(re.parcatsViewModel.graphDiv,ee,[K])})}}function J(re){for(var ee,K=re.graphDiv._fullData,ne=0;ne<K.length;ne++)if(re.key===K[ne].uid){ee=ne;break}return ee}function z(re,ee){var K;void 0===ee&&(ee=!1),re.pathSelection.data(function(ne){return ne.paths},o),(K=re.pathSelection,ee?K.transition():K).attr("d",function(ne){return ne.svgD})}function Y(re,ee){function K(he){return ee?he.transition():he}void 0===ee&&(ee=!1),re.dimensionSelection.data(function(he){return he.dimensions},o);var ne=re.dimensionSelection.selectAll("g.category").data(function(he){return he.categories},o);K(re.dimensionSelection).attr("transform",function(he){return y(he.x,0)}),K(ne).attr("transform",function(he){return y(0,he.y)}),ne.select(".dimlabel").text(function(he,pe){return 0===pe?he.parcatsViewModel.model.dimensions[he.model.dimensionInd].dimensionLabel:null}),ne.select(".catlabel").attr("text-anchor",function(he){return l(he)?"start":"end"}).attr("x",function(he){return l(he)?he.width+5:-5}).each(function(he){var pe,ge;l(he)?(pe=he.width+5,ge="start"):(pe=-5,ge="end"),I.select(this).selectAll("tspan").attr("x",pe).attr("text-anchor",ge)});var ae=ne.selectAll("rect.bandrect").data(function(he){return he.bands},o),ue=ae.enter().append("rect").attr("class","bandrect").attr("cursor","move").attr("stroke-opacity",0).attr("fill",function(he){return he.color}).attr("fill-opacity",0);ae.attr("fill",function(he){return he.color}).attr("width",function(he){return he.width}).attr("height",function(he){return he.height}).attr("y",function(he){return he.y}),b(ue),ae.each(function(){M.raiseToTop(this)}),ae.exit().remove()}function q(re,ee,K){var ne,ae=K[0],ue=ee.margin||{l:80,r:80,t:100,b:80},he=ae.trace,pe=he.domain,ge=ee.width,xe=ee.height,Se=Math.floor(ge*(pe.x[1]-pe.x[0])),Te=Math.floor(xe*(pe.y[1]-pe.y[0])),ye=pe.x[0]*ge+ue.l,we=ee.height-pe.y[1]*ee.height+ue.t,ze=he.line.shape;ne="all"===he.hoverinfo?["count","probability"]:(he.hoverinfo||"").split("+");var ke={trace:he,key:he.uid,model:ae,x:ye,y:we,width:Se,height:Te,hoveron:he.hoveron,hoverinfoItems:ne,arrangement:he.arrangement,bundlecolors:he.bundlecolors,sortpaths:he.sortpaths,labelfont:he.labelfont,categorylabelfont:he.tickfont,pathShape:ze,dragDimension:null,margin:ue,paths:[],dimensions:[],graphDiv:re,traceSelection:null,pathSelection:null,dimensionSelection:null};return ae.dimensions&&(X(ke),Z(ke)),ke}function U(re,ee,K,ne,ae){var ue,he,pe=[],ge=[];for(he=0;he<K.length-1;he++)ue=E(K[he]+re[he],re[he+1]),pe.push(ue(ae)),ge.push(ue(1-ae));var xe="M "+re[0]+","+ee[0];for(xe+="l"+K[0]+",0 ",he=1;he<K.length;he++)xe+="C"+pe[he-1]+","+ee[he-1]+" "+ge[he-1]+","+ee[he]+" "+re[he]+","+ee[he],xe+="l"+K[he]+",0 ";for(xe+="l0,"+ne+" ",xe+="l -"+K[K.length-1]+",0 ",he=K.length-2;he>=0;he--)xe+="C"+ge[he]+","+(ee[he+1]+ne)+" "+pe[he]+","+(ee[he]+ne)+" "+(re[he]+K[he])+","+(ee[he]+ne),xe+="l-"+K[he]+",0 ";return xe+"Z"}function Z(re){var ee=re.dimensions,K=re.model,ne=ee.map(function(We){return We.categories.map(function(Ge){return Ge.y})}),ae=re.model.dimensions.map(function(We){return We.categories.map(function(Ge){return Ge.displayInd})}),ue=re.model.dimensions.map(function(We){return We.displayInd}),he=re.dimensions.map(function(We){return We.model.dimensionInd}),pe=ee.map(function(We){return We.x}),ge=ee.map(function(We){return We.width}),xe=[];for(var Se in K.paths)K.paths.hasOwnProperty(Se)&&xe.push(K.paths[Se]);function Te(We){var Ge=We.categoryInds.map(function(Ke,tt){return ae[tt][Ke]});return he.map(function(Ke){return Ge[Ke]})}xe.sort(function(We,Ge){var Ke=Te(We),tt=Te(Ge);return"backward"===re.sortpaths&&(Ke.reverse(),tt.reverse()),Ke.push(We.valueInds[0]),tt.push(Ge.valueInds[0]),re.bundlecolors&&(Ke.unshift(We.rawColor),tt.unshift(Ge.rawColor)),Ke<tt?-1:Ke>tt?1:0});for(var ye=new Array(xe.length),we=ee[0].model.count,ze=ee[0].categories.map(function(We){return We.height}).reduce(function(We,Ge){return We+Ge}),ke=0;ke<xe.length;ke++){var Ee,me=xe[ke];Ee=we>0?ze*(me.count/we):0;for(var de,ce=new Array(ne.length),Ae=0;Ae<me.categoryInds.length;Ae++){var De=ae[Ae][me.categoryInds[Ae]],Ue=ue[Ae];ce[Ue]=ne[Ue][De],ne[Ue][De]+=Ee;var Ye=re.dimensions[Ue].categories[De],_e=Ye.bands.length,Pe=Ye.bands[_e-1];if(void 0===Pe||me.rawColor!==Pe.rawColor){var Ie=void 0===Pe?0:Pe.y+Pe.height;Ye.bands.push({key:Ie,color:me.color,rawColor:me.rawColor,height:Ee,width:Ye.width,count:me.count,y:Ie,categoryViewModel:Ye,parcatsViewModel:re})}else{var Be=Ye.bands[_e-1];Be.height+=Ee,Be.count+=me.count}}de=U(pe,ce,ge,Ee,"hspline"===re.pathShape?.5:0),ye[ke]={key:me.valueInds[0],model:me,height:Ee,leftXs:pe,topYs:ce,dimWidths:ge,svgD:de,parcatsViewModel:re}}re.paths=ye}function X(re){var ee=re.model.dimensions.map(function(he){return{displayInd:he.displayInd,dimensionInd:he.dimensionInd}});ee.sort(function(he,pe){return he.displayInd-pe.displayInd});var K=[];for(var ne in ee)K.push(se(re,re.model.dimensions[ee[ne].dimensionInd]));re.dimensions=K}function se(re,ee){var K,ne=re.model.dimensions.length;K=40+(ne>1?(re.width-80-16)/(ne-1):0)*ee.displayInd;var ue,he,pe,xe,Se=[],Te=re.model.maxCats,ye=ee.categories.length,we=ee.count,ze=re.height-8*(Te-1),ke=8*(Te-ye)/2,Ee=ee.categories.map(function(me){return{displayInd:me.displayInd,categoryInd:me.categoryInd}});for(Ee.sort(function(me,de){return me.displayInd-de.displayInd}),xe=0;xe<ye;xe++)pe={key:(he=ee.categories[Ee[xe].categoryInd]).valueInds[0],model:he,width:16,height:ue=we>0?he.count/we*ze:0,y:null!==he.dragY?he.dragY:ke,bands:[],parcatsViewModel:re},ke=ke+ue+8,Se.push(pe);return{key:ee.dimensionInd,x:null!==ee.dragX?ee.dragX:K,y:0,width:16,model:ee,categories:Se,parcatsViewModel:re,dragCategoryDisplayInd:null,dragDimensionDisplayInd:null,initialDragDimensionDisplayInds:null,initialDragCategoryDisplayInds:null,dragHasMoved:null,potentialClickBand:null}}oe.exports=function(re,ee,K,ne){a(K,re,ne,ee)}},45784:function(oe,j,r){"use strict";var I=r(45460);oe.exports=function(E,f,S,M){var y=E._fullLayout,i=y._size;I(E,y._paper,f,{width:i.w,height:i.h,margin:{t:i.t,r:i.r,b:i.b,l:i.l}},S,M)}},73362:function(oe,j,r){"use strict";var I=r(50693),E=r(13838),f=r(41940),S=r(27670).Y,M=r(1426).extendFlat,y=r(44467).templatedArray;oe.exports={domain:S({name:"parcoords",trace:!0,editType:"plot"}),labelangle:{valType:"angle",dflt:0,editType:"plot"},labelside:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},labelfont:f({editType:"plot"}),tickfont:f({editType:"plot"}),rangefont:f({editType:"plot"}),dimensions:y("dimension",{label:{valType:"string",editType:"plot"},tickvals:M({},E.tickvals,{editType:"plot"}),ticktext:M({},E.ticktext,{editType:"plot"}),tickformat:M({},E.tickformat,{editType:"plot"}),visible:{valType:"boolean",dflt:!0,editType:"plot"},range:{valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],editType:"plot"},constraintrange:{valType:"info_array",freeLength:!0,dimensions:"1-2",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},multiselect:{valType:"boolean",dflt:!0,editType:"plot"},values:{valType:"data_array",editType:"calc"},editType:"calc"}),line:M({editType:"calc"},I("line",{colorscaleDflt:"Viridis",autoColorDflt:!1,editTypeOverride:"calc"})),unselected:{line:{color:{valType:"color",dflt:"#7f7f7f",editType:"plot"},opacity:{valType:"number",min:0,max:1,dflt:"auto",editType:"plot"},editType:"plot"},editType:"plot"}}},57920:function(oe,j,r){"use strict";var I=r(25706),E=r(39898),f=r(28984).keyFun,S=r(28984).repeat,M=r(71828).sorterAsc,y=r(71828).strTranslate,u=I.bar.snapRatio;function i(k,P){return k*(1-u)+P*u}var s=I.bar.snapClose;function a(k,P){return k*(1-s)+P*s}function o(k,P,R,L){if(function(se,re){for(var ee=0;ee<re.length;ee++)if(se>=re[ee][0]&&se<=re[ee][1])return!0;return!1}(R,L))return R;var N=k?-1:1,B=0,J=P.length-1;if(N<0){var z=B;B=J,J=z}for(var Y=P[B],q=Y,U=B;N*U<N*J;U+=N){var Z=U+N,X=P[Z];if(N*R<N*a(Y,X))return i(Y,q);if(N*R<N*X||Z===J)return i(X,Y);q=Y,Y=X}}function l(k){k.attr("x",-I.bar.captureWidth/2).attr("width",I.bar.captureWidth)}function c(k){k.attr("visibility","visible").style("visibility","visible").attr("fill","yellow").attr("opacity",0)}function h(k){if(!k.brush.filterSpecified)return"0,"+k.height;for(var P,R,L,N=v(k.brush.filter.getConsolidated(),k.height),B=[0],J=N.length?N[0][0]:null,z=0;z<N.length;z++)R=(P=N[z])[1]-P[0],B.push(J),B.push(R),(L=z+1)<N.length&&(J=N[L][0]-P[1]);return B.push(k.height),B}function v(k,P){return k.map(function(R){return R.map(function(L){return Math.max(0,L*P)}).sort(M)})}function p(){E.select(document.body).style("cursor",null)}function T(k){k.attr("stroke-dasharray",h)}function _(k,P){var R=E.select(k).selectAll(".highlight, .highlight-shadow");T(P?R.transition().duration(I.bar.snapDuration).each("end",P):R)}function g(k,P){var R,L=k.brush,N=NaN,B={};if(L.filterSpecified){var J=k.height,z=L.filter.getConsolidated(),Y=v(z,J),q=NaN,U=NaN,Z=NaN;for(R=0;R<=Y.length;R++){var X=Y[R];if(X&&X[0]<=P&&P<=X[1]){q=R;break}if(U=R?R-1:NaN,X&&X[0]>P){Z=R;break}}if(N=q,isNaN(N)&&(N=isNaN(U)||isNaN(Z)?isNaN(U)?Z:U:P-Y[U][1]<Y[Z][0]-P?U:Z),!isNaN(N)){var se=Y[N],re=function(ae,ue){var he=I.bar.handleHeight;if(!(ue>ae[1]+he||ue<ae[0]-he))return ue>=.9*ae[1]+.1*ae[0]?"n":ue<=.9*ae[0]+.1*ae[1]?"s":"ns"}(se,P);re&&(B.interval=z[N],B.intervalPix=se,B.region=re)}}if(k.ordinal&&!B.region){var ee=k.unitTickvals,K=k.unitToPaddedPx.invert(P);for(R=0;R<ee.length;R++){var ne=[.25*ee[Math.max(R-1,0)]+.75*ee[R],.25*ee[Math.min(R+1,ee.length-1)]+.75*ee[R]];if(K>=ne[0]&&K<=ne[1]){B.clickableOrdinalRange=ne;break}}}return B}function w(k,P){E.event.sourceEvent.stopPropagation();var R=P.height-E.mouse(k)[1]-2*I.verticalPadding,L=P.brush.svgBrush;L.wasDragged=!0,L._dragging=!0,L.newExtent=L.grabbingBar?[R-L.grabPoint,R+L.barLength-L.grabPoint].map(P.unitToPaddedPx.invert):[L.startExtent,P.unitToPaddedPx.invert(R)].sort(M),P.brush.filterSpecified=!0,L.extent=L.stayingIntervals.concat([L.newExtent]),L.brushCallback(P),_(k.parentNode)}function x(k,P){var R=g(P,P.height-E.mouse(k)[1]-2*I.verticalPadding),L="crosshair";R.clickableOrdinalRange?L="pointer":R.region&&(L=R.region+"-resize"),E.select(document.body).style("cursor",L)}function b(k){k.on("mousemove",function(P){E.event.preventDefault(),P.parent.inBrushDrag||x(this,P)}).on("mouseleave",function(P){P.parent.inBrushDrag||p()}).call(E.behavior.drag().on("dragstart",function(P){!function(R,L){E.event.sourceEvent.stopPropagation();var N=L.height-E.mouse(R)[1]-2*I.verticalPadding,B=L.unitToPaddedPx.invert(N),J=L.brush,z=g(L,N),Y=z.interval,q=J.svgBrush;if(q.wasDragged=!1,q.grabbingBar="ns"===z.region,q.grabbingBar){var U=Y.map(L.unitToPaddedPx);q.grabPoint=N-U[0]-I.verticalPadding,q.barLength=U[1]-U[0]}q.clickableOrdinalRange=z.clickableOrdinalRange,q.stayingIntervals=L.multiselect&&J.filterSpecified?J.filter.getConsolidated():[],Y&&(q.stayingIntervals=q.stayingIntervals.filter(function(Z){return Z[0]!==Y[0]&&Z[1]!==Y[1]})),q.startExtent=z.region?Y["s"===z.region?1:0]:B,L.parent.inBrushDrag=!0,q.brushStartCallback()}(this,P)}).on("drag",function(P){w(this,P)}).on("dragend",function(P){!function(R,L){var N=L.brush,B=N.filter,J=N.svgBrush;J._dragging||(x(R,L),w(R,L),L.brush.svgBrush.wasDragged=!1),J._dragging=!1,E.event.sourceEvent.stopPropagation();var z=J.grabbingBar;if(J.grabbingBar=!1,J.grabLocation=void 0,L.parent.inBrushDrag=!1,p(),!J.wasDragged)return J.wasDragged=void 0,J.clickableOrdinalRange?N.filterSpecified&&L.multiselect?J.extent.push(J.clickableOrdinalRange):(J.extent=[J.clickableOrdinalRange],N.filterSpecified=!0):z?(J.extent=J.stayingIntervals,0===J.extent.length&&m(N)):m(N),J.brushCallback(L),_(R.parentNode),void J.brushEndCallback(N.filterSpecified?B.getConsolidated():[]);var Y=function(){B.set(B.getConsolidated())};if(L.ordinal){var q=L.unitTickvals;q[q.length-1]<q[0]&&q.reverse(),J.newExtent=[o(0,q,J.newExtent[0],J.stayingIntervals),o(1,q,J.newExtent[1],J.stayingIntervals)];var U=J.newExtent[1]>J.newExtent[0];J.extent=J.stayingIntervals.concat(U?[J.newExtent]:[]),J.extent.length||m(N),J.brushCallback(L),U?_(R.parentNode,Y):(Y(),_(R.parentNode))}else Y();J.brushEndCallback(N.filterSpecified?B.getConsolidated():[])}(this,P)}))}function A(k,P){return k[0]-P[0]}function m(k){k.filterSpecified=!1,k.svgBrush.extent=[[-1/0,1/0]]}function C(k){for(var P,R=k.slice(),L=[],N=R.shift();N;){for(P=N.slice();(N=R.shift())&&N[0]<=P[1];)P[1]=Math.max(P[1],N[1]);L.push(P)}return 1===L.length&&L[0][0]>L[0][1]&&(L=[]),L}oe.exports={makeBrush:function(k,P,R,L,N,B){var J,Y,q,U,z=(U=[],{set:function(Z){1===(U=Z.map(function(X){return X.slice().sort(M)}).sort(A)).length&&U[0][0]===-1/0&&U[0][1]===1/0&&(U=[[0,-1]]),Y=C(U),q=U.reduce(function(X,se){return[Math.min(X[0],se[0]),Math.max(X[1],se[1])]},[1/0,-1/0])},get:function(){return U.slice()},getConsolidated:function(){return Y},getBounds:function(){return q}});return z.set(R),{filter:z,filterSpecified:P,svgBrush:{extent:[],brushStartCallback:L,brushCallback:(J=N,function(Y){var q=Y.brush,Z=q.svgBrush.extent.map(function(se){return se.slice()}).slice();q.filter.set(Z),J()}),brushEndCallback:B}}},ensureAxisBrush:function(k,P,R){var L=k.selectAll("."+I.cn.axisBrush).data(S,f);L.enter().append("g").classed(I.cn.axisBrush,!0),function(N,B,J){var z=J._context.staticPlot,Y=N.selectAll(".background").data(S);Y.enter().append("rect").classed("background",!0).call(l).call(c).style("pointer-events",z?"none":"auto").attr("transform",y(0,I.verticalPadding)),Y.call(b).attr("height",function(Z){return Z.height-I.verticalPadding});var q=N.selectAll(".highlight-shadow").data(S);q.enter().append("line").classed("highlight-shadow",!0).attr("x",-I.bar.width/2).attr("stroke-width",I.bar.width+I.bar.strokeWidth).attr("stroke",B).attr("opacity",I.bar.strokeOpacity).attr("stroke-linecap","butt"),q.attr("y1",function(Z){return Z.height}).call(T);var U=N.selectAll(".highlight").data(S);U.enter().append("line").classed("highlight",!0).attr("x",-I.bar.width/2).attr("stroke-width",I.bar.width-I.bar.strokeWidth).attr("stroke",I.bar.fillColor).attr("opacity",I.bar.fillOpacity).attr("stroke-linecap","butt"),U.attr("y1",function(Z){return Z.height}).call(T)}(L,P,R)},cleanRanges:function(k,P){if(Array.isArray(k[0])?(k=k.map(function(L){return L.sort(M)}),k=P.multiselect?C(k.sort(A)):[k[0]]):k=[k.sort(M)],P.tickvals){var R=P.tickvals.slice().sort(M);if(!(k=k.map(function(L){var N=[o(0,R,L[0],[]),o(1,R,L[1],[])];if(N[1]>N[0])return N}).filter(function(L){return L})).length)return}return k.length>1?k:k[0]}}},71791:function(oe,j,r){"use strict";oe.exports={attributes:r(73362),supplyDefaults:r(3633),calc:r(24639),colorbar:{container:"line",min:"cmin",max:"cmax"},moduleType:"trace",name:"parcoords",basePlotModule:r(49351),categories:["gl","regl","noOpacity","noHover"],meta:{}}},49351:function(oe,j,r){"use strict";var I=r(39898),E=r(27659).a0,f=r(21341),S=r(77922);j.name="parcoords",j.plot=function(M){var y=E(M.calcdata,"parcoords")[0];y.length&&f(M,y)},j.clean=function(M,y,u,i){var s=i._has&&i._has("parcoords"),a=y._has&&y._has("parcoords");s&&!a&&(i._paperdiv.selectAll(".parcoords").remove(),i._glimages.selectAll("*").remove())},j.toSVG=function(M){var y=M._fullLayout._glimages,u=I.select(M).selectAll(".svg-container");u.filter(function(i,s){return s===u.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus").each(function(){var i=this,s=i.toDataURL("image/png");y.append("svg:image").attr({xmlns:S.svg,"xlink:href":s,preserveAspectRatio:"none",x:0,y:0,width:i.style.width,height:i.style.height})}),window.setTimeout(function(){I.selectAll("#filterBarPattern").attr("id","filterBarPattern")},60)}},24639:function(oe,j,r){"use strict";var I=r(71828).isArrayOrTypedArray,E=r(21081),f=r(28984).wrap;oe.exports=function(S,M){var y,u;return E.hasColorscale(M,"line")&&I(M.line.color)?(y=M.line.color,u=E.extractOpts(M.line).colorscale,E.calc(S,M,{vals:y,containerStr:"line",cLetter:"c"})):(y=function(i){for(var s=new Array(i),a=0;a<i;a++)s[a]=.5;return s}(M._length),u=[[0,M.line.color],[1,M.line.color]]),f({lineColor:y,cscale:u})}},25706:function(oe){"use strict";oe.exports={maxDimensionCount:60,overdrag:45,verticalPadding:2,tickDistance:50,canvasPixelRatio:1,blockLineCount:5e3,layers:["contextLineLayer","focusLineLayer","pickLineLayer"],axisTitleOffset:28,axisExtentOffset:10,bar:{width:4,captureWidth:10,fillColor:"magenta",fillOpacity:1,snapDuration:150,snapRatio:.25,snapClose:.01,strokeOpacity:1,strokeWidth:1,handleHeight:8,handleOpacity:1,handleOverlap:0},cn:{axisExtentText:"axis-extent-text",parcoordsLineLayers:"parcoords-line-layers",parcoordsLineLayer:"parcoords-lines",parcoords:"parcoords",parcoordsControlView:"parcoords-control-view",yAxis:"y-axis",axisOverlays:"axis-overlays",axis:"axis",axisHeading:"axis-heading",axisTitle:"axis-title",axisExtent:"axis-extent",axisExtentTop:"axis-extent-top",axisExtentTopText:"axis-extent-top-text",axisExtentBottom:"axis-extent-bottom",axisExtentBottomText:"axis-extent-bottom-text",axisBrush:"axis-brush"},id:{filterBarPattern:"filter-bar-pattern"}}},3633:function(oe,j,r){"use strict";var I=r(71828),E=r(52075).hasColorscale,f=r(1586),S=r(27670).c,M=r(85501),y=r(89298),u=r(73362),i=r(57920),s=r(25706).maxDimensionCount,a=r(94397);function o(l,c,h,v){function p(x,b){return I.coerce(l,c,u.dimensions,x,b)}var T=p("values"),_=p("visible");if(T&&T.length||(_=c.visible=!1),_){p("label"),p("tickvals"),p("ticktext"),p("tickformat");var g=p("range");c._ax={_id:"y",type:"linear",showexponent:"all",exponentformat:"B",range:g},y.setConvert(c._ax,v.layout),p("multiselect");var w=p("constraintrange");w&&(c.constraintrange=i.cleanRanges(w,c))}}oe.exports=function(l,c,h,v){function p(x,b){return I.coerce(l,c,u,x,b)}var T=l.dimensions;Array.isArray(T)&&T.length>s&&(I.log("parcoords traces support up to "+s+" dimensions at the moment"),T.splice(s));var _=M(l,c,{name:"dimensions",layout:v,handleItemDefaults:o}),g=function(x,b,A,m,C){var k=C("line.color",A);if(E(x,"line")&&I.isArrayOrTypedArray(k)){if(k.length)return C("line.colorscale"),f(x,b,m,C,{prefix:"line.",cLetter:"c"}),k.length;b.line.color=A}return 1/0}(l,c,h,v,p);S(c,v,p),Array.isArray(_)&&_.length||(c.visible=!1),a(c,_,"values",g);var w={family:v.font.family,size:Math.round(v.font.size/1.2),color:v.font.color};I.coerceFont(p,"labelfont",w),I.coerceFont(p,"tickfont",w),I.coerceFont(p,"rangefont",w),p("labelangle"),p("labelside"),p("unselected.line.color"),p("unselected.line.opacity")}},1602:function(oe,j,r){"use strict";var I=r(71828).isTypedArray;j.convertTypedArray=function(E){return I(E)?Array.prototype.slice.call(E):E},j.isOrdinal=function(E){return!!E.tickvals},j.isVisible=function(E){return E.visible||!("visible"in E)}},67618:function(oe,j,r){"use strict";var I=r(71791);I.plot=r(21341),oe.exports=I},83398:function(oe,j,r){"use strict";var I=r(56068),E=I(["precision highp float;\n#define GLSLIFY 1\n\nvarying vec4 fragColor;\n\nattribute vec4 p01_04, p05_08, p09_12, p13_16,\n               p17_20, p21_24, p25_28, p29_32,\n               p33_36, p37_40, p41_44, p45_48,\n               p49_52, p53_56, p57_60, colors;\n\nuniform mat4 dim0A, dim1A, dim0B, dim1B, dim0C, dim1C, dim0D, dim1D,\n             loA, hiA, loB, hiB, loC, hiC, loD, hiD;\n\nuniform vec2 resolution, viewBoxPos, viewBoxSize;\nuniform float maskHeight;\nuniform float drwLayer; // 0: context, 1: focus, 2: pick\nuniform vec4 contextColor;\nuniform sampler2D maskTexture, palette;\n\nbool isPick    = (drwLayer > 1.5);\nbool isContext = (drwLayer < 0.5);\n\nconst vec4 ZEROS = vec4(0.0, 0.0, 0.0, 0.0);\nconst vec4 UNITS = vec4(1.0, 1.0, 1.0, 1.0);\n\nfloat val(mat4 p, mat4 v) {\n    return dot(matrixCompMult(p, v) * UNITS, UNITS);\n}\n\nfloat axisY(float ratio, mat4 A, mat4 B, mat4 C, mat4 D) {\n    float y1 = val(A, dim0A) + val(B, dim0B) + val(C, dim0C) + val(D, dim0D);\n    float y2 = val(A, dim1A) + val(B, dim1B) + val(C, dim1C) + val(D, dim1D);\n    return y1 * (1.0 - ratio) + y2 * ratio;\n}\n\nint iMod(int a, int b) {\n    return a - b * (a / b);\n}\n\nbool fOutside(float p, float lo, float hi) {\n    return (lo < hi) && (lo > p || p > hi);\n}\n\nbool vOutside(vec4 p, vec4 lo, vec4 hi) {\n    return (\n        fOutside(p[0], lo[0], hi[0]) ||\n        fOutside(p[1], lo[1], hi[1]) ||\n        fOutside(p[2], lo[2], hi[2]) ||\n        fOutside(p[3], lo[3], hi[3])\n    );\n}\n\nbool mOutside(mat4 p, mat4 lo, mat4 hi) {\n    return (\n        vOutside(p[0], lo[0], hi[0]) ||\n        vOutside(p[1], lo[1], hi[1]) ||\n        vOutside(p[2], lo[2], hi[2]) ||\n        vOutside(p[3], lo[3], hi[3])\n    );\n}\n\nbool outsideBoundingBox(mat4 A, mat4 B, mat4 C, mat4 D) {\n    return mOutside(A, loA, hiA) ||\n           mOutside(B, loB, hiB) ||\n           mOutside(C, loC, hiC) ||\n           mOutside(D, loD, hiD);\n}\n\nbool outsideRasterMask(mat4 A, mat4 B, mat4 C, mat4 D) {\n    mat4 pnts[4];\n    pnts[0] = A;\n    pnts[1] = B;\n    pnts[2] = C;\n    pnts[3] = D;\n\n    for(int i = 0; i < 4; ++i) {\n        for(int j = 0; j < 4; ++j) {\n            for(int k = 0; k < 4; ++k) {\n                if(0 == iMod(\n                    int(255.0 * texture2D(maskTexture,\n                        vec2(\n                            (float(i * 2 + j / 2) + 0.5) / 8.0,\n                            (pnts[i][j][k] * (maskHeight - 1.0) + 1.0) / maskHeight\n                        ))[3]\n                    ) / int(pow(2.0, float(iMod(j * 4 + k, 8)))),\n                    2\n                )) return true;\n            }\n        }\n    }\n    return false;\n}\n\nvec4 position(bool isContext, float v, mat4 A, mat4 B, mat4 C, mat4 D) {\n    float x = 0.5 * sign(v) + 0.5;\n    float y = axisY(x, A, B, C, D);\n    float z = 1.0 - abs(v);\n\n    z += isContext ? 0.0 : 2.0 * float(\n        outsideBoundingBox(A, B, C, D) ||\n        outsideRasterMask(A, B, C, D)\n    );\n\n    return vec4(\n        2.0 * (vec2(x, y) * viewBoxSize + viewBoxPos) / resolution - 1.0,\n        z,\n        1.0\n    );\n}\n\nvoid main() {\n    mat4 A = mat4(p01_04, p05_08, p09_12, p13_16);\n    mat4 B = mat4(p17_20, p21_24, p25_28, p29_32);\n    mat4 C = mat4(p33_36, p37_40, p41_44, p45_48);\n    mat4 D = mat4(p49_52, p53_56, p57_60, ZEROS);\n\n    float v = colors[3];\n\n    gl_Position = position(isContext, v, A, B, C, D);\n\n    fragColor =\n        isContext ? vec4(contextColor) :\n        isPick ? vec4(colors.rgb, 1.0) : texture2D(palette, vec2(abs(v), 0.5));\n}\n"]),f=I(["precision highp float;\n#define GLSLIFY 1\n\nvarying vec4 fragColor;\n\nvoid main() {\n    gl_FragColor = fragColor;\n}\n"]),S=r(25706).maxDimensionCount,M=r(71828),u=new Uint8Array(4),i=new Uint8Array(4),s={shape:[256,1],format:"rgba",type:"uint8",mag:"nearest",min:"nearest"};function a(g,w,x,b,A){var m=g._gl;m.enable(m.SCISSOR_TEST),m.scissor(w,x,b,A),g.clear({color:[0,0,0,0],depth:1})}function o(g,w,x,b,A,m){var C=m.key;x.drawCompleted||(g.read({x:0,y:0,width:1,height:1,data:u}),x.drawCompleted=!0),function k(P){var R=Math.min(b,A-P*b);0===P&&(window.cancelAnimationFrame(x.currentRafs[C]),delete x.currentRafs[C],a(g,m.scissorX,m.scissorY,m.scissorWidth,m.viewBoxSize[1])),x.clearOnly||(m.count=2*R,m.offset=2*P*b,w(m),P*b+R<A&&(x.currentRafs[C]=window.requestAnimationFrame(function(){k(P+1)})),x.drawCompleted=!1)}(0)}function l(g,w){for(var x=new Array(256),b=0;b<256;b++)x[b]=g(b/255).concat(w);return x}function c(g,w){return(g>>>8*w)%256/255}function h(g,w,x){for(var b=new Array(8*w),A=0,m=0;m<w;m++)for(var C=0;C<2;C++)for(var k=0;k<4;k++){var P=4*g+k,R=x[64*m+P];63===P&&0===C&&(R*=-1),b[A++]=R}return b}function v(g){var w="0"+g;return w.substr(w.length-2)}function p(g){return g<S?"p"+v(g+1)+"_"+v(g+4):"colors"}function T(g,w,x,b,A,m,C,k,P,R,L,N,B,J){for(var z=[[],[]],Y=0;Y<64;Y++)z[0][Y]=Y===A?1:0,z[1][Y]=Y===m?1:0;var q=g.lines.canvasOverdrag*J,U=g.domain,Z=g.canvasWidth*J,X=g.canvasHeight*J,se=g.pad.l*J,re=g.pad.b*J,ee=g.layoutHeight*J,K=g.layoutWidth*J,ne=g.deselectedLines.color,ae=g.deselectedLines.opacity;return M.extendFlat({key:L,resolution:[Z,X],viewBoxPos:[(C*=J)+q,k*=J],viewBoxSize:[P*=J,R*=J],i0:A,i1:m,dim0A:z[0].slice(0,16),dim0B:z[0].slice(16,32),dim0C:z[0].slice(32,48),dim0D:z[0].slice(48,64),dim1A:z[1].slice(0,16),dim1B:z[1].slice(16,32),dim1C:z[1].slice(32,48),dim1D:z[1].slice(48,64),drwLayer:N,contextColor:[ne[0]/255,ne[1]/255,ne[2]/255,"auto"!==ae?ne[3]*ae:Math.max(.00392156862745098,Math.pow(1/g.lines.color.length,.3333333333333333))],scissorX:(b===w?0:C+q)+(se-q)+K*U.x[0],scissorWidth:(b===x?Z-C+q:P+.5)+(b===w?C+q:0),scissorY:k+re+ee*U.y[0],scissorHeight:R,viewportX:se-q+K*U.x[0],viewportY:re+ee*U.y[0],viewportWidth:Z,viewportHeight:X},B)}function _(g){var w=2047,x=Math.max(0,Math.floor(g[0]*w),0),b=Math.min(w,Math.ceil(g[1]*w),w);return[Math.min(x,b),Math.max(x,b)]}oe.exports=function(g,w){var x,A,m,C,k=w.context,P=w.pick,R=w.regl,L=R._gl,N=L.getParameter(L.ALIASED_LINE_WIDTH_RANGE),B=Math.max(N[0],Math.min(N[1],w.viewModel.plotGlPixelRatio)),J={currentRafs:{},drawCompleted:!0,clearOnly:!1},z=function(X){for(var se={},re=0;re<=S;re+=4)se[p(re)]=X.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)});return se}(R),Y=R.texture(s),q=[];Z(w);var U=R({profile:!1,blend:{enable:k,func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:1,dstAlpha:1},equation:{rgb:"add",alpha:"add"},color:[0,0,0,0]},depth:{enable:!k,mask:!0,func:"less",range:[0,1]},cull:{enable:!0,face:"back"},scissor:{enable:!0,box:{x:R.prop("scissorX"),y:R.prop("scissorY"),width:R.prop("scissorWidth"),height:R.prop("scissorHeight")}},viewport:{x:R.prop("viewportX"),y:R.prop("viewportY"),width:R.prop("viewportWidth"),height:R.prop("viewportHeight")},dither:!1,vert:E,frag:f,primitive:"lines",lineWidth:B,attributes:z,uniforms:{resolution:R.prop("resolution"),viewBoxPos:R.prop("viewBoxPos"),viewBoxSize:R.prop("viewBoxSize"),dim0A:R.prop("dim0A"),dim1A:R.prop("dim1A"),dim0B:R.prop("dim0B"),dim1B:R.prop("dim1B"),dim0C:R.prop("dim0C"),dim1C:R.prop("dim1C"),dim0D:R.prop("dim0D"),dim1D:R.prop("dim1D"),loA:R.prop("loA"),hiA:R.prop("hiA"),loB:R.prop("loB"),hiB:R.prop("hiB"),loC:R.prop("loC"),hiC:R.prop("hiC"),loD:R.prop("loD"),hiD:R.prop("hiD"),palette:Y,contextColor:R.prop("contextColor"),maskTexture:R.prop("maskTexture"),drwLayer:R.prop("drwLayer"),maskHeight:R.prop("maskHeight")},offset:R.prop("offset"),count:R.prop("count")});function Z(X){x=X.model,A=X.viewModel.dimensions.slice(),m=A[0]?A[0].values.length:0;var se=x.lines,re=P?se.color.map(function(K,ne){return ne/se.color.length}):se.color,ee=function(K,ne,ae){for(var he=new Array(K*(S+4)),pe=0,ge=0;ge<K;ge++){for(var xe=0;xe<S;xe++)he[pe++]=xe<ne.length?ne[xe].paddedUnitValues[ge]:.5;he[pe++]=c(ge,2),he[pe++]=c(ge,1),he[pe++]=c(ge,0),he[pe++]=Math.max(1e-6,Math.min(.999999,ae[ge]))}return he}(m,A,re);(function(K,ne,ae){for(var ue=0;ue<=S;ue+=4)K[p(ue)](h(ue/4,ne,ae))})(z,m,ee),k||P||(Y=R.texture(M.extendFlat({data:l(x.unitToColor,255)},s)))}return{render:function(X,se,re){var ee,K,ne,ae=X.length,ue=1/0,he=-1/0;for(ee=0;ee<ae;ee++)X[ee].dim0.canvasX<ue&&(ue=X[ee].dim0.canvasX,K=ee),X[ee].dim1.canvasX>he&&(he=X[ee].dim1.canvasX,ne=ee);0===ae&&a(R,0,0,x.canvasWidth,x.canvasHeight);var pe=function(me){var de,ce,Ae,Ne=[[],[]];for(Ae=0;Ae<64;Ae++){var De=!me&&Ae<A.length?A[Ae].brush.filter.getBounds():[-1/0,1/0];Ne[0][Ae]=De[0],Ne[1][Ae]=De[1]}var Ue=new Array(16384);for(de=0;de<16384;de++)Ue[de]=255;if(!me)for(de=0;de<A.length;de++){var Ye=de%8,_e=(de-Ye)/8,Pe=Math.pow(2,Ye),Ie=A[de].brush.filter.get();if(!(Ie.length<2)){var Be=_(Ie[0])[1];for(ce=1;ce<Ie.length;ce++){var We=_(Ie[ce]);for(Ae=Be+1;Ae<We[0];Ae++)Ue[8*Ae+_e]&=~Pe;Be=Math.max(Be,We[1])}}}var Ge={shape:[8,2048],format:"alpha",type:"uint8",mag:"nearest",min:"nearest",data:Ue};return C?C(Ge):C=R.texture(Ge),{maskTexture:C,maskHeight:2048,loA:Ne[0].slice(0,16),loB:Ne[0].slice(16,32),loC:Ne[0].slice(32,48),loD:Ne[0].slice(48,64),hiA:Ne[1].slice(0,16),hiB:Ne[1].slice(16,32),hiC:Ne[1].slice(32,48),hiD:Ne[1].slice(48,64)}}(k);for(ee=0;ee<ae;ee++){var ge=X[ee],xe=ge.dim0.crossfilterDimensionIndex,Se=ge.dim1.crossfilterDimensionIndex,Te=ge.canvasX,ye=ge.canvasY,we=Te+ge.panelSizeX,ze=ge.plotGlPixelRatio;if(se||!q[xe]||q[xe][0]!==Te||q[xe][1]!==we){q[xe]=[Te,we];var ke=T(x,K,ne,ee,xe,Se,Te,ye,ge.panelSizeX,ge.panelSizeY,ge.dim0.crossfilterDimensionIndex,k?0:P?2:1,pe,ze);J.clearOnly=re,o(R,U,J,se?x.lines.blockLineCount:m,m,ke)}}},readPixel:function(X,se){return R.read({x:X,y:se,width:1,height:1,data:i}),i},readPixels:function(X,se,re,ee){var K=new Uint8Array(4*re*ee);return R.read({x:X,y:se,width:re,height:ee,data:K}),K},destroy:function(){for(var X in g.style["pointer-events"]="none",Y.destroy(),C&&C.destroy(),z)z[X].destroy()},update:Z}}},94397:function(oe){"use strict";oe.exports=function(j,r,I,E){var f,S;for(E||(E=1/0),f=0;f<r.length;f++)(S=r[f]).visible&&(E=Math.min(E,S[I].length));for(E===1/0&&(E=0),j._length=E,f=0;f<r.length;f++)(S=r[f]).visible&&(S._length=E);return E}},17171:function(oe,j,r){"use strict";var I=r(39898),E=r(71828),f=E.numberFormat,S=r(36652),M=r(89298),y=E.strRotate,u=E.strTranslate,i=r(63893),s=r(91424),a=r(21081),o=r(28984),l=o.keyFun,c=o.repeat,h=o.unwrap,v=r(1602),p=r(25706),T=r(57920),_=r(83398);function g(Y,q,U){return E.aggNums(Y,null,q,U)}function w(Y,q){return b(g(Math.min,Y,q),g(Math.max,Y,q))}function x(Y){var q=Y.range;return q?b(q[0],q[1]):w(Y.values,Y._length)}function b(Y,q){return!isNaN(Y)&&isFinite(Y)||(Y=0),!isNaN(q)&&isFinite(q)||(q=0),Y===q&&(0===Y?(Y-=1,q+=1):(Y*=.9,q*=1.1)),[Y,q]}function A(Y,q,U,Z,X){var se,re,ee=x(U);return Z?I.scale.ordinal().domain(Z.map((se=f(U.tickformat),re=X,re?function(K,ne){return re[ne]??se(K)}:se))).range(Z.map(function(K){return Y-q+(K-ee[0])/(ee[1]-ee[0])*(2*q-Y)})):I.scale.linear().domain(ee).range([Y-q,q])}function m(Y){if(Y.tickvals){var q=x(Y);return I.scale.ordinal().domain(Y.tickvals).range(Y.tickvals.map(function(U){return(U-q[0])/(q[1]-q[0])}))}}function C(Y){var q=Y.map(function(X){return X[0]}),U=Y.map(function(X){var se=S(X[1]);return I.rgb("rgb("+se[0]+","+se[1]+","+se[2]+")")}),Z="rgb".split("").map(function(X){return I.scale.linear().clamp(!0).domain(q).range(U.map((se=X,function(re){return re[se]})));var se});return function(X){return Z.map(function(se){return se(X)})}}function k(Y){return Y.dimensions.some(function(q){return q.brush.filterSpecified})}function P(Y,q,U){var Z=h(q),X=Z.trace,se=v.convertTypedArray(Z.lineColor),re=X.line,ee={color:S(X.unselected.line.color),opacity:X.unselected.line.opacity},K=a.extractOpts(re),ne=K.reversescale?a.flipScale(Z.cscale):Z.cscale,ae=X.domain,ue=X.dimensions,he=Y.width,pe=X.labelangle,ge=X.labelside,xe=X.labelfont,Se=X.tickfont,Te=X.rangefont,ye=E.extendDeepNoArrays({},re,{color:se.map(I.scale.linear().domain(x({values:se,range:[K.min,K.max],_length:X._length}))),blockLineCount:p.blockLineCount,canvasOverdrag:p.overdrag*p.canvasPixelRatio}),we=Math.floor(he*(ae.x[1]-ae.x[0])),ze=Math.floor(Y.height*(ae.y[1]-ae.y[0])),ke=Y.margin||{l:80,r:80,t:100,b:80},Ee=we,me=ze;return{key:U,colCount:ue.filter(v.isVisible).length,dimensions:ue,tickDistance:p.tickDistance,unitToColor:C(ne),lines:ye,deselectedLines:ee,labelAngle:pe,labelSide:ge,labelFont:xe,tickFont:Se,rangeFont:Te,layoutWidth:he,layoutHeight:Y.height,domain:ae,translateX:ae.x[0]*he,translateY:Y.height-ae.y[1]*Y.height,pad:ke,canvasWidth:Ee*p.canvasPixelRatio+2*ye.canvasOverdrag,canvasHeight:me*p.canvasPixelRatio,width:Ee,height:me,canvasPixelRatio:p.canvasPixelRatio}}function R(Y,q,U){var he,pe,Z=U.width,X=U.height,se=U.dimensions,re=U.canvasPixelRatio,ee=function(he){return Z*he/Math.max(1,U.colCount-1)},K=p.verticalPadding/X,ne=(he=X,pe=p.verticalPadding,I.scale.linear().range([pe,he-pe])),ae={key:U.key,xScale:ee,model:U,inBrushDrag:!1},ue={};return ae.dimensions=se.filter(v.isVisible).map(function(he,pe){var De,Ue,ge=(De=he,Ue=K,I.scale.linear().domain(x(De)).range([Ue,1-Ue])),xe=ue[he.label];ue[he.label]=(xe||0)+1;var Se=he.label+(xe?"__"+xe:""),Te=he.constraintrange,ye=Te&&Te.length;ye&&!Array.isArray(Te[0])&&(Te=[Te]);var we=ye?Te.map(function(De){return De.map(ge)}):[[-1/0,1/0]],ze=he.values;ze.length>he._length&&(ze=ze.slice(0,he._length));var ke,Ee=he.tickvals;function me(De,Ue){return{val:De,text:ke[Ue]}}function de(De,Ue){return De.val-Ue.val}if(Array.isArray(Ee)&&Ee.length){ke=he.ticktext,Array.isArray(ke)&&ke.length?ke.length>Ee.length?ke=ke.slice(0,Ee.length):Ee.length>ke.length&&(Ee=Ee.slice(0,ke.length)):ke=Ee.map(f(he.tickformat));for(var ce=1;ce<Ee.length;ce++)if(Ee[ce]<Ee[ce-1]){for(var Ae=Ee.map(me).sort(de),Ne=0;Ne<Ee.length;Ne++)Ee[Ne]=Ae[Ne].val,ke[Ne]=Ae[Ne].text;break}}else Ee=void 0;return ze=v.convertTypedArray(ze),{key:Se,label:he.label,tickFormat:he.tickformat,tickvals:Ee,ticktext:ke,ordinal:v.isOrdinal(he),multiselect:he.multiselect,xIndex:pe,crossfilterDimensionIndex:pe,visibleIndex:he._index,height:X,values:ze,paddedUnitValues:ze.map(ge),unitTickvals:Ee&&Ee.map(ge),xScale:ee,x:ee(pe),canvasX:ee(pe)*re,unitToPaddedPx:ne,domainScale:A(X,p.verticalPadding,he,Ee,ke),ordinalScale:m(he),parent:ae,model:U,brush:T.makeBrush(Y,ye,we,function(){Y.linePickActive(!1)},function(){var De=ae;De.focusLayer&&De.focusLayer.render(De.panels,!0);var Ue=k(De);!Y.contextShown()&&Ue?(De.contextLayer&&De.contextLayer.render(De.panels,!0),Y.contextShown(!0)):Y.contextShown()&&!Ue&&(De.contextLayer&&De.contextLayer.render(De.panels,!0,!0),Y.contextShown(!1))},function(De){if(ae.focusLayer.render(ae.panels,!0),ae.pickLayer&&ae.pickLayer.render(ae.panels,!0),Y.linePickActive(!0),q&&q.filterChanged){var Ue=ge.invert,Ye=De.map(function(_e){return _e.map(Ue).sort(E.sorterAsc)}).sort(function(_e,Pe){return _e[0]-Pe[0]});q.filterChanged(ae.key,he._index,Ye)}})}}),ae}function L(Y){Y.classed(p.cn.axisExtentText,!0).attr("text-anchor","middle").style("cursor","default")}function N(Y,q){var Z=Y*Math.PI/180;return{dir:"top"===q?1:-1,dx:Math.sin(Z),dy:Math.cos(Z),degrees:Y}}function B(Y,q,U){for(var Z=q.panels||(q.panels=[]),X=Y.data(),se=0;se<X.length-1;se++){var re=Z[se]||(Z[se]={}),ee=X[se],K=X[se+1];re.dim0=ee,re.dim1=K,re.canvasX=ee.canvasX,re.panelSizeX=K.canvasX-ee.canvasX,re.panelSizeY=q.model.canvasHeight,re.y=0,re.canvasY=0,re.plotGlPixelRatio=U}}function J(Y,q){return M.tickText(Y._ax,q,!1).text}function z(Y,q){if(Y.ordinal)return"";var U=Y.domainScale.domain();return J(Y.model.dimensions[Y.visibleIndex],U[q?U.length-1:0])}oe.exports=function(Y,q,U,Z){var X=Y._context.staticPlot,se=Y._fullLayout,re=se._toppaper,ee=se._glcontainer,K=Y._context.plotGlPixelRatio,ne=Y._fullLayout.paper_bgcolor;!function(De){for(var Ue=0;Ue<De.length;Ue++)for(var Ye=0;Ye<De[Ue].length;Ye++)for(var _e=De[Ue][Ye].trace,Pe=_e.dimensions,Ie=0;Ie<Pe.length;Ie++){var Be=Pe[Ie].values,We=Pe[Ie]._ax;We&&(We.range=We.range?b(We.range[0],We.range[1]):w(Be,_e._length),We.dtick||(We.dtick=.01*(Math.abs(We.range[1]-We.range[0])||1)),We.tickformat=Pe[Ie].tickformat,M.calcTicks(We),We.cleanRange())}}(q);var ae,ue,he=(ae=!0,ue=!1,{linePickActive:function(De){return arguments.length?ae=!!De:ae},contextShown:function(De){return arguments.length?ue=!!De:ue}}),pe=q.filter(function(De){return h(De).trace.visible}).map(P.bind(0,U)).map(R.bind(0,he,Z));ee.each(function(De,Ue){return E.extendFlat(De,pe[Ue])});var ge=ee.selectAll(".gl-canvas").each(function(De){De.viewModel=pe[0],De.viewModel.plotGlPixelRatio=K,De.viewModel.paperColor=ne,De.model=De.viewModel?De.viewModel.model:null}),xe=null;ge.filter(function(De){return De.pick}).style("pointer-events",X?"none":"auto").on("mousemove",function(De){if(he.linePickActive()&&De.lineLayer&&Z&&Z.hover){var Ue=I.event,Ye=this.width,_e=this.height,Pe=I.mouse(this),Ie=Pe[0],Be=Pe[1];if(Ie<0||Be<0||Ie>=Ye||Be>=_e)return;var We=De.lineLayer.readPixel(Ie,_e-1-Be),Ge=0!==We[3],Ke=Ge?We[2]+256*(We[1]+256*We[0]):null,tt={x:Ie,y:Be,clientX:Ue.clientX,clientY:Ue.clientY,dataIndex:De.model.key,curveNumber:Ke};Ke!==xe&&(Ge?Z.hover(tt):Z.unhover&&Z.unhover(tt),xe=Ke)}}),ge.style("opacity",function(De){return De.pick?0:1}),re.style("background","rgba(255, 255, 255, 0)");var Se=re.selectAll("."+p.cn.parcoords).data(pe,l);Se.exit().remove(),Se.enter().append("g").classed(p.cn.parcoords,!0).style("shape-rendering","crispEdges").style("pointer-events","none"),Se.attr("transform",function(De){return u(De.model.translateX,De.model.translateY)});var Te=Se.selectAll("."+p.cn.parcoordsControlView).data(c,l);Te.enter().append("g").classed(p.cn.parcoordsControlView,!0),Te.attr("transform",function(De){return u(De.model.pad.l,De.model.pad.t)});var ye=Te.selectAll("."+p.cn.yAxis).data(function(De){return De.dimensions},l);ye.enter().append("g").classed(p.cn.yAxis,!0),Te.each(function(De){B(ye,De,K)}),ge.each(function(De){De.viewModel&&(!De.lineLayer||Z?De.lineLayer=_(this,De):De.lineLayer.update(De),(De.key||0===De.key)&&(De.viewModel[De.key]=De.lineLayer),De.lineLayer.render(De.viewModel.panels,!De.context||Z))}),ye.attr("transform",function(De){return u(De.xScale(De.xIndex),0)}),ye.call(I.behavior.drag().origin(function(De){return De}).on("drag",function(De){var Ue=De.parent;he.linePickActive(!1),De.x=Math.max(-p.overdrag,Math.min(De.model.width+p.overdrag,I.event.x)),De.canvasX=De.x*De.model.canvasPixelRatio,ye.sort(function(Ye,_e){return Ye.x-_e.x}).each(function(Ye,_e){Ye.xIndex=_e,Ye.x=De===Ye?Ye.x:Ye.xScale(Ye.xIndex),Ye.canvasX=Ye.x*Ye.model.canvasPixelRatio}),B(ye,Ue,K),ye.filter(function(Ye){return 0!==Math.abs(De.xIndex-Ye.xIndex)}).attr("transform",function(Ye){return u(Ye.xScale(Ye.xIndex),0)}),I.select(this).attr("transform",u(De.x,0)),ye.each(function(Ye,_e,Pe){Pe===De.parent.key&&(Ue.dimensions[_e]=Ye)}),Ue.contextLayer&&Ue.contextLayer.render(Ue.panels,!1,!k(Ue)),Ue.focusLayer.render&&Ue.focusLayer.render(Ue.panels)}).on("dragend",function(De){var Ue=De.parent;De.x=De.xScale(De.xIndex),De.canvasX=De.x*De.model.canvasPixelRatio,B(ye,Ue,K),I.select(this).attr("transform",function(Ye){return u(Ye.x,0)}),Ue.contextLayer&&Ue.contextLayer.render(Ue.panels,!1,!k(Ue)),Ue.focusLayer&&Ue.focusLayer.render(Ue.panels),Ue.pickLayer&&Ue.pickLayer.render(Ue.panels,!0),he.linePickActive(!0),Z&&Z.axesMoved&&Z.axesMoved(Ue.key,Ue.dimensions.map(function(Ye){return Ye.crossfilterDimensionIndex}))})),ye.exit().remove();var we=ye.selectAll("."+p.cn.axisOverlays).data(c,l);we.enter().append("g").classed(p.cn.axisOverlays,!0),we.selectAll("."+p.cn.axis).remove();var ze=we.selectAll("."+p.cn.axis).data(c,l);ze.enter().append("g").classed(p.cn.axis,!0),ze.each(function(De){var Ue=De.model.height/De.model.tickDistance,Ye=De.domainScale,_e=Ye.domain();I.select(this).call(I.svg.axis().orient("left").tickSize(4).outerTickSize(2).ticks(Ue,De.tickFormat).tickValues(De.ordinal?_e:null).tickFormat(function(Pe){return v.isOrdinal(De)?Pe:J(De.model.dimensions[De.visibleIndex],Pe)}).scale(Ye)),s.font(ze.selectAll("text"),De.model.tickFont)}),ze.selectAll(".domain, .tick>line").attr("fill","none").attr("stroke","black").attr("stroke-opacity",.25).attr("stroke-width","1px"),ze.selectAll("text").style("text-shadow",i.makeTextShadow(ne)).style("cursor","default");var ke=we.selectAll("."+p.cn.axisHeading).data(c,l);ke.enter().append("g").classed(p.cn.axisHeading,!0);var Ee=ke.selectAll("."+p.cn.axisTitle).data(c,l);Ee.enter().append("text").classed(p.cn.axisTitle,!0).attr("text-anchor","middle").style("cursor","ew-resize").style("pointer-events",X?"none":"auto"),Ee.text(function(De){return De.label}).each(function(De){var Ue=I.select(this);s.font(Ue,De.model.labelFont),i.convertToTspans(Ue,Y)}).attr("transform",function(De){var Ue=N(De.model.labelAngle,De.model.labelSide),Ye=p.axisTitleOffset;return(Ue.dir>0?"":u(0,2*Ye+De.model.height))+y(Ue.degrees)+u(-Ye*Ue.dx,-Ye*Ue.dy)}).attr("text-anchor",function(De){var Ue=N(De.model.labelAngle,De.model.labelSide);return 2*Math.abs(Ue.dx)>Math.abs(Ue.dy)?Ue.dir*Ue.dx<0?"start":"end":"middle"});var me=we.selectAll("."+p.cn.axisExtent).data(c,l);me.enter().append("g").classed(p.cn.axisExtent,!0);var de=me.selectAll("."+p.cn.axisExtentTop).data(c,l);de.enter().append("g").classed(p.cn.axisExtentTop,!0),de.attr("transform",u(0,-p.axisExtentOffset));var ce=de.selectAll("."+p.cn.axisExtentTopText).data(c,l);ce.enter().append("text").classed(p.cn.axisExtentTopText,!0).call(L),ce.text(function(De){return z(De,!0)}).each(function(De){s.font(I.select(this),De.model.rangeFont)});var Ae=me.selectAll("."+p.cn.axisExtentBottom).data(c,l);Ae.enter().append("g").classed(p.cn.axisExtentBottom,!0),Ae.attr("transform",function(De){return u(0,De.model.height+p.axisExtentOffset)});var Ne=Ae.selectAll("."+p.cn.axisExtentBottomText).data(c,l);Ne.enter().append("text").classed(p.cn.axisExtentBottomText,!0).attr("dy","0.75em").call(L),Ne.text(function(De){return z(De,!1)}).each(function(De){s.font(I.select(this),De.model.rangeFont)}),T.ensureAxisBrush(we,ne,Y)}},21341:function(oe,j,r){"use strict";var I=r(17171),E=r(79749),f=r(1602).isVisible,S={};function M(y,u,i){var s=u.indexOf(i),a=y.indexOf(s);return-1===a&&(a+=u.length),a}(oe.exports=function(y,u){var i=y._fullLayout;if(E(y,[],S)){var s={},a={},o={},l={},c=i._size;u.forEach(function(h,v){var p=h[0].trace;o[v]=p.index;var T=l[v]=p._fullInput.index;s[v]=y.data[T].dimensions,a[v]=y.data[T].dimensions.slice()}),I(y,u,{width:c.w,height:c.h,margin:{t:c.t,r:c.r,b:c.b,l:c.l}},{filterChanged:function(h,v,p){var T=a[h][v],_=p.map(function(m){return m.slice()}),g="dimensions["+v+"].constraintrange",w=i._tracePreGUI[y._fullData[o[h]]._fullInput.uid];void 0===w[g]&&(w[g]=T.constraintrange||null);var b=y._fullData[o[h]].dimensions[v];_.length?(1===_.length&&(_=_[0]),T.constraintrange=_,b.constraintrange=_.slice(),_=[_]):(delete T.constraintrange,delete b.constraintrange,_=null);var A={};A[g]=_,y.emit("plotly_restyle",[A,[l[h]]])},hover:function(h){y.emit("plotly_hover",h)},unhover:function(h){y.emit("plotly_unhover",h)},axesMoved:function(h,v){var T,_,p=(T=v,_=a[h].filter(f),function(g,w){return M(T,_,g)-M(T,_,w)});s[h].sort(p),a[h].filter(function(T){return!f(T)}).sort(function(T){return a[h].indexOf(T)}).forEach(function(T){s[h].splice(s[h].indexOf(T),1),s[h].splice(a[h].indexOf(T),0,T)}),y.emit("plotly_restyle",[{dimensions:[s[h]]},[l[h]]])}})}}).reglPrecompiled=S},34e3:function(oe,j,r){"use strict";var I=r(9012),E=r(27670).Y,f=r(41940),S=r(22399),M=r(5386).fF,y=r(5386).si,u=r(1426).extendFlat,i=r(79952).u,s=f({editType:"plot",arrayOk:!0,colorEditType:"plot"});oe.exports={labels:{valType:"data_array",editType:"calc"},label0:{valType:"number",dflt:0,editType:"calc"},dlabel:{valType:"number",dflt:1,editType:"calc"},values:{valType:"data_array",editType:"calc"},marker:{colors:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:S.defaultLine,arrayOk:!0,editType:"style"},width:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"style"},editType:"calc"},pattern:i,editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},scalegroup:{valType:"string",dflt:"",editType:"calc"},textinfo:{valType:"flaglist",flags:["label","text","value","percent"],extras:["none"],editType:"calc"},hoverinfo:u({},I.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:M({},{keys:["label","color","value","percent","text"]}),texttemplate:y({editType:"plot"},{keys:["label","color","value","percent","text"]}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"plot"},textfont:u({},s,{}),insidetextorientation:{valType:"enumerated",values:["horizontal","radial","tangential","auto"],dflt:"auto",editType:"plot"},insidetextfont:u({},s,{}),outsidetextfont:u({},s,{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},title:{text:{valType:"string",dflt:"",editType:"plot"},font:u({},s,{}),position:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"plot"},editType:"plot"},domain:E({name:"pie",trace:!0,editType:"calc"}),hole:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},sort:{valType:"boolean",dflt:!0,editType:"calc"},direction:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"angle",dflt:0,editType:"calc"},pull:{valType:"number",min:0,max:1,dflt:0,arrayOk:!0,editType:"calc"},_deprecated:{title:{valType:"string",dflt:"",editType:"calc"},titlefont:u({},s,{}),titleposition:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"calc"}}}},13584:function(oe,j,r){"use strict";var I=r(74875);j.name="pie",j.plot=function(E,f,S,M){I.plotBasePlot(j.name,E,f,S,M)},j.clean=function(E,f,S,M){I.cleanBasePlot(j.name,E,f,S,M)}},32354:function(oe,j,r){"use strict";var I=r(92770),E=r(84267),f=r(7901),S={};function M(u){return function(i,s){return!!i&&!!(i=E(i)).isValid()&&(i=f.addOpacity(i,i.getAlpha()),u[s]||(u[s]=i),i)}}function y(u,i){var s,a=JSON.stringify(u),o=i[a];if(!o){for(o=u.slice(),s=0;s<u.length;s++)o.push(E(u[s]).lighten(20).toHexString());for(s=0;s<u.length;s++)o.push(E(u[s]).darken(20).toHexString());i[a]=o}return o}oe.exports={calc:function(u,i){var s,a,o=[],l=u._fullLayout,c=l.hiddenlabels||[],h=i.labels,v=i.marker.colors||[],p=i.values,T=i._length,_=i._hasValues&&T;if(i.dlabel)for(h=new Array(T),s=0;s<T;s++)h[s]=String(i.label0+s*i.dlabel);var g={},w=M(l["_"+i.type+"colormap"]),x=0,b=!1;for(s=0;s<T;s++){var A,m,C;if(_){if(!I(A=p[s]))continue;A=+A}else A=1;void 0!==(m=h[s])&&""!==m||(m=s);var k=g[m=String(m)];void 0===k?(g[m]=o.length,(C=-1!==c.indexOf(m))||(x+=A),o.push({v:A,label:m,color:w(v[s],m),i:s,pts:[s],hidden:C})):(b=!0,(a=o[k]).v+=A,a.pts.push(s),a.hidden||(x+=A),!1===a.color&&v[s]&&(a.color=w(v[s],m)))}return o=o.filter(function(P){return P.v>=0}),("funnelarea"===i.type?b:i.sort)&&o.sort(function(P,R){return R.v-P.v}),o[0]&&(o[0].vTotal=x),o},crossTraceCalc:function(u,i){var s=(i||{}).type;s||(s="pie");var a=u._fullLayout,o=u.calcdata,l=a[s+"colorway"],c=a["_"+s+"colormap"];a["extend"+s+"colors"]&&(l=y(l,S));for(var h=0,v=0;v<o.length;v++){var p=o[v];if(p[0].trace.type===s)for(var T=0;T<p.length;T++){var _=p[T];!1===_.color&&(c[_.label]?_.color=c[_.label]:(c[_.label]=_.color=l[h%l.length],h++))}}},makePullColorFn:M,generateExtendedColors:y}},37434:function(oe,j,r){"use strict";var I=r(92770),E=r(71828),f=r(34e3),S=r(27670).c,M=r(90769).handleText,y=r(71828).coercePattern;function u(s,a){var o=Array.isArray(s),l=E.isArrayOrTypedArray(a),c=Math.min(o?s.length:1/0,l?a.length:1/0);if(isFinite(c)||(c=0),c&&l){for(var h,v=0;v<c;v++){var p=a[v];if(I(p)&&p>0){h=!0;break}}h||(c=0)}return{hasLabels:o,hasValues:l,len:c}}function i(s,a,o,l,c){l("marker.line.width")&&l("marker.line.color",c?void 0:o.paper_bgcolor);var h=l("marker.colors");y(l,"marker.pattern",h),s.marker&&!a.marker.pattern.fgcolor&&(a.marker.pattern.fgcolor=s.marker.colors),a.marker.pattern.bgcolor||(a.marker.pattern.bgcolor=o.paper_bgcolor)}oe.exports={handleLabelsAndValues:u,handleMarkerDefaults:i,supplyDefaults:function(s,a,o,l){function c(b,A){return E.coerce(s,a,f,b,A)}var h=u(c("labels"),c("values")),v=h.len;if(a._hasLabels=h.hasLabels,a._hasValues=h.hasValues,!a._hasLabels&&a._hasValues&&(c("label0"),c("dlabel")),v){a._length=v,i(s,a,l,c,!0),c("scalegroup");var p,T=c("text"),_=c("texttemplate");if(_||(p=c("textinfo",Array.isArray(T)?"text+percent":"percent")),c("hovertext"),c("hovertemplate"),_||p&&"none"!==p){var g=c("textposition");M(s,a,l,c,g,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),(Array.isArray(g)||"auto"===g||"outside"===g)&&c("automargin"),("inside"===g||"auto"===g||Array.isArray(g))&&c("insidetextorientation")}S(a,l,c);var w=c("hole");if(c("title.text")){var x=c("title.position",w?"middle center":"top center");w||"middle center"!==x||(a.title.position="top center"),E.coerceFont(c,"title.font",l.font)}c("sort"),c("direction"),c("rotation"),c("pull")}else a.visible=!1}}},20007:function(oe,j,r){"use strict";var I=r(23469).appendArrayMultiPointValues;oe.exports=function(E,f){var S={curveNumber:f.index,pointNumbers:E.pts,data:f._input,fullData:f,label:E.label,color:E.color,value:E.v,percent:E.percent,text:E.text,bbox:E.bbox,v:E.v};return 1===E.pts.length&&(S.pointNumber=S.i=E.pts[0]),I(S,f,E.pts),"funnelarea"===f.type&&(delete S.v,delete S.i),S}},22209:function(oe,j,r){"use strict";var I=r(91424),E=r(7901);oe.exports=function(f,S,M,y){var u=M.marker.pattern;u&&u.shape?I.pointStyle(f,M,y,S):E.fill(f,S.color)}},53581:function(oe,j,r){"use strict";var I=r(71828);function E(f){return-1!==f.indexOf("e")?f.replace(/[.]?0+e/,"e"):-1!==f.indexOf(".")?f.replace(/[.]?0+$/,""):f}j.formatPiePercent=function(f,S){var M=E((100*f).toPrecision(3));return I.numSeparate(M,S)+"%"},j.formatPieValue=function(f,S){var M=E(f.toPrecision(10));return I.numSeparate(M,S)},j.getFirstFilled=function(f,S){if(Array.isArray(f))for(var M=0;M<S.length;M++){var y=f[S[M]];if(y||0===y||""===y)return y}},j.castOption=function(f,S){return Array.isArray(f)?j.getFirstFilled(f,S):f||void 0},j.getRotationAngle=function(f){return("auto"===f?0:f)*Math.PI/180}},58810:function(oe,j,r){"use strict";oe.exports={attributes:r(34e3),supplyDefaults:r(37434).supplyDefaults,supplyLayoutDefaults:r(92097),layoutAttributes:r(92774),calc:r(32354).calc,crossTraceCalc:r(32354).crossTraceCalc,plot:r(14575).plot,style:r(68357),styleOne:r(63463),moduleType:"trace",name:"pie",basePlotModule:r(13584),categories:["pie-like","pie","showLegend"],meta:{}}},92774:function(oe){"use strict";oe.exports={hiddenlabels:{valType:"data_array",editType:"calc"},piecolorway:{valType:"colorlist",editType:"calc"},extendpiecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},92097:function(oe,j,r){"use strict";var I=r(71828),E=r(92774);oe.exports=function(f,S){function M(y,u){return I.coerce(f,S,E,y,u)}M("hiddenlabels"),M("piecolorway",S.colorway),M("extendpiecolors")}},14575:function(oe,j,r){"use strict";var I=r(39898),E=r(74875),f=r(30211),S=r(7901),M=r(91424),y=r(71828),u=y.strScale,i=y.strTranslate,s=r(63893),a=r(72597),o=a.recordMinTextSize,l=a.clearMinTextSize,c=r(97313).TEXTPAD,h=r(53581),v=r(20007),p=r(71828).isValidTextValue;function T(q,U,Z){var X=Z[0],se=X.cx,re=X.cy,ee=X.trace,K="funnelarea"===ee.type;"_hasHoverLabel"in ee||(ee._hasHoverLabel=!1),"_hasHoverEvent"in ee||(ee._hasHoverEvent=!1),q.on("mouseover",function(ne){var ae=U._fullLayout,ue=U._fullData[ee.index];if(!U._dragging&&!1!==ae.hovermode){var he=ue.hoverinfo;if(Array.isArray(he)&&(he=f.castHoverinfo({hoverinfo:[h.castOption(he,ne.pts)],_module:ee._module},ae,0)),"all"===he&&(he="label+text+value+percent+name"),ue.hovertemplate||"none"!==he&&"skip"!==he&&he){var pe=ne.rInscribed||0,ge=se+ne.pxmid[0]*(1-pe),xe=re+ne.pxmid[1]*(1-pe),Se=ae.separators,Te=[];if(he&&-1!==he.indexOf("label")&&Te.push(ne.label),ne.text=h.castOption(ue.hovertext||ue.text,ne.pts),he&&-1!==he.indexOf("text")){var ye=ne.text;y.isValidTextValue(ye)&&Te.push(ye)}ne.value=ne.v,ne.valueLabel=h.formatPieValue(ne.v,Se),he&&-1!==he.indexOf("value")&&Te.push(ne.valueLabel),ne.percent=ne.v/X.vTotal,ne.percentLabel=h.formatPiePercent(ne.percent,Se),he&&-1!==he.indexOf("percent")&&Te.push(ne.percentLabel);var we=ue.hoverlabel,ze=we.font,ke=[];f.loneHover({trace:ee,x0:ge-pe*X.r,x1:ge+pe*X.r,y:xe,_x0:K?se+ne.TL[0]:ge-pe*X.r,_x1:K?se+ne.TR[0]:ge+pe*X.r,_y0:K?re+ne.TL[1]:xe-pe*X.r,_y1:K?re+ne.BL[1]:xe+pe*X.r,text:Te.join("<br>"),name:ue.hovertemplate||-1!==he.indexOf("name")?ue.name:void 0,idealAlign:ne.pxmid[0]<0?"left":"right",color:h.castOption(we.bgcolor,ne.pts)||ne.color,borderColor:h.castOption(we.bordercolor,ne.pts),fontFamily:h.castOption(ze.family,ne.pts),fontSize:h.castOption(ze.size,ne.pts),fontColor:h.castOption(ze.color,ne.pts),nameLength:h.castOption(we.namelength,ne.pts),textAlign:h.castOption(we.align,ne.pts),hovertemplate:h.castOption(ue.hovertemplate,ne.pts),hovertemplateLabels:ne,eventData:[v(ne,ue)]},{container:ae._hoverlayer.node(),outerContainer:ae._paper.node(),gd:U,inOut_bbox:ke}),ne.bbox=ke[0],ee._hasHoverLabel=!0}ee._hasHoverEvent=!0,U.emit("plotly_hover",{points:[v(ne,ue)],event:I.event})}}),q.on("mouseout",function(ne){var ae=U._fullLayout,ue=U._fullData[ee.index],he=I.select(this).datum();ee._hasHoverEvent&&(ne.originalEvent=I.event,U.emit("plotly_unhover",{points:[v(he,ue)],event:I.event}),ee._hasHoverEvent=!1),ee._hasHoverLabel&&(f.loneUnhover(ae._hoverlayer.node()),ee._hasHoverLabel=!1)}),q.on("click",function(ne){U._dragging||!1===U._fullLayout.hovermode||(U._hoverdata=[v(ne,U._fullData[ee.index])],f.click(U,I.event))})}function _(q,U,Z){var X=h.castOption(q.insidetextfont.color,U.pts);!X&&q._input.textfont&&(X=h.castOption(q._input.textfont.color,U.pts));var se=h.castOption(q.insidetextfont.family,U.pts)||h.castOption(q.textfont.family,U.pts)||Z.family,re=h.castOption(q.insidetextfont.size,U.pts)||h.castOption(q.textfont.size,U.pts)||Z.size;return{color:X||S.contrast(U.color),family:se,size:re}}function g(q,U){for(var Z,X,se=0;se<q.length;se++)if((X=(Z=q[se][0]).trace).title.text){var re=X.title.text;X._meta&&(re=y.templateString(re,X._meta));var ee=M.tester.append("text").attr("data-notex",1).text(re).call(M.font,X.title.font).call(s.convertToTspans,U),K=M.bBox(ee.node(),!0);Z.titleBox={width:K.width,height:K.height},ee.remove()}}function w(q,U,Z){var X=Z.r||U.rpx1,se=U.rInscribed;if(U.startangle===U.stopangle)return{rCenter:1-se,scale:0,rotate:0,textPosAngle:0};var re,ee=U.ring,K=1===ee&&Math.abs(U.startangle-U.stopangle)===2*Math.PI,ne=U.halfangle,ae=U.midangle,ue=Z.trace.insidetextorientation,he="horizontal"===ue,pe="tangential"===ue,ge="radial"===ue,xe="auto"===ue,Se=[];if(!xe){var Te,ye=function(de,ce){if(Pe=(Ue=U).stopangle,(_e=Ue.startangle)>(Ye=de)&&Ye>Pe||_e<Ye&&Ye<Pe){var Ae=Math.abs(de-U.startangle),Ne=Math.abs(de-U.stopangle),De=Ae<Ne?Ae:Ne;(re="tan"===ce?b(q,X,ee,De,0):x(q,X,ee,De,Math.PI/2)).textPosAngle=de,Se.push(re)}var Ue,Ye,_e,Pe};if(he||pe){for(Te=4;Te>=-4;Te-=2)ye(Math.PI*Te,"tan");for(Te=4;Te>=-4;Te-=2)ye(Math.PI*(Te+1),"tan")}if(he||ge){for(Te=4;Te>=-4;Te-=2)ye(Math.PI*(Te+1.5),"rad");for(Te=4;Te>=-4;Te-=2)ye(Math.PI*(Te+.5),"rad")}}if(K||xe||he){var we=Math.sqrt(q.width*q.width+q.height*q.height);if((re={scale:se*X*2/we,rCenter:1-se,rotate:0}).textPosAngle=(U.startangle+U.stopangle)/2,re.scale>=1)return re;Se.push(re)}(xe||ge)&&((re=x(q,X,ee,ne,ae)).textPosAngle=(U.startangle+U.stopangle)/2,Se.push(re)),(xe||pe)&&((re=b(q,X,ee,ne,ae)).textPosAngle=(U.startangle+U.stopangle)/2,Se.push(re));for(var ze=0,ke=0,Ee=0;Ee<Se.length;Ee++){var me=Se[Ee].scale;if(ke<me&&(ke=me,ze=Ee),!xe&&ke>=1)break}return Se[ze]}function x(q,U,Z,X,se){U=Math.max(0,U-2*c);var re=q.width/q.height,ee=C(re,X,U,Z);return{scale:2*ee/q.height,rCenter:A(re,ee/U),rotate:m(se)}}function b(q,U,Z,X,se){U=Math.max(0,U-2*c);var re=q.height/q.width,ee=C(re,X,U,Z);return{scale:2*ee/q.width,rCenter:A(re,ee/U),rotate:m(se+Math.PI/2)}}function A(q,U){return Math.cos(U)-q*U}function m(q){return(180/Math.PI*q+720)%180-90}function C(q,U,Z,X){var se=q+1/(2*Math.tan(U));return Z*Math.min(1/(Math.sqrt(se*se+.5)+se),X/(Math.sqrt(q*q+X/2)+q))}function k(q,U){return q.v!==U.vTotal||U.trace.hole?Math.min(1/(1+1/Math.sin(q.halfangle)),q.ring/2):1}function P(q,U){var Z=U.pxmid[0],X=U.pxmid[1],se=q.width/2,re=q.height/2;return Z<0&&(se*=-1),X<0&&(re*=-1),{scale:1,rCenter:1,rotate:0,x:se+Math.abs(re)*(se>0?1:-1)/2,y:re/(1+Z*Z/(X*X)),outside:!0}}function R(q,U){var Z,X,se,re=q.trace,ee={x:q.cx,y:q.cy},K={tx:0,ty:0};K.ty+=re.title.font.size,se=N(re),-1!==re.title.position.indexOf("top")?(ee.y-=(1+se)*q.r,K.ty-=q.titleBox.height):-1!==re.title.position.indexOf("bottom")&&(ee.y+=(1+se)*q.r);var ne,ae=q.r/(void 0===(ne=q.trace.aspectratio)?1:ne),ue=U.w*(re.domain.x[1]-re.domain.x[0])/2;return-1!==re.title.position.indexOf("left")?(ue+=ae,ee.x-=(1+se)*ae,K.tx+=q.titleBox.width/2):-1!==re.title.position.indexOf("center")?ue*=2:-1!==re.title.position.indexOf("right")&&(ue+=ae,ee.x+=(1+se)*ae,K.tx-=q.titleBox.width/2),Z=ue/q.titleBox.width,X=L(q,U)/q.titleBox.height,{x:ee.x,y:ee.y,scale:Math.min(Z,X),tx:K.tx,ty:K.ty}}function L(q,U){var Z=q.trace;return Math.min(q.titleBox.height,U.h*(Z.domain.y[1]-Z.domain.y[0])/2)}function N(q){var U,Z=q.pull;if(!Z)return 0;if(Array.isArray(Z))for(Z=0,U=0;U<q.pull.length;U++)q.pull[U]>Z&&(Z=q.pull[U]);return Z}function B(q,U){for(var Z=[],X=0;X<q.length;X++){var se=q[X][0],re=se.trace,ee=re.domain,K=U.w*(ee.x[1]-ee.x[0]),ne=U.h*(ee.y[1]-ee.y[0]);re.title.text&&"middle center"!==re.title.position&&(ne-=L(se,U));var ue=ne/2;"funnelarea"!==re.type||re.scalegroup||(ue/=re.aspectratio),se.r=Math.min(K/2,ue)/(1+N(re)),se.cx=U.l+U.w*(re.domain.x[1]+re.domain.x[0])/2,se.cy=U.t+U.h*(1-re.domain.y[0])-ne/2,re.title.text&&-1!==re.title.position.indexOf("bottom")&&(se.cy-=L(se,U)),re.scalegroup&&-1===Z.indexOf(re.scalegroup)&&Z.push(re.scalegroup)}!function(he,pe){for(var ge,xe,Se,Te=0;Te<pe.length;Te++){var ye=1/0,we=pe[Te];for(xe=0;xe<he.length;xe++)if((Se=(ge=he[xe][0]).trace).scalegroup===we){var ze;if("pie"===Se.type)ze=ge.r*ge.r;else if("funnelarea"===Se.type){var ke,Ee;Se.aspectratio>1?Ee=(ke=ge.r)/Se.aspectratio:ke=(Ee=ge.r)*Se.aspectratio,ze=(ke*=(1+Se.baseratio)/2)*Ee}ye=Math.min(ye,ze/ge.vTotal)}for(xe=0;xe<he.length;xe++)if((Se=(ge=he[xe][0]).trace).scalegroup===we){var me=ye*ge.vTotal;"funnelarea"===Se.type&&(me/=(1+Se.baseratio)/2,me/=Se.aspectratio),ge.r=Math.sqrt(me)}}}(q,Z)}function J(q,U){return[q*Math.sin(U),-q*Math.cos(U)]}function z(q,U,Z){var ze,X=q._fullLayout,se=Z.trace,re=se.texttemplate,ee=se.textinfo;if(!re&&ee&&"none"!==ee){var K,ne=ee.split("+"),ae=function(ze){return-1!==ne.indexOf(ze)},ue=ae("label"),he=ae("text"),pe=ae("value"),ge=ae("percent"),xe=X.separators;if(K=ue?[U.label]:[],he){var Se=h.getFirstFilled(se.text,U.pts);p(Se)&&K.push(Se)}pe&&K.push(h.formatPieValue(U.v,xe)),ge&&K.push(h.formatPiePercent(U.v/Z.vTotal,xe)),U.text=K.join("<br>")}if(re){var Te=y.castOption(se,U.i,"texttemplate");if(Te){var ye={label:(ze=U).label,value:ze.v,valueLabel:h.formatPieValue(ze.v,X.separators),percent:ze.v/Z.vTotal,percentLabel:h.formatPiePercent(ze.v/Z.vTotal,X.separators),color:ze.color,text:ze.text,customdata:y.castOption(se,ze.i,"customdata")},we=h.getFirstFilled(se.text,U.pts);(p(we)||""===we)&&(ye.text=we),U.text=y.texttemplateString(Te,ye,q._fullLayout._d3locale,ye,se._meta||{})}else U.text=""}}function Y(q,U){var Z=q.rotate*Math.PI/180,X=Math.cos(Z),se=Math.sin(Z),re=(U.left+U.right)/2,ee=(U.top+U.bottom)/2;q.textX=re*X-ee*se,q.textY=re*se+ee*X,q.noCenter=!0}oe.exports={plot:function(q,U){var Z=q._context.staticPlot,X=q._fullLayout,se=X._size;l("pie",X),g(U,q),B(U,se);var re=y.makeTraceGroups(X._pielayer,U,"trace").each(function(ee){var K=I.select(this),ne=ee[0],ae=ne.trace;(function(ue){var he,pe,ge,xe=ue[0],Se=xe.r,Te=xe.trace,ye=h.getRotationAngle(Te.rotation),we=2*Math.PI/xe.vTotal,ze="px0",ke="px1";if("counterclockwise"===Te.direction){for(he=0;he<ue.length&&ue[he].hidden;he++);if(he===ue.length)return;ye+=we*ue[he].v,we*=-1,ze="px1",ke="px0"}for(ge=J(Se,ye),he=0;he<ue.length;he++)(pe=ue[he]).hidden||(pe[ze]=ge,pe.startangle=ye,pe.pxmid=J(Se,ye+=we*pe.v/2),pe.midangle=ye,ge=J(Se,ye+=we*pe.v/2),pe.stopangle=ye,pe[ke]=ge,pe.largeArc=pe.v>xe.vTotal/2?1:0,pe.halfangle=Math.PI*Math.min(pe.v/xe.vTotal,.5),pe.ring=1-Te.hole,pe.rInscribed=k(pe,xe))})(ee),K.attr("stroke-linejoin","round"),K.each(function(){var ue=I.select(this).selectAll("g.slice").data(ee);ue.enter().append("g").classed("slice",!0),ue.exit().remove();var he=[[[],[]],[[],[]]],pe=!1;ue.each(function(ke,Ee){if(ke.hidden)I.select(this).selectAll("path,g").remove();else{ke.pointNumber=ke.i,ke.curveNumber=ae.index,he[ke.pxmid[1]<0?0:1][ke.pxmid[0]<0?0:1].push(ke);var me=ne.cx,de=ne.cy,ce=I.select(this),Ae=ce.selectAll("path.surface").data([ke]);if(Ae.enter().append("path").classed("surface",!0).style({"pointer-events":Z?"none":"all"}),ce.call(T,q,ee),ae.pull){var Ne=+h.castOption(ae.pull,ke.pts)||0;Ne>0&&(me+=Ne*ke.pxmid[0],de+=Ne*ke.pxmid[1])}ke.cxFinal=me,ke.cyFinal=de;var De=ae.hole;if(ke.v===ne.vTotal){var Ue="M"+(me+ke.px0[0])+","+(de+ke.px0[1])+Be(ke.px0,ke.pxmid,!0,1)+Be(ke.pxmid,ke.px0,!0,1)+"Z";Ae.attr("d",De?"M"+(me+De*ke.px0[0])+","+(de+De*ke.px0[1])+Be(ke.px0,ke.pxmid,!1,De)+Be(ke.pxmid,ke.px0,!1,De)+"Z"+Ue:Ue)}else{var Ye=Be(ke.px0,ke.px1,!0,1);if(De){var _e=1-De;Ae.attr("d","M"+(me+De*ke.px1[0])+","+(de+De*ke.px1[1])+Be(ke.px1,ke.px0,!1,De)+"l"+_e*ke.px0[0]+","+_e*ke.px0[1]+Ye+"Z")}else Ae.attr("d","M"+me+","+de+"l"+ke.px0[0]+","+ke.px0[1]+Ye+"Z")}z(q,ke,ne);var Pe=h.castOption(ae.textposition,ke.pts),Ie=ce.selectAll("g.slicetext").data(ke.text&&"none"!==Pe?[0]:[]);Ie.enter().append("g").classed("slicetext",!0),Ie.exit().remove(),Ie.each(function(){var Dt,vt,mt,We=y.ensureSingle(I.select(this),"text","",function(Dt){Dt.attr("data-notex",1)}),Ge=y.ensureUniformFontSize(q,"outside"===Pe?(mt=X.font,{color:h.castOption((Dt=ae).outsidetextfont.color,(vt=ke).pts)||h.castOption(Dt.textfont.color,vt.pts)||mt.color,family:h.castOption(Dt.outsidetextfont.family,vt.pts)||h.castOption(Dt.textfont.family,vt.pts)||mt.family,size:h.castOption(Dt.outsidetextfont.size,vt.pts)||h.castOption(Dt.textfont.size,vt.pts)||mt.size}):_(ae,ke,X.font));We.text(ke.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(M.font,Ge).call(s.convertToTspans,q);var Ke,tt=M.bBox(We.node());if("outside"===Pe)Ke=P(tt,ke);else if(Ke=w(tt,ke,ne),"auto"===Pe&&Ke.scale<1){var st=y.ensureUniformFontSize(q,ae.outsidetextfont);We.call(M.font,st),Ke=P(tt=M.bBox(We.node()),ke)}var gt=Ke.textPosAngle,ct=void 0===gt?ke.pxmid:J(ne.r,gt);if(Ke.targetX=me+ct[0]*Ke.rCenter+(Ke.x||0),Ke.targetY=de+ct[1]*Ke.rCenter+(Ke.y||0),Y(Ke,tt),Ke.outside){var kt=Ke.targetY;ke.yLabelMin=kt-tt.height/2,ke.yLabelMid=kt,ke.yLabelMax=kt+tt.height/2,ke.labelExtraX=0,ke.labelExtraY=0,pe=!0}Ke.fontSize=Ge.size,o(ae.type,Ke,X),ee[Ee].transform=Ke,y.setTransormAndDisplay(We,Ke)})}function Be(We,Ge,Ke,tt){return"a"+tt*ne.r+","+tt*ne.r+" 0 "+ke.largeArc+(Ke?" 1 ":" 0 ")+tt*(Ge[0]-We[0])+","+tt*(Ge[1]-We[1])}});var Ee,ge=I.select(this).selectAll("g.titletext").data(ae.title.text?[0]:[]);if(ge.enter().append("g").classed("titletext",!0),ge.exit().remove(),ge.each(function(){var ke,de,ce,Ee=y.ensureSingle(I.select(this),"text","",function(de){de.attr("data-notex",1)}),me=ae.title.text;ae._meta&&(me=y.templateString(me,ae._meta)),Ee.text(me).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(M.font,ae.title.font).call(s.convertToTspans,q),ke="middle center"===ae.title.position?(de=ne,ce=Math.sqrt(de.titleBox.width*de.titleBox.width+de.titleBox.height*de.titleBox.height),{x:de.cx,y:de.cy,scale:de.trace.hole*de.r*2/ce,tx:0,ty:-de.titleBox.height/2+de.trace.title.font.size}):R(ne,se),Ee.attr("transform",i(ke.x,ke.y)+u(Math.min(1,ke.scale))+i(ke.tx,ke.ty))}),pe&&function(ke,Ee){var me,de,ce,Ae,Ne,De,Ue,Ye,_e,Pe,Ie,Be,We;function Ge(gt,ct){return gt.pxmid[1]-ct.pxmid[1]}function Ke(gt,ct){return ct.pxmid[1]-gt.pxmid[1]}function tt(gt,ct){ct||(ct={});var kt,Dt,vt,mt,Et=ct.labelExtraY+(de?ct.yLabelMax:ct.yLabelMin),Lt=de?gt.yLabelMin:gt.yLabelMax,Rt=de?gt.yLabelMax:gt.yLabelMin,Ut=gt.cyFinal+Ne(gt.px0[1],gt.px1[1]),Bt=Et-Lt;if(Bt*Ue>0&&(gt.labelExtraY=Bt),Array.isArray(Ee.pull))for(Dt=0;Dt<Pe.length;Dt++)(vt=Pe[Dt])===gt||(h.castOption(Ee.pull,gt.pts)||0)>=(h.castOption(Ee.pull,vt.pts)||0)||((gt.pxmid[1]-vt.pxmid[1])*Ue>0?(Bt=vt.cyFinal+Ne(vt.px0[1],vt.px1[1])-Lt-gt.labelExtraY)*Ue>0&&(gt.labelExtraY+=Bt):(Rt+gt.labelExtraY-Ut)*Ue>0&&(kt=3*De*Math.abs(Dt-Pe.indexOf(gt)),(mt=vt.cxFinal+Ae(vt.px0[0],vt.px1[0])+kt-(gt.cxFinal+gt.pxmid[0])-gt.labelExtraX)*De>0&&(gt.labelExtraX+=mt)))}for(de=0;de<2;de++)for(ce=de?Ge:Ke,Ne=de?Math.max:Math.min,Ue=de?1:-1,me=0;me<2;me++){for(Ae=me?Math.max:Math.min,De=me?1:-1,(Ye=ke[de][me]).sort(ce),Pe=(_e=ke[1-de][me]).concat(Ye),Be=[],Ie=0;Ie<Ye.length;Ie++)void 0!==Ye[Ie].yLabelMid&&Be.push(Ye[Ie]);for(We=!1,Ie=0;de&&Ie<_e.length;Ie++)if(void 0!==_e[Ie].yLabelMid){We=_e[Ie];break}for(Ie=0;Ie<Be.length;Ie++){var st=Ie&&Be[Ie-1];We&&!Ie&&(st=We),tt(Be[Ie],st)}}}(he,ae),Ee=ae,ue.each(function(me){var de=I.select(this);if(me.labelExtraX||me.labelExtraY){var ce=de.select("g.slicetext text");me.transform.targetX+=me.labelExtraX,me.transform.targetY+=me.labelExtraY,y.setTransormAndDisplay(ce,me.transform);var Ae=me.cxFinal+me.pxmid[0],Ne="M"+Ae+","+(me.cyFinal+me.pxmid[1]),De=(me.yLabelMax-me.yLabelMin)*(me.pxmid[0]<0?-1:1)/4;if(me.labelExtraX){var Ue=me.labelExtraX*me.pxmid[1]/me.pxmid[0],Ye=me.yLabelMid+me.labelExtraY-(me.cyFinal+me.pxmid[1]);Math.abs(Ue)>Math.abs(Ye)?Ne+="l"+Ye*me.pxmid[0]/me.pxmid[1]+","+Ye+"H"+(Ae+me.labelExtraX+De):Ne+="l"+me.labelExtraX+","+Ue+"v"+(Ye-Ue)+"h"+De}else Ne+="V"+(me.yLabelMid+me.labelExtraY)+"h"+De;y.ensureSingle(de,"path","textline").call(S.stroke,Ee.outsidetextfont.color).attr({"stroke-width":Math.min(2,Ee.outsidetextfont.size/8),d:Ne,fill:"none"})}else de.select("path.textline").remove()}),pe&&ae.automargin){var xe=M.bBox(K.node()),Se=ae.domain,we=(se.w*(Se.x[1]-Se.x[0])*.5-ne.r)/se.w,ze=(se.h*(Se.y[1]-Se.y[0])*.5-ne.r)/se.h;E.autoMargin(q,"pie."+ae.uid+".automargin",{xl:Se.x[0]-we,xr:Se.x[1]+we,yb:Se.y[0]-ze,yt:Se.y[1]+ze,l:Math.max(ne.cx-ne.r-xe.left,0),r:Math.max(xe.right-(ne.cx+ne.r),0),b:Math.max(xe.bottom-(ne.cy+ne.r),0),t:Math.max(ne.cy-ne.r-xe.top,0),pad:5})}})});setTimeout(function(){re.selectAll("tspan").each(function(){var ee=I.select(this);ee.attr("dy")&&ee.attr("dy",ee.attr("dy"))})},0)},formatSliceLabel:z,transformInsideText:w,determineInsideTextFont:_,positionTitleOutside:R,prerenderTitles:g,layoutAreas:B,attachFxHandlers:T,computeTransform:Y}},68357:function(oe,j,r){"use strict";var I=r(39898),E=r(63463),f=r(72597).resizeText;oe.exports=function(S){var M=S._fullLayout._pielayer.selectAll(".trace");f(S,M,"pie"),M.each(function(y){var u=y[0].trace,i=I.select(this);i.style({opacity:u.opacity}),i.selectAll("path.surface").each(function(s){I.select(this).call(E,s,u,S)})})}},63463:function(oe,j,r){"use strict";var I=r(7901),E=r(53581).castOption,f=r(22209);oe.exports=function(S,M,y,u){var i=y.marker.line,s=E(i.color,M.pts)||I.defaultLine,a=E(i.width,M.pts)||0;S.call(f,M,y,u).style("stroke-width",a).call(I.stroke,s)}},10959:function(oe,j,r){"use strict";var I=r(82196);oe.exports={x:I.x,y:I.y,xy:{valType:"data_array",editType:"calc"},indices:{valType:"data_array",editType:"calc"},xbounds:{valType:"data_array",editType:"calc"},ybounds:{valType:"data_array",editType:"calc"},text:I.text,marker:{color:{valType:"color",arrayOk:!1,editType:"calc"},opacity:{valType:"number",min:0,max:1,dflt:1,arrayOk:!1,editType:"calc"},blend:{valType:"boolean",dflt:null,editType:"calc"},sizemin:{valType:"number",min:.1,max:2,dflt:.5,editType:"calc"},sizemax:{valType:"number",min:.1,dflt:20,editType:"calc"},border:{color:{valType:"color",arrayOk:!1,editType:"calc"},arearatio:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},editType:"calc"},editType:"calc"},transforms:void 0}},42743:function(oe,j,r){"use strict";var I=r(9330).gl_pointcloud2d,E=r(78614),f=r(71739).findExtremes,S=r(34603);function M(u,i){this.scene=u,this.uid=i,this.type="pointcloud",this.pickXData=[],this.pickYData=[],this.xData=[],this.yData=[],this.textLabels=[],this.color="rgb(0, 0, 0)",this.name="",this.hoverinfo="all",this.idToIndex=new Int32Array(0),this.bounds=[0,0,0,0],this.pointcloudOptions={positions:new Float32Array(0),idToIndex:this.idToIndex,sizemin:.5,sizemax:12,color:[0,0,0,1],areaRatio:1,borderColor:[0,0,0,1]},this.pointcloud=I(u.glplot,this.pointcloudOptions),this.pointcloud._trace=this}var y=M.prototype;y.handlePick=function(u){var i=this.idToIndex[u.pointId];return{trace:this,dataCoord:u.dataCoord,traceCoord:this.pickXYData?[this.pickXYData[2*i],this.pickXYData[2*i+1]]:[this.pickXData[i],this.pickYData[i]],textLabel:Array.isArray(this.textLabels)?this.textLabels[i]:this.textLabels,color:this.color,name:this.name,pointIndex:i,hoverinfo:this.hoverinfo}},y.update=function(u){this.index=u.index,this.textLabels=u.text,this.name=u.name,this.hoverinfo=u.hoverinfo,this.bounds=[1/0,1/0,-1/0,-1/0],this.updateFast(u),this.color=S(u,{})},y.updateFast=function(u){var i,s,a,o,l,c,h=this.xData=this.pickXData=u.x,v=this.yData=this.pickYData=u.y,p=this.pickXYData=u.xy,_=u.indices,g=this.bounds;if(p){if(a=p,i=p.length>>>1,u.xbounds&&u.ybounds)g[0]=u.xbounds[0],g[2]=u.xbounds[1],g[1]=u.ybounds[0],g[3]=u.ybounds[1];else for(c=0;c<i;c++)l=a[2*c+1],(o=a[2*c])<g[0]&&(g[0]=o),o>g[2]&&(g[2]=o),l<g[1]&&(g[1]=l),l>g[3]&&(g[3]=l);if(_)s=_;else for(s=new Int32Array(i),c=0;c<i;c++)s[c]=c}else for(i=h.length,a=new Float32Array(2*i),s=new Int32Array(i),c=0;c<i;c++)o=h[c],l=v[c],s[c]=c,a[2*c]=o,a[2*c+1]=l,o<g[0]&&(g[0]=o),o>g[2]&&(g[2]=o),l<g[1]&&(g[1]=l),l>g[3]&&(g[3]=l);this.idToIndex=s,this.pointcloudOptions.idToIndex=s,this.pointcloudOptions.positions=a;var w=E(u.marker.color),x=E(u.marker.border.color),b=u.opacity*u.marker.opacity;w[3]*=b,this.pointcloudOptions.color=w;var A=u.marker.blend;null===A&&(A=h.length<100||v.length<100),this.pointcloudOptions.blend=A,x[3]*=b,this.pointcloudOptions.borderColor=x;var m=u.marker.sizemin,C=Math.max(u.marker.sizemax,u.marker.sizemin);this.pointcloudOptions.sizeMin=m,this.pointcloudOptions.sizeMax=C,this.pointcloudOptions.areaRatio=u.marker.border.arearatio,this.pointcloud.update(this.pointcloudOptions);var k=this.scene.xaxis,P=this.scene.yaxis,R=C/2||.5;u._extremes[k._id]=f(k,[g[0],g[2]],{ppad:R}),u._extremes[P._id]=f(P,[g[1],g[3]],{ppad:R})},y.dispose=function(){this.pointcloud.dispose()},oe.exports=function(u,i){var s=new M(u,i.uid);return s.update(i),s}},33876:function(oe,j,r){"use strict";var I=r(71828),E=r(10959);oe.exports=function(f,S,M){function y(u,i){return I.coerce(f,S,E,u,i)}y("x"),y("y"),y("xbounds"),y("ybounds"),f.xy&&f.xy instanceof Float32Array&&(S.xy=f.xy),f.indices&&f.indices instanceof Int32Array&&(S.indices=f.indices),y("text"),y("marker.color",M),y("marker.opacity"),y("marker.blend"),y("marker.sizemin"),y("marker.sizemax"),y("marker.border.color",M),y("marker.border.arearatio"),S._length=null}},20593:function(oe,j,r){"use strict";["*pointcloud* trace is deprecated!","Please consider switching to the *scattergl* trace type."].join(" "),oe.exports={attributes:r(10959),supplyDefaults:r(33876),calc:r(36563),plot:r(42743),moduleType:"trace",name:"pointcloud",basePlotModule:r(4796),categories:["gl","gl2d","showLegend"],meta:{}}},39953:function(oe,j,r){"use strict";var I=r(41940),E=r(9012),f=r(22399),S=r(77914),M=r(27670).Y,y=r(5386).fF,u=r(50693),i=r(44467).templatedArray,s=r(12663).descriptionOnlyNumbers,a=r(1426).extendFlat,o=r(30962).overrideAll;(oe.exports=o({hoverinfo:a({},E.hoverinfo,{flags:[],arrayOk:!1}),hoverlabel:S.hoverlabel,domain:M({name:"sankey",trace:!0}),orientation:{valType:"enumerated",values:["v","h"],dflt:"h"},valueformat:{valType:"string",dflt:".3s",description:s("value")},valuesuffix:{valType:"string",dflt:""},arrangement:{valType:"enumerated",values:["snap","perpendicular","freeform","fixed"],dflt:"snap"},textfont:I({}),customdata:void 0,node:{label:{valType:"data_array",dflt:[]},groups:{valType:"info_array",impliedEdits:{x:[],y:[]},dimensions:2,freeLength:!0,dflt:[],items:{valType:"number",editType:"calc"}},x:{valType:"data_array",dflt:[]},y:{valType:"data_array",dflt:[]},color:{valType:"color",arrayOk:!0},customdata:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:f.defaultLine,arrayOk:!0},width:{valType:"number",min:0,dflt:.5,arrayOk:!0}},pad:{valType:"number",arrayOk:!1,min:0,dflt:20},thickness:{valType:"number",arrayOk:!1,min:1,dflt:20},hoverinfo:{valType:"enumerated",values:["all","none","skip"],dflt:"all"},hoverlabel:S.hoverlabel,hovertemplate:y({},{keys:["value","label"]})},link:{arrowlen:{valType:"number",min:0,dflt:0},label:{valType:"data_array",dflt:[]},color:{valType:"color",arrayOk:!0},customdata:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:f.defaultLine,arrayOk:!0},width:{valType:"number",min:0,dflt:0,arrayOk:!0}},source:{valType:"data_array",dflt:[]},target:{valType:"data_array",dflt:[]},value:{valType:"data_array",dflt:[]},hoverinfo:{valType:"enumerated",values:["all","none","skip"],dflt:"all"},hoverlabel:S.hoverlabel,hovertemplate:y({},{keys:["value","label"]}),colorscales:i("concentrationscales",{editType:"calc",label:{valType:"string",editType:"calc",dflt:""},cmax:{valType:"number",editType:"calc",dflt:1},cmin:{valType:"number",editType:"calc",dflt:0},colorscale:a(u().colorscale,{dflt:[[0,"white"],[1,"black"]]})})}},"calc","nested")).transforms=void 0},75536:function(oe,j,r){"use strict";var I=r(30962).overrideAll,E=r(27659).a0,f=r(60436),S=r(528),M=r(6964),y=r(28569),u=r(47322).prepSelect,i=r(71828),s=r(73972),a="sankey";function o(l,c){var h=l._fullData[c],v=l._fullLayout,p=v.dragmode,_=h._bgRect;if(_&&"pan"!==p&&"zoom"!==p){M(_,"pan"===v.dragmode?"move":"crosshair");var g={_id:"x",c2p:i.identity,_offset:h._sankey.translateX,_length:h._sankey.width},w={_id:"y",c2p:i.identity,_offset:h._sankey.translateY,_length:h._sankey.height},x={gd:l,element:_.node(),plotinfo:{id:c,xaxis:g,yaxis:w,fillRangeItems:i.noop},subplot:c,xaxes:[g],yaxes:[w],doneFnCompleted:function(b){var A,m=l._fullData[c],C=m.node.groups.slice(),k=[];function P(B){for(var J=m._sankey.graph.nodes,z=0;z<J.length;z++)if(J[z].pointNumber===B)return J[z]}for(var R=0;R<b.length;R++){var L=P(b[R].pointNumber);if(L)if(L.group){for(var N=0;N<L.childrenNodes.length;N++)k.push(L.childrenNodes[N].pointNumber);C[L.pointNumber-m.node._count]=!1}else k.push(L.pointNumber)}A=C.filter(Boolean).concat([k]),s.call("_guiRestyle",l,{"node.groups":[A]},c)},prepFn:function(b,A,m){u(b,A,m,x,p)}};y.init(x)}}j.name=a,j.baseLayoutAttrOverrides=I({hoverlabel:S.hoverlabel},"plot","nested"),j.plot=function(l){var c=E(l.calcdata,a)[0];f(l,c),j.updateFx(l)},j.clean=function(l,c,h,v){var p=v._has&&v._has(a),T=c._has&&c._has(a);p&&!T&&(v._paperdiv.selectAll(".sankey").remove(),v._paperdiv.selectAll(".bgsankey").remove())},j.updateFx=function(l){for(var c=0;c<l._fullData.length;c++)o(l,c)}},92930:function(oe,j,r){"use strict";var I=r(68664),E=r(71828),f=r(28984).wrap,S=E.isArrayOrTypedArray,M=E.isIndex,y=r(21081);oe.exports=function(u,i){var s=function(a){var o,l=a.node,c=a.link,h=[],v=S(c.color),p=S(c.customdata),T={},_={},g=c.colorscales.length;for(o=0;o<g;o++){var w=c.colorscales[o],x=y.extractScale(w,{cLetter:"c"}),b=y.makeColorScaleFunc(x);_[w.label]=b}var A=0;for(o=0;o<c.value.length;o++)c.source[o]>A&&(A=c.source[o]),c.target[o]>A&&(A=c.target[o]);var m,C=A+1;a.node._count=C;var k=a.node.groups,P={};for(o=0;o<k.length;o++){var R=k[o];for(m=0;m<R.length;m++){var L=R[m],N=C+o;P.hasOwnProperty(L)?E.warn("Node "+L+" is already part of a group."):P[L]=N}}var B={source:[],target:[]};for(o=0;o<c.value.length;o++){var J=c.value[o],z=c.source[o],Y=c.target[o];if(J>0&&M(z,C)&&M(Y,C)&&(!P.hasOwnProperty(z)||!P.hasOwnProperty(Y)||P[z]!==P[Y])){P.hasOwnProperty(Y)&&(Y=P[Y]),P.hasOwnProperty(z)&&(z=P[z]),T[z=+z]=T[Y=+Y]=!0;var q="";c.label&&c.label[o]&&(q=c.label[o]);var U=null;q&&_.hasOwnProperty(q)&&(U=_[q]),h.push({pointNumber:o,label:q,color:v?c.color[o]:c.color,customdata:p?c.customdata[o]:c.customdata,concentrationscale:U,source:z,target:Y,value:+J}),B.source.push(z),B.target.push(Y)}}var Z=C+k.length,X=S(l.color),se=S(l.customdata),re=[];for(o=0;o<Z;o++)T[o]&&re.push({group:o>C-1,childrenNodes:[],pointNumber:o,label:l.label[o],color:X?l.color[o]:l.color,customdata:se?l.customdata[o]:l.customdata});var K=!1;return function(ne,ae,ue){for(var he=E.init2dArray(ne,0),pe=0;pe<Math.min(ae.length,ue.length);pe++)if(E.isIndex(ae[pe],ne)&&E.isIndex(ue[pe],ne)){if(ae[pe]===ue[pe])return!0;he[ae[pe]].push(ue[pe])}return I(he).components.some(function(ge){return ge.length>1})}(Z,B.source,B.target)&&(K=!0),{circular:K,links:h,nodes:re,groups:k,groupLookup:P}}(i);return f({circular:s.circular,_nodes:s.nodes,_links:s.links,_groups:s.groups,_groupLookup:s.groupLookup})}},85247:function(oe){"use strict";oe.exports={nodeTextOffsetHorizontal:4,nodeTextOffsetVertical:3,nodePadAcross:10,sankeyIterations:50,forceIterations:5,forceTicksPerFrame:10,duration:500,ease:"linear",cn:{sankey:"sankey",sankeyLinks:"sankey-links",sankeyLink:"sankey-link",sankeyNodeSet:"sankey-node-set",sankeyNode:"sankey-node",nodeRect:"node-rect",nodeLabel:"node-label"}}},26857:function(oe,j,r){"use strict";var I=r(71828),E=r(39953),f=r(7901),S=r(84267),M=r(27670).c,y=r(38048),u=r(44467),i=r(85501);function s(a,o){function l(c,h){return I.coerce(a,o,E.link.colorscales,c,h)}l("label"),l("cmin"),l("cmax"),l("colorscale")}oe.exports=function(a,o,l,c){function h(C,k){return I.coerce(a,o,E,C,k)}var v=I.extendDeep(c.hoverlabel,a.hoverlabel),p=a.node,T=u.newContainer(o,"node");function _(C,k){return I.coerce(p,T,E.node,C,k)}_("label"),_("groups"),_("x"),_("y"),_("pad"),_("thickness"),_("line.color"),_("line.width"),_("hoverinfo",a.hoverinfo),y(p,T,_,v),_("hovertemplate");var g=c.colorway;_("color",T.label.map(function(C,k){return f.addOpacity(g[k%g.length],.8)})),_("customdata");var w=a.link||{},x=u.newContainer(o,"link");function b(C,k){return I.coerce(w,x,E.link,C,k)}b("label"),b("arrowlen"),b("source"),b("target"),b("value"),b("line.color"),b("line.width"),b("hoverinfo",a.hoverinfo),y(w,x,b,v),b("hovertemplate");var A,m=S(c.paper_bgcolor).getLuminance()<.333?"rgba(255, 255, 255, 0.6)":"rgba(0, 0, 0, 0.2)";b("color",I.repeat(m,x.value.length)),b("customdata"),i(w,x,{name:"colorscales",handleItemDefaults:s}),M(o,c,h),h("orientation"),h("valueformat"),h("valuesuffix"),T.x.length&&T.y.length&&(A="freeform"),h("arrangement",A),I.coerceFont(h,"textfont",I.extendFlat({},c.font)),o._length=null}},29396:function(oe,j,r){"use strict";oe.exports={attributes:r(39953),supplyDefaults:r(26857),calc:r(92930),plot:r(60436),moduleType:"trace",name:"sankey",basePlotModule:r(75536),selectPoints:r(84564),categories:["noOpacity"],meta:{}}},60436:function(oe,j,r){"use strict";var I=r(39898),E=r(71828),f=E.numberFormat,S=r(3393),M=r(30211),y=r(7901),u=r(85247).cn,i=E._;function s(w){return""!==w}function a(w,x){return w.filter(function(b){return b.key===x.traceId})}function o(w,x){I.select(w).select("path").style("fill-opacity",x),I.select(w).select("rect").style("fill-opacity",x)}function l(w){I.select(w).select("text.name").style("fill","black")}function c(w){return function(x){return-1!==w.node.sourceLinks.indexOf(x.link)||-1!==w.node.targetLinks.indexOf(x.link)}}function h(w){return function(x){return-1!==x.node.sourceLinks.indexOf(w.link)||-1!==x.node.targetLinks.indexOf(w.link)}}function v(w,x,b){x&&b&&a(b,x).selectAll("."+u.sankeyLink).filter(c(x)).call(T.bind(0,x,b,!1))}function p(w,x,b){x&&b&&a(b,x).selectAll("."+u.sankeyLink).filter(c(x)).call(_.bind(0,x,b,!1))}function T(w,x,b,A){var m=A.datum().link.label;A.style("fill-opacity",function(C){if(!C.link.concentrationscale)return.4}),m&&a(x,w).selectAll("."+u.sankeyLink).filter(function(C){return C.link.label===m}).style("fill-opacity",function(C){if(!C.link.concentrationscale)return.4}),b&&a(x,w).selectAll("."+u.sankeyNode).filter(h(w)).call(v)}function _(w,x,b,A){var m=A.datum().link.label;A.style("fill-opacity",function(C){return C.tinyColorAlpha}),m&&a(x,w).selectAll("."+u.sankeyLink).filter(function(C){return C.link.label===m}).style("fill-opacity",function(C){return C.tinyColorAlpha}),b&&a(x,w).selectAll(u.sankeyNode).filter(h(w)).call(p)}function g(w,x){var A=E.nestedProperty(w.hoverlabel||{},x).get();return!Array.isArray(A)&&A}oe.exports=function(w,x){for(var b=w._fullLayout,A=b._paper,m=b._size,C=0;C<w._fullData.length;C++)if(w._fullData[C].visible&&w._fullData[C].type===u.sankey&&!w._fullData[C]._viewInitial){var k=w._fullData[C].node;w._fullData[C]._viewInitial={node:{groups:k.groups.slice(),x:k.x.slice(),y:k.y.slice()}}}var P=i(w,"source:")+" ",R=i(w,"target:")+" ",L=i(w,"concentration:")+" ",N=i(w,"incoming flow count:")+" ",B=i(w,"outgoing flow count:")+" ";S(w,A,x,{width:m.w,height:m.h,margin:{t:m.t,r:m.r,b:m.b,l:m.l}},{linkEvents:{hover:function(J,z,Y){!1!==w._fullLayout.hovermode&&(I.select(J).call(T.bind(0,z,Y,!0)),"skip"!==z.link.trace.link.hoverinfo&&(z.link.fullData=z.link.trace,w.emit("plotly_hover",{event:I.event,points:[z.link]})))},follow:function(J,z){if(!1!==w._fullLayout.hovermode){var Y=z.link.trace.link;if("none"!==Y.hoverinfo&&"skip"!==Y.hoverinfo){for(var q=[],U=0,Z=0;Z<z.flow.links.length;Z++){var X=z.flow.links[Z];if("closest"!==w._fullLayout.hovermode||z.link.pointNumber===X.pointNumber){z.link.pointNumber===X.pointNumber&&(U=Z),X.fullData=X.trace,Y=z.link.trace.link;var se=ee(X),re={valueLabel:f(z.valueFormat)(X.value)+z.valueSuffix};q.push({x:se[0],y:se[1],name:re.valueLabel,text:[X.label||"",P+X.source.label,R+X.target.label,X.concentrationscale?L+f("%0.2f")(X.flow.labelConcentration):""].filter(s).join("<br>"),color:g(Y,"bgcolor")||y.addOpacity(X.color,1),borderColor:g(Y,"bordercolor"),fontFamily:g(Y,"font.family"),fontSize:g(Y,"font.size"),fontColor:g(Y,"font.color"),nameLength:g(Y,"namelength"),textAlign:g(Y,"align"),idealAlign:I.event.x<se[0]?"right":"left",hovertemplate:Y.hovertemplate,hovertemplateLabels:re,eventData:[X]})}}M.loneHover(q,{container:b._hoverlayer.node(),outerContainer:b._paper.node(),gd:w,anchorIndex:U}).each(function(){z.link.concentrationscale||o(this,.65),l(this)})}}function ee(K){var ne,ae;K.circular?(ne=(K.circularPathData.leftInnerExtent+K.circularPathData.rightInnerExtent)/2,ae=K.circularPathData.verticalFullExtent):(ne=(K.source.x1+K.target.x0)/2,ae=(K.y0+K.y1)/2);var ue=[ne,ae];return"v"===K.trace.orientation&&ue.reverse(),ue[0]+=z.parent.translateX,ue[1]+=z.parent.translateY,ue}},unhover:function(J,z,Y){!1!==w._fullLayout.hovermode&&(I.select(J).call(_.bind(0,z,Y,!0)),"skip"!==z.link.trace.link.hoverinfo&&(z.link.fullData=z.link.trace,w.emit("plotly_unhover",{event:I.event,points:[z.link]})),M.loneUnhover(b._hoverlayer.node()))},select:function(J,z){var Y=z.link;Y.originalEvent=I.event,w._hoverdata=[Y],M.click(w,{target:!0})}},nodeEvents:{hover:function(J,z,Y){!1!==w._fullLayout.hovermode&&(I.select(J).call(v,z,Y),"skip"!==z.node.trace.node.hoverinfo&&(z.node.fullData=z.node.trace,w.emit("plotly_hover",{event:I.event,points:[z.node]})))},follow:function(J,z){if(!1!==w._fullLayout.hovermode){var Y=z.node.trace.node;if("none"!==Y.hoverinfo&&"skip"!==Y.hoverinfo){var q=I.select(J).select("."+u.nodeRect),U=w._fullLayout._paperdiv.node().getBoundingClientRect(),Z=q.node().getBoundingClientRect(),X=Z.left-2-U.left,se=Z.right+2-U.left,re=Z.top+Z.height/4-U.top,ee={valueLabel:f(z.valueFormat)(z.node.value)+z.valueSuffix};z.node.fullData=z.node.trace,w._fullLayout._calcInverseTransform(w);var K=w._fullLayout._invScaleX,ae=M.loneHover({x0:K*X,x1:K*se,y:w._fullLayout._invScaleY*re,name:f(z.valueFormat)(z.node.value)+z.valueSuffix,text:[z.node.label,N+z.node.targetLinks.length,B+z.node.sourceLinks.length].filter(s).join("<br>"),color:g(Y,"bgcolor")||z.tinyColorHue,borderColor:g(Y,"bordercolor"),fontFamily:g(Y,"font.family"),fontSize:g(Y,"font.size"),fontColor:g(Y,"font.color"),nameLength:g(Y,"namelength"),textAlign:g(Y,"align"),idealAlign:"left",hovertemplate:Y.hovertemplate,hovertemplateLabels:ee,eventData:[z.node]},{container:b._hoverlayer.node(),outerContainer:b._paper.node(),gd:w});o(ae,.85),l(ae)}}},unhover:function(J,z,Y){!1!==w._fullLayout.hovermode&&(I.select(J).call(p,z,Y),"skip"!==z.node.trace.node.hoverinfo&&(z.node.fullData=z.node.trace,w.emit("plotly_unhover",{event:I.event,points:[z.node]})),M.loneUnhover(b._hoverlayer.node()))},select:function(J,z,Y){var q=z.node;q.originalEvent=I.event,w._hoverdata=[q],I.select(J).call(p,z,Y),M.click(w,{target:!0})}}})}},3393:function(oe,j,r){"use strict";var I=r(49887),E=r(81684).k4,f=r(39898),S=r(30838),M=r(86781),y=r(85247),u=r(84267),i=r(7901),s=r(91424),a=r(71828),o=a.strTranslate,l=a.strRotate,c=r(28984),h=c.keyFun,v=c.repeat,p=c.unwrap,T=r(63893),_=r(73972),g=r(18783),w=g.CAP_SHIFT,x=g.LINE_SPACING;function b(Z,X,se){var re,ee=p(X),K=ee.trace,ne=K.domain,ae="h"===K.orientation,ue=K.node.pad,he=K.node.thickness,pe=Z.width*(ne.x[1]-ne.x[0]),ge=Z.height*(ne.y[1]-ne.y[0]),xe=ee._nodes,Se=ee._links,Te=ee.circular;(re=Te?M.sankeyCircular().circularLinkGap(0):S.sankey()).iterations(y.sankeyIterations).size(ae?[pe,ge]:[ge,pe]).nodeWidth(he).nodePadding(ue).nodeId(function(De){return De.pointNumber}).nodes(xe).links(Se);var ye,we,ze,ke=re();for(var Ee in re.nodePadding()<ue&&a.warn("node.pad was reduced to ",re.nodePadding()," to fit within the figure."),ee._groupLookup){var me,de=parseInt(ee._groupLookup[Ee]);for(ye=0;ye<ke.nodes.length;ye++)if(ke.nodes[ye].pointNumber===de){me=ke.nodes[ye];break}if(me){var ce={pointNumber:parseInt(Ee),x0:me.x0,x1:me.x1,y0:me.y0,y1:me.y1,partOfGroup:!0,sourceLinks:[],targetLinks:[]};ke.nodes.unshift(ce),me.childrenNodes.unshift(ce)}}if(function(){for(ye=0;ye<ke.nodes.length;ye++){var De,Ue,Ye=ke.nodes[ye],_e={};for(we=0;we<Ye.targetLinks.length;we++)De=(Ue=Ye.targetLinks[we]).source.pointNumber+":"+Ue.target.pointNumber,_e.hasOwnProperty(De)||(_e[De]=[]),_e[De].push(Ue);var Pe=Object.keys(_e);for(we=0;we<Pe.length;we++){var Ie=_e[De=Pe[we]],Be=0,We={};for(ze=0;ze<Ie.length;ze++)We[(Ue=Ie[ze]).label]||(We[Ue.label]=0),We[Ue.label]+=Ue.value,Be+=Ue.value;for(ze=0;ze<Ie.length;ze++)(Ue=Ie[ze]).flow={value:Be,labelConcentration:We[Ue.label]/Be,concentration:Ue.value/Be,links:Ie},Ue.concentrationscale&&(Ue.color=u(Ue.concentrationscale(Ue.flow.labelConcentration)))}var Ge=0;for(we=0;we<Ye.sourceLinks.length;we++)Ge+=Ye.sourceLinks[we].value;for(we=0;we<Ye.sourceLinks.length;we++)(Ue=Ye.sourceLinks[we]).concentrationOut=Ue.value/Ge;var Ke=0;for(we=0;we<Ye.targetLinks.length;we++)Ke+=Ye.targetLinks[we].value;for(we=0;we<Ye.targetLinks.length;we++)(Ue=Ye.targetLinks[we]).concenrationIn=Ue.value/Ke}}(),K.node.x.length&&K.node.y.length){for(ye=0;ye<Math.min(K.node.x.length,K.node.y.length,ke.nodes.length);ye++)if(K.node.x[ye]&&K.node.y[ye]){var Ae=[K.node.x[ye]*pe,K.node.y[ye]*ge];ke.nodes[ye].x0=Ae[0]-he/2,ke.nodes[ye].x1=Ae[0]+he/2;var Ne=ke.nodes[ye].y1-ke.nodes[ye].y0;ke.nodes[ye].y0=Ae[1]-Ne/2,ke.nodes[ye].y1=Ae[1]+Ne/2}"snap"===K.arrangement&&function(De){var Ue,Ye,_e=De.map(function(Ge,Ke){return{x0:Ge.x0,index:Ke}}).sort(function(Ge,Ke){return Ge.x0-Ke.x0}),Pe=[],Ie=-1,Be=-1/0;for(ye=0;ye<_e.length;ye++){var We=De[_e[ye].index];We.x0>Be+he&&(Ie+=1,Ue=We.x0),Be=We.x0,Pe[Ie]||(Pe[Ie]=[]),Pe[Ie].push(We),We.x0+=Ye=Ue-We.x0,We.x1+=Ye}return Pe}(xe=ke.nodes).forEach(function(De){var Ue,Ye,_e,Pe=0,Ie=De.length;for(De.sort(function(Be,We){return Be.y0-We.y0}),_e=0;_e<Ie;++_e)(Ue=De[_e]).y0>=Pe||(Ye=Pe-Ue.y0)>1e-6&&(Ue.y0+=Ye,Ue.y1+=Ye),Pe=Ue.y1+ue}),re.update(ke)}return{circular:Te,key:se,trace:K,guid:a.randstr(),horizontal:ae,width:pe,height:ge,nodePad:K.node.pad,nodeLineColor:K.node.line.color,nodeLineWidth:K.node.line.width,linkLineColor:K.link.line.color,linkLineWidth:K.link.line.width,linkArrowLength:K.link.arrowlen,valueFormat:K.valueformat,valueSuffix:K.valuesuffix,textFont:K.textfont,translateX:ne.x[0]*Z.width+Z.margin.l,translateY:Z.height-ne.y[1]*Z.height+Z.margin.t,dragParallel:ae?ge:pe,dragPerpendicular:ae?pe:ge,arrangement:K.arrangement,sankey:re,graph:ke,forceLayouts:{},interactionState:{dragInProgress:!1,hovered:!1}}}function A(Z,X,se){var re=u(X.color),ee=X.source.label+"|"+X.target.label+"__"+se;return X.trace=Z.trace,X.curveNumber=Z.trace.index,{circular:Z.circular,key:ee,traceId:Z.key,pointNumber:X.pointNumber,link:X,tinyColorHue:i.tinyRGB(re),tinyColorAlpha:re.getAlpha(),linkPath:m,linkLineColor:Z.linkLineColor,linkLineWidth:Z.linkLineWidth,linkArrowLength:Z.linkArrowLength,valueFormat:Z.valueFormat,valueSuffix:Z.valueSuffix,sankey:Z.sankey,parent:Z,interactionState:Z.interactionState,flow:X.flow}}function m(){return function(Z){var we,ze,ke,Ee,X=Z.linkArrowLength;if(Z.link.circular)return ze=X,ke=(we=Z.link).width/2,Ee=we.circularPathData,"top"===we.circularLinkType?"M "+(Ee.targetX-ze)+" "+(Ee.targetY+ke)+" L"+(Ee.rightInnerExtent-ze)+" "+(Ee.targetY+ke)+"A"+(Ee.rightLargeArcRadius+ke)+" "+(Ee.rightSmallArcRadius+ke)+" 0 0 1 "+(Ee.rightFullExtent-ke-ze)+" "+(Ee.targetY-Ee.rightSmallArcRadius)+"L"+(Ee.rightFullExtent-ke-ze)+" "+Ee.verticalRightInnerExtent+"A"+(Ee.rightLargeArcRadius+ke)+" "+(Ee.rightLargeArcRadius+ke)+" 0 0 1 "+(Ee.rightInnerExtent-ze)+" "+(Ee.verticalFullExtent-ke)+"L"+Ee.leftInnerExtent+" "+(Ee.verticalFullExtent-ke)+"A"+(Ee.leftLargeArcRadius+ke)+" "+(Ee.leftLargeArcRadius+ke)+" 0 0 1 "+(Ee.leftFullExtent+ke)+" "+Ee.verticalLeftInnerExtent+"L"+(Ee.leftFullExtent+ke)+" "+(Ee.sourceY-Ee.leftSmallArcRadius)+"A"+(Ee.leftLargeArcRadius+ke)+" "+(Ee.leftSmallArcRadius+ke)+" 0 0 1 "+Ee.leftInnerExtent+" "+(Ee.sourceY+ke)+"L"+Ee.sourceX+" "+(Ee.sourceY+ke)+"L"+Ee.sourceX+" "+(Ee.sourceY-ke)+"L"+Ee.leftInnerExtent+" "+(Ee.sourceY-ke)+"A"+(Ee.leftLargeArcRadius-ke)+" "+(Ee.leftSmallArcRadius-ke)+" 0 0 0 "+(Ee.leftFullExtent-ke)+" "+(Ee.sourceY-Ee.leftSmallArcRadius)+"L"+(Ee.leftFullExtent-ke)+" "+Ee.verticalLeftInnerExtent+"A"+(Ee.leftLargeArcRadius-ke)+" "+(Ee.leftLargeArcRadius-ke)+" 0 0 0 "+Ee.leftInnerExtent+" "+(Ee.verticalFullExtent+ke)+"L"+(Ee.rightInnerExtent-ze)+" "+(Ee.verticalFullExtent+ke)+"A"+(Ee.rightLargeArcRadius-ke)+" "+(Ee.rightLargeArcRadius-ke)+" 0 0 0 "+(Ee.rightFullExtent+ke-ze)+" "+Ee.verticalRightInnerExtent+"L"+(Ee.rightFullExtent+ke-ze)+" "+(Ee.targetY-Ee.rightSmallArcRadius)+"A"+(Ee.rightLargeArcRadius-ke)+" "+(Ee.rightSmallArcRadius-ke)+" 0 0 0 "+(Ee.rightInnerExtent-ze)+" "+(Ee.targetY-ke)+"L"+(Ee.targetX-ze)+" "+(Ee.targetY-ke)+(ze>0?"L"+Ee.targetX+" "+Ee.targetY:"")+"Z":"M "+(Ee.targetX-ze)+" "+(Ee.targetY-ke)+" L"+(Ee.rightInnerExtent-ze)+" "+(Ee.targetY-ke)+"A"+(Ee.rightLargeArcRadius+ke)+" "+(Ee.rightSmallArcRadius+ke)+" 0 0 0 "+(Ee.rightFullExtent-ke-ze)+" "+(Ee.targetY+Ee.rightSmallArcRadius)+"L"+(Ee.rightFullExtent-ke-ze)+" "+Ee.verticalRightInnerExtent+"A"+(Ee.rightLargeArcRadius+ke)+" "+(Ee.rightLargeArcRadius+ke)+" 0 0 0 "+(Ee.rightInnerExtent-ze)+" "+(Ee.verticalFullExtent+ke)+"L"+Ee.leftInnerExtent+" "+(Ee.verticalFullExtent+ke)+"A"+(Ee.leftLargeArcRadius+ke)+" "+(Ee.leftLargeArcRadius+ke)+" 0 0 0 "+(Ee.leftFullExtent+ke)+" "+Ee.verticalLeftInnerExtent+"L"+(Ee.leftFullExtent+ke)+" "+(Ee.sourceY+Ee.leftSmallArcRadius)+"A"+(Ee.leftLargeArcRadius+ke)+" "+(Ee.leftSmallArcRadius+ke)+" 0 0 0 "+Ee.leftInnerExtent+" "+(Ee.sourceY-ke)+"L"+Ee.sourceX+" "+(Ee.sourceY-ke)+"L"+Ee.sourceX+" "+(Ee.sourceY+ke)+"L"+Ee.leftInnerExtent+" "+(Ee.sourceY+ke)+"A"+(Ee.leftLargeArcRadius-ke)+" "+(Ee.leftSmallArcRadius-ke)+" 0 0 1 "+(Ee.leftFullExtent-ke)+" "+(Ee.sourceY+Ee.leftSmallArcRadius)+"L"+(Ee.leftFullExtent-ke)+" "+Ee.verticalLeftInnerExtent+"A"+(Ee.leftLargeArcRadius-ke)+" "+(Ee.leftLargeArcRadius-ke)+" 0 0 1 "+Ee.leftInnerExtent+" "+(Ee.verticalFullExtent-ke)+"L"+(Ee.rightInnerExtent-ze)+" "+(Ee.verticalFullExtent-ke)+"A"+(Ee.rightLargeArcRadius-ke)+" "+(Ee.rightLargeArcRadius-ke)+" 0 0 1 "+(Ee.rightFullExtent+ke-ze)+" "+Ee.verticalRightInnerExtent+"L"+(Ee.rightFullExtent+ke-ze)+" "+(Ee.targetY+Ee.rightSmallArcRadius)+"A"+(Ee.rightLargeArcRadius-ke)+" "+(Ee.rightSmallArcRadius-ke)+" 0 0 1 "+(Ee.rightInnerExtent-ze)+" "+(Ee.targetY+ke)+"L"+(Ee.targetX-ze)+" "+(Ee.targetY+ke)+(ze>0?"L"+Ee.targetX+" "+Ee.targetY:"")+"Z";var se=Math.abs((Z.link.target.x0-Z.link.source.x1)/2);X>se&&(X=se);var re=Z.link.source.x1,ee=Z.link.target.x0-X,K=E(re,ee),ne=K(.5),ae=K(.5),ue=Z.link.y0-Z.link.width/2,he=Z.link.y0+Z.link.width/2,pe=Z.link.y1-Z.link.width/2,ge=Z.link.y1+Z.link.width/2,ye=X>0?"L"+(ee+X)+","+(pe+Z.link.width/2):"";return"M"+re+","+ue+"C"+ne+","+ue+" "+ae+","+pe+" "+ee+","+pe+(ye+="L"+ee+","+ge)+"C"+ae+","+ge+" "+ne+","+he+" "+re+","+he+"Z"}}function C(Z,X){var se=u(X.color),re=y.nodePadAcross,ee=Z.nodePad/2;X.dx=X.x1-X.x0,X.dy=X.y1-X.y0;var K=X.dx,ne=Math.max(.5,X.dy),ae="node_"+X.pointNumber;return X.group&&(ae=a.randstr()),X.trace=Z.trace,X.curveNumber=Z.trace.index,{index:X.pointNumber,key:ae,partOfGroup:X.partOfGroup||!1,group:X.group,traceId:Z.key,trace:Z.trace,node:X,nodePad:Z.nodePad,nodeLineColor:Z.nodeLineColor,nodeLineWidth:Z.nodeLineWidth,textFont:Z.textFont,size:Z.horizontal?Z.height:Z.width,visibleWidth:Math.ceil(K),visibleHeight:ne,zoneX:-re,zoneY:-ee,zoneWidth:K+2*re,zoneHeight:ne+2*ee,labelY:Z.horizontal?X.dy/2+1:X.dx/2+1,left:1===X.originalLayer,sizeAcross:Z.width,forceLayouts:Z.forceLayouts,horizontal:Z.horizontal,darkBackground:se.getBrightness()<=128,tinyColorHue:i.tinyRGB(se),tinyColorAlpha:se.getAlpha(),valueFormat:Z.valueFormat,valueSuffix:Z.valueSuffix,sankey:Z.sankey,graph:Z.graph,arrangement:Z.arrangement,uniqueNodeLabelPathId:[Z.guid,Z.key,ae].join("_"),interactionState:Z.interactionState,figure:Z}}function k(Z){Z.attr("transform",function(X){return o(X.node.x0.toFixed(3),X.node.y0.toFixed(3))})}function P(Z){Z.call(k)}function R(Z,X){Z.call(P),X.attr("d",m())}function L(Z){Z.attr("width",function(X){return X.node.x1-X.node.x0}).attr("height",function(X){return X.visibleHeight})}function N(Z){return Z.link.width>1||Z.linkLineWidth>0}function B(Z){return o(Z.translateX,Z.translateY)+(Z.horizontal?"matrix(1 0 0 1 0 0)":"matrix(0 1 1 0 0 0)")}function J(Z,X,se){Z.on(".basic",null).on("mouseover.basic",function(re){re.interactionState.dragInProgress||re.partOfGroup||(se.hover(this,re,X),re.interactionState.hovered=[this,re])}).on("mousemove.basic",function(re){re.interactionState.dragInProgress||re.partOfGroup||(se.follow(this,re),re.interactionState.hovered=[this,re])}).on("mouseout.basic",function(re){re.interactionState.dragInProgress||re.partOfGroup||(se.unhover(this,re,X),re.interactionState.hovered=!1)}).on("click.basic",function(re){re.interactionState.hovered&&(se.unhover(this,re,X),re.interactionState.hovered=!1),re.interactionState.dragInProgress||re.partOfGroup||se.select(this,re,X)})}function z(Z,X,se,re){var ee=f.behavior.drag().origin(function(K){return{x:K.node.x0+K.visibleWidth/2,y:K.node.y0+K.visibleHeight/2}}).on("dragstart",function(K){if("fixed"!==K.arrangement&&(a.ensureSingle(re._fullLayout._infolayer,"g","dragcover",function(ae){re._fullLayout._dragCover=ae}),a.raiseToTop(this),K.interactionState.dragInProgress=K.node,q(K.node),K.interactionState.hovered&&(se.nodeEvents.unhover.apply(0,K.interactionState.hovered),K.interactionState.hovered=!1),"snap"===K.arrangement)){var ne=K.traceId+"|"+K.key;K.forceLayouts[ne]?K.forceLayouts[ne].alpha(1):function(ae,ue,he,pe){!function(xe){for(var Se=0;Se<xe.length;Se++)xe[Se].y=(xe[Se].y0+xe[Se].y1)/2,xe[Se].x=(xe[Se].x0+xe[Se].x1)/2}(he.graph.nodes);var Se,Te,ye,ge=he.graph.nodes.filter(function(xe){return xe.originalX===he.node.originalX}).filter(function(xe){return!xe.partOfGroup});he.forceLayouts[ue]=I.forceSimulation(ge).alphaDecay(0).force("collide",I.forceCollide().radius(function(xe){return xe.dy/2+he.nodePad/2}).strength(1).iterations(y.forceIterations)).force("constrain",(Se=ue,Te=ge,ye=he,function(){for(var we=0,ze=0;ze<Te.length;ze++){var ke=Te[ze];ke===ye.interactionState.dragInProgress?(ke.x=ke.lastDraggedX,ke.y=ke.lastDraggedY):(ke.vx=(ke.originalX-ke.x)/y.forceTicksPerFrame,ke.y=Math.min(ye.size-ke.dy/2,Math.max(ke.dy/2,ke.y))),we=Math.max(we,Math.abs(ke.vx),Math.abs(ke.vy))}!ye.interactionState.dragInProgress&&we<.1&&ye.forceLayouts[Se].alpha()>0&&ye.forceLayouts[Se].alpha(0)})).stop()}(0,ne,K),ae=Z,ue=X,he=K,pe=ne,ge=re,window.requestAnimationFrame(function xe(){var Se;for(Se=0;Se<y.forceTicksPerFrame;Se++)he.forceLayouts[pe].tick();if(function(ye){for(var we=0;we<ye.length;we++)ye[we].y0=ye[we].y-ye[we].dy/2,ye[we].y1=ye[we].y0+ye[we].dy,ye[we].x0=ye[we].x-ye[we].dx/2,ye[we].x1=ye[we].x0+ye[we].dx}(he.graph.nodes),he.sankey.update(he.graph),R(ae.filter(U(he)),ue),he.forceLayouts[pe].alpha()>0)window.requestAnimationFrame(xe);else{var Te=he.node.originalX;he.node.x0=Te-he.visibleWidth/2,he.node.x1=Te+he.visibleWidth/2,Y(he,ge)}})}var ae,ue,he,pe,ge}).on("drag",function(K){if("fixed"!==K.arrangement){var ne=f.event.x,ae=f.event.y;"snap"===K.arrangement?(K.node.x0=ne-K.visibleWidth/2,K.node.x1=ne+K.visibleWidth/2,K.node.y0=ae-K.visibleHeight/2,K.node.y1=ae+K.visibleHeight/2):("freeform"===K.arrangement&&(K.node.x0=ne-K.visibleWidth/2,K.node.x1=ne+K.visibleWidth/2),ae=Math.max(0,Math.min(K.size-K.visibleHeight/2,ae)),K.node.y0=ae-K.visibleHeight/2,K.node.y1=ae+K.visibleHeight/2),q(K.node),"snap"!==K.arrangement&&(K.sankey.update(K.graph),R(Z.filter(U(K)),X))}}).on("dragend",function(K){if("fixed"!==K.arrangement){K.interactionState.dragInProgress=!1;for(var ne=0;ne<K.node.childrenNodes.length;ne++)K.node.childrenNodes[ne].x=K.node.x,K.node.childrenNodes[ne].y=K.node.y;"snap"!==K.arrangement&&Y(K,re)}});Z.on(".drag",null).call(ee)}function Y(Z,X){for(var se=[],re=[],ee=0;ee<Z.graph.nodes.length;ee++){var ne=(Z.graph.nodes[ee].y0+Z.graph.nodes[ee].y1)/2;se.push((Z.graph.nodes[ee].x0+Z.graph.nodes[ee].x1)/2/Z.figure.width),re.push(ne/Z.figure.height)}_.call("_guiRestyle",X,{"node.x":[se],"node.y":[re]},Z.trace.index).then(function(){X._fullLayout._dragCover&&X._fullLayout._dragCover.remove()})}function q(Z){Z.lastDraggedX=Z.x0+Z.dx/2,Z.lastDraggedY=Z.y0+Z.dy/2}function U(Z){return function(X){return X.node.originalX===Z.node.originalX}}oe.exports=function(Z,X,se,re,ee){var K=Z._context.staticPlot,ne=!1;a.ensureSingle(Z._fullLayout._infolayer,"g","first-render",function(){ne=!0});var ae=Z._fullLayout._dragCover,ue=se.filter(function(we){return p(we).trace.visible}).map(b.bind(null,re)),he=X.selectAll("."+y.cn.sankey).data(ue,h);he.exit().remove(),he.enter().append("g").classed(y.cn.sankey,!0).style("box-sizing","content-box").style("position","absolute").style("left",0).style("shape-rendering","geometricPrecision").style("pointer-events",K?"none":"auto").attr("transform",B),he.each(function(we,ze){Z._fullData[ze]._sankey=we;var ke="bgsankey-"+we.trace.uid+"-"+ze;a.ensureSingle(Z._fullLayout._draggers,"rect",ke),Z._fullData[ze]._bgRect=f.select("."+ke),Z._fullData[ze]._bgRect.style("pointer-events",K?"none":"all").attr("width",we.width).attr("height",we.height).attr("x",we.translateX).attr("y",we.translateY).classed("bgsankey",!0).style({fill:"transparent","stroke-width":0})}),he.transition().ease(y.ease).duration(y.duration).attr("transform",B);var pe=he.selectAll("."+y.cn.sankeyLinks).data(v,h);pe.enter().append("g").classed(y.cn.sankeyLinks,!0).style("fill","none");var ge=pe.selectAll("."+y.cn.sankeyLink).data(function(we){return we.graph.links.filter(function(ze){return ze.value}).map(A.bind(null,we))},h);ge.enter().append("path").classed(y.cn.sankeyLink,!0).call(J,he,ee.linkEvents),ge.style("stroke",function(we){return N(we)?i.tinyRGB(u(we.linkLineColor)):we.tinyColorHue}).style("stroke-opacity",function(we){return N(we)?i.opacity(we.linkLineColor):we.tinyColorAlpha}).style("fill",function(we){return we.tinyColorHue}).style("fill-opacity",function(we){return we.tinyColorAlpha}).style("stroke-width",function(we){return N(we)?we.linkLineWidth:1}).attr("d",m()),ge.style("opacity",function(){return Z._context.staticPlot||ne||ae?1:0}).transition().ease(y.ease).duration(y.duration).style("opacity",1),ge.exit().transition().ease(y.ease).duration(y.duration).style("opacity",0).remove();var xe=he.selectAll("."+y.cn.sankeyNodeSet).data(v,h);xe.enter().append("g").classed(y.cn.sankeyNodeSet,!0),xe.style("cursor",function(we){switch(we.arrangement){case"fixed":return"default";case"perpendicular":return"ns-resize";default:return"move"}});var Se=xe.selectAll("."+y.cn.sankeyNode).data(function(we){var ze=we.graph.nodes;return function(ke){var Ee,me=[];for(Ee=0;Ee<ke.length;Ee++)ke[Ee].originalX=(ke[Ee].x0+ke[Ee].x1)/2,ke[Ee].originalY=(ke[Ee].y0+ke[Ee].y1)/2,-1===me.indexOf(ke[Ee].originalX)&&me.push(ke[Ee].originalX);for(me.sort(function(de,ce){return de-ce}),Ee=0;Ee<ke.length;Ee++)ke[Ee].originalLayerIndex=me.indexOf(ke[Ee].originalX),ke[Ee].originalLayer=ke[Ee].originalLayerIndex/(me.length-1)}(ze),ze.map(C.bind(null,we))},h);Se.enter().append("g").classed(y.cn.sankeyNode,!0).call(k).style("opacity",function(we){return!Z._context.staticPlot&&!ne||we.partOfGroup?0:1}),Se.call(J,he,ee.nodeEvents).call(z,ge,ee,Z),Se.transition().ease(y.ease).duration(y.duration).call(k).style("opacity",function(we){return we.partOfGroup?0:1}),Se.exit().transition().ease(y.ease).duration(y.duration).style("opacity",0).remove();var Te=Se.selectAll("."+y.cn.nodeRect).data(v);Te.enter().append("rect").classed(y.cn.nodeRect,!0).call(L),Te.style("stroke-width",function(we){return we.nodeLineWidth}).style("stroke",function(we){return i.tinyRGB(u(we.nodeLineColor))}).style("stroke-opacity",function(we){return i.opacity(we.nodeLineColor)}).style("fill",function(we){return we.tinyColorHue}).style("fill-opacity",function(we){return we.tinyColorAlpha}),Te.transition().ease(y.ease).duration(y.duration).call(L);var ye=Se.selectAll("."+y.cn.nodeLabel).data(v);ye.enter().append("text").classed(y.cn.nodeLabel,!0).style("cursor","default"),ye.attr("data-notex",1).text(function(we){return we.node.label}).each(function(we){var ze=f.select(this);s.font(ze,we.textFont),T.convertToTspans(ze,Z)}).style("text-shadow",T.makeTextShadow(Z._fullLayout.paper_bgcolor)).attr("text-anchor",function(we){return we.horizontal&&we.left?"end":"start"}).attr("transform",function(we){var ze=f.select(this),ke=T.lineCount(ze),me=we.nodeLineWidth/2+3,de=((we.horizontal?we.visibleHeight:we.visibleWidth)-we.textFont.size*((ke-1)*x-w))/2;we.horizontal&&(we.left?me=-me:me+=we.visibleWidth);var ce=we.horizontal?"":"scale(-1,1)"+l(90);return o(we.horizontal?me:de,we.horizontal?de:me)+ce}),ye.transition().ease(y.ease).duration(y.duration)}},84564:function(oe){"use strict";oe.exports=function(j,r){for(var I=[],E=j.cd[0].trace,f=E._sankey.graph.nodes,S=0;S<f.length;S++){var M=f[S];if(!M.partOfGroup){var y=[(M.x0+M.x1)/2,(M.y0+M.y1)/2];"v"===E.orientation&&y.reverse(),r&&r.contains(y,!1,S,j)&&I.push({pointNumber:M.pointNumber})}}return I}},75225:function(oe,j,r){"use strict";var I=r(71828);oe.exports=function(E,f){for(var S=0;S<E.length;S++)E[S].i=S;I.mergeArray(f.text,E,"tx"),I.mergeArray(f.texttemplate,E,"txt"),I.mergeArray(f.hovertext,E,"htx"),I.mergeArray(f.customdata,E,"data"),I.mergeArray(f.textposition,E,"tp"),f.textfont&&(I.mergeArrayCastPositive(f.textfont.size,E,"ts"),I.mergeArray(f.textfont.color,E,"tc"),I.mergeArray(f.textfont.family,E,"tf"));var M=f.marker;if(M){I.mergeArrayCastPositive(M.size,E,"ms"),I.mergeArrayCastPositive(M.opacity,E,"mo"),I.mergeArray(M.symbol,E,"mx"),I.mergeArray(M.angle,E,"ma"),I.mergeArray(M.standoff,E,"mf"),I.mergeArray(M.color,E,"mc");var y=M.line;M.line&&(I.mergeArray(y.color,E,"mlc"),I.mergeArrayCastPositive(y.width,E,"mlw"));var u=M.gradient;u&&"none"!==u.type&&(I.mergeArray(u.type,E,"mgt"),I.mergeArray(u.color,E,"mgc"))}}},82196:function(oe,j,r){"use strict";var I=r(12663).axisHoverFormat,E=r(5386).si,f=r(5386).fF,S=r(50693),M=r(41940),y=r(79952).P,u=r(79952).u,i=r(91424),s=r(47581),a=r(1426).extendFlat;oe.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dx:{valType:"number",dflt:1,editType:"calc",anim:!0},y:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dy:{valType:"number",dflt:1,editType:"calc",anim:!0},xperiod:{valType:"any",dflt:0,editType:"calc"},yperiod:{valType:"any",dflt:0,editType:"calc"},xperiod0:{valType:"any",editType:"calc"},yperiod0:{valType:"any",editType:"calc"},xperiodalignment:{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"},yperiodalignment:{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"},xhoverformat:I("x"),yhoverformat:I("y"),offsetgroup:{valType:"string",dflt:"",editType:"calc"},alignmentgroup:{valType:"string",dflt:"",editType:"calc"},stackgroup:{valType:"string",dflt:"",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc"},groupnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},stackgaps:{valType:"enumerated",values:["infer zero","interpolate"],dflt:"infer zero",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},texttemplate:E({},{}),hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"],editType:"calc"},hoveron:{valType:"flaglist",flags:["points","fills"],editType:"style"},hovertemplate:f({},{keys:s.eventDataKeys}),line:{color:{valType:"color",editType:"style",anim:!0},width:{valType:"number",min:0,dflt:2,editType:"style",anim:!0},shape:{valType:"enumerated",values:["linear","spline","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},smoothing:{valType:"number",min:0,max:1.3,dflt:1,editType:"plot"},dash:a({},y,{editType:"style"}),backoff:{valType:"number",min:0,dflt:"auto",arrayOk:!0,editType:"plot"},simplify:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},cliponaxis:{valType:"boolean",dflt:!0,editType:"plot"},fill:{valType:"enumerated",values:["none","tozeroy","tozerox","tonexty","tonextx","toself","tonext"],editType:"calc"},fillcolor:{valType:"color",editType:"style",anim:!0},fillpattern:u,marker:a({symbol:{valType:"enumerated",values:i.symbolList,dflt:"circle",arrayOk:!0,editType:"style"},opacity:{valType:"number",min:0,max:1,arrayOk:!0,editType:"style",anim:!0},angle:{valType:"angle",dflt:0,arrayOk:!0,editType:"plot",anim:!1},angleref:{valType:"enumerated",values:["previous","up"],dflt:"up",editType:"plot",anim:!1},standoff:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"plot",anim:!0},size:{valType:"number",min:0,dflt:6,arrayOk:!0,editType:"calc",anim:!0},maxdisplayed:{valType:"number",min:0,dflt:0,editType:"plot"},sizeref:{valType:"number",dflt:1,editType:"calc"},sizemin:{valType:"number",min:0,dflt:0,editType:"calc"},sizemode:{valType:"enumerated",values:["diameter","area"],dflt:"diameter",editType:"calc"},line:a({width:{valType:"number",min:0,arrayOk:!0,editType:"style",anim:!0},editType:"calc"},S("marker.line",{anim:!0})),gradient:{type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],arrayOk:!0,dflt:"none",editType:"calc"},color:{valType:"color",arrayOk:!0,editType:"calc"},editType:"calc"},editType:"calc"},S("marker",{anim:!0})),selected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},unselected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"middle center",arrayOk:!0,editType:"calc"},textfont:M({editType:"calc",colorEditType:"style",arrayOk:!0})}},47761:function(oe,j,r){"use strict";var I=r(92770),E=r(71828),f=r(89298),S=r(42973),M=r(50606).BADNUM,y=r(34098),u=r(36922),i=r(75225),s=r(66279);function a(v,p,T,_,g,w,x){var b=p._length,A=v._fullLayout,m=T._id,C=_._id,k=A._firstScatter[c(p)]===p.uid,P=(h(p,A,T,_)||{}).orientation,R=p.fill;T._minDtick=0,_._minDtick=0;var L={padded:!0},N={padded:!0};x&&(L.ppad=N.ppad=x);var B=b<2||g[0]!==g[b-1]||w[0]!==w[b-1];B&&("tozerox"===R||"tonextx"===R&&(k||"h"===P))?L.tozero=!0:(p.error_y||{}).visible||"tonexty"!==R&&"tozeroy"!==R&&(y.hasMarkers(p)||y.hasText(p))||(L.padded=!1,L.ppad=0),B&&("tozeroy"===R||"tonexty"===R&&(k||"v"===P))?N.tozero=!0:"tonextx"!==R&&"tozerox"!==R||(N.padded=!1),m&&(p._extremes[m]=f.findExtremes(T,g,L)),C&&(p._extremes[C]=f.findExtremes(_,w,N))}function o(v,p){if(y.hasMarkers(v)){var T,_=v.marker,g=1.6*(v.marker.sizeref||1);if(T="area"===v.marker.sizemode?function(m){return Math.max(Math.sqrt((m||0)/g),3)}:function(m){return Math.max((m||0)/g,3)},E.isArrayOrTypedArray(_.size)){var w={type:"linear"};f.setConvert(w);for(var x=w.makeCalcdata(v.marker,"size"),b=new Array(p),A=0;A<p;A++)b[A]=T(x[A]);return b}return T(_.size)}}function l(v,p){var T=c(p),_=v._firstScatter;_[T]||(_[T]=p.uid)}function c(v){var p=v.stackgroup;return v.xaxis+v.yaxis+v.type+(p?"-"+p:"")}function h(v,p,T,_){var g=v.stackgroup;if(g){var w=p._scatterStackOpts[T._id+_._id][g],x="v"===w.orientation?_:T;return"linear"===x.type||"log"===x.type?w:void 0}}oe.exports={calc:function(v,p){var T,_,g,w,x,b,A=v._fullLayout,m=p._xA=f.getFromId(v,p.xaxis||"x","x"),C=p._yA=f.getFromId(v,p.yaxis||"y","y"),k=m.makeCalcdata(p,"x"),P=C.makeCalcdata(p,"y"),R=S(p,m,"x",k),L=S(p,C,"y",P),N=R.vals,B=L.vals,J=p._length,z=new Array(J),Y=p.ids,q=h(p,A,m,C),U=!1;l(A,p);var Z,X="x",se="y";q?(E.pushUnique(q.traceIndices,p._expandedIndex),(T="v"===q.orientation)?(se="s",Z="x"):(X="s",Z="y"),x="interpolate"===q.stackgaps):a(v,p,m,C,N,B,o(p,J));var re=!!p.xperiodalignment,ee=!!p.yperiodalignment;for(_=0;_<J;_++){var K=z[_]={},ne=I(N[_]),ae=I(B[_]);ne&&ae?(K[X]=N[_],K[se]=B[_],re&&(K.orig_x=k[_],K.xEnd=R.ends[_],K.xStart=R.starts[_]),ee&&(K.orig_y=P[_],K.yEnd=L.ends[_],K.yStart=L.starts[_])):q&&(T?ne:ae)?(K[Z]=T?N[_]:B[_],K.gap=!0,x?(K.s=M,U=!0):K.s=0):K[X]=K[se]=M,Y&&(K.id=String(Y[_]))}if(i(z,p),u(v,p),s(z,p),q){for(_=0;_<z.length;)z[_][Z]===M?z.splice(_,1):_++;if(E.sort(z,function(ge,xe){return ge[Z]-xe[Z]||ge.i-xe.i}),U){for(_=0;_<z.length-1&&z[_].gap;)_++;for((b=z[_].s)||(b=z[_].s=0),g=0;g<_;g++)z[g].s=b;for(w=z.length-1;w>_&&z[w].gap;)w--;for(b=z[w].s,g=z.length-1;g>w;g--)z[g].s=b;for(;_<w;)if(z[++_].gap){for(g=_+1;z[g].gap;)g++;for(var ue=z[_-1][Z],he=z[_-1].s,pe=(z[g].s-he)/(z[g][Z]-ue);_<g;)z[_].s=he+(z[_][Z]-ue)*pe,_++}}}return z},calcMarkerSize:o,calcAxisExpansion:a,setFirstScatter:l,getStackOpts:h}},66279:function(oe,j,r){"use strict";var I=r(71828);oe.exports=function(E,f){I.isArrayOrTypedArray(f.selectedpoints)&&I.tagSelected(E,f)}},36922:function(oe,j,r){"use strict";var I=r(52075).hasColorscale,E=r(78803),f=r(34098);oe.exports=function(S,M){f.hasLines(M)&&I(M,"line")&&E(S,M,{vals:M.line.color,containerStr:"line",cLetter:"c"}),f.hasMarkers(M)&&(I(M,"marker")&&E(S,M,{vals:M.marker.color,containerStr:"marker",cLetter:"c"}),I(M,"marker.line")&&E(S,M,{vals:M.marker.line.color,containerStr:"marker.line",cLetter:"c"}))}},47581:function(oe){"use strict";oe.exports={PTS_LINESONLY:20,minTolerance:.2,toleranceGrowth:10,maxScreensAway:20,eventDataKeys:[]}},72626:function(oe,j,r){"use strict";var I=r(47761),E=r(11661).setGroupPositions;function f(S,M,y,u,i,s,a){i[u]=!0;var c,h,p,T,_,o={i:null,gap:!0,s:0};if(o[a]=y,S.splice(M,0,o),M&&y===S[M-1][a]){var l=S[M-1];o.s=l.s,o.i=l.i,o.gap=l.gap}else s&&(o.s=(p=a,T=(c=S)[(h=M)-1],(_=c[h+1])?T?T.s+(_.s-T.s)*(y-T[p])/(_[p]-T[p]):_.s:T.s));M||(S[0].t=S[1].t,S[0].trace=S[1].trace,delete S[1].t,delete S[1].trace)}oe.exports=function(S,M){"group"===S._fullLayout.scattermode&&function(Z,X){for(var se=X.xaxis,re=X.yaxis,ee=Z._fullLayout,K=Z._fullData,ne=Z.calcdata,ae=[],ue=[],he=0;he<K.length;he++){var pe=K[he];!0===pe.visible&&"scatter"===pe.type&&pe.xaxis===se._id&&pe.yaxis===re._id&&("h"===pe.orientation?ae.push(ne[he]):"v"===pe.orientation&&ue.push(ne[he]))}var ge={mode:ee.scattermode,gap:ee.scattergap};E(Z,se,re,ue,ge),E(Z,re,se,ae,ge)}(S,M);var y=M.xaxis,u=M.yaxis,s=S._fullLayout._scatterStackOpts[y._id+u._id];if(s){var a,o,l,c,h,v,p,T,_,g,w,x,b,A,m,C=S.calcdata;for(var k in s){var P=(g=s[k]).traceIndices;if(P.length){for(w="interpolate"===g.stackgaps,x=g.groupnorm,"v"===g.orientation?(b="x",A="y"):(b="y",A="x"),m=new Array(P.length),a=0;a<m.length;a++)m[a]=!1;v=C[P[0]];var R=new Array(v.length);for(a=0;a<v.length;a++)R[a]=v[a][b];for(a=1;a<P.length;a++){for(h=C[P[a]],o=l=0;o<h.length;o++){for(p=h[o][b];p>R[l]&&l<R.length;l++)f(h,o,R[l],a,m,w,b),o++;if(p!==R[l]){for(c=0;c<a;c++)f(C[P[c]],l,p,c,m,w,b);R.splice(l,0,p)}l++}for(;l<R.length;l++)f(h,o,R[l],a,m,w,b),o++}var L=R.length;for(o=0;o<v.length;o++){for(T=v[o][A]=v[o].s,a=1;a<P.length;a++)(h=C[P[a]])[0].trace._rawLength=h[0].trace._length,h[0].trace._length=L,h[o][A]=T+=h[o].s;if(x)for(_=("fraction"===x?T:T/100)||1,a=0;a<P.length;a++){var N=C[P[a]][o];N[A]/=_,N.sNorm=N.s/_}}for(a=0;a<P.length;a++){var B=(h=C[P[a]])[0].trace,J=I.calcMarkerSize(B,B._rawLength),z=Array.isArray(J);if(J&&m[a]||z){var Y=J;for(J=new Array(L),o=0;o<L;o++)J[o]=h[o].gap?0:z?Y[h[o].i]:Y}var q=new Array(L),U=new Array(L);for(o=0;o<L;o++)q[o]=h[o].x,U[o]=h[o].y;I.calcAxisExpansion(S,B,y,u,q,U,J),h[0].t.orientation=g.orientation}}}}}},34936:function(oe,j,r){"use strict";var I=r(71828),E=r(26125),f=r(82196);oe.exports=function(S,M){var u,i;function s(h){return I.coerce(u._input,u,f,h)}if("group"===M.scattermode)for(i=0;i<S.length;i++)"scatter"===(u=S[i]).type&&E(u._input,u,M,s);for(i=0;i<S.length;i++){var a=S[i];if("scatter"===a.type){var o=a.fill;if("none"!==o&&"toself"!==o&&(a.opacity=void 0,"tonexty"===o||"tonextx"===o))for(var l=i-1;l>=0;l--){var c=S[l];if("scatter"===c.type&&c.xaxis===a.xaxis&&c.yaxis===a.yaxis){c.opacity=void 0;break}}}}}},17438:function(oe,j,r){"use strict";var I=r(71828),E=r(73972),f=r(82196),S=r(47581),M=r(34098),y=r(67513),u=r(73927),i=r(565),s=r(49508),a=r(11058),o=r(94039),l=r(82410),c=r(28908),h=r(71828).coercePattern;oe.exports=function(v,p,T,_){function g(P,R){return I.coerce(v,p,f,P,R)}var w=y(v,p,_,g);if(w||(p.visible=!1),p.visible){u(v,p,_,g),g("xhoverformat"),g("yhoverformat");var x=i(v,p,_,g);"group"===_.scattermode&&void 0===p.orientation&&g("orientation","v");var b=!x&&w<S.PTS_LINESONLY?"lines+markers":"lines";g("text"),g("hovertext"),g("mode",b),M.hasLines(p)&&(a(v,p,T,_,g,{backoff:!0}),o(v,p,g),g("connectgaps"),g("line.simplify")),M.hasMarkers(p)&&s(v,p,T,_,g,{gradient:!0}),M.hasText(p)&&(g("texttemplate"),l(v,p,_,g));var A=[];(M.hasMarkers(p)||M.hasText(p))&&(g("cliponaxis"),g("marker.maxdisplayed"),A.push("points")),g("fill",x?x.fillDflt:"none"),"none"!==p.fill&&(c(v,p,T,g),M.hasLines(p)||o(v,p,g),h(g,"fillpattern",p.fillcolor,!1));var m=(p.line||{}).color,C=(p.marker||{}).color;"tonext"!==p.fill&&"toself"!==p.fill||A.push("fills"),g("hoveron",A.join("+")||"points"),"fills"!==p.hoveron&&g("hovertemplate");var k=E.getComponentMethod("errorbars","supplyDefaults");k(v,p,m||C||T,{axis:"y"}),k(v,p,m||C||T,{axis:"x",inherit:"y"}),I.coerceSelectionMarkerOpacity(p,g)}}},28908:function(oe,j,r){"use strict";var I=r(7901),E=r(71828).isArrayOrTypedArray;oe.exports=function(f,S,M,y){var u=!1;if(S.marker){var i=S.marker.color,s=(S.marker.line||{}).color;i&&!E(i)?u=i:s&&!E(s)&&(u=s)}y("fillcolor",I.addOpacity((S.line||{}).color||u||M,.5))}},8225:function(oe,j,r){"use strict";var I=r(89298);oe.exports=function(E,f,S){var M={},y={_fullLayout:S},u=I.getFromTrace(y,f,"x"),i=I.getFromTrace(y,f,"y"),s=E.orig_x;void 0===s&&(s=E.x);var a=E.orig_y;return void 0===a&&(a=E.y),M.xLabel=I.tickText(u,u.c2l(s),!0).text,M.yLabel=I.tickText(i,i.c2l(a),!0).text,M}},34603:function(oe,j,r){"use strict";var I=r(7901),E=r(34098);oe.exports=function(f,S){var M,y;if("lines"===f.mode)return(M=f.line.color)&&I.opacity(M)?M:f.fillcolor;if("none"===f.mode)return f.fill?f.fillcolor:"";var u=S.mcc||(f.marker||{}).color,i=S.mlcc||((f.marker||{}).line||{}).color;return(y=u&&I.opacity(u)?u:i&&I.opacity(i)&&(S.mlw||((f.marker||{}).line||{}).width)?i:"")?I.opacity(y)<.3?I.addOpacity(y,.3):y:(M=(f.line||{}).color)&&I.opacity(M)&&E.hasLines(f)&&f.line.width?M:f.fillcolor}},26125:function(oe,j,r){"use strict";var I=r(99082).getAxisGroup;oe.exports=function(E,f,S,M){var y=f.orientation,i=I(S,f[{v:"x",h:"y"}[y]+"axis"])+y,s=S._alignmentOpts||{},a=M("alignmentgroup"),o=s[i];o||(o=s[i]={});var l=o[a];l?l.traces.push(f):l=o[a]={traces:[f],alignmentIndex:Object.keys(o).length,offsetGroups:{}};var c=M("offsetgroup"),h=l.offsetGroups,v=h[c];c&&(v||(v=h[c]={offsetIndex:Object.keys(h).length}),f._offsetIndex=v.offsetIndex)}},33720:function(oe,j,r){"use strict";var I=r(71828),E=r(30211),f=r(73972),S=r(34603),M=r(7901),y=I.fillText;oe.exports=function(u,i,s,a){var o=u.cd,l=o[0].trace,c=u.xa,h=u.ya,v=c.c2p(i),p=h.c2p(s),T=[v,p],_=l.hoveron||"",g=-1!==l.mode.indexOf("markers")?3:.5,w=!!l.xperiodalignment,x=!!l.yperiodalignment;if(-1!==_.indexOf("points")){var b=function(Se){var Te=Math.max(g,Se.mrc||0),ye=c.c2p(Se.x)-v,we=h.c2p(Se.y)-p;return Math.max(Math.sqrt(ye*ye+we*we)-Te,1-g/Te)},A=E.getDistanceFunction(a,function(Se){if(w){var Te=c.c2p(Se.xStart),ye=c.c2p(Se.xEnd);return v>=Math.min(Te,ye)&&v<=Math.max(Te,ye)?0:1/0}var we=Math.max(3,Se.mrc||0),ze=1-1/we,ke=Math.abs(c.c2p(Se.x)-v);return ke<we?ze*ke/we:ke-we+ze},function(Se){if(x){var Te=h.c2p(Se.yStart),ye=h.c2p(Se.yEnd);return p>=Math.min(Te,ye)&&p<=Math.max(Te,ye)?0:1/0}var we=Math.max(3,Se.mrc||0),ze=1-1/we,ke=Math.abs(h.c2p(Se.y)-p);return ke<we?ze*ke/we:ke-we+ze},b);if(E.getClosest(o,A,u),!1!==u.index){var m=o[u.index],C=c.c2p(m.x,!0),k=h.c2p(m.y,!0),P=m.mrc||1;u.index=m.i;var R=o[0].t.orientation,L=R&&(m.sNorm||m.s),N="h"===R?L:void 0!==m.orig_x?m.orig_x:m.x,B="v"===R?L:void 0!==m.orig_y?m.orig_y:m.y;return I.extendFlat(u,{color:S(l,m),x0:C-P,x1:C+P,xLabelVal:N,y0:k-P,y1:k+P,yLabelVal:B,spikeDistance:b(m),hovertemplate:l.hovertemplate}),y(m,l,u),f.getComponentMethod("errorbars","hoverInfo")(m,l,u),[u]}}if(-1!==_.indexOf("fills")&&l._polygons){var J,z,Y,q,U,Z,se,re,ee=l._polygons,K=[],ne=!1,ae=1/0,ue=-1/0,he=1/0,pe=-1/0;for(J=0;J<ee.length;J++)(Y=ee[J]).contains(T)&&(ne=!ne,K.push(Y),he=Math.min(he,Y.ymin),pe=Math.max(pe,Y.ymax));if(ne){var ge=((he=Math.max(he,0))+(pe=Math.min(pe,h._length)))/2;for(J=0;J<K.length;J++)for(q=K[J].pts,z=1;z<q.length;z++)(se=q[z-1][1])>ge!=(re=q[z][1])>=ge&&(Z=q[z-1][0],re-se&&(U=Z+(q[z][0]-Z)*(ge-se)/(re-se),ae=Math.min(ae,U),ue=Math.max(ue,U)));ae=Math.max(ae,0),ue=Math.min(ue,c._length);var xe=M.defaultLine;return M.opacity(l.fillcolor)?xe=l.fillcolor:M.opacity((l.line||{}).color)&&(xe=l.line.color),I.extendFlat(u,{distance:u.maxHoverDistance,x0:ae,x1:ue,y0:ge,y1:ge,color:xe,hovertemplate:!1}),delete u.index,u.text=l.text&&!Array.isArray(l.text)?String(l.text):l.name,[u]}}}},67368:function(oe,j,r){"use strict";var I=r(34098);oe.exports={hasLines:I.hasLines,hasMarkers:I.hasMarkers,hasText:I.hasText,isBubble:I.isBubble,attributes:r(82196),layoutAttributes:r(21479),supplyDefaults:r(17438),crossTraceDefaults:r(34936),supplyLayoutDefaults:r(79334),calc:r(47761).calc,crossTraceCalc:r(72626),arraysToCalcdata:r(75225),plot:r(32663),colorbar:r(4898),formatLabels:r(8225),style:r(16296).style,styleOnSelect:r(16296).styleOnSelect,hoverPoints:r(33720),selectPoints:r(98002),animatable:!0,moduleType:"trace",name:"scatter",basePlotModule:r(93612),categories:["cartesian","svg","symbols","errorBarsOK","showLegend","scatter-like","zoomScale"],meta:{}}},21479:function(oe){"use strict";oe.exports={scattermode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},scattergap:{valType:"number",min:0,max:1,editType:"calc"}}},79334:function(oe,j,r){"use strict";var I=r(71828),E=r(21479);oe.exports=function(f,S){"group"===S.scattermode&&I.coerce(f,S,E,"scattergap","group"===S.barmode?S.bargap:.2)}},11058:function(oe,j,r){"use strict";var I=r(71828).isArrayOrTypedArray,E=r(52075).hasColorscale,f=r(1586);oe.exports=function(S,M,y,u,i,s){s||(s={});var a=(S.marker||{}).color;i("line.color",y),E(S,"line")?f(S,M,u,i,{prefix:"line.",cLetter:"c"}):i("line.color",!I(a)&&a||y),i("line.width"),s.noDash||i("line.dash"),s.backoff&&i("line.backoff")}},34621:function(oe,j,r){"use strict";var I=r(91424),E=r(50606),f=E.BADNUM,S=E.LOG_CLIP,M=S+.5,y=S-.5,u=r(71828),i=u.segmentsIntersect,s=u.constrain,a=r(47581);oe.exports=function(o,l){var c,h,v,p,T,_,g,w,x,b,A,m,C,k,P,R,L,N,B=l.trace||{},J=l.xaxis,z=l.yaxis,Y="log"===J.type,q="log"===z.type,U=J._length,Z=z._length,X=l.backoff,se=B.marker,re=l.connectGaps,ee=l.baseTolerance,K=l.shape,ne="linear"===K,ae=B.fill&&"none"!==B.fill,ue=[],he=a.minTolerance,pe=o.length,ge=new Array(pe),xe=0;function Se(Bt){var rt=o[Bt];if(!rt)return!1;var ot=l.linearized?J.l2p(rt.x):J.c2p(rt.x),Je=l.linearized?z.l2p(rt.y):z.c2p(rt.y);if(ot===f){if(Y&&(ot=J.c2p(rt.x,!0)),ot===f)return!1;q&&Je===f&&(ot*=Math.abs(J._m*Z*(J._m>0?M:y)/(z._m*U*(z._m>0?M:y)))),ot*=1e3}if(Je===f){if(q&&(Je=z.c2p(rt.y,!0)),Je===f)return!1;Je*=1e3}return[ot,Je]}function Te(Bt,rt,ot,Je){var it=ot-Bt,dt=Je-rt,ht=.5-Bt,Ve=.5-rt,qe=it*it+dt*dt,ut=it*ht+dt*Ve;if(ut>0&&ut<qe){var ft=ht*dt-Ve*it;if(ft*ft<qe)return!0}}function ye(Bt,rt){var ot=Bt[0]/U,Je=Bt[1]/Z,it=Math.max(0,-ot,ot-1,-Je,Je-1);return it&&void 0!==L&&Te(ot,Je,L,N)&&(it=0),it&&rt&&Te(ot,Je,rt[0]/U,rt[1]/Z)&&(it=0),(1+a.toleranceGrowth*it)*ee}function we(Bt,rt){var ot=Bt[0]-rt[0],Je=Bt[1]-rt[1];return Math.sqrt(ot*ot+Je*Je)}var ze,ke,Ee,me,de,ce,Ae,Ne=a.maxScreensAway,De=-U*Ne,Ue=U*(1+Ne),Ye=-Z*Ne,_e=Z*(1+Ne),Pe=[[De,Ye,Ue,Ye],[Ue,Ye,Ue,_e],[Ue,_e,De,_e],[De,_e,De,Ye]];function Ie(Bt){if(Bt[0]<De||Bt[0]>Ue||Bt[1]<Ye||Bt[1]>_e)return[s(Bt[0],De,Ue),s(Bt[1],Ye,_e)]}function Be(Bt,rt){return Bt[0]===rt[0]&&(Bt[0]===De||Bt[0]===Ue)||Bt[1]===rt[1]&&(Bt[1]===Ye||Bt[1]===_e)||void 0}function We(Bt,rt,ot){return function(Je,it){var dt=Ie(Je),ht=Ie(it),Ve=[];if(dt&&ht&&Be(dt,ht))return Ve;dt&&Ve.push(dt),ht&&Ve.push(ht);var qe=2*u.constrain((Je[Bt]+it[Bt])/2,rt,ot)-((dt||Je)[Bt]+(ht||it)[Bt]);return qe&&((dt&&ht?qe>0==dt[Bt]>ht[Bt]?dt:ht:dt||ht)[Bt]+=qe),Ve}}function Ge(Bt){var rt=Bt[0],ot=Bt[1],Je=rt===ge[xe-1][0],it=ot===ge[xe-1][1];if(!Je||!it)if(xe>1){var dt=rt===ge[xe-2][0],ht=ot===ge[xe-2][1];Je&&(rt===De||rt===Ue)&&dt?ht?xe--:ge[xe-1]=Bt:it&&(ot===Ye||ot===_e)&&ht?dt?xe--:ge[xe-1]=Bt:ge[xe++]=Bt}else ge[xe++]=Bt}function Ke(Bt){ge[xe-1][0]!==Bt[0]&&ge[xe-1][1]!==Bt[1]&&Ge([Ee,me]),Ge(Bt),de=null,Ee=me=0}"linear"===K||"spline"===K?Ae=function(Bt,rt){for(var ot=[],Je=0,it=0;it<4;it++){var dt=Pe[it],ht=i(Bt[0],Bt[1],rt[0],rt[1],dt[0],dt[1],dt[2],dt[3]);ht&&(!Je||Math.abs(ht.x-ot[0][0])>1||Math.abs(ht.y-ot[0][1])>1)&&(ht=[ht.x,ht.y],Je&&we(ht,Bt)<we(ot[0],Bt)?ot.unshift(ht):ot.push(ht),Je++)}return ot}:"hv"===K||"vh"===K?Ae=function(Bt,rt){var ot=[],Je=Ie(Bt),it=Ie(rt);return Je&&it&&Be(Je,it)||(Je&&ot.push(Je),it&&ot.push(it)),ot}:"hvh"===K?Ae=We(0,De,Ue):"vhv"===K&&(Ae=We(1,Ye,_e));var tt=u.isArrayOrTypedArray(se);function st(Bt){if(Bt&&X&&(Bt.i=c,Bt.d=o,Bt.trace=B,Bt.marker=tt?se[Bt.i]:se,Bt.backoff=X),L=Bt[0]/U,N=Bt[1]/Z,ke=Bt[1]<Ye?Ye:Bt[1]>_e?_e:0,(ze=Bt[0]<De?De:Bt[0]>Ue?Ue:0)||ke){if(xe)if(de){var rt=Ae(de,Bt);rt.length>1&&(Ke(rt[0]),ge[xe++]=rt[1])}else ce=Ae(ge[xe-1],Bt)[0],ge[xe++]=ce;else ge[xe++]=[ze||Bt[0],ke||Bt[1]];var ot=ge[xe-1];ze&&ke&&(ot[0]!==ze||ot[1]!==ke)?(de&&(Ee!==ze&&me!==ke?Ge(Ee&&me?(dt=(it=Bt)[0]-(Je=de)[0],ht=(it[1]-Je[1])/dt,(Je[1]*it[0]-it[1]*Je[0])/dt>0?[ht>0?De:Ue,_e]:[ht>0?Ue:De,Ye]):[Ee||ze,me||ke]):Ee&&me&&Ge([Ee,me])),Ge([ze,ke])):Ee-ze&&me-ke&&Ge([ze||Ee,ke||me]),de=Bt,Ee=ze,me=ke}else de&&Ke(Ae(de,Bt)[0]),ge[xe++]=Bt;var Je,it,dt,ht}for(c=0;c<pe;c++)if(h=Se(c)){for(xe=0,de=null,st(h),c++;c<pe;c++){if(!(p=Se(c))){if(re)continue;break}if(ne&&l.simplify){var gt=Se(c+1);if(b=we(p,h),ae&&(0===xe||xe===pe-1)||!(b<ye(p,gt)*he)){for(w=[(p[0]-h[0])/b,(p[1]-h[1])/b],T=h,A=b,m=k=P=0,g=!1,v=p,c++;c<o.length;c++){if(_=gt,gt=Se(c+1),!_){if(re)continue;break}if(R=(x=[_[0]-h[0],_[1]-h[1]])[0]*w[1]-x[1]*w[0],k=Math.min(k,R),(P=Math.max(P,R))-k>ye(_,gt))break;v=_,(C=x[0]*w[0]+x[1]*w[1])>A?(A=C,p=_,g=!1):C<m&&(m=C,T=_,g=!0)}if(g?(st(p),v!==T&&st(T)):(T!==h&&st(T),v!==p&&st(p)),st(v),c>=o.length||!_)break;st(_),h=_}}else st(p)}de&&Ge([Ee||de[0],me||de[1]]),ue.push(ge.slice(0,xe))}var ct=K.slice(K.length-1);if(X&&"h"!==ct&&"v"!==ct){for(var kt=!1,Dt=-1,vt=[],mt=0;mt<ue.length;mt++)for(var Et=0;Et<ue[mt].length-1;Et++){var Lt=ue[mt][Et],Rt=ue[mt][Et+1],Ut=I.applyBackoff(Rt,Lt);Ut[0]===Rt[0]&&Ut[1]===Rt[1]||(kt=!0),vt[Dt+1]||(vt[++Dt]=[Lt,[Ut[0],Ut[1]]])}return kt?vt:ue}return ue}},94039:function(oe){"use strict";oe.exports=function(j,r,I){"spline"===I("line.shape")&&I("line.smoothing")}},68687:function(oe){"use strict";var j={tonextx:1,tonexty:1,tonext:1};oe.exports=function(r,I,E){var f,S,M,y,u,i={},s=!1,a=-1,o=0,l=-1;for(S=0;S<E.length;S++)(M=(f=E[S][0].trace).stackgroup||"")?M in i?u=i[M]:(u=i[M]=o,o++):f.fill in j&&l>=0?u=l:(u=l=o,o++),u<a&&(s=!0),f._groupIndex=a=u;var c=E.slice();s&&c.sort(function(v,p){var T=v[0].trace,_=p[0].trace;return T._groupIndex-_._groupIndex||T.index-_.index});var h={};for(S=0;S<c.length;S++)M=(f=c[S][0].trace).stackgroup||"",!0===f.visible?(f._nexttrace=null,f.fill in j&&(f._prevtrace=(y=h[M])||null,y&&(y._nexttrace=f)),f._ownfill=f.fill&&("tozero"===f.fill.substr(0,6)||"toself"===f.fill||"to"===f.fill.substr(0,2)&&!f._prevtrace),h[M]=f):f._prevtrace=f._nexttrace=f._ownfill=null;return c}},39984:function(oe,j,r){"use strict";var I=r(92770);oe.exports=function(E,f){f||(f=2);var S=E.marker,M=S.sizeref||1,y=S.sizemin||0,u="area"===S.sizemode?function(i){return Math.sqrt(i/M)}:function(i){return i/M};return function(i){var s=u(i/f);return I(s)&&s>0?Math.max(s,y):0}}},4898:function(oe){"use strict";oe.exports={container:"marker",min:"cmin",max:"cmax"}},49508:function(oe,j,r){"use strict";var I=r(7901),E=r(52075).hasColorscale,f=r(1586),S=r(34098);oe.exports=function(M,y,u,i,s,a){var o=S.isBubble(M),l=(M.line||{}).color;a=a||{},l&&(u=l),s("marker.symbol"),s("marker.opacity",o?.7:1),s("marker.size"),a.noAngle||(s("marker.angle"),a.noAngleRef||s("marker.angleref"),a.noStandOff||s("marker.standoff")),s("marker.color",u),E(M,"marker")&&f(M,y,i,s,{prefix:"marker.",cLetter:"c"}),a.noSelect||(s("selected.marker.color"),s("unselected.marker.color"),s("selected.marker.size"),s("unselected.marker.size")),a.noLine||(s("marker.line.color",l&&!Array.isArray(l)&&y.marker.color!==l?l:o?I.background:I.defaultLine),E(M,"marker.line")&&f(M,y,i,s,{prefix:"marker.line.",cLetter:"c"}),s("marker.line.width",o?1:0)),o&&(s("marker.sizeref"),s("marker.sizemin"),s("marker.sizemode")),a.gradient&&"none"!==s("marker.gradient.type")&&s("marker.gradient.color")}},73927:function(oe,j,r){"use strict";var I=r(71828).dateTick0,E=r(50606).ONEWEEK;function f(S,M){return I(M,S%E==0?1:0)}oe.exports=function(S,M,y,u,i){if(i||(i={x:!0,y:!0}),i.x){var s=u("xperiod");s&&(u("xperiod0",f(s,M.xcalendar)),u("xperiodalignment"))}if(i.y){var a=u("yperiod");a&&(u("yperiod0",f(a,M.ycalendar)),u("yperiodalignment"))}}},32663:function(oe,j,r){"use strict";var I=r(39898),E=r(73972),f=r(71828),S=f.ensureSingle,M=f.identity,y=r(91424),u=r(34098),i=r(34621),s=r(68687),a=r(61082).tester;function o(l,c,h,v,p,T,_){var g,w=l._context.staticPlot;!function(Ae,Ne,De,Ue,Ye){var _e=De.xaxis,Pe=De.yaxis,Ie=I.extent(f.simpleMap(_e.range,_e.r2c)),Be=I.extent(f.simpleMap(Pe.range,Pe.r2c)),We=Ue[0].trace;if(u.hasMarkers(We)){var Ge=We.marker.maxdisplayed;if(0!==Ge){var Ke=Ue.filter(function(ct){return ct.x>=Ie[0]&&ct.x<=Ie[1]&&ct.y>=Be[0]&&ct.y<=Be[1]}),tt=Math.ceil(Ke.length/Ge),st=0;Ye.forEach(function(ct,kt){var Dt=ct[0].trace;u.hasMarkers(Dt)&&Dt.marker.maxdisplayed>0&&kt<Ne&&st++});var gt=Math.round(st*tt/3+Math.floor(st/3)*tt/7.1);Ue.forEach(function(ct){delete ct.vis}),Ke.forEach(function(ct,kt){0===Math.round((kt+gt)%tt)&&(ct.vis=!0)})}}}(0,c,h,v,p);var x=!!_&&_.duration>0;function b(Ae){return x?Ae.transition():Ae}var A=h.xaxis,m=h.yaxis,C=v[0].trace,k=C.line,P=I.select(T),R=S(P,"g","errorbars"),L=S(P,"g","lines"),N=S(P,"g","points"),B=S(P,"g","text");if(E.getComponentMethod("errorbars","plot")(l,R,h,_),!0===C.visible){var J,z;b(P).style("opacity",C.opacity);var Y=C.fill.charAt(C.fill.length-1);"x"!==Y&&"y"!==Y&&(Y=""),v[0][h.isRangePlot?"nodeRangePlot3":"node3"]=P;var q,U,Z="",X=[],se=C._prevtrace;se&&(Z=se._prevRevpath||"",z=se._nextFill,X=se._polygons);var re,ee,K,ne,ae,ue,he,pe="",ge="",xe=[],Se=f.noop;if(J=C._ownFill,u.hasLines(C)||"none"!==C.fill){for(z&&z.datum(v),-1!==["hv","vh","hvh","vhv"].indexOf(k.shape)?(re=y.steps(k.shape),ee=y.steps(k.shape.split("").reverse().join(""))):re=ee="spline"===k.shape?function(Ae){var Ne=Ae[Ae.length-1];return Ae.length>1&&Ae[0][0]===Ne[0]&&Ae[0][1]===Ne[1]?y.smoothclosed(Ae.slice(1),k.smoothing):y.smoothopen(Ae,k.smoothing)}:function(Ae){return"M"+Ae.join("L")},K=function(Ae){return ee(Ae.reverse())},xe=i(v,{xaxis:A,yaxis:m,trace:C,connectGaps:C.connectgaps,baseTolerance:Math.max(k.width||1,3)/4,shape:k.shape,backoff:k.backoff,simplify:k.simplify,fill:C.fill}),he=C._polygons=new Array(xe.length),g=0;g<xe.length;g++)C._polygons[g]=a(xe[g]);xe.length&&(ne=xe[0][0],ue=(ae=xe[xe.length-1])[ae.length-1]),Se=function(Ae){return function(Ne){if(q=re(Ne),U=K(Ne),pe?Y?(pe+="L"+q.substr(1),ge=U+"L"+ge.substr(1)):(pe+="Z"+q,ge=U+"Z"+ge):(pe=q,ge=U),u.hasLines(C)){var De=I.select(this);if(De.datum(v),Ae)b(De.style("opacity",0).attr("d",q).call(y.lineGroupStyle)).style("opacity",1);else{var Ue=b(De);Ue.attr("d",q),y.singleLineStyle(v,Ue)}}}}}var Te=L.selectAll(".js-line").data(xe);b(Te.exit()).style("opacity",0).remove(),Te.each(Se(!1)),Te.enter().append("path").classed("js-line",!0).style("vector-effect",w?"none":"non-scaling-stroke").call(y.lineGroupStyle).each(Se(!0)),y.setClipUrl(Te,h.layerClipId,l),xe.length?(J?(J.datum(v),ne&&ue&&(Y?("y"===Y?ne[1]=ue[1]=m.c2p(0,!0):"x"===Y&&(ne[0]=ue[0]=A.c2p(0,!0)),b(J).attr("d","M"+ue+"L"+ne+"L"+pe.substr(1)).call(y.singleFillStyle,l)):b(J).attr("d",pe+"Z").call(y.singleFillStyle,l))):z&&("tonext"===C.fill.substr(0,6)&&pe&&Z?("tonext"===C.fill?b(z).attr("d",pe+"Z"+Z+"Z").call(y.singleFillStyle,l):b(z).attr("d",pe+"L"+Z.substr(1)+"Z").call(y.singleFillStyle,l),C._polygons=C._polygons.concat(X)):(we(z),C._polygons=null)),C._prevRevpath=ge,C._prevPolygons=he):(J?we(J):z&&we(z),C._polygons=C._prevRevpath=C._prevPolygons=null),N.datum(v),B.datum(v),function(Ae,Ne,De){var Ue,Ye=De[0].trace,_e=u.hasMarkers(Ye),Pe=u.hasText(Ye),Ie=function de(Ae){if(Ae.ids)return me}(Ye),Be=ce,We=ce;if(_e||Pe){var Ge=M,Ke=Ye.stackgroup,tt=Ke&&"infer zero"===l._fullLayout._scatterStackOpts[A._id+m._id][Ke].stackgaps;Ye.marker.maxdisplayed||Ye._needsCull?Ge=tt?ke:ze:Ke&&!tt&&(Ge=Ee),_e&&(Be=Ge),Pe&&(We=Ge)}var st,gt=(Ue=Ae.selectAll("path.point").data(Be,Ie)).enter().append("path").classed("point",!0);x&&gt.call(y.pointStyle,Ye,l).call(y.translatePoints,A,m).style("opacity",0).transition().style("opacity",1),Ue.order(),_e&&(st=y.makePointStyleFns(Ye)),Ue.each(function(ct){var kt=I.select(this),Dt=b(kt);y.translatePoint(ct,Dt,A,m)?(y.singlePointStyle(ct,Dt,Ye,st,l),h.layerClipId&&y.hideOutsideRangePoint(ct,Dt,A,m,Ye.xcalendar,Ye.ycalendar),Ye.customdata&&kt.classed("plotly-customdata",null!=ct.data)):Dt.remove()}),x?Ue.exit().transition().style("opacity",0).remove():Ue.exit().remove(),(Ue=Ne.selectAll("g").data(We,Ie)).enter().append("g").classed("textpoint",!0).append("text"),Ue.order(),Ue.each(function(ct){var kt=I.select(this),Dt=b(kt.select("text"));y.translatePoint(ct,Dt,A,m)?h.layerClipId&&y.hideOutsideRangePoint(ct,kt,A,m,Ye.xcalendar,Ye.ycalendar):kt.remove()}),Ue.selectAll("text").call(y.textPointStyle,Ye,l).each(function(ct){var kt=A.c2p(ct.x),Dt=m.c2p(ct.y);I.select(this).selectAll("tspan.line").each(function(){b(I.select(this)).attr({x:kt,y:Dt})})}),Ue.exit().remove()}(N,B,v);var ye=!1===C.cliponaxis?null:h.layerClipId;y.setClipUrl(N,ye,l),y.setClipUrl(B,ye,l)}function we(Ae){b(Ae).attr("d","M0,0Z")}function ze(Ae){return Ae.filter(function(Ne){return!Ne.gap&&Ne.vis})}function ke(Ae){return Ae.filter(function(Ne){return Ne.vis})}function Ee(Ae){return Ae.filter(function(Ne){return!Ne.gap})}function me(Ae){return Ae.id}function ce(){return!1}}oe.exports=function(l,c,h,v,p,T){var _,g,A,C,w=!p,x=!!p&&p.duration>0,b=s(l,c,h);(_=v.selectAll("g.trace").data(b,function(A){return A[0].trace.uid})).enter().append("g").attr("class",function(A){return"trace scatter trace"+A[0].trace.uid}).style("stroke-miterlimit",2),_.order(),A=l,C=c,_.each(function(k){var P=S(I.select(this),"g","fills");y.setClipUrl(P,C.layerClipId,A);var R=k[0].trace,L=[];R._ownfill&&L.push("_ownFill"),R._nexttrace&&L.push("_nextFill");var N=P.selectAll("g").data(L,M);N.enter().append("g"),N.exit().each(function(B){R[B]=null}).remove(),N.order().each(function(B){R[B]=S(I.select(this),"path","js-fill")})}),x?(T&&(g=T()),I.transition().duration(p.duration).ease(p.easing).each("end",function(){g&&g()}).each("interrupt",function(){g&&g()}).each(function(){v.selectAll("g.trace").each(function(A,m){o(l,m,c,A,b,this,p)})})):_.each(function(A,m){o(l,m,c,A,b,this,p)}),w&&_.exit().remove(),v.selectAll("path:not([d])").remove()}},98002:function(oe,j,r){"use strict";var I=r(34098);oe.exports=function(E,f){var S,M,y,u,i=E.cd,s=E.xaxis,a=E.yaxis,o=[],l=i[0].trace;if(!I.hasMarkers(l)&&!I.hasText(l))return[];if(!1===f)for(S=0;S<i.length;S++)i[S].selected=0;else for(S=0;S<i.length;S++)y=s.c2p((M=i[S]).x),u=a.c2p(M.y),null!==M.i&&f.contains([y,u],!1,S,E)?(o.push({pointNumber:M.i,x:s.c2d(M.x),y:a.c2d(M.y)}),M.selected=1):M.selected=0;return o}},565:function(oe){"use strict";var j=["orientation","groupnorm","stackgaps"];oe.exports=function(r,I,E,f){var S=E._scatterStackOpts,M=f("stackgroup");if(M){var y=I.xaxis+I.yaxis,u=S[y];u||(u=S[y]={});var i=u[M],s=!1;i?i.traces.push(I):(i=u[M]={traceIndices:[],traces:[I]},s=!0);for(var a={orientation:I.x&&!I.y?"h":"v"},o=0;o<j.length;o++){var l=j[o],c=l+"Found";if(!i[c]){var h=void 0!==r[l],v="orientation"===l;if((h||s)&&(i[l]=f(l,a[l]),v&&(i.fillDflt="h"===i[l]?"tonextx":"tonexty"),h&&(i[c]=!0,!s&&(delete i.traces[0][l],v))))for(var p=0;p<i.traces.length-1;p++){var T=i.traces[p];T._input.fill!==T.fill&&(T.fill=i.fillDflt)}}}return i}}},16296:function(oe,j,r){"use strict";var I=r(39898),E=r(91424),f=r(73972);function S(y,u,i){E.pointStyle(y.selectAll("path.point"),u,i)}function M(y,u,i){E.textPointStyle(y.selectAll("text"),u,i)}oe.exports={style:function(y){var u=I.select(y).selectAll("g.trace.scatter");u.style("opacity",function(i){return i[0].trace.opacity}),u.selectAll("g.points").each(function(i){S(I.select(this),i.trace||i[0].trace,y)}),u.selectAll("g.text").each(function(i){M(I.select(this),i.trace||i[0].trace,y)}),u.selectAll("g.trace path.js-line").call(E.lineGroupStyle),u.selectAll("g.trace path.js-fill").call(E.fillGroupStyle,y),f.getComponentMethod("errorbars","style")(u)},stylePoints:S,styleText:M,styleOnSelect:function(y,u,i){var s=u[0].trace;s.selectedpoints?(E.selectedPointStyle(i.selectAll("path.point"),s),E.selectedTextStyle(i.selectAll("text"),s)):(S(i,s,y),M(i,s,y))}}},34098:function(oe,j,r){"use strict";var I=r(71828);oe.exports={hasLines:function(E){return E.visible&&E.mode&&-1!==E.mode.indexOf("lines")},hasMarkers:function(E){return E.visible&&(E.mode&&-1!==E.mode.indexOf("markers")||"splom"===E.type)},hasText:function(E){return E.visible&&E.mode&&-1!==E.mode.indexOf("text")},isBubble:function(E){return I.isPlainObject(E.marker)&&I.isArrayOrTypedArray(E.marker.size)}}},82410:function(oe,j,r){"use strict";var I=r(71828);oe.exports=function(E,f,S,M,y){y=y||{},M("textposition"),I.coerceFont(M,"textfont",y.font||S.font),y.noSelect||(M("selected.textfont.color"),M("unselected.textfont.color"))}},67513:function(oe,j,r){"use strict";var I=r(71828),E=r(73972);oe.exports=function(f,S,M,y){var u,i=y("x"),s=y("y");if(E.getComponentMethod("calendars","handleTraceDefaults")(f,S,["x","y"],M),i){var a=I.minRowLength(i);s?u=Math.min(a,I.minRowLength(s)):(u=a,y("y0"),y("dy"))}else{if(!s)return 0;u=I.minRowLength(s),y("x0"),y("dx")}return S._length=u,u}},44542:function(oe,j,r){"use strict";var I=r(82196),E=r(50693),f=r(12663).axisHoverFormat,S=r(5386).fF,M=r(5386).si,y=r(9012),u=r(29659),i=r(87381),s=r(1426).extendFlat,a=r(30962).overrideAll,o=r(78607),c=I.marker,h=c.line,v=s({width:I.line.width,dash:{valType:"enumerated",values:o(u),dflt:"solid"}},E("line")),p=oe.exports=a({x:I.x,y:I.y,z:{valType:"data_array"},text:s({},I.text,{}),texttemplate:M({},{}),hovertext:s({},I.hovertext,{}),hovertemplate:S(),xhoverformat:f("x"),yhoverformat:f("y"),zhoverformat:f("z"),mode:s({},I.mode,{dflt:"lines+markers"}),surfaceaxis:{valType:"enumerated",values:[-1,0,1,2],dflt:-1},surfacecolor:{valType:"color"},projection:{x:{show:{valType:"boolean",dflt:!1},opacity:{valType:"number",min:0,max:1,dflt:1},scale:{valType:"number",min:0,max:10,dflt:2/3}},y:{show:{valType:"boolean",dflt:!1},opacity:{valType:"number",min:0,max:1,dflt:1},scale:{valType:"number",min:0,max:10,dflt:2/3}},z:{show:{valType:"boolean",dflt:!1},opacity:{valType:"number",min:0,max:1,dflt:1},scale:{valType:"number",min:0,max:10,dflt:2/3}}},connectgaps:I.connectgaps,line:v,marker:s({symbol:{valType:"enumerated",values:o(i),dflt:"circle",arrayOk:!0},size:s({},c.size,{dflt:8}),sizeref:c.sizeref,sizemin:c.sizemin,sizemode:c.sizemode,opacity:s({},c.opacity,{arrayOk:!1}),colorbar:c.colorbar,line:s({width:s({},h.width,{arrayOk:!1})},E("marker.line"))},E("marker")),textposition:s({},I.textposition,{dflt:"top center"}),textfont:{color:I.textfont.color,size:I.textfont.size,family:s({},I.textfont.family,{arrayOk:!1})},opacity:y.opacity,hoverinfo:s({},y.hoverinfo)},"calc","nested");p.x.editType=p.y.editType=p.z.editType="calc+clearAxisTypes"},36563:function(oe,j,r){"use strict";var I=r(75225),E=r(36922);oe.exports=function(f,S){var M=[{x:!1,y:!1,trace:S,t:{}}];return I(M,S),E(f,S),M}},67336:function(oe,j,r){"use strict";var I=r(73972);function E(f,S,M,y){if(!S||!S.visible)return null;for(var u=I.getComponentMethod("errorbars","makeComputeError")(S),i=new Array(f.length),s=0;s<f.length;s++){var a=u(+f[s],s);if("log"===y.type){var o=y.c2l(f[s]),l=f[s]-a[0],c=f[s]+a[1];if(i[s]=[(y.c2l(l,!0)-o)*M,(y.c2l(c,!0)-o)*M],l>0){var h=y.c2l(l);y._lowerLogErrorBound||(y._lowerLogErrorBound=h),y._lowerErrorBound=Math.min(y._lowerLogErrorBound,h)}}else i[s]=[-a[0]*M,a[1]*M]}return i}oe.exports=function(f,S,M){var y=[E(f.x,f.error_x,S[0],M.xaxis),E(f.y,f.error_y,S[1],M.yaxis),E(f.z,f.error_z,S[2],M.zaxis)],u=function(c){for(var h=0;h<c.length;h++)if(c[h])return c[h].length;return 0}(y);if(0===u)return null;for(var i=new Array(u),s=0;s<u;s++){for(var a=[[0,0,0],[0,0,0]],o=0;o<3;o++)if(y[o])for(var l=0;l<2;l++)a[l][o]=y[o][s][l];i[s]=a}return i}},58925:function(oe,j,r){"use strict";var I=r(9330).gl_line3d,E=r(9330).gl_scatter3d,f=r(9330).gl_error3d,S=r(9330).gl_mesh3d,M=r(9330).delaunay_triangulate,y=r(71828),u=r(78614),i=r(81697).formatColor,s=r(39984),a=r(29659),o=r(87381),l=r(89298),c=r(23469).appendArrayPointValue,h=r(67336);function v(m,C){this.scene=m,this.uid=C,this.linePlot=null,this.scatterPlot=null,this.errorBars=null,this.textMarkers=null,this.delaunayMesh=null,this.color=null,this.mode="",this.dataPoints=[],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.textLabels=null,this.data=null}var p=v.prototype;function T(m){return null==m?0:m.indexOf("left")>-1?-1:m.indexOf("right")>-1?1:0}function _(m){return null==m?0:m.indexOf("top")>-1?-1:m.indexOf("bottom")>-1?1:0}function g(m,C){return C(4*m)}function w(m){return o[m]}function x(m,C,k,P,R){var L=null;if(y.isArrayOrTypedArray(m)){L=[];for(var N=0;N<C;N++)L[N]=void 0===m[N]?P:k(m[N],R)}else L=k(m,y.identity);return L}function b(m){if(y.isArrayOrTypedArray(m)){var C=m[0];return y.isArrayOrTypedArray(C)&&(m=C),"rgb("+m.slice(0,3).map(function(k){return Math.round(255*k)})+")"}return null}function A(m){return y.isArrayOrTypedArray(m)?4===m.length&&"number"==typeof m[0]?b(m):m.map(b):null}p.handlePick=function(m){if(m.object&&(m.object===this.linePlot||m.object===this.delaunayMesh||m.object===this.textMarkers||m.object===this.scatterPlot)){var C=m.index=m.data.index;return m.object.highlight&&m.object.highlight(null),this.scatterPlot&&(m.object=this.scatterPlot,this.scatterPlot.highlight(m.data)),m.textLabel="",this.textLabels&&(Array.isArray(this.textLabels)?(this.textLabels[C]||0===this.textLabels[C])&&(m.textLabel=this.textLabels[C]):m.textLabel=this.textLabels),m.traceCoordinate=[this.data.x[C],this.data.y[C],this.data.z[C]],!0}},p.update=function(m){var C,k,P,R,L=this.scene.glplot.gl,N=a.solid;this.data=m;var B=function(Y,q){var U,Z,X,se,re,ee,K=[],ne=Y.fullSceneLayout,ae=Y.dataScale,ue=ne.xaxis,he=ne.yaxis,pe=ne.zaxis,ge=q.marker,xe=q.line,Se=q.x||[],Te=q.y||[],ye=q.z||[],we=Se.length,ze=q.xcalendar,ke=q.ycalendar,Ee=q.zcalendar;for(re=0;re<we;re++)U=ue.d2l(Se[re],0,ze)*ae[0],Z=he.d2l(Te[re],0,ke)*ae[1],X=pe.d2l(ye[re],0,Ee)*ae[2],K[re]=[U,Z,X];if(Array.isArray(q.text))ee=q.text;else if(void 0!==q.text)for(ee=new Array(we),re=0;re<we;re++)ee[re]=q.text;function me(Ke,tt){var st=ne[Ke];return l.tickText(st,st.d2l(tt),!0).text}var de=q.texttemplate;if(de){var ce=Y.fullLayout._d3locale,Ae=Array.isArray(de),Ne=Ae?Math.min(de.length,we):we,De=Ae?function(Ke){return de[Ke]}:function(){return de};for(ee=new Array(Ne),re=0;re<Ne;re++){var Ue={x:Se[re],y:Te[re],z:ye[re]},Ye={xLabel:me("xaxis",Se[re]),yLabel:me("yaxis",Te[re]),zLabel:me("zaxis",ye[re])},_e={};c(_e,q,re);var Pe=q._meta||{};ee[re]=y.texttemplateString(De(re),Ye,ce,_e,Ue,Pe)}}if(se={position:K,mode:q.mode,text:ee},"line"in q&&(se.lineColor=i(xe,1,we),se.lineWidth=xe.width,se.lineDashes=xe.dash),"marker"in q){var Ie=s(q);se.scatterColor=i(ge,1,we),se.scatterSize=x(ge.size,we,g,20,Ie),se.scatterMarker=x(ge.symbol,we,w,"\u25cf"),se.scatterLineWidth=ge.line.width,se.scatterLineColor=i(ge.line,1,we),se.scatterAngle=0}"textposition"in q&&(se.textOffset=function(Ke){var tt=[0,0];if(Array.isArray(Ke))for(var st=0;st<Ke.length;st++)tt[st]=[0,0],Ke[st]&&(tt[st][0]=T(Ke[st]),tt[st][1]=_(Ke[st]));else tt[0]=T(Ke),tt[1]=_(Ke);return tt}(q.textposition),se.textColor=i(q.textfont,1,we),se.textSize=x(q.textfont.size,we,y.identity,12),se.textFont=q.textfont.family,se.textAngle=0);var Be=["x","y","z"];for(se.project=[!1,!1,!1],se.projectScale=[1,1,1],se.projectOpacity=[1,1,1],re=0;re<3;++re){var We=q.projection[Be[re]];(se.project[re]=We.show)&&(se.projectOpacity[re]=We.opacity,se.projectScale[re]=We.scale)}se.errorBounds=h(q,ae,ne);var Ge=function(Ke){for(var tt=[0,0,0],st=[[0,0,0],[0,0,0],[0,0,0]],gt=[1,1,1],ct=0;ct<3;ct++){var kt=Ke[ct];kt&&!1!==kt.copy_zstyle&&!1!==Ke[2].visible&&(kt=Ke[2]),kt&&kt.visible&&(tt[ct]=kt.width/2,st[ct]=u(kt.color),gt[ct]=kt.thickness)}return{capSize:tt,color:st,lineWidth:gt}}([q.error_x,q.error_y,q.error_z]);return se.errorColor=Ge.color,se.errorLineWidth=Ge.lineWidth,se.errorCapSize=Ge.capSize,se.delaunayAxis=q.surfaceaxis,se.delaunayColor=u(q.surfacecolor),se}(this.scene,m);"mode"in B&&(this.mode=B.mode),"lineDashes"in B&&B.lineDashes in a&&(N=a[B.lineDashes]),this.color=A(B.scatterColor)||A(B.lineColor),this.dataPoints=B.position,C={gl:this.scene.glplot.gl,position:B.position,color:B.lineColor,lineWidth:B.lineWidth||1,dashes:N[0],dashScale:N[1],opacity:m.opacity,connectGaps:m.connectgaps},-1!==this.mode.indexOf("lines")?this.linePlot?this.linePlot.update(C):(this.linePlot=I(C),this.linePlot._trace=this,this.scene.glplot.add(this.linePlot)):this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose(),this.linePlot=null);var J=m.opacity;if(m.marker&&void 0!==m.marker.opacity&&(J*=m.marker.opacity),k={gl:this.scene.glplot.gl,position:B.position,color:B.scatterColor,size:B.scatterSize,glyph:B.scatterMarker,opacity:J,orthographic:!0,lineWidth:B.scatterLineWidth,lineColor:B.scatterLineColor,project:B.project,projectScale:B.projectScale,projectOpacity:B.projectOpacity},-1!==this.mode.indexOf("markers")?this.scatterPlot?this.scatterPlot.update(k):(this.scatterPlot=E(k),this.scatterPlot._trace=this,this.scatterPlot.highlightScale=1,this.scene.glplot.add(this.scatterPlot)):this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose(),this.scatterPlot=null),R={gl:this.scene.glplot.gl,position:B.position,glyph:B.text,color:B.textColor,size:B.textSize,angle:B.textAngle,alignment:B.textOffset,font:B.textFont,orthographic:!0,lineWidth:0,project:!1,opacity:m.opacity},this.textLabels=m.hovertext||m.text,-1!==this.mode.indexOf("text")?this.textMarkers?this.textMarkers.update(R):(this.textMarkers=E(R),this.textMarkers._trace=this,this.textMarkers.highlightScale=1,this.scene.glplot.add(this.textMarkers)):this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose(),this.textMarkers=null),P={gl:this.scene.glplot.gl,position:B.position,color:B.errorColor,error:B.errorBounds,lineWidth:B.errorLineWidth,capSize:B.errorCapSize,opacity:m.opacity},this.errorBars?B.errorBounds?this.errorBars.update(P):(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose(),this.errorBars=null):B.errorBounds&&(this.errorBars=f(P),this.errorBars._trace=this,this.scene.glplot.add(this.errorBars)),B.delaunayAxis>=0){var z=function(Y,q,U){var Z,X=(U+1)%3,se=(U+2)%3,re=[],ee=[];for(Z=0;Z<Y.length;++Z){var K=Y[Z];!isNaN(K[X])&&isFinite(K[X])&&!isNaN(K[se])&&isFinite(K[se])&&(re.push([K[X],K[se]]),ee.push(Z))}var ne=M(re);for(Z=0;Z<ne.length;++Z)for(var ae=ne[Z],ue=0;ue<ae.length;++ue)ae[ue]=ee[ae[ue]];return{positions:Y,cells:ne,meshColor:q}}(B.position,B.delaunayColor,B.delaunayAxis);z.opacity=m.opacity,this.delaunayMesh?this.delaunayMesh.update(z):(z.gl=L,this.delaunayMesh=S(z),this.delaunayMesh._trace=this,this.scene.glplot.add(this.delaunayMesh))}else this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose(),this.delaunayMesh=null)},p.dispose=function(){this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose()),this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose()),this.errorBars&&(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose()),this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose()),this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose())},oe.exports=function(m,C){var k=new v(m,C.uid);return k.update(C),k}},21428:function(oe,j,r){"use strict";var I=r(73972),E=r(71828),f=r(34098),S=r(49508),M=r(11058),y=r(82410),u=r(44542);oe.exports=function(i,s,a,o){function l(w,x){return E.coerce(i,s,u,w,x)}var w,x,b,A,m,C,k,P;if(w=i,x=s,A=o,m=0,C=(b=l)("x"),k=b("y"),P=b("z"),I.getComponentMethod("calendars","handleTraceDefaults")(w,x,["x","y","z"],A),C&&k&&P&&(m=Math.min(C.length,k.length,P.length),x._length=x._xlength=x._ylength=x._zlength=m),m){l("text"),l("hovertext"),l("hovertemplate"),l("xhoverformat"),l("yhoverformat"),l("zhoverformat"),l("mode"),f.hasLines(s)&&(l("connectgaps"),M(i,s,a,o,l)),f.hasMarkers(s)&&S(i,s,a,o,l,{noSelect:!0,noAngle:!0}),f.hasText(s)&&(l("texttemplate"),y(i,s,o,l,{noSelect:!0}));var h=(s.line||{}).color,v=(s.marker||{}).color;l("surfaceaxis")>=0&&l("surfacecolor",h||v);for(var p=["x","y","z"],T=0;T<3;++T){var _="projection."+p[T];l(_+".show")&&(l(_+".opacity"),l(_+".scale"))}var g=I.getComponentMethod("errorbars","supplyDefaults");g(i,s,h||v||a,{axis:"z"}),g(i,s,h||v||a,{axis:"y",inherit:"z"}),g(i,s,h||v||a,{axis:"x",inherit:"z"})}else s.visible=!1}},13551:function(oe,j,r){"use strict";oe.exports={plot:r(58925),attributes:r(44542),markerSymbols:r(87381),supplyDefaults:r(21428),colorbar:[{container:"marker",min:"cmin",max:"cmax"},{container:"line",min:"cmin",max:"cmax"}],calc:r(36563),moduleType:"trace",name:"scatter3d",basePlotModule:r(58547),categories:["gl3d","symbols","showLegend","scatter-like"],meta:{}}},97001:function(oe,j,r){"use strict";var I=r(82196),E=r(9012),f=r(5386).fF,S=r(5386).si,M=r(50693),y=r(1426).extendFlat,u=I.marker,i=I.line,s=u.line;oe.exports={carpet:{valType:"string",editType:"calc"},a:{valType:"data_array",editType:"calc"},b:{valType:"data_array",editType:"calc"},mode:y({},I.mode,{dflt:"markers"}),text:y({},I.text,{}),texttemplate:S({editType:"plot"},{keys:["a","b","text"]}),hovertext:y({},I.hovertext,{}),line:{color:i.color,width:i.width,dash:i.dash,backoff:i.backoff,shape:y({},i.shape,{values:["linear","spline"]}),smoothing:i.smoothing,editType:"calc"},connectgaps:I.connectgaps,fill:y({},I.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:I.fillcolor,marker:y({symbol:u.symbol,opacity:u.opacity,maxdisplayed:u.maxdisplayed,angle:u.angle,angleref:u.angleref,standoff:u.standoff,size:u.size,sizeref:u.sizeref,sizemin:u.sizemin,sizemode:u.sizemode,line:y({width:s.width,editType:"calc"},M("marker.line")),gradient:u.gradient,editType:"calc"},M("marker")),textfont:I.textfont,textposition:I.textposition,selected:I.selected,unselected:I.unselected,hoverinfo:y({},E.hoverinfo,{flags:["a","b","text","name"]}),hoveron:I.hoveron,hovertemplate:f()}},34618:function(oe,j,r){"use strict";var I=r(92770),E=r(36922),f=r(75225),S=r(66279),M=r(47761).calcMarkerSize,y=r(22882);oe.exports=function(u,i){var s=i._carpetTrace=y(u,i);if(s&&s.visible&&"legendonly"!==s.visible){var a;i.xaxis=s.xaxis,i.yaxis=s.yaxis;var o,l,c=i._length,h=new Array(c),v=!1;for(a=0;a<c;a++)if(l=i.b[a],I(o=i.a[a])&&I(l)){var p=s.ab2xy(+o,+l,!0),T=s.isVisible(+o,+l);T||(v=!0),h[a]={x:p[0],y:p[1],a:o,b:l,vis:T}}else h[a]={x:!1,y:!1};return i._needsCull=v,h[0].carpet=s,h[0].trace=i,M(i,c),E(u,i),f(h,i),S(h,i),h}}},98965:function(oe,j,r){"use strict";var I=r(71828),E=r(47581),f=r(34098),S=r(49508),M=r(11058),y=r(94039),u=r(82410),i=r(28908),s=r(97001);oe.exports=function(a,o,l,c){function h(g,w){return I.coerce(a,o,s,g,w)}h("carpet"),o.xaxis="x",o.yaxis="y";var v=h("a"),p=h("b"),T=Math.min(v.length,p.length);if(T){o._length=T,h("text"),h("texttemplate"),h("hovertext"),h("mode",T<E.PTS_LINESONLY?"lines+markers":"lines"),f.hasLines(o)&&(M(a,o,l,c,h,{backoff:!0}),y(a,o,h),h("connectgaps")),f.hasMarkers(o)&&S(a,o,l,c,h,{gradient:!0}),f.hasText(o)&&u(a,o,c,h);var _=[];(f.hasMarkers(o)||f.hasText(o))&&(h("marker.maxdisplayed"),_.push("points")),h("fill"),"none"!==o.fill&&(i(a,o,l,h),f.hasLines(o)||y(a,o,h)),"tonext"!==o.fill&&"toself"!==o.fill||_.push("fills"),"fills"!==h("hoveron",_.join("+")||"points")&&h("hovertemplate"),I.coerceSelectionMarkerOpacity(o,h)}else o.visible=!1}},16165:function(oe){"use strict";oe.exports=function(j,r,I,E,f){var S=E[f];return j.a=S.a,j.b=S.b,j.y=S.y,j}},48953:function(oe){"use strict";oe.exports=function(j,r){var I={},E=r._carpet,f=E.ab2ij([j.a,j.b]),S=Math.floor(f[0]),M=f[0]-S,y=Math.floor(f[1]),i=E.evalxy([],S,y,M,f[1]-y);return I.yLabel=i[1].toFixed(3),I}},22931:function(oe,j,r){"use strict";var I=r(33720),E=r(71828).fillText;oe.exports=function(f,S,M,y){var u=I(f,S,M,y);if(u&&!1!==u[0].index){var i=u[0];if(void 0===i.index){var a=f.xa._length,o=a*(1-i.y0/f.ya._length)/2,l=a-o;return i.x0=Math.max(Math.min(i.x0,l),o),i.x1=Math.max(Math.min(i.x1,l),o),u}var c=i.cd[i.index];i.a=c.a,i.b=c.b,i.xLabelVal=void 0,i.yLabelVal=void 0;var h=i.trace,v=h._carpet,p=h._module.formatLabels(c,h);i.yLabel=p.yLabel,delete i.text;var T=[];if(!h.hovertemplate){var _=(c.hi||h.hoverinfo).split("+");-1!==_.indexOf("all")&&(_=["a","b","text"]),-1!==_.indexOf("a")&&g(v.aaxis,c.a),-1!==_.indexOf("b")&&g(v.baxis,c.b),T.push("y: "+i.yLabel),-1!==_.indexOf("text")&&E(c,h,T),i.extraText=T.join("<br>")}return u}function g(w,x){var b;b=w.labelprefix&&w.labelprefix.length>0?w.labelprefix.replace(/ = $/,""):w._hovertitle,T.push(b+": "+x.toFixed(3)+w.labelsuffix)}}},46858:function(oe,j,r){"use strict";oe.exports={attributes:r(97001),supplyDefaults:r(98965),colorbar:r(4898),formatLabels:r(48953),calc:r(34618),plot:r(1913),style:r(16296).style,styleOnSelect:r(16296).styleOnSelect,hoverPoints:r(22931),selectPoints:r(98002),eventData:r(16165),moduleType:"trace",name:"scattercarpet",basePlotModule:r(93612),categories:["svg","carpet","symbols","showLegend","carpetDependent","zoomScale"],meta:{}}},1913:function(oe,j,r){"use strict";var I=r(32663),E=r(89298),f=r(91424);oe.exports=function(S,M,y,u){var i,s,a,o=y[0][0].carpet,l=E.getFromId(S,o.xaxis||"x"),c=E.getFromId(S,o.yaxis||"y"),h={xaxis:l,yaxis:c,plot:M.plot};for(i=0;i<y.length;i++)(s=y[i][0].trace)._xA=l,s._yA=c;for(I(S,h,y,u),i=0;i<y.length;i++)a=u.selectAll("g.trace"+(s=y[i][0].trace).uid+" .js-line"),f.setClipUrl(a,y[i][0].carpet._clipPathId,S)}},19316:function(oe,j,r){"use strict";var I=r(5386).fF,E=r(5386).si,f=r(82196),S=r(9012),M=r(50693),y=r(79952).P,u=r(1426).extendFlat,i=r(30962).overrideAll,s=f.marker,a=f.line,o=s.line;oe.exports=i({lon:{valType:"data_array"},lat:{valType:"data_array"},locations:{valType:"data_array"},locationmode:{valType:"enumerated",values:["ISO-3","USA-states","country names","geojson-id"],dflt:"ISO-3"},geojson:{valType:"any",editType:"calc"},featureidkey:{valType:"string",editType:"calc",dflt:"id"},mode:u({},f.mode,{dflt:"markers"}),text:u({},f.text,{}),texttemplate:E({editType:"plot"},{keys:["lat","lon","location","text"]}),hovertext:u({},f.hovertext,{}),textfont:f.textfont,textposition:f.textposition,line:{color:a.color,width:a.width,dash:y},connectgaps:f.connectgaps,marker:u({symbol:s.symbol,opacity:s.opacity,angle:s.angle,angleref:u({},s.angleref,{values:["previous","up","north"]}),standoff:s.standoff,size:s.size,sizeref:s.sizeref,sizemin:s.sizemin,sizemode:s.sizemode,colorbar:s.colorbar,line:u({width:o.width},M("marker.line")),gradient:s.gradient},M("marker")),fill:{valType:"enumerated",values:["none","toself"],dflt:"none"},fillcolor:f.fillcolor,selected:f.selected,unselected:f.unselected,hoverinfo:u({},S.hoverinfo,{flags:["lon","lat","location","text","name"]}),hovertemplate:I()},"calc","nested")},84622:function(oe,j,r){"use strict";var I=r(92770),E=r(50606).BADNUM,f=r(36922),S=r(75225),M=r(66279),y=r(71828)._;function u(i){return i&&"string"==typeof i}oe.exports=function(i,s){var a,o=Array.isArray(s.locations),l=o?s.locations.length:s._length,c=new Array(l);a=s.geojson?function(g){return u(g)||I(g)}:u;for(var h=0;h<l;h++){var v=c[h]={};if(o){var p=s.locations[h];v.loc=a(p)?p:null}else{var T=s.lon[h],_=s.lat[h];v.lonlat=I(T)&&I(_)?[+T,+_]:[E,E]}}return S(c,s),f(i,s),M(c,s),l&&(c[0].t={labels:{lat:y(i,"lat:")+" ",lon:y(i,"lon:")+" "}}),c}},10659:function(oe,j,r){"use strict";var I=r(71828),E=r(34098),f=r(49508),S=r(11058),M=r(82410),y=r(28908),u=r(19316);oe.exports=function(i,s,a,o){function l(g,w){return I.coerce(i,s,u,g,w)}var c,h=l("locations");if(h&&h.length){var v,p=l("geojson");("string"==typeof p&&""!==p||I.isPlainObject(p))&&(v="geojson-id"),"geojson-id"===l("locationmode",v)&&l("featureidkey"),c=h.length}else{var T=l("lon")||[],_=l("lat")||[];c=Math.min(T.length,_.length)}c?(s._length=c,l("text"),l("hovertext"),l("hovertemplate"),l("mode"),E.hasLines(s)&&(S(i,s,a,o,l),l("connectgaps")),E.hasMarkers(s)&&f(i,s,a,o,l,{gradient:!0}),E.hasText(s)&&(l("texttemplate"),M(i,s,o,l)),l("fill"),"none"!==s.fill&&y(i,s,a,l),I.coerceSelectionMarkerOpacity(s,l)):s.visible=!1}},84084:function(oe){"use strict";oe.exports=function(j,r,I,E,f){j.lon=r.lon,j.lat=r.lat,j.location=r.loc?r.loc:null;var S=E[f];return S.fIn&&S.fIn.properties&&(j.properties=S.fIn.properties),j}},82719:function(oe,j,r){"use strict";var I=r(89298);oe.exports=function(E,f,S){var M={},y=S[f.geo]._subplot.mockAxis,u=E.lonlat;return M.lonLabel=I.tickText(y,y.c2l(u[0]),!0).text,M.latLabel=I.tickText(y,y.c2l(u[1]),!0).text,M}},14977:function(oe,j,r){"use strict";var I=r(30211),E=r(50606).BADNUM,f=r(34603),S=r(71828).fillText,M=r(19316);oe.exports=function(y,u,i){var s=y.cd,a=s[0].trace,o=y.xa,l=y.ya,c=y.subplot,h=c.projection.isLonLatOverEdges,v=c.project;if(I.getClosest(s,function(b){var A=b.lonlat;if(A[0]===E||h(A))return 1/0;var m=v(A),C=v([u,i]),k=Math.abs(m[0]-C[0]),P=Math.abs(m[1]-C[1]),R=Math.max(3,b.mrc||0);return Math.max(Math.sqrt(k*k+P*P)-R,1-3/R)},y),!1!==y.index){var p=s[y.index],T=p.lonlat,_=[o.c2p(T),l.c2p(T)],g=p.mrc||1;y.x0=_[0]-g,y.x1=_[0]+g,y.y0=_[1]-g,y.y1=_[1]+g,y.loc=p.loc,y.lon=T[0],y.lat=T[1];var w={};w[a.geo]={_subplot:c};var x=a._module.formatLabels(p,a,w);return y.lonLabel=x.lonLabel,y.latLabel=x.latLabel,y.color=f(a,p),y.extraText=function(b,A,m,C){if(!b.hovertemplate){var k=A.hi||b.hoverinfo,P="all"===k?M.hoverinfo.flags:k.split("+"),R=-1!==P.indexOf("location")&&Array.isArray(b.locations),L=-1!==P.indexOf("lon"),N=-1!==P.indexOf("lat"),B=-1!==P.indexOf("text"),J=[];return R?J.push(A.loc):L&&N?J.push("("+z(m.latLabel)+", "+z(m.lonLabel)+")"):L?J.push(C.lon+z(m.lonLabel)):N&&J.push(C.lat+z(m.latLabel)),B&&S(A,b,J),J.join("<br>")}function z(Y){return Y+"\xb0"}}(a,p,y,s[0].t.labels),y.hovertemplate=a.hovertemplate,[y]}}},17988:function(oe,j,r){"use strict";oe.exports={attributes:r(19316),supplyDefaults:r(10659),colorbar:r(4898),formatLabels:r(82719),calc:r(84622),calcGeoJSON:r(89171).calcGeoJSON,plot:r(89171).plot,style:r(33095),styleOnSelect:r(16296).styleOnSelect,hoverPoints:r(14977),eventData:r(84084),selectPoints:r(20548),moduleType:"trace",name:"scattergeo",basePlotModule:r(44622),categories:["geo","symbols","showLegend","scatter-like"],meta:{}}},89171:function(oe,j,r){"use strict";var I=r(39898),E=r(71828),f=r(90973).getTopojsonFeatures,S=r(18214),M=r(41327),y=r(71739).findExtremes,u=r(50606).BADNUM,i=r(47761).calcMarkerSize,s=r(34098),a=r(33095);oe.exports={calcGeoJSON:function(o,l){var c,h,v=o[0].trace,p=l[v.geo],T=p._subplot,_=v._length;if(Array.isArray(v.locations)){var g=v.locationmode,w="geojson-id"===g?M.extractTraceFeature(o):f(v,T.topojson);for(c=0;c<_;c++){h=o[c];var x="geojson-id"===g?h.fOut:M.locationToFeature(g,h.loc,w);h.lonlat=x?x.properties.ct:[u,u]}}var b,A,m={padded:!0};if("geojson"===p.fitbounds&&"geojson-id"===v.locationmode){var C=M.computeBbox(M.getTraceGeojson(v));b=[C[0],C[2]],A=[C[1],C[3]]}else{for(b=new Array(_),A=new Array(_),c=0;c<_;c++)b[c]=(h=o[c]).lonlat[0],A[c]=h.lonlat[1];m.ppad=i(v,_)}v._extremes.lon=y(p.lonaxis._ax,b,m),v._extremes.lat=y(p.lataxis._ax,A,m)},plot:function(o,l,c){var h=l.layers.frontplot.select(".scatterlayer"),v=E.makeTraceGroups(h,c,"trace scattergeo");function p(T,_){T.lonlat[0]===u&&I.select(_).remove()}v.selectAll("*").remove(),v.each(function(T){var _=I.select(this),g=T[0].trace;if(s.hasLines(g)||"none"!==g.fill){var w=S.calcTraceToLineCoords(T),x="none"!==g.fill?S.makePolygon(w):S.makeLine(w);_.selectAll("path.js-line").data([{geojson:x,trace:g}]).enter().append("path").classed("js-line",!0).style("stroke-miterlimit",2)}s.hasMarkers(g)&&_.selectAll("path.point").data(E.identity).enter().append("path").classed("point",!0).each(function(b){p(b,this)}),s.hasText(g)&&_.selectAll("g").data(E.identity).enter().append("g").append("text").each(function(b){p(b,this)}),a(o,T)})}}},20548:function(oe,j,r){"use strict";var I=r(34098),E=r(50606).BADNUM;oe.exports=function(f,S){var M,y,u,i,s,a=f.cd,o=f.xaxis,l=f.yaxis,c=[],h=a[0].trace;if(!I.hasMarkers(h)&&!I.hasText(h))return[];if(!1===S)for(s=0;s<a.length;s++)a[s].selected=0;else for(s=0;s<a.length;s++)(y=(M=a[s]).lonlat)[0]!==E&&(u=o.c2p(y),i=l.c2p(y),S.contains([u,i],null,s,f)?(c.push({pointNumber:s,lon:y[0],lat:y[1]}),M.selected=1):M.selected=0);return c}},33095:function(oe,j,r){"use strict";var I=r(39898),E=r(91424),f=r(7901),S=r(16296),M=S.stylePoints,y=S.styleText;oe.exports=function(u,i){var s,a,o,l;i&&(s=u,o=(a=i)[0].trace,(l=a[0].node3).style("opacity",a[0].trace.opacity),M(l,o,s),y(l,o,s),l.selectAll("path.js-line").style("fill","none").each(function(c){var h=I.select(this),v=c.trace,p=v.line||{};h.call(f.stroke,p.color).call(E.dashLine,p.dash||"",p.width||0),"none"!==v.fill&&h.call(f.fill,v.fillcolor)}))}},42341:function(oe,j,r){"use strict";var I=r(9012),E=r(82196),f=r(12663).axisHoverFormat,S=r(50693),M=r(78607),y=r(1426).extendFlat,u=r(30962).overrideAll,i=r(78232).DASHES,s=E.line,a=E.marker,o=a.line,l=oe.exports=u({x:E.x,x0:E.x0,dx:E.dx,y:E.y,y0:E.y0,dy:E.dy,xperiod:E.xperiod,yperiod:E.yperiod,xperiod0:E.xperiod0,yperiod0:E.yperiod0,xperiodalignment:E.xperiodalignment,yperiodalignment:E.yperiodalignment,xhoverformat:f("x"),yhoverformat:f("y"),text:E.text,hovertext:E.hovertext,textposition:E.textposition,textfont:E.textfont,mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"]},line:{color:s.color,width:s.width,shape:{valType:"enumerated",values:["linear","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},dash:{valType:"enumerated",values:M(i),dflt:"solid"}},marker:y({},S("marker"),{symbol:a.symbol,angle:a.angle,size:a.size,sizeref:a.sizeref,sizemin:a.sizemin,sizemode:a.sizemode,opacity:a.opacity,colorbar:a.colorbar,line:y({},S("marker.line"),{width:o.width})}),connectgaps:E.connectgaps,fill:y({},E.fill,{dflt:"none"}),fillcolor:E.fillcolor,selected:{marker:E.selected.marker,textfont:E.selected.textfont},unselected:{marker:E.unselected.marker,textfont:E.unselected.textfont},opacity:I.opacity},"calc","nested");l.x.editType=l.y.editType=l.x0.editType=l.y0.editType="calc+clearAxisTypes",l.hovertemplate=E.hovertemplate,l.texttemplate=E.texttemplate},72156:function(oe,j,r){"use strict";var I=r(20794);oe.exports={moduleType:"trace",name:"scattergl",basePlotModule:r(93612),categories:["gl","regl","cartesian","symbols","errorBarsOK","showLegend","scatter-like"],attributes:r(42341),supplyDefaults:r(47148),crossTraceDefaults:r(34936),colorbar:r(4898),formatLabels:r(68101),calc:r(45032),hoverPoints:I.hoverPoints,selectPoints:r(58147),meta:{}}},45032:function(oe,j,r){"use strict";var I=r(88294),E=r(71828),f=r(41675),S=r(71739).findExtremes,M=r(42973),y=r(47761),u=y.calcMarkerSize,i=y.calcAxisExpansion,s=y.setFirstScatter,a=r(36922),o=r(19635),l=r(38967),c=r(50606).BADNUM,h=r(78232).TOO_MANY_POINTS;function v(p,T,_){var g=p._extremes[T._id],w=S(T,_._bnds,{padded:!0});g.min=g.min.concat(w.min),g.max=g.max.concat(w.max)}oe.exports=function(p,T){var _,g=p._fullLayout,w=T._xA=f.getFromId(p,T.xaxis,"x"),x=T._yA=f.getFromId(p,T.yaxis,"y"),b=g._plots[T.xaxis+T.yaxis],A=T._length,m=A>=h,C=2*A,k={},P=w.makeCalcdata(T,"x"),R=x.makeCalcdata(T,"y"),L=M(T,w,"x",P),N=M(T,x,"y",R),B=L.vals,J=N.vals;T._x=B,T._y=J,T.xperiodalignment&&(T._origX=P,T._xStarts=L.starts,T._xEnds=L.ends),T.yperiodalignment&&(T._origY=R,T._yStarts=N.starts,T._yEnds=N.ends);var z=new Array(C),Y=new Array(A);for(_=0;_<A;_++)z[2*_]=B[_]===c?NaN:B[_],z[2*_+1]=J[_]===c?NaN:J[_],Y[_]=_;if("log"===w.type)for(_=0;_<C;_+=2)z[_]=w.c2l(z[_]);if("log"===x.type)for(_=1;_<C;_+=2)z[_]=x.c2l(z[_]);m&&"log"!==w.type&&"log"!==x.type?k.tree=I(z):k.ids=Y,a(p,T);var q,U=function(X,se,re,ee,K,ne){var ae=o.style(X,re);if(ae.marker&&(ae.marker.positions=ee),ae.line&&ee.length>1&&E.extendFlat(ae.line,o.linePositions(X,re,ee)),ae.errorX||ae.errorY){var ue=o.errorBarPositions(X,re,ee,K,ne);ae.errorX&&E.extendFlat(ae.errorX,ue.x),ae.errorY&&E.extendFlat(ae.errorY,ue.y)}return ae.text&&(E.extendFlat(ae.text,{positions:ee},o.textPosition(X,re,ae.text,ae.marker)),E.extendFlat(ae.textSel,{positions:ee},o.textPosition(X,re,ae.text,ae.markerSel)),E.extendFlat(ae.textUnsel,{positions:ee},o.textPosition(X,re,ae.text,ae.markerUnsel))),ae}(p,0,T,z,B,J),Z=l(p,b);return s(g,T),m?U.marker&&(q=U.marker.sizeAvg||Math.max(U.marker.size,3)):q=u(T,A),i(p,T,w,x,B,J,q),U.errorX&&v(T,w,U.errorX),U.errorY&&v(T,x,U.errorY),U.fill&&!Z.fill2d&&(Z.fill2d=!0),U.marker&&!Z.scatter2d&&(Z.scatter2d=!0),U.line&&!Z.line2d&&(Z.line2d=!0),!U.errorX&&!U.errorY||Z.error2d||(Z.error2d=!0),U.text&&!Z.glText&&(Z.glText=!0),U.marker&&(U.marker.snap=A),Z.lineOptions.push(U.line),Z.errorXOptions.push(U.errorX),Z.errorYOptions.push(U.errorY),Z.fillOptions.push(U.fill),Z.markerOptions.push(U.marker),Z.markerSelectedOptions.push(U.markerSel),Z.markerUnselectedOptions.push(U.markerUnsel),Z.textOptions.push(U.text),Z.textSelectedOptions.push(U.textSel),Z.textUnselectedOptions.push(U.textUnsel),Z.selectBatch.push([]),Z.unselectBatch.push([]),k._scene=Z,k.index=Z.count,k.x=B,k.y=J,k.positions=z,Z.count++,[{x:!1,y:!1,t:k,trace:T}]}},78232:function(oe){"use strict";oe.exports={TOO_MANY_POINTS:1e5,SYMBOL_SDF_SIZE:200,SYMBOL_SIZE:20,SYMBOL_STROKE:1,DOT_RE:/-dot/,OPEN_RE:/-open/,DASHES:{solid:[1],dot:[1,1],dash:[4,1],longdash:[8,1],dashdot:[4,1,1,1],longdashdot:[8,1,1,1]}}},19635:function(oe,j,r){"use strict";var I=r(92770),E=r(82019),f=r(25075),S=r(73972),M=r(71828),y=r(91424),u=r(41675),i=r(81697).formatColor,s=r(34098),a=r(39984),o=r(68645),l=r(78232),c=r(37822).DESELECTDIM,h={start:1,left:1,end:-1,right:-1,middle:0,center:0,bottom:1,top:-1},v=r(23469).appendArrayPointValue;function p(P,R){var L,N=P._fullLayout,B=R._length,J=R.textfont,z=R.textposition,Y=Array.isArray(z)?z:[z],q=J.color,U=J.size,Z=J.family,X={},se=P._context.plotGlPixelRatio,re=R.texttemplate;if(re){X.text=[];var ee=N._d3locale,K=Array.isArray(re),ne=K?Math.min(re.length,B):B,ae=K?function(Te){return re[Te]}:function(){return re};for(L=0;L<ne;L++){var ue={i:L},he=R._module.formatLabels(ue,R,N),pe={};v(pe,R,L);var ge=R._meta||{};X.text.push(M.texttemplateString(ae(L),he,ee,pe,ue,ge))}}else X.text=Array.isArray(R.text)&&R.text.length<B?R.text.slice():R.text;if(Array.isArray(X.text))for(L=X.text.length;L<B;L++)X.text[L]="";for(X.opacity=R.opacity,X.font={},X.align=[],X.baseline=[],L=0;L<Y.length;L++){var xe=Y[L].split(/\s+/);switch(xe[1]){case"left":X.align.push("right");break;case"right":X.align.push("left");break;default:X.align.push(xe[1])}switch(xe[0]){case"top":X.baseline.push("bottom");break;case"bottom":X.baseline.push("top");break;default:X.baseline.push(xe[0])}}if(Array.isArray(q))for(X.color=new Array(B),L=0;L<B;L++)X.color[L]=q[L];else X.color=q;if(M.isArrayOrTypedArray(U)||Array.isArray(Z))for(X.font=new Array(B),L=0;L<B;L++){var Se=X.font[L]={};Se.size=(M.isTypedArray(U)?U[L]:Array.isArray(U)?I(U[L])?U[L]:0:U)*se,Se.family=Array.isArray(Z)?Z[L]:Z}else X.font={size:U*se,family:Z};return X}function T(P,R){var L,N,B=R._length,J=R.marker,z={},Y=M.isArrayOrTypedArray(J.symbol),q=M.isArrayOrTypedArray(J.angle),U=M.isArrayOrTypedArray(J.color),Z=M.isArrayOrTypedArray(J.line.color),X=M.isArrayOrTypedArray(J.opacity),se=M.isArrayOrTypedArray(J.size),re=M.isArrayOrTypedArray(J.line.width);if(Y||(N=o.isOpenSymbol(J.symbol)),Y||U||Z||X||q){z.symbols=new Array(B),z.angles=new Array(B),z.colors=new Array(B),z.borderColors=new Array(B);var ee=J.symbol,K=J.angle,ne=i(J,J.opacity,B),ae=i(J.line,J.opacity,B);if(!Array.isArray(ae[0])){var ue=ae;for(ae=Array(B),L=0;L<B;L++)ae[L]=ue}if(!Array.isArray(ne[0])){var he=ne;for(ne=Array(B),L=0;L<B;L++)ne[L]=he}if(!Array.isArray(ee)){var pe=ee;for(ee=Array(B),L=0;L<B;L++)ee[L]=pe}if(!Array.isArray(K)){var ge=K;for(K=Array(B),L=0;L<B;L++)K[L]=ge}for(z.symbols=ee,z.angles=K,z.colors=ne,z.borderColors=ae,L=0;L<B;L++)Y&&(N=o.isOpenSymbol(J.symbol[L])),N&&(ae[L]=ne[L].slice(),ne[L]=ne[L].slice(),ne[L][3]=0);for(z.opacity=R.opacity,z.markers=new Array(B),L=0;L<B;L++)z.markers[L]=k({mx:z.symbols[L],ma:z.angles[L]},R)}else N?(z.color=f(J.color,"uint8"),z.color[3]=0,z.borderColor=f(J.color,"uint8")):(z.color=f(J.color,"uint8"),z.borderColor=f(J.line.color,"uint8")),z.opacity=R.opacity*J.opacity,z.marker=k({mx:J.symbol,ma:J.angle},R);var xe,Se=a(R,1);if(se||re){var Te,ye=z.sizes=new Array(B),we=z.borderSizes=new Array(B),ze=0;if(se){for(L=0;L<B;L++)ye[L]=Se(J.size[L]),ze+=ye[L];Te=ze/B}else for(xe=Se(J.size),L=0;L<B;L++)ye[L]=xe;if(re)for(L=0;L<B;L++)we[L]=J.line.width[L];else for(xe=J.line.width,L=0;L<B;L++)we[L]=xe;z.sizeAvg=Te}else z.size=Se(J&&J.size||10),z.borderSizes=Se(J.line.width);return z}function _(P,R,L){var B={};return L&&(L.marker&&L.marker.symbol?B=T(0,M.extendFlat({},R.marker,L.marker)):L.marker&&(L.marker.size&&(B.size=L.marker.size),L.marker.color&&(B.colors=L.marker.color),void 0!==L.marker.opacity&&(B.opacity=L.marker.opacity))),B}function g(P,R,L){var N={};if(!L)return N;if(L.textfont){var B={opacity:1,text:R.text,texttemplate:R.texttemplate,textposition:R.textposition,textfont:M.extendFlat({},R.textfont)};L.textfont&&M.extendFlat(B.textfont,L.textfont),N=p(P,B)}return N}function w(P,R,L){var N={capSize:2*R.width*L,lineWidth:R.thickness*L,color:R.color};return R.copy_ystyle&&(N=P.error_y),N}var x=l.SYMBOL_SDF_SIZE,b=l.SYMBOL_SIZE,A=l.SYMBOL_STROKE,m={},C=y.symbolFuncs[0](.05*b);function k(P,R){var L,N,B=P.mx;if("circle"===B)return null;var J=y.symbolNumber(B),z=y.symbolFuncs[J%100],Y=!!y.symbolNoDot[J%100],q=!!y.symbolNoFill[J%100],U=o.isDotSymbol(B);if(P.ma&&(B+="_"+P.ma),m[B])return m[B];var Z=y.getMarkerAngle(P,R);return L=U&&!Y?z(1.1*b,Z)+C:z(b,Z),N=E(L,{w:x,h:x,viewBox:[-b,-b,b,b],stroke:q?A:-A}),m[B]=N,N||null}oe.exports={style:function(P,R){var L,N={marker:void 0,markerSel:void 0,markerUnsel:void 0,line:void 0,fill:void 0,errorX:void 0,errorY:void 0,text:void 0,textSel:void 0,textUnsel:void 0},B=P._context.plotGlPixelRatio;if(!0!==R.visible)return N;if(s.hasText(R)&&(N.text=p(P,R),N.textSel=g(P,R,R.selected),N.textUnsel=g(P,R,R.unselected)),s.hasMarkers(R)&&(N.marker=T(0,R),N.markerSel=_(0,R,R.selected),N.markerUnsel=_(0,R,R.unselected),!R.unselected&&M.isArrayOrTypedArray(R.marker.opacity))){var J=R.marker.opacity;for(N.markerUnsel.opacity=new Array(J.length),L=0;L<J.length;L++)N.markerUnsel.opacity[L]=c*J[L]}if(s.hasLines(R)){N.line={overlay:!0,thickness:R.line.width*B,color:R.line.color,opacity:R.opacity};var z=(l.DASHES[R.line.dash]||[1]).slice();for(L=0;L<z.length;++L)z[L]*=R.line.width*B;N.line.dashes=z}return R.error_x&&R.error_x.visible&&(N.errorX=w(R,R.error_x,B)),R.error_y&&R.error_y.visible&&(N.errorY=w(R,R.error_y,B)),R.fill&&"none"!==R.fill&&(N.fill={closed:!0,fill:R.fillcolor,thickness:0}),N},markerStyle:T,markerSelection:_,linePositions:function(P,R,L){var N,B,J=L.length,z=J/2;if(s.hasLines(R)&&z)if("hv"===R.line.shape){for(N=[],B=0;B<z-1;B++)isNaN(L[2*B])||isNaN(L[2*B+1])?N.push(NaN,NaN,NaN,NaN):(N.push(L[2*B],L[2*B+1]),isNaN(L[2*B+2])||isNaN(L[2*B+3])?N.push(NaN,NaN):N.push(L[2*B+2],L[2*B+1]));N.push(L[J-2],L[J-1])}else if("hvh"===R.line.shape){for(N=[],B=0;B<z-1;B++)if(isNaN(L[2*B])||isNaN(L[2*B+1])||isNaN(L[2*B+2])||isNaN(L[2*B+3]))isNaN(L[2*B])||isNaN(L[2*B+1])?N.push(NaN,NaN):N.push(L[2*B],L[2*B+1]),N.push(NaN,NaN);else{var Y=(L[2*B]+L[2*B+2])/2;N.push(L[2*B],L[2*B+1],Y,L[2*B+1],Y,L[2*B+3])}N.push(L[J-2],L[J-1])}else if("vhv"===R.line.shape){for(N=[],B=0;B<z-1;B++)if(isNaN(L[2*B])||isNaN(L[2*B+1])||isNaN(L[2*B+2])||isNaN(L[2*B+3]))isNaN(L[2*B])||isNaN(L[2*B+1])?N.push(NaN,NaN):N.push(L[2*B],L[2*B+1]),N.push(NaN,NaN);else{var q=(L[2*B+1]+L[2*B+3])/2;N.push(L[2*B],L[2*B+1],L[2*B],q,L[2*B+2],q)}N.push(L[J-2],L[J-1])}else if("vh"===R.line.shape){for(N=[],B=0;B<z-1;B++)isNaN(L[2*B])||isNaN(L[2*B+1])?N.push(NaN,NaN,NaN,NaN):(N.push(L[2*B],L[2*B+1]),isNaN(L[2*B+2])||isNaN(L[2*B+3])?N.push(NaN,NaN):N.push(L[2*B],L[2*B+3]));N.push(L[J-2],L[J-1])}else N=L;var U=!1;for(B=0;B<N.length;B++)if(isNaN(N[B])){U=!0;break}var Z=U||N.length>l.TOO_MANY_POINTS||s.hasMarkers(R)?"rect":"round";if(U&&R.connectgaps){var X=N[0],se=N[1];for(B=0;B<N.length;B+=2)isNaN(N[B])||isNaN(N[B+1])?(N[B]=X,N[B+1]=se):(X=N[B],se=N[B+1])}return{join:Z,positions:N}},errorBarPositions:function(P,R,L,N,B){var J=S.getComponentMethod("errorbars","makeComputeError"),z=u.getFromId(P,R.xaxis,"x"),Y=u.getFromId(P,R.yaxis,"y"),q=L.length/2,U={};function Z(X,se){var re=se._id.charAt(0),ee=R["error_"+re];if(ee&&ee.visible&&("linear"===se.type||"log"===se.type)){for(var K=J(ee),ne={x:0,y:1}[re],ae={x:[0,1,2,3],y:[2,3,0,1]}[re],ue=new Float64Array(4*q),he=1/0,pe=-1/0,ge=0,xe=0;ge<q;ge++,xe+=4){var Se=X[ge];if(I(Se)){var Te=L[2*ge+ne],ye=K(Se,ge),we=ye[0],ze=ye[1];if(I(we)&&I(ze)){var Ee=Se+ze;ue[xe+ae[0]]=Te-se.c2l(Se-we),ue[xe+ae[1]]=se.c2l(Ee)-Te,ue[xe+ae[2]]=0,ue[xe+ae[3]]=0,he=Math.min(he,Se-we),pe=Math.max(pe,Se+ze)}}}U[re]={positions:L,errors:ue,_bnds:[he,pe]}}}return Z(N,z),Z(B,Y),U},textPosition:function(P,R,L,N){var B,J=R._length,z={};if(s.hasMarkers(R)){var Y=L.font,q=L.align,U=L.baseline;for(z.offset=new Array(J),B=0;B<J;B++){var Z=N.sizes?N.sizes[B]:N.size,X=Array.isArray(Y)?Y[B].size:Y.size,se=Array.isArray(q)?q.length>1?q[B]:q[0]:q,re=Array.isArray(U)?U.length>1?U[B]:U[0]:U,K=h[re],ne=Z?Z/.8+1:0;z.offset[B]=[h[se]*ne/X,(-K*ne-.5*K)/X]}}return z}}},47148:function(oe,j,r){"use strict";var I=r(71828),E=r(73972),f=r(68645),S=r(42341),M=r(47581),y=r(34098),u=r(67513),i=r(73927),s=r(49508),a=r(11058),o=r(28908),l=r(82410);oe.exports=function(c,h,v,p){function T(C,k){return I.coerce(c,h,S,C,k)}var _=!!c.marker&&f.isOpenSymbol(c.marker.symbol),g=y.isBubble(c),w=u(c,h,p,T);if(w){i(c,h,p,T),T("xhoverformat"),T("yhoverformat");var x=w<M.PTS_LINESONLY?"lines+markers":"lines";T("text"),T("hovertext"),T("hovertemplate"),T("mode",x),y.hasLines(h)&&(T("connectgaps"),a(c,h,v,p,T),T("line.shape")),y.hasMarkers(h)&&(s(c,h,v,p,T,{noAngleRef:!0,noStandOff:!0}),T("marker.line.width",_||g?1:0)),y.hasText(h)&&(T("texttemplate"),l(c,h,p,T));var b=(h.line||{}).color,A=(h.marker||{}).color;T("fill"),"none"!==h.fill&&o(c,h,v,T);var m=E.getComponentMethod("errorbars","supplyDefaults");m(c,h,b||A||v,{axis:"y"}),m(c,h,b||A||v,{axis:"x",inherit:"y"}),I.coerceSelectionMarkerOpacity(h,T)}else h.visible=!1}},5345:function(oe,j,r){"use strict";var I=r(71828),E=r(7901),f=r(37822).DESELECTDIM;oe.exports={styleTextSelection:function(S){var M,y,u=S[0],i=u.trace,s=u.t,a=s._scene,o=s.index,l=a.selectBatch[o],c=a.unselectBatch[o],h=a.textOptions[o],v=a.textSelectedOptions[o]||{},p=a.textUnselectedOptions[o]||{},T=I.extendFlat({},h);if(l.length||c.length){var _=v.color,g=p.color,w=h.color,x=Array.isArray(w);for(T.color=new Array(i._length),M=0;M<l.length;M++)T.color[y=l[M]]=_||(x?w[y]:w);for(M=0;M<c.length;M++){y=c[M];var b=x?w[y]:w;T.color[y]=g||(_?b:E.addOpacity(b,f))}}a.glText[o].update(T)}}},68101:function(oe,j,r){"use strict";var I=r(8225);oe.exports=function(E,f,S){var M=E.i;return"x"in E||(E.x=f._x[M]),"y"in E||(E.y=f._y[M]),I(E,f,S)}},68645:function(oe,j,r){"use strict";var I=r(78232);j.isOpenSymbol=function(E){return"string"==typeof E?I.OPEN_RE.test(E):E%200>100},j.isDotSymbol=function(E){return"string"==typeof E?I.DOT_RE.test(E):E>200}},20794:function(oe,j,r){"use strict";var I=r(73972),E=r(71828),f=r(34603);function S(M,y,u,i){var s=M.xa,a=M.ya,o=M.distance,l=M.dxy,c=M.index,h={pointNumber:c,x:y[c],y:u[c]};h.tx=Array.isArray(i.text)?i.text[c]:i.text,h.htx=Array.isArray(i.hovertext)?i.hovertext[c]:i.hovertext,h.data=Array.isArray(i.customdata)?i.customdata[c]:i.customdata,h.tp=Array.isArray(i.textposition)?i.textposition[c]:i.textposition;var v=i.textfont;v&&(h.ts=E.isArrayOrTypedArray(v.size)?v.size[c]:v.size,h.tc=Array.isArray(v.color)?v.color[c]:v.color,h.tf=Array.isArray(v.family)?v.family[c]:v.family);var p=i.marker;p&&(h.ms=E.isArrayOrTypedArray(p.size)?p.size[c]:p.size,h.mo=E.isArrayOrTypedArray(p.opacity)?p.opacity[c]:p.opacity,h.mx=E.isArrayOrTypedArray(p.symbol)?p.symbol[c]:p.symbol,h.ma=E.isArrayOrTypedArray(p.angle)?p.angle[c]:p.angle,h.mc=E.isArrayOrTypedArray(p.color)?p.color[c]:p.color);var T=p&&p.line;T&&(h.mlc=Array.isArray(T.color)?T.color[c]:T.color,h.mlw=E.isArrayOrTypedArray(T.width)?T.width[c]:T.width);var _=p&&p.gradient;_&&"none"!==_.type&&(h.mgt=Array.isArray(_.type)?_.type[c]:_.type,h.mgc=Array.isArray(_.color)?_.color[c]:_.color);var g=s.c2p(h.x,!0),w=a.c2p(h.y,!0),x=h.mrc||1,b=i.hoverlabel;b&&(h.hbg=Array.isArray(b.bgcolor)?b.bgcolor[c]:b.bgcolor,h.hbc=Array.isArray(b.bordercolor)?b.bordercolor[c]:b.bordercolor,h.hts=E.isArrayOrTypedArray(b.font.size)?b.font.size[c]:b.font.size,h.htc=Array.isArray(b.font.color)?b.font.color[c]:b.font.color,h.htf=Array.isArray(b.font.family)?b.font.family[c]:b.font.family,h.hnl=E.isArrayOrTypedArray(b.namelength)?b.namelength[c]:b.namelength);var A=i.hoverinfo;A&&(h.hi=Array.isArray(A)?A[c]:A);var m=i.hovertemplate;m&&(h.ht=Array.isArray(m)?m[c]:m);var C={};C[M.index]=h;var k=i._origX,P=i._origY,R=E.extendFlat({},M,{color:f(i,h),x0:g-x,x1:g+x,xLabelVal:k?k[c]:h.x,y0:w-x,y1:w+x,yLabelVal:P?P[c]:h.y,cd:C,distance:o,spikeDistance:l,hovertemplate:h.ht});return h.htx?R.text=h.htx:h.tx?R.text=h.tx:i.text&&(R.text=i.text),E.fillText(h,i,R),I.getComponentMethod("errorbars","hoverInfo")(h,i,R),R}oe.exports={hoverPoints:function(M,y,u,i){var s,a,o,l,c,h,v,p,T,_,g=M.cd,w=g[0].t,x=g[0].trace,b=M.xa,A=M.ya,m=w.x,C=w.y,k=b.c2p(y),P=A.c2p(u),R=M.distance;if(w.tree){var L=b.p2c(k-R),N=b.p2c(k+R),B=A.p2c(P-R),J=A.p2c(P+R);s="x"===i?w.tree.range(Math.min(L,N),Math.min(A._rl[0],A._rl[1]),Math.max(L,N),Math.max(A._rl[0],A._rl[1])):w.tree.range(Math.min(L,N),Math.min(B,J),Math.max(L,N),Math.max(B,J))}else s=w.ids;var z=R;if("x"===i){var Y=!!x.xperiodalignment,q=!!x.yperiodalignment;for(h=0;h<s.length;h++){if(l=m[a=s[h]],v=Math.abs(b.c2p(l)-k),Y){var U=b.c2p(x._xStarts[a]),Z=b.c2p(x._xEnds[a]);v=k>=Math.min(U,Z)&&k<=Math.max(U,Z)?0:1/0}if(v<z){if(z=v,p=A.c2p(c=C[a])-P,q){var X=A.c2p(x._yStarts[a]),se=A.c2p(x._yEnds[a]);p=P>=Math.min(X,se)&&P<=Math.max(X,se)?0:1/0}_=Math.sqrt(v*v+p*p),o=s[h]}}}else for(h=s.length-1;h>-1;h--)l=m[a=s[h]],c=C[a],v=b.c2p(l)-k,p=A.c2p(c)-P,(T=Math.sqrt(v*v+p*p))<z&&(z=_=T,o=a);return M.index=o,M.distance=z,M.dxy=_,void 0===o?[M]:[S(M,m,C,x)]},calcHover:S}},68868:function(oe,j,r){"use strict";var I=r(72156);I.plot=r(26787),oe.exports=I},26787:function(oe,j,r){"use strict";var I=r(11870),E=r(46075),f=r(3593),S=r(42505),M=r(71828),y=r(64505).selectMode,u=r(79749),i=r(34098),s=r(68687),a=r(5345).styleTextSelection,o={};function l(c,h,v,p){var T=c._size,m=T.w*p,C=T.h*p;return[T.l*p+h.domain[0]*m,T.b*p+v.domain[0]*C,c.width*p-T.r*p-(1-h.domain[1])*m,c.height*p-T.t*p-(1-v.domain[1])*C]}(oe.exports=function(c,h,v){if(v.length){var p,T,_=c._fullLayout,g=h._scene,w=h.xaxis,x=h.yaxis;if(g)if(u(c,["ANGLE_instanced_arrays","OES_element_index_uint"],o)){var b=g.count,A=_._glcanvas.data()[0].regl;if(s(c,h,v),g.dirty){if(!0===g.error2d&&(g.error2d=f(A)),!0===g.line2d&&(g.line2d=E(A)),!0===g.scatter2d&&(g.scatter2d=I(A)),!0===g.fill2d&&(g.fill2d=E(A)),!0===g.glText)for(g.glText=new Array(b),p=0;p<b;p++)g.glText[p]=new S(A);if(g.glText){if(b>g.glText.length){var m=b-g.glText.length;for(p=0;p<m;p++)g.glText.push(new S(A))}else b<g.glText.length&&g.glText.splice(b,g.glText.length-b).forEach(function(ue){ue.destroy()});for(p=0;p<b;p++)g.glText[p].update(g.textOptions[p])}if(g.line2d&&(g.line2d.update(g.lineOptions),g.lineOptions=g.lineOptions.map(function(ue){if(ue&&ue.positions){for(var he=ue.positions,pe=0;pe<he.length&&(isNaN(he[pe])||isNaN(he[pe+1]));)pe+=2;for(var ge=he.length-2;ge>pe&&(isNaN(he[ge])||isNaN(he[ge+1]));)ge-=2;ue.positions=he.slice(pe,ge+2)}return ue}),g.line2d.update(g.lineOptions)),g.error2d){var k=(g.errorXOptions||[]).concat(g.errorYOptions||[]);g.error2d.update(k)}g.scatter2d&&g.scatter2d.update(g.markerOptions),g.fillOrder=M.repeat(null,b),g.fill2d&&(g.fillOptions=g.fillOptions.map(function(ue,he){var pe=v[he];if(ue&&pe&&pe[0]&&pe[0].trace){var ge,xe,Se=pe[0],Te=Se.trace,ye=Se.t,we=g.lineOptions[he],ze=[];Te._ownfill&&ze.push(he),Te._nexttrace&&ze.push(he+1),ze.length&&(g.fillOrder[he]=ze);var ke,Ee,me=[],de=we&&we.positions||ye.positions;if("tozeroy"===Te.fill){for(ke=0;ke<de.length&&isNaN(de[ke+1]);)ke+=2;for(Ee=de.length-2;Ee>ke&&isNaN(de[Ee+1]);)Ee-=2;0!==de[ke+1]&&(me=[de[ke],0]),me=me.concat(de.slice(ke,Ee+2)),0!==de[Ee+1]&&(me=me.concat([de[Ee],0]))}else if("tozerox"===Te.fill){for(ke=0;ke<de.length&&isNaN(de[ke]);)ke+=2;for(Ee=de.length-2;Ee>ke&&isNaN(de[Ee]);)Ee-=2;0!==de[ke]&&(me=[0,de[ke+1]]),me=me.concat(de.slice(ke,Ee+2)),0!==de[Ee]&&(me=me.concat([0,de[Ee+1]]))}else if("toself"===Te.fill||"tonext"===Te.fill){for(me=[],ge=0,ue.splitNull=!0,xe=0;xe<de.length;xe+=2)(isNaN(de[xe])||isNaN(de[xe+1]))&&((me=me.concat(de.slice(ge,xe))).push(de[ge],de[ge+1]),me.push(null,null),ge=xe+2);me=me.concat(de.slice(ge)),ge&&me.push(de[ge],de[ge+1])}else{var ce=Te._nexttrace;if(ce){var Ae=g.lineOptions[he+1];if(Ae){var Ne=Ae.positions;if("tonexty"===Te.fill){for(me=de.slice(),he=Math.floor(Ne.length/2);he--;){var De=Ne[2*he],Ue=Ne[2*he+1];isNaN(De)||isNaN(Ue)||me.push(De,Ue)}ue.fill=ce.fillcolor}}}}if(Te._prevtrace&&"tonext"===Te._prevtrace.fill){var Ye=g.lineOptions[he-1].positions,_e=me.length/2,Pe=[ge=_e];for(xe=0;xe<Ye.length;xe+=2)(isNaN(Ye[xe])||isNaN(Ye[xe+1]))&&(Pe.push(xe/2+_e+1),ge=xe+2);me=me.concat(Ye),ue.hole=Pe}return ue.fillmode=Te.fill,ue.opacity=Te.opacity,ue.positions=me,ue}}),g.fill2d.update(g.fillOptions))}var R=y(_.dragmode),L=_.clickmode.indexOf("select")>-1;for(p=0;p<b;p++){var N=v[p][0],B=N.trace,J=N.t,z=J.index,Y=B._length,q=J.x,U=J.y;if(B.selectedpoints||R||L){if(R||(R=!0),B.selectedpoints){var Z=g.selectBatch[z]=M.selIndices2selPoints(B),X={};for(T=0;T<Z.length;T++)X[Z[T]]=1;var se=[];for(T=0;T<Y;T++)X[T]||se.push(T);g.unselectBatch[z]=se}var re=J.xpx=new Array(Y),ee=J.ypx=new Array(Y);for(T=0;T<Y;T++)re[T]=w.c2p(q[T]),ee[T]=x.c2p(U[T])}else J.xpx=J.ypx=null}if(R){if(g.select2d||(g.select2d=I(_._glcanvas.data()[1].regl)),g.scatter2d){var K=new Array(b);for(p=0;p<b;p++)K[p]=g.selectBatch[p].length||g.unselectBatch[p].length?g.markerUnselectedOptions[p]:{};g.scatter2d.update(K)}g.select2d&&(g.select2d.update(g.markerOptions),g.select2d.update(g.markerSelectedOptions)),g.glText&&v.forEach(function(ue){i.hasText(((ue||[])[0]||{}).trace||{})&&a(ue)})}else g.scatter2d&&g.scatter2d.update(g.markerOptions);var ne={viewport:l(_,w,x,c._context.plotGlPixelRatio),range:[(w._rl||w.range)[0],(x._rl||x.range)[0],(w._rl||w.range)[1],(x._rl||x.range)[1]]},ae=M.repeat(ne,g.count);g.fill2d&&g.fill2d.update(ae),g.line2d&&g.line2d.update(ae),g.error2d&&g.error2d.update(ae.concat(ae)),g.scatter2d&&g.scatter2d.update(ae),g.select2d&&g.select2d.update(ae),g.glText&&g.glText.forEach(function(ue){ue.update(ne)})}else g.init()}}).reglPrecompiled=o},38967:function(oe,j,r){"use strict";var I=r(71828);oe.exports=function(E,f){var S=f._scene,M={count:0,dirty:!0,lineOptions:[],fillOptions:[],markerOptions:[],markerSelectedOptions:[],markerUnselectedOptions:[],errorXOptions:[],errorYOptions:[],textOptions:[],textSelectedOptions:[],textUnselectedOptions:[],selectBatch:[],unselectBatch:[]},y={fill2d:!1,scatter2d:!1,error2d:!1,line2d:!1,glText:!1,select2d:!1};return f._scene||((S=f._scene={}).init=function(){I.extendFlat(S,y,M)},S.init(),S.update=function(u){var i=I.repeat(u,S.count);if(S.fill2d&&S.fill2d.update(i),S.scatter2d&&S.scatter2d.update(i),S.line2d&&S.line2d.update(i),S.error2d&&S.error2d.update(i.concat(i)),S.select2d&&S.select2d.update(i),S.glText)for(var s=0;s<S.count;s++)S.glText[s].update(u)},S.draw=function(){for(var u=S.count,i=S.fill2d,s=S.error2d,a=S.line2d,o=S.scatter2d,l=S.glText,c=S.select2d,h=S.selectBatch,v=S.unselectBatch,p=0;p<u;p++){if(i&&S.fillOrder[p]&&i.draw(S.fillOrder[p]),a&&S.lineOptions[p]&&a.draw(p),s&&(S.errorXOptions[p]&&s.draw(p),S.errorYOptions[p]&&s.draw(p+u)),o&&S.markerOptions[p])if(v[p].length){var T=I.repeat([],S.count);T[p]=v[p],o.draw(T)}else h[p].length||o.draw(p);l[p]&&S.textOptions[p]&&l[p].render()}c&&c.draw(h),S.dirty=!1},S.destroy=function(){S.fill2d&&S.fill2d.destroy&&S.fill2d.destroy(),S.scatter2d&&S.scatter2d.destroy&&S.scatter2d.destroy(),S.error2d&&S.error2d.destroy&&S.error2d.destroy(),S.line2d&&S.line2d.destroy&&S.line2d.destroy(),S.select2d&&S.select2d.destroy&&S.select2d.destroy(),S.glText&&S.glText.forEach(function(u){u.destroy&&u.destroy()}),S.lineOptions=null,S.fillOptions=null,S.markerOptions=null,S.markerSelectedOptions=null,S.markerUnselectedOptions=null,S.errorXOptions=null,S.errorYOptions=null,S.textOptions=null,S.textSelectedOptions=null,S.textUnselectedOptions=null,S.selectBatch=null,S.unselectBatch=null,f._scene=null}),S.dirty||I.extendFlat(S,M),S}},58147:function(oe,j,r){"use strict";var I=r(34098),E=r(5345).styleTextSelection;oe.exports=function(f,S){var M=f.cd,y=f.xaxis,u=f.yaxis,i=[],s=M[0].trace,a=M[0].t,o=s._length,l=a.x,c=a.y,h=a._scene,v=a.index;if(!h)return i;var p=I.hasText(s),T=I.hasMarkers(s);if(!0!==s.visible||!T&&!p)return i;var g=[],w=[];if(!1!==S&&!S.degenerate)for(var x=0;x<o;x++)S.contains([a.xpx[x],a.ypx[x]],!1,x,f)?(g.push(x),i.push({pointNumber:x,x:y.c2d(l[x]),y:u.c2d(c[x])})):w.push(x);if(T){var b=h.scatter2d;if(g.length||w.length){if(!h.selectBatch[v].length&&!h.unselectBatch[v].length){var A=new Array(h.count);A[v]=h.markerUnselectedOptions[v],b.update.apply(b,A)}}else{var m=new Array(h.count);m[v]=h.markerOptions[v],b.update.apply(b,m)}}return h.selectBatch[v]=g,h.unselectBatch[v]=w,p&&E(M),i}},99181:function(oe,j,r){"use strict";var I=r(5386).fF,E=r(5386).si,f=r(19316),S=r(82196),M=r(23585),y=r(9012),u=r(50693),i=r(1426).extendFlat,s=r(30962).overrideAll,a=r(23585),o=f.line,l=f.marker;oe.exports=s({lon:f.lon,lat:f.lat,cluster:{enabled:{valType:"boolean"},maxzoom:i({},a.layers.maxzoom,{}),step:{valType:"number",arrayOk:!0,dflt:-1,min:-1},size:{valType:"number",arrayOk:!0,dflt:20,min:0},color:{valType:"color",arrayOk:!0},opacity:i({},l.opacity,{dflt:1})},mode:i({},S.mode,{dflt:"markers"}),text:i({},S.text,{}),texttemplate:E({editType:"plot"},{keys:["lat","lon","text"]}),hovertext:i({},S.hovertext,{}),line:{color:o.color,width:o.width},connectgaps:S.connectgaps,marker:i({symbol:{valType:"string",dflt:"circle",arrayOk:!0},angle:{valType:"number",dflt:"auto",arrayOk:!0},allowoverlap:{valType:"boolean",dflt:!1},opacity:l.opacity,size:l.size,sizeref:l.sizeref,sizemin:l.sizemin,sizemode:l.sizemode},u("marker")),fill:f.fill,fillcolor:S.fillcolor,textfont:M.layers.symbol.textfont,textposition:M.layers.symbol.textposition,below:{valType:"string"},selected:{marker:S.selected.marker},unselected:{marker:S.unselected.marker},hoverinfo:i({},y.hoverinfo,{flags:["lon","lat","text","name"]}),hovertemplate:I()},"calc","nested")},15790:function(oe,j,r){"use strict";var I=r(92770),E=r(71828),f=r(50606).BADNUM,S=r(18214),M=r(21081),y=r(91424),u=r(39984),i=r(34098),s=r(13056),a=r(23469).appendArrayPointValue,o=r(63893).NEWLINES,l=r(63893).BR_TAG_ALL;function c(_){return{type:_,geojson:S.makeBlank(),layout:{visibility:"none"},filter:null,paint:{}}}function h(_,g){return E.isArrayOrTypedArray(_)?g?function(w){return I(_[w])?+_[w]:0}:function(w){return _[w]}:_?function(){return _}:v}function v(){return""}function p(_){return _[0]===f}function T(_,g){var w;if(E.isArrayOrTypedArray(_)&&E.isArrayOrTypedArray(g)){w=["step",["get","point_count"],_[0]];for(var x=1;x<_.length;x++)w.push(g[x-1],_[x])}else w=_;return w}oe.exports=function(_,g){var w,x=g[0].trace,b=!0===x.visible&&0!==x._length,A="none"!==x.fill,m=i.hasLines(x),C=i.hasMarkers(x),k=i.hasText(x),P=C&&"circle"===x.marker.symbol,R=C&&"circle"!==x.marker.symbol,L=x.cluster&&x.cluster.enabled,N=c("fill"),B=c("line"),J=c("circle"),z=c("symbol"),Y={fill:N,line:B,circle:J,symbol:z};if(!b)return Y;if((A||m)&&(w=S.calcTraceToLineCoords(g)),A&&(N.geojson=S.makePolygon(w),N.layout.visibility="visible",E.extendFlat(N.paint,{"fill-color":x.fillcolor})),m&&(B.geojson=S.makeLine(w),B.layout.visibility="visible",E.extendFlat(B.paint,{"line-width":x.line.width,"line-color":x.line.color,"line-opacity":x.opacity})),P){var q=function(X){var se,re,ee,K,ne=X[0].trace,ae=ne.marker,ue=ne.selectedpoints,he=E.isArrayOrTypedArray(ae.color),pe=E.isArrayOrTypedArray(ae.size),ge=E.isArrayOrTypedArray(ae.opacity);function xe(me){return ne.opacity*me}he&&(re=M.hasColorscale(ne,"marker")?M.makeColorScaleFuncFromTrace(ae):E.identity),pe&&(ee=u(ne)),ge&&(K=function(me){return xe(I(me)?+E.constrain(me,0,1):0)});var Se,Te,ye=[];for(se=0;se<X.length;se++){var we=X[se],ze=we.lonlat;if(!p(ze)){var ke={};re&&(ke.mcc=we.mcc=re(we.mc)),ee&&(ke.mrc=we.mrc=ee(we.ms)),K&&(ke.mo=K(we.mo)),ue&&(ke.selected=we.selected||0),ye.push({type:"Feature",id:se+1,geometry:{type:"Point",coordinates:ze},properties:ke})}}if(ue)for(Se=y.makeSelectedPointStyleFns(ne),se=0;se<ye.length;se++){var Ee=ye[se].properties;Se.selectedOpacityFn&&(Ee.mo=xe(Se.selectedOpacityFn(Ee))),Se.selectedColorFn&&(Ee.mcc=Se.selectedColorFn(Ee)),Se.selectedSizeFn&&(Ee.mrc=Se.selectedSizeFn(Ee))}return{geojson:{type:"FeatureCollection",features:ye},mcc:he||Se&&Se.selectedColorFn?{type:"identity",property:"mcc"}:ae.color,mrc:pe||Se&&Se.selectedSizeFn?{type:"identity",property:"mrc"}:(Te=ae.size,Te/2),mo:ge||Se&&Se.selectedOpacityFn?{type:"identity",property:"mo"}:xe(ae.opacity)}}(g);J.geojson=q.geojson,J.layout.visibility="visible",L&&(J.filter=["!",["has","point_count"]],Y.cluster={type:"circle",filter:["has","point_count"],layout:{visibility:"visible"},paint:{"circle-color":T(x.cluster.color,x.cluster.step),"circle-radius":T(x.cluster.size,x.cluster.step),"circle-opacity":T(x.cluster.opacity,x.cluster.step)}},Y.clusterCount={type:"symbol",filter:["has","point_count"],paint:{},layout:{"text-field":"{point_count_abbreviated}","text-font":["Open Sans Regular","Arial Unicode MS Regular"],"text-size":12}}),E.extendFlat(J.paint,{"circle-color":q.mcc,"circle-radius":q.mrc,"circle-opacity":q.mo})}if(P&&L&&(J.filter=["!",["has","point_count"]]),(R||k)&&(z.geojson=function(X,se){for(var re=se._fullLayout,ee=X[0].trace,K=ee.marker||{},ne=K.symbol,ae=K.angle,ue="circle"!==ne?h(ne):v,he="auto"!==ae?h(ae,!0):v,pe=i.hasText(ee)?h(ee.text):v,ge=[],xe=0;xe<X.length;xe++){var Se=X[xe];if(!p(Se.lonlat)){var Te,ye=ee.texttemplate;if(ye){var we=Array.isArray(ye)?ye[xe]||"":ye,ze=ee._module.formatLabels(Se,ee,re),ke={};a(ke,ee,Se.i),Te=E.texttemplateString(we,ze,re._d3locale,ke,Se,ee._meta||{})}else Te=pe(xe);Te&&(Te=Te.replace(o,"").replace(l,"\n")),ge.push({type:"Feature",geometry:{type:"Point",coordinates:Se.lonlat},properties:{symbol:ue(xe),angle:he(xe),text:Te}})}}return{type:"FeatureCollection",features:ge}}(g,_),E.extendFlat(z.layout,{visibility:"visible","icon-image":"{symbol}-15","text-field":"{text}"}),R&&(E.extendFlat(z.layout,{"icon-size":x.marker.size/10}),"angle"in x.marker&&"auto"!==x.marker.angle&&E.extendFlat(z.layout,{"icon-rotate":{type:"identity",property:"angle"},"icon-rotation-alignment":"map"}),z.layout["icon-allow-overlap"]=x.marker.allowoverlap,E.extendFlat(z.paint,{"icon-opacity":x.opacity*x.marker.opacity,"icon-color":x.marker.color})),k)){var Z=s(x.textposition,(x.marker||{}).size);E.extendFlat(z.layout,{"text-size":x.textfont.size,"text-anchor":Z.anchor,"text-offset":Z.offset,"text-font":x.textfont.family.split(", ")}),E.extendFlat(z.paint,{"text-color":x.textfont.color,"text-opacity":x.opacity})}return Y}},76645:function(oe,j,r){"use strict";var I=r(71828),E=r(34098),f=r(49508),S=r(11058),M=r(82410),y=r(28908),u=r(99181),i=["Metropolis Black Italic","Metropolis Black","Metropolis Bold Italic","Metropolis Bold","Metropolis Extra Bold Italic","Metropolis Extra Bold","Metropolis Extra Light Italic","Metropolis Extra Light","Metropolis Light Italic","Metropolis Light","Metropolis Medium Italic","Metropolis Medium","Metropolis Regular Italic","Metropolis Regular","Metropolis Semi Bold Italic","Metropolis Semi Bold","Metropolis Thin Italic","Metropolis Thin","Open Sans Bold Italic","Open Sans Bold","Open Sans Extra Bold Italic","Open Sans Extra Bold","Open Sans Italic","Open Sans Light Italic","Open Sans Light","Open Sans Regular","Open Sans Semibold Italic","Open Sans Semibold","Klokantech Noto Sans Bold","Klokantech Noto Sans CJK Bold","Klokantech Noto Sans CJK Regular","Klokantech Noto Sans Italic","Klokantech Noto Sans Regular"];oe.exports=function(s,a,o,l){function c(b,A){return I.coerce(s,a,u,b,A)}function h(b,A){return I.coerce2(s,a,u,b,A)}var A,m,C,k,P;if(A=a,C=(m=c)("lon")||[],k=m("lat")||[],P=Math.min(C.length,k.length),A._length=P,P){if(c("text"),c("texttemplate"),c("hovertext"),c("hovertemplate"),c("mode"),c("below"),E.hasLines(a)&&(S(s,a,o,l,c,{noDash:!0}),c("connectgaps")),E.hasMarkers(a)){f(s,a,o,l,c,{noLine:!0,noAngle:!0}),c("marker.allowoverlap"),c("marker.angle");var p=a.marker;"circle"!==p.symbol&&(I.isArrayOrTypedArray(p.size)&&(p.size=p.size[0]),I.isArrayOrTypedArray(p.color)&&(p.color=p.color[0]))}var T=h("cluster.maxzoom"),_=h("cluster.step"),g=h("cluster.color",a.marker&&a.marker.color||o),w=h("cluster.size"),x=h("cluster.opacity");c("cluster.enabled",!1!==T||!1!==_||!1!==g||!1!==w||!1!==x),E.hasText(a)&&M(s,a,l,c,{noSelect:!0,font:{family:-1!==i.indexOf(l.font.family)?l.font.family:"Open Sans Regular",size:l.font.size,color:l.font.color}}),c("fill"),"none"!==a.fill&&y(s,a,o,c),I.coerceSelectionMarkerOpacity(a,c)}else a.visible=!1}},53353:function(oe){"use strict";oe.exports=function(j,r){return j.lon=r.lon,j.lat=r.lat,j}},15636:function(oe,j,r){"use strict";var I=r(89298);oe.exports=function(E,f,S){var M={},y=S[f.subplot]._subplot.mockAxis,u=E.lonlat;return M.lonLabel=I.tickText(y,y.c2l(u[0]),!0).text,M.latLabel=I.tickText(y,y.c2l(u[1]),!0).text,M}},28178:function(oe,j,r){"use strict";var I=r(30211),E=r(71828),f=r(34603),S=E.fillText,M=r(50606).BADNUM,y=r(77734).traceLayerPrefix;function u(i,s,a){if(!i.hovertemplate){var o=(s.hi||i.hoverinfo).split("+"),l=-1!==o.indexOf("all"),c=-1!==o.indexOf("lon"),h=-1!==o.indexOf("lat"),v=s.lonlat,p=[];return l||c&&h?p.push("("+T(v[1])+", "+T(v[0])+")"):c?p.push(a.lon+T(v[0])):h&&p.push(a.lat+T(v[1])),(l||-1!==o.indexOf("text"))&&S(s,i,p),p.join("<br>")}function T(_){return _+"\xb0"}}oe.exports={hoverPoints:function(i,s,a){var o=i.cd,l=o[0].trace,c=i.xa,h=i.ya,v=i.subplot,p=[],_=l.cluster&&l.cluster.enabled;if(_){var g=v.map.queryRenderedFeatures(null,{layers:[y+l.uid+"-circle"]});p=g.map(function(N){return N.id})}var w=360*(s>=0?Math.floor((s+180)/360):Math.ceil((s-180)/360)),x=s-w;if(I.getClosest(o,function(N){var B=N.lonlat;if(B[0]===M||_&&-1===p.indexOf(N.i+1))return 1/0;var J=E.modHalf(B[0],360),z=B[1],Y=v.project([J,z]),q=Y.x-c.c2p([x,z]),U=Y.y-h.c2p([J,a]),Z=Math.max(3,N.mrc||0);return Math.max(Math.sqrt(q*q+U*U)-Z,1-3/Z)},i),!1!==i.index){var b=o[i.index],A=b.lonlat,m=[E.modHalf(A[0],360)+w,A[1]],C=c.c2p(m),k=h.c2p(m),P=b.mrc||1;i.x0=C-P,i.x1=C+P,i.y0=k-P,i.y1=k+P;var R={};R[l.subplot]={_subplot:v};var L=l._module.formatLabels(b,l,R);return i.lonLabel=L.lonLabel,i.latLabel=L.latLabel,i.color=f(l,b),i.extraText=u(l,b,o[0].t.labels),i.hovertemplate=l.hovertemplate,[i]}},getExtraText:u}},20467:function(oe,j,r){"use strict";oe.exports={attributes:r(99181),supplyDefaults:r(76645),colorbar:r(4898),formatLabels:r(15636),calc:r(84622),plot:r(86951),hoverPoints:r(28178).hoverPoints,eventData:r(53353),selectPoints:r(86387),styleOnSelect:function(I,E){E&&E[0].trace._glTrace.update(E)},moduleType:"trace",name:"scattermapbox",basePlotModule:r(50101),categories:["mapbox","gl","symbols","showLegend","scatter-like"],meta:{}}},86951:function(oe,j,r){"use strict";var I=r(71828),E=r(15790),f=r(77734).traceLayerPrefix,S={cluster:["cluster","clusterCount","circle"],nonCluster:["fill","line","circle","symbol"]};function M(u,i,s,a){this.type="scattermapbox",this.subplot=u,this.uid=i,this.clusterEnabled=s,this.isHidden=a,this.sourceIds={fill:"source-"+i+"-fill",line:"source-"+i+"-line",circle:"source-"+i+"-circle",symbol:"source-"+i+"-symbol",cluster:"source-"+i+"-circle",clusterCount:"source-"+i+"-circle"},this.layerIds={fill:f+i+"-fill",line:f+i+"-line",circle:f+i+"-circle",symbol:f+i+"-symbol",cluster:f+i+"-cluster",clusterCount:f+i+"-cluster-count"},this.below=null}var y=M.prototype;y.addSource=function(u,i,s){var a={type:"geojson",data:i.geojson};s&&s.enabled&&I.extendFlat(a,{cluster:!0,clusterMaxZoom:s.maxzoom});var o=this.subplot.map.getSource(this.sourceIds[u]);o?o.setData(i.geojson):this.subplot.map.addSource(this.sourceIds[u],a)},y.setSourceData=function(u,i){this.subplot.map.getSource(this.sourceIds[u]).setData(i.geojson)},y.addLayer=function(u,i,s){var a={type:i.type,id:this.layerIds[u],source:this.sourceIds[u],layout:i.layout,paint:i.paint};i.filter&&(a.filter=i.filter);for(var o,l=this.layerIds[u],c=this.subplot.getMapLayers(),h=0;h<c.length;h++)if(c[h].id===l){o=!0;break}o?(this.subplot.setOptions(l,"setLayoutProperty",a.layout),"visible"===a.layout.visibility&&this.subplot.setOptions(l,"setPaintProperty",a.paint)):this.subplot.addLayer(a,s)},y.update=function(u){var i=u[0].trace,s=this.subplot,a=s.map,o=E(s.gd,u),l=s.belowLookup["trace-"+this.uid],c=!(!i.cluster||!i.cluster.enabled),h=!!this.clusterEnabled,v=this;function p(x){h?function(b){for(var A=S.cluster,m=A.length-1;m>=0;m--)a.removeLayer(v.layerIds[A[m]]);b||a.removeSource(v.sourceIds.circle)}(x):function(b){for(var A=S.nonCluster,m=A.length-1;m>=0;m--){var C=A[m];a.removeLayer(v.layerIds[C]),b||a.removeSource(v.sourceIds[C])}}(x)}function T(x){c?function(b){b||v.addSource("circle",o.circle,i.cluster);for(var A=S.cluster,m=0;m<A.length;m++){var C=A[m];v.addLayer(C,o[C],l)}}(x):function(b){for(var A=S.nonCluster,m=0;m<A.length;m++){var C=A[m],k=o[C];b||v.addSource(C,k),v.addLayer(C,k,l)}}(x)}var g=this.isHidden,w=!0!==i.visible;w?g||p():g?w||T():h!==c?(p(),T()):(this.below!==l&&(p(!0),T(!0)),function _(){for(var x=c?S.cluster:S.nonCluster,b=0;b<x.length;b++){var A=x[b],m=o[A];m&&(s.setOptions(v.layerIds[A],"setLayoutProperty",m.layout),"visible"===m.layout.visibility&&("cluster"!==A&&v.setSourceData(A,m),s.setOptions(v.layerIds[A],"setPaintProperty",m.paint)))}}()),this.clusterEnabled=c,this.isHidden=w,this.below=l,u[0].trace._glTrace=this},y.dispose=function(){for(var u=this.subplot.map,i=this.clusterEnabled?S.cluster:S.nonCluster,s=i.length-1;s>=0;s--){var a=i[s];u.removeLayer(this.layerIds[a]),u.removeSource(this.sourceIds[a])}},oe.exports=function(u,i){var s,a,o,l=i[0].trace,c=l.cluster&&l.cluster.enabled,v=new M(u,l.uid,c,!0!==l.visible),p=E(u.gd,i),T=v.below=u.belowLookup["trace-"+l.uid];if(c)for(v.addSource("circle",p.circle,l.cluster),s=0;s<S.cluster.length;s++)o=p[a=S.cluster[s]],v.addLayer(a,o,T);else for(s=0;s<S.nonCluster.length;s++)o=p[a=S.nonCluster[s]],v.addSource(a,o,l.cluster),v.addLayer(a,o,T);return i[0].trace._glTrace=v,v}},86387:function(oe,j,r){"use strict";var I=r(71828),E=r(34098),f=r(50606).BADNUM;oe.exports=function(S,M){var y,u=S.cd,i=S.xaxis,s=S.yaxis,a=[];if(!E.hasMarkers(u[0].trace))return[];if(!1===M)for(y=0;y<u.length;y++)u[y].selected=0;else for(y=0;y<u.length;y++){var l=u[y],c=l.lonlat;if(c[0]!==f){var h=[I.modHalf(c[0],360),c[1]],v=[i.c2p(h),s.c2p(h)];M.contains(v,null,y,S)?(a.push({pointNumber:y,lon:c[0],lat:c[1]}),l.selected=1):l.selected=0}}return a}},81245:function(oe,j,r){"use strict";var I=r(5386).fF,E=r(5386).si,f=r(1426).extendFlat,S=r(82196),M=r(9012),y=S.line;oe.exports={mode:S.mode,r:{valType:"data_array",editType:"calc+clearAxisTypes"},theta:{valType:"data_array",editType:"calc+clearAxisTypes"},r0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dr:{valType:"number",dflt:1,editType:"calc"},theta0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dtheta:{valType:"number",editType:"calc"},thetaunit:{valType:"enumerated",values:["radians","degrees","gradians"],dflt:"degrees",editType:"calc+clearAxisTypes"},text:S.text,texttemplate:E({editType:"plot"},{keys:["r","theta","text"]}),hovertext:S.hovertext,line:{color:y.color,width:y.width,dash:y.dash,backoff:y.backoff,shape:f({},y.shape,{values:["linear","spline"]}),smoothing:y.smoothing,editType:"calc"},connectgaps:S.connectgaps,marker:S.marker,cliponaxis:f({},S.cliponaxis,{dflt:!1}),textposition:S.textposition,textfont:S.textfont,fill:f({},S.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:S.fillcolor,hoverinfo:f({},M.hoverinfo,{flags:["r","theta","text","name"]}),hoveron:S.hoveron,hovertemplate:I(),selected:S.selected,unselected:S.unselected}},26442:function(oe,j,r){"use strict";var I=r(92770),E=r(50606).BADNUM,f=r(89298),S=r(36922),M=r(75225),y=r(66279),u=r(47761).calcMarkerSize;oe.exports=function(i,s){for(var a=i._fullLayout,o=s.subplot,l=a[o].radialaxis,c=a[o].angularaxis,h=l.makeCalcdata(s,"r"),v=c.makeCalcdata(s,"theta"),p=s._length,T=new Array(p),_=0;_<p;_++){var g=h[_],w=v[_],x=T[_]={};I(g)&&I(w)?(x.r=g,x.theta=w):x.r=E}var b=u(s,p);return s._extremes.x=f.findExtremes(l,h,{ppad:b}),S(i,s),M(T,s),y(T,s),T}},22184:function(oe,j,r){"use strict";var I=r(71828),E=r(34098),f=r(49508),S=r(11058),M=r(94039),y=r(82410),u=r(28908),i=r(47581).PTS_LINESONLY,s=r(81245);function a(o,l,c,h){var v,p=h("r"),T=h("theta");if(p)T?v=Math.min(p.length,T.length):(v=p.length,h("theta0"),h("dtheta"));else{if(!T)return 0;v=l.theta.length,h("r0"),h("dr")}return l._length=v,v}oe.exports={handleRThetaDefaults:a,supplyDefaults:function(o,l,c,h){function v(_,g){return I.coerce(o,l,s,_,g)}var p=a(0,l,0,v);if(p){v("thetaunit"),v("mode",p<i?"lines+markers":"lines"),v("text"),v("hovertext"),"fills"!==l.hoveron&&v("hovertemplate"),E.hasLines(l)&&(S(o,l,c,h,v,{backoff:!0}),M(o,l,v),v("connectgaps")),E.hasMarkers(l)&&f(o,l,c,h,v,{gradient:!0}),E.hasText(l)&&(v("texttemplate"),y(o,l,h,v));var T=[];(E.hasMarkers(l)||E.hasText(l))&&(v("cliponaxis"),v("marker.maxdisplayed"),T.push("points")),v("fill"),"none"!==l.fill&&(u(o,l,c,v),E.hasLines(l)||M(o,l,v)),"tonext"!==l.fill&&"toself"!==l.fill||T.push("fills"),v("hoveron",T.join("+")||"points"),I.coerceSelectionMarkerOpacity(l,v)}else l.visible=!1}}},98608:function(oe,j,r){"use strict";var I=r(71828),E=r(89298);oe.exports=function(f,S,M){var y,u,i={},s=M[S.subplot]._subplot;s?(y=s.radialAxis,u=s.angularAxis):(y=(s=M[S.subplot]).radialaxis,u=s.angularaxis);var a=y.c2l(f.r);i.rLabel=E.tickText(y,a,!0).text;var o="degrees"===u.thetaunit?I.rad2deg(f.theta):f.theta;return i.thetaLabel=E.tickText(u,o,!0).text,i}},59150:function(oe,j,r){"use strict";var I=r(33720);function E(f,S,M,y){var u=M.radialAxis,i=M.angularAxis;u._hovertitle="r",i._hovertitle="\u03b8";var s={};s[S.subplot]={_subplot:M};var a=S._module.formatLabels(f,S,s);y.rLabel=a.rLabel,y.thetaLabel=a.thetaLabel;var l=[];function c(v,p){l.push(v._hovertitle+": "+p)}if(!S.hovertemplate){var h=(f.hi||S.hoverinfo).split("+");-1!==h.indexOf("all")&&(h=["r","theta","text"]),-1!==h.indexOf("r")&&c(u,y.rLabel),-1!==h.indexOf("theta")&&c(i,y.thetaLabel),-1!==h.indexOf("text")&&y.text&&(l.push(y.text),delete y.text),y.extraText=l.join("<br>")}}oe.exports={hoverPoints:function(f,S,M,y){var u=I(f,S,M,y);if(u&&!1!==u[0].index){var i=u[0];if(void 0===i.index)return u;var s=f.subplot,a=i.cd[i.index],o=i.trace;if(s.isPtInside(a))return i.xLabelVal=void 0,i.yLabelVal=void 0,E(a,o,s,i),i.hovertemplate=o.hovertemplate,u}},makeHoverPointText:E}},91271:function(oe,j,r){"use strict";oe.exports={moduleType:"trace",name:"scatterpolar",basePlotModule:r(23580),categories:["polar","symbols","showLegend","scatter-like"],attributes:r(81245),supplyDefaults:r(22184).supplyDefaults,colorbar:r(4898),formatLabels:r(98608),calc:r(26442),plot:r(45162),style:r(16296).style,styleOnSelect:r(16296).styleOnSelect,hoverPoints:r(59150).hoverPoints,selectPoints:r(98002),meta:{}}},45162:function(oe,j,r){"use strict";var I=r(32663),E=r(50606).BADNUM;oe.exports=function(f,S,M){for(var y=S.layers.frontplot.select("g.scatterlayer"),u=S.xaxis,i=S.yaxis,s={xaxis:u,yaxis:i,plot:S.framework,layerClipId:S._hasClipOnAxisFalse?S.clipIds.forTraces:null},a=S.radialAxis,o=S.angularAxis,l=0;l<M.length;l++)for(var c=M[l],h=0;h<c.length;h++){0===h&&(c[0].trace._xA=u,c[0].trace._yA=i);var v=c[h],p=v.r;if(p===E)v.x=v.y=E;else{var T=a.c2g(p),_=o.c2g(v.theta);v.x=T*Math.cos(_),v.y=T*Math.sin(_)}}I(f,s,M,y)}},53286:function(oe,j,r){"use strict";var I=r(81245),E=r(42341),f=r(5386).si;oe.exports={mode:I.mode,r:I.r,theta:I.theta,r0:I.r0,dr:I.dr,theta0:I.theta0,dtheta:I.dtheta,thetaunit:I.thetaunit,text:I.text,texttemplate:f({editType:"plot"},{keys:["r","theta","text"]}),hovertext:I.hovertext,hovertemplate:I.hovertemplate,line:E.line,connectgaps:E.connectgaps,marker:E.marker,fill:E.fill,fillcolor:E.fillcolor,textposition:E.textposition,textfont:E.textfont,hoverinfo:I.hoverinfo,selected:I.selected,unselected:I.unselected}},65746:function(oe,j,r){"use strict";oe.exports={moduleType:"trace",name:"scatterpolargl",basePlotModule:r(23580),categories:["gl","regl","polar","symbols","showLegend","scatter-like"],attributes:r(53286),supplyDefaults:r(75485),colorbar:r(4898),formatLabels:r(46255),calc:r(37499),hoverPoints:r(29347).hoverPoints,selectPoints:r(58147),meta:{}}},37499:function(oe,j,r){"use strict";var I=r(36922),E=r(47761).calcMarkerSize,f=r(19635),S=r(89298),M=r(78232).TOO_MANY_POINTS;oe.exports=function(y,u){var i=y._fullLayout,s=u.subplot,a=i[s].radialaxis,o=i[s].angularaxis,l=u._r=a.makeCalcdata(u,"r"),c=u._theta=o.makeCalcdata(u,"theta"),h=u._length,v={};h<l.length&&(l=l.slice(0,h)),h<c.length&&(c=c.slice(0,h)),v.r=l,v.theta=c,I(y,u);var p,T=v.opts=f.style(y,u);return h<M?p=E(u,h):T.marker&&(p=2*(T.marker.sizeAvg||Math.max(T.marker.size,3))),u._extremes.x=S.findExtremes(a,l,{ppad:p}),[{x:!1,y:!1,t:v,trace:u}]}},75485:function(oe,j,r){"use strict";var I=r(71828),E=r(34098),f=r(22184).handleRThetaDefaults,S=r(49508),M=r(11058),y=r(82410),u=r(28908),i=r(47581).PTS_LINESONLY,s=r(53286);oe.exports=function(a,o,l,c){function h(p,T){return I.coerce(a,o,s,p,T)}var v=f(a,o,c,h);v?(h("thetaunit"),h("mode",v<i?"lines+markers":"lines"),h("text"),h("hovertext"),"fills"!==o.hoveron&&h("hovertemplate"),E.hasLines(o)&&(M(a,o,l,c,h),h("connectgaps")),E.hasMarkers(o)&&S(a,o,l,c,h,{noAngleRef:!0,noStandOff:!0}),E.hasText(o)&&(h("texttemplate"),y(a,o,c,h)),h("fill"),"none"!==o.fill&&u(a,o,l,h),I.coerceSelectionMarkerOpacity(o,h)):o.visible=!1}},46255:function(oe,j,r){"use strict";var I=r(98608);oe.exports=function(E,f,S){var M=E.i;return"r"in E||(E.r=f._r[M]),"theta"in E||(E.theta=f._theta[M]),I(E,f,S)}},29347:function(oe,j,r){"use strict";var I=r(20794),E=r(59150).makeHoverPointText;oe.exports={hoverPoints:function(f,S,M,y){var u=f.cd[0].t,i=u.r,s=u.theta,a=I.hoverPoints(f,S,M,y);if(a&&!1!==a[0].index){var o=a[0];if(void 0===o.index)return a;var l=f.subplot,c=o.cd[o.index],h=o.trace;if(c.r=i[o.index],c.theta=s[o.index],l.isPtInside(c))return o.xLabelVal=void 0,o.yLabelVal=void 0,E(c,h,l,o),a}}}},21461:function(oe,j,r){"use strict";var I=r(65746);I.plot=r(49741),oe.exports=I},49741:function(oe,j,r){"use strict";var I=r(88294),E=r(92770),f=r(26787),S=r(38967),M=r(19635),y=r(71828),u=r(78232).TOO_MANY_POINTS;oe.exports=function(i,s,a){if(a.length){var o=s.radialAxis,l=s.angularAxis,c=S(i,s);return a.forEach(function(h){if(h&&h[0]&&h[0].trace){var v,p=h[0],T=p.trace,_=p.t,g=T._length,w=_.r,x=_.theta,b=_.opts,A=w.slice(),m=x.slice();for(v=0;v<w.length;v++)s.isPtInside({r:w[v],theta:x[v]})||(A[v]=NaN,m[v]=NaN);var C=new Array(2*g),k=Array(g),P=Array(g);for(v=0;v<g;v++){var R,L,N=A[v];if(E(N)){var B=o.c2g(N),J=l.c2g(m[v],T.thetaunit);R=B*Math.cos(J),L=B*Math.sin(J)}else R=L=NaN;k[v]=C[2*v]=R,P[v]=C[2*v+1]=L}_.tree=I(C),b.marker&&g>=u&&(b.marker.cluster=_.tree),b.marker&&(b.markerSel.positions=b.markerUnsel.positions=b.marker.positions=C),b.line&&C.length>1&&y.extendFlat(b.line,M.linePositions(i,T,C)),b.text&&(y.extendFlat(b.text,{positions:C},M.textPosition(i,T,b.text,b.marker)),y.extendFlat(b.textSel,{positions:C},M.textPosition(i,T,b.text,b.markerSel)),y.extendFlat(b.textUnsel,{positions:C},M.textPosition(i,T,b.text,b.markerUnsel))),b.fill&&!c.fill2d&&(c.fill2d=!0),b.marker&&!c.scatter2d&&(c.scatter2d=!0),b.line&&!c.line2d&&(c.line2d=!0),b.text&&!c.glText&&(c.glText=!0),c.lineOptions.push(b.line),c.fillOptions.push(b.fill),c.markerOptions.push(b.marker),c.markerSelectedOptions.push(b.markerSel),c.markerUnselectedOptions.push(b.markerUnsel),c.textOptions.push(b.text),c.textSelectedOptions.push(b.textSel),c.textUnselectedOptions.push(b.textUnsel),c.selectBatch.push([]),c.unselectBatch.push([]),_.x=k,_.y=P,_.rawx=k,_.rawy=P,_.r=w,_.theta=x,_.positions=C,_._scene=c,_.index=c.count,c.count++}}),f(i,s,a)}},oe.exports.reglPrecompiled={}},48300:function(oe,j,r){"use strict";var I=r(5386).fF,E=r(5386).si,f=r(1426).extendFlat,S=r(82196),M=r(9012),y=S.line;oe.exports={mode:S.mode,real:{valType:"data_array",editType:"calc+clearAxisTypes"},imag:{valType:"data_array",editType:"calc+clearAxisTypes"},text:S.text,texttemplate:E({editType:"plot"},{keys:["real","imag","text"]}),hovertext:S.hovertext,line:{color:y.color,width:y.width,dash:y.dash,backoff:y.backoff,shape:f({},y.shape,{values:["linear","spline"]}),smoothing:y.smoothing,editType:"calc"},connectgaps:S.connectgaps,marker:S.marker,cliponaxis:f({},S.cliponaxis,{dflt:!1}),textposition:S.textposition,textfont:S.textfont,fill:f({},S.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:S.fillcolor,hoverinfo:f({},M.hoverinfo,{flags:["real","imag","text","name"]}),hoveron:S.hoveron,hovertemplate:I(),selected:S.selected,unselected:S.unselected}},30621:function(oe,j,r){"use strict";var I=r(92770),E=r(50606).BADNUM,f=r(36922),S=r(75225),M=r(66279),y=r(47761).calcMarkerSize;oe.exports=function(u,i){for(var s=u._fullLayout,a=i.subplot,l=s[a].imaginaryaxis,c=s[a].realaxis.makeCalcdata(i,"real"),h=l.makeCalcdata(i,"imag"),v=i._length,p=new Array(v),T=0;T<v;T++){var _=c[T],g=h[T],w=p[T]={};I(_)&&I(g)?(w.real=_,w.imag=g):w.real=E}return y(i,v),f(u,i),S(p,i),M(p,i),p}},65269:function(oe,j,r){"use strict";var I=r(71828),E=r(34098),f=r(49508),S=r(11058),M=r(94039),y=r(82410),u=r(28908),i=r(47581).PTS_LINESONLY,s=r(48300);oe.exports=function(a,o,l,c){function h(T,_){return I.coerce(a,o,s,T,_)}var _,w,x,b,A,v=(_=o,b=(w=h)("real"),A=w("imag"),b&&A&&(x=Math.min(b.length,A.length)),_._length=x,x);if(v){h("mode",v<i?"lines+markers":"lines"),h("text"),h("hovertext"),"fills"!==o.hoveron&&h("hovertemplate"),E.hasLines(o)&&(S(a,o,l,c,h,{backoff:!0}),M(a,o,h),h("connectgaps")),E.hasMarkers(o)&&f(a,o,l,c,h,{gradient:!0}),E.hasText(o)&&(h("texttemplate"),y(a,o,c,h));var p=[];(E.hasMarkers(o)||E.hasText(o))&&(h("cliponaxis"),h("marker.maxdisplayed"),p.push("points")),h("fill"),"none"!==o.fill&&(u(a,o,l,h),E.hasLines(o)||M(a,o,h)),"tonext"!==o.fill&&"toself"!==o.fill||p.push("fills"),h("hoveron",p.join("+")||"points"),I.coerceSelectionMarkerOpacity(o,h)}else o.visible=!1}},62047:function(oe,j,r){"use strict";var I=r(89298);oe.exports=function(E,f,S){var M={},y=S[f.subplot]._subplot;return M.realLabel=I.tickText(y.radialAxis,E.real,!0).text,M.imagLabel=I.tickText(y.angularAxis,E.imag,!0).text,M}},11350:function(oe,j,r){"use strict";var I=r(33720);function E(f,S,M,y){var u=M.radialAxis,i=M.angularAxis;u._hovertitle="real",i._hovertitle="imag";var s={};s[S.subplot]={_subplot:M};var a=S._module.formatLabels(f,S,s);y.realLabel=a.realLabel,y.imagLabel=a.imagLabel;var l=[];function c(v,p){l.push(v._hovertitle+": "+p)}if(!S.hovertemplate){var h=(f.hi||S.hoverinfo).split("+");-1!==h.indexOf("all")&&(h=["real","imag","text"]),-1!==h.indexOf("real")&&c(u,y.realLabel),-1!==h.indexOf("imag")&&c(i,y.imagLabel),-1!==h.indexOf("text")&&y.text&&(l.push(y.text),delete y.text),y.extraText=l.join("<br>")}}oe.exports={hoverPoints:function(f,S,M,y){var u=I(f,S,M,y);if(u&&!1!==u[0].index){var i=u[0];if(void 0===i.index)return u;var s=f.subplot,a=i.cd[i.index],o=i.trace;if(s.isPtInside(a))return i.xLabelVal=void 0,i.yLabelVal=void 0,E(a,o,s,i),i.hovertemplate=o.hovertemplate,u}},makeHoverPointText:E}},85956:function(oe,j,r){"use strict";oe.exports={moduleType:"trace",name:"scattersmith",basePlotModule:r(7504),categories:["smith","symbols","showLegend","scatter-like"],attributes:r(48300),supplyDefaults:r(65269),colorbar:r(4898),formatLabels:r(62047),calc:r(30621),plot:r(12480),style:r(16296).style,styleOnSelect:r(16296).styleOnSelect,hoverPoints:r(11350).hoverPoints,selectPoints:r(98002),meta:{}}},12480:function(oe,j,r){"use strict";var I=r(32663),E=r(50606).BADNUM,f=r(23893).smith;oe.exports=function(S,M,y){for(var u=M.layers.frontplot.select("g.scatterlayer"),i=M.xaxis,s=M.yaxis,a={xaxis:i,yaxis:s,plot:M.framework,layerClipId:M._hasClipOnAxisFalse?M.clipIds.forTraces:null},o=0;o<y.length;o++)for(var l=y[o],c=0;c<l.length;c++){0===c&&(l[0].trace._xA=i,l[0].trace._yA=s);var h=l[c],v=h.real;if(v===E)h.x=h.y=E;else{var p=f([v,h.imag]);h.x=p[0],h.y=p[1]}}I(S,a,y,u)}},50413:function(oe,j,r){"use strict";var I=r(5386).fF,E=r(5386).si,f=r(82196),S=r(9012),M=r(50693),y=r(79952).P,u=r(1426).extendFlat,i=f.marker,s=f.line,a=i.line;oe.exports={a:{valType:"data_array",editType:"calc"},b:{valType:"data_array",editType:"calc"},c:{valType:"data_array",editType:"calc"},sum:{valType:"number",dflt:0,min:0,editType:"calc"},mode:u({},f.mode,{dflt:"markers"}),text:u({},f.text,{}),texttemplate:E({editType:"plot"},{keys:["a","b","c","text"]}),hovertext:u({},f.hovertext,{}),line:{color:s.color,width:s.width,dash:y,backoff:s.backoff,shape:u({},s.shape,{values:["linear","spline"]}),smoothing:s.smoothing,editType:"calc"},connectgaps:f.connectgaps,cliponaxis:f.cliponaxis,fill:u({},f.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:f.fillcolor,marker:u({symbol:i.symbol,opacity:i.opacity,angle:i.angle,angleref:i.angleref,standoff:i.standoff,maxdisplayed:i.maxdisplayed,size:i.size,sizeref:i.sizeref,sizemin:i.sizemin,sizemode:i.sizemode,line:u({width:a.width,editType:"calc"},M("marker.line")),gradient:i.gradient,editType:"calc"},M("marker")),textfont:f.textfont,textposition:f.textposition,selected:f.selected,unselected:f.unselected,hoverinfo:u({},S.hoverinfo,{flags:["a","b","c","text","name"]}),hoveron:f.hoveron,hovertemplate:I()}},54337:function(oe,j,r){"use strict";var I=r(92770),E=r(36922),f=r(75225),S=r(66279),M=r(47761).calcMarkerSize,y=["a","b","c"],u={a:["b","c"],b:["a","c"],c:["a","b"]};oe.exports=function(i,s){var a,o,l,c,h,v,p=i._fullLayout[s.subplot].sum,T=s.sum||p,_={a:s.a,b:s.b,c:s.c};for(a=0;a<y.length;a++)if(!_[l=y[a]]){for(h=_[u[l][0]],v=_[u[l][1]],c=new Array(h.length),o=0;o<h.length;o++)c[o]=T-h[o]-v[o];_[l]=c}var g,w,x,b,C=s._length,k=new Array(C);for(a=0;a<C;a++)w=_.b[a],x=_.c[a],I(g=_.a[a])&&I(w)&&I(x)?(1!=(b=p/((g=+g)+(w=+w)+(x=+x)))&&(g*=b,w*=b,x*=b),k[a]={x:x-w,y:g,a:g,b:w,c:x}):k[a]={x:!1,y:!1};return M(s,C),E(i,s),f(k,s),S(k,s),k}},46008:function(oe,j,r){"use strict";var I=r(71828),E=r(47581),f=r(34098),S=r(49508),M=r(11058),y=r(94039),u=r(82410),i=r(28908),s=r(50413);oe.exports=function(a,o,l,c){function h(w,x){return I.coerce(a,o,s,w,x)}var v,p=h("a"),T=h("b"),_=h("c");if(p?(v=p.length,T?(v=Math.min(v,T.length),_&&(v=Math.min(v,_.length))):v=_?Math.min(v,_.length):0):T&&_&&(v=Math.min(T.length,_.length)),v){o._length=v,h("sum"),h("text"),h("hovertext"),"fills"!==o.hoveron&&h("hovertemplate"),h("mode",v<E.PTS_LINESONLY?"lines+markers":"lines"),f.hasLines(o)&&(M(a,o,l,c,h,{backoff:!0}),y(a,o,h),h("connectgaps")),f.hasMarkers(o)&&S(a,o,l,c,h,{gradient:!0}),f.hasText(o)&&(h("texttemplate"),u(a,o,c,h));var g=[];(f.hasMarkers(o)||f.hasText(o))&&(h("cliponaxis"),h("marker.maxdisplayed"),g.push("points")),h("fill"),"none"!==o.fill&&(i(a,o,l,h),f.hasLines(o)||y(a,o,h)),"tonext"!==o.fill&&"toself"!==o.fill||g.push("fills"),h("hoveron",g.join("+")||"points"),I.coerceSelectionMarkerOpacity(o,h)}else o.visible=!1}},4524:function(oe){"use strict";oe.exports=function(j,r,I,E,f){if(r.xa&&(j.xaxis=r.xa),r.ya&&(j.yaxis=r.ya),E[f]){var S=E[f];j.a=S.a,j.b=S.b,j.c=S.c}else j.a=r.a,j.b=r.b,j.c=r.c;return j}},93645:function(oe,j,r){"use strict";var I=r(89298);oe.exports=function(E,f,S){var M={},y=S[f.subplot]._subplot;return M.aLabel=I.tickText(y.aaxis,E.a,!0).text,M.bLabel=I.tickText(y.baxis,E.b,!0).text,M.cLabel=I.tickText(y.caxis,E.c,!0).text,M}},47250:function(oe,j,r){"use strict";var I=r(33720);oe.exports=function(E,f,S,M){var y=I(E,f,S,M);if(y&&!1!==y[0].index){var u=y[0];if(void 0===u.index){var s=E.xa._length,a=s*(1-u.y0/E.ya._length)/2,o=s-a;return u.x0=Math.max(Math.min(u.x0,o),a),u.x1=Math.max(Math.min(u.x1,o),a),y}var l=u.cd[u.index],c=u.trace,h=u.subplot;u.a=l.a,u.b=l.b,u.c=l.c,u.xLabelVal=void 0,u.yLabelVal=void 0;var v={};v[c.subplot]={_subplot:h};var p=c._module.formatLabels(l,c,v);u.aLabel=p.aLabel,u.bLabel=p.bLabel,u.cLabel=p.cLabel;var _=[];if(!c.hovertemplate){var g=(l.hi||c.hoverinfo).split("+");-1!==g.indexOf("all")&&(g=["a","b","c"]),-1!==g.indexOf("a")&&w(h.aaxis,u.aLabel),-1!==g.indexOf("b")&&w(h.baxis,u.bLabel),-1!==g.indexOf("c")&&w(h.caxis,u.cLabel)}return u.extraText=_.join("<br>"),u.hovertemplate=c.hovertemplate,y}function w(x,b){_.push(x._hovertitle+": "+b)}}},52979:function(oe,j,r){"use strict";oe.exports={attributes:r(50413),supplyDefaults:r(46008),colorbar:r(4898),formatLabels:r(93645),calc:r(54337),plot:r(7507),style:r(16296).style,styleOnSelect:r(16296).styleOnSelect,hoverPoints:r(47250),selectPoints:r(98002),eventData:r(4524),moduleType:"trace",name:"scatterternary",basePlotModule:r(61639),categories:["ternary","symbols","showLegend","scatter-like"],meta:{}}},7507:function(oe,j,r){"use strict";var I=r(32663);oe.exports=function(E,f,S){var M=f.plotContainer;M.select(".scatterlayer").selectAll("*").remove();for(var y=f.xaxis,u=f.yaxis,i={xaxis:y,yaxis:u,plot:M,layerClipId:f._hasClipOnAxisFalse?f.clipIdRelative:null},s=f.layers.frontplot.select("g.scatterlayer"),a=0;a<S.length;a++){var o=S[a];o.length&&(o[0].trace._xA=y,o[0].trace._yA=u)}I(E,i,S,s)}},46880:function(oe,j,r){"use strict";var I=r(82196),E=r(50693),f=r(12663).axisHoverFormat,S=r(5386).fF,M=r(42341),y=r(85555).idRegex,u=r(44467).templatedArray,i=r(1426).extendFlat,s=I.marker,a=s.line,o=i(E("marker.line",{editTypeOverride:"calc"}),{width:i({},a.width,{editType:"calc"}),editType:"calc"}),l=i(E("marker"),{symbol:s.symbol,angle:s.angle,size:i({},s.size,{editType:"markerSize"}),sizeref:s.sizeref,sizemin:s.sizemin,sizemode:s.sizemode,opacity:s.opacity,colorbar:s.colorbar,line:o,editType:"calc"});function c(h){return{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"subplotid",regex:y[h],editType:"plot"}}}l.color.editType=l.cmin.editType=l.cmax.editType="style",oe.exports={dimensions:u("dimension",{visible:{valType:"boolean",dflt:!0,editType:"calc"},label:{valType:"string",editType:"calc"},values:{valType:"data_array",editType:"calc+clearAxisTypes"},axis:{type:{valType:"enumerated",values:["linear","log","date","category"],editType:"calc+clearAxisTypes"},matches:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc+clearAxisTypes"},editType:"calc+clearAxisTypes"}),text:i({},M.text,{}),hovertext:i({},M.hovertext,{}),hovertemplate:S(),xhoverformat:f("x"),yhoverformat:f("y"),marker:l,xaxes:c("x"),yaxes:c("y"),diagonal:{visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},showupperhalf:{valType:"boolean",dflt:!0,editType:"calc"},showlowerhalf:{valType:"boolean",dflt:!0,editType:"calc"},selected:{marker:M.selected.marker,editType:"calc"},unselected:{marker:M.unselected.marker,editType:"calc"},opacity:M.opacity}},65017:function(oe,j,r){"use strict";var I=r(73972),E=r(83312);oe.exports={moduleType:"trace",name:"splom",categories:["gl","regl","cartesian","symbols","showLegend","scatter-like"],attributes:r(46880),supplyDefaults:r(25784),colorbar:r(4898),calc:r(87625),plot:r(79410),hoverPoints:r(8567).hoverPoints,selectPoints:r(8689),editStyle:r(28801),meta:{}},I.register(E)},16947:function(oe,j,r){"use strict";var I=r(46075),E=r(73972),f=r(79749),S=r(27659).a0,M=r(93612),y=r(41675).getFromId,u=r(89298).shouldShowZeroLine,i="splom",s={};function a(l,c,h){for(var p=c._visibleDims,T=h.viewOpts.ranges=new Array(h.matrixOptions.data.length),_=0;_<p.length;_++){var g=p[_],w=T[_]=new Array(4),x=y(l,c._diag[g][0]);x&&(w[0]=x.r2l(x.range[0]),w[2]=x.r2l(x.range[1]));var b=y(l,c._diag[g][1]);b&&(w[1]=b.r2l(b.range[0]),w[3]=b.r2l(b.range[1]))}h.selectBatch.length||h.unselectBatch.length?h.matrix.update({ranges:T},{ranges:T}):h.matrix.update({ranges:T})}function o(l){var c=l._fullLayout,h=c._glcanvas.data()[0].regl,v=c._splomGrid;v||(v=c._splomGrid=I(h)),v.update(function(p){var T,_=p._context.plotGlPixelRatio,g=p._fullLayout,w=g._size,x=[0,0,g.width*_,g.height*_],b={};function A(X,se,re,ee,K,ne){re*=_,ee*=_,K*=_,ne*=_;var ae=se[X+"color"],ue=se[X+"width"],he=String(ae+ue);he in b?b[he].data.push(NaN,NaN,re,ee,K,ne):b[he]={data:[re,ee,K,ne],join:"rect",thickness:ue*_,color:ae,viewport:x,range:x,overlay:!1}}for(T in g._splomSubplots){var m,C,k=g._plots[T],P=k.xaxis,R=k.yaxis,L=P._gridVals,N=R._gridVals,B=P._offset,J=P._length,z=R._length,Y=w.b+R.domain[0]*w.h,q=-R._m,U=-q*R.r2l(R.range[0],R.calendar);if(P.showgrid)for(T=0;T<L.length;T++)m=B+P.l2p(L[T].x),A("grid",P,m,Y,m,Y+z);if(R.showgrid)for(T=0;T<N.length;T++)A("grid",R,B,C=Y+U+q*N[T].x,B+J,C);u(p,P,R)&&(m=B+P.l2p(0),A("zeroline",P,m,Y,m,Y+z)),u(p,R,P)&&A("zeroline",R,B,C=Y+U+0,B+J,C)}var Z=[];for(T in b)Z.push(b[T]);return Z}(l))}oe.exports={name:i,attr:M.attr,attrRegex:M.attrRegex,layoutAttributes:M.layoutAttributes,supplyLayoutDefaults:M.supplyLayoutDefaults,drawFramework:M.drawFramework,plot:function(l){var c=l._fullLayout,h=E.getModule(i),v=S(l.calcdata,h)[0];f(l,["ANGLE_instanced_arrays","OES_element_index_uint"],s)&&(c._hasOnlyLargeSploms&&o(l),h.plot(l,{},v))},drag:function(l){var c=l.calcdata,h=l._fullLayout;h._hasOnlyLargeSploms&&o(l);for(var v=0;v<c.length;v++){var p=c[v][0].trace,T=h._splomScenes[p.uid];"splom"===p.type&&T&&T.matrix&&a(l,p,T)}},updateGrid:o,clean:function(l,c,h,v){var p,T={};if(v._splomScenes){for(p=0;p<l.length;p++){var _=l[p];"splom"===_.type&&(T[_.uid]=1)}for(p=0;p<h.length;p++){var g=h[p];if(!T[g.uid]){var w=v._splomScenes[g.uid];w&&w.destroy&&w.destroy(),v._splomScenes[g.uid]=null,delete v._splomScenes[g.uid]}}}0===Object.keys(v._splomScenes||{}).length&&delete v._splomScenes,v._splomGrid&&!c._hasOnlyLargeSploms&&v._hasOnlyLargeSploms&&(v._splomGrid.destroy(),v._splomGrid=null,delete v._splomGrid),M.clean(l,c,h,v)},updateFx:M.updateFx,toSVG:M.toSVG,reglPrecompiled:s}},87625:function(oe,j,r){"use strict";var I=r(71828),E=r(41675),f=r(47761).calcMarkerSize,S=r(47761).calcAxisExpansion,M=r(36922),y=r(19635).markerSelection,u=r(19635).markerStyle,i=r(10164),s=r(50606).BADNUM,a=r(78232).TOO_MANY_POINTS;oe.exports=function(o,l){var c,h,v,p,T,_,g=l.dimensions,w=l._length,x={},b=x.cdata=[],A=x.data=[],m=l._visibleDims=[];function C(P,R){for(var L=P.makeCalcdata({v:R.values,vcalendar:l.calendar},"v"),N=0;N<L.length;N++)L[N]=L[N]===s?NaN:L[N];b.push(L),A.push("log"===P.type?I.simpleMap(L,P.c2l):L)}for(c=0;c<g.length;c++)if((v=g[c]).visible){if(p=E.getFromId(o,l._diag[c][0]),T=E.getFromId(o,l._diag[c][1]),p&&T&&p.type!==T.type){I.log("Skipping splom dimension "+c+" with conflicting axis types");continue}p?(C(p,v),T&&"category"===T.type&&(T._categories=p._categories.slice())):C(T,v),m.push(c)}for(M(o,l),I.extendFlat(x,u(o,l)),_=b.length*w>a?x.sizeAvg||Math.max(x.size,3):f(l,w),h=0;h<m.length;h++)v=g[c=m[h]],p=E.getFromId(o,l._diag[c][0])||{},T=E.getFromId(o,l._diag[c][1])||{},S(o,l,p,T,b[h],b[h],_);var k=i(o,l);return k.matrix||(k.matrix=!0),k.matrixOptions=x,k.selectedOptions=y(o,l,l.selected),k.unselectedOptions=y(o,l,l.unselected),[{x:!1,y:!1,t:{},trace:l}]}},25784:function(oe,j,r){"use strict";var I=r(71828),E=r(85501),f=r(46880),S=r(34098),M=r(49508),y=r(94397),u=r(68645).isOpenSymbol;function i(s,a){function o(c,h){return I.coerce(s,a,f.dimensions,c,h)}o("label");var l=o("values");l&&l.length?o("visible"):a.visible=!1,o("axis.type"),o("axis.matches")}oe.exports=function(s,a,o,l){function c(w,x){return I.coerce(s,a,f,w,x)}var h=E(s,a,{name:"dimensions",handleItemDefaults:i}),v=c("diagonal.visible"),p=c("showupperhalf"),T=c("showlowerhalf");if(y(a,h,"values")&&(v||p||T)){c("text"),c("hovertext"),c("hovertemplate"),c("xhoverformat"),c("yhoverformat"),M(s,a,o,l,c,{noAngleRef:!0,noStandOff:!0});var _=u(a.marker.symbol),g=S.isBubble(a);c("marker.line.width",_||g?1:0),function(w,x,b,A){var m,C,k=x.dimensions,P=k.length,R=x.showupperhalf,L=x.showlowerhalf,N=x.diagonal.visible,B=new Array(P),J=new Array(P);for(m=0;m<P;m++){var z=m?m+1:"";B[m]="x"+z,J[m]="y"+z}var Y=A("xaxes",B),q=A("yaxes",J),U=x._diag=new Array(P);x._xaxes={},x._yaxes={};var Z=[],X=[];function se(ge,xe,Se,Te){if(ge){var ye=ge.charAt(0),we=b._splomAxes[ye];if(x["_"+ye+"axes"][ge]=1,Te.push(ge),!(ge in we)){var ze=we[ge]={};Se&&(ze.label=Se.label||"",Se.visible&&Se.axis&&(Se.axis.type&&(ze.type=Se.axis.type),Se.axis.matches&&(ze.matches=xe)))}}}var re=!N&&!L,ee=!N&&!R;for(x._axesDim={},m=0;m<P;m++){var K=k[m],ne=0===m,ae=m===P-1,ue=ne&&re||ae&&ee?void 0:Y[m],he=ne&&ee||ae&&re?void 0:q[m];se(ue,he,K,Z),se(he,ue,K,X),U[m]=[ue,he],x._axesDim[ue]=m,x._axesDim[he]=m}for(m=0;m<Z.length;m++)for(C=0;C<X.length;C++){var pe=Z[m]+X[C];m>C&&R||m<C&&L?b._splomSubplots[pe]=1:m!==C||!N&&L&&R||(b._splomSubplots[pe]=1)}(!L||!N&&R&&L)&&(b._splomGridDflt.xside="bottom",b._splomGridDflt.yside="left")}(0,a,l,c),I.coerceSelectionMarkerOpacity(a,c)}else a.visible=!1}},28801:function(oe,j,r){"use strict";var I=r(71828),E=r(36922),f=r(19635).markerStyle;oe.exports=function(S,M){var y=M.trace,u=S._fullLayout._splomScenes[y.uid];if(u){E(S,y),I.extendFlat(u.matrixOptions,f(S,y));var i=I.extendFlat({},u.matrixOptions,u.viewOpts);u.matrix.update(i,null)}}},35948:function(oe,j){"use strict";j.getDimIndex=function(r,I){for(var E=I._id,f={x:0,y:1}[E.charAt(0)],S=r._visibleDims,M=0;M<S.length;M++)if(r._diag[S[M]][f]===E)return M;return!1}},8567:function(oe,j,r){"use strict";var I=r(35948),E=r(20794).calcHover;oe.exports={hoverPoints:function(f,S,M){var y=f.cd[0].trace,u=f.scene.matrixOptions.cdata,i=f.xa,s=f.ya,a=i.c2p(S),o=s.c2p(M),l=f.distance,c=I.getDimIndex(y,i),h=I.getDimIndex(y,s);if(!1===c||!1===h)return[f];for(var v,p,T=u[c],_=u[h],g=l,w=0;w<T.length;w++){var b=_[w],A=i.c2p(T[w])-a,m=s.c2p(b)-o,C=Math.sqrt(A*A+m*m);C<g&&(g=p=C,v=w)}return f.index=v,f.distance=g,f.dxy=p,void 0===v?[f]:[E(f,T,_,y)]}}},6419:function(oe,j,r){"use strict";var I=r(65017);I.basePlotModule=r(16947),oe.exports=I},79410:function(oe,j,r){"use strict";var I=r(60487),E=r(71828),f=r(41675),S=r(64505).selectMode;function M(y,u){var i,s,a,o,l,c=y._fullLayout,h=c._size,v=u.trace,p=u.t,T=c._splomScenes[v.uid],_=T.matrixOptions,g=_.cdata,w=c._glcanvas.data()[0].regl,x=c.dragmode;if(0!==g.length){_.lower=v.showupperhalf,_.upper=v.showlowerhalf,_.diagonal=v.diagonal.visible;var b=v._visibleDims,A=g.length,m=T.viewOpts={};for(m.ranges=new Array(A),m.domains=new Array(A),l=0;l<b.length;l++){a=b[l];var C=m.ranges[l]=new Array(4),k=m.domains[l]=new Array(4);(i=f.getFromId(y,v._diag[a][0]))&&(C[0]=i._rl[0],C[2]=i._rl[1],k[0]=i.domain[0],k[2]=i.domain[1]),(s=f.getFromId(y,v._diag[a][1]))&&(C[1]=s._rl[0],C[3]=s._rl[1],k[1]=s.domain[0],k[3]=s.domain[1])}var P=y._context.plotGlPixelRatio,R=h.l*P,L=h.b*P;m.viewport=[R,L,h.w*P+R,h.h*P+L],!0===T.matrix&&(T.matrix=I(w));var J=c.clickmode.indexOf("select")>-1,z=!0;if(S(x)||v.selectedpoints||J){var Y=v._length;if(v.selectedpoints){T.selectBatch=v.selectedpoints;var q=v.selectedpoints,U={};for(a=0;a<q.length;a++)U[q[a]]=!0;var Z=[];for(a=0;a<Y;a++)U[a]||Z.push(a);T.unselectBatch=Z}var X=p.xpx=new Array(A),se=p.ypx=new Array(A);for(l=0;l<b.length;l++){if(i=f.getFromId(y,v._diag[a=b[l]][0]))for(X[l]=new Array(Y),o=0;o<Y;o++)X[l][o]=i.c2p(g[l][o]);if(s=f.getFromId(y,v._diag[a][1]))for(se[l]=new Array(Y),o=0;o<Y;o++)se[l][o]=s.c2p(g[l][o])}if(T.selectBatch.length||T.unselectBatch.length){var re=E.extendFlat({},_,T.unselectedOptions,m),ee=E.extendFlat({},_,T.selectedOptions,m);T.matrix.update(re,ee),z=!1}}else p.xpx=p.ypx=null;if(z){var K=E.extendFlat({},_,m);T.matrix.update(K,null)}}}oe.exports=function(y,u,i){if(i.length)for(var s=0;s<i.length;s++)M(y,i[s][0])}},10164:function(oe,j,r){"use strict";var I=r(71828);oe.exports=function(E,f){var S=E._fullLayout,M=f.uid,y=S._splomScenes;y||(y=S._splomScenes={});var u={dirty:!0,selectBatch:[],unselectBatch:[]},i=y[f.uid];return i||((i=y[M]=I.extendFlat({},u,{matrix:!1,selectBatch:[],unselectBatch:[]})).draw=function(){i.matrix&&i.matrix.draw&&(i.selectBatch.length||i.unselectBatch.length?i.matrix.draw(i.unselectBatch,i.selectBatch):i.matrix.draw()),i.dirty=!1},i.destroy=function(){i.matrix&&i.matrix.destroy&&i.matrix.destroy(),i.matrixOptions=null,i.selectBatch=null,i.unselectBatch=null,i=null}),i.dirty||I.extendFlat(i,u),i}},8689:function(oe,j,r){"use strict";var I=r(71828),E=I.pushUnique,f=r(34098),S=r(35948);oe.exports=function(M,y){var u=M.cd,i=u[0].trace,s=u[0].t,a=M.scene,o=a.matrixOptions.cdata,l=M.xaxis,c=M.yaxis,h=[];if(!a)return h;var v=!f.hasMarkers(i)&&!f.hasText(i);if(!0!==i.visible||v)return h;var p=S.getDimIndex(i,l),T=S.getDimIndex(i,c);if(!1===p||!1===T)return h;var _=s.xpx[p],g=s.ypx[T],w=o[p],x=o[T],b=(M.scene.selectBatch||[]).slice(),A=[];if(!1!==y&&!y.degenerate)for(var m=0;m<w.length;m++)y.contains([_[m],g[m]],null,m,M)?(h.push({pointNumber:m,x:w[m],y:x[m]}),E(b,m)):-1!==b.indexOf(m)?E(b,m):A.push(m);var C=a.matrixOptions;return b.length||A.length?a.selectBatch.length||a.unselectBatch.length||a.matrix.update(a.unselectedOptions,I.extendFlat({},C,a.selectedOptions,a.viewOpts)):a.matrix.update(C,null),a.selectBatch=b,a.unselectBatch=A,h}},21850:function(oe,j,r){"use strict";var I=r(50693),E=r(12663).axisHoverFormat,f=r(5386).fF,S=r(2418),M=r(9012),y=r(1426).extendFlat,u={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},u:{valType:"data_array",editType:"calc"},v:{valType:"data_array",editType:"calc"},w:{valType:"data_array",editType:"calc"},starts:{x:{valType:"data_array",editType:"calc"},y:{valType:"data_array",editType:"calc"},z:{valType:"data_array",editType:"calc"},editType:"calc"},maxdisplayed:{valType:"integer",min:0,dflt:1e3,editType:"calc"},sizeref:{valType:"number",editType:"calc",min:0,dflt:1},text:{valType:"string",dflt:"",editType:"calc"},hovertext:{valType:"string",dflt:"",editType:"calc"},hovertemplate:f({editType:"calc"},{keys:["tubex","tubey","tubez","tubeu","tubev","tubew","norm","divergence"]}),uhoverformat:E("u",1),vhoverformat:E("v",1),whoverformat:E("w",1),xhoverformat:E("x"),yhoverformat:E("y"),zhoverformat:E("z"),showlegend:y({},M.showlegend,{dflt:!1})};y(u,I("",{colorAttr:"u/v/w norm",showScaleDflt:!0,editTypeOverride:"calc"})),["opacity","lightposition","lighting"].forEach(function(i){u[i]=S[i]}),u.hoverinfo=y({},M.hoverinfo,{editType:"calc",flags:["x","y","z","u","v","w","norm","divergence","text","name"],dflt:"x+y+z+norm+text+name"}),u.transforms=void 0,oe.exports=u},88489:function(oe,j,r){"use strict";var I=r(71828),E=r(78803);function f(y){var u,i,s,a,o,l,c,h,v,p,T,_,g=y._x,w=y._y,x=y._z,b=y._len,A=-1/0,m=1/0,C=-1/0,k=1/0,P=-1/0,R=1/0,L="";for(b&&(c=g[0],v=w[0],T=x[0]),b>1&&(h=g[b-1],p=w[b-1],_=x[b-1]),u=0;u<b;u++)A=Math.max(A,g[u]),m=Math.min(m,g[u]),C=Math.max(C,w[u]),k=Math.min(k,w[u]),P=Math.max(P,x[u]),R=Math.min(R,x[u]),a||g[u]===c||(a=!0,L+="x"),o||w[u]===v||(o=!0,L+="y"),l||x[u]===T||(l=!0,L+="z");a||(L+="x"),o||(L+="y"),l||(L+="z");var N=S(y._x),B=S(y._y),J=S(y._z);L=(L=(L=L.replace("x",(c>h?"-":"+")+"x")).replace("y",(v>p?"-":"+")+"y")).replace("z",(T>_?"-":"+")+"z");var z=function(){b=0,N=[],B=[],J=[]};(!b||b<N.length*B.length*J.length)&&z();var Y=function(ye){return"x"===ye?g:"y"===ye?w:x},q=function(ye){return"x"===ye?N:"y"===ye?B:J},U=function(ye){return ye[b-1]<ye[0]?-1:1},Z=Y(L[1]),X=Y(L[3]),se=Y(L[5]),re=q(L[1]).length,ee=q(L[3]).length,K=q(L[5]).length,ne=!1,ae=function(ye,we,ze){return re*(ee*ye+we)+ze},ue=U(Y(L[1])),he=U(Y(L[3])),pe=U(Y(L[5]));for(u=0;u<K-1;u++){for(i=0;i<ee-1;i++){for(s=0;s<re-1;s++){var ge=ae(u,i,s),xe=ae(u,i,s+1),Se=ae(u,i+1,s),Te=ae(u+1,i,s);if(Z[ge]*ue<Z[xe]*ue&&X[ge]*he<X[Se]*he&&se[ge]*pe<se[Te]*pe||(ne=!0),ne)break}if(ne)break}if(ne)break}return ne&&(I.warn("Encountered arbitrary coordinates! Unable to input data grid."),z()),{xMin:m,yMin:k,zMin:R,xMax:A,yMax:C,zMax:P,Xs:N,Ys:B,Zs:J,len:b,fill:L}}function S(y){return I.distinctVals(y).vals}function M(y,u){if(void 0===u&&(u=y.length),I.isTypedArray(y))return y.subarray(0,u);for(var i=[],s=0;s<u;s++)i[s]=+y[s];return i}oe.exports={calc:function(y,u){u._len=Math.min(u.u.length,u.v.length,u.w.length,u.x.length,u.y.length,u.z.length),u._u=M(u.u,u._len),u._v=M(u.v,u._len),u._w=M(u.w,u._len),u._x=M(u.x,u._len),u._y=M(u.y,u._len),u._z=M(u.z,u._len);var i=f(u);u._gridFill=i.fill,u._Xs=i.Xs,u._Ys=i.Ys,u._Zs=i.Zs,u._len=i.len;var s,a,o,l=0;u.starts&&(s=M(u.starts.x||[]),a=M(u.starts.y||[]),o=M(u.starts.z||[]),l=Math.min(s.length,a.length,o.length)),u._startsX=s||[],u._startsY=a||[],u._startsZ=o||[];var c,h=0,v=1/0;for(c=0;c<u._len;c++){var p=u._u[c],T=u._v[c],_=u._w[c],g=Math.sqrt(p*p+T*T+_*_);h=Math.max(h,g),v=Math.min(v,g)}for(E(y,u,{vals:[v,h],containerStr:"",cLetter:"c"}),c=0;c<l;c++){var w=s[c];i.xMax=Math.max(i.xMax,w),i.xMin=Math.min(i.xMin,w);var x=a[c];i.yMax=Math.max(i.yMax,x),i.yMin=Math.min(i.yMin,x);var b=o[c];i.zMax=Math.max(i.zMax,b),i.zMin=Math.min(i.zMin,b)}u._slen=l,u._normMax=h,u._xbnds=[i.xMin,i.xMax],u._ybnds=[i.yMin,i.yMax],u._zbnds=[i.zMin,i.zMax]},filter:M,processGrid:f}},90154:function(oe,j,r){"use strict";var I=r(9330).gl_streamtube3d,E=I.createTubeMesh,f=r(71828),S=r(81697).parseColorScale,M=r(21081).extractOpts,y=r(90060),u={xaxis:0,yaxis:1,zaxis:2};function i(c,h){this.scene=c,this.uid=h,this.mesh=null,this.data=null}var s=i.prototype;function a(c){var h=c.length;return h>2?c.slice(1,h-1):2===h?[(c[0]+c[1])/2]:c}function o(c){var h=c.length;return 1===h?[.5,.5]:[c[1]-c[0],c[h-1]-c[h-2]]}function l(c,h){var v=c.fullSceneLayout,p=c.dataScale,T=h._len,_={};function g(re,ee){var K=v[ee],ne=p[u[ee]];return f.simpleMap(re,function(ae){return K.d2l(ae)*ne})}if(_.vectors=y(g(h._u,"xaxis"),g(h._v,"yaxis"),g(h._w,"zaxis"),T),!T)return{positions:[],cells:[]};var w=g(h._Xs,"xaxis"),x=g(h._Ys,"yaxis"),b=g(h._Zs,"zaxis");if(_.meshgrid=[w,x,b],_.gridFill=h._gridFill,h._slen)_.startingPositions=y(g(h._startsX,"xaxis"),g(h._startsY,"yaxis"),g(h._startsZ,"zaxis"));else{for(var A=x[0],m=a(w),C=a(b),k=new Array(m.length*C.length),P=0,R=0;R<m.length;R++)for(var L=0;L<C.length;L++)k[P++]=[m[R],A,C[L]];_.startingPositions=k}_.colormap=S(h),_.tubeSize=h.sizeref,_.maxLength=h.maxdisplayed;var N=g(h._xbnds,"xaxis"),B=g(h._ybnds,"yaxis"),J=g(h._zbnds,"zaxis"),z=o(w),Y=o(x),q=o(b),Z=I(_,[[N[0]-z[0],B[0]-Y[0],J[0]-q[0]],[N[1]+z[1],B[1]+Y[1],J[1]+q[1]]]),X=M(h);Z.vertexIntensityBounds=[X.min/h._normMax,X.max/h._normMax];var se=h.lightposition;return Z.lightPosition=[se.x,se.y,se.z],Z.ambient=h.lighting.ambient,Z.diffuse=h.lighting.diffuse,Z.specular=h.lighting.specular,Z.roughness=h.lighting.roughness,Z.fresnel=h.lighting.fresnel,Z.opacity=h.opacity,h._pad=Z.tubeScale*h.sizeref*2,Z}s.handlePick=function(c){var h=this.scene.fullSceneLayout,v=this.scene.dataScale;function p(g,w){var b=v[u[w]];return h[w].l2c(g)/b}if(c.object===this.mesh){var T=c.data.position,_=c.data.velocity;return c.traceCoordinate=[p(T[0],"xaxis"),p(T[1],"yaxis"),p(T[2],"zaxis"),p(_[0],"xaxis"),p(_[1],"yaxis"),p(_[2],"zaxis"),c.data.intensity*this.data._normMax,c.data.divergence],c.textLabel=this.data.hovertext||this.data.text,!0}},s.update=function(c){this.data=c;var h=l(this.scene,c);this.mesh.update(h)},s.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()},oe.exports=function(c,h){var v=c.glplot.gl,p=l(c,h),T=E(v,p),_=new i(c,h.uid);return _.mesh=T,_.data=h,T._trace=_,c.glplot.add(T),_}},22459:function(oe,j,r){"use strict";var I=r(71828),E=r(1586),f=r(21850);oe.exports=function(S,M,y,u){function i(v,p){return I.coerce(S,M,f,v,p)}var s=i("u"),a=i("v"),o=i("w"),l=i("x"),c=i("y"),h=i("z");s&&s.length&&a&&a.length&&o&&o.length&&l&&l.length&&c&&c.length&&h&&h.length?(i("starts.x"),i("starts.y"),i("starts.z"),i("maxdisplayed"),i("sizeref"),i("lighting.ambient"),i("lighting.diffuse"),i("lighting.specular"),i("lighting.roughness"),i("lighting.fresnel"),i("lightposition.x"),i("lightposition.y"),i("lightposition.z"),E(S,M,u,i,{prefix:"",cLetter:"c"}),i("text"),i("hovertext"),i("hovertemplate"),i("uhoverformat"),i("vhoverformat"),i("whoverformat"),i("xhoverformat"),i("yhoverformat"),i("zhoverformat"),M._length=null):M.visible=!1}},61510:function(oe,j,r){"use strict";oe.exports={moduleType:"trace",name:"streamtube",basePlotModule:r(58547),categories:["gl3d","showLegend"],attributes:r(21850),supplyDefaults:r(22459),colorbar:{min:"cmin",max:"cmax"},calc:r(88489).calc,plot:r(90154),eventData:function(I,E){return I.tubex=I.x,I.tubey=I.y,I.tubez=I.z,I.tubeu=E.traceCoordinate[3],I.tubev=E.traceCoordinate[4],I.tubew=E.traceCoordinate[5],I.norm=E.traceCoordinate[6],I.divergence=E.traceCoordinate[7],delete I.x,delete I.y,delete I.z,I},meta:{}}},57564:function(oe,j,r){"use strict";var I=r(9012),E=r(5386).fF,f=r(5386).si,S=r(50693),M=r(27670).Y,y=r(34e3),u=r(7055),i=r(1426).extendFlat,s=r(79952).u;oe.exports={labels:{valType:"data_array",editType:"calc"},parents:{valType:"data_array",editType:"calc"},values:{valType:"data_array",editType:"calc"},branchvalues:{valType:"enumerated",values:["remainder","total"],dflt:"remainder",editType:"calc"},count:{valType:"flaglist",flags:["branches","leaves"],dflt:"leaves",editType:"calc"},level:{valType:"any",editType:"plot",anim:!0},maxdepth:{valType:"integer",editType:"plot",dflt:-1},marker:i({colors:{valType:"data_array",editType:"calc"},line:{color:i({},y.marker.line.color,{dflt:null}),width:i({},y.marker.line.width,{dflt:1}),editType:"calc"},pattern:s,editType:"calc"},S("marker",{colorAttr:"colors",anim:!1})),leaf:{opacity:{valType:"number",editType:"style",min:0,max:1},editType:"plot"},text:y.text,textinfo:{valType:"flaglist",flags:["label","text","value","current path","percent root","percent entry","percent parent"],extras:["none"],editType:"plot"},texttemplate:f({editType:"plot"},{keys:u.eventDataKeys.concat(["label","value"])}),hovertext:y.hovertext,hoverinfo:i({},I.hoverinfo,{flags:["label","text","value","name","current path","percent root","percent entry","percent parent"],dflt:"label+text+value+name"}),hovertemplate:E({},{keys:u.eventDataKeys}),textfont:y.textfont,insidetextorientation:y.insidetextorientation,insidetextfont:y.insidetextfont,outsidetextfont:i({},y.outsidetextfont,{}),rotation:{valType:"angle",dflt:0,editType:"plot"},sort:y.sort,root:{color:{valType:"color",editType:"calc",dflt:"rgba(0,0,0,0)"},editType:"calc"},domain:M({name:"sunburst",trace:!0,editType:"calc"})}},66888:function(oe,j,r){"use strict";var I=r(74875);j.name="sunburst",j.plot=function(E,f,S,M){I.plotBasePlot(j.name,E,f,S,M)},j.clean=function(E,f,S,M){I.cleanBasePlot(j.name,E,f,S,M)}},52147:function(oe,j,r){"use strict";var I=r(674),E=r(92770),f=r(71828),S=r(21081).makeColorScaleFuncFromTrace,M=r(32354).makePullColorFn,y=r(32354).generateExtendedColors,u=r(21081).calc,i=r(50606).ALMOST_EQUAL,s={},a={},o={};function l(c,h,v){var p=0,T=c.children;if(T){for(var _=T.length,g=0;g<_;g++)p+=l(T[g],h,v);v.branches&&p++}else v.leaves&&p++;return c.value=c.data.data.value=p,h._values||(h._values=[]),h._values[c.data.data.i]=p,p}j.calc=function(c,h){var v,p,T,_,g,w,x=c._fullLayout,b=h.ids,A=f.isArrayOrTypedArray(b),m=h.labels,C=h.parents,k=h.values,P=f.isArrayOrTypedArray(k),R=[],L={},N={},B=function(pe){return pe||"number"==typeof pe},J=function(pe){return!P||E(k[pe])&&k[pe]>=0};A?(v=Math.min(b.length,C.length),p=function(pe){return B(b[pe])&&J(pe)},T=function(pe){return String(b[pe])}):(v=Math.min(m.length,C.length),p=function(pe){return B(m[pe])&&J(pe)},T=function(pe){return String(m[pe])}),P&&(v=Math.min(v,k.length));for(var z=0;z<v;z++)if(p(z)){var Y=T(z),q=B(C[z])?String(C[z]):"",U={i:z,id:Y,pid:q,label:B(m[z])?String(m[z]):""};P&&(U.v=+k[z]),R.push(U),g=Y,L[_=q]?L[_].push(g):L[_]=[g],N[g]=1}if(L[""]){if(L[""].length>1){for(var Z=f.randstr(),X=0;X<R.length;X++)""===R[X].pid&&(R[X].pid=Z);R.unshift({hasMultipleRoots:!0,id:Z,pid:"",label:""})}}else{var se,re=[];for(se in L)N[se]||re.push(se);if(1!==re.length)return f.warn(["Multiple implied roots, cannot build",h.type,"hierarchy of",h.name+".","These roots include:",re.join(", ")].join(" "));R.unshift({hasImpliedRoot:!0,id:se=re[0],pid:"",label:se})}try{w=I.stratify().id(function(pe){return pe.id}).parentId(function(pe){return pe.pid})(R)}catch(pe){return f.warn(["Failed to build",h.type,"hierarchy of",h.name+".","Error:",pe.message].join(" "))}var ee=I.hierarchy(w),K=!1;if(P)switch(h.branchvalues){case"remainder":ee.sum(function(pe){return pe.data.v});break;case"total":ee.each(function(pe){var ge=pe.data.data,xe=ge.v;if(pe.children){var Se=pe.children.reduce(function(Te,ye){return Te+ye.data.data.v},0);if((ge.hasImpliedRoot||ge.hasMultipleRoots)&&(xe=Se),xe<Se*i)return K=!0,f.warn(["Total value for node",pe.data.data.id,"of",h.name,"is smaller than the sum of its children.","\nparent value =",xe,"\nchildren sum =",Se].join(" "))}pe.value=xe})}else l(ee,h,{branches:-1!==h.count.indexOf("branches"),leaves:-1!==h.count.indexOf("leaves")});if(!K){var ne,ae;h.sort&&ee.sort(function(pe,ge){return ge.value-pe.value});var ue=h.marker.colors||[];return h._hasColorscale?(!!ue.length||(ue=P?h.values:h._values),u(c,h,{vals:ue,containerStr:"marker",cLetter:"c"}),ae=S(h.marker)):ne=M(x["_"+h.type+"colormap"]),ee.each(function(pe){var ge=pe.data.data;ge.color=h._hasColorscale?ae(ue[ge.i]):ne(ue[ge.i],ge.id)}),R[0].hierarchy=ee,R}},j._runCrossTraceCalc=function(c,h){var v=h._fullLayout,p=h.calcdata,T=v[c+"colorway"],_=v["_"+c+"colormap"];v["extend"+c+"colors"]&&(T=y(T,"icicle"===c?o:"treemap"===c?a:s));var g,w=0;function x(m){var C=m.data.data,k=C.id;!1===C.color&&(_[k]?C.color=_[k]:m.parent?m.parent.parent?C.color=m.parent.data.data.color:(_[k]=C.color=T[w%T.length],w++):C.color=g)}for(var b=0;b<p.length;b++){var A=p[b][0];A.trace.type===c&&A.hierarchy&&(g=A.trace.root.color,A.hierarchy.each(x))}},j.crossTraceCalc=function(c){return j._runCrossTraceCalc("sunburst",c)}},7055:function(oe){"use strict";oe.exports={CLICK_TRANSITION_TIME:750,CLICK_TRANSITION_EASING:"linear",eventDataKeys:["currentPath","root","entry","percentRoot","percentEntry","percentParent"]}},17094:function(oe,j,r){"use strict";var I=r(71828),E=r(57564),f=r(27670).c,S=r(90769).handleText,M=r(37434).handleMarkerDefaults,y=r(21081),u=y.hasColorscale,i=y.handleDefaults;oe.exports=function(s,a,o,l){function c(g,w){return I.coerce(s,a,E,g,w)}var h=c("labels"),v=c("parents");if(h&&h.length&&v&&v.length){var p=c("values");c(p&&p.length?"branchvalues":"count"),c("level"),c("maxdepth"),M(s,a,l,c);var T=a._hasColorscale=u(s,"marker","colors")||(s.marker||{}).coloraxis;T&&i(s,a,l,c,{prefix:"marker.",cLetter:"c"}),c("leaf.opacity",T?1:.7);var _=c("text");c("texttemplate"),a.texttemplate||c("textinfo",Array.isArray(_)?"text+label":"label"),c("hovertext"),c("hovertemplate"),S(s,a,l,c,"auto",{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),c("insidetextorientation"),c("sort"),c("rotation"),c("root.color"),f(a,l,c),a._length=null}else a.visible=!1}},43467:function(oe,j,r){"use strict";var I=r(91424),E=r(7901);oe.exports=function(f,S,M,y,u){var i=S.data.data,a=u||i.color;if(i.i>=0){S.i=i.i;var o=M.marker;o.pattern&&o.colors&&o.pattern.shape||(o.color=a,S.color=a),I.pointStyle(f,M,y,S)}else E.fill(f,a)}},83523:function(oe,j,r){"use strict";var I=r(39898),E=r(73972),f=r(23469).appendArrayPointValue,S=r(30211),M=r(71828),y=r(11086),u=r(2791),i=r(53581).formatPieValue;function s(a,o,l){for(var c=a.data.data,h={curveNumber:o.index,pointNumber:c.i,data:o._input,fullData:o},v=0;v<l.length;v++){var p=l[v];p in a&&(h[p]=a[p])}return"parentString"in a&&!u.isHierarchyRoot(a)&&(h.parent=a.parentString),f(h,o,c.i),h}oe.exports=function(a,o,l,c,h){var v=c[0],p=v.trace,T=v.hierarchy,_="sunburst"===p.type,g="treemap"===p.type||"icicle"===p.type;"_hasHoverLabel"in p||(p._hasHoverLabel=!1),"_hasHoverEvent"in p||(p._hasHoverEvent=!1),a.on("mouseover",function(w){var x=l._fullLayout;if(!l._dragging&&!1!==x.hovermode){var b,A=l._fullData[p.index],m=w.data.data,C=m.i,k=u.isHierarchyRoot(w),P=u.getParent(T,w),R=u.getValue(w),L=function(ue){return M.castOption(A,C,ue)},N=L("hovertemplate"),B=S.castHoverinfo(A,x,C),J=x.separators;if(N||B&&"none"!==B&&"skip"!==B){var z,Y;_&&(z=v.cx+w.pxmid[0]*(1-w.rInscribed),Y=v.cy+w.pxmid[1]*(1-w.rInscribed)),g&&(z=w._hoverX,Y=w._hoverY);var q,U={},Z=[],X=[],se=function(ue){return-1!==Z.indexOf(ue)};B&&(Z="all"===B?A._module.attributes.hoverinfo.flags:B.split("+")),U.label=m.label,se("label")&&U.label&&X.push(U.label),m.hasOwnProperty("v")&&(U.value=m.v,U.valueLabel=i(U.value,J),se("value")&&X.push(U.valueLabel)),U.currentPath=w.currentPath=u.getPath(w.data),se("current path")&&!k&&X.push(U.currentPath);var re=[],ee=function(){-1===re.indexOf(q)&&(X.push(q),re.push(q))};U.percentParent=w.percentParent=R/u.getValue(P),U.parent=w.parentString=u.getPtLabel(P),se("percent parent")&&(q=u.formatPercent(U.percentParent,J)+" of "+U.parent,ee()),U.percentEntry=w.percentEntry=R/u.getValue(o),U.entry=w.entry=u.getPtLabel(o),!se("percent entry")||k||w.onPathbar||(q=u.formatPercent(U.percentEntry,J)+" of "+U.entry,ee()),U.percentRoot=w.percentRoot=R/u.getValue(T),U.root=w.root=u.getPtLabel(T),se("percent root")&&!k&&(q=u.formatPercent(U.percentRoot,J)+" of "+U.root,ee()),U.text=L("hovertext")||L("text"),se("text")&&M.isValidTextValue(q=U.text)&&X.push(q),b=[s(w,A,h.eventDataKeys)];var K={trace:A,y:Y,_x0:w._x0,_x1:w._x1,_y0:w._y0,_y1:w._y1,text:X.join("<br>"),name:N||se("name")?A.name:void 0,color:L("hoverlabel.bgcolor")||m.color,borderColor:L("hoverlabel.bordercolor"),fontFamily:L("hoverlabel.font.family"),fontSize:L("hoverlabel.font.size"),fontColor:L("hoverlabel.font.color"),nameLength:L("hoverlabel.namelength"),textAlign:L("hoverlabel.align"),hovertemplate:N,hovertemplateLabels:U,eventData:b};_&&(K.x0=z-w.rInscribed*w.rpx1,K.x1=z+w.rInscribed*w.rpx1,K.idealAlign=w.pxmid[0]<0?"left":"right"),g&&(K.x=z,K.idealAlign=z<0?"left":"right");var ne=[];S.loneHover(K,{container:x._hoverlayer.node(),outerContainer:x._paper.node(),gd:l,inOut_bbox:ne}),b[0].bbox=ne[0],p._hasHoverLabel=!0}if(g){var ae=a.select("path.surface");h.styleOne(ae,w,A,l,{hovered:!0})}p._hasHoverEvent=!0,l.emit("plotly_hover",{points:b||[s(w,A,h.eventDataKeys)],event:I.event})}}),a.on("mouseout",function(w){var x=l._fullLayout,b=l._fullData[p.index],A=I.select(this).datum();if(p._hasHoverEvent&&(w.originalEvent=I.event,l.emit("plotly_unhover",{points:[s(A,b,h.eventDataKeys)],event:I.event}),p._hasHoverEvent=!1),p._hasHoverLabel&&(S.loneUnhover(x._hoverlayer.node()),p._hasHoverLabel=!1),g){var m=a.select("path.surface");h.styleOne(m,A,b,l,{hovered:!1})}}),a.on("click",function(w){var x=l._fullLayout,b=l._fullData[p.index],A=_&&(u.isHierarchyRoot(w)||u.isLeaf(w)),m=u.getPtId(w),C=u.isEntry(w)?u.findEntryWithChild(T,m):u.findEntryWithLevel(T,m),k=u.getPtId(C),P={points:[s(w,b,h.eventDataKeys)],event:I.event};A||(P.nextLevel=k);var R=y.triggerHandler(l,"plotly_"+p.type+"click",P);if(!1!==R&&x.hovermode&&(l._hoverdata=[s(w,b,h.eventDataKeys)],S.click(l,I.event)),!A&&!1!==R&&!l._dragging&&!l._transitioning){E.call("_storeDirectGUIEdit",b,x._tracePreGUI[b.uid],{level:b.level});var L={data:[{level:k}],traces:[p.index]},N={frame:{redraw:!1,duration:h.transitionTime},transition:{duration:h.transitionTime,easing:h.transitionEasing},mode:"immediate",fromcurrent:!0};S.loneUnhover(x._hoverlayer.node()),E.call("animate",l,L,N)}})}},2791:function(oe,j,r){"use strict";var I=r(71828),E=r(7901),f=r(6964),S=r(53581);function M(y){return y.data.data.pid}j.findEntryWithLevel=function(y,u){var i;return u&&y.eachAfter(function(s){if(j.getPtId(s)===u)return i=s.copy()}),i||y},j.findEntryWithChild=function(y,u){var i;return y.eachAfter(function(s){for(var a=s.children||[],o=0;o<a.length;o++)if(j.getPtId(a[o])===u)return i=s.copy()}),i||y},j.isEntry=function(y){return!y.parent},j.isLeaf=function(y){return!y.children},j.getPtId=function(y){return y.data.data.id},j.getPtLabel=function(y){return y.data.data.label},j.getValue=function(y){return y.value},j.isHierarchyRoot=function(y){return""===M(y)},j.setSliceCursor=function(y,u,i){var s=i.isTransitioning;if(!s){var a=y.datum();s=i.hideOnRoot&&j.isHierarchyRoot(a)||i.hideOnLeaves&&j.isLeaf(a)}f(y,s?null:"pointer")},j.getInsideTextFontKey=function(y,u,i,s,a){var l=i.data.data.i;return I.castOption(u,l,((a||{}).onPathbar?"pathbar.textfont":"insidetextfont")+"."+y)||I.castOption(u,l,"textfont."+y)||s.size},j.getOutsideTextFontKey=function(y,u,i,s){var a=i.data.data.i;return I.castOption(u,a,"outsidetextfont."+y)||I.castOption(u,a,"textfont."+y)||s.size},j.isOutsideText=function(y,u){return!y._hasColorscale&&j.isHierarchyRoot(u)},j.determineTextFont=function(y,u,i,s){return j.isOutsideText(y,u)?{color:j.getOutsideTextFontKey("color",a=y,o=u,l=i),family:j.getOutsideTextFontKey("family",a,o,l),size:j.getOutsideTextFontKey("size",a,o,l)}:function(a,o,l,c){var v=o.data.data,p=v.i,T=I.castOption(a,p,((c||{}).onPathbar?"pathbar.textfont":"insidetextfont")+".color");return!T&&a._input.textfont&&(T=I.castOption(a._input,p,"textfont.color")),{color:T||E.contrast(v.color),family:j.getInsideTextFontKey("family",a,o,l,c),size:j.getInsideTextFontKey("size",a,o,l,c)}}(y,u,i,s);var a,o,l},j.hasTransition=function(y){return!!(y&&y.duration>0)},j.getMaxDepth=function(y){return y.maxdepth>=0?y.maxdepth:1/0},j.isHeader=function(y,u){return!(j.isLeaf(y)||y.depth===u._maxDepth-1)},j.getParent=function(y,u){return j.findEntryWithLevel(y,M(u))},j.listPath=function(y,u){var i=y.parent;if(!i)return[];var s=u?[i.data[u]]:[i];return j.listPath(i,u).concat(s)},j.getPath=function(y){return j.listPath(y,"label").join("/")+"/"},j.formatValue=S.formatPieValue,j.formatPercent=function(y,u){var i=I.formatPercent(y,0);return"0%"===i&&(i=S.formatPiePercent(y,u)),i}},87619:function(oe,j,r){"use strict";oe.exports={moduleType:"trace",name:"sunburst",basePlotModule:r(66888),categories:[],animatable:!0,attributes:r(57564),layoutAttributes:r(2654),supplyDefaults:r(17094),supplyLayoutDefaults:r(57034),calc:r(52147).calc,crossTraceCalc:r(52147).crossTraceCalc,plot:r(24714).plot,style:r(29969).style,colorbar:r(4898),meta:{}}},2654:function(oe){"use strict";oe.exports={sunburstcolorway:{valType:"colorlist",editType:"calc"},extendsunburstcolors:{valType:"boolean",dflt:!0,editType:"calc"}}},57034:function(oe,j,r){"use strict";var I=r(71828),E=r(2654);oe.exports=function(f,S){function M(y,u){return I.coerce(f,S,E,y,u)}M("sunburstcolorway",S.colorway),M("extendsunburstcolors")}},24714:function(oe,j,r){"use strict";var I=r(39898),E=r(674),f=r(81684).sX,S=r(91424),M=r(71828),y=r(63893),u=r(72597),i=u.recordMinTextSize,s=u.clearMinTextSize,a=r(14575),o=r(53581).getRotationAngle,l=a.computeTransform,c=a.transformInsideText,h=r(29969).styleOne,v=r(16688).resizeText,p=r(83523),T=r(7055),_=r(2791);function g(x,b,A,m){var C=x._context.staticPlot,k=x._fullLayout,P=!k.uniformtext.mode&&_.hasTransition(m),R=I.select(A).selectAll("g.slice"),L=b[0],N=L.trace,J=_.findEntryWithLevel(L.hierarchy,N.level),z=_.getMaxDepth(N),Y=k._size,q=N.domain,Z=Y.h*(q.y[1]-q.y[0]),X=.5*Math.min(Y.w*(q.x[1]-q.x[0]),Z),se=L.cx=Y.l+Y.w*(q.x[1]+q.x[0])/2,re=L.cy=Y.t+Y.h*(1-q.y[0])-Z/2;if(!J)return R.remove();var ee=null,K={};P&&R.each(function(de){K[_.getPtId(de)]={rpx0:de.rpx0,rpx1:de.rpx1,x0:de.x0,x1:de.x1,transform:de.transform},!ee&&_.isEntry(de)&&(ee=de)});var de,ne=(de=J,E.partition().size([2*Math.PI,de.height+1])(de)).descendants(),ae=J.height+1,ue=0,he=z;L.hasMultipleRoots&&_.isHierarchyRoot(J)&&(ne=ne.slice(1),ae-=1,ue=1,he+=1),ne=ne.filter(function(de){return de.y1<=he});var pe=o(N.rotation);pe&&ne.forEach(function(de){de.x0+=pe,de.x1+=pe});var ge=Math.min(ae,z),xe=function(de){return(de-ue)/ge*X},Se=function(de,ce){return[de*Math.cos(ce),-de*Math.sin(ce)]},Te=function(de){return M.pathAnnulus(de.rpx0,de.rpx1,de.x0,de.x1,se,re)},ye=function(de){return se+w(de)[0]*(de.transform.rCenter||0)+(de.transform.x||0)},we=function(de){return re+w(de)[1]*(de.transform.rCenter||0)+(de.transform.y||0)};(R=R.data(ne,_.getPtId)).enter().append("g").classed("slice",!0),P?R.exit().transition().each(function(){var de=I.select(this);de.select("path.surface").transition().attrTween("d",function(ce){var Ae=function(Ne){var De,Ue=_.getPtId(Ne),Ye=K[Ue],_e=K[_.getPtId(J)];if(_e){var Pe=(Ne.x1>_e.x1?2*Math.PI:0)+pe;De=Ne.rpx1<_e.rpx1?{x0:Ne.x0,x1:Ne.x1,rpx0:0,rpx1:0}:{x0:Pe,x1:Pe,rpx0:Ne.rpx0,rpx1:Ne.rpx1}}else{var Ie,Be=_.getPtId(Ne.parent);R.each(function(st){if(_.getPtId(st)===Be)return Ie=st});var We,Ge=Ie.children;Ge.forEach(function(st,gt){if(_.getPtId(st)===Ue)return We=gt});var Ke=Ge.length,tt=f(Ie.x0,Ie.x1);De={rpx0:X,rpx1:X,x0:tt(We/Ke),x1:tt((We+1)/Ke)}}return f(Ye,De)}(ce);return function(Ne){return Te(Ae(Ne))}}),de.select("g.slicetext").attr("opacity",0)}).remove():R.exit().remove(),R.order();var ze=null;if(P&&ee){var ke=_.getPtId(ee);R.each(function(de){null===ze&&_.getPtId(de)===ke&&(ze=de.x1)})}var Ee=R;function me(de){var ce=de.parent,Ae=K[_.getPtId(ce)],Ne={};if(Ae){var De=ce.children,Ue=De.indexOf(de),Ye=De.length,_e=f(Ae.x0,Ae.x1);Ne.x0=_e(Ue/Ye),Ne.x1=_e(Ue/Ye)}else Ne.x0=Ne.x1=0;return Ne}P&&(Ee=Ee.transition().each("end",function(){var de=I.select(this);_.setSliceCursor(de,x,{hideOnRoot:!0,hideOnLeaves:!0,isTransitioning:!1})})),Ee.each(function(de){var Pe,ce=I.select(this),Ae=M.ensureSingle(ce,"path","surface",function(Pe){Pe.style("pointer-events",C?"none":"all")});de.rpx0=xe(de.y0),de.rpx1=xe(de.y1),de.xmid=(de.x0+de.x1)/2,de.pxmid=Se(de.rpx1,de.xmid),de.midangle=-(de.xmid-Math.PI/2),de.startangle=-(de.x0-Math.PI/2),de.stopangle=-(de.x1-Math.PI/2),de.halfangle=.5*Math.min(M.angleDelta(de.x0,de.x1)||Math.PI,Math.PI),de.ring=1-de.rpx0/de.rpx1,de.rInscribed=0===(Pe=de).rpx0&&M.isFullCircle([Pe.x0,Pe.x1])?1:Math.max(0,Math.min(1/(1+1/Math.sin(Pe.halfangle)),Pe.ring/2)),P?Ae.transition().attrTween("d",function(Pe){var Ie=function(Be){var We,Ge=K[_.getPtId(Be)],Ke={x0:Be.x0,x1:Be.x1,rpx0:Be.rpx0,rpx1:Be.rpx1};if(Ge)We=Ge;else if(ee)if(Be.parent)if(ze){var tt=(Be.x1>ze?2*Math.PI:0)+pe;We={x0:tt,x1:tt}}else M.extendFlat(We={rpx0:X,rpx1:X},me(Be));else We={rpx0:0,rpx1:0};else We={x0:pe,x1:pe};return f(We,Ke)}(Pe);return function(Be){return Te(Ie(Be))}}):Ae.attr("d",Te),ce.call(p,J,x,b,{eventDataKeys:T.eventDataKeys,transitionTime:T.CLICK_TRANSITION_TIME,transitionEasing:T.CLICK_TRANSITION_EASING}).call(_.setSliceCursor,x,{hideOnRoot:!0,hideOnLeaves:!0,isTransitioning:x._transitioning}),Ae.call(h,de,N,x);var Ne=M.ensureSingle(ce,"g","slicetext"),De=M.ensureSingle(Ne,"text","",function(Pe){Pe.attr("data-notex",1)}),Ue=M.ensureUniformFontSize(x,_.determineTextFont(N,de,k.font));De.text(j.formatSliceLabel(de,J,N,b,k)).classed("slicetext",!0).attr("text-anchor","middle").call(S.font,Ue).call(y.convertToTspans,x);var Ye=S.bBox(De.node());de.transform=c(Ye,de,L),de.transform.targetX=ye(de),de.transform.targetY=we(de);var _e=function(Pe,Ie){var Be=Pe.transform;return l(Be,Ie),Be.fontSize=Ue.size,i(N.type,Be,k),M.getTextTransform(Be)};P?De.transition().attrTween("transform",function(Pe){var Ie=function(Be){var We,Ge=K[_.getPtId(Be)],Ke=Be.transform;if(Ge)We=Ge;else if(We={rpx1:Be.rpx1,transform:{textPosAngle:Ke.textPosAngle,scale:0,rotate:Ke.rotate,rCenter:Ke.rCenter,x:Ke.x,y:Ke.y}},ee)if(Be.parent)if(ze){var tt=Be.x1>ze?2*Math.PI:0;We.x0=We.x1=tt}else M.extendFlat(We,me(Be));else We.x0=We.x1=pe;else We.x0=We.x1=pe;var st=f(We.transform.textPosAngle,Be.transform.textPosAngle),gt=f(We.rpx1,Be.rpx1),ct=f(We.x0,Be.x0),kt=f(We.x1,Be.x1),Dt=f(We.transform.scale,Ke.scale),vt=f(We.transform.rotate,Ke.rotate),mt=0===Ke.rCenter?3:0===We.transform.rCenter?1/3:1,Et=f(We.transform.rCenter,Ke.rCenter);return function(Lt){var Rt=gt(Lt),Ut=ct(Lt),Bt=kt(Lt),rt=Et(Math.pow(Lt,mt)),ot={pxmid:Se(Rt,(Ut+Bt)/2),rpx1:Rt,transform:{textPosAngle:st(Lt),rCenter:rt,x:Ke.x,y:Ke.y}};return i(N.type,Ke,k),{transform:{targetX:ye(ot),targetY:we(ot),scale:Dt(Lt),rotate:vt(Lt),rCenter:rt}}}}(Pe);return function(Be){return _e(Ie(Be),Ye)}}):De.attr("transform",_e(de,Ye))})}function w(x){return A=x.transform.textPosAngle,[(b=x.rpx1)*Math.sin(A),-b*Math.cos(A)];var b,A}j.plot=function(x,b,A,m){var C,k,P=x._fullLayout,R=P._sunburstlayer,L=!A,N=!P.uniformtext.mode&&_.hasTransition(A);s("sunburst",P),(C=R.selectAll("g.trace.sunburst").data(b,function(B){return B[0].trace.uid})).enter().append("g").classed("trace",!0).classed("sunburst",!0).attr("stroke-linejoin","round"),C.order(),N?(m&&(k=m()),I.transition().duration(A.duration).ease(A.easing).each("end",function(){k&&k()}).each("interrupt",function(){k&&k()}).each(function(){R.selectAll("g.trace").each(function(B){g(x,B,this,A)})})):(C.each(function(B){g(x,B,this,A)}),P.uniformtext.mode&&v(x,P._sunburstlayer.selectAll(".trace"),"sunburst")),L&&C.exit().remove()},j.formatSliceLabel=function(x,b,A,m,C){var k=A.texttemplate,P=A.textinfo;if(!(k||P&&"none"!==P))return"";var R=C.separators,N=x.data.data,B=m[0].hierarchy,J=_.isHierarchyRoot(x),z=_.getParent(B,x),Y=_.getValue(x);if(!k){var q,U=P.split("+"),Z=function(he){return-1!==U.indexOf(he)},X=[];if(Z("label")&&N.label&&X.push(N.label),N.hasOwnProperty("v")&&Z("value")&&X.push(_.formatValue(N.v,R)),!J){Z("current path")&&X.push(_.getPath(x.data));var se=0;Z("percent parent")&&se++,Z("percent entry")&&se++,Z("percent root")&&se++;var re=se>1;if(se){var ee,K=function(he){q=_.formatPercent(ee,R),re&&(q+=" of "+he),X.push(q)};Z("percent parent")&&!J&&(ee=Y/_.getValue(z),K("parent")),Z("percent entry")&&(ee=Y/_.getValue(b),K("entry")),Z("percent root")&&(ee=Y/_.getValue(B),K("root"))}}return Z("text")&&(q=M.castOption(A,N.i,"text"),M.isValidTextValue(q)&&X.push(q)),X.join("<br>")}var ne=M.castOption(A,N.i,"texttemplate");if(!ne)return"";var ae={};N.label&&(ae.label=N.label),N.hasOwnProperty("v")&&(ae.value=N.v,ae.valueLabel=_.formatValue(N.v,R)),ae.currentPath=_.getPath(x.data),J||(ae.percentParent=Y/_.getValue(z),ae.percentParentLabel=_.formatPercent(ae.percentParent,R),ae.parent=_.getPtLabel(z)),ae.percentEntry=Y/_.getValue(b),ae.percentEntryLabel=_.formatPercent(ae.percentEntry,R),ae.entry=_.getPtLabel(b),ae.percentRoot=Y/_.getValue(B),ae.percentRootLabel=_.formatPercent(ae.percentRoot,R),ae.root=_.getPtLabel(B),N.hasOwnProperty("color")&&(ae.color=N.color);var ue=M.castOption(A,N.i,"text");return(M.isValidTextValue(ue)||""===ue)&&(ae.text=ue),ae.customdata=M.castOption(A,N.i,"customdata"),M.texttemplateString(ne,ae,C._d3locale,ae,A._meta||{})}},29969:function(oe,j,r){"use strict";var I=r(39898),E=r(7901),f=r(71828),S=r(72597).resizeText,M=r(43467);function y(u,i,s,a){var l=!i.children,c=i.data.data.i,h=f.castOption(s,c,"marker.line.color")||E.defaultLine,v=f.castOption(s,c,"marker.line.width")||0;u.call(M,i,s,a).style("stroke-width",v).call(E.stroke,h).style("opacity",l?s.leaf.opacity:null)}oe.exports={style:function(u){var i=u._fullLayout._sunburstlayer.selectAll(".trace");S(u,i,"sunburst"),i.each(function(s){var a=I.select(this),o=s[0].trace;a.style("opacity",o.opacity),a.selectAll("path.surface").each(function(l){I.select(this).call(y,l,o,u)})})},styleOne:y}},54532:function(oe,j,r){"use strict";var I=r(7901),E=r(50693),f=r(12663).axisHoverFormat,S=r(5386).fF,M=r(9012),y=r(1426).extendFlat,u=r(30962).overrideAll;function i(a){return{show:{valType:"boolean",dflt:!1},start:{valType:"number",dflt:null,editType:"plot"},end:{valType:"number",dflt:null,editType:"plot"},size:{valType:"number",dflt:null,min:0,editType:"plot"},project:{x:{valType:"boolean",dflt:!1},y:{valType:"boolean",dflt:!1},z:{valType:"boolean",dflt:!1}},color:{valType:"color",dflt:I.defaultLine},usecolormap:{valType:"boolean",dflt:!1},width:{valType:"number",min:1,max:16,dflt:2},highlight:{valType:"boolean",dflt:!0},highlightcolor:{valType:"color",dflt:I.defaultLine},highlightwidth:{valType:"number",min:1,max:16,dflt:2}}}var s=oe.exports=u(y({z:{valType:"data_array"},x:{valType:"data_array"},y:{valType:"data_array"},text:{valType:"string",dflt:"",arrayOk:!0},hovertext:{valType:"string",dflt:"",arrayOk:!0},hovertemplate:S(),xhoverformat:f("x"),yhoverformat:f("y"),zhoverformat:f("z"),connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},surfacecolor:{valType:"data_array"}},E("",{colorAttr:"z or surfacecolor",showScaleDflt:!0,autoColorDflt:!1,editTypeOverride:"calc"}),{contours:{x:i(),y:i(),z:i()},hidesurface:{valType:"boolean",dflt:!1},lightposition:{x:{valType:"number",min:-1e5,max:1e5,dflt:10},y:{valType:"number",min:-1e5,max:1e5,dflt:1e4},z:{valType:"number",min:-1e5,max:1e5,dflt:0}},lighting:{ambient:{valType:"number",min:0,max:1,dflt:.8},diffuse:{valType:"number",min:0,max:1,dflt:.8},specular:{valType:"number",min:0,max:2,dflt:.05},roughness:{valType:"number",min:0,max:1,dflt:.5},fresnel:{valType:"number",min:0,max:5,dflt:.2}},opacity:{valType:"number",min:0,max:1,dflt:1},opacityscale:{valType:"any",editType:"calc"},_deprecated:{zauto:y({},E.zauto,{}),zmin:y({},E.zmin,{}),zmax:y({},E.zmax,{})},hoverinfo:y({},M.hoverinfo),showlegend:y({},M.showlegend,{dflt:!1})}),"calc","nested");s.x.editType=s.y.editType=s.z.editType="calc+clearAxisTypes",s.transforms=void 0},18396:function(oe,j,r){"use strict";var I=r(78803);oe.exports=function(E,f){I(E,f,f.surfacecolor?{vals:f.surfacecolor,containerStr:"",cLetter:"c"}:{vals:f.z,containerStr:"",cLetter:"c"})}},43768:function(oe,j,r){"use strict";var I=r(9330).gl_surface3d,E=r(9330).ndarray,f=r(9330).ndarray_linear_interpolate.d2,S=r(824),M=r(43907),y=r(71828).isArrayOrTypedArray,u=r(81697).parseColorScale,i=r(78614),s=r(21081).extractOpts;function a(A,m,C){this.scene=A,this.uid=C,this.surface=m,this.data=null,this.showContour=[!1,!1,!1],this.contourStart=[null,null,null],this.contourEnd=[null,null,null],this.contourSize=[0,0,0],this.minValues=[1/0,1/0,1/0],this.maxValues=[-1/0,-1/0,-1/0],this.dataScaleX=1,this.dataScaleY=1,this.refineData=!0,this.objectOffset=[0,0,0]}var o=a.prototype;o.getXat=function(A,m,C,k){var P=y(this.data.x)?y(this.data.x[0])?this.data.x[m][A]:this.data.x[A]:A;return void 0===C?P:k.d2l(P,0,C)},o.getYat=function(A,m,C,k){var P=y(this.data.y)?y(this.data.y[0])?this.data.y[m][A]:this.data.y[m]:m;return void 0===C?P:k.d2l(P,0,C)},o.getZat=function(A,m,C,k){var P=this.data.z[m][A];return null===P&&this.data.connectgaps&&this.data._interpolatedZ&&(P=this.data._interpolatedZ[m][A]),void 0===C?P:k.d2l(P,0,C)},o.handlePick=function(A){if(A.object===this.surface){var C=(A.data.index[1]-1)/this.dataScaleY-1,k=Math.max(Math.min(Math.round((A.data.index[0]-1)/this.dataScaleX-1),this.data.z[0].length-1),0),P=Math.max(Math.min(Math.round(C),this.data._ylength-1),0);A.index=[k,P],A.traceCoordinate=[this.getXat(k,P),this.getYat(k,P),this.getZat(k,P)],A.dataCoordinate=[this.getXat(k,P,this.data.xcalendar,this.scene.fullSceneLayout.xaxis),this.getYat(k,P,this.data.ycalendar,this.scene.fullSceneLayout.yaxis),this.getZat(k,P,this.data.zcalendar,this.scene.fullSceneLayout.zaxis)];for(var R=0;R<3;R++)null!=A.dataCoordinate[R]&&(A.dataCoordinate[R]*=this.scene.dataScale[R]);var L=this.data.hovertext||this.data.text;return A.textLabel=Array.isArray(L)&&L[P]&&void 0!==L[P][k]?L[P][k]:L||"",A.data.dataCoordinate=A.dataCoordinate.slice(),this.surface.highlight(A.data),this.scene.glplot.spikes.position=A.dataCoordinate,!0}};var l=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997,1009,1013,1019,1021,1031,1033,1039,1049,1051,1061,1063,1069,1087,1091,1093,1097,1103,1109,1117,1123,1129,1151,1153,1163,1171,1181,1187,1193,1201,1213,1217,1223,1229,1231,1237,1249,1259,1277,1279,1283,1289,1291,1297,1301,1303,1307,1319,1321,1327,1361,1367,1373,1381,1399,1409,1423,1427,1429,1433,1439,1447,1451,1453,1459,1471,1481,1483,1487,1489,1493,1499,1511,1523,1531,1543,1549,1553,1559,1567,1571,1579,1583,1597,1601,1607,1609,1613,1619,1621,1627,1637,1657,1663,1667,1669,1693,1697,1699,1709,1721,1723,1733,1741,1747,1753,1759,1777,1783,1787,1789,1801,1811,1823,1831,1847,1861,1867,1871,1873,1877,1879,1889,1901,1907,1913,1931,1933,1949,1951,1973,1979,1987,1993,1997,1999,2003,2011,2017,2027,2029,2039,2053,2063,2069,2081,2083,2087,2089,2099,2111,2113,2129,2131,2137,2141,2143,2153,2161,2179,2203,2207,2213,2221,2237,2239,2243,2251,2267,2269,2273,2281,2287,2293,2297,2309,2311,2333,2339,2341,2347,2351,2357,2371,2377,2381,2383,2389,2393,2399,2411,2417,2423,2437,2441,2447,2459,2467,2473,2477,2503,2521,2531,2539,2543,2549,2551,2557,2579,2591,2593,2609,2617,2621,2633,2647,2657,2659,2663,2671,2677,2683,2687,2689,2693,2699,2707,2711,2713,2719,2729,2731,2741,2749,2753,2767,2777,2789,2791,2797,2801,2803,2819,2833,2837,2843,2851,2857,2861,2879,2887,2897,2903,2909,2917,2927,2939,2953,2957,2963,2969,2971,2999];function c(A,m){if(A<m)return 0;for(var C=0;0===Math.floor(A%m);)A/=m,C++;return C}function h(A){for(var m=[],C=0;C<l.length;C++)m.push(c(A,l[C]));return m}function v(A){for(var m=h(A),C=A,k=0;k<l.length;k++)if(m[k]>0){C=l[k];break}return C}function p(A,m){if(!(A<1||m<1)){for(var C=h(A),k=h(m),P=1,R=0;R<l.length;R++)P*=Math.pow(l[R],Math.max(C[R],k[R]));return P}}o.calcXnums=function(A){var m,C=[];for(m=1;m<A;m++){var k=this.getXat(m-1,0),P=this.getXat(m,0);C[m-1]=P!==k&&null!=k&&null!=P?Math.abs(P-k):0}var R=0;for(m=1;m<A;m++)R+=C[m-1];for(m=1;m<A;m++)C[m-1]=0===C[m-1]?1:Math.round(R/C[m-1]);return C},o.calcYnums=function(A){var m,C=[];for(m=1;m<A;m++){var k=this.getYat(0,m-1),P=this.getYat(0,m);C[m-1]=P!==k&&null!=k&&null!=P?Math.abs(P-k):0}var R=0;for(m=1;m<A;m++)R+=C[m-1];for(m=1;m<A;m++)C[m-1]=0===C[m-1]?1:Math.round(R/C[m-1]);return C};var T=[1,2,4,6,12,24,36,48,60,120,180,240,360,720,840,1260],_=T[9],g=T[13];function w(A,m,C){var k=C[8]+C[2]*m[0]+C[5]*m[1];return A[0]=(C[6]+C[0]*m[0]+C[3]*m[1])/k,A[1]=(C[7]+C[1]*m[0]+C[4]*m[1])/k,A}function x(A,m,C){return function(k,P,R,L){for(var N=[0,0],B=k.shape[0],J=k.shape[1],z=0;z<B;z++)for(var Y=0;Y<J;Y++)R(N,[z,Y],L),k.set(z,Y,f(P,N[0],N[1]))}(A,m,w,C),A}function b(A,m){for(var C=!1,k=0;k<A.length;k++)if(m===A[k]){C=!0;break}!1===C&&A.push(m)}o.estimateScale=function(A,m){for(var C=1+function(P){if(0!==P.length){for(var R=1,L=0;L<P.length;L++)R=p(R,P[L]);return R}}(0===m?this.calcXnums(A):this.calcYnums(A));C<_;)C*=2;for(;C>g;)C--,C/=v(C),++C<_&&(C=g);var k=Math.round(C/A);return k>1?k:1},o.refineCoords=function(A){for(var m=this.dataScaleX,C=this.dataScaleY,k=A[0].shape[0],P=A[0].shape[1],R=0|Math.floor(A[0].shape[0]*m+1),L=0|Math.floor(A[0].shape[1]*C+1),N=1+k+1,B=1+P+1,J=E(new Float32Array(N*B),[N,B]),z=[1/m,0,0,0,1/C,0,0,0,1],Y=0;Y<A.length;++Y){this.surface.padField(J,A[Y]);var q=E(new Float32Array(R*L),[R,L]);x(q,J,z),A[Y]=q}},o.setContourLevels=function(){var A,m,k=[[],[],[]],P=[!1,!1,!1],R=!1;for(A=0;A<3;++A)if(this.showContour[A]&&(R=!0,this.contourSize[A]>0&&null!==this.contourStart[A]&&null!==this.contourEnd[A]&&this.contourEnd[A]>this.contourStart[A]))for(P[A]=!0,m=this.contourStart[A];m<this.contourEnd[A];m+=this.contourSize[A])b(k[A],m*this.scene.dataScale[A]);if(R){var L=[[],[],[]];for(A=0;A<3;++A)this.showContour[A]&&(L[A]=P[A]?k[A]:this.scene.contourLevels[A]);this.surface.update({levels:L})}},o.update=function(A){var m,C,k,P,R=this.scene,L=R.fullSceneLayout,N=this.surface,B=u(A),J=R.dataScale,z=A.z[0].length,Y=A._ylength,q=R.contourLevels;this.data=A;var U=[];for(m=0;m<3;m++)for(U[m]=[],C=0;C<z;C++)U[m][C]=[];for(C=0;C<z;C++)for(k=0;k<Y;k++)U[0][C][k]=this.getXat(C,k,A.xcalendar,L.xaxis),U[1][C][k]=this.getYat(C,k,A.ycalendar,L.yaxis),U[2][C][k]=this.getZat(C,k,A.zcalendar,L.zaxis);if(A.connectgaps)for(A._emptypoints=M(U[2]),S(U[2],A._emptypoints),A._interpolatedZ=[],C=0;C<z;C++)for(A._interpolatedZ[C]=[],k=0;k<Y;k++)A._interpolatedZ[C][k]=U[2][C][k];for(m=0;m<3;m++)for(C=0;C<z;C++)for(k=0;k<Y;k++)null==(P=U[m][C][k])?U[m][C][k]=NaN:P=U[m][C][k]*=J[m];for(m=0;m<3;m++)for(C=0;C<z;C++)for(k=0;k<Y;k++)null!=(P=U[m][C][k])&&(this.minValues[m]>P&&(this.minValues[m]=P),this.maxValues[m]<P&&(this.maxValues[m]=P));for(m=0;m<3;m++)this.objectOffset[m]=.5*(this.minValues[m]+this.maxValues[m]);for(m=0;m<3;m++)for(C=0;C<z;C++)for(k=0;k<Y;k++)null!=(P=U[m][C][k])&&(U[m][C][k]-=this.objectOffset[m]);var Z=[E(new Float32Array(z*Y),[z,Y]),E(new Float32Array(z*Y),[z,Y]),E(new Float32Array(z*Y),[z,Y])];for(m=0;m<3;m++)for(C=0;C<z;C++)for(k=0;k<Y;k++)Z[m].set(C,k,U[m][C][k]);U=[];var X={colormap:B,levels:[[],[],[]],showContour:[!0,!0,!0],showSurface:!A.hidesurface,contourProject:[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],contourWidth:[1,1,1],contourColor:[[1,1,1,1],[1,1,1,1],[1,1,1,1]],contourTint:[1,1,1],dynamicColor:[[1,1,1,1],[1,1,1,1],[1,1,1,1]],dynamicWidth:[1,1,1],dynamicTint:[1,1,1],opacityscale:A.opacityscale,opacity:A.opacity},se=s(A);if(X.intensityBounds=[se.min,se.max],A.surfacecolor){var re=E(new Float32Array(z*Y),[z,Y]);for(C=0;C<z;C++)for(k=0;k<Y;k++)re.set(C,k,A.surfacecolor[k][C]);Z.push(re)}else X.intensityBounds[0]*=J[2],X.intensityBounds[1]*=J[2];(g<Z[0].shape[0]||g<Z[0].shape[1])&&(this.refineData=!1),!0===this.refineData&&(this.dataScaleX=this.estimateScale(Z[0].shape[0],0),this.dataScaleY=this.estimateScale(Z[0].shape[1],1),1===this.dataScaleX&&1===this.dataScaleY||this.refineCoords(Z)),A.surfacecolor&&(X.intensity=Z.pop());var ae,ue,he,ee=[!0,!0,!0],K=["x","y","z"];for(m=0;m<3;++m){var ne=A.contours[K[m]];ee[m]=ne.highlight,X.showContour[m]=ne.show||ne.highlight,X.showContour[m]&&(X.contourProject[m]=[ne.project.x,ne.project.y,ne.project.z],ne.show?(this.showContour[m]=!0,X.levels[m]=q[m],N.highlightColor[m]=X.contourColor[m]=i(ne.color),N.highlightTint[m]=X.contourTint[m]=ne.usecolormap?0:1,X.contourWidth[m]=ne.width,this.contourStart[m]=ne.start,this.contourEnd[m]=ne.end,this.contourSize[m]=ne.size):(this.showContour[m]=!1,this.contourStart[m]=null,this.contourEnd[m]=null,this.contourSize[m]=0),ne.highlight&&(X.dynamicColor[m]=i(ne.highlightcolor),X.dynamicWidth[m]=ne.highlightwidth))}(ue=(ae=B)[0].rgb)[0]===(he=ae[ae.length-1].rgb)[0]&&ue[1]===he[1]&&ue[2]===he[2]&&ue[3]===he[3]&&(X.vertexColor=!0),X.objectOffset=this.objectOffset,X.coords=Z,N.update(X),N.visible=A.visible,N.enableDynamic=ee,N.enableHighlight=ee,N.snapToData=!0,"lighting"in A&&(N.ambientLight=A.lighting.ambient,N.diffuseLight=A.lighting.diffuse,N.specularLight=A.lighting.specular,N.roughness=A.lighting.roughness,N.fresnel=A.lighting.fresnel),"lightposition"in A&&(N.lightPosition=[A.lightposition.x,A.lightposition.y,A.lightposition.z])},o.dispose=function(){this.scene.glplot.remove(this.surface),this.surface.dispose()},oe.exports=function(A,m){var k=I({gl:A.glplot.gl}),P=new a(A,k,m.uid);return k._trace=P,P.update(m),A.glplot.add(k),P}},91831:function(oe,j,r){"use strict";var I=r(73972),E=r(71828),f=r(1586),S=r(54532);function M(u,i,s,a){var o=a("opacityscale");"max"===o?i.opacityscale=[[0,.1],[1,1]]:"min"===o?i.opacityscale=[[0,1],[1,.1]]:"extremes"===o?i.opacityscale=function(l,c){for(var h=[],v=0;v<32;v++){var p=v/31,T=.1+.9*(1-Math.pow(Math.sin(1*p*Math.PI),2));h.push([p,Math.max(0,Math.min(1,T))])}return h}():function(l){var c=0;if(!Array.isArray(l)||l.length<2||!l[0]||!l[l.length-1]||0!=+l[0][0]||1!=+l[l.length-1][0])return!1;for(var h=0;h<l.length;h++){var v=l[h];if(2!==v.length||+v[0]<c)return!1;c=+v[0]}return!0}(o)||(i.opacityscale=void 0)}function y(u,i,s){i in u&&!(s in u)&&(u[s]=u[i])}oe.exports={supplyDefaults:function(u,i,s,a){var o,l;function c(b,A){return E.coerce(u,i,S,b,A)}var h=c("x"),v=c("y"),p=c("z");if(!p||!p.length||h&&h.length<1||v&&v.length<1)i.visible=!1;else{i._xlength=Array.isArray(h)&&E.isArrayOrTypedArray(h[0])?p.length:p[0].length,i._ylength=p.length,I.getComponentMethod("calendars","handleTraceDefaults")(u,i,["x","y","z"],a),c("text"),c("hovertext"),c("hovertemplate"),c("xhoverformat"),c("yhoverformat"),c("zhoverformat"),["lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lightposition.x","lightposition.y","lightposition.z","hidesurface","connectgaps","opacity"].forEach(function(b){c(b)});var T=c("surfacecolor"),_=["x","y","z"];for(o=0;o<3;++o){var g="contours."+_[o],w=c(g+".show"),x=c(g+".highlight");if(w||x)for(l=0;l<3;++l)c(g+".project."+_[l]);w&&(c(g+".color"),c(g+".width"),c(g+".usecolormap")),x&&(c(g+".highlightcolor"),c(g+".highlightwidth")),c(g+".start"),c(g+".end"),c(g+".size")}T||(y(u,"zmin","cmin"),y(u,"zmax","cmax"),y(u,"zauto","cauto")),f(u,i,a,c,{prefix:"",cLetter:"c"}),M(0,i,0,c),i._length=null}},opacityscaleDefaults:M}},93601:function(oe,j,r){"use strict";oe.exports={attributes:r(54532),supplyDefaults:r(91831).supplyDefaults,colorbar:{min:"cmin",max:"cmax"},calc:r(18396),plot:r(43768),moduleType:"trace",name:"surface",basePlotModule:r(58547),categories:["gl3d","2dMap","showLegend"],meta:{}}},44464:function(oe,j,r){"use strict";var I=r(50215),E=r(1426).extendFlat,f=r(30962).overrideAll,S=r(41940),M=r(27670).Y,y=r(12663).descriptionOnlyNumbers;(oe.exports=f({domain:M({name:"table",trace:!0}),columnwidth:{valType:"number",arrayOk:!0,dflt:null},columnorder:{valType:"data_array"},header:{values:{valType:"data_array",dflt:[]},format:{valType:"data_array",dflt:[],description:y("cell value")},prefix:{valType:"string",arrayOk:!0,dflt:null},suffix:{valType:"string",arrayOk:!0,dflt:null},height:{valType:"number",dflt:28},align:E({},I.align,{arrayOk:!0}),line:{width:{valType:"number",arrayOk:!0,dflt:1},color:{valType:"color",arrayOk:!0,dflt:"grey"}},fill:{color:{valType:"color",arrayOk:!0,dflt:"white"}},font:E({},S({arrayOk:!0}))},cells:{values:{valType:"data_array",dflt:[]},format:{valType:"data_array",dflt:[],description:y("cell value")},prefix:{valType:"string",arrayOk:!0,dflt:null},suffix:{valType:"string",arrayOk:!0,dflt:null},height:{valType:"number",dflt:20},align:E({},I.align,{arrayOk:!0}),line:{width:{valType:"number",arrayOk:!0,dflt:1},color:{valType:"color",arrayOk:!0,dflt:"grey"}},fill:{color:{valType:"color",arrayOk:!0,dflt:"white"}},font:E({},S({arrayOk:!0}))}},"calc","from-root")).transforms=void 0},99469:function(oe,j,r){"use strict";var I=r(27659).a0,E=r(36736),f="table";j.name=f,j.plot=function(S){var M=I(S.calcdata,f)[0];M.length&&E(S,M)},j.clean=function(S,M,y,u){var i=u._has&&u._has(f),s=M._has&&M._has(f);i&&!s&&u._paperdiv.selectAll(".table").remove()}},76333:function(oe,j,r){"use strict";var I=r(28984).wrap;oe.exports=function(){return I({})}},49850:function(oe){"use strict";oe.exports={cellPad:8,columnExtentOffset:10,columnTitleOffset:28,emptyHeaderHeight:16,latexCheck:/^\$.*\$$/,goldenRatio:1.618,lineBreaker:"<br>",maxDimensionCount:60,overdrag:45,releaseTransitionDuration:120,releaseTransitionEase:"cubic-out",scrollbarCaptureWidth:18,scrollbarHideDelay:1e3,scrollbarHideDuration:1e3,scrollbarOffset:5,scrollbarWidth:8,transitionDuration:100,transitionEase:"cubic-out",uplift:5,wrapSpacer:" ",wrapSplitCharacter:" ",cn:{table:"table",tableControlView:"table-control-view",scrollBackground:"scroll-background",yColumn:"y-column",columnBlock:"column-block",scrollAreaClip:"scroll-area-clip",scrollAreaClipRect:"scroll-area-clip-rect",columnBoundary:"column-boundary",columnBoundaryClippath:"column-boundary-clippath",columnBoundaryRect:"column-boundary-rect",columnCells:"column-cells",columnCell:"column-cell",cellRect:"cell-rect",cellText:"cell-text",cellTextHolder:"cell-text-holder",scrollbarKit:"scrollbar-kit",scrollbar:"scrollbar",scrollbarSlider:"scrollbar-slider",scrollbarGlyph:"scrollbar-glyph",scrollbarCaptureZone:"scrollbar-capture-zone"}}},51018:function(oe,j,r){"use strict";var I=r(49850),E=r(1426).extendFlat,f=r(92770);function S(o){if(Array.isArray(o)){for(var l=0,c=0;c<o.length;c++)l=Math.max(l,S(o[c]));return l}return o}function M(o,l){return o+l}function y(o){var l,c=o.slice(),h=1/0,v=0;for(l=0;l<c.length;l++)Array.isArray(c[l])||(c[l]=[c[l]]),h=Math.min(h,c[l].length),v=Math.max(v,c[l].length);if(h!==v)for(l=0;l<c.length;l++){var p=v-c[l].length;p&&(c[l]=c[l].concat(u(p)))}return c}function u(o){for(var l=new Array(o),c=0;c<o;c++)l[c]="";return l}function i(o){return o.calcdata.columns.reduce(function(l,c){return c.xIndex<o.xIndex?l+c.columnWidth:l},0)}function s(o,l){return Object.keys(o).map(function(c){return E({},o[c],{auxiliaryBlocks:l})})}function a(o,l){for(var c,h={},v=0,p=0,T={firstRowIndex:null,lastRowIndex:null,rows:[]},_=0,g=0,w=0;w<o.length;w++)T.rows.push({rowIndex:w,rowHeight:c=o[w]}),((p+=c)>=l||w===o.length-1)&&(h[v]=T,T.key=g++,T.firstRowIndex=_,T.lastRowIndex=w,T={firstRowIndex:null,lastRowIndex:null,rows:[]},v+=p,_=w+1,p=0);return h}oe.exports=function(o,l){var c=y(l.cells.values),h=function(J){return J.slice(l.header.values.length,J.length)},v=y(l.header.values);v.length&&!v[0].length&&(v[0]=[""],v=y(v));var p=v.concat(h(c).map(function(){return u((v[0]||[""]).length)})),T=l.domain,_=Math.floor(o._fullLayout._size.w*(T.x[1]-T.x[0])),g=Math.floor(o._fullLayout._size.h*(T.y[1]-T.y[0])),w=l.header.values.length?p[0].map(function(){return l.header.height}):[I.emptyHeaderHeight],x=c.length?c[0].map(function(){return l.cells.height}):[],b=w.reduce(M,0),A=a(x,g-b+I.uplift),m=s(a(w,b),[]),C=s(A,m),k={},P=l._fullInput.columnorder.concat(h(c.map(function(J,z){return z}))),R=p.map(function(J,z){var Y=Array.isArray(l.columnwidth)?l.columnwidth[Math.min(z,l.columnwidth.length-1)]:l.columnwidth;return f(Y)?Number(Y):1}),L=R.reduce(M,0);R=R.map(function(J){return J/L*_});var N=Math.max(S(l.header.line.width),S(l.cells.line.width)),B={key:l.uid+o._context.staticPlot,translateX:T.x[0]*o._fullLayout._size.w,translateY:o._fullLayout._size.h*(1-T.y[1]),size:o._fullLayout._size,width:_,maxLineWidth:N,height:g,columnOrder:P,groupHeight:g,rowBlocks:C,headerRowBlocks:m,scrollY:0,cells:E({},l.cells,{values:c}),headerCells:E({},l.header,{values:p}),gdColumns:p.map(function(J){return J[0]}),gdColumnsOriginalOrder:p.map(function(J){return J[0]}),prevPages:[0,0],scrollbarState:{scrollbarScrollInProgress:!1},columns:p.map(function(J,z){return k[J]=(k[J]||0)+1,{key:J+"__"+k[J],label:J,specIndex:z,xIndex:P[z],xScale:i,x:void 0,calcdata:void 0,columnWidth:R[z]}})};return B.columns.forEach(function(J){J.calcdata=B,J.x=i(J)}),B}},56269:function(oe,j,r){"use strict";var I=r(1426).extendFlat;j.splitToPanels=function(E){var f=[0,0],S=I({},E,{key:"header",type:"header",page:0,prevPages:f,currentRepaint:[null,null],dragHandle:!0,values:E.calcdata.headerCells.values[E.specIndex],rowBlocks:E.calcdata.headerRowBlocks,calcdata:I({},E.calcdata,{cells:E.calcdata.headerCells})});return[I({},E,{key:"cells1",type:"cells",page:0,prevPages:f,currentRepaint:[null,null],dragHandle:!1,values:E.calcdata.cells.values[E.specIndex],rowBlocks:E.calcdata.rowBlocks}),I({},E,{key:"cells2",type:"cells",page:1,prevPages:f,currentRepaint:[null,null],dragHandle:!1,values:E.calcdata.cells.values[E.specIndex],rowBlocks:E.calcdata.rowBlocks}),S]},j.splitToCells=function(E){var S,M,y,f=[y=(M=(S=E).rowBlocks[S.page])?M.rows[0].rowIndex:0,M?y+M.rows.length:0];return(E.values||[]).slice(f[0],f[1]).map(function(S,M){return{keyWithinBlock:M+("string"==typeof S&&S.match(/[<$&> ]/)?"_keybuster_"+Math.random():""),key:f[0]+M,column:E,calcdata:E.calcdata,page:E.page,rowBlocks:E.rowBlocks,value:S}})}},39754:function(oe,j,r){"use strict";var I=r(71828),E=r(44464),f=r(27670).c;oe.exports=function(S,M,y,u){function i(s,a){return I.coerce(S,M,E,s,a)}f(M,u,i),i("columnwidth"),i("header.values"),i("header.format"),i("header.align"),i("header.prefix"),i("header.suffix"),i("header.height"),i("header.line.width"),i("header.line.color"),i("header.fill.color"),I.coerceFont(i,"header.font",I.extendFlat({},u.font)),function(s,a){for(var l=s.header.values.length,c=(s.columnorder||[]).slice(0,l),h=c.slice().sort(function(T,_){return T-_}),v=c.map(function(T){return h.indexOf(T)}),p=v.length;p<l;p++)v.push(p);a("columnorder",v)}(M,i),i("cells.values"),i("cells.format"),i("cells.align"),i("cells.prefix"),i("cells.suffix"),i("cells.height"),i("cells.line.width"),i("cells.line.color"),i("cells.fill.color"),I.coerceFont(i,"cells.font",I.extendFlat({},u.font)),M._length=null}},96595:function(oe,j,r){"use strict";oe.exports={attributes:r(44464),supplyDefaults:r(39754),calc:r(76333),plot:r(36736),moduleType:"trace",name:"table",basePlotModule:r(99469),categories:["noOpacity"],meta:{}}},36736:function(oe,j,r){"use strict";var I=r(49850),E=r(39898),f=r(71828).numberFormat,S=r(28984),M=r(91424),y=r(63893),u=r(71828).raiseToTop,i=r(71828).strTranslate,s=r(71828).cancelTransition,a=r(51018),o=r(56269),l=r(7901);function c(Z){return Math.ceil(Z.calcdata.maxLineWidth/2)}function h(Z,X){return"clip"+Z._fullLayout._uid+"_scrollAreaBottomClip_"+X.key}function v(Z,X){return"clip"+Z._fullLayout._uid+"_columnBoundaryClippath_"+X.calcdata.key+"_"+X.specIndex}function p(Z){return[].concat.apply([],Z.map(function(X){return X})).map(function(X){return X.__data__})}function T(Z,X,se){var re=Z.selectAll("."+I.cn.scrollbarKit).data(S.repeat,S.keyFun);re.enter().append("g").classed(I.cn.scrollbarKit,!0).style("shape-rendering","geometricPrecision"),re.each(function(ue){var ge,he=ue.scrollbarState;he.totalHeight=z(ge=ue.rowBlocks,ge.length-1)+(ge.length?Y(ge[ge.length-1],1/0):1),he.scrollableAreaHeight=ue.groupHeight-C(ue),he.currentlyVisibleHeight=Math.min(he.totalHeight,he.scrollableAreaHeight),he.ratio=he.currentlyVisibleHeight/he.totalHeight,he.barLength=Math.max(he.ratio*he.currentlyVisibleHeight,I.goldenRatio*I.scrollbarWidth),he.barWiggleRoom=he.currentlyVisibleHeight-he.barLength,he.wiggleRoom=Math.max(0,he.totalHeight-he.scrollableAreaHeight),he.topY=0===he.barWiggleRoom?0:ue.scrollY/he.wiggleRoom*he.barWiggleRoom,he.bottomY=he.topY+he.barLength,he.dragMultiplier=he.wiggleRoom/he.barWiggleRoom}).attr("transform",function(ue){return i(ue.width+I.scrollbarWidth/2+I.scrollbarOffset,C(ue))});var ee=re.selectAll("."+I.cn.scrollbar).data(S.repeat,S.keyFun);ee.enter().append("g").classed(I.cn.scrollbar,!0);var K=ee.selectAll("."+I.cn.scrollbarSlider).data(S.repeat,S.keyFun);K.enter().append("g").classed(I.cn.scrollbarSlider,!0),K.attr("transform",function(ue){return i(0,ue.scrollbarState.topY||0)});var ne=K.selectAll("."+I.cn.scrollbarGlyph).data(S.repeat,S.keyFun);ne.enter().append("line").classed(I.cn.scrollbarGlyph,!0).attr("stroke","black").attr("stroke-width",I.scrollbarWidth).attr("stroke-linecap","round").attr("y1",I.scrollbarWidth/2),ne.attr("y2",function(ue){return ue.scrollbarState.barLength-I.scrollbarWidth/2}).attr("stroke-opacity",function(ue){return ue.columnDragInProgress||!ue.scrollbarState.barWiggleRoom||se?0:.4}),ne.transition().delay(0).duration(0),ne.transition().delay(I.scrollbarHideDelay).duration(I.scrollbarHideDuration).attr("stroke-opacity",0);var ae=ee.selectAll("."+I.cn.scrollbarCaptureZone).data(S.repeat,S.keyFun);ae.enter().append("line").classed(I.cn.scrollbarCaptureZone,!0).attr("stroke","white").attr("stroke-opacity",.01).attr("stroke-width",I.scrollbarCaptureWidth).attr("stroke-linecap","butt").attr("y1",0).on("mousedown",function(ue){var he=E.event.y,pe=this.getBoundingClientRect(),ge=ue.scrollbarState,xe=he-pe.top,Se=E.scale.linear().domain([0,ge.scrollableAreaHeight]).range([0,ge.totalHeight]).clamp(!0);ge.topY<=xe&&xe<=ge.bottomY||P(X,Z,null,Se(xe-ge.barLength/2))(ue)}).call(E.behavior.drag().origin(function(ue){return E.event.stopPropagation(),ue.scrollbarState.scrollbarScrollInProgress=!0,ue}).on("drag",P(X,Z)).on("dragend",function(){})),ae.attr("y2",function(ue){return ue.scrollbarState.scrollableAreaHeight}),X._context.staticPlot&&(ne.remove(),ae.remove())}function _(Z,X,se,re){var pe,K=function(he){var pe=he.selectAll("."+I.cn.columnCell).data(o.splitToCells,function(ge){return ge.keyWithinBlock});return pe.enter().append("g").classed(I.cn.columnCell,!0),pe.exit().remove(),pe}(((pe=se.selectAll("."+I.cn.columnCells).data(S.repeat,S.keyFun)).enter().append("g").classed(I.cn.columnCells,!0),pe.exit().remove(),pe));K.each(function(pe,ge){var xe=pe.calcdata.cells.font,Se=pe.column.specIndex,Te={size:x(xe.size,Se,ge),color:x(xe.color,Se,ge),family:x(xe.family,Se,ge)};pe.rowNumber=pe.key,pe.align=x(pe.calcdata.cells.align,Se,ge),pe.cellBorderWidth=x(pe.calcdata.cells.line.width,Se,ge),pe.font=Te});var ne=function(he){var pe=he.selectAll("."+I.cn.cellRect).data(S.repeat,function(ge){return ge.keyWithinBlock});return pe.enter().append("rect").classed(I.cn.cellRect,!0),pe}(K);!function(he){he.attr("width",function(pe){return pe.column.columnWidth}).attr("stroke-width",function(pe){return pe.cellBorderWidth}).each(function(pe){var ge=E.select(this);l.stroke(ge,x(pe.calcdata.cells.line.color,pe.column.specIndex,pe.rowNumber)),l.fill(ge,x(pe.calcdata.cells.fill.color,pe.column.specIndex,pe.rowNumber))})}(ne);var ae=function(he){var pe=he.selectAll("."+I.cn.cellTextHolder).data(S.repeat,function(ge){return ge.keyWithinBlock});return pe.enter().append("g").classed(I.cn.cellTextHolder,!0).style("shape-rendering","geometricPrecision"),pe}(K),ue=function(he){var pe=he.selectAll("."+I.cn.cellText).data(S.repeat,function(ge){return ge.keyWithinBlock});return pe.enter().append("text").classed(I.cn.cellText,!0).style("cursor",function(){return"auto"}).on("mousedown",function(){E.event.stopPropagation()}),pe}(ae);(function(he){he.each(function(pe){M.font(E.select(this),pe.font)})})(ue),g(ue,X,re,Z),J(K)}function g(Z,X,se,re){Z.text(function(ee){var K=ee.column.specIndex,ne=ee.rowNumber,ae=ee.value,ue="string"==typeof ae,he=ue&&ae.match(/<br>/i),pe=!ue||he;ee.mayHaveMarkup=ue&&ae.match(/[<&>]/);var ge,xe="string"==typeof(ge=ae)&&ge.match(I.latexCheck);ee.latex=xe;var Se,Te,ye=xe?"":x(ee.calcdata.cells.prefix,K,ne)||"",we=xe?"":x(ee.calcdata.cells.suffix,K,ne)||"",ze=xe?null:x(ee.calcdata.cells.format,K,ne)||null,ke=ye+(ze?f(ze)(ee.value):ee.value)+we;if(ee.wrappingNeeded=!ee.wrapped&&!pe&&!xe&&(Se=w(ke)),ee.cellHeightMayIncrease=he||xe||ee.mayHaveMarkup||(void 0===Se?w(ke):Se),ee.needsConvertToTspans=ee.mayHaveMarkup||ee.wrappingNeeded||ee.latex,ee.wrappingNeeded){var Ee=(" "===I.wrapSplitCharacter?ke.replace(/<a href=/gi,"<a_href="):ke).split(I.wrapSplitCharacter),me=" "===I.wrapSplitCharacter?Ee.map(function(de){return de.replace(/<a_href=/gi,"<a href=")}):Ee;ee.fragments=me.map(function(de){return{text:de,width:null}}),ee.fragments.push({fragment:I.wrapSpacer,width:null}),Te=me.join(I.lineBreaker)+I.lineBreaker+I.wrapSpacer}else delete ee.fragments,Te=ke;return Te}).attr("dy",function(ee){return ee.needsConvertToTspans?0:"0.75em"}).each(function(ee){var K=this,ne=E.select(K);ee.needsConvertToTspans?y.convertToTspans(ne,re,(ee.wrappingNeeded?L:N)(se,K,X,re,ee)):E.select(K.parentNode).attr("transform",function(ue){return i(B(ue),I.cellPad)}).attr("text-anchor",function(ue){return{left:"start",center:"middle",right:"end"}[ue.align]})})}function w(Z){return-1!==Z.indexOf(I.wrapSplitCharacter)}function x(Z,X,se){if(Array.isArray(Z)){var re=Z[Math.min(X,Z.length-1)];return Array.isArray(re)?re[Math.min(se,re.length-1)]:re}return Z}function b(Z,X,se){Z.transition().ease(I.releaseTransitionEase).duration(I.releaseTransitionDuration).attr("transform",i(X.x,se))}function A(Z){return"cells"===Z.type}function m(Z){return"header"===Z.type}function C(Z){return(Z.rowBlocks.length?Z.rowBlocks[0].auxiliaryBlocks:[]).reduce(function(X,se){return X+Y(se,1/0)},0)}function k(Z,X,se){var re=p(X)[0];if(void 0!==re){var ee=re.rowBlocks,K=re.calcdata,ne=z(ee,ee.length),ae=re.calcdata.groupHeight-C(re),ue=K.scrollY=Math.max(0,Math.min(ne-ae,K.scrollY)),he=function(pe,ge,xe){for(var Se=[],Te=0,ye=0;ye<pe.length;ye++){for(var we=pe[ye],ze=we.rows,ke=0,Ee=0;Ee<ze.length;Ee++)ke+=ze[Ee].rowHeight;we.allRowsHeight=ke,ge<Te+ke&&ge+xe>Te&&Se.push(ye),Te+=ke}return Se}(ee,ue,ae);1===he.length&&(he[0]===ee.length-1?he.unshift(he[0]-1):he.push(he[0]+1)),he[0]%2&&he.reverse(),X.each(function(pe,ge){pe.page=he[ge],pe.scrollY=ue}),X.attr("transform",function(pe){var ge=z(pe.rowBlocks,pe.page)-pe.scrollY;return i(0,ge)}),Z&&(R(Z,se,X,he,re.prevPages,re,0),R(Z,se,X,he,re.prevPages,re,1),T(se,Z))}}function P(Z,X,se,re){return function(ee){var K=ee.calcdata?ee.calcdata:ee,ne=X.filter(function(pe){return K.key===pe.key}),ue=K.scrollY;K.scrollY=void 0===re?K.scrollY+(se||K.scrollbarState.dragMultiplier)*E.event.dy:re;var he=ne.selectAll("."+I.cn.yColumn).selectAll("."+I.cn.columnBlock).filter(A);return k(Z,he,ne),K.scrollY===ue}}function R(Z,X,se,re,ee,K,ne){re[ne]!==ee[ne]&&(clearTimeout(K.currentRepaint[ne]),K.currentRepaint[ne]=setTimeout(function(){var ae=se.filter(function(ue,he){return he===ne&&re[he]!==ee[he]});_(Z,X,ae,se),ee[ne]=re[ne]}))}function L(Z,X,se,re){return function(){var ee=E.select(X.parentNode);ee.each(function(K){var ne=K.fragments;ee.selectAll("tspan.line").each(function(Te,ye){ne[ye].width=this.getComputedTextLength()});var ae,ue,he=ne[ne.length-1].width,pe=ne.slice(0,-1),ge=[],xe=0,Se=K.column.columnWidth-2*I.cellPad;for(K.value="";pe.length;)xe+(ue=(ae=pe.shift()).width+he)>Se&&(K.value+=ge.join(I.wrapSpacer)+I.lineBreaker,ge=[],xe=0),ge.push(ae.text),xe+=ue;xe&&(K.value+=ge.join(I.wrapSpacer)),K.wrapped=!0}),ee.selectAll("tspan.line").remove(),g(ee.select("."+I.cn.cellText),se,Z,re),E.select(X.parentNode.parentNode).call(J)}}function N(Z,X,se,re,ee){return function(){if(!ee.settledY){var K=E.select(X.parentNode),ne=U(ee),ae=ee.key-ne.firstRowIndex,ue=ne.rows[ae].rowHeight,he=ee.cellHeightMayIncrease?X.parentNode.getBoundingClientRect().height+2*I.cellPad:ue,pe=Math.max(he,ue);pe-ne.rows[ae].rowHeight&&(ne.rows[ae].rowHeight=pe,Z.selectAll("."+I.cn.columnCell).call(J),k(null,Z.filter(A),0),T(se,re,!0)),K.attr("transform",function(){var xe=this.parentNode.getBoundingClientRect(),Se=E.select(this.parentNode).select("."+I.cn.cellRect).node().getBoundingClientRect(),Te=this.transform.baseVal.consolidate(),ye=Se.top-xe.top+(Te?Te.matrix.f:I.cellPad);return i(B(ee,E.select(this.parentNode).select("."+I.cn.cellTextHolder).node().getBoundingClientRect().width),ye)}),ee.settledY=!0}}}function B(Z,X){switch(Z.align){case"left":default:return I.cellPad;case"right":return Z.column.columnWidth-(X||0)-I.cellPad;case"center":return(Z.column.columnWidth-(X||0))/2}}function J(Z){Z.attr("transform",function(X){var se=X.rowBlocks[0].auxiliaryBlocks.reduce(function(ee,K){return ee+Y(K,1/0)},0),re=Y(U(X),X.key);return i(0,re+se)}).selectAll("."+I.cn.cellRect).attr("height",function(X){return(se=U(X),re=X.key,se.rows[re-se.firstRowIndex]).rowHeight;var se,re})}function z(Z,X){for(var se=0,re=X-1;re>=0;re--)se+=q(Z[re]);return se}function Y(Z,X){for(var se=0,re=0;re<Z.rows.length&&Z.rows[re].rowIndex<X;re++)se+=Z.rows[re].rowHeight;return se}function q(Z){var X=Z.allRowsHeight;if(void 0!==X)return X;for(var se=0,re=0;re<Z.rows.length;re++)se+=Z.rows[re].rowHeight;return Z.allRowsHeight=se,se}function U(Z){return Z.rowBlocks[Z.page]}oe.exports=function(Z,X){var se=!Z._context.staticPlot,re=Z._fullLayout._paper.selectAll("."+I.cn.table).data(X.map(function(we){var ze=S.unwrap(we).trace;return a(Z,ze)}),S.keyFun);re.exit().remove(),re.enter().append("g").classed(I.cn.table,!0).attr("overflow","visible").style("box-sizing","content-box").style("position","absolute").style("left",0).style("overflow","visible").style("shape-rendering","crispEdges").style("pointer-events","all"),re.attr("width",function(we){return we.width+we.size.l+we.size.r}).attr("height",function(we){return we.height+we.size.t+we.size.b}).attr("transform",function(we){return i(we.translateX,we.translateY)});var ee=re.selectAll("."+I.cn.tableControlView).data(S.repeat,S.keyFun),K=ee.enter().append("g").classed(I.cn.tableControlView,!0).style("box-sizing","content-box");if(se){var ne="onwheel"in document?"wheel":"mousewheel";K.on("mousemove",function(we){ee.filter(function(ze){return we===ze}).call(T,Z)}).on(ne,function(we){we.scrollbarState.wheeling||(we.scrollbarState.wheeling=!0,P(Z,ee,null,we.scrollY+E.event.deltaY)(we)||(E.event.stopPropagation(),E.event.preventDefault()),we.scrollbarState.wheeling=!1)}).call(T,Z,!0)}ee.attr("transform",function(we){return i(we.size.l,we.size.t)});var ae=ee.selectAll("."+I.cn.scrollBackground).data(S.repeat,S.keyFun);ae.enter().append("rect").classed(I.cn.scrollBackground,!0).attr("fill","none"),ae.attr("width",function(we){return we.width}).attr("height",function(we){return we.height}),ee.each(function(we){M.setClipUrl(E.select(this),h(Z,we),Z)});var ue=ee.selectAll("."+I.cn.yColumn).data(function(we){return we.columns},S.keyFun);ue.enter().append("g").classed(I.cn.yColumn,!0),ue.exit().remove(),ue.attr("transform",function(we){return i(we.x,0)}),se&&ue.call(E.behavior.drag().origin(function(we){return b(E.select(this),we,-I.uplift),u(this),we.calcdata.columnDragInProgress=!0,T(ee.filter(function(ze){return we.calcdata.key===ze.key}),Z),we}).on("drag",function(we){var ze=E.select(this),ke=function(Ee){return(we===Ee?E.event.x:Ee.x)+Ee.columnWidth/2};we.x=Math.max(-I.overdrag,Math.min(we.calcdata.width+I.overdrag-we.columnWidth,E.event.x)),p(ue).filter(function(Ee){return Ee.calcdata.key===we.calcdata.key}).sort(function(Ee,me){return ke(Ee)-ke(me)}).forEach(function(Ee,me){Ee.xIndex=me,Ee.x=we===Ee?Ee.x:Ee.xScale(Ee)}),ue.filter(function(Ee){return we!==Ee}).transition().ease(I.transitionEase).duration(I.transitionDuration).attr("transform",function(Ee){return i(Ee.x,0)}),ze.call(s).attr("transform",i(we.x,-I.uplift))}).on("dragend",function(we){var Ee,me,de,ce,ze=E.select(this),ke=we.calcdata;we.x=we.xScale(we),we.calcdata.columnDragInProgress=!1,b(ze,we,0),Ee=Z,me=ke,de=ke.columns.map(function(Ee){return Ee.xIndex}),ce=me.gdColumnsOriginalOrder,me.gdColumns.sort(function(Ae,Ne){return de[ce.indexOf(Ae)]-de[ce.indexOf(Ne)]}),me.columnorder=de,Ee.emit("plotly_restyle")})),ue.each(function(we){M.setClipUrl(E.select(this),v(Z,we),Z)});var he=ue.selectAll("."+I.cn.columnBlock).data(o.splitToPanels,S.keyFun);he.enter().append("g").classed(I.cn.columnBlock,!0).attr("id",function(we){return we.key}),he.style("cursor",function(we){return we.dragHandle?"ew-resize":we.calcdata.scrollbarState.barWiggleRoom?"ns-resize":"default"});var pe=he.filter(m),ge=he.filter(A);se&&ge.call(E.behavior.drag().origin(function(we){return E.event.stopPropagation(),we}).on("drag",P(Z,ee,-1)).on("dragend",function(){})),_(Z,ee,pe,he),_(Z,ee,ge,he);var xe=ee.selectAll("."+I.cn.scrollAreaClip).data(S.repeat,S.keyFun);xe.enter().append("clipPath").classed(I.cn.scrollAreaClip,!0).attr("id",function(we){return h(Z,we)});var Se=xe.selectAll("."+I.cn.scrollAreaClipRect).data(S.repeat,S.keyFun);Se.enter().append("rect").classed(I.cn.scrollAreaClipRect,!0).attr("x",-I.overdrag).attr("y",-I.uplift).attr("fill","none"),Se.attr("width",function(we){return we.width+2*I.overdrag}).attr("height",function(we){return we.height+I.uplift}),ue.selectAll("."+I.cn.columnBoundary).data(S.repeat,S.keyFun).enter().append("g").classed(I.cn.columnBoundary,!0);var Te=ue.selectAll("."+I.cn.columnBoundaryClippath).data(S.repeat,S.keyFun);Te.enter().append("clipPath").classed(I.cn.columnBoundaryClippath,!0),Te.attr("id",function(we){return v(Z,we)});var ye=Te.selectAll("."+I.cn.columnBoundaryRect).data(S.repeat,S.keyFun);ye.enter().append("rect").classed(I.cn.columnBoundaryRect,!0).attr("fill","none"),ye.attr("width",function(we){return we.columnWidth+2*c(we)}).attr("height",function(we){return we.calcdata.height+2*c(we)+I.uplift}).attr("x",function(we){return-c(we)}).attr("y",function(we){return-c(we)}),k(null,ge,ee)}},45802:function(oe,j,r){"use strict";var I=r(5386).fF,E=r(5386).si,f=r(50693),S=r(27670).Y,M=r(34e3),y=r(57564),u=r(43473),i=r(1426).extendFlat,s=r(79952).u;oe.exports={labels:y.labels,parents:y.parents,values:y.values,branchvalues:y.branchvalues,count:y.count,level:y.level,maxdepth:y.maxdepth,tiling:{packing:{valType:"enumerated",values:["squarify","binary","dice","slice","slice-dice","dice-slice"],dflt:"squarify",editType:"plot"},squarifyratio:{valType:"number",min:1,dflt:1,editType:"plot"},flip:{valType:"flaglist",flags:["x","y"],dflt:"",editType:"plot"},pad:{valType:"number",min:0,dflt:3,editType:"plot"},editType:"calc"},marker:i({pad:{t:{valType:"number",min:0,editType:"plot"},l:{valType:"number",min:0,editType:"plot"},r:{valType:"number",min:0,editType:"plot"},b:{valType:"number",min:0,editType:"plot"},editType:"calc"},colors:y.marker.colors,pattern:s,depthfade:{valType:"enumerated",values:[!0,!1,"reversed"],editType:"style"},line:y.marker.line,cornerradius:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},f("marker",{colorAttr:"colors",anim:!1})),pathbar:{visible:{valType:"boolean",dflt:!0,editType:"plot"},side:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},edgeshape:{valType:"enumerated",values:[">","<","|","/","\\"],dflt:">",editType:"plot"},thickness:{valType:"number",min:12,editType:"plot"},textfont:i({},M.textfont,{}),editType:"calc"},text:M.text,textinfo:y.textinfo,texttemplate:E({editType:"plot"},{keys:u.eventDataKeys.concat(["label","value"])}),hovertext:M.hovertext,hoverinfo:y.hoverinfo,hovertemplate:I({},{keys:u.eventDataKeys}),textfont:M.textfont,insidetextfont:M.insidetextfont,outsidetextfont:i({},M.outsidetextfont,{}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"top left",editType:"plot"},sort:M.sort,root:y.root,domain:S({name:"treemap",trace:!0,editType:"calc"})}},78018:function(oe,j,r){"use strict";var I=r(74875);j.name="treemap",j.plot=function(E,f,S,M){I.plotBasePlot(j.name,E,f,S,M)},j.clean=function(E,f,S,M){I.cleanBasePlot(j.name,E,f,S,M)}},65039:function(oe,j,r){"use strict";var I=r(52147);j.y=function(E,f){return I.calc(E,f)},j.T=function(E){return I._runCrossTraceCalc("treemap",E)}},43473:function(oe){"use strict";oe.exports={CLICK_TRANSITION_TIME:750,CLICK_TRANSITION_EASING:"poly",eventDataKeys:["currentPath","root","entry","percentRoot","percentEntry","percentParent"],gapWithPathbar:1}},91174:function(oe,j,r){"use strict";var I=r(71828),E=r(45802),f=r(7901),S=r(27670).c,M=r(90769).handleText,y=r(97313).TEXTPAD,u=r(37434).handleMarkerDefaults,i=r(21081),s=i.hasColorscale,a=i.handleDefaults;oe.exports=function(o,l,c,h){function v(A,m){return I.coerce(o,l,E,A,m)}var p=v("labels"),T=v("parents");if(p&&p.length&&T&&T.length){var _=v("values");v(_&&_.length?"branchvalues":"count"),v("level"),v("maxdepth"),"squarify"===v("tiling.packing")&&v("tiling.squarifyratio"),v("tiling.flip"),v("tiling.pad");var g=v("text");v("texttemplate"),l.texttemplate||v("textinfo",Array.isArray(g)?"text+label":"label"),v("hovertext"),v("hovertemplate");var w=v("pathbar.visible");M(o,l,h,v,"auto",{hasPathbar:w,moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),v("textposition");var x=-1!==l.textposition.indexOf("bottom");u(o,l,h,v),(l._hasColorscale=s(o,"marker","colors")||(o.marker||{}).coloraxis)?a(o,l,h,v,{prefix:"marker.",cLetter:"c"}):v("marker.depthfade",!(l.marker.colors||[]).length);var b=2*l.textfont.size;v("marker.pad.t",x?b/4:b),v("marker.pad.l",b/4),v("marker.pad.r",b/4),v("marker.pad.b",x?b:b/4),v("marker.cornerradius"),l._hovered={marker:{line:{width:2,color:f.contrast(h.paper_bgcolor)}}},w&&(v("pathbar.thickness",l.pathbar.textfont.size+2*y),v("pathbar.side"),v("pathbar.edgeshape")),v("sort"),v("root.color"),S(l,h,v),l._length=null}else l.visible=!1}},80694:function(oe,j,r){"use strict";var I=r(39898),E=r(2791),f=r(72597).clearMinTextSize,S=r(16688).resizeText,M=r(46650);oe.exports=function(y,u,i,s,a){var o,l,c=a.type,h=a.drawDescendants,v=y._fullLayout,p=v["_"+c+"layer"],T=!i;f(c,v),(o=p.selectAll("g.trace."+c).data(u,function(_){return _[0].trace.uid})).enter().append("g").classed("trace",!0).classed(c,!0),o.order(),!v.uniformtext.mode&&E.hasTransition(i)?(s&&(l=s()),I.transition().duration(i.duration).ease(i.easing).each("end",function(){l&&l()}).each("interrupt",function(){l&&l()}).each(function(){p.selectAll("g.trace").each(function(_){M(y,_,this,i,h)})})):(o.each(function(_){M(y,_,this,i,h)}),v.uniformtext.mode&&S(y,p.selectAll(".trace"),c)),T&&o.exit().remove()}},66209:function(oe,j,r){"use strict";var I=r(39898),E=r(71828),f=r(91424),S=r(63893),M=r(37210),y=r(96362).styleOne,u=r(43473),i=r(2791),s=r(83523),a=!0;oe.exports=function(o,l,c,h,v){var p=v.barDifY,T=v.width,_=v.height,g=v.viewX,w=v.viewY,x=v.pathSlice,b=v.toMoveInsideSlice,A=v.strTransform,m=v.hasTransition,C=v.handleSlicesExit,k=v.makeUpdateSliceInterpolator,P=v.makeUpdateTextInterpolator,R={},L=o._context.staticPlot,N=o._fullLayout,B=l[0],J=B.trace,z=B.hierarchy,Y=T/J._entryDepth,q=i.listPath(c.data,"id"),U=M(z.copy(),[T,_],{packing:"dice",pad:{inner:0,top:0,left:0,right:0,bottom:0}}).descendants();(U=U.filter(function(X){var se=q.indexOf(X.data.id);return-1!==se&&(X.x0=Y*se,X.x1=Y*(se+1),X.y0=p,X.y1=p+_,X.onPathbar=!0,!0)})).reverse(),(h=h.data(U,i.getPtId)).enter().append("g").classed("pathbar",!0),C(h,a,R,[T,_],x),h.order();var Z=h;m&&(Z=Z.transition().each("end",function(){var X=I.select(this);i.setSliceCursor(X,o,{hideOnRoot:!1,hideOnLeaves:!1,isTransitioning:!1})})),Z.each(function(X){X._x0=g(X.x0),X._x1=g(X.x1),X._y0=w(X.y0),X._y1=w(X.y1),X._hoverX=g(X.x1-Math.min(T,_)/2),X._hoverY=w(X.y1-_/2);var se=I.select(this),re=E.ensureSingle(se,"path","surface",function(ae){ae.style("pointer-events",L?"none":"all")});m?re.transition().attrTween("d",function(ae){var ue=k(ae,a,R,[T,_]);return function(he){return x(ue(he))}}):re.attr("d",x),se.call(s,c,o,l,{styleOne:y,eventDataKeys:u.eventDataKeys,transitionTime:u.CLICK_TRANSITION_TIME,transitionEasing:u.CLICK_TRANSITION_EASING}).call(i.setSliceCursor,o,{hideOnRoot:!1,hideOnLeaves:!1,isTransitioning:o._transitioning}),re.call(y,X,J,o,{hovered:!1}),X._text=(i.getPtLabel(X)||"").split("<br>").join(" ")||"";var ee=E.ensureSingle(se,"g","slicetext"),K=E.ensureSingle(ee,"text","",function(ae){ae.attr("data-notex",1)}),ne=E.ensureUniformFontSize(o,i.determineTextFont(J,X,N.font,{onPathbar:!0}));K.text(X._text||" ").classed("slicetext",!0).attr("text-anchor","start").call(f.font,ne).call(S.convertToTspans,o),X.textBB=f.bBox(K.node()),X.transform=b(X,{fontSize:ne.size,onPathbar:!0}),X.transform.fontSize=ne.size,m?K.transition().attrTween("transform",function(ae){var ue=P(ae,a,R,[T,_]);return function(he){return A(ue(he))}}):K.attr("transform",A(X))})}},52583:function(oe,j,r){"use strict";var I=r(39898),E=r(71828),f=r(91424),S=r(63893),M=r(37210),y=r(96362).styleOne,u=r(43473),i=r(2791),s=r(83523),a=r(24714).formatSliceLabel,o=!1;oe.exports=function(l,c,h,v,p){var T=p.width,_=p.height,g=p.viewX,w=p.viewY,x=p.pathSlice,b=p.toMoveInsideSlice,A=p.strTransform,m=p.hasTransition,C=p.handleSlicesExit,k=p.makeUpdateSliceInterpolator,P=p.makeUpdateTextInterpolator,R=p.prevEntry,L=l._context.staticPlot,N=l._fullLayout,B=c[0].trace,J=-1!==B.textposition.indexOf("left"),z=-1!==B.textposition.indexOf("right"),Y=-1!==B.textposition.indexOf("bottom"),q=!Y&&!B.marker.pad.t||Y&&!B.marker.pad.b,U=M(h,[T,_],{packing:B.tiling.packing,squarifyratio:B.tiling.squarifyratio,flipX:B.tiling.flip.indexOf("x")>-1,flipY:B.tiling.flip.indexOf("y")>-1,pad:{inner:B.tiling.pad,top:B.marker.pad.t,left:B.marker.pad.l,right:B.marker.pad.r,bottom:B.marker.pad.b}}).descendants(),Z=1/0,X=-1/0;U.forEach(function(ne){var ae=ne.depth;ae>=B._maxDepth?(ne.x0=ne.x1=(ne.x0+ne.x1)/2,ne.y0=ne.y1=(ne.y0+ne.y1)/2):(Z=Math.min(Z,ae),X=Math.max(X,ae))}),v=v.data(U,i.getPtId),B._maxVisibleLayers=isFinite(X)?X-Z+1:0,v.enter().append("g").classed("slice",!0),C(v,o,{},[T,_],x),v.order();var se=null;if(m&&R){var re=i.getPtId(R);v.each(function(ne){null===se&&i.getPtId(ne)===re&&(se={x0:ne.x0,x1:ne.x1,y0:ne.y0,y1:ne.y1})})}var ee=function(){return se||{x0:0,x1:T,y0:0,y1:_}},K=v;return m&&(K=K.transition().each("end",function(){var ne=I.select(this);i.setSliceCursor(ne,l,{hideOnRoot:!0,hideOnLeaves:!1,isTransitioning:!1})})),K.each(function(ne){var ae=i.isHeader(ne,B);ne._x0=g(ne.x0),ne._x1=g(ne.x1),ne._y0=w(ne.y0),ne._y1=w(ne.y1),ne._hoverX=g(ne.x1-B.marker.pad.r),ne._hoverY=w(Y?ne.y1-B.marker.pad.b/2:ne.y0+B.marker.pad.t/2);var ue=I.select(this),he=E.ensureSingle(ue,"path","surface",function(Se){Se.style("pointer-events",L?"none":"all")});m?he.transition().attrTween("d",function(Se){var Te=k(Se,o,ee(),[T,_]);return function(ye){return x(Te(ye))}}):he.attr("d",x),ue.call(s,h,l,c,{styleOne:y,eventDataKeys:u.eventDataKeys,transitionTime:u.CLICK_TRANSITION_TIME,transitionEasing:u.CLICK_TRANSITION_EASING}).call(i.setSliceCursor,l,{isTransitioning:l._transitioning}),he.call(y,ne,B,l,{hovered:!1}),ne._text=ne.x0===ne.x1||ne.y0===ne.y1?"":ae?q?"":i.getPtLabel(ne)||"":a(ne,h,B,c,N)||"";var pe=E.ensureSingle(ue,"g","slicetext"),ge=E.ensureSingle(pe,"text","",function(Se){Se.attr("data-notex",1)}),xe=E.ensureUniformFontSize(l,i.determineTextFont(B,ne,N.font));ge.text(ne._text||" ").classed("slicetext",!0).attr("text-anchor",z?"end":J||ae?"start":"middle").call(f.font,xe).call(S.convertToTspans,l),ne.textBB=f.bBox(ge.node()),ne.transform=b(ne,{fontSize:xe.size,isHeader:ae}),ne.transform.fontSize=xe.size,m?ge.transition().attrTween("transform",function(Se){var Te=P(Se,o,ee(),[T,_]);return function(ye){return A(Te(ye))}}):ge.attr("transform",A(ne))}),se}},14102:function(oe){"use strict";oe.exports=function j(r,I,E){var f;E.swapXY&&(f=r.x0,r.x0=r.y0,r.y0=f,f=r.x1,r.x1=r.y1,r.y1=f),E.flipX&&(f=r.x0,r.x0=I[0]-r.x1,r.x1=I[0]-f),E.flipY&&(f=r.y0,r.y0=I[1]-r.y1,r.y1=I[1]-f);var S=r.children;if(S)for(var M=0;M<S.length;M++)j(S[M],I,E)}},70954:function(oe,j,r){"use strict";oe.exports={moduleType:"trace",name:"treemap",basePlotModule:r(78018),categories:[],animatable:!0,attributes:r(45802),layoutAttributes:r(55479),supplyDefaults:r(91174),supplyLayoutDefaults:r(77182),calc:r(65039).y,crossTraceCalc:r(65039).T,plot:r(5893),style:r(96362).style,colorbar:r(4898),meta:{}}},55479:function(oe){"use strict";oe.exports={treemapcolorway:{valType:"colorlist",editType:"calc"},extendtreemapcolors:{valType:"boolean",dflt:!0,editType:"calc"}}},77182:function(oe,j,r){"use strict";var I=r(71828),E=r(55479);oe.exports=function(f,S){function M(y,u){return I.coerce(f,S,E,y,u)}M("treemapcolorway",S.colorway),M("extendtreemapcolors")}},37210:function(oe,j,r){"use strict";var I=r(674),E=r(14102);oe.exports=function(f,S,M){var y,u=M.flipX,i=M.flipY,s="dice-slice"===M.packing,a=M.pad[i?"bottom":"top"],o=M.pad[u?"right":"left"],l=M.pad[u?"left":"right"],c=M.pad[i?"top":"bottom"];s&&(y=o,o=a,a=y,y=l,l=c,c=y);var h=I.treemap().tile(function(v,p){switch(v){case"squarify":return I.treemapSquarify.ratio(p);case"binary":return I.treemapBinary;case"dice":return I.treemapDice;case"slice":return I.treemapSlice;default:return I.treemapSliceDice}}(M.packing,M.squarifyratio)).paddingInner(M.pad.inner).paddingLeft(o).paddingRight(l).paddingTop(a).paddingBottom(c).size(s?[S[1],S[0]]:S)(f);return(s||u||i)&&E(h,S,{swapXY:s,flipX:u,flipY:i}),h}},5893:function(oe,j,r){"use strict";var I=r(80694),E=r(52583);oe.exports=function(f,S,M,y){return I(f,S,M,y,{type:"treemap",drawDescendants:E})}},46650:function(oe,j,r){"use strict";var I=r(39898),E=r(81684).sX,f=r(2791),S=r(71828),M=r(97313).TEXTPAD,y=r(17295).toMoveInsideBar,u=r(72597).recordMinTextSize,i=r(43473),s=r(66209);function a(o){return f.isHierarchyRoot(o)?"":f.getPtId(o)}oe.exports=function(o,l,c,h,v){var p=o._fullLayout,T=l[0],_=T.trace,g="icicle"===_.type,w=T.hierarchy,x=f.findEntryWithLevel(w,_.level),b=I.select(c),A=b.selectAll("g.pathbar"),m=b.selectAll("g.slice");if(!x)return A.remove(),void m.remove();var C=f.isHierarchyRoot(x),k=!p.uniformtext.mode&&f.hasTransition(h),P=f.getMaxDepth(_),R=p._size,L=_.domain,N=R.w*(L.x[1]-L.x[0]),B=R.h*(L.y[1]-L.y[0]),J=N,z=_.pathbar.thickness,Y=_.marker.line.width+i.gapWithPathbar,q=_.pathbar.visible?_.pathbar.side.indexOf("bottom")>-1?B+Y:-(z+Y):0,U={x0:J,x1:J,y0:q,y1:q+z},Z=function(Ie,Be,We){var Ge=_.tiling.pad,Ke=function(ct){return ct-Ge<=Be.x0},tt=function(ct){return ct+Ge>=Be.x1},st=function(ct){return ct-Ge<=Be.y0},gt=function(ct){return ct+Ge>=Be.y1};return Ie.x0===Be.x0&&Ie.x1===Be.x1&&Ie.y0===Be.y0&&Ie.y1===Be.y1?{x0:Ie.x0,x1:Ie.x1,y0:Ie.y0,y1:Ie.y1}:{x0:Ke(Ie.x0-Ge)?0:tt(Ie.x0-Ge)?We[0]:Ie.x0,x1:Ke(Ie.x1+Ge)?0:tt(Ie.x1+Ge)?We[0]:Ie.x1,y0:st(Ie.y0-Ge)?0:gt(Ie.y0-Ge)?We[1]:Ie.y0,y1:st(Ie.y1+Ge)?0:gt(Ie.y1+Ge)?We[1]:Ie.y1}},X=null,se={},re={},ee=null,K=function(Ie,Be){return Be?se[a(Ie)]:re[a(Ie)]};T.hasMultipleRoots&&C&&P++,_._maxDepth=P,_._backgroundColor=p.paper_bgcolor,_._entryDepth=x.data.depth,_._atRootLevel=C;var ne=-N/2+R.l+R.w*(L.x[1]+L.x[0])/2,ae=-B/2+R.t+R.h*(1-(L.y[1]+L.y[0])/2),ue=function(Ie){return ne+Ie},he=function(Ie){return ae+Ie},pe=he(0),ge=ue(0),xe=function(Ie){return ge+Ie},Se=function(Ie){return pe+Ie};function Te(Ie,Be){return Ie+","+Be}var ye=xe(0),we=function(Ie){Ie.x=Math.max(ye,Ie.x)},ze=_.pathbar.edgeshape,ke=_[g?"tiling":"marker"].pad,Ee=function(Ie){return-1!==_.textposition.indexOf(Ie)},me=Ee("top"),de=Ee("left"),ce=Ee("right"),Ae=Ee("bottom"),Ne=function(Ie,Be){var We=Ie.x0,Ge=Ie.x1,Ke=Ie.y0,tt=Ie.y1,st=Ie.textBB,gt=me||Be.isHeader&&!Ae?"start":Ae?"end":"middle",ct=Ee("right"),kt=Ee("left")||Be.onPathbar?-1:ct?1:0;if(Be.isHeader){if((We+=(g?ke:ke.l)-M)>=(Ge-=(g?ke:ke.r)-M)){var Dt=(We+Ge)/2;We=Dt,Ge=Dt}var vt;Ae?Ke<(vt=tt-(g?ke:ke.b))&&vt<tt&&(Ke=vt):Ke<(vt=Ke+(g?ke:ke.t))&&vt<tt&&(tt=vt)}var mt=y(We,Ge,Ke,tt,st,{isHorizontal:!1,constrained:!0,angle:0,anchor:gt,leftToRight:kt});return mt.fontSize=Be.fontSize,mt.targetX=ue(mt.targetX),mt.targetY=he(mt.targetY),isNaN(mt.targetX)||isNaN(mt.targetY)?{}:(We!==Ge&&Ke!==tt&&u(_.type,mt,p),{scale:mt.scale,rotate:mt.rotate,textX:mt.textX,textY:mt.textY,anchorX:mt.anchorX,anchorY:mt.anchorY,targetX:mt.targetX,targetY:mt.targetY})},De=function(Ie,Be){for(var We,Ge=0,Ke=Ie;!We&&Ge<P;)Ge++,(Ke=Ke.parent)?We=K(Ke,Be):Ge=P;return We||{}},Ue=function(Ie,Be,We,Ge,Ke){var tt,st=K(Ie,Be);if(st)tt=st;else if(Be)tt=U;else if(X)if(Ie.parent){var gt=ee||We;gt&&!Be?tt=Z(Ie,gt,Ge):S.extendFlat(tt={},De(Ie,Be))}else tt=S.extendFlat({},Ie),g&&("h"===Ke.orientation?Ke.flipX?tt.x0=Ie.x1:tt.x1=0:Ke.flipY?tt.y0=Ie.y1:tt.y1=0);else tt={};return E(tt,{x0:Ie.x0,x1:Ie.x1,y0:Ie.y0,y1:Ie.y1})},Ye=function(Ie,Be,We,Ge){var ct,Dt,vt,Ke=K(Ie,Be),tt={},st=(ct=Ie,Dt=We,vt=Ge,Be?se[a(w)]||U:ct.data.depth-x.data.depth<P?Z(ct,re[_.level]||Dt,vt):{});S.extendFlat(tt,{transform:Ne({x0:st.x0,x1:st.x1,y0:st.y0,y1:st.y1,textBB:Ie.textBB,_text:Ie._text},{isHeader:f.isHeader(Ie,_)})}),Ke?tt=Ke:Ie.parent&&S.extendFlat(tt,De(Ie,Be));var gt=Ie.transform;return Ie.x0!==Ie.x1&&Ie.y0!==Ie.y1&&u(_.type,gt,p),E(tt,{transform:{scale:gt.scale,rotate:gt.rotate,textX:gt.textX,textY:gt.textY,anchorX:gt.anchorX,anchorY:gt.anchorY,targetX:gt.targetX,targetY:gt.targetY}})},_e=function(Ie,Be,We,Ge,Ke){var tt=Ge[0],st=Ge[1];k?Ie.exit().transition().each(function(){var gt=I.select(this);gt.select("path.surface").transition().attrTween("d",function(ct){var kt=function(Dt,vt,mt,Et){var Lt,Rt=K(Dt,vt);if(vt)Lt=U;else{var Ut=K(x,vt);Lt=Ut?Z(Dt,Ut,Et):{}}return E(Rt,Lt)}(ct,Be,0,[tt,st]);return function(Dt){return Ke(kt(Dt))}}),gt.select("g.slicetext").attr("opacity",0)}).remove():Ie.exit().remove()},Pe=function(Ie){var Be=Ie.transform;return Ie.x0!==Ie.x1&&Ie.y0!==Ie.y1&&u(_.type,Be,p),S.getTextTransform({textX:Be.textX,textY:Be.textY,anchorX:Be.anchorX,anchorY:Be.anchorY,targetX:Be.targetX,targetY:Be.targetY,scale:Be.scale,rotate:Be.rotate})};k&&(A.each(function(Ie){se[a(Ie)]={x0:Ie.x0,x1:Ie.x1,y0:Ie.y0,y1:Ie.y1},Ie.transform&&(se[a(Ie)].transform={textX:Ie.transform.textX,textY:Ie.transform.textY,anchorX:Ie.transform.anchorX,anchorY:Ie.transform.anchorY,targetX:Ie.transform.targetX,targetY:Ie.transform.targetY,scale:Ie.transform.scale,rotate:Ie.transform.rotate})}),m.each(function(Ie){re[a(Ie)]={x0:Ie.x0,x1:Ie.x1,y0:Ie.y0,y1:Ie.y1},Ie.transform&&(re[a(Ie)].transform={textX:Ie.transform.textX,textY:Ie.transform.textY,anchorX:Ie.transform.anchorX,anchorY:Ie.transform.anchorY,targetX:Ie.transform.targetX,targetY:Ie.transform.targetY,scale:Ie.transform.scale,rotate:Ie.transform.rotate}),!X&&f.isEntry(Ie)&&(X=Ie)})),ee=v(o,l,x,m,{width:N,height:B,viewX:ue,viewY:he,pathSlice:function(Ie){var Be=ue(Ie.x0),We=ue(Ie.x1),Ge=he(Ie.y0),Ke=he(Ie.y1),tt=We-Be,st=Ke-Ge;if(!tt||!st)return"";var ct=Math.min(_.marker.cornerradius||0,tt/2,st/2);ct&&Ie.data&&Ie.data.data&&Ie.data.data.label&&(me&&(ct=Math.min(ct,ke.t)),de&&(ct=Math.min(ct,ke.l)),ce&&(ct=Math.min(ct,ke.r)),Ae&&(ct=Math.min(ct,ke.b)));var kt=function(Dt,vt){return ct?"a"+Te(ct,ct)+" 0 0 1 "+Te(Dt,vt):""};return"M"+Te(Be,Ge+ct)+kt(ct,-ct)+"L"+Te(We-ct,Ge)+kt(ct,ct)+"L"+Te(We,Ke-ct)+kt(-ct,ct)+"L"+Te(Be+ct,Ke)+kt(-ct,-ct)+"Z"},toMoveInsideSlice:Ne,prevEntry:X,makeUpdateSliceInterpolator:Ue,makeUpdateTextInterpolator:Ye,handleSlicesExit:_e,hasTransition:k,strTransform:Pe}),_.pathbar.visible?s(o,l,x,A,{barDifY:q,width:J,height:z,viewX:xe,viewY:Se,pathSlice:function(Ie){var Be=xe(Math.max(Math.min(Ie.x0,Ie.x0),0)),We=xe(Math.min(Math.max(Ie.x1,Ie.x1),J)),Ge=Se(Ie.y0),Ke=Se(Ie.y1),tt=z/2,st={},gt={};st.x=Be,gt.x=We,st.y=gt.y=(Ge+Ke)/2;var ct={x:Be,y:Ge},kt={x:We,y:Ge},Dt={x:We,y:Ke},vt={x:Be,y:Ke};return">"===ze?(ct.x-=tt,kt.x-=tt,Dt.x-=tt,vt.x-=tt):"/"===ze?(Dt.x-=tt,vt.x-=tt,st.x-=tt/2,gt.x-=tt/2):"\\"===ze?(ct.x-=tt,kt.x-=tt,st.x-=tt/2,gt.x-=tt/2):"<"===ze&&(st.x-=tt,gt.x-=tt),we(ct),we(vt),we(st),we(kt),we(Dt),we(gt),"M"+Te(ct.x,ct.y)+"L"+Te(kt.x,kt.y)+"L"+Te(gt.x,gt.y)+"L"+Te(Dt.x,Dt.y)+"L"+Te(vt.x,vt.y)+"L"+Te(st.x,st.y)+"Z"},toMoveInsideSlice:Ne,makeUpdateSliceInterpolator:Ue,makeUpdateTextInterpolator:Ye,handleSlicesExit:_e,hasTransition:k,strTransform:Pe}):A.remove()}},96362:function(oe,j,r){"use strict";var I=r(39898),E=r(7901),f=r(71828),S=r(2791),M=r(72597).resizeText,y=r(43467);function u(i,s,a,o,l){var c,h,v=(l||{}).hovered,p=s.data.data,T=p.i,_=p.color,g=S.isHierarchyRoot(s),w=1;if(v)c=a._hovered.marker.line.color,h=a._hovered.marker.line.width;else if(g&&_===a.root.color)w=100,c="rgba(0,0,0,0)",h=0;else if(c=f.castOption(a,T,"marker.line.color")||E.defaultLine,h=f.castOption(a,T,"marker.line.width")||0,!a._hasColorscale&&!s.onPathbar){var x=a.marker.depthfade;if(x){var b,A=E.combine(E.addOpacity(a._backgroundColor,.75),_);if(!0===x){var m=S.getMaxDepth(a);b=isFinite(m)?S.isLeaf(s)?0:a._maxVisibleLayers-(s.data.depth-a._entryDepth):s.data.height+1}else b=s.data.depth-a._entryDepth,a._atRootLevel||b++;if(b>0)for(var C=0;C<b;C++)_=E.combine(E.addOpacity(A,.5*C/b),_)}}i.call(y,s,a,o,_).style("stroke-width",h).call(E.stroke,c).style("opacity",w)}oe.exports={style:function(i){var s=i._fullLayout._treemaplayer.selectAll(".trace");M(i,s,"treemap"),s.each(function(a){var o=I.select(this),l=a[0].trace;o.style("opacity",l.opacity),o.selectAll("path.surface").each(function(c){I.select(this).call(u,c,l,i,{hovered:!1})})})},styleOne:u}},68875:function(oe,j,r){"use strict";var I=r(53522),E=r(1426).extendFlat,f=r(12663).axisHoverFormat;oe.exports={y:I.y,x:I.x,x0:I.x0,y0:I.y0,xhoverformat:f("x"),yhoverformat:f("y"),name:E({},I.name,{}),orientation:E({},I.orientation,{}),bandwidth:{valType:"number",min:0,editType:"calc"},scalegroup:{valType:"string",dflt:"",editType:"calc"},scalemode:{valType:"enumerated",values:["width","count"],dflt:"width",editType:"calc"},spanmode:{valType:"enumerated",values:["soft","hard","manual"],dflt:"soft",editType:"calc"},span:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,dflt:2,editType:"style"},editType:"plot"},fillcolor:I.fillcolor,points:E({},I.boxpoints,{}),jitter:E({},I.jitter,{}),pointpos:E({},I.pointpos,{}),width:E({},I.width,{}),marker:I.marker,text:I.text,hovertext:I.hovertext,hovertemplate:I.hovertemplate,quartilemethod:I.quartilemethod,box:{visible:{valType:"boolean",dflt:!1,editType:"plot"},width:{valType:"number",min:0,max:1,dflt:.25,editType:"plot"},fillcolor:{valType:"color",editType:"style"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,editType:"style"},editType:"style"},editType:"plot"},meanline:{visible:{valType:"boolean",dflt:!1,editType:"plot"},color:{valType:"color",editType:"style"},width:{valType:"number",min:0,editType:"style"},editType:"plot"},side:{valType:"enumerated",values:["both","positive","negative"],dflt:"both",editType:"calc"},offsetgroup:I.offsetgroup,alignmentgroup:I.alignmentgroup,selected:I.selected,unselected:I.unselected,hoveron:{valType:"flaglist",flags:["violins","points","kde"],dflt:"violins+points+kde",extras:["all"],editType:"style"}}},38603:function(oe,j,r){"use strict";var I=r(71828),E=r(89298),f=r(48518),S=r(60168),M=r(50606).BADNUM;function y(i,s,a){var o=s.max-s.min;if(!o)return i.bandwidth?i.bandwidth:0;if(i.bandwidth)return Math.max(i.bandwidth,o/1e4);var h,l=a.length,c=I.stdev(a,l-1,s.mean);return Math.max((h=l,1.059*Math.min(c,(s.q3-s.q1)/1.349)*Math.pow(h,-.2)),o/100)}function u(i,s,a,o){var l,c=i.spanmode,h=i.span||[],p=[s.min-2*o,s.max+2*o];function T(g){var w=h[g],x="multicategory"===a.type?a.r2c(w):a.d2c(w,0,i[s.valLetter+"calendar"]);return x===M?p[g]:x}var _={type:"linear",range:l="soft"===c?p:"hard"===c?[s.min,s.max]:[T(0),T(1)]};return E.setConvert(_),_.cleanRange(),l}oe.exports=function(i,s){var a=f(i,s);if(a[0].t.empty)return a;for(var o=i._fullLayout,l=E.getFromId(i,s["h"===s.orientation?"xaxis":"yaxis"]),c=1/0,h=-1/0,v=0,p=0,T=0;T<a.length;T++){var _=a[T],g=_.pts.map(S.extractVal),w=_.bandwidth=y(s,_,g),x=_.span=u(s,_,l,w);if(_.min===_.max&&0===w)x=_.span=[_.min,_.max],_.density=[{v:1,t:x[0]}],_.bandwidth=w,v=Math.max(v,1);else{var b=x[1]-x[0],A=Math.ceil(b/(w/3)),m=b/A;if(!isFinite(m)||!isFinite(A))return I.error("Something went wrong with computing the violin span"),a[0].t.empty=!0,a;var C=S.makeKDE(_,s,g);_.density=new Array(A);for(var k=0,P=x[0];P<x[1]+m/2;k++,P+=m){var R=C(P);_.density[k]={v:R,t:P},v=Math.max(v,R)}}p=Math.max(p,g.length),c=Math.min(c,x[0]),h=Math.max(h,x[1])}var L=E.findExtremes(l,[c,h],{padded:!0});if(s._extremes[l._id]=L,s.width)a[0].t.maxKDE=v;else{var N=o._violinScaleGroupStats,B=s.scalegroup,J=N[B];J?(J.maxKDE=Math.max(J.maxKDE,v),J.maxCount=Math.max(J.maxCount,p)):N[B]={maxKDE:v,maxCount:p}}return a[0].t.labels.kde=I._(i,"kde:"),a}},86403:function(oe,j,r){"use strict";var I=r(37188).setPositionOffset,E=["v","h"];oe.exports=function(f,S){for(var M=f.calcdata,y=S.xaxis,u=S.yaxis,i=0;i<E.length;i++){for(var s=E[i],a="h"===s?u:y,o=[],l=0;l<M.length;l++){var c=M[l],v=c[0].trace;!0!==v.visible||"violin"!==v.type||c[0].t.empty||v.orientation!==s||v.xaxis!==y._id||v.yaxis!==u._id||o.push(l)}I("violin",f,o,a)}}},15899:function(oe,j,r){"use strict";var I=r(71828),E=r(7901),f=r(36411),S=r(68875);oe.exports=function(M,y,u,i){function s(b,A){return I.coerce(M,y,S,b,A)}function a(b,A){return I.coerce2(M,y,S,b,A)}if(f.handleSampleDefaults(M,y,s,i),!1!==y.visible){s("bandwidth"),s("side"),s("width")||(s("scalegroup",y.name),s("scalemode"));var o,l=s("span");Array.isArray(l)&&(o="manual"),s("spanmode",o);var c=s("line.color",(M.marker||{}).color||u),h=s("line.width"),v=s("fillcolor",E.addOpacity(y.line.color,.5));f.handlePointsDefaults(M,y,s,{prefix:""});var p=a("box.width"),T=a("box.fillcolor",v),_=a("box.line.color",c),g=a("box.line.width",h);s("box.visible",!!(p||T||_||g))||(y.box={visible:!1});var w=a("meanline.color",c),x=a("meanline.width",h);s("meanline.visible",!(!w&&!x))||(y.meanline={visible:!1}),s("quartilemethod")}}},60168:function(oe,j,r){"use strict";var I=r(71828),E=function(f){return 1/Math.sqrt(2*Math.PI)*Math.exp(-.5*f*f)};j.makeKDE=function(f,S,M){var y=M.length,u=E,i=f.bandwidth,s=1/(y*i);return function(a){for(var o=0,l=0;l<y;l++)o+=u((a-M[l])/i);return s*o}},j.getPositionOnKdePath=function(f,S,M){var y,u;"h"===S.orientation?(y="y",u="x"):(y="x",u="y");var i=I.findPointOnPath(f.path,M,u,{pathLength:f.pathLength}),s=f.posCenterPx,a=i[y];return[a,"both"===S.side?2*s-a:s]},j.getKdeValue=function(f,S,M){var y=f.pts.map(j.extractVal);return j.makeKDE(f,S,y)(M)/f.posDensityScale},j.extractVal=function(f){return f.v}},57634:function(oe,j,r){"use strict";var I=r(7901),E=r(71828),f=r(89298),S=r(41868),M=r(60168);oe.exports=function(y,u,i,s,a){a||(a={});var o,l,c=a.hoverLayer,h=y.cd,v=h[0].trace,p=v.hoveron,T=-1!==p.indexOf("violins"),_=-1!==p.indexOf("kde"),g=[];if(T||_){var w=S.hoverOnBoxes(y,u,i,s);if(_&&w.length>0){var x,b,A,m,C,k=y.xa,P=y.ya;"h"===v.orientation?(C=u,x="y",A=P,b="x",m=k):(C=i,x="x",A=k,b="y",m=P);var R=h[y.index];if(C>=R.span[0]&&C<=R.span[1]){var L=E.extendFlat({},y),N=m.c2p(C,!0),B=M.getKdeValue(R,v,C),J=M.getPositionOnKdePath(R,v,N),z=A._offset,Y=A._length;L[x+"0"]=J[0],L[x+"1"]=J[1],L[b+"0"]=L[b+"1"]=N,L[b+"Label"]=b+": "+f.hoverLabelText(m,C,v[b+"hoverformat"])+", "+h[0].t.labels.kde+" "+B.toFixed(3);for(var q=0,U=0;U<w.length;U++)if("med"===w[U].attr){q=U;break}L.spikeDistance=w[q].spikeDistance;var Z=x+"Spike";L[Z]=w[q][Z],w[q].spikeDistance=void 0,w[q][Z]=void 0,L.hovertemplate=!1,g.push(L),(l={})[x+"1"]=E.constrain(z+J[0],z,z+Y),l[x+"2"]=E.constrain(z+J[1],z,z+Y),l[b+"1"]=l[b+"2"]=m._offset+N}}T&&(g=g.concat(w))}-1!==p.indexOf("points")&&(o=S.hoverOnPoints(y,u,i));var X=c.selectAll(".violinline-"+v.uid).data(l?[0]:[]);return X.enter().append("line").classed("violinline-"+v.uid,!0).attr("stroke-width",1.5),X.exit().remove(),X.attr(l).call(I.stroke,y.color),"closest"===s?o?[o]:g:(o&&g.push(o),g)}},47462:function(oe,j,r){"use strict";oe.exports={attributes:r(68875),layoutAttributes:r(9228),supplyDefaults:r(15899),crossTraceDefaults:r(36411).crossTraceDefaults,supplyLayoutDefaults:r(33598),calc:r(38603),crossTraceCalc:r(86403),plot:r(28443),style:r(31847),styleOnSelect:r(16296).styleOnSelect,hoverPoints:r(57634),selectPoints:r(24626),moduleType:"trace",name:"violin",basePlotModule:r(93612),categories:["cartesian","svg","symbols","oriented","box-violin","showLegend","violinLayout","zoomScale"],meta:{}}},9228:function(oe,j,r){"use strict";var I=r(40094),E=r(71828).extendFlat;oe.exports={violinmode:E({},I.boxmode,{}),violingap:E({},I.boxgap,{}),violingroupgap:E({},I.boxgroupgap,{})}},33598:function(oe,j,r){"use strict";var I=r(71828),E=r(9228),f=r(4199);oe.exports=function(S,M,y){f._supply(S,M,y,function(u,i){return I.coerce(S,M,E,u,i)},"violin")}},28443:function(oe,j,r){"use strict";var I=r(39898),E=r(71828),f=r(91424),S=r(86047),M=r(34621),y=r(60168);oe.exports=function(u,i,s,a){var o=u._context.staticPlot,l=u._fullLayout,c=i.xaxis,h=i.yaxis;function v(p,T){var _=M(p,{xaxis:c,yaxis:h,trace:T,connectGaps:!0,baseTolerance:.75,shape:"spline",simplify:!0,linearized:!0});return f.smoothopen(_[0],1)}E.makeTraceGroups(a,s,"trace violins").each(function(p){var T=I.select(this),_=p[0],g=_.t,w=_.trace;if(!0!==w.visible||g.empty)T.remove();else{var x=g.bPos,b=g.bdPos,A=i[g.valLetter+"axis"],m=i[g.posLetter+"axis"],C="both"===w.side,k=C||"positive"===w.side,P=C||"negative"===w.side,R=T.selectAll("path.violin").data(E.identity);R.enter().append("path").style("vector-effect",o?"none":"non-scaling-stroke").attr("class","violin"),R.exit().remove(),R.each(function(U){var Z,X,se,re,ee,K,ne,ae,ue=I.select(this),he=U.density,pe=he.length,ge=m.c2l(U.pos+x,!0),xe=m.l2p(ge);if(w.width)Z=g.maxKDE/b;else{var Se=l._violinScaleGroupStats[w.scalegroup];Z="count"===w.scalemode?Se.maxKDE/b*(Se.maxCount/U.pts.length):Se.maxKDE/b}if(k){for(ne=new Array(pe),ee=0;ee<pe;ee++)(ae=ne[ee]={})[g.posLetter]=ge+he[ee].v/Z,ae[g.valLetter]=A.c2l(he[ee].t,!0);X=v(ne,w)}if(P){for(ne=new Array(pe),K=0,ee=pe-1;K<pe;K++,ee--)(ae=ne[K]={})[g.posLetter]=ge-he[ee].v/Z,ae[g.valLetter]=A.c2l(he[ee].t,!0);se=v(ne,w)}if(C)re=X+"L"+se.substr(1)+"Z";else{var Te=[xe,A.c2p(he[0].t)],ye=[xe,A.c2p(he[pe-1].t)];"h"===w.orientation&&(Te.reverse(),ye.reverse()),re=k?"M"+Te+"L"+X.substr(1)+"L"+ye:"M"+ye+"L"+se.substr(1)+"L"+Te}ue.attr("d",re),U.posCenterPx=xe,U.posDensityScale=Z*b,U.path=ue.node(),U.pathLength=U.path.getTotalLength()/(C?2:1)});var L,N,B,J=w.box,z=J.width,Y=(J.line||{}).width;C?(L=b*z,N=0):k?(L=[0,b*z/2],N=Y*{x:1,y:-1}[g.posLetter]):(L=[b*z/2,0],N=Y*{x:-1,y:1}[g.posLetter]),S.plotBoxAndWhiskers(T,{pos:m,val:A},w,{bPos:x,bdPos:L,bPosPxOffset:N}),S.plotBoxMean(T,{pos:m,val:A},w,{bPos:x,bdPos:L,bPosPxOffset:N}),!w.box.visible&&w.meanline.visible&&(B=E.identity);var q=T.selectAll("path.meanline").data(B||[]);q.enter().append("path").attr("class","meanline").style("fill","none").style("vector-effect",o?"none":"non-scaling-stroke"),q.exit().remove(),q.each(function(U){var Z=A.c2p(U.mean,!0),X=y.getPositionOnKdePath(U,w,Z);I.select(this).attr("d","h"===w.orientation?"M"+Z+","+X[0]+"V"+X[1]:"M"+X[0]+","+Z+"H"+X[1])}),S.plotPoints(T,{x:c,y:h},w,g)}})}},31847:function(oe,j,r){"use strict";var I=r(39898),E=r(7901),f=r(16296).stylePoints;oe.exports=function(S){var M=I.select(S).selectAll("g.trace.violins");M.style("opacity",function(y){return y[0].trace.opacity}),M.each(function(y){var u=y[0].trace,i=I.select(this),s=u.box||{},a=s.line||{},o=u.meanline||{},l=o.width;i.selectAll("path.violin").style("stroke-width",u.line.width+"px").call(E.stroke,u.line.color).call(E.fill,u.fillcolor),i.selectAll("path.box").style("stroke-width",a.width+"px").call(E.stroke,a.color).call(E.fill,s.fillcolor);var c={"stroke-width":l+"px","stroke-dasharray":2*l+"px,"+l+"px"};i.selectAll("path.mean").style(c).call(E.stroke,o.color),i.selectAll("path.meanline").style(c).call(E.stroke,o.color),f(i,u,S)})}},16336:function(oe,j,r){"use strict";var I=r(50693),E=r(16249),f=r(54532),S=r(9012),M=r(1426).extendFlat,y=r(30962).overrideAll,u=oe.exports=y(M({x:E.x,y:E.y,z:E.z,value:E.value,isomin:E.isomin,isomax:E.isomax,surface:E.surface,spaceframe:{show:{valType:"boolean",dflt:!1},fill:{valType:"number",min:0,max:1,dflt:1}},slices:E.slices,caps:E.caps,text:E.text,hovertext:E.hovertext,xhoverformat:E.xhoverformat,yhoverformat:E.yhoverformat,zhoverformat:E.zhoverformat,valuehoverformat:E.valuehoverformat,hovertemplate:E.hovertemplate},I("",{colorAttr:"`value`",showScaleDflt:!0,editTypeOverride:"calc"}),{colorbar:E.colorbar,opacity:E.opacity,opacityscale:f.opacityscale,lightposition:E.lightposition,lighting:E.lighting,flatshading:E.flatshading,contour:E.contour,hoverinfo:M({},S.hoverinfo),showlegend:M({},S.showlegend,{dflt:!1})}),"calc","nested");u.x.editType=u.y.editType=u.z.editType=u.value.editType="calc+clearAxisTypes",u.transforms=void 0},64809:function(oe,j,r){"use strict";var I=r(9330).gl_mesh3d,E=r(81697).parseColorScale,f=r(78614),S=r(21081).extractOpts,M=r(90060),y=r(22674).findNearestOnAxis,u=r(22674).generateIsoMeshes;function i(a,o,l){this.scene=a,this.uid=l,this.mesh=o,this.name="",this.data=null,this.showContour=!1}var s=i.prototype;s.handlePick=function(a){if(a.object===this.mesh){var o=a.data.index,c=this.data._meshY[o],h=this.data._meshZ[o],v=this.data._Ys.length,p=this.data._Zs.length,T=y(this.data._meshX[o],this.data._Xs).id,_=y(c,this.data._Ys).id,g=y(h,this.data._Zs).id,w=a.index=g+p*_+p*v*T;a.traceCoordinate=[this.data._meshX[w],this.data._meshY[w],this.data._meshZ[w],this.data._value[w]];var x=this.data.hovertext||this.data.text;return Array.isArray(x)&&void 0!==x[w]?a.textLabel=x[w]:x&&(a.textLabel=x),!0}},s.update=function(a){var o=this.scene,l=o.fullSceneLayout;function c(p,T,_,g){return T.map(function(w){return p.d2l(w,0,g)*_})}this.data=u(a);var h={positions:M(c(l.xaxis,a._meshX,o.dataScale[0],a.xcalendar),c(l.yaxis,a._meshY,o.dataScale[1],a.ycalendar),c(l.zaxis,a._meshZ,o.dataScale[2],a.zcalendar)),cells:M(a._meshI,a._meshJ,a._meshK),lightPosition:[a.lightposition.x,a.lightposition.y,a.lightposition.z],ambient:a.lighting.ambient,diffuse:a.lighting.diffuse,specular:a.lighting.specular,roughness:a.lighting.roughness,fresnel:a.lighting.fresnel,vertexNormalsEpsilon:a.lighting.vertexnormalsepsilon,faceNormalsEpsilon:a.lighting.facenormalsepsilon,opacity:a.opacity,opacityscale:a.opacityscale,contourEnable:a.contour.show,contourColor:f(a.contour.color).slice(0,3),contourWidth:a.contour.width,useFacetNormals:a.flatshading},v=S(a);h.vertexIntensity=a._meshIntensity,h.vertexIntensityBounds=[v.min,v.max],h.colormap=E(a),this.mesh.update(h)},s.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()},oe.exports=function(a,o){var c=I({gl:a.glplot.gl}),h=new i(a,c,o.uid);return c._trace=h,h.update(o),a.glplot.add(c),h}},47651:function(oe,j,r){"use strict";var I=r(71828),E=r(16336),f=r(82738).supplyIsoDefaults,S=r(91831).opacityscaleDefaults;oe.exports=function(M,y,u,i){function s(a,o){return I.coerce(M,y,E,a,o)}f(M,y,u,i,s),S(M,y,i,s)}},17659:function(oe,j,r){"use strict";oe.exports={attributes:r(16336),supplyDefaults:r(47651),calc:r(56959),colorbar:{min:"cmin",max:"cmax"},plot:r(64809),moduleType:"trace",name:"volume",basePlotModule:r(58547),categories:["gl3d","showLegend"],meta:{}}},43037:function(oe,j,r){"use strict";var I=r(1486),E=r(82196).line,f=r(9012),S=r(12663).axisHoverFormat,M=r(5386).fF,y=r(5386).si,u=r(48334),i=r(1426).extendFlat,s=r(7901);function a(o){return{marker:{color:i({},I.marker.color,{arrayOk:!1,editType:"style"}),line:{color:i({},I.marker.line.color,{arrayOk:!1,editType:"style"}),width:i({},I.marker.line.width,{arrayOk:!1,editType:"style"}),editType:"style"},editType:"style"},editType:"style"}}oe.exports={measure:{valType:"data_array",dflt:[],editType:"calc"},base:{valType:"number",dflt:null,arrayOk:!1,editType:"calc"},x:I.x,x0:I.x0,dx:I.dx,y:I.y,y0:I.y0,dy:I.dy,xperiod:I.xperiod,yperiod:I.yperiod,xperiod0:I.xperiod0,yperiod0:I.yperiod0,xperiodalignment:I.xperiodalignment,yperiodalignment:I.yperiodalignment,xhoverformat:S("x"),yhoverformat:S("y"),hovertext:I.hovertext,hovertemplate:M({},{keys:u.eventDataKeys}),hoverinfo:i({},f.hoverinfo,{flags:["name","x","y","text","initial","delta","final"]}),textinfo:{valType:"flaglist",flags:["label","text","initial","delta","final"],extras:["none"],editType:"plot",arrayOk:!1},texttemplate:y({editType:"plot"},{keys:u.eventDataKeys.concat(["label"])}),text:I.text,textposition:I.textposition,insidetextanchor:I.insidetextanchor,textangle:I.textangle,textfont:I.textfont,insidetextfont:I.insidetextfont,outsidetextfont:I.outsidetextfont,constraintext:I.constraintext,cliponaxis:I.cliponaxis,orientation:I.orientation,offset:I.offset,width:I.width,increasing:a(),decreasing:a(),totals:a(),connector:{line:{color:i({},E.color,{dflt:s.defaultLine}),width:i({},E.width,{editType:"plot"}),dash:E.dash,editType:"plot"},mode:{valType:"enumerated",values:["spanning","between"],dflt:"between",editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},offsetgroup:I.offsetgroup,alignmentgroup:I.alignmentgroup}},52752:function(oe,j,r){"use strict";var I=r(89298),E=r(42973),f=r(71828).mergeArray,S=r(66279),M=r(50606).BADNUM;function y(i){return"a"===i||"absolute"===i}function u(i){return"t"===i||"total"===i}oe.exports=function(i,s){var a,o,l,c,h,v,p=I.getFromId(i,s.xaxis||"x"),T=I.getFromId(i,s.yaxis||"y");"h"===s.orientation?(a=p.makeCalcdata(s,"x"),l=T.makeCalcdata(s,"y"),c=E(s,T,"y",l),h=!!s.yperiodalignment,v="y"):(a=T.makeCalcdata(s,"y"),l=p.makeCalcdata(s,"x"),c=E(s,p,"x",l),h=!!s.xperiodalignment,v="x"),o=c.vals;for(var _,g=Math.min(o.length,a.length),w=new Array(g),x=0,b=!1,A=0;A<g;A++){var m=a[A]||0,C=!1;(a[A]!==M||u(s.measure[A])||y(s.measure[A]))&&A+1<g&&(a[A+1]!==M||u(s.measure[A+1])||y(s.measure[A+1]))&&(C=!0);var k=w[A]={i:A,p:o[A],s:m,rawS:m,cNext:C};y(s.measure[A])?(x=k.s,k.isSum=!0,k.dir="totals",k.s=x):u(s.measure[A])?(k.isSum=!0,k.dir="totals",k.s=x):(k.isSum=!1,k.dir=k.rawS<0?"decreasing":"increasing",k.s=x+(_=k.s),x+=_),"totals"===k.dir&&(b=!0),h&&(w[A].orig_p=l[A],w[A][v+"End"]=c.ends[A],w[A][v+"Start"]=c.starts[A]),s.ids&&(k.id=String(s.ids[A])),k.v=(s.base||0)+x}return w.length&&(w[0].hasTotals=b),f(s.text,w,"tx"),f(s.hovertext,w,"htx"),S(w,s),w}},48334:function(oe){"use strict";oe.exports={eventDataKeys:["initial","delta","final"]}},70766:function(oe,j,r){"use strict";var I=r(11661).setGroupPositions;oe.exports=function(E,f){var S,M,y=E._fullLayout,u=E._fullData,i=E.calcdata,s=f.xaxis,a=f.yaxis,o=[],l=[],c=[];for(M=0;M<u.length;M++){var h=u[M];!0===h.visible&&h.xaxis===s._id&&h.yaxis===a._id&&"waterfall"===h.type&&(S=i[M],"h"===h.orientation?c.push(S):l.push(S),o.push(S))}var v={mode:y.waterfallmode,norm:y.waterfallnorm,gap:y.waterfallgap,groupgap:y.waterfallgroupgap};for(I(E,s,a,l,v),I(E,a,s,c,v),M=0;M<o.length;M++){S=o[M];for(var p=0;p<S.length;p++){var T=S[p];!1===T.isSum&&(T.s0+=0===p?0:S[p-1].s),p+1<S.length&&(S[p].nextP0=S[p+1].p0,S[p].nextS0=S[p+1].s0)}}}},83266:function(oe,j,r){"use strict";var I=r(71828),E=r(26125),f=r(90769).handleText,S=r(67513),M=r(73927),y=r(43037),u=r(7901),i=r(22372),s=i.INCREASING.COLOR,a=i.DECREASING.COLOR;function o(l,c,h){l(c+".marker.color",h),l(c+".marker.line.color",u.defaultLine),l(c+".marker.line.width")}oe.exports={supplyDefaults:function(l,c,h,v){function p(_,g){return I.coerce(l,c,y,_,g)}if(S(l,c,v,p)){M(l,c,v,p),p("xhoverformat"),p("yhoverformat"),p("measure"),p("orientation",c.x&&!c.y?"h":"v"),p("base"),p("offset"),p("width"),p("text"),p("hovertext"),p("hovertemplate");var T=p("textposition");f(l,c,v,p,T,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),"none"!==c.textposition&&(p("texttemplate"),c.texttemplate||p("textinfo")),o(p,"increasing",s),o(p,"decreasing",a),o(p,"totals","#4499FF"),p("connector.visible")&&(p("connector.mode"),p("connector.line.width")&&(p("connector.line.color"),p("connector.line.dash")))}else c.visible=!1},crossTraceDefaults:function(l,c){var h,v;function p(_){return I.coerce(v._input,v,y,_)}if("group"===c.waterfallmode)for(var T=0;T<l.length;T++)h=(v=l[T])._input,E(h,v,c,p)}}},58593:function(oe){"use strict";oe.exports=function(j,r){return j.x="xVal"in r?r.xVal:r.x,j.y="yVal"in r?r.yVal:r.y,"initial"in r&&(j.initial=r.initial),"delta"in r&&(j.delta=r.delta),"final"in r&&(j.final=r.final),r.xa&&(j.xaxis=r.xa),r.ya&&(j.yaxis=r.ya),j}},61326:function(oe,j,r){"use strict";var I=r(89298).hoverLabelText,E=r(7901).opacity,f=r(95423).hoverOnBars,S=r(22372),M=S.INCREASING.SYMBOL,y=S.DECREASING.SYMBOL;oe.exports=function(u,i,s,a,o){var L,N,B,J,l=f(u,i,s,a,o);if(l){var c=l.cd,h=c[0].trace,v="h"===h.orientation,p=v?"x":"y",T=v?u.xa:u.ya,_=c[l.index],g=_.isSum?_.b+_.s:_.rawS;l.initial=_.b+_.s-g,l.delta=g,l.final=l.initial+l.delta;var w=k(Math.abs(l.delta));l.deltaLabel=g<0?"("+w+")":w,l.finalLabel=k(l.final),l.initialLabel=k(l.initial);var x=_.hi||h.hoverinfo,b=[];if(x&&"none"!==x&&"skip"!==x){var A="all"===x,m=x.split("+"),C=function(P){return A||-1!==m.indexOf(P)};_.isSum||(!C("final")||C(v?"x":"y")||b.push(l.finalLabel),C("delta")&&b.push(g<0?l.deltaLabel+" "+y:l.deltaLabel+" "+M),C("initial")&&b.push("Initial: "+l.initialLabel))}return b.length&&(l.extraText=b.join("<br>")),l.color=(B=(L=h[_.dir].marker).line.color,J=L.line.width,E(N=L.color)?N:E(B)&&J?B:void 0),[l]}function k(P){return I(T,P,h[p+"hoverformat"])}}},19990:function(oe,j,r){"use strict";oe.exports={attributes:r(43037),layoutAttributes:r(13494),supplyDefaults:r(83266).supplyDefaults,crossTraceDefaults:r(83266).crossTraceDefaults,supplyLayoutDefaults:r(5176),calc:r(52752),crossTraceCalc:r(70766),plot:r(30436),style:r(55750).style,hoverPoints:r(61326),eventData:r(58593),selectPoints:r(81974),moduleType:"trace",name:"waterfall",basePlotModule:r(93612),categories:["bar-like","cartesian","svg","oriented","showLegend","zoomScale"],meta:{}}},13494:function(oe){"use strict";oe.exports={waterfallmode:{valType:"enumerated",values:["group","overlay"],dflt:"group",editType:"calc"},waterfallgap:{valType:"number",min:0,max:1,editType:"calc"},waterfallgroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},5176:function(oe,j,r){"use strict";var I=r(71828),E=r(13494);oe.exports=function(f,S,M){var y=!1;function u(a,o){return I.coerce(f,S,E,a,o)}for(var i=0;i<M.length;i++){var s=M[i];if(s.visible&&"waterfall"===s.type){y=!0;break}}y&&(u("waterfallmode"),u("waterfallgap",.2),u("waterfallgroupgap"))}},30436:function(oe,j,r){"use strict";var I=r(39898),E=r(71828),f=r(91424),S=r(50606).BADNUM,M=r(17295),y=r(72597).clearMinTextSize;oe.exports=function(u,i,s,a){var l,c,p,T,o=u._fullLayout;y("waterfall",o),M.plot(u,i,s,a,{mode:o.waterfallmode,norm:o.waterfallmode,gap:o.waterfallgap,groupgap:o.waterfallgroupgap}),l=u,p=(c=i).xaxis,T=c.yaxis,E.makeTraceGroups(a,s,"trace bars").each(function(_){var g=I.select(this),w=_[0].trace,x=E.ensureSingle(g,"g","lines");if(w.connector&&w.connector.visible){var b="h"===w.orientation,A=w.connector.mode,m=x.selectAll("g.line").data(E.identity);m.enter().append("g").classed("line",!0),m.exit().remove();var C=m.size();m.each(function(k,P){if(P===C-1||k.cNext){var R=(z=p,Y=T,Z=[],se=(q=b)?Y:z,(U=[])[0]=(X=q?z:Y).c2p((J=k).s0,!0),Z[0]=se.c2p(J.p0,!0),U[1]=X.c2p(J.s1,!0),Z[1]=se.c2p(J.p1,!0),U[2]=X.c2p(J.nextS0,!0),Z[2]=se.c2p(J.nextP0,!0),q?[U,Z]:[Z,U]),L=R[0],N=R[1],B="";L[0]!==S&&N[0]!==S&&L[1]!==S&&N[1]!==S&&("spanning"===A&&!k.isSum&&P>0&&(B+=b?"M"+L[0]+","+N[1]+"V"+N[0]:"M"+L[1]+","+N[0]+"H"+L[0]),"between"!==A&&(k.isSum||P<C-1)&&(B+=b?"M"+L[1]+","+N[0]+"V"+N[1]:"M"+L[0]+","+N[1]+"H"+L[1]),L[2]!==S&&N[2]!==S&&(B+=b?"M"+L[1]+","+N[1]+"V"+N[2]:"M"+L[1]+","+N[1]+"H"+L[2])),""===B&&(B="M0,0Z"),E.ensureSingle(I.select(this),"path").attr("d",B).call(f.setClipUrl,c.layerClipId,l)}var J,z,Y,q,U,Z,X,se})}else x.remove()})}},55750:function(oe,j,r){"use strict";var I=r(39898),E=r(91424),f=r(7901),S=r(37822).DESELECTDIM,M=r(16688),y=r(72597).resizeText,u=M.styleTextPoints;oe.exports={style:function(i,s,a){var o=a||I.select(i).selectAll("g.waterfalllayer").selectAll("g.trace");y(i,o,"waterfall"),o.style("opacity",function(l){return l[0].trace.opacity}),o.each(function(l){var c=I.select(this),h=l[0].trace;c.selectAll(".point > path").each(function(v){if(!v.isBlank){var p=h[v.dir].marker;I.select(this).call(f.fill,p.color).call(f.stroke,p.line.color).call(E.dashLine,p.line.dash,p.line.width).style("opacity",h.selectedpoints&&!v.selected?S:1)}}),u(c,h,i),c.selectAll(".lines").each(function(){var v=h.connector.line;E.lineGroupStyle(I.select(this).selectAll("path"),v.width,v.color,v.dash)})})}}},82887:function(oe,j,r){"use strict";var I=r(89298),E=r(71828),f=r(86281),S=r(79344).p,M=r(50606).BADNUM;j.moduleType="transform",j.name="aggregate";var y=j.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},aggregations:{_isLinkedToArray:"aggregation",target:{valType:"string",editType:"calc"},func:{valType:"enumerated",values:["count","sum","avg","median","mode","rms","stddev","min","max","first","last","change","range"],dflt:"first",editType:"calc"},funcmode:{valType:"enumerated",values:["sample","population"],dflt:"sample",editType:"calc"},enabled:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},editType:"calc"},u=y.aggregations;function i(l,c,h,v){if(v.enabled){for(var p=v.target,T=E.nestedProperty(c,p),_=T.get(),g=function(b,A){var C=A.d2c,k=A.c2d;switch(b.func){case"count":return s;case"first":return a;case"last":return o;case"sum":return function(P,R){for(var L=0,N=0;N<R.length;N++){var B=C(P[R[N]]);B!==M&&(L+=B)}return k(L)};case"avg":return function(P,R){for(var L=0,N=0,B=0;B<R.length;B++){var J=C(P[R[B]]);J!==M&&(L+=J,N++)}return N?k(L/N):M};case"min":return function(P,R){for(var L=1/0,N=0;N<R.length;N++){var B=C(P[R[N]]);B!==M&&(L=Math.min(L,B))}return L===1/0?M:k(L)};case"max":return function(P,R){for(var L=-1/0,N=0;N<R.length;N++){var B=C(P[R[N]]);B!==M&&(L=Math.max(L,B))}return L===-1/0?M:k(L)};case"range":return function(P,R){for(var L=1/0,N=-1/0,B=0;B<R.length;B++){var J=C(P[R[B]]);J!==M&&(L=Math.min(L,J),N=Math.max(N,J))}return N===-1/0||L===1/0?M:k(N-L)};case"change":return function(P,R){var L=C(P[R[0]]),N=C(P[R[R.length-1]]);return L===M||N===M?M:k(N-L)};case"median":return function(P,R){for(var L=[],N=0;N<R.length;N++){var B=C(P[R[N]]);B!==M&&L.push(B)}if(!L.length)return M;L.sort(E.sorterAsc);var J=(L.length-1)/2;return k((L[Math.floor(J)]+L[Math.ceil(J)])/2)};case"mode":return function(P,R){for(var L={},N=0,B=M,J=0;J<R.length;J++){var z=C(P[R[J]]);if(z!==M){var Y=L[z]=(L[z]||0)+1;Y>N&&(N=Y,B=z)}}return N?k(B):M};case"rms":return function(P,R){for(var L=0,N=0,B=0;B<R.length;B++){var J=C(P[R[B]]);J!==M&&(L+=J*J,N++)}return N?k(Math.sqrt(L/N)):M};case"stddev":return function(P,R){var L,N=0,B=0,J=1,z=M;for(L=0;L<R.length&&z===M;L++)z=C(P[R[L]]);if(z===M)return M;for(;L<R.length;L++){var Y=C(P[R[L]]);if(Y!==M){var q=Y-z;N+=q,B+=q*q,J++}}var U="sample"===b.funcmode?J-1:J;return U?Math.sqrt((B-N*N/J)/U):0}}}(v,I.getDataConversions(l,c,p,_)),w=new Array(h.length),x=0;x<h.length;x++)w[x]=g(_,h[x]);T.set(w),"count"===v.func&&E.pushUnique(c._arrayAttrs,p)}}function s(l,c){return c.length}function a(l,c){return l[c[0]]}function o(l,c){return l[c[c.length-1]]}j.supplyDefaults=function(l,c){var h,v={};function p(k,P){return E.coerce(l,v,y,k,P)}if(!p("enabled"))return v;var T=f.findArrayAttributes(c),_={};for(h=0;h<T.length;h++)_[T[h]]=1;var g=p("groups");if(!Array.isArray(g)){if(!_[g])return v.enabled=!1,v;_[g]=0}var w,x=l.aggregations||[],b=v.aggregations=new Array(x.length);function A(k,P){return E.coerce(x[h],w,u,k,P)}for(h=0;h<x.length;h++){w={_index:h};var m=A("target"),C=A("func");A("enabled")&&m&&(_[m]||"count"===C&&void 0===_[m])?("stddev"===C&&A("funcmode"),_[m]=0,b[h]=w):b[h]={enabled:!1,_index:h}}for(h=0;h<T.length;h++)_[T[h]]&&b.push({target:T[h],func:u.func.dflt,enabled:!0,_index:-1});return v},j.calcTransform=function(l,c,h){if(h.enabled){var v=h.groups,p=E.getTargetArray(c,{target:v});if(p){var T,_,g,x={},b={},A=[],m=S(c.transforms,h),C=p.length;for(c._length&&(C=Math.min(C,c._length)),T=0;T<C;T++)void 0===(g=x[_=p[T]])?(x[_]=A.length,A.push([T]),b[x[_]]=m(T)):(A[g].push(T),b[x[_]]=(b[x[_]]||[]).concat(m(T)));h._indexToPoints=b;var k=h.aggregations;for(T=0;T<k.length;T++)i(l,c,A,k[T]);"string"==typeof v&&i(l,c,A,{target:v,func:"first",enabled:!0}),c._length=A.length}}}},14382:function(oe,j,r){"use strict";var I=r(71828),E=r(73972),f=r(89298),S=r(79344).p,M=r(74808),y=M.COMPARISON_OPS,u=M.INTERVAL_OPS,i=M.SET_OPS;j.moduleType="transform",j.name="filter",j.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},operation:{valType:"enumerated",values:[].concat(y).concat(u).concat(i),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},preservegaps:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc"},j.supplyDefaults=function(s){var a={};function o(h,v){return I.coerce(s,a,j.attributes,h,v)}if(o("enabled")){var l=o("target");if(I.isArrayOrTypedArray(l)&&0===l.length)return a.enabled=!1,a;o("preservegaps"),o("operation"),o("value");var c=E.getComponentMethod("calendars","handleDefaults");c(s,a,"valuecalendar",null),c(s,a,"targetcalendar",null)}return a},j.calcTransform=function(s,a,o){if(o.enabled){var l=I.getTargetArray(a,o);if(l){var c=o.target,h=l.length;a._length&&(h=Math.min(h,a._length));var v=o.targetcalendar,p=a._arrayAttrs,T=o.preservegaps;if("string"==typeof c){var _=I.nestedProperty(a,c+"calendar").get();_&&(v=_)}var g,w,x=function(R,L,N){var B=R.operation,J=R.value,z=Array.isArray(J);function Y(X){return-1!==X.indexOf(B)}var q,U=function(X){return L(X,0,R.valuecalendar)},Z=function(X){return L(X,0,N)};switch(Y(y)?q=U(z?J[0]:J):Y(u)?q=z?[U(J[0]),U(J[1])]:[U(J),U(J)]:Y(i)&&(q=z?J.map(U):[U(J)]),B){case"=":return function(X){return Z(X)===q};case"!=":return function(X){return Z(X)!==q};case"<":return function(X){return Z(X)<q};case"<=":return function(X){return Z(X)<=q};case">":return function(X){return Z(X)>q};case">=":return function(X){return Z(X)>=q};case"[]":return function(X){var se=Z(X);return se>=q[0]&&se<=q[1]};case"()":return function(X){var se=Z(X);return se>q[0]&&se<q[1]};case"[)":return function(X){var se=Z(X);return se>=q[0]&&se<q[1]};case"(]":return function(X){var se=Z(X);return se>q[0]&&se<=q[1]};case"][":return function(X){var se=Z(X);return se<=q[0]||se>=q[1]};case")(":return function(X){var se=Z(X);return se<q[0]||se>q[1]};case"](":return function(X){var se=Z(X);return se<=q[0]||se>q[1]};case")[":return function(X){var se=Z(X);return se<q[0]||se>=q[1]};case"{}":return function(X){return-1!==q.indexOf(Z(X))};case"}{":return function(X){return-1===q.indexOf(Z(X))}}}(o,f.getDataToCoordFunc(s,a,c,l),v),b={},A={},m=0;T?(g=function(R){b[R.astr]=I.extendDeep([],R.get()),R.set(new Array(h))},w=function(R,L){var N=b[R.astr][L];R.get()[L]=N}):(g=function(R){b[R.astr]=I.extendDeep([],R.get()),R.set([])},w=function(R,L){var N=b[R.astr][L];R.get().push(N)}),P(g);for(var C=S(a.transforms,o),k=0;k<h;k++)x(l[k])?(P(w,k),A[m++]=C(k)):T&&m++;o._indexToPoints=A,a._length=m}}function P(R,L){for(var N=0;N<p.length;N++)R(I.nestedProperty(a,p[N]),L)}}},43102:function(oe,j,r){"use strict";var I=r(71828),E=r(86281),f=r(74875),S=r(79344).p;function M(y,u){var i,s,a,o,l,c,h,v,p,T,_=u.transform,g=u.transformIndex,w=y.transforms[g].groups,x=S(y.transforms,_);if(!I.isArrayOrTypedArray(w)||0===w.length)return[y];var b=I.filterUnique(w),A=new Array(b.length),m=w.length,C=E.findArrayAttributes(y),k=_.styles||[],P={};for(i=0;i<k.length;i++)P[k[i].target]=k[i].value;_.styles&&(T=I.keyedContainer(_,"styles","target","value.name"));var R={},L={};for(i=0;i<b.length;i++){R[c=b[i]]=i,L[c]=0,(h=A[i]=I.extendDeepNoArrays({},y))._group=c,h.transforms[g]._indexToPoints={};var N=null;for(T&&(N=T.get(c)),h.name=N||""===N?N:I.templateString(_.nameformat,{trace:y.name,group:c}),v=h.transforms,h.transforms=[],s=0;s<v.length;s++)h.transforms[s]=I.extendDeepNoArrays({},v[s]);for(s=0;s<C.length;s++)I.nestedProperty(h,C[s]).set([])}for(a=0;a<C.length;a++){for(o=C[a],s=0,p=[];s<b.length;s++)p[s]=I.nestedProperty(A[s],o).get();for(l=I.nestedProperty(y,o).get(),s=0;s<m;s++)p[R[w[s]]].push(l[s])}for(s=0;s<m;s++)(h=A[R[w[s]]]).transforms[g]._indexToPoints[L[w[s]]]=x(s),L[w[s]]++;for(i=0;i<b.length;i++)c=b[i],f.clearExpandedTraceDefaultColors(h=A[i]),h=I.extendDeepNoArrays(h,P[c]||{});return A}j.moduleType="transform",j.name="groupby",j.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"data_array",dflt:[],editType:"calc"},nameformat:{valType:"string",editType:"calc"},styles:{_isLinkedToArray:"style",target:{valType:"string",editType:"calc"},value:{valType:"any",dflt:{},editType:"calc",_compareAsJSON:!0},editType:"calc"},editType:"calc"},j.supplyDefaults=function(y,u,i){var s,a={};function o(p,T){return I.coerce(y,a,j.attributes,p,T)}if(!o("enabled"))return a;o("groups"),o("nameformat",i._dataLength>1?"%{group} (%{trace})":"%{group}");var l=y.styles,c=a.styles=[];if(l)for(s=0;s<l.length;s++){var h=c[s]={};I.coerce(l[s],c[s],j.attributes.styles,"target");var v=I.coerce(l[s],c[s],j.attributes.styles,"value");I.isPlainObject(v)?h.value=I.extendDeep({},v):v&&delete h.value}return a},j.transform=function(y,u){var i,s,a,o=[];for(s=0;s<y.length;s++)for(i=M(y[s],u),a=0;a<i.length;a++)o.push(i[a]);return o}},79344:function(oe,j){"use strict";j.p=function(r,I){for(var E,f,S=0;S<r.length&&(E=r[S])!==I;S++)E._indexToPoints&&!1!==E.enabled&&(f=E._indexToPoints);return f?function(y){return f[y]}:function(y){return[y]}}},32275:function(oe,j,r){"use strict";var I=r(71828),E=r(89298),f=r(79344).p,S=r(50606).BADNUM;j.moduleType="transform",j.name="sort",j.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},order:{valType:"enumerated",values:["ascending","descending"],dflt:"ascending",editType:"calc"},editType:"calc"},j.supplyDefaults=function(M){var y={};function u(i,s){return I.coerce(M,y,j.attributes,i,s)}return u("enabled")&&(u("target"),u("order")),y},j.calcTransform=function(M,y,u){if(u.enabled){var i=I.getTargetArray(y,u);if(i){var s=u.target,a=i.length;y._length&&(a=Math.min(a,y._length));var o,l,c=y._arrayAttrs,h=function(w,x,b,A){var m,C=new Array(A),k=new Array(A);for(m=0;m<A;m++)C[m]={v:x[m],i:m};for(C.sort(function(P,R){switch(P.order){case"ascending":return function(L,N){var B=R(L.v),J=R(N.v);return B===S?1:J===S?-1:B-J};case"descending":return function(L,N){var B=R(L.v),J=R(N.v);return B===S?1:J===S?-1:J-B}}}(w,b)),m=0;m<A;m++)k[m]=C[m].i;return k}(u,i,E.getDataToCoordFunc(M,y,s,i),a),v=f(y.transforms,u),p={};for(o=0;o<c.length;o++){var T=I.nestedProperty(y,c[o]),_=T.get(),g=new Array(a);for(l=0;l<a;l++)g[l]=_[h[l]];T.set(g)}for(l=0;l<a;l++)p[l]=v(h[l]);u._indexToPoints=p,y._length=a}}}},11506:function(oe,j){"use strict";j.version="2.25.1"},9330:function(oe,j,r){var I,E=r(90386);I=function(){return function(){var f={7386:function(y,u,i){y.exports={alpha_shape:i(2350),convex_hull:i(5537),delaunay_triangulate:i(4419),gl_cone3d:i(1140),gl_error3d:i(3110),gl_heatmap2d:i(6386),gl_line3d:i(6086),gl_mesh3d:i(8116),gl_plot2d:i(2117),gl_plot3d:i(1059),gl_pointcloud2d:i(8271),gl_scatter3d:i(2182),gl_select_box:i(6623),gl_spikes2d:i(3050),gl_streamtube3d:i(7307),gl_surface3d:i(3754),ndarray:i(5050),ndarray_linear_interpolate:i(3581)}},2146:function(y,u,i){"use strict";function a(_e,Pe){return(a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Ie,Be){return Ie.__proto__=Be,Ie})(_e,Pe)}function o(_e){if(void 0===_e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _e}function l(_e){return(l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Pe){return Pe.__proto__||Object.getPrototypeOf(Pe)})(_e)}function c(_e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Pe){return typeof Pe}:function(Pe){return Pe&&"function"==typeof Symbol&&Pe.constructor===Symbol&&Pe!==Symbol.prototype?"symbol":typeof Pe})(_e)}var h=i(3910),v=i(3187),p="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;u.lW=g,u.h2=50;var T=2147483647;function _(_e){if(_e>T)throw new RangeError('The value "'+_e+'" is invalid for option "size"');var Pe=new Uint8Array(_e);return Object.setPrototypeOf(Pe,g.prototype),Pe}function g(_e,Pe,Ie){if("number"==typeof _e){if("string"==typeof Pe)throw new TypeError('The "string" argument must be of type string. Received type number');return b(_e)}return w(_e,Pe,Ie)}function w(_e,Pe,Ie){if("string"==typeof _e)return function(Ge,Ke){if("string"==typeof Ke&&""!==Ke||(Ke="utf8"),!g.isEncoding(Ke))throw new TypeError("Unknown encoding: "+Ke);var tt=0|k(Ge,Ke),st=_(tt),gt=st.write(Ge,Ke);return gt!==tt&&(st=st.slice(0,gt)),st}(_e,Pe);if(ArrayBuffer.isView(_e))return function(Ge){if(Ae(Ge,Uint8Array)){var Ke=new Uint8Array(Ge);return m(Ke.buffer,Ke.byteOffset,Ke.byteLength)}return A(Ge)}(_e);if(null==_e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+c(_e));if(Ae(_e,ArrayBuffer)||_e&&Ae(_e.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ae(_e,SharedArrayBuffer)||_e&&Ae(_e.buffer,SharedArrayBuffer)))return m(_e,Pe,Ie);if("number"==typeof _e)throw new TypeError('The "value" argument must not be of type number. Received type number');var Be=_e.valueOf&&_e.valueOf();if(null!=Be&&Be!==_e)return g.from(Be,Pe,Ie);var We=function(Ge){if(g.isBuffer(Ge)){var Ke=0|C(Ge.length),tt=_(Ke);return 0===tt.length||Ge.copy(tt,0,0,Ke),tt}return void 0!==Ge.length?"number"!=typeof Ge.length||Ne(Ge.length)?_(0):A(Ge):"Buffer"===Ge.type&&Array.isArray(Ge.data)?A(Ge.data):void 0}(_e);if(We)return We;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof _e[Symbol.toPrimitive])return g.from(_e[Symbol.toPrimitive]("string"),Pe,Ie);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+c(_e))}function x(_e){if("number"!=typeof _e)throw new TypeError('"size" argument must be of type number');if(_e<0)throw new RangeError('The value "'+_e+'" is invalid for option "size"')}function b(_e){return x(_e),_(_e<0?0:0|C(_e))}function A(_e){for(var Pe=_e.length<0?0:0|C(_e.length),Ie=_(Pe),Be=0;Be<Pe;Be+=1)Ie[Be]=255&_e[Be];return Ie}function m(_e,Pe,Ie){if(Pe<0||_e.byteLength<Pe)throw new RangeError('"offset" is outside of buffer bounds');if(_e.byteLength<Pe+(Ie||0))throw new RangeError('"length" is outside of buffer bounds');var Be;return Be=void 0===Pe&&void 0===Ie?new Uint8Array(_e):void 0===Ie?new Uint8Array(_e,Pe):new Uint8Array(_e,Pe,Ie),Object.setPrototypeOf(Be,g.prototype),Be}function C(_e){if(_e>=T)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+T.toString(16)+" bytes");return 0|_e}function k(_e,Pe){if(g.isBuffer(_e))return _e.length;if(ArrayBuffer.isView(_e)||Ae(_e,ArrayBuffer))return _e.byteLength;if("string"!=typeof _e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+c(_e));var Ie=_e.length,Be=arguments.length>2&&!0===arguments[2];if(!Be&&0===Ie)return 0;for(var We=!1;;)switch(Pe){case"ascii":case"latin1":case"binary":return Ie;case"utf8":case"utf-8":return me(_e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*Ie;case"hex":return Ie>>>1;case"base64":return de(_e).length;default:if(We)return Be?-1:me(_e).length;Pe=(""+Pe).toLowerCase(),We=!0}}function P(_e,Pe,Ie){var Be=!1;if((void 0===Pe||Pe<0)&&(Pe=0),Pe>this.length||((void 0===Ie||Ie>this.length)&&(Ie=this.length),Ie<=0)||(Ie>>>=0)<=(Pe>>>=0))return"";for(_e||(_e="utf8");;)switch(_e){case"hex":return ee(this,Pe,Ie);case"utf8":case"utf-8":return Z(this,Pe,Ie);case"ascii":return se(this,Pe,Ie);case"latin1":case"binary":return re(this,Pe,Ie);case"base64":return U(this,Pe,Ie);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return K(this,Pe,Ie);default:if(Be)throw new TypeError("Unknown encoding: "+_e);_e=(_e+"").toLowerCase(),Be=!0}}function R(_e,Pe,Ie){var Be=_e[Pe];_e[Pe]=_e[Ie],_e[Ie]=Be}function L(_e,Pe,Ie,Be,We){if(0===_e.length)return-1;if("string"==typeof Ie?(Be=Ie,Ie=0):Ie>2147483647?Ie=2147483647:Ie<-2147483648&&(Ie=-2147483648),Ne(Ie=+Ie)&&(Ie=We?0:_e.length-1),Ie<0&&(Ie=_e.length+Ie),Ie>=_e.length){if(We)return-1;Ie=_e.length-1}else if(Ie<0){if(!We)return-1;Ie=0}if("string"==typeof Pe&&(Pe=g.from(Pe,Be)),g.isBuffer(Pe))return 0===Pe.length?-1:N(_e,Pe,Ie,Be,We);if("number"==typeof Pe)return Pe&=255,"function"==typeof Uint8Array.prototype.indexOf?We?Uint8Array.prototype.indexOf.call(_e,Pe,Ie):Uint8Array.prototype.lastIndexOf.call(_e,Pe,Ie):N(_e,[Pe],Ie,Be,We);throw new TypeError("val must be string, number or Buffer")}function N(_e,Pe,Ie,Be,We){var Ge,Ke=1,tt=_e.length,st=Pe.length;if(void 0!==Be&&("ucs2"===(Be=String(Be).toLowerCase())||"ucs-2"===Be||"utf16le"===Be||"utf-16le"===Be)){if(_e.length<2||Pe.length<2)return-1;Ke=2,tt/=2,st/=2,Ie/=2}function gt(vt,mt){return 1===Ke?vt[mt]:vt.readUInt16BE(mt*Ke)}if(We){var ct=-1;for(Ge=Ie;Ge<tt;Ge++)if(gt(_e,Ge)===gt(Pe,-1===ct?0:Ge-ct)){if(-1===ct&&(ct=Ge),Ge-ct+1===st)return ct*Ke}else-1!==ct&&(Ge-=Ge-ct),ct=-1}else for(Ie+st>tt&&(Ie=tt-st),Ge=Ie;Ge>=0;Ge--){for(var kt=!0,Dt=0;Dt<st;Dt++)if(gt(_e,Ge+Dt)!==gt(Pe,Dt)){kt=!1;break}if(kt)return Ge}return-1}function B(_e,Pe,Ie,Be){Ie=Number(Ie)||0;var We=_e.length-Ie;Be?(Be=Number(Be))>We&&(Be=We):Be=We;var Ge,Ke=Pe.length;for(Be>Ke/2&&(Be=Ke/2),Ge=0;Ge<Be;++Ge){var tt=parseInt(Pe.substr(2*Ge,2),16);if(Ne(tt))return Ge;_e[Ie+Ge]=tt}return Ge}function J(_e,Pe,Ie,Be){return ce(me(Pe,_e.length-Ie),_e,Ie,Be)}function z(_e,Pe,Ie,Be){return ce(function(We){for(var Ge=[],Ke=0;Ke<We.length;++Ke)Ge.push(255&We.charCodeAt(Ke));return Ge}(Pe),_e,Ie,Be)}function Y(_e,Pe,Ie,Be){return ce(de(Pe),_e,Ie,Be)}function q(_e,Pe,Ie,Be){return ce(function(We,Ge){for(var Ke,tt,gt=[],ct=0;ct<We.length&&!((Ge-=2)<0);++ct)tt=(Ke=We.charCodeAt(ct))>>8,gt.push(Ke%256),gt.push(tt);return gt}(Pe,_e.length-Ie),_e,Ie,Be)}function U(_e,Pe,Ie){return h.fromByteArray(0===Pe&&Ie===_e.length?_e:_e.slice(Pe,Ie))}function Z(_e,Pe,Ie){Ie=Math.min(_e.length,Ie);for(var Be=[],We=Pe;We<Ie;){var Ge=_e[We],Ke=null,tt=Ge>239?4:Ge>223?3:Ge>191?2:1;if(We+tt<=Ie){var st=void 0,gt=void 0,ct=void 0,kt=void 0;switch(tt){case 1:Ge<128&&(Ke=Ge);break;case 2:128==(192&(st=_e[We+1]))&&(kt=(31&Ge)<<6|63&st)>127&&(Ke=kt);break;case 3:gt=_e[We+2],128==(192&(st=_e[We+1]))&&128==(192&gt)&&(kt=(15&Ge)<<12|(63&st)<<6|63&gt)>2047&&(kt<55296||kt>57343)&&(Ke=kt);break;case 4:gt=_e[We+2],ct=_e[We+3],128==(192&(st=_e[We+1]))&&128==(192&gt)&&128==(192&ct)&&(kt=(15&Ge)<<18|(63&st)<<12|(63&gt)<<6|63&ct)>65535&&kt<1114112&&(Ke=kt)}}null===Ke?(Ke=65533,tt=1):Ke>65535&&(Be.push((Ke-=65536)>>>10&1023|55296),Ke=56320|1023&Ke),Be.push(Ke),We+=tt}return function(Dt){var vt=Dt.length;if(vt<=X)return String.fromCharCode.apply(String,Dt);for(var mt="",Et=0;Et<vt;)mt+=String.fromCharCode.apply(String,Dt.slice(Et,Et+=X));return mt}(Be)}(g.TYPED_ARRAY_SUPPORT=function(){try{var _e=new Uint8Array(1),Pe={foo:function(){return 42}};return Object.setPrototypeOf(Pe,Uint8Array.prototype),Object.setPrototypeOf(_e,Pe),42===_e.foo()}catch{return!1}}())||typeof console>"u"||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(g.prototype,"parent",{enumerable:!0,get:function(){if(g.isBuffer(this))return this.buffer}}),Object.defineProperty(g.prototype,"offset",{enumerable:!0,get:function(){if(g.isBuffer(this))return this.byteOffset}}),g.poolSize=8192,g.from=function(_e,Pe,Ie){return w(_e,Pe,Ie)},Object.setPrototypeOf(g.prototype,Uint8Array.prototype),Object.setPrototypeOf(g,Uint8Array),g.alloc=function(_e,Pe,Ie){return We=Pe,Ge=Ie,x(Be=_e),Be<=0?_(Be):void 0!==We?"string"==typeof Ge?_(Be).fill(We,Ge):_(Be).fill(We):_(Be);var Be,We,Ge},g.allocUnsafe=function(_e){return b(_e)},g.allocUnsafeSlow=function(_e){return b(_e)},g.isBuffer=function(_e){return null!=_e&&!0===_e._isBuffer&&_e!==g.prototype},g.compare=function(_e,Pe){if(Ae(_e,Uint8Array)&&(_e=g.from(_e,_e.offset,_e.byteLength)),Ae(Pe,Uint8Array)&&(Pe=g.from(Pe,Pe.offset,Pe.byteLength)),!g.isBuffer(_e)||!g.isBuffer(Pe))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(_e===Pe)return 0;for(var Ie=_e.length,Be=Pe.length,We=0,Ge=Math.min(Ie,Be);We<Ge;++We)if(_e[We]!==Pe[We]){Ie=_e[We],Be=Pe[We];break}return Ie<Be?-1:Be<Ie?1:0},g.isEncoding=function(_e){switch(String(_e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},g.concat=function(_e,Pe){if(!Array.isArray(_e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===_e.length)return g.alloc(0);var Ie;if(void 0===Pe)for(Pe=0,Ie=0;Ie<_e.length;++Ie)Pe+=_e[Ie].length;var Be=g.allocUnsafe(Pe),We=0;for(Ie=0;Ie<_e.length;++Ie){var Ge=_e[Ie];if(Ae(Ge,Uint8Array))We+Ge.length>Be.length?(g.isBuffer(Ge)||(Ge=g.from(Ge)),Ge.copy(Be,We)):Uint8Array.prototype.set.call(Be,Ge,We);else{if(!g.isBuffer(Ge))throw new TypeError('"list" argument must be an Array of Buffers');Ge.copy(Be,We)}We+=Ge.length}return Be},g.byteLength=k,g.prototype._isBuffer=!0,g.prototype.swap16=function(){var _e=this.length;if(_e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var Pe=0;Pe<_e;Pe+=2)R(this,Pe,Pe+1);return this},g.prototype.swap32=function(){var _e=this.length;if(_e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var Pe=0;Pe<_e;Pe+=4)R(this,Pe,Pe+3),R(this,Pe+1,Pe+2);return this},g.prototype.swap64=function(){var _e=this.length;if(_e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var Pe=0;Pe<_e;Pe+=8)R(this,Pe,Pe+7),R(this,Pe+1,Pe+6),R(this,Pe+2,Pe+5),R(this,Pe+3,Pe+4);return this},g.prototype.toString=function(){var _e=this.length;return 0===_e?"":0===arguments.length?Z(this,0,_e):P.apply(this,arguments)},g.prototype.toLocaleString=g.prototype.toString,g.prototype.equals=function(_e){if(!g.isBuffer(_e))throw new TypeError("Argument must be a Buffer");return this===_e||0===g.compare(this,_e)},g.prototype.inspect=function(){var _e="",Pe=u.h2;return _e=this.toString("hex",0,Pe).replace(/(.{2})/g,"$1 ").trim(),this.length>Pe&&(_e+=" ... "),"<Buffer "+_e+">"},p&&(g.prototype[p]=g.prototype.inspect),g.prototype.compare=function(_e,Pe,Ie,Be,We){if(Ae(_e,Uint8Array)&&(_e=g.from(_e,_e.offset,_e.byteLength)),!g.isBuffer(_e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+c(_e));if(void 0===Pe&&(Pe=0),void 0===Ie&&(Ie=_e?_e.length:0),void 0===Be&&(Be=0),void 0===We&&(We=this.length),Pe<0||Ie>_e.length||Be<0||We>this.length)throw new RangeError("out of range index");if(Be>=We&&Pe>=Ie)return 0;if(Be>=We)return-1;if(Pe>=Ie)return 1;if(this===_e)return 0;for(var Ge=(We>>>=0)-(Be>>>=0),Ke=(Ie>>>=0)-(Pe>>>=0),tt=Math.min(Ge,Ke),st=this.slice(Be,We),gt=_e.slice(Pe,Ie),ct=0;ct<tt;++ct)if(st[ct]!==gt[ct]){Ge=st[ct],Ke=gt[ct];break}return Ge<Ke?-1:Ke<Ge?1:0},g.prototype.includes=function(_e,Pe,Ie){return-1!==this.indexOf(_e,Pe,Ie)},g.prototype.indexOf=function(_e,Pe,Ie){return L(this,_e,Pe,Ie,!0)},g.prototype.lastIndexOf=function(_e,Pe,Ie){return L(this,_e,Pe,Ie,!1)},g.prototype.write=function(_e,Pe,Ie,Be){if(void 0===Pe)Be="utf8",Ie=this.length,Pe=0;else if(void 0===Ie&&"string"==typeof Pe)Be=Pe,Ie=this.length,Pe=0;else{if(!isFinite(Pe))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");Pe>>>=0,isFinite(Ie)?(Ie>>>=0,void 0===Be&&(Be="utf8")):(Be=Ie,Ie=void 0)}var We=this.length-Pe;if((void 0===Ie||Ie>We)&&(Ie=We),_e.length>0&&(Ie<0||Pe<0)||Pe>this.length)throw new RangeError("Attempt to write outside buffer bounds");Be||(Be="utf8");for(var Ge=!1;;)switch(Be){case"hex":return B(this,_e,Pe,Ie);case"utf8":case"utf-8":return J(this,_e,Pe,Ie);case"ascii":case"latin1":case"binary":return z(this,_e,Pe,Ie);case"base64":return Y(this,_e,Pe,Ie);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return q(this,_e,Pe,Ie);default:if(Ge)throw new TypeError("Unknown encoding: "+Be);Be=(""+Be).toLowerCase(),Ge=!0}},g.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var X=4096;function se(_e,Pe,Ie){var Be="";Ie=Math.min(_e.length,Ie);for(var We=Pe;We<Ie;++We)Be+=String.fromCharCode(127&_e[We]);return Be}function re(_e,Pe,Ie){var Be="";Ie=Math.min(_e.length,Ie);for(var We=Pe;We<Ie;++We)Be+=String.fromCharCode(_e[We]);return Be}function ee(_e,Pe,Ie){var Be=_e.length;(!Pe||Pe<0)&&(Pe=0),(!Ie||Ie<0||Ie>Be)&&(Ie=Be);for(var We="",Ge=Pe;Ge<Ie;++Ge)We+=De[_e[Ge]];return We}function K(_e,Pe,Ie){for(var Be=_e.slice(Pe,Ie),We="",Ge=0;Ge<Be.length-1;Ge+=2)We+=String.fromCharCode(Be[Ge]+256*Be[Ge+1]);return We}function ne(_e,Pe,Ie){if(_e%1!=0||_e<0)throw new RangeError("offset is not uint");if(_e+Pe>Ie)throw new RangeError("Trying to access beyond buffer length")}function ae(_e,Pe,Ie,Be,We,Ge){if(!g.isBuffer(_e))throw new TypeError('"buffer" argument must be a Buffer instance');if(Pe>We||Pe<Ge)throw new RangeError('"value" argument is out of bounds');if(Ie+Be>_e.length)throw new RangeError("Index out of range")}function ue(_e,Pe,Ie,Be,We){we(Pe,Be,We,_e,Ie,7);var Ge=Number(Pe&BigInt(4294967295));_e[Ie++]=Ge,_e[Ie++]=Ge>>=8,_e[Ie++]=Ge>>=8,_e[Ie++]=Ge>>=8;var Ke=Number(Pe>>BigInt(32)&BigInt(4294967295));return _e[Ie++]=Ke,_e[Ie++]=Ke>>=8,_e[Ie++]=Ke>>=8,_e[Ie++]=Ke>>=8,Ie}function he(_e,Pe,Ie,Be,We){we(Pe,Be,We,_e,Ie,7);var Ge=Number(Pe&BigInt(4294967295));_e[Ie+7]=Ge,_e[Ie+6]=Ge>>=8,_e[Ie+5]=Ge>>=8,_e[Ie+4]=Ge>>=8;var Ke=Number(Pe>>BigInt(32)&BigInt(4294967295));return _e[Ie+3]=Ke,_e[Ie+2]=Ke>>=8,_e[Ie+1]=Ke>>=8,_e[Ie]=Ke>>=8,Ie+8}function pe(_e,Pe,Ie,Be,We,Ge){if(Ie+Be>_e.length)throw new RangeError("Index out of range");if(Ie<0)throw new RangeError("Index out of range")}function ge(_e,Pe,Ie,Be,We){return Pe=+Pe,Ie>>>=0,We||pe(_e,0,Ie,4),v.write(_e,Pe,Ie,Be,23,4),Ie+4}function xe(_e,Pe,Ie,Be,We){return Pe=+Pe,Ie>>>=0,We||pe(_e,0,Ie,8),v.write(_e,Pe,Ie,Be,52,8),Ie+8}g.prototype.slice=function(_e,Pe){var Ie=this.length;(_e=~~_e)<0?(_e+=Ie)<0&&(_e=0):_e>Ie&&(_e=Ie),(Pe=void 0===Pe?Ie:~~Pe)<0?(Pe+=Ie)<0&&(Pe=0):Pe>Ie&&(Pe=Ie),Pe<_e&&(Pe=_e);var Be=this.subarray(_e,Pe);return Object.setPrototypeOf(Be,g.prototype),Be},g.prototype.readUintLE=g.prototype.readUIntLE=function(_e,Pe,Ie){_e>>>=0,Pe>>>=0,Ie||ne(_e,Pe,this.length);for(var Be=this[_e],We=1,Ge=0;++Ge<Pe&&(We*=256);)Be+=this[_e+Ge]*We;return Be},g.prototype.readUintBE=g.prototype.readUIntBE=function(_e,Pe,Ie){_e>>>=0,Pe>>>=0,Ie||ne(_e,Pe,this.length);for(var Be=this[_e+--Pe],We=1;Pe>0&&(We*=256);)Be+=this[_e+--Pe]*We;return Be},g.prototype.readUint8=g.prototype.readUInt8=function(_e,Pe){return _e>>>=0,Pe||ne(_e,1,this.length),this[_e]},g.prototype.readUint16LE=g.prototype.readUInt16LE=function(_e,Pe){return _e>>>=0,Pe||ne(_e,2,this.length),this[_e]|this[_e+1]<<8},g.prototype.readUint16BE=g.prototype.readUInt16BE=function(_e,Pe){return _e>>>=0,Pe||ne(_e,2,this.length),this[_e]<<8|this[_e+1]},g.prototype.readUint32LE=g.prototype.readUInt32LE=function(_e,Pe){return _e>>>=0,Pe||ne(_e,4,this.length),(this[_e]|this[_e+1]<<8|this[_e+2]<<16)+16777216*this[_e+3]},g.prototype.readUint32BE=g.prototype.readUInt32BE=function(_e,Pe){return _e>>>=0,Pe||ne(_e,4,this.length),16777216*this[_e]+(this[_e+1]<<16|this[_e+2]<<8|this[_e+3])},g.prototype.readBigUInt64LE=Ue(function(_e){ze(_e>>>=0,"offset");var Pe=this[_e],Ie=this[_e+7];void 0!==Pe&&void 0!==Ie||ke(_e,this.length-8);var Be=Pe+this[++_e]*Math.pow(2,8)+this[++_e]*Math.pow(2,16)+this[++_e]*Math.pow(2,24),We=this[++_e]+this[++_e]*Math.pow(2,8)+this[++_e]*Math.pow(2,16)+Ie*Math.pow(2,24);return BigInt(Be)+(BigInt(We)<<BigInt(32))}),g.prototype.readBigUInt64BE=Ue(function(_e){ze(_e>>>=0,"offset");var Pe=this[_e],Ie=this[_e+7];void 0!==Pe&&void 0!==Ie||ke(_e,this.length-8);var Be=Pe*Math.pow(2,24)+this[++_e]*Math.pow(2,16)+this[++_e]*Math.pow(2,8)+this[++_e],We=this[++_e]*Math.pow(2,24)+this[++_e]*Math.pow(2,16)+this[++_e]*Math.pow(2,8)+Ie;return(BigInt(Be)<<BigInt(32))+BigInt(We)}),g.prototype.readIntLE=function(_e,Pe,Ie){_e>>>=0,Pe>>>=0,Ie||ne(_e,Pe,this.length);for(var Be=this[_e],We=1,Ge=0;++Ge<Pe&&(We*=256);)Be+=this[_e+Ge]*We;return Be>=(We*=128)&&(Be-=Math.pow(2,8*Pe)),Be},g.prototype.readIntBE=function(_e,Pe,Ie){_e>>>=0,Pe>>>=0,Ie||ne(_e,Pe,this.length);for(var Be=Pe,We=1,Ge=this[_e+--Be];Be>0&&(We*=256);)Ge+=this[_e+--Be]*We;return Ge>=(We*=128)&&(Ge-=Math.pow(2,8*Pe)),Ge},g.prototype.readInt8=function(_e,Pe){return _e>>>=0,Pe||ne(_e,1,this.length),128&this[_e]?-1*(255-this[_e]+1):this[_e]},g.prototype.readInt16LE=function(_e,Pe){_e>>>=0,Pe||ne(_e,2,this.length);var Ie=this[_e]|this[_e+1]<<8;return 32768&Ie?4294901760|Ie:Ie},g.prototype.readInt16BE=function(_e,Pe){_e>>>=0,Pe||ne(_e,2,this.length);var Ie=this[_e+1]|this[_e]<<8;return 32768&Ie?4294901760|Ie:Ie},g.prototype.readInt32LE=function(_e,Pe){return _e>>>=0,Pe||ne(_e,4,this.length),this[_e]|this[_e+1]<<8|this[_e+2]<<16|this[_e+3]<<24},g.prototype.readInt32BE=function(_e,Pe){return _e>>>=0,Pe||ne(_e,4,this.length),this[_e]<<24|this[_e+1]<<16|this[_e+2]<<8|this[_e+3]},g.prototype.readBigInt64LE=Ue(function(_e){ze(_e>>>=0,"offset");var Pe=this[_e],Ie=this[_e+7];void 0!==Pe&&void 0!==Ie||ke(_e,this.length-8);var Be=this[_e+4]+this[_e+5]*Math.pow(2,8)+this[_e+6]*Math.pow(2,16)+(Ie<<24);return(BigInt(Be)<<BigInt(32))+BigInt(Pe+this[++_e]*Math.pow(2,8)+this[++_e]*Math.pow(2,16)+this[++_e]*Math.pow(2,24))}),g.prototype.readBigInt64BE=Ue(function(_e){ze(_e>>>=0,"offset");var Pe=this[_e],Ie=this[_e+7];void 0!==Pe&&void 0!==Ie||ke(_e,this.length-8);var Be=(Pe<<24)+this[++_e]*Math.pow(2,16)+this[++_e]*Math.pow(2,8)+this[++_e];return(BigInt(Be)<<BigInt(32))+BigInt(this[++_e]*Math.pow(2,24)+this[++_e]*Math.pow(2,16)+this[++_e]*Math.pow(2,8)+Ie)}),g.prototype.readFloatLE=function(_e,Pe){return _e>>>=0,Pe||ne(_e,4,this.length),v.read(this,_e,!0,23,4)},g.prototype.readFloatBE=function(_e,Pe){return _e>>>=0,Pe||ne(_e,4,this.length),v.read(this,_e,!1,23,4)},g.prototype.readDoubleLE=function(_e,Pe){return _e>>>=0,Pe||ne(_e,8,this.length),v.read(this,_e,!0,52,8)},g.prototype.readDoubleBE=function(_e,Pe){return _e>>>=0,Pe||ne(_e,8,this.length),v.read(this,_e,!1,52,8)},g.prototype.writeUintLE=g.prototype.writeUIntLE=function(_e,Pe,Ie,Be){_e=+_e,Pe>>>=0,Ie>>>=0,Be||ae(this,_e,Pe,Ie,Math.pow(2,8*Ie)-1,0);var We=1,Ge=0;for(this[Pe]=255&_e;++Ge<Ie&&(We*=256);)this[Pe+Ge]=_e/We&255;return Pe+Ie},g.prototype.writeUintBE=g.prototype.writeUIntBE=function(_e,Pe,Ie,Be){_e=+_e,Pe>>>=0,Ie>>>=0,Be||ae(this,_e,Pe,Ie,Math.pow(2,8*Ie)-1,0);var We=Ie-1,Ge=1;for(this[Pe+We]=255&_e;--We>=0&&(Ge*=256);)this[Pe+We]=_e/Ge&255;return Pe+Ie},g.prototype.writeUint8=g.prototype.writeUInt8=function(_e,Pe,Ie){return _e=+_e,Pe>>>=0,Ie||ae(this,_e,Pe,1,255,0),this[Pe]=255&_e,Pe+1},g.prototype.writeUint16LE=g.prototype.writeUInt16LE=function(_e,Pe,Ie){return _e=+_e,Pe>>>=0,Ie||ae(this,_e,Pe,2,65535,0),this[Pe]=255&_e,this[Pe+1]=_e>>>8,Pe+2},g.prototype.writeUint16BE=g.prototype.writeUInt16BE=function(_e,Pe,Ie){return _e=+_e,Pe>>>=0,Ie||ae(this,_e,Pe,2,65535,0),this[Pe]=_e>>>8,this[Pe+1]=255&_e,Pe+2},g.prototype.writeUint32LE=g.prototype.writeUInt32LE=function(_e,Pe,Ie){return _e=+_e,Pe>>>=0,Ie||ae(this,_e,Pe,4,4294967295,0),this[Pe+3]=_e>>>24,this[Pe+2]=_e>>>16,this[Pe+1]=_e>>>8,this[Pe]=255&_e,Pe+4},g.prototype.writeUint32BE=g.prototype.writeUInt32BE=function(_e,Pe,Ie){return _e=+_e,Pe>>>=0,Ie||ae(this,_e,Pe,4,4294967295,0),this[Pe]=_e>>>24,this[Pe+1]=_e>>>16,this[Pe+2]=_e>>>8,this[Pe+3]=255&_e,Pe+4},g.prototype.writeBigUInt64LE=Ue(function(_e){return ue(this,_e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))}),g.prototype.writeBigUInt64BE=Ue(function(_e){return he(this,_e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))}),g.prototype.writeIntLE=function(_e,Pe,Ie,Be){if(_e=+_e,Pe>>>=0,!Be){var We=Math.pow(2,8*Ie-1);ae(this,_e,Pe,Ie,We-1,-We)}var Ge=0,Ke=1,tt=0;for(this[Pe]=255&_e;++Ge<Ie&&(Ke*=256);)_e<0&&0===tt&&0!==this[Pe+Ge-1]&&(tt=1),this[Pe+Ge]=(_e/Ke>>0)-tt&255;return Pe+Ie},g.prototype.writeIntBE=function(_e,Pe,Ie,Be){if(_e=+_e,Pe>>>=0,!Be){var We=Math.pow(2,8*Ie-1);ae(this,_e,Pe,Ie,We-1,-We)}var Ge=Ie-1,Ke=1,tt=0;for(this[Pe+Ge]=255&_e;--Ge>=0&&(Ke*=256);)_e<0&&0===tt&&0!==this[Pe+Ge+1]&&(tt=1),this[Pe+Ge]=(_e/Ke>>0)-tt&255;return Pe+Ie},g.prototype.writeInt8=function(_e,Pe,Ie){return _e=+_e,Pe>>>=0,Ie||ae(this,_e,Pe,1,127,-128),_e<0&&(_e=255+_e+1),this[Pe]=255&_e,Pe+1},g.prototype.writeInt16LE=function(_e,Pe,Ie){return _e=+_e,Pe>>>=0,Ie||ae(this,_e,Pe,2,32767,-32768),this[Pe]=255&_e,this[Pe+1]=_e>>>8,Pe+2},g.prototype.writeInt16BE=function(_e,Pe,Ie){return _e=+_e,Pe>>>=0,Ie||ae(this,_e,Pe,2,32767,-32768),this[Pe]=_e>>>8,this[Pe+1]=255&_e,Pe+2},g.prototype.writeInt32LE=function(_e,Pe,Ie){return _e=+_e,Pe>>>=0,Ie||ae(this,_e,Pe,4,2147483647,-2147483648),this[Pe]=255&_e,this[Pe+1]=_e>>>8,this[Pe+2]=_e>>>16,this[Pe+3]=_e>>>24,Pe+4},g.prototype.writeInt32BE=function(_e,Pe,Ie){return _e=+_e,Pe>>>=0,Ie||ae(this,_e,Pe,4,2147483647,-2147483648),_e<0&&(_e=4294967295+_e+1),this[Pe]=_e>>>24,this[Pe+1]=_e>>>16,this[Pe+2]=_e>>>8,this[Pe+3]=255&_e,Pe+4},g.prototype.writeBigInt64LE=Ue(function(_e){return ue(this,_e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),g.prototype.writeBigInt64BE=Ue(function(_e){return he(this,_e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),g.prototype.writeFloatLE=function(_e,Pe,Ie){return ge(this,_e,Pe,!0,Ie)},g.prototype.writeFloatBE=function(_e,Pe,Ie){return ge(this,_e,Pe,!1,Ie)},g.prototype.writeDoubleLE=function(_e,Pe,Ie){return xe(this,_e,Pe,!0,Ie)},g.prototype.writeDoubleBE=function(_e,Pe,Ie){return xe(this,_e,Pe,!1,Ie)},g.prototype.copy=function(_e,Pe,Ie,Be){if(!g.isBuffer(_e))throw new TypeError("argument should be a Buffer");if(Ie||(Ie=0),Be||0===Be||(Be=this.length),Pe>=_e.length&&(Pe=_e.length),Pe||(Pe=0),Be>0&&Be<Ie&&(Be=Ie),Be===Ie||0===_e.length||0===this.length)return 0;if(Pe<0)throw new RangeError("targetStart out of bounds");if(Ie<0||Ie>=this.length)throw new RangeError("Index out of range");if(Be<0)throw new RangeError("sourceEnd out of bounds");Be>this.length&&(Be=this.length),_e.length-Pe<Be-Ie&&(Be=_e.length-Pe+Ie);var We=Be-Ie;return this===_e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(Pe,Ie,Be):Uint8Array.prototype.set.call(_e,this.subarray(Ie,Be),Pe),We},g.prototype.fill=function(_e,Pe,Ie,Be){if("string"==typeof _e){if("string"==typeof Pe?(Be=Pe,Pe=0,Ie=this.length):"string"==typeof Ie&&(Be=Ie,Ie=this.length),void 0!==Be&&"string"!=typeof Be)throw new TypeError("encoding must be a string");if("string"==typeof Be&&!g.isEncoding(Be))throw new TypeError("Unknown encoding: "+Be);if(1===_e.length){var We=_e.charCodeAt(0);("utf8"===Be&&We<128||"latin1"===Be)&&(_e=We)}}else"number"==typeof _e?_e&=255:"boolean"==typeof _e&&(_e=Number(_e));if(Pe<0||this.length<Pe||this.length<Ie)throw new RangeError("Out of range index");if(Ie<=Pe)return this;var Ge;if(Pe>>>=0,Ie=void 0===Ie?this.length:Ie>>>0,_e||(_e=0),"number"==typeof _e)for(Ge=Pe;Ge<Ie;++Ge)this[Ge]=_e;else{var Ke=g.isBuffer(_e)?_e:g.from(_e,Be),tt=Ke.length;if(0===tt)throw new TypeError('The value "'+_e+'" is invalid for argument "value"');for(Ge=0;Ge<Ie-Pe;++Ge)this[Ge+Pe]=Ke[Ge%tt]}return this};var Se={};function Te(_e,Pe,Ie){Se[_e]=function(Be){!function(ct,kt){if("function"!=typeof kt&&null!==kt)throw new TypeError("Super expression must either be null or a function");ct.prototype=Object.create(kt&&kt.prototype,{constructor:{value:ct,writable:!0,configurable:!0}}),Object.defineProperty(ct,"prototype",{writable:!1}),kt&&a(ct,kt)}(gt,Be);var We,Ge,Ke,tt,st=(Ke=gt,tt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var ct,kt=l(Ke);if(tt){var Dt=l(this).constructor;ct=Reflect.construct(kt,arguments,Dt)}else ct=kt.apply(this,arguments);return function(vt,mt){if(mt&&("object"===c(mt)||"function"==typeof mt))return mt;if(void 0!==mt)throw new TypeError("Derived constructors may only return object or undefined");return o(vt)}(this,ct)});function gt(){var ct;return function(kt,Dt){if(!(kt instanceof Dt))throw new TypeError("Cannot call a class as a function")}(this,gt),ct=st.call(this),Object.defineProperty(o(ct),"message",{value:Pe.apply(o(ct),arguments),writable:!0,configurable:!0}),ct.name="".concat(ct.name," [").concat(_e,"]"),delete ct.name,ct}return We=gt,(Ge=[{key:"code",get:function(){return _e},set:function(ct){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ct,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(_e,"]: ").concat(this.message)}}])&&function s(_e,Pe){for(var Ie=0;Ie<Pe.length;Ie++){var Be=Pe[Ie];Be.enumerable=Be.enumerable||!1,Be.configurable=!0,"value"in Be&&(Be.writable=!0),Object.defineProperty(_e,Be.key,Be)}}(We.prototype,Ge),Object.defineProperty(We,"prototype",{writable:!1}),gt}(Ie)}function ye(_e){for(var Pe="",Ie=_e.length,Be="-"===_e[0]?1:0;Ie>=Be+4;Ie-=3)Pe="_".concat(_e.slice(Ie-3,Ie)).concat(Pe);return"".concat(_e.slice(0,Ie)).concat(Pe)}function we(_e,Pe,Ie,Be,We,Ge){if(_e>Ie||_e<Pe){var Ke,tt="bigint"==typeof Pe?"n":"";throw Ke=Ge>3?0===Pe||Pe===BigInt(0)?">= 0".concat(tt," and < 2").concat(tt," ** ").concat(8*(Ge+1)).concat(tt):">= -(2".concat(tt," ** ").concat(8*(Ge+1)-1).concat(tt,") and < 2 ** ")+"".concat(8*(Ge+1)-1).concat(tt):">= ".concat(Pe).concat(tt," and <= ").concat(Ie).concat(tt),new Se.ERR_OUT_OF_RANGE("value",Ke,_e)}var st,gt,ct;st=Be,ct=Ge,ze(gt=We,"offset"),void 0!==st[gt]&&void 0!==st[gt+ct]||ke(gt,st.length-(ct+1))}function ze(_e,Pe){if("number"!=typeof _e)throw new Se.ERR_INVALID_ARG_TYPE(Pe,"number",_e)}function ke(_e,Pe,Ie){throw Math.floor(_e)!==_e?(ze(_e,Ie),new Se.ERR_OUT_OF_RANGE(Ie||"offset","an integer",_e)):Pe<0?new Se.ERR_BUFFER_OUT_OF_BOUNDS:new Se.ERR_OUT_OF_RANGE(Ie||"offset",">= ".concat(Ie?1:0," and <= ").concat(Pe),_e)}Te("ERR_BUFFER_OUT_OF_BOUNDS",function(_e){return _e?"".concat(_e," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),Te("ERR_INVALID_ARG_TYPE",function(_e,Pe){return'The "'.concat(_e,'" argument must be of type number. Received type ').concat(c(Pe))},TypeError),Te("ERR_OUT_OF_RANGE",function(_e,Pe,Ie){var Be='The value of "'.concat(_e,'" is out of range.'),We=Ie;return Number.isInteger(Ie)&&Math.abs(Ie)>Math.pow(2,32)?We=ye(String(Ie)):"bigint"==typeof Ie&&(We=String(Ie),(Ie>Math.pow(BigInt(2),BigInt(32))||Ie<-Math.pow(BigInt(2),BigInt(32)))&&(We=ye(We)),We+="n"),Be+" It must be ".concat(Pe,". Received ").concat(We)},RangeError);var Ee=/[^+/0-9A-Za-z-_]/g;function me(_e,Pe){var Ie;Pe=Pe||1/0;for(var Be=_e.length,We=null,Ge=[],Ke=0;Ke<Be;++Ke){if((Ie=_e.charCodeAt(Ke))>55295&&Ie<57344){if(!We){if(Ie>56319){(Pe-=3)>-1&&Ge.push(239,191,189);continue}if(Ke+1===Be){(Pe-=3)>-1&&Ge.push(239,191,189);continue}We=Ie;continue}if(Ie<56320){(Pe-=3)>-1&&Ge.push(239,191,189),We=Ie;continue}Ie=65536+(We-55296<<10|Ie-56320)}else We&&(Pe-=3)>-1&&Ge.push(239,191,189);if(We=null,Ie<128){if((Pe-=1)<0)break;Ge.push(Ie)}else if(Ie<2048){if((Pe-=2)<0)break;Ge.push(Ie>>6|192,63&Ie|128)}else if(Ie<65536){if((Pe-=3)<0)break;Ge.push(Ie>>12|224,Ie>>6&63|128,63&Ie|128)}else{if(!(Ie<1114112))throw new Error("Invalid code point");if((Pe-=4)<0)break;Ge.push(Ie>>18|240,Ie>>12&63|128,Ie>>6&63|128,63&Ie|128)}}return Ge}function de(_e){return h.toByteArray(function(Pe){if((Pe=(Pe=Pe.split("=")[0]).trim().replace(Ee,"")).length<2)return"";for(;Pe.length%4!=0;)Pe+="=";return Pe}(_e))}function ce(_e,Pe,Ie,Be){var We;for(We=0;We<Be&&!(We+Ie>=Pe.length||We>=_e.length);++We)Pe[We+Ie]=_e[We];return We}function Ae(_e,Pe){return _e instanceof Pe||null!=_e&&null!=_e.constructor&&null!=_e.constructor.name&&_e.constructor.name===Pe.name}function Ne(_e){return _e!=_e}var De=function(){for(var _e="0123456789abcdef",Pe=new Array(256),Ie=0;Ie<16;++Ie)for(var Be=16*Ie,We=0;We<16;++We)Pe[Be+We]=_e[Ie]+_e[We];return Pe}();function Ue(_e){return typeof BigInt>"u"?Ye:_e}function Ye(){throw new Error("BigInt not supported")}},2321:function(y){"use strict";y.exports=a,y.exports.isMobile=a,y.exports.default=a;var u=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,i=/CrOS/,s=/android|ipad|playbook|silk/i;function a(o){o||(o={});var l=o.ua;if(l||typeof navigator>"u"||(l=navigator.userAgent),l&&l.headers&&"string"==typeof l.headers["user-agent"]&&(l=l.headers["user-agent"]),"string"!=typeof l)return!1;var c=u.test(l)&&!i.test(l)||!!o.tablet&&s.test(l);return!c&&o.tablet&&o.featureDetect&&navigator&&navigator.maxTouchPoints>1&&-1!==l.indexOf("Macintosh")&&-1!==l.indexOf("Safari")&&(c=!0),c}},3910:function(y,u){"use strict";u.byteLength=function(v){var p=c(v),_=p[1];return 3*(p[0]+_)/4-_},u.toByteArray=function(v){var p,T,k,_=c(v),g=_[0],w=_[1],x=new a(3*(g+(k=w))/4-k),b=0,A=w>0?g-4:g;for(T=0;T<A;T+=4)p=s[v.charCodeAt(T)]<<18|s[v.charCodeAt(T+1)]<<12|s[v.charCodeAt(T+2)]<<6|s[v.charCodeAt(T+3)],x[b++]=p>>16&255,x[b++]=p>>8&255,x[b++]=255&p;return 2===w&&(p=s[v.charCodeAt(T)]<<2|s[v.charCodeAt(T+1)]>>4,x[b++]=255&p),1===w&&(p=s[v.charCodeAt(T)]<<10|s[v.charCodeAt(T+1)]<<4|s[v.charCodeAt(T+2)]>>2,x[b++]=p>>8&255,x[b++]=255&p),x},u.fromByteArray=function(v){for(var p,T=v.length,_=T%3,g=[],w=16383,x=0,b=T-_;x<b;x+=w)g.push(h(v,x,x+w>b?b:x+w));return 1===_?g.push(i[(p=v[T-1])>>2]+i[p<<4&63]+"=="):2===_&&g.push(i[(p=(v[T-2]<<8)+v[T-1])>>10]+i[p>>4&63]+i[p<<2&63]+"="),g.join("")};for(var i=[],s=[],a=typeof Uint8Array<"u"?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l=0;l<64;++l)i[l]=o[l],s[o.charCodeAt(l)]=l;function c(v){var p=v.length;if(p%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var T=v.indexOf("=");return-1===T&&(T=p),[T,T===p?0:4-T%4]}function h(v,p,T){for(var g,w=[],x=p;x<T;x+=3)w.push(i[(g=(v[x]<<16&16711680)+(v[x+1]<<8&65280)+(255&v[x+2]))>>18&63]+i[g>>12&63]+i[g>>6&63]+i[63&g]);return w.join("")}s["-".charCodeAt(0)]=62,s["_".charCodeAt(0)]=63},3187:function(y,u){u.read=function(i,s,a,o,l){var c,h,v=8*l-o-1,p=(1<<v)-1,T=p>>1,_=-7,g=a?l-1:0,w=a?-1:1,x=i[s+g];for(g+=w,c=x&(1<<-_)-1,x>>=-_,_+=v;_>0;c=256*c+i[s+g],g+=w,_-=8);for(h=c&(1<<-_)-1,c>>=-_,_+=o;_>0;h=256*h+i[s+g],g+=w,_-=8);if(0===c)c=1-T;else{if(c===p)return h?NaN:1/0*(x?-1:1);h+=Math.pow(2,o),c-=T}return(x?-1:1)*h*Math.pow(2,c-o)},u.write=function(i,s,a,o,l,c){var h,v,p,T=8*c-l-1,_=(1<<T)-1,g=_>>1,w=23===l?Math.pow(2,-24)-Math.pow(2,-77):0,x=o?0:c-1,b=o?1:-1,A=s<0||0===s&&1/s<0?1:0;for(s=Math.abs(s),isNaN(s)||s===1/0?(v=isNaN(s)?1:0,h=_):(h=Math.floor(Math.log(s)/Math.LN2),s*(p=Math.pow(2,-h))<1&&(h--,p*=2),(s+=h+g>=1?w/p:w*Math.pow(2,1-g))*p>=2&&(h++,p/=2),h+g>=_?(v=0,h=_):h+g>=1?(v=(s*p-1)*Math.pow(2,l),h+=g):(v=s*Math.pow(2,g-1)*Math.pow(2,l),h=0));l>=8;i[a+x]=255&v,x+=b,v/=256,l-=8);for(h=h<<l|v,T+=l;T>0;i[a+x]=255&h,x+=b,h/=256,T-=8);i[a+x-b]|=128*A}},1152:function(y,u,i){"use strict";y.exports=function(h){var v=(h=h||{}).eye||[0,0,1],p=h.center||[0,0,0],T=h.up||[0,1,0],_=h.distanceLimits||[0,1/0],g=h.mode||"turntable",w=s(),x=a(),b=o();return w.setDistanceLimits(_[0],_[1]),w.lookAt(0,v,p,T),x.setDistanceLimits(_[0],_[1]),x.lookAt(0,v,p,T),b.setDistanceLimits(_[0],_[1]),b.lookAt(0,v,p,T),new l({turntable:w,orbit:x,matrix:b},g)};var s=i(3440),a=i(7774),o=i(9298);function l(h,v){this._controllerNames=Object.keys(h),this._controllerList=this._controllerNames.map(function(p){return h[p]}),this._mode=v,this._active=h[v],this._active||(this._mode="turntable",this._active=h.turntable),this.modes=this._controllerNames,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}var c=l.prototype;c.flush=function(h){for(var v=this._controllerList,p=0;p<v.length;++p)v[p].flush(h)},c.idle=function(h){for(var v=this._controllerList,p=0;p<v.length;++p)v[p].idle(h)},c.lookAt=function(h,v,p,T){for(var _=this._controllerList,g=0;g<_.length;++g)_[g].lookAt(h,v,p,T)},c.rotate=function(h,v,p,T){for(var _=this._controllerList,g=0;g<_.length;++g)_[g].rotate(h,v,p,T)},c.pan=function(h,v,p,T){for(var _=this._controllerList,g=0;g<_.length;++g)_[g].pan(h,v,p,T)},c.translate=function(h,v,p,T){for(var _=this._controllerList,g=0;g<_.length;++g)_[g].translate(h,v,p,T)},c.setMatrix=function(h,v){for(var p=this._controllerList,T=0;T<p.length;++T)p[T].setMatrix(h,v)},c.setDistanceLimits=function(h,v){for(var p=this._controllerList,T=0;T<p.length;++T)p[T].setDistanceLimits(h,v)},c.setDistance=function(h,v){for(var p=this._controllerList,T=0;T<p.length;++T)p[T].setDistance(h,v)},c.recalcMatrix=function(h){this._active.recalcMatrix(h)},c.getDistance=function(h){return this._active.getDistance(h)},c.getDistanceLimits=function(h){return this._active.getDistanceLimits(h)},c.lastT=function(){return this._active.lastT()},c.setMode=function(h){if(h!==this._mode){var v=this._controllerNames.indexOf(h);if(!(v<0)){var p=this._active,T=this._controllerList[v],_=Math.max(p.lastT(),T.lastT());p.recalcMatrix(_),T.setMatrix(_,p.computedMatrix),this._active=T,this._mode=h,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}}},c.getMode=function(){return this._mode}},8126:function(y,u,i){"use strict";var s=typeof WeakMap>"u"?i(5346):WeakMap,a=i(5827),o=i(2944),l=new s;y.exports=function(c){var h=l.get(c),v=h&&(h._triangleBuffer.handle||h._triangleBuffer.buffer);if(!v||!c.isBuffer(v)){var p=a(c,new Float32Array([-1,-1,-1,4,4,-1]));(h=o(c,[{buffer:p,type:c.FLOAT,size:2}]))._triangleBuffer=p,l.set(c,h)}h.bind(),c.drawArrays(c.TRIANGLES,0,3),h.unbind()}},8008:function(y,u,i){var s=i(4930);y.exports=function(a,o,l){o="number"==typeof o?o:1,l=l||": ";var c=a.split(/\r?\n/),h=String(c.length+o-1).length;return c.map(function(v,p){var T=p+o,_=String(T).length;return s(T,h-_)+l+v}).join("\n")}},2153:function(y,u,i){"use strict";y.exports=function(o){var l=o.length;if(0===l)return[];if(1===l)return[0];for(var c=o[0].length,h=[o[0]],v=[0],p=1;p<l;++p)if(h.push(o[p]),a(h,c)){if(v.push(p),v.length===c+1)return v}else h.pop();return v};var s=i(417);function a(o,l){for(var c=new Array(l+1),h=0;h<o.length;++h)c[h]=o[h];for(h=0;h<=o.length;++h){for(var v=o.length;v<=l;++v){for(var p=new Array(l),T=0;T<l;++T)p[T]=Math.pow(v+1-h,T);c[v]=p}if(s.apply(void 0,c))return!0}return!1}},4653:function(y,u,i){"use strict";y.exports=function(o,l){return s(l).filter(function(c){for(var h=new Array(c.length),v=0;v<c.length;++v)h[v]=l[c[v]];return a(h)*o<1})};var s=i(4419),a=i(1778)},2350:function(y,u,i){y.exports=function(o,l){return a(s(o,l))};var s=i(4653),a=i(8691)},7896:function(y){y.exports=function(u){return atob(u)}},957:function(y,u,i){"use strict";y.exports=function(o,l){for(var c=l.length,h=new Array(c+1),v=0;v<c;++v){for(var p=new Array(c+1),T=0;T<=c;++T)p[T]=o[T][v];h[v]=p}for(h[c]=new Array(c+1),v=0;v<=c;++v)h[c][v]=1;var _=new Array(c+1);for(v=0;v<c;++v)_[v]=l[v];_[c]=1;var g=s(h,_),w=a(g[c+1]);0===w&&(w=1);var x=new Array(c+1);for(v=0;v<=c;++v)x[v]=a(g[v])/w;return x};var s=i(6606);function a(o){for(var l=0,c=0;c<o.length;++c)l+=o[c];return l}},1539:function(y,u,i){"use strict";var s=i(8524);y.exports=function(a,o){return s(a[0].mul(o[1]).add(o[0].mul(a[1])),a[1].mul(o[1]))}},8846:function(y){"use strict";y.exports=function(u,i){return u[0].mul(i[1]).cmp(i[0].mul(u[1]))}},9189:function(y,u,i){"use strict";var s=i(8524);y.exports=function(a,o){return s(a[0].mul(o[1]),a[1].mul(o[0]))}},5125:function(y,u,i){"use strict";var s=i(234),a=i(3218),o=i(5514),l=i(2813),c=i(8524),h=i(9189);y.exports=function v(p,T){if(s(p))return T?h(p,v(T)):[p[0].clone(),p[1].clone()];var _,g,w=0;if(a(p))_=p.clone();else if("string"==typeof p)_=l(p);else{if(0===p)return[o(0),o(1)];if(p===Math.floor(p))_=o(p);else{for(;p!==Math.floor(p);)p*=Math.pow(2,256),w-=256;_=o(p)}}if(s(T))_.mul(T[1]),g=T[0].clone();else if(a(T))g=T.clone();else if("string"==typeof T)g=l(T);else if(T)if(T===Math.floor(T))g=o(T);else{for(;T!==Math.floor(T);)T*=Math.pow(2,256),w+=256;g=o(T)}else g=o(1);return w>0?_=_.ushln(w):w<0&&(g=g.ushln(-w)),c(_,g)}},234:function(y,u,i){"use strict";var s=i(3218);y.exports=function(a){return Array.isArray(a)&&2===a.length&&s(a[0])&&s(a[1])}},4275:function(y,u,i){"use strict";var s=i(1928);y.exports=function(a){return a.cmp(new s(0))}},9958:function(y,u,i){"use strict";var s=i(4275);y.exports=function(a){var o=a.length,l=a.words,c=0;if(1===o)c=l[0];else if(2===o)c=l[0]+67108864*l[1];else for(var h=0;h<o;h++)c+=l[h]*Math.pow(67108864,h);return s(a)*c}},1112:function(y,u,i){"use strict";var s=i(8362),a=i(2288).countTrailingZeros;y.exports=function(o){var l=a(s.lo(o));if(l<32)return l;var c=a(s.hi(o));return c>20?52:c+32}},3218:function(y,u,i){"use strict";i(1928),y.exports=function(s){return s&&"object"==typeof s&&!!s.words}},5514:function(y,u,i){"use strict";var s=i(1928),a=i(8362);y.exports=function(o){var l=a.exponent(o);return l<52?new s(o):new s(o*Math.pow(2,52-l)).ushln(l-52)}},8524:function(y,u,i){"use strict";var s=i(5514),a=i(4275);y.exports=function(o,l){var c=a(o),h=a(l);if(0===c)return[s(0),s(1)];if(0===h)return[s(0),s(0)];h<0&&(o=o.neg(),l=l.neg());var v=o.gcd(l);return v.cmpn(1)?[o.div(v),l.div(v)]:[o,l]}},2813:function(y,u,i){"use strict";var s=i(1928);y.exports=function(a){return new s(a)}},3962:function(y,u,i){"use strict";var s=i(8524);y.exports=function(a,o){return s(a[0].mul(o[0]),a[1].mul(o[1]))}},4951:function(y,u,i){"use strict";var s=i(4275);y.exports=function(a){return s(a[0])*s(a[1])}},4354:function(y,u,i){"use strict";var s=i(8524);y.exports=function(a,o){return s(a[0].mul(o[1]).sub(a[1].mul(o[0])),a[1].mul(o[1]))}},7999:function(y,u,i){"use strict";var s=i(9958),a=i(1112);y.exports=function(o){var l=o[0],c=o[1];if(0===l.cmpn(0))return 0;var h=l.abs().divmod(c.abs()),p=s(h.div),T=h.mod,_=l.negative!==c.negative?-1:1;if(0===T.cmpn(0))return _*p;if(p){var g=a(p)+4;return _*(p+(x=s(T.ushln(g).divRound(c)))*Math.pow(2,-g))}var w=c.bitLength()-T.bitLength()+53,x=s(T.ushln(w).divRound(c));return w<1023?_*x*Math.pow(2,-w):_*(x*=Math.pow(2,-1023))*Math.pow(2,1023-w)}},5070:function(y){"use strict";function u(c,h,v,p,T){for(var _=T+1;p<=T;){var g=p+T>>>1,w=c[g];(void 0!==v?v(w,h):w-h)>=0?(_=g,T=g-1):p=g+1}return _}function i(c,h,v,p,T){for(var _=T+1;p<=T;){var g=p+T>>>1,w=c[g];(void 0!==v?v(w,h):w-h)>0?(_=g,T=g-1):p=g+1}return _}function s(c,h,v,p,T){for(var _=p-1;p<=T;){var g=p+T>>>1,w=c[g];(void 0!==v?v(w,h):w-h)<0?(_=g,p=g+1):T=g-1}return _}function a(c,h,v,p,T){for(var _=p-1;p<=T;){var g=p+T>>>1,w=c[g];(void 0!==v?v(w,h):w-h)<=0?(_=g,p=g+1):T=g-1}return _}function o(c,h,v,p,T){for(;p<=T;){var _=p+T>>>1,g=c[_],w=void 0!==v?v(g,h):g-h;if(0===w)return _;w<=0?p=_+1:T=_-1}return-1}function l(c,h,v,p,T,_){return"function"==typeof v?_(c,h,v,void 0===p?0:0|p,void 0===T?c.length-1:0|T):_(c,h,void 0,void 0===v?0:0|v,void 0===p?c.length-1:0|p)}y.exports={ge:function(c,h,v,p,T){return l(c,h,v,p,T,u)},gt:function(c,h,v,p,T){return l(c,h,v,p,T,i)},lt:function(c,h,v,p,T){return l(c,h,v,p,T,s)},le:function(c,h,v,p,T){return l(c,h,v,p,T,a)},eq:function(c,h,v,p,T){return l(c,h,v,p,T,o)}}},2288:function(y,u){"use strict";function i(a){var o=32;return(a&=-a)&&o--,65535&a&&(o-=16),16711935&a&&(o-=8),252645135&a&&(o-=4),858993459&a&&(o-=2),1431655765&a&&(o-=1),o}u.INT_BITS=32,u.INT_MAX=2147483647,u.INT_MIN=-2147483648,u.sign=function(a){return(a>0)-(a<0)},u.abs=function(a){var o=a>>31;return(a^o)-o},u.min=function(a,o){return o^(a^o)&-(a<o)},u.max=function(a,o){return a^(a^o)&-(a<o)},u.isPow2=function(a){return!(a&a-1||!a)},u.log2=function(a){var o,l;return o=(a>65535)<<4,o|=l=((a>>>=o)>255)<<3,o|=l=((a>>>=l)>15)<<2,(o|=l=((a>>>=l)>3)<<1)|(a>>>=l)>>1},u.log10=function(a){return a>=1e9?9:a>=1e8?8:a>=1e7?7:a>=1e6?6:a>=1e5?5:a>=1e4?4:a>=1e3?3:a>=100?2:a>=10?1:0},u.popCount=function(a){return 16843009*((a=(858993459&(a-=a>>>1&1431655765))+(a>>>2&858993459))+(a>>>4)&252645135)>>>24},u.countTrailingZeros=i,u.nextPow2=function(a){return a+=0===a,--a,a|=a>>>1,a|=a>>>2,a|=a>>>4,1+((a|=a>>>8)|a>>>16)},u.prevPow2=function(a){return a|=a>>>1,a|=a>>>2,a|=a>>>4,a|=a>>>8,(a|=a>>>16)-(a>>>1)},u.parity=function(a){return a^=a>>>16,a^=a>>>8,a^=a>>>4,27030>>>(a&=15)&1};var s=new Array(256);(function(a){for(var o=0;o<256;++o){var l=o,c=o,h=7;for(l>>>=1;l;l>>>=1)c<<=1,c|=1&l,--h;a[o]=c<<h&255}})(s),u.reverse=function(a){return s[255&a]<<24|s[a>>>8&255]<<16|s[a>>>16&255]<<8|s[a>>>24&255]},u.interleave2=function(a,o){return(a=1431655765&((a=858993459&((a=252645135&((a=16711935&((a&=65535)|a<<8))|a<<4))|a<<2))|a<<1))|(o=1431655765&((o=858993459&((o=252645135&((o=16711935&((o&=65535)|o<<8))|o<<4))|o<<2))|o<<1))<<1},u.deinterleave2=function(a,o){return(a=65535&((a=16711935&((a=252645135&((a=858993459&((a=a>>>o&1431655765)|a>>>1))|a>>>2))|a>>>4))|a>>>16))<<16>>16},u.interleave3=function(a,o,l){return a=1227133513&((a=3272356035&((a=251719695&((a=4278190335&((a&=1023)|a<<16))|a<<8))|a<<4))|a<<2),(a|=(o=1227133513&((o=3272356035&((o=251719695&((o=4278190335&((o&=1023)|o<<16))|o<<8))|o<<4))|o<<2))<<1)|(l=1227133513&((l=3272356035&((l=251719695&((l=4278190335&((l&=1023)|l<<16))|l<<8))|l<<4))|l<<2))<<2},u.deinterleave3=function(a,o){return(a=1023&((a=4278190335&((a=251719695&((a=3272356035&((a=a>>>o&1227133513)|a>>>2))|a>>>4))|a>>>8))|a>>>16))<<22>>22},u.nextCombination=function(a){var o=a|a-1;return o+1|(~o&-~o)-1>>>i(a)+1}},1928:function(y,u,i){!function(s,a){"use strict";function o(z,Y){if(!z)throw new Error(Y||"Assertion failed")}function l(z,Y){z.super_=Y;var q=function(){};q.prototype=Y.prototype,z.prototype=new q,z.prototype.constructor=z}function c(z,Y,q){if(c.isBN(z))return z;this.negative=0,this.words=null,this.length=0,this.red=null,null!==z&&("le"!==Y&&"be"!==Y||(q=Y,Y=10),this._init(z||0,Y||10,q||"be"))}var h;"object"==typeof s?s.exports=c:a.BN=c,c.BN=c,c.wordSize=26;try{h=typeof window<"u"&&void 0!==window.Buffer?window.Buffer:i(6601).Buffer}catch{}function v(z,Y){var q=z.charCodeAt(Y);return q>=65&&q<=70?q-55:q>=97&&q<=102?q-87:q-48&15}function p(z,Y,q){var U=v(z,q);return q-1>=Y&&(U|=v(z,q-1)<<4),U}function T(z,Y,q,U){for(var Z=0,X=Math.min(z.length,q),se=Y;se<X;se++){var re=z.charCodeAt(se)-48;Z*=U,Z+=re>=49?re-49+10:re>=17?re-17+10:re}return Z}c.isBN=function(z){return z instanceof c||null!==z&&"object"==typeof z&&z.constructor.wordSize===c.wordSize&&Array.isArray(z.words)},c.max=function(z,Y){return z.cmp(Y)>0?z:Y},c.min=function(z,Y){return z.cmp(Y)<0?z:Y},c.prototype._init=function(z,Y,q){if("number"==typeof z)return this._initNumber(z,Y,q);if("object"==typeof z)return this._initArray(z,Y,q);"hex"===Y&&(Y=16),o(Y===(0|Y)&&Y>=2&&Y<=36);var U=0;"-"===(z=z.toString().replace(/\s+/g,""))[0]&&(U++,this.negative=1),U<z.length&&(16===Y?this._parseHex(z,U,q):(this._parseBase(z,Y,U),"le"===q&&this._initArray(this.toArray(),Y,q)))},c.prototype._initNumber=function(z,Y,q){z<0&&(this.negative=1,z=-z),z<67108864?(this.words=[67108863&z],this.length=1):z<4503599627370496?(this.words=[67108863&z,z/67108864&67108863],this.length=2):(o(z<9007199254740992),this.words=[67108863&z,z/67108864&67108863,1],this.length=3),"le"===q&&this._initArray(this.toArray(),Y,q)},c.prototype._initArray=function(z,Y,q){if(o("number"==typeof z.length),z.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(z.length/3),this.words=new Array(this.length);for(var U=0;U<this.length;U++)this.words[U]=0;var Z,X,se=0;if("be"===q)for(U=z.length-1,Z=0;U>=0;U-=3)this.words[Z]|=(X=z[U]|z[U-1]<<8|z[U-2]<<16)<<se&67108863,this.words[Z+1]=X>>>26-se&67108863,(se+=24)>=26&&(se-=26,Z++);else if("le"===q)for(U=0,Z=0;U<z.length;U+=3)this.words[Z]|=(X=z[U]|z[U+1]<<8|z[U+2]<<16)<<se&67108863,this.words[Z+1]=X>>>26-se&67108863,(se+=24)>=26&&(se-=26,Z++);return this.strip()},c.prototype._parseHex=function(z,Y,q){this.length=Math.ceil((z.length-Y)/6),this.words=new Array(this.length);for(var U=0;U<this.length;U++)this.words[U]=0;var Z,X=0,se=0;if("be"===q)for(U=z.length-1;U>=Y;U-=2)Z=p(z,Y,U)<<X,this.words[se]|=67108863&Z,X>=18?(X-=18,this.words[se+=1]|=Z>>>26):X+=8;else for(U=(z.length-Y)%2==0?Y+1:Y;U<z.length;U+=2)Z=p(z,Y,U)<<X,this.words[se]|=67108863&Z,X>=18?(X-=18,this.words[se+=1]|=Z>>>26):X+=8;this.strip()},c.prototype._parseBase=function(z,Y,q){this.words=[0],this.length=1;for(var U=0,Z=1;Z<=67108863;Z*=Y)U++;U--,Z=Z/Y|0;for(var X=z.length-q,se=X%U,re=Math.min(X,X-se)+q,ee=0,K=q;K<re;K+=U)ee=T(z,K,K+U,Y),this.imuln(Z),this.words[0]+ee<67108864?this.words[0]+=ee:this._iaddn(ee);if(0!==se){var ne=1;for(ee=T(z,K,z.length,Y),K=0;K<se;K++)ne*=Y;this.imuln(ne),this.words[0]+ee<67108864?this.words[0]+=ee:this._iaddn(ee)}this.strip()},c.prototype.copy=function(z){z.words=new Array(this.length);for(var Y=0;Y<this.length;Y++)z.words[Y]=this.words[Y];z.length=this.length,z.negative=this.negative,z.red=this.red},c.prototype.clone=function(){var z=new c(null);return this.copy(z),z},c.prototype._expand=function(z){for(;this.length<z;)this.words[this.length++]=0;return this},c.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},c.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},c.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var _=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],g=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],w=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function x(z,Y,q){q.negative=Y.negative^z.negative;var U=z.length+Y.length|0;q.length=U,U=U-1|0;var Z=0|z.words[0],X=0|Y.words[0],se=Z*X,ee=se/67108864|0;q.words[0]=67108863&se;for(var K=1;K<U;K++){for(var ne=ee>>>26,ae=67108863&ee,ue=Math.min(K,Y.length-1),he=Math.max(0,K-z.length+1);he<=ue;he++)ne+=(se=(Z=0|z.words[K-he|0])*(X=0|Y.words[he])+ae)/67108864|0,ae=67108863&se;q.words[K]=0|ae,ee=0|ne}return 0!==ee?q.words[K]=0|ee:q.length--,q.strip()}c.prototype.toString=function(z,Y){var q;if(Y=0|Y||1,16===(z=z||10)||"hex"===z){q="";for(var U=0,Z=0,X=0;X<this.length;X++){var se=this.words[X],re=(16777215&(se<<U|Z)).toString(16);q=0!=(Z=se>>>24-U&16777215)||X!==this.length-1?_[6-re.length]+re+q:re+q,(U+=2)>=26&&(U-=26,X--)}for(0!==Z&&(q=Z.toString(16)+q);q.length%Y!=0;)q="0"+q;return 0!==this.negative&&(q="-"+q),q}if(z===(0|z)&&z>=2&&z<=36){var ee=g[z],K=w[z];q="";var ne=this.clone();for(ne.negative=0;!ne.isZero();){var ae=ne.modn(K).toString(z);q=(ne=ne.idivn(K)).isZero()?ae+q:_[ee-ae.length]+ae+q}for(this.isZero()&&(q="0"+q);q.length%Y!=0;)q="0"+q;return 0!==this.negative&&(q="-"+q),q}o(!1,"Base should be between 2 and 36")},c.prototype.toNumber=function(){var z=this.words[0];return 2===this.length?z+=67108864*this.words[1]:3===this.length&&1===this.words[2]?z+=4503599627370496+67108864*this.words[1]:this.length>2&&o(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-z:z},c.prototype.toJSON=function(){return this.toString(16)},c.prototype.toBuffer=function(z,Y){return o(void 0!==h),this.toArrayLike(h,z,Y)},c.prototype.toArray=function(z,Y){return this.toArrayLike(Array,z,Y)},c.prototype.toArrayLike=function(z,Y,q){var U=this.byteLength(),Z=q||Math.max(1,U);o(U<=Z,"byte array longer than desired length"),o(Z>0,"Requested array length <= 0"),this.strip();var X,se,re="le"===Y,ee=new z(Z),K=this.clone();if(re){for(se=0;!K.isZero();se++)X=K.andln(255),K.iushrn(8),ee[se]=X;for(;se<Z;se++)ee[se]=0}else{for(se=0;se<Z-U;se++)ee[se]=0;for(se=0;!K.isZero();se++)X=K.andln(255),K.iushrn(8),ee[Z-se-1]=X}return ee},c.prototype._countBits=Math.clz32?function(z){return 32-Math.clz32(z)}:function(z){var Y=z,q=0;return Y>=4096&&(q+=13,Y>>>=13),Y>=64&&(q+=7,Y>>>=7),Y>=8&&(q+=4,Y>>>=4),Y>=2&&(q+=2,Y>>>=2),q+Y},c.prototype._zeroBits=function(z){if(0===z)return 26;var Y=z,q=0;return!(8191&Y)&&(q+=13,Y>>>=13),!(127&Y)&&(q+=7,Y>>>=7),!(15&Y)&&(q+=4,Y>>>=4),!(3&Y)&&(q+=2,Y>>>=2),!(1&Y)&&q++,q},c.prototype.bitLength=function(){var Y=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+Y},c.prototype.zeroBits=function(){if(this.isZero())return 0;for(var z=0,Y=0;Y<this.length;Y++){var q=this._zeroBits(this.words[Y]);if(z+=q,26!==q)break}return z},c.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},c.prototype.toTwos=function(z){return 0!==this.negative?this.abs().inotn(z).iaddn(1):this.clone()},c.prototype.fromTwos=function(z){return this.testn(z-1)?this.notn(z).iaddn(1).ineg():this.clone()},c.prototype.isNeg=function(){return 0!==this.negative},c.prototype.neg=function(){return this.clone().ineg()},c.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},c.prototype.iuor=function(z){for(;this.length<z.length;)this.words[this.length++]=0;for(var Y=0;Y<z.length;Y++)this.words[Y]=this.words[Y]|z.words[Y];return this.strip()},c.prototype.ior=function(z){return o(0==(this.negative|z.negative)),this.iuor(z)},c.prototype.or=function(z){return this.length>z.length?this.clone().ior(z):z.clone().ior(this)},c.prototype.uor=function(z){return this.length>z.length?this.clone().iuor(z):z.clone().iuor(this)},c.prototype.iuand=function(z){var Y;Y=this.length>z.length?z:this;for(var q=0;q<Y.length;q++)this.words[q]=this.words[q]&z.words[q];return this.length=Y.length,this.strip()},c.prototype.iand=function(z){return o(0==(this.negative|z.negative)),this.iuand(z)},c.prototype.and=function(z){return this.length>z.length?this.clone().iand(z):z.clone().iand(this)},c.prototype.uand=function(z){return this.length>z.length?this.clone().iuand(z):z.clone().iuand(this)},c.prototype.iuxor=function(z){var Y,q;this.length>z.length?(Y=this,q=z):(Y=z,q=this);for(var U=0;U<q.length;U++)this.words[U]=Y.words[U]^q.words[U];if(this!==Y)for(;U<Y.length;U++)this.words[U]=Y.words[U];return this.length=Y.length,this.strip()},c.prototype.ixor=function(z){return o(0==(this.negative|z.negative)),this.iuxor(z)},c.prototype.xor=function(z){return this.length>z.length?this.clone().ixor(z):z.clone().ixor(this)},c.prototype.uxor=function(z){return this.length>z.length?this.clone().iuxor(z):z.clone().iuxor(this)},c.prototype.inotn=function(z){o("number"==typeof z&&z>=0);var Y=0|Math.ceil(z/26),q=z%26;this._expand(Y),q>0&&Y--;for(var U=0;U<Y;U++)this.words[U]=67108863&~this.words[U];return q>0&&(this.words[U]=~this.words[U]&67108863>>26-q),this.strip()},c.prototype.notn=function(z){return this.clone().inotn(z)},c.prototype.setn=function(z,Y){o("number"==typeof z&&z>=0);var q=z/26|0,U=z%26;return this._expand(q+1),this.words[q]=Y?this.words[q]|1<<U:this.words[q]&~(1<<U),this.strip()},c.prototype.iadd=function(z){var Y,q,U;if(0!==this.negative&&0===z.negative)return this.negative=0,Y=this.isub(z),this.negative^=1,this._normSign();if(0===this.negative&&0!==z.negative)return z.negative=0,Y=this.isub(z),z.negative=1,Y._normSign();this.length>z.length?(q=this,U=z):(q=z,U=this);for(var Z=0,X=0;X<U.length;X++)this.words[X]=67108863&(Y=(0|q.words[X])+(0|U.words[X])+Z),Z=Y>>>26;for(;0!==Z&&X<q.length;X++)this.words[X]=67108863&(Y=(0|q.words[X])+Z),Z=Y>>>26;if(this.length=q.length,0!==Z)this.words[this.length]=Z,this.length++;else if(q!==this)for(;X<q.length;X++)this.words[X]=q.words[X];return this},c.prototype.add=function(z){var Y;return 0!==z.negative&&0===this.negative?(z.negative=0,Y=this.sub(z),z.negative^=1,Y):0===z.negative&&0!==this.negative?(this.negative=0,Y=z.sub(this),this.negative=1,Y):this.length>z.length?this.clone().iadd(z):z.clone().iadd(this)},c.prototype.isub=function(z){if(0!==z.negative){z.negative=0;var Y=this.iadd(z);return z.negative=1,Y._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(z),this.negative=1,this._normSign();var q,U,Z=this.cmp(z);if(0===Z)return this.negative=0,this.length=1,this.words[0]=0,this;Z>0?(q=this,U=z):(q=z,U=this);for(var X=0,se=0;se<U.length;se++)X=(Y=(0|q.words[se])-(0|U.words[se])+X)>>26,this.words[se]=67108863&Y;for(;0!==X&&se<q.length;se++)X=(Y=(0|q.words[se])+X)>>26,this.words[se]=67108863&Y;if(0===X&&se<q.length&&q!==this)for(;se<q.length;se++)this.words[se]=q.words[se];return this.length=Math.max(this.length,se),q!==this&&(this.negative=1),this.strip()},c.prototype.sub=function(z){return this.clone().isub(z)};var b=function(z,Y,q){var U,Z,X,se=z.words,re=Y.words,ee=q.words,K=0,ne=0|se[0],ae=8191&ne,ue=ne>>>13,he=0|se[1],pe=8191&he,ge=he>>>13,xe=0|se[2],Se=8191&xe,Te=xe>>>13,ye=0|se[3],we=8191&ye,ze=ye>>>13,ke=0|se[4],Ee=8191&ke,me=ke>>>13,de=0|se[5],ce=8191&de,Ae=de>>>13,Ne=0|se[6],De=8191&Ne,Ue=Ne>>>13,Ye=0|se[7],_e=8191&Ye,Pe=Ye>>>13,Ie=0|se[8],Be=8191&Ie,We=Ie>>>13,Ge=0|se[9],Ke=8191&Ge,tt=Ge>>>13,st=0|re[0],gt=8191&st,ct=st>>>13,kt=0|re[1],Dt=8191&kt,vt=kt>>>13,mt=0|re[2],Et=8191&mt,Lt=mt>>>13,Rt=0|re[3],Ut=8191&Rt,Bt=Rt>>>13,rt=0|re[4],ot=8191&rt,Je=rt>>>13,it=0|re[5],dt=8191&it,ht=it>>>13,Ve=0|re[6],qe=8191&Ve,ut=Ve>>>13,ft=0|re[7],St=8191&ft,Mt=ft>>>13,Tt=0|re[8],xt=8191&Tt,Nt=Tt>>>13,bt=0|re[9],wt=8191&bt,It=bt>>>13;q.negative=z.negative^Y.negative,q.length=19;var Wt=(K+(U=Math.imul(ae,gt))|0)+((8191&(Z=(Z=Math.imul(ae,ct))+Math.imul(ue,gt)|0))<<13)|0;K=((X=Math.imul(ue,ct))+(Z>>>13)|0)+(Wt>>>26)|0,Wt&=67108863,U=Math.imul(pe,gt),Z=(Z=Math.imul(pe,ct))+Math.imul(ge,gt)|0,X=Math.imul(ge,ct);var Yt=(K+(U=U+Math.imul(ae,Dt)|0)|0)+((8191&(Z=(Z=Z+Math.imul(ae,vt)|0)+Math.imul(ue,Dt)|0))<<13)|0;K=((X=X+Math.imul(ue,vt)|0)+(Z>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,U=Math.imul(Se,gt),Z=(Z=Math.imul(Se,ct))+Math.imul(Te,gt)|0,X=Math.imul(Te,ct),U=U+Math.imul(pe,Dt)|0,Z=(Z=Z+Math.imul(pe,vt)|0)+Math.imul(ge,Dt)|0,X=X+Math.imul(ge,vt)|0;var Zt=(K+(U=U+Math.imul(ae,Et)|0)|0)+((8191&(Z=(Z=Z+Math.imul(ae,Lt)|0)+Math.imul(ue,Et)|0))<<13)|0;K=((X=X+Math.imul(ue,Lt)|0)+(Z>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,U=Math.imul(we,gt),Z=(Z=Math.imul(we,ct))+Math.imul(ze,gt)|0,X=Math.imul(ze,ct),U=U+Math.imul(Se,Dt)|0,Z=(Z=Z+Math.imul(Se,vt)|0)+Math.imul(Te,Dt)|0,X=X+Math.imul(Te,vt)|0,U=U+Math.imul(pe,Et)|0,Z=(Z=Z+Math.imul(pe,Lt)|0)+Math.imul(ge,Et)|0,X=X+Math.imul(ge,Lt)|0;var dn=(K+(U=U+Math.imul(ae,Ut)|0)|0)+((8191&(Z=(Z=Z+Math.imul(ae,Bt)|0)+Math.imul(ue,Ut)|0))<<13)|0;K=((X=X+Math.imul(ue,Bt)|0)+(Z>>>13)|0)+(dn>>>26)|0,dn&=67108863,U=Math.imul(Ee,gt),Z=(Z=Math.imul(Ee,ct))+Math.imul(me,gt)|0,X=Math.imul(me,ct),U=U+Math.imul(we,Dt)|0,Z=(Z=Z+Math.imul(we,vt)|0)+Math.imul(ze,Dt)|0,X=X+Math.imul(ze,vt)|0,U=U+Math.imul(Se,Et)|0,Z=(Z=Z+Math.imul(Se,Lt)|0)+Math.imul(Te,Et)|0,X=X+Math.imul(Te,Lt)|0,U=U+Math.imul(pe,Ut)|0,Z=(Z=Z+Math.imul(pe,Bt)|0)+Math.imul(ge,Ut)|0,X=X+Math.imul(ge,Bt)|0;var nn=(K+(U=U+Math.imul(ae,ot)|0)|0)+((8191&(Z=(Z=Z+Math.imul(ae,Je)|0)+Math.imul(ue,ot)|0))<<13)|0;K=((X=X+Math.imul(ue,Je)|0)+(Z>>>13)|0)+(nn>>>26)|0,nn&=67108863,U=Math.imul(ce,gt),Z=(Z=Math.imul(ce,ct))+Math.imul(Ae,gt)|0,X=Math.imul(Ae,ct),U=U+Math.imul(Ee,Dt)|0,Z=(Z=Z+Math.imul(Ee,vt)|0)+Math.imul(me,Dt)|0,X=X+Math.imul(me,vt)|0,U=U+Math.imul(we,Et)|0,Z=(Z=Z+Math.imul(we,Lt)|0)+Math.imul(ze,Et)|0,X=X+Math.imul(ze,Lt)|0,U=U+Math.imul(Se,Ut)|0,Z=(Z=Z+Math.imul(Se,Bt)|0)+Math.imul(Te,Ut)|0,X=X+Math.imul(Te,Bt)|0,U=U+Math.imul(pe,ot)|0,Z=(Z=Z+Math.imul(pe,Je)|0)+Math.imul(ge,ot)|0,X=X+Math.imul(ge,Je)|0;var un=(K+(U=U+Math.imul(ae,dt)|0)|0)+((8191&(Z=(Z=Z+Math.imul(ae,ht)|0)+Math.imul(ue,dt)|0))<<13)|0;K=((X=X+Math.imul(ue,ht)|0)+(Z>>>13)|0)+(un>>>26)|0,un&=67108863,U=Math.imul(De,gt),Z=(Z=Math.imul(De,ct))+Math.imul(Ue,gt)|0,X=Math.imul(Ue,ct),U=U+Math.imul(ce,Dt)|0,Z=(Z=Z+Math.imul(ce,vt)|0)+Math.imul(Ae,Dt)|0,X=X+Math.imul(Ae,vt)|0,U=U+Math.imul(Ee,Et)|0,Z=(Z=Z+Math.imul(Ee,Lt)|0)+Math.imul(me,Et)|0,X=X+Math.imul(me,Lt)|0,U=U+Math.imul(we,Ut)|0,Z=(Z=Z+Math.imul(we,Bt)|0)+Math.imul(ze,Ut)|0,X=X+Math.imul(ze,Bt)|0,U=U+Math.imul(Se,ot)|0,Z=(Z=Z+Math.imul(Se,Je)|0)+Math.imul(Te,ot)|0,X=X+Math.imul(Te,Je)|0,U=U+Math.imul(pe,dt)|0,Z=(Z=Z+Math.imul(pe,ht)|0)+Math.imul(ge,dt)|0,X=X+Math.imul(ge,ht)|0;var rn=(K+(U=U+Math.imul(ae,qe)|0)|0)+((8191&(Z=(Z=Z+Math.imul(ae,ut)|0)+Math.imul(ue,qe)|0))<<13)|0;K=((X=X+Math.imul(ue,ut)|0)+(Z>>>13)|0)+(rn>>>26)|0,rn&=67108863,U=Math.imul(_e,gt),Z=(Z=Math.imul(_e,ct))+Math.imul(Pe,gt)|0,X=Math.imul(Pe,ct),U=U+Math.imul(De,Dt)|0,Z=(Z=Z+Math.imul(De,vt)|0)+Math.imul(Ue,Dt)|0,X=X+Math.imul(Ue,vt)|0,U=U+Math.imul(ce,Et)|0,Z=(Z=Z+Math.imul(ce,Lt)|0)+Math.imul(Ae,Et)|0,X=X+Math.imul(Ae,Lt)|0,U=U+Math.imul(Ee,Ut)|0,Z=(Z=Z+Math.imul(Ee,Bt)|0)+Math.imul(me,Ut)|0,X=X+Math.imul(me,Bt)|0,U=U+Math.imul(we,ot)|0,Z=(Z=Z+Math.imul(we,Je)|0)+Math.imul(ze,ot)|0,X=X+Math.imul(ze,Je)|0,U=U+Math.imul(Se,dt)|0,Z=(Z=Z+Math.imul(Se,ht)|0)+Math.imul(Te,dt)|0,X=X+Math.imul(Te,ht)|0,U=U+Math.imul(pe,qe)|0,Z=(Z=Z+Math.imul(pe,ut)|0)+Math.imul(ge,qe)|0,X=X+Math.imul(ge,ut)|0;var kn=(K+(U=U+Math.imul(ae,St)|0)|0)+((8191&(Z=(Z=Z+Math.imul(ae,Mt)|0)+Math.imul(ue,St)|0))<<13)|0;K=((X=X+Math.imul(ue,Mt)|0)+(Z>>>13)|0)+(kn>>>26)|0,kn&=67108863,U=Math.imul(Be,gt),Z=(Z=Math.imul(Be,ct))+Math.imul(We,gt)|0,X=Math.imul(We,ct),U=U+Math.imul(_e,Dt)|0,Z=(Z=Z+Math.imul(_e,vt)|0)+Math.imul(Pe,Dt)|0,X=X+Math.imul(Pe,vt)|0,U=U+Math.imul(De,Et)|0,Z=(Z=Z+Math.imul(De,Lt)|0)+Math.imul(Ue,Et)|0,X=X+Math.imul(Ue,Lt)|0,U=U+Math.imul(ce,Ut)|0,Z=(Z=Z+Math.imul(ce,Bt)|0)+Math.imul(Ae,Ut)|0,X=X+Math.imul(Ae,Bt)|0,U=U+Math.imul(Ee,ot)|0,Z=(Z=Z+Math.imul(Ee,Je)|0)+Math.imul(me,ot)|0,X=X+Math.imul(me,Je)|0,U=U+Math.imul(we,dt)|0,Z=(Z=Z+Math.imul(we,ht)|0)+Math.imul(ze,dt)|0,X=X+Math.imul(ze,ht)|0,U=U+Math.imul(Se,qe)|0,Z=(Z=Z+Math.imul(Se,ut)|0)+Math.imul(Te,qe)|0,X=X+Math.imul(Te,ut)|0,U=U+Math.imul(pe,St)|0,Z=(Z=Z+Math.imul(pe,Mt)|0)+Math.imul(ge,St)|0,X=X+Math.imul(ge,Mt)|0;var Pn=(K+(U=U+Math.imul(ae,xt)|0)|0)+((8191&(Z=(Z=Z+Math.imul(ae,Nt)|0)+Math.imul(ue,xt)|0))<<13)|0;K=((X=X+Math.imul(ue,Nt)|0)+(Z>>>13)|0)+(Pn>>>26)|0,Pn&=67108863,U=Math.imul(Ke,gt),Z=(Z=Math.imul(Ke,ct))+Math.imul(tt,gt)|0,X=Math.imul(tt,ct),U=U+Math.imul(Be,Dt)|0,Z=(Z=Z+Math.imul(Be,vt)|0)+Math.imul(We,Dt)|0,X=X+Math.imul(We,vt)|0,U=U+Math.imul(_e,Et)|0,Z=(Z=Z+Math.imul(_e,Lt)|0)+Math.imul(Pe,Et)|0,X=X+Math.imul(Pe,Lt)|0,U=U+Math.imul(De,Ut)|0,Z=(Z=Z+Math.imul(De,Bt)|0)+Math.imul(Ue,Ut)|0,X=X+Math.imul(Ue,Bt)|0,U=U+Math.imul(ce,ot)|0,Z=(Z=Z+Math.imul(ce,Je)|0)+Math.imul(Ae,ot)|0,X=X+Math.imul(Ae,Je)|0,U=U+Math.imul(Ee,dt)|0,Z=(Z=Z+Math.imul(Ee,ht)|0)+Math.imul(me,dt)|0,X=X+Math.imul(me,ht)|0,U=U+Math.imul(we,qe)|0,Z=(Z=Z+Math.imul(we,ut)|0)+Math.imul(ze,qe)|0,X=X+Math.imul(ze,ut)|0,U=U+Math.imul(Se,St)|0,Z=(Z=Z+Math.imul(Se,Mt)|0)+Math.imul(Te,St)|0,X=X+Math.imul(Te,Mt)|0,U=U+Math.imul(pe,xt)|0,Z=(Z=Z+Math.imul(pe,Nt)|0)+Math.imul(ge,xt)|0,X=X+Math.imul(ge,Nt)|0;var Sn=(K+(U=U+Math.imul(ae,wt)|0)|0)+((8191&(Z=(Z=Z+Math.imul(ae,It)|0)+Math.imul(ue,wt)|0))<<13)|0;K=((X=X+Math.imul(ue,It)|0)+(Z>>>13)|0)+(Sn>>>26)|0,Sn&=67108863,U=Math.imul(Ke,Dt),Z=(Z=Math.imul(Ke,vt))+Math.imul(tt,Dt)|0,X=Math.imul(tt,vt),U=U+Math.imul(Be,Et)|0,Z=(Z=Z+Math.imul(Be,Lt)|0)+Math.imul(We,Et)|0,X=X+Math.imul(We,Lt)|0,U=U+Math.imul(_e,Ut)|0,Z=(Z=Z+Math.imul(_e,Bt)|0)+Math.imul(Pe,Ut)|0,X=X+Math.imul(Pe,Bt)|0,U=U+Math.imul(De,ot)|0,Z=(Z=Z+Math.imul(De,Je)|0)+Math.imul(Ue,ot)|0,X=X+Math.imul(Ue,Je)|0,U=U+Math.imul(ce,dt)|0,Z=(Z=Z+Math.imul(ce,ht)|0)+Math.imul(Ae,dt)|0,X=X+Math.imul(Ae,ht)|0,U=U+Math.imul(Ee,qe)|0,Z=(Z=Z+Math.imul(Ee,ut)|0)+Math.imul(me,qe)|0,X=X+Math.imul(me,ut)|0,U=U+Math.imul(we,St)|0,Z=(Z=Z+Math.imul(we,Mt)|0)+Math.imul(ze,St)|0,X=X+Math.imul(ze,Mt)|0,U=U+Math.imul(Se,xt)|0,Z=(Z=Z+Math.imul(Se,Nt)|0)+Math.imul(Te,xt)|0,X=X+Math.imul(Te,Nt)|0;var en=(K+(U=U+Math.imul(pe,wt)|0)|0)+((8191&(Z=(Z=Z+Math.imul(pe,It)|0)+Math.imul(ge,wt)|0))<<13)|0;K=((X=X+Math.imul(ge,It)|0)+(Z>>>13)|0)+(en>>>26)|0,en&=67108863,U=Math.imul(Ke,Et),Z=(Z=Math.imul(Ke,Lt))+Math.imul(tt,Et)|0,X=Math.imul(tt,Lt),U=U+Math.imul(Be,Ut)|0,Z=(Z=Z+Math.imul(Be,Bt)|0)+Math.imul(We,Ut)|0,X=X+Math.imul(We,Bt)|0,U=U+Math.imul(_e,ot)|0,Z=(Z=Z+Math.imul(_e,Je)|0)+Math.imul(Pe,ot)|0,X=X+Math.imul(Pe,Je)|0,U=U+Math.imul(De,dt)|0,Z=(Z=Z+Math.imul(De,ht)|0)+Math.imul(Ue,dt)|0,X=X+Math.imul(Ue,ht)|0,U=U+Math.imul(ce,qe)|0,Z=(Z=Z+Math.imul(ce,ut)|0)+Math.imul(Ae,qe)|0,X=X+Math.imul(Ae,ut)|0,U=U+Math.imul(Ee,St)|0,Z=(Z=Z+Math.imul(Ee,Mt)|0)+Math.imul(me,St)|0,X=X+Math.imul(me,Mt)|0,U=U+Math.imul(we,xt)|0,Z=(Z=Z+Math.imul(we,Nt)|0)+Math.imul(ze,xt)|0,X=X+Math.imul(ze,Nt)|0;var vn=(K+(U=U+Math.imul(Se,wt)|0)|0)+((8191&(Z=(Z=Z+Math.imul(Se,It)|0)+Math.imul(Te,wt)|0))<<13)|0;K=((X=X+Math.imul(Te,It)|0)+(Z>>>13)|0)+(vn>>>26)|0,vn&=67108863,U=Math.imul(Ke,Ut),Z=(Z=Math.imul(Ke,Bt))+Math.imul(tt,Ut)|0,X=Math.imul(tt,Bt),U=U+Math.imul(Be,ot)|0,Z=(Z=Z+Math.imul(Be,Je)|0)+Math.imul(We,ot)|0,X=X+Math.imul(We,Je)|0,U=U+Math.imul(_e,dt)|0,Z=(Z=Z+Math.imul(_e,ht)|0)+Math.imul(Pe,dt)|0,X=X+Math.imul(Pe,ht)|0,U=U+Math.imul(De,qe)|0,Z=(Z=Z+Math.imul(De,ut)|0)+Math.imul(Ue,qe)|0,X=X+Math.imul(Ue,ut)|0,U=U+Math.imul(ce,St)|0,Z=(Z=Z+Math.imul(ce,Mt)|0)+Math.imul(Ae,St)|0,X=X+Math.imul(Ae,Mt)|0,U=U+Math.imul(Ee,xt)|0,Z=(Z=Z+Math.imul(Ee,Nt)|0)+Math.imul(me,xt)|0,X=X+Math.imul(me,Nt)|0;var hn=(K+(U=U+Math.imul(we,wt)|0)|0)+((8191&(Z=(Z=Z+Math.imul(we,It)|0)+Math.imul(ze,wt)|0))<<13)|0;K=((X=X+Math.imul(ze,It)|0)+(Z>>>13)|0)+(hn>>>26)|0,hn&=67108863,U=Math.imul(Ke,ot),Z=(Z=Math.imul(Ke,Je))+Math.imul(tt,ot)|0,X=Math.imul(tt,Je),U=U+Math.imul(Be,dt)|0,Z=(Z=Z+Math.imul(Be,ht)|0)+Math.imul(We,dt)|0,X=X+Math.imul(We,ht)|0,U=U+Math.imul(_e,qe)|0,Z=(Z=Z+Math.imul(_e,ut)|0)+Math.imul(Pe,qe)|0,X=X+Math.imul(Pe,ut)|0,U=U+Math.imul(De,St)|0,Z=(Z=Z+Math.imul(De,Mt)|0)+Math.imul(Ue,St)|0,X=X+Math.imul(Ue,Mt)|0,U=U+Math.imul(ce,xt)|0,Z=(Z=Z+Math.imul(ce,Nt)|0)+Math.imul(Ae,xt)|0,X=X+Math.imul(Ae,Nt)|0;var yn=(K+(U=U+Math.imul(Ee,wt)|0)|0)+((8191&(Z=(Z=Z+Math.imul(Ee,It)|0)+Math.imul(me,wt)|0))<<13)|0;K=((X=X+Math.imul(me,It)|0)+(Z>>>13)|0)+(yn>>>26)|0,yn&=67108863,U=Math.imul(Ke,dt),Z=(Z=Math.imul(Ke,ht))+Math.imul(tt,dt)|0,X=Math.imul(tt,ht),U=U+Math.imul(Be,qe)|0,Z=(Z=Z+Math.imul(Be,ut)|0)+Math.imul(We,qe)|0,X=X+Math.imul(We,ut)|0,U=U+Math.imul(_e,St)|0,Z=(Z=Z+Math.imul(_e,Mt)|0)+Math.imul(Pe,St)|0,X=X+Math.imul(Pe,Mt)|0,U=U+Math.imul(De,xt)|0,Z=(Z=Z+Math.imul(De,Nt)|0)+Math.imul(Ue,xt)|0,X=X+Math.imul(Ue,Nt)|0;var Cn=(K+(U=U+Math.imul(ce,wt)|0)|0)+((8191&(Z=(Z=Z+Math.imul(ce,It)|0)+Math.imul(Ae,wt)|0))<<13)|0;K=((X=X+Math.imul(Ae,It)|0)+(Z>>>13)|0)+(Cn>>>26)|0,Cn&=67108863,U=Math.imul(Ke,qe),Z=(Z=Math.imul(Ke,ut))+Math.imul(tt,qe)|0,X=Math.imul(tt,ut),U=U+Math.imul(Be,St)|0,Z=(Z=Z+Math.imul(Be,Mt)|0)+Math.imul(We,St)|0,X=X+Math.imul(We,Mt)|0,U=U+Math.imul(_e,xt)|0,Z=(Z=Z+Math.imul(_e,Nt)|0)+Math.imul(Pe,xt)|0,X=X+Math.imul(Pe,Nt)|0;var _n=(K+(U=U+Math.imul(De,wt)|0)|0)+((8191&(Z=(Z=Z+Math.imul(De,It)|0)+Math.imul(Ue,wt)|0))<<13)|0;K=((X=X+Math.imul(Ue,It)|0)+(Z>>>13)|0)+(_n>>>26)|0,_n&=67108863,U=Math.imul(Ke,St),Z=(Z=Math.imul(Ke,Mt))+Math.imul(tt,St)|0,X=Math.imul(tt,Mt),U=U+Math.imul(Be,xt)|0,Z=(Z=Z+Math.imul(Be,Nt)|0)+Math.imul(We,xt)|0,X=X+Math.imul(We,Nt)|0;var Un=(K+(U=U+Math.imul(_e,wt)|0)|0)+((8191&(Z=(Z=Z+Math.imul(_e,It)|0)+Math.imul(Pe,wt)|0))<<13)|0;K=((X=X+Math.imul(Pe,It)|0)+(Z>>>13)|0)+(Un>>>26)|0,Un&=67108863,U=Math.imul(Ke,xt),Z=(Z=Math.imul(Ke,Nt))+Math.imul(tt,xt)|0,X=Math.imul(tt,Nt);var qn=(K+(U=U+Math.imul(Be,wt)|0)|0)+((8191&(Z=(Z=Z+Math.imul(Be,It)|0)+Math.imul(We,wt)|0))<<13)|0;K=((X=X+Math.imul(We,It)|0)+(Z>>>13)|0)+(qn>>>26)|0,qn&=67108863;var Ln=(K+(U=Math.imul(Ke,wt))|0)+((8191&(Z=(Z=Math.imul(Ke,It))+Math.imul(tt,wt)|0))<<13)|0;return K=((X=Math.imul(tt,It))+(Z>>>13)|0)+(Ln>>>26)|0,Ln&=67108863,ee[0]=Wt,ee[1]=Yt,ee[2]=Zt,ee[3]=dn,ee[4]=nn,ee[5]=un,ee[6]=rn,ee[7]=kn,ee[8]=Pn,ee[9]=Sn,ee[10]=en,ee[11]=vn,ee[12]=hn,ee[13]=yn,ee[14]=Cn,ee[15]=_n,ee[16]=Un,ee[17]=qn,ee[18]=Ln,0!==K&&(ee[19]=K,q.length++),q};function A(z,Y,q){return(new m).mulp(z,Y,q)}function m(z,Y){this.x=z,this.y=Y}Math.imul||(b=x),c.prototype.mulTo=function(z,Y){var U=this.length+z.length;return 10===this.length&&10===z.length?b(this,z,Y):U<63?x(this,z,Y):U<1024?function(Z,X,se){se.negative=X.negative^Z.negative,se.length=Z.length+X.length;for(var re=0,ee=0,K=0;K<se.length-1;K++){var ne=ee;ee=0;for(var ae=67108863&re,ue=Math.min(K,X.length-1),he=Math.max(0,K-Z.length+1);he<=ue;he++){var ge=(0|Z.words[K-he])*(0|X.words[he]),xe=67108863&ge;ae=67108863&(xe=xe+ae|0),ee+=(ne=(ne=ne+(ge/67108864|0)|0)+(xe>>>26)|0)>>>26,ne&=67108863}se.words[K]=ae,re=ne,ne=ee}return 0!==re?se.words[K]=re:se.length--,se.strip()}(this,z,Y):A(this,z,Y)},m.prototype.makeRBT=function(z){for(var Y=new Array(z),q=c.prototype._countBits(z)-1,U=0;U<z;U++)Y[U]=this.revBin(U,q,z);return Y},m.prototype.revBin=function(z,Y,q){if(0===z||z===q-1)return z;for(var U=0,Z=0;Z<Y;Z++)U|=(1&z)<<Y-Z-1,z>>=1;return U},m.prototype.permute=function(z,Y,q,U,Z,X){for(var se=0;se<X;se++)U[se]=Y[z[se]],Z[se]=q[z[se]]},m.prototype.transform=function(z,Y,q,U,Z,X){this.permute(X,z,Y,q,U,Z);for(var se=1;se<Z;se<<=1)for(var re=se<<1,ee=Math.cos(2*Math.PI/re),K=Math.sin(2*Math.PI/re),ne=0;ne<Z;ne+=re)for(var ae=ee,ue=K,he=0;he<se;he++){var pe=q[ne+he],ge=U[ne+he],xe=q[ne+he+se],Se=U[ne+he+se],Te=ae*xe-ue*Se;Se=ae*Se+ue*xe,q[ne+he]=pe+(xe=Te),U[ne+he]=ge+Se,q[ne+he+se]=pe-xe,U[ne+he+se]=ge-Se,he!==re&&(Te=ee*ae-K*ue,ue=ee*ue+K*ae,ae=Te)}},m.prototype.guessLen13b=function(z,Y){var q=1|Math.max(Y,z),U=1&q,Z=0;for(q=q/2|0;q;q>>>=1)Z++;return 1<<Z+1+U},m.prototype.conjugate=function(z,Y,q){if(!(q<=1))for(var U=0;U<q/2;U++){var Z=z[U];z[U]=z[q-U-1],z[q-U-1]=Z,Z=Y[U],Y[U]=-Y[q-U-1],Y[q-U-1]=-Z}},m.prototype.normalize13b=function(z,Y){for(var q=0,U=0;U<Y/2;U++){var Z=8192*Math.round(z[2*U+1]/Y)+Math.round(z[2*U]/Y)+q;z[U]=67108863&Z,q=Z<67108864?0:Z/67108864|0}return z},m.prototype.convert13b=function(z,Y,q,U){for(var Z=0,X=0;X<Y;X++)q[2*X]=8191&(Z+=0|z[X]),q[2*X+1]=8191&(Z>>>=13),Z>>>=13;for(X=2*Y;X<U;++X)q[X]=0;o(0===Z),o(0==(-8192&Z))},m.prototype.stub=function(z){for(var Y=new Array(z),q=0;q<z;q++)Y[q]=0;return Y},m.prototype.mulp=function(z,Y,q){var U=2*this.guessLen13b(z.length,Y.length),Z=this.makeRBT(U),X=this.stub(U),se=new Array(U),re=new Array(U),ee=new Array(U),K=new Array(U),ne=new Array(U),ae=new Array(U),ue=q.words;ue.length=U,this.convert13b(z.words,z.length,se,U),this.convert13b(Y.words,Y.length,K,U),this.transform(se,X,re,ee,U,Z),this.transform(K,X,ne,ae,U,Z);for(var he=0;he<U;he++){var pe=re[he]*ne[he]-ee[he]*ae[he];ee[he]=re[he]*ae[he]+ee[he]*ne[he],re[he]=pe}return this.conjugate(re,ee,U),this.transform(re,ee,ue,X,U,Z),this.conjugate(ue,X,U),this.normalize13b(ue,U),q.negative=z.negative^Y.negative,q.length=z.length+Y.length,q.strip()},c.prototype.mul=function(z){var Y=new c(null);return Y.words=new Array(this.length+z.length),this.mulTo(z,Y)},c.prototype.mulf=function(z){var Y=new c(null);return Y.words=new Array(this.length+z.length),A(this,z,Y)},c.prototype.imul=function(z){return this.clone().mulTo(z,this)},c.prototype.imuln=function(z){o("number"==typeof z),o(z<67108864);for(var Y=0,q=0;q<this.length;q++){var U=(0|this.words[q])*z,Z=(67108863&U)+(67108863&Y);Y>>=26,Y+=U/67108864|0,Y+=Z>>>26,this.words[q]=67108863&Z}return 0!==Y&&(this.words[q]=Y,this.length++),this},c.prototype.muln=function(z){return this.clone().imuln(z)},c.prototype.sqr=function(){return this.mul(this)},c.prototype.isqr=function(){return this.imul(this.clone())},c.prototype.pow=function(z){var Y=function(X){for(var se=new Array(X.bitLength()),re=0;re<se.length;re++){var K=re%26;se[re]=(X.words[re/26|0]&1<<K)>>>K}return se}(z);if(0===Y.length)return new c(1);for(var q=this,U=0;U<Y.length&&0===Y[U];U++,q=q.sqr());if(++U<Y.length)for(var Z=q.sqr();U<Y.length;U++,Z=Z.sqr())0!==Y[U]&&(q=q.mul(Z));return q},c.prototype.iushln=function(z){o("number"==typeof z&&z>=0);var Y,q=z%26,U=(z-q)/26,Z=67108863>>>26-q<<26-q;if(0!==q){var X=0;for(Y=0;Y<this.length;Y++){var se=this.words[Y]&Z;this.words[Y]=(0|this.words[Y])-se<<q|X,X=se>>>26-q}X&&(this.words[Y]=X,this.length++)}if(0!==U){for(Y=this.length-1;Y>=0;Y--)this.words[Y+U]=this.words[Y];for(Y=0;Y<U;Y++)this.words[Y]=0;this.length+=U}return this.strip()},c.prototype.ishln=function(z){return o(0===this.negative),this.iushln(z)},c.prototype.iushrn=function(z,Y,q){var U;o("number"==typeof z&&z>=0),U=Y?(Y-Y%26)/26:0;var Z=z%26,X=Math.min((z-Z)/26,this.length),se=67108863^67108863>>>Z<<Z,re=q;if(U-=X,U=Math.max(0,U),re){for(var ee=0;ee<X;ee++)re.words[ee]=this.words[ee];re.length=X}if(0!==X)if(this.length>X)for(this.length-=X,ee=0;ee<this.length;ee++)this.words[ee]=this.words[ee+X];else this.words[0]=0,this.length=1;var K=0;for(ee=this.length-1;ee>=0&&(0!==K||ee>=U);ee--){var ne=0|this.words[ee];this.words[ee]=K<<26-Z|ne>>>Z,K=ne&se}return re&&0!==K&&(re.words[re.length++]=K),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},c.prototype.ishrn=function(z,Y,q){return o(0===this.negative),this.iushrn(z,Y,q)},c.prototype.shln=function(z){return this.clone().ishln(z)},c.prototype.ushln=function(z){return this.clone().iushln(z)},c.prototype.shrn=function(z){return this.clone().ishrn(z)},c.prototype.ushrn=function(z){return this.clone().iushrn(z)},c.prototype.testn=function(z){o("number"==typeof z&&z>=0);var Y=z%26,q=(z-Y)/26;return!(this.length<=q||!(this.words[q]&1<<Y))},c.prototype.imaskn=function(z){o("number"==typeof z&&z>=0);var Y=z%26,q=(z-Y)/26;return o(0===this.negative,"imaskn works only with positive numbers"),this.length<=q?this:(0!==Y&&q++,this.length=Math.min(q,this.length),0!==Y&&(this.words[this.length-1]&=67108863^67108863>>>Y<<Y),this.strip())},c.prototype.maskn=function(z){return this.clone().imaskn(z)},c.prototype.iaddn=function(z){return o("number"==typeof z),o(z<67108864),z<0?this.isubn(-z):0!==this.negative?1===this.length&&(0|this.words[0])<z?(this.words[0]=z-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(z),this.negative=1,this):this._iaddn(z)},c.prototype._iaddn=function(z){this.words[0]+=z;for(var Y=0;Y<this.length&&this.words[Y]>=67108864;Y++)this.words[Y]-=67108864,Y===this.length-1?this.words[Y+1]=1:this.words[Y+1]++;return this.length=Math.max(this.length,Y+1),this},c.prototype.isubn=function(z){if(o("number"==typeof z),o(z<67108864),z<0)return this.iaddn(-z);if(0!==this.negative)return this.negative=0,this.iaddn(z),this.negative=1,this;if(this.words[0]-=z,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var Y=0;Y<this.length&&this.words[Y]<0;Y++)this.words[Y]+=67108864,this.words[Y+1]-=1;return this.strip()},c.prototype.addn=function(z){return this.clone().iaddn(z)},c.prototype.subn=function(z){return this.clone().isubn(z)},c.prototype.iabs=function(){return this.negative=0,this},c.prototype.abs=function(){return this.clone().iabs()},c.prototype._ishlnsubmul=function(z,Y,q){var U,Z;this._expand(z.length+q);var se=0;for(U=0;U<z.length;U++){Z=(0|this.words[U+q])+se;var re=(0|z.words[U])*Y;se=((Z-=67108863&re)>>26)-(re/67108864|0),this.words[U+q]=67108863&Z}for(;U<this.length-q;U++)se=(Z=(0|this.words[U+q])+se)>>26,this.words[U+q]=67108863&Z;if(0===se)return this.strip();for(o(-1===se),se=0,U=0;U<this.length;U++)se=(Z=-(0|this.words[U])+se)>>26,this.words[U]=67108863&Z;return this.negative=1,this.strip()},c.prototype._wordDiv=function(z,Y){var q,U=this.clone(),Z=z,X=0|Z.words[Z.length-1];0!=(q=26-this._countBits(X))&&(Z=Z.ushln(q),U.iushln(q),X=0|Z.words[Z.length-1]);var se,re=U.length-Z.length;if("mod"!==Y){(se=new c(null)).length=re+1,se.words=new Array(se.length);for(var ee=0;ee<se.length;ee++)se.words[ee]=0}var K=U.clone()._ishlnsubmul(Z,1,re);0===K.negative&&(U=K,se&&(se.words[re]=1));for(var ne=re-1;ne>=0;ne--){var ae=67108864*(0|U.words[Z.length+ne])+(0|U.words[Z.length+ne-1]);for(ae=Math.min(ae/X|0,67108863),U._ishlnsubmul(Z,ae,ne);0!==U.negative;)ae--,U.negative=0,U._ishlnsubmul(Z,1,ne),U.isZero()||(U.negative^=1);se&&(se.words[ne]=ae)}return se&&se.strip(),U.strip(),"div"!==Y&&0!==q&&U.iushrn(q),{div:se||null,mod:U}},c.prototype.divmod=function(z,Y,q){return o(!z.isZero()),this.isZero()?{div:new c(0),mod:new c(0)}:0!==this.negative&&0===z.negative?(X=this.neg().divmod(z,Y),"mod"!==Y&&(U=X.div.neg()),"div"!==Y&&(Z=X.mod.neg(),q&&0!==Z.negative&&Z.iadd(z)),{div:U,mod:Z}):0===this.negative&&0!==z.negative?(X=this.divmod(z.neg(),Y),"mod"!==Y&&(U=X.div.neg()),{div:U,mod:X.mod}):this.negative&z.negative?(X=this.neg().divmod(z.neg(),Y),"div"!==Y&&(Z=X.mod.neg(),q&&0!==Z.negative&&Z.isub(z)),{div:X.div,mod:Z}):z.length>this.length||this.cmp(z)<0?{div:new c(0),mod:this}:1===z.length?"div"===Y?{div:this.divn(z.words[0]),mod:null}:"mod"===Y?{div:null,mod:new c(this.modn(z.words[0]))}:{div:this.divn(z.words[0]),mod:new c(this.modn(z.words[0]))}:this._wordDiv(z,Y);var U,Z,X},c.prototype.div=function(z){return this.divmod(z,"div",!1).div},c.prototype.mod=function(z){return this.divmod(z,"mod",!1).mod},c.prototype.umod=function(z){return this.divmod(z,"mod",!0).mod},c.prototype.divRound=function(z){var Y=this.divmod(z);if(Y.mod.isZero())return Y.div;var q=0!==Y.div.negative?Y.mod.isub(z):Y.mod,U=z.ushrn(1),Z=z.andln(1),X=q.cmp(U);return X<0||1===Z&&0===X?Y.div:0!==Y.div.negative?Y.div.isubn(1):Y.div.iaddn(1)},c.prototype.modn=function(z){o(z<=67108863);for(var Y=67108864%z,q=0,U=this.length-1;U>=0;U--)q=(Y*q+(0|this.words[U]))%z;return q},c.prototype.idivn=function(z){o(z<=67108863);for(var Y=0,q=this.length-1;q>=0;q--){var U=(0|this.words[q])+67108864*Y;this.words[q]=U/z|0,Y=U%z}return this.strip()},c.prototype.divn=function(z){return this.clone().idivn(z)},c.prototype.egcd=function(z){o(0===z.negative),o(!z.isZero());var Y=this,q=z.clone();Y=0!==Y.negative?Y.umod(z):Y.clone();for(var U=new c(1),Z=new c(0),X=new c(0),se=new c(1),re=0;Y.isEven()&&q.isEven();)Y.iushrn(1),q.iushrn(1),++re;for(var ee=q.clone(),K=Y.clone();!Y.isZero();){for(var ne=0,ae=1;!(Y.words[0]&ae)&&ne<26;++ne,ae<<=1);if(ne>0)for(Y.iushrn(ne);ne-- >0;)(U.isOdd()||Z.isOdd())&&(U.iadd(ee),Z.isub(K)),U.iushrn(1),Z.iushrn(1);for(var ue=0,he=1;!(q.words[0]&he)&&ue<26;++ue,he<<=1);if(ue>0)for(q.iushrn(ue);ue-- >0;)(X.isOdd()||se.isOdd())&&(X.iadd(ee),se.isub(K)),X.iushrn(1),se.iushrn(1);Y.cmp(q)>=0?(Y.isub(q),U.isub(X),Z.isub(se)):(q.isub(Y),X.isub(U),se.isub(Z))}return{a:X,b:se,gcd:q.iushln(re)}},c.prototype._invmp=function(z){o(0===z.negative),o(!z.isZero());var Y=this,q=z.clone();Y=0!==Y.negative?Y.umod(z):Y.clone();for(var U,Z=new c(1),X=new c(0),se=q.clone();Y.cmpn(1)>0&&q.cmpn(1)>0;){for(var re=0,ee=1;!(Y.words[0]&ee)&&re<26;++re,ee<<=1);if(re>0)for(Y.iushrn(re);re-- >0;)Z.isOdd()&&Z.iadd(se),Z.iushrn(1);for(var K=0,ne=1;!(q.words[0]&ne)&&K<26;++K,ne<<=1);if(K>0)for(q.iushrn(K);K-- >0;)X.isOdd()&&X.iadd(se),X.iushrn(1);Y.cmp(q)>=0?(Y.isub(q),Z.isub(X)):(q.isub(Y),X.isub(Z))}return(U=0===Y.cmpn(1)?Z:X).cmpn(0)<0&&U.iadd(z),U},c.prototype.gcd=function(z){if(this.isZero())return z.abs();if(z.isZero())return this.abs();var Y=this.clone(),q=z.clone();Y.negative=0,q.negative=0;for(var U=0;Y.isEven()&&q.isEven();U++)Y.iushrn(1),q.iushrn(1);for(;;){for(;Y.isEven();)Y.iushrn(1);for(;q.isEven();)q.iushrn(1);var Z=Y.cmp(q);if(Z<0){var X=Y;Y=q,q=X}else if(0===Z||0===q.cmpn(1))break;Y.isub(q)}return q.iushln(U)},c.prototype.invm=function(z){return this.egcd(z).a.umod(z)},c.prototype.isEven=function(){return 0==(1&this.words[0])},c.prototype.isOdd=function(){return 1==(1&this.words[0])},c.prototype.andln=function(z){return this.words[0]&z},c.prototype.bincn=function(z){o("number"==typeof z);var Y=z%26,q=(z-Y)/26,U=1<<Y;if(this.length<=q)return this._expand(q+1),this.words[q]|=U,this;for(var Z=U,X=q;0!==Z&&X<this.length;X++){var se=0|this.words[X];Z=(se+=Z)>>>26,this.words[X]=se&=67108863}return 0!==Z&&(this.words[X]=Z,this.length++),this},c.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},c.prototype.cmpn=function(z){var Y,q=z<0;if(0!==this.negative&&!q)return-1;if(0===this.negative&&q)return 1;if(this.strip(),this.length>1)Y=1;else{q&&(z=-z),o(z<=67108863,"Number is too big");var U=0|this.words[0];Y=U===z?0:U<z?-1:1}return 0!==this.negative?0|-Y:Y},c.prototype.cmp=function(z){if(0!==this.negative&&0===z.negative)return-1;if(0===this.negative&&0!==z.negative)return 1;var Y=this.ucmp(z);return 0!==this.negative?0|-Y:Y},c.prototype.ucmp=function(z){if(this.length>z.length)return 1;if(this.length<z.length)return-1;for(var Y=0,q=this.length-1;q>=0;q--){var U=0|this.words[q],Z=0|z.words[q];if(U!==Z){U<Z?Y=-1:U>Z&&(Y=1);break}}return Y},c.prototype.gtn=function(z){return 1===this.cmpn(z)},c.prototype.gt=function(z){return 1===this.cmp(z)},c.prototype.gten=function(z){return this.cmpn(z)>=0},c.prototype.gte=function(z){return this.cmp(z)>=0},c.prototype.ltn=function(z){return-1===this.cmpn(z)},c.prototype.lt=function(z){return-1===this.cmp(z)},c.prototype.lten=function(z){return this.cmpn(z)<=0},c.prototype.lte=function(z){return this.cmp(z)<=0},c.prototype.eqn=function(z){return 0===this.cmpn(z)},c.prototype.eq=function(z){return 0===this.cmp(z)},c.red=function(z){return new B(z)},c.prototype.toRed=function(z){return o(!this.red,"Already a number in reduction context"),o(0===this.negative,"red works only with positives"),z.convertTo(this)._forceRed(z)},c.prototype.fromRed=function(){return o(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},c.prototype._forceRed=function(z){return this.red=z,this},c.prototype.forceRed=function(z){return o(!this.red,"Already a number in reduction context"),this._forceRed(z)},c.prototype.redAdd=function(z){return o(this.red,"redAdd works only with red numbers"),this.red.add(this,z)},c.prototype.redIAdd=function(z){return o(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,z)},c.prototype.redSub=function(z){return o(this.red,"redSub works only with red numbers"),this.red.sub(this,z)},c.prototype.redISub=function(z){return o(this.red,"redISub works only with red numbers"),this.red.isub(this,z)},c.prototype.redShl=function(z){return o(this.red,"redShl works only with red numbers"),this.red.shl(this,z)},c.prototype.redMul=function(z){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,z),this.red.mul(this,z)},c.prototype.redIMul=function(z){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,z),this.red.imul(this,z)},c.prototype.redSqr=function(){return o(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},c.prototype.redISqr=function(){return o(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},c.prototype.redSqrt=function(){return o(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},c.prototype.redInvm=function(){return o(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},c.prototype.redNeg=function(){return o(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},c.prototype.redPow=function(z){return o(this.red&&!z.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,z)};var C={k256:null,p224:null,p192:null,p25519:null};function k(z,Y){this.name=z,this.p=new c(Y,16),this.n=this.p.bitLength(),this.k=new c(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function P(){k.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function R(){k.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function L(){k.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function N(){k.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function B(z){if("string"==typeof z){var Y=c._prime(z);this.m=Y.p,this.prime=Y}else o(z.gtn(1),"modulus must be greater than 1"),this.m=z,this.prime=null}function J(z){B.call(this,z),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new c(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}k.prototype._tmp=function(){var z=new c(null);return z.words=new Array(Math.ceil(this.n/13)),z},k.prototype.ireduce=function(z){var Y,q=z;do{this.split(q,this.tmp),Y=(q=(q=this.imulK(q)).iadd(this.tmp)).bitLength()}while(Y>this.n);var U=Y<this.n?-1:q.ucmp(this.p);return 0===U?(q.words[0]=0,q.length=1):U>0?q.isub(this.p):void 0!==q.strip?q.strip():q._strip(),q},k.prototype.split=function(z,Y){z.iushrn(this.n,0,Y)},k.prototype.imulK=function(z){return z.imul(this.k)},l(P,k),P.prototype.split=function(z,Y){for(var q=4194303,U=Math.min(z.length,9),Z=0;Z<U;Z++)Y.words[Z]=z.words[Z];if(Y.length=U,z.length<=9)return z.words[0]=0,void(z.length=1);var X=z.words[9];for(Y.words[Y.length++]=X&q,Z=10;Z<z.length;Z++){var se=0|z.words[Z];z.words[Z-10]=(se&q)<<4|X>>>22,X=se}z.words[Z-10]=X>>>=22,z.length-=0===X&&z.length>10?10:9},P.prototype.imulK=function(z){z.words[z.length]=0,z.words[z.length+1]=0,z.length+=2;for(var Y=0,q=0;q<z.length;q++){var U=0|z.words[q];z.words[q]=67108863&(Y+=977*U),Y=64*U+(Y/67108864|0)}return 0===z.words[z.length-1]&&(z.length--,0===z.words[z.length-1]&&z.length--),z},l(R,k),l(L,k),l(N,k),N.prototype.imulK=function(z){for(var Y=0,q=0;q<z.length;q++){var U=19*(0|z.words[q])+Y,Z=67108863&U;U>>>=26,z.words[q]=Z,Y=U}return 0!==Y&&(z.words[z.length++]=Y),z},c._prime=function(z){if(C[z])return C[z];var Y;if("k256"===z)Y=new P;else if("p224"===z)Y=new R;else if("p192"===z)Y=new L;else{if("p25519"!==z)throw new Error("Unknown prime "+z);Y=new N}return C[z]=Y,Y},B.prototype._verify1=function(z){o(0===z.negative,"red works only with positives"),o(z.red,"red works only with red numbers")},B.prototype._verify2=function(z,Y){o(0==(z.negative|Y.negative),"red works only with positives"),o(z.red&&z.red===Y.red,"red works only with red numbers")},B.prototype.imod=function(z){return this.prime?this.prime.ireduce(z)._forceRed(this):z.umod(this.m)._forceRed(this)},B.prototype.neg=function(z){return z.isZero()?z.clone():this.m.sub(z)._forceRed(this)},B.prototype.add=function(z,Y){this._verify2(z,Y);var q=z.add(Y);return q.cmp(this.m)>=0&&q.isub(this.m),q._forceRed(this)},B.prototype.iadd=function(z,Y){this._verify2(z,Y);var q=z.iadd(Y);return q.cmp(this.m)>=0&&q.isub(this.m),q},B.prototype.sub=function(z,Y){this._verify2(z,Y);var q=z.sub(Y);return q.cmpn(0)<0&&q.iadd(this.m),q._forceRed(this)},B.prototype.isub=function(z,Y){this._verify2(z,Y);var q=z.isub(Y);return q.cmpn(0)<0&&q.iadd(this.m),q},B.prototype.shl=function(z,Y){return this._verify1(z),this.imod(z.ushln(Y))},B.prototype.imul=function(z,Y){return this._verify2(z,Y),this.imod(z.imul(Y))},B.prototype.mul=function(z,Y){return this._verify2(z,Y),this.imod(z.mul(Y))},B.prototype.isqr=function(z){return this.imul(z,z.clone())},B.prototype.sqr=function(z){return this.mul(z,z)},B.prototype.sqrt=function(z){if(z.isZero())return z.clone();var Y=this.m.andln(3);if(o(Y%2==1),3===Y){var q=this.m.add(new c(1)).iushrn(2);return this.pow(z,q)}for(var U=this.m.subn(1),Z=0;!U.isZero()&&0===U.andln(1);)Z++,U.iushrn(1);o(!U.isZero());var X=new c(1).toRed(this),se=X.redNeg(),re=this.m.subn(1).iushrn(1),ee=this.m.bitLength();for(ee=new c(2*ee*ee).toRed(this);0!==this.pow(ee,re).cmp(se);)ee.redIAdd(se);for(var K=this.pow(ee,U),ne=this.pow(z,U.addn(1).iushrn(1)),ae=this.pow(z,U),ue=Z;0!==ae.cmp(X);){for(var he=ae,pe=0;0!==he.cmp(X);pe++)he=he.redSqr();o(pe<ue);var ge=this.pow(K,new c(1).iushln(ue-pe-1));ne=ne.redMul(ge),K=ge.redSqr(),ae=ae.redMul(K),ue=pe}return ne},B.prototype.invm=function(z){var Y=z._invmp(this.m);return 0!==Y.negative?(Y.negative=0,this.imod(Y).redNeg()):this.imod(Y)},B.prototype.pow=function(z,Y){if(Y.isZero())return new c(1).toRed(this);if(0===Y.cmpn(1))return z.clone();var q=new Array(16);q[0]=new c(1).toRed(this),q[1]=z;for(var U=2;U<q.length;U++)q[U]=this.mul(q[U-1],z);var Z=q[0],X=0,se=0,re=Y.bitLength()%26;for(0===re&&(re=26),U=Y.length-1;U>=0;U--){for(var ee=Y.words[U],K=re-1;K>=0;K--){var ne=ee>>K&1;Z!==q[0]&&(Z=this.sqr(Z)),0!==ne||0!==X?(X<<=1,X|=ne,(4==++se||0===U&&0===K)&&(Z=this.mul(Z,q[X]),se=0,X=0)):se=0}re=26}return Z},B.prototype.convertTo=function(z){var Y=z.umod(this.m);return Y===z?Y.clone():Y},B.prototype.convertFrom=function(z){var Y=z.clone();return Y.red=null,Y},c.mont=function(z){return new J(z)},l(J,B),J.prototype.convertTo=function(z){return this.imod(z.ushln(this.shift))},J.prototype.convertFrom=function(z){var Y=this.imod(z.mul(this.rinv));return Y.red=null,Y},J.prototype.imul=function(z,Y){if(z.isZero()||Y.isZero())return z.words[0]=0,z.length=1,z;var q=z.imul(Y),U=q.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),Z=q.isub(U).iushrn(this.shift),X=Z;return Z.cmp(this.m)>=0?X=Z.isub(this.m):Z.cmpn(0)<0&&(X=Z.iadd(this.m)),X._forceRed(this)},J.prototype.mul=function(z,Y){if(z.isZero()||Y.isZero())return new c(0)._forceRed(this);var q=z.mul(Y),U=q.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),Z=q.isub(U).iushrn(this.shift),X=Z;return Z.cmp(this.m)>=0?X=Z.isub(this.m):Z.cmpn(0)<0&&(X=Z.iadd(this.m)),X._forceRed(this)},J.prototype.invm=function(z){return this.imod(z._invmp(this.m).mul(this.r2))._forceRed(this)}}(y=i.nmd(y),this)},2692:function(y){"use strict";y.exports=function(u){var i,s,a,o=u.length,l=0;for(i=0;i<o;++i)l+=u[i].length;var c=new Array(l),h=0;for(i=0;i<o;++i){var v=u[i],p=v.length;for(s=0;s<p;++s){var T=c[h++]=new Array(p-1),_=0;for(a=0;a<p;++a)a!==s&&(T[_++]=v[a]);if(1&s){var g=T[1];T[1]=T[0],T[0]=g}}}return c}},2569:function(y,u,i){"use strict";y.exports=function(T,_,g){switch(arguments.length){case 1:return s=[],v(w=T,w,p,!0),s;case 2:return"function"==typeof _?v(T,T,_,!0):(s=[],v(T,_,p,!1),s);case 3:return v(T,_,g,!1);default:throw new Error("box-intersect: Invalid arguments")}var w};var s,a=i(5306),o=i(1390),l=i(2337);function c(T,_){for(var g=0;g<T;++g)if(!(_[g]<=_[g+T]))return!0;return!1}function h(T,_,g,w){for(var x=0,b=0,A=0,m=T.length;A<m;++A){var C=T[A];if(!c(_,C)){for(var k=0;k<2*_;++k)g[x++]=C[k];w[b++]=A}}return b}function v(T,_,g,w){var x=T.length,b=_.length;if(!(x<=0||b<=0)){var A=T[0].length>>>1;if(!(A<=0)){var m,C=a.mallocDouble(2*A*x),k=a.mallocInt32(x);if((x=h(T,A,C,k))>0){if(1===A&&w)o.init(x),m=o.sweepComplete(A,g,0,x,C,k,0,x,C,k);else{var P=a.mallocDouble(2*A*b),R=a.mallocInt32(b);(b=h(_,A,P,R))>0&&(o.init(x+b),m=1===A?o.sweepBipartite(A,g,0,x,C,k,0,b,P,R):l(A,g,w,x,C,k,b,P,R),a.free(P),a.free(R))}a.free(C),a.free(k)}return m}}}function p(T,_){s.push([T,_])}},7333:function(y,u){"use strict";function i(s){return s?function(a,o,l,c,h,v,p,T,_,g,w){return h-c>_-T?function(x,b,A,m,C,k,P,R,L,N,B){for(var J=2*x,z=m,Y=J*m;z<C;++z,Y+=J){var q=k[b+Y],U=k[b+Y+x],Z=P[z];e:for(var X=R,se=J*R;X<L;++X,se+=J){var K=B[X];if(!(N[b+se+x]<q||U<N[b+se])){for(var ne=b+1;ne<x;++ne)if(k[ne+x+Y]<N[ne+se]||N[ne+x+se]<k[ne+Y])continue e;var ge=A(Z,K);if(void 0!==ge)return ge}}}}(a,o,l,c,h,v,p,T,_,g,w):function(x,b,A,m,C,k,P,R,L,N,B){for(var J=2*x,z=R,Y=J*R;z<L;++z,Y+=J){var q=N[b+Y],U=N[b+Y+x],Z=B[z];e:for(var X=m,se=J*m;X<C;++X,se+=J){var K=P[X];if(!(U<k[b+se]||k[b+se+x]<q)){for(var ne=b+1;ne<x;++ne)if(k[ne+x+se]<N[ne+Y]||N[ne+x+Y]<k[ne+se])continue e;var ge=A(K,Z);if(void 0!==ge)return ge}}}}(a,o,l,c,h,v,p,T,_,g,w)}:function(a,o,l,c,h,v,p,T,_,g,w,x){return v-h>g-_?c?function(b,A,m,C,k,P,R,L,N,B,J){for(var z=2*b,Y=C,q=z*C;Y<k;++Y,q+=z){var U=P[A+q],Z=P[A+q+b],X=R[Y];e:for(var se=L,re=z*L;se<N;++se,re+=z){var ee=B[A+re],K=J[se];if(!(ee<=U||Z<ee)){for(var ne=A+1;ne<b;++ne)if(P[ne+b+q]<B[ne+re]||B[ne+b+re]<P[ne+q])continue e;var ge=m(K,X);if(void 0!==ge)return ge}}}}(a,o,l,h,v,p,T,_,g,w,x):function(b,A,m,C,k,P,R,L,N,B,J){for(var z=2*b,Y=C,q=z*C;Y<k;++Y,q+=z){var U=P[A+q],Z=P[A+q+b],X=R[Y];e:for(var se=L,re=z*L;se<N;++se,re+=z){var ee=B[A+re],K=J[se];if(!(ee<U||Z<ee)){for(var ne=A+1;ne<b;++ne)if(P[ne+b+q]<B[ne+re]||B[ne+b+re]<P[ne+q])continue e;var ge=m(X,K);if(void 0!==ge)return ge}}}}(a,o,l,h,v,p,T,_,g,w,x):c?function(b,A,m,C,k,P,R,L,N,B,J){for(var z=2*b,Y=L,q=z*L;Y<N;++Y,q+=z){var U=B[A+q],Z=J[Y];e:for(var X=C,se=z*C;X<k;++X,se+=z){var K=R[X];if(!(U<=P[A+se]||P[A+se+b]<U)){for(var ne=A+1;ne<b;++ne)if(P[ne+b+se]<B[ne+q]||B[ne+b+q]<P[ne+se])continue e;var ge=m(Z,K);if(void 0!==ge)return ge}}}}(a,o,l,h,v,p,T,_,g,w,x):function(b,A,m,C,k,P,R,L,N,B,J){for(var z=2*b,Y=L,q=z*L;Y<N;++Y,q+=z){var U=B[A+q],Z=J[Y];e:for(var X=C,se=z*C;X<k;++X,se+=z){var K=R[X];if(!(U<P[A+se]||P[A+se+b]<U)){for(var ne=A+1;ne<b;++ne)if(P[ne+b+se]<B[ne+q]||B[ne+b+q]<P[ne+se])continue e;var ge=m(K,Z);if(void 0!==ge)return ge}}}}(a,o,l,h,v,p,T,_,g,w,x)}}u.partial=i(!1),u.full=i(!0)},2337:function(y,u,i){"use strict";y.exports=function(z,Y,q,U,Z,X,se,re,ee){!function(We,Ge){var Ke=8*a.log2(Ge+1)*(We+1)|0,tt=a.nextPow2(k*Ke);R.length<tt&&(s.free(R),R=s.mallocInt32(tt));var st=a.nextPow2(P*Ke);L.length<st&&(s.free(L),L=s.mallocDouble(st))}(z,U+se);var K,ne=0,ae=2*z;for(N(ne++,0,0,U,0,se,q?16:0,-1/0,1/0),q||N(ne++,0,0,se,0,U,1,-1/0,1/0);ne>0;){var ue=(ne-=1)*k,he=R[ue],pe=R[ue+1],ge=R[ue+2],xe=R[ue+3],Se=R[ue+4],Te=R[ue+5],ye=ne*P,we=L[ye],ze=L[ye+1],ke=1&Te,Ee=!!(16&Te),me=Z,de=X,ce=re,Ae=ee;if(ke&&(me=re,de=ee,ce=Z,Ae=X),!(2&Te&&pe>=(ge=b(z,he,pe,ge,me,de,ze))||4&Te&&(pe=A(z,he,pe,ge,me,de,we))>=ge)){var Ne=ge-pe,De=Se-xe;if(Ee){if(z*Ne*(Ne+De)<g){if(void 0!==(K=h.scanComplete(z,he,Y,pe,ge,me,de,xe,Se,ce,Ae)))return K;continue}}else{if(z*Math.min(Ne,De)<T){if(void 0!==(K=l(z,he,Y,ke,pe,ge,me,de,xe,Se,ce,Ae)))return K;continue}if(z*Ne*De<_){if(void 0!==(K=h.scanBipartite(z,he,Y,ke,pe,ge,me,de,xe,Se,ce,Ae)))return K;continue}}var Ue=w(z,he,pe,ge,me,de,we,ze);if(pe<Ue)if(z*(Ue-pe)<T){if(void 0!==(K=c(z,he+1,Y,pe,Ue,me,de,xe,Se,ce,Ae)))return K}else if(he===z-2){if(void 0!==(K=ke?h.sweepBipartite(z,Y,xe,Se,ce,Ae,pe,Ue,me,de):h.sweepBipartite(z,Y,pe,Ue,me,de,xe,Se,ce,Ae)))return K}else N(ne++,he+1,pe,Ue,xe,Se,ke,-1/0,1/0),N(ne++,he+1,xe,Se,pe,Ue,1^ke,-1/0,1/0);if(Ue<ge){var Ye=v(z,he,xe,Se,ce,Ae),_e=ce[ae*Ye+he],Pe=x(z,he,Ye,Se,ce,Ae,_e);if(Pe<Se&&N(ne++,he,Ue,ge,Pe,Se,(4|ke)+(Ee?16:0),_e,ze),xe<Ye&&N(ne++,he,Ue,ge,xe,Ye,(2|ke)+(Ee?16:0),we,_e),Ye+1===Pe){if(void 0!==(K=Ee?J(z,he,Y,Ue,ge,me,de,Ye,ce,Ae[Ye]):B(z,he,Y,ke,Ue,ge,me,de,Ye,ce,Ae[Ye])))return K}else if(Ye<Pe){var Ie;if(Ee){if(Ue<(Ie=m(z,he,Ue,ge,me,de,_e))){var Be=x(z,he,Ue,Ie,me,de,_e);if(he===z-2){if(Ue<Be&&void 0!==(K=h.sweepComplete(z,Y,Ue,Be,me,de,Ye,Pe,ce,Ae))||Be<Ie&&void 0!==(K=h.sweepBipartite(z,Y,Be,Ie,me,de,Ye,Pe,ce,Ae)))return K}else Ue<Be&&N(ne++,he+1,Ue,Be,Ye,Pe,16,-1/0,1/0),Be<Ie&&(N(ne++,he+1,Be,Ie,Ye,Pe,0,-1/0,1/0),N(ne++,he+1,Ye,Pe,Be,Ie,1,-1/0,1/0))}}else Ue<(Ie=ke?C(z,he,Ue,ge,me,de,_e):m(z,he,Ue,ge,me,de,_e))&&(he===z-2?K=ke?h.sweepBipartite(z,Y,Ye,Pe,ce,Ae,Ue,Ie,me,de):h.sweepBipartite(z,Y,Ue,Ie,me,de,Ye,Pe,ce,Ae):(N(ne++,he+1,Ue,Ie,Ye,Pe,ke,-1/0,1/0),N(ne++,he+1,Ye,Pe,Ue,Ie,1^ke,-1/0,1/0)))}}}}};var s=i(5306),a=i(2288),o=i(7333),l=o.partial,c=o.full,h=i(1390),v=i(2464),p=i(122),T=128,_=1<<22,g=1<<22,w=p("!(lo>=p0)&&!(p1>=hi)"),x=p("lo===p0"),b=p("lo<p0"),A=p("hi<=p0"),m=p("lo<=p0&&p0<=hi"),C=p("lo<p0&&p0<=hi"),k=6,P=2,R=s.mallocInt32(1024),L=s.mallocDouble(1024);function N(z,Y,q,U,Z,X,se,re,ee){var K=k*z;R[K]=Y,R[K+1]=q,R[K+2]=U,R[K+3]=Z,R[K+4]=X,R[K+5]=se;var ne=P*z;L[ne]=re,L[ne+1]=ee}function B(z,Y,q,U,Z,X,se,re,ee,K,ne){var ae=2*z,ue=ee*ae,he=K[ue+Y];e:for(var pe=Z,ge=Z*ae;pe<X;++pe,ge+=ae){var xe=se[ge+Y],Se=se[ge+Y+z];if(!(he<xe||Se<he||U&&he===xe)){for(var Te,ye=re[pe],we=Y+1;we<z;++we)if(xe=se[ge+we],(Se=se[ge+we+z])<K[ue+we]||K[ue+we+z]<xe)continue e;if(void 0!==(Te=U?q(ne,ye):q(ye,ne)))return Te}}}function J(z,Y,q,U,Z,X,se,re,ee,K){var ne=2*z,ae=re*ne,ue=ee[ae+Y];e:for(var he=U,pe=U*ne;he<Z;++he,pe+=ne){var ge=se[he];if(ge!==K){var xe=X[pe+Y],Se=X[pe+Y+z];if(!(ue<xe||Se<ue)){for(var Te=Y+1;Te<z;++Te)if(xe=X[pe+Te],(Se=X[pe+Te+z])<ee[ae+Te]||ee[ae+Te+z]<xe)continue e;var ze=q(ge,K);if(void 0!==ze)return ze}}}}},2464:function(y,u,i){"use strict";y.exports=function(l,c,h,v,p,T){if(v<=h+1)return h;for(var _=h,g=v,w=v+h>>>1,x=2*l,b=w,A=p[x*w+c];_<g;){if(g-_<a){o(l,c,_,g,p,T),A=p[x*w+c];break}var m=g-_,C=Math.random()*m+_|0,k=p[x*C+c],P=Math.random()*m+_|0,R=p[x*P+c],L=Math.random()*m+_|0,N=p[x*L+c];k<=R?N>=R?(b=P,A=R):k>=N?(b=C,A=k):(b=L,A=N):R>=N?(b=P,A=R):N>=k?(b=C,A=k):(b=L,A=N);for(var B=x*(g-1),J=x*b,z=0;z<x;++z,++B,++J){var Y=p[B];p[B]=p[J],p[J]=Y}var q=T[g-1];for(T[g-1]=T[b],T[b]=q,B=x*(g-1),J=x*(b=s(l,c,_,g-1,p,T,A)),z=0;z<x;++z,++B,++J)Y=p[B],p[B]=p[J],p[J]=Y;if(q=T[g-1],T[g-1]=T[b],T[b]=q,w<b){for(g=b-1;_<g&&p[x*(g-1)+c]===A;)g-=1;g+=1}else{if(!(b<w))break;for(_=b+1;_<g&&p[x*_+c]===A;)_+=1}}return s(l,c,h,w,p,T,p[x*w+c])};var s=i(122)("lo<p0"),a=8;function o(l,c,h,v,p,T){for(var _=2*l,g=_*(h+1)+c,w=h+1;w<v;++w,g+=_)for(var x=p[g],b=w,A=_*(w-1);b>h&&p[A+c]>x;--b,A-=_){for(var m=A,C=A+_,k=0;k<_;++k,++m,++C){var P=p[m];p[m]=p[C],p[C]=P}var R=T[b];T[b]=T[b-1],T[b-1]=R}}},122:function(y){"use strict";y.exports=function(i){return u[i]};var u={"lo===p0":function(i,s,a,o,l,c,h){for(var v=2*i,p=v*a,T=p,_=a,g=s,w=a;o>w;++w,p+=v)if(l[p+g]===h)if(_===w)_+=1,T+=v;else{for(var x=0;v>x;++x){var b=l[p+x];l[p+x]=l[T],l[T++]=b}var A=c[w];c[w]=c[_],c[_++]=A}return _},"lo<p0":function(i,s,a,o,l,c,h){for(var v=2*i,p=v*a,T=p,_=a,g=s,w=a;o>w;++w,p+=v)if(l[p+g]<h)if(_===w)_+=1,T+=v;else{for(var x=0;v>x;++x){var b=l[p+x];l[p+x]=l[T],l[T++]=b}var A=c[w];c[w]=c[_],c[_++]=A}return _},"lo<=p0":function(i,s,a,o,l,c,h){for(var v=2*i,p=v*a,T=p,_=a,g=i+s,w=a;o>w;++w,p+=v)if(l[p+g]<=h)if(_===w)_+=1,T+=v;else{for(var x=0;v>x;++x){var b=l[p+x];l[p+x]=l[T],l[T++]=b}var A=c[w];c[w]=c[_],c[_++]=A}return _},"hi<=p0":function(i,s,a,o,l,c,h){for(var v=2*i,p=v*a,T=p,_=a,g=i+s,w=a;o>w;++w,p+=v)if(l[p+g]<=h)if(_===w)_+=1,T+=v;else{for(var x=0;v>x;++x){var b=l[p+x];l[p+x]=l[T],l[T++]=b}var A=c[w];c[w]=c[_],c[_++]=A}return _},"lo<p0&&p0<=hi":function(i,s,a,o,l,c,h){for(var v=2*i,p=v*a,T=p,_=a,g=s,w=i+s,x=a;o>x;++x,p+=v)if(l[p+g]<h&&h<=l[p+w])if(_===x)_+=1,T+=v;else{for(var m=0;v>m;++m){var C=l[p+m];l[p+m]=l[T],l[T++]=C}var k=c[x];c[x]=c[_],c[_++]=k}return _},"lo<=p0&&p0<=hi":function(i,s,a,o,l,c,h){for(var v=2*i,p=v*a,T=p,_=a,g=s,w=i+s,x=a;o>x;++x,p+=v)if(l[p+g]<=h&&h<=l[p+w])if(_===x)_+=1,T+=v;else{for(var m=0;v>m;++m){var C=l[p+m];l[p+m]=l[T],l[T++]=C}var k=c[x];c[x]=c[_],c[_++]=k}return _},"!(lo>=p0)&&!(p1>=hi)":function(i,s,a,o,l,c,h,v){for(var p=2*i,T=p*a,_=T,g=a,w=s,x=i+s,b=a;o>b;++b,T+=p)if(!(l[T+w]>=h||v>=l[T+x]))if(g===b)g+=1,_+=p;else{for(var C=0;p>C;++C){var k=l[T+C];l[T+C]=l[_],l[_++]=k}var P=c[b];c[b]=c[g],c[g++]=P}return g}}},309:function(y){"use strict";y.exports=function(p,T){T<=4*u?i(0,T-1,p):v(0,T-1,p)};var u=32;function i(p,T,_){for(var g=2*(p+1),w=p+1;w<=T;++w){for(var x=_[g++],b=_[g++],A=w,m=g-2;A-- >p;){var C=_[m-2],k=_[m-1];if(C<x||C===x&&k<b)break;_[m]=C,_[m+1]=k,m-=2}_[m]=x,_[m+1]=b}}function s(p,T,_){var g=_[p*=2],w=_[p+1];_[p]=_[T*=2],_[p+1]=_[T+1],_[T]=g,_[T+1]=w}function a(p,T,_){_[p*=2]=_[T*=2],_[p+1]=_[T+1]}function o(p,T,_,g){_*=2;var w=g[p*=2],x=g[p+1];g[p]=g[T*=2],g[p+1]=g[T+1],g[T]=g[_],g[T+1]=g[_+1],g[_]=w,g[_+1]=x}function l(p,T,_,g,w){w[p*=2]=w[T*=2],w[T]=_,w[p+1]=w[T+1],w[T+1]=g}function c(p,T,_){var g=_[p*=2],w=_[T*=2];return!(g<w)&&(g!==w||_[p+1]>_[T+1])}function h(p,T,_,g){var w=g[p*=2];return w<T||w===T&&g[p+1]<_}function v(p,T,_){var g=(T-p+1)/6|0,w=p+g,x=T-g,b=p+T>>1,A=b-g,m=b+g,C=w,k=A,P=b,R=m,L=x,N=p+1,B=T-1,J=0;c(C,k,_)&&(J=C,C=k,k=J),c(R,L,_)&&(J=R,R=L,L=J),c(C,P,_)&&(J=C,C=P,P=J),c(k,P,_)&&(J=k,k=P,P=J),c(C,R,_)&&(J=C,C=R,R=J),c(P,R,_)&&(J=P,P=R,R=J),c(k,L,_)&&(J=k,k=L,L=J),c(k,P,_)&&(J=k,k=P,P=J),c(R,L,_)&&(J=R,R=L,L=J);for(var z=_[2*k],Y=_[2*k+1],q=_[2*R],U=_[2*R+1],Z=2*C,X=2*P,se=2*L,re=2*w,ee=2*b,K=2*x,ne=0;ne<2;++ne){var ue=_[X+ne],he=_[se+ne];_[re+ne]=_[Z+ne],_[ee+ne]=ue,_[K+ne]=he}a(A,p,_),a(m,T,_);for(var pe=N;pe<=B;++pe)if(h(pe,z,Y,_))pe!==N&&s(pe,N,_),++N;else if(!h(pe,q,U,_))for(;;){if(h(B,q,U,_)){h(B,z,Y,_)?(o(pe,N,B,_),++N,--B):(s(pe,B,_),--B);break}if(--B<pe)break}l(p,N-1,z,Y,_),l(T,B+1,q,U,_),N-2-p<=u?i(p,N-2,_):v(p,N-2,_),T-(B+2)<=u?i(B+2,T,_):v(B+2,T,_),B-N<=u?i(N,B,_):v(N,B,_)}},1390:function(y,u,i){"use strict";y.exports={init:function(A){var m=a.nextPow2(A);h.length<m&&(s.free(h),h=s.mallocInt32(m)),v.length<m&&(s.free(v),v=s.mallocInt32(m)),p.length<m&&(s.free(p),p=s.mallocInt32(m)),T.length<m&&(s.free(T),T=s.mallocInt32(m)),_.length<m&&(s.free(_),_=s.mallocInt32(m)),g.length<m&&(s.free(g),g=s.mallocInt32(m));var C=8*m;w.length<C&&(s.free(w),w=s.mallocDouble(C))},sweepBipartite:function(A,m,C,k,P,R,L,N,B,J){for(var z=0,Y=2*A,q=A-1,U=Y-1,Z=C;Z<k;++Z){var X=R[Z],se=Y*Z;w[z++]=P[se+q],w[z++]=-(X+1),w[z++]=P[se+U],w[z++]=X}for(Z=L;Z<N;++Z){X=J[Z]+l;var re=Y*Z;w[z++]=B[re+q],w[z++]=-X,w[z++]=B[re+U],w[z++]=X}var ee=z>>>1;o(w,ee);var K=0,ne=0;for(Z=0;Z<ee;++Z){var ae=0|w[2*Z+1];if(ae>=l)x(p,T,ne--,ae=ae-l|0);else if(ae>=0)x(h,v,K--,ae);else if(ae<=-l){ae=-ae-l|0;for(var ue=0;ue<K;++ue)if(void 0!==(he=m(h[ue],ae)))return he;b(p,T,ne++,ae)}else{for(ae=-ae-1|0,ue=0;ue<ne;++ue){var he;if(void 0!==(he=m(ae,p[ue])))return he}b(h,v,K++,ae)}}},sweepComplete:function(A,m,C,k,P,R,L,N,B,J){for(var z=0,Y=2*A,q=A-1,U=Y-1,Z=C;Z<k;++Z){var X=R[Z]+1<<1,se=Y*Z;w[z++]=P[se+q],w[z++]=-X,w[z++]=P[se+U],w[z++]=X}for(Z=L;Z<N;++Z){X=J[Z]+1<<1;var re=Y*Z;w[z++]=B[re+q],w[z++]=1|-X,w[z++]=B[re+U],w[z++]=1|X}var ee=z>>>1;o(w,ee);var K=0,ne=0,ae=0;for(Z=0;Z<ee;++Z){var ue=0|w[2*Z+1],he=1&ue;if(Z<ee-1&&ue>>1==w[2*Z+3]>>1&&(he=2,Z+=1),ue<0){for(var pe=-(ue>>1)-1,ge=0;ge<ae;++ge)if(void 0!==(xe=m(_[ge],pe)))return xe;if(0!==he)for(ge=0;ge<K;++ge)if(void 0!==(xe=m(h[ge],pe)))return xe;if(1!==he)for(ge=0;ge<ne;++ge){var xe;if(void 0!==(xe=m(p[ge],pe)))return xe}0===he?b(h,v,K++,pe):1===he?b(p,T,ne++,pe):2===he&&b(_,g,ae++,pe)}else pe=(ue>>1)-1,0===he?x(h,v,K--,pe):1===he?x(p,T,ne--,pe):2===he&&x(_,g,ae--,pe)}},scanBipartite:function(A,m,C,k,P,R,L,N,B,J,z,Y){var q=0,U=2*A,Z=m,X=m+A,se=1,re=1;k?re=l:se=l;for(var ee=P;ee<R;++ee){var K=ee+se,ne=U*ee;w[q++]=L[ne+Z],w[q++]=-K,w[q++]=L[ne+X],w[q++]=K}for(ee=B;ee<J;++ee)K=ee+re,w[q++]=z[U*ee+Z],w[q++]=-K;var ue=q>>>1;o(w,ue);var he=0;for(ee=0;ee<ue;++ee){var pe=0|w[2*ee+1];if(pe<0){var ge=!1;if((K=-pe)>=l?(ge=!k,K-=l):(ge=!!k,K-=1),ge)b(h,v,he++,K);else{var xe=Y[K],Se=U*K,Te=z[Se+m+1],ye=z[Se+m+1+A];e:for(var we=0;we<he;++we){var ze=h[we],ke=U*ze;if(!(ye<L[ke+m+1]||L[ke+m+1+A]<Te)){for(var Ee=m+2;Ee<A;++Ee)if(z[Se+Ee+A]<L[ke+Ee]||L[ke+Ee+A]<z[Se+Ee])continue e;var me,de=N[ze];if(void 0!==(me=k?C(xe,de):C(de,xe)))return me}}}}else x(h,v,he--,pe-se)}},scanComplete:function(A,m,C,k,P,R,L,N,B,J,z){for(var Y=0,q=2*A,U=m,Z=m+A,X=k;X<P;++X){var se=X+l,re=q*X;w[Y++]=R[re+U],w[Y++]=-se,w[Y++]=R[re+Z],w[Y++]=se}for(X=N;X<B;++X)se=X+1,w[Y++]=J[q*X+U],w[Y++]=-se;var K=Y>>>1;o(w,K);var ne=0;for(X=0;X<K;++X){var ae=0|w[2*X+1];if(ae<0)if((se=-ae)>=l)h[ne++]=se-l;else{var ue=z[se-=1],he=q*se,pe=J[he+m+1],ge=J[he+m+1+A];e:for(var xe=0;xe<ne;++xe){var Se=h[xe],Te=L[Se];if(Te===ue)break;var ye=q*Se;if(!(ge<R[ye+m+1]||R[ye+m+1+A]<pe)){for(var we=m+2;we<A;++we)if(J[he+we+A]<R[ye+we]||R[ye+we+A]<J[he+we])continue e;var ze=C(Te,ue);if(void 0!==ze)return ze}}}else{for(se=ae-l,xe=ne-1;xe>=0;--xe)if(h[xe]===se){for(we=xe+1;we<ne;++we)h[we-1]=h[we];break}--ne}}}};var s=i(5306),a=i(2288),o=i(309),l=1<<28,c=1024,h=s.mallocInt32(c),v=s.mallocInt32(c),p=s.mallocInt32(c),T=s.mallocInt32(c),_=s.mallocInt32(c),g=s.mallocInt32(c),w=s.mallocDouble(8192);function x(A,m,C,k){var P=m[k],R=A[C-1];A[P]=R,m[R]=P}function b(A,m,C,k){A[C]=k,m[k]=C}},7761:function(y,u,i){"use strict";var s=i(9971),a=i(743),o=i(2161),l=i(7098);function c(p){return[Math.min(p[0],p[1]),Math.max(p[0],p[1])]}function h(p,T){return p[0]-T[0]||p[1]-T[1]}function v(p,T,_){return T in p?p[T]:_}y.exports=function(p,T,_){Array.isArray(T)?(_=_||{},T=T||[]):(_=T||{},T=[]);var g=!!v(_,"delaunay",!0),w=!!v(_,"interior",!0),x=!!v(_,"exterior",!0),b=!!v(_,"infinity",!1);if(!w&&!x||0===p.length)return[];var A=s(p,T);if(g||w!==x||b){for(var m=a(p.length,T.map(c).sort(h)),C=0;C<A.length;++C){var k=A[C];m.addTriangle(k[0],k[1],k[2])}return g&&o(p,m),x?w?b?l(m,0,b):m.cells():l(m,1,b):l(m,-1)}return A}},2161:function(y,u,i){"use strict";var s=i(2227)[4];function a(o,l,c,h,v,p){var T=l.opposite(h,v);if(!(T<0)){if(v<h){var _=h;h=v,v=_,_=p,p=T,T=_}l.isConstraint(h,v)||s(o[h],o[v],o[p],o[T])<0&&c.push(h,v)}}i(5070),y.exports=function(o,l){for(var c=[],h=o.length,v=l.stars,p=0;p<h;++p)for(var T=v[p],_=1;_<T.length;_+=2)if(!((b=T[_])<p||l.isConstraint(p,b))){for(var g=T[_-1],w=-1,x=1;x<T.length;x+=2)if(T[x-1]===b){w=T[x];break}w<0||s(o[p],o[b],o[g],o[w])<0&&c.push(p,b)}for(;c.length>0;){for(var b=c.pop(),A=(g=-1,w=-1,T=v[p=c.pop()],1);A<T.length;A+=2){var m=T[A-1],C=T[A];m===b?w=C:C===b&&(g=m)}g<0||w<0||s(o[p],o[b],o[g],o[w])>=0||(l.flip(p,b),a(o,l,c,g,p,w),a(o,l,c,p,w,g),a(o,l,c,w,b,g),a(o,l,c,b,g,w))}}},7098:function(y,u,i){"use strict";var s,a=i(5070);function o(c,h,v,p,T,_,g){this.cells=c,this.neighbor=h,this.flags=p,this.constraint=v,this.active=T,this.next=_,this.boundary=g}function l(c,h){return c[0]-h[0]||c[1]-h[1]||c[2]-h[2]}y.exports=function(c,h,v){var p=function(L,N){for(var B=L.cells(),J=B.length,z=0;z<J;++z){var Y=(ae=B[z])[0],q=ae[1],U=ae[2];q<U?q<Y&&(ae[0]=q,ae[1]=U,ae[2]=Y):U<Y&&(ae[0]=U,ae[1]=Y,ae[2]=q)}B.sort(l);var Z=new Array(J);for(z=0;z<Z.length;++z)Z[z]=0;var X=[],se=[],re=new Array(3*J),ee=new Array(3*J),K=null;N&&(K=[]);var ne=new o(B,re,ee,Z,X,se,K);for(z=0;z<J;++z)for(var ae=B[z],ue=0;ue<3;++ue){var he=re[3*z+ue]=ne.locate(q=ae[(ue+1)%3],Y=ae[ue],L.opposite(q,Y)),pe=ee[3*z+ue]=L.isConstraint(Y,q);he<0&&(pe?se.push(z):(X.push(z),Z[z]=1),N&&K.push([q,Y,-1]))}return ne}(c,v);if(0===h)return v?p.cells.concat(p.boundary):p.cells;for(var T=1,_=p.active,g=p.next,w=p.flags,x=p.cells,b=p.constraint,A=p.neighbor;_.length>0||g.length>0;){for(;_.length>0;){var m=_.pop();if(w[m]!==-T){w[m]=T;for(var C=0;C<3;++C){var k=A[3*m+C];k>=0&&0===w[k]&&(b[3*m+C]?g.push(k):(_.push(k),w[k]=T))}}}var P=g;g=_,_=P,g.length=0,T=-T}var R=function(L,N,B){for(var J=0,z=0;z<L.length;++z)N[z]===B&&(L[J++]=L[z]);return L.length=J,L}(x,w,h);return v?R.concat(p.boundary):R},o.prototype.locate=(s=[0,0,0],function(c,h,v){var p=c,T=h,_=v;return h<v?h<c&&(p=h,T=v,_=c):v<c&&(p=v,T=c,_=h),p<0?-1:(s[0]=p,s[1]=T,s[2]=_,a.eq(this.cells,s,l))})},9971:function(y,u,i){"use strict";var s=i(5070),a=i(417)[3];function o(g,w,x,b,A){this.a=g,this.b=w,this.idx=x,this.lowerIds=b,this.upperIds=A}function l(g,w,x,b){this.a=g,this.b=w,this.type=x,this.idx=b}function c(g,w){var x=g.a[0]-w.a[0]||g.a[1]-w.a[1]||g.type-w.type;return x||(0!==g.type&&(x=a(g.a,g.b,w.b))?x:g.idx-w.idx)}function h(g,w){return a(g.a,g.b,w)}function v(g,w,x,b,A){for(var m=s.lt(w,b,h),C=s.gt(w,b,h),k=m;k<C;++k){for(var P=w[k],R=P.lowerIds,L=R.length;L>1&&a(x[R[L-2]],x[R[L-1]],b)>0;)g.push([R[L-1],R[L-2],A]),L-=1;R.length=L,R.push(A);var N=P.upperIds;for(L=N.length;L>1&&a(x[N[L-2]],x[N[L-1]],b)<0;)g.push([N[L-2],N[L-1],A]),L-=1;N.length=L,N.push(A)}}function p(g,w){var x;return(x=g.a[0]<w.a[0]?a(g.a,g.b,w.a):a(w.b,w.a,g.a))?x:(x=w.b[0]<g.b[0]?a(g.a,g.b,w.b):a(w.b,w.a,g.b))||g.idx-w.idx}function T(g,w,x){var b=s.le(g,x,p),A=g[b],m=A.upperIds,C=m[m.length-1];A.upperIds=[C],g.splice(b+1,0,new o(x.a,x.b,x.idx,[C],m))}function _(g,w,x){var b=x.a;x.a=x.b,x.b=b;var A=s.eq(g,x,p);g[A-1].upperIds=g[A].upperIds,g.splice(A,1)}y.exports=function(g,w){for(var x=g.length,b=w.length,A=[],m=0;m<x;++m)A.push(new l(g[m],null,0,m));for(m=0;m<b;++m){var C=w[m],k=g[C[0]],P=g[C[1]];k[0]<P[0]?A.push(new l(k,P,2,m),new l(P,k,1,m)):k[0]>P[0]&&A.push(new l(P,k,2,m),new l(k,P,1,m))}A.sort(c);for(var R=A[0].a[0]-(1+Math.abs(A[0].a[0]))*Math.pow(2,-52),L=[new o([R,1],[R,0],-1,[],[],[],[])],N=[],B=(m=0,A.length);m<B;++m){var J=A[m],z=J.type;0===z?v(N,L,g,J.a,J.idx):2===z?T(L,0,J):_(L,0,J)}return N}},743:function(y,u,i){"use strict";var s=i(5070);function a(c,h){this.stars=c,this.edges=h}y.exports=function(c,h){for(var v=new Array(c),p=0;p<c;++p)v[p]=[];return new a(v,h)};var o=a.prototype;function l(c,h,v){for(var p=1,T=c.length;p<T;p+=2)if(c[p-1]===h&&c[p]===v)return c[p-1]=c[T-2],c[p]=c[T-1],void(c.length=T-2)}o.isConstraint=function(){var c=[0,0];function h(v,p){return v[0]-p[0]||v[1]-p[1]}return function(v,p){return c[0]=Math.min(v,p),c[1]=Math.max(v,p),s.eq(this.edges,c,h)>=0}}(),o.removeTriangle=function(c,h,v){var p=this.stars;l(p[c],h,v),l(p[h],v,c),l(p[v],c,h)},o.addTriangle=function(c,h,v){var p=this.stars;p[c].push(h,v),p[h].push(v,c),p[v].push(c,h)},o.opposite=function(c,h){for(var v=this.stars[h],p=1,T=v.length;p<T;p+=2)if(v[p]===c)return v[p-1];return-1},o.flip=function(c,h){var v=this.opposite(c,h),p=this.opposite(h,c);this.removeTriangle(c,h,v),this.removeTriangle(h,c,p),this.addTriangle(c,p,v),this.addTriangle(h,v,p)},o.edges=function(){for(var c=this.stars,h=[],v=0,p=c.length;v<p;++v)for(var T=c[v],_=0,g=T.length;_<g;_+=2)h.push([T[_],T[_+1]]);return h},o.cells=function(){for(var c=this.stars,h=[],v=0,p=c.length;v<p;++v)for(var T=c[v],_=0,g=T.length;_<g;_+=2){var w=T[_],x=T[_+1];v<Math.min(w,x)&&h.push([v,w,x])}return h}},9887:function(y){"use strict";y.exports=function(u){for(var i=1,s=1;s<u.length;++s)for(var a=0;a<s;++a)if(u[s]<u[a])i=-i;else if(u[a]===u[s])return 0;return i}},9243:function(y,u,i){"use strict";var s=i(3094),a=i(6606);function o(h,v){for(var p=0,T=h.length,_=0;_<T;++_)p+=h[_]*v[_];return p}function l(h){var v=h.length;if(0===v)return[];var p=s([h.length+1,h.length+1],1),T=s([h.length+1],1);p[v][v]=0;for(var _=0;_<v;++_){for(var g=0;g<=_;++g)p[g][_]=p[_][g]=2*o(h[_],h[g]);T[_]=o(h[_],h[_])}var w=a(p,T),x=0,b=w[v+1];for(_=0;_<b.length;++_)x+=b[_];var A=new Array(v);for(_=0;_<v;++_){b=w[_];var m=0;for(g=0;g<b.length;++g)m+=b[g];A[_]=m/x}return A}function c(h){if(0===h.length)return[];for(var v=h[0].length,p=s([v]),T=l(h),_=0;_<h.length;++_)for(var g=0;g<v;++g)p[g]+=h[_][g]*T[_];return p}c.barycenetric=l,y.exports=c},1778:function(y,u,i){y.exports=function(a){for(var o=s(a),l=0,c=0;c<a.length;++c)for(var h=a[c],v=0;v<o.length;++v)l+=Math.pow(h[v]-o[v],2);return Math.sqrt(l/a.length)};var s=i(9243)},197:function(y,u,i){"use strict";y.exports=function(C,k,P){var R,z,q,U;if(P){R=k;for(var L=new Array(k.length),N=0;N<k.length;++N){var B=k[N];L[N]=[B[0],B[1],P[N]]}k=L}for(var J=(q=!!P,void 0,A(k,U=w(z=C,[],g(z)),q),!!U);m(C,k,!!P);)J=!0;if(P&&J)for(R.length=0,P.length=0,N=0;N<k.length;++N)R.push([(B=k[N])[0],B[1]]),P.push(B[2]);return J};var s=i(1731),a=i(2569),o=i(4434),l=i(5125),c=i(8846),h=i(7999),v=i(2826),p=i(8551),T=i(5528);function _(C){var k=h(C);return[p(k,-1/0),p(k,1/0)]}function g(C){for(var k=new Array(C.length),P=0;P<C.length;++P){var R=C[P];k[P]=[p(R[0],-1/0),p(R[1],-1/0),p(R[0],1/0),p(R[1],1/0)]}return k}function w(C,k,P){for(var R=k.length,L=new s(R),N=[],B=0;B<k.length;++B){var J=k[B],z=_(J[0]),Y=_(J[1]);N.push([p(z[0],-1/0),p(Y[0],-1/0),p(z[1],1/0),p(Y[1],1/0)])}a(N,function(se,re){L.link(se,re)});var q=!0,U=new Array(R);for(B=0;B<R;++B)(X=L.find(B))!==B&&(q=!1,C[X]=[Math.min(C[B][0],C[X][0]),Math.min(C[B][1],C[X][1])]);if(q)return null;var Z=0;for(B=0;B<R;++B){var X;(X=L.find(B))===B?(U[B]=Z,C[Z++]=C[B]):U[B]=-1}for(C.length=Z,B=0;B<R;++B)U[B]<0&&(U[B]=U[L.find(B)]);return U}function x(C,k){return C[0]-k[0]||C[1]-k[1]}function b(C,k){return C[0]-k[0]||C[1]-k[1]||(C[2]<k[2]?-1:C[2]>k[2]?1:0)}function A(C,k,P){if(0!==C.length){if(k)for(var R=0;R<C.length;++R){var L=k[(B=C[R])[0]],N=k[B[1]];B[0]=Math.min(L,N),B[1]=Math.max(L,N)}else for(R=0;R<C.length;++R){var B;L=(B=C[R])[0],N=B[1],B[0]=Math.min(L,N),B[1]=Math.max(L,N)}C.sort(P?b:x);var J=1;for(R=1;R<C.length;++R){var z=C[R-1],Y=C[R];(Y[0]!==z[0]||Y[1]!==z[1]||P&&Y[2]!==z[2])&&(C[J++]=Y)}C.length=J}}function m(C,k,P){var z,Y,U,R=function(z,Y){for(var q=new Array(Y.length),U=0;U<Y.length;++U){var Z=Y[U],X=z[Z[0]],se=z[Z[1]];q[U]=[p(Math.min(X[0],se[0]),-1/0),p(Math.min(X[1],se[1]),-1/0),p(Math.max(X[0],se[0]),1/0),p(Math.max(X[1],se[1]),1/0)]}return q}(C,k),L=(z=C,Y=k,U=[],a(R,function(Z,X){var se=Y[Z],re=Y[X];se[0]!==re[0]&&se[0]!==re[1]&&se[1]!==re[0]&&se[1]!==re[1]&&o(z[se[0]],z[se[1]],z[re[0]],z[re[1]])&&U.push([Z,X])}),U),N=function(z,Y,q,U){var Z=[];return a(q,U,function(X,se){var re=Y[X];if(re[0]!==se&&re[1]!==se){var ee=z[se];o(z[re[0]],z[re[1]],ee,ee)&&Z.push([X,se])}}),Z}(C,k,R,g(C)),B=function(z,Y,q,U,Z){var X,se,re=z.map(function(me){return[l(me[0]),l(me[1])]});for(X=0;X<q.length;++X){var ee=q[X],K=ee[1],ne=Y[se=ee[0]],ae=Y[K],ue=T(v(z[ne[0]]),v(z[ne[1]]),v(z[ae[0]]),v(z[ae[1]]));if(ue){var he=z.length;z.push([h(ue[0]),h(ue[1])]),re.push(ue),U.push([se,he],[K,he])}}for(U.sort(function(me,de){if(me[0]!==de[0])return me[0]-de[0];var ce=re[me[1]],Ae=re[de[1]];return c(ce[0],Ae[0])||c(ce[1],Ae[1])}),X=U.length-1;X>=0;--X){var pe=Y[se=(ke=U[X])[0]],ge=pe[0],xe=pe[1],Se=z[ge],Te=z[xe];if((Se[0]-Te[0]||Se[1]-Te[1])<0){var ye=ge;ge=xe,xe=ye}pe[0]=ge;var we,ze=pe[1]=ke[1];for(Z&&(we=pe[2]);X>0&&U[X-1][0]===se;){var ke,Ee=(ke=U[--X])[1];Y.push(Z?[ze,Ee,we]:[ze,Ee]),ze=Ee}Y.push(Z?[ze,xe,we]:[ze,xe])}return re}(C,k,L,N,P),J=w(C,B);return A(k,J,P),!!J||L.length>0||N.length>0}},5528:function(y,u,i){"use strict";y.exports=function(T,_,g,w){var x=c(_,T),b=c(w,g),A=p(x,b);if(0===l(A))return null;var m=p(b,c(T,g)),C=a(m,A),k=v(x,C);return h(T,k)};var s=i(3962),a=i(9189),o=i(4354),l=i(4951),c=i(6695),h=i(7584),v=i(4469);function p(T,_){return o(s(T[0],_[1]),s(T[1],_[0]))}},5692:function(y){y.exports={jet:[{index:0,rgb:[0,0,131]},{index:.125,rgb:[0,60,170]},{index:.375,rgb:[5,255,255]},{index:.625,rgb:[255,255,0]},{index:.875,rgb:[250,0,0]},{index:1,rgb:[128,0,0]}],hsv:[{index:0,rgb:[255,0,0]},{index:.169,rgb:[253,255,2]},{index:.173,rgb:[247,255,2]},{index:.337,rgb:[0,252,4]},{index:.341,rgb:[0,252,10]},{index:.506,rgb:[1,249,255]},{index:.671,rgb:[2,0,253]},{index:.675,rgb:[8,0,253]},{index:.839,rgb:[255,0,251]},{index:.843,rgb:[255,0,245]},{index:1,rgb:[255,0,6]}],hot:[{index:0,rgb:[0,0,0]},{index:.3,rgb:[230,0,0]},{index:.6,rgb:[255,210,0]},{index:1,rgb:[255,255,255]}],spring:[{index:0,rgb:[255,0,255]},{index:1,rgb:[255,255,0]}],summer:[{index:0,rgb:[0,128,102]},{index:1,rgb:[255,255,102]}],autumn:[{index:0,rgb:[255,0,0]},{index:1,rgb:[255,255,0]}],winter:[{index:0,rgb:[0,0,255]},{index:1,rgb:[0,255,128]}],bone:[{index:0,rgb:[0,0,0]},{index:.376,rgb:[84,84,116]},{index:.753,rgb:[169,200,200]},{index:1,rgb:[255,255,255]}],copper:[{index:0,rgb:[0,0,0]},{index:.804,rgb:[255,160,102]},{index:1,rgb:[255,199,127]}],greys:[{index:0,rgb:[0,0,0]},{index:1,rgb:[255,255,255]}],yignbu:[{index:0,rgb:[8,29,88]},{index:.125,rgb:[37,52,148]},{index:.25,rgb:[34,94,168]},{index:.375,rgb:[29,145,192]},{index:.5,rgb:[65,182,196]},{index:.625,rgb:[127,205,187]},{index:.75,rgb:[199,233,180]},{index:.875,rgb:[237,248,217]},{index:1,rgb:[255,255,217]}],greens:[{index:0,rgb:[0,68,27]},{index:.125,rgb:[0,109,44]},{index:.25,rgb:[35,139,69]},{index:.375,rgb:[65,171,93]},{index:.5,rgb:[116,196,118]},{index:.625,rgb:[161,217,155]},{index:.75,rgb:[199,233,192]},{index:.875,rgb:[229,245,224]},{index:1,rgb:[247,252,245]}],yiorrd:[{index:0,rgb:[128,0,38]},{index:.125,rgb:[189,0,38]},{index:.25,rgb:[227,26,28]},{index:.375,rgb:[252,78,42]},{index:.5,rgb:[253,141,60]},{index:.625,rgb:[254,178,76]},{index:.75,rgb:[254,217,118]},{index:.875,rgb:[255,237,160]},{index:1,rgb:[255,255,204]}],bluered:[{index:0,rgb:[0,0,255]},{index:1,rgb:[255,0,0]}],rdbu:[{index:0,rgb:[5,10,172]},{index:.35,rgb:[106,137,247]},{index:.5,rgb:[190,190,190]},{index:.6,rgb:[220,170,132]},{index:.7,rgb:[230,145,90]},{index:1,rgb:[178,10,28]}],picnic:[{index:0,rgb:[0,0,255]},{index:.1,rgb:[51,153,255]},{index:.2,rgb:[102,204,255]},{index:.3,rgb:[153,204,255]},{index:.4,rgb:[204,204,255]},{index:.5,rgb:[255,255,255]},{index:.6,rgb:[255,204,255]},{index:.7,rgb:[255,153,255]},{index:.8,rgb:[255,102,204]},{index:.9,rgb:[255,102,102]},{index:1,rgb:[255,0,0]}],rainbow:[{index:0,rgb:[150,0,90]},{index:.125,rgb:[0,0,200]},{index:.25,rgb:[0,25,255]},{index:.375,rgb:[0,152,255]},{index:.5,rgb:[44,255,150]},{index:.625,rgb:[151,255,0]},{index:.75,rgb:[255,234,0]},{index:.875,rgb:[255,111,0]},{index:1,rgb:[255,0,0]}],portland:[{index:0,rgb:[12,51,131]},{index:.25,rgb:[10,136,186]},{index:.5,rgb:[242,211,56]},{index:.75,rgb:[242,143,56]},{index:1,rgb:[217,30,30]}],blackbody:[{index:0,rgb:[0,0,0]},{index:.2,rgb:[230,0,0]},{index:.4,rgb:[230,210,0]},{index:.7,rgb:[255,255,255]},{index:1,rgb:[160,200,255]}],earth:[{index:0,rgb:[0,0,130]},{index:.1,rgb:[0,180,180]},{index:.2,rgb:[40,210,40]},{index:.4,rgb:[230,230,50]},{index:.6,rgb:[120,70,20]},{index:1,rgb:[255,255,255]}],electric:[{index:0,rgb:[0,0,0]},{index:.15,rgb:[30,0,100]},{index:.4,rgb:[120,0,100]},{index:.6,rgb:[160,90,0]},{index:.8,rgb:[230,200,0]},{index:1,rgb:[255,250,220]}],alpha:[{index:0,rgb:[255,255,255,0]},{index:1,rgb:[255,255,255,1]}],viridis:[{index:0,rgb:[68,1,84]},{index:.13,rgb:[71,44,122]},{index:.25,rgb:[59,81,139]},{index:.38,rgb:[44,113,142]},{index:.5,rgb:[33,144,141]},{index:.63,rgb:[39,173,129]},{index:.75,rgb:[92,200,99]},{index:.88,rgb:[170,220,50]},{index:1,rgb:[253,231,37]}],inferno:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[31,12,72]},{index:.25,rgb:[85,15,109]},{index:.38,rgb:[136,34,106]},{index:.5,rgb:[186,54,85]},{index:.63,rgb:[227,89,51]},{index:.75,rgb:[249,140,10]},{index:.88,rgb:[249,201,50]},{index:1,rgb:[252,255,164]}],magma:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[28,16,68]},{index:.25,rgb:[79,18,123]},{index:.38,rgb:[129,37,129]},{index:.5,rgb:[181,54,122]},{index:.63,rgb:[229,80,100]},{index:.75,rgb:[251,135,97]},{index:.88,rgb:[254,194,135]},{index:1,rgb:[252,253,191]}],plasma:[{index:0,rgb:[13,8,135]},{index:.13,rgb:[75,3,161]},{index:.25,rgb:[125,3,168]},{index:.38,rgb:[168,34,150]},{index:.5,rgb:[203,70,121]},{index:.63,rgb:[229,107,93]},{index:.75,rgb:[248,148,65]},{index:.88,rgb:[253,195,40]},{index:1,rgb:[240,249,33]}],warm:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[172,0,187]},{index:.25,rgb:[219,0,170]},{index:.38,rgb:[255,0,130]},{index:.5,rgb:[255,63,74]},{index:.63,rgb:[255,123,0]},{index:.75,rgb:[234,176,0]},{index:.88,rgb:[190,228,0]},{index:1,rgb:[147,255,0]}],cool:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[116,0,218]},{index:.25,rgb:[98,74,237]},{index:.38,rgb:[68,146,231]},{index:.5,rgb:[0,204,197]},{index:.63,rgb:[0,247,146]},{index:.75,rgb:[0,255,88]},{index:.88,rgb:[40,255,8]},{index:1,rgb:[147,255,0]}],"rainbow-soft":[{index:0,rgb:[125,0,179]},{index:.1,rgb:[199,0,180]},{index:.2,rgb:[255,0,121]},{index:.3,rgb:[255,108,0]},{index:.4,rgb:[222,194,0]},{index:.5,rgb:[150,255,0]},{index:.6,rgb:[0,255,55]},{index:.7,rgb:[0,246,150]},{index:.8,rgb:[50,167,222]},{index:.9,rgb:[103,51,235]},{index:1,rgb:[124,0,186]}],bathymetry:[{index:0,rgb:[40,26,44]},{index:.13,rgb:[59,49,90]},{index:.25,rgb:[64,76,139]},{index:.38,rgb:[63,110,151]},{index:.5,rgb:[72,142,158]},{index:.63,rgb:[85,174,163]},{index:.75,rgb:[120,206,163]},{index:.88,rgb:[187,230,172]},{index:1,rgb:[253,254,204]}],cdom:[{index:0,rgb:[47,15,62]},{index:.13,rgb:[87,23,86]},{index:.25,rgb:[130,28,99]},{index:.38,rgb:[171,41,96]},{index:.5,rgb:[206,67,86]},{index:.63,rgb:[230,106,84]},{index:.75,rgb:[242,149,103]},{index:.88,rgb:[249,193,135]},{index:1,rgb:[254,237,176]}],chlorophyll:[{index:0,rgb:[18,36,20]},{index:.13,rgb:[25,63,41]},{index:.25,rgb:[24,91,59]},{index:.38,rgb:[13,119,72]},{index:.5,rgb:[18,148,80]},{index:.63,rgb:[80,173,89]},{index:.75,rgb:[132,196,122]},{index:.88,rgb:[175,221,162]},{index:1,rgb:[215,249,208]}],density:[{index:0,rgb:[54,14,36]},{index:.13,rgb:[89,23,80]},{index:.25,rgb:[110,45,132]},{index:.38,rgb:[120,77,178]},{index:.5,rgb:[120,113,213]},{index:.63,rgb:[115,151,228]},{index:.75,rgb:[134,185,227]},{index:.88,rgb:[177,214,227]},{index:1,rgb:[230,241,241]}],"freesurface-blue":[{index:0,rgb:[30,4,110]},{index:.13,rgb:[47,14,176]},{index:.25,rgb:[41,45,236]},{index:.38,rgb:[25,99,212]},{index:.5,rgb:[68,131,200]},{index:.63,rgb:[114,156,197]},{index:.75,rgb:[157,181,203]},{index:.88,rgb:[200,208,216]},{index:1,rgb:[241,237,236]}],"freesurface-red":[{index:0,rgb:[60,9,18]},{index:.13,rgb:[100,17,27]},{index:.25,rgb:[142,20,29]},{index:.38,rgb:[177,43,27]},{index:.5,rgb:[192,87,63]},{index:.63,rgb:[205,125,105]},{index:.75,rgb:[216,162,148]},{index:.88,rgb:[227,199,193]},{index:1,rgb:[241,237,236]}],oxygen:[{index:0,rgb:[64,5,5]},{index:.13,rgb:[106,6,15]},{index:.25,rgb:[144,26,7]},{index:.38,rgb:[168,64,3]},{index:.5,rgb:[188,100,4]},{index:.63,rgb:[206,136,11]},{index:.75,rgb:[220,174,25]},{index:.88,rgb:[231,215,44]},{index:1,rgb:[248,254,105]}],par:[{index:0,rgb:[51,20,24]},{index:.13,rgb:[90,32,35]},{index:.25,rgb:[129,44,34]},{index:.38,rgb:[159,68,25]},{index:.5,rgb:[182,99,19]},{index:.63,rgb:[199,134,22]},{index:.75,rgb:[212,171,35]},{index:.88,rgb:[221,210,54]},{index:1,rgb:[225,253,75]}],phase:[{index:0,rgb:[145,105,18]},{index:.13,rgb:[184,71,38]},{index:.25,rgb:[186,58,115]},{index:.38,rgb:[160,71,185]},{index:.5,rgb:[110,97,218]},{index:.63,rgb:[50,123,164]},{index:.75,rgb:[31,131,110]},{index:.88,rgb:[77,129,34]},{index:1,rgb:[145,105,18]}],salinity:[{index:0,rgb:[42,24,108]},{index:.13,rgb:[33,50,162]},{index:.25,rgb:[15,90,145]},{index:.38,rgb:[40,118,137]},{index:.5,rgb:[59,146,135]},{index:.63,rgb:[79,175,126]},{index:.75,rgb:[120,203,104]},{index:.88,rgb:[193,221,100]},{index:1,rgb:[253,239,154]}],temperature:[{index:0,rgb:[4,35,51]},{index:.13,rgb:[23,51,122]},{index:.25,rgb:[85,59,157]},{index:.38,rgb:[129,79,143]},{index:.5,rgb:[175,95,130]},{index:.63,rgb:[222,112,101]},{index:.75,rgb:[249,146,66]},{index:.88,rgb:[249,196,65]},{index:1,rgb:[232,250,91]}],turbidity:[{index:0,rgb:[34,31,27]},{index:.13,rgb:[65,50,41]},{index:.25,rgb:[98,69,52]},{index:.38,rgb:[131,89,57]},{index:.5,rgb:[161,112,59]},{index:.63,rgb:[185,140,66]},{index:.75,rgb:[202,174,88]},{index:.88,rgb:[216,209,126]},{index:1,rgb:[233,246,171]}],"velocity-blue":[{index:0,rgb:[17,32,64]},{index:.13,rgb:[35,52,116]},{index:.25,rgb:[29,81,156]},{index:.38,rgb:[31,113,162]},{index:.5,rgb:[50,144,169]},{index:.63,rgb:[87,173,176]},{index:.75,rgb:[149,196,189]},{index:.88,rgb:[203,221,211]},{index:1,rgb:[254,251,230]}],"velocity-green":[{index:0,rgb:[23,35,19]},{index:.13,rgb:[24,64,38]},{index:.25,rgb:[11,95,45]},{index:.38,rgb:[39,123,35]},{index:.5,rgb:[95,146,12]},{index:.63,rgb:[152,165,18]},{index:.75,rgb:[201,186,69]},{index:.88,rgb:[233,216,137]},{index:1,rgb:[255,253,205]}],cubehelix:[{index:0,rgb:[0,0,0]},{index:.07,rgb:[22,5,59]},{index:.13,rgb:[60,4,105]},{index:.2,rgb:[109,1,135]},{index:.27,rgb:[161,0,147]},{index:.33,rgb:[210,2,142]},{index:.4,rgb:[251,11,123]},{index:.47,rgb:[255,29,97]},{index:.53,rgb:[255,54,69]},{index:.6,rgb:[255,85,46]},{index:.67,rgb:[255,120,34]},{index:.73,rgb:[255,157,37]},{index:.8,rgb:[241,191,57]},{index:.87,rgb:[224,220,93]},{index:.93,rgb:[218,241,142]},{index:1,rgb:[227,253,198]}]}},9156:function(y,u,i){"use strict";var s=i(5692),a=i(3578);function o(h){return[h[0]/255,h[1]/255,h[2]/255,h[3]]}function l(h){for(var v,p="#",T=0;T<3;++T)p+=("00"+(v=(v=h[T]).toString(16))).substr(v.length);return p}function c(h){return"rgba("+h.join(",")+")"}y.exports=function(h){var v,p,T,_,g,w,x,b,A,m;if(h||(h={}),b=(h.nshades||72)-1,x=h.format||"hex",(w=h.colormap)||(w="jet"),"string"==typeof w){if(w=w.toLowerCase(),!s[w])throw Error(w+" not a supported colorscale");g=s[w]}else{if(!Array.isArray(w))throw Error("unsupported colormap option",w);g=w.slice()}if(g.length>b+1)throw new Error(w+" map requires nshades to be at least size "+g.length);A=Array.isArray(h.alpha)?2!==h.alpha.length?[1,1]:h.alpha.slice():"number"==typeof h.alpha?[h.alpha,h.alpha]:[1,1],v=g.map(function(L){return Math.round(L.index*b)}),A[0]=Math.min(Math.max(A[0],0),1),A[1]=Math.min(Math.max(A[1],0),1);var C=g.map(function(L,N){var B=g[N].index,J=g[N].rgb.slice();return 4===J.length&&J[3]>=0&&J[3]<=1||(J[3]=A[0]+(A[1]-A[0])*B),J}),k=[];for(m=0;m<v.length-1;++m){_=v[m+1]-v[m],p=C[m],T=C[m+1];for(var P=0;P<_;P++){var R=P/_;k.push([Math.round(a(p[0],T[0],R)),Math.round(a(p[1],T[1],R)),Math.round(a(p[2],T[2],R)),a(p[3],T[3],R)])}}return k.push(g[g.length-1].rgb.concat(A[1])),"hex"===x?k=k.map(l):"rgbaString"===x?k=k.map(c):"float"===x&&(k=k.map(o)),k}},9398:function(y,u,i){"use strict";y.exports=function(v,p,T,_){var g=s(p,T,_);if(0===g){var w=a(s(v,p,T)),x=a(s(v,p,_));if(w===x){if(0===w){var b=h(v,p,T);return b===h(v,p,_)?0:b?1:-1}return 0}return 0===x?w>0||h(v,p,_)?-1:1:0===w?x>0||h(v,p,T)?1:-1:a(x-w)}var A=s(v,p,T);return A>0?g>0&&s(v,p,_)>0?1:-1:A<0?g>0||s(v,p,_)>0?1:-1:s(v,p,_)>0||h(v,p,T)?1:-1};var s=i(417),a=i(7538),o=i(87),l=i(2019),c=i(9662);function h(v,p,T){var _=o(v[0],-p[0]),g=o(v[1],-p[1]),w=o(T[0],-p[0]),x=o(T[1],-p[1]),b=c(l(_,w),l(g,x));return b[b.length-1]>=0}},7538:function(y){"use strict";y.exports=function(u){return u<0?-1:u>0?1:0}},9209:function(y){y.exports=function(s,a){var o=s.length,l=s.length-a.length;if(l)return l;switch(o){case 0:return 0;case 1:return s[0]-a[0];case 2:return s[0]+s[1]-a[0]-a[1]||u(s[0],s[1])-u(a[0],a[1]);case 3:var c=s[0]+s[1],h=a[0]+a[1];if(l=c+s[2]-(h+a[2]))return l;var v=u(s[0],s[1]),p=u(a[0],a[1]);return u(v,s[2])-u(p,a[2])||u(v+s[2],c)-u(p+a[2],h);case 4:var T=s[0],_=s[1],g=s[2],w=s[3],x=a[0],b=a[1],A=a[2],m=a[3];return T+_+g+w-(x+b+A+m)||u(T,_,g,w)-u(x,b,A,m,x)||u(T+_,T+g,T+w,_+g,_+w,g+w)-u(x+b,x+A,x+m,b+A,b+m,A+m)||u(T+_+g,T+_+w,T+g+w,_+g+w)-u(x+b+A,x+b+m,x+A+m,b+A+m);default:for(var C=s.slice().sort(i),k=a.slice().sort(i),P=0;P<o;++P)if(l=C[P]-k[P])return l;return 0}};var u=Math.min;function i(s,a){return s-a}},1284:function(y,u,i){"use strict";var s=i(9209),a=i(9887);y.exports=function(o,l){return s(o,l)||a(o)-a(l)}},5537:function(y,u,i){"use strict";var s=i(8950),a=i(8722),o=i(3332);y.exports=function(l){var c=l.length;if(0===c)return[];if(1===c)return[[0]];var h=l[0].length;return 0===h?[]:1===h?s(l):2===h?a(l):o(l,h)}},8950:function(y){"use strict";y.exports=function(u){for(var i=0,s=0,a=1;a<u.length;++a)u[a][0]<u[i][0]&&(i=a),u[a][0]>u[s][0]&&(s=a);return i<s?[[i],[s]]:i>s?[[s],[i]]:[[i]]}},8722:function(y,u,i){"use strict";y.exports=function(a){var o=s(a),l=o.length;if(l<=2)return[];for(var c=new Array(l),h=o[l-1],v=0;v<l;++v){var p=o[v];c[v]=[h,p],h=p}return c};var s=i(3266)},3332:function(y,u,i){"use strict";y.exports=function(o,l){try{return s(o,!0)}catch{var c=a(o);if(c.length<=l)return[];var h=function(p,T){for(var _=p.length,g=new Array(_),w=0;w<T.length;++w)g[w]=p[T[w]];var x=T.length;for(w=0;w<_;++w)T.indexOf(w)<0&&(g[x++]=p[w]);return g}(o,c);return function(p,T){for(var _=p.length,g=T.length,w=0;w<_;++w)for(var x=p[w],b=0;b<x.length;++b){var A=x[b];if(A<g)x[b]=T[A];else{A-=g;for(var m=0;m<g;++m)A>=T[m]&&(A+=1);x[b]=A}}return p}(s(h,!0),c)}};var s=i(2183),a=i(2153)},9680:function(y){"use strict";y.exports=function(u,i,s,a,o,l){var c=o-1,h=o*o,v=c*c,p=(1+2*o)*v,T=o*v,_=h*(3-2*o),g=h*c;if(u.length){l||(l=new Array(u.length));for(var w=u.length-1;w>=0;--w)l[w]=p*u[w]+T*i[w]+_*s[w]+g*a[w];return l}return p*u+T*i+_*s+g*a},y.exports.derivative=function(u,i,s,a,o,l){var c=6*o*o-6*o,h=3*o*o-4*o+1,v=-6*o*o+6*o,p=3*o*o-2*o;if(u.length){l||(l=new Array(u.length));for(var T=u.length-1;T>=0;--T)l[T]=c*u[T]+h*i[T]+v*s[T]+p*a[T];return l}return c*u+h*i+v*s[T]+p*a}},4419:function(y,u,i){"use strict";var s=i(2183),a=i(1215);function o(c,h){this.point=c,this.index=h}function l(c,h){for(var v=c.point,p=h.point,T=v.length,_=0;_<T;++_){var g=p[_]-v[_];if(g)return g}return 0}y.exports=function(c,h){var v=c.length;if(0===v)return[];var p=c[0].length;if(p<1)return[];if(1===p)return function(B,J,z){if(1===B)return z?[[-1,0]]:[];var Y=J.map(function(se,re){return[se[0],re]});Y.sort(function(se,re){return se[0]-re[0]});for(var q=new Array(B-1),U=1;U<B;++U)q[U-1]=[Y[U-1][1],Y[U][1]];return z&&q.push([-1,q[0][1]],[q[B-1][1],-1]),q}(v,c,h);for(var T=new Array(v),_=1,g=0;g<v;++g){for(var w=c[g],x=new Array(p+1),b=0,A=0;A<p;++A){var m=w[A];x[A]=m,b+=m*m}x[p]=b,T[g]=new o(x,g),_=Math.max(b,_)}a(T,l),v=T.length;var C=new Array(v+p+1),k=new Array(v+p+1),P=(p+1)*(p+1)*_,R=new Array(p+1);for(g=0;g<=p;++g)R[g]=0;for(R[p]=P,C[0]=R.slice(),k[0]=-1,g=0;g<=p;++g)(x=R.slice())[g]=1,C[g+1]=x,k[g+1]=-1;for(g=0;g<v;++g){var L=T[g];C[g+p+1]=L.point,k[g+p+1]=L.index}var N=s(C,!1);if(N=N.filter(h?function(B){for(var J=0,z=0;z<=p;++z){var Y=k[B[z]];if(Y<0&&++J>=2)return!1;B[z]=Y}return!0}:function(B){for(var J=0;J<=p;++J){var z=k[B[J]];if(z<0)return!1;B[J]=z}return!0}),1&p)for(g=0;g<N.length;++g)x=(L=N[g])[0],L[0]=L[1],L[1]=x;return N}},8362:function(y){var u=!1;if(typeof Float64Array<"u"){var i=new Float64Array(1),s=new Uint32Array(i.buffer);i[0]=1,u=!0,1072693248===s[1]?(y.exports=function(o){return i[0]=o,[s[0],s[1]]},y.exports.pack=function(o,l){return s[0]=o,s[1]=l,i[0]},y.exports.lo=function(o){return i[0]=o,s[0]},y.exports.hi=function(o){return i[0]=o,s[1]}):1072693248===s[0]?(y.exports=function(o){return i[0]=o,[s[1],s[0]]},y.exports.pack=function(o,l){return s[1]=o,s[0]=l,i[0]},y.exports.lo=function(o){return i[0]=o,s[1]},y.exports.hi=function(o){return i[0]=o,s[0]}):u=!1}if(!u){var a=new Buffer(8);y.exports=function(o){return a.writeDoubleLE(o,0,!0),[a.readUInt32LE(0,!0),a.readUInt32LE(4,!0)]},y.exports.pack=function(o,l){return a.writeUInt32LE(o,0,!0),a.writeUInt32LE(l,4,!0),a.readDoubleLE(0,!0)},y.exports.lo=function(o){return a.writeDoubleLE(o,0,!0),a.readUInt32LE(0,!0)},y.exports.hi=function(o){return a.writeDoubleLE(o,0,!0),a.readUInt32LE(4,!0)}}y.exports.sign=function(o){return y.exports.hi(o)>>>31},y.exports.exponent=function(o){return(y.exports.hi(o)<<1>>>21)-1023},y.exports.fraction=function(o){var l=y.exports.lo(o),c=y.exports.hi(o),h=1048575&c;return 2146435072&c&&(h+=1048576),[l,h]},y.exports.denormalized=function(o){return!(2146435072&y.exports.hi(o))}},3094:function(y){"use strict";function u(i,s,a){var o=0|i[a];if(o<=0)return[];var l,c=new Array(o);if(a===i.length-1)for(l=0;l<o;++l)c[l]=s;else for(l=0;l<o;++l)c[l]=u(i,s,a+1);return c}y.exports=function(i,s){switch(void 0===s&&(s=0),typeof i){case"number":if(i>0)return function(a,o){var l,c;for(l=new Array(a),c=0;c<a;++c)l[c]=o;return l}(0|i,s);break;case"object":if("number"==typeof i.length)return u(i,s,0)}return[]}},8348:function(y,u,i){"use strict";y.exports=function(a,o){var l=a.length;if("number"!=typeof o){o=0;for(var c=0;c<l;++c){var h=a[c];o=Math.max(o,h[0],h[1])}o=1+(0|o)}o|=0;var v=new Array(o);for(c=0;c<o;++c)v[c]=[];for(c=0;c<l;++c)v[(h=a[c])[0]].push(h[1]),v[h[1]].push(h[0]);for(var p=0;p<o;++p)s(v[p],function(T,_){return T-_});return v};var s=i(1215)},5795:function(y){"use strict";y.exports=function(u,i,s){var a=i||0,o=s||1;return[[u[12]+u[0],u[13]+u[1],u[14]+u[2],u[15]+u[3]],[u[12]-u[0],u[13]-u[1],u[14]-u[2],u[15]-u[3]],[u[12]+u[4],u[13]+u[5],u[14]+u[6],u[15]+u[7]],[u[12]-u[4],u[13]-u[5],u[14]-u[6],u[15]-u[7]],[a*u[12]+u[8],a*u[13]+u[9],a*u[14]+u[10],a*u[15]+u[11]],[o*u[12]-u[8],o*u[13]-u[9],o*u[14]-u[10],o*u[15]-u[11]]]}},8444:function(y,u,i){"use strict";y.exports=function(v,p,T){switch(arguments.length){case 0:return new l([0],[0],0);case 1:return"number"==typeof v?new l(_=h(v),_,0):new l(v,h(v.length),0);case 2:var _;if("number"==typeof p)return new l(v,_=h(v.length),+p);T=0;case 3:if(v.length!==p.length)throw new Error("state and velocity lengths must match");return new l(v,p,T)}};var s=i(9680),a=i(5070);function o(v,p,T){return Math.min(p,Math.max(v,T))}function l(v,p,T){this.dimension=v.length,this.bounds=[new Array(this.dimension),new Array(this.dimension)];for(var _=0;_<this.dimension;++_)this.bounds[0][_]=-1/0,this.bounds[1][_]=1/0;this._state=v.slice().reverse(),this._velocity=p.slice().reverse(),this._time=[T],this._scratch=[v.slice(),v.slice(),v.slice(),v.slice(),v.slice()]}var c=l.prototype;function h(v){for(var p=new Array(v),T=0;T<v;++T)p[T]=0;return p}c.flush=function(v){var p=a.gt(this._time,v)-1;p<=0||(this._time.splice(0,p),this._state.splice(0,p*this.dimension),this._velocity.splice(0,p*this.dimension))},c.curve=function(v){var p=this._time,T=p.length,_=a.le(p,v),g=this._scratch[0],w=this._state,x=this._velocity,b=this.dimension,A=this.bounds;if(_<0)for(var m=b-1,C=0;C<b;++C,--m)g[C]=w[m];else if(_>=T-1){m=w.length-1;var k=v-p[T-1];for(C=0;C<b;++C,--m)g[C]=w[m]+k*x[m]}else{m=b*(_+1)-1;var P=p[_],R=p[_+1]-P||1,L=this._scratch[1],N=this._scratch[2],B=this._scratch[3],J=this._scratch[4],z=!0;for(C=0;C<b;++C,--m)L[C]=w[m],B[C]=x[m]*R,N[C]=w[m+b],J[C]=x[m+b]*R,z=z&&L[C]===N[C]&&B[C]===J[C]&&0===B[C];if(z)for(C=0;C<b;++C)g[C]=L[C];else s(L,B,N,J,(v-P)/R,g)}var Y=A[0],q=A[1];for(C=0;C<b;++C)g[C]=o(Y[C],q[C],g[C]);return g},c.dcurve=function(v){var p=this._time,T=p.length,_=a.le(p,v),g=this._scratch[0],w=this._state,x=this._velocity,b=this.dimension;if(_>=T-1)for(var A=w.length-1,m=0;m<b;++m,--A)g[m]=x[A];else{A=b*(_+1)-1;var C=p[_],k=p[_+1]-C||1,P=this._scratch[1],R=this._scratch[2],L=this._scratch[3],N=this._scratch[4],B=!0;for(m=0;m<b;++m,--A)P[m]=w[A],L[m]=x[A]*k,R[m]=w[A+b],N[m]=x[A+b]*k,B=B&&P[m]===R[m]&&L[m]===N[m]&&0===L[m];if(B)for(m=0;m<b;++m)g[m]=0;else for(s.derivative(P,L,R,N,(v-C)/k,g),m=0;m<b;++m)g[m]/=k}return g},c.lastT=function(){var v=this._time;return v[v.length-1]},c.stable=function(){for(var v=this._velocity,p=v.length,T=this.dimension-1;T>=0;--T)if(v[--p])return!1;return!0},c.jump=function(v){var p=this.lastT(),T=this.dimension;if(!(v<p||arguments.length!==T+1)){var _=this._state,g=this._velocity,w=_.length-this.dimension,x=this.bounds,b=x[0],A=x[1];this._time.push(p,v);for(var m=0;m<2;++m)for(var C=0;C<T;++C)_.push(_[w++]),g.push(0);for(this._time.push(v),C=T;C>0;--C)_.push(o(b[C-1],A[C-1],arguments[C])),g.push(0)}},c.push=function(v){var p=this.lastT(),T=this.dimension;if(!(v<p||arguments.length!==T+1)){var _=this._state,g=this._velocity,w=_.length-this.dimension,x=v-p,b=this.bounds,A=b[0],m=b[1],C=x>1e-6?1/x:0;this._time.push(v);for(var k=T;k>0;--k){var P=o(A[k-1],m[k-1],arguments[k]);_.push(P),g.push((P-_[w++])*C)}}},c.set=function(v){var p=this.dimension;if(!(v<this.lastT()||arguments.length!==p+1)){var T=this._state,_=this._velocity,g=this.bounds,w=g[0],x=g[1];this._time.push(v);for(var b=p;b>0;--b)T.push(o(w[b-1],x[b-1],arguments[b])),_.push(0)}},c.move=function(v){var p=this.lastT(),T=this.dimension;if(!(v<=p||arguments.length!==T+1)){var _=this._state,g=this._velocity,w=_.length-this.dimension,x=this.bounds,b=x[0],A=x[1],m=v-p,C=m>1e-6?1/m:0;this._time.push(v);for(var k=T;k>0;--k){var P=arguments[k];_.push(o(b[k-1],A[k-1],_[w++]+P)),g.push(P*C)}}},c.idle=function(v){var p=this.lastT();if(!(v<p)){var T=this.dimension,_=this._state,g=this._velocity,w=_.length-T,x=this.bounds,b=x[0],A=x[1],m=v-p;this._time.push(v);for(var C=T-1;C>=0;--C)_.push(o(b[C],A[C],_[w]+m*g[w])),g.push(0),w+=1}}},7080:function(y){"use strict";function u(w,x,b,A,m,C){this._color=w,this.key=x,this.value=b,this.left=A,this.right=m,this._count=C}function i(w){return new u(w._color,w.key,w.value,w.left,w.right,w._count)}function s(w,x){return new u(w,x.key,x.value,x.left,x.right,x._count)}function a(w){w._count=1+(w.left?w.left._count:0)+(w.right?w.right._count:0)}function o(w,x){this._compare=w,this.root=x}y.exports=function(w){return new o(w||g,null)};var l=o.prototype;function c(w,x){var b;return x.left&&(b=c(w,x.left))?b:(b=w(x.key,x.value))||(x.right?c(w,x.right):void 0)}function h(w,x,b,A){var m;return x(w,A.key)<=0&&(A.left&&(m=h(w,x,b,A.left))||(m=b(A.key,A.value)))?m:A.right?h(w,x,b,A.right):void 0}function v(w,x,b,A,m){var C,k=b(w,m.key),P=b(x,m.key);return k<=0&&(m.left&&(C=v(w,x,b,A,m.left))||P>0&&(C=A(m.key,m.value)))?C:P>0&&m.right?v(w,x,b,A,m.right):void 0}function p(w,x){this.tree=w,this._stack=x}Object.defineProperty(l,"keys",{get:function(){var w=[];return this.forEach(function(x,b){w.push(x)}),w}}),Object.defineProperty(l,"values",{get:function(){var w=[];return this.forEach(function(x,b){w.push(b)}),w}}),Object.defineProperty(l,"length",{get:function(){return this.root?this.root._count:0}}),l.insert=function(w,x){for(var b=this._compare,A=this.root,m=[],C=[];A;){var k=b(w,A.key);m.push(A),C.push(k),A=k<=0?A.left:A.right}m.push(new u(0,w,x,null,null,1));for(var P=m.length-2;P>=0;--P)A=m[P],m[P]=C[P]<=0?new u(A._color,A.key,A.value,m[P+1],A.right,A._count+1):new u(A._color,A.key,A.value,A.left,m[P+1],A._count+1);for(P=m.length-1;P>1;--P){var R=m[P-1];if(A=m[P],1===R._color||1===A._color)break;var L=m[P-2];if(L.left===R)if(R.left===A){if(!(N=L.right)||0!==N._color){L._color=0,L.left=R.right,R._color=1,R.right=L,m[P-2]=R,m[P-1]=A,a(L),a(R),P>=3&&((B=m[P-3]).left===L?B.left=R:B.right=R);break}R._color=1,L.right=s(1,N),L._color=0,P-=1}else{if(!(N=L.right)||0!==N._color){R.right=A.left,L._color=0,L.left=A.right,A._color=1,A.left=R,A.right=L,m[P-2]=A,m[P-1]=R,a(L),a(R),a(A),P>=3&&((B=m[P-3]).left===L?B.left=A:B.right=A);break}R._color=1,L.right=s(1,N),L._color=0,P-=1}else if(R.right===A){if(!(N=L.left)||0!==N._color){L._color=0,L.right=R.left,R._color=1,R.left=L,m[P-2]=R,m[P-1]=A,a(L),a(R),P>=3&&((B=m[P-3]).right===L?B.right=R:B.left=R);break}R._color=1,L.left=s(1,N),L._color=0,P-=1}else{var N;if(!(N=L.left)||0!==N._color){var B;R.left=A.right,L._color=0,L.right=A.left,A._color=1,A.right=R,A.left=L,m[P-2]=A,m[P-1]=R,a(L),a(R),a(A),P>=3&&((B=m[P-3]).right===L?B.right=A:B.left=A);break}R._color=1,L.left=s(1,N),L._color=0,P-=1}}return m[0]._color=1,new o(b,m[0])},l.forEach=function(w,x,b){if(this.root)switch(arguments.length){case 1:return c(w,this.root);case 2:return h(x,this._compare,w,this.root);case 3:return this._compare(x,b)>=0?void 0:v(x,b,this._compare,w,this.root)}},Object.defineProperty(l,"begin",{get:function(){for(var w=[],x=this.root;x;)w.push(x),x=x.left;return new p(this,w)}}),Object.defineProperty(l,"end",{get:function(){for(var w=[],x=this.root;x;)w.push(x),x=x.right;return new p(this,w)}}),l.at=function(w){if(w<0)return new p(this,[]);for(var x=this.root,b=[];;){if(b.push(x),x.left){if(w<x.left._count){x=x.left;continue}w-=x.left._count}if(!w)return new p(this,b);if(w-=1,!x.right||w>=x.right._count)break;x=x.right}return new p(this,[])},l.ge=function(w){for(var x=this._compare,b=this.root,A=[],m=0;b;){var C=x(w,b.key);A.push(b),C<=0&&(m=A.length),b=C<=0?b.left:b.right}return A.length=m,new p(this,A)},l.gt=function(w){for(var x=this._compare,b=this.root,A=[],m=0;b;){var C=x(w,b.key);A.push(b),C<0&&(m=A.length),b=C<0?b.left:b.right}return A.length=m,new p(this,A)},l.lt=function(w){for(var x=this._compare,b=this.root,A=[],m=0;b;){var C=x(w,b.key);A.push(b),C>0&&(m=A.length),b=C<=0?b.left:b.right}return A.length=m,new p(this,A)},l.le=function(w){for(var x=this._compare,b=this.root,A=[],m=0;b;){var C=x(w,b.key);A.push(b),C>=0&&(m=A.length),b=C<0?b.left:b.right}return A.length=m,new p(this,A)},l.find=function(w){for(var x=this._compare,b=this.root,A=[];b;){var m=x(w,b.key);if(A.push(b),0===m)return new p(this,A);b=m<=0?b.left:b.right}return new p(this,[])},l.remove=function(w){var x=this.find(w);return x?x.remove():this},l.get=function(w){for(var x=this._compare,b=this.root;b;){var A=x(w,b.key);if(0===A)return b.value;b=A<=0?b.left:b.right}};var T=p.prototype;function _(w,x){w.key=x.key,w.value=x.value,w.left=x.left,w.right=x.right,w._color=x._color,w._count=x._count}function g(w,x){return w<x?-1:w>x?1:0}Object.defineProperty(T,"valid",{get:function(){return this._stack.length>0}}),Object.defineProperty(T,"node",{get:function(){return this._stack.length>0?this._stack[this._stack.length-1]:null},enumerable:!0}),T.clone=function(){return new p(this.tree,this._stack.slice())},T.remove=function(){var w=this._stack;if(0===w.length)return this.tree;var x=new Array(w.length),b=w[w.length-1];x[x.length-1]=new u(b._color,b.key,b.value,b.left,b.right,b._count);for(var A=w.length-2;A>=0;--A)x[A]=(b=w[A]).left===w[A+1]?new u(b._color,b.key,b.value,x[A+1],b.right,b._count):new u(b._color,b.key,b.value,b.left,x[A+1],b._count);if((b=x[x.length-1]).left&&b.right){var m=x.length;for(b=b.left;b.right;)x.push(b),b=b.right;var C=x[m-1];for(x.push(new u(b._color,C.key,C.value,b.left,b.right,b._count)),x[m-1].key=b.key,x[m-1].value=b.value,A=x.length-2;A>=m;--A)x[A]=new u((b=x[A])._color,b.key,b.value,b.left,x[A+1],b._count);x[m-1].left=x[m]}if(0===(b=x[x.length-1])._color){var k=x[x.length-2];for(k.left===b?k.left=null:k.right===b&&(k.right=null),x.pop(),A=0;A<x.length;++A)x[A]._count--;return new o(this.tree._compare,x[0])}if(b.left||b.right){for(b.left?_(b,b.left):b.right&&_(b,b.right),b._color=1,A=0;A<x.length-1;++A)x[A]._count--;return new o(this.tree._compare,x[0])}if(1===x.length)return new o(this.tree._compare,null);for(A=0;A<x.length;++A)x[A]._count--;var P=x[x.length-2];return function(R){for(var L,N,B,J,z=R.length-1;z>=0;--z){if(L=R[z],0===z)return void(L._color=1);if((N=R[z-1]).left===L){if((B=N.right).right&&0===B.right._color)return J=(B=N.right=i(B)).right=i(B.right),N.right=B.left,B.left=N,B.right=J,B._color=N._color,L._color=1,N._color=1,J._color=1,a(N),a(B),z>1&&((Y=R[z-2]).left===N?Y.left=B:Y.right=B),void(R[z-1]=B);if(B.left&&0===B.left._color)return J=(B=N.right=i(B)).left=i(B.left),N.right=J.left,B.left=J.right,J.left=N,J.right=B,J._color=N._color,N._color=1,B._color=1,L._color=1,a(N),a(B),a(J),z>1&&((Y=R[z-2]).left===N?Y.left=J:Y.right=J),void(R[z-1]=J);if(1===B._color){if(0===N._color)return N._color=1,void(N.right=s(0,B));N.right=s(0,B);continue}B=i(B),N.right=B.left,B.left=N,B._color=N._color,N._color=0,a(N),a(B),z>1&&((Y=R[z-2]).left===N?Y.left=B:Y.right=B),R[z-1]=B,R[z]=N,z+1<R.length?R[z+1]=L:R.push(L),z+=2}else{if((B=N.left).left&&0===B.left._color)return J=(B=N.left=i(B)).left=i(B.left),N.left=B.right,B.right=N,B.left=J,B._color=N._color,L._color=1,N._color=1,J._color=1,a(N),a(B),z>1&&((Y=R[z-2]).right===N?Y.right=B:Y.left=B),void(R[z-1]=B);if(B.right&&0===B.right._color)return J=(B=N.left=i(B)).right=i(B.right),N.left=J.right,B.right=J.left,J.right=N,J.left=B,J._color=N._color,N._color=1,B._color=1,L._color=1,a(N),a(B),a(J),z>1&&((Y=R[z-2]).right===N?Y.right=J:Y.left=J),void(R[z-1]=J);if(1===B._color){if(0===N._color)return N._color=1,void(N.left=s(0,B));N.left=s(0,B);continue}var Y;B=i(B),N.left=B.right,B.right=N,B._color=N._color,N._color=0,a(N),a(B),z>1&&((Y=R[z-2]).right===N?Y.right=B:Y.left=B),R[z-1]=B,R[z]=N,z+1<R.length?R[z+1]=L:R.push(L),z+=2}}}(x),P.left===b?P.left=null:P.right=null,new o(this.tree._compare,x[0])},Object.defineProperty(T,"key",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].key},enumerable:!0}),Object.defineProperty(T,"value",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].value},enumerable:!0}),Object.defineProperty(T,"index",{get:function(){var w=0,x=this._stack;if(0===x.length){var b=this.tree.root;return b?b._count:0}x[x.length-1].left&&(w=x[x.length-1].left._count);for(var A=x.length-2;A>=0;--A)x[A+1]===x[A].right&&(++w,x[A].left&&(w+=x[A].left._count));return w},enumerable:!0}),T.next=function(){var w=this._stack;if(0!==w.length){var x=w[w.length-1];if(x.right)for(x=x.right;x;)w.push(x),x=x.left;else for(w.pop();w.length>0&&w[w.length-1].right===x;)x=w[w.length-1],w.pop()}},Object.defineProperty(T,"hasNext",{get:function(){var w=this._stack;if(0===w.length)return!1;if(w[w.length-1].right)return!0;for(var x=w.length-1;x>0;--x)if(w[x-1].left===w[x])return!0;return!1}}),T.update=function(w){var x=this._stack;if(0===x.length)throw new Error("Can't update empty node!");var b=new Array(x.length),A=x[x.length-1];b[b.length-1]=new u(A._color,A.key,w,A.left,A.right,A._count);for(var m=x.length-2;m>=0;--m)b[m]=(A=x[m]).left===x[m+1]?new u(A._color,A.key,A.value,b[m+1],A.right,A._count):new u(A._color,A.key,A.value,A.left,b[m+1],A._count);return new o(this.tree._compare,b[0])},T.prev=function(){var w=this._stack;if(0!==w.length){var x=w[w.length-1];if(x.left)for(x=x.left;x;)w.push(x),x=x.right;else for(w.pop();w.length>0&&w[w.length-1].left===x;)x=w[w.length-1],w.pop()}},Object.defineProperty(T,"hasPrev",{get:function(){var w=this._stack;if(0===w.length)return!1;if(w[w.length-1].left)return!0;for(var x=w.length-1;x>0;--x)if(w[x-1].right===w[x])return!0;return!1}})},7453:function(y,u,i){"use strict";y.exports=function(k,P){var R=new p(k);return R.update(P),R};var s=i(9557),a=i(1681),o=i(1011),l=i(2864),c=i(8468),h=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);function v(k,P){return k[0]=P[0],k[1]=P[1],k[2]=P[2],k}function p(k){this.gl=k,this.pixelRatio=1,this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.autoTicks=!0,this.tickSpacing=[1,1,1],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickSize=[12,12,12],this.tickAngle=[0,0,0],this.tickAlign=["auto","auto","auto"],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[10,10,10],this.lastCubeProps={cubeEdges:[0,0,0],axis:[0,0,0]},this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont="sans-serif",this.labelSize=[20,20,20],this.labelAngle=[0,0,0],this.labelAlign=["auto","auto","auto"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[10,10,10],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[0,0,0],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!1,!1,!1],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._firstInit=!0,this._text=null,this._lines=null,this._background=o(k)}var T=p.prototype;function _(){this.primalOffset=[0,0,0],this.primalMinor=[0,0,0],this.mirrorOffset=[0,0,0],this.mirrorMinor=[0,0,0]}T.update=function(k){function P(se,re,ee){if(ee in k){var K,ne=k[ee],ae=this[ee];this[ee]=K=(se?Array.isArray(ne)&&Array.isArray(ne[0]):Array.isArray(ne))?[re(ne[0]),re(ne[1]),re(ne[2])]:[re(ne),re(ne),re(ne)];for(var ue=0;ue<3;++ue)if(K[ue]!==ae[ue])return!0}return!1}k=k||{};var R,L=P.bind(this,!1,Number),N=P.bind(this,!1,Boolean),B=P.bind(this,!1,String),J=P.bind(this,!0,function(se){if(Array.isArray(se)){if(3===se.length)return[+se[0],+se[1],+se[2],1];if(4===se.length)return[+se[0],+se[1],+se[2],+se[3]]}return[0,0,0,1]}),z=!1,Y=!1;if("bounds"in k)for(var q=k.bounds,U=0;U<2;++U)for(var Z=0;Z<3;++Z)q[U][Z]!==this.bounds[U][Z]&&(Y=!0),this.bounds[U][Z]=q[U][Z];if("ticks"in k)for(R=k.ticks,z=!0,this.autoTicks=!1,U=0;U<3;++U)this.tickSpacing[U]=0;else L("tickSpacing")&&(this.autoTicks=!0,Y=!0);if(this._firstInit&&("ticks"in k||"tickSpacing"in k||(this.autoTicks=!0),Y=!0,z=!0,this._firstInit=!1),Y&&this.autoTicks&&(R=c.create(this.bounds,this.tickSpacing),z=!0),z){for(U=0;U<3;++U)R[U].sort(function(se,re){return se.x-re.x});c.equal(R,this.ticks)?z=!1:this.ticks=R}N("tickEnable"),B("tickFont")&&(z=!0),L("tickSize"),L("tickAngle"),L("tickPad"),J("tickColor");var X=B("labels");B("labelFont")&&(X=!0),N("labelEnable"),L("labelSize"),L("labelPad"),J("labelColor"),N("lineEnable"),N("lineMirror"),L("lineWidth"),J("lineColor"),N("lineTickEnable"),N("lineTickMirror"),L("lineTickLength"),L("lineTickWidth"),J("lineTickColor"),N("gridEnable"),L("gridWidth"),J("gridColor"),N("zeroEnable"),J("zeroLineColor"),L("zeroLineWidth"),N("backgroundEnable"),J("backgroundColor"),this._text?this._text&&(X||z)&&this._text.update(this.bounds,this.labels,this.labelFont,this.ticks,this.tickFont):this._text=s(this.gl,this.bounds,this.labels,this.labelFont,this.ticks,this.tickFont),this._lines&&z&&(this._lines.dispose(),this._lines=null),this._lines||(this._lines=a(this.gl,this.bounds,this.ticks))};var g=[new _,new _,new _];function w(k,P,R,L,N){for(var B=k.primalOffset,J=k.primalMinor,z=k.mirrorOffset,Y=k.mirrorMinor,q=L[P],U=0;U<3;++U)if(P!==U){var Z=B,X=z,se=J,re=Y;q&1<<U&&(Z=z,X=B,se=Y,re=J),Z[U]=R[0][U],X[U]=R[1][U],N[U]>0?(se[U]=-1,re[U]=0):(se[U]=0,re[U]=1)}}var x=[0,0,0],b={model:h,view:h,projection:h,_ortho:!1};T.isOpaque=function(){return!0},T.isTransparent=function(){return!1},T.drawTransparent=function(k){};var A=[0,0,0],m=[0,0,0],C=[0,0,0];T.draw=function(k){for(var P=this.gl,R=(k=k||b).model||h,L=k.view||h,N=k.projection||h,B=this.bounds,J=k._ortho||!1,z=l(R,L,N,B,J),Y=z.cubeEdges,q=z.axis,re=(J?2:1)*this.pixelRatio*(N[3]*L[12]+N[7]*L[13]+N[11]*L[14]+N[15]*L[15])/P.drawingBufferHeight,ee=0;ee<3;++ee)this.lastCubeProps.cubeEdges[ee]=Y[ee],this.lastCubeProps.axis[ee]=q[ee];var K=g;for(ee=0;ee<3;++ee)w(g[ee],ee,this.bounds,Y,q);P=this.gl;var ne,ae,ue,Ne,De,Ue,Ye,_e,Pe,Ie,Be,We,he=x;for(ee=0;ee<3;++ee)he[ee]=this.backgroundEnable[ee]?q[ee]:0;for(this._background.draw(R,L,N,B,he,this.backgroundColor),this._lines.bind(R,L,N,this),ee=0;ee<3;++ee){var pe=[0,0,0];pe[ee]=q[ee]>0?B[1][ee]:B[0][ee];for(var ge=0;ge<2;++ge){var xe=(ee+1+ge)%3,Se=(ee+1+(1^ge))%3;this.gridEnable[xe]&&this._lines.drawGrid(xe,Se,this.bounds,pe,this.gridColor[xe],this.gridWidth[xe]*this.pixelRatio)}for(ge=0;ge<2;++ge)xe=(ee+1+ge)%3,this.zeroEnable[Se=(ee+1+(1^ge))%3]&&Math.min(B[0][Se],B[1][Se])<=0&&Math.max(B[0][Se],B[1][Se])>=0&&this._lines.drawZero(xe,Se,this.bounds,pe,this.zeroLineColor[Se],this.zeroLineWidth[Se]*this.pixelRatio)}for(ee=0;ee<3;++ee){this.lineEnable[ee]&&this._lines.drawAxisLine(ee,this.bounds,K[ee].primalOffset,this.lineColor[ee],this.lineWidth[ee]*this.pixelRatio),this.lineMirror[ee]&&this._lines.drawAxisLine(ee,this.bounds,K[ee].mirrorOffset,this.lineColor[ee],this.lineWidth[ee]*this.pixelRatio);var Te=v(A,K[ee].primalMinor),ye=v(m,K[ee].mirrorMinor),we=this.lineTickLength;for(ge=0;ge<3;++ge){var ze=re/R[5*ge];Te[ge]*=we[ge]*ze,ye[ge]*=we[ge]*ze}this.lineTickEnable[ee]&&this._lines.drawAxisTicks(ee,K[ee].primalOffset,Te,this.lineTickColor[ee],this.lineTickWidth[ee]*this.pixelRatio),this.lineTickMirror[ee]&&this._lines.drawAxisTicks(ee,K[ee].mirrorOffset,ye,this.lineTickColor[ee],this.lineTickWidth[ee]*this.pixelRatio)}function ke(Ne){(ue=[0,0,0])[Ne]=1}for(this._lines.unbind(),this._text.bind(R,L,N,this.pixelRatio),ee=0;ee<3;++ee){var me=K[ee].primalMinor,de=K[ee].mirrorMinor,ce=v(C,K[ee].primalOffset);for(ge=0;ge<3;++ge)this.lineTickEnable[ee]&&(ce[ge]+=re*me[ge]*Math.max(this.lineTickLength[ge],0)/R[5*ge]);var Ae=[0,0,0];if(Ae[ee]=1,this.tickEnable[ee]){for(-3600===this.tickAngle[ee]?(this.tickAngle[ee]=0,this.tickAlign[ee]="auto"):this.tickAlign[ee]=-1,ne[0]="auto"===(ne=[this.tickAlign[ee],.5,ae=1])[0]?0:parseInt(""+ne[0]),ue=[0,0,0],Ye=void 0,_e=void 0,Pe=void 0,Ie=void 0,Be=void 0,We=void 0,Ie=(De=me)[_e=((Ne=ee)+2)%3],Be=(Ue=de)[Ye=(Ne+1)%3],We=Ue[_e],(Pe=De[Ye])>0&&We>0||Pe>0&&We<0||Pe<0&&We>0||Pe<0&&We<0?ke(Ye):(Ie>0&&Be>0||Ie>0&&Be<0||Ie<0&&Be>0||Ie<0&&Be<0)&&ke(_e),ge=0;ge<3;++ge)ce[ge]+=re*me[ge]*this.tickPad[ge]/R[5*ge];this._text.drawTicks(ee,this.tickSize[ee],this.tickAngle[ee],ce,this.tickColor[ee],Ae,ue,ne)}if(this.labelEnable[ee]){for(ae=0,ue=[0,0,0],this.labels[ee].length>4&&(ke(ee),ae=1),ne[0]="auto"===(ne=[this.labelAlign[ee],.5,ae])[0]?0:parseInt(""+ne[0]),ge=0;ge<3;++ge)ce[ge]+=re*me[ge]*this.labelPad[ge]/R[5*ge];ce[ee]+=.5*(B[0][ee]+B[1][ee]),this._text.drawLabel(ee,this.labelSize[ee],this.labelAngle[ee],ce,this.labelColor[ee],[0,0,0],ue,ne)}}this._text.unbind()},T.dispose=function(){this._text.dispose(),this._lines.dispose(),this._background.dispose(),this._lines=null,this._text=null,this._background=null,this.gl=null}},1011:function(y,u,i){"use strict";y.exports=function(h){for(var v=[],p=[],T=0,_=0;_<3;++_)for(var g=(_+1)%3,w=(_+2)%3,x=[0,0,0],b=[0,0,0],A=-1;A<=1;A+=2){p.push(T,T+2,T+1,T+1,T+2,T+3),x[_]=A,b[_]=A;for(var m=-1;m<=1;m+=2){x[g]=m;for(var C=-1;C<=1;C+=2)x[w]=C,v.push(x[0],x[1],x[2],b[0],b[1],b[2]),T+=1}var k=g;g=w,w=k}var P=s(h,new Float32Array(v)),R=s(h,new Uint16Array(p),h.ELEMENT_ARRAY_BUFFER),L=a(h,[{buffer:P,type:h.FLOAT,size:3,offset:0,stride:24},{buffer:P,type:h.FLOAT,size:3,offset:12,stride:24}],R),N=o(h);return N.attributes.position.location=0,N.attributes.normal.location=1,new l(h,P,L,N)};var s=i(5827),a=i(2944),o=i(1943).bg;function l(h,v,p,T){this.gl=h,this.buffer=v,this.vao=p,this.shader=T}var c=l.prototype;c.draw=function(h,v,p,T,_,g){for(var w=!1,x=0;x<3;++x)w=w||_[x];if(w){var b=this.gl;b.enable(b.POLYGON_OFFSET_FILL),b.polygonOffset(1,2),this.shader.bind(),this.shader.uniforms={model:h,view:v,projection:p,bounds:T,enable:_,colors:g},this.vao.bind(),this.vao.draw(this.gl.TRIANGLES,36),this.vao.unbind(),b.disable(b.POLYGON_OFFSET_FILL)}},c.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()}},2864:function(y,u,i){"use strict";y.exports=function(m,C,k,P,R){a(c,C,m),a(c,k,c);for(var L=0,N=0;N<2;++N){p[2]=P[N][2];for(var B=0;B<2;++B){p[1]=P[B][1];for(var J=0;J<2;++J)p[0]=P[J][0],_(h[L],p,c),L+=1}}var z=-1;for(N=0;N<8;++N){for(var Y=h[N][3],q=0;q<3;++q)v[N][q]=h[N][q]/Y;R&&(v[N][2]*=-1),Y<0&&(z<0||v[N][2]<v[z][2])&&(z=N)}if(z<0){z=0;for(var U=0;U<3;++U){for(var Z=(U+2)%3,X=(U+1)%3,se=-1,re=-1,ee=0;ee<2;++ee){var K=(ae=ee<<U)+(ee<<Z)+(1-ee<<X),ne=ae+(1-ee<<Z)+(ee<<X);l(v[ae],v[K],v[ne],T)<0||(ee?se=1:re=1)}if(se<0||re<0)re>se&&(z|=1<<U);else{for(ee=0;ee<2;++ee){K=(ae=ee<<U)+(ee<<Z)+(1-ee<<X);var ae,ue=w([h[ae],h[K],h[ne=ae+(1-ee<<Z)+(ee<<X)],h[ae+(1<<Z)+(1<<X)]]);ee?se=ue:re=ue}re>se&&(z|=1<<U)}}}var he=7^z,pe=-1;for(N=0;N<8;++N)N!==z&&N!==he&&(pe<0||v[pe][1]>v[N][1])&&(pe=N);var ge=-1;for(N=0;N<3;++N)(Se=pe^1<<N)!==z&&Se!==he&&(ge<0&&(ge=Se),(X=v[Se])[0]<v[ge][0]&&(ge=Se));var xe=-1;for(N=0;N<3;++N){var Se;(Se=pe^1<<N)!==z&&Se!==he&&Se!==ge&&(xe<0&&(xe=Se),(X=v[Se])[0]>v[xe][0]&&(xe=Se))}var Te=x;Te[0]=Te[1]=Te[2]=0,Te[s.log2(ge^pe)]=pe&ge,Te[s.log2(pe^xe)]=pe&xe;var ye=7^xe;ye===z||ye===he?Te[s.log2(xe^(ye=7^ge))]=ye&xe:Te[s.log2(ge^ye)]=ye&ge;var we=b,ze=z;for(U=0;U<3;++U)we[U]=ze&1<<U?-1:1;return A};var s=i(2288),a=i(104),o=i(4670),l=i(417),c=new Array(16),h=new Array(8),v=new Array(8),p=new Array(3),T=[0,0,0];function _(m,C,k){for(var P=0;P<4;++P){m[P]=k[12+P];for(var R=0;R<3;++R)m[P]+=C[R]*k[4*R+P]}}!function(){for(var m=0;m<8;++m)h[m]=[1,1,1,1],v[m]=[1,1,1]}();var g=[[0,0,1,0,0],[0,0,-1,1,0],[0,-1,0,1,0],[0,1,0,1,0],[-1,0,0,1,0],[1,0,0,1,0]];function w(m){for(var C=0;C<g.length;++C)if((m=o.positive(m,g[C])).length<3)return 0;var k=m[0],P=k[0]/k[3],R=k[1]/k[3],L=0;for(C=1;C+1<m.length;++C){var N=m[C],B=m[C+1];L+=Math.abs((N[0]/N[3]-P)*(B[1]/B[3]-R)-(N[1]/N[3]-R)*(B[0]/B[3]-P))}return L}var x=[1,1,1],b=[0,0,0],A={cubeEdges:x,axis:b}},1681:function(y,u,i){"use strict";y.exports=function(x,b,A){var m=[],C=[0,0,0],k=[0,0,0],P=[0,0,0],R=[0,0,0];m.push(0,0,1,0,1,1,0,0,-1,0,0,-1,0,1,1,0,1,-1);for(var L=0;L<3;++L){for(var N=m.length/3|0,B=0;B<A[L].length;++B){var J=+A[L][B].x;m.push(J,0,1,J,1,1,J,0,-1,J,0,-1,J,1,1,J,1,-1)}var z=m.length/3|0;C[L]=N,k[L]=z-N,N=m.length/3|0;for(var Y=0;Y<A[L].length;++Y)m.push(J=+A[L][Y].x,0,1,J,1,1,J,0,-1,J,0,-1,J,1,1,J,1,-1);z=m.length/3|0,P[L]=N,R[L]=z-N}var q=s(x,new Float32Array(m)),U=a(x,[{buffer:q,type:x.FLOAT,size:3,stride:0,offset:0}]),Z=o(x);return Z.attributes.position.location=0,new g(x,q,U,Z,k,C,R,P)};var s=i(5827),a=i(2944),o=i(1943).j,l=[0,0,0],c=[0,0,0],h=[0,0,0],v=[0,0,0],p=[1,1];function T(x){return x[0]=x[1]=x[2]=0,x}function _(x,b){return x[0]=b[0],x[1]=b[1],x[2]=b[2],x}function g(x,b,A,m,C,k,P,R){this.gl=x,this.vertBuffer=b,this.vao=A,this.shader=m,this.tickCount=C,this.tickOffset=k,this.gridCount=P,this.gridOffset=R}var w=g.prototype;w.bind=function(x,b,A){this.shader.bind(),this.shader.uniforms.model=x,this.shader.uniforms.view=b,this.shader.uniforms.projection=A,p[0]=this.gl.drawingBufferWidth,p[1]=this.gl.drawingBufferHeight,this.shader.uniforms.screenShape=p,this.vao.bind()},w.unbind=function(){this.vao.unbind()},w.drawAxisLine=function(x,b,A,m,C){var k=T(c);this.shader.uniforms.majorAxis=c,k[x]=b[1][x]-b[0][x],this.shader.uniforms.minorAxis=k;var P,R=_(v,A);R[x]+=b[0][x],this.shader.uniforms.offset=R,this.shader.uniforms.lineWidth=C,this.shader.uniforms.color=m,(P=T(h))[(x+2)%3]=1,this.shader.uniforms.screenAxis=P,this.vao.draw(this.gl.TRIANGLES,6),(P=T(h))[(x+1)%3]=1,this.shader.uniforms.screenAxis=P,this.vao.draw(this.gl.TRIANGLES,6)},w.drawAxisTicks=function(x,b,A,m,C){if(this.tickCount[x]){var k=T(l);k[x]=1,this.shader.uniforms.majorAxis=k,this.shader.uniforms.offset=b,this.shader.uniforms.minorAxis=A,this.shader.uniforms.color=m,this.shader.uniforms.lineWidth=C;var P=T(h);P[x]=1,this.shader.uniforms.screenAxis=P,this.vao.draw(this.gl.TRIANGLES,this.tickCount[x],this.tickOffset[x])}},w.drawGrid=function(x,b,A,m,C,k){if(this.gridCount[x]){var P=T(c);P[b]=A[1][b]-A[0][b],this.shader.uniforms.minorAxis=P;var R=_(v,m);R[b]+=A[0][b],this.shader.uniforms.offset=R;var L=T(l);L[x]=1,this.shader.uniforms.majorAxis=L;var N=T(h);N[x]=1,this.shader.uniforms.screenAxis=N,this.shader.uniforms.lineWidth=k,this.shader.uniforms.color=C,this.vao.draw(this.gl.TRIANGLES,this.gridCount[x],this.gridOffset[x])}},w.drawZero=function(x,b,A,m,C,k){var P=T(c);this.shader.uniforms.majorAxis=P,P[x]=A[1][x]-A[0][x],this.shader.uniforms.minorAxis=P;var R=_(v,m);R[x]+=A[0][x],this.shader.uniforms.offset=R;var L=T(h);L[b]=1,this.shader.uniforms.screenAxis=L,this.shader.uniforms.lineWidth=k,this.shader.uniforms.color=C,this.vao.draw(this.gl.TRIANGLES,6)},w.dispose=function(){this.vao.dispose(),this.vertBuffer.dispose(),this.shader.dispose()}},1943:function(y,u,i){"use strict";var s=i(6832),a=i(5158),o=s(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position;\n\nuniform mat4 model, view, projection;\nuniform vec3 offset, majorAxis, minorAxis, screenAxis;\nuniform float lineWidth;\nuniform vec2 screenShape;\n\nvec3 project(vec3 p) {\n  vec4 pp = projection * view * model * vec4(p, 1.0);\n  return pp.xyz / max(pp.w, 0.0001);\n}\n\nvoid main() {\n  vec3 major = position.x * majorAxis;\n  vec3 minor = position.y * minorAxis;\n\n  vec3 vPosition = major + minor + offset;\n  vec3 pPosition = project(vPosition);\n  vec3 offset = project(vPosition + screenAxis * position.z);\n\n  vec2 screen = normalize((offset - pPosition).xy * screenShape) / screenShape;\n\n  gl_Position = vec4(pPosition + vec3(0.5 * screen * lineWidth, 0), 1.0);\n}\n"]),l=s(["precision highp float;\n#define GLSLIFY 1\n\nuniform vec4 color;\nvoid main() {\n  gl_FragColor = color;\n}"]);u.j=function(T){return a(T,o,l,null,[{name:"position",type:"vec3"}])};var c=s(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position;\n\nuniform mat4 model, view, projection;\nuniform vec3 offset, axis, alignDir, alignOpt;\nuniform float scale, angle, pixelScale;\nuniform vec2 resolution;\n\nvec3 project(vec3 p) {\n  vec4 pp = projection * view * model * vec4(p, 1.0);\n  return pp.xyz / max(pp.w, 0.0001);\n}\n\nfloat computeViewAngle(vec3 a, vec3 b) {\n  vec3 A = project(a);\n  vec3 B = project(b);\n\n  return atan(\n    (B.y - A.y) * resolution.y,\n    (B.x - A.x) * resolution.x\n  );\n}\n\nconst float PI = 3.141592;\nconst float TWO_PI = 2.0 * PI;\nconst float HALF_PI = 0.5 * PI;\nconst float ONE_AND_HALF_PI = 1.5 * PI;\n\nint option = int(floor(alignOpt.x + 0.001));\nfloat hv_ratio =       alignOpt.y;\nbool enableAlign =    (alignOpt.z != 0.0);\n\nfloat mod_angle(float a) {\n  return mod(a, PI);\n}\n\nfloat positive_angle(float a) {\n  return mod_angle((a < 0.0) ?\n    a + TWO_PI :\n    a\n  );\n}\n\nfloat look_upwards(float a) {\n  float b = positive_angle(a);\n  return ((b > HALF_PI) && (b <= ONE_AND_HALF_PI)) ?\n    b - PI :\n    b;\n}\n\nfloat look_horizontal_or_vertical(float a, float ratio) {\n  // ratio controls the ratio between being horizontal to (vertical + horizontal)\n  // if ratio is set to 0.5 then it is 50%, 50%.\n  // when using a higher ratio e.g. 0.75 the result would\n  // likely be more horizontal than vertical.\n\n  float b = positive_angle(a);\n\n  return\n    (b < (      ratio) * HALF_PI) ? 0.0 :\n    (b < (2.0 - ratio) * HALF_PI) ? -HALF_PI :\n    (b < (2.0 + ratio) * HALF_PI) ? 0.0 :\n    (b < (4.0 - ratio) * HALF_PI) ? HALF_PI :\n                                    0.0;\n}\n\nfloat roundTo(float a, float b) {\n  return float(b * floor((a + 0.5 * b) / b));\n}\n\nfloat look_round_n_directions(float a, int n) {\n  float b = positive_angle(a);\n  float div = TWO_PI / float(n);\n  float c = roundTo(b, div);\n  return look_upwards(c);\n}\n\nfloat applyAlignOption(float rawAngle, float delta) {\n  return\n    (option >  2) ? look_round_n_directions(rawAngle + delta, option) :       // option 3-n: round to n directions\n    (option == 2) ? look_horizontal_or_vertical(rawAngle + delta, hv_ratio) : // horizontal or vertical\n    (option == 1) ? rawAngle + delta :       // use free angle, and flip to align with one direction of the axis\n    (option == 0) ? look_upwards(rawAngle) : // use free angle, and stay upwards\n    (option ==-1) ? 0.0 :                    // useful for backward compatibility, all texts remains horizontal\n                    rawAngle;                // otherwise return back raw input angle\n}\n\nbool isAxisTitle = (axis.x == 0.0) &&\n                   (axis.y == 0.0) &&\n                   (axis.z == 0.0);\n\nvoid main() {\n  //Compute world offset\n  float axisDistance = position.z;\n  vec3 dataPosition = axisDistance * axis + offset;\n\n  float beta = angle; // i.e. user defined attributes for each tick\n\n  float axisAngle;\n  float clipAngle;\n  float flip;\n\n  if (enableAlign) {\n    axisAngle = (isAxisTitle) ? HALF_PI :\n                      computeViewAngle(dataPosition, dataPosition + axis);\n    clipAngle = computeViewAngle(dataPosition, dataPosition + alignDir);\n\n    axisAngle += (sin(axisAngle) < 0.0) ? PI : 0.0;\n    clipAngle += (sin(clipAngle) < 0.0) ? PI : 0.0;\n\n    flip = (dot(vec2(cos(axisAngle), sin(axisAngle)),\n                vec2(sin(clipAngle),-cos(clipAngle))) > 0.0) ? 1.0 : 0.0;\n\n    beta += applyAlignOption(clipAngle, flip * PI);\n  }\n\n  //Compute plane offset\n  vec2 planeCoord = position.xy * pixelScale;\n\n  mat2 planeXform = scale * mat2(\n     cos(beta), sin(beta),\n    -sin(beta), cos(beta)\n  );\n\n  vec2 viewOffset = 2.0 * planeXform * planeCoord / resolution;\n\n  //Compute clip position\n  vec3 clipPosition = project(dataPosition);\n\n  //Apply text offset in clip coordinates\n  clipPosition += vec3(viewOffset, 0.0);\n\n  //Done\n  gl_Position = vec4(clipPosition, 1.0);\n}"]),h=s(["precision highp float;\n#define GLSLIFY 1\n\nuniform vec4 color;\nvoid main() {\n  gl_FragColor = color;\n}"]);u.f=function(T){return a(T,c,h,null,[{name:"position",type:"vec3"}])};var v=s(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position;\nattribute vec3 normal;\n\nuniform mat4 model, view, projection;\nuniform vec3 enable;\nuniform vec3 bounds[2];\n\nvarying vec3 colorChannel;\n\nvoid main() {\n\n  vec3 signAxis = sign(bounds[1] - bounds[0]);\n\n  vec3 realNormal = signAxis * normal;\n\n  if(dot(realNormal, enable) > 0.0) {\n    vec3 minRange = min(bounds[0], bounds[1]);\n    vec3 maxRange = max(bounds[0], bounds[1]);\n    vec3 nPosition = mix(minRange, maxRange, 0.5 * (position + 1.0));\n    gl_Position = projection * view * model * vec4(nPosition, 1.0);\n  } else {\n    gl_Position = vec4(0,0,0,0);\n  }\n\n  colorChannel = abs(realNormal);\n}"]),p=s(["precision highp float;\n#define GLSLIFY 1\n\nuniform vec4 colors[3];\n\nvarying vec3 colorChannel;\n\nvoid main() {\n  gl_FragColor = colorChannel.x * colors[0] +\n                 colorChannel.y * colors[1] +\n                 colorChannel.z * colors[2];\n}"]);u.bg=function(T){return a(T,v,p,null,[{name:"position",type:"vec3"},{name:"normal",type:"vec3"}])}},9557:function(y,u,i){"use strict";y.exports=function(_,g,w,x,b,A){var m=s(_),C=a(_,[{buffer:m,size:3}]),k=l(_);k.attributes.position.location=0;var P=new v(_,k,m,C);return P.update(g,w,x,b,A),P};var s=i(5827),a=i(2944),o=i(875),l=i(1943).f,c=window||E.global||{},h=c.__TEXT_CACHE||{};function v(_,g,w,x){this.gl=_,this.shader=g,this.buffer=w,this.vao=x,this.tickOffset=this.tickCount=this.labelOffset=this.labelCount=null}c.__TEXT_CACHE={};var p=v.prototype,T=[0,0];p.bind=function(_,g,w,x){this.vao.bind(),this.shader.bind();var b=this.shader.uniforms;b.model=_,b.view=g,b.projection=w,b.pixelScale=x,T[0]=this.gl.drawingBufferWidth,T[1]=this.gl.drawingBufferHeight,this.shader.uniforms.resolution=T},p.unbind=function(){this.vao.unbind()},p.update=function(_,g,w,x,b){var A=[];function m(J,z,Y,q,U,Z){var X=h[Y];X||(X=h[Y]={});var se=X[z];se||(se=X[z]=function(ge,xe){try{return o(ge,xe)}catch(Se){return console.warn('error vectorizing text:"'+ge+'" error:',Se),{cells:[],positions:[]}}}(z,{triangles:!0,font:Y,textAlign:"center",textBaseline:"middle",lineSpacing:U,styletags:Z}));for(var re=(q||12)/12,ee=se.positions,K=se.cells,ne=0,ae=K.length;ne<ae;++ne)for(var ue=K[ne],he=2;he>=0;--he){var pe=ee[ue[he]];A.push(re*pe[0],-re*pe[1],J)}}for(var C=[0,0,0],k=[0,0,0],P=[0,0,0],R=[0,0,0],L={breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0},N=0;N<3;++N){P[N]=A.length/3|0,m(.5*(_[0][N]+_[1][N]),g[N],w[N],12,1.25,L),R[N]=(A.length/3|0)-P[N],C[N]=A.length/3|0;for(var B=0;B<x[N].length;++B)x[N][B].text&&m(x[N][B].x,x[N][B].text,x[N][B].font||b,x[N][B].fontSize||12,1.25,L);k[N]=(A.length/3|0)-C[N]}this.buffer.update(A),this.tickOffset=C,this.tickCount=k,this.labelOffset=P,this.labelCount=R},p.drawTicks=function(_,g,w,x,b,A,m,C){this.tickCount[_]&&(this.shader.uniforms.axis=A,this.shader.uniforms.color=b,this.shader.uniforms.angle=w,this.shader.uniforms.scale=g,this.shader.uniforms.offset=x,this.shader.uniforms.alignDir=m,this.shader.uniforms.alignOpt=C,this.vao.draw(this.gl.TRIANGLES,this.tickCount[_],this.tickOffset[_]))},p.drawLabel=function(_,g,w,x,b,A,m,C){this.labelCount[_]&&(this.shader.uniforms.axis=A,this.shader.uniforms.color=b,this.shader.uniforms.angle=w,this.shader.uniforms.scale=g,this.shader.uniforms.offset=x,this.shader.uniforms.alignDir=m,this.shader.uniforms.alignOpt=C,this.vao.draw(this.gl.TRIANGLES,this.labelCount[_],this.labelOffset[_]))},p.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()}},8468:function(y,u){"use strict";function i(s,a){var o=s+"",l=o.indexOf("."),c=0;l>=0&&(c=o.length-l-1);var h=Math.pow(10,c),v=Math.round(s*a*h),p=v+"";if(p.indexOf("e")>=0)return p;var T=v/h,_=v%h;v<0?(T=0|-Math.ceil(T),_=0|-_):(T=0|Math.floor(T),_|=0);var g=""+T;if(v<0&&(g="-"+g),c){for(var w=""+_;w.length<c;)w="0"+w;return g+"."+w}return g}u.create=function(s,a){for(var o=[],l=0;l<3;++l){for(var c=[],h=0;h*a[l]<=s[1][l];++h)c.push({x:h*a[l],text:i(a[l],h)});for(h=-1;h*a[l]>=s[0][l];--h)c.push({x:h*a[l],text:i(a[l],h)});o.push(c)}return o},u.equal=function(s,a){for(var o=0;o<3;++o){if(s[o].length!==a[o].length)return!1;for(var l=0;l<s[o].length;++l){var c=s[o][l],h=a[o][l];if(c.x!==h.x||c.text!==h.text||c.font!==h.font||c.fontColor!==h.fontColor||c.fontSize!==h.fontSize||c.dx!==h.dx||c.dy!==h.dy)return!1}}return!0}},2771:function(y,u,i){"use strict";y.exports=function(A,m,C,k,P){var R=m.model||v,L=m.view||v,N=m.projection||v,B=m._ortho||!1,J=A.bounds,z=(P=P||o(R,L,N,J,B)).axis;l(p,L,R),l(p,N,p);for(var Y=x,q=0;q<3;++q)Y[q].lo=1/0,Y[q].hi=-1/0,Y[q].pixelsPerDataUnit=1/0;var U=s(c(p,p));c(p,p);for(var Z=0;Z<3;++Z){var X=(Z+1)%3,se=(Z+2)%3,re=b;e:for(q=0;q<2;++q){var ee=[];if(z[Z]<0!=!!q){re[Z]=J[q][Z];for(var K=0;K<2;++K){re[X]=J[K^q][X];for(var ne=0;ne<2;++ne)re[se]=J[ne^K^q][se],ee.push(re.slice())}var ae=B?5:4;for(K=ae;K===ae;++K){if(0===ee.length)continue e;ee=a.positive(ee,U[K])}for(K=0;K<ee.length;++K){var ue=w(b,p,se=ee[K],C,k);for(ne=0;ne<3;++ne)Y[ne].lo=Math.min(Y[ne].lo,se[ne]),Y[ne].hi=Math.max(Y[ne].hi,se[ne]),ne!==Z&&(Y[ne].pixelsPerDataUnit=Math.min(Y[ne].pixelsPerDataUnit,Math.abs(ue[ne])))}}}}return Y};var s=i(5795),a=i(4670),o=i(2864),l=i(104),c=i(2142),h=i(6342),v=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),p=new Float32Array(16);function T(A,m,C){this.lo=A,this.hi=m,this.pixelsPerDataUnit=C}var _=[0,0,0,1],g=[0,0,0,1];function w(A,m,C,k,P){for(var R=0;R<3;++R){for(var L=_,N=g,B=0;B<3;++B)N[B]=L[B]=C[B];N[3]=L[3]=1,N[R]+=1,h(N,N,m),N[3]<0&&(A[R]=1/0),L[R]-=1,h(L,L,m),L[3]<0&&(A[R]=1/0);var J=(L[0]/L[3]-N[0]/N[3])*k,z=(L[1]/L[3]-N[1]/N[3])*P;A[R]=.25*Math.sqrt(J*J+z*z)}return A}var x=[new T(1/0,-1/0,1/0),new T(1/0,-1/0,1/0),new T(1/0,-1/0,1/0)],b=[0,0,0]},5827:function(y,u,i){"use strict";var s=i(5306),a=i(7498),o=i(5050),l=["uint8","uint8_clamped","uint16","uint32","int8","int16","int32","float32"];function c(T,_,g,w,x){this.gl=T,this.type=_,this.handle=g,this.length=w,this.usage=x}var h=c.prototype;function v(T,_,g,w,x,b){var A=x.length*x.BYTES_PER_ELEMENT;if(b<0)return T.bufferData(_,x,w),A;if(A+b>g)throw new Error("gl-buffer: If resizing buffer, must not specify offset");return T.bufferSubData(_,b,x),g}h.bind=function(){this.gl.bindBuffer(this.type,this.handle)},h.unbind=function(){this.gl.bindBuffer(this.type,null)},h.dispose=function(){this.gl.deleteBuffer(this.handle)},h.update=function(T,_){if("number"!=typeof _&&(_=-1),this.bind(),"object"==typeof T&&void 0!==T.shape){var g=T.dtype;if(l.indexOf(g)<0&&(g="float32"),this.type===this.gl.ELEMENT_ARRAY_BUFFER&&(g=gl.getExtension("OES_element_index_uint")&&"uint16"!==g?"uint32":"uint16"),g===T.dtype&&function(A,m){for(var C=1,k=m.length-1;k>=0;--k){if(m[k]!==C)return!1;C*=A[k]}return!0}(T.shape,T.stride))this.length=v(this.gl,this.type,this.length,this.usage,0===T.offset&&T.data.length===T.shape[0]?T.data:T.data.subarray(T.offset,T.shape[0]),_);else{var w=s.malloc(T.size,g),x=o(w,T.shape);a.assign(x,T),this.length=v(this.gl,this.type,this.length,this.usage,_<0?w:w.subarray(0,T.size),_),s.free(w)}}else if(Array.isArray(T)){var b;b=function p(T,_){for(var g=s.malloc(T.length,_),w=T.length,x=0;x<w;++x)g[x]=T[x];return g}(T,this.type===this.gl.ELEMENT_ARRAY_BUFFER?"uint16":"float32"),this.length=v(this.gl,this.type,this.length,this.usage,_<0?b:b.subarray(0,T.length),_),s.free(b)}else if("object"==typeof T&&"number"==typeof T.length)this.length=v(this.gl,this.type,this.length,this.usage,T,_);else{if("number"!=typeof T&&void 0!==T)throw new Error("gl-buffer: Invalid data type");if(_>=0)throw new Error("gl-buffer: Cannot specify offset when resizing buffer");(T|=0)<=0&&(T=1),this.gl.bufferData(this.type,0|T,this.usage),this.length=T}},y.exports=function(T,_,g,w){if(w=w||T.DYNAMIC_DRAW,(g=g||T.ARRAY_BUFFER)!==T.ARRAY_BUFFER&&g!==T.ELEMENT_ARRAY_BUFFER)throw new Error("gl-buffer: Invalid type for webgl buffer, must be either gl.ARRAY_BUFFER or gl.ELEMENT_ARRAY_BUFFER");if(w!==T.DYNAMIC_DRAW&&w!==T.STATIC_DRAW&&w!==T.STREAM_DRAW)throw new Error("gl-buffer: Invalid usage for buffer, must be either gl.DYNAMIC_DRAW, gl.STATIC_DRAW or gl.STREAM_DRAW");var x=T.createBuffer(),b=new c(T,g,x,0,w);return b.update(_),b}},1140:function(y,u,i){"use strict";var s=i(2858);y.exports=function(o,l){var c=o.positions,h=o.vectors,v={positions:[],vertexIntensity:[],vertexIntensityBounds:o.vertexIntensityBounds,vectors:[],cells:[],coneOffset:o.coneOffset,colormap:o.colormap};if(0===o.positions.length)return l&&(l[0]=[0,0,0],l[1]=[0,0,0]),v;for(var p=0,T=1/0,_=-1/0,g=1/0,w=-1/0,x=1/0,b=-1/0,A=null,m=null,C=[],k=1/0,P=!1,R=0;R<c.length;R++){var L=c[R];T=Math.min(L[0],T),_=Math.max(L[0],_),g=Math.min(L[1],g),w=Math.max(L[1],w),x=Math.min(L[2],x),b=Math.max(L[2],b);var N=h[R];if(s.length(N)>p&&(p=s.length(N)),R){var B=2*s.distance(A,L)/(s.length(m)+s.length(N));B?(k=Math.min(k,B),P=!1):P=!0}P||(A=L,m=N),C.push(N)}var z=[_,w,b];l&&(l[0]=[T,g,x],l[1]=z),0===p&&(p=1);var Y=1/p;isFinite(k)||(k=1),v.vectorScale=k;var q=o.coneSize||.5;o.absoluteConeSize&&(q=o.absoluteConeSize*Y),v.coneScale=q,R=0;for(var U=0;R<c.length;R++)for(var Z=(L=c[R])[0],X=L[1],se=L[2],re=C[R],ee=s.length(re)*Y,K=0;K<8;K++){v.positions.push([Z,X,se,U++]),v.positions.push([Z,X,se,U++]),v.positions.push([Z,X,se,U++]),v.positions.push([Z,X,se,U++]),v.positions.push([Z,X,se,U++]),v.positions.push([Z,X,se,U++]),v.vectors.push(re),v.vectors.push(re),v.vectors.push(re),v.vectors.push(re),v.vectors.push(re),v.vectors.push(re),v.vertexIntensity.push(ee,ee,ee),v.vertexIntensity.push(ee,ee,ee);var ne=v.positions.length;v.cells.push([ne-6,ne-5,ne-4],[ne-3,ne-2,ne-1])}return v};var a=i(7234);y.exports.createMesh=i(5028),y.exports.createConeMesh=function(o,l){return y.exports.createMesh(o,l,{shaders:a,traceType:"cone"})}},5028:function(y,u,i){"use strict";var s=i(5158),a=i(5827),o=i(2944),l=i(8931),c=i(104),h=i(7437),v=i(5050),p=i(9156),T=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function _(w,x,b,A,m,C,k,P,R,L,N){this.gl=w,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=x,this.dirty=!0,this.triShader=b,this.pickShader=A,this.trianglePositions=m,this.triangleVectors=C,this.triangleColors=P,this.triangleUVs=R,this.triangleIds=k,this.triangleVAO=L,this.triangleCount=0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.traceType=N,this.tubeScale=1,this.coneScale=2,this.vectorScale=1,this.coneOffset=.25,this._model=T,this._view=T,this._projection=T,this._resolution=[1,1]}var g=_.prototype;g.isOpaque=function(){return this.opacity>=1},g.isTransparent=function(){return this.opacity<1},g.pickSlots=1,g.setPickBase=function(w){this.pickId=w},g.update=function(w){w=w||{};var x=this.gl;this.dirty=!0,"lightPosition"in w&&(this.lightPosition=w.lightPosition),"opacity"in w&&(this.opacity=w.opacity),"ambient"in w&&(this.ambientLight=w.ambient),"diffuse"in w&&(this.diffuseLight=w.diffuse),"specular"in w&&(this.specularLight=w.specular),"roughness"in w&&(this.roughness=w.roughness),"fresnel"in w&&(this.fresnel=w.fresnel),void 0!==w.tubeScale&&(this.tubeScale=w.tubeScale),void 0!==w.vectorScale&&(this.vectorScale=w.vectorScale),void 0!==w.coneScale&&(this.coneScale=w.coneScale),void 0!==w.coneOffset&&(this.coneOffset=w.coneOffset),w.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=x.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=x.LINEAR,this.texture.setPixels(function(ue){for(var he=p({colormap:ue,nshades:256,format:"rgba"}),pe=new Uint8Array(1024),ge=0;ge<256;++ge){for(var xe=he[ge],Se=0;Se<3;++Se)pe[4*ge+Se]=xe[Se];pe[4*ge+3]=255*xe[3]}return v(pe,[256,256,4],[4,0,1])}(w.colormap)),this.texture.generateMipmap());var b=w.cells,A=w.positions,m=w.vectors;if(A&&b&&m){var C=[],k=[],P=[],R=[],L=[];this.cells=b,this.positions=A,this.vectors=m;var N=w.meshColor||[1,1,1,1],B=w.vertexIntensity,J=1/0,z=-1/0;if(B)if(w.vertexIntensityBounds)J=+w.vertexIntensityBounds[0],z=+w.vertexIntensityBounds[1];else for(var Y=0;Y<B.length;++Y){var q=B[Y];J=Math.min(J,q),z=Math.max(z,q)}else for(Y=0;Y<A.length;++Y)q=A[Y][2],J=Math.min(J,q),z=Math.max(z,q);for(this.intensity=B||function(ue){for(var he=ue.length,pe=new Array(he),ge=0;ge<he;++ge)pe[ge]=ue[ge][2];return pe}(A),this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],Y=0;Y<A.length;++Y)for(var U=A[Y],Z=0;Z<3;++Z)!isNaN(U[Z])&&isFinite(U[Z])&&(this.bounds[0][Z]=Math.min(this.bounds[0][Z],U[Z]),this.bounds[1][Z]=Math.max(this.bounds[1][Z],U[Z]));var X=0;e:for(Y=0;Y<b.length;++Y){var se=b[Y];if(3===se.length){for(Z=0;Z<3;++Z){U=A[ee=se[Z]];for(var re=0;re<3;++re)if(isNaN(U[re])||!isFinite(U[re]))continue e}for(Z=0;Z<3;++Z){var ee;U=A[ee=se[2-Z]],C.push(U[0],U[1],U[2],U[3]);var K=m[ee];k.push(K[0],K[1],K[2],K[3]||0);var ne;P.push(N[0],N[1],N[2],3===N.length?1:N[3]),R.push((ne=B?[(B[ee]-J)/(z-J),0]:[(U[2]-J)/(z-J),0])[0],ne[1]),L.push(Y)}X+=1}}this.triangleCount=X,this.trianglePositions.update(C),this.triangleVectors.update(k),this.triangleColors.update(P),this.triangleUVs.update(R),this.triangleIds.update(new Uint32Array(L))}},g.drawTransparent=g.draw=function(w){for(var x=this.gl,b=(w=w||{}).model||T,A=w.view||T,m=w.projection||T,C=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],k=0;k<3;++k)C[0][k]=Math.max(C[0][k],this.clipBounds[0][k]),C[1][k]=Math.min(C[1][k],this.clipBounds[1][k]);var P={model:b,view:A,projection:m,inverseModel:T.slice(),clipBounds:C,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],opacity:this.opacity,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,texture:0};P.inverseModel=h(P.inverseModel,P.model),x.disable(x.CULL_FACE),this.texture.bind(0);var R=new Array(16);for(c(R,P.view,P.model),c(R,P.projection,R),h(R,R),k=0;k<3;++k)P.eyePosition[k]=R[12+k]/R[15];var L=R[15];for(k=0;k<3;++k)L+=this.lightPosition[k]*R[4*k+3];for(k=0;k<3;++k){for(var N=R[12+k],B=0;B<3;++B)N+=R[4*B+k]*this.lightPosition[B];P.lightPosition[k]=N/L}if(this.triangleCount>0){var J=this.triShader;J.bind(),J.uniforms=P,this.triangleVAO.bind(),x.drawArrays(x.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind()}},g.drawPick=function(w){for(var x=this.gl,b=(w=w||{}).model||T,A=w.view||T,m=w.projection||T,C=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],k=0;k<3;++k)C[0][k]=Math.max(C[0][k],this.clipBounds[0][k]),C[1][k]=Math.min(C[1][k],this.clipBounds[1][k]);this._model=[].slice.call(b),this._view=[].slice.call(A),this._projection=[].slice.call(m),this._resolution=[x.drawingBufferWidth,x.drawingBufferHeight];var P={model:b,view:A,projection:m,clipBounds:C,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,pickId:this.pickId/255},R=this.pickShader;R.bind(),R.uniforms=P,this.triangleCount>0&&(this.triangleVAO.bind(),x.drawArrays(x.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind())},g.pick=function(w){if(!w||w.id!==this.pickId)return null;var x=w.value[0]+256*w.value[1]+65536*w.value[2],b=this.cells[x],A=this.positions[b[1]].slice(0,3),m={position:A,dataCoordinate:A,index:Math.floor(b[1]/48)};return"cone"===this.traceType?m.index=Math.floor(b[1]/48):"streamtube"===this.traceType&&(m.intensity=this.intensity[b[1]],m.velocity=this.vectors[b[1]].slice(0,3),m.divergence=this.vectors[b[1]][3],m.index=x),m},g.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.pickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleVectors.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleIds.dispose()},y.exports=function(w,x,b){var A=b.shaders;1===arguments.length&&(w=(x=w).gl);var Y,q,m=((q=s(w,(Y=A).meshShader.vertex,Y.meshShader.fragment,null,Y.meshShader.attributes)).attributes.position.location=0,q.attributes.color.location=2,q.attributes.uv.location=3,q.attributes.vector.location=4,q),C=function(z,Y){var q=s(z,Y.pickShader.vertex,Y.pickShader.fragment,null,Y.pickShader.attributes);return q.attributes.position.location=0,q.attributes.id.location=1,q.attributes.vector.location=4,q}(w,A),k=l(w,v(new Uint8Array([255,255,255,255]),[1,1,4]));k.generateMipmap(),k.minFilter=w.LINEAR_MIPMAP_LINEAR,k.magFilter=w.LINEAR;var P=a(w),R=a(w),L=a(w),N=a(w),B=a(w),J=new _(w,k,m,C,P,R,B,L,N,o(w,[{buffer:P,type:w.FLOAT,size:4},{buffer:B,type:w.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:L,type:w.FLOAT,size:4},{buffer:N,type:w.FLOAT,size:2},{buffer:R,type:w.FLOAT,size:4}]),b.traceType||"cone");return J.update(x),J}},7234:function(y,u,i){var s=i(6832),a=s(["precision highp float;\n\nprecision highp float;\n#define GLSLIFY 1\n\nvec3 getOrthogonalVector(vec3 v) {\n  // Return up-vector for only-z vector.\n  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).\n  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.\n  // Assign z = 0, x = -b, y = a:\n  // a*-b + b*a + c*0 = -ba + ba + 0 = 0\n  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {\n    return normalize(vec3(-v.y, v.x, 0.0));\n  } else {\n    return normalize(vec3(0.0, v.z, -v.y));\n  }\n}\n\n// Calculate the cone vertex and normal at the given index.\n//\n// The returned vertex is for a cone with its top at origin and height of 1.0,\n// pointing in the direction of the vector attribute.\n//\n// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.\n// These vertices are used to make up the triangles of the cone by the following:\n//   segment + 0 top vertex\n//   segment + 1 perimeter vertex a+1\n//   segment + 2 perimeter vertex a\n//   segment + 3 center base vertex\n//   segment + 4 perimeter vertex a\n//   segment + 5 perimeter vertex a+1\n// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.\n// To go from index to segment, floor(index / 6)\n// To go from segment to angle, 2*pi * (segment/segmentCount)\n// To go from index to segment index, index - (segment*6)\n//\nvec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {\n\n  const float segmentCount = 8.0;\n\n  float index = rawIndex - floor(rawIndex /\n    (segmentCount * 6.0)) *\n    (segmentCount * 6.0);\n\n  float segment = floor(0.001 + index/6.0);\n  float segmentIndex = index - (segment*6.0);\n\n  normal = -normalize(d);\n\n  if (segmentIndex > 2.99 && segmentIndex < 3.01) {\n    return mix(vec3(0.0), -d, coneOffset);\n  }\n\n  float nextAngle = (\n    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||\n    (segmentIndex > 4.99 &&  segmentIndex < 5.01)\n  ) ? 1.0 : 0.0;\n  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);\n\n  vec3 v1 = mix(d, vec3(0.0), coneOffset);\n  vec3 v2 = v1 - d;\n\n  vec3 u = getOrthogonalVector(d);\n  vec3 v = normalize(cross(u, d));\n\n  vec3 x = u * cos(angle) * length(d)*0.25;\n  vec3 y = v * sin(angle) * length(d)*0.25;\n  vec3 v3 = v2 + x + y;\n  if (segmentIndex < 3.0) {\n    vec3 tx = u * sin(angle);\n    vec3 ty = v * -cos(angle);\n    vec3 tangent = tx + ty;\n    normal = normalize(cross(v3 - v1, tangent));\n  }\n\n  if (segmentIndex == 0.0) {\n    return mix(d, vec3(0.0), coneOffset);\n  }\n  return v3;\n}\n\nattribute vec3 vector;\nattribute vec4 color, position;\nattribute vec2 uv;\n\nuniform float vectorScale, coneScale, coneOffset;\nuniform mat4 model, view, projection, inverseModel;\nuniform vec3 eyePosition, lightPosition;\n\nvarying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  // Scale the vector magnitude to stay constant with\n  // model & view changes.\n  vec3 normal;\n  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector), position.w, coneOffset, normal);\n  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);\n\n  //Lighting geometry parameters\n  vec4 cameraCoordinate = view * conePosition;\n  cameraCoordinate.xyz /= cameraCoordinate.w;\n  f_lightDirection = lightPosition - cameraCoordinate.xyz;\n  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;\n  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);\n\n  // vec4 m_position  = model * vec4(conePosition, 1.0);\n  vec4 t_position  = view * conePosition;\n  gl_Position      = projection * t_position;\n\n  f_color          = color;\n  f_data           = conePosition.xyz;\n  f_position       = position.xyz;\n  f_uv             = uv;\n}\n"]),o=s(["#extension GL_OES_standard_derivatives : enable\n\nprecision highp float;\n#define GLSLIFY 1\n\nfloat beckmannDistribution(float x, float roughness) {\n  float NdotH = max(x, 0.0001);\n  float cos2Alpha = NdotH * NdotH;\n  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;\n  float roughness2 = roughness * roughness;\n  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;\n  return exp(tan2Alpha / roughness2) / denom;\n}\n\nfloat cookTorranceSpecular(\n  vec3 lightDirection,\n  vec3 viewDirection,\n  vec3 surfaceNormal,\n  float roughness,\n  float fresnel) {\n\n  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);\n  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);\n\n  //Half angle vector\n  vec3 H = normalize(lightDirection + viewDirection);\n\n  //Geometric term\n  float NdotH = max(dot(surfaceNormal, H), 0.0);\n  float VdotH = max(dot(viewDirection, H), 0.000001);\n  float LdotH = max(dot(lightDirection, H), 0.000001);\n  float G1 = (2.0 * NdotH * VdotN) / VdotH;\n  float G2 = (2.0 * NdotH * LdotN) / LdotH;\n  float G = min(1.0, min(G1, G2));\n  \n  //Distribution term\n  float D = beckmannDistribution(NdotH, roughness);\n\n  //Fresnel term\n  float F = pow(1.0 - VdotN, fresnel);\n\n  //Multiply terms and done\n  return  G * F * D / max(3.14159265 * VdotN, 0.000001);\n}\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 clipBounds[2];\nuniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;\nuniform sampler2D texture;\n\nvarying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;\n  vec3 N = normalize(f_normal);\n  vec3 L = normalize(f_lightDirection);\n  vec3 V = normalize(f_eyeDirection);\n\n  if(gl_FrontFacing) {\n    N = -N;\n  }\n\n  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));\n  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);\n\n  vec4 surfaceColor = f_color * texture2D(texture, f_uv);\n  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);\n\n  gl_FragColor = litColor * opacity;\n}\n"]),l=s(["precision highp float;\n\nprecision highp float;\n#define GLSLIFY 1\n\nvec3 getOrthogonalVector(vec3 v) {\n  // Return up-vector for only-z vector.\n  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).\n  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.\n  // Assign z = 0, x = -b, y = a:\n  // a*-b + b*a + c*0 = -ba + ba + 0 = 0\n  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {\n    return normalize(vec3(-v.y, v.x, 0.0));\n  } else {\n    return normalize(vec3(0.0, v.z, -v.y));\n  }\n}\n\n// Calculate the cone vertex and normal at the given index.\n//\n// The returned vertex is for a cone with its top at origin and height of 1.0,\n// pointing in the direction of the vector attribute.\n//\n// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.\n// These vertices are used to make up the triangles of the cone by the following:\n//   segment + 0 top vertex\n//   segment + 1 perimeter vertex a+1\n//   segment + 2 perimeter vertex a\n//   segment + 3 center base vertex\n//   segment + 4 perimeter vertex a\n//   segment + 5 perimeter vertex a+1\n// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.\n// To go from index to segment, floor(index / 6)\n// To go from segment to angle, 2*pi * (segment/segmentCount)\n// To go from index to segment index, index - (segment*6)\n//\nvec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {\n\n  const float segmentCount = 8.0;\n\n  float index = rawIndex - floor(rawIndex /\n    (segmentCount * 6.0)) *\n    (segmentCount * 6.0);\n\n  float segment = floor(0.001 + index/6.0);\n  float segmentIndex = index - (segment*6.0);\n\n  normal = -normalize(d);\n\n  if (segmentIndex > 2.99 && segmentIndex < 3.01) {\n    return mix(vec3(0.0), -d, coneOffset);\n  }\n\n  float nextAngle = (\n    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||\n    (segmentIndex > 4.99 &&  segmentIndex < 5.01)\n  ) ? 1.0 : 0.0;\n  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);\n\n  vec3 v1 = mix(d, vec3(0.0), coneOffset);\n  vec3 v2 = v1 - d;\n\n  vec3 u = getOrthogonalVector(d);\n  vec3 v = normalize(cross(u, d));\n\n  vec3 x = u * cos(angle) * length(d)*0.25;\n  vec3 y = v * sin(angle) * length(d)*0.25;\n  vec3 v3 = v2 + x + y;\n  if (segmentIndex < 3.0) {\n    vec3 tx = u * sin(angle);\n    vec3 ty = v * -cos(angle);\n    vec3 tangent = tx + ty;\n    normal = normalize(cross(v3 - v1, tangent));\n  }\n\n  if (segmentIndex == 0.0) {\n    return mix(d, vec3(0.0), coneOffset);\n  }\n  return v3;\n}\n\nattribute vec4 vector;\nattribute vec4 position;\nattribute vec4 id;\n\nuniform mat4 model, view, projection;\nuniform float vectorScale, coneScale, coneOffset;\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  vec3 normal;\n  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector.xyz), position.w, coneOffset, normal);\n  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);\n  gl_Position = projection * view * conePosition;\n  f_id        = id;\n  f_position  = position.xyz;\n}\n"]),c=s(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3  clipBounds[2];\nuniform float pickId;\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;\n\n  gl_FragColor = vec4(pickId, f_id.xyz);\n}"]);u.meshShader={vertex:a,fragment:o,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec3"}]},u.pickShader={vertex:l,fragment:c,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec3"}]}},1950:function(y){y.exports={0:"NONE",1:"ONE",2:"LINE_LOOP",3:"LINE_STRIP",4:"TRIANGLES",5:"TRIANGLE_STRIP",6:"TRIANGLE_FAN",256:"DEPTH_BUFFER_BIT",512:"NEVER",513:"LESS",514:"EQUAL",515:"LEQUAL",516:"GREATER",517:"NOTEQUAL",518:"GEQUAL",519:"ALWAYS",768:"SRC_COLOR",769:"ONE_MINUS_SRC_COLOR",770:"SRC_ALPHA",771:"ONE_MINUS_SRC_ALPHA",772:"DST_ALPHA",773:"ONE_MINUS_DST_ALPHA",774:"DST_COLOR",775:"ONE_MINUS_DST_COLOR",776:"SRC_ALPHA_SATURATE",1024:"STENCIL_BUFFER_BIT",1028:"FRONT",1029:"BACK",1032:"FRONT_AND_BACK",1280:"INVALID_ENUM",1281:"INVALID_VALUE",1282:"INVALID_OPERATION",1285:"OUT_OF_MEMORY",1286:"INVALID_FRAMEBUFFER_OPERATION",2304:"CW",2305:"CCW",2849:"LINE_WIDTH",2884:"CULL_FACE",2885:"CULL_FACE_MODE",2886:"FRONT_FACE",2928:"DEPTH_RANGE",2929:"DEPTH_TEST",2930:"DEPTH_WRITEMASK",2931:"DEPTH_CLEAR_VALUE",2932:"DEPTH_FUNC",2960:"STENCIL_TEST",2961:"STENCIL_CLEAR_VALUE",2962:"STENCIL_FUNC",2963:"STENCIL_VALUE_MASK",2964:"STENCIL_FAIL",2965:"STENCIL_PASS_DEPTH_FAIL",2966:"STENCIL_PASS_DEPTH_PASS",2967:"STENCIL_REF",2968:"STENCIL_WRITEMASK",2978:"VIEWPORT",3024:"DITHER",3042:"BLEND",3088:"SCISSOR_BOX",3089:"SCISSOR_TEST",3106:"COLOR_CLEAR_VALUE",3107:"COLOR_WRITEMASK",3317:"UNPACK_ALIGNMENT",3333:"PACK_ALIGNMENT",3379:"MAX_TEXTURE_SIZE",3386:"MAX_VIEWPORT_DIMS",3408:"SUBPIXEL_BITS",3410:"RED_BITS",3411:"GREEN_BITS",3412:"BLUE_BITS",3413:"ALPHA_BITS",3414:"DEPTH_BITS",3415:"STENCIL_BITS",3553:"TEXTURE_2D",4352:"DONT_CARE",4353:"FASTEST",4354:"NICEST",5120:"BYTE",5121:"UNSIGNED_BYTE",5122:"SHORT",5123:"UNSIGNED_SHORT",5124:"INT",5125:"UNSIGNED_INT",5126:"FLOAT",5386:"INVERT",5890:"TEXTURE",6401:"STENCIL_INDEX",6402:"DEPTH_COMPONENT",6406:"ALPHA",6407:"RGB",6408:"RGBA",6409:"LUMINANCE",6410:"LUMINANCE_ALPHA",7680:"KEEP",7681:"REPLACE",7682:"INCR",7683:"DECR",7936:"VENDOR",7937:"RENDERER",7938:"VERSION",9728:"NEAREST",9729:"LINEAR",9984:"NEAREST_MIPMAP_NEAREST",9985:"LINEAR_MIPMAP_NEAREST",9986:"NEAREST_MIPMAP_LINEAR",9987:"LINEAR_MIPMAP_LINEAR",10240:"TEXTURE_MAG_FILTER",10241:"TEXTURE_MIN_FILTER",10242:"TEXTURE_WRAP_S",10243:"TEXTURE_WRAP_T",10497:"REPEAT",10752:"POLYGON_OFFSET_UNITS",16384:"COLOR_BUFFER_BIT",32769:"CONSTANT_COLOR",32770:"ONE_MINUS_CONSTANT_COLOR",32771:"CONSTANT_ALPHA",32772:"ONE_MINUS_CONSTANT_ALPHA",32773:"BLEND_COLOR",32774:"FUNC_ADD",32777:"BLEND_EQUATION_RGB",32778:"FUNC_SUBTRACT",32779:"FUNC_REVERSE_SUBTRACT",32819:"UNSIGNED_SHORT_4_4_4_4",32820:"UNSIGNED_SHORT_5_5_5_1",32823:"POLYGON_OFFSET_FILL",32824:"POLYGON_OFFSET_FACTOR",32854:"RGBA4",32855:"RGB5_A1",32873:"TEXTURE_BINDING_2D",32926:"SAMPLE_ALPHA_TO_COVERAGE",32928:"SAMPLE_COVERAGE",32936:"SAMPLE_BUFFERS",32937:"SAMPLES",32938:"SAMPLE_COVERAGE_VALUE",32939:"SAMPLE_COVERAGE_INVERT",32968:"BLEND_DST_RGB",32969:"BLEND_SRC_RGB",32970:"BLEND_DST_ALPHA",32971:"BLEND_SRC_ALPHA",33071:"CLAMP_TO_EDGE",33170:"GENERATE_MIPMAP_HINT",33189:"DEPTH_COMPONENT16",33306:"DEPTH_STENCIL_ATTACHMENT",33635:"UNSIGNED_SHORT_5_6_5",33648:"MIRRORED_REPEAT",33901:"ALIASED_POINT_SIZE_RANGE",33902:"ALIASED_LINE_WIDTH_RANGE",33984:"TEXTURE0",33985:"TEXTURE1",33986:"TEXTURE2",33987:"TEXTURE3",33988:"TEXTURE4",33989:"TEXTURE5",33990:"TEXTURE6",33991:"TEXTURE7",33992:"TEXTURE8",33993:"TEXTURE9",33994:"TEXTURE10",33995:"TEXTURE11",33996:"TEXTURE12",33997:"TEXTURE13",33998:"TEXTURE14",33999:"TEXTURE15",34e3:"TEXTURE16",34001:"TEXTURE17",34002:"TEXTURE18",34003:"TEXTURE19",34004:"TEXTURE20",34005:"TEXTURE21",34006:"TEXTURE22",34007:"TEXTURE23",34008:"TEXTURE24",34009:"TEXTURE25",34010:"TEXTURE26",34011:"TEXTURE27",34012:"TEXTURE28",34013:"TEXTURE29",34014:"TEXTURE30",34015:"TEXTURE31",34016:"ACTIVE_TEXTURE",34024:"MAX_RENDERBUFFER_SIZE",34041:"DEPTH_STENCIL",34055:"INCR_WRAP",34056:"DECR_WRAP",34067:"TEXTURE_CUBE_MAP",34068:"TEXTURE_BINDING_CUBE_MAP",34069:"TEXTURE_CUBE_MAP_POSITIVE_X",34070:"TEXTURE_CUBE_MAP_NEGATIVE_X",34071:"TEXTURE_CUBE_MAP_POSITIVE_Y",34072:"TEXTURE_CUBE_MAP_NEGATIVE_Y",34073:"TEXTURE_CUBE_MAP_POSITIVE_Z",34074:"TEXTURE_CUBE_MAP_NEGATIVE_Z",34076:"MAX_CUBE_MAP_TEXTURE_SIZE",34338:"VERTEX_ATTRIB_ARRAY_ENABLED",34339:"VERTEX_ATTRIB_ARRAY_SIZE",34340:"VERTEX_ATTRIB_ARRAY_STRIDE",34341:"VERTEX_ATTRIB_ARRAY_TYPE",34342:"CURRENT_VERTEX_ATTRIB",34373:"VERTEX_ATTRIB_ARRAY_POINTER",34466:"NUM_COMPRESSED_TEXTURE_FORMATS",34467:"COMPRESSED_TEXTURE_FORMATS",34660:"BUFFER_SIZE",34661:"BUFFER_USAGE",34816:"STENCIL_BACK_FUNC",34817:"STENCIL_BACK_FAIL",34818:"STENCIL_BACK_PASS_DEPTH_FAIL",34819:"STENCIL_BACK_PASS_DEPTH_PASS",34877:"BLEND_EQUATION_ALPHA",34921:"MAX_VERTEX_ATTRIBS",34922:"VERTEX_ATTRIB_ARRAY_NORMALIZED",34930:"MAX_TEXTURE_IMAGE_UNITS",34962:"ARRAY_BUFFER",34963:"ELEMENT_ARRAY_BUFFER",34964:"ARRAY_BUFFER_BINDING",34965:"ELEMENT_ARRAY_BUFFER_BINDING",34975:"VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",35040:"STREAM_DRAW",35044:"STATIC_DRAW",35048:"DYNAMIC_DRAW",35632:"FRAGMENT_SHADER",35633:"VERTEX_SHADER",35660:"MAX_VERTEX_TEXTURE_IMAGE_UNITS",35661:"MAX_COMBINED_TEXTURE_IMAGE_UNITS",35663:"SHADER_TYPE",35664:"FLOAT_VEC2",35665:"FLOAT_VEC3",35666:"FLOAT_VEC4",35667:"INT_VEC2",35668:"INT_VEC3",35669:"INT_VEC4",35670:"BOOL",35671:"BOOL_VEC2",35672:"BOOL_VEC3",35673:"BOOL_VEC4",35674:"FLOAT_MAT2",35675:"FLOAT_MAT3",35676:"FLOAT_MAT4",35678:"SAMPLER_2D",35680:"SAMPLER_CUBE",35712:"DELETE_STATUS",35713:"COMPILE_STATUS",35714:"LINK_STATUS",35715:"VALIDATE_STATUS",35716:"INFO_LOG_LENGTH",35717:"ATTACHED_SHADERS",35718:"ACTIVE_UNIFORMS",35719:"ACTIVE_UNIFORM_MAX_LENGTH",35720:"SHADER_SOURCE_LENGTH",35721:"ACTIVE_ATTRIBUTES",35722:"ACTIVE_ATTRIBUTE_MAX_LENGTH",35724:"SHADING_LANGUAGE_VERSION",35725:"CURRENT_PROGRAM",36003:"STENCIL_BACK_REF",36004:"STENCIL_BACK_VALUE_MASK",36005:"STENCIL_BACK_WRITEMASK",36006:"FRAMEBUFFER_BINDING",36007:"RENDERBUFFER_BINDING",36048:"FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",36049:"FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",36050:"FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",36051:"FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",36053:"FRAMEBUFFER_COMPLETE",36054:"FRAMEBUFFER_INCOMPLETE_ATTACHMENT",36055:"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",36057:"FRAMEBUFFER_INCOMPLETE_DIMENSIONS",36061:"FRAMEBUFFER_UNSUPPORTED",36064:"COLOR_ATTACHMENT0",36096:"DEPTH_ATTACHMENT",36128:"STENCIL_ATTACHMENT",36160:"FRAMEBUFFER",36161:"RENDERBUFFER",36162:"RENDERBUFFER_WIDTH",36163:"RENDERBUFFER_HEIGHT",36164:"RENDERBUFFER_INTERNAL_FORMAT",36168:"STENCIL_INDEX8",36176:"RENDERBUFFER_RED_SIZE",36177:"RENDERBUFFER_GREEN_SIZE",36178:"RENDERBUFFER_BLUE_SIZE",36179:"RENDERBUFFER_ALPHA_SIZE",36180:"RENDERBUFFER_DEPTH_SIZE",36181:"RENDERBUFFER_STENCIL_SIZE",36194:"RGB565",36336:"LOW_FLOAT",36337:"MEDIUM_FLOAT",36338:"HIGH_FLOAT",36339:"LOW_INT",36340:"MEDIUM_INT",36341:"HIGH_INT",36346:"SHADER_COMPILER",36347:"MAX_VERTEX_UNIFORM_VECTORS",36348:"MAX_VARYING_VECTORS",36349:"MAX_FRAGMENT_UNIFORM_VECTORS",37440:"UNPACK_FLIP_Y_WEBGL",37441:"UNPACK_PREMULTIPLY_ALPHA_WEBGL",37442:"CONTEXT_LOST_WEBGL",37443:"UNPACK_COLORSPACE_CONVERSION_WEBGL",37444:"BROWSER_DEFAULT_WEBGL"}},6603:function(y,u,i){var s=i(1950);y.exports=function(a){return s[a]}},3110:function(y,u,i){"use strict";y.exports=function(_){var g=_.gl,w=s(g),x=a(g,[{buffer:w,type:g.FLOAT,size:3,offset:0,stride:40},{buffer:w,type:g.FLOAT,size:4,offset:12,stride:40},{buffer:w,type:g.FLOAT,size:3,offset:28,stride:40}]),b=o(g);b.attributes.position.location=0,b.attributes.color.location=1,b.attributes.offset.location=2;var A=new c(g,w,x,b);return A.update(_),A};var s=i(5827),a=i(2944),o=i(7667),l=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function c(_,g,w,x){this.gl=_,this.shader=x,this.buffer=g,this.vao=w,this.pixelRatio=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lineWidth=[1,1,1],this.capSize=[10,10,10],this.lineCount=[0,0,0],this.lineOffset=[0,0,0],this.opacity=1,this.hasAlpha=!1}var h=c.prototype;function v(_,g){for(var w=0;w<3;++w)_[0][w]=Math.min(_[0][w],g[w]),_[1][w]=Math.max(_[1][w],g[w])}h.isOpaque=function(){return!this.hasAlpha},h.isTransparent=function(){return this.hasAlpha},h.drawTransparent=h.draw=function(_){var g=this.gl,w=this.shader.uniforms;this.shader.bind();var x=w.view=_.view||l,b=w.projection=_.projection||l;w.model=_.model||l,w.clipBounds=this.clipBounds,w.opacity=this.opacity;var P=(_._ortho?2:1)*this.pixelRatio*(b[3]*x[12]+b[7]*x[13]+b[11]*x[14]+b[15]*x[15])/g.drawingBufferHeight;this.vao.bind();for(var R=0;R<3;++R)g.lineWidth(this.lineWidth[R]*this.pixelRatio),w.capSize=this.capSize[R]*P,this.lineCount[R]&&g.drawArrays(g.LINES,this.lineOffset[R],this.lineCount[R]);this.vao.unbind()};var p=function(){for(var _=new Array(3),g=0;g<3;++g){for(var w=[],x=1;x<=2;++x)for(var b=-1;b<=1;b+=2){var A=[0,0,0];A[(x+g)%3]=b,w.push(A)}_[g]=w}return _}();function T(_,g,w,x){for(var b=p[x],A=0;A<b.length;++A){var m=b[A];_.push(g[0],g[1],g[2],w[0],w[1],w[2],w[3],m[0],m[1],m[2])}return b.length}h.update=function(_){"lineWidth"in(_=_||{})&&(this.lineWidth=_.lineWidth,Array.isArray(this.lineWidth)||(this.lineWidth=[this.lineWidth,this.lineWidth,this.lineWidth])),"capSize"in _&&(this.capSize=_.capSize,Array.isArray(this.capSize)||(this.capSize=[this.capSize,this.capSize,this.capSize])),this.hasAlpha=!1,"opacity"in _&&(this.opacity=+_.opacity,this.opacity<1&&(this.hasAlpha=!0));var g=_.color||[[0,0,0],[0,0,0],[0,0,0]],w=_.position,x=_.error;if(Array.isArray(g[0])||(g=[g,g,g]),w&&x){var b=[],A=w.length,m=0;this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.lineCount=[0,0,0];for(var C=0;C<3;++C){this.lineOffset[C]=m;e:for(var k=0;k<A;++k){for(var P=w[k],R=0;R<3;++R)if(isNaN(P[R])||!isFinite(P[R]))continue e;var L,N=x[k],B=g[C];Array.isArray(B[0])&&(B=g[k]),3===B.length?B=[B[0],B[1],B[2],1]:4===B.length&&(B=[B[0],B[1],B[2],B[3]],!this.hasAlpha&&B[3]<1&&(this.hasAlpha=!0)),isNaN(N[0][C])||isNaN(N[1][C])||(N[0][C]<0&&((L=P.slice())[C]+=N[0][C],b.push(P[0],P[1],P[2],B[0],B[1],B[2],B[3],0,0,0,L[0],L[1],L[2],B[0],B[1],B[2],B[3],0,0,0),v(this.bounds,L),m+=2+T(b,L,B,C)),N[1][C]>0&&((L=P.slice())[C]+=N[1][C],b.push(P[0],P[1],P[2],B[0],B[1],B[2],B[3],0,0,0,L[0],L[1],L[2],B[0],B[1],B[2],B[3],0,0,0),v(this.bounds,L),m+=2+T(b,L,B,C)))}this.lineCount[C]=m-this.lineOffset[C]}this.buffer.update(b)}},h.dispose=function(){this.shader.dispose(),this.buffer.dispose(),this.vao.dispose()}},7667:function(y,u,i){"use strict";var s=i(6832),a=i(5158),o=s(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position, offset;\nattribute vec4 color;\nuniform mat4 model, view, projection;\nuniform float capSize;\nvarying vec4 fragColor;\nvarying vec3 fragPosition;\n\nvoid main() {\n  vec4 worldPosition  = model * vec4(position, 1.0);\n  worldPosition       = (worldPosition / worldPosition.w) + vec4(capSize * offset, 0.0);\n  gl_Position         = projection * view * worldPosition;\n  fragColor           = color;\n  fragPosition        = position;\n}"]),l=s(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 clipBounds[2];\nuniform float opacity;\nvarying vec3 fragPosition;\nvarying vec4 fragColor;\n\nvoid main() {\n  if (\n    outOfRange(clipBounds[0], clipBounds[1], fragPosition) ||\n    fragColor.a * opacity == 0.\n  ) discard;\n\n  gl_FragColor = opacity * fragColor;\n}"]);y.exports=function(c){return a(c,o,l,null,[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"offset",type:"vec3"}])}},4234:function(y,u,i){"use strict";var s=i(8931);y.exports=function(A,m,C,k){a||(a=A.FRAMEBUFFER_UNSUPPORTED,o=A.FRAMEBUFFER_INCOMPLETE_ATTACHMENT,l=A.FRAMEBUFFER_INCOMPLETE_DIMENSIONS,c=A.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT);var P=A.getExtension("WEBGL_draw_buffers");if(!h&&P&&function(Y,q){var U=Y.getParameter(q.MAX_COLOR_ATTACHMENTS_WEBGL);h=new Array(U+1);for(var Z=0;Z<=U;++Z){for(var X=new Array(U),se=0;se<Z;++se)X[se]=Y.COLOR_ATTACHMENT0+se;for(se=Z;se<U;++se)X[se]=Y.NONE;h[Z]=X}}(A,P),Array.isArray(m)&&(k=C,C=0|m[1],m=0|m[0]),"number"!=typeof m)throw new Error("gl-fbo: Missing shape parameter");var R=A.getParameter(A.MAX_RENDERBUFFER_SIZE);if(m<0||m>R||C<0||C>R)throw new Error("gl-fbo: Parameters are too large for FBO");var L=1;if("color"in(k=k||{})){if((L=Math.max(0|k.color,0))<0)throw new Error("gl-fbo: Must specify a nonnegative number of colors");if(L>1){if(!P)throw new Error("gl-fbo: Multiple draw buffer extension not supported");if(L>A.getParameter(P.MAX_COLOR_ATTACHMENTS_WEBGL))throw new Error("gl-fbo: Context does not support "+L+" draw buffers")}}var N=A.UNSIGNED_BYTE,B=A.getExtension("OES_texture_float");if(k.float&&L>0){if(!B)throw new Error("gl-fbo: Context does not support floating point textures");N=A.FLOAT}else k.preferFloat&&L>0&&B&&(N=A.FLOAT);var J=!0;"depth"in k&&(J=!!k.depth);var z=!1;return"stencil"in k&&(z=!!k.stencil),new w(A,m,C,N,L,J,z,P)};var a,o,l,c,h=null;function v(A){return[A.getParameter(A.FRAMEBUFFER_BINDING),A.getParameter(A.RENDERBUFFER_BINDING),A.getParameter(A.TEXTURE_BINDING_2D)]}function p(A,m){A.bindFramebuffer(A.FRAMEBUFFER,m[0]),A.bindRenderbuffer(A.RENDERBUFFER,m[1]),A.bindTexture(A.TEXTURE_2D,m[2])}function T(A){switch(A){case a:throw new Error("gl-fbo: Framebuffer unsupported");case o:throw new Error("gl-fbo: Framebuffer incomplete attachment");case l:throw new Error("gl-fbo: Framebuffer incomplete dimensions");case c:throw new Error("gl-fbo: Framebuffer incomplete missing attachment");default:throw new Error("gl-fbo: Framebuffer failed for unspecified reason")}}function _(A,m,C,k,P,R){if(!k)return null;var L=s(A,m,C,P,k);return L.magFilter=A.NEAREST,L.minFilter=A.NEAREST,L.mipSamples=1,L.bind(),A.framebufferTexture2D(A.FRAMEBUFFER,R,A.TEXTURE_2D,L.handle,0),L}function g(A,m,C,k,P){var R=A.createRenderbuffer();return A.bindRenderbuffer(A.RENDERBUFFER,R),A.renderbufferStorage(A.RENDERBUFFER,k,m,C),A.framebufferRenderbuffer(A.FRAMEBUFFER,P,A.RENDERBUFFER,R),R}function w(A,m,C,k,P,R,L,N){this.gl=A,this._shape=[0|m,0|C],this._destroyed=!1,this._ext=N,this.color=new Array(P);for(var B=0;B<P;++B)this.color[B]=null;this._color_rb=null,this.depth=null,this._depth_rb=null,this._colorType=k,this._useDepth=R,this._useStencil=L;var J=this,z=[0|m,0|C];Object.defineProperties(z,{0:{get:function(){return J._shape[0]},set:function(Y){return J.width=Y}},1:{get:function(){return J._shape[1]},set:function(Y){return J.height=Y}}}),this._shapeVector=z,function(Y){var q=v(Y.gl),U=Y.gl,Z=Y.handle=U.createFramebuffer(),X=Y._shape[0],se=Y._shape[1],re=Y.color.length,ee=Y._ext,K=Y._useStencil,ne=Y._useDepth,ae=Y._colorType;U.bindFramebuffer(U.FRAMEBUFFER,Z);for(var ue=0;ue<re;++ue)Y.color[ue]=_(U,X,se,ae,U.RGBA,U.COLOR_ATTACHMENT0+ue);0===re?(Y._color_rb=g(U,X,se,U.RGBA4,U.COLOR_ATTACHMENT0),ee&&ee.drawBuffersWEBGL(h[0])):re>1&&ee.drawBuffersWEBGL(h[re]);var he=U.getExtension("WEBGL_depth_texture");he?K?Y.depth=_(U,X,se,he.UNSIGNED_INT_24_8_WEBGL,U.DEPTH_STENCIL,U.DEPTH_STENCIL_ATTACHMENT):ne&&(Y.depth=_(U,X,se,U.UNSIGNED_SHORT,U.DEPTH_COMPONENT,U.DEPTH_ATTACHMENT)):ne&&K?Y._depth_rb=g(U,X,se,U.DEPTH_STENCIL,U.DEPTH_STENCIL_ATTACHMENT):ne?Y._depth_rb=g(U,X,se,U.DEPTH_COMPONENT16,U.DEPTH_ATTACHMENT):K&&(Y._depth_rb=g(U,X,se,U.STENCIL_INDEX,U.STENCIL_ATTACHMENT));var pe=U.checkFramebufferStatus(U.FRAMEBUFFER);if(pe!==U.FRAMEBUFFER_COMPLETE){for(Y._destroyed=!0,U.bindFramebuffer(U.FRAMEBUFFER,null),U.deleteFramebuffer(Y.handle),Y.handle=null,Y.depth&&(Y.depth.dispose(),Y.depth=null),Y._depth_rb&&(U.deleteRenderbuffer(Y._depth_rb),Y._depth_rb=null),ue=0;ue<Y.color.length;++ue)Y.color[ue].dispose(),Y.color[ue]=null;Y._color_rb&&(U.deleteRenderbuffer(Y._color_rb),Y._color_rb=null),p(U,q),T(pe)}p(U,q)}(this)}var x=w.prototype;function b(A,m,C){if(A._destroyed)throw new Error("gl-fbo: Can't resize destroyed FBO");if(A._shape[0]!==m||A._shape[1]!==C){var k=A.gl,P=k.getParameter(k.MAX_RENDERBUFFER_SIZE);if(m<0||m>P||C<0||C>P)throw new Error("gl-fbo: Can't resize FBO, invalid dimensions");A._shape[0]=m,A._shape[1]=C;for(var R=v(k),L=0;L<A.color.length;++L)A.color[L].shape=A._shape;A._color_rb&&(k.bindRenderbuffer(k.RENDERBUFFER,A._color_rb),k.renderbufferStorage(k.RENDERBUFFER,k.RGBA4,A._shape[0],A._shape[1])),A.depth&&(A.depth.shape=A._shape),A._depth_rb&&(k.bindRenderbuffer(k.RENDERBUFFER,A._depth_rb),A._useDepth&&A._useStencil?k.renderbufferStorage(k.RENDERBUFFER,k.DEPTH_STENCIL,A._shape[0],A._shape[1]):A._useDepth?k.renderbufferStorage(k.RENDERBUFFER,k.DEPTH_COMPONENT16,A._shape[0],A._shape[1]):A._useStencil&&k.renderbufferStorage(k.RENDERBUFFER,k.STENCIL_INDEX,A._shape[0],A._shape[1])),k.bindFramebuffer(k.FRAMEBUFFER,A.handle);var N=k.checkFramebufferStatus(k.FRAMEBUFFER);N!==k.FRAMEBUFFER_COMPLETE&&(A.dispose(),p(k,R),T(N)),p(k,R)}}Object.defineProperties(x,{shape:{get:function(){return this._destroyed?[0,0]:this._shapeVector},set:function(A){if(Array.isArray(A)||(A=[0|A,0|A]),2!==A.length)throw new Error("gl-fbo: Shape vector must be length 2");var m=0|A[0],C=0|A[1];return b(this,m,C),[m,C]},enumerable:!1},width:{get:function(){return this._destroyed?0:this._shape[0]},set:function(A){return b(this,A|=0,this._shape[1]),A},enumerable:!1},height:{get:function(){return this._destroyed?0:this._shape[1]},set:function(A){return b(this,this._shape[0],A|=0),A},enumerable:!1}}),x.bind=function(){if(!this._destroyed){var A=this.gl;A.bindFramebuffer(A.FRAMEBUFFER,this.handle),A.viewport(0,0,this._shape[0],this._shape[1])}},x.dispose=function(){if(!this._destroyed){this._destroyed=!0;var A=this.gl;A.deleteFramebuffer(this.handle),this.handle=null,this.depth&&(this.depth.dispose(),this.depth=null),this._depth_rb&&(A.deleteRenderbuffer(this._depth_rb),this._depth_rb=null);for(var m=0;m<this.color.length;++m)this.color[m].dispose(),this.color[m]=null;this._color_rb&&(A.deleteRenderbuffer(this._color_rb),this._color_rb=null)}}},3530:function(y,u,i){var s=i(8974).sprintf,a=i(6603),o=i(9365),l=i(8008);y.exports=function(c,h,v){"use strict";var p=o(h)||"of unknown name (see npm glsl-shader-name)",T="unknown type";void 0!==v&&(T=v===a.FRAGMENT_SHADER?"fragment":"vertex");for(var _=s("Error compiling %s shader %s:\n",T,p),g=s("%s%s",_,c),w=c.split("\n"),x={},b=0;b<w.length;b++){var A=w[b];if(""!==A&&"\0"!==A){var m=parseInt(A.split(":")[2]);if(isNaN(m))throw new Error(s("Could not parse error: %s",A));x[m]=A}}var C=l(h).split("\n");for(b=0;b<C.length;b++)if((x[b+3]||x[b+2]||x[b+1])&&(_+=C[b]+"\n",x[b+1])){var k=x[b+1];k=k.substr(k.split(":",3).join(":").length+1).trim(),_+=s("^^^ %s\n\n",k)}return{long:_.trim(),short:g.trim()}}},6386:function(y,u,i){"use strict";y.exports=function(g,w){var x=g.gl,b=new v(g,l(x,h.vertex,h.fragment),l(x,h.pickVertex,h.pickFragment),c(x),c(x),c(x),c(x));return b.update(w),g.addObject(b),b};var s=i(5070),a=i(9560),o=i(5306),l=i(5158),c=i(5827),h=i(1292);function v(g,w,x,b,A,m,C){this.plot=g,this.shader=w,this.pickShader=x,this.positionBuffer=b,this.weightBuffer=A,this.colorBuffer=m,this.idBuffer=C,this.xData=[],this.yData=[],this.shape=[0,0],this.bounds=[1/0,1/0,-1/0,-1/0],this.pickOffset=0}var p,g,w,T=v.prototype,_=[0,0,1,0,0,1,1,0,1,1,0,1];T.draw=(p=[1,0,0,0,1,0,0,0,1],function(){var g=this.plot,w=this.shader,x=this.bounds,b=this.numVertices;if(!(b<=0)){var A=g.gl,m=g.dataBox,k=x[3]-x[1],P=m[2]-m[0],R=m[3]-m[1];p[0]=2*(x[2]-x[0])/P,p[4]=2*k/R,p[6]=2*(x[0]-m[0])/P-1,p[7]=2*(x[1]-m[1])/R-1,w.bind();var L=w.uniforms;L.viewTransform=p,L.shape=this.shape;var N=w.attributes;this.positionBuffer.bind(),N.position.pointer(),this.weightBuffer.bind(),N.weight.pointer(A.UNSIGNED_BYTE,!1),this.colorBuffer.bind(),N.color.pointer(A.UNSIGNED_BYTE,!0),A.drawArrays(A.TRIANGLES,0,b)}}),T.drawPick=(g=[1,0,0,0,1,0,0,0,1],w=[0,0,0,0],function(x){var b=this.plot,A=this.pickShader,m=this.bounds,C=this.numVertices;if(!(C<=0)){var k=b.gl,P=b.dataBox,L=m[3]-m[1],N=P[2]-P[0],B=P[3]-P[1];g[0]=2*(m[2]-m[0])/N,g[4]=2*L/B,g[6]=2*(m[0]-P[0])/N-1,g[7]=2*(m[1]-P[1])/B-1;for(var J=0;J<4;++J)w[J]=x>>8*J&255;this.pickOffset=x,A.bind();var z=A.uniforms;z.viewTransform=g,z.pickOffset=w,z.shape=this.shape;var Y=A.attributes;return this.positionBuffer.bind(),Y.position.pointer(),this.weightBuffer.bind(),Y.weight.pointer(k.UNSIGNED_BYTE,!1),this.idBuffer.bind(),Y.pickId.pointer(k.UNSIGNED_BYTE,!1),k.drawArrays(k.TRIANGLES,0,C),x+this.shape[0]*this.shape[1]}}),T.pick=function(g,w,x){var b=this.pickOffset;if(x<b||x>=b+this.shape[0]*this.shape[1])return null;var m=x-b;return{object:this,pointId:m,dataCoord:[this.xData[m%this.shape[0]],this.yData[m/this.shape[0]|0]]}},T.update=function(g){var w=(g=g||{}).shape||[0,0],x=g.x||a(w[0]),b=g.y||a(w[1]),A=g.z||new Float32Array(w[0]*w[1]),m=!1!==g.zsmooth;this.xData=x,this.yData=b;var C,k,P,R,L=g.colorLevels||[0],N=g.colorValues||[0,0,0,1],B=L.length,J=this.bounds;m?(C=J[0]=x[0],k=J[1]=b[0],P=J[2]=x[x.length-1],R=J[3]=b[b.length-1]):(C=J[0]=x[0]+(x[1]-x[0])/2,k=J[1]=b[0]+(b[1]-b[0])/2,P=J[2]=x[x.length-1]+(x[x.length-1]-x[x.length-2])/2,R=J[3]=b[b.length-1]+(b[b.length-1]-b[b.length-2])/2);var z=1/(P-C),Y=1/(R-k),q=w[0],U=w[1];this.shape=[q,U];var Z=(m?(q-1)*(U-1):q*U)*(_.length>>>1);this.numVertices=Z;for(var X=o.mallocUint8(4*Z),se=o.mallocFloat32(2*Z),re=o.mallocUint8(2*Z),ee=o.mallocUint32(Z),K=0,ne=m?q-1:q,ae=m?U-1:U,ue=0;ue<ae;++ue){var he,pe;m?(he=Y*(b[ue]-k),pe=Y*(b[ue+1]-k)):(he=ue<U-1?Y*(b[ue]-(b[ue+1]-b[ue])/2-k):Y*(b[ue]-(b[ue]-b[ue-1])/2-k),pe=ue<U-1?Y*(b[ue]+(b[ue+1]-b[ue])/2-k):Y*(b[ue]+(b[ue]-b[ue-1])/2-k));for(var ge=0;ge<ne;++ge){var xe,Se;m?(xe=z*(x[ge]-C),Se=z*(x[ge+1]-C)):(xe=ge<q-1?z*(x[ge]-(x[ge+1]-x[ge])/2-C):z*(x[ge]-(x[ge]-x[ge-1])/2-C),Se=ge<q-1?z*(x[ge]+(x[ge+1]-x[ge])/2-C):z*(x[ge]+(x[ge]-x[ge-1])/2-C));for(var Te=0;Te<_.length;Te+=2){var ye,we,ze,ke,Ee=_[Te],me=_[Te+1],de=A[m?(ue+me)*q+(ge+Ee):ue*q+ge],ce=s.le(L,de);if(ce<0)ye=N[0],we=N[1],ze=N[2],ke=N[3];else if(ce===B-1)ye=N[4*B-4],we=N[4*B-3],ze=N[4*B-2],ke=N[4*B-1];else{var Ae=(de-L[ce])/(L[ce+1]-L[ce]),Ne=1-Ae,De=4*ce,Ue=4*(ce+1);ye=Ne*N[De]+Ae*N[Ue],we=Ne*N[De+1]+Ae*N[Ue+1],ze=Ne*N[De+2]+Ae*N[Ue+2],ke=Ne*N[De+3]+Ae*N[Ue+3]}X[4*K]=255*ye,X[4*K+1]=255*we,X[4*K+2]=255*ze,X[4*K+3]=255*ke,se[2*K]=.5*xe+.5*Se,se[2*K+1]=.5*he+.5*pe,re[2*K]=Ee,re[2*K+1]=me,ee[K]=ue*q+ge,K+=1}}}this.positionBuffer.update(se),this.weightBuffer.update(re),this.colorBuffer.update(X),this.idBuffer.update(ee),o.free(se),o.free(X),o.free(re),o.free(ee)},T.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.positionBuffer.dispose(),this.weightBuffer.dispose(),this.colorBuffer.dispose(),this.idBuffer.dispose(),this.plot.removeObject(this)}},1292:function(y,u,i){"use strict";var s=i(6832);y.exports={fragment:s(["precision lowp float;\n#define GLSLIFY 1\nvarying vec4 fragColor;\nvoid main() {\n  gl_FragColor = vec4(fragColor.rgb * fragColor.a, fragColor.a);\n}\n"]),vertex:s(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 position;\nattribute vec4 color;\nattribute vec2 weight;\n\nuniform vec2 shape;\nuniform mat3 viewTransform;\n\nvarying vec4 fragColor;\n\nvoid main() {\n  vec3 vPosition = viewTransform * vec3( position + (weight-.5)/(shape-1.) , 1.0);\n  fragColor = color;\n  gl_Position = vec4(vPosition.xy, 0, vPosition.z);\n}\n"]),pickFragment:s(["precision mediump float;\n#define GLSLIFY 1\n\nvarying vec4 fragId;\nvarying vec2 vWeight;\n\nuniform vec2 shape;\nuniform vec4 pickOffset;\n\nvoid main() {\n  vec2 d = step(.5, vWeight);\n  vec4 id = fragId + pickOffset;\n  id.x += d.x + d.y*shape.x;\n\n  id.y += floor(id.x / 256.0);\n  id.x -= floor(id.x / 256.0) * 256.0;\n\n  id.z += floor(id.y / 256.0);\n  id.y -= floor(id.y / 256.0) * 256.0;\n\n  id.w += floor(id.z / 256.0);\n  id.z -= floor(id.z / 256.0) * 256.0;\n\n  gl_FragColor = id/255.;\n}\n"]),pickVertex:s(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 position;\nattribute vec4 pickId;\nattribute vec2 weight;\n\nuniform vec2 shape;\nuniform mat3 viewTransform;\n\nvarying vec4 fragId;\nvarying vec2 vWeight;\n\nvoid main() {\n  vWeight = weight;\n\n  fragId = pickId;\n\n  vec3 vPosition = viewTransform * vec3( position + (weight-.5)/(shape-1.) , 1.0);\n  gl_Position = vec4(vPosition.xy, 0, vPosition.z);\n}\n"])}},248:function(y,u,i){var s=i(6832),a=i(5158),o=s(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position, nextPosition;\nattribute float arcLength, lineWidth;\nattribute vec4 color;\n\nuniform vec2 screenShape;\nuniform float pixelRatio;\nuniform mat4 model, view, projection;\n\nvarying vec4 fragColor;\nvarying vec3 worldPosition;\nvarying float pixelArcLength;\n\nvec4 project(vec3 p) {\n  return projection * view * model * vec4(p, 1.0);\n}\n\nvoid main() {\n  vec4 startPoint = project(position);\n  vec4 endPoint   = project(nextPosition);\n\n  vec2 A = startPoint.xy / startPoint.w;\n  vec2 B =   endPoint.xy /   endPoint.w;\n\n  float clipAngle = atan(\n    (B.y - A.y) * screenShape.y,\n    (B.x - A.x) * screenShape.x\n  );\n\n  vec2 offset = 0.5 * pixelRatio * lineWidth * vec2(\n    sin(clipAngle),\n    -cos(clipAngle)\n  ) / screenShape;\n\n  gl_Position = vec4(startPoint.xy + startPoint.w * offset, startPoint.zw);\n\n  worldPosition = position;\n  pixelArcLength = arcLength;\n  fragColor = color;\n}\n"]),l=s(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3      clipBounds[2];\nuniform sampler2D dashTexture;\nuniform float     dashScale;\nuniform float     opacity;\n\nvarying vec3    worldPosition;\nvarying float   pixelArcLength;\nvarying vec4    fragColor;\n\nvoid main() {\n  if (\n    outOfRange(clipBounds[0], clipBounds[1], worldPosition) ||\n    fragColor.a * opacity == 0.\n  ) discard;\n\n  float dashWeight = texture2D(dashTexture, vec2(dashScale * pixelArcLength, 0)).r;\n  if(dashWeight < 0.5) {\n    discard;\n  }\n  gl_FragColor = fragColor * opacity;\n}\n"]),c=s(["precision highp float;\n#define GLSLIFY 1\n\n#define FLOAT_MAX  1.70141184e38\n#define FLOAT_MIN  1.17549435e-38\n\n// https://github.com/mikolalysenko/glsl-read-float/blob/master/index.glsl\nvec4 packFloat(float v) {\n  float av = abs(v);\n\n  //Handle special cases\n  if(av < FLOAT_MIN) {\n    return vec4(0.0, 0.0, 0.0, 0.0);\n  } else if(v > FLOAT_MAX) {\n    return vec4(127.0, 128.0, 0.0, 0.0) / 255.0;\n  } else if(v < -FLOAT_MAX) {\n    return vec4(255.0, 128.0, 0.0, 0.0) / 255.0;\n  }\n\n  vec4 c = vec4(0,0,0,0);\n\n  //Compute exponent and mantissa\n  float e = floor(log2(av));\n  float m = av * pow(2.0, -e) - 1.0;\n\n  //Unpack mantissa\n  c[1] = floor(128.0 * m);\n  m -= c[1] / 128.0;\n  c[2] = floor(32768.0 * m);\n  m -= c[2] / 32768.0;\n  c[3] = floor(8388608.0 * m);\n\n  //Unpack exponent\n  float ebias = e + 127.0;\n  c[0] = floor(ebias / 2.0);\n  ebias -= c[0] * 2.0;\n  c[1] += floor(ebias) * 128.0;\n\n  //Unpack sign bit\n  c[0] += 128.0 * step(0.0, -v);\n\n  //Scale back to range\n  return c / 255.0;\n}\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform float pickId;\nuniform vec3 clipBounds[2];\n\nvarying vec3 worldPosition;\nvarying float pixelArcLength;\nvarying vec4 fragColor;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], worldPosition)) discard;\n\n  gl_FragColor = vec4(pickId/255.0, packFloat(pixelArcLength).xyz);\n}"]),h=[{name:"position",type:"vec3"},{name:"nextPosition",type:"vec3"},{name:"arcLength",type:"float"},{name:"lineWidth",type:"float"},{name:"color",type:"vec4"}];u.createShader=function(v){return a(v,o,l,null,h)},u.createPickShader=function(v){return a(v,o,c,null,h)}},6086:function(y,u,i){"use strict";y.exports=function(C){var k=C.gl||C.scene&&C.scene.gl,P=T(k);P.attributes.position.location=0,P.attributes.nextPosition.location=1,P.attributes.arcLength.location=2,P.attributes.lineWidth.location=3,P.attributes.color.location=4;var R=_(k);R.attributes.position.location=0,R.attributes.nextPosition.location=1,R.attributes.arcLength.location=2,R.attributes.lineWidth.location=3,R.attributes.color.location=4;for(var L=s(k),N=a(k,[{buffer:L,size:3,offset:0,stride:48},{buffer:L,size:3,offset:12,stride:48},{buffer:L,size:1,offset:24,stride:48},{buffer:L,size:1,offset:28,stride:48},{buffer:L,size:4,offset:32,stride:48}]),B=v(new Array(1024),[256,1,4]),J=0;J<1024;++J)B.data[J]=255;var z=o(k,B);z.wrap=k.REPEAT;var Y=new A(k,P,R,L,N,z);return Y.update(C),Y};var s=i(5827),a=i(2944),o=i(8931),l=new Uint8Array(4),c=new Float32Array(l.buffer),h=i(5070),v=i(5050),p=i(248),T=p.createShader,_=p.createPickShader,g=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function w(C,k){for(var P=0,R=0;R<3;++R){var L=C[R]-k[R];P+=L*L}return Math.sqrt(P)}function x(C){for(var k=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],P=0;P<3;++P)k[0][P]=Math.max(C[0][P],k[0][P]),k[1][P]=Math.min(C[1][P],k[1][P]);return k}function b(C,k,P,R){this.arcLength=C,this.position=k,this.index=P,this.dataCoordinate=R}function A(C,k,P,R,L,N){this.gl=C,this.shader=k,this.pickShader=P,this.buffer=R,this.vao=L,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.points=[],this.arcLength=[],this.vertexCount=0,this.bounds=[[0,0,0],[0,0,0]],this.pickId=0,this.lineWidth=1,this.texture=N,this.dashScale=1,this.opacity=1,this.hasAlpha=!1,this.dirty=!0,this.pixelRatio=1}var m=A.prototype;m.isTransparent=function(){return this.hasAlpha},m.isOpaque=function(){return!this.hasAlpha},m.pickSlots=1,m.setPickBase=function(C){this.pickId=C},m.drawTransparent=m.draw=function(C){if(this.vertexCount){var k=this.gl,P=this.shader,R=this.vao;P.bind(),P.uniforms={model:C.model||g,view:C.view||g,projection:C.projection||g,clipBounds:x(this.clipBounds),dashTexture:this.texture.bind(),dashScale:this.dashScale/this.arcLength[this.arcLength.length-1],opacity:this.opacity,screenShape:[k.drawingBufferWidth,k.drawingBufferHeight],pixelRatio:this.pixelRatio},R.bind(),R.draw(k.TRIANGLE_STRIP,this.vertexCount),R.unbind()}},m.drawPick=function(C){if(this.vertexCount){var k=this.gl,P=this.pickShader,R=this.vao;P.bind(),P.uniforms={model:C.model||g,view:C.view||g,projection:C.projection||g,pickId:this.pickId,clipBounds:x(this.clipBounds),screenShape:[k.drawingBufferWidth,k.drawingBufferHeight],pixelRatio:this.pixelRatio},R.bind(),R.draw(k.TRIANGLE_STRIP,this.vertexCount),R.unbind()}},m.update=function(C){var k,P;this.dirty=!0;var R=!!C.connectGaps;"dashScale"in C&&(this.dashScale=C.dashScale),this.hasAlpha=!1,"opacity"in C&&(this.opacity=+C.opacity,this.opacity<1&&(this.hasAlpha=!0));var L=[],N=[],B=[],J=0,z=0,Y=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],q=C.position||C.positions;if(q){var U=C.color||C.colors||[0,0,0,1],Z=C.lineWidth||1,X=!1;e:for(k=1;k<q.length;++k){var se,re,ee,K=q[k-1],ne=q[k];for(N.push(J),B.push(K.slice()),P=0;P<3;++P){if(isNaN(K[P])||isNaN(ne[P])||!isFinite(K[P])||!isFinite(ne[P])){if(!R&&L.length>0){for(var ae=0;ae<24;++ae)L.push(L[L.length-12]);z+=2,X=!0}continue e}Y[0][P]=Math.min(Y[0][P],K[P],ne[P]),Y[1][P]=Math.max(Y[1][P],K[P],ne[P])}Array.isArray(U[0])?(se=U.length>k-1?U[k-1]:U.length>0?U[U.length-1]:[0,0,0,1],re=U.length>k?U[k]:U.length>0?U[U.length-1]:[0,0,0,1]):se=re=U,3===se.length&&(se=[se[0],se[1],se[2],1]),3===re.length&&(re=[re[0],re[1],re[2],1]),!this.hasAlpha&&se[3]<1&&(this.hasAlpha=!0),ee=Array.isArray(Z)?Z.length>k-1?Z[k-1]:Z.length>0?Z[Z.length-1]:[0,0,0,1]:Z;var ue=J;if(J+=w(K,ne),X){for(P=0;P<2;++P)L.push(K[0],K[1],K[2],ne[0],ne[1],ne[2],ue,ee,se[0],se[1],se[2],se[3]);z+=2,X=!1}L.push(K[0],K[1],K[2],ne[0],ne[1],ne[2],ue,ee,se[0],se[1],se[2],se[3],K[0],K[1],K[2],ne[0],ne[1],ne[2],ue,-ee,se[0],se[1],se[2],se[3],ne[0],ne[1],ne[2],K[0],K[1],K[2],J,-ee,re[0],re[1],re[2],re[3],ne[0],ne[1],ne[2],K[0],K[1],K[2],J,ee,re[0],re[1],re[2],re[3]),z+=4}}if(this.buffer.update(L),N.push(J),B.push(q[q.length-1].slice()),this.bounds=Y,this.vertexCount=z,this.points=B,this.arcLength=N,"dashes"in C){var he=C.dashes.slice();for(he.unshift(0),k=1;k<he.length;++k)he[k]=he[k-1]+he[k];var pe=v(new Array(1024),[256,1,4]);for(k=0;k<256;++k){for(P=0;P<4;++P)pe.set(k,0,P,0);1&h.le(he,he[he.length-1]*k/255)?pe.set(k,0,0,0):pe.set(k,0,0,255)}this.texture.setPixels(pe)}},m.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()},m.pick=function(C){if(!C||C.id!==this.pickId)return null;var q,U,Z,k=(q=C.value[0],U=C.value[1],Z=C.value[2],l[0]=0,l[1]=Z,l[2]=U,l[3]=q,c[0]),P=h.le(this.arcLength,k);if(P<0)return null;if(P===this.arcLength.length-1)return new b(this.arcLength[this.arcLength.length-1],this.points[this.points.length-1].slice(),P);for(var R=this.points[P],L=this.points[Math.min(P+1,this.points.length-1)],N=(k-this.arcLength[P])/(this.arcLength[P+1]-this.arcLength[P]),B=1-N,J=[0,0,0],z=0;z<3;++z)J[z]=B*R[z]+N*L[z];var Y=Math.min(N<.5?P:P+1,this.points.length-1);return new b(k,J,Y,this.points[Y])}},7332:function(y){y.exports=function(u){var i=new Float32Array(16);return i[0]=u[0],i[1]=u[1],i[2]=u[2],i[3]=u[3],i[4]=u[4],i[5]=u[5],i[6]=u[6],i[7]=u[7],i[8]=u[8],i[9]=u[9],i[10]=u[10],i[11]=u[11],i[12]=u[12],i[13]=u[13],i[14]=u[14],i[15]=u[15],i}},9823:function(y){y.exports=function(){var u=new Float32Array(16);return u[0]=1,u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=1,u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[10]=1,u[11]=0,u[12]=0,u[13]=0,u[14]=0,u[15]=1,u}},7787:function(y){y.exports=function(u){var i=u[0],s=u[1],a=u[2],o=u[3],l=u[4],c=u[5],h=u[6],v=u[7],p=u[8],T=u[9],_=u[10],g=u[11],w=u[12],x=u[13],b=u[14],A=u[15];return(i*c-s*l)*(_*A-g*b)-(i*h-a*l)*(T*A-g*x)+(i*v-o*l)*(T*b-_*x)+(s*h-a*c)*(p*A-g*w)-(s*v-o*c)*(p*b-_*w)+(a*v-o*h)*(p*x-T*w)}},5950:function(y){y.exports=function(u,i){var s=i[0],a=i[1],o=i[2],l=i[3],c=s+s,h=a+a,v=o+o,p=s*c,T=a*c,_=a*h,g=o*c,w=o*h,x=o*v,b=l*c,A=l*h,m=l*v;return u[0]=1-_-x,u[1]=T+m,u[2]=g-A,u[3]=0,u[4]=T-m,u[5]=1-p-x,u[6]=w+b,u[7]=0,u[8]=g+A,u[9]=w-b,u[10]=1-p-_,u[11]=0,u[12]=0,u[13]=0,u[14]=0,u[15]=1,u}},7280:function(y){y.exports=function(u,i,s){var a=i[0],o=i[1],l=i[2],c=i[3],h=a+a,v=o+o,p=l+l,T=a*h,_=a*v,g=a*p,w=o*v,x=o*p,b=l*p,A=c*h,m=c*v,C=c*p;return u[0]=1-(w+b),u[1]=_+C,u[2]=g-m,u[3]=0,u[4]=_-C,u[5]=1-(T+b),u[6]=x+A,u[7]=0,u[8]=g+m,u[9]=x-A,u[10]=1-(T+w),u[11]=0,u[12]=s[0],u[13]=s[1],u[14]=s[2],u[15]=1,u}},9947:function(y){y.exports=function(u){return u[0]=1,u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=1,u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[10]=1,u[11]=0,u[12]=0,u[13]=0,u[14]=0,u[15]=1,u}},7437:function(y){y.exports=function(u,i){var s=i[0],a=i[1],o=i[2],l=i[3],c=i[4],h=i[5],v=i[6],p=i[7],T=i[8],_=i[9],g=i[10],w=i[11],x=i[12],b=i[13],A=i[14],m=i[15],C=s*h-a*c,k=s*v-o*c,P=s*p-l*c,R=a*v-o*h,L=a*p-l*h,N=o*p-l*v,B=T*b-_*x,J=T*A-g*x,z=T*m-w*x,Y=_*A-g*b,q=_*m-w*b,U=g*m-w*A,Z=C*U-k*q+P*Y+R*z-L*J+N*B;return Z?(u[0]=(h*U-v*q+p*Y)*(Z=1/Z),u[1]=(o*q-a*U-l*Y)*Z,u[2]=(b*N-A*L+m*R)*Z,u[3]=(g*L-_*N-w*R)*Z,u[4]=(v*z-c*U-p*J)*Z,u[5]=(s*U-o*z+l*J)*Z,u[6]=(A*P-x*N-m*k)*Z,u[7]=(T*N-g*P+w*k)*Z,u[8]=(c*q-h*z+p*B)*Z,u[9]=(a*z-s*q-l*B)*Z,u[10]=(x*L-b*P+m*C)*Z,u[11]=(_*P-T*L-w*C)*Z,u[12]=(h*J-c*Y-v*B)*Z,u[13]=(s*Y-a*J+o*B)*Z,u[14]=(b*k-x*R-A*C)*Z,u[15]=(T*R-_*k+g*C)*Z,u):null}},3012:function(y,u,i){var s=i(9947);y.exports=function(a,o,l,c){var h,v,p,T,_,g,w,x,b,A,m=o[0],C=o[1],k=o[2],P=c[0],R=c[1],L=c[2],N=l[0],B=l[1],J=l[2];return Math.abs(m-N)<1e-6&&Math.abs(C-B)<1e-6&&Math.abs(k-J)<1e-6?s(a):(w=m-N,x=C-B,b=k-J,h=R*(b*=A=1/Math.sqrt(w*w+x*x+b*b))-L*(x*=A),v=L*(w*=A)-P*b,p=P*x-R*w,(A=Math.sqrt(h*h+v*v+p*p))?(h*=A=1/A,v*=A,p*=A):(h=0,v=0,p=0),T=x*p-b*v,_=b*h-w*p,g=w*v-x*h,(A=Math.sqrt(T*T+_*_+g*g))?(T*=A=1/A,_*=A,g*=A):(T=0,_=0,g=0),a[0]=h,a[1]=T,a[2]=w,a[3]=0,a[4]=v,a[5]=_,a[6]=x,a[7]=0,a[8]=p,a[9]=g,a[10]=b,a[11]=0,a[12]=-(h*m+v*C+p*k),a[13]=-(T*m+_*C+g*k),a[14]=-(w*m+x*C+b*k),a[15]=1,a)}},104:function(y){y.exports=function(u,i,s){var a=i[0],o=i[1],l=i[2],c=i[3],h=i[4],v=i[5],p=i[6],T=i[7],_=i[8],g=i[9],w=i[10],x=i[11],b=i[12],A=i[13],m=i[14],C=i[15],k=s[0],P=s[1],R=s[2],L=s[3];return u[0]=k*a+P*h+R*_+L*b,u[1]=k*o+P*v+R*g+L*A,u[2]=k*l+P*p+R*w+L*m,u[3]=k*c+P*T+R*x+L*C,u[4]=(k=s[4])*a+(P=s[5])*h+(R=s[6])*_+(L=s[7])*b,u[5]=k*o+P*v+R*g+L*A,u[6]=k*l+P*p+R*w+L*m,u[7]=k*c+P*T+R*x+L*C,u[8]=(k=s[8])*a+(P=s[9])*h+(R=s[10])*_+(L=s[11])*b,u[9]=k*o+P*v+R*g+L*A,u[10]=k*l+P*p+R*w+L*m,u[11]=k*c+P*T+R*x+L*C,u[12]=(k=s[12])*a+(P=s[13])*h+(R=s[14])*_+(L=s[15])*b,u[13]=k*o+P*v+R*g+L*A,u[14]=k*l+P*p+R*w+L*m,u[15]=k*c+P*T+R*x+L*C,u}},5268:function(y){y.exports=function(u,i,s,a,o,l,c){var h=1/(i-s),v=1/(a-o),p=1/(l-c);return u[0]=-2*h,u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=-2*v,u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[10]=2*p,u[11]=0,u[12]=(i+s)*h,u[13]=(o+a)*v,u[14]=(c+l)*p,u[15]=1,u}},1120:function(y){y.exports=function(u,i,s,a,o){var l=1/Math.tan(i/2),c=1/(a-o);return u[0]=l/s,u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=l,u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[10]=(o+a)*c,u[11]=-1,u[12]=0,u[13]=0,u[14]=2*o*a*c,u[15]=0,u}},4422:function(y){y.exports=function(u,i,s,a){var o,l,c,h,v,p,T,_,g,w,x,b,A,m,C,k,P,R,L,N,B,J,z,Y,q=a[0],U=a[1],Z=a[2],X=Math.sqrt(q*q+U*U+Z*Z);return Math.abs(X)<1e-6?null:(q*=X=1/X,U*=X,Z*=X,o=Math.sin(s),c=1-(l=Math.cos(s)),v=i[1],p=i[2],T=i[3],g=i[5],w=i[6],x=i[7],A=i[9],m=i[10],C=i[11],L=q*U*c-Z*o,N=U*U*c+l,B=Z*U*c+q*o,J=q*Z*c+U*o,z=U*Z*c-q*o,Y=Z*Z*c+l,u[0]=(h=i[0])*(k=q*q*c+l)+(_=i[4])*(P=U*q*c+Z*o)+(b=i[8])*(R=Z*q*c-U*o),u[1]=v*k+g*P+A*R,u[2]=p*k+w*P+m*R,u[3]=T*k+x*P+C*R,u[4]=h*L+_*N+b*B,u[5]=v*L+g*N+A*B,u[6]=p*L+w*N+m*B,u[7]=T*L+x*N+C*B,u[8]=h*J+_*z+b*Y,u[9]=v*J+g*z+A*Y,u[10]=p*J+w*z+m*Y,u[11]=T*J+x*z+C*Y,i!==u&&(u[12]=i[12],u[13]=i[13],u[14]=i[14],u[15]=i[15]),u)}},6109:function(y){y.exports=function(u,i,s){var a=Math.sin(s),o=Math.cos(s),l=i[4],c=i[5],h=i[6],v=i[7],p=i[8],T=i[9],_=i[10],g=i[11];return i!==u&&(u[0]=i[0],u[1]=i[1],u[2]=i[2],u[3]=i[3],u[12]=i[12],u[13]=i[13],u[14]=i[14],u[15]=i[15]),u[4]=l*o+p*a,u[5]=c*o+T*a,u[6]=h*o+_*a,u[7]=v*o+g*a,u[8]=p*o-l*a,u[9]=T*o-c*a,u[10]=_*o-h*a,u[11]=g*o-v*a,u}},7115:function(y){y.exports=function(u,i,s){var a=Math.sin(s),o=Math.cos(s),l=i[0],c=i[1],h=i[2],v=i[3],p=i[8],T=i[9],_=i[10],g=i[11];return i!==u&&(u[4]=i[4],u[5]=i[5],u[6]=i[6],u[7]=i[7],u[12]=i[12],u[13]=i[13],u[14]=i[14],u[15]=i[15]),u[0]=l*o-p*a,u[1]=c*o-T*a,u[2]=h*o-_*a,u[3]=v*o-g*a,u[8]=l*a+p*o,u[9]=c*a+T*o,u[10]=h*a+_*o,u[11]=v*a+g*o,u}},5240:function(y){y.exports=function(u,i,s){var a=Math.sin(s),o=Math.cos(s),l=i[0],c=i[1],h=i[2],v=i[3],p=i[4],T=i[5],_=i[6],g=i[7];return i!==u&&(u[8]=i[8],u[9]=i[9],u[10]=i[10],u[11]=i[11],u[12]=i[12],u[13]=i[13],u[14]=i[14],u[15]=i[15]),u[0]=l*o+p*a,u[1]=c*o+T*a,u[2]=h*o+_*a,u[3]=v*o+g*a,u[4]=p*o-l*a,u[5]=T*o-c*a,u[6]=_*o-h*a,u[7]=g*o-v*a,u}},3668:function(y){y.exports=function(u,i,s){var a=s[0],o=s[1],l=s[2];return u[0]=i[0]*a,u[1]=i[1]*a,u[2]=i[2]*a,u[3]=i[3]*a,u[4]=i[4]*o,u[5]=i[5]*o,u[6]=i[6]*o,u[7]=i[7]*o,u[8]=i[8]*l,u[9]=i[9]*l,u[10]=i[10]*l,u[11]=i[11]*l,u[12]=i[12],u[13]=i[13],u[14]=i[14],u[15]=i[15],u}},998:function(y){y.exports=function(u,i,s){var a,o,l,c,h,v,p,T,_,g,w,x,b=s[0],A=s[1],m=s[2];return i===u?(u[12]=i[0]*b+i[4]*A+i[8]*m+i[12],u[13]=i[1]*b+i[5]*A+i[9]*m+i[13],u[14]=i[2]*b+i[6]*A+i[10]*m+i[14],u[15]=i[3]*b+i[7]*A+i[11]*m+i[15]):(o=i[1],l=i[2],c=i[3],h=i[4],v=i[5],p=i[6],T=i[7],_=i[8],g=i[9],w=i[10],x=i[11],u[0]=a=i[0],u[1]=o,u[2]=l,u[3]=c,u[4]=h,u[5]=v,u[6]=p,u[7]=T,u[8]=_,u[9]=g,u[10]=w,u[11]=x,u[12]=a*b+h*A+_*m+i[12],u[13]=o*b+v*A+g*m+i[13],u[14]=l*b+p*A+w*m+i[14],u[15]=c*b+T*A+x*m+i[15]),u}},2142:function(y){y.exports=function(u,i){if(u===i){var s=i[1],a=i[2],o=i[3],l=i[6],c=i[7],h=i[11];u[1]=i[4],u[2]=i[8],u[3]=i[12],u[4]=s,u[6]=i[9],u[7]=i[13],u[8]=a,u[9]=l,u[11]=i[14],u[12]=o,u[13]=c,u[14]=h}else u[0]=i[0],u[1]=i[4],u[2]=i[8],u[3]=i[12],u[4]=i[1],u[5]=i[5],u[6]=i[9],u[7]=i[13],u[8]=i[2],u[9]=i[6],u[10]=i[10],u[11]=i[14],u[12]=i[3],u[13]=i[7],u[14]=i[11],u[15]=i[15];return u}},4340:function(y,u,i){"use strict";var s=i(957),a=i(7309);function o(h,v){for(var p=[0,0,0,0],T=0;T<4;++T)for(var _=0;_<4;++_)p[_]+=h[4*T+_]*v[T];return p}function l(h,v,p,T,_){for(var g=o(T,o(p,o(v,[h[0],h[1],h[2],1]))),w=0;w<3;++w)g[w]/=g[3];return[.5*_[0]*(1+g[0]),.5*_[1]*(1-g[1])]}function c(h,v){for(var p=[0,0,0],T=0;T<h.length;++T)for(var _=h[T],g=v[T],w=0;w<3;++w)p[w]+=g*_[w];return p}y.exports=function(h,v,p,T,_,g){if(1===h.length)return[0,h[0].slice()];for(var w=new Array(h.length),x=0;x<h.length;++x)w[x]=l(h[x],p,T,_,g);var b=0,A=1/0;for(x=0;x<w.length;++x){for(var m=0,C=0;C<2;++C)m+=Math.pow(w[x][C]-v[C],2);m<A&&(A=m,b=x)}var k=function(R,L){if(2===R.length){for(var N=0,B=0,J=0;J<2;++J)N+=Math.pow(L[J]-R[0][J],2),B+=Math.pow(L[J]-R[1][J],2);return(N=Math.sqrt(N))+(B=Math.sqrt(B))<1e-6?[1,0]:[B/(N+B),N/(B+N)]}if(3===R.length){var z=[0,0];return a(R[0],R[1],R[2],L,z),s(R,z)}return[]}(w,v),P=0;for(x=0;x<3;++x){if(k[x]<-.001||k[x]>1.0001)return null;P+=k[x]}return Math.abs(P-1)>.001?null:[b,c(h,k),k]}},2056:function(y,u,i){var s=i(6832),a=s(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position, normal;\nattribute vec4 color;\nattribute vec2 uv;\n\nuniform mat4 model\n           , view\n           , projection\n           , inverseModel;\nuniform vec3 eyePosition\n           , lightPosition;\n\nvarying vec3 f_normal\n           , f_lightDirection\n           , f_eyeDirection\n           , f_data;\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvec4 project(vec3 p) {\n  return projection * view * model * vec4(p, 1.0);\n}\n\nvoid main() {\n  gl_Position      = project(position);\n\n  //Lighting geometry parameters\n  vec4 cameraCoordinate = view * vec4(position , 1.0);\n  cameraCoordinate.xyz /= cameraCoordinate.w;\n  f_lightDirection = lightPosition - cameraCoordinate.xyz;\n  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;\n  f_normal  = normalize((vec4(normal, 0.0) * inverseModel).xyz);\n\n  f_color          = color;\n  f_data           = position;\n  f_uv             = uv;\n}\n"]),o=s(["#extension GL_OES_standard_derivatives : enable\n\nprecision highp float;\n#define GLSLIFY 1\n\nfloat beckmannDistribution(float x, float roughness) {\n  float NdotH = max(x, 0.0001);\n  float cos2Alpha = NdotH * NdotH;\n  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;\n  float roughness2 = roughness * roughness;\n  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;\n  return exp(tan2Alpha / roughness2) / denom;\n}\n\nfloat cookTorranceSpecular(\n  vec3 lightDirection,\n  vec3 viewDirection,\n  vec3 surfaceNormal,\n  float roughness,\n  float fresnel) {\n\n  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);\n  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);\n\n  //Half angle vector\n  vec3 H = normalize(lightDirection + viewDirection);\n\n  //Geometric term\n  float NdotH = max(dot(surfaceNormal, H), 0.0);\n  float VdotH = max(dot(viewDirection, H), 0.000001);\n  float LdotH = max(dot(lightDirection, H), 0.000001);\n  float G1 = (2.0 * NdotH * VdotN) / VdotH;\n  float G2 = (2.0 * NdotH * LdotN) / LdotH;\n  float G = min(1.0, min(G1, G2));\n  \n  //Distribution term\n  float D = beckmannDistribution(NdotH, roughness);\n\n  //Fresnel term\n  float F = pow(1.0 - VdotN, fresnel);\n\n  //Multiply terms and done\n  return  G * F * D / max(3.14159265 * VdotN, 0.000001);\n}\n\n//#pragma glslify: beckmann = require(glsl-specular-beckmann) // used in gl-surface3d\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 clipBounds[2];\nuniform float roughness\n            , fresnel\n            , kambient\n            , kdiffuse\n            , kspecular;\nuniform sampler2D texture;\n\nvarying vec3 f_normal\n           , f_lightDirection\n           , f_eyeDirection\n           , f_data;\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  if (f_color.a == 0.0 ||\n    outOfRange(clipBounds[0], clipBounds[1], f_data)\n  ) discard;\n\n  vec3 N = normalize(f_normal);\n  vec3 L = normalize(f_lightDirection);\n  vec3 V = normalize(f_eyeDirection);\n\n  if(gl_FrontFacing) {\n    N = -N;\n  }\n\n  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));\n  //float specular = max(0.0, beckmann(L, V, N, roughness)); // used in gl-surface3d\n\n  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);\n\n  vec4 surfaceColor = vec4(f_color.rgb, 1.0) * texture2D(texture, f_uv);\n  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);\n\n  gl_FragColor = litColor * f_color.a;\n}\n"]),l=s(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position;\nattribute vec4 color;\nattribute vec2 uv;\n\nuniform mat4 model, view, projection;\n\nvarying vec4 f_color;\nvarying vec3 f_data;\nvarying vec2 f_uv;\n\nvoid main() {\n  gl_Position = projection * view * model * vec4(position, 1.0);\n  f_color = color;\n  f_data  = position;\n  f_uv    = uv;\n}"]),c=s(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 clipBounds[2];\nuniform sampler2D texture;\nuniform float opacity;\n\nvarying vec4 f_color;\nvarying vec3 f_data;\nvarying vec2 f_uv;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], f_data)) discard;\n\n  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;\n}"]),h=s(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nattribute vec3 position;\nattribute vec4 color;\nattribute vec2 uv;\nattribute float pointSize;\n\nuniform mat4 model, view, projection;\nuniform vec3 clipBounds[2];\n\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], position)) {\n\n    gl_Position = vec4(0.0, 0.0 ,0.0 ,0.0);\n  } else {\n    gl_Position = projection * view * model * vec4(position, 1.0);\n  }\n  gl_PointSize = pointSize;\n  f_color = color;\n  f_uv = uv;\n}"]),v=s(["precision highp float;\n#define GLSLIFY 1\n\nuniform sampler2D texture;\nuniform float opacity;\n\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  vec2 pointR = gl_PointCoord.xy - vec2(0.5, 0.5);\n  if(dot(pointR, pointR) > 0.25) {\n    discard;\n  }\n  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;\n}"]),p=s(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position;\nattribute vec4 id;\n\nuniform mat4 model, view, projection;\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  gl_Position = projection * view * model * vec4(position, 1.0);\n  f_id        = id;\n  f_position  = position;\n}"]),T=s(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3  clipBounds[2];\nuniform float pickId;\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;\n\n  gl_FragColor = vec4(pickId, f_id.xyz);\n}"]),_=s(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nattribute vec3  position;\nattribute float pointSize;\nattribute vec4  id;\n\nuniform mat4 model, view, projection;\nuniform vec3 clipBounds[2];\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], position)) {\n\n    gl_Position = vec4(0.0, 0.0, 0.0, 0.0);\n  } else {\n    gl_Position  = projection * view * model * vec4(position, 1.0);\n    gl_PointSize = pointSize;\n  }\n  f_id         = id;\n  f_position   = position;\n}"]),g=s(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position;\n\nuniform mat4 model, view, projection;\n\nvoid main() {\n  gl_Position = projection * view * model * vec4(position, 1.0);\n}"]),w=s(["precision highp float;\n#define GLSLIFY 1\n\nuniform vec3 contourColor;\n\nvoid main() {\n  gl_FragColor = vec4(contourColor, 1.0);\n}\n"]);u.meshShader={vertex:a,fragment:o,attributes:[{name:"position",type:"vec3"},{name:"normal",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},u.wireShader={vertex:l,fragment:c,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},u.pointShader={vertex:h,fragment:v,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"pointSize",type:"float"}]},u.pickShader={vertex:p,fragment:T,attributes:[{name:"position",type:"vec3"},{name:"id",type:"vec4"}]},u.pointPickShader={vertex:_,fragment:T,attributes:[{name:"position",type:"vec3"},{name:"pointSize",type:"float"},{name:"id",type:"vec4"}]},u.contourShader={vertex:g,fragment:w,attributes:[{name:"position",type:"vec3"}]}},8116:function(y,u,i){"use strict";var s=i(5158),a=i(5827),o=i(2944),l=i(8931),c=i(115),h=i(104),v=i(7437),p=i(5050),T=i(9156),_=i(7212),g=i(5306),w=i(2056),x=i(4340),b=w.meshShader,A=w.wireShader,m=w.pointShader,C=w.pickShader,k=w.pointPickShader,P=w.contourShader,R=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function L(U,Z,X,se,re,ee,K,ne,ae,ue,he,pe,ge,xe,Se,Te,ye,we,ze,ke,Ee,me,de,ce,Ae,Ne,De){this.gl=U,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=Z,this.dirty=!0,this.triShader=X,this.lineShader=se,this.pointShader=re,this.pickShader=ee,this.pointPickShader=K,this.contourShader=ne,this.trianglePositions=ae,this.triangleColors=he,this.triangleNormals=ge,this.triangleUVs=pe,this.triangleIds=ue,this.triangleVAO=xe,this.triangleCount=0,this.lineWidth=1,this.edgePositions=Se,this.edgeColors=ye,this.edgeUVs=we,this.edgeIds=Te,this.edgeVAO=ze,this.edgeCount=0,this.pointPositions=ke,this.pointColors=me,this.pointUVs=de,this.pointSizes=ce,this.pointIds=Ee,this.pointVAO=Ae,this.pointCount=0,this.contourLineWidth=1,this.contourPositions=Ne,this.contourVAO=De,this.contourCount=0,this.contourColor=[0,0,0],this.contourEnable=!0,this.pickVertex=!0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.hasAlpha=!1,this.opacityscale=!1,this._model=R,this._view=R,this._projection=R,this._resolution=[1,1]}var N=L.prototype;function B(U,Z){if(!Z||!Z.length)return 1;for(var X=0;X<Z.length;++X){if(Z.length<2)return 1;if(Z[X][0]===U)return Z[X][1];if(Z[X][0]>U&&X>0){var se=(Z[X][0]-U)/(Z[X][0]-Z[X-1][0]);return Z[X][1]*(1-se)+se*Z[X-1][1]}}return 1}N.isOpaque=function(){return!this.hasAlpha},N.isTransparent=function(){return this.hasAlpha},N.pickSlots=1,N.setPickBase=function(U){this.pickId=U},N.highlight=function(U){if(U&&this.contourEnable){for(var Z=_(this.cells,this.intensity,U.intensity),X=Z.cells,se=Z.vertexIds,re=Z.vertexWeights,ee=X.length,K=g.mallocFloat32(6*ee),ne=0,ae=0;ae<ee;++ae)for(var ue=X[ae],he=0;he<2;++he){var pe=ue[0];2===ue.length&&(pe=ue[he]);for(var Se=re[pe],Te=1-Se,ye=this.positions[se[pe][0]],we=this.positions[se[pe][1]],ze=0;ze<3;++ze)K[ne++]=Se*ye[ze]+Te*we[ze]}this.contourCount=ne/3|0,this.contourPositions.update(K.subarray(0,ne)),g.free(K)}else this.contourCount=0},N.update=function(U){U=U||{};var Z=this.gl;this.dirty=!0,"contourEnable"in U&&(this.contourEnable=U.contourEnable),"contourColor"in U&&(this.contourColor=U.contourColor),"lineWidth"in U&&(this.lineWidth=U.lineWidth),"lightPosition"in U&&(this.lightPosition=U.lightPosition),this.hasAlpha=!1,"opacity"in U&&(this.opacity=U.opacity,this.opacity<1&&(this.hasAlpha=!0)),"opacityscale"in U&&(this.opacityscale=U.opacityscale,this.hasAlpha=!0),"ambient"in U&&(this.ambientLight=U.ambient),"diffuse"in U&&(this.diffuseLight=U.diffuse),"specular"in U&&(this.specularLight=U.specular),"roughness"in U&&(this.roughness=U.roughness),"fresnel"in U&&(this.fresnel=U.fresnel),U.texture?(this.texture.dispose(),this.texture=l(Z,U.texture)):U.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=Z.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=Z.LINEAR,this.texture.setPixels(function(Rt,Ut){for(var Bt=T({colormap:Rt,nshades:256,format:"rgba"}),rt=new Uint8Array(1024),ot=0;ot<256;++ot){for(var Je=Bt[ot],it=0;it<3;++it)rt[4*ot+it]=Je[it];rt[4*ot+3]=Ut?255*B(ot/255,Ut):255*Je[3]}return p(rt,[256,256,4],[4,0,1])}(U.colormap,this.opacityscale)),this.texture.generateMipmap());var X=U.cells,se=U.positions;if(se&&X){var re=[],ee=[],K=[],ne=[],ae=[],ue=[],he=[],pe=[],ge=[],xe=[],Se=[],Te=[],ye=[],we=[];this.cells=X,this.positions=se;var ze=U.vertexNormals,ke=U.cellNormals,Ee=void 0===U.vertexNormalsEpsilon?1e-6:U.vertexNormalsEpsilon;U.useFacetNormals&&!ke&&(ke=c.faceNormals(X,se,void 0===U.faceNormalsEpsilon?1e-6:U.faceNormalsEpsilon)),ke||ze||(ze=c.vertexNormals(X,se,Ee));var de=U.vertexColors,ce=U.cellColors,Ae=U.meshColor||[1,1,1,1],Ne=U.vertexUVs,De=U.vertexIntensity,Ue=U.cellUVs,Ye=U.cellIntensity,_e=1/0,Pe=-1/0;if(!Ne&&!Ue)if(De)if(U.vertexIntensityBounds)_e=+U.vertexIntensityBounds[0],Pe=+U.vertexIntensityBounds[1];else for(var Ie=0;Ie<De.length;++Ie){var Be=De[Ie];_e=Math.min(_e,Be),Pe=Math.max(Pe,Be)}else if(Ye)if(U.cellIntensityBounds)_e=+U.cellIntensityBounds[0],Pe=+U.cellIntensityBounds[1];else for(Ie=0;Ie<Ye.length;++Ie)Be=Ye[Ie],_e=Math.min(_e,Be),Pe=Math.max(Pe,Be);else for(Ie=0;Ie<se.length;++Ie)Be=se[Ie][2],_e=Math.min(_e,Be),Pe=Math.max(Pe,Be);this.intensity=De||Ye||function(Rt){for(var Ut=Rt.length,Bt=new Array(Ut),rt=0;rt<Ut;++rt)Bt[rt]=Rt[rt][2];return Bt}(se),this.pickVertex=!(Ye||ce);var We=U.pointSizes,Ge=U.pointSize||1;for(this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],Ie=0;Ie<se.length;++Ie)for(var Ke=se[Ie],tt=0;tt<3;++tt)!isNaN(Ke[tt])&&isFinite(Ke[tt])&&(this.bounds[0][tt]=Math.min(this.bounds[0][tt],Ke[tt]),this.bounds[1][tt]=Math.max(this.bounds[1][tt],Ke[tt]));var st=0,gt=0,ct=0;e:for(Ie=0;Ie<X.length;++Ie){var kt=X[Ie];switch(kt.length){case 1:for(Ke=se[vt=kt[0]],tt=0;tt<3;++tt)if(isNaN(Ke[tt])||!isFinite(Ke[tt]))continue e;xe.push(Ke[0],Ke[1],Ke[2]),mt=de?de[vt]:ce?ce[Ie]:Ae,this.opacityscale&&De?ee.push(mt[0],mt[1],mt[2],this.opacity*B((De[vt]-_e)/(Pe-_e),this.opacityscale)):3===mt.length?Se.push(mt[0],mt[1],mt[2],this.opacity):(Se.push(mt[0],mt[1],mt[2],mt[3]*this.opacity),mt[3]<1&&(this.hasAlpha=!0)),Te.push((Et=Ne?Ne[vt]:De?[(De[vt]-_e)/(Pe-_e),0]:Ue?Ue[Ie]:Ye?[(Ye[Ie]-_e)/(Pe-_e),0]:[(Ke[2]-_e)/(Pe-_e),0])[0],Et[1]),ye.push(We?We[vt]:Ge),we.push(Ie),ct+=1;break;case 2:for(tt=0;tt<2;++tt){Ke=se[vt=kt[tt]];for(var Dt=0;Dt<3;++Dt)if(isNaN(Ke[Dt])||!isFinite(Ke[Dt]))continue e}for(tt=0;tt<2;++tt)Ke=se[vt=kt[tt]],ue.push(Ke[0],Ke[1],Ke[2]),mt=de?de[vt]:ce?ce[Ie]:Ae,this.opacityscale&&De?ee.push(mt[0],mt[1],mt[2],this.opacity*B((De[vt]-_e)/(Pe-_e),this.opacityscale)):3===mt.length?he.push(mt[0],mt[1],mt[2],this.opacity):(he.push(mt[0],mt[1],mt[2],mt[3]*this.opacity),mt[3]<1&&(this.hasAlpha=!0)),pe.push((Et=Ne?Ne[vt]:De?[(De[vt]-_e)/(Pe-_e),0]:Ue?Ue[Ie]:Ye?[(Ye[Ie]-_e)/(Pe-_e),0]:[(Ke[2]-_e)/(Pe-_e),0])[0],Et[1]),ge.push(Ie);gt+=1;break;case 3:for(tt=0;tt<3;++tt)for(Ke=se[vt=kt[tt]],Dt=0;Dt<3;++Dt)if(isNaN(Ke[Dt])||!isFinite(Ke[Dt]))continue e;for(tt=0;tt<3;++tt){var vt,mt,Et,Lt;Ke=se[vt=kt[2-tt]],re.push(Ke[0],Ke[1],Ke[2]),(mt=de?de[vt]:ce?ce[Ie]:Ae)?this.opacityscale&&De?ee.push(mt[0],mt[1],mt[2],this.opacity*B((De[vt]-_e)/(Pe-_e),this.opacityscale)):3===mt.length?ee.push(mt[0],mt[1],mt[2],this.opacity):(ee.push(mt[0],mt[1],mt[2],mt[3]*this.opacity),mt[3]<1&&(this.hasAlpha=!0)):ee.push(.5,.5,.5,1),ne.push((Et=Ne?Ne[vt]:De?[(De[vt]-_e)/(Pe-_e),0]:Ue?Ue[Ie]:Ye?[(Ye[Ie]-_e)/(Pe-_e),0]:[(Ke[2]-_e)/(Pe-_e),0])[0],Et[1]),K.push((Lt=ze?ze[vt]:ke[Ie])[0],Lt[1],Lt[2]),ae.push(Ie)}st+=1}}this.pointCount=ct,this.edgeCount=gt,this.triangleCount=st,this.pointPositions.update(xe),this.pointColors.update(Se),this.pointUVs.update(Te),this.pointSizes.update(ye),this.pointIds.update(new Uint32Array(we)),this.edgePositions.update(ue),this.edgeColors.update(he),this.edgeUVs.update(pe),this.edgeIds.update(new Uint32Array(ge)),this.trianglePositions.update(re),this.triangleColors.update(ee),this.triangleUVs.update(ne),this.triangleNormals.update(K),this.triangleIds.update(new Uint32Array(ae))}},N.drawTransparent=N.draw=function(U){for(var Z=this.gl,X=(U=U||{}).model||R,se=U.view||R,re=U.projection||R,ee=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],K=0;K<3;++K)ee[0][K]=Math.max(ee[0][K],this.clipBounds[0][K]),ee[1][K]=Math.min(ee[1][K],this.clipBounds[1][K]);var ne={model:X,view:se,projection:re,inverseModel:R.slice(),clipBounds:ee,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],contourColor:this.contourColor,texture:0};ne.inverseModel=v(ne.inverseModel,ne.model),Z.disable(Z.CULL_FACE),this.texture.bind(0);var ae=new Array(16);for(h(ae,ne.view,ne.model),h(ae,ne.projection,ae),v(ae,ae),K=0;K<3;++K)ne.eyePosition[K]=ae[12+K]/ae[15];var ue,he=ae[15];for(K=0;K<3;++K)he+=this.lightPosition[K]*ae[4*K+3];for(K=0;K<3;++K){for(var pe=ae[12+K],ge=0;ge<3;++ge)pe+=ae[4*ge+K]*this.lightPosition[ge];ne.lightPosition[K]=pe/he}this.triangleCount>0&&((ue=this.triShader).bind(),ue.uniforms=ne,this.triangleVAO.bind(),Z.drawArrays(Z.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind()),this.edgeCount>0&&this.lineWidth>0&&((ue=this.lineShader).bind(),ue.uniforms=ne,this.edgeVAO.bind(),Z.lineWidth(this.lineWidth*this.pixelRatio),Z.drawArrays(Z.LINES,0,2*this.edgeCount),this.edgeVAO.unbind()),this.pointCount>0&&((ue=this.pointShader).bind(),ue.uniforms=ne,this.pointVAO.bind(),Z.drawArrays(Z.POINTS,0,this.pointCount),this.pointVAO.unbind()),this.contourEnable&&this.contourCount>0&&this.contourLineWidth>0&&((ue=this.contourShader).bind(),ue.uniforms=ne,this.contourVAO.bind(),Z.drawArrays(Z.LINES,0,this.contourCount),this.contourVAO.unbind())},N.drawPick=function(U){for(var Z=this.gl,X=(U=U||{}).model||R,se=U.view||R,re=U.projection||R,ee=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],K=0;K<3;++K)ee[0][K]=Math.max(ee[0][K],this.clipBounds[0][K]),ee[1][K]=Math.min(ee[1][K],this.clipBounds[1][K]);this._model=[].slice.call(X),this._view=[].slice.call(se),this._projection=[].slice.call(re),this._resolution=[Z.drawingBufferWidth,Z.drawingBufferHeight];var ne,ae={model:X,view:se,projection:re,clipBounds:ee,pickId:this.pickId/255};(ne=this.pickShader).bind(),ne.uniforms=ae,this.triangleCount>0&&(this.triangleVAO.bind(),Z.drawArrays(Z.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind()),this.edgeCount>0&&(this.edgeVAO.bind(),Z.lineWidth(this.lineWidth*this.pixelRatio),Z.drawArrays(Z.LINES,0,2*this.edgeCount),this.edgeVAO.unbind()),this.pointCount>0&&((ne=this.pointPickShader).bind(),ne.uniforms=ae,this.pointVAO.bind(),Z.drawArrays(Z.POINTS,0,this.pointCount),this.pointVAO.unbind())},N.pick=function(U){if(!U||U.id!==this.pickId)return null;for(var Z=U.value[0]+256*U.value[1]+65536*U.value[2],X=this.cells[Z],se=this.positions,re=new Array(X.length),ee=0;ee<X.length;++ee)re[ee]=se[X[ee]];var K=U.coord[0],ne=U.coord[1];if(!this.pickVertex){var ae=this.positions[X[0]],ue=this.positions[X[1]],he=this.positions[X[2]];return{_cellCenter:!0,position:[K,ne],index:Z,cell:X,cellId:Z,intensity:this.intensity[Z],dataCoordinate:[(ae[0]+ue[0]+he[0])/3,(ae[1]+ue[1]+he[1])/3,(ae[2]+ue[2]+he[2])/3]}}var ge=x(re,[K*this.pixelRatio,this._resolution[1]-ne*this.pixelRatio],this._model,this._view,this._projection,this._resolution);if(!ge)return null;var xe=ge[2],Se=0;for(ee=0;ee<X.length;++ee)Se+=xe[ee]*this.intensity[X[ee]];return{position:ge[1],index:X[ge[0]],cell:X,cellId:Z,intensity:Se,dataCoordinate:this.positions[X[ge[0]]]}},N.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.lineShader.dispose(),this.pointShader.dispose(),this.pickShader.dispose(),this.pointPickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleNormals.dispose(),this.triangleIds.dispose(),this.edgeVAO.dispose(),this.edgePositions.dispose(),this.edgeColors.dispose(),this.edgeUVs.dispose(),this.edgeIds.dispose(),this.pointVAO.dispose(),this.pointPositions.dispose(),this.pointColors.dispose(),this.pointUVs.dispose(),this.pointSizes.dispose(),this.pointIds.dispose(),this.contourVAO.dispose(),this.contourPositions.dispose(),this.contourShader.dispose()},y.exports=function(U,Z){if(1===arguments.length&&(U=(Z=U).gl),!(U.getExtension("OES_standard_derivatives")||U.getExtension("MOZ_OES_standard_derivatives")||U.getExtension("WEBKIT_OES_standard_derivatives")))throw new Error("derivatives not supported");var _e,X=((_e=s(U,b.vertex,b.fragment)).attributes.position.location=0,_e.attributes.color.location=2,_e.attributes.uv.location=3,_e.attributes.normal.location=4,_e),se=function(Ye){var _e=s(Ye,A.vertex,A.fragment);return _e.attributes.position.location=0,_e.attributes.color.location=2,_e.attributes.uv.location=3,_e}(U),re=function J(U){var Z=s(U,m.vertex,m.fragment);return Z.attributes.position.location=0,Z.attributes.color.location=2,Z.attributes.uv.location=3,Z.attributes.pointSize.location=4,Z}(U),ee=function z(U){var Z=s(U,C.vertex,C.fragment);return Z.attributes.position.location=0,Z.attributes.id.location=1,Z}(U),K=function Y(U){var Z=s(U,k.vertex,k.fragment);return Z.attributes.position.location=0,Z.attributes.id.location=1,Z.attributes.pointSize.location=4,Z}(U),ne=function q(U){var Z=s(U,P.vertex,P.fragment);return Z.attributes.position.location=0,Z}(U),ae=l(U,p(new Uint8Array([255,255,255,255]),[1,1,4]));ae.generateMipmap(),ae.minFilter=U.LINEAR_MIPMAP_LINEAR,ae.magFilter=U.LINEAR;var ue=a(U),he=a(U),pe=a(U),ge=a(U),xe=a(U),Se=o(U,[{buffer:ue,type:U.FLOAT,size:3},{buffer:xe,type:U.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:he,type:U.FLOAT,size:4},{buffer:pe,type:U.FLOAT,size:2},{buffer:ge,type:U.FLOAT,size:3}]),Te=a(U),ye=a(U),we=a(U),ze=a(U),ke=o(U,[{buffer:Te,type:U.FLOAT,size:3},{buffer:ze,type:U.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:ye,type:U.FLOAT,size:4},{buffer:we,type:U.FLOAT,size:2}]),Ee=a(U),me=a(U),de=a(U),ce=a(U),Ae=a(U),Ne=o(U,[{buffer:Ee,type:U.FLOAT,size:3},{buffer:Ae,type:U.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:me,type:U.FLOAT,size:4},{buffer:de,type:U.FLOAT,size:2},{buffer:ce,type:U.FLOAT,size:1}]),De=a(U),Ue=new L(U,ae,X,se,re,ee,K,ne,ue,xe,he,pe,ge,Se,Te,ze,ye,we,ke,Ee,Ae,me,de,ce,Ne,De,o(U,[{buffer:De,type:U.FLOAT,size:3}]));return Ue.update(Z),Ue}},4554:function(y,u,i){"use strict";y.exports=function(p){var T=p.gl;return new l(p,s(T,[0,0,0,1,1,0,1,1]),a(T,o.boxVert,o.lineFrag))};var s=i(5827),a=i(5158),o=i(2709);function l(p,T,_){this.plot=p,this.vbo=T,this.shader=_}var c,h,v=l.prototype;v.bind=function(){var p=this.shader;this.vbo.bind(),this.shader.bind(),p.attributes.coord.pointer(),p.uniforms.screenBox=this.plot.screenBox},v.drawBox=(c=[0,0],h=[0,0],function(p,T,_,g,w){var b=this.shader,A=this.plot.gl;c[0]=p,c[1]=T,h[0]=_,h[1]=g,b.uniforms.lo=c,b.uniforms.hi=h,b.uniforms.color=w,A.drawArrays(A.TRIANGLE_STRIP,0,4)}),v.dispose=function(){this.vbo.dispose(),this.shader.dispose()}},3016:function(y,u,i){"use strict";y.exports=function(x){var b=x.gl;return new c(x,s(b),a(b,l.gridVert,l.gridFrag),a(b,l.tickVert,l.gridFrag))};var s=i(5827),a=i(5158),o=i(5070),l=i(2709);function c(x,b,A,m){this.plot=x,this.vbo=b,this.shader=A,this.tickShader=m,this.ticks=[[],[]]}function h(x,b){return x-b}var v,p,T,_,g,x,b,A,m,C,k,w=c.prototype;w.draw=(v=[0,0],p=[0,0],T=[0,0],function(){for(var x=this.plot,b=this.vbo,A=this.shader,m=this.ticks,C=x.gl,k=x._tickBounds,P=x.dataBox,R=x.viewBox,L=x.gridLineWidth,N=x.gridLineColor,B=x.gridLineEnable,J=x.pixelRatio,z=0;z<2;++z){var Y=k[z],U=.5*(P[z+2]+P[z]),Z=P[z+2]-P[z];p[z]=2*(k[z+2]-Y)/Z,v[z]=2*(Y-U)/Z}A.bind(),b.bind(),A.attributes.dataCoord.pointer(),A.uniforms.dataShift=v,A.uniforms.dataScale=p;var X=0;for(z=0;z<2;++z){T[0]=T[1]=0,T[z]=1,A.uniforms.dataAxis=T,A.uniforms.lineWidth=L[z]/(R[z+2]-R[z])*J,A.uniforms.color=N[z];var se=6*m[z].length;B[z]&&se&&C.drawArrays(C.TRIANGLES,X,se),X+=se}}),w.drawTickMarks=(x=[0,0],b=[0,0],A=[1,0],m=[0,1],C=[0,0],k=[0,0],function(){for(var P=this.plot,R=this.vbo,L=this.tickShader,N=this.ticks,B=P.gl,J=P._tickBounds,z=P.dataBox,Y=P.viewBox,q=P.pixelRatio,U=P.screenBox,Z=U[2]-U[0],X=U[3]-U[1],se=Y[2]-Y[0],re=Y[3]-Y[1],ee=0;ee<2;++ee){var K=J[ee],ae=.5*(z[ee+2]+z[ee]),ue=z[ee+2]-z[ee];b[ee]=2*(J[ee+2]-K)/ue,x[ee]=2*(K-ae)/ue}b[0]*=se/Z,x[0]*=se/Z,b[1]*=re/X,x[1]*=re/X,L.bind(),R.bind(),L.attributes.dataCoord.pointer();var he=L.uniforms;he.dataShift=x,he.dataScale=b;var pe=P.tickMarkLength,ge=P.tickMarkWidth,xe=P.tickMarkColor,Se=6*N[0].length,Te=Math.min(o.ge(N[0],(z[0]-J[0])/(J[2]-J[0]),h),N[0].length),ye=Math.min(o.gt(N[0],(z[2]-J[0])/(J[2]-J[0]),h),N[0].length),we=0+6*Te,ze=6*Math.max(0,ye-Te),ke=Math.min(o.ge(N[1],(z[1]-J[1])/(J[3]-J[1]),h),N[1].length),Ee=Math.min(o.gt(N[1],(z[3]-J[1])/(J[3]-J[1]),h),N[1].length),me=Se+6*ke,de=6*Math.max(0,Ee-ke);C[0]=2*(Y[0]-pe[1])/Z-1,C[1]=(Y[3]+Y[1])/X-1,k[0]=pe[1]*q/Z,k[1]=ge[1]*q/X,de&&(he.color=xe[1],he.tickScale=k,he.dataAxis=m,he.screenOffset=C,B.drawArrays(B.TRIANGLES,me,de)),C[0]=(Y[2]+Y[0])/Z-1,C[1]=2*(Y[1]-pe[0])/X-1,k[0]=ge[0]*q/Z,k[1]=pe[0]*q/X,ze&&(he.color=xe[0],he.tickScale=k,he.dataAxis=A,he.screenOffset=C,B.drawArrays(B.TRIANGLES,we,ze)),C[0]=2*(Y[2]+pe[3])/Z-1,C[1]=(Y[3]+Y[1])/X-1,k[0]=pe[3]*q/Z,k[1]=ge[3]*q/X,de&&(he.color=xe[3],he.tickScale=k,he.dataAxis=m,he.screenOffset=C,B.drawArrays(B.TRIANGLES,me,de)),C[0]=(Y[2]+Y[0])/Z-1,C[1]=2*(Y[3]+pe[2])/X-1,k[0]=ge[2]*q/Z,k[1]=pe[2]*q/X,ze&&(he.color=xe[2],he.tickScale=k,he.dataAxis=A,he.screenOffset=C,B.drawArrays(B.TRIANGLES,we,ze))}),w.update=(_=[1,1,-1,-1,1,-1],g=[1,-1,1,1,-1,-1],function(x){for(var b=x.ticks,A=x.bounds,m=new Float32Array(18*(b[0].length+b[1].length)),C=0,k=[[],[]],P=0;P<2;++P)for(var R=k[P],L=b[P],N=A[P],B=A[P+2],J=0;J<L.length;++J){var z=(L[J].x-N)/(B-N);R.push(z);for(var Y=0;Y<6;++Y)m[C++]=z,m[C++]=_[Y],m[C++]=g[Y]}this.ticks=k,this.vbo.update(m)}),w.dispose=function(){this.vbo.dispose(),this.shader.dispose(),this.tickShader.dispose()}},1154:function(y,u,i){"use strict";y.exports=function(p){var T=p.gl;return new l(p,s(T,[-1,-1,-1,1,1,-1,1,1]),a(T,o.lineVert,o.lineFrag))};var s=i(5827),a=i(5158),o=i(2709);function l(p,T,_){this.plot=p,this.vbo=T,this.shader=_}var c,h,v=l.prototype;v.bind=function(){var p=this.shader;this.vbo.bind(),this.shader.bind(),p.attributes.coord.pointer(),p.uniforms.screenBox=this.plot.screenBox},v.drawLine=(c=[0,0],h=[0,0],function(p,T,_,g,w,x){var b=this.plot,A=this.shader,m=b.gl;c[0]=p,c[1]=T,h[0]=_,h[1]=g,A.uniforms.start=c,A.uniforms.end=h,A.uniforms.width=w*b.pixelRatio,A.uniforms.color=x,m.drawArrays(m.TRIANGLE_STRIP,0,4)}),v.dispose=function(){this.vbo.dispose(),this.shader.dispose()}},2709:function(y,u,i){"use strict";var s=i(6832),a=s(["precision lowp float;\n#define GLSLIFY 1\nuniform vec4 color;\nvoid main() {\n  gl_FragColor = vec4(color.xyz * color.w, color.w);\n}\n"]);y.exports={lineVert:s(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 coord;\n\nuniform vec4 screenBox;\nuniform vec2 start, end;\nuniform float width;\n\nvec2 perp(vec2 v) {\n  return vec2(v.y, -v.x);\n}\n\nvec2 screen(vec2 v) {\n  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;\n}\n\nvoid main() {\n  vec2 delta = normalize(perp(start - end));\n  vec2 offset = mix(start, end, 0.5 * (coord.y+1.0));\n  gl_Position = vec4(screen(offset + 0.5 * width * delta * coord.x), 0, 1);\n}\n"]),lineFrag:a,textVert:s(["#define GLSLIFY 1\nattribute vec3 textCoordinate;\n\nuniform vec2 dataScale, dataShift, dataAxis, screenOffset, textScale;\nuniform float angle;\n\nvoid main() {\n  float dataOffset  = textCoordinate.z;\n  vec2 glyphOffset  = textCoordinate.xy;\n  mat2 glyphMatrix = mat2(cos(angle), sin(angle), -sin(angle), cos(angle));\n  vec2 screenCoordinate = dataAxis * (dataScale * dataOffset + dataShift) +\n    glyphMatrix * glyphOffset * textScale + screenOffset;\n  gl_Position = vec4(screenCoordinate, 0, 1);\n}\n"]),textFrag:a,gridVert:s(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec3 dataCoord;\n\nuniform vec2 dataAxis, dataShift, dataScale;\nuniform float lineWidth;\n\nvoid main() {\n  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);\n  pos += 10.0 * dataCoord.y * vec2(dataAxis.y, -dataAxis.x) + dataCoord.z * lineWidth;\n  gl_Position = vec4(pos, 0, 1);\n}\n"]),gridFrag:a,boxVert:s(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 coord;\n\nuniform vec4 screenBox;\nuniform vec2 lo, hi;\n\nvec2 screen(vec2 v) {\n  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;\n}\n\nvoid main() {\n  gl_Position = vec4(screen(mix(lo, hi, coord)), 0, 1);\n}\n"]),tickVert:s(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec3 dataCoord;\n\nuniform vec2 dataAxis, dataShift, dataScale, screenOffset, tickScale;\n\nvoid main() {\n  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);\n  gl_Position = vec4(pos + tickScale*dataCoord.yz + screenOffset, 0, 1);\n}\n"])}},5613:function(y,u,i){"use strict";y.exports=function(b){var A=b.gl;return new h(b,s(A),a(A,c.textVert,c.textFrag))};var s=i(5827),a=i(5158),o=i(6946),l=i(5070),c=i(2709);function h(b,A,m){this.plot=b,this.vbo=A,this.shader=m,this.tickOffset=[[],[]],this.tickX=[[],[]],this.labelOffset=[0,0],this.labelCount=[0,0]}var v,p,T,_,g,w,b,A,x=h.prototype;x.drawTicks=(v=[0,0],p=[0,0],T=[0,0],function(b){var A=this.plot,m=this.shader,C=this.tickX[b],k=this.tickOffset[b],P=A.gl,R=A.viewBox,L=A.dataBox,N=A.screenBox,B=A.pixelRatio,J=A.tickEnable,z=A.tickPad,Y=A.tickColor,q=A.tickAngle,U=A.labelEnable,Z=A.labelPad,X=A.labelColor,se=A.labelAngle,re=this.labelOffset[b],ee=this.labelCount[b],K=l.lt(C,L[b]),ne=l.le(C,L[b+2]);v[0]=v[1]=0,v[b]=1,p[b]=(R[2+b]+R[b])/(N[2+b]-N[b])-1;var ae=2/N[2+(1^b)]-N[1^b];p[1^b]=ae*R[1^b]-1,J[b]&&(p[1^b]-=ae*B*z[b],K<ne&&k[ne]>k[K]&&(m.uniforms.dataAxis=v,m.uniforms.screenOffset=p,m.uniforms.color=Y[b],m.uniforms.angle=q[b],P.drawArrays(P.TRIANGLES,k[K],k[ne]-k[K]))),U[b]&&ee&&(p[1^b]-=ae*B*Z[b],m.uniforms.dataAxis=T,m.uniforms.screenOffset=p,m.uniforms.color=X[b],m.uniforms.angle=se[b],P.drawArrays(P.TRIANGLES,re,ee)),p[1^b]=ae*R[2+(1^b)]-1,J[b+2]&&(p[1^b]+=ae*B*z[b+2],K<ne&&k[ne]>k[K]&&(m.uniforms.dataAxis=v,m.uniforms.screenOffset=p,m.uniforms.color=Y[b+2],m.uniforms.angle=q[b+2],P.drawArrays(P.TRIANGLES,k[K],k[ne]-k[K]))),U[b+2]&&ee&&(p[1^b]+=ae*B*Z[b+2],m.uniforms.dataAxis=T,m.uniforms.screenOffset=p,m.uniforms.color=X[b+2],m.uniforms.angle=se[b+2],P.drawArrays(P.TRIANGLES,re,ee))}),x.drawTitle=(b=[0,0],A=[0,0],function(){var m=this.plot,C=this.shader,k=m.gl,P=m.screenBox,R=m.titleCenter,L=m.titleAngle,N=m.titleColor,B=m.pixelRatio;if(this.titleCount){for(var J=0;J<2;++J)A[J]=2*(R[J]*B-P[J])/(P[2+J]-P[J])-1;C.bind(),C.uniforms.dataAxis=b,C.uniforms.screenOffset=A,C.uniforms.angle=L,C.uniforms.color=N,k.drawArrays(k.TRIANGLES,this.titleOffset,this.titleCount)}}),x.bind=(_=[0,0],g=[0,0],w=[0,0],function(){var b=this.plot,A=this.shader,m=b._tickBounds,C=b.dataBox,k=b.screenBox,P=b.viewBox;A.bind();for(var R=0;R<2;++R){var L=m[R],B=.5*(C[R+2]+C[R]),J=C[R+2]-C[R],Y=P[R+2]-P[R],U=k[R+2]-k[R];g[R]=2*(m[R+2]-L)/J*Y/U,_[R]=2*(L-B)/J*Y/U}w[1]=2*b.pixelRatio/(k[3]-k[1]),w[0]=w[1]*(k[3]-k[1])/(k[2]-k[0]),A.uniforms.dataScale=g,A.uniforms.dataShift=_,A.uniforms.textScale=w,this.vbo.bind(),A.attributes.textCoordinate.pointer()}),x.update=function(b){var A,m,C,k,P,R=[],L=b.ticks,N=b.bounds;for(P=0;P<2;++P){var B=[Math.floor(R.length/3)],J=[-1/0],z=L[P];for(A=0;A<z.length;++A){var Y=z[A],q=Y.x,Z=Y.font||"sans-serif";k=Y.fontSize||12;for(var X=1/(N[P+2]-N[P]),se=N[P],re=Y.text.split("\n"),ee=0;ee<re.length;ee++)for(C=o(Z,re[ee]).data,m=0;m<C.length;m+=2)R.push(C[m]*k,-C[m+1]*k-ee*k*1.2,(q-se)*X);B.push(Math.floor(R.length/3)),J.push(q)}this.tickOffset[P]=B,this.tickX[P]=J}for(P=0;P<2;++P){for(this.labelOffset[P]=Math.floor(R.length/3),C=o(b.labelFont[P],b.labels[P],{textAlign:"center"}).data,k=b.labelSize[P],A=0;A<C.length;A+=2)R.push(C[A]*k,-C[A+1]*k,0);this.labelCount[P]=Math.floor(R.length/3)-this.labelOffset[P]}for(this.titleOffset=Math.floor(R.length/3),C=o(b.titleFont,b.title).data,k=b.titleSize,A=0;A<C.length;A+=2)R.push(C[A]*k,-C[A+1]*k,0);this.titleCount=Math.floor(R.length/3)-this.titleOffset,this.vbo.update(R)},x.dispose=function(){this.vbo.dispose(),this.shader.dispose()}},2117:function(y,u,i){"use strict";y.exports=function(_){var g=_.gl,w=new h(g,s(g,[g.drawingBufferWidth,g.drawingBufferHeight]));return w.grid=a(w),w.text=o(w),w.line=l(w),w.box=c(w),w.update(_),w};var s=i(2611),a=i(3016),o=i(5613),l=i(1154),c=i(4554);function h(_,g){this.gl=_,this.pickBuffer=g,this.screenBox=[0,0,_.drawingBufferWidth,_.drawingBufferHeight],this.viewBox=[0,0,0,0],this.dataBox=[-10,-10,10,10],this.gridLineEnable=[!0,!0],this.gridLineWidth=[1,1],this.gridLineColor=[[0,0,0,1],[0,0,0,1]],this.pixelRatio=1,this.tickMarkLength=[0,0,0,0],this.tickMarkWidth=[0,0,0,0],this.tickMarkColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[15,15,15,15],this.tickAngle=[0,0,0,0],this.tickEnable=[!0,!0,!0,!0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[15,15,15,15],this.labelAngle=[0,Math.PI/2,0,3*Math.PI/2],this.labelEnable=[!0,!0,!0,!0],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.titleCenter=[0,0],this.titleEnable=!0,this.titleAngle=0,this.titleColor=[0,0,0,1],this.borderColor=[0,0,0,0],this.backgroundColor=[0,0,0,0],this.zeroLineEnable=[!0,!0],this.zeroLineWidth=[4,4],this.zeroLineColor=[[0,0,0,1],[0,0,0,1]],this.borderLineEnable=[!0,!0,!0,!0],this.borderLineWidth=[2,2,2,2],this.borderLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.grid=null,this.text=null,this.line=null,this.box=null,this.objects=[],this.overlays=[],this._tickBounds=[1/0,1/0,-1/0,-1/0],this.static=!1,this.dirty=!1,this.pickDirty=!1,this.pickDelay=120,this.pickRadius=10,this._pickTimeout=null,this._drawPick=this.drawPick.bind(this),this._depthCounter=0}var v=h.prototype;function p(_){for(var g=_.slice(),w=0;w<g.length;++w)g[w]=g[w].slice();return g}function T(_,g){return _.x-g.x}v.setDirty=function(){this.dirty=this.pickDirty=!0},v.setOverlayDirty=function(){this.dirty=!0},v.nextDepthValue=function(){return this._depthCounter++/65536},v.draw=function(){var _=this.gl,g=this.screenBox,w=this.viewBox,x=this.dataBox,b=this.pixelRatio,A=this.grid,m=this.line,C=this.text,k=this.objects;if(this._depthCounter=0,this.pickDirty&&(this._pickTimeout&&clearTimeout(this._pickTimeout),this.pickDirty=!1,this._pickTimeout=setTimeout(this._drawPick,this.pickDelay)),this.dirty){if(this.dirty=!1,_.bindFramebuffer(_.FRAMEBUFFER,null),_.enable(_.SCISSOR_TEST),_.disable(_.DEPTH_TEST),_.depthFunc(_.LESS),_.depthMask(!1),_.enable(_.BLEND),_.blendEquation(_.FUNC_ADD,_.FUNC_ADD),_.blendFunc(_.ONE,_.ONE_MINUS_SRC_ALPHA),this.borderColor){_.scissor(g[0],g[1],g[2]-g[0],g[3]-g[1]);var P=this.borderColor;_.clearColor(P[0]*P[3],P[1]*P[3],P[2]*P[3],P[3]),_.clear(_.COLOR_BUFFER_BIT|_.DEPTH_BUFFER_BIT)}_.scissor(w[0],w[1],w[2]-w[0],w[3]-w[1]),_.viewport(w[0],w[1],w[2]-w[0],w[3]-w[1]);var R=this.backgroundColor;_.clearColor(R[0]*R[3],R[1]*R[3],R[2]*R[3],R[3]),_.clear(_.COLOR_BUFFER_BIT),A.draw();var L=this.zeroLineEnable,N=this.zeroLineColor,B=this.zeroLineWidth;if(L[0]||L[1]){m.bind();for(var J=0;J<2;++J)if(L[J]&&x[J]<=0&&x[J+2]>=0){var z=g[J]-x[J]*(g[J+2]-g[J])/(x[J+2]-x[J]);0===J?m.drawLine(z,g[1],z,g[3],B[J],N[J]):m.drawLine(g[0],z,g[2],z,B[J],N[J])}}for(J=0;J<k.length;++J)k[J].draw();_.viewport(g[0],g[1],g[2]-g[0],g[3]-g[1]),_.scissor(g[0],g[1],g[2]-g[0],g[3]-g[1]),this.grid.drawTickMarks(),m.bind();var Y=this.borderLineEnable,q=this.borderLineWidth,U=this.borderLineColor;for(Y[1]&&m.drawLine(w[0],w[1]-.5*q[1]*b,w[0],w[3]+.5*q[3]*b,q[1],U[1]),Y[0]&&m.drawLine(w[0]-.5*q[0]*b,w[1],w[2]+.5*q[2]*b,w[1],q[0],U[0]),Y[3]&&m.drawLine(w[2],w[1]-.5*q[1]*b,w[2],w[3]+.5*q[3]*b,q[3],U[3]),Y[2]&&m.drawLine(w[0]-.5*q[0]*b,w[3],w[2]+.5*q[2]*b,w[3],q[2],U[2]),C.bind(),J=0;J<2;++J)C.drawTicks(J);this.titleEnable&&C.drawTitle();var Z=this.overlays;for(J=0;J<Z.length;++J)Z[J].draw();_.disable(_.SCISSOR_TEST),_.disable(_.BLEND),_.depthMask(!0)}},v.drawPick=function(){if(!this.static){var _=this.pickBuffer;this._pickTimeout=null,_.begin();for(var g=1,w=this.objects,x=0;x<w.length;++x)g=w[x].drawPick(g);_.end()}},v.pick=function(_,g){if(!this.static){var w=this.pixelRatio,x=this.pickPixelRatio,b=this.viewBox,A=0|Math.round((_-b[0]/w)*x),m=0|Math.round((g-b[1]/w)*x),C=this.pickBuffer.query(A,m,this.pickRadius);if(!C)return null;for(var k=C.id+(C.value[0]<<8)+(C.value[1]<<16)+(C.value[2]<<24),P=this.objects,R=0;R<P.length;++R){var L=P[R].pick(A,m,k);if(L)return L}return null}},v.setScreenBox=function(_){var g=this.screenBox,w=this.pixelRatio;g[0]=0|Math.round(_[0]*w),g[1]=0|Math.round(_[1]*w),g[2]=0|Math.round(_[2]*w),g[3]=0|Math.round(_[3]*w),this.setDirty()},v.setDataBox=function(_){var g=this.dataBox;(g[0]!==_[0]||g[1]!==_[1]||g[2]!==_[2]||g[3]!==_[3])&&(g[0]=_[0],g[1]=_[1],g[2]=_[2],g[3]=_[3],this.setDirty())},v.setViewBox=function(_){var g=this.pixelRatio,w=this.viewBox;w[0]=0|Math.round(_[0]*g),w[1]=0|Math.round(_[1]*g),w[2]=0|Math.round(_[2]*g),w[3]=0|Math.round(_[3]*g);var x=this.pickPixelRatio;this.pickBuffer.shape=[0|Math.round((_[2]-_[0])*x),0|Math.round((_[3]-_[1])*x)],this.setDirty()},v.update=function(_){var g=this.gl;this.pixelRatio=(_=_||{}).pixelRatio||1;var w=this.pixelRatio;this.pickPixelRatio=Math.max(w,1),this.setScreenBox(_.screenBox||[0,0,g.drawingBufferWidth/w,g.drawingBufferHeight/w]),this.setViewBox(_.viewBox||[.125*(this.screenBox[2]-this.screenBox[0])/w,.125*(this.screenBox[3]-this.screenBox[1])/w,.875*(this.screenBox[2]-this.screenBox[0])/w,.875*(this.screenBox[3]-this.screenBox[1])/w]);var x=this.viewBox,b=(x[2]-x[0])/(x[3]-x[1]);this.setDataBox(_.dataBox||[-10,-10/b,10,10/b]),this.borderColor=!1!==_.borderColor&&(_.borderColor||[0,0,0,0]).slice(),this.backgroundColor=(_.backgroundColor||[0,0,0,0]).slice(),this.gridLineEnable=(_.gridLineEnable||[!0,!0]).slice(),this.gridLineWidth=(_.gridLineWidth||[1,1]).slice(),this.gridLineColor=p(_.gridLineColor||[[.5,.5,.5,1],[.5,.5,.5,1]]),this.zeroLineEnable=(_.zeroLineEnable||[!0,!0]).slice(),this.zeroLineWidth=(_.zeroLineWidth||[4,4]).slice(),this.zeroLineColor=p(_.zeroLineColor||[[0,0,0,1],[0,0,0,1]]),this.tickMarkLength=(_.tickMarkLength||[0,0,0,0]).slice(),this.tickMarkWidth=(_.tickMarkWidth||[0,0,0,0]).slice(),this.tickMarkColor=p(_.tickMarkColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.titleCenter=(_.titleCenter||[.5*(x[0]+x[2])/w,(x[3]+120)/w]).slice(),this.titleEnable=!("titleEnable"in _)||!!_.titleEnable,this.titleAngle=_.titleAngle||0,this.titleColor=(_.titleColor||[0,0,0,1]).slice(),this.labelPad=(_.labelPad||[15,15,15,15]).slice(),this.labelAngle=(_.labelAngle||[0,Math.PI/2,0,3*Math.PI/2]).slice(),this.labelEnable=(_.labelEnable||[!0,!0,!0,!0]).slice(),this.labelColor=p(_.labelColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.tickPad=(_.tickPad||[15,15,15,15]).slice(),this.tickAngle=(_.tickAngle||[0,0,0,0]).slice(),this.tickEnable=(_.tickEnable||[!0,!0,!0,!0]).slice(),this.tickColor=p(_.tickColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.borderLineEnable=(_.borderLineEnable||[!0,!0,!0,!0]).slice(),this.borderLineWidth=(_.borderLineWidth||[2,2,2,2]).slice(),this.borderLineColor=p(_.borderLineColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]);var A=_.ticks||[[],[]],m=this._tickBounds;m[0]=m[1]=1/0,m[2]=m[3]=-1/0;for(var C=0;C<2;++C){var k=A[C].slice(0);0!==k.length&&(k.sort(T),m[C]=Math.min(m[C],k[0].x),m[C+2]=Math.max(m[C+2],k[k.length-1].x))}this.grid.update({bounds:m,ticks:A}),this.text.update({bounds:m,ticks:A,labels:_.labels||["x","y"],labelSize:_.labelSize||[12,12],labelFont:_.labelFont||["sans-serif","sans-serif"],title:_.title||"",titleSize:_.titleSize||18,titleFont:_.titleFont||"sans-serif"}),this.static=!!_.static,this.setDirty()},v.dispose=function(){this.box.dispose(),this.grid.dispose(),this.text.dispose(),this.line.dispose();for(var _=this.objects.length-1;_>=0;--_)this.objects[_].dispose();for(this.objects.length=0,_=this.overlays.length-1;_>=0;--_)this.overlays[_].dispose();this.overlays.length=0,this.gl=null},v.addObject=function(_){this.objects.indexOf(_)<0&&(this.objects.push(_),this.setDirty())},v.removeObject=function(_){for(var g=this.objects,w=0;w<g.length;++w)if(g[w]===_){g.splice(w,1),this.setDirty();break}},v.addOverlay=function(_){this.overlays.indexOf(_)<0&&(this.overlays.push(_),this.setOverlayDirty())},v.removeOverlay=function(_){for(var g=this.overlays,w=0;w<g.length;++w)if(g[w]===_){g.splice(w,1),this.setOverlayDirty();break}}},4296:function(y,u,i){"use strict";y.exports=function(v,p){v=v||document.body;var T=[.01,1/0];"distanceLimits"in(p=p||{})&&(T[0]=p.distanceLimits[0],T[1]=p.distanceLimits[1]),"zoomMin"in p&&(T[0]=p.zoomMin),"zoomMax"in p&&(T[1]=p.zoomMax);var _=a({center:p.center||[0,0,0],up:p.up||[0,1,0],eye:p.eye||[0,0,10],mode:p.mode||"orbit",distanceLimits:T}),g=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],w=0,x=v.clientWidth,b=v.clientHeight,A={keyBindingMode:"rotate",enableWheel:!0,view:_,element:v,delay:p.delay||16,rotateSpeed:p.rotateSpeed||1,zoomSpeed:p.zoomSpeed||1,translateSpeed:p.translateSpeed||1,flipX:!!p.flipX,flipY:!!p.flipY,modes:_.modes,_ortho:p._ortho||p.projection&&"orthographic"===p.projection.type||!1,tick:function(){var m=s(),C=this.delay,k=m-2*C;_.idle(m-C),_.recalcMatrix(k),_.flush(m-(100+2*C));for(var P=!0,R=_.computedMatrix,L=0;L<16;++L)P=P&&g[L]===R[L],g[L]=R[L];var N=v.clientWidth===x&&v.clientHeight===b;return x=v.clientWidth,b=v.clientHeight,P?!N:(w=Math.exp(_.computedRadius[0]),!0)},lookAt:function(m,C,k){_.lookAt(_.lastT(),m,C,k)},rotate:function(m,C,k){_.rotate(_.lastT(),m,C,k)},pan:function(m,C,k){_.pan(_.lastT(),m,C,k)},translate:function(m,C,k){_.translate(_.lastT(),m,C,k)}};return Object.defineProperties(A,{matrix:{get:function(){return _.computedMatrix},set:function(m){return _.setMatrix(_.lastT(),m),_.computedMatrix},enumerable:!0},mode:{get:function(){return _.getMode()},set:function(m){var C=_.computedUp.slice(),k=_.computedEye.slice(),P=_.computedCenter.slice();if(_.setMode(m),"turntable"===m){var R=s();_._active.lookAt(R,k,P,C),_._active.lookAt(R+500,k,P,[0,0,1]),_._active.flush(R)}return _.getMode()},enumerable:!0},center:{get:function(){return _.computedCenter},set:function(m){return _.lookAt(_.lastT(),null,m),_.computedCenter},enumerable:!0},eye:{get:function(){return _.computedEye},set:function(m){return _.lookAt(_.lastT(),m),_.computedEye},enumerable:!0},up:{get:function(){return _.computedUp},set:function(m){return _.lookAt(_.lastT(),null,null,m),_.computedUp},enumerable:!0},distance:{get:function(){return w},set:function(m){return _.setDistance(_.lastT(),m),m},enumerable:!0},distanceLimits:{get:function(){return _.getDistanceLimits(T)},set:function(m){return _.setDistanceLimits(m),m},enumerable:!0}}),v.addEventListener("contextmenu",function(m){return m.preventDefault(),!1}),A._lastX=-1,A._lastY=-1,A._lastMods={shift:!1,control:!1,alt:!1,meta:!1},A.enableMouseListeners=function(){function m(C,k,P,R){var L=A.keyBindingMode;if(!1!==L){var N="rotate"===L,B="pan"===L,J="zoom"===L,z=!!R.control,Y=!!R.alt,q=!!R.shift,U=!!(1&C),Z=!!(2&C),X=!!(4&C),se=1/v.clientHeight,re=se*(k-A._lastX),ee=se*(P-A._lastY),K=A.flipX?1:-1,ne=A.flipY?1:-1,ae=Math.PI*A.rotateSpeed,ue=s();if(-1!==A._lastX&&-1!==A._lastY&&((N&&U&&!z&&!Y&&!q||U&&!z&&!Y&&q)&&_.rotate(ue,K*ae*re,-ne*ae*ee,0),(B&&U&&!z&&!Y&&!q||Z||U&&z&&!Y&&!q)&&_.pan(ue,-A.translateSpeed*re*w,A.translateSpeed*ee*w,0),J&&U&&!z&&!Y&&!q||X||U&&!z&&Y&&!q)){var he=-A.zoomSpeed*ee/window.innerHeight*(ue-_.lastT())*100;_.pan(ue,0,0,w*(Math.exp(he)-1))}return A._lastX=k,A._lastY=P,A._lastMods=R,!0}}A.mouseListener=o(v,m),v.addEventListener("touchstart",function(C){var k=c(C.changedTouches[0],v);m(0,k[0],k[1],A._lastMods),m(1,k[0],k[1],A._lastMods)},!!h&&{passive:!0}),v.addEventListener("touchmove",function(C){var k=c(C.changedTouches[0],v);m(1,k[0],k[1],A._lastMods),C.preventDefault()},!!h&&{passive:!1}),v.addEventListener("touchend",function(C){m(0,A._lastX,A._lastY,A._lastMods)},!!h&&{passive:!0}),A.wheelListener=l(v,function(C,k){if(!1!==A.keyBindingMode&&A.enableWheel){var P=A.flipX?1:-1,R=A.flipY?1:-1,L=s();if(Math.abs(C)>Math.abs(k))_.rotate(L,0,0,-C*P*Math.PI*A.rotateSpeed/window.innerWidth);else if(!A._ortho){var N=-A.zoomSpeed*R*k/window.innerHeight*(L-_.lastT())/20;_.pan(L,0,0,w*(Math.exp(N)-1))}}},!0)},A.enableMouseListeners(),A};var s=i(8161),a=i(1152),o=i(6145),l=i(6475),c=i(2565),h=i(5233)},8245:function(y,u,i){var s=i(6832),a=i(5158),o=s(["precision mediump float;\n#define GLSLIFY 1\nattribute vec2 position;\nvarying vec2 uv;\nvoid main() {\n  uv = position;\n  gl_Position = vec4(position, 0, 1);\n}"]),l=s(["precision mediump float;\n#define GLSLIFY 1\n\nuniform sampler2D accumBuffer;\nvarying vec2 uv;\n\nvoid main() {\n  vec4 accum = texture2D(accumBuffer, 0.5 * (uv + 1.0));\n  gl_FragColor = min(vec4(1,1,1,1), accum);\n}"]);y.exports=function(c){return a(c,o,l,null,[{name:"position",type:"vec2"}])}},1059:function(y,u,i){"use strict";var s=i(4296),a=i(7453),o=i(2771),l=i(6496),c=i(2611),h=i(4234),v=i(8126),p=i(6145),T=i(1120),_=i(5268),g=i(8245),w=i(2321)({tablet:!0,featureDetect:!0});function x(){this.mouse=[-1,-1],this.screen=null,this.distance=1/0,this.index=null,this.dataCoordinate=null,this.dataPosition=null,this.object=null,this.data=null}function b(m){var C=Math.round(Math.log(Math.abs(m))/Math.log(10));if(C<0){var k=Math.round(Math.pow(10,-C));return Math.ceil(m*k)/k}return C>0?(k=Math.round(Math.pow(10,C)),Math.ceil(m/k)*k):Math.ceil(m)}function A(m){return"boolean"!=typeof m||m}y.exports={createScene:function(m){(m=m||{}).camera=m.camera||{};var C=m.canvas;C||(C=document.createElement("canvas"),m.container?m.container.appendChild(C):document.body.appendChild(C));var k=m.gl;if(k||(m.glOptions&&(w=!!m.glOptions.preserveDrawingBuffer),k=function(ze,ke){var Ee=null;try{(Ee=ze.getContext("webgl",ke))||(Ee=ze.getContext("experimental-webgl",ke))}catch{return null}return Ee}(C,m.glOptions||{premultipliedAlpha:!0,antialias:!0,preserveDrawingBuffer:w})),!k)throw new Error("webgl not supported");var P=m.bounds||[[-10,-10,-10],[10,10,10]],R=new x,L=h(k,k.drawingBufferWidth,k.drawingBufferHeight,{preferFloat:!w}),N=g(k),B=m.cameraObject&&!0===m.cameraObject._ortho||m.camera.projection&&"orthographic"===m.camera.projection.type||!1,J={eye:m.camera.eye||[2,0,0],center:m.camera.center||[0,0,0],up:m.camera.up||[0,1,0],zoomMin:m.camera.zoomMax||.1,zoomMax:m.camera.zoomMin||100,mode:m.camera.mode||"turntable",_ortho:B},z=m.axes||{},Y=a(k,z);Y.enable=!z.disable;var U=l(k,m.spikes||{}),Z=[],X=[],se=[],re=[],ee=!0,K=!0,ne={view:null,projection:new Array(16),model:new Array(16),_ortho:!1},ae=(K=!0,[k.drawingBufferWidth,k.drawingBufferHeight]),ue=m.cameraObject||s(C,J),he={gl:k,contextLost:!1,pixelRatio:m.pixelRatio||1,canvas:C,selection:R,camera:ue,axes:Y,axesPixels:null,spikes:U,bounds:P,objects:Z,shape:ae,aspect:m.aspectRatio||[1,1,1],pickRadius:m.pickRadius||10,zNear:m.zNear||.01,zFar:m.zFar||1e3,fovy:m.fovy||Math.PI/4,clearColor:m.clearColor||[0,0,0,0],autoResize:A(m.autoResize),autoBounds:A(m.autoBounds),autoScale:!!m.autoScale,autoCenter:A(m.autoCenter),clipToBounds:A(m.clipToBounds),snapToData:!!m.snapToData,onselect:m.onselect||null,onrender:m.onrender||null,onclick:m.onclick||null,cameraParams:ne,oncontextloss:null,mouseListener:null,_stopped:!1,getAspectratio:function(){return{x:this.aspect[0],y:this.aspect[1],z:this.aspect[2]}},setAspectratio:function(ze){this.aspect[0]=ze.x,this.aspect[1]=ze.y,this.aspect[2]=ze.z,K=!0},setBounds:function(ze,ke){this.bounds[0][ze]=ke.min,this.bounds[1][ze]=ke.max},setClearColor:function(ze){this.clearColor=ze},clearRGBA:function(){this.gl.clearColor(this.clearColor[0],this.clearColor[1],this.clearColor[2],this.clearColor[3]),this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT)}},pe=[k.drawingBufferWidth/he.pixelRatio|0,k.drawingBufferHeight/he.pixelRatio|0];function ge(){if(!he._stopped&&he.autoResize){var ze=C.parentNode,ke=1,Ee=1;ze&&ze!==document.body?(ke=ze.clientWidth,Ee=ze.clientHeight):(ke=window.innerWidth,Ee=window.innerHeight);var me=0|Math.ceil(ke*he.pixelRatio),de=0|Math.ceil(Ee*he.pixelRatio);if(me!==C.width||de!==C.height){C.width=me,C.height=de;var ce=C.style;ce.position=ce.position||"absolute",ce.left="0px",ce.top="0px",ce.width=ke+"px",ce.height=Ee+"px",ee=!0}}}function xe(){for(var ze=Z.length,ke=re.length,Ee=0;Ee<ke;++Ee)se[Ee]=0;e:for(Ee=0;Ee<ze;++Ee){var me=Z[Ee],de=me.pickSlots;if(de){for(var ce=0;ce<ke;++ce)if(se[ce]+de<255){X[Ee]=ce,me.setPickBase(se[ce]+1),se[ce]+=de;continue e}var Ae=c(k,ae);X[Ee]=ke,re.push(Ae),se.push(de),me.setPickBase(1),ke+=1}else X[Ee]=-1}for(;ke>0&&0===se[ke-1];)se.pop(),re.pop().dispose()}function Se(){if(he.contextLost)return!0;k.isContextLost()&&(he.contextLost=!0,he.mouseListener.enabled=!1,he.selection.object=null,he.oncontextloss&&he.oncontextloss())}he.autoResize&&ge(),window.addEventListener("resize",ge),he.update=function(ze){he._stopped||(ze=ze||{},ee=!0,K=!0)},he.add=function(ze){he._stopped||(ze.axes=Y,Z.push(ze),X.push(-1),ee=!0,K=!0,xe())},he.remove=function(ze){if(!he._stopped){var ke=Z.indexOf(ze);ke<0||(Z.splice(ke,1),X.pop(),ee=!0,K=!0,xe())}},he.dispose=function(){if(!he._stopped&&(he._stopped=!0,window.removeEventListener("resize",ge),C.removeEventListener("webglcontextlost",Se),he.mouseListener.enabled=!1,!he.contextLost)){Y.dispose(),U.dispose();for(var ze=0;ze<Z.length;++ze)Z[ze].dispose();for(L.dispose(),ze=0;ze<re.length;++ze)re[ze].dispose();N.dispose(),k=null,Y=null,U=null,Z=[]}},he._mouseRotating=!1,he._prevButtons=0,he.enableMouseListeners=function(){he.mouseListener=p(C,function(ze,ke,Ee){if(!he._stopped){var me=re.length,de=Z.length,ce=R.object;R.distance=1/0,R.mouse[0]=ke,R.mouse[1]=Ee,R.object=null,R.screen=null,R.dataCoordinate=R.dataPosition=null;var Ae=!1;if(ze&&he._prevButtons)he._mouseRotating=!0;else{he._mouseRotating&&(K=!0),he._mouseRotating=!1;for(var Ne=0;Ne<me;++Ne){var De=re[Ne].query(ke,pe[1]-Ee-1,he.pickRadius);if(De){if(De.distance>R.distance)continue;for(var Ue=0;Ue<de;++Ue){var Ye=Z[Ue];if(X[Ue]===Ne){var _e=Ye.pick(De);_e&&(R.buttons=ze,R.screen=De.coord,R.distance=De.distance,R.object=Ye,R.index=_e.distance,R.dataPosition=_e.position,R.dataCoordinate=_e.dataCoordinate,R.data=_e,Ae=!0)}}}}}ce&&ce!==R.object&&(ce.highlight&&ce.highlight(null),ee=!0),R.object&&(R.object.highlight&&R.object.highlight(R.data),ee=!0),(Ae=Ae||R.object!==ce)&&he.onselect&&he.onselect(R),1&ze&&!(1&he._prevButtons)&&he.onclick&&he.onclick(R),he._prevButtons=ze}})},C.addEventListener("webglcontextlost",Se);var Te=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],ye=[Te[0].slice(),Te[1].slice()];function we(){if(!Se()){ge();var ze=he.camera.tick();ne.view=he.camera.matrix,ee=ee||ze,K=K||ze,Y.pixelRatio=he.pixelRatio,U.pixelRatio=he.pixelRatio;var ke=Z.length,Ee=Te[0],me=Te[1];Ee[0]=Ee[1]=Ee[2]=1/0,me[0]=me[1]=me[2]=-1/0;for(var de=0;de<ke;++de){(Ge=Z[de]).pixelRatio=he.pixelRatio,Ge.axes=he.axes,ee=ee||!!Ge.dirty,K=K||!!Ge.dirty;var ce=Ge.bounds;if(ce)for(var Ae=ce[0],Ne=ce[1],De=0;De<3;++De)Ee[De]=Math.min(Ee[De],Ae[De]),me[De]=Math.max(me[De],Ne[De])}var Ue=he.bounds;if(he.autoBounds)for(De=0;De<3;++De){if(me[De]<Ee[De])Ee[De]=-1,me[De]=1;else{Ee[De]===me[De]&&(Ee[De]-=1,me[De]+=1);var Ye=.05*(me[De]-Ee[De]);Ee[De]=Ee[De]-Ye,me[De]=me[De]+Ye}Ue[0][De]=Ee[De],Ue[1][De]=me[De]}var _e=!1;for(De=0;De<3;++De)_e=_e||ye[0][De]!==Ue[0][De]||ye[1][De]!==Ue[1][De],ye[0][De]=Ue[0][De],ye[1][De]=Ue[1][De];if(K=K||_e,ee=ee||_e){if(_e){var Pe=[0,0,0];for(de=0;de<3;++de)Pe[de]=b((Ue[1][de]-Ue[0][de])/10);Y.update(Y.autoTicks?{bounds:Ue,tickSpacing:Pe}:{bounds:Ue})}var Ie=k.drawingBufferWidth,Be=k.drawingBufferHeight;for(ae[0]=Ie,ae[1]=Be,pe[0]=0|Math.max(Ie/he.pixelRatio,1),pe[1]=0|Math.max(Be/he.pixelRatio,1),function(Ke,tt){var st=Ke.bounds,gt=Ke.cameraParams,ct=gt.projection,kt=gt.model,mt=Ke.zNear,Et=Ke.zFar,Lt=Ke.fovy,Rt=Ke.gl.drawingBufferWidth/Ke.gl.drawingBufferHeight;tt?(_(ct,-Rt,Rt,-1,1,mt,Et),gt._ortho=!0):(T(ct,Lt,Rt,mt,Et),gt._ortho=!1);for(var Ut=0;Ut<16;++Ut)kt[Ut]=0;kt[15]=1;var Bt=0;for(Ut=0;Ut<3;++Ut)Bt=Math.max(Bt,st[1][Ut]-st[0][Ut]);for(Ut=0;Ut<3;++Ut)kt[5*Ut]=Ke.autoScale?Ke.aspect[Ut]/(st[1][Ut]-st[0][Ut]):1/Bt,Ke.autoCenter&&(kt[12+Ut]=.5*-kt[5*Ut]*(st[0][Ut]+st[1][Ut]))}(he,B),de=0;de<ke;++de)(Ge=Z[de]).axesBounds=Ue,he.clipToBounds&&(Ge.clipBounds=Ue);R.object&&(U.position=he.snapToData?R.dataCoordinate:R.dataPosition,U.bounds=Ue),K&&(K=!1,function(){if(!Se()){k.colorMask(!0,!0,!0,!0),k.depthMask(!0),k.disable(k.BLEND),k.enable(k.DEPTH_TEST),k.depthFunc(k.LEQUAL);for(var Ke=Z.length,tt=re.length,st=0;st<tt;++st){var gt=re[st];gt.shape=pe,gt.begin();for(var ct=0;ct<Ke;++ct)if(X[ct]===st){var kt=Z[ct];kt.drawPick&&(kt.pixelRatio=1,kt.drawPick(ne))}gt.end()}}}()),he.axesPixels=o(he.axes,ne,Ie,Be),he.onrender&&he.onrender(),k.bindFramebuffer(k.FRAMEBUFFER,null),k.viewport(0,0,Ie,Be),he.clearRGBA(),k.depthMask(!0),k.colorMask(!0,!0,!0,!0),k.enable(k.DEPTH_TEST),k.depthFunc(k.LEQUAL),k.disable(k.BLEND),k.disable(k.CULL_FACE);var We=!1;for(Y.enable&&(We=We||Y.isTransparent(),Y.draw(ne)),U.axes=Y,R.object&&U.draw(ne),k.disable(k.CULL_FACE),de=0;de<ke;++de)(Ge=Z[de]).axes=Y,Ge.pixelRatio=he.pixelRatio,Ge.isOpaque&&Ge.isOpaque()&&Ge.draw(ne),Ge.isTransparent&&Ge.isTransparent()&&(We=!0);if(We){for(L.shape=ae,L.bind(),k.clear(k.DEPTH_BUFFER_BIT),k.colorMask(!1,!1,!1,!1),k.depthMask(!0),k.depthFunc(k.LESS),Y.enable&&Y.isTransparent()&&Y.drawTransparent(ne),de=0;de<ke;++de)(Ge=Z[de]).isOpaque&&Ge.isOpaque()&&Ge.draw(ne);for(k.enable(k.BLEND),k.blendEquation(k.FUNC_ADD),k.blendFunc(k.ONE,k.ONE_MINUS_SRC_ALPHA),k.colorMask(!0,!0,!0,!0),k.depthMask(!1),k.clearColor(0,0,0,0),k.clear(k.COLOR_BUFFER_BIT),Y.isTransparent()&&Y.drawTransparent(ne),de=0;de<ke;++de){var Ge;(Ge=Z[de]).isTransparent&&Ge.isTransparent()&&Ge.drawTransparent(ne)}k.bindFramebuffer(k.FRAMEBUFFER,null),k.blendFunc(k.ONE,k.ONE_MINUS_SRC_ALPHA),k.disable(k.DEPTH_TEST),N.bind(),L.color[0].bind(0),N.uniforms.accumBuffer=0,v(k),k.disable(k.BLEND)}for(ee=!1,de=0;de<ke;++de)Z[de].dirty=!1}}}return he.enableMouseListeners(),function ze(){he._stopped||he.contextLost||(we(),requestAnimationFrame(ze))}(),he.redraw=function(){he._stopped||(ee=!0,we())},he},createCamera:s}},8023:function(y,u,i){var s=i(6832);u.pointVertex=s(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 position;\n\nuniform mat3 matrix;\nuniform float pointSize;\nuniform float pointCloud;\n\nhighp float rand(vec2 co) {\n  highp float a = 12.9898;\n  highp float b = 78.233;\n  highp float c = 43758.5453;\n  highp float d = dot(co.xy, vec2(a, b));\n  highp float e = mod(d, 3.14);\n  return fract(sin(e) * c);\n}\n\nvoid main() {\n  vec3 hgPosition = matrix * vec3(position, 1);\n  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);\n    // if we don't jitter the point size a bit, overall point cloud\n    // saturation 'jumps' on zooming, which is disturbing and confusing\n  gl_PointSize = pointSize * ((19.5 + rand(position)) / 20.0);\n  if(pointCloud != 0.0) { // pointCloud is truthy\n    // get the same square surface as circle would be\n    gl_PointSize *= 0.886;\n  }\n}"]),u.pointFragment=s(["precision mediump float;\n#define GLSLIFY 1\n\nuniform vec4 color, borderColor;\nuniform float centerFraction;\nuniform float pointCloud;\n\nvoid main() {\n  float radius;\n  vec4 baseColor;\n  if(pointCloud != 0.0) { // pointCloud is truthy\n    if(centerFraction == 1.0) {\n      gl_FragColor = color;\n    } else {\n      gl_FragColor = mix(borderColor, color, centerFraction);\n    }\n  } else {\n    radius = length(2.0 * gl_PointCoord.xy - 1.0);\n    if(radius > 1.0) {\n      discard;\n    }\n    baseColor = mix(borderColor, color, step(radius, centerFraction));\n    gl_FragColor = vec4(baseColor.rgb * baseColor.a, baseColor.a);\n  }\n}\n"]),u.pickVertex=s(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 position;\nattribute vec4 pickId;\n\nuniform mat3 matrix;\nuniform float pointSize;\nuniform vec4 pickOffset;\n\nvarying vec4 fragId;\n\nvoid main() {\n  vec3 hgPosition = matrix * vec3(position, 1);\n  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);\n  gl_PointSize = pointSize;\n\n  vec4 id = pickId + pickOffset;\n  id.y += floor(id.x / 256.0);\n  id.x -= floor(id.x / 256.0) * 256.0;\n\n  id.z += floor(id.y / 256.0);\n  id.y -= floor(id.y / 256.0) * 256.0;\n\n  id.w += floor(id.z / 256.0);\n  id.z -= floor(id.z / 256.0) * 256.0;\n\n  fragId = id;\n}\n"]),u.pickFragment=s(["precision mediump float;\n#define GLSLIFY 1\n\nvarying vec4 fragId;\n\nvoid main() {\n  float radius = length(2.0 * gl_PointCoord.xy - 1.0);\n  if(radius > 1.0) {\n    discard;\n  }\n  gl_FragColor = fragId / 255.0;\n}\n"])},8271:function(y,u,i){"use strict";var s=i(5158),a=i(5827),o=i(5306),l=i(8023);function c(T,_,g,w,x){this.plot=T,this.offsetBuffer=_,this.pickBuffer=g,this.shader=w,this.pickShader=x,this.sizeMin=.5,this.sizeMinCap=2,this.sizeMax=20,this.areaRatio=1,this.pointCount=0,this.color=[1,0,0,1],this.borderColor=[0,0,0,1],this.blend=!1,this.pickOffset=0,this.points=null}y.exports=function(T,_){var g=T.gl,w=new c(T,a(g),a(g),s(g,l.pointVertex,l.pointFragment),s(g,l.pickVertex,l.pickFragment));return w.update(_),T.addObject(w),w};var h,v,p=c.prototype;p.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.offsetBuffer.dispose(),this.pickBuffer.dispose(),this.plot.removeObject(this)},p.update=function(T){var _;function g(k,P){return k in T?T[k]:P}T=T||{},this.sizeMin=g("sizeMin",.5),this.sizeMax=g("sizeMax",20),this.color=g("color",[1,0,0,1]).slice(),this.areaRatio=g("areaRatio",1),this.borderColor=g("borderColor",[0,0,0,1]).slice(),this.blend=g("blend",!1);var w=T.positions.length>>>1,x=T.positions instanceof Float32Array,b=T.idToIndex instanceof Int32Array&&T.idToIndex.length>=w,A=T.positions,m=x?A:o.mallocFloat32(A.length),C=b?T.idToIndex:o.mallocInt32(w);if(x||m.set(A),!b)for(m.set(A),_=0;_<w;_++)C[_]=_;this.points=A,this.offsetBuffer.update(m),this.pickBuffer.update(C),x||o.free(m),b||o.free(C),this.pointCount=w,this.pickOffset=0},p.unifiedDraw=(h=[1,0,0,0,1,0,0,0,1],v=[0,0,0,0],function(T){var _=void 0!==T,g=_?this.pickShader:this.shader,w=this.plot.gl,x=this.plot.dataBox;if(0===this.pointCount)return T;var b=x[2]-x[0],A=x[3]-x[1],m=function(R,L){var N,B=0,J=R.length>>>1;for(N=0;N<J;N++){var z=R[2*N],Y=R[2*N+1];z>=L[0]&&z<=L[2]&&Y>=L[1]&&Y<=L[3]&&B++}return B}(this.points,x),C=this.plot.pickPixelRatio*Math.max(Math.min(this.sizeMinCap,this.sizeMin),Math.min(this.sizeMax,this.sizeMax/Math.pow(m,.33333)));h[0]=2/b,h[4]=2/A,h[6]=-2*x[0]/b-1,h[7]=-2*x[1]/A-1,this.offsetBuffer.bind(),g.bind(),g.attributes.position.pointer(),g.uniforms.matrix=h,g.uniforms.color=this.color,g.uniforms.borderColor=this.borderColor,g.uniforms.pointCloud=C<5,g.uniforms.pointSize=C,g.uniforms.centerFraction=Math.min(1,Math.max(0,Math.sqrt(1-this.areaRatio))),_&&(v[0]=255&T,v[1]=T>>8&255,v[2]=T>>16&255,v[3]=T>>24&255,this.pickBuffer.bind(),g.attributes.pickId.pointer(w.UNSIGNED_BYTE),g.uniforms.pickOffset=v,this.pickOffset=T);var k=w.getParameter(w.BLEND),P=w.getParameter(w.DITHER);return k&&!this.blend&&w.disable(w.BLEND),P&&w.disable(w.DITHER),w.drawArrays(w.POINTS,0,this.pointCount),k&&!this.blend&&w.enable(w.BLEND),P&&w.enable(w.DITHER),T+this.pointCount}),p.draw=p.unifiedDraw,p.drawPick=p.unifiedDraw,p.pick=function(T,_,g){var w=this.pickOffset;if(g<w||g>=w+this.pointCount)return null;var b=g-w,A=this.points;return{object:this,pointId:b,dataCoord:[A[2*b],A[2*b+1]]}}},6093:function(y){y.exports=function(u,i,s,a){var o,l,c,h,v,p=i[0],T=i[1],_=i[2],g=i[3],w=s[0],x=s[1],b=s[2],A=s[3];return(l=p*w+T*x+_*b+g*A)<0&&(l=-l,w=-w,x=-x,b=-b,A=-A),1-l>1e-6?(o=Math.acos(l),c=Math.sin(o),h=Math.sin((1-a)*o)/c,v=Math.sin(a*o)/c):(h=1-a,v=a),u[0]=h*p+v*w,u[1]=h*T+v*x,u[2]=h*_+v*b,u[3]=h*g+v*A,u}},8240:function(y){"use strict";y.exports=function(u){return u||0===u?u.toString():""}},4123:function(y,u,i){"use strict";var s=i(875);y.exports=function(o,l,c){var h=a[l];if(h||(h=a[l]={}),o in h)return h[o];var v={textAlign:"center",textBaseline:"middle",lineHeight:1,font:l,lineSpacing:1.25,styletags:{breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0},triangles:!0},p=s(o,v);v.triangles=!1;var T,_,g=s(o,v);if(c&&1!==c){for(T=0;T<p.positions.length;++T)for(_=0;_<p.positions[T].length;++_)p.positions[T][_]/=c;for(T=0;T<g.positions.length;++T)for(_=0;_<g.positions[T].length;++_)g.positions[T][_]/=c}var w=[[1/0,1/0],[-1/0,-1/0]],x=g.positions.length;for(T=0;T<x;++T){var b=g.positions[T];for(_=0;_<2;++_)w[0][_]=Math.min(w[0][_],b[_]),w[1][_]=Math.max(w[1][_],b[_])}return h[o]=[p,g,w]};var a={}},9282:function(y,u,i){var s=i(5158),a=i(6832),o=a(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nattribute vec3 position;\nattribute vec4 color;\nattribute vec2 glyph;\nattribute vec4 id;\n\nuniform vec4 highlightId;\nuniform float highlightScale;\nuniform mat4 model, view, projection;\nuniform vec3 clipBounds[2];\n\nvarying vec4 interpColor;\nvarying vec4 pickId;\nvarying vec3 dataCoordinate;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], position)) {\n\n    gl_Position = vec4(0,0,0,0);\n  } else {\n    float scale = 1.0;\n    if(distance(highlightId, id) < 0.0001) {\n      scale = highlightScale;\n    }\n\n    vec4 worldPosition = model * vec4(position, 1);\n    vec4 viewPosition = view * worldPosition;\n    viewPosition = viewPosition / viewPosition.w;\n    vec4 clipPosition = projection * (viewPosition + scale * vec4(glyph.x, -glyph.y, 0, 0));\n\n    gl_Position = clipPosition;\n    interpColor = color;\n    pickId = id;\n    dataCoordinate = position;\n  }\n}"]),l=a(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nattribute vec3 position;\nattribute vec4 color;\nattribute vec2 glyph;\nattribute vec4 id;\n\nuniform mat4 model, view, projection;\nuniform vec2 screenSize;\nuniform vec3 clipBounds[2];\nuniform float highlightScale, pixelRatio;\nuniform vec4 highlightId;\n\nvarying vec4 interpColor;\nvarying vec4 pickId;\nvarying vec3 dataCoordinate;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], position)) {\n\n    gl_Position = vec4(0,0,0,0);\n  } else {\n    float scale = pixelRatio;\n    if(distance(highlightId.bgr, id.bgr) < 0.001) {\n      scale *= highlightScale;\n    }\n\n    vec4 worldPosition = model * vec4(position, 1.0);\n    vec4 viewPosition = view * worldPosition;\n    vec4 clipPosition = projection * viewPosition;\n    clipPosition /= clipPosition.w;\n\n    gl_Position = clipPosition + vec4(screenSize * scale * vec2(glyph.x, -glyph.y), 0.0, 0.0);\n    interpColor = color;\n    pickId = id;\n    dataCoordinate = position;\n  }\n}"]),c=a(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nattribute vec3 position;\nattribute vec4 color;\nattribute vec2 glyph;\nattribute vec4 id;\n\nuniform float highlightScale;\nuniform vec4 highlightId;\nuniform vec3 axes[2];\nuniform mat4 model, view, projection;\nuniform vec2 screenSize;\nuniform vec3 clipBounds[2];\nuniform float scale, pixelRatio;\n\nvarying vec4 interpColor;\nvarying vec4 pickId;\nvarying vec3 dataCoordinate;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], position)) {\n\n    gl_Position = vec4(0,0,0,0);\n  } else {\n    float lscale = pixelRatio * scale;\n    if(distance(highlightId, id) < 0.0001) {\n      lscale *= highlightScale;\n    }\n\n    vec4 clipCenter   = projection * view * model * vec4(position, 1);\n    vec3 dataPosition = position + 0.5*lscale*(axes[0] * glyph.x + axes[1] * glyph.y) * clipCenter.w * screenSize.y;\n    vec4 clipPosition = projection * view * model * vec4(dataPosition, 1);\n\n    gl_Position = clipPosition;\n    interpColor = color;\n    pickId = id;\n    dataCoordinate = dataPosition;\n  }\n}\n"]),h=a(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 fragClipBounds[2];\nuniform float opacity;\n\nvarying vec4 interpColor;\nvarying vec3 dataCoordinate;\n\nvoid main() {\n  if (\n    outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate) ||\n    interpColor.a * opacity == 0.\n  ) discard;\n  gl_FragColor = interpColor * opacity;\n}\n"]),v=a(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 fragClipBounds[2];\nuniform float pickGroup;\n\nvarying vec4 pickId;\nvarying vec3 dataCoordinate;\n\nvoid main() {\n  if (outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate)) discard;\n\n  gl_FragColor = vec4(pickGroup, pickId.bgr);\n}"]),p=[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"glyph",type:"vec2"},{name:"id",type:"vec4"}],T={vertex:o,fragment:h,attributes:p},_={vertex:l,fragment:h,attributes:p},g={vertex:c,fragment:h,attributes:p},w={vertex:o,fragment:v,attributes:p},x={vertex:l,fragment:v,attributes:p},b={vertex:c,fragment:v,attributes:p};function A(m,C){var k=s(m,C),P=k.attributes;return P.position.location=0,P.color.location=1,P.glyph.location=2,P.id.location=3,k}u.createPerspective=function(m){return A(m,T)},u.createOrtho=function(m){return A(m,_)},u.createProject=function(m){return A(m,g)},u.createPickPerspective=function(m){return A(m,w)},u.createPickOrtho=function(m){return A(m,x)},u.createPickProject=function(m){return A(m,b)}},2182:function(y,u,i){"use strict";var s=i(3596),a=i(5827),o=i(2944),l=i(5306),c=i(104),h=i(9282),v=i(4123),p=i(8240),T=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function _(X,se){var re=X[0],ee=X[1],K=X[2],ne=X[3];return X[0]=se[0]*re+se[4]*ee+se[8]*K+se[12]*ne,X[1]=se[1]*re+se[5]*ee+se[9]*K+se[13]*ne,X[2]=se[2]*re+se[6]*ee+se[10]*K+se[14]*ne,X[3]=se[3]*re+se[7]*ee+se[11]*K+se[15]*ne,X}function g(X,se,re,ee){return _(ee,ee),_(ee,ee),_(ee,ee)}function w(X,se){this.index=X,this.dataCoordinate=this.position=se}function x(X){return!0===X||X>1?1:X}function b(X,se,re,ee,K,ne,ae,ue,he,pe,ge,xe){this.gl=X,this.pixelRatio=1,this.shader=se,this.orthoShader=re,this.projectShader=ee,this.pointBuffer=K,this.colorBuffer=ne,this.glyphBuffer=ae,this.idBuffer=ue,this.vao=he,this.vertexCount=0,this.lineVertexCount=0,this.opacity=1,this.hasAlpha=!1,this.lineWidth=0,this.projectScale=[.6666666666666666,.6666666666666666,.6666666666666666],this.projectOpacity=[1,1,1],this.projectHasAlpha=!1,this.pickId=0,this.pickPerspectiveShader=pe,this.pickOrthoShader=ge,this.pickProjectShader=xe,this.points=[],this._selectResult=new w(0,[0,0,0]),this.useOrtho=!0,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.axesProject=[!0,!0,!0],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.highlightId=[1,1,1,1],this.highlightScale=2,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.dirty=!0}y.exports=function(X){var se=X.gl,re=h.createPerspective(se),ee=h.createOrtho(se),K=h.createProject(se),ne=h.createPickPerspective(se),ae=h.createPickOrtho(se),ue=h.createPickProject(se),he=a(se),pe=a(se),ge=a(se),xe=a(se),Se=new b(se,re,ee,K,he,pe,ge,xe,o(se,[{buffer:he,size:3,type:se.FLOAT},{buffer:pe,size:4,type:se.FLOAT},{buffer:ge,size:2,type:se.FLOAT},{buffer:xe,size:4,type:se.UNSIGNED_BYTE,normalized:!0}]),ne,ae,ue);return Se.update(X),Se};var A=b.prototype;A.pickSlots=1,A.setPickBase=function(X){this.pickId=X},A.isTransparent=function(){if(this.hasAlpha)return!0;for(var X=0;X<3;++X)if(this.axesProject[X]&&this.projectHasAlpha)return!0;return!1},A.isOpaque=function(){if(!this.hasAlpha)return!0;for(var X=0;X<3;++X)if(this.axesProject[X]&&!this.projectHasAlpha)return!0;return!1};var m=[0,0],C=[0,0,0],k=[0,0,0],P=[0,0,0,1],R=[0,0,0,1],L=T.slice(),N=[0,0,0],B=[[0,0,0],[0,0,0]];function J(X){return X[0]=X[1]=X[2]=0,X}function z(X,se){return X[0]=se[0],X[1]=se[1],X[2]=se[2],X[3]=1,X}function Y(X,se,re,ee){return X[0]=se[0],X[1]=se[1],X[2]=se[2],X[re]=ee,X}var q=[[-1e8,-1e8,-1e8],[1e8,1e8,1e8]];function U(X,se,re,ee,K,ne,ae){var ue=re.gl;if((ne===re.projectHasAlpha||ae)&&function(pe,ge,xe,Se){var Te,ye=ge.axesProject,we=ge.gl,ze=pe.uniforms,ke=xe.model||T,Ee=xe.view||T,me=xe.projection||T,de=ge.axesBounds,ce=function(st){for(var gt=B,ct=0;ct<2;++ct)for(var kt=0;kt<3;++kt)gt[ct][kt]=Math.max(Math.min(st[ct][kt],1e8),-1e8);return gt}(ge.clipBounds);Te=ge.axes&&ge.axes.lastCubeProps?ge.axes.lastCubeProps.axis:[1,1,1],m[0]=2/we.drawingBufferWidth,m[1]=2/we.drawingBufferHeight,pe.bind(),ze.view=Ee,ze.projection=me,ze.screenSize=m,ze.highlightId=ge.highlightId,ze.highlightScale=ge.highlightScale,ze.clipBounds=ce,ze.pickGroup=ge.pickId/255,ze.pixelRatio=Se;for(var Ae=0;Ae<3;++Ae)if(ye[Ae]){ze.scale=ge.projectScale[Ae],ze.opacity=ge.projectOpacity[Ae];for(var Ne=L,De=0;De<16;++De)Ne[De]=0;for(De=0;De<4;++De)Ne[5*De]=1;Ne[5*Ae]=0,Ne[12+Ae]=Te[Ae]<0?de[0][Ae]:de[1][Ae],c(Ne,ke,Ne),ze.model=Ne;var Ue=(Ae+1)%3,Ye=(Ae+2)%3,_e=J(C),Pe=J(k);_e[Ue]=1,Pe[Ye]=1;var Ie=g(0,0,0,z(P,_e)),Be=g(0,0,0,z(R,Pe));if(Math.abs(Ie[1])>Math.abs(Be[1])){var We=Ie;Ie=Be,Be=We,We=_e,_e=Pe,Pe=We;var Ge=Ue;Ue=Ye,Ye=Ge}Ie[0]<0&&(_e[Ue]=-1),Be[1]>0&&(Pe[Ye]=-1);var Ke=0,tt=0;for(De=0;De<4;++De)Ke+=Math.pow(ke[4*Ue+De],2),tt+=Math.pow(ke[4*Ye+De],2);_e[Ue]/=Math.sqrt(Ke),Pe[Ye]/=Math.sqrt(tt),ze.axes[0]=_e,ze.axes[1]=Pe,ze.fragClipBounds[0]=Y(N,ce[0],Ae,-1e8),ze.fragClipBounds[1]=Y(N,ce[1],Ae,1e8),ge.vao.bind(),ge.vao.draw(we.TRIANGLES,ge.vertexCount),ge.lineWidth>0&&(we.lineWidth(ge.lineWidth*Se),ge.vao.draw(we.LINES,ge.lineVertexCount,ge.vertexCount)),ge.vao.unbind()}}(se,re,ee,K),ne===re.hasAlpha||ae){X.bind();var he=X.uniforms;he.model=ee.model||T,he.view=ee.view||T,he.projection=ee.projection||T,m[0]=2/ue.drawingBufferWidth,m[1]=2/ue.drawingBufferHeight,he.screenSize=m,he.highlightId=re.highlightId,he.highlightScale=re.highlightScale,he.fragClipBounds=q,he.clipBounds=re.axes.bounds,he.opacity=re.opacity,he.pickGroup=re.pickId/255,he.pixelRatio=K,re.vao.bind(),re.vao.draw(ue.TRIANGLES,re.vertexCount),re.lineWidth>0&&(ue.lineWidth(re.lineWidth*K),re.vao.draw(ue.LINES,re.lineVertexCount,re.vertexCount)),re.vao.unbind()}}function Z(X,se,re,ee){var K;K=Array.isArray(X)?se<X.length?X[se]:void 0:X,K=p(K);var ne=!0;s(K)&&(K="\u25bc",ne=!1);var ae=v(K,re,ee);return{mesh:ae[0],lines:ae[1],bounds:ae[2],visible:ne}}A.draw=function(X){U(this.useOrtho?this.orthoShader:this.shader,this.projectShader,this,X,this.pixelRatio,!1,!1)},A.drawTransparent=function(X){U(this.useOrtho?this.orthoShader:this.shader,this.projectShader,this,X,this.pixelRatio,!0,!1)},A.drawPick=function(X){U(this.useOrtho?this.pickOrthoShader:this.pickPerspectiveShader,this.pickProjectShader,this,X,1,!0,!0)},A.pick=function(X){if(!X||X.id!==this.pickId)return null;var se=X.value[2]+(X.value[1]<<8)+(X.value[0]<<16);if(se>=this.pointCount||se<0)return null;var re=this.points[se],ee=this._selectResult;ee.index=se;for(var K=0;K<3;++K)ee.position[K]=ee.dataCoordinate[K]=re[K];return ee},A.highlight=function(X){if(X){var se=X.index;this.highlightId=[(255&se)/255,(se>>8&255)/255,(se>>16&255)/255,0]}else this.highlightId=[1,1,1,1]},A.update=function(X){if("perspective"in(X=X||{})&&(this.useOrtho=!X.perspective),"orthographic"in X&&(this.useOrtho=!!X.orthographic),"lineWidth"in X&&(this.lineWidth=X.lineWidth),"project"in X)if(Array.isArray(X.project))this.axesProject=X.project;else{var se=!!X.project;this.axesProject=[se,se,se]}if("projectScale"in X)if(Array.isArray(X.projectScale))this.projectScale=X.projectScale.slice();else{var re=+X.projectScale;this.projectScale=[re,re,re]}if(this.projectHasAlpha=!1,"projectOpacity"in X){this.projectOpacity=Array.isArray(X.projectOpacity)?X.projectOpacity.slice():[re=+X.projectOpacity,re,re];for(var ee=0;ee<3;++ee)this.projectOpacity[ee]=x(this.projectOpacity[ee]),this.projectOpacity[ee]<1&&(this.projectHasAlpha=!0)}this.hasAlpha=!1,"opacity"in X&&(this.opacity=x(X.opacity),this.opacity<1&&(this.hasAlpha=!0)),this.dirty=!0;var K,ne,ae=X.position,ue=X.font||"normal",he=X.alignment||[0,0];if(2===he.length)K=he[0],ne=he[1];else for(K=[],ne=[],ee=0;ee<he.length;++ee)K[ee]=he[ee][0],ne[ee]=he[ee][1];var pe=[1/0,1/0,1/0],ge=[-1/0,-1/0,-1/0],xe=X.glyph,Se=X.color,Te=X.size,ye=X.angle,we=X.lineColor,ze=-1,ke=0,Ee=0,me=0;if(ae.length){me=ae.length;e:for(ee=0;ee<me;++ee){for(var de=ae[ee],ce=0;ce<3;++ce)if(isNaN(de[ce])||!isFinite(de[ce]))continue e;var Ae=(gt=Z(xe,ee,ue,this.pixelRatio)).mesh,Ne=gt.lines,De=gt.bounds;ke+=3*Ae.cells.length,Ee+=2*Ne.edges.length}}var Ue=ke+Ee,Ye=l.mallocFloat(3*Ue),_e=l.mallocFloat(4*Ue),Pe=l.mallocFloat(2*Ue),Ie=l.mallocUint32(Ue);if(Ue>0){var Be=0,We=ke,Ge=[0,0,0,1],Ke=[0,0,0,1],tt=Array.isArray(Se)&&Array.isArray(Se[0]),st=Array.isArray(we)&&Array.isArray(we[0]);e:for(ee=0;ee<me;++ee){for(ze+=1,de=ae[ee],ce=0;ce<3;++ce){if(isNaN(de[ce])||!isFinite(de[ce]))continue e;ge[ce]=Math.max(ge[ce],de[ce]),pe[ce]=Math.min(pe[ce],de[ce])}Ae=(gt=Z(xe,ee,ue,this.pixelRatio)).mesh,Ne=gt.lines,De=gt.bounds;var gt,ct=gt.visible;if(ct)if(Array.isArray(Se)){if(3===(kt=tt?ee<Se.length?Se[ee]:[0,0,0,0]:Se).length){for(ce=0;ce<3;++ce)Ge[ce]=kt[ce];Ge[3]=1}else if(4===kt.length){for(ce=0;ce<4;++ce)Ge[ce]=kt[ce];!this.hasAlpha&&kt[3]<1&&(this.hasAlpha=!0)}}else Ge[0]=Ge[1]=Ge[2]=0,Ge[3]=1;else Ge=[1,1,1,0];if(ct)if(Array.isArray(we)){var kt;if(3===(kt=st?ee<we.length?we[ee]:[0,0,0,0]:we).length){for(ce=0;ce<3;++ce)Ke[ce]=kt[ce];Ke[ce]=1}else if(4===kt.length){for(ce=0;ce<4;++ce)Ke[ce]=kt[ce];!this.hasAlpha&&kt[3]<1&&(this.hasAlpha=!0)}}else Ke[0]=Ke[1]=Ke[2]=0,Ke[3]=1;else Ke=[1,1,1,0];var Dt=.5;ct?Array.isArray(Te)?Dt=ee<Te.length?+Te[ee]:12:Te?Dt=+Te:this.useOrtho&&(Dt=12):Dt=0;var vt=0;Array.isArray(ye)?vt=ee<ye.length?+ye[ee]:0:ye&&(vt=+ye);var mt=Math.cos(vt),Et=Math.sin(vt);for(de=ae[ee],ce=0;ce<3;++ce)ge[ce]=Math.max(ge[ce],de[ce]),pe[ce]=Math.min(pe[ce],de[ce]);var Lt=K,Rt=ne;Lt=0,Array.isArray(K)?Lt=ee<K.length?K[ee]:0:K&&(Lt=K),Rt=0,Array.isArray(ne)?Rt=ee<ne.length?ne[ee]:0:ne&&(Rt=ne);var Ut=[Lt*=Lt>0?1-De[0][0]:Lt<0?1+De[1][0]:1,Rt*=Rt>0?1-De[0][1]:Rt<0?1+De[1][1]:1],Bt=Ae.cells||[],rt=Ae.positions||[];for(ce=0;ce<Bt.length;++ce)for(var ot=Bt[ce],Je=0;Je<3;++Je){for(var it=0;it<3;++it)Ye[3*Be+it]=de[it];for(it=0;it<4;++it)_e[4*Be+it]=Ge[it];Ie[Be]=ze;var dt=rt[ot[Je]];Pe[2*Be]=Dt*(mt*dt[0]-Et*dt[1]+Ut[0]),Pe[2*Be+1]=Dt*(Et*dt[0]+mt*dt[1]+Ut[1]),Be+=1}for(Bt=Ne.edges,rt=Ne.positions,ce=0;ce<Bt.length;++ce)for(ot=Bt[ce],Je=0;Je<2;++Je){for(it=0;it<3;++it)Ye[3*We+it]=de[it];for(it=0;it<4;++it)_e[4*We+it]=Ke[it];Ie[We]=ze,Pe[2*We]=Dt*(mt*(dt=rt[ot[Je]])[0]-Et*dt[1]+Ut[0]),Pe[2*We+1]=Dt*(Et*dt[0]+mt*dt[1]+Ut[1]),We+=1}}}this.bounds=[pe,ge],this.points=ae,this.pointCount=ae.length,this.vertexCount=ke,this.lineVertexCount=Ee,this.pointBuffer.update(Ye),this.colorBuffer.update(_e),this.glyphBuffer.update(Pe),this.idBuffer.update(Ie),l.free(Ye),l.free(_e),l.free(Pe),l.free(Ie)},A.dispose=function(){this.shader.dispose(),this.orthoShader.dispose(),this.pickPerspectiveShader.dispose(),this.pickOrthoShader.dispose(),this.vao.dispose(),this.pointBuffer.dispose(),this.colorBuffer.dispose(),this.glyphBuffer.dispose(),this.idBuffer.dispose()}},1884:function(y,u,i){"use strict";var s=i(6832);u.boxVertex=s(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 vertex;\n\nuniform vec2 cornerA, cornerB;\n\nvoid main() {\n  gl_Position = vec4(mix(cornerA, cornerB, vertex), 0, 1);\n}\n"]),u.boxFragment=s(["precision mediump float;\n#define GLSLIFY 1\n\nuniform vec4 color;\n\nvoid main() {\n  gl_FragColor = color;\n}\n"])},6623:function(y,u,i){"use strict";var s=i(5158),a=i(5827),o=i(1884);function l(h,v,p){this.plot=h,this.boxBuffer=v,this.boxShader=p,this.enabled=!0,this.selectBox=[1/0,1/0,-1/0,-1/0],this.borderColor=[0,0,0,1],this.innerFill=!1,this.innerColor=[0,0,0,.25],this.outerFill=!0,this.outerColor=[0,0,0,.5],this.borderWidth=10}y.exports=function(h,v){var p=h.gl,T=new l(h,a(p,[0,0,0,1,1,0,1,1]),s(p,o.boxVertex,o.boxFragment));return T.update(v),h.addOverlay(T),T};var c=l.prototype;c.draw=function(){if(this.enabled){var h=this.plot,v=this.selectBox,p=this.borderWidth,T=this.innerColor,_=this.outerColor,g=this.borderColor,w=h.box,x=h.screenBox,b=h.dataBox,A=h.viewBox,m=h.pixelRatio,C=(v[0]-b[0])*(A[2]-A[0])/(b[2]-b[0])+A[0],k=(v[1]-b[1])*(A[3]-A[1])/(b[3]-b[1])+A[1],P=(v[2]-b[0])*(A[2]-A[0])/(b[2]-b[0])+A[0],R=(v[3]-b[1])*(A[3]-A[1])/(b[3]-b[1])+A[1];if(C=Math.max(C,A[0]),k=Math.max(k,A[1]),P=Math.min(P,A[2]),R=Math.min(R,A[3]),!(P<C||R<k)){w.bind();var L=x[2]-x[0],N=x[3]-x[1];if(this.outerFill&&(w.drawBox(0,0,L,k,_),w.drawBox(0,k,C,R,_),w.drawBox(0,R,L,N,_),w.drawBox(P,k,L,R,_)),this.innerFill&&w.drawBox(C,k,P,R,T),p>0){var B=p*m;w.drawBox(C-B,k-B,P+B,k+B,g),w.drawBox(C-B,R-B,P+B,R+B,g),w.drawBox(C-B,k-B,C+B,R+B,g),w.drawBox(P-B,k-B,P+B,R+B,g)}}}},c.update=function(h){this.innerFill=!!(h=h||{}).innerFill,this.outerFill=!!h.outerFill,this.innerColor=(h.innerColor||[0,0,0,.5]).slice(),this.outerColor=(h.outerColor||[0,0,0,.5]).slice(),this.borderColor=(h.borderColor||[0,0,0,1]).slice(),this.borderWidth=h.borderWidth||0,this.selectBox=(h.selectBox||this.selectBox).slice()},c.dispose=function(){this.boxBuffer.dispose(),this.boxShader.dispose(),this.plot.removeOverlay(this)}},2611:function(y,u,i){"use strict";y.exports=function(p,T){var _=T[0],g=T[1];return new h(p,s(p,_,g,{}),a.mallocUint8(_*g*4))};var s=i(4234),a=i(5306),o=i(5050),l=i(2288).nextPow2;function c(p,T,_,g,w){this.coord=[p,T],this.id=_,this.value=g,this.distance=w}function h(p,T,_){this.gl=p,this.fbo=T,this.buffer=_,this._readTimeout=null;var g=this;this._readCallback=function(){g.gl&&(T.bind(),p.readPixels(0,0,T.shape[0],T.shape[1],p.RGBA,p.UNSIGNED_BYTE,g.buffer),g._readTimeout=null)}}var v=h.prototype;Object.defineProperty(v,"shape",{get:function(){return this.gl?this.fbo.shape.slice():[0,0]},set:function(p){if(this.gl){this.fbo.shape=p;var T=this.fbo.shape[0],_=this.fbo.shape[1];if(_*T*4>this.buffer.length){a.free(this.buffer);for(var g=this.buffer=a.mallocUint8(l(_*T*4)),w=0;w<_*T*4;++w)g[w]=255}return p}}}),v.begin=function(){var p=this.gl;p&&(this.fbo.bind(),p.clearColor(1,1,1,1),p.clear(p.COLOR_BUFFER_BIT|p.DEPTH_BUFFER_BIT))},v.end=function(){var p=this.gl;p&&(p.bindFramebuffer(p.FRAMEBUFFER,null),this._readTimeout||clearTimeout(this._readTimeout),this._readTimeout=setTimeout(this._readCallback,1))},v.query=function(p,T,_){if(!this.gl)return null;var g=this.fbo.shape.slice();p|=0,T|=0,"number"!=typeof _&&(_=1);var w=0|Math.min(Math.max(p-_,0),g[0]),x=0|Math.min(Math.max(p+_,0),g[0]),b=0|Math.min(Math.max(T-_,0),g[1]),A=0|Math.min(Math.max(T+_,0),g[1]);if(x<=w||A<=b)return null;var m=[x-w,A-b],C=o(this.buffer,[m[0],m[1],4],[4,4*g[0],1],4*(w+g[0]*b)),k=function(L,N,B){for(var J=1e8,z=-1,Y=-1,q=L.shape[0],U=L.shape[1],Z=0;Z<q;Z++)for(var X=0;X<U;X++){var se=L.get(Z,X,0),re=L.get(Z,X,1),ee=L.get(Z,X,2),K=L.get(Z,X,3);if(se<255||re<255||ee<255||K<255){var ne=N-Z,ae=B-X,ue=ne*ne+ae*ae;ue<J&&(J=ue,z=Z,Y=X)}}return[z,Y,J]}(C.hi(m[0],m[1],1),_,_),P=k[0],R=k[1];return P<0||Math.pow(this.radius,2)<k[2]?null:new c(P+w|0,R+b|0,C.get(P,R,0),[C.get(P,R,1),C.get(P,R,2),C.get(P,R,3)],Math.sqrt(k[2]))},v.dispose=function(){this.gl&&(this.fbo.dispose(),a.free(this.buffer),this.gl=null,this._readTimeout&&clearTimeout(this._readTimeout))}},5158:function(y,u,i){"use strict";var s=i(9016),a=i(4280),o=i(3984),l=i(1628),c=i(2631),h=i(9068);function v(_){this.gl=_,this.gl.lastAttribCount=0,this._vref=this._fref=this._relink=this.vertShader=this.fragShader=this.program=this.attributes=this.uniforms=this.types=null}var p=v.prototype;function T(_,g){return _.name<g.name?-1:1}p.bind=function(){var _;this.program||this._relink();var g=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES),w=this.gl.lastAttribCount;if(g>w)for(_=w;_<g;_++)this.gl.enableVertexAttribArray(_);else if(w>g)for(_=g;_<w;_++)this.gl.disableVertexAttribArray(_);this.gl.lastAttribCount=g,this.gl.useProgram(this.program)},p.dispose=function(){for(var _=this.gl.lastAttribCount,g=0;g<_;g++)this.gl.disableVertexAttribArray(g);this.gl.lastAttribCount=0,this._fref&&this._fref.dispose(),this._vref&&this._vref.dispose(),this.attributes=this.types=this.vertShader=this.fragShader=this.program=this._relink=this._fref=this._vref=null},p.update=function(_,g,w,x){if(!g||1===arguments.length){var b=_;_=b.vertex,g=b.fragment,w=b.uniforms,x=b.attributes}var A=this,m=A.gl,C=A._vref;A._vref=l.shader(m,m.VERTEX_SHADER,_),C&&C.dispose(),A.vertShader=A._vref.shader;var k=this._fref;if(A._fref=l.shader(m,m.FRAGMENT_SHADER,g),k&&k.dispose(),A.fragShader=A._fref.shader,!w||!x){var P=m.createProgram();if(m.attachShader(P,A.fragShader),m.attachShader(P,A.vertShader),m.linkProgram(P),!m.getProgramParameter(P,m.LINK_STATUS)){var R=m.getProgramInfoLog(P);throw new h(R,"Error linking program:"+R)}w=w||c.uniforms(m,P),x=x||c.attributes(m,P),m.deleteProgram(P)}(x=x.slice()).sort(T);var L,N=[],B=[],J=[];for(L=0;L<x.length;++L){var z=x[L];if(z.type.indexOf("mat")>=0){for(var Y=0|z.type.charAt(z.type.length-1),q=new Array(Y),U=0;U<Y;++U)q[U]=J.length,B.push(z.name+"["+U+"]"),"number"==typeof z.location?J.push(z.location+U):Array.isArray(z.location)&&z.location.length===Y&&"number"==typeof z.location[U]?J.push(0|z.location[U]):J.push(-1);N.push({name:z.name,type:z.type,locations:q})}else N.push({name:z.name,type:z.type,locations:[J.length]}),B.push(z.name),J.push("number"==typeof z.location?0|z.location:-1)}var Z=0;for(L=0;L<J.length;++L)if(J[L]<0){for(;J.indexOf(Z)>=0;)Z+=1;J[L]=Z}var X=new Array(w.length);function se(){A.program=l.program(m,A._vref,A._fref,B,J);for(var re=0;re<w.length;++re)X[re]=m.getUniformLocation(A.program,w[re].name)}se(),A._relink=se,A.types={uniforms:o(w),attributes:o(x)},A.attributes=a(m,A,N,J),Object.defineProperty(A,"uniforms",s(m,A,w,X))},y.exports=function(_,g,w,x,b){var A=new v(_);return A.update(g,w,x,b),A}},9068:function(y){function u(i,s,a){this.shortMessage=s||"",this.longMessage=a||"",this.rawError=i||"",this.message="gl-shader: "+(s||i||"")+(a?"\n"+a:""),this.stack=(new Error).stack}(u.prototype=new Error).name="GLError",u.prototype.constructor=u,y.exports=u},4280:function(y,u,i){"use strict";y.exports=function(v,p,T,_){for(var g={},w=0,x=T.length;w<x;++w){var b=T[w],A=b.name,m=b.type,C=b.locations;switch(m){case"bool":case"int":case"float":c(v,p,C[0],_,1,g,A);break;default:if(m.indexOf("vec")>=0){if((k=m.charCodeAt(m.length-1)-48)<2||k>4)throw new s("","Invalid data type for attribute "+A+": "+m);c(v,p,C[0],_,k,g,A)}else{if(!(m.indexOf("mat")>=0))throw new s("","Unknown data type for attribute "+A+": "+m);var k;if((k=m.charCodeAt(m.length-1)-48)<2||k>4)throw new s("","Invalid data type for attribute "+A+": "+m);h(v,p,C,_,k,g,A)}}}return g};var s=i(9068);function a(v,p,T,_,g,w){this._gl=v,this._wrapper=p,this._index=T,this._locations=_,this._dimension=g,this._constFunc=w}var o=a.prototype;o.pointer=function(v,p,T,_){var g=this,w=g._gl,x=g._locations[g._index];w.vertexAttribPointer(x,g._dimension,v||w.FLOAT,!!p,T||0,_||0),w.enableVertexAttribArray(x)},o.set=function(v,p,T,_){return this._constFunc(this._locations[this._index],v,p,T,_)},Object.defineProperty(o,"location",{get:function(){return this._locations[this._index]},set:function(v){return v!==this._locations[this._index]&&(this._locations[this._index]=0|v,this._wrapper.program=null),0|v}});var l=[function(v,p,T){return void 0===T.length?v.vertexAttrib1f(p,T):v.vertexAttrib1fv(p,T)},function(v,p,T,_){return void 0===T.length?v.vertexAttrib2f(p,T,_):v.vertexAttrib2fv(p,T)},function(v,p,T,_,g){return void 0===T.length?v.vertexAttrib3f(p,T,_,g):v.vertexAttrib3fv(p,T)},function(v,p,T,_,g,w){return void 0===T.length?v.vertexAttrib4f(p,T,_,g,w):v.vertexAttrib4fv(p,T)}];function c(v,p,T,_,g,w,x){var b=l[g],A=new a(v,p,T,_,g,b);Object.defineProperty(w,x,{set:function(m){return v.disableVertexAttribArray(_[T]),b(v,_[T],m),m},get:function(){return A},enumerable:!0})}function h(v,p,T,_,g,w,x){for(var b=new Array(g),A=new Array(g),m=0;m<g;++m)c(v,p,T[m],_,g,b,m),A[m]=b[m];Object.defineProperty(b,"location",{set:function(P){if(Array.isArray(P))for(var R=0;R<g;++R)A[R].location=P[R];else for(R=0;R<g;++R)A[R].location=P+R;return P},get:function(){for(var P=new Array(g),R=0;R<g;++R)P[R]=_[T[R]];return P},enumerable:!0}),b.pointer=function(P,R,L,N){P=P||v.FLOAT,R=!!R,L=L||g*g,N=N||0;for(var B=0;B<g;++B){var J=_[T[B]];v.vertexAttribPointer(J,g,P,R,L,N+B*g),v.enableVertexAttribArray(J)}};var C=new Array(g),k=v["vertexAttrib"+g+"fv"];Object.defineProperty(w,x,{set:function(P){for(var R=0;R<g;++R){var L=_[T[R]];if(v.disableVertexAttribArray(L),Array.isArray(P[0]))k.call(v,L,P[R]);else{for(var N=0;N<g;++N)C[N]=P[g*R+N];k.call(v,L,C)}}return P},get:function(){return b},enumerable:!0})}},9016:function(y,u,i){"use strict";var s=i(3984),a=i(9068);function o(c){return function(){return c}}function l(c,h){for(var v=new Array(c),p=0;p<c;++p)v[p]=h;return v}y.exports=function(c,h,v,p){function T(b){return function(A){for(var m=_("",b),C=0;C<m.length;++C){var k=m[C],P=k[0],R=k[1];if(p[R]){var L=A;if("string"==typeof P&&(0===P.indexOf(".")||0===P.indexOf("["))){var N=P;if(0===P.indexOf(".")&&(N=P.slice(1)),N.indexOf("]")===N.length-1){var B=N.indexOf("["),J=N.slice(0,B),z=N.slice(B+1,N.length-1);L=J?A[J][z]:A[z]}else L=A[N]}var Y,q=v[R].type;switch(q){case"bool":case"int":case"sampler2D":case"samplerCube":c.uniform1i(p[R],L);break;case"float":c.uniform1f(p[R],L);break;default:var U=q.indexOf("vec");if(!(0<=U&&U<=1&&q.length===4+U)){if(0===q.indexOf("mat")&&4===q.length){if((Y=q.charCodeAt(q.length-1)-48)<2||Y>4)throw new a("","Invalid uniform dimension type for matrix "+name+": "+q);c["uniformMatrix"+Y+"fv"](p[R],!1,L);break}throw new a("","Unknown uniform data type for "+name+": "+q)}if((Y=q.charCodeAt(q.length-1)-48)<2||Y>4)throw new a("","Invalid data type");switch(q.charAt(0)){case"b":case"i":c["uniform"+Y+"iv"](p[R],L);break;case"v":c["uniform"+Y+"fv"](p[R],L);break;default:throw new a("","Unrecognized data type for vector "+name+": "+q)}}}}}}function _(b,A){if("object"!=typeof A)return[[b,A]];var m=[];for(var C in A){var k=A[C],P=b;parseInt(C)+""===C?P+="["+C+"]":P+="."+C,"object"==typeof k?m.push.apply(m,_(P,k)):m.push([P,k])}return m}function g(b,A,m){if("object"==typeof m){var C=w(m);Object.defineProperty(b,A,{get:o(C),set:T(m),enumerable:!0,configurable:!1})}else p[m]?Object.defineProperty(b,A,{get:(k=m,function(P,R,L){return P.getUniform(R.program,L[k])}),set:T(m),enumerable:!0,configurable:!1}):b[A]=function(P){switch(P){case"bool":return!1;case"int":case"sampler2D":case"samplerCube":case"float":return 0;default:var R=P.indexOf("vec");if(0<=R&&R<=1&&P.length===4+R){if((L=P.charCodeAt(P.length-1)-48)<2||L>4)throw new a("","Invalid data type");return"b"===P.charAt(0)?l(L,!1):l(L,0)}if(0===P.indexOf("mat")&&4===P.length){var L;if((L=P.charCodeAt(P.length-1)-48)<2||L>4)throw new a("","Invalid uniform dimension type for matrix "+name+": "+P);return l(L*L,0)}throw new a("","Unknown uniform data type for "+name+": "+P)}}(v[m].type);var k}function w(b){var A;if(Array.isArray(b)){A=new Array(b.length);for(var m=0;m<b.length;++m)g(A,m,b[m])}else for(var C in A={},b)g(A,C,b[C]);return A}var x=s(v,!0);return{get:o(w(x)),set:T(x),enumerable:!0,configurable:!0}}},3984:function(y){"use strict";y.exports=function(u,i){for(var s={},a=0;a<u.length;++a)for(var o=u[a].name.split("."),l=s,c=0;c<o.length;++c){var h=o[c].split("[");if(h.length>1){h[0]in l||(l[h[0]]=[]),l=l[h[0]];for(var v=1;v<h.length;++v){var p=parseInt(h[v]);v<h.length-1||c<o.length-1?(p in l||(l[p]=v<h.length-1?[]:{}),l=l[p]):l[p]=i?a:u[a].type}}else c<o.length-1?(h[0]in l||(l[h[0]]={}),l=l[h[0]]):l[h[0]]=i?a:u[a].type}return s}},2631:function(y,u){"use strict";u.uniforms=function(o,l){for(var c=o.getProgramParameter(l,o.ACTIVE_UNIFORMS),h=[],v=0;v<c;++v){var p=o.getActiveUniform(l,v);if(p){var T=a(o,p.type);if(p.size>1)for(var _=0;_<p.size;++_)h.push({name:p.name.replace("[0]","["+_+"]"),type:T});else h.push({name:p.name,type:T})}}return h},u.attributes=function(o,l){for(var c=o.getProgramParameter(l,o.ACTIVE_ATTRIBUTES),h=[],v=0;v<c;++v){var p=o.getActiveAttrib(l,v);p&&h.push({name:p.name,type:a(o,p.type)})}return h};var i={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube"},s=null;function a(o,l){if(!s){var c=Object.keys(i);s={};for(var h=0;h<c.length;++h){var v=c[h];s[o[v]]=i[v]}}return s[l]}},1628:function(y,u,i){"use strict";u.shader=function(T,_,g){return p(T).getShaderReference(_,g)},u.program=function(T,_,g,w,x){return p(T).getProgram(_,g,w,x)};var s=i(9068),a=i(3530),o=new(typeof WeakMap>"u"?i(4037):WeakMap),l=0;function c(T,_,g,w,x,b,A){this.id=T,this.src=_,this.type=g,this.shader=w,this.count=b,this.programs=[],this.cache=A}function h(T){this.gl=T,this.shaders=[{},{}],this.programs={}}c.prototype.dispose=function(){if(0==--this.count){for(var T=this.cache,_=T.gl,g=this.programs,w=0,x=g.length;w<x;++w){var b=T.programs[g[w]];b&&(delete T.programs[w],_.deleteProgram(b))}_.deleteShader(this.shader),delete T.shaders[this.type===_.FRAGMENT_SHADER|0][this.src]}};var v=h.prototype;function p(T){var _=o.get(T);return _||(_=new h(T),o.set(T,_)),_}v.getShaderReference=function(T,_){var g=this.gl,w=this.shaders[T===g.FRAGMENT_SHADER|0],x=w[_];if(x&&g.isShader(x.shader))x.count+=1;else{var b=function(A,m,C){var k=A.createShader(m);if(A.shaderSource(k,C),A.compileShader(k),!A.getShaderParameter(k,A.COMPILE_STATUS)){var P=A.getShaderInfoLog(k);try{var R=a(P,C,m)}catch(L){throw console.warn("Failed to format compiler error: "+L),new s(P,"Error compiling shader:\n"+P)}throw new s(P,R.short,R.long)}return k}(g,T,_);x=w[_]=new c(l++,_,T,b,[],1,this)}return x},v.getProgram=function(T,_,g,w){var x=[T.id,_.id,g.join(":"),w.join(":")].join("@"),b=this.programs[x];return b&&this.gl.isProgram(b)||(this.programs[x]=b=function(A,m,C,k,P){var R=A.createProgram();A.attachShader(R,m),A.attachShader(R,C);for(var L=0;L<k.length;++L)A.bindAttribLocation(R,P[L],k[L]);if(A.linkProgram(R),!A.getProgramParameter(R,A.LINK_STATUS)){var N=A.getProgramInfoLog(R);throw new s(N,"Error linking program: "+N)}return R}(this.gl,T.shader,_.shader,g,w),T.programs.push(x),_.programs.push(x)),b}},3050:function(y){"use strict";function u(s){this.plot=s,this.enable=[!0,!0,!1,!1],this.width=[1,1,1,1],this.color=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.center=[1/0,1/0]}y.exports=function(s,a){var o=new u(s);return o.update(a),s.addOverlay(o),o};var i=u.prototype;i.update=function(s){this.enable=((s=s||{}).enable||[!0,!0,!1,!1]).slice(),this.width=(s.width||[1,1,1,1]).slice(),this.color=(s.color||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]).map(function(a){return a.slice()}),this.center=(s.center||[1/0,1/0]).slice(),this.plot.setOverlayDirty()},i.draw=function(){var s=this.enable,a=this.width,o=this.color,l=this.center,c=this.plot,h=c.line,v=c.dataBox,p=c.viewBox;if(h.bind(),v[0]<=l[0]&&l[0]<=v[2]&&v[1]<=l[1]&&l[1]<=v[3]){var T=p[0]+(l[0]-v[0])/(v[2]-v[0])*(p[2]-p[0]),_=p[1]+(l[1]-v[1])/(v[3]-v[1])*(p[3]-p[1]);s[0]&&h.drawLine(T,_,p[0],_,a[0],o[0]),s[1]&&h.drawLine(T,_,T,p[1],a[1],o[1]),s[2]&&h.drawLine(T,_,p[2],_,a[2],o[2]),s[3]&&h.drawLine(T,_,T,p[3],a[3],o[3])}},i.dispose=function(){this.plot.removeOverlay(this)}},3540:function(y,u,i){"use strict";var s=i(6832),a=i(5158),o=s(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec3 position, color;\nattribute float weight;\n\nuniform mat4 model, view, projection;\nuniform vec3 coordinates[3];\nuniform vec4 colors[3];\nuniform vec2 screenShape;\nuniform float lineWidth;\n\nvarying vec4 fragColor;\n\nvoid main() {\n  vec3 vertexPosition = mix(coordinates[0],\n    mix(coordinates[2], coordinates[1], 0.5 * (position + 1.0)), abs(position));\n\n  vec4 clipPos = projection * view * model * vec4(vertexPosition, 1.0);\n  vec2 clipOffset = (projection * view * model * vec4(color, 0.0)).xy;\n  vec2 delta = weight * clipOffset * screenShape;\n  vec2 lineOffset = normalize(vec2(delta.y, -delta.x)) / screenShape;\n\n  gl_Position   = vec4(clipPos.xy + clipPos.w * 0.5 * lineWidth * lineOffset, clipPos.z, clipPos.w);\n  fragColor     = color.x * colors[0] + color.y * colors[1] + color.z * colors[2];\n}\n"]),l=s(["precision mediump float;\n#define GLSLIFY 1\n\nvarying vec4 fragColor;\n\nvoid main() {\n  gl_FragColor = fragColor;\n}"]);y.exports=function(c){return a(c,o,l,null,[{name:"position",type:"vec3"},{name:"color",type:"vec3"},{name:"weight",type:"float"}])}},6496:function(y,u,i){"use strict";var s=i(5827),a=i(2944),o=i(3540);y.exports=function(_,g){var w=[];function x(k,P,R,L,N,B){var J=[k,P,R,0,0,0,1];J[L+3]=1,J[L]=N,w.push.apply(w,J),J[6]=-1,w.push.apply(w,J),J[L]=B,w.push.apply(w,J),w.push.apply(w,J),J[6]=1,w.push.apply(w,J),J[L]=N,w.push.apply(w,J)}x(0,0,0,0,0,1),x(0,0,0,1,0,1),x(0,0,0,2,0,1),x(1,0,0,1,-1,1),x(1,0,0,2,-1,1),x(0,1,0,0,-1,1),x(0,1,0,2,-1,1),x(0,0,1,0,-1,1),x(0,0,1,1,-1,1);var b=s(_,w),A=a(_,[{type:_.FLOAT,buffer:b,size:3,offset:0,stride:28},{type:_.FLOAT,buffer:b,size:3,offset:12,stride:28},{type:_.FLOAT,buffer:b,size:1,offset:24,stride:28}]),m=o(_);m.attributes.position.location=0,m.attributes.color.location=1,m.attributes.weight.location=2;var C=new c(_,b,A,m);return C.update(g),C};var l=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function c(_,g,w,x){this.gl=_,this.buffer=g,this.vao=w,this.shader=x,this.pixelRatio=1,this.bounds=[[-1e3,-1e3,-1e3],[1e3,1e3,1e3]],this.position=[0,0,0],this.lineWidth=[2,2,2],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.enabled=[!0,!0,!0],this.drawSides=[!0,!0,!0],this.axes=null}var h=c.prototype,v=[0,0,0],p=[0,0,0],T=[0,0];h.isTransparent=function(){return!1},h.drawTransparent=function(_){},h.draw=function(_){var g=this.gl,w=this.vao,x=this.shader;w.bind(),x.bind();var b,A=_.model||l,m=_.view||l,C=_.projection||l;this.axes&&(b=this.axes.lastCubeProps.axis);for(var k=v,P=p,R=0;R<3;++R)b&&b[R]<0?(k[R]=this.bounds[0][R],P[R]=this.bounds[1][R]):(k[R]=this.bounds[1][R],P[R]=this.bounds[0][R]);for(T[0]=g.drawingBufferWidth,T[1]=g.drawingBufferHeight,x.uniforms.model=A,x.uniforms.view=m,x.uniforms.projection=C,x.uniforms.coordinates=[this.position,k,P],x.uniforms.colors=this.colors,x.uniforms.screenShape=T,R=0;R<3;++R)x.uniforms.lineWidth=this.lineWidth[R]*this.pixelRatio,this.enabled[R]&&(w.draw(g.TRIANGLES,6,6*R),this.drawSides[R]&&w.draw(g.TRIANGLES,12,18+12*R));w.unbind()},h.update=function(_){_&&("bounds"in _&&(this.bounds=_.bounds),"position"in _&&(this.position=_.position),"lineWidth"in _&&(this.lineWidth=_.lineWidth),"colors"in _&&(this.colors=_.colors),"enabled"in _&&(this.enabled=_.enabled),"drawSides"in _&&(this.drawSides=_.drawSides))},h.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()}},9578:function(y,u,i){var s=i(6832),a=s(["precision highp float;\n\nprecision highp float;\n#define GLSLIFY 1\n\nvec3 getOrthogonalVector(vec3 v) {\n  // Return up-vector for only-z vector.\n  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).\n  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.\n  // Assign z = 0, x = -b, y = a:\n  // a*-b + b*a + c*0 = -ba + ba + 0 = 0\n  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {\n    return normalize(vec3(-v.y, v.x, 0.0));\n  } else {\n    return normalize(vec3(0.0, v.z, -v.y));\n  }\n}\n\n// Calculate the tube vertex and normal at the given index.\n//\n// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.\n//\n// Each tube segment is made up of a ring of vertices.\n// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.\n// The indexes of tube segments run from 0 to 8.\n//\nvec3 getTubePosition(vec3 d, float index, out vec3 normal) {\n  float segmentCount = 8.0;\n\n  float angle = 2.0 * 3.14159 * (index / segmentCount);\n\n  vec3 u = getOrthogonalVector(d);\n  vec3 v = normalize(cross(u, d));\n\n  vec3 x = u * cos(angle) * length(d);\n  vec3 y = v * sin(angle) * length(d);\n  vec3 v3 = x + y;\n\n  normal = normalize(v3);\n\n  return v3;\n}\n\nattribute vec4 vector;\nattribute vec4 color, position;\nattribute vec2 uv;\n\nuniform float vectorScale, tubeScale;\nuniform mat4 model, view, projection, inverseModel;\nuniform vec3 eyePosition, lightPosition;\n\nvarying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  // Scale the vector magnitude to stay constant with\n  // model & view changes.\n  vec3 normal;\n  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);\n  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);\n\n  //Lighting geometry parameters\n  vec4 cameraCoordinate = view * tubePosition;\n  cameraCoordinate.xyz /= cameraCoordinate.w;\n  f_lightDirection = lightPosition - cameraCoordinate.xyz;\n  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;\n  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);\n\n  // vec4 m_position  = model * vec4(tubePosition, 1.0);\n  vec4 t_position  = view * tubePosition;\n  gl_Position      = projection * t_position;\n\n  f_color          = color;\n  f_data           = tubePosition.xyz;\n  f_position       = position.xyz;\n  f_uv             = uv;\n}\n"]),o=s(["#extension GL_OES_standard_derivatives : enable\n\nprecision highp float;\n#define GLSLIFY 1\n\nfloat beckmannDistribution(float x, float roughness) {\n  float NdotH = max(x, 0.0001);\n  float cos2Alpha = NdotH * NdotH;\n  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;\n  float roughness2 = roughness * roughness;\n  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;\n  return exp(tan2Alpha / roughness2) / denom;\n}\n\nfloat cookTorranceSpecular(\n  vec3 lightDirection,\n  vec3 viewDirection,\n  vec3 surfaceNormal,\n  float roughness,\n  float fresnel) {\n\n  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);\n  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);\n\n  //Half angle vector\n  vec3 H = normalize(lightDirection + viewDirection);\n\n  //Geometric term\n  float NdotH = max(dot(surfaceNormal, H), 0.0);\n  float VdotH = max(dot(viewDirection, H), 0.000001);\n  float LdotH = max(dot(lightDirection, H), 0.000001);\n  float G1 = (2.0 * NdotH * VdotN) / VdotH;\n  float G2 = (2.0 * NdotH * LdotN) / LdotH;\n  float G = min(1.0, min(G1, G2));\n  \n  //Distribution term\n  float D = beckmannDistribution(NdotH, roughness);\n\n  //Fresnel term\n  float F = pow(1.0 - VdotN, fresnel);\n\n  //Multiply terms and done\n  return  G * F * D / max(3.14159265 * VdotN, 0.000001);\n}\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 clipBounds[2];\nuniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;\nuniform sampler2D texture;\n\nvarying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;\n  vec3 N = normalize(f_normal);\n  vec3 L = normalize(f_lightDirection);\n  vec3 V = normalize(f_eyeDirection);\n\n  if(gl_FrontFacing) {\n    N = -N;\n  }\n\n  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));\n  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);\n\n  vec4 surfaceColor = f_color * texture2D(texture, f_uv);\n  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);\n\n  gl_FragColor = litColor * opacity;\n}\n"]),l=s(["precision highp float;\n\nprecision highp float;\n#define GLSLIFY 1\n\nvec3 getOrthogonalVector(vec3 v) {\n  // Return up-vector for only-z vector.\n  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).\n  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.\n  // Assign z = 0, x = -b, y = a:\n  // a*-b + b*a + c*0 = -ba + ba + 0 = 0\n  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {\n    return normalize(vec3(-v.y, v.x, 0.0));\n  } else {\n    return normalize(vec3(0.0, v.z, -v.y));\n  }\n}\n\n// Calculate the tube vertex and normal at the given index.\n//\n// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.\n//\n// Each tube segment is made up of a ring of vertices.\n// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.\n// The indexes of tube segments run from 0 to 8.\n//\nvec3 getTubePosition(vec3 d, float index, out vec3 normal) {\n  float segmentCount = 8.0;\n\n  float angle = 2.0 * 3.14159 * (index / segmentCount);\n\n  vec3 u = getOrthogonalVector(d);\n  vec3 v = normalize(cross(u, d));\n\n  vec3 x = u * cos(angle) * length(d);\n  vec3 y = v * sin(angle) * length(d);\n  vec3 v3 = x + y;\n\n  normal = normalize(v3);\n\n  return v3;\n}\n\nattribute vec4 vector;\nattribute vec4 position;\nattribute vec4 id;\n\nuniform mat4 model, view, projection;\nuniform float tubeScale;\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  vec3 normal;\n  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);\n  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);\n\n  gl_Position = projection * view * tubePosition;\n  f_id        = id;\n  f_position  = position.xyz;\n}\n"]),c=s(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3  clipBounds[2];\nuniform float pickId;\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;\n\n  gl_FragColor = vec4(pickId, f_id.xyz);\n}"]);u.meshShader={vertex:a,fragment:o,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec4"}]},u.pickShader={vertex:l,fragment:c,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec4"}]}},7307:function(y,u,i){"use strict";var s=i(2858),a=i(4020),o=["xyz","xzy","yxz","yzx","zxy","zyx"],l=function(T,_){var g,w=T.length;for(g=0;g<w;g++){var x=T[g];if(x===_)return g;if(x>_)return g-1}return g},c=function(T,_,g){return T<_?_:T>g?g:T},h=function(T){var _=1/0;T.sort(function(b,A){return b-A});for(var g=T.length,w=1;w<g;w++){var x=Math.abs(T[w]-T[w-1]);x<_&&(_=x)}return _};y.exports=function(T,_){var g=T.startingPositions,w=T.maxLength||1e3,x=T.tubeSize||1,b=T.absoluteTubeSize,A=T.gridFill||"+x+y+z",m={};-1!==A.indexOf("-x")&&(m.reversedX=!0),-1!==A.indexOf("-y")&&(m.reversedY=!0),-1!==A.indexOf("-z")&&(m.reversedZ=!0),m.filled=o.indexOf(A.replace(/-/g,"").replace(/\+/g,""));var we,ze,ke,Ee,C=T.getVelocity||function(we){return function(ze,ke,Ee){var me=ke.vectors,de=ke.meshgrid,ce=ze[0],Ae=ze[1],Ne=ze[2],De=de[0].length,Ue=de[1].length,Ye=de[2].length,_e=l(de[0],ce),Pe=l(de[1],Ae),Ie=l(de[2],Ne),Be=_e+1,We=Pe+1,Ge=Ie+1;if(_e=c(_e,0,De-1),Be=c(Be,0,De-1),Pe=c(Pe,0,Ue-1),We=c(We,0,Ue-1),Ie=c(Ie,0,Ye-1),Ge=c(Ge,0,Ye-1),_e<0||Pe<0||Ie<0||Be>De-1||We>Ue-1||Ge>Ye-1)return s.create();var Ke,tt,st,gt,ct,kt,Dt=de[0][_e],mt=de[1][Pe],Lt=de[2][Ie],Rt=(ce-Dt)/(de[0][Be]-Dt),Ut=(Ae-mt)/(de[1][We]-mt),Bt=(Ne-Lt)/(de[2][Ge]-Lt);switch(isFinite(Rt)||(Rt=.5),isFinite(Ut)||(Ut=.5),isFinite(Bt)||(Bt=.5),Ee.reversedX&&(_e=De-1-_e,Be=De-1-Be),Ee.reversedY&&(Pe=Ue-1-Pe,We=Ue-1-We),Ee.reversedZ&&(Ie=Ye-1-Ie,Ge=Ye-1-Ge),Ee.filled){case 5:ct=Ie,kt=Ge,st=Pe*Ye,gt=We*Ye,Ke=_e*Ye*Ue,tt=Be*Ye*Ue;break;case 4:ct=Ie,kt=Ge,Ke=_e*Ye,tt=Be*Ye,st=Pe*Ye*De,gt=We*Ye*De;break;case 3:st=Pe,gt=We,ct=Ie*Ue,kt=Ge*Ue,Ke=_e*Ue*Ye,tt=Be*Ue*Ye;break;case 2:st=Pe,gt=We,Ke=_e*Ue,tt=Be*Ue,ct=Ie*Ue*De,kt=Ge*Ue*De;break;case 1:Ke=_e,tt=Be,ct=Ie*De,kt=Ge*De,st=Pe*De*Ye,gt=We*De*Ye;break;default:Ke=_e,tt=Be,st=Pe*De,gt=We*De,ct=Ie*De*Ue,kt=Ge*De*Ue}var rt=me[Ke+st+ct],ot=me[Ke+st+kt],Je=me[Ke+gt+ct],it=me[Ke+gt+kt],dt=me[tt+st+ct],ht=me[tt+st+kt],Ve=me[tt+gt+ct],qe=me[tt+gt+kt],ut=s.create(),ft=s.create(),St=s.create(),Mt=s.create();s.lerp(ut,rt,dt,Rt),s.lerp(ft,ot,ht,Rt),s.lerp(St,Je,Ve,Rt),s.lerp(Mt,it,qe,Rt);var Tt=s.create(),xt=s.create();s.lerp(Tt,ut,St,Ut),s.lerp(xt,ft,Mt,Ut);var Nt=s.create();return s.lerp(Nt,Tt,xt,Bt),Nt}(we,T,m)},k=T.getDivergence||function(we,ze){var ke=s.create(),Ee=1e-4;s.add(ke,we,[Ee,0,0]);var me=C(ke);s.subtract(me,me,ze),s.scale(me,me,1/Ee),s.add(ke,we,[0,Ee,0]);var de=C(ke);s.subtract(de,de,ze),s.scale(de,de,1/Ee),s.add(ke,we,[0,0,Ee]);var ce=C(ke);return s.subtract(ce,ce,ze),s.scale(ce,ce,1/Ee),s.add(ke,me,de),s.add(ke,ke,ce),ke},P=[],R=_[0][0],L=_[0][1],N=_[0][2],B=_[1][0],J=_[1][1],z=_[1][2],q=10*s.distance(_[0],_[1])/w,U=q*q,Z=1,X=0,se=g.length;se>1&&(Z=function(we){for(var ze=[],ke=[],Ee=[],me={},de={},ce={},Ae=we.length,Ne=0;Ne<Ae;Ne++){var De=we[Ne],Ue=De[0],Ye=De[1],_e=De[2];me[Ue]||(ze.push(Ue),me[Ue]=!0),de[Ye]||(ke.push(Ye),de[Ye]=!0),ce[_e]||(Ee.push(_e),ce[_e]=!0)}var Pe=h(ze),Ie=h(ke),Be=h(Ee),We=Math.min(Pe,Ie,Be);return isFinite(We)?We:1}(g));for(var re=0;re<se;re++){var ee=s.create();s.copy(ee,g[re]);var K=[ee],ne=[],ae=C(ee),ue=ee;ne.push(ae);var he=[],pe=k(ee,ae),ge=s.length(pe);isFinite(ge)&&ge>X&&(X=ge),he.push(ge),P.push({points:K,velocities:ne,divergences:he});for(var xe=0;xe<100*w&&K.length<w&&(ze=void 0,ke=void 0,Ee=void 0,ke=(we=ee)[1],Ee=we[2],!((ze=we[0])<R||ze>B||ke<L||ke>J||Ee<N||Ee>z));){xe++;var Se=s.clone(ae),Te=s.squaredLength(Se);if(0===Te)break;Te>U&&s.scale(Se,Se,q/Math.sqrt(Te)),s.add(Se,Se,ee),ae=C(Se),s.squaredDistance(ue,Se)-U>-1e-4*U&&(K.push(Se),ue=Se,ne.push(ae),pe=k(Se,ae),ge=s.length(pe),isFinite(ge)&&ge>X&&(X=ge),he.push(ge)),ee=Se}}var ye=function(we,ze,ke,Ee){for(var me=0,de=0;de<we.length;de++)for(var ce=we[de].velocities,Ae=0;Ae<ce.length;Ae++)me=Math.max(me,s.length(ce[Ae]));var Ne=we.map(function(Ke){return function(tt,st,gt,ct){for(var kt=tt.points,Dt=tt.velocities,vt=tt.divergences,mt=[],Et=[],Lt=[],Rt=[],Ut=[],Bt=[],rt=0,ot=0,Je=a.create(),it=a.create(),dt=0;dt<kt.length;dt++){var ht=kt[dt],Ve=Dt[dt],qe=vt[dt];0===st&&(qe=.05*gt),ot=s.length(Ve)/ct,Je=a.create(),s.copy(Je,Ve),Je[3]=qe;for(var ut=0;ut<8;ut++)Ut[ut]=[ht[0],ht[1],ht[2],ut];if(Rt.length>0)for(ut=0;ut<8;ut++){var ft=(ut+1)%8;mt.push(Rt[ut],Ut[ut],Ut[ft],Ut[ft],Rt[ft],Rt[ut]),Lt.push(it,Je,Je,Je,it,it),Bt.push(rt,ot,ot,ot,rt,rt);var St=mt.length;Et.push([St-6,St-5,St-4],[St-3,St-2,St-1])}var Mt=Rt;Rt=Ut,Ut=Mt;var Tt=it;it=Je,Je=Tt;var xt=rt;rt=ot,ot=xt}return{positions:mt,cells:Et,vectors:Lt,vertexIntensity:Bt}}(Ke,ke,Ee,me)}),De=[],Ue=[],Ye=[],_e=[];for(de=0;de<Ne.length;de++){var Pe=Ne[de],Ie=De.length;for(De=De.concat(Pe.positions),Ye=Ye.concat(Pe.vectors),_e=_e.concat(Pe.vertexIntensity),Ae=0;Ae<Pe.cells.length;Ae++){var Be=Pe.cells[Ae],We=[];Ue.push(We);for(var Ge=0;Ge<Be.length;Ge++)We.push(Be[Ge]+Ie)}}return{positions:De,cells:Ue,vectors:Ye,vertexIntensity:_e,colormap:ze}}(P,T.colormap,X,Z);return b?ye.tubeScale=b:(0===X&&(X=1),ye.tubeScale=.5*x*Z/X),ye};var v=i(9578),p=i(1140).createMesh;y.exports.createTubeMesh=function(T,_){return p(T,_,{shaders:v,traceType:"streamtube"})}},9054:function(y,u,i){var s=i(5158),a=i(6832),o=a(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec4 uv;\nattribute vec3 f;\nattribute vec3 normal;\n\nuniform vec3 objectOffset;\nuniform mat4 model, view, projection, inverseModel;\nuniform vec3 lightPosition, eyePosition;\nuniform sampler2D colormap;\n\nvarying float value, kill;\nvarying vec3 worldCoordinate;\nvarying vec2 planeCoordinate;\nvarying vec3 lightDirection, eyeDirection, surfaceNormal;\nvarying vec4 vColor;\n\nvoid main() {\n  vec3 localCoordinate = vec3(uv.zw, f.x);\n  worldCoordinate = objectOffset + localCoordinate;\n  vec4 worldPosition = model * vec4(worldCoordinate, 1.0);\n  vec4 clipPosition = projection * view * worldPosition;\n  gl_Position = clipPosition;\n  kill = f.y;\n  value = f.z;\n  planeCoordinate = uv.xy;\n\n  vColor = texture2D(colormap, vec2(value, value));\n\n  //Lighting geometry parameters\n  vec4 cameraCoordinate = view * worldPosition;\n  cameraCoordinate.xyz /= cameraCoordinate.w;\n  lightDirection = lightPosition - cameraCoordinate.xyz;\n  eyeDirection   = eyePosition - cameraCoordinate.xyz;\n  surfaceNormal  = normalize((vec4(normal,0) * inverseModel).xyz);\n}\n"]),l=a(["precision highp float;\n#define GLSLIFY 1\n\nfloat beckmannDistribution(float x, float roughness) {\n  float NdotH = max(x, 0.0001);\n  float cos2Alpha = NdotH * NdotH;\n  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;\n  float roughness2 = roughness * roughness;\n  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;\n  return exp(tan2Alpha / roughness2) / denom;\n}\n\nfloat beckmannSpecular(\n  vec3 lightDirection,\n  vec3 viewDirection,\n  vec3 surfaceNormal,\n  float roughness) {\n  return beckmannDistribution(dot(surfaceNormal, normalize(lightDirection + viewDirection)), roughness);\n}\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 lowerBound, upperBound;\nuniform float contourTint;\nuniform vec4 contourColor;\nuniform sampler2D colormap;\nuniform vec3 clipBounds[2];\nuniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;\nuniform float vertexColor;\n\nvarying float value, kill;\nvarying vec3 worldCoordinate;\nvarying vec3 lightDirection, eyeDirection, surfaceNormal;\nvarying vec4 vColor;\n\nvoid main() {\n  if (\n    kill > 0.0 ||\n    vColor.a == 0.0 ||\n    outOfRange(clipBounds[0], clipBounds[1], worldCoordinate)\n  ) discard;\n\n  vec3 N = normalize(surfaceNormal);\n  vec3 V = normalize(eyeDirection);\n  vec3 L = normalize(lightDirection);\n\n  if(gl_FrontFacing) {\n    N = -N;\n  }\n\n  float specular = max(beckmannSpecular(L, V, N, roughness), 0.);\n  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);\n\n  //decide how to interpolate color \u2014 in vertex or in fragment\n  vec4 surfaceColor =\n    step(vertexColor, .5) * texture2D(colormap, vec2(value, value)) +\n    step(.5, vertexColor) * vColor;\n\n  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);\n\n  gl_FragColor = mix(litColor, contourColor, contourTint) * opacity;\n}\n"]),c=a(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec4 uv;\nattribute float f;\n\nuniform vec3 objectOffset;\nuniform mat3 permutation;\nuniform mat4 model, view, projection;\nuniform float height, zOffset;\nuniform sampler2D colormap;\n\nvarying float value, kill;\nvarying vec3 worldCoordinate;\nvarying vec2 planeCoordinate;\nvarying vec3 lightDirection, eyeDirection, surfaceNormal;\nvarying vec4 vColor;\n\nvoid main() {\n  vec3 dataCoordinate = permutation * vec3(uv.xy, height);\n  worldCoordinate = objectOffset + dataCoordinate;\n  vec4 worldPosition = model * vec4(worldCoordinate, 1.0);\n\n  vec4 clipPosition = projection * view * worldPosition;\n  clipPosition.z += zOffset;\n\n  gl_Position = clipPosition;\n  value = f + objectOffset.z;\n  kill = -1.0;\n  planeCoordinate = uv.zw;\n\n  vColor = texture2D(colormap, vec2(value, value));\n\n  //Don't do lighting for contours\n  surfaceNormal   = vec3(1,0,0);\n  eyeDirection    = vec3(0,1,0);\n  lightDirection  = vec3(0,0,1);\n}\n"]),h=a(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec2 shape;\nuniform vec3 clipBounds[2];\nuniform float pickId;\n\nvarying float value, kill;\nvarying vec3 worldCoordinate;\nvarying vec2 planeCoordinate;\nvarying vec3 surfaceNormal;\n\nvec2 splitFloat(float v) {\n  float vh = 255.0 * v;\n  float upper = floor(vh);\n  float lower = fract(vh);\n  return vec2(upper / 255.0, floor(lower * 16.0) / 16.0);\n}\n\nvoid main() {\n  if ((kill > 0.0) ||\n      (outOfRange(clipBounds[0], clipBounds[1], worldCoordinate))) discard;\n\n  vec2 ux = splitFloat(planeCoordinate.x / shape.x);\n  vec2 uy = splitFloat(planeCoordinate.y / shape.y);\n  gl_FragColor = vec4(pickId, ux.x, uy.x, ux.y + (uy.y/16.0));\n}\n"]);u.createShader=function(v){var p=s(v,o,l,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return p.attributes.uv.location=0,p.attributes.f.location=1,p.attributes.normal.location=2,p},u.createPickShader=function(v){var p=s(v,o,h,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return p.attributes.uv.location=0,p.attributes.f.location=1,p.attributes.normal.location=2,p},u.createContourShader=function(v){var p=s(v,c,l,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return p.attributes.uv.location=0,p.attributes.f.location=1,p},u.createPickContourShader=function(v){var p=s(v,c,h,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return p.attributes.uv.location=0,p.attributes.f.location=1,p}},3754:function(y,u,i){"use strict";y.exports=function(pe){var ge=pe.gl,xe=m(ge),Se=k(ge),Te=C(ge),ye=P(ge),we=a(ge),ze=o(ge,[{buffer:we,size:4,stride:R,offset:0},{buffer:we,size:3,stride:R,offset:16},{buffer:we,size:3,stride:R,offset:28}]),ke=a(ge),Ee=o(ge,[{buffer:ke,size:4,stride:20,offset:0},{buffer:ke,size:1,stride:20,offset:16}]),me=a(ge),de=o(ge,[{buffer:me,size:2,type:ge.FLOAT}]),ce=l(ge,1,z,ge.RGBA,ge.UNSIGNED_BYTE);ce.minFilter=ge.LINEAR,ce.magFilter=ge.LINEAR;var Ae=new Y(ge,[0,0],[[0,0,0],[0,0,0]],xe,Se,we,ze,ce,Te,ye,ke,Ee,me,de,[0,0,0]),Ne={levels:[[],[],[]]};for(var De in pe)Ne[De]=pe[De];return Ne.colormap=Ne.colormap||"jet",Ae.update(Ne),Ae};var s=i(2288),a=i(5827),o=i(2944),l=i(8931),c=i(5306),h=i(9156),v=i(7498),p=i(7382),T=i(5050),_=i(4162),g=i(104),w=i(7437),x=i(5070),b=i(9144),A=i(9054),m=A.createShader,C=A.createContourShader,k=A.createPickShader,P=A.createPickContourShader,R=40,L=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],N=[[0,0],[0,1],[1,0],[1,1],[1,0],[0,1]],B=[[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]];function J(pe,ge,xe,Se,Te){this.position=pe,this.index=ge,this.uv=xe,this.level=Se,this.dataCoordinate=Te}!function(){for(var pe=0;pe<3;++pe){var ge=B[pe],xe=(pe+2)%3;ge[(pe+1)%3+0]=1,ge[xe+3]=1,ge[pe+6]=1}}();var z=256;function Y(pe,ge,xe,Se,Te,ye,we,ze,ke,Ee,me,de,ce,Ae,Ne){this.gl=pe,this.shape=ge,this.bounds=xe,this.objectOffset=Ne,this.intensityBounds=[],this._shader=Se,this._pickShader=Te,this._coordinateBuffer=ye,this._vao=we,this._colorMap=ze,this._contourShader=ke,this._contourPickShader=Ee,this._contourBuffer=me,this._contourVAO=de,this._contourOffsets=[[],[],[]],this._contourCounts=[[],[],[]],this._vertexCount=0,this._pickResult=new J([0,0,0],[0,0],[0,0],[0,0,0],[0,0,0]),this._dynamicBuffer=ce,this._dynamicVAO=Ae,this._dynamicOffsets=[0,0,0],this._dynamicCounts=[0,0,0],this.contourWidth=[1,1,1],this.contourLevels=[[1],[1],[1]],this.contourTint=[0,0,0],this.contourColor=[[.5,.5,.5,1],[.5,.5,.5,1],[.5,.5,.5,1]],this.showContour=!0,this.showSurface=!0,this.enableHighlight=[!0,!0,!0],this.highlightColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.highlightTint=[1,1,1],this.highlightLevel=[-1,-1,-1],this.enableDynamic=[!0,!0,!0],this.dynamicLevel=[NaN,NaN,NaN],this.dynamicColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.dynamicTint=[1,1,1],this.dynamicWidth=[1,1,1],this.axesBounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.surfaceProject=[!1,!1,!1],this.contourProject=[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],this.colorBounds=[!1,!1],this._field=[T(c.mallocFloat(1024),[0,0]),T(c.mallocFloat(1024),[0,0]),T(c.mallocFloat(1024),[0,0])],this.pickId=1,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.snapToData=!1,this.pixelRatio=1,this.opacity=1,this.lightPosition=[10,1e4,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.vertexColor=0,this.dirty=!0}var q=Y.prototype;q.genColormap=function(pe,ge){var xe=!1,Se=p([h({colormap:pe,nshades:z,format:"rgba"}).map(function(Te,ye){var we=ge?function(ze,ke){if(!ke||!ke.length)return 1;for(var Ee=0;Ee<ke.length;++Ee){if(ke.length<2)return 1;if(ke[Ee][0]===ze)return ke[Ee][1];if(ke[Ee][0]>ze&&Ee>0){var me=(ke[Ee][0]-ze)/(ke[Ee][0]-ke[Ee-1][0]);return ke[Ee][1]*(1-me)+me*ke[Ee-1][1]}}return 1}(ye/255,ge):Te[3];return we<1&&(xe=!0),[Te[0],Te[1],Te[2],255*we]})]);return v.divseq(Se,255),this.hasAlphaScale=xe,Se},q.isTransparent=function(){return this.opacity<1||this.hasAlphaScale},q.isOpaque=function(){return!this.isTransparent()},q.pickSlots=1,q.setPickBase=function(pe){this.pickId=pe};var U=[0,0,0],Z={showSurface:!1,showContour:!1,projections:[L.slice(),L.slice(),L.slice()],clipBounds:[[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]]]};function X(pe,ge){var xe,Se,Te,ye=ge.axes&&ge.axes.lastCubeProps.axis||U,we=ge.showSurface,ze=ge.showContour;for(xe=0;xe<3;++xe)for(we=we||ge.surfaceProject[xe],Se=0;Se<3;++Se)ze=ze||ge.contourProject[xe][Se];for(xe=0;xe<3;++xe){var ke=Z.projections[xe];for(Se=0;Se<16;++Se)ke[Se]=0;for(Se=0;Se<4;++Se)ke[5*Se]=1;ke[5*xe]=0,ke[12+xe]=ge.axesBounds[+(ye[xe]>0)][xe],g(ke,pe.model,ke);var Ee=Z.clipBounds[xe];for(Te=0;Te<2;++Te)for(Se=0;Se<3;++Se)Ee[Te][Se]=pe.clipBounds[Te][Se];Ee[0][xe]=-1e8,Ee[1][xe]=1e8}return Z.showSurface=we,Z.showContour=ze,Z}var se={model:L,view:L,projection:L,inverseModel:L.slice(),lowerBound:[0,0,0],upperBound:[0,0,0],colorMap:0,clipBounds:[[0,0,0],[0,0,0]],height:0,contourTint:0,contourColor:[0,0,0,1],permutation:[1,0,0,0,1,0,0,0,1],zOffset:-1e-4,objectOffset:[0,0,0],kambient:1,kdiffuse:1,kspecular:1,lightPosition:[1e3,1e3,1e3],eyePosition:[0,0,0],roughness:1,fresnel:1,opacity:1,vertexColor:0},re=L.slice(),ee=[1,0,0,0,1,0,0,0,1];function K(pe,ge){pe=pe||{};var xe=this.gl;xe.disable(xe.CULL_FACE),this._colorMap.bind(0);var Se=se;Se.model=pe.model||L,Se.view=pe.view||L,Se.projection=pe.projection||L,Se.lowerBound=[this.bounds[0][0],this.bounds[0][1],this.colorBounds[0]||this.bounds[0][2]],Se.upperBound=[this.bounds[1][0],this.bounds[1][1],this.colorBounds[1]||this.bounds[1][2]],Se.objectOffset=this.objectOffset,Se.contourColor=this.contourColor[0],Se.inverseModel=w(Se.inverseModel,Se.model);for(var Te=0;Te<2;++Te)for(var ye=Se.clipBounds[Te],we=0;we<3;++we)ye[we]=Math.min(Math.max(this.clipBounds[Te][we],-1e8),1e8);Se.kambient=this.ambientLight,Se.kdiffuse=this.diffuseLight,Se.kspecular=this.specularLight,Se.roughness=this.roughness,Se.fresnel=this.fresnel,Se.opacity=this.opacity,Se.height=0,Se.permutation=ee,Se.vertexColor=this.vertexColor;var ze=re;for(g(ze,Se.view,Se.model),g(ze,Se.projection,ze),w(ze,ze),Te=0;Te<3;++Te)Se.eyePosition[Te]=ze[12+Te]/ze[15];var ke=ze[15];for(Te=0;Te<3;++Te)ke+=this.lightPosition[Te]*ze[4*Te+3];for(Te=0;Te<3;++Te){var Ee=ze[12+Te];for(we=0;we<3;++we)Ee+=ze[4*we+Te]*this.lightPosition[we];Se.lightPosition[Te]=Ee/ke}var me=X(Se,this);if(me.showSurface){for(this._shader.bind(),this._shader.uniforms=Se,this._vao.bind(),this.showSurface&&this._vertexCount&&this._vao.draw(xe.TRIANGLES,this._vertexCount),Te=0;Te<3;++Te)this.surfaceProject[Te]&&this.vertexCount&&(this._shader.uniforms.model=me.projections[Te],this._shader.uniforms.clipBounds=me.clipBounds[Te],this._vao.draw(xe.TRIANGLES,this._vertexCount));this._vao.unbind()}if(me.showContour){var de=this._contourShader;Se.kambient=1,Se.kdiffuse=0,Se.kspecular=0,Se.opacity=1,de.bind(),de.uniforms=Se;var ce=this._contourVAO;for(ce.bind(),Te=0;Te<3;++Te)for(de.uniforms.permutation=B[Te],xe.lineWidth(this.contourWidth[Te]*this.pixelRatio),we=0;we<this.contourLevels[Te].length;++we)we===this.highlightLevel[Te]?(de.uniforms.contourColor=this.highlightColor[Te],de.uniforms.contourTint=this.highlightTint[Te]):0!==we&&we-1!==this.highlightLevel[Te]||(de.uniforms.contourColor=this.contourColor[Te],de.uniforms.contourTint=this.contourTint[Te]),this._contourCounts[Te][we]&&(de.uniforms.height=this.contourLevels[Te][we],ce.draw(xe.LINES,this._contourCounts[Te][we],this._contourOffsets[Te][we]));for(Te=0;Te<3;++Te)for(de.uniforms.model=me.projections[Te],de.uniforms.clipBounds=me.clipBounds[Te],we=0;we<3;++we)if(this.contourProject[Te][we]){de.uniforms.permutation=B[we],xe.lineWidth(this.contourWidth[we]*this.pixelRatio);for(var Ae=0;Ae<this.contourLevels[we].length;++Ae)Ae===this.highlightLevel[we]?(de.uniforms.contourColor=this.highlightColor[we],de.uniforms.contourTint=this.highlightTint[we]):0!==Ae&&Ae-1!==this.highlightLevel[we]||(de.uniforms.contourColor=this.contourColor[we],de.uniforms.contourTint=this.contourTint[we]),this._contourCounts[we][Ae]&&(de.uniforms.height=this.contourLevels[we][Ae],ce.draw(xe.LINES,this._contourCounts[we][Ae],this._contourOffsets[we][Ae]))}for(ce.unbind(),(ce=this._dynamicVAO).bind(),Te=0;Te<3;++Te)if(0!==this._dynamicCounts[Te])for(de.uniforms.model=Se.model,de.uniforms.clipBounds=Se.clipBounds,de.uniforms.permutation=B[Te],xe.lineWidth(this.dynamicWidth[Te]*this.pixelRatio),de.uniforms.contourColor=this.dynamicColor[Te],de.uniforms.contourTint=this.dynamicTint[Te],de.uniforms.height=this.dynamicLevel[Te],ce.draw(xe.LINES,this._dynamicCounts[Te],this._dynamicOffsets[Te]),we=0;we<3;++we)this.contourProject[we][Te]&&(de.uniforms.model=me.projections[we],de.uniforms.clipBounds=me.clipBounds[we],ce.draw(xe.LINES,this._dynamicCounts[Te],this._dynamicOffsets[Te]));ce.unbind()}}q.draw=function(pe){return K.call(this,pe,!1)},q.drawTransparent=function(pe){return K.call(this,pe,!0)};var ne={model:L,view:L,projection:L,inverseModel:L,clipBounds:[[0,0,0],[0,0,0]],height:0,shape:[0,0],pickId:0,lowerBound:[0,0,0],upperBound:[0,0,0],zOffset:0,objectOffset:[0,0,0],permutation:[1,0,0,0,1,0,0,0,1],lightPosition:[0,0,0],eyePosition:[0,0,0]};function ae(pe,ge){return Array.isArray(pe)?[ge(pe[0]),ge(pe[1]),ge(pe[2])]:[ge(pe),ge(pe),ge(pe)]}function ue(pe){return Array.isArray(pe)?3===pe.length?[pe[0],pe[1],pe[2],1]:[pe[0],pe[1],pe[2],pe[3]]:[0,0,0,1]}function he(pe){if(Array.isArray(pe)){if(Array.isArray(pe))return[ue(pe[0]),ue(pe[1]),ue(pe[2])];var ge=ue(pe);return[ge.slice(),ge.slice(),ge.slice()]}}q.drawPick=function(pe){pe=pe||{};var ge=this.gl;ge.disable(ge.CULL_FACE);var xe=ne;xe.model=pe.model||L,xe.view=pe.view||L,xe.projection=pe.projection||L,xe.shape=this._field[2].shape,xe.pickId=this.pickId/255,xe.lowerBound=this.bounds[0],xe.upperBound=this.bounds[1],xe.objectOffset=this.objectOffset,xe.permutation=ee;for(var Se=0;Se<2;++Se)for(var Te=xe.clipBounds[Se],ye=0;ye<3;++ye)Te[ye]=Math.min(Math.max(this.clipBounds[Se][ye],-1e8),1e8);var we=X(xe,this);if(we.showSurface){for(this._pickShader.bind(),this._pickShader.uniforms=xe,this._vao.bind(),this._vao.draw(ge.TRIANGLES,this._vertexCount),Se=0;Se<3;++Se)this.surfaceProject[Se]&&(this._pickShader.uniforms.model=we.projections[Se],this._pickShader.uniforms.clipBounds=we.clipBounds[Se],this._vao.draw(ge.TRIANGLES,this._vertexCount));this._vao.unbind()}if(we.showContour){var ze=this._contourPickShader;ze.bind(),ze.uniforms=xe;var ke=this._contourVAO;for(ke.bind(),ye=0;ye<3;++ye)for(ge.lineWidth(this.contourWidth[ye]*this.pixelRatio),ze.uniforms.permutation=B[ye],Se=0;Se<this.contourLevels[ye].length;++Se)this._contourCounts[ye][Se]&&(ze.uniforms.height=this.contourLevels[ye][Se],ke.draw(ge.LINES,this._contourCounts[ye][Se],this._contourOffsets[ye][Se]));for(Se=0;Se<3;++Se)for(ze.uniforms.model=we.projections[Se],ze.uniforms.clipBounds=we.clipBounds[Se],ye=0;ye<3;++ye)if(this.contourProject[Se][ye]){ze.uniforms.permutation=B[ye],ge.lineWidth(this.contourWidth[ye]*this.pixelRatio);for(var Ee=0;Ee<this.contourLevels[ye].length;++Ee)this._contourCounts[ye][Ee]&&(ze.uniforms.height=this.contourLevels[ye][Ee],ke.draw(ge.LINES,this._contourCounts[ye][Ee],this._contourOffsets[ye][Ee]))}ke.unbind()}},q.pick=function(pe){if(!pe||pe.id!==this.pickId)return null;var ge=this._field[2].shape,xe=this._pickResult,Se=ge[0]*(pe.value[0]+(pe.value[2]>>4)/16)/255,Te=Math.floor(Se),ye=Se-Te,we=ge[1]*(pe.value[1]+(15&pe.value[2])/16)/255,ze=Math.floor(we),ke=we-ze;Te+=1,ze+=1;var Ee=xe.position;Ee[0]=Ee[1]=Ee[2]=0;for(var me=0;me<2;++me)for(var de=me?ye:1-ye,ce=0;ce<2;++ce)for(var Ae=Te+me,Ne=ze+ce,De=de*(ce?ke:1-ke),Ue=0;Ue<3;++Ue)Ee[Ue]+=this._field[Ue].get(Ae,Ne)*De;for(var Ye=this._pickResult.level,_e=0;_e<3;++_e)if(Ye[_e]=x.le(this.contourLevels[_e],Ee[_e]),Ye[_e]<0)this.contourLevels[_e].length>0&&(Ye[_e]=0);else if(Ye[_e]<this.contourLevels[_e].length-1){var Ie=this.contourLevels[_e][Ye[_e]+1];Math.abs(this.contourLevels[_e][Ye[_e]]-Ee[_e])>Math.abs(Ie-Ee[_e])&&(Ye[_e]+=1)}for(xe.index[0]=ye<.5?Te:Te+1,xe.index[1]=ke<.5?ze:ze+1,xe.uv[0]=Se/ge[0],xe.uv[1]=we/ge[1],Ue=0;Ue<3;++Ue)xe.dataCoordinate[Ue]=this._field[Ue].get(xe.index[0],xe.index[1]);return xe},q.padField=function(pe,ge){var xe=ge.shape.slice(),Se=pe.shape.slice();v.assign(pe.lo(1,1).hi(xe[0],xe[1]),ge),v.assign(pe.lo(1).hi(xe[0],1),ge.hi(xe[0],1)),v.assign(pe.lo(1,Se[1]-1).hi(xe[0],1),ge.lo(0,xe[1]-1).hi(xe[0],1)),v.assign(pe.lo(0,1).hi(1,xe[1]),ge.hi(1)),v.assign(pe.lo(Se[0]-1,1).hi(1,xe[1]),ge.lo(xe[0]-1)),pe.set(0,0,ge.get(0,0)),pe.set(0,Se[1]-1,ge.get(0,xe[1]-1)),pe.set(Se[0]-1,0,ge.get(xe[0]-1,0)),pe.set(Se[0]-1,Se[1]-1,ge.get(xe[0]-1,xe[1]-1))},q.update=function(pe){this.objectOffset=(pe=pe||{}).objectOffset||this.objectOffset,this.dirty=!0,"contourWidth"in pe&&(this.contourWidth=ae(pe.contourWidth,Number)),"showContour"in pe&&(this.showContour=ae(pe.showContour,Boolean)),"showSurface"in pe&&(this.showSurface=!!pe.showSurface),"contourTint"in pe&&(this.contourTint=ae(pe.contourTint,Boolean)),"contourColor"in pe&&(this.contourColor=he(pe.contourColor)),"contourProject"in pe&&(this.contourProject=ae(pe.contourProject,function(vn){return ae(vn,Boolean)})),"surfaceProject"in pe&&(this.surfaceProject=pe.surfaceProject),"dynamicColor"in pe&&(this.dynamicColor=he(pe.dynamicColor)),"dynamicTint"in pe&&(this.dynamicTint=ae(pe.dynamicTint,Number)),"dynamicWidth"in pe&&(this.dynamicWidth=ae(pe.dynamicWidth,Number)),"opacity"in pe&&(this.opacity=pe.opacity),"opacityscale"in pe&&(this.opacityscale=pe.opacityscale),"colorBounds"in pe&&(this.colorBounds=pe.colorBounds),"vertexColor"in pe&&(this.vertexColor=pe.vertexColor?1:0),"colormap"in pe&&this._colorMap.setPixels(this.genColormap(pe.colormap,this.opacityscale));var ge=pe.field||pe.coords&&pe.coords[2]||null,xe=!1;if(ge||(ge=this._field[2].shape[0]||this._field[2].shape[2]?this._field[2].lo(1,1).hi(this._field[2].shape[0]-2,this._field[2].shape[1]-2):this._field[2].hi(0,0)),"field"in pe||"coords"in pe){var Se=(ge.shape[0]+2)*(ge.shape[1]+2);Se>this._field[2].data.length&&(c.freeFloat(this._field[2].data),this._field[2].data=c.mallocFloat(s.nextPow2(Se))),this._field[2]=T(this._field[2].data,[ge.shape[0]+2,ge.shape[1]+2]),this.padField(this._field[2],ge),this.shape=ge.shape.slice();for(var Te=this.shape,ye=0;ye<2;++ye)this._field[2].size>this._field[ye].data.length&&(c.freeFloat(this._field[ye].data),this._field[ye].data=c.mallocFloat(this._field[2].size)),this._field[ye]=T(this._field[ye].data,[Te[0]+2,Te[1]+2]);if(pe.coords){var we=pe.coords;if(!Array.isArray(we)||3!==we.length)throw new Error("gl-surface: invalid coordinates for x/y");for(ye=0;ye<2;++ye){var ze=we[ye];for(ce=0;ce<2;++ce)if(ze.shape[ce]!==Te[ce])throw new Error("gl-surface: coords have incorrect shape");this.padField(this._field[ye],ze)}}else if(pe.ticks){var ke=pe.ticks;if(!Array.isArray(ke)||2!==ke.length)throw new Error("gl-surface: invalid ticks");for(ye=0;ye<2;++ye){var Ee=ke[ye];if((Array.isArray(Ee)||Ee.length)&&(Ee=T(Ee)),Ee.shape[0]!==Te[ye])throw new Error("gl-surface: invalid tick length");var me=T(Ee.data,Te);me.stride[ye]=Ee.stride[0],me.stride[1^ye]=0,this.padField(this._field[ye],me)}}else{for(ye=0;ye<2;++ye){var de=[0,0];de[ye]=1,this._field[ye]=T(this._field[ye].data,[Te[0]+2,Te[1]+2],de,0)}this._field[0].set(0,0,0);for(var ce=0;ce<Te[0];++ce)this._field[0].set(ce+1,0,ce);for(this._field[0].set(Te[0]+1,0,Te[0]-1),this._field[1].set(0,0,0),ce=0;ce<Te[1];++ce)this._field[1].set(0,ce+1,ce);this._field[1].set(0,Te[1]+1,Te[1]-1)}var Ae=this._field,Ne=T(c.mallocFloat(3*Ae[2].size*2),[3,Te[0]+2,Te[1]+2,2]);for(ye=0;ye<3;++ye)b(Ne.pick(ye),Ae[ye],"mirror");var De=T(c.mallocFloat(3*Ae[2].size),[Te[0]+2,Te[1]+2,3]);for(ye=0;ye<Te[0]+2;++ye)for(ce=0;ce<Te[1]+2;++ce){var Ue=Ne.get(0,ye,ce,0),Ye=Ne.get(0,ye,ce,1),_e=Ne.get(1,ye,ce,0),Pe=Ne.get(1,ye,ce,1),Ie=Ne.get(2,ye,ce,0),Be=Ne.get(2,ye,ce,1),We=_e*Be-Pe*Ie,Ge=Ie*Ye-Be*Ue,Ke=Ue*Pe-Ye*_e,tt=Math.sqrt(We*We+Ge*Ge+Ke*Ke);tt<1e-8?(tt=Math.max(Math.abs(We),Math.abs(Ge),Math.abs(Ke)))<1e-8?(Ke=1,Ge=We=0,tt=1):tt=1/tt:tt=1/Math.sqrt(tt),De.set(ye,ce,0,We*tt),De.set(ye,ce,1,Ge*tt),De.set(ye,ce,2,Ke*tt)}c.free(Ne.data);var st=[1/0,1/0,1/0],gt=[-1/0,-1/0,-1/0],ct=1/0,kt=-1/0,vt=c.mallocFloat(s.nextPow2((Te[0]-1)*(Te[1]-1)*6*10)),mt=0,Et=0;for(ye=0;ye<Te[0]-1;++ye)e:for(ce=0;ce<Te[1]-1;++ce){for(var Lt=0;Lt<2;++Lt)for(var Rt=0;Rt<2;++Rt)for(var Ut=0;Ut<3;++Ut){var Bt=this._field[Ut].get(1+ye+Lt,1+ce+Rt);if(isNaN(Bt)||!isFinite(Bt))continue e}for(Ut=0;Ut<6;++Ut){var rt=ye+N[Ut][0],ot=ce+N[Ut][1],Je=this._field[0].get(rt+1,ot+1),it=this._field[1].get(rt+1,ot+1);Bt=this._field[2].get(rt+1,ot+1),We=De.get(rt+1,ot+1,0),Ge=De.get(rt+1,ot+1,1),Ke=De.get(rt+1,ot+1,2),pe.intensity&&(dt=pe.intensity.get(rt,ot));var dt=pe.intensity?pe.intensity.get(rt,ot):Bt+this.objectOffset[2];vt[mt++]=rt,vt[mt++]=ot,vt[mt++]=Je,vt[mt++]=it,vt[mt++]=Bt,vt[mt++]=0,vt[mt++]=dt,vt[mt++]=We,vt[mt++]=Ge,vt[mt++]=Ke,st[0]=Math.min(st[0],Je+this.objectOffset[0]),st[1]=Math.min(st[1],it+this.objectOffset[1]),st[2]=Math.min(st[2],Bt+this.objectOffset[2]),ct=Math.min(ct,dt),gt[0]=Math.max(gt[0],Je+this.objectOffset[0]),gt[1]=Math.max(gt[1],it+this.objectOffset[1]),gt[2]=Math.max(gt[2],Bt+this.objectOffset[2]),kt=Math.max(kt,dt),Et+=1}}for(pe.intensityBounds&&(ct=+pe.intensityBounds[0],kt=+pe.intensityBounds[1]),ye=6;ye<mt;ye+=10)vt[ye]=(vt[ye]-ct)/(kt-ct);this._vertexCount=Et,this._coordinateBuffer.update(vt.subarray(0,mt)),c.freeFloat(vt),c.free(De.data),this.bounds=[st,gt],this.intensity=pe.intensity||this._field[2],this.intensityBounds[0]===ct&&this.intensityBounds[1]===kt||(xe=!0),this.intensityBounds=[ct,kt]}if("levels"in pe){var ht=pe.levels;for(ht=Array.isArray(ht[0])?ht.slice():[[],[],ht],ye=0;ye<3;++ye)ht[ye]=ht[ye].slice(),ht[ye].sort(function(vn,hn){return vn-hn});for(ye=0;ye<3;++ye)for(ce=0;ce<ht[ye].length;++ce)ht[ye][ce]-=this.objectOffset[ye];e:for(ye=0;ye<3;++ye){if(ht[ye].length!==this.contourLevels[ye].length){xe=!0;break}for(ce=0;ce<ht[ye].length;++ce)if(ht[ye][ce]!==this.contourLevels[ye][ce]){xe=!0;break e}}this.contourLevels=ht}if(xe){Ae=this._field,Te=this.shape;for(var Ve=[],qe=0;qe<3;++qe){var ut=this.contourLevels[qe],ft=[],St=[],Mt=[0,0,0];for(ye=0;ye<ut.length;++ye){var Tt=_(this._field[qe],ut[ye]);ft.push(Ve.length/5|0),Et=0;e:for(ce=0;ce<Tt.cells.length;++ce){var xt=Tt.cells[ce];for(Ut=0;Ut<2;++Ut){var Nt=Tt.positions[xt[Ut]],bt=Nt[0],wt=0|Math.floor(bt),It=bt-wt,Wt=Nt[1],Yt=0|Math.floor(Wt),Zt=Wt-Yt,dn=!1;t:for(var nn=0;nn<3;++nn){Mt[nn]=0;var un=(qe+nn+1)%3;for(Lt=0;Lt<2;++Lt){var rn=Lt?It:1-It;for(rt=0|Math.min(Math.max(wt+Lt,0),Te[0]),Rt=0;Rt<2;++Rt){var kn=Rt?Zt:1-Zt;if(ot=0|Math.min(Math.max(Yt+Rt,0),Te[1]),Bt=nn<2?this._field[un].get(rt,ot):(this.intensity.get(rt,ot)-this.intensityBounds[0])/(this.intensityBounds[1]-this.intensityBounds[0]),!isFinite(Bt)||isNaN(Bt)){dn=!0;break t}Mt[nn]+=rn*kn*Bt}}}if(dn){if(Ut>0){for(var Sn=0;Sn<5;++Sn)Ve.pop();Et-=1}continue e}Ve.push(Mt[0],Mt[1],Nt[0],Nt[1],Mt[2]),Et+=1}}St.push(Et)}this._contourOffsets[qe]=ft,this._contourCounts[qe]=St}var en=c.mallocFloat(Ve.length);for(ye=0;ye<Ve.length;++ye)en[ye]=Ve[ye];this._contourBuffer.update(en),c.freeFloat(en)}},q.dispose=function(){this._shader.dispose(),this._vao.dispose(),this._coordinateBuffer.dispose(),this._colorMap.dispose(),this._contourBuffer.dispose(),this._contourVAO.dispose(),this._contourShader.dispose(),this._contourPickShader.dispose(),this._dynamicBuffer.dispose(),this._dynamicVAO.dispose();for(var pe=0;pe<3;++pe)c.freeFloat(this._field[pe].data)},q.highlight=function(pe){var ge,xe;if(!pe)return this._dynamicCounts=[0,0,0],this.dyanamicLevel=[NaN,NaN,NaN],void(this.highlightLevel=[-1,-1,-1]);for(ge=0;ge<3;++ge)this.highlightLevel[ge]=this.enableHighlight[ge]?pe.level[ge]:-1;for(xe=this.snapToData?pe.dataCoordinate:pe.position,ge=0;ge<3;++ge)xe[ge]-=this.objectOffset[ge];if(this.enableDynamic[0]&&xe[0]!==this.dynamicLevel[0]||this.enableDynamic[1]&&xe[1]!==this.dynamicLevel[1]||this.enableDynamic[2]&&xe[2]!==this.dynamicLevel[2]){for(var Se=0,Te=this.shape,ye=c.mallocFloat(12*Te[0]*Te[1]),we=0;we<3;++we)if(this.enableDynamic[we]){this.dynamicLevel[we]=xe[we];var me=this._field[(we+1)%3],de=this._field[(we+2)%3],ce=_(this._field[we],xe[we]),Ae=ce.cells,Ne=ce.positions;for(this._dynamicOffsets[we]=Se,ge=0;ge<Ae.length;++ge)for(var De=Ae[ge],Ue=0;Ue<2;++Ue){var Ye=Ne[De[Ue]],_e=+Ye[0],Pe=0|_e,Ie=0|Math.min(Pe+1,Te[0]),Be=_e-Pe,We=1-Be,Ge=+Ye[1],Ke=0|Ge,tt=0|Math.min(Ke+1,Te[1]),st=Ge-Ke,gt=1-st,ct=We*gt,kt=We*st,Dt=Be*gt,vt=Be*st,mt=ct*me.get(Pe,Ke)+kt*me.get(Pe,tt)+Dt*me.get(Ie,Ke)+vt*me.get(Ie,tt),Et=ct*de.get(Pe,Ke)+kt*de.get(Pe,tt)+Dt*de.get(Ie,Ke)+vt*de.get(Ie,tt);if(isNaN(mt)||isNaN(Et)){Ue&&(Se-=1);break}ye[2*Se+0]=mt,ye[2*Se+1]=Et,Se+=1}this._dynamicCounts[we]=Se-this._dynamicOffsets[we]}else this.dynamicLevel[we]=NaN,this._dynamicCounts[we]=0;this._dynamicBuffer.update(ye.subarray(0,2*Se)),c.freeFloat(ye)}}},8931:function(y,u,i){"use strict";var s=i(5050),a=i(7498),o=i(5306);y.exports=function(A){if(arguments.length<=1)throw new Error("gl-texture2d: Missing arguments for texture2d constructor");if(l||(l=[(k=A).LINEAR,k.NEAREST_MIPMAP_LINEAR,k.LINEAR_MIPMAP_NEAREST,k.LINEAR_MIPMAP_NEAREST],c=[k.NEAREST,k.LINEAR,k.NEAREST_MIPMAP_NEAREST,k.NEAREST_MIPMAP_LINEAR,k.LINEAR_MIPMAP_NEAREST,k.LINEAR_MIPMAP_LINEAR],h=[k.REPEAT,k.CLAMP_TO_EDGE,k.MIRRORED_REPEAT]),"number"==typeof arguments[1])return b(A,arguments[1],arguments[2],arguments[3]||A.RGBA,arguments[4]||A.UNSIGNED_BYTE);var k;if(Array.isArray(arguments[1]))return b(A,0|arguments[1][0],0|arguments[1][1],arguments[2]||A.RGBA,arguments[3]||A.UNSIGNED_BYTE);if("object"==typeof arguments[1]){var m=arguments[1],C=v(m)?m:m.raw;if(C)return function(k,P,R,L,N,B){var J=x(k);return k.texImage2D(k.TEXTURE_2D,0,N,N,B,P),new _(k,J,R,L,N,B)}(A,C,0|m.width,0|m.height,arguments[2]||A.RGBA,arguments[3]||A.UNSIGNED_BYTE);if(m.shape&&m.data&&m.stride)return function(k,P){var R=P.dtype,L=P.shape.slice(),N=k.getParameter(k.MAX_TEXTURE_SIZE);if(L[0]<0||L[0]>N||L[1]<0||L[1]>N)throw new Error("gl-texture2d: Invalid texture size");var B=w(L,P.stride.slice()),J=0;"float32"===R?J=k.FLOAT:"float64"===R?(J=k.FLOAT,B=!1,R="float32"):"uint8"===R?J=k.UNSIGNED_BYTE:(J=k.UNSIGNED_BYTE,B=!1,R="uint8");var z,Y,q=0;if(2===L.length)q=k.LUMINANCE,P=s(P.data,L=[L[0],L[1],1],[P.stride[0],P.stride[1],1],P.offset);else{if(3!==L.length)throw new Error("gl-texture2d: Invalid shape for texture");if(1===L[2])q=k.ALPHA;else if(2===L[2])q=k.LUMINANCE_ALPHA;else if(3===L[2])q=k.RGB;else{if(4!==L[2])throw new Error("gl-texture2d: Invalid shape for pixel coords");q=k.RGBA}}J!==k.FLOAT||k.getExtension("OES_texture_float")||(J=k.UNSIGNED_BYTE,B=!1);var U=P.size;if(B)z=0===P.offset&&P.data.length===U?P.data:P.data.subarray(P.offset,P.offset+U);else{var Z=[L[2],L[2]*L[0],1];Y=o.malloc(U,R);var X=s(Y,L,Z,0);"float32"!==R&&"float64"!==R||J!==k.UNSIGNED_BYTE?a.assign(X,P):p(X,P),z=Y.subarray(0,U)}var se=x(k);return k.texImage2D(k.TEXTURE_2D,0,q,L[0],L[1],0,q,J,z),B||o.free(Y),new _(k,se,L[0],L[1],q,J)}(A,m)}throw new Error("gl-texture2d: Invalid arguments for texture2d constructor")};var l=null,c=null,h=null;function v(A){return typeof HTMLCanvasElement<"u"&&A instanceof HTMLCanvasElement||typeof HTMLImageElement<"u"&&A instanceof HTMLImageElement||typeof HTMLVideoElement<"u"&&A instanceof HTMLVideoElement||typeof ImageData<"u"&&A instanceof ImageData}var p=function(A,m){a.muls(A,m,255)};function T(A,m,C){var k=A.gl,P=k.getParameter(k.MAX_TEXTURE_SIZE);if(m<0||m>P||C<0||C>P)throw new Error("gl-texture2d: Invalid texture size");return A._shape=[m,C],A.bind(),k.texImage2D(k.TEXTURE_2D,0,A.format,m,C,0,A.format,A.type,null),A._mipLevels=[0],A}function _(A,m,C,k,P,R){this.gl=A,this.handle=m,this.format=P,this.type=R,this._shape=[C,k],this._mipLevels=[0],this._magFilter=A.NEAREST,this._minFilter=A.NEAREST,this._wrapS=A.CLAMP_TO_EDGE,this._wrapT=A.CLAMP_TO_EDGE,this._anisoSamples=1;var L=this,N=[this._wrapS,this._wrapT];Object.defineProperties(N,[{get:function(){return L._wrapS},set:function(J){return L.wrapS=J}},{get:function(){return L._wrapT},set:function(J){return L.wrapT=J}}]),this._wrapVector=N;var B=[this._shape[0],this._shape[1]];Object.defineProperties(B,[{get:function(){return L._shape[0]},set:function(J){return L.width=J}},{get:function(){return L._shape[1]},set:function(J){return L.height=J}}]),this._shapeVector=B}var g=_.prototype;function w(A,m){return 3===A.length?1===m[2]&&m[1]===A[0]*A[2]&&m[0]===A[2]:1===m[0]&&m[1]===A[0]}function x(A){var m=A.createTexture();return A.bindTexture(A.TEXTURE_2D,m),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_MIN_FILTER,A.NEAREST),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_MAG_FILTER,A.NEAREST),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_WRAP_S,A.CLAMP_TO_EDGE),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_WRAP_T,A.CLAMP_TO_EDGE),m}function b(A,m,C,k,P){var R=A.getParameter(A.MAX_TEXTURE_SIZE);if(m<0||m>R||C<0||C>R)throw new Error("gl-texture2d: Invalid texture shape");if(P===A.FLOAT&&!A.getExtension("OES_texture_float"))throw new Error("gl-texture2d: Floating point textures not supported on this platform");var L=x(A);return A.texImage2D(A.TEXTURE_2D,0,k,m,C,0,k,P,null),new _(A,L,m,C,k,P)}Object.defineProperties(g,{minFilter:{get:function(){return this._minFilter},set:function(A){this.bind();var m=this.gl;if(this.type===m.FLOAT&&l.indexOf(A)>=0&&(m.getExtension("OES_texture_float_linear")||(A=m.NEAREST)),c.indexOf(A)<0)throw new Error("gl-texture2d: Unknown filter mode "+A);return m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MIN_FILTER,A),this._minFilter=A}},magFilter:{get:function(){return this._magFilter},set:function(A){this.bind();var m=this.gl;if(this.type===m.FLOAT&&l.indexOf(A)>=0&&(m.getExtension("OES_texture_float_linear")||(A=m.NEAREST)),c.indexOf(A)<0)throw new Error("gl-texture2d: Unknown filter mode "+A);return m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MAG_FILTER,A),this._magFilter=A}},mipSamples:{get:function(){return this._anisoSamples},set:function(A){var m=this._anisoSamples;if(this._anisoSamples=0|Math.max(A,1),m!==this._anisoSamples){var C=this.gl.getExtension("EXT_texture_filter_anisotropic");C&&this.gl.texParameterf(this.gl.TEXTURE_2D,C.TEXTURE_MAX_ANISOTROPY_EXT,this._anisoSamples)}return this._anisoSamples}},wrapS:{get:function(){return this._wrapS},set:function(A){if(this.bind(),h.indexOf(A)<0)throw new Error("gl-texture2d: Unknown wrap mode "+A);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,A),this._wrapS=A}},wrapT:{get:function(){return this._wrapT},set:function(A){if(this.bind(),h.indexOf(A)<0)throw new Error("gl-texture2d: Unknown wrap mode "+A);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,A),this._wrapT=A}},wrap:{get:function(){return this._wrapVector},set:function(A){if(Array.isArray(A)||(A=[A,A]),2!==A.length)throw new Error("gl-texture2d: Must specify wrap mode for rows and columns");for(var m=0;m<2;++m)if(h.indexOf(A[m])<0)throw new Error("gl-texture2d: Unknown wrap mode "+A);this._wrapS=A[0],this._wrapT=A[1];var C=this.gl;return this.bind(),C.texParameteri(C.TEXTURE_2D,C.TEXTURE_WRAP_S,this._wrapS),C.texParameteri(C.TEXTURE_2D,C.TEXTURE_WRAP_T,this._wrapT),A}},shape:{get:function(){return this._shapeVector},set:function(A){if(Array.isArray(A)){if(2!==A.length)throw new Error("gl-texture2d: Invalid texture shape")}else A=[0|A,0|A];return T(this,0|A[0],0|A[1]),[0|A[0],0|A[1]]}},width:{get:function(){return this._shape[0]},set:function(A){return T(this,A|=0,this._shape[1]),A}},height:{get:function(){return this._shape[1]},set:function(A){return T(this,this._shape[0],A|=0),A}}}),g.bind=function(A){var m=this.gl;return void 0!==A&&m.activeTexture(m.TEXTURE0+(0|A)),m.bindTexture(m.TEXTURE_2D,this.handle),void 0!==A?0|A:m.getParameter(m.ACTIVE_TEXTURE)-m.TEXTURE0},g.dispose=function(){this.gl.deleteTexture(this.handle)},g.generateMipmap=function(){this.bind(),this.gl.generateMipmap(this.gl.TEXTURE_2D);for(var A=Math.min(this._shape[0],this._shape[1]),m=0;A>0;++m,A>>>=1)this._mipLevels.indexOf(m)<0&&this._mipLevels.push(m)},g.setPixels=function(A,m,C,k){var P=this.gl;this.bind(),Array.isArray(m)?(k=C,C=0|m[1],m=0|m[0]):(m=m||0,C=C||0),k=k||0;var R=v(A)?A:A.raw;if(R)this._mipLevels.indexOf(k)<0?(P.texImage2D(P.TEXTURE_2D,0,this.format,this.format,this.type,R),this._mipLevels.push(k)):P.texSubImage2D(P.TEXTURE_2D,k,m,C,this.format,this.type,R);else{if(!(A.shape&&A.stride&&A.data))throw new Error("gl-texture2d: Unsupported data type");if(A.shape.length<2||m+A.shape[1]>this._shape[1]>>>k||C+A.shape[0]>this._shape[0]>>>k||m<0||C<0)throw new Error("gl-texture2d: Texture dimensions are out of bounds");!function(L,N,B,J,z,Y,q,U){var Z=U.dtype,X=U.shape.slice();if(X.length<2||X.length>3)throw new Error("gl-texture2d: Invalid ndarray, must be 2d or 3d");var se=0,re=0,ee=w(X,U.stride.slice());if("float32"===Z?se=L.FLOAT:"float64"===Z?(se=L.FLOAT,ee=!1,Z="float32"):"uint8"===Z?se=L.UNSIGNED_BYTE:(se=L.UNSIGNED_BYTE,ee=!1,Z="uint8"),2===X.length)re=L.LUMINANCE,U=s(U.data,X=[X[0],X[1],1],[U.stride[0],U.stride[1],1],U.offset);else{if(3!==X.length)throw new Error("gl-texture2d: Invalid shape for texture");if(1===X[2])re=L.ALPHA;else if(2===X[2])re=L.LUMINANCE_ALPHA;else if(3===X[2])re=L.RGB;else{if(4!==X[2])throw new Error("gl-texture2d: Invalid shape for pixel coords");re=L.RGBA}}if(re!==L.LUMINANCE&&re!==L.ALPHA||z!==L.LUMINANCE&&z!==L.ALPHA||(re=z),re!==z)throw new Error("gl-texture2d: Incompatible texture format for setPixels");var K=U.size,ne=q.indexOf(J)<0;if(ne&&q.push(J),se===Y&&ee)0===U.offset&&U.data.length===K?ne?L.texImage2D(L.TEXTURE_2D,J,z,X[0],X[1],0,z,Y,U.data):L.texSubImage2D(L.TEXTURE_2D,J,N,B,X[0],X[1],z,Y,U.data):ne?L.texImage2D(L.TEXTURE_2D,J,z,X[0],X[1],0,z,Y,U.data.subarray(U.offset,U.offset+K)):L.texSubImage2D(L.TEXTURE_2D,J,N,B,X[0],X[1],z,Y,U.data.subarray(U.offset,U.offset+K));else{var ae;ae=Y===L.FLOAT?o.mallocFloat32(K):o.mallocUint8(K);var ue=s(ae,X,[X[2],X[2]*X[0],1]);se===L.FLOAT&&Y===L.UNSIGNED_BYTE?p(ue,U):a.assign(ue,U),ne?L.texImage2D(L.TEXTURE_2D,J,z,X[0],X[1],0,z,Y,ae.subarray(0,K)):L.texSubImage2D(L.TEXTURE_2D,J,N,B,X[0],X[1],z,Y,ae.subarray(0,K)),Y===L.FLOAT?o.freeFloat32(ae):o.freeUint8(ae)}}(P,m,C,k,this.format,this.type,this._mipLevels,A)}}},3056:function(y){"use strict";y.exports=function(u,i,s){i?i.bind():u.bindBuffer(u.ELEMENT_ARRAY_BUFFER,null);var a=0|u.getParameter(u.MAX_VERTEX_ATTRIBS);if(s){if(s.length>a)throw new Error("gl-vao: Too many vertex attributes");for(var o=0;o<s.length;++o){var l=s[o];if(l.buffer){var h=l.size||4,v=l.type||u.FLOAT,p=!!l.normalized,T=l.stride||0,_=l.offset||0;l.buffer.bind(),u.enableVertexAttribArray(o),u.vertexAttribPointer(o,h,v,p,T,_)}else{if("number"==typeof l)u.vertexAttrib1f(o,l);else if(1===l.length)u.vertexAttrib1f(o,l[0]);else if(2===l.length)u.vertexAttrib2f(o,l[0],l[1]);else if(3===l.length)u.vertexAttrib3f(o,l[0],l[1],l[2]);else{if(4!==l.length)throw new Error("gl-vao: Invalid vertex attribute");u.vertexAttrib4f(o,l[0],l[1],l[2],l[3])}u.disableVertexAttribArray(o)}}for(;o<a;++o)u.disableVertexAttribArray(o)}else for(u.bindBuffer(u.ARRAY_BUFFER,null),o=0;o<a;++o)u.disableVertexAttribArray(o)}},7220:function(y,u,i){"use strict";var s=i(3056);function a(o){this.gl=o,this._elements=null,this._attributes=null,this._elementsType=o.UNSIGNED_SHORT}a.prototype.bind=function(){s(this.gl,this._elements,this._attributes)},a.prototype.update=function(o,l,c){this._elements=l,this._attributes=o,this._elementsType=c||this.gl.UNSIGNED_SHORT},a.prototype.dispose=function(){},a.prototype.unbind=function(){},a.prototype.draw=function(o,l,c){c=c||0;var h=this.gl;this._elements?h.drawElements(o,l,this._elementsType,c):h.drawArrays(o,c,l)},y.exports=function(o){return new a(o)}},3778:function(y,u,i){"use strict";var s=i(3056);function a(l,c,h,v,p,T){this.location=l,this.dimension=c,this.a=h,this.b=v,this.c=p,this.d=T}function o(l,c,h){this.gl=l,this._ext=c,this.handle=h,this._attribs=[],this._useElements=!1,this._elementsType=l.UNSIGNED_SHORT}a.prototype.bind=function(l){switch(this.dimension){case 1:l.vertexAttrib1f(this.location,this.a);break;case 2:l.vertexAttrib2f(this.location,this.a,this.b);break;case 3:l.vertexAttrib3f(this.location,this.a,this.b,this.c);break;case 4:l.vertexAttrib4f(this.location,this.a,this.b,this.c,this.d)}},o.prototype.bind=function(){this._ext.bindVertexArrayOES(this.handle);for(var l=0;l<this._attribs.length;++l)this._attribs[l].bind(this.gl)},o.prototype.unbind=function(){this._ext.bindVertexArrayOES(null)},o.prototype.dispose=function(){this._ext.deleteVertexArrayOES(this.handle)},o.prototype.update=function(l,c,h){if(this.bind(),s(this.gl,c,l),this.unbind(),this._attribs.length=0,l)for(var v=0;v<l.length;++v){var p=l[v];"number"==typeof p?this._attribs.push(new a(v,1,p)):Array.isArray(p)&&this._attribs.push(new a(v,p.length,p[0],p[1],p[2],p[3]))}this._useElements=!!c,this._elementsType=h||this.gl.UNSIGNED_SHORT},o.prototype.draw=function(l,c,h){h=h||0;var v=this.gl;this._useElements?v.drawElements(l,c,this._elementsType,h):v.drawArrays(l,h,c)},y.exports=function(l,c){return new o(l,c,c.createVertexArrayOES())}},2944:function(y,u,i){"use strict";var s=i(3778),a=i(7220);function o(l){this.bindVertexArrayOES=l.bindVertexArray.bind(l),this.createVertexArrayOES=l.createVertexArray.bind(l),this.deleteVertexArrayOES=l.deleteVertexArray.bind(l)}y.exports=function(l,c,h,v){var p,T=l.createVertexArray?new o(l):l.getExtension("OES_vertex_array_object");return(p=T?s(l,T):a(l)).update(c,h,v),p}},2598:function(y){y.exports=function(u,i,s){return u[0]=i[0]+s[0],u[1]=i[1]+s[1],u[2]=i[2]+s[2],u}},5879:function(y,u,i){y.exports=function(l,c){var h=s(l[0],l[1],l[2]),v=s(c[0],c[1],c[2]);a(h,h),a(v,v);var p=o(h,v);return p>1?0:Math.acos(p)};var s=i(5415),a=i(899),o=i(9305)},8827:function(y){y.exports=function(u,i){return u[0]=Math.ceil(i[0]),u[1]=Math.ceil(i[1]),u[2]=Math.ceil(i[2]),u}},7622:function(y){y.exports=function(u){var i=new Float32Array(3);return i[0]=u[0],i[1]=u[1],i[2]=u[2],i}},8782:function(y){y.exports=function(u,i){return u[0]=i[0],u[1]=i[1],u[2]=i[2],u}},8501:function(y){y.exports=function(){var u=new Float32Array(3);return u[0]=0,u[1]=0,u[2]=0,u}},903:function(y){y.exports=function(u,i,s){var a=i[0],o=i[1],l=i[2],c=s[0],h=s[1],v=s[2];return u[0]=o*v-l*h,u[1]=l*c-a*v,u[2]=a*h-o*c,u}},5981:function(y,u,i){y.exports=i(8288)},8288:function(y){y.exports=function(u,i){var s=i[0]-u[0],a=i[1]-u[1],o=i[2]-u[2];return Math.sqrt(s*s+a*a+o*o)}},8629:function(y,u,i){y.exports=i(7979)},7979:function(y){y.exports=function(u,i,s){return u[0]=i[0]/s[0],u[1]=i[1]/s[1],u[2]=i[2]/s[2],u}},9305:function(y){y.exports=function(u,i){return u[0]*i[0]+u[1]*i[1]+u[2]*i[2]}},154:function(y){y.exports=1e-6},4932:function(y,u,i){y.exports=function(a,o){var l=a[0],c=a[1],h=a[2],v=o[0],p=o[1],T=o[2];return Math.abs(l-v)<=s*Math.max(1,Math.abs(l),Math.abs(v))&&Math.abs(c-p)<=s*Math.max(1,Math.abs(c),Math.abs(p))&&Math.abs(h-T)<=s*Math.max(1,Math.abs(h),Math.abs(T))};var s=i(154)},5777:function(y){y.exports=function(u,i){return u[0]===i[0]&&u[1]===i[1]&&u[2]===i[2]}},3306:function(y){y.exports=function(u,i){return u[0]=Math.floor(i[0]),u[1]=Math.floor(i[1]),u[2]=Math.floor(i[2]),u}},7447:function(y,u,i){y.exports=function(a,o,l,c,h,v){var p,T;for(o||(o=3),l||(l=0),T=c?Math.min(c*o+l,a.length):a.length,p=l;p<T;p+=o)s[0]=a[p],s[1]=a[p+1],s[2]=a[p+2],h(s,s,v),a[p]=s[0],a[p+1]=s[1],a[p+2]=s[2];return a};var s=i(8501)()},5415:function(y){y.exports=function(u,i,s){var a=new Float32Array(3);return a[0]=u,a[1]=i,a[2]=s,a}},2858:function(y,u,i){y.exports={EPSILON:i(154),create:i(8501),clone:i(7622),angle:i(5879),fromValues:i(5415),copy:i(8782),set:i(831),equals:i(4932),exactEquals:i(5777),add:i(2598),subtract:i(911),sub:i(8921),multiply:i(105),mul:i(5733),divide:i(7979),div:i(8629),min:i(3605),max:i(1716),floor:i(3306),ceil:i(8827),round:i(1624),scale:i(5685),scaleAndAdd:i(6722),distance:i(8288),dist:i(5981),squaredDistance:i(6403),sqrDist:i(5294),length:i(4693),len:i(1468),squaredLength:i(4337),sqrLen:i(3303),negate:i(435),inverse:i(2073),normalize:i(899),dot:i(9305),cross:i(903),lerp:i(1868),random:i(6660),transformMat4:i(3255),transformMat3:i(9908),transformQuat:i(6568),rotateX:i(392),rotateY:i(3222),rotateZ:i(3388),forEach:i(7447)}},2073:function(y){y.exports=function(u,i){return u[0]=1/i[0],u[1]=1/i[1],u[2]=1/i[2],u}},1468:function(y,u,i){y.exports=i(4693)},4693:function(y){y.exports=function(u){var i=u[0],s=u[1],a=u[2];return Math.sqrt(i*i+s*s+a*a)}},1868:function(y){y.exports=function(u,i,s,a){var o=i[0],l=i[1],c=i[2];return u[0]=o+a*(s[0]-o),u[1]=l+a*(s[1]-l),u[2]=c+a*(s[2]-c),u}},1716:function(y){y.exports=function(u,i,s){return u[0]=Math.max(i[0],s[0]),u[1]=Math.max(i[1],s[1]),u[2]=Math.max(i[2],s[2]),u}},3605:function(y){y.exports=function(u,i,s){return u[0]=Math.min(i[0],s[0]),u[1]=Math.min(i[1],s[1]),u[2]=Math.min(i[2],s[2]),u}},5733:function(y,u,i){y.exports=i(105)},105:function(y){y.exports=function(u,i,s){return u[0]=i[0]*s[0],u[1]=i[1]*s[1],u[2]=i[2]*s[2],u}},435:function(y){y.exports=function(u,i){return u[0]=-i[0],u[1]=-i[1],u[2]=-i[2],u}},899:function(y){y.exports=function(u,i){var s=i[0],a=i[1],o=i[2],l=s*s+a*a+o*o;return l>0&&(l=1/Math.sqrt(l),u[0]=i[0]*l,u[1]=i[1]*l,u[2]=i[2]*l),u}},6660:function(y){y.exports=function(u,i){i=i||1;var s=2*Math.random()*Math.PI,a=2*Math.random()-1,o=Math.sqrt(1-a*a)*i;return u[0]=Math.cos(s)*o,u[1]=Math.sin(s)*o,u[2]=a*i,u}},392:function(y){y.exports=function(u,i,s,a){var o=s[1],l=s[2],c=i[1]-o,h=i[2]-l,v=Math.sin(a),p=Math.cos(a);return u[0]=i[0],u[1]=o+c*p-h*v,u[2]=l+c*v+h*p,u}},3222:function(y){y.exports=function(u,i,s,a){var o=s[0],l=s[2],c=i[0]-o,h=i[2]-l,v=Math.sin(a),p=Math.cos(a);return u[0]=o+h*v+c*p,u[1]=i[1],u[2]=l+h*p-c*v,u}},3388:function(y){y.exports=function(u,i,s,a){var o=s[0],l=s[1],c=i[0]-o,h=i[1]-l,v=Math.sin(a),p=Math.cos(a);return u[0]=o+c*p-h*v,u[1]=l+c*v+h*p,u[2]=i[2],u}},1624:function(y){y.exports=function(u,i){return u[0]=Math.round(i[0]),u[1]=Math.round(i[1]),u[2]=Math.round(i[2]),u}},5685:function(y){y.exports=function(u,i,s){return u[0]=i[0]*s,u[1]=i[1]*s,u[2]=i[2]*s,u}},6722:function(y){y.exports=function(u,i,s,a){return u[0]=i[0]+s[0]*a,u[1]=i[1]+s[1]*a,u[2]=i[2]+s[2]*a,u}},831:function(y){y.exports=function(u,i,s,a){return u[0]=i,u[1]=s,u[2]=a,u}},5294:function(y,u,i){y.exports=i(6403)},3303:function(y,u,i){y.exports=i(4337)},6403:function(y){y.exports=function(u,i){var s=i[0]-u[0],a=i[1]-u[1],o=i[2]-u[2];return s*s+a*a+o*o}},4337:function(y){y.exports=function(u){var i=u[0],s=u[1],a=u[2];return i*i+s*s+a*a}},8921:function(y,u,i){y.exports=i(911)},911:function(y){y.exports=function(u,i,s){return u[0]=i[0]-s[0],u[1]=i[1]-s[1],u[2]=i[2]-s[2],u}},9908:function(y){y.exports=function(u,i,s){var a=i[0],o=i[1],l=i[2];return u[0]=a*s[0]+o*s[3]+l*s[6],u[1]=a*s[1]+o*s[4]+l*s[7],u[2]=a*s[2]+o*s[5]+l*s[8],u}},3255:function(y){y.exports=function(u,i,s){var a=i[0],o=i[1],l=i[2],c=s[3]*a+s[7]*o+s[11]*l+s[15];return u[0]=(s[0]*a+s[4]*o+s[8]*l+s[12])/(c=c||1),u[1]=(s[1]*a+s[5]*o+s[9]*l+s[13])/c,u[2]=(s[2]*a+s[6]*o+s[10]*l+s[14])/c,u}},6568:function(y){y.exports=function(u,i,s){var a=i[0],o=i[1],l=i[2],c=s[0],h=s[1],v=s[2],p=s[3],T=p*a+h*l-v*o,_=p*o+v*a-c*l,g=p*l+c*o-h*a,w=-c*a-h*o-v*l;return u[0]=T*p+w*-c+_*-v-g*-h,u[1]=_*p+w*-h+g*-c-T*-v,u[2]=g*p+w*-v+T*-h-_*-c,u}},3433:function(y){y.exports=function(u,i,s){return u[0]=i[0]+s[0],u[1]=i[1]+s[1],u[2]=i[2]+s[2],u[3]=i[3]+s[3],u}},1413:function(y){y.exports=function(u){var i=new Float32Array(4);return i[0]=u[0],i[1]=u[1],i[2]=u[2],i[3]=u[3],i}},3470:function(y){y.exports=function(u,i){return u[0]=i[0],u[1]=i[1],u[2]=i[2],u[3]=i[3],u}},5313:function(y){y.exports=function(){var u=new Float32Array(4);return u[0]=0,u[1]=0,u[2]=0,u[3]=0,u}},5446:function(y){y.exports=function(u,i){var s=i[0]-u[0],a=i[1]-u[1],o=i[2]-u[2],l=i[3]-u[3];return Math.sqrt(s*s+a*a+o*o+l*l)}},205:function(y){y.exports=function(u,i,s){return u[0]=i[0]/s[0],u[1]=i[1]/s[1],u[2]=i[2]/s[2],u[3]=i[3]/s[3],u}},4242:function(y){y.exports=function(u,i){return u[0]*i[0]+u[1]*i[1]+u[2]*i[2]+u[3]*i[3]}},5680:function(y){y.exports=function(u,i,s,a){var o=new Float32Array(4);return o[0]=u,o[1]=i,o[2]=s,o[3]=a,o}},4020:function(y,u,i){y.exports={create:i(5313),clone:i(1413),fromValues:i(5680),copy:i(3470),set:i(6453),add:i(3433),subtract:i(2705),multiply:i(746),divide:i(205),min:i(2170),max:i(3030),scale:i(5510),scaleAndAdd:i(4224),distance:i(5446),squaredDistance:i(1542),length:i(8177),squaredLength:i(9037),negate:i(6459),inverse:i(8057),normalize:i(381),dot:i(4242),lerp:i(8746),random:i(3770),transformMat4:i(6342),transformQuat:i(5022)}},8057:function(y){y.exports=function(u,i){return u[0]=1/i[0],u[1]=1/i[1],u[2]=1/i[2],u[3]=1/i[3],u}},8177:function(y){y.exports=function(u){var i=u[0],s=u[1],a=u[2],o=u[3];return Math.sqrt(i*i+s*s+a*a+o*o)}},8746:function(y){y.exports=function(u,i,s,a){var o=i[0],l=i[1],c=i[2],h=i[3];return u[0]=o+a*(s[0]-o),u[1]=l+a*(s[1]-l),u[2]=c+a*(s[2]-c),u[3]=h+a*(s[3]-h),u}},3030:function(y){y.exports=function(u,i,s){return u[0]=Math.max(i[0],s[0]),u[1]=Math.max(i[1],s[1]),u[2]=Math.max(i[2],s[2]),u[3]=Math.max(i[3],s[3]),u}},2170:function(y){y.exports=function(u,i,s){return u[0]=Math.min(i[0],s[0]),u[1]=Math.min(i[1],s[1]),u[2]=Math.min(i[2],s[2]),u[3]=Math.min(i[3],s[3]),u}},746:function(y){y.exports=function(u,i,s){return u[0]=i[0]*s[0],u[1]=i[1]*s[1],u[2]=i[2]*s[2],u[3]=i[3]*s[3],u}},6459:function(y){y.exports=function(u,i){return u[0]=-i[0],u[1]=-i[1],u[2]=-i[2],u[3]=-i[3],u}},381:function(y){y.exports=function(u,i){var s=i[0],a=i[1],o=i[2],l=i[3],c=s*s+a*a+o*o+l*l;return c>0&&(c=1/Math.sqrt(c),u[0]=s*c,u[1]=a*c,u[2]=o*c,u[3]=l*c),u}},3770:function(y,u,i){var s=i(381),a=i(5510);y.exports=function(o,l){return l=l||1,o[0]=Math.random(),o[1]=Math.random(),o[2]=Math.random(),o[3]=Math.random(),s(o,o),a(o,o,l),o}},5510:function(y){y.exports=function(u,i,s){return u[0]=i[0]*s,u[1]=i[1]*s,u[2]=i[2]*s,u[3]=i[3]*s,u}},4224:function(y){y.exports=function(u,i,s,a){return u[0]=i[0]+s[0]*a,u[1]=i[1]+s[1]*a,u[2]=i[2]+s[2]*a,u[3]=i[3]+s[3]*a,u}},6453:function(y){y.exports=function(u,i,s,a,o){return u[0]=i,u[1]=s,u[2]=a,u[3]=o,u}},1542:function(y){y.exports=function(u,i){var s=i[0]-u[0],a=i[1]-u[1],o=i[2]-u[2],l=i[3]-u[3];return s*s+a*a+o*o+l*l}},9037:function(y){y.exports=function(u){var i=u[0],s=u[1],a=u[2],o=u[3];return i*i+s*s+a*a+o*o}},2705:function(y){y.exports=function(u,i,s){return u[0]=i[0]-s[0],u[1]=i[1]-s[1],u[2]=i[2]-s[2],u[3]=i[3]-s[3],u}},6342:function(y){y.exports=function(u,i,s){var a=i[0],o=i[1],l=i[2],c=i[3];return u[0]=s[0]*a+s[4]*o+s[8]*l+s[12]*c,u[1]=s[1]*a+s[5]*o+s[9]*l+s[13]*c,u[2]=s[2]*a+s[6]*o+s[10]*l+s[14]*c,u[3]=s[3]*a+s[7]*o+s[11]*l+s[15]*c,u}},5022:function(y){y.exports=function(u,i,s){var a=i[0],o=i[1],l=i[2],c=s[0],h=s[1],v=s[2],p=s[3],T=p*a+h*l-v*o,_=p*o+v*a-c*l,g=p*l+c*o-h*a,w=-c*a-h*o-v*l;return u[0]=T*p+w*-c+_*-v-g*-h,u[1]=_*p+w*-h+g*-c-T*-v,u[2]=g*p+w*-v+T*-h-_*-c,u[3]=i[3],u}},9365:function(y,u,i){var s=i(8096),a=i(7896);y.exports=function(o){for(var l=Array.isArray(o)?o:s(o),c=0;c<l.length;c++){var h=l[c];if("preprocessor"===h.type){var v=h.data.match(/\#define\s+SHADER_NAME(_B64)?\s+(.+)$/);if(v&&v[2]){var T=v[2];return(v[1]?a(T):T).trim()}}}}},3193:function(y,u,i){y.exports=function(L){var N,B,J,z=0,Y=0,q=h,U=[],Z=[],X=1,se=0,re=0,ee=!1,K=!1,ne="",ae=o,ue=s;"300 es"===(L=L||{}).version&&(ae=c,ue=l);var he={},pe={};for(z=0;z<ae.length;z++)he[ae[z]]=!0;for(z=0;z<ue.length;z++)pe[ue[z]]=!0;return function(ce){return Z=[],null!==ce?function(Ae){var Ne;for(z=0,Ae.toString&&(Ae=Ae.toString()),ne+=Ae.replace(/\r\n/g,"\n"),J=ne.length;N=ne[z],z<J;){switch(Ne=z,q){case p:z="/"===N&&"*"===B?(U.push(N),ge(U.join("")),q=h,z+1):(U.push(N),B=N,z+1);break;case T:case _:z="\r"!==N&&"\n"!==N||"\\"===B?(U.push(N),B=N,z+1):(ge(U.join("")),q=h,z);break;case g:z=we();break;case w:z="."===N||/[eE]/.test(N)?(U.push(N),q=x,B=N,z+1):"x"===N&&1===U.length&&"0"===U[0]?(q=P,U.push(N),B=N,z+1):/[^\d]/.test(N)?(ge(U.join("")),q=h,z):(U.push(N),B=N,z+1);break;case P:z=/[^a-fA-F0-9]/.test(N)?(ge(U.join("")),q=h,z):(U.push(N),B=N,z+1);break;case x:"f"===N&&(U.push(N),B=N,z+=1),z=/[eE]/.test(N)?(U.push(N),B=N,z+1):("-"!==N&&"+"!==N||!/[eE]/.test(B))&&/[^\d]/.test(N)?(ge(U.join("")),q=h,z):(U.push(N),B=N,z+1);break;case v:z=de();break;case C:z=/[^\s]/g.test(N)?(ge(U.join("")),q=h,z):(U.push(N),B=N,z+1);break;case h:U=U.length?[]:U,z="/"===B&&"*"===N?(re=Y+z-1,q=p,B=N,z+1):"/"===B&&"/"===N?(re=Y+z-1,q=T,B=N,z+1):"#"===N?(q=_,re=Y+z,z):/\s/.test(N)?(q=C,re=Y+z,z):(ee=/\d/.test(N),K=/[^\w_]/.test(N),re=Y+z,q=ee?w:K?g:v,z)}Ne!==z&&("\n"===ne[Ne]?(se=0,++X):++se)}return Y+=z,ne=ne.slice(z),Z}(ce):(U.length&&ge(U.join("")),q=k,ge("(eof)"),Z)};function ge(ce){ce.length&&Z.push({type:R[q],data:ce,position:re,line:X,column:se})}function we(){if("."===B&&/\d/.test(N))return q=x,z;if("/"===B&&"*"===N)return q=p,z;if("/"===B&&"/"===N)return q=T,z;if("."===N&&U.length){for(;ze(U););return q=x,z}if(";"===N||")"===N||"("===N){if(U.length)for(;ze(U););return ge(N),q=h,z+1}var ce=2===U.length&&"="!==N;if(/[\w_\d\s]/.test(N)||ce){for(;ze(U););return q=h,z}return U.push(N),B=N,z+1}function ze(ce){for(var Ae,Ne,De=0;;){if(Ae=a.indexOf(ce.slice(0,ce.length+De).join("")),Ne=a[Ae],-1===Ae){if(De--+ce.length>0)continue;Ne=ce.slice(0,1).join("")}return ge(Ne),re+=Ne.length,(U=U.slice(Ne.length)).length}}function de(){if(/[^\d\w_]/.test(N)){var ce=U.join("");return q=pe[ce]?m:he[ce]?A:b,ge(U.join("")),q=h,z}return U.push(N),B=N,z+1}};var s=i(399),a=i(9746),o=i(9525),l=i(9458),c=i(3585),h=999,v=9999,p=0,T=1,_=2,g=3,w=4,x=5,b=6,A=7,m=8,C=9,k=10,P=11,R=["block-comment","line-comment","preprocessor","operator","integer","float","ident","builtin","keyword","whitespace","eof","integer"]},3585:function(y,u,i){var s=i(9525);s=s.slice().filter(function(a){return!/^(gl\_|texture)/.test(a)}),y.exports=s.concat(["gl_VertexID","gl_InstanceID","gl_Position","gl_PointSize","gl_FragCoord","gl_FrontFacing","gl_FragDepth","gl_PointCoord","gl_MaxVertexAttribs","gl_MaxVertexUniformVectors","gl_MaxVertexOutputVectors","gl_MaxFragmentInputVectors","gl_MaxVertexTextureImageUnits","gl_MaxCombinedTextureImageUnits","gl_MaxTextureImageUnits","gl_MaxFragmentUniformVectors","gl_MaxDrawBuffers","gl_MinProgramTexelOffset","gl_MaxProgramTexelOffset","gl_DepthRangeParameters","gl_DepthRange","trunc","round","roundEven","isnan","isinf","floatBitsToInt","floatBitsToUint","intBitsToFloat","uintBitsToFloat","packSnorm2x16","unpackSnorm2x16","packUnorm2x16","unpackUnorm2x16","packHalf2x16","unpackHalf2x16","outerProduct","transpose","determinant","inverse","texture","textureSize","textureProj","textureLod","textureOffset","texelFetch","texelFetchOffset","textureProjOffset","textureLodOffset","textureProjLod","textureProjLodOffset","textureGrad","textureGradOffset","textureProjGrad","textureProjGradOffset"])},9525:function(y){y.exports=["abs","acos","all","any","asin","atan","ceil","clamp","cos","cross","dFdx","dFdy","degrees","distance","dot","equal","exp","exp2","faceforward","floor","fract","gl_BackColor","gl_BackLightModelProduct","gl_BackLightProduct","gl_BackMaterial","gl_BackSecondaryColor","gl_ClipPlane","gl_ClipVertex","gl_Color","gl_DepthRange","gl_DepthRangeParameters","gl_EyePlaneQ","gl_EyePlaneR","gl_EyePlaneS","gl_EyePlaneT","gl_Fog","gl_FogCoord","gl_FogFragCoord","gl_FogParameters","gl_FragColor","gl_FragCoord","gl_FragData","gl_FragDepth","gl_FragDepthEXT","gl_FrontColor","gl_FrontFacing","gl_FrontLightModelProduct","gl_FrontLightProduct","gl_FrontMaterial","gl_FrontSecondaryColor","gl_LightModel","gl_LightModelParameters","gl_LightModelProducts","gl_LightProducts","gl_LightSource","gl_LightSourceParameters","gl_MaterialParameters","gl_MaxClipPlanes","gl_MaxCombinedTextureImageUnits","gl_MaxDrawBuffers","gl_MaxFragmentUniformComponents","gl_MaxLights","gl_MaxTextureCoords","gl_MaxTextureImageUnits","gl_MaxTextureUnits","gl_MaxVaryingFloats","gl_MaxVertexAttribs","gl_MaxVertexTextureImageUnits","gl_MaxVertexUniformComponents","gl_ModelViewMatrix","gl_ModelViewMatrixInverse","gl_ModelViewMatrixInverseTranspose","gl_ModelViewMatrixTranspose","gl_ModelViewProjectionMatrix","gl_ModelViewProjectionMatrixInverse","gl_ModelViewProjectionMatrixInverseTranspose","gl_ModelViewProjectionMatrixTranspose","gl_MultiTexCoord0","gl_MultiTexCoord1","gl_MultiTexCoord2","gl_MultiTexCoord3","gl_MultiTexCoord4","gl_MultiTexCoord5","gl_MultiTexCoord6","gl_MultiTexCoord7","gl_Normal","gl_NormalMatrix","gl_NormalScale","gl_ObjectPlaneQ","gl_ObjectPlaneR","gl_ObjectPlaneS","gl_ObjectPlaneT","gl_Point","gl_PointCoord","gl_PointParameters","gl_PointSize","gl_Position","gl_ProjectionMatrix","gl_ProjectionMatrixInverse","gl_ProjectionMatrixInverseTranspose","gl_ProjectionMatrixTranspose","gl_SecondaryColor","gl_TexCoord","gl_TextureEnvColor","gl_TextureMatrix","gl_TextureMatrixInverse","gl_TextureMatrixInverseTranspose","gl_TextureMatrixTranspose","gl_Vertex","greaterThan","greaterThanEqual","inversesqrt","length","lessThan","lessThanEqual","log","log2","matrixCompMult","max","min","mix","mod","normalize","not","notEqual","pow","radians","reflect","refract","sign","sin","smoothstep","sqrt","step","tan","texture2D","texture2DLod","texture2DProj","texture2DProjLod","textureCube","textureCubeLod","texture2DLodEXT","texture2DProjLodEXT","textureCubeLodEXT","texture2DGradEXT","texture2DProjGradEXT","textureCubeGradEXT"]},9458:function(y,u,i){var s=i(399);y.exports=s.slice().concat(["layout","centroid","smooth","case","mat2x2","mat2x3","mat2x4","mat3x2","mat3x3","mat3x4","mat4x2","mat4x3","mat4x4","uvec2","uvec3","uvec4","samplerCubeShadow","sampler2DArray","sampler2DArrayShadow","isampler2D","isampler3D","isamplerCube","isampler2DArray","usampler2D","usampler3D","usamplerCube","usampler2DArray","coherent","restrict","readonly","writeonly","resource","atomic_uint","noperspective","patch","sample","subroutine","common","partition","active","filter","image1D","image2D","image3D","imageCube","iimage1D","iimage2D","iimage3D","iimageCube","uimage1D","uimage2D","uimage3D","uimageCube","image1DArray","image2DArray","iimage1DArray","iimage2DArray","uimage1DArray","uimage2DArray","image1DShadow","image2DShadow","image1DArrayShadow","image2DArrayShadow","imageBuffer","iimageBuffer","uimageBuffer","sampler1DArray","sampler1DArrayShadow","isampler1D","isampler1DArray","usampler1D","usampler1DArray","isampler2DRect","usampler2DRect","samplerBuffer","isamplerBuffer","usamplerBuffer","sampler2DMS","isampler2DMS","usampler2DMS","sampler2DMSArray","isampler2DMSArray","usampler2DMSArray"])},399:function(y){y.exports=["precision","highp","mediump","lowp","attribute","const","uniform","varying","break","continue","do","for","while","if","else","in","out","inout","float","int","uint","void","bool","true","false","discard","return","mat2","mat3","mat4","vec2","vec3","vec4","ivec2","ivec3","ivec4","bvec2","bvec3","bvec4","sampler1D","sampler2D","sampler3D","samplerCube","sampler1DShadow","sampler2DShadow","struct","asm","class","union","enum","typedef","template","this","packed","goto","switch","default","inline","noinline","volatile","public","static","extern","external","interface","long","short","double","half","fixed","unsigned","input","output","hvec2","hvec3","hvec4","dvec2","dvec3","dvec4","fvec2","fvec3","fvec4","sampler2DRect","sampler3DRect","sampler2DRectShadow","sizeof","cast","namespace","using"]},9746:function(y){y.exports=["<<=",">>=","++","--","<<",">>","<=",">=","==","!=","&&","||","+=","-=","*=","/=","%=","&=","^^","^=","|=","(",")","[","]",".","!","~","*","/","%","+","-","<",">","&","^","|","?",":","=",",",";","{","}"]},8096:function(y,u,i){var s=i(3193);y.exports=function(a,o){var l=s(o),c=[];return(c=c.concat(l(a))).concat(l(null))}},6832:function(y){y.exports=function(u){"string"==typeof u&&(u=[u]);for(var i=[].slice.call(arguments,1),s=[],a=0;a<u.length-1;a++)s.push(u[a],i[a]||"");return s.push(u[a]),s.join("")}},5233:function(y,u,i){"use strict";var s=i(4846);y.exports=s&&function(){var a=!1;try{var o=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("test",null,o),window.removeEventListener("test",null,o)}catch{a=!1}return a}()},2183:function(y,u,i){"use strict";y.exports=function(T,_){var g=T.length;if(0===g)throw new Error("Must have at least d+1 points");var w=T[0].length;if(g<=w)throw new Error("Must input at least d+1 points");var x=T.slice(0,w+1),b=s.apply(void 0,x);if(0===b)throw new Error("Input not in general position");for(var A=new Array(w+1),m=0;m<=w;++m)A[m]=m;b<0&&(A[0]=1,A[1]=0);var C=new o(A,new Array(w+1),!1),k=C.adjacent,P=new Array(w+2);for(m=0;m<=w;++m){for(var R=A.slice(),L=0;L<=w;++L)L===m&&(R[L]=-1);var N=R[0];R[0]=R[1],R[1]=N;var B=new o(R,new Array(w+1),!0);k[m]=B,P[m]=B}for(P[w+1]=C,m=0;m<=w;++m){R=k[m].vertices;var J=k[m].adjacent;for(L=0;L<=w;++L){var z=R[L];if(z<0)J[L]=C;else for(var Y=0;Y<=w;++Y)k[Y].vertices.indexOf(z)<0&&(J[L]=k[Y])}}var q=new v(w,x,P),U=!!_;for(m=w+1;m<g;++m)q.insert(T[m],U);return q.boundary()};var s=i(417),a=i(8211).H;function o(T,_,g){this.vertices=T,this.adjacent=_,this.boundary=g,this.lastVisited=-1}function l(T,_,g){this.vertices=T,this.cell=_,this.index=g}function c(T,_){return a(T.vertices,_.vertices)}o.prototype.flip=function(){var T=this.vertices[0];this.vertices[0]=this.vertices[1],this.vertices[1]=T;var _=this.adjacent[0];this.adjacent[0]=this.adjacent[1],this.adjacent[1]=_};var h=[];function v(T,_,g){this.dimension=T,this.vertices=_,this.simplices=g,this.interior=g.filter(function(A){return!A.boundary}),this.tuple=new Array(T+1);for(var w=0;w<=T;++w)this.tuple[w]=this.vertices[w];var x,A,b=h[T];b||(b=h[T]=((x=s[T+1])||(x=s),A=x,function(){return A.apply(this,this.tuple)})),this.orient=b}var p=v.prototype;p.handleBoundaryDegeneracy=function(T,_){var g=this.dimension,w=this.vertices.length-1,x=this.tuple,b=this.vertices,A=[T];for(T.lastVisited=-w;A.length>0;)for(var m=(T=A.pop()).adjacent,C=0;C<=g;++C){var k=m[C];if(k.boundary&&!(k.lastVisited<=-w)){for(var P=k.vertices,R=0;R<=g;++R){var L=P[R];x[R]=L<0?_:b[L]}var N=this.orient();if(N>0)return k;k.lastVisited=-w,0===N&&A.push(k)}}return null},p.walk=function(T,_){var g=this.vertices.length-1,w=this.dimension,x=this.vertices,b=this.tuple,A=_?this.interior.length*Math.random()|0:this.interior.length-1,m=this.interior[A];e:for(;!m.boundary;){for(var C=m.vertices,k=m.adjacent,P=0;P<=w;++P)b[P]=x[C[P]];for(m.lastVisited=g,P=0;P<=w;++P){var R=k[P];if(!(R.lastVisited>=g)){var L=b[P];b[P]=T;var N=this.orient();if(b[P]=L,N<0){m=R;continue e}R.lastVisited=R.boundary?-g:g}}return}return m},p.addPeaks=function(T,_){var g=this.vertices.length-1,w=this.dimension,x=this.vertices,b=this.tuple,A=this.interior,m=this.simplices,C=[_];_.lastVisited=g,_.vertices[_.vertices.indexOf(-1)]=g,_.boundary=!1,A.push(_);for(var k=[];C.length>0;){var P=(_=C.pop()).vertices,R=_.adjacent,L=P.indexOf(g);if(!(L<0))for(var N=0;N<=w;++N)if(N!==L){var B=R[N];if(B.boundary&&!(B.lastVisited>=g)){var J=B.vertices;if(B.lastVisited!==-g){for(var z=0,Y=0;Y<=w;++Y)J[Y]<0?(z=Y,b[Y]=T):b[Y]=x[J[Y]];if(this.orient()>0){J[z]=g,B.boundary=!1,A.push(B),C.push(B),B.lastVisited=g;continue}B.lastVisited=-g}var q=B.adjacent,U=P.slice(),Z=R.slice(),X=new o(U,Z,!0);m.push(X);var se=q.indexOf(_);if(!(se<0))for(q[se]=X,Z[L]=B,U[N]=-1,Z[N]=_,R[N]=X,X.flip(),Y=0;Y<=w;++Y){var re=U[Y];if(!(re<0||re===g)){for(var ee=new Array(w-1),K=0,ne=0;ne<=w;++ne){var ae=U[ne];ae<0||ne===Y||(ee[K++]=ae)}k.push(new l(ee,X,Y))}}}}}for(k.sort(c),N=0;N+1<k.length;N+=2){var ue=k[N],he=k[N+1];ue.index<0||he.index<0||(ue.cell.adjacent[ue.index]=he.cell,he.cell.adjacent[he.index]=ue.cell)}},p.insert=function(T,_){var g=this.vertices;g.push(T);var w=this.walk(T,_);if(w){for(var x=this.dimension,b=this.tuple,A=0;A<=x;++A){var m=w.vertices[A];b[A]=m<0?T:g[m]}var C=this.orient(b);C<0||(0!==C||(w=this.handleBoundaryDegeneracy(w,T)))&&this.addPeaks(T,w)}},p.boundary=function(){for(var T=this.dimension,_=[],g=this.simplices,w=g.length,x=0;x<w;++x){var b=g[x];if(b.boundary){for(var A=new Array(T),m=b.vertices,C=0,k=0,P=0;P<=T;++P)m[P]>=0?A[C++]=m[P]:k=1&P;if(k===(1&T)){var R=A[0];A[0]=A[1],A[1]=R}_.push(A)}}return _}},9014:function(y,u,i){"use strict";var s=i(5070);function a(C,k,P,R,L){this.mid=C,this.left=k,this.right=P,this.leftPoints=R,this.rightPoints=L,this.count=(k?k.count:0)+(P?P.count:0)+R.length}y.exports=function(C){return new A(C&&0!==C.length?b(C):null)};var o=a.prototype;function l(C,k){C.mid=k.mid,C.left=k.left,C.right=k.right,C.leftPoints=k.leftPoints,C.rightPoints=k.rightPoints,C.count=k.count}function c(C,k){var P=b(k);C.mid=P.mid,C.left=P.left,C.right=P.right,C.leftPoints=P.leftPoints,C.rightPoints=P.rightPoints,C.count=P.count}function h(C,k){var P=C.intervals([]);P.push(k),c(C,P)}function v(C,k){var P=C.intervals([]),R=P.indexOf(k);return R<0?0:(P.splice(R,1),c(C,P),1)}function p(C,k,P){for(var R=0;R<C.length&&C[R][0]<=k;++R){var L=P(C[R]);if(L)return L}}function T(C,k,P){for(var R=C.length-1;R>=0&&C[R][1]>=k;--R){var L=P(C[R]);if(L)return L}}function _(C,k){for(var P=0;P<C.length;++P){var R=k(C[P]);if(R)return R}}function g(C,k){return C-k}function w(C,k){return C[0]-k[0]||C[1]-k[1]}function x(C,k){return C[1]-k[1]||C[0]-k[0]}function b(C){if(0===C.length)return null;for(var k=[],P=0;P<C.length;++P)k.push(C[P][0],C[P][1]);k.sort(g);var R=k[k.length>>1],L=[],N=[],B=[];for(P=0;P<C.length;++P){var J=C[P];J[1]<R?L.push(J):R<J[0]?N.push(J):B.push(J)}var z=B,Y=B.slice();return z.sort(w),Y.sort(x),new a(R,b(L),b(N),z,Y)}function A(C){this.root=C}o.intervals=function(C){return C.push.apply(C,this.leftPoints),this.left&&this.left.intervals(C),this.right&&this.right.intervals(C),C},o.insert=function(C){var k=this.count-this.leftPoints.length;if(this.count+=1,C[1]<this.mid)this.left?4*(this.left.count+1)>3*(k+1)?h(this,C):this.left.insert(C):this.left=b([C]);else if(C[0]>this.mid)this.right?4*(this.right.count+1)>3*(k+1)?h(this,C):this.right.insert(C):this.right=b([C]);else{var P=s.ge(this.leftPoints,C,w),R=s.ge(this.rightPoints,C,x);this.leftPoints.splice(P,0,C),this.rightPoints.splice(R,0,C)}},o.remove=function(C){var k=this.count-this.leftPoints;if(C[1]<this.mid)return this.left?4*(this.right?this.right.count:0)>3*(k-1)?v(this,C):2===(N=this.left.remove(C))?(this.left=null,this.count-=1,1):(1===N&&(this.count-=1),N):0;if(C[0]>this.mid)return this.right?4*(this.left?this.left.count:0)>3*(k-1)?v(this,C):2===(N=this.right.remove(C))?(this.right=null,this.count-=1,1):(1===N&&(this.count-=1),N):0;if(1===this.count)return this.leftPoints[0]===C?2:0;if(1===this.leftPoints.length&&this.leftPoints[0]===C){if(this.left&&this.right){for(var P=this,R=this.left;R.right;)P=R,R=R.right;if(P===this)R.right=this.right;else{var L=this.left,N=this.right;P.count-=R.count,P.right=R.left,R.left=L,R.right=N}l(this,R),this.count=(this.left?this.left.count:0)+(this.right?this.right.count:0)+this.leftPoints.length}else l(this,this.left?this.left:this.right);return 1}for(L=s.ge(this.leftPoints,C,w);L<this.leftPoints.length&&this.leftPoints[L][0]===C[0];++L)if(this.leftPoints[L]===C)for(this.count-=1,this.leftPoints.splice(L,1),N=s.ge(this.rightPoints,C,x);N<this.rightPoints.length&&this.rightPoints[N][1]===C[1];++N)if(this.rightPoints[N]===C)return this.rightPoints.splice(N,1),1;return 0},o.queryPoint=function(C,k){return C<this.mid?this.left&&(P=this.left.queryPoint(C,k))?P:p(this.leftPoints,C,k):C>this.mid?this.right&&(P=this.right.queryPoint(C,k))?P:T(this.rightPoints,C,k):_(this.leftPoints,k);var P},o.queryInterval=function(C,k,P){var R;return C<this.mid&&this.left&&(R=this.left.queryInterval(C,k,P))||k>this.mid&&this.right&&(R=this.right.queryInterval(C,k,P))?R:k<this.mid?p(this.leftPoints,k,P):C>this.mid?T(this.rightPoints,C,P):_(this.leftPoints,P)};var m=A.prototype;m.insert=function(C){this.root?this.root.insert(C):this.root=new a(C[0],null,null,[C],[C])},m.remove=function(C){if(this.root){var k=this.root.remove(C);return 2===k&&(this.root=null),0!==k}return!1},m.queryPoint=function(C,k){if(this.root)return this.root.queryPoint(C,k)},m.queryInterval=function(C,k,P){if(C<=k&&this.root)return this.root.queryInterval(C,k,P)},Object.defineProperty(m,"count",{get:function(){return this.root?this.root.count:0}}),Object.defineProperty(m,"intervals",{get:function(){return this.root?this.root.intervals([]):[]}})},9560:function(y){"use strict";y.exports=function(u){for(var i=new Array(u),s=0;s<u;++s)i[s]=s;return i}},4846:function(y){y.exports=!0},4780:function(y){function u(i){return!!i.constructor&&"function"==typeof i.constructor.isBuffer&&i.constructor.isBuffer(i)}y.exports=function(i){return null!=i&&(u(i)||"function"==typeof(s=i).readFloatLE&&"function"==typeof s.slice&&u(s.slice(0,0))||!!i._isBuffer);var s}},3596:function(y){"use strict";y.exports=function(u){for(var i,s=u.length,a=0;a<s;a++)if(((i=u.charCodeAt(a))<9||i>13)&&32!==i&&133!==i&&160!==i&&5760!==i&&6158!==i&&(i<8192||i>8205)&&8232!==i&&8233!==i&&8239!==i&&8287!==i&&8288!==i&&12288!==i&&65279!==i)return!1;return!0}},3578:function(y){y.exports=function(u,i,s){return u*(1-s)+i*s}},7191:function(y,u,i){var s=i(4690),a=i(9823),o=i(7332),l=i(7787),c=i(7437),h=i(2142),v={length:i(4693),normalize:i(899),dot:i(9305),cross:i(903)},p=a(),T=a(),_=[0,0,0,0],g=[[0,0,0],[0,0,0],[0,0,0]],w=[0,0,0];function x(b,A,m,C,k){b[0]=A[0]*C+m[0]*k,b[1]=A[1]*C+m[1]*k,b[2]=A[2]*C+m[2]*k}y.exports=function(b,A,m,C,k,P){if(A||(A=[0,0,0]),m||(m=[0,0,0]),C||(C=[0,0,0]),k||(k=[0,0,0,1]),P||(P=[0,0,0,1]),!s(p,b)||(o(T,p),T[3]=0,T[7]=0,T[11]=0,T[15]=1,Math.abs(l(T)<1e-8)))return!1;var R,L,N,B,J,z,Y,ne,ae,q=p[3],U=p[7],Z=p[11],X=p[12],se=p[13],re=p[14],ee=p[15];if(0!==q||0!==U||0!==Z){if(_[0]=q,_[1]=U,_[2]=Z,_[3]=ee,!c(T,T))return!1;h(T,T),B=(L=_)[0],(R=k)[0]=(N=T)[0]*B+N[4]*(J=L[1])+N[8]*(z=L[2])+N[12]*(Y=L[3]),R[1]=N[1]*B+N[5]*J+N[9]*z+N[13]*Y,R[2]=N[2]*B+N[6]*J+N[10]*z+N[14]*Y,R[3]=N[3]*B+N[7]*J+N[11]*z+N[15]*Y}else k[0]=k[1]=k[2]=0,k[3]=1;if(A[0]=X,A[1]=se,A[2]=re,(ne=g)[0][0]=(ae=p)[0],ne[0][1]=ae[1],ne[0][2]=ae[2],ne[1][0]=ae[4],ne[1][1]=ae[5],ne[1][2]=ae[6],ne[2][0]=ae[8],ne[2][1]=ae[9],ne[2][2]=ae[10],m[0]=v.length(g[0]),v.normalize(g[0],g[0]),C[0]=v.dot(g[0],g[1]),x(g[1],g[1],g[0],1,-C[0]),m[1]=v.length(g[1]),v.normalize(g[1],g[1]),C[0]/=m[1],C[1]=v.dot(g[0],g[2]),x(g[2],g[2],g[0],1,-C[1]),C[2]=v.dot(g[1],g[2]),x(g[2],g[2],g[1],1,-C[2]),m[2]=v.length(g[2]),v.normalize(g[2],g[2]),C[1]/=m[2],C[2]/=m[2],v.cross(w,g[1],g[2]),v.dot(g[0],w)<0)for(var K=0;K<3;K++)m[K]*=-1,g[K][0]*=-1,g[K][1]*=-1,g[K][2]*=-1;return P[0]=.5*Math.sqrt(Math.max(1+g[0][0]-g[1][1]-g[2][2],0)),P[1]=.5*Math.sqrt(Math.max(1-g[0][0]+g[1][1]-g[2][2],0)),P[2]=.5*Math.sqrt(Math.max(1-g[0][0]-g[1][1]+g[2][2],0)),P[3]=.5*Math.sqrt(Math.max(1+g[0][0]+g[1][1]+g[2][2],0)),g[2][1]>g[1][2]&&(P[0]=-P[0]),g[0][2]>g[2][0]&&(P[1]=-P[1]),g[1][0]>g[0][1]&&(P[2]=-P[2]),!0}},4690:function(y){y.exports=function(u,i){var s=i[15];if(0===s)return!1;for(var a=1/s,o=0;o<16;o++)u[o]=i[o]*a;return!0}},7649:function(y,u,i){var s=i(1868),a=i(1102),o=i(7191),l=i(7787),c=i(1116),h=T(),v=T(),p=T();function T(){return{translate:_(),scale:_(1),skew:_(),perspective:[0,0,0,1],quaternion:[0,0,0,1]}}function _(g){return[g||0,g||0,g||0]}y.exports=function(g,w,x,b){if(0===l(w)||0===l(x))return!1;var A=o(w,h.translate,h.scale,h.skew,h.perspective,h.quaternion),m=o(x,v.translate,v.scale,v.skew,v.perspective,v.quaternion);return!(!A||!m||(s(p.translate,h.translate,v.translate,b),s(p.skew,h.skew,v.skew,b),s(p.scale,h.scale,v.scale,b),s(p.perspective,h.perspective,v.perspective,b),c(p.quaternion,h.quaternion,v.quaternion,b),a(g,p.translate,p.scale,p.skew,p.perspective,p.quaternion),0))}},1102:function(y,u,i){var s={identity:i(9947),translate:i(998),multiply:i(104),create:i(9823),scale:i(3668),fromRotationTranslation:i(7280)},a=(s.create(),s.create());y.exports=function(o,l,c,h,v,p){return s.identity(o),s.fromRotationTranslation(o,p,l),o[3]=v[0],o[7]=v[1],o[11]=v[2],o[15]=v[3],s.identity(a),0!==h[2]&&(a[9]=h[2],s.multiply(o,o,a)),0!==h[1]&&(a[9]=0,a[8]=h[1],s.multiply(o,o,a)),0!==h[0]&&(a[8]=0,a[4]=h[0],s.multiply(o,o,a)),s.scale(o,o,c),o}},9298:function(y,u,i){"use strict";var s=i(5070),a=i(7649),o=i(7437),l=i(6109),c=i(7115),h=i(5240),v=i(3012),p=i(998),T=(i(3668),i(899)),_=[0,0,0];function g(b){this._components=b.slice(),this._time=[0],this.prevMatrix=b.slice(),this.nextMatrix=b.slice(),this.computedMatrix=b.slice(),this.computedInverse=b.slice(),this.computedEye=[0,0,0],this.computedUp=[0,0,0],this.computedCenter=[0,0,0],this.computedRadius=[0],this._limits=[-1/0,1/0]}y.exports=function(b){return new g((b=b||{}).matrix||[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])};var w=g.prototype;w.recalcMatrix=function(b){var A=this._time,m=s.le(A,b),C=this.computedMatrix;if(!(m<0)){var k=this._components;if(m===A.length-1)for(var P=16*m,R=0;R<16;++R)C[R]=k[P++];else{var L=A[m+1]-A[m],N=(P=16*m,this.prevMatrix),B=!0;for(R=0;R<16;++R)N[R]=k[P++];var J=this.nextMatrix;for(R=0;R<16;++R)J[R]=k[P++],B=B&&N[R]===J[R];if(L<1e-6||B)for(R=0;R<16;++R)C[R]=N[R];else a(C,N,J,(b-A[m])/L)}var z=this.computedUp;z[0]=C[1],z[1]=C[5],z[2]=C[9],T(z,z);var Y=this.computedInverse;o(Y,C);var q=this.computedEye,U=Y[15];q[0]=Y[12]/U,q[1]=Y[13]/U,q[2]=Y[14]/U;var Z=this.computedCenter,X=Math.exp(this.computedRadius[0]);for(R=0;R<3;++R)Z[R]=q[R]-C[2+4*R]*X}},w.idle=function(b){if(!(b<this.lastT())){for(var A=this._components,m=A.length-16,C=0;C<16;++C)A.push(A[m++]);this._time.push(b)}},w.flush=function(b){var A=s.gt(this._time,b)-2;A<0||(this._time.splice(0,A),this._components.splice(0,16*A))},w.lastT=function(){return this._time[this._time.length-1]},w.lookAt=function(b,A,m,C){this.recalcMatrix(b),this.setMatrix(b,v(this.computedMatrix,A=A||this.computedEye,m=m||_,C=C||this.computedUp));for(var k=0,P=0;P<3;++P)k+=Math.pow(m[P]-A[P],2);k=Math.log(Math.sqrt(k)),this.computedRadius[0]=k},w.rotate=function(b,A,m,C){this.recalcMatrix(b);var k=this.computedInverse;A&&c(k,k,A),m&&l(k,k,m),C&&h(k,k,C),this.setMatrix(b,o(this.computedMatrix,k))};var x=[0,0,0];w.pan=function(b,A,m,C){x[0]=-(A||0),x[1]=-(m||0),x[2]=-(C||0),this.recalcMatrix(b);var k=this.computedInverse;p(k,k,x),this.setMatrix(b,o(k,k))},w.translate=function(b,A,m,C){x[0]=A||0,x[1]=m||0,x[2]=C||0,this.recalcMatrix(b);var k=this.computedMatrix;p(k,k,x),this.setMatrix(b,k)},w.setMatrix=function(b,A){if(!(b<this.lastT())){this._time.push(b);for(var m=0;m<16;++m)this._components.push(A[m])}},w.setDistance=function(b,A){this.computedRadius[0]=A},w.setDistanceLimits=function(b,A){var m=this._limits;m[0]=b,m[1]=A},w.getDistanceLimits=function(b){var A=this._limits;return b?(b[0]=A[0],b[1]=A[1],b):A}},3266:function(y,u,i){"use strict";y.exports=function(a){var o=a.length;if(o<3){for(var l=new Array(o),c=0;c<o;++c)l[c]=c;return 2===o&&a[0][0]===a[1][0]&&a[0][1]===a[1][1]?[0]:l}var h=new Array(o);for(c=0;c<o;++c)h[c]=c;h.sort(function(A,m){return a[A][0]-a[m][0]||a[A][1]-a[m][1]});var v=[h[0],h[1]],p=[h[0],h[1]];for(c=2;c<o;++c){for(var T=h[c],_=a[T],g=v.length;g>1&&s(a[v[g-2]],a[v[g-1]],_)<=0;)g-=1,v.pop();for(v.push(T),g=p.length;g>1&&s(a[p[g-2]],a[p[g-1]],_)>=0;)g-=1,p.pop();p.push(T)}l=new Array(p.length+v.length-2);for(var w=0,x=(c=0,v.length);c<x;++c)l[w++]=v[c];for(var b=p.length-2;b>0;--b)l[w++]=p[b];return l};var s=i(417)[3]},6145:function(y,u,i){"use strict";y.exports=function(a,o){o||(o=a,a=window);var l=0,c=0,h=0,v={shift:!1,alt:!1,control:!1,meta:!1},p=!1;function T(P){var R=!1;return"altKey"in P&&(R=R||P.altKey!==v.alt,v.alt=!!P.altKey),"shiftKey"in P&&(R=R||P.shiftKey!==v.shift,v.shift=!!P.shiftKey),"ctrlKey"in P&&(R=R||P.ctrlKey!==v.control,v.control=!!P.ctrlKey),"metaKey"in P&&(R=R||P.metaKey!==v.meta,v.meta=!!P.metaKey),R}function _(P,R){var L=s.x(R),N=s.y(R);"buttons"in R&&(P=0|R.buttons),(P!==l||L!==c||N!==h||T(R))&&(l=0|P,c=L||0,h=N||0,o&&o(l,c,h,v))}function g(P){_(0,P)}function w(){(l||c||h||v.shift||v.alt||v.meta||v.control)&&(c=h=0,l=0,v.shift=v.alt=v.control=v.meta=!1,o&&o(0,0,0,v))}function x(P){T(P)&&o&&o(l,c,h,v)}function b(P){0===s.buttons(P)?_(0,P):_(l,P)}function A(P){_(l|s.buttons(P),P)}function m(P){_(l&~s.buttons(P),P)}function C(){p||(p=!0,a.addEventListener("mousemove",b),a.addEventListener("mousedown",A),a.addEventListener("mouseup",m),a.addEventListener("mouseleave",g),a.addEventListener("mouseenter",g),a.addEventListener("mouseout",g),a.addEventListener("mouseover",g),a.addEventListener("blur",w),a.addEventListener("keyup",x),a.addEventListener("keydown",x),a.addEventListener("keypress",x),a!==window&&(window.addEventListener("blur",w),window.addEventListener("keyup",x),window.addEventListener("keydown",x),window.addEventListener("keypress",x)))}C();var k={element:a};return Object.defineProperties(k,{enabled:{get:function(){return p},set:function(P){P?C():p&&(p=!1,a.removeEventListener("mousemove",b),a.removeEventListener("mousedown",A),a.removeEventListener("mouseup",m),a.removeEventListener("mouseleave",g),a.removeEventListener("mouseenter",g),a.removeEventListener("mouseout",g),a.removeEventListener("mouseover",g),a.removeEventListener("blur",w),a.removeEventListener("keyup",x),a.removeEventListener("keydown",x),a.removeEventListener("keypress",x),a!==window&&(window.removeEventListener("blur",w),window.removeEventListener("keyup",x),window.removeEventListener("keydown",x),window.removeEventListener("keypress",x)))},enumerable:!0},buttons:{get:function(){return l},enumerable:!0},x:{get:function(){return c},enumerable:!0},y:{get:function(){return h},enumerable:!0},mods:{get:function(){return v},enumerable:!0}}),k};var s=i(4110)},2565:function(y){var u={left:0,top:0};y.exports=function(i,s,a){s=s||i.currentTarget||i.srcElement,Array.isArray(a)||(a=[0,0]);var o,l=i.clientX||0,c=i.clientY||0,h=(o=s)===window||o===document||o===document.body?u:o.getBoundingClientRect();return a[0]=l-h.left,a[1]=c-h.top,a}},4110:function(y,u){"use strict";function i(s){return s.target||s.srcElement||window}u.buttons=function(s){if("object"==typeof s){if("buttons"in s)return s.buttons;if("which"in s){if(2===(a=s.which))return 4;if(3===a)return 2;if(a>0)return 1<<a-1}else if("button"in s){var a;if(1===(a=s.button))return 4;if(2===a)return 2;if(a>=0)return 1<<a}}return 0},u.element=i,u.x=function(s){if("object"==typeof s){if("offsetX"in s)return s.offsetX;var a=i(s).getBoundingClientRect();return s.clientX-a.left}return 0},u.y=function(s){if("object"==typeof s){if("offsetY"in s)return s.offsetY;var a=i(s).getBoundingClientRect();return s.clientY-a.top}return 0}},6475:function(y,u,i){"use strict";var s=i(14);y.exports=function(a,o,l){"function"==typeof a&&(l=!!o,o=a,a=window);var c=s("ex",a),h=function(v){l&&v.preventDefault();var p=v.deltaX||0,T=v.deltaY||0,_=v.deltaZ||0,g=1;switch(v.deltaMode){case 1:g=c;break;case 2:g=window.innerHeight}if(T*=g,_*=g,(p*=g)||T||_)return o(p,T,_,v)};return a.addEventListener("wheel",h),h}},9284:function(y,u,i){"use strict";var s=i(5306);y.exports=function(o){function l(_){throw new Error("ndarray-extract-contour: "+_)}"object"!=typeof o&&l("Must specify arguments");var c=o.order;Array.isArray(c)||l("Must specify order");var _,g,w,m,h=o.arrayArguments||1;h<1&&l("Must have at least one array argument"),(o.scalarArguments||0)<0&&l("Scalar arg count must be > 0"),"function"!=typeof o.vertex&&l("Must specify vertex creation function"),"function"!=typeof o.cell&&l("Must specify cell creation function"),"function"!=typeof o.phase&&l("Must specify phase function");for(var v=o.getters||[],p=new Array(h),T=0;T<h;++T)p[T]=v.indexOf(T)>=0;return _=o.vertex,g=o.cell,w=o.phase,m=[p,c].join(","),(0,a[m])(_,g,w,s.mallocUint32,s.freeUint32)};var a={"false,0,1":function(o,l,c,h,v){return function(p,T,_,g){var w,x=0|p.shape[0],b=0|p.shape[1],A=p.data,C=0|p.stride[0],k=0|p.stride[1],P=0|p.offset,R=0|-C,L=0,N=0|-k,B=0,J=-C-k|0,z=0,Y=0|C,q=k-C*x|0,U=0,Z=0,X=0,se=2*x|0,re=h(se),ee=h(se),K=0,ne=0,ae=-1,ue=-1,he=0,pe=0|-x,ge=0|x,xe=0,Se=-x-1|0,Te=x-1|0,ye=0,we=0,ze=0;for(U=0;U<x;++U)re[K++]=c(A[P],T,_,g),P+=Y;if(P+=q,b>0){if(Z=1,re[K++]=c(A[P],T,_,g),P+=Y,x>0)for(U=1,ne=re[K]=c(w=A[P],T,_,g),xe=re[K+pe],ye=re[K+Se],ne===(he=re[K+ae])&&ne===xe&&ne===ye||(o(U,Z,w,L=A[P+R],B=A[P+N],z=A[P+J],ne,he,xe,ye,T,_,g),we=ee[K]=X++),K+=1,P+=Y,U=2;U<x;++U)ne=re[K]=c(w=A[P],T,_,g),xe=re[K+pe],ye=re[K+Se],ne===(he=re[K+ae])&&ne===xe&&ne===ye||(o(U,Z,w,L=A[P+R],B=A[P+N],z=A[P+J],ne,he,xe,ye,T,_,g),we=ee[K]=X++,ye!==he&&l(ee[K+ae],we,z,L,ye,he,T,_,g)),K+=1,P+=Y;for(P+=q,K=0,ze=ae,ae=ue,ue=ze,ze=pe,pe=ge,ge=ze,ze=Se,Se=Te,Te=ze,Z=2;Z<b;++Z){if(re[K++]=c(A[P],T,_,g),P+=Y,x>0)for(U=1,ne=re[K]=c(w=A[P],T,_,g),xe=re[K+pe],ye=re[K+Se],ne===(he=re[K+ae])&&ne===xe&&ne===ye||(o(U,Z,w,L=A[P+R],B=A[P+N],z=A[P+J],ne,he,xe,ye,T,_,g),we=ee[K]=X++,ye!==xe&&l(ee[K+pe],we,B,z,xe,ye,T,_,g)),K+=1,P+=Y,U=2;U<x;++U)ne=re[K]=c(w=A[P],T,_,g),xe=re[K+pe],ye=re[K+Se],ne===(he=re[K+ae])&&ne===xe&&ne===ye||(o(U,Z,w,L=A[P+R],B=A[P+N],z=A[P+J],ne,he,xe,ye,T,_,g),we=ee[K]=X++,ye!==xe&&l(ee[K+pe],we,B,z,xe,ye,T,_,g),ye!==he&&l(ee[K+ae],we,z,L,ye,he,T,_,g)),K+=1,P+=Y;1&Z&&(K=0),ze=ae,ae=ue,ue=ze,ze=pe,pe=ge,ge=ze,ze=Se,Se=Te,Te=ze,P+=q}}v(ee),v(re)}},"false,1,0":function(o,l,c,h,v){return function(p,T,_,g){var w,x=0|p.shape[0],b=0|p.shape[1],A=p.data,C=0|p.stride[0],k=0|p.stride[1],P=0|p.offset,R=0|-C,L=0,N=0|-k,B=0,J=-C-k|0,z=0,Y=0|k,q=C-k*b|0,U=0,Z=0,X=0,se=2*b|0,re=h(se),ee=h(se),K=0,ne=0,ae=-1,ue=-1,he=0,pe=0|-b,ge=0|b,xe=0,Se=-b-1|0,Te=b-1|0,ye=0,we=0,ze=0;for(Z=0;Z<b;++Z)re[K++]=c(A[P],T,_,g),P+=Y;if(P+=q,x>0){if(U=1,re[K++]=c(A[P],T,_,g),P+=Y,b>0)for(Z=1,ne=re[K]=c(w=A[P],T,_,g),he=re[K+ae],ye=re[K+Se],ne===(xe=re[K+pe])&&ne===he&&ne===ye||(o(U,Z,w,L=A[P+R],B=A[P+N],z=A[P+J],ne,xe,he,ye,T,_,g),we=ee[K]=X++),K+=1,P+=Y,Z=2;Z<b;++Z)ne=re[K]=c(w=A[P],T,_,g),he=re[K+ae],ye=re[K+Se],ne===(xe=re[K+pe])&&ne===he&&ne===ye||(o(U,Z,w,L=A[P+R],B=A[P+N],z=A[P+J],ne,xe,he,ye,T,_,g),we=ee[K]=X++,ye!==he&&l(ee[K+ae],we,B,z,he,ye,T,_,g)),K+=1,P+=Y;for(P+=q,K=0,ze=pe,pe=ge,ge=ze,ze=ae,ae=ue,ue=ze,ze=Se,Se=Te,Te=ze,U=2;U<x;++U){if(re[K++]=c(A[P],T,_,g),P+=Y,b>0)for(Z=1,ne=re[K]=c(w=A[P],T,_,g),he=re[K+ae],ye=re[K+Se],ne===(xe=re[K+pe])&&ne===he&&ne===ye||(o(U,Z,w,L=A[P+R],B=A[P+N],z=A[P+J],ne,xe,he,ye,T,_,g),we=ee[K]=X++,ye!==xe&&l(ee[K+pe],we,z,L,ye,xe,T,_,g)),K+=1,P+=Y,Z=2;Z<b;++Z)ne=re[K]=c(w=A[P],T,_,g),he=re[K+ae],ye=re[K+Se],ne===(xe=re[K+pe])&&ne===he&&ne===ye||(o(U,Z,w,L=A[P+R],B=A[P+N],z=A[P+J],ne,xe,he,ye,T,_,g),we=ee[K]=X++,ye!==he&&l(ee[K+ae],we,B,z,he,ye,T,_,g),ye!==xe&&l(ee[K+pe],we,z,L,ye,xe,T,_,g)),K+=1,P+=Y;1&U&&(K=0),ze=pe,pe=ge,ge=ze,ze=ae,ae=ue,ue=ze,ze=Se,Se=Te,Te=ze,P+=q}}v(ee),v(re)}}}},9144:function(y,u,i){"use strict";var s=i(3094),a={zero:function(x,b,A,m){var C=x[0];m|=0;var k=0,P=A[0];for(k=0;k<C;++k)b[m]=0,m+=P},fdTemplate1:function(x,b,A,m,C,k,P){var R=x[0],L=A[0],N=-1*L,B=L;m|=0,P|=0;var J=0,z=L,Y=k[0];for(J=0;J<R;++J)C[P]=.5*(b[m+N]-b[m+B]),m+=z,P+=Y},fdTemplate2:function(x,b,A,m,C,k,P,R,L,N){var B=x[0],J=x[1],z=A[0],Y=A[1],U=k[1],X=L[1],se=-1*z,re=z,ee=-1*Y,K=Y;m|=0,P|=0,N|=0;var ne=0,ae=0,ue=Y,he=z-J*Y,pe=U,ge=k[0]-J*U,xe=X,Se=L[0]-J*X;for(ae=0;ae<B;++ae){for(ne=0;ne<J;++ne)C[P]=.5*(b[m+se]-b[m+re]),R[N]=.5*(b[m+ee]-b[m+K]),m+=ue,P+=pe,N+=xe;m+=he,P+=ge,N+=Se}}},o={cdiff:function(x){var b={};return function(A,m,C){var k=A.dtype,P=A.order,R=m.dtype,L=m.order,N=C.dtype,B=C.order,J=[k,P.join(),R,L.join(),N,B.join()].join(),z=b[J];return z||(b[J]=z=x([k,P,R,L,N,B])),z(A.shape.slice(0),A.data,A.stride,0|A.offset,m.data,m.stride,0|m.offset,C.data,C.stride,0|C.offset)}},zero:function(x){var b={};return function(A){var m=A.dtype,C=A.order,k=[m,C.join()].join(),P=b[k];return P||(b[k]=P=x([m,C])),P(A.shape.slice(0),A.data,A.stride,0|A.offset)}},fdTemplate1:function(x){var b={};return function(A,m){var C=A.dtype,k=A.order,P=m.dtype,R=m.order,L=[C,k.join(),P,R.join()].join(),N=b[L];return N||(b[L]=N=x([C,k,P,R])),N(A.shape.slice(0),A.data,A.stride,0|A.offset,m.data,m.stride,0|m.offset)}},fdTemplate2:function(x){var b={};return function(A,m,C){var k=A.dtype,P=A.order,R=m.dtype,L=m.order,N=C.dtype,B=C.order,J=[k,P.join(),R,L.join(),N,B.join()].join(),z=b[J];return z||(b[J]=z=x([k,P,R,L,N,B])),z(A.shape.slice(0),A.data,A.stride,0|A.offset,m.data,m.stride,0|m.offset,C.data,C.stride,0|C.offset)}}};function l(x){return(0,o[x.funcName])(c.bind(void 0,x))}function c(x){return a[x.funcName]}function h(x){return l({funcName:x.funcName})}var v={},p={},T=h({funcName:"cdiff"}),_=h({funcName:"zero"});function g(x){return x in v?v[x]:v[x]=h({funcName:"fdTemplate"+x})}function w(x,b,A,m){return function(C,k){var P=k.shape.slice();return P[0]>2&&P[1]>2&&m(k.pick(-1,-1).lo(1,1).hi(P[0]-2,P[1]-2),C.pick(-1,-1,0).lo(1,1).hi(P[0]-2,P[1]-2),C.pick(-1,-1,1).lo(1,1).hi(P[0]-2,P[1]-2)),P[1]>2&&(A(k.pick(0,-1).lo(1).hi(P[1]-2),C.pick(0,-1,1).lo(1).hi(P[1]-2)),b(C.pick(0,-1,0).lo(1).hi(P[1]-2))),P[1]>2&&(A(k.pick(P[0]-1,-1).lo(1).hi(P[1]-2),C.pick(P[0]-1,-1,1).lo(1).hi(P[1]-2)),b(C.pick(P[0]-1,-1,0).lo(1).hi(P[1]-2))),P[0]>2&&(A(k.pick(-1,0).lo(1).hi(P[0]-2),C.pick(-1,0,0).lo(1).hi(P[0]-2)),b(C.pick(-1,0,1).lo(1).hi(P[0]-2))),P[0]>2&&(A(k.pick(-1,P[1]-1).lo(1).hi(P[0]-2),C.pick(-1,P[1]-1,0).lo(1).hi(P[0]-2)),b(C.pick(-1,P[1]-1,1).lo(1).hi(P[0]-2))),C.set(0,0,0,0),C.set(0,0,1,0),C.set(P[0]-1,0,0,0),C.set(P[0]-1,0,1,0),C.set(0,P[1]-1,0,0),C.set(0,P[1]-1,1,0),C.set(P[0]-1,P[1]-1,0,0),C.set(P[0]-1,P[1]-1,1,0),C}}y.exports=function(x,b,A){return Array.isArray(A)||(A=s(b.dimension,"string"==typeof A?A:"clamp")),0===b.size?x:0===b.dimension?(x.set(0),x):function(m){var C=m.join();if(L=p[C])return L;for(var k=m.length,P=[T,_],R=1;R<=k;++R)P.push(g(R));var L=w.apply(void 0,P);return p[C]=L,L}(A)(x,b)}},3581:function(y){"use strict";function u(o,l){var c=Math.floor(l),h=l-c,p=0<=c+1&&c+1<o.shape[0];return(1-h)*(0<=c&&c<o.shape[0]?+o.get(c):0)+h*(p?+o.get(c+1):0)}function i(o,l,c){var h=Math.floor(l),v=l-h,p=0<=h&&h<o.shape[0],T=0<=h+1&&h+1<o.shape[0],_=Math.floor(c),g=c-_,w=0<=_&&_<o.shape[1],x=0<=_+1&&_+1<o.shape[1],b=p&&w?o.get(h,_):0,A=p&&x?o.get(h,_+1):0;return(1-g)*((1-v)*b+v*(T&&w?o.get(h+1,_):0))+g*((1-v)*A+v*(T&&x?o.get(h+1,_+1):0))}function s(o,l,c,h){var v=Math.floor(l),p=l-v,T=0<=v&&v<o.shape[0],_=0<=v+1&&v+1<o.shape[0],g=Math.floor(c),w=c-g,x=0<=g&&g<o.shape[1],b=0<=g+1&&g+1<o.shape[1],A=Math.floor(h),m=h-A,C=0<=A&&A<o.shape[2],k=0<=A+1&&A+1<o.shape[2],P=T&&x&&C?o.get(v,g,A):0,R=T&&b&&C?o.get(v,g+1,A):0,L=_&&x&&C?o.get(v+1,g,A):0,N=_&&b&&C?o.get(v+1,g+1,A):0,B=T&&x&&k?o.get(v,g,A+1):0,J=T&&b&&k?o.get(v,g+1,A+1):0;return(1-m)*((1-w)*((1-p)*P+p*L)+w*((1-p)*R+p*N))+m*((1-w)*((1-p)*B+p*(_&&x&&k?o.get(v+1,g,A+1):0))+w*((1-p)*J+p*(_&&b&&k?o.get(v+1,g+1,A+1):0)))}function a(o){var l,c,h=0|o.shape.length,v=new Array(h),p=new Array(h),T=new Array(h),_=new Array(h);for(l=0;l<h;++l)c=+arguments[l+1],v[l]=Math.floor(c),p[l]=c-v[l],T[l]=0<=v[l]&&v[l]<o.shape[l],_[l]=0<=v[l]+1&&v[l]+1<o.shape[l];var g,w,x,b=0;e:for(l=0;l<1<<h;++l){for(w=1,x=o.offset,g=0;g<h;++g)if(l&1<<g){if(!_[g])continue e;w*=p[g],x+=o.stride[g]*(v[g]+1)}else{if(!T[g])continue e;w*=1-p[g],x+=o.stride[g]*v[g]}b+=w*o.data[x]}return b}y.exports=function(o,l,c,h){switch(o.shape.length){case 0:return 0;case 1:return u(o,l);case 2:return i(o,l,c);case 3:return s(o,l,c,h);default:return a.apply(void 0,arguments)}},y.exports.d1=u,y.exports.d2=i,y.exports.d3=s},7498:function(y,u){"use strict";var i={"float64,2,1,0":function(){return function(c,h,v,p,T){var _=c[0],g=c[1],w=c[2],b=v[1],A=v[2];p|=0;var m=0,C=0,k=0,P=A,R=b-w*A,L=v[0]-g*b;for(k=0;k<_;++k){for(C=0;C<g;++C){for(m=0;m<w;++m)h[p]/=T,p+=P;p+=R}p+=L}}},"uint8,2,0,1,float64,2,1,0":function(){return function(c,h,v,p,T,_,g,w){for(var x=c[0],b=c[1],A=c[2],m=v[0],C=v[1],k=v[2],P=_[0],R=_[1],L=_[2],N=p|=0,B=g|=0,J=0|c[0];J>0;){J<64?(x=J,J=0):(x=64,J-=64);for(var z=0|c[1];z>0;){z<64?(b=z,z=0):(b=64,z-=64),p=N+J*m+z*C,g=B+J*P+z*R;var Y=0,q=0,U=0,Z=k,X=m-A*k,se=C-x*m,re=L,ee=P-A*L,K=R-x*P;for(U=0;U<b;++U){for(q=0;q<x;++q){for(Y=0;Y<A;++Y)h[p]=T[g]*w,p+=Z,g+=re;p+=X,g+=ee}p+=se,g+=K}}}}},"float32,1,0,float32,1,0":function(){return function(c,h,v,p,T,_,g){var w=c[0],x=c[1],A=v[1],C=_[1];p|=0,g|=0;var k=0,P=0,R=A,L=v[0]-x*A,N=C,B=_[0]-x*C;for(P=0;P<w;++P){for(k=0;k<x;++k)h[p]=T[g],p+=R,g+=N;p+=L,g+=B}}},"float32,1,0,float32,0,1":function(){return function(c,h,v,p,T,_,g){for(var w=c[0],x=c[1],b=v[0],A=v[1],m=_[0],C=_[1],k=p|=0,P=g|=0,R=0|c[1];R>0;){R<64?(x=R,R=0):(x=64,R-=64);for(var L=0|c[0];L>0;){L<64?(w=L,L=0):(w=64,L-=64),p=k+R*A+L*b,g=P+R*C+L*m;var N=0,B=0,J=A,z=b-x*A,Y=C,q=m-x*C;for(B=0;B<w;++B){for(N=0;N<x;++N)h[p]=T[g],p+=J,g+=Y;p+=z,g+=q}}}}},"uint8,2,0,1,uint8,1,2,0":function(){return function(c,h,v,p,T,_,g){for(var w=c[0],x=c[1],b=c[2],A=v[0],m=v[1],C=v[2],k=_[0],P=_[1],R=_[2],L=p|=0,N=g|=0,B=0|c[2];B>0;){B<64?(b=B,B=0):(b=64,B-=64);for(var J=0|c[0];J>0;){J<64?(w=J,J=0):(w=64,J-=64);for(var z=0|c[1];z>0;){z<64?(x=z,z=0):(x=64,z-=64),p=L+B*C+J*A+z*m,g=N+B*R+J*k+z*P;var Y=0,q=0,U=0,Z=C,X=A-b*C,se=m-w*A,re=R,ee=k-b*R,K=P-w*k;for(U=0;U<x;++U){for(q=0;q<w;++q){for(Y=0;Y<b;++Y)h[p]=T[g],p+=Z,g+=re;p+=X,g+=ee}p+=se,g+=K}}}}}},"uint8,2,0,1,array,2,0,1":function(){return function(c,h,v,p,T,_,g){var w=c[0],x=c[1],b=c[2],A=v[0],C=v[2],k=_[0],R=_[2];p|=0,g|=0;var L=0,N=0,B=0,J=C,z=A-b*C,Y=v[1]-w*A,q=R,U=k-b*R,Z=_[1]-w*k;for(B=0;B<x;++B){for(N=0;N<w;++N){for(L=0;L<b;++L)h[p]=T[g],p+=J,g+=q;p+=z,g+=U}p+=Y,g+=Z}}}},s=function(c,h){var v=h.join(",");return(0,i[v])()},a={mul:function(c){var h={};return function(v,p,T){var _=v.dtype,g=v.order,w=p.dtype,x=p.order,b=T.dtype,A=T.order,m=[_,g.join(),w,x.join(),b,A.join()].join(),C=h[m];return C||(h[m]=C=c([_,g,w,x,b,A])),C(v.shape.slice(0),v.data,v.stride,0|v.offset,p.data,p.stride,0|p.offset,T.data,T.stride,0|T.offset)}},muls:function(c){var h={};return function(v,p,T){var _=v.dtype,g=v.order,w=p.dtype,x=p.order,b=[_,g.join(),w,x.join()].join(),A=h[b];return A||(h[b]=A=c([_,g,w,x])),A(v.shape.slice(0),v.data,v.stride,0|v.offset,p.data,p.stride,0|p.offset,T)}},mulseq:function(c){var h={};return function(v,p){var T=v.dtype,_=v.order,g=[T,_.join()].join(),w=h[g];return w||(h[g]=w=c([T,_])),w(v.shape.slice(0),v.data,v.stride,0|v.offset,p)}},div:function(c){var h={};return function(v,p,T){var _=v.dtype,g=v.order,w=p.dtype,x=p.order,b=T.dtype,A=T.order,m=[_,g.join(),w,x.join(),b,A.join()].join(),C=h[m];return C||(h[m]=C=c([_,g,w,x,b,A])),C(v.shape.slice(0),v.data,v.stride,0|v.offset,p.data,p.stride,0|p.offset,T.data,T.stride,0|T.offset)}},divs:function(c){var h={};return function(v,p,T){var _=v.dtype,g=v.order,w=p.dtype,x=p.order,b=[_,g.join(),w,x.join()].join(),A=h[b];return A||(h[b]=A=c([_,g,w,x])),A(v.shape.slice(0),v.data,v.stride,0|v.offset,p.data,p.stride,0|p.offset,T)}},divseq:function(c){var h={};return function(v,p){var T=v.dtype,_=v.order,g=[T,_.join()].join(),w=h[g];return w||(h[g]=w=c([T,_])),w(v.shape.slice(0),v.data,v.stride,0|v.offset,p)}},assign:function(c){var h={};return function(v,p){var T=v.dtype,_=v.order,g=p.dtype,w=p.order,x=[T,_.join(),g,w.join()].join(),b=h[x];return b||(h[x]=b=c([T,_,g,w])),b(v.shape.slice(0),v.data,v.stride,0|v.offset,p.data,p.stride,0|p.offset)}}};function o(c){return(0,a[(h={funcName:c.funcName}).funcName])(s.bind(void 0,h));var h}var l={mul:"*",div:"/"};(function(){for(var c in l)u[c]=o({funcName:c}),u[c+"s"]=o({funcName:c+"s"}),u[c+"seq"]=o({funcName:c+"seq"})})(),u.assign=o({funcName:"assign"})},7382:function(y,u,i){"use strict";var s=i(5050),a=i(9262);y.exports=function(o,l){for(var c=[],h=o,v=1;Array.isArray(h);)c.push(h.length),v*=h.length,h=h[0];return 0===c.length?s():(l||(l=s(new Float64Array(v),c)),a(l,o),l)}},9262:function(y){"use strict";var u,i;y.exports=(u=function(){return function(u,i,s,a,o){var l=u[0],c=u[1],h=u[2],p=s[1],T=s[2],_=[0,0,0];a|=0;var g=0,w=0,x=0,b=T,A=p-h*T,m=s[0]-c*p;for(x=0;x<l;++x){for(w=0;w<c;++w){for(g=0;g<h;++g){var C,k=o;for(C=0;C<_.length-1;++C)k=k[_[C]];i[a]=k[_[_.length-1]],a+=b,++_[2]}a+=A,_[2]-=h,++_[1]}a+=m,_[1]-=c,++_[0]}}}.bind(void 0,{funcName:"convert"}),i={},function(s,a){var o=s.dtype,l=s.order,c=[o,l.join()].join(),h=i[c];return h||(i[c]=h=u([o,l])),h(s.shape.slice(0),s.data,s.stride,0|s.offset,a)})},8139:function(y,u,i){"use strict";var s=i(5306);function a(h){return"uint32"===h?[s.mallocUint32,s.freeUint32]:null}var o={"uint32,1,0":function(h,v){return function(p,T,_,g,w,x,b,A,m,C,k){var P,R,L,N,B,J,z,Y,q=p*w+g,U=h(A);for(P=p+1;P<=T;++P){for(R=P,L=q+=w,B=0,J=q,N=0;N<A;++N)U[B++]=_[J],J+=m;e:for(;R-- >p;){B=0,J=L-w;t:for(N=0;N<A;++N){if((z=_[J])<(Y=U[B]))break e;if(z>Y)break t;J+=C,B+=k}for(B=L,J=L-w,N=0;N<A;++N)_[B]=_[J],B+=m,J+=m;L-=w}for(B=L,J=0,N=0;N<A;++N)_[B]=U[J++],B+=m}v(U)}}},l={"uint32,1,0":function(h,v,p){return function T(_,g,w,x,b,A,m,C,k,P,R){var L,N,J,z,Y,q,U,Z,X,se,re,ee,K,ne,ae,ue,he,pe,ge,xe,Se,Te,ye,we,ze=(g-_+1)/6|0,ke=_+ze,Ee=g-ze,me=_+g>>1,de=me-ze,ce=me+ze,Ae=ke,Ne=de,De=me,Ue=ce,Ye=Ee,_e=_+1,Pe=g-1,Ie=!0,Be=0,We=0,Ge=0,Ke=C,tt=v(Ke),st=v(Ke);se=b*Ae,re=b*Ne,we=x;e:for(X=0;X<C;++X){if((Ge=w[q=se+we]-w[U=re+we])>0){N=Ae,Ae=Ne,Ne=N;break e}if(Ge<0)break e;we+=P}se=b*Ue,re=b*Ye,we=x;e:for(X=0;X<C;++X){if((Ge=w[q=se+we]-w[U=re+we])>0){N=Ue,Ue=Ye,Ye=N;break e}if(Ge<0)break e;we+=P}se=b*Ae,re=b*De,we=x;e:for(X=0;X<C;++X){if((Ge=w[q=se+we]-w[U=re+we])>0){N=Ae,Ae=De,De=N;break e}if(Ge<0)break e;we+=P}se=b*Ne,re=b*De,we=x;e:for(X=0;X<C;++X){if((Ge=w[q=se+we]-w[U=re+we])>0){N=Ne,Ne=De,De=N;break e}if(Ge<0)break e;we+=P}se=b*Ae,re=b*Ue,we=x;e:for(X=0;X<C;++X){if((Ge=w[q=se+we]-w[U=re+we])>0){N=Ae,Ae=Ue,Ue=N;break e}if(Ge<0)break e;we+=P}se=b*De,re=b*Ue,we=x;e:for(X=0;X<C;++X){if((Ge=w[q=se+we]-w[U=re+we])>0){N=De,De=Ue,Ue=N;break e}if(Ge<0)break e;we+=P}se=b*Ne,re=b*Ye,we=x;e:for(X=0;X<C;++X){if((Ge=w[q=se+we]-w[U=re+we])>0){N=Ne,Ne=Ye,Ye=N;break e}if(Ge<0)break e;we+=P}se=b*Ne,re=b*De,we=x;e:for(X=0;X<C;++X){if((Ge=w[q=se+we]-w[U=re+we])>0){N=Ne,Ne=De,De=N;break e}if(Ge<0)break e;we+=P}se=b*Ue,re=b*Ye,we=x;e:for(X=0;X<C;++X){if((Ge=w[q=se+we]-w[U=re+we])>0){N=Ue,Ue=Ye,Ye=N;break e}if(Ge<0)break e;we+=P}for(se=b*Ae,re=b*Ne,ee=b*De,K=b*Ue,ne=b*Ye,ae=b*ke,ue=b*me,he=b*Ee,ye=0,we=x,X=0;X<C;++X)q=se+we,Z=ee+we,pe=K+we,ge=ne+we,xe=ae+we,Se=ue+we,Te=he+we,tt[ye]=w[U=re+we],st[ye]=w[pe],Ie=Ie&&tt[ye]===st[ye],J=w[Z],z=w[ge],w[xe]=w[q],w[Se]=J,w[Te]=z,++ye,we+=k;for(se=b*de,re=b*_,we=x,X=0;X<C;++X)w[q=se+we]=w[U=re+we],we+=k;for(se=b*ce,re=b*g,we=x,X=0;X<C;++X)w[q=se+we]=w[U=re+we],we+=k;if(Ie)for(Y=_e;Y<=Pe;++Y){for(q=x+Y*b,ye=0,X=0;X<C&&0==(Ge=w[q]-tt[ye]);++X)ye+=R,q+=P;if(0!==Ge)if(Ge<0){if(Y!==_e)for(se=b*Y,re=b*_e,we=x,X=0;X<C;++X)L=w[q=se+we],w[q]=w[U=re+we],w[U]=L,we+=k;++_e}else for(;;){for(q=x+Pe*b,ye=0,X=0;X<C&&0==(Ge=w[q]-tt[ye]);++X)ye+=R,q+=P;if(!(Ge>0)){if(Ge<0){for(se=b*Y,re=b*_e,ee=b*Pe,we=x,X=0;X<C;++X)Z=ee+we,L=w[q=se+we],w[q]=w[U=re+we],w[U]=w[Z],w[Z]=L,we+=k;++_e,--Pe;break}for(se=b*Y,re=b*Pe,we=x,X=0;X<C;++X)L=w[q=se+we],w[q]=w[U=re+we],w[U]=L,we+=k;--Pe;break}Pe--}}else for(Y=_e;Y<=Pe;++Y){for(q=x+Y*b,ye=0,X=0;X<C&&0==(Be=w[q]-tt[ye]);++X)ye+=R,q+=P;if(Be<0){if(Y!==_e)for(se=b*Y,re=b*_e,we=x,X=0;X<C;++X)L=w[q=se+we],w[q]=w[U=re+we],w[U]=L,we+=k;++_e}else{for(q=x+Y*b,ye=0,X=0;X<C&&0==(We=w[q]-st[ye]);++X)ye+=R,q+=P;if(We>0)for(;;){for(q=x+Pe*b,ye=0,X=0;X<C&&0==(Ge=w[q]-st[ye]);++X)ye+=R,q+=P;if(!(Ge>0)){for(q=x+Pe*b,ye=0,X=0;X<C&&0==(Ge=w[q]-tt[ye]);++X)ye+=R,q+=P;if(Ge<0){for(se=b*Y,re=b*_e,ee=b*Pe,we=x,X=0;X<C;++X)Z=ee+we,L=w[q=se+we],w[q]=w[U=re+we],w[U]=w[Z],w[Z]=L,we+=k;++_e,--Pe}else{for(se=b*Y,re=b*Pe,we=x,X=0;X<C;++X)L=w[q=se+we],w[q]=w[U=re+we],w[U]=L,we+=k;--Pe}break}if(--Pe<Y)break}}}for(se=b*_,re=b*(_e-1),ye=0,we=x,X=0;X<C;++X)w[q=se+we]=w[U=re+we],w[U]=tt[ye],++ye,we+=k;for(se=b*g,re=b*(Pe+1),ye=0,we=x,X=0;X<C;++X)w[q=se+we]=w[U=re+we],w[U]=st[ye],++ye,we+=k;if(_e-2-_<=32?h(_,_e-2,w,x,b,A,m,C,k,P,R):T(_,_e-2,w,x,b,A,m,C,k,P,R),g-(Pe+2)<=32?h(Pe+2,g,w,x,b,A,m,C,k,P,R):T(Pe+2,g,w,x,b,A,m,C,k,P,R),Ie)return p(tt),void p(st);if(_e<ke&&Pe>Ee){e:for(;;){for(q=x+_e*b,ye=0,we=x,X=0;X<C;++X){if(w[q]!==tt[ye])break e;++ye,q+=k}++_e}e:for(;;){for(q=x+Pe*b,ye=0,we=x,X=0;X<C;++X){if(w[q]!==st[ye])break e;++ye,q+=k}--Pe}for(Y=_e;Y<=Pe;++Y){for(q=x+Y*b,ye=0,X=0;X<C&&0==(Be=w[q]-tt[ye]);++X)ye+=R,q+=P;if(0===Be){if(Y!==_e)for(se=b*Y,re=b*_e,we=x,X=0;X<C;++X)L=w[q=se+we],w[q]=w[U=re+we],w[U]=L,we+=k;++_e}else{for(q=x+Y*b,ye=0,X=0;X<C&&0==(We=w[q]-st[ye]);++X)ye+=R,q+=P;if(0===We)for(;;){for(q=x+Pe*b,ye=0,X=0;X<C&&0==(Ge=w[q]-st[ye]);++X)ye+=R,q+=P;if(0!==Ge){for(q=x+Pe*b,ye=0,X=0;X<C&&0==(Ge=w[q]-tt[ye]);++X)ye+=R,q+=P;if(Ge<0){for(se=b*Y,re=b*_e,ee=b*Pe,we=x,X=0;X<C;++X)Z=ee+we,L=w[q=se+we],w[q]=w[U=re+we],w[U]=w[Z],w[Z]=L,we+=k;++_e,--Pe}else{for(se=b*Y,re=b*Pe,we=x,X=0;X<C;++X)L=w[q=se+we],w[q]=w[U=re+we],w[U]=L,we+=k;--Pe}break}if(--Pe<Y)break}}}}p(tt),p(st),Pe-_e<=32?h(_e,Pe,w,x,b,A,m,C,k,P,R):T(_e,Pe,w,x,b,A,m,C,k,P,R)}}},c={"uint32,1,0":function(h,v){return function(p){var T=p.data,_=0|p.offset,g=p.shape,w=p.stride,x=0|w[0],b=0|g[0],A=0|w[1],m=0|g[1],C=A,k=A;b<=32?h(0,b-1,T,_,x,A,b,m,C,k,1):v(0,b-1,T,_,x,A,b,m,C,k,1)}}};y.exports=function(h,v){var w,x,b,A,m,p=[v,h].join(","),T=c[p],_=(w=h,b=a(x=v),A=[x,w].join(","),m=o[A],b?m(b[0],b[1]):m()),g=function(w,x,b){var A=a(x),m=[x,w].join(","),C=l[m];return w.length>1&&A?C(b,A[0],A[1]):C(b)}(h,v,_);return T(_,g)}},8729:function(y,u,i){"use strict";var s=i(8139),a={};y.exports=function(o){var l=o.order,c=o.dtype,h=[l,c].join(":"),v=a[h];return v||(a[h]=v=s(l,c)),v(o),o}},5050:function(y,u,i){var s=i(4780),a=typeof Float64Array<"u";function o(p,T){return p[0]-T[0]}function l(){var p,T=this.stride,_=new Array(T.length);for(p=0;p<_.length;++p)_[p]=[Math.abs(T[p]),p];_.sort(o);var g=new Array(_.length);for(p=0;p<g.length;++p)g[p]=_[p][1];return g}var c={T:function(p){function T(g){this.data=g}var _=T.prototype;return _.dtype=p,_.index=function(){return-1},_.size=0,_.dimension=-1,_.shape=_.stride=_.order=[],_.lo=_.hi=_.transpose=_.step=function(){return new T(this.data)},_.get=_.set=function(){},_.pick=function(){return null},function(g){return new T(g)}},0:function(p,T){function _(w,x){this.data=w,this.offset=x}var g=_.prototype;return g.dtype=p,g.index=function(){return this.offset},g.dimension=0,g.size=1,g.shape=g.stride=g.order=[],g.lo=g.hi=g.transpose=g.step=function(){return new _(this.data,this.offset)},g.pick=function(){return T(this.data)},g.valueOf=g.get=function(){return"generic"===p?this.data.get(this.offset):this.data[this.offset]},g.set=function(w){return"generic"===p?this.data.set(this.offset,w):this.data[this.offset]=w},function(w,x,b,A){return new _(w,A)}},1:function(p,T,_){function g(x,b,A,m){this.data=x,this.shape=[b],this.stride=[A],this.offset=0|m}var w=g.prototype;return w.dtype=p,w.dimension=1,Object.defineProperty(w,"size",{get:function(){return this.shape[0]}}),w.order=[0],w.set=function(x,b){return"generic"===p?this.data.set(this.offset+this.stride[0]*x,b):this.data[this.offset+this.stride[0]*x]=b},w.get=function(x){return"generic"===p?this.data.get(this.offset+this.stride[0]*x):this.data[this.offset+this.stride[0]*x]},w.index=function(x){return this.offset+this.stride[0]*x},w.hi=function(x){return new g(this.data,"number"!=typeof x||x<0?this.shape[0]:0|x,this.stride[0],this.offset)},w.lo=function(x){var b=this.offset,A=0,m=this.shape[0],C=this.stride[0];return"number"==typeof x&&x>=0&&(b+=C*(A=0|x),m-=A),new g(this.data,m,C,b)},w.step=function(x){var b=this.shape[0],A=this.stride[0],m=this.offset,C=0,k=Math.ceil;return"number"==typeof x&&((C=0|x)<0?(m+=A*(b-1),b=k(-b/C)):b=k(b/C),A*=C),new g(this.data,b,A,m)},w.transpose=function(x){return new g(this.data,this.shape[x=void 0===x?0:0|x],this.stride[x],this.offset)},w.pick=function(x){var b=[],A=[],m=this.offset;return"number"==typeof x&&x>=0?m=m+this.stride[0]*x|0:(b.push(this.shape[0]),A.push(this.stride[0])),(0,T[b.length+1])(this.data,b,A,m)},function(x,b,A,m){return new g(x,b[0],A[0],m)}},2:function(p,T,_){function g(x,b,A,m,C,k){this.data=x,this.shape=[b,A],this.stride=[m,C],this.offset=0|k}var w=g.prototype;return w.dtype=p,w.dimension=2,Object.defineProperty(w,"size",{get:function(){return this.shape[0]*this.shape[1]}}),Object.defineProperty(w,"order",{get:function(){return Math.abs(this.stride[0])>Math.abs(this.stride[1])?[1,0]:[0,1]}}),w.set=function(x,b,A){return"generic"===p?this.data.set(this.offset+this.stride[0]*x+this.stride[1]*b,A):this.data[this.offset+this.stride[0]*x+this.stride[1]*b]=A},w.get=function(x,b){return"generic"===p?this.data.get(this.offset+this.stride[0]*x+this.stride[1]*b):this.data[this.offset+this.stride[0]*x+this.stride[1]*b]},w.index=function(x,b){return this.offset+this.stride[0]*x+this.stride[1]*b},w.hi=function(x,b){return new g(this.data,"number"!=typeof x||x<0?this.shape[0]:0|x,"number"!=typeof b||b<0?this.shape[1]:0|b,this.stride[0],this.stride[1],this.offset)},w.lo=function(x,b){var A=this.offset,m=0,C=this.shape[0],k=this.shape[1],P=this.stride[0],R=this.stride[1];return"number"==typeof x&&x>=0&&(A+=P*(m=0|x),C-=m),"number"==typeof b&&b>=0&&(A+=R*(m=0|b),k-=m),new g(this.data,C,k,P,R,A)},w.step=function(x,b){var A=this.shape[0],m=this.shape[1],C=this.stride[0],k=this.stride[1],P=this.offset,R=0,L=Math.ceil;return"number"==typeof x&&((R=0|x)<0?(P+=C*(A-1),A=L(-A/R)):A=L(A/R),C*=R),"number"==typeof b&&((R=0|b)<0?(P+=k*(m-1),m=L(-m/R)):m=L(m/R),k*=R),new g(this.data,A,m,C,k,P)},w.transpose=function(x,b){var A=this.shape,m=this.stride;return new g(this.data,A[x=void 0===x?0:0|x],A[b=void 0===b?1:0|b],m[x],m[b],this.offset)},w.pick=function(x,b){var A=[],m=[],C=this.offset;return"number"==typeof x&&x>=0?C=C+this.stride[0]*x|0:(A.push(this.shape[0]),m.push(this.stride[0])),"number"==typeof b&&b>=0?C=C+this.stride[1]*b|0:(A.push(this.shape[1]),m.push(this.stride[1])),(0,T[A.length+1])(this.data,A,m,C)},function(x,b,A,m){return new g(x,b[0],b[1],A[0],A[1],m)}},3:function(p,T,_){function g(x,b,A,m,C,k,P,R){this.data=x,this.shape=[b,A,m],this.stride=[C,k,P],this.offset=0|R}var w=g.prototype;return w.dtype=p,w.dimension=3,Object.defineProperty(w,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]}}),Object.defineProperty(w,"order",{get:function(){var x=Math.abs(this.stride[0]),b=Math.abs(this.stride[1]),A=Math.abs(this.stride[2]);return x>b?b>A?[2,1,0]:x>A?[1,2,0]:[1,0,2]:x>A?[2,0,1]:A>b?[0,1,2]:[0,2,1]}}),w.set=function(x,b,A,m){return"generic"===p?this.data.set(this.offset+this.stride[0]*x+this.stride[1]*b+this.stride[2]*A,m):this.data[this.offset+this.stride[0]*x+this.stride[1]*b+this.stride[2]*A]=m},w.get=function(x,b,A){return"generic"===p?this.data.get(this.offset+this.stride[0]*x+this.stride[1]*b+this.stride[2]*A):this.data[this.offset+this.stride[0]*x+this.stride[1]*b+this.stride[2]*A]},w.index=function(x,b,A){return this.offset+this.stride[0]*x+this.stride[1]*b+this.stride[2]*A},w.hi=function(x,b,A){return new g(this.data,"number"!=typeof x||x<0?this.shape[0]:0|x,"number"!=typeof b||b<0?this.shape[1]:0|b,"number"!=typeof A||A<0?this.shape[2]:0|A,this.stride[0],this.stride[1],this.stride[2],this.offset)},w.lo=function(x,b,A){var m=this.offset,C=0,k=this.shape[0],P=this.shape[1],R=this.shape[2],L=this.stride[0],N=this.stride[1],B=this.stride[2];return"number"==typeof x&&x>=0&&(m+=L*(C=0|x),k-=C),"number"==typeof b&&b>=0&&(m+=N*(C=0|b),P-=C),"number"==typeof A&&A>=0&&(m+=B*(C=0|A),R-=C),new g(this.data,k,P,R,L,N,B,m)},w.step=function(x,b,A){var m=this.shape[0],C=this.shape[1],k=this.shape[2],P=this.stride[0],R=this.stride[1],L=this.stride[2],N=this.offset,B=0,J=Math.ceil;return"number"==typeof x&&((B=0|x)<0?(N+=P*(m-1),m=J(-m/B)):m=J(m/B),P*=B),"number"==typeof b&&((B=0|b)<0?(N+=R*(C-1),C=J(-C/B)):C=J(C/B),R*=B),"number"==typeof A&&((B=0|A)<0?(N+=L*(k-1),k=J(-k/B)):k=J(k/B),L*=B),new g(this.data,m,C,k,P,R,L,N)},w.transpose=function(x,b,A){var m=this.shape,C=this.stride;return new g(this.data,m[x=void 0===x?0:0|x],m[b=void 0===b?1:0|b],m[A=void 0===A?2:0|A],C[x],C[b],C[A],this.offset)},w.pick=function(x,b,A){var m=[],C=[],k=this.offset;return"number"==typeof x&&x>=0?k=k+this.stride[0]*x|0:(m.push(this.shape[0]),C.push(this.stride[0])),"number"==typeof b&&b>=0?k=k+this.stride[1]*b|0:(m.push(this.shape[1]),C.push(this.stride[1])),"number"==typeof A&&A>=0?k=k+this.stride[2]*A|0:(m.push(this.shape[2]),C.push(this.stride[2])),(0,T[m.length+1])(this.data,m,C,k)},function(x,b,A,m){return new g(x,b[0],b[1],b[2],A[0],A[1],A[2],m)}},4:function(p,T,_){function g(x,b,A,m,C,k,P,R,L,N){this.data=x,this.shape=[b,A,m,C],this.stride=[k,P,R,L],this.offset=0|N}var w=g.prototype;return w.dtype=p,w.dimension=4,Object.defineProperty(w,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]*this.shape[3]}}),Object.defineProperty(w,"order",{get:_}),w.set=function(x,b,A,m,C){return"generic"===p?this.data.set(this.offset+this.stride[0]*x+this.stride[1]*b+this.stride[2]*A+this.stride[3]*m,C):this.data[this.offset+this.stride[0]*x+this.stride[1]*b+this.stride[2]*A+this.stride[3]*m]=C},w.get=function(x,b,A,m){return"generic"===p?this.data.get(this.offset+this.stride[0]*x+this.stride[1]*b+this.stride[2]*A+this.stride[3]*m):this.data[this.offset+this.stride[0]*x+this.stride[1]*b+this.stride[2]*A+this.stride[3]*m]},w.index=function(x,b,A,m){return this.offset+this.stride[0]*x+this.stride[1]*b+this.stride[2]*A+this.stride[3]*m},w.hi=function(x,b,A,m){return new g(this.data,"number"!=typeof x||x<0?this.shape[0]:0|x,"number"!=typeof b||b<0?this.shape[1]:0|b,"number"!=typeof A||A<0?this.shape[2]:0|A,"number"!=typeof m||m<0?this.shape[3]:0|m,this.stride[0],this.stride[1],this.stride[2],this.stride[3],this.offset)},w.lo=function(x,b,A,m){var C=this.offset,k=0,P=this.shape[0],R=this.shape[1],L=this.shape[2],N=this.shape[3],B=this.stride[0],J=this.stride[1],z=this.stride[2],Y=this.stride[3];return"number"==typeof x&&x>=0&&(C+=B*(k=0|x),P-=k),"number"==typeof b&&b>=0&&(C+=J*(k=0|b),R-=k),"number"==typeof A&&A>=0&&(C+=z*(k=0|A),L-=k),"number"==typeof m&&m>=0&&(C+=Y*(k=0|m),N-=k),new g(this.data,P,R,L,N,B,J,z,Y,C)},w.step=function(x,b,A,m){var C=this.shape[0],k=this.shape[1],P=this.shape[2],R=this.shape[3],L=this.stride[0],N=this.stride[1],B=this.stride[2],J=this.stride[3],z=this.offset,Y=0,q=Math.ceil;return"number"==typeof x&&((Y=0|x)<0?(z+=L*(C-1),C=q(-C/Y)):C=q(C/Y),L*=Y),"number"==typeof b&&((Y=0|b)<0?(z+=N*(k-1),k=q(-k/Y)):k=q(k/Y),N*=Y),"number"==typeof A&&((Y=0|A)<0?(z+=B*(P-1),P=q(-P/Y)):P=q(P/Y),B*=Y),"number"==typeof m&&((Y=0|m)<0?(z+=J*(R-1),R=q(-R/Y)):R=q(R/Y),J*=Y),new g(this.data,C,k,P,R,L,N,B,J,z)},w.transpose=function(x,b,A,m){var C=this.shape,k=this.stride;return new g(this.data,C[x=void 0===x?0:0|x],C[b=void 0===b?1:0|b],C[A=void 0===A?2:0|A],C[m=void 0===m?3:0|m],k[x],k[b],k[A],k[m],this.offset)},w.pick=function(x,b,A,m){var C=[],k=[],P=this.offset;return"number"==typeof x&&x>=0?P=P+this.stride[0]*x|0:(C.push(this.shape[0]),k.push(this.stride[0])),"number"==typeof b&&b>=0?P=P+this.stride[1]*b|0:(C.push(this.shape[1]),k.push(this.stride[1])),"number"==typeof A&&A>=0?P=P+this.stride[2]*A|0:(C.push(this.shape[2]),k.push(this.stride[2])),"number"==typeof m&&m>=0?P=P+this.stride[3]*m|0:(C.push(this.shape[3]),k.push(this.stride[3])),(0,T[C.length+1])(this.data,C,k,P)},function(x,b,A,m){return new g(x,b[0],b[1],b[2],b[3],A[0],A[1],A[2],A[3],m)}},5:function(p,T,_){function g(x,b,A,m,C,k,P,R,L,N,B,J){this.data=x,this.shape=[b,A,m,C,k],this.stride=[P,R,L,N,B],this.offset=0|J}var w=g.prototype;return w.dtype=p,w.dimension=5,Object.defineProperty(w,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]*this.shape[3]*this.shape[4]}}),Object.defineProperty(w,"order",{get:_}),w.set=function(x,b,A,m,C,k){return"generic"===p?this.data.set(this.offset+this.stride[0]*x+this.stride[1]*b+this.stride[2]*A+this.stride[3]*m+this.stride[4]*C,k):this.data[this.offset+this.stride[0]*x+this.stride[1]*b+this.stride[2]*A+this.stride[3]*m+this.stride[4]*C]=k},w.get=function(x,b,A,m,C){return"generic"===p?this.data.get(this.offset+this.stride[0]*x+this.stride[1]*b+this.stride[2]*A+this.stride[3]*m+this.stride[4]*C):this.data[this.offset+this.stride[0]*x+this.stride[1]*b+this.stride[2]*A+this.stride[3]*m+this.stride[4]*C]},w.index=function(x,b,A,m,C){return this.offset+this.stride[0]*x+this.stride[1]*b+this.stride[2]*A+this.stride[3]*m+this.stride[4]*C},w.hi=function(x,b,A,m,C){return new g(this.data,"number"!=typeof x||x<0?this.shape[0]:0|x,"number"!=typeof b||b<0?this.shape[1]:0|b,"number"!=typeof A||A<0?this.shape[2]:0|A,"number"!=typeof m||m<0?this.shape[3]:0|m,"number"!=typeof C||C<0?this.shape[4]:0|C,this.stride[0],this.stride[1],this.stride[2],this.stride[3],this.stride[4],this.offset)},w.lo=function(x,b,A,m,C){var k=this.offset,P=0,R=this.shape[0],L=this.shape[1],N=this.shape[2],B=this.shape[3],J=this.shape[4],z=this.stride[0],Y=this.stride[1],q=this.stride[2],U=this.stride[3],Z=this.stride[4];return"number"==typeof x&&x>=0&&(k+=z*(P=0|x),R-=P),"number"==typeof b&&b>=0&&(k+=Y*(P=0|b),L-=P),"number"==typeof A&&A>=0&&(k+=q*(P=0|A),N-=P),"number"==typeof m&&m>=0&&(k+=U*(P=0|m),B-=P),"number"==typeof C&&C>=0&&(k+=Z*(P=0|C),J-=P),new g(this.data,R,L,N,B,J,z,Y,q,U,Z,k)},w.step=function(x,b,A,m,C){var k=this.shape[0],P=this.shape[1],R=this.shape[2],L=this.shape[3],N=this.shape[4],B=this.stride[0],J=this.stride[1],z=this.stride[2],Y=this.stride[3],q=this.stride[4],U=this.offset,Z=0,X=Math.ceil;return"number"==typeof x&&((Z=0|x)<0?(U+=B*(k-1),k=X(-k/Z)):k=X(k/Z),B*=Z),"number"==typeof b&&((Z=0|b)<0?(U+=J*(P-1),P=X(-P/Z)):P=X(P/Z),J*=Z),"number"==typeof A&&((Z=0|A)<0?(U+=z*(R-1),R=X(-R/Z)):R=X(R/Z),z*=Z),"number"==typeof m&&((Z=0|m)<0?(U+=Y*(L-1),L=X(-L/Z)):L=X(L/Z),Y*=Z),"number"==typeof C&&((Z=0|C)<0?(U+=q*(N-1),N=X(-N/Z)):N=X(N/Z),q*=Z),new g(this.data,k,P,R,L,N,B,J,z,Y,q,U)},w.transpose=function(x,b,A,m,C){var k=this.shape,P=this.stride;return new g(this.data,k[x=void 0===x?0:0|x],k[b=void 0===b?1:0|b],k[A=void 0===A?2:0|A],k[m=void 0===m?3:0|m],k[C=void 0===C?4:0|C],P[x],P[b],P[A],P[m],P[C],this.offset)},w.pick=function(x,b,A,m,C){var k=[],P=[],R=this.offset;return"number"==typeof x&&x>=0?R=R+this.stride[0]*x|0:(k.push(this.shape[0]),P.push(this.stride[0])),"number"==typeof b&&b>=0?R=R+this.stride[1]*b|0:(k.push(this.shape[1]),P.push(this.stride[1])),"number"==typeof A&&A>=0?R=R+this.stride[2]*A|0:(k.push(this.shape[2]),P.push(this.stride[2])),"number"==typeof m&&m>=0?R=R+this.stride[3]*m|0:(k.push(this.shape[3]),P.push(this.stride[3])),"number"==typeof C&&C>=0?R=R+this.stride[4]*C|0:(k.push(this.shape[4]),P.push(this.stride[4])),(0,T[k.length+1])(this.data,k,P,R)},function(x,b,A,m){return new g(x,b[0],b[1],b[2],b[3],b[4],A[0],A[1],A[2],A[3],A[4],m)}}};function h(p,T){var _=-1===T?"T":String(T),g=c[_];return-1===T?g(p):0===T?g(p,v[p][0]):g(p,v[p],l)}var v={generic:[],buffer:[],array:[],float32:[],float64:[],int8:[],int16:[],int32:[],uint8_clamped:[],uint8:[],uint16:[],uint32:[],bigint64:[],biguint64:[]};y.exports=function(p,T,_,g){if(void 0===p)return(0,v.array[0])([]);"number"==typeof p&&(p=[p]),void 0===T&&(T=[p.length]);var w=T.length;if(void 0===_){_=new Array(w);for(var x=w-1,b=1;x>=0;--x)_[x]=b,b*=T[x]}if(void 0===g)for(g=0,x=0;x<w;++x)_[x]<0&&(g-=(T[x]-1)*_[x]);for(var A=function(C){if(s(C))return"buffer";if(a)switch(Object.prototype.toString.call(C)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8ClampedArray]":return"uint8_clamped";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object BigInt64Array]":return"bigint64";case"[object BigUint64Array]":return"biguint64"}return Array.isArray(C)?"array":"generic"}(p),m=v[A];m.length<=w+1;)m.push(h(A,m.length-1));return(0,m[w+1])(p,T,_,g)}},8551:function(y,u,i){"use strict";var s=i(8362),a=Math.pow(2,-1074),o=-1>>>0;y.exports=function(l,c){if(isNaN(l)||isNaN(c))return NaN;if(l===c)return l;if(0===l)return c<0?-a:a;var h=s.hi(l),v=s.lo(l);return c>l==l>0?v===o?(h+=1,v=0):v+=1:0===v?(v=o,h-=1):v-=1,s.pack(v,h)}},115:function(y,u){u.vertexNormals=function(i,s,a){for(var o=s.length,l=new Array(o),c=void 0===a?1e-6:a,h=0;h<o;++h)l[h]=[0,0,0];for(h=0;h<i.length;++h)for(var v=i[h],T=v[v.length-1],_=v[0],g=0;g<v.length;++g){for(var w=s[T],x=s[T=_],b=s[_=v[(g+1)%v.length]],A=new Array(3),m=0,C=new Array(3),k=0,P=0;P<3;++P)A[P]=w[P]-x[P],m+=A[P]*A[P],C[P]=b[P]-x[P],k+=C[P]*C[P];if(m*k>c){var R=l[T],L=1/Math.sqrt(m*k);for(P=0;P<3;++P){var N=(P+1)%3,B=(P+2)%3;R[P]+=L*(C[N]*A[B]-C[B]*A[N])}}}for(h=0;h<o;++h){R=l[h];var J=0;for(P=0;P<3;++P)J+=R[P]*R[P];if(J>c)for(L=1/Math.sqrt(J),P=0;P<3;++P)R[P]*=L;else for(P=0;P<3;++P)R[P]=0}return l},u.faceNormals=function(i,s,a){for(var o=i.length,l=new Array(o),c=void 0===a?1e-6:a,h=0;h<o;++h){for(var v=i[h],p=new Array(3),T=0;T<3;++T)p[T]=s[v[T]];var _=new Array(3),g=new Array(3);for(T=0;T<3;++T)_[T]=p[1][T]-p[0][T],g[T]=p[2][T]-p[0][T];var w=new Array(3),x=0;for(T=0;T<3;++T){var b=(T+1)%3,A=(T+2)%3;w[T]=_[b]*g[A]-_[A]*g[b],x+=w[T]*w[T]}for(x=x>c?1/Math.sqrt(x):0,T=0;T<3;++T)w[T]*=x;l[h]=w}return l}},567:function(y){"use strict";y.exports=function(u,i,s,a,o,l,c,h,v,p){var T=i+l+p;if(_>0){var _=Math.sqrt(T+1);u[0]=.5*(c-v)/_,u[1]=.5*(h-a)/_,u[2]=.5*(s-l)/_,u[3]=.5*_}else{var g=Math.max(i,l,p);_=Math.sqrt(2*g-T+1),i>=g?(u[0]=.5*_,u[1]=.5*(o+s)/_,u[2]=.5*(h+a)/_,u[3]=.5*(c-v)/_):l>=g?(u[0]=.5*(s+o)/_,u[1]=.5*_,u[2]=.5*(v+c)/_,u[3]=.5*(h-a)/_):(u[0]=.5*(a+h)/_,u[1]=.5*(c+v)/_,u[2]=.5*_,u[3]=.5*(s-o)/_)}return u}},7774:function(y,u,i){"use strict";y.exports=function(g){var w=(g=g||{}).center||[0,0,0],x=g.rotation||[0,0,0,1],b=g.radius||1;w=[].slice.call(w,0,3),p(x=[].slice.call(x,0,4),x);var A=new T(x,w,Math.log(b));return A.setDistanceLimits(g.zoomMin,g.zoomMax),("eye"in g||"up"in g)&&A.lookAt(0,g.eye,g.center,g.up),A};var s=i(8444),a=i(3012),o=i(5950),l=i(7437),c=i(567);function h(g,w,x){return Math.sqrt(Math.pow(g,2)+Math.pow(w,2)+Math.pow(x,2))}function v(g,w,x,b){return Math.sqrt(Math.pow(g,2)+Math.pow(w,2)+Math.pow(x,2)+Math.pow(b,2))}function p(g,w){var x=w[0],b=w[1],A=w[2],m=w[3],C=v(x,b,A,m);C>1e-6?(g[0]=x/C,g[1]=b/C,g[2]=A/C,g[3]=m/C):(g[0]=g[1]=g[2]=0,g[3]=1)}function T(g,w,x){this.radius=s([x]),this.center=s(w),this.rotation=s(g),this.computedRadius=this.radius.curve(0),this.computedCenter=this.center.curve(0),this.computedRotation=this.rotation.curve(0),this.computedUp=[.1,0,0],this.computedEye=[.1,0,0],this.computedMatrix=[.1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.recalcMatrix(0)}var _=T.prototype;_.lastT=function(){return Math.max(this.radius.lastT(),this.center.lastT(),this.rotation.lastT())},_.recalcMatrix=function(g){this.radius.curve(g),this.center.curve(g),this.rotation.curve(g);var w=this.computedRotation;p(w,w);var x=this.computedMatrix;o(x,w);var b=this.computedCenter,A=this.computedEye,m=this.computedUp,C=Math.exp(this.computedRadius[0]);A[0]=b[0]+C*x[2],A[1]=b[1]+C*x[6],A[2]=b[2]+C*x[10],m[0]=x[1],m[1]=x[5],m[2]=x[9];for(var k=0;k<3;++k){for(var P=0,R=0;R<3;++R)P+=x[k+4*R]*A[R];x[12+k]=-P}},_.getMatrix=function(g,w){this.recalcMatrix(g);var x=this.computedMatrix;if(w){for(var b=0;b<16;++b)w[b]=x[b];return w}return x},_.idle=function(g){this.center.idle(g),this.radius.idle(g),this.rotation.idle(g)},_.flush=function(g){this.center.flush(g),this.radius.flush(g),this.rotation.flush(g)},_.pan=function(g,w,x,b){w=w||0,x=x||0,b=b||0,this.recalcMatrix(g);var A=this.computedMatrix,m=A[1],C=A[5],k=A[9],P=h(m,C,k),R=A[0],L=A[4],N=A[8],B=R*(m/=P)+L*(C/=P)+N*(k/=P),J=h(R-=m*B,L-=C*B,N-=k*B),z=A[2],Y=A[6],q=A[10],U=z*m+Y*C+q*k,Z=z*(R/=J)+Y*(L/=J)+q*(N/=J),X=h(z-=U*m+Z*R,Y-=U*C+Z*L,q-=U*k+Z*N);z/=X,Y/=X,q/=X,this.center.move(g,R*w+m*x,L*w+C*x,N*w+k*x);var K=Math.exp(this.computedRadius[0]);K=Math.max(1e-4,K+b),this.radius.set(g,Math.log(K))},_.rotate=function(g,w,x,b){this.recalcMatrix(g);var A=this.computedMatrix,N=A[2],B=A[6],J=A[10],z=(w=w||0)*A[0]+(x=x||0)*A[1],Y=w*A[4]+x*A[5],q=w*A[8]+x*A[9],U=-(B*q-J*Y),Z=-(J*z-N*q),X=-(N*Y-B*z),se=Math.sqrt(Math.max(0,1-Math.pow(U,2)-Math.pow(Z,2)-Math.pow(X,2))),re=v(U,Z,X,se);re>1e-6?(U/=re,Z/=re,X/=re,se/=re):(U=Z=X=0,se=1);var ee=this.computedRotation,K=ee[0],ne=ee[1],ae=ee[2],ue=ee[3],he=K*se+ue*U+ne*X-ae*Z,pe=ne*se+ue*Z+ae*U-K*X,ge=ae*se+ue*X+K*Z-ne*U,xe=ue*se-K*U-ne*Z-ae*X;if(b){U=N,Z=B,X=J;var Se=Math.sin(b)/h(U,Z,X);U*=Se,Z*=Se,X*=Se,xe=xe*(se=Math.cos(w))-(he=he*se+xe*U+pe*X-ge*Z)*U-(pe=pe*se+xe*Z+ge*U-he*X)*Z-(ge=ge*se+xe*X+he*Z-pe*U)*X}var Te=v(he,pe,ge,xe);Te>1e-6?(he/=Te,pe/=Te,ge/=Te,xe/=Te):(he=pe=ge=0,xe=1),this.rotation.set(g,he,pe,ge,xe)},_.lookAt=function(g,w,x,b){this.recalcMatrix(g);var A=this.computedMatrix;a(A,w=w||this.computedEye,x=x||this.computedCenter,b=b||this.computedUp);var m=this.computedRotation;c(m,A[0],A[1],A[2],A[4],A[5],A[6],A[8],A[9],A[10]),p(m,m),this.rotation.set(g,m[0],m[1],m[2],m[3]);for(var C=0,k=0;k<3;++k)C+=Math.pow(x[k]-w[k],2);this.radius.set(g,.5*Math.log(Math.max(C,1e-6))),this.center.set(g,x[0],x[1],x[2])},_.translate=function(g,w,x,b){this.center.move(g,w||0,x||0,b||0)},_.setMatrix=function(g,w){var x=this.computedRotation;c(x,w[0],w[1],w[2],w[4],w[5],w[6],w[8],w[9],w[10]),p(x,x),this.rotation.set(g,x[0],x[1],x[2],x[3]);var b=this.computedMatrix;l(b,w);var A=b[15];if(Math.abs(A)>1e-6){var m=b[12]/A,C=b[13]/A,k=b[14]/A;this.recalcMatrix(g);var P=Math.exp(this.computedRadius[0]);this.center.set(g,m-b[2]*P,C-b[6]*P,k-b[10]*P),this.radius.idle(g)}else this.center.idle(g),this.radius.idle(g)},_.setDistance=function(g,w){w>0&&this.radius.set(g,Math.log(w))},_.setDistanceLimits=function(g,w){g=g>0?Math.log(g):-1/0,w=w>0?Math.log(w):1/0,w=Math.max(w,g),this.radius.bounds[0][0]=g,this.radius.bounds[1][0]=w},_.getDistanceLimits=function(g){var w=this.radius.bounds;return g?(g[0]=Math.exp(w[0][0]),g[1]=Math.exp(w[1][0]),g):[Math.exp(w[0][0]),Math.exp(w[1][0])]},_.toJSON=function(){return this.recalcMatrix(this.lastT()),{center:this.computedCenter.slice(),rotation:this.computedRotation.slice(),distance:Math.log(this.computedRadius[0]),zoomMin:this.radius.bounds[0][0],zoomMax:this.radius.bounds[1][0]}},_.fromJSON=function(g){var w=this.lastT(),x=g.center;x&&this.center.set(w,x[0],x[1],x[2]);var b=g.rotation;b&&this.rotation.set(w,b[0],b[1],b[2],b[3]);var A=g.distance;A&&A>0&&this.radius.set(w,Math.log(A)),this.setDistanceLimits(g.zoomMin,g.zoomMax)}},4930:function(y,u,i){"use strict";var s=i(6184);y.exports=function(a,o,l){return s(l=void 0!==l?l+"":" ",o)+a}},4405:function(y){y.exports=function(u,i){i||(i=[0,""]),u=String(u);var s=parseFloat(u,10);return i[0]=s,i[1]=u.match(/[\d.\-\+]*\s*(.*)/)[1]||"",i}},4166:function(y,u,i){"use strict";y.exports=function(a,o){for(var l=0|o.length,c=a.length,h=[new Array(l),new Array(l)],v=0;v<l;++v)h[0][v]=[],h[1][v]=[];for(v=0;v<c;++v){var p=a[v];h[0][p[0]].push(p),h[1][p[1]].push(p)}var k,T=[];for(v=0;v<l;++v)h[0][v].length+h[1][v].length===0&&T.push([v]);function _(C,k){var P=h[k][C[k]];P.splice(P.indexOf(C),1)}function g(C,k,P){for(var R,L,N,B=0;B<2;++B)if(h[B][k].length>0){R=h[B][k][0],N=B;break}L=R[1^N];for(var J=0;J<2;++J)for(var z=h[J][k],Y=0;Y<z.length;++Y){var q=z[Y],U=q[1^J];s(o[C],o[k],o[L],o[U])>0&&(R=q,L=U,N=J)}return P||R&&_(R,N),L}function w(C,k){var P=h[k][C][0],R=[C];_(P,k);for(var L=P[1^k];;){for(;L!==C;)R.push(L),L=g(R[R.length-2],L,!1);if(h[0][C].length+h[1][C].length===0)break;var N=R[R.length-1],B=C,J=R[1],z=g(N,B,!0);if(s(o[N],o[B],o[J],o[z])<0)break;R.push(C),L=g(N,B)}return R}for(v=0;v<l;++v)for(var b=0;b<2;++b){for(var A=[];h[b][v].length>0;){var m=w(v,b);(k=m)[1]===k[k.length-1]?A.push.apply(A,m):(A.length>0&&T.push(A),A=m)}A.length>0&&T.push(A)}return T};var s=i(9398)},3959:function(y,u,i){"use strict";y.exports=function(a,o){for(var l=s(a,o.length),c=new Array(o.length),h=new Array(o.length),v=[],p=0;p<o.length;++p){var T=l[p].length;h[p]=T,c[p]=!0,T<=1&&v.push(p)}for(;v.length>0;){c[b=v.pop()]=!1;var _=l[b];for(p=0;p<_.length;++p){var g=_[p];0==--h[g]&&v.push(g)}}var w=new Array(o.length),x=[];for(p=0;p<o.length;++p)if(c[p]){var b=x.length;w[p]=b,x.push(o[p])}else w[p]=-1;var A=[];for(p=0;p<a.length;++p){var m=a[p];c[m[0]]&&c[m[1]]&&A.push([w[m[0]],w[m[1]]])}return[A,x]};var s=i(8348)},8040:function(y,u,i){"use strict";y.exports=function(T,_){for(var g=v(T,_),w=(_=g[1]).length,x=s(T=g[0],_.length),b=0;b<w;++b)if(x[b].length%2==1)throw new Error("planar-graph-to-polyline: graph must be manifold");var A=a(T,_),m=(A=A.filter(function(ze){for(var ke=ze.length,Ee=[0],me=0;me<ke;++me){var de=_[ze[me]],ce=_[ze[(me+1)%ke]],Ae=l(-de[0],de[1]),Ne=l(-de[0],ce[1]),De=l(ce[0],de[1]),Ue=l(ce[0],ce[1]);Ee=c(Ee,c(c(Ae,Ne),c(De,Ue)))}return Ee[Ee.length-1]>0})).length,C=new Array(m),k=new Array(m);for(b=0;b<m;++b){C[b]=b;var P=new Array(m),R=A[b].map(function(ze){return _[ze]}),L=o([R]),N=0;e:for(var B=0;B<m;++B)if(P[B]=0,b!==B){for(var J=(ye=A[B]).length,z=0;z<J;++z){var Y=L(_[ye[z]]);if(0!==Y){Y<0&&(P[B]=1,N+=1);continue e}}P[B]=1,N+=1}k[b]=[N,b,P]}for(k.sort(function(ze,ke){return ke[0]-ze[0]}),b=0;b<m;++b){var q=(P=k[b])[1],U=P[2];for(B=0;B<m;++B)U[B]&&(C[B]=q)}var Z=function(ze){for(var ke=new Array(ze),Ee=0;Ee<ze;++Ee)ke[Ee]=[];return ke}(m);for(b=0;b<m;++b)Z[b].push(C[b]),Z[C[b]].push(b);var X={},se=p(w,!1);for(b=0;b<m;++b)for(J=(ye=A[b]).length,B=0;B<J;++B){var re=ye[B],ee=ye[(B+1)%J],K=Math.min(re,ee)+":"+Math.max(re,ee);if(K in X){var ne=X[K];Z[ne].push(b),Z[b].push(ne),se[re]=se[ee]=!0}else X[K]=b}function ae(ze){for(var ke=ze.length,Ee=0;Ee<ke;++Ee)if(!se[ze[Ee]])return!1;return!0}var ue=[],he=p(m,-1);for(b=0;b<m;++b)C[b]!==b||ae(A[b])?he[b]=-1:(ue.push(b),he[b]=0);for(g=[];ue.length>0;){var pe=ue.pop(),ge=Z[pe];h(ge,function(ze,ke){return ze-ke});var xe,Se=ge.length,Te=he[pe];for(0===Te&&(xe=[ye=A[pe]]),b=0;b<Se;++b){var ye,we=ge[b];he[we]>=0||(he[we]=1^Te,ue.push(we),0===Te&&(ae(ye=A[we])||(ye.reverse(),xe.push(ye))))}0===Te&&g.push(xe)}return g};var s=i(8348),a=i(4166),o=i(211),l=i(9660),c=i(9662),h=i(1215),v=i(3959);function p(T,_){for(var g=new Array(T),w=0;w<T;++w)g[w]=_;return g}},211:function(y,u,i){y.exports=function(p){for(var T=p.length,_=[],g=[],w=0;w<T;++w)for(var x=p[w],b=x.length,A=b-1,m=0;m<b;A=m++){var C=x[A],k=x[m];C[0]===k[0]?g.push([C,k]):_.push([C,k])}if(0===_.length)return 0===g.length?v:(P=h(g),function(N){return P(N[0],N[1])?0:1});var P,N,B,R=a(_),L=(N=R.slabs,B=R.coordinates,function(J){var z=l.le(B,J[0]);if(z<0)return 1;var Y=N[z];if(!Y){if(!(z>0&&B[z]===J[0]))return 1;Y=N[z-1]}for(var q=1;Y;){var U=Y.key,Z=s(J,U[0],U[1]);if(U[0][0]<U[1][0])if(Z<0)Y=Y.left;else{if(!(Z>0))return 0;q=-1,Y=Y.right}else if(Z>0)Y=Y.left;else{if(!(Z<0))return 0;q=1,Y=Y.right}}return q});return 0===g.length?L:function(N,B){return function(J){return N(J[0],J[1])?0:B(J)}}(h(g),L)};var s=i(417)[3],a=i(4385),o=i(9014),l=i(5070);function c(){return!0}function h(p){for(var T={},_=0;_<p.length;++_){var g=p[_],w=g[0][0],x=g[0][1],b=g[1][1],A=[Math.min(x,b),Math.max(x,b)];w in T?T[w].push(A):T[w]=[A]}var P,m={},C=Object.keys(T);for(_=0;_<C.length;++_)m[C[_]]=o(T[C[_]]);return P=m,function(R,L){var N=P[R];return!!N&&!!N.queryPoint(L,c)}}function v(p){return 1}},7309:function(y){"use strict";var u=new Float64Array(4),i=new Float64Array(4),s=new Float64Array(4);y.exports=function(a,o,l,c,h){u.length<c.length&&(u=new Float64Array(c.length),i=new Float64Array(c.length),s=new Float64Array(c.length));for(var v=0;v<c.length;++v)u[v]=a[v]-c[v],i[v]=o[v]-a[v],s[v]=l[v]-a[v];var p=0,T=0,_=0,g=0,w=0,x=0;for(v=0;v<c.length;++v){var b=i[v],A=s[v],m=u[v];p+=b*b,T+=b*A,_+=A*A,g+=m*b,w+=m*A,x+=m*m}var C,k,P,R,L,N=Math.abs(p*_-T*T),B=T*w-_*g,J=T*g-p*w;if(B+J<=N)if(B<0)J<0&&g<0?(J=0,-g>=p?(B=1,C=p+2*g+x):C=g*(B=-g/p)+x):(B=0,w>=0?(J=0,C=x):-w>=_?(J=1,C=_+2*w+x):C=w*(J=-w/_)+x);else if(J<0)J=0,g>=0?(B=0,C=x):-g>=p?(B=1,C=p+2*g+x):C=g*(B=-g/p)+x;else{var z=1/N;C=(B*=z)*(p*B+T*(J*=z)+2*g)+J*(T*B+_*J+2*w)+x}else B<0?(P=_+w)>(k=T+g)?(R=P-k)>=(L=p-2*T+_)?(B=1,J=0,C=p+2*g+x):C=(B=R/L)*(p*B+T*(J=1-B)+2*g)+J*(T*B+_*J+2*w)+x:(B=0,P<=0?(J=1,C=_+2*w+x):w>=0?(J=0,C=x):C=w*(J=-w/_)+x):J<0?(P=p+g)>(k=T+w)?(R=P-k)>=(L=p-2*T+_)?(J=1,B=0,C=_+2*w+x):C=(B=1-(J=R/L))*(p*B+T*J+2*g)+J*(T*B+_*J+2*w)+x:(J=0,P<=0?(B=1,C=p+2*g+x):g>=0?(B=0,C=x):C=g*(B=-g/p)+x):(R=_+w-T-g)<=0?(B=0,J=1,C=_+2*w+x):R>=(L=p-2*T+_)?(B=1,J=0,C=p+2*g+x):C=(B=R/L)*(p*B+T*(J=1-B)+2*g)+J*(T*B+_*J+2*w)+x;var Y=1-B-J;for(v=0;v<c.length;++v)h[v]=Y*a[v]+B*o[v]+J*l[v];return C<0?0:C}},1116:function(y,u,i){y.exports=i(6093)},7584:function(y,u,i){"use strict";var s=i(1539);y.exports=function(a,o){for(var l=a.length,c=new Array(l),h=0;h<l;++h)c[h]=s(a[h],o[h]);return c}},2826:function(y,u,i){"use strict";y.exports=function(a){for(var o=new Array(a.length),l=0;l<a.length;++l)o[l]=s(a[l]);return o};var s=i(5125)},4469:function(y,u,i){"use strict";var s=i(5125),a=i(3962);y.exports=function(o,l){for(var c=s(l),h=o.length,v=new Array(h),p=0;p<h;++p)v[p]=a(o[p],c);return v}},6695:function(y,u,i){"use strict";var s=i(4354);y.exports=function(a,o){for(var l=a.length,c=new Array(l),h=0;h<l;++h)c[h]=s(a[h],o[h]);return c}},7037:function(y,u,i){"use strict";var s=i(9209),a=i(1284),o=i(9887);y.exports=function(l){l.sort(a);for(var c=l.length,h=0,v=0;v<c;++v){var p=l[v],T=o(p);if(0!==T){if(h>0){var _=l[h-1];if(0===s(p,_)&&o(_)!==T){h-=1;continue}}l[h++]=p}}return l.length=h,l}},6184:function(y){"use strict";var u,i="";y.exports=function(s,a){if("string"!=typeof s)throw new TypeError("expected a string");if(1===a)return s;if(2===a)return s+s;var o=s.length*a;if(u!==s||void 0===u)u=s,i="";else if(i.length>=o)return i.substr(0,o);for(;o>i.length&&a>1;)1&a&&(i+=s),a>>=1,s+=s;return i=(i+=s).substr(0,o)}},8161:function(y,u,i){y.exports=i.g.performance&&i.g.performance.now?function(){return performance.now()}:Date.now||function(){return+new Date}},402:function(y){"use strict";y.exports=function(u){for(var i=u.length,s=u[u.length-1],a=i,o=i-2;o>=0;--o){var l=s;(v=(h=u[o])-((s=l+h)-l))&&(u[--a]=s,s=v)}var c=0;for(o=a;o<i;++o){var h,v;(v=(h=s)-((s=(l=u[o])+h)-l))&&(u[c++]=v)}return u[c++]=s,u.length=c,u}},8167:function(y,u,i){"use strict";var s=i(9660),a=i(9662),o=i(8289),l=i(402);function c(w,x,b,A){return function(m){return A(w(b(m[0][0],m[1][1]),b(-m[0][1],m[1][0])))}}function h(w,x,b,A){return function(m){return A(w(x(w(b(m[1][1],m[2][2]),b(-m[1][2],m[2][1])),m[0][0]),w(x(w(b(m[1][0],m[2][2]),b(-m[1][2],m[2][0])),-m[0][1]),x(w(b(m[1][0],m[2][1]),b(-m[1][1],m[2][0])),m[0][2]))))}}function v(w,x,b,A){return function(m){return A(w(w(x(w(x(w(b(m[2][2],m[3][3]),b(-m[2][3],m[3][2])),m[1][1]),w(x(w(b(m[2][1],m[3][3]),b(-m[2][3],m[3][1])),-m[1][2]),x(w(b(m[2][1],m[3][2]),b(-m[2][2],m[3][1])),m[1][3]))),m[0][0]),x(w(x(w(b(m[2][2],m[3][3]),b(-m[2][3],m[3][2])),m[1][0]),w(x(w(b(m[2][0],m[3][3]),b(-m[2][3],m[3][0])),-m[1][2]),x(w(b(m[2][0],m[3][2]),b(-m[2][2],m[3][0])),m[1][3]))),-m[0][1])),w(x(w(x(w(b(m[2][1],m[3][3]),b(-m[2][3],m[3][1])),m[1][0]),w(x(w(b(m[2][0],m[3][3]),b(-m[2][3],m[3][0])),-m[1][1]),x(w(b(m[2][0],m[3][1]),b(-m[2][1],m[3][0])),m[1][3]))),m[0][2]),x(w(x(w(b(m[2][1],m[3][2]),b(-m[2][2],m[3][1])),m[1][0]),w(x(w(b(m[2][0],m[3][2]),b(-m[2][2],m[3][0])),-m[1][1]),x(w(b(m[2][0],m[3][1]),b(-m[2][1],m[3][0])),m[1][2]))),-m[0][3]))))}}function p(w,x,b,A){return function(m){return A(w(w(x(w(w(x(w(x(w(b(m[3][3],m[4][4]),b(-m[3][4],m[4][3])),m[2][2]),w(x(w(b(m[3][2],m[4][4]),b(-m[3][4],m[4][2])),-m[2][3]),x(w(b(m[3][2],m[4][3]),b(-m[3][3],m[4][2])),m[2][4]))),m[1][1]),x(w(x(w(b(m[3][3],m[4][4]),b(-m[3][4],m[4][3])),m[2][1]),w(x(w(b(m[3][1],m[4][4]),b(-m[3][4],m[4][1])),-m[2][3]),x(w(b(m[3][1],m[4][3]),b(-m[3][3],m[4][1])),m[2][4]))),-m[1][2])),w(x(w(x(w(b(m[3][2],m[4][4]),b(-m[3][4],m[4][2])),m[2][1]),w(x(w(b(m[3][1],m[4][4]),b(-m[3][4],m[4][1])),-m[2][2]),x(w(b(m[3][1],m[4][2]),b(-m[3][2],m[4][1])),m[2][4]))),m[1][3]),x(w(x(w(b(m[3][2],m[4][3]),b(-m[3][3],m[4][2])),m[2][1]),w(x(w(b(m[3][1],m[4][3]),b(-m[3][3],m[4][1])),-m[2][2]),x(w(b(m[3][1],m[4][2]),b(-m[3][2],m[4][1])),m[2][3]))),-m[1][4]))),m[0][0]),x(w(w(x(w(x(w(b(m[3][3],m[4][4]),b(-m[3][4],m[4][3])),m[2][2]),w(x(w(b(m[3][2],m[4][4]),b(-m[3][4],m[4][2])),-m[2][3]),x(w(b(m[3][2],m[4][3]),b(-m[3][3],m[4][2])),m[2][4]))),m[1][0]),x(w(x(w(b(m[3][3],m[4][4]),b(-m[3][4],m[4][3])),m[2][0]),w(x(w(b(m[3][0],m[4][4]),b(-m[3][4],m[4][0])),-m[2][3]),x(w(b(m[3][0],m[4][3]),b(-m[3][3],m[4][0])),m[2][4]))),-m[1][2])),w(x(w(x(w(b(m[3][2],m[4][4]),b(-m[3][4],m[4][2])),m[2][0]),w(x(w(b(m[3][0],m[4][4]),b(-m[3][4],m[4][0])),-m[2][2]),x(w(b(m[3][0],m[4][2]),b(-m[3][2],m[4][0])),m[2][4]))),m[1][3]),x(w(x(w(b(m[3][2],m[4][3]),b(-m[3][3],m[4][2])),m[2][0]),w(x(w(b(m[3][0],m[4][3]),b(-m[3][3],m[4][0])),-m[2][2]),x(w(b(m[3][0],m[4][2]),b(-m[3][2],m[4][0])),m[2][3]))),-m[1][4]))),-m[0][1])),w(x(w(w(x(w(x(w(b(m[3][3],m[4][4]),b(-m[3][4],m[4][3])),m[2][1]),w(x(w(b(m[3][1],m[4][4]),b(-m[3][4],m[4][1])),-m[2][3]),x(w(b(m[3][1],m[4][3]),b(-m[3][3],m[4][1])),m[2][4]))),m[1][0]),x(w(x(w(b(m[3][3],m[4][4]),b(-m[3][4],m[4][3])),m[2][0]),w(x(w(b(m[3][0],m[4][4]),b(-m[3][4],m[4][0])),-m[2][3]),x(w(b(m[3][0],m[4][3]),b(-m[3][3],m[4][0])),m[2][4]))),-m[1][1])),w(x(w(x(w(b(m[3][1],m[4][4]),b(-m[3][4],m[4][1])),m[2][0]),w(x(w(b(m[3][0],m[4][4]),b(-m[3][4],m[4][0])),-m[2][1]),x(w(b(m[3][0],m[4][1]),b(-m[3][1],m[4][0])),m[2][4]))),m[1][3]),x(w(x(w(b(m[3][1],m[4][3]),b(-m[3][3],m[4][1])),m[2][0]),w(x(w(b(m[3][0],m[4][3]),b(-m[3][3],m[4][0])),-m[2][1]),x(w(b(m[3][0],m[4][1]),b(-m[3][1],m[4][0])),m[2][3]))),-m[1][4]))),m[0][2]),w(x(w(w(x(w(x(w(b(m[3][2],m[4][4]),b(-m[3][4],m[4][2])),m[2][1]),w(x(w(b(m[3][1],m[4][4]),b(-m[3][4],m[4][1])),-m[2][2]),x(w(b(m[3][1],m[4][2]),b(-m[3][2],m[4][1])),m[2][4]))),m[1][0]),x(w(x(w(b(m[3][2],m[4][4]),b(-m[3][4],m[4][2])),m[2][0]),w(x(w(b(m[3][0],m[4][4]),b(-m[3][4],m[4][0])),-m[2][2]),x(w(b(m[3][0],m[4][2]),b(-m[3][2],m[4][0])),m[2][4]))),-m[1][1])),w(x(w(x(w(b(m[3][1],m[4][4]),b(-m[3][4],m[4][1])),m[2][0]),w(x(w(b(m[3][0],m[4][4]),b(-m[3][4],m[4][0])),-m[2][1]),x(w(b(m[3][0],m[4][1]),b(-m[3][1],m[4][0])),m[2][4]))),m[1][2]),x(w(x(w(b(m[3][1],m[4][2]),b(-m[3][2],m[4][1])),m[2][0]),w(x(w(b(m[3][0],m[4][2]),b(-m[3][2],m[4][0])),-m[2][1]),x(w(b(m[3][0],m[4][1]),b(-m[3][1],m[4][0])),m[2][2]))),-m[1][4]))),-m[0][3]),x(w(w(x(w(x(w(b(m[3][2],m[4][3]),b(-m[3][3],m[4][2])),m[2][1]),w(x(w(b(m[3][1],m[4][3]),b(-m[3][3],m[4][1])),-m[2][2]),x(w(b(m[3][1],m[4][2]),b(-m[3][2],m[4][1])),m[2][3]))),m[1][0]),x(w(x(w(b(m[3][2],m[4][3]),b(-m[3][3],m[4][2])),m[2][0]),w(x(w(b(m[3][0],m[4][3]),b(-m[3][3],m[4][0])),-m[2][2]),x(w(b(m[3][0],m[4][2]),b(-m[3][2],m[4][0])),m[2][3]))),-m[1][1])),w(x(w(x(w(b(m[3][1],m[4][3]),b(-m[3][3],m[4][1])),m[2][0]),w(x(w(b(m[3][0],m[4][3]),b(-m[3][3],m[4][0])),-m[2][1]),x(w(b(m[3][0],m[4][1]),b(-m[3][1],m[4][0])),m[2][3]))),m[1][2]),x(w(x(w(b(m[3][1],m[4][2]),b(-m[3][2],m[4][1])),m[2][0]),w(x(w(b(m[3][0],m[4][2]),b(-m[3][2],m[4][0])),-m[2][1]),x(w(b(m[3][0],m[4][1]),b(-m[3][1],m[4][0])),m[2][2]))),-m[1][3]))),m[0][4])))))}}function T(w){return(2===w?c:3===w?h:4===w?v:5===w?p:void 0)(a,o,s,l)}var _=[function(){return[0]},function(w){return[w[0][0]]}];function g(w,x,b,A,m,C,k,P){return function(R){switch(R.length){case 0:return w(R);case 1:return x(R);case 2:return b(R);case 3:return A(R);case 4:return m(R);case 5:return C(R)}var L=k[R.length];return L||(L=k[R.length]=P(R.length)),L(R)}}!function(){for(;_.length<6;)_.push(T(_.length));y.exports=g.apply(void 0,_.concat([_,T]));for(var w=0;w<_.length;++w)y.exports[w]=_[w]}()},9130:function(y,u,i){"use strict";var s=i(9660),a=i(9662);y.exports=function(o,l){for(var c=s(o[0],l[0]),h=1;h<o.length;++h)c=a(c,s(o[h],l[h]));return c}},2227:function(y,u,i){"use strict";var s=i(9660),a=i(9662),o=i(4078),l=i(8289);function c(x){return(3===x?h:4===x?v:5===x?p:T)(a,o,s,l)}function h(x,b,A,m){return function(C,k,P){var R=A(C[0],C[0]),L=m(R,k[0]),N=m(R,P[0]),B=A(k[0],k[0]),J=m(B,C[0]),z=m(B,P[0]),Y=A(P[0],P[0]),q=m(Y,C[0]),U=m(Y,k[0]),Z=x(b(U,z),b(J,L)),X=b(q,N),se=b(Z,X);return se[se.length-1]}}function v(x,b,A,m){return function(C,k,P,R){var L=x(A(C[0],C[0]),A(C[1],C[1])),N=m(L,k[0]),B=m(L,P[0]),J=m(L,R[0]),z=x(A(k[0],k[0]),A(k[1],k[1])),Y=m(z,C[0]),q=m(z,P[0]),U=m(z,R[0]),Z=x(A(P[0],P[0]),A(P[1],P[1])),X=m(Z,C[0]),se=m(Z,k[0]),re=m(Z,R[0]),ee=x(A(R[0],R[0]),A(R[1],R[1])),K=m(ee,C[0]),ne=m(ee,k[0]),ae=m(ee,P[0]),ue=x(x(m(b(ae,re),k[1]),x(m(b(ne,U),-P[1]),m(b(se,q),R[1]))),x(m(b(ne,U),C[1]),x(m(b(K,J),-k[1]),m(b(Y,N),R[1])))),he=x(x(m(b(ae,re),C[1]),x(m(b(K,J),-P[1]),m(b(X,B),R[1]))),x(m(b(se,q),C[1]),x(m(b(X,B),-k[1]),m(b(Y,N),P[1])))),pe=b(ue,he);return pe[pe.length-1]}}function p(x,b,A,m){return function(C,k,P,R,L){var N=x(A(C[0],C[0]),x(A(C[1],C[1]),A(C[2],C[2]))),B=m(N,k[0]),J=m(N,P[0]),z=m(N,R[0]),Y=m(N,L[0]),q=x(A(k[0],k[0]),x(A(k[1],k[1]),A(k[2],k[2]))),U=m(q,C[0]),Z=m(q,P[0]),X=m(q,R[0]),se=m(q,L[0]),re=x(A(P[0],P[0]),x(A(P[1],P[1]),A(P[2],P[2]))),ee=m(re,C[0]),K=m(re,k[0]),ne=m(re,R[0]),ae=m(re,L[0]),ue=x(A(R[0],R[0]),x(A(R[1],R[1]),A(R[2],R[2]))),he=m(ue,C[0]),pe=m(ue,k[0]),ge=m(ue,P[0]),xe=m(ue,L[0]),Se=x(A(L[0],L[0]),x(A(L[1],L[1]),A(L[2],L[2]))),Te=m(Se,C[0]),ye=m(Se,k[0]),we=m(Se,P[0]),ze=m(Se,R[0]),ke=x(x(x(m(x(m(b(ze,xe),P[1]),x(m(b(we,ae),-R[1]),m(b(ge,ne),L[1]))),k[2]),x(m(x(m(b(ze,xe),k[1]),x(m(b(ye,se),-R[1]),m(b(pe,X),L[1]))),-P[2]),m(x(m(b(we,ae),k[1]),x(m(b(ye,se),-P[1]),m(b(K,Z),L[1]))),R[2]))),x(m(x(m(b(ge,ne),k[1]),x(m(b(pe,X),-P[1]),m(b(K,Z),R[1]))),-L[2]),x(m(x(m(b(ze,xe),k[1]),x(m(b(ye,se),-R[1]),m(b(pe,X),L[1]))),C[2]),m(x(m(b(ze,xe),C[1]),x(m(b(Te,Y),-R[1]),m(b(he,z),L[1]))),-k[2])))),x(x(m(x(m(b(ye,se),C[1]),x(m(b(Te,Y),-k[1]),m(b(U,B),L[1]))),R[2]),x(m(x(m(b(pe,X),C[1]),x(m(b(he,z),-k[1]),m(b(U,B),R[1]))),-L[2]),m(x(m(b(ge,ne),k[1]),x(m(b(pe,X),-P[1]),m(b(K,Z),R[1]))),C[2]))),x(m(x(m(b(ge,ne),C[1]),x(m(b(he,z),-P[1]),m(b(ee,J),R[1]))),-k[2]),x(m(x(m(b(pe,X),C[1]),x(m(b(he,z),-k[1]),m(b(U,B),R[1]))),P[2]),m(x(m(b(K,Z),C[1]),x(m(b(ee,J),-k[1]),m(b(U,B),P[1]))),-R[2]))))),Ee=x(x(x(m(x(m(b(ze,xe),P[1]),x(m(b(we,ae),-R[1]),m(b(ge,ne),L[1]))),C[2]),m(x(m(b(ze,xe),C[1]),x(m(b(Te,Y),-R[1]),m(b(he,z),L[1]))),-P[2])),x(m(x(m(b(we,ae),C[1]),x(m(b(Te,Y),-P[1]),m(b(ee,J),L[1]))),R[2]),m(x(m(b(ge,ne),C[1]),x(m(b(he,z),-P[1]),m(b(ee,J),R[1]))),-L[2]))),x(x(m(x(m(b(we,ae),k[1]),x(m(b(ye,se),-P[1]),m(b(K,Z),L[1]))),C[2]),m(x(m(b(we,ae),C[1]),x(m(b(Te,Y),-P[1]),m(b(ee,J),L[1]))),-k[2])),x(m(x(m(b(ye,se),C[1]),x(m(b(Te,Y),-k[1]),m(b(U,B),L[1]))),P[2]),m(x(m(b(K,Z),C[1]),x(m(b(ee,J),-k[1]),m(b(U,B),P[1]))),-L[2])))),me=b(ke,Ee);return me[me.length-1]}}function T(x,b,A,m){return function(C,k,P,R,L,N){var B=x(x(A(C[0],C[0]),A(C[1],C[1])),x(A(C[2],C[2]),A(C[3],C[3]))),J=m(B,k[0]),z=m(B,P[0]),Y=m(B,R[0]),q=m(B,L[0]),U=m(B,N[0]),Z=x(x(A(k[0],k[0]),A(k[1],k[1])),x(A(k[2],k[2]),A(k[3],k[3]))),X=m(Z,C[0]),se=m(Z,P[0]),re=m(Z,R[0]),ee=m(Z,L[0]),K=m(Z,N[0]),ne=x(x(A(P[0],P[0]),A(P[1],P[1])),x(A(P[2],P[2]),A(P[3],P[3]))),ae=m(ne,C[0]),ue=m(ne,k[0]),he=m(ne,R[0]),pe=m(ne,L[0]),ge=m(ne,N[0]),xe=x(x(A(R[0],R[0]),A(R[1],R[1])),x(A(R[2],R[2]),A(R[3],R[3]))),Se=m(xe,C[0]),Te=m(xe,k[0]),ye=m(xe,P[0]),we=m(xe,L[0]),ze=m(xe,N[0]),ke=x(x(A(L[0],L[0]),A(L[1],L[1])),x(A(L[2],L[2]),A(L[3],L[3]))),Ee=m(ke,C[0]),me=m(ke,k[0]),de=m(ke,P[0]),ce=m(ke,R[0]),Ae=m(ke,N[0]),Ne=x(x(A(N[0],N[0]),A(N[1],N[1])),x(A(N[2],N[2]),A(N[3],N[3]))),De=m(Ne,C[0]),Ue=m(Ne,k[0]),Ye=m(Ne,P[0]),_e=m(Ne,R[0]),Pe=m(Ne,L[0]),Ie=x(x(x(m(x(x(m(x(m(b(Pe,Ae),R[1]),x(m(b(_e,ze),-L[1]),m(b(ce,we),N[1]))),P[2]),m(x(m(b(Pe,Ae),P[1]),x(m(b(Ye,ge),-L[1]),m(b(de,pe),N[1]))),-R[2])),x(m(x(m(b(_e,ze),P[1]),x(m(b(Ye,ge),-R[1]),m(b(ye,he),N[1]))),L[2]),m(x(m(b(ce,we),P[1]),x(m(b(de,pe),-R[1]),m(b(ye,he),L[1]))),-N[2]))),k[3]),x(m(x(x(m(x(m(b(Pe,Ae),R[1]),x(m(b(_e,ze),-L[1]),m(b(ce,we),N[1]))),k[2]),m(x(m(b(Pe,Ae),k[1]),x(m(b(Ue,K),-L[1]),m(b(me,ee),N[1]))),-R[2])),x(m(x(m(b(_e,ze),k[1]),x(m(b(Ue,K),-R[1]),m(b(Te,re),N[1]))),L[2]),m(x(m(b(ce,we),k[1]),x(m(b(me,ee),-R[1]),m(b(Te,re),L[1]))),-N[2]))),-P[3]),m(x(x(m(x(m(b(Pe,Ae),P[1]),x(m(b(Ye,ge),-L[1]),m(b(de,pe),N[1]))),k[2]),m(x(m(b(Pe,Ae),k[1]),x(m(b(Ue,K),-L[1]),m(b(me,ee),N[1]))),-P[2])),x(m(x(m(b(Ye,ge),k[1]),x(m(b(Ue,K),-P[1]),m(b(ue,se),N[1]))),L[2]),m(x(m(b(de,pe),k[1]),x(m(b(me,ee),-P[1]),m(b(ue,se),L[1]))),-N[2]))),R[3]))),x(x(m(x(x(m(x(m(b(_e,ze),P[1]),x(m(b(Ye,ge),-R[1]),m(b(ye,he),N[1]))),k[2]),m(x(m(b(_e,ze),k[1]),x(m(b(Ue,K),-R[1]),m(b(Te,re),N[1]))),-P[2])),x(m(x(m(b(Ye,ge),k[1]),x(m(b(Ue,K),-P[1]),m(b(ue,se),N[1]))),R[2]),m(x(m(b(ye,he),k[1]),x(m(b(Te,re),-P[1]),m(b(ue,se),R[1]))),-N[2]))),-L[3]),m(x(x(m(x(m(b(ce,we),P[1]),x(m(b(de,pe),-R[1]),m(b(ye,he),L[1]))),k[2]),m(x(m(b(ce,we),k[1]),x(m(b(me,ee),-R[1]),m(b(Te,re),L[1]))),-P[2])),x(m(x(m(b(de,pe),k[1]),x(m(b(me,ee),-P[1]),m(b(ue,se),L[1]))),R[2]),m(x(m(b(ye,he),k[1]),x(m(b(Te,re),-P[1]),m(b(ue,se),R[1]))),-L[2]))),N[3])),x(m(x(x(m(x(m(b(Pe,Ae),R[1]),x(m(b(_e,ze),-L[1]),m(b(ce,we),N[1]))),k[2]),m(x(m(b(Pe,Ae),k[1]),x(m(b(Ue,K),-L[1]),m(b(me,ee),N[1]))),-R[2])),x(m(x(m(b(_e,ze),k[1]),x(m(b(Ue,K),-R[1]),m(b(Te,re),N[1]))),L[2]),m(x(m(b(ce,we),k[1]),x(m(b(me,ee),-R[1]),m(b(Te,re),L[1]))),-N[2]))),C[3]),m(x(x(m(x(m(b(Pe,Ae),R[1]),x(m(b(_e,ze),-L[1]),m(b(ce,we),N[1]))),C[2]),m(x(m(b(Pe,Ae),C[1]),x(m(b(De,U),-L[1]),m(b(Ee,q),N[1]))),-R[2])),x(m(x(m(b(_e,ze),C[1]),x(m(b(De,U),-R[1]),m(b(Se,Y),N[1]))),L[2]),m(x(m(b(ce,we),C[1]),x(m(b(Ee,q),-R[1]),m(b(Se,Y),L[1]))),-N[2]))),-k[3])))),x(x(x(m(x(x(m(x(m(b(Pe,Ae),k[1]),x(m(b(Ue,K),-L[1]),m(b(me,ee),N[1]))),C[2]),m(x(m(b(Pe,Ae),C[1]),x(m(b(De,U),-L[1]),m(b(Ee,q),N[1]))),-k[2])),x(m(x(m(b(Ue,K),C[1]),x(m(b(De,U),-k[1]),m(b(X,J),N[1]))),L[2]),m(x(m(b(me,ee),C[1]),x(m(b(Ee,q),-k[1]),m(b(X,J),L[1]))),-N[2]))),R[3]),m(x(x(m(x(m(b(_e,ze),k[1]),x(m(b(Ue,K),-R[1]),m(b(Te,re),N[1]))),C[2]),m(x(m(b(_e,ze),C[1]),x(m(b(De,U),-R[1]),m(b(Se,Y),N[1]))),-k[2])),x(m(x(m(b(Ue,K),C[1]),x(m(b(De,U),-k[1]),m(b(X,J),N[1]))),R[2]),m(x(m(b(Te,re),C[1]),x(m(b(Se,Y),-k[1]),m(b(X,J),R[1]))),-N[2]))),-L[3])),x(m(x(x(m(x(m(b(ce,we),k[1]),x(m(b(me,ee),-R[1]),m(b(Te,re),L[1]))),C[2]),m(x(m(b(ce,we),C[1]),x(m(b(Ee,q),-R[1]),m(b(Se,Y),L[1]))),-k[2])),x(m(x(m(b(me,ee),C[1]),x(m(b(Ee,q),-k[1]),m(b(X,J),L[1]))),R[2]),m(x(m(b(Te,re),C[1]),x(m(b(Se,Y),-k[1]),m(b(X,J),R[1]))),-L[2]))),N[3]),m(x(x(m(x(m(b(_e,ze),P[1]),x(m(b(Ye,ge),-R[1]),m(b(ye,he),N[1]))),k[2]),m(x(m(b(_e,ze),k[1]),x(m(b(Ue,K),-R[1]),m(b(Te,re),N[1]))),-P[2])),x(m(x(m(b(Ye,ge),k[1]),x(m(b(Ue,K),-P[1]),m(b(ue,se),N[1]))),R[2]),m(x(m(b(ye,he),k[1]),x(m(b(Te,re),-P[1]),m(b(ue,se),R[1]))),-N[2]))),C[3]))),x(x(m(x(x(m(x(m(b(_e,ze),P[1]),x(m(b(Ye,ge),-R[1]),m(b(ye,he),N[1]))),C[2]),m(x(m(b(_e,ze),C[1]),x(m(b(De,U),-R[1]),m(b(Se,Y),N[1]))),-P[2])),x(m(x(m(b(Ye,ge),C[1]),x(m(b(De,U),-P[1]),m(b(ae,z),N[1]))),R[2]),m(x(m(b(ye,he),C[1]),x(m(b(Se,Y),-P[1]),m(b(ae,z),R[1]))),-N[2]))),-k[3]),m(x(x(m(x(m(b(_e,ze),k[1]),x(m(b(Ue,K),-R[1]),m(b(Te,re),N[1]))),C[2]),m(x(m(b(_e,ze),C[1]),x(m(b(De,U),-R[1]),m(b(Se,Y),N[1]))),-k[2])),x(m(x(m(b(Ue,K),C[1]),x(m(b(De,U),-k[1]),m(b(X,J),N[1]))),R[2]),m(x(m(b(Te,re),C[1]),x(m(b(Se,Y),-k[1]),m(b(X,J),R[1]))),-N[2]))),P[3])),x(m(x(x(m(x(m(b(Ye,ge),k[1]),x(m(b(Ue,K),-P[1]),m(b(ue,se),N[1]))),C[2]),m(x(m(b(Ye,ge),C[1]),x(m(b(De,U),-P[1]),m(b(ae,z),N[1]))),-k[2])),x(m(x(m(b(Ue,K),C[1]),x(m(b(De,U),-k[1]),m(b(X,J),N[1]))),P[2]),m(x(m(b(ue,se),C[1]),x(m(b(ae,z),-k[1]),m(b(X,J),P[1]))),-N[2]))),-R[3]),m(x(x(m(x(m(b(ye,he),k[1]),x(m(b(Te,re),-P[1]),m(b(ue,se),R[1]))),C[2]),m(x(m(b(ye,he),C[1]),x(m(b(Se,Y),-P[1]),m(b(ae,z),R[1]))),-k[2])),x(m(x(m(b(Te,re),C[1]),x(m(b(Se,Y),-k[1]),m(b(X,J),R[1]))),P[2]),m(x(m(b(ue,se),C[1]),x(m(b(ae,z),-k[1]),m(b(X,J),P[1]))),-R[2]))),N[3]))))),Be=x(x(x(m(x(x(m(x(m(b(Pe,Ae),R[1]),x(m(b(_e,ze),-L[1]),m(b(ce,we),N[1]))),P[2]),m(x(m(b(Pe,Ae),P[1]),x(m(b(Ye,ge),-L[1]),m(b(de,pe),N[1]))),-R[2])),x(m(x(m(b(_e,ze),P[1]),x(m(b(Ye,ge),-R[1]),m(b(ye,he),N[1]))),L[2]),m(x(m(b(ce,we),P[1]),x(m(b(de,pe),-R[1]),m(b(ye,he),L[1]))),-N[2]))),C[3]),x(m(x(x(m(x(m(b(Pe,Ae),R[1]),x(m(b(_e,ze),-L[1]),m(b(ce,we),N[1]))),C[2]),m(x(m(b(Pe,Ae),C[1]),x(m(b(De,U),-L[1]),m(b(Ee,q),N[1]))),-R[2])),x(m(x(m(b(_e,ze),C[1]),x(m(b(De,U),-R[1]),m(b(Se,Y),N[1]))),L[2]),m(x(m(b(ce,we),C[1]),x(m(b(Ee,q),-R[1]),m(b(Se,Y),L[1]))),-N[2]))),-P[3]),m(x(x(m(x(m(b(Pe,Ae),P[1]),x(m(b(Ye,ge),-L[1]),m(b(de,pe),N[1]))),C[2]),m(x(m(b(Pe,Ae),C[1]),x(m(b(De,U),-L[1]),m(b(Ee,q),N[1]))),-P[2])),x(m(x(m(b(Ye,ge),C[1]),x(m(b(De,U),-P[1]),m(b(ae,z),N[1]))),L[2]),m(x(m(b(de,pe),C[1]),x(m(b(Ee,q),-P[1]),m(b(ae,z),L[1]))),-N[2]))),R[3]))),x(x(m(x(x(m(x(m(b(_e,ze),P[1]),x(m(b(Ye,ge),-R[1]),m(b(ye,he),N[1]))),C[2]),m(x(m(b(_e,ze),C[1]),x(m(b(De,U),-R[1]),m(b(Se,Y),N[1]))),-P[2])),x(m(x(m(b(Ye,ge),C[1]),x(m(b(De,U),-P[1]),m(b(ae,z),N[1]))),R[2]),m(x(m(b(ye,he),C[1]),x(m(b(Se,Y),-P[1]),m(b(ae,z),R[1]))),-N[2]))),-L[3]),m(x(x(m(x(m(b(ce,we),P[1]),x(m(b(de,pe),-R[1]),m(b(ye,he),L[1]))),C[2]),m(x(m(b(ce,we),C[1]),x(m(b(Ee,q),-R[1]),m(b(Se,Y),L[1]))),-P[2])),x(m(x(m(b(de,pe),C[1]),x(m(b(Ee,q),-P[1]),m(b(ae,z),L[1]))),R[2]),m(x(m(b(ye,he),C[1]),x(m(b(Se,Y),-P[1]),m(b(ae,z),R[1]))),-L[2]))),N[3])),x(m(x(x(m(x(m(b(Pe,Ae),P[1]),x(m(b(Ye,ge),-L[1]),m(b(de,pe),N[1]))),k[2]),m(x(m(b(Pe,Ae),k[1]),x(m(b(Ue,K),-L[1]),m(b(me,ee),N[1]))),-P[2])),x(m(x(m(b(Ye,ge),k[1]),x(m(b(Ue,K),-P[1]),m(b(ue,se),N[1]))),L[2]),m(x(m(b(de,pe),k[1]),x(m(b(me,ee),-P[1]),m(b(ue,se),L[1]))),-N[2]))),C[3]),m(x(x(m(x(m(b(Pe,Ae),P[1]),x(m(b(Ye,ge),-L[1]),m(b(de,pe),N[1]))),C[2]),m(x(m(b(Pe,Ae),C[1]),x(m(b(De,U),-L[1]),m(b(Ee,q),N[1]))),-P[2])),x(m(x(m(b(Ye,ge),C[1]),x(m(b(De,U),-P[1]),m(b(ae,z),N[1]))),L[2]),m(x(m(b(de,pe),C[1]),x(m(b(Ee,q),-P[1]),m(b(ae,z),L[1]))),-N[2]))),-k[3])))),x(x(x(m(x(x(m(x(m(b(Pe,Ae),k[1]),x(m(b(Ue,K),-L[1]),m(b(me,ee),N[1]))),C[2]),m(x(m(b(Pe,Ae),C[1]),x(m(b(De,U),-L[1]),m(b(Ee,q),N[1]))),-k[2])),x(m(x(m(b(Ue,K),C[1]),x(m(b(De,U),-k[1]),m(b(X,J),N[1]))),L[2]),m(x(m(b(me,ee),C[1]),x(m(b(Ee,q),-k[1]),m(b(X,J),L[1]))),-N[2]))),P[3]),m(x(x(m(x(m(b(Ye,ge),k[1]),x(m(b(Ue,K),-P[1]),m(b(ue,se),N[1]))),C[2]),m(x(m(b(Ye,ge),C[1]),x(m(b(De,U),-P[1]),m(b(ae,z),N[1]))),-k[2])),x(m(x(m(b(Ue,K),C[1]),x(m(b(De,U),-k[1]),m(b(X,J),N[1]))),P[2]),m(x(m(b(ue,se),C[1]),x(m(b(ae,z),-k[1]),m(b(X,J),P[1]))),-N[2]))),-L[3])),x(m(x(x(m(x(m(b(de,pe),k[1]),x(m(b(me,ee),-P[1]),m(b(ue,se),L[1]))),C[2]),m(x(m(b(de,pe),C[1]),x(m(b(Ee,q),-P[1]),m(b(ae,z),L[1]))),-k[2])),x(m(x(m(b(me,ee),C[1]),x(m(b(Ee,q),-k[1]),m(b(X,J),L[1]))),P[2]),m(x(m(b(ue,se),C[1]),x(m(b(ae,z),-k[1]),m(b(X,J),P[1]))),-L[2]))),N[3]),m(x(x(m(x(m(b(ce,we),P[1]),x(m(b(de,pe),-R[1]),m(b(ye,he),L[1]))),k[2]),m(x(m(b(ce,we),k[1]),x(m(b(me,ee),-R[1]),m(b(Te,re),L[1]))),-P[2])),x(m(x(m(b(de,pe),k[1]),x(m(b(me,ee),-P[1]),m(b(ue,se),L[1]))),R[2]),m(x(m(b(ye,he),k[1]),x(m(b(Te,re),-P[1]),m(b(ue,se),R[1]))),-L[2]))),C[3]))),x(x(m(x(x(m(x(m(b(ce,we),P[1]),x(m(b(de,pe),-R[1]),m(b(ye,he),L[1]))),C[2]),m(x(m(b(ce,we),C[1]),x(m(b(Ee,q),-R[1]),m(b(Se,Y),L[1]))),-P[2])),x(m(x(m(b(de,pe),C[1]),x(m(b(Ee,q),-P[1]),m(b(ae,z),L[1]))),R[2]),m(x(m(b(ye,he),C[1]),x(m(b(Se,Y),-P[1]),m(b(ae,z),R[1]))),-L[2]))),-k[3]),m(x(x(m(x(m(b(ce,we),k[1]),x(m(b(me,ee),-R[1]),m(b(Te,re),L[1]))),C[2]),m(x(m(b(ce,we),C[1]),x(m(b(Ee,q),-R[1]),m(b(Se,Y),L[1]))),-k[2])),x(m(x(m(b(me,ee),C[1]),x(m(b(Ee,q),-k[1]),m(b(X,J),L[1]))),R[2]),m(x(m(b(Te,re),C[1]),x(m(b(Se,Y),-k[1]),m(b(X,J),R[1]))),-L[2]))),P[3])),x(m(x(x(m(x(m(b(de,pe),k[1]),x(m(b(me,ee),-P[1]),m(b(ue,se),L[1]))),C[2]),m(x(m(b(de,pe),C[1]),x(m(b(Ee,q),-P[1]),m(b(ae,z),L[1]))),-k[2])),x(m(x(m(b(me,ee),C[1]),x(m(b(Ee,q),-k[1]),m(b(X,J),L[1]))),P[2]),m(x(m(b(ue,se),C[1]),x(m(b(ae,z),-k[1]),m(b(X,J),P[1]))),-L[2]))),-R[3]),m(x(x(m(x(m(b(ye,he),k[1]),x(m(b(Te,re),-P[1]),m(b(ue,se),R[1]))),C[2]),m(x(m(b(ye,he),C[1]),x(m(b(Se,Y),-P[1]),m(b(ae,z),R[1]))),-k[2])),x(m(x(m(b(Te,re),C[1]),x(m(b(Se,Y),-k[1]),m(b(X,J),R[1]))),P[2]),m(x(m(b(ue,se),C[1]),x(m(b(ae,z),-k[1]),m(b(X,J),P[1]))),-R[2]))),L[3]))))),We=b(Ie,Be);return We[We.length-1]}}var _=[function(){return 0},function(){return 0},function(){return 0}];function g(x){var b=_[x.length];return b||(b=_[x.length]=c(x.length)),b.apply(void 0,x)}function w(x,b,A,m,C,k,P,R){return function(L,N,B,J,z,Y){switch(arguments.length){case 0:case 1:return 0;case 2:return m(L,N);case 3:return C(L,N,B);case 4:return k(L,N,B,J);case 5:return P(L,N,B,J,z);case 6:return R(L,N,B,J,z,Y)}for(var q=new Array(arguments.length),U=0;U<arguments.length;++U)q[U]=arguments[U];return x(q)}}!function(){for(;_.length<=6;)_.push(c(_.length));y.exports=w.apply(void 0,[g].concat(_));for(var x=0;x<=6;++x)y.exports[x]=_[x]}()},6606:function(y,u,i){"use strict";var s=i(8167);function a(_){return(2===_?o:3===_?l:4===_?c:5===_?h:v)(_<6?s[_]:s)}function o(_){return function(g,w){return[_([[+w[0],+g[0][1]],[+w[1],+g[1][1]]]),_([[+g[0][0],+w[0]],[+g[1][0],+w[1]]]),_(g)]}}function l(_){return function(g,w){return[_([[+w[0],+g[0][1],+g[0][2]],[+w[1],+g[1][1],+g[1][2]],[+w[2],+g[2][1],+g[2][2]]]),_([[+g[0][0],+w[0],+g[0][2]],[+g[1][0],+w[1],+g[1][2]],[+g[2][0],+w[2],+g[2][2]]]),_([[+g[0][0],+g[0][1],+w[0]],[+g[1][0],+g[1][1],+w[1]],[+g[2][0],+g[2][1],+w[2]]]),_(g)]}}function c(_){return function(g,w){return[_([[+w[0],+g[0][1],+g[0][2],+g[0][3]],[+w[1],+g[1][1],+g[1][2],+g[1][3]],[+w[2],+g[2][1],+g[2][2],+g[2][3]],[+w[3],+g[3][1],+g[3][2],+g[3][3]]]),_([[+g[0][0],+w[0],+g[0][2],+g[0][3]],[+g[1][0],+w[1],+g[1][2],+g[1][3]],[+g[2][0],+w[2],+g[2][2],+g[2][3]],[+g[3][0],+w[3],+g[3][2],+g[3][3]]]),_([[+g[0][0],+g[0][1],+w[0],+g[0][3]],[+g[1][0],+g[1][1],+w[1],+g[1][3]],[+g[2][0],+g[2][1],+w[2],+g[2][3]],[+g[3][0],+g[3][1],+w[3],+g[3][3]]]),_([[+g[0][0],+g[0][1],+g[0][2],+w[0]],[+g[1][0],+g[1][1],+g[1][2],+w[1]],[+g[2][0],+g[2][1],+g[2][2],+w[2]],[+g[3][0],+g[3][1],+g[3][2],+w[3]]]),_(g)]}}function h(_){return function(g,w){return[_([[+w[0],+g[0][1],+g[0][2],+g[0][3],+g[0][4]],[+w[1],+g[1][1],+g[1][2],+g[1][3],+g[1][4]],[+w[2],+g[2][1],+g[2][2],+g[2][3],+g[2][4]],[+w[3],+g[3][1],+g[3][2],+g[3][3],+g[3][4]],[+w[4],+g[4][1],+g[4][2],+g[4][3],+g[4][4]]]),_([[+g[0][0],+w[0],+g[0][2],+g[0][3],+g[0][4]],[+g[1][0],+w[1],+g[1][2],+g[1][3],+g[1][4]],[+g[2][0],+w[2],+g[2][2],+g[2][3],+g[2][4]],[+g[3][0],+w[3],+g[3][2],+g[3][3],+g[3][4]],[+g[4][0],+w[4],+g[4][2],+g[4][3],+g[4][4]]]),_([[+g[0][0],+g[0][1],+w[0],+g[0][3],+g[0][4]],[+g[1][0],+g[1][1],+w[1],+g[1][3],+g[1][4]],[+g[2][0],+g[2][1],+w[2],+g[2][3],+g[2][4]],[+g[3][0],+g[3][1],+w[3],+g[3][3],+g[3][4]],[+g[4][0],+g[4][1],+w[4],+g[4][3],+g[4][4]]]),_([[+g[0][0],+g[0][1],+g[0][2],+w[0],+g[0][4]],[+g[1][0],+g[1][1],+g[1][2],+w[1],+g[1][4]],[+g[2][0],+g[2][1],+g[2][2],+w[2],+g[2][4]],[+g[3][0],+g[3][1],+g[3][2],+w[3],+g[3][4]],[+g[4][0],+g[4][1],+g[4][2],+w[4],+g[4][4]]]),_([[+g[0][0],+g[0][1],+g[0][2],+g[0][3],+w[0]],[+g[1][0],+g[1][1],+g[1][2],+g[1][3],+w[1]],[+g[2][0],+g[2][1],+g[2][2],+g[2][3],+w[2]],[+g[3][0],+g[3][1],+g[3][2],+g[3][3],+w[3]],[+g[4][0],+g[4][1],+g[4][2],+g[4][3],+w[4]]]),_(g)]}}function v(_){return function(g,w){return[_([[+w[0],+g[0][1],+g[0][2],+g[0][3],+g[0][4],+g[0][5]],[+w[1],+g[1][1],+g[1][2],+g[1][3],+g[1][4],+g[1][5]],[+w[2],+g[2][1],+g[2][2],+g[2][3],+g[2][4],+g[2][5]],[+w[3],+g[3][1],+g[3][2],+g[3][3],+g[3][4],+g[3][5]],[+w[4],+g[4][1],+g[4][2],+g[4][3],+g[4][4],+g[4][5]],[+w[5],+g[5][1],+g[5][2],+g[5][3],+g[5][4],+g[5][5]]]),_([[+g[0][0],+w[0],+g[0][2],+g[0][3],+g[0][4],+g[0][5]],[+g[1][0],+w[1],+g[1][2],+g[1][3],+g[1][4],+g[1][5]],[+g[2][0],+w[2],+g[2][2],+g[2][3],+g[2][4],+g[2][5]],[+g[3][0],+w[3],+g[3][2],+g[3][3],+g[3][4],+g[3][5]],[+g[4][0],+w[4],+g[4][2],+g[4][3],+g[4][4],+g[4][5]],[+g[5][0],+w[5],+g[5][2],+g[5][3],+g[5][4],+g[5][5]]]),_([[+g[0][0],+g[0][1],+w[0],+g[0][3],+g[0][4],+g[0][5]],[+g[1][0],+g[1][1],+w[1],+g[1][3],+g[1][4],+g[1][5]],[+g[2][0],+g[2][1],+w[2],+g[2][3],+g[2][4],+g[2][5]],[+g[3][0],+g[3][1],+w[3],+g[3][3],+g[3][4],+g[3][5]],[+g[4][0],+g[4][1],+w[4],+g[4][3],+g[4][4],+g[4][5]],[+g[5][0],+g[5][1],+w[5],+g[5][3],+g[5][4],+g[5][5]]]),_([[+g[0][0],+g[0][1],+g[0][2],+w[0],+g[0][4],+g[0][5]],[+g[1][0],+g[1][1],+g[1][2],+w[1],+g[1][4],+g[1][5]],[+g[2][0],+g[2][1],+g[2][2],+w[2],+g[2][4],+g[2][5]],[+g[3][0],+g[3][1],+g[3][2],+w[3],+g[3][4],+g[3][5]],[+g[4][0],+g[4][1],+g[4][2],+w[4],+g[4][4],+g[4][5]],[+g[5][0],+g[5][1],+g[5][2],+w[5],+g[5][4],+g[5][5]]]),_([[+g[0][0],+g[0][1],+g[0][2],+g[0][3],+w[0],+g[0][5]],[+g[1][0],+g[1][1],+g[1][2],+g[1][3],+w[1],+g[1][5]],[+g[2][0],+g[2][1],+g[2][2],+g[2][3],+w[2],+g[2][5]],[+g[3][0],+g[3][1],+g[3][2],+g[3][3],+w[3],+g[3][5]],[+g[4][0],+g[4][1],+g[4][2],+g[4][3],+w[4],+g[4][5]],[+g[5][0],+g[5][1],+g[5][2],+g[5][3],+w[5],+g[5][5]]]),_([[+g[0][0],+g[0][1],+g[0][2],+g[0][3],+g[0][4],+w[0]],[+g[1][0],+g[1][1],+g[1][2],+g[1][3],+g[1][4],+w[1]],[+g[2][0],+g[2][1],+g[2][2],+g[2][3],+g[2][4],+w[2]],[+g[3][0],+g[3][1],+g[3][2],+g[3][3],+g[3][4],+w[3]],[+g[4][0],+g[4][1],+g[4][2],+g[4][3],+g[4][4],+w[4]],[+g[5][0],+g[5][1],+g[5][2],+g[5][3],+g[5][4],+w[5]]]),_(g)]}}var p=[function(){return[[0]]},function(_,g){return[[g[0]],[_[0][0]]]}];function T(_,g,w,x,b,A,m,C){return function(k,P){switch(k.length){case 0:return _(k,P);case 1:return g(k,P);case 2:return w(k,P);case 3:return x(k,P);case 4:return b(k,P);case 5:return A(k,P)}var R=m[k.length];return R||(R=m[k.length]=C(k.length)),R(k,P)}}!function(){for(;p.length<6;)p.push(a(p.length));y.exports=T.apply(void 0,p.concat([p,a]));for(var _=0;_<6;++_)y.exports[_]=p[_]}()},417:function(y,u,i){"use strict";var s=i(9660),a=i(9662),o=i(8289),l=i(4078);function c(b,A,m,C){return function(k,P,R){var L=b(b(A(P[1],R[0]),A(-R[1],P[0])),b(A(k[1],P[0]),A(-P[1],k[0]))),N=b(A(k[1],R[0]),A(-R[1],k[0])),B=C(L,N);return B[B.length-1]}}function h(b,A,m,C){return function(k,P,R,L){var N=b(b(m(b(A(R[1],L[0]),A(-L[1],R[0])),P[2]),b(m(b(A(P[1],L[0]),A(-L[1],P[0])),-R[2]),m(b(A(P[1],R[0]),A(-R[1],P[0])),L[2]))),b(m(b(A(P[1],L[0]),A(-L[1],P[0])),k[2]),b(m(b(A(k[1],L[0]),A(-L[1],k[0])),-P[2]),m(b(A(k[1],P[0]),A(-P[1],k[0])),L[2])))),B=b(b(m(b(A(R[1],L[0]),A(-L[1],R[0])),k[2]),b(m(b(A(k[1],L[0]),A(-L[1],k[0])),-R[2]),m(b(A(k[1],R[0]),A(-R[1],k[0])),L[2]))),b(m(b(A(P[1],R[0]),A(-R[1],P[0])),k[2]),b(m(b(A(k[1],R[0]),A(-R[1],k[0])),-P[2]),m(b(A(k[1],P[0]),A(-P[1],k[0])),R[2])))),J=C(N,B);return J[J.length-1]}}function v(b,A,m,C){return function(k,P,R,L,N){var B=b(b(b(m(b(m(b(A(L[1],N[0]),A(-N[1],L[0])),R[2]),b(m(b(A(R[1],N[0]),A(-N[1],R[0])),-L[2]),m(b(A(R[1],L[0]),A(-L[1],R[0])),N[2]))),P[3]),b(m(b(m(b(A(L[1],N[0]),A(-N[1],L[0])),P[2]),b(m(b(A(P[1],N[0]),A(-N[1],P[0])),-L[2]),m(b(A(P[1],L[0]),A(-L[1],P[0])),N[2]))),-R[3]),m(b(m(b(A(R[1],N[0]),A(-N[1],R[0])),P[2]),b(m(b(A(P[1],N[0]),A(-N[1],P[0])),-R[2]),m(b(A(P[1],R[0]),A(-R[1],P[0])),N[2]))),L[3]))),b(m(b(m(b(A(R[1],L[0]),A(-L[1],R[0])),P[2]),b(m(b(A(P[1],L[0]),A(-L[1],P[0])),-R[2]),m(b(A(P[1],R[0]),A(-R[1],P[0])),L[2]))),-N[3]),b(m(b(m(b(A(L[1],N[0]),A(-N[1],L[0])),P[2]),b(m(b(A(P[1],N[0]),A(-N[1],P[0])),-L[2]),m(b(A(P[1],L[0]),A(-L[1],P[0])),N[2]))),k[3]),m(b(m(b(A(L[1],N[0]),A(-N[1],L[0])),k[2]),b(m(b(A(k[1],N[0]),A(-N[1],k[0])),-L[2]),m(b(A(k[1],L[0]),A(-L[1],k[0])),N[2]))),-P[3])))),b(b(m(b(m(b(A(P[1],N[0]),A(-N[1],P[0])),k[2]),b(m(b(A(k[1],N[0]),A(-N[1],k[0])),-P[2]),m(b(A(k[1],P[0]),A(-P[1],k[0])),N[2]))),L[3]),b(m(b(m(b(A(P[1],L[0]),A(-L[1],P[0])),k[2]),b(m(b(A(k[1],L[0]),A(-L[1],k[0])),-P[2]),m(b(A(k[1],P[0]),A(-P[1],k[0])),L[2]))),-N[3]),m(b(m(b(A(R[1],L[0]),A(-L[1],R[0])),P[2]),b(m(b(A(P[1],L[0]),A(-L[1],P[0])),-R[2]),m(b(A(P[1],R[0]),A(-R[1],P[0])),L[2]))),k[3]))),b(m(b(m(b(A(R[1],L[0]),A(-L[1],R[0])),k[2]),b(m(b(A(k[1],L[0]),A(-L[1],k[0])),-R[2]),m(b(A(k[1],R[0]),A(-R[1],k[0])),L[2]))),-P[3]),b(m(b(m(b(A(P[1],L[0]),A(-L[1],P[0])),k[2]),b(m(b(A(k[1],L[0]),A(-L[1],k[0])),-P[2]),m(b(A(k[1],P[0]),A(-P[1],k[0])),L[2]))),R[3]),m(b(m(b(A(P[1],R[0]),A(-R[1],P[0])),k[2]),b(m(b(A(k[1],R[0]),A(-R[1],k[0])),-P[2]),m(b(A(k[1],P[0]),A(-P[1],k[0])),R[2]))),-L[3]))))),J=b(b(b(m(b(m(b(A(L[1],N[0]),A(-N[1],L[0])),R[2]),b(m(b(A(R[1],N[0]),A(-N[1],R[0])),-L[2]),m(b(A(R[1],L[0]),A(-L[1],R[0])),N[2]))),k[3]),m(b(m(b(A(L[1],N[0]),A(-N[1],L[0])),k[2]),b(m(b(A(k[1],N[0]),A(-N[1],k[0])),-L[2]),m(b(A(k[1],L[0]),A(-L[1],k[0])),N[2]))),-R[3])),b(m(b(m(b(A(R[1],N[0]),A(-N[1],R[0])),k[2]),b(m(b(A(k[1],N[0]),A(-N[1],k[0])),-R[2]),m(b(A(k[1],R[0]),A(-R[1],k[0])),N[2]))),L[3]),m(b(m(b(A(R[1],L[0]),A(-L[1],R[0])),k[2]),b(m(b(A(k[1],L[0]),A(-L[1],k[0])),-R[2]),m(b(A(k[1],R[0]),A(-R[1],k[0])),L[2]))),-N[3]))),b(b(m(b(m(b(A(R[1],N[0]),A(-N[1],R[0])),P[2]),b(m(b(A(P[1],N[0]),A(-N[1],P[0])),-R[2]),m(b(A(P[1],R[0]),A(-R[1],P[0])),N[2]))),k[3]),m(b(m(b(A(R[1],N[0]),A(-N[1],R[0])),k[2]),b(m(b(A(k[1],N[0]),A(-N[1],k[0])),-R[2]),m(b(A(k[1],R[0]),A(-R[1],k[0])),N[2]))),-P[3])),b(m(b(m(b(A(P[1],N[0]),A(-N[1],P[0])),k[2]),b(m(b(A(k[1],N[0]),A(-N[1],k[0])),-P[2]),m(b(A(k[1],P[0]),A(-P[1],k[0])),N[2]))),R[3]),m(b(m(b(A(P[1],R[0]),A(-R[1],P[0])),k[2]),b(m(b(A(k[1],R[0]),A(-R[1],k[0])),-P[2]),m(b(A(k[1],P[0]),A(-P[1],k[0])),R[2]))),-N[3])))),z=C(B,J);return z[z.length-1]}}function p(b){return(3===b?c:4===b?h:v)(a,s,o,l)}var T=p(3),_=p(4),g=[function(){return 0},function(){return 0},function(b,A){return A[0]-b[0]},function(b,A,m){var C,k=(b[1]-m[1])*(A[0]-m[0]),P=(b[0]-m[0])*(A[1]-m[1]),R=k-P;if(k>0){if(P<=0)return R;C=k+P}else{if(!(k<0)||P>=0)return R;C=-(k+P)}var L=33306690738754716e-32*C;return R>=L||R<=-L?R:T(b,A,m)},function(b,A,m,C){var k=b[0]-C[0],P=A[0]-C[0],R=m[0]-C[0],L=b[1]-C[1],N=A[1]-C[1],B=m[1]-C[1],J=b[2]-C[2],z=A[2]-C[2],Y=m[2]-C[2],q=P*B,U=R*N,Z=R*L,X=k*B,se=k*N,re=P*L,ee=J*(q-U)+z*(Z-X)+Y*(se-re),K=7771561172376103e-31*((Math.abs(q)+Math.abs(U))*Math.abs(J)+(Math.abs(Z)+Math.abs(X))*Math.abs(z)+(Math.abs(se)+Math.abs(re))*Math.abs(Y));return ee>K||-ee>K?ee:_(b,A,m,C)}];function w(b){var A=g[b.length];return A||(A=g[b.length]=p(b.length)),A.apply(void 0,b)}function x(b,A,m,C,k,P,R){return function(L,N,B,J,z){switch(arguments.length){case 0:case 1:return 0;case 2:return C(L,N);case 3:return k(L,N,B);case 4:return P(L,N,B,J);case 5:return R(L,N,B,J,z)}for(var Y=new Array(arguments.length),q=0;q<arguments.length;++q)Y[q]=arguments[q];return b(Y)}}!function(){for(;g.length<=5;)g.push(p(g.length));y.exports=x.apply(void 0,[w].concat(g));for(var b=0;b<=5;++b)y.exports[b]=g[b]}()},2019:function(y,u,i){"use strict";var s=i(9662),a=i(8289);y.exports=function(o,l){if(1===o.length)return a(l,o[0]);if(1===l.length)return a(o,l[0]);if(0===o.length||0===l.length)return[0];var c=[0];if(o.length<l.length)for(var h=0;h<o.length;++h)c=s(c,a(l,o[h]));else for(h=0;h<l.length;++h)c=s(c,a(o,l[h]));return c}},8289:function(y,u,i){"use strict";var s=i(9660),a=i(87);y.exports=function(o,l){var c=o.length;if(1===c){var h=s(o[0],l);return h[0]?h:[h[1]]}var v=new Array(2*c),p=[.1,.1],T=[.1,.1],_=0;s(o[0],l,p),p[0]&&(v[_++]=p[0]);for(var g=1;g<c;++g){s(o[g],l,T),a(p[1],T[0],p),p[0]&&(v[_++]=p[0]);var x=T[1],b=p[1],A=x+b,m=b-(A-x);p[1]=A,m&&(v[_++]=m)}return p[1]&&(v[_++]=p[1]),0===_&&(v[_++]=0),v.length=_,v}},4434:function(y,u,i){"use strict";y.exports=function(a,o,l,c){var h=s(a,l,c),v=s(o,l,c);if(h>0&&v>0||h<0&&v<0)return!1;var p=s(l,a,o),T=s(c,a,o);return!(p>0&&T>0||p<0&&T<0)&&(0!==h||0!==v||0!==p||0!==T||function(_,g,w,x){for(var b=0;b<2;++b){var A=_[b],m=g[b],C=Math.min(A,m),k=Math.max(A,m),P=w[b],R=x[b],L=Math.min(P,R);if(Math.max(P,R)<C||k<L)return!1}return!0}(a,o,l,c))};var s=i(417)[3]},4078:function(y){"use strict";y.exports=function(u,i){var L,N,B,J,z,s=0|u.length,a=0|i.length;if(1===s&&1===a)return(z=(L=u[0])-((B=L+(N=-i[0]))-(J=B-L))+(N-J))?[z,B]:[B];var o,l,c=new Array(s+a),h=0,v=0,p=0,T=Math.abs,_=u[v],g=T(_),w=-i[p],x=T(w);g<x?(l=_,(v+=1)<s&&(g=T(_=u[v]))):(l=w,(p+=1)<a&&(x=T(w=-i[p]))),v<s&&g<x||p>=a?(o=_,(v+=1)<s&&(g=T(_=u[v]))):(o=w,(p+=1)<a&&(x=T(w=-i[p])));for(var b,A,m=o+l,C=m-o,k=l-C,P=k,R=m;v<s&&p<a;)g<x?(o=_,(v+=1)<s&&(g=T(_=u[v]))):(o=w,(p+=1)<a&&(x=T(w=-i[p]))),(k=(l=P)-(C=(m=o+l)-o))&&(c[h++]=k),P=R-((b=R+m)-(A=b-R))+(m-A),R=b;for(;v<s;)(k=(l=P)-(C=(m=(o=_)+l)-o))&&(c[h++]=k),P=R-((b=R+m)-(A=b-R))+(m-A),R=b,(v+=1)<s&&(_=u[v]);for(;p<a;)(k=(l=P)-(C=(m=(o=w)+l)-o))&&(c[h++]=k),P=R-((b=R+m)-(A=b-R))+(m-A),R=b,(p+=1)<a&&(w=-i[p]);return P&&(c[h++]=P),R&&(c[h++]=R),h||(c[h++]=0),c.length=h,c}},9662:function(y){"use strict";y.exports=function(u,i){var L,N,B,J,z,s=0|u.length,a=0|i.length;if(1===s&&1===a)return(z=(L=u[0])-((B=L+(N=i[0]))-(J=B-L))+(N-J))?[z,B]:[B];var o,l,c=new Array(s+a),h=0,v=0,p=0,T=Math.abs,_=u[v],g=T(_),w=i[p],x=T(w);g<x?(l=_,(v+=1)<s&&(g=T(_=u[v]))):(l=w,(p+=1)<a&&(x=T(w=i[p]))),v<s&&g<x||p>=a?(o=_,(v+=1)<s&&(g=T(_=u[v]))):(o=w,(p+=1)<a&&(x=T(w=i[p])));for(var b,A,m=o+l,C=m-o,k=l-C,P=k,R=m;v<s&&p<a;)g<x?(o=_,(v+=1)<s&&(g=T(_=u[v]))):(o=w,(p+=1)<a&&(x=T(w=i[p]))),(k=(l=P)-(C=(m=o+l)-o))&&(c[h++]=k),P=R-((b=R+m)-(A=b-R))+(m-A),R=b;for(;v<s;)(k=(l=P)-(C=(m=(o=_)+l)-o))&&(c[h++]=k),P=R-((b=R+m)-(A=b-R))+(m-A),R=b,(v+=1)<s&&(_=u[v]);for(;p<a;)(k=(l=P)-(C=(m=(o=w)+l)-o))&&(c[h++]=k),P=R-((b=R+m)-(A=b-R))+(m-A),R=b,(p+=1)<a&&(w=i[p]);return P&&(c[h++]=P),R&&(c[h++]=R),h||(c[h++]=0),c.length=h,c}},8691:function(y,u,i){"use strict";y.exports=function(o){return a(s(o))};var s=i(2692),a=i(7037)},7212:function(y,u,i){"use strict";y.exports=function(c,h,v,p){if(v=v||0,void 0===p&&(p=function(m){for(var C=m.length,k=0,P=0;P<C;++P)k=0|Math.max(k,m[P].length);return k-1}(c)),0===c.length||p<1)return{cells:[],vertexIds:[],vertexWeights:[]};var T=function(m,C){for(var k=m.length,P=a.mallocUint8(k),R=0;R<k;++R)P[R]=m[R]<C|0;return P}(h,+v),_=function(m,C){for(var k=m.length,R=a.mallocUint32(2*(C*(C+1)/2*k|0)),L=0,N=0;N<k;++N)for(var B=m[N],J=(C=B.length,0);J<C;++J)for(var z=0;z<J;++z){var Y=B[z],q=B[J];R[L++]=0|Math.min(Y,q),R[L++]=0|Math.max(Y,q)}o(s(R,[L/2|0,2]));var U=2;for(N=2;N<L;N+=2)R[N-2]===R[N]&&R[N-1]===R[N+1]||(R[U++]=R[N],R[U++]=R[N+1]);return s(R,[U/2|0,2])}(c,p),g=function(m,C,k,P){for(var R=m.data,L=m.shape[0],N=a.mallocDouble(L),B=0,J=0;J<L;++J){var z=R[2*J],Y=R[2*J+1];if(k[z]!==k[Y]){var q=C[z],U=C[Y];R[2*B]=z,R[2*B+1]=Y,N[B++]=(U-P)/(U-q)}}return m.shape[0]=B,s(N,[B])}(_,h,T,+v),w=function(m,C){var k=a.mallocInt32(2*C),P=m.shape[0],R=m.data;k[0]=0;for(var L=0,N=0;N<P;++N){var B=R[2*N];if(B!==L){for(k[2*L+1]=N;++L<B;)k[2*L]=N,k[2*L+1]=N;k[2*L]=N}}for(k[2*L+1]=P;++L<C;)k[2*L]=k[2*L+1]=P;return k}(_,0|h.length),x=l(p)(c,_.data,w,T),b=function(m){for(var C=0|m.shape[0],k=m.data,P=new Array(C),R=0;R<C;++R)P[R]=[k[2*R],k[2*R+1]];return P}(_),A=[].slice.call(g.data,0,g.shape[0]);return a.free(T),a.free(_.data),a.free(g.data),a.free(w),{cells:x,vertexIds:b,vertexWeights:A}};var s=i(5050),a=i(5306),o=i(8729),l=i(1168)},1168:function(y){"use strict";y.exports=function(i){return u[i]()};var u=[function(){return function(i,s,a,o){for(var l=i.length,c=0;c<l;++c);return[]}},function(){function i(s,a,o,l){for(var c=0|Math.min(o,l),h=0|Math.max(o,l),v=s[2*c],p=s[2*c+1];v<p;){var T=v+p>>1,_=a[2*T+1];if(_===h)return T;h<_?p=T:v=T+1}return v}return function(s,a,o,l){for(var c=s.length,h=[],v=0;v<c;++v){var p=s[v];if(2===p.length){var T=(l[p[0]]<<0)+(l[p[1]]<<1);if(0===T||3===T)continue;switch(T){case 0:case 3:break;case 1:h.push([i(o,a,p[0],p[1])]);break;case 2:h.push([i(o,a,p[1],p[0])])}}}return h}},function(){function i(s,a,o,l){for(var c=0|Math.min(o,l),h=0|Math.max(o,l),v=s[2*c],p=s[2*c+1];v<p;){var T=v+p>>1,_=a[2*T+1];if(_===h)return T;h<_?p=T:v=T+1}return v}return function(s,a,o,l){for(var c=s.length,h=[],v=0;v<c;++v){var p=s[v],T=p.length;if(3===T){if(0==(_=(l[p[0]]<<0)+(l[p[1]]<<1)+(l[p[2]]<<2))||7===_)continue;switch(_){case 0:case 7:break;case 1:h.push([i(o,a,p[0],p[2]),i(o,a,p[0],p[1])]);break;case 2:h.push([i(o,a,p[1],p[0]),i(o,a,p[1],p[2])]);break;case 3:h.push([i(o,a,p[0],p[2]),i(o,a,p[1],p[2])]);break;case 4:h.push([i(o,a,p[2],p[1]),i(o,a,p[2],p[0])]);break;case 5:h.push([i(o,a,p[2],p[1]),i(o,a,p[0],p[1])]);break;case 6:h.push([i(o,a,p[1],p[0]),i(o,a,p[2],p[0])])}}else if(2===T){var _;if(0==(_=(l[p[0]]<<0)+(l[p[1]]<<1))||3===_)continue;switch(_){case 0:case 3:break;case 1:h.push([i(o,a,p[0],p[1])]);break;case 2:h.push([i(o,a,p[1],p[0])])}}}return h}},function(){function i(s,a,o,l){for(var c=0|Math.min(o,l),h=0|Math.max(o,l),v=s[2*c],p=s[2*c+1];v<p;){var T=v+p>>1,_=a[2*T+1];if(_===h)return T;h<_?p=T:v=T+1}return v}return function(s,a,o,l){for(var c=s.length,h=[],v=0;v<c;++v){var p=s[v],T=p.length;if(4===T){if(0==(_=(l[p[0]]<<0)+(l[p[1]]<<1)+(l[p[2]]<<2)+(l[p[3]]<<3))||15===_)continue;switch(_){case 0:case 15:break;case 1:h.push([i(o,a,p[0],p[1]),i(o,a,p[0],p[2]),i(o,a,p[0],p[3])]);break;case 2:h.push([i(o,a,p[1],p[2]),i(o,a,p[1],p[0]),i(o,a,p[1],p[3])]);break;case 3:h.push([i(o,a,p[1],p[2]),i(o,a,p[0],p[2]),i(o,a,p[0],p[3])],[i(o,a,p[1],p[3]),i(o,a,p[1],p[2]),i(o,a,p[0],p[3])]);break;case 4:h.push([i(o,a,p[2],p[0]),i(o,a,p[2],p[1]),i(o,a,p[2],p[3])]);break;case 5:h.push([i(o,a,p[0],p[1]),i(o,a,p[2],p[1]),i(o,a,p[0],p[3])],[i(o,a,p[2],p[1]),i(o,a,p[2],p[3]),i(o,a,p[0],p[3])]);break;case 6:h.push([i(o,a,p[2],p[0]),i(o,a,p[1],p[0]),i(o,a,p[1],p[3])],[i(o,a,p[2],p[3]),i(o,a,p[2],p[0]),i(o,a,p[1],p[3])]);break;case 7:h.push([i(o,a,p[0],p[3]),i(o,a,p[1],p[3]),i(o,a,p[2],p[3])]);break;case 8:h.push([i(o,a,p[3],p[1]),i(o,a,p[3],p[0]),i(o,a,p[3],p[2])]);break;case 9:h.push([i(o,a,p[3],p[1]),i(o,a,p[0],p[1]),i(o,a,p[0],p[2])],[i(o,a,p[3],p[2]),i(o,a,p[3],p[1]),i(o,a,p[0],p[2])]);break;case 10:h.push([i(o,a,p[1],p[0]),i(o,a,p[3],p[0]),i(o,a,p[1],p[2])],[i(o,a,p[3],p[0]),i(o,a,p[3],p[2]),i(o,a,p[1],p[2])]);break;case 11:h.push([i(o,a,p[1],p[2]),i(o,a,p[0],p[2]),i(o,a,p[3],p[2])]);break;case 12:h.push([i(o,a,p[3],p[0]),i(o,a,p[2],p[0]),i(o,a,p[2],p[1])],[i(o,a,p[3],p[1]),i(o,a,p[3],p[0]),i(o,a,p[2],p[1])]);break;case 13:h.push([i(o,a,p[0],p[1]),i(o,a,p[2],p[1]),i(o,a,p[3],p[1])]);break;case 14:h.push([i(o,a,p[2],p[0]),i(o,a,p[1],p[0]),i(o,a,p[3],p[0])])}}else if(3===T){if(0==(_=(l[p[0]]<<0)+(l[p[1]]<<1)+(l[p[2]]<<2))||7===_)continue;switch(_){case 0:case 7:break;case 1:h.push([i(o,a,p[0],p[2]),i(o,a,p[0],p[1])]);break;case 2:h.push([i(o,a,p[1],p[0]),i(o,a,p[1],p[2])]);break;case 3:h.push([i(o,a,p[0],p[2]),i(o,a,p[1],p[2])]);break;case 4:h.push([i(o,a,p[2],p[1]),i(o,a,p[2],p[0])]);break;case 5:h.push([i(o,a,p[2],p[1]),i(o,a,p[0],p[1])]);break;case 6:h.push([i(o,a,p[1],p[0]),i(o,a,p[2],p[0])])}}else if(2===T){var _;if(0==(_=(l[p[0]]<<0)+(l[p[1]]<<1))||3===_)continue;switch(_){case 0:case 3:break;case 1:h.push([i(o,a,p[0],p[1])]);break;case 2:h.push([i(o,a,p[1],p[0])])}}}return h}}]},8211:function(y,u,i){"use strict";i(2288),i(1731),u.H=function(s,a){var o=s.length,l=s.length-a.length,c=Math.min;if(l)return l;switch(o){case 0:return 0;case 1:return s[0]-a[0];case 2:return(p=s[0]+s[1]-a[0]-a[1])||c(s[0],s[1])-c(a[0],a[1]);case 3:var h=s[0]+s[1],v=a[0]+a[1];if(p=h+s[2]-(v+a[2]))return p;var p,T=c(s[0],s[1]),_=c(a[0],a[1]);return(p=c(T,s[2])-c(_,a[2]))||c(T+s[2],h)-c(_+a[2],v);default:var g=s.slice(0);g.sort();var w=a.slice(0);w.sort();for(var x=0;x<o;++x)if(l=g[x]-w[x])return l;return 0}}},9392:function(y,u){"use strict";function i(a){var o=32;return(a&=-a)&&o--,65535&a&&(o-=16),16711935&a&&(o-=8),252645135&a&&(o-=4),858993459&a&&(o-=2),1431655765&a&&(o-=1),o}u.INT_BITS=32,u.INT_MAX=2147483647,u.INT_MIN=-2147483648,u.sign=function(a){return(a>0)-(a<0)},u.abs=function(a){var o=a>>31;return(a^o)-o},u.min=function(a,o){return o^(a^o)&-(a<o)},u.max=function(a,o){return a^(a^o)&-(a<o)},u.isPow2=function(a){return!(a&a-1||!a)},u.log2=function(a){var o,l;return o=(a>65535)<<4,o|=l=((a>>>=o)>255)<<3,o|=l=((a>>>=l)>15)<<2,(o|=l=((a>>>=l)>3)<<1)|(a>>>=l)>>1},u.log10=function(a){return a>=1e9?9:a>=1e8?8:a>=1e7?7:a>=1e6?6:a>=1e5?5:a>=1e4?4:a>=1e3?3:a>=100?2:a>=10?1:0},u.popCount=function(a){return 16843009*((a=(858993459&(a-=a>>>1&1431655765))+(a>>>2&858993459))+(a>>>4)&252645135)>>>24},u.countTrailingZeros=i,u.nextPow2=function(a){return a+=0===a,--a,a|=a>>>1,a|=a>>>2,a|=a>>>4,1+((a|=a>>>8)|a>>>16)},u.prevPow2=function(a){return a|=a>>>1,a|=a>>>2,a|=a>>>4,a|=a>>>8,(a|=a>>>16)-(a>>>1)},u.parity=function(a){return a^=a>>>16,a^=a>>>8,a^=a>>>4,27030>>>(a&=15)&1};var s=new Array(256);(function(a){for(var o=0;o<256;++o){var l=o,c=o,h=7;for(l>>>=1;l;l>>>=1)c<<=1,c|=1&l,--h;a[o]=c<<h&255}})(s),u.reverse=function(a){return s[255&a]<<24|s[a>>>8&255]<<16|s[a>>>16&255]<<8|s[a>>>24&255]},u.interleave2=function(a,o){return(a=1431655765&((a=858993459&((a=252645135&((a=16711935&((a&=65535)|a<<8))|a<<4))|a<<2))|a<<1))|(o=1431655765&((o=858993459&((o=252645135&((o=16711935&((o&=65535)|o<<8))|o<<4))|o<<2))|o<<1))<<1},u.deinterleave2=function(a,o){return(a=65535&((a=16711935&((a=252645135&((a=858993459&((a=a>>>o&1431655765)|a>>>1))|a>>>2))|a>>>4))|a>>>16))<<16>>16},u.interleave3=function(a,o,l){return a=1227133513&((a=3272356035&((a=251719695&((a=4278190335&((a&=1023)|a<<16))|a<<8))|a<<4))|a<<2),(a|=(o=1227133513&((o=3272356035&((o=251719695&((o=4278190335&((o&=1023)|o<<16))|o<<8))|o<<4))|o<<2))<<1)|(l=1227133513&((l=3272356035&((l=251719695&((l=4278190335&((l&=1023)|l<<16))|l<<8))|l<<4))|l<<2))<<2},u.deinterleave3=function(a,o){return(a=1023&((a=4278190335&((a=251719695&((a=3272356035&((a=a>>>o&1227133513)|a>>>2))|a>>>4))|a>>>8))|a>>>16))<<22>>22},u.nextCombination=function(a){var o=a|a-1;return o+1|(~o&-~o)-1>>>i(a)+1}},6656:function(y,u,i){"use strict";var s=i(9392),a=i(9521);function o(_,g){var w=_.length,x=_.length-g.length,b=Math.min;if(x)return x;switch(w){case 0:return 0;case 1:return _[0]-g[0];case 2:return(C=_[0]+_[1]-g[0]-g[1])||b(_[0],_[1])-b(g[0],g[1]);case 3:var A=_[0]+_[1],m=g[0]+g[1];if(C=A+_[2]-(m+g[2]))return C;var C,k=b(_[0],_[1]),P=b(g[0],g[1]);return(C=b(k,_[2])-b(P,g[2]))||b(k+_[2],A)-b(P+g[2],m);default:var R=_.slice(0);R.sort();var L=g.slice(0);L.sort();for(var N=0;N<w;++N)if(x=R[N]-L[N])return x;return 0}}function l(_,g){return o(_[0],g[0])}function c(_,g){if(g){for(var w=_.length,x=new Array(w),b=0;b<w;++b)x[b]=[_[b],g[b]];for(x.sort(l),b=0;b<w;++b)_[b]=x[b][0],g[b]=x[b][1];return _}return _.sort(o),_}function h(_){if(0===_.length)return[];for(var g=1,w=_.length,x=1;x<w;++x){var b=_[x];if(o(b,_[x-1])){if(x===g){g++;continue}_[g++]=b}}return _.length=g,_}function v(_,g){for(var w=0,x=_.length-1,b=-1;w<=x;){var A=w+x>>1,m=o(_[A],g);m<=0?(0===m&&(b=A),w=A+1):m>0&&(x=A-1)}return b}function p(_,g){for(var w=new Array(_.length),x=0,b=w.length;x<b;++x)w[x]=[];for(var A=[],m=(x=0,g.length);x<m;++x)for(var C=g[x],k=C.length,P=1,R=1<<k;P<R;++P){A.length=s.popCount(P);for(var L=0,N=0;N<k;++N)P&1<<N&&(A[L++]=C[N]);var B=v(_,A);if(!(B<0))for(;w[B++].push(x),!(B>=_.length||0!==o(_[B],A)););}return w}function T(_,g){if(g<0)return[];for(var w=[],x=(1<<g+1)-1,b=0;b<_.length;++b)for(var A=_[b],m=x;m<1<<A.length;m=s.nextCombination(m)){for(var C=new Array(g+1),k=0,P=0;P<A.length;++P)m&1<<P&&(C[k++]=A[P]);w.push(C)}return c(w)}u.dimension=function(_){for(var g=0,w=Math.max,x=0,b=_.length;x<b;++x)g=w(g,_[x].length);return g-1},u.countVertices=function(_){for(var g=-1,w=Math.max,x=0,b=_.length;x<b;++x)for(var A=_[x],m=0,C=A.length;m<C;++m)g=w(g,A[m]);return g+1},u.cloneCells=function(_){for(var g=new Array(_.length),w=0,x=_.length;w<x;++w)g[w]=_[w].slice(0);return g},u.compareCells=o,u.normalize=c,u.unique=h,u.findCell=v,u.incidence=p,u.dual=function(_,g){if(!g)return p(h(T(_,0)),_);for(var w=new Array(g),x=0;x<g;++x)w[x]=[];x=0;for(var b=_.length;x<b;++x)for(var A=_[x],m=0,C=A.length;m<C;++m)w[A[m]].push(x);return w},u.explode=function(_){for(var g=[],w=0,x=_.length;w<x;++w)for(var b=_[w],A=0|b.length,m=1,C=1<<A;m<C;++m){for(var k=[],P=0;P<A;++P)m>>>P&1&&k.push(b[P]);g.push(k)}return c(g)},u.skeleton=T,u.boundary=function(_){for(var g=[],w=0,x=_.length;w<x;++w)for(var b=_[w],A=0,m=b.length;A<m;++A){for(var C=new Array(b.length-1),k=0,P=0;k<m;++k)k!==A&&(C[P++]=b[k]);g.push(C)}return c(g)},u.connectedComponents=function(_,g){return g?function(w,x){for(var b=new a(x),A=0;A<w.length;++A)for(var m=w[A],C=0;C<m.length;++C)for(var k=C+1;k<m.length;++k)b.link(m[C],m[k]);var P=[],R=b.ranks;for(A=0;A<R.length;++A)R[A]=-1;for(A=0;A<w.length;++A){var L=b.find(w[A][0]);R[L]<0?(R[L]=P.length,P.push([w[A].slice(0)])):P[R[L]].push(w[A].slice(0))}return P}(_,g):function(w){for(var x=h(c(T(w,0))),b=new a(x.length),A=0;A<w.length;++A)for(var m=w[A],C=0;C<m.length;++C)for(var k=v(x,[m[C]]),P=C+1;P<m.length;++P)b.link(k,v(x,[m[P]]));var R=[],L=b.ranks;for(A=0;A<L.length;++A)L[A]=-1;for(A=0;A<w.length;++A){var N=b.find(v(x,[w[A][0]]));L[N]<0?(L[N]=R.length,R.push([w[A].slice(0)])):R[L[N]].push(w[A].slice(0))}return R}(_)}},9521:function(y){"use strict";function u(i){this.roots=new Array(i),this.ranks=new Array(i);for(var s=0;s<i;++s)this.roots[s]=s,this.ranks[s]=0}y.exports=u,u.prototype.length=function(){return this.roots.length},u.prototype.makeSet=function(){var i=this.roots.length;return this.roots.push(i),this.ranks.push(0),i},u.prototype.find=function(i){for(var s=this.roots;s[i]!==i;){var a=s[i];s[i]=s[a],i=a}return i},u.prototype.link=function(i,s){var a=this.find(i),o=this.find(s);if(a!==o){var l=this.ranks,c=this.roots,h=l[a],v=l[o];h<v?c[a]=o:v<h?c[o]=a:(c[o]=a,++l[a])}}},8243:function(y,u,i){"use strict";y.exports=function(o,l,c){for(var h=l.length,v=o.length,p=new Array(h),T=new Array(h),_=new Array(h),g=new Array(h),w=0;w<h;++w)p[w]=T[w]=-1,_[w]=1/0,g[w]=!1;for(w=0;w<v;++w){var x=o[w];if(2!==x.length)throw new Error("Input must be a graph");var b=x[1],A=x[0];T[A]=-1!==T[A]?-2:b,p[b]=-1!==p[b]?-2:A}function m(re){if(g[re])return 1/0;var K,ne,ae=p[re],ue=T[re];return ae<0||ue<0?1/0:(K=l[ae],ne=l[ue],Math.abs(s(l[re],K,ne))/Math.sqrt(Math.pow(K[0]-ne[0],2)+Math.pow(K[1]-ne[1],2)))}function C(re,ee){var K=z[re],ne=z[ee];z[re]=ne,z[ee]=K,Y[K]=ee,Y[ne]=re}function k(re){return _[z[re]]}function P(re){return 1&re?re-1>>1:(re>>1)-1}function R(re){for(var ee=k(re);;){var K=ee,ne=2*re+1,ae=2*(re+1),ue=re;if(ne<q){var he=k(ne);he<K&&(ue=ne,K=he)}if(ae<q&&k(ae)<K&&(ue=ae),ue===re)return re;C(re,ue),re=ue}}function L(re){for(var ee=k(re);re>0;){var K=P(re);if(!(K>=0&&ee<k(K)))return re;C(re,K),re=K}}function N(){if(q>0){var re=z[0];return C(0,q-1),q-=1,R(0),re}return-1}function B(re,ee){var K=z[re];return _[K]===ee?re:(_[K]=-1/0,L(re),N(),_[K]=ee,L((q+=1)-1))}function J(re){if(!g[re]){g[re]=!0;var ee=p[re],K=T[re];p[K]>=0&&(p[K]=ee),T[ee]>=0&&(T[ee]=K),Y[ee]>=0&&B(Y[ee],m(ee)),Y[K]>=0&&B(Y[K],m(K))}}var z=[],Y=new Array(h);for(w=0;w<h;++w)(_[w]=m(w))<1/0?(Y[w]=z.length,z.push(w)):Y[w]=-1;var q=z.length;for(w=q>>1;w>=0;--w)R(w);for(;;){var U=N();if(U<0||_[U]>c)break;J(U)}var Z=[];for(w=0;w<h;++w)g[w]||(Y[w]=Z.length,Z.push(l[w].slice()));function X(re,ee){if(re[ee]<0)return ee;var K=ee,ne=ee;do{var ae=re[ne];if(!g[ne]||ae<0||ae===ne||(ae=re[ne=ae],!g[ne]||ae<0||ae===ne))break;ne=ae,K=re[K]}while(K!==ne);for(var ue=ee;ue!==ne;ue=re[ue])re[ue]=ne;return ne}var se=[];return o.forEach(function(re){var ee=X(p,re[0]),K=X(T,re[1]);if(ee>=0&&K>=0&&ee!==K){var ne=Y[ee],ae=Y[K];ne!==ae&&se.push([ne,ae])}}),a.unique(a.normalize(se)),{positions:Z,edges:se}};var s=i(417),a=i(6656)},6638:function(y,u,i){"use strict";y.exports=function(o,l){var c,h,v,p;if(l[0][0]<l[1][0])c=l[0],h=l[1];else{if(!(l[0][0]>l[1][0]))return a(l,o);c=l[1],h=l[0]}if(o[0][0]<o[1][0])v=o[0],p=o[1];else{if(!(o[0][0]>o[1][0]))return-a(o,l);v=o[1],p=o[0]}var T=s(c,h,p),_=s(c,h,v);if(T<0){if(_<=0)return T}else if(T>0){if(_>=0)return T}else if(_)return _;if(T=s(p,v,h),_=s(p,v,c),T<0){if(_<=0)return T}else if(T>0){if(_>=0)return T}else if(_)return _;return h[0]-p[0]};var s=i(417);function a(o,l){var c,h,v,p;if(l[0][0]<l[1][0])c=l[0],h=l[1];else{if(!(l[0][0]>l[1][0])){var T=Math.min(o[0][1],o[1][1]),_=Math.max(o[0][1],o[1][1]),g=Math.min(l[0][1],l[1][1]),w=Math.max(l[0][1],l[1][1]);return _<g?_-g:T>w?T-w:_-w}c=l[1],h=l[0]}o[0][1]<o[1][1]?(v=o[0],p=o[1]):(v=o[1],p=o[0]);var x=s(h,c,v);return x||(x=s(h,c,p))||p-h}},4385:function(y,u,i){"use strict";y.exports=function(_){for(var g=_.length,w=2*g,x=new Array(w),b=0;b<g;++b){var A=_[b],m=A[0][0]<A[1][0];x[2*b]=new T(A[0][0],A,m,b),x[2*b+1]=new T(A[1][0],A,!m,b)}x.sort(function(J,z){var Y=J.x-z.x;return Y||(Y=J.create-z.create)||Math.min(J.segment[0][1],J.segment[1][1])-Math.min(z.segment[0][1],z.segment[1][1])});var C=a(l),k=[],P=[],R=[];for(b=0;b<w;){for(var L=x[b].x,N=[];b<w;){var B=x[b];if(B.x!==L)break;b+=1,B.segment[0][0]===B.x&&B.segment[1][0]===B.x?B.create&&(B.segment[0][1]<B.segment[1][1]?(N.push(new p(B.segment[0][1],B.index,!0,!0)),N.push(new p(B.segment[1][1],B.index,!1,!1))):(N.push(new p(B.segment[1][1],B.index,!0,!1)),N.push(new p(B.segment[0][1],B.index,!1,!0)))):C=B.create?C.insert(B.segment,B.index):C.remove(B.segment)}k.push(C.root),P.push(L),R.push(N)}return new c(k,P,R)};var s=i(5070),a=i(7080),o=i(417),l=i(6638);function c(_,g,w){this.slabs=_,this.coordinates=g,this.horizontal=w}function h(_,g){return _.y-g}function v(_,g){for(var w=null;_;){var x,b,A=_.key;A[0][0]<A[1][0]?(x=A[0],b=A[1]):(x=A[1],b=A[0]);var m=o(x,b,g);if(m<0)_=_.left;else if(m>0)if(g[0]!==A[1][0])w=_,_=_.right;else{if(C=v(_.right,g))return C;_=_.left}else{if(g[0]!==A[1][0])return _;var C;if(C=v(_.right,g))return C;_=_.left}}return w}function p(_,g,w,x){this.y=_,this.index=g,this.start=w,this.closed=x}function T(_,g,w,x){this.x=_,this.segment=g,this.create=w,this.index=x}c.prototype.castUp=function(_){var g=s.le(this.coordinates,_[0]);if(g<0)return-1;var w=v(this.slabs[g],_),x=-1;if(w&&(x=w.value),this.coordinates[g]===_[0]){var b=null;if(w&&(b=w.key),g>0){var A=v(this.slabs[g-1],_);A&&(b?l(A.key,b)>0&&(b=A.key,x=A.value):(x=A.value,b=A.key))}var m=this.horizontal[g];if(m.length>0){var C=s.ge(m,_[1],h);if(C<m.length){var k=m[C];if(_[1]===k.y){if(k.closed)return k.index;for(;C<m.length-1&&m[C+1].y===_[1];)if((k=m[C+=1]).closed)return k.index;if(k.y===_[1]&&!k.start){if((C+=1)>=m.length)return x;k=m[C]}}if(k.start)if(b){var P=o(b[0],b[1],[_[0],k.y]);b[0][0]>b[1][0]&&(P=-P),P>0&&(x=k.index)}else x=k.index;else k.y!==_[1]&&(x=k.index)}}}return x}},4670:function(y,u,i){"use strict";var s=i(9130),a=i(9662);function o(c,h){var v=a(s(c,h),[h[h.length-1]]);return v[v.length-1]}function l(c,h,v,p){var T=-h/(p-h);T<0?T=0:T>1&&(T=1);for(var _=1-T,g=c.length,w=new Array(g),x=0;x<g;++x)w[x]=T*c[x]+_*v[x];return w}y.exports=function(c,h){for(var v=[],p=[],T=o(c[c.length-1],h),_=c[c.length-1],g=c[0],w=0;w<c.length;++w,_=g){var x=o(g=c[w],h);if(T<0&&x>0||T>0&&x<0){var b=l(_,x,g,T);v.push(b),p.push(b.slice())}x<0?p.push(g.slice()):x>0?v.push(g.slice()):(v.push(g.slice()),p.push(g.slice())),T=x}return{positive:v,negative:p}},y.exports.positive=function(c,h){for(var v=[],p=o(c[c.length-1],h),T=c[c.length-1],_=c[0],g=0;g<c.length;++g,T=_){var w=o(_=c[g],h);(p<0&&w>0||p>0&&w<0)&&v.push(l(T,w,_,p)),w>=0&&v.push(_.slice()),p=w}return v},y.exports.negative=function(c,h){for(var v=[],p=o(c[c.length-1],h),T=c[c.length-1],_=c[0],g=0;g<c.length;++g,T=_){var w=o(_=c[g],h);(p<0&&w>0||p>0&&w<0)&&v.push(l(T,w,_,p)),w<=0&&v.push(_.slice()),p=w}return v}},8974:function(y,u,i){var s;!function(){"use strict";var a={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function o(h){return function(v,p){var T,_,g,w,x,b,A,m,C,k=1,P=v.length,R="";for(_=0;_<P;_++)if("string"==typeof v[_])R+=v[_];else if("object"==typeof v[_]){if((w=v[_]).keys)for(T=p[k],g=0;g<w.keys.length;g++){if(null==T)throw new Error(o('[sprintf] Cannot access property "%s" of undefined value "%s"',w.keys[g],w.keys[g-1]));T=T[w.keys[g]]}else T=w.param_no?p[w.param_no]:p[k++];if(a.not_type.test(w.type)&&a.not_primitive.test(w.type)&&T instanceof Function&&(T=T()),a.numeric_arg.test(w.type)&&"number"!=typeof T&&isNaN(T))throw new TypeError(o("[sprintf] expecting number but found %T",T));switch(a.number.test(w.type)&&(m=T>=0),w.type){case"b":T=parseInt(T,10).toString(2);break;case"c":T=String.fromCharCode(parseInt(T,10));break;case"d":case"i":T=parseInt(T,10);break;case"j":T=JSON.stringify(T,null,w.width?parseInt(w.width):0);break;case"e":T=w.precision?parseFloat(T).toExponential(w.precision):parseFloat(T).toExponential();break;case"f":T=w.precision?parseFloat(T).toFixed(w.precision):parseFloat(T);break;case"g":T=w.precision?String(Number(T.toPrecision(w.precision))):parseFloat(T);break;case"o":T=(parseInt(T,10)>>>0).toString(8);break;case"s":T=String(T),T=w.precision?T.substring(0,w.precision):T;break;case"t":T=String(!!T),T=w.precision?T.substring(0,w.precision):T;break;case"T":T=Object.prototype.toString.call(T).slice(8,-1).toLowerCase(),T=w.precision?T.substring(0,w.precision):T;break;case"u":T=parseInt(T,10)>>>0;break;case"v":T=T.valueOf(),T=w.precision?T.substring(0,w.precision):T;break;case"x":T=(parseInt(T,10)>>>0).toString(16);break;case"X":T=(parseInt(T,10)>>>0).toString(16).toUpperCase()}a.json.test(w.type)?R+=T:(!a.number.test(w.type)||m&&!w.sign?C="":(C=m?"+":"-",T=T.toString().replace(a.sign,"")),b=w.pad_char?"0"===w.pad_char?"0":w.pad_char.charAt(1):" ",A=w.width-(C+T).length,x=w.width&&A>0?b.repeat(A):"",R+=w.align?C+T+x:"0"===b?C+x+T:x+C+T)}return R}(function(v){if(c[v])return c[v];for(var p,T=v,_=[],g=0;T;){if(null!==(p=a.text.exec(T)))_.push(p[0]);else if(null!==(p=a.modulo.exec(T)))_.push("%");else{if(null===(p=a.placeholder.exec(T)))throw new SyntaxError("[sprintf] unexpected placeholder");if(p[2]){g|=1;var w=[],x=p[2],b=[];if(null===(b=a.key.exec(x)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(w.push(b[1]);""!==(x=x.substring(b[0].length));)if(null!==(b=a.key_access.exec(x)))w.push(b[1]);else{if(null===(b=a.index_access.exec(x)))throw new SyntaxError("[sprintf] failed to parse named argument key");w.push(b[1])}p[2]=w}else g|=2;if(3===g)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");_.push({placeholder:p[0],param_no:p[1],keys:p[2],sign:p[3],pad_char:p[4],align:p[5],width:p[6],precision:p[7],type:p[8]})}T=T.substring(p[0].length)}return c[v]=_}(h),arguments)}function l(h,v){return o.apply(null,[h].concat(v||[]))}var c=Object.create(null);u.sprintf=o,u.vsprintf=l,typeof window<"u"&&(window.sprintf=o,window.vsprintf=l,void 0===(s=function(){return{sprintf:o,vsprintf:l}}.call(u,i,u,y))||(y.exports=s))}()},4162:function(y,u,i){"use strict";y.exports=function(c,h){if(c.dimension<=0)return{positions:[],cells:[]};if(1===c.dimension)return function(T,_){for(var g=a(T,_),w=g.length,x=new Array(w),b=new Array(w),A=0;A<w;++A)x[A]=[g[A]],b[A]=[A];return{positions:x,cells:b}}(c,h);var v=c.order.join()+"-"+c.dtype,p=l[v];return h=+h||0,p||(p=l[v]=function(T,_){var w=o[T.length+"d"];if(w)return w(s,T,_)}(c.order,c.dtype)),p(c,h)};var s=i(9284),a=i(9584),o={"2d":function(c,h,v){var p=c({order:h,scalarArguments:3,getters:"generic"===v?[0]:void 0,phase:function(T,_,g,w){return T>w|0},vertex:function(T,_,g,w,x,b,A,m,C,k,P,R,L){var N=(A<<0)+(m<<1)+(C<<2)+(k<<3)|0;if(0!==N&&15!==N)switch(N){case 0:case 15:P.push([T-.5,_-.5]);break;case 1:P.push([T-.25-.25*(w+g-2*L)/(g-w),_-.25-.25*(x+g-2*L)/(g-x)]);break;case 2:P.push([T-.75-.25*(-w-g+2*L)/(w-g),_-.25-.25*(b+w-2*L)/(w-b)]);break;case 3:P.push([T-.5,_-.5-.5*(x+g+b+w-4*L)/(g-x+w-b)]);break;case 4:P.push([T-.25-.25*(b+x-2*L)/(x-b),_-.75-.25*(-x-g+2*L)/(x-g)]);break;case 5:P.push([T-.5-.5*(w+g+b+x-4*L)/(g-w+x-b),_-.5]);break;case 6:P.push([T-.5-.25*(-w-g+b+x)/(w-g+x-b),_-.5-.25*(-x-g+b+w)/(x-g+w-b)]);break;case 7:P.push([T-.75-.25*(b+x-2*L)/(x-b),_-.75-.25*(b+w-2*L)/(w-b)]);break;case 8:P.push([T-.75-.25*(-b-x+2*L)/(b-x),_-.75-.25*(-b-w+2*L)/(b-w)]);break;case 9:P.push([T-.5-.25*(w+g+-b-x)/(g-w+b-x),_-.5-.25*(x+g+-b-w)/(g-x+b-w)]);break;case 10:P.push([T-.5-.5*(-w-g-b-x+4*L)/(w-g+b-x),_-.5]);break;case 11:P.push([T-.25-.25*(-b-x+2*L)/(b-x),_-.75-.25*(x+g-2*L)/(g-x)]);break;case 12:P.push([T-.5,_-.5-.5*(-x-g-b-w+4*L)/(x-g+b-w)]);break;case 13:P.push([T-.75-.25*(w+g-2*L)/(g-w),_-.25-.25*(-b-w+2*L)/(b-w)]);break;case 14:P.push([T-.25-.25*(-w-g+2*L)/(w-g),_-.25-.25*(-x-g+2*L)/(x-g)])}},cell:function(T,_,g,w,x,b,A,m,C){m.push(x?[T,_]:[_,T])}});return function(T,_){var g=[],w=[];return p(T,g,w,_),{positions:g,cells:w}}}},l={}},6946:function(y,u,i){"use strict";y.exports=function l(c,h,v){v=v||{};var p=o[c];p||(p=o[c]={" ":{data:new Float32Array(0),shape:.2}});var T=p[h];if(!T)if(h.length<=1||!/\d/.test(h))T=p[h]=function(R){for(var L=R.cells,N=R.positions,B=new Float32Array(6*L.length),J=0,z=0,Y=0;Y<L.length;++Y)for(var q=L[Y],U=0;U<3;++U){var Z=N[q[U]];B[J++]=Z[0],B[J++]=Z[1]+1.4,z=Math.max(Z[0],z)}return{data:B,shape:z}}(s(h,{triangles:!0,font:c,textAlign:v.textAlign||"left",textBaseline:"alphabetic",styletags:{breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0}}));else{for(var _=h.split(/(\d|\s)/),g=new Array(_.length),w=0,x=0,b=0;b<_.length;++b)g[b]=l(c,_[b]),w+=g[b].data.length,x+=g[b].shape,b>0&&(x+=.02);var A=new Float32Array(w),m=0,C=-.5*x;for(b=0;b<g.length;++b){for(var k=g[b].data,P=0;P<k.length;P+=2)A[m++]=k[P]+C,A[m++]=k[P+1];C+=g[b].shape+.02}T=p[h]={data:A,shape:x}}return T};var s=i(875),a=window||E.global||{},o=a.__TEXT_CACHE||{};a.__TEXT_CACHE={}},14:function(y,u,i){"use strict";var s=i(4405);y.exports=l;var a=96;function o(c,h){var v=s(getComputedStyle(c).getPropertyValue(h));return v[0]*l(v[1],c)}function l(c,h){switch(h=h||document.body,c=(c||"px").trim().toLowerCase(),h!==window&&h!==document||(h=document.body),c){case"%":return h.clientHeight/100;case"ch":case"ex":return function(v,p){var T=document.createElement("div");T.style["font-size"]="128"+v,p.appendChild(T);var _=o(T,"font-size")/128;return p.removeChild(T),_}(c,h);case"em":return o(h,"font-size");case"rem":return o(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return a;case"cm":return a/2.54;case"mm":return a/25.4;case"pt":return a/72;case"pc":return a/6}return 1}},3440:function(y,u,i){"use strict";y.exports=function(x){var b=(x=x||{}).center||[0,0,0],A=x.up||[0,1,0],m=x.right||T(A),C=x.radius||1,k=x.theta||0,P=x.phi||0;if(b=[].slice.call(b,0,3),A=[].slice.call(A,0,3),c(A,A),m=[].slice.call(m,0,3),c(m,m),"eye"in x){var R=x.eye,L=[R[0]-b[0],R[1]-b[1],R[2]-b[2]];l(m,L,A),v(m[0],m[1],m[2])<1e-6?m=T(A):c(m,m),C=v(L[0],L[1],L[2]);var N=h(A,L)/C,B=h(m,L)/C;P=Math.acos(N),k=Math.acos(B)}return C=Math.log(C),new _(x.zoomMin,x.zoomMax,b,A,m,C,k,P)};var s=i(8444),a=i(7437),o=i(4422),l=i(903),c=i(899),h=i(9305);function v(x,b,A){return Math.sqrt(Math.pow(x,2)+Math.pow(b,2)+Math.pow(A,2))}function p(x){return Math.min(1,Math.max(-1,x))}function T(x){var b=Math.abs(x[0]),A=Math.abs(x[1]),m=Math.abs(x[2]),C=[0,0,0];b>Math.max(A,m)?C[2]=1:A>Math.max(b,m)?C[0]=1:C[1]=1;for(var k=0,P=0,R=0;R<3;++R)k+=x[R]*x[R],P+=C[R]*x[R];for(R=0;R<3;++R)C[R]-=P/k*x[R];return c(C,C),C}function _(x,b,A,m,C,k,P,R){this.center=s(A),this.up=s(m),this.right=s(C),this.radius=s([k]),this.angle=s([P,R]),this.angle.bounds=[[-1/0,-Math.PI/2],[1/0,Math.PI/2]],this.setDistanceLimits(x,b),this.computedCenter=this.center.curve(0),this.computedUp=this.up.curve(0),this.computedRight=this.right.curve(0),this.computedRadius=this.radius.curve(0),this.computedAngle=this.angle.curve(0),this.computedToward=[0,0,0],this.computedEye=[0,0,0],this.computedMatrix=new Array(16);for(var L=0;L<16;++L)this.computedMatrix[L]=.5;this.recalcMatrix(0)}var g=_.prototype;g.setDistanceLimits=function(x,b){x=x>0?Math.log(x):-1/0,b=b>0?Math.log(b):1/0,b=Math.max(b,x),this.radius.bounds[0][0]=x,this.radius.bounds[1][0]=b},g.getDistanceLimits=function(x){var b=this.radius.bounds[0];return x?(x[0]=Math.exp(b[0][0]),x[1]=Math.exp(b[1][0]),x):[Math.exp(b[0][0]),Math.exp(b[1][0])]},g.recalcMatrix=function(x){this.center.curve(x),this.up.curve(x),this.right.curve(x),this.radius.curve(x),this.angle.curve(x);for(var b=this.computedUp,A=this.computedRight,m=0,C=0,k=0;k<3;++k)C+=b[k]*A[k],m+=b[k]*b[k];var P=Math.sqrt(m),R=0;for(k=0;k<3;++k)A[k]-=b[k]*C/m,R+=A[k]*A[k],b[k]/=P;var L=Math.sqrt(R);for(k=0;k<3;++k)A[k]/=L;var N=this.computedToward;l(N,b,A),c(N,N);var B=Math.exp(this.computedRadius[0]),J=this.computedAngle[0],z=this.computedAngle[1],Y=Math.cos(J),q=Math.sin(J),U=Math.cos(z),Z=Math.sin(z),X=this.computedCenter,se=Y*U,re=q*U,ee=Z,K=-Y*Z,ne=-q*Z,ae=U,ue=this.computedEye,he=this.computedMatrix;for(k=0;k<3;++k){var pe=se*A[k]+re*N[k]+ee*b[k];he[4*k+1]=K*A[k]+ne*N[k]+ae*b[k],he[4*k+2]=pe,he[4*k+3]=0}var ge=he[1],xe=he[5],Se=he[9],Te=he[2],ye=he[6],we=he[10],ze=xe*we-Se*ye,ke=Se*Te-ge*we,Ee=ge*ye-xe*Te,me=v(ze,ke,Ee);for(ke/=me,Ee/=me,he[0]=ze/=me,he[4]=ke,he[8]=Ee,k=0;k<3;++k)ue[k]=X[k]+he[2+4*k]*B;for(k=0;k<3;++k){R=0;for(var de=0;de<3;++de)R+=he[k+4*de]*ue[de];he[12+k]=-R}he[15]=1},g.getMatrix=function(x,b){this.recalcMatrix(x);var A=this.computedMatrix;if(b){for(var m=0;m<16;++m)b[m]=A[m];return b}return A};var w=[0,0,0];g.rotate=function(x,b,A,m){if(this.angle.move(x,b,A),m){this.recalcMatrix(x);var C=this.computedMatrix;w[0]=C[2],w[1]=C[6],w[2]=C[10];for(var k=this.computedUp,P=this.computedRight,R=this.computedToward,L=0;L<3;++L)C[4*L]=k[L],C[4*L+1]=P[L],C[4*L+2]=R[L];for(o(C,C,m,w),L=0;L<3;++L)k[L]=C[4*L],P[L]=C[4*L+1];this.up.set(x,k[0],k[1],k[2]),this.right.set(x,P[0],P[1],P[2])}},g.pan=function(x,b,A,m){b=b||0,A=A||0,m=m||0,this.recalcMatrix(x);var C=this.computedMatrix,k=(Math.exp(this.computedRadius[0]),C[1]),P=C[5],R=C[9],L=v(k,P,R),N=C[0],B=C[4],J=C[8],z=N*(k/=L)+B*(P/=L)+J*(R/=L),Y=v(N-=k*z,B-=P*z,J-=R*z),q=(N/=Y)*b+k*A,U=(B/=Y)*b+P*A,Z=(J/=Y)*b+R*A;this.center.move(x,q,U,Z);var X=Math.exp(this.computedRadius[0]);X=Math.max(1e-4,X+m),this.radius.set(x,Math.log(X))},g.translate=function(x,b,A,m){this.center.move(x,b||0,A||0,m||0)},g.setMatrix=function(x,b,A,m){var C=1;"number"==typeof A&&(C=0|A),(C<0||C>3)&&(C=1);var k=(C+2)%3;b||(this.recalcMatrix(x),b=this.computedMatrix);var P=b[C],R=b[C+4],L=b[C+8];if(m){var N=Math.abs(P),B=Math.abs(R),J=Math.abs(L),z=Math.max(N,B,J);N===z?(P=P<0?-1:1,R=L=0):J===z?(L=L<0?-1:1,P=R=0):(R=R<0?-1:1,P=L=0)}else{var Y=v(P,R,L);P/=Y,R/=Y,L/=Y}var q,U,Z=b[k],X=b[k+4],se=b[k+8],re=Z*P+X*R+se*L,ee=v(Z-=P*re,X-=R*re,se-=L*re),K=R*(se/=ee)-L*(X/=ee),ne=L*(Z/=ee)-P*se,ae=P*X-R*Z,ue=v(K,ne,ae);if(K/=ue,ne/=ue,ae/=ue,this.center.jump(x,De,Ue,Ye),this.radius.idle(x),this.up.jump(x,P,R,L),this.right.jump(x,Z,X,se),2===C){var he=b[1],pe=b[5],ge=b[9];q=ze<0?-Math.PI/2:Math.PI/2,U=Math.atan2(he*K+pe*ne+ge*ae,he*Z+pe*X+ge*se)}else{var Te=b[2],ye=b[6],we=b[10],ze=Te*P+ye*R+we*L,ke=Te*Z+ye*X+we*se,Ee=Te*K+ye*ne+we*ae;q=Math.asin(p(ze)),U=Math.atan2(Ee,ke)}this.angle.jump(x,U,q),this.recalcMatrix(x);var me=b[2],de=b[6],ce=b[10],Ae=this.computedMatrix;a(Ae,b);var Ne=Ae[15],De=Ae[12]/Ne,Ue=Ae[13]/Ne,Ye=Ae[14]/Ne,_e=Math.exp(this.computedRadius[0]);this.center.jump(x,De-me*_e,Ue-de*_e,Ye-ce*_e)},g.lastT=function(){return Math.max(this.center.lastT(),this.up.lastT(),this.right.lastT(),this.radius.lastT(),this.angle.lastT())},g.idle=function(x){this.center.idle(x),this.up.idle(x),this.right.idle(x),this.radius.idle(x),this.angle.idle(x)},g.flush=function(x){this.center.flush(x),this.up.flush(x),this.right.flush(x),this.radius.flush(x),this.angle.flush(x)},g.setDistance=function(x,b){b>0&&this.radius.set(x,Math.log(b))},g.lookAt=function(x,b,A,m){this.recalcMatrix(x),b=b||this.computedEye,A=A||this.computedCenter;var C=(m=m||this.computedUp)[0],k=m[1],P=m[2],R=v(C,k,P);if(!(R<1e-6)){C/=R,k/=R,P/=R;var L=b[0]-A[0],N=b[1]-A[1],B=b[2]-A[2],J=v(L,N,B);if(!(J<1e-6)){L/=J,N/=J,B/=J;var z=this.computedRight,Y=z[0],q=z[1],U=z[2],Z=C*Y+k*q+P*U,X=v(Y-=Z*C,q-=Z*k,U-=Z*P);if(!(X<.01&&(X=v(Y=k*B-P*N,q=P*L-C*B,U=C*N-k*L))<1e-6)){Y/=X,q/=X,U/=X,this.up.set(x,C,k,P),this.right.set(x,Y,q,U),this.center.set(x,A[0],A[1],A[2]),this.radius.set(x,Math.log(J));var se=k*U-P*q,re=P*Y-C*U,ee=C*q-k*Y,K=v(se,re,ee),ae=Y*L+q*N+U*B,ue=(se/=K)*L+(re/=K)*N+(ee/=K)*B,he=Math.asin(p(C*L+k*N+P*B)),pe=Math.atan2(ue,ae),ge=this.angle._state,xe=ge[ge.length-1],Se=ge[ge.length-2];xe%=2*Math.PI;var Te=Math.abs(xe+2*Math.PI-pe),ye=Math.abs(xe-pe),we=Math.abs(xe-2*Math.PI-pe);Te<ye&&(xe+=2*Math.PI),we<ye&&(xe-=2*Math.PI),this.angle.jump(this.angle.lastT(),xe,Se),this.angle.set(x,pe,he)}}}}},9660:function(y){"use strict";y.exports=function(i,s,a){var o=i*s,l=u*i,c=l-(l-i),h=i-c,v=u*s,p=v-(v-s),T=s-p,_=h*T-(o-c*p-h*p-c*T);return a?(a[0]=_,a[1]=o,a):[_,o]};var u=+(Math.pow(2,27)+1)},87:function(y){"use strict";y.exports=function(u,i,s){var a=u+i,o=a-u,l=i-o,c=u-(a-o);return s?(s[0]=c+l,s[1]=a,s):[c+l,a]}},5306:function(y,u,i){"use strict";var s=i(2288),a=i(3094),o=i(2146).lW;i.g.__TYPEDARRAY_POOL||(i.g.__TYPEDARRAY_POOL={UINT8:a([32,0]),UINT16:a([32,0]),UINT32:a([32,0]),BIGUINT64:a([32,0]),INT8:a([32,0]),INT16:a([32,0]),INT32:a([32,0]),BIGINT64:a([32,0]),FLOAT:a([32,0]),DOUBLE:a([32,0]),DATA:a([32,0]),UINT8C:a([32,0]),BUFFER:a([32,0])});var l=typeof Uint8ClampedArray<"u",c=typeof BigUint64Array<"u",h=typeof BigInt64Array<"u",v=i.g.__TYPEDARRAY_POOL;v.UINT8C||(v.UINT8C=a([32,0])),v.BIGUINT64||(v.BIGUINT64=a([32,0])),v.BIGINT64||(v.BIGINT64=a([32,0])),v.BUFFER||(v.BUFFER=a([32,0]));var p=v.DATA,T=v.BUFFER;function _(z){if(z){var q=s.log2(z.length||z.byteLength);p[q].push(z)}}function g(z){z=s.nextPow2(z);var Y=s.log2(z),q=p[Y];return q.length>0?q.pop():new ArrayBuffer(z)}function w(z){return new Uint8Array(g(z),0,z)}function x(z){return new Uint16Array(g(2*z),0,z)}function b(z){return new Uint32Array(g(4*z),0,z)}function A(z){return new Int8Array(g(z),0,z)}function m(z){return new Int16Array(g(2*z),0,z)}function C(z){return new Int32Array(g(4*z),0,z)}function k(z){return new Float32Array(g(4*z),0,z)}function P(z){return new Float64Array(g(8*z),0,z)}function R(z){return l?new Uint8ClampedArray(g(z),0,z):w(z)}function L(z){return c?new BigUint64Array(g(8*z),0,z):null}function N(z){return h?new BigInt64Array(g(8*z),0,z):null}function B(z){return new DataView(g(z),0,z)}function J(z){z=s.nextPow2(z);var Y=s.log2(z),q=T[Y];return q.length>0?q.pop():new o(z)}u.free=function(z){if(o.isBuffer(z))T[s.log2(z.length)].push(z);else{if("[object ArrayBuffer]"!==Object.prototype.toString.call(z)&&(z=z.buffer),!z)return;var q=0|s.log2(z.length||z.byteLength);p[q].push(z)}},u.freeUint8=u.freeUint16=u.freeUint32=u.freeBigUint64=u.freeInt8=u.freeInt16=u.freeInt32=u.freeBigInt64=u.freeFloat32=u.freeFloat=u.freeFloat64=u.freeDouble=u.freeUint8Clamped=u.freeDataView=function(z){_(z.buffer)},u.freeArrayBuffer=_,u.freeBuffer=function(z){T[s.log2(z.length)].push(z)},u.malloc=function(z,Y){if(void 0===Y||"arraybuffer"===Y)return g(z);switch(Y){case"uint8":return w(z);case"uint16":return x(z);case"uint32":return b(z);case"int8":return A(z);case"int16":return m(z);case"int32":return C(z);case"float":case"float32":return k(z);case"double":case"float64":return P(z);case"uint8_clamped":return R(z);case"bigint64":return N(z);case"biguint64":return L(z);case"buffer":return J(z);case"data":case"dataview":return B(z);default:return null}return null},u.mallocArrayBuffer=g,u.mallocUint8=w,u.mallocUint16=x,u.mallocUint32=b,u.mallocInt8=A,u.mallocInt16=m,u.mallocInt32=C,u.mallocFloat32=u.mallocFloat=k,u.mallocFloat64=u.mallocDouble=P,u.mallocUint8Clamped=R,u.mallocBigUint64=L,u.mallocBigInt64=N,u.mallocDataView=B,u.mallocBuffer=J,u.clearCache=function(){for(var z=0;z<32;++z)v.UINT8[z].length=0,v.UINT16[z].length=0,v.UINT32[z].length=0,v.INT8[z].length=0,v.INT16[z].length=0,v.INT32[z].length=0,v.FLOAT[z].length=0,v.DOUBLE[z].length=0,v.BIGUINT64[z].length=0,v.BIGINT64[z].length=0,v.UINT8C[z].length=0,p[z].length=0,T[z].length=0}},1731:function(y){"use strict";function u(s){this.roots=new Array(s),this.ranks=new Array(s);for(var a=0;a<s;++a)this.roots[a]=a,this.ranks[a]=0}y.exports=u;var i=u.prototype;Object.defineProperty(i,"length",{get:function(){return this.roots.length}}),i.makeSet=function(){var s=this.roots.length;return this.roots.push(s),this.ranks.push(0),s},i.find=function(s){for(var a=s,o=this.roots;o[s]!==s;)s=o[s];for(;o[a]!==s;){var l=o[a];o[a]=s,a=l}return s},i.link=function(s,a){var o=this.find(s),l=this.find(a);if(o!==l){var c=this.ranks,h=this.roots,v=c[o],p=c[l];v<p?h[o]=l:p<v?h[l]=o:(h[l]=o,++c[o])}}},1215:function(y){"use strict";y.exports=function(u,i,s){return 0===u.length?u:i?(s||u.sort(i),function(a,o){for(var l=1,c=a.length,h=a[0],v=a[0],p=1;p<c;++p)if(v=h,o(h=a[p],v)){if(p===l){l++;continue}a[l++]=h}return a.length=l,a}(u,i)):(s||u.sort(),function(a){for(var o=1,l=a.length,c=a[0],h=a[0],v=1;v<l;++v,h=c)if(h=c,(c=a[v])!==h){if(v===o){o++;continue}a[o++]=c}return a.length=o,a}(u))}},875:function(y,u,i){"use strict";y.exports=function(l,c){return"object"==typeof c&&null!==c||(c={}),s(l,c.canvas||a,c.context||o,c)};var s=i(712),a=null,o=null;typeof document<"u"&&((a=document.createElement("canvas")).width=8192,a.height=1024,o=a.getContext("2d"))},712:function(y,u,i){y.exports=function(L,N,B,J){var z=64,Y=1.25,q={breaklines:!1,bolds:!1,italics:!1,subscripts:!1,superscripts:!1};return J&&(J.size&&J.size>0&&(z=J.size),J.lineSpacing&&J.lineSpacing>0&&(Y=J.lineSpacing),J.styletags&&J.styletags.breaklines&&(q.breaklines=!!J.styletags.breaklines),J.styletags&&J.styletags.bolds&&(q.bolds=!!J.styletags.bolds),J.styletags&&J.styletags.italics&&(q.italics=!!J.styletags.italics),J.styletags&&J.styletags.subscripts&&(q.subscripts=!!J.styletags.subscripts),J.styletags&&J.styletags.superscripts&&(q.superscripts=!!J.styletags.superscripts)),B.font=[J.fontStyle,J.fontVariant,J.fontWeight,z+"px",J.font].filter(function(U){return U}).join(" "),B.textAlign="start",B.textBaseline="alphabetic",B.direction="ltr",R(function(U,Z,X,se,re,ee){X=(X=X.replace(/\n/g,"")).replace(/\<br\>/g,!0===ee.breaklines?"\n":" ");var K="",ne=[];for(pe=0;pe<X.length;++pe)ne[pe]=K;!0===ee.bolds&&(ne=C(v,p,X,ne)),!0===ee.italics&&(ne=C(T,_,X,ne)),!0===ee.superscripts&&(ne=C(g,x,X,ne)),!0===ee.subscripts&&(ne=C(b,m,X,ne));var ae=[],ue="";for(pe=0;pe<X.length;++pe)null!==ne[pe]&&(ue+=X[pe],ae.push(ne[pe]));var he,pe,ge,xe,Se,Te=ue.split("\n"),ye=Te.length,we=Math.round(re*se),ze=se,ke=2*se,Ee=0,me=ye*we+ke;U.height<me&&(U.height=me),Z.fillStyle="#000",Z.fillRect(0,0,U.width,U.height),Z.fillStyle="#fff";var de=0,ce="";function Ae(){if(""!==ce){var Be=Z.measureText(ce).width;Z.fillText(ce,ze+ge,ke+xe),ge+=Be}}function Ne(){return Math.round(Se)+"px "}function De(Be,We){var Ge=""+Z.font;if(!0===ee.subscripts){var Ke=Be.indexOf(A),tt=We.indexOf(A),st=Ke>-1?parseInt(Be[1+Ke]):0,gt=tt>-1?parseInt(We[1+tt]):0;st!==gt&&(Ge=Ge.replace(Ne(),"?px "),Se*=Math.pow(.75,gt-st),Ge=Ge.replace("?px ",Ne())),xe+=.25*we*(gt-st)}if(!0===ee.superscripts){var ct=Be.indexOf(w),kt=We.indexOf(w),Dt=ct>-1?parseInt(Be[1+ct]):0,vt=kt>-1?parseInt(We[1+kt]):0;Dt!==vt&&(Ge=Ge.replace(Ne(),"?px "),Se*=Math.pow(.75,vt-Dt),Ge=Ge.replace("?px ",Ne())),xe-=.25*we*(vt-Dt)}if(!0===ee.bolds){var mt=Be.indexOf(p)>-1,Et=We.indexOf(p)>-1;!mt&&Et&&(Ge=Lt?Ge.replace("italic ","italic bold "):"bold "+Ge),mt&&!Et&&(Ge=Ge.replace("bold ",""))}if(!0===ee.italics){var Lt=Be.indexOf(_)>-1,Rt=We.indexOf(_)>-1;!Lt&&Rt&&(Ge="italic "+Ge),Lt&&!Rt&&(Ge=Ge.replace("italic ",""))}Z.font=Ge}for(he=0;he<ye;++he){var Ue=Te[he]+"\n";for(ge=0,xe=he*we,Se=se,ce="",pe=0;pe<Ue.length;++pe){var Ye=pe+de<ae.length?ae[pe+de]:ae[ae.length-1];K===Ye?ce+=Ue[pe]:(Ae(),ce=Ue[pe],void 0!==Ye&&(De(K,Ye),K=Ye))}Ae(),de+=Ue.length;var _e=0|Math.round(ge+2*ze);Ee<_e&&(Ee=_e)}var Pe=Ee,Ie=ke+we*ye;return a(Z.getImageData(0,0,Pe,Ie).data,[Ie,Pe,4]).pick(-1,-1,0).transpose(1,0)}(N,B,L,z,Y,q),J,z)},y.exports.processPixels=R;var s=i(4162),a=i(5050),o=i(8243),l=i(197),c=i(7761),h=i(8040),v="b",p="b|",T="i",_="i|",g="sup",w="+",x="+1",b="sub",A="-",m="-1";function C(L,N,B,J){for(var z="<"+L+">",Y="</"+L+">",q=z.length,U=Y.length,Z=N[0]===w||N[0]===A,X=0,se=-U;X>-1&&-1!==(X=B.indexOf(z,X))&&-1!==(se=B.indexOf(Y,X+q))&&!(se<=X);){for(var re=X;re<se+U;++re)if(re<X+q||re>=se)J[re]=null,B=B.substr(0,re)+" "+B.substr(re+1);else if(null!==J[re]){var ee=J[re].indexOf(N[0]);-1===ee?J[re]+=N:Z&&(J[re]=J[re].substr(0,ee+1)+(1+parseInt(J[re][ee+1]))+J[re].substr(ee+2))}var K=X+q,ne=B.substr(K,se-K).indexOf(z);X=-1!==ne?ne:se+U}return J}function P(L,N,B,J){var z=function k(L,N){var B=s(L,128);return N?o(B.cells,B.positions,.25):{edges:B.cells,positions:B.positions}}(L,J),Y=function(he,pe,ge){for(var xe=pe.textAlign||"start",Se=pe.textBaseline||"alphabetic",Te=[1<<30,1<<30],ye=[0,0],we=he.length,ze=0;ze<we;++ze)for(var ke=he[ze],Ee=0;Ee<2;++Ee)Te[Ee]=0|Math.min(Te[Ee],ke[Ee]),ye[Ee]=0|Math.max(ye[Ee],ke[Ee]);var me=0;switch(xe){case"center":me=-.5*(Te[0]+ye[0]);break;case"right":case"end":me=-ye[0];break;case"left":case"start":me=-Te[0];break;default:throw new Error("vectorize-text: Unrecognized textAlign: '"+xe+"'")}var de=0;switch(Se){case"hanging":case"top":de=-Te[1];break;case"middle":de=-.5*(Te[1]+ye[1]);break;case"alphabetic":case"ideographic":de=-3*ge;break;case"bottom":de=-ye[1];break;default:throw new Error("vectorize-text: Unrecoginized textBaseline: '"+Se+"'")}var ce=1/ge;return"lineHeight"in pe?ce*=+pe.lineHeight:"width"in pe?ce=pe.width/(ye[0]-Te[0]):"height"in pe&&(ce=pe.height/(ye[1]-Te[1])),he.map(function(Ae){return[ce*(Ae[0]+me),ce*(Ae[1]+de)]})}(z.positions,N,B),q=z.edges,U="ccw"===N.orientation;if(l(Y,q),N.polygons||N.polygon||N.polyline){for(var Z=h(q,Y),X=new Array(Z.length),se=0;se<Z.length;++se){for(var re=Z[se],ee=new Array(re.length),K=0;K<re.length;++K){for(var ne=re[K],ae=new Array(ne.length),ue=0;ue<ne.length;++ue)ae[ue]=Y[ne[ue]].slice();U&&ae.reverse(),ee[K]=ae}X[se]=ee}return X}return N.triangles||N.triangulate||N.triangle?{cells:c(Y,q,{delaunay:!1,exterior:!1,interior:!0}),positions:Y}:{edges:q,positions:Y}}function R(L,N,B){try{return P(L,N,B,!0)}catch{}try{return P(L,N,B,!1)}catch{}return N.polygons||N.polyline||N.polygon?[]:N.triangles||N.triangulate||N.triangle?{cells:[],positions:[]}:{edges:[],positions:[]}}},5346:function(y){!function(){"use strict";if(typeof ses>"u"||!ses.ok||ses.ok()){typeof ses<"u"&&(ses.weakMapPermitHostObjects=b);var u=!1;if("function"==typeof WeakMap){var i=WeakMap;if(!(typeof navigator<"u"&&/Firefox/.test(navigator.userAgent))){var s=new i,a=Object.freeze({});if(s.set(a,1),1===s.get(a))return void(y.exports=WeakMap);u=!0}}var o=Object.getOwnPropertyNames,l=Object.defineProperty,c=Object.isExtensible,h="weakmap:",v=h+"ident:"+Math.random()+"___";if(typeof crypto<"u"&&"function"==typeof crypto.getRandomValues&&"function"==typeof ArrayBuffer&&"function"==typeof Uint8Array){var p=new ArrayBuffer(25),T=new Uint8Array(p);crypto.getRandomValues(T),v=h+"rand:"+Array.prototype.map.call(T,function(P){return(P%36).toString(36)}).join("")+"___"}if(l(Object,"getOwnPropertyNames",{value:function(P){return o(P).filter(A)}}),"getPropertyNames"in Object){var _=Object.getPropertyNames;l(Object,"getPropertyNames",{value:function(P){return _(P).filter(A)}})}!function(){var P=Object.freeze;l(Object,"freeze",{value:function(N){return m(N),P(N)}});var R=Object.seal;l(Object,"seal",{value:function(N){return m(N),R(N)}});var L=Object.preventExtensions;l(Object,"preventExtensions",{value:function(N){return m(N),L(N)}})}();var g=!1,w=0,x=function(){this instanceof x||k();var P=[],R=[],L=w++;return Object.create(x.prototype,{get___:{value:C(function(N,B){var J,z=m(N);return z?L in z?z[L]:B:(J=P.indexOf(N))>=0?R[J]:B})},has___:{value:C(function(N){var B=m(N);return B?L in B:P.indexOf(N)>=0})},set___:{value:C(function(N,B){var J,z=m(N);return z?z[L]=B:(J=P.indexOf(N))>=0?R[J]=B:(R[J=P.length]=B,P[J]=N),this})},delete___:{value:C(function(N){var B,J,z=m(N);return z?L in z&&delete z[L]:!((B=P.indexOf(N))<0||(J=P.length-1,P[B]=void 0,R[B]=R[J],P[B]=P[J],P.length=J,R.length=J,0))})}})};x.prototype=Object.create(Object.prototype,{get:{value:function(P,R){return this.get___(P,R)},writable:!0,configurable:!0},has:{value:function(P){return this.has___(P)},writable:!0,configurable:!0},set:{value:function(P,R){return this.set___(P,R)},writable:!0,configurable:!0},delete:{value:function(P){return this.delete___(P)},writable:!0,configurable:!0}}),"function"==typeof i?function(){function P(){this instanceof x||k();var R,L=new i,N=void 0,B=!1;return R=u?function(J,z){return L.set(J,z),L.has(J)||(N||(N=new x),N.set(J,z)),this}:function(J,z){if(B)try{L.set(J,z)}catch{N||(N=new x),N.set___(J,z)}else L.set(J,z);return this},Object.create(x.prototype,{get___:{value:C(function(J,z){return N?L.has(J)?L.get(J):N.get___(J,z):L.get(J,z)})},has___:{value:C(function(J){return L.has(J)||!!N&&N.has___(J)})},set___:{value:C(R)},delete___:{value:C(function(J){var z=!!L.delete(J);return N&&N.delete___(J)||z})},permitHostObjects___:{value:C(function(J){if(J!==b)throw new Error("bogus call to permitHostObjects___");B=!0})}})}u&&typeof Proxy<"u"&&(Proxy=void 0),P.prototype=x.prototype,y.exports=P,Object.defineProperty(WeakMap.prototype,"constructor",{value:WeakMap,enumerable:!1,configurable:!0,writable:!0})}():(typeof Proxy<"u"&&(Proxy=void 0),y.exports=x)}function b(P){P.permitHostObjects___&&P.permitHostObjects___(b)}function A(P){return!(P.substr(0,8)==h&&"___"===P.substr(P.length-3))}function m(P){if(P!==Object(P))throw new TypeError("Not an object: "+P);var R=P[v];if(R&&R.key===P)return R;if(c(P)){R={key:P};try{return l(P,v,{value:R,writable:!1,enumerable:!1,configurable:!1}),R}catch{return}}}function C(P){return P.prototype=null,Object.freeze(P)}function k(){g||typeof console>"u"||(g=!0,console.warn("WeakMap should be invoked as new WeakMap(), not WeakMap(). This will be an error in the future."))}}()},9222:function(y,u,i){var s=i(7178);y.exports=function(){var a={};return function(o){if(("object"!=typeof o||null===o)&&"function"!=typeof o)throw new Error("Weakmap-shim: Key must be object");var l=o.valueOf(a);return l&&l.identity===a?l:s(o,a)}}},7178:function(y){y.exports=function(u,i){var s={identity:i},a=u.valueOf;return Object.defineProperty(u,"valueOf",{value:function(o){return o!==i?a.apply(this,arguments):s},writable:!0}),s}},4037:function(y,u,i){var s=i(9222);y.exports=function(){var a=s();return{get:function(o,l){var c=a(o);return c.hasOwnProperty("value")?c.value:l},set:function(o,l){return a(o).value=l,this},has:function(o){return"value"in a(o)},delete:function(o){return delete a(o).value}}}},6183:function(y){"use strict";var u,i;y.exports=(u=function(){return function(u,i,s,a,o,l){var c=u[0],h=s[0],v=[0],p=h;a|=0;var T=0,_=h;for(T=0;T<c;++T){var g=i[a]-l,w=i[a+p]-l;g>=0!=w>=0&&o.push(v[0]+.5+.5*(g+w)/(g-w)),a+=_,++v[0]}}}.bind(void 0,{funcName:"zeroCrossings"}),i={},function(s,a,o){var l=s.dtype,c=s.order,h=[l,c.join()].join(),v=i[h];return v||(i[h]=v=u([l,c])),v(s.shape.slice(0),s.data,s.stride,0|s.offset,a,o)})},9584:function(y,u,i){"use strict";y.exports=function(a,o){var l=[];return o=+o||0,s(a.hi(a.shape[0]-1),l,o),l};var s=i(6183)},6601:function(){}},S={};function M(y){var u=S[y];if(void 0!==u)return u.exports;var i=S[y]={id:y,loaded:!1,exports:{}};return f[y].call(i.exports,i,i.exports,M),i.loaded=!0,i.exports}return M.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch{if("object"==typeof window)return window}}(),M.nmd=function(y){return y.paths=[],y.children||(y.children=[]),y},M(7386)}()},oe.exports=I()},12856:function(oe,j,r){"use strict";function E(me,de){return(E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ce,Ae){return ce.__proto__=Ae,ce})(me,de)}function f(me){if(void 0===me)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return me}function S(me){return(S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(de){return de.__proto__||Object.getPrototypeOf(de)})(me)}function M(me){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(de){return typeof de}:function(de){return de&&"function"==typeof Symbol&&de.constructor===Symbol&&de!==Symbol.prototype?"symbol":typeof de})(me)}var y=r(95341),u=r(95280),i="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;j.Buffer=o,j.SlowBuffer=function(me){return+me!=me&&(me=0),o.alloc(+me)},j.INSPECT_MAX_BYTES=50;var s=2147483647;function a(me){if(me>s)throw new RangeError('The value "'+me+'" is invalid for option "size"');var de=new Uint8Array(me);return Object.setPrototypeOf(de,o.prototype),de}function o(me,de,ce){if("number"==typeof me){if("string"==typeof de)throw new TypeError('The "string" argument must be of type string. Received type number');return h(me)}return l(me,de,ce)}function l(me,de,ce){if("string"==typeof me)return function(De,Ue){if("string"==typeof Ue&&""!==Ue||(Ue="utf8"),!o.isEncoding(Ue))throw new TypeError("Unknown encoding: "+Ue);var Ye=0|_(De,Ue),_e=a(Ye),Pe=_e.write(De,Ue);return Pe!==Ye&&(_e=_e.slice(0,Pe)),_e}(me,de);if(ArrayBuffer.isView(me))return function(De){if(ye(De,Uint8Array)){var Ue=new Uint8Array(De);return p(Ue.buffer,Ue.byteOffset,Ue.byteLength)}return v(De)}(me);if(null==me)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+M(me));if(ye(me,ArrayBuffer)||me&&ye(me.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ye(me,SharedArrayBuffer)||me&&ye(me.buffer,SharedArrayBuffer)))return p(me,de,ce);if("number"==typeof me)throw new TypeError('The "value" argument must not be of type number. Received type number');var Ae=me.valueOf&&me.valueOf();if(null!=Ae&&Ae!==me)return o.from(Ae,de,ce);var Ne=function(De){if(o.isBuffer(De)){var Ue=0|T(De.length),Ye=a(Ue);return 0===Ye.length||De.copy(Ye,0,0,Ue),Ye}return void 0!==De.length?"number"!=typeof De.length||we(De.length)?a(0):v(De):"Buffer"===De.type&&Array.isArray(De.data)?v(De.data):void 0}(me);if(Ne)return Ne;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof me[Symbol.toPrimitive])return o.from(me[Symbol.toPrimitive]("string"),de,ce);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+M(me))}function c(me){if("number"!=typeof me)throw new TypeError('"size" argument must be of type number');if(me<0)throw new RangeError('The value "'+me+'" is invalid for option "size"')}function h(me){return c(me),a(me<0?0:0|T(me))}function v(me){for(var de=me.length<0?0:0|T(me.length),ce=a(de),Ae=0;Ae<de;Ae+=1)ce[Ae]=255&me[Ae];return ce}function p(me,de,ce){if(de<0||me.byteLength<de)throw new RangeError('"offset" is outside of buffer bounds');if(me.byteLength<de+(ce||0))throw new RangeError('"length" is outside of buffer bounds');var Ae;return Ae=void 0===de&&void 0===ce?new Uint8Array(me):void 0===ce?new Uint8Array(me,de):new Uint8Array(me,de,ce),Object.setPrototypeOf(Ae,o.prototype),Ae}function T(me){if(me>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|me}function _(me,de){if(o.isBuffer(me))return me.length;if(ArrayBuffer.isView(me)||ye(me,ArrayBuffer))return me.byteLength;if("string"!=typeof me)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+M(me));var ce=me.length,Ae=arguments.length>2&&!0===arguments[2];if(!Ae&&0===ce)return 0;for(var Ne=!1;;)switch(de){case"ascii":case"latin1":case"binary":return ce;case"utf8":case"utf-8":return xe(me).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*ce;case"hex":return ce>>>1;case"base64":return Se(me).length;default:if(Ne)return Ae?-1:xe(me).length;de=(""+de).toLowerCase(),Ne=!0}}function g(me,de,ce){var Ae=!1;if((void 0===de||de<0)&&(de=0),de>this.length||((void 0===ce||ce>this.length)&&(ce=this.length),ce<=0)||(ce>>>=0)<=(de>>>=0))return"";for(me||(me="utf8");;)switch(me){case"hex":return z(this,de,ce);case"utf8":case"utf-8":return L(this,de,ce);case"ascii":return B(this,de,ce);case"latin1":case"binary":return J(this,de,ce);case"base64":return R(this,de,ce);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Y(this,de,ce);default:if(Ae)throw new TypeError("Unknown encoding: "+me);me=(me+"").toLowerCase(),Ae=!0}}function w(me,de,ce){var Ae=me[de];me[de]=me[ce],me[ce]=Ae}function x(me,de,ce,Ae,Ne){if(0===me.length)return-1;if("string"==typeof ce?(Ae=ce,ce=0):ce>2147483647?ce=2147483647:ce<-2147483648&&(ce=-2147483648),we(ce=+ce)&&(ce=Ne?0:me.length-1),ce<0&&(ce=me.length+ce),ce>=me.length){if(Ne)return-1;ce=me.length-1}else if(ce<0){if(!Ne)return-1;ce=0}if("string"==typeof de&&(de=o.from(de,Ae)),o.isBuffer(de))return 0===de.length?-1:b(me,de,ce,Ae,Ne);if("number"==typeof de)return de&=255,"function"==typeof Uint8Array.prototype.indexOf?Ne?Uint8Array.prototype.indexOf.call(me,de,ce):Uint8Array.prototype.lastIndexOf.call(me,de,ce):b(me,[de],ce,Ae,Ne);throw new TypeError("val must be string, number or Buffer")}function b(me,de,ce,Ae,Ne){var De,Ue=1,Ye=me.length,_e=de.length;if(void 0!==Ae&&("ucs2"===(Ae=String(Ae).toLowerCase())||"ucs-2"===Ae||"utf16le"===Ae||"utf-16le"===Ae)){if(me.length<2||de.length<2)return-1;Ue=2,Ye/=2,_e/=2,ce/=2}function Pe(Ge,Ke){return 1===Ue?Ge[Ke]:Ge.readUInt16BE(Ke*Ue)}if(Ne){var Ie=-1;for(De=ce;De<Ye;De++)if(Pe(me,De)===Pe(de,-1===Ie?0:De-Ie)){if(-1===Ie&&(Ie=De),De-Ie+1===_e)return Ie*Ue}else-1!==Ie&&(De-=De-Ie),Ie=-1}else for(ce+_e>Ye&&(ce=Ye-_e),De=ce;De>=0;De--){for(var Be=!0,We=0;We<_e;We++)if(Pe(me,De+We)!==Pe(de,We)){Be=!1;break}if(Be)return De}return-1}function A(me,de,ce,Ae){ce=Number(ce)||0;var Ne=me.length-ce;Ae?(Ae=Number(Ae))>Ne&&(Ae=Ne):Ae=Ne;var De,Ue=de.length;for(Ae>Ue/2&&(Ae=Ue/2),De=0;De<Ae;++De){var Ye=parseInt(de.substr(2*De,2),16);if(we(Ye))return De;me[ce+De]=Ye}return De}function m(me,de,ce,Ae){return Te(xe(de,me.length-ce),me,ce,Ae)}function C(me,de,ce,Ae){return Te(function(Ne){for(var De=[],Ue=0;Ue<Ne.length;++Ue)De.push(255&Ne.charCodeAt(Ue));return De}(de),me,ce,Ae)}function k(me,de,ce,Ae){return Te(Se(de),me,ce,Ae)}function P(me,de,ce,Ae){return Te(function(Ne,De){for(var Ue,Ye,Pe=[],Ie=0;Ie<Ne.length&&!((De-=2)<0);++Ie)Ye=(Ue=Ne.charCodeAt(Ie))>>8,Pe.push(Ue%256),Pe.push(Ye);return Pe}(de,me.length-ce),me,ce,Ae)}function R(me,de,ce){return y.fromByteArray(0===de&&ce===me.length?me:me.slice(de,ce))}function L(me,de,ce){ce=Math.min(me.length,ce);for(var Ae=[],Ne=de;Ne<ce;){var De=me[Ne],Ue=null,Ye=De>239?4:De>223?3:De>191?2:1;if(Ne+Ye<=ce){var _e=void 0,Pe=void 0,Ie=void 0,Be=void 0;switch(Ye){case 1:De<128&&(Ue=De);break;case 2:128==(192&(_e=me[Ne+1]))&&(Be=(31&De)<<6|63&_e)>127&&(Ue=Be);break;case 3:Pe=me[Ne+2],128==(192&(_e=me[Ne+1]))&&128==(192&Pe)&&(Be=(15&De)<<12|(63&_e)<<6|63&Pe)>2047&&(Be<55296||Be>57343)&&(Ue=Be);break;case 4:Pe=me[Ne+2],Ie=me[Ne+3],128==(192&(_e=me[Ne+1]))&&128==(192&Pe)&&128==(192&Ie)&&(Be=(15&De)<<18|(63&_e)<<12|(63&Pe)<<6|63&Ie)>65535&&Be<1114112&&(Ue=Be)}}null===Ue?(Ue=65533,Ye=1):Ue>65535&&(Ae.push((Ue-=65536)>>>10&1023|55296),Ue=56320|1023&Ue),Ae.push(Ue),Ne+=Ye}return function(We){var Ge=We.length;if(Ge<=N)return String.fromCharCode.apply(String,We);for(var Ke="",tt=0;tt<Ge;)Ke+=String.fromCharCode.apply(String,We.slice(tt,tt+=N));return Ke}(Ae)}j.kMaxLength=s,(o.TYPED_ARRAY_SUPPORT=function(){try{var me=new Uint8Array(1),de={foo:function(){return 42}};return Object.setPrototypeOf(de,Uint8Array.prototype),Object.setPrototypeOf(me,de),42===me.foo()}catch{return!1}}())||typeof console>"u"||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}}),o.poolSize=8192,o.from=function(me,de,ce){return l(me,de,ce)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array),o.alloc=function(me,de,ce){return Ne=de,De=ce,c(Ae=me),Ae<=0?a(Ae):void 0!==Ne?"string"==typeof De?a(Ae).fill(Ne,De):a(Ae).fill(Ne):a(Ae);var Ae,Ne,De},o.allocUnsafe=function(me){return h(me)},o.allocUnsafeSlow=function(me){return h(me)},o.isBuffer=function(me){return null!=me&&!0===me._isBuffer&&me!==o.prototype},o.compare=function(me,de){if(ye(me,Uint8Array)&&(me=o.from(me,me.offset,me.byteLength)),ye(de,Uint8Array)&&(de=o.from(de,de.offset,de.byteLength)),!o.isBuffer(me)||!o.isBuffer(de))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(me===de)return 0;for(var ce=me.length,Ae=de.length,Ne=0,De=Math.min(ce,Ae);Ne<De;++Ne)if(me[Ne]!==de[Ne]){ce=me[Ne],Ae=de[Ne];break}return ce<Ae?-1:Ae<ce?1:0},o.isEncoding=function(me){switch(String(me).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(me,de){if(!Array.isArray(me))throw new TypeError('"list" argument must be an Array of Buffers');if(0===me.length)return o.alloc(0);var ce;if(void 0===de)for(de=0,ce=0;ce<me.length;++ce)de+=me[ce].length;var Ae=o.allocUnsafe(de),Ne=0;for(ce=0;ce<me.length;++ce){var De=me[ce];if(ye(De,Uint8Array))Ne+De.length>Ae.length?(o.isBuffer(De)||(De=o.from(De)),De.copy(Ae,Ne)):Uint8Array.prototype.set.call(Ae,De,Ne);else{if(!o.isBuffer(De))throw new TypeError('"list" argument must be an Array of Buffers');De.copy(Ae,Ne)}Ne+=De.length}return Ae},o.byteLength=_,o.prototype._isBuffer=!0,o.prototype.swap16=function(){var me=this.length;if(me%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var de=0;de<me;de+=2)w(this,de,de+1);return this},o.prototype.swap32=function(){var me=this.length;if(me%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var de=0;de<me;de+=4)w(this,de,de+3),w(this,de+1,de+2);return this},o.prototype.swap64=function(){var me=this.length;if(me%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var de=0;de<me;de+=8)w(this,de,de+7),w(this,de+1,de+6),w(this,de+2,de+5),w(this,de+3,de+4);return this},o.prototype.toString=function(){var me=this.length;return 0===me?"":0===arguments.length?L(this,0,me):g.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(me){if(!o.isBuffer(me))throw new TypeError("Argument must be a Buffer");return this===me||0===o.compare(this,me)},o.prototype.inspect=function(){var me="",de=j.INSPECT_MAX_BYTES;return me=this.toString("hex",0,de).replace(/(.{2})/g,"$1 ").trim(),this.length>de&&(me+=" ... "),"<Buffer "+me+">"},i&&(o.prototype[i]=o.prototype.inspect),o.prototype.compare=function(me,de,ce,Ae,Ne){if(ye(me,Uint8Array)&&(me=o.from(me,me.offset,me.byteLength)),!o.isBuffer(me))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+M(me));if(void 0===de&&(de=0),void 0===ce&&(ce=me?me.length:0),void 0===Ae&&(Ae=0),void 0===Ne&&(Ne=this.length),de<0||ce>me.length||Ae<0||Ne>this.length)throw new RangeError("out of range index");if(Ae>=Ne&&de>=ce)return 0;if(Ae>=Ne)return-1;if(de>=ce)return 1;if(this===me)return 0;for(var De=(Ne>>>=0)-(Ae>>>=0),Ue=(ce>>>=0)-(de>>>=0),Ye=Math.min(De,Ue),_e=this.slice(Ae,Ne),Pe=me.slice(de,ce),Ie=0;Ie<Ye;++Ie)if(_e[Ie]!==Pe[Ie]){De=_e[Ie],Ue=Pe[Ie];break}return De<Ue?-1:Ue<De?1:0},o.prototype.includes=function(me,de,ce){return-1!==this.indexOf(me,de,ce)},o.prototype.indexOf=function(me,de,ce){return x(this,me,de,ce,!0)},o.prototype.lastIndexOf=function(me,de,ce){return x(this,me,de,ce,!1)},o.prototype.write=function(me,de,ce,Ae){if(void 0===de)Ae="utf8",ce=this.length,de=0;else if(void 0===ce&&"string"==typeof de)Ae=de,ce=this.length,de=0;else{if(!isFinite(de))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");de>>>=0,isFinite(ce)?(ce>>>=0,void 0===Ae&&(Ae="utf8")):(Ae=ce,ce=void 0)}var Ne=this.length-de;if((void 0===ce||ce>Ne)&&(ce=Ne),me.length>0&&(ce<0||de<0)||de>this.length)throw new RangeError("Attempt to write outside buffer bounds");Ae||(Ae="utf8");for(var De=!1;;)switch(Ae){case"hex":return A(this,me,de,ce);case"utf8":case"utf-8":return m(this,me,de,ce);case"ascii":case"latin1":case"binary":return C(this,me,de,ce);case"base64":return k(this,me,de,ce);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,me,de,ce);default:if(De)throw new TypeError("Unknown encoding: "+Ae);Ae=(""+Ae).toLowerCase(),De=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var N=4096;function B(me,de,ce){var Ae="";ce=Math.min(me.length,ce);for(var Ne=de;Ne<ce;++Ne)Ae+=String.fromCharCode(127&me[Ne]);return Ae}function J(me,de,ce){var Ae="";ce=Math.min(me.length,ce);for(var Ne=de;Ne<ce;++Ne)Ae+=String.fromCharCode(me[Ne]);return Ae}function z(me,de,ce){var Ae=me.length;(!de||de<0)&&(de=0),(!ce||ce<0||ce>Ae)&&(ce=Ae);for(var Ne="",De=de;De<ce;++De)Ne+=ze[me[De]];return Ne}function Y(me,de,ce){for(var Ae=me.slice(de,ce),Ne="",De=0;De<Ae.length-1;De+=2)Ne+=String.fromCharCode(Ae[De]+256*Ae[De+1]);return Ne}function q(me,de,ce){if(me%1!=0||me<0)throw new RangeError("offset is not uint");if(me+de>ce)throw new RangeError("Trying to access beyond buffer length")}function U(me,de,ce,Ae,Ne,De){if(!o.isBuffer(me))throw new TypeError('"buffer" argument must be a Buffer instance');if(de>Ne||de<De)throw new RangeError('"value" argument is out of bounds');if(ce+Ae>me.length)throw new RangeError("Index out of range")}function Z(me,de,ce,Ae,Ne){ue(de,Ae,Ne,me,ce,7);var De=Number(de&BigInt(4294967295));me[ce++]=De,me[ce++]=De>>=8,me[ce++]=De>>=8,me[ce++]=De>>=8;var Ue=Number(de>>BigInt(32)&BigInt(4294967295));return me[ce++]=Ue,me[ce++]=Ue>>=8,me[ce++]=Ue>>=8,me[ce++]=Ue>>=8,ce}function X(me,de,ce,Ae,Ne){ue(de,Ae,Ne,me,ce,7);var De=Number(de&BigInt(4294967295));me[ce+7]=De,me[ce+6]=De>>=8,me[ce+5]=De>>=8,me[ce+4]=De>>=8;var Ue=Number(de>>BigInt(32)&BigInt(4294967295));return me[ce+3]=Ue,me[ce+2]=Ue>>=8,me[ce+1]=Ue>>=8,me[ce]=Ue>>=8,ce+8}function se(me,de,ce,Ae,Ne,De){if(ce+Ae>me.length)throw new RangeError("Index out of range");if(ce<0)throw new RangeError("Index out of range")}function re(me,de,ce,Ae,Ne){return de=+de,ce>>>=0,Ne||se(me,0,ce,4),u.write(me,de,ce,Ae,23,4),ce+4}function ee(me,de,ce,Ae,Ne){return de=+de,ce>>>=0,Ne||se(me,0,ce,8),u.write(me,de,ce,Ae,52,8),ce+8}o.prototype.slice=function(me,de){var ce=this.length;(me=~~me)<0?(me+=ce)<0&&(me=0):me>ce&&(me=ce),(de=void 0===de?ce:~~de)<0?(de+=ce)<0&&(de=0):de>ce&&(de=ce),de<me&&(de=me);var Ae=this.subarray(me,de);return Object.setPrototypeOf(Ae,o.prototype),Ae},o.prototype.readUintLE=o.prototype.readUIntLE=function(me,de,ce){me>>>=0,de>>>=0,ce||q(me,de,this.length);for(var Ae=this[me],Ne=1,De=0;++De<de&&(Ne*=256);)Ae+=this[me+De]*Ne;return Ae},o.prototype.readUintBE=o.prototype.readUIntBE=function(me,de,ce){me>>>=0,de>>>=0,ce||q(me,de,this.length);for(var Ae=this[me+--de],Ne=1;de>0&&(Ne*=256);)Ae+=this[me+--de]*Ne;return Ae},o.prototype.readUint8=o.prototype.readUInt8=function(me,de){return me>>>=0,de||q(me,1,this.length),this[me]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(me,de){return me>>>=0,de||q(me,2,this.length),this[me]|this[me+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(me,de){return me>>>=0,de||q(me,2,this.length),this[me]<<8|this[me+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(me,de){return me>>>=0,de||q(me,4,this.length),(this[me]|this[me+1]<<8|this[me+2]<<16)+16777216*this[me+3]},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(me,de){return me>>>=0,de||q(me,4,this.length),16777216*this[me]+(this[me+1]<<16|this[me+2]<<8|this[me+3])},o.prototype.readBigUInt64LE=ke(function(me){he(me>>>=0,"offset");var de=this[me],ce=this[me+7];void 0!==de&&void 0!==ce||pe(me,this.length-8);var Ae=de+this[++me]*Math.pow(2,8)+this[++me]*Math.pow(2,16)+this[++me]*Math.pow(2,24),Ne=this[++me]+this[++me]*Math.pow(2,8)+this[++me]*Math.pow(2,16)+ce*Math.pow(2,24);return BigInt(Ae)+(BigInt(Ne)<<BigInt(32))}),o.prototype.readBigUInt64BE=ke(function(me){he(me>>>=0,"offset");var de=this[me],ce=this[me+7];void 0!==de&&void 0!==ce||pe(me,this.length-8);var Ae=de*Math.pow(2,24)+this[++me]*Math.pow(2,16)+this[++me]*Math.pow(2,8)+this[++me],Ne=this[++me]*Math.pow(2,24)+this[++me]*Math.pow(2,16)+this[++me]*Math.pow(2,8)+ce;return(BigInt(Ae)<<BigInt(32))+BigInt(Ne)}),o.prototype.readIntLE=function(me,de,ce){me>>>=0,de>>>=0,ce||q(me,de,this.length);for(var Ae=this[me],Ne=1,De=0;++De<de&&(Ne*=256);)Ae+=this[me+De]*Ne;return Ae>=(Ne*=128)&&(Ae-=Math.pow(2,8*de)),Ae},o.prototype.readIntBE=function(me,de,ce){me>>>=0,de>>>=0,ce||q(me,de,this.length);for(var Ae=de,Ne=1,De=this[me+--Ae];Ae>0&&(Ne*=256);)De+=this[me+--Ae]*Ne;return De>=(Ne*=128)&&(De-=Math.pow(2,8*de)),De},o.prototype.readInt8=function(me,de){return me>>>=0,de||q(me,1,this.length),128&this[me]?-1*(255-this[me]+1):this[me]},o.prototype.readInt16LE=function(me,de){me>>>=0,de||q(me,2,this.length);var ce=this[me]|this[me+1]<<8;return 32768&ce?4294901760|ce:ce},o.prototype.readInt16BE=function(me,de){me>>>=0,de||q(me,2,this.length);var ce=this[me+1]|this[me]<<8;return 32768&ce?4294901760|ce:ce},o.prototype.readInt32LE=function(me,de){return me>>>=0,de||q(me,4,this.length),this[me]|this[me+1]<<8|this[me+2]<<16|this[me+3]<<24},o.prototype.readInt32BE=function(me,de){return me>>>=0,de||q(me,4,this.length),this[me]<<24|this[me+1]<<16|this[me+2]<<8|this[me+3]},o.prototype.readBigInt64LE=ke(function(me){he(me>>>=0,"offset");var de=this[me],ce=this[me+7];void 0!==de&&void 0!==ce||pe(me,this.length-8);var Ae=this[me+4]+this[me+5]*Math.pow(2,8)+this[me+6]*Math.pow(2,16)+(ce<<24);return(BigInt(Ae)<<BigInt(32))+BigInt(de+this[++me]*Math.pow(2,8)+this[++me]*Math.pow(2,16)+this[++me]*Math.pow(2,24))}),o.prototype.readBigInt64BE=ke(function(me){he(me>>>=0,"offset");var de=this[me],ce=this[me+7];void 0!==de&&void 0!==ce||pe(me,this.length-8);var Ae=(de<<24)+this[++me]*Math.pow(2,16)+this[++me]*Math.pow(2,8)+this[++me];return(BigInt(Ae)<<BigInt(32))+BigInt(this[++me]*Math.pow(2,24)+this[++me]*Math.pow(2,16)+this[++me]*Math.pow(2,8)+ce)}),o.prototype.readFloatLE=function(me,de){return me>>>=0,de||q(me,4,this.length),u.read(this,me,!0,23,4)},o.prototype.readFloatBE=function(me,de){return me>>>=0,de||q(me,4,this.length),u.read(this,me,!1,23,4)},o.prototype.readDoubleLE=function(me,de){return me>>>=0,de||q(me,8,this.length),u.read(this,me,!0,52,8)},o.prototype.readDoubleBE=function(me,de){return me>>>=0,de||q(me,8,this.length),u.read(this,me,!1,52,8)},o.prototype.writeUintLE=o.prototype.writeUIntLE=function(me,de,ce,Ae){me=+me,de>>>=0,ce>>>=0,Ae||U(this,me,de,ce,Math.pow(2,8*ce)-1,0);var Ne=1,De=0;for(this[de]=255&me;++De<ce&&(Ne*=256);)this[de+De]=me/Ne&255;return de+ce},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(me,de,ce,Ae){me=+me,de>>>=0,ce>>>=0,Ae||U(this,me,de,ce,Math.pow(2,8*ce)-1,0);var Ne=ce-1,De=1;for(this[de+Ne]=255&me;--Ne>=0&&(De*=256);)this[de+Ne]=me/De&255;return de+ce},o.prototype.writeUint8=o.prototype.writeUInt8=function(me,de,ce){return me=+me,de>>>=0,ce||U(this,me,de,1,255,0),this[de]=255&me,de+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(me,de,ce){return me=+me,de>>>=0,ce||U(this,me,de,2,65535,0),this[de]=255&me,this[de+1]=me>>>8,de+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(me,de,ce){return me=+me,de>>>=0,ce||U(this,me,de,2,65535,0),this[de]=me>>>8,this[de+1]=255&me,de+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(me,de,ce){return me=+me,de>>>=0,ce||U(this,me,de,4,4294967295,0),this[de+3]=me>>>24,this[de+2]=me>>>16,this[de+1]=me>>>8,this[de]=255&me,de+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(me,de,ce){return me=+me,de>>>=0,ce||U(this,me,de,4,4294967295,0),this[de]=me>>>24,this[de+1]=me>>>16,this[de+2]=me>>>8,this[de+3]=255&me,de+4},o.prototype.writeBigUInt64LE=ke(function(me){return Z(this,me,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeBigUInt64BE=ke(function(me){return X(this,me,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeIntLE=function(me,de,ce,Ae){if(me=+me,de>>>=0,!Ae){var Ne=Math.pow(2,8*ce-1);U(this,me,de,ce,Ne-1,-Ne)}var De=0,Ue=1,Ye=0;for(this[de]=255&me;++De<ce&&(Ue*=256);)me<0&&0===Ye&&0!==this[de+De-1]&&(Ye=1),this[de+De]=(me/Ue>>0)-Ye&255;return de+ce},o.prototype.writeIntBE=function(me,de,ce,Ae){if(me=+me,de>>>=0,!Ae){var Ne=Math.pow(2,8*ce-1);U(this,me,de,ce,Ne-1,-Ne)}var De=ce-1,Ue=1,Ye=0;for(this[de+De]=255&me;--De>=0&&(Ue*=256);)me<0&&0===Ye&&0!==this[de+De+1]&&(Ye=1),this[de+De]=(me/Ue>>0)-Ye&255;return de+ce},o.prototype.writeInt8=function(me,de,ce){return me=+me,de>>>=0,ce||U(this,me,de,1,127,-128),me<0&&(me=255+me+1),this[de]=255&me,de+1},o.prototype.writeInt16LE=function(me,de,ce){return me=+me,de>>>=0,ce||U(this,me,de,2,32767,-32768),this[de]=255&me,this[de+1]=me>>>8,de+2},o.prototype.writeInt16BE=function(me,de,ce){return me=+me,de>>>=0,ce||U(this,me,de,2,32767,-32768),this[de]=me>>>8,this[de+1]=255&me,de+2},o.prototype.writeInt32LE=function(me,de,ce){return me=+me,de>>>=0,ce||U(this,me,de,4,2147483647,-2147483648),this[de]=255&me,this[de+1]=me>>>8,this[de+2]=me>>>16,this[de+3]=me>>>24,de+4},o.prototype.writeInt32BE=function(me,de,ce){return me=+me,de>>>=0,ce||U(this,me,de,4,2147483647,-2147483648),me<0&&(me=4294967295+me+1),this[de]=me>>>24,this[de+1]=me>>>16,this[de+2]=me>>>8,this[de+3]=255&me,de+4},o.prototype.writeBigInt64LE=ke(function(me){return Z(this,me,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),o.prototype.writeBigInt64BE=ke(function(me){return X(this,me,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),o.prototype.writeFloatLE=function(me,de,ce){return re(this,me,de,!0,ce)},o.prototype.writeFloatBE=function(me,de,ce){return re(this,me,de,!1,ce)},o.prototype.writeDoubleLE=function(me,de,ce){return ee(this,me,de,!0,ce)},o.prototype.writeDoubleBE=function(me,de,ce){return ee(this,me,de,!1,ce)},o.prototype.copy=function(me,de,ce,Ae){if(!o.isBuffer(me))throw new TypeError("argument should be a Buffer");if(ce||(ce=0),Ae||0===Ae||(Ae=this.length),de>=me.length&&(de=me.length),de||(de=0),Ae>0&&Ae<ce&&(Ae=ce),Ae===ce||0===me.length||0===this.length)return 0;if(de<0)throw new RangeError("targetStart out of bounds");if(ce<0||ce>=this.length)throw new RangeError("Index out of range");if(Ae<0)throw new RangeError("sourceEnd out of bounds");Ae>this.length&&(Ae=this.length),me.length-de<Ae-ce&&(Ae=me.length-de+ce);var Ne=Ae-ce;return this===me&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(de,ce,Ae):Uint8Array.prototype.set.call(me,this.subarray(ce,Ae),de),Ne},o.prototype.fill=function(me,de,ce,Ae){if("string"==typeof me){if("string"==typeof de?(Ae=de,de=0,ce=this.length):"string"==typeof ce&&(Ae=ce,ce=this.length),void 0!==Ae&&"string"!=typeof Ae)throw new TypeError("encoding must be a string");if("string"==typeof Ae&&!o.isEncoding(Ae))throw new TypeError("Unknown encoding: "+Ae);if(1===me.length){var Ne=me.charCodeAt(0);("utf8"===Ae&&Ne<128||"latin1"===Ae)&&(me=Ne)}}else"number"==typeof me?me&=255:"boolean"==typeof me&&(me=Number(me));if(de<0||this.length<de||this.length<ce)throw new RangeError("Out of range index");if(ce<=de)return this;var De;if(de>>>=0,ce=void 0===ce?this.length:ce>>>0,me||(me=0),"number"==typeof me)for(De=de;De<ce;++De)this[De]=me;else{var Ue=o.isBuffer(me)?me:o.from(me,Ae),Ye=Ue.length;if(0===Ye)throw new TypeError('The value "'+me+'" is invalid for argument "value"');for(De=0;De<ce-de;++De)this[De+de]=Ue[De%Ye]}return this};var K={};function ne(me,de,ce){K[me]=function(Ae){!function(Ie,Be){if("function"!=typeof Be&&null!==Be)throw new TypeError("Super expression must either be null or a function");Ie.prototype=Object.create(Be&&Be.prototype,{constructor:{value:Ie,writable:!0,configurable:!0}}),Object.defineProperty(Ie,"prototype",{writable:!1}),Be&&E(Ie,Be)}(Pe,Ae);var Ne,De,Ue,Ye,_e=(Ue=Pe,Ye=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var Ie,Be=S(Ue);if(Ye){var We=S(this).constructor;Ie=Reflect.construct(Be,arguments,We)}else Ie=Be.apply(this,arguments);return function(Ge,Ke){if(Ke&&("object"===M(Ke)||"function"==typeof Ke))return Ke;if(void 0!==Ke)throw new TypeError("Derived constructors may only return object or undefined");return f(Ge)}(this,Ie)});function Pe(){var Ie;return function(Be,We){if(!(Be instanceof We))throw new TypeError("Cannot call a class as a function")}(this,Pe),Ie=_e.call(this),Object.defineProperty(f(Ie),"message",{value:de.apply(f(Ie),arguments),writable:!0,configurable:!0}),Ie.name="".concat(Ie.name," [").concat(me,"]"),delete Ie.name,Ie}return Ne=Pe,(De=[{key:"code",get:function(){return me},set:function(Ie){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Ie,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(me,"]: ").concat(this.message)}}])&&function I(me,de){for(var ce=0;ce<de.length;ce++){var Ae=de[ce];Ae.enumerable=Ae.enumerable||!1,Ae.configurable=!0,"value"in Ae&&(Ae.writable=!0),Object.defineProperty(me,(Ne=function(De,Ue){if("object"!==M(De)||null===De)return De;var Ye=De[Symbol.toPrimitive];if(void 0!==Ye){var _e=Ye.call(De,"string");if("object"!==M(_e))return _e;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(De)}(Ae.key),"symbol"===M(Ne)?Ne:String(Ne)),Ae)}var Ne}(Ne.prototype,De),Object.defineProperty(Ne,"prototype",{writable:!1}),Pe}(ce)}function ae(me){for(var de="",ce=me.length,Ae="-"===me[0]?1:0;ce>=Ae+4;ce-=3)de="_".concat(me.slice(ce-3,ce)).concat(de);return"".concat(me.slice(0,ce)).concat(de)}function ue(me,de,ce,Ae,Ne,De){if(me>ce||me<de){var Ue,Ye="bigint"==typeof de?"n":"";throw Ue=De>3?0===de||de===BigInt(0)?">= 0".concat(Ye," and < 2").concat(Ye," ** ").concat(8*(De+1)).concat(Ye):">= -(2".concat(Ye," ** ").concat(8*(De+1)-1).concat(Ye,") and < 2 ** ")+"".concat(8*(De+1)-1).concat(Ye):">= ".concat(de).concat(Ye," and <= ").concat(ce).concat(Ye),new K.ERR_OUT_OF_RANGE("value",Ue,me)}var _e,Pe,Ie;_e=Ae,Ie=De,he(Pe=Ne,"offset"),void 0!==_e[Pe]&&void 0!==_e[Pe+Ie]||pe(Pe,_e.length-(Ie+1))}function he(me,de){if("number"!=typeof me)throw new K.ERR_INVALID_ARG_TYPE(de,"number",me)}function pe(me,de,ce){throw Math.floor(me)!==me?(he(me,ce),new K.ERR_OUT_OF_RANGE(ce||"offset","an integer",me)):de<0?new K.ERR_BUFFER_OUT_OF_BOUNDS:new K.ERR_OUT_OF_RANGE(ce||"offset",">= ".concat(ce?1:0," and <= ").concat(de),me)}ne("ERR_BUFFER_OUT_OF_BOUNDS",function(me){return me?"".concat(me," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),ne("ERR_INVALID_ARG_TYPE",function(me,de){return'The "'.concat(me,'" argument must be of type number. Received type ').concat(M(de))},TypeError),ne("ERR_OUT_OF_RANGE",function(me,de,ce){var Ae='The value of "'.concat(me,'" is out of range.'),Ne=ce;return Number.isInteger(ce)&&Math.abs(ce)>Math.pow(2,32)?Ne=ae(String(ce)):"bigint"==typeof ce&&(Ne=String(ce),(ce>Math.pow(BigInt(2),BigInt(32))||ce<-Math.pow(BigInt(2),BigInt(32)))&&(Ne=ae(Ne)),Ne+="n"),Ae+" It must be ".concat(de,". Received ").concat(Ne)},RangeError);var ge=/[^+/0-9A-Za-z-_]/g;function xe(me,de){var ce;de=de||1/0;for(var Ae=me.length,Ne=null,De=[],Ue=0;Ue<Ae;++Ue){if((ce=me.charCodeAt(Ue))>55295&&ce<57344){if(!Ne){if(ce>56319){(de-=3)>-1&&De.push(239,191,189);continue}if(Ue+1===Ae){(de-=3)>-1&&De.push(239,191,189);continue}Ne=ce;continue}if(ce<56320){(de-=3)>-1&&De.push(239,191,189),Ne=ce;continue}ce=65536+(Ne-55296<<10|ce-56320)}else Ne&&(de-=3)>-1&&De.push(239,191,189);if(Ne=null,ce<128){if((de-=1)<0)break;De.push(ce)}else if(ce<2048){if((de-=2)<0)break;De.push(ce>>6|192,63&ce|128)}else if(ce<65536){if((de-=3)<0)break;De.push(ce>>12|224,ce>>6&63|128,63&ce|128)}else{if(!(ce<1114112))throw new Error("Invalid code point");if((de-=4)<0)break;De.push(ce>>18|240,ce>>12&63|128,ce>>6&63|128,63&ce|128)}}return De}function Se(me){return y.toByteArray(function(de){if((de=(de=de.split("=")[0]).trim().replace(ge,"")).length<2)return"";for(;de.length%4!=0;)de+="=";return de}(me))}function Te(me,de,ce,Ae){var Ne;for(Ne=0;Ne<Ae&&!(Ne+ce>=de.length||Ne>=me.length);++Ne)de[Ne+ce]=me[Ne];return Ne}function ye(me,de){return me instanceof de||null!=me&&null!=me.constructor&&null!=me.constructor.name&&me.constructor.name===de.name}function we(me){return me!=me}var ze=function(){for(var me="0123456789abcdef",de=new Array(256),ce=0;ce<16;++ce)for(var Ae=16*ce,Ne=0;Ne<16;++Ne)de[Ae+Ne]=me[ce]+me[Ne];return de}();function ke(me){return typeof BigInt>"u"?Ee:me}function Ee(){throw new Error("BigInt not supported")}},35791:function(oe){"use strict";oe.exports=E,oe.exports.isMobile=E,oe.exports.default=E;var j=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,r=/CrOS/,I=/android|ipad|playbook|silk/i;function E(f){f||(f={});var S=f.ua;if(S||typeof navigator>"u"||(S=navigator.userAgent),S&&S.headers&&"string"==typeof S.headers["user-agent"]&&(S=S.headers["user-agent"]),"string"!=typeof S)return!1;var M=j.test(S)&&!r.test(S)||!!f.tablet&&I.test(S);return!M&&f.tablet&&f.featureDetect&&navigator&&navigator.maxTouchPoints>1&&-1!==S.indexOf("Macintosh")&&-1!==S.indexOf("Safari")&&(M=!0),M}},86781:function(oe,j,r){"use strict";r.r(j),r.d(j,{sankeyCenter:function(){return a},sankeyCircular:function(){return R},sankeyJustify:function(){return s},sankeyLeft:function(){return u},sankeyRight:function(){return i}});var I=r(33064),E=r(15140),f=r(45879),S=r(2502),M=r.n(S);function y(Te){return Te.target.depth}function u(Te){return Te.depth}function i(Te,ye){return ye-1-Te.height}function s(Te,ye){return Te.sourceLinks.length?Te.depth:ye-1}function a(Te){return Te.targetLinks.length?Te.depth:Te.sourceLinks.length?(0,I.VV)(Te.sourceLinks,y)-1:0}function o(Te){return function(){return Te}}var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Te){return typeof Te}:function(Te){return Te&&"function"==typeof Symbol&&Te.constructor===Symbol&&Te!==Symbol.prototype?"symbol":typeof Te};function c(Te,ye){return v(Te.source,ye.source)||Te.index-ye.index}function h(Te,ye){return v(Te.target,ye.target)||Te.index-ye.index}function v(Te,ye){return Te.partOfCycle===ye.partOfCycle?Te.y0-ye.y0:"top"===Te.circularLinkType||"bottom"===ye.circularLinkType?-1:1}function p(Te){return Te.value}function T(Te){return(Te.y0+Te.y1)/2}function _(Te){return T(Te.source)}function g(Te){return T(Te.target)}function w(Te){return Te.index}function x(Te){return Te.nodes}function b(Te){return Te.links}function A(Te,ye){var we=Te.get(ye);if(!we)throw new Error("missing: "+ye);return we}function m(Te,ye){return ye(Te)}var C=25,k=10,P=.3;function R(){var Te,ye,we=0,ze=0,ke=1,Ee=1,me=24,de=w,ce=s,Ae=x,Ne=b,De=32,Ue=2,Ye=null;function _e(){var Ie={nodes:Ae.apply(null,arguments),links:Ne.apply(null,arguments)};(function(We){We.nodes.forEach(function(Ke,tt){Ke.index=tt,Ke.sourceLinks=[],Ke.targetLinks=[]});var Ge=(0,E.UI)(We.nodes,de);We.links.forEach(function(Ke,tt){Ke.index=tt;var st=Ke.source,gt=Ke.target;"object"!==(void 0===st?"undefined":l(st))&&(st=Ke.source=A(Ge,st)),"object"!==(void 0===gt?"undefined":l(gt))&&(gt=Ke.target=A(Ge,gt)),st.sourceLinks.push(Ke),gt.targetLinks.push(Ke)})})(Ie),function(We,Ge,Ke){var tt=0;if(null===Ke){for(var st=[],gt=0;gt<We.links.length;gt++){var ct=We.links[gt],kt=ct.source.index,Dt=ct.target.index;st[kt]||(st[kt]=[]),st[Dt]||(st[Dt]=[]),-1===st[kt].indexOf(Dt)&&st[kt].push(Dt)}var vt=M()(st);vt.sort(function(Lt,Rt){return Lt.length-Rt.length});var mt={};for(gt=0;gt<vt.length;gt++){var Et=vt[gt].slice(-2);mt[Et[0]]||(mt[Et[0]]={}),mt[Et[0]][Et[1]]=!0}We.links.forEach(function(Lt){var Rt=Lt.target.index,Ut=Lt.source.index;Rt===Ut||mt[Ut]&&mt[Ut][Rt]?(Lt.circular=!0,Lt.circularLinkID=tt,tt+=1):Lt.circular=!1})}else We.links.forEach(function(Lt){Lt.source[Ke]<Lt.target[Ke]?Lt.circular=!1:(Lt.circular=!0,Lt.circularLinkID=tt,tt+=1)})}(Ie,0,Ye),Ie.nodes.forEach(function(Ge){Ge.partOfCycle=!1,Ge.value=Math.max((0,I.Sm)(Ge.sourceLinks,p),(0,I.Sm)(Ge.targetLinks,p)),Ge.sourceLinks.forEach(function(Ke){Ke.circular&&(Ge.partOfCycle=!0,Ge.circularLinkType=Ke.circularLinkType)}),Ge.targetLinks.forEach(function(Ke){Ke.circular&&(Ge.partOfCycle=!0,Ge.circularLinkType=Ke.circularLinkType)})}),function(We){var Ge,Ke,tt;for(Ge=We.nodes,Ke=[],tt=0;Ge.length;++tt,Ge=Ke,Ke=[])Ge.forEach(function(st){st.depth=tt,st.sourceLinks.forEach(function(gt){Ke.indexOf(gt.target)<0&&!gt.circular&&Ke.push(gt.target)})});for(Ge=We.nodes,Ke=[],tt=0;Ge.length;++tt,Ge=Ke,Ke=[])Ge.forEach(function(st){st.height=tt,st.targetLinks.forEach(function(gt){Ke.indexOf(gt.source)<0&&!gt.circular&&Ke.push(gt.source)})});We.nodes.forEach(function(st){st.column=Math.floor(ce.call(null,st,tt))})}(Ie),L(Ie,de),function(We,Ge,Ke){var tt=(0,E.b1)().key(function(Dt){return Dt.column}).sortKeys(I.j2).entries(We.nodes).map(function(Dt){return Dt.values});(function(Dt){if(ye){var vt=1/0;tt.forEach(function(Rt){var Ut=Ee*ye/(Rt.length+1);vt=Ut<vt?Ut:vt}),Te=vt}var mt=(0,I.VV)(tt,function(Rt){return(Ee-ze-(Rt.length-1)*Te)/(0,I.Sm)(Rt,p)});mt*=P,We.links.forEach(function(Rt){Rt.width=Rt.value*mt});var Rt,Ut,Bt,rt,ot,Je,Et=(Ut=0,Bt=0,rt=0,ot=0,Je=(0,I.Fp)((Rt=We).nodes,function(it){return it.column}),Rt.links.forEach(function(it){it.circular&&("top"==it.circularLinkType?Ut+=it.width:Bt+=it.width,0==it.target.column&&(ot+=it.width),it.source.column==Je&&(rt+=it.width))}),{top:Ut=Ut>0?Ut+C+k:Ut,bottom:Bt=Bt>0?Bt+C+k:Bt,left:ot=ot>0?ot+C+k:ot,right:rt=rt>0?rt+C+k:rt}),Lt=function(Rt,Ut){var Bt=(0,I.Fp)(Rt.nodes,function(dt){return dt.column}),rt=ke-we,ot=Ee-ze,Je=rt/(rt+Ut.right+Ut.left),it=ot/(ot+Ut.top+Ut.bottom);return we=we*Je+Ut.left,ke=0==Ut.right?ke:ke*Je,ze=ze*it+Ut.top,Ee*=it,Rt.nodes.forEach(function(dt){dt.x0=we+dt.column*((ke-we-me)/Bt),dt.x1=dt.x0+me}),it}(We,Et);mt*=Lt,We.links.forEach(function(Rt){Rt.width=Rt.value*mt}),tt.forEach(function(Rt){var Ut=Rt.length;Rt.forEach(function(Bt,rt){Bt.depth==tt.length-1&&1==Ut||0==Bt.depth&&1==Ut?(Bt.y0=Ee/2-Bt.value*mt,Bt.y1=Bt.y0+Bt.value*mt):Bt.partOfCycle?0==B(Bt,Dt)?(Bt.y0=Ee/2+rt,Bt.y1=Bt.y0+Bt.value*mt):"top"==Bt.circularLinkType?(Bt.y0=ze+rt,Bt.y1=Bt.y0+Bt.value*mt):(Bt.y0=Ee-Bt.value*mt-rt,Bt.y1=Bt.y0+Bt.value*mt):0==Et.top||0==Et.bottom?(Bt.y0=(Ee-ze)/Ut*rt,Bt.y1=Bt.y0+Bt.value*mt):(Bt.y0=(Ee-ze)/2-Ut/2+rt,Bt.y1=Bt.y0+Bt.value*mt)})})})(Ke),kt();for(var st=1,gt=Ge;gt>0;--gt)ct(st*=.99,Ke),kt();function ct(Dt,vt){var mt=tt.length;tt.forEach(function(Et){var Lt=Et.length,Rt=Et[0].depth;Et.forEach(function(Ut){var Bt;if((Ut.sourceLinks.length||Ut.targetLinks.length)&&!(Ut.partOfCycle&&B(Ut,vt)>0))if(0==Rt&&1==Lt)Ut.y0=Ee/2-(Bt=Ut.y1-Ut.y0)/2,Ut.y1=Ee/2+Bt/2;else if(Rt==mt-1&&1==Lt)Ut.y0=Ee/2-(Bt=Ut.y1-Ut.y0)/2,Ut.y1=Ee/2+Bt/2;else{var rt=(0,I.J6)(Ut.sourceLinks,g),ot=(0,I.J6)(Ut.targetLinks,_),Je=((rt&&ot?(rt+ot)/2:rt||ot)-T(Ut))*Dt;Ut.y0+=Je,Ut.y1+=Je}})})}function kt(){tt.forEach(function(Dt){var vt,mt,Et,Lt=ze,Rt=Dt.length;for(Dt.sort(v),Et=0;Et<Rt;++Et)(mt=Lt-(vt=Dt[Et]).y0)>0&&(vt.y0+=mt,vt.y1+=mt),Lt=vt.y1+Te;if((mt=Lt-Te-Ee)>0)for(Lt=vt.y0-=mt,vt.y1-=mt,Et=Rt-2;Et>=0;--Et)(mt=(vt=Dt[Et]).y1+Te-Lt)>0&&(vt.y0-=mt,vt.y1-=mt),Lt=vt.y0})}}(Ie,De,de),Pe(Ie);for(var Be=0;Be<4;Be++)he(Ie,Ee,de),pe(Ie,0,de),ae(Ie,ze,Ee,de),he(Ie,Ee,de),pe(Ie,0,de);return function(We,Ge,Ke){var tt=We.nodes,st=We.links,gt=!1,ct=!1;if(st.forEach(function(vt){"top"==vt.circularLinkType?gt=!0:"bottom"==vt.circularLinkType&&(ct=!0)}),0==gt||0==ct){var kt=(0,I.VV)(tt,function(vt){return vt.y0}),Dt=(Ke-Ge)/((0,I.Fp)(tt,function(vt){return vt.y1})-kt);tt.forEach(function(vt){var mt=(vt.y1-vt.y0)*Dt;vt.y0=(vt.y0-kt)*Dt,vt.y1=vt.y0+mt}),st.forEach(function(vt){vt.y0=(vt.y0-kt)*Dt,vt.y1=(vt.y1-kt)*Dt,vt.width=vt.width*Dt})}}(Ie,ze,Ee),Y(Ie,Ue,Ee,de),Ie}function Pe(Ie){Ie.nodes.forEach(function(Be){Be.sourceLinks.sort(h),Be.targetLinks.sort(c)}),Ie.nodes.forEach(function(Be){var We=Be.y0,Ge=We,Ke=Be.y1,tt=Ke;Be.sourceLinks.forEach(function(st){st.circular?(st.y0=Ke-st.width/2,Ke-=st.width):(st.y0=We+st.width/2,We+=st.width)}),Be.targetLinks.forEach(function(st){st.circular?(st.y1=tt-st.width/2,tt-=st.width):(st.y1=Ge+st.width/2,Ge+=st.width)})})}return _e.nodeId=function(Ie){return arguments.length?(de="function"==typeof Ie?Ie:o(Ie),_e):de},_e.nodeAlign=function(Ie){return arguments.length?(ce="function"==typeof Ie?Ie:o(Ie),_e):ce},_e.nodeWidth=function(Ie){return arguments.length?(me=+Ie,_e):me},_e.nodePadding=function(Ie){return arguments.length?(Te=+Ie,_e):Te},_e.nodes=function(Ie){return arguments.length?(Ae="function"==typeof Ie?Ie:o(Ie),_e):Ae},_e.links=function(Ie){return arguments.length?(Ne="function"==typeof Ie?Ie:o(Ie),_e):Ne},_e.size=function(Ie){return arguments.length?(we=ze=0,ke=+Ie[0],Ee=+Ie[1],_e):[ke-we,Ee-ze]},_e.extent=function(Ie){return arguments.length?(we=+Ie[0][0],ke=+Ie[1][0],ze=+Ie[0][1],Ee=+Ie[1][1],_e):[[we,ze],[ke,Ee]]},_e.iterations=function(Ie){return arguments.length?(De=+Ie,_e):De},_e.circularLinkGap=function(Ie){return arguments.length?(Ue=+Ie,_e):Ue},_e.nodePaddingRatio=function(Ie){return arguments.length?(ye=+Ie,_e):ye},_e.sortNodes=function(Ie){return arguments.length?(Ye=Ie,_e):Ye},_e.update=function(Ie){return L(Ie,de),Pe(Ie),Ie.links.forEach(function(Be){Be.circular&&(Be.circularLinkType=Be.y0+Be.y1<Ee?"top":"bottom",Be.source.circularLinkType=Be.circularLinkType,Be.target.circularLinkType=Be.circularLinkType)}),he(Ie,Ee,de,!1),pe(Ie,0,de),Y(Ie,Ue,Ee,de),Ie},_e}function L(Te,ye){var we=0,ze=0;Te.links.forEach(function(ke){ke.circular&&(ke.circularLinkType=ke.source.circularLinkType||ke.target.circularLinkType?ke.source.circularLinkType?ke.source.circularLinkType:ke.target.circularLinkType:we<ze?"top":"bottom","top"==ke.circularLinkType?we+=1:ze+=1,Te.nodes.forEach(function(Ee){m(Ee,ye)!=m(ke.source,ye)&&m(Ee,ye)!=m(ke.target,ye)||(Ee.circularLinkType=ke.circularLinkType)}))}),Te.links.forEach(function(ke){ke.circular&&(ke.source.circularLinkType==ke.target.circularLinkType&&(ke.circularLinkType=ke.source.circularLinkType),Se(ke,ye)&&(ke.circularLinkType=ke.source.circularLinkType))})}function N(Te){var ye=Math.abs(Te.y1-Te.y0),we=Math.abs(Te.target.x0-Te.source.x1);return Math.atan(we/ye)}function B(Te,ye){var we=0;Te.sourceLinks.forEach(function(ke){we=ke.circular&&!Se(ke,ye)?we+1:we});var ze=0;return Te.targetLinks.forEach(function(ke){ze=ke.circular&&!Se(ke,ye)?ze+1:ze}),we+ze}function J(Te){var we=0;Te.source.sourceLinks.forEach(function(Ee){we=Ee.circular?we+1:we});var ke=0;return Te.target.targetLinks.forEach(function(Ee){ke=Ee.circular?ke+1:ke}),!(we>1||ke>1)}function z(Te,ye,we){return Te.sort(q),Te.forEach(function(ze,ke){var Ee,me,de=0;if(Se(ze,we)&&J(ze))ze.circularPathData.verticalBuffer=de+ze.width/2;else{for(var ce=0;ce<ke;ce++)if(!((Ee=Te[ke]).source.column<(me=Te[ce]).target.column||Ee.target.column>me.source.column)){var Ae=Te[ce].circularPathData.verticalBuffer+Te[ce].width/2+ye;de=Ae>de?Ae:de}ze.circularPathData.verticalBuffer=de+ze.width/2}}),Te}function Y(Te,ye,we,ze){var ke=(0,I.VV)(Te.links,function(Ee){return Ee.source.y0});Te.links.forEach(function(Ee){Ee.circular&&(Ee.circularPathData={})}),z(Te.links.filter(function(Ee){return"top"==Ee.circularLinkType}),ye,ze),z(Te.links.filter(function(Ee){return"bottom"==Ee.circularLinkType}),ye,ze),Te.links.forEach(function(Ee){if(Ee.circular){if(Ee.circularPathData.arcRadius=Ee.width+k,Ee.circularPathData.leftNodeBuffer=5,Ee.circularPathData.rightNodeBuffer=5,Ee.circularPathData.sourceWidth=Ee.source.x1-Ee.source.x0,Ee.circularPathData.sourceX=Ee.source.x0+Ee.circularPathData.sourceWidth,Ee.circularPathData.targetX=Ee.target.x0,Ee.circularPathData.sourceY=Ee.y0,Ee.circularPathData.targetY=Ee.y1,Se(Ee,ze)&&J(Ee))Ee.circularPathData.leftSmallArcRadius=k+Ee.width/2,Ee.circularPathData.leftLargeArcRadius=k+Ee.width/2,Ee.circularPathData.rightSmallArcRadius=k+Ee.width/2,Ee.circularPathData.rightLargeArcRadius=k+Ee.width/2,"bottom"==Ee.circularLinkType?(Ee.circularPathData.verticalFullExtent=Ee.source.y1+C+Ee.circularPathData.verticalBuffer,Ee.circularPathData.verticalLeftInnerExtent=Ee.circularPathData.verticalFullExtent-Ee.circularPathData.leftLargeArcRadius,Ee.circularPathData.verticalRightInnerExtent=Ee.circularPathData.verticalFullExtent-Ee.circularPathData.rightLargeArcRadius):(Ee.circularPathData.verticalFullExtent=Ee.source.y0-C-Ee.circularPathData.verticalBuffer,Ee.circularPathData.verticalLeftInnerExtent=Ee.circularPathData.verticalFullExtent+Ee.circularPathData.leftLargeArcRadius,Ee.circularPathData.verticalRightInnerExtent=Ee.circularPathData.verticalFullExtent+Ee.circularPathData.rightLargeArcRadius);else{var me=Ee.source.column,de=Ee.circularLinkType,ce=Te.links.filter(function(De){return De.source.column==me&&De.circularLinkType==de});ce.sort("bottom"==Ee.circularLinkType?Z:U);var Ae=0;ce.forEach(function(De,Ue){De.circularLinkID==Ee.circularLinkID&&(Ee.circularPathData.leftSmallArcRadius=k+Ee.width/2+Ae,Ee.circularPathData.leftLargeArcRadius=k+Ee.width/2+Ue*ye+Ae),Ae+=De.width}),me=Ee.target.column,(ce=Te.links.filter(function(De){return De.target.column==me&&De.circularLinkType==de})).sort("bottom"==Ee.circularLinkType?se:X),Ae=0,ce.forEach(function(De,Ue){De.circularLinkID==Ee.circularLinkID&&(Ee.circularPathData.rightSmallArcRadius=k+Ee.width/2+Ae,Ee.circularPathData.rightLargeArcRadius=k+Ee.width/2+Ue*ye+Ae),Ae+=De.width}),"bottom"==Ee.circularLinkType?(Ee.circularPathData.verticalFullExtent=Math.max(we,Ee.source.y1,Ee.target.y1)+C+Ee.circularPathData.verticalBuffer,Ee.circularPathData.verticalLeftInnerExtent=Ee.circularPathData.verticalFullExtent-Ee.circularPathData.leftLargeArcRadius,Ee.circularPathData.verticalRightInnerExtent=Ee.circularPathData.verticalFullExtent-Ee.circularPathData.rightLargeArcRadius):(Ee.circularPathData.verticalFullExtent=ke-C-Ee.circularPathData.verticalBuffer,Ee.circularPathData.verticalLeftInnerExtent=Ee.circularPathData.verticalFullExtent+Ee.circularPathData.leftLargeArcRadius,Ee.circularPathData.verticalRightInnerExtent=Ee.circularPathData.verticalFullExtent+Ee.circularPathData.rightLargeArcRadius)}Ee.circularPathData.leftInnerExtent=Ee.circularPathData.sourceX+Ee.circularPathData.leftNodeBuffer,Ee.circularPathData.rightInnerExtent=Ee.circularPathData.targetX-Ee.circularPathData.rightNodeBuffer,Ee.circularPathData.leftFullExtent=Ee.circularPathData.sourceX+Ee.circularPathData.leftLargeArcRadius+Ee.circularPathData.leftNodeBuffer,Ee.circularPathData.rightFullExtent=Ee.circularPathData.targetX-Ee.circularPathData.rightLargeArcRadius-Ee.circularPathData.rightNodeBuffer}if(Ee.circular)Ee.path="top"==(De=Ee).circularLinkType?"M"+De.circularPathData.sourceX+" "+De.circularPathData.sourceY+" L"+De.circularPathData.leftInnerExtent+" "+De.circularPathData.sourceY+" A"+De.circularPathData.leftLargeArcRadius+" "+De.circularPathData.leftSmallArcRadius+" 0 0 0 "+De.circularPathData.leftFullExtent+" "+(De.circularPathData.sourceY-De.circularPathData.leftSmallArcRadius)+" L"+De.circularPathData.leftFullExtent+" "+De.circularPathData.verticalLeftInnerExtent+" A"+De.circularPathData.leftLargeArcRadius+" "+De.circularPathData.leftLargeArcRadius+" 0 0 0 "+De.circularPathData.leftInnerExtent+" "+De.circularPathData.verticalFullExtent+" L"+De.circularPathData.rightInnerExtent+" "+De.circularPathData.verticalFullExtent+" A"+De.circularPathData.rightLargeArcRadius+" "+De.circularPathData.rightLargeArcRadius+" 0 0 0 "+De.circularPathData.rightFullExtent+" "+De.circularPathData.verticalRightInnerExtent+" L"+De.circularPathData.rightFullExtent+" "+(De.circularPathData.targetY-De.circularPathData.rightSmallArcRadius)+" A"+De.circularPathData.rightLargeArcRadius+" "+De.circularPathData.rightSmallArcRadius+" 0 0 0 "+De.circularPathData.rightInnerExtent+" "+De.circularPathData.targetY+" L"+De.circularPathData.targetX+" "+De.circularPathData.targetY:"M"+De.circularPathData.sourceX+" "+De.circularPathData.sourceY+" L"+De.circularPathData.leftInnerExtent+" "+De.circularPathData.sourceY+" A"+De.circularPathData.leftLargeArcRadius+" "+De.circularPathData.leftSmallArcRadius+" 0 0 1 "+De.circularPathData.leftFullExtent+" "+(De.circularPathData.sourceY+De.circularPathData.leftSmallArcRadius)+" L"+De.circularPathData.leftFullExtent+" "+De.circularPathData.verticalLeftInnerExtent+" A"+De.circularPathData.leftLargeArcRadius+" "+De.circularPathData.leftLargeArcRadius+" 0 0 1 "+De.circularPathData.leftInnerExtent+" "+De.circularPathData.verticalFullExtent+" L"+De.circularPathData.rightInnerExtent+" "+De.circularPathData.verticalFullExtent+" A"+De.circularPathData.rightLargeArcRadius+" "+De.circularPathData.rightLargeArcRadius+" 0 0 1 "+De.circularPathData.rightFullExtent+" "+De.circularPathData.verticalRightInnerExtent+" L"+De.circularPathData.rightFullExtent+" "+(De.circularPathData.targetY+De.circularPathData.rightSmallArcRadius)+" A"+De.circularPathData.rightLargeArcRadius+" "+De.circularPathData.rightSmallArcRadius+" 0 0 1 "+De.circularPathData.rightInnerExtent+" "+De.circularPathData.targetY+" L"+De.circularPathData.targetX+" "+De.circularPathData.targetY;else{var Ne=(0,f.h5)().source(function(De){return[De.source.x0+(De.source.x1-De.source.x0),De.y0]}).target(function(De){return[De.target.x0,De.y1]});Ee.path=Ne(Ee)}var De})}function q(Te,ye){return re(Te)==re(ye)?"bottom"==Te.circularLinkType?Z(Te,ye):U(Te,ye):re(ye)-re(Te)}function U(Te,ye){return Te.y0-ye.y0}function Z(Te,ye){return ye.y0-Te.y0}function X(Te,ye){return Te.y1-ye.y1}function se(Te,ye){return ye.y1-Te.y1}function re(Te){return Te.target.column-Te.source.column}function ee(Te){return Te.target.x0-Te.source.x1}function K(Te,ye){var we=N(Te),ze=ee(ye)/Math.tan(we);return"up"==xe(Te)?Te.y1+ze:Te.y1-ze}function ne(Te,ye){var we=N(Te),ze=ee(ye)/Math.tan(we);return"up"==xe(Te)?Te.y1-ze:Te.y1+ze}function ae(Te,ye,we,ze){Te.links.forEach(function(ke){if(!ke.circular&&ke.target.column-ke.source.column>1){var Ee=ke.source.column+1,me=ke.target.column-1,de=1,ce=me-Ee+1;for(de=1;Ee<=me;Ee++,de++)Te.nodes.forEach(function(Ae){if(Ae.column==Ee){var Ne,De=de/(ce+1),Ue=Math.pow(1-De,3),Ye=3*De*Math.pow(1-De,2),_e=3*Math.pow(De,2)*(1-De),Pe=Math.pow(De,3),Ie=Ue*ke.y0+Ye*ke.y0+_e*ke.y1+Pe*ke.y1,Be=Ie-ke.width/2,We=Ie+ke.width/2;Be>Ae.y0&&Be<Ae.y1?(Ne=Ae.y1-Be+10,Ae=ue(Ae,Ne="bottom"==Ae.circularLinkType?Ne:-Ne,ye,we),Te.nodes.forEach(function(Ge){var Ke,tt;m(Ge,ze)!=m(Ae,ze)&&Ge.column==Ae.column&&((Ke=Ae).y0>(tt=Ge).y0&&Ke.y0<tt.y1||Ke.y1>tt.y0&&Ke.y1<tt.y1||Ke.y0<tt.y0&&Ke.y1>tt.y1)&&ue(Ge,Ne,ye,we)})):(We>Ae.y0&&We<Ae.y1||Be<Ae.y0&&We>Ae.y1)&&(Ae=ue(Ae,Ne=We-Ae.y0+10,ye,we),Te.nodes.forEach(function(Ge){m(Ge,ze)!=m(Ae,ze)&&Ge.column==Ae.column&&Ge.y0<Ae.y1&&Ge.y1>Ae.y1&&ue(Ge,Ne,ye,we)}))}})}})}function ue(Te,ye,we,ze){return Te.y0+ye>=we&&Te.y1+ye<=ze&&(Te.y0=Te.y0+ye,Te.y1=Te.y1+ye,Te.targetLinks.forEach(function(ke){ke.y1=ke.y1+ye}),Te.sourceLinks.forEach(function(ke){ke.y0=ke.y0+ye})),Te}function he(Te,ye,we,ze){Te.nodes.forEach(function(ke){ze&&ke.y+(ke.y1-ke.y0)>ye&&(ke.y=ke.y-(ke.y+(ke.y1-ke.y0)-ye));var Ee=Te.links.filter(function(ce){return m(ce.source,we)==m(ke,we)}),me=Ee.length;me>1&&Ee.sort(function(ce,Ae){if(!ce.circular&&!Ae.circular){if(ce.target.column==Ae.target.column||!ge(ce,Ae))return ce.y1-Ae.y1;if(ce.target.column>Ae.target.column){var Ne=ne(Ae,ce);return ce.y1-Ne}if(Ae.target.column>ce.target.column)return ne(ce,Ae)-Ae.y1}return ce.circular&&!Ae.circular?"top"==ce.circularLinkType?-1:1:Ae.circular&&!ce.circular?"top"==Ae.circularLinkType?1:-1:ce.circular&&Ae.circular?ce.circularLinkType===Ae.circularLinkType&&"top"==ce.circularLinkType?ce.target.column===Ae.target.column?ce.target.y1-Ae.target.y1:Ae.target.column-ce.target.column:ce.circularLinkType===Ae.circularLinkType&&"bottom"==ce.circularLinkType?ce.target.column===Ae.target.column?Ae.target.y1-ce.target.y1:ce.target.column-Ae.target.column:"top"==ce.circularLinkType?-1:1:void 0});var de=ke.y0;Ee.forEach(function(ce){ce.y0=de+ce.width/2,de+=ce.width}),Ee.forEach(function(ce,Ae){if("bottom"==ce.circularLinkType){for(var Ne=Ae+1,De=0;Ne<me;Ne++)De+=Ee[Ne].width;ce.y0=ke.y1-De-ce.width/2}})})}function pe(Te,ye,we){Te.nodes.forEach(function(ze){var ke=Te.links.filter(function(de){return m(de.target,we)==m(ze,we)}),Ee=ke.length;Ee>1&&ke.sort(function(de,ce){if(!de.circular&&!ce.circular){if(de.source.column==ce.source.column||!ge(de,ce))return de.y0-ce.y0;if(ce.source.column<de.source.column){var Ae=K(ce,de);return de.y0-Ae}if(de.source.column<ce.source.column)return K(de,ce)-ce.y0}return de.circular&&!ce.circular?"top"==de.circularLinkType?-1:1:ce.circular&&!de.circular?"top"==ce.circularLinkType?1:-1:de.circular&&ce.circular?de.circularLinkType===ce.circularLinkType&&"top"==de.circularLinkType?de.source.column===ce.source.column?de.source.y1-ce.source.y1:de.source.column-ce.source.column:de.circularLinkType===ce.circularLinkType&&"bottom"==de.circularLinkType?de.source.column===ce.source.column?de.source.y1-ce.source.y1:ce.source.column-de.source.column:"top"==de.circularLinkType?-1:1:void 0});var me=ze.y0;ke.forEach(function(de){de.y1=me+de.width/2,me+=de.width}),ke.forEach(function(de,ce){if("bottom"==de.circularLinkType){for(var Ae=ce+1,Ne=0;Ae<Ee;Ae++)Ne+=ke[Ae].width;de.y1=ze.y1-Ne-de.width/2}})})}function ge(Te,ye){return xe(Te)==xe(ye)}function xe(Te){return Te.y0-Te.y1>0?"up":"down"}function Se(Te,ye){return m(Te.source,ye)==m(Te.target,ye)}},30838:function(oe,j,r){"use strict";r.r(j),r.d(j,{sankey:function(){return w},sankeyCenter:function(){return u},sankeyJustify:function(){return y},sankeyLeft:function(){return S},sankeyLinkHorizontal:function(){return m},sankeyRight:function(){return M}});var I=r(33064),E=r(15140);function f(C){return C.target.depth}function S(C){return C.depth}function M(C,k){return k-1-C.height}function y(C,k){return C.sourceLinks.length?C.depth:k-1}function u(C){return C.targetLinks.length?C.depth:C.sourceLinks.length?(0,I.VV)(C.sourceLinks,f)-1:0}function i(C){return function(){return C}}function s(C,k){return o(C.source,k.source)||C.index-k.index}function a(C,k){return o(C.target,k.target)||C.index-k.index}function o(C,k){return C.y0-k.y0}function l(C){return C.value}function c(C){return(C.y0+C.y1)/2}function h(C){return c(C.source)*C.value}function v(C){return c(C.target)*C.value}function p(C){return C.index}function T(C){return C.nodes}function _(C){return C.links}function g(C,k){var P=C.get(k);if(!P)throw new Error("missing: "+k);return P}function w(){var C=0,k=0,P=1,R=1,L=24,N=8,B=p,J=y,z=T,Y=_,q=32;function U(){var X={nodes:z.apply(null,arguments),links:Y.apply(null,arguments)};return function(se){se.nodes.forEach(function(ee,K){ee.index=K,ee.sourceLinks=[],ee.targetLinks=[]});var re=(0,E.UI)(se.nodes,B);se.links.forEach(function(ee,K){ee.index=K;var ne=ee.source,ae=ee.target;"object"!=typeof ne&&(ne=ee.source=g(re,ne)),"object"!=typeof ae&&(ae=ee.target=g(re,ae)),ne.sourceLinks.push(ee),ae.targetLinks.push(ee)})}(X),X.nodes.forEach(function(re){re.value=Math.max((0,I.Sm)(re.sourceLinks,l),(0,I.Sm)(re.targetLinks,l))}),function(se){var re,ee,K;for(re=se.nodes,ee=[],K=0;re.length;++K,re=ee,ee=[])re.forEach(function(ae){ae.depth=K,ae.sourceLinks.forEach(function(ue){ee.indexOf(ue.target)<0&&ee.push(ue.target)})});for(re=se.nodes,ee=[],K=0;re.length;++K,re=ee,ee=[])re.forEach(function(ae){ae.height=K,ae.targetLinks.forEach(function(ue){ee.indexOf(ue.source)<0&&ee.push(ue.source)})});var ne=(P-C-L)/(K-1);se.nodes.forEach(function(ae){ae.x1=(ae.x0=C+Math.max(0,Math.min(K-1,Math.floor(J.call(null,ae,K))))*ne)+L})}(X),function(se){var re=(0,E.b1)().key(function(he){return he.x0}).sortKeys(I.j2).entries(se.nodes).map(function(he){return he.values});(function(){var he=(0,I.Fp)(re,function(xe){return xe.length}),pe=.6666666666666666*(R-k)/(he-1);N>pe&&(N=pe);var ge=(0,I.VV)(re,function(xe){return(R-k-(xe.length-1)*N)/(0,I.Sm)(xe,l)});re.forEach(function(xe){xe.forEach(function(Se,Te){Se.y1=(Se.y0=Te)+Se.value*ge})}),se.links.forEach(function(xe){xe.width=xe.value*ge})})(),ue();for(var ee=1,K=q;K>0;--K)ae(ee*=.99),ue(),ne(ee),ue();function ne(he){re.forEach(function(pe){pe.forEach(function(ge){if(ge.targetLinks.length){var xe=((0,I.Sm)(ge.targetLinks,h)/(0,I.Sm)(ge.targetLinks,l)-c(ge))*he;ge.y0+=xe,ge.y1+=xe}})})}function ae(he){re.slice().reverse().forEach(function(pe){pe.forEach(function(ge){if(ge.sourceLinks.length){var xe=((0,I.Sm)(ge.sourceLinks,v)/(0,I.Sm)(ge.sourceLinks,l)-c(ge))*he;ge.y0+=xe,ge.y1+=xe}})})}function ue(){re.forEach(function(he){var pe,ge,xe,Se=k,Te=he.length;for(he.sort(o),xe=0;xe<Te;++xe)(ge=Se-(pe=he[xe]).y0)>0&&(pe.y0+=ge,pe.y1+=ge),Se=pe.y1+N;if((ge=Se-N-R)>0)for(Se=pe.y0-=ge,pe.y1-=ge,xe=Te-2;xe>=0;--xe)(ge=(pe=he[xe]).y1+N-Se)>0&&(pe.y0-=ge,pe.y1-=ge),Se=pe.y0})}}(X),Z(X),X}function Z(X){X.nodes.forEach(function(se){se.sourceLinks.sort(a),se.targetLinks.sort(s)}),X.nodes.forEach(function(se){var re=se.y0,ee=re;se.sourceLinks.forEach(function(K){K.y0=re+K.width/2,re+=K.width}),se.targetLinks.forEach(function(K){K.y1=ee+K.width/2,ee+=K.width})})}return U.update=function(X){return Z(X),X},U.nodeId=function(X){return arguments.length?(B="function"==typeof X?X:i(X),U):B},U.nodeAlign=function(X){return arguments.length?(J="function"==typeof X?X:i(X),U):J},U.nodeWidth=function(X){return arguments.length?(L=+X,U):L},U.nodePadding=function(X){return arguments.length?(N=+X,U):N},U.nodes=function(X){return arguments.length?(z="function"==typeof X?X:i(X),U):z},U.links=function(X){return arguments.length?(Y="function"==typeof X?X:i(X),U):Y},U.size=function(X){return arguments.length?(C=k=0,P=+X[0],R=+X[1],U):[P-C,R-k]},U.extent=function(X){return arguments.length?(C=+X[0][0],P=+X[1][0],k=+X[0][1],R=+X[1][1],U):[[C,k],[P,R]]},U.iterations=function(X){return arguments.length?(q=+X,U):q},U}var x=r(45879);function b(C){return[C.source.x1,C.y0]}function A(C){return[C.target.x0,C.y1]}function m(){return(0,x.h5)().source(b).target(A)}},39898:function(oe,j,r){var I,E;(function(){var f={version:"3.8.0"},S=[].slice,M=function(H){return S.call(H)},y=self.document;function u(H){return H&&(H.ownerDocument||H.document||H).documentElement}function i(H){return H&&(H.ownerDocument&&H.ownerDocument.defaultView||H.document&&H||H.defaultView)}if(y)try{M(y.documentElement.childNodes)}catch{M=function(ie){for(var fe=ie.length,Me=new Array(fe);fe--;)Me[fe]=ie[fe];return Me}}if(Date.now||(Date.now=function(){return+new Date}),y)try{y.createElement("DIV").style.setProperty("opacity",0,"")}catch{var s=this.Element.prototype,a=s.setAttribute,o=s.setAttributeNS,l=this.CSSStyleDeclaration.prototype,c=l.setProperty;s.setAttribute=function(ie,fe){a.call(this,ie,fe+"")},s.setAttributeNS=function(ie,fe,Me){o.call(this,ie,fe,Me+"")},l.setProperty=function(ie,fe,Me){c.call(this,ie,fe+"",Me)}}function h(H,ie){return H<ie?-1:H>ie?1:H>=ie?0:NaN}function v(H){return null===H?NaN:+H}function p(H){return!isNaN(H)}function T(H){return{left:function(ie,fe,Me,Ce){for(arguments.length<3&&(Me=0),arguments.length<4&&(Ce=ie.length);Me<Ce;){var Fe=Me+Ce>>>1;H(ie[Fe],fe)<0?Me=Fe+1:Ce=Fe}return Me},right:function(ie,fe,Me,Ce){for(arguments.length<3&&(Me=0),arguments.length<4&&(Ce=ie.length);Me<Ce;){var Fe=Me+Ce>>>1;H(ie[Fe],fe)>0?Ce=Fe:Me=Fe+1}return Me}}}f.ascending=h,f.descending=function(H,ie){return ie<H?-1:ie>H?1:ie>=H?0:NaN},f.min=function(H,ie){var fe,Me,Ce=-1,Fe=H.length;if(1===arguments.length){for(;++Ce<Fe;)if(null!=(Me=H[Ce])&&Me>=Me){fe=Me;break}for(;++Ce<Fe;)null!=(Me=H[Ce])&&fe>Me&&(fe=Me)}else{for(;++Ce<Fe;)if(null!=(Me=ie.call(H,H[Ce],Ce))&&Me>=Me){fe=Me;break}for(;++Ce<Fe;)null!=(Me=ie.call(H,H[Ce],Ce))&&fe>Me&&(fe=Me)}return fe},f.max=function(H,ie){var fe,Me,Ce=-1,Fe=H.length;if(1===arguments.length){for(;++Ce<Fe;)if(null!=(Me=H[Ce])&&Me>=Me){fe=Me;break}for(;++Ce<Fe;)null!=(Me=H[Ce])&&Me>fe&&(fe=Me)}else{for(;++Ce<Fe;)if(null!=(Me=ie.call(H,H[Ce],Ce))&&Me>=Me){fe=Me;break}for(;++Ce<Fe;)null!=(Me=ie.call(H,H[Ce],Ce))&&Me>fe&&(fe=Me)}return fe},f.extent=function(H,ie){var fe,Me,Ce,Fe=-1,$e=H.length;if(1===arguments.length){for(;++Fe<$e;)if(null!=(Me=H[Fe])&&Me>=Me){fe=Ce=Me;break}for(;++Fe<$e;)null!=(Me=H[Fe])&&(fe>Me&&(fe=Me),Ce<Me&&(Ce=Me))}else{for(;++Fe<$e;)if(null!=(Me=ie.call(H,H[Fe],Fe))&&Me>=Me){fe=Ce=Me;break}for(;++Fe<$e;)null!=(Me=ie.call(H,H[Fe],Fe))&&(fe>Me&&(fe=Me),Ce<Me&&(Ce=Me))}return[fe,Ce]},f.sum=function(H,ie){var fe,Me=0,Ce=H.length,Fe=-1;if(1===arguments.length)for(;++Fe<Ce;)p(fe=+H[Fe])&&(Me+=fe);else for(;++Fe<Ce;)p(fe=+ie.call(H,H[Fe],Fe))&&(Me+=fe);return Me},f.mean=function(H,ie){var fe,Me=0,Ce=H.length,Fe=-1,$e=Ce;if(1===arguments.length)for(;++Fe<Ce;)p(fe=v(H[Fe]))?Me+=fe:--$e;else for(;++Fe<Ce;)p(fe=v(ie.call(H,H[Fe],Fe)))?Me+=fe:--$e;if($e)return Me/$e},f.quantile=function(H,ie){var fe=(H.length-1)*ie+1,Me=Math.floor(fe),Ce=+H[Me-1],Fe=fe-Me;return Fe?Ce+Fe*(H[Me]-Ce):Ce},f.median=function(H,ie){var fe,Me=[],Ce=H.length,Fe=-1;if(1===arguments.length)for(;++Fe<Ce;)p(fe=v(H[Fe]))&&Me.push(fe);else for(;++Fe<Ce;)p(fe=v(ie.call(H,H[Fe],Fe)))&&Me.push(fe);if(Me.length)return f.quantile(Me.sort(h),.5)},f.variance=function(H,ie){var fe,Me,Ce=H.length,Fe=0,$e=0,Xe=-1,Qe=0;if(1===arguments.length)for(;++Xe<Ce;)p(fe=v(H[Xe]))&&($e+=(Me=fe-Fe)*(fe-(Fe+=Me/++Qe)));else for(;++Xe<Ce;)p(fe=v(ie.call(H,H[Xe],Xe)))&&($e+=(Me=fe-Fe)*(fe-(Fe+=Me/++Qe)));if(Qe>1)return $e/(Qe-1)},f.deviation=function(){var H=f.variance.apply(this,arguments);return H&&Math.sqrt(H)};var _=T(h);function g(H){return H.length}f.bisectLeft=_.left,f.bisect=f.bisectRight=_.right,f.bisector=function(H){return T(1===H.length?function(ie,fe){return h(H(ie),fe)}:H)},f.shuffle=function(H,ie,fe){(Fe=arguments.length)<3&&(fe=H.length,Fe<2&&(ie=0));for(var Me,Ce,Fe=fe-ie;Fe;)Ce=Math.random()*Fe--|0,Me=H[Fe+ie],H[Fe+ie]=H[Ce+ie],H[Ce+ie]=Me;return H},f.permute=function(H,ie){for(var fe=ie.length,Me=new Array(fe);fe--;)Me[fe]=H[ie[fe]];return Me},f.pairs=function(H){for(var ie=0,fe=H.length-1,Me=H[0],Ce=new Array(fe<0?0:fe);ie<fe;)Ce[ie]=[Me,Me=H[++ie]];return Ce},f.transpose=function(H){if(!(Ce=H.length))return[];for(var ie=-1,fe=f.min(H,g),Me=new Array(fe);++ie<fe;)for(var Ce,Fe=-1,$e=Me[ie]=new Array(Ce);++Fe<Ce;)$e[Fe]=H[Fe][ie];return Me},f.zip=function(){return f.transpose(arguments)},f.keys=function(H){var ie=[];for(var fe in H)ie.push(fe);return ie},f.values=function(H){var ie=[];for(var fe in H)ie.push(H[fe]);return ie},f.entries=function(H){var ie=[];for(var fe in H)ie.push({key:fe,value:H[fe]});return ie},f.merge=function(H){for(var ie,fe,Me,Ce=H.length,Fe=-1,$e=0;++Fe<Ce;)$e+=H[Fe].length;for(fe=new Array($e);--Ce>=0;)for(ie=(Me=H[Ce]).length;--ie>=0;)fe[--$e]=Me[ie];return fe};var w=Math.abs;function x(H,ie){for(var fe in ie)Object.defineProperty(H.prototype,fe,{value:ie[fe],enumerable:!1})}function b(){this._=Object.create(null)}f.range=function(H,ie,fe){if(arguments.length<3&&(fe=1,arguments.length<2&&(ie=H,H=0)),(ie-H)/fe==1/0)throw new Error("infinite range");var Me,Ce=[],Fe=function(Xe){for(var Qe=1;Xe*Qe%1;)Qe*=10;return Qe}(w(fe)),$e=-1;if(H*=Fe,ie*=Fe,(fe*=Fe)<0)for(;(Me=H+fe*++$e)>ie;)Ce.push(Me/Fe);else for(;(Me=H+fe*++$e)<ie;)Ce.push(Me/Fe);return Ce},f.map=function(H,ie){var fe=new b;if(H instanceof b)H.forEach(function(Xe,Qe){fe.set(Xe,Qe)});else if(Array.isArray(H)){var Me,Ce=-1,Fe=H.length;if(1===arguments.length)for(;++Ce<Fe;)fe.set(Ce,H[Ce]);else for(;++Ce<Fe;)fe.set(ie.call(H,Me=H[Ce],Ce),Me)}else for(var $e in H)fe.set($e,H[$e]);return fe};var A="__proto__",m="\0";function C(H){return(H+="")===A||H[0]===m?m+H:H}function k(H){return(H+="")[0]===m?H.slice(1):H}function P(H){return C(H)in this._}function R(H){return(H=C(H))in this._&&delete this._[H]}function L(){var H=[];for(var ie in this._)H.push(k(ie));return H}function N(){var H=0;for(var ie in this._)++H;return H}function B(){for(var H in this._)return!1;return!0}function J(){this._=Object.create(null)}function z(H){return H}function Y(H,ie,fe){return function(){var Me=fe.apply(ie,arguments);return Me===ie?H:Me}}function q(H,ie){if(ie in H)return ie;ie=ie.charAt(0).toUpperCase()+ie.slice(1);for(var fe=0,Me=U.length;fe<Me;++fe){var Ce=U[fe]+ie;if(Ce in H)return Ce}}x(b,{has:P,get:function(H){return this._[C(H)]},set:function(H,ie){return this._[C(H)]=ie},remove:R,keys:L,values:function(){var H=[];for(var ie in this._)H.push(this._[ie]);return H},entries:function(){var H=[];for(var ie in this._)H.push({key:k(ie),value:this._[ie]});return H},size:N,empty:B,forEach:function(H){for(var ie in this._)H.call(this,k(ie),this._[ie])}}),f.nest=function(){var H,ie,fe={},Me=[],Ce=[];function Fe(Xe,Qe,nt){if(nt>=Me.length)return ie?ie.call(fe,Qe):H?Qe.sort(H):Qe;for(var lt,_t,At,jt,Ht=-1,zt=Qe.length,Xt=Me[nt++],Vt=new b;++Ht<zt;)(jt=Vt.get(lt=Xt(_t=Qe[Ht])))?jt.push(_t):Vt.set(lt,[_t]);return Xe?(_t=Xe(),At=function(mn,sn){_t.set(mn,Fe(Xe,sn,nt))}):(_t={},At=function(mn,sn){_t[mn]=Fe(Xe,sn,nt)}),Vt.forEach(At),_t}function $e(Xe,Qe){if(Qe>=Me.length)return Xe;var nt=[],lt=Ce[Qe++];return Xe.forEach(function(_t,At){nt.push({key:_t,values:$e(At,Qe)})}),lt?nt.sort(function(_t,At){return lt(_t.key,At.key)}):nt}return fe.map=function(Xe,Qe){return Fe(Qe,Xe,0)},fe.entries=function(Xe){return $e(Fe(f.map,Xe,0),0)},fe.key=function(Xe){return Me.push(Xe),fe},fe.sortKeys=function(Xe){return Ce[Me.length-1]=Xe,fe},fe.sortValues=function(Xe){return H=Xe,fe},fe.rollup=function(Xe){return ie=Xe,fe},fe},f.set=function(H){var ie=new J;if(H)for(var fe=0,Me=H.length;fe<Me;++fe)ie.add(H[fe]);return ie},x(J,{has:P,add:function(H){return this._[C(H+="")]=!0,H},remove:R,values:L,size:N,empty:B,forEach:function(H){for(var ie in this._)H.call(this,k(ie))}}),f.behavior={},f.rebind=function(H,ie){for(var fe,Me=1,Ce=arguments.length;++Me<Ce;)H[fe=arguments[Me]]=Y(H,ie,ie[fe]);return H};var U=["webkit","ms","moz","Moz","o","O"];function Z(){}function X(){}function se(H){var ie=[],fe=new b;function Me(){for(var Ce,Fe=ie,$e=-1,Xe=Fe.length;++$e<Xe;)(Ce=Fe[$e].on)&&Ce.apply(this,arguments);return H}return Me.on=function(Ce,Fe){var $e,Xe=fe.get(Ce);return arguments.length<2?Xe&&Xe.on:(Xe&&(Xe.on=null,ie=ie.slice(0,$e=ie.indexOf(Xe)).concat(ie.slice($e+1)),fe.remove(Ce)),Fe&&ie.push(fe.set(Ce,{on:Fe})),H)},Me}function re(){f.event.preventDefault()}function ee(){for(var H,ie=f.event;H=ie.sourceEvent;)ie=H;return ie}function K(H){for(var ie=new X,fe=0,Me=arguments.length;++fe<Me;)ie[arguments[fe]]=se(ie);return ie.of=function(Ce,Fe){return function($e){try{var Xe=$e.sourceEvent=f.event;$e.target=H,f.event=$e,ie[$e.type].apply(Ce,Fe)}finally{f.event=Xe}}},ie}f.dispatch=function(){for(var H=new X,ie=-1,fe=arguments.length;++ie<fe;)H[arguments[ie]]=se(H);return H},X.prototype.on=function(H,ie){var fe=H.indexOf("."),Me="";if(fe>=0&&(Me=H.slice(fe+1),H=H.slice(0,fe)),H)return arguments.length<2?this[H].on(Me):this[H].on(Me,ie);if(2===arguments.length){if(null==ie)for(H in this)this.hasOwnProperty(H)&&this[H].on(Me,null);return this}},f.event=null,f.requote=function(H){return H.replace(ne,"\\$&")};var ne=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,ae={}.__proto__?function(H,ie){H.__proto__=ie}:function(H,ie){for(var fe in ie)H[fe]=ie[fe]};function ue(H){return ae(H,xe),H}var he=function(H,ie){return ie.querySelector(H)},pe=function(H,ie){return ie.querySelectorAll(H)},ge=function(H,ie){var fe=H.matches||H[q(H,"matchesSelector")];return(ge=function(Me,Ce){return fe.call(Me,Ce)})(H,ie)};"function"==typeof Sizzle&&(he=function(H,ie){return Sizzle(H,ie)[0]||null},pe=Sizzle,ge=Sizzle.matchesSelector),f.selection=function(){return f.select(y.documentElement)};var xe=f.selection.prototype=[];function Se(H){return"function"==typeof H?H:function(){return he(H,this)}}function Te(H){return"function"==typeof H?H:function(){return pe(H,this)}}xe.select=function(H){var ie,fe,Me,Ce,Fe=[];H=Se(H);for(var $e=-1,Xe=this.length;++$e<Xe;){Fe.push(ie=[]),ie.parentNode=(Me=this[$e]).parentNode;for(var Qe=-1,nt=Me.length;++Qe<nt;)(Ce=Me[Qe])?(ie.push(fe=H.call(Ce,Ce.__data__,Qe,$e)),fe&&"__data__"in Ce&&(fe.__data__=Ce.__data__)):ie.push(null)}return ue(Fe)},xe.selectAll=function(H){var ie,fe,Me=[];H=Te(H);for(var Ce=-1,Fe=this.length;++Ce<Fe;)for(var $e=this[Ce],Xe=-1,Qe=$e.length;++Xe<Qe;)(fe=$e[Xe])&&(Me.push(ie=M(H.call(fe,fe.__data__,Xe,Ce))),ie.parentNode=fe);return ue(Me)};var ye="http://www.w3.org/1999/xhtml",we={svg:"http://www.w3.org/2000/svg",xhtml:ye,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ze(H,ie){return H=f.ns.qualify(H),null==ie?H.local?function(){this.removeAttributeNS(H.space,H.local)}:function(){this.removeAttribute(H)}:"function"==typeof ie?H.local?function(){var fe=ie.apply(this,arguments);null==fe?this.removeAttributeNS(H.space,H.local):this.setAttributeNS(H.space,H.local,fe)}:function(){var fe=ie.apply(this,arguments);null==fe?this.removeAttribute(H):this.setAttribute(H,fe)}:H.local?function(){this.setAttributeNS(H.space,H.local,ie)}:function(){this.setAttribute(H,ie)}}function ke(H){return H.trim().replace(/\s+/g," ")}function Ee(H){return new RegExp("(?:^|\\s+)"+f.requote(H)+"(?:\\s+|$)","g")}function me(H){return(H+"").trim().split(/^|\s+/)}function de(H,ie){var fe=(H=me(H).map(ce)).length;return"function"==typeof ie?function(){for(var Me=-1,Ce=ie.apply(this,arguments);++Me<fe;)H[Me](this,Ce)}:function(){for(var Me=-1;++Me<fe;)H[Me](this,ie)}}function ce(H){var ie=Ee(H);return function(fe,Me){if(Ce=fe.classList)return Me?Ce.add(H):Ce.remove(H);var Ce=fe.getAttribute("class")||"";Me?(ie.lastIndex=0,ie.test(Ce)||fe.setAttribute("class",ke(Ce+" "+H))):fe.setAttribute("class",ke(Ce.replace(ie," ")))}}function Ae(H,ie,fe){return null==ie?function(){this.style.removeProperty(H)}:"function"==typeof ie?function(){var Me=ie.apply(this,arguments);null==Me?this.style.removeProperty(H):this.style.setProperty(H,Me,fe)}:function(){this.style.setProperty(H,ie,fe)}}function Ne(H,ie){return null==ie?function(){delete this[H]}:"function"==typeof ie?function(){var fe=ie.apply(this,arguments);null==fe?delete this[H]:this[H]=fe}:function(){this[H]=ie}}function De(H){return"function"==typeof H?H:(H=f.ns.qualify(H)).local?function(){return this.ownerDocument.createElementNS(H.space,H.local)}:function(){var ie=this.ownerDocument,fe=this.namespaceURI;return fe===ye&&ie.documentElement.namespaceURI===ye?ie.createElement(H):ie.createElementNS(fe,H)}}function Ue(){var H=this.parentNode;H&&H.removeChild(this)}function Ye(H){return{__data__:H}}function _e(H){return function(){return ge(this,H)}}function Pe(H){return arguments.length||(H=h),function(ie,fe){return ie&&fe?H(ie.__data__,fe.__data__):!ie-!fe}}function Ie(H,ie){for(var fe=0,Me=H.length;fe<Me;fe++)for(var Ce,Fe=H[fe],$e=0,Xe=Fe.length;$e<Xe;$e++)(Ce=Fe[$e])&&ie(Ce,$e,fe);return H}function Be(H){return ae(H,We),H}f.ns={prefix:we,qualify:function(H){var ie=H.indexOf(":"),fe=H;return ie>=0&&"xmlns"!==(fe=H.slice(0,ie))&&(H=H.slice(ie+1)),we.hasOwnProperty(fe)?{space:we[fe],local:H}:H}},xe.attr=function(H,ie){if(arguments.length<2){if("string"==typeof H){var fe=this.node();return(H=f.ns.qualify(H)).local?fe.getAttributeNS(H.space,H.local):fe.getAttribute(H)}for(ie in H)this.each(ze(ie,H[ie]));return this}return this.each(ze(H,ie))},xe.classed=function(H,ie){if(arguments.length<2){if("string"==typeof H){var fe=this.node(),Me=(H=me(H)).length,Ce=-1;if(ie=fe.classList){for(;++Ce<Me;)if(!ie.contains(H[Ce]))return!1}else for(ie=fe.getAttribute("class");++Ce<Me;)if(!Ee(H[Ce]).test(ie))return!1;return!0}for(ie in H)this.each(de(ie,H[ie]));return this}return this.each(de(H,ie))},xe.style=function(H,ie,fe){var Me=arguments.length;if(Me<3){if("string"!=typeof H){for(fe in Me<2&&(ie=""),H)this.each(Ae(fe,H[fe],ie));return this}if(Me<2){var Ce=this.node();return i(Ce).getComputedStyle(Ce,null).getPropertyValue(H)}fe=""}return this.each(Ae(H,ie,fe))},xe.property=function(H,ie){if(arguments.length<2){if("string"==typeof H)return this.node()[H];for(ie in H)this.each(Ne(ie,H[ie]));return this}return this.each(Ne(H,ie))},xe.text=function(H){return arguments.length?this.each("function"==typeof H?function(){var ie=H.apply(this,arguments);this.textContent=ie??""}:null==H?function(){this.textContent=""}:function(){this.textContent=H}):this.node().textContent},xe.html=function(H){return arguments.length?this.each("function"==typeof H?function(){var ie=H.apply(this,arguments);this.innerHTML=ie??""}:null==H?function(){this.innerHTML=""}:function(){this.innerHTML=H}):this.node().innerHTML},xe.append=function(H){return H=De(H),this.select(function(){return this.appendChild(H.apply(this,arguments))})},xe.insert=function(H,ie){return H=De(H),ie=Se(ie),this.select(function(){return this.insertBefore(H.apply(this,arguments),ie.apply(this,arguments)||null)})},xe.remove=function(){return this.each(Ue)},xe.data=function(H,ie){var fe,Me,Ce=-1,Fe=this.length;if(!arguments.length){for(H=new Array(Fe=(fe=this[0]).length);++Ce<Fe;)(Me=fe[Ce])&&(H[Ce]=Me.__data__);return H}function $e(lt,_t){var At,jt,Ht,zt=lt.length,Xt=_t.length,Vt=Math.min(zt,Xt),mn=new Array(Xt),sn=new Array(Xt),tn=new Array(zt);if(ie){var On,In=new b,rr=new Array(zt);for(At=-1;++At<zt;)(jt=lt[At])&&(In.has(On=ie.call(jt,jt.__data__,At))?tn[At]=jt:In.set(On,jt),rr[At]=On);for(At=-1;++At<Xt;)(jt=In.get(On=ie.call(_t,Ht=_t[At],At)))?!0!==jt&&(mn[At]=jt,jt.__data__=Ht):sn[At]=Ye(Ht),In.set(On,!0);for(At=-1;++At<zt;)At in rr&&!0!==In.get(rr[At])&&(tn[At]=lt[At])}else{for(At=-1;++At<Vt;)Ht=_t[At],(jt=lt[At])?(jt.__data__=Ht,mn[At]=jt):sn[At]=Ye(Ht);for(;At<Xt;++At)sn[At]=Ye(_t[At]);for(;At<zt;++At)tn[At]=lt[At]}sn.update=mn,sn.parentNode=mn.parentNode=tn.parentNode=lt.parentNode,Xe.push(sn),Qe.push(mn),nt.push(tn)}var Xe=Be([]),Qe=ue([]),nt=ue([]);if("function"==typeof H)for(;++Ce<Fe;)$e(fe=this[Ce],H.call(fe,fe.parentNode.__data__,Ce));else for(;++Ce<Fe;)$e(fe=this[Ce],H);return Qe.enter=function(){return Xe},Qe.exit=function(){return nt},Qe},xe.datum=function(H){return arguments.length?this.property("__data__",H):this.property("__data__")},xe.filter=function(H){var ie,fe,Me,Ce=[];"function"!=typeof H&&(H=_e(H));for(var Fe=0,$e=this.length;Fe<$e;Fe++){Ce.push(ie=[]),ie.parentNode=(fe=this[Fe]).parentNode;for(var Xe=0,Qe=fe.length;Xe<Qe;Xe++)(Me=fe[Xe])&&H.call(Me,Me.__data__,Xe,Fe)&&ie.push(Me)}return ue(Ce)},xe.order=function(){for(var H=-1,ie=this.length;++H<ie;)for(var fe,Me=this[H],Ce=Me.length-1,Fe=Me[Ce];--Ce>=0;)(fe=Me[Ce])&&(Fe&&Fe!==fe.nextSibling&&Fe.parentNode.insertBefore(fe,Fe),Fe=fe);return this},xe.sort=function(H){H=Pe.apply(this,arguments);for(var ie=-1,fe=this.length;++ie<fe;)this[ie].sort(H);return this.order()},xe.each=function(H){return Ie(this,function(ie,fe,Me){H.call(ie,ie.__data__,fe,Me)})},xe.call=function(H){var ie=M(arguments);return H.apply(ie[0]=this,ie),this},xe.empty=function(){return!this.node()},xe.node=function(){for(var H=0,ie=this.length;H<ie;H++)for(var fe=this[H],Me=0,Ce=fe.length;Me<Ce;Me++){var Fe=fe[Me];if(Fe)return Fe}return null},xe.size=function(){var H=0;return Ie(this,function(){++H}),H};var We=[];function Ge(H,ie,fe){var Me="__on"+H,Ce=H.indexOf("."),Fe=tt;Ce>0&&(H=H.slice(0,Ce));var $e=Ke.get(H);function Xe(){var Qe=this[Me];Qe&&(this.removeEventListener(H,Qe,Qe.$),delete this[Me])}return $e&&(H=$e,Fe=st),Ce?ie?function(){var Qe=Fe(ie,M(arguments));Xe.call(this),this.addEventListener(H,this[Me]=Qe,Qe.$=fe),Qe._=ie}:Xe:ie?Z:function(){var Qe,nt=new RegExp("^__on([^.]+)"+f.requote(H)+"$");for(var lt in this)if(Qe=lt.match(nt)){var _t=this[lt];this.removeEventListener(Qe[1],_t,_t.$),delete this[lt]}}}f.selection.enter=Be,f.selection.enter.prototype=We,We.append=xe.append,We.empty=xe.empty,We.node=xe.node,We.call=xe.call,We.size=xe.size,We.select=function(H){for(var ie,fe,Me,Ce,Fe,$e=[],Xe=-1,Qe=this.length;++Xe<Qe;){Me=(Ce=this[Xe]).update,$e.push(ie=[]),ie.parentNode=Ce.parentNode;for(var nt=-1,lt=Ce.length;++nt<lt;)(Fe=Ce[nt])?(ie.push(Me[nt]=fe=H.call(Ce.parentNode,Fe.__data__,nt,Xe)),fe.__data__=Fe.__data__):ie.push(null)}return ue($e)},We.insert=function(H,ie){var fe,Me,Ce;return arguments.length<2&&(fe=this,ie=function(Fe,$e,Xe){var Qe,nt=fe[Xe].update,lt=nt.length;for(Xe!=Ce&&(Ce=Xe,Me=0),$e>=Me&&(Me=$e+1);!(Qe=nt[Me])&&++Me<lt;);return Qe}),xe.insert.call(this,H,ie)},f.select=function(H){var ie;return"string"==typeof H?(ie=[he(H,y)]).parentNode=y.documentElement:(ie=[H]).parentNode=u(H),ue([ie])},f.selectAll=function(H){var ie;return"string"==typeof H?(ie=M(pe(H,y))).parentNode=y.documentElement:(ie=M(H)).parentNode=null,ue([ie])},xe.on=function(H,ie,fe){var Me=arguments.length;if(Me<3){if("string"!=typeof H){for(fe in Me<2&&(ie=!1),H)this.each(Ge(fe,H[fe],ie));return this}if(Me<2)return(Me=this.node()["__on"+H])&&Me._;fe=!1}return this.each(Ge(H,ie,fe))};var Ke=f.map({mouseenter:"mouseover",mouseleave:"mouseout"});function tt(H,ie){return function(fe){var Me=f.event;f.event=fe,ie[0]=this.__data__;try{H.apply(this,ie)}finally{f.event=Me}}}function st(H,ie){var fe=tt(H,ie);return function(Me){var Fe=Me.relatedTarget;Fe&&(Fe===this||8&Fe.compareDocumentPosition(this))||fe.call(this,Me)}}y&&Ke.forEach(function(H){"on"+H in y&&Ke.remove(H)});var gt,ct=0;function kt(H){var ie=".dragsuppress-"+ ++ct,fe="click"+ie,Me=f.select(i(H)).on("touchmove"+ie,re).on("dragstart"+ie,re).on("selectstart"+ie,re);if(null==gt&&(gt=!("onselectstart"in H)&&q(H.style,"userSelect")),gt){var Ce=u(H).style,Fe=Ce[gt];Ce[gt]="none"}return function($e){if(Me.on(ie,null),gt&&(Ce[gt]=Fe),$e){var Xe=function(){Me.on(fe,null)};Me.on(fe,function(){re(),Xe()},!0),setTimeout(Xe,0)}}}f.mouse=function(H){return vt(H,ee())};var Dt=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function vt(H,ie){ie.changedTouches&&(ie=ie.changedTouches[0]);var fe=H.ownerSVGElement||H;if(fe.createSVGPoint){var Me=fe.createSVGPoint();if(Dt<0){var Ce=i(H);if(Ce.scrollX||Ce.scrollY){var Fe=(fe=f.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"))[0][0].getScreenCTM();Dt=!(Fe.f||Fe.e),fe.remove()}}return Dt?(Me.x=ie.pageX,Me.y=ie.pageY):(Me.x=ie.clientX,Me.y=ie.clientY),[(Me=Me.matrixTransform(H.getScreenCTM().inverse())).x,Me.y]}var $e=H.getBoundingClientRect();return[ie.clientX-$e.left-H.clientLeft,ie.clientY-$e.top-H.clientTop]}function mt(){return f.event.changedTouches[0].identifier}f.touch=function(H,ie,fe){if(arguments.length<3&&(fe=ie,ie=ee().changedTouches),ie)for(var Me,Ce=0,Fe=ie.length;Ce<Fe;++Ce)if((Me=ie[Ce]).identifier===fe)return vt(H,Me)},f.behavior.drag=function(){var H=K(Ce,"drag","dragstart","dragend"),ie=null,fe=Fe(Z,f.mouse,i,"mousemove","mouseup"),Me=Fe(mt,f.touch,z,"touchmove","touchend");function Ce(){this.on("mousedown.drag",fe).on("touchstart.drag",Me)}function Fe($e,Xe,Qe,nt,lt){return function(){var _t,jt=f.event.target.correspondingElement||f.event.target,Ht=this.parentNode,zt=H.of(this,arguments),Xt=0,Vt=$e(),mn=".drag"+(null==Vt?"":"-"+Vt),sn=f.select(Qe(jt)).on(nt+mn,function(){var In,rr,Xn=Xe(Ht,Vt);Xn&&(Xt|=(In=Xn[0]-On[0])|(rr=Xn[1]-On[1]),On=Xn,zt({type:"drag",x:Xn[0]+_t[0],y:Xn[1]+_t[1],dx:In,dy:rr}))}).on(lt+mn,function(){Xe(Ht,Vt)&&(sn.on(nt+mn,null).on(lt+mn,null),tn(Xt),zt({type:"dragend"}))}),tn=kt(jt),On=Xe(Ht,Vt);_t=ie?[(_t=ie.apply(this,arguments)).x-On[0],_t.y-On[1]]:[0,0],zt({type:"dragstart"})}}return Ce.origin=function($e){return arguments.length?(ie=$e,Ce):ie},f.rebind(Ce,H,"on")},f.touches=function(H,ie){return arguments.length<2&&(ie=ee().touches),ie?M(ie).map(function(fe){var Me=vt(H,fe);return Me.identifier=fe.identifier,Me}):[]};var Et=1e-6,Lt=Et*Et,Rt=Math.PI,Ut=2*Rt,Bt=Ut-Et,rt=Rt/2,ot=Rt/180,Je=180/Rt;function it(H){return H>1?rt:H<-1?-rt:Math.asin(H)}function dt(H){return((H=Math.exp(H))+1/H)/2}var ht=Math.SQRT2;f.interpolateZoom=function(H,ie){var fe,Me,Ce=H[0],Fe=H[1],$e=H[2],nt=ie[2],lt=ie[0]-Ce,_t=ie[1]-Fe,At=lt*lt+_t*_t;if(At<Lt)Me=Math.log(nt/$e)/ht,fe=function(mn){return[Ce+mn*lt,Fe+mn*_t,$e*Math.exp(ht*mn*Me)]};else{var jt=Math.sqrt(At),Ht=(nt*nt-$e*$e+4*At)/(2*$e*2*jt),zt=(nt*nt-$e*$e-4*At)/(2*nt*2*jt),Xt=Math.log(Math.sqrt(Ht*Ht+1)-Ht),Vt=Math.log(Math.sqrt(zt*zt+1)-zt);Me=(Vt-Xt)/ht,fe=function(mn){var sn,rr,tn=mn*Me,On=dt(Xt),In=$e/(2*jt)*(On*(sn=ht*tn+Xt,((sn=Math.exp(2*sn))-1)/(sn+1))-(rr=Xt,((rr=Math.exp(rr))-1/rr)/2));return[Ce+In*lt,Fe+In*_t,$e*On/dt(ht*tn+Xt)]}}return fe.duration=1e3*Me,fe},f.behavior.zoom=function(){var H,ie,fe,Me,Ce,Fe,$e,Xe,Qe,nt={x:0,y:0,k:1},lt=[960,500],_t=ut,At=250,jt=0,Ht="mousedown.zoom",zt="mousemove.zoom",Xt="mouseup.zoom",Vt="touchstart.zoom",mn=K(sn,"zoomstart","zoom","zoomend");function sn(ar){ar.on(Ht,Er).on(qe+".zoom",Rr).on("dblclick.zoom",ai).on(Vt,Ir)}function tn(ar){return[(ar[0]-nt.x)/nt.k,(ar[1]-nt.y)/nt.k]}function On(ar){nt.k=Math.max(_t[0],Math.min(_t[1],ar))}function In(ar,Mr){var Or;nt.x+=ar[0]-(Mr=[(Or=Mr)[0]*nt.k+nt.x,Or[1]*nt.k+nt.y])[0],nt.y+=ar[1]-Mr[1]}function rr(ar,Mr,Or,qr){ar.__chart__={x:nt.x,y:nt.y,k:nt.k},On(Math.pow(2,qr)),In(ie=Mr,Or),ar=f.select(ar),At>0&&(ar=ar.transition().duration(At)),ar.call(sn.event)}function Xn(){$e&&$e.domain(Fe.range().map(function(ar){return(ar-nt.x)/nt.k}).map(Fe.invert)),Qe&&Qe.domain(Xe.range().map(function(ar){return(ar-nt.y)/nt.k}).map(Xe.invert))}function ur(ar){jt++||ar({type:"zoomstart"})}function yr(ar){Xn(),ar({type:"zoom",scale:nt.k,translate:[nt.x,nt.y]})}function wr(ar){--jt||(ar({type:"zoomend"}),ie=null)}function Er(){var ar=this,Mr=mn.of(ar,arguments),Or=0,qr=f.select(i(ar)).on(zt,function(){Or=1,In(f.mouse(ar),ri),yr(Mr)}).on(Xt,function(){qr.on(zt,null).on(Xt,null),gi(Or),wr(Mr)}),ri=tn(f.mouse(ar)),gi=kt(ar);Ea.call(ar),ur(Mr)}function Ir(){var ar,Mr=this,Or=mn.of(Mr,arguments),qr={},ri=0,gi=".zoom-"+f.event.changedTouches[0].identifier,Ti="touchmove"+gi,Yi="touchend"+gi,vo=[],ho=f.select(Mr),Zi=kt(Mr);function Do(){var Xi=f.touches(Mr);return ar=nt.k,Xi.forEach(function(Ci){Ci.identifier in qr&&(qr[Ci.identifier]=tn(Ci))}),Xi}function ma(){var Xi=f.event.target;f.select(Xi).on(Ti,Kr).on(Yi,ta),vo.push(Xi);for(var Ci=f.event.changedTouches,yo=0,lo=Ci.length;yo<lo;++yo)qr[Ci[yo].identifier]=null;var _o=Do(),fa=Date.now();if(1===_o.length){if(fa-Ce<500){var Oo=_o[0];rr(Mr,Oo,qr[Oo.identifier],Math.floor(Math.log(nt.k)/Math.LN2)+1),re()}Ce=fa}else if(_o.length>1){var eo=_o[1],Wl=(Oo=_o[0])[0]-eo[0],rs=Oo[1]-eo[1];ri=Wl*Wl+rs*rs}}function Kr(){var Xi,Ci,yo,lo,_o=f.touches(Mr);Ea.call(Mr);for(var fa=0,Oo=_o.length;fa<Oo;++fa,lo=null)if(lo=qr[(yo=_o[fa]).identifier]){if(Ci)break;Xi=yo,Ci=lo}if(lo){var eo=(eo=yo[0]-Xi[0])*eo+(eo=yo[1]-Xi[1])*eo,Wl=ri&&Math.sqrt(eo/ri);Xi=[(Xi[0]+yo[0])/2,(Xi[1]+yo[1])/2],Ci=[(Ci[0]+lo[0])/2,(Ci[1]+lo[1])/2],On(Wl*ar)}Ce=null,In(Xi,Ci),yr(Or)}function ta(){if(f.event.touches.length){for(var Xi=f.event.changedTouches,Ci=0,yo=Xi.length;Ci<yo;++Ci)delete qr[Xi[Ci].identifier];for(var lo in qr)return void Do()}f.selectAll(vo).on(gi,null),ho.on(Ht,Er).on(Vt,Ir),Zi(),wr(Or)}ma(),ur(Or),ho.on(Ht,null).on(Vt,ma)}function Rr(){var ar=mn.of(this,arguments);Me?clearTimeout(Me):(Ea.call(this),H=tn(ie=fe||f.mouse(this)),ur(ar)),Me=setTimeout(function(){Me=null,wr(ar)},50),re(),On(Math.pow(2,.002*Ve())*nt.k),In(ie,H),yr(ar)}function ai(){var ar=f.mouse(this),Mr=Math.log(nt.k)/Math.LN2;rr(this,ar,tn(ar),f.event.shiftKey?Math.ceil(Mr)-1:Math.floor(Mr)+1)}return qe||(qe="onwheel"in y?(Ve=function(){return-f.event.deltaY*(f.event.deltaMode?120:1)},"wheel"):"onmousewheel"in y?(Ve=function(){return f.event.wheelDelta},"mousewheel"):(Ve=function(){return-f.event.detail},"MozMousePixelScroll")),sn.event=function(ar){ar.each(function(){var Mr=mn.of(this,arguments),Or=nt;ts?f.select(this).transition().each("start.zoom",function(){nt=this.__chart__||{x:0,y:0,k:1},ur(Mr)}).tween("zoom:zoom",function(){var qr=lt[0],gi=ie?ie[0]:qr/2,Ti=ie?ie[1]:lt[1]/2,Yi=f.interpolateZoom([(gi-nt.x)/nt.k,(Ti-nt.y)/nt.k,qr/nt.k],[(gi-Or.x)/Or.k,(Ti-Or.y)/Or.k,qr/Or.k]);return function(vo){var ho=Yi(vo),Zi=qr/ho[2];this.__chart__=nt={x:gi-ho[0]*Zi,y:Ti-ho[1]*Zi,k:Zi},yr(Mr)}}).each("interrupt.zoom",function(){wr(Mr)}).each("end.zoom",function(){wr(Mr)}):(this.__chart__=nt,ur(Mr),yr(Mr),wr(Mr))})},sn.translate=function(ar){return arguments.length?(nt={x:+ar[0],y:+ar[1],k:nt.k},Xn(),sn):[nt.x,nt.y]},sn.scale=function(ar){return arguments.length?(nt={x:nt.x,y:nt.y,k:null},On(+ar),Xn(),sn):nt.k},sn.scaleExtent=function(ar){return arguments.length?(_t=null==ar?ut:[+ar[0],+ar[1]],sn):_t},sn.center=function(ar){return arguments.length?(fe=ar&&[+ar[0],+ar[1]],sn):fe},sn.size=function(ar){return arguments.length?(lt=ar&&[+ar[0],+ar[1]],sn):lt},sn.duration=function(ar){return arguments.length?(At=+ar,sn):At},sn.x=function(ar){return arguments.length?($e=ar,Fe=ar.copy(),nt={x:0,y:0,k:1},sn):$e},sn.y=function(ar){return arguments.length?(Qe=ar,Xe=ar.copy(),nt={x:0,y:0,k:1},sn):Qe},f.rebind(sn,mn,"on")};var Ve,qe,ut=[0,1/0];function ft(){}function St(H,ie,fe){return this instanceof St?(this.h=+H,this.s=+ie,void(this.l=+fe)):arguments.length<2?H instanceof St?new St(H.h,H.s,H.l):yn(""+H,Cn,St):new St(H,ie,fe)}f.color=ft,ft.prototype.toString=function(){return this.rgb()+""},f.hsl=St;var Mt=St.prototype=new ft;function Tt(H,ie,fe){var Me,Ce;function Fe($e){return Math.round(255*((Xe=$e)>360?Xe-=360:Xe<0&&(Xe+=360),Xe<60?Me+(Ce-Me)*Xe/60:Xe<180?Ce:Xe<240?Me+(Ce-Me)*(240-Xe)/60:Me));var Xe}return H=isNaN(H)?0:(H%=360)<0?H+360:H,ie=isNaN(ie)||ie<0?0:ie>1?1:ie,Me=2*(fe=fe<0?0:fe>1?1:fe)-(Ce=fe<=.5?fe*(1+ie):fe+ie-fe*ie),new Pn(Fe(H+120),Fe(H),Fe(H-120))}function xt(H,ie,fe){return this instanceof xt?(this.h=+H,this.c=+ie,void(this.l=+fe)):arguments.length<2?H instanceof xt?new xt(H.h,H.c,H.l):(Me=H instanceof wt?H.l:(H=_n((H=f.rgb(H)).r,H.g,H.b)).l,Ce=H.a,Fe=H.b,Me>0?new xt(Math.atan2(Fe,Ce)*Je,Math.sqrt(Ce*Ce+Fe*Fe),Me):new xt(NaN,NaN,Me)):new xt(H,ie,fe);var Me,Ce,Fe}Mt.brighter=function(H){return H=Math.pow(.7,arguments.length?H:1),new St(this.h,this.s,this.l/H)},Mt.darker=function(H){return H=Math.pow(.7,arguments.length?H:1),new St(this.h,this.s,H*this.l)},Mt.rgb=function(){return Tt(this.h,this.s,this.l)},f.hcl=xt;var Nt=xt.prototype=new ft;function bt(H,ie,fe){return isNaN(H)&&(H=0),isNaN(ie)&&(ie=0),new wt(fe,Math.cos(H*=ot)*ie,Math.sin(H)*ie)}function wt(H,ie,fe){return this instanceof wt?(this.l=+H,this.a=+ie,void(this.b=+fe)):arguments.length<2?H instanceof wt?new wt(H.l,H.a,H.b):H instanceof xt?bt(H.h,H.c,H.l):_n((H=Pn(H)).r,H.g,H.b):new wt(H,ie,fe)}Nt.brighter=function(H){return new xt(this.h,this.c,Math.min(100,this.l+It*(arguments.length?H:1)))},Nt.darker=function(H){return new xt(this.h,this.c,Math.max(0,this.l-It*(arguments.length?H:1)))},Nt.rgb=function(){return bt(this.h,this.c,this.l).rgb()},f.lab=wt;var It=18,Wt=.95047,Yt=1,Zt=1.08883,dn=wt.prototype=new ft;function nn(H,ie,fe){var Me=(H+16)/116,Ce=Me+ie/500,Fe=Me-fe/200;return new Pn(kn(3.2404542*(Ce=un(Ce)*Wt)-1.5371385*(Me=un(Me)*Yt)-.4985314*(Fe=un(Fe)*Zt)),kn(-.969266*Ce+1.8760108*Me+.041556*Fe),kn(.0556434*Ce-.2040259*Me+1.0572252*Fe))}function un(H){return H>.206893034?H*H*H:(H-.13793103448275862)/7.787037}function rn(H){return H>.008856?Math.pow(H,.3333333333333333):7.787037*H+.13793103448275862}function kn(H){return Math.round(255*(H<=.00304?12.92*H:1.055*Math.pow(H,.4166666666666667)-.055))}function Pn(H,ie,fe){return this instanceof Pn?(this.r=~~H,this.g=~~ie,void(this.b=~~fe)):arguments.length<2?H instanceof Pn?new Pn(H.r,H.g,H.b):yn(""+H,Pn,Tt):new Pn(H,ie,fe)}function Sn(H){return new Pn(H>>16,H>>8&255,255&H)}function en(H){return Sn(H)+""}dn.brighter=function(H){return new wt(Math.min(100,this.l+It*(arguments.length?H:1)),this.a,this.b)},dn.darker=function(H){return new wt(Math.max(0,this.l-It*(arguments.length?H:1)),this.a,this.b)},dn.rgb=function(){return nn(this.l,this.a,this.b)},f.rgb=Pn;var vn=Pn.prototype=new ft;function hn(H){return H<16?"0"+Math.max(0,H).toString(16):Math.min(255,H).toString(16)}function yn(H,ie,fe){var Me,Ce,Fe,$e=0,Xe=0,Qe=0;if(Me=/([a-z]+)\((.*)\)/.exec(H=H.toLowerCase()))switch(Ce=Me[2].split(","),Me[1]){case"hsl":return fe(parseFloat(Ce[0]),parseFloat(Ce[1])/100,parseFloat(Ce[2])/100);case"rgb":return ie(qn(Ce[0]),qn(Ce[1]),qn(Ce[2]))}return(Fe=Ln.get(H))?ie(Fe.r,Fe.g,Fe.b):(null==H||"#"!==H.charAt(0)||isNaN(Fe=parseInt(H.slice(1),16))||(4===H.length?($e=(3840&Fe)>>4,$e|=$e>>4,Xe=240&Fe,Xe|=Xe>>4,Qe=15&Fe,Qe|=Qe<<4):7===H.length&&($e=(16711680&Fe)>>16,Xe=(65280&Fe)>>8,Qe=255&Fe)),ie($e,Xe,Qe))}function Cn(H,ie,fe){var Me,Ce,Fe=Math.min(H/=255,ie/=255,fe/=255),$e=Math.max(H,ie,fe),Xe=$e-Fe,Qe=($e+Fe)/2;return Xe?(Ce=Qe<.5?Xe/($e+Fe):Xe/(2-$e-Fe),Me=H==$e?(ie-fe)/Xe+(ie<fe?6:0):ie==$e?(fe-H)/Xe+2:(H-ie)/Xe+4,Me*=60):(Me=NaN,Ce=Qe>0&&Qe<1?0:Me),new St(Me,Ce,Qe)}function _n(H,ie,fe){var Me=rn((.4124564*(H=Un(H))+.3575761*(ie=Un(ie))+.1804375*(fe=Un(fe)))/Wt),Ce=rn((.2126729*H+.7151522*ie+.072175*fe)/Yt);return wt(116*Ce-16,500*(Me-Ce),200*(Ce-rn((.0193339*H+.119192*ie+.9503041*fe)/Zt)))}function Un(H){return(H/=255)<=.04045?H/12.92:Math.pow((H+.055)/1.055,2.4)}function qn(H){var ie=parseFloat(H);return"%"===H.charAt(H.length-1)?Math.round(2.55*ie):ie}vn.brighter=function(H){H=Math.pow(.7,arguments.length?H:1);var ie=this.r,fe=this.g,Me=this.b;return ie||fe||Me?(ie&&ie<30&&(ie=30),fe&&fe<30&&(fe=30),Me&&Me<30&&(Me=30),new Pn(Math.min(255,ie/H),Math.min(255,fe/H),Math.min(255,Me/H))):new Pn(30,30,30)},vn.darker=function(H){return new Pn((H=Math.pow(.7,arguments.length?H:1))*this.r,H*this.g,H*this.b)},vn.hsl=function(){return Cn(this.r,this.g,this.b)},vn.toString=function(){return"#"+hn(this.r)+hn(this.g)+hn(this.b)};var Ln=f.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});function Yn(H){return"function"==typeof H?H:function(){return H}}function _r(H){return function(ie,fe,Me){return 2===arguments.length&&"function"==typeof fe&&(Me=fe,fe=null),dr(ie,fe,H,Me)}}function dr(H,ie,fe,Me){var lt,Ce={},Fe=f.dispatch("beforesend","progress","load","error"),$e={},Xe=new XMLHttpRequest,Qe=null;function nt(){var lt,At,jt,_t=Xe.status;if(!_t&&((jt=(At=Xe).responseType)&&"text"!==jt?At.response:At.responseText)||_t>=200&&_t<300||304===_t){try{lt=fe.call(Ce,Xe)}catch(At){return void Fe.error.call(Ce,At)}Fe.load.call(Ce,lt)}else Fe.error.call(Ce,Xe)}return self.XDomainRequest&&!("withCredentials"in Xe)&&/^(http(s)?:)?\/\//.test(H)&&(Xe=new XDomainRequest),"onload"in Xe?Xe.onload=Xe.onerror=nt:Xe.onreadystatechange=function(){Xe.readyState>3&&nt()},Xe.onprogress=function(lt){var _t=f.event;f.event=lt;try{Fe.progress.call(Ce,Xe)}finally{f.event=_t}},Ce.header=function(lt,_t){return lt=(lt+"").toLowerCase(),arguments.length<2?$e[lt]:(null==_t?delete $e[lt]:$e[lt]=_t+"",Ce)},Ce.mimeType=function(lt){return arguments.length?(ie=null==lt?null:lt+"",Ce):ie},Ce.responseType=function(lt){return arguments.length?(Qe=lt,Ce):Qe},Ce.response=function(lt){return fe=lt,Ce},["get","post"].forEach(function(lt){Ce[lt]=function(){return Ce.send.apply(Ce,[lt].concat(M(arguments)))}}),Ce.send=function(lt,_t,At){if(2===arguments.length&&"function"==typeof _t&&(At=_t,_t=null),Xe.open(lt,H,!0),null==ie||"accept"in $e||($e.accept=ie+",*/*"),Xe.setRequestHeader)for(var jt in $e)Xe.setRequestHeader(jt,$e[jt]);return null!=ie&&Xe.overrideMimeType&&Xe.overrideMimeType(ie),null!=Qe&&(Xe.responseType=Qe),null!=At&&Ce.on("error",At).on("load",function(Ht){At(null,Ht)}),Fe.beforesend.call(Ce,Xe),Xe.send(_t??null),Ce},Ce.abort=function(){return Xe.abort(),Ce},f.rebind(Ce,Fe,"on"),null==Me?Ce:Ce.get(1===(lt=Me).length?function(_t,At){lt(null==_t?At:null)}:lt)}Ln.forEach(function(H,ie){Ln.set(H,Sn(ie))}),f.functor=Yn,f.xhr=_r(z),f.dsv=function(H,ie){var fe=new RegExp('["'+H+"\n]"),Me=H.charCodeAt(0);function Ce(nt,lt,_t){arguments.length<3&&(_t=lt,lt=null);var At=dr(nt,ie,null==lt?Fe:$e(lt),_t);return At.row=function(jt){return arguments.length?At.response(null==(lt=jt)?Fe:$e(jt)):lt},At}function Fe(nt){return Ce.parse(nt.responseText)}function $e(nt){return function(lt){return Ce.parse(lt.responseText,nt)}}function Xe(nt){return nt.map(Qe).join(H)}function Qe(nt){return fe.test(nt)?'"'+nt.replace(/\"/g,'""')+'"':nt}return Ce.parse=function(nt,lt){var _t;return Ce.parseRows(nt,function(At,jt){if(_t)return _t(At,jt-1);var Ht=function(zt){for(var Xt={},Vt=At.length,mn=0;mn<Vt;++mn)Xt[At[mn]]=zt[mn];return Xt};_t=lt?function(zt,Xt){return lt(Ht(zt),Xt)}:Ht})},Ce.parseRows=function(nt,lt){var _t,At,jt={},Ht={},zt=[],Xt=nt.length,Vt=0,mn=0;function sn(){if(Vt>=Xt)return Ht;if(At)return At=!1,jt;var On=Vt;if(34===nt.charCodeAt(On)){for(var In=On;In++<Xt;)if(34===nt.charCodeAt(In)){if(34!==nt.charCodeAt(In+1))break;++In}return Vt=In+2,13===(rr=nt.charCodeAt(In+1))?(At=!0,10===nt.charCodeAt(In+2)&&++Vt):10===rr&&(At=!0),nt.slice(On+1,In).replace(/""/g,'"')}for(;Vt<Xt;){var rr,Xn=1;if(10===(rr=nt.charCodeAt(Vt++)))At=!0;else if(13===rr)At=!0,10===nt.charCodeAt(Vt)&&(++Vt,++Xn);else if(rr!==Me)continue;return nt.slice(On,Vt-Xn)}return nt.slice(On)}for(;(_t=sn())!==Ht;){for(var tn=[];_t!==jt&&_t!==Ht;)tn.push(_t),_t=sn();lt&&null==(tn=lt(tn,mn++))||zt.push(tn)}return zt},Ce.format=function(nt){if(Array.isArray(nt[0]))return Ce.formatRows(nt);var lt=new J,_t=[];return nt.forEach(function(At){for(var jt in At)lt.has(jt)||_t.push(lt.add(jt))}),[_t.map(Qe).join(H)].concat(nt.map(function(At){return _t.map(function(jt){return Qe(At[jt])}).join(H)})).join("\n")},Ce.formatRows=function(nt){return nt.map(Xe).join("\n")},Ce},f.csv=f.dsv(",","text/csv"),f.tsv=f.dsv("\t","text/tab-separated-values");var kr,vr,mr,Br,qt=this[q(this,"requestAnimationFrame")]||function(H){setTimeout(H,17)};function on(H,ie,fe){var Me=arguments.length;Me<2&&(ie=0),Me<3&&(fe=Date.now());var Ce={c:H,t:fe+ie,n:null};return vr?vr.n=Ce:kr=Ce,vr=Ce,mr||(Br=clearTimeout(Br),mr=1,qt(An)),Ce}function An(){var H=Dn(),ie=Bn()-H;ie>24?(isFinite(ie)&&(clearTimeout(Br),Br=setTimeout(An,ie)),mr=0):(mr=1,qt(An))}function Dn(){for(var H=Date.now(),ie=kr;ie;)H>=ie.t&&ie.c(H-ie.t)&&(ie.c=null),ie=ie.n;return H}function Bn(){for(var H,ie=kr,fe=1/0;ie;)ie.c?(ie.t<fe&&(fe=ie.t),ie=(H=ie).n):ie=H?H.n=ie.n:kr=ie.n;return vr=H,fe}function fr(H){return H[0]}function bn(H){return H[1]}function Qn(H){for(var ie,fe,Me,Ce=H.length,Fe=[0,1],$e=2,Xe=2;Xe<Ce;Xe++){for(;$e>1&&((fe=H[Fe[$e-1]])[0]-(ie=H[Fe[$e-2]])[0])*((Me=H[Xe])[1]-ie[1])-(fe[1]-ie[1])*(Me[0]-ie[0])<=0;)--$e;Fe[$e++]=Xe}return Fe.slice(0,$e)}function er(H,ie){return H[0]-ie[0]||H[1]-ie[1]}f.timer=function(){on.apply(this,arguments)},f.timer.flush=function(){Dn(),Bn()},f.round=function(H,ie){return ie?Math.round(H*(ie=Math.pow(10,ie)))/ie:Math.round(H)},f.geom={},f.geom.hull=function(H){var ie=fr,fe=bn;if(arguments.length)return Me(H);function Me(Ce){if(Ce.length<3)return[];var Fe,$e=Yn(ie),Xe=Yn(fe),Qe=Ce.length,nt=[],lt=[];for(Fe=0;Fe<Qe;Fe++)nt.push([+$e.call(this,Ce[Fe],Fe),+Xe.call(this,Ce[Fe],Fe),Fe]);for(nt.sort(er),Fe=0;Fe<Qe;Fe++)lt.push([nt[Fe][0],-nt[Fe][1]]);var _t=Qn(nt),At=Qn(lt),jt=At[0]===_t[0],Ht=At[At.length-1]===_t[_t.length-1],zt=[];for(Fe=_t.length-1;Fe>=0;--Fe)zt.push(Ce[nt[_t[Fe]][2]]);for(Fe=+jt;Fe<At.length-Ht;++Fe)zt.push(Ce[nt[At[Fe]][2]]);return zt}return Me.x=function(Ce){return arguments.length?(ie=Ce,Me):ie},Me.y=function(Ce){return arguments.length?(fe=Ce,Me):fe},Me},f.geom.polygon=function(H){return ae(H,Jt),H};var Jt=f.geom.polygon.prototype=[];function Nn(H,ie,fe){return(fe[0]-ie[0])*(H[1]-ie[1])<(fe[1]-ie[1])*(H[0]-ie[0])}function Ft(H,ie,fe,Me){var Ce=H[0],Fe=fe[0],$e=ie[0]-Ce,Xe=Me[0]-Fe,Qe=H[1],nt=fe[1],lt=ie[1]-Qe,_t=Me[1]-nt,At=(Xe*(Qe-nt)-_t*(Ce-Fe))/(_t*$e-Xe*lt);return[Ce+At*$e,Qe+At*lt]}function an(H){var ie=H[0],fe=H[H.length-1];return!(ie[0]-fe[0]||ie[1]-fe[1])}Jt.area=function(){for(var H,ie=-1,fe=this.length,Me=this[fe-1],Ce=0;++ie<fe;)Ce+=(H=Me)[1]*(Me=this[ie])[0]-H[0]*Me[1];return.5*Ce},Jt.centroid=function(H){var ie,fe,Me=-1,Ce=this.length,Fe=0,$e=0,Xe=this[Ce-1];for(arguments.length||(H=-1/(6*this.area()));++Me<Ce;)Fe+=((ie=Xe)[0]+(Xe=this[Me])[0])*(fe=ie[0]*Xe[1]-Xe[0]*ie[1]),$e+=(ie[1]+Xe[1])*fe;return[Fe*H,$e*H]},Jt.clip=function(H){for(var ie,fe,Me,Ce,Fe,$e,Xe=an(H),Qe=-1,nt=this.length-an(this),lt=this[nt-1];++Qe<nt;){for(ie=H.slice(),H.length=0,Ce=this[Qe],Fe=ie[(Me=ie.length-Xe)-1],fe=-1;++fe<Me;)Nn($e=ie[fe],lt,Ce)?(Nn(Fe,lt,Ce)||H.push(Ft(Fe,$e,lt,Ce)),H.push($e)):Nn(Fe,lt,Ce)&&H.push(Ft(Fe,$e,lt,Ce)),Fe=$e;Xe&&H.push(H[0]),lt=Ce}return H};var pn,En,Rn,jn,Tn,ln=[],fn=[];function wn(){go(this),this.edge=this.site=this.circle=null}function Mn(H){var ie=ln.pop()||new wn;return ie.site=H,ie}function Hn(H){Pr(H),Rn.remove(H),ln.push(H),go(H)}function Wn(H){var ie=H.circle,fe=ie.x,Me=ie.cy,Ce={x:fe,y:Me},Fe=H.P,$e=H.N,Xe=[H];Hn(H);for(var Qe=Fe;Qe.circle&&w(fe-Qe.circle.x)<Et&&w(Me-Qe.circle.cy)<Et;)Fe=Qe.P,Xe.unshift(Qe),Hn(Qe),Qe=Fe;Xe.unshift(Qe),Pr(Qe);for(var nt=$e;nt.circle&&w(fe-nt.circle.x)<Et&&w(Me-nt.circle.cy)<Et;)$e=nt.N,Xe.push(nt),Hn(nt),nt=$e;Xe.push(nt),Pr(nt);var lt,_t=Xe.length;for(lt=1;lt<_t;++lt)Fr((nt=Xe[lt]).edge,(Qe=Xe[lt-1]).site,nt.site,Ce);(nt=Xe[_t-1]).edge=ir((Qe=Xe[0]).site,nt.site,null,Ce),Sr(Qe),Sr(nt)}function cr(H){for(var ie,fe,Me,Ce,Fe=H.x,$e=H.y,Xe=Rn._;Xe;)if((Me=or(Xe,$e)-Fe)>Et)Xe=Xe.L;else{if(!((Ce=Fe-xr(Xe,$e))>Et)){Me>-Et?(ie=Xe.P,fe=Xe):Ce>-Et?(ie=Xe,fe=Xe.N):ie=fe=Xe;break}if(!Xe.R){ie=Xe;break}Xe=Xe.R}var Qe=Mn(H);if(Rn.insert(ie,Qe),ie||fe){if(ie===fe)return Pr(ie),fe=Mn(ie.site),Rn.insert(Qe,fe),Qe.edge=fe.edge=ir(ie.site,Qe.site),Sr(ie),void Sr(fe);if(fe){Pr(ie),Pr(fe);var nt=ie.site,lt=nt.x,_t=nt.y,At=H.x-lt,jt=H.y-_t,Ht=fe.site,zt=Ht.x-lt,Xt=Ht.y-_t,Vt=2*(At*Xt-jt*zt),mn=At*At+jt*jt,sn=zt*zt+Xt*Xt,tn={x:(Xt*mn-jt*sn)/Vt+lt,y:(At*sn-zt*mn)/Vt+_t};Fr(fe.edge,nt,Ht,tn),Qe.edge=ir(nt,H,null,tn),fe.edge=ir(H,Ht,null,tn),Sr(ie),Sr(fe)}else Qe.edge=ir(ie.site,Qe.site)}}function or(H,ie){var fe=H.site,Me=fe.x,Ce=fe.y,Fe=Ce-ie;if(!Fe)return Me;var $e=H.P;if(!$e)return-1/0;var Xe=(fe=$e.site).x,Qe=fe.y,nt=Qe-ie;if(!nt)return Xe;var lt=Xe-Me,_t=1/Fe-1/nt,At=lt/nt;return _t?(-At+Math.sqrt(At*At-2*_t*(lt*lt/(-2*nt)-Qe+nt/2+Ce-Fe/2)))/_t+Me:(Me+Xe)/2}function xr(H,ie){var fe=H.N;if(fe)return or(fe,ie);var Me=H.site;return Me.y===ie?Me.x:1/0}function sr(H){this.site=H,this.edges=[]}function hr(H,ie){return ie.angle-H.angle}function Ar(){go(this),this.x=this.y=this.arc=this.site=this.cy=null}function Sr(H){var ie=H.P,fe=H.N;if(ie&&fe){var Me=ie.site,Ce=H.site,Fe=fe.site;if(Me!==Fe){var $e=Ce.x,Xe=Ce.y,Qe=Me.x-$e,nt=Me.y-Xe,lt=Fe.x-$e,_t=2*(Qe*(Xt=Fe.y-Xe)-nt*lt);if(!(_t>=-Lt)){var At=Qe*Qe+nt*nt,jt=lt*lt+Xt*Xt,Ht=(Xt*At-nt*jt)/_t,zt=(Qe*jt-lt*At)/_t,Xt=zt+Xe,Vt=fn.pop()||new Ar;Vt.arc=H,Vt.site=Ce,Vt.x=Ht+$e,Vt.y=Xt+Math.sqrt(Ht*Ht+zt*zt),Vt.cy=Xt,H.circle=Vt;for(var mn=null,sn=Tn._;sn;)if(Vt.y<sn.y||Vt.y===sn.y&&Vt.x<=sn.x){if(!sn.L){mn=sn.P;break}sn=sn.L}else{if(!sn.R){mn=sn;break}sn=sn.R}Tn.insert(mn,Vt),mn||(jn=Vt)}}}}function Pr(H){var ie=H.circle;ie&&(ie.P||(jn=ie.N),Tn.remove(ie),fn.push(ie),go(ie),H.circle=null)}function tr(H,ie){var fe=H.b;if(fe)return!0;var Me,Ce,Fe=H.a,$e=ie[0][0],Xe=ie[1][0],Qe=ie[0][1],nt=ie[1][1],lt=H.l,_t=H.r,At=lt.x,jt=lt.y,Ht=_t.x,zt=_t.y,Xt=(At+Ht)/2;if(zt===jt){if(Xt<$e||Xt>=Xe)return;if(At>Ht){if(Fe){if(Fe.y>=nt)return}else Fe={x:Xt,y:Qe};fe={x:Xt,y:nt}}else{if(Fe){if(Fe.y<Qe)return}else Fe={x:Xt,y:nt};fe={x:Xt,y:Qe}}}else if(Ce=(jt+zt)/2-(Me=(At-Ht)/(zt-jt))*Xt,Me<-1||Me>1)if(At>Ht){if(Fe){if(Fe.y>=nt)return}else Fe={x:(Qe-Ce)/Me,y:Qe};fe={x:(nt-Ce)/Me,y:nt}}else{if(Fe){if(Fe.y<Qe)return}else Fe={x:(nt-Ce)/Me,y:nt};fe={x:(Qe-Ce)/Me,y:Qe}}else if(jt<zt){if(Fe){if(Fe.x>=Xe)return}else Fe={x:$e,y:Me*$e+Ce};fe={x:Xe,y:Me*Xe+Ce}}else{if(Fe){if(Fe.x<$e)return}else Fe={x:Xe,y:Me*Xe+Ce};fe={x:$e,y:Me*$e+Ce}}return H.a=Fe,H.b=fe,!0}function Xr(H,ie){this.l=H,this.r=ie,this.a=this.b=null}function ir(H,ie,fe,Me){var Ce=new Xr(H,ie);return pn.push(Ce),fe&&Fr(Ce,H,ie,fe),Me&&Fr(Ce,ie,H,Me),En[H.i].edges.push(new ii(Ce,H,ie)),En[ie.i].edges.push(new ii(Ce,ie,H)),Ce}function Fr(H,ie,fe,Me){H.a||H.b?H.l===fe?H.b=Me:H.a=Me:(H.a=Me,H.l=ie,H.r=fe)}function ii(H,ie,fe){var Me=H.a,Ce=H.b;this.edge=H,this.site=ie,this.angle=fe?Math.atan2(fe.y-ie.y,fe.x-ie.x):H.l===ie?Math.atan2(Ce.x-Me.x,Me.y-Ce.y):Math.atan2(Me.x-Ce.x,Ce.y-Me.y)}function qi(){this._=null}function go(H){H.U=H.C=H.L=H.R=H.P=H.N=null}function ao(H,ie){var fe=ie,Me=ie.R,Ce=fe.U;Ce?Ce.L===fe?Ce.L=Me:Ce.R=Me:H._=Me,Me.U=Ce,fe.U=Me,fe.R=Me.L,fe.R&&(fe.R.U=fe),Me.L=fe}function so(H,ie){var fe=ie,Me=ie.L,Ce=fe.U;Ce?Ce.L===fe?Ce.L=Me:Ce.R=Me:H._=Me,Me.U=Ce,fe.U=Me,fe.L=Me.R,fe.L&&(fe.L.U=fe),Me.R=fe}function Ki(H){for(;H.L;)H=H.L;return H}function Co(H,ie){var fe,Me,Ce,Fe=H.sort(Gs).pop();for(pn=[],En=new Array(H.length),Rn=new qi,Tn=new qi;;)if(Ce=jn,Fe&&(!Ce||Fe.y<Ce.y||Fe.y===Ce.y&&Fe.x<Ce.x))Fe.x===fe&&Fe.y===Me||(En[Fe.i]=new sr(Fe),cr(Fe),fe=Fe.x,Me=Fe.y),Fe=H.pop();else{if(!Ce)break;Wn(Ce.arc)}ie&&(function(Xe){for(var Qe,nt,lt,_t,At,jt=pn,Ht=(nt=Xe[0][0],lt=Xe[0][1],_t=Xe[1][0],At=Xe[1][1],function(Xt){var Vt,mn=Xt.a,sn=Xt.b,tn=mn.x,On=mn.y,In=0,rr=1,Xn=sn.x-tn,ur=sn.y-On;if(Vt=nt-tn,Xn||!(Vt>0)){if(Vt/=Xn,Xn<0){if(Vt<In)return;Vt<rr&&(rr=Vt)}else if(Xn>0){if(Vt>rr)return;Vt>In&&(In=Vt)}if(Vt=_t-tn,Xn||!(Vt<0)){if(Vt/=Xn,Xn<0){if(Vt>rr)return;Vt>In&&(In=Vt)}else if(Xn>0){if(Vt<In)return;Vt<rr&&(rr=Vt)}if(Vt=lt-On,ur||!(Vt>0)){if(Vt/=ur,ur<0){if(Vt<In)return;Vt<rr&&(rr=Vt)}else if(ur>0){if(Vt>rr)return;Vt>In&&(In=Vt)}if(Vt=At-On,ur||!(Vt<0)){if(Vt/=ur,ur<0){if(Vt>rr)return;Vt>In&&(In=Vt)}else if(ur>0){if(Vt<In)return;Vt<rr&&(rr=Vt)}return In>0&&(Xt.a={x:tn+In*Xn,y:On+In*ur}),rr<1&&(Xt.b={x:tn+rr*Xn,y:On+rr*ur}),Xt}}}}}),zt=jt.length;zt--;)(!tr(Qe=jt[zt],Xe)||!Ht(Qe)||w(Qe.a.x-Qe.b.x)<Et&&w(Qe.a.y-Qe.b.y)<Et)&&(Qe.a=Qe.b=null,jt.splice(zt,1))}(ie),function(Xe){for(var Qe,nt,lt,_t,At,jt,Ht,zt,Xt,Vt,mn=Xe[0][0],sn=Xe[1][0],tn=Xe[0][1],On=Xe[1][1],In=En,rr=In.length;rr--;)if((At=In[rr])&&At.prepare())for(zt=(Ht=At.edges).length,jt=0;jt<zt;)lt=(Vt=Ht[jt].end()).x,_t=Vt.y,Qe=(Xt=Ht[++jt%zt].start()).x,nt=Xt.y,(w(lt-Qe)>Et||w(_t-nt)>Et)&&(Ht.splice(jt,0,new ii((Xn=At.site,ur=Vt,yr=w(lt-mn)<Et&&On-_t>Et?{x:mn,y:w(Qe-mn)<Et?nt:On}:w(_t-On)<Et&&sn-lt>Et?{x:w(nt-On)<Et?Qe:sn,y:On}:w(lt-sn)<Et&&_t-tn>Et?{x:sn,y:w(Qe-sn)<Et?nt:tn}:w(_t-tn)<Et&&lt-mn>Et?{x:w(nt-tn)<Et?Qe:mn,y:tn}:null,wr=void 0,(wr=new Xr(Xn,null)).a=ur,wr.b=yr,pn.push(wr),wr),At.site,null)),++zt);var Xn,ur,yr,wr}(ie));var $e={cells:En,edges:pn};return Rn=Tn=pn=En=null,$e}function Gs(H,ie){return ie.y-H.y||ie.x-H.x}sr.prototype.prepare=function(){for(var H,ie=this.edges,fe=ie.length;fe--;)(H=ie[fe].edge).b&&H.a||ie.splice(fe,1);return ie.sort(hr),ie.length},ii.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},qi.prototype={insert:function(H,ie){var fe,Me,Ce;if(H){if(ie.P=H,ie.N=H.N,H.N&&(H.N.P=ie),H.N=ie,H.R){for(H=H.R;H.L;)H=H.L;H.L=ie}else H.R=ie;fe=H}else this._?(H=Ki(this._),ie.P=null,ie.N=H,H.P=H.L=ie,fe=H):(ie.P=ie.N=null,this._=ie,fe=null);for(ie.L=ie.R=null,ie.U=fe,ie.C=!0,H=ie;fe&&fe.C;)fe===(Me=fe.U).L?(Ce=Me.R)&&Ce.C?(fe.C=Ce.C=!1,Me.C=!0,H=Me):(H===fe.R&&(ao(this,fe),fe=(H=fe).U),fe.C=!1,Me.C=!0,so(this,Me)):(Ce=Me.L)&&Ce.C?(fe.C=Ce.C=!1,Me.C=!0,H=Me):(H===fe.L&&(so(this,fe),fe=(H=fe).U),fe.C=!1,Me.C=!0,ao(this,Me)),fe=H.U;this._.C=!1},remove:function(H){H.N&&(H.N.P=H.P),H.P&&(H.P.N=H.N),H.N=H.P=null;var ie,fe,Me,Ce=H.U,Fe=H.L,$e=H.R;if(fe=Fe?$e?Ki($e):Fe:$e,Ce?Ce.L===H?Ce.L=fe:Ce.R=fe:this._=fe,Fe&&$e?(Me=fe.C,fe.C=H.C,fe.L=Fe,Fe.U=fe,fe!==$e?(Ce=fe.U,fe.U=H.U,Ce.L=H=fe.R,fe.R=$e,$e.U=fe):(fe.U=Ce,Ce=fe,H=fe.R)):(Me=H.C,H=fe),H&&(H.U=Ce),!Me)if(H&&H.C)H.C=!1;else{do{if(H===this._)break;if(H===Ce.L){if((ie=Ce.R).C&&(ie.C=!1,Ce.C=!0,ao(this,Ce),ie=Ce.R),ie.L&&ie.L.C||ie.R&&ie.R.C){ie.R&&ie.R.C||(ie.L.C=!1,ie.C=!0,so(this,ie),ie=Ce.R),ie.C=Ce.C,Ce.C=ie.R.C=!1,ao(this,Ce),H=this._;break}}else if((ie=Ce.L).C&&(ie.C=!1,Ce.C=!0,so(this,Ce),ie=Ce.L),ie.L&&ie.L.C||ie.R&&ie.R.C){ie.L&&ie.L.C||(ie.R.C=!1,ie.C=!0,ao(this,ie),ie=Ce.L),ie.C=Ce.C,Ce.C=ie.L.C=!1,so(this,Ce),H=this._;break}ie.C=!0,H=Ce,Ce=Ce.U}while(!H.C);H&&(H.C=!1)}}},f.geom.voronoi=function(H){var ie=fr,fe=bn,Me=ie,Ce=fe,Fe=fi;if(H)return $e(H);function $e(Qe){var nt=new Array(Qe.length),lt=Fe[0][0],_t=Fe[0][1],At=Fe[1][0],jt=Fe[1][1];return Co(Xe(Qe),Fe).cells.forEach(function(Ht,zt){var Xt=Ht.edges,Vt=Ht.site;(nt[zt]=Xt.length?Xt.map(function(mn){var sn=mn.start();return[sn.x,sn.y]}):Vt.x>=lt&&Vt.x<=At&&Vt.y>=_t&&Vt.y<=jt?[[lt,jt],[At,jt],[At,_t],[lt,_t]]:[]).point=Qe[zt]}),nt}function Xe(Qe){return Qe.map(function(nt,lt){return{x:Math.round(Me(nt,lt)/Et)*Et,y:Math.round(Ce(nt,lt)/Et)*Et,i:lt}})}return $e.links=function(Qe){return Co(Xe(Qe)).edges.filter(function(nt){return nt.l&&nt.r}).map(function(nt){return{source:Qe[nt.l.i],target:Qe[nt.r.i]}})},$e.triangles=function(Qe){var nt=[];return Co(Xe(Qe)).cells.forEach(function(lt,_t){for(var At,jt,Ht,zt,Xt=lt.site,Vt=lt.edges.sort(hr),mn=-1,sn=Vt.length,tn=Vt[sn-1].edge,On=tn.l===Xt?tn.r:tn.l;++mn<sn;)At=On,On=(tn=Vt[mn].edge).l===Xt?tn.r:tn.l,_t<At.i&&_t<On.i&&((jt=Xt).x-(zt=On).x)*((Ht=At).y-jt.y)-(jt.x-Ht.x)*(zt.y-jt.y)<0&&nt.push([Qe[_t],Qe[At.i],Qe[On.i]])}),nt},$e.x=function(Qe){return arguments.length?(Me=Yn(ie=Qe),$e):ie},$e.y=function(Qe){return arguments.length?(Ce=Yn(fe=Qe),$e):fe},$e.clipExtent=function(Qe){return arguments.length?(Fe=Qe??fi,$e):Fe===fi?null:Fe},$e.size=function(Qe){return arguments.length?$e.clipExtent(Qe&&[[0,0],Qe]):Fe===fi?null:Fe&&Fe[1]},$e};var fi=[[-1e6,-1e6],[1e6,1e6]];function Ds(H){return H.x}function Zc(H){return H.y}function oa(H,ie,fe,Me,Ce,Fe){if(!H(ie,fe,Me,Ce,Fe)){var $e=.5*(fe+Ce),Xe=.5*(Me+Fe),Qe=ie.nodes;Qe[0]&&oa(H,Qe[0],fe,Me,$e,Xe),Qe[1]&&oa(H,Qe[1],$e,Me,Ce,Xe),Qe[2]&&oa(H,Qe[2],fe,Xe,$e,Fe),Qe[3]&&oa(H,Qe[3],$e,Xe,Ce,Fe)}}function tc(H,ie){H=f.rgb(H),ie=f.rgb(ie);var fe=H.r,Me=H.g,Ce=H.b,Fe=ie.r-fe,$e=ie.g-Me,Xe=ie.b-Ce;return function(Qe){return"#"+hn(Math.round(fe+Fe*Qe))+hn(Math.round(Me+$e*Qe))+hn(Math.round(Ce+Xe*Qe))}}function $u(H,ie){var fe,Me={},Ce={};for(fe in H)fe in ie?Me[fe]=Ja(H[fe],ie[fe]):Ce[fe]=H[fe];for(fe in ie)fe in H||(Ce[fe]=ie[fe]);return function(Fe){for(fe in Me)Ce[fe]=Me[fe](Fe);return Ce}}function Li(H,ie){return H=+H,ie=+ie,function(fe){return H*(1-fe)+ie*fe}}function Af(H,ie){var fe,Me,Ce,Fe=nc.lastIndex=rc.lastIndex=0,$e=-1,Xe=[],Qe=[];for(H+="",ie+="";(fe=nc.exec(H))&&(Me=rc.exec(ie));)(Ce=Me.index)>Fe&&(Ce=ie.slice(Fe,Ce),Xe[$e]?Xe[$e]+=Ce:Xe[++$e]=Ce),(fe=fe[0])===(Me=Me[0])?Xe[$e]?Xe[$e]+=Me:Xe[++$e]=Me:(Xe[++$e]=null,Qe.push({i:$e,x:Li(fe,Me)})),Fe=rc.lastIndex;return Fe<ie.length&&(Ce=ie.slice(Fe),Xe[$e]?Xe[$e]+=Ce:Xe[++$e]=Ce),Xe.length<2?Qe[0]?(ie=Qe[0].x,function(nt){return ie(nt)+""}):function(){return ie}:(ie=Qe.length,function(nt){for(var lt,_t=0;_t<ie;++_t)Xe[(lt=Qe[_t]).i]=lt.x(nt);return Xe.join("")})}f.geom.delaunay=function(H){return f.geom.voronoi().triangles(H)},f.geom.quadtree=function(H,ie,fe,Me,Ce){var Fe,$e=fr,Xe=bn;if(Fe=arguments.length)return $e=Ds,Xe=Zc,3===Fe&&(Ce=fe,Me=ie,fe=ie=0),Qe(H);function Qe(nt){var lt,_t,At,jt,Ht,zt,Xt,Vt,mn,sn=Yn($e),tn=Yn(Xe);if(null!=ie)zt=ie,Xt=fe,Vt=Me,mn=Ce;else if(Vt=mn=-(zt=Xt=1/0),_t=[],At=[],Ht=nt.length,Fe)for(jt=0;jt<Ht;++jt)(lt=nt[jt]).x<zt&&(zt=lt.x),lt.y<Xt&&(Xt=lt.y),lt.x>Vt&&(Vt=lt.x),lt.y>mn&&(mn=lt.y),_t.push(lt.x),At.push(lt.y);else for(jt=0;jt<Ht;++jt){var On=+sn(lt=nt[jt],jt),In=+tn(lt,jt);On<zt&&(zt=On),In<Xt&&(Xt=In),On>Vt&&(Vt=On),In>mn&&(mn=In),_t.push(On),At.push(In)}var rr=Vt-zt,Xn=mn-Xt;function ur(Er,Ir,Rr,ai,ar,Mr,Or,qr){if(!isNaN(Rr)&&!isNaN(ai))if(Er.leaf){var ri=Er.x,gi=Er.y;if(null!=ri)if(w(ri-Rr)+w(gi-ai)<.01)yr(Er,Ir,Rr,ai,ar,Mr,Or,qr);else{var Ti=Er.point;Er.x=Er.y=Er.point=null,yr(Er,Ti,ri,gi,ar,Mr,Or,qr),yr(Er,Ir,Rr,ai,ar,Mr,Or,qr)}else Er.x=Rr,Er.y=ai,Er.point=Ir}else yr(Er,Ir,Rr,ai,ar,Mr,Or,qr)}function yr(Er,Ir,Rr,ai,ar,Mr,Or,qr){var ri=.5*(ar+Or),gi=.5*(Mr+qr),Ti=Rr>=ri,Yi=ai>=gi,vo=Yi<<1|Ti;Er.leaf=!1,Ti?ar=ri:Or=ri,Yi?Mr=gi:qr=gi,ur(Er=Er.nodes[vo]||(Er.nodes[vo]={leaf:!0,nodes:[],point:null,x:null,y:null}),Ir,Rr,ai,ar,Mr,Or,qr)}rr>Xn?mn=Xt+rr:Vt=zt+Xn;var wr={leaf:!0,nodes:[],point:null,x:null,y:null,add:function(Er){ur(wr,Er,+sn(Er,++jt),+tn(Er,jt),zt,Xt,Vt,mn)},visit:function(Er){oa(Er,wr,zt,Xt,Vt,mn)},find:function(Er){return Rr=Er[0],ai=Er[1],gi=1/0,function Ti(Yi,vo,ho,Zi,Do){if(!(vo>Or||ho>qr||Zi<ar||Do<Mr)){if(ma=Yi.point){var ma,Kr=Rr-Yi.x,ta=ai-Yi.y,Xi=Kr*Kr+ta*ta;if(Xi<gi){var Ci=Math.sqrt(gi=Xi);ar=Rr-Ci,Mr=ai-Ci,Or=Rr+Ci,qr=ai+Ci,ri=ma}}for(var yo=Yi.nodes,lo=.5*(vo+Zi),_o=.5*(ho+Do),fa=(ai>=_o)<<1|Rr>=lo,Oo=fa+4;fa<Oo;++fa)if(Yi=yo[3&fa])switch(3&fa){case 0:Ti(Yi,vo,ho,lo,_o);break;case 1:Ti(Yi,lo,ho,Zi,_o);break;case 2:Ti(Yi,vo,_o,lo,Do);break;case 3:Ti(Yi,lo,_o,Zi,Do)}}}(wr,ar=zt,Mr=Xt,Or=Vt,qr=mn),ri;var Rr,ai,ar,Mr,Or,qr,ri,gi}};if(jt=-1,null==ie){for(;++jt<Ht;)ur(wr,nt[jt],_t[jt],At[jt],zt,Xt,Vt,mn);--jt}else nt.forEach(wr.add);return _t=At=nt=lt=null,wr}return Qe.x=function(nt){return arguments.length?($e=nt,Qe):$e},Qe.y=function(nt){return arguments.length?(Xe=nt,Qe):Xe},Qe.extent=function(nt){return arguments.length?(null==nt?ie=fe=Me=Ce=null:(ie=+nt[0][0],fe=+nt[0][1],Me=+nt[1][0],Ce=+nt[1][1]),Qe):null==ie?null:[[ie,fe],[Me,Ce]]},Qe.size=function(nt){return arguments.length?(null==nt?ie=fe=Me=Ce=null:(ie=fe=0,Me=+nt[0],Ce=+nt[1]),Qe):null==ie?null:[Me-ie,Ce-fe]},Qe},f.interpolateRgb=tc,f.interpolateObject=$u,f.interpolateNumber=Li,f.interpolateString=Af;var nc=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,rc=new RegExp(nc.source,"g");function Ja(H,ie){for(var fe,Me=f.interpolators.length;--Me>=0&&!(fe=f.interpolators[Me](H,ie)););return fe}function No(H,ie){var fe,Me=[],Ce=[],Fe=H.length,$e=ie.length,Xe=Math.min(H.length,ie.length);for(fe=0;fe<Xe;++fe)Me.push(Ja(H[fe],ie[fe]));for(;fe<Fe;++fe)Ce[fe]=H[fe];for(;fe<$e;++fe)Ce[fe]=ie[fe];return function(Qe){for(fe=0;fe<Xe;++fe)Ce[fe]=Me[fe](Qe);return Ce}}f.interpolate=Ja,f.interpolators=[function(H,ie){var fe=typeof ie;return("string"===fe?Ln.has(ie.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(ie)?tc:Af:ie instanceof ft?tc:Array.isArray(ie)?No:"object"===fe&&isNaN(ie)?$u:Li)(H,ie)}],f.interpolateArray=No;var kl=function(){return z},Wi=f.map({linear:kl,poly:function(H){return function(ie){return Math.pow(ie,H)}},quad:function(){return Fa},cubic:function(){return El},sin:function(){return al},exp:function(){return Vr},circle:function(){return gu},elastic:function(H,ie){var fe;return arguments.length<2&&(ie=.45),arguments.length?fe=ie/Ut*Math.asin(1/H):(H=1,fe=ie/4),function(Me){return 1+H*Math.pow(2,-10*Me)*Math.sin((Me-fe)*Ut/ie)}},back:function(H){return H||(H=1.70158),function(ie){return ie*ie*((H+1)*ie-H)}},bounce:function(){return Ur}}),qs=f.map({in:z,out:ss,"in-out":Ws,"out-in":function(H){return Ws(ss(H))}});function ss(H){return function(ie){return 1-H(1-ie)}}function Ws(H){return function(ie){return.5*(ie<.5?H(2*ie):2-H(2-2*ie))}}function Fa(H){return H*H}function El(H){return H*H*H}function za(H){if(H<=0)return 0;if(H>=1)return 1;var ie=H*H,fe=ie*H;return 4*(H<.5?fe:3*(H-ie)+fe-.75)}function al(H){return 1-Math.cos(H*rt)}function Vr(H){return Math.pow(2,10*(H-1))}function gu(H){return 1-Math.sqrt(1-H*H)}function Ur(H){return H<.36363636363636365?7.5625*H*H:H<.7272727272727273?7.5625*(H-=.5454545454545454)*H+.75:H<.9090909090909091?7.5625*(H-=.8181818181818182)*H+.9375:7.5625*(H-=.9545454545454546)*H+.984375}function Mc(H,ie){return ie-=H,function(fe){return Math.round(H+ie*fe)}}function Ac(H){var ie,fe,Me,Ce=[H.a,H.b],Fe=[H.c,H.d],$e=mu(Ce),Xe=ic(Ce,Fe),Qe=mu(((ie=Fe)[0]+=(Me=-Xe)*(fe=Ce)[0],ie[1]+=Me*fe[1],ie))||0;Ce[0]*Fe[1]<Fe[0]*Ce[1]&&(Ce[0]*=-1,Ce[1]*=-1,$e*=-1,Xe*=-1),this.rotate=($e?Math.atan2(Ce[1],Ce[0]):Math.atan2(-Fe[0],Fe[1]))*Je,this.translate=[H.e,H.f],this.scale=[$e,Qe],this.skew=Qe?Math.atan2(Xe,Qe)*Je:0}function ic(H,ie){return H[0]*ie[0]+H[1]*ie[1]}function mu(H){var ie=Math.sqrt(ic(H,H));return ie&&(H[0]/=ie,H[1]/=ie),ie}f.ease=function(H){var ie,fe=H.indexOf("-"),Me=fe>=0?H.slice(0,fe):H,Ce=fe>=0?H.slice(fe+1):"in";return Me=Wi.get(Me)||kl,Ce=qs.get(Ce)||z,ie=Ce(Me.apply(null,S.call(arguments,1))),function(Fe){return Fe<=0?0:Fe>=1?1:ie(Fe)}},f.interpolateHcl=function(H,ie){H=f.hcl(H),ie=f.hcl(ie);var fe=H.h,Me=H.c,Ce=H.l,Fe=ie.h-fe,$e=ie.c-Me,Xe=ie.l-Ce;return isNaN($e)&&($e=0,Me=isNaN(Me)?ie.c:Me),isNaN(Fe)?(Fe=0,fe=isNaN(fe)?ie.h:fe):Fe>180?Fe-=360:Fe<-180&&(Fe+=360),function(Qe){return bt(fe+Fe*Qe,Me+$e*Qe,Ce+Xe*Qe)+""}},f.interpolateHsl=function(H,ie){H=f.hsl(H),ie=f.hsl(ie);var fe=H.h,Me=H.s,Ce=H.l,Fe=ie.h-fe,$e=ie.s-Me,Xe=ie.l-Ce;return isNaN($e)&&($e=0,Me=isNaN(Me)?ie.s:Me),isNaN(Fe)?(Fe=0,fe=isNaN(fe)?ie.h:fe):Fe>180?Fe-=360:Fe<-180&&(Fe+=360),function(Qe){return Tt(fe+Fe*Qe,Me+$e*Qe,Ce+Xe*Qe)+""}},f.interpolateLab=function(H,ie){H=f.lab(H),ie=f.lab(ie);var fe=H.l,Me=H.a,Ce=H.b,Fe=ie.l-fe,$e=ie.a-Me,Xe=ie.b-Ce;return function(Qe){return nn(fe+Fe*Qe,Me+$e*Qe,Ce+Xe*Qe)+""}},f.interpolateRound=Mc,f.transform=function(H){var ie=y.createElementNS(f.ns.prefix.svg,"g");return(f.transform=function(fe){if(null!=fe){ie.setAttribute("transform",fe);var Me=ie.transform.baseVal.consolidate()}return new Ac(Me?Me.matrix:Yu)})(H)},Ac.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var Yu={a:1,b:0,c:0,d:1,e:0,f:0};function oc(H){return H.length?H.pop()+",":""}function Ba(H,ie){var Ce,Fe,$e,fe=[],Me=[];return H=f.transform(H),ie=f.transform(ie),function(Ce,Fe,$e,Xe){if(Ce[0]!==Fe[0]||Ce[1]!==Fe[1]){var Qe=$e.push("translate(",null,",",null,")");Xe.push({i:Qe-4,x:Li(Ce[0],Fe[0])},{i:Qe-2,x:Li(Ce[1],Fe[1])})}else(Fe[0]||Fe[1])&&$e.push("translate("+Fe+")")}(H.translate,ie.translate,fe,Me),$e=fe,(Ce=H.rotate)!==(Fe=ie.rotate)?(Ce-Fe>180?Fe+=360:Fe-Ce>180&&(Ce+=360),Me.push({i:$e.push(oc($e)+"rotate(",null,")")-2,x:Li(Ce,Fe)})):Fe&&$e.push(oc($e)+"rotate("+Fe+")"),function(Ce,Fe,$e,Xe){Ce!==Fe?Xe.push({i:$e.push(oc($e)+"skewX(",null,")")-2,x:Li(Ce,Fe)}):Fe&&$e.push(oc($e)+"skewX("+Fe+")")}(H.skew,ie.skew,fe,Me),function(Ce,Fe,$e,Xe){if(Ce[0]!==Fe[0]||Ce[1]!==Fe[1]){var Qe=$e.push(oc($e)+"scale(",null,",",null,")");Xe.push({i:Qe-4,x:Li(Ce[0],Fe[0])},{i:Qe-2,x:Li(Ce[1],Fe[1])})}else 1===Fe[0]&&1===Fe[1]||$e.push(oc($e)+"scale("+Fe+")")}(H.scale,ie.scale,fe,Me),H=ie=null,function(Ce){for(var Fe,$e=-1,Xe=Me.length;++$e<Xe;)fe[(Fe=Me[$e]).i]=Fe.x(Ce);return fe.join("")}}function $s(H,ie){return ie=(ie-=H=+H)||1/ie,function(fe){return(fe-H)/ie}}function ja(H,ie){return ie=(ie-=H=+H)||1/ie,function(fe){return Math.max(0,Math.min(1,(fe-H)/ie))}}function ls(H){for(var ie=H.source,fe=H.target,Me=function($e,Xe){if($e===Xe)return $e;for(var Qe=Ui($e),nt=Ui(Xe),lt=Qe.pop(),_t=nt.pop(),At=null;lt===_t;)At=lt,lt=Qe.pop(),_t=nt.pop();return At}(ie,fe),Ce=[ie];ie!==Me;)Ce.push(ie=ie.parent);for(var Fe=Ce.length;fe!==Me;)Ce.splice(Fe,0,fe),fe=fe.parent;return Ce}function Ui(H){for(var ie=[],fe=H.parent;null!=fe;)ie.push(H),H=fe,fe=fe.parent;return ie.push(H),ie}function ac(H){H.fixed|=2}function Ka(H){H.fixed&=-7}function sl(H){H.fixed|=4,H.px=H.x,H.py=H.y}function Os(H){H.fixed&=-5}function Ta(H,ie,fe){var Me=0,Ce=0;if(H.charge=0,!H.leaf)for(var Fe,$e=H.nodes,Xe=$e.length,Qe=-1;++Qe<Xe;)null!=(Fe=$e[Qe])&&(Ta(Fe,ie,fe),H.charge+=Fe.charge,Me+=Fe.charge*Fe.cx,Ce+=Fe.charge*Fe.cy);if(H.point){H.leaf||(H.point.x+=Math.random()-.5,H.point.y+=Math.random()-.5);var nt=ie*fe[H.point.index];H.charge+=H.pointCharge=nt,Me+=nt*H.point.x,Ce+=nt*H.point.y}H.cx=Me/H.charge,H.cy=Ce/H.charge}f.interpolateTransform=Ba,f.layout={},f.layout.bundle=function(){return function(H){for(var ie=[],fe=-1,Me=H.length;++fe<Me;)ie.push(ls(H[fe]));return ie}},f.layout.chord=function(){var H,ie,fe,Me,Ce,Fe,$e,Xe={},Qe=0;function nt(){var _t,At,jt,Ht,zt,Xt={},Vt=[],mn=f.range(Me),sn=[];for(H=[],ie=[],_t=0,Ht=-1;++Ht<Me;){for(At=0,zt=-1;++zt<Me;)At+=fe[Ht][zt];Vt.push(At),sn.push(f.range(Me)),_t+=At}for(Ce&&mn.sort(function(wr,Er){return Ce(Vt[wr],Vt[Er])}),Fe&&sn.forEach(function(wr,Er){wr.sort(function(Ir,Rr){return Fe(fe[Er][Ir],fe[Er][Rr])})}),_t=(Ut-Qe*Me)/_t,At=0,Ht=-1;++Ht<Me;){for(jt=At,zt=-1;++zt<Me;){var tn=mn[Ht],On=sn[tn][zt],In=fe[tn][On],rr=At,Xn=At+=In*_t;Xt[tn+"-"+On]={index:tn,subindex:On,startAngle:rr,endAngle:Xn,value:In}}ie[tn]={index:tn,startAngle:jt,endAngle:At,value:Vt[tn]},At+=Qe}for(Ht=-1;++Ht<Me;)for(zt=Ht-1;++zt<Me;){var ur=Xt[Ht+"-"+zt],yr=Xt[zt+"-"+Ht];(ur.value||yr.value)&&H.push(ur.value<yr.value?{source:yr,target:ur}:{source:ur,target:yr})}$e&&lt()}function lt(){H.sort(function(_t,At){return $e((_t.source.value+_t.target.value)/2,(At.source.value+At.target.value)/2)})}return Xe.matrix=function(_t){return arguments.length?(Me=(fe=_t)&&fe.length,H=ie=null,Xe):fe},Xe.padding=function(_t){return arguments.length?(Qe=_t,H=ie=null,Xe):Qe},Xe.sortGroups=function(_t){return arguments.length?(Ce=_t,H=ie=null,Xe):Ce},Xe.sortSubgroups=function(_t){return arguments.length?(Fe=_t,H=null,Xe):Fe},Xe.sortChords=function(_t){return arguments.length?($e=_t,H&&lt(),Xe):$e},Xe.chords=function(){return H||nt(),H},Xe.groups=function(){return ie||nt(),ie},Xe},f.layout.force=function(){var H,ie,fe,Me,Ce,Fe,$e={},Xe=f.dispatch("start","tick","end"),Qe=[1,1],nt=.9,lt=sc,_t=ll,At=-30,jt=no,Ht=.1,zt=.64,Xt=[],Vt=[];function mn(tn){return function(On,In,rr,Xn){if(On.point!==tn){var ur=On.cx-tn.x,yr=On.cy-tn.y,wr=Xn-In,Er=ur*ur+yr*yr;if(wr*wr/zt<Er){if(Er<jt){var Ir=On.charge/Er;tn.px-=ur*Ir,tn.py-=yr*Ir}return!0}On.point&&Er&&Er<jt&&(tn.px-=ur*(Ir=On.pointCharge/Er),tn.py-=yr*Ir)}return!On.charge}}function sn(tn){tn.px=f.event.x,tn.py=f.event.y,$e.resume()}return $e.tick=function(){if((fe*=.99)<.005)return H=null,Xe.end({type:"end",alpha:fe=0}),!0;var tn,On,In,rr,Xn,ur,yr,wr,Er,Ir=Xt.length,Rr=Vt.length;for(On=0;On<Rr;++On)rr=(In=Vt[On]).source,(ur=(wr=(Xn=In.target).x-rr.x)*wr+(Er=Xn.y-rr.y)*Er)&&(wr*=ur=fe*Ce[On]*((ur=Math.sqrt(ur))-Me[On])/ur,Er*=ur,Xn.x-=wr*(yr=rr.weight+Xn.weight?rr.weight/(rr.weight+Xn.weight):.5),Xn.y-=Er*yr,rr.x+=wr*(yr=1-yr),rr.y+=Er*yr);if((yr=fe*Ht)&&(wr=Qe[0]/2,Er=Qe[1]/2,On=-1,yr))for(;++On<Ir;)(In=Xt[On]).x+=(wr-In.x)*yr,In.y+=(Er-In.y)*yr;if(At)for(Ta(tn=f.geom.quadtree(Xt),fe,Fe),On=-1;++On<Ir;)(In=Xt[On]).fixed||tn.visit(mn(In));for(On=-1;++On<Ir;)(In=Xt[On]).fixed?(In.x=In.px,In.y=In.py):(In.x-=(In.px-(In.px=In.x))*nt,In.y-=(In.py-(In.py=In.y))*nt);Xe.tick({type:"tick",alpha:fe})},$e.nodes=function(tn){return arguments.length?(Xt=tn,$e):Xt},$e.links=function(tn){return arguments.length?(Vt=tn,$e):Vt},$e.size=function(tn){return arguments.length?(Qe=tn,$e):Qe},$e.linkDistance=function(tn){return arguments.length?(lt="function"==typeof tn?tn:+tn,$e):lt},$e.distance=$e.linkDistance,$e.linkStrength=function(tn){return arguments.length?(_t="function"==typeof tn?tn:+tn,$e):_t},$e.friction=function(tn){return arguments.length?(nt=+tn,$e):nt},$e.charge=function(tn){return arguments.length?(At="function"==typeof tn?tn:+tn,$e):At},$e.chargeDistance=function(tn){return arguments.length?(jt=tn*tn,$e):Math.sqrt(jt)},$e.gravity=function(tn){return arguments.length?(Ht=+tn,$e):Ht},$e.theta=function(tn){return arguments.length?(zt=tn*tn,$e):Math.sqrt(zt)},$e.alpha=function(tn){return arguments.length?(tn=+tn,fe?tn>0?fe=tn:(H.c=null,H.t=NaN,H=null,Xe.end({type:"end",alpha:fe=0})):tn>0&&(Xe.start({type:"start",alpha:fe=tn}),H=on($e.tick)),$e):fe},$e.start=function(){var tn,On,In,rr=Xt.length,Xn=Vt.length,ur=Qe[0],yr=Qe[1];for(tn=0;tn<rr;++tn)(In=Xt[tn]).index=tn,In.weight=0;for(tn=0;tn<Xn;++tn)"number"==typeof(In=Vt[tn]).source&&(In.source=Xt[In.source]),"number"==typeof In.target&&(In.target=Xt[In.target]),++In.source.weight,++In.target.weight;for(tn=0;tn<rr;++tn)In=Xt[tn],isNaN(In.x)&&(In.x=wr("x",ur)),isNaN(In.y)&&(In.y=wr("y",yr)),isNaN(In.px)&&(In.px=In.x),isNaN(In.py)&&(In.py=In.y);if(Me=[],"function"==typeof lt)for(tn=0;tn<Xn;++tn)Me[tn]=+lt.call(this,Vt[tn],tn);else for(tn=0;tn<Xn;++tn)Me[tn]=lt;if(Ce=[],"function"==typeof _t)for(tn=0;tn<Xn;++tn)Ce[tn]=+_t.call(this,Vt[tn],tn);else for(tn=0;tn<Xn;++tn)Ce[tn]=_t;if(Fe=[],"function"==typeof At)for(tn=0;tn<rr;++tn)Fe[tn]=+At.call(this,Xt[tn],tn);else for(tn=0;tn<rr;++tn)Fe[tn]=At;function wr(Er,Ir){if(!On){for(On=new Array(rr),Mr=0;Mr<rr;++Mr)On[Mr]=[];for(Mr=0;Mr<Xn;++Mr){var Rr=Vt[Mr];On[Rr.source.index].push(Rr.target),On[Rr.target.index].push(Rr.source)}}for(var ai,ar=On[tn],Mr=-1,Or=ar.length;++Mr<Or;)if(!isNaN(ai=ar[Mr][Er]))return ai;return Math.random()*Ir}return $e.resume()},$e.resume=function(){return $e.alpha(.1)},$e.stop=function(){return $e.alpha(0)},$e.drag=function(){if(ie||(ie=f.behavior.drag().origin(z).on("dragstart.force",ac).on("drag.force",sn).on("dragend.force",Ka)),!arguments.length)return ie;this.on("mouseover.force",sl).on("mouseout.force",Os).call(ie)},f.rebind($e,Xe,"on")};var sc=20,ll=1,no=1/0;function cs(H,ie){return f.rebind(H,ie,"sort","children","value"),H.nodes=H,H.links=Xu,H}function lc(H,ie){for(var fe=[H];null!=(H=fe.pop());)if(ie(H),(Ce=H.children)&&(Me=Ce.length))for(var Me,Ce;--Me>=0;)fe.push(Ce[Me])}function us(H,ie){for(var fe=[H],Me=[];null!=(H=fe.pop());)if(Me.push(H),(Fe=H.children)&&(Ce=Fe.length))for(var Ce,Fe,$e=-1;++$e<Ce;)fe.push(Fe[$e]);for(;null!=(H=Me.pop());)ie(H)}function Is(H){return H.children}function Zu(H){return H.value}function Sc(H,ie){return ie.value-H.value}function Xu(H){return f.merge(H.map(function(ie){return(ie.children||[]).map(function(fe){return{source:ie,target:fe}})}))}f.layout.hierarchy=function(){var H=Sc,ie=Is,fe=Zu;function Me(Ce){var Fe,$e=[Ce],Xe=[];for(Ce.depth=0;null!=(Fe=$e.pop());)if(Xe.push(Fe),(nt=ie.call(Me,Fe,Fe.depth))&&(Qe=nt.length)){for(var Qe,nt,lt;--Qe>=0;)$e.push(lt=nt[Qe]),lt.parent=Fe,lt.depth=Fe.depth+1;fe&&(Fe.value=0),Fe.children=nt}else fe&&(Fe.value=+fe.call(Me,Fe,Fe.depth)||0),delete Fe.children;return us(Ce,function(_t){var At,jt;H&&(At=_t.children)&&At.sort(H),fe&&(jt=_t.parent)&&(jt.value+=_t.value)}),Xe}return Me.sort=function(Ce){return arguments.length?(H=Ce,Me):H},Me.children=function(Ce){return arguments.length?(ie=Ce,Me):ie},Me.value=function(Ce){return arguments.length?(fe=Ce,Me):fe},Me.revalue=function(Ce){return fe&&(lc(Ce,function(Fe){Fe.children&&(Fe.value=0)}),us(Ce,function(Fe){var $e;Fe.children||(Fe.value=+fe.call(Me,Fe,Fe.depth)||0),($e=Fe.parent)&&($e.value+=Fe.value)})),Ce},Me},f.layout.partition=function(){var H=f.layout.hierarchy(),ie=[1,1];function fe(Fe,$e,Xe,Qe){var nt=Fe.children;if(Fe.x=$e,Fe.y=Fe.depth*Qe,Fe.dx=Xe,Fe.dy=Qe,nt&&(lt=nt.length)){var lt,_t,At,jt=-1;for(Xe=Fe.value?Xe/Fe.value:0;++jt<lt;)fe(_t=nt[jt],$e,At=_t.value*Xe,Qe),$e+=At}}function Me(Fe){var $e=Fe.children,Xe=0;if($e&&(Qe=$e.length))for(var Qe,nt=-1;++nt<Qe;)Xe=Math.max(Xe,Me($e[nt]));return 1+Xe}function Ce(Fe,$e){var Xe=H.call(this,Fe,$e);return fe(Xe[0],0,ie[0],ie[1]/Me(Xe[0])),Xe}return Ce.size=function(Fe){return arguments.length?(ie=Fe,Ce):ie},cs(Ce,H)},f.layout.pie=function(){var H=Number,ie=vu,fe=0,Me=Ut,Ce=0;function Fe($e){var Xe,Qe=$e.length,nt=$e.map(function(mn,sn){return+H.call(Fe,mn,sn)}),lt=+("function"==typeof fe?fe.apply(this,arguments):fe),_t=("function"==typeof Me?Me.apply(this,arguments):Me)-lt,At=Math.min(Math.abs(_t)/Qe,+("function"==typeof Ce?Ce.apply(this,arguments):Ce)),jt=At*(_t<0?-1:1),Ht=f.sum(nt),zt=Ht?(_t-Qe*jt)/Ht:0,Xt=f.range(Qe),Vt=[];return null!=ie&&Xt.sort(ie===vu?function(mn,sn){return nt[sn]-nt[mn]}:function(mn,sn){return ie($e[mn],$e[sn])}),Xt.forEach(function(mn){Vt[mn]={data:$e[mn],value:Xe=nt[mn],startAngle:lt,endAngle:lt+=Xe*zt+jt,padAngle:At}}),Vt}return Fe.value=function($e){return arguments.length?(H=$e,Fe):H},Fe.sort=function($e){return arguments.length?(ie=$e,Fe):ie},Fe.startAngle=function($e){return arguments.length?(fe=$e,Fe):fe},Fe.endAngle=function($e){return arguments.length?(Me=$e,Fe):Me},Fe.padAngle=function($e){return arguments.length?(Ce=$e,Fe):Ce},Fe};var vu={};function kc(H){return H.x}function cc(H){return H.y}function qa(H,ie,fe){H.y0=ie,H.y=fe}f.layout.stack=function(){var H=z,ie=Dl,fe=cl,Me=qa,Ce=kc,Fe=cc;function $e(Xe,Qe){if(!(At=Xe.length))return Xe;var nt=Xe.map(function(mn,sn){return H.call($e,mn,sn)}),lt=nt.map(function(mn){return mn.map(function(sn,tn){return[Ce.call($e,sn,tn),Fe.call($e,sn,tn)]})}),_t=ie.call($e,lt,Qe);nt=f.permute(nt,_t),lt=f.permute(lt,_t);var At,jt,Ht,zt,Xt=fe.call($e,lt,Qe),Vt=nt[0].length;for(Ht=0;Ht<Vt;++Ht)for(Me.call($e,nt[0][Ht],zt=Xt[Ht],lt[0][Ht][1]),jt=1;jt<At;++jt)Me.call($e,nt[jt][Ht],zt+=lt[jt-1][Ht][1],lt[jt][Ht][1]);return Xe}return $e.values=function(Xe){return arguments.length?(H=Xe,$e):H},$e.order=function(Xe){return arguments.length?(ie="function"==typeof Xe?Xe:Cl.get(Xe)||Dl,$e):ie},$e.offset=function(Xe){return arguments.length?(fe="function"==typeof Xe?Xe:Ys.get(Xe)||cl,$e):fe},$e.x=function(Xe){return arguments.length?(Ce=Xe,$e):Ce},$e.y=function(Xe){return arguments.length?(Fe=Xe,$e):Fe},$e.out=function(Xe){return arguments.length?(Me=Xe,$e):Me},$e};var Cl=f.map({"inside-out":function(H){var ie,fe,Me=H.length,Ce=H.map(Xc),Fe=H.map(Ps),$e=f.range(Me).sort(function(_t,At){return Ce[_t]-Ce[At]}),Xe=0,Qe=0,nt=[],lt=[];for(ie=0;ie<Me;++ie)fe=$e[ie],Xe<Qe?(Xe+=Fe[fe],nt.push(fe)):(Qe+=Fe[fe],lt.push(fe));return lt.reverse().concat(nt)},reverse:function(H){return f.range(H.length).reverse()},default:Dl}),Ys=f.map({silhouette:function(H){var ie,fe,Me,Ce=H.length,Fe=H[0].length,$e=[],Xe=0,Qe=[];for(fe=0;fe<Fe;++fe){for(ie=0,Me=0;ie<Ce;ie++)Me+=H[ie][fe][1];Me>Xe&&(Xe=Me),$e.push(Me)}for(fe=0;fe<Fe;++fe)Qe[fe]=(Xe-$e[fe])/2;return Qe},wiggle:function(H){var ie,fe,Me,Ce,Fe,$e,Xe,Qe,nt,lt=H.length,_t=H[0],At=_t.length,jt=[];for(jt[0]=Qe=nt=0,fe=1;fe<At;++fe){for(ie=0,Ce=0;ie<lt;++ie)Ce+=H[ie][fe][1];for(ie=0,Fe=0,Xe=_t[fe][0]-_t[fe-1][0];ie<lt;++ie){for(Me=0,$e=(H[ie][fe][1]-H[ie][fe-1][1])/(2*Xe);Me<ie;++Me)$e+=(H[Me][fe][1]-H[Me][fe-1][1])/Xe;Fe+=$e*H[ie][fe][1]}jt[fe]=Qe-=Ce?Fe/Ce*Xe:0,Qe<nt&&(nt=Qe)}for(fe=0;fe<At;++fe)jt[fe]-=nt;return jt},expand:function(H){var ie,fe,Me,Ce=H.length,Fe=H[0].length,$e=1/Ce,Xe=[];for(fe=0;fe<Fe;++fe){for(ie=0,Me=0;ie<Ce;ie++)Me+=H[ie][fe][1];if(Me)for(ie=0;ie<Ce;ie++)H[ie][fe][1]/=Me;else for(ie=0;ie<Ce;ie++)H[ie][fe][1]=$e}for(fe=0;fe<Fe;++fe)Xe[fe]=0;return Xe},zero:cl});function Dl(H){return f.range(H.length)}function cl(H){for(var ie=-1,fe=H[0].length,Me=[];++ie<fe;)Me[ie]=0;return Me}function Xc(H){for(var ie,fe=1,Me=0,Ce=H[0][1],Fe=H.length;fe<Fe;++fe)(ie=H[fe][1])>Ce&&(Me=fe,Ce=ie);return Me}function Ps(H){return H.reduce(yu,0)}function yu(H,ie){return H+ie[1]}function Ju(H,ie){return Jc(H,Math.ceil(Math.log(ie.length)/Math.LN2+1))}function Jc(H,ie){for(var fe=-1,Me=+H[0],Ce=(H[1]-Me)/ie,Fe=[];++fe<=ie;)Fe[fe]=Ce*fe+Me;return Fe}function Ol(H){return[f.min(H),f.max(H)]}function ga(H,ie){return H.value-ie.value}function jl(H,ie){var fe=H._pack_next;H._pack_next=ie,ie._pack_prev=H,ie._pack_next=fe,fe._pack_prev=ie}function _u(H,ie){H._pack_next=ie,ie._pack_prev=H}function uc(H,ie){var fe=ie.x-H.x,Me=ie.y-H.y,Ce=H.r+ie.r;return.999*Ce*Ce>fe*fe+Me*Me}function Ri(H){if((ie=H.children)&&(Qe=ie.length)){var ie,fe,Me,Ce,Fe,$e,Xe,Qe,nt=1/0,lt=-1/0,_t=1/0,At=-1/0;if(ie.forEach(Ec),(fe=ie[0]).x=-fe.r,fe.y=0,sn(fe),Qe>1&&((Me=ie[1]).x=Me.r,Me.y=0,sn(Me),Qe>2))for(Qo(fe,Me,Ce=ie[2]),sn(Ce),jl(fe,Ce),fe._pack_prev=Ce,jl(Ce,Me),Me=fe._pack_next,Fe=3;Fe<Qe;Fe++){Qo(fe,Me,Ce=ie[Fe]);var jt=0,Ht=1,zt=1;for($e=Me._pack_next;$e!==Me;$e=$e._pack_next,Ht++)if(uc($e,Ce)){jt=1;break}if(1==jt)for(Xe=fe._pack_prev;Xe!==$e._pack_prev&&!uc(Xe,Ce);Xe=Xe._pack_prev,zt++);jt?(Ht<zt||Ht==zt&&Me.r<fe.r?_u(fe,Me=$e):_u(fe=Xe,Me),Fe--):(jl(fe,Ce),Me=Ce,sn(Ce))}var Xt=(nt+lt)/2,Vt=(_t+At)/2,mn=0;for(Fe=0;Fe<Qe;Fe++)(Ce=ie[Fe]).x-=Xt,Ce.y-=Vt,mn=Math.max(mn,Ce.r+Math.sqrt(Ce.x*Ce.x+Ce.y*Ce.y));H.r=mn,ie.forEach(Vl)}function sn(tn){nt=Math.min(tn.x-tn.r,nt),lt=Math.max(tn.x+tn.r,lt),_t=Math.min(tn.y-tn.r,_t),At=Math.max(tn.y+tn.r,At)}}function Ec(H){H._pack_next=H._pack_prev=H}function Vl(H){delete H._pack_next,delete H._pack_prev}function Cr(H,ie,fe,Me){var Ce=H.children;if(H.x=ie+=Me*H.x,H.y=fe+=Me*H.y,H.r*=Me,Ce)for(var Fe=-1,$e=Ce.length;++Fe<$e;)Cr(Ce[Fe],ie,fe,Me)}function Qo(H,ie,fe){var Me=H.r+fe.r,Ce=ie.x-H.x,Fe=ie.y-H.y;if(Me&&(Ce||Fe)){var $e=ie.r+fe.r,Xe=Ce*Ce+Fe*Fe,Qe=.5+((Me*=Me)-($e*=$e))/(2*Xe),nt=Math.sqrt(Math.max(0,2*$e*(Me+Xe)-(Me-=Xe)*Me-$e*$e))/(2*Xe);fe.x=H.x+Qe*Ce+nt*Fe,fe.y=H.y+Qe*Fe-nt*Ce}else fe.x=H.x+Me,fe.y=H.y}function Ei(H,ie){return H.parent==ie.parent?1:2}function Hi(H){var ie=H.children;return ie.length?ie[0]:H.t}function mi(H){var ie,fe=H.children;return(ie=fe.length)?fe[ie-1]:H.t}function Di(H,ie,fe){var Me=fe/(ie.i-H.i);ie.c-=Me,ie.s+=fe,H.c+=Me,ie.z+=fe,ie.m+=fe}function aa(H,ie,fe){return H.a.parent===ie.parent?H.a:fe}function Zs(H){var ie=H.children;return ie&&ie.length?Zs(ie[0]):H}function Kc(H){var ie,fe=H.children;return fe&&(ie=fe.length)?Kc(fe[ie-1]):H}function Il(H){return{x:H.x,y:H.y,dx:H.dx,dy:H.dy}}function Pl(H,ie){var fe=H.x+ie[3],Me=H.y+ie[0],Ce=H.dx-ie[1]-ie[3],Fe=H.dy-ie[0]-ie[2];return Ce<0&&(fe+=Ce/2,Ce=0),Fe<0&&(Me+=Fe/2,Fe=0),{x:fe,y:Me,dx:Ce,dy:Fe}}function Cc(H){var ie=H[0],fe=H[H.length-1];return ie<fe?[ie,fe]:[fe,ie]}function mo(H){return H.rangeExtent?H.rangeExtent():Cc(H.range())}function Wr(H,ie,fe,Me){var Ce=fe(H[0],H[1]),Fe=Me(ie[0],ie[1]);return function($e){return Fe(Ce($e))}}function hi(H,ie){var fe,Me=0,Ce=H.length-1,Fe=H[Me],$e=H[Ce];return $e<Fe&&(fe=Me,Me=Ce,Ce=fe,fe=Fe,Fe=$e,$e=fe),H[Me]=ie.floor(Fe),H[Ce]=ie.ceil($e),H}function _i(H){return H?{floor:function(ie){return Math.floor(ie/H)*H},ceil:function(ie){return Math.ceil(ie/H)*H}}:Ma}f.layout.histogram=function(){var H=!0,ie=Number,fe=Ol,Me=Ju;function Ce(Fe,$e){for(var Xe,Qe,nt=[],lt=Fe.map(ie,this),_t=fe.call(this,lt,$e),At=Me.call(this,_t,lt,$e),jt=($e=-1,lt.length),Ht=At.length-1,zt=H?1:1/jt;++$e<Ht;)(Xe=nt[$e]=[]).dx=At[$e+1]-(Xe.x=At[$e]),Xe.y=0;if(Ht>0)for($e=-1;++$e<jt;)(Qe=lt[$e])>=_t[0]&&Qe<=_t[1]&&((Xe=nt[f.bisect(At,Qe,1,Ht)-1]).y+=zt,Xe.push(Fe[$e]));return nt}return Ce.value=function(Fe){return arguments.length?(ie=Fe,Ce):ie},Ce.range=function(Fe){return arguments.length?(fe=Yn(Fe),Ce):fe},Ce.bins=function(Fe){return arguments.length?(Me="number"==typeof Fe?function($e){return Jc($e,Fe)}:Yn(Fe),Ce):Me},Ce.frequency=function(Fe){return arguments.length?(H=!!Fe,Ce):H},Ce},f.layout.pack=function(){var H,ie=f.layout.hierarchy().sort(ga),fe=0,Me=[1,1];function Ce(Fe,$e){var Xe=ie.call(this,Fe,$e),Qe=Xe[0],nt=Me[0],lt=Me[1],_t=null==H?Math.sqrt:"function"==typeof H?H:function(){return H};if(Qe.x=Qe.y=0,us(Qe,function(jt){jt.r=+_t(jt.value)}),us(Qe,Ri),fe){var At=fe*(H?1:Math.max(2*Qe.r/nt,2*Qe.r/lt))/2;us(Qe,function(jt){jt.r+=At}),us(Qe,Ri),us(Qe,function(jt){jt.r-=At})}return Cr(Qe,nt/2,lt/2,H?1:1/Math.max(2*Qe.r/nt,2*Qe.r/lt)),Xe}return Ce.size=function(Fe){return arguments.length?(Me=Fe,Ce):Me},Ce.radius=function(Fe){return arguments.length?(H=null==Fe||"function"==typeof Fe?Fe:+Fe,Ce):H},Ce.padding=function(Fe){return arguments.length?(fe=+Fe,Ce):fe},cs(Ce,ie)},f.layout.tree=function(){var H=f.layout.hierarchy().sort(null).value(null),ie=Ei,fe=[1,1],Me=null;function Ce(Qe,nt){var lt=H.call(this,Qe,nt),_t=lt[0],At=function(sn){for(var tn,On={A:null,children:[sn]},In=[On];null!=(tn=In.pop());)for(var rr,Xn=tn.children,ur=0,yr=Xn.length;ur<yr;++ur)In.push((Xn[ur]=rr={_:Xn[ur],parent:tn,children:(rr=Xn[ur].children)&&rr.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:ur}).a=rr);return On.children[0]}(_t);if(us(At,Fe),At.parent.m=-At.z,lc(At,$e),Me)lc(_t,Xe);else{var jt=_t,Ht=_t,zt=_t;lc(_t,function(sn){sn.x<jt.x&&(jt=sn),sn.x>Ht.x&&(Ht=sn),sn.depth>zt.depth&&(zt=sn)});var Xt=ie(jt,Ht)/2-jt.x,Vt=fe[0]/(Ht.x+ie(Ht,jt)/2+Xt),mn=fe[1]/(zt.depth||1);lc(_t,function(sn){sn.x=(sn.x+Xt)*Vt,sn.y=sn.depth*mn})}return lt}function Fe(Qe){var nt=Qe.children,lt=Qe.parent.children,_t=Qe.i?lt[Qe.i-1]:null;if(nt.length){!function(jt){for(var Ht,zt=0,Xt=0,Vt=jt.children,mn=Vt.length;--mn>=0;)(Ht=Vt[mn]).z+=zt,Ht.m+=zt,zt+=Ht.s+(Xt+=Ht.c)}(Qe);var At=(nt[0].z+nt[nt.length-1].z)/2;_t?(Qe.z=_t.z+ie(Qe._,_t._),Qe.m=Qe.z-At):Qe.z=At}else _t&&(Qe.z=_t.z+ie(Qe._,_t._));Qe.parent.A=function(jt,Ht,zt){if(Ht){for(var Xt,Vt=jt,mn=jt,sn=Ht,tn=Vt.parent.children[0],On=Vt.m,In=mn.m,rr=sn.m,Xn=tn.m;sn=mi(sn),Vt=Hi(Vt),sn&&Vt;)tn=Hi(tn),(mn=mi(mn)).a=jt,(Xt=sn.z+rr-Vt.z-On+ie(sn._,Vt._))>0&&(Di(aa(sn,jt,zt),jt,Xt),On+=Xt,In+=Xt),rr+=sn.m,On+=Vt.m,Xn+=tn.m,In+=mn.m;sn&&!mi(mn)&&(mn.t=sn,mn.m+=rr-In),Vt&&!Hi(tn)&&(tn.t=Vt,tn.m+=On-Xn,zt=jt)}return zt}(Qe,_t,Qe.parent.A||lt[0])}function $e(Qe){Qe._.x=Qe.z+Qe.parent.m,Qe.m+=Qe.parent.m}function Xe(Qe){Qe.x*=fe[0],Qe.y=Qe.depth*fe[1]}return Ce.separation=function(Qe){return arguments.length?(ie=Qe,Ce):ie},Ce.size=function(Qe){return arguments.length?(Me=null==(fe=Qe)?Xe:null,Ce):Me?null:fe},Ce.nodeSize=function(Qe){return arguments.length?(Me=null==(fe=Qe)?null:Xe,Ce):Me?fe:null},cs(Ce,H)},f.layout.cluster=function(){var H=f.layout.hierarchy().sort(null).value(null),ie=Ei,fe=[1,1],Me=!1;function Ce(Fe,$e){var Xe,Qe=H.call(this,Fe,$e),nt=Qe[0],lt=0;us(nt,function(zt){var Vt,Xt=zt.children;Xt&&Xt.length?(zt.x=(Vt=Xt).reduce(function(mn,sn){return mn+sn.x},0)/Vt.length,zt.y=function(Vt){return 1+f.max(Vt,function(mn){return mn.y})}(Xt)):(zt.x=Xe?lt+=ie(zt,Xe):0,zt.y=0,Xe=zt)});var _t=Zs(nt),At=Kc(nt),jt=_t.x-ie(_t,At)/2,Ht=At.x+ie(At,_t)/2;return us(nt,Me?function(zt){zt.x=(zt.x-nt.x)*fe[0],zt.y=(nt.y-zt.y)*fe[1]}:function(zt){zt.x=(zt.x-jt)/(Ht-jt)*fe[0],zt.y=(1-(nt.y?zt.y/nt.y:1))*fe[1]}),Qe}return Ce.separation=function(Fe){return arguments.length?(ie=Fe,Ce):ie},Ce.size=function(Fe){return arguments.length?(Me=null==(fe=Fe),Ce):Me?null:fe},Ce.nodeSize=function(Fe){return arguments.length?(Me=null!=(fe=Fe),Ce):Me?fe:null},cs(Ce,H)},f.layout.treemap=function(){var H,ie=f.layout.hierarchy(),fe=Math.round,Me=[1,1],Ce=null,Fe=Il,$e=!1,Xe="squarify",Qe=.5*(1+Math.sqrt(5));function nt(zt,Xt){for(var Vt,mn,sn=-1,tn=zt.length;++sn<tn;)mn=(Vt=zt[sn]).value*(Xt<0?0:Xt),Vt.area=isNaN(mn)||mn<=0?0:mn}function lt(zt){var Xt=zt.children;if(Xt&&Xt.length){var Vt,mn,sn,tn=Fe(zt),On=[],In=Xt.slice(),rr=1/0,Xn="slice"===Xe?tn.dx:"dice"===Xe?tn.dy:"slice-dice"===Xe?1&zt.depth?tn.dy:tn.dx:Math.min(tn.dx,tn.dy);for(nt(In,tn.dx*tn.dy/zt.value),On.area=0;(sn=In.length)>0;)On.push(Vt=In[sn-1]),On.area+=Vt.area,"squarify"!==Xe||(mn=At(On,Xn))<=rr?(In.pop(),rr=mn):(On.area-=On.pop().area,jt(On,Xn,tn,!1),Xn=Math.min(tn.dx,tn.dy),On.length=On.area=0,rr=1/0);On.length&&(jt(On,Xn,tn,!0),On.length=On.area=0),Xt.forEach(lt)}}function _t(zt){var Xt=zt.children;if(Xt&&Xt.length){var Vt,mn=Fe(zt),sn=Xt.slice(),tn=[];for(nt(sn,mn.dx*mn.dy/zt.value),tn.area=0;Vt=sn.pop();)tn.push(Vt),tn.area+=Vt.area,null!=Vt.z&&(jt(tn,Vt.z?mn.dx:mn.dy,mn,!sn.length),tn.length=tn.area=0);Xt.forEach(_t)}}function At(zt,Xt){for(var Vt,mn=zt.area,sn=0,tn=1/0,On=-1,In=zt.length;++On<In;)(Vt=zt[On].area)&&(Vt<tn&&(tn=Vt),Vt>sn&&(sn=Vt));return Xt*=Xt,(mn*=mn)?Math.max(Xt*sn*Qe/mn,mn/(Xt*tn*Qe)):1/0}function jt(zt,Xt,Vt,mn){var sn,tn=-1,On=zt.length,In=Vt.x,rr=Vt.y,Xn=Xt?fe(zt.area/Xt):0;if(Xt==Vt.dx){for((mn||Xn>Vt.dy)&&(Xn=Vt.dy);++tn<On;)(sn=zt[tn]).x=In,sn.y=rr,sn.dy=Xn,In+=sn.dx=Math.min(Vt.x+Vt.dx-In,Xn?fe(sn.area/Xn):0);sn.z=!0,sn.dx+=Vt.x+Vt.dx-In,Vt.y+=Xn,Vt.dy-=Xn}else{for((mn||Xn>Vt.dx)&&(Xn=Vt.dx);++tn<On;)(sn=zt[tn]).x=In,sn.y=rr,sn.dx=Xn,rr+=sn.dy=Math.min(Vt.y+Vt.dy-rr,Xn?fe(sn.area/Xn):0);sn.z=!1,sn.dy+=Vt.y+Vt.dy-rr,Vt.x+=Xn,Vt.dx-=Xn}}function Ht(zt){var Xt=H||ie(zt),Vt=Xt[0];return Vt.x=Vt.y=0,Vt.value?(Vt.dx=Me[0],Vt.dy=Me[1]):Vt.dx=Vt.dy=0,H&&ie.revalue(Vt),nt([Vt],Vt.dx*Vt.dy/Vt.value),(H?_t:lt)(Vt),$e&&(H=Xt),Xt}return Ht.size=function(zt){return arguments.length?(Me=zt,Ht):Me},Ht.padding=function(zt){if(!arguments.length)return Ce;var Vt;return Fe=null==(Ce=zt)?Il:"function"==(Vt=typeof zt)?function(mn){var sn=zt.call(Ht,mn,mn.depth);return null==sn?Il(mn):Pl(mn,"number"==typeof sn?[sn,sn,sn,sn]:sn)}:("number"===Vt&&(zt=[zt,zt,zt,zt]),function Xt(mn){return Pl(mn,zt)}),Ht},Ht.round=function(zt){return arguments.length?(fe=zt?Math.round:Number,Ht):fe!=Number},Ht.sticky=function(zt){return arguments.length?($e=zt,H=null,Ht):$e},Ht.ratio=function(zt){return arguments.length?(Qe=zt,Ht):Qe},Ht.mode=function(zt){return arguments.length?(Xe=zt+"",Ht):Xe},cs(Ht,ie)},f.random={normal:function(H,ie){var fe=arguments.length;return fe<2&&(ie=1),fe<1&&(H=0),function(){var Me,Ce,Fe;do{Fe=(Me=2*Math.random()-1)*Me+(Ce=2*Math.random()-1)*Ce}while(!Fe||Fe>1);return H+ie*Me*Math.sqrt(-2*Math.log(Fe)/Fe)}},logNormal:function(){var H=f.random.normal.apply(f,arguments);return function(){return Math.exp(H())}},bates:function(H){var ie=f.random.irwinHall(H);return function(){return ie()/H}},irwinHall:function(H){return function(){for(var ie=0,fe=0;fe<H;fe++)ie+=Math.random();return ie}}},f.scale={};var Ma={floor:z,ceil:z};function Rs(H,ie,fe,Me){var Ce=[],Fe=[],$e=0,Xe=Math.min(H.length,ie.length)-1;for(H[Xe]<H[0]&&(H=H.slice().reverse(),ie=ie.slice().reverse());++$e<=Xe;)Ce.push(fe(H[$e-1],H[$e])),Fe.push(Me(ie[$e-1],ie[$e]));return function(Qe){var nt=f.bisect(H,Qe,1,Xe)-1;return Fe[nt](Ce[nt](Qe))}}function ji(H,ie,fe,Me){var Ce,Fe;function $e(){var Qe=Math.min(H.length,ie.length)>2?Rs:Wr,nt=Me?ja:$s;return Ce=Qe(H,ie,nt,fe),Fe=Qe(ie,H,nt,Ja),Xe}function Xe(Qe){return Ce(Qe)}return Xe.invert=function(Qe){return Fe(Qe)},Xe.domain=function(Qe){return arguments.length?(H=Qe.map(Number),$e()):H},Xe.range=function(Qe){return arguments.length?(ie=Qe,$e()):ie},Xe.rangeRound=function(Qe){return Xe.range(Qe).interpolate(Mc)},Xe.clamp=function(Qe){return arguments.length?(Me=Qe,$e()):Me},Xe.interpolate=function(Qe){return arguments.length?(fe=Qe,$e()):fe},Xe.ticks=function(Qe){return Ho(H,Qe)},Xe.tickFormat=function(Qe,nt){return d3_scale_linearTickFormat(H,Qe,nt)},Xe.nice=function(Qe){return Oi(H,Qe),$e()},Xe.copy=function(){return ji(H,ie,fe,Me)},$e()}function Uo(H,ie){return f.rebind(H,ie,"range","rangeRound","interpolate","clamp")}function Oi(H,ie){return hi(H,_i(ko(H,ie)[2])),hi(H,_i(ko(H,ie)[2])),H}function ko(H,ie){null==ie&&(ie=10);var fe=Cc(H),Me=fe[1]-fe[0],Ce=Math.pow(10,Math.floor(Math.log(Me/ie)/Math.LN10)),Fe=ie/Me*Ce;return Fe<=.15?Ce*=10:Fe<=.35?Ce*=5:Fe<=.75&&(Ce*=2),fe[0]=Math.ceil(fe[0]/Ce)*Ce,fe[1]=Math.floor(fe[1]/Ce)*Ce+.5*Ce,fe[2]=Ce,fe}function Ho(H,ie){return f.range.apply(f,ko(H,ie))}function pi(H,ie,fe,Me){function Ce(Xe){return(fe?Math.log(Xe<0?0:Xe):-Math.log(Xe>0?0:-Xe))/Math.log(ie)}function Fe(Xe){return fe?Math.pow(ie,Xe):-Math.pow(ie,-Xe)}function $e(Xe){return H(Ce(Xe))}return $e.invert=function(Xe){return Fe(H.invert(Xe))},$e.domain=function(Xe){return arguments.length?(fe=Xe[0]>=0,H.domain((Me=Xe.map(Number)).map(Ce)),$e):Me},$e.base=function(Xe){return arguments.length?(ie=+Xe,H.domain(Me.map(Ce)),$e):ie},$e.nice=function(){var Xe=hi(Me.map(Ce),fe?Math:Wa);return H.domain(Xe),Me=Xe.map(Fe),$e},$e.ticks=function(){var Xe=Cc(Me),Qe=[],nt=Xe[0],lt=Xe[1],_t=Math.floor(Ce(nt)),At=Math.ceil(Ce(lt)),jt=ie%1?2:ie;if(isFinite(At-_t)){if(fe){for(;_t<At;_t++)for(var Ht=1;Ht<jt;Ht++)Qe.push(Fe(_t)*Ht);Qe.push(Fe(_t))}else for(Qe.push(Fe(_t));_t++<At;)for(Ht=jt-1;Ht>0;Ht--)Qe.push(Fe(_t)*Ht);for(_t=0;Qe[_t]<nt;_t++);for(At=Qe.length;Qe[At-1]>lt;At--);Qe=Qe.slice(_t,At)}return Qe},$e.copy=function(){return pi(H.copy(),ie,fe,Me)},Uo($e,H)}f.scale.linear=function(){return ji([0,1],[0,1],Ja,!1)},f.scale.log=function(){return pi(f.scale.linear().domain([0,1]),10,!0,[1,10])};var Wa={floor:function(H){return-Math.ceil(-H)},ceil:function(H){return-Math.floor(-H)}};function sa(H,ie,fe){var Me=ya(ie),Ce=ya(1/ie);function Fe($e){return H(Me($e))}return Fe.invert=function($e){return Ce(H.invert($e))},Fe.domain=function($e){return arguments.length?(H.domain((fe=$e.map(Number)).map(Me)),Fe):fe},Fe.ticks=function($e){return Ho(fe,$e)},Fe.tickFormat=function($e,Xe){return d3_scale_linearTickFormat(fe,$e,Xe)},Fe.nice=function($e){return Fe.domain(Oi(fe,$e))},Fe.exponent=function($e){return arguments.length?(Me=ya(ie=$e),Ce=ya(1/ie),H.domain(fe.map(Me)),Fe):ie},Fe.copy=function(){return sa(H.copy(),ie,fe)},Uo(Fe,H)}function ya(H){return function(ie){return ie<0?-Math.pow(-ie,H):Math.pow(ie,H)}}function Qi(H,ie){var fe,Me,Ce;function Fe(Xe){return Me[((fe.get(Xe)||("range"===ie.t?fe.set(Xe,H.push(Xe)):NaN))-1)%Me.length]}function $e(Xe,Qe){return f.range(H.length).map(function(nt){return Xe+Qe*nt})}return Fe.domain=function(Xe){if(!arguments.length)return H;H=[],fe=new b;for(var Qe,nt=-1,lt=Xe.length;++nt<lt;)fe.has(Qe=Xe[nt])||fe.set(Qe,H.push(Qe));return Fe[ie.t].apply(Fe,ie.a)},Fe.range=function(Xe){return arguments.length?(Me=Xe,Ce=0,ie={t:"range",a:arguments},Fe):Me},Fe.rangePoints=function(Xe,Qe){arguments.length<2&&(Qe=0);var nt=Xe[0],lt=Xe[1],_t=H.length<2?(nt=(nt+lt)/2,0):(lt-nt)/(H.length-1+Qe);return Me=$e(nt+_t*Qe/2,_t),Ce=0,ie={t:"rangePoints",a:arguments},Fe},Fe.rangeRoundPoints=function(Xe,Qe){arguments.length<2&&(Qe=0);var nt=Xe[0],lt=Xe[1],_t=H.length<2?(nt=lt=Math.round((nt+lt)/2),0):(lt-nt)/(H.length-1+Qe)|0;return Me=$e(nt+Math.round(_t*Qe/2+(lt-nt-(H.length-1+Qe)*_t)/2),_t),Ce=0,ie={t:"rangeRoundPoints",a:arguments},Fe},Fe.rangeBands=function(Xe,Qe,nt){arguments.length<2&&(Qe=0),arguments.length<3&&(nt=Qe);var lt=Xe[1]<Xe[0],_t=Xe[lt-0],At=(Xe[1-lt]-_t)/(H.length-Qe+2*nt);return Me=$e(_t+At*nt,At),lt&&Me.reverse(),Ce=At*(1-Qe),ie={t:"rangeBands",a:arguments},Fe},Fe.rangeRoundBands=function(Xe,Qe,nt){arguments.length<2&&(Qe=0),arguments.length<3&&(nt=Qe);var lt=Xe[1]<Xe[0],_t=Xe[lt-0],At=Xe[1-lt],jt=Math.floor((At-_t)/(H.length-Qe+2*nt));return Me=$e(_t+Math.round((At-_t-(H.length-Qe)*jt)/2),jt),lt&&Me.reverse(),Ce=Math.round(jt*(1-Qe)),ie={t:"rangeRoundBands",a:arguments},Fe},Fe.rangeBand=function(){return Ce},Fe.rangeExtent=function(){return Cc(ie.a[0])},Fe.copy=function(){return Qi(H,ie)},Fe.domain(H)}f.scale.pow=function(){return sa(f.scale.linear(),1,[0,1])},f.scale.sqrt=function(){return f.scale.pow().exponent(.5)},f.scale.ordinal=function(){return Qi([],{t:"range",a:[[]]})},f.scale.category10=function(){return f.scale.ordinal().range(Rl)},f.scale.category20=function(){return f.scale.ordinal().range(Aa)},f.scale.category20b=function(){return f.scale.ordinal().range(uo)},f.scale.category20c=function(){return f.scale.ordinal().range(Gr)};var Rl=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(en),Aa=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(en),uo=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(en),Gr=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(en);function _a(H,ie){var fe;function Me(){var Fe=0,$e=ie.length;for(fe=[];++Fe<$e;)fe[Fe-1]=f.quantile(H,Fe/$e);return Ce}function Ce(Fe){if(!isNaN(Fe=+Fe))return ie[f.bisect(fe,Fe)]}return Ce.domain=function(Fe){return arguments.length?(H=Fe.map(v).filter(p).sort(h),Me()):H},Ce.range=function(Fe){return arguments.length?(ie=Fe,Me()):ie},Ce.quantiles=function(){return fe},Ce.invertExtent=function(Fe){return(Fe=ie.indexOf(Fe))<0?[NaN,NaN]:[Fe>0?fe[Fe-1]:H[0],Fe<fe.length?fe[Fe]:H[H.length-1]]},Ce.copy=function(){return _a(H,ie)},Me()}function ys(H,ie,fe){var Me,Ce;function Fe(Xe){return fe[Math.max(0,Math.min(Ce,Math.floor(Me*(Xe-H))))]}function $e(){return Me=fe.length/(ie-H),Ce=fe.length-1,Fe}return Fe.domain=function(Xe){return arguments.length?(H=+Xe[0],ie=+Xe[Xe.length-1],$e()):[H,ie]},Fe.range=function(Xe){return arguments.length?(fe=Xe,$e()):fe},Fe.invertExtent=function(Xe){return[Xe=(Xe=fe.indexOf(Xe))<0?NaN:Xe/Me+H,Xe+1/Me]},Fe.copy=function(){return ys(H,ie,fe)},$e()}function _s(H,ie){function fe(Me){if(Me<=Me)return ie[f.bisect(H,Me)]}return fe.domain=function(Me){return arguments.length?(H=Me,fe):H},fe.range=function(Me){return arguments.length?(ie=Me,fe):ie},fe.invertExtent=function(Me){return Me=ie.indexOf(Me),[H[Me-1],H[Me]]},fe.copy=function(){return _s(H,ie)},fe}function Xs(H){function ie(fe){return+fe}return ie.invert=ie,ie.domain=ie.range=function(fe){return arguments.length?(H=fe.map(ie),ie):H},ie.ticks=function(fe){return Ho(H,fe)},ie.tickFormat=function(fe,Me){return d3_scale_linearTickFormat(H,fe,Me)},ie.copy=function(){return Xs(H)},ie}function Js(){return 0}f.scale.quantile=function(){return _a([],[])},f.scale.quantize=function(){return ys(0,1,[0,1])},f.scale.threshold=function(){return _s([.5],[0,1])},f.scale.identity=function(){return Xs([0,1])},f.svg={},f.svg.arc=function(){var H=Hr,ie=fs,fe=Js,Me=bi,Ce=Ul,Fe=Qa,$e=la;function Xe(){var nt=Math.max(0,+H.apply(this,arguments)),lt=Math.max(0,+ie.apply(this,arguments)),_t=Ce.apply(this,arguments)-rt,At=Fe.apply(this,arguments)-rt,jt=Math.abs(At-_t),Ht=_t>At?0:1;if(lt<nt&&(zt=lt,lt=nt,nt=zt),jt>=Bt)return Qe(lt,Ht)+(nt?Qe(nt,1-Ht):"")+"Z";var zt,Xt,Vt,mn,sn,tn,On,In,rr,Xn,ur,yr,wr=0,Er=0,Ir=[];if((mn=(+$e.apply(this,arguments)||0)/2)&&(Vt=Me===bi?Math.sqrt(nt*nt+lt*lt):+Me.apply(this,arguments),Ht||(Er*=-1),lt&&(Er=it(Vt/lt*Math.sin(mn))),nt&&(wr=it(Vt/nt*Math.sin(mn)))),lt){sn=lt*Math.cos(_t+Er),tn=lt*Math.sin(_t+Er),On=lt*Math.cos(At-Er),In=lt*Math.sin(At-Er);var Rr=Math.abs(At-_t-2*Er)<=Rt?0:1;if(Er&&Va(sn,tn,On,In)===Ht^Rr){var ai=(_t+At)/2;sn=lt*Math.cos(ai),tn=lt*Math.sin(ai),On=In=null}}else sn=tn=0;if(nt){rr=nt*Math.cos(At-wr),Xn=nt*Math.sin(At-wr),ur=nt*Math.cos(_t+wr),yr=nt*Math.sin(_t+wr);var ar=Math.abs(_t-At+2*wr)<=Rt?0:1;if(wr&&Va(rr,Xn,ur,yr)===1-Ht^ar){var Mr=(_t+At)/2;rr=nt*Math.cos(Mr),Xn=nt*Math.sin(Mr),ur=yr=null}}else rr=Xn=0;if(jt>Et&&(zt=Math.min(Math.abs(lt-nt)/2,+fe.apply(this,arguments)))>.001){Xt=nt<lt^Ht?0:1;var Or=zt,qr=zt;if(jt<Rt){var ri=null==ur?[rr,Xn]:null==On?[sn,tn]:Ft([sn,tn],[ur,yr],[On,In],[rr,Xn]),gi=sn-ri[0],Ti=tn-ri[1],Yi=On-ri[0],vo=In-ri[1],ho=1/Math.sin(Math.acos((gi*Yi+Ti*vo)/(Math.sqrt(gi*gi+Ti*Ti)*Math.sqrt(Yi*Yi+vo*vo)))/2),Zi=Math.sqrt(ri[0]*ri[0]+ri[1]*ri[1]);qr=Math.min(zt,(nt-Zi)/(ho-1)),Or=Math.min(zt,(lt-Zi)/(ho+1))}if(null!=On){var Do=Ua(null==ur?[rr,Xn]:[ur,yr],[sn,tn],lt,Or,Ht),ma=Ua([On,In],[rr,Xn],lt,Or,Ht);zt===Or?Ir.push("M",Do[0],"A",Or,",",Or," 0 0,",Xt," ",Do[1],"A",lt,",",lt," 0 ",1-Ht^Va(Do[1][0],Do[1][1],ma[1][0],ma[1][1]),",",Ht," ",ma[1],"A",Or,",",Or," 0 0,",Xt," ",ma[0]):Ir.push("M",Do[0],"A",Or,",",Or," 0 1,",Xt," ",ma[0])}else Ir.push("M",sn,",",tn);if(null!=ur){var Kr=Ua([sn,tn],[ur,yr],nt,-qr,Ht),ta=Ua([rr,Xn],null==On?[sn,tn]:[On,In],nt,-qr,Ht);zt===qr?Ir.push("L",ta[0],"A",qr,",",qr," 0 0,",Xt," ",ta[1],"A",nt,",",nt," 0 ",Ht^Va(ta[1][0],ta[1][1],Kr[1][0],Kr[1][1]),",",1-Ht," ",Kr[1],"A",qr,",",qr," 0 0,",Xt," ",Kr[0]):Ir.push("L",ta[0],"A",qr,",",qr," 0 0,",Xt," ",Kr[0])}else Ir.push("L",rr,",",Xn)}else Ir.push("M",sn,",",tn),null!=On&&Ir.push("A",lt,",",lt," 0 ",Rr,",",Ht," ",On,",",In),Ir.push("L",rr,",",Xn),null!=ur&&Ir.push("A",nt,",",nt," 0 ",ar,",",1-Ht," ",ur,",",yr);return Ir.push("Z"),Ir.join("")}function Qe(nt,lt){return"M0,"+nt+"A"+nt+","+nt+" 0 1,"+lt+" 0,"+-nt+"A"+nt+","+nt+" 0 1,"+lt+" 0,"+nt}return Xe.innerRadius=function(nt){return arguments.length?(H=Yn(nt),Xe):H},Xe.outerRadius=function(nt){return arguments.length?(ie=Yn(nt),Xe):ie},Xe.cornerRadius=function(nt){return arguments.length?(fe=Yn(nt),Xe):fe},Xe.padRadius=function(nt){return arguments.length?(Me=nt==bi?bi:Yn(nt),Xe):Me},Xe.startAngle=function(nt){return arguments.length?(Ce=Yn(nt),Xe):Ce},Xe.endAngle=function(nt){return arguments.length?(Fe=Yn(nt),Xe):Fe},Xe.padAngle=function(nt){return arguments.length?($e=Yn(nt),Xe):$e},Xe.centroid=function(){var nt=(+H.apply(this,arguments)+ +ie.apply(this,arguments))/2,lt=(+Ce.apply(this,arguments)+ +Fe.apply(this,arguments))/2-rt;return[Math.cos(lt)*nt,Math.sin(lt)*nt]},Xe};var bi="auto";function Hr(H){return H.innerRadius}function fs(H){return H.outerRadius}function Ul(H){return H.startAngle}function Qa(H){return H.endAngle}function la(H){return H&&H.padAngle}function Va(H,ie,fe,Me){return(H-fe)*ie-(ie-Me)*H>0?0:1}function Ua(H,ie,fe,Me,Ce){var Fe=H[0]-ie[0],$e=H[1]-ie[1],Xe=(Ce?Me:-Me)/Math.sqrt(Fe*Fe+$e*$e),Qe=Xe*$e,nt=-Xe*Fe,lt=H[0]+Qe,_t=H[1]+nt,At=ie[0]+Qe,jt=ie[1]+nt,Ht=(lt+At)/2,zt=(_t+jt)/2,Xt=At-lt,Vt=jt-_t,mn=Xt*Xt+Vt*Vt,sn=fe-Me,tn=lt*jt-At*_t,On=(Vt<0?-1:1)*Math.sqrt(Math.max(0,sn*sn*mn-tn*tn)),In=(tn*Vt-Xt*On)/mn,rr=(-tn*Xt-Vt*On)/mn,Xn=(tn*Vt+Xt*On)/mn,ur=(-tn*Xt+Vt*On)/mn,yr=In-Ht,wr=rr-zt,Er=Xn-Ht,Ir=ur-zt;return yr*yr+wr*wr>Er*Er+Ir*Ir&&(In=Xn,rr=ur),[[In-Qe,rr-nt],[In*fe/sn,rr*fe/sn]]}function fo(){return!0}function ul(H){var ie=fr,fe=bn,Me=fo,Ce=$i,Fe=Ce.key,$e=.7;function Xe(Qe){var nt,lt=[],_t=[],At=-1,jt=Qe.length,Ht=Yn(ie),zt=Yn(fe);function Xt(){lt.push("M",Ce(H(_t),$e))}for(;++At<jt;)Me.call(this,nt=Qe[At],At)?_t.push([+Ht.call(this,nt,At),+zt.call(this,nt,At)]):_t.length&&(Xt(),_t=[]);return _t.length&&Xt(),lt.length?lt.join(""):null}return Xe.x=function(Qe){return arguments.length?(ie=Qe,Xe):ie},Xe.y=function(Qe){return arguments.length?(fe=Qe,Xe):fe},Xe.defined=function(Qe){return arguments.length?(Me=Qe,Xe):Me},Xe.interpolate=function(Qe){return arguments.length?(Fe="function"==typeof Qe?Ce=Qe:(Ce=ea.get(Qe)||$i).key,Xe):Fe},Xe.tension=function(Qe){return arguments.length?($e=Qe,Xe):$e},Xe}f.svg.line=function(){return ul(z)};var ea=f.map({linear:$i,"linear-closed":fl,step:function(H){for(var ie=0,fe=H.length,Me=H[0],Ce=[Me[0],",",Me[1]];++ie<fe;)Ce.push("H",(Me[0]+(Me=H[ie])[0])/2,"V",Me[1]);return fe>1&&Ce.push("H",Me[0]),Ce.join("")},"step-before":xs,"step-after":Go,basis:es,"basis-open":function(H){if(H.length<4)return $i(H);for(var ie,fe=[],Me=-1,Ce=H.length,Fe=[0],$e=[0];++Me<3;)Fe.push((ie=H[Me])[0]),$e.push(ie[1]);for(fe.push(ca(Fo,Fe)+","+ca(Fo,$e)),--Me;++Me<Ce;)ie=H[Me],Fe.shift(),Fe.push(ie[0]),$e.shift(),$e.push(ie[1]),io(fe,Fe,$e);return fe.join("")},"basis-closed":function(H){for(var ie,fe,Me=-1,Ce=H.length,Fe=Ce+4,$e=[],Xe=[];++Me<4;)$e.push((fe=H[Me%Ce])[0]),Xe.push(fe[1]);for(ie=[ca(Fo,$e),",",ca(Fo,Xe)],--Me;++Me<Fe;)fe=H[Me%Ce],$e.shift(),$e.push(fe[0]),Xe.shift(),Xe.push(fe[1]),io(ie,$e,Xe);return ie.join("")},bundle:function(H,ie){var fe=H.length-1;if(fe)for(var Me,Ce,Fe=H[0][0],$e=H[0][1],Xe=H[fe][0]-Fe,Qe=H[fe][1]-$e,nt=-1;++nt<=fe;)(Me=H[nt])[0]=ie*Me[0]+(1-ie)*(Fe+(Ce=nt/fe)*Xe),Me[1]=ie*Me[1]+(1-ie)*($e+Ce*Qe);return es(H)},cardinal:function(H,ie){return H.length<3?$i(H):H[0]+Si(H,Hl(H,ie))},"cardinal-open":function(H,ie){return H.length<4?$i(H):H[1]+Si(H.slice(1,-1),Hl(H,ie))},"cardinal-closed":function(H,ie){return H.length<3?fl(H):H[0]+Si((H.push(H[0]),H),Hl([H[H.length-2]].concat(H,[H[1]]),ie))},monotone:function(H){return H.length<3?$i(H):H[0]+Si(H,function(ie){for(var fe,Me,Ce,Fe,$e=[],Xe=function(lt){for(var _t=0,At=lt.length-1,jt=[],Ht=lt[0],zt=lt[1],Xt=jt[0]=bs(Ht,zt);++_t<At;)jt[_t]=(Xt+(Xt=bs(Ht=zt,zt=lt[_t+1])))/2;return jt[_t]=Xt,jt}(ie),Qe=-1,nt=ie.length-1;++Qe<nt;)fe=bs(ie[Qe],ie[Qe+1]),w(fe)<Et?Xe[Qe]=Xe[Qe+1]=0:(Fe=(Me=Xe[Qe]/fe)*Me+(Ce=Xe[Qe+1]/fe)*Ce)>9&&(Fe=3*fe/Math.sqrt(Fe),Xe[Qe]=Fe*Me,Xe[Qe+1]=Fe*Ce);for(Qe=-1;++Qe<=nt;)Fe=(ie[Math.min(nt,Qe+1)][0]-ie[Math.max(0,Qe-1)][0])/(6*(1+Xe[Qe]*Xe[Qe])),$e.push([Fe||0,Xe[Qe]*Fe||0]);return $e}(H))}});function $i(H){return H.length>1?H.join("L"):H+"Z"}function fl(H){return H.join("L")+"Z"}function xs(H){for(var ie=0,fe=H.length,Me=H[0],Ce=[Me[0],",",Me[1]];++ie<fe;)Ce.push("V",(Me=H[ie])[1],"H",Me[0]);return Ce.join("")}function Go(H){for(var ie=0,fe=H.length,Me=H[0],Ce=[Me[0],",",Me[1]];++ie<fe;)Ce.push("H",(Me=H[ie])[0],"V",Me[1]);return Ce.join("")}function Si(H,ie){if(ie.length<1||H.length!=ie.length&&H.length!=ie.length+2)return $i(H);var fe=H.length!=ie.length,Me="",Ce=H[0],Fe=H[1],$e=ie[0],Xe=$e,Qe=1;if(fe&&(Me+="Q"+(Fe[0]-2*$e[0]/3)+","+(Fe[1]-2*$e[1]/3)+","+Fe[0]+","+Fe[1],Ce=H[1],Qe=2),ie.length>1){Fe=H[Qe],Qe++,Me+="C"+(Ce[0]+$e[0])+","+(Ce[1]+$e[1])+","+(Fe[0]-(Xe=ie[1])[0])+","+(Fe[1]-Xe[1])+","+Fe[0]+","+Fe[1];for(var nt=2;nt<ie.length;nt++,Qe++)Me+="S"+((Fe=H[Qe])[0]-(Xe=ie[nt])[0])+","+(Fe[1]-Xe[1])+","+Fe[0]+","+Fe[1]}if(fe){var lt=H[Qe];Me+="Q"+(Fe[0]+2*Xe[0]/3)+","+(Fe[1]+2*Xe[1]/3)+","+lt[0]+","+lt[1]}return Me}function Hl(H,ie){for(var fe,Me=[],Ce=(1-ie)/2,Fe=H[0],$e=H[1],Xe=1,Qe=H.length;++Xe<Qe;)fe=Fe,Fe=$e,Me.push([Ce*(($e=H[Xe])[0]-fe[0]),Ce*($e[1]-fe[1])]);return Me}function es(H){if(H.length<3)return $i(H);var ie=1,fe=H.length,Me=H[0],Ce=Me[0],Fe=Me[1],$e=[Ce,Ce,Ce,(Me=H[1])[0]],Xe=[Fe,Fe,Fe,Me[1]],Qe=[Ce,",",Fe,"L",ca(Fo,$e),",",ca(Fo,Xe)];for(H.push(H[fe-1]);++ie<=fe;)Me=H[ie],$e.shift(),$e.push(Me[0]),Xe.shift(),Xe.push(Me[1]),io(Qe,$e,Xe);return H.pop(),Qe.push("L",Me),Qe.join("")}function ca(H,ie){return H[0]*ie[0]+H[1]*ie[1]+H[2]*ie[2]+H[3]*ie[3]}ea.forEach(function(H,ie){ie.key=H,ie.closed=/-closed$/.test(H)});var dl=[0,2/3,1/3,0],xu=[0,1/3,2/3,0],Fo=[0,1/6,2/3,1/6];function io(H,ie,fe){H.push("C",ca(dl,ie),",",ca(dl,fe),",",ca(xu,ie),",",ca(xu,fe),",",ca(Fo,ie),",",ca(Fo,fe))}function bs(H,ie){return(ie[1]-H[1])/(ie[0]-H[0])}function hl(H){for(var ie,fe,Me,Ce=-1,Fe=H.length;++Ce<Fe;)fe=(ie=H[Ce])[0],Me=ie[1]-rt,ie[0]=fe*Math.cos(Me),ie[1]=fe*Math.sin(Me);return H}function Ks(H){var ie=fr,fe=fr,Me=0,Ce=bn,Fe=fo,$e=$i,Xe=$e.key,Qe=$e,nt="L",lt=.7;function _t(At){var jt,Ht,zt,Xt=[],Vt=[],mn=[],sn=-1,tn=At.length,On=Yn(ie),In=Yn(Me),rr=ie===fe?function(){return Ht}:Yn(fe),Xn=Me===Ce?function(){return zt}:Yn(Ce);function ur(){Xt.push("M",$e(H(mn),lt),nt,Qe(H(Vt.reverse()),lt),"Z")}for(;++sn<tn;)Fe.call(this,jt=At[sn],sn)?(Vt.push([Ht=+On.call(this,jt,sn),zt=+In.call(this,jt,sn)]),mn.push([+rr.call(this,jt,sn),+Xn.call(this,jt,sn)])):Vt.length&&(ur(),Vt=[],mn=[]);return Vt.length&&ur(),Xt.length?Xt.join(""):null}return _t.x=function(At){return arguments.length?(ie=fe=At,_t):fe},_t.x0=function(At){return arguments.length?(ie=At,_t):ie},_t.x1=function(At){return arguments.length?(fe=At,_t):fe},_t.y=function(At){return arguments.length?(Me=Ce=At,_t):Ce},_t.y0=function(At){return arguments.length?(Me=At,_t):Me},_t.y1=function(At){return arguments.length?(Ce=At,_t):Ce},_t.defined=function(At){return arguments.length?(Fe=At,_t):Fe},_t.interpolate=function(At){return arguments.length?(Xe="function"==typeof At?$e=At:($e=ea.get(At)||$i).key,Qe=$e.reverse||$e,nt=$e.closed?"M":"L",_t):Xe},_t.tension=function(At){return arguments.length?(lt=At,_t):lt},_t}function bu(H){return H.source}function Gl(H){return H.target}function fc(H){return H.radius}function ua(H){return[H.x,H.y]}function Sa(){return 64}function ti(){return"circle"}function ni(H){var ie=Math.sqrt(H/Rt);return"M0,"+ie+"A"+ie+","+ie+" 0 1,1 0,"+-ie+"A"+ie+","+ie+" 0 1,1 0,"+ie+"Z"}f.svg.line.radial=function(){var H=ul(hl);return H.radius=H.x,delete H.x,H.angle=H.y,delete H.y,H},xs.reverse=Go,Go.reverse=xs,f.svg.area=function(){return Ks(z)},f.svg.area.radial=function(){var H=Ks(hl);return H.radius=H.x,delete H.x,H.innerRadius=H.x0,delete H.x0,H.outerRadius=H.x1,delete H.x1,H.angle=H.y,delete H.y,H.startAngle=H.y0,delete H.y0,H.endAngle=H.y1,delete H.y1,H},f.svg.chord=function(){var H=bu,ie=Gl,fe=fc,Me=Ul,Ce=Qa;function Fe(nt,lt){var _t,At,jt=$e(this,H,nt,lt),Ht=$e(this,ie,nt,lt);return"M"+jt.p0+Xe(jt.r,jt.p1,jt.a1-jt.a0)+((_t=jt).a0==(At=Ht).a0&&_t.a1==At.a1?Qe(0,0,0,jt.p0):Qe(0,0,0,Ht.p0)+Xe(Ht.r,Ht.p1,Ht.a1-Ht.a0)+Qe(0,0,0,jt.p0))+"Z"}function $e(nt,lt,_t,At){var jt=lt.call(nt,_t,At),Ht=fe.call(nt,jt,At),zt=Me.call(nt,jt,At)-rt,Xt=Ce.call(nt,jt,At)-rt;return{r:Ht,a0:zt,a1:Xt,p0:[Ht*Math.cos(zt),Ht*Math.sin(zt)],p1:[Ht*Math.cos(Xt),Ht*Math.sin(Xt)]}}function Xe(nt,lt,_t){return"A"+nt+","+nt+" 0 "+ +(_t>Rt)+",1 "+lt}function Qe(nt,lt,_t,At){return"Q 0,0 "+At}return Fe.radius=function(nt){return arguments.length?(fe=Yn(nt),Fe):fe},Fe.source=function(nt){return arguments.length?(H=Yn(nt),Fe):H},Fe.target=function(nt){return arguments.length?(ie=Yn(nt),Fe):ie},Fe.startAngle=function(nt){return arguments.length?(Me=Yn(nt),Fe):Me},Fe.endAngle=function(nt){return arguments.length?(Ce=Yn(nt),Fe):Ce},Fe},f.svg.diagonal=function(){var H=bu,ie=Gl,fe=ua;function Me(Ce,Fe){var $e=H.call(this,Ce,Fe),Xe=ie.call(this,Ce,Fe),Qe=($e.y+Xe.y)/2,nt=[$e,{x:$e.x,y:Qe},{x:Xe.x,y:Qe},Xe];return"M"+(nt=nt.map(fe))[0]+"C"+nt[1]+" "+nt[2]+" "+nt[3]}return Me.source=function(Ce){return arguments.length?(H=Yn(Ce),Me):H},Me.target=function(Ce){return arguments.length?(ie=Yn(Ce),Me):ie},Me.projection=function(Ce){return arguments.length?(fe=Ce,Me):fe},Me},f.svg.diagonal.radial=function(){var H=f.svg.diagonal(),ie=ua,fe=H.projection;return H.projection=function(Me){return arguments.length?fe((Ce=ie=Me,function(){var Fe=Ce.apply(this,arguments),$e=Fe[0],Xe=Fe[1]-rt;return[$e*Math.cos(Xe),$e*Math.sin(Xe)]})):ie;var Ce},H},f.svg.symbol=function(){var H=ti,ie=Sa;function fe(Me,Ce){return(Dc.get(H.call(this,Me,Ce))||ni)(ie.call(this,Me,Ce))}return fe.type=function(Me){return arguments.length?(H=Yn(Me),fe):H},fe.size=function(Me){return arguments.length?(ie=Yn(Me),fe):ie},fe};var Dc=f.map({circle:ni,cross:function(H){var ie=Math.sqrt(H/5)/2;return"M"+-3*ie+","+-ie+"H"+-ie+"V"+-3*ie+"H"+ie+"V"+-ie+"H"+3*ie+"V"+ie+"H"+ie+"V"+3*ie+"H"+-ie+"V"+ie+"H"+-3*ie+"Z"},diamond:function(H){var ie=Math.sqrt(H/(2*pl)),fe=ie*pl;return"M0,"+-ie+"L"+fe+",0 0,"+ie+" "+-fe+",0Z"},square:function(H){var ie=Math.sqrt(H)/2;return"M"+-ie+","+-ie+"L"+ie+","+-ie+" "+ie+","+ie+" "+-ie+","+ie+"Z"},"triangle-down":function(H){var ie=Math.sqrt(H/ka),fe=ie*ka/2;return"M0,"+fe+"L"+ie+","+-fe+" "+-ie+","+-fe+"Z"},"triangle-up":function(H){var ie=Math.sqrt(H/ka),fe=ie*ka/2;return"M0,"+-fe+"L"+ie+","+fe+" "+-ie+","+fe+"Z"}});f.svg.symbolTypes=Dc.keys();var ka=Math.sqrt(3),pl=Math.tan(30*ot);xe.transition=function(H){for(var ie,fe,Me=ts||++qo,Ce=ql(H),Fe=[],$e=ml||{time:Date.now(),ease:za,delay:0,duration:250},Xe=-1,Qe=this.length;++Xe<Qe;){Fe.push(ie=[]);for(var nt=this[Xe],lt=-1,_t=nt.length;++lt<_t;)(fe=nt[lt])&&dc(fe,lt,Ce,Me,$e),ie.push(fe)}return Ca(Fe,Ce,Me)},xe.interrupt=function(H){return this.each(null==H?Ea:Oc(ql(H)))};var Ea=Oc(ql());function Oc(H){return function(){var ie,fe,Me;(ie=this[H])&&(Me=ie[fe=ie.active])&&(Me.timer.c=null,Me.timer.t=NaN,--ie.count?delete ie[fe]:delete this[H],ie.active+=.5,Me.event&&Me.event.interrupt.call(this,this.__data__,Me.index))}}function Ca(H,ie,fe){return ae(H,si),H.namespace=ie,H.id=fe,H}var ts,ml,si=[],qo=0;function Ls(H,ie,fe,Me){var Ce=H.id,Fe=H.namespace;return Ie(H,"function"==typeof fe?function($e,Xe,Qe){$e[Fe][Ce].tween.set(ie,Me(fe.call($e,$e.__data__,Xe,Qe)))}:(fe=Me(fe),function($e){$e[Fe][Ce].tween.set(ie,fe)}))}function ns(H){return null==H&&(H=""),function(){this.textContent=H}}function ql(H){return null==H?"__transition__":"__transition_"+H+"__"}function dc(H,ie,fe,Me,Ce){var Fe,$e,Xe,Qe,nt,lt=H[fe]||(H[fe]={active:0,count:0}),_t=lt[Me];function At(Ht){var zt=lt.active,Xt=lt[zt];for(var Vt in Xt&&(Xt.timer.c=null,Xt.timer.t=NaN,--lt.count,delete lt[zt],Xt.event&&Xt.event.interrupt.call(H,H.__data__,Xt.index)),lt)if(+Vt<Me){var mn=lt[Vt];mn.timer.c=null,mn.timer.t=NaN,--lt.count,delete lt[Vt]}$e.c=jt,on(function(){return $e.c&&jt(Ht||1)&&($e.c=null,$e.t=NaN),1},0,Fe),lt.active=Me,_t.event&&_t.event.start.call(H,H.__data__,ie),nt=[],_t.tween.forEach(function(sn,tn){(tn=tn.call(H,H.__data__,ie))&&nt.push(tn)}),Qe=_t.ease,Xe=_t.duration}function jt(Ht){for(var zt=Ht/Xe,Xt=Qe(zt),Vt=nt.length;Vt>0;)nt[--Vt].call(H,Xt);if(zt>=1)return _t.event&&_t.event.end.call(H,H.__data__,ie),--lt.count?delete lt[Me]:delete H[fe],1}_t||($e=on(function(Ht){var zt=_t.delay;if($e.t=zt+Fe,zt<=Ht)return At(Ht-zt);$e.c=At},0,Fe=Ce.time),_t=lt[Me]={tween:new b,time:Fe,timer:$e,delay:Ce.delay,duration:Ce.duration,ease:Ce.ease,index:ie},Ce=null,++lt.count)}si.call=xe.call,si.empty=xe.empty,si.node=xe.node,si.size=xe.size,f.transition=function(H,ie){return H&&H.transition?ts?H.transition(ie):H:f.selection().transition(H)},f.transition.prototype=si,si.select=function(H){var ie,fe,Me,Ce=this.id,Fe=this.namespace,$e=[];H=Se(H);for(var Xe=-1,Qe=this.length;++Xe<Qe;){$e.push(ie=[]);for(var nt=this[Xe],lt=-1,_t=nt.length;++lt<_t;)(Me=nt[lt])&&(fe=H.call(Me,Me.__data__,lt,Xe))?("__data__"in Me&&(fe.__data__=Me.__data__),dc(fe,lt,Fe,Ce,Me[Fe][Ce]),ie.push(fe)):ie.push(null)}return Ca($e,Fe,Ce)},si.selectAll=function(H){var ie,fe,Me,Ce,Fe,$e=this.id,Xe=this.namespace,Qe=[];H=Te(H);for(var nt=-1,lt=this.length;++nt<lt;)for(var _t=this[nt],At=-1,jt=_t.length;++At<jt;)if(Me=_t[At]){Fe=Me[Xe][$e],fe=H.call(Me,Me.__data__,At,nt),Qe.push(ie=[]);for(var Ht=-1,zt=fe.length;++Ht<zt;)(Ce=fe[Ht])&&dc(Ce,Ht,Xe,$e,Fe),ie.push(Ce)}return Ca(Qe,Xe,$e)},si.filter=function(H){var ie,fe,Me=[];"function"!=typeof H&&(H=_e(H));for(var Ce=0,Fe=this.length;Ce<Fe;Ce++){Me.push(ie=[]);for(var $e,Xe=0,Qe=($e=this[Ce]).length;Xe<Qe;Xe++)(fe=$e[Xe])&&H.call(fe,fe.__data__,Xe,Ce)&&ie.push(fe)}return Ca(Me,this.namespace,this.id)},si.tween=function(H,ie){var fe=this.id,Me=this.namespace;return arguments.length<2?this.node()[Me][fe].tween.get(H):Ie(this,null==ie?function(Ce){Ce[Me][fe].tween.remove(H)}:function(Ce){Ce[Me][fe].tween.set(H,ie)})},si.attr=function(H,ie){if(arguments.length<2){for(ie in H)this.attr(ie,H[ie]);return this}var fe="transform"==H?Ba:Ja,Me=f.ns.qualify(H);function Ce(){this.removeAttribute(Me)}function Fe(){this.removeAttributeNS(Me.space,Me.local)}return Ls(this,"attr."+H,ie,Me.local?function($e){return null==$e?Fe:($e+="",function(){var Xe,Qe=this.getAttributeNS(Me.space,Me.local);return Qe!==$e&&(Xe=fe(Qe,$e),function(nt){this.setAttributeNS(Me.space,Me.local,Xe(nt))})})}:function($e){return null==$e?Ce:($e+="",function(){var Xe,Qe=this.getAttribute(Me);return Qe!==$e&&(Xe=fe(Qe,$e),function(nt){this.setAttribute(Me,Xe(nt))})})})},si.attrTween=function(H,ie){var fe=f.ns.qualify(H);return this.tween("attr."+H,fe.local?function(Me,Ce){var Fe=ie.call(this,Me,Ce,this.getAttributeNS(fe.space,fe.local));return Fe&&function($e){this.setAttributeNS(fe.space,fe.local,Fe($e))}}:function(Me,Ce){var Fe=ie.call(this,Me,Ce,this.getAttribute(fe));return Fe&&function($e){this.setAttribute(fe,Fe($e))}})},si.style=function(H,ie,fe){var Me=arguments.length;if(Me<3){if("string"!=typeof H){for(fe in Me<2&&(ie=""),H)this.style(fe,H[fe],ie);return this}fe=""}function Ce(){this.style.removeProperty(H)}return Ls(this,"style."+H,ie,function(Fe){return null==Fe?Ce:(Fe+="",function(){var $e,Xe=i(this).getComputedStyle(this,null).getPropertyValue(H);return Xe!==Fe&&($e=Ja(Xe,Fe),function(Qe){this.style.setProperty(H,$e(Qe),fe)})})})},si.styleTween=function(H,ie,fe){return arguments.length<3&&(fe=""),this.tween("style."+H,function(Me,Ce){var Fe=ie.call(this,Me,Ce,i(this).getComputedStyle(this,null).getPropertyValue(H));return Fe&&function($e){this.style.setProperty(H,Fe($e),fe)}})},si.text=function(H){return Ls(this,"text",H,ns)},si.remove=function(){var H=this.namespace;return this.each("end.transition",function(){var ie;this[H].count<2&&(ie=this.parentNode)&&ie.removeChild(this)})},si.ease=function(H){var ie=this.id,fe=this.namespace;return arguments.length<1?this.node()[fe][ie].ease:("function"!=typeof H&&(H=f.ease.apply(f,arguments)),Ie(this,function(Me){Me[fe][ie].ease=H}))},si.delay=function(H){var ie=this.id,fe=this.namespace;return arguments.length<1?this.node()[fe][ie].delay:Ie(this,"function"==typeof H?function(Me,Ce,Fe){Me[fe][ie].delay=+H.call(Me,Me.__data__,Ce,Fe)}:(H=+H,function(Me){Me[fe][ie].delay=H}))},si.duration=function(H){var ie=this.id,fe=this.namespace;return arguments.length<1?this.node()[fe][ie].duration:Ie(this,"function"==typeof H?function(Me,Ce,Fe){Me[fe][ie].duration=Math.max(1,H.call(Me,Me.__data__,Ce,Fe))}:(H=Math.max(1,H),function(Me){Me[fe][ie].duration=H}))},si.each=function(H,ie){var fe=this.id,Me=this.namespace;if(arguments.length<2){var Ce=ml,Fe=ts;try{ts=fe,Ie(this,function($e,Xe,Qe){ml=$e[Me][fe],H.call($e,$e.__data__,Xe,Qe)})}finally{ml=Ce,ts=Fe}}else Ie(this,function($e){var Xe=$e[Me][fe];(Xe.event||(Xe.event=f.dispatch("start","end","interrupt"))).on(H,ie)});return this},si.transition=function(){for(var H,ie,fe,Me=this.id,Ce=++qo,Fe=this.namespace,$e=[],Xe=0,Qe=this.length;Xe<Qe;Xe++){$e.push(H=[]);for(var nt,lt=0,_t=(nt=this[Xe]).length;lt<_t;lt++)(ie=nt[lt])&&dc(ie,lt,Fe,Ce,{time:(fe=ie[Fe][Me]).time,ease:fe.ease,delay:fe.delay+fe.duration,duration:fe.duration}),H.push(ie)}return Ca($e,Fe,Ce)},f.svg.axis=function(){var H,ie=f.scale.linear(),fe=hc,Me=6,Ce=6,Fe=3,$e=[10],Xe=null;function Qe(nt){nt.each(function(){var lt,_t=f.select(this),At=this.__chart__||ie,jt=this.__chart__=ie.copy(),Ht=Xe??(jt.ticks?jt.ticks.apply(jt,$e):jt.domain()),zt=H??(jt.tickFormat?jt.tickFormat.apply(jt,$e):z),Xt=_t.selectAll(".tick").data(Ht,jt),Vt=Xt.enter().insert("g",".domain").attr("class","tick").style("opacity",Et),mn=f.transition(Xt.exit()).style("opacity",Et).remove(),sn=f.transition(Xt.order()).style("opacity",1),tn=Math.max(Me,0)+Fe,On=mo(jt),In=_t.selectAll(".domain").data([0]),rr=(In.enter().append("path").attr("class","domain"),f.transition(In));Vt.append("line"),Vt.append("text");var Xn,ur,yr,wr,Er=Vt.select("line"),Ir=sn.select("line"),Rr=Xt.select("text").text(zt),ai=Vt.select("text"),ar=sn.select("text"),Mr="top"===fe||"left"===fe?-1:1;if("bottom"===fe||"top"===fe?(lt=V,Xn="x",yr="y",ur="x2",wr="y2",Rr.attr("dy",Mr<0?"0em":".71em").style("text-anchor","middle"),rr.attr("d","M"+On[0]+","+Mr*Ce+"V0H"+On[1]+"V"+Mr*Ce)):(lt=$,Xn="y",yr="x",ur="y2",wr="x2",Rr.attr("dy",".32em").style("text-anchor",Mr<0?"end":"start"),rr.attr("d","M"+Mr*Ce+","+On[0]+"H0V"+On[1]+"H"+Mr*Ce)),Er.attr(wr,Mr*Me),ai.attr(yr,Mr*tn),Ir.attr(ur,0).attr(wr,Mr*Me),ar.attr(Xn,0).attr(yr,Mr*tn),jt.rangeBand){var Or=jt,qr=Or.rangeBand()/2;At=jt=function(ri){return Or(ri)+qr}}else At.rangeBand?At=jt:mn.call(lt,jt,At);Vt.call(lt,At,jt),sn.call(lt,jt,jt)})}return Qe.scale=function(nt){return arguments.length?(ie=nt,Qe):ie},Qe.orient=function(nt){return arguments.length?(fe=nt in vl?nt+"":hc,Qe):fe},Qe.ticks=function(){return arguments.length?($e=M(arguments),Qe):$e},Qe.tickValues=function(nt){return arguments.length?(Xe=nt,Qe):Xe},Qe.tickFormat=function(nt){return arguments.length?(H=nt,Qe):H},Qe.tickSize=function(nt){var lt=arguments.length;return lt?(Me=+nt,Ce=+arguments[lt-1],Qe):Me},Qe.innerTickSize=function(nt){return arguments.length?(Me=+nt,Qe):Me},Qe.outerTickSize=function(nt){return arguments.length?(Ce=+nt,Qe):Ce},Qe.tickPadding=function(nt){return arguments.length?(Fe=+nt,Qe):Fe},Qe.tickSubdivide=function(){return arguments.length&&Qe},Qe};var hc="bottom",vl={top:1,right:1,bottom:1,left:1};function V(H,ie,fe){H.attr("transform",function(Me){var Ce=ie(Me);return"translate("+(isFinite(Ce)?Ce:fe(Me))+",0)"})}function $(H,ie,fe){H.attr("transform",function(Me){var Ce=ie(Me);return"translate(0,"+(isFinite(Ce)?Ce:fe(Me))+")"})}f.svg.brush=function(){var H,ie,fe=K(lt,"brushstart","brush","brushend"),Me=null,Ce=null,Fe=[0,0],$e=[0,0],Xe=!0,Qe=!0,nt=te[0];function lt(zt){zt.each(function(){var Xt=f.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",Ht).on("touchstart.brush",Ht),Vt=Xt.selectAll(".background").data([0]);Vt.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),Xt.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var mn=Xt.selectAll(".resize").data(nt,z);mn.exit().remove(),mn.enter().append("g").attr("class",function(In){return"resize "+In}).style("cursor",function(In){return W[In]}).append("rect").attr("x",function(In){return/[ew]$/.test(In)?-3:null}).attr("y",function(In){return/^[ns]/.test(In)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),mn.style("display",lt.empty()?"none":null);var sn,tn=f.transition(Xt),On=f.transition(Vt);Me&&(sn=mo(Me),On.attr("x",sn[0]).attr("width",sn[1]-sn[0]),At(tn)),Ce&&(sn=mo(Ce),On.attr("y",sn[0]).attr("height",sn[1]-sn[0]),jt(tn)),_t(tn)})}function _t(zt){zt.selectAll(".resize").attr("transform",function(Xt){return"translate("+Fe[+/e$/.test(Xt)]+","+$e[+/^s/.test(Xt)]+")"})}function At(zt){zt.select(".extent").attr("x",Fe[0]),zt.selectAll(".extent,.n>rect,.s>rect").attr("width",Fe[1]-Fe[0])}function jt(zt){zt.select(".extent").attr("y",$e[0]),zt.selectAll(".extent,.e>rect,.w>rect").attr("height",$e[1]-$e[0])}function Ht(){var zt,Xt,Vt=this,mn=f.select(f.event.target),sn=fe.of(Vt,arguments),tn=f.select(Vt),On=mn.datum(),In=!/^(n|s)$/.test(On)&&Me,rr=!/^(e|w)$/.test(On)&&Ce,Xn=mn.classed("extent"),ur=kt(Vt),yr=f.mouse(Vt),wr=f.select(i(Vt)).on("keydown.brush",function(){32==f.event.keyCode&&(Xn||(zt=null,yr[0]-=Fe[1],yr[1]-=$e[1],Xn=2),re())}).on("keyup.brush",function(){32==f.event.keyCode&&2==Xn&&(yr[0]+=Fe[1],yr[1]+=$e[1],Xn=0,re())});if(f.event.changedTouches?wr.on("touchmove.brush",Rr).on("touchend.brush",ar):wr.on("mousemove.brush",Rr).on("mouseup.brush",ar),tn.interrupt().selectAll("*").interrupt(),Xn)yr[0]=Fe[0]-yr[0],yr[1]=$e[0]-yr[1];else if(On){var Er=+/w$/.test(On),Ir=+/^n/.test(On);Xt=[Fe[1-Er]-yr[0],$e[1-Ir]-yr[1]],yr[0]=Fe[Er],yr[1]=$e[Ir]}else f.event.altKey&&(zt=yr.slice());function Rr(){var Mr=f.mouse(Vt),Or=!1;Xt&&(Mr[0]+=Xt[0],Mr[1]+=Xt[1]),Xn||(f.event.altKey?(zt||(zt=[(Fe[0]+Fe[1])/2,($e[0]+$e[1])/2]),yr[0]=Fe[+(Mr[0]<zt[0])],yr[1]=$e[+(Mr[1]<zt[1])]):zt=null),In&&ai(Mr,Me,0)&&(At(tn),Or=!0),rr&&ai(Mr,Ce,1)&&(jt(tn),Or=!0),Or&&(_t(tn),sn({type:"brush",mode:Xn?"move":"resize"}))}function ai(Mr,Or,qr){var ri,gi,Ti=mo(Or),Yi=Ti[0],vo=Ti[1],ho=yr[qr],Zi=qr?$e:Fe,Do=Zi[1]-Zi[0];if(Xn&&(Yi-=ho,vo-=Do+ho),ri=(qr?Qe:Xe)?Math.max(Yi,Math.min(vo,Mr[qr])):Mr[qr],Xn?gi=(ri+=ho)+Do:(zt&&(ho=Math.max(Yi,Math.min(vo,2*zt[qr]-ri))),ho<ri?(gi=ri,ri=ho):gi=ho),Zi[0]!=ri||Zi[1]!=gi)return qr?ie=null:H=null,Zi[0]=ri,Zi[1]=gi,!0}function ar(){Rr(),tn.style("pointer-events","all").selectAll(".resize").style("display",lt.empty()?"none":null),f.select("body").style("cursor",null),wr.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),ur(),sn({type:"brushend"})}tn.style("pointer-events","none").selectAll(".resize").style("display",null),f.select("body").style("cursor",mn.style("cursor")),sn({type:"brushstart"}),Rr()}return lt.event=function(zt){zt.each(function(){var Xt=fe.of(this,arguments),Vt={x:Fe,y:$e,i:H,j:ie},mn=this.__chart__||Vt;this.__chart__=Vt,ts?f.select(this).transition().each("start.brush",function(){H=mn.i,ie=mn.j,Fe=mn.x,$e=mn.y,Xt({type:"brushstart"})}).tween("brush:brush",function(){var sn=No(Fe,Vt.x),tn=No($e,Vt.y);return H=ie=null,function(On){Fe=Vt.x=sn(On),$e=Vt.y=tn(On),Xt({type:"brush",mode:"resize"})}}).each("end.brush",function(){H=Vt.i,ie=Vt.j,Xt({type:"brush",mode:"resize"}),Xt({type:"brushend"})}):(Xt({type:"brushstart"}),Xt({type:"brush",mode:"resize"}),Xt({type:"brushend"}))})},lt.x=function(zt){return arguments.length?(nt=te[!(Me=zt)<<1|!Ce],lt):Me},lt.y=function(zt){return arguments.length?(nt=te[!Me<<1|!(Ce=zt)],lt):Ce},lt.clamp=function(zt){return arguments.length?(Me&&Ce?(Xe=!!zt[0],Qe=!!zt[1]):Me?Xe=!!zt:Ce&&(Qe=!!zt),lt):Me&&Ce?[Xe,Qe]:Me?Xe:Ce?Qe:null},lt.extent=function(zt){var Xt,Vt,mn,sn,tn;return arguments.length?(Me&&(Xt=zt[0],Vt=zt[1],Ce&&(Xt=Xt[0],Vt=Vt[0]),H=[Xt,Vt],Me.invert&&(Xt=Me(Xt),Vt=Me(Vt)),Vt<Xt&&(tn=Xt,Xt=Vt,Vt=tn),Xt==Fe[0]&&Vt==Fe[1]||(Fe=[Xt,Vt])),Ce&&(mn=zt[0],sn=zt[1],Me&&(mn=mn[1],sn=sn[1]),ie=[mn,sn],Ce.invert&&(mn=Ce(mn),sn=Ce(sn)),sn<mn&&(tn=mn,mn=sn,sn=tn),mn==$e[0]&&sn==$e[1]||($e=[mn,sn])),lt):(Me&&(H?(Xt=H[0],Vt=H[1]):(Xt=Fe[0],Vt=Fe[1],Me.invert&&(Xt=Me.invert(Xt),Vt=Me.invert(Vt)),Vt<Xt&&(tn=Xt,Xt=Vt,Vt=tn))),Ce&&(ie?(mn=ie[0],sn=ie[1]):(mn=$e[0],sn=$e[1],Ce.invert&&(mn=Ce.invert(mn),sn=Ce.invert(sn)),sn<mn&&(tn=mn,mn=sn,sn=tn))),Me&&Ce?[[Xt,mn],[Vt,sn]]:Me?[Xt,Vt]:Ce&&[mn,sn])},lt.clear=function(){return lt.empty()||(Fe=[0,0],$e=[0,0],H=ie=null),lt},lt.empty=function(){return!!Me&&Fe[0]==Fe[1]||!!Ce&&$e[0]==$e[1]},f.rebind(lt,fe,"on")};var W={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},te=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];function be(H){return JSON.parse(H.responseText)}function Re(H){var ie=y.createRange();return ie.selectNode(y.body),ie.createContextualFragment(H.responseText)}f.text=_r(function(H){return H.responseText}),f.json=function(H,ie){return dr(H,"application/json",be,ie)},f.html=function(H,ie){return dr(H,"text/html",Re,ie)},f.xml=_r(function(H){return H.responseXML}),void 0===(E="function"==typeof(I=f)?I.call(j,r,j,oe):I)||(oe.exports=E)}).apply(self)},88294:function(oe,j,r){"use strict";oe.exports=r(62849)},62849:function(oe,j,r){"use strict";var I=r(91358),E=r(53435),f=r(18863),S=r(21527),M=r(71299),y=r(46775),u=r(30120),i=r(64941),s=r(90660),a=r(27084);function o(l,c){for(var h=c[0],v=c[1],p=1/(c[2]-h),T=1/(c[3]-v),_=new Array(l.length),g=0,w=l.length/2;g<w;g++)_[2*g]=E((l[2*g]-h)*p,0,1),_[2*g+1]=E((l[2*g+1]-v)*T,0,1);return _}oe.exports=function(l,c){c||(c={}),l=u(l,"float64"),c=M(c,{bounds:"range bounds dataBox databox",maxDepth:"depth maxDepth maxdepth level maxLevel maxlevel levels",dtype:"type dtype format out dst output destination"});var h=y(c.maxDepth,255),v=y(c.bounds,S(l,2));v[0]===v[2]&&v[2]++,v[1]===v[3]&&v[3]++;var p,T=o(l,v),_=l.length>>>1;c.dtype||(c.dtype="array"),"string"==typeof c.dtype?p=new(s(c.dtype))(_):c.dtype&&(p=c.dtype,Array.isArray(p)&&(p.length=_));for(var g=0;g<_;++g)p[g]=g;var w=[],x=[],b=[],A=[];!function B(J,z,Y,q,U,Z){if(!q.length)return null;var X=w[U]||(w[U]=[]),se=b[U]||(b[U]=[]),re=x[U]||(x[U]=[]),ee=X.length;if(++U>h||Z>1073741824){for(var K=0;K<q.length;K++)X.push(q[K]),se.push(Z),re.push(null,null,null,null);return ee}if(X.push(q[0]),se.push(Z),q.length<=1)return re.push(null,null,null,null),ee;for(var ne=.5*Y,ae=J+ne,ue=z+ne,he=[],pe=[],ge=[],xe=[],Se=1,Te=q.length;Se<Te;Se++){var ye=q[Se],ze=T[2*ye+1];T[2*ye]<ae?ze<ue?he.push(ye):pe.push(ye):ze<ue?ge.push(ye):xe.push(ye)}return re.push(B(J,z,ne,he,U,Z<<=2),B(J,ue,ne,pe,U,Z+1),B(ae,z,ne,ge,U,Z+2),B(ae,ue,ne,xe,U,Z+3)),ee}(0,0,1,p,0,1);for(var m=0,C=0;C<w.length;C++){var k=w[C];if(p.set)p.set(k,m);else for(var P=0,R=k.length;P<R;P++)p[P+m]=k[P];var L=m+w[C].length;A[C]=[m,L],m=L}return p.range=function(){for(var B,J=[],z=arguments.length;z--;)J[z]=arguments[z];if(i(J[J.length-1])){var Y=J.pop();J.length||null==Y.x&&null==Y.l&&null==Y.left||(J=[Y],B={}),B=M(Y,{level:"level maxLevel",d:"d diam diameter r radius px pxSize pixel pixelSize maxD size minSize",lod:"lod details ranges offsets"})}else B={};J.length||(J=v);var q,U=f.apply(void 0,J),Z=[Math.min(U.x,U.x+U.width),Math.min(U.y,U.y+U.height),Math.max(U.x,U.x+U.width),Math.max(U.y,U.y+U.height)],X=Z[0],se=Z[1],re=Z[2],ee=Z[3],K=o([X,se,re,ee],v),ne=K[0],ae=K[1],ue=K[2],he=K[3],pe=y(B.level,w.length);if(null!=B.d&&("number"==typeof B.d?q=[B.d,B.d]:B.d.length&&(q=B.d),pe=Math.min(Math.max(Math.ceil(-a(Math.abs(q[0])/(v[2]-v[0]))),Math.ceil(-a(Math.abs(q[1])/(v[3]-v[1])))),pe)),pe=Math.min(pe,w.length),B.lod)return function(xe,Se,Te,ye,we){for(var ze=[],ke=0;ke<we;ke++){var Ee=b[ke],me=A[ke][0],de=N(xe,Se,ke),ce=N(Te,ye,ke),Ae=I.ge(Ee,de),Ne=I.gt(Ee,ce,Ae,Ee.length-1);ze[ke]=[Ae+me,Ne+me]}return ze}(ne,ae,ue,he,pe);var ge=[];return function xe(Se,Te,ye,we,ze,ke){if(null!==ze&&null!==ke&&!(ne>Se+ye||ae>Te+ye||ue<Se||he<Te||we>=pe||ze===ke)){var Ee=w[we];void 0===ke&&(ke=Ee.length);for(var me=ze;me<ke;me++){var de=Ee[me],ce=l[2*de],Ae=l[2*de+1];ce>=X&&ce<=re&&Ae>=se&&Ae<=ee&&ge.push(de)}var Ne=x[we],De=Ne[4*ze+0],Ue=Ne[4*ze+1],Ye=Ne[4*ze+2],_e=Ne[4*ze+3],Pe=function(We,Ge){for(var Ke=null,tt=0;null===Ke;)if(Ke=We[4*Ge+tt],++tt>We.length)return null;return Ke}(Ne,ze+1),Ie=.5*ye,Be=we+1;xe(Se,Te,Ie,Be,De,Ue||Ye||_e||Pe),xe(Se,Te+Ie,Ie,Be,Ue,Ye||_e||Pe),xe(Se+Ie,Te,Ie,Be,Ye,_e||Pe),xe(Se+Ie,Te+Ie,Ie,Be,_e,Pe)}}(0,0,1,0,0,1),ge},p;function N(B,J,z){for(var Y=1,q=.5,U=.5,Z=.5,X=0;X<z;X++)Y<<=2,Y+=B<q?J<U?0:1:J<U?2:3,Z*=.5,q+=B<q?-Z:Z,U+=J<U?-Z:Z;return Y}}},30774:function(oe,j,r){"use strict";Object.defineProperty(j,"__esModule",{value:!0});var I=r(60302),E=6378137;function f(y){var u=0;if(y&&y.length>0){u+=Math.abs(S(y[0]));for(var i=1;i<y.length;i++)u-=Math.abs(S(y[i]))}return u}function S(y){var u,i,s,a,o,l,c=0,h=y.length;if(h>2){for(l=0;l<h;l++)l===h-2?(s=h-2,a=h-1,o=0):l===h-1?(s=h-1,a=0,o=1):(s=l,a=l+1,o=l+2),u=y[s],i=y[a],c+=(M(y[o][0])-M(u[0]))*Math.sin(M(i[1]));c=c*E*E/2}return c}function M(y){return y*Math.PI/180}j.default=function(y){return I.geomReduce(y,function(u,i){return u+function(s){var a,o=0;switch(s.type){case"Polygon":return f(s.coordinates);case"MultiPolygon":for(a=0;a<s.coordinates.length;a++)o+=f(s.coordinates[a]);return o;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0}return 0}(i)},0)}},23132:function(oe,j){"use strict";function r(l,c,h){void 0===h&&(h={});var v={type:"Feature"};return(0===h.id||h.id)&&(v.id=h.id),h.bbox&&(v.bbox=h.bbox),v.properties=c||{},v.geometry=l,v}function I(l,c,h){if(void 0===h&&(h={}),!l)throw new Error("coordinates is required");if(!Array.isArray(l))throw new Error("coordinates must be an Array");if(l.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!o(l[0])||!o(l[1]))throw new Error("coordinates must contain numbers");return r({type:"Point",coordinates:l},c,h)}function E(l,c,h){void 0===h&&(h={});for(var v=0,p=l;v<p.length;v++){var T=p[v];if(T.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var _=0;_<T[T.length-1].length;_++)if(T[T.length-1][_]!==T[0][_])throw new Error("First and last Position are not equivalent.")}return r({type:"Polygon",coordinates:l},c,h)}function f(l,c,h){if(void 0===h&&(h={}),l.length<2)throw new Error("coordinates must be an array of two or more positions");return r({type:"LineString",coordinates:l},c,h)}function S(l,c){void 0===c&&(c={});var h={type:"FeatureCollection"};return c.id&&(h.id=c.id),c.bbox&&(h.bbox=c.bbox),h.features=l,h}function M(l,c,h){return void 0===h&&(h={}),r({type:"MultiLineString",coordinates:l},c,h)}function y(l,c,h){return void 0===h&&(h={}),r({type:"MultiPoint",coordinates:l},c,h)}function u(l,c,h){return void 0===h&&(h={}),r({type:"MultiPolygon",coordinates:l},c,h)}function i(l,c){void 0===c&&(c="kilometers");var h=j.factors[c];if(!h)throw new Error(c+" units is invalid");return l*h}function s(l,c){void 0===c&&(c="kilometers");var h=j.factors[c];if(!h)throw new Error(c+" units is invalid");return l/h}function a(l){return l%(2*Math.PI)*180/Math.PI}function o(l){return!isNaN(l)&&null!==l&&!Array.isArray(l)}Object.defineProperty(j,"__esModule",{value:!0}),j.earthRadius=6371008.8,j.factors={centimeters:100*j.earthRadius,centimetres:100*j.earthRadius,degrees:j.earthRadius/111325,feet:3.28084*j.earthRadius,inches:39.37*j.earthRadius,kilometers:j.earthRadius/1e3,kilometres:j.earthRadius/1e3,meters:j.earthRadius,metres:j.earthRadius,miles:j.earthRadius/1609.344,millimeters:1e3*j.earthRadius,millimetres:1e3*j.earthRadius,nauticalmiles:j.earthRadius/1852,radians:1,yards:1.0936*j.earthRadius},j.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/j.earthRadius,yards:1.0936133},j.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},j.feature=r,j.geometry=function(l,c,h){switch(void 0===h&&(h={}),l){case"Point":return I(c).geometry;case"LineString":return f(c).geometry;case"Polygon":return E(c).geometry;case"MultiPoint":return y(c).geometry;case"MultiLineString":return M(c).geometry;case"MultiPolygon":return u(c).geometry;default:throw new Error(l+" is invalid")}},j.point=I,j.points=function(l,c,h){return void 0===h&&(h={}),S(l.map(function(v){return I(v,c)}),h)},j.polygon=E,j.polygons=function(l,c,h){return void 0===h&&(h={}),S(l.map(function(v){return E(v,c)}),h)},j.lineString=f,j.lineStrings=function(l,c,h){return void 0===h&&(h={}),S(l.map(function(v){return f(v,c)}),h)},j.featureCollection=S,j.multiLineString=M,j.multiPoint=y,j.multiPolygon=u,j.geometryCollection=function(l,c,h){return void 0===h&&(h={}),r({type:"GeometryCollection",geometries:l},c,h)},j.round=function(l,c){if(void 0===c&&(c=0),c&&!(c>=0))throw new Error("precision must be a positive number");var h=Math.pow(10,c||0);return Math.round(l*h)/h},j.radiansToLength=i,j.lengthToRadians=s,j.lengthToDegrees=function(l,c){return a(s(l,c))},j.bearingToAzimuth=function(l){var c=l%360;return c<0&&(c+=360),c},j.radiansToDegrees=a,j.degreesToRadians=function(l){return l%360*Math.PI/180},j.convertLength=function(l,c,h){if(void 0===c&&(c="kilometers"),void 0===h&&(h="kilometers"),!(l>=0))throw new Error("length must be a positive number");return i(s(l,c),h)},j.convertArea=function(l,c,h){if(void 0===c&&(c="meters"),void 0===h&&(h="kilometers"),!(l>=0))throw new Error("area must be a positive number");var v=j.areaFactors[c];if(!v)throw new Error("invalid original units");var p=j.areaFactors[h];if(!p)throw new Error("invalid final units");return l/v*p},j.isNumber=o,j.isObject=function(l){return!!l&&l.constructor===Object},j.validateBBox=function(l){if(!l)throw new Error("bbox is required");if(!Array.isArray(l))throw new Error("bbox must be an Array");if(4!==l.length&&6!==l.length)throw new Error("bbox must be an Array of 4 or 6 numbers");l.forEach(function(c){if(!o(c))throw new Error("bbox must only contain numbers")})},j.validateId=function(l){if(!l)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof l))throw new Error("id must be a number or a string")}},60302:function(oe,j,r){"use strict";Object.defineProperty(j,"__esModule",{value:!0});var I=r(23132);function E(s,a,o){if(null!==s)for(var l,c,h,v,p,T,_,g,w=0,x=0,b=s.type,A="FeatureCollection"===b,m="Feature"===b,C=A?s.features.length:1,k=0;k<C;k++){p=(g=!!(_=A?s.features[k].geometry:m?s.geometry:s)&&"GeometryCollection"===_.type)?_.geometries.length:1;for(var P=0;P<p;P++){var R=0,L=0;if(null!==(v=g?_.geometries[P]:_)){T=v.coordinates;var N=v.type;switch(w=!o||"Polygon"!==N&&"MultiPolygon"!==N?0:1,N){case null:break;case"Point":if(!1===a(T,x,k,R,L))return!1;x++,R++;break;case"LineString":case"MultiPoint":for(l=0;l<T.length;l++){if(!1===a(T[l],x,k,R,L))return!1;x++,"MultiPoint"===N&&R++}"LineString"===N&&R++;break;case"Polygon":case"MultiLineString":for(l=0;l<T.length;l++){for(c=0;c<T[l].length-w;c++){if(!1===a(T[l][c],x,k,R,L))return!1;x++}"MultiLineString"===N&&R++,"Polygon"===N&&L++}"Polygon"===N&&R++;break;case"MultiPolygon":for(l=0;l<T.length;l++){for(L=0,c=0;c<T[l].length;c++){for(h=0;h<T[l][c].length-w;h++){if(!1===a(T[l][c][h],x,k,R,L))return!1;x++}L++}R++}break;case"GeometryCollection":for(l=0;l<v.geometries.length;l++)if(!1===E(v.geometries[l],a,o))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function f(s,a){var o;switch(s.type){case"FeatureCollection":for(o=0;o<s.features.length&&!1!==a(s.features[o].properties,o);o++);break;case"Feature":a(s.properties,0)}}function S(s,a){if("Feature"===s.type)a(s,0);else if("FeatureCollection"===s.type)for(var o=0;o<s.features.length&&!1!==a(s.features[o],o);o++);}function M(s,a){var o,l,c,h,v,p,T,_,g,w,x=0,b="FeatureCollection"===s.type,A="Feature"===s.type,m=b?s.features.length:1;for(o=0;o<m;o++){for(_=b?s.features[o].properties:A?s.properties:{},g=b?s.features[o].bbox:A?s.bbox:void 0,w=b?s.features[o].id:A?s.id:void 0,v=(T=!!(p=b?s.features[o].geometry:A?s.geometry:s)&&"GeometryCollection"===p.type)?p.geometries.length:1,c=0;c<v;c++)if(null!==(h=T?p.geometries[c]:p))switch(h.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===a(h,x,_,g,w))return!1;break;case"GeometryCollection":for(l=0;l<h.geometries.length;l++)if(!1===a(h.geometries[l],x,_,g,w))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===a(null,x,_,g,w))return!1;x++}}function y(s,a){M(s,function(o,l,c,h,v){var p,T=null===o?null:o.type;switch(T){case null:case"Point":case"LineString":case"Polygon":return!1!==a(I.feature(o,c,{bbox:h,id:v}),l,0)&&void 0}switch(T){case"MultiPoint":p="Point";break;case"MultiLineString":p="LineString";break;case"MultiPolygon":p="Polygon"}for(var _=0;_<o.coordinates.length;_++)if(!1===a(I.feature({type:p,coordinates:o.coordinates[_]},c),l,_))return!1})}function u(s,a){y(s,function(o,l,c){var h=0;if(o.geometry){var v=o.geometry.type;if("Point"!==v&&"MultiPoint"!==v){var p,T=0,_=0,g=0;return!1!==E(o,function(w,x,b,A,m){if(void 0===p||l>T||A>_||m>g)return p=w,T=l,_=A,g=m,void(h=0);var C=I.lineString([p,w],o.properties);if(!1===a(C,l,c,m,h))return!1;h++,p=w})&&void 0}}})}function i(s,a){if(!s)throw new Error("geojson is required");y(s,function(o,l,c){if(null!==o.geometry){var v=o.geometry.coordinates;switch(o.geometry.type){case"LineString":if(!1===a(o,l,c,0,0))return!1;break;case"Polygon":for(var p=0;p<v.length;p++)if(!1===a(I.lineString(v[p],o.properties),l,c,p))return!1}}})}j.coordEach=E,j.coordReduce=function(s,a,o,l){var c=o;return E(s,function(h,v,p,T,_){c=0===v&&void 0===o?h:a(c,h,v,p,T,_)},l),c},j.propEach=f,j.propReduce=function(s,a,o){var l=o;return f(s,function(c,h){l=0===h&&void 0===o?c:a(l,c,h)}),l},j.featureEach=S,j.featureReduce=function(s,a,o){var l=o;return S(s,function(c,h){l=0===h&&void 0===o?c:a(l,c,h)}),l},j.coordAll=function(s){var a=[];return E(s,function(o){a.push(o)}),a},j.geomEach=M,j.geomReduce=function(s,a,o){var l=o;return M(s,function(c,h,v,p,T){l=0===h&&void 0===o?c:a(l,c,h,v,p,T)}),l},j.flattenEach=y,j.flattenReduce=function(s,a,o){var l=o;return y(s,function(c,h,v){l=0===h&&0===v&&void 0===o?c:a(l,c,h,v)}),l},j.segmentEach=u,j.segmentReduce=function(s,a,o){var l=o,c=!1;return u(s,function(h,v,p,T,_){l=!1===c&&void 0===o?h:a(l,h,v,p,T,_),c=!0}),l},j.lineEach=i,j.lineReduce=function(s,a,o){var l=o;return i(s,function(c,h,v,p){l=0===h&&void 0===o?c:a(l,c,h,v,p)}),l},j.findSegment=function(s,a){if(!I.isObject(a=a||{}))throw new Error("options is invalid");var o,l=a.featureIndex||0,c=a.multiFeatureIndex||0,h=a.geometryIndex||0,v=a.segmentIndex||0,p=a.properties;switch(s.type){case"FeatureCollection":l<0&&(l=s.features.length+l),p=p||s.features[l].properties,o=s.features[l].geometry;break;case"Feature":p=p||s.properties,o=s.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":o=s;break;default:throw new Error("geojson is invalid")}if(null===o)return null;var T=o.coordinates;switch(o.type){case"Point":case"MultiPoint":return null;case"LineString":return v<0&&(v=T.length+v-1),I.lineString([T[v],T[v+1]],p,a);case"Polygon":return h<0&&(h=T.length+h),v<0&&(v=T[h].length+v-1),I.lineString([T[h][v],T[h][v+1]],p,a);case"MultiLineString":return c<0&&(c=T.length+c),v<0&&(v=T[c].length+v-1),I.lineString([T[c][v],T[c][v+1]],p,a);case"MultiPolygon":return c<0&&(c=T.length+c),h<0&&(h=T[c].length+h),v<0&&(v=T[c][h].length-v-1),I.lineString([T[c][h][v],T[c][h][v+1]],p,a)}throw new Error("geojson is invalid")},j.findPoint=function(s,a){if(!I.isObject(a=a||{}))throw new Error("options is invalid");var o,l=a.featureIndex||0,c=a.multiFeatureIndex||0,h=a.geometryIndex||0,v=a.coordIndex||0,p=a.properties;switch(s.type){case"FeatureCollection":l<0&&(l=s.features.length+l),p=p||s.features[l].properties,o=s.features[l].geometry;break;case"Feature":p=p||s.properties,o=s.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":o=s;break;default:throw new Error("geojson is invalid")}if(null===o)return null;var T=o.coordinates;switch(o.type){case"Point":return I.point(T,p,a);case"MultiPoint":return c<0&&(c=T.length+c),I.point(T[c],p,a);case"LineString":return v<0&&(v=T.length+v),I.point(T[v],p,a);case"Polygon":return h<0&&(h=T.length+h),v<0&&(v=T[h].length+v),I.point(T[h][v],p,a);case"MultiLineString":return c<0&&(c=T.length+c),v<0&&(v=T[c].length+v),I.point(T[c][v],p,a);case"MultiPolygon":return c<0&&(c=T.length+c),h<0&&(h=T[c].length+h),v<0&&(v=T[c][h].length-v),I.point(T[c][h][v],p,a)}throw new Error("geojson is invalid")}},85268:function(oe,j,r){"use strict";Object.defineProperty(j,"__esModule",{value:!0});var I=r(27138);function E(f){var S=[1/0,1/0,-1/0,-1/0];return I.coordEach(f,function(M){S[0]>M[0]&&(S[0]=M[0]),S[1]>M[1]&&(S[1]=M[1]),S[2]<M[0]&&(S[2]=M[0]),S[3]<M[1]&&(S[3]=M[1])}),S}E.default=E,j.default=E},94228:function(oe,j){"use strict";function r(l,c,h){void 0===h&&(h={});var v={type:"Feature"};return(0===h.id||h.id)&&(v.id=h.id),h.bbox&&(v.bbox=h.bbox),v.properties=c||{},v.geometry=l,v}function I(l,c,h){if(void 0===h&&(h={}),!l)throw new Error("coordinates is required");if(!Array.isArray(l))throw new Error("coordinates must be an Array");if(l.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!o(l[0])||!o(l[1]))throw new Error("coordinates must contain numbers");return r({type:"Point",coordinates:l},c,h)}function E(l,c,h){void 0===h&&(h={});for(var v=0,p=l;v<p.length;v++){var T=p[v];if(T.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var _=0;_<T[T.length-1].length;_++)if(T[T.length-1][_]!==T[0][_])throw new Error("First and last Position are not equivalent.")}return r({type:"Polygon",coordinates:l},c,h)}function f(l,c,h){if(void 0===h&&(h={}),l.length<2)throw new Error("coordinates must be an array of two or more positions");return r({type:"LineString",coordinates:l},c,h)}function S(l,c){void 0===c&&(c={});var h={type:"FeatureCollection"};return c.id&&(h.id=c.id),c.bbox&&(h.bbox=c.bbox),h.features=l,h}function M(l,c,h){return void 0===h&&(h={}),r({type:"MultiLineString",coordinates:l},c,h)}function y(l,c,h){return void 0===h&&(h={}),r({type:"MultiPoint",coordinates:l},c,h)}function u(l,c,h){return void 0===h&&(h={}),r({type:"MultiPolygon",coordinates:l},c,h)}function i(l,c){void 0===c&&(c="kilometers");var h=j.factors[c];if(!h)throw new Error(c+" units is invalid");return l*h}function s(l,c){void 0===c&&(c="kilometers");var h=j.factors[c];if(!h)throw new Error(c+" units is invalid");return l/h}function a(l){return l%(2*Math.PI)*180/Math.PI}function o(l){return!isNaN(l)&&null!==l&&!Array.isArray(l)}Object.defineProperty(j,"__esModule",{value:!0}),j.earthRadius=6371008.8,j.factors={centimeters:100*j.earthRadius,centimetres:100*j.earthRadius,degrees:j.earthRadius/111325,feet:3.28084*j.earthRadius,inches:39.37*j.earthRadius,kilometers:j.earthRadius/1e3,kilometres:j.earthRadius/1e3,meters:j.earthRadius,metres:j.earthRadius,miles:j.earthRadius/1609.344,millimeters:1e3*j.earthRadius,millimetres:1e3*j.earthRadius,nauticalmiles:j.earthRadius/1852,radians:1,yards:1.0936*j.earthRadius},j.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/j.earthRadius,yards:1.0936133},j.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},j.feature=r,j.geometry=function(l,c,h){switch(void 0===h&&(h={}),l){case"Point":return I(c).geometry;case"LineString":return f(c).geometry;case"Polygon":return E(c).geometry;case"MultiPoint":return y(c).geometry;case"MultiLineString":return M(c).geometry;case"MultiPolygon":return u(c).geometry;default:throw new Error(l+" is invalid")}},j.point=I,j.points=function(l,c,h){return void 0===h&&(h={}),S(l.map(function(v){return I(v,c)}),h)},j.polygon=E,j.polygons=function(l,c,h){return void 0===h&&(h={}),S(l.map(function(v){return E(v,c)}),h)},j.lineString=f,j.lineStrings=function(l,c,h){return void 0===h&&(h={}),S(l.map(function(v){return f(v,c)}),h)},j.featureCollection=S,j.multiLineString=M,j.multiPoint=y,j.multiPolygon=u,j.geometryCollection=function(l,c,h){return void 0===h&&(h={}),r({type:"GeometryCollection",geometries:l},c,h)},j.round=function(l,c){if(void 0===c&&(c=0),c&&!(c>=0))throw new Error("precision must be a positive number");var h=Math.pow(10,c||0);return Math.round(l*h)/h},j.radiansToLength=i,j.lengthToRadians=s,j.lengthToDegrees=function(l,c){return a(s(l,c))},j.bearingToAzimuth=function(l){var c=l%360;return c<0&&(c+=360),c},j.radiansToDegrees=a,j.degreesToRadians=function(l){return l%360*Math.PI/180},j.convertLength=function(l,c,h){if(void 0===c&&(c="kilometers"),void 0===h&&(h="kilometers"),!(l>=0))throw new Error("length must be a positive number");return i(s(l,c),h)},j.convertArea=function(l,c,h){if(void 0===c&&(c="meters"),void 0===h&&(h="kilometers"),!(l>=0))throw new Error("area must be a positive number");var v=j.areaFactors[c];if(!v)throw new Error("invalid original units");var p=j.areaFactors[h];if(!p)throw new Error("invalid final units");return l/v*p},j.isNumber=o,j.isObject=function(l){return!!l&&l.constructor===Object},j.validateBBox=function(l){if(!l)throw new Error("bbox is required");if(!Array.isArray(l))throw new Error("bbox must be an Array");if(4!==l.length&&6!==l.length)throw new Error("bbox must be an Array of 4 or 6 numbers");l.forEach(function(c){if(!o(c))throw new Error("bbox must only contain numbers")})},j.validateId=function(l){if(!l)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof l))throw new Error("id must be a number or a string")}},27138:function(oe,j,r){"use strict";Object.defineProperty(j,"__esModule",{value:!0});var I=r(94228);function E(s,a,o){if(null!==s)for(var l,c,h,v,p,T,_,g,w=0,x=0,b=s.type,A="FeatureCollection"===b,m="Feature"===b,C=A?s.features.length:1,k=0;k<C;k++){p=(g=!!(_=A?s.features[k].geometry:m?s.geometry:s)&&"GeometryCollection"===_.type)?_.geometries.length:1;for(var P=0;P<p;P++){var R=0,L=0;if(null!==(v=g?_.geometries[P]:_)){T=v.coordinates;var N=v.type;switch(w=!o||"Polygon"!==N&&"MultiPolygon"!==N?0:1,N){case null:break;case"Point":if(!1===a(T,x,k,R,L))return!1;x++,R++;break;case"LineString":case"MultiPoint":for(l=0;l<T.length;l++){if(!1===a(T[l],x,k,R,L))return!1;x++,"MultiPoint"===N&&R++}"LineString"===N&&R++;break;case"Polygon":case"MultiLineString":for(l=0;l<T.length;l++){for(c=0;c<T[l].length-w;c++){if(!1===a(T[l][c],x,k,R,L))return!1;x++}"MultiLineString"===N&&R++,"Polygon"===N&&L++}"Polygon"===N&&R++;break;case"MultiPolygon":for(l=0;l<T.length;l++){for(L=0,c=0;c<T[l].length;c++){for(h=0;h<T[l][c].length-w;h++){if(!1===a(T[l][c][h],x,k,R,L))return!1;x++}L++}R++}break;case"GeometryCollection":for(l=0;l<v.geometries.length;l++)if(!1===E(v.geometries[l],a,o))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function f(s,a){var o;switch(s.type){case"FeatureCollection":for(o=0;o<s.features.length&&!1!==a(s.features[o].properties,o);o++);break;case"Feature":a(s.properties,0)}}function S(s,a){if("Feature"===s.type)a(s,0);else if("FeatureCollection"===s.type)for(var o=0;o<s.features.length&&!1!==a(s.features[o],o);o++);}function M(s,a){var o,l,c,h,v,p,T,_,g,w,x=0,b="FeatureCollection"===s.type,A="Feature"===s.type,m=b?s.features.length:1;for(o=0;o<m;o++){for(_=b?s.features[o].properties:A?s.properties:{},g=b?s.features[o].bbox:A?s.bbox:void 0,w=b?s.features[o].id:A?s.id:void 0,v=(T=!!(p=b?s.features[o].geometry:A?s.geometry:s)&&"GeometryCollection"===p.type)?p.geometries.length:1,c=0;c<v;c++)if(null!==(h=T?p.geometries[c]:p))switch(h.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===a(h,x,_,g,w))return!1;break;case"GeometryCollection":for(l=0;l<h.geometries.length;l++)if(!1===a(h.geometries[l],x,_,g,w))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===a(null,x,_,g,w))return!1;x++}}function y(s,a){M(s,function(o,l,c,h,v){var p,T=null===o?null:o.type;switch(T){case null:case"Point":case"LineString":case"Polygon":return!1!==a(I.feature(o,c,{bbox:h,id:v}),l,0)&&void 0}switch(T){case"MultiPoint":p="Point";break;case"MultiLineString":p="LineString";break;case"MultiPolygon":p="Polygon"}for(var _=0;_<o.coordinates.length;_++)if(!1===a(I.feature({type:p,coordinates:o.coordinates[_]},c),l,_))return!1})}function u(s,a){y(s,function(o,l,c){var h=0;if(o.geometry){var v=o.geometry.type;if("Point"!==v&&"MultiPoint"!==v){var p,T=0,_=0,g=0;return!1!==E(o,function(w,x,b,A,m){if(void 0===p||l>T||A>_||m>g)return p=w,T=l,_=A,g=m,void(h=0);var C=I.lineString([p,w],o.properties);if(!1===a(C,l,c,m,h))return!1;h++,p=w})&&void 0}}})}function i(s,a){if(!s)throw new Error("geojson is required");y(s,function(o,l,c){if(null!==o.geometry){var v=o.geometry.coordinates;switch(o.geometry.type){case"LineString":if(!1===a(o,l,c,0,0))return!1;break;case"Polygon":for(var p=0;p<v.length;p++)if(!1===a(I.lineString(v[p],o.properties),l,c,p))return!1}}})}j.coordEach=E,j.coordReduce=function(s,a,o,l){var c=o;return E(s,function(h,v,p,T,_){c=0===v&&void 0===o?h:a(c,h,v,p,T,_)},l),c},j.propEach=f,j.propReduce=function(s,a,o){var l=o;return f(s,function(c,h){l=0===h&&void 0===o?c:a(l,c,h)}),l},j.featureEach=S,j.featureReduce=function(s,a,o){var l=o;return S(s,function(c,h){l=0===h&&void 0===o?c:a(l,c,h)}),l},j.coordAll=function(s){var a=[];return E(s,function(o){a.push(o)}),a},j.geomEach=M,j.geomReduce=function(s,a,o){var l=o;return M(s,function(c,h,v,p,T){l=0===h&&void 0===o?c:a(l,c,h,v,p,T)}),l},j.flattenEach=y,j.flattenReduce=function(s,a,o){var l=o;return y(s,function(c,h,v){l=0===h&&0===v&&void 0===o?c:a(l,c,h,v)}),l},j.segmentEach=u,j.segmentReduce=function(s,a,o){var l=o,c=!1;return u(s,function(h,v,p,T,_){l=!1===c&&void 0===o?h:a(l,h,v,p,T,_),c=!0}),l},j.lineEach=i,j.lineReduce=function(s,a,o){var l=o;return i(s,function(c,h,v,p){l=0===h&&void 0===o?c:a(l,c,h,v,p)}),l},j.findSegment=function(s,a){if(!I.isObject(a=a||{}))throw new Error("options is invalid");var o,l=a.featureIndex||0,c=a.multiFeatureIndex||0,h=a.geometryIndex||0,v=a.segmentIndex||0,p=a.properties;switch(s.type){case"FeatureCollection":l<0&&(l=s.features.length+l),p=p||s.features[l].properties,o=s.features[l].geometry;break;case"Feature":p=p||s.properties,o=s.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":o=s;break;default:throw new Error("geojson is invalid")}if(null===o)return null;var T=o.coordinates;switch(o.type){case"Point":case"MultiPoint":return null;case"LineString":return v<0&&(v=T.length+v-1),I.lineString([T[v],T[v+1]],p,a);case"Polygon":return h<0&&(h=T.length+h),v<0&&(v=T[h].length+v-1),I.lineString([T[h][v],T[h][v+1]],p,a);case"MultiLineString":return c<0&&(c=T.length+c),v<0&&(v=T[c].length+v-1),I.lineString([T[c][v],T[c][v+1]],p,a);case"MultiPolygon":return c<0&&(c=T.length+c),h<0&&(h=T[c].length+h),v<0&&(v=T[c][h].length-v-1),I.lineString([T[c][h][v],T[c][h][v+1]],p,a)}throw new Error("geojson is invalid")},j.findPoint=function(s,a){if(!I.isObject(a=a||{}))throw new Error("options is invalid");var o,l=a.featureIndex||0,c=a.multiFeatureIndex||0,h=a.geometryIndex||0,v=a.coordIndex||0,p=a.properties;switch(s.type){case"FeatureCollection":l<0&&(l=s.features.length+l),p=p||s.features[l].properties,o=s.features[l].geometry;break;case"Feature":p=p||s.properties,o=s.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":o=s;break;default:throw new Error("geojson is invalid")}if(null===o)return null;var T=o.coordinates;switch(o.type){case"Point":return I.point(T,p,a);case"MultiPoint":return c<0&&(c=T.length+c),I.point(T[c],p,a);case"LineString":return v<0&&(v=T.length+v),I.point(T[v],p,a);case"Polygon":return h<0&&(h=T.length+h),v<0&&(v=T[h].length+v),I.point(T[h][v],p,a);case"MultiLineString":return c<0&&(c=T.length+c),v<0&&(v=T[c].length+v),I.point(T[c][v],p,a);case"MultiPolygon":return c<0&&(c=T.length+c),h<0&&(h=T[c].length+h),v<0&&(v=T[c][h].length-v),I.point(T[c][h][v],p,a)}throw new Error("geojson is invalid")}},29261:function(oe,j,r){"use strict";Object.defineProperty(j,"__esModule",{value:!0});var I=r(88553),E=r(64182);j.default=function(f,S){void 0===S&&(S={});var M=0,y=0,u=0;return I.coordEach(f,function(i){M+=i[0],y+=i[1],u++}),E.point([M/u,y/u],S.properties)}},64182:function(oe,j){"use strict";function r(l,c,h){void 0===h&&(h={});var v={type:"Feature"};return(0===h.id||h.id)&&(v.id=h.id),h.bbox&&(v.bbox=h.bbox),v.properties=c||{},v.geometry=l,v}function I(l,c,h){return void 0===h&&(h={}),r({type:"Point",coordinates:l},c,h)}function E(l,c,h){void 0===h&&(h={});for(var v=0,p=l;v<p.length;v++){var T=p[v];if(T.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var _=0;_<T[T.length-1].length;_++)if(T[T.length-1][_]!==T[0][_])throw new Error("First and last Position are not equivalent.")}return r({type:"Polygon",coordinates:l},c,h)}function f(l,c,h){if(void 0===h&&(h={}),l.length<2)throw new Error("coordinates must be an array of two or more positions");return r({type:"LineString",coordinates:l},c,h)}function S(l,c){void 0===c&&(c={});var h={type:"FeatureCollection"};return c.id&&(h.id=c.id),c.bbox&&(h.bbox=c.bbox),h.features=l,h}function M(l,c,h){return void 0===h&&(h={}),r({type:"MultiLineString",coordinates:l},c,h)}function y(l,c,h){return void 0===h&&(h={}),r({type:"MultiPoint",coordinates:l},c,h)}function u(l,c,h){return void 0===h&&(h={}),r({type:"MultiPolygon",coordinates:l},c,h)}function i(l,c){void 0===c&&(c="kilometers");var h=j.factors[c];if(!h)throw new Error(c+" units is invalid");return l*h}function s(l,c){void 0===c&&(c="kilometers");var h=j.factors[c];if(!h)throw new Error(c+" units is invalid");return l/h}function a(l){return l%(2*Math.PI)*180/Math.PI}function o(l){return!isNaN(l)&&null!==l&&!Array.isArray(l)&&!/^\s*$/.test(l)}Object.defineProperty(j,"__esModule",{value:!0}),j.earthRadius=6371008.8,j.factors={centimeters:100*j.earthRadius,centimetres:100*j.earthRadius,degrees:j.earthRadius/111325,feet:3.28084*j.earthRadius,inches:39.37*j.earthRadius,kilometers:j.earthRadius/1e3,kilometres:j.earthRadius/1e3,meters:j.earthRadius,metres:j.earthRadius,miles:j.earthRadius/1609.344,millimeters:1e3*j.earthRadius,millimetres:1e3*j.earthRadius,nauticalmiles:j.earthRadius/1852,radians:1,yards:j.earthRadius/1.0936},j.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/j.earthRadius,yards:.91441111923921},j.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},j.feature=r,j.geometry=function(l,c,h){switch(void 0===h&&(h={}),l){case"Point":return I(c).geometry;case"LineString":return f(c).geometry;case"Polygon":return E(c).geometry;case"MultiPoint":return y(c).geometry;case"MultiLineString":return M(c).geometry;case"MultiPolygon":return u(c).geometry;default:throw new Error(l+" is invalid")}},j.point=I,j.points=function(l,c,h){return void 0===h&&(h={}),S(l.map(function(v){return I(v,c)}),h)},j.polygon=E,j.polygons=function(l,c,h){return void 0===h&&(h={}),S(l.map(function(v){return E(v,c)}),h)},j.lineString=f,j.lineStrings=function(l,c,h){return void 0===h&&(h={}),S(l.map(function(v){return f(v,c)}),h)},j.featureCollection=S,j.multiLineString=M,j.multiPoint=y,j.multiPolygon=u,j.geometryCollection=function(l,c,h){return void 0===h&&(h={}),r({type:"GeometryCollection",geometries:l},c,h)},j.round=function(l,c){if(void 0===c&&(c=0),c&&!(c>=0))throw new Error("precision must be a positive number");var h=Math.pow(10,c||0);return Math.round(l*h)/h},j.radiansToLength=i,j.lengthToRadians=s,j.lengthToDegrees=function(l,c){return a(s(l,c))},j.bearingToAzimuth=function(l){var c=l%360;return c<0&&(c+=360),c},j.radiansToDegrees=a,j.degreesToRadians=function(l){return l%360*Math.PI/180},j.convertLength=function(l,c,h){if(void 0===c&&(c="kilometers"),void 0===h&&(h="kilometers"),!(l>=0))throw new Error("length must be a positive number");return i(s(l,c),h)},j.convertArea=function(l,c,h){if(void 0===c&&(c="meters"),void 0===h&&(h="kilometers"),!(l>=0))throw new Error("area must be a positive number");var v=j.areaFactors[c];if(!v)throw new Error("invalid original units");var p=j.areaFactors[h];if(!p)throw new Error("invalid final units");return l/v*p},j.isNumber=o,j.isObject=function(l){return!!l&&l.constructor===Object},j.validateBBox=function(l){if(!l)throw new Error("bbox is required");if(!Array.isArray(l))throw new Error("bbox must be an Array");if(4!==l.length&&6!==l.length)throw new Error("bbox must be an Array of 4 or 6 numbers");l.forEach(function(c){if(!o(c))throw new Error("bbox must only contain numbers")})},j.validateId=function(l){if(!l)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof l))throw new Error("id must be a number or a string")},j.radians2degrees=function(){throw new Error("method has been renamed to `radiansToDegrees`")},j.degrees2radians=function(){throw new Error("method has been renamed to `degreesToRadians`")},j.distanceToDegrees=function(){throw new Error("method has been renamed to `lengthToDegrees`")},j.distanceToRadians=function(){throw new Error("method has been renamed to `lengthToRadians`")},j.radiansToDistance=function(){throw new Error("method has been renamed to `radiansToLength`")},j.bearingToAngle=function(){throw new Error("method has been renamed to `bearingToAzimuth`")},j.convertDistance=function(){throw new Error("method has been renamed to `convertLength`")}},88553:function(oe,j,r){"use strict";Object.defineProperty(j,"__esModule",{value:!0});var I=r(64182);function E(s,a,o){if(null!==s)for(var l,c,h,v,p,T,_,g,w=0,x=0,b=s.type,A="FeatureCollection"===b,m="Feature"===b,C=A?s.features.length:1,k=0;k<C;k++){p=(g=!!(_=A?s.features[k].geometry:m?s.geometry:s)&&"GeometryCollection"===_.type)?_.geometries.length:1;for(var P=0;P<p;P++){var R=0,L=0;if(null!==(v=g?_.geometries[P]:_)){T=v.coordinates;var N=v.type;switch(w=!o||"Polygon"!==N&&"MultiPolygon"!==N?0:1,N){case null:break;case"Point":if(!1===a(T,x,k,R,L))return!1;x++,R++;break;case"LineString":case"MultiPoint":for(l=0;l<T.length;l++){if(!1===a(T[l],x,k,R,L))return!1;x++,"MultiPoint"===N&&R++}"LineString"===N&&R++;break;case"Polygon":case"MultiLineString":for(l=0;l<T.length;l++){for(c=0;c<T[l].length-w;c++){if(!1===a(T[l][c],x,k,R,L))return!1;x++}"MultiLineString"===N&&R++,"Polygon"===N&&L++}"Polygon"===N&&R++;break;case"MultiPolygon":for(l=0;l<T.length;l++){for(L=0,c=0;c<T[l].length;c++){for(h=0;h<T[l][c].length-w;h++){if(!1===a(T[l][c][h],x,k,R,L))return!1;x++}L++}R++}break;case"GeometryCollection":for(l=0;l<v.geometries.length;l++)if(!1===E(v.geometries[l],a,o))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function f(s,a){var o;switch(s.type){case"FeatureCollection":for(o=0;o<s.features.length&&!1!==a(s.features[o].properties,o);o++);break;case"Feature":a(s.properties,0)}}function S(s,a){if("Feature"===s.type)a(s,0);else if("FeatureCollection"===s.type)for(var o=0;o<s.features.length&&!1!==a(s.features[o],o);o++);}function M(s,a){var o,l,c,h,v,p,T,_,g,w,x=0,b="FeatureCollection"===s.type,A="Feature"===s.type,m=b?s.features.length:1;for(o=0;o<m;o++){for(_=b?s.features[o].properties:A?s.properties:{},g=b?s.features[o].bbox:A?s.bbox:void 0,w=b?s.features[o].id:A?s.id:void 0,v=(T=!!(p=b?s.features[o].geometry:A?s.geometry:s)&&"GeometryCollection"===p.type)?p.geometries.length:1,c=0;c<v;c++)if(null!==(h=T?p.geometries[c]:p))switch(h.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===a(h,x,_,g,w))return!1;break;case"GeometryCollection":for(l=0;l<h.geometries.length;l++)if(!1===a(h.geometries[l],x,_,g,w))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===a(null,x,_,g,w))return!1;x++}}function y(s,a){M(s,function(o,l,c,h,v){var p,T=null===o?null:o.type;switch(T){case null:case"Point":case"LineString":case"Polygon":return!1!==a(I.feature(o,c,{bbox:h,id:v}),l,0)&&void 0}switch(T){case"MultiPoint":p="Point";break;case"MultiLineString":p="LineString";break;case"MultiPolygon":p="Polygon"}for(var _=0;_<o.coordinates.length;_++)if(!1===a(I.feature({type:p,coordinates:o.coordinates[_]},c),l,_))return!1})}function u(s,a){y(s,function(o,l,c){var h=0;if(o.geometry){var v=o.geometry.type;if("Point"!==v&&"MultiPoint"!==v){var p,T=0,_=0,g=0;return!1!==E(o,function(w,x,b,A,m){if(void 0===p||l>T||A>_||m>g)return p=w,T=l,_=A,g=m,void(h=0);var C=I.lineString([p,w],o.properties);if(!1===a(C,l,c,m,h))return!1;h++,p=w})&&void 0}}})}function i(s,a){if(!s)throw new Error("geojson is required");y(s,function(o,l,c){if(null!==o.geometry){var v=o.geometry.coordinates;switch(o.geometry.type){case"LineString":if(!1===a(o,l,c,0,0))return!1;break;case"Polygon":for(var p=0;p<v.length;p++)if(!1===a(I.lineString(v[p],o.properties),l,c,p))return!1}}})}j.coordEach=E,j.coordReduce=function(s,a,o,l){var c=o;return E(s,function(h,v,p,T,_){c=0===v&&void 0===o?h:a(c,h,v,p,T,_)},l),c},j.propEach=f,j.propReduce=function(s,a,o){var l=o;return f(s,function(c,h){l=0===h&&void 0===o?c:a(l,c,h)}),l},j.featureEach=S,j.featureReduce=function(s,a,o){var l=o;return S(s,function(c,h){l=0===h&&void 0===o?c:a(l,c,h)}),l},j.coordAll=function(s){var a=[];return E(s,function(o){a.push(o)}),a},j.geomEach=M,j.geomReduce=function(s,a,o){var l=o;return M(s,function(c,h,v,p,T){l=0===h&&void 0===o?c:a(l,c,h,v,p,T)}),l},j.flattenEach=y,j.flattenReduce=function(s,a,o){var l=o;return y(s,function(c,h,v){l=0===h&&0===v&&void 0===o?c:a(l,c,h,v)}),l},j.segmentEach=u,j.segmentReduce=function(s,a,o){var l=o,c=!1;return u(s,function(h,v,p,T,_){l=!1===c&&void 0===o?h:a(l,h,v,p,T,_),c=!0}),l},j.lineEach=i,j.lineReduce=function(s,a,o){var l=o;return i(s,function(c,h,v,p){l=0===h&&void 0===o?c:a(l,c,h,v,p)}),l},j.findSegment=function(s,a){if(!I.isObject(a=a||{}))throw new Error("options is invalid");var o,l=a.featureIndex||0,c=a.multiFeatureIndex||0,h=a.geometryIndex||0,v=a.segmentIndex||0,p=a.properties;switch(s.type){case"FeatureCollection":l<0&&(l=s.features.length+l),p=p||s.features[l].properties,o=s.features[l].geometry;break;case"Feature":p=p||s.properties,o=s.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":o=s;break;default:throw new Error("geojson is invalid")}if(null===o)return null;var T=o.coordinates;switch(o.type){case"Point":case"MultiPoint":return null;case"LineString":return v<0&&(v=T.length+v-1),I.lineString([T[v],T[v+1]],p,a);case"Polygon":return h<0&&(h=T.length+h),v<0&&(v=T[h].length+v-1),I.lineString([T[h][v],T[h][v+1]],p,a);case"MultiLineString":return c<0&&(c=T.length+c),v<0&&(v=T[c].length+v-1),I.lineString([T[c][v],T[c][v+1]],p,a);case"MultiPolygon":return c<0&&(c=T.length+c),h<0&&(h=T[c].length+h),v<0&&(v=T[c][h].length-v-1),I.lineString([T[c][h][v],T[c][h][v+1]],p,a)}throw new Error("geojson is invalid")},j.findPoint=function(s,a){if(!I.isObject(a=a||{}))throw new Error("options is invalid");var o,l=a.featureIndex||0,c=a.multiFeatureIndex||0,h=a.geometryIndex||0,v=a.coordIndex||0,p=a.properties;switch(s.type){case"FeatureCollection":l<0&&(l=s.features.length+l),p=p||s.features[l].properties,o=s.features[l].geometry;break;case"Feature":p=p||s.properties,o=s.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":o=s;break;default:throw new Error("geojson is invalid")}if(null===o)return null;var T=o.coordinates;switch(o.type){case"Point":return I.point(T,p,a);case"MultiPoint":return c<0&&(c=T.length+c),I.point(T[c],p,a);case"LineString":return v<0&&(v=T.length+v),I.point(T[v],p,a);case"Polygon":return h<0&&(h=T.length+h),v<0&&(v=T[h].length+v),I.point(T[h][v],p,a);case"MultiLineString":return c<0&&(c=T.length+c),v<0&&(v=T[c].length+v),I.point(T[c][v],p,a);case"MultiPolygon":return c<0&&(c=T.length+c),h<0&&(h=T[c].length+h),v<0&&(v=T[c][h].length-v),I.point(T[c][h][v],p,a)}throw new Error("geojson is invalid")}},65185:function(oe){oe.exports=function(j){var r=0,I=0,E=0,f=0;return j.map(function(S){var M=(S=S.slice())[0],y=M.toUpperCase();if(M!=y)switch(S[0]=y,M){case"a":S[6]+=E,S[7]+=f;break;case"v":S[1]+=f;break;case"h":S[1]+=E;break;default:for(var u=1;u<S.length;)S[u++]+=E,S[u++]+=f}switch(y){case"Z":E=r,f=I;break;case"H":E=S[1];break;case"V":f=S[1];break;case"M":E=r=S[1],f=I=S[2];break;default:E=S[S.length-2],f=S[S.length-1]}return S})}},21527:function(oe){"use strict";oe.exports=function(j,r){if(!j||null==j.length)throw Error("Argument should be an array");r=null==r?1:Math.floor(r);for(var I=Array(2*r),E=0;E<r;E++){for(var f=-1/0,S=1/0,M=E,y=j.length;M<y;M+=r)j[M]>f&&(f=j[M]),j[M]<S&&(S=j[M]);I[E]=S,I[r+E]=f}return I}},6851:function(oe){"use strict";oe.exports=function(j,r,I){if("function"==typeof Array.prototype.findIndex)return j.findIndex(r,I);if("function"!=typeof r)throw new TypeError("predicate must be a function");var E=Object(j),f=E.length;if(0===f)return-1;for(var S=0;S<f;S++)if(r.call(I,E[S],S,E))return S;return-1}},54:function(oe,j,r){"use strict";var I=r(21527);oe.exports=function(E,f,S){if(!E||null==E.length)throw Error("Argument should be an array");null==f&&(f=1),null==S&&(S=I(E,f));for(var M=0;M<f;M++){var y=S[f+M],u=S[M],i=M,s=E.length;if(y===1/0&&u===-1/0)for(i=M;i<s;i+=f)E[i]=E[i]===y?1:E[i]===u?0:.5;else if(y===1/0)for(i=M;i<s;i+=f)E[i]=E[i]===y?1:0;else if(u===-1/0)for(i=M;i<s;i+=f)E[i]=E[i]===u?0:1;else{var a=y-u;for(i=M;i<s;i+=f)isNaN(E[i])||(E[i]=0===a?.5:(E[i]-u)/a)}}return E}},57471:function(oe){oe.exports=function(j,r){var I="number"==typeof j,E="number"==typeof r;I&&!E?(r=j,j=0):I||E||(j=0,r=0);var f=(r|=0)-(j|=0);if(f<0)throw new Error("array length must be positive");for(var S=new Array(f),M=0,y=j;M<f;M++,y++)S[M]=y;return S}},32791:function(oe,j,r){"use strict";var I=r(90386);function E(z){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Y){return typeof Y}:function(Y){return Y&&"function"==typeof Symbol&&Y.constructor===Symbol&&Y!==Symbol.prototype?"symbol":typeof Y})(z)}var f,S,M=r(79616).codes,y=M.ERR_AMBIGUOUS_ARGUMENT,u=M.ERR_INVALID_ARG_TYPE,i=M.ERR_INVALID_ARG_VALUE,s=M.ERR_INVALID_RETURN_VALUE,a=M.ERR_MISSING_ARGS,o=r(73894),l=r(43827).inspect,c=r(43827).types,h=c.isPromise,v=c.isRegExp,p=Object.assign?Object.assign:r(73523).assign,T=Object.is?Object.is:r(64003);function _(){var z=r(74061);f=z.isDeepEqual,S=z.isDeepStrictEqual}var g=!1,w=oe.exports=m,x={};function b(z){throw z.message instanceof Error?z.message:new o(z)}function A(z,Y,q,U){if(!q){var Z=!1;if(0===Y)Z=!0,U="No value argument passed to `assert.ok()`";else if(U instanceof Error)throw U;var X=new o({actual:q,expected:!0,message:U,operator:"==",stackStartFn:z});throw X.generatedMessage=Z,X}}function m(){for(var z=arguments.length,Y=new Array(z),q=0;q<z;q++)Y[q]=arguments[q];A.apply(void 0,[m,Y.length].concat(Y))}w.fail=function z(Y,q,U,Z,X){var se,re=arguments.length;if(0===re?se="Failed":1===re?(U=Y,Y=void 0):(!1===g&&(g=!0,(I.emitWarning?I.emitWarning:console.warn.bind(console))("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")),2===re&&(Z="!=")),U instanceof Error)throw U;var ee={actual:Y,expected:q,operator:void 0===Z?"fail":Z,stackStartFn:X||z};void 0!==U&&(ee.message=U);var K=new o(ee);throw se&&(K.message=se,K.generatedMessage=!0),K},w.AssertionError=o,w.ok=m,w.equal=function z(Y,q,U){if(arguments.length<2)throw new a("actual","expected");Y!=q&&b({actual:Y,expected:q,message:U,operator:"==",stackStartFn:z})},w.notEqual=function z(Y,q,U){if(arguments.length<2)throw new a("actual","expected");Y==q&&b({actual:Y,expected:q,message:U,operator:"!=",stackStartFn:z})},w.deepEqual=function z(Y,q,U){if(arguments.length<2)throw new a("actual","expected");void 0===f&&_(),f(Y,q)||b({actual:Y,expected:q,message:U,operator:"deepEqual",stackStartFn:z})},w.notDeepEqual=function z(Y,q,U){if(arguments.length<2)throw new a("actual","expected");void 0===f&&_(),f(Y,q)&&b({actual:Y,expected:q,message:U,operator:"notDeepEqual",stackStartFn:z})},w.deepStrictEqual=function z(Y,q,U){if(arguments.length<2)throw new a("actual","expected");void 0===f&&_(),S(Y,q)||b({actual:Y,expected:q,message:U,operator:"deepStrictEqual",stackStartFn:z})},w.notDeepStrictEqual=function z(Y,q,U){if(arguments.length<2)throw new a("actual","expected");void 0===f&&_(),S(Y,q)&&b({actual:Y,expected:q,message:U,operator:"notDeepStrictEqual",stackStartFn:z})},w.strictEqual=function z(Y,q,U){if(arguments.length<2)throw new a("actual","expected");T(Y,q)||b({actual:Y,expected:q,message:U,operator:"strictEqual",stackStartFn:z})},w.notStrictEqual=function z(Y,q,U){if(arguments.length<2)throw new a("actual","expected");T(Y,q)&&b({actual:Y,expected:q,message:U,operator:"notStrictEqual",stackStartFn:z})};var C=function z(Y,q,U){var Z=this;(function(X,se){if(!(X instanceof se))throw new TypeError("Cannot call a class as a function")})(this,z),q.forEach(function(X){X in Y&&(Z[X]=void 0!==U&&"string"==typeof U[X]&&v(Y[X])&&Y[X].test(U[X])?U[X]:Y[X])})};function k(z,Y,q,U){if("function"!=typeof Y){if(v(Y))return Y.test(z);if(2===arguments.length)throw new u("expected",["Function","RegExp"],Y);if("object"!==E(z)||null===z){var Z=new o({actual:z,expected:Y,message:q,operator:"deepStrictEqual",stackStartFn:U});throw Z.operator=U.name,Z}var X=Object.keys(Y);if(Y instanceof Error)X.push("name","message");else if(0===X.length)throw new i("error",Y,"may not be an empty object");return void 0===f&&_(),X.forEach(function(se){"string"==typeof z[se]&&v(Y[se])&&Y[se].test(z[se])||function(re,ee,K,ne,ae,ue){if(!(K in re)||!S(re[K],ee[K])){if(!ne){var he=new C(re,ae),pe=new C(ee,ae,re),ge=new o({actual:he,expected:pe,operator:"deepStrictEqual",stackStartFn:ue});throw ge.actual=re,ge.expected=ee,ge.operator=ue.name,ge}b({actual:re,expected:ee,message:ne,operator:ue.name,stackStartFn:ue})}}(z,Y,se,q,X,U)}),!0}return void 0!==Y.prototype&&z instanceof Y||!Error.isPrototypeOf(Y)&&!0===Y.call({},z)}function P(z){if("function"!=typeof z)throw new u("fn","Function",z);try{z()}catch(Y){return Y}return x}function R(z){return h(z)||null!==z&&"object"===E(z)&&"function"==typeof z.then&&"function"==typeof z.catch}function L(z){return Promise.resolve().then(function(){var Y;if("function"==typeof z){if(!R(Y=z()))throw new s("instance of Promise","promiseFn",Y)}else{if(!R(z))throw new u("promiseFn",["Function","Promise"],z);Y=z}return Promise.resolve().then(function(){return Y}).then(function(){return x}).catch(function(q){return q})})}function N(z,Y,q,U){if("string"==typeof q){if(4===arguments.length)throw new u("error",["Object","Error","Function","RegExp"],q);if("object"===E(Y)&&null!==Y){if(Y.message===q)throw new y("error/message",'The error message "'.concat(Y.message,'" is identical to the message.'))}else if(Y===q)throw new y("error/message",'The error "'.concat(Y,'" is identical to the message.'));U=q,q=void 0}else if(null!=q&&"object"!==E(q)&&"function"!=typeof q)throw new u("error",["Object","Error","Function","RegExp"],q);if(Y===x){var Z="";q&&q.name&&(Z+=" (".concat(q.name,")")),Z+=U?": ".concat(U):".",b({actual:void 0,expected:q,operator:z.name,message:"Missing expected ".concat("rejects"===z.name?"rejection":"exception").concat(Z),stackStartFn:z})}if(q&&!k(Y,q,U,z))throw Y}function B(z,Y,q,U){if(Y!==x){if("string"==typeof q&&(U=q,q=void 0),!q||k(Y,q)){var Z=U?": ".concat(U):".";b({actual:Y,expected:q,operator:z.name,message:"Got unwanted ".concat("doesNotReject"===z.name?"rejection":"exception").concat(Z,"\n")+'Actual message: "'.concat(Y&&Y.message,'"'),stackStartFn:z})}throw Y}}function J(){for(var z=arguments.length,Y=new Array(z),q=0;q<z;q++)Y[q]=arguments[q];A.apply(void 0,[J,Y.length].concat(Y))}w.throws=function z(Y){for(var q=arguments.length,U=new Array(q>1?q-1:0),Z=1;Z<q;Z++)U[Z-1]=arguments[Z];N.apply(void 0,[z,P(Y)].concat(U))},w.rejects=function z(Y){for(var q=arguments.length,U=new Array(q>1?q-1:0),Z=1;Z<q;Z++)U[Z-1]=arguments[Z];return L(Y).then(function(X){return N.apply(void 0,[z,X].concat(U))})},w.doesNotThrow=function z(Y){for(var q=arguments.length,U=new Array(q>1?q-1:0),Z=1;Z<q;Z++)U[Z-1]=arguments[Z];B.apply(void 0,[z,P(Y)].concat(U))},w.doesNotReject=function z(Y){for(var q=arguments.length,U=new Array(q>1?q-1:0),Z=1;Z<q;Z++)U[Z-1]=arguments[Z];return L(Y).then(function(X){return B.apply(void 0,[z,X].concat(U))})},w.ifError=function z(Y){if(null!=Y){var q="ifError got unwanted exception: ";"object"===E(Y)&&"string"==typeof Y.message?q+=0===Y.message.length&&Y.constructor?Y.constructor.name:Y.message:q+=l(Y);var U=new o({actual:Y,expected:null,operator:"ifError",message:q,stackStartFn:z}),Z=Y.stack;if("string"==typeof Z){var X=Z.split("\n");X.shift();for(var se=U.stack.split("\n"),re=0;re<X.length;re++){var ee=se.indexOf(X[re]);if(-1!==ee){se=se.slice(0,ee);break}}U.stack="".concat(se.join("\n"),"\n").concat(X.join("\n"))}throw U}},w.strict=p(J,w,{equal:w.strictEqual,deepEqual:w.deepStrictEqual,notEqual:w.notStrictEqual,notDeepEqual:w.notDeepStrictEqual}),w.strict.strict=w.strict},73894:function(oe,j,r){"use strict";var I=r(90386);function E(b,A,m){return A in b?Object.defineProperty(b,A,{value:m,enumerable:!0,configurable:!0,writable:!0}):b[A]=m,b}function S(b,A){return!A||"object"!==a(A)&&"function"!=typeof A?M(b):A}function M(b){if(void 0===b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}function y(b){var A="function"==typeof Map?new Map:void 0;return y=function(m){if(null===m||-1===Function.toString.call(m).indexOf("[native code]"))return m;if("function"!=typeof m)throw new TypeError("Super expression must either be null or a function");if(void 0!==A){if(A.has(m))return A.get(m);A.set(m,k)}function k(){return u(m,arguments,s(this).constructor)}return k.prototype=Object.create(m.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),i(k,m)},y(b)}function u(b,A,m){return(u=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}()?Reflect.construct:function(C,k,P){var R=[null];R.push.apply(R,k);var L=new(Function.bind.apply(C,R));return P&&i(L,P.prototype),L}).apply(null,arguments)}function i(b,A){return(i=Object.setPrototypeOf||function(m,C){return m.__proto__=C,m})(b,A)}function s(b){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(A){return A.__proto__||Object.getPrototypeOf(A)})(b)}function a(b){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(A){return typeof A}:function(A){return A&&"function"==typeof Symbol&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A})(b)}var o=r(43827).inspect,l=r(79616).codes.ERR_INVALID_ARG_TYPE;function c(b,A,m){return(void 0===m||m>b.length)&&(m=b.length),b.substring(m-A.length,m)===A}var h="",v="",p="",T="",_={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"};function g(b){var A=Object.keys(b),m=Object.create(Object.getPrototypeOf(b));return A.forEach(function(C){m[C]=b[C]}),Object.defineProperty(m,"message",{value:b.message}),m}function w(b){return o(b,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}var x=function(b){function A(k){var P;if(function(se,re){if(!(se instanceof re))throw new TypeError("Cannot call a class as a function")}(this,A),"object"!==a(k)||null===k)throw new l("options","Object",k);var R=k.message,L=k.operator,N=k.stackStartFn,B=k.actual,J=k.expected,z=Error.stackTraceLimit;if(Error.stackTraceLimit=0,null!=R)P=S(this,s(A).call(this,String(R)));else if(I.stderr&&I.stderr.isTTY&&(I.stderr&&I.stderr.getColorDepth&&1!==I.stderr.getColorDepth()?(h="\x1b[34m",v="\x1b[32m",T="\x1b[39m",p="\x1b[31m"):(h="",v="",T="",p="")),"object"===a(B)&&null!==B&&"object"===a(J)&&null!==J&&"stack"in B&&B instanceof Error&&"stack"in J&&J instanceof Error&&(B=g(B),J=g(J)),"deepStrictEqual"===L||"strictEqual"===L)P=S(this,s(A).call(this,function(se,re,ee){var K="",ne="",ae=0,ue="",he=!1,pe=w(se),ge=pe.split("\n"),xe=w(re).split("\n"),Se=0,Te="";if("strictEqual"===ee&&"object"===a(se)&&"object"===a(re)&&null!==se&&null!==re&&(ee="strictEqualObject"),1===ge.length&&1===xe.length&&ge[0]!==xe[0]){var ye=ge[0].length+xe[0].length;if(ye<=10){if(!("object"===a(se)&&null!==se||"object"===a(re)&&null!==re||0===se&&0===re))return"".concat(_[ee],"\n\n")+"".concat(ge[0]," !== ").concat(xe[0],"\n")}else if("strictEqualObject"!==ee&&ye<(I.stderr&&I.stderr.isTTY?I.stderr.columns:80)){for(;ge[0][Se]===xe[0][Se];)Se++;Se>2&&(Te="\n  ".concat(function(Ye,_e){if(_e=Math.floor(_e),0==Ye.length||0==_e)return"";var Pe=Ye.length*_e;for(_e=Math.floor(Math.log(_e)/Math.log(2));_e;)Ye+=Ye,_e--;return Ye+Ye.substring(0,Pe-Ye.length)}(" ",Se),"^"),Se=0)}}for(var we=ge[ge.length-1],ze=xe[xe.length-1];we===ze&&(Se++<2?ue="\n  ".concat(we).concat(ue):K=we,ge.pop(),xe.pop(),0!==ge.length&&0!==xe.length);)we=ge[ge.length-1],ze=xe[xe.length-1];var ke=Math.max(ge.length,xe.length);if(0===ke){var Ee=pe.split("\n");if(Ee.length>30)for(Ee[26]="".concat(h,"...").concat(T);Ee.length>27;)Ee.pop();return"".concat(_.notIdentical,"\n\n").concat(Ee.join("\n"),"\n")}Se>3&&(ue="\n".concat(h,"...").concat(T).concat(ue),he=!0),""!==K&&(ue="\n  ".concat(K).concat(ue),K="");var me=0,de=_[ee]+"\n".concat(v,"+ actual").concat(T," ").concat(p,"- expected").concat(T),ce=" ".concat(h,"...").concat(T," Lines skipped");for(Se=0;Se<ke;Se++){var Ae=Se-ae;if(ge.length<Se+1)Ae>1&&Se>2&&(Ae>4?(ne+="\n".concat(h,"...").concat(T),he=!0):Ae>3&&(ne+="\n  ".concat(xe[Se-2]),me++),ne+="\n  ".concat(xe[Se-1]),me++),ae=Se,K+="\n".concat(p,"-").concat(T," ").concat(xe[Se]),me++;else if(xe.length<Se+1)Ae>1&&Se>2&&(Ae>4?(ne+="\n".concat(h,"...").concat(T),he=!0):Ae>3&&(ne+="\n  ".concat(ge[Se-2]),me++),ne+="\n  ".concat(ge[Se-1]),me++),ae=Se,ne+="\n".concat(v,"+").concat(T," ").concat(ge[Se]),me++;else{var Ne=xe[Se],De=ge[Se],Ue=De!==Ne&&(!c(De,",")||De.slice(0,-1)!==Ne);Ue&&c(Ne,",")&&Ne.slice(0,-1)===De&&(Ue=!1,De+=","),Ue?(Ae>1&&Se>2&&(Ae>4?(ne+="\n".concat(h,"...").concat(T),he=!0):Ae>3&&(ne+="\n  ".concat(ge[Se-2]),me++),ne+="\n  ".concat(ge[Se-1]),me++),ae=Se,ne+="\n".concat(v,"+").concat(T," ").concat(De),K+="\n".concat(p,"-").concat(T," ").concat(Ne),me+=2):(ne+=K,K="",1!==Ae&&0!==Se||(ne+="\n  ".concat(De),me++))}if(me>20&&Se<ke-2)return"".concat(de).concat(ce,"\n").concat(ne,"\n").concat(h,"...").concat(T).concat(K,"\n")+"".concat(h,"...").concat(T)}return"".concat(de).concat(he?ce:"","\n").concat(ne).concat(K).concat(ue).concat(Te)}(B,J,L)));else if("notDeepStrictEqual"===L||"notStrictEqual"===L){var Y=_[L],q=w(B).split("\n");if("notStrictEqual"===L&&"object"===a(B)&&null!==B&&(Y=_.notStrictEqualObject),q.length>30)for(q[26]="".concat(h,"...").concat(T);q.length>27;)q.pop();P=S(this,1===q.length?s(A).call(this,"".concat(Y," ").concat(q[0])):s(A).call(this,"".concat(Y,"\n\n").concat(q.join("\n"),"\n")))}else{var U=w(B),Z="",X=_[L];"notDeepEqual"===L||"notEqual"===L?(U="".concat(_[L],"\n\n").concat(U)).length>1024&&(U="".concat(U.slice(0,1021),"...")):(Z="".concat(w(J)),U.length>512&&(U="".concat(U.slice(0,509),"...")),Z.length>512&&(Z="".concat(Z.slice(0,509),"...")),"deepEqual"===L||"equal"===L?U="".concat(X,"\n\n").concat(U,"\n\nshould equal\n\n"):Z=" ".concat(L," ").concat(Z)),P=S(this,s(A).call(this,"".concat(U).concat(Z)))}return Error.stackTraceLimit=z,P.generatedMessage=!R,Object.defineProperty(M(P),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),P.code="ERR_ASSERTION",P.actual=B,P.expected=J,P.operator=L,Error.captureStackTrace&&Error.captureStackTrace(M(P),N),P.name="AssertionError",S(P)}var C;return function(k,P){if("function"!=typeof P&&null!==P)throw new TypeError("Super expression must either be null or a function");k.prototype=Object.create(P&&P.prototype,{constructor:{value:k,writable:!0,configurable:!0}}),P&&i(k,P)}(A,b),C=[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:o.custom,value:function(k,P){return o(this,function(R){for(var L=1;L<arguments.length;L++){var N=null!=arguments[L]?arguments[L]:{},B=Object.keys(N);"function"==typeof Object.getOwnPropertySymbols&&(B=B.concat(Object.getOwnPropertySymbols(N).filter(function(J){return Object.getOwnPropertyDescriptor(N,J).enumerable}))),B.forEach(function(J){E(R,J,N[J])})}return R}({},P,{customInspect:!1,depth:0}))}}],C&&function f(b,A){for(var m=0;m<A.length;m++){var C=A[m];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(b,C.key,C)}}(A.prototype,C),A}(y(Error));oe.exports=x},79616:function(oe,j,r){"use strict";function I(s){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(s)}function E(s){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(s)}function f(s,a){return(f=Object.setPrototypeOf||function(o,l){return o.__proto__=l,o})(s,a)}var S,M,y={};function u(s,a,o){o||(o=Error);var l=function(c){function h(v,p,T){var _,g,w,x;return function(g,w){if(!(g instanceof w))throw new TypeError("Cannot call a class as a function")}(this,h),(_=function(g,w){return!w||"object"!==I(w)&&"function"!=typeof w?function(x){if(void 0===x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x}(g):w}(this,E(h).call(this,(g=v,w=p,x=T,"string"==typeof a?a:a(g,w,x))))).code=s,_}return function(v,p){if("function"!=typeof p&&null!==p)throw new TypeError("Super expression must either be null or a function");v.prototype=Object.create(p&&p.prototype,{constructor:{value:v,writable:!0,configurable:!0}}),p&&f(v,p)}(h,c),h}(o);y[s]=l}function i(s,a){if(Array.isArray(s)){var o=s.length;return s=s.map(function(l){return String(l)}),o>2?"one of ".concat(a," ").concat(s.slice(0,o-1).join(", "),", or ")+s[o-1]:2===o?"one of ".concat(a," ").concat(s[0]," or ").concat(s[1]):"of ".concat(a," ").concat(s[0])}return"of ".concat(a," ").concat(String(s))}u("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),u("ERR_INVALID_ARG_TYPE",function(s,a,o){var l,h,v,p,_,w;if(void 0===S&&(S=r(32791)),S("string"==typeof s,"'name' must be a string"),"string"==typeof a&&("not ","not "===a.substr(0,4))?(l="must not be",a=a.replace(/^not /,"")):l="must be",_=s," argument",(void 0===w||w>_.length)&&(w=_.length)," argument"===_.substring(w-9,w))h="The ".concat(s," ").concat(l," ").concat(i(a,"type"));else{var T=("number"!=typeof p&&(p=0),p+1>(v=s).length||-1===v.indexOf(".",p)?"argument":"property");h='The "'.concat(s,'" ').concat(T," ").concat(l," ").concat(i(a,"type"))}return h+". Received type ".concat(I(o))},TypeError),u("ERR_INVALID_ARG_VALUE",function(s,a){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"is invalid";void 0===M&&(M=r(43827));var l=M.inspect(a);return l.length>128&&(l="".concat(l.slice(0,128),"...")),"The argument '".concat(s,"' ").concat(o,". Received ").concat(l)},TypeError,RangeError),u("ERR_INVALID_RETURN_VALUE",function(s,a,o){var l;return l=o&&o.constructor&&o.constructor.name?"instance of ".concat(o.constructor.name):"type ".concat(I(o)),"Expected ".concat(s,' to be returned from the "').concat(a,'"')+" function but got ".concat(l,".")},TypeError),u("ERR_MISSING_ARGS",function(){for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];void 0===S&&(S=r(32791)),S(a.length>0,"At least one arg needs to be specified");var l="The ",c=a.length;switch(a=a.map(function(h){return'"'.concat(h,'"')}),c){case 1:l+="".concat(a[0]," argument");break;case 2:l+="".concat(a[0]," and ").concat(a[1]," arguments");break;default:l+=a.slice(0,c-1).join(", "),l+=", and ".concat(a[c-1]," arguments")}return"".concat(l," must be specified")},TypeError),oe.exports.codes=y},74061:function(oe,j,r){"use strict";function I(ae,ue){return function(he){if(Array.isArray(he))return he}(ae)||function(he,pe){var ge=[],xe=!0,Se=!1,Te=void 0;try{for(var ye,we=he[Symbol.iterator]();!(xe=(ye=we.next()).done)&&(ge.push(ye.value),!pe||ge.length!==pe);xe=!0);}catch(ze){Se=!0,Te=ze}finally{try{xe||null==we.return||we.return()}finally{if(Se)throw Te}}return ge}(ae,ue)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function E(ae){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(ue){return typeof ue}:function(ue){return ue&&"function"==typeof Symbol&&ue.constructor===Symbol&&ue!==Symbol.prototype?"symbol":typeof ue})(ae)}var f=void 0!==/a/g.flags,S=function(ae){var ue=[];return ae.forEach(function(he){return ue.push(he)}),ue},M=function(ae){var ue=[];return ae.forEach(function(he,pe){return ue.push([pe,he])}),ue},y=Object.is?Object.is:r(64003),u=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},i=Number.isNaN?Number.isNaN:r(15567);function s(ae){return ae.call.bind(ae)}var a=s(Object.prototype.hasOwnProperty),o=s(Object.prototype.propertyIsEnumerable),l=s(Object.prototype.toString),c=r(43827).types,h=c.isAnyArrayBuffer,v=c.isArrayBufferView,p=c.isDate,T=c.isMap,_=c.isRegExp,g=c.isSet,w=c.isNativeError,x=c.isBoxedPrimitive,b=c.isNumberObject,A=c.isStringObject,m=c.isBooleanObject,C=c.isBigIntObject,k=c.isSymbolObject,P=c.isFloat32Array,R=c.isFloat64Array;function L(ae){if(0===ae.length||ae.length>10)return!0;for(var ue=0;ue<ae.length;ue++){var he=ae.charCodeAt(ue);if(he<48||he>57)return!0}return 10===ae.length&&ae>=Math.pow(2,32)}function N(ae){return Object.keys(ae).filter(L).concat(u(ae).filter(Object.prototype.propertyIsEnumerable.bind(ae)))}function B(ae,ue){if(ae===ue)return 0;for(var he=ae.length,pe=ue.length,ge=0,xe=Math.min(he,pe);ge<xe;++ge)if(ae[ge]!==ue[ge]){he=ae[ge],pe=ue[ge];break}return he<pe?-1:pe<he?1:0}var J=0,z=1,Y=2,q=3;function U(ae,ue,he,pe){if(ae===ue)return 0!==ae||!he||y(ae,ue);if(he){if("object"!==E(ae))return"number"==typeof ae&&i(ae)&&i(ue);if("object"!==E(ue)||null===ae||null===ue||Object.getPrototypeOf(ae)!==Object.getPrototypeOf(ue))return!1}else{if(null===ae||"object"!==E(ae))return(null===ue||"object"!==E(ue))&&ae==ue;if(null===ue||"object"!==E(ue))return!1}var ge,xe,Se,Te,me,de,ye=l(ae);if(ye!==l(ue))return!1;if(Array.isArray(ae)){if(ae.length!==ue.length)return!1;var we=N(ae),ze=N(ue);return we.length===ze.length&&X(ae,ue,he,pe,z,we)}if("[object Object]"===ye&&(!T(ae)&&T(ue)||!g(ae)&&g(ue)))return!1;if(p(ae)){if(!p(ue)||Date.prototype.getTime.call(ae)!==Date.prototype.getTime.call(ue))return!1}else if(_(ae)){if(!_(ue)||(Se=ae,Te=ue,!(f?Se.source===Te.source&&Se.flags===Te.flags:RegExp.prototype.toString.call(Se)===RegExp.prototype.toString.call(Te))))return!1}else if(w(ae)||ae instanceof Error){if(ae.message!==ue.message||ae.name!==ue.name)return!1}else{if(v(ae)){if(he||!P(ae)&&!R(ae)){if((me=ae).byteLength!==(de=ue).byteLength||0!==B(new Uint8Array(me.buffer,me.byteOffset,me.byteLength),new Uint8Array(de.buffer,de.byteOffset,de.byteLength)))return!1}else if(!function(me,de){if(me.byteLength!==de.byteLength)return!1;for(var ce=0;ce<me.byteLength;ce++)if(me[ce]!==de[ce])return!1;return!0}(ae,ue))return!1;var ke=N(ae),Ee=N(ue);return ke.length===Ee.length&&X(ae,ue,he,pe,J,ke)}if(g(ae))return!(!g(ue)||ae.size!==ue.size)&&X(ae,ue,he,pe,Y);if(T(ae))return!(!T(ue)||ae.size!==ue.size)&&X(ae,ue,he,pe,q);if(h(ae)){if((ge=ae).byteLength!==(xe=ue).byteLength||0!==B(new Uint8Array(ge),new Uint8Array(xe)))return!1}else if(x(ae)&&!function(me,de){return b(me)?b(de)&&y(Number.prototype.valueOf.call(me),Number.prototype.valueOf.call(de)):A(me)?A(de)&&String.prototype.valueOf.call(me)===String.prototype.valueOf.call(de):m(me)?m(de)&&Boolean.prototype.valueOf.call(me)===Boolean.prototype.valueOf.call(de):C(me)?C(de)&&BigInt.prototype.valueOf.call(me)===BigInt.prototype.valueOf.call(de):k(de)&&Symbol.prototype.valueOf.call(me)===Symbol.prototype.valueOf.call(de)}(ae,ue))return!1}return X(ae,ue,he,pe,J)}function Z(ae,ue){return ue.filter(function(he){return o(ae,he)})}function X(ae,ue,he,pe,ge,xe){if(5===arguments.length){xe=Object.keys(ae);var Se=Object.keys(ue);if(xe.length!==Se.length)return!1}for(var Te=0;Te<xe.length;Te++)if(!a(ue,xe[Te]))return!1;if(he&&5===arguments.length){var ye=u(ae);if(0!==ye.length){var we=0;for(Te=0;Te<ye.length;Te++){var ze=ye[Te];if(o(ae,ze)){if(!o(ue,ze))return!1;xe.push(ze),we++}else if(o(ue,ze))return!1}var ke=u(ue);if(ye.length!==ke.length&&Z(ue,ke).length!==we)return!1}else{var Ee=u(ue);if(0!==Ee.length&&0!==Z(ue,Ee).length)return!1}}if(0===xe.length&&(ge===J||ge===z&&0===ae.length||0===ae.size))return!0;if(void 0===pe)pe={val1:new Map,val2:new Map,position:0};else{var me=pe.val1.get(ae);if(void 0!==me){var de=pe.val2.get(ue);if(void 0!==de)return me===de}pe.position++}pe.val1.set(ae,pe.position),pe.val2.set(ue,pe.position);var ce=function(Ae,Ne,De,Ue,Ye,_e){var Pe=0;if(_e===Y){if(!function(Ge,Ke,tt,st){for(var gt=null,ct=S(Ge),kt=0;kt<ct.length;kt++){var Dt=ct[kt];if("object"===E(Dt)&&null!==Dt)null===gt&&(gt=new Set),gt.add(Dt);else if(!Ke.has(Dt)){if(tt||!ee(Ge,Ke,Dt))return!1;null===gt&&(gt=new Set),gt.add(Dt)}}if(null!==gt){for(var vt=S(Ke),mt=0;mt<vt.length;mt++){var Et=vt[mt];if("object"===E(Et)&&null!==Et){if(!se(gt,Et,tt,st))return!1}else if(!tt&&!Ge.has(Et)&&!se(gt,Et,tt,st))return!1}return 0===gt.size}return!0}(Ae,Ne,De,Ye))return!1}else if(_e===q){if(!function(Ge,Ke,tt,st){for(var gt=null,ct=M(Ge),kt=0;kt<ct.length;kt++){var Dt=I(ct[kt],2),vt=Dt[0],mt=Dt[1];if("object"===E(vt)&&null!==vt)null===gt&&(gt=new Set),gt.add(vt);else{var Et=Ke.get(vt);if(void 0===Et&&!Ke.has(vt)||!U(mt,Et,tt,st)){if(tt||!K(Ge,Ke,vt,mt,st))return!1;null===gt&&(gt=new Set),gt.add(vt)}}}if(null!==gt){for(var Lt=M(Ke),Rt=0;Rt<Lt.length;Rt++){var Ut=I(Lt[Rt],2),Bt=(vt=Ut[0],Ut[1]);if("object"===E(vt)&&null!==vt){if(!ne(gt,Ge,vt,Bt,tt,st))return!1}else if(!(tt||Ge.has(vt)&&U(Ge.get(vt),Bt,!1,st)||ne(gt,Ge,vt,Bt,!1,st)))return!1}return 0===gt.size}return!0}(Ae,Ne,De,Ye))return!1}else if(_e===z)for(;Pe<Ae.length;Pe++){if(!a(Ae,Pe)){if(a(Ne,Pe))return!1;for(var Ie=Object.keys(Ae);Pe<Ie.length;Pe++){var Be=Ie[Pe];if(!a(Ne,Be)||!U(Ae[Be],Ne[Be],De,Ye))return!1}return Ie.length===Object.keys(Ne).length}if(!a(Ne,Pe)||!U(Ae[Pe],Ne[Pe],De,Ye))return!1}for(Pe=0;Pe<Ue.length;Pe++){var We=Ue[Pe];if(!U(Ae[We],Ne[We],De,Ye))return!1}return!0}(ae,ue,he,xe,pe,ge);return pe.val1.delete(ae),pe.val2.delete(ue),ce}function se(ae,ue,he,pe){for(var ge=S(ae),xe=0;xe<ge.length;xe++){var Se=ge[xe];if(U(ue,Se,he,pe))return ae.delete(Se),!0}return!1}function re(ae){switch(E(ae)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":ae=+ae;case"number":if(i(ae))return!1}return!0}function ee(ae,ue,he){var pe=re(he);return pe??(ue.has(pe)&&!ae.has(pe))}function K(ae,ue,he,pe,ge){var xe=re(he);if(null!=xe)return xe;var Se=ue.get(xe);return!(void 0===Se&&!ue.has(xe)||!U(pe,Se,!1,ge))&&!ae.has(xe)&&U(pe,Se,!1,ge)}function ne(ae,ue,he,pe,ge,xe){for(var Se=S(ae),Te=0;Te<Se.length;Te++){var ye=Se[Te];if(U(he,ye,ge,xe)&&U(pe,ue.get(ye),ge,xe))return ae.delete(ye),!0}return!1}oe.exports={isDeepEqual:function(ae,ue){return U(ae,ue,!1)},isDeepStrictEqual:function(ae,ue){return U(ae,ue,!0)}}},95341:function(oe,j){"use strict";j.byteLength=function(u){var i=M(u),a=i[1];return 3*(i[0]+a)/4-a},j.toByteArray=function(u){var i,s,_,a=M(u),o=a[0],l=a[1],c=new E(3*(o+(_=l))/4-_),h=0,v=l>0?o-4:o;for(s=0;s<v;s+=4)i=I[u.charCodeAt(s)]<<18|I[u.charCodeAt(s+1)]<<12|I[u.charCodeAt(s+2)]<<6|I[u.charCodeAt(s+3)],c[h++]=i>>16&255,c[h++]=i>>8&255,c[h++]=255&i;return 2===l&&(i=I[u.charCodeAt(s)]<<2|I[u.charCodeAt(s+1)]>>4,c[h++]=255&i),1===l&&(i=I[u.charCodeAt(s)]<<10|I[u.charCodeAt(s+1)]<<4|I[u.charCodeAt(s+2)]>>2,c[h++]=i>>8&255,c[h++]=255&i),c},j.fromByteArray=function(u){for(var i,s=u.length,a=s%3,o=[],l=16383,c=0,h=s-a;c<h;c+=l)o.push(y(u,c,c+l>h?h:c+l));return 1===a?o.push(r[(i=u[s-1])>>2]+r[i<<4&63]+"=="):2===a&&o.push(r[(i=(u[s-2]<<8)+u[s-1])>>10]+r[i>>4&63]+r[i<<2&63]+"="),o.join("")};for(var r=[],I=[],E=typeof Uint8Array<"u"?Uint8Array:Array,f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",S=0;S<64;++S)r[S]=f[S],I[f.charCodeAt(S)]=S;function M(u){var i=u.length;if(i%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var s=u.indexOf("=");return-1===s&&(s=i),[s,s===i?0:4-s%4]}function y(u,i,s){for(var o,l=[],c=i;c<s;c+=3)l.push(r[(o=(u[c]<<16&16711680)+(u[c+1]<<8&65280)+(255&u[c+2]))>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return l.join("")}I["-".charCodeAt(0)]=62,I["_".charCodeAt(0)]=63},91358:function(oe){"use strict";function j(M,y,u,i,s){for(var a=s+1;i<=s;){var o=i+s>>>1,l=M[o];(void 0!==u?u(l,y):l-y)>=0?(a=o,s=o-1):i=o+1}return a}function r(M,y,u,i,s){for(var a=s+1;i<=s;){var o=i+s>>>1,l=M[o];(void 0!==u?u(l,y):l-y)>0?(a=o,s=o-1):i=o+1}return a}function I(M,y,u,i,s){for(var a=i-1;i<=s;){var o=i+s>>>1,l=M[o];(void 0!==u?u(l,y):l-y)<0?(a=o,i=o+1):s=o-1}return a}function E(M,y,u,i,s){for(var a=i-1;i<=s;){var o=i+s>>>1,l=M[o];(void 0!==u?u(l,y):l-y)<=0?(a=o,i=o+1):s=o-1}return a}function f(M,y,u,i,s){for(;i<=s;){var a=i+s>>>1,o=M[a],l=void 0!==u?u(o,y):o-y;if(0===l)return a;l<=0?i=a+1:s=a-1}return-1}function S(M,y,u,i,s,a){return"function"==typeof u?a(M,y,u,void 0===i?0:0|i,void 0===s?M.length-1:0|s):a(M,y,void 0,void 0===u?0:0|u,void 0===i?M.length-1:0|i)}oe.exports={ge:function(M,y,u,i,s){return S(M,y,u,i,s,j)},gt:function(M,y,u,i,s){return S(M,y,u,i,s,r)},lt:function(M,y,u,i,s){return S(M,y,u,i,s,I)},le:function(M,y,u,i,s){return S(M,y,u,i,s,E)},eq:function(M,y,u,i,s){return S(M,y,u,i,s,f)}}},13547:function(oe,j){"use strict";function r(E){var f=32;return(E&=-E)&&f--,65535&E&&(f-=16),16711935&E&&(f-=8),252645135&E&&(f-=4),858993459&E&&(f-=2),1431655765&E&&(f-=1),f}j.INT_BITS=32,j.INT_MAX=2147483647,j.INT_MIN=-2147483648,j.sign=function(E){return(E>0)-(E<0)},j.abs=function(E){var f=E>>31;return(E^f)-f},j.min=function(E,f){return f^(E^f)&-(E<f)},j.max=function(E,f){return E^(E^f)&-(E<f)},j.isPow2=function(E){return!(E&E-1||!E)},j.log2=function(E){var f,S;return f=(E>65535)<<4,f|=S=((E>>>=f)>255)<<3,f|=S=((E>>>=S)>15)<<2,(f|=S=((E>>>=S)>3)<<1)|(E>>>=S)>>1},j.log10=function(E){return E>=1e9?9:E>=1e8?8:E>=1e7?7:E>=1e6?6:E>=1e5?5:E>=1e4?4:E>=1e3?3:E>=100?2:E>=10?1:0},j.popCount=function(E){return 16843009*((E=(858993459&(E-=E>>>1&1431655765))+(E>>>2&858993459))+(E>>>4)&252645135)>>>24},j.countTrailingZeros=r,j.nextPow2=function(E){return E+=0===E,--E,E|=E>>>1,E|=E>>>2,E|=E>>>4,1+((E|=E>>>8)|E>>>16)},j.prevPow2=function(E){return E|=E>>>1,E|=E>>>2,E|=E>>>4,E|=E>>>8,(E|=E>>>16)-(E>>>1)},j.parity=function(E){return E^=E>>>16,E^=E>>>8,E^=E>>>4,27030>>>(E&=15)&1};var I=new Array(256);(function(E){for(var f=0;f<256;++f){var S=f,M=f,y=7;for(S>>>=1;S;S>>>=1)M<<=1,M|=1&S,--y;E[f]=M<<y&255}})(I),j.reverse=function(E){return I[255&E]<<24|I[E>>>8&255]<<16|I[E>>>16&255]<<8|I[E>>>24&255]},j.interleave2=function(E,f){return(E=1431655765&((E=858993459&((E=252645135&((E=16711935&((E&=65535)|E<<8))|E<<4))|E<<2))|E<<1))|(f=1431655765&((f=858993459&((f=252645135&((f=16711935&((f&=65535)|f<<8))|f<<4))|f<<2))|f<<1))<<1},j.deinterleave2=function(E,f){return(E=65535&((E=16711935&((E=252645135&((E=858993459&((E=E>>>f&1431655765)|E>>>1))|E>>>2))|E>>>4))|E>>>16))<<16>>16},j.interleave3=function(E,f,S){return E=1227133513&((E=3272356035&((E=251719695&((E=4278190335&((E&=1023)|E<<16))|E<<8))|E<<4))|E<<2),(E|=(f=1227133513&((f=3272356035&((f=251719695&((f=4278190335&((f&=1023)|f<<16))|f<<8))|f<<4))|f<<2))<<1)|(S=1227133513&((S=3272356035&((S=251719695&((S=4278190335&((S&=1023)|S<<16))|S<<8))|S<<4))|S<<2))<<2},j.deinterleave3=function(E,f){return(E=1023&((E=4278190335&((E=251719695&((E=3272356035&((E=E>>>f&1227133513)|E>>>2))|E>>>4))|E>>>8))|E>>>16))<<22>>22},j.nextCombination=function(E){var f=E|E-1;return f+1|(~f&-~f)-1>>>r(E)+1}},44781:function(oe,j,r){"use strict";var I=r(53435);oe.exports=function(M,y){y||(y={});var u,i,s,a,o,l,h,p,T,_=null==y.cutoff?.25:y.cutoff,g=null==y.radius?8:y.radius,w=y.channel||0;if(ArrayBuffer.isView(M)||Array.isArray(M)){if(!y.width||!y.height)throw Error("For raw data width and height should be provided by options");u=y.width,i=y.height,a=M,l=y.stride?y.stride:Math.floor(M.length/u/i)}else window.HTMLCanvasElement&&M instanceof window.HTMLCanvasElement?(a=(h=M).getContext("2d").getImageData(0,0,u=h.width,i=h.height).data,l=4):window.CanvasRenderingContext2D&&M instanceof window.CanvasRenderingContext2D?(u=(h=M.canvas).width,a=M.getImageData(0,0,u,i=h.height).data,l=4):window.ImageData&&M instanceof window.ImageData&&(u=M.width,i=M.height,a=M.data,l=4);if(s=Math.max(u,i),window.Uint8ClampedArray&&a instanceof window.Uint8ClampedArray||window.Uint8Array&&a instanceof window.Uint8Array)for(o=a,a=Array(u*i),p=0,T=o.length;p<T;p++)a[p]=o[p*l+w]/255;else if(1!==l)throw Error("Raw data can have only 1 value per pixel");var x=Array(u*i),b=Array(u*i),A=Array(s),m=Array(s),C=Array(s+1),k=Array(s);for(p=0,T=u*i;p<T;p++){var P=a[p];x[p]=1===P?0:0===P?E:Math.pow(Math.max(0,.5-P),2),b[p]=1===P?E:0===P?0:Math.pow(Math.max(0,P-.5),2)}f(x,u,i,A,m,k,C),f(b,u,i,A,m,k,C);var R=window.Float32Array?new Float32Array(u*i):new Array(u*i);for(p=0,T=u*i;p<T;p++)R[p]=I(1-((x[p]-b[p])/g+_),0,1);return R};var E=1e20;function f(M,y,u,i,s,a,o){for(var l=0;l<y;l++){for(var c=0;c<u;c++)i[c]=M[c*y+l];for(S(i,s,a,o,u),c=0;c<u;c++)M[c*y+l]=s[c]}for(c=0;c<u;c++){for(l=0;l<y;l++)i[l]=M[c*y+l];for(S(i,s,a,o,y),l=0;l<y;l++)M[c*y+l]=Math.sqrt(s[l])}}function S(M,y,u,i,s){u[0]=0,i[0]=-E,i[1]=+E;for(var a=1,o=0;a<s;a++){for(var l=(M[a]+a*a-(M[u[o]]+u[o]*u[o]))/(2*a-2*u[o]);l<=i[o];)o--,l=(M[a]+a*a-(M[u[o]]+u[o]*u[o]))/(2*a-2*u[o]);u[++o]=a,i[o]=l,i[o+1]=+E}for(a=0,o=0;a<s;a++){for(;i[o+1]<a;)o++;y[a]=(a-u[o])*(a-u[o])+M[u[o]]}}},6614:function(oe,j,r){"use strict";var I=r(68318),E=r(68222),f=E(I("String.prototype.indexOf"));oe.exports=function(S,M){var y=I(S,!!M);return"function"==typeof y&&f(S,".prototype.")>-1?E(y):y}},68222:function(oe,j,r){"use strict";var I=r(77575),E=r(68318),f=E("%Function.prototype.apply%"),S=E("%Function.prototype.call%"),M=E("%Reflect.apply%",!0)||I.call(S,f),y=E("%Object.getOwnPropertyDescriptor%",!0),u=E("%Object.defineProperty%",!0),i=E("%Math.max%");if(u)try{u({},"a",{value:1})}catch{u=null}oe.exports=function(a){var o=M(I,S,arguments);return y&&u&&y(o,"length").configurable&&u(o,"length",{value:1+i(0,a.length-(arguments.length-1))}),o};var s=function(){return M(I,f,arguments)};u?u(oe.exports,"apply",{value:s}):oe.exports.apply=s},53435:function(oe){oe.exports=function(j,r,I){return r<I?j<r?r:j>I?I:j:j<I?I:j>r?r:j}},6475:function(oe,j,r){"use strict";var I=r(53435);function E(f,S){null==S&&(S=!0);var M=f[0],y=f[1],u=f[2],i=f[3];return null==i&&(i=S?1:255),S&&(M*=255,y*=255,u*=255,i*=255),16777216*(M=255&I(M,0,255))+((y=255&I(y,0,255))<<16)+((u=255&I(u,0,255))<<8)+(255&I(i,0,255))}oe.exports=E,oe.exports.to=E,oe.exports.from=function(f,S){var M=(f=+f)>>>24,y=(16711680&f)>>>16,u=(65280&f)>>>8,i=255&f;return!1===S?[M,y,u,i]:[M/255,y/255,u/255,i/255]}},76857:function(oe){"use strict";oe.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},25075:function(oe,j,r){"use strict";var I=r(36652),E=r(53435),f=r(90660);oe.exports=function(S,M){"float"!==M&&M||(M="array"),"uint"===M&&(M="uint8"),"uint_clamped"===M&&(M="uint8_clamped");var i,y=new(f(M))(4),u="uint8"!==M&&"uint8_clamped"!==M;return S.length&&"string"!=typeof S||((S=I(S))[0]/=255,S[1]/=255,S[2]/=255),(i=S)instanceof Uint8Array||i instanceof Uint8ClampedArray||Array.isArray(i)&&(i[0]>1||0===i[0])&&(i[1]>1||0===i[1])&&(i[2]>1||0===i[2])&&(!i[3]||i[3]>1)?(y[0]=S[0],y[1]=S[1],y[2]=S[2],y[3]=null!=S[3]?S[3]:255,u&&(y[0]/=255,y[1]/=255,y[2]/=255,y[3]/=255),y):(u?(y[0]=S[0],y[1]=S[1],y[2]=S[2],y[3]=null!=S[3]?S[3]:1):(y[0]=E(Math.floor(255*S[0]),0,255),y[1]=E(Math.floor(255*S[1]),0,255),y[2]=E(Math.floor(255*S[2]),0,255),y[3]=null==S[3]?255:E(Math.floor(255*S[3]),0,255)),y)}},90736:function(oe,j,r){"use strict";var I=r(76857),E=r(10973),f=r(46775);oe.exports=function(M){var y,u,i=[],s=1;if("string"==typeof M)if(I[M])i=I[M].slice(),u="rgb";else if("transparent"===M)s=0,u="rgb",i=[0,0,0];else if(/^#[A-Fa-f0-9]+$/.test(M)){var a=M.slice(1);s=1,(c=a.length)<=4?(i=[parseInt(a[0]+a[0],16),parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16)],4===c&&(s=parseInt(a[3]+a[3],16)/255)):(i=[parseInt(a[0]+a[1],16),parseInt(a[2]+a[3],16),parseInt(a[4]+a[5],16)],8===c&&(s=parseInt(a[6]+a[7],16)/255)),i[0]||(i[0]=0),i[1]||(i[1]=0),i[2]||(i[2]=0),u="rgb"}else if(y=/^((?:rgb|hs[lvb]|hwb|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms)a?)\s*\(([^\)]*)\)/.exec(M)){var o=y[1],l="rgb"===o;u=a=o.replace(/a$/,"");var c="cmyk"===a?4:"gray"===a?1:3;i=y[2].trim().split(/\s*,\s*/).map(function(v,p){if(/%$/.test(v))return p===c?parseFloat(v)/100:"rgb"===a?255*parseFloat(v)/100:parseFloat(v);if("h"===a[p]){if(/deg$/.test(v))return parseFloat(v);if(void 0!==S[v])return S[v]}return parseFloat(v)}),o===a&&i.push(1),s=l||void 0===i[c]?1:i[c],i=i.slice(0,c)}else M.length>10&&/[0-9](?:\s|\/)/.test(M)&&(i=M.match(/([0-9]+)/g).map(function(v){return parseFloat(v)}),u=M.match(/([a-z])/gi).join("").toLowerCase());else if(isNaN(M))if(E(M)){var h=f(M.r,M.red,M.R,null);null!==h?(u="rgb",i=[h,f(M.g,M.green,M.G),f(M.b,M.blue,M.B)]):(u="hsl",i=[f(M.h,M.hue,M.H),f(M.s,M.saturation,M.S),f(M.l,M.lightness,M.L,M.b,M.brightness)]),s=f(M.a,M.alpha,M.opacity,1),null!=M.opacity&&(s/=100)}else(Array.isArray(M)||r.g.ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(M))&&(i=[M[0],M[1],M[2]],u="rgb",s=4===M.length?M[3]:1);else u="rgb",i=[M>>>16,(65280&M)>>>8,255&M];return{space:u,values:i,alpha:s}};var S={red:0,orange:60,yellow:120,green:180,blue:240,purple:300}},36652:function(oe,j,r){"use strict";var I=r(90736),E=r(80009),f=r(53435);oe.exports=function(S){var M,y=I(S);return y.space?((M=Array(3))[0]=f(y.values[0],0,255),M[1]=f(y.values[1],0,255),M[2]=f(y.values[2],0,255),"h"===y.space[0]&&(M=E.rgb(M)),M.push(f(y.alpha,0,1)),M):[]}},80009:function(oe,j,r){"use strict";var I=r(6866);oe.exports={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(E){var f,S,M,y,u,i=E[0]/360,s=E[1]/100,a=E[2]/100;if(0===s)return[u=255*a,u,u];f=2*a-(S=a<.5?a*(1+s):a+s-a*s),y=[0,0,0];for(var o=0;o<3;o++)(M=i+.3333333333333333*-(o-1))<0?M++:M>1&&M--,y[o]=255*(u=6*M<1?f+6*(S-f)*M:2*M<1?S:3*M<2?f+(S-f)*(.6666666666666666-M)*6:f);return y}},I.hsl=function(E){var f,S,M=E[0]/255,y=E[1]/255,u=E[2]/255,i=Math.min(M,y,u),s=Math.max(M,y,u),a=s-i;return s===i?f=0:M===s?f=(y-u)/a:y===s?f=2+(u-M)/a:u===s&&(f=4+(M-y)/a),(f=Math.min(60*f,360))<0&&(f+=360),S=(i+s)/2,[f,100*(s===i?0:S<=.5?a/(s+i):a/(2-s-i)),100*S]}},6866:function(oe){"use strict";oe.exports={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]}},24138:function(oe){oe.exports={AFG:"afghan",ALA:"\\b\\wland",ALB:"albania",DZA:"algeria",ASM:"^(?=.*americ).*samoa",AND:"andorra",AGO:"angola",AIA:"anguill?a",ATA:"antarctica",ATG:"antigua",ARG:"argentin",ARM:"armenia",ABW:"^(?!.*bonaire).*\\baruba",AUS:"australia",AUT:"^(?!.*hungary).*austria|\\baustri.*\\bemp",AZE:"azerbaijan",BHS:"bahamas",BHR:"bahrain",BGD:"bangladesh|^(?=.*east).*paki?stan",BRB:"barbados",BLR:"belarus|byelo",BEL:"^(?!.*luxem).*belgium",BLZ:"belize|^(?=.*british).*honduras",BEN:"benin|dahome",BMU:"bermuda",BTN:"bhutan",BOL:"bolivia",BES:"^(?=.*bonaire).*eustatius|^(?=.*carib).*netherlands|\\bbes.?islands",BIH:"herzegovina|bosnia",BWA:"botswana|bechuana",BVT:"bouvet",BRA:"brazil",IOT:"british.?indian.?ocean",BRN:"brunei",BGR:"bulgaria",BFA:"burkina|\\bfaso|upper.?volta",BDI:"burundi",CPV:"verde",KHM:"cambodia|kampuchea|khmer",CMR:"cameroon",CAN:"canada",CYM:"cayman",CAF:"\\bcentral.african.republic",TCD:"\\bchad",CHL:"\\bchile",CHN:"^(?!.*\\bmac)(?!.*\\bhong)(?!.*\\btai)(?!.*\\brep).*china|^(?=.*peo)(?=.*rep).*china",CXR:"christmas",CCK:"\\bcocos|keeling",COL:"colombia",COM:"comoro",COG:"^(?!.*\\bdem)(?!.*\\bd[\\.]?r)(?!.*kinshasa)(?!.*zaire)(?!.*belg)(?!.*l.opoldville)(?!.*free).*\\bcongo",COK:"\\bcook",CRI:"costa.?rica",CIV:"ivoire|ivory",HRV:"croatia",CUB:"\\bcuba",CUW:"^(?!.*bonaire).*\\bcura(c|\xe7)ao",CYP:"cyprus",CSK:"czechoslovakia",CZE:"^(?=.*rep).*czech|czechia|bohemia",COD:"\\bdem.*congo|congo.*\\bdem|congo.*\\bd[\\.]?r|\\bd[\\.]?r.*congo|belgian.?congo|congo.?free.?state|kinshasa|zaire|l.opoldville|drc|droc|rdc",DNK:"denmark",DJI:"djibouti",DMA:"dominica(?!n)",DOM:"dominican.rep",ECU:"ecuador",EGY:"egypt",SLV:"el.?salvador",GNQ:"guine.*eq|eq.*guine|^(?=.*span).*guinea",ERI:"eritrea",EST:"estonia",ETH:"ethiopia|abyssinia",FLK:"falkland|malvinas",FRO:"faroe|faeroe",FJI:"fiji",FIN:"finland",FRA:"^(?!.*\\bdep)(?!.*martinique).*france|french.?republic|\\bgaul",GUF:"^(?=.*french).*guiana",PYF:"french.?polynesia|tahiti",ATF:"french.?southern",GAB:"gabon",GMB:"gambia",GEO:"^(?!.*south).*georgia",DDR:"german.?democratic.?republic|democratic.?republic.*germany|east.germany",DEU:"^(?!.*east).*germany|^(?=.*\\bfed.*\\brep).*german",GHA:"ghana|gold.?coast",GIB:"gibraltar",GRC:"greece|hellenic|hellas",GRL:"greenland",GRD:"grenada",GLP:"guadeloupe",GUM:"\\bguam",GTM:"guatemala",GGY:"guernsey",GIN:"^(?!.*eq)(?!.*span)(?!.*bissau)(?!.*portu)(?!.*new).*guinea",GNB:"bissau|^(?=.*portu).*guinea",GUY:"guyana|british.?guiana",HTI:"haiti",HMD:"heard.*mcdonald",VAT:"holy.?see|vatican|papal.?st",HND:"^(?!.*brit).*honduras",HKG:"hong.?kong",HUN:"^(?!.*austr).*hungary",ISL:"iceland",IND:"india(?!.*ocea)",IDN:"indonesia",IRN:"\\biran|persia",IRQ:"\\biraq|mesopotamia",IRL:"(^ireland)|(^republic.*ireland)",IMN:"^(?=.*isle).*\\bman",ISR:"israel",ITA:"italy",JAM:"jamaica",JPN:"japan",JEY:"jersey",JOR:"jordan",KAZ:"kazak",KEN:"kenya|british.?east.?africa|east.?africa.?prot",KIR:"kiribati",PRK:"^(?=.*democrat|people|north|d.*p.*.r).*\\bkorea|dprk|korea.*(d.*p.*r)",KWT:"kuwait",KGZ:"kyrgyz|kirghiz",LAO:"\\blaos?\\b",LVA:"latvia",LBN:"lebanon",LSO:"lesotho|basuto",LBR:"liberia",LBY:"libya",LIE:"liechtenstein",LTU:"lithuania",LUX:"^(?!.*belg).*luxem",MAC:"maca(o|u)",MDG:"madagascar|malagasy",MWI:"malawi|nyasa",MYS:"malaysia",MDV:"maldive",MLI:"\\bmali\\b",MLT:"\\bmalta",MHL:"marshall",MTQ:"martinique",MRT:"mauritania",MUS:"mauritius",MYT:"\\bmayotte",MEX:"\\bmexic",FSM:"fed.*micronesia|micronesia.*fed",MCO:"monaco",MNG:"mongolia",MNE:"^(?!.*serbia).*montenegro",MSR:"montserrat",MAR:"morocco|\\bmaroc",MOZ:"mozambique",MMR:"myanmar|burma",NAM:"namibia",NRU:"nauru",NPL:"nepal",NLD:"^(?!.*\\bant)(?!.*\\bcarib).*netherlands",ANT:"^(?=.*\\bant).*(nether|dutch)",NCL:"new.?caledonia",NZL:"new.?zealand",NIC:"nicaragua",NER:"\\bniger(?!ia)",NGA:"nigeria",NIU:"niue",NFK:"norfolk",MNP:"mariana",NOR:"norway",OMN:"\\boman|trucial",PAK:"^(?!.*east).*paki?stan",PLW:"palau",PSE:"palestin|\\bgaza|west.?bank",PAN:"panama",PNG:"papua|new.?guinea",PRY:"paraguay",PER:"peru",PHL:"philippines",PCN:"pitcairn",POL:"poland",PRT:"portugal",PRI:"puerto.?rico",QAT:"qatar",KOR:"^(?!.*d.*p.*r)(?!.*democrat)(?!.*people)(?!.*north).*\\bkorea(?!.*d.*p.*r)",MDA:"moldov|b(a|e)ssarabia",REU:"r(e|\xe9)union",ROU:"r(o|u|ou)mania",RUS:"\\brussia|soviet.?union|u\\.?s\\.?s\\.?r|socialist.?republics",RWA:"rwanda",BLM:"barth(e|\xe9)lemy",SHN:"helena",KNA:"kitts|\\bnevis",LCA:"\\blucia",MAF:"^(?=.*collectivity).*martin|^(?=.*france).*martin(?!ique)|^(?=.*french).*martin(?!ique)",SPM:"miquelon",VCT:"vincent",WSM:"^(?!.*amer).*samoa",SMR:"san.?marino",STP:"\\bs(a|\xe3)o.?tom(e|\xe9)",SAU:"\\bsa\\w*.?arabia",SEN:"senegal",SRB:"^(?!.*monte).*serbia",SYC:"seychell",SLE:"sierra",SGP:"singapore",SXM:"^(?!.*martin)(?!.*saba).*maarten",SVK:"^(?!.*cze).*slovak",SVN:"slovenia",SLB:"solomon",SOM:"somali",ZAF:"south.africa|s\\\\..?africa",SGS:"south.?georgia|sandwich",SSD:"\\bs\\w*.?sudan",ESP:"spain",LKA:"sri.?lanka|ceylon",SDN:"^(?!.*\\bs(?!u)).*sudan",SUR:"surinam|dutch.?guiana",SJM:"svalbard",SWZ:"swaziland",SWE:"sweden",CHE:"switz|swiss",SYR:"syria",TWN:"taiwan|taipei|formosa|^(?!.*peo)(?=.*rep).*china",TJK:"tajik",THA:"thailand|\\bsiam",MKD:"macedonia|fyrom",TLS:"^(?=.*leste).*timor|^(?=.*east).*timor",TGO:"togo",TKL:"tokelau",TON:"tonga",TTO:"trinidad|tobago",TUN:"tunisia",TUR:"turkey",TKM:"turkmen",TCA:"turks",TUV:"tuvalu",UGA:"uganda",UKR:"ukrain",ARE:"emirates|^u\\.?a\\.?e\\.?$|united.?arab.?em",GBR:"united.?kingdom|britain|^u\\.?k\\.?$",TZA:"tanzania",USA:"united.?states\\b(?!.*islands)|\\bu\\.?s\\.?a\\.?\\b|^\\s*u\\.?s\\.?\\b(?!.*islands)",UMI:"minor.?outlying.?is",URY:"uruguay",UZB:"uzbek",VUT:"vanuatu|new.?hebrides",VEN:"venezuela",VNM:"^(?!.*republic).*viet.?nam|^(?=.*socialist).*viet.?nam",VGB:"^(?=.*\\bu\\.?\\s?k).*virgin|^(?=.*brit).*virgin|^(?=.*kingdom).*virgin",VIR:"^(?=.*\\bu\\.?\\s?s).*virgin|^(?=.*states).*virgin",WLF:"futuna|wallis",ESH:"western.sahara",YEM:"^(?!.*arab)(?!.*north)(?!.*sana)(?!.*peo)(?!.*dem)(?!.*south)(?!.*aden)(?!.*\\bp\\.?d\\.?r).*yemen",YMD:"^(?=.*peo).*yemen|^(?!.*rep)(?=.*dem).*yemen|^(?=.*south).*yemen|^(?=.*aden).*yemen|^(?=.*\\bp\\.?d\\.?r).*yemen",YUG:"yugoslavia",ZMB:"zambia|northern.?rhodesia",EAZ:"zanzibar",ZWE:"zimbabwe|^(?!.*northern).*rhodesia"}},72791:function(oe,j,r){"use strict";oe.exports={parse:r(41004),stringify:r(53313)}},63625:function(oe,j,r){"use strict";var I=r(40402);oe.exports={isSize:function(E){return/^[\d\.]/.test(E)||-1!==E.indexOf("/")||-1!==I.indexOf(E)}}},41004:function(oe,j,r){"use strict";var I=r(90448),E=r(38732),f=r(41901),S=r(15659),M=r(96209),y=r(83794),u=r(99011),i=r(63625).isSize;oe.exports=a;var s=a.cache={};function a(l){if("string"!=typeof l)throw new Error("Font argument must be a string.");if(s[l])return s[l];if(""===l)throw new Error("Cannot parse an empty string.");if(-1!==f.indexOf(l))return s[l]={system:l};for(var c,h={style:"normal",variant:"normal",weight:"normal",stretch:"normal",lineHeight:"normal",size:"1rem",family:["serif"]},v=u(l,/\s+/);c=v.shift();){if(-1!==E.indexOf(c))return["style","variant","weight","stretch"].forEach(function(T){h[T]=c}),s[l]=h;if(-1===M.indexOf(c))if("normal"!==c&&"small-caps"!==c)if(-1===y.indexOf(c)){if(-1===S.indexOf(c)){if(i(c)){var p=u(c,"/");if(h.size=p[0],null!=p[1]?h.lineHeight=o(p[1]):"/"===v[0]&&(v.shift(),h.lineHeight=o(v.shift())),!v.length)throw new Error("Missing required font-family.");return h.family=u(v.join(" "),/\s*,\s*/).map(I),s[l]=h}throw new Error("Unknown or unsupported font token: "+c)}h.weight=c}else h.stretch=c;else h.variant=c;else h.style=c}throw new Error("Missing required font-size.")}function o(l){var c=parseFloat(l);return c.toString()===l?c:l}},53313:function(oe,j,r){"use strict";var I=r(71299),E=r(63625).isSize,f=l(r(38732)),S=l(r(41901)),M=l(r(15659)),y=l(r(96209)),u=l(r(83794)),i={normal:1,"small-caps":1},s={serif:1,"sans-serif":1,monospace:1,cursive:1,fantasy:1,"system-ui":1},a="serif";function o(c,h){if(c&&!h[c]&&!f[c])throw Error("Unknown keyword `"+c+"`");return c}function l(c){for(var h={},v=0;v<c.length;v++)h[c[v]]=1;return h}oe.exports=function(c){if((c=I(c,{style:"style fontstyle fontStyle font-style slope distinction",variant:"variant font-variant fontVariant fontvariant var capitalization",weight:"weight w font-weight fontWeight fontweight",stretch:"stretch font-stretch fontStretch fontstretch width",size:"size s font-size fontSize fontsize height em emSize",lineHeight:"lh line-height lineHeight lineheight leading",family:"font family fontFamily font-family fontfamily type typeface face",system:"system reserved default global"})).system)return c.system&&o(c.system,S),c.system;if(o(c.style,y),o(c.variant,i),o(c.weight,M),o(c.stretch,u),null==c.size&&(c.size="1rem"),"number"==typeof c.size&&(c.size+="px"),!E)throw Error("Bad size value `"+c.size+"`");c.family||(c.family=a),Array.isArray(c.family)&&(c.family.length||(c.family=[a]),c.family=c.family.map(function(v){return s[v]?v:'"'+v+'"'}).join(", "));var h=[];return h.push(c.style),c.variant!==c.style&&h.push(c.variant),c.weight!==c.variant&&c.weight!==c.style&&h.push(c.weight),c.stretch!==c.weight&&c.stretch!==c.variant&&c.stretch!==c.style&&h.push(c.stretch),h.push(c.size+(null==c.lineHeight||"normal"===c.lineHeight||c.lineHeight+""=="1"?"":"/"+c.lineHeight)),h.push(c.family),h.filter(Boolean).join(" ")}},55174:function(oe,j,r){"use strict";var I,E=r(24582),f=r(10424),S=r(82527),M=r(19012),y=r(21780),u=r(16906),i=Function.prototype.bind,s=Object.defineProperty,a=Object.prototype.hasOwnProperty;I=function(o,l,c){var h,v=f(l)&&S(l.value);return delete(h=M(l)).writable,delete h.value,h.get=function(){return!c.overwriteDefinition&&a.call(this,o)?v:(l.value=i.call(v,c.resolveContext?c.resolveContext(this):this),s(this,o,l),this[o])},h},oe.exports=function(o){var l=y(arguments[1]);return E(l.resolveContext)&&S(l.resolveContext),u(o,function(c,h){return I(h,c,l)})}},62072:function(oe,j,r){"use strict";var I=r(24582),E=r(84985),f=r(95879),S=r(21780),M=r(66741),y=oe.exports=function(u,i){var s,a,o,l,c;return arguments.length<2||"string"!=typeof u?(l=i,i=u,u=null):l=arguments[2],I(u)?(s=M.call(u,"c"),a=M.call(u,"e"),o=M.call(u,"w")):(s=o=!0,a=!1),c={value:i,configurable:s,enumerable:a,writable:o},l?f(S(l),c):c};y.gs=function(u,i,s){var a,o,l,c;return"string"!=typeof u?(l=s,s=i,i=u,u=null):l=arguments[3],I(i)?E(i)?I(s)?E(s)||(l=s,s=void 0):s=void 0:(l=i,i=s=void 0):i=void 0,I(u)?(a=M.call(u,"c"),o=M.call(u,"e")):(a=!0,o=!1),c={get:i,set:s,configurable:a,enumerable:o},l?f(S(l),c):c}},33064:function(oe,j,r){"use strict";function I(l,c){return l<c?-1:l>c?1:l>=c?0:NaN}var E,f;function M(l,c){var h,v,p=l.length,T=-1;if(null==c){for(;++T<p;)if(null!=(h=l[T])&&h>=h)for(v=h;++T<p;)null!=(h=l[T])&&h>v&&(v=h)}else for(;++T<p;)if(null!=(h=c(l[T],T,l))&&h>=h)for(v=h;++T<p;)null!=(h=c(l[T],T,l))&&h>v&&(v=h);return v}function y(l){return null===l?NaN:+l}function u(l,c){var h,v=l.length,p=v,T=-1,_=0;if(null==c)for(;++T<v;)isNaN(h=y(l[T]))?--p:_+=h;else for(;++T<v;)isNaN(h=y(c(l[T],T,l)))?--p:_+=h;if(p)return _/p}function i(l){for(var c,h,v,p=l.length,T=-1,_=0;++T<p;)_+=l[T].length;for(h=new Array(_);--p>=0;)for(c=(v=l[p]).length;--c>=0;)h[--_]=v[c];return h}function s(l,c){var h,v,p=l.length,T=-1;if(null==c){for(;++T<p;)if(null!=(h=l[T])&&h>=h)for(v=h;++T<p;)null!=(h=l[T])&&v>h&&(v=h)}else for(;++T<p;)if(null!=(h=c(l[T],T,l))&&h>=h)for(v=h;++T<p;)null!=(h=c(l[T],T,l))&&v>h&&(v=h);return v}function a(l,c,h){l=+l,c=+c,h=(p=arguments.length)<2?(c=l,l=0,1):p<3?1:+h;for(var v=-1,p=0|Math.max(0,Math.ceil((c-l)/h)),T=new Array(p);++v<p;)T[v]=l+v*h;return T}function o(l,c){var h,v=l.length,p=-1,T=0;if(null==c)for(;++p<v;)(h=+l[p])&&(T+=h);else for(;++p<v;)(h=+c(l[p],p,l))&&(T+=h);return T}r.d(j,{j2:function(){return I},Fp:function(){return M},J6:function(){return u},TS:function(){return i},VV:function(){return s},w6:function(){return a},Sm:function(){return o}}),1===(E=I).length&&(f=E,E=function(l,c){return I(f(l),c)}),Math.sqrt(50),Math.sqrt(10),Math.sqrt(2)},15140:function(oe,j,r){"use strict";r.d(j,{UI:function(){return S},b1:function(){return M}});var I="$";function E(){}function f(l,c){var h=new E;if(l instanceof E)l.each(function(g,w){h.set(w,g)});else if(Array.isArray(l)){var v,p=-1,T=l.length;if(null==c)for(;++p<T;)h.set(p,l[p]);else for(;++p<T;)h.set(c(v=l[p],p,l),v)}else if(l)for(var _ in l)h.set(_,l[_]);return h}E.prototype=f.prototype={constructor:E,has:function(l){return I+l in this},get:function(l){return this[I+l]},set:function(l,c){return this[I+l]=c,this},remove:function(l){var c=I+l;return c in this&&delete this[c]},clear:function(){for(var l in this)l[0]===I&&delete this[l]},keys:function(){var l=[];for(var c in this)c[0]===I&&l.push(c.slice(1));return l},values:function(){var l=[];for(var c in this)c[0]===I&&l.push(this[c]);return l},entries:function(){var l=[];for(var c in this)c[0]===I&&l.push({key:c.slice(1),value:this[c]});return l},size:function(){var l=0;for(var c in this)c[0]===I&&++l;return l},empty:function(){for(var l in this)if(l[0]===I)return!1;return!0},each:function(l){for(var c in this)c[0]===I&&l(this[c],c.slice(1),this)}};var S=f;function M(){var l,c,h,v=[],p=[];function T(g,w,x,b){if(w>=v.length)return null!=l&&g.sort(l),null!=c?c(g):g;for(var A,m,C,k=-1,P=g.length,R=v[w++],L=S(),N=x();++k<P;)(C=L.get(A=R(m=g[k])+""))?C.push(m):L.set(A,[m]);return L.each(function(B,J){b(N,J,T(B,w,x,b))}),N}function _(g,w){if(++w>v.length)return g;var x,b=p[w-1];return null!=c&&w>=v.length?x=g.entries():(x=[],g.each(function(A,m){x.push({key:m,values:_(A,w)})})),null!=b?x.sort(function(A,m){return b(A.key,m.key)}):x}return h={object:function(g){return T(g,0,y,u)},map:function(g){return T(g,0,i,s)},entries:function(g){return _(T(g,0,i,s),0)},key:function(g){return v.push(g),h},sortKeys:function(g){return p[v.length-1]=g,h},sortValues:function(g){return l=g,h},rollup:function(g){return c=g,h}}}function y(){return{}}function u(l,c,h){l[c]=h}function i(){return S()}function s(l,c,h){l.set(c,h)}function a(){}var o=S.prototype;a.prototype=function(l,c){var h=new a;if(l instanceof a)l.each(function(T){h.add(T)});else if(l){var v=-1,p=l.length;if(null==c)for(;++v<p;)h.add(l[v]);else for(;++v<p;)h.add(c(l[v],v,l))}return h}.prototype={constructor:a,has:o.has,add:function(l){return this[I+(l+="")]=l,this},remove:o.remove,clear:o.clear,values:o.keys,size:o.size,empty:o.empty,each:o.each}},49887:function(oe,j,r){"use strict";function I(ye,we){var ze;function ke(){var Ee,me,de=ze.length,ce=0,Ae=0;for(Ee=0;Ee<de;++Ee)ce+=(me=ze[Ee]).x,Ae+=me.y;for(ce=ce/de-ye,Ae=Ae/de-we,Ee=0;Ee<de;++Ee)(me=ze[Ee]).x-=ce,me.y-=Ae}return null==ye&&(ye=0),null==we&&(we=0),ke.initialize=function(Ee){ze=Ee},ke.x=function(Ee){return arguments.length?(ye=+Ee,ke):ye},ke.y=function(Ee){return arguments.length?(we=+Ee,ke):we},ke}function E(ye){return function(){return ye}}function f(){return 1e-6*(Math.random()-.5)}function S(ye,we,ze,ke){if(isNaN(we)||isNaN(ze))return ye;var Ee,me,de,ce,Ae,Ne,De,Ue,Ye,_e=ye._root,Pe={data:ke},Ie=ye._x0,Be=ye._y0,We=ye._x1,Ge=ye._y1;if(!_e)return ye._root=Pe,ye;for(;_e.length;)if((Ne=we>=(me=(Ie+We)/2))?Ie=me:We=me,(De=ze>=(de=(Be+Ge)/2))?Be=de:Ge=de,Ee=_e,!(_e=_e[Ue=De<<1|Ne]))return Ee[Ue]=Pe,ye;if(ce=+ye._x.call(null,_e.data),Ae=+ye._y.call(null,_e.data),we===ce&&ze===Ae)return Pe.next=_e,Ee?Ee[Ue]=Pe:ye._root=Pe,ye;do{Ee=Ee?Ee[Ue]=new Array(4):ye._root=new Array(4),(Ne=we>=(me=(Ie+We)/2))?Ie=me:We=me,(De=ze>=(de=(Be+Ge)/2))?Be=de:Ge=de}while((Ue=De<<1|Ne)==(Ye=(Ae>=de)<<1|ce>=me));return Ee[Ye]=_e,Ee[Ue]=Pe,ye}function M(ye,we,ze,ke,Ee){this.node=ye,this.x0=we,this.y0=ze,this.x1=ke,this.y1=Ee}function y(ye){return ye[0]}function u(ye){return ye[1]}function i(ye,we,ze){var ke=new s(we??y,ze??u,NaN,NaN,NaN,NaN);return null==ye?ke:ke.addAll(ye)}function s(ye,we,ze,ke,Ee,me){this._x=ye,this._y=we,this._x0=ze,this._y0=ke,this._x1=Ee,this._y1=me,this._root=void 0}function a(ye){for(var we={data:ye.data},ze=we;ye=ye.next;)ze=ze.next={data:ye.data};return we}r.r(j),r.d(j,{forceCenter:function(){return I},forceCollide:function(){return h},forceLink:function(){return _},forceManyBody:function(){return ge},forceRadial:function(){return xe},forceSimulation:function(){return pe},forceX:function(){return Se},forceY:function(){return Te}});var o=i.prototype=s.prototype;function l(ye){return ye.x+ye.vx}function c(ye){return ye.y+ye.vy}function h(ye){var we,ze,ke=1,Ee=1;function me(){for(var Ae,Ne,De,Ue,Ye,_e,Pe,Ie=we.length,Be=0;Be<Ee;++Be)for(Ne=i(we,l,c).visitAfter(de),Ae=0;Ae<Ie;++Ae)Pe=(_e=ze[(De=we[Ae]).index])*_e,Ue=De.x+De.vx,Ye=De.y+De.vy,Ne.visit(We);function We(Ge,Ke,tt,st,gt){var ct=Ge.data,kt=Ge.r,Dt=_e+kt;if(!ct)return Ke>Ue+Dt||st<Ue-Dt||tt>Ye+Dt||gt<Ye-Dt;if(ct.index>De.index){var vt=Ue-ct.x-ct.vx,mt=Ye-ct.y-ct.vy,Et=vt*vt+mt*mt;Et<Dt*Dt&&(0===vt&&(Et+=(vt=f())*vt),0===mt&&(Et+=(mt=f())*mt),Et=(Dt-(Et=Math.sqrt(Et)))/Et*ke,De.vx+=(vt*=Et)*(Dt=(kt*=kt)/(Pe+kt)),De.vy+=(mt*=Et)*Dt,ct.vx-=vt*(Dt=1-Dt),ct.vy-=mt*Dt)}}}function de(Ae){if(Ae.data)return Ae.r=ze[Ae.data.index];for(var Ne=Ae.r=0;Ne<4;++Ne)Ae[Ne]&&Ae[Ne].r>Ae.r&&(Ae.r=Ae[Ne].r)}function ce(){if(we){var Ae,Ne,De=we.length;for(ze=new Array(De),Ae=0;Ae<De;++Ae)ze[(Ne=we[Ae]).index]=+ye(Ne,Ae,we)}}return"function"!=typeof ye&&(ye=E(null==ye?1:+ye)),me.initialize=function(Ae){we=Ae,ce()},me.iterations=function(Ae){return arguments.length?(Ee=+Ae,me):Ee},me.strength=function(Ae){return arguments.length?(ke=+Ae,me):ke},me.radius=function(Ae){return arguments.length?(ye="function"==typeof Ae?Ae:E(+Ae),ce(),me):ye},me}o.copy=function(){var ye,we,ze=new s(this._x,this._y,this._x0,this._y0,this._x1,this._y1),ke=this._root;if(!ke)return ze;if(!ke.length)return ze._root=a(ke),ze;for(ye=[{source:ke,target:ze._root=new Array(4)}];ke=ye.pop();)for(var Ee=0;Ee<4;++Ee)(we=ke.source[Ee])&&(we.length?ye.push({source:we,target:ke.target[Ee]=new Array(4)}):ke.target[Ee]=a(we));return ze},o.add=function(ye){var we=+this._x.call(null,ye),ze=+this._y.call(null,ye);return S(this.cover(we,ze),we,ze,ye)},o.addAll=function(ye){var we,ze,ke,Ee,me=ye.length,de=new Array(me),ce=new Array(me),Ae=1/0,Ne=1/0,De=-1/0,Ue=-1/0;for(ze=0;ze<me;++ze)isNaN(ke=+this._x.call(null,we=ye[ze]))||isNaN(Ee=+this._y.call(null,we))||(de[ze]=ke,ce[ze]=Ee,ke<Ae&&(Ae=ke),ke>De&&(De=ke),Ee<Ne&&(Ne=Ee),Ee>Ue&&(Ue=Ee));if(Ae>De||Ne>Ue)return this;for(this.cover(Ae,Ne).cover(De,Ue),ze=0;ze<me;++ze)S(this,de[ze],ce[ze],ye[ze]);return this},o.cover=function(ye,we){if(isNaN(ye=+ye)||isNaN(we=+we))return this;var ze=this._x0,ke=this._y0,Ee=this._x1,me=this._y1;if(isNaN(ze))Ee=(ze=Math.floor(ye))+1,me=(ke=Math.floor(we))+1;else{for(var de,ce,Ae=Ee-ze,Ne=this._root;ze>ye||ye>=Ee||ke>we||we>=me;)switch(ce=(we<ke)<<1|ye<ze,(de=new Array(4))[ce]=Ne,Ne=de,Ae*=2,ce){case 0:Ee=ze+Ae,me=ke+Ae;break;case 1:ze=Ee-Ae,me=ke+Ae;break;case 2:Ee=ze+Ae,ke=me-Ae;break;case 3:ze=Ee-Ae,ke=me-Ae}this._root&&this._root.length&&(this._root=Ne)}return this._x0=ze,this._y0=ke,this._x1=Ee,this._y1=me,this},o.data=function(){var ye=[];return this.visit(function(we){if(!we.length)do{ye.push(we.data)}while(we=we.next)}),ye},o.extent=function(ye){return arguments.length?this.cover(+ye[0][0],+ye[0][1]).cover(+ye[1][0],+ye[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},o.find=function(ye,we,ze){var ke,Ee,me,de,ce,Ae,Ne,De=this._x0,Ue=this._y0,Ye=this._x1,_e=this._y1,Pe=[],Ie=this._root;for(Ie&&Pe.push(new M(Ie,De,Ue,Ye,_e)),null==ze?ze=1/0:(De=ye-ze,Ue=we-ze,Ye=ye+ze,_e=we+ze,ze*=ze);Ae=Pe.pop();)if(!(!(Ie=Ae.node)||(Ee=Ae.x0)>Ye||(me=Ae.y0)>_e||(de=Ae.x1)<De||(ce=Ae.y1)<Ue))if(Ie.length){var Be=(Ee+de)/2,We=(me+ce)/2;Pe.push(new M(Ie[3],Be,We,de,ce),new M(Ie[2],Ee,We,Be,ce),new M(Ie[1],Be,me,de,We),new M(Ie[0],Ee,me,Be,We)),(Ne=(we>=We)<<1|ye>=Be)&&(Ae=Pe[Pe.length-1],Pe[Pe.length-1]=Pe[Pe.length-1-Ne],Pe[Pe.length-1-Ne]=Ae)}else{var Ge=ye-+this._x.call(null,Ie.data),Ke=we-+this._y.call(null,Ie.data),tt=Ge*Ge+Ke*Ke;if(tt<ze){var st=Math.sqrt(ze=tt);De=ye-st,Ue=we-st,Ye=ye+st,_e=we+st,ke=Ie.data}}return ke},o.remove=function(ye){if(isNaN(me=+this._x.call(null,ye))||isNaN(de=+this._y.call(null,ye)))return this;var we,ze,ke,Ee,me,de,ce,Ae,Ne,De,Ue,Ye,_e=this._root,Pe=this._x0,Ie=this._y0,Be=this._x1,We=this._y1;if(!_e)return this;if(_e.length)for(;;){if((Ne=me>=(ce=(Pe+Be)/2))?Pe=ce:Be=ce,(De=de>=(Ae=(Ie+We)/2))?Ie=Ae:We=Ae,we=_e,!(_e=_e[Ue=De<<1|Ne]))return this;if(!_e.length)break;(we[Ue+1&3]||we[Ue+2&3]||we[Ue+3&3])&&(ze=we,Ye=Ue)}for(;_e.data!==ye;)if(ke=_e,!(_e=_e.next))return this;return(Ee=_e.next)&&delete _e.next,ke?(Ee?ke.next=Ee:delete ke.next,this):we?(Ee?we[Ue]=Ee:delete we[Ue],(_e=we[0]||we[1]||we[2]||we[3])&&_e===(we[3]||we[2]||we[1]||we[0])&&!_e.length&&(ze?ze[Ye]=_e:this._root=_e),this):(this._root=Ee,this)},o.removeAll=function(ye){for(var we=0,ze=ye.length;we<ze;++we)this.remove(ye[we]);return this},o.root=function(){return this._root},o.size=function(){var ye=0;return this.visit(function(we){if(!we.length)do{++ye}while(we=we.next)}),ye},o.visit=function(ye){var we,ze,ke,Ee,me,de,ce=[],Ae=this._root;for(Ae&&ce.push(new M(Ae,this._x0,this._y0,this._x1,this._y1));we=ce.pop();)if(!ye(Ae=we.node,ke=we.x0,Ee=we.y0,me=we.x1,de=we.y1)&&Ae.length){var Ne=(ke+me)/2,De=(Ee+de)/2;(ze=Ae[3])&&ce.push(new M(ze,Ne,De,me,de)),(ze=Ae[2])&&ce.push(new M(ze,ke,De,Ne,de)),(ze=Ae[1])&&ce.push(new M(ze,Ne,Ee,me,De)),(ze=Ae[0])&&ce.push(new M(ze,ke,Ee,Ne,De))}return this},o.visitAfter=function(ye){var we,ze=[],ke=[];for(this._root&&ze.push(new M(this._root,this._x0,this._y0,this._x1,this._y1));we=ze.pop();){var Ee=we.node;if(Ee.length){var me,de=we.x0,ce=we.y0,Ae=we.x1,Ne=we.y1,De=(de+Ae)/2,Ue=(ce+Ne)/2;(me=Ee[0])&&ze.push(new M(me,de,ce,De,Ue)),(me=Ee[1])&&ze.push(new M(me,De,ce,Ae,Ue)),(me=Ee[2])&&ze.push(new M(me,de,Ue,De,Ne)),(me=Ee[3])&&ze.push(new M(me,De,Ue,Ae,Ne))}ke.push(we)}for(;we=ke.pop();)ye(we.node,we.x0,we.y0,we.x1,we.y1);return this},o.x=function(ye){return arguments.length?(this._x=ye,this):this._x},o.y=function(ye){return arguments.length?(this._y=ye,this):this._y};var v=r(15140);function p(ye){return ye.index}function T(ye,we){var ze=ye.get(we);if(!ze)throw new Error("missing: "+we);return ze}function _(ye){var we,ze,ke,Ee,me,de=p,ce=function(Pe){return 1/Math.min(Ee[Pe.source.index],Ee[Pe.target.index])},Ae=E(30),Ne=1;function De(Pe){for(var Ie=0,Be=ye.length;Ie<Ne;++Ie)for(var We,Ge,Ke,tt,st,gt,ct,kt=0;kt<Be;++kt)Ge=(We=ye[kt]).source,tt=(Ke=We.target).x+Ke.vx-Ge.x-Ge.vx||f(),st=Ke.y+Ke.vy-Ge.y-Ge.vy||f(),tt*=gt=((gt=Math.sqrt(tt*tt+st*st))-ze[kt])/gt*Pe*we[kt],st*=gt,Ke.vx-=tt*(ct=me[kt]),Ke.vy-=st*ct,Ge.vx+=tt*(ct=1-ct),Ge.vy+=st*ct}function Ue(){if(ke){var Pe,Ie,Be=ke.length,We=ye.length,Ge=(0,v.UI)(ke,de);for(Pe=0,Ee=new Array(Be);Pe<We;++Pe)(Ie=ye[Pe]).index=Pe,"object"!=typeof Ie.source&&(Ie.source=T(Ge,Ie.source)),"object"!=typeof Ie.target&&(Ie.target=T(Ge,Ie.target)),Ee[Ie.source.index]=(Ee[Ie.source.index]||0)+1,Ee[Ie.target.index]=(Ee[Ie.target.index]||0)+1;for(Pe=0,me=new Array(We);Pe<We;++Pe)me[Pe]=Ee[(Ie=ye[Pe]).source.index]/(Ee[Ie.source.index]+Ee[Ie.target.index]);we=new Array(We),Ye(),ze=new Array(We),_e()}}function Ye(){if(ke)for(var Pe=0,Ie=ye.length;Pe<Ie;++Pe)we[Pe]=+ce(ye[Pe],Pe,ye)}function _e(){if(ke)for(var Pe=0,Ie=ye.length;Pe<Ie;++Pe)ze[Pe]=+Ae(ye[Pe],Pe,ye)}return null==ye&&(ye=[]),De.initialize=function(Pe){ke=Pe,Ue()},De.links=function(Pe){return arguments.length?(ye=Pe,Ue(),De):ye},De.id=function(Pe){return arguments.length?(de=Pe,De):de},De.iterations=function(Pe){return arguments.length?(Ne=+Pe,De):Ne},De.strength=function(Pe){return arguments.length?(ce="function"==typeof Pe?Pe:E(+Pe),Ye(),De):ce},De.distance=function(Pe){return arguments.length?(Ae="function"==typeof Pe?Pe:E(+Pe),_e(),De):Ae},De}var g={value:function(){}};function w(){for(var ye,we=0,ze=arguments.length,ke={};we<ze;++we){if(!(ye=arguments[we]+"")||ye in ke||/[\s.]/.test(ye))throw new Error("illegal type: "+ye);ke[ye]=[]}return new x(ke)}function x(ye){this._=ye}function b(ye,we){for(var ze,ke=0,Ee=ye.length;ke<Ee;++ke)if((ze=ye[ke]).name===we)return ze.value}function A(ye,we,ze){for(var ke=0,Ee=ye.length;ke<Ee;++ke)if(ye[ke].name===we){ye[ke]=g,ye=ye.slice(0,ke).concat(ye.slice(ke+1));break}return null!=ze&&ye.push({name:we,value:ze}),ye}x.prototype=w.prototype={constructor:x,on:function(ye,we){var ze,ke,Ee=this._,me=(ke=Ee,(ye+"").trim().split(/^|\s+/).map(function(Ae){var Ne="",De=Ae.indexOf(".");if(De>=0&&(Ne=Ae.slice(De+1),Ae=Ae.slice(0,De)),Ae&&!ke.hasOwnProperty(Ae))throw new Error("unknown type: "+Ae);return{type:Ae,name:Ne}})),de=-1,ce=me.length;if(!(arguments.length<2)){if(null!=we&&"function"!=typeof we)throw new Error("invalid callback: "+we);for(;++de<ce;)if(ze=(ye=me[de]).type)Ee[ze]=A(Ee[ze],ye.name,we);else if(null==we)for(ze in Ee)Ee[ze]=A(Ee[ze],ye.name,null);return this}for(;++de<ce;)if((ze=(ye=me[de]).type)&&(ze=b(Ee[ze],ye.name)))return ze},copy:function(){var ye={},we=this._;for(var ze in we)ye[ze]=we[ze].slice();return new x(ye)},call:function(ye,we){if((ze=arguments.length-2)>0)for(var ze,ke,Ee=new Array(ze),me=0;me<ze;++me)Ee[me]=arguments[me+2];if(!this._.hasOwnProperty(ye))throw new Error("unknown type: "+ye);for(me=0,ze=(ke=this._[ye]).length;me<ze;++me)ke[me].value.apply(we,Ee)},apply:function(ye,we,ze){if(!this._.hasOwnProperty(ye))throw new Error("unknown type: "+ye);for(var ke=this._[ye],Ee=0,me=ke.length;Ee<me;++Ee)ke[Ee].value.apply(we,ze)}};var m,C,k=w,P=0,R=0,L=0,N=1e3,B=0,J=0,z=0,Y="object"==typeof performance&&performance.now?performance:Date,q="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(ye){setTimeout(ye,17)};function U(){return J||(q(Z),J=Y.now()+z)}function Z(){J=0}function X(){this._call=this._time=this._next=null}function se(ye,we,ze){var ke=new X;return ke.restart(ye,we,ze),ke}function re(){J=(B=Y.now())+z,P=R=0;try{!function(){U(),++P;for(var ye,we=m;we;)(ye=J-we._time)>=0&&we._call.call(null,ye),we=we._next;--P}()}finally{P=0,function(){for(var ye,we,ze=m,ke=1/0;ze;)ze._call?(ke>ze._time&&(ke=ze._time),ye=ze,ze=ze._next):(we=ze._next,ze._next=null,ze=ye?ye._next=we:m=we);C=ye,K(ke)}(),J=0}}function ee(){var ye=Y.now(),we=ye-B;we>N&&(z-=we,B=ye)}function K(ye){P||(R&&(R=clearTimeout(R)),ye-J>24?(ye<1/0&&(R=setTimeout(re,ye-Y.now()-z)),L&&(L=clearInterval(L))):(L||(B=Y.now(),L=setInterval(ee,N)),P=1,q(re)))}function ne(ye){return ye.x}function ae(ye){return ye.y}X.prototype=se.prototype={constructor:X,restart:function(ye,we,ze){if("function"!=typeof ye)throw new TypeError("callback is not a function");ze=(null==ze?U():+ze)+(null==we?0:+we),this._next||C===this||(C?C._next=this:m=this,C=this),this._call=ye,this._time=ze,K()},stop:function(){this._call&&(this._call=null,this._time=1/0,K())}};var ue=10,he=Math.PI*(3-Math.sqrt(5));function pe(ye){var we,ze=1,ke=.001,Ee=1-Math.pow(ke,1/300),me=0,de=.6,ce=(0,v.UI)(),Ae=se(De),Ne=k("tick","end");function De(){Ue(),Ne.call("tick",we),ze<ke&&(Ae.stop(),Ne.call("end",we))}function Ue(Pe){var Ie,Be,We=ye.length;void 0===Pe&&(Pe=1);for(var Ge=0;Ge<Pe;++Ge)for(ze+=(me-ze)*Ee,ce.each(function(Ke){Ke(ze)}),Ie=0;Ie<We;++Ie)null==(Be=ye[Ie]).fx?Be.x+=Be.vx*=de:(Be.x=Be.fx,Be.vx=0),null==Be.fy?Be.y+=Be.vy*=de:(Be.y=Be.fy,Be.vy=0);return we}function Ye(){for(var Pe,Ie=0,Be=ye.length;Ie<Be;++Ie){if((Pe=ye[Ie]).index=Ie,null!=Pe.fx&&(Pe.x=Pe.fx),null!=Pe.fy&&(Pe.y=Pe.fy),isNaN(Pe.x)||isNaN(Pe.y)){var We=ue*Math.sqrt(Ie),Ge=Ie*he;Pe.x=We*Math.cos(Ge),Pe.y=We*Math.sin(Ge)}(isNaN(Pe.vx)||isNaN(Pe.vy))&&(Pe.vx=Pe.vy=0)}}function _e(Pe){return Pe.initialize&&Pe.initialize(ye),Pe}return null==ye&&(ye=[]),Ye(),we={tick:Ue,restart:function(){return Ae.restart(De),we},stop:function(){return Ae.stop(),we},nodes:function(Pe){return arguments.length?(ye=Pe,Ye(),ce.each(_e),we):ye},alpha:function(Pe){return arguments.length?(ze=+Pe,we):ze},alphaMin:function(Pe){return arguments.length?(ke=+Pe,we):ke},alphaDecay:function(Pe){return arguments.length?(Ee=+Pe,we):+Ee},alphaTarget:function(Pe){return arguments.length?(me=+Pe,we):me},velocityDecay:function(Pe){return arguments.length?(de=1-Pe,we):1-de},force:function(Pe,Ie){return arguments.length>1?(null==Ie?ce.remove(Pe):ce.set(Pe,_e(Ie)),we):ce.get(Pe)},find:function(Pe,Ie,Be){var We,Ge,Ke,tt,st,gt=0,ct=ye.length;for(null==Be?Be=1/0:Be*=Be,gt=0;gt<ct;++gt)(Ke=(We=Pe-(tt=ye[gt]).x)*We+(Ge=Ie-tt.y)*Ge)<Be&&(st=tt,Be=Ke);return st},on:function(Pe,Ie){return arguments.length>1?(Ne.on(Pe,Ie),we):Ne.on(Pe)}}}function ge(){var ye,we,ze,ke,Ee=E(-30),me=1,de=1/0,ce=.81;function Ae(Ye){var _e,Pe=ye.length,Ie=i(ye,ne,ae).visitAfter(De);for(ze=Ye,_e=0;_e<Pe;++_e)we=ye[_e],Ie.visit(Ue)}function Ne(){if(ye){var Ye,_e,Pe=ye.length;for(ke=new Array(Pe),Ye=0;Ye<Pe;++Ye)ke[(_e=ye[Ye]).index]=+Ee(_e,Ye,ye)}}function De(Ye){var _e,Pe,Ie,Be,We,Ge=0,Ke=0;if(Ye.length){for(Ie=Be=We=0;We<4;++We)(_e=Ye[We])&&(Pe=Math.abs(_e.value))&&(Ge+=_e.value,Ke+=Pe,Ie+=Pe*_e.x,Be+=Pe*_e.y);Ye.x=Ie/Ke,Ye.y=Be/Ke}else{(_e=Ye).x=_e.data.x,_e.y=_e.data.y;do{Ge+=ke[_e.data.index]}while(_e=_e.next)}Ye.value=Ge}function Ue(Ye,_e,Pe,Ie){if(!Ye.value)return!0;var Be=Ye.x-we.x,We=Ye.y-we.y,Ge=Ie-_e,Ke=Be*Be+We*We;if(Ge*Ge/ce<Ke)return Ke<de&&(0===Be&&(Ke+=(Be=f())*Be),0===We&&(Ke+=(We=f())*We),Ke<me&&(Ke=Math.sqrt(me*Ke)),we.vx+=Be*Ye.value*ze/Ke,we.vy+=We*Ye.value*ze/Ke),!0;if(!(Ye.length||Ke>=de)){(Ye.data!==we||Ye.next)&&(0===Be&&(Ke+=(Be=f())*Be),0===We&&(Ke+=(We=f())*We),Ke<me&&(Ke=Math.sqrt(me*Ke)));do{Ye.data!==we&&(we.vx+=Be*(Ge=ke[Ye.data.index]*ze/Ke),we.vy+=We*Ge)}while(Ye=Ye.next)}}return Ae.initialize=function(Ye){ye=Ye,Ne()},Ae.strength=function(Ye){return arguments.length?(Ee="function"==typeof Ye?Ye:E(+Ye),Ne(),Ae):Ee},Ae.distanceMin=function(Ye){return arguments.length?(me=Ye*Ye,Ae):Math.sqrt(me)},Ae.distanceMax=function(Ye){return arguments.length?(de=Ye*Ye,Ae):Math.sqrt(de)},Ae.theta=function(Ye){return arguments.length?(ce=Ye*Ye,Ae):Math.sqrt(ce)},Ae}function xe(ye,we,ze){var ke,Ee,me,de=E(.1);function ce(Ne){for(var De=0,Ue=ke.length;De<Ue;++De){var Ye=ke[De],_e=Ye.x-we||1e-6,Pe=Ye.y-ze||1e-6,Ie=Math.sqrt(_e*_e+Pe*Pe),Be=(me[De]-Ie)*Ee[De]*Ne/Ie;Ye.vx+=_e*Be,Ye.vy+=Pe*Be}}function Ae(){if(ke){var Ne,De=ke.length;for(Ee=new Array(De),me=new Array(De),Ne=0;Ne<De;++Ne)me[Ne]=+ye(ke[Ne],Ne,ke),Ee[Ne]=isNaN(me[Ne])?0:+de(ke[Ne],Ne,ke)}}return"function"!=typeof ye&&(ye=E(+ye)),null==we&&(we=0),null==ze&&(ze=0),ce.initialize=function(Ne){ke=Ne,Ae()},ce.strength=function(Ne){return arguments.length?(de="function"==typeof Ne?Ne:E(+Ne),Ae(),ce):de},ce.radius=function(Ne){return arguments.length?(ye="function"==typeof Ne?Ne:E(+Ne),Ae(),ce):ye},ce.x=function(Ne){return arguments.length?(we=+Ne,ce):we},ce.y=function(Ne){return arguments.length?(ze=+Ne,ce):ze},ce}function Se(ye){var we,ze,ke,Ee=E(.1);function me(ce){for(var Ae,Ne=0,De=we.length;Ne<De;++Ne)(Ae=we[Ne]).vx+=(ke[Ne]-Ae.x)*ze[Ne]*ce}function de(){if(we){var ce,Ae=we.length;for(ze=new Array(Ae),ke=new Array(Ae),ce=0;ce<Ae;++ce)ze[ce]=isNaN(ke[ce]=+ye(we[ce],ce,we))?0:+Ee(we[ce],ce,we)}}return"function"!=typeof ye&&(ye=E(null==ye?0:+ye)),me.initialize=function(ce){we=ce,de()},me.strength=function(ce){return arguments.length?(Ee="function"==typeof ce?ce:E(+ce),de(),me):Ee},me.x=function(ce){return arguments.length?(ye="function"==typeof ce?ce:E(+ce),de(),me):ye},me}function Te(ye){var we,ze,ke,Ee=E(.1);function me(ce){for(var Ae,Ne=0,De=we.length;Ne<De;++Ne)(Ae=we[Ne]).vy+=(ke[Ne]-Ae.y)*ze[Ne]*ce}function de(){if(we){var ce,Ae=we.length;for(ze=new Array(Ae),ke=new Array(Ae),ce=0;ce<Ae;++ce)ze[ce]=isNaN(ke[ce]=+ye(we[ce],ce,we))?0:+Ee(we[ce],ce,we)}}return"function"!=typeof ye&&(ye=E(null==ye?0:+ye)),me.initialize=function(ce){we=ce,de()},me.strength=function(ce){return arguments.length?(Ee="function"==typeof ce?ce:E(+ce),de(),me):Ee},me.y=function(ce){return arguments.length?(ye="function"==typeof ce?ce:E(+ce),de(),me):ye},me}},60721:function(oe,j,r){"use strict";function I(h,v){if((p=(h=v?h.toExponential(v-1):h.toExponential()).indexOf("e"))<0)return null;var p,T=h.slice(0,p);return[T.length>1?T[0]+T.slice(2):T,+h.slice(p+1)]}r.d(j,{WU:function(){return a},FF:function(){return c}});var E,f=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function S(h){if(!(v=f.exec(h)))throw new Error("invalid format: "+h);var v;return new M({fill:v[1],align:v[2],sign:v[3],symbol:v[4],zero:v[5],width:v[6],comma:v[7],precision:v[8]&&v[8].slice(1),trim:v[9],type:v[10]})}function M(h){this.fill=void 0===h.fill?" ":h.fill+"",this.align=void 0===h.align?">":h.align+"",this.sign=void 0===h.sign?"-":h.sign+"",this.symbol=void 0===h.symbol?"":h.symbol+"",this.zero=!!h.zero,this.width=void 0===h.width?void 0:+h.width,this.comma=!!h.comma,this.precision=void 0===h.precision?void 0:+h.precision,this.trim=!!h.trim,this.type=void 0===h.type?"":h.type+""}function y(h,v){var p=I(h,v);if(!p)return h+"";var T=p[0],_=p[1];return _<0?"0."+new Array(-_).join("0")+T:T.length>_+1?T.slice(0,_+1)+"."+T.slice(_+1):T+new Array(_-T.length+2).join("0")}S.prototype=M.prototype,M.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var u={"%":function(h,v){return(100*h).toFixed(v)},b:function(h){return Math.round(h).toString(2)},c:function(h){return h+""},d:function(h){return Math.abs(h=Math.round(h))>=1e21?h.toLocaleString("en").replace(/,/g,""):h.toString(10)},e:function(h,v){return h.toExponential(v)},f:function(h,v){return h.toFixed(v)},g:function(h,v){return h.toPrecision(v)},o:function(h){return Math.round(h).toString(8)},p:function(h,v){return y(100*h,v)},r:y,s:function(h,v){var p=I(h,v);if(!p)return h+"";var T=p[0],_=p[1],g=_-(E=3*Math.max(-8,Math.min(8,Math.floor(_/3))))+1,w=T.length;return g===w?T:g>w?T+new Array(g-w+1).join("0"):g>0?T.slice(0,g)+"."+T.slice(g):"0."+new Array(1-g).join("0")+I(h,Math.max(0,v+g-1))[0]},X:function(h){return Math.round(h).toString(16).toUpperCase()},x:function(h){return Math.round(h).toString(16)}};function i(h){return h}var s,a,o=Array.prototype.map,l=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function c(h){var v,p,k,T=void 0===h.grouping||void 0===h.thousands?i:(v=o.call(h.grouping,Number),p=h.thousands+"",function(k,P){for(var R=k.length,L=[],N=0,B=v[0],J=0;R>0&&B>0&&(J+B+1>P&&(B=Math.max(1,P-J)),L.push(k.substring(R-=B,R+B)),!((J+=B+1)>P));)B=v[N=(N+1)%v.length];return L.reverse().join(p)}),_=void 0===h.currency?"":h.currency[0]+"",g=void 0===h.currency?"":h.currency[1]+"",w=void 0===h.decimal?".":h.decimal+"",x=void 0===h.numerals?i:(k=o.call(h.numerals,String),function(P){return P.replace(/[0-9]/g,function(R){return k[+R]})}),b=void 0===h.percent?"%":h.percent+"",A=void 0===h.minus?"-":h.minus+"",m=void 0===h.nan?"NaN":h.nan+"";function C(k){var P=(k=S(k)).fill,R=k.align,L=k.sign,N=k.symbol,B=k.zero,J=k.width,z=k.comma,Y=k.precision,q=k.trim,U=k.type;"n"===U?(z=!0,U="g"):u[U]||(void 0===Y&&(Y=12),q=!0,U="g"),(B||"0"===P&&"="===R)&&(B=!0,P="0",R="=");var Z="$"===N?_:"#"===N&&/[boxX]/.test(U)?"0"+U.toLowerCase():"",X="$"===N?g:/[%p]/.test(U)?b:"",se=u[U],re=/[defgprs%]/.test(U);function ee(K){var ne,ae,ue,he=Z,pe=X;if("c"===U)pe=se(K)+pe,K="";else{var ge=(K=+K)<0||1/K<0;if(K=isNaN(K)?m:se(Math.abs(K),Y),q&&(K=function(Te){e:for(var ye,we=Te.length,ze=1,ke=-1;ze<we;++ze)switch(Te[ze]){case".":ke=ye=ze;break;case"0":0===ke&&(ke=ze),ye=ze;break;default:if(!+Te[ze])break e;ke>0&&(ke=0)}return ke>0?Te.slice(0,ke)+Te.slice(ye+1):Te}(K)),ge&&0==+K&&"+"!==L&&(ge=!1),he=(ge?"("===L?L:A:"-"===L||"("===L?"":L)+he,pe=("s"===U?l[8+E/3]:"")+pe+(ge&&"("===L?")":""),re)for(ne=-1,ae=K.length;++ne<ae;)if(48>(ue=K.charCodeAt(ne))||ue>57){pe=(46===ue?w+K.slice(ne+1):K.slice(ne))+pe,K=K.slice(0,ne);break}}z&&!B&&(K=T(K,1/0));var xe=he.length+K.length+pe.length,Se=xe<J?new Array(J-xe+1).join(P):"";switch(z&&B&&(K=T(Se+K,Se.length?J-pe.length:1/0),Se=""),R){case"<":K=he+K+pe+Se;break;case"=":K=he+Se+K+pe;break;case"^":K=Se.slice(0,xe=Se.length>>1)+he+K+pe+Se.slice(xe);break;default:K=Se+he+K+pe}return x(K)}return Y=void 0===Y?6:/[gprs]/.test(U)?Math.max(1,Math.min(21,Y)):Math.max(0,Math.min(20,Y)),ee.toString=function(){return k+""},ee}return{format:C,formatPrefix:function(k,P){var R,L=C(((k=S(k)).type="f",k)),N=3*Math.max(-8,Math.min(8,Math.floor((R=P,((R=I(Math.abs(R)))?R[1]:NaN)/3)))),B=Math.pow(10,-N),J=l[8+N/3];return function(z){return L(B*z)+J}}}}s=c({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),a=s.format},65704:function(oe,j,r){"use strict";r.r(j),r.d(j,{geoAiry:function(){return z},geoAiryRaw:function(){return J},geoAitoff:function(){return q},geoAitoffRaw:function(){return Y},geoArmadillo:function(){return Z},geoArmadilloRaw:function(){return U},geoAugust:function(){return se},geoAugustRaw:function(){return X},geoBaker:function(){return ne},geoBakerRaw:function(){return K},geoBerghaus:function(){return he},geoBerghausRaw:function(){return ue},geoBertin1953:function(){return ze},geoBertin1953Raw:function(){return we},geoBoggs:function(){return De},geoBoggsRaw:function(){return Ne},geoBonne:function(){return Ie},geoBonneRaw:function(){return Pe},geoBottomley:function(){return We},geoBottomleyRaw:function(){return Be},geoBromley:function(){return Ke},geoBromleyRaw:function(){return Ge},geoChamberlin:function(){return Et},geoChamberlinAfrica:function(){return mt},geoChamberlinRaw:function(){return Dt},geoCollignon:function(){return Rt},geoCollignonRaw:function(){return Lt},geoCraig:function(){return Bt},geoCraigRaw:function(){return Ut},geoCraster:function(){return Je},geoCrasterRaw:function(){return ot},geoCylindricalEqualArea:function(){return dt},geoCylindricalEqualAreaRaw:function(){return it},geoCylindricalStereographic:function(){return Ve},geoCylindricalStereographicRaw:function(){return ht},geoEckert1:function(){return ut},geoEckert1Raw:function(){return qe},geoEckert2:function(){return St},geoEckert2Raw:function(){return ft},geoEckert3:function(){return Tt},geoEckert3Raw:function(){return Mt},geoEckert4:function(){return Nt},geoEckert4Raw:function(){return xt},geoEckert5:function(){return wt},geoEckert5Raw:function(){return bt},geoEckert6:function(){return Wt},geoEckert6Raw:function(){return It},geoEisenlohr:function(){return dn},geoEisenlohrRaw:function(){return Zt},geoFahey:function(){return rn},geoFaheyRaw:function(){return un},geoFoucaut:function(){return Pn},geoFoucautRaw:function(){return kn},geoFoucautSinusoidal:function(){return en},geoFoucautSinusoidalRaw:function(){return Sn},geoGilbert:function(){return _n},geoGingery:function(){return Yn},geoGingeryRaw:function(){return Un},geoGinzburg4:function(){return kr},geoGinzburg4Raw:function(){return dr},geoGinzburg5:function(){return mr},geoGinzburg5Raw:function(){return vr},geoGinzburg6:function(){return qt},geoGinzburg6Raw:function(){return Br},geoGinzburg8:function(){return An},geoGinzburg8Raw:function(){return on},geoGinzburg9:function(){return Bn},geoGinzburg9Raw:function(){return Dn},geoGringorten:function(){return Qn},geoGringortenQuincuncial:function(){return Qi},geoGringortenRaw:function(){return bn},geoGuyou:function(){return Ft},geoGuyouRaw:function(){return Nn},geoHammer:function(){return Se},geoHammerRaw:function(){return ge},geoHammerRetroazimuthal:function(){return Rn},geoHammerRetroazimuthalRaw:function(){return pn},geoHealpix:function(){return cr},geoHealpixRaw:function(){return wn},geoHill:function(){return xr},geoHillRaw:function(){return or},geoHomolosine:function(){return tr},geoHomolosineRaw:function(){return Pr},geoHufnagel:function(){return ir},geoHufnagelRaw:function(){return Xr},geoHyperelliptical:function(){return go},geoHyperellipticalRaw:function(){return qi},geoInterrupt:function(){return Ki},geoInterruptedBoggs:function(){return Gs},geoInterruptedHomolosine:function(){return Ds},geoInterruptedMollweide:function(){return oa},geoInterruptedMollweideHemispheres:function(){return $u},geoInterruptedQuarticAuthalic:function(){return kc},geoInterruptedSinuMollweide:function(){return Af},geoInterruptedSinusoidal:function(){return rc},geoKavrayskiy7:function(){return No},geoKavrayskiy7Raw:function(){return Ja},geoLagrange:function(){return Wi},geoLagrangeRaw:function(){return kl},geoLarrivee:function(){return Ws},geoLarriveeRaw:function(){return ss},geoLaskowski:function(){return El},geoLaskowskiRaw:function(){return Fa},geoLittrow:function(){return al},geoLittrowRaw:function(){return za},geoLoximuthal:function(){return gu},geoLoximuthalRaw:function(){return Vr},geoMiller:function(){return Mc},geoMillerRaw:function(){return Ur},geoModifiedStereographic:function(){return Ka},geoModifiedStereographicAlaska:function(){return $s},geoModifiedStereographicGs48:function(){return ja},geoModifiedStereographicGs50:function(){return ls},geoModifiedStereographicLee:function(){return ac},geoModifiedStereographicMiller:function(){return Ui},geoModifiedStereographicRaw:function(){return Ac},geoMollweide:function(){return de},geoMollweideRaw:function(){return me},geoMtFlatPolarParabolic:function(){return sc},geoMtFlatPolarParabolicRaw:function(){return Ta},geoMtFlatPolarQuartic:function(){return no},geoMtFlatPolarQuarticRaw:function(){return ll},geoMtFlatPolarSinusoidal:function(){return lc},geoMtFlatPolarSinusoidalRaw:function(){return cs},geoNaturalEarth:function(){return us.Z},geoNaturalEarth2:function(){return Zu},geoNaturalEarth2Raw:function(){return Is},geoNaturalEarthRaw:function(){return us.K},geoNellHammer:function(){return Xu},geoNellHammerRaw:function(){return Sc},geoNicolosi:function(){return qa},geoNicolosiRaw:function(){return cc},geoPatterson:function(){return ga},geoPattersonRaw:function(){return Ol},geoPeirceQuincuncial:function(){return Rl},geoPierceQuincuncial:function(){return Rl},geoPolyconic:function(){return _u},geoPolyconicRaw:function(){return jl},geoPolyhedral:function(){return Qo},geoPolyhedralButterfly:function(){return Kc},geoPolyhedralCollignon:function(){return Cc},geoPolyhedralWaterman:function(){return mo},geoProject:function(){return Rs},geoQuantize:function(){return Aa},geoQuincuncial:function(){return ya},geoRectangularPolyconic:function(){return Gr},geoRectangularPolyconicRaw:function(){return uo},geoRobinson:function(){return _s},geoRobinsonRaw:function(){return ys},geoSatellite:function(){return Js},geoSatelliteRaw:function(){return Xs},geoSinuMollweide:function(){return Sr},geoSinuMollweideRaw:function(){return Ar},geoSinusoidal:function(){return _e},geoSinusoidalRaw:function(){return Ye},geoStitch:function(){return ca},geoTimes:function(){return xu},geoTimesRaw:function(){return dl},geoTwoPointAzimuthal:function(){return hl},geoTwoPointAzimuthalRaw:function(){return io},geoTwoPointAzimuthalUsa:function(){return bs},geoTwoPointEquidistant:function(){return Gl},geoTwoPointEquidistantRaw:function(){return Ks},geoTwoPointEquidistantUsa:function(){return bu},geoVanDerGrinten:function(){return ua},geoVanDerGrinten2:function(){return ti},geoVanDerGrinten2Raw:function(){return Sa},geoVanDerGrinten3:function(){return Dc},geoVanDerGrinten3Raw:function(){return ni},geoVanDerGrinten4:function(){return pl},geoVanDerGrinten4Raw:function(){return ka},geoVanDerGrintenRaw:function(){return fc},geoWagner:function(){return Oc},geoWagner4:function(){return qo},geoWagner4Raw:function(){return si},geoWagner6:function(){return ns},geoWagner6Raw:function(){return Ls},geoWagner7:function(){return Ca},geoWagnerRaw:function(){return Ea},geoWiechel:function(){return dc},geoWiechelRaw:function(){return ql},geoWinkel3:function(){return vl},geoWinkel3Raw:function(){return hc}});var I=r(15002),E=Math.abs,f=Math.atan,S=Math.atan2,M=Math.cos,y=Math.exp,u=Math.floor,i=Math.log,s=Math.max,a=Math.min,o=Math.pow,l=Math.round,c=Math.sign||function(V){return V>0?1:V<0?-1:0},h=Math.sin,v=Math.tan,p=1e-6,T=1e-12,_=Math.PI,g=_/2,w=_/4,x=Math.SQRT1_2,b=L(2),A=L(_),m=2*_,C=180/_,k=_/180;function P(V){return V>1?g:V<-1?-g:Math.asin(V)}function R(V){return V>1?0:V<-1?_:Math.acos(V)}function L(V){return V>0?Math.sqrt(V):0}function N(V){return(y(V)-y(-V))/2}function B(V){return(y(V)+y(-V))/2}function J(V){var $=v(V/2),W=2*i(M(V/2))/($*$);function te(be,Re){var H=M(be),ie=M(Re),fe=h(Re),Me=ie*H,Ce=-((1-Me?i((1+Me)/2)/(1-Me):-.5)+W/(1+Me));return[Ce*ie*h(be),Ce*fe]}return te.invert=function(be,Re){var H,ie=L(be*be+Re*Re),fe=-V/2,Me=50;if(!ie)return[0,0];do{var Ce=fe/2,Fe=M(Ce),$e=h(Ce),Xe=$e/Fe,Qe=-i(E(Fe));fe-=H=(2/Xe*Qe-W*Xe-ie)/(-Qe/($e*$e)+1-W/(2*Fe*Fe))*(Fe<0?.7:1)}while(E(H)>p&&--Me>0);var nt=h(fe);return[S(be*nt,ie*M(fe)),P(Re*nt/ie)]},te}function z(){var V=g,$=(0,I.r)(J),W=$(V);return W.radius=function(te){return arguments.length?$(V=te*k):V*C},W.scale(179.976).clipAngle(147)}function Y(V,$){var be,W=M($),te=(be=R(W*M(V/=2)))?be/Math.sin(be):1;return[2*W*h(V)*te,h($)*te]}function q(){return(0,I.Z)(Y).scale(152.63)}function U(V){var $=h(V),W=M(V),te=V>=0?1:-1,be=v(te*V),Re=(1+$-W)/2;function H(ie,fe){var Me=M(fe),Ce=M(ie/=2);return[(1+Me)*h(ie),(te*fe>-S(Ce,be)-.001?0:10*-te)+Re+h(fe)*W-(1+Me)*$*Ce]}return H.invert=function(ie,fe){var Me=0,Ce=0,Fe=50;do{var $e=M(Me),Xe=h(Me),Qe=M(Ce),nt=h(Ce),lt=1+Qe,_t=lt*Xe-ie,At=Re+nt*W-lt*$*$e-fe,jt=lt*$e/2,Ht=-Xe*nt,zt=$*lt*Xe/2,Xt=W*Qe+$*$e*nt,Vt=Ht*zt-Xt*jt,mn=(At*Ht-_t*Xt)/Vt/2,sn=(_t*zt-At*jt)/Vt;E(sn)>2&&(sn/=2),Me-=mn,Ce-=sn}while((E(mn)>p||E(sn)>p)&&--Fe>0);return te*Ce>-S(M(Me),be)-.001?[2*Me,Ce]:null},H}function Z(){var V=20*k,$=V>=0?1:-1,W=v($*V),te=(0,I.r)(U),be=te(V),Re=be.stream;return be.parallel=function(H){return arguments.length?(W=v(($=(V=H*k)>=0?1:-1)*V),te(V)):V*C},be.stream=function(H){var ie=be.rotate(),fe=Re(H),Me=(be.rotate([0,0]),Re(H)),Ce=be.precision();return be.rotate(ie),fe.sphere=function(){Me.polygonStart(),Me.lineStart();for(var Fe=-180*$;$*Fe<180;Fe+=90*$)Me.point(Fe,90*$);if(V)for(;$*(Fe-=3*$*Ce)>=-180;)Me.point(Fe,$*-S(M(Fe*k/2),W)*C);Me.lineEnd(),Me.polygonEnd()},fe},be.scale(218.695).center([0,28.0974])}function X(V,$){var W=v($/2),te=L(1-W*W),be=1+te*M(V/=2),Re=h(V)*te/be,H=W/be,ie=Re*Re,fe=H*H;return[1.3333333333333333*Re*(3+ie-3*fe),1.3333333333333333*H*(3+3*ie-fe)]}function se(){return(0,I.Z)(X).scale(66.1603)}Y.invert=function(V,$){if(!(V*V+4*$*$>_*_+p)){var W=V,te=$,be=25;do{var Re,H=h(W),ie=h(W/2),fe=M(W/2),Me=h(te),Ce=M(te),Fe=h(2*te),$e=Me*Me,Xe=Ce*Ce,Qe=ie*ie,nt=1-Xe*fe*fe,lt=nt?R(Ce*fe)*L(Re=1/nt):Re=0,_t=2*lt*Ce*ie-V,At=lt*Me-$,jt=Re*(Xe*Qe+lt*Ce*fe*$e),Ht=Re*(.5*H*Fe-2*lt*Me*ie),zt=.25*Re*(Fe*ie-lt*Me*Xe*H),Xt=Re*($e*fe+lt*Qe*Ce),Vt=Ht*zt-Xt*jt;if(!Vt)break;var mn=(At*Ht-_t*Xt)/Vt,sn=(_t*zt-At*jt)/Vt;W-=mn,te-=sn}while((E(mn)>p||E(sn)>p)&&--be>0);return[W,te]}},X.invert=function(V,$){if($*=.375,!(V*=.375)&&E($)>1)return null;var Me,W=1+V*V+$*$,te=L((W-L(W*W-4*$*$))/2),be=P(te)/3,Re=te?(Me=E($/te),i(Me+L(Me*Me-1))/3):function(Me){return i(Me+L(Me*Me+1))}(E(V))/3,H=M(be),ie=B(Re),fe=ie*ie-H*H;return[2*c(V)*S(N(Re)*H,.25-fe),2*c($)*S(ie*h(be),.25+fe)]};var re=L(8),ee=i(1+b);function K(V,$){var W=E($);return W<w?[V,i(v(w+$/2))]:[V*M(W)*(2*b-1/h(W)),c($)*(2*b*(W-w)-i(v(W/2)))]}function ne(){return(0,I.Z)(K).scale(112.314)}K.invert=function(V,$){if((te=E($))<ee)return[V,2*f(y($))-g];var W,te,be=w,Re=25;do{var H=M(be/2),ie=v(be/2);be-=W=(re*(be-w)-i(ie)-te)/(re-H*H/(2*ie))}while(E(W)>T&&--Re>0);return[V/(M(be)*(re-1/h(be))),c($)*be]};var ae=r(17889);function ue(V){var $=2*_/V;function W(te,be){var Re=(0,ae.N)(te,be);if(E(te)>g){var H=S(Re[1],Re[0]),ie=L(Re[0]*Re[0]+Re[1]*Re[1]),fe=$*l((H-g)/$)+g,Me=S(h(H-=fe),2-M(H));H=fe+P(_/ie*h(Me))-Me,Re[0]=ie*M(H),Re[1]=ie*h(H)}return Re}return W.invert=function(te,be){var Re=L(te*te+be*be);if(Re>g){var H=S(be,te),ie=$*l((H-g)/$)+g,fe=H>ie?-1:1,Me=Re*M(ie-H),Ce=1/v(fe*R((Me-_)/L(_*(_-2*Me)+Re*Re)));H=ie+2*f((Ce+fe*L(Ce*Ce-3))/3),te=Re*M(H),be=Re*h(H)}return ae.N.invert(te,be)},W}function he(){var V=5,$=(0,I.r)(ue),W=$(V),te=W.stream,be=.01,Re=-M(be*k),H=h(be*k);return W.lobes=function(ie){return arguments.length?$(V=+ie):V},W.stream=function(ie){var fe=W.rotate(),Me=te(ie),Ce=(W.rotate([0,0]),te(ie));return W.rotate(fe),Me.sphere=function(){Ce.polygonStart(),Ce.lineStart();for(var Fe=0,$e=360/V,Xe=2*_/V,Qe=90-180/V,nt=g;Fe<V;++Fe,Qe-=$e,nt-=Xe)Ce.point(S(H*M(nt),Re)*C,P(H*h(nt))*C),Qe<-90?(Ce.point(-90,-180-Qe-be),Ce.point(-90,-180-Qe+be)):(Ce.point(90,Qe+be),Ce.point(90,Qe-be));Ce.lineEnd(),Ce.polygonEnd()},Me},W.scale(87.8076).center([0,17.1875]).clipAngle(179.999)}var pe=r(12956);function ge(V,$){if(arguments.length<2&&($=V),1===$)return pe.l;if($===1/0)return xe;function W(te,be){var Re=(0,pe.l)(te/$,be);return Re[0]*=V,Re}return W.invert=function(te,be){var Re=pe.l.invert(te/V,be);return Re[0]*=$,Re},W}function xe(V,$){return[V*M($)/M($/=2),2*h($)]}function Se(){var V=2,$=(0,I.r)(ge),W=$(V);return W.coefficient=function(te){return arguments.length?$(V=+te):V},W.scale(169.529)}function Te(V,$,W){var te,be,Re,H=100;W=void 0===W?0:+W,$=+$;do{(be=V(W))===(Re=V(W+p))&&(Re=be+p),W-=te=-1*p*(be-$)/(be-Re)}while(H-- >0&&E(te)>p);return H<0?NaN:W}function ye(V,$,W){return void 0===$&&($=40),void 0===W&&(W=T),function(te,be,Re,H){var ie,fe,Me;Re=void 0===Re?0:+Re,H=void 0===H?0:+H;for(var Ce=0;Ce<$;Ce++){var Fe=V(Re,H),$e=Fe[0]-te,Xe=Fe[1]-be;if(E($e)<W&&E(Xe)<W)break;var Qe=$e*$e+Xe*Xe;if(Qe>ie)Re-=fe/=2,H-=Me/=2;else{ie=Qe;var nt=(Re>0?-1:1)*W,lt=(H>0?-1:1)*W,_t=V(Re+nt,H),At=V(Re,H+lt),jt=(_t[0]-Fe[0])/nt,Ht=(_t[1]-Fe[1])/nt,zt=(At[0]-Fe[0])/lt,Xt=(At[1]-Fe[1])/lt,Vt=Xt*jt-Ht*zt,mn=(E(Vt)<.5?.5:1)/Vt;if(Re+=fe=(Xe*zt-$e*Xt)*mn,H+=Me=($e*Ht-Xe*jt)*mn,E(fe)<W&&E(Me)<W)break}}return[Re,H]}}function we(){var V=ge(1.68,2);function $(W,te){if(W+te<-1.4){var be=(W-te+1.6)*(W+te+1.4)/8;W+=be,te-=.8*be*h(te+_/2)}var Re=V(W,te),H=(1-M(W*te))/12;return Re[1]<0&&(Re[0]*=1+H),Re[1]>0&&(Re[1]*=1+H/1.5*Re[0]*Re[0]),Re}return $.invert=ye($),$}function ze(){return(0,I.Z)(we()).rotate([-16.5,-42]).scale(176.57).center([7.93,.09])}function ke(V,$){var W,te=V*h($),be=30;do{$-=W=($+h($)-te)/(1+M($))}while(E(W)>p&&--be>0);return $/2}function Ee(V,$,W){function te(be,Re){return[V*be*M(Re=ke(W,Re)),$*h(Re)]}return te.invert=function(be,Re){return Re=P(Re/$),[be/(V*M(Re)),P((2*Re+h(2*Re))/W)]},te}xe.invert=function(V,$){var W=2*P($/2);return[V*M(W/2)/M(W),W]};var me=Ee(b/g,b,_);function de(){return(0,I.Z)(me).scale(169.529)}var ce=2.00276,Ae=1.11072;function Ne(V,$){var W=ke(_,$);return[ce*V/(1/M($)+Ae/M(W)),($+b*h(W))/ce]}function De(){return(0,I.Z)(Ne).scale(160.857)}function Ue(V){var $=0,W=(0,I.r)(V),te=W($);return te.parallel=function(be){return arguments.length?W($=be*k):$*C},te}function Ye(V,$){return[V*M($),$]}function _e(){return(0,I.Z)(Ye).scale(152.63)}function Pe(V){if(!V)return Ye;var $=1/v(V);function W(te,be){var Re=$+V-be,H=Re&&te*M(be)/Re;return[Re*h(H),$-Re*M(H)]}return W.invert=function(te,be){var Re=L(te*te+(be=$-be)*be),H=$+V-Re;return[Re/M(H)*S(te,be),H]},W}function Ie(){return Ue(Pe).scale(123.082).center([0,26.1441]).parallel(45)}function Be(V){function $(W,te){var be=g-te,Re=be&&W*V*h(be)/be;return[be*h(Re)/V,g-be*M(Re)]}return $.invert=function(W,te){var be=W*V,Re=g-te,H=L(be*be+Re*Re),ie=S(be,Re);return[(H?H/h(H):1)*ie/V,g-H]},$}function We(){var V=.5,$=(0,I.r)(Be),W=$(V);return W.fraction=function(te){return arguments.length?$(V=+te):V},W.scale(158.837)}Ne.invert=function(V,$){var W,te,be=ce*$,Re=$<0?-w:w,H=25;do{te=be-b*h(Re),Re-=W=(h(2*Re)+2*Re-_*h(te))/(2*M(2*Re)+2+_*M(te)*b*M(Re))}while(E(W)>p&&--H>0);return te=be-b*h(Re),[V*(1/M(te)+Ae/M(Re))/ce,te]},Ye.invert=function(V,$){return[V/M($),$]};var Ge=Ee(1,4/_,_);function Ke(){return(0,I.Z)(Ge).scale(152.63)}var tt=r(66624),st=r(49386);function gt(V,$,W,te,be,Re){var H,ie=M(Re);if(E(V)>1||E(Re)>1)H=R(W*be+$*te*ie);else{var fe=h(V/2),Me=h(Re/2);H=2*P(L(fe*fe+$*te*Me*Me))}return E(H)>p?[H,S(te*h(Re),$*be-W*te*ie)]:[0,0]}function ct(V,$,W){return R((V*V+$*$-W*W)/(2*V*$))}function kt(V){return V-2*_*u((V+_)/(2*_))}function Dt(V,$,W){for(var te,be=[[V[0],V[1],h(V[1]),M(V[1])],[$[0],$[1],h($[1]),M($[1])],[W[0],W[1],h(W[1]),M(W[1])]],Re=be[2],H=0;H<3;++H,Re=te)Re.v=gt((te=be[H])[1]-Re[1],Re[3],Re[2],te[3],te[2],te[0]-Re[0]),Re.point=[0,0];var ie=ct(be[0].v[0],be[2].v[0],be[1].v[0]),fe=ct(be[0].v[0],be[1].v[0],be[2].v[0]),Me=_-ie;be[2].point[1]=0,be[0].point[0]=-(be[1].point[0]=be[0].v[0]/2);var Ce=[be[2].point[0]=be[0].point[0]+be[2].v[0]*M(ie),2*(be[0].point[1]=be[1].point[1]=be[2].v[0]*h(ie))];return function(Fe,$e){var Xe,Qe=h($e),nt=M($e),lt=new Array(3);for(Xe=0;Xe<3;++Xe){var _t=be[Xe];if(lt[Xe]=gt($e-_t[1],_t[3],_t[2],nt,Qe,Fe-_t[0]),!lt[Xe][0])return _t.point;lt[Xe][1]=kt(lt[Xe][1]-_t.v[1])}var At=Ce.slice();for(Xe=0;Xe<3;++Xe){var Ht=ct(be[Xe].v[0],lt[Xe][0],lt[2==Xe?0:Xe+1][0]);lt[Xe][1]<0&&(Ht=-Ht),Xe?1==Xe?(At[0]-=lt[Xe][0]*M(Ht=fe-Ht),At[1]-=lt[Xe][0]*h(Ht)):(At[0]+=lt[Xe][0]*M(Ht=Me-Ht),At[1]+=lt[Xe][0]*h(Ht)):(At[0]+=lt[Xe][0]*M(Ht),At[1]-=lt[Xe][0]*h(Ht))}return At[0]/=3,At[1]/=3,At}}function vt(V){return V[0]*=k,V[1]*=k,V}function mt(){return Et([0,22],[45,22],[22.5,-22]).scale(380).center([22.5,2])}function Et(V,$,W){var te=(0,tt.Z)({type:"MultiPoint",coordinates:[V,$,W]}),be=[-te[0],-te[1]],Re=(0,st.Z)(be),H=Dt(vt(Re(V)),vt(Re($)),vt(Re(W)));H.invert=ye(H);var ie=(0,I.Z)(H).rotate(be),fe=ie.center;return delete ie.rotate,ie.center=function(Me){return arguments.length?fe(Re(Me)):Re.invert(fe())},ie.clipAngle(90)}function Lt(V,$){var W=L(1-h($));return[2/A*V*W,A*(1-W)]}function Rt(){return(0,I.Z)(Lt).scale(95.6464).center([0,30])}function Ut(V){var $=v(V);function W(te,be){return[te,(te?te/h(te):1)*(h(be)*M(te)-$*M(be))]}return W.invert=$?function(te,be){te&&(be*=h(te)/te);var Re=M(te);return[te,2*S(L(Re*Re+$*$-be*be)-Re,$-be)]}:function(te,be){return[te,P(te?be*v(te)/te:be)]},W}function Bt(){return Ue(Ut).scale(249.828).clipAngle(90)}Lt.invert=function(V,$){var W=(W=$/A-1)*W;return[W>0?V*L(_/W)/2:0,P(1-W)]};var rt=L(3);function ot(V,$){return[rt*V*(2*M(2*$/3)-1)/A,rt*A*h($/3)]}function Je(){return(0,I.Z)(ot).scale(156.19)}function it(V){var $=M(V);function W(te,be){return[te*$,h(be)/$]}return W.invert=function(te,be){return[te/$,P(be*$)]},W}function dt(){return Ue(it).parallel(38.58).scale(195.044)}function ht(V){var $=M(V);function W(te,be){return[te*$,(1+$)*v(be/2)]}return W.invert=function(te,be){return[te/$,2*f(be/(1+$))]},W}function Ve(){return Ue(ht).scale(124.75)}function qe(V,$){var W=L(8/(3*_));return[W*V*(1-E($)/_),W*$]}function ut(){return(0,I.Z)(qe).scale(165.664)}function ft(V,$){var W=L(4-3*h(E($)));return[2/L(6*_)*V*W,c($)*L(2*_/3)*(2-W)]}function St(){return(0,I.Z)(ft).scale(165.664)}function Mt(V,$){var W=L(_*(4+_));return[2/W*V*(1+L(1-4*$*$/(_*_))),4/W*$]}function Tt(){return(0,I.Z)(Mt).scale(180.739)}function xt(V,$){var W=(2+g)*h($);$/=2;for(var te=0,be=1/0;te<10&&E(be)>p;te++){var Re=M($);$-=be=($+h($)*(Re+2)-W)/(2*Re*(1+Re))}return[2/L(_*(4+_))*V*(1+M($)),2*L(_/(4+_))*h($)]}function Nt(){return(0,I.Z)(xt).scale(180.739)}function bt(V,$){return[V*(1+M($))/L(2+_),2*$/L(2+_)]}function wt(){return(0,I.Z)(bt).scale(173.044)}function It(V,$){for(var W=(1+g)*h($),te=0,be=1/0;te<10&&E(be)>p;te++)$-=be=($+h($)-W)/(1+M($));return W=L(2+_),[V*(1+M($))/W,2*$/W]}function Wt(){return(0,I.Z)(It).scale(173.044)}ot.invert=function(V,$){var W=3*P($/(rt*A));return[A*V/(rt*(2*M(2*W/3)-1)),W]},qe.invert=function(V,$){var W=L(8/(3*_)),te=$/W;return[V/(W*(1-E(te)/_)),te]},ft.invert=function(V,$){var W=2-E($)/L(2*_/3);return[V*L(6*_)/(2*W),c($)*P((4-W*W)/3)]},Mt.invert=function(V,$){var W=L(_*(4+_))/2;return[V*W/(1+L(1-$*$*(4+_)/(4*_))),$*W/2]},xt.invert=function(V,$){var W=$*L((4+_)/_)/2,te=P(W),be=M(te);return[V/(2/L(_*(4+_))*(1+be)),P((te+W*(be+2))/(2+g))]},bt.invert=function(V,$){var W=L(2+_),te=$*W/2;return[W*V/(1+M(te)),te]},It.invert=function(V,$){var W=1+g,te=L(W/2);return[2*V*te/(1+M($*=te)),P(($+h($))/W)]};var Yt=3+2*b;function Zt(V,$){var W=h(V/=2),te=M(V),be=L(M($)),Re=M($/=2),H=h($)/(Re+b*te*be),ie=L(2/(1+H*H)),fe=L((b*Re+(te+W)*be)/(b*Re+(te-W)*be));return[Yt*(ie*(fe-1/fe)-2*i(fe)),Yt*(ie*H*(fe+1/fe)-2*f(H))]}function dn(){return(0,I.Z)(Zt).scale(62.5271)}Zt.invert=function(V,$){if(!(W=X.invert(V/1.2,1.065*$)))return null;var W,te=W[0],be=W[1],Re=20;V/=Yt,$/=Yt;do{var H=te/2,ie=be/2,fe=h(H),Me=M(H),Ce=h(ie),Fe=M(ie),$e=M(be),Xe=L($e),Qe=Ce/(Fe+b*Me*Xe),nt=Qe*Qe,lt=L(2/(1+nt)),_t=(b*Fe+(Me+fe)*Xe)/(b*Fe+(Me-fe)*Xe),At=L(_t),jt=At-1/At,Ht=At+1/At,zt=lt*jt-2*i(At)-V,Xt=lt*Qe*Ht-2*f(Qe)-$,Vt=Ce&&x*Xe*fe*nt/Ce,mn=(b*Me*Fe+Xe)/(2*(Fe+b*Me*Xe)*(Fe+b*Me*Xe)*Xe),sn=-.5*Qe*lt*lt*lt,tn=sn*Vt,On=sn*mn,In=(In=2*Fe+b*Xe*(Me-fe))*In*At,rr=(b*Me*Fe*Xe+$e)/In,Xn=-b*fe*Ce/(Xe*In),ur=jt*tn-2*rr/At+lt*(rr+rr/_t),yr=jt*On-2*Xn/At+lt*(Xn+Xn/_t),wr=Qe*Ht*tn-2*Vt/(1+nt)+lt*Ht*Vt+lt*Qe*(rr-rr/_t),Er=Qe*Ht*On-2*mn/(1+nt)+lt*Ht*mn+lt*Qe*(Xn-Xn/_t),Ir=yr*wr-Er*ur;if(!Ir)break;var Rr=(Xt*yr-zt*Er)/Ir,ai=(zt*wr-Xt*ur)/Ir;te-=Rr,be=s(-g,a(g,be-ai))}while((E(Rr)>p||E(ai)>p)&&--Re>0);return E(E(be)-g)<p?[0,be]:Re&&[te,be]};var nn=M(35*k);function un(V,$){var W=v($/2);return[V*nn*L(1-W*W),(1+nn)*W]}function rn(){return(0,I.Z)(un).scale(137.152)}function kn(V,$){var W=$/2,te=M(W);return[2*V/A*M($)*te*te,A*v(W)]}function Pn(){return(0,I.Z)(kn).scale(135.264)}function Sn(V){var $=1-V,W=be(_,0)[0]-be(-_,0)[0],te=L(2*(be(0,g)[1]-be(0,-g)[1])/W);function be(ie,fe){var Me=M(fe),Ce=h(fe);return[Me/($+V*Me)*ie,$*fe+V*Ce]}function Re(ie,fe){var Me=be(ie,fe);return[Me[0]*te,Me[1]/te]}function H(ie){return Re(0,ie)[1]}return Re.invert=function(ie,fe){var Me=Te(H,fe);return[ie/te*(V+$/M(Me)),Me]},Re}function en(){var V=.5,$=(0,I.r)(Sn),W=$(V);return W.alpha=function(te){return arguments.length?$(V=+te):V},W.scale(168.725)}un.invert=function(V,$){var W=$/(1+nn);return[V&&V/(nn*L(1-W*W)),2*f(W)]},kn.invert=function(V,$){var W=f($/A),te=M(W),be=2*W;return[V*A/2/(M(be)*te*te),be]};var vn=r(57962),hn=r(97492);function yn(V){return[V[0]/2,P(v(V[1]/2*k))*C]}function Cn(V){return[2*V[0],2*f(h(V[1]*k))*C]}function _n(V){null==V&&(V=vn.Z);var $=V(),W=(0,hn.Z)().scale(C).precision(0).clipAngle(null).translate([0,0]);function te(Re){return $(yn(Re))}function be(Re){te[Re]=function(){return arguments.length?($[Re].apply($,arguments),te):$[Re]()}}return $.invert&&(te.invert=function(Re){return Cn($.invert(Re))}),te.stream=function(Re){var H=$.stream(Re),ie=W.stream({point:function(fe,Me){H.point(fe/2,P(v(-Me/2*k))*C)},lineStart:function(){H.lineStart()},lineEnd:function(){H.lineEnd()},polygonStart:function(){H.polygonStart()},polygonEnd:function(){H.polygonEnd()}});return ie.sphere=H.sphere,ie},te.rotate=function(Re){return arguments.length?(W.rotate(Re),te):W.rotate()},te.center=function(Re){return arguments.length?($.center(yn(Re)),te):Cn($.center())},be("angle"),be("clipAngle"),be("clipExtent"),be("fitExtent"),be("fitHeight"),be("fitSize"),be("fitWidth"),be("scale"),be("translate"),be("precision"),te.scale(249.5)}function Un(V,$){var W=2*_/$,te=V*V;function be(Re,H){var ie=(0,ae.N)(Re,H),fe=ie[0],Me=ie[1],Ce=fe*fe+Me*Me;if(Ce>te){var Fe=L(Ce),$e=S(Me,fe),Xe=W*l($e/W),Qe=$e-Xe,nt=V*M(Qe),lt=(V*h(Qe)-Qe*h(nt))/(g-nt),_t=qn(Qe,lt),At=(_-V)/Ln(_t,nt,_);fe=Fe;var jt,Ht=50;do{fe-=jt=(V+Ln(_t,nt,fe)*At-Fe)/(_t(fe)*At)}while(E(jt)>p&&--Ht>0);Me=Qe*h(fe),fe<g&&(Me-=lt*(fe-g));var zt=h(Xe),Xt=M(Xe);ie[0]=fe*Xt-Me*zt,ie[1]=fe*zt+Me*Xt}return ie}return be.invert=function(Re,H){var ie=Re*Re+H*H;if(ie>te){var fe=L(ie),Me=S(H,Re),Ce=W*l(Me/W),Fe=Me-Ce;Re=fe*M(Fe),H=fe*h(Fe);for(var $e=Re-g,Xe=h(Re),Qe=H/Xe,nt=Re<g?1/0:0,lt=10;;){var _t=V*h(Qe),At=V*M(Qe),jt=h(At),Ht=g-At,zt=(_t-Qe*jt)/Ht,Xt=qn(Qe,zt);if(E(nt)<T||!--lt)break;Qe-=nt=(Qe*Xe-zt*$e-H)/(Xe-2*$e*(Ht*(At+Qe*_t*M(At)-jt)-_t*(_t-Qe*jt))/(Ht*Ht))}Re=(fe=V+Ln(Xt,At,Re)*(_-V)/Ln(Xt,At,_))*M(Me=Ce+Qe),H=fe*h(Me)}return ae.N.invert(Re,H)},be}function qn(V,$){return function(W){var te=V*M(W);return W<g&&(te-=$),L(1+te*te)}}function Ln(V,$,W){for(var te=(W-$)/50,be=V($)+V(W),Re=1,H=$;Re<50;++Re)be+=2*V(H+=te);return.5*be*te}function Yn(){var V=6,$=30*k,W=M($),te=h($),be=(0,I.r)(Un),Re=be($,V),H=Re.stream,ie=-M(.01*k),fe=h(.01*k);return Re.radius=function(Me){return arguments.length?(W=M($=Me*k),te=h($),be($,V)):$*C},Re.lobes=function(Me){return arguments.length?be($,V=+Me):V},Re.stream=function(Me){var Ce=Re.rotate(),Fe=H(Me),$e=(Re.rotate([0,0]),H(Me));return Re.rotate(Ce),Fe.sphere=function(){$e.polygonStart(),$e.lineStart();for(var Xe=0,Qe=2*_/V,nt=0;Xe<V;++Xe,nt-=Qe)$e.point(S(fe*M(nt),ie)*C,P(fe*h(nt))*C),$e.point(S(te*M(nt-Qe/2),W)*C,P(te*h(nt-Qe/2))*C);$e.lineEnd(),$e.polygonEnd()},Fe},Re.rotate([90,-40]).scale(91.7095).clipAngle(179.999)}function _r(V,$,W,te,be,Re,H,ie){function fe(Me,Ce){if(!Ce)return[V*Me/_,0];var Fe=Ce*Ce,$e=V+Fe*($+Fe*(W+Fe*te)),Xe=Ce*(be-1+Fe*(Re-ie+Fe*H)),Qe=($e*$e+Xe*Xe)/(2*Xe),nt=Me*P($e/Qe)/_;return[Qe*h(nt),Ce*(1+Fe*ie)+Qe*(1-M(nt))]}return arguments.length<8&&(ie=0),fe.invert=function(Me,Ce){var Fe,$e,Xe=_*Me/V,Qe=Ce,nt=50;do{var lt=Qe*Qe,_t=V+lt*($+lt*(W+lt*te)),At=Qe*(be-1+lt*(Re-ie+lt*H)),jt=_t*_t+At*At,Ht=2*At,zt=jt/Ht,Xt=zt*zt,Vt=P(_t/zt)/_,mn=Xe*Vt,sn=_t*_t,tn=(2*$+lt*(4*W+6*lt*te))*Qe,On=be+lt*(3*Re+5*lt*H),In=(2*(_t*tn+At*(On-1))*Ht-jt*(2*(On-1)))/(Ht*Ht),rr=M(mn),Xn=h(mn),ur=zt*rr,yr=zt*Xn,wr=Xe/_*(1/L(1-sn/Xt))*(tn*zt-_t*In)/Xt,Er=yr-Me,Ir=Qe*(1+lt*ie)+zt-ur-Ce,Rr=In*Xn+ur*wr,ai=ur*Vt,ar=1+In-(In*rr-yr*wr),Mr=yr*Vt,Or=Rr*Mr-ar*ai;if(!Or)break;Xe-=Fe=(Ir*Rr-Er*ar)/Or,Qe-=$e=(Er*Mr-Ir*ai)/Or}while((E(Fe)>p||E($e)>p)&&--nt>0);return[Xe,Qe]},fe}var dr=_r(2.8284,-1.6988,.75432,-.18071,1.76003,-.38914,.042555);function kr(){return(0,I.Z)(dr).scale(149.995)}var vr=_r(2.583819,-.835827,.170354,-.038094,1.543313,-.411435,.082742);function mr(){return(0,I.Z)(vr).scale(153.93)}var Br=_r(5/6*_,-.62636,-.0344,0,1.3493,-.05524,0,.045);function qt(){return(0,I.Z)(Br).scale(130.945)}function on(V,$){var W=V*V,te=$*$;return[V*(1-.162388*te)*(.87-952426e-9*W*W),$*(1+te/12)]}function An(){return(0,I.Z)(on).scale(131.747)}on.invert=function(V,$){var W,te=V,be=$,Re=50;do{var H=be*be;be-=W=(be*(1+H/12)-$)/(1+H/4)}while(E(W)>p&&--Re>0);Re=50,V/=1-.162388*H;do{var ie=(ie=te*te)*ie;te-=W=(te*(.87-952426e-9*ie)-V)/(.87-.00476213*ie)}while(E(W)>p&&--Re>0);return[te,be]};var Dn=_r(2.6516,-.76534,.19123,-.047094,1.36289,-.13965,.031762);function Bn(){return(0,I.Z)(Dn).scale(131.087)}function fr(V){var $=V(g,0)[0]-V(-g,0)[0];function W(te,be){var Re=te>0?-.5:.5,H=V(te+Re*_,be);return H[0]-=Re*$,H}return V.invert&&(W.invert=function(te,be){var Re=te>0?-.5:.5,H=V.invert(te+Re*$,be),ie=H[0]-Re*_;return ie<-_?ie+=2*_:ie>_&&(ie-=2*_),H[0]=ie,H}),W}function bn(V,$){var W=c(V),te=c($),be=M($),Re=M(V)*be,H=h(V)*be,ie=h(te*$);V=E(S(H,ie)),$=P(Re),E(V-g)>p&&(V%=g);var fe=function(Me,Ce){if(Ce===g)return[0,0];var Fe,$e,Xe=h(Ce),Qe=Xe*Xe,nt=Qe*Qe,lt=1+nt,_t=1+3*nt,At=1-nt,jt=P(1/L(lt)),Ht=At+Qe*lt*jt,zt=(1-Xe)/Ht,Xt=L(zt),Vt=zt*lt,mn=L(Vt),sn=Xt*At;if(0===Me)return[0,-(sn+Qe*mn)];var tn,On=M(Ce),In=1/On,rr=2*Xe*On,Xn=(-Ht*On-(-3*Qe+jt*_t)*rr*(1-Xe))/(Ht*Ht),ur=-In*rr,yr=-In*(Qe*lt*Xn+zt*_t*rr),wr=-2*In*(At*(.5*Xn/Xt)-2*Qe*Xt*rr),Er=4*Me/_;if(Me>.222*_||Ce<_/4&&Me>.175*_){if(Fe=(sn+Qe*L(Vt*(1+nt)-sn*sn))/(1+nt),Me>_/4)return[Fe,Fe];var Ir=Fe,Rr=.5*Fe;Fe=.5*(Rr+Ir),$e=50;do{var ai=Fe*(wr+ur*L(Vt-Fe*Fe))+yr*P(Fe/mn)-Er;if(!ai)break;ai<0?Rr=Fe:Ir=Fe,Fe=.5*(Rr+Ir)}while(E(Ir-Rr)>p&&--$e>0)}else{Fe=p,$e=25;do{var ar=Fe*Fe,Mr=L(Vt-ar),Or=wr+ur*Mr,qr=Fe*Or+yr*P(Fe/mn)-Er;Fe-=tn=Mr?qr/(Or+(yr-ur*ar)/Mr):0}while(E(tn)>p&&--$e>0)}return[Fe,-sn-Qe*L(Vt-Fe*Fe)]}(V>_/4?g-V:V,$);return V>_/4&&(ie=fe[0],fe[0]=-fe[1],fe[1]=-ie),fe[0]*=W,fe[1]*=-te,fe}function Qn(){return(0,I.Z)(fr(bn)).scale(239.75)}function er(V,$){var W,te,be,Re,H,ie;if($<p)return[(Re=h(V))-(W=$*(V-Re*(te=M(V)))/4)*te,te+W*Re,1-$*Re*Re/2,V-W];if($>=1-p)return W=(1-$)/4,be=1/(te=B(V)),[(Re=((ie=y(2*(ie=V)))-1)/(ie+1))+W*((H=te*N(V))-V)/(te*te),be-W*Re*be*(H-V),be+W*Re*be*(H+V),2*f(y(V))-g+W*(H-V)/te];var fe=[1,0,0,0,0,0,0,0,0],Me=[L($),0,0,0,0,0,0,0,0],Ce=0;for(te=L(1-$),H=1;E(Me[Ce]/fe[Ce])>p&&Ce<8;)W=fe[Ce++],Me[Ce]=(W-te)/2,fe[Ce]=(W+te)/2,te=L(W*te),H*=2;be=H*fe[Ce]*V;do{be=(P(Re=Me[Ce]*h(te=be)/fe[Ce])+be)/2}while(--Ce);return[h(be),Re=M(be),Re/M(be-te),be]}function Jt(V,$){if(!$)return V;if(1===$)return i(v(V/2+w));for(var W=1,te=L(1-$),be=L($),Re=0;E(be)>p;Re++){if(V%_){var H=f(te*v(V)/W);H<0&&(H+=_),V+=H+~~(V/_)*_}else V+=V;be=(W+te)/2,te=L(W*te),be=((W=be)-te)/2}return V/(o(2,Re)*W)}function Nn(V,$){var Me,Ce,Fe,$e,Xe,W=(b-1)/(b+1),te=L(1-W*W),be=Jt(g,te*te),Re=i(v(_/4+E($)/2)),H=y(-1*Re)/L(W),ie=(Me=H*M(-1*V),$e=(Ce=H*h(-1*V))+1,[.5*((Me>=0?g:-g)-S(Xe=1-(Fe=Me*Me)-Ce*Ce,2*Me)),-.25*i(Xe*Xe+4*Fe)+.5*i($e*$e+Fe)]),fe=function(Me,Ce,Fe){var $e=E(Me),Xe=N(E(Ce));if($e){var Qe=1/h($e),nt=1/(v($e)*v($e)),lt=-(nt+Fe*(Xe*Xe*Qe*Qe)-1+Fe),_t=(-lt+L(lt*lt-(Fe-1)*nt*4))/2;return[Jt(f(1/L(_t)),Fe)*c(Me),Jt(f(L((_t/nt-1)/Fe)),1-Fe)*c(Ce)]}return[0,Jt(f(Xe),1-Fe)*c(Ce)]}(ie[0],ie[1],te*te);return[-fe[1],($>=0?1:-1)*(.5*be-fe[0])]}function Ft(){return(0,I.Z)(fr(Nn)).scale(151.496)}bn.invert=function(V,$){E(V)>1&&(V=2*c(V)-V),E($)>1&&($=2*c($)-$);var W=c(V),te=c($),be=-W*V,Re=-te*$,H=Re/be<1,ie=function(Fe,$e){for(var Xe=0,Qe=1,nt=.5,lt=50;;){var _t=nt*nt,At=L(nt),jt=P(1/L(1+_t)),Ht=1-_t+nt*(1+_t)*jt,zt=(1-At)/Ht,Xt=L(zt),Vt=zt*(1+_t),mn=Xt*(1-_t),sn=L(Vt-Fe*Fe),tn=$e+mn+nt*sn;if(E(Qe-Xe)<T||0==--lt||0===tn)break;tn>0?Xe=nt:Qe=nt,nt=.5*(Xe+Qe)}if(!lt)return null;var On=P(At),In=M(On),rr=1/In,Xn=2*At*In,ur=(-Ht*In-(-3*nt+jt*(1+3*_t))*Xn*(1-At))/(Ht*Ht);return[_/4*(Fe*(-2*rr*(.5*ur/Xt*(1-_t)-2*nt*Xt*Xn)+-rr*Xn*sn)+-rr*(nt*(1+_t)*ur+zt*(1+3*_t)*Xn)*P(Fe/L(Vt))),On]}(H?Re:be,H?be:Re),fe=ie[0],Me=ie[1],Ce=M(Me);return H&&(fe=-g-fe),[W*(S(h(fe)*Ce,-h(Me))+_),te*P(M(fe)*Ce)]},Nn.invert=function(V,$){var W,te,be,Re,H,ie,$e,Xe,Qe,fe=(b-1)/(b+1),Me=L(1-fe*fe),Ce=(te=-V,be=Me*Me,(W=.5*Jt(g,Me*Me)-$)?(Re=er(W,be),te?(ie=(H=er(te,1-be))[1]*H[1]+be*Re[0]*Re[0]*H[0]*H[0],[[Re[0]*H[2]/ie,Re[1]*Re[2]*H[0]*H[1]/ie],[Re[1]*H[1]/ie,-Re[0]*Re[2]*H[0]*H[2]/ie],[Re[2]*H[1]*H[2]/ie,-be*Re[0]*Re[1]*H[0]/ie]]):[[Re[0],0],[Re[1],0],[Re[2],0]]):[[0,(H=er(te,1-be))[0]/H[1]],[1/H[1],0],[H[2]/H[1],0]]),Fe=[(($e=Ce[0])[0]*(Xe=Ce[1])[0]+$e[1]*Xe[1])/(Qe=Xe[0]*Xe[0]+Xe[1]*Xe[1]),($e[1]*Xe[0]-$e[0]*Xe[1])/Qe];return[S(Fe[1],Fe[0])/-1,2*f(y(-.5*i(fe*Fe[0]*Fe[0]+fe*Fe[1]*Fe[1])))-g]};var an=r(7613);function pn(V){var $=h(V),W=M(V),te=En(V);function be(Re,H){var ie=te(Re,H);Re=ie[0];var fe=h(H=ie[1]),Me=M(H),Ce=M(Re),Fe=R($*fe+W*Me*Ce),$e=h(Fe),Xe=E($e)>p?Fe/$e:1;return[Xe*W*h(Re),(E(Re)>g?Xe:-Xe)*($*Me-W*fe*Ce)]}return te.invert=En(-V),be.invert=function(Re,H){var ie=L(Re*Re+H*H),fe=-h(ie),Me=M(ie),Ce=ie*Me,Fe=-H*fe,$e=ie*$,Xe=L(Ce*Ce+Fe*Fe-$e*$e),Qe=S(Ce*$e+Fe*Xe,Fe*$e-Ce*Xe),nt=(ie>g?-1:1)*S(Re*fe,ie*M(Qe)*Me+H*h(Qe)*fe);return te.invert(nt,Qe)},be}function En(V){var $=h(V),W=M(V);return function(te,be){var Re=M(be),H=M(te)*Re,ie=h(te)*Re,fe=h(be);return[S(ie,H*W-fe*$),P(fe*W+H*$)]}}function Rn(){var V=0,$=(0,I.r)(pn),W=$(V),te=W.rotate,be=W.stream,Re=(0,an.Z)();return W.parallel=function(H){if(!arguments.length)return V*C;var ie=W.rotate();return $(V=H*k).rotate(ie)},W.rotate=function(H){return arguments.length?(te.call(W,[H[0],H[1]-V*C]),Re.center([-H[0],-H[1]]),W):((H=te.call(W))[1]+=V*C,H)},W.stream=function(H){return(H=be(H)).sphere=function(){H.polygonStart();var ie,fe=Re.radius(89.99)().coordinates[0],Me=fe.length-1,Ce=-1;for(H.lineStart();++Ce<Me;)H.point((ie=fe[Ce])[0],ie[1]);for(H.lineEnd(),Me=(fe=Re.radius(90.01)().coordinates[0]).length-1,H.lineStart();--Ce>=0;)H.point((ie=fe[Ce])[0],ie[1]);H.lineEnd(),H.polygonEnd()},H},W.scale(79.4187).parallel(45).clipAngle(179.999)}var jn=r(33064),Tn=r(72736),ln=P(1-1/3)*C,fn=it(0);function wn(V){var $=ln*k,W=Lt(_,$)[0]-Lt(-_,$)[0],te=fn(0,$)[1],be=Lt(0,$)[1],Re=A-be,H=m/V,ie=4/m,fe=te+Re*Re*4/m;function Me(Ce,Fe){var $e,Xe=E(Fe);if(Xe>$){var Qe=a(V-1,s(0,u((Ce+_)/H)));($e=Lt(Ce+=_*(V-1)/V-Qe*H,Xe))[0]=$e[0]*m/W-m*(V-1)/(2*V)+Qe*m/V,$e[1]=te+4*($e[1]-be)*Re/m,Fe<0&&($e[1]=-$e[1])}else $e=fn(Ce,Fe);return $e[0]*=ie,$e[1]/=fe,$e}return Me.invert=function(Ce,Fe){Ce/=ie;var $e=E(Fe*=fe);if($e>te){var Xe=a(V-1,s(0,u((Ce+_)/H))),Qe=Lt.invert(Ce=(Ce+_*(V-1)/V-Xe*H)*W/m,.25*($e-te)*m/Re+be);return Qe[0]-=_*(V-1)/V-Xe*H,Fe<0&&(Qe[1]=-Qe[1]),Qe}return fn.invert(Ce,Fe)},Me}function Mn(V,$){return[V,1&$?90-p:ln]}function Hn(V,$){return[V,1&$?-90+p:-ln]}function Wn(V){return[V[0]*(1-p),V[1]]}function cr(){var V=4,$=(0,I.r)(wn),W=$(V),te=W.stream;return W.lobes=function(be){return arguments.length?$(V=+be):V},W.stream=function(be){var Re=W.rotate(),H=te(be),ie=(W.rotate([0,0]),te(be));return W.rotate(Re),H.sphere=function(){var fe,Me;(0,Tn.Z)((Me=[].concat((0,jn.w6)(-180,180+(fe=180/V)/2,fe).map(Mn),(0,jn.w6)(180,-180-fe/2,-fe).map(Hn)),{type:"Polygon",coordinates:[180===fe?Me.map(Wn):Me]}),ie)},H},W.scale(239.75)}function or(V){var $,W=1+V,te=P(h(1/W)),be=2*L(_/($=_+4*te*W)),Re=.5*be*(W+L(V*(2+V))),H=V*V,ie=W*W;function fe(Me,Ce){var Fe,$e,Xe=1-h(Ce);if(Xe&&Xe<2){var Qe,nt=g-Ce,lt=25;do{var _t=h(nt),At=M(nt),jt=te+S(_t,W-At),Ht=1+ie-2*W*At;nt-=Qe=(nt-H*te-W*_t+Ht*jt-.5*Xe*$)/(2*W*_t*jt)}while(E(Qe)>T&&--lt>0);Fe=be*L(Ht),$e=Me*jt/_}else Fe=be*(V+Xe),$e=Me*te/_;return[Fe*h($e),Re-Fe*M($e)]}return fe.invert=function(Me,Ce){var Fe=Me*Me+(Ce-=Re)*Ce,$e=(1+ie-Fe/(be*be))/(2*W),Xe=R($e),Qe=h(Xe),nt=te+S(Qe,W-$e);return[P(Me/L(Fe))*_/nt,P(1-2*(Xe-H*te-W*Qe+(1+ie-2*W*$e)*nt)/$)]},fe}function xr(){var V=1,$=(0,I.r)(or),W=$(V);return W.ratio=function(te){return arguments.length?$(V=+te):V},W.scale(167.774).center([0,18.67])}var sr=.7109889596207567,hr=.0528035274542;function Ar(V,$){return $>-sr?((V=me(V,$))[1]+=hr,V):Ye(V,$)}function Sr(){return(0,I.Z)(Ar).rotate([-20,-55]).scale(164.263).center([0,-5.4036])}function Pr(V,$){return E($)>sr?((V=me(V,$))[1]-=$>0?hr:-hr,V):Ye(V,$)}function tr(){return(0,I.Z)(Pr).scale(152.63)}function Xr(V,$,W,te){var be=L(4*_/(2*W+(1+V-$/2)*h(2*W)+(V+$)/2*h(4*W)+$/2*h(6*W))),Re=L(te*h(W)*L((1+V*M(2*W)+$*M(4*W))/(1+V+$))),H=W*fe(1);function ie(Fe){return L(1+V*M(2*Fe)+$*M(4*Fe))}function fe(Fe){var $e=Fe*W;return(2*$e+(1+V-$/2)*h(2*$e)+(V+$)/2*h(4*$e)+$/2*h(6*$e))/W}function Me(Fe){return ie(Fe)*h(Fe)}var Ce=function(Fe,$e){var Xe=W*Te(fe,H*h($e)/W,$e/_);isNaN(Xe)&&(Xe=W*c($e));var Qe=be*ie(Xe);return[Qe*Re*Fe/_*M(Xe),Qe/Re*h(Xe)]};return Ce.invert=function(Fe,$e){var Xe=Te(Me,$e*Re/be);return[Fe*_/(M(Xe)*be*Re*ie(Xe)),P(W*fe(Xe/W)/H)]},0===W&&(be=L(te/_),(Ce=function(Fe,$e){return[Fe*be,h($e)/be]}).invert=function(Fe,$e){return[Fe/be,P($e*be)]}),Ce}function ir(){var V=1,$=0,W=45*k,te=2,be=(0,I.r)(Xr),Re=be(V,$,W,te);return Re.a=function(H){return arguments.length?be(V=+H,$,W,te):V},Re.b=function(H){return arguments.length?be(V,$=+H,W,te):$},Re.psiMax=function(H){return arguments.length?be(V,$,W=+H*k,te):W*C},Re.ratio=function(H){return arguments.length?be(V,$,W,te=+H):te},Re.scale(180.739)}function Fr(V,$,W,te,be,Re,H,ie,fe,Me,Ce){if(Ce.nanEncountered)return NaN;var Fe,$e,Xe,Qe,nt,lt,_t,At,jt,Ht;if($e=V($+.25*(Fe=W-$)),Xe=V(W-.25*Fe),isNaN($e))Ce.nanEncountered=!0;else{if(!isNaN(Xe))return Ht=((lt=(Qe=Fe*(te+4*$e+be)/12)+(nt=Fe*(be+4*Xe+Re)/12))-H)/15,Me>fe?(Ce.maxDepthCount++,lt+Ht):Math.abs(Ht)<ie?lt+Ht:(At=Fr(V,$,_t=$+.5*Fe,te,$e,be,Qe,.5*ie,fe,Me+1,Ce),isNaN(At)?(Ce.nanEncountered=!0,NaN):(jt=Fr(V,_t,W,be,Xe,Re,nt,.5*ie,fe,Me+1,Ce),isNaN(jt)?(Ce.nanEncountered=!0,NaN):At+jt));Ce.nanEncountered=!0}}function ii(V,$,W,te,be){void 0===te&&(te=1e-8),void 0===be&&(be=20);var Re=V($),H=V(.5*($+W)),ie=V(W);return Fr(V,$,W,Re,H,ie,(Re+4*H+ie)*(W-$)/6,te,be,1,{maxDepthCount:0,nanEncountered:!1})}function qi(V,$,W){function te(Xe){return V+(1-V)*o(1-o(Xe,$),1/$)}function be(Xe){return ii(te,0,Xe,1e-4)}for(var Re=1/be(1),H=1e3,ie=1.00000001*Re,fe=[],Me=0;Me<=H;Me++)fe.push(be(Me/H)*ie);function Ce(Xe){var Qe=0,nt=H,lt=500;do{fe[lt]>Xe?nt=lt:Qe=lt,lt=Qe+nt>>1}while(lt>Qe);var _t=fe[lt+1]-fe[lt];return _t&&(_t=(Xe-fe[lt+1])/_t),(lt+1+_t)/H}var Fe=2*Ce(1)/_*Re/W,$e=function(Xe,Qe){var nt=Ce(E(h(Qe))),lt=te(nt)*Xe;return nt/=Fe,[lt,Qe>=0?nt:-nt]};return $e.invert=function(Xe,Qe){var nt;return E(Qe*=Fe)<1&&(nt=c(Qe)*P(be(E(Qe))*Re)),[Xe/te(E(Qe)),nt]},$e}function go(){var V=0,$=2.5,W=1.183136,te=(0,I.r)(qi),be=te(V,$,W);return be.alpha=function(Re){return arguments.length?te(V=+Re,$,W):V},be.k=function(Re){return arguments.length?te(V,$=+Re,W):$},be.gamma=function(Re){return arguments.length?te(V,$,W=+Re):W},be.scale(152.63)}function ao(V,$){return E(V[0]-$[0])<p&&E(V[1]-$[1])<p}function so(V,$){for(var W,te,be,Re=-1,H=V.length,ie=V[0],fe=[];++Re<H;){te=((W=V[Re])[0]-ie[0])/$,be=(W[1]-ie[1])/$;for(var Me=0;Me<$;++Me)fe.push([ie[0]+Me*te,ie[1]+Me*be]);ie=W}return fe.push(W),fe}function Ki(V,$,W){var te,be;function Re(fe,Me){for(var Ce=Me<0?-1:1,Fe=$[+(Me<0)],$e=0,Xe=Fe.length-1;$e<Xe&&fe>Fe[$e][2][0];++$e);var Qe=V(fe-Fe[$e][1][0],Me);return Qe[0]+=V(Fe[$e][1][0],Ce*Me>Ce*Fe[$e][0][1]?Fe[$e][0][1]:Me)[0],Qe}W?Re.invert=W(Re):V.invert&&(Re.invert=function(fe,Me){for(var Ce=be[+(Me<0)],Fe=$[+(Me<0)],$e=0,Xe=Ce.length;$e<Xe;++$e){var Qe=Ce[$e];if(Qe[0][0]<=fe&&fe<Qe[1][0]&&Qe[0][1]<=Me&&Me<Qe[1][1]){var nt=V.invert(fe-V(Fe[$e][1][0],0)[0],Me);return nt[0]+=Fe[$e][1][0],ao(Re(nt[0],nt[1]),[fe,Me])?nt:null}}});var H=(0,I.Z)(Re),ie=H.stream;return H.stream=function(fe){var Me=H.rotate(),Ce=ie(fe),Fe=(H.rotate([0,0]),ie(fe));return H.rotate(Me),Ce.sphere=function(){(0,Tn.Z)(te,Fe)},Ce},H.lobes=function(fe){return arguments.length?(te=function(Me){var Ce,Fe,Xe,Qe,lt,_t=[],At=Me[0].length;for(lt=0;lt<At;++lt)Fe=(Ce=Me[0][lt])[0][0],_t.push(so([[Fe+p,Ce[0][1]+p],[Fe+p,(Xe=Ce[1][1])-p],[(Qe=Ce[2][0])-p,Xe-p],[Qe-p,Ce[2][1]+p]],30));for(lt=Me[1].length-1;lt>=0;--lt)Fe=(Ce=Me[1][lt])[0][0],_t.push(so([[(Qe=Ce[2][0])-p,Ce[2][1]-p],[Qe-p,(Xe=Ce[1][1])+p],[Fe+p,Xe+p],[Fe+p,Ce[0][1]-p]],30));return{type:"Polygon",coordinates:[(0,jn.TS)(_t)]}}(fe),$=fe.map(function(Me){return Me.map(function(Ce){return[[Ce[0][0]*k,Ce[0][1]*k],[Ce[1][0]*k,Ce[1][1]*k],[Ce[2][0]*k,Ce[2][1]*k]]})}),be=$.map(function(Me){return Me.map(function(Ce){var Fe,$e=V(Ce[0][0],Ce[0][1])[0],Xe=V(Ce[2][0],Ce[2][1])[0],Qe=V(Ce[1][0],Ce[0][1])[1],nt=V(Ce[1][0],Ce[1][1])[1];return Qe>nt&&(Fe=Qe,Qe=nt,nt=Fe),[[$e,Qe],[Xe,nt]]})}),H):$.map(function(Me){return Me.map(function(Ce){return[[Ce[0][0]*C,Ce[0][1]*C],[Ce[1][0]*C,Ce[1][1]*C],[Ce[2][0]*C,Ce[2][1]*C]]})})},null!=$&&H.lobes($),H}Ar.invert=function(V,$){return $>-sr?me.invert(V,$-hr):Ye.invert(V,$)},Pr.invert=function(V,$){return E($)>sr?me.invert(V,$+($>0?hr:-hr)):Ye.invert(V,$)};var Co=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function Gs(){return Ki(Ne,Co).scale(160.857)}var fi=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function Ds(){return Ki(Pr,fi).scale(152.63)}var Zc=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function oa(){return Ki(me,Zc).scale(169.529)}var tc=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];function $u(){return Ki(me,tc).scale(169.529).rotate([20,0])}var Li=[[[[-180,35],[-30,90],[0,35]],[[0,35],[30,90],[180,35]]],[[[-180,-10],[-102,-90],[-65,-10]],[[-65,-10],[5,-90],[77,-10]],[[77,-10],[103,-90],[180,-10]]]];function Af(){return Ki(Ar,Li,ye).rotate([-20,-55]).scale(164.263).center([0,-5.4036])}var nc=[[[[-180,0],[-110,90],[-40,0]],[[-40,0],[0,90],[40,0]],[[40,0],[110,90],[180,0]]],[[[-180,0],[-110,-90],[-40,0]],[[-40,0],[0,-90],[40,0]],[[40,0],[110,-90],[180,0]]]];function rc(){return Ki(Ye,nc).scale(152.63).rotate([-20,0])}function Ja(V,$){return[3/m*V*L(_*_/3-$*$),$]}function No(){return(0,I.Z)(Ja).scale(158.837)}function kl(V){function $(W,te){if(E(E(te)-g)<p)return[0,te<0?-2:2];var be=h(te),Re=o((1+be)/(1-be),V/2),H=.5*(Re+1/Re)+M(W*=V);return[2*h(W)/H,(Re-1/Re)/H]}return $.invert=function(W,te){var be=E(te);if(E(be-2)<p)return W?null:[0,c(te)*g];if(be>2)return null;var Re=(W/=2)*W,H=(te/=2)*te,ie=2*te/(1+Re+H);return ie=o((1+ie)/(1-ie),1/V),[S(2*W,1-Re-H)/V,P((ie-1)/(ie+1))]},$}function Wi(){var V=.5,$=(0,I.r)(kl),W=$(V);return W.spacing=function(te){return arguments.length?$(V=+te):V},W.scale(124.75)}Ja.invert=function(V,$){return[m/3*V/L(_*_/3-$*$),$]};var qs=_/b;function ss(V,$){return[V*(1+L(M($)))/2,$/(M($/2)*M(V/6))]}function Ws(){return(0,I.Z)(ss).scale(97.2672)}function Fa(V,$){var W=V*V,te=$*$;return[V*(.975534+te*(-.0143059*W-.119161+-.0547009*te)),$*(1.00384+W*(.0802894+-.02855*te+199025e-9*W)+te*(.0998909+-.0491032*te))]}function El(){return(0,I.Z)(Fa).scale(139.98)}function za(V,$){return[h(V)/M($),v($)*M(V)]}function al(){return(0,I.Z)(za).scale(144.049).clipAngle(89.999)}function Vr(V){var $=M(V),W=v(w+V/2);function te(be,Re){var H=Re-V,ie=E(H)<p?be*$:E(ie=w+Re/2)<p||E(E(ie)-g)<p?0:be*H/i(v(ie)/W);return[ie,H]}return te.invert=function(be,Re){var H,ie=Re+V;return[E(Re)<p?be/$:E(H=w+ie/2)<p||E(E(H)-g)<p?0:be*i(v(H)/W)/Re,ie]},te}function gu(){return Ue(Vr).parallel(40).scale(158.837)}function Ur(V,$){return[V,1.25*i(v(w+.4*$))]}function Mc(){return(0,I.Z)(Ur).scale(108.318)}function Ac(V){var $=V.length-1;function W(te,be){for(var Re,H=M(be),ie=2/(1+H*M(te)),fe=ie*H*h(te),Me=ie*h(be),Ce=$,Fe=V[Ce],$e=Fe[0],Xe=Fe[1];--Ce>=0;)$e=(Fe=V[Ce])[0]+fe*(Re=$e)-Me*Xe,Xe=Fe[1]+fe*Xe+Me*Re;return[$e=fe*(Re=$e)-Me*Xe,Xe=fe*Xe+Me*Re]}return W.invert=function(te,be){var Re=20,H=te,ie=be;do{for(var fe,Me=$,Ce=V[Me],Fe=Ce[0],$e=Ce[1],Xe=0,Qe=0;--Me>=0;)Xe=Fe+H*(fe=Xe)-ie*Qe,Qe=$e+H*Qe+ie*fe,Fe=(Ce=V[Me])[0]+H*(fe=Fe)-ie*$e,$e=Ce[1]+H*$e+ie*fe;var nt,lt,_t=(Xe=Fe+H*(fe=Xe)-ie*Qe)*Xe+(Qe=$e+H*Qe+ie*fe)*Qe;H-=nt=((Fe=H*(fe=Fe)-ie*$e-te)*Xe+($e=H*$e+ie*fe-be)*Qe)/_t,ie-=lt=($e*Xe-Fe*Qe)/_t}while(E(nt)+E(lt)>p*p&&--Re>0);if(Re){var At=L(H*H+ie*ie),jt=2*f(.5*At),Ht=h(jt);return[S(H*Ht,At*M(jt)),At?P(ie*Ht/At):0]}},W}ss.invert=function(V,$){var W=E(V),te=E($),be=p,Re=g;te<qs?Re*=te/qs:be+=6*R(qs/te);for(var H=0;H<25;H++){var ie=h(Re),fe=L(M(Re)),Me=h(Re/2),Ce=M(Re/2),Fe=h(be/6),$e=M(be/6),Xe=.5*be*(1+fe)-W,Qe=Re/(Ce*$e)-te,nt=fe?-.25*be*ie/fe:0,lt=.5*(1+fe),_t=(1+.5*Re*Me/Ce)/(Ce*$e),At=Re/Ce*(Fe/6)/($e*$e),jt=nt*At-_t*lt,Ht=(Xe*At-Qe*lt)/jt,zt=(Qe*nt-Xe*_t)/jt;if(Re-=Ht,be-=zt,E(Ht)<p&&E(zt)<p)break}return[V<0?-be:be,$<0?-Re:Re]},Fa.invert=function(V,$){var W=c(V)*_,te=$/2,be=50;do{var Re=W*W,H=te*te,ie=W*te,fe=W*(.975534+H*(-.0143059*Re-.119161+-.0547009*H))-V,Me=te*(1.00384+Re*(.0802894+-.02855*H+199025e-9*Re)+H*(.0998909+-.0491032*H))-$,Ce=.975534-H*(.119161+3*Re*.0143059+.0547009*H),Fe=-ie*(.238322+.2188036*H+.0286118*Re),$e=ie*(.1605788+7961e-7*Re+-.0571*H),Xe=1.00384+Re*(.0802894+199025e-9*Re)+H*(3*(.0998909-.02855*Re)-.245516*H),Qe=Fe*$e-Xe*Ce,nt=(Me*Fe-fe*Xe)/Qe,lt=(fe*$e-Me*Ce)/Qe;W-=nt,te-=lt}while((E(nt)>p||E(lt)>p)&&--be>0);return be&&[W,te]},za.invert=function(V,$){var W=V*V,te=$*$+1,be=W+te,Re=V?x*L((be-L(be*be-4*W))/W):1/L(te);return[P(V*Re),c($)*R(Re)]},Ur.invert=function(V,$){return[V,2.5*f(y(.8*$))-.625*_]};var ic=[[.9972523,0],[.0052513,-.0041175],[.0074606,.0048125],[-.0153783,-.1968253],[.0636871,-.1408027],[.3660976,-.2937382]],mu=[[.98879,0],[0,0],[-.050909,0],[0,0],[.075528,0]],Yu=[[.984299,0],[.0211642,.0037608],[-.1036018,-.0575102],[-.0329095,-.0320119],[.0499471,.1223335],[.026046,.0899805],[7388e-7,-.1435792],[.0075848,-.1334108],[-.0216473,.0776645],[-.0225161,.0853673]],oc=[[.9245,0],[0,0],[.01943,0]],Ba=[[.721316,0],[0,0],[-.00881625,-.00617325]];function $s(){return Ka(ic,[152,-64]).scale(1400).center([-160.908,62.4864]).clipAngle(30).angle(7.8)}function ja(){return Ka(mu,[95,-38]).scale(1e3).clipAngle(55).center([-96.5563,38.8675])}function ls(){return Ka(Yu,[120,-45]).scale(359.513).clipAngle(55).center([-117.474,53.0628])}function Ui(){return Ka(oc,[-20,-18]).scale(209.091).center([20,16.7214]).clipAngle(82)}function ac(){return Ka(Ba,[165,10]).scale(250).clipAngle(130).center([-165,-10])}function Ka(V,$){var W=(0,I.Z)(Ac(V)).rotate($).clipAngle(90),te=(0,st.Z)($),be=W.center;return delete W.rotate,W.center=function(Re){return arguments.length?be(te(Re)):te.invert(be())},W}var sl=L(6),Os=L(7);function Ta(V,$){var W=P(7*h($)/(3*sl));return[sl*V*(2*M(2*W/3)-1)/Os,9*h(W/3)/Os]}function sc(){return(0,I.Z)(Ta).scale(164.859)}function ll(V,$){for(var W,te=(1+x)*h($),be=$,Re=0;Re<25&&(be-=W=(h(be/2)+h(be)-te)/(.5*M(be/2)+M(be)),!(E(W)<p));Re++);return[V*(1+2*M(be)/M(be/2))/(3*b),2*L(3)*h(be/2)/L(2+b)]}function no(){return(0,I.Z)(ll).scale(188.209)}function cs(V,$){for(var W,te=L(6/(4+_)),be=(1+_/4)*h($),Re=$/2,H=0;H<25&&(Re-=W=(Re/2+h(Re)-be)/(.5+M(Re)),!(E(W)<p));H++);return[te*(.5+M(Re))*V/1.5,te*Re]}function lc(){return(0,I.Z)(cs).scale(166.518)}Ta.invert=function(V,$){var W=3*P($*Os/9);return[V*Os/(sl*(2*M(2*W/3)-1)),P(3*h(W)*sl/7)]},ll.invert=function(V,$){var W=$*L(2+b)/(2*L(3)),te=2*P(W);return[3*b*V/(1+2*M(te)/M(te/2)),P((W+h(te))/(1+x))]},cs.invert=function(V,$){var W=L(6/(4+_)),te=$/W;return E(E(te)-g)<p&&(te=te<0?-g:g),[1.5*V/(W*(.5+M(te))),P((te/2+h(te))/(1+_/4))]};var us=r(26867);function Is(V,$){var W=$*$,te=W*W,be=W*te;return[V*(.84719-.13063*W+be*be*(.05494*W-.04515-.02326*te+.00331*be)),$*(1.01183+te*te*(.01926*W-.02625-.00396*te))]}function Zu(){return(0,I.Z)(Is).scale(175.295)}function Sc(V,$){return[V*(1+M($))/2,2*($-v($/2))]}function Xu(){return(0,I.Z)(Sc).scale(152.63)}Is.invert=function(V,$){var W,te,be,Re,H=$,ie=25;do{H-=W=(H*(1.01183+(be=(te=H*H)*te)*be*(.01926*te-.02625-.00396*be))-$)/(1.01183+be*be*(.21186*te-.23625+-.05148*be))}while(E(W)>T&&--ie>0);return[V/(.84719-.13063*(te=H*H)+(Re=te*(be=te*te))*Re*(.05494*te-.04515-.02326*be+.00331*Re)),H]},Sc.invert=function(V,$){for(var W=$/2,te=0,be=1/0;te<10&&E(be)>p;++te){var Re=M($/2);$-=be=($-v($/2)-W)/(1-.5/(Re*Re))}return[2*V/(1+M($)),$]};var vu=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];function kc(){return Ki(ge(1/0),vu).rotate([20,0]).scale(152.63)}function cc(V,$){var W=h($),te=M($),be=c(V);if(0===V||E($)===g)return[0,$];if(0===$)return[V,0];if(E(V)===g)return[V*te,g*W];var Re=_/(2*V)-2*V/_,H=2*$/_,ie=(1-H*H)/(W-H),fe=Re*Re,Me=ie*ie,Ce=1+fe/Me,Fe=1+Me/fe,$e=(Re*W/ie-Re/2)/Ce,Xe=(Me*W/fe+ie/2)/Fe,Qe=Xe*Xe-(Me*W*W/fe+ie*W-1)/Fe;return[g*($e+L($e*$e+te*te/Ce)*be),g*(Xe+L(Qe<0?0:Qe)*c(-$*Re)*be)]}function qa(){return(0,I.Z)(cc).scale(127.267)}cc.invert=function(V,$){var W=(V/=g)*V,te=W+($/=g)*$,be=_*_;return[V?(te-1+L((1-te)*(1-te)+4*W))/(2*V)*g:0,Te(function(Re){return te*(_*h(Re)-2*Re)*_+4*Re*Re*($-h(Re))+2*_*Re-be*$},0)]};var Cl=1.0148,Ys=.23185,Dl=-.14499,cl=.02406,Xc=Cl,Ps=5*Ys,yu=7*Dl,Ju=9*cl,Jc=1.790857183;function Ol(V,$){var W=$*$;return[V,$*(Cl+W*W*(Ys+W*(Dl+cl*W)))]}function ga(){return(0,I.Z)(Ol).scale(139.319)}function jl(V,$){if(E($)<p)return[V,0];var W=v($),te=V*h($);return[h(te)/W,$+(1-M(te))/W]}function _u(){return(0,I.Z)(jl).scale(103.74)}Ol.invert=function(V,$){$>Jc?$=Jc:$<-1.790857183&&($=-1.790857183);var W,te=$;do{var be=te*te;te-=W=(te*(Cl+be*be*(Ys+be*(Dl+cl*be)))-$)/(Xc+be*be*(Ps+be*(yu+Ju*be)))}while(E(W)>p);return[V,te]},jl.invert=function(V,$){if(E($)<p)return[V,0];var W,te=V*V+$*$,be=.5*$,Re=10;do{var H=v(be),ie=1/M(be),fe=te-2*$*be+be*be;be-=W=(H*fe+2*(be-$))/(2+fe*ie*ie+2*(be-$)*H)}while(E(W)>p&&--Re>0);return H=v(be),[(E($)<E(be+1/H)?P(V*H):c($)*c(V)*(R(E(V*H))+g))/h(be),be]};var uc=r(77338),Ri=r(83074);function Ec(V,$){return[V[0]*$[0]+V[1]*$[3],V[0]*$[1]+V[1]*$[4],V[0]*$[2]+V[1]*$[5]+V[2],V[3]*$[0]+V[4]*$[3],V[3]*$[1]+V[4]*$[4],V[3]*$[2]+V[4]*$[5]+V[5]]}function Vl(V,$){return[V[0]-$[0],V[1]-$[1]]}function Cr(V){return L(V[0]*V[0]+V[1]*V[1])}function Qo(V,$,W){function te(ie,fe){var Me,Ce=$(ie,fe),Fe=Ce.project([ie*C,fe*C]);return(Me=Ce.transform)?[Me[0]*Fe[0]+Me[1]*Fe[1]+Me[2],-(Me[3]*Fe[0]+Me[4]*Fe[1]+Me[5])]:(Fe[1]=-Fe[1],Fe)}function be(ie,fe){var lt,_t,Me=ie.project.invert,Ce=ie.transform,Fe=fe;if(Ce&&(Fe=[(Ce=[(_t=1/((lt=Ce)[0]*lt[4]-lt[1]*lt[3]))*lt[4],-_t*lt[1],_t*(lt[1]*lt[5]-lt[2]*lt[4]),-_t*lt[3],_t*lt[0],_t*(lt[2]*lt[3]-lt[0]*lt[5])])[0]*Fe[0]+Ce[1]*Fe[1]+Ce[2],Ce[3]*Fe[0]+Ce[4]*Fe[1]+Ce[5]]),Me&&ie===function(lt){return $(lt[0]*k,lt[1]*k)}($e=Me(Fe)))return $e;for(var $e,Xe=ie.children,Qe=0,nt=Xe&&Xe.length;Qe<nt;++Qe)if($e=be(Xe[Qe],fe))return $e}(function ie(fe,Me){if(fe.edges=function(zt){for(var Xt=zt.length,Vt=[],mn=zt[Xt-1],sn=0;sn<Xt;++sn)Vt.push([mn,mn=zt[sn]]);return Vt}(fe.face),Me.face){var Ce=fe.shared=function(zt,Xt){for(var Vt,mn,sn=zt.length,tn=null,On=0;On<sn;++On){Vt=zt[On];for(var In=Xt.length;--In>=0;)if(Vt[0]===(mn=Xt[In])[0]&&Vt[1]===mn[1]){if(tn)return[tn,Vt];tn=Vt}}}(fe.face,Me.face),Fe=(nt=Ce.map(Me.project),lt=Ce.map(fe.project),_t=Vl(nt[1],nt[0]),At=Vl(lt[1],lt[0]),jt=S((zt=_t)[0]*(Xt=At)[1]-zt[1]*Xt[0],zt[0]*Xt[0]+zt[1]*Xt[1]),Ht=Cr(_t)/Cr(At),Ec([1,0,nt[0][0],0,1,nt[0][1]],Ec([Ht,0,0,0,Ht,0],Ec([M(jt),h(jt),0,-h(jt),M(jt),0],[1,0,-lt[0][0],0,1,-lt[0][1]]))));fe.transform=Me.transform?Ec(Me.transform,Fe):Fe;for(var $e=Me.edges,Xe=0,Qe=$e.length;Xe<Qe;++Xe)Hi(Ce[0],$e[Xe][1])&&Hi(Ce[1],$e[Xe][0])&&($e[Xe]=fe),Hi(Ce[0],$e[Xe][0])&&Hi(Ce[1],$e[Xe][1])&&($e[Xe]=fe);for(Xe=0,Qe=($e=fe.edges).length;Xe<Qe;++Xe)Hi(Ce[0],$e[Xe][0])&&Hi(Ce[1],$e[Xe][1])&&($e[Xe]=Me),Hi(Ce[0],$e[Xe][1])&&Hi(Ce[1],$e[Xe][0])&&($e[Xe]=Me)}else fe.transform=Me.transform;var zt,Xt,nt,lt,_t,At,jt,Ht;return fe.children&&fe.children.forEach(function(zt){ie(zt,fe)}),fe})(V,{transform:null}),mi(V)&&(te.invert=function(ie,fe){var Me=be(V,[ie,-fe]);return Me&&(Me[0]*=k,Me[1]*=k,Me)});var Re=(0,I.Z)(te),H=Re.stream;return Re.stream=function(ie){var fe=Re.rotate(),Me=H(ie),Ce=(Re.rotate([0,0]),H(ie));return Re.rotate(fe),Me.sphere=function(){Ce.polygonStart(),Ce.lineStart(),Ei(Ce,V),Ce.lineEnd(),Ce.polygonEnd()},Me},Re.angle(null==W?-30:W*C)}function Ei(V,$,W){var te,be,Re=$.edges,H=Re.length,ie={type:"MultiPoint",coordinates:$.face},fe=$.face.filter(function(nt){return 90!==E(nt[1])}),Me=(0,uc.Z)({type:"MultiPoint",coordinates:fe}),Ce=!1,Fe=-1,$e=Me[1][0]-Me[0][0],Xe=180===$e||360===$e?[(Me[0][0]+Me[1][0])/2,(Me[0][1]+Me[1][1])/2]:(0,tt.Z)(ie);if(W)for(;++Fe<H&&Re[Fe]!==W;);++Fe;for(var Qe=0;Qe<H;++Qe)be=Re[(Qe+Fe)%H],Array.isArray(be)?(Ce||(V.point((te=(0,Ri.Z)(be[0],Xe)(p))[0],te[1]),Ce=!0),V.point((te=(0,Ri.Z)(be[1],Xe)(p))[0],te[1])):(Ce=!1,be!==W&&Ei(V,be,$))}function Hi(V,$){return V&&$&&V[0]===$[0]&&V[1]===$[1]}function mi(V){return V.project.invert||V.children&&V.children.some(mi)}var Di=r(98936),aa=[[0,90],[-90,0],[0,0],[90,0],[180,0],[0,-90]],Zs=[[0,2,1],[0,3,2],[5,1,2],[5,2,3],[0,1,4],[0,4,3],[5,4,1],[5,3,4]].map(function(V){return V.map(function($){return aa[$]})});function Kc(V){V=V||function(W){var te=(0,tt.Z)({type:"MultiPoint",coordinates:W});return(0,Di.Z)().scale(1).translate([0,0]).rotate([-te[0],-te[1]])};var $=Zs.map(function(W){return{face:W,project:V(W)}});return[-1,0,0,1,0,1,4,5].forEach(function(W,te){var be=$[W];be&&(be.children||(be.children=[])).push($[te])}),Qo($[0],function(W,te){return $[W<-_/2?te<0?6:4:W<0?te<0?2:0:W<_/2?te<0?3:1:te<0?7:5]}).angle(-30).scale(101.858).center([0,45])}var Il=2/L(3);function Pl(V,$){var W=Lt(V,$);return[W[0]*Il,W[1]]}function Cc(V){V=V||function(W){var te=(0,tt.Z)({type:"MultiPoint",coordinates:W});return(0,I.Z)(Pl).translate([0,0]).scale(1).rotate(te[1]>0?[-te[0],0]:[180-te[0],180])};var $=Zs.map(function(W){return{face:W,project:V(W)}});return[-1,0,0,1,0,1,4,5].forEach(function(W,te){var be=$[W];be&&(be.children||(be.children=[])).push($[te])}),Qo($[0],function(W,te){return $[W<-_/2?te<0?6:4:W<0?te<0?2:0:W<_/2?te<0?3:1:te<0?7:5]}).angle(-30).scale(121.906).center([0,48.5904])}function mo(V){V=V||function(Re){var H=6===Re.length?(0,tt.Z)({type:"MultiPoint",coordinates:Re}):Re[0];return(0,Di.Z)().scale(1).translate([0,0]).rotate([-H[0],-H[1]])};var $=Zs.map(function(Re){for(var H,ie=Re.map(_i),fe=ie.length,Me=ie[fe-1],Ce=[],Fe=0;Fe<fe;++Fe)Ce.push(hi([.9486832980505138*Me[0]+.31622776601683794*(H=ie[Fe])[0],.9486832980505138*Me[1]+.31622776601683794*H[1],.9486832980505138*Me[2]+.31622776601683794*H[2]]),hi([.9486832980505138*H[0]+.31622776601683794*Me[0],.9486832980505138*H[1]+.31622776601683794*Me[1],.9486832980505138*H[2]+.31622776601683794*Me[2]])),Me=H;return Ce}),W=[],te=[-1,0,0,1,0,1,4,5];$.forEach(function(Re,H){for(var ie,fe,Me=Zs[H],Ce=Me.length,Fe=W[H]=[],$e=0;$e<Ce;++$e)$.push([Me[$e],Re[(2*$e+2)%(2*Ce)],Re[(2*$e+1)%(2*Ce)]]),te.push(H),Fe.push((ie=_i(Re[(2*$e+2)%(2*Ce)]),fe=_i(Re[(2*$e+1)%(2*Ce)]),[ie[1]*fe[2]-ie[2]*fe[1],ie[2]*fe[0]-ie[0]*fe[2],ie[0]*fe[1]-ie[1]*fe[0]]))});var be=$.map(function(Re){return{project:V(Re),face:Re}});return te.forEach(function(Re,H){var ie=be[Re];ie&&(ie.children||(ie.children=[])).push(be[H])}),Qo(be[0],function(Re,H){var ie=M(H),fe=[ie*M(Re),ie*h(Re),h(H)],Me=Re<-_/2?H<0?6:4:Re<0?H<0?2:0:Re<_/2?H<0?3:1:H<0?7:5,Ce=W[Me];return be[Wr(Ce[0],fe)<0?8+3*Me:Wr(Ce[1],fe)<0?8+3*Me+1:Wr(Ce[2],fe)<0?8+3*Me+2:Me]}).angle(-30).scale(110.625).center([0,45])}function Wr(V,$){for(var W=0,te=V.length,be=0;W<te;++W)be+=V[W]*$[W];return be}function hi(V){return[S(V[1],V[0])*C,P(s(-1,a(1,V[2])))*C]}function _i(V){var $=V[0]*k,W=V[1]*k,te=M(W);return[te*M($),te*h($),h(W)]}function Ma(){}function Rs(V,$){var W,te=$.stream;if(!te)throw new Error("invalid projection");switch(V&&V.type){case"Feature":W=Uo;break;case"FeatureCollection":W=ji;break;default:W=Oi}return W(V,te)}function ji(V,$){return{type:"FeatureCollection",features:V.features.map(function(W){return Uo(W,$)})}}function Uo(V,$){return{type:"Feature",id:V.id,properties:V.properties,geometry:Oi(V.geometry,$)}}function Oi(V,$){if(!V)return null;if("GeometryCollection"===V.type)return be=$,{type:"GeometryCollection",geometries:V.geometries.map(function(Re){return Oi(Re,be)})};var be,W;switch(V.type){case"Point":case"MultiPoint":W=pi;break;case"LineString":case"MultiLineString":W=Wa;break;case"Polygon":case"MultiPolygon":case"Sphere":W=sa;break;default:return null}return(0,Tn.Z)(V,$(W)),W.result()}Pl.invert=function(V,$){return Lt.invert(V/Il,$)};var ko=[],Ho=[],pi={point:function(V,$){ko.push([V,$])},result:function(){var V=ko.length?ko.length<2?{type:"Point",coordinates:ko[0]}:{type:"MultiPoint",coordinates:ko}:null;return ko=[],V}},Wa={lineStart:Ma,point:function(V,$){ko.push([V,$])},lineEnd:function(){ko.length&&(Ho.push(ko),ko=[])},result:function(){var V=Ho.length?Ho.length<2?{type:"LineString",coordinates:Ho[0]}:{type:"MultiLineString",coordinates:Ho}:null;return Ho=[],V}},sa={polygonStart:Ma,lineStart:Ma,point:function(V,$){ko.push([V,$])},lineEnd:function(){var V=ko.length;if(V){do{ko.push(ko[0].slice())}while(++V<4);Ho.push(ko),ko=[]}},polygonEnd:Ma,result:function(){if(!Ho.length)return null;var V=[],$=[];return Ho.forEach(function(W){!function(te){if((be=te.length)<4)return!1;for(var be,Re=0,H=te[be-1][1]*te[0][0]-te[be-1][0]*te[0][1];++Re<be;)H+=te[Re-1][1]*te[Re][0]-te[Re-1][0]*te[Re][1];return H<=0}(W)?$.push(W):V.push([W])}),$.forEach(function(W){var te=W[0];V.some(function(be){if(function(Re,H){for(var ie=H[0],fe=H[1],Me=!1,Ce=0,Fe=Re.length,$e=Fe-1;Ce<Fe;$e=Ce++){var Xe=Re[Ce],Qe=Xe[0],nt=Xe[1],lt=Re[$e],At=lt[1];nt>fe^At>fe&&ie<(lt[0]-Qe)*(fe-nt)/(At-nt)+Qe&&(Me=!Me)}return Me}(be[0],te))return be.push(W),!0})||V.push([W])}),Ho=[],V.length?V.length>1?{type:"MultiPolygon",coordinates:V}:{type:"Polygon",coordinates:V[0]}:null}};function ya(V){var $=V(g,0)[0]-V(-g,0)[0];function W(te,be){var Re=E(te)<g,H=V(Re?te:te>0?te-_:te+_,be),ie=(H[0]-H[1])*x,fe=(H[0]+H[1])*x;if(Re)return[ie,fe];var Me=$*x,Ce=ie>0^fe>0?-1:1;return[Ce*ie-c(fe)*Me,Ce*fe-c(ie)*Me]}return V.invert&&(W.invert=function(te,be){var Re=(te+be)*x,H=(be-te)*x,ie=E(Re)<.5*$&&E(H)<.5*$;if(!ie){var fe=$*x,Me=Re>0^H>0?-1:1,Ce=-Me*te+(H>0?1:-1)*fe,Fe=-Me*be+(Re>0?1:-1)*fe;Re=(-Ce-Fe)*x,H=(Ce-Fe)*x}var $e=V.invert(Re,H);return ie||($e[0]+=Re>0?_:-_),$e}),(0,I.Z)(W).rotate([-90,-90,45]).clipAngle(179.999)}function Qi(){return ya(bn).scale(176.423)}function Rl(){return ya(Nn).scale(111.48)}function Aa(V,$){if(!(0<=($=+$)&&$<=20))throw new Error("invalid digits");function W(Me){var Ce=Me.length,Fe=2,$e=new Array(Ce);for($e[0]=+Me[0].toFixed($),$e[1]=+Me[1].toFixed($);Fe<Ce;)$e[Fe]=Me[Fe],++Fe;return $e}function te(Me){return Me.map(W)}function be(Me){for(var Ce=W(Me[0]),Fe=[Ce],$e=1;$e<Me.length;$e++){var Xe=W(Me[$e]);(Xe.length>2||Xe[0]!=Ce[0]||Xe[1]!=Ce[1])&&(Fe.push(Xe),Ce=Xe)}return 1===Fe.length&&Me.length>1&&Fe.push(W(Me[Me.length-1])),Fe}function Re(Me){return Me.map(be)}function H(Me){if(null==Me)return Me;var Ce;switch(Me.type){case"GeometryCollection":Ce={type:"GeometryCollection",geometries:Me.geometries.map(H)};break;case"Point":Ce={type:"Point",coordinates:W(Me.coordinates)};break;case"MultiPoint":Ce={type:Me.type,coordinates:te(Me.coordinates)};break;case"LineString":Ce={type:Me.type,coordinates:be(Me.coordinates)};break;case"MultiLineString":case"Polygon":Ce={type:Me.type,coordinates:Re(Me.coordinates)};break;case"MultiPolygon":Ce={type:"MultiPolygon",coordinates:Me.coordinates.map(Re)};break;default:return Me}return null!=Me.bbox&&(Ce.bbox=Me.bbox),Ce}function ie(Me){var Ce={type:"Feature",properties:Me.properties,geometry:H(Me.geometry)};return null!=Me.id&&(Ce.id=Me.id),null!=Me.bbox&&(Ce.bbox=Me.bbox),Ce}if(null!=V)switch(V.type){case"Feature":return ie(V);case"FeatureCollection":var fe={type:"FeatureCollection",features:V.features.map(ie)};return null!=V.bbox&&(fe.bbox=V.bbox),fe;default:return H(V)}return V}function uo(V){var $=h(V);function W(te,be){var Re=$?v(te*$/2)/$:te/2;if(!be)return[2*Re,-V];var H=2*f(Re*h(be)),ie=1/v(be);return[h(H)*ie,be+(1-M(H))*ie-V]}return W.invert=function(te,be){if(E(be+=V)<p)return[$?2*f($*te/2)/$:te,0];var Re,H=te*te+be*be,ie=0,fe=10;do{var Me=v(ie),Ce=1/M(ie),Fe=H-2*be*ie+ie*ie;ie-=Re=(Me*Fe+2*(ie-be))/(2+Fe*Ce*Ce+2*(ie-be)*Me)}while(E(Re)>p&&--fe>0);var $e=te*(Me=v(ie)),Xe=v(E(be)<E(ie+1/Me)?.5*P($e):.5*R($e)+_/4)/h(ie);return[$?2*f($*Xe)/$:2*Xe,ie]},W}function Gr(){return Ue(uo).scale(131.215)}var _a=[[.9986,-.062],[1,0],[.9986,.062],[.9954,.124],[.99,.186],[.9822,.248],[.973,.31],[.96,.372],[.9427,.434],[.9216,.4958],[.8962,.5571],[.8679,.6176],[.835,.6769],[.7986,.7346],[.7597,.7903],[.7186,.8435],[.6732,.8936],[.6213,.9394],[.5722,.9761],[.5322,1]];function ys(V,$){var W,te=a(18,36*E($)/_),be=u(te),Re=te-be,H=(W=_a[be])[0],ie=W[1],fe=(W=_a[++be])[0],Me=W[1],Ce=(W=_a[a(19,++be)])[0],Fe=W[1];return[V*(fe+Re*(Ce-H)/2+Re*Re*(Ce-2*fe+H)/2),($>0?g:-g)*(Me+Re*(Fe-ie)/2+Re*Re*(Fe-2*Me+ie)/2)]}function _s(){return(0,I.Z)(ys).scale(152.63)}function Xs(V,$){var W=function(H){function ie(fe,Me){var Ce=M(Me),Fe=(H-1)/(H-Ce*M(fe));return[Fe*Ce*h(fe),Fe*h(Me)]}return ie.invert=function(fe,Me){var Ce=fe*fe+Me*Me,Fe=L(Ce),$e=(H-L(1-Ce*(H+1)/(H-1)))/((H-1)/Fe+Fe/(H-1));return[S(fe*$e,Fe*L(1-$e*$e)),Fe?P(Me*$e/Fe):0]},ie}(V);if(!$)return W;var te=M($),be=h($);function Re(H,ie){var fe=W(H,ie),Me=fe[1],Ce=Me*be/(V-1)+te;return[fe[0]*te/Ce,Me/Ce]}return Re.invert=function(H,ie){var fe=(V-1)/(V-1-ie*be);return W.invert(fe*H,fe*ie*te)},Re}function Js(){var V=2,$=0,W=(0,I.r)(Xs),te=W(V,$);return te.distance=function(be){return arguments.length?W(V=+be,$):V},te.tilt=function(be){return arguments.length?W(V,$=be*k):$*C},te.scale(432.147).clipAngle(R(1/V)*C-1e-6)}_a.forEach(function(V){V[1]*=1.0144}),ys.invert=function(V,$){var W=$/g,te=90*W,be=a(18,E(te/5)),Re=s(0,u(be));do{var H=_a[Re][1],ie=_a[Re+1][1],fe=_a[a(19,Re+2)][1],Me=fe-H,Ce=fe-2*ie+H,Fe=2*(E(W)-ie)/Me,$e=Ce/Me,Xe=Fe*(1-$e*Fe*(1-2*$e*Fe));if(Xe>=0||1===Re){te=($>=0?5:-5)*(Xe+be);var Qe,nt=50;do{Xe=(be=a(18,E(te)/5))-(Re=u(be)),H=_a[Re][1],ie=_a[Re+1][1],fe=_a[a(19,Re+2)][1],te-=(Qe=($>=0?g:-g)*(ie+Xe*(fe-H)/2+Xe*Xe*(fe-2*ie+H)/2)-$)*C}while(E(Qe)>T&&--nt>0);break}}while(--Re>=0);var lt=_a[Re][0],_t=_a[Re+1][0],At=_a[a(19,Re+2)][0];return[V/(_t+Xe*(At-lt)/2+Xe*Xe*(At-2*_t+lt)/2),te*k]};var bi=1e-4,Hr=1e4,fs=-180,Ul=fs+bi,Qa=180,la=Qa-bi,Va=-90,Ua=Va+bi,fo=90,ul=fo-bi;function ea(V){return V.length>0}function $i(V){return V===Va||V===fo?[0,V]:[fs,($=V,Math.floor($*Hr)/Hr)];var $}function fl(V){var $=V[0],W=V[1],te=!1;return $<=Ul?($=fs,te=!0):$>=la&&($=Qa,te=!0),W<=Ua?(W=Va,te=!0):W>=ul&&(W=fo,te=!0),te?[$,W]:V}function xs(V){return V.map(fl)}function Go(V,$,W){for(var te=0,be=V.length;te<be;++te){var Re=V[te].slice();W.push({index:-1,polygon:$,ring:Re});for(var H=0,ie=Re.length;H<ie;++H){var fe=Re[H],Me=fe[0],Ce=fe[1];if(Me<=Ul||Me>=la||Ce<=Ua||Ce>=ul){Re[H]=fl(fe);for(var Fe=H+1;Fe<ie;++Fe){var $e=Re[Fe],Xe=$e[0],Qe=$e[1];if(Xe>Ul&&Xe<la&&Qe>Ua&&Qe<ul)break}if(Fe===H+1)continue;if(H){var nt={index:-1,polygon:$,ring:Re.slice(0,H+1)};nt.ring[nt.ring.length-1]=$i(Ce),W[W.length-1]=nt}else W.pop();if(Fe>=ie)break;W.push({index:-1,polygon:$,ring:Re=Re.slice(Fe-1)}),Re[0]=$i(Re[0][1]),H=-1,ie=Re.length}}}}function Si(V){var $,W,te,be,Re,H,ie=V.length,fe={},Me={};for($=0;$<ie;++$)(te=(W=V[$]).ring[0])[0]!==(Re=W.ring[W.ring.length-1])[0]||te[1]!==Re[1]?(W.index=$,fe[te]=Me[Re]=W):(W.polygon.push(W.ring),V[$]=null);for($=0;$<ie;++$)if(W=V[$]){if(be=Me[te=W.ring[0]],H=fe[Re=W.ring[W.ring.length-1]],delete fe[te],delete Me[Re],te[0]===Re[0]&&te[1]===Re[1]){W.polygon.push(W.ring);continue}be?(delete Me[te],delete fe[be.ring[0]],be.ring.pop(),V[be.index]=null,W={index:-1,polygon:be.polygon,ring:be.ring.concat(W.ring)},be===H?W.polygon.push(W.ring):(W.index=ie++,V.push(fe[W.ring[0]]=Me[W.ring[W.ring.length-1]]=W))):H?(delete fe[Re],delete Me[H.ring[H.ring.length-1]],W.ring.pop(),W={index:ie++,polygon:H.polygon,ring:W.ring.concat(H.ring)},V[H.index]=null,V.push(fe[W.ring[0]]=Me[W.ring[W.ring.length-1]]=W)):(W.ring.push(W.ring[0]),W.polygon.push(W.ring))}}function Hl(V){var $={type:"Feature",geometry:es(V.geometry)};return null!=V.id&&($.id=V.id),null!=V.bbox&&($.bbox=V.bbox),null!=V.properties&&($.properties=V.properties),$}function es(V){if(null==V)return V;var $,W,te,be;switch(V.type){case"GeometryCollection":$={type:"GeometryCollection",geometries:V.geometries.map(es)};break;case"Point":$={type:"Point",coordinates:fl(V.coordinates)};break;case"MultiPoint":case"LineString":$={type:V.type,coordinates:xs(V.coordinates)};break;case"MultiLineString":$={type:"MultiLineString",coordinates:V.coordinates.map(xs)};break;case"Polygon":var Re=[];Go(V.coordinates,Re,W=[]),Si(W),$={type:"Polygon",coordinates:Re};break;case"MultiPolygon":W=[],te=-1,be=V.coordinates.length;for(var H=new Array(be);++te<be;)Go(V.coordinates[te],H[te]=[],W);Si(W),$={type:"MultiPolygon",coordinates:H.filter(ea)};break;default:return V}return null!=V.bbox&&($.bbox=V.bbox),$}function ca(V){if(null==V)return V;switch(V.type){case"Feature":return Hl(V);case"FeatureCollection":var $={type:"FeatureCollection",features:V.features.map(Hl)};return null!=V.bbox&&($.bbox=V.bbox),$;default:return es(V)}}function dl(V,$){var W=v($/2),te=h(w*W);return[V*(.74482-.34588*te*te),1.70711*W]}function xu(){return(0,I.Z)(dl).scale(146.153)}function Fo(V,$,W){var te=(0,Ri.Z)($,W),be=te(.5),Re=(0,st.Z)([-be[0],-be[1]])($),H=te.distance/2,ie=-P(h(Re[1]*k)/h(H)),fe=[-be[0],-be[1],-(Re[0]>0?_-ie:ie)*C],Me=(0,I.Z)(V(H)).rotate(fe),Ce=(0,st.Z)(fe),Fe=Me.center;return delete Me.rotate,Me.center=function($e){return arguments.length?Fe(Ce($e)):Ce.invert(Fe())},Me.clipAngle(90)}function io(V){var $=M(V);function W(te,be){var Re=(0,Di.M)(te,be);return Re[0]*=$,Re}return W.invert=function(te,be){return Di.M.invert(te/$,be)},W}function bs(){return hl([-158,21.5],[-77,39]).clipAngle(60).scale(400)}function hl(V,$){return Fo(io,V,$)}function Ks(V){if(!(V*=2))return ae.N;var $=-V/2,W=-$,te=V*V,be=v(W),Re=.5/h(W);function H(ie,fe){var Me=R(M(fe)*M(ie-$)),Ce=R(M(fe)*M(ie-W));return[((Me*=Me)-(Ce*=Ce))/(2*V),(fe<0?-1:1)*L(4*te*Ce-(te-Me+Ce)*(te-Me+Ce))/(2*V)]}return H.invert=function(ie,fe){var Me,Ce,Fe=fe*fe,$e=M(L(Fe+(Me=ie+$)*Me)),Xe=M(L(Fe+(Me=ie+W)*Me));return[S(Ce=$e-Xe,Me=($e+Xe)*be),(fe<0?-1:1)*R(L(Me*Me+Ce*Ce)*Re)]},H}function bu(){return Gl([-158,21.5],[-77,39]).clipAngle(130).scale(122.571)}function Gl(V,$){return Fo(Ks,V,$)}function fc(V,$){if(E($)<p)return[V,0];var W=E($/g),te=P(W);if(E(V)<p||E(E($)-g)<p)return[0,c($)*_*v(te/2)];var be=M(te),Re=E(_/V-V/_)/2,H=Re*Re,ie=be/(W+be-1),fe=ie*(2/W-1),Me=fe*fe,Ce=Me+H,Fe=ie-Me,$e=H+ie;return[c(V)*_*(Re*Fe+L(H*Fe*Fe-Ce*(ie*ie-Me)))/Ce,c($)*_*(fe*$e-Re*L((H+1)*Ce-$e*$e))/Ce]}function ua(){return(0,I.Z)(fc).scale(79.4183)}function Sa(V,$){if(E($)<p)return[V,0];var W=E($/g),te=P(W);if(E(V)<p||E(E($)-g)<p)return[0,c($)*_*v(te/2)];var be=M(te),Re=E(_/V-V/_)/2,H=Re*Re,ie=be*(L(1+H)-Re*be)/(1+H*W*W);return[c(V)*_*ie,c($)*_*L(1-ie*(2*Re+ie))]}function ti(){return(0,I.Z)(Sa).scale(79.4183)}function ni(V,$){if(E($)<p)return[V,0];var W=$/g,te=P(W);if(E(V)<p||E(E($)-g)<p)return[0,_*v(te/2)];var be=(_/V-V/_)/2,Re=W/(1+M(te));return[_*(c(V)*L(be*be+1-Re*Re)-be),_*Re]}function Dc(){return(0,I.Z)(ni).scale(79.4183)}function ka(V,$){if(!$)return[V,0];var W=E($);if(!V||W===g)return[0,$];var te=W/g,be=te*te,Re=(8*te-be*(be+2)-5)/(2*be*(te-1)),H=Re*Re,ie=te*Re,fe=be+H+2*ie,Me=te+3*Re,Ce=V/g,Fe=Ce+1/Ce,$e=c(E(V)-g)*L(Fe*Fe-4),Xe=$e*$e,Qe=($e*(fe+H-1)+2*L(fe*(be+H*Xe-1)+(1-be)*(be*(Me*Me+4*H)+12*ie*H+4*H*H)))/(4*fe+Xe);return[c(V)*g*Qe,c($)*g*L(1+$e*E(Qe)-Qe*Qe)]}function pl(){return(0,I.Z)(ka).scale(127.16)}function Ea(V,$,W,te){var be=_/3;V=s(V,p),$=s($,p),V=a(V,g),$=a($,_-p),W=s(W,0),W=a(W,100-p);var Re=(te=s(te,p))/100,H=R((W/100+1)*M(be))/be,ie=h(V)/h(H*g),fe=$/_,Me=L(Re*h(V/2)/h($/2));return function(Ce,Fe,$e,Xe,Qe){function nt(lt,_t){var At=$e*h(Xe*_t),jt=L(1-At*At),Ht=L(2/(1+jt*M(lt*=Qe)));return[Ce*jt*Ht*h(lt),Fe*At*Ht]}return nt.invert=function(lt,_t){var At=lt/Ce,jt=_t/Fe,Ht=L(At*At+jt*jt),zt=2*P(Ht/2);return[S(lt*v(zt),Ce*Ht)/Qe,Ht&&P(_t*h(zt)/(Fe*$e*Ht))/Xe]},nt}(Me/L(fe*ie*H),1/(Me*L(fe*ie*H)),ie,H,fe)}function Oc(){var V=65*k,$=60*k,W=20,te=200,be=(0,I.r)(Ea),Re=be(V,$,W,te);return Re.poleline=function(H){return arguments.length?be(V=+H*k,$,W,te):V*C},Re.parallels=function(H){return arguments.length?be(V,$=+H*k,W,te):$*C},Re.inflation=function(H){return arguments.length?be(V,$,W=+H,te):W},Re.ratio=function(H){return arguments.length?be(V,$,W,te=+H):te},Re.scale(163.775)}function Ca(){return Oc().poleline(65).parallels(60).inflation(0).ratio(200).scale(172.633)}dl.invert=function(V,$){var W=$/1.70711,te=h(w*W);return[V/(.74482-.34588*te*te),2*f(W)]},fc.invert=function(V,$){if(E($)<p)return[V,0];if(E(V)<p)return[0,g*h(2*f($/_))];var W=(V/=_)*V,te=($/=_)*$,be=W+te,Re=be*be,H=-E($)*(1+be),ie=H-2*te+W,fe=-2*H+1+2*te+Re,Me=te/fe+(2*ie*ie*ie/(fe*fe*fe)-9*H*ie/(fe*fe))/27,Ce=(H-ie*ie/(3*fe))/fe,Fe=2*L(-Ce/3),$e=R(3*Me/(Ce*Fe))/3;return[_*(be-1+L(1+2*(W-te)+Re))/(2*V),c($)*_*(-Fe*M($e+_/3)-ie/(3*fe))]},Sa.invert=function(V,$){if(!V)return[0,g*h(2*f($/_))];var W=E(V/_),te=(1-W*W-($/=_)*$)/(2*W),be=L(te*te+1);return[c(V)*_*(be-te),c($)*g*h(2*S(L((1-2*te*W)*(te+be)-W),L(be+te+W)))]},ni.invert=function(V,$){if(!$)return[V,0];var W=$/_,te=(_*_*(1-W*W)-V*V)/(2*_*V);return[V?_*(c(V)*L(te*te+1)-te):0,g*h(2*f(W))]},ka.invert=function(V,$){var W;if(!V||!$)return[V,$];$/=_;var te=c(V)*V/g,be=(te*te-1+4*$*$)/E(te),Re=be*be,H=2*$,ie=50;do{var fe=H*H,Me=(8*H-fe*(fe+2)-5)/(2*fe*(H-1)),Ce=(3*H-fe*H-10)/(2*fe*H),Fe=Me*Me,$e=H*Me,Xe=H+Me,Qe=Xe*Xe,nt=H+3*Me,lt=-2*Xe*(4*$e*Fe+(1-4*fe+3*fe*fe)*(1+Ce)+Fe*(14*fe-6-Re+(8*fe-8-2*Re)*Ce)+$e*(12*fe-8+(10*fe-10-Re)*Ce)),_t=L(Qe*(fe+Fe*Re-1)+(1-fe)*(fe*(nt*nt+4*Fe)+Fe*(12*$e+4*Fe)));H-=W=(be*(Qe+Fe-1)+2*_t-te*(4*Qe+Re))/(be*(2*Me*Ce+2*Xe*(1+Ce))+lt/_t-8*Xe*(be*(-1+Fe+Qe)+2*_t)*(1+Ce)/(Re+4*Qe))}while(W>p&&--ie>0);return[c(V)*(L(be*be+4)+be)*_/4,g*H]};var ts=4*_+3*L(3),ml=2*L(2*_*L(3)/ts),si=Ee(ml*L(3)/_,ml,ts/6);function qo(){return(0,I.Z)(si).scale(176.84)}function Ls(V,$){return[V*L(1-3*$*$/(_*_)),$]}function ns(){return(0,I.Z)(Ls).scale(152.63)}function ql(V,$){var W=M($),te=M(V)*W,be=1-te,Re=M(V=S(h(V)*W,-h($))),H=h(V);return[H*(W=L(1-te*te))-Re*be,-Re*W-H*be]}function dc(){return(0,I.Z)(ql).rotate([0,-90,45]).scale(124.75).clipAngle(179.999)}function hc(V,$){var W=Y(V,$);return[(W[0]+V/g)/2,(W[1]+$)/2]}function vl(){return(0,I.Z)(hc).scale(158.837)}Ls.invert=function(V,$){return[V/L(1-3*$*$/(_*_)),$]},ql.invert=function(V,$){var W=(V*V+$*$)/-2,te=L(-W*(2+W)),be=$*W+V*te,Re=V*W-$*te,H=L(Re*Re+be*be);return[S(te*be,H*(1+W)),H?-P(te*Re/H):0]},hc.invert=function(V,$){var W=V,te=$,be=25;do{var Re,H=M(te),ie=h(te),fe=h(2*te),Me=ie*ie,Ce=H*H,Fe=h(W),$e=M(W/2),Xe=h(W/2),Qe=Xe*Xe,nt=1-Ce*$e*$e,lt=nt?R(H*$e)*L(Re=1/nt):Re=0,_t=.5*(2*lt*H*Xe+W/g)-V,At=.5*(lt*ie+te)-$,jt=.5*Re*(Ce*Qe+lt*H*$e*Me)+.5/g,Ht=Re*(Fe*fe/4-lt*ie*Xe),zt=.125*Re*(fe*Xe-lt*ie*Ce*Fe),Xt=.5*Re*(Me*$e+lt*Qe*H)+.5,Vt=Ht*zt-Xt*jt,mn=(At*Ht-_t*Xt)/Vt,sn=(_t*zt-At*jt)/Vt;W-=mn,te-=sn}while((E(mn)>p||E(sn)>p)&&--be>0);return[W,te]}},33940:function(oe,j,r){"use strict";function I(){return new E}function E(){this.reset()}r.d(j,{Z:function(){return I}}),E.prototype={constructor:E,reset:function(){this.s=this.t=0},add:function(M){S(f,M,this.t),S(this,f.s,this.s),this.s?this.t+=f.t:this.s=f.t},valueOf:function(){return this.s}};var f=new E;function S(M,y,u){var i=M.s=y+u,s=i-y;M.t=y-(i-s)+(u-s)}},97860:function(oe,j,r){"use strict";r.d(j,{L9:function(){return a},ZP:function(){return T},gL:function(){return l}});var I,E,f,S,M,y=r(33940),u=r(39695),i=r(73182),s=r(72736),a=(0,y.Z)(),o=(0,y.Z)(),l={point:i.Z,lineStart:i.Z,lineEnd:i.Z,polygonStart:function(){a.reset(),l.lineStart=c,l.lineEnd=h},polygonEnd:function(){var _=+a;o.add(_<0?u.BZ+_:_),this.lineStart=this.lineEnd=this.point=i.Z},sphere:function(){o.add(u.BZ)}};function c(){l.point=v}function h(){p(I,E)}function v(_,g){l.point=p,I=_,E=g,f=_*=u.uR,S=(0,u.mC)(g=(g*=u.uR)/2+u.pu),M=(0,u.O$)(g)}function p(_,g){g=(g*=u.uR)/2+u.pu;var w=(_*=u.uR)-f,x=w>=0?1:-1,b=x*w,A=(0,u.mC)(g),m=(0,u.O$)(g),C=M*m,k=S*A+C*(0,u.mC)(b),P=C*x*(0,u.O$)(b);a.add((0,u.fv)(P,k)),f=_,S=A,M=m}function T(_){return o.reset(),(0,s.Z)(_,l),2*o}},77338:function(oe,j,r){"use strict";r.d(j,{Z:function(){return R}});var I,E,f,S,M,y,u,i,s,a,o=r(33940),l=r(97860),c=r(7620),h=r(39695),v=r(72736),p=(0,o.Z)(),T={point:_,lineStart:w,lineEnd:x,polygonStart:function(){T.point=b,T.lineStart=A,T.lineEnd=m,p.reset(),l.gL.polygonStart()},polygonEnd:function(){l.gL.polygonEnd(),T.point=_,T.lineStart=w,T.lineEnd=x,l.L9<0?(I=-(f=180),E=-(S=90)):p>h.Ho?S=90:p<-h.Ho&&(E=-90),a[0]=I,a[1]=f},sphere:function(){I=-(f=180),E=-(S=90)}};function _(L,N){s.push(a=[I=L,f=L]),N<E&&(E=N),N>S&&(S=N)}function g(L,N){var B=(0,c.Og)([L*h.uR,N*h.uR]);if(i){var J=(0,c.T5)(i,B),Y=(0,c.T5)([J[1],-J[0],0],J);(0,c.iJ)(Y),Y=(0,c.Y1)(Y);var q,U=L-M,Z=U>0?1:-1,X=Y[0]*h.RW*Z,se=(0,h.Wn)(U)>180;se^(Z*M<X&&X<Z*L)?(q=Y[1]*h.RW)>S&&(S=q):se^(Z*M<(X=(X+360)%360-180)&&X<Z*L)?(q=-Y[1]*h.RW)<E&&(E=q):(N<E&&(E=N),N>S&&(S=N)),se?L<M?C(I,L)>C(I,f)&&(f=L):C(L,f)>C(I,f)&&(I=L):f>=I?(L<I&&(I=L),L>f&&(f=L)):L>M?C(I,L)>C(I,f)&&(f=L):C(L,f)>C(I,f)&&(I=L)}else s.push(a=[I=L,f=L]);N<E&&(E=N),N>S&&(S=N),i=B,M=L}function w(){T.point=g}function x(){a[0]=I,a[1]=f,T.point=_,i=null}function b(L,N){if(i){var B=L-M;p.add((0,h.Wn)(B)>180?B+(B>0?360:-360):B)}else y=L,u=N;l.gL.point(L,N),g(L,N)}function A(){l.gL.lineStart()}function m(){b(y,u),l.gL.lineEnd(),(0,h.Wn)(p)>h.Ho&&(I=-(f=180)),a[0]=I,a[1]=f,i=null}function C(L,N){return(N-=L)<0?N+360:N}function k(L,N){return L[0]-N[0]}function P(L,N){return L[0]<=L[1]?L[0]<=N&&N<=L[1]:N<L[0]||L[1]<N}function R(L){var N,B,J,z,Y,q,U;if(S=f=-(I=E=1/0),s=[],(0,v.Z)(L,T),B=s.length){for(s.sort(k),N=1,Y=[J=s[0]];N<B;++N)P(J,(z=s[N])[0])||P(J,z[1])?(C(J[0],z[1])>C(J[0],J[1])&&(J[1]=z[1]),C(z[0],J[1])>C(J[0],J[1])&&(J[0]=z[0])):Y.push(J=z);for(q=-1/0,N=0,J=Y[B=Y.length-1];N<=B;J=z,++N)(U=C(J[1],(z=Y[N])[0]))>q&&(q=U,I=z[0],f=J[1])}return s=a=null,I===1/0||E===1/0?[[NaN,NaN],[NaN,NaN]]:[[I,E],[f,S]]}},7620:function(oe,j,r){"use strict";r.d(j,{Og:function(){return f},T:function(){return u},T5:function(){return M},Y1:function(){return E},iJ:function(){return i},j9:function(){return S},s0:function(){return y}});var I=r(39695);function E(s){return[(0,I.fv)(s[1],s[0]),(0,I.ZR)(s[2])]}function f(s){var a=s[0],o=s[1],l=(0,I.mC)(o);return[l*(0,I.mC)(a),l*(0,I.O$)(a),(0,I.O$)(o)]}function S(s,a){return s[0]*a[0]+s[1]*a[1]+s[2]*a[2]}function M(s,a){return[s[1]*a[2]-s[2]*a[1],s[2]*a[0]-s[0]*a[2],s[0]*a[1]-s[1]*a[0]]}function y(s,a){s[0]+=a[0],s[1]+=a[1],s[2]+=a[2]}function u(s,a){return[s[0]*a,s[1]*a,s[2]*a]}function i(s){var a=(0,I._b)(s[0]*s[0]+s[1]*s[1]+s[2]*s[2]);s[0]/=a,s[1]/=a,s[2]/=a}},66624:function(oe,j,r){"use strict";r.d(j,{Z:function(){return B}});var I,E,f,S,M,y,u,i,s,a,o,l,c,h,v,p,T=r(39695),_=r(73182),g=r(72736),w={sphere:_.Z,point:x,lineStart:A,lineEnd:k,polygonStart:function(){w.lineStart=P,w.lineEnd=R},polygonEnd:function(){w.lineStart=A,w.lineEnd=k}};function x(J,z){J*=T.uR;var Y=(0,T.mC)(z*=T.uR);b(Y*(0,T.mC)(J),Y*(0,T.O$)(J),(0,T.O$)(z))}function b(J,z,Y){++I,f+=(J-f)/I,S+=(z-S)/I,M+=(Y-M)/I}function A(){w.point=m}function m(J,z){J*=T.uR;var Y=(0,T.mC)(z*=T.uR);h=Y*(0,T.mC)(J),v=Y*(0,T.O$)(J),p=(0,T.O$)(z),w.point=C,b(h,v,p)}function C(J,z){J*=T.uR;var Y=(0,T.mC)(z*=T.uR),q=Y*(0,T.mC)(J),U=Y*(0,T.O$)(J),Z=(0,T.O$)(z),X=(0,T.fv)((0,T._b)((X=v*Z-p*U)*X+(X=p*q-h*Z)*X+(X=h*U-v*q)*X),h*q+v*U+p*Z);E+=X,y+=X*(h+(h=q)),u+=X*(v+(v=U)),i+=X*(p+(p=Z)),b(h,v,p)}function k(){w.point=x}function P(){w.point=L}function R(){N(l,c),w.point=x}function L(J,z){l=J,c=z,J*=T.uR,z*=T.uR,w.point=N;var Y=(0,T.mC)(z);h=Y*(0,T.mC)(J),v=Y*(0,T.O$)(J),p=(0,T.O$)(z),b(h,v,p)}function N(J,z){J*=T.uR;var Y=(0,T.mC)(z*=T.uR),q=Y*(0,T.mC)(J),U=Y*(0,T.O$)(J),Z=(0,T.O$)(z),X=v*Z-p*U,se=p*q-h*Z,re=h*U-v*q,ee=(0,T._b)(X*X+se*se+re*re),K=(0,T.ZR)(ee),ne=ee&&-K/ee;s+=ne*X,a+=ne*se,o+=ne*re,E+=K,y+=K*(h+(h=q)),u+=K*(v+(v=U)),i+=K*(p+(p=Z)),b(h,v,p)}function B(J){I=E=f=S=M=y=u=i=s=a=o=0,(0,g.Z)(J,w);var z=s,Y=a,q=o,U=z*z+Y*Y+q*q;return U<T.aW&&(z=y,Y=u,q=i,E<T.Ho&&(z=f,Y=S,q=M),(U=z*z+Y*Y+q*q)<T.aW)?[NaN,NaN]:[(0,T.fv)(Y,z)*T.RW,(0,T.ZR)(q/(0,T._b)(U))*T.RW]}},7613:function(oe,j,r){"use strict";r.d(j,{m:function(){return M},Z:function(){return u}});var I=r(7620);function E(i){return function(){return i}}var f=r(39695),S=r(49386);function M(i,s,a,o,l,c){if(a){var h=(0,f.mC)(s),v=(0,f.O$)(s),p=o*a;null==l?(l=s+o*f.BZ,c=s-p/2):(l=y(h,l),c=y(h,c),(o>0?l<c:l>c)&&(l+=o*f.BZ));for(var T,_=l;o>0?_>c:_<c;_-=p)T=(0,I.Y1)([h,-v*(0,f.mC)(_),-v*(0,f.O$)(_)]),i.point(T[0],T[1])}}function y(i,s){(s=(0,I.Og)(s))[0]-=i,(0,I.iJ)(s);var a=(0,f.Kh)(-s[1]);return((-s[2]<0?-a:a)+f.BZ-f.Ho)%f.BZ}function u(){var i,s,a=E([0,0]),o=E(90),l=E(6),c={point:function(v,p){i.push(v=s(v,p)),v[0]*=f.RW,v[1]*=f.RW}};function h(){var v=a.apply(this,arguments),p=o.apply(this,arguments)*f.uR,T=l.apply(this,arguments)*f.uR;return i=[],s=(0,S.I)(-v[0]*f.uR,-v[1]*f.uR,0).invert,M(c,p,T,1),v={type:"Polygon",coordinates:[i]},i=s=null,v}return h.center=function(v){return arguments.length?(a="function"==typeof v?v:E([+v[0],+v[1]]),h):a},h.radius=function(v){return arguments.length?(o="function"==typeof v?v:E(+v),h):o},h.precision=function(v){return arguments.length?(l="function"==typeof v?v:E(+v),h):l},h}},87070:function(oe,j,r){"use strict";var I=r(97023),E=r(39695);j.Z=(0,I.Z)(function(){return!0},function(f){var S,M=NaN,y=NaN,u=NaN;return{lineStart:function(){f.lineStart(),S=1},point:function(i,s){var l,c,h,v,p,T,_,a=i>0?E.pi:-E.pi,o=(0,E.Wn)(i-M);(0,E.Wn)(o-E.pi)<E.Ho?(f.point(M,y=(y+s)/2>0?E.ou:-E.ou),f.point(u,y),f.lineEnd(),f.lineStart(),f.point(a,y),f.point(i,y),S=0):u!==a&&o>=E.pi&&((0,E.Wn)(M-u)<E.Ho&&(M-=u*E.Ho),(0,E.Wn)(i-a)<E.Ho&&(i-=a*E.Ho),c=y,v=s,_=(0,E.O$)((l=M)-(h=i)),y=(0,E.Wn)(_)>E.Ho?(0,E.z4)(((0,E.O$)(c)*(T=(0,E.mC)(v))*(0,E.O$)(h)-(0,E.O$)(v)*(p=(0,E.mC)(c))*(0,E.O$)(l))/(p*T*_)):(c+v)/2,f.point(u,y),f.lineEnd(),f.lineStart(),f.point(a,y),S=0),f.point(M=i,y=s),u=a},lineEnd:function(){f.lineEnd(),M=y=NaN},clean:function(){return 2-S}}},function(f,S,M,y){var u;if(null==f)y.point(-E.pi,u=M*E.ou),y.point(0,u),y.point(E.pi,u),y.point(E.pi,0),y.point(E.pi,-u),y.point(0,-u),y.point(-E.pi,-u),y.point(-E.pi,0),y.point(-E.pi,u);else if((0,E.Wn)(f[0]-S[0])>E.Ho){var i=f[0]<S[0]?E.pi:-E.pi;y.point(-i,u=M*i/2),y.point(0,u),y.point(i,u)}else y.point(S[0],S[1])},[-E.pi,-E.ou])},85272:function(oe,j,r){"use strict";r.d(j,{Z:function(){return E}});var I=r(73182);function E(){var f,S=[];return{point:function(M,y,u){f.push([M,y,u])},lineStart:function(){S.push(f=[])},lineEnd:I.Z,rejoin:function(){S.length>1&&S.push(S.pop().concat(S.shift()))},result:function(){var M=S;return S=[],f=null,M}}}},1457:function(oe,j,r){"use strict";r.d(j,{Z:function(){return y}});var I=r(7620),E=r(7613),f=r(39695),S=r(67108),M=r(97023);function y(u){var i=(0,f.mC)(u),s=6*f.uR,a=i>0,o=(0,f.Wn)(i)>f.Ho;function l(v,p){return(0,f.mC)(v)*(0,f.mC)(p)>i}function c(v,p,T){var _=(0,I.Og)(v),g=(0,I.Og)(p),w=[1,0,0],x=(0,I.T5)(_,g),b=(0,I.j9)(x,x),A=x[0],m=b-A*A;if(!m)return!T&&v;var C=i*b/m,k=-i*A/m,P=(0,I.T5)(w,x),R=(0,I.T)(w,C),L=(0,I.T)(x,k);(0,I.s0)(R,L);var N=P,B=(0,I.j9)(R,N),J=(0,I.j9)(N,N),z=B*B-J*((0,I.j9)(R,R)-1);if(!(z<0)){var Y=(0,f._b)(z),q=(0,I.T)(N,(-B-Y)/J);if((0,I.s0)(q,R),q=(0,I.Y1)(q),!T)return q;var U,Z=v[0],X=p[0],se=v[1],re=p[1];X<Z&&(U=Z,Z=X,X=U);var ee=X-Z,K=(0,f.Wn)(ee-f.pi)<f.Ho;if(!K&&re<se&&(U=se,se=re,re=U),K||ee<f.Ho?K?se+re>0^q[1]<((0,f.Wn)(q[0]-Z)<f.Ho?se:re):se<=q[1]&&q[1]<=re:ee>f.pi^(Z<=q[0]&&q[0]<=X)){var ne=(0,I.T)(N,(-B+Y)/J);return(0,I.s0)(ne,R),[q,(0,I.Y1)(ne)]}}}function h(v,p){var T=a?u:f.pi-u,_=0;return v<-T?_|=1:v>T&&(_|=2),p<-T?_|=4:p>T&&(_|=8),_}return(0,M.Z)(l,function(v){var p,T,_,g,w;return{lineStart:function(){g=_=!1,w=1},point:function(x,b){var A,m=[x,b],C=l(x,b),k=a?C?0:h(x,b):C?h(x+(x<0?f.pi:-f.pi),b):0;if(!p&&(g=_=C)&&v.lineStart(),C!==_&&(!(A=c(p,m))||(0,S.Z)(p,A)||(0,S.Z)(m,A))&&(m[2]=1),C!==_)w=0,C?(v.lineStart(),A=c(m,p),v.point(A[0],A[1])):(A=c(p,m),v.point(A[0],A[1],2),v.lineEnd()),p=A;else if(o&&p&&a^C){var P;k&T||!(P=c(m,p,!0))||(w=0,a?(v.lineStart(),v.point(P[0][0],P[0][1]),v.point(P[1][0],P[1][1]),v.lineEnd()):(v.point(P[1][0],P[1][1]),v.lineEnd(),v.lineStart(),v.point(P[0][0],P[0][1],3)))}!C||p&&(0,S.Z)(p,m)||v.point(m[0],m[1]),p=m,_=C,T=k},lineEnd:function(){_&&v.lineEnd(),p=null},clean:function(){return w|(g&&_)<<1}}},function(v,p,T,_){(0,E.m)(_,u,s,T,v,p)},a?[0,-u]:[-f.pi,u-f.pi])}},97023:function(oe,j,r){"use strict";r.d(j,{Z:function(){return y}});var I=r(85272),E=r(46225),f=r(39695),S=r(23071),M=r(33064);function y(s,a,o,l){return function(c){var h,v,p,T=a(c),_=(0,I.Z)(),g=a(_),w=!1,x={point:b,lineStart:m,lineEnd:C,polygonStart:function(){x.point=k,x.lineStart=P,x.lineEnd=R,v=[],h=[]},polygonEnd:function(){x.point=b,x.lineStart=m,x.lineEnd=C,v=(0,M.TS)(v);var L=(0,S.Z)(h,l);v.length?(w||(c.polygonStart(),w=!0),(0,E.Z)(v,i,L,o,c)):L&&(w||(c.polygonStart(),w=!0),c.lineStart(),o(null,null,1,c),c.lineEnd()),w&&(c.polygonEnd(),w=!1),v=h=null},sphere:function(){c.polygonStart(),c.lineStart(),o(null,null,1,c),c.lineEnd(),c.polygonEnd()}};function b(L,N){s(L,N)&&c.point(L,N)}function A(L,N){T.point(L,N)}function m(){x.point=A,T.lineStart()}function C(){x.point=b,T.lineEnd()}function k(L,N){p.push([L,N]),g.point(L,N)}function P(){g.lineStart(),p=[]}function R(){k(p[0][0],p[0][1]),g.lineEnd();var L,N,B,J,z=g.clean(),Y=_.result(),q=Y.length;if(p.pop(),h.push(p),p=null,q)if(1&z){if((N=(B=Y[0]).length-1)>0){for(w||(c.polygonStart(),w=!0),c.lineStart(),L=0;L<N;++L)c.point((J=B[L])[0],J[1]);c.lineEnd()}}else q>1&&2&z&&Y.push(Y.pop().concat(Y.shift())),v.push(Y.filter(u))}return x}}function u(s){return s.length>1}function i(s,a){return((s=s.x)[0]<0?s[1]-f.ou-f.Ho:f.ou-s[1])-((a=a.x)[0]<0?a[1]-f.ou-f.Ho:f.ou-a[1])}},87605:function(oe,j,r){"use strict";r.d(j,{Z:function(){return u}});var I=r(39695),E=r(85272),f=r(46225),S=r(33064),M=1e9,y=-M;function u(i,s,a,o){function l(T,_){return i<=T&&T<=a&&s<=_&&_<=o}function c(T,_,g,w){var x=0,b=0;if(null==T||(x=h(T,g))!==(b=h(_,g))||p(T,_)<0^g>0)do{w.point(0===x||3===x?i:a,x>1?o:s)}while((x=(x+g+4)%4)!==b);else w.point(_[0],_[1])}function h(T,_){return(0,I.Wn)(T[0]-i)<I.Ho?_>0?0:3:(0,I.Wn)(T[0]-a)<I.Ho?_>0?2:1:(0,I.Wn)(T[1]-s)<I.Ho?_>0?1:0:_>0?3:2}function v(T,_){return p(T.x,_.x)}function p(T,_){var g=h(T,1),w=h(_,1);return g!==w?g-w:0===g?_[1]-T[1]:1===g?T[0]-_[0]:2===g?T[1]-_[1]:_[0]-T[0]}return function(T){var _,g,w,x,b,A,m,C,k,P,R,L=T,N=(0,E.Z)(),B={point:J,lineStart:function(){B.point=z,g&&g.push(w=[]),P=!0,k=!1,m=C=NaN},lineEnd:function(){_&&(z(x,b),A&&k&&N.rejoin(),_.push(N.result())),B.point=J,k&&L.lineEnd()},polygonStart:function(){L=N,_=[],g=[],R=!0},polygonEnd:function(){var Y=function(){for(var Z=0,X=0,se=g.length;X<se;++X)for(var re,ee,K=g[X],ne=1,ae=K.length,ue=K[0],he=ue[0],pe=ue[1];ne<ae;++ne)re=he,ee=pe,he=(ue=K[ne])[0],pe=ue[1],ee<=o?pe>o&&(he-re)*(o-ee)>(pe-ee)*(i-re)&&++Z:pe<=o&&(he-re)*(o-ee)<(pe-ee)*(i-re)&&--Z;return Z}(),q=R&&Y,U=(_=(0,S.TS)(_)).length;(q||U)&&(T.polygonStart(),q&&(T.lineStart(),c(null,null,1,T),T.lineEnd()),U&&(0,f.Z)(_,v,Y,c,T),T.polygonEnd()),L=T,_=g=w=null}};function J(Y,q){l(Y,q)&&L.point(Y,q)}function z(Y,q){var U=l(Y,q);if(g&&w.push([Y,q]),P)x=Y,b=q,A=U,P=!1,U&&(L.lineStart(),L.point(Y,q));else if(U&&k)L.point(Y,q);else{var Z=[m=Math.max(y,Math.min(M,m)),C=Math.max(y,Math.min(M,C))],X=[Y=Math.max(y,Math.min(M,Y)),q=Math.max(y,Math.min(M,q))];!function(se,re,ee,K,ne,ae){var ue,he=se[0],pe=se[1],ge=0,xe=1,Se=re[0]-he,Te=re[1]-pe;if(ue=ee-he,Se||!(ue>0)){if(ue/=Se,Se<0){if(ue<ge)return;ue<xe&&(xe=ue)}else if(Se>0){if(ue>xe)return;ue>ge&&(ge=ue)}if(ue=ne-he,Se||!(ue<0)){if(ue/=Se,Se<0){if(ue>xe)return;ue>ge&&(ge=ue)}else if(Se>0){if(ue<ge)return;ue<xe&&(xe=ue)}if(ue=K-pe,Te||!(ue>0)){if(ue/=Te,Te<0){if(ue<ge)return;ue<xe&&(xe=ue)}else if(Te>0){if(ue>xe)return;ue>ge&&(ge=ue)}if(ue=ae-pe,Te||!(ue<0)){if(ue/=Te,Te<0){if(ue>xe)return;ue>ge&&(ge=ue)}else if(Te>0){if(ue<ge)return;ue<xe&&(xe=ue)}return ge>0&&(se[0]=he+ge*Se,se[1]=pe+ge*Te),xe<1&&(re[0]=he+xe*Se,re[1]=pe+xe*Te),!0}}}}}(Z,X,i,s,a,o)?U&&(L.lineStart(),L.point(Y,q),R=!1):(k||(L.lineStart(),L.point(Z[0],Z[1])),L.point(X[0],X[1]),U||L.lineEnd(),R=!1)}m=Y,C=q,k=U}return B}}},46225:function(oe,j,r){"use strict";r.d(j,{Z:function(){return S}});var I=r(67108),E=r(39695);function f(y,u,i,s){this.x=y,this.z=u,this.o=i,this.e=s,this.v=!1,this.n=this.p=null}function S(y,u,i,s,a){var o,l,c=[],h=[];if(y.forEach(function(w){if(!((x=w.length-1)<=0)){var x,b,A=w[0],m=w[x];if((0,I.Z)(A,m)){if(!A[2]&&!m[2]){for(a.lineStart(),o=0;o<x;++o)a.point((A=w[o])[0],A[1]);return void a.lineEnd()}m[0]+=2*E.Ho}c.push(b=new f(A,w,null,!0)),h.push(b.o=new f(A,null,b,!1)),c.push(b=new f(m,w,null,!1)),h.push(b.o=new f(m,null,b,!0))}}),c.length){for(h.sort(u),M(c),M(h),o=0,l=h.length;o<l;++o)h[o].e=i=!i;for(var v,p,T=c[0];;){for(var _=T,g=!0;_.v;)if((_=_.n)===T)return;v=_.z,a.lineStart();do{if(_.v=_.o.v=!0,_.e){if(g)for(o=0,l=v.length;o<l;++o)a.point((p=v[o])[0],p[1]);else s(_.x,_.n.x,1,a);_=_.n}else{if(g)for(o=(v=_.p.z).length-1;o>=0;--o)a.point((p=v[o])[0],p[1]);else s(_.x,_.p.x,-1,a);_=_.p}v=(_=_.o).z,g=!g}while(!_.v);a.lineEnd()}}}function M(y){if(u=y.length){for(var u,i,s=0,a=y[0];++s<u;)a.n=i=y[s],i.p=a,a=i;a.n=i=y[0],i.p=a}}},96059:function(oe,j,r){"use strict";function I(E,f){function S(M,y){return M=E(M,y),f(M[0],M[1])}return E.invert&&f.invert&&(S.invert=function(M,y){return(M=f.invert(M,y))&&E.invert(M[0],M[1])}),S}r.d(j,{Z:function(){return I}})},8593:function(oe,j,r){"use strict";function I(E){return E}r.d(j,{Z:function(){return I}})},27362:function(oe,j,r){"use strict";r.r(j),r.d(j,{geoAlbers:function(){return Tt},geoAlbersUsa:function(){return Nt},geoArea:function(){return I.ZP},geoAzimuthalEqualArea:function(){return bt.Z},geoAzimuthalEqualAreaRaw:function(){return bt.l},geoAzimuthalEquidistant:function(){return wt.Z},geoAzimuthalEquidistantRaw:function(){return wt.N},geoBounds:function(){return E.Z},geoCentroid:function(){return f.Z},geoCircle:function(){return S.Z},geoClipAntimeridian:function(){return M.Z},geoClipCircle:function(){return y.Z},geoClipExtent:function(){return i},geoClipRectangle:function(){return u.Z},geoConicConformal:function(){return un},geoConicConformalRaw:function(){return nn},geoConicEqualArea:function(){return Mt},geoConicEqualAreaRaw:function(){return St},geoConicEquidistant:function(){return Pn},geoConicEquidistantRaw:function(){return kn},geoContains:function(){return Y},geoDistance:function(){return C},geoEqualEarth:function(){return _n},geoEqualEarthRaw:function(){return Cn},geoEquirectangular:function(){return rn.Z},geoEquirectangularRaw:function(){return rn.k},geoGnomonic:function(){return Un.Z},geoGnomonicRaw:function(){return Un.M},geoGraticule:function(){return X},geoGraticule10:function(){return se},geoIdentity:function(){return Ln},geoInterpolate:function(){return ae.Z},geoLength:function(){return b},geoMercator:function(){return Yt},geoMercatorRaw:function(){return Wt},geoNaturalEarth1:function(){return Yn.Z},geoNaturalEarth1Raw:function(){return Yn.K},geoOrthographic:function(){return _r.Z},geoOrthographicRaw:function(){return _r.I},geoPath:function(){return qe},geoProjection:function(){return ut.Z},geoProjectionMutator:function(){return ut.r},geoRotation:function(){return It.Z},geoStereographic:function(){return vr},geoStereographicRaw:function(){return kr},geoStream:function(){return p.Z},geoTransform:function(){return qn.Z},geoTransverseMercator:function(){return Br},geoTransverseMercatorRaw:function(){return mr}});var I=r(97860),E=r(77338),f=r(66624),S=r(7613),M=r(87070),y=r(1457),u=r(87605);function i(){var qt,on,An,Dn=0,Bn=0,fr=960,bn=500;return An={stream:function(Qn){return qt&&on===Qn?qt:qt=(0,u.Z)(Dn,Bn,fr,bn)(on=Qn)},extent:function(Qn){return arguments.length?(Dn=+Qn[0][0],Bn=+Qn[0][1],fr=+Qn[1][0],bn=+Qn[1][1],qt=on=null,An):[[Dn,Bn],[fr,bn]]}}}var s,a,o,l=r(23071),c=r(33940),h=r(39695),v=r(73182),p=r(72736),T=(0,c.Z)(),_={sphere:v.Z,point:v.Z,lineStart:function(){_.point=w,_.lineEnd=g},lineEnd:v.Z,polygonStart:v.Z,polygonEnd:v.Z};function g(){_.point=_.lineEnd=v.Z}function w(qt,on){s=qt*=h.uR,a=(0,h.O$)(on*=h.uR),o=(0,h.mC)(on),_.point=x}function x(qt,on){qt*=h.uR;var An=(0,h.O$)(on*=h.uR),Dn=(0,h.mC)(on),Bn=(0,h.Wn)(qt-s),fr=(0,h.mC)(Bn),bn=Dn*(0,h.O$)(Bn),Qn=o*An-a*Dn*fr,er=a*An+o*Dn*fr;T.add((0,h.fv)((0,h._b)(bn*bn+Qn*Qn),er)),s=qt,a=An,o=Dn}function b(qt){return T.reset(),(0,p.Z)(qt,_),+T}var A=[null,null],m={type:"LineString",coordinates:A};function C(qt,on){return A[0]=qt,A[1]=on,b(m)}var k={Feature:function(qt,on){return R(qt.geometry,on)},FeatureCollection:function(qt,on){for(var An=qt.features,Dn=-1,Bn=An.length;++Dn<Bn;)if(R(An[Dn].geometry,on))return!0;return!1}},P={Sphere:function(){return!0},Point:function(qt,on){return L(qt.coordinates,on)},MultiPoint:function(qt,on){for(var An=qt.coordinates,Dn=-1,Bn=An.length;++Dn<Bn;)if(L(An[Dn],on))return!0;return!1},LineString:function(qt,on){return N(qt.coordinates,on)},MultiLineString:function(qt,on){for(var An=qt.coordinates,Dn=-1,Bn=An.length;++Dn<Bn;)if(N(An[Dn],on))return!0;return!1},Polygon:function(qt,on){return B(qt.coordinates,on)},MultiPolygon:function(qt,on){for(var An=qt.coordinates,Dn=-1,Bn=An.length;++Dn<Bn;)if(B(An[Dn],on))return!0;return!1},GeometryCollection:function(qt,on){for(var An=qt.geometries,Dn=-1,Bn=An.length;++Dn<Bn;)if(R(An[Dn],on))return!0;return!1}};function R(qt,on){return!(!qt||!P.hasOwnProperty(qt.type))&&P[qt.type](qt,on)}function L(qt,on){return 0===C(qt,on)}function N(qt,on){for(var An,Dn,Bn,fr=0,bn=qt.length;fr<bn;fr++){if(0===(Dn=C(qt[fr],on))||fr>0&&(Bn=C(qt[fr],qt[fr-1]))>0&&An<=Bn&&Dn<=Bn&&(An+Dn-Bn)*(1-Math.pow((An-Dn)/Bn,2))<h.aW*Bn)return!0;An=Dn}return!1}function B(qt,on){return!!(0,l.Z)(qt.map(J),z(on))}function J(qt){return(qt=qt.map(z)).pop(),qt}function z(qt){return[qt[0]*h.uR,qt[1]*h.uR]}function Y(qt,on){return(qt&&k.hasOwnProperty(qt.type)?k[qt.type]:R)(qt,on)}var q=r(33064);function U(qt,on,An){var Dn=(0,q.w6)(qt,on-h.Ho,An).concat(on);return function(Bn){return Dn.map(function(fr){return[Bn,fr]})}}function Z(qt,on,An){var Dn=(0,q.w6)(qt,on-h.Ho,An).concat(on);return function(Bn){return Dn.map(function(fr){return[fr,Bn]})}}function X(){var qt,on,An,Dn,Bn,fr,bn,Qn,er,Jt,Nn,Ft,an=10,pn=an,En=90,Rn=360,jn=2.5;function Tn(){return{type:"MultiLineString",coordinates:ln()}}function ln(){return(0,q.w6)((0,h.mD)(Dn/En)*En,An,En).map(Nn).concat((0,q.w6)((0,h.mD)(Qn/Rn)*Rn,bn,Rn).map(Ft)).concat((0,q.w6)((0,h.mD)(on/an)*an,qt,an).filter(function(fn){return(0,h.Wn)(fn%En)>h.Ho}).map(er)).concat((0,q.w6)((0,h.mD)(fr/pn)*pn,Bn,pn).filter(function(fn){return(0,h.Wn)(fn%Rn)>h.Ho}).map(Jt))}return Tn.lines=function(){return ln().map(function(fn){return{type:"LineString",coordinates:fn}})},Tn.outline=function(){return{type:"Polygon",coordinates:[Nn(Dn).concat(Ft(bn).slice(1),Nn(An).reverse().slice(1),Ft(Qn).reverse().slice(1))]}},Tn.extent=function(fn){return arguments.length?Tn.extentMajor(fn).extentMinor(fn):Tn.extentMinor()},Tn.extentMajor=function(fn){return arguments.length?(Qn=+fn[0][1],bn=+fn[1][1],(Dn=+fn[0][0])>(An=+fn[1][0])&&(fn=Dn,Dn=An,An=fn),Qn>bn&&(fn=Qn,Qn=bn,bn=fn),Tn.precision(jn)):[[Dn,Qn],[An,bn]]},Tn.extentMinor=function(fn){return arguments.length?(fr=+fn[0][1],Bn=+fn[1][1],(on=+fn[0][0])>(qt=+fn[1][0])&&(fn=on,on=qt,qt=fn),fr>Bn&&(fn=fr,fr=Bn,Bn=fn),Tn.precision(jn)):[[on,fr],[qt,Bn]]},Tn.step=function(fn){return arguments.length?Tn.stepMajor(fn).stepMinor(fn):Tn.stepMinor()},Tn.stepMajor=function(fn){return arguments.length?(En=+fn[0],Rn=+fn[1],Tn):[En,Rn]},Tn.stepMinor=function(fn){return arguments.length?(an=+fn[0],pn=+fn[1],Tn):[an,pn]},Tn.precision=function(fn){return arguments.length?(jn=+fn,er=U(fr,Bn,90),Jt=Z(on,qt,jn),Nn=U(Qn,bn,90),Ft=Z(Dn,An,jn),Tn):jn},Tn.extentMajor([[-180,-90+h.Ho],[180,90-h.Ho]]).extentMinor([[-180,-80-h.Ho],[180,80+h.Ho]])}function se(){return X()()}var re,ee,K,ne,ae=r(83074),ue=r(8593),he=(0,c.Z)(),pe=(0,c.Z)(),ge={point:v.Z,lineStart:v.Z,lineEnd:v.Z,polygonStart:function(){ge.lineStart=xe,ge.lineEnd=ye},polygonEnd:function(){ge.lineStart=ge.lineEnd=ge.point=v.Z,he.add((0,h.Wn)(pe)),pe.reset()},result:function(){var qt=he/2;return he.reset(),qt}};function xe(){ge.point=Se}function Se(qt,on){ge.point=Te,re=K=qt,ee=ne=on}function Te(qt,on){pe.add(ne*qt-K*on),K=qt,ne=on}function ye(){Te(re,ee)}var we,ze,ke,Ee,me=ge,de=r(3559),ce=0,Ae=0,Ne=0,De=0,Ue=0,Ye=0,_e=0,Pe=0,Ie=0,Be={point:We,lineStart:Ge,lineEnd:st,polygonStart:function(){Be.lineStart=gt,Be.lineEnd=ct},polygonEnd:function(){Be.point=We,Be.lineStart=Ge,Be.lineEnd=st},result:function(){var qt=Ie?[_e/Ie,Pe/Ie]:Ye?[De/Ye,Ue/Ye]:Ne?[ce/Ne,Ae/Ne]:[NaN,NaN];return ce=Ae=Ne=De=Ue=Ye=_e=Pe=Ie=0,qt}};function We(qt,on){ce+=qt,Ae+=on,++Ne}function Ge(){Be.point=Ke}function Ke(qt,on){Be.point=tt,We(ke=qt,Ee=on)}function tt(qt,on){var An=qt-ke,Dn=on-Ee,Bn=(0,h._b)(An*An+Dn*Dn);De+=Bn*(ke+qt)/2,Ue+=Bn*(Ee+on)/2,Ye+=Bn,We(ke=qt,Ee=on)}function st(){Be.point=We}function gt(){Be.point=kt}function ct(){Dt(we,ze)}function kt(qt,on){Be.point=Dt,We(we=ke=qt,ze=Ee=on)}function Dt(qt,on){var An=qt-ke,Dn=on-Ee,Bn=(0,h._b)(An*An+Dn*Dn);De+=Bn*(ke+qt)/2,Ue+=Bn*(Ee+on)/2,Ye+=Bn,_e+=(Bn=Ee*qt-ke*on)*(ke+qt),Pe+=Bn*(Ee+on),Ie+=3*Bn,We(ke=qt,Ee=on)}var vt=Be;function mt(qt){this._context=qt}mt.prototype={_radius:4.5,pointRadius:function(qt){return this._radius=qt,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(qt,on){switch(this._point){case 0:this._context.moveTo(qt,on),this._point=1;break;case 1:this._context.lineTo(qt,on);break;default:this._context.moveTo(qt+this._radius,on),this._context.arc(qt,on,this._radius,0,h.BZ)}},result:v.Z};var Et,Lt,Rt,Ut,Bt,rt=(0,c.Z)(),ot={point:v.Z,lineStart:function(){ot.point=Je},lineEnd:function(){Et&&it(Lt,Rt),ot.point=v.Z},polygonStart:function(){Et=!0},polygonEnd:function(){Et=null},result:function(){var qt=+rt;return rt.reset(),qt}};function Je(qt,on){ot.point=it,Lt=Ut=qt,Rt=Bt=on}function it(qt,on){rt.add((0,h._b)((Ut-=qt)*Ut+(Bt-=on)*Bt)),Ut=qt,Bt=on}var dt=ot;function ht(){this._string=[]}function Ve(qt){return"m0,"+qt+"a"+qt+","+qt+" 0 1,1 0,"+-2*qt+"a"+qt+","+qt+" 0 1,1 0,"+2*qt+"z"}function qe(qt,on){var An,Dn,Bn=4.5;function fr(bn){return bn&&("function"==typeof Bn&&Dn.pointRadius(+Bn.apply(this,arguments)),(0,p.Z)(bn,An(Dn))),Dn.result()}return fr.area=function(bn){return(0,p.Z)(bn,An(me)),me.result()},fr.measure=function(bn){return(0,p.Z)(bn,An(dt)),dt.result()},fr.bounds=function(bn){return(0,p.Z)(bn,An(de.Z)),de.Z.result()},fr.centroid=function(bn){return(0,p.Z)(bn,An(vt)),vt.result()},fr.projection=function(bn){return arguments.length?(An=null==bn?(qt=null,ue.Z):(qt=bn).stream,fr):qt},fr.context=function(bn){return arguments.length?(Dn=null==bn?(on=null,new ht):new mt(on=bn),"function"!=typeof Bn&&Dn.pointRadius(Bn),fr):on},fr.pointRadius=function(bn){return arguments.length?(Bn="function"==typeof bn?bn:(Dn.pointRadius(+bn),+bn),fr):Bn},fr.projection(qt).context(on)}ht.prototype={_radius:4.5,_circle:Ve(4.5),pointRadius:function(qt){return(qt=+qt)!==this._radius&&(this._radius=qt,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(qt,on){switch(this._point){case 0:this._string.push("M",qt,",",on),this._point=1;break;case 1:this._string.push("L",qt,",",on);break;default:null==this._circle&&(this._circle=Ve(this._radius)),this._string.push("M",qt,",",on,this._circle)}},result:function(){if(this._string.length){var qt=this._string.join("");return this._string=[],qt}return null}};var ut=r(15002);function ft(qt){var on=0,An=h.pi/3,Dn=(0,ut.r)(qt),Bn=Dn(on,An);return Bn.parallels=function(fr){return arguments.length?Dn(on=fr[0]*h.uR,An=fr[1]*h.uR):[on*h.RW,An*h.RW]},Bn}function St(qt,on){var An=(0,h.O$)(qt),Dn=(An+(0,h.O$)(on))/2;if((0,h.Wn)(Dn)<h.Ho)return function(Qn){var er=(0,h.mC)(Qn);function Jt(Nn,Ft){return[Nn*er,(0,h.O$)(Ft)/er]}return Jt.invert=function(Nn,Ft){return[Nn/er,(0,h.ZR)(Ft*er)]},Jt}(qt);var Bn=1+An*(2*Dn-An),fr=(0,h._b)(Bn)/Dn;function bn(Qn,er){var Jt=(0,h._b)(Bn-2*Dn*(0,h.O$)(er))/Dn;return[Jt*(0,h.O$)(Qn*=Dn),fr-Jt*(0,h.mC)(Qn)]}return bn.invert=function(Qn,er){var Jt=fr-er,Nn=(0,h.fv)(Qn,(0,h.Wn)(Jt))*(0,h.Xx)(Jt);return Jt*Dn<0&&(Nn-=h.pi*(0,h.Xx)(Qn)*(0,h.Xx)(Jt)),[Nn/Dn,(0,h.ZR)((Bn-(Qn*Qn+Jt*Jt)*Dn*Dn)/(2*Dn))]},bn}function Mt(){return ft(St).scale(155.424).center([0,33.6442])}function Tt(){return Mt().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}var xt=r(47589);function Nt(){var qt,on,An,Dn,Bn,fr,bn=Tt(),Qn=Mt().rotate([154,0]).center([-2,58.5]).parallels([55,65]),er=Mt().rotate([157,0]).center([-3,19.9]).parallels([8,18]),Jt={point:function(an,pn){fr=[an,pn]}};function Nn(an){var pn=an[0],En=an[1];return fr=null,An.point(pn,En),fr||(Dn.point(pn,En),fr)||(Bn.point(pn,En),fr)}function Ft(){return qt=on=null,Nn}return Nn.invert=function(an){var pn=bn.scale(),En=bn.translate(),Rn=(an[0]-En[0])/pn,jn=(an[1]-En[1])/pn;return(jn>=.12&&jn<.234&&Rn>=-.425&&Rn<-.214?Qn:jn>=.166&&jn<.234&&Rn>=-.214&&Rn<-.115?er:bn).invert(an)},Nn.stream=function(an){return qt&&on===an?qt:(pn=[bn.stream(on=an),Qn.stream(an),er.stream(an)],En=pn.length,qt={point:function(Rn,jn){for(var Tn=-1;++Tn<En;)pn[Tn].point(Rn,jn)},sphere:function(){for(var Rn=-1;++Rn<En;)pn[Rn].sphere()},lineStart:function(){for(var Rn=-1;++Rn<En;)pn[Rn].lineStart()},lineEnd:function(){for(var Rn=-1;++Rn<En;)pn[Rn].lineEnd()},polygonStart:function(){for(var Rn=-1;++Rn<En;)pn[Rn].polygonStart()},polygonEnd:function(){for(var Rn=-1;++Rn<En;)pn[Rn].polygonEnd()}});var pn,En},Nn.precision=function(an){return arguments.length?(bn.precision(an),Qn.precision(an),er.precision(an),Ft()):bn.precision()},Nn.scale=function(an){return arguments.length?(bn.scale(an),Qn.scale(.35*an),er.scale(an),Nn.translate(bn.translate())):bn.scale()},Nn.translate=function(an){if(!arguments.length)return bn.translate();var pn=bn.scale(),En=+an[0],Rn=+an[1];return An=bn.translate(an).clipExtent([[En-.455*pn,Rn-.238*pn],[En+.455*pn,Rn+.238*pn]]).stream(Jt),Dn=Qn.translate([En-.307*pn,Rn+.201*pn]).clipExtent([[En-.425*pn+h.Ho,Rn+.12*pn+h.Ho],[En-.214*pn-h.Ho,Rn+.234*pn-h.Ho]]).stream(Jt),Bn=er.translate([En-.205*pn,Rn+.212*pn]).clipExtent([[En-.214*pn+h.Ho,Rn+.166*pn+h.Ho],[En-.115*pn-h.Ho,Rn+.234*pn-h.Ho]]).stream(Jt),Ft()},Nn.fitExtent=function(an,pn){return(0,xt.qg)(Nn,an,pn)},Nn.fitSize=function(an,pn){return(0,xt.mF)(Nn,an,pn)},Nn.fitWidth=function(an,pn){return(0,xt.V6)(Nn,an,pn)},Nn.fitHeight=function(an,pn){return(0,xt.rf)(Nn,an,pn)},Nn.scale(1070)}var bt=r(12956),wt=r(17889),It=r(49386);function Wt(qt,on){return[qt,(0,h.cM)((0,h.OR)((h.ou+on)/2))]}function Yt(){return Zt(Wt).scale(961/h.BZ)}function Zt(qt){var on,An,Dn,Bn=(0,ut.Z)(qt),fr=Bn.center,bn=Bn.scale,Qn=Bn.translate,er=Bn.clipExtent,Jt=null;function Nn(){var Ft=h.pi*bn(),an=Bn((0,It.Z)(Bn.rotate()).invert([0,0]));return er(null==Jt?[[an[0]-Ft,an[1]-Ft],[an[0]+Ft,an[1]+Ft]]:qt===Wt?[[Math.max(an[0]-Ft,Jt),on],[Math.min(an[0]+Ft,An),Dn]]:[[Jt,Math.max(an[1]-Ft,on)],[An,Math.min(an[1]+Ft,Dn)]])}return Bn.scale=function(Ft){return arguments.length?(bn(Ft),Nn()):bn()},Bn.translate=function(Ft){return arguments.length?(Qn(Ft),Nn()):Qn()},Bn.center=function(Ft){return arguments.length?(fr(Ft),Nn()):fr()},Bn.clipExtent=function(Ft){return arguments.length?(null==Ft?Jt=on=An=Dn=null:(Jt=+Ft[0][0],on=+Ft[0][1],An=+Ft[1][0],Dn=+Ft[1][1]),Nn()):null==Jt?null:[[Jt,on],[An,Dn]]},Nn()}function dn(qt){return(0,h.OR)((h.ou+qt)/2)}function nn(qt,on){var An=(0,h.mC)(qt),Dn=qt===on?(0,h.O$)(qt):(0,h.cM)(An/(0,h.mC)(on))/(0,h.cM)(dn(on)/dn(qt)),Bn=An*(0,h.sQ)(dn(qt),Dn)/Dn;if(!Dn)return Wt;function fr(bn,Qn){Bn>0?Qn<-h.ou+h.Ho&&(Qn=-h.ou+h.Ho):Qn>h.ou-h.Ho&&(Qn=h.ou-h.Ho);var er=Bn/(0,h.sQ)(dn(Qn),Dn);return[er*(0,h.O$)(Dn*bn),Bn-er*(0,h.mC)(Dn*bn)]}return fr.invert=function(bn,Qn){var er=Bn-Qn,Jt=(0,h.Xx)(Dn)*(0,h._b)(bn*bn+er*er),Nn=(0,h.fv)(bn,(0,h.Wn)(er))*(0,h.Xx)(er);return er*Dn<0&&(Nn-=h.pi*(0,h.Xx)(bn)*(0,h.Xx)(er)),[Nn/Dn,2*(0,h.z4)((0,h.sQ)(Bn/Jt,1/Dn))-h.ou]},fr}function un(){return ft(nn).scale(109.5).parallels([30,30])}Wt.invert=function(qt,on){return[qt,2*(0,h.z4)((0,h.Qq)(on))-h.ou]};var rn=r(97492);function kn(qt,on){var An=(0,h.mC)(qt),Dn=qt===on?(0,h.O$)(qt):(An-(0,h.mC)(on))/(on-qt),Bn=An/Dn+qt;if((0,h.Wn)(Dn)<h.Ho)return rn.k;function fr(bn,Qn){var er=Bn-Qn,Jt=Dn*bn;return[er*(0,h.O$)(Jt),Bn-er*(0,h.mC)(Jt)]}return fr.invert=function(bn,Qn){var er=Bn-Qn,Jt=(0,h.fv)(bn,(0,h.Wn)(er))*(0,h.Xx)(er);return er*Dn<0&&(Jt-=h.pi*(0,h.Xx)(bn)*(0,h.Xx)(er)),[Jt/Dn,Bn-(0,h.Xx)(Dn)*(0,h._b)(bn*bn+er*er)]},fr}function Pn(){return ft(kn).scale(131.154).center([0,13.9389])}var Sn=1.340264,en=-.081106,vn=893e-6,hn=.003796,yn=(0,h._b)(3)/2;function Cn(qt,on){var An=(0,h.ZR)(yn*(0,h.O$)(on)),Dn=An*An,Bn=Dn*Dn*Dn;return[qt*(0,h.mC)(An)/(yn*(Sn+3*en*Dn+Bn*(7*vn+9*hn*Dn))),An*(Sn+en*Dn+Bn*(vn+hn*Dn))]}function _n(){return(0,ut.Z)(Cn).scale(177.158)}Cn.invert=function(qt,on){for(var An,Dn=on,Bn=Dn*Dn,fr=Bn*Bn*Bn,bn=0;bn<12&&(fr=(Bn=(Dn-=An=(Dn*(Sn+en*Bn+fr*(vn+hn*Bn))-on)/(Sn+3*en*Bn+fr*(7*vn+9*hn*Bn)))*Dn)*Bn*Bn,!((0,h.Wn)(An)<h.aW));++bn);return[yn*qt*(Sn+3*en*Bn+fr*(7*vn+9*hn*Bn))/(0,h.mC)(Dn),(0,h.ZR)((0,h.O$)(Dn)/yn)]};var Un=r(98936),qn=r(64684);function Ln(){var qt,on,An,Dn,Bn,fr,bn,Qn=1,er=0,Jt=0,Nn=1,Ft=1,an=0,pn=null,En=1,Rn=1,jn=(0,qn.l)({point:function(wn,Mn){var Hn=fn([wn,Mn]);this.stream.point(Hn[0],Hn[1])}}),Tn=ue.Z;function ln(){return En=Qn*Nn,Rn=Qn*Ft,fr=bn=null,fn}function fn(wn){var Mn=wn[0]*En,Hn=wn[1]*Rn;if(an){var Wn=Hn*qt-Mn*on;Mn=Mn*qt+Hn*on,Hn=Wn}return[Mn+er,Hn+Jt]}return fn.invert=function(wn){var Mn=wn[0]-er,Hn=wn[1]-Jt;if(an){var Wn=Hn*qt+Mn*on;Mn=Mn*qt-Hn*on,Hn=Wn}return[Mn/En,Hn/Rn]},fn.stream=function(wn){return fr&&bn===wn?fr:fr=jn(Tn(bn=wn))},fn.postclip=function(wn){return arguments.length?(Tn=wn,pn=An=Dn=Bn=null,ln()):Tn},fn.clipExtent=function(wn){return arguments.length?(Tn=null==wn?(pn=An=Dn=Bn=null,ue.Z):(0,u.Z)(pn=+wn[0][0],An=+wn[0][1],Dn=+wn[1][0],Bn=+wn[1][1]),ln()):null==pn?null:[[pn,An],[Dn,Bn]]},fn.scale=function(wn){return arguments.length?(Qn=+wn,ln()):Qn},fn.translate=function(wn){return arguments.length?(er=+wn[0],Jt=+wn[1],ln()):[er,Jt]},fn.angle=function(wn){return arguments.length?(on=(0,h.O$)(an=wn%360*h.uR),qt=(0,h.mC)(an),ln()):an*h.RW},fn.reflectX=function(wn){return arguments.length?(Nn=wn?-1:1,ln()):Nn<0},fn.reflectY=function(wn){return arguments.length?(Ft=wn?-1:1,ln()):Ft<0},fn.fitExtent=function(wn,Mn){return(0,xt.qg)(fn,wn,Mn)},fn.fitSize=function(wn,Mn){return(0,xt.mF)(fn,wn,Mn)},fn.fitWidth=function(wn,Mn){return(0,xt.V6)(fn,wn,Mn)},fn.fitHeight=function(wn,Mn){return(0,xt.rf)(fn,wn,Mn)},fn}var Yn=r(26867),_r=r(57962),dr=r(25382);function kr(qt,on){var An=(0,h.mC)(on),Dn=1+(0,h.mC)(qt)*An;return[An*(0,h.O$)(qt)/Dn,(0,h.O$)(on)/Dn]}function vr(){return(0,ut.Z)(kr).scale(250).clipAngle(142)}function mr(qt,on){return[(0,h.cM)((0,h.OR)((h.ou+on)/2)),-qt]}function Br(){var qt=Zt(mr),on=qt.center,An=qt.rotate;return qt.center=function(Dn){return arguments.length?on([-Dn[1],Dn[0]]):[(Dn=on())[1],-Dn[0]]},qt.rotate=function(Dn){return arguments.length?An([Dn[0],Dn[1],Dn.length>2?Dn[2]+90:90]):[(Dn=An())[0],Dn[1],Dn[2]-90]},An([0,0,90]).scale(159.155)}kr.invert=(0,dr.O)(function(qt){return 2*(0,h.z4)(qt)}),mr.invert=function(qt,on){return[-on,2*(0,h.z4)((0,h.Qq)(qt))-h.ou]}},83074:function(oe,j,r){"use strict";r.d(j,{Z:function(){return E}});var I=r(39695);function E(f,S){var M=f[0]*I.uR,y=f[1]*I.uR,u=S[0]*I.uR,i=S[1]*I.uR,s=(0,I.mC)(y),a=(0,I.O$)(y),o=(0,I.mC)(i),l=(0,I.O$)(i),c=s*(0,I.mC)(M),h=s*(0,I.O$)(M),v=o*(0,I.mC)(u),p=o*(0,I.O$)(u),T=2*(0,I.ZR)((0,I._b)((0,I.Jy)(i-y)+s*o*(0,I.Jy)(u-M))),_=(0,I.O$)(T),g=T?function(w){var x=(0,I.O$)(w*=T)/_,b=(0,I.O$)(T-w)/_,A=b*c+x*v,m=b*h+x*p,C=b*a+x*l;return[(0,I.fv)(m,A)*I.RW,(0,I.fv)(C,(0,I._b)(A*A+m*m))*I.RW]}:function(){return[M*I.RW,y*I.RW]};return g.distance=T,g}},39695:function(oe,j,r){"use strict";r.d(j,{BZ:function(){return y},Ho:function(){return I},Jy:function(){return A},Kh:function(){return x},O$:function(){return T},OR:function(){return w},Qq:function(){return h},RW:function(){return u},Wn:function(){return s},Xx:function(){return _},ZR:function(){return b},_b:function(){return g},aW:function(){return E},cM:function(){return v},fv:function(){return o},mC:function(){return l},mD:function(){return c},ou:function(){return S},pi:function(){return f},pu:function(){return M},sQ:function(){return p},uR:function(){return i},z4:function(){return a}});var I=1e-6,E=1e-12,f=Math.PI,S=f/2,M=f/4,y=2*f,u=180/f,i=f/180,s=Math.abs,a=Math.atan,o=Math.atan2,l=Math.cos,c=Math.ceil,h=Math.exp,v=Math.log,p=Math.pow,T=Math.sin,_=Math.sign||function(m){return m>0?1:m<0?-1:0},g=Math.sqrt,w=Math.tan;function x(m){return m>1?0:m<-1?f:Math.acos(m)}function b(m){return m>1?S:m<-1?-S:Math.asin(m)}function A(m){return(m=T(m/2))*m}},73182:function(oe,j,r){"use strict";function I(){}r.d(j,{Z:function(){return I}})},3559:function(oe,j,r){"use strict";var I=r(73182),E=1/0,f=E,S=-E,M=S;j.Z={point:function(u,i){u<E&&(E=u),u>S&&(S=u),i<f&&(f=i),i>M&&(M=i)},lineStart:I.Z,lineEnd:I.Z,polygonStart:I.Z,polygonEnd:I.Z,result:function(){var u=[[E,f],[S,M]];return S=M=-(f=E=1/0),u}}},67108:function(oe,j,r){"use strict";r.d(j,{Z:function(){return E}});var I=r(39695);function E(f,S){return(0,I.Wn)(f[0]-S[0])<I.Ho&&(0,I.Wn)(f[1]-S[1])<I.Ho}},23071:function(oe,j,r){"use strict";r.d(j,{Z:function(){return y}});var I=r(33940),E=r(7620),f=r(39695),S=(0,I.Z)();function M(u){return(0,f.Wn)(u[0])<=f.pi?u[0]:(0,f.Xx)(u[0])*(((0,f.Wn)(u[0])+f.pi)%f.BZ-f.pi)}function y(u,i){var s=M(i),a=i[1],o=(0,f.O$)(a),l=[(0,f.O$)(s),-(0,f.mC)(s),0],c=0,h=0;S.reset(),1===o?a=f.ou+f.Ho:-1===o&&(a=-f.ou-f.Ho);for(var v=0,p=u.length;v<p;++v)if(_=(T=u[v]).length)for(var T,_,g=T[_-1],w=M(g),x=g[1]/2+f.pu,b=(0,f.O$)(x),A=(0,f.mC)(x),m=0;m<_;++m,w=k,b=R,A=L,g=C){var C=T[m],k=M(C),P=C[1]/2+f.pu,R=(0,f.O$)(P),L=(0,f.mC)(P),N=k-w,B=N>=0?1:-1,J=B*N,z=J>f.pi,Y=b*R;if(S.add((0,f.fv)(Y*B*(0,f.O$)(J),A*L+Y*(0,f.mC)(J))),c+=z?N+B*f.BZ:N,z^w>=s^k>=s){var q=(0,E.T5)((0,E.Og)(g),(0,E.Og)(C));(0,E.iJ)(q);var U=(0,E.T5)(l,q);(0,E.iJ)(U);var Z=(z^N>=0?-1:1)*(0,f.ZR)(U[2]);(a>Z||a===Z&&(q[0]||q[1]))&&(h+=z^N>=0?1:-1)}}return(c<-f.Ho||c<f.Ho&&S<-f.Ho)^1&h}},25382:function(oe,j,r){"use strict";r.d(j,{O:function(){return f},W:function(){return E}});var I=r(39695);function E(S){return function(M,y){var u=(0,I.mC)(M),i=(0,I.mC)(y),s=S(u*i);return[s*i*(0,I.O$)(M),s*(0,I.O$)(y)]}}function f(S){return function(M,y){var u=(0,I._b)(M*M+y*y),i=S(u),s=(0,I.O$)(i),a=(0,I.mC)(i);return[(0,I.fv)(M*s,u*a),(0,I.ZR)(u&&y*s/u)]}}},12956:function(oe,j,r){"use strict";r.d(j,{Z:function(){return M},l:function(){return S}});var I=r(39695),E=r(25382),f=r(15002),S=(0,E.W)(function(y){return(0,I._b)(2/(1+y))});function M(){return(0,f.Z)(S).scale(124.75).clipAngle(179.999)}S.invert=(0,E.O)(function(y){return 2*(0,I.ZR)(y/2)})},17889:function(oe,j,r){"use strict";r.d(j,{N:function(){return S},Z:function(){return M}});var I=r(39695),E=r(25382),f=r(15002),S=(0,E.W)(function(y){return(y=(0,I.Kh)(y))&&y/(0,I.O$)(y)});function M(){return(0,f.Z)(S).scale(79.4188).clipAngle(179.999)}S.invert=(0,E.O)(function(y){return y})},97492:function(oe,j,r){"use strict";r.d(j,{Z:function(){return f},k:function(){return E}});var I=r(15002);function E(S,M){return[S,M]}function f(){return(0,I.Z)(E).scale(152.63)}E.invert=E},47589:function(oe,j,r){"use strict";r.d(j,{V6:function(){return y},mF:function(){return M},qg:function(){return S},rf:function(){return u}});var I=r(72736),E=r(3559);function f(i,s,a){var o=i.clipExtent&&i.clipExtent();return i.scale(150).translate([0,0]),null!=o&&i.clipExtent(null),(0,I.Z)(a,i.stream(E.Z)),s(E.Z.result()),null!=o&&i.clipExtent(o),i}function S(i,s,a){return f(i,function(o){var l=s[1][0]-s[0][0],c=s[1][1]-s[0][1],h=Math.min(l/(o[1][0]-o[0][0]),c/(o[1][1]-o[0][1])),v=+s[0][0]+(l-h*(o[1][0]+o[0][0]))/2,p=+s[0][1]+(c-h*(o[1][1]+o[0][1]))/2;i.scale(150*h).translate([v,p])},a)}function M(i,s,a){return S(i,[[0,0],s],a)}function y(i,s,a){return f(i,function(o){var l=+s,c=l/(o[1][0]-o[0][0]),h=(l-c*(o[1][0]+o[0][0]))/2,v=-c*o[0][1];i.scale(150*c).translate([h,v])},a)}function u(i,s,a){return f(i,function(o){var l=+s,c=l/(o[1][1]-o[0][1]),h=-c*o[0][0],v=(l-c*(o[1][1]+o[0][1]))/2;i.scale(150*c).translate([h,v])},a)}},98936:function(oe,j,r){"use strict";r.d(j,{M:function(){return S},Z:function(){return M}});var I=r(39695),E=r(25382),f=r(15002);function S(y,u){var i=(0,I.mC)(u),s=(0,I.mC)(y)*i;return[i*(0,I.O$)(y)/s,(0,I.O$)(u)/s]}function M(){return(0,f.Z)(S).scale(144.049).clipAngle(60)}S.invert=(0,E.O)(I.z4)},15002:function(oe,j,r){"use strict";r.d(j,{Z:function(){return T},r:function(){return _}});var I=r(87070),E=r(1457),f=r(87605),S=r(96059),M=r(8593),y=r(39695),u=r(49386),i=r(64684),s=r(47589),a=r(7620),o=16,l=(0,y.mC)(30*y.uR);function c(g,w){return+w?function(x,b){function A(m,C,k,P,R,L,N,B,J,z,Y,q,U,Z){var X=N-m,se=B-C,re=X*X+se*se;if(re>4*b&&U--){var ee=P+z,K=R+Y,ne=L+q,ae=(0,y._b)(ee*ee+K*K+ne*ne),ue=(0,y.ZR)(ne/=ae),he=(0,y.Wn)((0,y.Wn)(ne)-1)<y.Ho||(0,y.Wn)(k-J)<y.Ho?(k+J)/2:(0,y.fv)(K,ee),pe=x(he,ue),ge=pe[0],xe=pe[1],Se=ge-m,Te=xe-C,ye=se*Se-X*Te;(ye*ye/re>b||(0,y.Wn)((X*Se+se*Te)/re-.5)>.3||P*z+R*Y+L*q<l)&&(A(m,C,k,P,R,L,ge,xe,he,ee/=ae,K/=ae,ne,U,Z),Z.point(ge,xe),A(ge,xe,he,ee,K,ne,N,B,J,z,Y,q,U,Z))}}return function(m){var C,k,P,R,L,N,B,J,z,Y,q,U,Z={point:X,lineStart:se,lineEnd:ee,polygonStart:function(){m.polygonStart(),Z.lineStart=K},polygonEnd:function(){m.polygonEnd(),Z.lineStart=se}};function X(ue,he){ue=x(ue,he),m.point(ue[0],ue[1])}function se(){J=NaN,Z.point=re,m.lineStart()}function re(ue,he){var pe=(0,a.Og)([ue,he]),ge=x(ue,he);A(J,z,B,Y,q,U,J=ge[0],z=ge[1],B=ue,Y=pe[0],q=pe[1],U=pe[2],o,m),m.point(J,z)}function ee(){Z.point=X,m.lineEnd()}function K(){se(),Z.point=ne,Z.lineEnd=ae}function ne(ue,he){re(C=ue,he),k=J,P=z,R=Y,L=q,N=U,Z.point=re}function ae(){A(J,z,B,Y,q,U,k,P,C,R,L,N,o,m),Z.lineEnd=ee,ee()}return Z}}(g,w):(x=g,(0,i.l)({point:function(b,A){b=x(b,A),this.stream.point(b[0],b[1])}}));var x}var h=(0,i.l)({point:function(g,w){this.stream.point(g*y.uR,w*y.uR)}});function v(g,w,x,b,A){function m(C,k){return[w+g*(C*=b),x-g*(k*=A)]}return m.invert=function(C,k){return[(C-w)/g*b,(x-k)/g*A]},m}function p(g,w,x,b,A,m){var C=(0,y.mC)(m),k=(0,y.O$)(m),P=C*g,R=k*g,L=C/g,N=k/g,B=(k*x-C*w)/g,J=(k*w+C*x)/g;function z(Y,q){return[P*(Y*=b)-R*(q*=A)+w,x-R*Y-P*q]}return z.invert=function(Y,q){return[b*(L*Y-N*q+B),A*(J-N*Y-L*q)]},z}function T(g){return _(function(){return g})()}function _(g){var w,x,b,A,m,C,k,P,R,L,N=150,B=480,J=250,z=0,Y=0,q=0,U=0,Z=0,X=0,se=1,re=1,ee=null,K=I.Z,ne=null,ae=M.Z,ue=.5;function he(Se){return P(Se[0]*y.uR,Se[1]*y.uR)}function pe(Se){return(Se=P.invert(Se[0],Se[1]))&&[Se[0]*y.RW,Se[1]*y.RW]}function ge(){var Se=p(N,0,0,se,re,X).apply(null,w(z,Y)),Te=(X?p:v)(N,B-Se[0],J-Se[1],se,re,X);return x=(0,u.I)(q,U,Z),k=(0,S.Z)(w,Te),P=(0,S.Z)(x,k),C=c(k,ue),xe()}function xe(){return R=L=null,he}return he.stream=function(Se){return R&&L===Se?R:R=h((Te=x,(0,i.l)({point:function(ye,we){var ze=Te(ye,we);return this.stream.point(ze[0],ze[1])}}))(K(C(ae(L=Se)))));var Te},he.preclip=function(Se){return arguments.length?(K=Se,ee=void 0,xe()):K},he.postclip=function(Se){return arguments.length?(ae=Se,ne=b=A=m=null,xe()):ae},he.clipAngle=function(Se){return arguments.length?(K=+Se?(0,E.Z)(ee=Se*y.uR):(ee=null,I.Z),xe()):ee*y.RW},he.clipExtent=function(Se){return arguments.length?(ae=null==Se?(ne=b=A=m=null,M.Z):(0,f.Z)(ne=+Se[0][0],b=+Se[0][1],A=+Se[1][0],m=+Se[1][1]),xe()):null==ne?null:[[ne,b],[A,m]]},he.scale=function(Se){return arguments.length?(N=+Se,ge()):N},he.translate=function(Se){return arguments.length?(B=+Se[0],J=+Se[1],ge()):[B,J]},he.center=function(Se){return arguments.length?(z=Se[0]%360*y.uR,Y=Se[1]%360*y.uR,ge()):[z*y.RW,Y*y.RW]},he.rotate=function(Se){return arguments.length?(q=Se[0]%360*y.uR,U=Se[1]%360*y.uR,Z=Se.length>2?Se[2]%360*y.uR:0,ge()):[q*y.RW,U*y.RW,Z*y.RW]},he.angle=function(Se){return arguments.length?(X=Se%360*y.uR,ge()):X*y.RW},he.reflectX=function(Se){return arguments.length?(se=Se?-1:1,ge()):se<0},he.reflectY=function(Se){return arguments.length?(re=Se?-1:1,ge()):re<0},he.precision=function(Se){return arguments.length?(C=c(k,ue=Se*Se),xe()):(0,y._b)(ue)},he.fitExtent=function(Se,Te){return(0,s.qg)(he,Se,Te)},he.fitSize=function(Se,Te){return(0,s.mF)(he,Se,Te)},he.fitWidth=function(Se,Te){return(0,s.V6)(he,Se,Te)},he.fitHeight=function(Se,Te){return(0,s.rf)(he,Se,Te)},function(){return w=g.apply(this,arguments),he.invert=w.invert&&pe,ge()}}},26867:function(oe,j,r){"use strict";r.d(j,{K:function(){return f},Z:function(){return S}});var I=r(15002),E=r(39695);function f(M,y){var u=y*y,i=u*u;return[M*(.8707-.131979*u+i*(i*(.003971*u-.001529*i)-.013791)),y*(1.007226+u*(.015085+i*(.028874*u-.044475-.005916*i)))]}function S(){return(0,I.Z)(f).scale(175.295)}f.invert=function(M,y){var u,i=y,s=25;do{var a=i*i,o=a*a;i-=u=(i*(1.007226+a*(.015085+o*(.028874*a-.044475-.005916*o)))-y)/(1.007226+a*(.045255+o*(.259866*a-.311325-.06507600000000001*o)))}while((0,E.Wn)(u)>E.Ho&&--s>0);return[M/(.8707+(a=i*i)*(a*(a*a*a*(.003971-.001529*a)-.013791)-.131979)),i]}},57962:function(oe,j,r){"use strict";r.d(j,{I:function(){return S},Z:function(){return M}});var I=r(39695),E=r(25382),f=r(15002);function S(y,u){return[(0,I.mC)(u)*(0,I.O$)(y),(0,I.O$)(u)]}function M(){return(0,f.Z)(S).scale(249.5).clipAngle(90+I.Ho)}S.invert=(0,E.O)(I.ZR)},49386:function(oe,j,r){"use strict";r.d(j,{I:function(){return S},Z:function(){return i}});var I=r(96059),E=r(39695);function f(s,a){return[(0,E.Wn)(s)>E.pi?s+Math.round(-s/E.BZ)*E.BZ:s,a]}function S(s,a,o){return(s%=E.BZ)?a||o?(0,I.Z)(y(s),u(a,o)):y(s):a||o?u(a,o):f}function M(s){return function(a,o){return[(a+=s)>E.pi?a-E.BZ:a<-E.pi?a+E.BZ:a,o]}}function y(s){var a=M(s);return a.invert=M(-s),a}function u(s,a){var o=(0,E.mC)(s),l=(0,E.O$)(s),c=(0,E.mC)(a),h=(0,E.O$)(a);function v(p,T){var _=(0,E.mC)(T),g=(0,E.mC)(p)*_,w=(0,E.O$)(p)*_,x=(0,E.O$)(T),b=x*o+g*l;return[(0,E.fv)(w*c-b*h,g*o-x*l),(0,E.ZR)(b*c+w*h)]}return v.invert=function(p,T){var _=(0,E.mC)(T),g=(0,E.mC)(p)*_,w=(0,E.O$)(p)*_,x=(0,E.O$)(T),b=x*c-w*h;return[(0,E.fv)(w*c+x*h,g*o+b*l),(0,E.ZR)(b*o-g*l)]},v}function i(s){function a(o){return(o=s(o[0]*E.uR,o[1]*E.uR))[0]*=E.RW,o[1]*=E.RW,o}return s=S(s[0]*E.uR,s[1]*E.uR,s.length>2?s[2]*E.uR:0),a.invert=function(o){return(o=s.invert(o[0]*E.uR,o[1]*E.uR))[0]*=E.RW,o[1]*=E.RW,o},a}f.invert=f},72736:function(oe,j,r){"use strict";function I(u,i){u&&f.hasOwnProperty(u.type)&&f[u.type](u,i)}r.d(j,{Z:function(){return y}});var E={Feature:function(u,i){I(u.geometry,i)},FeatureCollection:function(u,i){for(var s=u.features,a=-1,o=s.length;++a<o;)I(s[a].geometry,i)}},f={Sphere:function(u,i){i.sphere()},Point:function(u,i){i.point((u=u.coordinates)[0],u[1],u[2])},MultiPoint:function(u,i){for(var s=u.coordinates,a=-1,o=s.length;++a<o;)i.point((u=s[a])[0],u[1],u[2])},LineString:function(u,i){S(u.coordinates,i,0)},MultiLineString:function(u,i){for(var s=u.coordinates,a=-1,o=s.length;++a<o;)S(s[a],i,0)},Polygon:function(u,i){M(u.coordinates,i)},MultiPolygon:function(u,i){for(var s=u.coordinates,a=-1,o=s.length;++a<o;)M(s[a],i)},GeometryCollection:function(u,i){for(var s=u.geometries,a=-1,o=s.length;++a<o;)I(s[a],i)}};function S(u,i,s){var a,o=-1,l=u.length-s;for(i.lineStart();++o<l;)i.point((a=u[o])[0],a[1],a[2]);i.lineEnd()}function M(u,i){var s=-1,a=u.length;for(i.polygonStart();++s<a;)S(u[s],i,1);i.polygonEnd()}function y(u,i){u&&E.hasOwnProperty(u.type)?E[u.type](u,i):I(u,i)}},64684:function(oe,j,r){"use strict";function I(S){return{stream:E(S)}}function E(S){return function(M){var y=new f;for(var u in S)y[u]=S[u];return y.stream=M,y}}function f(){}r.d(j,{Z:function(){return I},l:function(){return E}}),f.prototype={constructor:f,point:function(S,M){this.stream.point(S,M)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}}},674:function(oe,j,r){"use strict";function I(de,ce){return de.parent===ce.parent?1:2}function E(de,ce){return de+ce.x}function f(de,ce){return Math.max(de,ce.y)}function S(){var de=I,ce=1,Ae=1,Ne=!1;function De(Ue){var Ye,_e=0;Ue.eachAfter(function(Ge){var tt,Ke=Ge.children;Ke?(Ge.x=(tt=Ke).reduce(E,0)/tt.length,Ge.y=function(tt){return 1+tt.reduce(f,0)}(Ke)):(Ge.x=Ye?_e+=de(Ge,Ye):0,Ge.y=0,Ye=Ge)});var Pe=function(Ge){for(var Ke;Ke=Ge.children;)Ge=Ke[0];return Ge}(Ue),Ie=function(Ge){for(var Ke;Ke=Ge.children;)Ge=Ke[Ke.length-1];return Ge}(Ue),Be=Pe.x-de(Pe,Ie)/2,We=Ie.x+de(Ie,Pe)/2;return Ue.eachAfter(Ne?function(Ge){Ge.x=(Ge.x-Ue.x)*ce,Ge.y=(Ue.y-Ge.y)*Ae}:function(Ge){Ge.x=(Ge.x-Be)/(We-Be)*ce,Ge.y=(1-(Ue.y?Ge.y/Ue.y:1))*Ae})}return De.separation=function(Ue){return arguments.length?(de=Ue,De):de},De.size=function(Ue){return arguments.length?(Ne=!1,ce=+Ue[0],Ae=+Ue[1],De):Ne?null:[ce,Ae]},De.nodeSize=function(Ue){return arguments.length?(Ne=!0,ce=+Ue[0],Ae=+Ue[1],De):Ne?[ce,Ae]:null},De}function M(de){var ce=0,Ae=de.children,Ne=Ae&&Ae.length;if(Ne)for(;--Ne>=0;)ce+=Ae[Ne].value;else ce=1;de.value=ce}function y(de,ce){var Ae,Ne,De,Ue,Ye,_e=new a(de),Pe=+de.value&&(_e.value=de.value),Ie=[_e];for(null==ce&&(ce=u);Ae=Ie.pop();)if(Pe&&(Ae.value=+Ae.data.value),(De=ce(Ae.data))&&(Ye=De.length))for(Ae.children=new Array(Ye),Ue=Ye-1;Ue>=0;--Ue)Ie.push(Ne=Ae.children[Ue]=new a(De[Ue])),Ne.parent=Ae,Ne.depth=Ae.depth+1;return _e.eachBefore(s)}function u(de){return de.children}function i(de){de.data=de.data.data}function s(de){var ce=0;do{de.height=ce}while((de=de.parent)&&de.height<++ce)}function a(de){this.data=de,this.depth=this.height=0,this.parent=null}r.r(j),r.d(j,{cluster:function(){return S},hierarchy:function(){return y},pack:function(){return N},packEnclose:function(){return l},packSiblings:function(){return C},partition:function(){return U},stratify:function(){return K},tree:function(){return xe},treemap:function(){return ze},treemapBinary:function(){return ke},treemapDice:function(){return q},treemapResquarify:function(){return me},treemapSlice:function(){return Se},treemapSliceDice:function(){return Ee},treemapSquarify:function(){return we}}),a.prototype=y.prototype={constructor:a,count:function(){return this.eachAfter(M)},each:function(de){var ce,Ae,Ne,De,Ue=this,Ye=[Ue];do{for(ce=Ye.reverse(),Ye=[];Ue=ce.pop();)if(de(Ue),Ae=Ue.children)for(Ne=0,De=Ae.length;Ne<De;++Ne)Ye.push(Ae[Ne])}while(Ye.length);return this},eachAfter:function(de){for(var ce,Ae,Ne,De=this,Ue=[De],Ye=[];De=Ue.pop();)if(Ye.push(De),ce=De.children)for(Ae=0,Ne=ce.length;Ae<Ne;++Ae)Ue.push(ce[Ae]);for(;De=Ye.pop();)de(De);return this},eachBefore:function(de){for(var ce,Ae,Ne=this,De=[Ne];Ne=De.pop();)if(de(Ne),ce=Ne.children)for(Ae=ce.length-1;Ae>=0;--Ae)De.push(ce[Ae]);return this},sum:function(de){return this.eachAfter(function(ce){for(var Ae=+de(ce.data)||0,Ne=ce.children,De=Ne&&Ne.length;--De>=0;)Ae+=Ne[De].value;ce.value=Ae})},sort:function(de){return this.eachBefore(function(ce){ce.children&&ce.children.sort(de)})},path:function(de){for(var ce=this,Ae=function(Ue,Ye){if(Ue===Ye)return Ue;var _e=Ue.ancestors(),Pe=Ye.ancestors(),Ie=null;for(Ue=_e.pop(),Ye=Pe.pop();Ue===Ye;)Ie=Ue,Ue=_e.pop(),Ye=Pe.pop();return Ie}(ce,de),Ne=[ce];ce!==Ae;)Ne.push(ce=ce.parent);for(var De=Ne.length;de!==Ae;)Ne.splice(De,0,de),de=de.parent;return Ne},ancestors:function(){for(var de=this,ce=[de];de=de.parent;)ce.push(de);return ce},descendants:function(){var de=[];return this.each(function(ce){de.push(ce)}),de},leaves:function(){var de=[];return this.eachBefore(function(ce){ce.children||de.push(ce)}),de},links:function(){var de=this,ce=[];return de.each(function(Ae){Ae!==de&&ce.push({source:Ae.parent,target:Ae})}),ce},copy:function(){return y(this).eachBefore(i)}};var o=Array.prototype.slice;function l(de){for(var ce,Ae,Ne=0,De=(de=function(Ye){for(var _e,Pe,Ie=Ye.length;Ie;)Pe=Math.random()*Ie--|0,_e=Ye[Ie],Ye[Ie]=Ye[Pe],Ye[Pe]=_e;return Ye}(o.call(de))).length,Ue=[];Ne<De;)ce=de[Ne],Ae&&v(Ae,ce)?++Ne:(Ae=T(Ue=c(Ue,ce)),Ne=0);return Ae}function c(de,ce){var Ae,Ne;if(p(ce,de))return[ce];for(Ae=0;Ae<de.length;++Ae)if(h(ce,de[Ae])&&p(_(de[Ae],ce),de))return[de[Ae],ce];for(Ae=0;Ae<de.length-1;++Ae)for(Ne=Ae+1;Ne<de.length;++Ne)if(h(_(de[Ae],de[Ne]),ce)&&h(_(de[Ae],ce),de[Ne])&&h(_(de[Ne],ce),de[Ae])&&p(g(de[Ae],de[Ne],ce),de))return[de[Ae],de[Ne],ce];throw new Error}function h(de,ce){var Ae=de.r-ce.r,Ne=ce.x-de.x,De=ce.y-de.y;return Ae<0||Ae*Ae<Ne*Ne+De*De}function v(de,ce){var Ae=de.r-ce.r+1e-6,Ne=ce.x-de.x,De=ce.y-de.y;return Ae>0&&Ae*Ae>Ne*Ne+De*De}function p(de,ce){for(var Ae=0;Ae<ce.length;++Ae)if(!v(de,ce[Ae]))return!1;return!0}function T(de){switch(de.length){case 1:return{x:(ce=de[0]).x,y:ce.y,r:ce.r};case 2:return _(de[0],de[1]);case 3:return g(de[0],de[1],de[2])}var ce}function _(de,ce){var Ae=de.x,Ne=de.y,De=de.r,Ue=ce.x,Ye=ce.y,_e=ce.r,Pe=Ue-Ae,Ie=Ye-Ne,Be=_e-De,We=Math.sqrt(Pe*Pe+Ie*Ie);return{x:(Ae+Ue+Pe/We*Be)/2,y:(Ne+Ye+Ie/We*Be)/2,r:(We+De+_e)/2}}function g(de,ce,Ae){var Ne=de.x,De=de.y,Ue=de.r,Ye=ce.x,_e=ce.y,Pe=ce.r,Ie=Ae.x,Be=Ae.y,We=Ae.r,Ge=Ne-Ye,Ke=Ne-Ie,tt=De-_e,st=De-Be,gt=Pe-Ue,ct=We-Ue,kt=Ne*Ne+De*De-Ue*Ue,Dt=kt-Ye*Ye-_e*_e+Pe*Pe,vt=kt-Ie*Ie-Be*Be+We*We,mt=Ke*tt-Ge*st,Et=(tt*vt-st*Dt)/(2*mt)-Ne,Lt=(st*gt-tt*ct)/mt,Rt=(Ke*Dt-Ge*vt)/(2*mt)-De,Ut=(Ge*ct-Ke*gt)/mt,Bt=Lt*Lt+Ut*Ut-1,rt=2*(Ue+Et*Lt+Rt*Ut),ot=Et*Et+Rt*Rt-Ue*Ue,Je=-(Bt?(rt+Math.sqrt(rt*rt-4*Bt*ot))/(2*Bt):ot/rt);return{x:Ne+Et+Lt*Je,y:De+Rt+Ut*Je,r:Je}}function w(de,ce,Ae){var Ne,De,Ue,Ye,_e=de.x-ce.x,Pe=de.y-ce.y,Ie=_e*_e+Pe*Pe;Ie?(De=ce.r+Ae.r,Ye=de.r+Ae.r,(De*=De)>(Ye*=Ye)?(Ne=(Ie+Ye-De)/(2*Ie),Ue=Math.sqrt(Math.max(0,Ye/Ie-Ne*Ne)),Ae.x=de.x-Ne*_e-Ue*Pe,Ae.y=de.y-Ne*Pe+Ue*_e):(Ne=(Ie+De-Ye)/(2*Ie),Ue=Math.sqrt(Math.max(0,De/Ie-Ne*Ne)),Ae.x=ce.x+Ne*_e-Ue*Pe,Ae.y=ce.y+Ne*Pe+Ue*_e)):(Ae.x=ce.x+Ae.r,Ae.y=ce.y)}function x(de,ce){var Ae=de.r+ce.r-1e-6,Ne=ce.x-de.x,De=ce.y-de.y;return Ae>0&&Ae*Ae>Ne*Ne+De*De}function b(de){var ce=de._,Ae=de.next._,Ne=ce.r+Ae.r,De=(ce.x*Ae.r+Ae.x*ce.r)/Ne,Ue=(ce.y*Ae.r+Ae.y*ce.r)/Ne;return De*De+Ue*Ue}function A(de){this._=de,this.next=null,this.previous=null}function m(de){if(!(De=de.length))return 0;var ce,Ae,Ne,De,Ue,Ye,_e,Pe,Ie,Be,We;if((ce=de[0]).x=0,ce.y=0,!(De>1))return ce.r;if(ce.x=-(Ae=de[1]).r,Ae.x=ce.r,Ae.y=0,!(De>2))return ce.r+Ae.r;w(Ae,ce,Ne=de[2]),ce=new A(ce),Ae=new A(Ae),Ne=new A(Ne),ce.next=Ne.previous=Ae,Ae.next=ce.previous=Ne,Ne.next=Ae.previous=ce;e:for(_e=3;_e<De;++_e){w(ce._,Ae._,Ne=de[_e]),Ne=new A(Ne),Pe=Ae.next,Ie=ce.previous,Be=Ae._.r,We=ce._.r;do{if(Be<=We){if(x(Pe._,Ne._)){ce.next=Ae=Pe,Ae.previous=ce,--_e;continue e}Be+=Pe._.r,Pe=Pe.next}else{if(x(Ie._,Ne._)){(ce=Ie).next=Ae,Ae.previous=ce,--_e;continue e}We+=Ie._.r,Ie=Ie.previous}}while(Pe!==Ie.next);for(Ne.previous=ce,Ne.next=Ae,ce.next=Ae.previous=Ae=Ne,Ue=b(ce);(Ne=Ne.next)!==Ae;)(Ye=b(Ne))<Ue&&(ce=Ne,Ue=Ye);Ae=ce.next}for(ce=[Ae._],Ne=Ae;(Ne=Ne.next)!==Ae;)ce.push(Ne._);for(Ne=l(ce),_e=0;_e<De;++_e)(ce=de[_e]).x-=Ne.x,ce.y-=Ne.y;return Ne.r}function C(de){return m(de),de}function k(de){if("function"!=typeof de)throw new Error;return de}function P(){return 0}function R(de){return function(){return de}}function L(de){return Math.sqrt(de.value)}function N(){var de=null,ce=1,Ae=1,Ne=P;function De(Ue){return Ue.x=ce/2,Ue.y=Ae/2,de?Ue.eachBefore(B(de)).eachAfter(J(Ne,.5)).eachBefore(z(1)):Ue.eachBefore(B(L)).eachAfter(J(P,1)).eachAfter(J(Ne,Ue.r/Math.min(ce,Ae))).eachBefore(z(Math.min(ce,Ae)/(2*Ue.r))),Ue}return De.radius=function(Ue){return arguments.length?(de=null==(Ye=Ue)?null:k(Ye),De):de;var Ye},De.size=function(Ue){return arguments.length?(ce=+Ue[0],Ae=+Ue[1],De):[ce,Ae]},De.padding=function(Ue){return arguments.length?(Ne="function"==typeof Ue?Ue:R(+Ue),De):Ne},De}function B(de){return function(ce){ce.children||(ce.r=Math.max(0,+de(ce)||0))}}function J(de,ce){return function(Ae){if(Ne=Ae.children){var Ne,De,Ue,Ye=Ne.length,_e=de(Ae)*ce||0;if(_e)for(De=0;De<Ye;++De)Ne[De].r+=_e;if(Ue=m(Ne),_e)for(De=0;De<Ye;++De)Ne[De].r-=_e;Ae.r=Ue+_e}}}function z(de){return function(ce){var Ae=ce.parent;ce.r*=de,Ae&&(ce.x=Ae.x+de*ce.x,ce.y=Ae.y+de*ce.y)}}function Y(de){de.x0=Math.round(de.x0),de.y0=Math.round(de.y0),de.x1=Math.round(de.x1),de.y1=Math.round(de.y1)}function q(de,ce,Ae,Ne,De){for(var Ue,Ye=de.children,_e=-1,Pe=Ye.length,Ie=de.value&&(Ne-ce)/de.value;++_e<Pe;)(Ue=Ye[_e]).y0=Ae,Ue.y1=De,Ue.x0=ce,Ue.x1=ce+=Ue.value*Ie}function U(){var de=1,ce=1,Ae=0,Ne=!1;function De(Ue){var _e,Pe,Ye=Ue.height+1;return Ue.x0=Ue.y0=Ae,Ue.x1=de,Ue.y1=ce/Ye,Ue.eachBefore((_e=ce,Pe=Ye,function(Ie){Ie.children&&q(Ie,Ie.x0,_e*(Ie.depth+1)/Pe,Ie.x1,_e*(Ie.depth+2)/Pe);var Be=Ie.x0,We=Ie.y0,Ge=Ie.x1-Ae,Ke=Ie.y1-Ae;Ge<Be&&(Be=Ge=(Be+Ge)/2),Ke<We&&(We=Ke=(We+Ke)/2),Ie.x0=Be,Ie.y0=We,Ie.x1=Ge,Ie.y1=Ke})),Ne&&Ue.eachBefore(Y),Ue}return De.round=function(Ue){return arguments.length?(Ne=!!Ue,De):Ne},De.size=function(Ue){return arguments.length?(de=+Ue[0],ce=+Ue[1],De):[de,ce]},De.padding=function(Ue){return arguments.length?(Ae=+Ue,De):Ae},De}var Z="$",X={depth:-1},se={};function re(de){return de.id}function ee(de){return de.parentId}function K(){var de=re,ce=ee;function Ae(Ne){var De,Ue,Ye,_e,Pe,Ie,Be,We=Ne.length,Ge=new Array(We),Ke={};for(Ue=0;Ue<We;++Ue)Pe=Ge[Ue]=new a(De=Ne[Ue]),null!=(Ie=de(De,Ue,Ne))&&(Ie+="")&&(Ke[Be=Z+(Pe.id=Ie)]=Be in Ke?se:Pe);for(Ue=0;Ue<We;++Ue)if(Pe=Ge[Ue],null!=(Ie=ce(Ne[Ue],Ue,Ne))&&(Ie+="")){if(!(_e=Ke[Z+Ie]))throw new Error("missing: "+Ie);if(_e===se)throw new Error("ambiguous: "+Ie);_e.children?_e.children.push(Pe):_e.children=[Pe],Pe.parent=_e}else{if(Ye)throw new Error("multiple roots");Ye=Pe}if(!Ye)throw new Error("no root");if(Ye.parent=X,Ye.eachBefore(function(tt){tt.depth=tt.parent.depth+1,--We}).eachBefore(s),Ye.parent=null,We>0)throw new Error("cycle");return Ye}return Ae.id=function(Ne){return arguments.length?(de=k(Ne),Ae):de},Ae.parentId=function(Ne){return arguments.length?(ce=k(Ne),Ae):ce},Ae}function ne(de,ce){return de.parent===ce.parent?1:2}function ae(de){var ce=de.children;return ce?ce[0]:de.t}function ue(de){var ce=de.children;return ce?ce[ce.length-1]:de.t}function he(de,ce,Ae){var Ne=Ae/(ce.i-de.i);ce.c-=Ne,ce.s+=Ae,de.c+=Ne,ce.z+=Ae,ce.m+=Ae}function pe(de,ce,Ae){return de.a.parent===ce.parent?de.a:Ae}function ge(de,ce){this._=de,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=ce}function xe(){var de=ne,ce=1,Ae=1,Ne=null;function De(Pe){var Ie=function(ct){for(var kt,Dt,vt,mt,Et,Lt=new ge(ct,0),Rt=[Lt];kt=Rt.pop();)if(vt=kt._.children)for(kt.children=new Array(Et=vt.length),mt=Et-1;mt>=0;--mt)Rt.push(Dt=kt.children[mt]=new ge(vt[mt],mt)),Dt.parent=kt;return(Lt.parent=new ge(null,0)).children=[Lt],Lt}(Pe);if(Ie.eachAfter(Ue),Ie.parent.m=-Ie.z,Ie.eachBefore(Ye),Ne)Pe.eachBefore(_e);else{var Be=Pe,We=Pe,Ge=Pe;Pe.eachBefore(function(ct){ct.x<Be.x&&(Be=ct),ct.x>We.x&&(We=ct),ct.depth>Ge.depth&&(Ge=ct)});var Ke=Be===We?1:de(Be,We)/2,tt=Ke-Be.x,st=ce/(We.x+Ke+tt),gt=Ae/(Ge.depth||1);Pe.eachBefore(function(ct){ct.x=(ct.x+tt)*st,ct.y=ct.depth*gt})}return Pe}function Ue(Pe){var Ie=Pe.children,Be=Pe.parent.children,We=Pe.i?Be[Pe.i-1]:null;if(Ie){!function(Ke){for(var tt,st=0,gt=0,ct=Ke.children,kt=ct.length;--kt>=0;)(tt=ct[kt]).z+=st,tt.m+=st,st+=tt.s+(gt+=tt.c)}(Pe);var Ge=(Ie[0].z+Ie[Ie.length-1].z)/2;We?(Pe.z=We.z+de(Pe._,We._),Pe.m=Pe.z-Ge):Pe.z=Ge}else We&&(Pe.z=We.z+de(Pe._,We._));Pe.parent.A=function(Ke,tt,st){if(tt){for(var gt,ct=Ke,kt=Ke,Dt=tt,vt=ct.parent.children[0],mt=ct.m,Et=kt.m,Lt=Dt.m,Rt=vt.m;Dt=ue(Dt),ct=ae(ct),Dt&&ct;)vt=ae(vt),(kt=ue(kt)).a=Ke,(gt=Dt.z+Lt-ct.z-mt+de(Dt._,ct._))>0&&(he(pe(Dt,Ke,st),Ke,gt),mt+=gt,Et+=gt),Lt+=Dt.m,mt+=ct.m,Rt+=vt.m,Et+=kt.m;Dt&&!ue(kt)&&(kt.t=Dt,kt.m+=Lt-Et),ct&&!ae(vt)&&(vt.t=ct,vt.m+=mt-Rt,st=Ke)}return st}(Pe,We,Pe.parent.A||Be[0])}function Ye(Pe){Pe._.x=Pe.z+Pe.parent.m,Pe.m+=Pe.parent.m}function _e(Pe){Pe.x*=ce,Pe.y=Pe.depth*Ae}return De.separation=function(Pe){return arguments.length?(de=Pe,De):de},De.size=function(Pe){return arguments.length?(Ne=!1,ce=+Pe[0],Ae=+Pe[1],De):Ne?null:[ce,Ae]},De.nodeSize=function(Pe){return arguments.length?(Ne=!0,ce=+Pe[0],Ae=+Pe[1],De):Ne?[ce,Ae]:null},De}function Se(de,ce,Ae,Ne,De){for(var Ue,Ye=de.children,_e=-1,Pe=Ye.length,Ie=de.value&&(De-Ae)/de.value;++_e<Pe;)(Ue=Ye[_e]).x0=ce,Ue.x1=Ne,Ue.y0=Ae,Ue.y1=Ae+=Ue.value*Ie}ge.prototype=Object.create(a.prototype);var Te=(1+Math.sqrt(5))/2;function ye(de,ce,Ae,Ne,De,Ue){for(var Ye,_e,Pe,Ie,Be,We,Ge,Ke,tt,st,gt,ct=[],kt=ce.children,Dt=0,vt=0,mt=kt.length,Et=ce.value;Dt<mt;){Pe=De-Ae,Ie=Ue-Ne;do{Be=kt[vt++].value}while(!Be&&vt<mt);for(We=Ge=Be,gt=Be*Be*(st=Math.max(Ie/Pe,Pe/Ie)/(Et*de)),tt=Math.max(Ge/gt,gt/We);vt<mt;++vt){if(Be+=_e=kt[vt].value,_e<We&&(We=_e),_e>Ge&&(Ge=_e),gt=Be*Be*st,(Ke=Math.max(Ge/gt,gt/We))>tt){Be-=_e;break}tt=Ke}ct.push(Ye={value:Be,dice:Pe<Ie,children:kt.slice(Dt,vt)}),Ye.dice?q(Ye,Ae,Ne,De,Et?Ne+=Ie*Be/Et:Ue):Se(Ye,Ae,Ne,Et?Ae+=Pe*Be/Et:De,Ue),Et-=Be,Dt=vt}return ct}var we=function de(ce){function Ae(Ne,De,Ue,Ye,_e){ye(ce,Ne,De,Ue,Ye,_e)}return Ae.ratio=function(Ne){return de((Ne=+Ne)>1?Ne:1)},Ae}(Te);function ze(){var de=we,ce=!1,Ae=1,Ne=1,De=[0],Ue=P,Ye=P,_e=P,Pe=P,Ie=P;function Be(Ge){return Ge.x0=Ge.y0=0,Ge.x1=Ae,Ge.y1=Ne,Ge.eachBefore(We),De=[0],ce&&Ge.eachBefore(Y),Ge}function We(Ge){var Ke=De[Ge.depth],tt=Ge.x0+Ke,st=Ge.y0+Ke,gt=Ge.x1-Ke,ct=Ge.y1-Ke;gt<tt&&(tt=gt=(tt+gt)/2),ct<st&&(st=ct=(st+ct)/2),Ge.x0=tt,Ge.y0=st,Ge.x1=gt,Ge.y1=ct,Ge.children&&(Ke=De[Ge.depth+1]=Ue(Ge)/2,tt+=Ie(Ge)-Ke,st+=Ye(Ge)-Ke,(gt-=_e(Ge)-Ke)<tt&&(tt=gt=(tt+gt)/2),(ct-=Pe(Ge)-Ke)<st&&(st=ct=(st+ct)/2),de(Ge,tt,st,gt,ct))}return Be.round=function(Ge){return arguments.length?(ce=!!Ge,Be):ce},Be.size=function(Ge){return arguments.length?(Ae=+Ge[0],Ne=+Ge[1],Be):[Ae,Ne]},Be.tile=function(Ge){return arguments.length?(de=k(Ge),Be):de},Be.padding=function(Ge){return arguments.length?Be.paddingInner(Ge).paddingOuter(Ge):Be.paddingInner()},Be.paddingInner=function(Ge){return arguments.length?(Ue="function"==typeof Ge?Ge:R(+Ge),Be):Ue},Be.paddingOuter=function(Ge){return arguments.length?Be.paddingTop(Ge).paddingRight(Ge).paddingBottom(Ge).paddingLeft(Ge):Be.paddingTop()},Be.paddingTop=function(Ge){return arguments.length?(Ye="function"==typeof Ge?Ge:R(+Ge),Be):Ye},Be.paddingRight=function(Ge){return arguments.length?(_e="function"==typeof Ge?Ge:R(+Ge),Be):_e},Be.paddingBottom=function(Ge){return arguments.length?(Pe="function"==typeof Ge?Ge:R(+Ge),Be):Pe},Be.paddingLeft=function(Ge){return arguments.length?(Ie="function"==typeof Ge?Ge:R(+Ge),Be):Ie},Be}function ke(de,ce,Ae,Ne,De){var Ue,Ye,_e=de.children,Pe=_e.length,Ie=new Array(Pe+1);for(Ie[0]=Ye=Ue=0;Ue<Pe;++Ue)Ie[Ue+1]=Ye+=_e[Ue].value;!function Be(We,Ge,Ke,tt,st,gt,ct){if(We>=Ge-1){var kt=_e[We];return kt.x0=tt,kt.y0=st,kt.x1=gt,void(kt.y1=ct)}for(var Dt=Ie[We],vt=Ke/2+Dt,mt=We+1,Et=Ge-1;mt<Et;){var Lt=mt+Et>>>1;Ie[Lt]<vt?mt=Lt+1:Et=Lt}vt-Ie[mt-1]<Ie[mt]-vt&&We+1<mt&&--mt;var Rt=Ie[mt]-Dt,Ut=Ke-Rt;if(gt-tt>ct-st){var Bt=(tt*Ut+gt*Rt)/Ke;Be(We,mt,Rt,tt,st,Bt,ct),Be(mt,Ge,Ut,Bt,st,gt,ct)}else{var rt=(st*Ut+ct*Rt)/Ke;Be(We,mt,Rt,tt,st,gt,rt),Be(mt,Ge,Ut,tt,rt,gt,ct)}}(0,Pe,de.value,ce,Ae,Ne,De)}function Ee(de,ce,Ae,Ne,De){(1&de.depth?Se:q)(de,ce,Ae,Ne,De)}var me=function de(ce){function Ae(Ne,De,Ue,Ye,_e){if((Pe=Ne._squarify)&&Pe.ratio===ce)for(var Pe,Ie,Be,We,Ge,Ke=-1,tt=Pe.length,st=Ne.value;++Ke<tt;){for(Be=(Ie=Pe[Ke]).children,We=Ie.value=0,Ge=Be.length;We<Ge;++We)Ie.value+=Be[We].value;Ie.dice?q(Ie,De,Ue,Ye,Ue+=(_e-Ue)*Ie.value/st):Se(Ie,De,Ue,De+=(Ye-De)*Ie.value/st,_e),st-=Ie.value}else Ne._squarify=Pe=ye(ce,Ne,De,Ue,Ye,_e),Pe.ratio=ce}return Ae.ratio=function(Ne){return de((Ne=+Ne)>1?Ne:1)},Ae}(Te)},45879:function(oe,j,r){"use strict";r.d(j,{h5:function(){return v}});var I=Math.PI,E=2*I,f=1e-6,S=E-f;function M(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function y(){return new M}M.prototype=y.prototype={constructor:M,moveTo:function(p,T){this._+="M"+(this._x0=this._x1=+p)+","+(this._y0=this._y1=+T)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(p,T){this._+="L"+(this._x1=+p)+","+(this._y1=+T)},quadraticCurveTo:function(p,T,_,g){this._+="Q"+ +p+","+ +T+","+(this._x1=+_)+","+(this._y1=+g)},bezierCurveTo:function(p,T,_,g,w,x){this._+="C"+ +p+","+ +T+","+ +_+","+ +g+","+(this._x1=+w)+","+(this._y1=+x)},arcTo:function(p,T,_,g,w){var x=this._x1,b=this._y1,A=(_=+_)-(p=+p),m=(g=+g)-(T=+T),C=x-p,k=b-T,P=C*C+k*k;if((w=+w)<0)throw new Error("negative radius: "+w);if(null===this._x1)this._+="M"+(this._x1=p)+","+(this._y1=T);else if(P>f)if(Math.abs(k*A-m*C)>f&&w){var R=_-x,L=g-b,N=A*A+m*m,B=R*R+L*L,J=Math.sqrt(N),z=Math.sqrt(P),Y=w*Math.tan((I-Math.acos((N+P-B)/(2*J*z)))/2),q=Y/z,U=Y/J;Math.abs(q-1)>f&&(this._+="L"+(p+q*C)+","+(T+q*k)),this._+="A"+w+","+w+",0,0,"+ +(k*R>C*L)+","+(this._x1=p+U*A)+","+(this._y1=T+U*m)}else this._+="L"+(this._x1=p)+","+(this._y1=T)},arc:function(p,T,_,g,w,x){p=+p,T=+T,x=!!x;var b=(_=+_)*Math.cos(g),A=_*Math.sin(g),m=p+b,C=T+A,k=1^x,P=x?g-w:w-g;if(_<0)throw new Error("negative radius: "+_);null===this._x1?this._+="M"+m+","+C:(Math.abs(this._x1-m)>f||Math.abs(this._y1-C)>f)&&(this._+="L"+m+","+C),_&&(P<0&&(P=P%E+E),P>S?this._+="A"+_+","+_+",0,1,"+k+","+(p-b)+","+(T-A)+"A"+_+","+_+",0,1,"+k+","+(this._x1=m)+","+(this._y1=C):P>f&&(this._+="A"+_+","+_+",0,"+ +(P>=I)+","+k+","+(this._x1=p+_*Math.cos(w))+","+(this._y1=T+_*Math.sin(w))))},rect:function(p,T,_,g){this._+="M"+(this._x0=this._x1=+p)+","+(this._y0=this._y1=+T)+"h"+ +_+"v"+ +g+"h"+-_+"Z"},toString:function(){return this._}};var u=y,i=Array.prototype.slice;function s(p){return function(){return p}}function a(p){return p[0]}function o(p){return p[1]}function l(p){return p.source}function c(p){return p.target}function h(p,T,_,g,w){p.moveTo(T,_),p.bezierCurveTo(T=(T+g)/2,_,T,w,g,w)}function v(){return function(p){var T=l,_=c,g=a,w=o,x=null;function b(){var A,m=i.call(arguments),C=T.apply(this,m),k=_.apply(this,m);if(x||(x=A=u()),p(x,+g.apply(this,(m[0]=C,m)),+w.apply(this,m),+g.apply(this,(m[0]=k,m)),+w.apply(this,m)),A)return x=null,A+""||null}return b.source=function(A){return arguments.length?(T=A,b):T},b.target=function(A){return arguments.length?(_=A,b):_},b.x=function(A){return arguments.length?(g="function"==typeof A?A:s(+A),b):g},b.y=function(A){return arguments.length?(w="function"==typeof A?A:s(+A),b):w},b.context=function(A){return arguments.length?(x=A??null,b):x},b}(h)}},84096:function(oe,j,r){"use strict";r.d(j,{i$:function(){return l},Dq:function(){return a},g0:function(){return c}});var I=r(58176),E=r(48480),f=r(59879),S=r(82301),M=r(34823),y=r(79791);function u(mt){if(0<=mt.y&&mt.y<100){var Et=new Date(-1,mt.m,mt.d,mt.H,mt.M,mt.S,mt.L);return Et.setFullYear(mt.y),Et}return new Date(mt.y,mt.m,mt.d,mt.H,mt.M,mt.S,mt.L)}function i(mt){if(0<=mt.y&&mt.y<100){var Et=new Date(Date.UTC(-1,mt.m,mt.d,mt.H,mt.M,mt.S,mt.L));return Et.setUTCFullYear(mt.y),Et}return new Date(Date.UTC(mt.y,mt.m,mt.d,mt.H,mt.M,mt.S,mt.L))}function s(mt,Et,Lt){return{y:mt,m:Et,d:Lt,H:0,M:0,S:0,L:0}}function a(mt){var Et=mt.dateTime,Lt=mt.date,Rt=mt.time,Ut=mt.periods,Bt=mt.days,rt=mt.shortDays,ot=mt.months,Je=mt.shortMonths,it=w(Ut),dt=x(Ut),ht=w(Bt),Ve=x(Bt),qe=w(rt),ut=x(rt),ft=w(ot),St=x(ot),Mt=w(Je),Tt=x(Je),xt={a:function(Yt){return rt[Yt.getDay()]},A:function(Yt){return Bt[Yt.getDay()]},b:function(Yt){return Je[Yt.getMonth()]},B:function(Yt){return ot[Yt.getMonth()]},c:null,d:K,e:K,f:pe,H:ne,I:ae,j:ue,L:he,m:ge,M:xe,p:function(Yt){return Ut[+(Yt.getHours()>=12)]},q:function(Yt){return 1+~~(Yt.getMonth()/3)},Q:Dt,s:vt,S:Se,u:Te,U:ye,V:we,w:ze,W:ke,x:null,X:null,y:Ee,Y:me,Z:de,"%":kt},Nt={a:function(Yt){return rt[Yt.getUTCDay()]},A:function(Yt){return Bt[Yt.getUTCDay()]},b:function(Yt){return Je[Yt.getUTCMonth()]},B:function(Yt){return ot[Yt.getUTCMonth()]},c:null,d:ce,e:ce,f:Ye,H:Ae,I:Ne,j:De,L:Ue,m:_e,M:Pe,p:function(Yt){return Ut[+(Yt.getUTCHours()>=12)]},q:function(Yt){return 1+~~(Yt.getUTCMonth()/3)},Q:Dt,s:vt,S:Ie,u:Be,U:We,V:Ge,w:Ke,W:tt,x:null,X:null,y:st,Y:gt,Z:ct,"%":kt},bt={a:function(Yt,Zt,dn){var nn=qe.exec(Zt.slice(dn));return nn?(Yt.w=ut[nn[0].toLowerCase()],dn+nn[0].length):-1},A:function(Yt,Zt,dn){var nn=ht.exec(Zt.slice(dn));return nn?(Yt.w=Ve[nn[0].toLowerCase()],dn+nn[0].length):-1},b:function(Yt,Zt,dn){var nn=Mt.exec(Zt.slice(dn));return nn?(Yt.m=Tt[nn[0].toLowerCase()],dn+nn[0].length):-1},B:function(Yt,Zt,dn){var nn=ft.exec(Zt.slice(dn));return nn?(Yt.m=St[nn[0].toLowerCase()],dn+nn[0].length):-1},c:function(Yt,Zt,dn){return Wt(Yt,Et,Zt,dn)},d:J,e:J,f:X,H:Y,I:Y,j:z,L:Z,m:B,M:q,p:function(Yt,Zt,dn){var nn=it.exec(Zt.slice(dn));return nn?(Yt.p=dt[nn[0].toLowerCase()],dn+nn[0].length):-1},q:N,Q:re,s:ee,S:U,u:A,U:m,V:C,w:b,W:k,x:function(Yt,Zt,dn){return Wt(Yt,Lt,Zt,dn)},X:function(Yt,Zt,dn){return Wt(Yt,Rt,Zt,dn)},y:R,Y:P,Z:L,"%":se};function wt(Yt,Zt){return function(dn){var nn,un,rn,kn=[],Pn=-1,Sn=0,en=Yt.length;for(dn instanceof Date||(dn=new Date(+dn));++Pn<en;)37===Yt.charCodeAt(Pn)&&(kn.push(Yt.slice(Sn,Pn)),null!=(un=h[nn=Yt.charAt(++Pn)])?nn=Yt.charAt(++Pn):un="e"===nn?" ":"0",(rn=Zt[nn])&&(nn=rn(dn,un)),kn.push(nn),Sn=Pn+1);return kn.push(Yt.slice(Sn,Pn)),kn.join("")}}function It(Yt,Zt){return function(dn){var nn,un,rn=s(1900,void 0,1);if(Wt(rn,Yt,dn+="",0)!=dn.length)return null;if("Q"in rn)return new Date(rn.Q);if("s"in rn)return new Date(1e3*rn.s+("L"in rn?rn.L:0));if(Zt&&!("Z"in rn)&&(rn.Z=0),"p"in rn&&(rn.H=rn.H%12+12*rn.p),void 0===rn.m&&(rn.m="q"in rn?rn.q:0),"V"in rn){if(rn.V<1||rn.V>53)return null;"w"in rn||(rn.w=1),"Z"in rn?(un=(nn=i(s(rn.y,0,1))).getUTCDay(),nn=un>4||0===un?I.l6.ceil(nn):(0,I.l6)(nn),nn=E.Z.offset(nn,7*(rn.V-1)),rn.y=nn.getUTCFullYear(),rn.m=nn.getUTCMonth(),rn.d=nn.getUTCDate()+(rn.w+6)%7):(un=(nn=u(s(rn.y,0,1))).getDay(),nn=un>4||0===un?f.wA.ceil(nn):(0,f.wA)(nn),nn=S.Z.offset(nn,7*(rn.V-1)),rn.y=nn.getFullYear(),rn.m=nn.getMonth(),rn.d=nn.getDate()+(rn.w+6)%7)}else("W"in rn||"U"in rn)&&("w"in rn||(rn.w="u"in rn?rn.u%7:"W"in rn?1:0),un="Z"in rn?i(s(rn.y,0,1)).getUTCDay():u(s(rn.y,0,1)).getDay(),rn.m=0,rn.d="W"in rn?(rn.w+6)%7+7*rn.W-(un+5)%7:rn.w+7*rn.U-(un+6)%7);return"Z"in rn?(rn.H+=rn.Z/100|0,rn.M+=rn.Z%100,i(rn)):u(rn)}}function Wt(Yt,Zt,dn,nn){for(var un,rn,kn=0,Pn=Zt.length,Sn=dn.length;kn<Pn;){if(nn>=Sn)return-1;if(37===(un=Zt.charCodeAt(kn++))){if(un=Zt.charAt(kn++),!(rn=bt[un in h?Zt.charAt(kn++):un])||(nn=rn(Yt,dn,nn))<0)return-1}else if(un!=dn.charCodeAt(nn++))return-1}return nn}return xt.x=wt(Lt,xt),xt.X=wt(Rt,xt),xt.c=wt(Et,xt),Nt.x=wt(Lt,Nt),Nt.X=wt(Rt,Nt),Nt.c=wt(Et,Nt),{format:function(Yt){var Zt=wt(Yt+="",xt);return Zt.toString=function(){return Yt},Zt},parse:function(Yt){var Zt=It(Yt+="",!1);return Zt.toString=function(){return Yt},Zt},utcFormat:function(Yt){var Zt=wt(Yt+="",Nt);return Zt.toString=function(){return Yt},Zt},utcParse:function(Yt){var Zt=It(Yt+="",!0);return Zt.toString=function(){return Yt},Zt}}}var o,l,c,h={"-":"",_:" ",0:"0"},v=/^\s*\d+/,p=/^%/,T=/[\\^$*+?|[\]().{}]/g;function _(mt,Et,Lt){var Rt=mt<0?"-":"",Ut=(Rt?-mt:mt)+"",Bt=Ut.length;return Rt+(Bt<Lt?new Array(Lt-Bt+1).join(Et)+Ut:Ut)}function g(mt){return mt.replace(T,"\\$&")}function w(mt){return new RegExp("^(?:"+mt.map(g).join("|")+")","i")}function x(mt){for(var Et={},Lt=-1,Rt=mt.length;++Lt<Rt;)Et[mt[Lt].toLowerCase()]=Lt;return Et}function b(mt,Et,Lt){var Rt=v.exec(Et.slice(Lt,Lt+1));return Rt?(mt.w=+Rt[0],Lt+Rt[0].length):-1}function A(mt,Et,Lt){var Rt=v.exec(Et.slice(Lt,Lt+1));return Rt?(mt.u=+Rt[0],Lt+Rt[0].length):-1}function m(mt,Et,Lt){var Rt=v.exec(Et.slice(Lt,Lt+2));return Rt?(mt.U=+Rt[0],Lt+Rt[0].length):-1}function C(mt,Et,Lt){var Rt=v.exec(Et.slice(Lt,Lt+2));return Rt?(mt.V=+Rt[0],Lt+Rt[0].length):-1}function k(mt,Et,Lt){var Rt=v.exec(Et.slice(Lt,Lt+2));return Rt?(mt.W=+Rt[0],Lt+Rt[0].length):-1}function P(mt,Et,Lt){var Rt=v.exec(Et.slice(Lt,Lt+4));return Rt?(mt.y=+Rt[0],Lt+Rt[0].length):-1}function R(mt,Et,Lt){var Rt=v.exec(Et.slice(Lt,Lt+2));return Rt?(mt.y=+Rt[0]+(+Rt[0]>68?1900:2e3),Lt+Rt[0].length):-1}function L(mt,Et,Lt){var Rt=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(Et.slice(Lt,Lt+6));return Rt?(mt.Z=Rt[1]?0:-(Rt[2]+(Rt[3]||"00")),Lt+Rt[0].length):-1}function N(mt,Et,Lt){var Rt=v.exec(Et.slice(Lt,Lt+1));return Rt?(mt.q=3*Rt[0]-3,Lt+Rt[0].length):-1}function B(mt,Et,Lt){var Rt=v.exec(Et.slice(Lt,Lt+2));return Rt?(mt.m=Rt[0]-1,Lt+Rt[0].length):-1}function J(mt,Et,Lt){var Rt=v.exec(Et.slice(Lt,Lt+2));return Rt?(mt.d=+Rt[0],Lt+Rt[0].length):-1}function z(mt,Et,Lt){var Rt=v.exec(Et.slice(Lt,Lt+3));return Rt?(mt.m=0,mt.d=+Rt[0],Lt+Rt[0].length):-1}function Y(mt,Et,Lt){var Rt=v.exec(Et.slice(Lt,Lt+2));return Rt?(mt.H=+Rt[0],Lt+Rt[0].length):-1}function q(mt,Et,Lt){var Rt=v.exec(Et.slice(Lt,Lt+2));return Rt?(mt.M=+Rt[0],Lt+Rt[0].length):-1}function U(mt,Et,Lt){var Rt=v.exec(Et.slice(Lt,Lt+2));return Rt?(mt.S=+Rt[0],Lt+Rt[0].length):-1}function Z(mt,Et,Lt){var Rt=v.exec(Et.slice(Lt,Lt+3));return Rt?(mt.L=+Rt[0],Lt+Rt[0].length):-1}function X(mt,Et,Lt){var Rt=v.exec(Et.slice(Lt,Lt+6));return Rt?(mt.L=Math.floor(Rt[0]/1e3),Lt+Rt[0].length):-1}function se(mt,Et,Lt){var Rt=p.exec(Et.slice(Lt,Lt+1));return Rt?Lt+Rt[0].length:-1}function re(mt,Et,Lt){var Rt=v.exec(Et.slice(Lt));return Rt?(mt.Q=+Rt[0],Lt+Rt[0].length):-1}function ee(mt,Et,Lt){var Rt=v.exec(Et.slice(Lt));return Rt?(mt.s=+Rt[0],Lt+Rt[0].length):-1}function K(mt,Et){return _(mt.getDate(),Et,2)}function ne(mt,Et){return _(mt.getHours(),Et,2)}function ae(mt,Et){return _(mt.getHours()%12||12,Et,2)}function ue(mt,Et){return _(1+S.Z.count((0,M.Z)(mt),mt),Et,3)}function he(mt,Et){return _(mt.getMilliseconds(),Et,3)}function pe(mt,Et){return he(mt,Et)+"000"}function ge(mt,Et){return _(mt.getMonth()+1,Et,2)}function xe(mt,Et){return _(mt.getMinutes(),Et,2)}function Se(mt,Et){return _(mt.getSeconds(),Et,2)}function Te(mt){var Et=mt.getDay();return 0===Et?7:Et}function ye(mt,Et){return _(f.OM.count((0,M.Z)(mt)-1,mt),Et,2)}function we(mt,Et){var Lt=mt.getDay();return mt=Lt>=4||0===Lt?(0,f.bL)(mt):f.bL.ceil(mt),_(f.bL.count((0,M.Z)(mt),mt)+(4===(0,M.Z)(mt).getDay()),Et,2)}function ze(mt){return mt.getDay()}function ke(mt,Et){return _(f.wA.count((0,M.Z)(mt)-1,mt),Et,2)}function Ee(mt,Et){return _(mt.getFullYear()%100,Et,2)}function me(mt,Et){return _(mt.getFullYear()%1e4,Et,4)}function de(mt){var Et=mt.getTimezoneOffset();return(Et>0?"-":(Et*=-1,"+"))+_(Et/60|0,"0",2)+_(Et%60,"0",2)}function ce(mt,Et){return _(mt.getUTCDate(),Et,2)}function Ae(mt,Et){return _(mt.getUTCHours(),Et,2)}function Ne(mt,Et){return _(mt.getUTCHours()%12||12,Et,2)}function De(mt,Et){return _(1+E.Z.count((0,y.Z)(mt),mt),Et,3)}function Ue(mt,Et){return _(mt.getUTCMilliseconds(),Et,3)}function Ye(mt,Et){return Ue(mt,Et)+"000"}function _e(mt,Et){return _(mt.getUTCMonth()+1,Et,2)}function Pe(mt,Et){return _(mt.getUTCMinutes(),Et,2)}function Ie(mt,Et){return _(mt.getUTCSeconds(),Et,2)}function Be(mt){var Et=mt.getUTCDay();return 0===Et?7:Et}function We(mt,Et){return _(I.Ox.count((0,y.Z)(mt)-1,mt),Et,2)}function Ge(mt,Et){var Lt=mt.getUTCDay();return mt=Lt>=4||0===Lt?(0,I.hB)(mt):I.hB.ceil(mt),_(I.hB.count((0,y.Z)(mt),mt)+(4===(0,y.Z)(mt).getUTCDay()),Et,2)}function Ke(mt){return mt.getUTCDay()}function tt(mt,Et){return _(I.l6.count((0,y.Z)(mt)-1,mt),Et,2)}function st(mt,Et){return _(mt.getUTCFullYear()%100,Et,2)}function gt(mt,Et){return _(mt.getUTCFullYear()%1e4,Et,4)}function ct(){return"+0000"}function kt(){return"%"}function Dt(mt){return+mt}function vt(mt){return Math.floor(+mt/1e3)}o=a({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),l=o.format,c=o.utcFormat},82301:function(oe,j,r){"use strict";r.d(j,{a:function(){return S}});var I=r(30052),E=r(54263),f=(0,I.Z)(function(M){M.setHours(0,0,0,0)},function(M,y){M.setDate(M.getDate()+y)},function(M,y){return(y-M-(y.getTimezoneOffset()-M.getTimezoneOffset())*E.yB)/E.UD},function(M){return M.getDate()-1});j.Z=f;var S=f.range},54263:function(oe,j,r){"use strict";r.d(j,{UD:function(){return S},Y2:function(){return f},Ym:function(){return I},iM:function(){return M},yB:function(){return E}});var I=1e3,E=6e4,f=36e5,S=864e5,M=6048e5},81041:function(oe,j,r){"use strict";r.r(j),r.d(j,{timeDay:function(){return v.Z},timeDays:function(){return v.a},timeFriday:function(){return p.mC},timeFridays:function(){return p.b$},timeHour:function(){return c},timeHours:function(){return h},timeInterval:function(){return I.Z},timeMillisecond:function(){return f},timeMilliseconds:function(){return S},timeMinute:function(){return a},timeMinutes:function(){return o},timeMonday:function(){return p.wA},timeMondays:function(){return p.bJ},timeMonth:function(){return _},timeMonths:function(){return g},timeSaturday:function(){return p.EY},timeSaturdays:function(){return p.Ff},timeSecond:function(){return u},timeSeconds:function(){return i},timeSunday:function(){return p.OM},timeSundays:function(){return p.vm},timeThursday:function(){return p.bL},timeThursdays:function(){return p.$t},timeTuesday:function(){return p.sy},timeTuesdays:function(){return p.aU},timeWednesday:function(){return p.zg},timeWednesdays:function(){return p.Ld},timeWeek:function(){return p.OM},timeWeeks:function(){return p.vm},timeYear:function(){return w.Z},timeYears:function(){return w.g},utcDay:function(){return P.Z},utcDays:function(){return P.y},utcFriday:function(){return R.QQ},utcFridays:function(){return R.fz},utcHour:function(){return C},utcHours:function(){return k},utcMillisecond:function(){return f},utcMilliseconds:function(){return S},utcMinute:function(){return b},utcMinutes:function(){return A},utcMonday:function(){return R.l6},utcMondays:function(){return R.$3},utcMonth:function(){return N},utcMonths:function(){return B},utcSaturday:function(){return R.g4},utcSaturdays:function(){return R.Q_},utcSecond:function(){return u},utcSeconds:function(){return i},utcSunday:function(){return R.Ox},utcSundays:function(){return R.SU},utcThursday:function(){return R.hB},utcThursdays:function(){return R.xj},utcTuesday:function(){return R.J1},utcTuesdays:function(){return R.DK},utcWednesday:function(){return R.b3},utcWednesdays:function(){return R.uy},utcWeek:function(){return R.Ox},utcWeeks:function(){return R.SU},utcYear:function(){return J.Z},utcYears:function(){return J.D}});var I=r(30052),E=(0,I.Z)(function(){},function(z,Y){z.setTime(+z+Y)},function(z,Y){return Y-z});E.every=function(z){return z=Math.floor(z),isFinite(z)&&z>0?z>1?(0,I.Z)(function(Y){Y.setTime(Math.floor(Y/z)*z)},function(Y,q){Y.setTime(+Y+q*z)},function(Y,q){return(q-Y)/z}):E:null};var f=E,S=E.range,M=r(54263),y=(0,I.Z)(function(z){z.setTime(z-z.getMilliseconds())},function(z,Y){z.setTime(+z+Y*M.Ym)},function(z,Y){return(Y-z)/M.Ym},function(z){return z.getUTCSeconds()}),u=y,i=y.range,s=(0,I.Z)(function(z){z.setTime(z-z.getMilliseconds()-z.getSeconds()*M.Ym)},function(z,Y){z.setTime(+z+Y*M.yB)},function(z,Y){return(Y-z)/M.yB},function(z){return z.getMinutes()}),a=s,o=s.range,l=(0,I.Z)(function(z){z.setTime(z-z.getMilliseconds()-z.getSeconds()*M.Ym-z.getMinutes()*M.yB)},function(z,Y){z.setTime(+z+Y*M.Y2)},function(z,Y){return(Y-z)/M.Y2},function(z){return z.getHours()}),c=l,h=l.range,v=r(82301),p=r(59879),T=(0,I.Z)(function(z){z.setDate(1),z.setHours(0,0,0,0)},function(z,Y){z.setMonth(z.getMonth()+Y)},function(z,Y){return Y.getMonth()-z.getMonth()+12*(Y.getFullYear()-z.getFullYear())},function(z){return z.getMonth()}),_=T,g=T.range,w=r(34823),x=(0,I.Z)(function(z){z.setUTCSeconds(0,0)},function(z,Y){z.setTime(+z+Y*M.yB)},function(z,Y){return(Y-z)/M.yB},function(z){return z.getUTCMinutes()}),b=x,A=x.range,m=(0,I.Z)(function(z){z.setUTCMinutes(0,0,0)},function(z,Y){z.setTime(+z+Y*M.Y2)},function(z,Y){return(Y-z)/M.Y2},function(z){return z.getUTCHours()}),C=m,k=m.range,P=r(48480),R=r(58176),L=(0,I.Z)(function(z){z.setUTCDate(1),z.setUTCHours(0,0,0,0)},function(z,Y){z.setUTCMonth(z.getUTCMonth()+Y)},function(z,Y){return Y.getUTCMonth()-z.getUTCMonth()+12*(Y.getUTCFullYear()-z.getUTCFullYear())},function(z){return z.getUTCMonth()}),N=L,B=L.range,J=r(79791)},30052:function(oe,j,r){"use strict";r.d(j,{Z:function(){return f}});var I=new Date,E=new Date;function f(S,M,y,u){function i(s){return S(s=0===arguments.length?new Date:new Date(+s)),s}return i.floor=function(s){return S(s=new Date(+s)),s},i.ceil=function(s){return S(s=new Date(s-1)),M(s,1),S(s),s},i.round=function(s){var a=i(s),o=i.ceil(s);return s-a<o-s?a:o},i.offset=function(s,a){return M(s=new Date(+s),null==a?1:Math.floor(a)),s},i.range=function(s,a,o){var l,c=[];if(s=i.ceil(s),o=null==o?1:Math.floor(o),!(s<a&&o>0))return c;do{c.push(l=new Date(+s)),M(s,o),S(s)}while(l<s&&s<a);return c},i.filter=function(s){return f(function(a){if(a>=a)for(;S(a),!s(a);)a.setTime(a-1)},function(a,o){if(a>=a)if(o<0)for(;++o<=0;)for(;M(a,-1),!s(a););else for(;--o>=0;)for(;M(a,1),!s(a););})},y&&(i.count=function(s,a){return I.setTime(+s),E.setTime(+a),S(I),S(E),Math.floor(y(I,E))},i.every=function(s){return s=Math.floor(s),isFinite(s)&&s>0?s>1?i.filter(u?function(a){return u(a)%s==0}:function(a){return i.count(0,a)%s==0}):i:null}),i}},48480:function(oe,j,r){"use strict";r.d(j,{y:function(){return S}});var I=r(30052),E=r(54263),f=(0,I.Z)(function(M){M.setUTCHours(0,0,0,0)},function(M,y){M.setUTCDate(M.getUTCDate()+y)},function(M,y){return(y-M)/E.UD},function(M){return M.getUTCDate()-1});j.Z=f;var S=f.range},58176:function(oe,j,r){"use strict";r.d(j,{$3:function(){return l},DK:function(){return c},J1:function(){return y},Ox:function(){return S},QQ:function(){return s},Q_:function(){return T},SU:function(){return o},b3:function(){return u},fz:function(){return p},g4:function(){return a},hB:function(){return i},l6:function(){return M},uy:function(){return h},xj:function(){return v}});var I=r(30052),E=r(54263);function f(_){return(0,I.Z)(function(g){g.setUTCDate(g.getUTCDate()-(g.getUTCDay()+7-_)%7),g.setUTCHours(0,0,0,0)},function(g,w){g.setUTCDate(g.getUTCDate()+7*w)},function(g,w){return(w-g)/E.iM})}var S=f(0),M=f(1),y=f(2),u=f(3),i=f(4),s=f(5),a=f(6),o=S.range,l=M.range,c=y.range,h=u.range,v=i.range,p=s.range,T=a.range},79791:function(oe,j,r){"use strict";r.d(j,{D:function(){return f}});var I=r(30052),E=(0,I.Z)(function(S){S.setUTCMonth(0,1),S.setUTCHours(0,0,0,0)},function(S,M){S.setUTCFullYear(S.getUTCFullYear()+M)},function(S,M){return M.getUTCFullYear()-S.getUTCFullYear()},function(S){return S.getUTCFullYear()});E.every=function(S){return isFinite(S=Math.floor(S))&&S>0?(0,I.Z)(function(M){M.setUTCFullYear(Math.floor(M.getUTCFullYear()/S)*S),M.setUTCMonth(0,1),M.setUTCHours(0,0,0,0)},function(M,y){M.setUTCFullYear(M.getUTCFullYear()+y*S)}):null},j.Z=E;var f=E.range},59879:function(oe,j,r){"use strict";r.d(j,{$t:function(){return v},EY:function(){return a},Ff:function(){return T},Ld:function(){return h},OM:function(){return S},aU:function(){return c},b$:function(){return p},bJ:function(){return l},bL:function(){return i},mC:function(){return s},sy:function(){return y},vm:function(){return o},wA:function(){return M},zg:function(){return u}});var I=r(30052),E=r(54263);function f(_){return(0,I.Z)(function(g){g.setDate(g.getDate()-(g.getDay()+7-_)%7),g.setHours(0,0,0,0)},function(g,w){g.setDate(g.getDate()+7*w)},function(g,w){return(w-g-(w.getTimezoneOffset()-g.getTimezoneOffset())*E.yB)/E.iM})}var S=f(0),M=f(1),y=f(2),u=f(3),i=f(4),s=f(5),a=f(6),o=S.range,l=M.range,c=y.range,h=u.range,v=i.range,p=s.range,T=a.range},34823:function(oe,j,r){"use strict";r.d(j,{g:function(){return f}});var I=r(30052),E=(0,I.Z)(function(S){S.setMonth(0,1),S.setHours(0,0,0,0)},function(S,M){S.setFullYear(S.getFullYear()+M)},function(S,M){return M.getFullYear()-S.getFullYear()},function(S){return S.getFullYear()});E.every=function(S){return isFinite(S=Math.floor(S))&&S>0?(0,I.Z)(function(M){M.setFullYear(Math.floor(M.getFullYear()/S)*S),M.setMonth(0,1),M.setHours(0,0,0,0)},function(M,y){M.setFullYear(M.getFullYear()+y*S)}):null},j.Z=E;var f=E.range},17045:function(oe,j,r){"use strict";var I=r(8709),E="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),f=Object.prototype.toString,S=Array.prototype.concat,M=Object.defineProperty,y=r(55622)(),u=M&&y,i=function(a,o,l,c){if(o in a)if(!0===c){if(a[o]===l)return}else if("function"!=typeof(h=c)||"[object Function]"!==f.call(h)||!c())return;var h;u?M(a,o,{configurable:!0,enumerable:!1,value:l,writable:!0}):a[o]=l},s=function(a,o){var l=arguments.length>2?arguments[2]:{},c=I(o);E&&(c=S.call(c,Object.getOwnPropertySymbols(o)));for(var h=0;h<c.length;h+=1)i(a,c[h],o[c[h]],l[c[h]])};s.supportsDescriptors=!!u,oe.exports=s},46775:function(oe){oe.exports=function(){for(var j=0;j<arguments.length;j++)if(void 0!==arguments[j])return arguments[j]}},53545:function(oe){"use strict";oe.exports=I;var j=(I.canvas=document.createElement("canvas")).getContext("2d"),r=E([32,126]);function I(f,S){Array.isArray(f)&&(f=f.join(", "));var M,y={},u=16,i=.05;S&&(2===S.length&&"number"==typeof S[0]?M=E(S):Array.isArray(S)?M=S:(S.o?M=E(S.o):S.pairs&&(M=S.pairs),S.fontSize&&(u=S.fontSize),null!=S.threshold&&(i=S.threshold))),M||(M=r),j.font=u+"px "+f;for(var s=0;s<M.length;s++){var a=M[s],o=j.measureText(a[0]).width+j.measureText(a[1]).width,l=j.measureText(a).width;Math.abs(o-l)>u*i&&(y[a]=(l-o)/u*1e3)}return y}function E(f){for(var S=[],M=f[0];M<=f[1];M++)for(var y=String.fromCharCode(M),u=f[0];u<f[1];u++){var i=y+String.fromCharCode(u);S.push(i)}return S}I.createPairs=E,I.ascii=r},31457:function(oe,j,r){var I=r(65185),E=r(18625),f={M:"moveTo",C:"bezierCurveTo"};oe.exports=function(S,M){S.beginPath(),E(I(M)).forEach(function(y){var u=y[0],i=y.slice(1);S[f[u]].apply(S,i)}),S.closePath()}},90660:function(oe){oe.exports=function(j){switch(j){case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"uint8":return Uint8Array;case"uint16":return Uint16Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;case"array":return Array;case"uint8_clamped":return Uint8ClampedArray}}},12129:function(oe){"use strict";function j(r,I,E){var f=0|r[E];if(f<=0)return[];var S,M=new Array(f);if(E===r.length-1)for(S=0;S<f;++S)M[S]=I;else for(S=0;S<f;++S)M[S]=j(r,I,E+1);return M}oe.exports=function(r,I){switch(void 0===I&&(I=0),typeof r){case"number":if(r>0)return function(E,f){var S,M;for(S=new Array(E),M=0;M<E;++M)S[M]=f;return S}(0|r,I);break;case"object":if("number"==typeof r.length)return j(r,I,0)}return[]}},11474:function(oe){"use strict";function j(C,k,P){P=P||2;var R,L,N,B,J,z,Y,q=k&&k.length,U=q?k[0]*P:C.length,Z=r(C,0,U,P,!0),X=[];if(!Z||Z.next===Z.prev)return X;if(q&&(Z=function(re,ee,K,ne){var ae,ue,he,pe=[];for(ae=0,ue=ee.length;ae<ue;ae++)(he=r(re,ee[ae]*ne,ae<ue-1?ee[ae+1]*ne:re.length,ne,!1))===he.next&&(he.steiner=!0),pe.push(o(he));for(pe.sort(u),ae=0;ae<pe.length;ae++)i(pe[ae],K),K=I(K,K.next);return K}(C,k,Z,P)),C.length>80*P){R=N=C[0],L=B=C[1];for(var se=P;se<U;se+=P)(J=C[se])<R&&(R=J),(z=C[se+1])<L&&(L=z),J>N&&(N=J),z>B&&(B=z);Y=0!==(Y=Math.max(N-R,B-L))?1/Y:0}return E(Z,X,P,R,L,Y),X}function r(C,k,P,R,L){var N,B;if(L===m(C,k,P,R)>0)for(N=k;N<P;N+=R)B=x(N,C[N],C[N+1],B);else for(N=P-R;N>=k;N-=R)B=x(N,C[N],C[N+1],B);return B&&v(B,B.next)&&(b(B),B=B.next),B}function I(C,k){if(!C)return C;k||(k=C);var P,R=C;do{if(P=!1,R.steiner||!v(R,R.next)&&0!==h(R.prev,R,R.next))R=R.next;else{if(b(R),(R=k=R.prev)===R.next)break;P=!0}}while(P||R!==k);return k}function E(C,k,P,R,L,N,B){if(C){!B&&N&&function(q,U,Z,X){var se=q;do{null===se.z&&(se.z=a(se.x,se.y,U,Z,X)),se.prevZ=se.prev,se.nextZ=se.next,se=se.next}while(se!==q);se.prevZ.nextZ=null,se.prevZ=null,function(re){var ee,K,ne,ae,ue,he,pe,ge,xe=1;do{for(K=re,re=null,ue=null,he=0;K;){for(he++,ne=K,pe=0,ee=0;ee<xe&&(pe++,ne=ne.nextZ);ee++);for(ge=xe;pe>0||ge>0&&ne;)0!==pe&&(0===ge||!ne||K.z<=ne.z)?(ae=K,K=K.nextZ,pe--):(ae=ne,ne=ne.nextZ,ge--),ue?ue.nextZ=ae:re=ae,ae.prevZ=ue,ue=ae;K=ne}ue.nextZ=null,xe*=2}while(he>1)}(se)}(C,R,L,N);for(var J,z,Y=C;C.prev!==C.next;)if(J=C.prev,z=C.next,N?S(C,R,L,N):f(C))k.push(J.i/P),k.push(C.i/P),k.push(z.i/P),b(C),C=z.next,Y=z.next;else if((C=z)===Y){B?1===B?E(C=M(I(C),k,P),k,P,R,L,N,2):2===B&&y(C,k,P,R,L,N):E(I(C),k,P,R,L,N,1);break}}}function f(C){var k=C.prev,P=C,R=C.next;if(h(k,P,R)>=0)return!1;for(var L=C.next.next;L!==C.prev;){if(l(k.x,k.y,P.x,P.y,R.x,R.y,L.x,L.y)&&h(L.prev,L,L.next)>=0)return!1;L=L.next}return!0}function S(C,k,P,R){var L=C.prev,N=C,B=C.next;if(h(L,N,B)>=0)return!1;for(var Y=L.x>N.x?L.x>B.x?L.x:B.x:N.x>B.x?N.x:B.x,q=L.y>N.y?L.y>B.y?L.y:B.y:N.y>B.y?N.y:B.y,U=a(L.x<N.x?L.x<B.x?L.x:B.x:N.x<B.x?N.x:B.x,L.y<N.y?L.y<B.y?L.y:B.y:N.y<B.y?N.y:B.y,k,P,R),Z=a(Y,q,k,P,R),X=C.prevZ,se=C.nextZ;X&&X.z>=U&&se&&se.z<=Z;){if(X!==C.prev&&X!==C.next&&l(L.x,L.y,N.x,N.y,B.x,B.y,X.x,X.y)&&h(X.prev,X,X.next)>=0||(X=X.prevZ,se!==C.prev&&se!==C.next&&l(L.x,L.y,N.x,N.y,B.x,B.y,se.x,se.y)&&h(se.prev,se,se.next)>=0))return!1;se=se.nextZ}for(;X&&X.z>=U;){if(X!==C.prev&&X!==C.next&&l(L.x,L.y,N.x,N.y,B.x,B.y,X.x,X.y)&&h(X.prev,X,X.next)>=0)return!1;X=X.prevZ}for(;se&&se.z<=Z;){if(se!==C.prev&&se!==C.next&&l(L.x,L.y,N.x,N.y,B.x,B.y,se.x,se.y)&&h(se.prev,se,se.next)>=0)return!1;se=se.nextZ}return!0}function M(C,k,P){var R=C;do{var L=R.prev,N=R.next.next;!v(L,N)&&p(L,R,R.next,N)&&g(L,N)&&g(N,L)&&(k.push(L.i/P),k.push(R.i/P),k.push(N.i/P),b(R),b(R.next),R=C=N),R=R.next}while(R!==C);return I(R)}function y(C,k,P,R,L,N){var B=C;do{for(var J=B.next.next;J!==B.prev;){if(B.i!==J.i&&c(B,J)){var z=w(B,J);return B=I(B,B.next),z=I(z,z.next),E(B,k,P,R,L,N),void E(z,k,P,R,L,N)}J=J.next}B=B.next}while(B!==C)}function u(C,k){return C.x-k.x}function i(C,k){if(k=function(R,L){var N,B=L,J=R.x,z=R.y,Y=-1/0;do{if(z<=B.y&&z>=B.next.y&&B.next.y!==B.y){var q=B.x+(z-B.y)*(B.next.x-B.x)/(B.next.y-B.y);if(q<=J&&q>Y){if(Y=q,q===J){if(z===B.y)return B;if(z===B.next.y)return B.next}N=B.x<B.next.x?B:B.next}}B=B.next}while(B!==L);if(!N)return null;if(J===Y)return N;var U,Z=N,X=N.x,se=N.y,re=1/0;B=N;do{J>=B.x&&B.x>=X&&J!==B.x&&l(z<se?J:Y,z,X,se,z<se?Y:J,z,B.x,B.y)&&(U=Math.abs(z-B.y)/(J-B.x),g(B,R)&&(U<re||U===re&&(B.x>N.x||B.x===N.x&&s(N,B)))&&(N=B,re=U)),B=B.next}while(B!==Z);return N}(C,k)){var P=w(k,C);I(k,k.next),I(P,P.next)}}function s(C,k){return h(C.prev,C,k.prev)<0&&h(k.next,C,C.next)<0}function a(C,k,P,R,L){return(C=1431655765&((C=858993459&((C=252645135&((C=16711935&((C=32767*(C-P)*L)|C<<8))|C<<4))|C<<2))|C<<1))|(k=1431655765&((k=858993459&((k=252645135&((k=16711935&((k=32767*(k-R)*L)|k<<8))|k<<4))|k<<2))|k<<1))<<1}function o(C){var k=C,P=C;do{(k.x<P.x||k.x===P.x&&k.y<P.y)&&(P=k),k=k.next}while(k!==C);return P}function l(C,k,P,R,L,N,B,J){return(L-B)*(k-J)-(C-B)*(N-J)>=0&&(C-B)*(R-J)-(P-B)*(k-J)>=0&&(P-B)*(N-J)-(L-B)*(R-J)>=0}function c(C,k){return C.next.i!==k.i&&C.prev.i!==k.i&&!function(P,R){var L=P;do{if(L.i!==P.i&&L.next.i!==P.i&&L.i!==R.i&&L.next.i!==R.i&&p(L,L.next,P,R))return!0;L=L.next}while(L!==P);return!1}(C,k)&&(g(C,k)&&g(k,C)&&function(P,R){var L=P,N=!1,B=(P.x+R.x)/2,J=(P.y+R.y)/2;do{L.y>J!=L.next.y>J&&L.next.y!==L.y&&B<(L.next.x-L.x)*(J-L.y)/(L.next.y-L.y)+L.x&&(N=!N),L=L.next}while(L!==P);return N}(C,k)&&(h(C.prev,C,k.prev)||h(C,k.prev,k))||v(C,k)&&h(C.prev,C,C.next)>0&&h(k.prev,k,k.next)>0)}function h(C,k,P){return(k.y-C.y)*(P.x-k.x)-(k.x-C.x)*(P.y-k.y)}function v(C,k){return C.x===k.x&&C.y===k.y}function p(C,k,P,R){var L=_(h(C,k,P)),N=_(h(C,k,R)),B=_(h(P,R,C)),J=_(h(P,R,k));return L!==N&&B!==J||!(0!==L||!T(C,P,k))||!(0!==N||!T(C,R,k))||!(0!==B||!T(P,C,R))||!(0!==J||!T(P,k,R))}function T(C,k,P){return k.x<=Math.max(C.x,P.x)&&k.x>=Math.min(C.x,P.x)&&k.y<=Math.max(C.y,P.y)&&k.y>=Math.min(C.y,P.y)}function _(C){return C>0?1:C<0?-1:0}function g(C,k){return h(C.prev,C,C.next)<0?h(C,k,C.next)>=0&&h(C,C.prev,k)>=0:h(C,k,C.prev)<0||h(C,C.next,k)<0}function w(C,k){var P=new A(C.i,C.x,C.y),R=new A(k.i,k.x,k.y),L=C.next,N=k.prev;return C.next=k,k.prev=C,P.next=L,L.prev=P,R.next=P,P.prev=R,N.next=R,R.prev=N,R}function x(C,k,P,R){var L=new A(C,k,P);return R?(L.next=R.next,L.prev=R,R.next.prev=L,R.next=L):(L.prev=L,L.next=L),L}function b(C){C.next.prev=C.prev,C.prev.next=C.next,C.prevZ&&(C.prevZ.nextZ=C.nextZ),C.nextZ&&(C.nextZ.prevZ=C.prevZ)}function A(C,k,P){this.i=C,this.x=k,this.y=P,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function m(C,k,P,R){for(var L=0,N=k,B=P-R;N<P;N+=R)L+=(C[B]-C[N])*(C[N+1]+C[B+1]),B=N;return L}oe.exports=j,oe.exports.default=j,j.deviation=function(C,k,P,R){var L=k&&k.length,B=Math.abs(m(C,0,L?k[0]*P:C.length,P));if(L)for(var J=0,z=k.length;J<z;J++)B-=Math.abs(m(C,k[J]*P,J<z-1?k[J+1]*P:C.length,P));var U=0;for(J=0;J<R.length;J+=3){var Z=R[J]*P,X=R[J+1]*P,se=R[J+2]*P;U+=Math.abs((C[Z]-C[se])*(C[X+1]-C[Z+1])-(C[Z]-C[X])*(C[se+1]-C[Z+1]))}return 0===B&&0===U?0:Math.abs((U-B)/B)},j.flatten=function(C){for(var k=C[0][0].length,P={vertices:[],holes:[],dimensions:k},R=0,L=0;L<C.length;L++){for(var N=0;N<C[L].length;N++)for(var B=0;B<k;B++)P.vertices.push(C[L][N][B]);L>0&&P.holes.push(R+=C[L-1].length)}return P}},2502:function(oe,j,r){var I=r(68664);oe.exports=function(E,f){var S,M=[],y=[],u=[],i={},s=[];function a(g){u[g]=!1,i.hasOwnProperty(g)&&Object.keys(i[g]).forEach(function(w){delete i[g][w],u[w]&&a(w)})}function o(g){var w,x,b=!1;for(y.push(g),u[g]=!0,w=0;w<s[g].length;w++)(x=s[g][w])===S?(l(S,y),b=!0):u[x]||(b=o(x));if(b)a(g);else for(w=0;w<s[g].length;w++){var A=i[x=s[g][w]];A||(i[x]=A={}),A[x]=!0}return y.pop(),b}function l(g,w){var x=[].concat(w).concat(g);f?f(o):M.push(x)}function c(g){!function(P){for(var R=0;R<E.length;R++)R<P&&(E[R]=[]),E[R]=E[R].filter(function(L){return L>=P})}(g);for(var w,x=I(E).components.filter(function(P){return P.length>1}),b=1/0,A=0;A<x.length;A++)for(var m=0;m<x[A].length;m++)x[A][m]<b&&(b=x[A][m],w=A);var C=x[w];return!!C&&{leastVertex:b,adjList:E.map(function(P,R){return-1===C.indexOf(R)?[]:P.filter(function(L){return-1!==C.indexOf(L)})})}}S=0;for(var h=E.length;S<h;){var v=c(S);if(S=v.leastVertex,s=v.adjList){for(var p=0;p<s.length;p++)for(var T=0;T<s[p].length;T++){var _=s[p][T];u[+_]=!1,i[_]={}}o(S),S+=1}else S=h}return f?void 0:M}},16134:function(oe,j,r){"use strict";var I=r(36672);oe.exports=function(){return I(this).length=0,this}},4892:function(oe,j,r){"use strict";oe.exports=r(64404)()?Array.from:r(49441)},64404:function(oe){"use strict";oe.exports=function(){var j,r,I=Array.from;return"function"==typeof I&&!(!(r=I(j=["raz","dwa"]))||r===j||"dwa"!==r[1])}},49441:function(oe,j,r){"use strict";var I=r(8260).iterator,E=r(73051),f=r(33717),S=r(35976),M=r(78513),y=r(36672),u=r(95296),i=r(87963),s=Array.isArray,a=Function.prototype.call,o={configurable:!0,enumerable:!0,writable:!0,value:null},l=Object.defineProperty;oe.exports=function(c){var h,v,p,T,_,g,w,x,b,A,m=arguments[1],C=arguments[2];if(c=Object(y(c)),u(m)&&M(m),this&&this!==Array&&f(this))h=this;else{if(!m){if(E(c))return 1!==(_=c.length)?Array.apply(null,c):((T=new Array(1))[0]=c[0],T);if(s(c)){for(T=new Array(_=c.length),v=0;v<_;++v)T[v]=c[v];return T}}T=[]}if(!s(c))if(void 0!==(b=c[I])){for(w=M(b).call(c),h&&(T=new h),x=w.next(),v=0;!x.done;)A=m?a.call(m,C,x.value,v):x.value,h?(o.value=A,l(T,v,o)):T[v]=A,x=w.next(),++v;_=v}else if(i(c)){for(_=c.length,h&&(T=new h),v=0,p=0;v<_;++v)A=c[v],v+1<_&&(g=A.charCodeAt(0))>=55296&&g<=56319&&(A+=c[++v]),A=m?a.call(m,C,A,p):A,h?(o.value=A,l(T,p,o)):T[p]=A,++p;_=p}if(void 0===_)for(_=S(c.length),h&&(T=new h(_)),v=0;v<_;++v)A=m?a.call(m,C,c[v],v):c[v],h?(o.value=A,l(T,v,o)):T[v]=A;return h&&(o.value=null,T.length=_),T}},73051:function(oe){"use strict";var j=Object.prototype.toString,r=j.call(function(){return arguments}());oe.exports=function(I){return j.call(I)===r}},33717:function(oe){"use strict";var j=Object.prototype.toString,r=RegExp.prototype.test.bind(/^[object [A-Za-z0-9]*Function]$/);oe.exports=function(I){return"function"==typeof I&&r(j.call(I))}},52345:function(oe){"use strict";oe.exports=function(){}},9953:function(oe,j,r){"use strict";oe.exports=r(90436)()?Math.sign:r(6069)},90436:function(oe){"use strict";oe.exports=function(){var j=Math.sign;return"function"==typeof j&&1===j(10)&&-1===j(-20)}},6069:function(oe){"use strict";oe.exports=function(j){return j=Number(j),isNaN(j)||0===j?j:j>0?1:-1}},56247:function(oe,j,r){"use strict";var I=r(9953),E=Math.abs,f=Math.floor;oe.exports=function(S){return isNaN(S)?0:0!==(S=Number(S))&&isFinite(S)?I(S)*f(E(S)):S}},35976:function(oe,j,r){"use strict";var I=r(56247),E=Math.max;oe.exports=function(f){return E(0,I(f))}},67260:function(oe,j,r){"use strict";var I=r(78513),E=r(36672),f=Function.prototype.bind,S=Function.prototype.call,M=Object.keys,y=Object.prototype.propertyIsEnumerable;oe.exports=function(u,i){return function(s,a){var o,l=arguments[2],c=arguments[3];return s=Object(E(s)),I(a),o=M(s),c&&o.sort("function"==typeof c?f.call(c,s):void 0),"function"!=typeof u&&(u=o[u]),S.call(u,o,function(h,v){return y.call(s,h)?S.call(a,l,s[h],h,s,v):i})}}},95879:function(oe,j,r){"use strict";oe.exports=r(73583)()?Object.assign:r(34205)},73583:function(oe){"use strict";oe.exports=function(){var j,r=Object.assign;return"function"==typeof r&&(r(j={foo:"raz"},{bar:"dwa"},{trzy:"trzy"}),j.foo+j.bar+j.trzy==="razdwatrzy")}},34205:function(oe,j,r){"use strict";var I=r(68700),E=r(36672),f=Math.max;oe.exports=function(S,M){var y,u,i,s=f(arguments.length,2);for(S=Object(E(S)),i=function(a){try{S[a]=M[a]}catch(o){y||(y=o)}},u=1;u<s;++u)I(M=arguments[u]).forEach(i);if(void 0!==y)throw y;return S}},19012:function(oe,j,r){"use strict";var I=r(4892),E=r(95879),f=r(36672);oe.exports=function(S){var M=Object(f(S)),y=arguments[1],u=Object(arguments[2]);if(M!==S&&!y)return M;var i={};return y?I(y,function(s){(u.ensure||s in S)&&(i[s]=S[s])}):E(i,S),i}},52818:function(oe,j,r){"use strict";var I,E,f,S,M=Object.create;r(33247)()||(I=r(51882)),oe.exports=I?1!==I.level?M:(E={},f={},S={configurable:!1,enumerable:!1,writable:!0,value:void 0},Object.getOwnPropertyNames(Object.prototype).forEach(function(y){f[y]="__proto__"!==y?S:{configurable:!0,enumerable:!1,writable:!0,value:void 0}}),Object.defineProperties(E,f),Object.defineProperty(I,"nullPolyfill",{configurable:!1,enumerable:!1,writable:!1,value:E}),function(y,u){return M(null===y?E:y,u)}):M},96437:function(oe,j,r){"use strict";oe.exports=r(67260)("forEach")},99611:function(oe,j,r){"use strict";var I=r(95296),E={function:!0,object:!0};oe.exports=function(f){return I(f)&&E[typeof f]||!1}},95296:function(oe,j,r){"use strict";var I=r(52345)();oe.exports=function(E){return E!==I&&null!==E}},68700:function(oe,j,r){"use strict";oe.exports=r(13895)()?Object.keys:r(25217)},13895:function(oe){"use strict";oe.exports=function(){try{return Object.keys("primitive"),!0}catch{return!1}}},25217:function(oe,j,r){"use strict";var I=r(95296),E=Object.keys;oe.exports=function(f){return E(I(f)?Object(f):f)}},16906:function(oe,j,r){"use strict";var I=r(78513),E=r(96437),f=Function.prototype.call;oe.exports=function(S,M){var y={},u=arguments[2];return I(M),E(S,function(i,s,a,o){y[s]=f.call(M,u,i,s,a,o)}),y}},21780:function(oe,j,r){"use strict";var I=r(95296),E=Array.prototype.forEach,f=Object.create;oe.exports=function(S){var M=f(null);return E.call(arguments,function(y){I(y)&&function(u,i){var s;for(s in u)i[s]=u[s]}(Object(y),M)}),M}},1496:function(oe,j,r){"use strict";oe.exports=r(33247)()?Object.setPrototypeOf:r(51882)},33247:function(oe){"use strict";var j=Object.create,r=Object.getPrototypeOf,I={};oe.exports=function(){var E=Object.setPrototypeOf;return"function"==typeof E&&r(E((arguments[0]||j)(null),I))===I}},51882:function(oe,j,r){"use strict";var I,E,f,S,M=r(99611),y=r(36672),u=Object.prototype.isPrototypeOf,i=Object.defineProperty,s={configurable:!0,enumerable:!1,writable:!0,value:void 0};I=function(a,o){if(y(a),null===o||M(o))return a;throw new TypeError("Prototype must be null or an object")},oe.exports=(E=function(){var a,o=Object.create(null),l={},c=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__");if(c){try{(a=c.set).call(o,l)}catch{}if(Object.getPrototypeOf(o)===l)return{set:a,level:2}}return o.__proto__=l,Object.getPrototypeOf(o)===l?{level:2}:((o={}).__proto__=l,Object.getPrototypeOf(o)===l&&{level:1})}())?(2===E.level?E.set?(S=E.set,f=function(a,o){return S.call(I(a,o),o),a}):f=function(a,o){return I(a,o).__proto__=o,a}:f=function a(o,l){var c;return I(o,l),(c=u.call(a.nullPolyfill,o))&&delete a.nullPolyfill.__proto__,null===l&&(l=a.nullPolyfill),o.__proto__=l,c&&i(a.nullPolyfill,"__proto__",s),o},Object.defineProperty(f,"level",{configurable:!1,enumerable:!1,writable:!1,value:E.level})):null,r(52818)},78513:function(oe){"use strict";oe.exports=function(j){if("function"!=typeof j)throw new TypeError(j+" is not a function");return j}},98976:function(oe,j,r){"use strict";var I=r(99611);oe.exports=function(E){if(!I(E))throw new TypeError(E+" is not an Object");return E}},36672:function(oe,j,r){"use strict";var I=r(95296);oe.exports=function(E){if(!I(E))throw new TypeError("Cannot use null or undefined");return E}},66741:function(oe,j,r){"use strict";oe.exports=r(17557)()?String.prototype.contains:r(60381)},17557:function(oe){"use strict";var j="razdwatrzy";oe.exports=function(){return"function"==typeof j.contains&&!0===j.contains("dwa")&&!1===j.contains("foo")}},60381:function(oe){"use strict";var j=String.prototype.indexOf;oe.exports=function(r){return j.call(this,r,arguments[1])>-1}},87963:function(oe){"use strict";var j=Object.prototype.toString,r=j.call("");oe.exports=function(I){return"string"==typeof I||I&&"object"==typeof I&&(I instanceof String||j.call(I)===r)||!1}},43043:function(oe){"use strict";var j=Object.create(null),r=Math.random;oe.exports=function(){var I;do{I=r().toString(36).slice(2)}while(j[I]);return I}},32411:function(oe,j,r){"use strict";var I,E=r(1496),f=r(66741),S=r(62072),M=r(8260),y=r(95426),u=Object.defineProperty;I=oe.exports=function(i,s){if(!(this instanceof I))throw new TypeError("Constructor requires 'new'");y.call(this,i),s=s?f.call(s,"key+value")?"key+value":f.call(s,"key")?"key":"value":"value",u(this,"__kind__",S("",s))},E&&E(I,y),delete I.prototype.constructor,I.prototype=Object.create(y.prototype,{_resolve:S(function(i){return"value"===this.__kind__?this.__list__[i]:"key+value"===this.__kind__?[i,this.__list__[i]]:i})}),u(I.prototype,M.toStringTag,S("c","Array Iterator"))},27515:function(oe,j,r){"use strict";var I=r(73051),E=r(78513),f=r(87963),S=r(66661),M=Array.isArray,y=Function.prototype.call,u=Array.prototype.some;oe.exports=function(i,s){var a,o,l,c,h,v,p,T,_=arguments[2];if(M(i)||I(i)?a="array":f(i)?a="string":i=S(i),E(s),l=function(){c=!0},"array"!==a)if("string"!==a)for(o=i.next();!o.done;){if(y.call(s,_,o.value,l),c)return;o=i.next()}else for(v=i.length,h=0;h<v&&(p=i[h],h+1<v&&(T=p.charCodeAt(0))>=55296&&T<=56319&&(p+=i[++h]),y.call(s,_,p,l),!c);++h);else u.call(i,function(g){return y.call(s,_,g,l),c})}},66661:function(oe,j,r){"use strict";var I=r(73051),E=r(87963),f=r(32411),S=r(259),M=r(58095),y=r(8260).iterator;oe.exports=function(u){return"function"==typeof M(u)[y]?u[y]():I(u)?new f(u):E(u)?new S(u):new f(u)}},95426:function(oe,j,r){"use strict";var I,E=r(16134),f=r(95879),S=r(78513),M=r(36672),y=r(62072),u=r(55174),i=r(8260),s=Object.defineProperty,a=Object.defineProperties;oe.exports=I=function(o,l){if(!(this instanceof I))throw new TypeError("Constructor requires 'new'");a(this,{__list__:y("w",M(o)),__context__:y("w",l),__nextIndex__:y("w",0)}),l&&(S(l.on),l.on("_add",this._onAdd),l.on("_delete",this._onDelete),l.on("_clear",this._onClear))},delete I.prototype.constructor,a(I.prototype,f({_next:y(function(){var o;if(this.__list__)return this.__redo__&&void 0!==(o=this.__redo__.shift())?o:this.__nextIndex__<this.__list__.length?this.__nextIndex__++:void this._unBind()}),next:y(function(){return this._createResult(this._next())}),_createResult:y(function(o){return void 0===o?{done:!0,value:void 0}:{done:!1,value:this._resolve(o)}}),_resolve:y(function(o){return this.__list__[o]}),_unBind:y(function(){this.__list__=null,delete this.__redo__,this.__context__&&(this.__context__.off("_add",this._onAdd),this.__context__.off("_delete",this._onDelete),this.__context__.off("_clear",this._onClear),this.__context__=null)}),toString:y(function(){return"[object "+(this[i.toStringTag]||"Object")+"]"})},u({_onAdd:y(function(o){o>=this.__nextIndex__||(++this.__nextIndex__,this.__redo__?(this.__redo__.forEach(function(l,c){l>=o&&(this.__redo__[c]=++l)},this),this.__redo__.push(o)):s(this,"__redo__",y("c",[o])))}),_onDelete:y(function(o){var l;o>=this.__nextIndex__||(--this.__nextIndex__,this.__redo__&&(-1!==(l=this.__redo__.indexOf(o))&&this.__redo__.splice(l,1),this.__redo__.forEach(function(c,h){c>o&&(this.__redo__[h]=--c)},this)))}),_onClear:y(function(){this.__redo__&&E.call(this.__redo__),this.__nextIndex__=0})}))),s(I.prototype,i.iterator,y(function(){return this}))},35940:function(oe,j,r){"use strict";var I=r(73051),E=r(95296),f=r(87963),S=r(8260).iterator,M=Array.isArray;oe.exports=function(y){return!(!E(y)||!M(y)&&!f(y)&&!I(y)&&"function"!=typeof y[S])}},259:function(oe,j,r){"use strict";var I,E=r(1496),f=r(62072),S=r(8260),M=r(95426),y=Object.defineProperty;I=oe.exports=function(u){if(!(this instanceof I))throw new TypeError("Constructor requires 'new'");u=String(u),M.call(this,u),y(this,"__length__",f("",u.length))},E&&E(I,M),delete I.prototype.constructor,I.prototype=Object.create(M.prototype,{_next:f(function(){if(this.__list__)return this.__nextIndex__<this.__length__?this.__nextIndex__++:void this._unBind()}),_resolve:f(function(u){var i,s=this.__list__[u];return this.__nextIndex__===this.__length__?s:(i=s.charCodeAt(0))>=55296&&i<=56319?s+this.__list__[this.__nextIndex__++]:s})}),y(I.prototype,S.toStringTag,f("c","String Iterator"))},58095:function(oe,j,r){"use strict";var I=r(35940);oe.exports=function(E){if(!I(E))throw new TypeError(E+" is not iterable");return E}},73523:function(oe){"use strict";function j(r,I){if(null==r)throw new TypeError("Cannot convert first argument to object");for(var E=Object(r),f=1;f<arguments.length;f++){var S=arguments[f];if(null!=S)for(var M=Object.keys(Object(S)),y=0,u=M.length;y<u;y++){var i=M[y],s=Object.getOwnPropertyDescriptor(S,i);void 0!==s&&s.enumerable&&(E[i]=S[i])}}return E}oe.exports={assign:j,polyfill:function(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:j})}}},8260:function(oe,j,r){"use strict";oe.exports=r(69711)()?r(94908).Symbol:r(18415)},69711:function(oe,j,r){"use strict";var I=r(94908),E={object:!0,symbol:!0};oe.exports=function(){var f,S=I.Symbol;if("function"!=typeof S)return!1;f=S("test symbol");try{String(f)}catch{return!1}return!!E[typeof S.iterator]&&!!E[typeof S.toPrimitive]&&!!E[typeof S.toStringTag]}},82276:function(oe){"use strict";oe.exports=function(j){return!!j&&("symbol"==typeof j||!!j.constructor&&"Symbol"===j.constructor.name&&"Symbol"===j[j.constructor.toStringTag])}},29366:function(oe,j,r){"use strict";var I=r(62072),f=Object.defineProperty,S=Object.prototype,M=(0,Object.create)(null);oe.exports=function(y){for(var u,i,s=0;M[y+(s||"")];)++s;return M[y+=s||""]=!0,f(S,u="@@"+y,I.gs(null,function(a){i||(i=!0,f(this,u,I(a)),i=!1)})),u}},92842:function(oe,j,r){"use strict";var I=r(62072),E=r(94908).Symbol;oe.exports=function(f){return Object.defineProperties(f,{hasInstance:I("",E&&E.hasInstance||f("hasInstance")),isConcatSpreadable:I("",E&&E.isConcatSpreadable||f("isConcatSpreadable")),iterator:I("",E&&E.iterator||f("iterator")),match:I("",E&&E.match||f("match")),replace:I("",E&&E.replace||f("replace")),search:I("",E&&E.search||f("search")),species:I("",E&&E.species||f("species")),split:I("",E&&E.split||f("split")),toPrimitive:I("",E&&E.toPrimitive||f("toPrimitive")),toStringTag:I("",E&&E.toStringTag||f("toStringTag")),unscopables:I("",E&&E.unscopables||f("unscopables"))})}},13304:function(oe,j,r){"use strict";var I=r(62072),E=r(53308),f=Object.create(null);oe.exports=function(S){return Object.defineProperties(S,{for:I(function(M){return f[M]?f[M]:f[M]=S(String(M))}),keyFor:I(function(M){var y;for(y in E(M),f)if(f[y]===M)return y})})}},18415:function(oe,j,r){"use strict";var I,E,f,S=r(62072),M=r(53308),y=r(94908).Symbol,u=r(29366),i=r(92842),s=r(13304),a=Object.create,o=Object.defineProperties,l=Object.defineProperty;if("function"==typeof y)try{String(y()),f=!0}catch{}else y=null;E=function(c){if(this instanceof E)throw new TypeError("Symbol is not a constructor");return I(c)},oe.exports=I=function c(h){var v;if(this instanceof c)throw new TypeError("Symbol is not a constructor");return f?y(h):(v=a(E.prototype),h=void 0===h?"":String(h),o(v,{__description__:S("",h),__name__:S("",u(h))}))},i(I),s(I),o(E.prototype,{constructor:S(I),toString:S("",function(){return this.__name__})}),o(I.prototype,{toString:S(function(){return"Symbol ("+M(this).__description__+")"}),valueOf:S(function(){return M(this)})}),l(I.prototype,I.toPrimitive,S("",function(){var c=M(this);return"symbol"==typeof c?c:c.toString()})),l(I.prototype,I.toStringTag,S("c","Symbol")),l(E.prototype,I.toStringTag,S("c",I.prototype[I.toStringTag])),l(E.prototype,I.toPrimitive,S("c",I.prototype[I.toPrimitive]))},53308:function(oe,j,r){"use strict";var I=r(82276);oe.exports=function(E){if(!I(E))throw new TypeError(E+" is not a symbol");return E}},83522:function(oe,j,r){"use strict";oe.exports=r(96402)()?WeakMap:r(329)},96402:function(oe){"use strict";oe.exports=function(){var j,r;if("function"!=typeof WeakMap)return!1;try{j=new WeakMap([[r={},"one"],[{},"two"],[{},"three"]])}catch{return!1}return"[object WeakMap]"===String(j)&&"function"==typeof j.set&&j.set({},1)===j&&"function"==typeof j.delete&&"function"==typeof j.has&&"one"===j.get(r)}},96416:function(oe){"use strict";oe.exports="function"==typeof WeakMap&&"[object WeakMap]"===Object.prototype.toString.call(new WeakMap)},329:function(oe,j,r){"use strict";var I,E=r(95296),f=r(1496),S=r(98976),M=r(36672),y=r(43043),u=r(62072),i=r(66661),s=r(27515),a=r(8260).toStringTag,o=r(96416),l=Array.isArray,c=Object.defineProperty,h=Object.prototype.hasOwnProperty,v=Object.getPrototypeOf;oe.exports=I=function(){var p,T=arguments[0];if(!(this instanceof I))throw new TypeError("Constructor requires 'new'");return p=o&&f&&WeakMap!==I?f(new WeakMap,v(this)):this,E(T)&&(l(T)||(T=i(T))),c(p,"__weakMapData__",u("c","$weakMap$"+y())),T&&s(T,function(_){M(_),p.set(_[0],_[1])}),p},o&&(f&&f(I,WeakMap),I.prototype=Object.create(WeakMap.prototype,{constructor:u(I)})),Object.defineProperties(I.prototype,{delete:u(function(p){return!!h.call(S(p),this.__weakMapData__)&&(delete p[this.__weakMapData__],!0)}),get:u(function(p){if(h.call(S(p),this.__weakMapData__))return p[this.__weakMapData__]}),has:u(function(p){return h.call(S(p),this.__weakMapData__)}),set:u(function(p,T){return c(S(p),this.__weakMapData__,u("c",T)),this}),toString:u(function(){return"[object WeakMap]"})}),c(I.prototype,a,u("c","WeakMap"))},15398:function(oe){"use strict";var j,r="object"==typeof Reflect?Reflect:null,I=r&&"function"==typeof r.apply?r.apply:function(h,v,p){return Function.prototype.apply.call(h,v,p)};j=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(h){return Object.getOwnPropertyNames(h).concat(Object.getOwnPropertySymbols(h))}:function(h){return Object.getOwnPropertyNames(h)};var E=Number.isNaN||function(h){return h!=h};function f(){f.init.call(this)}oe.exports=f,oe.exports.once=function(h,v){return new Promise(function(p,T){function _(w){h.removeListener(v,g),T(w)}function g(){"function"==typeof h.removeListener&&h.removeListener("error",_),p([].slice.call(arguments))}var w;c(h,v,g,{once:!0}),"error"!==v&&("function"==typeof(w=h).on&&c(w,"error",_,{once:!0}))})},f.EventEmitter=f,f.prototype._events=void 0,f.prototype._eventsCount=0,f.prototype._maxListeners=void 0;var S=10;function M(h){if("function"!=typeof h)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof h)}function y(h){return void 0===h._maxListeners?f.defaultMaxListeners:h._maxListeners}function u(h,v,p,T){var _,g,w;if(M(p),void 0===(g=h._events)?(g=h._events=Object.create(null),h._eventsCount=0):(void 0!==g.newListener&&(h.emit("newListener",v,p.listener?p.listener:p),g=h._events),w=g[v]),void 0===w)w=g[v]=p,++h._eventsCount;else if("function"==typeof w?w=g[v]=T?[p,w]:[w,p]:T?w.unshift(p):w.push(p),(_=y(h))>0&&w.length>_&&!w.warned){w.warned=!0;var b=new Error("Possible EventEmitter memory leak detected. "+w.length+" "+String(v)+" listeners added. Use emitter.setMaxListeners() to increase limit");b.name="MaxListenersExceededWarning",b.emitter=h,b.type=v,b.count=w.length,console&&console.warn&&console.warn(b)}return h}function i(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function s(h,v,p){var T={fired:!1,wrapFn:void 0,target:h,type:v,listener:p},_=i.bind(T);return _.listener=p,T.wrapFn=_,_}function a(h,v,p){var T=h._events;if(void 0===T)return[];var _=T[v];return void 0===_?[]:"function"==typeof _?p?[_.listener||_]:[_]:p?function(g){for(var w=new Array(g.length),x=0;x<w.length;++x)w[x]=g[x].listener||g[x];return w}(_):l(_,_.length)}function o(h){var v=this._events;if(void 0!==v){var p=v[h];if("function"==typeof p)return 1;if(void 0!==p)return p.length}return 0}function l(h,v){for(var p=new Array(v),T=0;T<v;++T)p[T]=h[T];return p}function c(h,v,p,T){if("function"==typeof h.on)T.once?h.once(v,p):h.on(v,p);else{if("function"!=typeof h.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof h);h.addEventListener(v,function _(g){T.once&&h.removeEventListener(v,_),p(g)})}}Object.defineProperty(f,"defaultMaxListeners",{enumerable:!0,get:function(){return S},set:function(h){if("number"!=typeof h||h<0||E(h))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+h+".");S=h}}),f.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},f.prototype.setMaxListeners=function(h){if("number"!=typeof h||h<0||E(h))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+h+".");return this._maxListeners=h,this},f.prototype.getMaxListeners=function(){return y(this)},f.prototype.emit=function(h){for(var v=[],p=1;p<arguments.length;p++)v.push(arguments[p]);var T="error"===h,_=this._events;if(void 0!==_)T=T&&void 0===_.error;else if(!T)return!1;if(T){var g;if(v.length>0&&(g=v[0]),g instanceof Error)throw g;var w=new Error("Unhandled error."+(g?" ("+g.message+")":""));throw w.context=g,w}var x=_[h];if(void 0===x)return!1;if("function"==typeof x)I(x,this,v);else{var b=x.length,A=l(x,b);for(p=0;p<b;++p)I(A[p],this,v)}return!0},f.prototype.on=f.prototype.addListener=function(h,v){return u(this,h,v,!1)},f.prototype.prependListener=function(h,v){return u(this,h,v,!0)},f.prototype.once=function(h,v){return M(v),this.on(h,s(this,h,v)),this},f.prototype.prependOnceListener=function(h,v){return M(v),this.prependListener(h,s(this,h,v)),this},f.prototype.off=f.prototype.removeListener=function(h,v){var p,T,_,g,w;if(M(v),void 0===(T=this._events))return this;if(void 0===(p=T[h]))return this;if(p===v||p.listener===v)0==--this._eventsCount?this._events=Object.create(null):(delete T[h],T.removeListener&&this.emit("removeListener",h,p.listener||v));else if("function"!=typeof p){for(_=-1,g=p.length-1;g>=0;g--)if(p[g]===v||p[g].listener===v){w=p[g].listener,_=g;break}if(_<0)return this;0===_?p.shift():function(x,b){for(;b+1<x.length;b++)x[b]=x[b+1];x.pop()}(p,_),1===p.length&&(T[h]=p[0]),void 0!==T.removeListener&&this.emit("removeListener",h,w||v)}return this},f.prototype.removeAllListeners=function(h){var v,p,T;if(void 0===(p=this._events))return this;if(void 0===p.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==p[h]&&(0==--this._eventsCount?this._events=Object.create(null):delete p[h]),this;if(0===arguments.length){var _,g=Object.keys(p);for(T=0;T<g.length;++T)"removeListener"!==(_=g[T])&&this.removeAllListeners(_);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(v=p[h]))this.removeListener(h,v);else if(void 0!==v)for(T=v.length-1;T>=0;T--)this.removeListener(h,v[T]);return this},f.prototype.listeners=function(h){return a(this,h,!0)},f.prototype.rawListeners=function(h){return a(this,h,!1)},f.listenerCount=function(h,v){return"function"==typeof h.listenerCount?h.listenerCount(v):o.call(h,v)},f.prototype.listenerCount=o,f.prototype.eventNames=function(){return this._eventsCount>0?j(this._events):[]}},60774:function(oe){var j=function(){if("object"==typeof self&&self)return self;if("object"==typeof window&&window)return window;throw new Error("Unable to resolve global `this`")};oe.exports=function(){if(this)return this;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch{return j()}try{return __global__||j()}finally{delete Object.prototype.__global__}}()},94908:function(oe,j,r){"use strict";oe.exports=r(51152)()?globalThis:r(60774)},51152:function(oe){"use strict";oe.exports=function(){return"object"==typeof globalThis&&!!globalThis&&globalThis.Array===Array}},92770:function(oe,j,r){"use strict";var I=r(18546);oe.exports=function(E){var f=typeof E;if("string"===f){var S=E;if(0==(E=+E)&&I(S))return!1}else if("number"!==f)return!1;return E-E<1}},30120:function(oe,j,r){var I=r(90660);oe.exports=function(E,f,S){if(!E)throw new TypeError("must specify data as first parameter");if(S=0|+(S||0),Array.isArray(E)&&E[0]&&"number"==typeof E[0][0]){var M,y,u,i,s=E[0].length,a=E.length*s;f&&"string"!=typeof f||(f=new(I(f||"float32"))(a+S));var o=f.length-S;if(a!==o)throw new Error("source length "+a+" ("+s+"x"+E.length+") does not match destination length "+o);for(M=0,u=S;M<E.length;M++)for(y=0;y<s;y++)f[u++]=null===E[M][y]?NaN:E[M][y]}else if(f&&"string"!=typeof f)f.set(E,S);else{var l=I(f||"float32");if(Array.isArray(E)||"array"===f)for(M=0,u=S,i=(f=new l(E.length+S)).length;u<i;u++,M++)f[u]=null===E[M]?NaN:E[M];else 0===S?f=new l(E):(f=new l(E.length+S)).set(E,S)}return f}},68016:function(oe,j,r){"use strict";var I=r(53313),E=[32,126];oe.exports=function(f){var S=(f=f||{}).shape?f.shape:f.canvas?[f.canvas.width,f.canvas.height]:[512,512],M=f.canvas||document.createElement("canvas"),y=f.font,u="number"==typeof f.step?[f.step,f.step]:f.step||[32,32],i=f.chars||E;if(y&&"string"!=typeof y&&(y=I(y)),Array.isArray(i)){if(2===i.length&&"number"==typeof i[0]&&"number"==typeof i[1]){for(var s=[],a=i[0],o=0;a<=i[1];a++)s[o++]=String.fromCharCode(a);i=s}}else i=String(i).split("");S=S.slice(),M.width=S[0],M.height=S[1];var l=M.getContext("2d");l.fillStyle="#000",l.fillRect(0,0,M.width,M.height),l.font=y,l.textAlign="center",l.textBaseline="middle",l.fillStyle="#fff";var c=u[0]/2,h=u[1]/2;for(a=0;a<i.length;a++)l.fillText(i[a],c,h),(c+=u[0])>S[0]-u[0]/2&&(c=u[0]/2,h+=u[1]);return M}},32879:function(oe){"use strict";function j(f,S){S||(S={}),("string"==typeof f||Array.isArray(f))&&(S.family=f);var M=Array.isArray(S.family)?S.family.join(", "):S.family;if(!M)throw Error("`family` must be defined");var y=S.size||S.fontSize||S.em||48,i=(f=[S.style||S.fontStyle||"",S.weight||S.fontWeight||"",y].join(" ")+"px "+M,S.origin||"top");if(j.cache[M]&&y<=j.cache[M].em)return r(j.cache[M],i);var s=S.canvas||j.canvas,a=s.getContext("2d"),o={upper:void 0!==S.upper?S.upper:"H",lower:void 0!==S.lower?S.lower:"x",descent:void 0!==S.descent?S.descent:"p",ascent:void 0!==S.ascent?S.ascent:"h",tittle:void 0!==S.tittle?S.tittle:"i",overshoot:void 0!==S.overshoot?S.overshoot:"O"},l=Math.ceil(1.5*y);s.height=l,s.width=.5*l,a.font=f;var c="H",h={top:0};a.clearRect(0,0,l,l),a.textBaseline="top",a.fillStyle="black",a.fillText(c,0,0);var v=I(a.getImageData(0,0,l,l));a.clearRect(0,0,l,l),a.textBaseline="bottom",a.fillText(c,0,l);var p=I(a.getImageData(0,0,l,l));h.lineHeight=h.bottom=l-p+v,a.clearRect(0,0,l,l),a.textBaseline="alphabetic",a.fillText(c,0,l);var T=l-I(a.getImageData(0,0,l,l))-1+v;h.baseline=h.alphabetic=T,a.clearRect(0,0,l,l),a.textBaseline="middle",a.fillText(c,0,.5*l);var _=I(a.getImageData(0,0,l,l));h.median=h.middle=l-_-1+v-.5*l,a.clearRect(0,0,l,l),a.textBaseline="hanging",a.fillText(c,0,.5*l);var g=I(a.getImageData(0,0,l,l));h.hanging=l-g-1+v-.5*l,a.clearRect(0,0,l,l),a.textBaseline="ideographic",a.fillText(c,0,l);var w=I(a.getImageData(0,0,l,l));if(h.ideographic=l-w-1+v,o.upper&&(a.clearRect(0,0,l,l),a.textBaseline="top",a.fillText(o.upper,0,0),h.upper=I(a.getImageData(0,0,l,l)),h.capHeight=h.baseline-h.upper),o.lower&&(a.clearRect(0,0,l,l),a.textBaseline="top",a.fillText(o.lower,0,0),h.lower=I(a.getImageData(0,0,l,l)),h.xHeight=h.baseline-h.lower),o.tittle&&(a.clearRect(0,0,l,l),a.textBaseline="top",a.fillText(o.tittle,0,0),h.tittle=I(a.getImageData(0,0,l,l))),o.ascent&&(a.clearRect(0,0,l,l),a.textBaseline="top",a.fillText(o.ascent,0,0),h.ascent=I(a.getImageData(0,0,l,l))),o.descent&&(a.clearRect(0,0,l,l),a.textBaseline="top",a.fillText(o.descent,0,0),h.descent=E(a.getImageData(0,0,l,l))),o.overshoot){a.clearRect(0,0,l,l),a.textBaseline="top",a.fillText(o.overshoot,0,0);var x=E(a.getImageData(0,0,l,l));h.overshoot=x-T}for(var b in h)h[b]/=y;return h.em=y,j.cache[M]=h,r(h,i)}function r(f,S){var M={};for(var y in"string"==typeof S&&(S=f[S]),f)"em"!==y&&(M[y]=f[y]-S);return M}function I(f){for(var S=f.height,M=f.data,y=3;y<M.length;y+=4)if(0!==M[y])return Math.floor(.25*(y-3)/S)}function E(f){for(var S=f.height,M=f.data,y=M.length-1;y>0;y-=4)if(0!==M[y])return Math.floor(.25*(y-3)/S)}oe.exports=j,j.canvas=document.createElement("canvas"),j.cache={}},31353:function(oe,j,r){"use strict";var I=r(85395),E=Object.prototype.toString,f=Object.prototype.hasOwnProperty;oe.exports=function(S,M,y){if(!I(M))throw new TypeError("iterator must be a function");var u;arguments.length>=3&&(u=y),"[object Array]"===E.call(S)?function(i,s,a){for(var o=0,l=i.length;o<l;o++)f.call(i,o)&&(null==a?s(i[o],o,i):s.call(a,i[o],o,i))}(S,M,u):"string"==typeof S?function(i,s,a){for(var o=0,l=i.length;o<l;o++)null==a?s(i.charAt(o),o,i):s.call(a,i.charAt(o),o,i)}(S,M,u):function(i,s,a){for(var o in i)f.call(i,o)&&(null==a?s(i[o],o,i):s.call(a,i[o],o,i))}(S,M,u)}},73047:function(oe){"use strict";var j=Array.prototype.slice,r=Object.prototype.toString;oe.exports=function(I){var E=this;if("function"!=typeof E||"[object Function]"!==r.call(E))throw new TypeError("Function.prototype.bind called on incompatible "+E);for(var f,S=j.call(arguments,1),M=Math.max(0,E.length-S.length),y=[],u=0;u<M;u++)y.push("$"+u);if(f=Function("binder","return function ("+y.join(",")+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof f){var s=E.apply(this,S.concat(j.call(arguments)));return Object(s)===s?s:this}return E.apply(I,S.concat(j.call(arguments)))}),E.prototype){var i=function(){};i.prototype=E.prototype,f.prototype=new i,i.prototype=null}return f}},77575:function(oe,j,r){"use strict";var I=r(73047);oe.exports=Function.prototype.bind||I},86249:function(oe){oe.exports=function(j,r){if("string"!=typeof j)throw new TypeError("must specify type string");if(r=r||{},typeof document>"u"&&!r.canvas)return null;var I=r.canvas||document.createElement("canvas");"number"==typeof r.width&&(I.width=r.width),"number"==typeof r.height&&(I.height=r.height);var E,f=r;try{var S=[j];0===j.indexOf("webgl")&&S.push("experimental-"+j);for(var M=0;M<S.length;M++)if(E=I.getContext(S[M],f))return E}catch{E=null}return E||null}},68318:function(oe,j,r){"use strict";var I,E=SyntaxError,f=Function,S=TypeError,M=function(P){try{return f('"use strict"; return ('+P+").constructor;")()}catch{}},y=Object.getOwnPropertyDescriptor;if(y)try{y({},"")}catch{y=null}var u=function(){throw new S},i=y?function(){try{return u}catch{try{return y(arguments,"callee").get}catch{return u}}}():u,s=r(57877)(),a=Object.getPrototypeOf||function(P){return P.__proto__},o={},l=typeof Uint8Array>"u"?I:a(Uint8Array),c={"%AggregateError%":typeof AggregateError>"u"?I:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?I:ArrayBuffer,"%ArrayIteratorPrototype%":s?a([][Symbol.iterator]()):I,"%AsyncFromSyncIteratorPrototype%":I,"%AsyncFunction%":o,"%AsyncGenerator%":o,"%AsyncGeneratorFunction%":o,"%AsyncIteratorPrototype%":o,"%Atomics%":typeof Atomics>"u"?I:Atomics,"%BigInt%":typeof BigInt>"u"?I:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?I:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?I:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?I:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?I:Float32Array,"%Float64Array%":typeof Float64Array>"u"?I:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?I:FinalizationRegistry,"%Function%":f,"%GeneratorFunction%":o,"%Int8Array%":typeof Int8Array>"u"?I:Int8Array,"%Int16Array%":typeof Int16Array>"u"?I:Int16Array,"%Int32Array%":typeof Int32Array>"u"?I:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":s?a(a([][Symbol.iterator]())):I,"%JSON%":"object"==typeof JSON?JSON:I,"%Map%":typeof Map>"u"?I:Map,"%MapIteratorPrototype%":typeof Map<"u"&&s?a((new Map)[Symbol.iterator]()):I,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?I:Promise,"%Proxy%":typeof Proxy>"u"?I:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?I:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?I:Set,"%SetIteratorPrototype%":typeof Set<"u"&&s?a((new Set)[Symbol.iterator]()):I,"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?I:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":s?a(""[Symbol.iterator]()):I,"%Symbol%":s?Symbol:I,"%SyntaxError%":E,"%ThrowTypeError%":i,"%TypedArray%":l,"%TypeError%":S,"%Uint8Array%":typeof Uint8Array>"u"?I:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?I:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?I:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?I:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?I:WeakMap,"%WeakRef%":typeof WeakRef>"u"?I:WeakRef,"%WeakSet%":typeof WeakSet>"u"?I:WeakSet};try{null.error}catch(P){var h=a(a(P));c["%Error.prototype%"]=h}var v=function P(R){var L;if("%AsyncFunction%"===R)L=M("async function () {}");else if("%GeneratorFunction%"===R)L=M("function* () {}");else if("%AsyncGeneratorFunction%"===R)L=M("async function* () {}");else if("%AsyncGenerator%"===R){var N=P("%AsyncGeneratorFunction%");N&&(L=N.prototype)}else if("%AsyncIteratorPrototype%"===R){var B=P("%AsyncGenerator%");B&&(L=a(B.prototype))}return c[R]=L,L},p={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},T=r(77575),_=r(35065),g=T.call(Function.call,Array.prototype.concat),w=T.call(Function.apply,Array.prototype.splice),x=T.call(Function.call,String.prototype.replace),b=T.call(Function.call,String.prototype.slice),A=T.call(Function.call,RegExp.prototype.exec),m=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,C=/\\(\\)?/g,k=function(P,R){var L,N=P;if(_(p,N)&&(N="%"+(L=p[N])[0]+"%"),_(c,N)){var B=c[N];if(B===o&&(B=v(N)),void 0===B&&!R)throw new S("intrinsic "+P+" exists, but is not available. Please file an issue!");return{alias:L,name:N,value:B}}throw new E("intrinsic "+P+" does not exist!")};oe.exports=function(P,R){if("string"!=typeof P||0===P.length)throw new S("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof R)throw new S('"allowMissing" argument must be a boolean');if(null===A(/^%?[^%]*%?$/,P))throw new E("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var L=function(K){var ne=b(K,0,1),ae=b(K,-1);if("%"===ne&&"%"!==ae)throw new E("invalid intrinsic syntax, expected closing `%`");if("%"===ae&&"%"!==ne)throw new E("invalid intrinsic syntax, expected opening `%`");var ue=[];return x(K,m,function(he,pe,ge,xe){ue[ue.length]=ge?x(xe,C,"$1"):pe||he}),ue}(P),N=L.length>0?L[0]:"",B=k("%"+N+"%",R),J=B.name,z=B.value,Y=!1,q=B.alias;q&&(N=q[0],w(L,g([0,1],q)));for(var U=1,Z=!0;U<L.length;U+=1){var X=L[U],se=b(X,0,1),re=b(X,-1);if(('"'===se||"'"===se||"`"===se||'"'===re||"'"===re||"`"===re)&&se!==re)throw new E("property names with quotes must have matching quotes");if("constructor"!==X&&Z||(Y=!0),_(c,J="%"+(N+="."+X)+"%"))z=c[J];else if(null!=z){if(!(X in z)){if(!R)throw new S("base intrinsic for "+P+" exists, but the property is not available.");return}if(y&&U+1>=L.length){var ee=y(z,X);z=(Z=!!ee)&&"get"in ee&&!("originalValue"in ee.get)?ee.get:z[X]}else Z=_(z,X),z=z[X];Z&&!Y&&(c[J]=z)}}return z}},85400:function(oe){oe.exports=function(j,r){var I=r[0],E=r[1],f=r[2],S=r[3],M=r[4],y=r[5],u=r[6],i=r[7],s=r[8],a=r[9],o=r[10],l=r[11],c=r[12],h=r[13],v=r[14],p=r[15];return j[0]=y*(o*p-l*v)-a*(u*p-i*v)+h*(u*l-i*o),j[1]=-(E*(o*p-l*v)-a*(f*p-S*v)+h*(f*l-S*o)),j[2]=E*(u*p-i*v)-y*(f*p-S*v)+h*(f*i-S*u),j[3]=-(E*(u*l-i*o)-y*(f*l-S*o)+a*(f*i-S*u)),j[4]=-(M*(o*p-l*v)-s*(u*p-i*v)+c*(u*l-i*o)),j[5]=I*(o*p-l*v)-s*(f*p-S*v)+c*(f*l-S*o),j[6]=-(I*(u*p-i*v)-M*(f*p-S*v)+c*(f*i-S*u)),j[7]=I*(u*l-i*o)-M*(f*l-S*o)+s*(f*i-S*u),j[8]=M*(a*p-l*h)-s*(y*p-i*h)+c*(y*l-i*a),j[9]=-(I*(a*p-l*h)-s*(E*p-S*h)+c*(E*l-S*a)),j[10]=I*(y*p-i*h)-M*(E*p-S*h)+c*(E*i-S*y),j[11]=-(I*(y*l-i*a)-M*(E*l-S*a)+s*(E*i-S*y)),j[12]=-(M*(a*v-o*h)-s*(y*v-u*h)+c*(y*o-u*a)),j[13]=I*(a*v-o*h)-s*(E*v-f*h)+c*(E*o-f*a),j[14]=-(I*(y*v-u*h)-M*(E*v-f*h)+c*(E*u-f*y)),j[15]=I*(y*o-u*a)-M*(E*o-f*a)+s*(E*u-f*y),j}},42331:function(oe){oe.exports=function(j){var r=new Float32Array(16);return r[0]=j[0],r[1]=j[1],r[2]=j[2],r[3]=j[3],r[4]=j[4],r[5]=j[5],r[6]=j[6],r[7]=j[7],r[8]=j[8],r[9]=j[9],r[10]=j[10],r[11]=j[11],r[12]=j[12],r[13]=j[13],r[14]=j[14],r[15]=j[15],r}},31042:function(oe){oe.exports=function(j,r){return j[0]=r[0],j[1]=r[1],j[2]=r[2],j[3]=r[3],j[4]=r[4],j[5]=r[5],j[6]=r[6],j[7]=r[7],j[8]=r[8],j[9]=r[9],j[10]=r[10],j[11]=r[11],j[12]=r[12],j[13]=r[13],j[14]=r[14],j[15]=r[15],j}},11902:function(oe){oe.exports=function(){var j=new Float32Array(16);return j[0]=1,j[1]=0,j[2]=0,j[3]=0,j[4]=0,j[5]=1,j[6]=0,j[7]=0,j[8]=0,j[9]=0,j[10]=1,j[11]=0,j[12]=0,j[13]=0,j[14]=0,j[15]=1,j}},89887:function(oe){oe.exports=function(j){var r=j[0],I=j[1],E=j[2],f=j[3],S=j[4],M=j[5],y=j[6],u=j[7],i=j[8],s=j[9],a=j[10],o=j[11],l=j[12],c=j[13],h=j[14],v=j[15];return(r*M-I*S)*(a*v-o*h)-(r*y-E*S)*(s*v-o*c)+(r*u-f*S)*(s*h-a*c)+(I*y-E*M)*(i*v-o*l)-(I*u-f*M)*(i*h-a*l)+(E*u-f*y)*(i*c-s*l)}},27812:function(oe){oe.exports=function(j,r){var I=r[0],E=r[1],f=r[2],S=r[3],M=I+I,y=E+E,u=f+f,i=I*M,s=E*M,a=E*y,o=f*M,l=f*y,c=f*u,h=S*M,v=S*y,p=S*u;return j[0]=1-a-c,j[1]=s+p,j[2]=o-v,j[3]=0,j[4]=s-p,j[5]=1-i-c,j[6]=l+h,j[7]=0,j[8]=o+v,j[9]=l-h,j[10]=1-i-a,j[11]=0,j[12]=0,j[13]=0,j[14]=0,j[15]=1,j}},34045:function(oe){oe.exports=function(j,r,I){var E,f,S,M=I[0],y=I[1],u=I[2],i=Math.sqrt(M*M+y*y+u*u);return Math.abs(i)<1e-6?null:(M*=i=1/i,y*=i,u*=i,E=Math.sin(r),S=1-(f=Math.cos(r)),j[0]=M*M*S+f,j[1]=y*M*S+u*E,j[2]=u*M*S-y*E,j[3]=0,j[4]=M*y*S-u*E,j[5]=y*y*S+f,j[6]=u*y*S+M*E,j[7]=0,j[8]=M*u*S+y*E,j[9]=y*u*S-M*E,j[10]=u*u*S+f,j[11]=0,j[12]=0,j[13]=0,j[14]=0,j[15]=1,j)}},45973:function(oe){oe.exports=function(j,r,I){var E=r[0],f=r[1],S=r[2],M=r[3],y=E+E,u=f+f,i=S+S,s=E*y,a=E*u,o=E*i,l=f*u,c=f*i,h=S*i,v=M*y,p=M*u,T=M*i;return j[0]=1-(l+h),j[1]=a+T,j[2]=o-p,j[3]=0,j[4]=a-T,j[5]=1-(s+h),j[6]=c+v,j[7]=0,j[8]=o+p,j[9]=c-v,j[10]=1-(s+l),j[11]=0,j[12]=I[0],j[13]=I[1],j[14]=I[2],j[15]=1,j}},81472:function(oe){oe.exports=function(j,r){return j[0]=r[0],j[1]=0,j[2]=0,j[3]=0,j[4]=0,j[5]=r[1],j[6]=0,j[7]=0,j[8]=0,j[9]=0,j[10]=r[2],j[11]=0,j[12]=0,j[13]=0,j[14]=0,j[15]=1,j}},14669:function(oe){oe.exports=function(j,r){return j[0]=1,j[1]=0,j[2]=0,j[3]=0,j[4]=0,j[5]=1,j[6]=0,j[7]=0,j[8]=0,j[9]=0,j[10]=1,j[11]=0,j[12]=r[0],j[13]=r[1],j[14]=r[2],j[15]=1,j}},75262:function(oe){oe.exports=function(j,r){var I=Math.sin(r),E=Math.cos(r);return j[0]=1,j[1]=0,j[2]=0,j[3]=0,j[4]=0,j[5]=E,j[6]=I,j[7]=0,j[8]=0,j[9]=-I,j[10]=E,j[11]=0,j[12]=0,j[13]=0,j[14]=0,j[15]=1,j}},331:function(oe){oe.exports=function(j,r){var I=Math.sin(r),E=Math.cos(r);return j[0]=E,j[1]=0,j[2]=-I,j[3]=0,j[4]=0,j[5]=1,j[6]=0,j[7]=0,j[8]=I,j[9]=0,j[10]=E,j[11]=0,j[12]=0,j[13]=0,j[14]=0,j[15]=1,j}},11049:function(oe){oe.exports=function(j,r){var I=Math.sin(r),E=Math.cos(r);return j[0]=E,j[1]=I,j[2]=0,j[3]=0,j[4]=-I,j[5]=E,j[6]=0,j[7]=0,j[8]=0,j[9]=0,j[10]=1,j[11]=0,j[12]=0,j[13]=0,j[14]=0,j[15]=1,j}},75195:function(oe){oe.exports=function(j,r,I,E,f,S,M){var y=1/(I-r),u=1/(f-E),i=1/(S-M);return j[0]=2*S*y,j[1]=0,j[2]=0,j[3]=0,j[4]=0,j[5]=2*S*u,j[6]=0,j[7]=0,j[8]=(I+r)*y,j[9]=(f+E)*u,j[10]=(M+S)*i,j[11]=-1,j[12]=0,j[13]=0,j[14]=M*S*2*i,j[15]=0,j}},71551:function(oe){oe.exports=function(j){return j[0]=1,j[1]=0,j[2]=0,j[3]=0,j[4]=0,j[5]=1,j[6]=0,j[7]=0,j[8]=0,j[9]=0,j[10]=1,j[11]=0,j[12]=0,j[13]=0,j[14]=0,j[15]=1,j}},79576:function(oe,j,r){oe.exports={create:r(11902),clone:r(42331),copy:r(31042),identity:r(71551),transpose:r(88654),invert:r(95874),adjoint:r(85400),determinant:r(89887),multiply:r(91362),translate:r(31283),scale:r(10789),rotate:r(65074),rotateX:r(35545),rotateY:r(94918),rotateZ:r(15692),fromRotation:r(34045),fromRotationTranslation:r(45973),fromScaling:r(81472),fromTranslation:r(14669),fromXRotation:r(75262),fromYRotation:r(331),fromZRotation:r(11049),fromQuat:r(27812),frustum:r(75195),perspective:r(7864),perspectiveFromFieldOfView:r(35279),ortho:r(60378),lookAt:r(65551),str:r(6726)}},95874:function(oe){oe.exports=function(j,r){var I=r[0],E=r[1],f=r[2],S=r[3],M=r[4],y=r[5],u=r[6],i=r[7],s=r[8],a=r[9],o=r[10],l=r[11],c=r[12],h=r[13],v=r[14],p=r[15],T=I*y-E*M,_=I*u-f*M,g=I*i-S*M,w=E*u-f*y,x=E*i-S*y,b=f*i-S*u,A=s*h-a*c,m=s*v-o*c,C=s*p-l*c,k=a*v-o*h,P=a*p-l*h,R=o*p-l*v,L=T*R-_*P+g*k+w*C-x*m+b*A;return L?(j[0]=(y*R-u*P+i*k)*(L=1/L),j[1]=(f*P-E*R-S*k)*L,j[2]=(h*b-v*x+p*w)*L,j[3]=(o*x-a*b-l*w)*L,j[4]=(u*C-M*R-i*m)*L,j[5]=(I*R-f*C+S*m)*L,j[6]=(v*g-c*b-p*_)*L,j[7]=(s*b-o*g+l*_)*L,j[8]=(M*P-y*C+i*A)*L,j[9]=(E*C-I*P-S*A)*L,j[10]=(c*x-h*g+p*T)*L,j[11]=(a*g-s*x-l*T)*L,j[12]=(y*m-M*k-u*A)*L,j[13]=(I*k-E*m+f*A)*L,j[14]=(h*_-c*w-v*T)*L,j[15]=(s*w-a*_+o*T)*L,j):null}},65551:function(oe,j,r){var I=r(71551);oe.exports=function(E,f,S,M){var y,u,i,s,a,o,l,c,h,v,p=f[0],T=f[1],_=f[2],g=M[0],w=M[1],x=M[2],b=S[0],A=S[1],m=S[2];return Math.abs(p-b)<1e-6&&Math.abs(T-A)<1e-6&&Math.abs(_-m)<1e-6?I(E):(l=p-b,c=T-A,h=_-m,y=w*(h*=v=1/Math.sqrt(l*l+c*c+h*h))-x*(c*=v),u=x*(l*=v)-g*h,i=g*c-w*l,(v=Math.sqrt(y*y+u*u+i*i))?(y*=v=1/v,u*=v,i*=v):(y=0,u=0,i=0),s=c*i-h*u,a=h*y-l*i,o=l*u-c*y,(v=Math.sqrt(s*s+a*a+o*o))?(s*=v=1/v,a*=v,o*=v):(s=0,a=0,o=0),E[0]=y,E[1]=s,E[2]=l,E[3]=0,E[4]=u,E[5]=a,E[6]=c,E[7]=0,E[8]=i,E[9]=o,E[10]=h,E[11]=0,E[12]=-(y*p+u*T+i*_),E[13]=-(s*p+a*T+o*_),E[14]=-(l*p+c*T+h*_),E[15]=1,E)}},91362:function(oe){oe.exports=function(j,r,I){var E=r[0],f=r[1],S=r[2],M=r[3],y=r[4],u=r[5],i=r[6],s=r[7],a=r[8],o=r[9],l=r[10],c=r[11],h=r[12],v=r[13],p=r[14],T=r[15],_=I[0],g=I[1],w=I[2],x=I[3];return j[0]=_*E+g*y+w*a+x*h,j[1]=_*f+g*u+w*o+x*v,j[2]=_*S+g*i+w*l+x*p,j[3]=_*M+g*s+w*c+x*T,j[4]=(_=I[4])*E+(g=I[5])*y+(w=I[6])*a+(x=I[7])*h,j[5]=_*f+g*u+w*o+x*v,j[6]=_*S+g*i+w*l+x*p,j[7]=_*M+g*s+w*c+x*T,j[8]=(_=I[8])*E+(g=I[9])*y+(w=I[10])*a+(x=I[11])*h,j[9]=_*f+g*u+w*o+x*v,j[10]=_*S+g*i+w*l+x*p,j[11]=_*M+g*s+w*c+x*T,j[12]=(_=I[12])*E+(g=I[13])*y+(w=I[14])*a+(x=I[15])*h,j[13]=_*f+g*u+w*o+x*v,j[14]=_*S+g*i+w*l+x*p,j[15]=_*M+g*s+w*c+x*T,j}},60378:function(oe){oe.exports=function(j,r,I,E,f,S,M){var y=1/(r-I),u=1/(E-f),i=1/(S-M);return j[0]=-2*y,j[1]=0,j[2]=0,j[3]=0,j[4]=0,j[5]=-2*u,j[6]=0,j[7]=0,j[8]=0,j[9]=0,j[10]=2*i,j[11]=0,j[12]=(r+I)*y,j[13]=(f+E)*u,j[14]=(M+S)*i,j[15]=1,j}},7864:function(oe){oe.exports=function(j,r,I,E,f){var S=1/Math.tan(r/2),M=1/(E-f);return j[0]=S/I,j[1]=0,j[2]=0,j[3]=0,j[4]=0,j[5]=S,j[6]=0,j[7]=0,j[8]=0,j[9]=0,j[10]=(f+E)*M,j[11]=-1,j[12]=0,j[13]=0,j[14]=2*f*E*M,j[15]=0,j}},35279:function(oe){oe.exports=function(j,r,I,E){var f=Math.tan(r.upDegrees*Math.PI/180),S=Math.tan(r.downDegrees*Math.PI/180),M=Math.tan(r.leftDegrees*Math.PI/180),y=Math.tan(r.rightDegrees*Math.PI/180),u=2/(M+y),i=2/(f+S);return j[0]=u,j[1]=0,j[2]=0,j[3]=0,j[4]=0,j[5]=i,j[6]=0,j[7]=0,j[8]=-(M-y)*u*.5,j[9]=(f-S)*i*.5,j[10]=E/(I-E),j[11]=-1,j[12]=0,j[13]=0,j[14]=E*I/(I-E),j[15]=0,j}},65074:function(oe){oe.exports=function(j,r,I,E){var f,S,M,y,u,i,s,a,o,l,c,h,v,p,T,_,g,w,x,b,A,m,C,k,P=E[0],R=E[1],L=E[2],N=Math.sqrt(P*P+R*R+L*L);return Math.abs(N)<1e-6?null:(P*=N=1/N,R*=N,L*=N,f=Math.sin(I),M=1-(S=Math.cos(I)),u=r[1],i=r[2],s=r[3],o=r[5],l=r[6],c=r[7],v=r[9],p=r[10],T=r[11],x=P*R*M-L*f,b=R*R*M+S,A=L*R*M+P*f,m=P*L*M+R*f,C=R*L*M-P*f,k=L*L*M+S,j[0]=(y=r[0])*(_=P*P*M+S)+(a=r[4])*(g=R*P*M+L*f)+(h=r[8])*(w=L*P*M-R*f),j[1]=u*_+o*g+v*w,j[2]=i*_+l*g+p*w,j[3]=s*_+c*g+T*w,j[4]=y*x+a*b+h*A,j[5]=u*x+o*b+v*A,j[6]=i*x+l*b+p*A,j[7]=s*x+c*b+T*A,j[8]=y*m+a*C+h*k,j[9]=u*m+o*C+v*k,j[10]=i*m+l*C+p*k,j[11]=s*m+c*C+T*k,r!==j&&(j[12]=r[12],j[13]=r[13],j[14]=r[14],j[15]=r[15]),j)}},35545:function(oe){oe.exports=function(j,r,I){var E=Math.sin(I),f=Math.cos(I),S=r[4],M=r[5],y=r[6],u=r[7],i=r[8],s=r[9],a=r[10],o=r[11];return r!==j&&(j[0]=r[0],j[1]=r[1],j[2]=r[2],j[3]=r[3],j[12]=r[12],j[13]=r[13],j[14]=r[14],j[15]=r[15]),j[4]=S*f+i*E,j[5]=M*f+s*E,j[6]=y*f+a*E,j[7]=u*f+o*E,j[8]=i*f-S*E,j[9]=s*f-M*E,j[10]=a*f-y*E,j[11]=o*f-u*E,j}},94918:function(oe){oe.exports=function(j,r,I){var E=Math.sin(I),f=Math.cos(I),S=r[0],M=r[1],y=r[2],u=r[3],i=r[8],s=r[9],a=r[10],o=r[11];return r!==j&&(j[4]=r[4],j[5]=r[5],j[6]=r[6],j[7]=r[7],j[12]=r[12],j[13]=r[13],j[14]=r[14],j[15]=r[15]),j[0]=S*f-i*E,j[1]=M*f-s*E,j[2]=y*f-a*E,j[3]=u*f-o*E,j[8]=S*E+i*f,j[9]=M*E+s*f,j[10]=y*E+a*f,j[11]=u*E+o*f,j}},15692:function(oe){oe.exports=function(j,r,I){var E=Math.sin(I),f=Math.cos(I),S=r[0],M=r[1],y=r[2],u=r[3],i=r[4],s=r[5],a=r[6],o=r[7];return r!==j&&(j[8]=r[8],j[9]=r[9],j[10]=r[10],j[11]=r[11],j[12]=r[12],j[13]=r[13],j[14]=r[14],j[15]=r[15]),j[0]=S*f+i*E,j[1]=M*f+s*E,j[2]=y*f+a*E,j[3]=u*f+o*E,j[4]=i*f-S*E,j[5]=s*f-M*E,j[6]=a*f-y*E,j[7]=o*f-u*E,j}},10789:function(oe){oe.exports=function(j,r,I){var E=I[0],f=I[1],S=I[2];return j[0]=r[0]*E,j[1]=r[1]*E,j[2]=r[2]*E,j[3]=r[3]*E,j[4]=r[4]*f,j[5]=r[5]*f,j[6]=r[6]*f,j[7]=r[7]*f,j[8]=r[8]*S,j[9]=r[9]*S,j[10]=r[10]*S,j[11]=r[11]*S,j[12]=r[12],j[13]=r[13],j[14]=r[14],j[15]=r[15],j}},6726:function(oe){oe.exports=function(j){return"mat4("+j[0]+", "+j[1]+", "+j[2]+", "+j[3]+", "+j[4]+", "+j[5]+", "+j[6]+", "+j[7]+", "+j[8]+", "+j[9]+", "+j[10]+", "+j[11]+", "+j[12]+", "+j[13]+", "+j[14]+", "+j[15]+")"}},31283:function(oe){oe.exports=function(j,r,I){var E,f,S,M,y,u,i,s,a,o,l,c,h=I[0],v=I[1],p=I[2];return r===j?(j[12]=r[0]*h+r[4]*v+r[8]*p+r[12],j[13]=r[1]*h+r[5]*v+r[9]*p+r[13],j[14]=r[2]*h+r[6]*v+r[10]*p+r[14],j[15]=r[3]*h+r[7]*v+r[11]*p+r[15]):(f=r[1],S=r[2],M=r[3],y=r[4],u=r[5],i=r[6],s=r[7],a=r[8],o=r[9],l=r[10],c=r[11],j[0]=E=r[0],j[1]=f,j[2]=S,j[3]=M,j[4]=y,j[5]=u,j[6]=i,j[7]=s,j[8]=a,j[9]=o,j[10]=l,j[11]=c,j[12]=E*h+y*v+a*p+r[12],j[13]=f*h+u*v+o*p+r[13],j[14]=S*h+i*v+l*p+r[14],j[15]=M*h+s*v+c*p+r[15]),j}},88654:function(oe){oe.exports=function(j,r){if(j===r){var I=r[1],E=r[2],f=r[3],S=r[6],M=r[7],y=r[11];j[1]=r[4],j[2]=r[8],j[3]=r[12],j[4]=I,j[6]=r[9],j[7]=r[13],j[8]=E,j[9]=S,j[11]=r[14],j[12]=f,j[13]=M,j[14]=y}else j[0]=r[0],j[1]=r[4],j[2]=r[8],j[3]=r[12],j[4]=r[1],j[5]=r[5],j[6]=r[9],j[7]=r[13],j[8]=r[2],j[9]=r[6],j[10]=r[10],j[11]=r[14],j[12]=r[3],j[13]=r[7],j[14]=r[11],j[15]=r[15];return j}},42505:function(oe,j,r){"use strict";var I=r(72791),E=r(71299),f=r(98580),S=r(12018),M=r(83522),y=r(25075),u=r(68016),i=r(58404),s=r(18863),a=r(10973),o=r(25677),l=r(75686),c=r(53545),h=r(56131),v=r(32879),p=r(30120),T=r(13547).nextPow2,_=new M,g=!1;if(document.body){var w=document.body.appendChild(document.createElement("div"));w.style.font="italic small-caps bold condensed 16px/2 cursive",getComputedStyle(w).fontStretch&&(g=!0),document.body.removeChild(w)}var x=function(b){var A;this.gl="function"==typeof(A=b)&&A._gl&&A.prop&&A.texture&&A.buffer?(b={regl:b}).regl._gl:S(b),this.shader=_.get(this.gl),this.regl=this.shader?this.shader.regl:b.regl||f({gl:this.gl}),this.charBuffer=this.regl.buffer({type:"uint8",usage:"stream"}),this.sizeBuffer=this.regl.buffer({type:"float",usage:"stream"}),this.shader||(this.shader=this.createShader(),_.set(this.gl,this.shader)),this.batch=[],this.fontSize=[],this.font=[],this.fontAtlas=[],this.draw=this.shader.draw.bind(this),this.render=function(){this.regl._refresh(),this.draw(this.batch)},this.canvas=this.gl.canvas,this.update(a(b)?b:{})};x.prototype.createShader=function(){var b=this.regl,A=b({blend:{enable:!0,color:[0,0,0,1],func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},stencil:{enable:!1},depth:{enable:!1},count:b.prop("count"),offset:b.prop("offset"),attributes:{charOffset:{offset:4,stride:8,buffer:b.this("sizeBuffer")},width:{offset:0,stride:8,buffer:b.this("sizeBuffer")},char:b.this("charBuffer"),position:b.this("position")},uniforms:{atlasSize:function(m,C){return[C.atlas.width,C.atlas.height]},atlasDim:function(m,C){return[C.atlas.cols,C.atlas.rows]},atlas:function(m,C){return C.atlas.texture},charStep:function(m,C){return C.atlas.step},em:function(m,C){return C.atlas.em},color:b.prop("color"),opacity:b.prop("opacity"),viewport:b.this("viewportArray"),scale:b.this("scale"),align:b.prop("align"),baseline:b.prop("baseline"),translate:b.this("translate"),positionOffset:b.prop("positionOffset")},primitive:"points",viewport:b.this("viewport"),vert:"\n\t\t\tprecision highp float;\n\t\t\tattribute float width, charOffset, char;\n\t\t\tattribute vec2 position;\n\t\t\tuniform float fontSize, charStep, em, align, baseline;\n\t\t\tuniform vec4 viewport;\n\t\t\tuniform vec4 color;\n\t\t\tuniform vec2 atlasSize, atlasDim, scale, translate, positionOffset;\n\t\t\tvarying vec2 charCoord, charId;\n\t\t\tvarying float charWidth;\n\t\t\tvarying vec4 fontColor;\n\t\t\tvoid main () {\n\t\t\t\tvec2 offset = floor(em * (vec2(align + charOffset, baseline)\n\t\t\t\t\t+ vec2(positionOffset.x, -positionOffset.y)))\n\t\t\t\t\t/ (viewport.zw * scale.xy);\n\n\t\t\t\tvec2 position = (position + translate) * scale;\n\t\t\t\tposition += offset * scale;\n\n\t\t\t\tcharCoord = position * viewport.zw + viewport.xy;\n\n\t\t\t\tgl_Position = vec4(position * 2. - 1., 0, 1);\n\n\t\t\t\tgl_PointSize = charStep;\n\n\t\t\t\tcharId.x = mod(char, atlasDim.x);\n\t\t\t\tcharId.y = floor(char / atlasDim.x);\n\n\t\t\t\tcharWidth = width * em;\n\n\t\t\t\tfontColor = color / 255.;\n\t\t\t}",frag:"\n\t\t\tprecision highp float;\n\t\t\tuniform float fontSize, charStep, opacity;\n\t\t\tuniform vec2 atlasSize;\n\t\t\tuniform vec4 viewport;\n\t\t\tuniform sampler2D atlas;\n\t\t\tvarying vec4 fontColor;\n\t\t\tvarying vec2 charCoord, charId;\n\t\t\tvarying float charWidth;\n\n\t\t\tfloat lightness(vec4 color) {\n\t\t\t\treturn color.r * 0.299 + color.g * 0.587 + color.b * 0.114;\n\t\t\t}\n\n\t\t\tvoid main () {\n\t\t\t\tvec2 uv = gl_FragCoord.xy - charCoord + charStep * .5;\n\t\t\t\tfloat halfCharStep = floor(charStep * .5 + .5);\n\n\t\t\t\t// invert y and shift by 1px (FF expecially needs that)\n\t\t\t\tuv.y = charStep - uv.y;\n\n\t\t\t\t// ignore points outside of character bounding box\n\t\t\t\tfloat halfCharWidth = ceil(charWidth * .5);\n\t\t\t\tif (floor(uv.x) > halfCharStep + halfCharWidth ||\n\t\t\t\t\tfloor(uv.x) < halfCharStep - halfCharWidth) return;\n\n\t\t\t\tuv += charId * charStep;\n\t\t\t\tuv = uv / atlasSize;\n\n\t\t\t\tvec4 color = fontColor;\n\t\t\t\tvec4 mask = texture2D(atlas, uv);\n\n\t\t\t\tfloat maskY = lightness(mask);\n\t\t\t\t// float colorY = lightness(color);\n\t\t\t\tcolor.a *= maskY;\n\t\t\t\tcolor.a *= opacity;\n\n\t\t\t\t// color.a += .1;\n\n\t\t\t\t// antialiasing, see yiq color space y-channel formula\n\t\t\t\t// color.rgb += (1. - color.rgb) * (1. - mask.rgb);\n\n\t\t\t\tgl_FragColor = color;\n\t\t\t}"});return{regl:b,draw:A,atlas:{}}},x.prototype.update=function(b){var A=this;if("string"==typeof b)b={text:b};else if(!b)return;null!=(b=E(b,{position:"position positions coord coords coordinates",font:"font fontFace fontface typeface cssFont css-font family fontFamily",fontSize:"fontSize fontsize size font-size",text:"text texts chars characters value values symbols",align:"align alignment textAlign textbaseline",baseline:"baseline textBaseline textbaseline",direction:"dir direction textDirection",color:"color colour fill fill-color fillColor textColor textcolor",kerning:"kerning kern",range:"range dataBox",viewport:"vp viewport viewBox viewbox viewPort",opacity:"opacity alpha transparency visible visibility opaque",offset:"offset positionOffset padding shift indent indentation"},!0)).opacity&&(this.opacity=Array.isArray(b.opacity)?b.opacity.map(function(ce){return parseFloat(ce)}):parseFloat(b.opacity)),null!=b.viewport&&(this.viewport=s(b.viewport),this.viewportArray=[this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height]),null==this.viewport&&(this.viewport={x:0,y:0,width:this.gl.drawingBufferWidth,height:this.gl.drawingBufferHeight},this.viewportArray=[this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height]),null!=b.kerning&&(this.kerning=b.kerning),null!=b.offset&&("number"==typeof b.offset&&(b.offset=[b.offset,0]),this.positionOffset=p(b.offset)),b.direction&&(this.direction=b.direction),b.range&&(this.range=b.range,this.scale=[1/(b.range[2]-b.range[0]),1/(b.range[3]-b.range[1])],this.translate=[-b.range[0],-b.range[1]]),b.scale&&(this.scale=b.scale),b.translate&&(this.translate=b.translate),this.scale||(this.scale=[1/this.viewport.width,1/this.viewport.height]),this.translate||(this.translate=[0,0]),this.font.length||b.font||(b.font=x.baseFontSize+"px sans-serif");var m,C=!1,k=!1;if(b.font&&(Array.isArray(b.font)?b.font:[b.font]).forEach(function(ce,Ae){if("string"==typeof ce)try{ce=I.parse(ce)}catch{ce=I.parse(x.baseFontSize+"px "+ce)}else ce=I.parse(I.stringify(ce));var Ne=I.stringify({size:x.baseFontSize,family:ce.family,stretch:g?ce.stretch:void 0,variant:ce.variant,weight:ce.weight,style:ce.style}),De=o(ce.size),Ue=Math.round(De[0]*l(De[1]));if(Ue!==A.fontSize[Ae]&&(k=!0,A.fontSize[Ae]=Ue),!(A.font[Ae]&&Ne==A.font[Ae].baseString||(C=!0,A.font[Ae]=x.fonts[Ne],A.font[Ae]))){var Ye=ce.family.join(", "),_e=[ce.style];ce.style!=ce.variant&&_e.push(ce.variant),ce.variant!=ce.weight&&_e.push(ce.weight),g&&ce.weight!=ce.stretch&&_e.push(ce.stretch),A.font[Ae]={baseString:Ne,family:Ye,weight:ce.weight,stretch:ce.stretch,style:ce.style,variant:ce.variant,width:{},kerning:{},metrics:v(Ye,{origin:"top",fontSize:x.baseFontSize,fontStyle:_e.join(" ")})},x.fonts[Ne]=A.font[Ae]}}),(C||k)&&this.font.forEach(function(ce,Ae){var Ne=I.stringify({size:A.fontSize[Ae],family:ce.family,stretch:g?ce.stretch:void 0,variant:ce.variant,weight:ce.weight,style:ce.style});A.fontAtlas[Ae]=A.shader.atlas[Ne],A.fontAtlas[Ae]||(A.shader.atlas[Ne]=A.fontAtlas[Ae]={fontString:Ne,step:2*Math.ceil(A.fontSize[Ae]*ce.metrics.bottom*.5),em:A.fontSize[Ae],cols:0,rows:0,height:0,width:0,chars:[],ids:{},texture:A.regl.texture()}),null==b.text&&(b.text=A.text)}),"string"==typeof b.text&&b.position&&b.position.length>2){for(var P=Array(.5*b.position.length),R=0;R<P.length;R++)P[R]=b.text;b.text=P}if(null!=b.text||C){if(this.textOffsets=[0],Array.isArray(b.text)){this.count=b.text[0].length,this.counts=[this.count];for(var L=1;L<b.text.length;L++)this.textOffsets[L]=this.textOffsets[L-1]+b.text[L-1].length,this.count+=b.text[L].length,this.counts.push(b.text[L].length);this.text=b.text.join("")}else this.text=b.text,this.count=this.text.length,this.counts=[this.count];m=[],this.font.forEach(function(ce,Ae){x.atlasContext.font=ce.baseString;for(var Ne=A.fontAtlas[Ae],De=0;De<A.text.length;De++){var Ue=A.text.charAt(De);if(null==Ne.ids[Ue]&&(Ne.ids[Ue]=Ne.chars.length,Ne.chars.push(Ue),m.push(Ue)),null==ce.width[Ue]&&(ce.width[Ue]=x.atlasContext.measureText(Ue).width/x.baseFontSize,A.kerning)){var Ye=[];for(var _e in ce.width)Ye.push(_e+Ue,Ue+_e);h(ce.kerning,c(ce.family,{pairs:Ye}))}}})}if(b.position)if(b.position.length>2){for(var N=!b.position[0].length,B=i.mallocFloat(2*this.count),J=0,z=0;J<this.counts.length;J++){var Y=this.counts[J];if(N)for(var q=0;q<Y;q++)B[z++]=b.position[2*J],B[z++]=b.position[2*J+1];else for(var U=0;U<Y;U++)B[z++]=b.position[J][0],B[z++]=b.position[J][1]}this.position.call?this.position({type:"float",data:B}):this.position=this.regl.buffer({type:"float",data:B}),i.freeFloat(B)}else this.position.destroy&&this.position.destroy(),this.position={constant:b.position};if(b.text||C){var Z=i.mallocUint8(this.count),X=i.mallocFloat(2*this.count);this.textWidth=[];for(var se=0,re=0;se<this.counts.length;se++){for(var ee=this.counts[se],K=this.font[se]||this.font[0],ne=this.fontAtlas[se]||this.fontAtlas[0],ae=0;ae<ee;ae++){var ue=this.text.charAt(re),he=this.text.charAt(re-1);if(Z[re]=ne.ids[ue],X[2*re]=K.width[ue],ae){var xe=X[2*re-1]+.5*X[2*re-2]+.5*X[2*re];if(this.kerning){var Se=K.kerning[he+ue];Se&&(xe+=.001*Se)}X[2*re+1]=xe}else X[2*re+1]=.5*X[2*re];re++}this.textWidth.push(X.length?.5*X[2*re-2]+X[2*re-1]:0)}b.align||(b.align=this.align),this.charBuffer({data:Z,type:"uint8",usage:"stream"}),this.sizeBuffer({data:X,type:"float",usage:"stream"}),i.freeUint8(Z),i.freeFloat(X),m.length&&this.font.forEach(function(ce,Ae){var Ne=A.fontAtlas[Ae],De=Ne.step,Ue=Math.floor(x.maxAtlasSize/De),Ye=Math.min(Ue,Ne.chars.length),_e=Math.ceil(Ne.chars.length/Ye),Pe=T(Ye*De),Ie=T(_e*De);Ne.width=Pe,Ne.height=Ie,Ne.rows=_e,Ne.cols=Ye,Ne.em&&Ne.texture({data:u({canvas:x.atlasCanvas,font:Ne.fontString,chars:Ne.chars,shape:[Pe,Ie],step:[De,De]})})})}if(b.align&&(this.align=b.align,this.alignOffset=this.textWidth.map(function(ce,Ae){var Ne=Array.isArray(A.align)?A.align.length>1?A.align[Ae]:A.align[0]:A.align;if("number"==typeof Ne)return Ne;switch(Ne){case"right":case"end":return-ce;case"center":case"centre":case"middle":return.5*-ce}return 0})),null==this.baseline&&null==b.baseline&&(b.baseline=0),null!=b.baseline&&(this.baseline=b.baseline,Array.isArray(this.baseline)||(this.baseline=[this.baseline]),this.baselineOffset=this.baseline.map(function(ce,Ae){var Ne=(A.font[Ae]||A.font[0]).metrics,De=0;return-1*((De+=.5*Ne.bottom)+("number"==typeof ce?ce-Ne.baseline:-Ne[ce]))})),null!=b.color)if(b.color||(b.color="transparent"),"string"!=typeof b.color&&isNaN(b.color)){var Te;if("number"==typeof b.color[0]&&b.color.length>this.counts.length){var ye=b.color.length;Te=i.mallocUint8(ye);for(var we=(b.color.subarray||b.color.slice).bind(b.color),ze=0;ze<ye;ze+=4)Te.set(y(we(ze,ze+4),"uint8"),ze)}else{var ke=b.color.length;Te=i.mallocUint8(4*ke);for(var Ee=0;Ee<ke;Ee++)Te.set(y(b.color[Ee]||0,"uint8"),4*Ee)}this.color=Te}else this.color=y(b.color,"uint8");if(b.position||b.text||b.color||b.baseline||b.align||b.font||b.offset||b.opacity)if(this.color.length>4||this.baselineOffset.length>1||this.align&&this.align.length>1||this.fontAtlas.length>1||this.positionOffset.length>2){var me=Math.max(.5*this.position.length||0,.25*this.color.length||0,this.baselineOffset.length||0,this.alignOffset.length||0,this.font.length||0,this.opacity.length||0,.5*this.positionOffset.length||0);this.batch=Array(me);for(var de=0;de<this.batch.length;de++)this.batch[de]={count:this.counts.length>1?this.counts[de]:this.counts[0],offset:this.textOffsets.length>1?this.textOffsets[de]:this.textOffsets[0],color:this.color?this.color.length<=4?this.color:this.color.subarray(4*de,4*de+4):[0,0,0,255],opacity:Array.isArray(this.opacity)?this.opacity[de]:this.opacity,baseline:null!=this.baselineOffset[de]?this.baselineOffset[de]:this.baselineOffset[0],align:this.align?null!=this.alignOffset[de]?this.alignOffset[de]:this.alignOffset[0]:0,atlas:this.fontAtlas[de]||this.fontAtlas[0],positionOffset:this.positionOffset.length>2?this.positionOffset.subarray(2*de,2*de+2):this.positionOffset}}else this.batch=this.count?[{count:this.count,offset:0,color:this.color||[0,0,0,255],opacity:Array.isArray(this.opacity)?this.opacity[0]:this.opacity,baseline:this.baselineOffset[0],align:this.alignOffset?this.alignOffset[0]:0,atlas:this.fontAtlas[0],positionOffset:this.positionOffset}]:[]},x.prototype.destroy=function(){},x.prototype.kerning=!0,x.prototype.position={constant:new Float32Array(2)},x.prototype.translate=null,x.prototype.scale=null,x.prototype.font=null,x.prototype.text="",x.prototype.positionOffset=[0,0],x.prototype.opacity=1,x.prototype.color=new Uint8Array([0,0,0,255]),x.prototype.alignOffset=[0,0],x.maxAtlasSize=1024,x.atlasCanvas=document.createElement("canvas"),x.atlasContext=x.atlasCanvas.getContext("2d",{alpha:!1}),x.baseFontSize=64,x.fonts={},oe.exports=x},12018:function(oe,j,r){"use strict";var I=r(71299);function E(M){if(M.container)if(M.container==document.body)document.body.style.width||(M.canvas.width=M.width||M.pixelRatio*r.g.innerWidth),document.body.style.height||(M.canvas.height=M.height||M.pixelRatio*r.g.innerHeight);else{var y=M.container.getBoundingClientRect();M.canvas.width=M.width||y.right-y.left,M.canvas.height=M.height||y.bottom-y.top}}function f(M){return"function"==typeof M.getContext&&"width"in M&&"height"in M}function S(){var M=document.createElement("canvas");return M.style.position="absolute",M.style.top=0,M.style.left=0,M}oe.exports=function(M){var y,i;if(M?"string"==typeof M&&(M={container:M}):M={},(M=f(M)||"string"==typeof(y=M).nodeName&&"function"==typeof y.appendChild&&"function"==typeof y.getBoundingClientRect?{container:M}:(i=M,"function"==typeof i.drawArrays||"function"==typeof i.drawElements?{gl:M}:I(M,{container:"container target element el canvas holder parent parentNode wrapper use ref root node",gl:"gl context webgl glContext",attrs:"attributes attrs contextAttributes",pixelRatio:"pixelRatio pxRatio px ratio pxratio pixelratio",width:"w width",height:"h height"},!0))).pixelRatio||(M.pixelRatio=r.g.pixelRatio||1),M.gl)return M.gl;if(M.canvas&&(M.container=M.canvas.parentNode),M.container){if("string"==typeof M.container){var u=document.querySelector(M.container);if(!u)throw Error("Element "+M.container+" is not found");M.container=u}f(M.container)?(M.canvas=M.container,M.container=M.canvas.parentNode):M.canvas||(M.canvas=S(),M.container.appendChild(M.canvas),E(M))}else if(!M.canvas){if(typeof document>"u")throw Error("Not DOM environment. Use headless-gl.");M.container=document.body||document.documentElement,M.canvas=S(),M.container.appendChild(M.canvas),E(M)}return M.gl||["webgl","experimental-webgl","webgl-experimental"].some(function(i){try{M.gl=M.canvas.getContext(i,M.attrs)}catch{}return M.gl}),M.gl}},56068:function(oe){oe.exports=function(j){"string"==typeof j&&(j=[j]);for(var r=[].slice.call(arguments,1),I=[],E=0;E<j.length-1;E++)I.push(j[E],r[E]||"");return I.push(j[E]),I.join("")}},40383:function(oe,j,r){"use strict";var I=r(68318)("%Object.getOwnPropertyDescriptor%",!0);if(I)try{I([],"length")}catch{I=null}oe.exports=I},57035:function(oe,j,r){"use strict";var I,E=r(54404);I="function"==typeof r.g.matchMedia?!r.g.matchMedia("(hover: none)").matches:E,oe.exports=I},38520:function(oe,j,r){"use strict";var I=r(54404);oe.exports=I&&function(){var E=!1;try{var f=Object.defineProperty({},"passive",{get:function(){E=!0}});window.addEventListener("test",null,f),window.removeEventListener("test",null,f)}catch{E=!1}return E}()},55622:function(oe,j,r){"use strict";var I=r(68318)("%Object.defineProperty%",!0),E=function(){if(I)try{return I({},"a",{value:1}),!0}catch{return!1}return!1};E.hasArrayLengthDefineBug=function(){if(!E())return null;try{return 1!==I([],"length",{value:1}).length}catch{return!0}},oe.exports=E},57877:function(oe,j,r){"use strict";var I=typeof Symbol<"u"&&Symbol,E=r(35638);oe.exports=function(){return"function"==typeof I&&"function"==typeof Symbol&&"symbol"==typeof I("foo")&&"symbol"==typeof Symbol("bar")&&E()}},35638:function(oe){"use strict";oe.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var j={},r=Symbol("test"),I=Object(r);if("string"==typeof r||"[object Symbol]"!==Object.prototype.toString.call(r)||"[object Symbol]"!==Object.prototype.toString.call(I))return!1;for(r in j[r]=42,j)return!1;if("function"==typeof Object.keys&&0!==Object.keys(j).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(j).length)return!1;var E=Object.getOwnPropertySymbols(j);if(1!==E.length||E[0]!==r||!Object.prototype.propertyIsEnumerable.call(j,r))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var f=Object.getOwnPropertyDescriptor(j,r);if(42!==f.value||!0!==f.enumerable)return!1}return!0}},84543:function(oe,j,r){"use strict";var I=r(35638);oe.exports=function(){return I()&&!!Symbol.toStringTag}},35065:function(oe,j,r){"use strict";var I=r(77575);oe.exports=I.call(Function.call,Object.prototype.hasOwnProperty)},95280:function(oe,j){j.read=function(r,I,E,f,S){var M,y,u=8*S-f-1,i=(1<<u)-1,s=i>>1,a=-7,o=E?S-1:0,l=E?-1:1,c=r[I+o];for(o+=l,M=c&(1<<-a)-1,c>>=-a,a+=u;a>0;M=256*M+r[I+o],o+=l,a-=8);for(y=M&(1<<-a)-1,M>>=-a,a+=f;a>0;y=256*y+r[I+o],o+=l,a-=8);if(0===M)M=1-s;else{if(M===i)return y?NaN:1/0*(c?-1:1);y+=Math.pow(2,f),M-=s}return(c?-1:1)*y*Math.pow(2,M-f)},j.write=function(r,I,E,f,S,M){var y,u,i,s=8*M-S-1,a=(1<<s)-1,o=a>>1,l=23===S?Math.pow(2,-24)-Math.pow(2,-77):0,c=f?0:M-1,h=f?1:-1,v=I<0||0===I&&1/I<0?1:0;for(I=Math.abs(I),isNaN(I)||I===1/0?(u=isNaN(I)?1:0,y=a):(y=Math.floor(Math.log(I)/Math.LN2),I*(i=Math.pow(2,-y))<1&&(y--,i*=2),(I+=y+o>=1?l/i:l*Math.pow(2,1-o))*i>=2&&(y++,i/=2),y+o>=a?(u=0,y=a):y+o>=1?(u=(I*i-1)*Math.pow(2,S),y+=o):(u=I*Math.pow(2,o-1)*Math.pow(2,S),y=0));S>=8;r[E+c]=255&u,c+=h,u/=256,S-=8);for(y=y<<S|u,s+=S;s>0;r[E+c]=255&y,c+=h,y/=256,s-=8);r[E+c-h]|=128*v}},42018:function(oe){oe.exports="function"==typeof Object.create?function(j,r){r&&(j.super_=r,j.prototype=Object.create(r.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}))}:function(j,r){if(r){j.super_=r;var I=function(){};I.prototype=r.prototype,j.prototype=new I,j.prototype.constructor=j}}},47216:function(oe,j,r){"use strict";var I=r(84543)(),E=r(6614)("Object.prototype.toString"),f=function(y){return!(I&&y&&"object"==typeof y&&Symbol.toStringTag in y)&&"[object Arguments]"===E(y)},S=function(y){return!!f(y)||null!==y&&"object"==typeof y&&"number"==typeof y.length&&y.length>=0&&"[object Array]"!==E(y)&&"[object Function]"===E(y.callee)},M=function(){return f(arguments)}();f.isLegacyArguments=S,oe.exports=M?f:S},54404:function(oe){oe.exports=!0},85395:function(oe){"use strict";var j,r,I=Function.prototype.toString,E="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof E&&"function"==typeof Object.defineProperty)try{j=Object.defineProperty({},"length",{get:function(){throw r}}),r={},E(function(){throw 42},null,j)}catch(o){o!==r&&(E=null)}else E=null;var f=/^\s*class\b/,S=function(o){try{var l=I.call(o);return f.test(l)}catch{return!1}},M=function(o){try{return!S(o)&&(I.call(o),!0)}catch{return!1}},y=Object.prototype.toString,u="function"==typeof Symbol&&!!Symbol.toStringTag,i=!(0 in[,]),s=function(){return!1};if("object"==typeof document){var a=document.all;y.call(a)===y.call(document.all)&&(s=function(o){if((i||!o)&&(void 0===o||"object"==typeof o))try{var l=y.call(o);return("[object HTMLAllCollection]"===l||"[object HTML document.all class]"===l||"[object HTMLCollection]"===l||"[object Object]"===l)&&null==o("")}catch{}return!1})}oe.exports=E?function(o){if(s(o))return!0;if(!o||"function"!=typeof o&&"object"!=typeof o)return!1;try{E(o,null,j)}catch(l){if(l!==r)return!1}return!S(o)&&M(o)}:function(o){if(s(o))return!0;if(!o||"function"!=typeof o&&"object"!=typeof o)return!1;if(u)return M(o);if(S(o))return!1;var l=y.call(o);return!("[object Function]"!==l&&"[object GeneratorFunction]"!==l&&!/^\[object HTML/.test(l))&&M(o)}},65481:function(oe,j,r){"use strict";var I,E=Object.prototype.toString,f=Function.prototype.toString,S=/^\s*(?:function)?\*/,M=r(84543)(),y=Object.getPrototypeOf;oe.exports=function(u){if("function"!=typeof u)return!1;if(S.test(f.call(u)))return!0;if(!M)return"[object GeneratorFunction]"===E.call(u);if(!y)return!1;if(void 0===I){var i=function(){if(!M)return!1;try{return Function("return function*() {}")()}catch{}}();I=!!i&&y(i)}return y(u)===I}},62683:function(oe){"use strict";oe.exports=typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion))},64274:function(oe){"use strict";oe.exports=function(j){return j!=j}},15567:function(oe,j,r){"use strict";var I=r(68222),E=r(17045),f=r(64274),S=r(14922),M=r(22442),y=I(S(),Number);E(y,{getPolyfill:S,implementation:f,shim:M}),oe.exports=y},14922:function(oe,j,r){"use strict";var I=r(64274);oe.exports=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:I}},22442:function(oe,j,r){"use strict";var I=r(17045),E=r(14922);oe.exports=function(){var f=E();return I(Number,{isNaN:f},{isNaN:function(){return Number.isNaN!==f}}),f}},64941:function(oe){"use strict";oe.exports=function(j){var r=typeof j;return null!==j&&("object"===r||"function"===r)}},10973:function(oe){"use strict";var j=Object.prototype.toString;oe.exports=function(r){var I;return"[object Object]"===j.call(r)&&(null===(I=Object.getPrototypeOf(r))||I===Object.getPrototypeOf({}))}},18546:function(oe){"use strict";oe.exports=function(j){for(var r,I=j.length,E=0;E<I;E++)if(((r=j.charCodeAt(E))<9||r>13)&&32!==r&&133!==r&&160!==r&&5760!==r&&6158!==r&&(r<8192||r>8205)&&8232!==r&&8233!==r&&8239!==r&&8287!==r&&8288!==r&&12288!==r&&65279!==r)return!1;return!0}},89546:function(oe){"use strict";oe.exports=function(j){return"string"==typeof j&&(j=j.trim(),!!(/^[mzlhvcsqta]\s*[-+.0-9][^mlhvzcsqta]+/i.test(j)&&/[\dz]$/i.test(j)&&j.length>4))}},9187:function(oe,j,r){"use strict";var I=r(31353),E=r(72077),f=r(6614),S=f("Object.prototype.toString"),M=r(84543)(),y=r(40383),u=typeof globalThis>"u"?r.g:globalThis,i=E(),s=f("Array.prototype.indexOf",!0)||function(c,h){for(var v=0;v<c.length;v+=1)if(c[v]===h)return v;return-1},a=f("String.prototype.slice"),o={},l=Object.getPrototypeOf;M&&y&&l&&I(i,function(c){var h=new u[c];if(Symbol.toStringTag in h){var v=l(h),p=y(v,Symbol.toStringTag);if(!p){var T=l(v);p=y(T,Symbol.toStringTag)}o[c]=p.get}}),oe.exports=function(c){if(!c||"object"!=typeof c)return!1;if(!M||!(Symbol.toStringTag in c)){var h=a(S(c),8,-1);return s(i,h)>-1}return!!y&&(v=c,p=!1,I(o,function(T,_){if(!p)try{p=T.call(v)===_}catch{}}),p);var v,p}},44517:function(oe){oe.exports=function(){"use strict";var j,r,I;function E(f,S){if(j)if(r){var M="var sharedChunk = {}; ("+j+")(sharedChunk); ("+r+")(sharedChunk);",y={};j(y),(I=S(y)).workerUrl=window.URL.createObjectURL(new Blob([M],{type:"text/javascript"}))}else r=S;else j=S}return E(0,function(f){function S(D,F){return D(F={exports:{}},F.exports),F.exports}var M="1.10.1",y=u;function u(D,F,Q,ve){this.cx=3*D,this.bx=3*(Q-D)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*F,this.by=3*(ve-F)-this.cy,this.ay=1-this.cy-this.by,this.p1x=D,this.p1y=ve,this.p2x=Q,this.p2y=ve}u.prototype.sampleCurveX=function(D){return((this.ax*D+this.bx)*D+this.cx)*D},u.prototype.sampleCurveY=function(D){return((this.ay*D+this.by)*D+this.cy)*D},u.prototype.sampleCurveDerivativeX=function(D){return(3*this.ax*D+2*this.bx)*D+this.cx},u.prototype.solveCurveX=function(D,F){var Q,ve,Le,je,Ze;for(void 0===F&&(F=1e-6),Le=D,Ze=0;Ze<8;Ze++){if(je=this.sampleCurveX(Le)-D,Math.abs(je)<F)return Le;var at=this.sampleCurveDerivativeX(Le);if(Math.abs(at)<1e-6)break;Le-=je/at}if((Le=D)<(Q=0))return Q;if(Le>(ve=1))return ve;for(;Q<ve;){if(je=this.sampleCurveX(Le),Math.abs(je-D)<F)return Le;D>je?Q=Le:ve=Le,Le=.5*(ve-Q)+Q}return Le},u.prototype.solve=function(D,F){return this.sampleCurveY(this.solveCurveX(D,F))};var i=s;function s(D,F){this.x=D,this.y=F}function a(D,F,Q,ve){var Le=new y(D,F,Q,ve);return function(je){return Le.solve(je)}}s.prototype={clone:function(){return new s(this.x,this.y)},add:function(D){return this.clone()._add(D)},sub:function(D){return this.clone()._sub(D)},multByPoint:function(D){return this.clone()._multByPoint(D)},divByPoint:function(D){return this.clone()._divByPoint(D)},mult:function(D){return this.clone()._mult(D)},div:function(D){return this.clone()._div(D)},rotate:function(D){return this.clone()._rotate(D)},rotateAround:function(D,F){return this.clone()._rotateAround(D,F)},matMult:function(D){return this.clone()._matMult(D)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(D){return this.x===D.x&&this.y===D.y},dist:function(D){return Math.sqrt(this.distSqr(D))},distSqr:function(D){var F=D.x-this.x,Q=D.y-this.y;return F*F+Q*Q},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(D){return Math.atan2(this.y-D.y,this.x-D.x)},angleWith:function(D){return this.angleWithSep(D.x,D.y)},angleWithSep:function(D,F){return Math.atan2(this.x*F-this.y*D,this.x*D+this.y*F)},_matMult:function(D){var Q=D[2]*this.x+D[3]*this.y;return this.x=D[0]*this.x+D[1]*this.y,this.y=Q,this},_add:function(D){return this.x+=D.x,this.y+=D.y,this},_sub:function(D){return this.x-=D.x,this.y-=D.y,this},_mult:function(D){return this.x*=D,this.y*=D,this},_div:function(D){return this.x/=D,this.y/=D,this},_multByPoint:function(D){return this.x*=D.x,this.y*=D.y,this},_divByPoint:function(D){return this.x/=D.x,this.y/=D.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var D=this.y;return this.y=this.x,this.x=-D,this},_rotate:function(D){var F=Math.cos(D),Q=Math.sin(D),Le=Q*this.x+F*this.y;return this.x=F*this.x-Q*this.y,this.y=Le,this},_rotateAround:function(D,F){var Q=Math.cos(D),ve=Math.sin(D),je=F.y+ve*(this.x-F.x)+Q*(this.y-F.y);return this.x=F.x+Q*(this.x-F.x)-ve*(this.y-F.y),this.y=je,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},s.convert=function(D){return D instanceof s?D:Array.isArray(D)?new s(D[0],D[1]):D};var o=a(.25,.1,.25,1);function l(D,F,Q){return Math.min(Q,Math.max(F,D))}function c(D,F,Q){var ve=Q-F,Le=((D-F)%ve+ve)%ve+F;return Le===F?Q:Le}function h(D){for(var F=[],Q=arguments.length-1;Q-- >0;)F[Q]=arguments[Q+1];for(var ve=0,Le=F;ve<Le.length;ve+=1){var je=Le[ve];for(var Ze in je)D[Ze]=je[Ze]}return D}var v=1;function p(){return v++}function T(){return function D(F){return F?(F^16*Math.random()>>F/4).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,D)}()}function _(D){return!!D&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(D)}function g(D,F){D.forEach(function(Q){F[Q]&&(F[Q]=F[Q].bind(F))})}function w(D,F){return-1!==D.indexOf(F,D.length-F.length)}function x(D,F,Q){var ve={};for(var Le in D)ve[Le]=F.call(Q||this,D[Le],Le,D);return ve}function b(D,F,Q){var ve={};for(var Le in D)F.call(Q||this,D[Le],Le,D)&&(ve[Le]=D[Le]);return ve}function A(D){return Array.isArray(D)?D.map(A):"object"==typeof D&&D?x(D,A):D}var m={};function C(D){m[D]||(typeof console<"u"&&console.warn(D),m[D]=!0)}function k(D,F,Q){return(Q.y-D.y)*(F.x-D.x)>(F.y-D.y)*(Q.x-D.x)}function P(D){for(var F=0,Q=0,ve=D.length,Le=ve-1,je=void 0,Ze=void 0;Q<ve;Le=Q++)F+=((Ze=D[Le]).x-(je=D[Q]).x)*(je.y+Ze.y);return F}function R(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function L(D){var F={};if(D.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,function(ve,Le,je,Ze){var at=je||Ze;return F[Le]=!at||at.toLowerCase(),""}),F["max-age"]){var Q=parseInt(F["max-age"],10);isNaN(Q)?delete F["max-age"]:F["max-age"]=Q}return F}var N=null;function B(D){if(null==N){var F=D.navigator?D.navigator.userAgent:null;N=!!D.safari||!(!F||!(/\b(iPad|iPhone|iPod)\b/.test(F)||F.match("Safari")&&!F.match("Chrome")))}return N}function J(D){try{var F=self[D];return F.setItem("_mapbox_test_",1),F.removeItem("_mapbox_test_"),!0}catch{return!1}}var z,Y,q,U,Z=self.performance&&self.performance.now?self.performance.now.bind(self.performance):Date.now.bind(Date),X=self.requestAnimationFrame||self.mozRequestAnimationFrame||self.webkitRequestAnimationFrame||self.msRequestAnimationFrame,se=self.cancelAnimationFrame||self.mozCancelAnimationFrame||self.webkitCancelAnimationFrame||self.msCancelAnimationFrame,re={now:Z,frame:function(D){var F=X(D);return{cancel:function(){return se(F)}}},getImageData:function(D,F){void 0===F&&(F=0);var Q=self.document.createElement("canvas"),ve=Q.getContext("2d");if(!ve)throw new Error("failed to create canvas 2d context");return Q.width=D.width,Q.height=D.height,ve.drawImage(D,0,0,D.width,D.height),ve.getImageData(-F,-F,D.width+2*F,D.height+2*F)},resolveURL:function(D){return z||(z=self.document.createElement("a")),z.href=D,z.href},hardwareConcurrency:self.navigator.hardwareConcurrency||4,get devicePixelRatio(){return self.devicePixelRatio},get prefersReducedMotion(){return!!self.matchMedia&&(null==Y&&(Y=self.matchMedia("(prefers-reduced-motion: reduce)")),Y.matches)}},ee={API_URL:"https://api.mapbox.com",get EVENTS_URL(){return this.API_URL?0===this.API_URL.indexOf("https://api.mapbox.cn")?"https://events.mapbox.cn/events/v2":0===this.API_URL.indexOf("https://api.mapbox.com")?"https://events.mapbox.com/events/v2":null:null},FEEDBACK_URL:"https://apps.mapbox.com/feedback",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},K={supported:!1,testSupport:function(D){!ne&&U&&(ae?ue(D):q=D)}},ne=!1,ae=!1;function ue(D){var F=D.createTexture();D.bindTexture(D.TEXTURE_2D,F);try{if(D.texImage2D(D.TEXTURE_2D,0,D.RGBA,D.RGBA,D.UNSIGNED_BYTE,U),D.isContextLost())return;K.supported=!0}catch{}D.deleteTexture(F),ne=!0}self.document&&((U=self.document.createElement("img")).onload=function(){q&&ue(q),q=null,ae=!0},U.onerror=function(){ne=!0,q=null},U.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");var he="01",pe=function(D,F){this._transformRequestFn=D,this._customAccessToken=F,this._createSkuToken()};function ge(D){return 0===D.indexOf("mapbox:")}pe.prototype._createSkuToken=function(){var D=function(){for(var F="",Q=0;Q<10;Q++)F+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",he,F].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=D.token,this._skuTokenExpiresAt=D.tokenExpiresAt},pe.prototype._isSkuTokenExpired=function(){return Date.now()>this._skuTokenExpiresAt},pe.prototype.transformRequest=function(D,F){return this._transformRequestFn&&this._transformRequestFn(D,F)||{url:D}},pe.prototype.normalizeStyleURL=function(D,F){if(!ge(D))return D;var Q=ye(D);return Q.path="/styles/v1"+Q.path,this._makeAPIURL(Q,this._customAccessToken||F)},pe.prototype.normalizeGlyphsURL=function(D,F){if(!ge(D))return D;var Q=ye(D);return Q.path="/fonts/v1"+Q.path,this._makeAPIURL(Q,this._customAccessToken||F)},pe.prototype.normalizeSourceURL=function(D,F){if(!ge(D))return D;var Q=ye(D);return Q.path="/v4/"+Q.authority+".json",Q.params.push("secure"),this._makeAPIURL(Q,this._customAccessToken||F)},pe.prototype.normalizeSpriteURL=function(D,F,Q,ve){var Le=ye(D);return ge(D)?(Le.path="/styles/v1"+Le.path+"/sprite"+F+Q,this._makeAPIURL(Le,this._customAccessToken||ve)):(Le.path+=""+F+Q,we(Le))},pe.prototype.normalizeTileURL=function(D,F){if(this._isSkuTokenExpired()&&this._createSkuToken(),D&&!ge(D))return D;var Q=ye(D);Q.path=Q.path.replace(/(\.(png|jpg)\d*)(?=$)/,(re.devicePixelRatio>=2||512===F?"@2x":"")+(K.supported?".webp":"$1")),Q.path=Q.path.replace(/^.+\/v4\//,"/"),Q.path="/v4"+Q.path;var je=this._customAccessToken||function(Ze){for(var at=0,pt=Ze;at<pt.length;at+=1){var Ct=pt[at].match(/^access_token=(.*)$/);if(Ct)return Ct[1]}return null}(Q.params)||ee.ACCESS_TOKEN;return ee.REQUIRE_ACCESS_TOKEN&&je&&this._skuToken&&Q.params.push("sku="+this._skuToken),this._makeAPIURL(Q,je)},pe.prototype.canonicalizeTileURL=function(D,F){var Q=ye(D);if(!Q.path.match(/(^\/v4\/)/)||!Q.path.match(/\.[\w]+$/))return D;var ve="mapbox://tiles/";ve+=Q.path.replace("/v4/","");var Le=Q.params;return F&&(Le=Le.filter(function(je){return!je.match(/^access_token=/)})),Le.length&&(ve+="?"+Le.join("&")),ve},pe.prototype.canonicalizeTileset=function(D,F){for(var Q=!!F&&ge(F),ve=[],Le=0,je=D.tiles||[];Le<je.length;Le+=1){var Ze=je[Le];Se(Ze)?ve.push(this.canonicalizeTileURL(Ze,Q)):ve.push(Ze)}return ve},pe.prototype._makeAPIURL=function(D,F){var Q="See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes",ve=ye(ee.API_URL);if(D.protocol=ve.protocol,D.authority=ve.authority,"/"!==ve.path&&(D.path=""+ve.path+D.path),!ee.REQUIRE_ACCESS_TOKEN)return we(D);if(!(F=F||ee.ACCESS_TOKEN))throw new Error("An API access token is required to use Mapbox GL. "+Q);if("s"===F[0])throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+Q);return D.params=D.params.filter(function(Le){return-1===Le.indexOf("access_token")}),D.params.push("access_token="+F),we(D)};var xe=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;function Se(D){return xe.test(D)}var Te=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function ye(D){var F=D.match(Te);if(!F)throw new Error("Unable to parse URL object");return{protocol:F[1],authority:F[2],path:F[3]||"/",params:F[4]?F[4].split("&"):[]}}function we(D){var F=D.params.length?"?"+D.params.join("&"):"";return D.protocol+"://"+D.authority+D.path+F}var ze="mapbox.eventData";function ke(D){if(!D)return null;var Q=D.split(".");if(!Q||3!==Q.length)return null;try{return JSON.parse(decodeURIComponent(self.atob(Q[1]).split("").map(function(ve){return"%"+("00"+ve.charCodeAt(0).toString(16)).slice(-2)}).join("")))}catch{return null}}var Ee=function(D){this.type=D,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null};Ee.prototype.getStorageKey=function(D){var F,ve=ke(ee.ACCESS_TOKEN);return F=ve&&ve.u?self.btoa(encodeURIComponent(ve.u).replace(/%([0-9A-F]{2})/g,function(Le,je){return String.fromCharCode(+("0x"+je))})):ee.ACCESS_TOKEN||"",D?ze+"."+D+":"+F:ze+":"+F},Ee.prototype.fetchEventData=function(){var D=J("localStorage"),F=this.getStorageKey(),Q=this.getStorageKey("uuid");if(D)try{var ve=self.localStorage.getItem(F);ve&&(this.eventData=JSON.parse(ve));var Le=self.localStorage.getItem(Q);Le&&(this.anonId=Le)}catch{C("Unable to read from LocalStorage")}},Ee.prototype.saveEventData=function(){var D=J("localStorage"),F=this.getStorageKey(),Q=this.getStorageKey("uuid");if(D)try{self.localStorage.setItem(Q,this.anonId),Object.keys(this.eventData).length>=1&&self.localStorage.setItem(F,JSON.stringify(this.eventData))}catch{C("Unable to write to LocalStorage")}},Ee.prototype.processRequests=function(D){},Ee.prototype.postEvent=function(D,F,Q,ve){var Le=this;if(ee.EVENTS_URL){var je=ye(ee.EVENTS_URL);je.params.push("access_token="+(ve||ee.ACCESS_TOKEN||""));var Ze={event:this.type,created:new Date(D).toISOString(),sdkIdentifier:"mapbox-gl-js",sdkVersion:M,skuId:he,userId:this.anonId},at=F?h(Ze,F):Ze,pt={url:we(je),headers:{"Content-Type":"text/plain"},body:JSON.stringify([at])};this.pendingRequest=Rt(pt,function(Ct){Le.pendingRequest=null,Q(Ct),Le.saveEventData(),Le.processRequests(ve)})}},Ee.prototype.queueRequest=function(D,F){this.queue.push(D),this.processRequests(F)};var me,de,ce=function(D){function F(){D.call(this,"map.load"),this.success={},this.skuToken=""}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype.postMapLoadEvent=function(Q,ve,Le,je){this.skuToken=Le,(ee.EVENTS_URL&&je||ee.ACCESS_TOKEN&&Array.isArray(Q)&&Q.some(function(Ze){return ge(Ze)||Se(Ze)}))&&this.queueRequest({id:ve,timestamp:Date.now()},je)},F.prototype.processRequests=function(Q){var ve=this;if(!this.pendingRequest&&0!==this.queue.length){var Le=this.queue.shift(),je=Le.id,Ze=Le.timestamp;je&&this.success[je]||(this.anonId||this.fetchEventData(),_(this.anonId)||(this.anonId=T()),this.postEvent(Ze,{skuToken:this.skuToken},function(at){at||je&&(ve.success[je]=!0)},Q))}},F}(Ee),Ae=function(D){function F(Q){D.call(this,"appUserTurnstile"),this._customAccessToken=Q}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype.postTurnstileEvent=function(Q,ve){ee.EVENTS_URL&&ee.ACCESS_TOKEN&&Array.isArray(Q)&&Q.some(function(Le){return ge(Le)||Se(Le)})&&this.queueRequest(Date.now(),ve)},F.prototype.processRequests=function(Q){var ve=this;if(!this.pendingRequest&&0!==this.queue.length){this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();var Le=ke(ee.ACCESS_TOKEN),je=Le?Le.u:ee.ACCESS_TOKEN,Ze=je!==this.eventData.tokenU;_(this.anonId)||(this.anonId=T(),Ze=!0);var at=this.queue.shift();if(this.eventData.lastSuccess){var pt=new Date(this.eventData.lastSuccess),Ct=new Date(at),Ot=(at-this.eventData.lastSuccess)/864e5;Ze=Ze||Ot>=1||Ot<-1||pt.getDate()!==Ct.getDate()}else Ze=!0;if(!Ze)return this.processRequests();this.postEvent(at,{"enabled.telemetry":!1},function(Gt){Gt||(ve.eventData.lastSuccess=at,ve.eventData.tokenU=je)},Q)}},F}(Ee),Ne=new Ae,De=Ne.postTurnstileEvent.bind(Ne),Ue=new ce,Ye=Ue.postMapLoadEvent.bind(Ue),_e="mapbox-tiles",Pe=500,Ie=50,Be=42e4;function We(){self.caches&&!me&&(me=self.caches.open(_e))}function Ke(D){var F=D.indexOf("?");return F<0?D:D.slice(0,F)}var st,gt=1/0;function ct(){return null==st&&(st=self.OffscreenCanvas&&new self.OffscreenCanvas(1,1).getContext("2d")&&"function"==typeof self.createImageBitmap),st}var kt={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};"function"==typeof Object.freeze&&Object.freeze(kt);var Dt=function(D){function F(Q,ve,Le){401===ve&&Se(Le)&&(Q+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"),D.call(this,Q),this.status=ve,this.url=Le,this.name=this.constructor.name,this.message=Q}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype.toString=function(){return this.name+": "+this.message+" ("+this.status+"): "+this.url},F}(Error),vt=R()?function(){return self.worker&&self.worker.referrer}:function(){return("blob:"===self.location.protocol?self.parent:self).location.href};function mt(D,F){var Q,ve=new self.AbortController,Le=new self.Request(D.url,{method:D.method||"GET",body:D.body,credentials:D.credentials,headers:D.headers,referrer:vt(),signal:ve.signal}),je=!1,Ze=!1,at=(Q=Le.url).indexOf("sku=")>0&&Se(Q);"json"===D.type&&Le.headers.set("Accept","application/json");var pt=function(Ot,Gt,Kt){if(!Ze){if(Ot&&"SecurityError"!==Ot.message&&C(Ot),Gt&&Kt)return Ct(Gt);var $t=Date.now();self.fetch(Le).then(function(gn){if(gn.ok){var xn=at?gn.clone():null;return Ct(gn,xn,$t)}return F(new Dt(gn.statusText,gn.status,D.url))}).catch(function(gn){20!==gn.code&&F(new Error(gn.message))})}},Ct=function(Ot,Gt,Kt){("arrayBuffer"===D.type?Ot.arrayBuffer():"json"===D.type?Ot.json():Ot.text()).then(function($t){Ze||(Gt&&Kt&&function Ge(D,F,Q){if(We(),me){var ve={status:F.status,statusText:F.statusText,headers:new self.Headers};F.headers.forEach(function(je,Ze){return ve.headers.set(Ze,je)});var Le=L(F.headers.get("Cache-Control")||"");Le["no-store"]||(Le["max-age"]&&ve.headers.set("Expires",new Date(Q+1e3*Le["max-age"]).toUTCString()),new Date(ve.headers.get("Expires")).getTime()-Q<Be||function(je,Ze){if(void 0===de)try{new Response(new ReadableStream),de=!0}catch{de=!1}de?Ze(je.body):je.blob().then(Ze)}(F,function(je){var Ze=new self.Response(je,ve);We(),me&&me.then(function(at){return at.put(Ke(D.url),Ze)}).catch(function(at){return C(at.message)})}))}}(Le,Gt,Kt),je=!0,F(null,$t,Ot.headers.get("Cache-Control"),Ot.headers.get("Expires")))}).catch(function($t){Ze||F(new Error($t.message))})};return at?function tt(D,F){if(We(),!me)return F(null);var Q=Ke(D.url);me.then(function(ve){ve.match(Q).then(function(Le){var je=function(Ze){if(!Ze)return!1;var at=new Date(Ze.headers.get("Expires")||0),pt=L(Ze.headers.get("Cache-Control")||"");return at>Date.now()&&!pt["no-cache"]}(Le);ve.delete(Q),je&&ve.put(Q,Le.clone()),F(null,Le,je)}).catch(F)}).catch(F)}(Le,pt):pt(null,null),{cancel:function(){Ze=!0,je||ve.abort()}}}var Ut,Bt,Et=function(D,F){if(!(/^file:/.test(Q=D.url)||/^file:/.test(vt())&&!/^\w+:/.test(Q))){if(self.fetch&&self.Request&&self.AbortController&&self.Request.prototype.hasOwnProperty("signal"))return mt(D,F);if(R()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",D,F,void 0,!0)}var Q;return function(ve,Le){var je=new self.XMLHttpRequest;for(var Ze in je.open(ve.method||"GET",ve.url,!0),"arrayBuffer"===ve.type&&(je.responseType="arraybuffer"),ve.headers)je.setRequestHeader(Ze,ve.headers[Ze]);return"json"===ve.type&&(je.responseType="text",je.setRequestHeader("Accept","application/json")),je.withCredentials="include"===ve.credentials,je.onerror=function(){Le(new Error(je.statusText))},je.onload=function(){if((je.status>=200&&je.status<300||0===je.status)&&null!==je.response){var at=je.response;if("json"===ve.type)try{at=JSON.parse(je.response)}catch(pt){return Le(pt)}Le(null,at,je.getResponseHeader("Cache-Control"),je.getResponseHeader("Expires"))}else Le(new Dt(je.statusText,je.status,ve.url))},je.send(ve.body),{cancel:function(){return je.abort()}}}(D,F)},Lt=function(D,F){return Et(h(D,{type:"arrayBuffer"}),F)},Rt=function(D,F){return Et(h(D,{method:"POST"}),F)};Ut=[],Bt=0;var rt=function(D,F){if(K.supported&&(D.headers||(D.headers={}),D.headers.accept="image/webp,*/*"),Bt>=ee.MAX_PARALLEL_IMAGE_REQUESTS){var Q={requestParameters:D,callback:F,cancelled:!1,cancel:function(){this.cancelled=!0}};return Ut.push(Q),Q}Bt++;var ve=!1,Le=function(){if(!ve)for(ve=!0,Bt--;Ut.length&&Bt<ee.MAX_PARALLEL_IMAGE_REQUESTS;){var Ze=Ut.shift();Ze.cancelled||(Ze.cancel=rt(Ze.requestParameters,Ze.callback).cancel)}},je=Lt(D,function(Ze,at,pt,Ct){var Gt,Kt;Le(),Ze?F(Ze):at&&(ct()?(Gt=F,Kt=new self.Blob([new Uint8Array(at)],{type:"image/png"}),self.createImageBitmap(Kt).then(function($t){Gt(null,$t)}).catch(function($t){Gt(new Error("Could not load image because of "+$t.message+". Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))})):function(Ot,Gt,Kt,$t){var gn=new self.Image,xn=self.URL;gn.onload=function(){Gt(null,gn),xn.revokeObjectURL(gn.src)},gn.onerror=function(){return Gt(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))};var Fn=new self.Blob([new Uint8Array(Ot)],{type:"image/png"});gn.cacheControl=Kt,gn.expires=$t,gn.src=Ot.byteLength?xn.createObjectURL(Fn):"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII="}(at,F,pt,Ct))});return{cancel:function(){je.cancel(),Le()}}};function ot(D,F,Q){Q[D]&&-1!==Q[D].indexOf(F)||(Q[D]=Q[D]||[],Q[D].push(F))}function Je(D,F,Q){if(Q&&Q[D]){var ve=Q[D].indexOf(F);-1!==ve&&Q[D].splice(ve,1)}}var it=function(D,F){void 0===F&&(F={}),h(this,F),this.type=D},dt=function(D){function F(Q,ve){void 0===ve&&(ve={}),D.call(this,"error",h({error:Q},ve))}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F}(it),ht=function(){};ht.prototype.on=function(D,F){return this._listeners=this._listeners||{},ot(D,F,this._listeners),this},ht.prototype.off=function(D,F){return Je(D,F,this._listeners),Je(D,F,this._oneTimeListeners),this},ht.prototype.once=function(D,F){return this._oneTimeListeners=this._oneTimeListeners||{},ot(D,F,this._oneTimeListeners),this},ht.prototype.fire=function(D,F){"string"==typeof D&&(D=new it(D,F||{}));var Q=D.type;if(this.listens(Q)){D.target=this;for(var ve=0,Le=this._listeners&&this._listeners[Q]?this._listeners[Q].slice():[];ve<Le.length;ve+=1)Le[ve].call(this,D);for(var je=0,Ze=this._oneTimeListeners&&this._oneTimeListeners[Q]?this._oneTimeListeners[Q].slice():[];je<Ze.length;je+=1){var at=Ze[je];Je(Q,at,this._oneTimeListeners),at.call(this,D)}var pt=this._eventedParent;pt&&(h(D,"function"==typeof this._eventedParentData?this._eventedParentData():this._eventedParentData),pt.fire(D))}else D instanceof dt&&console.error(D.error);return this},ht.prototype.listens=function(D){return this._listeners&&this._listeners[D]&&this._listeners[D].length>0||this._oneTimeListeners&&this._oneTimeListeners[D]&&this._oneTimeListeners[D].length>0||this._eventedParent&&this._eventedParent.listens(D)},ht.prototype.setEventedParent=function(D,F){return this._eventedParent=D,this._eventedParentData=F,this};var Ve={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},expression_name:{type:"enum",values:{let:{group:"Variable binding"},var:{group:"Variable binding"},literal:{group:"Types"},array:{group:"Types"},at:{group:"Lookup"},in:{group:"Lookup"},"index-of":{group:"Lookup"},slice:{group:"Lookup"},case:{group:"Decision"},match:{group:"Decision"},coalesce:{group:"Decision"},step:{group:"Ramps, scales, curves"},interpolate:{group:"Ramps, scales, curves"},"interpolate-hcl":{group:"Ramps, scales, curves"},"interpolate-lab":{group:"Ramps, scales, curves"},ln2:{group:"Math"},pi:{group:"Math"},e:{group:"Math"},typeof:{group:"Types"},string:{group:"Types"},number:{group:"Types"},boolean:{group:"Types"},object:{group:"Types"},collator:{group:"Types"},format:{group:"Types"},image:{group:"Types"},"number-format":{group:"Types"},"to-string":{group:"Types"},"to-number":{group:"Types"},"to-boolean":{group:"Types"},"to-rgba":{group:"Color"},"to-color":{group:"Types"},rgb:{group:"Color"},rgba:{group:"Color"},get:{group:"Lookup"},has:{group:"Lookup"},length:{group:"Lookup"},properties:{group:"Feature data"},"feature-state":{group:"Feature data"},"geometry-type":{group:"Feature data"},id:{group:"Feature data"},zoom:{group:"Zoom"},"heatmap-density":{group:"Heatmap"},"line-progress":{group:"Feature data"},accumulated:{group:"Feature data"},"+":{group:"Math"},"*":{group:"Math"},"-":{group:"Math"},"/":{group:"Math"},"%":{group:"Math"},"^":{group:"Math"},sqrt:{group:"Math"},log10:{group:"Math"},ln:{group:"Math"},log2:{group:"Math"},sin:{group:"Math"},cos:{group:"Math"},tan:{group:"Math"},asin:{group:"Math"},acos:{group:"Math"},atan:{group:"Math"},min:{group:"Math"},max:{group:"Math"},round:{group:"Math"},abs:{group:"Math"},ceil:{group:"Math"},floor:{group:"Math"},distance:{group:"Math"},"==":{group:"Decision"},"!=":{group:"Decision"},">":{group:"Decision"},"<":{group:"Decision"},">=":{group:"Decision"},"<=":{group:"Decision"},all:{group:"Decision"},any:{group:"Decision"},"!":{group:"Decision"},within:{group:"Decision"},"is-supported-script":{group:"String"},upcase:{group:"String"},downcase:{group:"String"},concat:{group:"String"},"resolved-locale":{group:"String"}}},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}},qe=function(D,F,Q,ve){this.message=(D?D+": ":"")+Q,ve&&(this.identifier=ve),null!=F&&F.__line__&&(this.line=F.__line__)};function ut(D){var Q=D.value;return Q?[new qe(D.key,Q,"constants have been deprecated as of v8")]:[]}function ft(D){for(var F=[],Q=arguments.length-1;Q-- >0;)F[Q]=arguments[Q+1];for(var ve=0,Le=F;ve<Le.length;ve+=1){var je=Le[ve];for(var Ze in je)D[Ze]=je[Ze]}return D}function St(D){return D instanceof Number||D instanceof String||D instanceof Boolean?D.valueOf():D}function Mt(D){if(Array.isArray(D))return D.map(Mt);if(D instanceof Object&&!(D instanceof Number||D instanceof String||D instanceof Boolean)){var F={};for(var Q in D)F[Q]=Mt(D[Q]);return F}return St(D)}var Tt=function(D){function F(Q,ve){D.call(this,ve),this.message=ve,this.key=Q}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F}(Error),xt=function(D,F){void 0===F&&(F=[]),this.parent=D,this.bindings={};for(var Q=0,ve=F;Q<ve.length;Q+=1){var Le=ve[Q];this.bindings[Le[0]]=Le[1]}};xt.prototype.concat=function(D){return new xt(this,D)},xt.prototype.get=function(D){if(this.bindings[D])return this.bindings[D];if(this.parent)return this.parent.get(D);throw new Error(D+" not found in scope.")},xt.prototype.has=function(D){return!!this.bindings[D]||!!this.parent&&this.parent.has(D)};var Nt={kind:"null"},bt={kind:"number"},wt={kind:"string"},It={kind:"boolean"},Wt={kind:"color"},Yt={kind:"object"},Zt={kind:"value"},dn={kind:"collator"},nn={kind:"formatted"},un={kind:"resolvedImage"};function rn(D,F){return{kind:"array",itemType:D,N:F}}function kn(D){if("array"===D.kind){var F=kn(D.itemType);return"number"==typeof D.N?"array<"+F+", "+D.N+">":"value"===D.itemType.kind?"array":"array<"+F+">"}return D.kind}var Pn=[Nt,bt,wt,It,Wt,nn,Yt,rn(Zt),un];function Sn(D,F){if("error"===F.kind)return null;if("array"===D.kind){if("array"===F.kind&&(0===F.N&&"value"===F.itemType.kind||!Sn(D.itemType,F.itemType))&&("number"!=typeof D.N||D.N===F.N))return null}else{if(D.kind===F.kind)return null;if("value"===D.kind)for(var Q=0,ve=Pn;Q<ve.length;Q+=1)if(!Sn(ve[Q],F))return null}return"Expected "+kn(D)+" but found "+kn(F)+" instead."}function en(D,F){return F.some(function(Q){return Q.kind===D.kind})}function vn(D,F){return F.some(function(Q){return"null"===Q?null===D:"array"===Q?Array.isArray(D):"object"===Q?D&&!Array.isArray(D)&&"object"==typeof D:Q===typeof D})}var yn=S(function(D,F){var Q={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function ve(pt){return(pt=Math.round(pt))<0?0:pt>255?255:pt}function je(pt){return ve("%"===pt[pt.length-1]?parseFloat(pt)/100*255:parseInt(pt))}function Ze(pt){return function Le(pt){return pt<0?0:pt>1?1:pt}("%"===pt[pt.length-1]?parseFloat(pt)/100:parseFloat(pt))}function at(pt,Ct,Ot){return Ot<0?Ot+=1:Ot>1&&(Ot-=1),6*Ot<1?pt+(Ct-pt)*Ot*6:2*Ot<1?Ct:3*Ot<2?pt+(Ct-pt)*(2/3-Ot)*6:pt}try{F.parseCSSColor=function(pt){var Ct,Ot=pt.replace(/ /g,"").toLowerCase();if(Ot in Q)return Q[Ot].slice();if("#"===Ot[0])return 4===Ot.length?(Ct=parseInt(Ot.substr(1),16))>=0&&Ct<=4095?[(3840&Ct)>>4|(3840&Ct)>>8,240&Ct|(240&Ct)>>4,15&Ct|(15&Ct)<<4,1]:null:7===Ot.length&&(Ct=parseInt(Ot.substr(1),16))>=0&&Ct<=16777215?[(16711680&Ct)>>16,(65280&Ct)>>8,255&Ct,1]:null;var Gt=Ot.indexOf("("),Kt=Ot.indexOf(")");if(-1!==Gt&&Kt+1===Ot.length){var $t=Ot.substr(0,Gt),gn=Ot.substr(Gt+1,Kt-(Gt+1)).split(","),xn=1;switch($t){case"rgba":if(4!==gn.length)return null;xn=Ze(gn.pop());case"rgb":return 3!==gn.length?null:[je(gn[0]),je(gn[1]),je(gn[2]),xn];case"hsla":if(4!==gn.length)return null;xn=Ze(gn.pop());case"hsl":if(3!==gn.length)return null;var Fn=(parseFloat(gn[0])%360+360)%360/360,zn=Ze(gn[1]),$n=Ze(gn[2]),Zn=$n<=.5?$n*(zn+1):$n+zn-$n*zn,lr=2*$n-Zn;return[ve(255*at(lr,Zn,Fn+1/3)),ve(255*at(lr,Zn,Fn)),ve(255*at(lr,Zn,Fn-1/3)),xn];default:return null}}return null}}catch{}}).parseCSSColor,Cn=function(D,F,Q,ve){void 0===ve&&(ve=1),this.r=D,this.g=F,this.b=Q,this.a=ve};Cn.parse=function(D){if(D){if(D instanceof Cn)return D;if("string"==typeof D){var F=yn(D);if(F)return new Cn(F[0]/255*F[3],F[1]/255*F[3],F[2]/255*F[3],F[3])}}},Cn.prototype.toString=function(){var D=this.toArray(),Q=D[1],ve=D[2],Le=D[3];return"rgba("+Math.round(D[0])+","+Math.round(Q)+","+Math.round(ve)+","+Le+")"},Cn.prototype.toArray=function(){var D=this,Le=D.a;return 0===Le?[0,0,0,0]:[255*D.r/Le,255*D.g/Le,255*D.b/Le,Le]},Cn.black=new Cn(0,0,0,1),Cn.white=new Cn(1,1,1,1),Cn.transparent=new Cn(0,0,0,0),Cn.red=new Cn(1,0,0,1);var _n=function(D,F,Q){this.sensitivity=D?F?"variant":"case":F?"accent":"base",this.locale=Q,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})};_n.prototype.compare=function(D,F){return this.collator.compare(D,F)},_n.prototype.resolvedLocale=function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale};var Un=function(D,F,Q,ve,Le){this.text=D,this.image=F,this.scale=Q,this.fontStack=ve,this.textColor=Le},qn=function(D){this.sections=D};qn.fromString=function(D){return new qn([new Un(D,null,null,null,null)])},qn.prototype.isEmpty=function(){return 0===this.sections.length||!this.sections.some(function(D){return 0!==D.text.length||D.image&&0!==D.image.name.length})},qn.factory=function(D){return D instanceof qn?D:qn.fromString(D)},qn.prototype.toString=function(){return 0===this.sections.length?"":this.sections.map(function(D){return D.text}).join("")},qn.prototype.serialize=function(){for(var D=["format"],F=0,Q=this.sections;F<Q.length;F+=1){var ve=Q[F];if(ve.image)D.push(["image",ve.image.name]);else{D.push(ve.text);var Le={};ve.fontStack&&(Le["text-font"]=["literal",ve.fontStack.split(",")]),ve.scale&&(Le["font-scale"]=ve.scale),ve.textColor&&(Le["text-color"]=["rgba"].concat(ve.textColor.toArray())),D.push(Le)}}return D};var Ln=function(D){this.name=D.name,this.available=D.available};function Yn(D,F,Q,ve){return"number"==typeof D&&D>=0&&D<=255&&"number"==typeof F&&F>=0&&F<=255&&"number"==typeof Q&&Q>=0&&Q<=255?void 0===ve||"number"==typeof ve&&ve>=0&&ve<=1?null:"Invalid rgba value ["+[D,F,Q,ve].join(", ")+"]: 'a' must be between 0 and 1.":"Invalid rgba value ["+("number"==typeof ve?[D,F,Q,ve]:[D,F,Q]).join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}function _r(D){if(null===D||"string"==typeof D||"boolean"==typeof D||"number"==typeof D||D instanceof Cn||D instanceof _n||D instanceof qn||D instanceof Ln)return!0;if(Array.isArray(D)){for(var F=0,Q=D;F<Q.length;F+=1)if(!_r(Q[F]))return!1;return!0}if("object"==typeof D){for(var ve in D)if(!_r(D[ve]))return!1;return!0}return!1}function dr(D){if(null===D)return Nt;if("string"==typeof D)return wt;if("boolean"==typeof D)return It;if("number"==typeof D)return bt;if(D instanceof Cn)return Wt;if(D instanceof _n)return dn;if(D instanceof qn)return nn;if(D instanceof Ln)return un;if(Array.isArray(D)){for(var F,Q=D.length,ve=0,Le=D;ve<Le.length;ve+=1){var je=dr(Le[ve]);if(F){if(F===je)continue;F=Zt;break}F=je}return rn(F||Zt,Q)}return Yt}function kr(D){var F=typeof D;return null===D?"":"string"===F||"number"===F||"boolean"===F?String(D):D instanceof Cn||D instanceof qn||D instanceof Ln?D.toString():JSON.stringify(D)}Ln.prototype.toString=function(){return this.name},Ln.fromString=function(D){return D?new Ln({name:D,available:!1}):null},Ln.prototype.serialize=function(){return["image",this.name]};var vr=function(D,F){this.type=D,this.value=F};vr.parse=function(D,F){if(2!==D.length)return F.error("'literal' expression requires exactly one argument, but found "+(D.length-1)+" instead.");if(!_r(D[1]))return F.error("invalid value");var Q=D[1],ve=dr(Q),Le=F.expectedType;return"array"!==ve.kind||0!==ve.N||!Le||"array"!==Le.kind||"number"==typeof Le.N&&0!==Le.N||(ve=Le),new vr(ve,Q)},vr.prototype.evaluate=function(){return this.value},vr.prototype.eachChild=function(){},vr.prototype.outputDefined=function(){return!0},vr.prototype.serialize=function(){return"array"===this.type.kind||"object"===this.type.kind?["literal",this.value]:this.value instanceof Cn?["rgba"].concat(this.value.toArray()):this.value instanceof qn?this.value.serialize():this.value};var mr=function(D){this.name="ExpressionEvaluationError",this.message=D};mr.prototype.toJSON=function(){return this.message};var Br={string:wt,number:bt,boolean:It,object:Yt},qt=function(D,F){this.type=D,this.args=F};qt.parse=function(D,F){if(D.length<2)return F.error("Expected at least one argument.");var Q,ve=1,Le=D[0];if("array"===Le){var je,Ze;if(D.length>2){var at=D[1];if("string"!=typeof at||!(at in Br)||"object"===at)return F.error('The item type argument of "array" must be one of string, number, boolean',1);je=Br[at],ve++}else je=Zt;if(D.length>3){if(null!==D[2]&&("number"!=typeof D[2]||D[2]<0||D[2]!==Math.floor(D[2])))return F.error('The length argument to "array" must be a positive integer literal',2);Ze=D[2],ve++}Q=rn(je,Ze)}else Q=Br[Le];for(var pt=[];ve<D.length;ve++){var Ct=F.parse(D[ve],ve,Zt);if(!Ct)return null;pt.push(Ct)}return new qt(Q,pt)},qt.prototype.evaluate=function(D){for(var F=0;F<this.args.length;F++){var Q=this.args[F].evaluate(D);if(!Sn(this.type,dr(Q)))return Q;if(F===this.args.length-1)throw new mr("Expected value to be of type "+kn(this.type)+", but found "+kn(dr(Q))+" instead.")}return null},qt.prototype.eachChild=function(D){this.args.forEach(D)},qt.prototype.outputDefined=function(){return this.args.every(function(D){return D.outputDefined()})},qt.prototype.serialize=function(){var D=this.type,F=[D.kind];if("array"===D.kind){var Q=D.itemType;if("string"===Q.kind||"number"===Q.kind||"boolean"===Q.kind){F.push(Q.kind);var ve=D.N;("number"==typeof ve||this.args.length>1)&&F.push(ve)}}return F.concat(this.args.map(function(Le){return Le.serialize()}))};var on=function(D){this.type=nn,this.sections=D};on.parse=function(D,F){if(D.length<2)return F.error("Expected at least one argument.");var Q=D[1];if(!Array.isArray(Q)&&"object"==typeof Q)return F.error("First argument must be an image or text section.");for(var ve=[],Le=!1,je=1;je<=D.length-1;++je){var Ze=D[je];if(Le&&"object"==typeof Ze&&!Array.isArray(Ze)){Le=!1;var at=null;if(Ze["font-scale"]&&!(at=F.parse(Ze["font-scale"],1,bt)))return null;var pt=null;if(Ze["text-font"]&&!(pt=F.parse(Ze["text-font"],1,rn(wt))))return null;var Ct=null;if(Ze["text-color"]&&!(Ct=F.parse(Ze["text-color"],1,Wt)))return null;var Ot=ve[ve.length-1];Ot.scale=at,Ot.font=pt,Ot.textColor=Ct}else{var Gt=F.parse(D[je],1,Zt);if(!Gt)return null;var Kt=Gt.type.kind;if("string"!==Kt&&"value"!==Kt&&"null"!==Kt&&"resolvedImage"!==Kt)return F.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");Le=!0,ve.push({content:Gt,scale:null,font:null,textColor:null})}}return new on(ve)},on.prototype.evaluate=function(D){return new qn(this.sections.map(function(F){var Q=F.content.evaluate(D);return dr(Q)===un?new Un("",Q,null,null,null):new Un(kr(Q),null,F.scale?F.scale.evaluate(D):null,F.font?F.font.evaluate(D).join(","):null,F.textColor?F.textColor.evaluate(D):null)}))},on.prototype.eachChild=function(D){for(var F=0,Q=this.sections;F<Q.length;F+=1){var ve=Q[F];D(ve.content),ve.scale&&D(ve.scale),ve.font&&D(ve.font),ve.textColor&&D(ve.textColor)}},on.prototype.outputDefined=function(){return!1},on.prototype.serialize=function(){for(var D=["format"],F=0,Q=this.sections;F<Q.length;F+=1){var ve=Q[F];D.push(ve.content.serialize());var Le={};ve.scale&&(Le["font-scale"]=ve.scale.serialize()),ve.font&&(Le["text-font"]=ve.font.serialize()),ve.textColor&&(Le["text-color"]=ve.textColor.serialize()),D.push(Le)}return D};var An=function(D){this.type=un,this.input=D};An.parse=function(D,F){if(2!==D.length)return F.error("Expected two arguments.");var Q=F.parse(D[1],1,wt);return Q?new An(Q):F.error("No image name provided.")},An.prototype.evaluate=function(D){var F=this.input.evaluate(D),Q=Ln.fromString(F);return Q&&D.availableImages&&(Q.available=D.availableImages.indexOf(F)>-1),Q},An.prototype.eachChild=function(D){D(this.input)},An.prototype.outputDefined=function(){return!1},An.prototype.serialize=function(){return["image",this.input.serialize()]};var Dn={"to-boolean":It,"to-color":Wt,"to-number":bt,"to-string":wt},Bn=function(D,F){this.type=D,this.args=F};Bn.parse=function(D,F){if(D.length<2)return F.error("Expected at least one argument.");var Q=D[0];if(("to-boolean"===Q||"to-string"===Q)&&2!==D.length)return F.error("Expected one argument.");for(var ve=Dn[Q],Le=[],je=1;je<D.length;je++){var Ze=F.parse(D[je],je,Zt);if(!Ze)return null;Le.push(Ze)}return new Bn(ve,Le)},Bn.prototype.evaluate=function(D){if("boolean"===this.type.kind)return!!this.args[0].evaluate(D);if("color"===this.type.kind){for(var F,Q,ve=0,Le=this.args;ve<Le.length;ve+=1){if(Q=null,(F=Le[ve].evaluate(D))instanceof Cn)return F;if("string"==typeof F){var je=D.parseColor(F);if(je)return je}else if(Array.isArray(F)&&!(Q=F.length<3||F.length>4?"Invalid rbga value "+JSON.stringify(F)+": expected an array containing either three or four numeric values.":Yn(F[0],F[1],F[2],F[3])))return new Cn(F[0]/255,F[1]/255,F[2]/255,F[3])}throw new mr(Q||"Could not parse color from value '"+("string"==typeof F?F:String(JSON.stringify(F)))+"'")}if("number"===this.type.kind){for(var Ze=null,at=0,pt=this.args;at<pt.length;at+=1){if(null===(Ze=pt[at].evaluate(D)))return 0;var Ct=Number(Ze);if(!isNaN(Ct))return Ct}throw new mr("Could not convert "+JSON.stringify(Ze)+" to number.")}return"formatted"===this.type.kind?qn.fromString(kr(this.args[0].evaluate(D))):"resolvedImage"===this.type.kind?Ln.fromString(kr(this.args[0].evaluate(D))):kr(this.args[0].evaluate(D))},Bn.prototype.eachChild=function(D){this.args.forEach(D)},Bn.prototype.outputDefined=function(){return this.args.every(function(D){return D.outputDefined()})},Bn.prototype.serialize=function(){if("formatted"===this.type.kind)return new on([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if("resolvedImage"===this.type.kind)return new An(this.args[0]).serialize();var D=["to-"+this.type.kind];return this.eachChild(function(F){D.push(F.serialize())}),D};var fr=["Unknown","Point","LineString","Polygon"],bn=function(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null};bn.prototype.id=function(){return this.feature&&"id"in this.feature?this.feature.id:null},bn.prototype.geometryType=function(){return this.feature?"number"==typeof this.feature.type?fr[this.feature.type]:this.feature.type:null},bn.prototype.geometry=function(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null},bn.prototype.canonicalID=function(){return this.canonical},bn.prototype.properties=function(){return this.feature&&this.feature.properties||{}},bn.prototype.parseColor=function(D){var F=this._parseColorCache[D];return F||(F=this._parseColorCache[D]=Cn.parse(D)),F};var Qn=function(D,F,Q,ve){this.name=D,this.type=F,this._evaluate=Q,this.args=ve};Qn.prototype.evaluate=function(D){return this._evaluate(D,this.args)},Qn.prototype.eachChild=function(D){this.args.forEach(D)},Qn.prototype.outputDefined=function(){return!1},Qn.prototype.serialize=function(){return[this.name].concat(this.args.map(function(D){return D.serialize()}))},Qn.parse=function(D,F){var Q,ve=D[0],Le=Qn.definitions[ve];if(!Le)return F.error('Unknown expression "'+ve+'". If you wanted a literal array, use ["literal", [...]].',0);for(var je=Array.isArray(Le)?Le[0]:Le.type,Ze=Array.isArray(Le)?[[Le[1],Le[2]]]:Le.overloads,at=Ze.filter(function(vi){var Qr=vi[0];return!Array.isArray(Qr)||Qr.length===D.length-1}),pt=null,Ct=0,Ot=at;Ct<Ot.length;Ct+=1){var Gt=Ot[Ct],Kt=Gt[0],$t=Gt[1];pt=new Sr(F.registry,F.path,null,F.scope);for(var gn=[],xn=!1,Fn=1;Fn<D.length;Fn++){var zn=D[Fn],$n=Array.isArray(Kt)?Kt[Fn-1]:Kt.type,Zn=pt.parse(zn,1+gn.length,$n);if(!Zn){xn=!0;break}gn.push(Zn)}if(!xn)if(Array.isArray(Kt)&&Kt.length!==gn.length)pt.error("Expected "+Kt.length+" arguments, but found "+gn.length+" instead.");else{for(var lr=0;lr<gn.length;lr++){var gr=Array.isArray(Kt)?Kt[lr]:Kt.type,br=gn[lr];pt.concat(lr+1).checkSubtype(gr,br.type)}if(0===pt.errors.length)return new Qn(ve,je,$t,gn)}}if(1===at.length)(Q=F.errors).push.apply(Q,pt.errors);else{for(var Lr=(at.length?at:Ze).map(function(vi){return Qr=vi[0],Array.isArray(Qr)?"("+Qr.map(kn).join(", ")+")":"("+kn(Qr.type)+"...)";var Qr}).join(" | "),Dr=[],jr=1;jr<D.length;jr++){var Jr=F.parse(D[jr],1+Dr.length);if(!Jr)return null;Dr.push(kn(Jr.type))}F.error("Expected arguments of type "+Lr+", but found ("+Dr.join(", ")+") instead.")}return null},Qn.register=function(D,F){for(var Q in Qn.definitions=F,F)D[Q]=Qn};var er=function(D,F,Q){this.type=dn,this.locale=Q,this.caseSensitive=D,this.diacriticSensitive=F};er.parse=function(D,F){if(2!==D.length)return F.error("Expected one argument.");var Q=D[1];if("object"!=typeof Q||Array.isArray(Q))return F.error("Collator options argument must be an object.");var ve=F.parse(void 0!==Q["case-sensitive"]&&Q["case-sensitive"],1,It);if(!ve)return null;var Le=F.parse(void 0!==Q["diacritic-sensitive"]&&Q["diacritic-sensitive"],1,It);if(!Le)return null;var je=null;return Q.locale&&!(je=F.parse(Q.locale,1,wt))?null:new er(ve,Le,je)},er.prototype.evaluate=function(D){return new _n(this.caseSensitive.evaluate(D),this.diacriticSensitive.evaluate(D),this.locale?this.locale.evaluate(D):null)},er.prototype.eachChild=function(D){D(this.caseSensitive),D(this.diacriticSensitive),this.locale&&D(this.locale)},er.prototype.outputDefined=function(){return!1},er.prototype.serialize=function(){var D={};return D["case-sensitive"]=this.caseSensitive.serialize(),D["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(D.locale=this.locale.serialize()),["collator",D]};var Jt=8192;function Nn(D,F){D[0]=Math.min(D[0],F[0]),D[1]=Math.min(D[1],F[1]),D[2]=Math.max(D[2],F[0]),D[3]=Math.max(D[3],F[1])}function Ft(D,F){return!(D[0]<=F[0]||D[2]>=F[2]||D[1]<=F[1]||D[3]>=F[3])}function an(D,F){var ve=(180+D[0])/360,Le=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+D[1]*Math.PI/360)))/360,je=Math.pow(2,F.z);return[Math.round(ve*je*Jt),Math.round(Le*je*Jt)]}function pn(D,F,Q){return F[1]>D[1]!=Q[1]>D[1]&&D[0]<(Q[0]-F[0])*(D[1]-F[1])/(Q[1]-F[1])+F[0]}function En(D,F){for(var Q=!1,ve=0,Le=F.length;ve<Le;ve++)for(var je=F[ve],Ze=0,at=je.length;Ze<at-1;Ze++){if(void 0,void 0,void 0,void 0,(Gt=(pt=D)[0]-(Ct=je[Ze])[0])*(gn=pt[1]-(Ot=je[Ze+1])[1])-($t=pt[0]-Ot[0])*(Kt=pt[1]-Ct[1])==0&&Gt*$t<=0&&Kt*gn<=0)return!1;pn(D,je[Ze],je[Ze+1])&&(Q=!Q)}var pt,Ct,Ot,Gt,Kt,$t,gn;return Q}function Rn(D,F){for(var Q=0;Q<F.length;Q++)if(En(D,F[Q]))return!0;return!1}function jn(D,F,Q,ve){var pt=ve[0]-Q[0],Ct=ve[1]-Q[1],Ot=(D[0]-Q[0])*Ct-pt*(D[1]-Q[1]),Gt=(F[0]-Q[0])*Ct-pt*(F[1]-Q[1]);return Ot>0&&Gt<0||Ot<0&&Gt>0}function Tn(D,F,Q){for(var ve=0,Le=Q;ve<Le.length;ve+=1)for(var je=Le[ve],Ze=0;Ze<je.length-1;++Ze)if(void 0,void 0,(Gt=[(Ot=je[Ze+1])[0]-(Ct=je[Ze])[0],Ot[1]-Ct[1]])[0]*(Kt=[(pt=F)[0]-(at=D)[0],pt[1]-at[1]])[1]-Gt[1]*Kt[0]!=0&&jn(at,pt,Ct,Ot)&&jn(Ct,Ot,at,pt))return!0;var at,pt,Ct,Ot,Gt,Kt;return!1}function ln(D,F){for(var Q=0;Q<D.length;++Q)if(!En(D[Q],F))return!1;for(var ve=0;ve<D.length-1;++ve)if(Tn(D[ve],D[ve+1],F))return!1;return!0}function fn(D,F){for(var Q=0;Q<F.length;Q++)if(ln(D,F[Q]))return!0;return!1}function wn(D,F,Q){for(var ve=[],Le=0;Le<D.length;Le++){for(var je=[],Ze=0;Ze<D[Le].length;Ze++){var at=an(D[Le][Ze],Q);Nn(F,at),je.push(at)}ve.push(je)}return ve}function Mn(D,F,Q){for(var ve=[],Le=0;Le<D.length;Le++){var je=wn(D[Le],F,Q);ve.push(je)}return ve}function Hn(D,F,Q,ve){if(D[0]<Q[0]||D[0]>Q[2]){var Le=.5*ve,je=D[0]-Q[0]>Le?-ve:Q[0]-D[0]>Le?ve:0;0===je&&(je=D[0]-Q[2]>Le?-ve:Q[2]-D[0]>Le?ve:0),D[0]+=je}Nn(F,D)}function Wn(D,F,Q,ve){for(var Le=Math.pow(2,ve.z)*Jt,je=[ve.x*Jt,ve.y*Jt],Ze=[],at=0,pt=D;at<pt.length;at+=1)for(var Ct=0,Ot=pt[at];Ct<Ot.length;Ct+=1){var Gt=Ot[Ct],Kt=[Gt.x+je[0],Gt.y+je[1]];Hn(Kt,F,Q,Le),Ze.push(Kt)}return Ze}function cr(D,F,Q,ve){for(var Le=Math.pow(2,ve.z)*Jt,je=[ve.x*Jt,ve.y*Jt],Ze=[],at=0,pt=D;at<pt.length;at+=1){for(var Ct=[],Ot=0,Gt=pt[at];Ot<Gt.length;Ot+=1){var Kt=Gt[Ot],$t=[Kt.x+je[0],Kt.y+je[1]];Nn(F,$t),Ct.push($t)}Ze.push(Ct)}if(F[2]-F[0]<=Le/2){($n=F)[0]=$n[1]=1/0,$n[2]=$n[3]=-1/0;for(var gn=0,xn=Ze;gn<xn.length;gn+=1)for(var Fn=0,zn=xn[gn];Fn<zn.length;Fn+=1)Hn(zn[Fn],F,Q,Le)}var $n;return Ze}var or=function(D,F){this.type=It,this.geojson=D,this.geometries=F};function xr(D){if(D instanceof Qn&&("get"===D.name&&1===D.args.length||"feature-state"===D.name||"has"===D.name&&1===D.args.length||"properties"===D.name||"geometry-type"===D.name||"id"===D.name||/^filter-/.test(D.name))||D instanceof or)return!1;var F=!0;return D.eachChild(function(Q){F&&!xr(Q)&&(F=!1)}),F}function sr(D){if(D instanceof Qn&&"feature-state"===D.name)return!1;var F=!0;return D.eachChild(function(Q){F&&!sr(Q)&&(F=!1)}),F}function hr(D,F){if(D instanceof Qn&&F.indexOf(D.name)>=0)return!1;var Q=!0;return D.eachChild(function(ve){Q&&!hr(ve,F)&&(Q=!1)}),Q}or.parse=function(D,F){if(2!==D.length)return F.error("'within' expression requires exactly one argument, but found "+(D.length-1)+" instead.");if(_r(D[1])){var Q=D[1];if("FeatureCollection"===Q.type)for(var ve=0;ve<Q.features.length;++ve){var Le=Q.features[ve].geometry.type;if("Polygon"===Le||"MultiPolygon"===Le)return new or(Q,Q.features[ve].geometry)}else if("Feature"===Q.type){var je=Q.geometry.type;if("Polygon"===je||"MultiPolygon"===je)return new or(Q,Q.geometry)}else if("Polygon"===Q.type||"MultiPolygon"===Q.type)return new or(Q,Q)}return F.error("'within' expression requires valid geojson object that contains polygon geometry type.")},or.prototype.evaluate=function(D){if(null!=D.geometry()&&null!=D.canonicalID()){if("Point"===D.geometryType())return function(F,Q){var ve=[1/0,1/0,-1/0,-1/0],Le=[1/0,1/0,-1/0,-1/0],je=F.canonicalID();if("Polygon"===Q.type){var Ze=wn(Q.coordinates,Le,je),at=Wn(F.geometry(),ve,Le,je);if(!Ft(ve,Le))return!1;for(var pt=0,Ct=at;pt<Ct.length;pt+=1)if(!En(Ct[pt],Ze))return!1}if("MultiPolygon"===Q.type){var Ot=Mn(Q.coordinates,Le,je),Gt=Wn(F.geometry(),ve,Le,je);if(!Ft(ve,Le))return!1;for(var Kt=0,$t=Gt;Kt<$t.length;Kt+=1)if(!Rn($t[Kt],Ot))return!1}return!0}(D,this.geometries);if("LineString"===D.geometryType())return function(F,Q){var ve=[1/0,1/0,-1/0,-1/0],Le=[1/0,1/0,-1/0,-1/0],je=F.canonicalID();if("Polygon"===Q.type){var Ze=wn(Q.coordinates,Le,je),at=cr(F.geometry(),ve,Le,je);if(!Ft(ve,Le))return!1;for(var pt=0,Ct=at;pt<Ct.length;pt+=1)if(!ln(Ct[pt],Ze))return!1}if("MultiPolygon"===Q.type){var Ot=Mn(Q.coordinates,Le,je),Gt=cr(F.geometry(),ve,Le,je);if(!Ft(ve,Le))return!1;for(var Kt=0,$t=Gt;Kt<$t.length;Kt+=1)if(!fn($t[Kt],Ot))return!1}return!0}(D,this.geometries)}return!1},or.prototype.eachChild=function(){},or.prototype.outputDefined=function(){return!0},or.prototype.serialize=function(){return["within",this.geojson]};var Ar=function(D,F){this.type=F.type,this.name=D,this.boundExpression=F};Ar.parse=function(D,F){if(2!==D.length||"string"!=typeof D[1])return F.error("'var' expression requires exactly one string literal argument.");var Q=D[1];return F.scope.has(Q)?new Ar(Q,F.scope.get(Q)):F.error('Unknown variable "'+Q+'". Make sure "'+Q+'" has been bound in an enclosing "let" expression before using it.',1)},Ar.prototype.evaluate=function(D){return this.boundExpression.evaluate(D)},Ar.prototype.eachChild=function(){},Ar.prototype.outputDefined=function(){return!1},Ar.prototype.serialize=function(){return["var",this.name]};var Sr=function(D,F,Q,ve,Le){void 0===F&&(F=[]),void 0===ve&&(ve=new xt),void 0===Le&&(Le=[]),this.registry=D,this.path=F,this.key=F.map(function(je){return"["+je+"]"}).join(""),this.scope=ve,this.errors=Le,this.expectedType=Q};function Pr(D){if(D instanceof Ar)return Pr(D.boundExpression);if(D instanceof Qn&&"error"===D.name||D instanceof er||D instanceof or)return!1;var F=D instanceof Bn||D instanceof qt,Q=!0;return D.eachChild(function(ve){Q=F?Q&&Pr(ve):Q&&ve instanceof vr}),!!Q&&xr(D)&&hr(D,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}function tr(D,F){for(var Q,Le=D.length-1,je=0,Ze=Le,at=0;je<=Ze;)if((Q=D[at=Math.floor((je+Ze)/2)])<=F){if(at===Le||F<D[at+1])return at;je=at+1}else{if(!(Q>F))throw new mr("Input is not a number.");Ze=at-1}return 0}Sr.prototype.parse=function(D,F,Q,ve,Le){return void 0===Le&&(Le={}),F?this.concat(F,Q,ve)._parse(D,Le):this._parse(D,Le)},Sr.prototype._parse=function(D,F){function Q(Ct,Ot,Gt){return"assert"===Gt?new qt(Ot,[Ct]):"coerce"===Gt?new Bn(Ot,[Ct]):Ct}if(null!==D&&"string"!=typeof D&&"boolean"!=typeof D&&"number"!=typeof D||(D=["literal",D]),Array.isArray(D)){if(0===D.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var ve=D[0];if("string"!=typeof ve)return this.error("Expression name must be a string, but found "+typeof ve+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var Le=this.registry[ve];if(Le){var je=Le.parse(D,this);if(!je)return null;if(this.expectedType){var Ze=this.expectedType,at=je.type;if("string"!==Ze.kind&&"number"!==Ze.kind&&"boolean"!==Ze.kind&&"object"!==Ze.kind&&"array"!==Ze.kind||"value"!==at.kind)if("color"!==Ze.kind&&"formatted"!==Ze.kind&&"resolvedImage"!==Ze.kind||"value"!==at.kind&&"string"!==at.kind){if(this.checkSubtype(Ze,at))return null}else je=Q(je,Ze,F.typeAnnotation||"coerce");else je=Q(je,Ze,F.typeAnnotation||"assert")}if(!(je instanceof vr)&&"resolvedImage"!==je.type.kind&&Pr(je)){var pt=new bn;try{je=new vr(je.type,je.evaluate(pt))}catch(Ct){return this.error(Ct.message),null}}return je}return this.error('Unknown expression "'+ve+'". If you wanted a literal array, use ["literal", [...]].',0)}return this.error(void 0===D?"'undefined' value invalid. Use null instead.":"object"==typeof D?'Bare objects invalid. Use ["literal", {...}] instead.':"Expected an array, but found "+typeof D+" instead.")},Sr.prototype.concat=function(D,F,Q){var ve="number"==typeof D?this.path.concat(D):this.path,Le=Q?this.scope.concat(Q):this.scope;return new Sr(this.registry,ve,F||null,Le,this.errors)},Sr.prototype.error=function(D){for(var F=[],Q=arguments.length-1;Q-- >0;)F[Q]=arguments[Q+1];var ve=""+this.key+F.map(function(Le){return"["+Le+"]"}).join("");this.errors.push(new Tt(ve,D))},Sr.prototype.checkSubtype=function(D,F){var Q=Sn(D,F);return Q&&this.error(Q),Q};var Xr=function(D,F,Q){this.type=D,this.input=F,this.labels=[],this.outputs=[];for(var ve=0,Le=Q;ve<Le.length;ve+=1){var je=Le[ve],at=je[1];this.labels.push(je[0]),this.outputs.push(at)}};function ir(D,F,Q){return D*(1-Q)+F*Q}Xr.parse=function(D,F){if(D.length-1<4)return F.error("Expected at least 4 arguments, but found only "+(D.length-1)+".");if((D.length-1)%2!=0)return F.error("Expected an even number of arguments.");var Q=F.parse(D[1],1,bt);if(!Q)return null;var ve=[],Le=null;F.expectedType&&"value"!==F.expectedType.kind&&(Le=F.expectedType);for(var je=1;je<D.length;je+=2){var Ze=1===je?-1/0:D[je],at=D[je+1],pt=je,Ct=je+1;if("number"!=typeof Ze)return F.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',pt);if(ve.length&&ve[ve.length-1][0]>=Ze)return F.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',pt);var Ot=F.parse(at,Ct,Le);if(!Ot)return null;Le=Le||Ot.type,ve.push([Ze,Ot])}return new Xr(Le,Q,ve)},Xr.prototype.evaluate=function(D){var F=this.labels,Q=this.outputs;if(1===F.length)return Q[0].evaluate(D);var ve=this.input.evaluate(D);if(ve<=F[0])return Q[0].evaluate(D);var Le=F.length;return ve>=F[Le-1]?Q[Le-1].evaluate(D):Q[tr(F,ve)].evaluate(D)},Xr.prototype.eachChild=function(D){D(this.input);for(var F=0,Q=this.outputs;F<Q.length;F+=1)D(Q[F])},Xr.prototype.outputDefined=function(){return this.outputs.every(function(D){return D.outputDefined()})},Xr.prototype.serialize=function(){for(var D=["step",this.input.serialize()],F=0;F<this.labels.length;F++)F>0&&D.push(this.labels[F]),D.push(this.outputs[F].serialize());return D};var Fr=Object.freeze({__proto__:null,number:ir,color:function(D,F,Q){return new Cn(ir(D.r,F.r,Q),ir(D.g,F.g,Q),ir(D.b,F.b,Q),ir(D.a,F.a,Q))},array:function(D,F,Q){return D.map(function(ve,Le){return ir(ve,F[Le],Q)})}}),ao=4/29,so=6/29,Ki=3*so*so,Co=so*so*so,Gs=Math.PI/180,fi=180/Math.PI;function Ds(D){return D>Co?Math.pow(D,.3333333333333333):D/Ki+ao}function Zc(D){return D>so?D*D*D:Ki*(D-ao)}function oa(D){return 255*(D<=.0031308?12.92*D:1.055*Math.pow(D,.4166666666666667)-.055)}function tc(D){return(D/=255)<=.04045?D/12.92:Math.pow((D+.055)/1.055,2.4)}function $u(D){var F=tc(D.r),Q=tc(D.g),ve=tc(D.b),Le=Ds((.4124564*F+.3575761*Q+.1804375*ve)/.95047),je=Ds((.2126729*F+.7151522*Q+.072175*ve)/1);return{l:116*je-16,a:500*(Le-je),b:200*(je-Ds((.0193339*F+.119192*Q+.9503041*ve)/1.08883)),alpha:D.a}}function Li(D){var F=(D.l+16)/116,Q=isNaN(D.a)?F:F+D.a/500,ve=isNaN(D.b)?F:F-D.b/200;return F=1*Zc(F),Q=.95047*Zc(Q),ve=1.08883*Zc(ve),new Cn(oa(3.2404542*Q-1.5371385*F-.4985314*ve),oa(-.969266*Q+1.8760108*F+.041556*ve),oa(.0556434*Q-.2040259*F+1.0572252*ve),D.alpha)}function Af(D,F,Q){var ve=F-D;return D+Q*(ve>180||ve<-180?ve-360*Math.round(ve/360):ve)}var nc={forward:$u,reverse:Li,interpolate:function(D,F,Q){return{l:ir(D.l,F.l,Q),a:ir(D.a,F.a,Q),b:ir(D.b,F.b,Q),alpha:ir(D.alpha,F.alpha,Q)}}},rc={forward:function(D){var F=$u(D),Q=F.l,ve=F.a,Le=F.b,je=Math.atan2(Le,ve)*fi;return{h:je<0?je+360:je,c:Math.sqrt(ve*ve+Le*Le),l:Q,alpha:D.a}},reverse:function(D){var F=D.h*Gs,Q=D.c;return Li({l:D.l,a:Math.cos(F)*Q,b:Math.sin(F)*Q,alpha:D.alpha})},interpolate:function(D,F,Q){return{h:Af(D.h,F.h,Q),c:ir(D.c,F.c,Q),l:ir(D.l,F.l,Q),alpha:ir(D.alpha,F.alpha,Q)}}},Ja=Object.freeze({__proto__:null,lab:nc,hcl:rc}),No=function(D,F,Q,ve,Le){this.type=D,this.operator=F,this.interpolation=Q,this.input=ve,this.labels=[],this.outputs=[];for(var je=0,Ze=Le;je<Ze.length;je+=1){var at=Ze[je],Ct=at[1];this.labels.push(at[0]),this.outputs.push(Ct)}};function kl(D,F,Q,ve){var Le=ve-Q,je=D-Q;return 0===Le?0:1===F?je/Le:(Math.pow(F,je)-1)/(Math.pow(F,Le)-1)}No.interpolationFactor=function(D,F,Q,ve){var Le=0;if("exponential"===D.name)Le=kl(F,D.base,Q,ve);else if("linear"===D.name)Le=kl(F,1,Q,ve);else if("cubic-bezier"===D.name){var je=D.controlPoints;Le=new y(je[0],je[1],je[2],je[3]).solve(kl(F,1,Q,ve))}return Le},No.parse=function(D,F){var Q=D[0],ve=D[1],Le=D[2],je=D.slice(3);if(!Array.isArray(ve)||0===ve.length)return F.error("Expected an interpolation type expression.",1);if("linear"===ve[0])ve={name:"linear"};else if("exponential"===ve[0]){var Ze=ve[1];if("number"!=typeof Ze)return F.error("Exponential interpolation requires a numeric base.",1,1);ve={name:"exponential",base:Ze}}else{if("cubic-bezier"!==ve[0])return F.error("Unknown interpolation type "+String(ve[0]),1,0);var at=ve.slice(1);if(4!==at.length||at.some(function(Fn){return"number"!=typeof Fn||Fn<0||Fn>1}))return F.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);ve={name:"cubic-bezier",controlPoints:at}}if(D.length-1<4)return F.error("Expected at least 4 arguments, but found only "+(D.length-1)+".");if((D.length-1)%2!=0)return F.error("Expected an even number of arguments.");if(!(Le=F.parse(Le,2,bt)))return null;var pt=[],Ct=null;"interpolate-hcl"===Q||"interpolate-lab"===Q?Ct=Wt:F.expectedType&&"value"!==F.expectedType.kind&&(Ct=F.expectedType);for(var Ot=0;Ot<je.length;Ot+=2){var Gt=je[Ot],Kt=je[Ot+1],$t=Ot+3,gn=Ot+4;if("number"!=typeof Gt)return F.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',$t);if(pt.length&&pt[pt.length-1][0]>=Gt)return F.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',$t);var xn=F.parse(Kt,gn,Ct);if(!xn)return null;Ct=Ct||xn.type,pt.push([Gt,xn])}return"number"===Ct.kind||"color"===Ct.kind||"array"===Ct.kind&&"number"===Ct.itemType.kind&&"number"==typeof Ct.N?new No(Ct,Q,ve,Le,pt):F.error("Type "+kn(Ct)+" is not interpolatable.")},No.prototype.evaluate=function(D){var F=this.labels,Q=this.outputs;if(1===F.length)return Q[0].evaluate(D);var ve=this.input.evaluate(D);if(ve<=F[0])return Q[0].evaluate(D);var Le=F.length;if(ve>=F[Le-1])return Q[Le-1].evaluate(D);var je=tr(F,ve),pt=No.interpolationFactor(this.interpolation,ve,F[je],F[je+1]),Ct=Q[je].evaluate(D),Ot=Q[je+1].evaluate(D);return"interpolate"===this.operator?Fr[this.type.kind.toLowerCase()](Ct,Ot,pt):"interpolate-hcl"===this.operator?rc.reverse(rc.interpolate(rc.forward(Ct),rc.forward(Ot),pt)):nc.reverse(nc.interpolate(nc.forward(Ct),nc.forward(Ot),pt))},No.prototype.eachChild=function(D){D(this.input);for(var F=0,Q=this.outputs;F<Q.length;F+=1)D(Q[F])},No.prototype.outputDefined=function(){return this.outputs.every(function(D){return D.outputDefined()})},No.prototype.serialize=function(){var D;D="linear"===this.interpolation.name?["linear"]:"exponential"===this.interpolation.name?1===this.interpolation.base?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);for(var F=[this.operator,D,this.input.serialize()],Q=0;Q<this.labels.length;Q++)F.push(this.labels[Q],this.outputs[Q].serialize());return F};var Wi=function(D,F){this.type=D,this.args=F};Wi.parse=function(D,F){if(D.length<2)return F.error("Expectected at least one argument.");var Q=null,ve=F.expectedType;ve&&"value"!==ve.kind&&(Q=ve);for(var Le=[],je=0,Ze=D.slice(1);je<Ze.length;je+=1){var pt=F.parse(Ze[je],1+Le.length,Q,void 0,{typeAnnotation:"omit"});if(!pt)return null;Q=Q||pt.type,Le.push(pt)}var Ct=ve&&Le.some(function(Ot){return Sn(ve,Ot.type)});return new Wi(Ct?Zt:Q,Le)},Wi.prototype.evaluate=function(D){for(var F,Q=null,ve=0,Le=0,je=this.args;Le<je.length&&(ve++,(Q=je[Le].evaluate(D))&&Q instanceof Ln&&!Q.available&&(F||(F=Q.name),Q=null,ve===this.args.length&&(Q=F)),null===Q);Le+=1);return Q},Wi.prototype.eachChild=function(D){this.args.forEach(D)},Wi.prototype.outputDefined=function(){return this.args.every(function(D){return D.outputDefined()})},Wi.prototype.serialize=function(){var D=["coalesce"];return this.eachChild(function(F){D.push(F.serialize())}),D};var qs=function(D,F){this.type=F.type,this.bindings=[].concat(D),this.result=F};qs.prototype.evaluate=function(D){return this.result.evaluate(D)},qs.prototype.eachChild=function(D){for(var F=0,Q=this.bindings;F<Q.length;F+=1)D(Q[F][1]);D(this.result)},qs.parse=function(D,F){if(D.length<4)return F.error("Expected at least 3 arguments, but found "+(D.length-1)+" instead.");for(var Q=[],ve=1;ve<D.length-1;ve+=2){var Le=D[ve];if("string"!=typeof Le)return F.error("Expected string, but found "+typeof Le+" instead.",ve);if(/[^a-zA-Z0-9_]/.test(Le))return F.error("Variable names must contain only alphanumeric characters or '_'.",ve);var je=F.parse(D[ve+1],ve+1);if(!je)return null;Q.push([Le,je])}var Ze=F.parse(D[D.length-1],D.length-1,F.expectedType,Q);return Ze?new qs(Q,Ze):null},qs.prototype.outputDefined=function(){return this.result.outputDefined()},qs.prototype.serialize=function(){for(var D=["let"],F=0,Q=this.bindings;F<Q.length;F+=1){var ve=Q[F];D.push(ve[0],ve[1].serialize())}return D.push(this.result.serialize()),D};var ss=function(D,F,Q){this.type=D,this.index=F,this.input=Q};ss.parse=function(D,F){if(3!==D.length)return F.error("Expected 2 arguments, but found "+(D.length-1)+" instead.");var Q=F.parse(D[1],1,bt),ve=F.parse(D[2],2,rn(F.expectedType||Zt));return Q&&ve?new ss(ve.type.itemType,Q,ve):null},ss.prototype.evaluate=function(D){var F=this.index.evaluate(D),Q=this.input.evaluate(D);if(F<0)throw new mr("Array index out of bounds: "+F+" < 0.");if(F>=Q.length)throw new mr("Array index out of bounds: "+F+" > "+(Q.length-1)+".");if(F!==Math.floor(F))throw new mr("Array index must be an integer, but found "+F+" instead.");return Q[F]},ss.prototype.eachChild=function(D){D(this.index),D(this.input)},ss.prototype.outputDefined=function(){return!1},ss.prototype.serialize=function(){return["at",this.index.serialize(),this.input.serialize()]};var Ws=function(D,F){this.type=It,this.needle=D,this.haystack=F};Ws.parse=function(D,F){if(3!==D.length)return F.error("Expected 2 arguments, but found "+(D.length-1)+" instead.");var Q=F.parse(D[1],1,Zt),ve=F.parse(D[2],2,Zt);return Q&&ve?en(Q.type,[It,wt,bt,Nt,Zt])?new Ws(Q,ve):F.error("Expected first argument to be of type boolean, string, number or null, but found "+kn(Q.type)+" instead"):null},Ws.prototype.evaluate=function(D){var F=this.needle.evaluate(D),Q=this.haystack.evaluate(D);if(!Q)return!1;if(!vn(F,["boolean","string","number","null"]))throw new mr("Expected first argument to be of type boolean, string, number or null, but found "+kn(dr(F))+" instead.");if(!vn(Q,["string","array"]))throw new mr("Expected second argument to be of type array or string, but found "+kn(dr(Q))+" instead.");return Q.indexOf(F)>=0},Ws.prototype.eachChild=function(D){D(this.needle),D(this.haystack)},Ws.prototype.outputDefined=function(){return!0},Ws.prototype.serialize=function(){return["in",this.needle.serialize(),this.haystack.serialize()]};var Fa=function(D,F,Q){this.type=bt,this.needle=D,this.haystack=F,this.fromIndex=Q};Fa.parse=function(D,F){if(D.length<=2||D.length>=5)return F.error("Expected 3 or 4 arguments, but found "+(D.length-1)+" instead.");var Q=F.parse(D[1],1,Zt),ve=F.parse(D[2],2,Zt);if(!Q||!ve)return null;if(!en(Q.type,[It,wt,bt,Nt,Zt]))return F.error("Expected first argument to be of type boolean, string, number or null, but found "+kn(Q.type)+" instead");if(4===D.length){var Le=F.parse(D[3],3,bt);return Le?new Fa(Q,ve,Le):null}return new Fa(Q,ve)},Fa.prototype.evaluate=function(D){var F=this.needle.evaluate(D),Q=this.haystack.evaluate(D);if(!vn(F,["boolean","string","number","null"]))throw new mr("Expected first argument to be of type boolean, string, number or null, but found "+kn(dr(F))+" instead.");if(!vn(Q,["string","array"]))throw new mr("Expected second argument to be of type array or string, but found "+kn(dr(Q))+" instead.");if(this.fromIndex){var ve=this.fromIndex.evaluate(D);return Q.indexOf(F,ve)}return Q.indexOf(F)},Fa.prototype.eachChild=function(D){D(this.needle),D(this.haystack),this.fromIndex&&D(this.fromIndex)},Fa.prototype.outputDefined=function(){return!1},Fa.prototype.serialize=function(){if(null!=this.fromIndex&&void 0!==this.fromIndex){var D=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),D]}return["index-of",this.needle.serialize(),this.haystack.serialize()]};var El=function(D,F,Q,ve,Le,je){this.inputType=D,this.type=F,this.input=Q,this.cases=ve,this.outputs=Le,this.otherwise=je};El.parse=function(D,F){if(D.length<5)return F.error("Expected at least 4 arguments, but found only "+(D.length-1)+".");if(D.length%2!=1)return F.error("Expected an even number of arguments.");var Q,ve;F.expectedType&&"value"!==F.expectedType.kind&&(ve=F.expectedType);for(var Le={},je=[],Ze=2;Ze<D.length-1;Ze+=2){var at=D[Ze],pt=D[Ze+1];Array.isArray(at)||(at=[at]);var Ct=F.concat(Ze);if(0===at.length)return Ct.error("Expected at least one branch label.");for(var Ot=0,Gt=at;Ot<Gt.length;Ot+=1){var Kt=Gt[Ot];if("number"!=typeof Kt&&"string"!=typeof Kt)return Ct.error("Branch labels must be numbers or strings.");if("number"==typeof Kt&&Math.abs(Kt)>Number.MAX_SAFE_INTEGER)return Ct.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if("number"==typeof Kt&&Math.floor(Kt)!==Kt)return Ct.error("Numeric branch labels must be integer values.");if(Q){if(Ct.checkSubtype(Q,dr(Kt)))return null}else Q=dr(Kt);if(void 0!==Le[String(Kt)])return Ct.error("Branch labels must be unique.");Le[String(Kt)]=je.length}var $t=F.parse(pt,Ze,ve);if(!$t)return null;ve=ve||$t.type,je.push($t)}var gn=F.parse(D[1],1,Zt);if(!gn)return null;var xn=F.parse(D[D.length-1],D.length-1,ve);return xn?"value"!==gn.type.kind&&F.concat(1).checkSubtype(Q,gn.type)?null:new El(Q,ve,gn,Le,je,xn):null},El.prototype.evaluate=function(D){var F=this.input.evaluate(D);return(dr(F)===this.inputType&&this.outputs[this.cases[F]]||this.otherwise).evaluate(D)},El.prototype.eachChild=function(D){D(this.input),this.outputs.forEach(D),D(this.otherwise)},El.prototype.outputDefined=function(){return this.outputs.every(function(D){return D.outputDefined()})&&this.otherwise.outputDefined()},El.prototype.serialize=function(){for(var D=this,F=["match",this.input.serialize()],Q=[],ve={},Le=0,je=Object.keys(this.cases).sort();Le<je.length;Le+=1){var Ze=je[Le];void 0===(Gt=ve[this.cases[Ze]])?(ve[this.cases[Ze]]=Q.length,Q.push([this.cases[Ze],[Ze]])):Q[Gt][1].push(Ze)}for(var at=function($t){return"number"===D.inputType.kind?Number($t):$t},pt=0,Ct=Q;pt<Ct.length;pt+=1){var Ot=Ct[pt],Gt=Ot[0],Kt=Ot[1];F.push(1===Kt.length?at(Kt[0]):Kt.map(at)),F.push(this.outputs[outputIndex$1].serialize())}return F.push(this.otherwise.serialize()),F};var za=function(D,F,Q){this.type=D,this.branches=F,this.otherwise=Q};za.parse=function(D,F){if(D.length<4)return F.error("Expected at least 3 arguments, but found only "+(D.length-1)+".");if(D.length%2!=0)return F.error("Expected an odd number of arguments.");var Q;F.expectedType&&"value"!==F.expectedType.kind&&(Q=F.expectedType);for(var ve=[],Le=1;Le<D.length-1;Le+=2){var je=F.parse(D[Le],Le,It);if(!je)return null;var Ze=F.parse(D[Le+1],Le+1,Q);if(!Ze)return null;ve.push([je,Ze]),Q=Q||Ze.type}var at=F.parse(D[D.length-1],D.length-1,Q);return at?new za(Q,ve,at):null},za.prototype.evaluate=function(D){for(var F=0,Q=this.branches;F<Q.length;F+=1){var ve=Q[F],je=ve[1];if(ve[0].evaluate(D))return je.evaluate(D)}return this.otherwise.evaluate(D)},za.prototype.eachChild=function(D){for(var F=0,Q=this.branches;F<Q.length;F+=1){var ve=Q[F],je=ve[1];D(ve[0]),D(je)}D(this.otherwise)},za.prototype.outputDefined=function(){return this.branches.every(function(D){return D[1].outputDefined()})&&this.otherwise.outputDefined()},za.prototype.serialize=function(){var D=["case"];return this.eachChild(function(F){D.push(F.serialize())}),D};var al=function(D,F,Q,ve){this.type=D,this.input=F,this.beginIndex=Q,this.endIndex=ve};function Vr(D,F){return"=="===D||"!="===D?"boolean"===F.kind||"string"===F.kind||"number"===F.kind||"null"===F.kind||"value"===F.kind:"string"===F.kind||"number"===F.kind||"value"===F.kind}function gu(D,F,Q,ve){return 0===ve.compare(F,Q)}function Ur(D,F,Q){var ve="=="!==D&&"!="!==D;return function(){function Le(je,Ze,at){this.type=It,this.lhs=je,this.rhs=Ze,this.collator=at,this.hasUntypedArgument="value"===je.type.kind||"value"===Ze.type.kind}return Le.parse=function(je,Ze){if(3!==je.length&&4!==je.length)return Ze.error("Expected two or three arguments.");var at=je[0],pt=Ze.parse(je[1],1,Zt);if(!pt)return null;if(!Vr(at,pt.type))return Ze.concat(1).error('"'+at+"\" comparisons are not supported for type '"+kn(pt.type)+"'.");var Ct=Ze.parse(je[2],2,Zt);if(!Ct)return null;if(!Vr(at,Ct.type))return Ze.concat(2).error('"'+at+"\" comparisons are not supported for type '"+kn(Ct.type)+"'.");if(pt.type.kind!==Ct.type.kind&&"value"!==pt.type.kind&&"value"!==Ct.type.kind)return Ze.error("Cannot compare types '"+kn(pt.type)+"' and '"+kn(Ct.type)+"'.");ve&&("value"===pt.type.kind&&"value"!==Ct.type.kind?pt=new qt(Ct.type,[pt]):"value"!==pt.type.kind&&"value"===Ct.type.kind&&(Ct=new qt(pt.type,[Ct])));var Ot=null;if(4===je.length){if("string"!==pt.type.kind&&"string"!==Ct.type.kind&&"value"!==pt.type.kind&&"value"!==Ct.type.kind)return Ze.error("Cannot use collator to compare non-string types.");if(!(Ot=Ze.parse(je[3],3,dn)))return null}return new Le(pt,Ct,Ot)},Le.prototype.evaluate=function(je){var Ze=this.lhs.evaluate(je),at=this.rhs.evaluate(je);if(ve&&this.hasUntypedArgument){var pt=dr(Ze),Ct=dr(at);if(pt.kind!==Ct.kind||"string"!==pt.kind&&"number"!==pt.kind)throw new mr('Expected arguments for "'+D+'" to be (string, string) or (number, number), but found ('+pt.kind+", "+Ct.kind+") instead.")}if(this.collator&&!ve&&this.hasUntypedArgument){var Ot=dr(Ze),Gt=dr(at);if("string"!==Ot.kind||"string"!==Gt.kind)return F(je,Ze,at)}return this.collator?Q(je,Ze,at,this.collator.evaluate(je)):F(je,Ze,at)},Le.prototype.eachChild=function(je){je(this.lhs),je(this.rhs),this.collator&&je(this.collator)},Le.prototype.outputDefined=function(){return!0},Le.prototype.serialize=function(){var je=[D];return this.eachChild(function(Ze){je.push(Ze.serialize())}),je},Le}()}al.parse=function(D,F){if(D.length<=2||D.length>=5)return F.error("Expected 3 or 4 arguments, but found "+(D.length-1)+" instead.");var Q=F.parse(D[1],1,Zt),ve=F.parse(D[2],2,bt);if(!Q||!ve)return null;if(!en(Q.type,[rn(Zt),wt,Zt]))return F.error("Expected first argument to be of type array or string, but found "+kn(Q.type)+" instead");if(4===D.length){var Le=F.parse(D[3],3,bt);return Le?new al(Q.type,Q,ve,Le):null}return new al(Q.type,Q,ve)},al.prototype.evaluate=function(D){var F=this.input.evaluate(D),Q=this.beginIndex.evaluate(D);if(!vn(F,["string","array"]))throw new mr("Expected first argument to be of type array or string, but found "+kn(dr(F))+" instead.");if(this.endIndex){var ve=this.endIndex.evaluate(D);return F.slice(Q,ve)}return F.slice(Q)},al.prototype.eachChild=function(D){D(this.input),D(this.beginIndex),this.endIndex&&D(this.endIndex)},al.prototype.outputDefined=function(){return!1},al.prototype.serialize=function(){if(null!=this.endIndex&&void 0!==this.endIndex){var D=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),D]}return["slice",this.input.serialize(),this.beginIndex.serialize()]};var Mc=Ur("==",function(D,F,Q){return F===Q},gu),Ac=Ur("!=",function(D,F,Q){return F!==Q},function(D,F,Q,ve){return!gu(0,F,Q,ve)}),ic=Ur("<",function(D,F,Q){return F<Q},function(D,F,Q,ve){return ve.compare(F,Q)<0}),mu=Ur(">",function(D,F,Q){return F>Q},function(D,F,Q,ve){return ve.compare(F,Q)>0}),Yu=Ur("<=",function(D,F,Q){return F<=Q},function(D,F,Q,ve){return ve.compare(F,Q)<=0}),oc=Ur(">=",function(D,F,Q){return F>=Q},function(D,F,Q,ve){return ve.compare(F,Q)>=0}),Ba=function(D,F,Q,ve,Le){this.type=wt,this.number=D,this.locale=F,this.currency=Q,this.minFractionDigits=ve,this.maxFractionDigits=Le};Ba.parse=function(D,F){if(3!==D.length)return F.error("Expected two arguments.");var Q=F.parse(D[1],1,bt);if(!Q)return null;var ve=D[2];if("object"!=typeof ve||Array.isArray(ve))return F.error("NumberFormat options argument must be an object.");var Le=null;if(ve.locale&&!(Le=F.parse(ve.locale,1,wt)))return null;var je=null;if(ve.currency&&!(je=F.parse(ve.currency,1,wt)))return null;var Ze=null;if(ve["min-fraction-digits"]&&!(Ze=F.parse(ve["min-fraction-digits"],1,bt)))return null;var at=null;return ve["max-fraction-digits"]&&!(at=F.parse(ve["max-fraction-digits"],1,bt))?null:new Ba(Q,Le,je,Ze,at)},Ba.prototype.evaluate=function(D){return new Intl.NumberFormat(this.locale?this.locale.evaluate(D):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(D):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(D):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(D):void 0}).format(this.number.evaluate(D))},Ba.prototype.eachChild=function(D){D(this.number),this.locale&&D(this.locale),this.currency&&D(this.currency),this.minFractionDigits&&D(this.minFractionDigits),this.maxFractionDigits&&D(this.maxFractionDigits)},Ba.prototype.outputDefined=function(){return!1},Ba.prototype.serialize=function(){var D={};return this.locale&&(D.locale=this.locale.serialize()),this.currency&&(D.currency=this.currency.serialize()),this.minFractionDigits&&(D["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(D["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),D]};var $s=function(D){this.type=bt,this.input=D};$s.parse=function(D,F){if(2!==D.length)return F.error("Expected 1 argument, but found "+(D.length-1)+" instead.");var Q=F.parse(D[1],1);return Q?"array"!==Q.type.kind&&"string"!==Q.type.kind&&"value"!==Q.type.kind?F.error("Expected argument of type string or array, but found "+kn(Q.type)+" instead."):new $s(Q):null},$s.prototype.evaluate=function(D){var F=this.input.evaluate(D);if("string"==typeof F||Array.isArray(F))return F.length;throw new mr("Expected value to be of type string or array, but found "+kn(dr(F))+" instead.")},$s.prototype.eachChild=function(D){D(this.input)},$s.prototype.outputDefined=function(){return!1},$s.prototype.serialize=function(){var D=["length"];return this.eachChild(function(F){D.push(F.serialize())}),D};var ja={"==":Mc,"!=":Ac,">":mu,"<":ic,">=":oc,"<=":Yu,array:qt,at:ss,boolean:qt,case:za,coalesce:Wi,collator:er,format:on,image:An,in:Ws,"index-of":Fa,interpolate:No,"interpolate-hcl":No,"interpolate-lab":No,length:$s,let:qs,literal:vr,match:El,number:qt,"number-format":Ba,object:qt,slice:al,step:Xr,string:qt,"to-boolean":Bn,"to-color":Bn,"to-number":Bn,"to-string":Bn,var:Ar,within:or};function ls(D,F){var Q=F[0],ve=F[1],Le=F[2],je=F[3];Q=Q.evaluate(D),ve=ve.evaluate(D),Le=Le.evaluate(D);var Ze=je?je.evaluate(D):1,at=Yn(Q,ve,Le,Ze);if(at)throw new mr(at);return new Cn(Q/255*Ze,ve/255*Ze,Le/255*Ze,Ze)}function Ui(D,F){return D in F}function ac(D,F){var Q=F[D];return void 0===Q?null:Q}function Ka(D){return{type:D}}function sl(D){return{result:"success",value:D}}function Os(D){return{result:"error",value:D}}function Ta(D){return"data-driven"===D["property-type"]||"cross-faded-data-driven"===D["property-type"]}function sc(D){return!!D.expression&&D.expression.parameters.indexOf("zoom")>-1}function ll(D){return!!D.expression&&D.expression.interpolated}function no(D){return D instanceof Number?"number":D instanceof String?"string":D instanceof Boolean?"boolean":Array.isArray(D)?"array":null===D?"null":typeof D}function cs(D){return"object"==typeof D&&null!==D&&!Array.isArray(D)}function lc(D){return D}function us(D,F){var Q,ve,Le,je="color"===F.type,Ze=D.stops&&"object"==typeof D.stops[0][0],pt=Ze||!(Ze||void 0!==D.property),Ct=D.type||(ll(F)?"exponential":"interval");if(je&&((D=ft({},D)).stops&&(D.stops=D.stops.map(function(Dr){return[Dr[0],Cn.parse(Dr[1])]})),D.default=Cn.parse(D.default?D.default:F.default)),D.colorSpace&&"rgb"!==D.colorSpace&&!Ja[D.colorSpace])throw new Error("Unknown color space: "+D.colorSpace);if("exponential"===Ct)Q=Xu;else if("interval"===Ct)Q=Sc;else if("categorical"===Ct){Q=Zu,ve=Object.create(null);for(var Ot=0,Gt=D.stops;Ot<Gt.length;Ot+=1){var Kt=Gt[Ot];ve[Kt[0]]=Kt[1]}Le=typeof D.stops[0][0]}else{if("identity"!==Ct)throw new Error('Unknown function type "'+Ct+'"');Q=vu}if(Ze){for(var $t={},gn=[],xn=0;xn<D.stops.length;xn++){var Fn=D.stops[xn],zn=Fn[0].zoom;void 0===$t[zn]&&($t[zn]={zoom:zn,type:D.type,property:D.property,default:D.default,stops:[]},gn.push(zn)),$t[zn].stops.push([Fn[0].value,Fn[1]])}for(var $n=[],Zn=0,lr=gn;Zn<lr.length;Zn+=1){var gr=lr[Zn];$n.push([$t[gr].zoom,us($t[gr],F)])}var br={name:"linear"};return{kind:"composite",interpolationType:br,interpolationFactor:No.interpolationFactor.bind(void 0,br),zoomStops:$n.map(function(Dr){return Dr[0]}),evaluate:function(Dr,jr){var Jr=Dr.zoom;return Xu({stops:$n,base:D.base},F,Jr).evaluate(Jr,jr)}}}if(pt){var Lr="exponential"===Ct?{name:"exponential",base:void 0!==D.base?D.base:1}:null;return{kind:"camera",interpolationType:Lr,interpolationFactor:No.interpolationFactor.bind(void 0,Lr),zoomStops:D.stops.map(function(Dr){return Dr[0]}),evaluate:function(Dr){return Q(D,F,Dr.zoom,ve,Le)}}}return{kind:"source",evaluate:function(Dr,jr){var Jr=jr&&jr.properties?jr.properties[D.property]:void 0;return void 0===Jr?Is(D.default,F.default):Q(D,F,Jr,ve,Le)}}}function Is(D,F,Q){return void 0!==D?D:void 0!==F?F:void 0!==Q?Q:void 0}function Zu(D,F,Q,ve,Le){return Is(typeof Q===Le?ve[Q]:void 0,D.default,F.default)}function Sc(D,F,Q){if("number"!==no(Q))return Is(D.default,F.default);var ve=D.stops.length;if(1===ve||Q<=D.stops[0][0])return D.stops[0][1];if(Q>=D.stops[ve-1][0])return D.stops[ve-1][1];var Le=tr(D.stops.map(function(je){return je[0]}),Q);return D.stops[Le][1]}function Xu(D,F,Q){var ve=void 0!==D.base?D.base:1;if("number"!==no(Q))return Is(D.default,F.default);var Le=D.stops.length;if(1===Le||Q<=D.stops[0][0])return D.stops[0][1];if(Q>=D.stops[Le-1][0])return D.stops[Le-1][1];var Kt,$t,xn,Fn,je=tr(D.stops.map(function(Gt){return Gt[0]}),Q),Ze=(Kt=ve,Fn=Q-($t=D.stops[je][0]),0==(xn=D.stops[je+1][0]-$t)?0:1===Kt?Fn/xn:(Math.pow(Kt,Fn)-1)/(Math.pow(Kt,xn)-1)),at=D.stops[je][1],pt=D.stops[je+1][1],Ct=Fr[F.type]||lc;if(D.colorSpace&&"rgb"!==D.colorSpace){var Ot=Ja[D.colorSpace];Ct=function(Gt,Kt){return Ot.reverse(Ot.interpolate(Ot.forward(Gt),Ot.forward(Kt),Ze))}}return"function"==typeof at.evaluate?{evaluate:function(){for(var Gt=[],Kt=arguments.length;Kt--;)Gt[Kt]=arguments[Kt];var $t=at.evaluate.apply(void 0,Gt),gn=pt.evaluate.apply(void 0,Gt);if(void 0!==$t&&void 0!==gn)return Ct($t,gn,Ze)}}:Ct(at,pt,Ze)}function vu(D,F,Q){return"color"===F.type?Q=Cn.parse(Q):"formatted"===F.type?Q=qn.fromString(Q.toString()):"resolvedImage"===F.type?Q=Ln.fromString(Q.toString()):no(Q)===F.type||"enum"===F.type&&F.values[Q]||(Q=void 0),Is(Q,D.default,F.default)}Qn.register(ja,{error:[{kind:"error"},[wt],function(D,F){throw new mr(F[0].evaluate(D))}],typeof:[wt,[Zt],function(D,F){return kn(dr(F[0].evaluate(D)))}],"to-rgba":[rn(bt,4),[Wt],function(D,F){return F[0].evaluate(D).toArray()}],rgb:[Wt,[bt,bt,bt],ls],rgba:[Wt,[bt,bt,bt,bt],ls],has:{type:It,overloads:[[[wt],function(D,F){return Ui(F[0].evaluate(D),D.properties())}],[[wt,Yt],function(D,F){var ve=F[1];return Ui(F[0].evaluate(D),ve.evaluate(D))}]]},get:{type:Zt,overloads:[[[wt],function(D,F){return ac(F[0].evaluate(D),D.properties())}],[[wt,Yt],function(D,F){var ve=F[1];return ac(F[0].evaluate(D),ve.evaluate(D))}]]},"feature-state":[Zt,[wt],function(D,F){return ac(F[0].evaluate(D),D.featureState||{})}],properties:[Yt,[],function(D){return D.properties()}],"geometry-type":[wt,[],function(D){return D.geometryType()}],id:[Zt,[],function(D){return D.id()}],zoom:[bt,[],function(D){return D.globals.zoom}],"heatmap-density":[bt,[],function(D){return D.globals.heatmapDensity||0}],"line-progress":[bt,[],function(D){return D.globals.lineProgress||0}],accumulated:[Zt,[],function(D){return void 0===D.globals.accumulated?null:D.globals.accumulated}],"+":[bt,Ka(bt),function(D,F){for(var Q=0,ve=0,Le=F;ve<Le.length;ve+=1)Q+=Le[ve].evaluate(D);return Q}],"*":[bt,Ka(bt),function(D,F){for(var Q=1,ve=0,Le=F;ve<Le.length;ve+=1)Q*=Le[ve].evaluate(D);return Q}],"-":{type:bt,overloads:[[[bt,bt],function(D,F){var ve=F[1];return F[0].evaluate(D)-ve.evaluate(D)}],[[bt],function(D,F){return-F[0].evaluate(D)}]]},"/":[bt,[bt,bt],function(D,F){var ve=F[1];return F[0].evaluate(D)/ve.evaluate(D)}],"%":[bt,[bt,bt],function(D,F){var ve=F[1];return F[0].evaluate(D)%ve.evaluate(D)}],ln2:[bt,[],function(){return Math.LN2}],pi:[bt,[],function(){return Math.PI}],e:[bt,[],function(){return Math.E}],"^":[bt,[bt,bt],function(D,F){var ve=F[1];return Math.pow(F[0].evaluate(D),ve.evaluate(D))}],sqrt:[bt,[bt],function(D,F){return Math.sqrt(F[0].evaluate(D))}],log10:[bt,[bt],function(D,F){return Math.log(F[0].evaluate(D))/Math.LN10}],ln:[bt,[bt],function(D,F){return Math.log(F[0].evaluate(D))}],log2:[bt,[bt],function(D,F){return Math.log(F[0].evaluate(D))/Math.LN2}],sin:[bt,[bt],function(D,F){return Math.sin(F[0].evaluate(D))}],cos:[bt,[bt],function(D,F){return Math.cos(F[0].evaluate(D))}],tan:[bt,[bt],function(D,F){return Math.tan(F[0].evaluate(D))}],asin:[bt,[bt],function(D,F){return Math.asin(F[0].evaluate(D))}],acos:[bt,[bt],function(D,F){return Math.acos(F[0].evaluate(D))}],atan:[bt,[bt],function(D,F){return Math.atan(F[0].evaluate(D))}],min:[bt,Ka(bt),function(D,F){return Math.min.apply(Math,F.map(function(Q){return Q.evaluate(D)}))}],max:[bt,Ka(bt),function(D,F){return Math.max.apply(Math,F.map(function(Q){return Q.evaluate(D)}))}],abs:[bt,[bt],function(D,F){return Math.abs(F[0].evaluate(D))}],round:[bt,[bt],function(D,F){var Q=F[0].evaluate(D);return Q<0?-Math.round(-Q):Math.round(Q)}],floor:[bt,[bt],function(D,F){return Math.floor(F[0].evaluate(D))}],ceil:[bt,[bt],function(D,F){return Math.ceil(F[0].evaluate(D))}],"filter-==":[It,[wt,Zt],function(D,F){var Q=F[0],ve=F[1];return D.properties()[Q.value]===ve.value}],"filter-id-==":[It,[Zt],function(D,F){var Q=F[0];return D.id()===Q.value}],"filter-type-==":[It,[wt],function(D,F){var Q=F[0];return D.geometryType()===Q.value}],"filter-<":[It,[wt,Zt],function(D,F){var Q=F[0],ve=F[1],Le=D.properties()[Q.value],je=ve.value;return typeof Le==typeof je&&Le<je}],"filter-id-<":[It,[Zt],function(D,F){var Q=F[0],ve=D.id(),Le=Q.value;return typeof ve==typeof Le&&ve<Le}],"filter->":[It,[wt,Zt],function(D,F){var Q=F[0],ve=F[1],Le=D.properties()[Q.value],je=ve.value;return typeof Le==typeof je&&Le>je}],"filter-id->":[It,[Zt],function(D,F){var Q=F[0],ve=D.id(),Le=Q.value;return typeof ve==typeof Le&&ve>Le}],"filter-<=":[It,[wt,Zt],function(D,F){var Q=F[0],ve=F[1],Le=D.properties()[Q.value],je=ve.value;return typeof Le==typeof je&&Le<=je}],"filter-id-<=":[It,[Zt],function(D,F){var Q=F[0],ve=D.id(),Le=Q.value;return typeof ve==typeof Le&&ve<=Le}],"filter->=":[It,[wt,Zt],function(D,F){var Q=F[0],ve=F[1],Le=D.properties()[Q.value],je=ve.value;return typeof Le==typeof je&&Le>=je}],"filter-id->=":[It,[Zt],function(D,F){var Q=F[0],ve=D.id(),Le=Q.value;return typeof ve==typeof Le&&ve>=Le}],"filter-has":[It,[Zt],function(D,F){return F[0].value in D.properties()}],"filter-has-id":[It,[],function(D){return null!==D.id()&&void 0!==D.id()}],"filter-type-in":[It,[rn(wt)],function(D,F){return F[0].value.indexOf(D.geometryType())>=0}],"filter-id-in":[It,[rn(Zt)],function(D,F){return F[0].value.indexOf(D.id())>=0}],"filter-in-small":[It,[wt,rn(Zt)],function(D,F){var Q=F[0];return F[1].value.indexOf(D.properties()[Q.value])>=0}],"filter-in-large":[It,[wt,rn(Zt)],function(D,F){var Q=F[0],ve=F[1];return function(Le,je,Ze,at){for(;Ze<=at;){var pt=Ze+at>>1;if(je[pt]===Le)return!0;je[pt]>Le?at=pt-1:Ze=pt+1}return!1}(D.properties()[Q.value],ve.value,0,ve.value.length-1)}],all:{type:It,overloads:[[[It,It],function(D,F){var ve=F[1];return F[0].evaluate(D)&&ve.evaluate(D)}],[Ka(It),function(D,F){for(var Q=0,ve=F;Q<ve.length;Q+=1)if(!ve[Q].evaluate(D))return!1;return!0}]]},any:{type:It,overloads:[[[It,It],function(D,F){var ve=F[1];return F[0].evaluate(D)||ve.evaluate(D)}],[Ka(It),function(D,F){for(var Q=0,ve=F;Q<ve.length;Q+=1)if(ve[Q].evaluate(D))return!0;return!1}]]},"!":[It,[It],function(D,F){return!F[0].evaluate(D)}],"is-supported-script":[It,[wt],function(D,F){var ve=D.globals&&D.globals.isSupportedScript;return!ve||ve(F[0].evaluate(D))}],upcase:[wt,[wt],function(D,F){return F[0].evaluate(D).toUpperCase()}],downcase:[wt,[wt],function(D,F){return F[0].evaluate(D).toLowerCase()}],concat:[wt,Ka(Zt),function(D,F){return F.map(function(Q){return kr(Q.evaluate(D))}).join("")}],"resolved-locale":[wt,[dn],function(D,F){return F[0].evaluate(D).resolvedLocale()}]});var kc=function(D,F){var Q;this.expression=D,this._warningHistory={},this._evaluator=new bn,this._defaultValue=F?"color"===(Q=F).type&&cs(Q.default)?new Cn(0,0,0,0):"color"===Q.type?Cn.parse(Q.default)||null:void 0===Q.default?null:Q.default:null,this._enumValues=F&&"enum"===F.type?F.values:null};function cc(D){return Array.isArray(D)&&D.length>0&&"string"==typeof D[0]&&D[0]in ja}function qa(D,F){var Le,je,Q=new Sr(ja,[],F?(je={color:Wt,string:wt,number:bt,enum:wt,boolean:It,formatted:nn,resolvedImage:un},"array"===(Le=F).type?rn(je[Le.value]||Zt,Le.length):je[Le.type]):void 0),ve=Q.parse(D,void 0,void 0,void 0,F&&"string"===F.type?{typeAnnotation:"coerce"}:void 0);return ve?sl(new kc(ve,F)):Os(Q.errors)}kc.prototype.evaluateWithoutErrorHandling=function(D,F,Q,ve,Le,je){return this._evaluator.globals=D,this._evaluator.feature=F,this._evaluator.featureState=Q,this._evaluator.canonical=ve,this._evaluator.availableImages=Le||null,this._evaluator.formattedSection=je,this.expression.evaluate(this._evaluator)},kc.prototype.evaluate=function(D,F,Q,ve,Le,je){this._evaluator.globals=D,this._evaluator.feature=F||null,this._evaluator.featureState=Q||null,this._evaluator.canonical=ve,this._evaluator.availableImages=Le||null,this._evaluator.formattedSection=je||null;try{var Ze=this.expression.evaluate(this._evaluator);if(null==Ze||"number"==typeof Ze&&Ze!=Ze)return this._defaultValue;if(this._enumValues&&!(Ze in this._enumValues))throw new mr("Expected value to be one of "+Object.keys(this._enumValues).map(function(at){return JSON.stringify(at)}).join(", ")+", but found "+JSON.stringify(Ze)+" instead.");return Ze}catch(at){return this._warningHistory[at.message]||(this._warningHistory[at.message]=!0,typeof console<"u"&&console.warn(at.message)),this._defaultValue}};var Cl=function(D,F){this.kind=D,this._styleExpression=F,this.isStateDependent="constant"!==D&&!sr(F.expression)};Cl.prototype.evaluateWithoutErrorHandling=function(D,F,Q,ve,Le,je){return this._styleExpression.evaluateWithoutErrorHandling(D,F,Q,ve,Le,je)},Cl.prototype.evaluate=function(D,F,Q,ve,Le,je){return this._styleExpression.evaluate(D,F,Q,ve,Le,je)};var Ys=function(D,F,Q,ve){this.kind=D,this.zoomStops=Q,this._styleExpression=F,this.isStateDependent="camera"!==D&&!sr(F.expression),this.interpolationType=ve};function Dl(D,F){if("error"===(D=qa(D,F)).result)return D;var Q=D.value.expression,ve=xr(Q);if(!ve&&!Ta(F))return Os([new Tt("","data expressions not supported")]);var Le=hr(Q,["zoom"]);if(!Le&&!sc(F))return Os([new Tt("","zoom expressions not supported")]);var je=Xc(Q);return je||Le?je instanceof Tt?Os([je]):je instanceof No&&!ll(F)?Os([new Tt("",'"interpolate" expressions cannot be used with this property')]):sl(je?new Ys(ve?"camera":"composite",D.value,je.labels,je instanceof No?je.interpolation:void 0):new Cl(ve?"constant":"source",D.value)):Os([new Tt("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}Ys.prototype.evaluateWithoutErrorHandling=function(D,F,Q,ve,Le,je){return this._styleExpression.evaluateWithoutErrorHandling(D,F,Q,ve,Le,je)},Ys.prototype.evaluate=function(D,F,Q,ve,Le,je){return this._styleExpression.evaluate(D,F,Q,ve,Le,je)},Ys.prototype.interpolationFactor=function(D,F,Q){return this.interpolationType?No.interpolationFactor(this.interpolationType,D,F,Q):0};var cl=function(D,F){this._parameters=D,this._specification=F,ft(this,us(this._parameters,this._specification))};function Xc(D){var F=null;if(D instanceof qs)F=Xc(D.result);else if(D instanceof Wi)for(var Q=0,ve=D.args;Q<ve.length&&!(F=Xc(ve[Q]));Q+=1);else(D instanceof Xr||D instanceof No)&&D.input instanceof Qn&&"zoom"===D.input.name&&(F=D);return F instanceof Tt||D.eachChild(function(je){var Ze=Xc(je);Ze instanceof Tt?F=Ze:!F&&Ze?F=new Tt("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):F&&Ze&&F!==Ze&&(F=new Tt("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),F}function Ps(D){var F=D.key,Q=D.value,ve=D.valueSpec||{},Le=D.objectElementValidators||{},je=D.style,Ze=D.styleSpec,at=[],pt=no(Q);if("object"!==pt)return[new qe(F,Q,"object expected, "+pt+" found")];for(var Ct in Q){var Ot=Ct.split(".")[0],Gt=ve[Ot]||ve["*"],Kt=void 0;if(Le[Ot])Kt=Le[Ot];else if(ve[Ot])Kt=_i;else if(Le["*"])Kt=Le["*"];else{if(!ve["*"]){at.push(new qe(F,Q[Ct],'unknown property "'+Ct+'"'));continue}Kt=_i}at=at.concat(Kt({key:(F&&F+".")+Ct,value:Q[Ct],valueSpec:Gt,style:je,styleSpec:Ze,object:Q,objectKey:Ct},Q))}for(var $t in ve)Le[$t]||ve[$t].required&&void 0===ve[$t].default&&void 0===Q[$t]&&at.push(new qe(F,Q,'missing required property "'+$t+'"'));return at}function yu(D){var F=D.value,Q=D.valueSpec,ve=D.style,Le=D.styleSpec,je=D.key,Ze=D.arrayElementValidator||_i;if("array"!==no(F))return[new qe(je,F,"array expected, "+no(F)+" found")];if(Q.length&&F.length!==Q.length)return[new qe(je,F,"array length "+Q.length+" expected, length "+F.length+" found")];if(Q["min-length"]&&F.length<Q["min-length"])return[new qe(je,F,"array length at least "+Q["min-length"]+" expected, length "+F.length+" found")];var at={type:Q.value,values:Q.values};Le.$version<7&&(at.function=Q.function),"object"===no(Q.value)&&(at=Q.value);for(var pt=[],Ct=0;Ct<F.length;Ct++)pt=pt.concat(Ze({array:F,arrayIndex:Ct,value:F[Ct],valueSpec:at,style:ve,styleSpec:Le,key:je+"["+Ct+"]"}));return pt}function Ju(D){var F=D.key,Q=D.value,ve=D.valueSpec,Le=no(Q);return"number"===Le&&Q!=Q&&(Le="NaN"),"number"!==Le?[new qe(F,Q,"number expected, "+Le+" found")]:"minimum"in ve&&Q<ve.minimum?[new qe(F,Q,Q+" is less than the minimum value "+ve.minimum)]:"maximum"in ve&&Q>ve.maximum?[new qe(F,Q,Q+" is greater than the maximum value "+ve.maximum)]:[]}function Jc(D){var F,Q,ve,Le=D.valueSpec,je=St(D.value.type),Ze={},at="categorical"!==je&&void 0===D.value.property,pt=!at,Ct="array"===no(D.value.stops)&&"array"===no(D.value.stops[0])&&"object"===no(D.value.stops[0][0]),Ot=Ps({key:D.key,value:D.value,valueSpec:D.styleSpec.function,style:D.style,styleSpec:D.styleSpec,objectElementValidators:{stops:function($t){if("identity"===je)return[new qe($t.key,$t.value,'identity function may not have a "stops" property')];var gn=[],xn=$t.value;return gn=gn.concat(yu({key:$t.key,value:xn,valueSpec:$t.valueSpec,style:$t.style,styleSpec:$t.styleSpec,arrayElementValidator:Gt})),"array"===no(xn)&&0===xn.length&&gn.push(new qe($t.key,xn,"array must have at least one stop")),gn},default:function($t){return _i({key:$t.key,value:$t.value,valueSpec:Le,style:$t.style,styleSpec:$t.styleSpec})}}});return"identity"===je&&at&&Ot.push(new qe(D.key,D.value,'missing required property "property"')),"identity"===je||D.value.stops||Ot.push(new qe(D.key,D.value,'missing required property "stops"')),"exponential"===je&&D.valueSpec.expression&&!ll(D.valueSpec)&&Ot.push(new qe(D.key,D.value,"exponential functions not supported")),D.styleSpec.$version>=8&&(pt&&!Ta(D.valueSpec)?Ot.push(new qe(D.key,D.value,"property functions not supported")):at&&!sc(D.valueSpec)&&Ot.push(new qe(D.key,D.value,"zoom functions not supported"))),"categorical"!==je&&!Ct||void 0!==D.value.property||Ot.push(new qe(D.key,D.value,'"property" property is required')),Ot;function Gt($t){var gn=[],xn=$t.value,Fn=$t.key;if("array"!==no(xn))return[new qe(Fn,xn,"array expected, "+no(xn)+" found")];if(2!==xn.length)return[new qe(Fn,xn,"array length 2 expected, length "+xn.length+" found")];if(Ct){if("object"!==no(xn[0]))return[new qe(Fn,xn,"object expected, "+no(xn[0])+" found")];if(void 0===xn[0].zoom)return[new qe(Fn,xn,"object stop key must have zoom")];if(void 0===xn[0].value)return[new qe(Fn,xn,"object stop key must have value")];if(ve&&ve>St(xn[0].zoom))return[new qe(Fn,xn[0].zoom,"stop zoom values must appear in ascending order")];St(xn[0].zoom)!==ve&&(ve=St(xn[0].zoom),Q=void 0,Ze={}),gn=gn.concat(Ps({key:Fn+"[0]",value:xn[0],valueSpec:{zoom:{}},style:$t.style,styleSpec:$t.styleSpec,objectElementValidators:{zoom:Ju,value:Kt}}))}else gn=gn.concat(Kt({key:Fn+"[0]",value:xn[0],valueSpec:{},style:$t.style,styleSpec:$t.styleSpec},xn));return cc(Mt(xn[1]))?gn.concat([new qe(Fn+"[1]",xn[1],"expressions are not allowed in function stops.")]):gn.concat(_i({key:Fn+"[1]",value:xn[1],valueSpec:Le,style:$t.style,styleSpec:$t.styleSpec}))}function Kt($t,gn){var xn=no($t.value),Fn=St($t.value),zn=null!==$t.value?$t.value:gn;if(F){if(xn!==F)return[new qe($t.key,zn,xn+" stop domain type must match previous stop domain type "+F)]}else F=xn;if("number"!==xn&&"string"!==xn&&"boolean"!==xn)return[new qe($t.key,zn,"stop domain value must be a number, string, or boolean")];if("number"!==xn&&"categorical"!==je){var $n="number expected, "+xn+" found";return Ta(Le)&&void 0===je&&($n+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new qe($t.key,zn,$n)]}return"categorical"!==je||"number"!==xn||isFinite(Fn)&&Math.floor(Fn)===Fn?"categorical"!==je&&"number"===xn&&void 0!==Q&&Fn<Q?[new qe($t.key,zn,"stop domain values must appear in ascending order")]:(Q=Fn,"categorical"===je&&Fn in Ze?[new qe($t.key,zn,"stop domain values must be unique")]:(Ze[Fn]=!0,[])):[new qe($t.key,zn,"integer expected, found "+Fn)]}}function Ol(D){var F=("property"===D.expressionContext?Dl:qa)(Mt(D.value),D.valueSpec);if("error"===F.result)return F.value.map(function(ve){return new qe(""+D.key+ve.key,D.value,ve.message)});var Q=F.value.expression||F.value._styleExpression.expression;if("property"===D.expressionContext&&"text-font"===D.propertyKey&&!Q.outputDefined())return[new qe(D.key,D.value,'Invalid data expression for "'+D.propertyKey+'". Output values must be contained as literals within the expression.')];if("property"===D.expressionContext&&"layout"===D.propertyType&&!sr(Q))return[new qe(D.key,D.value,'"feature-state" data expressions are not supported with layout properties.')];if("filter"===D.expressionContext&&!sr(Q))return[new qe(D.key,D.value,'"feature-state" data expressions are not supported with filters.')];if(D.expressionContext&&0===D.expressionContext.indexOf("cluster")){if(!hr(Q,["zoom","feature-state"]))return[new qe(D.key,D.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if("cluster-initial"===D.expressionContext&&!xr(Q))return[new qe(D.key,D.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function ga(D){var F=D.key,Q=D.value,ve=D.valueSpec,Le=[];return Array.isArray(ve.values)?-1===ve.values.indexOf(St(Q))&&Le.push(new qe(F,Q,"expected one of ["+ve.values.join(", ")+"], "+JSON.stringify(Q)+" found")):-1===Object.keys(ve.values).indexOf(St(Q))&&Le.push(new qe(F,Q,"expected one of ["+Object.keys(ve.values).join(", ")+"], "+JSON.stringify(Q)+" found")),Le}function jl(D){if(!0===D||!1===D)return!0;if(!Array.isArray(D)||0===D.length)return!1;switch(D[0]){case"has":return D.length>=2&&"$id"!==D[1]&&"$type"!==D[1];case"in":return D.length>=3&&("string"!=typeof D[1]||Array.isArray(D[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3!==D.length||Array.isArray(D[1])||Array.isArray(D[2]);case"any":case"all":for(var F=0,Q=D.slice(1);F<Q.length;F+=1){var ve=Q[F];if(!jl(ve)&&"boolean"!=typeof ve)return!1}return!0;default:return!0}}cl.deserialize=function(D){return new cl(D._parameters,D._specification)},cl.serialize=function(D){return{_parameters:D._parameters,_specification:D._specification}};var _u={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function uc(D){if(null==D)return{filter:function(){return!0},needGeometry:!1};jl(D)||(D=Vl(D));var F=qa(D,_u);if("error"===F.result)throw new Error(F.value.map(function(Q){return Q.key+": "+Q.message}).join(", "));return{filter:function(Q,ve,Le){return F.value.evaluate(Q,ve,{},Le)},needGeometry:Ec(D)}}function Ri(D,F){return D<F?-1:D>F?1:0}function Ec(D){if(!Array.isArray(D))return!1;if("within"===D[0])return!0;for(var F=1;F<D.length;F++)if(Ec(D[F]))return!0;return!1}function Vl(D){if(!D)return!0;var F,Q=D[0];return D.length<=1?"any"!==Q:"=="===Q?Cr(D[1],D[2],"=="):"!="===Q?Hi(Cr(D[1],D[2],"==")):"<"===Q||">"===Q||"<="===Q||">="===Q?Cr(D[1],D[2],Q):"any"===Q?(F=D.slice(1),["any"].concat(F.map(Vl))):"all"===Q?["all"].concat(D.slice(1).map(Vl)):"none"===Q?["all"].concat(D.slice(1).map(Vl).map(Hi)):"in"===Q?Qo(D[1],D.slice(2)):"!in"===Q?Hi(Qo(D[1],D.slice(2))):"has"===Q?Ei(D[1]):"!has"===Q?Hi(Ei(D[1])):"within"!==Q||D}function Cr(D,F,Q){switch(D){case"$type":return["filter-type-"+Q,F];case"$id":return["filter-id-"+Q,F];default:return["filter-"+Q,D,F]}}function Qo(D,F){if(0===F.length)return!1;switch(D){case"$type":return["filter-type-in",["literal",F]];case"$id":return["filter-id-in",["literal",F]];default:return F.length>200&&!F.some(function(Q){return typeof Q!=typeof F[0]})?["filter-in-large",D,["literal",F.sort(Ri)]]:["filter-in-small",D,["literal",F]]}}function Ei(D){switch(D){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",D]}}function Hi(D){return["!",D]}function mi(D){return jl(Mt(D.value))?Ol(ft({},D,{expressionContext:"filter",valueSpec:{value:"boolean"}})):Di(D)}function Di(D){var F=D.value,Q=D.key;if("array"!==no(F))return[new qe(Q,F,"array expected, "+no(F)+" found")];var ve,Le=D.styleSpec,je=[];if(F.length<1)return[new qe(Q,F,"filter array must have at least 1 element")];switch(je=je.concat(ga({key:Q+"[0]",value:F[0],valueSpec:Le.filter_operator,style:D.style,styleSpec:D.styleSpec})),St(F[0])){case"<":case"<=":case">":case">=":F.length>=2&&"$type"===St(F[1])&&je.push(new qe(Q,F,'"$type" cannot be use with operator "'+F[0]+'"'));case"==":case"!=":3!==F.length&&je.push(new qe(Q,F,'filter array for operator "'+F[0]+'" must have 3 elements'));case"in":case"!in":F.length>=2&&"string"!==(ve=no(F[1]))&&je.push(new qe(Q+"[1]",F[1],"string expected, "+ve+" found"));for(var Ze=2;Ze<F.length;Ze++)ve=no(F[Ze]),"$type"===St(F[1])?je=je.concat(ga({key:Q+"["+Ze+"]",value:F[Ze],valueSpec:Le.geometry_type,style:D.style,styleSpec:D.styleSpec})):"string"!==ve&&"number"!==ve&&"boolean"!==ve&&je.push(new qe(Q+"["+Ze+"]",F[Ze],"string, number, or boolean expected, "+ve+" found"));break;case"any":case"all":case"none":for(var at=1;at<F.length;at++)je=je.concat(Di({key:Q+"["+at+"]",value:F[at],style:D.style,styleSpec:D.styleSpec}));break;case"has":case"!has":ve=no(F[1]),2!==F.length?je.push(new qe(Q,F,'filter array for "'+F[0]+'" operator must have 2 elements')):"string"!==ve&&je.push(new qe(Q+"[1]",F[1],"string expected, "+ve+" found"));break;case"within":ve=no(F[1]),2!==F.length?je.push(new qe(Q,F,'filter array for "'+F[0]+'" operator must have 2 elements')):"object"!==ve&&je.push(new qe(Q+"[1]",F[1],"object expected, "+ve+" found"))}return je}function aa(D,F){var Q=D.key,ve=D.style,Le=D.styleSpec,je=D.value,Ze=D.objectKey,at=Le[F+"_"+D.layerType];if(!at)return[];var pt=Ze.match(/^(.*)-transition$/);if("paint"===F&&pt&&at[pt[1]]&&at[pt[1]].transition)return _i({key:Q,value:je,valueSpec:Le.transition,style:ve,styleSpec:Le});var Ct,Ot=D.valueSpec||at[Ze];if(!Ot)return[new qe(Q,je,'unknown property "'+Ze+'"')];if("string"===no(je)&&Ta(Ot)&&!Ot.tokens&&(Ct=/^{([^}]+)}$/.exec(je)))return[new qe(Q,je,'"'+Ze+'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": '+JSON.stringify(Ct[1])+" }`.")];var Gt=[];return"symbol"===D.layerType&&("text-field"===Ze&&ve&&!ve.glyphs&&Gt.push(new qe(Q,je,'use of "text-field" requires a style "glyphs" property')),"text-font"===Ze&&cs(Mt(je))&&"identity"===St(je.type)&&Gt.push(new qe(Q,je,'"text-font" does not support identity functions'))),Gt.concat(_i({key:D.key,value:je,valueSpec:Ot,style:ve,styleSpec:Le,expressionContext:"property",propertyType:F,propertyKey:Ze}))}function Zs(D){return aa(D,"paint")}function Kc(D){return aa(D,"layout")}function Il(D){var F=[],Q=D.value,ve=D.key,Le=D.style,je=D.styleSpec;Q.type||Q.ref||F.push(new qe(ve,Q,'either "type" or "ref" is required'));var Ze,at=St(Q.type),pt=St(Q.ref);if(Q.id)for(var Ct=St(Q.id),Ot=0;Ot<D.arrayIndex;Ot++){var Gt=Le.layers[Ot];St(Gt.id)===Ct&&F.push(new qe(ve,Q.id,'duplicate layer id "'+Q.id+'", previously used at line '+Gt.id.__line__))}if("ref"in Q)["type","source","source-layer","filter","layout"].forEach(function(gn){gn in Q&&F.push(new qe(ve,Q[gn],'"'+gn+'" is prohibited for ref layers'))}),Le.layers.forEach(function(gn){St(gn.id)===pt&&(Ze=gn)}),Ze?Ze.ref?F.push(new qe(ve,Q.ref,"ref cannot reference another ref layer")):at=St(Ze.type):F.push(new qe(ve,Q.ref,'ref layer "'+pt+'" not found'));else if("background"!==at)if(Q.source){var Kt=Le.sources&&Le.sources[Q.source],$t=Kt&&St(Kt.type);Kt?"vector"===$t&&"raster"===at?F.push(new qe(ve,Q.source,'layer "'+Q.id+'" requires a raster source')):"raster"===$t&&"raster"!==at?F.push(new qe(ve,Q.source,'layer "'+Q.id+'" requires a vector source')):"vector"!==$t||Q["source-layer"]?"raster-dem"===$t&&"hillshade"!==at?F.push(new qe(ve,Q.source,"raster-dem source can only be used with layer type 'hillshade'.")):"line"!==at||!Q.paint||!Q.paint["line-gradient"]||"geojson"===$t&&Kt.lineMetrics||F.push(new qe(ve,Q,'layer "'+Q.id+'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.')):F.push(new qe(ve,Q,'layer "'+Q.id+'" must specify a "source-layer"')):F.push(new qe(ve,Q.source,'source "'+Q.source+'" not found'))}else F.push(new qe(ve,Q,'missing required property "source"'));return F=F.concat(Ps({key:ve,value:Q,valueSpec:je.layer,style:D.style,styleSpec:D.styleSpec,objectElementValidators:{"*":function(){return[]},type:function(){return _i({key:ve+".type",value:Q.type,valueSpec:je.layer.type,style:D.style,styleSpec:D.styleSpec,object:Q,objectKey:"type"})},filter:mi,layout:function(gn){return Ps({layer:Q,key:gn.key,value:gn.value,style:gn.style,styleSpec:gn.styleSpec,objectElementValidators:{"*":function(xn){return Kc(ft({layerType:at},xn))}}})},paint:function(gn){return Ps({layer:Q,key:gn.key,value:gn.value,style:gn.style,styleSpec:gn.styleSpec,objectElementValidators:{"*":function(xn){return Zs(ft({layerType:at},xn))}}})}}}))}function Pl(D){var F=D.value,Q=D.key,ve=no(F);return"string"!==ve?[new qe(Q,F,"string expected, "+ve+" found")]:[]}var Cc={promoteId:function(D){var F=D.key,Q=D.value;if("string"===no(Q))return Pl({key:F,value:Q});var ve=[];for(var Le in Q)ve.push.apply(ve,Pl({key:F+"."+Le,value:Q[Le]}));return ve}};function mo(D){var F=D.value,Q=D.key,ve=D.styleSpec,Le=D.style;if(!F.type)return[new qe(Q,F,'"type" is required')];var je,Ze=St(F.type);switch(Ze){case"vector":case"raster":case"raster-dem":return Ps({key:Q,value:F,valueSpec:ve["source_"+Ze.replace("-","_")],style:D.style,styleSpec:ve,objectElementValidators:Cc});case"geojson":if(je=Ps({key:Q,value:F,valueSpec:ve.source_geojson,style:Le,styleSpec:ve,objectElementValidators:Cc}),F.cluster)for(var at in F.clusterProperties){var pt=F.clusterProperties[at],Ct=pt[0],Gt="string"==typeof Ct?[Ct,["accumulated"],["get",at]]:Ct;je.push.apply(je,Ol({key:Q+"."+at+".map",value:pt[1],expressionContext:"cluster-map"})),je.push.apply(je,Ol({key:Q+"."+at+".reduce",value:Gt,expressionContext:"cluster-reduce"}))}return je;case"video":return Ps({key:Q,value:F,valueSpec:ve.source_video,style:Le,styleSpec:ve});case"image":return Ps({key:Q,value:F,valueSpec:ve.source_image,style:Le,styleSpec:ve});case"canvas":return[new qe(Q,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return ga({key:Q+".type",value:F.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:Le,styleSpec:ve})}}function Wr(D){var F=D.value,Q=D.styleSpec,ve=Q.light,Le=D.style,je=[],Ze=no(F);if(void 0===F)return je;if("object"!==Ze)return je.concat([new qe("light",F,"object expected, "+Ze+" found")]);for(var at in F){var pt=at.match(/^(.*)-transition$/);je=je.concat(pt&&ve[pt[1]]&&ve[pt[1]].transition?_i({key:at,value:F[at],valueSpec:Q.transition,style:Le,styleSpec:Q}):ve[at]?_i({key:at,value:F[at],valueSpec:ve[at],style:Le,styleSpec:Q}):[new qe(at,F[at],'unknown property "'+at+'"')])}return je}var hi={"*":function(){return[]},array:yu,boolean:function(D){var F=D.value,Q=D.key,ve=no(F);return"boolean"!==ve?[new qe(Q,F,"boolean expected, "+ve+" found")]:[]},number:Ju,color:function(D){var F=D.key,Q=D.value,ve=no(Q);return"string"!==ve?[new qe(F,Q,"color expected, "+ve+" found")]:null===yn(Q)?[new qe(F,Q,'color expected, "'+Q+'" found')]:[]},constants:ut,enum:ga,filter:mi,function:Jc,layer:Il,object:Ps,source:mo,light:Wr,string:Pl,formatted:function(D){return 0===Pl(D).length?[]:Ol(D)},resolvedImage:function(D){return 0===Pl(D).length?[]:Ol(D)}};function _i(D){var F=D.value,Q=D.valueSpec,ve=D.styleSpec;return Q.expression&&cs(St(F))?Jc(D):Q.expression&&cc(Mt(F))?Ol(D):Q.type&&hi[Q.type]?hi[Q.type](D):Ps(ft({},D,{valueSpec:Q.type?ve[Q.type]:Q}))}function Ma(D){var F=D.value,Q=D.key,ve=Pl(D);return ve.length||(-1===F.indexOf("{fontstack}")&&ve.push(new qe(Q,F,'"glyphs" url must include a "{fontstack}" token')),-1===F.indexOf("{range}")&&ve.push(new qe(Q,F,'"glyphs" url must include a "{range}" token'))),ve}function Rs(D,F){void 0===F&&(F=Ve);var Q=[];return Q=Q.concat(_i({key:"",value:D,valueSpec:F.$root,styleSpec:F,style:D,objectElementValidators:{glyphs:Ma,"*":function(){return[]}}})),D.constants&&(Q=Q.concat(ut({key:"constants",value:D.constants,style:D,styleSpec:F}))),ji(Q)}function ji(D){return[].concat(D).sort(function(F,Q){return F.line-Q.line})}function Uo(D){return function(){for(var F=[],Q=arguments.length;Q--;)F[Q]=arguments[Q];return ji(D.apply(this,F))}}Rs.source=Uo(mo),Rs.light=Uo(Wr),Rs.layer=Uo(Il),Rs.filter=Uo(mi),Rs.paintProperty=Uo(Zs),Rs.layoutProperty=Uo(Kc);var Oi=Rs,ko=Oi.light,Ho=Oi.paintProperty,pi=Oi.layoutProperty;function Wa(D,F){var Q=!1;if(F&&F.length)for(var ve=0,Le=F;ve<Le.length;ve+=1)D.fire(new dt(new Error(Le[ve].message))),Q=!0;return Q}var sa=Qi,ya=3;function Qi(D,F,Q){var ve=this.cells=[];if(D instanceof ArrayBuffer){this.arrayBuffer=D;var Le=new Int32Array(this.arrayBuffer);D=Le[0],this.d=(F=Le[1])+2*(Q=Le[2]);for(var je=0;je<this.d*this.d;je++){var Ze=Le[ya+je],at=Le[ya+je+1];ve.push(Ze===at?null:Le.subarray(Ze,at))}var Ct=Le[ya+ve.length+1];this.keys=Le.subarray(Le[ya+ve.length],Ct),this.bboxes=Le.subarray(Ct),this.insert=this._insertReadonly}else{this.d=F+2*Q;for(var Ot=0;Ot<this.d*this.d;Ot++)ve.push([]);this.keys=[],this.bboxes=[]}this.n=F,this.extent=D,this.padding=Q,this.scale=F/D,this.uid=0;var Gt=Q/F*D;this.min=-Gt,this.max=D+Gt}Qi.prototype.insert=function(D,F,Q,ve,Le){this._forEachCell(F,Q,ve,Le,this._insertCell,this.uid++),this.keys.push(D),this.bboxes.push(F),this.bboxes.push(Q),this.bboxes.push(ve),this.bboxes.push(Le)},Qi.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},Qi.prototype._insertCell=function(D,F,Q,ve,Le,je){this.cells[Le].push(je)},Qi.prototype.query=function(D,F,Q,ve,Le){var je=this.min,Ze=this.max;if(D<=je&&F<=je&&Ze<=Q&&Ze<=ve&&!Le)return Array.prototype.slice.call(this.keys);var at=[];return this._forEachCell(D,F,Q,ve,this._queryCell,at,{},Le),at},Qi.prototype._queryCell=function(D,F,Q,ve,Le,je,Ze,at){var pt=this.cells[Le];if(null!==pt)for(var Ct=this.keys,Ot=this.bboxes,Gt=0;Gt<pt.length;Gt++){var Kt=pt[Gt];if(void 0===Ze[Kt]){var $t=4*Kt;(at?at(Ot[$t+0],Ot[$t+1],Ot[$t+2],Ot[$t+3]):D<=Ot[$t+2]&&F<=Ot[$t+3]&&Q>=Ot[$t+0]&&ve>=Ot[$t+1])?(Ze[Kt]=!0,je.push(Ct[Kt])):Ze[Kt]=!1}}},Qi.prototype._forEachCell=function(D,F,Q,ve,Le,je,Ze,at){for(var pt=this._convertToCellCoord(D),Ct=this._convertToCellCoord(F),Ot=this._convertToCellCoord(Q),Gt=this._convertToCellCoord(ve),Kt=pt;Kt<=Ot;Kt++)for(var $t=Ct;$t<=Gt;$t++){var gn=this.d*$t+Kt;if((!at||at(this._convertFromCellCoord(Kt),this._convertFromCellCoord($t),this._convertFromCellCoord(Kt+1),this._convertFromCellCoord($t+1)))&&Le.call(this,D,F,Q,ve,gn,je,Ze,at))return}},Qi.prototype._convertFromCellCoord=function(D){return(D-this.padding)/this.scale},Qi.prototype._convertToCellCoord=function(D){return Math.max(0,Math.min(this.d-1,Math.floor(D*this.scale)+this.padding))},Qi.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var D=this.cells,F=ya+this.cells.length+1+1,Q=0,ve=0;ve<this.cells.length;ve++)Q+=this.cells[ve].length;var Le=new Int32Array(F+Q+this.keys.length+this.bboxes.length);Le[0]=this.extent,Le[1]=this.n,Le[2]=this.padding;for(var je=F,Ze=0;Ze<D.length;Ze++){var at=D[Ze];Le[ya+Ze]=je,Le.set(at,je),je+=at.length}return Le[ya+D.length]=je,Le.set(this.keys,je),Le[ya+D.length+1]=je+=this.keys.length,Le.set(this.bboxes,je),je+=this.bboxes.length,Le.buffer};var Rl=self.ImageData,Aa=self.ImageBitmap,uo={};function Gr(D,F,Q){void 0===Q&&(Q={}),Object.defineProperty(F,"_classRegistryKey",{value:D,writeable:!1}),uo[D]={klass:F,omit:Q.omit||[],shallow:Q.shallow||[]}}for(var _a in Gr("Object",Object),sa.serialize=function(D,F){var Q=D.toArrayBuffer();return F&&F.push(Q),{buffer:Q}},sa.deserialize=function(D){return new sa(D.buffer)},Gr("Grid",sa),Gr("Color",Cn),Gr("Error",Error),Gr("ResolvedImage",Ln),Gr("StylePropertyFunction",cl),Gr("StyleExpression",kc,{omit:["_evaluator"]}),Gr("ZoomDependentExpression",Ys),Gr("ZoomConstantExpression",Cl),Gr("CompoundExpression",Qn,{omit:["_evaluate"]}),ja)ja[_a]._classRegistryKey||Gr("Expression_"+_a,ja[_a]);function ys(D){return D&&typeof ArrayBuffer<"u"&&(D instanceof ArrayBuffer||D.constructor&&"ArrayBuffer"===D.constructor.name)}function _s(D){return Aa&&D instanceof Aa}function Xs(D,F){if(null==D||"boolean"==typeof D||"number"==typeof D||"string"==typeof D||D instanceof Boolean||D instanceof Number||D instanceof String||D instanceof Date||D instanceof RegExp)return D;if(ys(D)||_s(D))return F&&F.push(D),D;if(ArrayBuffer.isView(D)){var Q=D;return F&&F.push(Q.buffer),Q}if(D instanceof Rl)return F&&F.push(D.data.buffer),D;if(Array.isArray(D)){for(var ve=[],Le=0,je=D;Le<je.length;Le+=1)ve.push(Xs(je[Le],F));return ve}if("object"==typeof D){var at=D.constructor,pt=at._classRegistryKey;if(!pt)throw new Error("can't serialize object of unregistered class");var Ct=at.serialize?at.serialize(D,F):{};if(!at.serialize){for(var Ot in D)if(D.hasOwnProperty(Ot)&&!(uo[pt].omit.indexOf(Ot)>=0)){var Gt=D[Ot];Ct[Ot]=uo[pt].shallow.indexOf(Ot)>=0?Gt:Xs(Gt,F)}D instanceof Error&&(Ct.message=D.message)}if(Ct.$name)throw new Error("$name property is reserved for worker serialization logic.");return"Object"!==pt&&(Ct.$name=pt),Ct}throw new Error("can't serialize object of type "+typeof D)}function Js(D){if(null==D||"boolean"==typeof D||"number"==typeof D||"string"==typeof D||D instanceof Boolean||D instanceof Number||D instanceof String||D instanceof Date||D instanceof RegExp||ys(D)||_s(D)||ArrayBuffer.isView(D)||D instanceof Rl)return D;if(Array.isArray(D))return D.map(Js);if("object"==typeof D){var F=D.$name||"Object",Q=uo[F].klass;if(!Q)throw new Error("can't deserialize unregistered class "+F);if(Q.deserialize)return Q.deserialize(D);for(var ve=Object.create(Q.prototype),Le=0,je=Object.keys(D);Le<je.length;Le+=1){var Ze=je[Le];if("$name"!==Ze){var at=D[Ze];ve[Ze]=uo[F].shallow.indexOf(Ze)>=0?at:Js(at)}}return ve}throw new Error("can't deserialize object of type "+typeof D)}var bi=function(){this.first=!0};bi.prototype.update=function(D,F){var Q=Math.floor(D);return this.first?(this.first=!1,this.lastIntegerZoom=Q,this.lastIntegerZoomTime=0,this.lastZoom=D,this.lastFloorZoom=Q,!0):(this.lastFloorZoom>Q?(this.lastIntegerZoom=Q+1,this.lastIntegerZoomTime=F):this.lastFloorZoom<Q&&(this.lastIntegerZoom=Q,this.lastIntegerZoomTime=F),D!==this.lastZoom&&(this.lastZoom=D,this.lastFloorZoom=Q,!0))};var Hr={"Latin-1 Supplement":function(D){return D>=128&&D<=255},Arabic:function(D){return D>=1536&&D<=1791},"Arabic Supplement":function(D){return D>=1872&&D<=1919},"Arabic Extended-A":function(D){return D>=2208&&D<=2303},"Hangul Jamo":function(D){return D>=4352&&D<=4607},"Unified Canadian Aboriginal Syllabics":function(D){return D>=5120&&D<=5759},Khmer:function(D){return D>=6016&&D<=6143},"Unified Canadian Aboriginal Syllabics Extended":function(D){return D>=6320&&D<=6399},"General Punctuation":function(D){return D>=8192&&D<=8303},"Letterlike Symbols":function(D){return D>=8448&&D<=8527},"Number Forms":function(D){return D>=8528&&D<=8591},"Miscellaneous Technical":function(D){return D>=8960&&D<=9215},"Control Pictures":function(D){return D>=9216&&D<=9279},"Optical Character Recognition":function(D){return D>=9280&&D<=9311},"Enclosed Alphanumerics":function(D){return D>=9312&&D<=9471},"Geometric Shapes":function(D){return D>=9632&&D<=9727},"Miscellaneous Symbols":function(D){return D>=9728&&D<=9983},"Miscellaneous Symbols and Arrows":function(D){return D>=11008&&D<=11263},"CJK Radicals Supplement":function(D){return D>=11904&&D<=12031},"Kangxi Radicals":function(D){return D>=12032&&D<=12255},"Ideographic Description Characters":function(D){return D>=12272&&D<=12287},"CJK Symbols and Punctuation":function(D){return D>=12288&&D<=12351},Hiragana:function(D){return D>=12352&&D<=12447},Katakana:function(D){return D>=12448&&D<=12543},Bopomofo:function(D){return D>=12544&&D<=12591},"Hangul Compatibility Jamo":function(D){return D>=12592&&D<=12687},Kanbun:function(D){return D>=12688&&D<=12703},"Bopomofo Extended":function(D){return D>=12704&&D<=12735},"CJK Strokes":function(D){return D>=12736&&D<=12783},"Katakana Phonetic Extensions":function(D){return D>=12784&&D<=12799},"Enclosed CJK Letters and Months":function(D){return D>=12800&&D<=13055},"CJK Compatibility":function(D){return D>=13056&&D<=13311},"CJK Unified Ideographs Extension A":function(D){return D>=13312&&D<=19903},"Yijing Hexagram Symbols":function(D){return D>=19904&&D<=19967},"CJK Unified Ideographs":function(D){return D>=19968&&D<=40959},"Yi Syllables":function(D){return D>=40960&&D<=42127},"Yi Radicals":function(D){return D>=42128&&D<=42191},"Hangul Jamo Extended-A":function(D){return D>=43360&&D<=43391},"Hangul Syllables":function(D){return D>=44032&&D<=55215},"Hangul Jamo Extended-B":function(D){return D>=55216&&D<=55295},"Private Use Area":function(D){return D>=57344&&D<=63743},"CJK Compatibility Ideographs":function(D){return D>=63744&&D<=64255},"Arabic Presentation Forms-A":function(D){return D>=64336&&D<=65023},"Vertical Forms":function(D){return D>=65040&&D<=65055},"CJK Compatibility Forms":function(D){return D>=65072&&D<=65103},"Small Form Variants":function(D){return D>=65104&&D<=65135},"Arabic Presentation Forms-B":function(D){return D>=65136&&D<=65279},"Halfwidth and Fullwidth Forms":function(D){return D>=65280&&D<=65519}};function fs(D){for(var F=0,Q=D;F<Q.length;F+=1)if(Ul(Q[F].charCodeAt(0)))return!0;return!1}function Ul(D){return!(746!==D&&747!==D&&(D<4352||!(Hr["Bopomofo Extended"](D)||Hr.Bopomofo(D)||Hr["CJK Compatibility Forms"](D)&&!(D>=65097&&D<=65103)||Hr["CJK Compatibility Ideographs"](D)||Hr["CJK Compatibility"](D)||Hr["CJK Radicals Supplement"](D)||Hr["CJK Strokes"](D)||!(!Hr["CJK Symbols and Punctuation"](D)||D>=12296&&D<=12305||D>=12308&&D<=12319||12336===D)||Hr["CJK Unified Ideographs Extension A"](D)||Hr["CJK Unified Ideographs"](D)||Hr["Enclosed CJK Letters and Months"](D)||Hr["Hangul Compatibility Jamo"](D)||Hr["Hangul Jamo Extended-A"](D)||Hr["Hangul Jamo Extended-B"](D)||Hr["Hangul Jamo"](D)||Hr["Hangul Syllables"](D)||Hr.Hiragana(D)||Hr["Ideographic Description Characters"](D)||Hr.Kanbun(D)||Hr["Kangxi Radicals"](D)||Hr["Katakana Phonetic Extensions"](D)||Hr.Katakana(D)&&12540!==D||!(!Hr["Halfwidth and Fullwidth Forms"](D)||65288===D||65289===D||65293===D||D>=65306&&D<=65310||65339===D||65341===D||65343===D||D>=65371&&D<=65503||65507===D||D>=65512&&D<=65519)||!(!Hr["Small Form Variants"](D)||D>=65112&&D<=65118||D>=65123&&D<=65126)||Hr["Unified Canadian Aboriginal Syllabics"](D)||Hr["Unified Canadian Aboriginal Syllabics Extended"](D)||Hr["Vertical Forms"](D)||Hr["Yijing Hexagram Symbols"](D)||Hr["Yi Syllables"](D)||Hr["Yi Radicals"](D))))}function Qa(D){return!(Ul(D)||(F=D,Hr["Latin-1 Supplement"](F)&&(167===F||169===F||174===F||177===F||188===F||189===F||190===F||215===F||247===F)||Hr["General Punctuation"](F)&&(8214===F||8224===F||8225===F||8240===F||8241===F||8251===F||8252===F||8258===F||8263===F||8264===F||8265===F||8273===F)||Hr["Letterlike Symbols"](F)||Hr["Number Forms"](F)||Hr["Miscellaneous Technical"](F)&&(F>=8960&&F<=8967||F>=8972&&F<=8991||F>=8996&&F<=9e3||9003===F||F>=9085&&F<=9114||F>=9150&&F<=9165||9167===F||F>=9169&&F<=9179||F>=9186&&F<=9215)||Hr["Control Pictures"](F)&&9251!==F||Hr["Optical Character Recognition"](F)||Hr["Enclosed Alphanumerics"](F)||Hr["Geometric Shapes"](F)||Hr["Miscellaneous Symbols"](F)&&!(F>=9754&&F<=9759)||Hr["Miscellaneous Symbols and Arrows"](F)&&(F>=11026&&F<=11055||F>=11088&&F<=11097||F>=11192&&F<=11243)||Hr["CJK Symbols and Punctuation"](F)||Hr.Katakana(F)||Hr["Private Use Area"](F)||Hr["CJK Compatibility Forms"](F)||Hr["Small Form Variants"](F)||Hr["Halfwidth and Fullwidth Forms"](F)||8734===F||8756===F||8757===F||F>=9984&&F<=10087||F>=10102&&F<=10131||65532===F||65533===F));var F}function la(D){return Hr.Arabic(D)||Hr["Arabic Supplement"](D)||Hr["Arabic Extended-A"](D)||Hr["Arabic Presentation Forms-A"](D)||Hr["Arabic Presentation Forms-B"](D)}function Va(D){return D>=1424&&D<=2303||Hr["Arabic Presentation Forms-A"](D)||Hr["Arabic Presentation Forms-B"](D)}function Ua(D,F){return!(!F&&Va(D)||D>=2304&&D<=3583||D>=3840&&D<=4255||Hr.Khmer(D))}function fo(D){for(var F=0,Q=D;F<Q.length;F+=1)if(Va(Q[F].charCodeAt(0)))return!0;return!1}var ul="deferred",ea="loading",$i="loaded",xs=null,Go="unavailable",Si=null,Hl=function(D){D&&"string"==typeof D&&D.indexOf("NetworkError")>-1&&(Go="error"),xs&&xs(D)};function es(){ca.fire(new it("pluginStateChange",{pluginStatus:Go,pluginURL:Si}))}var ca=new ht,dl=function(){return Go},xu=function(){if(Go!==ul||!Si)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");Go=ea,es(),Si&&Lt({url:Si},function(D){D?Hl(D):(Go=$i,es())})},Fo={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:function(){return Go===$i||null!=Fo.applyArabicShaping},isLoading:function(){return Go===ea},setState:function(D){Go=D.pluginStatus,Si=D.pluginURL},isParsed:function(){return null!=Fo.applyArabicShaping&&null!=Fo.processBidirectionalText&&null!=Fo.processStyledBidirectionalText},getPluginURL:function(){return Si}},io=function(D,F){this.zoom=D,F?(this.now=F.now,this.fadeDuration=F.fadeDuration,this.zoomHistory=F.zoomHistory,this.transition=F.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new bi,this.transition={})};io.prototype.isSupportedScript=function(D){return function(F,Q){for(var ve=0,Le=F;ve<Le.length;ve+=1)if(!Ua(Le[ve].charCodeAt(0),Q))return!1;return!0}(D,Fo.isLoaded())},io.prototype.crossFadingFactor=function(){return 0===this.fadeDuration?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)},io.prototype.getCrossfadeParameters=function(){var D=this.zoom,F=D-Math.floor(D),Q=this.crossFadingFactor();return D>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:F+(1-F)*Q}:{fromScale:.5,toScale:1,t:1-(1-Q)*F}};var bs=function(D,F){this.property=D,this.value=F,this.expression=function(Q,ve){if(cs(Q))return new cl(Q,ve);if(cc(Q)){var Le=Dl(Q,ve);if("error"===Le.result)throw new Error(Le.value.map(function(Ze){return Ze.key+": "+Ze.message}).join(", "));return Le.value}var je=Q;return"string"==typeof Q&&"color"===ve.type&&(je=Cn.parse(Q)),{kind:"constant",evaluate:function(){return je}}}(void 0===F?D.specification.default:F,D.specification)};bs.prototype.isDataDriven=function(){return"source"===this.expression.kind||"composite"===this.expression.kind},bs.prototype.possiblyEvaluate=function(D,F,Q){return this.property.possiblyEvaluate(this,D,F,Q)};var hl=function(D){this.property=D,this.value=new bs(D,void 0)};hl.prototype.transitioned=function(D,F){return new bu(this.property,this.value,F,h({},D.transition,this.transition),D.now)},hl.prototype.untransitioned=function(){return new bu(this.property,this.value,null,{},0)};var Ks=function(D){this._properties=D,this._values=Object.create(D.defaultTransitionablePropertyValues)};Ks.prototype.getValue=function(D){return A(this._values[D].value.value)},Ks.prototype.setValue=function(D,F){this._values.hasOwnProperty(D)||(this._values[D]=new hl(this._values[D].property)),this._values[D].value=new bs(this._values[D].property,null===F?void 0:A(F))},Ks.prototype.getTransition=function(D){return A(this._values[D].transition)},Ks.prototype.setTransition=function(D,F){this._values.hasOwnProperty(D)||(this._values[D]=new hl(this._values[D].property)),this._values[D].transition=A(F)||void 0},Ks.prototype.serialize=function(){for(var D={},F=0,Q=Object.keys(this._values);F<Q.length;F+=1){var ve=Q[F],Le=this.getValue(ve);void 0!==Le&&(D[ve]=Le);var je=this.getTransition(ve);void 0!==je&&(D[ve+"-transition"]=je)}return D},Ks.prototype.transitioned=function(D,F){for(var Q=new Gl(this._properties),ve=0,Le=Object.keys(this._values);ve<Le.length;ve+=1){var je=Le[ve];Q._values[je]=this._values[je].transitioned(D,F._values[je])}return Q},Ks.prototype.untransitioned=function(){for(var D=new Gl(this._properties),F=0,Q=Object.keys(this._values);F<Q.length;F+=1){var ve=Q[F];D._values[ve]=this._values[ve].untransitioned()}return D};var bu=function(D,F,Q,ve,Le){this.property=D,this.value=F,this.begin=Le+ve.delay||0,this.end=this.begin+ve.duration||0,D.specification.transition&&(ve.delay||ve.duration)&&(this.prior=Q)};bu.prototype.possiblyEvaluate=function(D,F,Q){var ve=D.now||0,Le=this.value.possiblyEvaluate(D,F,Q),je=this.prior;if(je){if(ve>this.end)return this.prior=null,Le;if(this.value.isDataDriven())return this.prior=null,Le;if(ve<this.begin)return je.possiblyEvaluate(D,F,Q);var Ze=(ve-this.begin)/(this.end-this.begin);return this.property.interpolate(je.possiblyEvaluate(D,F,Q),Le,function(at){if(at<=0)return 0;if(at>=1)return 1;var pt=at*at,Ct=pt*at;return 4*(at<.5?Ct:3*(at-pt)+Ct-.75)}(Ze))}return Le};var Gl=function(D){this._properties=D,this._values=Object.create(D.defaultTransitioningPropertyValues)};Gl.prototype.possiblyEvaluate=function(D,F,Q){for(var ve=new Sa(this._properties),Le=0,je=Object.keys(this._values);Le<je.length;Le+=1){var Ze=je[Le];ve._values[Ze]=this._values[Ze].possiblyEvaluate(D,F,Q)}return ve},Gl.prototype.hasTransition=function(){for(var D=0,F=Object.keys(this._values);D<F.length;D+=1)if(this._values[F[D]].prior)return!0;return!1};var fc=function(D){this._properties=D,this._values=Object.create(D.defaultPropertyValues)};fc.prototype.getValue=function(D){return A(this._values[D].value)},fc.prototype.setValue=function(D,F){this._values[D]=new bs(this._values[D].property,null===F?void 0:A(F))},fc.prototype.serialize=function(){for(var D={},F=0,Q=Object.keys(this._values);F<Q.length;F+=1){var ve=Q[F],Le=this.getValue(ve);void 0!==Le&&(D[ve]=Le)}return D},fc.prototype.possiblyEvaluate=function(D,F,Q){for(var ve=new Sa(this._properties),Le=0,je=Object.keys(this._values);Le<je.length;Le+=1){var Ze=je[Le];ve._values[Ze]=this._values[Ze].possiblyEvaluate(D,F,Q)}return ve};var ua=function(D,F,Q){this.property=D,this.value=F,this.parameters=Q};ua.prototype.isConstant=function(){return"constant"===this.value.kind},ua.prototype.constantOr=function(D){return"constant"===this.value.kind?this.value.value:D},ua.prototype.evaluate=function(D,F,Q,ve){return this.property.evaluate(this.value,this.parameters,D,F,Q,ve)};var Sa=function(D){this._properties=D,this._values=Object.create(D.defaultPossiblyEvaluatedValues)};Sa.prototype.get=function(D){return this._values[D]};var ti=function(D){this.specification=D};ti.prototype.possiblyEvaluate=function(D,F){return D.expression.evaluate(F)},ti.prototype.interpolate=function(D,F,Q){var ve=Fr[this.specification.type];return ve?ve(D,F,Q):D};var ni=function(D,F){this.specification=D,this.overrides=F};ni.prototype.possiblyEvaluate=function(D,F,Q,ve){return new ua(this,"constant"===D.expression.kind||"camera"===D.expression.kind?{kind:"constant",value:D.expression.evaluate(F,null,{},Q,ve)}:D.expression,F)},ni.prototype.interpolate=function(D,F,Q){if("constant"!==D.value.kind||"constant"!==F.value.kind)return D;if(void 0===D.value.value||void 0===F.value.value)return new ua(this,{kind:"constant",value:void 0},D.parameters);var ve=Fr[this.specification.type];return ve?new ua(this,{kind:"constant",value:ve(D.value.value,F.value.value,Q)},D.parameters):D},ni.prototype.evaluate=function(D,F,Q,ve,Le,je){return"constant"===D.kind?D.value:D.evaluate(F,Q,ve,Le,je)};var Dc=function(D){function F(){D.apply(this,arguments)}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype.possiblyEvaluate=function(Q,ve,Le,je){if(void 0===Q.value)return new ua(this,{kind:"constant",value:void 0},ve);if("constant"===Q.expression.kind){var Ze=Q.expression.evaluate(ve,null,{},Le,je),at="resolvedImage"===Q.property.specification.type&&"string"!=typeof Ze?Ze.name:Ze,pt=this._calculate(at,at,at,ve);return new ua(this,{kind:"constant",value:pt},ve)}if("camera"===Q.expression.kind){var Ct=this._calculate(Q.expression.evaluate({zoom:ve.zoom-1}),Q.expression.evaluate({zoom:ve.zoom}),Q.expression.evaluate({zoom:ve.zoom+1}),ve);return new ua(this,{kind:"constant",value:Ct},ve)}return new ua(this,Q.expression,ve)},F.prototype.evaluate=function(Q,ve,Le,je,Ze,at){if("source"===Q.kind){var pt=Q.evaluate(ve,Le,je,Ze,at);return this._calculate(pt,pt,pt,ve)}return"composite"===Q.kind?this._calculate(Q.evaluate({zoom:Math.floor(ve.zoom)-1},Le,je),Q.evaluate({zoom:Math.floor(ve.zoom)},Le,je),Q.evaluate({zoom:Math.floor(ve.zoom)+1},Le,je),ve):Q.value},F.prototype._calculate=function(Q,ve,Le,je){return je.zoom>je.zoomHistory.lastIntegerZoom?{from:Q,to:ve}:{from:Le,to:ve}},F.prototype.interpolate=function(Q){return Q},F}(ni),ka=function(D){this.specification=D};ka.prototype.possiblyEvaluate=function(D,F,Q,ve){if(void 0!==D.value){if("constant"===D.expression.kind){var Le=D.expression.evaluate(F,null,{},Q,ve);return this._calculate(Le,Le,Le,F)}return this._calculate(D.expression.evaluate(new io(Math.floor(F.zoom-1),F)),D.expression.evaluate(new io(Math.floor(F.zoom),F)),D.expression.evaluate(new io(Math.floor(F.zoom+1),F)),F)}},ka.prototype._calculate=function(D,F,Q,ve){return ve.zoom>ve.zoomHistory.lastIntegerZoom?{from:D,to:F}:{from:Q,to:F}},ka.prototype.interpolate=function(D){return D};var pl=function(D){this.specification=D};pl.prototype.possiblyEvaluate=function(D,F,Q,ve){return!!D.expression.evaluate(F,null,{},Q,ve)},pl.prototype.interpolate=function(){return!1};var Ea=function(D){for(var F in this.properties=D,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[],D){var Q=D[F];Q.specification.overridable&&this.overridableProperties.push(F);var ve=this.defaultPropertyValues[F]=new bs(Q,void 0),Le=this.defaultTransitionablePropertyValues[F]=new hl(Q);this.defaultTransitioningPropertyValues[F]=Le.untransitioned(),this.defaultPossiblyEvaluatedValues[F]=ve.possiblyEvaluate({})}};Gr("DataDrivenProperty",ni),Gr("DataConstantProperty",ti),Gr("CrossFadedDataDrivenProperty",Dc),Gr("CrossFadedProperty",ka),Gr("ColorRampProperty",pl);var Oc="-transition",Ca=function(D){function F(Q,ve){if(D.call(this),this.id=Q.id,this.type=Q.type,this._featureFilter={filter:function(){return!0},needGeometry:!1},"custom"!==Q.type&&(this.metadata=Q.metadata,this.minzoom=Q.minzoom,this.maxzoom=Q.maxzoom,"background"!==Q.type&&(this.source=Q.source,this.sourceLayer=Q["source-layer"],this.filter=Q.filter),ve.layout&&(this._unevaluatedLayout=new fc(ve.layout)),ve.paint)){for(var Le in this._transitionablePaint=new Ks(ve.paint),Q.paint)this.setPaintProperty(Le,Q.paint[Le],{validate:!1});for(var je in Q.layout)this.setLayoutProperty(je,Q.layout[je],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new Sa(ve.paint)}}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype.getCrossfadeParameters=function(){return this._crossfadeParameters},F.prototype.getLayoutProperty=function(Q){return"visibility"===Q?this.visibility:this._unevaluatedLayout.getValue(Q)},F.prototype.setLayoutProperty=function(Q,ve,Le){void 0===Le&&(Le={}),null!=ve&&this._validate(pi,"layers."+this.id+".layout."+Q,Q,ve,Le)||("visibility"!==Q?this._unevaluatedLayout.setValue(Q,ve):this.visibility=ve)},F.prototype.getPaintProperty=function(Q){return w(Q,Oc)?this._transitionablePaint.getTransition(Q.slice(0,-11)):this._transitionablePaint.getValue(Q)},F.prototype.setPaintProperty=function(Q,ve,Le){if(void 0===Le&&(Le={}),null!=ve&&this._validate(Ho,"layers."+this.id+".paint."+Q,Q,ve,Le))return!1;if(w(Q,Oc))return this._transitionablePaint.setTransition(Q.slice(0,-11),ve||void 0),!1;var Ze=this._transitionablePaint._values[Q],at="cross-faded-data-driven"===Ze.property.specification["property-type"],pt=Ze.value.isDataDriven(),Ct=Ze.value;this._transitionablePaint.setValue(Q,ve),this._handleSpecialPaintPropertyUpdate(Q);var Ot=this._transitionablePaint._values[Q].value;return Ot.isDataDriven()||pt||at||this._handleOverridablePaintPropertyUpdate(Q,Ct,Ot)},F.prototype._handleSpecialPaintPropertyUpdate=function(Q){},F.prototype._handleOverridablePaintPropertyUpdate=function(Q,ve,Le){return!1},F.prototype.isHidden=function(Q){return!!(this.minzoom&&Q<this.minzoom)||!!(this.maxzoom&&Q>=this.maxzoom)||"none"===this.visibility},F.prototype.updateTransitions=function(Q){this._transitioningPaint=this._transitionablePaint.transitioned(Q,this._transitioningPaint)},F.prototype.hasTransition=function(){return this._transitioningPaint.hasTransition()},F.prototype.recalculate=function(Q,ve){Q.getCrossfadeParameters&&(this._crossfadeParameters=Q.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(Q,void 0,ve)),this.paint=this._transitioningPaint.possiblyEvaluate(Q,void 0,ve)},F.prototype.serialize=function(){var Q={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(Q.layout=Q.layout||{},Q.layout.visibility=this.visibility),b(Q,function(ve,Le){return!(void 0===ve||"layout"===Le&&!Object.keys(ve).length||"paint"===Le&&!Object.keys(ve).length)})},F.prototype._validate=function(Q,ve,Le,je,Ze){return void 0===Ze&&(Ze={}),(!Ze||!1!==Ze.validate)&&Wa(this,Q.call(Oi,{key:ve,layerType:this.type,objectKey:Le,value:je,styleSpec:Ve,style:{glyphs:!0,sprite:!0}}))},F.prototype.is3D=function(){return!1},F.prototype.isTileClipped=function(){return!1},F.prototype.hasOffscreenPass=function(){return!1},F.prototype.resize=function(){},F.prototype.isStateDependent=function(){for(var Q in this.paint._values){var ve=this.paint.get(Q);if(ve instanceof ua&&Ta(ve.property.specification)&&("source"===ve.value.kind||"composite"===ve.value.kind)&&ve.value.isStateDependent)return!0}return!1},F}(ht),ts={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},ml=function(D,F){this._structArray=D,this._pos1=F*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},si=function(){this.isTransferred=!1,this.capacity=-1,this.resize(0)};function qo(D,F){void 0===F&&(F=1);var Q=0,ve=0;return{members:D.map(function(Le){var Ze=ts[Le.type].BYTES_PER_ELEMENT,at=Q=Ls(Q,Math.max(F,Ze)),pt=Le.components||1;return ve=Math.max(ve,Ze),Q+=Ze*pt,{name:Le.name,type:Le.type,components:pt,offset:at}}),size:Ls(Q,Math.max(ve,F)),alignment:F}}function Ls(D,F){return Math.ceil(D/F)*F}si.serialize=function(D,F){return D._trim(),F&&(D.isTransferred=!0,F.push(D.arrayBuffer)),{length:D.length,arrayBuffer:D.arrayBuffer}},si.deserialize=function(D){var F=Object.create(this.prototype);return F.arrayBuffer=D.arrayBuffer,F.length=D.length,F.capacity=D.arrayBuffer.byteLength/F.bytesPerElement,F._refreshViews(),F},si.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},si.prototype.clear=function(){this.length=0},si.prototype.resize=function(D){this.reserve(D),this.length=D},si.prototype.reserve=function(D){if(D>this.capacity){this.capacity=Math.max(D,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var F=this.uint8;this._refreshViews(),F&&this.uint8.set(F)}},si.prototype._refreshViews=function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")};var ns=function(D){function F(){D.apply(this,arguments)}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},F.prototype.emplaceBack=function(Q,ve){var Le=this.length;return this.resize(Le+1),this.emplace(Le,Q,ve)},F.prototype.emplace=function(Q,ve,Le){var je=2*Q;return this.int16[je+0]=ve,this.int16[je+1]=Le,Q},F}(si);ns.prototype.bytesPerElement=4,Gr("StructArrayLayout2i4",ns);var ql=function(D){function F(){D.apply(this,arguments)}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},F.prototype.emplaceBack=function(Q,ve,Le,je){var Ze=this.length;return this.resize(Ze+1),this.emplace(Ze,Q,ve,Le,je)},F.prototype.emplace=function(Q,ve,Le,je,Ze){var at=4*Q;return this.int16[at+0]=ve,this.int16[at+1]=Le,this.int16[at+2]=je,this.int16[at+3]=Ze,Q},F}(si);ql.prototype.bytesPerElement=8,Gr("StructArrayLayout4i8",ql);var dc=function(D){function F(){D.apply(this,arguments)}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},F.prototype.emplaceBack=function(Q,ve,Le,je,Ze,at){var pt=this.length;return this.resize(pt+1),this.emplace(pt,Q,ve,Le,je,Ze,at)},F.prototype.emplace=function(Q,ve,Le,je,Ze,at,pt){var Ct=6*Q;return this.int16[Ct+0]=ve,this.int16[Ct+1]=Le,this.int16[Ct+2]=je,this.int16[Ct+3]=Ze,this.int16[Ct+4]=at,this.int16[Ct+5]=pt,Q},F}(si);dc.prototype.bytesPerElement=12,Gr("StructArrayLayout2i4i12",dc);var hc=function(D){function F(){D.apply(this,arguments)}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},F.prototype.emplaceBack=function(Q,ve,Le,je,Ze,at){var pt=this.length;return this.resize(pt+1),this.emplace(pt,Q,ve,Le,je,Ze,at)},F.prototype.emplace=function(Q,ve,Le,je,Ze,at,pt){var Ct=4*Q,Ot=8*Q;return this.int16[Ct+0]=ve,this.int16[Ct+1]=Le,this.uint8[Ot+4]=je,this.uint8[Ot+5]=Ze,this.uint8[Ot+6]=at,this.uint8[Ot+7]=pt,Q},F}(si);hc.prototype.bytesPerElement=8,Gr("StructArrayLayout2i4ub8",hc);var vl=function(D){function F(){D.apply(this,arguments)}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},F.prototype.emplaceBack=function(Q,ve,Le,je,Ze,at,pt,Ct,Ot,Gt){var Kt=this.length;return this.resize(Kt+1),this.emplace(Kt,Q,ve,Le,je,Ze,at,pt,Ct,Ot,Gt)},F.prototype.emplace=function(Q,ve,Le,je,Ze,at,pt,Ct,Ot,Gt,Kt){var $t=9*Q,gn=18*Q;return this.uint16[$t+0]=ve,this.uint16[$t+1]=Le,this.uint16[$t+2]=je,this.uint16[$t+3]=Ze,this.uint16[$t+4]=at,this.uint16[$t+5]=pt,this.uint16[$t+6]=Ct,this.uint16[$t+7]=Ot,this.uint8[gn+16]=Gt,this.uint8[gn+17]=Kt,Q},F}(si);vl.prototype.bytesPerElement=18,Gr("StructArrayLayout8ui2ub18",vl);var V=function(D){function F(){D.apply(this,arguments)}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},F.prototype.emplaceBack=function(Q,ve,Le,je,Ze,at,pt,Ct,Ot,Gt,Kt,$t){var gn=this.length;return this.resize(gn+1),this.emplace(gn,Q,ve,Le,je,Ze,at,pt,Ct,Ot,Gt,Kt,$t)},F.prototype.emplace=function(Q,ve,Le,je,Ze,at,pt,Ct,Ot,Gt,Kt,$t,gn){var xn=12*Q;return this.int16[xn+0]=ve,this.int16[xn+1]=Le,this.int16[xn+2]=je,this.int16[xn+3]=Ze,this.uint16[xn+4]=at,this.uint16[xn+5]=pt,this.uint16[xn+6]=Ct,this.uint16[xn+7]=Ot,this.int16[xn+8]=Gt,this.int16[xn+9]=Kt,this.int16[xn+10]=$t,this.int16[xn+11]=gn,Q},F}(si);V.prototype.bytesPerElement=24,Gr("StructArrayLayout4i4ui4i24",V);var $=function(D){function F(){D.apply(this,arguments)}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},F.prototype.emplaceBack=function(Q,ve,Le){var je=this.length;return this.resize(je+1),this.emplace(je,Q,ve,Le)},F.prototype.emplace=function(Q,ve,Le,je){var Ze=3*Q;return this.float32[Ze+0]=ve,this.float32[Ze+1]=Le,this.float32[Ze+2]=je,Q},F}(si);$.prototype.bytesPerElement=12,Gr("StructArrayLayout3f12",$);var W=function(D){function F(){D.apply(this,arguments)}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)},F.prototype.emplaceBack=function(Q){var ve=this.length;return this.resize(ve+1),this.emplace(ve,Q)},F.prototype.emplace=function(Q,ve){return this.uint32[1*Q+0]=ve,Q},F}(si);W.prototype.bytesPerElement=4,Gr("StructArrayLayout1ul4",W);var te=function(D){function F(){D.apply(this,arguments)}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},F.prototype.emplaceBack=function(Q,ve,Le,je,Ze,at,pt,Ct,Ot){var Gt=this.length;return this.resize(Gt+1),this.emplace(Gt,Q,ve,Le,je,Ze,at,pt,Ct,Ot)},F.prototype.emplace=function(Q,ve,Le,je,Ze,at,pt,Ct,Ot,Gt){var Kt=10*Q,$t=5*Q;return this.int16[Kt+0]=ve,this.int16[Kt+1]=Le,this.int16[Kt+2]=je,this.int16[Kt+3]=Ze,this.int16[Kt+4]=at,this.int16[Kt+5]=pt,this.uint32[$t+3]=Ct,this.uint16[Kt+8]=Ot,this.uint16[Kt+9]=Gt,Q},F}(si);te.prototype.bytesPerElement=20,Gr("StructArrayLayout6i1ul2ui20",te);var be=function(D){function F(){D.apply(this,arguments)}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},F.prototype.emplaceBack=function(Q,ve,Le,je,Ze,at){var pt=this.length;return this.resize(pt+1),this.emplace(pt,Q,ve,Le,je,Ze,at)},F.prototype.emplace=function(Q,ve,Le,je,Ze,at,pt){var Ct=6*Q;return this.int16[Ct+0]=ve,this.int16[Ct+1]=Le,this.int16[Ct+2]=je,this.int16[Ct+3]=Ze,this.int16[Ct+4]=at,this.int16[Ct+5]=pt,Q},F}(si);be.prototype.bytesPerElement=12,Gr("StructArrayLayout2i2i2i12",be);var Re=function(D){function F(){D.apply(this,arguments)}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},F.prototype.emplaceBack=function(Q,ve,Le,je,Ze){var at=this.length;return this.resize(at+1),this.emplace(at,Q,ve,Le,je,Ze)},F.prototype.emplace=function(Q,ve,Le,je,Ze,at){var pt=4*Q,Ct=8*Q;return this.float32[pt+0]=ve,this.float32[pt+1]=Le,this.float32[pt+2]=je,this.int16[Ct+6]=Ze,this.int16[Ct+7]=at,Q},F}(si);Re.prototype.bytesPerElement=16,Gr("StructArrayLayout2f1f2i16",Re);var H=function(D){function F(){D.apply(this,arguments)}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},F.prototype.emplaceBack=function(Q,ve,Le,je){var Ze=this.length;return this.resize(Ze+1),this.emplace(Ze,Q,ve,Le,je)},F.prototype.emplace=function(Q,ve,Le,je,Ze){var at=12*Q,pt=3*Q;return this.uint8[at+0]=ve,this.uint8[at+1]=Le,this.float32[pt+1]=je,this.float32[pt+2]=Ze,Q},F}(si);H.prototype.bytesPerElement=12,Gr("StructArrayLayout2ub2f12",H);var ie=function(D){function F(){D.apply(this,arguments)}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},F.prototype.emplaceBack=function(Q,ve,Le){var je=this.length;return this.resize(je+1),this.emplace(je,Q,ve,Le)},F.prototype.emplace=function(Q,ve,Le,je){var Ze=3*Q;return this.uint16[Ze+0]=ve,this.uint16[Ze+1]=Le,this.uint16[Ze+2]=je,Q},F}(si);ie.prototype.bytesPerElement=6,Gr("StructArrayLayout3ui6",ie);var fe=function(D){function F(){D.apply(this,arguments)}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},F.prototype.emplaceBack=function(Q,ve,Le,je,Ze,at,pt,Ct,Ot,Gt,Kt,$t,gn,xn,Fn,zn,$n){var Zn=this.length;return this.resize(Zn+1),this.emplace(Zn,Q,ve,Le,je,Ze,at,pt,Ct,Ot,Gt,Kt,$t,gn,xn,Fn,zn,$n)},F.prototype.emplace=function(Q,ve,Le,je,Ze,at,pt,Ct,Ot,Gt,Kt,$t,gn,xn,Fn,zn,$n,Zn){var lr=24*Q,gr=12*Q,br=48*Q;return this.int16[lr+0]=ve,this.int16[lr+1]=Le,this.uint16[lr+2]=je,this.uint16[lr+3]=Ze,this.uint32[gr+2]=at,this.uint32[gr+3]=pt,this.uint32[gr+4]=Ct,this.uint16[lr+10]=Ot,this.uint16[lr+11]=Gt,this.uint16[lr+12]=Kt,this.float32[gr+7]=$t,this.float32[gr+8]=gn,this.uint8[br+36]=xn,this.uint8[br+37]=Fn,this.uint8[br+38]=zn,this.uint32[gr+10]=$n,this.int16[lr+22]=Zn,Q},F}(si);fe.prototype.bytesPerElement=48,Gr("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",fe);var Me=function(D){function F(){D.apply(this,arguments)}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},F.prototype.emplaceBack=function(Q,ve,Le,je,Ze,at,pt,Ct,Ot,Gt,Kt,$t,gn,xn,Fn,zn,$n,Zn,lr,gr,br,Lr,Dr,jr,Jr,vi,Qr,ui){var oi=this.length;return this.resize(oi+1),this.emplace(oi,Q,ve,Le,je,Ze,at,pt,Ct,Ot,Gt,Kt,$t,gn,xn,Fn,zn,$n,Zn,lr,gr,br,Lr,Dr,jr,Jr,vi,Qr,ui)},F.prototype.emplace=function(Q,ve,Le,je,Ze,at,pt,Ct,Ot,Gt,Kt,$t,gn,xn,Fn,zn,$n,Zn,lr,gr,br,Lr,Dr,jr,Jr,vi,Qr,ui,oi){var Yr=34*Q,Ii=17*Q;return this.int16[Yr+0]=ve,this.int16[Yr+1]=Le,this.int16[Yr+2]=je,this.int16[Yr+3]=Ze,this.int16[Yr+4]=at,this.int16[Yr+5]=pt,this.int16[Yr+6]=Ct,this.int16[Yr+7]=Ot,this.uint16[Yr+8]=Gt,this.uint16[Yr+9]=Kt,this.uint16[Yr+10]=$t,this.uint16[Yr+11]=gn,this.uint16[Yr+12]=xn,this.uint16[Yr+13]=Fn,this.uint16[Yr+14]=zn,this.uint16[Yr+15]=$n,this.uint16[Yr+16]=Zn,this.uint16[Yr+17]=lr,this.uint16[Yr+18]=gr,this.uint16[Yr+19]=br,this.uint16[Yr+20]=Lr,this.uint16[Yr+21]=Dr,this.uint16[Yr+22]=jr,this.uint32[Ii+12]=Jr,this.float32[Ii+13]=vi,this.float32[Ii+14]=Qr,this.float32[Ii+15]=ui,this.float32[Ii+16]=oi,Q},F}(si);Me.prototype.bytesPerElement=68,Gr("StructArrayLayout8i15ui1ul4f68",Me);var Ce=function(D){function F(){D.apply(this,arguments)}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},F.prototype.emplaceBack=function(Q){var ve=this.length;return this.resize(ve+1),this.emplace(ve,Q)},F.prototype.emplace=function(Q,ve){return this.float32[1*Q+0]=ve,Q},F}(si);Ce.prototype.bytesPerElement=4,Gr("StructArrayLayout1f4",Ce);var Fe=function(D){function F(){D.apply(this,arguments)}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},F.prototype.emplaceBack=function(Q,ve,Le){var je=this.length;return this.resize(je+1),this.emplace(je,Q,ve,Le)},F.prototype.emplace=function(Q,ve,Le,je){var Ze=3*Q;return this.int16[Ze+0]=ve,this.int16[Ze+1]=Le,this.int16[Ze+2]=je,Q},F}(si);Fe.prototype.bytesPerElement=6,Gr("StructArrayLayout3i6",Fe);var $e=function(D){function F(){D.apply(this,arguments)}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},F.prototype.emplaceBack=function(Q,ve,Le){var je=this.length;return this.resize(je+1),this.emplace(je,Q,ve,Le)},F.prototype.emplace=function(Q,ve,Le,je){var at=4*Q;return this.uint32[2*Q+0]=ve,this.uint16[at+2]=Le,this.uint16[at+3]=je,Q},F}(si);$e.prototype.bytesPerElement=8,Gr("StructArrayLayout1ul2ui8",$e);var Xe=function(D){function F(){D.apply(this,arguments)}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},F.prototype.emplaceBack=function(Q,ve){var Le=this.length;return this.resize(Le+1),this.emplace(Le,Q,ve)},F.prototype.emplace=function(Q,ve,Le){var je=2*Q;return this.uint16[je+0]=ve,this.uint16[je+1]=Le,Q},F}(si);Xe.prototype.bytesPerElement=4,Gr("StructArrayLayout2ui4",Xe);var Qe=function(D){function F(){D.apply(this,arguments)}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},F.prototype.emplaceBack=function(Q){var ve=this.length;return this.resize(ve+1),this.emplace(ve,Q)},F.prototype.emplace=function(Q,ve){return this.uint16[1*Q+0]=ve,Q},F}(si);Qe.prototype.bytesPerElement=2,Gr("StructArrayLayout1ui2",Qe);var nt=function(D){function F(){D.apply(this,arguments)}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},F.prototype.emplaceBack=function(Q,ve){var Le=this.length;return this.resize(Le+1),this.emplace(Le,Q,ve)},F.prototype.emplace=function(Q,ve,Le){var je=2*Q;return this.float32[je+0]=ve,this.float32[je+1]=Le,Q},F}(si);nt.prototype.bytesPerElement=8,Gr("StructArrayLayout2f8",nt);var lt=function(D){function F(){D.apply(this,arguments)}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},F.prototype.emplaceBack=function(Q,ve,Le,je){var Ze=this.length;return this.resize(Ze+1),this.emplace(Ze,Q,ve,Le,je)},F.prototype.emplace=function(Q,ve,Le,je,Ze){var at=4*Q;return this.float32[at+0]=ve,this.float32[at+1]=Le,this.float32[at+2]=je,this.float32[at+3]=Ze,Q},F}(si);lt.prototype.bytesPerElement=16,Gr("StructArrayLayout4f16",lt);var _t=function(D){function F(){D.apply(this,arguments)}D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F;var Q={anchorPointX:{configurable:!0},anchorPointY:{configurable:!0},x1:{configurable:!0},y1:{configurable:!0},x2:{configurable:!0},y2:{configurable:!0},featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0},anchorPoint:{configurable:!0}};return Q.anchorPointX.get=function(){return this._structArray.int16[this._pos2+0]},Q.anchorPointY.get=function(){return this._structArray.int16[this._pos2+1]},Q.x1.get=function(){return this._structArray.int16[this._pos2+2]},Q.y1.get=function(){return this._structArray.int16[this._pos2+3]},Q.x2.get=function(){return this._structArray.int16[this._pos2+4]},Q.y2.get=function(){return this._structArray.int16[this._pos2+5]},Q.featureIndex.get=function(){return this._structArray.uint32[this._pos4+3]},Q.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+8]},Q.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+9]},Q.anchorPoint.get=function(){return new i(this.anchorPointX,this.anchorPointY)},Object.defineProperties(F.prototype,Q),F}(ml);_t.prototype.size=20;var At=function(D){function F(){D.apply(this,arguments)}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype.get=function(Q){return new _t(this,Q)},F}(te);Gr("CollisionBoxArray",At);var jt=function(D){function F(){D.apply(this,arguments)}D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F;var Q={anchorX:{configurable:!0},anchorY:{configurable:!0},glyphStartIndex:{configurable:!0},numGlyphs:{configurable:!0},vertexStartIndex:{configurable:!0},lineStartIndex:{configurable:!0},lineLength:{configurable:!0},segment:{configurable:!0},lowerSize:{configurable:!0},upperSize:{configurable:!0},lineOffsetX:{configurable:!0},lineOffsetY:{configurable:!0},writingMode:{configurable:!0},placedOrientation:{configurable:!0},hidden:{configurable:!0},crossTileID:{configurable:!0},associatedIconIndex:{configurable:!0}};return Q.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},Q.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},Q.glyphStartIndex.get=function(){return this._structArray.uint16[this._pos2+2]},Q.numGlyphs.get=function(){return this._structArray.uint16[this._pos2+3]},Q.vertexStartIndex.get=function(){return this._structArray.uint32[this._pos4+2]},Q.lineStartIndex.get=function(){return this._structArray.uint32[this._pos4+3]},Q.lineLength.get=function(){return this._structArray.uint32[this._pos4+4]},Q.segment.get=function(){return this._structArray.uint16[this._pos2+10]},Q.lowerSize.get=function(){return this._structArray.uint16[this._pos2+11]},Q.upperSize.get=function(){return this._structArray.uint16[this._pos2+12]},Q.lineOffsetX.get=function(){return this._structArray.float32[this._pos4+7]},Q.lineOffsetY.get=function(){return this._structArray.float32[this._pos4+8]},Q.writingMode.get=function(){return this._structArray.uint8[this._pos1+36]},Q.placedOrientation.get=function(){return this._structArray.uint8[this._pos1+37]},Q.placedOrientation.set=function(ve){this._structArray.uint8[this._pos1+37]=ve},Q.hidden.get=function(){return this._structArray.uint8[this._pos1+38]},Q.hidden.set=function(ve){this._structArray.uint8[this._pos1+38]=ve},Q.crossTileID.get=function(){return this._structArray.uint32[this._pos4+10]},Q.crossTileID.set=function(ve){this._structArray.uint32[this._pos4+10]=ve},Q.associatedIconIndex.get=function(){return this._structArray.int16[this._pos2+22]},Object.defineProperties(F.prototype,Q),F}(ml);jt.prototype.size=48;var Ht=function(D){function F(){D.apply(this,arguments)}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype.get=function(Q){return new jt(this,Q)},F}(fe);Gr("PlacedSymbolArray",Ht);var zt=function(D){function F(){D.apply(this,arguments)}D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F;var Q={anchorX:{configurable:!0},anchorY:{configurable:!0},rightJustifiedTextSymbolIndex:{configurable:!0},centerJustifiedTextSymbolIndex:{configurable:!0},leftJustifiedTextSymbolIndex:{configurable:!0},verticalPlacedTextSymbolIndex:{configurable:!0},placedIconSymbolIndex:{configurable:!0},verticalPlacedIconSymbolIndex:{configurable:!0},key:{configurable:!0},textBoxStartIndex:{configurable:!0},textBoxEndIndex:{configurable:!0},verticalTextBoxStartIndex:{configurable:!0},verticalTextBoxEndIndex:{configurable:!0},iconBoxStartIndex:{configurable:!0},iconBoxEndIndex:{configurable:!0},verticalIconBoxStartIndex:{configurable:!0},verticalIconBoxEndIndex:{configurable:!0},featureIndex:{configurable:!0},numHorizontalGlyphVertices:{configurable:!0},numVerticalGlyphVertices:{configurable:!0},numIconVertices:{configurable:!0},numVerticalIconVertices:{configurable:!0},useRuntimeCollisionCircles:{configurable:!0},crossTileID:{configurable:!0},textBoxScale:{configurable:!0},textOffset0:{configurable:!0},textOffset1:{configurable:!0},collisionCircleDiameter:{configurable:!0}};return Q.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},Q.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},Q.rightJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+2]},Q.centerJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+3]},Q.leftJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+4]},Q.verticalPlacedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+5]},Q.placedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+6]},Q.verticalPlacedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+7]},Q.key.get=function(){return this._structArray.uint16[this._pos2+8]},Q.textBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+9]},Q.textBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+10]},Q.verticalTextBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+11]},Q.verticalTextBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+12]},Q.iconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+13]},Q.iconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+14]},Q.verticalIconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+15]},Q.verticalIconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+16]},Q.featureIndex.get=function(){return this._structArray.uint16[this._pos2+17]},Q.numHorizontalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+18]},Q.numVerticalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+19]},Q.numIconVertices.get=function(){return this._structArray.uint16[this._pos2+20]},Q.numVerticalIconVertices.get=function(){return this._structArray.uint16[this._pos2+21]},Q.useRuntimeCollisionCircles.get=function(){return this._structArray.uint16[this._pos2+22]},Q.crossTileID.get=function(){return this._structArray.uint32[this._pos4+12]},Q.crossTileID.set=function(ve){this._structArray.uint32[this._pos4+12]=ve},Q.textBoxScale.get=function(){return this._structArray.float32[this._pos4+13]},Q.textOffset0.get=function(){return this._structArray.float32[this._pos4+14]},Q.textOffset1.get=function(){return this._structArray.float32[this._pos4+15]},Q.collisionCircleDiameter.get=function(){return this._structArray.float32[this._pos4+16]},Object.defineProperties(F.prototype,Q),F}(ml);zt.prototype.size=68;var Xt=function(D){function F(){D.apply(this,arguments)}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype.get=function(Q){return new zt(this,Q)},F}(Me);Gr("SymbolInstanceArray",Xt);var Vt=function(D){function F(){D.apply(this,arguments)}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype.getoffsetX=function(Q){return this.float32[1*Q+0]},F}(Ce);Gr("GlyphOffsetArray",Vt);var mn=function(D){function F(){D.apply(this,arguments)}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype.getx=function(Q){return this.int16[3*Q+0]},F.prototype.gety=function(Q){return this.int16[3*Q+1]},F.prototype.gettileUnitDistanceFromAnchor=function(Q){return this.int16[3*Q+2]},F}(Fe);Gr("SymbolLineVertexArray",mn);var sn=function(D){function F(){D.apply(this,arguments)}D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F;var Q={featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0}};return Q.featureIndex.get=function(){return this._structArray.uint32[this._pos4+0]},Q.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+2]},Q.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+3]},Object.defineProperties(F.prototype,Q),F}(ml);sn.prototype.size=8;var tn=function(D){function F(){D.apply(this,arguments)}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype.get=function(Q){return new sn(this,Q)},F}($e);Gr("FeatureIndexArray",tn);var On=qo([{name:"a_pos",components:2,type:"Int16"}],4).members,In=function(D){void 0===D&&(D=[]),this.segments=D};function rr(D,F){return 256*(D=l(Math.floor(D),0,255))+l(Math.floor(F),0,255)}In.prototype.prepareSegment=function(D,F,Q,ve){var Le=this.segments[this.segments.length-1];return D>In.MAX_VERTEX_ARRAY_LENGTH&&C("Max vertices per segment is "+In.MAX_VERTEX_ARRAY_LENGTH+": bucket requested "+D),(!Le||Le.vertexLength+D>In.MAX_VERTEX_ARRAY_LENGTH||Le.sortKey!==ve)&&(Le={vertexOffset:F.length,primitiveOffset:Q.length,vertexLength:0,primitiveLength:0},void 0!==ve&&(Le.sortKey=ve),this.segments.push(Le)),Le},In.prototype.get=function(){return this.segments},In.prototype.destroy=function(){for(var D=0,F=this.segments;D<F.length;D+=1){var Q=F[D];for(var ve in Q.vaos)Q.vaos[ve].destroy()}},In.simpleSegment=function(D,F,Q,ve){return new In([{vertexOffset:D,primitiveOffset:F,vertexLength:Q,primitiveLength:ve,vaos:{},sortKey:0}])},In.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Gr("SegmentVector",In);var Xn=qo([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint8"},{name:"a_pixel_ratio_to",components:1,type:"Uint8"}]),ur=S(function(D){D.exports=function(F,Q){var ve,Le,je,Ze,at,pt,Ct,Ot;for(Le=F.length-(ve=3&F.length),je=Q,at=3432918353,pt=461845907,Ot=0;Ot<Le;)Ct=255&F.charCodeAt(Ot)|(255&F.charCodeAt(++Ot))<<8|(255&F.charCodeAt(++Ot))<<16|(255&F.charCodeAt(++Ot))<<24,++Ot,je=27492+(65535&(Ze=5*(65535&(je=(je^=Ct=(65535&(Ct=(Ct=(65535&Ct)*at+(((Ct>>>16)*at&65535)<<16)&4294967295)<<15|Ct>>>17))*pt+(((Ct>>>16)*pt&65535)<<16)&4294967295)<<13|je>>>19))+((5*(je>>>16)&65535)<<16)&4294967295))+((58964+(Ze>>>16)&65535)<<16);switch(Ct=0,ve){case 3:Ct^=(255&F.charCodeAt(Ot+2))<<16;case 2:Ct^=(255&F.charCodeAt(Ot+1))<<8;case 1:je^=Ct=(65535&(Ct=(Ct=(65535&(Ct^=255&F.charCodeAt(Ot)))*at+(((Ct>>>16)*at&65535)<<16)&4294967295)<<15|Ct>>>17))*pt+(((Ct>>>16)*pt&65535)<<16)&4294967295}return je^=F.length,je=2246822507*(65535&(je^=je>>>16))+((2246822507*(je>>>16)&65535)<<16)&4294967295,je=3266489909*(65535&(je^=je>>>13))+((3266489909*(je>>>16)&65535)<<16)&4294967295,(je^=je>>>16)>>>0}}),yr=S(function(D){D.exports=function(F,Q){for(var ve,Le=F.length,je=Q^Le,Ze=0;Le>=4;)ve=1540483477*(65535&(ve=255&F.charCodeAt(Ze)|(255&F.charCodeAt(++Ze))<<8|(255&F.charCodeAt(++Ze))<<16|(255&F.charCodeAt(++Ze))<<24))+((1540483477*(ve>>>16)&65535)<<16),je=1540483477*(65535&je)+((1540483477*(je>>>16)&65535)<<16)^(ve=1540483477*(65535&(ve^=ve>>>24))+((1540483477*(ve>>>16)&65535)<<16)),Le-=4,++Ze;switch(Le){case 3:je^=(255&F.charCodeAt(Ze+2))<<16;case 2:je^=(255&F.charCodeAt(Ze+1))<<8;case 1:je=1540483477*(65535&(je^=255&F.charCodeAt(Ze)))+((1540483477*(je>>>16)&65535)<<16)}return je=1540483477*(65535&(je^=je>>>13))+((1540483477*(je>>>16)&65535)<<16),(je^=je>>>15)>>>0}}),wr=ur,Ir=yr;wr.murmur3=ur,wr.murmur2=Ir;var Rr=function(){this.ids=[],this.positions=[],this.indexed=!1};Rr.prototype.add=function(D,F,Q,ve){this.ids.push(ar(D)),this.positions.push(F,Q,ve)},Rr.prototype.getPositions=function(D){for(var F=ar(D),Q=0,ve=this.ids.length-1;Q<ve;){var Le=Q+ve>>1;this.ids[Le]>=F?ve=Le:Q=Le+1}for(var je=[];this.ids[Q]===F;)je.push({index:this.positions[3*Q],start:this.positions[3*Q+1],end:this.positions[3*Q+2]}),Q++;return je},Rr.serialize=function(D,F){var Q=new Float64Array(D.ids),ve=new Uint32Array(D.positions);return Mr(Q,ve,0,Q.length-1),F&&F.push(Q.buffer,ve.buffer),{ids:Q,positions:ve}},Rr.deserialize=function(D){var F=new Rr;return F.ids=D.ids,F.positions=D.positions,F.indexed=!0,F};var ai=Math.pow(2,53)-1;function ar(D){var F=+D;return!isNaN(F)&&F<=ai?F:wr(String(D))}function Mr(D,F,Q,ve){for(;Q<ve;){for(var Le=D[Q+ve>>1],je=Q-1,Ze=ve+1;;){do{je++}while(D[je]<Le);do{Ze--}while(D[Ze]>Le);if(je>=Ze)break;Or(D,je,Ze),Or(F,3*je,3*Ze),Or(F,3*je+1,3*Ze+1),Or(F,3*je+2,3*Ze+2)}Ze-Q<ve-Ze?(Mr(D,F,Q,Ze),Q=Ze+1):(Mr(D,F,Ze+1,ve),ve=Ze)}}function Or(D,F,Q){var ve=D[F];D[F]=D[Q],D[Q]=ve}Gr("FeaturePositionMap",Rr);var qr=function(D,F){this.gl=D.gl,this.location=F},ri=function(D){function F(Q,ve){D.call(this,Q,ve),this.current=0}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype.set=function(Q){this.current!==Q&&(this.current=Q,this.gl.uniform1i(this.location,Q))},F}(qr),gi=function(D){function F(Q,ve){D.call(this,Q,ve),this.current=0}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype.set=function(Q){this.current!==Q&&(this.current=Q,this.gl.uniform1f(this.location,Q))},F}(qr),Ti=function(D){function F(Q,ve){D.call(this,Q,ve),this.current=[0,0]}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype.set=function(Q){Q[0]===this.current[0]&&Q[1]===this.current[1]||(this.current=Q,this.gl.uniform2f(this.location,Q[0],Q[1]))},F}(qr),Yi=function(D){function F(Q,ve){D.call(this,Q,ve),this.current=[0,0,0]}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype.set=function(Q){Q[0]===this.current[0]&&Q[1]===this.current[1]&&Q[2]===this.current[2]||(this.current=Q,this.gl.uniform3f(this.location,Q[0],Q[1],Q[2]))},F}(qr),vo=function(D){function F(Q,ve){D.call(this,Q,ve),this.current=[0,0,0,0]}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype.set=function(Q){Q[0]===this.current[0]&&Q[1]===this.current[1]&&Q[2]===this.current[2]&&Q[3]===this.current[3]||(this.current=Q,this.gl.uniform4f(this.location,Q[0],Q[1],Q[2],Q[3]))},F}(qr),ho=function(D){function F(Q,ve){D.call(this,Q,ve),this.current=Cn.transparent}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype.set=function(Q){Q.r===this.current.r&&Q.g===this.current.g&&Q.b===this.current.b&&Q.a===this.current.a||(this.current=Q,this.gl.uniform4f(this.location,Q.r,Q.g,Q.b,Q.a))},F}(qr),Zi=new Float32Array(16),Do=function(D){function F(Q,ve){D.call(this,Q,ve),this.current=Zi}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype.set=function(Q){if(Q[12]!==this.current[12]||Q[0]!==this.current[0])return this.current=Q,void this.gl.uniformMatrix4fv(this.location,!1,Q);for(var ve=1;ve<16;ve++)if(Q[ve]!==this.current[ve]){this.current=Q,this.gl.uniformMatrix4fv(this.location,!1,Q);break}},F}(qr);function ma(D){return[rr(255*D.r,255*D.g),rr(255*D.b,255*D.a)]}var Kr=function(D,F,Q){this.value=D,this.uniformNames=F.map(function(ve){return"u_"+ve}),this.type=Q};Kr.prototype.setUniform=function(D,F,Q){D.set(Q.constantOr(this.value))},Kr.prototype.getBinding=function(D,F,Q){return"color"===this.type?new ho(D,F):new gi(D,F)};var ta=function(D,F){this.uniformNames=F.map(function(Q){return"u_"+Q}),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1};ta.prototype.setConstantPatternPositions=function(D,F){this.pixelRatioFrom=F.pixelRatio,this.pixelRatioTo=D.pixelRatio,this.patternFrom=F.tlbr,this.patternTo=D.tlbr},ta.prototype.setUniform=function(D,F,Q,ve){var Le="u_pattern_to"===ve?this.patternTo:"u_pattern_from"===ve?this.patternFrom:"u_pixel_ratio_to"===ve?this.pixelRatioTo:"u_pixel_ratio_from"===ve?this.pixelRatioFrom:null;Le&&D.set(Le)},ta.prototype.getBinding=function(D,F,Q){return"u_pattern"===Q.substr(0,9)?new vo(D,F):new gi(D,F)};var Xi=function(D,F,Q,ve){this.expression=D,this.type=Q,this.maxValue=0,this.paintVertexAttributes=F.map(function(Le){return{name:"a_"+Le,type:"Float32",components:"color"===Q?2:1,offset:0}}),this.paintVertexArray=new ve};Xi.prototype.populatePaintArray=function(D,F,Q,ve,Le){var je=this.paintVertexArray.length,Ze=this.expression.evaluate(new io(0),F,{},ve,[],Le);this.paintVertexArray.resize(D),this._setPaintValue(je,D,Ze)},Xi.prototype.updatePaintArray=function(D,F,Q,ve){var Le=this.expression.evaluate({zoom:0},Q,ve);this._setPaintValue(D,F,Le)},Xi.prototype._setPaintValue=function(D,F,Q){if("color"===this.type)for(var ve=ma(Q),Le=D;Le<F;Le++)this.paintVertexArray.emplace(Le,ve[0],ve[1]);else{for(var je=D;je<F;je++)this.paintVertexArray.emplace(je,Q);this.maxValue=Math.max(this.maxValue,Math.abs(Q))}},Xi.prototype.upload=function(D){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=D.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},Xi.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()};var Ci=function(D,F,Q,ve,Le,je){this.expression=D,this.uniformNames=F.map(function(Ze){return"u_"+Ze+"_t"}),this.type=Q,this.useIntegerZoom=ve,this.zoom=Le,this.maxValue=0,this.paintVertexAttributes=F.map(function(Ze){return{name:"a_"+Ze,type:"Float32",components:"color"===Q?4:2,offset:0}}),this.paintVertexArray=new je};Ci.prototype.populatePaintArray=function(D,F,Q,ve,Le){var je=this.expression.evaluate(new io(this.zoom),F,{},ve,[],Le),Ze=this.expression.evaluate(new io(this.zoom+1),F,{},ve,[],Le),at=this.paintVertexArray.length;this.paintVertexArray.resize(D),this._setPaintValue(at,D,je,Ze)},Ci.prototype.updatePaintArray=function(D,F,Q,ve){var Le=this.expression.evaluate({zoom:this.zoom},Q,ve),je=this.expression.evaluate({zoom:this.zoom+1},Q,ve);this._setPaintValue(D,F,Le,je)},Ci.prototype._setPaintValue=function(D,F,Q,ve){if("color"===this.type)for(var Le=ma(Q),je=ma(ve),Ze=D;Ze<F;Ze++)this.paintVertexArray.emplace(Ze,Le[0],Le[1],je[0],je[1]);else{for(var at=D;at<F;at++)this.paintVertexArray.emplace(at,Q,ve);this.maxValue=Math.max(this.maxValue,Math.abs(Q),Math.abs(ve))}},Ci.prototype.upload=function(D){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=D.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},Ci.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},Ci.prototype.setUniform=function(D,F){var Q=this.useIntegerZoom?Math.floor(F.zoom):F.zoom,ve=l(this.expression.interpolationFactor(Q,this.zoom,this.zoom+1),0,1);D.set(ve)},Ci.prototype.getBinding=function(D,F,Q){return new gi(D,F)};var yo=function(D,F,Q,ve,Le,je){this.expression=D,this.type=F,this.useIntegerZoom=Q,this.zoom=ve,this.layerId=je,this.zoomInPaintVertexArray=new Le,this.zoomOutPaintVertexArray=new Le};yo.prototype.populatePaintArray=function(D,F,Q){var ve=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(D),this.zoomOutPaintVertexArray.resize(D),this._setPaintValues(ve,D,F.patterns&&F.patterns[this.layerId],Q)},yo.prototype.updatePaintArray=function(D,F,Q,ve,Le){this._setPaintValues(D,F,Q.patterns&&Q.patterns[this.layerId],Le)},yo.prototype._setPaintValues=function(D,F,Q,ve){if(ve&&Q){var at=ve[Q.min],pt=ve[Q.mid],Ct=ve[Q.max];if(at&&pt&&Ct)for(var Ot=D;Ot<F;Ot++)this.zoomInPaintVertexArray.emplace(Ot,pt.tl[0],pt.tl[1],pt.br[0],pt.br[1],at.tl[0],at.tl[1],at.br[0],at.br[1],pt.pixelRatio,at.pixelRatio),this.zoomOutPaintVertexArray.emplace(Ot,pt.tl[0],pt.tl[1],pt.br[0],pt.br[1],Ct.tl[0],Ct.tl[1],Ct.br[0],Ct.br[1],pt.pixelRatio,Ct.pixelRatio)}},yo.prototype.upload=function(D){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=D.createVertexBuffer(this.zoomInPaintVertexArray,Xn.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=D.createVertexBuffer(this.zoomOutPaintVertexArray,Xn.members,this.expression.isStateDependent))},yo.prototype.destroy=function(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()};var lo=function(D,F,Q,ve){this.binders={},this.layoutAttributes=ve,this._buffers=[];var Le=[];for(var je in D.paint._values)if(Q(je)){var Ze=D.paint.get(je);if(Ze instanceof ua&&Ta(Ze.property.specification)){var at=fa(je,D.type),pt=Ze.value,Ct=Ze.property.specification.type,Ot=Ze.property.useIntegerZoom,Gt=Ze.property.specification["property-type"],Kt="cross-faded"===Gt||"cross-faded-data-driven"===Gt;if("constant"===pt.kind)this.binders[je]=Kt?new ta(pt.value,at):new Kr(pt.value,at,Ct),Le.push("/u_"+je);else if("source"===pt.kind||Kt){var $t=Oo(je,Ct,"source");this.binders[je]=Kt?new yo(pt,Ct,Ot,F,$t,D.id):new Xi(pt,at,Ct,$t),Le.push("/a_"+je)}else{var gn=Oo(je,Ct,"composite");this.binders[je]=new Ci(pt,at,Ct,Ot,F,gn),Le.push("/z_"+je)}}}this.cacheKey=Le.sort().join("")};lo.prototype.getMaxValue=function(D){var F=this.binders[D];return F instanceof Xi||F instanceof Ci?F.maxValue:0},lo.prototype.populatePaintArrays=function(D,F,Q,ve,Le){for(var je in this.binders){var Ze=this.binders[je];(Ze instanceof Xi||Ze instanceof Ci||Ze instanceof yo)&&Ze.populatePaintArray(D,F,Q,ve,Le)}},lo.prototype.setConstantPatternPositions=function(D,F){for(var Q in this.binders){var ve=this.binders[Q];ve instanceof ta&&ve.setConstantPatternPositions(D,F)}},lo.prototype.updatePaintArrays=function(D,F,Q,ve,Le){var je=!1;for(var Ze in D)for(var at=0,pt=F.getPositions(Ze);at<pt.length;at+=1){var Ct=pt[at],Ot=Q.feature(Ct.index);for(var Gt in this.binders){var Kt=this.binders[Gt];if((Kt instanceof Xi||Kt instanceof Ci||Kt instanceof yo)&&!0===Kt.expression.isStateDependent){var $t=ve.paint.get(Gt);Kt.expression=$t.value,Kt.updatePaintArray(Ct.start,Ct.end,Ot,D[Ze],Le),je=!0}}}return je},lo.prototype.defines=function(){var D=[];for(var F in this.binders){var Q=this.binders[F];(Q instanceof Kr||Q instanceof ta)&&D.push.apply(D,Q.uniformNames.map(function(ve){return"#define HAS_UNIFORM_"+ve}))}return D},lo.prototype.getPaintVertexBuffers=function(){return this._buffers},lo.prototype.getUniforms=function(D,F){var Q=[];for(var ve in this.binders){var Le=this.binders[ve];if(Le instanceof Kr||Le instanceof ta||Le instanceof Ci)for(var je=0,Ze=Le.uniformNames;je<Ze.length;je+=1){var at=Ze[je];if(F[at]){var pt=Le.getBinding(D,F[at],at);Q.push({name:at,property:ve,binding:pt})}}}return Q},lo.prototype.setUniforms=function(D,F,Q,ve){for(var Le=0,je=F;Le<je.length;Le+=1){var Ze=je[Le],at=Ze.name,pt=Ze.property;this.binders[pt].setUniform(Ze.binding,ve,Q.get(pt),at)}},lo.prototype.updatePaintBuffers=function(D){for(var F in this._buffers=[],this.binders){var Q=this.binders[F];if(D&&Q instanceof yo){var ve=2===D.fromScale?Q.zoomInPaintVertexBuffer:Q.zoomOutPaintVertexBuffer;ve&&this._buffers.push(ve)}else(Q instanceof Xi||Q instanceof Ci)&&Q.paintVertexBuffer&&this._buffers.push(Q.paintVertexBuffer)}},lo.prototype.upload=function(D){for(var F in this.binders){var Q=this.binders[F];(Q instanceof Xi||Q instanceof Ci||Q instanceof yo)&&Q.upload(D)}this.updatePaintBuffers()},lo.prototype.destroy=function(){for(var D in this.binders){var F=this.binders[D];(F instanceof Xi||F instanceof Ci||F instanceof yo)&&F.destroy()}};var _o=function(D,F,Q,ve){void 0===ve&&(ve=function(){return!0}),this.programConfigurations={};for(var Le=0,je=F;Le<je.length;Le+=1){var Ze=je[Le];this.programConfigurations[Ze.id]=new lo(Ze,Q,ve,D)}this.needsUpload=!1,this._featureMap=new Rr,this._bufferOffset=0};function fa(D,F){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[D]||[D.replace(F+"-","").replace(/-/g,"_")]}function Oo(D,F,Q){var Le={"line-pattern":{source:vl,composite:vl},"fill-pattern":{source:vl,composite:vl},"fill-extrusion-pattern":{source:vl,composite:vl}}[D];return Le&&Le[Q]||{color:{source:nt,composite:lt},number:{source:Ce,composite:nt}}[F][Q]}_o.prototype.populatePaintArrays=function(D,F,Q,ve,Le,je){for(var Ze in this.programConfigurations)this.programConfigurations[Ze].populatePaintArrays(D,F,ve,Le,je);void 0!==F.id&&this._featureMap.add(F.id,Q,this._bufferOffset,D),this._bufferOffset=D,this.needsUpload=!0},_o.prototype.updatePaintArrays=function(D,F,Q,ve){for(var Le=0,je=Q;Le<je.length;Le+=1){var Ze=je[Le];this.needsUpload=this.programConfigurations[Ze.id].updatePaintArrays(D,this._featureMap,F,Ze,ve)||this.needsUpload}},_o.prototype.get=function(D){return this.programConfigurations[D]},_o.prototype.upload=function(D){if(this.needsUpload){for(var F in this.programConfigurations)this.programConfigurations[F].upload(D);this.needsUpload=!1}},_o.prototype.destroy=function(){for(var D in this.programConfigurations)this.programConfigurations[D].destroy()},Gr("ConstantBinder",Kr),Gr("CrossFadedConstantBinder",ta),Gr("SourceExpressionBinder",Xi),Gr("CrossFadedCompositeBinder",yo),Gr("CompositeExpressionBinder",Ci),Gr("ProgramConfiguration",lo,{omit:["_buffers"]}),Gr("ProgramConfigurationSet",_o);var eo=8192,rs=(15,{min:-1*Math.pow(2,14),max:Math.pow(2,14)-1});function ws(D){for(var F=eo/D.extent,Q=D.loadGeometry(),ve=0;ve<Q.length;ve++)for(var Le=Q[ve],je=0;je<Le.length;je++){var Ze=Le[je];Ze.x=Math.round(Ze.x*F),Ze.y=Math.round(Ze.y*F),(Ze.x<rs.min||Ze.x>rs.max||Ze.y<rs.min||Ze.y>rs.max)&&(C("Geometry exceeds allowed extent, reduce your vector tile buffer size"),Ze.x=l(Ze.x,rs.min,rs.max),Ze.y=l(Ze.y,rs.min,rs.max))}return Q}function Tr(D,F,Q,ve,Le){D.emplaceBack(2*F+(ve+1)/2,2*Q+(Le+1)/2)}var di=function(D){this.zoom=D.zoom,this.overscaling=D.overscaling,this.layers=D.layers,this.layerIds=this.layers.map(function(F){return F.id}),this.index=D.index,this.hasPattern=!1,this.layoutVertexArray=new ns,this.indexArray=new ie,this.segments=new In,this.programConfigurations=new _o(On,D.layers,D.zoom),this.stateDependentLayerIds=this.layers.filter(function(F){return F.isStateDependent()}).map(function(F){return F.id})};function na(D,F){for(var Q=0;Q<D.length;Q++)if(kf(F,D[Q]))return!0;for(var ve=0;ve<F.length;ve++)if(kf(D,F[ve]))return!0;return!!wu(D,F)}function Qs(D,F,Q){return!!kf(D,F)||!!Sf(F,D,Q)}function is(D,F){if(1===D.length)return ip(F,D[0]);for(var Q=0;Q<F.length;Q++)for(var ve=F[Q],Le=0;Le<ve.length;Le++)if(kf(D,ve[Le]))return!0;for(var je=0;je<D.length;je++)if(ip(F,D[je]))return!0;for(var Ze=0;Ze<F.length;Ze++)if(wu(D,F[Ze]))return!0;return!1}function rp(D,F,Q){if(D.length>1){if(wu(D,F))return!0;for(var ve=0;ve<F.length;ve++)if(Sf(F[ve],D,Q))return!0}for(var Le=0;Le<D.length;Le++)if(Sf(D[Le],F,Q))return!0;return!1}function wu(D,F){if(0===D.length||0===F.length)return!1;for(var Q=0;Q<D.length-1;Q++)for(var ve=D[Q],Le=D[Q+1],je=0;je<F.length-1;je++)if(yl(ve,Le,F[je],F[je+1]))return!0;return!1}function yl(D,F,Q,ve){return k(D,Q,ve)!==k(F,Q,ve)&&k(D,F,Q)!==k(D,F,ve)}function Sf(D,F,Q){var ve=Q*Q;if(1===F.length)return D.distSqr(F[0])<ve;for(var Le=1;Le<F.length;Le++)if(Tu(D,F[Le-1],F[Le])<ve)return!0;return!1}function Tu(D,F,Q){var ve=F.distSqr(Q);if(0===ve)return D.distSqr(F);var Le=((D.x-F.x)*(Q.x-F.x)+(D.y-F.y)*(Q.y-F.y))/ve;return D.distSqr(Le<0?F:Le>1?Q:Q.sub(F)._mult(Le)._add(F))}function ip(D,F){for(var Q,ve,Le,je=!1,Ze=0;Ze<D.length;Ze++)for(var at=0,pt=(Q=D[Ze]).length-1;at<Q.length;pt=at++)(ve=Q[at]).y>F.y!=(Le=Q[pt]).y>F.y&&F.x<(Le.x-ve.x)*(F.y-ve.y)/(Le.y-ve.y)+ve.x&&(je=!je);return je}function kf(D,F){for(var Q=!1,ve=0,Le=D.length-1;ve<D.length;Le=ve++){var je=D[ve],Ze=D[Le];je.y>F.y!=Ze.y>F.y&&F.x<(Ze.x-je.x)*(F.y-je.y)/(Ze.y-je.y)+je.x&&(Q=!Q)}return Q}function rd(D,F,Q){var ve=Q[0],Le=Q[2];if(D.x<ve.x&&F.x<ve.x||D.x>Le.x&&F.x>Le.x||D.y<ve.y&&F.y<ve.y||D.y>Le.y&&F.y>Le.y)return!1;var je=k(D,F,Q[0]);return je!==k(D,F,Q[1])||je!==k(D,F,Q[2])||je!==k(D,F,Q[3])}function ds(D,F,Q){var ve=F.paint.get(D).value;return"constant"===ve.kind?ve.value:Q.programConfigurations.get(F.id).getMaxValue(D)}function pc(D){return Math.sqrt(D[0]*D[0]+D[1]*D[1])}function eh(D,F,Q,ve,Le){if(!F[0]&&!F[1])return D;var je=i.convert(F)._mult(Le);"viewport"===Q&&je._rotate(-ve);for(var Ze=[],at=0;at<D.length;at++)Ze.push(D[at].sub(je));return Ze}di.prototype.populate=function(D,F,Q){var ve=this.layers[0],Le=[],je=null;"circle"===ve.type&&(je=ve.layout.get("circle-sort-key"));for(var Ze=0,at=D;Ze<at.length;Ze+=1){var pt=at[Ze],Ct=pt.feature,Ot=pt.id,Gt=pt.index,Kt=pt.sourceLayerIndex,$t=this.layers[0]._featureFilter.needGeometry,gn={type:Ct.type,id:Ot,properties:Ct.properties,geometry:$t?ws(Ct):[]};if(this.layers[0]._featureFilter.filter(new io(this.zoom),gn,Q)){$t||(gn.geometry=ws(Ct));var xn=je?je.evaluate(gn,{},Q):void 0;Le.push({id:Ot,properties:Ct.properties,type:Ct.type,sourceLayerIndex:Kt,index:Gt,geometry:gn.geometry,patterns:{},sortKey:xn})}}je&&Le.sort(function(jr,Jr){return jr.sortKey-Jr.sortKey});for(var zn=0,$n=Le;zn<$n.length;zn+=1){var Zn=$n[zn],gr=Zn.geometry,br=Zn.index,Lr=Zn.sourceLayerIndex,Dr=D[br].feature;this.addFeature(Zn,gr,br,Q),F.featureIndex.insert(Dr,gr,br,Lr,this.index)}},di.prototype.update=function(D,F,Q){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(D,F,this.stateDependentLayers,Q)},di.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},di.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},di.prototype.upload=function(D){this.uploaded||(this.layoutVertexBuffer=D.createVertexBuffer(this.layoutVertexArray,On),this.indexBuffer=D.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(D),this.uploaded=!0},di.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},di.prototype.addFeature=function(D,F,Q,ve){for(var Le=0,je=F;Le<je.length;Le+=1)for(var Ze=0,at=je[Le];Ze<at.length;Ze+=1){var pt=at[Ze],Ct=pt.x,Ot=pt.y;if(!(Ct<0||Ct>=eo||Ot<0||Ot>=eo)){var Gt=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,D.sortKey),Kt=Gt.vertexLength;Tr(this.layoutVertexArray,Ct,Ot,-1,-1),Tr(this.layoutVertexArray,Ct,Ot,1,-1),Tr(this.layoutVertexArray,Ct,Ot,1,1),Tr(this.layoutVertexArray,Ct,Ot,-1,1),this.indexArray.emplaceBack(Kt,Kt+1,Kt+2),this.indexArray.emplaceBack(Kt,Kt+3,Kt+2),Gt.vertexLength+=4,Gt.primitiveLength+=2}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,D,Q,{},ve)},Gr("CircleBucket",di,{omit:["layers"]});var id=new Ea({"circle-sort-key":new ni(Ve.layout_circle["circle-sort-key"])}),Mu={paint:new Ea({"circle-radius":new ni(Ve.paint_circle["circle-radius"]),"circle-color":new ni(Ve.paint_circle["circle-color"]),"circle-blur":new ni(Ve.paint_circle["circle-blur"]),"circle-opacity":new ni(Ve.paint_circle["circle-opacity"]),"circle-translate":new ti(Ve.paint_circle["circle-translate"]),"circle-translate-anchor":new ti(Ve.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new ti(Ve.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new ti(Ve.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new ni(Ve.paint_circle["circle-stroke-width"]),"circle-stroke-color":new ni(Ve.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new ni(Ve.paint_circle["circle-stroke-opacity"])}),layout:id},Ll=typeof Float32Array<"u"?Float32Array:Array;function op(D){return D[0]=1,D[1]=0,D[2]=0,D[3]=0,D[4]=0,D[5]=1,D[6]=0,D[7]=0,D[8]=0,D[9]=0,D[10]=1,D[11]=0,D[12]=0,D[13]=0,D[14]=0,D[15]=1,D}function l1(D,F,Q){var ve=F[0],Le=F[1],je=F[2],Ze=F[3],at=F[4],pt=F[5],Ct=F[6],Ot=F[7],Gt=F[8],Kt=F[9],$t=F[10],gn=F[11],xn=F[12],Fn=F[13],zn=F[14],$n=F[15],Zn=Q[0],lr=Q[1],gr=Q[2],br=Q[3];return D[0]=Zn*ve+lr*at+gr*Gt+br*xn,D[1]=Zn*Le+lr*pt+gr*Kt+br*Fn,D[2]=Zn*je+lr*Ct+gr*$t+br*zn,D[3]=Zn*Ze+lr*Ot+gr*gn+br*$n,D[4]=(Zn=Q[4])*ve+(lr=Q[5])*at+(gr=Q[6])*Gt+(br=Q[7])*xn,D[5]=Zn*Le+lr*pt+gr*Kt+br*Fn,D[6]=Zn*je+lr*Ct+gr*$t+br*zn,D[7]=Zn*Ze+lr*Ot+gr*gn+br*$n,D[8]=(Zn=Q[8])*ve+(lr=Q[9])*at+(gr=Q[10])*Gt+(br=Q[11])*xn,D[9]=Zn*Le+lr*pt+gr*Kt+br*Fn,D[10]=Zn*je+lr*Ct+gr*$t+br*zn,D[11]=Zn*Ze+lr*Ot+gr*gn+br*$n,D[12]=(Zn=Q[12])*ve+(lr=Q[13])*at+(gr=Q[14])*Gt+(br=Q[15])*xn,D[13]=Zn*Le+lr*pt+gr*Kt+br*Fn,D[14]=Zn*je+lr*Ct+gr*$t+br*zn,D[15]=Zn*Ze+lr*Ot+gr*gn+br*$n,D}Math.hypot||(Math.hypot=function(){for(var D=arguments,F=0,Q=arguments.length;Q--;)F+=D[Q]*D[Q];return Math.sqrt(F)});var od,D,Ny=l1;function th(D,F,Q){var ve=F[0],Le=F[1],je=F[2],Ze=F[3];return D[0]=Q[0]*ve+Q[4]*Le+Q[8]*je+Q[12]*Ze,D[1]=Q[1]*ve+Q[5]*Le+Q[9]*je+Q[13]*Ze,D[2]=Q[2]*ve+Q[6]*Le+Q[10]*je+Q[14]*Ze,D[3]=Q[3]*ve+Q[7]*Le+Q[11]*je+Q[15]*Ze,D}od=new Ll(3),Ll!=Float32Array&&(od[0]=0,od[1]=0,od[2]=0),D=new Ll(4),Ll!=Float32Array&&(D[0]=0,D[1]=0,D[2]=0,D[3]=0);var Fy=(function(){var D=new Ll(2);Ll!=Float32Array&&(D[0]=0,D[1]=0)}(),function(D){function F(Q){D.call(this,Q,Mu)}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype.createBucket=function(Q){return new di(Q)},F.prototype.queryRadius=function(Q){var ve=Q;return ds("circle-radius",this,ve)+ds("circle-stroke-width",this,ve)+pc(this.paint.get("circle-translate"))},F.prototype.queryIntersectsFeature=function(Q,ve,Le,je,Ze,at,pt,Ct){for(var Ot=eh(Q,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),at.angle,pt),Gt=this.paint.get("circle-radius").evaluate(ve,Le)+this.paint.get("circle-stroke-width").evaluate(ve,Le),Kt="map"===this.paint.get("circle-pitch-alignment"),$t=Kt?Ot:function(Lr,Dr){return Lr.map(function(jr){return tg(jr,Dr)})}(Ot,Ct),gn=Kt?Gt*pt:Gt,xn=0,Fn=je;xn<Fn.length;xn+=1)for(var zn=0,$n=Fn[xn];zn<$n.length;zn+=1){var Zn=$n[zn],lr=Kt?Zn:tg(Zn,Ct),gr=gn,br=th([],[Zn.x,Zn.y,0,1],Ct);if("viewport"===this.paint.get("circle-pitch-scale")&&"map"===this.paint.get("circle-pitch-alignment")?gr*=br[3]/at.cameraToCenterDistance:"map"===this.paint.get("circle-pitch-scale")&&"viewport"===this.paint.get("circle-pitch-alignment")&&(gr*=at.cameraToCenterDistance/br[3]),Qs($t,lr,gr))return!0}return!1},F}(Ca));function tg(D,F){var Q=th([],[D.x,D.y,0,1],F);return new i(Q[0]/Q[3],Q[1]/Q[3])}var ap=function(D){function F(){D.apply(this,arguments)}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F}(di);function sp(D,F,Q,ve){var Le=F.width,je=F.height;if(ve){if(ve instanceof Uint8ClampedArray)ve=new Uint8Array(ve.buffer);else if(ve.length!==Le*je*Q)throw new RangeError("mismatched image size")}else ve=new Uint8Array(Le*je*Q);return D.width=Le,D.height=je,D.data=ve,D}function ng(D,F,Q){var ve=F.width,Le=F.height;if(ve!==D.width||Le!==D.height){var je=sp({},{width:ve,height:Le},Q);lp(D,je,{x:0,y:0},{x:0,y:0},{width:Math.min(D.width,ve),height:Math.min(D.height,Le)},Q),D.width=ve,D.height=Le,D.data=je.data}}function lp(D,F,Q,ve,Le,je){if(0===Le.width||0===Le.height)return F;if(Le.width>D.width||Le.height>D.height||Q.x>D.width-Le.width||Q.y>D.height-Le.height)throw new RangeError("out of range source coordinates for image copy");if(Le.width>F.width||Le.height>F.height||ve.x>F.width-Le.width||ve.y>F.height-Le.height)throw new RangeError("out of range destination coordinates for image copy");for(var Ze=D.data,at=F.data,pt=0;pt<Le.height;pt++)for(var Ct=((Q.y+pt)*D.width+Q.x)*je,Ot=((ve.y+pt)*F.width+ve.x)*je,Gt=0;Gt<Le.width*je;Gt++)at[Ot+Gt]=Ze[Ct+Gt];return F}Gr("HeatmapBucket",ap,{omit:["layers"]});var Ku=function(D,F){sp(this,D,1,F)};Ku.prototype.resize=function(D){ng(this,D,1)},Ku.prototype.clone=function(){return new Ku({width:this.width,height:this.height},new Uint8Array(this.data))},Ku.copy=function(D,F,Q,ve,Le){lp(D,F,Q,ve,Le,1)};var Ts=function(D,F){sp(this,D,4,F)};Ts.prototype.resize=function(D){ng(this,D,4)},Ts.prototype.replace=function(D,F){F?this.data.set(D):this.data=D instanceof Uint8ClampedArray?new Uint8Array(D.buffer):D},Ts.prototype.clone=function(){return new Ts({width:this.width,height:this.height},new Uint8Array(this.data))},Ts.copy=function(D,F,Q,ve,Le){lp(D,F,Q,ve,Le,4)},Gr("AlphaImage",Ku),Gr("RGBAImage",Ts);var zy={paint:new Ea({"heatmap-radius":new ni(Ve.paint_heatmap["heatmap-radius"]),"heatmap-weight":new ni(Ve.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new ti(Ve.paint_heatmap["heatmap-intensity"]),"heatmap-color":new pl(Ve.paint_heatmap["heatmap-color"]),"heatmap-opacity":new ti(Ve.paint_heatmap["heatmap-opacity"])})};function c1(D,F){for(var Q=new Uint8Array(1024),ve={},Le=0,je=0;Le<256;Le++,je+=4){ve[F]=Le/255;var Ze=D.evaluate(ve);Q[je+0]=Math.floor(255*Ze.r/Ze.a),Q[je+1]=Math.floor(255*Ze.g/Ze.a),Q[je+2]=Math.floor(255*Ze.b/Ze.a),Q[je+3]=Math.floor(255*Ze.a)}return new Ts({width:256,height:1},Q)}var _l=function(D){function F(Q){D.call(this,Q,zy),this._updateColorRamp()}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype.createBucket=function(Q){return new ap(Q)},F.prototype._handleSpecialPaintPropertyUpdate=function(Q){"heatmap-color"===Q&&this._updateColorRamp()},F.prototype._updateColorRamp=function(){this.colorRamp=c1(this._transitionablePaint._values["heatmap-color"].value.expression,"heatmapDensity"),this.colorRampTexture=null},F.prototype.resize=function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)},F.prototype.queryRadius=function(){return 0},F.prototype.queryIntersectsFeature=function(){return!1},F.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("heatmap-opacity")&&"none"!==this.visibility},F}(Ca),Ef={paint:new Ea({"hillshade-illumination-direction":new ti(Ve.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new ti(Ve.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new ti(Ve.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new ti(Ve.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new ti(Ve.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new ti(Ve.paint_hillshade["hillshade-accent-color"])})},Da=function(D){function F(Q){D.call(this,Q,Ef)}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("hillshade-exaggeration")&&"none"!==this.visibility},F}(Ca),u1=qo([{name:"a_pos",components:2,type:"Int16"}],4).members,rg=cp,By=cp;function cp(D,F,Q){Q=Q||2;var ve,Le,je,Ze,at,pt,Ct,Ot=F&&F.length,Gt=Ot?F[0]*Q:D.length,Kt=ig(D,0,Gt,Q,!0),$t=[];if(!Kt||Kt.next===Kt.prev)return $t;if(Ot&&(Kt=function(xn,Fn,zn,$n){var Zn,lr,gr,br=[];for(Zn=0,lr=Fn.length;Zn<lr;Zn++)(gr=ig(xn,Fn[Zn]*$n,Zn<lr-1?Fn[Zn+1]*$n:xn.length,$n,!1))===gr.next&&(gr.steiner=!0),br.push(Vy(gr));for(br.sort(dp),Zn=0;Zn<br.length;Zn++)og(br[Zn],zn),zn=Au(zn,zn.next);return zn}(D,F,Kt,Q)),D.length>80*Q){ve=je=D[0],Le=Ze=D[1];for(var gn=Q;gn<Gt;gn+=Q)(at=D[gn])<ve&&(ve=at),(pt=D[gn+1])<Le&&(Le=pt),at>je&&(je=at),pt>Ze&&(Ze=pt);Ct=0!==(Ct=Math.max(je-ve,Ze-Le))?1/Ct:0}return Qu(Kt,$t,Q,ve,Le,Ct),$t}function ig(D,F,Q,ve,Le){var je,Ze;if(Le===lg(D,F,Q,ve)>0)for(je=F;je<Q;je+=ve)Ze=Hy(je,D[je],D[je+1],Ze);else for(je=Q-ve;je>=F;je-=ve)Ze=Hy(je,D[je],D[je+1],Ze);return Ze&&ag(Ze,Ze.next)&&(ad(Ze),Ze=Ze.next),Ze}function Au(D,F){if(!D)return D;F||(F=D);var Q,ve=D;do{if(Q=!1,ve.steiner||!ag(ve,ve.next)&&0!==Oa(ve.prev,ve,ve.next))ve=ve.next;else{if(ad(ve),(ve=F=ve.prev)===ve.next)break;Q=!0}}while(Q||ve!==F);return F}function Qu(D,F,Q,ve,Le,je,Ze){if(D){!Ze&&je&&function(Ot,Gt,Kt,$t){var gn=Ot;do{null===gn.z&&(gn.z=hp(gn.x,gn.y,Gt,Kt,$t)),gn.prevZ=gn.prev,gn.nextZ=gn.next,gn=gn.next}while(gn!==Ot);gn.prevZ.nextZ=null,gn.prevZ=null,function(xn){var Fn,zn,$n,Zn,lr,gr,br,Lr,Dr=1;do{for(zn=xn,xn=null,lr=null,gr=0;zn;){for(gr++,$n=zn,br=0,Fn=0;Fn<Dr&&(br++,$n=$n.nextZ);Fn++);for(Lr=Dr;br>0||Lr>0&&$n;)0!==br&&(0===Lr||!$n||zn.z<=$n.z)?(Zn=zn,zn=zn.nextZ,br--):(Zn=$n,$n=$n.nextZ,Lr--),lr?lr.nextZ=Zn:xn=Zn,Zn.prevZ=lr,lr=Zn;zn=$n}lr.nextZ=null,Dr*=2}while(gr>1)}(gn)}(D,ve,Le,je);for(var at,pt,Ct=D;D.prev!==D.next;)if(at=D.prev,pt=D.next,je?jy(D,ve,Le,je):ef(D))F.push(at.i/Q),F.push(D.i/Q),F.push(pt.i/Q),ad(D),D=pt.next,Ct=pt.next;else if((D=pt)===Ct){Ze?1===Ze?Qu(D=up(Au(D),F,Q),F,Q,ve,Le,je,2):2===Ze&&fp(D,F,Q,ve,Le,je):Qu(Au(D),F,Q,ve,Le,je,1);break}}}function ef(D){var F=D.prev,Q=D,ve=D.next;if(Oa(F,Q,ve)>=0)return!1;for(var Le=D.next.next;Le!==D.prev;){if(Ic(F.x,F.y,Q.x,Q.y,ve.x,ve.y,Le.x,Le.y)&&Oa(Le.prev,Le,Le.next)>=0)return!1;Le=Le.next}return!0}function jy(D,F,Q,ve){var Le=D.prev,je=D,Ze=D.next;if(Oa(Le,je,Ze)>=0)return!1;for(var Ct=Le.x>je.x?Le.x>Ze.x?Le.x:Ze.x:je.x>Ze.x?je.x:Ze.x,Ot=Le.y>je.y?Le.y>Ze.y?Le.y:Ze.y:je.y>Ze.y?je.y:Ze.y,Gt=hp(Le.x<je.x?Le.x<Ze.x?Le.x:Ze.x:je.x<Ze.x?je.x:Ze.x,Le.y<je.y?Le.y<Ze.y?Le.y:Ze.y:je.y<Ze.y?je.y:Ze.y,F,Q,ve),Kt=hp(Ct,Ot,F,Q,ve),$t=D.prevZ,gn=D.nextZ;$t&&$t.z>=Gt&&gn&&gn.z<=Kt;){if($t!==D.prev&&$t!==D.next&&Ic(Le.x,Le.y,je.x,je.y,Ze.x,Ze.y,$t.x,$t.y)&&Oa($t.prev,$t,$t.next)>=0||($t=$t.prevZ,gn!==D.prev&&gn!==D.next&&Ic(Le.x,Le.y,je.x,je.y,Ze.x,Ze.y,gn.x,gn.y)&&Oa(gn.prev,gn,gn.next)>=0))return!1;gn=gn.nextZ}for(;$t&&$t.z>=Gt;){if($t!==D.prev&&$t!==D.next&&Ic(Le.x,Le.y,je.x,je.y,Ze.x,Ze.y,$t.x,$t.y)&&Oa($t.prev,$t,$t.next)>=0)return!1;$t=$t.prevZ}for(;gn&&gn.z<=Kt;){if(gn!==D.prev&&gn!==D.next&&Ic(Le.x,Le.y,je.x,je.y,Ze.x,Ze.y,gn.x,gn.y)&&Oa(gn.prev,gn,gn.next)>=0)return!1;gn=gn.nextZ}return!0}function up(D,F,Q){var ve=D;do{var Le=ve.prev,je=ve.next.next;!ag(Le,je)&&pp(Le,ve,ve.next,je)&&rh(Le,je)&&rh(je,Le)&&(F.push(Le.i/Q),F.push(ve.i/Q),F.push(je.i/Q),ad(ve),ad(ve.next),ve=D=je),ve=ve.next}while(ve!==D);return Au(ve)}function fp(D,F,Q,ve,Le,je){var Ze=D;do{for(var at=Ze.next.next;at!==Ze.prev;){if(Ze.i!==at.i&&nh(Ze,at)){var pt=Uy(Ze,at);return Ze=Au(Ze,Ze.next),pt=Au(pt,pt.next),Qu(Ze,F,Q,ve,Le,je),void Qu(pt,F,Q,ve,Le,je)}at=at.next}Ze=Ze.next}while(Ze!==D)}function dp(D,F){return D.x-F.x}function og(D,F){if(F=function(ve,Le){var je,Ze=Le,at=ve.x,pt=ve.y,Ct=-1/0;do{if(pt<=Ze.y&&pt>=Ze.next.y&&Ze.next.y!==Ze.y){var Ot=Ze.x+(pt-Ze.y)*(Ze.next.x-Ze.x)/(Ze.next.y-Ze.y);if(Ot<=at&&Ot>Ct){if(Ct=Ot,Ot===at){if(pt===Ze.y)return Ze;if(pt===Ze.next.y)return Ze.next}je=Ze.x<Ze.next.x?Ze:Ze.next}}Ze=Ze.next}while(Ze!==Le);if(!je)return null;if(at===Ct)return je;var Gt,Kt=je,$t=je.x,gn=je.y,xn=1/0;Ze=je;do{at>=Ze.x&&Ze.x>=$t&&at!==Ze.x&&Ic(pt<gn?at:Ct,pt,$t,gn,pt<gn?Ct:at,pt,Ze.x,Ze.y)&&(Gt=Math.abs(pt-Ze.y)/(at-Ze.x),rh(Ze,ve)&&(Gt<xn||Gt===xn&&(Ze.x>je.x||Ze.x===je.x&&f1(je,Ze)))&&(je=Ze,xn=Gt)),Ze=Ze.next}while(Ze!==Kt);return je}(D,F)){var Q=Uy(F,D);Au(F,F.next),Au(Q,Q.next)}}function f1(D,F){return Oa(D.prev,D,F.prev)<0&&Oa(F.next,D,D.next)<0}function hp(D,F,Q,ve,Le){return(D=1431655765&((D=858993459&((D=252645135&((D=16711935&((D=32767*(D-Q)*Le)|D<<8))|D<<4))|D<<2))|D<<1))|(F=1431655765&((F=858993459&((F=252645135&((F=16711935&((F=32767*(F-ve)*Le)|F<<8))|F<<4))|F<<2))|F<<1))<<1}function Vy(D){var F=D,Q=D;do{(F.x<Q.x||F.x===Q.x&&F.y<Q.y)&&(Q=F),F=F.next}while(F!==D);return Q}function Ic(D,F,Q,ve,Le,je,Ze,at){return(Le-Ze)*(F-at)-(D-Ze)*(je-at)>=0&&(D-Ze)*(ve-at)-(Q-Ze)*(F-at)>=0&&(Q-Ze)*(je-at)-(Le-Ze)*(ve-at)>=0}function nh(D,F){return D.next.i!==F.i&&D.prev.i!==F.i&&!function(Q,ve){var Le=Q;do{if(Le.i!==Q.i&&Le.next.i!==Q.i&&Le.i!==ve.i&&Le.next.i!==ve.i&&pp(Le,Le.next,Q,ve))return!0;Le=Le.next}while(Le!==Q);return!1}(D,F)&&(rh(D,F)&&rh(F,D)&&function(Q,ve){var Le=Q,je=!1,Ze=(Q.x+ve.x)/2,at=(Q.y+ve.y)/2;do{Le.y>at!=Le.next.y>at&&Le.next.y!==Le.y&&Ze<(Le.next.x-Le.x)*(at-Le.y)/(Le.next.y-Le.y)+Le.x&&(je=!je),Le=Le.next}while(Le!==Q);return je}(D,F)&&(Oa(D.prev,D,F.prev)||Oa(D,F.prev,F))||ag(D,F)&&Oa(D.prev,D,D.next)>0&&Oa(F.prev,F,F.next)>0)}function Oa(D,F,Q){return(F.y-D.y)*(Q.x-F.x)-(F.x-D.x)*(Q.y-F.y)}function ag(D,F){return D.x===F.x&&D.y===F.y}function pp(D,F,Q,ve){var Le=gp(Oa(D,F,Q)),je=gp(Oa(D,F,ve)),Ze=gp(Oa(Q,ve,D)),at=gp(Oa(Q,ve,F));return Le!==je&&Ze!==at||!(0!==Le||!sg(D,Q,F))||!(0!==je||!sg(D,ve,F))||!(0!==Ze||!sg(Q,D,ve))||!(0!==at||!sg(Q,F,ve))}function sg(D,F,Q){return F.x<=Math.max(D.x,Q.x)&&F.x>=Math.min(D.x,Q.x)&&F.y<=Math.max(D.y,Q.y)&&F.y>=Math.min(D.y,Q.y)}function gp(D){return D>0?1:D<0?-1:0}function rh(D,F){return Oa(D.prev,D,D.next)<0?Oa(D,F,D.next)>=0&&Oa(D,D.prev,F)>=0:Oa(D,F,D.prev)<0||Oa(D,D.next,F)<0}function Uy(D,F){var Q=new sd(D.i,D.x,D.y),ve=new sd(F.i,F.x,F.y),Le=D.next,je=F.prev;return D.next=F,F.prev=D,Q.next=Le,Le.prev=Q,ve.next=Q,Q.prev=ve,je.next=ve,ve.prev=je,ve}function Hy(D,F,Q,ve){var Le=new sd(D,F,Q);return ve?(Le.next=ve.next,Le.prev=ve,ve.next.prev=Le,ve.next=Le):(Le.prev=Le,Le.next=Le),Le}function ad(D){D.next.prev=D.prev,D.prev.next=D.next,D.prevZ&&(D.prevZ.nextZ=D.nextZ),D.nextZ&&(D.nextZ.prevZ=D.prevZ)}function sd(D,F,Q){this.i=D,this.x=F,this.y=Q,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function lg(D,F,Q,ve){for(var Le=0,je=F,Ze=Q-ve;je<Q;je+=ve)Le+=(D[Ze]-D[je])*(D[je+1]+D[Ze+1]),Ze=je;return Le}function mp(D,F,Q,ve,Le){vp(D,F,Q||0,ve||D.length-1,Le||G2)}function vp(D,F,Q,ve,Le){for(;ve>Q;){if(ve-Q>600){var je=ve-Q+1,Ze=F-Q+1,at=Math.log(je),pt=.5*Math.exp(2*at/3),Ct=.5*Math.sqrt(at*pt*(je-pt)/je)*(Ze-je/2<0?-1:1);vp(D,F,Math.max(Q,Math.floor(F-Ze*pt/je+Ct)),Math.min(ve,Math.floor(F+(je-Ze)*pt/je+Ct)),Le)}var Ot=D[F],Gt=Q,Kt=ve;for(tf(D,Q,F),Le(D[ve],Ot)>0&&tf(D,Q,ve);Gt<Kt;){for(tf(D,Gt,Kt),Gt++,Kt--;Le(D[Gt],Ot)<0;)Gt++;for(;Le(D[Kt],Ot)>0;)Kt--}0===Le(D[Q],Ot)?tf(D,Q,Kt):tf(D,++Kt,ve),Kt<=F&&(Q=Kt+1),F<=Kt&&(ve=Kt-1)}}function tf(D,F,Q){var ve=D[F];D[F]=D[Q],D[Q]=ve}function G2(D,F){return D<F?-1:D>F?1:0}function yp(D,F){var Q=D.length;if(Q<=1)return[D];for(var ve,Le,je=[],Ze=0;Ze<Q;Ze++){var at=P(D[Ze]);0!==at&&(D[Ze].area=Math.abs(at),void 0===Le&&(Le=at<0),Le===at<0?(ve&&je.push(ve),ve=[D[Ze]]):ve.push(D[Ze]))}if(ve&&je.push(ve),F>1)for(var pt=0;pt<je.length;pt++)je[pt].length<=F||(mp(je[pt],F,1,je[pt].length-1,d1),je[pt]=je[pt].slice(0,F));return je}function d1(D,F){return F.area-D.area}function cg(D,F,Q){for(var ve=Q.patternDependencies,Le=!1,je=0,Ze=F;je<Ze.length;je+=1){var at=Ze[je].paint.get(D+"-pattern");at.isConstant()||(Le=!0);var pt=at.constantOr(null);pt&&(Le=!0,ve[pt.to]=!0,ve[pt.from]=!0)}return Le}function gc(D,F,Q,ve,Le){for(var je=Le.patternDependencies,Ze=0,at=F;Ze<at.length;Ze+=1){var pt=at[Ze],Ct=pt.paint.get(D+"-pattern").value;if("constant"!==Ct.kind){var Ot=Ct.evaluate({zoom:ve-1},Q,{},Le.availableImages),Gt=Ct.evaluate({zoom:ve},Q,{},Le.availableImages),Kt=Ct.evaluate({zoom:ve+1},Q,{},Le.availableImages);Gt=Gt&&Gt.name?Gt.name:Gt,Kt=Kt&&Kt.name?Kt.name:Kt,je[Ot=Ot&&Ot.name?Ot.name:Ot]=!0,je[Gt]=!0,je[Kt]=!0,Q.patterns[pt.id]={min:Ot,mid:Gt,max:Kt}}}return Q}cp.deviation=function(D,F,Q,ve){var Le=F&&F.length,Ze=Math.abs(lg(D,0,Le?F[0]*Q:D.length,Q));if(Le)for(var at=0,pt=F.length;at<pt;at++)Ze-=Math.abs(lg(D,F[at]*Q,at<pt-1?F[at+1]*Q:D.length,Q));var Gt=0;for(at=0;at<ve.length;at+=3){var Kt=ve[at]*Q,$t=ve[at+1]*Q,gn=ve[at+2]*Q;Gt+=Math.abs((D[Kt]-D[gn])*(D[$t+1]-D[Kt+1])-(D[Kt]-D[$t])*(D[gn+1]-D[Kt+1]))}return 0===Ze&&0===Gt?0:Math.abs((Gt-Ze)/Ze)},cp.flatten=function(D){for(var F=D[0][0].length,Q={vertices:[],holes:[],dimensions:F},ve=0,Le=0;Le<D.length;Le++){for(var je=0;je<D[Le].length;je++)for(var Ze=0;Ze<F;Ze++)Q.vertices.push(D[Le][je][Ze]);Le>0&&Q.holes.push(ve+=D[Le-1].length)}return Q},rg.default=By;var Pc=function(D){this.zoom=D.zoom,this.overscaling=D.overscaling,this.layers=D.layers,this.layerIds=this.layers.map(function(F){return F.id}),this.index=D.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new ns,this.indexArray=new ie,this.indexArray2=new Xe,this.programConfigurations=new _o(u1,D.layers,D.zoom),this.segments=new In,this.segments2=new In,this.stateDependentLayerIds=this.layers.filter(function(F){return F.isStateDependent()}).map(function(F){return F.id})};Pc.prototype.populate=function(D,F,Q){this.hasPattern=cg("fill",this.layers,F);for(var ve=this.layers[0].layout.get("fill-sort-key"),Le=[],je=0,Ze=D;je<Ze.length;je+=1){var at=Ze[je],pt=at.feature,Ct=at.id,Ot=at.index,Gt=at.sourceLayerIndex,Kt=this.layers[0]._featureFilter.needGeometry,$t={type:pt.type,id:Ct,properties:pt.properties,geometry:Kt?ws(pt):[]};if(this.layers[0]._featureFilter.filter(new io(this.zoom),$t,Q)){Kt||($t.geometry=ws(pt));var gn=ve?ve.evaluate($t,{},Q,F.availableImages):void 0;Le.push({id:Ct,properties:pt.properties,type:pt.type,sourceLayerIndex:Gt,index:Ot,geometry:$t.geometry,patterns:{},sortKey:gn})}}ve&&Le.sort(function(jr,Jr){return jr.sortKey-Jr.sortKey});for(var Fn=0,zn=Le;Fn<zn.length;Fn+=1){var $n=zn[Fn],lr=$n.geometry,gr=$n.index,br=$n.sourceLayerIndex;if(this.hasPattern){var Lr=gc("fill",this.layers,$n,this.zoom,F);this.patternFeatures.push(Lr)}else this.addFeature($n,lr,gr,Q,{});F.featureIndex.insert(D[gr].feature,lr,gr,br,this.index)}},Pc.prototype.update=function(D,F,Q){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(D,F,this.stateDependentLayers,Q)},Pc.prototype.addFeatures=function(D,F,Q){for(var ve=0,Le=this.patternFeatures;ve<Le.length;ve+=1){var je=Le[ve];this.addFeature(je,je.geometry,je.index,F,Q)}},Pc.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},Pc.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Pc.prototype.upload=function(D){this.uploaded||(this.layoutVertexBuffer=D.createVertexBuffer(this.layoutVertexArray,u1),this.indexBuffer=D.createIndexBuffer(this.indexArray),this.indexBuffer2=D.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(D),this.uploaded=!0},Pc.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())},Pc.prototype.addFeature=function(D,F,Q,ve,Le){for(var je=0,Ze=yp(F,500);je<Ze.length;je+=1){for(var at=Ze[je],pt=0,Ct=0,Ot=at;Ct<Ot.length;Ct+=1)pt+=Ot[Ct].length;for(var Gt=this.segments.prepareSegment(pt,this.layoutVertexArray,this.indexArray),Kt=Gt.vertexLength,$t=[],gn=[],xn=0,Fn=at;xn<Fn.length;xn+=1){var zn=Fn[xn];if(0!==zn.length){zn!==at[0]&&gn.push($t.length/2);var $n=this.segments2.prepareSegment(zn.length,this.layoutVertexArray,this.indexArray2),Zn=$n.vertexLength;this.layoutVertexArray.emplaceBack(zn[0].x,zn[0].y),this.indexArray2.emplaceBack(Zn+zn.length-1,Zn),$t.push(zn[0].x),$t.push(zn[0].y);for(var lr=1;lr<zn.length;lr++)this.layoutVertexArray.emplaceBack(zn[lr].x,zn[lr].y),this.indexArray2.emplaceBack(Zn+lr-1,Zn+lr),$t.push(zn[lr].x),$t.push(zn[lr].y);$n.vertexLength+=zn.length,$n.primitiveLength+=zn.length}}for(var gr=rg($t,gn),br=0;br<gr.length;br+=3)this.indexArray.emplaceBack(Kt+gr[br],Kt+gr[br+1],Kt+gr[br+2]);Gt.vertexLength+=pt,Gt.primitiveLength+=gr.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,D,Q,Le,ve)},Gr("FillBucket",Pc,{omit:["layers","patternFeatures"]});var _p=new Ea({"fill-sort-key":new ni(Ve.layout_fill["fill-sort-key"])}),ug={paint:new Ea({"fill-antialias":new ti(Ve.paint_fill["fill-antialias"]),"fill-opacity":new ni(Ve.paint_fill["fill-opacity"]),"fill-color":new ni(Ve.paint_fill["fill-color"]),"fill-outline-color":new ni(Ve.paint_fill["fill-outline-color"]),"fill-translate":new ti(Ve.paint_fill["fill-translate"]),"fill-translate-anchor":new ti(Ve.paint_fill["fill-translate-anchor"]),"fill-pattern":new Dc(Ve.paint_fill["fill-pattern"])}),layout:_p},h1=function(D){function F(Q){D.call(this,Q,ug)}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype.recalculate=function(Q,ve){D.prototype.recalculate.call(this,Q,ve);var Le=this.paint._values["fill-outline-color"];"constant"===Le.value.kind&&void 0===Le.value.value&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])},F.prototype.createBucket=function(Q){return new Pc(Q)},F.prototype.queryRadius=function(){return pc(this.paint.get("fill-translate"))},F.prototype.queryIntersectsFeature=function(Q,ve,Le,je,Ze,at,pt){return is(eh(Q,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),at.angle,pt),je)},F.prototype.isTileClipped=function(){return!0},F}(Ca),xp=qo([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4).members,bp=ld;function ld(D,F,Q,ve,Le){this.properties={},this.extent=Q,this.type=0,this._pbf=D,this._geometry=-1,this._keys=ve,this._values=Le,D.readFields(p1,this,F)}function p1(D,F,Q){1==D?F.id=Q.readVarint():2==D?function(ve,Le){for(var je=ve.readVarint()+ve.pos;ve.pos<je;){var Ze=Le._keys[ve.readVarint()],at=Le._values[ve.readVarint()];Le.properties[Ze]=at}}(Q,F):3==D?F.type=Q.readVarint():4==D&&(F._geometry=Q.pos)}function g1(D){for(var F,Q,ve=0,Le=0,je=D.length,Ze=je-1;Le<je;Ze=Le++)ve+=((Q=D[Ze]).x-(F=D[Le]).x)*(F.y+Q.y);return ve}ld.types=["Unknown","Point","LineString","Polygon"],ld.prototype.loadGeometry=function(){var D=this._pbf;D.pos=this._geometry;for(var F,Q=D.readVarint()+D.pos,ve=1,Le=0,je=0,Ze=0,at=[];D.pos<Q;){if(Le<=0){var pt=D.readVarint();ve=7&pt,Le=pt>>3}if(Le--,1===ve||2===ve)je+=D.readSVarint(),Ze+=D.readSVarint(),1===ve&&(F&&at.push(F),F=[]),F.push(new i(je,Ze));else{if(7!==ve)throw new Error("unknown command "+ve);F&&F.push(F[0].clone())}}return F&&at.push(F),at},ld.prototype.bbox=function(){var D=this._pbf;D.pos=this._geometry;for(var F=D.readVarint()+D.pos,Q=1,ve=0,Le=0,je=0,Ze=1/0,at=-1/0,pt=1/0,Ct=-1/0;D.pos<F;){if(ve<=0){var Ot=D.readVarint();Q=7&Ot,ve=Ot>>3}if(ve--,1===Q||2===Q)(Le+=D.readSVarint())<Ze&&(Ze=Le),Le>at&&(at=Le),(je+=D.readSVarint())<pt&&(pt=je),je>Ct&&(Ct=je);else if(7!==Q)throw new Error("unknown command "+Q)}return[Ze,pt,at,Ct]},ld.prototype.toGeoJSON=function(D,F,Q){var ve,Le,je=this.extent*Math.pow(2,Q),Ze=this.extent*D,at=this.extent*F,pt=this.loadGeometry(),Ct=ld.types[this.type];function Ot($t){for(var gn=0;gn<$t.length;gn++){var xn=$t[gn];$t[gn]=[360*(xn.x+Ze)/je-180,360/Math.PI*Math.atan(Math.exp((180-360*(xn.y+at)/je)*Math.PI/180))-90]}}switch(this.type){case 1:var Gt=[];for(ve=0;ve<pt.length;ve++)Gt[ve]=pt[ve][0];Ot(pt=Gt);break;case 2:for(ve=0;ve<pt.length;ve++)Ot(pt[ve]);break;case 3:for(pt=function($t){var gn=$t.length;if(gn<=1)return[$t];for(var xn,Fn,zn=[],$n=0;$n<gn;$n++){var Zn=g1($t[$n]);0!==Zn&&(void 0===Fn&&(Fn=Zn<0),Fn===Zn<0?(xn&&zn.push(xn),xn=[$t[$n]]):xn.push($t[$n]))}return xn&&zn.push(xn),zn}(pt),ve=0;ve<pt.length;ve++)for(Le=0;Le<pt[ve].length;Le++)Ot(pt[ve][Le])}1===pt.length?pt=pt[0]:Ct="Multi"+Ct;var Kt={type:"Feature",geometry:{type:Ct,coordinates:pt},properties:this.properties};return"id"in this&&(Kt.id=this.id),Kt};var fg=dg;function dg(D,F){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=D,this._keys=[],this._values=[],this._features=[],D.readFields(Gy,this,F),this.length=this._features.length}function Gy(D,F,Q){15===D?F.version=Q.readVarint():1===D?F.name=Q.readString():5===D?F.extent=Q.readVarint():2===D?F._features.push(Q.pos):3===D?F._keys.push(Q.readString()):4===D&&F._values.push(function(ve){for(var Le=null,je=ve.readVarint()+ve.pos;ve.pos<je;){var Ze=ve.readVarint()>>3;Le=1===Ze?ve.readString():2===Ze?ve.readFloat():3===Ze?ve.readDouble():4===Ze?ve.readVarint64():5===Ze?ve.readVarint():6===Ze?ve.readSVarint():7===Ze?ve.readBoolean():null}return Le}(Q))}function wp(D,F,Q){if(3===D){var ve=new fg(Q,Q.readVarint()+Q.pos);ve.length&&(F[ve.name]=ve)}}dg.prototype.feature=function(D){if(D<0||D>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[D];var F=this._pbf.readVarint()+this._pbf.pos;return new bp(this._pbf,F,this.extent,this._keys,this._values)};var mc={VectorTile:function(D,F){this.layers=D.readFields(wp,{},F)},VectorTileFeature:bp,VectorTileLayer:fg},qy=mc.VectorTileFeature.types,Tp=Math.pow(2,13);function cd(D,F,Q,ve,Le,je,Ze,at){D.emplaceBack(F,Q,2*Math.floor(ve*Tp)+Ze,Le*Tp*2,je*Tp*2,Math.round(at))}var el=function(D){this.zoom=D.zoom,this.overscaling=D.overscaling,this.layers=D.layers,this.layerIds=this.layers.map(function(F){return F.id}),this.index=D.index,this.hasPattern=!1,this.layoutVertexArray=new dc,this.indexArray=new ie,this.programConfigurations=new _o(xp,D.layers,D.zoom),this.segments=new In,this.stateDependentLayerIds=this.layers.filter(function(F){return F.isStateDependent()}).map(function(F){return F.id})};function Wy(D,F){return D.x===F.x&&(D.x<0||D.x>eo)||D.y===F.y&&(D.y<0||D.y>eo)}el.prototype.populate=function(D,F,Q){this.features=[],this.hasPattern=cg("fill-extrusion",this.layers,F);for(var ve=0,Le=D;ve<Le.length;ve+=1){var je=Le[ve],Ze=je.feature,at=je.id,pt=je.index,Ct=je.sourceLayerIndex,Ot=this.layers[0]._featureFilter.needGeometry,Gt={type:Ze.type,id:at,properties:Ze.properties,geometry:Ot?ws(Ze):[]};if(this.layers[0]._featureFilter.filter(new io(this.zoom),Gt,Q)){var Kt={id:at,sourceLayerIndex:Ct,index:pt,geometry:Ot?Gt.geometry:ws(Ze),properties:Ze.properties,type:Ze.type,patterns:{}};void 0!==Ze.id&&(Kt.id=Ze.id),this.hasPattern?this.features.push(gc("fill-extrusion",this.layers,Kt,this.zoom,F)):this.addFeature(Kt,Kt.geometry,pt,Q,{}),F.featureIndex.insert(Ze,Kt.geometry,pt,Ct,this.index,!0)}}},el.prototype.addFeatures=function(D,F,Q){for(var ve=0,Le=this.features;ve<Le.length;ve+=1){var je=Le[ve];this.addFeature(je,je.geometry,je.index,F,Q)}},el.prototype.update=function(D,F,Q){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(D,F,this.stateDependentLayers,Q)},el.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},el.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},el.prototype.upload=function(D){this.uploaded||(this.layoutVertexBuffer=D.createVertexBuffer(this.layoutVertexArray,xp),this.indexBuffer=D.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(D),this.uploaded=!0},el.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},el.prototype.addFeature=function(D,F,Q,ve,Le){for(var je=0,Ze=yp(F,500);je<Ze.length;je+=1){for(var at=Ze[je],pt=0,Ct=0,Ot=at;Ct<Ot.length;Ct+=1)pt+=Ot[Ct].length;for(var Gt=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),Kt=0,$t=at;Kt<$t.length;Kt+=1){var gn=$t[Kt];if(0!==gn.length&&!((Ii=gn).every(function(wi){return wi.x<0})||Ii.every(function(wi){return wi.x>eo})||Ii.every(function(wi){return wi.y<0})||Ii.every(function(wi){return wi.y>eo})))for(var xn=0,Fn=0;Fn<gn.length;Fn++){var zn=gn[Fn];if(Fn>=1){var $n=gn[Fn-1];if(!Wy(zn,$n)){Gt.vertexLength+4>In.MAX_VERTEX_ARRAY_LENGTH&&(Gt=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));var Zn=zn.sub($n)._perp()._unit(),lr=$n.dist(zn);xn+lr>32768&&(xn=0),cd(this.layoutVertexArray,zn.x,zn.y,Zn.x,Zn.y,0,0,xn),cd(this.layoutVertexArray,zn.x,zn.y,Zn.x,Zn.y,0,1,xn),cd(this.layoutVertexArray,$n.x,$n.y,Zn.x,Zn.y,0,0,xn+=lr),cd(this.layoutVertexArray,$n.x,$n.y,Zn.x,Zn.y,0,1,xn);var gr=Gt.vertexLength;this.indexArray.emplaceBack(gr,gr+2,gr+1),this.indexArray.emplaceBack(gr+1,gr+2,gr+3),Gt.vertexLength+=4,Gt.primitiveLength+=2}}}}if(Gt.vertexLength+pt>In.MAX_VERTEX_ARRAY_LENGTH&&(Gt=this.segments.prepareSegment(pt,this.layoutVertexArray,this.indexArray)),"Polygon"===qy[D.type]){for(var br=[],Lr=[],Dr=Gt.vertexLength,jr=0,Jr=at;jr<Jr.length;jr+=1){var vi=Jr[jr];if(0!==vi.length){vi!==at[0]&&Lr.push(br.length/2);for(var Qr=0;Qr<vi.length;Qr++){var ui=vi[Qr];cd(this.layoutVertexArray,ui.x,ui.y,0,0,1,1,0),br.push(ui.x),br.push(ui.y)}}}for(var oi=rg(br,Lr),Yr=0;Yr<oi.length;Yr+=3)this.indexArray.emplaceBack(Dr+oi[Yr],Dr+oi[Yr+2],Dr+oi[Yr+1]);Gt.primitiveLength+=oi.length/3,Gt.vertexLength+=pt}}var Ii;this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,D,Q,Le,ve)},Gr("FillExtrusionBucket",el,{omit:["layers","features"]});var $a={paint:new Ea({"fill-extrusion-opacity":new ti(Ve["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new ni(Ve["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new ti(Ve["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new ti(Ve["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new Dc(Ve["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new ni(Ve["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new ni(Ve["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new ti(Ve["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})},hg=function(D){function F(Q){D.call(this,Q,$a)}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype.createBucket=function(Q){return new el(Q)},F.prototype.queryRadius=function(){return pc(this.paint.get("fill-extrusion-translate"))},F.prototype.is3D=function(){return!0},F.prototype.queryIntersectsFeature=function(Q,ve,Le,je,Ze,at,pt,Ct){var Ot=eh(Q,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),at.angle,pt),Gt=this.paint.get("fill-extrusion-height").evaluate(ve,Le),Kt=this.paint.get("fill-extrusion-base").evaluate(ve,Le),$t=function(xn,Fn,zn,$n){for(var Zn=[],lr=0,gr=xn;lr<gr.length;lr+=1){var br=gr[lr],Lr=[br.x,br.y,0,1];th(Lr,Lr,Fn),Zn.push(new i(Lr[0]/Lr[3],Lr[1]/Lr[3]))}return Zn}(Ot,Ct),gn=function(xn,Fn,zn,$n){for(var Zn=[],lr=[],gr=$n[8]*Fn,br=$n[9]*Fn,Lr=$n[10]*Fn,Dr=$n[11]*Fn,jr=$n[8]*zn,Jr=$n[9]*zn,vi=$n[10]*zn,Qr=$n[11]*zn,ui=0,oi=xn;ui<oi.length;ui+=1){for(var Yr=[],Ii=[],wi=0,xo=oi[ui];wi<xo.length;wi+=1){var li=xo[wi],co=li.x,wo=li.y,Io=$n[0]*co+$n[4]*wo+$n[12],Po=$n[1]*co+$n[5]*wo+$n[13],To=$n[2]*co+$n[6]*wo+$n[14],Pa=$n[3]*co+$n[7]*wo+$n[15],Wo=To+Lr,$o=Pa+Dr,Ra=Io+jr,os=Po+Jr,nl=To+vi,hs=Pa+Qr,Ya=new i((Io+gr)/$o,(Po+br)/$o);Ya.z=Wo/$o,Yr.push(Ya);var ps=new i(Ra/hs,os/hs);ps.z=nl/hs,Ii.push(ps)}Zn.push(Yr),lr.push(Ii)}return[Zn,lr]}(je,Kt,Gt,Ct);return function(xn,Fn,zn){var $n=1/0;is(zn,Fn)&&($n=pg(zn,Fn[0]));for(var Zn=0;Zn<Fn.length;Zn++)for(var lr=Fn[Zn],gr=xn[Zn],br=0;br<lr.length-1;br++){var Lr=lr[br],Jr=[Lr,lr[br+1],gr[br+1],gr[br],Lr];na(zn,Jr)&&($n=Math.min($n,pg(zn,Jr)))}return $n!==1/0&&$n}(gn[0],gn[1],$t)},F}(Ca);function ih(D,F){return D.x*F.x+D.y*F.y}function pg(D,F){if(1===D.length){for(var Q,ve=0,Le=F[ve++];!Q||Le.equals(Q);)if(!(Q=F[ve++]))return 1/0;for(;ve<F.length;ve++){var je=F[ve],Ze=D[0],at=Q.sub(Le),pt=je.sub(Le),Ct=Ze.sub(Le),Ot=ih(at,at),Gt=ih(at,pt),Kt=ih(pt,pt),$t=ih(Ct,at),gn=ih(Ct,pt),xn=Ot*Kt-Gt*Gt,Fn=(Kt*$t-Gt*gn)/xn,zn=(Ot*gn-Gt*$t)/xn,Zn=Le.z*(1-Fn-zn)+Q.z*Fn+je.z*zn;if(isFinite(Zn))return Zn}return 1/0}for(var lr=1/0,gr=0,br=F;gr<br.length;gr+=1)lr=Math.min(lr,br[gr].z);return lr}var nf=qo([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4).members,ud=mc.VectorTileFeature.types,fd=Math.cos(Math.PI/180*37.5),Cf=Math.pow(2,14)/.5,Ns=function(D){this.zoom=D.zoom,this.overscaling=D.overscaling,this.layers=D.layers,this.layerIds=this.layers.map(function(F){return F.id}),this.index=D.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new hc,this.indexArray=new ie,this.programConfigurations=new _o(nf,D.layers,D.zoom),this.segments=new In,this.stateDependentLayerIds=this.layers.filter(function(F){return F.isStateDependent()}).map(function(F){return F.id})};Ns.prototype.populate=function(D,F,Q){this.hasPattern=cg("line",this.layers,F);for(var ve=this.layers[0].layout.get("line-sort-key"),Le=[],je=0,Ze=D;je<Ze.length;je+=1){var at=Ze[je],pt=at.feature,Ct=at.id,Ot=at.index,Gt=at.sourceLayerIndex,Kt=this.layers[0]._featureFilter.needGeometry,$t={type:pt.type,id:Ct,properties:pt.properties,geometry:Kt?ws(pt):[]};if(this.layers[0]._featureFilter.filter(new io(this.zoom),$t,Q)){Kt||($t.geometry=ws(pt));var gn=ve?ve.evaluate($t,{},Q):void 0;Le.push({id:Ct,properties:pt.properties,type:pt.type,sourceLayerIndex:Gt,index:Ot,geometry:$t.geometry,patterns:{},sortKey:gn})}}ve&&Le.sort(function(jr,Jr){return jr.sortKey-Jr.sortKey});for(var Fn=0,zn=Le;Fn<zn.length;Fn+=1){var $n=zn[Fn],lr=$n.geometry,gr=$n.index,br=$n.sourceLayerIndex;if(this.hasPattern){var Lr=gc("line",this.layers,$n,this.zoom,F);this.patternFeatures.push(Lr)}else this.addFeature($n,lr,gr,Q,{});F.featureIndex.insert(D[gr].feature,lr,gr,br,this.index)}},Ns.prototype.update=function(D,F,Q){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(D,F,this.stateDependentLayers,Q)},Ns.prototype.addFeatures=function(D,F,Q){for(var ve=0,Le=this.patternFeatures;ve<Le.length;ve+=1){var je=Le[ve];this.addFeature(je,je.geometry,je.index,F,Q)}},Ns.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},Ns.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Ns.prototype.upload=function(D){this.uploaded||(this.layoutVertexBuffer=D.createVertexBuffer(this.layoutVertexArray,nf),this.indexBuffer=D.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(D),this.uploaded=!0},Ns.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Ns.prototype.addFeature=function(D,F,Q,ve,Le){for(var je=this.layers[0].layout,Ze=je.get("line-join").evaluate(D,{}),at=je.get("line-cap"),pt=je.get("line-miter-limit"),Ct=je.get("line-round-limit"),Ot=0,Gt=F;Ot<Gt.length;Ot+=1)this.addLine(Gt[Ot],D,Ze,at,pt,Ct);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,D,Q,Le,ve)},Ns.prototype.addLine=function(D,F,Q,ve,Le,je){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,F.properties&&F.properties.hasOwnProperty("mapbox_clip_start")&&F.properties.hasOwnProperty("mapbox_clip_end")){this.clipStart=+F.properties.mapbox_clip_start,this.clipEnd=+F.properties.mapbox_clip_end;for(var Ze=0;Ze<D.length-1;Ze++)this.totalDistance+=D[Ze].dist(D[Ze+1]);this.updateScaledDistance()}for(var at="Polygon"===ud[F.type],pt=D.length;pt>=2&&D[pt-1].equals(D[pt-2]);)pt--;for(var Ct=0;Ct<pt-1&&D[Ct].equals(D[Ct+1]);)Ct++;if(!(pt<(at?3:2))){"bevel"===Q&&(Le=1.05);var Ot,Gt=this.overscaling<=16?15*eo/(512*this.overscaling):0,Kt=this.segments.prepareSegment(10*pt,this.layoutVertexArray,this.indexArray),$t=void 0,gn=void 0,xn=void 0,Fn=void 0;this.e1=this.e2=-1,at&&(Fn=D[Ct].sub(Ot=D[pt-2])._unit()._perp());for(var zn=Ct;zn<pt;zn++)if(!(gn=zn===pt-1?at?D[Ct+1]:void 0:D[zn+1])||!D[zn].equals(gn)){Fn&&(xn=Fn),Ot&&($t=Ot),Ot=D[zn],Fn=gn?gn.sub(Ot)._unit()._perp():xn;var $n=(xn=xn||Fn).add(Fn);0===$n.x&&0===$n.y||$n._unit();var Zn=xn.x*Fn.x+xn.y*Fn.y,lr=$n.x*Fn.x+$n.y*Fn.y,gr=0!==lr?1/lr:1/0,br=2*Math.sqrt(2-2*lr),Lr=lr<fd&&$t&&gn,Dr=xn.x*Fn.y-xn.y*Fn.x>0;if(Lr&&zn>Ct){var jr=Ot.dist($t);if(jr>2*Gt){var Jr=Ot.sub(Ot.sub($t)._mult(Gt/jr)._round());this.updateDistance($t,Jr),this.addCurrentVertex(Jr,xn,0,0,Kt),$t=Jr}}var vi=$t&&gn,Qr=vi?Q:at?"butt":ve;if(vi&&"round"===Qr&&(gr<je?Qr="miter":gr<=2&&(Qr="fakeround")),"miter"===Qr&&gr>Le&&(Qr="bevel"),"bevel"===Qr&&(gr>2&&(Qr="flipbevel"),gr<Le&&(Qr="miter")),$t&&this.updateDistance($t,Ot),"miter"===Qr)$n._mult(gr),this.addCurrentVertex(Ot,$n,0,0,Kt);else if("flipbevel"===Qr){if(gr>100)$n=Fn.mult(-1);else{var ui=gr*xn.add(Fn).mag()/xn.sub(Fn).mag();$n._perp()._mult(ui*(Dr?-1:1))}this.addCurrentVertex(Ot,$n,0,0,Kt),this.addCurrentVertex(Ot,$n.mult(-1),0,0,Kt)}else if("bevel"===Qr||"fakeround"===Qr){var oi=-Math.sqrt(gr*gr-1),Yr=Dr?oi:0,Ii=Dr?0:oi;if($t&&this.addCurrentVertex(Ot,xn,Yr,Ii,Kt),"fakeround"===Qr)for(var wi=Math.round(180*br/Math.PI/20),xo=1;xo<wi;xo++){var li=xo/wi;if(.5!==li){var co=li-.5;li+=li*co*(li-1)*((1.0904+Zn*(Zn*(3.55645-1.43519*Zn)-3.2452))*co*co+(.848013+Zn*(.215638*Zn-1.06021)))}var wo=Fn.sub(xn)._mult(li)._add(xn)._unit()._mult(Dr?-1:1);this.addHalfVertex(Ot,wo.x,wo.y,!1,Dr,0,Kt)}gn&&this.addCurrentVertex(Ot,Fn,-Yr,-Ii,Kt)}else if("butt"===Qr)this.addCurrentVertex(Ot,$n,0,0,Kt);else if("square"===Qr){var Io=$t?1:-1;this.addCurrentVertex(Ot,$n,Io,Io,Kt)}else"round"===Qr&&($t&&(this.addCurrentVertex(Ot,xn,0,0,Kt),this.addCurrentVertex(Ot,xn,1,1,Kt,!0)),gn&&(this.addCurrentVertex(Ot,Fn,-1,-1,Kt,!0),this.addCurrentVertex(Ot,Fn,0,0,Kt)));if(Lr&&zn<pt-1){var Po=Ot.dist(gn);if(Po>2*Gt){var To=Ot.add(gn.sub(Ot)._mult(Gt/Po)._round());this.updateDistance(Ot,To),this.addCurrentVertex(To,Fn,0,0,Kt),Ot=To}}}}},Ns.prototype.addCurrentVertex=function(D,F,Q,ve,Le,je){void 0===je&&(je=!1);var pt=F.y*ve-F.x,Ct=-F.y-F.x*ve;this.addHalfVertex(D,F.x+F.y*Q,F.y-F.x*Q,je,!1,Q,Le),this.addHalfVertex(D,pt,Ct,je,!0,-ve,Le),this.distance>Cf/2&&0===this.totalDistance&&(this.distance=0,this.addCurrentVertex(D,F,Q,ve,Le,je))},Ns.prototype.addHalfVertex=function(D,F,Q,ve,Le,je,Ze){var Ct=.5*this.scaledDistance;this.layoutVertexArray.emplaceBack((D.x<<1)+(ve?1:0),(D.y<<1)+(Le?1:0),Math.round(63*F)+128,Math.round(63*Q)+128,1+(0===je?0:je<0?-1:1)|(63&Ct)<<2,Ct>>6);var Ot=Ze.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,Ot),Ze.primitiveLength++),Le?this.e2=Ot:this.e1=Ot},Ns.prototype.updateScaledDistance=function(){this.scaledDistance=this.totalDistance>0?(this.clipStart+(this.clipEnd-this.clipStart)*this.distance/this.totalDistance)*(Cf-1):this.distance},Ns.prototype.updateDistance=function(D,F){this.distance+=D.dist(F),this.updateScaledDistance()},Gr("LineBucket",Ns,{omit:["layers","patternFeatures"]});var gg=new Ea({"line-cap":new ti(Ve.layout_line["line-cap"]),"line-join":new ni(Ve.layout_line["line-join"]),"line-miter-limit":new ti(Ve.layout_line["line-miter-limit"]),"line-round-limit":new ti(Ve.layout_line["line-round-limit"]),"line-sort-key":new ni(Ve.layout_line["line-sort-key"])}),Df={paint:new Ea({"line-opacity":new ni(Ve.paint_line["line-opacity"]),"line-color":new ni(Ve.paint_line["line-color"]),"line-translate":new ti(Ve.paint_line["line-translate"]),"line-translate-anchor":new ti(Ve.paint_line["line-translate-anchor"]),"line-width":new ni(Ve.paint_line["line-width"]),"line-gap-width":new ni(Ve.paint_line["line-gap-width"]),"line-offset":new ni(Ve.paint_line["line-offset"]),"line-blur":new ni(Ve.paint_line["line-blur"]),"line-dasharray":new ka(Ve.paint_line["line-dasharray"]),"line-pattern":new Dc(Ve.paint_line["line-pattern"]),"line-gradient":new pl(Ve.paint_line["line-gradient"])}),layout:gg},q2=function(D){function F(){D.apply(this,arguments)}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype.possiblyEvaluate=function(Q,ve){return ve=new io(Math.floor(ve.zoom),{now:ve.now,fadeDuration:ve.fadeDuration,zoomHistory:ve.zoomHistory,transition:ve.transition}),D.prototype.possiblyEvaluate.call(this,Q,ve)},F.prototype.evaluate=function(Q,ve,Le,je){return ve=h({},ve,{zoom:Math.floor(ve.zoom)}),D.prototype.evaluate.call(this,Q,ve,Le,je)},F}(ni),m1=new q2(Df.paint.properties["line-width"].specification);m1.useIntegerZoom=!0;var W2=function(D){function F(Q){D.call(this,Q,Df)}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype._handleSpecialPaintPropertyUpdate=function(Q){"line-gradient"===Q&&this._updateGradient()},F.prototype._updateGradient=function(){this.gradient=c1(this._transitionablePaint._values["line-gradient"].value.expression,"lineProgress"),this.gradientTexture=null},F.prototype.recalculate=function(Q,ve){D.prototype.recalculate.call(this,Q,ve),this.paint._values["line-floorwidth"]=m1.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,Q)},F.prototype.createBucket=function(Q){return new Ns(Q)},F.prototype.queryRadius=function(Q){var ve=Q,Le=$y(ds("line-width",this,ve),ds("line-gap-width",this,ve)),je=ds("line-offset",this,ve);return Le/2+Math.abs(je)+pc(this.paint.get("line-translate"))},F.prototype.queryIntersectsFeature=function(Q,ve,Le,je,Ze,at,pt){var Ct=eh(Q,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),at.angle,pt),Ot=pt/2*$y(this.paint.get("line-width").evaluate(ve,Le),this.paint.get("line-gap-width").evaluate(ve,Le)),Gt=this.paint.get("line-offset").evaluate(ve,Le);return Gt&&(je=function(Kt,$t){for(var gn=[],xn=new i(0,0),Fn=0;Fn<Kt.length;Fn++){for(var zn=Kt[Fn],$n=[],Zn=0;Zn<zn.length;Zn++){var gr=zn[Zn],br=zn[Zn+1],Lr=0===Zn?xn:gr.sub(zn[Zn-1])._unit()._perp(),Dr=Zn===zn.length-1?xn:br.sub(gr)._unit()._perp(),jr=Lr._add(Dr)._unit();jr._mult(1/(jr.x*Dr.x+jr.y*Dr.y)),$n.push(jr._mult($t)._add(gr))}gn.push($n)}return gn}(je,Gt*pt)),function(Kt,$t,gn){for(var xn=0;xn<$t.length;xn++){var Fn=$t[xn];if(Kt.length>=3)for(var zn=0;zn<Fn.length;zn++)if(kf(Kt,Fn[zn]))return!0;if(rp(Kt,Fn,gn))return!0}return!1}(Ct,je,Ot)},F.prototype.isTileClipped=function(){return!0},F}(Ca);function $y(D,F){return F>0?F+2*D:D}var v1=qo([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),$2=qo([{name:"a_projected_pos",components:3,type:"Float32"}],4),Y2=(qo([{name:"a_fade_opacity",components:1,type:"Uint32"}],4),qo([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}])),Yy=(qo([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]),qo([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4)),dd=qo([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function Zy(D,F,Q){return D.sections.forEach(function(ve){var Le,Ze,at;ve.text=(Le=ve.text,Ze=Q,"uppercase"===(at=F.layout.get("text-transform").evaluate(Ze,{}))?Le=Le.toLocaleUpperCase():"lowercase"===at&&(Le=Le.toLocaleLowerCase()),Fo.applyArabicShaping&&(Le=Fo.applyArabicShaping(Le)),Le)}),D}qo([{name:"triangle",components:3,type:"Uint16"}]),qo([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),qo([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),qo([{type:"Float32",name:"offsetX"}]),qo([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);var oh={"!":"\ufe15","#":"\uff03",$:"\uff04","%":"\uff05","&":"\uff06","(":"\ufe35",")":"\ufe36","*":"\uff0a","+":"\uff0b",",":"\ufe10","-":"\ufe32",".":"\u30fb","/":"\uff0f",":":"\ufe13",";":"\ufe14","<":"\ufe3f","=":"\uff1d",">":"\ufe40","?":"\ufe16","@":"\uff20","[":"\ufe47","\\":"\uff3c","]":"\ufe48","^":"\uff3e",_:"\ufe33","`":"\uff40","{":"\ufe37","|":"\u2015","}":"\ufe38","~":"\uff5e","\xa2":"\uffe0","\xa3":"\uffe1","\xa5":"\uffe5","\xa6":"\uffe4","\xac":"\uffe2","\xaf":"\uffe3","\u2013":"\ufe32","\u2014":"\ufe31","\u2018":"\ufe43","\u2019":"\ufe44","\u201c":"\ufe41","\u201d":"\ufe42","\u2026":"\ufe19","\u2027":"\u30fb","\u20a9":"\uffe6","\u3001":"\ufe11","\u3002":"\ufe12","\u3008":"\ufe3f","\u3009":"\ufe40","\u300a":"\ufe3d","\u300b":"\ufe3e","\u300c":"\ufe41","\u300d":"\ufe42","\u300e":"\ufe43","\u300f":"\ufe44","\u3010":"\ufe3b","\u3011":"\ufe3c","\u3014":"\ufe39","\u3015":"\ufe3a","\u3016":"\ufe17","\u3017":"\ufe18","\uff01":"\ufe15","\uff08":"\ufe35","\uff09":"\ufe36","\uff0c":"\ufe10","\uff0d":"\ufe32","\uff0e":"\u30fb","\uff1a":"\ufe13","\uff1b":"\ufe14","\uff1c":"\ufe3f","\uff1e":"\ufe40","\uff1f":"\ufe16","\uff3b":"\ufe47","\uff3d":"\ufe48","\uff3f":"\ufe33","\uff5b":"\ufe37","\uff5c":"\u2015","\uff5d":"\ufe38","\uff5f":"\ufe35","\uff60":"\ufe36","\uff61":"\ufe12","\uff62":"\ufe41","\uff63":"\ufe42"},to=24,y1=function(D,F,Q,ve,Le){var je,Ze,at=8*Le-ve-1,pt=(1<<at)-1,Ct=pt>>1,Ot=-7,Gt=Q?Le-1:0,Kt=Q?-1:1,$t=D[F+Gt];for(Gt+=Kt,je=$t&(1<<-Ot)-1,$t>>=-Ot,Ot+=at;Ot>0;je=256*je+D[F+Gt],Gt+=Kt,Ot-=8);for(Ze=je&(1<<-Ot)-1,je>>=-Ot,Ot+=ve;Ot>0;Ze=256*Ze+D[F+Gt],Gt+=Kt,Ot-=8);if(0===je)je=1-Ct;else{if(je===pt)return Ze?NaN:1/0*($t?-1:1);Ze+=Math.pow(2,ve),je-=Ct}return($t?-1:1)*Ze*Math.pow(2,je-ve)},hd=function(D,F,Q,ve,Le,je){var Ze,at,pt,Ct=8*je-Le-1,Ot=(1<<Ct)-1,Gt=Ot>>1,Kt=23===Le?Math.pow(2,-24)-Math.pow(2,-77):0,$t=ve?0:je-1,gn=ve?1:-1,xn=F<0||0===F&&1/F<0?1:0;for(F=Math.abs(F),isNaN(F)||F===1/0?(at=isNaN(F)?1:0,Ze=Ot):(Ze=Math.floor(Math.log(F)/Math.LN2),F*(pt=Math.pow(2,-Ze))<1&&(Ze--,pt*=2),(F+=Ze+Gt>=1?Kt/pt:Kt*Math.pow(2,1-Gt))*pt>=2&&(Ze++,pt/=2),Ze+Gt>=Ot?(at=0,Ze=Ot):Ze+Gt>=1?(at=(F*pt-1)*Math.pow(2,Le),Ze+=Gt):(at=F*Math.pow(2,Gt-1)*Math.pow(2,Le),Ze=0));Le>=8;D[Q+$t]=255&at,$t+=gn,at/=256,Le-=8);for(Ze=Ze<<Le|at,Ct+=Le;Ct>0;D[Q+$t]=255&Ze,$t+=gn,Ze/=256,Ct-=8);D[Q+$t-gn]|=128*xn},Mp=Ni;function Ni(D){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(D)?D:new Uint8Array(D||0),this.pos=0,this.type=0,this.length=this.buf.length}Ni.Varint=0,Ni.Fixed64=1,Ni.Bytes=2,Ni.Fixed32=5;var Of=4294967296,mg=1/Of,ah=typeof TextDecoder>"u"?null:new TextDecoder("utf8");function $l(D){return D.type===Ni.Bytes?D.readVarint()+D.pos:D.pos+1}function Xy(D,F,Q){var ve=F<=16383?1:F<=2097151?2:F<=268435455?3:Math.floor(Math.log(F)/(7*Math.LN2));Q.realloc(ve);for(var Le=Q.pos-1;Le>=D;Le--)Q.buf[Le+ve]=Q.buf[Le]}function Jy(D,F){for(var Q=0;Q<D.length;Q++)F.writeVarint(D[Q])}function Z2(D,F){for(var Q=0;Q<D.length;Q++)F.writeSVarint(D[Q])}function Yl(D,F){for(var Q=0;Q<D.length;Q++)F.writeFloat(D[Q])}function vg(D,F){for(var Q=0;Q<D.length;Q++)F.writeDouble(D[Q])}function gd(D,F){for(var Q=0;Q<D.length;Q++)F.writeBoolean(D[Q])}function X2(D,F){for(var Q=0;Q<D.length;Q++)F.writeFixed32(D[Q])}function _1(D,F){for(var Q=0;Q<D.length;Q++)F.writeSFixed32(D[Q])}function Ky(D,F){for(var Q=0;Q<D.length;Q++)F.writeFixed64(D[Q])}function Qy(D,F){for(var Q=0;Q<D.length;Q++)F.writeSFixed64(D[Q])}function Ap(D,F){return(D[F]|D[F+1]<<8|D[F+2]<<16)+16777216*D[F+3]}function md(D,F,Q){D[Q]=F,D[Q+1]=F>>>8,D[Q+2]=F>>>16,D[Q+3]=F>>>24}function x1(D,F){return(D[F]|D[F+1]<<8|D[F+2]<<16)+(D[F+3]<<24)}Ni.prototype={destroy:function(){this.buf=null},readFields:function(D,F,Q){for(Q=Q||this.length;this.pos<Q;){var ve=this.readVarint(),Le=ve>>3,je=this.pos;this.type=7&ve,D(Le,F,this),this.pos===je&&this.skip(ve)}return F},readMessage:function(D,F){return this.readFields(D,F,this.readVarint()+this.pos)},readFixed32:function(){var D=Ap(this.buf,this.pos);return this.pos+=4,D},readSFixed32:function(){var D=x1(this.buf,this.pos);return this.pos+=4,D},readFixed64:function(){var D=Ap(this.buf,this.pos)+Ap(this.buf,this.pos+4)*Of;return this.pos+=8,D},readSFixed64:function(){var D=Ap(this.buf,this.pos)+x1(this.buf,this.pos+4)*Of;return this.pos+=8,D},readFloat:function(){var D=y1(this.buf,this.pos,!0,23,4);return this.pos+=4,D},readDouble:function(){var D=y1(this.buf,this.pos,!0,52,8);return this.pos+=8,D},readVarint:function(D){var F,Q,ve=this.buf;return F=127&(Q=ve[this.pos++]),Q<128?F:(F|=(127&(Q=ve[this.pos++]))<<7,Q<128?F:(F|=(127&(Q=ve[this.pos++]))<<14,Q<128?F:(F|=(127&(Q=ve[this.pos++]))<<21,Q<128?F:function(Le,je,Ze){var at,pt,Ct=Ze.buf;if(at=(112&(pt=Ct[Ze.pos++]))>>4,pt<128||(at|=(127&(pt=Ct[Ze.pos++]))<<3,pt<128)||(at|=(127&(pt=Ct[Ze.pos++]))<<10,pt<128)||(at|=(127&(pt=Ct[Ze.pos++]))<<17,pt<128)||(at|=(127&(pt=Ct[Ze.pos++]))<<24,pt<128)||(at|=(1&(pt=Ct[Ze.pos++]))<<31,pt<128))return function pd(D,F,Q){return Q?4294967296*F+(D>>>0):4294967296*(F>>>0)+(D>>>0)}(Le,at,je);throw new Error("Expected varint not more than 10 bytes")}(F|=(15&(Q=ve[this.pos]))<<28,D,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var D=this.readVarint();return D%2==1?(D+1)/-2:D/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var D=this.readVarint()+this.pos,F=this.pos;return this.pos=D,D-F>=12&&ah?ah.decode(this.buf.subarray(F,D)):function(Q,ve,Le){for(var je="",Ze=ve;Ze<Le;){var at,pt,Ct,Ot=Q[Ze],Gt=null,Kt=Ot>239?4:Ot>223?3:Ot>191?2:1;if(Ze+Kt>Le)break;1===Kt?Ot<128&&(Gt=Ot):2===Kt?128==(192&(at=Q[Ze+1]))&&(Gt=(31&Ot)<<6|63&at)<=127&&(Gt=null):3===Kt?(pt=Q[Ze+2],128==(192&(at=Q[Ze+1]))&&128==(192&pt)&&((Gt=(15&Ot)<<12|(63&at)<<6|63&pt)<=2047||Gt>=55296&&Gt<=57343)&&(Gt=null)):4===Kt&&(pt=Q[Ze+2],Ct=Q[Ze+3],128==(192&(at=Q[Ze+1]))&&128==(192&pt)&&128==(192&Ct)&&((Gt=(15&Ot)<<18|(63&at)<<12|(63&pt)<<6|63&Ct)<=65535||Gt>=1114112)&&(Gt=null)),null===Gt?(Gt=65533,Kt=1):Gt>65535&&(Gt-=65536,je+=String.fromCharCode(Gt>>>10&1023|55296),Gt=56320|1023&Gt),je+=String.fromCharCode(Gt),Ze+=Kt}return je}(this.buf,F,D)},readBytes:function(){var D=this.readVarint()+this.pos,F=this.buf.subarray(this.pos,D);return this.pos=D,F},readPackedVarint:function(D,F){if(this.type!==Ni.Bytes)return D.push(this.readVarint(F));var Q=$l(this);for(D=D||[];this.pos<Q;)D.push(this.readVarint(F));return D},readPackedSVarint:function(D){if(this.type!==Ni.Bytes)return D.push(this.readSVarint());var F=$l(this);for(D=D||[];this.pos<F;)D.push(this.readSVarint());return D},readPackedBoolean:function(D){if(this.type!==Ni.Bytes)return D.push(this.readBoolean());var F=$l(this);for(D=D||[];this.pos<F;)D.push(this.readBoolean());return D},readPackedFloat:function(D){if(this.type!==Ni.Bytes)return D.push(this.readFloat());var F=$l(this);for(D=D||[];this.pos<F;)D.push(this.readFloat());return D},readPackedDouble:function(D){if(this.type!==Ni.Bytes)return D.push(this.readDouble());var F=$l(this);for(D=D||[];this.pos<F;)D.push(this.readDouble());return D},readPackedFixed32:function(D){if(this.type!==Ni.Bytes)return D.push(this.readFixed32());var F=$l(this);for(D=D||[];this.pos<F;)D.push(this.readFixed32());return D},readPackedSFixed32:function(D){if(this.type!==Ni.Bytes)return D.push(this.readSFixed32());var F=$l(this);for(D=D||[];this.pos<F;)D.push(this.readSFixed32());return D},readPackedFixed64:function(D){if(this.type!==Ni.Bytes)return D.push(this.readFixed64());var F=$l(this);for(D=D||[];this.pos<F;)D.push(this.readFixed64());return D},readPackedSFixed64:function(D){if(this.type!==Ni.Bytes)return D.push(this.readSFixed64());var F=$l(this);for(D=D||[];this.pos<F;)D.push(this.readSFixed64());return D},skip:function(D){var F=7&D;if(F===Ni.Varint)for(;this.buf[this.pos++]>127;);else if(F===Ni.Bytes)this.pos=this.readVarint()+this.pos;else if(F===Ni.Fixed32)this.pos+=4;else{if(F!==Ni.Fixed64)throw new Error("Unimplemented type: "+F);this.pos+=8}},writeTag:function(D,F){this.writeVarint(D<<3|F)},realloc:function(D){for(var F=this.length||16;F<this.pos+D;)F*=2;if(F!==this.length){var Q=new Uint8Array(F);Q.set(this.buf),this.buf=Q,this.length=F}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(D){this.realloc(4),md(this.buf,D,this.pos),this.pos+=4},writeSFixed32:function(D){this.realloc(4),md(this.buf,D,this.pos),this.pos+=4},writeFixed64:function(D){this.realloc(8),md(this.buf,-1&D,this.pos),md(this.buf,Math.floor(D*mg),this.pos+4),this.pos+=8},writeSFixed64:function(D){this.realloc(8),md(this.buf,-1&D,this.pos),md(this.buf,Math.floor(D*mg),this.pos+4),this.pos+=8},writeVarint:function(D){(D=+D||0)>268435455||D<0?function(F,Q){var ve,Le,je,at;if(F>=0?(ve=F%4294967296|0,Le=F/4294967296|0):(Le=~(-F/4294967296),4294967295^(ve=~(-F%4294967296))?ve=ve+1|0:(ve=0,Le=Le+1|0)),F>=0x10000000000000000||F<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");Q.realloc(10),je=ve,(at=Q).buf[at.pos++]=127&je|128,je>>>=7,at.buf[at.pos++]=127&je|128,je>>>=7,at.buf[at.pos++]=127&je|128,je>>>=7,at.buf[at.pos++]=127&je|128,at.buf[at.pos]=127&(je>>>=7),function(je,Ze){var at=(7&je)<<4;Ze.buf[Ze.pos++]|=at|((je>>>=3)?128:0),je&&(Ze.buf[Ze.pos++]=127&je|((je>>>=7)?128:0),je&&(Ze.buf[Ze.pos++]=127&je|((je>>>=7)?128:0),je&&(Ze.buf[Ze.pos++]=127&je|((je>>>=7)?128:0),je&&(Ze.buf[Ze.pos++]=127&je|((je>>>=7)?128:0),je&&(Ze.buf[Ze.pos++]=127&je)))))}(Le,Q)}(D,this):(this.realloc(4),this.buf[this.pos++]=127&D|(D>127?128:0),D<=127||(this.buf[this.pos++]=127&(D>>>=7)|(D>127?128:0),D<=127||(this.buf[this.pos++]=127&(D>>>=7)|(D>127?128:0),D<=127||(this.buf[this.pos++]=D>>>7&127))))},writeSVarint:function(D){this.writeVarint(D<0?2*-D-1:2*D)},writeBoolean:function(D){this.writeVarint(!!D)},writeString:function(D){D=String(D),this.realloc(4*D.length),this.pos++;var F=this.pos;this.pos=function(ve,Le,je){for(var Ze,at,pt=0;pt<Le.length;pt++){if((Ze=Le.charCodeAt(pt))>55295&&Ze<57344){if(!at){Ze>56319||pt+1===Le.length?(ve[je++]=239,ve[je++]=191,ve[je++]=189):at=Ze;continue}if(Ze<56320){ve[je++]=239,ve[je++]=191,ve[je++]=189,at=Ze;continue}Ze=at-55296<<10|Ze-56320|65536,at=null}else at&&(ve[je++]=239,ve[je++]=191,ve[je++]=189,at=null);Ze<128?ve[je++]=Ze:(Ze<2048?ve[je++]=Ze>>6|192:(Ze<65536?ve[je++]=Ze>>12|224:(ve[je++]=Ze>>18|240,ve[je++]=Ze>>12&63|128),ve[je++]=Ze>>6&63|128),ve[je++]=63&Ze|128)}return je}(this.buf,D,this.pos);var Q=this.pos-F;Q>=128&&Xy(F,Q,this),this.pos=F-1,this.writeVarint(Q),this.pos+=Q},writeFloat:function(D){this.realloc(4),hd(this.buf,D,this.pos,!0,23,4),this.pos+=4},writeDouble:function(D){this.realloc(8),hd(this.buf,D,this.pos,!0,52,8),this.pos+=8},writeBytes:function(D){var F=D.length;this.writeVarint(F),this.realloc(F);for(var Q=0;Q<F;Q++)this.buf[this.pos++]=D[Q]},writeRawMessage:function(D,F){this.pos++;var Q=this.pos;D(F,this);var ve=this.pos-Q;ve>=128&&Xy(Q,ve,this),this.pos=Q-1,this.writeVarint(ve),this.pos+=ve},writeMessage:function(D,F,Q){this.writeTag(D,Ni.Bytes),this.writeRawMessage(F,Q)},writePackedVarint:function(D,F){F.length&&this.writeMessage(D,Jy,F)},writePackedSVarint:function(D,F){F.length&&this.writeMessage(D,Z2,F)},writePackedBoolean:function(D,F){F.length&&this.writeMessage(D,gd,F)},writePackedFloat:function(D,F){F.length&&this.writeMessage(D,Yl,F)},writePackedDouble:function(D,F){F.length&&this.writeMessage(D,vg,F)},writePackedFixed32:function(D,F){F.length&&this.writeMessage(D,X2,F)},writePackedSFixed32:function(D,F){F.length&&this.writeMessage(D,_1,F)},writePackedFixed64:function(D,F){F.length&&this.writeMessage(D,Ky,F)},writePackedSFixed64:function(D,F){F.length&&this.writeMessage(D,Qy,F)},writeBytesField:function(D,F){this.writeTag(D,Ni.Bytes),this.writeBytes(F)},writeFixed32Field:function(D,F){this.writeTag(D,Ni.Fixed32),this.writeFixed32(F)},writeSFixed32Field:function(D,F){this.writeTag(D,Ni.Fixed32),this.writeSFixed32(F)},writeFixed64Field:function(D,F){this.writeTag(D,Ni.Fixed64),this.writeFixed64(F)},writeSFixed64Field:function(D,F){this.writeTag(D,Ni.Fixed64),this.writeSFixed64(F)},writeVarintField:function(D,F){this.writeTag(D,Ni.Varint),this.writeVarint(F)},writeSVarintField:function(D,F){this.writeTag(D,Ni.Varint),this.writeSVarint(F)},writeStringField:function(D,F){this.writeTag(D,Ni.Bytes),this.writeString(F)},writeFloatField:function(D,F){this.writeTag(D,Ni.Fixed32),this.writeFloat(F)},writeDoubleField:function(D,F){this.writeTag(D,Ni.Fixed64),this.writeDouble(F)},writeBooleanField:function(D,F){this.writeVarintField(D,!!F)}};var yg=3;function _g(D,F,Q){1===D&&Q.readMessage(Sp,F)}function Sp(D,F,Q){if(3===D){var ve=Q.readMessage(e_,{}),Ze=ve.width,at=ve.height,pt=ve.left,Ct=ve.top,Ot=ve.advance;F.push({id:ve.id,bitmap:new Ku({width:Ze+2*yg,height:at+2*yg},ve.bitmap),metrics:{width:Ze,height:at,left:pt,top:Ct,advance:Ot}})}}function e_(D,F,Q){1===D?F.id=Q.readVarint():2===D?F.bitmap=Q.readBytes():3===D?F.width=Q.readVarint():4===D?F.height=Q.readVarint():5===D?F.left=Q.readSVarint():6===D?F.top=Q.readSVarint():7===D&&(F.advance=Q.readVarint())}var sh=yg;function b1(D){for(var F=0,Q=0,ve=0,Le=D;ve<Le.length;ve+=1){var je=Le[ve];F+=je.w*je.h,Q=Math.max(Q,je.w)}D.sort(function(xn,Fn){return Fn.h-xn.h});for(var Ze=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(F/.95)),Q),h:1/0}],at=0,pt=0,Ct=0,Ot=D;Ct<Ot.length;Ct+=1)for(var Gt=Ot[Ct],Kt=Ze.length-1;Kt>=0;Kt--){var $t=Ze[Kt];if(!(Gt.w>$t.w||Gt.h>$t.h)){if(Gt.x=$t.x,Gt.y=$t.y,pt=Math.max(pt,Gt.y+Gt.h),at=Math.max(at,Gt.x+Gt.w),Gt.w===$t.w&&Gt.h===$t.h){var gn=Ze.pop();Kt<Ze.length&&(Ze[Kt]=gn)}else Gt.h===$t.h?($t.x+=Gt.w,$t.w-=Gt.w):Gt.w===$t.w?($t.y+=Gt.h,$t.h-=Gt.h):(Ze.push({x:$t.x+Gt.w,y:$t.y,w:$t.w-Gt.w,h:Gt.h}),$t.y+=Gt.h,$t.h-=Gt.h);break}}return{w:at,h:pt,fill:F/(at*pt)||0}}var kp=function(D,F){var Q=F.pixelRatio,ve=F.version,Le=F.stretchX,je=F.stretchY,Ze=F.content;this.paddedRect=D,this.pixelRatio=Q,this.stretchX=Le,this.stretchY=je,this.content=Ze,this.version=ve},vd={tl:{configurable:!0},br:{configurable:!0},tlbr:{configurable:!0},displaySize:{configurable:!0}};vd.tl.get=function(){return[this.paddedRect.x+1,this.paddedRect.y+1]},vd.br.get=function(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]},vd.tlbr.get=function(){return this.tl.concat(this.br)},vd.displaySize.get=function(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]},Object.defineProperties(kp.prototype,vd);var If=function(D,F){var Q={},ve={};this.haveRenderCallbacks=[];var Le=[];this.addImages(D,Q,Le),this.addImages(F,ve,Le);var je=b1(Le),pt=new Ts({width:je.w||1,height:je.h||1});for(var Ct in D){var Ot=D[Ct],Gt=Q[Ct].paddedRect;Ts.copy(Ot.data,pt,{x:0,y:0},{x:Gt.x+1,y:Gt.y+1},Ot.data)}for(var Kt in F){var $t=F[Kt],gn=ve[Kt].paddedRect,xn=gn.x+1,Fn=gn.y+1,zn=$t.data.width,$n=$t.data.height;Ts.copy($t.data,pt,{x:0,y:0},{x:xn,y:Fn},$t.data),Ts.copy($t.data,pt,{x:0,y:$n-1},{x:xn,y:Fn-1},{width:zn,height:1}),Ts.copy($t.data,pt,{x:0,y:0},{x:xn,y:Fn+$n},{width:zn,height:1}),Ts.copy($t.data,pt,{x:zn-1,y:0},{x:xn-1,y:Fn},{width:1,height:$n}),Ts.copy($t.data,pt,{x:0,y:0},{x:xn+zn,y:Fn},{width:1,height:$n})}this.image=pt,this.iconPositions=Q,this.patternPositions=ve};If.prototype.addImages=function(D,F,Q){for(var ve in D){var Le=D[ve],je={x:0,y:0,w:Le.data.width+2,h:Le.data.height+2};Q.push(je),F[ve]=new kp(je,Le),Le.hasRenderCallback&&this.haveRenderCallbacks.push(ve)}},If.prototype.patchUpdatedImages=function(D,F){for(var Q in D.dispatchRenderCallbacks(this.haveRenderCallbacks),D.updatedImages)this.patchUpdatedImage(this.iconPositions[Q],D.getImage(Q),F),this.patchUpdatedImage(this.patternPositions[Q],D.getImage(Q),F)},If.prototype.patchUpdatedImage=function(D,F,Q){if(D&&F&&D.version!==F.version){D.version=F.version;var ve=D.tl;Q.update(F.data,void 0,{x:ve[0],y:ve[1]})}},Gr("ImagePosition",kp),Gr("ImageAtlas",If);var Fs={horizontal:1,vertical:2,horizontalOnly:3},_d=function(){this.scale=1,this.fontStack="",this.imageName=null};_d.forText=function(D,F){var Q=new _d;return Q.scale=D||1,Q.fontStack=F,Q},_d.forImage=function(D){var F=new _d;return F.imageName=D,F};var As=function(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null};function Su(D,F,Q,ve,Le,je,Ze,at,pt,Ct,Ot,Gt,Kt,$t,gn,xn){var Fn,zn=As.fromFeature(D,Le);Gt===Fs.vertical&&zn.verticalizePunctuation();var $n=Fo.processBidirectionalText,Zn=Fo.processStyledBidirectionalText;if($n&&1===zn.sections.length){Fn=[];for(var lr=0,gr=$n(zn.toString(),bg(zn,Ct,je,F,ve,$t,gn));lr<gr.length;lr+=1){var br=gr[lr],Lr=new As;Lr.text=br,Lr.sections=zn.sections;for(var Dr=0;Dr<br.length;Dr++)Lr.sectionIndex.push(0);Fn.push(Lr)}}else if(Zn){Fn=[];for(var jr=0,Jr=Zn(zn.text,zn.sectionIndex,bg(zn,Ct,je,F,ve,$t,gn));jr<Jr.length;jr+=1){var vi=Jr[jr],Qr=new As;Qr.text=vi[0],Qr.sectionIndex=vi[1],Qr.sections=zn.sections,Fn.push(Qr)}}else Fn=function(Yr,Ii){for(var wi=[],xo=Yr.text,li=0,co=0,wo=Ii;co<wo.length;co+=1){var Io=wo[co];wi.push(Yr.substring(li,Io)),li=Io}return li<xo.length&&wi.push(Yr.substring(li,xo.length)),wi}(zn,bg(zn,Ct,je,F,ve,$t,gn));var ui=[],oi={positionedLines:ui,text:zn.toString(),top:Ot[1],bottom:Ot[1],left:Ot[0],right:Ot[0],writingMode:Gt,iconsInText:!1,verticalizable:!1};return function(Yr,Ii,wi,xo,li,co,wo,Io,Po,To,Pa,Wo){for(var $o=0,Ra=-17,os=0,nl=0,hs="right"===Io?1:"left"===Io?0:.5,Ya=0,ps=0,as=li;ps<as.length;ps+=1){var La=as[ps];La.trim();var Ai=La.getMaxScale(),Ji=(Ai-1)*to,da={positionedGlyphs:[],lineOffset:0};Yr.positionedLines[Ya]=da;var bo=da.positionedGlyphs,zo=0;if(La.length()){for(var ro=0;ro<La.length();ro++){var Vi=La.getSection(ro),ra=La.getSectionIndex(ro),Ss=La.getCharCode(ro),rl=0,zs=null,eu=null,cf=null,Na=to,Zl=!(Po===Fs.horizontal||!Pa&&!Ul(Ss)||Pa&&(rf[Ss]||la(Ss)));if(Vi.imageName){var Fc=xo[Vi.imageName];if(!Fc)continue;cf=Vi.imageName,Yr.iconsInText=Yr.iconsInText||!0,eu=Fc.paddedRect;var zc=Fc.displaySize;Vi.scale=Vi.scale*to/Wo,rl=Ji+(to-zc[1]*Vi.scale),Na=(zs={width:zc[0],height:zc[1],left:1,top:-sh,advance:Zl?zc[1]:zc[0]}).advance;var uf=Zl?zc[0]*Vi.scale-to*Ai:zc[1]*Vi.scale-to*Ai;uf>0&&uf>zo&&(zo=uf)}else{var Fp=wi[Vi.fontStack],Bf=Fp&&Fp[Ss];if(Bf&&Bf.rect)eu=Bf.rect,zs=Bf.metrics;else{var zp=Ii[Vi.fontStack],mh=zp&&zp[Ss];if(!mh)continue;zs=mh.metrics}rl=(Ai-Vi.scale)*to}Zl?(Yr.verticalizable=!0,bo.push({glyph:Ss,imageName:cf,x:$o,y:Ra+rl,vertical:Zl,scale:Vi.scale,fontStack:Vi.fontStack,sectionIndex:ra,metrics:zs,rect:eu}),$o+=Na*Vi.scale+To):(bo.push({glyph:Ss,imageName:cf,x:$o,y:Ra+rl,vertical:Zl,scale:Vi.scale,fontStack:Vi.fontStack,sectionIndex:ra,metrics:zs,rect:eu}),$o+=zs.advance*Vi.scale+To)}0!==bo.length&&(os=Math.max($o-To,os),Ep(bo,0,bo.length-1,hs,zo)),$o=0;var jf=co*Ai+zo;da.lineOffset=Math.max(zo,Ji),Ra+=jf,nl=Math.max(jf,nl),++Ya}else Ra+=co,++Ya}var kd=Ra- -17,Ed=wg(wo),jp=Ed.horizontalAlign,tu=Ed.verticalAlign;(function(Lg,vh,ff,Vf,Vp,Up,Cd,Hp,yh){var qp,Gp=(vh-ff)*Vp;qp=Up!==Cd?-Hp*Vf- -17:(-Vf*yh+.5)*Cd;for(var Bc=0,ei=Lg;Bc<ei.length;Bc+=1)for(var jc=0,Dd=ei[Bc].positionedGlyphs;jc<Dd.length;jc+=1){var Od=Dd[jc];Od.x+=Gp,Od.y+=qp}})(Yr.positionedLines,hs,jp,tu,os,nl,co,kd,li.length),Yr.top+=-tu*kd,Yr.bottom=Yr.top+kd,Yr.left+=-jp*os,Yr.right=Yr.left+os}(oi,F,Q,ve,Fn,Ze,at,pt,Gt,Ct,Kt,xn),!function(Yr){for(var Ii=0,wi=Yr;Ii<wi.length;Ii+=1)if(0!==wi[Ii].positionedGlyphs.length)return!1;return!0}(ui)&&oi}As.fromFeature=function(D,F){for(var Q=new As,ve=0;ve<D.sections.length;ve++){var Le=D.sections[ve];Le.image?Q.addImageSection(Le):Q.addTextSection(Le,F)}return Q},As.prototype.length=function(){return this.text.length},As.prototype.getSection=function(D){return this.sections[this.sectionIndex[D]]},As.prototype.getSectionIndex=function(D){return this.sectionIndex[D]},As.prototype.getCharCode=function(D){return this.text.charCodeAt(D)},As.prototype.verticalizePunctuation=function(){this.text=function(D){for(var F="",Q=0;Q<D.length;Q++){var ve=D.charCodeAt(Q+1)||null,Le=D.charCodeAt(Q-1)||null;ve&&Qa(ve)&&!oh[D[Q+1]]||Le&&Qa(Le)&&!oh[D[Q-1]]||!oh[D[Q]]?F+=D[Q]:F+=oh[D[Q]]}return F}(this.text)},As.prototype.trim=function(){for(var D=0,F=0;F<this.text.length&&rf[this.text.charCodeAt(F)];F++)D++;for(var Q=this.text.length,ve=this.text.length-1;ve>=0&&ve>=D&&rf[this.text.charCodeAt(ve)];ve--)Q--;this.text=this.text.substring(D,Q),this.sectionIndex=this.sectionIndex.slice(D,Q)},As.prototype.substring=function(D,F){var Q=new As;return Q.text=this.text.substring(D,F),Q.sectionIndex=this.sectionIndex.slice(D,F),Q.sections=this.sections,Q},As.prototype.toString=function(){return this.text},As.prototype.getMaxScale=function(){var D=this;return this.sectionIndex.reduce(function(F,Q){return Math.max(F,D.sections[Q].scale)},0)},As.prototype.addTextSection=function(D,F){this.text+=D.text,this.sections.push(_d.forText(D.scale,D.fontStack||F));for(var Q=this.sections.length-1,ve=0;ve<D.text.length;++ve)this.sectionIndex.push(Q)},As.prototype.addImageSection=function(D){var F=D.image?D.image.name:"";if(0!==F.length){var Q=this.getNextImageSectionCharCode();Q?(this.text+=String.fromCharCode(Q),this.sections.push(_d.forImage(F)),this.sectionIndex.push(this.sections.length-1)):C("Reached maximum number of images 6401")}else C("Can't add FormattedSection with an empty image.")},As.prototype.getNextImageSectionCharCode=function(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)};var rf={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},xl={};function t_(D,F,Q,ve,Le,je){if(F.imageName){var Ze=ve[F.imageName];return Ze?Ze.displaySize[0]*F.scale*to/je+Le:0}var at=Q[F.fontStack],pt=at&&at[D];return pt?pt.metrics.advance*F.scale+Le:0}function xg(D,F,Q,ve){var Le=Math.pow(D-F,2);return ve?D<F?Le/2:2*Le:Le+Math.abs(Q)*Q}function n_(D,F,Q){var ve=0;return 10===D&&(ve-=1e4),Q&&(ve+=150),40!==D&&65288!==D||(ve+=50),41!==F&&65289!==F||(ve+=50),ve}function r_(D,F,Q,ve,Le,je){for(var Ze=null,at=xg(F,Q,Le,je),pt=0,Ct=ve;pt<Ct.length;pt+=1){var Ot=Ct[pt],Gt=xg(F-Ot.x,Q,Le,je)+Ot.badness;Gt<=at&&(Ze=Ot,at=Gt)}return{index:D,x:F,priorBreak:Ze,badness:at}}function w1(D){return D?w1(D.priorBreak).concat(D.index):[]}function bg(D,F,Q,ve,Le,je,Ze){if("point"!==je)return[];if(!D)return[];for(var at=[],pt=function(Fn,zn,$n,Zn,lr,gr){for(var br=0,Lr=0;Lr<Fn.length();Lr++){var Dr=Fn.getSection(Lr);br+=t_(Fn.getCharCode(Lr),Dr,Zn,lr,zn,gr)}return br/Math.max(1,Math.ceil(br/$n))}(D,F,Q,ve,Le,Ze),Ct=D.text.indexOf("\u200b")>=0,Ot=0,Gt=0;Gt<D.length();Gt++){var Kt=D.getSection(Gt),$t=D.getCharCode(Gt);if(rf[$t]||(Ot+=t_($t,Kt,ve,Le,F,Ze)),Gt<D.length()-1){var gn=!((xn=$t)<11904||!(Hr["Bopomofo Extended"](xn)||Hr.Bopomofo(xn)||Hr["CJK Compatibility Forms"](xn)||Hr["CJK Compatibility Ideographs"](xn)||Hr["CJK Compatibility"](xn)||Hr["CJK Radicals Supplement"](xn)||Hr["CJK Strokes"](xn)||Hr["CJK Symbols and Punctuation"](xn)||Hr["CJK Unified Ideographs Extension A"](xn)||Hr["CJK Unified Ideographs"](xn)||Hr["Enclosed CJK Letters and Months"](xn)||Hr["Halfwidth and Fullwidth Forms"](xn)||Hr.Hiragana(xn)||Hr["Ideographic Description Characters"](xn)||Hr["Kangxi Radicals"](xn)||Hr["Katakana Phonetic Extensions"](xn)||Hr.Katakana(xn)||Hr["Vertical Forms"](xn)||Hr["Yi Radicals"](xn)||Hr["Yi Syllables"](xn)));(xl[$t]||gn||Kt.imageName)&&at.push(r_(Gt+1,Ot,pt,at,n_($t,D.getCharCode(Gt+1),gn&&Ct),!1))}}var xn;return w1(r_(D.length(),Ot,pt,at,0,!0))}function wg(D){var F=.5,Q=.5;switch(D){case"right":case"top-right":case"bottom-right":F=1;break;case"left":case"top-left":case"bottom-left":F=0}switch(D){case"bottom":case"bottom-right":case"bottom-left":Q=1;break;case"top":case"top-right":case"top-left":Q=0}return{horizontalAlign:F,verticalAlign:Q}}function Ep(D,F,Q,ve,Le){if(ve||Le)for(var je=D[Q],at=(D[Q].x+je.metrics.advance*je.scale)*ve,pt=F;pt<=Q;pt++)D[pt].x-=at,D[pt].y+=Le}function Tg(D,F,Q,ve,Le,je){var Ze,at=D.image;if(at.content){var pt=at.content,Ct=at.pixelRatio||1;Ze=[pt[0]/Ct,pt[1]/Ct,at.displaySize[0]-pt[2]/Ct,at.displaySize[1]-pt[3]/Ct]}var Ot,Gt,Kt,$t,gn=F.left*je,xn=F.right*je;"width"===Q||"both"===Q?($t=Le[0]+gn-ve[3],Gt=Le[0]+xn+ve[1]):Gt=($t=Le[0]+(gn+xn-at.displaySize[0])/2)+at.displaySize[0];var Fn=F.top*je,zn=F.bottom*je;return"height"===Q||"both"===Q?(Ot=Le[1]+Fn-ve[0],Kt=Le[1]+zn+ve[2]):Kt=(Ot=Le[1]+(Fn+zn-at.displaySize[1])/2)+at.displaySize[1],{image:at,top:Ot,right:Gt,bottom:Kt,left:$t,collisionPadding:Ze}}xl[10]=!0,xl[32]=!0,xl[38]=!0,xl[40]=!0,xl[41]=!0,xl[43]=!0,xl[45]=!0,xl[47]=!0,xl[173]=!0,xl[183]=!0,xl[8203]=!0,xl[8208]=!0,xl[8211]=!0,xl[8231]=!0;var xd=function(D){function F(Q,ve,Le,je){D.call(this,Q,ve),this.angle=Le,void 0!==je&&(this.segment=je)}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype.clone=function(){return new F(this.x,this.y,this.angle,this.segment)},F}(i);Gr("Anchor",xd);var vc=128;function T1(D,F){var Q=F.expression;if("constant"===Q.kind)return{kind:"constant",layoutSize:Q.evaluate(new io(D+1))};if("source"===Q.kind)return{kind:"source"};for(var ve=Q.zoomStops,Le=Q.interpolationType,je=0;je<ve.length&&ve[je]<=D;)je++;for(var Ze=je=Math.max(0,je-1);Ze<ve.length&&ve[Ze]<D+1;)Ze++;Ze=Math.min(ve.length-1,Ze);var at=ve[je],pt=ve[Ze];return"composite"===Q.kind?{kind:"composite",minZoom:at,maxZoom:pt,interpolationType:Le}:{kind:"camera",minZoom:at,maxZoom:pt,minSize:Q.evaluate(new io(at)),maxSize:Q.evaluate(new io(pt)),interpolationType:Le}}function Mg(D,F,Q){var ve=F.uSize,je=Q.lowerSize;return"source"===D.kind?je/vc:"composite"===D.kind?ir(je/vc,Q.upperSize/vc,F.uSizeT):ve}function i_(D,F){var Q=0,ve=0;if("constant"===D.kind)ve=D.layoutSize;else if("source"!==D.kind){var Le=D.interpolationType,at=Le?l(No.interpolationFactor(Le,F,D.minZoom,D.maxZoom),0,1):0;"camera"===D.kind?ve=ir(D.minSize,D.maxSize,at):Q=at}return{uSizeT:Q,uSize:ve}}var o_=Object.freeze({__proto__:null,getSizeData:T1,evaluateSizeForFeature:Mg,evaluateSizeForZoom:i_,SIZE_PACK_FACTOR:vc});function M1(D,F,Q,ve,Le){if(void 0===F.segment)return!0;for(var je=F,Ze=F.segment+1,at=0;at>-Q/2;){if(--Ze<0)return!1;at-=D[Ze].dist(je),je=D[Ze]}at+=D[Ze].dist(D[Ze+1]),Ze++;for(var pt=[],Ct=0;at<Q/2;){var Gt=D[Ze],Kt=D[Ze+1];if(!Kt)return!1;var $t=D[Ze-1].angleTo(Gt)-Gt.angleTo(Kt);for($t=Math.abs(($t+3*Math.PI)%(2*Math.PI)-Math.PI),pt.push({distance:at,angleDelta:$t}),Ct+=$t;at-pt[0].distance>ve;)Ct-=pt.shift().angleDelta;if(Ct>Le)return!1;Ze++,at+=Gt.dist(Kt)}return!0}function Cp(D){for(var F=0,Q=0;Q<D.length-1;Q++)F+=D[Q].dist(D[Q+1]);return F}function a_(D,F,Q){return D?.6*F*Q:0}function s_(D,F){return Math.max(D?D.right-D.left:0,F?F.right-F.left:0)}function Ag(D,F,Q,ve,Le,je){for(var Ze=a_(Q,Le,je),at=s_(Q,ve)*je,pt=0,Ct=Cp(D)/2,Ot=0;Ot<D.length-1;Ot++){var Gt=D[Ot],Kt=D[Ot+1],$t=Gt.dist(Kt);if(pt+$t>Ct){var gn=(Ct-pt)/$t,xn=ir(Gt.x,Kt.x,gn),Fn=ir(Gt.y,Kt.y,gn),zn=new xd(xn,Fn,Kt.angleTo(Gt),Ot);return zn._round(),!Ze||M1(D,zn,at,Ze,F)?zn:void 0}pt+=$t}}function J2(D,F,Q,ve,Le,je,Ze,at,pt){var Ct=a_(ve,je,Ze),Ot=s_(ve,Le),Gt=Ot*Ze,Kt=0===D[0].x||D[0].x===pt||0===D[0].y||D[0].y===pt;return F-Gt<F/4&&(F=Gt+F/4),l_(D,Kt?F/2*at%F:(Ot/2+2*je)*Ze*at%F,F,Ct,Q,Gt,Kt,!1,pt)}function l_(D,F,Q,ve,Le,je,Ze,at,pt){for(var Ct=je/2,Ot=Cp(D),Gt=0,Kt=F-Q,$t=[],gn=0;gn<D.length-1;gn++){for(var xn=D[gn],Fn=D[gn+1],zn=xn.dist(Fn),$n=Fn.angleTo(xn);Kt+Q<Gt+zn;){var Zn=((Kt+=Q)-Gt)/zn,lr=ir(xn.x,Fn.x,Zn),gr=ir(xn.y,Fn.y,Zn);if(lr>=0&&lr<pt&&gr>=0&&gr<pt&&Kt-Ct>=0&&Kt+Ct<=Ot){var br=new xd(lr,gr,$n,gn);br._round(),ve&&!M1(D,br,je,ve,Le)||$t.push(br)}}Gt+=zn}return at||$t.length||Ze||($t=l_(D,Gt/2,Q,ve,Le,je,Ze,!0,pt)),$t}function c_(D,F,Q,ve,Le){for(var je=[],Ze=0;Ze<D.length;Ze++)for(var at=D[Ze],pt=void 0,Ct=0;Ct<at.length-1;Ct++){var Ot=at[Ct],Gt=at[Ct+1];Ot.x<F&&Gt.x<F||(Ot.x<F?Ot=new i(F,Ot.y+(F-Ot.x)/(Gt.x-Ot.x)*(Gt.y-Ot.y))._round():Gt.x<F&&(Gt=new i(F,Ot.y+(F-Ot.x)/(Gt.x-Ot.x)*(Gt.y-Ot.y))._round()),Ot.y<Q&&Gt.y<Q||(Ot.y<Q?Ot=new i(Ot.x+(Q-Ot.y)/(Gt.y-Ot.y)*(Gt.x-Ot.x),Q)._round():Gt.y<Q&&(Gt=new i(Ot.x+(Q-Ot.y)/(Gt.y-Ot.y)*(Gt.x-Ot.x),Q)._round()),Ot.x>=ve&&Gt.x>=ve||(Ot.x>=ve?Ot=new i(ve,Ot.y+(ve-Ot.x)/(Gt.x-Ot.x)*(Gt.y-Ot.y))._round():Gt.x>=ve&&(Gt=new i(ve,Ot.y+(ve-Ot.x)/(Gt.x-Ot.x)*(Gt.y-Ot.y))._round()),Ot.y>=Le&&Gt.y>=Le||(Ot.y>=Le?Ot=new i(Ot.x+(Le-Ot.y)/(Gt.y-Ot.y)*(Gt.x-Ot.x),Le)._round():Gt.y>=Le&&(Gt=new i(Ot.x+(Le-Ot.y)/(Gt.y-Ot.y)*(Gt.x-Ot.x),Le)._round()),pt&&Ot.equals(pt[pt.length-1])||je.push(pt=[Ot]),pt.push(Gt)))))}return je}var lh=1;function u_(D,F,Q,ve){var Le=[],je=D.image,Ze=je.pixelRatio,at=je.paddedRect.w-2*lh,pt=je.paddedRect.h-2*lh,Ct=D.right-D.left,Ot=D.bottom-D.top,Gt=je.stretchX||[[0,at]],Kt=je.stretchY||[[0,pt]],$t=function(co,wo){return co+wo[1]-wo[0]},gn=Gt.reduce($t,0),xn=Kt.reduce($t,0),Fn=at-gn,zn=pt-xn,$n=0,Zn=gn,lr=0,gr=xn,br=0,Lr=Fn,Dr=0,jr=zn;if(je.content&&ve){var Jr=je.content;$n=Dp(Gt,0,Jr[0]),lr=Dp(Kt,0,Jr[1]),Zn=Dp(Gt,Jr[0],Jr[2]),gr=Dp(Kt,Jr[1],Jr[3]),br=Jr[0]-$n,Dr=Jr[1]-lr,Lr=Jr[2]-Jr[0]-Zn,jr=Jr[3]-Jr[1]-gr}var vi=function(co,wo,Io,Po){var To=Pf(co.stretch-$n,Zn,Ct,D.left),Pa=uh(co.fixed-br,Lr,co.stretch,gn),Wo=Pf(wo.stretch-lr,gr,Ot,D.top),$o=uh(wo.fixed-Dr,jr,wo.stretch,xn),Ra=Pf(Io.stretch-$n,Zn,Ct,D.left),os=uh(Io.fixed-br,Lr,Io.stretch,gn),nl=Pf(Po.stretch-lr,gr,Ot,D.top),hs=uh(Po.fixed-Dr,jr,Po.stretch,xn),Ya=new i(To,Wo),ps=new i(Ra,Wo),as=new i(Ra,nl),La=new i(To,nl),Ai=new i(Pa/Ze,$o/Ze),Ji=new i(os/Ze,hs/Ze),da=F*Math.PI/180;if(da){var bo=Math.sin(da),zo=Math.cos(da),ro=[zo,-bo,bo,zo];Ya._matMult(ro),ps._matMult(ro),La._matMult(ro),as._matMult(ro)}var Vi=co.stretch+co.fixed,Ss=wo.stretch+wo.fixed;return{tl:Ya,tr:ps,bl:La,br:as,tex:{x:je.paddedRect.x+lh+Vi,y:je.paddedRect.y+lh+Ss,w:Io.stretch+Io.fixed-Vi,h:Po.stretch+Po.fixed-Ss},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:Ai,pixelOffsetBR:Ji,minFontScaleX:Lr/Ze/Ct,minFontScaleY:jr/Ze/Ot,isSDF:Q}};if(ve&&(je.stretchX||je.stretchY))for(var Qr=ch(Gt,Fn,gn),ui=ch(Kt,zn,xn),oi=0;oi<Qr.length-1;oi++)for(var Yr=Qr[oi],Ii=Qr[oi+1],wi=0;wi<ui.length-1;wi++)Le.push(vi(Yr,ui[wi],Ii,ui[wi+1]));else Le.push(vi({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:at+1},{fixed:0,stretch:pt+1}));return Le}function Dp(D,F,Q){for(var ve=0,Le=0,je=D;Le<je.length;Le+=1){var Ze=je[Le];ve+=Math.max(F,Math.min(Q,Ze[1]))-Math.max(F,Math.min(Q,Ze[0]))}return ve}function ch(D,F,Q){for(var ve=[{fixed:-lh,stretch:0}],Le=0,je=D;Le<je.length;Le+=1){var Ze=je[Le],at=Ze[0],pt=Ze[1],Ct=ve[ve.length-1];ve.push({fixed:at-Ct.stretch,stretch:Ct.stretch}),ve.push({fixed:at-Ct.stretch,stretch:Ct.stretch+(pt-at)})}return ve.push({fixed:F+lh,stretch:Q}),ve}function Pf(D,F,Q,ve){return D/F*Q+ve}function uh(D,F,Q,ve){return D-F*Q/ve}var fh=function(D,F,Q,ve,Le,je,Ze,at,pt,Ct){if(this.boxStartIndex=D.length,pt){var Ot=je.top,Gt=je.bottom,Kt=je.collisionPadding;Kt&&(Ot-=Kt[1],Gt+=Kt[3]);var $t=Gt-Ot;$t>0&&($t=Math.max(10,$t),this.circleDiameter=$t)}else{var gn=je.top*Ze-at,xn=je.bottom*Ze+at,Fn=je.left*Ze-at,zn=je.right*Ze+at,$n=je.collisionPadding;if($n&&(Fn-=$n[0]*Ze,gn-=$n[1]*Ze,zn+=$n[2]*Ze,xn+=$n[3]*Ze),Ct){var Zn=new i(Fn,gn),lr=new i(zn,gn),gr=new i(Fn,xn),br=new i(zn,xn),Lr=Ct*Math.PI/180;Zn._rotate(Lr),lr._rotate(Lr),gr._rotate(Lr),br._rotate(Lr),Fn=Math.min(Zn.x,lr.x,gr.x,br.x),zn=Math.max(Zn.x,lr.x,gr.x,br.x),gn=Math.min(Zn.y,lr.y,gr.y,br.y),xn=Math.max(Zn.y,lr.y,gr.y,br.y)}D.emplaceBack(F.x,F.y,Fn,gn,zn,xn,Q,ve,Le)}this.boxEndIndex=D.length},Rf=function(D,F){if(void 0===D&&(D=[]),void 0===F&&(F=bd),this.data=D,this.length=this.data.length,this.compare=F,this.length>0)for(var Q=(this.length>>1)-1;Q>=0;Q--)this._down(Q)};function bd(D,F){return D<F?-1:D>F?1:0}function A1(D,F,Q){void 0===F&&(F=1),void 0===Q&&(Q=!1);for(var ve=1/0,Le=1/0,je=-1/0,Ze=-1/0,at=D[0],pt=0;pt<at.length;pt++){var Ct=at[pt];(!pt||Ct.x<ve)&&(ve=Ct.x),(!pt||Ct.y<Le)&&(Le=Ct.y),(!pt||Ct.x>je)&&(je=Ct.x),(!pt||Ct.y>Ze)&&(Ze=Ct.y)}var Kt=Math.min(je-ve,Ze-Le),$t=Kt/2,gn=new Rf([],S1);if(0===Kt)return new i(ve,Le);for(var xn=ve;xn<je;xn+=Kt)for(var Fn=Le;Fn<Ze;Fn+=Kt)gn.push(new ku(xn+$t,Fn+$t,$t,D));for(var zn=function(lr){for(var gr=0,br=0,Lr=0,Dr=lr[0],jr=0,Jr=Dr.length,vi=Jr-1;jr<Jr;vi=jr++){var Qr=Dr[jr],ui=Dr[vi],oi=Qr.x*ui.y-ui.x*Qr.y;br+=(Qr.x+ui.x)*oi,Lr+=(Qr.y+ui.y)*oi,gr+=3*oi}return new ku(br/gr,Lr/gr,0,lr)}(D),$n=gn.length;gn.length;){var Zn=gn.pop();(Zn.d>zn.d||!zn.d)&&(zn=Zn,Q&&console.log("found best %d after %d probes",Math.round(1e4*Zn.d)/1e4,$n)),Zn.max-zn.d<=F||(gn.push(new ku(Zn.p.x-($t=Zn.h/2),Zn.p.y-$t,$t,D)),gn.push(new ku(Zn.p.x+$t,Zn.p.y-$t,$t,D)),gn.push(new ku(Zn.p.x-$t,Zn.p.y+$t,$t,D)),gn.push(new ku(Zn.p.x+$t,Zn.p.y+$t,$t,D)),$n+=4)}return Q&&(console.log("num probes: "+$n),console.log("best distance: "+zn.d)),zn.p}function S1(D,F){return F.max-D.max}function ku(D,F,Q,ve){this.p=new i(D,F),this.h=Q,this.d=function(Le,je){for(var Ze=!1,at=1/0,pt=0;pt<je.length;pt++)for(var Ct=je[pt],Ot=0,Gt=Ct.length,Kt=Gt-1;Ot<Gt;Kt=Ot++){var $t=Ct[Ot],gn=Ct[Kt];$t.y>Le.y!=gn.y>Le.y&&Le.x<(gn.x-$t.x)*(Le.y-$t.y)/(gn.y-$t.y)+$t.x&&(Ze=!Ze),at=Math.min(at,Tu(Le,$t,gn))}return(Ze?1:-1)*Math.sqrt(at)}(this.p,ve),this.max=this.d+this.h*Math.SQRT2}Rf.prototype.push=function(D){this.data.push(D),this.length++,this._up(this.length-1)},Rf.prototype.pop=function(){if(0!==this.length){var D=this.data[0],F=this.data.pop();return this.length--,this.length>0&&(this.data[0]=F,this._down(0)),D}},Rf.prototype.peek=function(){return this.data[0]},Rf.prototype._up=function(D){for(var F=this.data,Q=this.compare,ve=F[D];D>0;){var Le=D-1>>1,je=F[Le];if(Q(ve,je)>=0)break;F[D]=je,D=Le}F[D]=ve},Rf.prototype._down=function(D){for(var F=this.data,Q=this.compare,ve=this.length>>1,Le=F[D];D<ve;){var je=1+(D<<1),Ze=F[je],at=je+1;if(at<this.length&&Q(F[at],Ze)<0&&(je=at,Ze=F[at]),Q(Ze,Le)>=0)break;F[D]=Ze,D=je}F[D]=Le};var Qc=Number.POSITIVE_INFINITY;function k1(D,F){return F[1]!==Qc?function(Q,ve,Le){var je=0,Ze=0;switch(ve=Math.abs(ve),Le=Math.abs(Le),Q){case"top-right":case"top-left":case"top":Ze=Le-7;break;case"bottom-right":case"bottom-left":case"bottom":Ze=7-Le}switch(Q){case"top-right":case"bottom-right":case"right":je=-ve;break;case"top-left":case"bottom-left":case"left":je=ve}return[je,Ze]}(D,F[0],F[1]):function(Q,ve){var Le=0,je=0;ve<0&&(ve=0);var Ze=ve/Math.sqrt(2);switch(Q){case"top-right":case"top-left":je=Ze-7;break;case"bottom-right":case"bottom-left":je=7-Ze;break;case"bottom":je=7-ve;break;case"top":je=ve-7}switch(Q){case"top-right":case"bottom-right":Le=-Ze;break;case"top-left":case"bottom-left":Le=Ze;break;case"left":Le=ve;break;case"right":Le=-ve}return[Le,je]}(D,F[0])}function Sg(D){switch(D){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}var Cu=32640;function Op(D,F,Q,ve,Le,je,Ze,at,pt,Ct,Ot,Gt,Kt,$t,gn){var xn=function(lr,gr,br,Lr,Dr,jr,Jr,vi){for(var Qr=Lr.layout.get("text-rotate").evaluate(jr,{})*Math.PI/180,ui=[],oi=0,Yr=gr.positionedLines;oi<Yr.length;oi+=1)for(var Ii=Yr[oi],wi=0,xo=Ii.positionedGlyphs;wi<xo.length;wi+=1){var li=xo[wi];if(li.rect){var co=li.rect||{},wo=sh+1,Io=!0,Po=1,To=0,Pa=(Dr||vi)&&li.vertical,Wo=li.metrics.advance*li.scale/2;if(vi&&gr.verticalizable&&(To=Ii.lineOffset/2-(li.imageName?-(to-li.metrics.width*li.scale)/2:(li.scale-1)*to)),li.imageName){var os=Jr[li.imageName];Io=os.sdf,wo=1/(Po=os.pixelRatio)}var nl=Dr?[li.x+Wo,li.y]:[0,0],hs=Dr?[0,0]:[li.x+Wo+br[0],li.y+br[1]-To],Ya=[0,0];Pa&&(Ya=hs,hs=[0,0]);var ps=(li.metrics.left-wo)*li.scale-Wo+hs[0],as=(-li.metrics.top-wo)*li.scale+hs[1],La=ps+co.w*li.scale/Po,Ai=as+co.h*li.scale/Po,Ji=new i(ps,as),da=new i(La,as),bo=new i(ps,Ai),zo=new i(La,Ai);if(Pa){var ro=new i(-Wo,Wo- -17),Vi=-Math.PI/2,ra=to/2-Wo,rl=new i(22-ra,-(li.imageName?ra:0)),zs=new(Function.prototype.bind.apply(i,[null].concat(Ya)));Ji._rotateAround(Vi,ro)._add(rl)._add(zs),da._rotateAround(Vi,ro)._add(rl)._add(zs),bo._rotateAround(Vi,ro)._add(rl)._add(zs),zo._rotateAround(Vi,ro)._add(rl)._add(zs)}if(Qr){var eu=Math.sin(Qr),cf=Math.cos(Qr),Na=[cf,-eu,eu,cf];Ji._matMult(Na),da._matMult(Na),bo._matMult(Na),zo._matMult(Na)}var Zl=new i(0,0),Fc=new i(0,0);ui.push({tl:Ji,tr:da,bl:bo,br:zo,tex:co,writingMode:gr.writingMode,glyphOffset:nl,sectionIndex:li.sectionIndex,isSDF:Io,pixelOffsetTL:Zl,pixelOffsetBR:Fc,minFontScaleX:0,minFontScaleY:0})}}return ui}(0,Q,at,Le,je,Ze,ve,D.allowVerticalPlacement),Fn=D.textSizeData,zn=null;"source"===Fn.kind?(zn=[vc*Le.layout.get("text-size").evaluate(Ze,{})])[0]>Cu&&C(D.layerIds[0]+': Value for "text-size" is >= 255. Reduce your "text-size".'):"composite"===Fn.kind&&((zn=[vc*$t.compositeTextSizes[0].evaluate(Ze,{},gn),vc*$t.compositeTextSizes[1].evaluate(Ze,{},gn)])[0]>Cu||zn[1]>Cu)&&C(D.layerIds[0]+': Value for "text-size" is >= 255. Reduce your "text-size".'),D.addSymbols(D.text,xn,zn,at,je,Ze,Ct,F,pt.lineStartIndex,pt.lineLength,Kt,gn);for(var $n=0,Zn=Ot;$n<Zn.length;$n+=1)Gt[Zn[$n]]=D.text.placedSymbolArray.length-1;return 4*xn.length}function E1(D){for(var F in D)return D[F];return null}function f_(D,F,Q,ve){var Le=D.compareText;if(F in Le){for(var je=Le[F],Ze=je.length-1;Ze>=0;Ze--)if(ve.dist(je[Ze])<Q)return!0}else Le[F]=[];return Le[F].push(ve),!1}var d_=mc.VectorTileFeature.types,C1=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function Ip(D,F,Q,ve,Le,je,Ze,at,pt,Ct,Ot,Gt,Kt){var $t=at?Math.min(Cu,Math.round(at[0])):0,gn=at?Math.min(Cu,Math.round(at[1])):0;D.emplaceBack(F,Q,Math.round(32*ve),Math.round(32*Le),je,Ze,($t<<1)+(pt?1:0),gn,16*Ct,16*Ot,256*Gt,256*Kt)}function kg(D,F,Q){D.emplaceBack(F.x,F.y,Q),D.emplaceBack(F.x,F.y,Q),D.emplaceBack(F.x,F.y,Q),D.emplaceBack(F.x,F.y,Q)}function Nl(D){for(var F=0,Q=D.sections;F<Q.length;F+=1)if(fo(Q[F].text))return!0;return!1}var af=function(D){this.layoutVertexArray=new V,this.indexArray=new ie,this.programConfigurations=D,this.segments=new In,this.dynamicLayoutVertexArray=new $,this.opacityVertexArray=new W,this.placedSymbolArray=new Ht};af.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length&&0===this.indexArray.length&&0===this.dynamicLayoutVertexArray.length&&0===this.opacityVertexArray.length},af.prototype.upload=function(D,F,Q,ve){this.isEmpty()||(Q&&(this.layoutVertexBuffer=D.createVertexBuffer(this.layoutVertexArray,v1.members),this.indexBuffer=D.createIndexBuffer(this.indexArray,F),this.dynamicLayoutVertexBuffer=D.createVertexBuffer(this.dynamicLayoutVertexArray,$2.members,!0),this.opacityVertexBuffer=D.createVertexBuffer(this.opacityVertexArray,C1,!0),this.opacityVertexBuffer.itemSize=1),(Q||ve)&&this.programConfigurations.upload(D))},af.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())},Gr("SymbolBuffers",af);var wd=function(D,F,Q){this.layoutVertexArray=new D,this.layoutAttributes=F,this.indexArray=new Q,this.segments=new In,this.collisionVertexArray=new H};wd.prototype.upload=function(D){this.layoutVertexBuffer=D.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=D.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=D.createVertexBuffer(this.collisionVertexArray,Y2.members,!0)},wd.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())},Gr("CollisionBuffers",wd);var oo=function(D){this.collisionBoxArray=D.collisionBoxArray,this.zoom=D.zoom,this.overscaling=D.overscaling,this.layers=D.layers,this.layerIds=this.layers.map(function(Ze){return Ze.id}),this.index=D.index,this.pixelRatio=D.pixelRatio,this.sourceLayerIndex=D.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=op([]),this.placementViewportMatrix=op([]);var F=this.layers[0]._unevaluatedLayout._values;this.textSizeData=T1(this.zoom,F["text-size"]),this.iconSizeData=T1(this.zoom,F["icon-size"]);var Q=this.layers[0].layout,ve=Q.get("symbol-sort-key"),Le=Q.get("symbol-z-order");this.sortFeaturesByKey="viewport-y"!==Le&&void 0!==ve.constantOr(1),this.sortFeaturesByY=("viewport-y"===Le||"auto"===Le&&!this.sortFeaturesByKey)&&(Q.get("text-allow-overlap")||Q.get("icon-allow-overlap")||Q.get("text-ignore-placement")||Q.get("icon-ignore-placement")),"point"===Q.get("symbol-placement")&&(this.writingModes=Q.get("text-writing-mode").map(function(Ze){return Fs[Ze]})),this.stateDependentLayerIds=this.layers.filter(function(Ze){return Ze.isStateDependent()}).map(function(Ze){return Ze.id}),this.sourceID=D.sourceID};oo.prototype.createArrays=function(){this.text=new af(new _o(v1.members,this.layers,this.zoom,function(D){return/^text/.test(D)})),this.icon=new af(new _o(v1.members,this.layers,this.zoom,function(D){return/^icon/.test(D)})),this.glyphOffsetArray=new Vt,this.lineVertexArray=new mn,this.symbolInstances=new Xt},oo.prototype.calculateGlyphDependencies=function(D,F,Q,ve,Le){for(var je=0;je<D.length;je++)if(F[D.charCodeAt(je)]=!0,(Q||ve)&&Le){var Ze=oh[D.charAt(je)];Ze&&(F[Ze.charCodeAt(0)]=!0)}},oo.prototype.populate=function(D,F,Q){var ve=this.layers[0],Le=ve.layout,je=Le.get("text-font"),Ze=Le.get("text-field"),at=Le.get("icon-image"),pt=("constant"!==Ze.value.kind||Ze.value.value instanceof qn&&!Ze.value.value.isEmpty()||Ze.value.value.toString().length>0)&&("constant"!==je.value.kind||je.value.value.length>0),Ct="constant"!==at.value.kind||!!at.value.value||Object.keys(at.parameters).length>0,Ot=Le.get("symbol-sort-key");if(this.features=[],pt||Ct){for(var Gt=F.iconDependencies,Kt=F.glyphDependencies,$t=F.availableImages,gn=new io(this.zoom),xn=0,Fn=D;xn<Fn.length;xn+=1){var zn=Fn[xn],$n=zn.feature,Zn=zn.id,lr=zn.index,gr=zn.sourceLayerIndex,br=ve._featureFilter.needGeometry,Lr={type:$n.type,id:Zn,properties:$n.properties,geometry:br?ws($n):[]};if(ve._featureFilter.filter(gn,Lr,Q)){br||(Lr.geometry=ws($n));var Dr=void 0;if(pt){var jr=ve.getValueAndResolveTokens("text-field",Lr,Q,$t),Jr=qn.factory(jr);Nl(Jr)&&(this.hasRTLText=!0),(!this.hasRTLText||"unavailable"===dl()||this.hasRTLText&&Fo.isParsed())&&(Dr=Zy(Jr,ve,Lr))}var vi=void 0;if(Ct){var Qr=ve.getValueAndResolveTokens("icon-image",Lr,Q,$t);vi=Qr instanceof Ln?Qr:Ln.fromString(Qr)}if(Dr||vi){var ui=this.sortFeaturesByKey?Ot.evaluate(Lr,{},Q):void 0,oi={id:Zn,text:Dr,icon:vi,index:lr,sourceLayerIndex:gr,geometry:ws($n),properties:$n.properties,type:d_[$n.type],sortKey:ui};if(this.features.push(oi),vi&&(Gt[vi.name]=!0),Dr){var Yr=je.evaluate(Lr,{},Q).join(","),Ii="map"===Le.get("text-rotation-alignment")&&"point"!==Le.get("symbol-placement");this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(Fs.vertical)>=0;for(var wi=0,xo=Dr.sections;wi<xo.length;wi+=1){var li=xo[wi];if(li.image)Gt[li.image.name]=!0;else{var co=fs(Dr.toString()),wo=li.fontStack||Yr,Io=Kt[wo]=Kt[wo]||{};this.calculateGlyphDependencies(li.text,Io,Ii,this.allowVerticalPlacement,co)}}}}}}"line"===Le.get("symbol-placement")&&(this.features=function(Po){var To={},Pa={},Wo=[],$o=0;function Ra(zo){Wo.push(Po[zo]),$o++}function os(zo,ro,Vi){var ra=Pa[zo];return delete Pa[zo],Pa[ro]=ra,Wo[ra].geometry[0].pop(),Wo[ra].geometry[0]=Wo[ra].geometry[0].concat(Vi[0]),ra}function nl(zo,ro,Vi){var ra=To[ro];return delete To[ro],To[zo]=ra,Wo[ra].geometry[0].shift(),Wo[ra].geometry[0]=Vi[0].concat(Wo[ra].geometry[0]),ra}function hs(zo,ro,Vi){var ra=Vi?ro[0][ro[0].length-1]:ro[0][0];return zo+":"+ra.x+":"+ra.y}for(var Ya=0;Ya<Po.length;Ya++){var ps=Po[Ya],as=ps.geometry,La=ps.text?ps.text.toString():null;if(La){var Ai=hs(La,as),Ji=hs(La,as,!0);if(Ai in Pa&&Ji in To&&Pa[Ai]!==To[Ji]){var da=nl(Ai,Ji,as),bo=os(Ai,Ji,Wo[da].geometry);delete To[Ai],delete Pa[Ji],Pa[hs(La,Wo[bo].geometry,!0)]=bo,Wo[da].geometry=null}else Ai in Pa?os(Ai,Ji,as):Ji in To?nl(Ai,Ji,as):(Ra(Ya),To[Ai]=$o-1,Pa[Ji]=$o-1)}else Ra(Ya)}return Wo.filter(function(zo){return zo.geometry})}(this.features)),this.sortFeaturesByKey&&this.features.sort(function(Po,To){return Po.sortKey-To.sortKey})}},oo.prototype.update=function(D,F,Q){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(D,F,this.layers,Q),this.icon.programConfigurations.updatePaintArrays(D,F,this.layers,Q))},oo.prototype.isEmpty=function(){return 0===this.symbolInstances.length&&!this.hasRTLText},oo.prototype.uploadPending=function(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload},oo.prototype.upload=function(D){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(D),this.iconCollisionBox.upload(D)),this.text.upload(D,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(D,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0},oo.prototype.destroyDebugData=function(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()},oo.prototype.destroy=function(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()},oo.prototype.addToLineVertexArray=function(D,F){var Q=this.lineVertexArray.length;if(void 0!==D.segment){for(var ve=D.dist(F[D.segment+1]),Le=D.dist(F[D.segment]),je={},Ze=D.segment+1;Ze<F.length;Ze++)je[Ze]={x:F[Ze].x,y:F[Ze].y,tileUnitDistanceFromAnchor:ve},Ze<F.length-1&&(ve+=F[Ze+1].dist(F[Ze]));for(var at=D.segment||0;at>=0;at--)je[at]={x:F[at].x,y:F[at].y,tileUnitDistanceFromAnchor:Le},at>0&&(Le+=F[at-1].dist(F[at]));for(var pt=0;pt<F.length;pt++){var Ct=je[pt];this.lineVertexArray.emplaceBack(Ct.x,Ct.y,Ct.tileUnitDistanceFromAnchor)}}return{lineStartIndex:Q,lineLength:this.lineVertexArray.length-Q}},oo.prototype.addSymbols=function(D,F,Q,ve,Le,je,Ze,at,pt,Ct,Ot,Gt){for(var Kt=D.indexArray,$t=D.layoutVertexArray,gn=D.segments.prepareSegment(4*F.length,$t,Kt,je.sortKey),xn=this.glyphOffsetArray.length,Fn=gn.vertexLength,zn=this.allowVerticalPlacement&&Ze===Fs.vertical?Math.PI/2:0,$n=je.text&&je.text.sections,Zn=0;Zn<F.length;Zn++){var lr=F[Zn],gr=lr.tl,br=lr.tr,Lr=lr.bl,Dr=lr.br,jr=lr.tex,Jr=lr.pixelOffsetTL,vi=lr.pixelOffsetBR,Qr=lr.minFontScaleX,ui=lr.minFontScaleY,oi=lr.glyphOffset,Yr=lr.isSDF,Ii=lr.sectionIndex,wi=gn.vertexLength,xo=oi[1];Ip($t,at.x,at.y,gr.x,xo+gr.y,jr.x,jr.y,Q,Yr,Jr.x,Jr.y,Qr,ui),Ip($t,at.x,at.y,br.x,xo+br.y,jr.x+jr.w,jr.y,Q,Yr,vi.x,Jr.y,Qr,ui),Ip($t,at.x,at.y,Lr.x,xo+Lr.y,jr.x,jr.y+jr.h,Q,Yr,Jr.x,vi.y,Qr,ui),Ip($t,at.x,at.y,Dr.x,xo+Dr.y,jr.x+jr.w,jr.y+jr.h,Q,Yr,vi.x,vi.y,Qr,ui),kg(D.dynamicLayoutVertexArray,at,zn),Kt.emplaceBack(wi,wi+1,wi+2),Kt.emplaceBack(wi+1,wi+2,wi+3),gn.vertexLength+=4,gn.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(oi[0]),Zn!==F.length-1&&Ii===F[Zn+1].sectionIndex||D.programConfigurations.populatePaintArrays($t.length,je,je.index,{},Gt,$n&&$n[Ii])}D.placedSymbolArray.emplaceBack(at.x,at.y,xn,this.glyphOffsetArray.length-xn,Fn,pt,Ct,at.segment,Q?Q[0]:0,Q?Q[1]:0,ve[0],ve[1],Ze,0,!1,0,Ot)},oo.prototype._addCollisionDebugVertex=function(D,F,Q,ve,Le,je){return F.emplaceBack(0,0),D.emplaceBack(Q.x,Q.y,ve,Le,Math.round(je.x),Math.round(je.y))},oo.prototype.addCollisionDebugVertices=function(D,F,Q,ve,Le,je,Ze){var at=Le.segments.prepareSegment(4,Le.layoutVertexArray,Le.indexArray),pt=at.vertexLength,Ct=Le.layoutVertexArray,Ot=Le.collisionVertexArray,Gt=Ze.anchorX,Kt=Ze.anchorY;this._addCollisionDebugVertex(Ct,Ot,je,Gt,Kt,new i(D,F)),this._addCollisionDebugVertex(Ct,Ot,je,Gt,Kt,new i(Q,F)),this._addCollisionDebugVertex(Ct,Ot,je,Gt,Kt,new i(Q,ve)),this._addCollisionDebugVertex(Ct,Ot,je,Gt,Kt,new i(D,ve)),at.vertexLength+=4;var $t=Le.indexArray;$t.emplaceBack(pt,pt+1),$t.emplaceBack(pt+1,pt+2),$t.emplaceBack(pt+2,pt+3),$t.emplaceBack(pt+3,pt),at.primitiveLength+=4},oo.prototype.addDebugCollisionBoxes=function(D,F,Q,ve){for(var Le=D;Le<F;Le++){var je=this.collisionBoxArray.get(Le);this.addCollisionDebugVertices(je.x1,je.y1,je.x2,je.y2,ve?this.textCollisionBox:this.iconCollisionBox,je.anchorPoint,Q)}},oo.prototype.generateCollisionDebugBuffers=function(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new wd(be,Yy.members,Xe),this.iconCollisionBox=new wd(be,Yy.members,Xe);for(var D=0;D<this.symbolInstances.length;D++){var F=this.symbolInstances.get(D);this.addDebugCollisionBoxes(F.textBoxStartIndex,F.textBoxEndIndex,F,!0),this.addDebugCollisionBoxes(F.verticalTextBoxStartIndex,F.verticalTextBoxEndIndex,F,!0),this.addDebugCollisionBoxes(F.iconBoxStartIndex,F.iconBoxEndIndex,F,!1),this.addDebugCollisionBoxes(F.verticalIconBoxStartIndex,F.verticalIconBoxEndIndex,F,!1)}},oo.prototype._deserializeCollisionBoxesForSymbol=function(D,F,Q,ve,Le,je,Ze,at,pt){for(var Ct={},Ot=F;Ot<Q;Ot++){var Gt=D.get(Ot);Ct.textBox={x1:Gt.x1,y1:Gt.y1,x2:Gt.x2,y2:Gt.y2,anchorPointX:Gt.anchorPointX,anchorPointY:Gt.anchorPointY},Ct.textFeatureIndex=Gt.featureIndex;break}for(var Kt=ve;Kt<Le;Kt++){var $t=D.get(Kt);Ct.verticalTextBox={x1:$t.x1,y1:$t.y1,x2:$t.x2,y2:$t.y2,anchorPointX:$t.anchorPointX,anchorPointY:$t.anchorPointY},Ct.verticalTextFeatureIndex=$t.featureIndex;break}for(var gn=je;gn<Ze;gn++){var xn=D.get(gn);Ct.iconBox={x1:xn.x1,y1:xn.y1,x2:xn.x2,y2:xn.y2,anchorPointX:xn.anchorPointX,anchorPointY:xn.anchorPointY},Ct.iconFeatureIndex=xn.featureIndex;break}for(var Fn=at;Fn<pt;Fn++){var zn=D.get(Fn);Ct.verticalIconBox={x1:zn.x1,y1:zn.y1,x2:zn.x2,y2:zn.y2,anchorPointX:zn.anchorPointX,anchorPointY:zn.anchorPointY},Ct.verticalIconFeatureIndex=zn.featureIndex;break}return Ct},oo.prototype.deserializeCollisionBoxes=function(D){this.collisionArrays=[];for(var F=0;F<this.symbolInstances.length;F++){var Q=this.symbolInstances.get(F);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(D,Q.textBoxStartIndex,Q.textBoxEndIndex,Q.verticalTextBoxStartIndex,Q.verticalTextBoxEndIndex,Q.iconBoxStartIndex,Q.iconBoxEndIndex,Q.verticalIconBoxStartIndex,Q.verticalIconBoxEndIndex))}},oo.prototype.hasTextData=function(){return this.text.segments.get().length>0},oo.prototype.hasIconData=function(){return this.icon.segments.get().length>0},oo.prototype.hasDebugData=function(){return this.textCollisionBox&&this.iconCollisionBox},oo.prototype.hasTextCollisionBoxData=function(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0},oo.prototype.hasIconCollisionBoxData=function(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0},oo.prototype.addIndicesForPlacedSymbol=function(D,F){for(var Q=D.placedSymbolArray.get(F),ve=Q.vertexStartIndex+4*Q.numGlyphs,Le=Q.vertexStartIndex;Le<ve;Le+=4)D.indexArray.emplaceBack(Le,Le+1,Le+2),D.indexArray.emplaceBack(Le+1,Le+2,Le+3)},oo.prototype.getSortedSymbolIndexes=function(D){if(this.sortedAngle===D&&void 0!==this.symbolInstanceIndexes)return this.symbolInstanceIndexes;for(var F=Math.sin(D),Q=Math.cos(D),ve=[],Le=[],je=[],Ze=0;Ze<this.symbolInstances.length;++Ze){je.push(Ze);var at=this.symbolInstances.get(Ze);ve.push(0|Math.round(F*at.anchorX+Q*at.anchorY)),Le.push(at.featureIndex)}return je.sort(function(pt,Ct){return ve[pt]-ve[Ct]||Le[Ct]-Le[pt]}),je},oo.prototype.addToSortKeyRanges=function(D,F){var Q=this.sortKeyRanges[this.sortKeyRanges.length-1];Q&&Q.sortKey===F?Q.symbolInstanceEnd=D+1:this.sortKeyRanges.push({sortKey:F,symbolInstanceStart:D,symbolInstanceEnd:D+1})},oo.prototype.sortFeatures=function(D){var F=this;if(this.sortFeaturesByY&&this.sortedAngle!==D&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(D),this.sortedAngle=D,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(var Q=0,ve=this.symbolInstanceIndexes;Q<ve.length;Q+=1){var je=this.symbolInstances.get(ve[Q]);this.featureSortOrder.push(je.featureIndex),[je.rightJustifiedTextSymbolIndex,je.centerJustifiedTextSymbolIndex,je.leftJustifiedTextSymbolIndex].forEach(function(Ze,at,pt){Ze>=0&&pt.indexOf(Ze)===at&&F.addIndicesForPlacedSymbol(F.text,Ze)}),je.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,je.verticalPlacedTextSymbolIndex),je.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,je.placedIconSymbolIndex),je.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,je.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}},Gr("SymbolBucket",oo,{omit:["layers","collisionBoxArray","features","compareText"]}),oo.MAX_GLYPHS=65535,oo.addDynamicAttributes=kg;var tl=new Ea({"symbol-placement":new ti(Ve.layout_symbol["symbol-placement"]),"symbol-spacing":new ti(Ve.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new ti(Ve.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new ni(Ve.layout_symbol["symbol-sort-key"]),"symbol-z-order":new ti(Ve.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new ti(Ve.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new ti(Ve.layout_symbol["icon-ignore-placement"]),"icon-optional":new ti(Ve.layout_symbol["icon-optional"]),"icon-rotation-alignment":new ti(Ve.layout_symbol["icon-rotation-alignment"]),"icon-size":new ni(Ve.layout_symbol["icon-size"]),"icon-text-fit":new ti(Ve.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new ti(Ve.layout_symbol["icon-text-fit-padding"]),"icon-image":new ni(Ve.layout_symbol["icon-image"]),"icon-rotate":new ni(Ve.layout_symbol["icon-rotate"]),"icon-padding":new ti(Ve.layout_symbol["icon-padding"]),"icon-keep-upright":new ti(Ve.layout_symbol["icon-keep-upright"]),"icon-offset":new ni(Ve.layout_symbol["icon-offset"]),"icon-anchor":new ni(Ve.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new ti(Ve.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new ti(Ve.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new ti(Ve.layout_symbol["text-rotation-alignment"]),"text-field":new ni(Ve.layout_symbol["text-field"]),"text-font":new ni(Ve.layout_symbol["text-font"]),"text-size":new ni(Ve.layout_symbol["text-size"]),"text-max-width":new ni(Ve.layout_symbol["text-max-width"]),"text-line-height":new ti(Ve.layout_symbol["text-line-height"]),"text-letter-spacing":new ni(Ve.layout_symbol["text-letter-spacing"]),"text-justify":new ni(Ve.layout_symbol["text-justify"]),"text-radial-offset":new ni(Ve.layout_symbol["text-radial-offset"]),"text-variable-anchor":new ti(Ve.layout_symbol["text-variable-anchor"]),"text-anchor":new ni(Ve.layout_symbol["text-anchor"]),"text-max-angle":new ti(Ve.layout_symbol["text-max-angle"]),"text-writing-mode":new ti(Ve.layout_symbol["text-writing-mode"]),"text-rotate":new ni(Ve.layout_symbol["text-rotate"]),"text-padding":new ti(Ve.layout_symbol["text-padding"]),"text-keep-upright":new ti(Ve.layout_symbol["text-keep-upright"]),"text-transform":new ni(Ve.layout_symbol["text-transform"]),"text-offset":new ni(Ve.layout_symbol["text-offset"]),"text-allow-overlap":new ti(Ve.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new ti(Ve.layout_symbol["text-ignore-placement"]),"text-optional":new ti(Ve.layout_symbol["text-optional"])}),Lf={paint:new Ea({"icon-opacity":new ni(Ve.paint_symbol["icon-opacity"]),"icon-color":new ni(Ve.paint_symbol["icon-color"]),"icon-halo-color":new ni(Ve.paint_symbol["icon-halo-color"]),"icon-halo-width":new ni(Ve.paint_symbol["icon-halo-width"]),"icon-halo-blur":new ni(Ve.paint_symbol["icon-halo-blur"]),"icon-translate":new ti(Ve.paint_symbol["icon-translate"]),"icon-translate-anchor":new ti(Ve.paint_symbol["icon-translate-anchor"]),"text-opacity":new ni(Ve.paint_symbol["text-opacity"]),"text-color":new ni(Ve.paint_symbol["text-color"],{runtimeType:Wt,getOverride:function(D){return D.textColor},hasOverride:function(D){return!!D.textColor}}),"text-halo-color":new ni(Ve.paint_symbol["text-halo-color"]),"text-halo-width":new ni(Ve.paint_symbol["text-halo-width"]),"text-halo-blur":new ni(Ve.paint_symbol["text-halo-blur"]),"text-translate":new ti(Ve.paint_symbol["text-translate"]),"text-translate-anchor":new ti(Ve.paint_symbol["text-translate-anchor"])}),layout:tl},Nf=function(D){this.type=D.property.overrides?D.property.overrides.runtimeType:Nt,this.defaultValue=D};Nf.prototype.evaluate=function(D){if(D.formattedSection){var F=this.defaultValue.property.overrides;if(F&&F.hasOverride(D.formattedSection))return F.getOverride(D.formattedSection)}return D.feature&&D.featureState?this.defaultValue.evaluate(D.feature,D.featureState):this.defaultValue.property.specification.default},Nf.prototype.eachChild=function(D){this.defaultValue.isConstant()||D(this.defaultValue.value._styleExpression.expression)},Nf.prototype.outputDefined=function(){return!1},Nf.prototype.serialize=function(){return null},Gr("FormatSectionOverride",Nf,{omit:["defaultValue"]});var D1=function(D){function F(Q){D.call(this,Q,Lf)}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype.recalculate=function(Q,ve){if(D.prototype.recalculate.call(this,Q,ve),"auto"===this.layout.get("icon-rotation-alignment")&&(this.layout._values["icon-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-rotation-alignment")&&(this.layout._values["text-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-pitch-alignment")&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),"auto"===this.layout.get("icon-pitch-alignment")&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),"point"===this.layout.get("symbol-placement")){var Le=this.layout.get("text-writing-mode");if(Le){for(var je=[],Ze=0,at=Le;Ze<at.length;Ze+=1){var pt=at[Ze];je.indexOf(pt)<0&&je.push(pt)}this.layout._values["text-writing-mode"]=je}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()},F.prototype.getValueAndResolveTokens=function(Q,ve,Le,je){var pt,Ze=this.layout.get(Q).evaluate(ve,{},Le,je),at=this._unevaluatedLayout._values[Q];return at.isDataDriven()||cc(at.value)||!Ze?Ze:(pt=ve.properties,Ze.replace(/{([^{}]+)}/g,function(Ot,Gt){return Gt in pt?String(pt[Gt]):""}))},F.prototype.createBucket=function(Q){return new oo(Q)},F.prototype.queryRadius=function(){return 0},F.prototype.queryIntersectsFeature=function(){return!1},F.prototype._setPaintOverrides=function(){for(var Q=0,ve=Lf.paint.overridableProperties;Q<ve.length;Q+=1){var Le=ve[Q];if(F.hasPaintOverride(this.layout,Le)){var je,Ze=this.paint.get(Le),at=new Nf(Ze),pt=new kc(at,Ze.property.specification);je="constant"===Ze.value.kind||"source"===Ze.value.kind?new Cl("source",pt):new Ys("composite",pt,Ze.value.zoomStops,Ze.value._interpolationType),this.paint._values[Le]=new ua(Ze.property,je,Ze.parameters)}}},F.prototype._handleOverridablePaintPropertyUpdate=function(Q,ve,Le){return!(!this.layout||ve.isDataDriven()||Le.isDataDriven())&&F.hasPaintOverride(this.layout,Q)},F.hasPaintOverride=function(Q,ve){var Le=Q.get("text-field"),je=Lf.paint.properties[ve],Ze=!1,at=function(Ot){for(var Gt=0,Kt=Ot;Gt<Kt.length;Gt+=1)if(je.overrides&&je.overrides.hasOverride(Kt[Gt]))return void(Ze=!0)};if("constant"===Le.value.kind&&Le.value.value instanceof qn)at(Le.value.value.sections);else if("source"===Le.value.kind){var pt=function(Ot){Ze||(Ot instanceof vr&&dr(Ot.value)===nn?at(Ot.value.sections):Ot instanceof on?at(Ot.sections):Ot.eachChild(pt))},Ct=Le.value;Ct._styleExpression&&pt(Ct._styleExpression.expression)}return Ze},F}(Ca),h_={paint:new Ea({"background-color":new ti(Ve.paint_background["background-color"]),"background-pattern":new ka(Ve.paint_background["background-pattern"]),"background-opacity":new ti(Ve.paint_background["background-opacity"])})},O1=function(D){function F(Q){D.call(this,Q,h_)}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F}(Ca),p_={paint:new Ea({"raster-opacity":new ti(Ve.paint_raster["raster-opacity"]),"raster-hue-rotate":new ti(Ve.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new ti(Ve.paint_raster["raster-brightness-min"]),"raster-brightness-max":new ti(Ve.paint_raster["raster-brightness-max"]),"raster-saturation":new ti(Ve.paint_raster["raster-saturation"]),"raster-contrast":new ti(Ve.paint_raster["raster-contrast"]),"raster-resampling":new ti(Ve.paint_raster["raster-resampling"]),"raster-fade-duration":new ti(Ve.paint_raster["raster-fade-duration"])})},I1=function(D){function F(Q){D.call(this,Q,p_)}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F}(Ca),g_=function(D){function F(Q){D.call(this,Q,{}),this.implementation=Q}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype.is3D=function(){return"3d"===this.implementation.renderingMode},F.prototype.hasOffscreenPass=function(){return void 0!==this.implementation.prerender},F.prototype.recalculate=function(){},F.prototype.updateTransitions=function(){},F.prototype.hasTransition=function(){},F.prototype.serialize=function(){},F.prototype.onAdd=function(Q){this.implementation.onAdd&&this.implementation.onAdd(Q,Q.painter.context.gl)},F.prototype.onRemove=function(Q){this.implementation.onRemove&&this.implementation.onRemove(Q,Q.painter.context.gl)},F}(Ca),P1={circle:Fy,heatmap:_l,hillshade:Da,fill:h1,"fill-extrusion":hg,line:W2,symbol:D1,background:O1,raster:I1},R1=self.HTMLImageElement,L1=self.HTMLCanvasElement,Pp=self.HTMLVideoElement,Rp=self.ImageData,Lp=self.ImageBitmap,Rc=function(D,F,Q,ve){this.context=D,this.format=Q,this.texture=D.gl.createTexture(),this.update(F,ve)};Rc.prototype.update=function(D,F,Q){var ve=D.width,Le=D.height,je=!(this.size&&this.size[0]===ve&&this.size[1]===Le||Q),Ze=this.context,at=Ze.gl;if(this.useMipmap=!(!F||!F.useMipmap),at.bindTexture(at.TEXTURE_2D,this.texture),Ze.pixelStoreUnpackFlipY.set(!1),Ze.pixelStoreUnpack.set(1),Ze.pixelStoreUnpackPremultiplyAlpha.set(this.format===at.RGBA&&(!F||!1!==F.premultiply)),je)this.size=[ve,Le],D instanceof R1||D instanceof L1||D instanceof Pp||D instanceof Rp||Lp&&D instanceof Lp?at.texImage2D(at.TEXTURE_2D,0,this.format,this.format,at.UNSIGNED_BYTE,D):at.texImage2D(at.TEXTURE_2D,0,this.format,ve,Le,0,this.format,at.UNSIGNED_BYTE,D.data);else{var pt=Q||{x:0,y:0},Ct=pt.x,Ot=pt.y;D instanceof R1||D instanceof L1||D instanceof Pp||D instanceof Rp||Lp&&D instanceof Lp?at.texSubImage2D(at.TEXTURE_2D,0,Ct,Ot,at.RGBA,at.UNSIGNED_BYTE,D):at.texSubImage2D(at.TEXTURE_2D,0,Ct,Ot,ve,Le,at.RGBA,at.UNSIGNED_BYTE,D.data)}this.useMipmap&&this.isSizePowerOfTwo()&&at.generateMipmap(at.TEXTURE_2D)},Rc.prototype.bind=function(D,F,Q){var ve=this.context.gl;ve.bindTexture(ve.TEXTURE_2D,this.texture),Q!==ve.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(Q=ve.LINEAR),D!==this.filter&&(ve.texParameteri(ve.TEXTURE_2D,ve.TEXTURE_MAG_FILTER,D),ve.texParameteri(ve.TEXTURE_2D,ve.TEXTURE_MIN_FILTER,Q||D),this.filter=D),F!==this.wrap&&(ve.texParameteri(ve.TEXTURE_2D,ve.TEXTURE_WRAP_S,F),ve.texParameteri(ve.TEXTURE_2D,ve.TEXTURE_WRAP_T,F),this.wrap=F)},Rc.prototype.isSizePowerOfTwo=function(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0},Rc.prototype.destroy=function(){this.context.gl.deleteTexture(this.texture),this.texture=null};var Eg=function(D){var F=this;this._callback=D,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=function(){F._triggered=!1,F._callback()})};Eg.prototype.trigger=function(){var D=this;this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(function(){D._triggered=!1,D._callback()},0))},Eg.prototype.remove=function(){delete this._channel,this._callback=function(){}};var Td=function(D,F,Q){this.target=D,this.parent=F,this.mapId=Q,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},g(["receive","process"],this),this.invoker=new Eg(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=R()?D:self};function Cg(D,F,Q){var ve=2*Math.PI*6378137/256/Math.pow(2,Q);return[D*ve-2*Math.PI*6378137/2,F*ve-2*Math.PI*6378137/2]}Td.prototype.send=function(D,F,Q,ve,Le){var je=this;void 0===Le&&(Le=!1);var Ze=Math.round(1e18*Math.random()).toString(36).substring(0,10);Q&&(this.callbacks[Ze]=Q);var at=B(this.globalScope)?void 0:[];return this.target.postMessage({id:Ze,type:D,hasCallback:!!Q,targetMapId:ve,mustQueue:Le,sourceMapId:this.mapId,data:Xs(F,at)},at),{cancel:function(){Q&&delete je.callbacks[Ze],je.target.postMessage({id:Ze,type:"<cancel>",targetMapId:ve,sourceMapId:je.mapId})}}},Td.prototype.receive=function(D){var F=D.data,Q=F.id;if(Q&&(!F.targetMapId||this.mapId===F.targetMapId))if("<cancel>"===F.type){delete this.tasks[Q];var ve=this.cancelCallbacks[Q];delete this.cancelCallbacks[Q],ve&&ve()}else R()||F.mustQueue?(this.tasks[Q]=F,this.taskQueue.push(Q),this.invoker.trigger()):this.processTask(Q,F)},Td.prototype.process=function(){if(this.taskQueue.length){var D=this.taskQueue.shift(),F=this.tasks[D];delete this.tasks[D],this.taskQueue.length&&this.invoker.trigger(),F&&this.processTask(D,F)}},Td.prototype.processTask=function(D,F){var Q=this;if("<response>"===F.type){var ve=this.callbacks[D];delete this.callbacks[D],ve&&(F.error?ve(Js(F.error)):ve(null,Js(F.data)))}else{var Le=!1,je=B(this.globalScope)?void 0:[],Ze=F.hasCallback?function(Ot,Gt){Le=!0,delete Q.cancelCallbacks[D],Q.target.postMessage({id:D,type:"<response>",sourceMapId:Q.mapId,error:Ot?Xs(Ot):null,data:Xs(Gt,je)},je)}:function(Ot){Le=!0},at=null,pt=Js(F.data);if(this.parent[F.type])at=this.parent[F.type](F.sourceMapId,pt,Ze);else if(this.parent.getWorkerSource){var Ct=F.type.split(".");at=this.parent.getWorkerSource(F.sourceMapId,Ct[0],pt.source)[Ct[1]](pt,Ze)}else Ze(new Error("Could not find function "+F.type));!Le&&at&&at.cancel&&(this.cancelCallbacks[D]=at.cancel)}},Td.prototype.remove=function(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)};var xa=function(D,F){D&&(F?this.setSouthWest(D).setNorthEast(F):4===D.length?this.setSouthWest([D[0],D[1]]).setNorthEast([D[2],D[3]]):this.setSouthWest(D[0]).setNorthEast(D[1]))};xa.prototype.setNorthEast=function(D){return this._ne=D instanceof po?new po(D.lng,D.lat):po.convert(D),this},xa.prototype.setSouthWest=function(D){return this._sw=D instanceof po?new po(D.lng,D.lat):po.convert(D),this},xa.prototype.extend=function(D){var F,Q,ve=this._sw,Le=this._ne;if(D instanceof po)F=D,Q=D;else{if(!(D instanceof xa))return Array.isArray(D)?4===D.length||D.every(Array.isArray)?this.extend(xa.convert(D)):this.extend(po.convert(D)):this;if(Q=D._ne,!(F=D._sw)||!Q)return this}return ve||Le?(ve.lng=Math.min(F.lng,ve.lng),ve.lat=Math.min(F.lat,ve.lat),Le.lng=Math.max(Q.lng,Le.lng),Le.lat=Math.max(Q.lat,Le.lat)):(this._sw=new po(F.lng,F.lat),this._ne=new po(Q.lng,Q.lat)),this},xa.prototype.getCenter=function(){return new po((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},xa.prototype.getSouthWest=function(){return this._sw},xa.prototype.getNorthEast=function(){return this._ne},xa.prototype.getNorthWest=function(){return new po(this.getWest(),this.getNorth())},xa.prototype.getSouthEast=function(){return new po(this.getEast(),this.getSouth())},xa.prototype.getWest=function(){return this._sw.lng},xa.prototype.getSouth=function(){return this._sw.lat},xa.prototype.getEast=function(){return this._ne.lng},xa.prototype.getNorth=function(){return this._ne.lat},xa.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},xa.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},xa.prototype.isEmpty=function(){return!(this._sw&&this._ne)},xa.prototype.contains=function(D){var F=po.convert(D),Q=F.lng,ve=F.lat,je=this._sw.lng<=Q&&Q<=this._ne.lng;return this._sw.lng>this._ne.lng&&(je=this._sw.lng>=Q&&Q>=this._ne.lng),this._sw.lat<=ve&&ve<=this._ne.lat&&je},xa.convert=function(D){return!D||D instanceof xa?D:new xa(D)};var Dg=6371008.8,po=function(D,F){if(isNaN(D)||isNaN(F))throw new Error("Invalid LngLat object: ("+D+", "+F+")");if(this.lng=+D,this.lat=+F,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};po.prototype.wrap=function(){return new po(c(this.lng,-180,180),this.lat)},po.prototype.toArray=function(){return[this.lng,this.lat]},po.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},po.prototype.distanceTo=function(D){var F=Math.PI/180,Q=this.lat*F,ve=D.lat*F,Le=Math.sin(Q)*Math.sin(ve)+Math.cos(Q)*Math.cos(ve)*Math.cos((D.lng-this.lng)*F);return Dg*Math.acos(Math.min(Le,1))},po.prototype.toBounds=function(D){void 0===D&&(D=0);var F=360*D/40075017,Q=F/Math.cos(Math.PI/180*this.lat);return new xa(new po(this.lng-Q,this.lat-F),new po(this.lng+Q,this.lat+F))},po.convert=function(D){if(D instanceof po)return D;if(Array.isArray(D)&&(2===D.length||3===D.length))return new po(Number(D[0]),Number(D[1]));if(!Array.isArray(D)&&"object"==typeof D&&null!==D)return new po(Number("lng"in D?D.lng:D.lon),Number(D.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")};var hh=2*Math.PI*Dg;function Og(D){return hh*Math.cos(D*Math.PI/180)}function Np(D){return(180+D)/360}function ph(D){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+D*Math.PI/360)))/360}function N1(D,F){return D/Og(F)}function Ig(D){return 360/Math.PI*Math.atan(Math.exp((180-360*D)*Math.PI/180))-90}var Ff=function(D,F,Q){void 0===Q&&(Q=0),this.x=+D,this.y=+F,this.z=+Q};Ff.fromLngLat=function(D,F){void 0===F&&(F=0);var Q=po.convert(D);return new Ff(Np(Q.lng),ph(Q.lat),N1(F,Q.lat))},Ff.prototype.toLngLat=function(){return new po(360*this.x-180,Ig(this.y))},Ff.prototype.toAltitude=function(){return this.z*Og(Ig(this.y))},Ff.prototype.meterInMercatorCoordinateUnits=function(){return 1/hh*(D=Ig(this.y),1/Math.cos(D*Math.PI/180));var D};var zf=function(D,F,Q){this.z=D,this.x=F,this.y=Q,this.key=Md(0,D,D,F,Q)};zf.prototype.equals=function(D){return this.z===D.z&&this.x===D.x&&this.y===D.y},zf.prototype.url=function(D,F){var Q,ve,Le,je,Ze,at=(ve=this.y,Le=this.z,je=Cg(256*(Q=this.x),256*(ve=Math.pow(2,Le)-ve-1),Le),Ze=Cg(256*(Q+1),256*(ve+1),Le),je[0]+","+je[1]+","+Ze[0]+","+Ze[1]),pt=function(Ct,Ot,Gt){for(var Kt,$t="",gn=Ct;gn>0;gn--)$t+=(Ot&(Kt=1<<gn-1)?1:0)+(Gt&Kt?2:0);return $t}(this.z,this.x,this.y);return D[(this.x+this.y)%D.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String("tms"===F?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",pt).replace("{bbox-epsg-3857}",at)},zf.prototype.getTilePoint=function(D){var F=Math.pow(2,this.z);return new i((D.x*F-this.x)*eo,(D.y*F-this.y)*eo)},zf.prototype.toString=function(){return this.z+"/"+this.x+"/"+this.y};var F1=function(D,F){this.wrap=D,this.canonical=F,this.key=Md(D,F.z,F.z,F.x,F.y)},Ia=function(D,F,Q,ve,Le){this.overscaledZ=D,this.wrap=F,this.canonical=new zf(Q,+ve,+Le),this.key=Md(F,D,Q,ve,Le)};function Md(D,F,Q,ve,Le){(D*=2)<0&&(D=-1*D-1);var je=1<<Q;return(je*je*D+je*Le+ve).toString(36)+Q.toString(36)+F.toString(36)}Ia.prototype.equals=function(D){return this.overscaledZ===D.overscaledZ&&this.wrap===D.wrap&&this.canonical.equals(D.canonical)},Ia.prototype.scaledTo=function(D){var F=this.canonical.z-D;return D>this.canonical.z?new Ia(D,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new Ia(D,this.wrap,D,this.canonical.x>>F,this.canonical.y>>F)},Ia.prototype.calculateScaledKey=function(D,F){var Q=this.canonical.z-D;return D>this.canonical.z?Md(this.wrap*+F,D,this.canonical.z,this.canonical.x,this.canonical.y):Md(this.wrap*+F,D,D,this.canonical.x>>Q,this.canonical.y>>Q)},Ia.prototype.isChildOf=function(D){if(D.wrap!==this.wrap)return!1;var F=this.canonical.z-D.canonical.z;return 0===D.overscaledZ||D.overscaledZ<this.overscaledZ&&D.canonical.x===this.canonical.x>>F&&D.canonical.y===this.canonical.y>>F},Ia.prototype.children=function(D){if(this.overscaledZ>=D)return[new Ia(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var F=this.canonical.z+1,Q=2*this.canonical.x,ve=2*this.canonical.y;return[new Ia(F,this.wrap,F,Q,ve),new Ia(F,this.wrap,F,Q+1,ve),new Ia(F,this.wrap,F,Q,ve+1),new Ia(F,this.wrap,F,Q+1,ve+1)]},Ia.prototype.isLessThan=function(D){return this.wrap<D.wrap||!(this.wrap>D.wrap)&&(this.overscaledZ<D.overscaledZ||!(this.overscaledZ>D.overscaledZ)&&(this.canonical.x<D.canonical.x||!(this.canonical.x>D.canonical.x)&&this.canonical.y<D.canonical.y))},Ia.prototype.wrapped=function(){return new Ia(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)},Ia.prototype.unwrapTo=function(D){return new Ia(this.overscaledZ,D,this.canonical.z,this.canonical.x,this.canonical.y)},Ia.prototype.overscaleFactor=function(){return Math.pow(2,this.overscaledZ-this.canonical.z)},Ia.prototype.toUnwrapped=function(){return new F1(this.wrap,this.canonical)},Ia.prototype.toString=function(){return this.overscaledZ+"/"+this.canonical.x+"/"+this.canonical.y},Ia.prototype.getTilePoint=function(D){return this.canonical.getTilePoint(new Ff(D.x-this.wrap,D.y))},Gr("CanonicalTileID",zf),Gr("OverscaledTileID",Ia,{omit:["posMatrix"]});var Lc=function(D,F,Q){if(this.uid=D,F.height!==F.width)throw new RangeError("DEM tiles must be square");if(Q&&"mapbox"!==Q&&"terrarium"!==Q)return C('"'+Q+'" is not a valid encoding type. Valid types include "mapbox" and "terrarium".');this.stride=F.height;var ve=this.dim=F.height-2;this.data=new Uint32Array(F.data.buffer),this.encoding=Q||"mapbox";for(var Le=0;Le<ve;Le++)this.data[this._idx(-1,Le)]=this.data[this._idx(0,Le)],this.data[this._idx(ve,Le)]=this.data[this._idx(ve-1,Le)],this.data[this._idx(Le,-1)]=this.data[this._idx(Le,0)],this.data[this._idx(Le,ve)]=this.data[this._idx(Le,ve-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(ve,-1)]=this.data[this._idx(ve-1,0)],this.data[this._idx(-1,ve)]=this.data[this._idx(0,ve-1)],this.data[this._idx(ve,ve)]=this.data[this._idx(ve-1,ve-1)]};Lc.prototype.get=function(D,F){var Q=new Uint8Array(this.data.buffer),ve=4*this._idx(D,F);return("terrarium"===this.encoding?this._unpackTerrarium:this._unpackMapbox)(Q[ve],Q[ve+1],Q[ve+2])},Lc.prototype.getUnpackVector=function(){return"terrarium"===this.encoding?[256,1,.00390625,32768]:[6553.6,25.6,.1,1e4]},Lc.prototype._idx=function(D,F){if(D<-1||D>=this.dim+1||F<-1||F>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(F+1)*this.stride+(D+1)},Lc.prototype._unpackMapbox=function(D,F,Q){return(256*D*256+256*F+Q)/10-1e4},Lc.prototype._unpackTerrarium=function(D,F,Q){return 256*D+F+Q/256-32768},Lc.prototype.getPixels=function(){return new Ts({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))},Lc.prototype.backfillBorder=function(D,F,Q){if(this.dim!==D.dim)throw new Error("dem dimension mismatch");var ve=F*this.dim,Le=F*this.dim+this.dim,je=Q*this.dim,Ze=Q*this.dim+this.dim;switch(F){case-1:ve=Le-1;break;case 1:Le=ve+1}switch(Q){case-1:je=Ze-1;break;case 1:Ze=je+1}for(var at=-F*this.dim,pt=-Q*this.dim,Ct=je;Ct<Ze;Ct++)for(var Ot=ve;Ot<Le;Ot++)this.data[this._idx(Ot,Ct)]=D.data[this._idx(Ot+at,Ct+pt)]},Gr("DEMData",Lc);var gh=function(D){this._stringToNumber={},this._numberToString=[];for(var F=0;F<D.length;F++){var Q=D[F];this._stringToNumber[Q]=F,this._numberToString[F]=Q}};gh.prototype.encode=function(D){return this._stringToNumber[D]},gh.prototype.decode=function(D){return this._numberToString[D]};var Ad=function(D,F,Q,ve,Le){this.type="Feature",this._vectorTileFeature=D,D._z=F,D._x=Q,D._y=ve,this.properties=D.properties,this.id=Le},Pg={geometry:{configurable:!0}};Pg.geometry.get=function(){return void 0===this._geometry&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},Pg.geometry.set=function(D){this._geometry=D},Ad.prototype.toJSON=function(){var D={geometry:this.geometry};for(var F in this)"_geometry"!==F&&"_vectorTileFeature"!==F&&(D[F]=this[F]);return D},Object.defineProperties(Ad.prototype,Pg);var Sd=function(){this.state={},this.stateChanges={},this.deletedStates={}};Sd.prototype.updateState=function(D,F,Q){var ve=String(F);if(this.stateChanges[D]=this.stateChanges[D]||{},this.stateChanges[D][ve]=this.stateChanges[D][ve]||{},h(this.stateChanges[D][ve],Q),null===this.deletedStates[D])for(var Le in this.deletedStates[D]={},this.state[D])Le!==ve&&(this.deletedStates[D][Le]=null);else if(this.deletedStates[D]&&null===this.deletedStates[D][ve])for(var je in this.deletedStates[D][ve]={},this.state[D][ve])Q[je]||(this.deletedStates[D][ve][je]=null);else for(var Ze in Q)this.deletedStates[D]&&this.deletedStates[D][ve]&&null===this.deletedStates[D][ve][Ze]&&delete this.deletedStates[D][ve][Ze]},Sd.prototype.removeFeatureState=function(D,F,Q){if(null!==this.deletedStates[D]){var ve=String(F);if(this.deletedStates[D]=this.deletedStates[D]||{},Q&&void 0!==F)null!==this.deletedStates[D][ve]&&(this.deletedStates[D][ve]=this.deletedStates[D][ve]||{},this.deletedStates[D][ve][Q]=null);else if(void 0!==F)if(this.stateChanges[D]&&this.stateChanges[D][ve])for(Q in this.deletedStates[D][ve]={},this.stateChanges[D][ve])this.deletedStates[D][ve][Q]=null;else this.deletedStates[D][ve]=null;else this.deletedStates[D]=null}},Sd.prototype.getState=function(D,F){var Q=String(F),je=h({},(this.state[D]||{})[Q],(this.stateChanges[D]||{})[Q]);if(null===this.deletedStates[D])return{};if(this.deletedStates[D]){var Ze=this.deletedStates[D][F];if(null===Ze)return{};for(var at in Ze)delete je[at]}return je},Sd.prototype.initializeTileState=function(D,F){D.setFeatureState(this.state,F)},Sd.prototype.coalesceChanges=function(D,F){var Q={};for(var ve in this.stateChanges){this.state[ve]=this.state[ve]||{};var Le={};for(var je in this.stateChanges[ve])this.state[ve][je]||(this.state[ve][je]={}),h(this.state[ve][je],this.stateChanges[ve][je]),Le[je]=this.state[ve][je];Q[ve]=Le}for(var Ze in this.deletedStates){this.state[Ze]=this.state[Ze]||{};var at={};if(null===this.deletedStates[Ze])for(var pt in this.state[Ze])at[pt]={},this.state[Ze][pt]={};else for(var Ct in this.deletedStates[Ze]){if(null===this.deletedStates[Ze][Ct])this.state[Ze][Ct]={};else for(var Ot=0,Gt=Object.keys(this.deletedStates[Ze][Ct]);Ot<Gt.length;Ot+=1)delete this.state[Ze][Ct][Gt[Ot]];at[Ct]=this.state[Ze][Ct]}Q[Ze]=Q[Ze]||{},h(Q[Ze],at)}if(this.stateChanges={},this.deletedStates={},0!==Object.keys(Q).length)for(var $t in D)D[$t].setFeatureState(Q,F)};var Nc=function(D,F){this.tileID=D,this.x=D.canonical.x,this.y=D.canonical.y,this.z=D.canonical.z,this.grid=new sa(eo,16,0),this.grid3D=new sa(eo,16,0),this.featureIndexArray=new tn,this.promoteId=F};function Rg(D,F,Q,ve,Le){return x(D,function(je,Ze){var at=F instanceof Sa?F.get(Ze):null;return at&&at.evaluate?at.evaluate(Q,ve,Le):at})}function sf(D){for(var F=1/0,Q=1/0,ve=-1/0,Le=-1/0,je=0,Ze=D;je<Ze.length;je+=1){var at=Ze[je];F=Math.min(F,at.x),Q=Math.min(Q,at.y),ve=Math.max(ve,at.x),Le=Math.max(Le,at.y)}return{minX:F,minY:Q,maxX:ve,maxY:Le}}function z1(D,F){return F-D}Nc.prototype.insert=function(D,F,Q,ve,Le,je){var Ze=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(Q,ve,Le);for(var at=je?this.grid3D:this.grid,pt=0;pt<F.length;pt++){for(var Ct=F[pt],Ot=[1/0,1/0,-1/0,-1/0],Gt=0;Gt<Ct.length;Gt++){var Kt=Ct[Gt];Ot[0]=Math.min(Ot[0],Kt.x),Ot[1]=Math.min(Ot[1],Kt.y),Ot[2]=Math.max(Ot[2],Kt.x),Ot[3]=Math.max(Ot[3],Kt.y)}Ot[0]<eo&&Ot[1]<eo&&Ot[2]>=0&&Ot[3]>=0&&at.insert(Ze,Ot[0],Ot[1],Ot[2],Ot[3])}},Nc.prototype.loadVTLayers=function(){return this.vtLayers||(this.vtLayers=new mc.VectorTile(new Mp(this.rawTileData)).layers,this.sourceLayerCoder=new gh(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers},Nc.prototype.query=function(D,F,Q,ve){var Le=this;this.loadVTLayers();for(var je=D.params||{},Ze=eo/D.tileSize/D.scale,at=uc(je.filter),pt=D.queryGeometry,Ct=D.queryPadding*Ze,Ot=sf(pt),Gt=this.grid.query(Ot.minX-Ct,Ot.minY-Ct,Ot.maxX+Ct,Ot.maxY+Ct),Kt=sf(D.cameraQueryGeometry),$t=0,gn=this.grid3D.query(Kt.minX-Ct,Kt.minY-Ct,Kt.maxX+Ct,Kt.maxY+Ct,function(lr,gr,br,Lr){return function(Dr,jr,Jr,vi,Qr){for(var ui=0,oi=Dr;ui<oi.length;ui+=1){var Yr=oi[ui];if(jr<=Yr.x&&Jr<=Yr.y&&vi>=Yr.x&&Qr>=Yr.y)return!0}var Ii=[new i(jr,Jr),new i(jr,Qr),new i(vi,Qr),new i(vi,Jr)];if(Dr.length>2)for(var wi=0,xo=Ii;wi<xo.length;wi+=1)if(kf(Dr,xo[wi]))return!0;for(var li=0;li<Dr.length-1;li++)if(rd(Dr[li],Dr[li+1],Ii))return!0;return!1}(D.cameraQueryGeometry,lr-Ct,gr-Ct,br+Ct,Lr+Ct)});$t<gn.length;$t+=1)Gt.push(gn[$t]);Gt.sort(z1);for(var Fn,zn={},$n=function(lr){var gr=Gt[lr];if(gr!==Fn){Fn=gr;var br=Le.featureIndexArray.get(gr),Lr=null;Le.loadMatchingFeature(zn,br.bucketIndex,br.sourceLayerIndex,br.featureIndex,at,je.layers,je.availableImages,F,Q,ve,function(Dr,jr,Jr){return Lr||(Lr=ws(Dr)),jr.queryIntersectsFeature(pt,Dr,Jr,Lr,Le.z,D.transform,Ze,D.pixelPosMatrix)})}},Zn=0;Zn<Gt.length;Zn++)$n(Zn);return zn},Nc.prototype.loadMatchingFeature=function(D,F,Q,ve,Le,je,Ze,at,pt,Ct,Ot){var Gt=this.bucketLayerIDs[F];if(!je||function(Lr,Dr){for(var jr=0;jr<Lr.length;jr++)if(Dr.indexOf(Lr[jr])>=0)return!0;return!1}(je,Gt)){var Kt=this.sourceLayerCoder.decode(Q),$t=this.vtLayers[Kt].feature(ve);if(Le.filter(new io(this.tileID.overscaledZ),$t))for(var gn=this.getId($t,Kt),xn=0;xn<Gt.length;xn++){var Fn=Gt[xn];if(!(je&&je.indexOf(Fn)<0)){var zn=at[Fn];if(zn){var $n={};void 0!==gn&&Ct&&($n=Ct.getState(zn.sourceLayer||"_geojsonTileLayer",gn));var Zn=pt[Fn];Zn.paint=Rg(Zn.paint,zn.paint,$t,$n,Ze),Zn.layout=Rg(Zn.layout,zn.layout,$t,$n,Ze);var lr=!Ot||Ot($t,zn,$n);if(lr){var gr=new Ad($t,this.z,this.x,this.y,gn);gr.layer=Zn;var br=D[Fn];void 0===br&&(br=D[Fn]=[]),br.push({featureIndex:ve,feature:gr,intersectionZ:lr})}}}}}},Nc.prototype.lookupSymbolFeatures=function(D,F,Q,ve,Le,je,Ze,at){var pt={};this.loadVTLayers();for(var Ct=uc(Le),Ot=0,Gt=D;Ot<Gt.length;Ot+=1)this.loadMatchingFeature(pt,Q,ve,Gt[Ot],Ct,je,Ze,at,F);return pt},Nc.prototype.hasLayer=function(D){for(var F=0,Q=this.bucketLayerIDs;F<Q.length;F+=1)for(var ve=0,Le=Q[F];ve<Le.length;ve+=1)if(D===Le[ve])return!0;return!1},Nc.prototype.getId=function(D,F){var Q=D.id;return this.promoteId&&"boolean"==typeof(Q=D.properties["string"==typeof this.promoteId?this.promoteId:this.promoteId[F]])&&(Q=Number(Q)),Q},Gr("FeatureIndex",Nc,{omit:["rawTileData","sourceLayerCoder"]});var Ha=function(D,F){this.tileID=D,this.uid=p(),this.uses=0,this.tileSize=F,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.expiredRequestCount=0,this.state="loading"};Ha.prototype.registerFadeDuration=function(D){var F=D+this.timeAdded;F<re.now()||this.fadeEndTime&&F<this.fadeEndTime||(this.fadeEndTime=F)},Ha.prototype.wasRequested=function(){return"errored"===this.state||"loaded"===this.state||"reloading"===this.state},Ha.prototype.loadVectorData=function(D,F,Q){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",D){for(var ve in D.featureIndex&&(this.latestFeatureIndex=D.featureIndex,D.rawTileData?(this.latestRawTileData=D.rawTileData,this.latestFeatureIndex.rawTileData=D.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=D.collisionBoxArray,this.buckets=function(Ct,Ot){var Gt={};if(!Ot)return Gt;for(var Kt=function(){var xn=gn[$t],Fn=xn.layerIds.map(function(lr){return Ot.getLayer(lr)}).filter(Boolean);if(0!==Fn.length){xn.layers=Fn,xn.stateDependentLayerIds&&(xn.stateDependentLayers=xn.stateDependentLayerIds.map(function(lr){return Fn.filter(function(gr){return gr.id===lr})[0]}));for(var zn=0,$n=Fn;zn<$n.length;zn+=1)Gt[$n[zn].id]=xn}},$t=0,gn=Ct;$t<gn.length;$t+=1)Kt();return Gt}(D.buckets,F.style),this.hasSymbolBuckets=!1,this.buckets){var Le=this.buckets[ve];if(Le instanceof oo){if(this.hasSymbolBuckets=!0,!Q)break;Le.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(var je in this.buckets){var Ze=this.buckets[je];if(Ze instanceof oo&&Ze.hasRTLText){this.hasRTLText=!0,Fo.isLoading()||Fo.isLoaded()||"deferred"!==dl()||xu();break}}for(var at in this.queryPadding=0,this.buckets){var pt=this.buckets[at];this.queryPadding=Math.max(this.queryPadding,F.style.getLayer(at).queryRadius(pt))}D.imageAtlas&&(this.imageAtlas=D.imageAtlas),D.glyphAtlasImage&&(this.glyphAtlasImage=D.glyphAtlasImage)}else this.collisionBoxArray=new At},Ha.prototype.unloadVectorData=function(){for(var D in this.buckets)this.buckets[D].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"},Ha.prototype.getBucket=function(D){return this.buckets[D.id]},Ha.prototype.upload=function(D){for(var F in this.buckets){var Q=this.buckets[F];Q.uploadPending()&&Q.upload(D)}var ve=D.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new Rc(D,this.imageAtlas.image,ve.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new Rc(D,this.glyphAtlasImage,ve.ALPHA),this.glyphAtlasImage=null)},Ha.prototype.prepare=function(D){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(D,this.imageAtlasTexture)},Ha.prototype.queryRenderedFeatures=function(D,F,Q,ve,Le,je,Ze,at,pt,Ct){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:ve,cameraQueryGeometry:Le,scale:je,tileSize:this.tileSize,pixelPosMatrix:Ct,transform:at,params:Ze,queryPadding:this.queryPadding*pt},D,F,Q):{}},Ha.prototype.querySourceFeatures=function(D,F){var Q=this.latestFeatureIndex;if(Q&&Q.rawTileData){var ve=Q.loadVTLayers(),Le=F?F.sourceLayer:"",je=ve._geojsonTileLayer||ve[Le];if(je)for(var Ze=uc(F&&F.filter),at=this.tileID.canonical,pt=at.z,Ct=at.x,Ot=at.y,Gt={z:pt,x:Ct,y:Ot},Kt=0;Kt<je.length;Kt++){var $t=je.feature(Kt);if(Ze.filter(new io(this.tileID.overscaledZ),$t)){var gn=Q.getId($t,Le),xn=new Ad($t,pt,Ct,Ot,gn);xn.tile=Gt,D.push(xn)}}}},Ha.prototype.hasData=function(){return"loaded"===this.state||"reloading"===this.state||"expired"===this.state},Ha.prototype.patternsLoaded=function(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length},Ha.prototype.setExpiryData=function(D){var F=this.expirationTime;if(D.cacheControl){var Q=L(D.cacheControl);Q["max-age"]&&(this.expirationTime=Date.now()+1e3*Q["max-age"])}else D.expires&&(this.expirationTime=new Date(D.expires).getTime());if(this.expirationTime){var ve=Date.now(),Le=!1;if(this.expirationTime>ve)Le=!1;else if(F)if(this.expirationTime<F)Le=!0;else{var je=this.expirationTime-F;je?this.expirationTime=ve+Math.max(je,3e4):Le=!0}else Le=!0;Le?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}},Ha.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-(new Date).getTime(),Math.pow(2,31)-1)},Ha.prototype.setFeatureState=function(D,F){if(this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData&&0!==Object.keys(D).length){var Q=this.latestFeatureIndex.loadVTLayers();for(var ve in this.buckets)if(F.style.hasLayer(ve)){var Le=this.buckets[ve],je=Le.layers[0].sourceLayer||"_geojsonTileLayer",Ze=Q[je],at=D[je];if(Ze&&at&&0!==Object.keys(at).length){Le.update(at,Ze,this.imageAtlas&&this.imageAtlas.patternPositions||{});var pt=F&&F.style&&F.style.getLayer(ve);pt&&(this.queryPadding=Math.max(this.queryPadding,pt.queryRadius(Le)))}}}},Ha.prototype.holdingForFade=function(){return void 0!==this.symbolFadeHoldUntil},Ha.prototype.symbolFadeFinished=function(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<re.now()},Ha.prototype.clearFadeHold=function(){this.symbolFadeHoldUntil=void 0},Ha.prototype.setHoldDuration=function(D){this.symbolFadeHoldUntil=re.now()+D},Ha.prototype.setDependencies=function(D,F){for(var Q={},ve=0,Le=F;ve<Le.length;ve+=1)Q[Le[ve]]=!0;this.dependencies[D]=Q},Ha.prototype.hasDependency=function(D,F){for(var Q=0,ve=D;Q<ve.length;Q+=1){var je=this.dependencies[ve[Q]];if(je)for(var Ze=0,at=F;Ze<at.length;Ze+=1)if(je[at[Ze]])return!0}return!1};var lf=self.performance,m_=function(D){this._marks={start:[D.url,"start"].join("#"),end:[D.url,"end"].join("#"),measure:D.url.toString()},lf.mark(this._marks.start)};m_.prototype.finish=function(){lf.mark(this._marks.end);var D=lf.getEntriesByName(this._marks.measure);return 0===D.length&&(lf.measure(this._marks.measure,this._marks.start,this._marks.end),D=lf.getEntriesByName(this._marks.measure),lf.clearMarks(this._marks.start),lf.clearMarks(this._marks.end),lf.clearMeasures(this._marks.measure)),D},f.Actor=Td,f.AlphaImage=Ku,f.CanonicalTileID=zf,f.CollisionBoxArray=At,f.Color=Cn,f.DEMData=Lc,f.DataConstantProperty=ti,f.DictionaryCoder=gh,f.EXTENT=eo,f.ErrorEvent=dt,f.EvaluationParameters=io,f.Event=it,f.Evented=ht,f.FeatureIndex=Nc,f.FillBucket=Pc,f.FillExtrusionBucket=el,f.ImageAtlas=If,f.ImagePosition=kp,f.LineBucket=Ns,f.LngLat=po,f.LngLatBounds=xa,f.MercatorCoordinate=Ff,f.ONE_EM=to,f.OverscaledTileID=Ia,f.Point=i,f.Point$1=i,f.Properties=Ea,f.Protobuf=Mp,f.RGBAImage=Ts,f.RequestManager=pe,f.RequestPerformance=m_,f.ResourceType=kt,f.SegmentVector=In,f.SourceFeatureState=Sd,f.StructArrayLayout1ui2=Qe,f.StructArrayLayout2f1f2i16=Re,f.StructArrayLayout2i4=ns,f.StructArrayLayout3ui6=ie,f.StructArrayLayout4i8=ql,f.SymbolBucket=oo,f.Texture=Rc,f.Tile=Ha,f.Transitionable=Ks,f.Uniform1f=gi,f.Uniform1i=ri,f.Uniform2f=Ti,f.Uniform3f=Yi,f.Uniform4f=vo,f.UniformColor=ho,f.UniformMatrix4f=Do,f.UnwrappedTileID=F1,f.ValidationError=qe,f.WritingMode=Fs,f.ZoomHistory=bi,f.add=function(D,F,Q){return D[0]=F[0]+Q[0],D[1]=F[1]+Q[1],D[2]=F[2]+Q[2],D},f.addDynamicAttributes=kg,f.asyncAll=function(D,F,Q){if(!D.length)return Q(null,[]);var ve=D.length,Le=new Array(D.length),je=null;D.forEach(function(Ze,at){F(Ze,function(pt,Ct){pt&&(je=pt),Le[at]=Ct,0==--ve&&Q(je,Le)})})},f.bezier=a,f.bindAll=g,f.browser=re,f.cacheEntryPossiblyAdded=function(D){++gt>Ie&&(D.getActor().send("enforceCacheSizeLimit",Pe),gt=0)},f.clamp=l,f.clearTileCache=function(D){var F=self.caches.delete(_e);D&&F.catch(D).then(function(){return D()})},f.clipLine=c_,f.clone=function(D){var F=new Ll(16);return F[0]=D[0],F[1]=D[1],F[2]=D[2],F[3]=D[3],F[4]=D[4],F[5]=D[5],F[6]=D[6],F[7]=D[7],F[8]=D[8],F[9]=D[9],F[10]=D[10],F[11]=D[11],F[12]=D[12],F[13]=D[13],F[14]=D[14],F[15]=D[15],F},f.clone$1=A,f.clone$2=function(D){var F=new Ll(3);return F[0]=D[0],F[1]=D[1],F[2]=D[2],F},f.collisionCircleLayout=dd,f.config=ee,f.create=function(){var D=new Ll(16);return Ll!=Float32Array&&(D[1]=0,D[2]=0,D[3]=0,D[4]=0,D[6]=0,D[7]=0,D[8]=0,D[9]=0,D[11]=0,D[12]=0,D[13]=0,D[14]=0),D[0]=1,D[5]=1,D[10]=1,D[15]=1,D},f.create$1=function(){var D=new Ll(9);return Ll!=Float32Array&&(D[1]=0,D[2]=0,D[3]=0,D[5]=0,D[6]=0,D[7]=0),D[0]=1,D[4]=1,D[8]=1,D},f.create$2=function(){var D=new Ll(4);return Ll!=Float32Array&&(D[1]=0,D[2]=0),D[0]=1,D[3]=1,D},f.createCommonjsModule=S,f.createExpression=qa,f.createLayout=qo,f.createStyleLayer=function(D){return"custom"===D.type?new g_(D):new P1[D.type](D)},f.cross=function(D,F,Q){var ve=F[0],Le=F[1],je=F[2],Ze=Q[0],at=Q[1],pt=Q[2];return D[0]=Le*pt-je*at,D[1]=je*Ze-ve*pt,D[2]=ve*at-Le*Ze,D},f.deepEqual=function D(F,Q){if(Array.isArray(F)){if(!Array.isArray(Q)||F.length!==Q.length)return!1;for(var ve=0;ve<F.length;ve++)if(!D(F[ve],Q[ve]))return!1;return!0}if("object"==typeof F&&null!==F&&null!==Q){if("object"!=typeof Q||Object.keys(F).length!==Object.keys(Q).length)return!1;for(var Le in F)if(!D(F[Le],Q[Le]))return!1;return!0}return F===Q},f.dot=function(D,F){return D[0]*F[0]+D[1]*F[1]+D[2]*F[2]},f.dot$1=function(D,F){return D[0]*F[0]+D[1]*F[1]+D[2]*F[2]+D[3]*F[3]},f.ease=o,f.emitValidationErrors=Wa,f.endsWith=w,f.enforceCacheSizeLimit=function(D){We(),me&&me.then(function(F){F.keys().then(function(Q){for(var ve=0;ve<Q.length-D;ve++)F.delete(Q[ve])})})},f.evaluateSizeForFeature=Mg,f.evaluateSizeForZoom=i_,f.evaluateVariableOffset=k1,f.evented=ca,f.extend=h,f.featureFilter=uc,f.filterObject=b,f.fromRotation=function(D,F){var Q=Math.sin(F),ve=Math.cos(F);return D[0]=ve,D[1]=Q,D[2]=0,D[3]=-Q,D[4]=ve,D[5]=0,D[6]=0,D[7]=0,D[8]=1,D},f.getAnchorAlignment=wg,f.getAnchorJustification=Sg,f.getArrayBuffer=Lt,f.getImage=rt,f.getJSON=function(D,F){return Et(h(D,{type:"json"}),F)},f.getRTLTextPluginStatus=dl,f.getReferrer=vt,f.getVideo=function(D,F){var Q,ve,Le=self.document.createElement("video");Le.muted=!0,Le.onloadstart=function(){F(null,Le)};for(var je=0;je<D.length;je++){var Ze=self.document.createElement("source");Q=D[je],ve=void 0,(ve=self.document.createElement("a")).href=Q,ve.protocol===self.document.location.protocol&&ve.host===self.document.location.host||(Le.crossOrigin="Anonymous"),Ze.src=D[je],Le.appendChild(Ze)}return{cancel:function(){}}},f.identity=op,f.invert=function(D,F){var Q=F[0],ve=F[1],Le=F[2],je=F[3],Ze=F[4],at=F[5],pt=F[6],Ct=F[7],Ot=F[8],Gt=F[9],Kt=F[10],$t=F[11],gn=F[12],xn=F[13],Fn=F[14],zn=F[15],$n=Q*at-ve*Ze,Zn=Q*pt-Le*Ze,lr=Q*Ct-je*Ze,gr=ve*pt-Le*at,br=ve*Ct-je*at,Lr=Le*Ct-je*pt,Dr=Ot*xn-Gt*gn,jr=Ot*Fn-Kt*gn,Jr=Ot*zn-$t*gn,vi=Gt*Fn-Kt*xn,Qr=Gt*zn-$t*xn,ui=Kt*zn-$t*Fn,oi=$n*ui-Zn*Qr+lr*vi+gr*Jr-br*jr+Lr*Dr;return oi?(D[0]=(at*ui-pt*Qr+Ct*vi)*(oi=1/oi),D[1]=(Le*Qr-ve*ui-je*vi)*oi,D[2]=(xn*Lr-Fn*br+zn*gr)*oi,D[3]=(Kt*br-Gt*Lr-$t*gr)*oi,D[4]=(pt*Jr-Ze*ui-Ct*jr)*oi,D[5]=(Q*ui-Le*Jr+je*jr)*oi,D[6]=(Fn*lr-gn*Lr-zn*Zn)*oi,D[7]=(Ot*Lr-Kt*lr+$t*Zn)*oi,D[8]=(Ze*Qr-at*Jr+Ct*Dr)*oi,D[9]=(ve*Jr-Q*Qr-je*Dr)*oi,D[10]=(gn*br-xn*lr+zn*$n)*oi,D[11]=(Gt*lr-Ot*br-$t*$n)*oi,D[12]=(at*jr-Ze*vi-pt*Dr)*oi,D[13]=(Q*vi-ve*jr+Le*Dr)*oi,D[14]=(xn*Zn-gn*gr-Fn*$n)*oi,D[15]=(Ot*gr-Gt*Zn+Kt*$n)*oi,D):null},f.isChar=Hr,f.isMapboxURL=ge,f.keysDifference=function(D,F){var Q=[];for(var ve in D)ve in F||Q.push(ve);return Q},f.makeRequest=Et,f.mapObject=x,f.mercatorXfromLng=Np,f.mercatorYfromLat=ph,f.mercatorZfromAltitude=N1,f.mul=Ny,f.multiply=l1,f.mvt=mc,f.normalize=function(D,F){var Q=F[0],ve=F[1],Le=F[2],je=Q*Q+ve*ve+Le*Le;return je>0&&(je=1/Math.sqrt(je)),D[0]=F[0]*je,D[1]=F[1]*je,D[2]=F[2]*je,D},f.number=ir,f.offscreenCanvasSupported=ct,f.ortho=function(D,F,Q,ve,Le,je,Ze){var at=1/(F-Q),pt=1/(ve-Le),Ct=1/(je-Ze);return D[0]=-2*at,D[1]=0,D[2]=0,D[3]=0,D[4]=0,D[5]=-2*pt,D[6]=0,D[7]=0,D[8]=0,D[9]=0,D[10]=2*Ct,D[11]=0,D[12]=(F+Q)*at,D[13]=(Le+ve)*pt,D[14]=(Ze+je)*Ct,D[15]=1,D},f.parseGlyphPBF=function(D){return new Mp(D).readFields(_g,[])},f.pbf=Mp,f.performSymbolLayout=function(D,F,Q,ve,Le,je,Ze){D.createArrays(),D.tilePixelRatio=eo/(512*D.overscaling),D.compareText={},D.iconsNeedLinear=!1;var pt=D.layers[0].layout,Ct=D.layers[0]._unevaluatedLayout._values,Ot={};if("composite"===D.textSizeData.kind){var Gt=D.textSizeData,$t=Gt.maxZoom;Ot.compositeTextSizes=[Ct["text-size"].possiblyEvaluate(new io(Gt.minZoom),Ze),Ct["text-size"].possiblyEvaluate(new io($t),Ze)]}if("composite"===D.iconSizeData.kind){var gn=D.iconSizeData,Fn=gn.maxZoom;Ot.compositeIconSizes=[Ct["icon-size"].possiblyEvaluate(new io(gn.minZoom),Ze),Ct["icon-size"].possiblyEvaluate(new io(Fn),Ze)]}Ot.layoutTextSize=Ct["text-size"].possiblyEvaluate(new io(D.zoom+1),Ze),Ot.layoutIconSize=Ct["icon-size"].possiblyEvaluate(new io(D.zoom+1),Ze),Ot.textMaxSize=Ct["text-size"].possiblyEvaluate(new io(18));for(var zn=pt.get("text-line-height")*to,$n="map"===pt.get("text-rotation-alignment")&&"point"!==pt.get("symbol-placement"),Zn=pt.get("text-keep-upright"),lr=pt.get("text-size"),gr=function(){var Dr=Lr[br],jr=pt.get("text-font").evaluate(Dr,{},Ze).join(","),Jr=lr.evaluate(Dr,{},Ze),vi=Ot.layoutTextSize.evaluate(Dr,{},Ze),Qr=Ot.layoutIconSize.evaluate(Dr,{},Ze),ui={horizontal:{},vertical:void 0},oi=Dr.text,Yr=[0,0];if(oi){var Ii=oi.toString(),wi=pt.get("text-letter-spacing").evaluate(Dr,{},Ze)*to,xo=function(Ai){for(var Ji=0,da=Ai;Ji<da.length;Ji+=1)if(bo=da[Ji].charCodeAt(0),Hr.Arabic(bo)||Hr["Arabic Supplement"](bo)||Hr["Arabic Extended-A"](bo)||Hr["Arabic Presentation Forms-A"](bo)||Hr["Arabic Presentation Forms-B"](bo))return!1;var bo;return!0}(Ii)?wi:0,li=pt.get("text-anchor").evaluate(Dr,{},Ze),co=pt.get("text-variable-anchor");if(!co){var wo=pt.get("text-radial-offset").evaluate(Dr,{},Ze);Yr=wo?k1(li,[wo*to,Qc]):pt.get("text-offset").evaluate(Dr,{},Ze).map(function(Ai){return Ai*to})}var Io=$n?"center":pt.get("text-justify").evaluate(Dr,{},Ze),Po=pt.get("symbol-placement"),To="point"===Po?pt.get("text-max-width").evaluate(Dr,{},Ze)*to:0,Pa=function(){D.allowVerticalPlacement&&fs(Ii)&&(ui.vertical=Su(oi,F,Q,Le,jr,To,zn,li,"left",xo,Yr,Fs.vertical,!0,Po,vi,Jr))};if(!$n&&co){for(var Wo="auto"===Io?co.map(function(Ai){return Sg(Ai)}):[Io],$o=!1,Ra=0;Ra<Wo.length;Ra++){var os=Wo[Ra];if(!ui.horizontal[os])if($o)ui.horizontal[os]=ui.horizontal[0];else{var nl=Su(oi,F,Q,Le,jr,To,zn,"center",os,xo,Yr,Fs.horizontal,!1,Po,vi,Jr);nl&&(ui.horizontal[os]=nl,$o=1===nl.positionedLines.length)}}Pa()}else{"auto"===Io&&(Io=Sg(li));var hs=Su(oi,F,Q,Le,jr,To,zn,li,Io,xo,Yr,Fs.horizontal,!1,Po,vi,Jr);hs&&(ui.horizontal[Io]=hs),Pa(),fs(Ii)&&$n&&Zn&&(ui.vertical=Su(oi,F,Q,Le,jr,To,zn,li,Io,xo,Yr,Fs.vertical,!1,Po,vi,Jr))}}var Ai,Ji,bo,Ss,zs,Ya=void 0,ps=!1;if(Dr.icon&&Dr.icon.name){var as=ve[Dr.icon.name];as&&(Ai=Le[Dr.icon.name],Ji=pt.get("icon-offset").evaluate(Dr,{},Ze),bo=wg(pt.get("icon-anchor").evaluate(Dr,{},Ze)),Ya={image:Ai,top:zs=Ji[1]-Ai.displaySize[1]*bo.verticalAlign,bottom:zs+Ai.displaySize[1],left:Ss=Ji[0]-Ai.displaySize[0]*bo.horizontalAlign,right:Ss+Ai.displaySize[0]},ps=as.sdf,void 0===D.sdfIcons?D.sdfIcons=as.sdf:D.sdfIcons!==as.sdf&&C("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(as.pixelRatio!==D.pixelRatio||0!==pt.get("icon-rotate").constantOr(1))&&(D.iconsNeedLinear=!0))}var La=E1(ui.horizontal)||ui.vertical;D.iconsInText=!!La&&La.iconsInText,(La||Ya)&&function(Ai,Ji,da,bo,zo,ro,Vi,ra,Ss,rl,zs){var eu=ro.textMaxSize.evaluate(Ji,{});void 0===eu&&(eu=Vi);var cf,Na=Ai.layers[0].layout,Zl=Na.get("icon-offset").evaluate(Ji,{},zs),Fc=E1(da.horizontal),uf=Vi/24,Fp=Ai.tilePixelRatio*uf,Bf=Ai.tilePixelRatio*eu/24,zp=Ai.tilePixelRatio*ra,mh=Ai.tilePixelRatio*Na.get("symbol-spacing"),Bp=Na.get("text-padding")*Ai.tilePixelRatio,jf=Na.get("icon-padding")*Ai.tilePixelRatio,kd=Na.get("text-max-angle")/180*Math.PI,Ed="map"===Na.get("text-rotation-alignment")&&"point"!==Na.get("symbol-placement"),jp="map"===Na.get("icon-rotation-alignment")&&"point"!==Na.get("symbol-placement"),tu=Na.get("symbol-placement"),Lg=mh/2,vh=Na.get("icon-text-fit");bo&&"none"!==vh&&(Ai.allowVerticalPlacement&&da.vertical&&(cf=Tg(bo,da.vertical,vh,Na.get("icon-text-fit-padding"),Zl,uf)),Fc&&(bo=Tg(bo,Fc,vh,Na.get("icon-text-fit-padding"),Zl,uf)));var ff=function(zg,Id){Id.x<0||Id.x>=eo||Id.y<0||Id.y>=eo||function(ha,Bs,v_,nu,Pd,V1,Rd,Xl,bl,Uf,Ld,Xp,Bg,jg,ru,U1,H1,G1,Jp,xh,Fl,bh,df,Du,K2){var Vg,Hf,wh,Th,Ou,Nd=ha.addToLineVertexArray(Bs,v_),Kp=0,Qp=0,Gf=0,e0=0,Mh=-1,qf=-1,yc={},Fd=wr(""),t0=0,Ah=0;if(void 0===Xl._unevaluatedLayout.getValue("text-radial-offset")?(t0=(Vg=Xl.layout.get("text-offset").evaluate(Fl,{},Du).map(function(s0){return s0*to}))[0],Ah=Vg[1]):(t0=Xl.layout.get("text-radial-offset").evaluate(Fl,{},Du)*to,Ah=Qc),ha.allowVerticalPlacement&&nu.vertical){var Sh=Xl.layout.get("text-rotate").evaluate(Fl,{},Du)+90;Th=new fh(bl,Bs,Uf,Ld,Xp,nu.vertical,Bg,jg,ru,Sh),Rd&&(Ou=new fh(bl,Bs,Uf,Ld,Xp,Rd,H1,G1,ru,Sh))}if(Pd){var kh=Xl.layout.get("icon-rotate").evaluate(Fl,{}),n0="none"!==Xl.layout.get("icon-text-fit"),Ug=u_(Pd,kh,df,n0),Hg=Rd?u_(Rd,kh,df,n0):void 0;wh=new fh(bl,Bs,Uf,Ld,Xp,Pd,H1,G1,!1,kh),Kp=4*Ug.length;var q1=ha.iconSizeData,zd=null;"source"===q1.kind?(zd=[vc*Xl.layout.get("icon-size").evaluate(Fl,{})])[0]>Cu&&C(ha.layerIds[0]+': Value for "icon-size" is >= 255. Reduce your "icon-size".'):"composite"===q1.kind&&((zd=[vc*bh.compositeIconSizes[0].evaluate(Fl,{},Du),vc*bh.compositeIconSizes[1].evaluate(Fl,{},Du)])[0]>Cu||zd[1]>Cu)&&C(ha.layerIds[0]+': Value for "icon-size" is >= 255. Reduce your "icon-size".'),ha.addSymbols(ha.icon,Ug,zd,xh,Jp,Fl,!1,Bs,Nd.lineStartIndex,Nd.lineLength,-1,Du),Mh=ha.icon.placedSymbolArray.length-1,Hg&&(Qp=4*Hg.length,ha.addSymbols(ha.icon,Hg,zd,xh,Jp,Fl,Fs.vertical,Bs,Nd.lineStartIndex,Nd.lineLength,-1,Du),qf=ha.icon.placedSymbolArray.length-1)}for(var Gg in nu.horizontal){var r0=nu.horizontal[Gg];if(!Hf){Fd=wr(r0.text);var y_=Xl.layout.get("text-rotate").evaluate(Fl,{},Du);Hf=new fh(bl,Bs,Uf,Ld,Xp,r0,Bg,jg,ru,y_)}var __=1===r0.positionedLines.length;if(Gf+=Op(ha,Bs,r0,V1,Xl,ru,Fl,U1,Nd,nu.vertical?Fs.horizontal:Fs.horizontalOnly,__?Object.keys(nu.horizontal):[Gg],yc,Mh,bh,Du),__)break}nu.vertical&&(e0+=Op(ha,Bs,nu.vertical,V1,Xl,ru,Fl,U1,Nd,Fs.vertical,["vertical"],yc,qf,bh,Du));var x_=Hf?Hf.boxStartIndex:ha.collisionBoxArray.length,qg=Hf?Hf.boxEndIndex:ha.collisionBoxArray.length,Wg=Th?Th.boxStartIndex:ha.collisionBoxArray.length,b_=Th?Th.boxEndIndex:ha.collisionBoxArray.length,W1=wh?wh.boxStartIndex:ha.collisionBoxArray.length,$g=wh?wh.boxEndIndex:ha.collisionBoxArray.length,o0=Ou?Ou.boxStartIndex:ha.collisionBoxArray.length,w_=Ou?Ou.boxEndIndex:ha.collisionBoxArray.length,Vc=-1,a0=function(s0,$1){return s0&&s0.circleDiameter?Math.max(s0.circleDiameter,$1):$1};Vc=a0(Hf,Vc),Vc=a0(Th,Vc),Vc=a0(wh,Vc);var Yg=(Vc=a0(Ou,Vc))>-1?1:0;Yg&&(Vc*=K2/to),ha.glyphOffsetArray.length>=oo.MAX_GLYPHS&&C("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),void 0!==Fl.sortKey&&ha.addToSortKeyRanges(ha.symbolInstances.length,Fl.sortKey),ha.symbolInstances.emplaceBack(Bs.x,Bs.y,yc.right>=0?yc.right:-1,yc.center>=0?yc.center:-1,yc.left>=0?yc.left:-1,yc.vertical||-1,Mh,qf,Fd,x_,qg,Wg,b_,W1,$g,o0,w_,Uf,Gf,e0,Kp,Qp,Yg,0,Bg,t0,Ah,Vc)}(Ai,Id,zg,da,bo,zo,cf,Ai.layers[0],Ai.collisionBoxArray,Ji.index,Ji.sourceLayerIndex,Ai.index,Fp,Bp,Ed,Ss,zp,jf,jp,Zl,Ji,ro,rl,zs,Vi)};if("line"===tu)for(var Vf=0,Vp=c_(Ji.geometry,0,0,eo,eo);Vf<Vp.length;Vf+=1)for(var Up=Vp[Vf],Cd=0,Hp=J2(Up,mh,kd,da.vertical||Fc,bo,24,Bf,Ai.overscaling,eo);Cd<Hp.length;Cd+=1){var yh=Hp[Cd];Fc&&f_(Ai,Fc.text,Lg,yh)||ff(Up,yh)}else if("line-center"===tu)for(var Gp=0,qp=Ji.geometry;Gp<qp.length;Gp+=1){var Bc=qp[Gp];if(Bc.length>1){var ei=Ag(Bc,kd,da.vertical||Fc,bo,24,Bf);ei&&ff(Bc,ei)}}else if("Polygon"===Ji.type)for(var jc=0,Dd=yp(Ji.geometry,0);jc<Dd.length;jc+=1){var Od=Dd[jc],Ng=A1(Od,16);ff(Od[0],new xd(Ng.x,Ng.y,0))}else if("LineString"===Ji.type)for(var _h=0,B1=Ji.geometry;_h<B1.length;_h+=1){var Wp=B1[_h];ff(Wp,new xd(Wp[0].x,Wp[0].y,0))}else if("Point"===Ji.type)for(var $p=0,Yp=Ji.geometry;$p<Yp.length;$p+=1)for(var j1=0,Zp=Yp[$p];j1<Zp.length;j1+=1){var Fg=Zp[j1];ff([Fg],new xd(Fg.x,Fg.y,0))}}(D,Dr,ui,Ya,ve,Ot,vi,Qr,Yr,ps,Ze)},br=0,Lr=D.features;br<Lr.length;br+=1)gr();je&&D.generateCollisionDebugBuffers()},f.perspective=function(D,F,Q,ve,Le){var je,Ze=1/Math.tan(F/2);return D[0]=Ze/Q,D[1]=0,D[2]=0,D[3]=0,D[4]=0,D[5]=Ze,D[6]=0,D[7]=0,D[8]=0,D[9]=0,D[11]=-1,D[12]=0,D[13]=0,D[15]=0,null!=Le&&Le!==1/0?(D[10]=(Le+ve)*(je=1/(ve-Le)),D[14]=2*Le*ve*je):(D[10]=-1,D[14]=-2*ve),D},f.pick=function(D,F){for(var Q={},ve=0;ve<F.length;ve++){var Le=F[ve];Le in D&&(Q[Le]=D[Le])}return Q},f.plugin=Fo,f.polygonIntersectsPolygon=na,f.postMapLoadEvent=Ye,f.postTurnstileEvent=De,f.potpack=b1,f.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],f.register=Gr,f.registerForPluginStateChange=function(D){return D({pluginStatus:Go,pluginURL:Si}),ca.on("pluginStateChange",D),D},f.rotate=function(D,F,Q){var ve=F[0],Le=F[1],je=F[2],Ze=F[3],at=Math.sin(Q),pt=Math.cos(Q);return D[0]=ve*pt+je*at,D[1]=Le*pt+Ze*at,D[2]=ve*-at+je*pt,D[3]=Le*-at+Ze*pt,D},f.rotateX=function(D,F,Q){var ve=Math.sin(Q),Le=Math.cos(Q),je=F[4],Ze=F[5],at=F[6],pt=F[7],Ct=F[8],Ot=F[9],Gt=F[10],Kt=F[11];return F!==D&&(D[0]=F[0],D[1]=F[1],D[2]=F[2],D[3]=F[3],D[12]=F[12],D[13]=F[13],D[14]=F[14],D[15]=F[15]),D[4]=je*Le+Ct*ve,D[5]=Ze*Le+Ot*ve,D[6]=at*Le+Gt*ve,D[7]=pt*Le+Kt*ve,D[8]=Ct*Le-je*ve,D[9]=Ot*Le-Ze*ve,D[10]=Gt*Le-at*ve,D[11]=Kt*Le-pt*ve,D},f.rotateZ=function(D,F,Q){var ve=Math.sin(Q),Le=Math.cos(Q),je=F[0],Ze=F[1],at=F[2],pt=F[3],Ct=F[4],Ot=F[5],Gt=F[6],Kt=F[7];return F!==D&&(D[8]=F[8],D[9]=F[9],D[10]=F[10],D[11]=F[11],D[12]=F[12],D[13]=F[13],D[14]=F[14],D[15]=F[15]),D[0]=je*Le+Ct*ve,D[1]=Ze*Le+Ot*ve,D[2]=at*Le+Gt*ve,D[3]=pt*Le+Kt*ve,D[4]=Ct*Le-je*ve,D[5]=Ot*Le-Ze*ve,D[6]=Gt*Le-at*ve,D[7]=Kt*Le-pt*ve,D},f.scale=function(D,F,Q){var ve=Q[0],Le=Q[1],je=Q[2];return D[0]=F[0]*ve,D[1]=F[1]*ve,D[2]=F[2]*ve,D[3]=F[3]*ve,D[4]=F[4]*Le,D[5]=F[5]*Le,D[6]=F[6]*Le,D[7]=F[7]*Le,D[8]=F[8]*je,D[9]=F[9]*je,D[10]=F[10]*je,D[11]=F[11]*je,D[12]=F[12],D[13]=F[13],D[14]=F[14],D[15]=F[15],D},f.scale$1=function(D,F,Q){return D[0]=F[0]*Q,D[1]=F[1]*Q,D[2]=F[2]*Q,D[3]=F[3]*Q,D},f.scale$2=function(D,F,Q){return D[0]=F[0]*Q,D[1]=F[1]*Q,D[2]=F[2]*Q,D},f.setCacheLimits=function(D,F){Pe=D,Ie=F},f.setRTLTextPlugin=function(D,F,Q){if(void 0===Q&&(Q=!1),Go===ul||Go===ea||Go===$i)throw new Error("setRTLTextPlugin cannot be called multiple times.");Si=re.resolveURL(D),Go=ul,xs=F,es(),Q||xu()},f.sphericalToCartesian=function(D){var F=D[0],Q=D[1],ve=D[2];return Q+=90,Q*=Math.PI/180,ve*=Math.PI/180,{x:F*Math.cos(Q)*Math.sin(ve),y:F*Math.sin(Q)*Math.sin(ve),z:F*Math.cos(ve)}},f.sqrLen=function(D){var F=D[0],Q=D[1];return F*F+Q*Q},f.styleSpec=Ve,f.sub=function(D,F,Q){return D[0]=F[0]-Q[0],D[1]=F[1]-Q[1],D[2]=F[2]-Q[2],D},f.symbolSize=o_,f.transformMat3=function(D,F,Q){var ve=F[0],Le=F[1],je=F[2];return D[0]=ve*Q[0]+Le*Q[3]+je*Q[6],D[1]=ve*Q[1]+Le*Q[4]+je*Q[7],D[2]=ve*Q[2]+Le*Q[5]+je*Q[8],D},f.transformMat4=th,f.translate=function(D,F,Q){var ve,Le,je,Ze,at,pt,Ct,Ot,Gt,Kt,$t,gn,xn=Q[0],Fn=Q[1],zn=Q[2];return F===D?(D[12]=F[0]*xn+F[4]*Fn+F[8]*zn+F[12],D[13]=F[1]*xn+F[5]*Fn+F[9]*zn+F[13],D[14]=F[2]*xn+F[6]*Fn+F[10]*zn+F[14],D[15]=F[3]*xn+F[7]*Fn+F[11]*zn+F[15]):(Le=F[1],je=F[2],Ze=F[3],at=F[4],pt=F[5],Ct=F[6],Ot=F[7],Gt=F[8],Kt=F[9],$t=F[10],gn=F[11],D[0]=ve=F[0],D[1]=Le,D[2]=je,D[3]=Ze,D[4]=at,D[5]=pt,D[6]=Ct,D[7]=Ot,D[8]=Gt,D[9]=Kt,D[10]=$t,D[11]=gn,D[12]=ve*xn+at*Fn+Gt*zn+F[12],D[13]=Le*xn+pt*Fn+Kt*zn+F[13],D[14]=je*xn+Ct*Fn+$t*zn+F[14],D[15]=Ze*xn+Ot*Fn+gn*zn+F[15]),D},f.triggerPluginCompletionEvent=Hl,f.uniqueId=p,f.validateCustomStyleLayer=function(D){var F=[],Q=D.id;return void 0===Q&&F.push({message:"layers."+Q+': missing required property "id"'}),void 0===D.render&&F.push({message:"layers."+Q+': missing required method "render"'}),D.renderingMode&&"2d"!==D.renderingMode&&"3d"!==D.renderingMode&&F.push({message:"layers."+Q+': property "renderingMode" must be either "2d" or "3d"'}),F},f.validateLight=ko,f.validateStyle=Oi,f.values=function(D){var F=[];for(var Q in D)F.push(D[Q]);return F},f.vectorTile=mc,f.version=M,f.warnOnce=C,f.webpSupported=K,f.window=self,f.wrap=c}),E(0,function(f){function S(rt){var ot=typeof rt;if("number"===ot||"boolean"===ot||"string"===ot||null==rt)return JSON.stringify(rt);if(Array.isArray(rt)){for(var Je="[",it=0,dt=rt;it<dt.length;it+=1)Je+=S(dt[it])+",";return Je+"]"}for(var ht=Object.keys(rt).sort(),Ve="{",qe=0;qe<ht.length;qe++)Ve+=JSON.stringify(ht[qe])+":"+S(rt[ht[qe]])+",";return Ve+"}"}function M(rt){for(var ot="",Je=0,it=f.refProperties;Je<it.length;Je+=1)ot+="/"+S(rt[it[Je]]);return ot}var y=function(rt){this.keyCache={},rt&&this.replace(rt)};y.prototype.replace=function(rt){this._layerConfigs={},this._layers={},this.update(rt,[])},y.prototype.update=function(rt,ot){for(var Je=this,it=0,dt=rt;it<dt.length;it+=1){var ht=dt[it];this._layerConfigs[ht.id]=ht;var Ve=this._layers[ht.id]=f.createStyleLayer(ht);Ve._featureFilter=f.featureFilter(Ve.filter),this.keyCache[ht.id]&&delete this.keyCache[ht.id]}for(var qe=0,ut=ot;qe<ut.length;qe+=1){var ft=ut[qe];delete this.keyCache[ft],delete this._layerConfigs[ft],delete this._layers[ft]}this.familiesBySource={};for(var St=0,Mt=function(Wt,Yt){for(var Zt={},dn=0;dn<Wt.length;dn++){var nn=Yt&&Yt[Wt[dn].id]||M(Wt[dn]);Yt&&(Yt[Wt[dn].id]=nn);var un=Zt[nn];un||(un=Zt[nn]=[]),un.push(Wt[dn])}var rn=[];for(var kn in Zt)rn.push(Zt[kn]);return rn}(f.values(this._layerConfigs),this.keyCache);St<Mt.length;St+=1){var Tt=Mt[St].map(function(Wt){return Je._layers[Wt.id]}),xt=Tt[0];if("none"!==xt.visibility){var Nt=xt.source||"",bt=this.familiesBySource[Nt];bt||(bt=this.familiesBySource[Nt]={});var wt=xt.sourceLayer||"_geojsonTileLayer",It=bt[wt];It||(It=bt[wt]=[]),It.push(Tt)}}};var u=function(rt){var ot={},Je=[];for(var it in rt){var dt=rt[it],ht=ot[it]={};for(var Ve in dt){var qe=dt[+Ve];if(qe&&0!==qe.bitmap.width&&0!==qe.bitmap.height){var ut={x:0,y:0,w:qe.bitmap.width+2,h:qe.bitmap.height+2};Je.push(ut),ht[Ve]={rect:ut,metrics:qe.metrics}}}}var ft=f.potpack(Je),Tt=new f.AlphaImage({width:ft.w||1,height:ft.h||1});for(var xt in rt){var Nt=rt[xt];for(var bt in Nt){var wt=Nt[+bt];if(wt&&0!==wt.bitmap.width&&0!==wt.bitmap.height){var It=ot[xt][bt].rect;f.AlphaImage.copy(wt.bitmap,Tt,{x:0,y:0},{x:It.x+1,y:It.y+1},wt.bitmap)}}}this.image=Tt,this.positions=ot};f.register("GlyphAtlas",u);var i=function(rt){this.tileID=new f.OverscaledTileID(rt.tileID.overscaledZ,rt.tileID.wrap,rt.tileID.canonical.z,rt.tileID.canonical.x,rt.tileID.canonical.y),this.uid=rt.uid,this.zoom=rt.zoom,this.pixelRatio=rt.pixelRatio,this.tileSize=rt.tileSize,this.source=rt.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=rt.showCollisionBoxes,this.collectResourceTiming=!!rt.collectResourceTiming,this.returnDependencies=!!rt.returnDependencies,this.promoteId=rt.promoteId};function s(rt,ot,Je){for(var it=new f.EvaluationParameters(ot),dt=0,ht=rt;dt<ht.length;dt+=1)ht[dt].recalculate(it,Je)}function a(rt,ot){var Je=f.getArrayBuffer(rt.request,function(it,dt,ht,Ve){it?ot(it):dt&&ot(null,{vectorTile:new f.vectorTile.VectorTile(new f.pbf(dt)),rawData:dt,cacheControl:ht,expires:Ve})});return function(){Je.cancel(),ot()}}i.prototype.parse=function(rt,ot,Je,it,dt){var ht=this;this.status="parsing",this.data=rt,this.collisionBoxArray=new f.CollisionBoxArray;var Ve=new f.DictionaryCoder(Object.keys(rt.layers).sort()),qe=new f.FeatureIndex(this.tileID,this.promoteId);qe.bucketLayerIDs=[];var ut,ft,St,Mt,Tt={},xt={featureIndex:qe,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:Je},Nt=ot.familiesBySource[this.source];for(var bt in Nt){var wt=rt.layers[bt];if(wt){1===wt.version&&f.warnOnce('Vector tile source "'+this.source+'" layer "'+bt+'" does not use vector tile spec v2 and therefore may have some rendering errors.');for(var It=Ve.encode(bt),Wt=[],Yt=0;Yt<wt.length;Yt++){var Zt=wt.feature(Yt),dn=qe.getId(Zt,bt);Wt.push({feature:Zt,id:dn,index:Yt,sourceLayerIndex:It})}for(var nn=0,un=Nt[bt];nn<un.length;nn+=1){var rn=un[nn],kn=rn[0];kn.minzoom&&this.zoom<Math.floor(kn.minzoom)||kn.maxzoom&&this.zoom>=kn.maxzoom||"none"!==kn.visibility&&(s(rn,this.zoom,Je),(Tt[kn.id]=kn.createBucket({index:qe.bucketLayerIDs.length,layers:rn,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:It,sourceID:this.source})).populate(Wt,xt,this.tileID.canonical),qe.bucketLayerIDs.push(rn.map(function(hn){return hn.id})))}}}var Pn=f.mapObject(xt.glyphDependencies,function(hn){return Object.keys(hn).map(Number)});Object.keys(Pn).length?it.send("getGlyphs",{uid:this.uid,stacks:Pn},function(hn,yn){ut||(ut=hn,ft=yn,vn.call(ht))}):ft={};var Sn=Object.keys(xt.iconDependencies);Sn.length?it.send("getImages",{icons:Sn,source:this.source,tileID:this.tileID,type:"icons"},function(hn,yn){ut||(ut=hn,St=yn,vn.call(ht))}):St={};var en=Object.keys(xt.patternDependencies);function vn(){if(ut)return dt(ut);if(ft&&St&&Mt){var hn=new u(ft),yn=new f.ImageAtlas(St,Mt);for(var Cn in Tt){var _n=Tt[Cn];_n instanceof f.SymbolBucket?(s(_n.layers,this.zoom,Je),f.performSymbolLayout(_n,ft,hn.positions,St,yn.iconPositions,this.showCollisionBoxes,this.tileID.canonical)):_n.hasPattern&&(_n instanceof f.LineBucket||_n instanceof f.FillBucket||_n instanceof f.FillExtrusionBucket)&&(s(_n.layers,this.zoom,Je),_n.addFeatures(xt,this.tileID.canonical,yn.patternPositions))}this.status="done",dt(null,{buckets:f.values(Tt).filter(function(Un){return!Un.isEmpty()}),featureIndex:qe,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:hn.image,imageAtlas:yn,glyphMap:this.returnDependencies?ft:null,iconMap:this.returnDependencies?St:null,glyphPositions:this.returnDependencies?hn.positions:null})}}en.length?it.send("getImages",{icons:en,source:this.source,tileID:this.tileID,type:"patterns"},function(hn,yn){ut||(ut=hn,Mt=yn,vn.call(ht))}):Mt={},vn.call(this)};var o=function(rt,ot,Je,it){this.actor=rt,this.layerIndex=ot,this.availableImages=Je,this.loadVectorData=it||a,this.loading={},this.loaded={}};o.prototype.loadTile=function(rt,ot){var Je=this,it=rt.uid;this.loading||(this.loading={});var dt=!!(rt&&rt.request&&rt.request.collectResourceTiming)&&new f.RequestPerformance(rt.request),ht=this.loading[it]=new i(rt);ht.abort=this.loadVectorData(rt,function(Ve,qe){if(delete Je.loading[it],Ve||!qe)return ht.status="done",Je.loaded[it]=ht,ot(Ve);var ut=qe.rawData,ft={};qe.expires&&(ft.expires=qe.expires),qe.cacheControl&&(ft.cacheControl=qe.cacheControl);var St={};if(dt){var Mt=dt.finish();Mt&&(St.resourceTiming=JSON.parse(JSON.stringify(Mt)))}ht.vectorTile=qe.vectorTile,ht.parse(qe.vectorTile,Je.layerIndex,Je.availableImages,Je.actor,function(Tt,xt){if(Tt||!xt)return ot(Tt);ot(null,f.extend({rawTileData:ut.slice(0)},xt,ft,St))}),Je.loaded=Je.loaded||{},Je.loaded[it]=ht})},o.prototype.reloadTile=function(rt,ot){var Je=this,it=this.loaded,dt=rt.uid,ht=this;if(it&&it[dt]){var Ve=it[dt];Ve.showCollisionBoxes=rt.showCollisionBoxes;var qe=function(ut,ft){var St=Ve.reloadCallback;St&&(delete Ve.reloadCallback,Ve.parse(Ve.vectorTile,ht.layerIndex,Je.availableImages,ht.actor,St)),ot(ut,ft)};"parsing"===Ve.status?Ve.reloadCallback=qe:"done"===Ve.status&&(Ve.vectorTile?Ve.parse(Ve.vectorTile,this.layerIndex,this.availableImages,this.actor,qe):qe())}},o.prototype.abortTile=function(rt,ot){var Je=this.loading,it=rt.uid;Je&&Je[it]&&Je[it].abort&&(Je[it].abort(),delete Je[it]),ot()},o.prototype.removeTile=function(rt,ot){var Je=this.loaded,it=rt.uid;Je&&Je[it]&&delete Je[it],ot()};var l=f.window.ImageBitmap,c=function(){this.loaded={}};c.prototype.loadTile=function(rt,ot){var Je=rt.uid,it=rt.encoding,dt=rt.rawImageData,ht=l&&dt instanceof l?this.getImageData(dt):dt,Ve=new f.DEMData(Je,ht,it);this.loaded=this.loaded||{},this.loaded[Je]=Ve,ot(null,Ve)},c.prototype.getImageData=function(rt){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(rt.width,rt.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=rt.width,this.offscreenCanvas.height=rt.height,this.offscreenCanvasContext.drawImage(rt,0,0,rt.width,rt.height);var ot=this.offscreenCanvasContext.getImageData(-1,-1,rt.width+2,rt.height+2);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new f.RGBAImage({width:ot.width,height:ot.height},ot.data)},c.prototype.removeTile=function(rt){var ot=this.loaded,Je=rt.uid;ot&&ot[Je]&&delete ot[Je]};var h=function rt(ot,Je){var it,dt=ot&&ot.type;if("FeatureCollection"===dt)for(it=0;it<ot.features.length;it++)rt(ot.features[it],Je);else if("GeometryCollection"===dt)for(it=0;it<ot.geometries.length;it++)rt(ot.geometries[it],Je);else if("Feature"===dt)rt(ot.geometry,Je);else if("Polygon"===dt)v(ot.coordinates,Je);else if("MultiPolygon"===dt)for(it=0;it<ot.coordinates.length;it++)v(ot.coordinates[it],Je);return ot};function v(rt,ot){if(0!==rt.length){p(rt[0],ot);for(var Je=1;Je<rt.length;Je++)p(rt[Je],!ot)}}function p(rt,ot){for(var Je=0,it=0,dt=rt.length,ht=dt-1;it<dt;ht=it++)Je+=(rt[it][0]-rt[ht][0])*(rt[ht][1]+rt[it][1]);Je>=0!=!!ot&&rt.reverse()}var T=f.vectorTile.VectorTileFeature.prototype.toGeoJSON,_=function(rt){this._feature=rt,this.extent=f.EXTENT,this.type=rt.type,this.properties=rt.tags,"id"in rt&&!isNaN(rt.id)&&(this.id=parseInt(rt.id,10))};_.prototype.loadGeometry=function(){if(1===this._feature.type){for(var rt=[],ot=0,Je=this._feature.geometry;ot<Je.length;ot+=1){var it=Je[ot];rt.push([new f.Point$1(it[0],it[1])])}return rt}for(var dt=[],ht=0,Ve=this._feature.geometry;ht<Ve.length;ht+=1){for(var qe=[],ut=0,ft=Ve[ht];ut<ft.length;ut+=1){var St=ft[ut];qe.push(new f.Point$1(St[0],St[1]))}dt.push(qe)}return dt},_.prototype.toGeoJSON=function(rt,ot,Je){return T.call(this,rt,ot,Je)};var g=function(rt){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=f.EXTENT,this.length=rt.length,this._features=rt};g.prototype.feature=function(rt){return new _(this._features[rt])};var w=f.vectorTile.VectorTileFeature,x=b;function b(rt,ot){this.options=ot||{},this.features=rt,this.length=rt.length}function A(rt,ot){this.id="number"==typeof rt.id?rt.id:void 0,this.type=rt.type,this.rawGeometry=1===rt.type?[rt.geometry]:rt.geometry,this.properties=rt.tags,this.extent=ot||4096}b.prototype.feature=function(rt){return new A(this.features[rt],this.options.extent)},A.prototype.loadGeometry=function(){var rt=this.rawGeometry;this.geometry=[];for(var ot=0;ot<rt.length;ot++){for(var Je=rt[ot],it=[],dt=0;dt<Je.length;dt++)it.push(new f.Point$1(Je[dt][0],Je[dt][1]));this.geometry.push(it)}return this.geometry},A.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var rt=this.geometry,ot=1/0,Je=-1/0,it=1/0,dt=-1/0,ht=0;ht<rt.length;ht++)for(var Ve=rt[ht],qe=0;qe<Ve.length;qe++){var ut=Ve[qe];ot=Math.min(ot,ut.x),Je=Math.max(Je,ut.x),it=Math.min(it,ut.y),dt=Math.max(dt,ut.y)}return[ot,it,Je,dt]},A.prototype.toGeoJSON=w.prototype.toGeoJSON;var m=R,P=x;function R(rt){var ot=new f.pbf;return function(Je,it){for(var dt in Je.layers)it.writeMessage(3,L,Je.layers[dt])}(rt,ot),ot.finish()}function L(rt,ot){var Je;ot.writeVarintField(15,rt.version||1),ot.writeStringField(1,rt.name||""),ot.writeVarintField(5,rt.extent||4096);var it={keys:[],values:[],keycache:{},valuecache:{}};for(Je=0;Je<rt.length;Je++)it.feature=rt.feature(Je),ot.writeMessage(2,N,it);var dt=it.keys;for(Je=0;Je<dt.length;Je++)ot.writeStringField(3,dt[Je]);var ht=it.values;for(Je=0;Je<ht.length;Je++)ot.writeMessage(4,q,ht[Je])}function N(rt,ot){var Je=rt.feature;void 0!==Je.id&&ot.writeVarintField(1,Je.id),ot.writeMessage(2,B,rt),ot.writeVarintField(3,Je.type),ot.writeMessage(4,Y,Je)}function B(rt,ot){var Je=rt.feature,it=rt.keys,dt=rt.values,ht=rt.keycache,Ve=rt.valuecache;for(var qe in Je.properties){var ut=ht[qe];void 0===ut&&(it.push(qe),ht[qe]=ut=it.length-1),ot.writeVarint(ut);var ft=Je.properties[qe],St=typeof ft;"string"!==St&&"boolean"!==St&&"number"!==St&&(ft=JSON.stringify(ft));var Mt=St+":"+ft,Tt=Ve[Mt];void 0===Tt&&(dt.push(ft),Ve[Mt]=Tt=dt.length-1),ot.writeVarint(Tt)}}function J(rt,ot){return(ot<<3)+(7&rt)}function z(rt){return rt<<1^rt>>31}function Y(rt,ot){for(var Je=rt.loadGeometry(),it=rt.type,dt=0,ht=0,Ve=Je.length,qe=0;qe<Ve;qe++){var ut=Je[qe],ft=1;1===it&&(ft=ut.length),ot.writeVarint(J(1,ft));for(var St=3===it?ut.length-1:ut.length,Mt=0;Mt<St;Mt++){1===Mt&&1!==it&&ot.writeVarint(J(2,St-1));var Tt=ut[Mt].x-dt,xt=ut[Mt].y-ht;ot.writeVarint(z(Tt)),ot.writeVarint(z(xt)),dt+=Tt,ht+=xt}3===it&&ot.writeVarint(J(7,1))}}function q(rt,ot){var Je=typeof rt;"string"===Je?ot.writeStringField(1,rt):"boolean"===Je?ot.writeBooleanField(7,rt):"number"===Je&&(rt%1!=0?ot.writeDoubleField(3,rt):rt<0?ot.writeSVarintField(6,rt):ot.writeVarintField(5,rt))}function U(rt,ot,Je,it,dt,ht){if(!(dt-it<=Je)){var Ve=it+dt>>1;Z(rt,ot,Ve,it,dt,ht%2),U(rt,ot,Je,it,Ve-1,ht+1),U(rt,ot,Je,Ve+1,dt,ht+1)}}function Z(rt,ot,Je,it,dt,ht){for(;dt>it;){if(dt-it>600){var Ve=dt-it+1,qe=Je-it+1,ut=Math.log(Ve),ft=.5*Math.exp(2*ut/3),St=.5*Math.sqrt(ut*ft*(Ve-ft)/Ve)*(qe-Ve/2<0?-1:1);Z(rt,ot,Je,Math.max(it,Math.floor(Je-qe*ft/Ve+St)),Math.min(dt,Math.floor(Je+(Ve-qe)*ft/Ve+St)),ht)}var Mt=ot[2*Je+ht],Tt=it,xt=dt;for(X(rt,ot,it,Je),ot[2*dt+ht]>Mt&&X(rt,ot,it,dt);Tt<xt;){for(X(rt,ot,Tt,xt),Tt++,xt--;ot[2*Tt+ht]<Mt;)Tt++;for(;ot[2*xt+ht]>Mt;)xt--}ot[2*it+ht]===Mt?X(rt,ot,it,xt):X(rt,ot,++xt,dt),xt<=Je&&(it=xt+1),Je<=xt&&(dt=xt-1)}}function X(rt,ot,Je,it){se(rt,Je,it),se(ot,2*Je,2*it),se(ot,2*Je+1,2*it+1)}function se(rt,ot,Je){var it=rt[ot];rt[ot]=rt[Je],rt[Je]=it}function re(rt,ot,Je,it){var dt=rt-Je,ht=ot-it;return dt*dt+ht*ht}m.fromVectorTileJs=R,m.fromGeojsonVt=function(rt,ot){ot=ot||{};var Je={};for(var it in rt)Je[it]=new x(rt[it].features,ot),Je[it].name=it,Je[it].version=ot.version,Je[it].extent=ot.extent;return R({layers:Je})},m.GeoJSONWrapper=P;var ee=function(rt){return rt[0]},K=function(rt){return rt[1]},ne=function(rt,ot,Je,it,dt){void 0===ot&&(ot=ee),void 0===Je&&(Je=K),void 0===it&&(it=64),void 0===dt&&(dt=Float64Array),this.nodeSize=it,this.points=rt;for(var ht=rt.length<65536?Uint16Array:Uint32Array,Ve=this.ids=new ht(rt.length),qe=this.coords=new dt(2*rt.length),ut=0;ut<rt.length;ut++)Ve[ut]=ut,qe[2*ut]=ot(rt[ut]),qe[2*ut+1]=Je(rt[ut]);U(Ve,qe,it,0,Ve.length-1,0)};ne.prototype.range=function(rt,ot,Je,it){return function(dt,ht,Ve,qe,ut,ft,St){for(var Mt,Tt,xt=[0,dt.length-1,0],Nt=[];xt.length;){var bt=xt.pop(),wt=xt.pop(),It=xt.pop();if(wt-It<=St)for(var Wt=It;Wt<=wt;Wt++)Tt=ht[2*Wt+1],(Mt=ht[2*Wt])>=Ve&&Mt<=ut&&Tt>=qe&&Tt<=ft&&Nt.push(dt[Wt]);else{var Yt=Math.floor((It+wt)/2);Tt=ht[2*Yt+1],(Mt=ht[2*Yt])>=Ve&&Mt<=ut&&Tt>=qe&&Tt<=ft&&Nt.push(dt[Yt]);var Zt=(bt+1)%2;(0===bt?Ve<=Mt:qe<=Tt)&&(xt.push(It),xt.push(Yt-1),xt.push(Zt)),(0===bt?ut>=Mt:ft>=Tt)&&(xt.push(Yt+1),xt.push(wt),xt.push(Zt))}}return Nt}(this.ids,this.coords,rt,ot,Je,it,this.nodeSize)},ne.prototype.within=function(rt,ot,Je){return function(it,dt,ht,Ve,qe,ut){for(var ft=[0,it.length-1,0],St=[],Mt=qe*qe;ft.length;){var Tt=ft.pop(),xt=ft.pop(),Nt=ft.pop();if(xt-Nt<=ut)for(var bt=Nt;bt<=xt;bt++)re(dt[2*bt],dt[2*bt+1],ht,Ve)<=Mt&&St.push(it[bt]);else{var wt=Math.floor((Nt+xt)/2),It=dt[2*wt],Wt=dt[2*wt+1];re(It,Wt,ht,Ve)<=Mt&&St.push(it[wt]);var Yt=(Tt+1)%2;(0===Tt?ht-qe<=It:Ve-qe<=Wt)&&(ft.push(Nt),ft.push(wt-1),ft.push(Yt)),(0===Tt?ht+qe>=It:Ve+qe>=Wt)&&(ft.push(wt+1),ft.push(xt),ft.push(Yt))}}return St}(this.ids,this.coords,rt,ot,Je,this.nodeSize)};var ae={minZoom:0,maxZoom:16,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(rt){return rt}},ue=function(rt){this.options=ye(Object.create(ae),rt),this.trees=new Array(this.options.maxZoom+1)};function he(rt,ot,Je,it,dt){return{x:rt,y:ot,zoom:1/0,id:Je,parentId:-1,numPoints:it,properties:dt}}function pe(rt,ot){var Je=rt.geometry.coordinates,dt=Je[1];return{x:Se(Je[0]),y:Te(dt),zoom:1/0,index:ot,parentId:-1}}function ge(rt){return{type:"Feature",id:rt.id,properties:xe(rt),geometry:{type:"Point",coordinates:[(it=rt.x,360*(it-.5)),(ot=rt.y,Je=(180-360*ot)*Math.PI/180,360*Math.atan(Math.exp(Je))/Math.PI-90)]}};var ot,Je,it}function xe(rt){var ot=rt.numPoints,Je=ot>=1e4?Math.round(ot/1e3)+"k":ot>=1e3?Math.round(ot/100)/10+"k":ot;return ye(ye({},rt.properties),{cluster:!0,cluster_id:rt.id,point_count:ot,point_count_abbreviated:Je})}function Se(rt){return rt/360+.5}function Te(rt){var ot=Math.sin(rt*Math.PI/180),Je=.5-.25*Math.log((1+ot)/(1-ot))/Math.PI;return Je<0?0:Je>1?1:Je}function ye(rt,ot){for(var Je in ot)rt[Je]=ot[Je];return rt}function we(rt){return rt.x}function ze(rt){return rt.y}function ke(rt,ot,Je,it){for(var dt,ht=it,Ve=Je-ot>>1,qe=Je-ot,ut=rt[ot],ft=rt[ot+1],St=rt[Je],Mt=rt[Je+1],Tt=ot+3;Tt<Je;Tt+=3){var xt=Ee(rt[Tt],rt[Tt+1],ut,ft,St,Mt);if(xt>ht)dt=Tt,ht=xt;else if(xt===ht){var Nt=Math.abs(Tt-Ve);Nt<qe&&(dt=Tt,qe=Nt)}}ht>it&&(dt-ot>3&&ke(rt,ot,dt,it),rt[dt+2]=ht,Je-dt>3&&ke(rt,dt,Je,it))}function Ee(rt,ot,Je,it,dt,ht){var Ve=dt-Je,qe=ht-it;if(0!==Ve||0!==qe){var ut=((rt-Je)*Ve+(ot-it)*qe)/(Ve*Ve+qe*qe);ut>1?(Je=dt,it=ht):ut>0&&(Je+=Ve*ut,it+=qe*ut)}return(Ve=rt-Je)*Ve+(qe=ot-it)*qe}function me(rt,ot,Je,it){var dt={id:void 0===rt?null:rt,type:ot,geometry:Je,tags:it,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(ht){var Ve=ht.geometry,qe=ht.type;if("Point"===qe||"MultiPoint"===qe||"LineString"===qe)de(ht,Ve);else if("Polygon"===qe||"MultiLineString"===qe)for(var ut=0;ut<Ve.length;ut++)de(ht,Ve[ut]);else if("MultiPolygon"===qe)for(ut=0;ut<Ve.length;ut++)for(var ft=0;ft<Ve[ut].length;ft++)de(ht,Ve[ut][ft])}(dt),dt}function de(rt,ot){for(var Je=0;Je<ot.length;Je+=3)rt.minX=Math.min(rt.minX,ot[Je]),rt.minY=Math.min(rt.minY,ot[Je+1]),rt.maxX=Math.max(rt.maxX,ot[Je]),rt.maxY=Math.max(rt.maxY,ot[Je+1])}function ce(rt,ot,Je,it){if(ot.geometry){var dt=ot.geometry.coordinates,ht=ot.geometry.type,Ve=Math.pow(Je.tolerance/((1<<Je.maxZoom)*Je.extent),2),qe=[],ut=ot.id;if(Je.promoteId?ut=ot.properties[Je.promoteId]:Je.generateId&&(ut=it||0),"Point"===ht)Ae(dt,qe);else if("MultiPoint"===ht)for(var ft=0;ft<dt.length;ft++)Ae(dt[ft],qe);else if("LineString"===ht)Ne(dt,qe,Ve,!1);else if("MultiLineString"===ht){if(Je.lineMetrics){for(ft=0;ft<dt.length;ft++)Ne(dt[ft],qe=[],Ve,!1),rt.push(me(ut,"LineString",qe,ot.properties));return}De(dt,qe,Ve,!1)}else if("Polygon"===ht)De(dt,qe,Ve,!0);else{if("MultiPolygon"!==ht){if("GeometryCollection"===ht){for(ft=0;ft<ot.geometry.geometries.length;ft++)ce(rt,{id:ut,geometry:ot.geometry.geometries[ft],properties:ot.properties},Je,it);return}throw new Error("Input data is not a valid GeoJSON object.")}for(ft=0;ft<dt.length;ft++){var St=[];De(dt[ft],St,Ve,!0),qe.push(St)}}rt.push(me(ut,ht,qe,ot.properties))}}function Ae(rt,ot){ot.push(Ue(rt[0])),ot.push(Ye(rt[1])),ot.push(0)}function Ne(rt,ot,Je,it){for(var dt,ht,Ve=0,qe=0;qe<rt.length;qe++){var ut=Ue(rt[qe][0]),ft=Ye(rt[qe][1]);ot.push(ut),ot.push(ft),ot.push(0),qe>0&&(Ve+=it?(dt*ft-ut*ht)/2:Math.sqrt(Math.pow(ut-dt,2)+Math.pow(ft-ht,2))),dt=ut,ht=ft}var St=ot.length-3;ot[2]=1,ke(ot,0,St,Je),ot[St+2]=1,ot.size=Math.abs(Ve),ot.start=0,ot.end=ot.size}function De(rt,ot,Je,it){for(var dt=0;dt<rt.length;dt++){var ht=[];Ne(rt[dt],ht,Je,it),ot.push(ht)}}function Ue(rt){return rt/360+.5}function Ye(rt){var ot=Math.sin(rt*Math.PI/180),Je=.5-.25*Math.log((1+ot)/(1-ot))/Math.PI;return Je<0?0:Je>1?1:Je}function _e(rt,ot,Je,it,dt,ht,Ve,qe){if(it/=ot,ht>=(Je/=ot)&&Ve<it)return rt;if(Ve<Je||ht>=it)return null;for(var ut=[],ft=0;ft<rt.length;ft++){var St=rt[ft],Mt=St.geometry,Tt=St.type,xt=0===dt?St.minX:St.minY,Nt=0===dt?St.maxX:St.maxY;if(xt>=Je&&Nt<it)ut.push(St);else if(!(Nt<Je||xt>=it)){var bt=[];if("Point"===Tt||"MultiPoint"===Tt)Pe(Mt,bt,Je,it,dt);else if("LineString"===Tt)Ie(Mt,bt,Je,it,dt,!1,qe.lineMetrics);else if("MultiLineString"===Tt)We(Mt,bt,Je,it,dt,!1);else if("Polygon"===Tt)We(Mt,bt,Je,it,dt,!0);else if("MultiPolygon"===Tt)for(var wt=0;wt<Mt.length;wt++){var It=[];We(Mt[wt],It,Je,it,dt,!0),It.length&&bt.push(It)}if(bt.length){if(qe.lineMetrics&&"LineString"===Tt){for(wt=0;wt<bt.length;wt++)ut.push(me(St.id,Tt,bt[wt],St.tags));continue}"LineString"!==Tt&&"MultiLineString"!==Tt||(1===bt.length?(Tt="LineString",bt=bt[0]):Tt="MultiLineString"),"Point"!==Tt&&"MultiPoint"!==Tt||(Tt=3===bt.length?"Point":"MultiPoint"),ut.push(me(St.id,Tt,bt,St.tags))}}}return ut.length?ut:null}function Pe(rt,ot,Je,it,dt){for(var ht=0;ht<rt.length;ht+=3){var Ve=rt[ht+dt];Ve>=Je&&Ve<=it&&(ot.push(rt[ht]),ot.push(rt[ht+1]),ot.push(rt[ht+2]))}}function Ie(rt,ot,Je,it,dt,ht,Ve){for(var qe,ut,ft=Be(rt),St=0===dt?Ke:tt,Mt=rt.start,Tt=0;Tt<rt.length-3;Tt+=3){var xt=rt[Tt],Nt=rt[Tt+1],bt=rt[Tt+2],wt=rt[Tt+3],It=rt[Tt+4],Wt=0===dt?xt:Nt,Yt=0===dt?wt:It,Zt=!1;Ve&&(qe=Math.sqrt(Math.pow(xt-wt,2)+Math.pow(Nt-It,2))),Wt<Je?Yt>Je&&(ut=St(ft,xt,Nt,wt,It,Je),Ve&&(ft.start=Mt+qe*ut)):Wt>it?Yt<it&&(ut=St(ft,xt,Nt,wt,It,it),Ve&&(ft.start=Mt+qe*ut)):Ge(ft,xt,Nt,bt),Yt<Je&&Wt>=Je&&(ut=St(ft,xt,Nt,wt,It,Je),Zt=!0),Yt>it&&Wt<=it&&(ut=St(ft,xt,Nt,wt,It,it),Zt=!0),!ht&&Zt&&(Ve&&(ft.end=Mt+qe*ut),ot.push(ft),ft=Be(rt)),Ve&&(Mt+=qe)}var dn=rt.length-3;xt=rt[dn],Nt=rt[dn+1],bt=rt[dn+2],(Wt=0===dt?xt:Nt)>=Je&&Wt<=it&&Ge(ft,xt,Nt,bt),dn=ft.length-3,ht&&dn>=3&&(ft[dn]!==ft[0]||ft[dn+1]!==ft[1])&&Ge(ft,ft[0],ft[1],ft[2]),ft.length&&ot.push(ft)}function Be(rt){var ot=[];return ot.size=rt.size,ot.start=rt.start,ot.end=rt.end,ot}function We(rt,ot,Je,it,dt,ht){for(var Ve=0;Ve<rt.length;Ve++)Ie(rt[Ve],ot,Je,it,dt,ht,!1)}function Ge(rt,ot,Je,it){rt.push(ot),rt.push(Je),rt.push(it)}function Ke(rt,ot,Je,it,dt,ht){var Ve=(ht-ot)/(it-ot);return rt.push(ht),rt.push(Je+(dt-Je)*Ve),rt.push(1),Ve}function tt(rt,ot,Je,it,dt,ht){var Ve=(ht-Je)/(dt-Je);return rt.push(ot+(it-ot)*Ve),rt.push(ht),rt.push(1),Ve}function st(rt,ot){for(var Je=[],it=0;it<rt.length;it++){var dt,ht=rt[it],Ve=ht.type;if("Point"===Ve||"MultiPoint"===Ve||"LineString"===Ve)dt=gt(ht.geometry,ot);else if("MultiLineString"===Ve||"Polygon"===Ve){dt=[];for(var qe=0;qe<ht.geometry.length;qe++)dt.push(gt(ht.geometry[qe],ot))}else if("MultiPolygon"===Ve)for(dt=[],qe=0;qe<ht.geometry.length;qe++){for(var ut=[],ft=0;ft<ht.geometry[qe].length;ft++)ut.push(gt(ht.geometry[qe][ft],ot));dt.push(ut)}Je.push(me(ht.id,Ve,dt,ht.tags))}return Je}function gt(rt,ot){var Je=[];Je.size=rt.size,void 0!==rt.start&&(Je.start=rt.start,Je.end=rt.end);for(var it=0;it<rt.length;it+=3)Je.push(rt[it]+ot,rt[it+1],rt[it+2]);return Je}function ct(rt,ot){if(rt.transformed)return rt;var Je,it,dt,ht=1<<rt.z,Ve=rt.x,qe=rt.y;for(Je=0;Je<rt.features.length;Je++){var ut=rt.features[Je],ft=ut.geometry,St=ut.type;if(ut.geometry=[],1===St)for(it=0;it<ft.length;it+=2)ut.geometry.push(kt(ft[it],ft[it+1],ot,ht,Ve,qe));else for(it=0;it<ft.length;it++){var Mt=[];for(dt=0;dt<ft[it].length;dt+=2)Mt.push(kt(ft[it][dt],ft[it][dt+1],ot,ht,Ve,qe));ut.geometry.push(Mt)}}return rt.transformed=!0,rt}function kt(rt,ot,Je,it,dt,ht){return[Math.round(Je*(rt*it-dt)),Math.round(Je*(ot*it-ht))]}function Dt(rt,ot,Je,it,dt){for(var ht=ot===dt.maxZoom?0:dt.tolerance/((1<<ot)*dt.extent),Ve={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:Je,y:it,z:ot,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},qe=0;qe<rt.length;qe++){Ve.numFeatures++,vt(Ve,rt[qe],ht,dt);var ut=rt[qe].minX,ft=rt[qe].minY,St=rt[qe].maxX,Mt=rt[qe].maxY;ut<Ve.minX&&(Ve.minX=ut),ft<Ve.minY&&(Ve.minY=ft),St>Ve.maxX&&(Ve.maxX=St),Mt>Ve.maxY&&(Ve.maxY=Mt)}return Ve}function vt(rt,ot,Je,it){var dt=ot.geometry,ht=ot.type,Ve=[];if("Point"===ht||"MultiPoint"===ht)for(var qe=0;qe<dt.length;qe+=3)Ve.push(dt[qe]),Ve.push(dt[qe+1]),rt.numPoints++,rt.numSimplified++;else if("LineString"===ht)mt(Ve,dt,rt,Je,!1,!1);else if("MultiLineString"===ht||"Polygon"===ht)for(qe=0;qe<dt.length;qe++)mt(Ve,dt[qe],rt,Je,"Polygon"===ht,0===qe);else if("MultiPolygon"===ht)for(var ut=0;ut<dt.length;ut++){var ft=dt[ut];for(qe=0;qe<ft.length;qe++)mt(Ve,ft[qe],rt,Je,!0,0===qe)}if(Ve.length){var St=ot.tags||null;if("LineString"===ht&&it.lineMetrics){for(var Mt in St={},ot.tags)St[Mt]=ot.tags[Mt];St.mapbox_clip_start=dt.start/dt.size,St.mapbox_clip_end=dt.end/dt.size}var Tt={geometry:Ve,type:"Polygon"===ht||"MultiPolygon"===ht?3:"LineString"===ht||"MultiLineString"===ht?2:1,tags:St};null!==ot.id&&(Tt.id=ot.id),rt.features.push(Tt)}}function mt(rt,ot,Je,it,dt,ht){var Ve=it*it;if(it>0&&ot.size<(dt?Ve:it))Je.numPoints+=ot.length/3;else{for(var qe=[],ut=0;ut<ot.length;ut+=3)(0===it||ot[ut+2]>Ve)&&(Je.numSimplified++,qe.push(ot[ut]),qe.push(ot[ut+1])),Je.numPoints++;dt&&function(ft,St){for(var Mt=0,Tt=0,xt=ft.length,Nt=xt-2;Tt<xt;Nt=Tt,Tt+=2)Mt+=(ft[Tt]-ft[Nt])*(ft[Tt+1]+ft[Nt+1]);if(Mt>0===St)for(Tt=0,xt=ft.length;Tt<xt/2;Tt+=2){var bt=ft[Tt],wt=ft[Tt+1];ft[Tt]=ft[xt-2-Tt],ft[Tt+1]=ft[xt-1-Tt],ft[xt-2-Tt]=bt,ft[xt-1-Tt]=wt}}(qe,ht),rt.push(qe)}}function Et(rt,ot){var Je=(ot=this.options=function(dt,ht){for(var Ve in ht)dt[Ve]=ht[Ve];return dt}(Object.create(this.options),ot)).debug;if(Je&&console.time("preprocess data"),ot.maxZoom<0||ot.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(ot.promoteId&&ot.generateId)throw new Error("promoteId and generateId cannot be used together.");var dt,ht,Ve,qe,ut,ft,it=function(dt,ht){var Ve=[];if("FeatureCollection"===dt.type)for(var qe=0;qe<dt.features.length;qe++)ce(Ve,dt.features[qe],ht,qe);else ce(Ve,"Feature"===dt.type?dt:{geometry:dt},ht);return Ve}(rt,ot);this.tiles={},this.tileCoords=[],Je&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",ot.indexMaxZoom,ot.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),(dt=it,ht=ot,Ve=ht.buffer/ht.extent,qe=dt,ut=_e(dt,1,-1-Ve,Ve,0,-1,2,ht),ft=_e(dt,1,1-Ve,2+Ve,0,-1,2,ht),(ut||ft)&&(qe=_e(dt,1,-Ve,1+Ve,0,-1,2,ht)||[],ut&&(qe=st(ut,1).concat(qe)),ft&&(qe=qe.concat(st(ft,-1)))),it=qe).length&&this.splitTile(it,0,0,0),Je&&(it.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function Lt(rt,ot,Je){return 32*((1<<rt)*Je+ot)+rt}function Rt(rt,ot){var Je=rt.tileID.canonical;if(!this._geoJSONIndex)return ot(null,null);var it=this._geoJSONIndex.getTile(Je.z,Je.x,Je.y);if(!it)return ot(null,null);var dt=new g(it.features),ht=m(dt);0===ht.byteOffset&&ht.byteLength===ht.buffer.byteLength||(ht=new Uint8Array(ht)),ot(null,{vectorTile:dt,rawData:ht.buffer})}ue.prototype.load=function(rt){var ot=this.options,Je=ot.log,it=ot.minZoom,dt=ot.maxZoom,ht=ot.nodeSize;Je&&console.time("total time");var Ve="prepare "+rt.length+" points";Je&&console.time(Ve),this.points=rt;for(var qe=[],ut=0;ut<rt.length;ut++)rt[ut].geometry&&qe.push(pe(rt[ut],ut));this.trees[dt+1]=new ne(qe,we,ze,ht,Float32Array),Je&&console.timeEnd(Ve);for(var ft=dt;ft>=it;ft--){var St=+Date.now();qe=this._cluster(qe,ft),this.trees[ft]=new ne(qe,we,ze,ht,Float32Array),Je&&console.log("z%d: %d clusters in %dms",ft,qe.length,+Date.now()-St)}return Je&&console.timeEnd("total time"),this},ue.prototype.getClusters=function(rt,ot){var Je=((rt[0]+180)%360+360)%360-180,it=Math.max(-90,Math.min(90,rt[1])),dt=180===rt[2]?180:((rt[2]+180)%360+360)%360-180,ht=Math.max(-90,Math.min(90,rt[3]));if(rt[2]-rt[0]>=360)Je=-180,dt=180;else if(Je>dt){var Ve=this.getClusters([Je,it,180,ht],ot),qe=this.getClusters([-180,it,dt,ht],ot);return Ve.concat(qe)}for(var ut=this.trees[this._limitZoom(ot)],ft=[],St=0,Mt=ut.range(Se(Je),Te(ht),Se(dt),Te(it));St<Mt.length;St+=1){var xt=ut.points[Mt[St]];ft.push(xt.numPoints?ge(xt):this.points[xt.index])}return ft},ue.prototype.getChildren=function(rt){var ot=this._getOriginId(rt),Je=this._getOriginZoom(rt),it="No cluster with the specified id.",dt=this.trees[Je];if(!dt)throw new Error(it);var ht=dt.points[ot];if(!ht)throw new Error(it);for(var Ve=this.options.radius/(this.options.extent*Math.pow(2,Je-1)),qe=[],ut=0,ft=dt.within(ht.x,ht.y,Ve);ut<ft.length;ut+=1){var Mt=dt.points[ft[ut]];Mt.parentId===rt&&qe.push(Mt.numPoints?ge(Mt):this.points[Mt.index])}if(0===qe.length)throw new Error(it);return qe},ue.prototype.getLeaves=function(rt,ot,Je){var it=[];return this._appendLeaves(it,rt,ot=ot||10,Je=Je||0,0),it},ue.prototype.getTile=function(rt,ot,Je){var it=this.trees[this._limitZoom(rt)],dt=Math.pow(2,rt),ht=this.options,qe=ht.radius/ht.extent,ut=(Je-qe)/dt,ft=(Je+1+qe)/dt,St={features:[]};return this._addTileFeatures(it.range((ot-qe)/dt,ut,(ot+1+qe)/dt,ft),it.points,ot,Je,dt,St),0===ot&&this._addTileFeatures(it.range(1-qe/dt,ut,1,ft),it.points,dt,Je,dt,St),ot===dt-1&&this._addTileFeatures(it.range(0,ut,qe/dt,ft),it.points,-1,Je,dt,St),St.features.length?St:null},ue.prototype.getClusterExpansionZoom=function(rt){for(var ot=this._getOriginZoom(rt)-1;ot<=this.options.maxZoom;){var Je=this.getChildren(rt);if(ot++,1!==Je.length)break;rt=Je[0].properties.cluster_id}return ot},ue.prototype._appendLeaves=function(rt,ot,Je,it,dt){for(var ht=0,Ve=this.getChildren(ot);ht<Ve.length;ht+=1){var qe=Ve[ht],ut=qe.properties;if(ut&&ut.cluster?dt+ut.point_count<=it?dt+=ut.point_count:dt=this._appendLeaves(rt,ut.cluster_id,Je,it,dt):dt<it?dt++:rt.push(qe),rt.length===Je)break}return dt},ue.prototype._addTileFeatures=function(rt,ot,Je,it,dt,ht){for(var Ve=0,qe=rt;Ve<qe.length;Ve+=1){var ut=ot[qe[Ve]],ft=ut.numPoints,St={type:1,geometry:[[Math.round(this.options.extent*(ut.x*dt-Je)),Math.round(this.options.extent*(ut.y*dt-it))]],tags:ft?xe(ut):this.points[ut.index].properties},Mt=void 0;ft?Mt=ut.id:this.options.generateId?Mt=ut.index:this.points[ut.index].id&&(Mt=this.points[ut.index].id),void 0!==Mt&&(St.id=Mt),ht.features.push(St)}},ue.prototype._limitZoom=function(rt){return Math.max(this.options.minZoom,Math.min(rt,this.options.maxZoom+1))},ue.prototype._cluster=function(rt,ot){for(var Je=[],it=this.options,Ve=it.reduce,qe=it.radius/(it.extent*Math.pow(2,ot)),ut=0;ut<rt.length;ut++){var ft=rt[ut];if(!(ft.zoom<=ot)){ft.zoom=ot;for(var St=this.trees[ot+1],Mt=St.within(ft.x,ft.y,qe),Tt=ft.numPoints||1,xt=ft.x*Tt,Nt=ft.y*Tt,bt=Ve&&Tt>1?this._map(ft,!0):null,wt=(ut<<5)+(ot+1)+this.points.length,It=0,Wt=Mt;It<Wt.length;It+=1){var Zt=St.points[Wt[It]];if(!(Zt.zoom<=ot)){Zt.zoom=ot;var dn=Zt.numPoints||1;xt+=Zt.x*dn,Nt+=Zt.y*dn,Tt+=dn,Zt.parentId=wt,Ve&&(bt||(bt=this._map(ft,!0)),Ve(bt,this._map(Zt)))}}1===Tt?Je.push(ft):(ft.parentId=wt,Je.push(he(xt/Tt,Nt/Tt,wt,Tt,bt)))}}return Je},ue.prototype._getOriginId=function(rt){return rt-this.points.length>>5},ue.prototype._getOriginZoom=function(rt){return(rt-this.points.length)%32},ue.prototype._map=function(rt,ot){if(rt.numPoints)return ot?ye({},rt.properties):rt.properties;var Je=this.points[rt.index].properties,it=this.options.map(Je);return ot&&it===Je?ye({},it):it},Et.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},Et.prototype.splitTile=function(rt,ot,Je,it,dt,ht,Ve){for(var qe=[rt,ot,Je,it],ut=this.options,ft=ut.debug;qe.length;){it=qe.pop(),Je=qe.pop(),ot=qe.pop(),rt=qe.pop();var St=1<<ot,Mt=Lt(ot,Je,it),Tt=this.tiles[Mt];if(!Tt&&(ft>1&&console.time("creation"),Tt=this.tiles[Mt]=Dt(rt,ot,Je,it,ut),this.tileCoords.push({z:ot,x:Je,y:it}),ft)){ft>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",ot,Je,it,Tt.numFeatures,Tt.numPoints,Tt.numSimplified),console.timeEnd("creation"));var xt="z"+ot;this.stats[xt]=(this.stats[xt]||0)+1,this.total++}if(Tt.source=rt,dt){if(ot===ut.maxZoom||ot===dt)continue;var Nt=1<<dt-ot;if(Je!==Math.floor(ht/Nt)||it!==Math.floor(Ve/Nt))continue}else if(ot===ut.indexMaxZoom||Tt.numPoints<=ut.indexMaxPoints)continue;if(Tt.source=null,0!==rt.length){ft>1&&console.time("clipping");var bt,wt,It,Wt,Yt,Zt,dn=.5*ut.buffer/ut.extent,nn=.5-dn,un=.5+dn,rn=1+dn;bt=wt=It=Wt=null,Yt=_e(rt,St,Je-dn,Je+un,0,Tt.minX,Tt.maxX,ut),Zt=_e(rt,St,Je+nn,Je+rn,0,Tt.minX,Tt.maxX,ut),rt=null,Yt&&(bt=_e(Yt,St,it-dn,it+un,1,Tt.minY,Tt.maxY,ut),wt=_e(Yt,St,it+nn,it+rn,1,Tt.minY,Tt.maxY,ut),Yt=null),Zt&&(It=_e(Zt,St,it-dn,it+un,1,Tt.minY,Tt.maxY,ut),Wt=_e(Zt,St,it+nn,it+rn,1,Tt.minY,Tt.maxY,ut),Zt=null),ft>1&&console.timeEnd("clipping"),qe.push(bt||[],ot+1,2*Je,2*it),qe.push(wt||[],ot+1,2*Je,2*it+1),qe.push(It||[],ot+1,2*Je+1,2*it),qe.push(Wt||[],ot+1,2*Je+1,2*it+1)}}},Et.prototype.getTile=function(rt,ot,Je){var it=this.options,dt=it.extent,ht=it.debug;if(rt<0||rt>24)return null;var Ve=1<<rt,qe=Lt(rt,ot=(ot%Ve+Ve)%Ve,Je);if(this.tiles[qe])return ct(this.tiles[qe],dt);ht>1&&console.log("drilling down to z%d-%d-%d",rt,ot,Je);for(var ut,ft=rt,St=ot,Mt=Je;!ut&&ft>0;)ft--,St=Math.floor(St/2),Mt=Math.floor(Mt/2),ut=this.tiles[Lt(ft,St,Mt)];return ut&&ut.source?(ht>1&&console.log("found parent tile z%d-%d-%d",ft,St,Mt),ht>1&&console.time("drilling down"),this.splitTile(ut.source,ft,St,Mt,rt,ot,Je),ht>1&&console.timeEnd("drilling down"),this.tiles[qe]?ct(this.tiles[qe],dt):null):null};var Ut=function(rt){function ot(Je,it,dt,ht){rt.call(this,Je,it,dt,Rt),ht&&(this.loadGeoJSON=ht)}return rt&&(ot.__proto__=rt),(ot.prototype=Object.create(rt&&rt.prototype)).constructor=ot,ot.prototype.loadData=function(Je,it){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),this._pendingCallback=it,this._pendingLoadDataParams=Je,this._state&&"Idle"!==this._state?this._state="NeedsLoadData":(this._state="Coalescing",this._loadData())},ot.prototype._loadData=function(){var Je=this;if(this._pendingCallback&&this._pendingLoadDataParams){var it=this._pendingCallback,dt=this._pendingLoadDataParams;delete this._pendingCallback,delete this._pendingLoadDataParams;var ht=!!(dt&&dt.request&&dt.request.collectResourceTiming)&&new f.RequestPerformance(dt.request);this.loadGeoJSON(dt,function(Ve,qe){if(Ve||!qe)return it(Ve);if("object"!=typeof qe)return it(new Error("Input data given to '"+dt.source+"' is not a valid GeoJSON object."));h(qe,!0);try{Je._geoJSONIndex=dt.cluster?new ue(function(St){var Mt=St.superclusterOptions,Tt=St.clusterProperties;if(!Tt||!Mt)return Mt;for(var xt={},Nt={},bt={accumulated:null,zoom:0},wt={properties:null},It=Object.keys(Tt),Wt=0,Yt=It;Wt<Yt.length;Wt+=1){var Zt=Yt[Wt],dn=Tt[Zt],nn=dn[0],rn=f.createExpression(dn[1]),kn=f.createExpression("string"==typeof nn?[nn,["accumulated"],["get",Zt]]:nn);xt[Zt]=rn.value,Nt[Zt]=kn.value}return Mt.map=function(Pn){wt.properties=Pn;for(var Sn={},en=0,vn=It;en<vn.length;en+=1){var hn=vn[en];Sn[hn]=xt[hn].evaluate(bt,wt)}return Sn},Mt.reduce=function(Pn,Sn){wt.properties=Sn;for(var en=0,vn=It;en<vn.length;en+=1){var hn=vn[en];bt.accumulated=Pn[hn],Pn[hn]=Nt[hn].evaluate(bt,wt)}},Mt}(dt)).load(qe.features):new Et(St=qe,dt.geojsonVtOptions)}catch(St){return it(St)}var St;Je.loaded={};var ut={};if(ht){var ft=ht.finish();ft&&(ut.resourceTiming={},ut.resourceTiming[dt.source]=JSON.parse(JSON.stringify(ft)))}it(null,ut)})}},ot.prototype.coalesce=function(){"Coalescing"===this._state?this._state="Idle":"NeedsLoadData"===this._state&&(this._state="Coalescing",this._loadData())},ot.prototype.reloadTile=function(Je,it){var dt=this.loaded;return dt&&dt[Je.uid]?rt.prototype.reloadTile.call(this,Je,it):this.loadTile(Je,it)},ot.prototype.loadGeoJSON=function(Je,it){if(Je.request)f.getJSON(Je.request,it);else{if("string"!=typeof Je.data)return it(new Error("Input data given to '"+Je.source+"' is not a valid GeoJSON object."));try{return it(null,JSON.parse(Je.data))}catch{return it(new Error("Input data given to '"+Je.source+"' is not a valid GeoJSON object."))}}},ot.prototype.removeSource=function(Je,it){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),it()},ot.prototype.getClusterExpansionZoom=function(Je,it){try{it(null,this._geoJSONIndex.getClusterExpansionZoom(Je.clusterId))}catch(dt){it(dt)}},ot.prototype.getClusterChildren=function(Je,it){try{it(null,this._geoJSONIndex.getChildren(Je.clusterId))}catch(dt){it(dt)}},ot.prototype.getClusterLeaves=function(Je,it){try{it(null,this._geoJSONIndex.getLeaves(Je.clusterId,Je.limit,Je.offset))}catch(dt){it(dt)}},ot}(o),Bt=function(rt){var ot=this;this.self=rt,this.actor=new f.Actor(rt,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:o,geojson:Ut},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=function(Je,it){if(ot.workerSourceTypes[Je])throw new Error('Worker source with name "'+Je+'" already registered.');ot.workerSourceTypes[Je]=it},this.self.registerRTLTextPlugin=function(Je){if(f.plugin.isParsed())throw new Error("RTL text plugin already registered.");f.plugin.applyArabicShaping=Je.applyArabicShaping,f.plugin.processBidirectionalText=Je.processBidirectionalText,f.plugin.processStyledBidirectionalText=Je.processStyledBidirectionalText}};return Bt.prototype.setReferrer=function(rt,ot){this.referrer=ot},Bt.prototype.setImages=function(rt,ot,Je){for(var it in this.availableImages[rt]=ot,this.workerSources[rt]){var dt=this.workerSources[rt][it];for(var ht in dt)dt[ht].availableImages=ot}Je()},Bt.prototype.setLayers=function(rt,ot,Je){this.getLayerIndex(rt).replace(ot),Je()},Bt.prototype.updateLayers=function(rt,ot,Je){this.getLayerIndex(rt).update(ot.layers,ot.removedIds),Je()},Bt.prototype.loadTile=function(rt,ot,Je){this.getWorkerSource(rt,ot.type,ot.source).loadTile(ot,Je)},Bt.prototype.loadDEMTile=function(rt,ot,Je){this.getDEMWorkerSource(rt,ot.source).loadTile(ot,Je)},Bt.prototype.reloadTile=function(rt,ot,Je){this.getWorkerSource(rt,ot.type,ot.source).reloadTile(ot,Je)},Bt.prototype.abortTile=function(rt,ot,Je){this.getWorkerSource(rt,ot.type,ot.source).abortTile(ot,Je)},Bt.prototype.removeTile=function(rt,ot,Je){this.getWorkerSource(rt,ot.type,ot.source).removeTile(ot,Je)},Bt.prototype.removeDEMTile=function(rt,ot){this.getDEMWorkerSource(rt,ot.source).removeTile(ot)},Bt.prototype.removeSource=function(rt,ot,Je){if(this.workerSources[rt]&&this.workerSources[rt][ot.type]&&this.workerSources[rt][ot.type][ot.source]){var it=this.workerSources[rt][ot.type][ot.source];delete this.workerSources[rt][ot.type][ot.source],void 0!==it.removeSource?it.removeSource(ot,Je):Je()}},Bt.prototype.loadWorkerSource=function(rt,ot,Je){try{this.self.importScripts(ot.url),Je()}catch(it){Je(it.toString())}},Bt.prototype.syncRTLPluginState=function(rt,ot,Je){try{f.plugin.setState(ot);var it=f.plugin.getPluginURL();if(f.plugin.isLoaded()&&!f.plugin.isParsed()&&null!=it){this.self.importScripts(it);var dt=f.plugin.isParsed();Je(dt?void 0:new Error("RTL Text Plugin failed to import scripts from "+it),dt)}}catch(ht){Je(ht.toString())}},Bt.prototype.getAvailableImages=function(rt){var ot=this.availableImages[rt];return ot||(ot=[]),ot},Bt.prototype.getLayerIndex=function(rt){var ot=this.layerIndexes[rt];return ot||(ot=this.layerIndexes[rt]=new y),ot},Bt.prototype.getWorkerSource=function(rt,ot,Je){var it=this;return this.workerSources[rt]||(this.workerSources[rt]={}),this.workerSources[rt][ot]||(this.workerSources[rt][ot]={}),this.workerSources[rt][ot][Je]||(this.workerSources[rt][ot][Je]=new this.workerSourceTypes[ot]({send:function(ht,Ve,qe){it.actor.send(ht,Ve,qe,rt)}},this.getLayerIndex(rt),this.getAvailableImages(rt))),this.workerSources[rt][ot][Je]},Bt.prototype.getDEMWorkerSource=function(rt,ot){return this.demWorkerSources[rt]||(this.demWorkerSources[rt]={}),this.demWorkerSources[rt][ot]||(this.demWorkerSources[rt][ot]=new c),this.demWorkerSources[rt][ot]},Bt.prototype.enforceCacheSizeLimit=function(rt,ot){f.enforceCacheSizeLimit(ot)},typeof WorkerGlobalScope<"u"&&void 0!==f.window&&f.window instanceof WorkerGlobalScope&&(f.window.worker=new Bt(f.window)),Bt}),E(0,function(f){var S=f.createCommonjsModule(function(V){function $(be){return!W(be)}function W(be){return typeof window<"u"&&typeof document<"u"?Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray?Function.prototype&&Function.prototype.bind?Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions?"JSON"in window&&"parse"in JSON&&"stringify"in JSON?function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var H,ie,fe=new Blob([""],{type:"text/javascript"}),Me=URL.createObjectURL(fe);try{ie=new Worker(Me),H=!0}catch{H=!1}return ie&&ie.terminate(),URL.revokeObjectURL(Me),H}()?"Uint8ClampedArray"in window?ArrayBuffer.isView?function(){var H=document.createElement("canvas");H.width=H.height=1;var ie=H.getContext("2d");if(!ie)return!1;var fe=ie.getImageData(0,0,1,1);return fe&&fe.width===H.width}()?(void 0===te[Re=be&&be.failIfMajorPerformanceCaveat]&&(te[Re]=function(H){var Me,Ce,Fe,ie=(Me=H,Ce=document.createElement("canvas"),(Fe=Object.create($.webGLContextAttributes)).failIfMajorPerformanceCaveat=Me,Ce.probablySupportsContext?Ce.probablySupportsContext("webgl",Fe)||Ce.probablySupportsContext("experimental-webgl",Fe):Ce.supportsContext?Ce.supportsContext("webgl",Fe)||Ce.supportsContext("experimental-webgl",Fe):Ce.getContext("webgl",Fe)||Ce.getContext("experimental-webgl",Fe));if(!ie)return!1;var fe=ie.createShader(ie.VERTEX_SHADER);return!(!fe||ie.isContextLost())&&(ie.shaderSource(fe,"void main() {}"),ie.compileShader(fe),!0===ie.getShaderParameter(fe,ie.COMPILE_STATUS))}(Re)),te[Re]?void 0:"insufficient WebGL support"):"insufficient Canvas/getImageData support":"insufficient ArrayBuffer support":"insufficient Uint8ClampedArray support":"insufficient worker support":"insufficient JSON support":"insufficient Object support":"insufficient Function support":"insufficent Array support":"not a browser";var Re}V.exports?V.exports=$:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=$,window.mapboxgl.notSupportedReason=W);var te={};$.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0}}),M={create:function(V,$,W){var te=f.window.document.createElement(V);return void 0!==$&&(te.className=$),W&&W.appendChild(te),te},createNS:function(V,$){return f.window.document.createElementNS(V,$)}},y=f.window.document.documentElement.style;function u(V){if(!y)return V[0];for(var $=0;$<V.length;$++)if(V[$]in y)return V[$];return V[0]}var i,s=u(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]);M.disableDrag=function(){y&&s&&(i=y[s],y[s]="none")},M.enableDrag=function(){y&&s&&(y[s]=i)};var a=u(["transform","WebkitTransform"]);M.setTransform=function(V,$){V.style[a]=$};var o=!1;try{var l=Object.defineProperty({},"passive",{get:function(){o=!0}});f.window.addEventListener("test",l,l),f.window.removeEventListener("test",l,l)}catch{o=!1}M.addEventListener=function(V,$,W,te){void 0===te&&(te={}),V.addEventListener($,W,"passive"in te&&o?te:te.capture)},M.removeEventListener=function(V,$,W,te){void 0===te&&(te={}),V.removeEventListener($,W,"passive"in te&&o?te:te.capture)};var c=function(V){V.preventDefault(),V.stopPropagation(),f.window.removeEventListener("click",c,!0)};function h(V){var $=V.userImage;return!!($&&$.render&&$.render())&&(V.data.replace(new Uint8Array($.data.buffer)),!0)}M.suppressClick=function(){f.window.addEventListener("click",c,!0),f.window.setTimeout(function(){f.window.removeEventListener("click",c,!0)},0)},M.mousePos=function(V,$){var W=V.getBoundingClientRect();return new f.Point($.clientX-W.left-V.clientLeft,$.clientY-W.top-V.clientTop)},M.touchPos=function(V,$){for(var W=V.getBoundingClientRect(),te=[],be=0;be<$.length;be++)te.push(new f.Point($[be].clientX-W.left-V.clientLeft,$[be].clientY-W.top-V.clientTop));return te},M.mouseButton=function(V){return void 0!==f.window.InstallTrigger&&2===V.button&&V.ctrlKey&&f.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:V.button},M.remove=function(V){V.parentNode&&V.parentNode.removeChild(V)};var v=function(V){function $(){V.call(this),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new f.RGBAImage({width:1,height:1}),this.dirty=!0}return V&&($.__proto__=V),($.prototype=Object.create(V&&V.prototype)).constructor=$,$.prototype.isLoaded=function(){return this.loaded},$.prototype.setLoaded=function(W){if(this.loaded!==W&&(this.loaded=W,W)){for(var te=0,be=this.requestors;te<be.length;te+=1){var Re=be[te];this._notify(Re.ids,Re.callback)}this.requestors=[]}},$.prototype.getImage=function(W){return this.images[W]},$.prototype.addImage=function(W,te){this._validate(W,te)&&(this.images[W]=te)},$.prototype._validate=function(W,te){var be=!0;return this._validateStretch(te.stretchX,te.data&&te.data.width)||(this.fire(new f.ErrorEvent(new Error('Image "'+W+'" has invalid "stretchX" value'))),be=!1),this._validateStretch(te.stretchY,te.data&&te.data.height)||(this.fire(new f.ErrorEvent(new Error('Image "'+W+'" has invalid "stretchY" value'))),be=!1),this._validateContent(te.content,te)||(this.fire(new f.ErrorEvent(new Error('Image "'+W+'" has invalid "content" value'))),be=!1),be},$.prototype._validateStretch=function(W,te){if(!W)return!0;for(var be=0,Re=0,H=W;Re<H.length;Re+=1){var ie=H[Re];if(ie[0]<be||ie[1]<ie[0]||te<ie[1])return!1;be=ie[1]}return!0},$.prototype._validateContent=function(W,te){return!(W&&(4!==W.length||W[0]<0||te.data.width<W[0]||W[1]<0||te.data.height<W[1]||W[2]<0||te.data.width<W[2]||W[3]<0||te.data.height<W[3]||W[2]<W[0]||W[3]<W[1]))},$.prototype.updateImage=function(W,te){te.version=this.images[W].version+1,this.images[W]=te,this.updatedImages[W]=!0},$.prototype.removeImage=function(W){var te=this.images[W];delete this.images[W],delete this.patterns[W],te.userImage&&te.userImage.onRemove&&te.userImage.onRemove()},$.prototype.listImages=function(){return Object.keys(this.images)},$.prototype.getImages=function(W,te){var be=!0;if(!this.isLoaded())for(var Re=0,H=W;Re<H.length;Re+=1)this.images[H[Re]]||(be=!1);this.isLoaded()||be?this._notify(W,te):this.requestors.push({ids:W,callback:te})},$.prototype._notify=function(W,te){for(var be={},Re=0,H=W;Re<H.length;Re+=1){var ie=H[Re];this.images[ie]||this.fire(new f.Event("styleimagemissing",{id:ie}));var fe=this.images[ie];fe?be[ie]={data:fe.data.clone(),pixelRatio:fe.pixelRatio,sdf:fe.sdf,version:fe.version,stretchX:fe.stretchX,stretchY:fe.stretchY,content:fe.content,hasRenderCallback:!(!fe.userImage||!fe.userImage.render)}:f.warnOnce('Image "'+ie+'" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.')}te(null,be)},$.prototype.getPixelSize=function(){var W=this.atlasImage;return{width:W.width,height:W.height}},$.prototype.getPattern=function(W){var te=this.patterns[W],be=this.getImage(W);if(!be)return null;if(te&&te.position.version===be.version)return te.position;if(te)te.position.version=be.version;else{var Re={w:be.data.width+2,h:be.data.height+2,x:0,y:0},H=new f.ImagePosition(Re,be);this.patterns[W]={bin:Re,position:H}}return this._updatePatternAtlas(),this.patterns[W].position},$.prototype.bind=function(W){var te=W.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new f.Texture(W,this.atlasImage,te.RGBA),this.atlasTexture.bind(te.LINEAR,te.CLAMP_TO_EDGE)},$.prototype._updatePatternAtlas=function(){var W=[];for(var te in this.patterns)W.push(this.patterns[te].bin);var be=f.potpack(W),Re=be.w,H=be.h,ie=this.atlasImage;for(var fe in ie.resize({width:Re||1,height:H||1}),this.patterns){var Me=this.patterns[fe].bin,Ce=Me.x+1,Fe=Me.y+1,$e=this.images[fe].data,Xe=$e.width,Qe=$e.height;f.RGBAImage.copy($e,ie,{x:0,y:0},{x:Ce,y:Fe},{width:Xe,height:Qe}),f.RGBAImage.copy($e,ie,{x:0,y:Qe-1},{x:Ce,y:Fe-1},{width:Xe,height:1}),f.RGBAImage.copy($e,ie,{x:0,y:0},{x:Ce,y:Fe+Qe},{width:Xe,height:1}),f.RGBAImage.copy($e,ie,{x:Xe-1,y:0},{x:Ce-1,y:Fe},{width:1,height:Qe}),f.RGBAImage.copy($e,ie,{x:0,y:0},{x:Ce+Xe,y:Fe},{width:1,height:Qe})}this.dirty=!0},$.prototype.beginFrame=function(){this.callbackDispatchedThisFrame={}},$.prototype.dispatchRenderCallbacks=function(W){for(var te=0,be=W;te<be.length;te+=1){var Re=be[te];if(!this.callbackDispatchedThisFrame[Re]){this.callbackDispatchedThisFrame[Re]=!0;var H=this.images[Re];h(H)&&this.updateImage(Re,H)}}},$}(f.Evented),p=g,T=g,_=1e20;function g(V,$,W,te,be,Re){this.fontSize=V||24,this.buffer=void 0===$?3:$,this.cutoff=te||.25,this.fontFamily=be||"sans-serif",this.fontWeight=Re||"normal",this.radius=W||8;var H=this.size=this.fontSize+2*this.buffer;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=H,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(H*H),this.gridInner=new Float64Array(H*H),this.f=new Float64Array(H),this.d=new Float64Array(H),this.z=new Float64Array(H+1),this.v=new Int16Array(H),this.middle=Math.round(H/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function w(V,$,W,te,be,Re,H){for(var ie=0;ie<$;ie++){for(var fe=0;fe<W;fe++)te[fe]=V[fe*$+ie];for(x(te,be,Re,H,W),fe=0;fe<W;fe++)V[fe*$+ie]=be[fe]}for(fe=0;fe<W;fe++){for(ie=0;ie<$;ie++)te[ie]=V[fe*$+ie];for(x(te,be,Re,H,$),ie=0;ie<$;ie++)V[fe*$+ie]=Math.sqrt(be[ie])}}function x(V,$,W,te,be){W[0]=0,te[0]=-_,te[1]=+_;for(var Re=1,H=0;Re<be;Re++){for(var ie=(V[Re]+Re*Re-(V[W[H]]+W[H]*W[H]))/(2*Re-2*W[H]);ie<=te[H];)H--,ie=(V[Re]+Re*Re-(V[W[H]]+W[H]*W[H]))/(2*Re-2*W[H]);W[++H]=Re,te[H]=ie,te[H+1]=+_}for(Re=0,H=0;Re<be;Re++){for(;te[H+1]<Re;)H++;$[Re]=(Re-W[H])*(Re-W[H])+V[W[H]]}}g.prototype.draw=function(V){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(V,this.buffer,this.middle);for(var $=this.ctx.getImageData(0,0,this.size,this.size),W=new Uint8ClampedArray(this.size*this.size),te=0;te<this.size*this.size;te++){var be=$.data[4*te+3]/255;this.gridOuter[te]=1===be?0:0===be?_:Math.pow(Math.max(0,.5-be),2),this.gridInner[te]=1===be?_:0===be?0:Math.pow(Math.max(0,be-.5),2)}for(w(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),w(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),te=0;te<this.size*this.size;te++)W[te]=Math.max(0,Math.min(255,Math.round(255-255*((this.gridOuter[te]-this.gridInner[te])/this.radius+this.cutoff))));return W},p.default=T;var b=function(V,$){this.requestManager=V,this.localIdeographFontFamily=$,this.entries={}};b.prototype.setURL=function(V){this.url=V},b.prototype.getGlyphs=function(V,$){var W=this,te=[];for(var be in V)for(var Re=0,H=V[be];Re<H.length;Re+=1)te.push({stack:be,id:H[Re]});f.asyncAll(te,function(fe,Me){var Ce=fe.stack,Fe=fe.id,$e=W.entries[Ce];$e||($e=W.entries[Ce]={glyphs:{},requests:{},ranges:{}});var Xe=$e.glyphs[Fe];if(void 0===Xe){if(Xe=W._tinySDF($e,Ce,Fe))return $e.glyphs[Fe]=Xe,void Me(null,{stack:Ce,id:Fe,glyph:Xe});var Qe=Math.floor(Fe/256);if(256*Qe>65535)Me(new Error("glyphs > 65535 not supported"));else if($e.ranges[Qe])Me(null,{stack:Ce,id:Fe,glyph:Xe});else{var nt=$e.requests[Qe];nt||(nt=$e.requests[Qe]=[],b.loadGlyphRange(Ce,Qe,W.url,W.requestManager,function(lt,_t){if(_t){for(var At in _t)W._doesCharSupportLocalGlyph(+At)||($e.glyphs[+At]=_t[+At]);$e.ranges[Qe]=!0}for(var jt=0,Ht=nt;jt<Ht.length;jt+=1)(0,Ht[jt])(lt,_t);delete $e.requests[Qe]})),nt.push(function(lt,_t){lt?Me(lt):_t&&Me(null,{stack:Ce,id:Fe,glyph:_t[Fe]||null})})}}else Me(null,{stack:Ce,id:Fe,glyph:Xe})},function(fe,Me){if(fe)$(fe);else if(Me){for(var Ce={},Fe=0,$e=Me;Fe<$e.length;Fe+=1){var Xe=$e[Fe],Qe=Xe.stack,nt=Xe.id,lt=Xe.glyph;(Ce[Qe]||(Ce[Qe]={}))[nt]=lt&&{id:lt.id,bitmap:lt.bitmap.clone(),metrics:lt.metrics}}$(null,Ce)}})},b.prototype._doesCharSupportLocalGlyph=function(V){return!!this.localIdeographFontFamily&&(f.isChar["CJK Unified Ideographs"](V)||f.isChar["Hangul Syllables"](V)||f.isChar.Hiragana(V)||f.isChar.Katakana(V))},b.prototype._tinySDF=function(V,$,W){var te=this.localIdeographFontFamily;if(te&&this._doesCharSupportLocalGlyph(W)){var be=V.tinySDF;if(!be){var Re="400";/bold/i.test($)?Re="900":/medium/i.test($)?Re="500":/light/i.test($)&&(Re="200"),be=V.tinySDF=new b.TinySDF(24,3,8,.25,te,Re)}return{id:W,bitmap:new f.AlphaImage({width:30,height:30},be.draw(String.fromCharCode(W))),metrics:{width:24,height:24,left:0,top:-8,advance:24}}}},b.loadGlyphRange=function(V,$,W,te,be){var Re=256*$,H=Re+255,ie=te.transformRequest(te.normalizeGlyphsURL(W).replace("{fontstack}",V).replace("{range}",Re+"-"+H),f.ResourceType.Glyphs);f.getArrayBuffer(ie,function(fe,Me){if(fe)be(fe);else if(Me){for(var Ce={},Fe=0,$e=f.parseGlyphPBF(Me);Fe<$e.length;Fe+=1){var Xe=$e[Fe];Ce[Xe.id]=Xe}be(null,Ce)}})},b.TinySDF=p;var A=function(){this.specification=f.styleSpec.light.position};A.prototype.possiblyEvaluate=function(V,$){return f.sphericalToCartesian(V.expression.evaluate($))},A.prototype.interpolate=function(V,$,W){return{x:f.number(V.x,$.x,W),y:f.number(V.y,$.y,W),z:f.number(V.z,$.z,W)}};var m=new f.Properties({anchor:new f.DataConstantProperty(f.styleSpec.light.anchor),position:new A,color:new f.DataConstantProperty(f.styleSpec.light.color),intensity:new f.DataConstantProperty(f.styleSpec.light.intensity)}),k=function(V){function $(W){V.call(this),this._transitionable=new f.Transitionable(m),this.setLight(W),this._transitioning=this._transitionable.untransitioned()}return V&&($.__proto__=V),($.prototype=Object.create(V&&V.prototype)).constructor=$,$.prototype.getLight=function(){return this._transitionable.serialize()},$.prototype.setLight=function(W,te){if(void 0===te&&(te={}),!this._validate(f.validateLight,W,te))for(var be in W){var Re=W[be];f.endsWith(be,"-transition")?this._transitionable.setTransition(be.slice(0,-11),Re):this._transitionable.setValue(be,Re)}},$.prototype.updateTransitions=function(W){this._transitioning=this._transitionable.transitioned(W,this._transitioning)},$.prototype.hasTransition=function(){return this._transitioning.hasTransition()},$.prototype.recalculate=function(W){this.properties=this._transitioning.possiblyEvaluate(W)},$.prototype._validate=function(W,te,be){return(!be||!1!==be.validate)&&f.emitValidationErrors(this,W.call(f.validateStyle,f.extend({value:te,style:{glyphs:!0,sprite:!0},styleSpec:f.styleSpec})))},$}(f.Evented),P=function(V,$){this.width=V,this.height=$,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}};P.prototype.getDash=function(V,$){var W=V.join(",")+String($);return this.dashEntry[W]||(this.dashEntry[W]=this.addDash(V,$)),this.dashEntry[W]},P.prototype.getDashRanges=function(V,$,W){var te=[],be=V.length%2==1?-V[V.length-1]*W:0,Re=V[0]*W,H=!0;te.push({left:be,right:Re,isDash:H,zeroLength:0===V[0]});for(var ie=V[0],fe=1;fe<V.length;fe++){var Me=V[fe];be=ie*W,Re=(ie+=Me)*W,te.push({left:be,right:Re,isDash:H=!H,zeroLength:0===Me})}return te},P.prototype.addRoundDash=function(V,$,W){for(var te=$/2,be=-W;be<=W;be++)for(var H=this.width*(this.nextRow+W+be),ie=0,fe=V[ie],Me=0;Me<this.width;Me++){Me/fe.right>1&&(fe=V[++ie]);var Ce=Math.abs(Me-fe.left),Fe=Math.abs(Me-fe.right),$e=Math.min(Ce,Fe),Xe=void 0,Qe=be/W*(te+1);if(fe.isDash){var nt=te-Math.abs(Qe);Xe=Math.sqrt($e*$e+nt*nt)}else Xe=te-Math.sqrt($e*$e+Qe*Qe);this.data[H+Me]=Math.max(0,Math.min(255,Xe+128))}},P.prototype.addRegularDash=function(V){for(var $=V.length-1;$>=0;--$){var W=V[$],te=V[$+1];W.zeroLength?V.splice($,1):te&&te.isDash===W.isDash&&(te.left=W.left,V.splice($,1))}var be=V[0],Re=V[V.length-1];be.isDash===Re.isDash&&(be.left=Re.left-this.width,Re.right=be.right+this.width);for(var H=this.width*this.nextRow,ie=0,fe=V[ie],Me=0;Me<this.width;Me++){Me/fe.right>1&&(fe=V[++ie]);var Ce=Math.abs(Me-fe.left),Fe=Math.abs(Me-fe.right),$e=Math.min(Ce,Fe);this.data[H+Me]=Math.max(0,Math.min(255,(fe.isDash?$e:-$e)+128))}},P.prototype.addDash=function(V,$){var W=$?7:0,te=2*W+1;if(this.nextRow+te>this.height)return f.warnOnce("LineAtlas out of space"),null;for(var be=0,Re=0;Re<V.length;Re++)be+=V[Re];if(0!==be){var H=this.width/be,ie=this.getDashRanges(V,this.width,H);$?this.addRoundDash(ie,H,W):this.addRegularDash(ie)}var fe={y:(this.nextRow+W+.5)/this.height,height:2*W/this.height,width:be};return this.nextRow+=te,this.dirty=!0,fe},P.prototype.bind=function(V){var $=V.gl;this.texture?($.bindTexture($.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,$.texSubImage2D($.TEXTURE_2D,0,0,0,this.width,this.height,$.ALPHA,$.UNSIGNED_BYTE,this.data))):(this.texture=$.createTexture(),$.bindTexture($.TEXTURE_2D,this.texture),$.texParameteri($.TEXTURE_2D,$.TEXTURE_WRAP_S,$.REPEAT),$.texParameteri($.TEXTURE_2D,$.TEXTURE_WRAP_T,$.REPEAT),$.texParameteri($.TEXTURE_2D,$.TEXTURE_MIN_FILTER,$.LINEAR),$.texParameteri($.TEXTURE_2D,$.TEXTURE_MAG_FILTER,$.LINEAR),$.texImage2D($.TEXTURE_2D,0,$.ALPHA,this.width,this.height,0,$.ALPHA,$.UNSIGNED_BYTE,this.data))};var R=function V($,W){this.workerPool=$,this.actors=[],this.currentActor=0,this.id=f.uniqueId();for(var te=this.workerPool.acquire(this.id),be=0;be<te.length;be++){var H=new V.Actor(te[be],W,this.id);H.name="Worker "+be,this.actors.push(H)}};function L(V,$,W){var te=function(be,Re){if(be)return W(be);if(Re){var H=f.pick(f.extend(Re,V),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);Re.vector_layers&&(H.vectorLayers=Re.vector_layers,H.vectorLayerIds=H.vectorLayers.map(function(ie){return ie.id})),H.tiles=$.canonicalizeTileset(H,V.url),W(null,H)}};return V.url?f.getJSON($.transformRequest($.normalizeSourceURL(V.url),f.ResourceType.Source),te):f.browser.frame(function(){return te(null,V)})}R.prototype.broadcast=function(V,$,W){f.asyncAll(this.actors,function(te,be){te.send(V,$,be)},W=W||function(){})},R.prototype.getActor=function(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]},R.prototype.remove=function(){this.actors.forEach(function(V){V.remove()}),this.actors=[],this.workerPool.release(this.id)},R.Actor=f.Actor;var N=function(V,$,W){this.bounds=f.LngLatBounds.convert(this.validateBounds(V)),this.minzoom=$||0,this.maxzoom=W||24};N.prototype.validateBounds=function(V){return Array.isArray(V)&&4===V.length?[Math.max(-180,V[0]),Math.max(-90,V[1]),Math.min(180,V[2]),Math.min(90,V[3])]:[-180,-90,180,90]},N.prototype.contains=function(V){var $=Math.pow(2,V.z),W=Math.floor(f.mercatorXfromLng(this.bounds.getWest())*$),te=Math.floor(f.mercatorYfromLat(this.bounds.getNorth())*$),be=Math.ceil(f.mercatorXfromLng(this.bounds.getEast())*$),Re=Math.ceil(f.mercatorYfromLat(this.bounds.getSouth())*$);return V.x>=W&&V.x<be&&V.y>=te&&V.y<Re};var B=function(V){function $(W,te,be,Re){if(V.call(this),this.id=W,this.dispatcher=be,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,f.extend(this,f.pick(te,["url","scheme","tileSize","promoteId"])),this._options=f.extend({type:"vector"},te),this._collectResourceTiming=te.collectResourceTiming,512!==this.tileSize)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(Re)}return V&&($.__proto__=V),($.prototype=Object.create(V&&V.prototype)).constructor=$,$.prototype.load=function(){var W=this;this._loaded=!1,this.fire(new f.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=L(this._options,this.map._requestManager,function(te,be){W._tileJSONRequest=null,W._loaded=!0,te?W.fire(new f.ErrorEvent(te)):be&&(f.extend(W,be),be.bounds&&(W.tileBounds=new N(be.bounds,W.minzoom,W.maxzoom)),f.postTurnstileEvent(be.tiles,W.map._requestManager._customAccessToken),f.postMapLoadEvent(be.tiles,W.map._getMapId(),W.map._requestManager._skuToken,W.map._requestManager._customAccessToken),W.fire(new f.Event("data",{dataType:"source",sourceDataType:"metadata"})),W.fire(new f.Event("data",{dataType:"source",sourceDataType:"content"})))})},$.prototype.loaded=function(){return this._loaded},$.prototype.hasTile=function(W){return!this.tileBounds||this.tileBounds.contains(W.canonical)},$.prototype.onAdd=function(W){this.map=W,this.load()},$.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},$.prototype.serialize=function(){return f.extend({},this._options)},$.prototype.loadTile=function(W,te){var be=this.map._requestManager.normalizeTileURL(W.tileID.canonical.url(this.tiles,this.scheme)),Re={request:this.map._requestManager.transformRequest(be,f.ResourceType.Tile),uid:W.uid,tileID:W.tileID,zoom:W.tileID.overscaledZ,tileSize:this.tileSize*W.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:f.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};function H(ie,fe){return delete W.request,W.aborted?te(null):ie&&404!==ie.status?te(ie):(fe&&fe.resourceTiming&&(W.resourceTiming=fe.resourceTiming),this.map._refreshExpiredTiles&&fe&&W.setExpiryData(fe),W.loadVectorData(fe,this.map.painter),f.cacheEntryPossiblyAdded(this.dispatcher),te(null),void(W.reloadCallback&&(this.loadTile(W,W.reloadCallback),W.reloadCallback=null)))}Re.request.collectResourceTiming=this._collectResourceTiming,W.actor&&"expired"!==W.state?"loading"===W.state?W.reloadCallback=te:W.request=W.actor.send("reloadTile",Re,H.bind(this)):(W.actor=this.dispatcher.getActor(),W.request=W.actor.send("loadTile",Re,H.bind(this)))},$.prototype.abortTile=function(W){W.request&&(W.request.cancel(),delete W.request),W.actor&&W.actor.send("abortTile",{uid:W.uid,type:this.type,source:this.id},void 0)},$.prototype.unloadTile=function(W){W.unloadVectorData(),W.actor&&W.actor.send("removeTile",{uid:W.uid,type:this.type,source:this.id},void 0)},$.prototype.hasTransition=function(){return!1},$}(f.Evented),J=function(V){function $(W,te,be,Re){V.call(this),this.id=W,this.dispatcher=be,this.setEventedParent(Re),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=f.extend({type:"raster"},te),f.extend(this,f.pick(te,["url","scheme","tileSize"]))}return V&&($.__proto__=V),($.prototype=Object.create(V&&V.prototype)).constructor=$,$.prototype.load=function(){var W=this;this._loaded=!1,this.fire(new f.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=L(this._options,this.map._requestManager,function(te,be){W._tileJSONRequest=null,W._loaded=!0,te?W.fire(new f.ErrorEvent(te)):be&&(f.extend(W,be),be.bounds&&(W.tileBounds=new N(be.bounds,W.minzoom,W.maxzoom)),f.postTurnstileEvent(be.tiles),f.postMapLoadEvent(be.tiles,W.map._getMapId(),W.map._requestManager._skuToken),W.fire(new f.Event("data",{dataType:"source",sourceDataType:"metadata"})),W.fire(new f.Event("data",{dataType:"source",sourceDataType:"content"})))})},$.prototype.loaded=function(){return this._loaded},$.prototype.onAdd=function(W){this.map=W,this.load()},$.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},$.prototype.serialize=function(){return f.extend({},this._options)},$.prototype.hasTile=function(W){return!this.tileBounds||this.tileBounds.contains(W.canonical)},$.prototype.loadTile=function(W,te){var be=this,Re=this.map._requestManager.normalizeTileURL(W.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);W.request=f.getImage(this.map._requestManager.transformRequest(Re,f.ResourceType.Tile),function(H,ie){if(delete W.request,W.aborted)W.state="unloaded",te(null);else if(H)W.state="errored",te(H);else if(ie){be.map._refreshExpiredTiles&&W.setExpiryData(ie),delete ie.cacheControl,delete ie.expires;var fe=be.map.painter.context,Me=fe.gl;W.texture=be.map.painter.getTileTexture(ie.width),W.texture?W.texture.update(ie,{useMipmap:!0}):(W.texture=new f.Texture(fe,ie,Me.RGBA,{useMipmap:!0}),W.texture.bind(Me.LINEAR,Me.CLAMP_TO_EDGE,Me.LINEAR_MIPMAP_NEAREST),fe.extTextureFilterAnisotropic&&Me.texParameterf(Me.TEXTURE_2D,fe.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,fe.extTextureFilterAnisotropicMax)),W.state="loaded",f.cacheEntryPossiblyAdded(be.dispatcher),te(null)}})},$.prototype.abortTile=function(W,te){W.request&&(W.request.cancel(),delete W.request),te()},$.prototype.unloadTile=function(W,te){W.texture&&this.map.painter.saveTileTexture(W.texture),te()},$.prototype.hasTransition=function(){return!1},$}(f.Evented),z=function(V){function $(W,te,be,Re){V.call(this,W,te,be,Re),this.type="raster-dem",this.maxzoom=22,this._options=f.extend({type:"raster-dem"},te),this.encoding=te.encoding||"mapbox"}return V&&($.__proto__=V),($.prototype=Object.create(V&&V.prototype)).constructor=$,$.prototype.serialize=function(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}},$.prototype.loadTile=function(W,te){var be=this.map._requestManager.normalizeTileURL(W.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);function Re(H,ie){H&&(W.state="errored",te(H)),ie&&(W.dem=ie,W.needsHillshadePrepare=!0,W.state="loaded",te(null))}W.request=f.getImage(this.map._requestManager.transformRequest(be,f.ResourceType.Tile),function(H,ie){if(delete W.request,W.aborted)W.state="unloaded",te(null);else if(H)W.state="errored",te(H);else if(ie){this.map._refreshExpiredTiles&&W.setExpiryData(ie),delete ie.cacheControl,delete ie.expires;var fe=f.window.ImageBitmap&&ie instanceof f.window.ImageBitmap&&f.offscreenCanvasSupported()?ie:f.browser.getImageData(ie,1),Me={uid:W.uid,coord:W.tileID,source:this.id,rawImageData:fe,encoding:this.encoding};W.actor&&"expired"!==W.state||(W.actor=this.dispatcher.getActor(),W.actor.send("loadDEMTile",Me,Re.bind(this)))}}.bind(this)),W.neighboringTiles=this._getNeighboringTiles(W.tileID)},$.prototype._getNeighboringTiles=function(W){var te=W.canonical,be=Math.pow(2,te.z),Re=(te.x-1+be)%be,H=0===te.x?W.wrap-1:W.wrap,ie=(te.x+1+be)%be,fe=te.x+1===be?W.wrap+1:W.wrap,Me={};return Me[new f.OverscaledTileID(W.overscaledZ,H,te.z,Re,te.y).key]={backfilled:!1},Me[new f.OverscaledTileID(W.overscaledZ,fe,te.z,ie,te.y).key]={backfilled:!1},te.y>0&&(Me[new f.OverscaledTileID(W.overscaledZ,H,te.z,Re,te.y-1).key]={backfilled:!1},Me[new f.OverscaledTileID(W.overscaledZ,W.wrap,te.z,te.x,te.y-1).key]={backfilled:!1},Me[new f.OverscaledTileID(W.overscaledZ,fe,te.z,ie,te.y-1).key]={backfilled:!1}),te.y+1<be&&(Me[new f.OverscaledTileID(W.overscaledZ,H,te.z,Re,te.y+1).key]={backfilled:!1},Me[new f.OverscaledTileID(W.overscaledZ,W.wrap,te.z,te.x,te.y+1).key]={backfilled:!1},Me[new f.OverscaledTileID(W.overscaledZ,fe,te.z,ie,te.y+1).key]={backfilled:!1}),Me},$.prototype.unloadTile=function(W){W.demTexture&&this.map.painter.saveTileTexture(W.demTexture),W.fbo&&(W.fbo.destroy(),delete W.fbo),W.dem&&delete W.dem,delete W.neighboringTiles,W.state="unloaded",W.actor&&W.actor.send("removeDEMTile",{uid:W.uid,source:this.id})},$}(J),Y=function(V){function $(W,te,be,Re){V.call(this),this.id=W,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._loaded=!1,this.actor=be.getActor(),this.setEventedParent(Re),this._data=te.data,this._options=f.extend({},te),this._collectResourceTiming=te.collectResourceTiming,this._resourceTiming=[],void 0!==te.maxzoom&&(this.maxzoom=te.maxzoom),te.type&&(this.type=te.type),te.attribution&&(this.attribution=te.attribution),this.promoteId=te.promoteId;var H=f.EXTENT/this.tileSize;this.workerOptions=f.extend({source:this.id,cluster:te.cluster||!1,geojsonVtOptions:{buffer:(void 0!==te.buffer?te.buffer:128)*H,tolerance:(void 0!==te.tolerance?te.tolerance:.375)*H,extent:f.EXTENT,maxZoom:this.maxzoom,lineMetrics:te.lineMetrics||!1,generateId:te.generateId||!1},superclusterOptions:{maxZoom:void 0!==te.clusterMaxZoom?Math.min(te.clusterMaxZoom,this.maxzoom-1):this.maxzoom-1,extent:f.EXTENT,radius:(te.clusterRadius||50)*H,log:!1,generateId:te.generateId||!1},clusterProperties:te.clusterProperties},te.workerOptions)}return V&&($.__proto__=V),($.prototype=Object.create(V&&V.prototype)).constructor=$,$.prototype.load=function(){var W=this;this.fire(new f.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(te){if(te)W.fire(new f.ErrorEvent(te));else{var be={dataType:"source",sourceDataType:"metadata"};W._collectResourceTiming&&W._resourceTiming&&W._resourceTiming.length>0&&(be.resourceTiming=W._resourceTiming,W._resourceTiming=[]),W.fire(new f.Event("data",be))}})},$.prototype.onAdd=function(W){this.map=W,this.load()},$.prototype.setData=function(W){var te=this;return this._data=W,this.fire(new f.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(be){if(be)te.fire(new f.ErrorEvent(be));else{var Re={dataType:"source",sourceDataType:"content"};te._collectResourceTiming&&te._resourceTiming&&te._resourceTiming.length>0&&(Re.resourceTiming=te._resourceTiming,te._resourceTiming=[]),te.fire(new f.Event("data",Re))}}),this},$.prototype.getClusterExpansionZoom=function(W,te){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:W,source:this.id},te),this},$.prototype.getClusterChildren=function(W,te){return this.actor.send("geojson.getClusterChildren",{clusterId:W,source:this.id},te),this},$.prototype.getClusterLeaves=function(W,te,be,Re){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:W,limit:te,offset:be},Re),this},$.prototype._updateWorkerData=function(W){var te=this;this._loaded=!1;var be=f.extend({},this.workerOptions),Re=this._data;"string"==typeof Re?(be.request=this.map._requestManager.transformRequest(f.browser.resolveURL(Re),f.ResourceType.Source),be.request.collectResourceTiming=this._collectResourceTiming):be.data=JSON.stringify(Re),this.actor.send(this.type+".loadData",be,function(H,ie){te._removed||ie&&ie.abandoned||(te._loaded=!0,ie&&ie.resourceTiming&&ie.resourceTiming[te.id]&&(te._resourceTiming=ie.resourceTiming[te.id].slice(0)),te.actor.send(te.type+".coalesce",{source:be.source},null),W(H))})},$.prototype.loaded=function(){return this._loaded},$.prototype.loadTile=function(W,te){var be=this,Re=W.actor?"reloadTile":"loadTile";W.actor=this.actor,W.request=this.actor.send(Re,{type:this.type,uid:W.uid,tileID:W.tileID,zoom:W.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:f.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId},function(ie,fe){return delete W.request,W.unloadVectorData(),W.aborted?te(null):ie?te(ie):(W.loadVectorData(fe,be.map.painter,"reloadTile"===Re),te(null))})},$.prototype.abortTile=function(W){W.request&&(W.request.cancel(),delete W.request),W.aborted=!0},$.prototype.unloadTile=function(W){W.unloadVectorData(),this.actor.send("removeTile",{uid:W.uid,type:this.type,source:this.id})},$.prototype.onRemove=function(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})},$.prototype.serialize=function(){return f.extend({},this._options,{type:this.type,data:this._data})},$.prototype.hasTransition=function(){return!1},$}(f.Evented),q=f.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]),U=function(V){function $(W,te,be,Re){V.call(this),this.id=W,this.dispatcher=be,this.coordinates=te.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(Re),this.options=te}return V&&($.__proto__=V),($.prototype=Object.create(V&&V.prototype)).constructor=$,$.prototype.load=function(W,te){var be=this;this._loaded=!1,this.fire(new f.Event("dataloading",{dataType:"source"})),this.url=this.options.url,f.getImage(this.map._requestManager.transformRequest(this.url,f.ResourceType.Image),function(Re,H){be._loaded=!0,Re?be.fire(new f.ErrorEvent(Re)):H&&(be.image=H,W&&(be.coordinates=W),te&&te(),be._finishLoading())})},$.prototype.loaded=function(){return this._loaded},$.prototype.updateImage=function(W){var te=this;return this.image&&W.url?(this.options.url=W.url,this.load(W.coordinates,function(){te.texture=null}),this):this},$.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new f.Event("data",{dataType:"source",sourceDataType:"metadata"})))},$.prototype.onAdd=function(W){this.map=W,this.load()},$.prototype.setCoordinates=function(W){var te=this;this.coordinates=W;var be=W.map(f.MercatorCoordinate.fromLngLat);this.tileID=function(H){for(var ie=1/0,fe=1/0,Me=-1/0,Ce=-1/0,Fe=0,$e=H;Fe<$e.length;Fe+=1){var Xe=$e[Fe];ie=Math.min(ie,Xe.x),fe=Math.min(fe,Xe.y),Me=Math.max(Me,Xe.x),Ce=Math.max(Ce,Xe.y)}var lt=Math.max(Me-ie,Ce-fe),_t=Math.max(0,Math.floor(-Math.log(lt)/Math.LN2)),At=Math.pow(2,_t);return new f.CanonicalTileID(_t,Math.floor((ie+Me)/2*At),Math.floor((fe+Ce)/2*At))}(be),this.minzoom=this.maxzoom=this.tileID.z;var Re=be.map(function(H){return te.tileID.getTilePoint(H)._round()});return this._boundsArray=new f.StructArrayLayout4i8,this._boundsArray.emplaceBack(Re[0].x,Re[0].y,0,0),this._boundsArray.emplaceBack(Re[1].x,Re[1].y,f.EXTENT,0),this._boundsArray.emplaceBack(Re[3].x,Re[3].y,0,f.EXTENT),this._boundsArray.emplaceBack(Re[2].x,Re[2].y,f.EXTENT,f.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new f.Event("data",{dataType:"source",sourceDataType:"content"})),this},$.prototype.prepare=function(){if(0!==Object.keys(this.tiles).length&&this.image){var W=this.map.painter.context,te=W.gl;for(var be in this.boundsBuffer||(this.boundsBuffer=W.createVertexBuffer(this._boundsArray,q.members)),this.boundsSegments||(this.boundsSegments=f.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new f.Texture(W,this.image,te.RGBA),this.texture.bind(te.LINEAR,te.CLAMP_TO_EDGE)),this.tiles){var Re=this.tiles[be];"loaded"!==Re.state&&(Re.state="loaded",Re.texture=this.texture)}}},$.prototype.loadTile=function(W,te){this.tileID&&this.tileID.equals(W.tileID.canonical)?(this.tiles[String(W.tileID.wrap)]=W,W.buckets={},te(null)):(W.state="errored",te(null))},$.prototype.serialize=function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}},$.prototype.hasTransition=function(){return!1},$}(f.Evented),Z=function(V){function $(W,te,be,Re){V.call(this,W,te,be,Re),this.roundZoom=!0,this.type="video",this.options=te}return V&&($.__proto__=V),($.prototype=Object.create(V&&V.prototype)).constructor=$,$.prototype.load=function(){var W=this;this._loaded=!1;var te=this.options;this.urls=[];for(var be=0,Re=te.urls;be<Re.length;be+=1)this.urls.push(this.map._requestManager.transformRequest(Re[be],f.ResourceType.Source).url);f.getVideo(this.urls,function(ie,fe){W._loaded=!0,ie?W.fire(new f.ErrorEvent(ie)):fe&&(W.video=fe,W.video.loop=!0,W.video.addEventListener("playing",function(){W.map.triggerRepaint()}),W.map&&W.video.play(),W._finishLoading())})},$.prototype.pause=function(){this.video&&this.video.pause()},$.prototype.play=function(){this.video&&this.video.play()},$.prototype.seek=function(W){if(this.video){var te=this.video.seekable;W<te.start(0)||W>te.end(0)?this.fire(new f.ErrorEvent(new f.ValidationError("sources."+this.id,null,"Playback for this video can be set only between the "+te.start(0)+" and "+te.end(0)+"-second mark."))):this.video.currentTime=W}},$.prototype.getVideo=function(){return this.video},$.prototype.onAdd=function(W){this.map||(this.map=W,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},$.prototype.prepare=function(){if(!(0===Object.keys(this.tiles).length||this.video.readyState<2)){var W=this.map.painter.context,te=W.gl;for(var be in this.boundsBuffer||(this.boundsBuffer=W.createVertexBuffer(this._boundsArray,q.members)),this.boundsSegments||(this.boundsSegments=f.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(te.LINEAR,te.CLAMP_TO_EDGE),te.texSubImage2D(te.TEXTURE_2D,0,0,0,te.RGBA,te.UNSIGNED_BYTE,this.video)):(this.texture=new f.Texture(W,this.video,te.RGBA),this.texture.bind(te.LINEAR,te.CLAMP_TO_EDGE)),this.tiles){var Re=this.tiles[be];"loaded"!==Re.state&&(Re.state="loaded",Re.texture=this.texture)}}},$.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},$.prototype.hasTransition=function(){return this.video&&!this.video.paused},$}(U),X=function(V){function $(W,te,be,Re){V.call(this,W,te,be,Re),te.coordinates?Array.isArray(te.coordinates)&&4===te.coordinates.length&&!te.coordinates.some(function(H){return!Array.isArray(H)||2!==H.length||H.some(function(ie){return"number"!=typeof ie})})||this.fire(new f.ErrorEvent(new f.ValidationError("sources."+W,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new f.ErrorEvent(new f.ValidationError("sources."+W,null,'missing required property "coordinates"'))),te.animate&&"boolean"!=typeof te.animate&&this.fire(new f.ErrorEvent(new f.ValidationError("sources."+W,null,'optional "animate" property must be a boolean value'))),te.canvas?"string"==typeof te.canvas||te.canvas instanceof f.window.HTMLCanvasElement||this.fire(new f.ErrorEvent(new f.ValidationError("sources."+W,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new f.ErrorEvent(new f.ValidationError("sources."+W,null,'missing required property "canvas"'))),this.options=te,this.animate=void 0===te.animate||te.animate}return V&&($.__proto__=V),($.prototype=Object.create(V&&V.prototype)).constructor=$,$.prototype.load=function(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof f.window.HTMLCanvasElement?this.options.canvas:f.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new f.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())},$.prototype.getCanvas=function(){return this.canvas},$.prototype.onAdd=function(W){this.map=W,this.load(),this.canvas&&this.animate&&this.play()},$.prototype.onRemove=function(){this.pause()},$.prototype.prepare=function(){var W=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,W=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,W=!0),!this._hasInvalidDimensions()&&0!==Object.keys(this.tiles).length){var te=this.map.painter.context,be=te.gl;for(var Re in this.boundsBuffer||(this.boundsBuffer=te.createVertexBuffer(this._boundsArray,q.members)),this.boundsSegments||(this.boundsSegments=f.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(W||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new f.Texture(te,this.canvas,be.RGBA,{premultiply:!0}),this.tiles){var H=this.tiles[Re];"loaded"!==H.state&&(H.state="loaded",H.texture=this.texture)}}},$.prototype.serialize=function(){return{type:"canvas",coordinates:this.coordinates}},$.prototype.hasTransition=function(){return this._playing},$.prototype._hasInvalidDimensions=function(){for(var W=0,te=[this.canvas.width,this.canvas.height];W<te.length;W+=1){var be=te[W];if(isNaN(be)||be<=0)return!0}return!1},$}(U),se={vector:B,raster:J,"raster-dem":z,geojson:Y,video:Z,image:U,canvas:X};function re(V,$){var W=f.identity([]);return f.translate(W,W,[1,1,0]),f.scale(W,W,[.5*V.width,.5*V.height,1]),f.multiply(W,W,V.calculatePosMatrix($.toUnwrapped()))}function ee(V,$,W,te,be,Re){var H=function(nt,lt,_t){if(nt)for(var At=0,jt=nt;At<jt.length;At+=1){var Ht=lt[jt[At]];if(Ht&&Ht.source===_t&&"fill-extrusion"===Ht.type)return!0}else for(var zt in lt){var Xt=lt[zt];if(Xt.source===_t&&"fill-extrusion"===Xt.type)return!0}return!1}(be&&be.layers,$,V.id),ie=Re.maxPitchScaleFactor(),fe=V.tilesIn(te,ie,H);fe.sort(K);for(var Me=[],Ce=0,Fe=fe;Ce<Fe.length;Ce+=1){var $e=Fe[Ce];Me.push({wrappedTileID:$e.tileID.wrapped().key,queryResults:$e.tile.queryRenderedFeatures($,W,V._state,$e.queryGeometry,$e.cameraQueryGeometry,$e.scale,be,Re,ie,re(V.transform,$e.tileID))})}var Xe=function(nt){for(var lt={},_t={},At=0,jt=nt;At<jt.length;At+=1){var Ht=jt[At],zt=Ht.queryResults,Xt=Ht.wrappedTileID,Vt=_t[Xt]=_t[Xt]||{};for(var mn in zt)for(var sn=zt[mn],tn=Vt[mn]=Vt[mn]||{},On=lt[mn]=lt[mn]||[],In=0,rr=sn;In<rr.length;In+=1){var Xn=rr[In];tn[Xn.featureIndex]||(tn[Xn.featureIndex]=!0,On.push(Xn))}}return lt}(Me);for(var Qe in Xe)Xe[Qe].forEach(function(nt){var lt=nt.feature,_t=V.getFeatureState(lt.layer["source-layer"],lt.id);lt.source=lt.layer.source,lt.layer["source-layer"]&&(lt.sourceLayer=lt.layer["source-layer"]),lt.state=_t});return Xe}function K(V,$){var W=V.tileID,te=$.tileID;return W.overscaledZ-te.overscaledZ||W.canonical.y-te.canonical.y||W.wrap-te.wrap||W.canonical.x-te.canonical.x}var ne=function(V,$){this.max=V,this.onRemove=$,this.reset()};ne.prototype.reset=function(){for(var V in this.data)for(var $=0,W=this.data[V];$<W.length;$+=1){var te=W[$];te.timeout&&clearTimeout(te.timeout),this.onRemove(te.value)}return this.data={},this.order=[],this},ne.prototype.add=function(V,$,W){var te=this,be=V.wrapped().key;void 0===this.data[be]&&(this.data[be]=[]);var Re={value:$,timeout:void 0};if(void 0!==W&&(Re.timeout=setTimeout(function(){te.remove(V,Re)},W)),this.data[be].push(Re),this.order.push(be),this.order.length>this.max){var H=this._getAndRemoveByKey(this.order[0]);H&&this.onRemove(H)}return this},ne.prototype.has=function(V){return V.wrapped().key in this.data},ne.prototype.getAndRemove=function(V){return this.has(V)?this._getAndRemoveByKey(V.wrapped().key):null},ne.prototype._getAndRemoveByKey=function(V){var $=this.data[V].shift();return $.timeout&&clearTimeout($.timeout),0===this.data[V].length&&delete this.data[V],this.order.splice(this.order.indexOf(V),1),$.value},ne.prototype.getByKey=function(V){var $=this.data[V];return $?$[0].value:null},ne.prototype.get=function(V){return this.has(V)?this.data[V.wrapped().key][0].value:null},ne.prototype.remove=function(V,$){if(!this.has(V))return this;var W=V.wrapped().key,te=void 0===$?0:this.data[W].indexOf($),be=this.data[W][te];return this.data[W].splice(te,1),be.timeout&&clearTimeout(be.timeout),0===this.data[W].length&&delete this.data[W],this.onRemove(be.value),this.order.splice(this.order.indexOf(W),1),this},ne.prototype.setMaxSize=function(V){for(this.max=V;this.order.length>this.max;){var $=this._getAndRemoveByKey(this.order[0]);$&&this.onRemove($)}return this},ne.prototype.filter=function(V){var $=[];for(var W in this.data)for(var te=0,be=this.data[W];te<be.length;te+=1){var Re=be[te];V(Re.value)||$.push(Re)}for(var H=0,ie=$;H<ie.length;H+=1){var fe=ie[H];this.remove(fe.value.tileID,fe)}};var ae=function(V,$,W){this.context=V;var te=V.gl;this.buffer=te.createBuffer(),this.dynamicDraw=!!W,this.context.unbindVAO(),V.bindElementBuffer.set(this.buffer),te.bufferData(te.ELEMENT_ARRAY_BUFFER,$.arrayBuffer,this.dynamicDraw?te.DYNAMIC_DRAW:te.STATIC_DRAW),this.dynamicDraw||delete $.arrayBuffer};ae.prototype.bind=function(){this.context.bindElementBuffer.set(this.buffer)},ae.prototype.updateData=function(V){var $=this.context.gl;this.context.unbindVAO(),this.bind(),$.bufferSubData($.ELEMENT_ARRAY_BUFFER,0,V.arrayBuffer)},ae.prototype.destroy=function(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)};var ue={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},he=function(V,$,W,te){this.length=$.length,this.attributes=W,this.itemSize=$.bytesPerElement,this.dynamicDraw=te,this.context=V;var be=V.gl;this.buffer=be.createBuffer(),V.bindVertexBuffer.set(this.buffer),be.bufferData(be.ARRAY_BUFFER,$.arrayBuffer,this.dynamicDraw?be.DYNAMIC_DRAW:be.STATIC_DRAW),this.dynamicDraw||delete $.arrayBuffer};he.prototype.bind=function(){this.context.bindVertexBuffer.set(this.buffer)},he.prototype.updateData=function(V){var $=this.context.gl;this.bind(),$.bufferSubData($.ARRAY_BUFFER,0,V.arrayBuffer)},he.prototype.enableAttributes=function(V,$){for(var W=0;W<this.attributes.length;W++){var be=$.attributes[this.attributes[W].name];void 0!==be&&V.enableVertexAttribArray(be)}},he.prototype.setVertexAttribPointers=function(V,$,W){for(var te=0;te<this.attributes.length;te++){var be=this.attributes[te],Re=$.attributes[be.name];void 0!==Re&&V.vertexAttribPointer(Re,be.components,V[ue[be.type]],!1,this.itemSize,be.offset+this.itemSize*(W||0))}},he.prototype.destroy=function(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)};var pe=function(V){this.gl=V.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1};pe.prototype.get=function(){return this.current},pe.prototype.set=function(V){},pe.prototype.getDefault=function(){return this.default},pe.prototype.setDefault=function(){this.set(this.default)};var ge=function(V){function $(){V.apply(this,arguments)}return V&&($.__proto__=V),($.prototype=Object.create(V&&V.prototype)).constructor=$,$.prototype.getDefault=function(){return f.Color.transparent},$.prototype.set=function(W){var te=this.current;(W.r!==te.r||W.g!==te.g||W.b!==te.b||W.a!==te.a||this.dirty)&&(this.gl.clearColor(W.r,W.g,W.b,W.a),this.current=W,this.dirty=!1)},$}(pe),xe=function(V){function $(){V.apply(this,arguments)}return V&&($.__proto__=V),($.prototype=Object.create(V&&V.prototype)).constructor=$,$.prototype.getDefault=function(){return 1},$.prototype.set=function(W){(W!==this.current||this.dirty)&&(this.gl.clearDepth(W),this.current=W,this.dirty=!1)},$}(pe),Se=function(V){function $(){V.apply(this,arguments)}return V&&($.__proto__=V),($.prototype=Object.create(V&&V.prototype)).constructor=$,$.prototype.getDefault=function(){return 0},$.prototype.set=function(W){(W!==this.current||this.dirty)&&(this.gl.clearStencil(W),this.current=W,this.dirty=!1)},$}(pe),Te=function(V){function $(){V.apply(this,arguments)}return V&&($.__proto__=V),($.prototype=Object.create(V&&V.prototype)).constructor=$,$.prototype.getDefault=function(){return[!0,!0,!0,!0]},$.prototype.set=function(W){var te=this.current;(W[0]!==te[0]||W[1]!==te[1]||W[2]!==te[2]||W[3]!==te[3]||this.dirty)&&(this.gl.colorMask(W[0],W[1],W[2],W[3]),this.current=W,this.dirty=!1)},$}(pe),ye=function(V){function $(){V.apply(this,arguments)}return V&&($.__proto__=V),($.prototype=Object.create(V&&V.prototype)).constructor=$,$.prototype.getDefault=function(){return!0},$.prototype.set=function(W){(W!==this.current||this.dirty)&&(this.gl.depthMask(W),this.current=W,this.dirty=!1)},$}(pe),we=function(V){function $(){V.apply(this,arguments)}return V&&($.__proto__=V),($.prototype=Object.create(V&&V.prototype)).constructor=$,$.prototype.getDefault=function(){return 255},$.prototype.set=function(W){(W!==this.current||this.dirty)&&(this.gl.stencilMask(W),this.current=W,this.dirty=!1)},$}(pe),ze=function(V){function $(){V.apply(this,arguments)}return V&&($.__proto__=V),($.prototype=Object.create(V&&V.prototype)).constructor=$,$.prototype.getDefault=function(){return{func:this.gl.ALWAYS,ref:0,mask:255}},$.prototype.set=function(W){var te=this.current;(W.func!==te.func||W.ref!==te.ref||W.mask!==te.mask||this.dirty)&&(this.gl.stencilFunc(W.func,W.ref,W.mask),this.current=W,this.dirty=!1)},$}(pe),ke=function(V){function $(){V.apply(this,arguments)}return V&&($.__proto__=V),($.prototype=Object.create(V&&V.prototype)).constructor=$,$.prototype.getDefault=function(){var W=this.gl;return[W.KEEP,W.KEEP,W.KEEP]},$.prototype.set=function(W){var te=this.current;(W[0]!==te[0]||W[1]!==te[1]||W[2]!==te[2]||this.dirty)&&(this.gl.stencilOp(W[0],W[1],W[2]),this.current=W,this.dirty=!1)},$}(pe),Ee=function(V){function $(){V.apply(this,arguments)}return V&&($.__proto__=V),($.prototype=Object.create(V&&V.prototype)).constructor=$,$.prototype.getDefault=function(){return!1},$.prototype.set=function(W){if(W!==this.current||this.dirty){var te=this.gl;W?te.enable(te.STENCIL_TEST):te.disable(te.STENCIL_TEST),this.current=W,this.dirty=!1}},$}(pe),me=function(V){function $(){V.apply(this,arguments)}return V&&($.__proto__=V),($.prototype=Object.create(V&&V.prototype)).constructor=$,$.prototype.getDefault=function(){return[0,1]},$.prototype.set=function(W){var te=this.current;(W[0]!==te[0]||W[1]!==te[1]||this.dirty)&&(this.gl.depthRange(W[0],W[1]),this.current=W,this.dirty=!1)},$}(pe),de=function(V){function $(){V.apply(this,arguments)}return V&&($.__proto__=V),($.prototype=Object.create(V&&V.prototype)).constructor=$,$.prototype.getDefault=function(){return!1},$.prototype.set=function(W){if(W!==this.current||this.dirty){var te=this.gl;W?te.enable(te.DEPTH_TEST):te.disable(te.DEPTH_TEST),this.current=W,this.dirty=!1}},$}(pe),ce=function(V){function $(){V.apply(this,arguments)}return V&&($.__proto__=V),($.prototype=Object.create(V&&V.prototype)).constructor=$,$.prototype.getDefault=function(){return this.gl.LESS},$.prototype.set=function(W){(W!==this.current||this.dirty)&&(this.gl.depthFunc(W),this.current=W,this.dirty=!1)},$}(pe),Ae=function(V){function $(){V.apply(this,arguments)}return V&&($.__proto__=V),($.prototype=Object.create(V&&V.prototype)).constructor=$,$.prototype.getDefault=function(){return!1},$.prototype.set=function(W){if(W!==this.current||this.dirty){var te=this.gl;W?te.enable(te.BLEND):te.disable(te.BLEND),this.current=W,this.dirty=!1}},$}(pe),Ne=function(V){function $(){V.apply(this,arguments)}return V&&($.__proto__=V),($.prototype=Object.create(V&&V.prototype)).constructor=$,$.prototype.getDefault=function(){var W=this.gl;return[W.ONE,W.ZERO]},$.prototype.set=function(W){var te=this.current;(W[0]!==te[0]||W[1]!==te[1]||this.dirty)&&(this.gl.blendFunc(W[0],W[1]),this.current=W,this.dirty=!1)},$}(pe),De=function(V){function $(){V.apply(this,arguments)}return V&&($.__proto__=V),($.prototype=Object.create(V&&V.prototype)).constructor=$,$.prototype.getDefault=function(){return f.Color.transparent},$.prototype.set=function(W){var te=this.current;(W.r!==te.r||W.g!==te.g||W.b!==te.b||W.a!==te.a||this.dirty)&&(this.gl.blendColor(W.r,W.g,W.b,W.a),this.current=W,this.dirty=!1)},$}(pe),Ue=function(V){function $(){V.apply(this,arguments)}return V&&($.__proto__=V),($.prototype=Object.create(V&&V.prototype)).constructor=$,$.prototype.getDefault=function(){return this.gl.FUNC_ADD},$.prototype.set=function(W){(W!==this.current||this.dirty)&&(this.gl.blendEquation(W),this.current=W,this.dirty=!1)},$}(pe),Ye=function(V){function $(){V.apply(this,arguments)}return V&&($.__proto__=V),($.prototype=Object.create(V&&V.prototype)).constructor=$,$.prototype.getDefault=function(){return!1},$.prototype.set=function(W){if(W!==this.current||this.dirty){var te=this.gl;W?te.enable(te.CULL_FACE):te.disable(te.CULL_FACE),this.current=W,this.dirty=!1}},$}(pe),_e=function(V){function $(){V.apply(this,arguments)}return V&&($.__proto__=V),($.prototype=Object.create(V&&V.prototype)).constructor=$,$.prototype.getDefault=function(){return this.gl.BACK},$.prototype.set=function(W){(W!==this.current||this.dirty)&&(this.gl.cullFace(W),this.current=W,this.dirty=!1)},$}(pe),Pe=function(V){function $(){V.apply(this,arguments)}return V&&($.__proto__=V),($.prototype=Object.create(V&&V.prototype)).constructor=$,$.prototype.getDefault=function(){return this.gl.CCW},$.prototype.set=function(W){(W!==this.current||this.dirty)&&(this.gl.frontFace(W),this.current=W,this.dirty=!1)},$}(pe),Ie=function(V){function $(){V.apply(this,arguments)}return V&&($.__proto__=V),($.prototype=Object.create(V&&V.prototype)).constructor=$,$.prototype.getDefault=function(){return null},$.prototype.set=function(W){(W!==this.current||this.dirty)&&(this.gl.useProgram(W),this.current=W,this.dirty=!1)},$}(pe),Be=function(V){function $(){V.apply(this,arguments)}return V&&($.__proto__=V),($.prototype=Object.create(V&&V.prototype)).constructor=$,$.prototype.getDefault=function(){return this.gl.TEXTURE0},$.prototype.set=function(W){(W!==this.current||this.dirty)&&(this.gl.activeTexture(W),this.current=W,this.dirty=!1)},$}(pe),We=function(V){function $(){V.apply(this,arguments)}return V&&($.__proto__=V),($.prototype=Object.create(V&&V.prototype)).constructor=$,$.prototype.getDefault=function(){var W=this.gl;return[0,0,W.drawingBufferWidth,W.drawingBufferHeight]},$.prototype.set=function(W){var te=this.current;(W[0]!==te[0]||W[1]!==te[1]||W[2]!==te[2]||W[3]!==te[3]||this.dirty)&&(this.gl.viewport(W[0],W[1],W[2],W[3]),this.current=W,this.dirty=!1)},$}(pe),Ge=function(V){function $(){V.apply(this,arguments)}return V&&($.__proto__=V),($.prototype=Object.create(V&&V.prototype)).constructor=$,$.prototype.getDefault=function(){return null},$.prototype.set=function(W){if(W!==this.current||this.dirty){var te=this.gl;te.bindFramebuffer(te.FRAMEBUFFER,W),this.current=W,this.dirty=!1}},$}(pe),Ke=function(V){function $(){V.apply(this,arguments)}return V&&($.__proto__=V),($.prototype=Object.create(V&&V.prototype)).constructor=$,$.prototype.getDefault=function(){return null},$.prototype.set=function(W){if(W!==this.current||this.dirty){var te=this.gl;te.bindRenderbuffer(te.RENDERBUFFER,W),this.current=W,this.dirty=!1}},$}(pe),tt=function(V){function $(){V.apply(this,arguments)}return V&&($.__proto__=V),($.prototype=Object.create(V&&V.prototype)).constructor=$,$.prototype.getDefault=function(){return null},$.prototype.set=function(W){if(W!==this.current||this.dirty){var te=this.gl;te.bindTexture(te.TEXTURE_2D,W),this.current=W,this.dirty=!1}},$}(pe),st=function(V){function $(){V.apply(this,arguments)}return V&&($.__proto__=V),($.prototype=Object.create(V&&V.prototype)).constructor=$,$.prototype.getDefault=function(){return null},$.prototype.set=function(W){if(W!==this.current||this.dirty){var te=this.gl;te.bindBuffer(te.ARRAY_BUFFER,W),this.current=W,this.dirty=!1}},$}(pe),gt=function(V){function $(){V.apply(this,arguments)}return V&&($.__proto__=V),($.prototype=Object.create(V&&V.prototype)).constructor=$,$.prototype.getDefault=function(){return null},$.prototype.set=function(W){var te=this.gl;te.bindBuffer(te.ELEMENT_ARRAY_BUFFER,W),this.current=W,this.dirty=!1},$}(pe),ct=function(V){function $(W){V.call(this,W),this.vao=W.extVertexArrayObject}return V&&($.__proto__=V),($.prototype=Object.create(V&&V.prototype)).constructor=$,$.prototype.getDefault=function(){return null},$.prototype.set=function(W){this.vao&&(W!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(W),this.current=W,this.dirty=!1)},$}(pe),kt=function(V){function $(){V.apply(this,arguments)}return V&&($.__proto__=V),($.prototype=Object.create(V&&V.prototype)).constructor=$,$.prototype.getDefault=function(){return 4},$.prototype.set=function(W){if(W!==this.current||this.dirty){var te=this.gl;te.pixelStorei(te.UNPACK_ALIGNMENT,W),this.current=W,this.dirty=!1}},$}(pe),Dt=function(V){function $(){V.apply(this,arguments)}return V&&($.__proto__=V),($.prototype=Object.create(V&&V.prototype)).constructor=$,$.prototype.getDefault=function(){return!1},$.prototype.set=function(W){if(W!==this.current||this.dirty){var te=this.gl;te.pixelStorei(te.UNPACK_PREMULTIPLY_ALPHA_WEBGL,W),this.current=W,this.dirty=!1}},$}(pe),vt=function(V){function $(){V.apply(this,arguments)}return V&&($.__proto__=V),($.prototype=Object.create(V&&V.prototype)).constructor=$,$.prototype.getDefault=function(){return!1},$.prototype.set=function(W){if(W!==this.current||this.dirty){var te=this.gl;te.pixelStorei(te.UNPACK_FLIP_Y_WEBGL,W),this.current=W,this.dirty=!1}},$}(pe),mt=function(V){function $(W,te){V.call(this,W),this.context=W,this.parent=te}return V&&($.__proto__=V),($.prototype=Object.create(V&&V.prototype)).constructor=$,$.prototype.getDefault=function(){return null},$}(pe),Et=function(V){function $(){V.apply(this,arguments)}return V&&($.__proto__=V),($.prototype=Object.create(V&&V.prototype)).constructor=$,$.prototype.setDirty=function(){this.dirty=!0},$.prototype.set=function(W){if(W!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var te=this.gl;te.framebufferTexture2D(te.FRAMEBUFFER,te.COLOR_ATTACHMENT0,te.TEXTURE_2D,W,0),this.current=W,this.dirty=!1}},$}(mt),Lt=function(V){function $(){V.apply(this,arguments)}return V&&($.__proto__=V),($.prototype=Object.create(V&&V.prototype)).constructor=$,$.prototype.set=function(W){if(W!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var te=this.gl;te.framebufferRenderbuffer(te.FRAMEBUFFER,te.DEPTH_ATTACHMENT,te.RENDERBUFFER,W),this.current=W,this.dirty=!1}},$}(mt),Rt=function(V,$,W,te){this.context=V,this.width=$,this.height=W;var Re=this.framebuffer=V.gl.createFramebuffer();this.colorAttachment=new Et(V,Re),te&&(this.depthAttachment=new Lt(V,Re))};Rt.prototype.destroy=function(){var V=this.context.gl,$=this.colorAttachment.get();if($&&V.deleteTexture($),this.depthAttachment){var W=this.depthAttachment.get();W&&V.deleteRenderbuffer(W)}V.deleteFramebuffer(this.framebuffer)};var Ut=function(V,$,W){this.func=V,this.mask=$,this.range=W};Ut.ReadOnly=!1,Ut.ReadWrite=!0,Ut.disabled=new Ut(519,Ut.ReadOnly,[0,1]);var rt=function(V,$,W,te,be,Re){this.test=V,this.ref=$,this.mask=W,this.fail=te,this.depthFail=be,this.pass=Re};rt.disabled=new rt({func:519,mask:0},0,0,7680,7680,7680);var ot=function(V,$,W){this.blendFunction=V,this.blendColor=$,this.mask=W};ot.disabled=new ot(ot.Replace=[1,0],f.Color.transparent,[!1,!1,!1,!1]),ot.unblended=new ot(ot.Replace,f.Color.transparent,[!0,!0,!0,!0]),ot.alphaBlended=new ot([1,771],f.Color.transparent,[!0,!0,!0,!0]);var Je=function(V,$,W){this.enable=V,this.mode=$,this.frontFace=W};Je.disabled=new Je(!1,1029,2305),Je.backCCW=new Je(!0,1029,2305);var it=function(V){this.gl=V,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new ge(this),this.clearDepth=new xe(this),this.clearStencil=new Se(this),this.colorMask=new Te(this),this.depthMask=new ye(this),this.stencilMask=new we(this),this.stencilFunc=new ze(this),this.stencilOp=new ke(this),this.stencilTest=new Ee(this),this.depthRange=new me(this),this.depthTest=new de(this),this.depthFunc=new ce(this),this.blend=new Ae(this),this.blendFunc=new Ne(this),this.blendColor=new De(this),this.blendEquation=new Ue(this),this.cullFace=new Ye(this),this.cullFaceSide=new _e(this),this.frontFace=new Pe(this),this.program=new Ie(this),this.activeTexture=new Be(this),this.viewport=new We(this),this.bindFramebuffer=new Ge(this),this.bindRenderbuffer=new Ke(this),this.bindTexture=new tt(this),this.bindVertexBuffer=new st(this),this.bindElementBuffer=new gt(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new ct(this),this.pixelStoreUnpack=new kt(this),this.pixelStoreUnpackPremultiplyAlpha=new Dt(this),this.pixelStoreUnpackFlipY=new vt(this),this.extTextureFilterAnisotropic=V.getExtension("EXT_texture_filter_anisotropic")||V.getExtension("MOZ_EXT_texture_filter_anisotropic")||V.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=V.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=V.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(V.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=V.getExtension("EXT_color_buffer_half_float")),this.extTimerQuery=V.getExtension("EXT_disjoint_timer_query")};it.prototype.setDefault=function(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()},it.prototype.setDirty=function(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0},it.prototype.createIndexBuffer=function(V,$){return new ae(this,V,$)},it.prototype.createVertexBuffer=function(V,$,W){return new he(this,V,$,W)},it.prototype.createRenderbuffer=function(V,$,W){var te=this.gl,be=te.createRenderbuffer();return this.bindRenderbuffer.set(be),te.renderbufferStorage(te.RENDERBUFFER,V,$,W),this.bindRenderbuffer.set(null),be},it.prototype.createFramebuffer=function(V,$,W){return new Rt(this,V,$,W)},it.prototype.clear=function(V){var $=V.color,W=V.depth,te=this.gl,be=0;$&&(be|=te.COLOR_BUFFER_BIT,this.clearColor.set($),this.colorMask.set([!0,!0,!0,!0])),void 0!==W&&(be|=te.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(W),this.depthMask.set(!0)),te.clear(be)},it.prototype.setCullFace=function(V){!1===V.enable?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(V.mode),this.frontFace.set(V.frontFace))},it.prototype.setDepthMode=function(V){V.func!==this.gl.ALWAYS||V.mask?(this.depthTest.set(!0),this.depthFunc.set(V.func),this.depthMask.set(V.mask),this.depthRange.set(V.range)):this.depthTest.set(!1)},it.prototype.setStencilMode=function(V){V.test.func!==this.gl.ALWAYS||V.mask?(this.stencilTest.set(!0),this.stencilMask.set(V.mask),this.stencilOp.set([V.fail,V.depthFail,V.pass]),this.stencilFunc.set({func:V.test.func,ref:V.ref,mask:V.test.mask})):this.stencilTest.set(!1)},it.prototype.setColorMode=function(V){f.deepEqual(V.blendFunction,ot.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(V.blendFunction),this.blendColor.set(V.blendColor)),this.colorMask.set(V.mask)},it.prototype.unbindVAO=function(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)};var dt=function(V){function $(W,te,be){var Re=this;V.call(this),this.id=W,this.dispatcher=be,this.on("data",function(H){"source"===H.dataType&&"metadata"===H.sourceDataType&&(Re._sourceLoaded=!0),Re._sourceLoaded&&!Re._paused&&"source"===H.dataType&&"content"===H.sourceDataType&&(Re.reload(),Re.transform&&Re.update(Re.transform))}),this.on("error",function(){Re._sourceErrored=!0}),this._source=function(H,ie,fe,Me){var Ce=new se[ie.type](H,ie,fe,Me);if(Ce.id!==H)throw new Error("Expected Source id to be "+H+" instead of "+Ce.id);return f.bindAll(["load","abort","unload","serialize","prepare"],Ce),Ce}(W,te,be,this),this._tiles={},this._cache=new ne(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new f.SourceFeatureState}return V&&($.__proto__=V),($.prototype=Object.create(V&&V.prototype)).constructor=$,$.prototype.onAdd=function(W){this.map=W,this._maxTileCacheSize=W?W._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(W)},$.prototype.onRemove=function(W){this._source&&this._source.onRemove&&this._source.onRemove(W)},$.prototype.loaded=function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(var W in this._tiles){var te=this._tiles[W];if("loaded"!==te.state&&"errored"!==te.state)return!1}return!0},$.prototype.getSource=function(){return this._source},$.prototype.pause=function(){this._paused=!0},$.prototype.resume=function(){if(this._paused){var W=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,W&&this.reload(),this.transform&&this.update(this.transform)}},$.prototype._loadTile=function(W,te){return this._source.loadTile(W,te)},$.prototype._unloadTile=function(W){if(this._source.unloadTile)return this._source.unloadTile(W,function(){})},$.prototype._abortTile=function(W){if(this._source.abortTile)return this._source.abortTile(W,function(){})},$.prototype.serialize=function(){return this._source.serialize()},$.prototype.prepare=function(W){for(var te in this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null),this._tiles){var be=this._tiles[te];be.upload(W),be.prepare(this.map.style.imageManager)}},$.prototype.getIds=function(){return f.values(this._tiles).map(function(W){return W.tileID}).sort(ht).map(function(W){return W.key})},$.prototype.getRenderableIds=function(W){var te=this,be=[];for(var Re in this._tiles)this._isIdRenderable(Re,W)&&be.push(this._tiles[Re]);return W?be.sort(function(H,ie){var fe=H.tileID,Me=ie.tileID,Ce=new f.Point(fe.canonical.x,fe.canonical.y)._rotate(te.transform.angle),Fe=new f.Point(Me.canonical.x,Me.canonical.y)._rotate(te.transform.angle);return fe.overscaledZ-Me.overscaledZ||Fe.y-Ce.y||Fe.x-Ce.x}).map(function(H){return H.tileID.key}):be.map(function(H){return H.tileID}).sort(ht).map(function(H){return H.key})},$.prototype.hasRenderableParent=function(W){var te=this.findLoadedParent(W,0);return!!te&&this._isIdRenderable(te.tileID.key)},$.prototype._isIdRenderable=function(W,te){return this._tiles[W]&&this._tiles[W].hasData()&&!this._coveredTiles[W]&&(te||!this._tiles[W].holdingForFade())},$.prototype.reload=function(){if(this._paused)this._shouldReloadOnResume=!0;else for(var W in this._cache.reset(),this._tiles)"errored"!==this._tiles[W].state&&this._reloadTile(W,"reloading")},$.prototype._reloadTile=function(W,te){var be=this._tiles[W];be&&("loading"!==be.state&&(be.state=te),this._loadTile(be,this._tileLoaded.bind(this,be,W,te)))},$.prototype._tileLoaded=function(W,te,be,Re){if(Re)return W.state="errored",void(404!==Re.status?this._source.fire(new f.ErrorEvent(Re,{tile:W})):this.update(this.transform));W.timeAdded=f.browser.now(),"expired"===be&&(W.refreshedUponExpiration=!0),this._setTileReloadTimer(te,W),"raster-dem"===this.getSource().type&&W.dem&&this._backfillDEM(W),this._state.initializeTileState(W,this.map?this.map.painter:null),this._source.fire(new f.Event("data",{dataType:"source",tile:W,coord:W.tileID}))},$.prototype._backfillDEM=function(W){for(var te=this.getRenderableIds(),be=0;be<te.length;be++){var Re=te[be];if(W.neighboringTiles&&W.neighboringTiles[Re]){var H=this.getTileByID(Re);ie(W,H),ie(H,W)}}function ie(fe,Me){fe.needsHillshadePrepare=!0;var Ce=Me.tileID.canonical.x-fe.tileID.canonical.x,Fe=Me.tileID.canonical.y-fe.tileID.canonical.y,$e=Math.pow(2,fe.tileID.canonical.z),Xe=Me.tileID.key;0===Ce&&0===Fe||Math.abs(Fe)>1||(Math.abs(Ce)>1&&(1===Math.abs(Ce+$e)?Ce+=$e:1===Math.abs(Ce-$e)&&(Ce-=$e)),Me.dem&&fe.dem&&(fe.dem.backfillBorder(Me.dem,Ce,Fe),fe.neighboringTiles&&fe.neighboringTiles[Xe]&&(fe.neighboringTiles[Xe].backfilled=!0)))}},$.prototype.getTile=function(W){return this.getTileByID(W.key)},$.prototype.getTileByID=function(W){return this._tiles[W]},$.prototype._retainLoadedChildren=function(W,te,be,Re){for(var H in this._tiles){var ie=this._tiles[H];if(!(Re[H]||!ie.hasData()||ie.tileID.overscaledZ<=te||ie.tileID.overscaledZ>be)){for(var fe=ie.tileID;ie&&ie.tileID.overscaledZ>te+1;){var Me=ie.tileID.scaledTo(ie.tileID.overscaledZ-1);(ie=this._tiles[Me.key])&&ie.hasData()&&(fe=Me)}for(var Ce=fe;Ce.overscaledZ>te;)if(W[(Ce=Ce.scaledTo(Ce.overscaledZ-1)).key]){Re[fe.key]=fe;break}}}},$.prototype.findLoadedParent=function(W,te){if(W.key in this._loadedParentTiles){var be=this._loadedParentTiles[W.key];return be&&be.tileID.overscaledZ>=te?be:null}for(var Re=W.overscaledZ-1;Re>=te;Re--){var H=W.scaledTo(Re),ie=this._getLoadedTile(H);if(ie)return ie}},$.prototype._getLoadedTile=function(W){var te=this._tiles[W.key];return te&&te.hasData()?te:this._cache.getByKey(W.wrapped().key)},$.prototype.updateCacheSize=function(W){var te=(Math.ceil(W.width/this._source.tileSize)+1)*(Math.ceil(W.height/this._source.tileSize)+1),be=Math.floor(5*te),Re="number"==typeof this._maxTileCacheSize?Math.min(this._maxTileCacheSize,be):be;this._cache.setMaxSize(Re)},$.prototype.handleWrapJump=function(W){var be=Math.round((W-(void 0===this._prevLng?W:this._prevLng))/360);if(this._prevLng=W,be){var Re={};for(var H in this._tiles){var ie=this._tiles[H];ie.tileID=ie.tileID.unwrapTo(ie.tileID.wrap+be),Re[ie.tileID.key]=ie}for(var fe in this._tiles=Re,this._timers)clearTimeout(this._timers[fe]),delete this._timers[fe];for(var Me in this._tiles)this._setTileReloadTimer(Me,this._tiles[Me])}},$.prototype.update=function(W){var te=this;if(this.transform=W,this._sourceLoaded&&!this._paused){var be;this.updateCacheSize(W),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used?this._source.tileID?be=W.getVisibleUnwrappedCoordinates(this._source.tileID).map(function(Vt){return new f.OverscaledTileID(Vt.canonical.z,Vt.wrap,Vt.canonical.z,Vt.canonical.x,Vt.canonical.y)}):(be=W.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(be=be.filter(function(Vt){return te._source.hasTile(Vt)}))):be=[];var Re=W.coveringZoomLevel(this._source),H=Math.max(Re-$.maxOverzooming,this._source.minzoom),ie=Math.max(Re+$.maxUnderzooming,this._source.minzoom),fe=this._updateRetainedTiles(be,Re);if(Ve(this._source.type)){for(var Me={},Ce={},Fe=0,$e=Object.keys(fe);Fe<$e.length;Fe+=1){var Xe=$e[Fe],Qe=fe[Xe],nt=this._tiles[Xe];if(nt&&!(nt.fadeEndTime&&nt.fadeEndTime<=f.browser.now())){var lt=this.findLoadedParent(Qe,H);lt&&(this._addTile(lt.tileID),Me[lt.tileID.key]=lt.tileID),Ce[Xe]=Qe}}for(var _t in this._retainLoadedChildren(Ce,Re,ie,fe),Me)fe[_t]||(this._coveredTiles[_t]=!0,fe[_t]=Me[_t])}for(var At in fe)this._tiles[At].clearFadeHold();for(var jt=0,Ht=f.keysDifference(this._tiles,fe);jt<Ht.length;jt+=1){var zt=Ht[jt],Xt=this._tiles[zt];Xt.hasSymbolBuckets&&!Xt.holdingForFade()?Xt.setHoldDuration(this.map._fadeDuration):Xt.hasSymbolBuckets&&!Xt.symbolFadeFinished()||this._removeTile(zt)}this._updateLoadedParentTileCache()}},$.prototype.releaseSymbolFadeTiles=function(){for(var W in this._tiles)this._tiles[W].holdingForFade()&&this._removeTile(W)},$.prototype._updateRetainedTiles=function(W,te){for(var be={},Re={},H=Math.max(te-$.maxOverzooming,this._source.minzoom),ie=Math.max(te+$.maxUnderzooming,this._source.minzoom),fe={},Me=0,Ce=W;Me<Ce.length;Me+=1){var Fe=Ce[Me],$e=this._addTile(Fe);be[Fe.key]=Fe,$e.hasData()||te<this._source.maxzoom&&(fe[Fe.key]=Fe)}this._retainLoadedChildren(fe,te,ie,be);for(var Xe=0,Qe=W;Xe<Qe.length;Xe+=1){var nt=Qe[Xe],lt=this._tiles[nt.key];if(!lt.hasData()){if(te+1>this._source.maxzoom){var _t=nt.children(this._source.maxzoom)[0],At=this.getTile(_t);if(At&&At.hasData()){be[_t.key]=_t;continue}}else{var jt=nt.children(this._source.maxzoom);if(be[jt[0].key]&&be[jt[1].key]&&be[jt[2].key]&&be[jt[3].key])continue}for(var Ht=lt.wasRequested(),zt=nt.overscaledZ-1;zt>=H;--zt){var Xt=nt.scaledTo(zt);if(Re[Xt.key]||(Re[Xt.key]=!0,!(lt=this.getTile(Xt))&&Ht&&(lt=this._addTile(Xt)),lt&&(be[Xt.key]=Xt,Ht=lt.wasRequested(),lt.hasData())))break}}}return be},$.prototype._updateLoadedParentTileCache=function(){for(var W in this._loadedParentTiles={},this._tiles){for(var te=[],be=void 0,Re=this._tiles[W].tileID;Re.overscaledZ>0;){if(Re.key in this._loadedParentTiles){be=this._loadedParentTiles[Re.key];break}te.push(Re.key);var H=Re.scaledTo(Re.overscaledZ-1);if(be=this._getLoadedTile(H))break;Re=H}for(var ie=0,fe=te;ie<fe.length;ie+=1)this._loadedParentTiles[fe[ie]]=be}},$.prototype._addTile=function(W){var te=this._tiles[W.key];if(te)return te;(te=this._cache.getAndRemove(W))&&(this._setTileReloadTimer(W.key,te),te.tileID=W,this._state.initializeTileState(te,this.map?this.map.painter:null),this._cacheTimers[W.key]&&(clearTimeout(this._cacheTimers[W.key]),delete this._cacheTimers[W.key],this._setTileReloadTimer(W.key,te)));var be=!!te;return be||(te=new f.Tile(W,this._source.tileSize*W.overscaleFactor()),this._loadTile(te,this._tileLoaded.bind(this,te,W.key,te.state))),te?(te.uses++,this._tiles[W.key]=te,be||this._source.fire(new f.Event("dataloading",{tile:te,coord:te.tileID,dataType:"source"})),te):null},$.prototype._setTileReloadTimer=function(W,te){var be=this;W in this._timers&&(clearTimeout(this._timers[W]),delete this._timers[W]);var Re=te.getExpiryTimeout();Re&&(this._timers[W]=setTimeout(function(){be._reloadTile(W,"expired"),delete be._timers[W]},Re))},$.prototype._removeTile=function(W){var te=this._tiles[W];te&&(te.uses--,delete this._tiles[W],this._timers[W]&&(clearTimeout(this._timers[W]),delete this._timers[W]),te.uses>0||(te.hasData()&&"reloading"!==te.state?this._cache.add(te.tileID,te,te.getExpiryTimeout()):(te.aborted=!0,this._abortTile(te),this._unloadTile(te))))},$.prototype.clearTiles=function(){for(var W in this._shouldReloadOnResume=!1,this._paused=!1,this._tiles)this._removeTile(W);this._cache.reset()},$.prototype.tilesIn=function(W,te,be){var Re=this,H=[],ie=this.transform;if(!ie)return H;for(var fe=be?ie.getCameraQueryGeometry(W):W,Me=W.map(function(zt){return ie.pointCoordinate(zt)}),Ce=fe.map(function(zt){return ie.pointCoordinate(zt)}),Fe=this.getIds(),$e=1/0,Xe=1/0,Qe=-1/0,nt=-1/0,lt=0,_t=Ce;lt<_t.length;lt+=1){var At=_t[lt];$e=Math.min($e,At.x),Xe=Math.min(Xe,At.y),Qe=Math.max(Qe,At.x),nt=Math.max(nt,At.y)}for(var jt=function(zt){var Xt=Re._tiles[Fe[zt]];if(!Xt.holdingForFade()){var Vt=Xt.tileID,mn=Math.pow(2,ie.zoom-Xt.tileID.overscaledZ),sn=te*Xt.queryPadding*f.EXTENT/Xt.tileSize/mn,tn=[Vt.getTilePoint(new f.MercatorCoordinate($e,Xe)),Vt.getTilePoint(new f.MercatorCoordinate(Qe,nt))];if(tn[0].x-sn<f.EXTENT&&tn[0].y-sn<f.EXTENT&&tn[1].x+sn>=0&&tn[1].y+sn>=0){var On=Me.map(function(rr){return Vt.getTilePoint(rr)}),In=Ce.map(function(rr){return Vt.getTilePoint(rr)});H.push({tile:Xt,tileID:Vt,queryGeometry:On,cameraQueryGeometry:In,scale:mn})}}},Ht=0;Ht<Fe.length;Ht++)jt(Ht);return H},$.prototype.getVisibleCoordinates=function(W){for(var te=this,be=this.getRenderableIds(W).map(function(fe){return te._tiles[fe].tileID}),Re=0,H=be;Re<H.length;Re+=1){var ie=H[Re];ie.posMatrix=this.transform.calculatePosMatrix(ie.toUnwrapped())}return be},$.prototype.hasTransition=function(){if(this._source.hasTransition())return!0;if(Ve(this._source.type))for(var W in this._tiles){var te=this._tiles[W];if(void 0!==te.fadeEndTime&&te.fadeEndTime>=f.browser.now())return!0}return!1},$.prototype.setFeatureState=function(W,te,be){this._state.updateState(W=W||"_geojsonTileLayer",te,be)},$.prototype.removeFeatureState=function(W,te,be){this._state.removeFeatureState(W=W||"_geojsonTileLayer",te,be)},$.prototype.getFeatureState=function(W,te){return this._state.getState(W=W||"_geojsonTileLayer",te)},$.prototype.setDependencies=function(W,te,be){var Re=this._tiles[W];Re&&Re.setDependencies(te,be)},$.prototype.reloadTilesForDependencies=function(W,te){for(var be in this._tiles)this._tiles[be].hasDependency(W,te)&&this._reloadTile(be,"reloading");this._cache.filter(function(Re){return!Re.hasDependency(W,te)})},$}(f.Evented);function ht(V,$){var W=Math.abs(2*V.wrap)-+(V.wrap<0),te=Math.abs(2*$.wrap)-+($.wrap<0);return V.overscaledZ-$.overscaledZ||te-W||$.canonical.y-V.canonical.y||$.canonical.x-V.canonical.x}function Ve(V){return"raster"===V||"image"===V||"video"===V}function qe(){return new f.window.Worker(vl.workerUrl)}dt.maxOverzooming=10,dt.maxUnderzooming=3;var ut="mapboxgl_preloaded_worker_pool",ft=function(){this.active={}};ft.prototype.acquire=function(V){if(!this.workers)for(this.workers=[];this.workers.length<ft.workerCount;)this.workers.push(new qe);return this.active[V]=!0,this.workers.slice()},ft.prototype.release=function(V){delete this.active[V],0===this.numActive()&&(this.workers.forEach(function($){$.terminate()}),this.workers=null)},ft.prototype.isPreloaded=function(){return!!this.active[ut]},ft.prototype.numActive=function(){return Object.keys(this.active).length};var St,Mt=Math.floor(f.browser.hardwareConcurrency/2);function Tt(){return St||(St=new ft),St}function xt(V,$){var W={};for(var te in V)"ref"!==te&&(W[te]=V[te]);return f.refProperties.forEach(function(be){be in $&&(W[be]=$[be])}),W}function Nt(V){V=V.slice();for(var $=Object.create(null),W=0;W<V.length;W++)$[V[W].id]=V[W];for(var te=0;te<V.length;te++)"ref"in V[te]&&(V[te]=xt(V[te],$[V[te].ref]));return V}ft.workerCount=Math.max(Math.min(Mt,6),1);var bt={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function wt(V,$,W){W.push({command:bt.addSource,args:[V,$[V]]})}function It(V,$,W){$.push({command:bt.removeSource,args:[V]}),W[V]=!0}function Wt(V,$,W,te){It(V,W,te),wt(V,$,W)}function Yt(V,$,W){var te;for(te in V[W])if(V[W].hasOwnProperty(te)&&"data"!==te&&!f.deepEqual(V[W][te],$[W][te]))return!1;for(te in $[W])if($[W].hasOwnProperty(te)&&"data"!==te&&!f.deepEqual(V[W][te],$[W][te]))return!1;return!0}function Zt(V,$,W,te,be,Re){var H;for(H in $=$||{},V=V||{})V.hasOwnProperty(H)&&(f.deepEqual(V[H],$[H])||W.push({command:Re,args:[te,H,$[H],be]}));for(H in $)$.hasOwnProperty(H)&&!V.hasOwnProperty(H)&&(f.deepEqual(V[H],$[H])||W.push({command:Re,args:[te,H,$[H],be]}))}function dn(V){return V.id}function nn(V,$){return V[$.id]=$,V}var rn=function(V,$){this.reset(V,$)};rn.prototype.reset=function(V,$){this.points=V||[],this._distances=[0];for(var W=1;W<this.points.length;W++)this._distances[W]=this._distances[W-1]+this.points[W].dist(this.points[W-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min($||0,.5*this.length),this.paddedLength=this.length-2*this.padding},rn.prototype.lerp=function(V){if(1===this.points.length)return this.points[0];V=f.clamp(V,0,1);for(var $=1,W=this._distances[$],te=V*this.paddedLength+this.padding;W<te&&$<this._distances.length;)W=this._distances[++$];var be=$-1,Re=this._distances[be],H=W-Re,ie=H>0?(te-Re)/H:0;return this.points[be].mult(1-ie).add(this.points[$].mult(ie))};var kn=function(V,$,W){var te=this.boxCells=[],be=this.circleCells=[];this.xCellCount=Math.ceil(V/W),this.yCellCount=Math.ceil($/W);for(var Re=0;Re<this.xCellCount*this.yCellCount;Re++)te.push([]),be.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=V,this.height=$,this.xScale=this.xCellCount/V,this.yScale=this.yCellCount/$,this.boxUid=0,this.circleUid=0};function Pn(V,$,W,te,be){var Re=f.create();return $?(f.scale(Re,Re,[1/be,1/be,1]),W||f.rotateZ(Re,Re,te.angle)):f.multiply(Re,te.labelPlaneMatrix,V),Re}function Sn(V,$,W,te,be){if($){var Re=f.clone(V);return f.scale(Re,Re,[be,be,1]),W||f.rotateZ(Re,Re,-te.angle),Re}return te.glCoordMatrix}function en(V,$){var W=[V.x,V.y,0,1];dr(W,W,$);var te=W[3];return{point:new f.Point(W[0]/te,W[1]/te),signedDistanceFromCamera:te}}function vn(V,$){return.5+V/$*.5}function hn(V,$){var W=V[0]/V[3],te=V[1]/V[3];return W>=-$[0]&&W<=$[0]&&te>=-$[1]&&te<=$[1]}function yn(V,$,W,te,be,Re,H,ie){var fe=te?V.textSizeData:V.iconSizeData,Me=f.evaluateSizeForZoom(fe,W.transform.zoom),Ce=[256/W.width*2+1,256/W.height*2+1],Fe=te?V.text.dynamicLayoutVertexArray:V.icon.dynamicLayoutVertexArray;Fe.clear();for(var $e=V.lineVertexArray,Xe=te?V.text.placedSymbolArray:V.icon.placedSymbolArray,Qe=W.transform.width/W.transform.height,nt=!1,lt=0;lt<Xe.length;lt++){var _t=Xe.get(lt);if(_t.hidden||_t.writingMode===f.WritingMode.vertical&&!nt)_r(_t.numGlyphs,Fe);else{nt=!1;var At=[_t.anchorX,_t.anchorY,0,1];if(f.transformMat4(At,At,$),hn(At,Ce)){var Ht=vn(W.transform.cameraToCenterDistance,At[3]),zt=f.evaluateSizeForFeature(fe,Me,_t),Xt=H?zt/Ht:zt*Ht,Vt=new f.Point(_t.anchorX,_t.anchorY),mn=en(Vt,be).point,sn={},tn=Un(_t,Xt,!1,ie,$,be,Re,V.glyphOffsetArray,$e,Fe,mn,Vt,sn,Qe);nt=tn.useVertical,(tn.notEnoughRoom||nt||tn.needsFlipping&&Un(_t,Xt,!0,ie,$,be,Re,V.glyphOffsetArray,$e,Fe,mn,Vt,sn,Qe).notEnoughRoom)&&_r(_t.numGlyphs,Fe)}else _r(_t.numGlyphs,Fe)}}te?V.text.dynamicLayoutVertexBuffer.updateData(Fe):V.icon.dynamicLayoutVertexBuffer.updateData(Fe)}function Cn(V,$,W,te,be,Re,H,ie,fe,Me,Ce){var Fe=ie.glyphStartIndex+ie.numGlyphs,$e=ie.lineStartIndex,Xe=ie.lineStartIndex+ie.lineLength,Qe=$.getoffsetX(ie.glyphStartIndex),nt=$.getoffsetX(Fe-1),lt=Ln(V*Qe,W,te,be,Re,H,ie.segment,$e,Xe,fe,Me,Ce);if(!lt)return null;var _t=Ln(V*nt,W,te,be,Re,H,ie.segment,$e,Xe,fe,Me,Ce);return _t?{first:lt,last:_t}:null}function _n(V,$,W,te){return V===f.WritingMode.horizontal&&Math.abs(W.y-$.y)>Math.abs(W.x-$.x)*te?{useVertical:!0}:(V===f.WritingMode.vertical?$.y<W.y:$.x>W.x)?{needsFlipping:!0}:null}function Un(V,$,W,te,be,Re,H,ie,fe,Me,Ce,Fe,$e,Xe){var Qe,nt=$/24,lt=V.lineOffsetX*nt,_t=V.lineOffsetY*nt;if(V.numGlyphs>1){var At=V.glyphStartIndex+V.numGlyphs,jt=V.lineStartIndex,Ht=V.lineStartIndex+V.lineLength,zt=Cn(nt,ie,lt,_t,W,Ce,Fe,V,fe,Re,$e);if(!zt)return{notEnoughRoom:!0};var Xt=en(zt.first.point,H).point,Vt=en(zt.last.point,H).point;if(te&&!W){var mn=_n(V.writingMode,Xt,Vt,Xe);if(mn)return mn}Qe=[zt.first];for(var sn=V.glyphStartIndex+1;sn<At-1;sn++)Qe.push(Ln(nt*ie.getoffsetX(sn),lt,_t,W,Ce,Fe,V.segment,jt,Ht,fe,Re,$e));Qe.push(zt.last)}else{if(te&&!W){var tn=en(Fe,be).point,On=V.lineStartIndex+V.segment+1,In=new f.Point(fe.getx(On),fe.gety(On)),rr=en(In,be),Xn=rr.signedDistanceFromCamera>0?rr.point:qn(Fe,In,tn,1,be),ur=_n(V.writingMode,tn,Xn,Xe);if(ur)return ur}var yr=Ln(nt*ie.getoffsetX(V.glyphStartIndex),lt,_t,W,Ce,Fe,V.segment,V.lineStartIndex,V.lineStartIndex+V.lineLength,fe,Re,$e);if(!yr)return{notEnoughRoom:!0};Qe=[yr]}for(var wr=0,Er=Qe;wr<Er.length;wr+=1){var Ir=Er[wr];f.addDynamicAttributes(Me,Ir.point,Ir.angle)}return{}}function qn(V,$,W,te,be){var Re=en(V.add(V.sub($)._unit()),be).point,H=W.sub(Re);return W.add(H._mult(te/H.mag()))}function Ln(V,$,W,te,be,Re,H,ie,fe,Me,Ce,Fe){var $e=te?V-$:V+$,Xe=$e>0?1:-1,Qe=0;te&&(Xe*=-1,Qe=Math.PI),Xe<0&&(Qe+=Math.PI);for(var nt=Xe>0?ie+H:ie+H+1,lt=be,_t=be,At=0,jt=0,Ht=Math.abs($e),zt=[];At+jt<=Ht;){if((nt+=Xe)<ie||nt>=fe)return null;if(_t=lt,zt.push(lt),void 0===(lt=Fe[nt])){var Xt=new f.Point(Me.getx(nt),Me.gety(nt)),Vt=en(Xt,Ce);if(Vt.signedDistanceFromCamera>0)lt=Fe[nt]=Vt.point;else{var mn=nt-Xe;lt=qn(0===At?Re:new f.Point(Me.getx(mn),Me.gety(mn)),Xt,_t,Ht-At+1,Ce)}}At+=jt,jt=_t.dist(lt)}var sn=(Ht-At)/jt,tn=lt.sub(_t),On=tn.mult(sn)._add(_t);On._add(tn._unit()._perp()._mult(W*Xe));var In=Qe+Math.atan2(lt.y-_t.y,lt.x-_t.x);return zt.push(On),{point:On,angle:In,path:zt}}kn.prototype.keysLength=function(){return this.boxKeys.length+this.circleKeys.length},kn.prototype.insert=function(V,$,W,te,be){this._forEachCell($,W,te,be,this._insertBoxCell,this.boxUid++),this.boxKeys.push(V),this.bboxes.push($),this.bboxes.push(W),this.bboxes.push(te),this.bboxes.push(be)},kn.prototype.insertCircle=function(V,$,W,te){this._forEachCell($-te,W-te,$+te,W+te,this._insertCircleCell,this.circleUid++),this.circleKeys.push(V),this.circles.push($),this.circles.push(W),this.circles.push(te)},kn.prototype._insertBoxCell=function(V,$,W,te,be,Re){this.boxCells[be].push(Re)},kn.prototype._insertCircleCell=function(V,$,W,te,be,Re){this.circleCells[be].push(Re)},kn.prototype._query=function(V,$,W,te,be,Re){if(W<0||V>this.width||te<0||$>this.height)return!be&&[];var H=[];if(V<=0&&$<=0&&this.width<=W&&this.height<=te){if(be)return!0;for(var ie=0;ie<this.boxKeys.length;ie++)H.push({key:this.boxKeys[ie],x1:this.bboxes[4*ie],y1:this.bboxes[4*ie+1],x2:this.bboxes[4*ie+2],y2:this.bboxes[4*ie+3]});for(var fe=0;fe<this.circleKeys.length;fe++){var Me=this.circles[3*fe],Ce=this.circles[3*fe+1],Fe=this.circles[3*fe+2];H.push({key:this.circleKeys[fe],x1:Me-Fe,y1:Ce-Fe,x2:Me+Fe,y2:Ce+Fe})}return Re?H.filter(Re):H}return this._forEachCell(V,$,W,te,this._queryCell,H,{hitTest:be,seenUids:{box:{},circle:{}}},Re),be?H.length>0:H},kn.prototype._queryCircle=function(V,$,W,te,be){var Re=V-W,H=V+W,ie=$-W,fe=$+W;if(H<0||Re>this.width||fe<0||ie>this.height)return!te&&[];var Me=[];return this._forEachCell(Re,ie,H,fe,this._queryCellCircle,Me,{hitTest:te,circle:{x:V,y:$,radius:W},seenUids:{box:{},circle:{}}},be),te?Me.length>0:Me},kn.prototype.query=function(V,$,W,te,be){return this._query(V,$,W,te,!1,be)},kn.prototype.hitTest=function(V,$,W,te,be){return this._query(V,$,W,te,!0,be)},kn.prototype.hitTestCircle=function(V,$,W,te){return this._queryCircle(V,$,W,!0,te)},kn.prototype._queryCell=function(V,$,W,te,be,Re,H,ie){var fe=H.seenUids,Me=this.boxCells[be];if(null!==Me)for(var Ce=this.bboxes,Fe=0,$e=Me;Fe<$e.length;Fe+=1){var Xe=$e[Fe];if(!fe.box[Xe]){fe.box[Xe]=!0;var Qe=4*Xe;if(V<=Ce[Qe+2]&&$<=Ce[Qe+3]&&W>=Ce[Qe+0]&&te>=Ce[Qe+1]&&(!ie||ie(this.boxKeys[Xe]))){if(H.hitTest)return Re.push(!0),!0;Re.push({key:this.boxKeys[Xe],x1:Ce[Qe],y1:Ce[Qe+1],x2:Ce[Qe+2],y2:Ce[Qe+3]})}}}var nt=this.circleCells[be];if(null!==nt)for(var lt=this.circles,_t=0,At=nt;_t<At.length;_t+=1){var jt=At[_t];if(!fe.circle[jt]){fe.circle[jt]=!0;var Ht=3*jt;if(this._circleAndRectCollide(lt[Ht],lt[Ht+1],lt[Ht+2],V,$,W,te)&&(!ie||ie(this.circleKeys[jt]))){if(H.hitTest)return Re.push(!0),!0;var zt=lt[Ht],Xt=lt[Ht+1],Vt=lt[Ht+2];Re.push({key:this.circleKeys[jt],x1:zt-Vt,y1:Xt-Vt,x2:zt+Vt,y2:Xt+Vt})}}}},kn.prototype._queryCellCircle=function(V,$,W,te,be,Re,H,ie){var fe=H.circle,Me=H.seenUids,Ce=this.boxCells[be];if(null!==Ce)for(var Fe=this.bboxes,$e=0,Xe=Ce;$e<Xe.length;$e+=1){var Qe=Xe[$e];if(!Me.box[Qe]){Me.box[Qe]=!0;var nt=4*Qe;if(this._circleAndRectCollide(fe.x,fe.y,fe.radius,Fe[nt+0],Fe[nt+1],Fe[nt+2],Fe[nt+3])&&(!ie||ie(this.boxKeys[Qe])))return Re.push(!0),!0}}var lt=this.circleCells[be];if(null!==lt)for(var _t=this.circles,At=0,jt=lt;At<jt.length;At+=1){var Ht=jt[At];if(!Me.circle[Ht]){Me.circle[Ht]=!0;var zt=3*Ht;if(this._circlesCollide(_t[zt],_t[zt+1],_t[zt+2],fe.x,fe.y,fe.radius)&&(!ie||ie(this.circleKeys[Ht])))return Re.push(!0),!0}}},kn.prototype._forEachCell=function(V,$,W,te,be,Re,H,ie){for(var fe=this._convertToXCellCoord(V),Me=this._convertToYCellCoord($),Ce=this._convertToXCellCoord(W),Fe=this._convertToYCellCoord(te),$e=fe;$e<=Ce;$e++)for(var Xe=Me;Xe<=Fe;Xe++)if(be.call(this,V,$,W,te,this.xCellCount*Xe+$e,Re,H,ie))return},kn.prototype._convertToXCellCoord=function(V){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(V*this.xScale)))},kn.prototype._convertToYCellCoord=function(V){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(V*this.yScale)))},kn.prototype._circlesCollide=function(V,$,W,te,be,Re){var H=te-V,ie=be-$,fe=W+Re;return fe*fe>H*H+ie*ie},kn.prototype._circleAndRectCollide=function(V,$,W,te,be,Re,H){var ie=(Re-te)/2,fe=Math.abs(V-(te+ie));if(fe>ie+W)return!1;var Me=(H-be)/2,Ce=Math.abs($-(be+Me));if(Ce>Me+W)return!1;if(fe<=ie||Ce<=Me)return!0;var Fe=fe-ie,$e=Ce-Me;return Fe*Fe+$e*$e<=W*W};var Yn=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function _r(V,$){for(var W=0;W<V;W++){var te=$.length;$.resize(te+4),$.float32.set(Yn,3*te)}}function dr(V,$,W){var te=$[0],be=$[1];return V[0]=W[0]*te+W[4]*be+W[12],V[1]=W[1]*te+W[5]*be+W[13],V[3]=W[3]*te+W[7]*be+W[15],V}var kr=100,vr=function(V,$,W){void 0===$&&($=new kn(V.width+200,V.height+200,25)),void 0===W&&(W=new kn(V.width+200,V.height+200,25)),this.transform=V,this.grid=$,this.ignoredGrid=W,this.pitchfactor=Math.cos(V._pitch)*V.cameraToCenterDistance,this.screenRightBoundary=V.width+kr,this.screenBottomBoundary=V.height+kr,this.gridRightBoundary=V.width+200,this.gridBottomBoundary=V.height+200};function mr(V,$,W){return $*(f.EXTENT/(V.tileSize*Math.pow(2,W-V.tileID.overscaledZ)))}vr.prototype.placeCollisionBox=function(V,$,W,te,be){var Re=this.projectAndGetPerspectiveRatio(te,V.anchorPointX,V.anchorPointY),H=W*Re.perspectiveRatio,ie=V.x1*H+Re.point.x,fe=V.y1*H+Re.point.y,Me=V.x2*H+Re.point.x,Ce=V.y2*H+Re.point.y;return!this.isInsideGrid(ie,fe,Me,Ce)||!$&&this.grid.hitTest(ie,fe,Me,Ce,be)?{box:[],offscreen:!1}:{box:[ie,fe,Me,Ce],offscreen:this.isOffscreen(ie,fe,Me,Ce)}},vr.prototype.placeCollisionCircles=function(V,$,W,te,be,Re,H,ie,fe,Me,Ce,Fe,$e){var Xe=[],Qe=new f.Point($.anchorX,$.anchorY),nt=en(Qe,Re),lt=vn(this.transform.cameraToCenterDistance,nt.signedDistanceFromCamera),_t=(Me?be/lt:be*lt)/f.ONE_EM,At=en(Qe,H).point,jt=Cn(_t,te,$.lineOffsetX*_t,$.lineOffsetY*_t,!1,At,Qe,$,W,H,{}),Ht=!1,zt=!1,Xt=!0;if(jt){for(var Vt=.5*Fe*lt+$e,mn=new f.Point(-100,-100),sn=new f.Point(this.screenRightBoundary,this.screenBottomBoundary),tn=new rn,On=jt.first,In=jt.last,rr=[],Xn=On.path.length-1;Xn>=1;Xn--)rr.push(On.path[Xn]);for(var ur=1;ur<In.path.length;ur++)rr.push(In.path[ur]);var yr=2.5*Vt;if(ie){var wr=rr.map(function(Kr){return en(Kr,ie)});rr=wr.some(function(Kr){return Kr.signedDistanceFromCamera<=0})?[]:wr.map(function(Kr){return Kr.point})}var Er=[];if(rr.length>0){for(var Ir=rr[0].clone(),Rr=rr[0].clone(),ai=1;ai<rr.length;ai++)Ir.x=Math.min(Ir.x,rr[ai].x),Ir.y=Math.min(Ir.y,rr[ai].y),Rr.x=Math.max(Rr.x,rr[ai].x),Rr.y=Math.max(Rr.y,rr[ai].y);Er=Ir.x>=mn.x&&Rr.x<=sn.x&&Ir.y>=mn.y&&Rr.y<=sn.y?[rr]:Rr.x<mn.x||Ir.x>sn.x||Rr.y<mn.y||Ir.y>sn.y?[]:f.clipLine([rr],mn.x,mn.y,sn.x,sn.y)}for(var ar=0,Mr=Er;ar<Mr.length;ar+=1){var qr;tn.reset(Mr[ar],.25*Vt),qr=tn.length<=.5*Vt?1:Math.ceil(tn.paddedLength/yr)+1;for(var ri=0;ri<qr;ri++){var gi=ri/Math.max(qr-1,1),Ti=tn.lerp(gi),Yi=Ti.x+kr,vo=Ti.y+kr;Xe.push(Yi,vo,Vt,0);var ho=Yi-Vt,Zi=vo-Vt,Do=Yi+Vt,ma=vo+Vt;if(Xt=Xt&&this.isOffscreen(ho,Zi,Do,ma),zt=zt||this.isInsideGrid(ho,Zi,Do,ma),!V&&this.grid.hitTestCircle(Yi,vo,Vt,Ce)&&(Ht=!0,!fe))return{circles:[],offscreen:!1,collisionDetected:Ht}}}}return{circles:!fe&&Ht||!zt?[]:Xe,offscreen:Xt,collisionDetected:Ht}},vr.prototype.queryRenderedSymbols=function(V){if(0===V.length||0===this.grid.keysLength()&&0===this.ignoredGrid.keysLength())return{};for(var $=[],W=1/0,te=1/0,be=-1/0,Re=-1/0,H=0,ie=V;H<ie.length;H+=1){var fe=ie[H],Me=new f.Point(fe.x+kr,fe.y+kr);W=Math.min(W,Me.x),te=Math.min(te,Me.y),be=Math.max(be,Me.x),Re=Math.max(Re,Me.y),$.push(Me)}for(var Ce={},Fe={},$e=0,Xe=this.grid.query(W,te,be,Re).concat(this.ignoredGrid.query(W,te,be,Re));$e<Xe.length;$e+=1){var Qe=Xe[$e],nt=Qe.key;if(void 0===Ce[nt.bucketInstanceId]&&(Ce[nt.bucketInstanceId]={}),!Ce[nt.bucketInstanceId][nt.featureIndex]){var lt=[new f.Point(Qe.x1,Qe.y1),new f.Point(Qe.x2,Qe.y1),new f.Point(Qe.x2,Qe.y2),new f.Point(Qe.x1,Qe.y2)];f.polygonIntersectsPolygon($,lt)&&(Ce[nt.bucketInstanceId][nt.featureIndex]=!0,void 0===Fe[nt.bucketInstanceId]&&(Fe[nt.bucketInstanceId]=[]),Fe[nt.bucketInstanceId].push(nt.featureIndex))}}return Fe},vr.prototype.insertCollisionBox=function(V,$,W,te,be){($?this.ignoredGrid:this.grid).insert({bucketInstanceId:W,featureIndex:te,collisionGroupID:be},V[0],V[1],V[2],V[3])},vr.prototype.insertCollisionCircles=function(V,$,W,te,be){for(var Re=$?this.ignoredGrid:this.grid,H={bucketInstanceId:W,featureIndex:te,collisionGroupID:be},ie=0;ie<V.length;ie+=4)Re.insertCircle(H,V[ie],V[ie+1],V[ie+2])},vr.prototype.projectAndGetPerspectiveRatio=function(V,$,W){var te=[$,W,0,1];return dr(te,te,V),{point:new f.Point((te[0]/te[3]+1)/2*this.transform.width+kr,(-te[1]/te[3]+1)/2*this.transform.height+kr),perspectiveRatio:.5+this.transform.cameraToCenterDistance/te[3]*.5}},vr.prototype.isOffscreen=function(V,$,W,te){return W<kr||V>=this.screenRightBoundary||te<kr||$>this.screenBottomBoundary},vr.prototype.isInsideGrid=function(V,$,W,te){return W>=0&&V<this.gridRightBoundary&&te>=0&&$<this.gridBottomBoundary},vr.prototype.getViewportMatrix=function(){var V=f.identity([]);return f.translate(V,V,[-100,-100,0]),V};var Br=function(V,$,W,te){this.opacity=V?Math.max(0,Math.min(1,V.opacity+(V.placed?$:-$))):te&&W?1:0,this.placed=W};Br.prototype.isHidden=function(){return 0===this.opacity&&!this.placed};var qt=function(V,$,W,te,be){this.text=new Br(V?V.text:null,$,W,be),this.icon=new Br(V?V.icon:null,$,te,be)};qt.prototype.isHidden=function(){return this.text.isHidden()&&this.icon.isHidden()};var on=function(V,$,W){this.text=V,this.icon=$,this.skipFade=W},An=function(){this.invProjMatrix=f.create(),this.viewportMatrix=f.create(),this.circles=[]},Dn=function(V,$,W,te,be){this.bucketInstanceId=V,this.featureIndex=$,this.sourceLayerIndex=W,this.bucketIndex=te,this.tileID=be},Bn=function(V){this.crossSourceCollisions=V,this.maxGroupID=0,this.collisionGroups={}};function fr(V,$,W,te,be){var Re=f.getAnchorAlignment(V),H=-(Re.horizontalAlign-.5)*$,ie=-(Re.verticalAlign-.5)*W,fe=f.evaluateVariableOffset(V,te);return new f.Point(H+fe[0]*be,ie+fe[1]*be)}function bn(V,$,W,te,be,Re){var H=V.x1,ie=V.x2,fe=V.y1,Me=V.y2,Ce=V.anchorPointX,Fe=V.anchorPointY,$e=new f.Point($,W);return te&&$e._rotate(be?Re:-Re),{x1:H+$e.x,y1:fe+$e.y,x2:ie+$e.x,y2:Me+$e.y,anchorPointX:Ce,anchorPointY:Fe}}Bn.prototype.get=function(V){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[V]){var $=++this.maxGroupID;this.collisionGroups[V]={ID:$,predicate:function(W){return W.collisionGroupID===$}}}return this.collisionGroups[V]};var Qn=function(V,$,W,te){this.transform=V.clone(),this.collisionIndex=new vr(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=$,this.retainedQueryData={},this.collisionGroups=new Bn(W),this.collisionCircleArrays={},this.prevPlacement=te,te&&(te.prevPlacement=void 0),this.placedOrientations={}};function er(V,$,W,te,be){V.emplaceBack($?1:0,W?1:0,te||0,be||0),V.emplaceBack($?1:0,W?1:0,te||0,be||0),V.emplaceBack($?1:0,W?1:0,te||0,be||0),V.emplaceBack($?1:0,W?1:0,te||0,be||0)}Qn.prototype.getBucketParts=function(V,$,W,te){var be=W.getBucket($),Re=W.latestFeatureIndex;if(be&&Re&&$.id===be.layerIds[0]){var H=W.collisionBoxArray,ie=be.layers[0].layout,fe=Math.pow(2,this.transform.zoom-W.tileID.overscaledZ),Me=W.tileSize/f.EXTENT,Ce=this.transform.calculatePosMatrix(W.tileID.toUnwrapped()),Fe="map"===ie.get("text-pitch-alignment"),$e="map"===ie.get("text-rotation-alignment"),Xe=mr(W,1,this.transform.zoom),Qe=Pn(Ce,Fe,$e,this.transform,Xe),nt=null;if(Fe){var lt=Sn(Ce,Fe,$e,this.transform,Xe);nt=f.multiply([],this.transform.labelPlaneMatrix,lt)}this.retainedQueryData[be.bucketInstanceId]=new Dn(be.bucketInstanceId,Re,be.sourceLayerIndex,be.index,W.tileID);var _t={bucket:be,layout:ie,posMatrix:Ce,textLabelPlaneMatrix:Qe,labelToScreenMatrix:nt,scale:fe,textPixelRatio:Me,holdingForFade:W.holdingForFade(),collisionBoxArray:H,partiallyEvaluatedTextSize:f.evaluateSizeForZoom(be.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(be.sourceID)};if(te)for(var At=0,jt=be.sortKeyRanges;At<jt.length;At+=1){var Ht=jt[At];V.push({sortKey:Ht.sortKey,symbolInstanceStart:Ht.symbolInstanceStart,symbolInstanceEnd:Ht.symbolInstanceEnd,parameters:_t})}else V.push({symbolInstanceStart:0,symbolInstanceEnd:be.symbolInstances.length,parameters:_t})}},Qn.prototype.attemptAnchorPlacement=function(V,$,W,te,be,Re,H,ie,fe,Me,Ce,Fe,$e,Xe,Qe){var nt,lt=[Fe.textOffset0,Fe.textOffset1],_t=fr(V,W,te,lt,be),At=this.collisionIndex.placeCollisionBox(bn($,_t.x,_t.y,Re,H,this.transform.angle),Ce,ie,fe,Me.predicate);if(!Qe||0!==this.collisionIndex.placeCollisionBox(bn(Qe,_t.x,_t.y,Re,H,this.transform.angle),Ce,ie,fe,Me.predicate).box.length)return At.box.length>0?(this.prevPlacement&&this.prevPlacement.variableOffsets[Fe.crossTileID]&&this.prevPlacement.placements[Fe.crossTileID]&&this.prevPlacement.placements[Fe.crossTileID].text&&(nt=this.prevPlacement.variableOffsets[Fe.crossTileID].anchor),this.variableOffsets[Fe.crossTileID]={textOffset:lt,width:W,height:te,anchor:V,textBoxScale:be,prevAnchor:nt},this.markUsedJustification($e,V,Fe,Xe),$e.allowVerticalPlacement&&(this.markUsedOrientation($e,Xe,Fe),this.placedOrientations[Fe.crossTileID]=Xe),{shift:_t,placedGlyphBoxes:At}):void 0},Qn.prototype.placeLayerBucketPart=function(V,$,W){var te=this,be=V.parameters,Re=be.bucket,H=be.layout,ie=be.posMatrix,fe=be.textLabelPlaneMatrix,Me=be.labelToScreenMatrix,Ce=be.textPixelRatio,Fe=be.holdingForFade,$e=be.collisionBoxArray,Xe=be.partiallyEvaluatedTextSize,Qe=be.collisionGroup,nt=H.get("text-optional"),lt=H.get("icon-optional"),_t=H.get("text-allow-overlap"),At=H.get("icon-allow-overlap"),jt="map"===H.get("text-rotation-alignment"),Ht="map"===H.get("text-pitch-alignment"),zt="none"!==H.get("icon-text-fit"),Xt="viewport-y"===H.get("symbol-z-order"),Vt=_t&&(At||!Re.hasIconData()||lt),mn=At&&(_t||!Re.hasTextData()||nt);!Re.collisionArrays&&$e&&Re.deserializeCollisionBoxes($e);var sn=function(ur,yr){if(!$[ur.crossTileID])if(Fe)te.placements[ur.crossTileID]=new on(!1,!1,!1);else{var wr,Er=!1,Ir=!1,Rr=!0,ai=null,ar={box:null,offscreen:null},Mr={box:null,offscreen:null},Or=null,qr=null,ri=0,gi=0,Ti=0;yr.textFeatureIndex?ri=yr.textFeatureIndex:ur.useRuntimeCollisionCircles&&(ri=ur.featureIndex),yr.verticalTextFeatureIndex&&(gi=yr.verticalTextFeatureIndex);var Yi=yr.textBox;if(Yi){var vo=function(Tr){var di=f.WritingMode.horizontal;if(Re.allowVerticalPlacement&&!Tr&&te.prevPlacement){var na=te.prevPlacement.placedOrientations[ur.crossTileID];na&&(te.placedOrientations[ur.crossTileID]=na,te.markUsedOrientation(Re,di=na,ur))}return di},ho=function(Tr,di){if(Re.allowVerticalPlacement&&ur.numVerticalGlyphVertices>0&&yr.verticalTextBox)for(var na=0,Qs=Re.writingModes;na<Qs.length&&(Qs[na]===f.WritingMode.vertical?(ar=di(),Mr=ar):ar=Tr(),!(ar&&ar.box&&ar.box.length));na+=1);else ar=Tr()};if(H.get("text-variable-anchor")){var Zi=H.get("text-variable-anchor");if(te.prevPlacement&&te.prevPlacement.variableOffsets[ur.crossTileID]){var Do=te.prevPlacement.variableOffsets[ur.crossTileID];Zi.indexOf(Do.anchor)>0&&(Zi=Zi.filter(function(Tr){return Tr!==Do.anchor})).unshift(Do.anchor)}var ma=function(Tr,di,na){for(var Qs=Tr.x2-Tr.x1,is=Tr.y2-Tr.y1,rp=ur.textBoxScale,wu=zt&&!At?di:null,yl={box:[],offscreen:!1},Sf=_t?2*Zi.length:Zi.length,Tu=0;Tu<Sf;++Tu){var rd=te.attemptAnchorPlacement(Zi[Tu%Zi.length],Tr,Qs,is,rp,jt,Ht,Ce,ie,Qe,Tu>=Zi.length,ur,Re,na,wu);if(rd&&(yl=rd.placedGlyphBoxes)&&yl.box&&yl.box.length){Er=!0,ai=rd.shift;break}}return yl};ho(function(){return ma(Yi,yr.iconBox,f.WritingMode.horizontal)},function(){var Tr=yr.verticalTextBox;return Re.allowVerticalPlacement&&!(ar&&ar.box&&ar.box.length)&&ur.numVerticalGlyphVertices>0&&Tr?ma(Tr,yr.verticalIconBox,f.WritingMode.vertical):{box:null,offscreen:null}}),ar&&(Er=ar.box,Rr=ar.offscreen);var Kr=vo(ar&&ar.box);if(!Er&&te.prevPlacement){var ta=te.prevPlacement.variableOffsets[ur.crossTileID];ta&&(te.variableOffsets[ur.crossTileID]=ta,te.markUsedJustification(Re,ta.anchor,ur,Kr))}}else{var Xi=function(Tr,di){var na=te.collisionIndex.placeCollisionBox(Tr,_t,Ce,ie,Qe.predicate);return na&&na.box&&na.box.length&&(te.markUsedOrientation(Re,di,ur),te.placedOrientations[ur.crossTileID]=di),na};ho(function(){return Xi(Yi,f.WritingMode.horizontal)},function(){var Tr=yr.verticalTextBox;return Re.allowVerticalPlacement&&ur.numVerticalGlyphVertices>0&&Tr?Xi(Tr,f.WritingMode.vertical):{box:null,offscreen:null}}),vo(ar&&ar.box&&ar.box.length)}}if(Er=(wr=ar)&&wr.box&&wr.box.length>0,Rr=wr&&wr.offscreen,ur.useRuntimeCollisionCircles){var Ci=Re.text.placedSymbolArray.get(ur.centerJustifiedTextSymbolIndex),yo=f.evaluateSizeForFeature(Re.textSizeData,Xe,Ci),lo=H.get("text-padding");Or=te.collisionIndex.placeCollisionCircles(_t,Ci,Re.lineVertexArray,Re.glyphOffsetArray,yo,ie,fe,Me,W,Ht,Qe.predicate,ur.collisionCircleDiameter,lo),Er=_t||Or.circles.length>0&&!Or.collisionDetected,Rr=Rr&&Or.offscreen}if(yr.iconFeatureIndex&&(Ti=yr.iconFeatureIndex),yr.iconBox){var fa=function(Tr){var di=zt&&ai?bn(Tr,ai.x,ai.y,jt,Ht,te.transform.angle):Tr;return te.collisionIndex.placeCollisionBox(di,At,Ce,ie,Qe.predicate)};Ir=Mr&&Mr.box&&Mr.box.length&&yr.verticalIconBox?(qr=fa(yr.verticalIconBox)).box.length>0:(qr=fa(yr.iconBox)).box.length>0,Rr=Rr&&qr.offscreen}var Oo=nt||0===ur.numHorizontalGlyphVertices&&0===ur.numVerticalGlyphVertices,eo=lt||0===ur.numIconVertices;if(Oo||eo?eo?Oo||(Ir=Ir&&Er):Er=Ir&&Er:Ir=Er=Ir&&Er,Er&&wr&&wr.box&&te.collisionIndex.insertCollisionBox(wr.box,H.get("text-ignore-placement"),Re.bucketInstanceId,Mr&&Mr.box&&gi?gi:ri,Qe.ID),Ir&&qr&&te.collisionIndex.insertCollisionBox(qr.box,H.get("icon-ignore-placement"),Re.bucketInstanceId,Ti,Qe.ID),Or&&(Er&&te.collisionIndex.insertCollisionCircles(Or.circles,H.get("text-ignore-placement"),Re.bucketInstanceId,ri,Qe.ID),W)){var Wl=Re.bucketInstanceId,rs=te.collisionCircleArrays[Wl];void 0===rs&&(rs=te.collisionCircleArrays[Wl]=new An);for(var ws=0;ws<Or.circles.length;ws+=4)rs.circles.push(Or.circles[ws+0]),rs.circles.push(Or.circles[ws+1]),rs.circles.push(Or.circles[ws+2]),rs.circles.push(Or.collisionDetected?1:0)}te.placements[ur.crossTileID]=new on(Er||Vt,Ir||mn,Rr||Re.justReloaded),$[ur.crossTileID]=!0}};if(Xt)for(var tn=Re.getSortedSymbolIndexes(this.transform.angle),On=tn.length-1;On>=0;--On){var In=tn[On];sn(Re.symbolInstances.get(In),Re.collisionArrays[In])}else for(var rr=V.symbolInstanceStart;rr<V.symbolInstanceEnd;rr++)sn(Re.symbolInstances.get(rr),Re.collisionArrays[rr]);if(W&&Re.bucketInstanceId in this.collisionCircleArrays){var Xn=this.collisionCircleArrays[Re.bucketInstanceId];f.invert(Xn.invProjMatrix,ie),Xn.viewportMatrix=this.collisionIndex.getViewportMatrix()}Re.justReloaded=!1},Qn.prototype.markUsedJustification=function(V,$,W,te){var be;be=te===f.WritingMode.vertical?W.verticalPlacedTextSymbolIndex:{left:W.leftJustifiedTextSymbolIndex,center:W.centerJustifiedTextSymbolIndex,right:W.rightJustifiedTextSymbolIndex}[f.getAnchorJustification($)];for(var H=0,ie=[W.leftJustifiedTextSymbolIndex,W.centerJustifiedTextSymbolIndex,W.rightJustifiedTextSymbolIndex,W.verticalPlacedTextSymbolIndex];H<ie.length;H+=1){var fe=ie[H];fe>=0&&(V.text.placedSymbolArray.get(fe).crossTileID=be>=0&&fe!==be?0:W.crossTileID)}},Qn.prototype.markUsedOrientation=function(V,$,W){for(var te=$===f.WritingMode.horizontal||$===f.WritingMode.horizontalOnly?$:0,be=$===f.WritingMode.vertical?$:0,Re=0,H=[W.leftJustifiedTextSymbolIndex,W.centerJustifiedTextSymbolIndex,W.rightJustifiedTextSymbolIndex];Re<H.length;Re+=1)V.text.placedSymbolArray.get(H[Re]).placedOrientation=te;W.verticalPlacedTextSymbolIndex&&(V.text.placedSymbolArray.get(W.verticalPlacedTextSymbolIndex).placedOrientation=be)},Qn.prototype.commit=function(V){this.commitTime=V,this.zoomAtLastRecencyCheck=this.transform.zoom;var $=this.prevPlacement,W=!1;this.prevZoomAdjustment=$?$.zoomAdjustment(this.transform.zoom):0;var te=$?$.symbolFadeChange(V):1,be=$?$.opacities:{},Re=$?$.variableOffsets:{},H=$?$.placedOrientations:{};for(var ie in this.placements){var fe=this.placements[ie],Me=be[ie];Me?(this.opacities[ie]=new qt(Me,te,fe.text,fe.icon),W=W||fe.text!==Me.text.placed||fe.icon!==Me.icon.placed):(this.opacities[ie]=new qt(null,te,fe.text,fe.icon,fe.skipFade),W=W||fe.text||fe.icon)}for(var Ce in be){var Fe=be[Ce];if(!this.opacities[Ce]){var $e=new qt(Fe,te,!1,!1);$e.isHidden()||(this.opacities[Ce]=$e,W=W||Fe.text.placed||Fe.icon.placed)}}for(var Xe in Re)this.variableOffsets[Xe]||!this.opacities[Xe]||this.opacities[Xe].isHidden()||(this.variableOffsets[Xe]=Re[Xe]);for(var Qe in H)this.placedOrientations[Qe]||!this.opacities[Qe]||this.opacities[Qe].isHidden()||(this.placedOrientations[Qe]=H[Qe]);W?this.lastPlacementChangeTime=V:"number"!=typeof this.lastPlacementChangeTime&&(this.lastPlacementChangeTime=$?$.lastPlacementChangeTime:V)},Qn.prototype.updateLayerOpacities=function(V,$){for(var W={},te=0,be=$;te<be.length;te+=1){var Re=be[te],H=Re.getBucket(V);H&&Re.latestFeatureIndex&&V.id===H.layerIds[0]&&this.updateBucketOpacities(H,W,Re.collisionBoxArray)}},Qn.prototype.updateBucketOpacities=function(V,$,W){var te=this;V.hasTextData()&&V.text.opacityVertexArray.clear(),V.hasIconData()&&V.icon.opacityVertexArray.clear(),V.hasIconCollisionBoxData()&&V.iconCollisionBox.collisionVertexArray.clear(),V.hasTextCollisionBoxData()&&V.textCollisionBox.collisionVertexArray.clear();var be=V.layers[0].layout,Re=new qt(null,0,!1,!1,!0),H=be.get("text-allow-overlap"),ie=be.get("icon-allow-overlap"),fe=be.get("text-variable-anchor"),Me="map"===be.get("text-rotation-alignment"),Ce="map"===be.get("text-pitch-alignment"),Fe="none"!==be.get("icon-text-fit"),$e=new qt(null,0,H&&(ie||!V.hasIconData()||be.get("icon-optional")),ie&&(H||!V.hasTextData()||be.get("text-optional")),!0);!V.collisionArrays&&W&&(V.hasIconCollisionBoxData()||V.hasTextCollisionBoxData())&&V.deserializeCollisionBoxes(W);for(var Xe=function(_t,At,jt){for(var Ht=0;Ht<At/4;Ht++)_t.opacityVertexArray.emplaceBack(jt)},Qe=function(_t){var At=V.symbolInstances.get(_t),jt=At.numHorizontalGlyphVertices,Ht=At.numVerticalGlyphVertices,zt=At.crossTileID,Vt=te.opacities[zt];$[zt]?Vt=Re:Vt||(te.opacities[zt]=Vt=$e),$[zt]=!0;var sn=At.numIconVertices>0,tn=te.placedOrientations[At.crossTileID],On=tn===f.WritingMode.vertical,In=tn===f.WritingMode.horizontal||tn===f.WritingMode.horizontalOnly;if(jt>0||Ht>0){var rr=jn(Vt.text);Xe(V.text,jt,On?Tn:rr),Xe(V.text,Ht,In?Tn:rr);var yr=Vt.text.isHidden();[At.rightJustifiedTextSymbolIndex,At.centerJustifiedTextSymbolIndex,At.leftJustifiedTextSymbolIndex].forEach(function(Ti){Ti>=0&&(V.text.placedSymbolArray.get(Ti).hidden=yr||On?1:0)}),At.verticalPlacedTextSymbolIndex>=0&&(V.text.placedSymbolArray.get(At.verticalPlacedTextSymbolIndex).hidden=yr||In?1:0);var wr=te.variableOffsets[At.crossTileID];wr&&te.markUsedJustification(V,wr.anchor,At,tn);var Er=te.placedOrientations[At.crossTileID];Er&&(te.markUsedJustification(V,"left",At,Er),te.markUsedOrientation(V,Er,At))}if(sn){var Ir=jn(Vt.icon),Rr=!(Fe&&At.verticalPlacedIconSymbolIndex&&On);At.placedIconSymbolIndex>=0&&(Xe(V.icon,At.numIconVertices,Rr?Ir:Tn),V.icon.placedSymbolArray.get(At.placedIconSymbolIndex).hidden=Vt.icon.isHidden()),At.verticalPlacedIconSymbolIndex>=0&&(Xe(V.icon,At.numVerticalIconVertices,Rr?Tn:Ir),V.icon.placedSymbolArray.get(At.verticalPlacedIconSymbolIndex).hidden=Vt.icon.isHidden())}if(V.hasIconCollisionBoxData()||V.hasTextCollisionBoxData()){var Mr=V.collisionArrays[_t];if(Mr){var Or=new f.Point(0,0);if(Mr.textBox||Mr.verticalTextBox){var qr=!0;if(fe){var ri=te.variableOffsets[zt];ri?(Or=fr(ri.anchor,ri.width,ri.height,ri.textOffset,ri.textBoxScale),Me&&Or._rotate(Ce?te.transform.angle:-te.transform.angle)):qr=!1}Mr.textBox&&er(V.textCollisionBox.collisionVertexArray,Vt.text.placed,!qr||On,Or.x,Or.y),Mr.verticalTextBox&&er(V.textCollisionBox.collisionVertexArray,Vt.text.placed,!qr||In,Or.x,Or.y)}var gi=!(In||!Mr.verticalIconBox);Mr.iconBox&&er(V.iconCollisionBox.collisionVertexArray,Vt.icon.placed,gi,Fe?Or.x:0,Fe?Or.y:0),Mr.verticalIconBox&&er(V.iconCollisionBox.collisionVertexArray,Vt.icon.placed,!gi,Fe?Or.x:0,Fe?Or.y:0)}}},nt=0;nt<V.symbolInstances.length;nt++)Qe(nt);if(V.sortFeatures(this.transform.angle),this.retainedQueryData[V.bucketInstanceId]&&(this.retainedQueryData[V.bucketInstanceId].featureSortOrder=V.featureSortOrder),V.hasTextData()&&V.text.opacityVertexBuffer&&V.text.opacityVertexBuffer.updateData(V.text.opacityVertexArray),V.hasIconData()&&V.icon.opacityVertexBuffer&&V.icon.opacityVertexBuffer.updateData(V.icon.opacityVertexArray),V.hasIconCollisionBoxData()&&V.iconCollisionBox.collisionVertexBuffer&&V.iconCollisionBox.collisionVertexBuffer.updateData(V.iconCollisionBox.collisionVertexArray),V.hasTextCollisionBoxData()&&V.textCollisionBox.collisionVertexBuffer&&V.textCollisionBox.collisionVertexBuffer.updateData(V.textCollisionBox.collisionVertexArray),V.bucketInstanceId in this.collisionCircleArrays){var lt=this.collisionCircleArrays[V.bucketInstanceId];V.placementInvProjMatrix=lt.invProjMatrix,V.placementViewportMatrix=lt.viewportMatrix,V.collisionCircleArray=lt.circles,delete this.collisionCircleArrays[V.bucketInstanceId]}},Qn.prototype.symbolFadeChange=function(V){return 0===this.fadeDuration?1:(V-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment},Qn.prototype.zoomAdjustment=function(V){return Math.max(0,(this.transform.zoom-V)/1.5)},Qn.prototype.hasTransitions=function(V){return this.stale||V-this.lastPlacementChangeTime<this.fadeDuration},Qn.prototype.stillRecent=function(V,$){var W=this.zoomAtLastRecencyCheck===$?1-this.zoomAdjustment($):1;return this.zoomAtLastRecencyCheck=$,this.commitTime+this.fadeDuration*W>V},Qn.prototype.setStale=function(){this.stale=!0};var Jt=Math.pow(2,25),Nn=Math.pow(2,24),Ft=Math.pow(2,17),an=Math.pow(2,16),pn=Math.pow(2,9),En=Math.pow(2,8),Rn=Math.pow(2,1);function jn(V){if(0===V.opacity&&!V.placed)return 0;if(1===V.opacity&&V.placed)return 4294967295;var $=V.placed?1:0,W=Math.floor(127*V.opacity);return W*Jt+$*Nn+W*Ft+$*an+W*pn+$*En+W*Rn+$}var Tn=0,ln=function(V){this._sortAcrossTiles="viewport-y"!==V.layout.get("symbol-z-order")&&void 0!==V.layout.get("symbol-sort-key").constantOr(1),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]};ln.prototype.continuePlacement=function(V,$,W,te,be){for(var Re=this._bucketParts;this._currentTileIndex<V.length;)if($.getBucketParts(Re,te,V[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,be())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,Re.sort(function(fe,Me){return fe.sortKey-Me.sortKey}));this._currentPartIndex<Re.length;)if($.placeLayerBucketPart(Re[this._currentPartIndex],this._seenCrossTileIDs,W),this._currentPartIndex++,be())return!0;return!1};var fn=function(V,$,W,te,be,Re,H){this.placement=new Qn(V,be,Re,H),this._currentPlacementIndex=$.length-1,this._forceFullPlacement=W,this._showCollisionBoxes=te,this._done=!1};fn.prototype.isDone=function(){return this._done},fn.prototype.continuePlacement=function(V,$,W){for(var te=this,be=f.browser.now(),Re=function(){var fe=f.browser.now()-be;return!te._forceFullPlacement&&fe>2};this._currentPlacementIndex>=0;){var H=$[V[this._currentPlacementIndex]],ie=this.placement.collisionIndex.transform.zoom;if("symbol"===H.type&&(!H.minzoom||H.minzoom<=ie)&&(!H.maxzoom||H.maxzoom>ie)){if(this._inProgressLayer||(this._inProgressLayer=new ln(H)),this._inProgressLayer.continuePlacement(W[H.source],this.placement,this._showCollisionBoxes,H,Re))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0},fn.prototype.commit=function(V){return this.placement.commit(V),this.placement};var wn=512/f.EXTENT/2,Mn=function(V,$,W){this.tileID=V,this.indexedSymbolInstances={},this.bucketInstanceId=W;for(var te=0;te<$.length;te++){var be=$.get(te),Re=be.key;this.indexedSymbolInstances[Re]||(this.indexedSymbolInstances[Re]=[]),this.indexedSymbolInstances[Re].push({crossTileID:be.crossTileID,coord:this.getScaledCoordinates(be,V)})}};Mn.prototype.getScaledCoordinates=function(V,$){var te=wn/Math.pow(2,$.canonical.z-this.tileID.canonical.z);return{x:Math.floor(($.canonical.x*f.EXTENT+V.anchorX)*te),y:Math.floor(($.canonical.y*f.EXTENT+V.anchorY)*te)}},Mn.prototype.findMatches=function(V,$,W){for(var te=this.tileID.canonical.z<$.canonical.z?1:Math.pow(2,this.tileID.canonical.z-$.canonical.z),be=0;be<V.length;be++){var Re=V.get(be);if(!Re.crossTileID){var H=this.indexedSymbolInstances[Re.key];if(H)for(var ie=this.getScaledCoordinates(Re,$),fe=0,Me=H;fe<Me.length;fe+=1){var Ce=Me[fe];if(Math.abs(Ce.coord.x-ie.x)<=te&&Math.abs(Ce.coord.y-ie.y)<=te&&!W[Ce.crossTileID]){W[Ce.crossTileID]=!0,Re.crossTileID=Ce.crossTileID;break}}}}};var Hn=function(){this.maxCrossTileID=0};Hn.prototype.generate=function(){return++this.maxCrossTileID};var Wn=function(){this.indexes={},this.usedCrossTileIDs={},this.lng=0};Wn.prototype.handleWrapJump=function(V){var $=Math.round((V-this.lng)/360);if(0!==$)for(var W in this.indexes){var te=this.indexes[W],be={};for(var Re in te){var H=te[Re];H.tileID=H.tileID.unwrapTo(H.tileID.wrap+$),be[H.tileID.key]=H}this.indexes[W]=be}this.lng=V},Wn.prototype.addBucket=function(V,$,W){if(this.indexes[V.overscaledZ]&&this.indexes[V.overscaledZ][V.key]){if(this.indexes[V.overscaledZ][V.key].bucketInstanceId===$.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(V.overscaledZ,this.indexes[V.overscaledZ][V.key])}for(var te=0;te<$.symbolInstances.length;te++)$.symbolInstances.get(te).crossTileID=0;this.usedCrossTileIDs[V.overscaledZ]||(this.usedCrossTileIDs[V.overscaledZ]={});var be=this.usedCrossTileIDs[V.overscaledZ];for(var Re in this.indexes){var H=this.indexes[Re];if(Number(Re)>V.overscaledZ)for(var ie in H){var fe=H[ie];fe.tileID.isChildOf(V)&&fe.findMatches($.symbolInstances,V,be)}else{var Me=H[V.scaledTo(Number(Re)).key];Me&&Me.findMatches($.symbolInstances,V,be)}}for(var Ce=0;Ce<$.symbolInstances.length;Ce++){var Fe=$.symbolInstances.get(Ce);Fe.crossTileID||(Fe.crossTileID=W.generate(),be[Fe.crossTileID]=!0)}return void 0===this.indexes[V.overscaledZ]&&(this.indexes[V.overscaledZ]={}),this.indexes[V.overscaledZ][V.key]=new Mn(V,$.symbolInstances,$.bucketInstanceId),!0},Wn.prototype.removeBucketCrossTileIDs=function(V,$){for(var W in $.indexedSymbolInstances)for(var te=0,be=$.indexedSymbolInstances[W];te<be.length;te+=1)delete this.usedCrossTileIDs[V][be[te].crossTileID]},Wn.prototype.removeStaleBuckets=function(V){var $=!1;for(var W in this.indexes){var te=this.indexes[W];for(var be in te)V[te[be].bucketInstanceId]||(this.removeBucketCrossTileIDs(W,te[be]),delete te[be],$=!0)}return $};var cr=function(){this.layerIndexes={},this.crossTileIDs=new Hn,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}};cr.prototype.addLayer=function(V,$,W){var te=this.layerIndexes[V.id];void 0===te&&(te=this.layerIndexes[V.id]=new Wn);var be=!1,Re={};te.handleWrapJump(W);for(var H=0,ie=$;H<ie.length;H+=1){var fe=ie[H],Me=fe.getBucket(V);Me&&V.id===Me.layerIds[0]&&(Me.bucketInstanceId||(Me.bucketInstanceId=++this.maxBucketInstanceId),te.addBucket(fe.tileID,Me,this.crossTileIDs)&&(be=!0),Re[Me.bucketInstanceId]=!0)}return te.removeStaleBuckets(Re)&&(be=!0),be},cr.prototype.pruneUnusedLayers=function(V){var $={};for(var W in V.forEach(function(te){$[te]=!0}),this.layerIndexes)$[W]||delete this.layerIndexes[W]};var or=function(V,$){return f.emitValidationErrors(V,$&&$.filter(function(W){return"source.canvas"!==W.identifier}))},xr=f.pick(bt,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),sr=f.pick(bt,["setCenter","setZoom","setBearing","setPitch"]),hr=function(){var V={},$=f.styleSpec.$version;for(var W in f.styleSpec.$root){var be,te=f.styleSpec.$root[W];te.required&&null!=(be="version"===W?$:"array"===te.type?[]:{})&&(V[W]=be)}return V}(),Ar=function(V){function $(W,te){var be=this;void 0===te&&(te={}),V.call(this),this.map=W,this.dispatcher=new R(Tt(),this),this.imageManager=new v,this.imageManager.setEventedParent(this),this.glyphManager=new b(W._requestManager,te.localIdeographFontFamily),this.lineAtlas=new P(256,512),this.crossTileSymbolIndex=new cr,this._layers={},this._serializedLayers={},this._order=[],this.sourceCaches={},this.zoomHistory=new f.ZoomHistory,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",f.getReferrer());var Re=this;this._rtlTextPluginCallback=$.registerForPluginStateChange(function(H){Re.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:H.pluginStatus,pluginURL:H.pluginURL},function(fe,Me){if(f.triggerPluginCompletionEvent(fe),Me&&Me.every(function(Fe){return Fe}))for(var Ce in Re.sourceCaches)Re.sourceCaches[Ce].reload()})}),this.on("data",function(H){if("source"===H.dataType&&"metadata"===H.sourceDataType){var ie=be.sourceCaches[H.sourceId];if(ie){var fe=ie.getSource();if(fe&&fe.vectorLayerIds)for(var Me in be._layers){var Ce=be._layers[Me];Ce.source===fe.id&&be._validateLayer(Ce)}}}})}return V&&($.__proto__=V),($.prototype=Object.create(V&&V.prototype)).constructor=$,$.prototype.loadURL=function(W,te){var be=this;void 0===te&&(te={}),this.fire(new f.Event("dataloading",{dataType:"style"}));var Re="boolean"==typeof te.validate?te.validate:!f.isMapboxURL(W);W=this.map._requestManager.normalizeStyleURL(W,te.accessToken);var H=this.map._requestManager.transformRequest(W,f.ResourceType.Style);this._request=f.getJSON(H,function(ie,fe){be._request=null,ie?be.fire(new f.ErrorEvent(ie)):fe&&be._load(fe,Re)})},$.prototype.loadJSON=function(W,te){var be=this;void 0===te&&(te={}),this.fire(new f.Event("dataloading",{dataType:"style"})),this._request=f.browser.frame(function(){be._request=null,be._load(W,!1!==te.validate)})},$.prototype.loadEmpty=function(){this.fire(new f.Event("dataloading",{dataType:"style"})),this._load(hr,!1)},$.prototype._load=function(W,te){if(!te||!or(this,f.validateStyle(W))){for(var be in this._loaded=!0,this.stylesheet=W,W.sources)this.addSource(be,W.sources[be],{validate:!1});W.sprite?this._loadSprite(W.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(W.glyphs);var Re=Nt(this.stylesheet.layers);this._order=Re.map(function(Me){return Me.id}),this._layers={},this._serializedLayers={};for(var H=0,ie=Re;H<ie.length;H+=1){var fe=ie[H];(fe=f.createStyleLayer(fe)).setEventedParent(this,{layer:{id:fe.id}}),this._layers[fe.id]=fe,this._serializedLayers[fe.id]=fe.serialize()}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new k(this.stylesheet.light),this.fire(new f.Event("data",{dataType:"style"})),this.fire(new f.Event("style.load"))}},$.prototype._loadSprite=function(W){var te=this;this._spriteRequest=function(be,Re,H){var ie,fe,Me,Ce=f.browser.devicePixelRatio>1?"@2x":"",Fe=f.getJSON(Re.transformRequest(Re.normalizeSpriteURL(be,Ce,".json"),f.ResourceType.SpriteJSON),function(Qe,nt){Fe=null,Me||(Me=Qe,ie=nt,Xe())}),$e=f.getImage(Re.transformRequest(Re.normalizeSpriteURL(be,Ce,".png"),f.ResourceType.SpriteImage),function(Qe,nt){$e=null,Me||(Me=Qe,fe=nt,Xe())});function Xe(){if(Me)H(Me);else if(ie&&fe){var Qe=f.browser.getImageData(fe),nt={};for(var lt in ie){var _t=ie[lt],At=_t.width,jt=_t.height,Ht=_t.x,zt=_t.y,Xt=_t.sdf,Vt=_t.pixelRatio,mn=_t.stretchX,sn=_t.stretchY,tn=_t.content,On=new f.RGBAImage({width:At,height:jt});f.RGBAImage.copy(Qe,On,{x:Ht,y:zt},{x:0,y:0},{width:At,height:jt}),nt[lt]={data:On,pixelRatio:Vt,sdf:Xt,stretchX:mn,stretchY:sn,content:tn}}H(null,nt)}}return{cancel:function(){Fe&&(Fe.cancel(),Fe=null),$e&&($e.cancel(),$e=null)}}}(W,this.map._requestManager,function(be,Re){if(te._spriteRequest=null,be)te.fire(new f.ErrorEvent(be));else if(Re)for(var H in Re)te.imageManager.addImage(H,Re[H]);te.imageManager.setLoaded(!0),te._availableImages=te.imageManager.listImages(),te.dispatcher.broadcast("setImages",te._availableImages),te.fire(new f.Event("data",{dataType:"style"}))})},$.prototype._validateLayer=function(W){var te=this.sourceCaches[W.source];if(te){var be=W.sourceLayer;if(be){var Re=te.getSource();("geojson"===Re.type||Re.vectorLayerIds&&-1===Re.vectorLayerIds.indexOf(be))&&this.fire(new f.ErrorEvent(new Error('Source layer "'+be+'" does not exist on source "'+Re.id+'" as specified by style layer "'+W.id+'"')))}}},$.prototype.loaded=function(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(var W in this.sourceCaches)if(!this.sourceCaches[W].loaded())return!1;return!!this.imageManager.isLoaded()},$.prototype._serializeLayers=function(W){for(var te=[],be=0,Re=W;be<Re.length;be+=1){var ie=this._layers[Re[be]];"custom"!==ie.type&&te.push(ie.serialize())}return te},$.prototype.hasTransitions=function(){if(this.light&&this.light.hasTransition())return!0;for(var W in this.sourceCaches)if(this.sourceCaches[W].hasTransition())return!0;for(var te in this._layers)if(this._layers[te].hasTransition())return!0;return!1},$.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},$.prototype.update=function(W){if(this._loaded){var te=this._changed;if(this._changed){var be=Object.keys(this._updatedLayers),Re=Object.keys(this._removedLayers);for(var H in(be.length||Re.length)&&this._updateWorkerLayers(be,Re),this._updatedSources){var ie=this._updatedSources[H];"reload"===ie?this._reloadSource(H):"clear"===ie&&this._clearSource(H)}for(var fe in this._updateTilesForChangedImages(),this._updatedPaintProps)this._layers[fe].updateTransitions(W);this.light.updateTransitions(W),this._resetUpdates()}for(var Me in this.sourceCaches)this.sourceCaches[Me].used=!1;for(var Ce=0,Fe=this._order;Ce<Fe.length;Ce+=1){var Xe=this._layers[Fe[Ce]];Xe.recalculate(W,this._availableImages),!Xe.isHidden(W.zoom)&&Xe.source&&(this.sourceCaches[Xe.source].used=!0)}this.light.recalculate(W),this.z=W.zoom,te&&this.fire(new f.Event("data",{dataType:"style"}))}},$.prototype._updateTilesForChangedImages=function(){var W=Object.keys(this._changedImages);if(W.length){for(var te in this.sourceCaches)this.sourceCaches[te].reloadTilesForDependencies(["icons","patterns"],W);this._changedImages={}}},$.prototype._updateWorkerLayers=function(W,te){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(W),removedIds:te})},$.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}},$.prototype.setState=function(W){var te=this;if(this._checkLoaded(),or(this,f.validateStyle(W)))return!1;(W=f.clone$1(W)).layers=Nt(W.layers);var be=function un(V,$){if(!V)return[{command:bt.setStyle,args:[$]}];var W=[];try{if(!f.deepEqual(V.version,$.version))return[{command:bt.setStyle,args:[$]}];f.deepEqual(V.center,$.center)||W.push({command:bt.setCenter,args:[$.center]}),f.deepEqual(V.zoom,$.zoom)||W.push({command:bt.setZoom,args:[$.zoom]}),f.deepEqual(V.bearing,$.bearing)||W.push({command:bt.setBearing,args:[$.bearing]}),f.deepEqual(V.pitch,$.pitch)||W.push({command:bt.setPitch,args:[$.pitch]}),f.deepEqual(V.sprite,$.sprite)||W.push({command:bt.setSprite,args:[$.sprite]}),f.deepEqual(V.glyphs,$.glyphs)||W.push({command:bt.setGlyphs,args:[$.glyphs]}),f.deepEqual(V.transition,$.transition)||W.push({command:bt.setTransition,args:[$.transition]}),f.deepEqual(V.light,$.light)||W.push({command:bt.setLight,args:[$.light]});var te={},be=[];!function(H,ie,fe,Me){var Ce;for(Ce in ie=ie||{},H=H||{})H.hasOwnProperty(Ce)&&(ie.hasOwnProperty(Ce)||It(Ce,fe,Me));for(Ce in ie)ie.hasOwnProperty(Ce)&&(H.hasOwnProperty(Ce)?f.deepEqual(H[Ce],ie[Ce])||("geojson"===H[Ce].type&&"geojson"===ie[Ce].type&&Yt(H,ie,Ce)?fe.push({command:bt.setGeoJSONSourceData,args:[Ce,ie[Ce].data]}):Wt(Ce,ie,fe,Me)):wt(Ce,ie,fe))}(V.sources,$.sources,be,te);var Re=[];V.layers&&V.layers.forEach(function(H){te[H.source]?W.push({command:bt.removeLayer,args:[H.id]}):Re.push(H)}),W=W.concat(be),function(H,ie,fe){ie=ie||[];var Me,Ce,Fe,$e,Xe,Qe,nt,lt=(H=H||[]).map(dn),_t=ie.map(dn),At=H.reduce(nn,{}),jt=ie.reduce(nn,{}),Ht=lt.slice(),zt=Object.create(null);for(Me=0,Ce=0;Me<lt.length;Me++)jt.hasOwnProperty(Fe=lt[Me])?Ce++:(fe.push({command:bt.removeLayer,args:[Fe]}),Ht.splice(Ht.indexOf(Fe,Ce),1));for(Me=0,Ce=0;Me<_t.length;Me++)Ht[Ht.length-1-Me]!==(Fe=_t[_t.length-1-Me])&&(At.hasOwnProperty(Fe)?(fe.push({command:bt.removeLayer,args:[Fe]}),Ht.splice(Ht.lastIndexOf(Fe,Ht.length-Ce),1)):Ce++,fe.push({command:bt.addLayer,args:[jt[Fe],Qe=Ht[Ht.length-Me]]}),Ht.splice(Ht.length-Me,0,Fe),zt[Fe]=!0);for(Me=0;Me<_t.length;Me++)if($e=At[Fe=_t[Me]],Xe=jt[Fe],!zt[Fe]&&!f.deepEqual($e,Xe))if(f.deepEqual($e.source,Xe.source)&&f.deepEqual($e["source-layer"],Xe["source-layer"])&&f.deepEqual($e.type,Xe.type)){for(nt in Zt($e.layout,Xe.layout,fe,Fe,null,bt.setLayoutProperty),Zt($e.paint,Xe.paint,fe,Fe,null,bt.setPaintProperty),f.deepEqual($e.filter,Xe.filter)||fe.push({command:bt.setFilter,args:[Fe,Xe.filter]}),f.deepEqual($e.minzoom,Xe.minzoom)&&f.deepEqual($e.maxzoom,Xe.maxzoom)||fe.push({command:bt.setLayerZoomRange,args:[Fe,Xe.minzoom,Xe.maxzoom]}),$e)$e.hasOwnProperty(nt)&&"layout"!==nt&&"paint"!==nt&&"filter"!==nt&&"metadata"!==nt&&"minzoom"!==nt&&"maxzoom"!==nt&&(0===nt.indexOf("paint.")?Zt($e[nt],Xe[nt],fe,Fe,nt.slice(6),bt.setPaintProperty):f.deepEqual($e[nt],Xe[nt])||fe.push({command:bt.setLayerProperty,args:[Fe,nt,Xe[nt]]}));for(nt in Xe)Xe.hasOwnProperty(nt)&&!$e.hasOwnProperty(nt)&&"layout"!==nt&&"paint"!==nt&&"filter"!==nt&&"metadata"!==nt&&"minzoom"!==nt&&"maxzoom"!==nt&&(0===nt.indexOf("paint.")?Zt($e[nt],Xe[nt],fe,Fe,nt.slice(6),bt.setPaintProperty):f.deepEqual($e[nt],Xe[nt])||fe.push({command:bt.setLayerProperty,args:[Fe,nt,Xe[nt]]}))}else fe.push({command:bt.removeLayer,args:[Fe]}),Qe=Ht[Ht.lastIndexOf(Fe)+1],fe.push({command:bt.addLayer,args:[Xe,Qe]})}(Re,$.layers,W)}catch(H){console.warn("Unable to compute style diff:",H),W=[{command:bt.setStyle,args:[$]}]}return W}(this.serialize(),W).filter(function(H){return!(H.command in sr)});if(0===be.length)return!1;var Re=be.filter(function(H){return!(H.command in xr)});if(Re.length>0)throw new Error("Unimplemented: "+Re.map(function(H){return H.command}).join(", ")+".");return be.forEach(function(H){"setTransition"!==H.command&&te[H.command].apply(te,H.args)}),this.stylesheet=W,!0},$.prototype.addImage=function(W,te){if(this.getImage(W))return this.fire(new f.ErrorEvent(new Error("An image with this name already exists.")));this.imageManager.addImage(W,te),this._availableImages=this.imageManager.listImages(),this._changedImages[W]=!0,this._changed=!0,this.fire(new f.Event("data",{dataType:"style"}))},$.prototype.updateImage=function(W,te){this.imageManager.updateImage(W,te)},$.prototype.getImage=function(W){return this.imageManager.getImage(W)},$.prototype.removeImage=function(W){if(!this.getImage(W))return this.fire(new f.ErrorEvent(new Error("No image with this name exists.")));this.imageManager.removeImage(W),this._availableImages=this.imageManager.listImages(),this._changedImages[W]=!0,this._changed=!0,this.fire(new f.Event("data",{dataType:"style"}))},$.prototype.listImages=function(){return this._checkLoaded(),this.imageManager.listImages()},$.prototype.addSource=function(W,te,be){var Re=this;if(void 0===be&&(be={}),this._checkLoaded(),void 0!==this.sourceCaches[W])throw new Error("There is already a source with this ID");if(!te.type)throw new Error("The type property must be defined, but the only the following properties were given: "+Object.keys(te).join(", ")+".");if(!(["vector","raster","geojson","video","image"].indexOf(te.type)>=0&&this._validate(f.validateStyle.source,"sources."+W,te,null,be))){this.map&&this.map._collectResourceTiming&&(te.collectResourceTiming=!0);var H=this.sourceCaches[W]=new dt(W,te,this.dispatcher);H.style=this,H.setEventedParent(this,function(){return{isSourceLoaded:Re.loaded(),source:H.serialize(),sourceId:W}}),H.onAdd(this.map),this._changed=!0}},$.prototype.removeSource=function(W){if(this._checkLoaded(),void 0===this.sourceCaches[W])throw new Error("There is no source with this ID");for(var te in this._layers)if(this._layers[te].source===W)return this.fire(new f.ErrorEvent(new Error('Source "'+W+'" cannot be removed while layer "'+te+'" is using it.')));var be=this.sourceCaches[W];delete this.sourceCaches[W],delete this._updatedSources[W],be.fire(new f.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:W})),be.setEventedParent(null),be.clearTiles(),be.onRemove&&be.onRemove(this.map),this._changed=!0},$.prototype.setGeoJSONSourceData=function(W,te){this._checkLoaded(),this.sourceCaches[W].getSource().setData(te),this._changed=!0},$.prototype.getSource=function(W){return this.sourceCaches[W]&&this.sourceCaches[W].getSource()},$.prototype.addLayer=function(W,te,be){void 0===be&&(be={}),this._checkLoaded();var Re=W.id;if(this.getLayer(Re))this.fire(new f.ErrorEvent(new Error('Layer with id "'+Re+'" already exists on this map')));else{var H;if("custom"===W.type){if(or(this,f.validateCustomStyleLayer(W)))return;H=f.createStyleLayer(W)}else{if("object"==typeof W.source&&(this.addSource(Re,W.source),W=f.clone$1(W),W=f.extend(W,{source:Re})),this._validate(f.validateStyle.layer,"layers."+Re,W,{arrayIndex:-1},be))return;H=f.createStyleLayer(W),this._validateLayer(H),H.setEventedParent(this,{layer:{id:Re}}),this._serializedLayers[H.id]=H.serialize()}var ie=te?this._order.indexOf(te):this._order.length;if(te&&-1===ie)this.fire(new f.ErrorEvent(new Error('Layer with id "'+te+'" does not exist on this map.')));else{if(this._order.splice(ie,0,Re),this._layerOrderChanged=!0,this._layers[Re]=H,this._removedLayers[Re]&&H.source&&"custom"!==H.type){var fe=this._removedLayers[Re];delete this._removedLayers[Re],fe.type!==H.type?this._updatedSources[H.source]="clear":(this._updatedSources[H.source]="reload",this.sourceCaches[H.source].pause())}this._updateLayer(H),H.onAdd&&H.onAdd(this.map)}}},$.prototype.moveLayer=function(W,te){if(this._checkLoaded(),this._changed=!0,this._layers[W]){if(W!==te){var be=this._order.indexOf(W);this._order.splice(be,1);var Re=te?this._order.indexOf(te):this._order.length;te&&-1===Re?this.fire(new f.ErrorEvent(new Error('Layer with id "'+te+'" does not exist on this map.'))):(this._order.splice(Re,0,W),this._layerOrderChanged=!0)}}else this.fire(new f.ErrorEvent(new Error("The layer '"+W+"' does not exist in the map's style and cannot be moved.")))},$.prototype.removeLayer=function(W){this._checkLoaded();var te=this._layers[W];if(te){te.setEventedParent(null);var be=this._order.indexOf(W);this._order.splice(be,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[W]=te,delete this._layers[W],delete this._serializedLayers[W],delete this._updatedLayers[W],delete this._updatedPaintProps[W],te.onRemove&&te.onRemove(this.map)}else this.fire(new f.ErrorEvent(new Error("The layer '"+W+"' does not exist in the map's style and cannot be removed.")))},$.prototype.getLayer=function(W){return this._layers[W]},$.prototype.hasLayer=function(W){return W in this._layers},$.prototype.setLayerZoomRange=function(W,te,be){this._checkLoaded();var Re=this.getLayer(W);Re?Re.minzoom===te&&Re.maxzoom===be||(null!=te&&(Re.minzoom=te),null!=be&&(Re.maxzoom=be),this._updateLayer(Re)):this.fire(new f.ErrorEvent(new Error("The layer '"+W+"' does not exist in the map's style and cannot have zoom extent.")))},$.prototype.setFilter=function(W,te,be){void 0===be&&(be={}),this._checkLoaded();var Re=this.getLayer(W);if(Re){if(!f.deepEqual(Re.filter,te))return null==te?(Re.filter=void 0,void this._updateLayer(Re)):void(this._validate(f.validateStyle.filter,"layers."+Re.id+".filter",te,null,be)||(Re.filter=f.clone$1(te),this._updateLayer(Re)))}else this.fire(new f.ErrorEvent(new Error("The layer '"+W+"' does not exist in the map's style and cannot be filtered.")))},$.prototype.getFilter=function(W){return f.clone$1(this.getLayer(W).filter)},$.prototype.setLayoutProperty=function(W,te,be,Re){void 0===Re&&(Re={}),this._checkLoaded();var H=this.getLayer(W);H?f.deepEqual(H.getLayoutProperty(te),be)||(H.setLayoutProperty(te,be,Re),this._updateLayer(H)):this.fire(new f.ErrorEvent(new Error("The layer '"+W+"' does not exist in the map's style and cannot be styled.")))},$.prototype.getLayoutProperty=function(W,te){var be=this.getLayer(W);if(be)return be.getLayoutProperty(te);this.fire(new f.ErrorEvent(new Error("The layer '"+W+"' does not exist in the map's style.")))},$.prototype.setPaintProperty=function(W,te,be,Re){void 0===Re&&(Re={}),this._checkLoaded();var H=this.getLayer(W);H?f.deepEqual(H.getPaintProperty(te),be)||(H.setPaintProperty(te,be,Re)&&this._updateLayer(H),this._changed=!0,this._updatedPaintProps[W]=!0):this.fire(new f.ErrorEvent(new Error("The layer '"+W+"' does not exist in the map's style and cannot be styled.")))},$.prototype.getPaintProperty=function(W,te){return this.getLayer(W).getPaintProperty(te)},$.prototype.setFeatureState=function(W,te){this._checkLoaded();var be=W.source,Re=W.sourceLayer,H=this.sourceCaches[be];if(void 0!==H){var ie=H.getSource().type;"geojson"===ie&&Re?this.fire(new f.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):"vector"!==ie||Re?(void 0===W.id&&this.fire(new f.ErrorEvent(new Error("The feature id parameter must be provided."))),H.setFeatureState(Re,W.id,te)):this.fire(new f.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new f.ErrorEvent(new Error("The source '"+be+"' does not exist in the map's style.")))},$.prototype.removeFeatureState=function(W,te){this._checkLoaded();var be=W.source,Re=this.sourceCaches[be];if(void 0!==Re){var H=Re.getSource().type,ie="vector"===H?W.sourceLayer:void 0;"vector"!==H||ie?te&&"string"!=typeof W.id&&"number"!=typeof W.id?this.fire(new f.ErrorEvent(new Error("A feature id is requred to remove its specific state property."))):Re.removeFeatureState(ie,W.id,te):this.fire(new f.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new f.ErrorEvent(new Error("The source '"+be+"' does not exist in the map's style.")))},$.prototype.getFeatureState=function(W){this._checkLoaded();var te=W.source,be=W.sourceLayer,Re=this.sourceCaches[te];if(void 0!==Re){if("vector"!==Re.getSource().type||be)return void 0===W.id&&this.fire(new f.ErrorEvent(new Error("The feature id parameter must be provided."))),Re.getFeatureState(be,W.id);this.fire(new f.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new f.ErrorEvent(new Error("The source '"+te+"' does not exist in the map's style.")))},$.prototype.getTransition=function(){return f.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},$.prototype.serialize=function(){return f.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:f.mapObject(this.sourceCaches,function(W){return W.serialize()}),layers:this._serializeLayers(this._order)},function(W){return void 0!==W})},$.prototype._updateLayer=function(W){this._updatedLayers[W.id]=!0,W.source&&!this._updatedSources[W.source]&&"raster"!==this.sourceCaches[W.source].getSource().type&&(this._updatedSources[W.source]="reload",this.sourceCaches[W.source].pause()),this._changed=!0},$.prototype._flattenAndSortRenderedFeatures=function(W){for(var te=this,be=function(tn){return"fill-extrusion"===te._layers[tn].type},Re={},H=[],ie=this._order.length-1;ie>=0;ie--){var fe=this._order[ie];if(be(fe)){Re[fe]=ie;for(var Me=0,Ce=W;Me<Ce.length;Me+=1){var Fe=Ce[Me][fe];if(Fe)for(var $e=0,Xe=Fe;$e<Xe.length;$e+=1)H.push(Xe[$e])}}}H.sort(function(tn,On){return On.intersectionZ-tn.intersectionZ});for(var nt=[],lt=this._order.length-1;lt>=0;lt--){var _t=this._order[lt];if(be(_t))for(var At=H.length-1;At>=0;At--){var jt=H[At].feature;if(Re[jt.layer.id]<lt)break;nt.push(jt),H.pop()}else for(var Ht=0,zt=W;Ht<zt.length;Ht+=1){var Xt=zt[Ht][_t];if(Xt)for(var Vt=0,mn=Xt;Vt<mn.length;Vt+=1)nt.push(mn[Vt].feature)}}return nt},$.prototype.queryRenderedFeatures=function(W,te,be){te&&te.filter&&this._validate(f.validateStyle.filter,"queryRenderedFeatures.filter",te.filter,null,te);var Re={};if(te&&te.layers){if(!Array.isArray(te.layers))return this.fire(new f.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(var H=0,ie=te.layers;H<ie.length;H+=1){var fe=ie[H],Me=this._layers[fe];if(!Me)return this.fire(new f.ErrorEvent(new Error("The layer '"+fe+"' does not exist in the map's style and cannot be queried for features."))),[];Re[Me.source]=!0}}var Ce=[];for(var Fe in te.availableImages=this._availableImages,this.sourceCaches)te.layers&&!Re[Fe]||Ce.push(ee(this.sourceCaches[Fe],this._layers,this._serializedLayers,W,te,be));return this.placement&&Ce.push(function($e,Xe,Qe,nt,lt,_t,At){for(var jt={},Ht=_t.queryRenderedSymbols(nt),zt=[],Xt=0,Vt=Object.keys(Ht).map(Number);Xt<Vt.length;Xt+=1)zt.push(At[Vt[Xt]]);zt.sort(K);for(var sn=function(){var Xn=On[tn],ur=Xn.featureIndex.lookupSymbolFeatures(Ht[Xn.bucketInstanceId],Xe,Xn.bucketIndex,Xn.sourceLayerIndex,lt.filter,lt.layers,lt.availableImages,$e);for(var yr in ur){var wr=jt[yr]=jt[yr]||[],Er=ur[yr];Er.sort(function(ar,Mr){var Or=Xn.featureSortOrder;if(Or){var qr=Or.indexOf(ar.featureIndex);return Or.indexOf(Mr.featureIndex)-qr}return Mr.featureIndex-ar.featureIndex});for(var Ir=0,Rr=Er;Ir<Rr.length;Ir+=1)wr.push(Rr[Ir])}},tn=0,On=zt;tn<On.length;tn+=1)sn();var In=function(Xn){jt[Xn].forEach(function(ur){var yr=ur.feature,Er=Qe[$e[Xn].source].getFeatureState(yr.layer["source-layer"],yr.id);yr.source=yr.layer.source,yr.layer["source-layer"]&&(yr.sourceLayer=yr.layer["source-layer"]),yr.state=Er})};for(var rr in jt)In(rr);return jt}(this._layers,this._serializedLayers,this.sourceCaches,W,te,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(Ce)},$.prototype.querySourceFeatures=function(W,te){te&&te.filter&&this._validate(f.validateStyle.filter,"querySourceFeatures.filter",te.filter,null,te);var be=this.sourceCaches[W];return be?function(Re,H){for(var ie=Re.getRenderableIds().map(function(Xe){return Re.getTileByID(Xe)}),fe=[],Me={},Ce=0;Ce<ie.length;Ce++){var Fe=ie[Ce],$e=Fe.tileID.canonical.key;Me[$e]||(Me[$e]=!0,Fe.querySourceFeatures(fe,H))}return fe}(be,te):[]},$.prototype.addSourceType=function(W,te,be){return $.getSourceType(W)?be(new Error('A source type called "'+W+'" already exists.')):($.setSourceType(W,te),te.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:W,url:te.workerSourceURL},be):be(null,null))},$.prototype.getLight=function(){return this.light.getLight()},$.prototype.setLight=function(W,te){void 0===te&&(te={}),this._checkLoaded();var be=this.light.getLight(),Re=!1;for(var H in W)if(!f.deepEqual(W[H],be[H])){Re=!0;break}if(Re){var ie={now:f.browser.now(),transition:f.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(W,te),this.light.updateTransitions(ie)}},$.prototype._validate=function(W,te,be,Re,H){return void 0===H&&(H={}),(!H||!1!==H.validate)&&or(this,W.call(f.validateStyle,f.extend({key:te,style:this.serialize(),value:be,styleSpec:f.styleSpec},Re)))},$.prototype._remove=function(){for(var W in this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),f.evented.off("pluginStateChange",this._rtlTextPluginCallback),this._layers)this._layers[W].setEventedParent(null);for(var te in this.sourceCaches)this.sourceCaches[te].clearTiles(),this.sourceCaches[te].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()},$.prototype._clearSource=function(W){this.sourceCaches[W].clearTiles()},$.prototype._reloadSource=function(W){this.sourceCaches[W].resume(),this.sourceCaches[W].reload()},$.prototype._updateSources=function(W){for(var te in this.sourceCaches)this.sourceCaches[te].update(W)},$.prototype._generateCollisionBoxes=function(){for(var W in this.sourceCaches)this._reloadSource(W)},$.prototype._updatePlacement=function(W,te,be,Re,H){void 0===H&&(H=!1);for(var ie=!1,fe=!1,Me={},Ce=0,Fe=this._order;Ce<Fe.length;Ce+=1){var Xe=this._layers[Fe[Ce]];if("symbol"===Xe.type){if(!Me[Xe.source]){var Qe=this.sourceCaches[Xe.source];Me[Xe.source]=Qe.getRenderableIds(!0).map(function(Ht){return Qe.getTileByID(Ht)}).sort(function(Ht,zt){return zt.tileID.overscaledZ-Ht.tileID.overscaledZ||(Ht.tileID.isLessThan(zt.tileID)?-1:1)})}var nt=this.crossTileSymbolIndex.addLayer(Xe,Me[Xe.source],W.center.lng);ie=ie||nt}}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((H=H||this._layerOrderChanged||0===be)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(f.browser.now(),W.zoom))&&(this.pauseablePlacement=new fn(W,this._order,H,te,be,Re,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,Me),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(f.browser.now()),fe=!0),ie&&this.pauseablePlacement.placement.setStale()),fe||ie)for(var lt=0,_t=this._order;lt<_t.length;lt+=1){var jt=this._layers[_t[lt]];"symbol"===jt.type&&this.placement.updateLayerOpacities(jt,Me[jt.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(f.browser.now())},$.prototype._releaseSymbolFadeTiles=function(){for(var W in this.sourceCaches)this.sourceCaches[W].releaseSymbolFadeTiles()},$.prototype.getImages=function(W,te,be){this.imageManager.getImages(te.icons,be),this._updateTilesForChangedImages();var Re=this.sourceCaches[te.source];Re&&Re.setDependencies(te.tileID.key,te.type,te.icons)},$.prototype.getGlyphs=function(W,te,be){this.glyphManager.getGlyphs(te.stacks,be)},$.prototype.getResource=function(W,te,be){return f.makeRequest(te,be)},$}(f.Evented);Ar.getSourceType=function(V){return se[V]},Ar.setSourceType=function(V,$){se[V]=$},Ar.registerForPluginStateChange=f.registerForPluginStateChange;var Sr=f.createLayout([{name:"a_pos",type:"Int16",components:2}]),Pr=Wi("#ifdef GL_ES\nprecision mediump float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif","#ifdef GL_ES\nprecision highp float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif\nvec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0\n);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}"),tr=Wi("uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),Xr=Wi("uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),ir=Wi("varying vec3 v_data;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main(void) {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,0,1);} else {gl_Position=u_matrix*vec4(circle_center,0,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}"),Fr=Wi("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),ii=Wi("uniform highp float u_intensity;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#define GAUSS_COEF 0.3989422804014327\nvoid main() {\n#pragma mapbox: initialize highp float weight\nfloat d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#pragma mapbox: define mediump float radius\nconst highp float ZERO=1.0/255.0/16.0;\n#define GAUSS_COEF 0.3989422804014327\nvoid main(void) {\n#pragma mapbox: initialize highp float weight\n#pragma mapbox: initialize mediump float radius\nvec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}"),qi=Wi("uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(0.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),go=Wi("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),ao=Wi("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),so=Wi("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,0,1);}"),Ki=Wi("#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_FragColor=color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);}"),Co=Wi("varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),Gs=Wi("uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),fi=Wi("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}"),Ds=Wi("varying vec4 v_color;void main() {gl_FragColor=v_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec4 v_color;\n#pragma mapbox: define highp float base\n#pragma mapbox: define highp float height\n#pragma mapbox: define highp vec4 color\nvoid main() {\n#pragma mapbox: initialize highp float base\n#pragma mapbox: initialize highp float height\n#pragma mapbox: initialize highp vec4 color\nvec3 normal=a_normal_ed.xyz;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}"),Zc=Wi("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0\n? a_pos\n: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}"),oa=Wi("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform float u_maxzoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggeration=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/ pow(2.0,(u_zoom-u_maxzoom)*exaggeration+19.2562-u_zoom);gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),tc=Wi("uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;\n#define PI 3.141592653589793\nvoid main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),$u=Wi("uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}"),Li=Wi("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp float v_lineprogress;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,vec2(v_lineprogress,0.5));gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define MAX_LINE_DISTANCE 32767.0\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_lineprogress;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_lineprogress=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0/MAX_LINE_DISTANCE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}"),Af=Wi("uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}"),nc=Wi("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}"),rc=Wi("uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),Ja=Wi("uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nlowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),0.0,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));}"),No=Wi("#define SDF_PX 8.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}"),kl=Wi("#define SDF_PX 8.0\n#define SDF 1.0\n#define ICON 0.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\nreturn;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}");function Wi(V,$){var W=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,te={};return{fragmentSource:V=V.replace(W,function(be,Re,H,ie,fe){return te[fe]=!0,"define"===Re?"\n#ifndef HAS_UNIFORM_u_"+fe+"\nvarying "+H+" "+ie+" "+fe+";\n#else\nuniform "+H+" "+ie+" u_"+fe+";\n#endif\n":"\n#ifdef HAS_UNIFORM_u_"+fe+"\n    "+H+" "+ie+" "+fe+" = u_"+fe+";\n#endif\n"}),vertexSource:$=$.replace(W,function(be,Re,H,ie,fe){var Me="float"===ie?"vec2":"vec4",Ce=fe.match(/color/)?"color":Me;return te[fe]?"define"===Re?"\n#ifndef HAS_UNIFORM_u_"+fe+"\nuniform lowp float u_"+fe+"_t;\nattribute "+H+" "+Me+" a_"+fe+";\nvarying "+H+" "+ie+" "+fe+";\n#else\nuniform "+H+" "+ie+" u_"+fe+";\n#endif\n":"vec4"===Ce?"\n#ifndef HAS_UNIFORM_u_"+fe+"\n    "+fe+" = a_"+fe+";\n#else\n    "+H+" "+ie+" "+fe+" = u_"+fe+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+fe+"\n    "+fe+" = unpack_mix_"+Ce+"(a_"+fe+", u_"+fe+"_t);\n#else\n    "+H+" "+ie+" "+fe+" = u_"+fe+";\n#endif\n":"define"===Re?"\n#ifndef HAS_UNIFORM_u_"+fe+"\nuniform lowp float u_"+fe+"_t;\nattribute "+H+" "+Me+" a_"+fe+";\n#else\nuniform "+H+" "+ie+" u_"+fe+";\n#endif\n":"vec4"===Ce?"\n#ifndef HAS_UNIFORM_u_"+fe+"\n    "+H+" "+ie+" "+fe+" = a_"+fe+";\n#else\n    "+H+" "+ie+" "+fe+" = u_"+fe+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+fe+"\n    "+H+" "+ie+" "+fe+" = unpack_mix_"+Ce+"(a_"+fe+", u_"+fe+"_t);\n#else\n    "+H+" "+ie+" "+fe+" = u_"+fe+";\n#endif\n"})}}var qs=Object.freeze({__proto__:null,prelude:Pr,background:tr,backgroundPattern:Xr,circle:ir,clippingMask:Fr,heatmap:ii,heatmapTexture:qi,collisionBox:go,collisionCircle:ao,debug:so,fill:Ki,fillOutline:Co,fillOutlinePattern:Gs,fillPattern:fi,fillExtrusion:Ds,fillExtrusionPattern:Zc,hillshadePrepare:oa,hillshade:tc,line:$u,lineGradient:Li,linePattern:Af,lineSDF:nc,raster:rc,symbolIcon:Ja,symbolSDF:No,symbolTextAndIcon:kl}),ss=function(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null};ss.prototype.bind=function(V,$,W,te,be,Re,H,ie){this.context=V;for(var fe=this.boundPaintVertexBuffers.length!==te.length,Me=0;!fe&&Me<te.length;Me++)this.boundPaintVertexBuffers[Me]!==te[Me]&&(fe=!0);V.extVertexArrayObject&&this.vao&&this.boundProgram===$&&this.boundLayoutVertexBuffer===W&&!fe&&this.boundIndexBuffer===be&&this.boundVertexOffset===Re&&this.boundDynamicVertexBuffer===H&&this.boundDynamicVertexBuffer2===ie?(V.bindVertexArrayOES.set(this.vao),H&&H.bind(),be&&be.dynamicDraw&&be.bind(),ie&&ie.bind()):this.freshBind($,W,te,be,Re,H,ie)},ss.prototype.freshBind=function(V,$,W,te,be,Re,H){var ie,fe=V.numAttributes,Me=this.context,Ce=Me.gl;if(Me.extVertexArrayObject)this.vao&&this.destroy(),this.vao=Me.extVertexArrayObject.createVertexArrayOES(),Me.bindVertexArrayOES.set(this.vao),ie=0,this.boundProgram=V,this.boundLayoutVertexBuffer=$,this.boundPaintVertexBuffers=W,this.boundIndexBuffer=te,this.boundVertexOffset=be,this.boundDynamicVertexBuffer=Re,this.boundDynamicVertexBuffer2=H;else{ie=Me.currentNumAttributes||0;for(var Fe=fe;Fe<ie;Fe++)Ce.disableVertexAttribArray(Fe)}$.enableAttributes(Ce,V);for(var $e=0,Xe=W;$e<Xe.length;$e+=1)Xe[$e].enableAttributes(Ce,V);Re&&Re.enableAttributes(Ce,V),H&&H.enableAttributes(Ce,V),$.bind(),$.setVertexAttribPointers(Ce,V,be);for(var Qe=0,nt=W;Qe<nt.length;Qe+=1){var lt=nt[Qe];lt.bind(),lt.setVertexAttribPointers(Ce,V,be)}Re&&(Re.bind(),Re.setVertexAttribPointers(Ce,V,be)),te&&te.bind(),H&&(H.bind(),H.setVertexAttribPointers(Ce,V,be)),Me.currentNumAttributes=fe},ss.prototype.destroy=function(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)};var Ws=function(V,$,W,te,be){var Re=V.gl;this.program=Re.createProgram();var H=W?W.defines():[];be&&H.push("#define OVERDRAW_INSPECTOR;");var ie=H.concat(Pr.fragmentSource,$.fragmentSource).join("\n"),fe=H.concat(Pr.vertexSource,$.vertexSource).join("\n"),Me=Re.createShader(Re.FRAGMENT_SHADER);if(Re.isContextLost())this.failedToCreate=!0;else{Re.shaderSource(Me,ie),Re.compileShader(Me),Re.attachShader(this.program,Me);var Ce=Re.createShader(Re.VERTEX_SHADER);if(Re.isContextLost())this.failedToCreate=!0;else{Re.shaderSource(Ce,fe),Re.compileShader(Ce),Re.attachShader(this.program,Ce);for(var Fe=W?W.layoutAttributes:[],$e=0;$e<Fe.length;$e++)Re.bindAttribLocation(this.program,$e,Fe[$e].name);Re.linkProgram(this.program),Re.deleteShader(Ce),Re.deleteShader(Me),this.numAttributes=Re.getProgramParameter(this.program,Re.ACTIVE_ATTRIBUTES),this.attributes={};for(var Xe={},Qe=0;Qe<this.numAttributes;Qe++){var nt=Re.getActiveAttrib(this.program,Qe);nt&&(this.attributes[nt.name]=Re.getAttribLocation(this.program,nt.name))}for(var lt=Re.getProgramParameter(this.program,Re.ACTIVE_UNIFORMS),_t=0;_t<lt;_t++){var At=Re.getActiveUniform(this.program,_t);At&&(Xe[At.name]=Re.getUniformLocation(this.program,At.name))}this.fixedUniforms=te(V,Xe),this.binderUniforms=W?W.getUniforms(V,Xe):[]}}};function Fa(V,$,W){var te=1/mr(W,1,$.transform.tileZoom),be=Math.pow(2,W.tileID.overscaledZ),Re=W.tileSize*Math.pow(2,$.transform.tileZoom)/be,H=Re*(W.tileID.canonical.x+W.tileID.wrap*be),ie=Re*W.tileID.canonical.y;return{u_image:0,u_texsize:W.imageAtlasTexture.size,u_scale:[te,V.fromScale,V.toScale],u_fade:V.t,u_pixel_coord_upper:[H>>16,ie>>16],u_pixel_coord_lower:[65535&H,65535&ie]}}Ws.prototype.draw=function(V,$,W,te,be,Re,H,ie,fe,Me,Ce,Fe,$e,Xe,Qe,nt){var lt,_t=V.gl;if(!this.failedToCreate){for(var At in V.program.set(this.program),V.setDepthMode(W),V.setStencilMode(te),V.setColorMode(be),V.setCullFace(Re),this.fixedUniforms)this.fixedUniforms[At].set(H[At]);Xe&&Xe.setUniforms(V,this.binderUniforms,Fe,{zoom:$e});for(var jt=(lt={},lt[_t.LINES]=2,lt[_t.TRIANGLES]=3,lt[_t.LINE_STRIP]=1,lt)[$],Ht=0,zt=Ce.get();Ht<zt.length;Ht+=1){var Xt=zt[Ht],Vt=Xt.vaos||(Xt.vaos={});(Vt[ie]||(Vt[ie]=new ss)).bind(V,this,fe,Xe?Xe.getPaintVertexBuffers():[],Me,Xt.vertexOffset,Qe,nt),_t.drawElements($,Xt.primitiveLength*jt,_t.UNSIGNED_SHORT,Xt.primitiveOffset*jt*2)}}};var El=function(V,$,W,te){var be=$.style.light,Re=be.properties.get("position"),H=[Re.x,Re.y,Re.z],ie=f.create$1();"viewport"===be.properties.get("anchor")&&f.fromRotation(ie,-$.transform.angle),f.transformMat3(H,H,ie);var fe=be.properties.get("color");return{u_matrix:V,u_lightpos:H,u_lightintensity:be.properties.get("intensity"),u_lightcolor:[fe.r,fe.g,fe.b],u_vertical_gradient:+W,u_opacity:te}},za=function(V,$,W,te,be,Re,H){return f.extend(El(V,$,W,te),Fa(Re,$,H),{u_height_factor:-Math.pow(2,be.overscaledZ)/H.tileSize/8})},al=function(V){return{u_matrix:V}},Vr=function(V,$,W,te){return f.extend(al(V),Fa(W,$,te))},gu=function(V,$){return{u_matrix:V,u_world:$}},Ur=function(V,$,W,te,be){return f.extend(Vr(V,$,W,te),{u_world:be})},Mc=function(V,$,W,te){var be,Re,H=V.transform;if("map"===te.paint.get("circle-pitch-alignment")){var ie=mr(W,1,H.zoom);be=!0,Re=[ie,ie]}else be=!1,Re=H.pixelsToGLUnits;return{u_camera_to_center_distance:H.cameraToCenterDistance,u_scale_with_map:+("map"===te.paint.get("circle-pitch-scale")),u_matrix:V.translatePosMatrix($.posMatrix,W,te.paint.get("circle-translate"),te.paint.get("circle-translate-anchor")),u_pitch_with_map:+be,u_device_pixel_ratio:f.browser.devicePixelRatio,u_extrude_scale:Re}},Ac=function(V,$,W){var te=mr(W,1,$.zoom),be=Math.pow(2,$.zoom-W.tileID.overscaledZ),Re=W.tileID.overscaleFactor();return{u_matrix:V,u_camera_to_center_distance:$.cameraToCenterDistance,u_pixels_to_tile_units:te,u_extrude_scale:[$.pixelsToGLUnits[0]/(te*be),$.pixelsToGLUnits[1]/(te*be)],u_overscale_factor:Re}},ic=function(V,$,W){return{u_matrix:V,u_inv_matrix:$,u_camera_to_center_distance:W.cameraToCenterDistance,u_viewport_size:[W.width,W.height]}},mu=function(V,$,W){return void 0===W&&(W=1),{u_matrix:V,u_color:$,u_overlay:0,u_overlay_scale:W}},Yu=function(V){return{u_matrix:V}},oc=function(V,$,W,te){return{u_matrix:V,u_extrude_scale:mr($,1,W),u_intensity:te}},ls=function(V,$,W){var te=V.transform;return{u_matrix:Os(V,$,W),u_ratio:1/mr($,1,te.zoom),u_device_pixel_ratio:f.browser.devicePixelRatio,u_units_to_pixels:[1/te.pixelsToGLUnits[0],1/te.pixelsToGLUnits[1]]}},Ui=function(V,$,W){return f.extend(ls(V,$,W),{u_image:0})},ac=function(V,$,W,te){var be=V.transform,Re=sl($,be);return{u_matrix:Os(V,$,W),u_texsize:$.imageAtlasTexture.size,u_ratio:1/mr($,1,be.zoom),u_device_pixel_ratio:f.browser.devicePixelRatio,u_image:0,u_scale:[Re,te.fromScale,te.toScale],u_fade:te.t,u_units_to_pixels:[1/be.pixelsToGLUnits[0],1/be.pixelsToGLUnits[1]]}},Ka=function(V,$,W,te,be){var H=V.lineAtlas,ie=sl($,V.transform),fe="round"===W.layout.get("line-cap"),Me=H.getDash(te.from,fe),Ce=H.getDash(te.to,fe),Fe=Me.width*be.fromScale,$e=Ce.width*be.toScale;return f.extend(ls(V,$,W),{u_patternscale_a:[ie/Fe,-Me.height/2],u_patternscale_b:[ie/$e,-Ce.height/2],u_sdfgamma:H.width/(256*Math.min(Fe,$e)*f.browser.devicePixelRatio)/2,u_image:0,u_tex_y_a:Me.y,u_tex_y_b:Ce.y,u_mix:be.t})};function sl(V,$){return 1/mr(V,1,$.tileZoom)}function Os(V,$,W){return V.translatePosMatrix($.tileID.posMatrix,$,W.paint.get("line-translate"),W.paint.get("line-translate-anchor"))}var Ta=function(V,$,W,te,be){return{u_matrix:V,u_tl_parent:$,u_scale_parent:W,u_buffer_scale:1,u_fade_t:te.mix,u_opacity:te.opacity*be.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:be.paint.get("raster-brightness-min"),u_brightness_high:be.paint.get("raster-brightness-max"),u_saturation_factor:(H=be.paint.get("raster-saturation"),H>0?1-1/(1.001-H):-H),u_contrast_factor:(Re=be.paint.get("raster-contrast"),Re>0?1/(1-Re):1+Re),u_spin_weights:sc(be.paint.get("raster-hue-rotate"))};var Re,H};function sc(V){V*=Math.PI/180;var $=Math.sin(V),W=Math.cos(V);return[(2*W+1)/3,(-Math.sqrt(3)*$-W+1)/3,(Math.sqrt(3)*$-W+1)/3]}var ll,no=function(V,$,W,te,be,Re,H,ie,fe,Me){var Ce=be.transform;return{u_is_size_zoom_constant:+("constant"===V||"source"===V),u_is_size_feature_constant:+("constant"===V||"camera"===V),u_size_t:$?$.uSizeT:0,u_size:$?$.uSize:0,u_camera_to_center_distance:Ce.cameraToCenterDistance,u_pitch:Ce.pitch/360*2*Math.PI,u_rotate_symbol:+W,u_aspect_ratio:Ce.width/Ce.height,u_fade_change:be.options.fadeDuration?be.symbolFadeChange:1,u_matrix:Re,u_label_plane_matrix:H,u_coord_matrix:ie,u_is_text:+fe,u_pitch_with_map:+te,u_texsize:Me,u_texture:0}},cs=function(V,$,W,te,be,Re,H,ie,fe,Me,Ce){var Fe=be.transform;return f.extend(no(V,$,W,te,be,Re,H,ie,fe,Me),{u_gamma_scale:te?Math.cos(Fe._pitch)*Fe.cameraToCenterDistance:1,u_device_pixel_ratio:f.browser.devicePixelRatio,u_is_halo:+Ce})},lc=function(V,$,W,te,be,Re,H,ie,fe,Me){return f.extend(cs(V,$,W,te,be,Re,H,ie,!0,fe,!0),{u_texsize_icon:Me,u_texture_icon:1})},us=function(V,$,W){return{u_matrix:V,u_opacity:$,u_color:W}},Is=function(V,$,W,te,be,Re){return f.extend((ie=Re,Me=be,Ce=(fe=W).imageManager.getPattern((H=te).from.toString()),Fe=fe.imageManager.getPattern(H.to.toString()),Xe=($e=fe.imageManager.getPixelSize()).width,Qe=$e.height,nt=Math.pow(2,Me.tileID.overscaledZ),_t=(lt=Me.tileSize*Math.pow(2,fe.transform.tileZoom)/nt)*(Me.tileID.canonical.x+Me.tileID.wrap*nt),At=lt*Me.tileID.canonical.y,{u_image:0,u_pattern_tl_a:Ce.tl,u_pattern_br_a:Ce.br,u_pattern_tl_b:Fe.tl,u_pattern_br_b:Fe.br,u_texsize:[Xe,Qe],u_mix:ie.t,u_pattern_size_a:Ce.displaySize,u_pattern_size_b:Fe.displaySize,u_scale_a:ie.fromScale,u_scale_b:ie.toScale,u_tile_units_to_pixels:1/mr(Me,1,fe.transform.tileZoom),u_pixel_coord_upper:[_t>>16,At>>16],u_pixel_coord_lower:[65535&_t,65535&At]}),{u_matrix:V,u_opacity:$});var H,ie,fe,Me,Ce,Fe,$e,Xe,Qe,nt,lt,_t,At},Zu={fillExtrusion:function(V,$){return{u_matrix:new f.UniformMatrix4f(V,$.u_matrix),u_lightpos:new f.Uniform3f(V,$.u_lightpos),u_lightintensity:new f.Uniform1f(V,$.u_lightintensity),u_lightcolor:new f.Uniform3f(V,$.u_lightcolor),u_vertical_gradient:new f.Uniform1f(V,$.u_vertical_gradient),u_opacity:new f.Uniform1f(V,$.u_opacity)}},fillExtrusionPattern:function(V,$){return{u_matrix:new f.UniformMatrix4f(V,$.u_matrix),u_lightpos:new f.Uniform3f(V,$.u_lightpos),u_lightintensity:new f.Uniform1f(V,$.u_lightintensity),u_lightcolor:new f.Uniform3f(V,$.u_lightcolor),u_vertical_gradient:new f.Uniform1f(V,$.u_vertical_gradient),u_height_factor:new f.Uniform1f(V,$.u_height_factor),u_image:new f.Uniform1i(V,$.u_image),u_texsize:new f.Uniform2f(V,$.u_texsize),u_pixel_coord_upper:new f.Uniform2f(V,$.u_pixel_coord_upper),u_pixel_coord_lower:new f.Uniform2f(V,$.u_pixel_coord_lower),u_scale:new f.Uniform3f(V,$.u_scale),u_fade:new f.Uniform1f(V,$.u_fade),u_opacity:new f.Uniform1f(V,$.u_opacity)}},fill:function(V,$){return{u_matrix:new f.UniformMatrix4f(V,$.u_matrix)}},fillPattern:function(V,$){return{u_matrix:new f.UniformMatrix4f(V,$.u_matrix),u_image:new f.Uniform1i(V,$.u_image),u_texsize:new f.Uniform2f(V,$.u_texsize),u_pixel_coord_upper:new f.Uniform2f(V,$.u_pixel_coord_upper),u_pixel_coord_lower:new f.Uniform2f(V,$.u_pixel_coord_lower),u_scale:new f.Uniform3f(V,$.u_scale),u_fade:new f.Uniform1f(V,$.u_fade)}},fillOutline:function(V,$){return{u_matrix:new f.UniformMatrix4f(V,$.u_matrix),u_world:new f.Uniform2f(V,$.u_world)}},fillOutlinePattern:function(V,$){return{u_matrix:new f.UniformMatrix4f(V,$.u_matrix),u_world:new f.Uniform2f(V,$.u_world),u_image:new f.Uniform1i(V,$.u_image),u_texsize:new f.Uniform2f(V,$.u_texsize),u_pixel_coord_upper:new f.Uniform2f(V,$.u_pixel_coord_upper),u_pixel_coord_lower:new f.Uniform2f(V,$.u_pixel_coord_lower),u_scale:new f.Uniform3f(V,$.u_scale),u_fade:new f.Uniform1f(V,$.u_fade)}},circle:function(V,$){return{u_camera_to_center_distance:new f.Uniform1f(V,$.u_camera_to_center_distance),u_scale_with_map:new f.Uniform1i(V,$.u_scale_with_map),u_pitch_with_map:new f.Uniform1i(V,$.u_pitch_with_map),u_extrude_scale:new f.Uniform2f(V,$.u_extrude_scale),u_device_pixel_ratio:new f.Uniform1f(V,$.u_device_pixel_ratio),u_matrix:new f.UniformMatrix4f(V,$.u_matrix)}},collisionBox:function(V,$){return{u_matrix:new f.UniformMatrix4f(V,$.u_matrix),u_camera_to_center_distance:new f.Uniform1f(V,$.u_camera_to_center_distance),u_pixels_to_tile_units:new f.Uniform1f(V,$.u_pixels_to_tile_units),u_extrude_scale:new f.Uniform2f(V,$.u_extrude_scale),u_overscale_factor:new f.Uniform1f(V,$.u_overscale_factor)}},collisionCircle:function(V,$){return{u_matrix:new f.UniformMatrix4f(V,$.u_matrix),u_inv_matrix:new f.UniformMatrix4f(V,$.u_inv_matrix),u_camera_to_center_distance:new f.Uniform1f(V,$.u_camera_to_center_distance),u_viewport_size:new f.Uniform2f(V,$.u_viewport_size)}},debug:function(V,$){return{u_color:new f.UniformColor(V,$.u_color),u_matrix:new f.UniformMatrix4f(V,$.u_matrix),u_overlay:new f.Uniform1i(V,$.u_overlay),u_overlay_scale:new f.Uniform1f(V,$.u_overlay_scale)}},clippingMask:function(V,$){return{u_matrix:new f.UniformMatrix4f(V,$.u_matrix)}},heatmap:function(V,$){return{u_extrude_scale:new f.Uniform1f(V,$.u_extrude_scale),u_intensity:new f.Uniform1f(V,$.u_intensity),u_matrix:new f.UniformMatrix4f(V,$.u_matrix)}},heatmapTexture:function(V,$){return{u_matrix:new f.UniformMatrix4f(V,$.u_matrix),u_world:new f.Uniform2f(V,$.u_world),u_image:new f.Uniform1i(V,$.u_image),u_color_ramp:new f.Uniform1i(V,$.u_color_ramp),u_opacity:new f.Uniform1f(V,$.u_opacity)}},hillshade:function(V,$){return{u_matrix:new f.UniformMatrix4f(V,$.u_matrix),u_image:new f.Uniform1i(V,$.u_image),u_latrange:new f.Uniform2f(V,$.u_latrange),u_light:new f.Uniform2f(V,$.u_light),u_shadow:new f.UniformColor(V,$.u_shadow),u_highlight:new f.UniformColor(V,$.u_highlight),u_accent:new f.UniformColor(V,$.u_accent)}},hillshadePrepare:function(V,$){return{u_matrix:new f.UniformMatrix4f(V,$.u_matrix),u_image:new f.Uniform1i(V,$.u_image),u_dimension:new f.Uniform2f(V,$.u_dimension),u_zoom:new f.Uniform1f(V,$.u_zoom),u_maxzoom:new f.Uniform1f(V,$.u_maxzoom),u_unpack:new f.Uniform4f(V,$.u_unpack)}},line:function(V,$){return{u_matrix:new f.UniformMatrix4f(V,$.u_matrix),u_ratio:new f.Uniform1f(V,$.u_ratio),u_device_pixel_ratio:new f.Uniform1f(V,$.u_device_pixel_ratio),u_units_to_pixels:new f.Uniform2f(V,$.u_units_to_pixels)}},lineGradient:function(V,$){return{u_matrix:new f.UniformMatrix4f(V,$.u_matrix),u_ratio:new f.Uniform1f(V,$.u_ratio),u_device_pixel_ratio:new f.Uniform1f(V,$.u_device_pixel_ratio),u_units_to_pixels:new f.Uniform2f(V,$.u_units_to_pixels),u_image:new f.Uniform1i(V,$.u_image)}},linePattern:function(V,$){return{u_matrix:new f.UniformMatrix4f(V,$.u_matrix),u_texsize:new f.Uniform2f(V,$.u_texsize),u_ratio:new f.Uniform1f(V,$.u_ratio),u_device_pixel_ratio:new f.Uniform1f(V,$.u_device_pixel_ratio),u_image:new f.Uniform1i(V,$.u_image),u_units_to_pixels:new f.Uniform2f(V,$.u_units_to_pixels),u_scale:new f.Uniform3f(V,$.u_scale),u_fade:new f.Uniform1f(V,$.u_fade)}},lineSDF:function(V,$){return{u_matrix:new f.UniformMatrix4f(V,$.u_matrix),u_ratio:new f.Uniform1f(V,$.u_ratio),u_device_pixel_ratio:new f.Uniform1f(V,$.u_device_pixel_ratio),u_units_to_pixels:new f.Uniform2f(V,$.u_units_to_pixels),u_patternscale_a:new f.Uniform2f(V,$.u_patternscale_a),u_patternscale_b:new f.Uniform2f(V,$.u_patternscale_b),u_sdfgamma:new f.Uniform1f(V,$.u_sdfgamma),u_image:new f.Uniform1i(V,$.u_image),u_tex_y_a:new f.Uniform1f(V,$.u_tex_y_a),u_tex_y_b:new f.Uniform1f(V,$.u_tex_y_b),u_mix:new f.Uniform1f(V,$.u_mix)}},raster:function(V,$){return{u_matrix:new f.UniformMatrix4f(V,$.u_matrix),u_tl_parent:new f.Uniform2f(V,$.u_tl_parent),u_scale_parent:new f.Uniform1f(V,$.u_scale_parent),u_buffer_scale:new f.Uniform1f(V,$.u_buffer_scale),u_fade_t:new f.Uniform1f(V,$.u_fade_t),u_opacity:new f.Uniform1f(V,$.u_opacity),u_image0:new f.Uniform1i(V,$.u_image0),u_image1:new f.Uniform1i(V,$.u_image1),u_brightness_low:new f.Uniform1f(V,$.u_brightness_low),u_brightness_high:new f.Uniform1f(V,$.u_brightness_high),u_saturation_factor:new f.Uniform1f(V,$.u_saturation_factor),u_contrast_factor:new f.Uniform1f(V,$.u_contrast_factor),u_spin_weights:new f.Uniform3f(V,$.u_spin_weights)}},symbolIcon:function(V,$){return{u_is_size_zoom_constant:new f.Uniform1i(V,$.u_is_size_zoom_constant),u_is_size_feature_constant:new f.Uniform1i(V,$.u_is_size_feature_constant),u_size_t:new f.Uniform1f(V,$.u_size_t),u_size:new f.Uniform1f(V,$.u_size),u_camera_to_center_distance:new f.Uniform1f(V,$.u_camera_to_center_distance),u_pitch:new f.Uniform1f(V,$.u_pitch),u_rotate_symbol:new f.Uniform1i(V,$.u_rotate_symbol),u_aspect_ratio:new f.Uniform1f(V,$.u_aspect_ratio),u_fade_change:new f.Uniform1f(V,$.u_fade_change),u_matrix:new f.UniformMatrix4f(V,$.u_matrix),u_label_plane_matrix:new f.UniformMatrix4f(V,$.u_label_plane_matrix),u_coord_matrix:new f.UniformMatrix4f(V,$.u_coord_matrix),u_is_text:new f.Uniform1i(V,$.u_is_text),u_pitch_with_map:new f.Uniform1i(V,$.u_pitch_with_map),u_texsize:new f.Uniform2f(V,$.u_texsize),u_texture:new f.Uniform1i(V,$.u_texture)}},symbolSDF:function(V,$){return{u_is_size_zoom_constant:new f.Uniform1i(V,$.u_is_size_zoom_constant),u_is_size_feature_constant:new f.Uniform1i(V,$.u_is_size_feature_constant),u_size_t:new f.Uniform1f(V,$.u_size_t),u_size:new f.Uniform1f(V,$.u_size),u_camera_to_center_distance:new f.Uniform1f(V,$.u_camera_to_center_distance),u_pitch:new f.Uniform1f(V,$.u_pitch),u_rotate_symbol:new f.Uniform1i(V,$.u_rotate_symbol),u_aspect_ratio:new f.Uniform1f(V,$.u_aspect_ratio),u_fade_change:new f.Uniform1f(V,$.u_fade_change),u_matrix:new f.UniformMatrix4f(V,$.u_matrix),u_label_plane_matrix:new f.UniformMatrix4f(V,$.u_label_plane_matrix),u_coord_matrix:new f.UniformMatrix4f(V,$.u_coord_matrix),u_is_text:new f.Uniform1i(V,$.u_is_text),u_pitch_with_map:new f.Uniform1i(V,$.u_pitch_with_map),u_texsize:new f.Uniform2f(V,$.u_texsize),u_texture:new f.Uniform1i(V,$.u_texture),u_gamma_scale:new f.Uniform1f(V,$.u_gamma_scale),u_device_pixel_ratio:new f.Uniform1f(V,$.u_device_pixel_ratio),u_is_halo:new f.Uniform1i(V,$.u_is_halo)}},symbolTextAndIcon:function(V,$){return{u_is_size_zoom_constant:new f.Uniform1i(V,$.u_is_size_zoom_constant),u_is_size_feature_constant:new f.Uniform1i(V,$.u_is_size_feature_constant),u_size_t:new f.Uniform1f(V,$.u_size_t),u_size:new f.Uniform1f(V,$.u_size),u_camera_to_center_distance:new f.Uniform1f(V,$.u_camera_to_center_distance),u_pitch:new f.Uniform1f(V,$.u_pitch),u_rotate_symbol:new f.Uniform1i(V,$.u_rotate_symbol),u_aspect_ratio:new f.Uniform1f(V,$.u_aspect_ratio),u_fade_change:new f.Uniform1f(V,$.u_fade_change),u_matrix:new f.UniformMatrix4f(V,$.u_matrix),u_label_plane_matrix:new f.UniformMatrix4f(V,$.u_label_plane_matrix),u_coord_matrix:new f.UniformMatrix4f(V,$.u_coord_matrix),u_is_text:new f.Uniform1i(V,$.u_is_text),u_pitch_with_map:new f.Uniform1i(V,$.u_pitch_with_map),u_texsize:new f.Uniform2f(V,$.u_texsize),u_texsize_icon:new f.Uniform2f(V,$.u_texsize_icon),u_texture:new f.Uniform1i(V,$.u_texture),u_texture_icon:new f.Uniform1i(V,$.u_texture_icon),u_gamma_scale:new f.Uniform1f(V,$.u_gamma_scale),u_device_pixel_ratio:new f.Uniform1f(V,$.u_device_pixel_ratio),u_is_halo:new f.Uniform1i(V,$.u_is_halo)}},background:function(V,$){return{u_matrix:new f.UniformMatrix4f(V,$.u_matrix),u_opacity:new f.Uniform1f(V,$.u_opacity),u_color:new f.UniformColor(V,$.u_color)}},backgroundPattern:function(V,$){return{u_matrix:new f.UniformMatrix4f(V,$.u_matrix),u_opacity:new f.Uniform1f(V,$.u_opacity),u_image:new f.Uniform1i(V,$.u_image),u_pattern_tl_a:new f.Uniform2f(V,$.u_pattern_tl_a),u_pattern_br_a:new f.Uniform2f(V,$.u_pattern_br_a),u_pattern_tl_b:new f.Uniform2f(V,$.u_pattern_tl_b),u_pattern_br_b:new f.Uniform2f(V,$.u_pattern_br_b),u_texsize:new f.Uniform2f(V,$.u_texsize),u_mix:new f.Uniform1f(V,$.u_mix),u_pattern_size_a:new f.Uniform2f(V,$.u_pattern_size_a),u_pattern_size_b:new f.Uniform2f(V,$.u_pattern_size_b),u_scale_a:new f.Uniform1f(V,$.u_scale_a),u_scale_b:new f.Uniform1f(V,$.u_scale_b),u_pixel_coord_upper:new f.Uniform2f(V,$.u_pixel_coord_upper),u_pixel_coord_lower:new f.Uniform2f(V,$.u_pixel_coord_lower),u_tile_units_to_pixels:new f.Uniform1f(V,$.u_tile_units_to_pixels)}}};function Sc(V,$,W,te,be,Re,H){for(var ie=V.context,fe=ie.gl,Me=V.useProgram("collisionBox"),Ce=[],Fe=0,$e=0,Xe=0;Xe<te.length;Xe++){var Qe=te[Xe],nt=$.getTile(Qe),lt=nt.getBucket(W);if(lt){var _t=Qe.posMatrix;0===be[0]&&0===be[1]||(_t=V.translatePosMatrix(Qe.posMatrix,nt,be,Re));var At=H?lt.textCollisionBox:lt.iconCollisionBox,jt=lt.collisionCircleArray;if(jt.length>0){var Ht=f.create(),zt=_t;f.mul(Ht,lt.placementInvProjMatrix,V.transform.glCoordMatrix),f.mul(Ht,Ht,lt.placementViewportMatrix),Ce.push({circleArray:jt,circleOffset:$e,transform:zt,invTransform:Ht}),$e=Fe+=jt.length/4}At&&Me.draw(ie,fe.LINES,Ut.disabled,rt.disabled,V.colorModeForRenderPass(),Je.disabled,Ac(_t,V.transform,nt),W.id,At.layoutVertexBuffer,At.indexBuffer,At.segments,null,V.transform.zoom,null,null,At.collisionVertexBuffer)}}if(H&&Ce.length){var Xt=V.useProgram("collisionCircle"),Vt=new f.StructArrayLayout2f1f2i16;Vt.resize(4*Fe),Vt._trim();for(var mn=0,sn=0,tn=Ce;sn<tn.length;sn+=1)for(var On=tn[sn],In=0;In<On.circleArray.length/4;In++){var rr=4*In,Xn=On.circleArray[rr+0],ur=On.circleArray[rr+1],yr=On.circleArray[rr+2],wr=On.circleArray[rr+3];Vt.emplace(mn++,Xn,ur,yr,wr,0),Vt.emplace(mn++,Xn,ur,yr,wr,1),Vt.emplace(mn++,Xn,ur,yr,wr,2),Vt.emplace(mn++,Xn,ur,yr,wr,3)}(!ll||ll.length<2*Fe)&&(ll=function(Or){var qr=2*Or,ri=new f.StructArrayLayout3ui6;ri.resize(qr),ri._trim();for(var gi=0;gi<qr;gi++){var Ti=6*gi;ri.uint16[Ti+0]=4*gi+0,ri.uint16[Ti+1]=4*gi+1,ri.uint16[Ti+2]=4*gi+2,ri.uint16[Ti+3]=4*gi+2,ri.uint16[Ti+4]=4*gi+3,ri.uint16[Ti+5]=4*gi+0}return ri}(Fe));for(var Er=ie.createIndexBuffer(ll,!0),Ir=ie.createVertexBuffer(Vt,f.collisionCircleLayout.members,!0),Rr=0,ai=Ce;Rr<ai.length;Rr+=1){var ar=ai[Rr],Mr=ic(ar.transform,ar.invTransform,V.transform);Xt.draw(ie,fe.TRIANGLES,Ut.disabled,rt.disabled,V.colorModeForRenderPass(),Je.disabled,Mr,W.id,Ir,Er,f.SegmentVector.simpleSegment(0,2*ar.circleOffset,ar.circleArray.length,ar.circleArray.length/2),null,V.transform.zoom,null,null,null)}Ir.destroy(),Er.destroy()}}var Xu=f.identity(new Float32Array(16));function vu(V,$,W,te,be,Re){var H=f.getAnchorAlignment(V),ie=-(H.horizontalAlign-.5)*$,fe=-(H.verticalAlign-.5)*W,Me=f.evaluateVariableOffset(V,te);return new f.Point((ie/be+Me[0])*Re,(fe/be+Me[1])*Re)}function kc(V,$,W,te,be,Re,H,ie,fe,Me,Ce){var Fe=V.text.placedSymbolArray,$e=V.text.dynamicLayoutVertexArray,Xe=V.icon.dynamicLayoutVertexArray,Qe={};$e.clear();for(var nt=0;nt<Fe.length;nt++){var lt=Fe.get(nt),At=lt.hidden||!lt.crossTileID||V.allowVerticalPlacement&&!lt.placedOrientation?null:te[lt.crossTileID];if(At){var jt=new f.Point(lt.anchorX,lt.anchorY),Ht=en(jt,W?ie:H),zt=vn(Re.cameraToCenterDistance,Ht.signedDistanceFromCamera),Xt=be.evaluateSizeForFeature(V.textSizeData,Me,lt)*zt/f.ONE_EM;W&&(Xt*=V.tilePixelRatio/fe);for(var sn=vu(At.anchor,At.width,At.height,At.textOffset,At.textBoxScale,Xt),tn=W?en(jt.add(sn),H).point:Ht.point.add($?sn.rotate(-Re.angle):sn),On=V.allowVerticalPlacement&&lt.placedOrientation===f.WritingMode.vertical?Math.PI/2:0,In=0;In<lt.numGlyphs;In++)f.addDynamicAttributes($e,tn,On);Ce&&lt.associatedIconIndex>=0&&(Qe[lt.associatedIconIndex]={shiftedAnchor:tn,angle:On})}else _r(lt.numGlyphs,$e)}if(Ce){Xe.clear();for(var rr=V.icon.placedSymbolArray,Xn=0;Xn<rr.length;Xn++){var ur=rr.get(Xn);if(ur.hidden)_r(ur.numGlyphs,Xe);else{var yr=Qe[Xn];if(yr)for(var wr=0;wr<ur.numGlyphs;wr++)f.addDynamicAttributes(Xe,yr.shiftedAnchor,yr.angle);else _r(ur.numGlyphs,Xe)}}V.icon.dynamicLayoutVertexBuffer.updateData(Xe)}V.text.dynamicLayoutVertexBuffer.updateData($e)}function cc(V,$,W){return W.iconsInText&&$?"symbolTextAndIcon":V?"symbolSDF":"symbolIcon"}function qa(V,$,W,te,be,Re,H,ie,fe,Me,Ce,Fe){for(var $e=V.context,Xe=$e.gl,Qe=V.transform,nt="map"===ie,lt="map"===fe,_t=nt&&"point"!==W.layout.get("symbol-placement"),At=nt&&!lt&&!_t,jt=void 0!==W.layout.get("symbol-sort-key").constantOr(1),Ht=V.depthModeForSublayer(0,Ut.ReadOnly),zt=W.layout.get("text-variable-anchor"),Xt=[],Vt=0,mn=te;Vt<mn.length;Vt+=1){var sn=mn[Vt],tn=$.getTile(sn),On=tn.getBucket(W);if(On){var In=be?On.text:On.icon;if(In&&In.segments.get().length){var rr=In.programConfigurations.get(W.id),Xn=be||On.sdfIcons,ur=be?On.textSizeData:On.iconSizeData,yr=lt||0!==Qe.pitch,wr=V.useProgram(cc(Xn,be,On),rr),Er=f.evaluateSizeForZoom(ur,Qe.zoom),Ir=void 0,Rr=[0,0],ai=void 0,ar=void 0,Mr=null,Or=void 0;if(be)ai=tn.glyphAtlasTexture,ar=Xe.LINEAR,Ir=tn.glyphAtlasTexture.size,On.iconsInText&&(Rr=tn.imageAtlasTexture.size,Mr=tn.imageAtlasTexture,Or=yr||V.options.rotating||V.options.zooming||"composite"===ur.kind||"camera"===ur.kind?Xe.LINEAR:Xe.NEAREST);else{var ri=1!==W.layout.get("icon-size").constantOr(0)||On.iconsNeedLinear;ai=tn.imageAtlasTexture,ar=Xn||V.options.rotating||V.options.zooming||ri||yr?Xe.LINEAR:Xe.NEAREST,Ir=tn.imageAtlasTexture.size}var gi=mr(tn,1,V.transform.zoom),Ti=Pn(sn.posMatrix,lt,nt,V.transform,gi),Yi=Sn(sn.posMatrix,lt,nt,V.transform,gi),vo=zt&&On.hasTextData(),ho="none"!==W.layout.get("icon-text-fit")&&vo&&On.hasIconData();_t&&yn(On,sn.posMatrix,V,be,Ti,Yi,lt,Me);var Zi=V.translatePosMatrix(sn.posMatrix,tn,Re,H),Do=_t||be&&zt||ho?Xu:Ti,ma=V.translatePosMatrix(Yi,tn,Re,H,!0),Kr=Xn&&0!==W.paint.get(be?"text-halo-width":"icon-halo-width").constantOr(1),ta={program:wr,buffers:In,uniformValues:Xn?On.iconsInText?lc(ur.kind,Er,At,lt,V,Zi,Do,ma,Ir,Rr):cs(ur.kind,Er,At,lt,V,Zi,Do,ma,be,Ir,!0):no(ur.kind,Er,At,lt,V,Zi,Do,ma,be,Ir),atlasTexture:ai,atlasTextureIcon:Mr,atlasInterpolation:ar,atlasInterpolationIcon:Or,isSDF:Xn,hasHalo:Kr};if(jt)for(var Xi=0,Ci=In.segments.get();Xi<Ci.length;Xi+=1){var yo=Ci[Xi];Xt.push({segments:new f.SegmentVector([yo]),sortKey:yo.sortKey,state:ta})}else Xt.push({segments:In.segments,sortKey:0,state:ta})}}}jt&&Xt.sort(function(Wl,rs){return Wl.sortKey-rs.sortKey});for(var lo=0,_o=Xt;lo<_o.length;lo+=1){var fa=_o[lo],Oo=fa.state;if($e.activeTexture.set(Xe.TEXTURE0),Oo.atlasTexture.bind(Oo.atlasInterpolation,Xe.CLAMP_TO_EDGE),Oo.atlasTextureIcon&&($e.activeTexture.set(Xe.TEXTURE1),Oo.atlasTextureIcon&&Oo.atlasTextureIcon.bind(Oo.atlasInterpolationIcon,Xe.CLAMP_TO_EDGE)),Oo.isSDF){var eo=Oo.uniformValues;Oo.hasHalo&&(eo.u_is_halo=1,Cl(Oo.buffers,fa.segments,W,V,Oo.program,Ht,Ce,Fe,eo)),eo.u_is_halo=0}Cl(Oo.buffers,fa.segments,W,V,Oo.program,Ht,Ce,Fe,Oo.uniformValues)}}function Cl(V,$,W,te,be,Re,H,ie,fe){var Me=te.context;be.draw(Me,Me.gl.TRIANGLES,Re,H,ie,Je.disabled,fe,W.id,V.layoutVertexBuffer,V.indexBuffer,$,W.paint,te.transform.zoom,V.programConfigurations.get(W.id),V.dynamicLayoutVertexBuffer,V.opacityVertexBuffer)}function Ys(V,$,W,te,be,Re,H){var ie,fe,Me,Ce,Fe,$e=V.context.gl,Xe=W.paint.get("fill-pattern"),Qe=Xe&&Xe.constantOr(1),nt=W.getCrossfadeParameters();H?(fe=Qe&&!W.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",ie=$e.LINES):(fe=Qe?"fillPattern":"fill",ie=$e.TRIANGLES);for(var lt=0,_t=te;lt<_t.length;lt+=1){var At=_t[lt],jt=$.getTile(At);if(!Qe||jt.patternsLoaded()){var Ht=jt.getBucket(W);if(Ht){var zt=Ht.programConfigurations.get(W.id),Xt=V.useProgram(fe,zt);Qe&&(V.context.activeTexture.set($e.TEXTURE0),jt.imageAtlasTexture.bind($e.LINEAR,$e.CLAMP_TO_EDGE),zt.updatePaintBuffers(nt));var Vt=Xe.constantOr(null);if(Vt&&jt.imageAtlas){var mn=jt.imageAtlas,sn=mn.patternPositions[Vt.to.toString()],tn=mn.patternPositions[Vt.from.toString()];sn&&tn&&zt.setConstantPatternPositions(sn,tn)}var On=V.translatePosMatrix(At.posMatrix,jt,W.paint.get("fill-translate"),W.paint.get("fill-translate-anchor"));if(H){Ce=Ht.indexBuffer2,Fe=Ht.segments2;var In=[$e.drawingBufferWidth,$e.drawingBufferHeight];Me="fillOutlinePattern"===fe&&Qe?Ur(On,V,nt,jt,In):gu(On,In)}else Ce=Ht.indexBuffer,Fe=Ht.segments,Me=Qe?Vr(On,V,nt,jt):al(On);Xt.draw(V.context,ie,be,V.stencilModeForClipping(At),Re,Je.disabled,Me,W.id,Ht.layoutVertexBuffer,Ce,Fe,W.paint,V.transform.zoom,zt)}}}}function Dl(V,$,W,te,be,Re,H){for(var ie=V.context,fe=ie.gl,Me=W.paint.get("fill-extrusion-pattern"),Ce=Me.constantOr(1),Fe=W.getCrossfadeParameters(),$e=W.paint.get("fill-extrusion-opacity"),Xe=0,Qe=te;Xe<Qe.length;Xe+=1){var nt=Qe[Xe],lt=$.getTile(nt),_t=lt.getBucket(W);if(_t){var At=_t.programConfigurations.get(W.id),jt=V.useProgram(Ce?"fillExtrusionPattern":"fillExtrusion",At);Ce&&(V.context.activeTexture.set(fe.TEXTURE0),lt.imageAtlasTexture.bind(fe.LINEAR,fe.CLAMP_TO_EDGE),At.updatePaintBuffers(Fe));var Ht=Me.constantOr(null);if(Ht&&lt.imageAtlas){var zt=lt.imageAtlas,Xt=zt.patternPositions[Ht.to.toString()],Vt=zt.patternPositions[Ht.from.toString()];Xt&&Vt&&At.setConstantPatternPositions(Xt,Vt)}var mn=V.translatePosMatrix(nt.posMatrix,lt,W.paint.get("fill-extrusion-translate"),W.paint.get("fill-extrusion-translate-anchor")),sn=W.paint.get("fill-extrusion-vertical-gradient"),tn=Ce?za(mn,V,sn,$e,nt,Fe,lt):El(mn,V,sn,$e);jt.draw(ie,ie.gl.TRIANGLES,be,Re,H,Je.backCCW,tn,W.id,_t.layoutVertexBuffer,_t.indexBuffer,_t.segments,W.paint,V.transform.zoom,At)}}}function cl(V,$,W,te,be,Re){var H=V.context,ie=H.gl,fe=$.fbo;if(fe){var Me=V.useProgram("hillshade");H.activeTexture.set(ie.TEXTURE0),ie.bindTexture(ie.TEXTURE_2D,fe.colorAttachment.get());var Ce=function(V,$,W){var te=W.paint.get("hillshade-shadow-color"),be=W.paint.get("hillshade-highlight-color"),Re=W.paint.get("hillshade-accent-color"),H=W.paint.get("hillshade-illumination-direction")*(Math.PI/180);"viewport"===W.paint.get("hillshade-illumination-anchor")&&(H-=V.transform.angle);var ie,fe,Me,Ce=!V.options.moving;return{u_matrix:V.transform.calculatePosMatrix($.tileID.toUnwrapped(),Ce),u_image:0,u_latrange:(ie=$.tileID,fe=Math.pow(2,ie.canonical.z),Me=ie.canonical.y,[new f.MercatorCoordinate(0,Me/fe).toLngLat().lat,new f.MercatorCoordinate(0,(Me+1)/fe).toLngLat().lat]),u_light:[W.paint.get("hillshade-exaggeration"),H],u_shadow:te,u_highlight:be,u_accent:Re}}(V,$,W);Me.draw(H,ie.TRIANGLES,te,be,Re,Je.disabled,Ce,W.id,V.rasterBoundsBuffer,V.quadTriangleIndexBuffer,V.rasterBoundsSegments)}}function Xc(V,$,W,te,be,Re,H){var ie=V.context,fe=ie.gl,Me=$.dem;if(Me&&Me.data){var Ce=Me.dim,Fe=Me.stride,$e=Me.getPixels();if(ie.activeTexture.set(fe.TEXTURE1),ie.pixelStoreUnpackPremultiplyAlpha.set(!1),$.demTexture=$.demTexture||V.getTileTexture(Fe),$.demTexture){var Xe=$.demTexture;Xe.update($e,{premultiply:!1}),Xe.bind(fe.NEAREST,fe.CLAMP_TO_EDGE)}else $.demTexture=new f.Texture(ie,$e,fe.RGBA,{premultiply:!1}),$.demTexture.bind(fe.NEAREST,fe.CLAMP_TO_EDGE);ie.activeTexture.set(fe.TEXTURE0);var Qe=$.fbo;if(!Qe){var nt=new f.Texture(ie,{width:Ce,height:Ce,data:null},fe.RGBA);nt.bind(fe.LINEAR,fe.CLAMP_TO_EDGE),(Qe=$.fbo=ie.createFramebuffer(Ce,Ce,!0)).colorAttachment.set(nt.texture)}ie.bindFramebuffer.set(Qe.framebuffer),ie.viewport.set([0,0,Ce,Ce]),V.useProgram("hillshadePrepare").draw(ie,fe.TRIANGLES,be,Re,H,Je.disabled,function(V,$,W){var te=$.stride,be=f.create();return f.ortho(be,0,f.EXTENT,-f.EXTENT,0,0,1),f.translate(be,be,[0,-f.EXTENT,0]),{u_matrix:be,u_image:1,u_dimension:[te,te],u_zoom:V.overscaledZ,u_maxzoom:W,u_unpack:$.getUnpackVector()}}($.tileID,Me,te),W.id,V.rasterBoundsBuffer,V.quadTriangleIndexBuffer,V.rasterBoundsSegments),$.needsHillshadePrepare=!1}}function Ps(V,$,W,te,be){var Re=te.paint.get("raster-fade-duration");if(Re>0){var H=f.browser.now(),ie=(H-V.timeAdded)/Re,fe=$?(H-$.timeAdded)/Re:-1,Me=W.getSource(),Ce=be.coveringZoomLevel({tileSize:Me.tileSize,roundZoom:Me.roundZoom}),Fe=!$||Math.abs($.tileID.overscaledZ-Ce)>Math.abs(V.tileID.overscaledZ-Ce),$e=Fe&&V.refreshedUponExpiration?1:f.clamp(Fe?ie:1-fe,0,1);return V.refreshedUponExpiration&&ie>=1&&(V.refreshedUponExpiration=!1),$?{opacity:1,mix:1-$e}:{opacity:$e,mix:0}}return{opacity:1,mix:0}}var yu=new f.Color(1,0,0,1),Ju=new f.Color(0,1,0,1),Jc=new f.Color(0,0,1,1),Ol=new f.Color(1,0,1,1),ga=new f.Color(0,1,1,1);function _u(V,$,W,te){Ri(V,0,$+W/2,V.transform.width,W,te)}function uc(V,$,W,te){Ri(V,$-W/2,0,W,V.transform.height,te)}function Ri(V,$,W,te,be,Re){var H=V.context,ie=H.gl;ie.enable(ie.SCISSOR_TEST),ie.scissor($*f.browser.devicePixelRatio,W*f.browser.devicePixelRatio,te*f.browser.devicePixelRatio,be*f.browser.devicePixelRatio),H.clear({color:Re}),ie.disable(ie.SCISSOR_TEST)}function Ec(V,$,W){var te=V.context,be=te.gl,Re=W.posMatrix,H=V.useProgram("debug"),ie=Ut.disabled,fe=rt.disabled,Me=V.colorModeForRenderPass();te.activeTexture.set(be.TEXTURE0),V.emptyTexture.bind(be.LINEAR,be.CLAMP_TO_EDGE),H.draw(te,be.LINE_STRIP,ie,fe,Me,Je.disabled,mu(Re,f.Color.red),"$debug",V.debugBuffer,V.tileBorderIndexBuffer,V.debugSegments);var Fe=$.getTileByID(W.key).latestRawTileData,Xe=Math.floor((Fe&&Fe.byteLength||0)/1024),Qe=$.getTile(W).tileSize,nt=512/Math.min(Qe,512)*(W.overscaledZ/V.transform.zoom)*.5,lt=W.canonical.toString();W.overscaledZ!==W.canonical.z&&(lt+=" => "+W.overscaledZ),function(_t,At){_t.initDebugOverlayCanvas();var jt=_t.debugOverlayCanvas,Ht=_t.context.gl,zt=_t.debugOverlayCanvas.getContext("2d");zt.clearRect(0,0,jt.width,jt.height),zt.shadowColor="white",zt.shadowBlur=2,zt.lineWidth=1.5,zt.strokeStyle="white",zt.textBaseline="top",zt.font="bold 36px Open Sans, sans-serif",zt.fillText(At,5,5),zt.strokeText(At,5,5),_t.debugOverlayTexture.update(jt),_t.debugOverlayTexture.bind(Ht.LINEAR,Ht.CLAMP_TO_EDGE)}(V,lt+" "+Xe+"kb"),H.draw(te,be.TRIANGLES,ie,fe,ot.alphaBlended,Je.disabled,mu(Re,f.Color.transparent,nt),"$debug",V.debugBuffer,V.quadTriangleIndexBuffer,V.debugSegments)}var Vl={symbol:function(V,$,W,te,be){if("translucent"===V.renderPass){var Re=rt.disabled,H=V.colorModeForRenderPass();W.layout.get("text-variable-anchor")&&function(ie,fe,Me,Ce,Fe,$e,Xe){for(var Qe=fe.transform,nt="map"===Fe,lt="map"===$e,_t=0,At=ie;_t<At.length;_t+=1){var jt=At[_t],Ht=Ce.getTile(jt),zt=Ht.getBucket(Me);if(zt&&zt.text&&zt.text.segments.get().length){var Vt=f.evaluateSizeForZoom(zt.textSizeData,Qe.zoom),mn=mr(Ht,1,fe.transform.zoom),sn=Pn(jt.posMatrix,lt,nt,fe.transform,mn),tn="none"!==Me.layout.get("icon-text-fit")&&zt.hasIconData();if(Vt){var On=Math.pow(2,Qe.zoom-Ht.tileID.overscaledZ);kc(zt,nt,lt,Xe,f.symbolSize,Qe,sn,jt.posMatrix,On,Vt,tn)}}}}(te,V,W,$,W.layout.get("text-rotation-alignment"),W.layout.get("text-pitch-alignment"),be),0!==W.paint.get("icon-opacity").constantOr(1)&&qa(V,$,W,te,!1,W.paint.get("icon-translate"),W.paint.get("icon-translate-anchor"),W.layout.get("icon-rotation-alignment"),W.layout.get("icon-pitch-alignment"),W.layout.get("icon-keep-upright"),Re,H),0!==W.paint.get("text-opacity").constantOr(1)&&qa(V,$,W,te,!0,W.paint.get("text-translate"),W.paint.get("text-translate-anchor"),W.layout.get("text-rotation-alignment"),W.layout.get("text-pitch-alignment"),W.layout.get("text-keep-upright"),Re,H),$.map.showCollisionBoxes&&(Sc(V,$,W,te,W.paint.get("text-translate"),W.paint.get("text-translate-anchor"),!0),Sc(V,$,W,te,W.paint.get("icon-translate"),W.paint.get("icon-translate-anchor"),!1))}},circle:function(V,$,W,te){if("translucent"===V.renderPass){var be=W.paint.get("circle-opacity"),Re=W.paint.get("circle-stroke-width"),H=W.paint.get("circle-stroke-opacity"),ie=void 0!==W.layout.get("circle-sort-key").constantOr(1);if(0!==be.constantOr(1)||0!==Re.constantOr(1)&&0!==H.constantOr(1)){for(var fe=V.context,Me=fe.gl,Ce=V.depthModeForSublayer(0,Ut.ReadOnly),Fe=rt.disabled,$e=V.colorModeForRenderPass(),Xe=[],Qe=0;Qe<te.length;Qe++){var nt=te[Qe],lt=$.getTile(nt),_t=lt.getBucket(W);if(_t){var At=_t.programConfigurations.get(W.id),jt={programConfiguration:At,program:V.useProgram("circle",At),layoutVertexBuffer:_t.layoutVertexBuffer,indexBuffer:_t.indexBuffer,uniformValues:Mc(V,nt,lt,W)};if(ie)for(var Ht=0,zt=_t.segments.get();Ht<zt.length;Ht+=1){var Xt=zt[Ht];Xe.push({segments:new f.SegmentVector([Xt]),sortKey:Xt.sortKey,state:jt})}else Xe.push({segments:_t.segments,sortKey:0,state:jt})}}ie&&Xe.sort(function(wr,Er){return wr.sortKey-Er.sortKey});for(var Vt=0,mn=Xe;Vt<mn.length;Vt+=1){var sn=mn[Vt],tn=sn.state;tn.program.draw(fe,Me.TRIANGLES,Ce,Fe,$e,Je.disabled,tn.uniformValues,W.id,tn.layoutVertexBuffer,tn.indexBuffer,sn.segments,W.paint,V.transform.zoom,tn.programConfiguration)}}}},heatmap:function(V,$,W,te){if(0!==W.paint.get("heatmap-opacity"))if("offscreen"===V.renderPass){var be=V.context,Re=be.gl,H=rt.disabled,ie=new ot([Re.ONE,Re.ONE],f.Color.transparent,[!0,!0,!0,!0]);(function(nt,lt,_t){var At=nt.gl;nt.activeTexture.set(At.TEXTURE1),nt.viewport.set([0,0,lt.width/4,lt.height/4]);var zt,Xt,Vt,mn,sn,jt=_t.heatmapFbo;if(jt)At.bindTexture(At.TEXTURE_2D,jt.colorAttachment.get()),nt.bindFramebuffer.set(jt.framebuffer);else{var Ht=At.createTexture();At.bindTexture(At.TEXTURE_2D,Ht),At.texParameteri(At.TEXTURE_2D,At.TEXTURE_WRAP_S,At.CLAMP_TO_EDGE),At.texParameteri(At.TEXTURE_2D,At.TEXTURE_WRAP_T,At.CLAMP_TO_EDGE),At.texParameteri(At.TEXTURE_2D,At.TEXTURE_MIN_FILTER,At.LINEAR),At.texParameteri(At.TEXTURE_2D,At.TEXTURE_MAG_FILTER,At.LINEAR),Vt=Ht,mn=jt=_t.heatmapFbo=nt.createFramebuffer(lt.width/4,lt.height/4,!1),(sn=(zt=nt).gl).texImage2D(sn.TEXTURE_2D,0,sn.RGBA,(Xt=lt).width/4,Xt.height/4,0,sn.RGBA,zt.extRenderToTextureHalfFloat?zt.extTextureHalfFloat.HALF_FLOAT_OES:sn.UNSIGNED_BYTE,null),mn.colorAttachment.set(Vt)}})(be,V,W),be.clear({color:f.Color.transparent});for(var fe=0;fe<te.length;fe++){var Me=te[fe];if(!$.hasRenderableParent(Me)){var Ce=$.getTile(Me),Fe=Ce.getBucket(W);if(Fe){var $e=Fe.programConfigurations.get(W.id);V.useProgram("heatmap",$e).draw(be,Re.TRIANGLES,Ut.disabled,H,ie,Je.disabled,oc(Me.posMatrix,Ce,V.transform.zoom,W.paint.get("heatmap-intensity")),W.id,Fe.layoutVertexBuffer,Fe.indexBuffer,Fe.segments,W.paint,V.transform.zoom,$e)}}}be.viewport.set([0,0,V.width,V.height])}else"translucent"===V.renderPass&&(V.context.setColorMode(V.colorModeForRenderPass()),function(nt,lt){var _t=nt.context,At=_t.gl,jt=lt.heatmapFbo;if(jt){_t.activeTexture.set(At.TEXTURE0),At.bindTexture(At.TEXTURE_2D,jt.colorAttachment.get()),_t.activeTexture.set(At.TEXTURE1);var Ht=lt.colorRampTexture;Ht||(Ht=lt.colorRampTexture=new f.Texture(_t,lt.colorRamp,At.RGBA)),Ht.bind(At.LINEAR,At.CLAMP_TO_EDGE),nt.useProgram("heatmapTexture").draw(_t,At.TRIANGLES,Ut.disabled,rt.disabled,nt.colorModeForRenderPass(),Je.disabled,function(V,$,W,te){var be=f.create();f.ortho(be,0,V.width,V.height,0,0,1);var Re=V.context.gl;return{u_matrix:be,u_world:[Re.drawingBufferWidth,Re.drawingBufferHeight],u_image:W,u_color_ramp:te,u_opacity:$.paint.get("heatmap-opacity")}}(nt,lt,0,1),lt.id,nt.viewportBuffer,nt.quadTriangleIndexBuffer,nt.viewportSegments,lt.paint,nt.transform.zoom)}}(V,W))},line:function(V,$,W,te){if("translucent"===V.renderPass){var be=W.paint.get("line-opacity"),Re=W.paint.get("line-width");if(0!==be.constantOr(1)&&0!==Re.constantOr(1)){var H=V.depthModeForSublayer(0,Ut.ReadOnly),ie=V.colorModeForRenderPass(),fe=W.paint.get("line-dasharray"),Me=W.paint.get("line-pattern"),Ce=Me.constantOr(1),Fe=W.paint.get("line-gradient"),$e=W.getCrossfadeParameters(),Xe=Ce?"linePattern":fe?"lineSDF":Fe?"lineGradient":"line",Qe=V.context,nt=Qe.gl,lt=!0;if(Fe){Qe.activeTexture.set(nt.TEXTURE0);var _t=W.gradientTexture;if(!W.gradient)return;_t||(_t=W.gradientTexture=new f.Texture(Qe,W.gradient,nt.RGBA)),_t.bind(nt.LINEAR,nt.CLAMP_TO_EDGE)}for(var At=0,jt=te;At<jt.length;At+=1){var Ht=jt[At],zt=$.getTile(Ht);if(!Ce||zt.patternsLoaded()){var Xt=zt.getBucket(W);if(Xt){var Vt=Xt.programConfigurations.get(W.id),mn=V.context.program.get(),sn=V.useProgram(Xe,Vt),tn=lt||sn.program!==mn,On=Me.constantOr(null);if(On&&zt.imageAtlas){var In=zt.imageAtlas,rr=In.patternPositions[On.to.toString()],Xn=In.patternPositions[On.from.toString()];rr&&Xn&&Vt.setConstantPatternPositions(rr,Xn)}var ur=Ce?ac(V,zt,W,$e):fe?Ka(V,zt,W,fe,$e):Fe?Ui(V,zt,W):ls(V,zt,W);Ce?(Qe.activeTexture.set(nt.TEXTURE0),zt.imageAtlasTexture.bind(nt.LINEAR,nt.CLAMP_TO_EDGE),Vt.updatePaintBuffers($e)):fe&&(tn||V.lineAtlas.dirty)&&(Qe.activeTexture.set(nt.TEXTURE0),V.lineAtlas.bind(Qe)),sn.draw(Qe,nt.TRIANGLES,H,V.stencilModeForClipping(Ht),ie,Je.disabled,ur,W.id,Xt.layoutVertexBuffer,Xt.indexBuffer,Xt.segments,W.paint,V.transform.zoom,Vt),lt=!1}}}}}},fill:function(V,$,W,te){var be=W.paint.get("fill-color"),Re=W.paint.get("fill-opacity");if(0!==Re.constantOr(1)){var H=V.colorModeForRenderPass(),ie=W.paint.get("fill-pattern"),fe=V.opaquePassEnabledForLayer()&&!ie.constantOr(1)&&1===be.constantOr(f.Color.transparent).a&&1===Re.constantOr(0)?"opaque":"translucent";if(V.renderPass===fe){var Me=V.depthModeForSublayer(1,"opaque"===V.renderPass?Ut.ReadWrite:Ut.ReadOnly);Ys(V,$,W,te,Me,H,!1)}if("translucent"===V.renderPass&&W.paint.get("fill-antialias")){var Ce=V.depthModeForSublayer(W.getPaintProperty("fill-outline-color")?2:0,Ut.ReadOnly);Ys(V,$,W,te,Ce,H,!0)}}},"fill-extrusion":function(V,$,W,te){var be=W.paint.get("fill-extrusion-opacity");if(0!==be&&"translucent"===V.renderPass){var Re=new Ut(V.context.gl.LEQUAL,Ut.ReadWrite,V.depthRangeFor3D);if(1!==be||W.paint.get("fill-extrusion-pattern").constantOr(1))Dl(V,$,W,te,Re,rt.disabled,ot.disabled),Dl(V,$,W,te,Re,V.stencilModeFor3D(),V.colorModeForRenderPass());else{var H=V.colorModeForRenderPass();Dl(V,$,W,te,Re,rt.disabled,H)}}},hillshade:function(V,$,W,te){if("offscreen"===V.renderPass||"translucent"===V.renderPass){for(var be=V.context,Re=$.getSource().maxzoom,H=V.depthModeForSublayer(0,Ut.ReadOnly),ie=V.colorModeForRenderPass(),fe="translucent"===V.renderPass?V.stencilConfigForOverlap(te):[{},te],Me=fe[0],Ce=0,Fe=fe[1];Ce<Fe.length;Ce+=1){var $e=Fe[Ce],Xe=$.getTile($e);Xe.needsHillshadePrepare&&"offscreen"===V.renderPass?Xc(V,Xe,W,Re,H,rt.disabled,ie):"translucent"===V.renderPass&&cl(V,Xe,W,H,Me[$e.overscaledZ],ie)}be.viewport.set([0,0,V.width,V.height])}},raster:function(V,$,W,te){if("translucent"===V.renderPass&&0!==W.paint.get("raster-opacity")&&te.length)for(var be=V.context,Re=be.gl,H=$.getSource(),ie=V.useProgram("raster"),fe=V.colorModeForRenderPass(),Me=H instanceof U?[{},te]:V.stencilConfigForOverlap(te),Ce=Me[0],Fe=Me[1],$e=Fe[Fe.length-1].overscaledZ,Xe=!V.options.moving,Qe=0,nt=Fe;Qe<nt.length;Qe+=1){var lt=nt[Qe],_t=V.depthModeForSublayer(lt.overscaledZ-$e,1===W.paint.get("raster-opacity")?Ut.ReadWrite:Ut.ReadOnly,Re.LESS),At=$.getTile(lt),jt=V.transform.calculatePosMatrix(lt.toUnwrapped(),Xe);At.registerFadeDuration(W.paint.get("raster-fade-duration"));var Ht=$.findLoadedParent(lt,0),zt=Ps(At,Ht,$,W,V.transform),Xt=void 0,Vt=void 0,mn="nearest"===W.paint.get("raster-resampling")?Re.NEAREST:Re.LINEAR;be.activeTexture.set(Re.TEXTURE0),At.texture.bind(mn,Re.CLAMP_TO_EDGE,Re.LINEAR_MIPMAP_NEAREST),be.activeTexture.set(Re.TEXTURE1),Ht?(Ht.texture.bind(mn,Re.CLAMP_TO_EDGE,Re.LINEAR_MIPMAP_NEAREST),Xt=Math.pow(2,Ht.tileID.overscaledZ-At.tileID.overscaledZ),Vt=[At.tileID.canonical.x*Xt%1,At.tileID.canonical.y*Xt%1]):At.texture.bind(mn,Re.CLAMP_TO_EDGE,Re.LINEAR_MIPMAP_NEAREST);var sn=Ta(jt,Vt||[0,0],Xt||1,zt,W);H instanceof U?ie.draw(be,Re.TRIANGLES,_t,rt.disabled,fe,Je.disabled,sn,W.id,H.boundsBuffer,V.quadTriangleIndexBuffer,H.boundsSegments):ie.draw(be,Re.TRIANGLES,_t,Ce[lt.overscaledZ],fe,Je.disabled,sn,W.id,V.rasterBoundsBuffer,V.quadTriangleIndexBuffer,V.rasterBoundsSegments)}},background:function(V,$,W){var te=W.paint.get("background-color"),be=W.paint.get("background-opacity");if(0!==be){var Re=V.context,H=Re.gl,ie=V.transform,fe=ie.tileSize,Me=W.paint.get("background-pattern");if(!V.isPatternMissing(Me)){var Ce=!Me&&1===te.a&&1===be&&V.opaquePassEnabledForLayer()?"opaque":"translucent";if(V.renderPass===Ce){var Fe=rt.disabled,$e=V.depthModeForSublayer(0,"opaque"===Ce?Ut.ReadWrite:Ut.ReadOnly),Xe=V.colorModeForRenderPass(),Qe=V.useProgram(Me?"backgroundPattern":"background"),nt=ie.coveringTiles({tileSize:fe});Me&&(Re.activeTexture.set(H.TEXTURE0),V.imageManager.bind(V.context));for(var lt=W.getCrossfadeParameters(),_t=0,At=nt;_t<At.length;_t+=1){var jt=At[_t],Ht=V.transform.calculatePosMatrix(jt.toUnwrapped()),zt=Me?Is(Ht,be,V,Me,{tileID:jt,tileSize:fe},lt):us(Ht,be,te);Qe.draw(Re,H.TRIANGLES,$e,Fe,Xe,Je.disabled,zt,W.id,V.tileExtentBuffer,V.quadTriangleIndexBuffer,V.tileExtentSegments)}}}}},debug:function(V,$,W){for(var te=0;te<W.length;te++)Ec(V,$,W[te])},custom:function(V,$,W){var te=V.context,be=W.implementation;if("offscreen"===V.renderPass){var Re=be.prerender;Re&&(V.setCustomLayerDefaults(),te.setColorMode(V.colorModeForRenderPass()),Re.call(be,te.gl,V.transform.customLayerMatrix()),te.setDirty(),V.setBaseState())}else if("translucent"===V.renderPass){V.setCustomLayerDefaults(),te.setColorMode(V.colorModeForRenderPass()),te.setStencilMode(rt.disabled);var H="3d"===be.renderingMode?new Ut(V.context.gl.LEQUAL,Ut.ReadWrite,V.depthRangeFor3D):V.depthModeForSublayer(0,Ut.ReadOnly);te.setDepthMode(H),be.render(te.gl,V.transform.customLayerMatrix()),te.setDirty(),V.setBaseState(),te.bindFramebuffer.set(null)}}},Cr=function(V,$){this.context=new it(V),this.transform=$,this._tileTextures={},this.setup(),this.numSublayers=dt.maxUnderzooming+dt.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new cr,this.gpuTimers={}};Cr.prototype.resize=function(V,$){if(this.width=V*f.browser.devicePixelRatio,this.height=$*f.browser.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(var W=0,te=this.style._order;W<te.length;W+=1)this.style._layers[te[W]].resize()},Cr.prototype.setup=function(){var V=this.context,$=new f.StructArrayLayout2i4;$.emplaceBack(0,0),$.emplaceBack(f.EXTENT,0),$.emplaceBack(0,f.EXTENT),$.emplaceBack(f.EXTENT,f.EXTENT),this.tileExtentBuffer=V.createVertexBuffer($,Sr.members),this.tileExtentSegments=f.SegmentVector.simpleSegment(0,0,4,2);var W=new f.StructArrayLayout2i4;W.emplaceBack(0,0),W.emplaceBack(f.EXTENT,0),W.emplaceBack(0,f.EXTENT),W.emplaceBack(f.EXTENT,f.EXTENT),this.debugBuffer=V.createVertexBuffer(W,Sr.members),this.debugSegments=f.SegmentVector.simpleSegment(0,0,4,5);var te=new f.StructArrayLayout4i8;te.emplaceBack(0,0,0,0),te.emplaceBack(f.EXTENT,0,f.EXTENT,0),te.emplaceBack(0,f.EXTENT,0,f.EXTENT),te.emplaceBack(f.EXTENT,f.EXTENT,f.EXTENT,f.EXTENT),this.rasterBoundsBuffer=V.createVertexBuffer(te,q.members),this.rasterBoundsSegments=f.SegmentVector.simpleSegment(0,0,4,2);var be=new f.StructArrayLayout2i4;be.emplaceBack(0,0),be.emplaceBack(1,0),be.emplaceBack(0,1),be.emplaceBack(1,1),this.viewportBuffer=V.createVertexBuffer(be,Sr.members),this.viewportSegments=f.SegmentVector.simpleSegment(0,0,4,2);var Re=new f.StructArrayLayout1ui2;Re.emplaceBack(0),Re.emplaceBack(1),Re.emplaceBack(3),Re.emplaceBack(2),Re.emplaceBack(0),this.tileBorderIndexBuffer=V.createIndexBuffer(Re);var H=new f.StructArrayLayout3ui6;H.emplaceBack(0,1,2),H.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=V.createIndexBuffer(H),this.emptyTexture=new f.Texture(V,{width:1,height:1,data:new Uint8Array([0,0,0,0])},V.gl.RGBA);var ie=this.context.gl;this.stencilClearMode=new rt({func:ie.ALWAYS,mask:0},0,255,ie.ZERO,ie.ZERO,ie.ZERO)},Cr.prototype.clearStencil=function(){var V=this.context,$=V.gl;this.nextStencilID=1,this.currentStencilSource=void 0;var W=f.create();f.ortho(W,0,this.width,this.height,0,0,1),f.scale(W,W,[$.drawingBufferWidth,$.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(V,$.TRIANGLES,Ut.disabled,this.stencilClearMode,ot.disabled,Je.disabled,Yu(W),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)},Cr.prototype._renderTileClippingMasks=function(V,$){if(this.currentStencilSource!==V.source&&V.isTileClipped()&&$&&$.length){this.currentStencilSource=V.source;var W=this.context,te=W.gl;this.nextStencilID+$.length>256&&this.clearStencil(),W.setColorMode(ot.disabled),W.setDepthMode(Ut.disabled);var be=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(var Re=0,H=$;Re<H.length;Re+=1){var ie=H[Re],fe=this._tileClippingMaskIDs[ie.key]=this.nextStencilID++;be.draw(W,te.TRIANGLES,Ut.disabled,new rt({func:te.ALWAYS,mask:0},fe,255,te.KEEP,te.KEEP,te.REPLACE),ot.disabled,Je.disabled,Yu(ie.posMatrix),"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}},Cr.prototype.stencilModeFor3D=function(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();var V=this.nextStencilID++,$=this.context.gl;return new rt({func:$.NOTEQUAL,mask:255},V,255,$.KEEP,$.KEEP,$.REPLACE)},Cr.prototype.stencilModeForClipping=function(V){var $=this.context.gl;return new rt({func:$.EQUAL,mask:255},this._tileClippingMaskIDs[V.key],0,$.KEEP,$.KEEP,$.REPLACE)},Cr.prototype.stencilConfigForOverlap=function(V){var $,W=this.context.gl,te=V.sort(function(fe,Me){return Me.overscaledZ-fe.overscaledZ}),be=te[te.length-1].overscaledZ,Re=te[0].overscaledZ-be+1;if(Re>1){this.currentStencilSource=void 0,this.nextStencilID+Re>256&&this.clearStencil();for(var H={},ie=0;ie<Re;ie++)H[ie+be]=new rt({func:W.GEQUAL,mask:255},ie+this.nextStencilID,255,W.KEEP,W.KEEP,W.REPLACE);return this.nextStencilID+=Re,[H,te]}return[($={},$[be]=rt.disabled,$),te]},Cr.prototype.colorModeForRenderPass=function(){var V=this.context.gl;if(this._showOverdrawInspector){var $=.125;return new ot([V.CONSTANT_COLOR,V.ONE],new f.Color($,$,$,0),[!0,!0,!0,!0])}return"opaque"===this.renderPass?ot.unblended:ot.alphaBlended},Cr.prototype.depthModeForSublayer=function(V,$,W){if(!this.opaquePassEnabledForLayer())return Ut.disabled;var te=1-((1+this.currentLayer)*this.numSublayers+V)*this.depthEpsilon;return new Ut(W||this.context.gl.LEQUAL,$,[te,te])},Cr.prototype.opaquePassEnabledForLayer=function(){return this.currentLayer<this.opaquePassCutoff},Cr.prototype.render=function(V,$){var W=this;this.style=V,this.options=$,this.lineAtlas=V.lineAtlas,this.imageManager=V.imageManager,this.glyphManager=V.glyphManager,this.symbolFadeChange=V.placement.symbolFadeChange(f.browser.now()),this.imageManager.beginFrame();var te=this.style._order,be=this.style.sourceCaches;for(var Re in be){var H=be[Re];H.used&&H.prepare(this.context)}var ie,fe,Me={},Ce={},Fe={};for(var $e in be){var Xe=be[$e];Me[$e]=Xe.getVisibleCoordinates(),Ce[$e]=Me[$e].slice().reverse(),Fe[$e]=Xe.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(var Qe=0;Qe<te.length;Qe++)if(this.style._layers[te[Qe]].is3D()){this.opaquePassCutoff=Qe;break}this.renderPass="offscreen";for(var lt=0,_t=te;lt<_t.length;lt+=1){var jt=this.style._layers[_t[lt]];if(jt.hasOffscreenPass()&&!jt.isHidden(this.transform.zoom)){var Ht=Ce[jt.source];("custom"===jt.type||Ht.length)&&this.renderLayer(this,be[jt.source],jt,Ht)}}for(this.context.bindFramebuffer.set(null),this.context.clear({color:$.showOverdrawInspector?f.Color.black:f.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=$.showOverdrawInspector,this.depthRangeFor3D=[0,1-(V._order.length+2)*this.numSublayers*this.depthEpsilon],this.renderPass="opaque",this.currentLayer=te.length-1;this.currentLayer>=0;this.currentLayer--){var zt=this.style._layers[te[this.currentLayer]],Xt=be[zt.source],Vt=Me[zt.source];this._renderTileClippingMasks(zt,Vt),this.renderLayer(this,Xt,zt,Vt)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<te.length;this.currentLayer++){var mn=this.style._layers[te[this.currentLayer]],sn=be[mn.source],tn=("symbol"===mn.type?Fe:Ce)[mn.source];this._renderTileClippingMasks(mn,Me[mn.source]),this.renderLayer(this,sn,mn,tn)}this.options.showTileBoundaries&&(f.values(this.style._layers).forEach(function(On){On.source&&!On.isHidden(W.transform.zoom)&&(On.source!==(fe&&fe.id)&&(fe=W.style.sourceCaches[On.source]),(!ie||ie.getSource().maxzoom<fe.getSource().maxzoom)&&(ie=fe))}),ie&&Vl.debug(this,ie,ie.getVisibleCoordinates())),this.options.showPadding&&function jl(V){var $=V.transform.padding;_u(V,V.transform.height-($.top||0),3,yu),_u(V,$.bottom||0,3,Ju),uc(V,$.left||0,3,Jc),uc(V,V.transform.width-($.right||0),3,Ol);var te,be,Re,H,W=V.transform.centerPoint;Ri(te=V,(be=W.x)-1,(Re=V.transform.height-W.y)-10,2,20,H=ga),Ri(te,be-10,Re-1,20,2,H)}(this),this.context.setDefault()},Cr.prototype.renderLayer=function(V,$,W,te){W.isHidden(this.transform.zoom)||("background"===W.type||"custom"===W.type||te.length)&&(this.id=W.id,this.gpuTimingStart(W),Vl[W.type](V,$,W,te,this.style.placement.variableOffsets),this.gpuTimingEnd())},Cr.prototype.gpuTimingStart=function(V){if(this.options.gpuTiming){var $=this.context.extTimerQuery,W=this.gpuTimers[V.id];W||(W=this.gpuTimers[V.id]={calls:0,cpuTime:0,query:$.createQueryEXT()}),W.calls++,$.beginQueryEXT($.TIME_ELAPSED_EXT,W.query)}},Cr.prototype.gpuTimingEnd=function(){if(this.options.gpuTiming){var V=this.context.extTimerQuery;V.endQueryEXT(V.TIME_ELAPSED_EXT)}},Cr.prototype.collectGpuTimers=function(){var V=this.gpuTimers;return this.gpuTimers={},V},Cr.prototype.queryGpuTimers=function(V){var $={};for(var W in V){var te=V[W],be=this.context.extTimerQuery,Re=be.getQueryObjectEXT(te.query,be.QUERY_RESULT_EXT)/1e6;be.deleteQueryEXT(te.query),$[W]=Re}return $},Cr.prototype.translatePosMatrix=function(V,$,W,te,be){if(!W[0]&&!W[1])return V;var Re=be?"map"===te?this.transform.angle:0:"viewport"===te?-this.transform.angle:0;if(Re){var H=Math.sin(Re),ie=Math.cos(Re);W=[W[0]*ie-W[1]*H,W[0]*H+W[1]*ie]}var fe=[be?W[0]:mr($,W[0],this.transform.zoom),be?W[1]:mr($,W[1],this.transform.zoom),0],Me=new Float32Array(16);return f.translate(Me,V,fe),Me},Cr.prototype.saveTileTexture=function(V){var $=this._tileTextures[V.size[0]];$?$.push(V):this._tileTextures[V.size[0]]=[V]},Cr.prototype.getTileTexture=function(V){var $=this._tileTextures[V];return $&&$.length>0?$.pop():null},Cr.prototype.isPatternMissing=function(V){if(!V)return!1;if(!V.from||!V.to)return!0;var $=this.imageManager.getPattern(V.from.toString()),W=this.imageManager.getPattern(V.to.toString());return!$||!W},Cr.prototype.useProgram=function(V,$){this.cache=this.cache||{};var W=""+V+($?$.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[W]||(this.cache[W]=new Ws(this.context,qs[V],$,Zu[V],this._showOverdrawInspector)),this.cache[W]},Cr.prototype.setCustomLayerDefaults=function(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()},Cr.prototype.setBaseState=function(){var V=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(V.FUNC_ADD)},Cr.prototype.initDebugOverlayCanvas=function(){null==this.debugOverlayCanvas&&(this.debugOverlayCanvas=f.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new f.Texture(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))},Cr.prototype.destroy=function(){this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy()};var Qo=function(V,$){this.points=V,this.planes=$};Qo.fromInvProjectionMatrix=function(V,$,W){var te=Math.pow(2,W),be=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(function(H){return f.transformMat4([],H,V)}).map(function(H){return f.scale$1([],H,1/H[3]/$*te)}),Re=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(function(H){var ie=f.sub([],be[H[0]],be[H[1]]),fe=f.sub([],be[H[2]],be[H[1]]),Me=f.normalize([],f.cross([],ie,fe)),Ce=-f.dot(Me,be[H[1]]);return Me.concat(Ce)});return new Qo(be,Re)};var Ei=function(V,$){this.min=V,this.max=$,this.center=f.scale$2([],f.add([],this.min,this.max),.5)};Ei.prototype.quadrant=function(V){for(var $=[V%2==0,V<2],W=f.clone$2(this.min),te=f.clone$2(this.max),be=0;be<$.length;be++)W[be]=$[be]?this.min[be]:this.center[be],te[be]=$[be]?this.center[be]:this.max[be];return te[2]=this.max[2],new Ei(W,te)},Ei.prototype.distanceX=function(V){return Math.max(Math.min(this.max[0],V[0]),this.min[0])-V[0]},Ei.prototype.distanceY=function(V){return Math.max(Math.min(this.max[1],V[1]),this.min[1])-V[1]},Ei.prototype.intersects=function(V){for(var $=[[this.min[0],this.min[1],0,1],[this.max[0],this.min[1],0,1],[this.max[0],this.max[1],0,1],[this.min[0],this.max[1],0,1]],W=!0,te=0;te<V.planes.length;te++){for(var be=V.planes[te],Re=0,H=0;H<$.length;H++)Re+=f.dot$1(be,$[H])>=0;if(0===Re)return 0;Re!==$.length&&(W=!1)}if(W)return 2;for(var ie=0;ie<3;ie++){for(var fe=Number.MAX_VALUE,Me=-Number.MAX_VALUE,Ce=0;Ce<V.points.length;Ce++){var Fe=V.points[Ce][ie]-this.min[ie];fe=Math.min(fe,Fe),Me=Math.max(Me,Fe)}if(Me<0||fe>this.max[ie]-this.min[ie])return 0}return 1};var Hi=function(V,$,W,te){if(void 0===V&&(V=0),void 0===$&&($=0),void 0===W&&(W=0),void 0===te&&(te=0),isNaN(V)||V<0||isNaN($)||$<0||isNaN(W)||W<0||isNaN(te)||te<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=V,this.bottom=$,this.left=W,this.right=te};Hi.prototype.interpolate=function(V,$,W){return null!=$.top&&null!=V.top&&(this.top=f.number(V.top,$.top,W)),null!=$.bottom&&null!=V.bottom&&(this.bottom=f.number(V.bottom,$.bottom,W)),null!=$.left&&null!=V.left&&(this.left=f.number(V.left,$.left,W)),null!=$.right&&null!=V.right&&(this.right=f.number(V.right,$.right,W)),this},Hi.prototype.getCenter=function(V,$){var W=f.clamp((this.left+V-this.right)/2,0,V),te=f.clamp((this.top+$-this.bottom)/2,0,$);return new f.Point(W,te)},Hi.prototype.equals=function(V){return this.top===V.top&&this.bottom===V.bottom&&this.left===V.left&&this.right===V.right},Hi.prototype.clone=function(){return new Hi(this.top,this.bottom,this.left,this.right)},Hi.prototype.toJSON=function(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}};var mi=function(V,$,W,te,be){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=void 0===be||be,this._minZoom=V||0,this._maxZoom=$||22,this._minPitch=W??0,this._maxPitch=te??60,this.setMaxBounds(),this.width=0,this.height=0,this._center=new f.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new Hi,this._posMatrixCache={},this._alignedPosMatrixCache={}},Di={minZoom:{configurable:!0},maxZoom:{configurable:!0},minPitch:{configurable:!0},maxPitch:{configurable:!0},renderWorldCopies:{configurable:!0},worldSize:{configurable:!0},centerOffset:{configurable:!0},size:{configurable:!0},bearing:{configurable:!0},pitch:{configurable:!0},fov:{configurable:!0},zoom:{configurable:!0},center:{configurable:!0},padding:{configurable:!0},centerPoint:{configurable:!0},unmodified:{configurable:!0},point:{configurable:!0}};mi.prototype.clone=function(){var V=new mi(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return V.tileSize=this.tileSize,V.latRange=this.latRange,V.width=this.width,V.height=this.height,V._center=this._center,V.zoom=this.zoom,V.angle=this.angle,V._fov=this._fov,V._pitch=this._pitch,V._unmodified=this._unmodified,V._edgeInsets=this._edgeInsets.clone(),V._calcMatrices(),V},Di.minZoom.get=function(){return this._minZoom},Di.minZoom.set=function(V){this._minZoom!==V&&(this._minZoom=V,this.zoom=Math.max(this.zoom,V))},Di.maxZoom.get=function(){return this._maxZoom},Di.maxZoom.set=function(V){this._maxZoom!==V&&(this._maxZoom=V,this.zoom=Math.min(this.zoom,V))},Di.minPitch.get=function(){return this._minPitch},Di.minPitch.set=function(V){this._minPitch!==V&&(this._minPitch=V,this.pitch=Math.max(this.pitch,V))},Di.maxPitch.get=function(){return this._maxPitch},Di.maxPitch.set=function(V){this._maxPitch!==V&&(this._maxPitch=V,this.pitch=Math.min(this.pitch,V))},Di.renderWorldCopies.get=function(){return this._renderWorldCopies},Di.renderWorldCopies.set=function(V){void 0===V?V=!0:null===V&&(V=!1),this._renderWorldCopies=V},Di.worldSize.get=function(){return this.tileSize*this.scale},Di.centerOffset.get=function(){return this.centerPoint._sub(this.size._div(2))},Di.size.get=function(){return new f.Point(this.width,this.height)},Di.bearing.get=function(){return-this.angle/Math.PI*180},Di.bearing.set=function(V){var $=-f.wrap(V,-180,180)*Math.PI/180;this.angle!==$&&(this._unmodified=!1,this.angle=$,this._calcMatrices(),this.rotationMatrix=f.create$2(),f.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},Di.pitch.get=function(){return this._pitch/Math.PI*180},Di.pitch.set=function(V){var $=f.clamp(V,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==$&&(this._unmodified=!1,this._pitch=$,this._calcMatrices())},Di.fov.get=function(){return this._fov/Math.PI*180},Di.fov.set=function(V){V=Math.max(.01,Math.min(60,V)),this._fov!==V&&(this._unmodified=!1,this._fov=V/180*Math.PI,this._calcMatrices())},Di.zoom.get=function(){return this._zoom},Di.zoom.set=function(V){var $=Math.min(Math.max(V,this.minZoom),this.maxZoom);this._zoom!==$&&(this._unmodified=!1,this._zoom=$,this.scale=this.zoomScale($),this.tileZoom=Math.floor($),this.zoomFraction=$-this.tileZoom,this._constrain(),this._calcMatrices())},Di.center.get=function(){return this._center},Di.center.set=function(V){V.lat===this._center.lat&&V.lng===this._center.lng||(this._unmodified=!1,this._center=V,this._constrain(),this._calcMatrices())},Di.padding.get=function(){return this._edgeInsets.toJSON()},Di.padding.set=function(V){this._edgeInsets.equals(V)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,V,1),this._calcMatrices())},Di.centerPoint.get=function(){return this._edgeInsets.getCenter(this.width,this.height)},mi.prototype.isPaddingEqual=function(V){return this._edgeInsets.equals(V)},mi.prototype.interpolatePadding=function(V,$,W){this._unmodified=!1,this._edgeInsets.interpolate(V,$,W),this._constrain(),this._calcMatrices()},mi.prototype.coveringZoomLevel=function(V){var $=(V.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/V.tileSize));return Math.max(0,$)},mi.prototype.getVisibleUnwrappedCoordinates=function(V){var $=[new f.UnwrappedTileID(0,V)];if(this._renderWorldCopies)for(var W=this.pointCoordinate(new f.Point(0,0)),te=this.pointCoordinate(new f.Point(this.width,0)),be=this.pointCoordinate(new f.Point(this.width,this.height)),Re=this.pointCoordinate(new f.Point(0,this.height)),H=Math.floor(Math.min(W.x,te.x,be.x,Re.x)),ie=Math.floor(Math.max(W.x,te.x,be.x,Re.x)),fe=H-1;fe<=ie+1;fe++)0!==fe&&$.push(new f.UnwrappedTileID(fe,V));return $},mi.prototype.coveringTiles=function(V){var $=this.coveringZoomLevel(V),W=$;if(void 0!==V.minzoom&&$<V.minzoom)return[];void 0!==V.maxzoom&&$>V.maxzoom&&($=V.maxzoom);var te=f.MercatorCoordinate.fromLngLat(this.center),be=Math.pow(2,$),Re=[be*te.x,be*te.y,0],H=Qo.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,$),ie=V.minzoom||0;this.pitch<=60&&this._edgeInsets.top<.1&&(ie=$);var fe=function(tn){return{aabb:new Ei([tn*be,0,0],[(tn+1)*be,be,0]),zoom:0,x:0,y:0,wrap:tn,fullyVisible:!1}},Me=[],Ce=[],Fe=$,$e=V.reparseOverscaled?W:$;if(this._renderWorldCopies)for(var Xe=1;Xe<=3;Xe++)Me.push(fe(-Xe)),Me.push(fe(Xe));for(Me.push(fe(0));Me.length>0;){var Qe=Me.pop(),nt=Qe.x,lt=Qe.y,_t=Qe.fullyVisible;if(!_t){var At=Qe.aabb.intersects(H);if(0===At)continue;_t=2===At}var jt=Qe.aabb.distanceX(Re),Ht=Qe.aabb.distanceY(Re),zt=Math.max(Math.abs(jt),Math.abs(Ht));if(Qe.zoom===Fe||zt>3+(1<<Fe-Qe.zoom)-2&&Qe.zoom>=ie)Ce.push({tileID:new f.OverscaledTileID(Qe.zoom===Fe?$e:Qe.zoom,Qe.wrap,Qe.zoom,nt,lt),distanceSq:f.sqrLen([Re[0]-.5-nt,Re[1]-.5-lt])});else for(var Vt=0;Vt<4;Vt++){var mn=(nt<<1)+Vt%2,sn=(lt<<1)+(Vt>>1);Me.push({aabb:Qe.aabb.quadrant(Vt),zoom:Qe.zoom+1,x:mn,y:sn,wrap:Qe.wrap,fullyVisible:_t})}}return Ce.sort(function(tn,On){return tn.distanceSq-On.distanceSq}).map(function(tn){return tn.tileID})},mi.prototype.resize=function(V,$){this.width=V,this.height=$,this.pixelsToGLUnits=[2/V,-2/$],this._constrain(),this._calcMatrices()},Di.unmodified.get=function(){return this._unmodified},mi.prototype.zoomScale=function(V){return Math.pow(2,V)},mi.prototype.scaleZoom=function(V){return Math.log(V)/Math.LN2},mi.prototype.project=function(V){var $=f.clamp(V.lat,-this.maxValidLatitude,this.maxValidLatitude);return new f.Point(f.mercatorXfromLng(V.lng)*this.worldSize,f.mercatorYfromLat($)*this.worldSize)},mi.prototype.unproject=function(V){return new f.MercatorCoordinate(V.x/this.worldSize,V.y/this.worldSize).toLngLat()},Di.point.get=function(){return this.project(this.center)},mi.prototype.setLocationAtPoint=function(V,$){var W=this.pointCoordinate($),te=this.pointCoordinate(this.centerPoint),be=this.locationCoordinate(V),Re=new f.MercatorCoordinate(be.x-(W.x-te.x),be.y-(W.y-te.y));this.center=this.coordinateLocation(Re),this._renderWorldCopies&&(this.center=this.center.wrap())},mi.prototype.locationPoint=function(V){return this.coordinatePoint(this.locationCoordinate(V))},mi.prototype.pointLocation=function(V){return this.coordinateLocation(this.pointCoordinate(V))},mi.prototype.locationCoordinate=function(V){return f.MercatorCoordinate.fromLngLat(V)},mi.prototype.coordinateLocation=function(V){return V.toLngLat()},mi.prototype.pointCoordinate=function(V){var $=[V.x,V.y,0,1],W=[V.x,V.y,1,1];f.transformMat4($,$,this.pixelMatrixInverse),f.transformMat4(W,W,this.pixelMatrixInverse);var te=$[3],be=W[3],ie=$[1]/te,fe=W[1]/be,Me=$[2]/te,Ce=W[2]/be,Fe=Me===Ce?0:(0-Me)/(Ce-Me);return new f.MercatorCoordinate(f.number($[0]/te,W[0]/be,Fe)/this.worldSize,f.number(ie,fe,Fe)/this.worldSize)},mi.prototype.coordinatePoint=function(V){var $=[V.x*this.worldSize,V.y*this.worldSize,0,1];return f.transformMat4($,$,this.pixelMatrix),new f.Point($[0]/$[3],$[1]/$[3])},mi.prototype.getBounds=function(){return(new f.LngLatBounds).extend(this.pointLocation(new f.Point(0,0))).extend(this.pointLocation(new f.Point(this.width,0))).extend(this.pointLocation(new f.Point(this.width,this.height))).extend(this.pointLocation(new f.Point(0,this.height)))},mi.prototype.getMaxBounds=function(){return this.latRange&&2===this.latRange.length&&this.lngRange&&2===this.lngRange.length?new f.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null},mi.prototype.setMaxBounds=function(V){V?(this.lngRange=[V.getWest(),V.getEast()],this.latRange=[V.getSouth(),V.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])},mi.prototype.calculatePosMatrix=function(V,$){void 0===$&&($=!1);var W=V.key,te=$?this._alignedPosMatrixCache:this._posMatrixCache;if(te[W])return te[W];var be=V.canonical,Re=this.worldSize/this.zoomScale(be.z),H=be.x+Math.pow(2,be.z)*V.wrap,ie=f.identity(new Float64Array(16));return f.translate(ie,ie,[H*Re,be.y*Re,0]),f.scale(ie,ie,[Re/f.EXTENT,Re/f.EXTENT,1]),f.multiply(ie,$?this.alignedProjMatrix:this.projMatrix,ie),te[W]=new Float32Array(ie),te[W]},mi.prototype.customLayerMatrix=function(){return this.mercatorMatrix.slice()},mi.prototype._constrain=function(){if(this.center&&this.width&&this.height&&!this._constraining){this._constraining=!0;var V,$,W,te,be=-90,Re=90,H=-180,ie=180,fe=this.size,Me=this._unmodified;if(this.latRange){var Ce=this.latRange;be=f.mercatorYfromLat(Ce[1])*this.worldSize,V=(Re=f.mercatorYfromLat(Ce[0])*this.worldSize)-be<fe.y?fe.y/(Re-be):0}if(this.lngRange){var Fe=this.lngRange;H=f.mercatorXfromLng(Fe[0])*this.worldSize,$=(ie=f.mercatorXfromLng(Fe[1])*this.worldSize)-H<fe.x?fe.x/(ie-H):0}var $e=this.point,Xe=Math.max($||0,V||0);if(Xe)return this.center=this.unproject(new f.Point($?(ie+H)/2:$e.x,V?(Re+be)/2:$e.y)),this.zoom+=this.scaleZoom(Xe),this._unmodified=Me,void(this._constraining=!1);if(this.latRange){var Qe=$e.y,nt=fe.y/2;Qe-nt<be&&(te=be+nt),Qe+nt>Re&&(te=Re-nt)}if(this.lngRange){var lt=$e.x,_t=fe.x/2;lt-_t<H&&(W=H+_t),lt+_t>ie&&(W=ie-_t)}void 0===W&&void 0===te||(this.center=this.unproject(new f.Point(void 0!==W?W:$e.x,void 0!==te?te:$e.y))),this._unmodified=Me,this._constraining=!1}},mi.prototype._calcMatrices=function(){if(this.height){var $=this.centerOffset;this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height;var W=Math.PI/2+this._pitch,te=this._fov*(.5+$.y/this.height),be=Math.sin(te)*this.cameraToCenterDistance/Math.sin(f.clamp(Math.PI-W-te,.01,Math.PI-.01)),Re=this.point,H=Re.x,ie=Re.y,fe=1.01*(Math.cos(Math.PI/2-this._pitch)*be+this.cameraToCenterDistance),Me=this.height/50,Ce=new Float64Array(16);f.perspective(Ce,this._fov,this.width/this.height,Me,fe),Ce[8]=2*-$.x/this.width,Ce[9]=2*$.y/this.height,f.scale(Ce,Ce,[1,-1,1]),f.translate(Ce,Ce,[0,0,-this.cameraToCenterDistance]),f.rotateX(Ce,Ce,this._pitch),f.rotateZ(Ce,Ce,this.angle),f.translate(Ce,Ce,[-H,-ie,0]),this.mercatorMatrix=f.scale([],Ce,[this.worldSize,this.worldSize,this.worldSize]),f.scale(Ce,Ce,[1,1,f.mercatorZfromAltitude(1,this.center.lat)*this.worldSize,1]),this.projMatrix=Ce,this.invProjMatrix=f.invert([],this.projMatrix);var Fe=this.width%2/2,$e=this.height%2/2,Xe=Math.cos(this.angle),Qe=Math.sin(this.angle),nt=H-Math.round(H)+Xe*Fe+Qe*$e,lt=ie-Math.round(ie)+Xe*$e+Qe*Fe,_t=new Float64Array(Ce);if(f.translate(_t,_t,[nt>.5?nt-1:nt,lt>.5?lt-1:lt,0]),this.alignedProjMatrix=_t,Ce=f.create(),f.scale(Ce,Ce,[this.width/2,-this.height/2,1]),f.translate(Ce,Ce,[1,-1,0]),this.labelPlaneMatrix=Ce,Ce=f.create(),f.scale(Ce,Ce,[1,-1,1]),f.translate(Ce,Ce,[-1,-1,0]),f.scale(Ce,Ce,[2/this.width,2/this.height,1]),this.glCoordMatrix=Ce,this.pixelMatrix=f.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),!(Ce=f.invert(new Float64Array(16),this.pixelMatrix)))throw new Error("failed to invert matrix");this.pixelMatrixInverse=Ce,this._posMatrixCache={},this._alignedPosMatrixCache={}}},mi.prototype.maxPitchScaleFactor=function(){if(!this.pixelMatrixInverse)return 1;var V=this.pointCoordinate(new f.Point(0,0)),$=[V.x*this.worldSize,V.y*this.worldSize,0,1];return f.transformMat4($,$,this.pixelMatrix)[3]/this.cameraToCenterDistance},mi.prototype.getCameraPoint=function(){var $=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new f.Point(0,$))},mi.prototype.getCameraQueryGeometry=function(V){var $=this.getCameraPoint();if(1===V.length)return[V[0],$];for(var W=$.x,te=$.y,be=$.x,Re=$.y,H=0,ie=V;H<ie.length;H+=1){var fe=ie[H];W=Math.min(W,fe.x),te=Math.min(te,fe.y),be=Math.max(be,fe.x),Re=Math.max(Re,fe.y)}return[new f.Point(W,te),new f.Point(be,te),new f.Point(be,Re),new f.Point(W,Re),new f.Point(W,te)]},Object.defineProperties(mi.prototype,Di);var aa=function(V){var $,te,be,Re;this._hashName=V&&encodeURIComponent(V),f.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=($=this._updateHashUnthrottled.bind(this),300,te=!1,be=null,Re=function(){be=null,te&&($(),be=setTimeout(Re,300),te=!1)},function(){return te=!0,be||Re(),be})};aa.prototype.addTo=function(V){return this._map=V,f.window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},aa.prototype.remove=function(){return f.window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this},aa.prototype.getHashString=function(V){var $=this._map.getCenter(),W=Math.round(100*this._map.getZoom())/100,te=Math.ceil((W*Math.LN2+Math.log(512/360/.5))/Math.LN10),be=Math.pow(10,te),Re=Math.round($.lng*be)/be,H=Math.round($.lat*be)/be,ie=this._map.getBearing(),fe=this._map.getPitch(),Me="";if(Me+=V?"/"+Re+"/"+H+"/"+W:W+"/"+H+"/"+Re,(ie||fe)&&(Me+="/"+Math.round(10*ie)/10),fe&&(Me+="/"+Math.round(fe)),this._hashName){var Ce=this._hashName,Fe=!1,$e=f.window.location.hash.slice(1).split("&").map(function(Xe){var Qe=Xe.split("=")[0];return Qe===Ce?(Fe=!0,Qe+"="+Me):Xe}).filter(function(Xe){return Xe});return Fe||$e.push(Ce+"="+Me),"#"+$e.join("&")}return"#"+Me},aa.prototype._getCurrentHash=function(){var V,$=this,W=f.window.location.hash.replace("#","");return this._hashName?(W.split("&").map(function(te){return te.split("=")}).forEach(function(te){te[0]===$._hashName&&(V=te)}),(V&&V[1]||"").split("/")):W.split("/")},aa.prototype._onHashChange=function(){var V=this._getCurrentHash();if(V.length>=3&&!V.some(function(W){return isNaN(W)})){var $=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(V[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+V[2],+V[1]],zoom:+V[0],bearing:$,pitch:+(V[4]||0)}),!0}return!1},aa.prototype._updateHashUnthrottled=function(){var V=this.getHashString();try{f.window.history.replaceState(f.window.history.state,"",V)}catch{}};var Zs={linearity:.3,easing:f.bezier(0,0,.3,1)},Kc=f.extend({deceleration:2500,maxSpeed:1400},Zs),Il=f.extend({deceleration:20,maxSpeed:1400},Zs),Pl=f.extend({deceleration:1e3,maxSpeed:360},Zs),Cc=f.extend({deceleration:1e3,maxSpeed:90},Zs),mo=function(V){this._map=V,this.clear()};function Wr(V,$){(!V.duration||V.duration<$.duration)&&(V.duration=$.duration,V.easing=$.easing)}function hi(V,$,W){var te=W.maxSpeed,be=W.linearity,Re=W.deceleration,H=f.clamp(V*be/($/1e3),-te,te),ie=Math.abs(H)/(Re*be);return{easing:W.easing,duration:1e3*ie,amount:H*(ie/2)}}mo.prototype.clear=function(){this._inertiaBuffer=[]},mo.prototype.record=function(V){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:f.browser.now(),settings:V})},mo.prototype._drainInertiaBuffer=function(){for(var V=this._inertiaBuffer,$=f.browser.now();V.length>0&&$-V[0].time>160;)V.shift()},mo.prototype._onMoveEnd=function(V){if(this._drainInertiaBuffer(),!(this._inertiaBuffer.length<2)){for(var $={zoom:0,bearing:0,pitch:0,pan:new f.Point(0,0),pinchAround:void 0,around:void 0},W=0,te=this._inertiaBuffer;W<te.length;W+=1){var be=te[W].settings;$.zoom+=be.zoomDelta||0,$.bearing+=be.bearingDelta||0,$.pitch+=be.pitchDelta||0,be.panDelta&&$.pan._add(be.panDelta),be.around&&($.around=be.around),be.pinchAround&&($.pinchAround=be.pinchAround)}var Re=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,H={};if($.pan.mag()){var ie=hi($.pan.mag(),Re,f.extend({},Kc,V||{}));H.offset=$.pan.mult(ie.amount/$.pan.mag()),H.center=this._map.transform.center,Wr(H,ie)}if($.zoom){var fe=hi($.zoom,Re,Il);H.zoom=this._map.transform.zoom+fe.amount,Wr(H,fe)}if($.bearing){var Me=hi($.bearing,Re,Pl);H.bearing=this._map.transform.bearing+f.clamp(Me.amount,-179,179),Wr(H,Me)}if($.pitch){var Ce=hi($.pitch,Re,Cc);H.pitch=this._map.transform.pitch+Ce.amount,Wr(H,Ce)}if(H.zoom||H.bearing){var Fe=void 0===$.pinchAround?$.around:$.pinchAround;H.around=Fe?this._map.unproject(Fe):this._map.getCenter()}return this.clear(),f.extend(H,{noMoveStart:!0})}};var _i=function(V){function $(te,be,Re,H){void 0===H&&(H={});var ie=M.mousePos(be.getCanvasContainer(),Re),fe=be.unproject(ie);V.call(this,te,f.extend({point:ie,lngLat:fe,originalEvent:Re},H)),this._defaultPrevented=!1,this.target=be}V&&($.__proto__=V),($.prototype=Object.create(V&&V.prototype)).constructor=$;var W={defaultPrevented:{configurable:!0}};return $.prototype.preventDefault=function(){this._defaultPrevented=!0},W.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties($.prototype,W),$}(f.Event),Ma=function(V){function $(te,be,Re){var H="touchend"===te?Re.changedTouches:Re.touches,ie=M.touchPos(be.getCanvasContainer(),H),fe=ie.map(function(Fe){return be.unproject(Fe)}),Me=ie.reduce(function(Fe,$e,Xe,Qe){return Fe.add($e.div(Qe.length))},new f.Point(0,0)),Ce=be.unproject(Me);V.call(this,te,{points:ie,point:Me,lngLats:fe,lngLat:Ce,originalEvent:Re}),this._defaultPrevented=!1}V&&($.__proto__=V),($.prototype=Object.create(V&&V.prototype)).constructor=$;var W={defaultPrevented:{configurable:!0}};return $.prototype.preventDefault=function(){this._defaultPrevented=!0},W.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties($.prototype,W),$}(f.Event),Rs=function(V){function $(te,be,Re){V.call(this,te,{originalEvent:Re}),this._defaultPrevented=!1}V&&($.__proto__=V),($.prototype=Object.create(V&&V.prototype)).constructor=$;var W={defaultPrevented:{configurable:!0}};return $.prototype.preventDefault=function(){this._defaultPrevented=!0},W.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties($.prototype,W),$}(f.Event),ji=function(V,$){this._map=V,this._clickTolerance=$.clickTolerance};ji.prototype.reset=function(){delete this._mousedownPos},ji.prototype.wheel=function(V){return this._firePreventable(new Rs(V.type,this._map,V))},ji.prototype.mousedown=function(V,$){return this._mousedownPos=$,this._firePreventable(new _i(V.type,this._map,V))},ji.prototype.mouseup=function(V){this._map.fire(new _i(V.type,this._map,V))},ji.prototype.click=function(V,$){this._mousedownPos&&this._mousedownPos.dist($)>=this._clickTolerance||this._map.fire(new _i(V.type,this._map,V))},ji.prototype.dblclick=function(V){return this._firePreventable(new _i(V.type,this._map,V))},ji.prototype.mouseover=function(V){this._map.fire(new _i(V.type,this._map,V))},ji.prototype.mouseout=function(V){this._map.fire(new _i(V.type,this._map,V))},ji.prototype.touchstart=function(V){return this._firePreventable(new Ma(V.type,this._map,V))},ji.prototype.touchmove=function(V){this._map.fire(new Ma(V.type,this._map,V))},ji.prototype.touchend=function(V){this._map.fire(new Ma(V.type,this._map,V))},ji.prototype.touchcancel=function(V){this._map.fire(new Ma(V.type,this._map,V))},ji.prototype._firePreventable=function(V){if(this._map.fire(V),V.defaultPrevented)return{}},ji.prototype.isEnabled=function(){return!0},ji.prototype.isActive=function(){return!1},ji.prototype.enable=function(){},ji.prototype.disable=function(){};var Uo=function(V){this._map=V};Uo.prototype.reset=function(){this._delayContextMenu=!1,delete this._contextMenuEvent},Uo.prototype.mousemove=function(V){this._map.fire(new _i(V.type,this._map,V))},Uo.prototype.mousedown=function(){this._delayContextMenu=!0},Uo.prototype.mouseup=function(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new _i("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)},Uo.prototype.contextmenu=function(V){this._delayContextMenu?this._contextMenuEvent=V:this._map.fire(new _i(V.type,this._map,V)),this._map.listens("contextmenu")&&V.preventDefault()},Uo.prototype.isEnabled=function(){return!0},Uo.prototype.isActive=function(){return!1},Uo.prototype.enable=function(){},Uo.prototype.disable=function(){};var Oi=function(V,$){this._map=V,this._el=V.getCanvasContainer(),this._container=V.getContainer(),this._clickTolerance=$.clickTolerance||1};function ko(V,$){for(var W={},te=0;te<V.length;te++)W[V[te].identifier]=$[te];return W}Oi.prototype.isEnabled=function(){return!!this._enabled},Oi.prototype.isActive=function(){return!!this._active},Oi.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},Oi.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},Oi.prototype.mousedown=function(V,$){this.isEnabled()&&V.shiftKey&&0===V.button&&(M.disableDrag(),this._startPos=this._lastPos=$,this._active=!0)},Oi.prototype.mousemoveWindow=function(V,$){if(this._active){var W=$;if(!(this._lastPos.equals(W)||!this._box&&W.dist(this._startPos)<this._clickTolerance)){var te=this._startPos;this._lastPos=W,this._box||(this._box=M.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",V));var be=Math.min(te.x,W.x),Re=Math.max(te.x,W.x),H=Math.min(te.y,W.y),ie=Math.max(te.y,W.y);M.setTransform(this._box,"translate("+be+"px,"+H+"px)"),this._box.style.width=Re-be+"px",this._box.style.height=ie-H+"px"}}},Oi.prototype.mouseupWindow=function(V,$){var W=this;if(this._active&&0===V.button){var te=this._startPos,be=$;if(this.reset(),M.suppressClick(),te.x!==be.x||te.y!==be.y)return this._map.fire(new f.Event("boxzoomend",{originalEvent:V})),{cameraAnimation:function(Re){return Re.fitScreenCoordinates(te,be,W._map.getBearing(),{linear:!0})}};this._fireEvent("boxzoomcancel",V)}},Oi.prototype.keydown=function(V){this._active&&27===V.keyCode&&(this.reset(),this._fireEvent("boxzoomcancel",V))},Oi.prototype.reset=function(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(M.remove(this._box),this._box=null),M.enableDrag(),delete this._startPos,delete this._lastPos},Oi.prototype._fireEvent=function(V,$){return this._map.fire(new f.Event(V,{originalEvent:$}))};var Ho=function(V){this.reset(),this.numTouches=V.numTouches};Ho.prototype.reset=function(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1},Ho.prototype.touchstart=function(V,$,W){(this.centroid||W.length>this.numTouches)&&(this.aborted=!0),this.aborted||(void 0===this.startTime&&(this.startTime=V.timeStamp),W.length===this.numTouches&&(this.centroid=function(te){for(var be=new f.Point(0,0),Re=0,H=te;Re<H.length;Re+=1)be._add(H[Re]);return be.div(te.length)}($),this.touches=ko(W,$)))},Ho.prototype.touchmove=function(V,$,W){if(!this.aborted&&this.centroid){var te=ko(W,$);for(var be in this.touches){var H=te[be];(!H||H.dist(this.touches[be])>30)&&(this.aborted=!0)}}},Ho.prototype.touchend=function(V,$,W){if((!this.centroid||V.timeStamp-this.startTime>500)&&(this.aborted=!0),0===W.length){var te=!this.aborted&&this.centroid;if(this.reset(),te)return te}};var pi=function(V){this.singleTap=new Ho(V),this.numTaps=V.numTaps,this.reset()};pi.prototype.reset=function(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()},pi.prototype.touchstart=function(V,$,W){this.singleTap.touchstart(V,$,W)},pi.prototype.touchmove=function(V,$,W){this.singleTap.touchmove(V,$,W)},pi.prototype.touchend=function(V,$,W){var te=this.singleTap.touchend(V,$,W);if(te){var be=V.timeStamp-this.lastTime<500,Re=!this.lastTap||this.lastTap.dist(te)<30;if(be&&Re||this.reset(),this.count++,this.lastTime=V.timeStamp,this.lastTap=te,this.count===this.numTaps)return this.reset(),te}};var Wa=function(){this._zoomIn=new pi({numTouches:1,numTaps:2}),this._zoomOut=new pi({numTouches:2,numTaps:1}),this.reset()};Wa.prototype.reset=function(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()},Wa.prototype.touchstart=function(V,$,W){this._zoomIn.touchstart(V,$,W),this._zoomOut.touchstart(V,$,W)},Wa.prototype.touchmove=function(V,$,W){this._zoomIn.touchmove(V,$,W),this._zoomOut.touchmove(V,$,W)},Wa.prototype.touchend=function(V,$,W){var te=this,be=this._zoomIn.touchend(V,$,W),Re=this._zoomOut.touchend(V,$,W);return be?(this._active=!0,V.preventDefault(),setTimeout(function(){return te.reset()},0),{cameraAnimation:function(H){return H.easeTo({duration:300,zoom:H.getZoom()+1,around:H.unproject(be)},{originalEvent:V})}}):Re?(this._active=!0,V.preventDefault(),setTimeout(function(){return te.reset()},0),{cameraAnimation:function(H){return H.easeTo({duration:300,zoom:H.getZoom()-1,around:H.unproject(Re)},{originalEvent:V})}}):void 0},Wa.prototype.touchcancel=function(){this.reset()},Wa.prototype.enable=function(){this._enabled=!0},Wa.prototype.disable=function(){this._enabled=!1,this.reset()},Wa.prototype.isEnabled=function(){return this._enabled},Wa.prototype.isActive=function(){return this._active};var sa=function(V){this.reset(),this._clickTolerance=V.clickTolerance||1};sa.prototype.reset=function(){this._active=!1,this._moved=!1,delete this._lastPoint,delete this._eventButton},sa.prototype._correctButton=function(V,$){return!1},sa.prototype._move=function(V,$){return{}},sa.prototype.mousedown=function(V,$){if(!this._lastPoint){var W=M.mouseButton(V);this._correctButton(V,W)&&(this._lastPoint=$,this._eventButton=W)}},sa.prototype.mousemoveWindow=function(V,$){var W=this._lastPoint;if(W&&(V.preventDefault(),this._moved||!($.dist(W)<this._clickTolerance)))return this._moved=!0,this._lastPoint=$,this._move(W,$)},sa.prototype.mouseupWindow=function(V){M.mouseButton(V)===this._eventButton&&(this._moved&&M.suppressClick(),this.reset())},sa.prototype.enable=function(){this._enabled=!0},sa.prototype.disable=function(){this._enabled=!1,this.reset()},sa.prototype.isEnabled=function(){return this._enabled},sa.prototype.isActive=function(){return this._active};var ya=function(V){function $(){V.apply(this,arguments)}return V&&($.__proto__=V),($.prototype=Object.create(V&&V.prototype)).constructor=$,$.prototype.mousedown=function(W,te){V.prototype.mousedown.call(this,W,te),this._lastPoint&&(this._active=!0)},$.prototype._correctButton=function(W,te){return 0===te&&!W.ctrlKey},$.prototype._move=function(W,te){return{around:te,panDelta:te.sub(W)}},$}(sa),Qi=function(V){function $(){V.apply(this,arguments)}return V&&($.__proto__=V),($.prototype=Object.create(V&&V.prototype)).constructor=$,$.prototype._correctButton=function(W,te){return 0===te&&W.ctrlKey||2===te},$.prototype._move=function(W,te){var be=.8*(te.x-W.x);if(be)return this._active=!0,{bearingDelta:be}},$.prototype.contextmenu=function(W){W.preventDefault()},$}(sa),Rl=function(V){function $(){V.apply(this,arguments)}return V&&($.__proto__=V),($.prototype=Object.create(V&&V.prototype)).constructor=$,$.prototype._correctButton=function(W,te){return 0===te&&W.ctrlKey||2===te},$.prototype._move=function(W,te){var be=-.5*(te.y-W.y);if(be)return this._active=!0,{pitchDelta:be}},$.prototype.contextmenu=function(W){W.preventDefault()},$}(sa),Aa=function(V){this._minTouches=1,this._clickTolerance=V.clickTolerance||1,this.reset()};Aa.prototype.reset=function(){this._active=!1,this._touches={},this._sum=new f.Point(0,0)},Aa.prototype.touchstart=function(V,$,W){return this._calculateTransform(V,$,W)},Aa.prototype.touchmove=function(V,$,W){if(this._active)return V.preventDefault(),this._calculateTransform(V,$,W)},Aa.prototype.touchend=function(V,$,W){this._calculateTransform(V,$,W),this._active&&W.length<this._minTouches&&this.reset()},Aa.prototype.touchcancel=function(){this.reset()},Aa.prototype._calculateTransform=function(V,$,W){W.length>0&&(this._active=!0);var te=ko(W,$),be=new f.Point(0,0),Re=new f.Point(0,0),H=0;for(var ie in te){var fe=te[ie],Me=this._touches[ie];Me&&(be._add(fe),Re._add(fe.sub(Me)),H++,te[ie]=fe)}if(this._touches=te,!(H<this._minTouches)&&Re.mag()){var Ce=Re.div(H);if(this._sum._add(Ce),!(this._sum.mag()<this._clickTolerance))return{around:be.div(H),panDelta:Ce}}},Aa.prototype.enable=function(){this._enabled=!0},Aa.prototype.disable=function(){this._enabled=!1,this.reset()},Aa.prototype.isEnabled=function(){return this._enabled},Aa.prototype.isActive=function(){return this._active};var uo=function(){this.reset()};function Gr(V,$,W){for(var te=0;te<V.length;te++)if(V[te].identifier===W)return $[te]}function _a(V,$){return Math.log(V/$)/Math.LN2}uo.prototype.reset=function(){this._active=!1,delete this._firstTwoTouches},uo.prototype._start=function(V){},uo.prototype._move=function(V,$,W){return{}},uo.prototype.touchstart=function(V,$,W){this._firstTwoTouches||W.length<2||(this._firstTwoTouches=[W[0].identifier,W[1].identifier],this._start([$[0],$[1]]))},uo.prototype.touchmove=function(V,$,W){if(this._firstTwoTouches){V.preventDefault();var te=this._firstTwoTouches,Re=te[1],H=Gr(W,$,te[0]),ie=Gr(W,$,Re);if(H&&ie){var fe=this._aroundCenter?null:H.add(ie).div(2);return this._move([H,ie],fe,V)}}},uo.prototype.touchend=function(V,$,W){if(this._firstTwoTouches){var te=this._firstTwoTouches,Re=te[1],H=Gr(W,$,te[0]),ie=Gr(W,$,Re);H&&ie||(this._active&&M.suppressClick(),this.reset())}},uo.prototype.touchcancel=function(){this.reset()},uo.prototype.enable=function(V){this._enabled=!0,this._aroundCenter=!!V&&"center"===V.around},uo.prototype.disable=function(){this._enabled=!1,this.reset()},uo.prototype.isEnabled=function(){return this._enabled},uo.prototype.isActive=function(){return this._active};var ys=function(V){function $(){V.apply(this,arguments)}return V&&($.__proto__=V),($.prototype=Object.create(V&&V.prototype)).constructor=$,$.prototype.reset=function(){V.prototype.reset.call(this),delete this._distance,delete this._startDistance},$.prototype._start=function(W){this._startDistance=this._distance=W[0].dist(W[1])},$.prototype._move=function(W,te){var be=this._distance;if(this._distance=W[0].dist(W[1]),this._active||!(Math.abs(_a(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:_a(this._distance,be),pinchAround:te}},$}(uo);function _s(V,$){return 180*V.angleWith($)/Math.PI}var Xs=function(V){function $(){V.apply(this,arguments)}return V&&($.__proto__=V),($.prototype=Object.create(V&&V.prototype)).constructor=$,$.prototype.reset=function(){V.prototype.reset.call(this),delete this._minDiameter,delete this._startVector,delete this._vector},$.prototype._start=function(W){this._startVector=this._vector=W[0].sub(W[1]),this._minDiameter=W[0].dist(W[1])},$.prototype._move=function(W,te){var be=this._vector;if(this._vector=W[0].sub(W[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:_s(this._vector,be),pinchAround:te}},$.prototype._isBelowThreshold=function(W){this._minDiameter=Math.min(this._minDiameter,W.mag());var te=25/(Math.PI*this._minDiameter)*360,be=_s(W,this._startVector);return Math.abs(be)<te},$}(uo);function Js(V){return Math.abs(V.y)>Math.abs(V.x)}var bi=function(V){function $(){V.apply(this,arguments)}return V&&($.__proto__=V),($.prototype=Object.create(V&&V.prototype)).constructor=$,$.prototype.reset=function(){V.prototype.reset.call(this),this._valid=void 0,delete this._firstMove,delete this._lastPoints},$.prototype._start=function(W){this._lastPoints=W,Js(W[0].sub(W[1]))&&(this._valid=!1)},$.prototype._move=function(W,te,be){var Re=W[0].sub(this._lastPoints[0]),H=W[1].sub(this._lastPoints[1]);if(this._valid=this.gestureBeginsVertically(Re,H,be.timeStamp),this._valid)return this._lastPoints=W,this._active=!0,{pitchDelta:(Re.y+H.y)/2*-.5}},$.prototype.gestureBeginsVertically=function(W,te,be){if(void 0!==this._valid)return this._valid;var Re=W.mag()>=2,H=te.mag()>=2;if(Re||H){if(!Re||!H)return void 0===this._firstMove&&(this._firstMove=be),be-this._firstMove<100&&void 0;var ie=W.y>0==te.y>0;return Js(W)&&Js(te)&&ie}},$}(uo),Hr={panStep:100,bearingStep:15,pitchStep:10},fs=function(){var V=Hr;this._panStep=V.panStep,this._bearingStep=V.bearingStep,this._pitchStep=V.pitchStep};function Ul(V){return V*(2-V)}fs.prototype.reset=function(){this._active=!1},fs.prototype.keydown=function(V){var $=this;if(!(V.altKey||V.ctrlKey||V.metaKey)){var W=0,te=0,be=0,Re=0,H=0;switch(V.keyCode){case 61:case 107:case 171:case 187:W=1;break;case 189:case 109:case 173:W=-1;break;case 37:V.shiftKey?te=-1:(V.preventDefault(),Re=-1);break;case 39:V.shiftKey?te=1:(V.preventDefault(),Re=1);break;case 38:V.shiftKey?be=1:(V.preventDefault(),H=-1);break;case 40:V.shiftKey?be=-1:(V.preventDefault(),H=1);break;default:return}return{cameraAnimation:function(ie){var fe=ie.getZoom();ie.easeTo({duration:300,easeId:"keyboardHandler",easing:Ul,zoom:W?Math.round(fe)+W*(V.shiftKey?2:1):fe,bearing:ie.getBearing()+te*$._bearingStep,pitch:ie.getPitch()+be*$._pitchStep,offset:[-Re*$._panStep,-H*$._panStep],center:ie.getCenter()},{originalEvent:V})}}}},fs.prototype.enable=function(){this._enabled=!0},fs.prototype.disable=function(){this._enabled=!1,this.reset()},fs.prototype.isEnabled=function(){return this._enabled},fs.prototype.isActive=function(){return this._active};var Qa=4.000244140625,la=function(V,$){this._map=V,this._el=V.getCanvasContainer(),this._handler=$,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222,f.bindAll(["_onWheel","_onTimeout","_onScrollFrame","_onScrollFinished"],this)};la.prototype.setZoomRate=function(V){this._defaultZoomRate=V},la.prototype.setWheelZoomRate=function(V){this._wheelZoomRate=V},la.prototype.isEnabled=function(){return!!this._enabled},la.prototype.isActive=function(){return!!this._active||void 0!==this._finishTimeout},la.prototype.isZooming=function(){return!!this._zooming},la.prototype.enable=function(V){this.isEnabled()||(this._enabled=!0,this._aroundCenter=V&&"center"===V.around)},la.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},la.prototype.wheel=function(V){if(this.isEnabled()){var $=V.deltaMode===f.window.WheelEvent.DOM_DELTA_LINE?40*V.deltaY:V.deltaY,W=f.browser.now(),te=W-(this._lastWheelEventTime||0);this._lastWheelEventTime=W,0!==$&&$%Qa==0?this._type="wheel":0!==$&&Math.abs($)<4?this._type="trackpad":te>400?(this._type=null,this._lastValue=$,this._timeout=setTimeout(this._onTimeout,40,V)):this._type||(this._type=Math.abs(te*$)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,$+=this._lastValue)),V.shiftKey&&$&&($/=4),this._type&&(this._lastWheelEvent=V,this._delta-=$,this._active||this._start(V)),V.preventDefault()}},la.prototype._onTimeout=function(V){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(V)},la.prototype._start=function(V){if(this._delta){this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);var $=M.mousePos(this._el,V);this._around=f.LngLat.convert(this._aroundCenter?this._map.getCenter():this._map.unproject($)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}},la.prototype.renderFrame=function(){return this._onScrollFrame()},la.prototype._onScrollFrame=function(){var V=this;if(this._frameId&&(this._frameId=null,this.isActive())){var $=this._map.transform;if(0!==this._delta){var W="wheel"===this._type&&Math.abs(this._delta)>Qa?this._wheelZoomRate:this._defaultZoomRate,te=2/(1+Math.exp(-Math.abs(this._delta*W)));this._delta<0&&0!==te&&(te=1/te);var be="number"==typeof this._targetZoom?$.zoomScale(this._targetZoom):$.scale;this._targetZoom=Math.min($.maxZoom,Math.max($.minZoom,$.scaleZoom(be*te))),"wheel"===this._type&&(this._startZoom=$.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}var Re,H="number"==typeof this._targetZoom?this._targetZoom:$.zoom,ie=this._startZoom,fe=this._easing,Me=!1;if("wheel"===this._type&&ie&&fe){var Ce=Math.min((f.browser.now()-this._lastWheelEventTime)/200,1),Fe=fe(Ce);Re=f.number(ie,H,Fe),Ce<1?this._frameId||(this._frameId=!0):Me=!0}else Re=H,Me=!0;return this._active=!0,Me&&(this._active=!1,this._finishTimeout=setTimeout(function(){V._zooming=!1,V._handler._triggerRenderFrame(),delete V._targetZoom,delete V._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!Me,zoomDelta:Re-$.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}},la.prototype._smoothOutEasing=function(V){var $=f.ease;if(this._prevEase){var W=this._prevEase,te=(f.browser.now()-W.start)/W.duration,be=W.easing(te+.01)-W.easing(te),Re=.27/Math.sqrt(be*be+1e-4)*.01,H=Math.sqrt(.0729-Re*Re);$=f.bezier(Re,H,.25,1)}return this._prevEase={start:f.browser.now(),duration:V,easing:$},$},la.prototype.reset=function(){this._active=!1};var Va=function(V,$){this._clickZoom=V,this._tapZoom=$};Va.prototype.enable=function(){this._clickZoom.enable(),this._tapZoom.enable()},Va.prototype.disable=function(){this._clickZoom.disable(),this._tapZoom.disable()},Va.prototype.isEnabled=function(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()},Va.prototype.isActive=function(){return this._clickZoom.isActive()||this._tapZoom.isActive()};var Ua=function(){this.reset()};Ua.prototype.reset=function(){this._active=!1},Ua.prototype.dblclick=function(V,$){return V.preventDefault(),{cameraAnimation:function(W){W.easeTo({duration:300,zoom:W.getZoom()+(V.shiftKey?-1:1),around:W.unproject($)},{originalEvent:V})}}},Ua.prototype.enable=function(){this._enabled=!0},Ua.prototype.disable=function(){this._enabled=!1,this.reset()},Ua.prototype.isEnabled=function(){return this._enabled},Ua.prototype.isActive=function(){return this._active};var fo=function(){this._tap=new pi({numTouches:1,numTaps:1}),this.reset()};fo.prototype.reset=function(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,this._tap.reset()},fo.prototype.touchstart=function(V,$,W){this._swipePoint||(this._tapTime&&V.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?W.length>0&&(this._swipePoint=$[0],this._swipeTouch=W[0].identifier):this._tap.touchstart(V,$,W))},fo.prototype.touchmove=function(V,$,W){if(this._tapTime){if(this._swipePoint){if(W[0].identifier!==this._swipeTouch)return;var te=$[0],be=te.y-this._swipePoint.y;return this._swipePoint=te,V.preventDefault(),this._active=!0,{zoomDelta:be/128}}}else this._tap.touchmove(V,$,W)},fo.prototype.touchend=function(V,$,W){this._tapTime?this._swipePoint&&0===W.length&&this.reset():this._tap.touchend(V,$,W)&&(this._tapTime=V.timeStamp)},fo.prototype.touchcancel=function(){this.reset()},fo.prototype.enable=function(){this._enabled=!0},fo.prototype.disable=function(){this._enabled=!1,this.reset()},fo.prototype.isEnabled=function(){return this._enabled},fo.prototype.isActive=function(){return this._active};var ul=function(V,$,W){this._el=V,this._mousePan=$,this._touchPan=W};ul.prototype.enable=function(V){this._inertiaOptions=V||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")},ul.prototype.disable=function(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")},ul.prototype.isEnabled=function(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()},ul.prototype.isActive=function(){return this._mousePan.isActive()||this._touchPan.isActive()};var ea=function(V,$,W){this._pitchWithRotate=V.pitchWithRotate,this._mouseRotate=$,this._mousePitch=W};ea.prototype.enable=function(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()},ea.prototype.disable=function(){this._mouseRotate.disable(),this._mousePitch.disable()},ea.prototype.isEnabled=function(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())},ea.prototype.isActive=function(){return this._mouseRotate.isActive()||this._mousePitch.isActive()};var $i=function(V,$,W,te){this._el=V,this._touchZoom=$,this._touchRotate=W,this._tapDragZoom=te,this._rotationDisabled=!1,this._enabled=!0};$i.prototype.enable=function(V){this._touchZoom.enable(V),this._rotationDisabled||this._touchRotate.enable(V),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")},$i.prototype.disable=function(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")},$i.prototype.isEnabled=function(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()},$i.prototype.isActive=function(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()},$i.prototype.disableRotation=function(){this._rotationDisabled=!0,this._touchRotate.disable()},$i.prototype.enableRotation=function(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()};var fl=function(V){return V.zoom||V.drag||V.pitch||V.rotate},xs=function(V){function $(){V.apply(this,arguments)}return V&&($.__proto__=V),($.prototype=Object.create(V&&V.prototype)).constructor=$,$}(f.Event);function Go(V){return V.panDelta&&V.panDelta.mag()||V.zoomDelta||V.bearingDelta||V.pitchDelta}var Si=function(V,$){this._map=V,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new mo(V),this._bearingSnap=$.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers($),f.bindAll(["handleEvent","handleWindowEvent"],this);var W=this._el;this._listeners=[[W,"touchstart",{passive:!1}],[W,"touchmove",{passive:!1}],[W,"touchend",void 0],[W,"touchcancel",void 0],[W,"mousedown",void 0],[W,"mousemove",void 0],[W,"mouseup",void 0],[f.window.document,"mousemove",{capture:!0}],[f.window.document,"mouseup",void 0],[W,"mouseover",void 0],[W,"mouseout",void 0],[W,"dblclick",void 0],[W,"click",void 0],[W,"keydown",{capture:!1}],[W,"keyup",void 0],[W,"wheel",{passive:!1}],[W,"contextmenu",void 0],[f.window,"blur",void 0]];for(var te=0,be=this._listeners;te<be.length;te+=1){var Re=be[te],H=Re[0];M.addEventListener(H,Re[1],H===f.window.document?this.handleWindowEvent:this.handleEvent,Re[2])}};Si.prototype.destroy=function(){for(var V=0,$=this._listeners;V<$.length;V+=1){var W=$[V],te=W[0];M.removeEventListener(te,W[1],te===f.window.document?this.handleWindowEvent:this.handleEvent,W[2])}},Si.prototype._addDefaultHandlers=function(V){var $=this._map,W=$.getCanvasContainer();this._add("mapEvent",new ji($,V));var te=$.boxZoom=new Oi($,V);this._add("boxZoom",te);var be=new Wa,Re=new Ua;$.doubleClickZoom=new Va(Re,be),this._add("tapZoom",be),this._add("clickZoom",Re);var H=new fo;this._add("tapDragZoom",H);var ie=$.touchPitch=new bi;this._add("touchPitch",ie);var fe=new Qi(V),Me=new Rl(V);$.dragRotate=new ea(V,fe,Me),this._add("mouseRotate",fe,["mousePitch"]),this._add("mousePitch",Me,["mouseRotate"]);var Ce=new ya(V),Fe=new Aa(V);$.dragPan=new ul(W,Ce,Fe),this._add("mousePan",Ce),this._add("touchPan",Fe,["touchZoom","touchRotate"]);var $e=new Xs,Xe=new ys;$.touchZoomRotate=new $i(W,Xe,$e,H),this._add("touchRotate",$e,["touchPan","touchZoom"]),this._add("touchZoom",Xe,["touchPan","touchRotate"]);var Qe=$.scrollZoom=new la($,this);this._add("scrollZoom",Qe,["mousePan"]);var nt=$.keyboard=new fs;this._add("keyboard",nt),this._add("blockableMapEvent",new Uo($));for(var lt=0,_t=["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"];lt<_t.length;lt+=1){var At=_t[lt];V.interactive&&V[At]&&$[At].enable(V[At])}},Si.prototype._add=function(V,$,W){this._handlers.push({handlerName:V,handler:$,allowed:W}),this._handlersById[V]=$},Si.prototype.stop=function(){if(!this._updatingCamera){for(var V=0,$=this._handlers;V<$.length;V+=1)$[V].handler.reset();this._inertia.clear(),this._fireEvents({},{}),this._changes=[]}},Si.prototype.isActive=function(){for(var V=0,$=this._handlers;V<$.length;V+=1)if($[V].handler.isActive())return!0;return!1},Si.prototype.isZooming=function(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()},Si.prototype.isRotating=function(){return!!this._eventsInProgress.rotate},Si.prototype.isMoving=function(){return!!fl(this._eventsInProgress)||this.isZooming()},Si.prototype._blockedByActive=function(V,$,W){for(var te in V)if(te!==W&&(!$||$.indexOf(te)<0))return!0;return!1},Si.prototype.handleWindowEvent=function(V){this.handleEvent(V,V.type+"Window")},Si.prototype._getMapTouches=function(V){for(var $=[],W=0,te=V;W<te.length;W+=1){var be=te[W];this._el.contains(be.target)&&$.push(be)}return $},Si.prototype.handleEvent=function(V,$){if("blur"!==V.type){this._updatingCamera=!0;for(var W="renderFrame"===V.type?void 0:V,te={needsRenderFrame:!1},be={},Re={},H=V.touches?this._getMapTouches(V.touches):void 0,ie=H?M.touchPos(this._el,H):M.mousePos(this._el,V),fe=0,Me=this._handlers;fe<Me.length;fe+=1){var Ce=Me[fe],Fe=Ce.handlerName,$e=Ce.handler,Xe=Ce.allowed;if($e.isEnabled()){var Qe=void 0;this._blockedByActive(Re,Xe,Fe)?$e.reset():$e[$||V.type]&&(Qe=$e[$||V.type](V,ie,H),this.mergeHandlerResult(te,be,Qe,Fe,W),Qe&&Qe.needsRenderFrame&&this._triggerRenderFrame()),(Qe||$e.isActive())&&(Re[Fe]=$e)}}var nt={};for(var lt in this._previousActiveHandlers)Re[lt]||(nt[lt]=W);this._previousActiveHandlers=Re,(Object.keys(nt).length||Go(te))&&(this._changes.push([te,be,nt]),this._triggerRenderFrame()),(Object.keys(Re).length||Go(te))&&this._map._stop(!0),this._updatingCamera=!1;var _t=te.cameraAnimation;_t&&(this._inertia.clear(),this._fireEvents({},{}),this._changes=[],_t(this._map))}else this.stop()},Si.prototype.mergeHandlerResult=function(V,$,W,te,be){if(W){f.extend(V,W);var Re={handlerName:te,originalEvent:W.originalEvent||be};void 0!==W.zoomDelta&&($.zoom=Re),void 0!==W.panDelta&&($.drag=Re),void 0!==W.pitchDelta&&($.pitch=Re),void 0!==W.bearingDelta&&($.rotate=Re)}},Si.prototype._applyChanges=function(){for(var V={},$={},W={},te=0,be=this._changes;te<be.length;te+=1){var Re=be[te],H=Re[0],ie=Re[1],fe=Re[2];H.panDelta&&(V.panDelta=(V.panDelta||new f.Point(0,0))._add(H.panDelta)),H.zoomDelta&&(V.zoomDelta=(V.zoomDelta||0)+H.zoomDelta),H.bearingDelta&&(V.bearingDelta=(V.bearingDelta||0)+H.bearingDelta),H.pitchDelta&&(V.pitchDelta=(V.pitchDelta||0)+H.pitchDelta),void 0!==H.around&&(V.around=H.around),void 0!==H.pinchAround&&(V.pinchAround=H.pinchAround),H.noInertia&&(V.noInertia=H.noInertia),f.extend($,ie),f.extend(W,fe)}this._updateMapTransform(V,$,W),this._changes=[]},Si.prototype._updateMapTransform=function(V,$,W){var te=this._map,be=te.transform;if(!Go(V))return this._fireEvents($,W);var Re=V.panDelta,H=V.zoomDelta,ie=V.bearingDelta,fe=V.pitchDelta,Me=V.around,Ce=V.pinchAround;void 0!==Ce&&(Me=Ce),te._stop(!0),Me=Me||te.transform.centerPoint;var Fe=be.pointLocation(Re?Me.sub(Re):Me);ie&&(be.bearing+=ie),fe&&(be.pitch+=fe),H&&(be.zoom+=H),be.setLocationAtPoint(Fe,Me),this._map._update(),V.noInertia||this._inertia.record(V),this._fireEvents($,W)},Si.prototype._fireEvents=function(V,$){var W=this,te=fl(this._eventsInProgress),be=fl(V),Re={};for(var H in V)this._eventsInProgress[H]||(Re[H+"start"]=V[H].originalEvent),this._eventsInProgress[H]=V[H];for(var fe in!te&&be&&this._fireEvent("movestart",be.originalEvent),Re)this._fireEvent(fe,Re[fe]);for(var Me in V.rotate&&(this._bearingChanged=!0),be&&this._fireEvent("move",be.originalEvent),V)this._fireEvent(Me,V[Me].originalEvent);var Fe,$e={};for(var Xe in this._eventsInProgress){var Qe=this._eventsInProgress[Xe],nt=Qe.handlerName,lt=Qe.originalEvent;this._handlersById[nt].isActive()||(delete this._eventsInProgress[Xe],$e[Xe+"end"]=Fe=$[nt]||lt)}for(var _t in $e)this._fireEvent(_t,$e[_t]);var At=fl(this._eventsInProgress);if((te||be)&&!At){this._updatingCamera=!0;var jt=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),Ht=function(zt){return 0!==zt&&-W._bearingSnap<zt&&zt<W._bearingSnap};jt?(Ht(jt.bearing||this._map.getBearing())&&(jt.bearing=0),this._map.easeTo(jt,{originalEvent:Fe})):(this._map.fire(new f.Event("moveend",{originalEvent:Fe})),Ht(this._map.getBearing())&&this._map.resetNorth()),this._bearingChanged=!1,this._updatingCamera=!1}},Si.prototype._fireEvent=function(V,$){this._map.fire(new f.Event(V,$?{originalEvent:$}:{}))},Si.prototype._triggerRenderFrame=function(){var V=this;void 0===this._frameId&&(this._frameId=this._map._requestRenderFrame(function($){delete V._frameId,V.handleEvent(new xs("renderFrame",{timeStamp:$})),V._applyChanges()}))};var Hl=function(V){function $(W,te){V.call(this),this._moving=!1,this._zooming=!1,this.transform=W,this._bearingSnap=te.bearingSnap,f.bindAll(["_renderFrameCallback"],this)}return V&&($.__proto__=V),($.prototype=Object.create(V&&V.prototype)).constructor=$,$.prototype.getCenter=function(){return new f.LngLat(this.transform.center.lng,this.transform.center.lat)},$.prototype.setCenter=function(W,te){return this.jumpTo({center:W},te)},$.prototype.panBy=function(W,te,be){return W=f.Point.convert(W).mult(-1),this.panTo(this.transform.center,f.extend({offset:W},te),be)},$.prototype.panTo=function(W,te,be){return this.easeTo(f.extend({center:W},te),be)},$.prototype.getZoom=function(){return this.transform.zoom},$.prototype.setZoom=function(W,te){return this.jumpTo({zoom:W},te),this},$.prototype.zoomTo=function(W,te,be){return this.easeTo(f.extend({zoom:W},te),be)},$.prototype.zoomIn=function(W,te){return this.zoomTo(this.getZoom()+1,W,te),this},$.prototype.zoomOut=function(W,te){return this.zoomTo(this.getZoom()-1,W,te),this},$.prototype.getBearing=function(){return this.transform.bearing},$.prototype.setBearing=function(W,te){return this.jumpTo({bearing:W},te),this},$.prototype.getPadding=function(){return this.transform.padding},$.prototype.setPadding=function(W,te){return this.jumpTo({padding:W},te),this},$.prototype.rotateTo=function(W,te,be){return this.easeTo(f.extend({bearing:W},te),be)},$.prototype.resetNorth=function(W,te){return this.rotateTo(0,f.extend({duration:1e3},W),te),this},$.prototype.resetNorthPitch=function(W,te){return this.easeTo(f.extend({bearing:0,pitch:0,duration:1e3},W),te),this},$.prototype.snapToNorth=function(W,te){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(W,te):this},$.prototype.getPitch=function(){return this.transform.pitch},$.prototype.setPitch=function(W,te){return this.jumpTo({pitch:W},te),this},$.prototype.cameraForBounds=function(W,te){return W=f.LngLatBounds.convert(W),this._cameraForBoxAndBearing(W.getNorthWest(),W.getSouthEast(),0,te)},$.prototype._cameraForBoxAndBearing=function(W,te,be,Re){var H={top:0,bottom:0,right:0,left:0};if("number"==typeof(Re=f.extend({padding:H,offset:[0,0],maxZoom:this.transform.maxZoom},Re)).padding){var ie=Re.padding;Re.padding={top:ie,bottom:ie,right:ie,left:ie}}Re.padding=f.extend(H,Re.padding);var fe=this.transform,Me=fe.padding,Ce=fe.project(f.LngLat.convert(W)),Fe=fe.project(f.LngLat.convert(te)),$e=Ce.rotate(-be*Math.PI/180),Xe=Fe.rotate(-be*Math.PI/180),Qe=new f.Point(Math.max($e.x,Xe.x),Math.max($e.y,Xe.y)),nt=new f.Point(Math.min($e.x,Xe.x),Math.min($e.y,Xe.y)),lt=Qe.sub(nt),_t=(fe.width-(Me.left+Me.right+Re.padding.left+Re.padding.right))/lt.x,At=(fe.height-(Me.top+Me.bottom+Re.padding.top+Re.padding.bottom))/lt.y;if(!(At<0||_t<0)){var jt=Math.min(fe.scaleZoom(fe.scale*Math.min(_t,At)),Re.maxZoom),Ht=f.Point.convert(Re.offset),Vt=new f.Point(Ht.x+(Re.padding.left-Re.padding.right)/2,Ht.y+(Re.padding.top-Re.padding.bottom)/2).mult(fe.scale/fe.zoomScale(jt));return{center:fe.unproject(Ce.add(Fe).div(2).sub(Vt)),zoom:jt,bearing:be}}f.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.")},$.prototype.fitBounds=function(W,te,be){return this._fitInternal(this.cameraForBounds(W,te),te,be)},$.prototype.fitScreenCoordinates=function(W,te,be,Re,H){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(f.Point.convert(W)),this.transform.pointLocation(f.Point.convert(te)),be,Re),Re,H)},$.prototype._fitInternal=function(W,te,be){return W?(delete(te=f.extend(W,te)).padding,te.linear?this.easeTo(te,be):this.flyTo(te,be)):this},$.prototype.jumpTo=function(W,te){this.stop();var be=this.transform,Re=!1,H=!1,ie=!1;return"zoom"in W&&be.zoom!==+W.zoom&&(Re=!0,be.zoom=+W.zoom),void 0!==W.center&&(be.center=f.LngLat.convert(W.center)),"bearing"in W&&be.bearing!==+W.bearing&&(H=!0,be.bearing=+W.bearing),"pitch"in W&&be.pitch!==+W.pitch&&(ie=!0,be.pitch=+W.pitch),null==W.padding||be.isPaddingEqual(W.padding)||(be.padding=W.padding),this.fire(new f.Event("movestart",te)).fire(new f.Event("move",te)),Re&&this.fire(new f.Event("zoomstart",te)).fire(new f.Event("zoom",te)).fire(new f.Event("zoomend",te)),H&&this.fire(new f.Event("rotatestart",te)).fire(new f.Event("rotate",te)).fire(new f.Event("rotateend",te)),ie&&this.fire(new f.Event("pitchstart",te)).fire(new f.Event("pitch",te)).fire(new f.Event("pitchend",te)),this.fire(new f.Event("moveend",te))},$.prototype.easeTo=function(W,te){var be=this;this._stop(!1,W.easeId),(!1===(W=f.extend({offset:[0,0],duration:500,easing:f.ease},W)).animate||!W.essential&&f.browser.prefersReducedMotion)&&(W.duration=0);var Re=this.transform,H=this.getZoom(),ie=this.getBearing(),fe=this.getPitch(),Me=this.getPadding(),Ce="zoom"in W?+W.zoom:H,Fe="bearing"in W?this._normalizeBearing(W.bearing,ie):ie,$e="pitch"in W?+W.pitch:fe,Xe="padding"in W?W.padding:Re.padding,Qe=f.Point.convert(W.offset),nt=Re.centerPoint.add(Qe),lt=Re.pointLocation(nt),_t=f.LngLat.convert(W.center||lt);this._normalizeCenter(_t);var At,jt,Ht=Re.project(lt),zt=Re.project(_t).sub(Ht),Xt=Re.zoomScale(Ce-H);W.around&&(At=f.LngLat.convert(W.around),jt=Re.locationPoint(At));var Vt={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||Ce!==H,this._rotating=this._rotating||ie!==Fe,this._pitching=this._pitching||$e!==fe,this._padding=!Re.isPaddingEqual(Xe),this._easeId=W.easeId,this._prepareEase(te,W.noMoveStart,Vt),clearTimeout(this._easeEndTimeoutID),this._ease(function(mn){if(be._zooming&&(Re.zoom=f.number(H,Ce,mn)),be._rotating&&(Re.bearing=f.number(ie,Fe,mn)),be._pitching&&(Re.pitch=f.number(fe,$e,mn)),be._padding&&(Re.interpolatePadding(Me,Xe,mn),nt=Re.centerPoint.add(Qe)),At)Re.setLocationAtPoint(At,jt);else{var sn=Re.zoomScale(Re.zoom-H),tn=Ce>H?Math.min(2,Xt):Math.max(.5,Xt),On=Math.pow(tn,1-mn),In=Re.unproject(Ht.add(zt.mult(mn*On)).mult(sn));Re.setLocationAtPoint(Re.renderWorldCopies?In.wrap():In,nt)}be._fireMoveEvents(te)},function(mn){be._afterEase(te,mn)},W),this},$.prototype._prepareEase=function(W,te,be){void 0===be&&(be={}),this._moving=!0,te||be.moving||this.fire(new f.Event("movestart",W)),this._zooming&&!be.zooming&&this.fire(new f.Event("zoomstart",W)),this._rotating&&!be.rotating&&this.fire(new f.Event("rotatestart",W)),this._pitching&&!be.pitching&&this.fire(new f.Event("pitchstart",W))},$.prototype._fireMoveEvents=function(W){this.fire(new f.Event("move",W)),this._zooming&&this.fire(new f.Event("zoom",W)),this._rotating&&this.fire(new f.Event("rotate",W)),this._pitching&&this.fire(new f.Event("pitch",W))},$.prototype._afterEase=function(W,te){if(!this._easeId||!te||this._easeId!==te){delete this._easeId;var be=this._zooming,Re=this._rotating,H=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,be&&this.fire(new f.Event("zoomend",W)),Re&&this.fire(new f.Event("rotateend",W)),H&&this.fire(new f.Event("pitchend",W)),this.fire(new f.Event("moveend",W))}},$.prototype.flyTo=function(W,te){var be=this;if(!W.essential&&f.browser.prefersReducedMotion){var Re=f.pick(W,["center","zoom","bearing","pitch","around"]);return this.jumpTo(Re,te)}this.stop(),W=f.extend({offset:[0,0],speed:1.2,curve:1.42,easing:f.ease},W);var H=this.transform,ie=this.getZoom(),fe=this.getBearing(),Me=this.getPitch(),Ce=this.getPadding(),Fe="zoom"in W?f.clamp(+W.zoom,H.minZoom,H.maxZoom):ie,$e="bearing"in W?this._normalizeBearing(W.bearing,fe):fe,Xe="pitch"in W?+W.pitch:Me,Qe="padding"in W?W.padding:H.padding,nt=H.zoomScale(Fe-ie),lt=f.Point.convert(W.offset),_t=H.centerPoint.add(lt),At=H.pointLocation(_t),jt=f.LngLat.convert(W.center||At);this._normalizeCenter(jt);var Ht=H.project(At),zt=H.project(jt).sub(Ht),Xt=W.curve,Vt=Math.max(H.width,H.height),mn=Vt/nt,sn=zt.mag();if("minZoom"in W){var tn=f.clamp(Math.min(W.minZoom,ie,Fe),H.minZoom,H.maxZoom),On=Vt/H.zoomScale(tn-ie);Xt=Math.sqrt(On/sn*2)}var In=Xt*Xt;function rr(ar){var Mr=(mn*mn-Vt*Vt+(ar?-1:1)*In*In*sn*sn)/(2*(ar?mn:Vt)*In*sn);return Math.log(Math.sqrt(Mr*Mr+1)-Mr)}function Xn(ar){return(Math.exp(ar)-Math.exp(-ar))/2}function ur(ar){return(Math.exp(ar)+Math.exp(-ar))/2}var yr=rr(0),wr=function(ar){return ur(yr)/ur(yr+Xt*ar)},Er=function(ar){return Vt*((ur(yr)*(Xn(Mr=yr+Xt*ar)/ur(Mr))-Xn(yr))/In)/sn;var Mr},Ir=(rr(1)-yr)/Xt;if(Math.abs(sn)<1e-6||!isFinite(Ir)){if(Math.abs(Vt-mn)<1e-6)return this.easeTo(W,te);var Rr=mn<Vt?-1:1;Ir=Math.abs(Math.log(mn/Vt))/Xt,Er=function(){return 0},wr=function(ar){return Math.exp(Rr*Xt*ar)}}return W.duration="duration"in W?+W.duration:1e3*Ir/("screenSpeed"in W?+W.screenSpeed/Xt:+W.speed),W.maxDuration&&W.duration>W.maxDuration&&(W.duration=0),this._zooming=!0,this._rotating=fe!==$e,this._pitching=Xe!==Me,this._padding=!H.isPaddingEqual(Qe),this._prepareEase(te,!1),this._ease(function(ar){var Mr=ar*Ir,Or=1/wr(Mr);H.zoom=1===ar?Fe:ie+H.scaleZoom(Or),be._rotating&&(H.bearing=f.number(fe,$e,ar)),be._pitching&&(H.pitch=f.number(Me,Xe,ar)),be._padding&&(H.interpolatePadding(Ce,Qe,ar),_t=H.centerPoint.add(lt));var qr=1===ar?jt:H.unproject(Ht.add(zt.mult(Er(Mr))).mult(Or));H.setLocationAtPoint(H.renderWorldCopies?qr.wrap():qr,_t),be._fireMoveEvents(te)},function(){return be._afterEase(te)},W),this},$.prototype.isEasing=function(){return!!this._easeFrameId},$.prototype.stop=function(){return this._stop()},$.prototype._stop=function(W,te){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){var be=this._onEaseEnd;delete this._onEaseEnd,be.call(this,te)}if(!W){var Re=this.handlers;Re&&Re.stop()}return this},$.prototype._ease=function(W,te,be){!1===be.animate||0===be.duration?(W(1),te()):(this._easeStart=f.browser.now(),this._easeOptions=be,this._onEaseFrame=W,this._onEaseEnd=te,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))},$.prototype._renderFrameCallback=function(){var W=Math.min((f.browser.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(W)),W<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},$.prototype._normalizeBearing=function(W,te){W=f.wrap(W,-180,180);var be=Math.abs(W-te);return Math.abs(W-360-te)<be&&(W-=360),Math.abs(W+360-te)<be&&(W+=360),W},$.prototype._normalizeCenter=function(W){var te=this.transform;if(te.renderWorldCopies&&!te.lngRange){var be=W.lng-te.center.lng;W.lng+=be>180?-360:be<-180?360:0}},$}(f.Evented),es=function(V){void 0===V&&(V={}),this.options=V,f.bindAll(["_updateEditLink","_updateData","_updateCompact"],this)};es.prototype.getDefaultPosition=function(){return"bottom-right"},es.prototype.onAdd=function(V){var $=this.options&&this.options.compact;return this._map=V,this._container=M.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._innerContainer=M.create("div","mapboxgl-ctrl-attrib-inner",this._container),$&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),void 0===$&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},es.prototype.onRemove=function(){M.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0},es.prototype._updateEditLink=function(){var V=this._editLink;V||(V=this._editLink=this._container.querySelector(".mapbox-improve-map"));var $=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||f.config.ACCESS_TOKEN}];if(V){var W=$.reduce(function(te,be,Re){return be.value&&(te+=be.key+"="+be.value+(Re<$.length-1?"&":"")),te},"?");V.href=f.config.FEEDBACK_URL+"/"+W+(this._map._hash?this._map._hash.getHashString(!0):""),V.rel="noopener nofollow"}},es.prototype._updateData=function(V){!V||"metadata"!==V.sourceDataType&&"style"!==V.dataType||(this._updateAttributions(),this._updateEditLink())},es.prototype._updateAttributions=function(){if(this._map.style){var V=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?V=V.concat(this.options.customAttribution.map(function(ie){return"string"!=typeof ie?"":ie})):"string"==typeof this.options.customAttribution&&V.push(this.options.customAttribution)),this._map.style.stylesheet){var $=this._map.style.stylesheet;this.styleOwner=$.owner,this.styleId=$.id}var W=this._map.style.sourceCaches;for(var te in W){var be=W[te];if(be.used){var Re=be.getSource();Re.attribution&&V.indexOf(Re.attribution)<0&&V.push(Re.attribution)}}V.sort(function(ie,fe){return ie.length-fe.length});var H=(V=V.filter(function(ie,fe){for(var Me=fe+1;Me<V.length;Me++)if(V[Me].indexOf(ie)>=0)return!1;return!0})).join(" | ");H!==this._attribHTML&&(this._attribHTML=H,V.length?(this._innerContainer.innerHTML=H,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}},es.prototype._updateCompact=function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact")};var ca=function(){f.bindAll(["_updateLogo"],this),f.bindAll(["_updateCompact"],this)};ca.prototype.onAdd=function(V){this._map=V,this._container=M.create("div","mapboxgl-ctrl");var $=M.create("a","mapboxgl-ctrl-logo");return $.target="_blank",$.rel="noopener nofollow",$.href="https://www.mapbox.com/",$.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),$.setAttribute("rel","noopener nofollow"),this._container.appendChild($),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container},ca.prototype.onRemove=function(){M.remove(this._container),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)},ca.prototype.getDefaultPosition=function(){return"bottom-left"},ca.prototype._updateLogo=function(V){V&&"metadata"!==V.sourceDataType||(this._container.style.display=this._logoRequired()?"block":"none")},ca.prototype._logoRequired=function(){if(this._map.style){var V=this._map.style.sourceCaches;for(var $ in V)if(V[$].getSource().mapbox_logo)return!0;return!1}},ca.prototype._updateCompact=function(){var V=this._container.children;if(V.length){var $=V[0];this._map.getCanvasContainer().offsetWidth<250?$.classList.add("mapboxgl-compact"):$.classList.remove("mapboxgl-compact")}};var dl=function(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1};dl.prototype.add=function(V){var $=++this._id;return this._queue.push({callback:V,id:$,cancelled:!1}),$},dl.prototype.remove=function(V){for(var $=this._currentlyRunning,W=0,te=$?this._queue.concat($):this._queue;W<te.length;W+=1){var be=te[W];if(be.id===V)return void(be.cancelled=!0)}},dl.prototype.run=function(V){void 0===V&&(V=0);var $=this._currentlyRunning=this._queue;this._queue=[];for(var W=0,te=$;W<te.length;W+=1){var be=te[W];if(!be.cancelled&&(be.callback(V),this._cleared))break}this._cleared=!1,this._currentlyRunning=!1},dl.prototype.clear=function(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]};var xu={"FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm"},Fo=f.window.HTMLImageElement,io=f.window.HTMLElement,bs=f.window.ImageBitmap,Ks={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0},bu=function(V){function $(te){var be=this;if(null!=(te=f.extend({},Ks,te)).minZoom&&null!=te.maxZoom&&te.minZoom>te.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(null!=te.minPitch&&null!=te.maxPitch&&te.minPitch>te.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(null!=te.minPitch&&te.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(null!=te.maxPitch&&te.maxPitch>60)throw new Error("maxPitch must be less than or equal to 60");var Re=new mi(te.minZoom,te.maxZoom,te.minPitch,te.maxPitch,te.renderWorldCopies);if(V.call(this,Re,te),this._interactive=te.interactive,this._maxTileCacheSize=te.maxTileCacheSize,this._failIfMajorPerformanceCaveat=te.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=te.preserveDrawingBuffer,this._antialias=te.antialias,this._trackResize=te.trackResize,this._bearingSnap=te.bearingSnap,this._refreshExpiredTiles=te.refreshExpiredTiles,this._fadeDuration=te.fadeDuration,this._crossSourceCollisions=te.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=te.collectResourceTiming,this._renderTaskQueue=new dl,this._controls=[],this._mapId=f.uniqueId(),this._locale=f.extend({},xu,te.locale),this._requestManager=new f.RequestManager(te.transformRequest,te.accessToken),"string"==typeof te.container){if(this._container=f.window.document.getElementById(te.container),!this._container)throw new Error("Container '"+te.container+"' not found.")}else{if(!(te.container instanceof io))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=te.container}if(te.maxBounds&&this.setMaxBounds(te.maxBounds),f.bindAll(["_onWindowOnline","_onWindowResize","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),void 0===this.painter)throw new Error("Failed to initialize WebGL.");this.on("move",function(){return be._update(!1)}),this.on("moveend",function(){return be._update(!1)}),this.on("zoom",function(){return be._update(!0)}),void 0!==f.window&&(f.window.addEventListener("online",this._onWindowOnline,!1),f.window.addEventListener("resize",this._onWindowResize,!1)),this.handlers=new Si(this,te),this._hash=te.hash&&new aa("string"==typeof te.hash&&te.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:te.center,zoom:te.zoom,bearing:te.bearing,pitch:te.pitch}),te.bounds&&(this.resize(),this.fitBounds(te.bounds,f.extend({},te.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=te.localIdeographFontFamily,te.style&&this.setStyle(te.style,{localIdeographFontFamily:te.localIdeographFontFamily}),te.attributionControl&&this.addControl(new es({customAttribution:te.customAttribution})),this.addControl(new ca,te.logoPosition),this.on("style.load",function(){be.transform.unmodified&&be.jumpTo(be.style.stylesheet)}),this.on("data",function(ie){be._update("style"===ie.dataType),be.fire(new f.Event(ie.dataType+"data",ie))}),this.on("dataloading",function(ie){be.fire(new f.Event(ie.dataType+"dataloading",ie))})}V&&($.__proto__=V),($.prototype=Object.create(V&&V.prototype)).constructor=$;var W={showTileBoundaries:{configurable:!0},showPadding:{configurable:!0},showCollisionBoxes:{configurable:!0},showOverdrawInspector:{configurable:!0},repaint:{configurable:!0},vertices:{configurable:!0},version:{configurable:!0}};return $.prototype._getMapId=function(){return this._mapId},$.prototype.addControl=function(te,be){if(void 0===be&&te.getDefaultPosition&&(be=te.getDefaultPosition()),void 0===be&&(be="top-right"),!te||!te.onAdd)return this.fire(new f.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));var Re=te.onAdd(this);this._controls.push(te);var H=this._controlPositions[be];return-1!==be.indexOf("bottom")?H.insertBefore(Re,H.firstChild):H.appendChild(Re),this},$.prototype.removeControl=function(te){if(!te||!te.onRemove)return this.fire(new f.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));var be=this._controls.indexOf(te);return be>-1&&this._controls.splice(be,1),te.onRemove(this),this},$.prototype.resize=function(te){var be=this._containerDimensions(),Re=be[0],H=be[1];this._resizeCanvas(Re,H),this.transform.resize(Re,H),this.painter.resize(Re,H);var ie=!this._moving;return ie&&(this.stop(),this.fire(new f.Event("movestart",te)).fire(new f.Event("move",te))),this.fire(new f.Event("resize",te)),ie&&this.fire(new f.Event("moveend",te)),this},$.prototype.getBounds=function(){return this.transform.getBounds()},$.prototype.getMaxBounds=function(){return this.transform.getMaxBounds()},$.prototype.setMaxBounds=function(te){return this.transform.setMaxBounds(f.LngLatBounds.convert(te)),this._update()},$.prototype.setMinZoom=function(te){if((te=te??-2)>=-2&&te<=this.transform.maxZoom)return this.transform.minZoom=te,this._update(),this.getZoom()<te&&this.setZoom(te),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")},$.prototype.getMinZoom=function(){return this.transform.minZoom},$.prototype.setMaxZoom=function(te){if((te=te??22)>=this.transform.minZoom)return this.transform.maxZoom=te,this._update(),this.getZoom()>te&&this.setZoom(te),this;throw new Error("maxZoom must be greater than the current minZoom")},$.prototype.getMaxZoom=function(){return this.transform.maxZoom},$.prototype.setMinPitch=function(te){if((te=te??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(te>=0&&te<=this.transform.maxPitch)return this.transform.minPitch=te,this._update(),this.getPitch()<te&&this.setPitch(te),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")},$.prototype.getMinPitch=function(){return this.transform.minPitch},$.prototype.setMaxPitch=function(te){if((te=te??60)>60)throw new Error("maxPitch must be less than or equal to 60");if(te>=this.transform.minPitch)return this.transform.maxPitch=te,this._update(),this.getPitch()>te&&this.setPitch(te),this;throw new Error("maxPitch must be greater than the current minPitch")},$.prototype.getMaxPitch=function(){return this.transform.maxPitch},$.prototype.getRenderWorldCopies=function(){return this.transform.renderWorldCopies},$.prototype.setRenderWorldCopies=function(te){return this.transform.renderWorldCopies=te,this._update()},$.prototype.project=function(te){return this.transform.locationPoint(f.LngLat.convert(te))},$.prototype.unproject=function(te){return this.transform.pointLocation(f.Point.convert(te))},$.prototype.isMoving=function(){return this._moving||this.handlers.isMoving()},$.prototype.isZooming=function(){return this._zooming||this.handlers.isZooming()},$.prototype.isRotating=function(){return this._rotating||this.handlers.isRotating()},$.prototype._createDelegatedListener=function(te,be,Re){var H,ie=this;if("mouseenter"===te||"mouseover"===te){var fe=!1;return{layer:be,listener:Re,delegates:{mousemove:function(Ce){var Fe=ie.getLayer(be)?ie.queryRenderedFeatures(Ce.point,{layers:[be]}):[];Fe.length?fe||(fe=!0,Re.call(ie,new _i(te,ie,Ce.originalEvent,{features:Fe}))):fe=!1},mouseout:function(){fe=!1}}}}if("mouseleave"===te||"mouseout"===te){var Me=!1;return{layer:be,listener:Re,delegates:{mousemove:function(Ce){(ie.getLayer(be)?ie.queryRenderedFeatures(Ce.point,{layers:[be]}):[]).length?Me=!0:Me&&(Me=!1,Re.call(ie,new _i(te,ie,Ce.originalEvent)))},mouseout:function(Ce){Me&&(Me=!1,Re.call(ie,new _i(te,ie,Ce.originalEvent)))}}}}return{layer:be,listener:Re,delegates:(H={},H[te]=function(Ce){var Fe=ie.getLayer(be)?ie.queryRenderedFeatures(Ce.point,{layers:[be]}):[];Fe.length&&(Ce.features=Fe,Re.call(ie,Ce),delete Ce.features)},H)}},$.prototype.on=function(te,be,Re){if(void 0===Re)return V.prototype.on.call(this,te,be);var H=this._createDelegatedListener(te,be,Re);for(var ie in this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[te]=this._delegatedListeners[te]||[],this._delegatedListeners[te].push(H),H.delegates)this.on(ie,H.delegates[ie]);return this},$.prototype.once=function(te,be,Re){if(void 0===Re)return V.prototype.once.call(this,te,be);var H=this._createDelegatedListener(te,be,Re);for(var ie in H.delegates)this.once(ie,H.delegates[ie]);return this},$.prototype.off=function(te,be,Re){var H=this;return void 0===Re?V.prototype.off.call(this,te,be):(this._delegatedListeners&&this._delegatedListeners[te]&&function(ie){for(var fe=ie[te],Me=0;Me<fe.length;Me++){var Ce=fe[Me];if(Ce.layer===be&&Ce.listener===Re){for(var Fe in Ce.delegates)H.off(Fe,Ce.delegates[Fe]);return fe.splice(Me,1),H}}}(this._delegatedListeners),this)},$.prototype.queryRenderedFeatures=function(te,be){if(!this.style)return[];var Re;if(void 0!==be||void 0===te||te instanceof f.Point||Array.isArray(te)||(be=te,te=void 0),be=be||{},(te=te||[[0,0],[this.transform.width,this.transform.height]])instanceof f.Point||"number"==typeof te[0])Re=[f.Point.convert(te)];else{var H=f.Point.convert(te[0]),ie=f.Point.convert(te[1]);Re=[H,new f.Point(ie.x,H.y),ie,new f.Point(H.x,ie.y),H]}return this.style.queryRenderedFeatures(Re,be,this.transform)},$.prototype.querySourceFeatures=function(te,be){return this.style.querySourceFeatures(te,be)},$.prototype.setStyle=function(te,be){return!1!==(be=f.extend({},{localIdeographFontFamily:this._localIdeographFontFamily},be)).diff&&be.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&te?(this._diffStyle(te,be),this):(this._localIdeographFontFamily=be.localIdeographFontFamily,this._updateStyle(te,be))},$.prototype._getUIString=function(te){var be=this._locale[te];if(null==be)throw new Error("Missing UI string '"+te+"'");return be},$.prototype._updateStyle=function(te,be){return this.style&&(this.style.setEventedParent(null),this.style._remove()),te?(this.style=new Ar(this,be||{}),this.style.setEventedParent(this,{style:this.style}),"string"==typeof te?this.style.loadURL(te):this.style.loadJSON(te),this):(delete this.style,this)},$.prototype._lazyInitEmptyStyle=function(){this.style||(this.style=new Ar(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())},$.prototype._diffStyle=function(te,be){var Re=this;if("string"==typeof te){var H=this._requestManager.normalizeStyleURL(te),ie=this._requestManager.transformRequest(H,f.ResourceType.Style);f.getJSON(ie,function(fe,Me){fe?Re.fire(new f.ErrorEvent(fe)):Me&&Re._updateDiff(Me,be)})}else"object"==typeof te&&this._updateDiff(te,be)},$.prototype._updateDiff=function(te,be){try{this.style.setState(te)&&this._update(!0)}catch(Re){f.warnOnce("Unable to perform style diff: "+(Re.message||Re.error||Re)+".  Rebuilding the style from scratch."),this._updateStyle(te,be)}},$.prototype.getStyle=function(){if(this.style)return this.style.serialize()},$.prototype.isStyleLoaded=function(){return this.style?this.style.loaded():f.warnOnce("There is no style added to the map.")},$.prototype.addSource=function(te,be){return this._lazyInitEmptyStyle(),this.style.addSource(te,be),this._update(!0)},$.prototype.isSourceLoaded=function(te){var be=this.style&&this.style.sourceCaches[te];if(void 0!==be)return be.loaded();this.fire(new f.ErrorEvent(new Error("There is no source with ID '"+te+"'")))},$.prototype.areTilesLoaded=function(){var te=this.style&&this.style.sourceCaches;for(var be in te){var Re=te[be]._tiles;for(var H in Re){var ie=Re[H];if("loaded"!==ie.state&&"errored"!==ie.state)return!1}}return!0},$.prototype.addSourceType=function(te,be,Re){return this._lazyInitEmptyStyle(),this.style.addSourceType(te,be,Re)},$.prototype.removeSource=function(te){return this.style.removeSource(te),this._update(!0)},$.prototype.getSource=function(te){return this.style.getSource(te)},$.prototype.addImage=function(te,be,Re){void 0===Re&&(Re={});var H=Re.pixelRatio;void 0===H&&(H=1);var ie=Re.sdf;void 0===ie&&(ie=!1);var fe=Re.stretchX,Me=Re.stretchY,Ce=Re.content;if(this._lazyInitEmptyStyle(),be instanceof Fo||bs&&be instanceof bs){var Fe=f.browser.getImageData(be);this.style.addImage(te,{data:new f.RGBAImage({width:Fe.width,height:Fe.height},Fe.data),pixelRatio:H,stretchX:fe,stretchY:Me,content:Ce,sdf:ie,version:0})}else{if(void 0===be.width||void 0===be.height)return this.fire(new f.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));var At=be;this.style.addImage(te,{data:new f.RGBAImage({width:be.width,height:be.height},new Uint8Array(be.data)),pixelRatio:H,stretchX:fe,stretchY:Me,content:Ce,sdf:ie,version:0,userImage:At}),At.onAdd&&At.onAdd(this,te)}},$.prototype.updateImage=function(te,be){var Re=this.style.getImage(te);if(!Re)return this.fire(new f.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));var H=be instanceof Fo||bs&&be instanceof bs?f.browser.getImageData(be):be,ie=H.width,fe=H.height,Me=H.data;return void 0===ie||void 0===fe?this.fire(new f.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`"))):ie!==Re.data.width||fe!==Re.data.height?this.fire(new f.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image"))):(Re.data.replace(Me,!(be instanceof Fo||bs&&be instanceof bs)),void this.style.updateImage(te,Re))},$.prototype.hasImage=function(te){return te?!!this.style.getImage(te):(this.fire(new f.ErrorEvent(new Error("Missing required image id"))),!1)},$.prototype.removeImage=function(te){this.style.removeImage(te)},$.prototype.loadImage=function(te,be){f.getImage(this._requestManager.transformRequest(te,f.ResourceType.Image),be)},$.prototype.listImages=function(){return this.style.listImages()},$.prototype.addLayer=function(te,be){return this._lazyInitEmptyStyle(),this.style.addLayer(te,be),this._update(!0)},$.prototype.moveLayer=function(te,be){return this.style.moveLayer(te,be),this._update(!0)},$.prototype.removeLayer=function(te){return this.style.removeLayer(te),this._update(!0)},$.prototype.getLayer=function(te){return this.style.getLayer(te)},$.prototype.setLayerZoomRange=function(te,be,Re){return this.style.setLayerZoomRange(te,be,Re),this._update(!0)},$.prototype.setFilter=function(te,be,Re){return void 0===Re&&(Re={}),this.style.setFilter(te,be,Re),this._update(!0)},$.prototype.getFilter=function(te){return this.style.getFilter(te)},$.prototype.setPaintProperty=function(te,be,Re,H){return void 0===H&&(H={}),this.style.setPaintProperty(te,be,Re,H),this._update(!0)},$.prototype.getPaintProperty=function(te,be){return this.style.getPaintProperty(te,be)},$.prototype.setLayoutProperty=function(te,be,Re,H){return void 0===H&&(H={}),this.style.setLayoutProperty(te,be,Re,H),this._update(!0)},$.prototype.getLayoutProperty=function(te,be){return this.style.getLayoutProperty(te,be)},$.prototype.setLight=function(te,be){return void 0===be&&(be={}),this._lazyInitEmptyStyle(),this.style.setLight(te,be),this._update(!0)},$.prototype.getLight=function(){return this.style.getLight()},$.prototype.setFeatureState=function(te,be){return this.style.setFeatureState(te,be),this._update()},$.prototype.removeFeatureState=function(te,be){return this.style.removeFeatureState(te,be),this._update()},$.prototype.getFeatureState=function(te){return this.style.getFeatureState(te)},$.prototype.getContainer=function(){return this._container},$.prototype.getCanvasContainer=function(){return this._canvasContainer},$.prototype.getCanvas=function(){return this._canvas},$.prototype._containerDimensions=function(){var te=0,be=0;return this._container&&(te=this._container.clientWidth||400,be=this._container.clientHeight||300),[te,be]},$.prototype._detectMissingCSS=function(){"rgb(250, 128, 114)"!==f.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")&&f.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")},$.prototype._setupContainer=function(){var te=this._container;te.classList.add("mapboxgl-map"),(this._missingCSSCanary=M.create("div","mapboxgl-canary",te)).style.visibility="hidden",this._detectMissingCSS();var be=this._canvasContainer=M.create("div","mapboxgl-canvas-container",te);this._interactive&&be.classList.add("mapboxgl-interactive"),this._canvas=M.create("canvas","mapboxgl-canvas",be),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map");var Re=this._containerDimensions();this._resizeCanvas(Re[0],Re[1]);var H=this._controlContainer=M.create("div","mapboxgl-control-container",te),ie=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(function(fe){ie[fe]=M.create("div","mapboxgl-ctrl-"+fe,H)})},$.prototype._resizeCanvas=function(te,be){var Re=f.browser.devicePixelRatio||1;this._canvas.width=Re*te,this._canvas.height=Re*be,this._canvas.style.width=te+"px",this._canvas.style.height=be+"px"},$.prototype._setupPainter=function(){var te=f.extend({},S.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),be=this._canvas.getContext("webgl",te)||this._canvas.getContext("experimental-webgl",te);be?(this.painter=new Cr(be,this.transform),f.webpSupported.testSupport(be)):this.fire(new f.ErrorEvent(new Error("Failed to initialize WebGL")))},$.prototype._contextLost=function(te){te.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new f.Event("webglcontextlost",{originalEvent:te}))},$.prototype._contextRestored=function(te){this._setupPainter(),this.resize(),this._update(),this.fire(new f.Event("webglcontextrestored",{originalEvent:te}))},$.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()},$.prototype._update=function(te){return this.style?(this._styleDirty=this._styleDirty||te,this._sourcesDirty=!0,this.triggerRepaint(),this):this},$.prototype._requestRenderFrame=function(te){return this._update(),this._renderTaskQueue.add(te)},$.prototype._cancelRenderFrame=function(te){this._renderTaskQueue.remove(te)},$.prototype._render=function(te){var be,Re=this,H=0,ie=this.painter.context.extTimerQuery;if(this.listens("gpu-timing-frame")&&(be=ie.createQueryEXT(),ie.beginQueryEXT(ie.TIME_ELAPSED_EXT,be),H=f.browser.now()),this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(te),!this._removed){var fe=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;var Me=this.transform.zoom,Ce=f.browser.now();this.style.zoomHistory.update(Me,Ce);var Fe=new f.EvaluationParameters(Me,{now:Ce,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),$e=Fe.crossFadingFactor();1===$e&&$e===this._crossFadingFactor||(fe=!0,this._crossFadingFactor=$e),this.style.update(Fe)}if(this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:this._fadeDuration,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer")}),this.fire(new f.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new f.Event("load"))),this.style&&(this.style.hasTransitions()||fe)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this.listens("gpu-timing-frame")){var Xe=f.browser.now()-H;ie.endQueryEXT(ie.TIME_ELAPSED_EXT,be),setTimeout(function(){var nt=ie.getQueryObjectEXT(be,ie.QUERY_RESULT_EXT)/1e6;ie.deleteQueryEXT(be),Re.fire(new f.Event("gpu-timing-frame",{cpuTime:Xe,gpuTime:nt}))},50)}if(this.listens("gpu-timing-layer")){var Qe=this.painter.collectGpuTimers();setTimeout(function(){var nt=Re.painter.queryGpuTimers(Qe);Re.fire(new f.Event("gpu-timing-layer",{layerTimes:nt}))},50)}return this._sourcesDirty||this._styleDirty||this._placementDirty||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&(this._fullyLoaded||(this._fullyLoaded=!0),this.fire(new f.Event("idle"))),this}},$.prototype.remove=function(){this._hash&&this._hash.remove();for(var te=0,be=this._controls;te<be.length;te+=1)be[te].onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),void 0!==f.window&&(f.window.removeEventListener("resize",this._onWindowResize,!1),f.window.removeEventListener("online",this._onWindowOnline,!1));var Re=this.painter.context.gl.getExtension("WEBGL_lose_context");Re&&Re.loseContext(),Gl(this._canvasContainer),Gl(this._controlContainer),Gl(this._missingCSSCanary),this._container.classList.remove("mapboxgl-map"),this._removed=!0,this.fire(new f.Event("remove"))},$.prototype.triggerRepaint=function(){var te=this;this.style&&!this._frame&&(this._frame=f.browser.frame(function(be){te._frame=null,te._render(be)}))},$.prototype._onWindowOnline=function(){this._update()},$.prototype._onWindowResize=function(te){this._trackResize&&this.resize({originalEvent:te})._update()},W.showTileBoundaries.get=function(){return!!this._showTileBoundaries},W.showTileBoundaries.set=function(te){this._showTileBoundaries!==te&&(this._showTileBoundaries=te,this._update())},W.showPadding.get=function(){return!!this._showPadding},W.showPadding.set=function(te){this._showPadding!==te&&(this._showPadding=te,this._update())},W.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},W.showCollisionBoxes.set=function(te){this._showCollisionBoxes!==te&&(this._showCollisionBoxes=te,te?this.style._generateCollisionBoxes():this._update())},W.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},W.showOverdrawInspector.set=function(te){this._showOverdrawInspector!==te&&(this._showOverdrawInspector=te,this._update())},W.repaint.get=function(){return!!this._repaint},W.repaint.set=function(te){this._repaint!==te&&(this._repaint=te,this.triggerRepaint())},W.vertices.get=function(){return!!this._vertices},W.vertices.set=function(te){this._vertices=te,this._update()},$.prototype._setCacheLimits=function(te,be){f.setCacheLimits(te,be)},W.version.get=function(){return f.version},Object.defineProperties($.prototype,W),$}(Hl);function Gl(V){V.parentNode&&V.parentNode.removeChild(V)}var fc={showCompass:!0,showZoom:!0,visualizePitch:!1},ua=function(V){var $=this;this.options=f.extend({},fc,V),this._container=M.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",function(W){return W.preventDefault()}),this.options.showZoom&&(f.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",function(W){return $._map.zoomIn({},{originalEvent:W})}),M.create("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden",!0),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",function(W){return $._map.zoomOut({},{originalEvent:W})}),M.create("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden",!0)),this.options.showCompass&&(f.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",function(W){$.options.visualizePitch?$._map.resetNorthPitch({},{originalEvent:W}):$._map.resetNorth({},{originalEvent:W})}),this._compassIcon=M.create("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden",!0))};ua.prototype._updateZoomButtons=function(){var V=this._map.getZoom();this._zoomInButton.disabled=V===this._map.getMaxZoom(),this._zoomOutButton.disabled=V===this._map.getMinZoom()},ua.prototype._rotateCompassArrow=function(){var V=this.options.visualizePitch?"scale("+1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)+") rotateX("+this._map.transform.pitch+"deg) rotateZ("+this._map.transform.angle*(180/Math.PI)+"deg)":"rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassIcon.style.transform=V},ua.prototype.onAdd=function(V){return this._map=V,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new Sa(this._map,this._compass,this.options.visualizePitch)),this._container},ua.prototype.onRemove=function(){M.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map},ua.prototype._createButton=function(V,$){var W=M.create("button",V,this._container);return W.type="button",W.addEventListener("click",$),W},ua.prototype._setButtonTitle=function(V,$){var W=this._map._getUIString("NavigationControl."+$);V.title=W,V.setAttribute("aria-label",W)};var Sa=function(V,$,W){void 0===W&&(W=!1),this._clickTolerance=10,this.element=$,this.mouseRotate=new Qi({clickTolerance:V.dragRotate._mouseRotate._clickTolerance}),this.map=V,W&&(this.mousePitch=new Rl({clickTolerance:V.dragRotate._mousePitch._clickTolerance})),f.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),M.addEventListener($,"mousedown",this.mousedown),M.addEventListener($,"touchstart",this.touchstart,{passive:!1}),M.addEventListener($,"touchmove",this.touchmove),M.addEventListener($,"touchend",this.touchend),M.addEventListener($,"touchcancel",this.reset)};function ti(V,$,W){if(V=new f.LngLat(V.lng,V.lat),$){var te=new f.LngLat(V.lng-360,V.lat),be=new f.LngLat(V.lng+360,V.lat),Re=W.locationPoint(V).distSqr($);W.locationPoint(te).distSqr($)<Re?V=te:W.locationPoint(be).distSqr($)<Re&&(V=be)}for(;Math.abs(V.lng-W.center.lng)>180;){var H=W.locationPoint(V);if(H.x>=0&&H.y>=0&&H.x<=W.width&&H.y<=W.height)break;V.lng>W.center.lng?V.lng-=360:V.lng+=360}return V}Sa.prototype.down=function(V,$){this.mouseRotate.mousedown(V,$),this.mousePitch&&this.mousePitch.mousedown(V,$),M.disableDrag()},Sa.prototype.move=function(V,$){var W=this.map,te=this.mouseRotate.mousemoveWindow(V,$);if(te&&te.bearingDelta&&W.setBearing(W.getBearing()+te.bearingDelta),this.mousePitch){var be=this.mousePitch.mousemoveWindow(V,$);be&&be.pitchDelta&&W.setPitch(W.getPitch()+be.pitchDelta)}},Sa.prototype.off=function(){var V=this.element;M.removeEventListener(V,"mousedown",this.mousedown),M.removeEventListener(V,"touchstart",this.touchstart,{passive:!1}),M.removeEventListener(V,"touchmove",this.touchmove),M.removeEventListener(V,"touchend",this.touchend),M.removeEventListener(V,"touchcancel",this.reset),this.offTemp()},Sa.prototype.offTemp=function(){M.enableDrag(),M.removeEventListener(f.window,"mousemove",this.mousemove),M.removeEventListener(f.window,"mouseup",this.mouseup)},Sa.prototype.mousedown=function(V){this.down(f.extend({},V,{ctrlKey:!0,preventDefault:function(){return V.preventDefault()}}),M.mousePos(this.element,V)),M.addEventListener(f.window,"mousemove",this.mousemove),M.addEventListener(f.window,"mouseup",this.mouseup)},Sa.prototype.mousemove=function(V){this.move(V,M.mousePos(this.element,V))},Sa.prototype.mouseup=function(V){this.mouseRotate.mouseupWindow(V),this.mousePitch&&this.mousePitch.mouseupWindow(V),this.offTemp()},Sa.prototype.touchstart=function(V){1!==V.targetTouches.length?this.reset():(this._startPos=this._lastPos=M.touchPos(this.element,V.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:function(){return V.preventDefault()}},this._startPos))},Sa.prototype.touchmove=function(V){1!==V.targetTouches.length?this.reset():(this._lastPos=M.touchPos(this.element,V.targetTouches)[0],this.move({preventDefault:function(){return V.preventDefault()}},this._lastPos))},Sa.prototype.touchend=function(V){0===V.targetTouches.length&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()},Sa.prototype.reset=function(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()};var ni={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function Dc(V,$,W){var te=V.classList;for(var be in ni)te.remove("mapboxgl-"+W+"-anchor-"+be);te.add("mapboxgl-"+W+"-anchor-"+$)}var ka,pl=function(V){function $(W,te){var be=this;if(V.call(this),(W instanceof f.window.HTMLElement||te)&&(W=f.extend({element:W},te)),f.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress"],this),this._anchor=W&&W.anchor||"center",this._color=W&&W.color||"#3FB1CE",this._draggable=W&&W.draggable||!1,this._state="inactive",this._rotation=W&&W.rotation||0,this._rotationAlignment=W&&W.rotationAlignment||"auto",this._pitchAlignment=W&&W.pitchAlignment&&"auto"!==W.pitchAlignment?W.pitchAlignment:this._rotationAlignment,W&&W.element)this._element=W.element,this._offset=f.Point.convert(W&&W.offset||[0,0]);else{this._defaultMarker=!0,this._element=M.create("div"),this._element.setAttribute("aria-label","Map marker");var Re=M.createNS("http://www.w3.org/2000/svg","svg");Re.setAttributeNS(null,"display","block"),Re.setAttributeNS(null,"height","41px"),Re.setAttributeNS(null,"width","27px"),Re.setAttributeNS(null,"viewBox","0 0 27 41");var H=M.createNS("http://www.w3.org/2000/svg","g");H.setAttributeNS(null,"stroke","none"),H.setAttributeNS(null,"stroke-width","1"),H.setAttributeNS(null,"fill","none"),H.setAttributeNS(null,"fill-rule","evenodd");var ie=M.createNS("http://www.w3.org/2000/svg","g");ie.setAttributeNS(null,"fill-rule","nonzero");var fe=M.createNS("http://www.w3.org/2000/svg","g");fe.setAttributeNS(null,"transform","translate(3.0, 29.0)"),fe.setAttributeNS(null,"fill","#000000");for(var Me=0,Ce=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];Me<Ce.length;Me+=1){var Fe=Ce[Me],$e=M.createNS("http://www.w3.org/2000/svg","ellipse");$e.setAttributeNS(null,"opacity","0.04"),$e.setAttributeNS(null,"cx","10.5"),$e.setAttributeNS(null,"cy","5.80029008"),$e.setAttributeNS(null,"rx",Fe.rx),$e.setAttributeNS(null,"ry",Fe.ry),fe.appendChild($e)}var Xe=M.createNS("http://www.w3.org/2000/svg","g");Xe.setAttributeNS(null,"fill",this._color);var Qe=M.createNS("http://www.w3.org/2000/svg","path");Qe.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),Xe.appendChild(Qe);var nt=M.createNS("http://www.w3.org/2000/svg","g");nt.setAttributeNS(null,"opacity","0.25"),nt.setAttributeNS(null,"fill","#000000");var lt=M.createNS("http://www.w3.org/2000/svg","path");lt.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),nt.appendChild(lt);var _t=M.createNS("http://www.w3.org/2000/svg","g");_t.setAttributeNS(null,"transform","translate(6.0, 7.0)"),_t.setAttributeNS(null,"fill","#FFFFFF");var At=M.createNS("http://www.w3.org/2000/svg","g");At.setAttributeNS(null,"transform","translate(8.0, 8.0)");var jt=M.createNS("http://www.w3.org/2000/svg","circle");jt.setAttributeNS(null,"fill","#000000"),jt.setAttributeNS(null,"opacity","0.25"),jt.setAttributeNS(null,"cx","5.5"),jt.setAttributeNS(null,"cy","5.5"),jt.setAttributeNS(null,"r","5.4999962");var Ht=M.createNS("http://www.w3.org/2000/svg","circle");Ht.setAttributeNS(null,"fill","#FFFFFF"),Ht.setAttributeNS(null,"cx","5.5"),Ht.setAttributeNS(null,"cy","5.5"),Ht.setAttributeNS(null,"r","5.4999962"),At.appendChild(jt),At.appendChild(Ht),ie.appendChild(fe),ie.appendChild(Xe),ie.appendChild(nt),ie.appendChild(_t),ie.appendChild(At),Re.appendChild(ie),this._element.appendChild(Re),this._offset=f.Point.convert(W&&W.offset||[0,-14])}this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",function(zt){zt.preventDefault()}),this._element.addEventListener("mousedown",function(zt){zt.preventDefault()}),this._element.addEventListener("focus",function(){var zt=be._map.getContainer();zt.scrollTop=0,zt.scrollLeft=0}),Dc(this._element,this._anchor,"marker"),this._popup=null}return V&&($.__proto__=V),($.prototype=Object.create(V&&V.prototype)).constructor=$,$.prototype.addTo=function(W){return this.remove(),this._map=W,W.getCanvasContainer().appendChild(this._element),W.on("move",this._update),W.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this},$.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),M.remove(this._element),this._popup&&this._popup.remove(),this},$.prototype.getLngLat=function(){return this._lngLat},$.prototype.setLngLat=function(W){return this._lngLat=f.LngLat.convert(W),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},$.prototype.getElement=function(){return this._element},$.prototype.setPopup=function(W){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),W){if(!("offset"in W.options)){var be=Math.sqrt(Math.pow(13.5,2)/2);W.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[be,-1*(24.6+be)],"bottom-right":[-be,-1*(24.6+be)],left:[13.5,-24.6],right:[-13.5,-24.6]}:this._offset}this._popup=W,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this},$.prototype._onKeyPress=function(W){var te=W.code,be=W.charCode||W.keyCode;"Space"!==te&&"Enter"!==te&&32!==be&&13!==be||this.togglePopup()},$.prototype._onMapClick=function(W){var te=W.originalEvent.target,be=this._element;this._popup&&(te===be||be.contains(te))&&this.togglePopup()},$.prototype.getPopup=function(){return this._popup},$.prototype.togglePopup=function(){var W=this._popup;return W?(W.isOpen()?W.remove():W.addTo(this._map),this):this},$.prototype._update=function(W){if(this._map){this._map.transform.renderWorldCopies&&(this._lngLat=ti(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);var te="";"viewport"===this._rotationAlignment||"auto"===this._rotationAlignment?te="rotateZ("+this._rotation+"deg)":"map"===this._rotationAlignment&&(te="rotateZ("+(this._rotation-this._map.getBearing())+"deg)");var be="";"viewport"===this._pitchAlignment||"auto"===this._pitchAlignment?be="rotateX(0deg)":"map"===this._pitchAlignment&&(be="rotateX("+this._map.getPitch()+"deg)"),W&&"moveend"!==W.type||(this._pos=this._pos.round()),M.setTransform(this._element,ni[this._anchor]+" translate("+this._pos.x+"px, "+this._pos.y+"px) "+be+" "+te)}},$.prototype.getOffset=function(){return this._offset},$.prototype.setOffset=function(W){return this._offset=f.Point.convert(W),this._update(),this},$.prototype._onMove=function(W){this._pos=W.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none","pending"===this._state&&(this._state="active",this.fire(new f.Event("dragstart"))),this.fire(new f.Event("drag"))},$.prototype._onUp=function(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),"active"===this._state&&this.fire(new f.Event("dragend")),this._state="inactive"},$.prototype._addDragHandler=function(W){this._element.contains(W.originalEvent.target)&&(W.preventDefault(),this._positionDelta=W.point.sub(this._pos).add(this._offset),this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},$.prototype.setDraggable=function(W){return this._draggable=!!W,this._map&&(W?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this},$.prototype.isDraggable=function(){return this._draggable},$.prototype.setRotation=function(W){return this._rotation=W||0,this._update(),this},$.prototype.getRotation=function(){return this._rotation},$.prototype.setRotationAlignment=function(W){return this._rotationAlignment=W||"auto",this._update(),this},$.prototype.getRotationAlignment=function(){return this._rotationAlignment},$.prototype.setPitchAlignment=function(W){return this._pitchAlignment=W&&"auto"!==W?W:this._rotationAlignment,this._update(),this},$.prototype.getPitchAlignment=function(){return this._pitchAlignment},$}(f.Evented),Ea={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0},Oc=0,Ca=!1,ts=function(V){function $(W){V.call(this),this.options=f.extend({},Ea,W),f.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker"],this)}return V&&($.__proto__=V),($.prototype=Object.create(V&&V.prototype)).constructor=$,$.prototype.onAdd=function(W){return this._map=W,this._container=M.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),te=this._setupUI,void 0!==ka?te(ka):void 0!==f.window.navigator.permissions?f.window.navigator.permissions.query({name:"geolocation"}).then(function(be){te(ka="denied"!==be.state)}):te(ka=!!f.window.navigator.geolocation),this._container;var te},$.prototype.onRemove=function(){void 0!==this._geolocationWatchID&&(f.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),M.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,Oc=0,Ca=!1},$.prototype._isOutOfMapMaxBounds=function(W){var te=this._map.getMaxBounds(),be=W.coords;return te&&(be.longitude<te.getWest()||be.longitude>te.getEast()||be.latitude<te.getSouth()||be.latitude>te.getNorth())},$.prototype._setErrorState=function(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}},$.prototype._onSuccess=function(W){if(this._map){if(this._isOutOfMapMaxBounds(W))return this._setErrorState(),this.fire(new f.Event("outofmaxbounds",W)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=W,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&"OFF"!==this._watchState&&this._updateMarker(W),this.options.trackUserLocation&&"ACTIVE_LOCK"!==this._watchState||this._updateCamera(W),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new f.Event("geolocate",W)),this._finish()}},$.prototype._updateCamera=function(W){var te=new f.LngLat(W.coords.longitude,W.coords.latitude),be=W.coords.accuracy,Re=this._map.getBearing(),H=f.extend({bearing:Re},this.options.fitBoundsOptions);this._map.fitBounds(te.toBounds(be),H,{geolocateSource:!0})},$.prototype._updateMarker=function(W){if(W){var te=new f.LngLat(W.coords.longitude,W.coords.latitude);this._accuracyCircleMarker.setLngLat(te).addTo(this._map),this._userLocationDotMarker.setLngLat(te).addTo(this._map),this._accuracy=W.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},$.prototype._updateCircleRadius=function(){var W=this._map._container.clientHeight/2,te=this._map.unproject([0,W]),be=this._map.unproject([1,W]),Re=te.distanceTo(be),H=Math.ceil(2*this._accuracy/Re);this._circleElement.style.width=H+"px",this._circleElement.style.height=H+"px"},$.prototype._onZoom=function(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},$.prototype._onError=function(W){if(this._map){if(this.options.trackUserLocation)if(1===W.code){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;var te=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=te,this._geolocateButton.setAttribute("aria-label",te),void 0!==this._geolocationWatchID&&this._clearWatch()}else{if(3===W.code&&Ca)return;this._setErrorState()}"OFF"!==this._watchState&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new f.Event("error",W)),this._finish()}},$.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},$.prototype._setupUI=function(W){var te=this;if(this._container.addEventListener("contextmenu",function(H){return H.preventDefault()}),this._geolocateButton=M.create("button","mapboxgl-ctrl-geolocate",this._container),M.create("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden",!0),this._geolocateButton.type="button",!1===W){f.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");var be=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=be,this._geolocateButton.setAttribute("aria-label",be)}else{var Re=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=Re,this._geolocateButton.setAttribute("aria-label",Re)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=M.create("div","mapboxgl-user-location-dot"),this._userLocationDotMarker=new pl(this._dotElement),this._circleElement=M.create("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new pl({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",function(H){H.geolocateSource||"ACTIVE_LOCK"!==te._watchState||H.originalEvent&&"resize"===H.originalEvent.type||(te._watchState="BACKGROUND",te._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),te._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),te.fire(new f.Event("trackuserlocationend")))})},$.prototype.trigger=function(){if(!this._setup)return f.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new f.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":Oc--,Ca=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new f.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new f.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}if("OFF"===this._watchState&&void 0!==this._geolocationWatchID)this._clearWatch();else if(void 0===this._geolocationWatchID){var W;this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),++Oc>1?(W={maximumAge:6e5,timeout:0},Ca=!0):(W=this.options.positionOptions,Ca=!1),this._geolocationWatchID=f.window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,W)}}else f.window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0},$.prototype._clearWatch=function(){f.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)},$}(f.Evented),ml={maxWidth:100,unit:"metric"},si=function(V){this.options=f.extend({},ml,V),f.bindAll(["_onMove","setUnit"],this)};function qo(V,$,W){var te=W&&W.maxWidth||100,be=V._container.clientHeight/2,Re=V.unproject([0,be]),H=V.unproject([te,be]),ie=Re.distanceTo(H);if(W&&"imperial"===W.unit){var fe=3.2808*ie;fe>5280?Ls($,te,fe/5280,V._getUIString("ScaleControl.Miles")):Ls($,te,fe,V._getUIString("ScaleControl.Feet"))}else W&&"nautical"===W.unit?Ls($,te,ie/1852,V._getUIString("ScaleControl.NauticalMiles")):ie>=1e3?Ls($,te,ie/1e3,V._getUIString("ScaleControl.Kilometers")):Ls($,te,ie,V._getUIString("ScaleControl.Meters"))}function Ls(V,$,W,te){var be,Re,H,Me,Ce,ie=(be=W,(Re=Math.pow(10,(""+Math.floor(be)).length-1))*((H=be/Re)>=10?10:H>=5?5:H>=3?3:H>=2?2:H>=1?1:(Me=H,Ce=Math.pow(10,Math.ceil(-Math.log(Me)/Math.LN10)),Math.round(Me*Ce)/Ce)));V.style.width=$*(ie/W)+"px",V.innerHTML=ie+"&nbsp;"+te}si.prototype.getDefaultPosition=function(){return"bottom-left"},si.prototype._onMove=function(){qo(this._map,this._container,this.options)},si.prototype.onAdd=function(V){return this._map=V,this._container=M.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",V.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},si.prototype.onRemove=function(){M.remove(this._container),this._map.off("move",this._onMove),this._map=void 0},si.prototype.setUnit=function(V){this.options.unit=V,qo(this._map,this._container,this.options)};var ns=function(V){this._fullscreen=!1,V&&V.container&&(V.container instanceof f.window.HTMLElement?this._container=V.container:f.warnOnce("Full screen control 'container' must be a DOM element.")),f.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in f.window.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in f.window.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in f.window.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in f.window.document&&(this._fullscreenchange="MSFullscreenChange")};ns.prototype.onAdd=function(V){return this._map=V,this._container||(this._container=this._map.getContainer()),this._controlContainer=M.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",f.warnOnce("This device does not support fullscreen mode.")),this._controlContainer},ns.prototype.onRemove=function(){M.remove(this._controlContainer),this._map=null,f.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)},ns.prototype._checkFullscreenSupport=function(){return!!(f.window.document.fullscreenEnabled||f.window.document.mozFullScreenEnabled||f.window.document.msFullscreenEnabled||f.window.document.webkitFullscreenEnabled)},ns.prototype._setupUI=function(){var V=this._fullscreenButton=M.create("button","mapboxgl-ctrl-fullscreen",this._controlContainer);M.create("span","mapboxgl-ctrl-icon",V).setAttribute("aria-hidden",!0),V.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),f.window.document.addEventListener(this._fullscreenchange,this._changeIcon)},ns.prototype._updateTitle=function(){var V=this._getTitle();this._fullscreenButton.setAttribute("aria-label",V),this._fullscreenButton.title=V},ns.prototype._getTitle=function(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")},ns.prototype._isFullscreen=function(){return this._fullscreen},ns.prototype._changeIcon=function(){(f.window.document.fullscreenElement||f.window.document.mozFullScreenElement||f.window.document.webkitFullscreenElement||f.window.document.msFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())},ns.prototype._onClickFullscreen=function(){this._isFullscreen()?f.window.document.exitFullscreen?f.window.document.exitFullscreen():f.window.document.mozCancelFullScreen?f.window.document.mozCancelFullScreen():f.window.document.msExitFullscreen?f.window.document.msExitFullscreen():f.window.document.webkitCancelFullScreen&&f.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()};var ql={closeButton:!0,closeOnClick:!0,className:"",maxWidth:"240px"},dc=function(V){function $(W){V.call(this),this.options=f.extend(Object.create(ql),W),f.bindAll(["_update","_onClose","remove","_onMouseMove","_onMouseUp","_onDrag"],this)}return V&&($.__proto__=V),($.prototype=Object.create(V&&V.prototype)).constructor=$,$.prototype.addTo=function(W){return this._map&&this.remove(),this._map=W,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")):this._map.on("move",this._update),this.fire(new f.Event("open")),this},$.prototype.isOpen=function(){return!!this._map},$.prototype.remove=function(){return this._content&&M.remove(this._content),this._container&&(M.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new f.Event("close")),this},$.prototype.getLngLat=function(){return this._lngLat},$.prototype.setLngLat=function(W){return this._lngLat=f.LngLat.convert(W),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.remove("mapboxgl-track-pointer")),this},$.prototype.trackPointer=function(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")),this},$.prototype.getElement=function(){return this._container},$.prototype.setText=function(W){return this.setDOMContent(f.window.document.createTextNode(W))},$.prototype.setHTML=function(W){var te,be=f.window.document.createDocumentFragment(),Re=f.window.document.createElement("body");for(Re.innerHTML=W;te=Re.firstChild;)be.appendChild(te);return this.setDOMContent(be)},$.prototype.getMaxWidth=function(){return this._container&&this._container.style.maxWidth},$.prototype.setMaxWidth=function(W){return this.options.maxWidth=W,this._update(),this},$.prototype.setDOMContent=function(W){return this._createContent(),this._content.appendChild(W),this._update(),this},$.prototype.addClassName=function(W){this._container&&this._container.classList.add(W)},$.prototype.removeClassName=function(W){this._container&&this._container.classList.remove(W)},$.prototype.toggleClassName=function(W){if(this._container)return this._container.classList.toggle(W)},$.prototype._createContent=function(){this._content&&M.remove(this._content),this._content=M.create("div","mapboxgl-popup-content",this._container),this.options.closeButton&&(this._closeButton=M.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))},$.prototype._onMouseUp=function(W){this._update(W.point)},$.prototype._onMouseMove=function(W){this._update(W.point)},$.prototype._onDrag=function(W){this._update(W.point)},$.prototype._update=function(W){var te=this;if(this._map&&(this._lngLat||this._trackPointer)&&this._content&&(this._container||(this._container=M.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=M.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach(function($e){return te._container.classList.add($e)}),this._trackPointer&&this._container.classList.add("mapboxgl-popup-track-pointer")),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=ti(this._lngLat,this._pos,this._map.transform)),!this._trackPointer||W)){var Re=this._pos=this._trackPointer&&W?W:this._map.project(this._lngLat),H=this.options.anchor,ie=hc(this.options.offset);if(!H){var fe,Me=this._container.offsetWidth,Ce=this._container.offsetHeight;fe=Re.y+ie.bottom.y<Ce?["top"]:Re.y>this._map.transform.height-Ce?["bottom"]:[],Re.x<Me/2?fe.push("left"):Re.x>this._map.transform.width-Me/2&&fe.push("right"),H=0===fe.length?"bottom":fe.join("-")}var Fe=Re.add(ie[H]).round();M.setTransform(this._container,ni[H]+" translate("+Fe.x+"px,"+Fe.y+"px)"),Dc(this._container,H,"popup")}},$.prototype._onClose=function(){this.remove()},$}(f.Evented);function hc(V){if(V){if("number"==typeof V){var $=Math.round(Math.sqrt(.5*Math.pow(V,2)));return{center:new f.Point(0,0),top:new f.Point(0,V),"top-left":new f.Point($,$),"top-right":new f.Point(-$,$),bottom:new f.Point(0,-V),"bottom-left":new f.Point($,-$),"bottom-right":new f.Point(-$,-$),left:new f.Point(V,0),right:new f.Point(-V,0)}}if(V instanceof f.Point||Array.isArray(V)){var W=f.Point.convert(V);return{center:W,top:W,"top-left":W,"top-right":W,bottom:W,"bottom-left":W,"bottom-right":W,left:W,right:W}}return{center:f.Point.convert(V.center||[0,0]),top:f.Point.convert(V.top||[0,0]),"top-left":f.Point.convert(V["top-left"]||[0,0]),"top-right":f.Point.convert(V["top-right"]||[0,0]),bottom:f.Point.convert(V.bottom||[0,0]),"bottom-left":f.Point.convert(V["bottom-left"]||[0,0]),"bottom-right":f.Point.convert(V["bottom-right"]||[0,0]),left:f.Point.convert(V.left||[0,0]),right:f.Point.convert(V.right||[0,0])}}return hc(new f.Point(0,0))}var vl={version:f.version,supported:S,setRTLTextPlugin:f.setRTLTextPlugin,getRTLTextPluginStatus:f.getRTLTextPluginStatus,Map:bu,NavigationControl:ua,GeolocateControl:ts,AttributionControl:es,ScaleControl:si,FullscreenControl:ns,Popup:dc,Marker:pl,Style:Ar,LngLat:f.LngLat,LngLatBounds:f.LngLatBounds,Point:f.Point,MercatorCoordinate:f.MercatorCoordinate,Evented:f.Evented,config:f.config,prewarm:function(){Tt().acquire(ut)},clearPrewarmedResources:function(){var V=St;V&&(V.isPreloaded()&&1===V.numActive()?(V.release(ut),St=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get accessToken(){return f.config.ACCESS_TOKEN},set accessToken(V){f.config.ACCESS_TOKEN=V},get baseApiUrl(){return f.config.API_URL},set baseApiUrl(V){f.config.API_URL=V},get workerCount(){return ft.workerCount},set workerCount(V){ft.workerCount=V},get maxParallelImageRequests(){return f.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(V){f.config.MAX_PARALLEL_IMAGE_REQUESTS=V},clearStorage:function(V){f.clearTileCache(V)},workerUrl:""};return vl}),I}()},27084:function(oe){"use strict";oe.exports=Math.log2||function(j){return Math.log(j)*Math.LOG2E}},16825:function(oe,j,r){"use strict";oe.exports=function(E,f){f||(f=E,E=window);var S=0,M=0,y=0,u={shift:!1,alt:!1,control:!1,meta:!1},i=!1;function s(g){var w=!1;return"altKey"in g&&(w=w||g.altKey!==u.alt,u.alt=!!g.altKey),"shiftKey"in g&&(w=w||g.shiftKey!==u.shift,u.shift=!!g.shiftKey),"ctrlKey"in g&&(w=w||g.ctrlKey!==u.control,u.control=!!g.ctrlKey),"metaKey"in g&&(w=w||g.metaKey!==u.meta,u.meta=!!g.metaKey),w}function a(g,w){var x=I.x(w),b=I.y(w);"buttons"in w&&(g=0|w.buttons),(g!==S||x!==M||b!==y||s(w))&&(S=0|g,M=x||0,y=b||0,f&&f(S,M,y,u))}function o(g){a(0,g)}function l(){(S||M||y||u.shift||u.alt||u.meta||u.control)&&(M=y=0,S=0,u.shift=u.alt=u.control=u.meta=!1,f&&f(0,0,0,u))}function c(g){s(g)&&f&&f(S,M,y,u)}function h(g){0===I.buttons(g)?a(0,g):a(S,g)}function v(g){a(S|I.buttons(g),g)}function p(g){a(S&~I.buttons(g),g)}function T(){i||(i=!0,E.addEventListener("mousemove",h),E.addEventListener("mousedown",v),E.addEventListener("mouseup",p),E.addEventListener("mouseleave",o),E.addEventListener("mouseenter",o),E.addEventListener("mouseout",o),E.addEventListener("mouseover",o),E.addEventListener("blur",l),E.addEventListener("keyup",c),E.addEventListener("keydown",c),E.addEventListener("keypress",c),E!==window&&(window.addEventListener("blur",l),window.addEventListener("keyup",c),window.addEventListener("keydown",c),window.addEventListener("keypress",c)))}T();var _={element:E};return Object.defineProperties(_,{enabled:{get:function(){return i},set:function(g){g?T():i&&(i=!1,E.removeEventListener("mousemove",h),E.removeEventListener("mousedown",v),E.removeEventListener("mouseup",p),E.removeEventListener("mouseleave",o),E.removeEventListener("mouseenter",o),E.removeEventListener("mouseout",o),E.removeEventListener("mouseover",o),E.removeEventListener("blur",l),E.removeEventListener("keyup",c),E.removeEventListener("keydown",c),E.removeEventListener("keypress",c),E!==window&&(window.removeEventListener("blur",l),window.removeEventListener("keyup",c),window.removeEventListener("keydown",c),window.removeEventListener("keypress",c)))},enumerable:!0},buttons:{get:function(){return S},enumerable:!0},x:{get:function(){return M},enumerable:!0},y:{get:function(){return y},enumerable:!0},mods:{get:function(){return u},enumerable:!0}}),_};var I=r(74311)},48956:function(oe){var j={left:0,top:0};oe.exports=function(r,I,E){I=I||r.currentTarget||r.srcElement,Array.isArray(E)||(E=[0,0]);var f,S=r.clientX||0,M=r.clientY||0,y=(f=I)===window||f===document||f===document.body?j:f.getBoundingClientRect();return E[0]=S-y.left,E[1]=M-y.top,E}},74311:function(oe,j){"use strict";function r(I){return I.target||I.srcElement||window}j.buttons=function(I){if("object"==typeof I){if("buttons"in I)return I.buttons;if("which"in I){if(2===(E=I.which))return 4;if(3===E)return 2;if(E>0)return 1<<E-1}else if("button"in I){var E;if(1===(E=I.button))return 4;if(2===E)return 2;if(E>=0)return 1<<E}}return 0},j.element=r,j.x=function(I){if("object"==typeof I){if("offsetX"in I)return I.offsetX;var E=r(I).getBoundingClientRect();return I.clientX-E.left}return 0},j.y=function(I){if("object"==typeof I){if("offsetY"in I)return I.offsetY;var E=r(I).getBoundingClientRect();return I.clientY-E.top}return 0}},1195:function(oe,j,r){"use strict";var I=r(75686);oe.exports=function(E,f,S){"function"==typeof E&&(S=!!f,f=E,E=window);var M=I("ex",E),y=function(u){S&&u.preventDefault();var i=u.deltaX||0,s=u.deltaY||0,a=u.deltaZ||0,o=1;switch(u.deltaMode){case 1:o=M;break;case 2:o=window.innerHeight}if(s*=o,a*=o,(i*=o)||s||a)return f(i,s,a,u)};return E.addEventListener("wheel",y),y}},7417:function(oe,j,r){var I,E,f;(f=void 0!==r.g?r.g:this)[E="Promise"]=f[E]||function(){"use strict";var M,y,u,i=Object.prototype.toString,s=typeof setImmediate<"u"?function(x){return setImmediate(x)}:setTimeout;try{Object.defineProperty({},"x",{}),M=function(x,b,A,m){return Object.defineProperty(x,b,{value:A,writable:!0,configurable:!1!==m})}}catch{M=function(b,A,m){return b[A]=m,b}}function a(x,b){u.add(x,b),y||(y=s(u.drain))}function o(x){var b,A=typeof x;return null==x||"object"!=A&&"function"!=A||(b=x.then),"function"==typeof b&&b}function l(){for(var x=0;x<this.chain.length;x++)c(this,1===this.state?this.chain[x].success:this.chain[x].failure,this.chain[x]);this.chain.length=0}function c(x,b,A){var m,C;try{!1===b?A.reject(x.msg):(m=!0===b?x.msg:b.call(void 0,x.msg))===A.promise?A.reject(TypeError("Promise-chain cycle")):(C=o(m))?C.call(m,A.resolve,A.reject):A.resolve(m)}catch(k){A.reject(k)}}function h(x){var b,A=this;if(!A.triggered){A.triggered=!0,A.def&&(A=A.def);try{(b=o(x))?a(function(){var m=new T(A);try{b.call(x,function(){h.apply(m,arguments)},function(){v.apply(m,arguments)})}catch(C){v.call(m,C)}}):(A.msg=x,A.state=1,A.chain.length>0&&a(l,A))}catch(m){v.call(new T(A),m)}}}function v(x){var b=this;b.triggered||(b.triggered=!0,b.def&&(b=b.def),b.msg=x,b.state=2,b.chain.length>0&&a(l,b))}function p(x,b,A,m){for(var C=0;C<b.length;C++)!function(k){x.resolve(b[k]).then(function(P){A(k,P)},m)}(C)}function T(x){this.def=x,this.triggered=!1}function _(x){this.promise=x,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function g(x){if("function"!=typeof x)throw TypeError("Not a function");if(0!==this.__NPO__)throw TypeError("Not a promise");this.__NPO__=1;var b=new _(this);this.then=function(A,m){var C={success:"function"!=typeof A||A,failure:"function"==typeof m&&m};return C.promise=new this.constructor(function(k,P){if("function"!=typeof k||"function"!=typeof P)throw TypeError("Not a function");C.resolve=k,C.reject=P}),b.chain.push(C),0!==b.state&&a(l,b),C.promise},this.catch=function(A){return this.then(void 0,A)};try{x.call(void 0,function(A){h.call(b,A)},function(A){v.call(b,A)})}catch(A){v.call(b,A)}}u=function(){var x,b,A;function m(C,k){this.fn=C,this.self=k,this.next=void 0}return{add:function(C,k){A=new m(C,k),b?b.next=A:x=A,b=A,A=void 0},drain:function(){var C=x;for(x=b=y=void 0;C;)C.fn.call(C.self),C=C.next}}}();var w=M({},"constructor",g,!1);return g.prototype=w,M(w,"__NPO__",0,!1),M(g,"resolve",function(x){return x&&"object"==typeof x&&1===x.__NPO__?x:new this(function(b,A){if("function"!=typeof b||"function"!=typeof A)throw TypeError("Not a function");b(x)})}),M(g,"reject",function(x){return new this(function(b,A){if("function"!=typeof b||"function"!=typeof A)throw TypeError("Not a function");A(x)})}),M(g,"all",function(x){var b=this;return"[object Array]"!=i.call(x)?b.reject(TypeError("Not an array")):0===x.length?b.resolve([]):new b(function(A,m){if("function"!=typeof A||"function"!=typeof m)throw TypeError("Not a function");var C=x.length,k=Array(C),P=0;p(b,x,function(R,L){k[R]=L,++P===C&&A(k)},m)})}),M(g,"race",function(x){var b=this;return"[object Array]"!=i.call(x)?b.reject(TypeError("Not an array")):new b(function(A,m){if("function"!=typeof A||"function"!=typeof m)throw TypeError("Not a function");p(b,x,function(C,k){A(k)},m)})}),g}(),oe.exports?oe.exports=f[E]:void 0===(I=function(){return f[E]}.call(j,r,j,oe))||(oe.exports=I)},18625:function(oe){var j=Math.PI,r=M(120);function I(y,u,i,s){return["C",y,u,i,s,i,s]}function E(y,u,i,s,a,o){return["C",y/3+.6666666666666666*i,u/3+.6666666666666666*s,a/3+.6666666666666666*i,o/3+.6666666666666666*s,a,o]}function f(y,u,i,s,a,o,l,c,h,v){if(v)C=v[0],k=v[1],A=v[2],m=v[3];else{var p=S(y,u,-a);u=p.y;var T=((y=p.x)-(c=(p=S(c,h,-a)).x))/2,_=(u-(h=p.y))/2,g=T*T/(i*i)+_*_/(s*s);g>1&&(i*=g=Math.sqrt(g),s*=g);var w=i*i,x=s*s,b=(o==l?-1:1)*Math.sqrt(Math.abs((w*x-w*_*_-x*T*T)/(w*_*_+x*T*T)));b==1/0&&(b=1);var A=b*i*_/s+(y+c)/2,m=b*-s*T/i+(u+h)/2,C=Math.asin(((u-m)/s).toFixed(9)),k=Math.asin(((h-m)/s).toFixed(9));(C=y<A?j-C:C)<0&&(C=2*j+C),(k=c<A?j-k:k)<0&&(k=2*j+k),l&&C>k&&(C-=2*j),!l&&k>C&&(k-=2*j)}if(Math.abs(k-C)>r){var P=k,R=c,L=h;k=C+r*(l&&k>C?1:-1);var N=f(c=A+i*Math.cos(k),h=m+s*Math.sin(k),i,s,a,0,l,R,L,[k,P,A,m])}var B=Math.tan((k-C)/4),J=4/3*i*B,z=4/3*s*B,Y=[2*y-(y+J*Math.sin(C)),2*u-(u-z*Math.cos(C)),c+J*Math.sin(k),h-z*Math.cos(k),c,h];if(v)return Y;N&&(Y=Y.concat(N));for(var q=0;q<Y.length;){var U=S(Y[q],Y[q+1],a);Y[q++]=U.x,Y[q++]=U.y}return Y}function S(y,u,i){return{x:y*Math.cos(i)-u*Math.sin(i),y:y*Math.sin(i)+u*Math.cos(i)}}function M(y){return y*(j/180)}oe.exports=function(y){for(var u,i=[],s=0,a=0,o=0,l=0,c=null,h=null,v=0,p=0,T=0,_=y.length;T<_;T++){var g=y[T],w=g[0];switch(w){case"M":o=g[1],l=g[2];break;case"A":(g=f(v,p,g[1],g[2],M(g[3]),g[4],g[5],g[6],g[7])).unshift("C"),g.length>7&&(i.push(g.splice(0,7)),g.unshift("C"));break;case"S":var x=v,b=p;"C"!=u&&"S"!=u||(x+=x-s,b+=b-a),g=["C",x,b,g[1],g[2],g[3],g[4]];break;case"T":"Q"==u||"T"==u?(c=2*v-c,h=2*p-h):(c=v,h=p),g=E(v,p,c,h,g[1],g[2]);break;case"Q":c=g[1],h=g[2],g=E(v,p,g[1],g[2],g[3],g[4]);break;case"L":g=I(v,p,g[1],g[2]);break;case"H":g=I(v,p,g[1],p);break;case"V":g=I(v,p,v,g[1]);break;case"Z":g=I(v,p,o,l)}u=w,v=g[g.length-2],p=g[g.length-1],g.length>4?(s=g[g.length-4],a=g[g.length-3]):(s=v,a=p),i.push(g)}return i}},56131:function(oe){"use strict";var j=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,I=Object.prototype.propertyIsEnumerable;oe.exports=function(){try{if(!Object.assign)return!1;var E=new String("abc");if(E[5]="de","5"===Object.getOwnPropertyNames(E)[0])return!1;for(var f={},S=0;S<10;S++)f["_"+String.fromCharCode(S)]=S;if("0123456789"!==Object.getOwnPropertyNames(f).map(function(y){return f[y]}).join(""))return!1;var M={};return"abcdefghijklmnopqrst".split("").forEach(function(y){M[y]=y}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},M)).join("")}catch{return!1}}()?Object.assign:function(E,f){for(var S,M,y=function(a){if(null==a)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(a)}(E),u=1;u<arguments.length;u++){for(var i in S=Object(arguments[u]))r.call(S,i)&&(y[i]=S[i]);if(j){M=j(S);for(var s=0;s<M.length;s++)I.call(S,M[s])&&(y[M[s]]=S[M[s]])}}return y}},65848:function(oe){"use strict";var j=function(r){return r!=r};oe.exports=function(r,I){return 0===r&&0===I?1/r==1/I:r===I||!(!j(r)||!j(I))}},64003:function(oe,j,r){"use strict";var I=r(17045),E=r(68222),f=r(65848),S=r(27015),M=r(55572),y=E(S(),Object);I(y,{getPolyfill:S,implementation:f,shim:M}),oe.exports=y},27015:function(oe,j,r){"use strict";var I=r(65848);oe.exports=function(){return"function"==typeof Object.is?Object.is:I}},55572:function(oe,j,r){"use strict";var I=r(27015),E=r(17045);oe.exports=function(){var f=I();return E(Object,{is:f},{is:function(){return Object.is!==f}}),f}},99019:function(oe,j,r){"use strict";var I;if(!Object.keys){var E=Object.prototype.hasOwnProperty,f=Object.prototype.toString,S=r(64178),M=Object.prototype.propertyIsEnumerable,y=!M.call({toString:null},"toString"),u=M.call(function(){},"prototype"),i=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],s=function(l){var c=l.constructor;return c&&c.prototype===l},a={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},o=function(){if(typeof window>"u")return!1;for(var l in window)try{if(!a["$"+l]&&E.call(window,l)&&null!==window[l]&&"object"==typeof window[l])try{s(window[l])}catch{return!0}}catch{return!0}return!1}();I=function(l){var c=null!==l&&"object"==typeof l,h="[object Function]"===f.call(l),v=S(l),p=c&&"[object String]"===f.call(l),T=[];if(!c&&!h&&!v)throw new TypeError("Object.keys called on a non-object");var _=u&&h;if(p&&l.length>0&&!E.call(l,0))for(var g=0;g<l.length;++g)T.push(String(g));if(v&&l.length>0)for(var w=0;w<l.length;++w)T.push(String(w));else for(var x in l)_&&"prototype"===x||!E.call(l,x)||T.push(String(x));if(y)for(var b=function(m){if(typeof window>"u"||!o)return s(m);try{return s(m)}catch{return!1}}(l),A=0;A<i.length;++A)b&&"constructor"===i[A]||!E.call(l,i[A])||T.push(i[A]);return T}}oe.exports=I},8709:function(oe,j,r){"use strict";var I=Array.prototype.slice,E=r(64178),f=Object.keys,S=f?function(y){return f(y)}:r(99019),M=Object.keys;S.shim=function(){if(Object.keys){var y=function(){var u=Object.keys(arguments);return u&&u.length===arguments.length}(1,2);y||(Object.keys=function(u){return E(u)?M(I.call(u)):M(u)})}else Object.keys=S;return Object.keys||S},oe.exports=S},64178:function(oe){"use strict";var j=Object.prototype.toString;oe.exports=function(r){var I=j.call(r),E="[object Arguments]"===I;return E||(E="[object Array]"!==I&&null!==r&&"object"==typeof r&&"number"==typeof r.length&&r.length>=0&&"[object Function]"===j.call(r.callee)),E}},88641:function(oe){"use strict";function j(E,f){if("string"!=typeof E)return[E];var S=[E];"string"==typeof f||Array.isArray(f)?f={brackets:f}:f||(f={});var M=f.brackets?Array.isArray(f.brackets)?f.brackets:[f.brackets]:["{}","[]","()"],y=f.escape||"___",u=!!f.flat;M.forEach(function(s){var a=new RegExp(["\\",s[0],"[^\\",s[0],"\\",s[1],"]*\\",s[1]].join("")),o=[];function l(c,h,v){var p=S.push(c.slice(s[0].length,-s[1].length))-1;return o.push(p),y+p+y}S.forEach(function(c,h){for(var v,p=0;c!=v;)if(v=c,c=c.replace(a,l),p++>1e4)throw Error("References have circular dependency. Please, check them.");S[h]=c}),o=o.reverse(),S=S.map(function(c){return o.forEach(function(h){c=c.replace(new RegExp("(\\"+y+h+"\\"+y+")","g"),s[0]+"$1"+s[1])}),c})});var i=new RegExp("\\"+y+"([0-9]+)\\"+y);return u?S:function s(a,o,l){for(var c,h=[],v=0;c=i.exec(a);){if(v++>1e4)throw Error("Circular references in parenthesis");h.push(a.slice(0,c.index)),h.push(s(o[c[1]],o)),a=a.slice(c.index+c[0].length)}return h.push(a),h}(S[0],S)}function r(E,f){if(f&&f.flat){var S,M=f&&f.escape||"___",y=E[0];if(!y)return"";for(var u=new RegExp("\\"+M+"([0-9]+)\\"+M),i=0;y!=S;){if(i++>1e4)throw Error("Circular references in "+E);S=y,y=y.replace(u,s)}return y}return E.reduce(function a(o,l){return Array.isArray(l)&&(l=l.reduce(a,"")),o+l},"");function s(a,o){if(null==E[o])throw Error("Reference "+o+"is undefined");return E[o]}}function I(E,f){return Array.isArray(E)?r(E,f):j(E,f)}I.parse=j,I.stringify=r,oe.exports=I},18863:function(oe,j,r){"use strict";var I=r(71299);oe.exports=function(E){var f;return arguments.length>1&&(E=arguments),"string"==typeof E?E=E.split(/\s/).map(parseFloat):"number"==typeof E&&(E=[E]),E.length&&"number"==typeof E[0]?f=1===E.length?{width:E[0],height:E[0],x:0,y:0}:2===E.length?{width:E[0],height:E[1],x:0,y:0}:{x:E[0],y:E[1],width:E[2]-E[0]||0,height:E[3]-E[1]||0}:E&&((f={x:(E=I(E,{left:"x l left Left",top:"y t top Top",width:"w width W Width",height:"h height W Width",bottom:"b bottom Bottom",right:"r right Right"})).left||0,y:E.top||0}).width=null==E.width?E.right?E.right-f.x:0:E.width,f.height=null==E.height?E.bottom?E.bottom-f.y:0:E.height),f}},95616:function(oe){oe.exports=function(E){var f=[];return E.replace(r,function(S,M,y){var s,u=M.toLowerCase();for(s=void 0,y=(s=y.match(I))?s.map(Number):[],"m"==u&&y.length>2&&(f.push([M].concat(y.splice(0,2))),u="l",M="m"==M?"l":"L");;){if(y.length==j[u])return y.unshift(M),f.push(y);if(y.length<j[u])throw new Error("malformed path data");f.push([M].concat(y.splice(0,j[u])))}}),f};var j={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},r=/([astvzqmhlc])([^astvzqmhlc]*)/gi,I=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/gi},25677:function(oe){oe.exports=function(j,r){r||(r=[0,""]),j=String(j);var I=parseFloat(j,10);return r[0]=I,r[1]=j.match(/[\d.\-\+]*\s*(.*)/)[1]||"",r}},9748:function(oe,j,r){var I=r(90386);(function(){var E,f,S,M,y,u;typeof performance<"u"&&null!==performance&&performance.now?oe.exports=function(){return performance.now()}:null!=I&&I.hrtime?(oe.exports=function(){return(E()-y)/1e6},f=I.hrtime,M=(E=function(){var i;return 1e9*(i=f())[0]+i[1]})(),u=1e9*I.uptime(),y=M-u):Date.now?(oe.exports=function(){return Date.now()-S},S=Date.now()):(oe.exports=function(){return(new Date).getTime()-S},S=(new Date).getTime())}).call(this)},71299:function(oe){"use strict";oe.exports=function(I,E,f){var S,M,y={};if("string"==typeof E&&(E=r(E)),Array.isArray(E)){var u={};for(M=0;M<E.length;M++)u[E[M]]=!0;E=u}for(S in E)E[S]=r(E[S]);var i={};for(S in E){var s=E[S];if(Array.isArray(s))for(M=0;M<s.length;M++){var a=s[M];if(f&&(i[a]=!0),a in I){if(y[S]=I[a],f)for(var o=M;o<s.length;o++)i[s[o]]=!0;break}}else S in I&&(E[S]&&(y[S]=I[S]),f&&(i[S]=!0))}if(f)for(S in I)i[S]||(y[S]=I[S]);return y};var j={};function r(I){return j[I]?j[I]:("string"==typeof I&&(I=j[I]=I.split(/\s*,\s*|\s+/)),I)}},38258:function(oe){oe.exports=function(j,r,I,E){var f=j[0],S=j[1],M=!1;void 0===I&&(I=0),void 0===E&&(E=r.length);for(var y=E-I,u=0,i=y-1;u<y;i=u++){var s=r[u+I][0],a=r[u+I][1],l=r[i+I][1];a>S!=l>S&&f<(r[i+I][0]-s)*(S-a)/(l-a)+s&&(M=!M)}return M}},52142:function(oe,j,r){var I,E=r(69444),f=r(29023),S=r(87263),M=r(11328),y=r(55968),u=r(10670),i=!1,s=f();function a(o,l,c){var h=I.segments(o),v=I.segments(l),p=c(I.combine(h,v));return I.polygon(p)}I={buildLog:function(o){return!0===o?i=E():!1===o&&(i=!1),!1!==i&&i.list},epsilon:function(o){return s.epsilon(o)},segments:function(o){var l=S(!0,s,i);return o.regions.forEach(l.addRegion),{segments:l.calculate(o.inverted),inverted:o.inverted}},combine:function(o,l){return{combined:S(!1,s,i).calculate(o.segments,o.inverted,l.segments,l.inverted),inverted1:o.inverted,inverted2:l.inverted}},selectUnion:function(o){return{segments:y.union(o.combined,i),inverted:o.inverted1||o.inverted2}},selectIntersect:function(o){return{segments:y.intersect(o.combined,i),inverted:o.inverted1&&o.inverted2}},selectDifference:function(o){return{segments:y.difference(o.combined,i),inverted:o.inverted1&&!o.inverted2}},selectDifferenceRev:function(o){return{segments:y.differenceRev(o.combined,i),inverted:!o.inverted1&&o.inverted2}},selectXor:function(o){return{segments:y.xor(o.combined,i),inverted:o.inverted1!==o.inverted2}},polygon:function(o){return{regions:M(o.segments,s,i),inverted:o.inverted}},polygonFromGeoJSON:function(o){return u.toPolygon(I,o)},polygonToGeoJSON:function(o){return u.fromPolygon(I,s,o)},union:function(o,l){return a(o,l,I.selectUnion)},intersect:function(o,l){return a(o,l,I.selectIntersect)},difference:function(o,l){return a(o,l,I.selectDifference)},differenceRev:function(o,l){return a(o,l,I.selectDifferenceRev)},xor:function(o,l){return a(o,l,I.selectXor)}},"object"==typeof window&&(window.PolyBool=I),oe.exports=I},69444:function(oe){oe.exports=function(){var j,r=0,I=!1;function E(f,S){return j.list.push({type:f,data:S?JSON.parse(JSON.stringify(S)):void 0}),j}return j={list:[],segmentId:function(){return r++},checkIntersection:function(f,S){return E("check",{seg1:f,seg2:S})},segmentChop:function(f,S){return E("div_seg",{seg:f,pt:S}),E("chop",{seg:f,pt:S})},statusRemove:function(f){return E("pop_seg",{seg:f})},segmentUpdate:function(f){return E("seg_update",{seg:f})},segmentNew:function(f,S){return E("new_seg",{seg:f,primary:S})},segmentRemove:function(f){return E("rem_seg",{seg:f})},tempStatus:function(f,S,M){return E("temp_status",{seg:f,above:S,below:M})},rewind:function(f){return E("rewind",{seg:f})},status:function(f,S,M){return E("status",{seg:f,above:S,below:M})},vert:function(f){return f===I?j:(I=f,E("vert",{x:f}))},log:function(f){return"string"!=typeof f&&(f=JSON.stringify(f,!1,"  ")),E("log",{txt:f})},reset:function(){return E("reset")},selected:function(f){return E("selected",{segs:f})},chainStart:function(f){return E("chain_start",{seg:f})},chainRemoveHead:function(f,S){return E("chain_rem_head",{index:f,pt:S})},chainRemoveTail:function(f,S){return E("chain_rem_tail",{index:f,pt:S})},chainNew:function(f,S){return E("chain_new",{pt1:f,pt2:S})},chainMatch:function(f){return E("chain_match",{index:f})},chainClose:function(f){return E("chain_close",{index:f})},chainAddHead:function(f,S){return E("chain_add_head",{index:f,pt:S})},chainAddTail:function(f,S){return E("chain_add_tail",{index:f,pt:S})},chainConnect:function(f,S){return E("chain_con",{index1:f,index2:S})},chainReverse:function(f){return E("chain_rev",{index:f})},chainJoin:function(f,S){return E("chain_join",{index1:f,index2:S})},done:function(){return E("done")}}}},29023:function(oe){oe.exports=function(j){"number"!=typeof j&&(j=1e-10);var r={epsilon:function(I){return"number"==typeof I&&(j=I),j},pointAboveOrOnLine:function(I,E,f){var S=E[0],M=E[1];return(f[0]-S)*(I[1]-M)-(f[1]-M)*(I[0]-S)>=-j},pointBetween:function(I,E,f){var M=f[0]-E[0],u=f[1]-E[1],i=(I[0]-E[0])*M+(I[1]-E[1])*u;return!(i<j||i-(M*M+u*u)>-j)},pointsSameX:function(I,E){return Math.abs(I[0]-E[0])<j},pointsSameY:function(I,E){return Math.abs(I[1]-E[1])<j},pointsSame:function(I,E){return r.pointsSameX(I,E)&&r.pointsSameY(I,E)},pointsCompare:function(I,E){return r.pointsSameX(I,E)?r.pointsSameY(I,E)?0:I[1]<E[1]?-1:1:I[0]<E[0]?-1:1},pointsCollinear:function(I,E,f){return Math.abs((I[0]-E[0])*(E[1]-f[1])-(E[0]-f[0])*(I[1]-E[1]))<j},linesIntersect:function(I,E,f,S){var M=E[0]-I[0],y=E[1]-I[1],u=S[0]-f[0],i=S[1]-f[1],s=M*i-y*u;if(Math.abs(s)<j)return!1;var a=I[0]-f[0],o=I[1]-f[1],l=(u*o-i*a)/s,c=(M*o-y*a)/s,h={alongA:0,alongB:0,pt:[I[0]+l*M,I[1]+l*y]};return h.alongA=l<=-j?-2:l<j?-1:l-1<=-j?0:l-1<j?1:2,h.alongB=c<=-j?-2:c<j?-1:c-1<=-j?0:c-1<j?1:2,h},pointInsideRegion:function(I,E){for(var f=I[0],S=I[1],M=E[E.length-1][0],y=E[E.length-1][1],u=!1,i=0;i<E.length;i++){var s=E[i][0],a=E[i][1];a-S>j!=y-S>j&&(M-s)*(S-a)/(y-a)+s-f>j&&(u=!u),M=s,y=a}return u}};return r}},10670:function(oe){oe.exports={toPolygon:function(r,I){function E(M){if(M.length<=0)return r.segments({inverted:!1,regions:[]});function y(s){var a=s.slice(0,s.length-1);return r.segments({inverted:!1,regions:[a]})}for(var u=y(M[0]),i=1;i<M.length;i++)u=r.selectDifference(r.combine(u,y(M[i])));return u}if("Polygon"===I.type)return r.polygon(E(I.coordinates));if("MultiPolygon"===I.type){for(var f=r.segments({inverted:!1,regions:[]}),S=0;S<I.coordinates.length;S++)f=r.selectUnion(r.combine(f,E(I.coordinates[S])));return r.polygon(f)}throw new Error("PolyBool: Cannot convert GeoJSON object to PolyBool polygon")},fromPolygon:function(r,I,E){function f(c,h){return I.pointInsideRegion([.5*(c[0][0]+c[1][0]),.5*(c[0][1]+c[1][1])],h)}function S(c){return{region:c,children:[]}}E=r.polygon(r.segments(E));var M=S(null);function y(c,h){for(var v=0;v<c.children.length;v++)if(f(h,(T=c.children[v]).region))return void y(T,h);var p=S(h);for(v=0;v<c.children.length;v++){var T;f((T=c.children[v]).region,h)&&(p.children.push(T),c.children.splice(v,1),v--)}c.children.push(p)}for(var u=0;u<E.regions.length;u++){var i=E.regions[u];i.length<3||y(M,i)}function s(c,h){for(var v=0,p=c[c.length-1][0],T=c[c.length-1][1],_=[],g=0;g<c.length;g++){var w=c[g][0],x=c[g][1];_.push([w,x]),v+=x*p-w*T,p=w,T=x}return v<0!==h&&_.reverse(),_.push([_[0][0],_[0][1]]),_}var a=[];function o(c){var h=[s(c.region,!1)];a.push(h);for(var v=0;v<c.children.length;v++)h.push(l(c.children[v]))}function l(c){for(var h=0;h<c.children.length;h++)o(c.children[h]);return s(c.region,!0)}for(u=0;u<M.children.length;u++)o(M.children[u]);return a.length<=0?{type:"Polygon",coordinates:[]}:1==a.length?{type:"Polygon",coordinates:a[0]}:{type:"MultiPolygon",coordinates:a}}}},87263:function(oe,j,r){var I=r(26859);oe.exports=function(E,f,S){function M(o,l,c){return{id:S?S.segmentId():-1,start:o,end:l,myFill:{above:c.myFill.above,below:c.myFill.below},otherFill:null}}var y=I.create();function u(o,l){y.insertBefore(o,function(c){return h=o.isStart,p=l,T=c.isStart,g=c.other.pt,(0!==(w=f.pointsCompare(o.pt,_=c.pt))?w:f.pointsSame(p,g)?0:h!==T?h?1:-1:f.pointAboveOrOnLine(p,T?_:g,T?g:_)?1:-1)<0;var h,p,T,_,g,w})}function i(o,l){var h,p,c=(u(p=I.node({isStart:!0,pt:(h=o).start,seg:h,primary:l,other:null,status:null}),h.end),p);return function(h,v,p){var T=I.node({isStart:!1,pt:v.end,seg:v,primary:p,other:h,status:null});h.other=T,u(T,h.pt)}(c,o,l),c}function s(o,l){var h,v,c=M(l,o.seg.end,o.seg);return h=o,v=l,S&&S.segmentChop(h.seg,v),h.other.remove(),h.seg.end=v,h.other.pt=v,u(h.other,h.pt),i(c,o.primary)}function a(o,l){var c=I.create();function h(P){return c.findTransition(function(R){var L,N,B,J,z,Y;return J=(L=P).seg.end,(f.pointsCollinear(B=L.seg.start,z=(N=R.ev).seg.start,Y=N.seg.end)?f.pointsCollinear(J,z,Y)||f.pointAboveOrOnLine(J,z,Y)?1:-1:f.pointAboveOrOnLine(B,z,Y)?1:-1)>0})}function v(P,R){var L=P.seg,N=R.seg,B=L.start,J=L.end,z=N.start,Y=N.end;S&&S.checkIntersection(L,N);var q=f.linesIntersect(B,J,z,Y);if(!1===q){if(!f.pointsCollinear(B,J,z)||f.pointsSame(B,Y)||f.pointsSame(J,z))return!1;var U=f.pointsSame(B,z),Z=f.pointsSame(J,Y);if(U&&Z)return R;var X=!U&&f.pointBetween(B,z,Y),se=!Z&&f.pointBetween(J,z,Y);if(U)return se?s(R,J):s(P,Y),R;X&&(Z||(se?s(R,J):s(P,Y)),s(R,B))}else 0===q.alongA&&(-1===q.alongB?s(P,z):0===q.alongB?s(P,q.pt):1===q.alongB&&s(P,Y)),0===q.alongB&&(-1===q.alongA?s(R,B):0===q.alongA?s(R,q.pt):1===q.alongA&&s(R,J));return!1}for(var p=[];!y.isEmpty();){var T=y.getHead();if(S&&S.vert(T.pt[0]),T.isStart){let P=function(){if(g){var R=v(T,g);if(R)return R}return!!w&&v(T,w)};S&&S.segmentNew(T.seg,T.primary);var _=h(T),g=_.before?_.before.ev:null,w=_.after?_.after.ev:null;S&&S.tempStatus(T.seg,!!g&&g.seg,!!w&&w.seg);var x,b,A=P();if(A&&(E?(b=null===T.seg.myFill.below||T.seg.myFill.above!==T.seg.myFill.below)&&(A.seg.myFill.above=!A.seg.myFill.above):A.seg.otherFill=T.seg.myFill,S&&S.segmentUpdate(A.seg),T.other.remove(),T.remove()),y.getHead()!==T){S&&S.rewind(T.seg);continue}E?(b=null===T.seg.myFill.below||T.seg.myFill.above!==T.seg.myFill.below,T.seg.myFill.below=w?w.seg.myFill.above:o,T.seg.myFill.above=b?!T.seg.myFill.below:T.seg.myFill.below):null===T.seg.otherFill&&(T.seg.otherFill={above:x=w?T.primary===w.primary?w.seg.otherFill.above:w.seg.myFill.above:T.primary?l:o,below:x}),S&&S.status(T.seg,!!g&&g.seg,!!w&&w.seg),T.other.status=_.insert(I.node({ev:T}))}else{var m=T.status;if(null===m)throw new Error("PolyBool: Zero-length segment detected; your epsilon is probably too small or too large");if(c.exists(m.prev)&&c.exists(m.next)&&v(m.prev.ev,m.next.ev),S&&S.statusRemove(m.ev.seg),m.remove(),!T.primary){var C=T.seg.myFill;T.seg.myFill=T.seg.otherFill,T.seg.otherFill=C}p.push(T.seg)}y.getHead().remove()}return S&&S.done(),p}return E?{addRegion:function(o){for(var l,c,h,v=o[o.length-1],p=0;p<o.length;p++){var T=f.pointsCompare(l=v,v=o[p]);0!==T&&i((c=T<0?l:v,h=T<0?v:l,{id:S?S.segmentId():-1,start:c,end:h,myFill:{above:null,below:null},otherFill:null}),!0)}},calculate:function(o){return a(o,!1)}}:{calculate:function(o,l,c,h){return o.forEach(function(v){i(M(v.start,v.end,v),!0)}),c.forEach(function(v){i(M(v.start,v.end,v),!1)}),a(l,h)}}}},26859:function(oe){oe.exports={create:function(){var j={root:{root:!0,next:null},exists:function(r){return null!==r&&r!==j.root},isEmpty:function(){return null===j.root.next},getHead:function(){return j.root.next},insertBefore:function(r,I){for(var E=j.root,f=j.root.next;null!==f;){if(I(f))return r.prev=f.prev,r.next=f,f.prev.next=r,void(f.prev=r);E=f,f=f.next}E.next=r,r.prev=E,r.next=null},findTransition:function(r){for(var I=j.root,E=j.root.next;null!==E&&!r(E);)I=E,E=E.next;return{before:I===j.root?null:I,after:E,insert:function(f){return f.prev=I,f.next=E,I.next=f,null!==E&&(E.prev=f),f}}}};return j},node:function(j){return j.prev=null,j.next=null,j.remove=function(){j.prev.next=j.next,j.next&&(j.next.prev=j.prev),j.prev=null,j.next=null},j}}},11328:function(oe){oe.exports=function(j,r,I){var E=[],f=[];return j.forEach(function(S){var M=S.start,y=S.end;if(r.pointsSame(M,y))console.warn("PolyBool: Warning: Zero-length segment detected; your epsilon is probably too small or too large");else{I&&I.chainStart(S);for(var u={index:0,matches_head:!1,matches_pt1:!1},i={index:0,matches_head:!1,matches_pt1:!1},s=u,a=0;a<E.length;a++){var o=(p=E[a])[0],l=p[p.length-1];if(r.pointsSame(o,M)){if(m(a,!0,!0))break}else if(r.pointsSame(o,y)){if(m(a,!0,!1))break}else if(r.pointsSame(l,M)){if(m(a,!1,!0))break}else if(r.pointsSame(l,y)&&m(a,!1,!1))break}if(s===u)return E.push([M,y]),void(I&&I.chainNew(M,y));if(s===i){I&&I.chainMatch(u.index);var c=u.index,h=u.matches_pt1?y:M,v=u.matches_head,p=E[c],T=v?p[0]:p[p.length-1],_=v?p[1]:p[p.length-2],g=v?p[p.length-1]:p[0],w=v?p[p.length-2]:p[1];return r.pointsCollinear(_,T,h)&&(v?(I&&I.chainRemoveHead(u.index,h),p.shift()):(I&&I.chainRemoveTail(u.index,h),p.pop()),T=_),r.pointsSame(g,h)?(E.splice(c,1),r.pointsCollinear(w,g,T)&&(v?(I&&I.chainRemoveTail(u.index,T),p.pop()):(I&&I.chainRemoveHead(u.index,T),p.shift())),I&&I.chainClose(u.index),void f.push(p)):void(v?(I&&I.chainAddHead(u.index,h),p.unshift(h)):(I&&I.chainAddTail(u.index,h),p.push(h)))}var x=u.index,b=i.index;I&&I.chainConnect(x,b);var A=E[x].length<E[b].length;u.matches_head?i.matches_head?A?(C(x),k(x,b)):(C(b),k(b,x)):k(b,x):i.matches_head?k(x,b):A?(C(x),k(b,x)):(C(b),k(x,b))}function m(P,R,L){return s.index=P,s.matches_head=R,s.matches_pt1=L,s===u?(s=i,!1):(s=null,!0)}function C(P){I&&I.chainReverse(P),E[P].reverse()}function k(P,R){var L=E[P],N=E[R],B=L[L.length-1],J=L[L.length-2],z=N[0],Y=N[1];r.pointsCollinear(J,B,z)&&(I&&I.chainRemoveTail(P,B),L.pop(),B=J),r.pointsCollinear(B,z,Y)&&(I&&I.chainRemoveHead(R,z),N.shift()),I&&I.chainJoin(P,R),E[P]=L.concat(N),E.splice(R,1)}}),f}},55968:function(oe){function j(I,E,f){var S=[];return I.forEach(function(M){var y=(M.myFill.above?8:0)+(M.myFill.below?4:0)+(M.otherFill&&M.otherFill.above?2:0)+(M.otherFill&&M.otherFill.below?1:0);0!==E[y]&&S.push({id:f?f.segmentId():-1,start:M.start,end:M.end,myFill:{above:1===E[y],below:2===E[y]},otherFill:null})}),f&&f.selected(S),S}oe.exports={union:function(I,E){return j(I,[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0],E)},intersect:function(I,E){return j(I,[0,0,0,0,0,2,0,2,0,0,1,1,0,2,1,0],E)},difference:function(I,E){return j(I,[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0],E)},differenceRev:function(I,E){return j(I,[0,2,1,0,0,0,1,1,0,2,0,2,0,0,0,0],E)},xor:function(I,E){return j(I,[0,2,1,0,2,0,0,1,1,0,0,2,0,1,2,0],E)}}},14847:function(oe,j,r){"use strict";var I=r(21630).Transform,E=r(90715);function f(){I.call(this,{readableObjectMode:!0})}function S(M,y,u){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack||"",this.name=this.constructor.name,this.message=M,y&&(this.code=y),u&&(this.statusCode=u)}(f.prototype=Object.create(I.prototype)).constructor=f,E(f.prototype),j.OF=function(M,y,u){for(var i=y,s=0;s<u.length;)if(M[i++]!==u[s++])return!1;return!0},j.eG=function(M,y){var u=[],i=0;if(y&&"hex"===y)for(;i<M.length;)u.push(parseInt(M.slice(i,i+2),16)),i+=2;else for(;i<M.length;i++)u.push(255&M.charCodeAt(i));return u},j.mP=function(M,y){return M[y]|M[y+1]<<8},j.n8=function(M,y){return M[y+1]|M[y]<<8},j.nm=function(M,y){return M[y]|M[y+1]<<8|M[y+2]<<16|16777216*M[y+3]},j.Ag=function(M,y){return M[y+3]|M[y+2]<<8|M[y+1]<<16|16777216*M[y]},(S.prototype=Object.create(Error.prototype)).constructor=S},71371:function(oe){"use strict";function j(E,f){var S=new Error(E);return S.code=f,S}function r(E){try{return decodeURIComponent(escape(E))}catch{return E}}function I(E,f,S){this.input=E.subarray(f,S),this.start=f;var M=String.fromCharCode.apply(null,this.input.subarray(0,4));if("II*\0"!==M&&"MM\0*"!==M)throw j("invalid TIFF signature","EBADDATA");this.big_endian="M"===M[0]}I.prototype.each=function(E){this.aborted=!1;var f=this.read_uint32(4);for(this.ifds_to_read=[{id:0,offset:f}];this.ifds_to_read.length>0&&!this.aborted;){var S=this.ifds_to_read.shift();S.offset&&this.scan_ifd(S.id,S.offset,E)}},I.prototype.read_uint16=function(E){var f=this.input;if(E+2>f.length)throw j("unexpected EOF","EBADDATA");return this.big_endian?256*f[E]+f[E+1]:f[E]+256*f[E+1]},I.prototype.read_uint32=function(E){var f=this.input;if(E+4>f.length)throw j("unexpected EOF","EBADDATA");return this.big_endian?16777216*f[E]+65536*f[E+1]+256*f[E+2]+f[E+3]:f[E]+256*f[E+1]+65536*f[E+2]+16777216*f[E+3]},I.prototype.is_subifd_link=function(E,f){return 0===E&&34665===f||0===E&&34853===f||34665===E&&40965===f},I.prototype.exif_format_length=function(E){switch(E){case 1:case 2:case 6:case 7:return 1;case 3:case 8:return 2;case 4:case 9:case 11:return 4;case 5:case 10:case 12:return 8;default:return 0}},I.prototype.exif_format_read=function(E,f){var S;switch(E){case 1:case 2:return this.input[f];case 6:return(S=this.input[f])|33554430*(128&S);case 3:return this.read_uint16(f);case 8:return(S=this.read_uint16(f))|131070*(32768&S);case 4:return this.read_uint32(f);case 9:return 0|this.read_uint32(f);default:return null}},I.prototype.scan_ifd=function(E,f,S){var M=this.read_uint16(f);f+=2;for(var y=0;y<M;y++){var u=this.read_uint16(f),i=this.read_uint16(f+2),s=this.read_uint32(f+4),a=this.exif_format_length(i),o=s*a,l=o<=4?f+8:this.read_uint32(f+8),c=!1;if(l+o>this.input.length)throw j("unexpected EOF","EBADDATA");for(var h=[],v=l,p=0;p<s;p++,v+=a){var T=this.exif_format_read(i,v);if(null===T){h=null;break}h.push(T)}if(Array.isArray(h)&&2===i&&(h=r(String.fromCharCode.apply(null,h)))&&"\0"===h[h.length-1]&&(h=h.slice(0,-1)),this.is_subifd_link(E,u)&&Array.isArray(h)&&Number.isInteger(h[0])&&h[0]>0&&(this.ifds_to_read.push({id:u,offset:h[0]}),c=!0),!1===S({is_big_endian:this.big_endian,ifd:E,tag:u,format:i,count:s,entry_offset:f+this.start,data_length:o,data_offset:l+this.start,value:h,is_subifd_link:c}))return void(this.aborted=!0);f+=12}0===E&&this.ifds_to_read.push({id:1,offset:this.read_uint32(f)})},oe.exports.ExifParser=I,oe.exports.get_orientation=function(E){var f=0;try{return new I(E,0,E.length).each(function(S){if(0===S.ifd&&274===S.tag&&Array.isArray(S.value))return f=S.value[0],!1}),f}catch{return-1}}},76767:function(oe,j,r){"use strict";var I=r(14847).n8,E=r(14847).Ag;function f(s,a){if(s.length<4+a)return null;var o=E(s,a);return s.length<o+a||o<8?null:{boxtype:String.fromCharCode.apply(null,s.slice(a+4,a+8)),data:s.slice(a+8,a+o),end:a+o}}function S(s,a){for(var o=0;;){var l=f(s,o);if(!l)break;switch(l.boxtype){case"ispe":a.sizes.push({width:E(l.data,4),height:E(l.data,8)});break;case"irot":a.transforms.push({type:"irot",value:3&l.data[0]});break;case"imir":a.transforms.push({type:"imir",value:1&l.data[0]})}o=l.end}}function M(s,a,o){for(var l=0,c=0;c<o;c++)l=256*l+(s[a+c]||0);return l}function y(s,a){for(var o=s[4]>>4&15,l=15&s[4],c=s[5]>>4&15,h=I(s,6),v=8,p=0;p<h;p++){var T=I(s,v),_=I(s,v+=2),g=M(s,v+=2,c),w=I(s,v+=c);if(v+=2,0===_&&1===w){var x=M(s,v,o),b=M(s,v+o,l);a.item_loc[T]={length:b,offset:x+g}}v+=w*(o+l)}}function u(s,a){for(var o=I(s,4),l=6,c=0;c<o;c++){var h=f(s,l);if(!h)break;if("infe"===h.boxtype){for(var v=I(h.data,4),p="",T=8;T<h.data.length&&h.data[T];T++)p+=String.fromCharCode(h.data[T]);a.item_inf[p]=v}l=h.end}}function i(s,a){for(var o=0;;){var l=f(s,o);if(!l)break;"ipco"===l.boxtype&&S(l.data,a),o=l.end}}oe.exports.unbox=f,oe.exports.readSizeFromMeta=function(s){var a={sizes:[],transforms:[],item_inf:{},item_loc:{}};if(function(T,_){for(var g=4;;){var w=f(T,g);if(!w)break;"iprp"===w.boxtype&&i(w.data,_),"iloc"===w.boxtype&&y(w.data,_),"iinf"===w.boxtype&&u(w.data,_),g=w.end}}(s,a),a.sizes.length){var o,l,c,h=(l=(o=a.sizes).reduce(function(T,_){return T.width>_.width||T.width===_.width&&T.height>_.height?T:_}),c=o.reduce(function(T,_){return T.height>_.height||T.height===_.height&&T.width>_.width?T:_}),l.width>c.height||l.width===c.height&&l.height>c.width?l:c),v=1;a.transforms.forEach(function(T){var _={1:6,2:5,3:8,4:7,5:4,6:3,7:2,8:1},g={1:4,2:3,3:2,4:1,5:6,6:5,7:8,8:7};if("imir"===T.type&&(v=0===T.value?g[v]:_[v=_[v=g[v]]]),"irot"===T.type)for(var w=0;w<T.value;w++)v=_[v]});var p=null;return a.item_inf.Exif&&(p=a.item_loc[a.item_inf.Exif]),{width:h.width,height:h.height,orientation:a.transforms.length?v:null,variants:a.sizes,exif_location:p}}},oe.exports.getMimeType=function(s){var a=String.fromCharCode.apply(null,s.slice(0,4)),o={};o[a]=!0;for(var l=8;l<s.length;l+=4)o[String.fromCharCode.apply(null,s.slice(l,l+4))]=!0;if(o.mif1||o.msf1||o.miaf)return"avif"===a||"avis"===a||"avio"===a?{type:"avif",mime:"image/avif"}:"heic"===a||"heix"===a?{type:"heic",mime:"image/heic"}:"hevc"===a||"hevx"===a?{type:"heic",mime:"image/heic-sequence"}:o.avif||o.avis?{type:"avif",mime:"image/avif"}:o.heic||o.heix||o.hevc||o.hevx||o.heis?o.msf1?{type:"heif",mime:"image/heif-sequence"}:{type:"heif",mime:"image/heif"}:{type:"avif",mime:"image/avif"}}},24461:function(oe,j,r){"use strict";var I=r(14847).eG,E=r(14847).OF,f=r(14847).Ag,S=r(76767),M=r(71371),y=I("ftyp");oe.exports=function(u){if(E(u,4,y)){var i=S.unbox(u,0);if(i){var s=S.getMimeType(i.data);if(s){for(var a,o=i.end;;){var l=S.unbox(u,o);if(!l)break;if(o=l.end,"mdat"===l.boxtype)return;if("meta"===l.boxtype){a=l.data;break}}if(a){var c=S.readSizeFromMeta(a);if(c){var h={width:c.width,height:c.height,type:s.type,mime:s.mime,wUnits:"px",hUnits:"px"};if(c.variants.length>1&&(h.variants=c.variants),c.orientation&&(h.orientation=c.orientation),c.exif_location&&c.exif_location.offset+c.exif_location.length<=u.length){var v=f(u,c.exif_location.offset),p=u.slice(c.exif_location.offset+v+4,c.exif_location.offset+c.exif_location.length),T=M.get_orientation(p);T>0&&(h.orientation=T)}return h}}}}}}},2504:function(oe,j,r){"use strict";var I=r(14847).eG,E=r(14847).OF,f=r(14847).mP,S=I("BM");oe.exports=function(M){if(!(M.length<26)&&E(M,0,S))return{width:f(M,18),height:f(M,22),type:"bmp",mime:"image/bmp",wUnits:"px",hUnits:"px"}}},47342:function(oe,j,r){"use strict";var I=r(14847).eG,E=r(14847).OF,f=r(14847).mP,S=I("GIF87a"),M=I("GIF89a");oe.exports=function(y){if(!(y.length<10)&&(E(y,0,S)||E(y,0,M)))return{width:f(y,6),height:f(y,8),type:"gif",mime:"image/gif",wUnits:"px",hUnits:"px"}}},31355:function(oe,j,r){"use strict";var I=r(14847).mP;oe.exports=function(E){var f=I(E,0),S=I(E,2),M=I(E,4);if(0===f&&1===S&&M){for(var y=[],u={width:0,height:0},i=0;i<M;i++){var s=E[6+16*i]||256,a=E[6+16*i+1]||256,o={width:s,height:a};y.push(o),(s>u.width||a>u.height)&&(u=o)}return{width:u.width,height:u.height,variants:y,type:"ico",mime:"image/x-icon",wUnits:"px",hUnits:"px"}}}},54261:function(oe,j,r){"use strict";var I=r(14847).n8,E=r(14847).eG,f=r(14847).OF,S=r(71371),M=E("Exif\0\0");oe.exports=function(y){if(!(y.length<2)&&255===y[0]&&216===y[1]&&255===y[2])for(var u=2;;){for(;;){if(y.length-u<2)return;if(255===y[u++])break}for(var i,s,a=y[u++];255===a;)a=y[u++];if(208<=a&&a<=217||1===a)i=0;else{if(!(192<=a&&a<=254)||y.length-u<2)return;i=I(y,u)-2,u+=2}if(217===a||218===a)return;if(225===a&&i>=10&&f(y,u,M)&&(s=S.get_orientation(y.slice(u+6,u+i))),i>=5&&192<=a&&a<=207&&196!==a&&200!==a&&204!==a){if(y.length-u<i)return;var o={width:I(y,u+3),height:I(y,u+1),type:"jpg",mime:"image/jpeg",wUnits:"px",hUnits:"px"};return s>0&&(o.orientation=s),o}u+=i}}},6303:function(oe,j,r){"use strict";var I=r(14847).eG,E=r(14847).OF,f=r(14847).Ag,S=I("\x89PNG\r\n\x1a\n"),M=I("IHDR");oe.exports=function(y){if(!(y.length<24)&&E(y,0,S)&&E(y,12,M))return{width:f(y,16),height:f(y,20),type:"png",mime:"image/png",wUnits:"px",hUnits:"px"}}},38689:function(oe,j,r){"use strict";var I=r(14847).eG,E=r(14847).OF,f=r(14847).Ag,S=I("8BPS\0\x01");oe.exports=function(M){if(!(M.length<22)&&E(M,0,S))return{width:f(M,18),height:f(M,14),type:"psd",mime:"image/vnd.adobe.photoshop",wUnits:"px",hUnits:"px"}}},6881:function(oe){"use strict";function j(u){return"number"==typeof u&&isFinite(u)&&u>0}var r=/<[-_.:a-zA-Z0-9][^>]*>/,I=/^<([-_.:a-zA-Z0-9]+:)?svg\s/,E=/[^-]\bwidth="([^%]+?)"|[^-]\bwidth='([^%]+?)'/,f=/\bheight="([^%]+?)"|\bheight='([^%]+?)'/,S=/\bview[bB]ox="(.+?)"|\bview[bB]ox='(.+?)'/,M=/in$|mm$|cm$|pt$|pc$|px$|em$|ex$/;function y(u){return M.test(u)?u.match(M)[0]:"px"}oe.exports=function(u){if(function(g){var w,x=0,b=g.length;for(239===g[0]&&187===g[1]&&191===g[2]&&(x=3);x<b&&(32===(w=g[x])||9===w||13===w||10===w);)x++;return x!==b&&60===g[x]}(u)){for(var i="",s=0;s<u.length;s++)i+=String.fromCharCode(u[s]);var a=(i.match(r)||[""])[0];if(I.test(a)){var o=(w=(g=a).match(E),x=g.match(f),b=g.match(S),{width:w&&(w[1]||w[2]),height:x&&(x[1]||x[2]),viewbox:b&&(b[1]||b[2])}),l=parseFloat(o.width),c=parseFloat(o.height);if(o.width&&o.height)return j(l)&&j(c)?{width:l,height:c,type:"svg",mime:"image/svg+xml",wUnits:y(o.width),hUnits:y(o.height)}:void 0;var h=(o.viewbox||"").split(" "),v={width:h[2],height:h[3]},p=parseFloat(v.width),T=parseFloat(v.height);if(j(p)&&j(T)&&y(v.width)===y(v.height)){var _=p/T;return o.width?j(l)?{width:l,height:l/_,type:"svg",mime:"image/svg+xml",wUnits:y(o.width),hUnits:y(o.width)}:void 0:o.height?j(c)?{width:c*_,height:c,type:"svg",mime:"image/svg+xml",wUnits:y(o.height),hUnits:y(o.height)}:void 0:{width:p,height:T,type:"svg",mime:"image/svg+xml",wUnits:y(v.width),hUnits:y(v.height)}}}}var g,w,x,b}},66278:function(oe,j,r){"use strict";var I=r(14847).eG,E=r(14847).OF,f=r(14847).mP,S=r(14847).n8,M=r(14847).nm,y=r(14847).Ag,u=I("II*\0"),i=I("MM\0*");function s(l,c,h){return h?S(l,c):f(l,c)}function a(l,c,h){return h?y(l,c):M(l,c)}function o(l,c,h){var v=s(l,c+2,h);return 1!==a(l,c+4,h)||3!==v&&4!==v?null:3===v?s(l,c+8,h):a(l,c+8,h)}oe.exports=function(l){if(!(l.length<8)&&(E(l,0,u)||E(l,0,i))){var c=77===l[0],h=a(l,4,c)-8;if(!(h<0)){var v=h+8;if(!(l.length-v<2)){var p=12*s(l,v+0,c);if(!(p<=0||(v+=2,l.length-v<p))){var T,_,g,w;for(T=0;T<p;T+=12)256===(w=s(l,v+T,c))?_=o(l,v+T,c):257===w&&(g=o(l,v+T,c));return _&&g?{width:_,height:g,type:"tiff",mime:"image/tiff",wUnits:"px",hUnits:"px"}:void 0}}}}}},90784:function(oe,j,r){"use strict";var I=r(14847).eG,E=r(14847).OF,f=r(14847).mP,S=r(14847).nm,M=r(71371),y=I("RIFF"),u=I("WEBP");function i(o,l){if(157===o[l+3]&&1===o[l+4]&&42===o[l+5])return{width:16383&f(o,l+6),height:16383&f(o,l+8),type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}function s(o,l){if(47===o[l]){var c=S(o,l+1);return{width:1+(16383&c),height:1+(c>>14&16383),type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}}function a(o,l){return{width:1+(o[l+6]<<16|o[l+5]<<8|o[l+4]),height:1+(o[l+9]<<l|o[l+8]<<8|o[l+7]),type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}oe.exports=function(o){if(!(o.length<16)&&(E(o,0,y)||E(o,8,u))){var l=12,c=null,h=0,v=S(o,4)+8;if(!(v>o.length)){for(;l+8<v;)if(0!==o[l]){var p=String.fromCharCode.apply(null,o.slice(l,l+4)),T=S(o,l+4);"VP8 "===p&&T>=10?c=c||i(o,l+8):"VP8L"===p&&T>=9?c=c||s(o,l+8):"VP8X"===p&&T>=10?c=c||a(o,l+8):"EXIF"===p&&(h=M.get_orientation(o.slice(l+8,l+8+T)),l=1/0),l+=8+T}else l++;if(c)return h>0&&(c.orientation=h),c}}}},91497:function(oe,j,r){"use strict";oe.exports={avif:r(24461),bmp:r(2504),gif:r(47342),ico:r(31355),jpeg:r(54261),png:r(6303),psd:r(38689),svg:r(6881),tiff:r(66278),webp:r(90784)}},33575:function(oe,j,r){"use strict";var I=r(91497);oe.exports=function(E){return function(f){for(var S=Object.keys(I),M=0;M<S.length;M++){var y=I[S[M]](f);if(y)return y}return null}(E)},oe.exports.parsers=I},90386:function(oe){var j,r,I=oe.exports={};function E(){throw new Error("setTimeout has not been defined")}function f(){throw new Error("clearTimeout has not been defined")}function S(c){if(j===setTimeout)return setTimeout(c,0);if((j===E||!j)&&setTimeout)return j=setTimeout,setTimeout(c,0);try{return j(c,0)}catch{try{return j.call(null,c,0)}catch{return j.call(this,c,0)}}}!function(){try{j="function"==typeof setTimeout?setTimeout:E}catch{j=E}try{r="function"==typeof clearTimeout?clearTimeout:f}catch{r=f}}();var M,y=[],u=!1,i=-1;function s(){u&&M&&(u=!1,M.length?y=M.concat(y):i=-1,y.length&&a())}function a(){if(!u){var c=S(s);u=!0;for(var h=y.length;h;){for(M=y,y=[];++i<h;)M&&M[i].run();i=-1,h=y.length}M=null,u=!1,function(v){if(r===clearTimeout)return clearTimeout(v);if((r===f||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(v);try{return r(v)}catch{try{return r.call(null,v)}catch{return r.call(this,v)}}}(c)}}function o(c,h){this.fun=c,this.array=h}function l(){}I.nextTick=function(c){var h=new Array(arguments.length-1);if(arguments.length>1)for(var v=1;v<arguments.length;v++)h[v-1]=arguments[v];y.push(new o(c,h)),1!==y.length||u||S(a)},o.prototype.run=function(){this.fun.apply(null,this.array)},I.title="browser",I.browser=!0,I.env={},I.argv=[],I.version="",I.versions={},I.on=l,I.addListener=l,I.once=l,I.off=l,I.removeListener=l,I.removeAllListeners=l,I.emit=l,I.prependListener=l,I.prependOnceListener=l,I.listeners=function(c){return[]},I.binding=function(c){throw new Error("process.binding is not supported")},I.cwd=function(){return"/"},I.chdir=function(c){throw new Error("process.chdir is not supported")},I.umask=function(){return 0}},5877:function(oe,j,r){for(var I=r(9748),E=typeof window>"u"?r.g:window,f=["moz","webkit"],S="AnimationFrame",M=E["request"+S],y=E["cancel"+S]||E["cancelRequest"+S],u=0;!M&&u<f.length;u++)M=E[f[u]+"Request"+S],y=E[f[u]+"Cancel"+S]||E[f[u]+"CancelRequest"+S];if(!M||!y){var i=0,s=0,a=[];M=function(o){if(0===a.length){var l=I(),c=Math.max(0,16.666666666666668-(l-i));i=c+l,setTimeout(function(){var h=a.slice(0);a.length=0;for(var v=0;v<h.length;v++)if(!h[v].cancelled)try{h[v].callback(i)}catch(p){setTimeout(function(){throw p},0)}},Math.round(c))}return a.push({handle:++s,callback:o,cancelled:!1}),s},y=function(o){for(var l=0;l<a.length;l++)a[l].handle===o&&(a[l].cancelled=!0)}}oe.exports=function(o){return M.call(E,o)},oe.exports.cancel=function(){y.apply(E,arguments)},oe.exports.polyfill=function(o){o||(o=E),o.requestAnimationFrame=M,o.cancelAnimationFrame=y}},3593:function(oe,j,r){"use strict";var I=r(21527),E=r(25075),f=r(93447),S=r(71299),M=r(56131),y=r(30120),u=r(57060),i=u.float32,s=u.fract32;oe.exports=function(o,l){if("function"==typeof o?(l||(l={}),l.regl=o):l=o,l.length&&(l.positions=l),!(o=l.regl).hasExtension("ANGLE_instanced_arrays"))throw Error("regl-error2d: `ANGLE_instanced_arrays` extension should be enabled");var c,h,v,p,T,_,g=o._gl,w={color:"black",capSize:5,lineWidth:1,opacity:1,viewport:null,range:null,offset:0,count:0,bounds:null,positions:[],errors:[]},x=[];return p=o.buffer({usage:"dynamic",type:"uint8",data:new Uint8Array(0)}),h=o.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),v=o.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),T=o.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),_=o.buffer({usage:"static",type:"float",data:a}),C(l),c=o({vert:"\n\t\tprecision highp float;\n\n\t\tattribute vec2 position, positionFract;\n\t\tattribute vec4 error;\n\t\tattribute vec4 color;\n\n\t\tattribute vec2 direction, lineOffset, capOffset;\n\n\t\tuniform vec4 viewport;\n\t\tuniform float lineWidth, capSize;\n\t\tuniform vec2 scale, scaleFract, translate, translateFract;\n\n\t\tvarying vec4 fragColor;\n\n\t\tvoid main() {\n\t\t\tfragColor = color / 255.;\n\n\t\t\tvec2 pixelOffset = lineWidth * lineOffset + (capSize + lineWidth) * capOffset;\n\n\t\t\tvec2 dxy = -step(.5, direction.xy) * error.xz + step(direction.xy, vec2(-.5)) * error.yw;\n\n\t\t\tvec2 position = position + dxy;\n\n\t\t\tvec2 pos = (position + translate) * scale\n\t\t\t\t+ (positionFract + translateFract) * scale\n\t\t\t\t+ (position + translate) * scaleFract\n\t\t\t\t+ (positionFract + translateFract) * scaleFract;\n\n\t\t\tpos += pixelOffset / viewport.zw;\n\n\t\t\tgl_Position = vec4(pos * 2. - 1., 0, 1);\n\t\t}\n\t\t",frag:"\n\t\tprecision highp float;\n\n\t\tvarying vec4 fragColor;\n\n\t\tuniform float opacity;\n\n\t\tvoid main() {\n\t\t\tgl_FragColor = fragColor;\n\t\t\tgl_FragColor.a *= opacity;\n\t\t}\n\t\t",uniforms:{range:o.prop("range"),lineWidth:o.prop("lineWidth"),capSize:o.prop("capSize"),opacity:o.prop("opacity"),scale:o.prop("scale"),translate:o.prop("translate"),scaleFract:o.prop("scaleFract"),translateFract:o.prop("translateFract"),viewport:function(P,R){return[R.viewport.x,R.viewport.y,P.viewportWidth,P.viewportHeight]}},attributes:{color:{buffer:p,offset:function(P,R){return 4*R.offset},divisor:1},position:{buffer:h,offset:function(P,R){return 8*R.offset},divisor:1},positionFract:{buffer:v,offset:function(P,R){return 8*R.offset},divisor:1},error:{buffer:T,offset:function(P,R){return 16*R.offset},divisor:1},direction:{buffer:_,stride:24,offset:0},lineOffset:{buffer:_,stride:24,offset:8},capOffset:{buffer:_,stride:24,offset:16}},primitive:"triangles",blend:{enable:!0,color:[0,0,0,0],equation:{rgb:"add",alpha:"add"},func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},depth:{enable:!1},scissor:{enable:!0,box:o.prop("viewport")},viewport:o.prop("viewport"),stencil:!1,instances:o.prop("count"),count:a.length}),M(b,{update:C,draw:A,destroy:k,regl:o,gl:g,canvas:g.canvas,groups:x}),b;function b(P){P?C(P):null===P&&k(),A()}function A(P){if("number"==typeof P)return m(P);P&&!Array.isArray(P)&&(P=[P]),o._refresh(),x.forEach(function(R,L){R&&(P&&(R.draw=!!P[L]),R.draw?m(L):R.draw=!0)})}function m(P){"number"==typeof P&&(P=x[P]),null!=P&&P&&P.count&&P.color&&P.opacity&&P.positions&&P.positions.length>1&&(P.scaleRatio=[P.scale[0]*P.viewport.width,P.scale[1]*P.viewport.height],c(P),P.after&&P.after(P))}function C(P){if(P){null!=P.length?"number"==typeof P[0]&&(P=[{positions:P}]):Array.isArray(P)||(P=[P]);var R=0,L=0;if(b.groups=x=P.map(function(U,Z){var X=x[Z];return U&&("function"==typeof U?U={after:U}:"number"==typeof U[0]&&(U={positions:U}),U=S(U,{color:"color colors fill",capSize:"capSize cap capsize cap-size",lineWidth:"lineWidth line-width width line thickness",opacity:"opacity alpha",range:"range dataBox",viewport:"viewport viewBox",errors:"errors error",positions:"positions position data points"}),X||(x[Z]=X={id:Z,scale:null,translate:null,scaleFract:null,translateFract:null,draw:!0},U=M({},w,U)),f(X,U,[{lineWidth:function(se){return.5*+se},capSize:function(se){return.5*+se},opacity:parseFloat,errors:function(se){return se=y(se),L+=se.length,se},positions:function(se,re){return se=y(se,"float64"),re.count=Math.floor(se.length/2),re.bounds=I(se,2),re.offset=R,R+=re.count,se}},{color:function(se,re){var ee=re.count;if(se||(se="transparent"),!Array.isArray(se)||"number"==typeof se[0]){var K=se;se=Array(ee);for(var ne=0;ne<ee;ne++)se[ne]=K}if(se.length<ee)throw Error("Not enough colors");for(var ae=new Uint8Array(4*ee),ue=0;ue<ee;ue++){var he=E(se[ue],"uint8");ae.set(he,4*ue)}return ae},range:function(se,re,ee){return se||(se=re.bounds),re.scale=[1/(se[2]-se[0]),1/(se[3]-se[1])],re.translate=[-se[0],-se[1]],re.scaleFract=s(re.scale),re.translateFract=s(re.translate),se},viewport:function(se){var re;return Array.isArray(se)?re={x:se[0],y:se[1],width:se[2]-se[0],height:se[3]-se[1]}:se?((re={x:se.x||se.left||0,y:se.y||se.top||0}).width=se.right?se.right-re.x:se.w||se.width||0,re.height=se.bottom?se.bottom-re.y:se.h||se.height||0):re={x:0,y:0,width:g.drawingBufferWidth,height:g.drawingBufferHeight},re}}])),X}),R||L){var N=x.reduce(function(U,Z,X){return U+(Z?Z.count:0)},0),B=new Float64Array(2*N),J=new Uint8Array(4*N),z=new Float32Array(4*N);x.forEach(function(U,Z){if(U){var X=U.positions,re=U.offset,K=U.errors;U.count&&(J.set(U.color,4*re),z.set(K,4*re),B.set(X,2*re))}});var Y=i(B);h(Y);var q=s(B,Y);v(q),p(J),T(z)}}}function k(){h.destroy(),v.destroy(),p.destroy(),T.destroy(),_.destroy()}};var a=[[1,0,0,1,0,0],[1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,1,0,0],[1,0,0,1,0,0],[1,0,-1,0,0,1],[1,0,-1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,1],[1,0,-1,0,0,1],[-1,0,-1,0,0,1],[-1,0,-1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,1],[-1,0,-1,0,0,1],[0,1,1,0,0,0],[0,1,-1,0,0,0],[0,-1,-1,0,0,0],[0,-1,-1,0,0,0],[0,1,1,0,0,0],[0,-1,1,0,0,0],[0,1,0,-1,1,0],[0,1,0,-1,-1,0],[0,1,0,1,-1,0],[0,1,0,1,1,0],[0,1,0,-1,1,0],[0,1,0,1,-1,0],[0,-1,0,-1,1,0],[0,-1,0,-1,-1,0],[0,-1,0,1,-1,0],[0,-1,0,1,1,0],[0,-1,0,-1,1,0],[0,-1,0,1,-1,0]]},46075:function(oe,j,r){"use strict";var I=r(25075),E=r(21527),f=r(56131),S=r(56068),M=r(71299),y=r(30120),u=r(11474),i=r(54),s=r(57060),a=s.float32,o=s.fract32,l=r(83522),c=r(18863),h=r(6851);function v(p,T){if(!(this instanceof v))return new v(p,T);if("function"==typeof p?(T||(T={}),T.regl=p):T=p,T.length&&(T.positions=T),!(p=T.regl).hasExtension("ANGLE_instanced_arrays"))throw Error("regl-error2d: `ANGLE_instanced_arrays` extension should be enabled");this.gl=p._gl,this.regl=p,this.passes=[],this.shaders=v.shaders.has(p)?v.shaders.get(p):v.shaders.set(p,v.createShaders(p)).get(p),this.update(T)}oe.exports=v,v.dashMult=2,v.maxPatternLength=256,v.precisionThreshold=3e6,v.maxPoints=1e4,v.maxLines=2048,v.shaders=new l,v.createShaders=function(p){var T,_=p.buffer({usage:"static",type:"float",data:[0,1,0,0,1,1,1,0]}),g={primitive:"triangle strip",instances:p.prop("count"),count:4,offset:0,uniforms:{miterMode:function(x,b){return"round"===b.join?2:1},miterLimit:p.prop("miterLimit"),scale:p.prop("scale"),scaleFract:p.prop("scaleFract"),translateFract:p.prop("translateFract"),translate:p.prop("translate"),thickness:p.prop("thickness"),dashTexture:p.prop("dashTexture"),opacity:p.prop("opacity"),pixelRatio:p.context("pixelRatio"),id:p.prop("id"),dashLength:p.prop("dashLength"),viewport:function(x,b){return[b.viewport.x,b.viewport.y,x.viewportWidth,x.viewportHeight]},depth:p.prop("depth")},blend:{enable:!0,color:[0,0,0,0],equation:{rgb:"add",alpha:"add"},func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},depth:{enable:function(x,b){return!b.overlay}},stencil:{enable:!1},scissor:{enable:!0,box:p.prop("viewport")},viewport:p.prop("viewport")},w=p(f({vert:S(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec2 aCoord, bCoord, aCoordFract, bCoordFract;\nattribute vec4 color;\nattribute float lineEnd, lineTop;\n\nuniform vec2 scale, scaleFract, translate, translateFract;\nuniform float thickness, pixelRatio, id, depth;\nuniform vec4 viewport;\n\nvarying vec4 fragColor;\nvarying vec2 tangent;\n\nvec2 project(vec2 position, vec2 positionFract, vec2 scale, vec2 scaleFract, vec2 translate, vec2 translateFract) {\n\t// the order is important\n\treturn position * scale + translate\n       + positionFract * scale + translateFract\n       + position * scaleFract\n       + positionFract * scaleFract;\n}\n\nvoid main() {\n\tfloat lineStart = 1. - lineEnd;\n\tfloat lineOffset = lineTop * 2. - 1.;\n\n\tvec2 diff = (bCoord + bCoordFract - aCoord - aCoordFract);\n\ttangent = normalize(diff * scale * viewport.zw);\n\tvec2 normal = vec2(-tangent.y, tangent.x);\n\n\tvec2 position = project(aCoord, aCoordFract, scale, scaleFract, translate, translateFract) * lineStart\n\t\t+ project(bCoord, bCoordFract, scale, scaleFract, translate, translateFract) * lineEnd\n\n\t\t+ thickness * normal * .5 * lineOffset / viewport.zw;\n\n\tgl_Position = vec4(position * 2.0 - 1.0, depth, 1);\n\n\tfragColor = color / 255.;\n}\n"]),frag:S(["precision highp float;\n#define GLSLIFY 1\n\nuniform float dashLength, pixelRatio, thickness, opacity, id;\nuniform sampler2D dashTexture;\n\nvarying vec4 fragColor;\nvarying vec2 tangent;\n\nvoid main() {\n\tfloat alpha = 1.;\n\n\tfloat t = fract(dot(tangent, gl_FragCoord.xy) / dashLength) * .5 + .25;\n\tfloat dash = texture2D(dashTexture, vec2(t, .5)).r;\n\n\tgl_FragColor = fragColor;\n\tgl_FragColor.a *= alpha * opacity * dash;\n}\n"]),attributes:{lineEnd:{buffer:_,divisor:0,stride:8,offset:0},lineTop:{buffer:_,divisor:0,stride:8,offset:4},aCoord:{buffer:p.prop("positionBuffer"),stride:8,offset:8,divisor:1},bCoord:{buffer:p.prop("positionBuffer"),stride:8,offset:16,divisor:1},aCoordFract:{buffer:p.prop("positionFractBuffer"),stride:8,offset:8,divisor:1},bCoordFract:{buffer:p.prop("positionFractBuffer"),stride:8,offset:16,divisor:1},color:{buffer:p.prop("colorBuffer"),stride:4,offset:0,divisor:1}}},g));try{T=p(f({cull:{enable:!0,face:"back"},vert:S(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec2 aCoord, bCoord, nextCoord, prevCoord;\nattribute vec4 aColor, bColor;\nattribute float lineEnd, lineTop;\n\nuniform vec2 scale, translate;\nuniform float thickness, pixelRatio, id, depth;\nuniform vec4 viewport;\nuniform float miterLimit, miterMode;\n\nvarying vec4 fragColor;\nvarying vec4 startCutoff, endCutoff;\nvarying vec2 tangent;\nvarying vec2 startCoord, endCoord;\nvarying float enableStartMiter, enableEndMiter;\n\nconst float REVERSE_THRESHOLD = -.875;\nconst float MIN_DIFF = 1e-6;\n\n// TODO: possible optimizations: avoid overcalculating all for vertices and calc just one instead\n// TODO: precalculate dot products, normalize things beforehead etc.\n// TODO: refactor to rectangular algorithm\n\nfloat distToLine(vec2 p, vec2 a, vec2 b) {\n\tvec2 diff = b - a;\n\tvec2 perp = normalize(vec2(-diff.y, diff.x));\n\treturn dot(p - a, perp);\n}\n\nbool isNaN( float val ){\n  return ( val < 0.0 || 0.0 < val || val == 0.0 ) ? false : true;\n}\n\nvoid main() {\n\tvec2 aCoord = aCoord, bCoord = bCoord, prevCoord = prevCoord, nextCoord = nextCoord;\n\n  vec2 adjustedScale;\n  adjustedScale.x = (abs(scale.x) < MIN_DIFF) ? MIN_DIFF : scale.x;\n  adjustedScale.y = (abs(scale.y) < MIN_DIFF) ? MIN_DIFF : scale.y;\n\n  vec2 scaleRatio = adjustedScale * viewport.zw;\n\tvec2 normalWidth = thickness / scaleRatio;\n\n\tfloat lineStart = 1. - lineEnd;\n\tfloat lineBot = 1. - lineTop;\n\n\tfragColor = (lineStart * aColor + lineEnd * bColor) / 255.;\n\n\tif (isNaN(aCoord.x) || isNaN(aCoord.y) || isNaN(bCoord.x) || isNaN(bCoord.y)) return;\n\n\tif (aCoord == prevCoord) prevCoord = aCoord + normalize(bCoord - aCoord);\n\tif (bCoord == nextCoord) nextCoord = bCoord - normalize(bCoord - aCoord);\n\n\tvec2 prevDiff = aCoord - prevCoord;\n\tvec2 currDiff = bCoord - aCoord;\n\tvec2 nextDiff = nextCoord - bCoord;\n\n\tvec2 prevTangent = normalize(prevDiff * scaleRatio);\n\tvec2 currTangent = normalize(currDiff * scaleRatio);\n\tvec2 nextTangent = normalize(nextDiff * scaleRatio);\n\n\tvec2 prevNormal = vec2(-prevTangent.y, prevTangent.x);\n\tvec2 currNormal = vec2(-currTangent.y, currTangent.x);\n\tvec2 nextNormal = vec2(-nextTangent.y, nextTangent.x);\n\n\tvec2 startJoinDirection = normalize(prevTangent - currTangent);\n\tvec2 endJoinDirection = normalize(currTangent - nextTangent);\n\n\t// collapsed/unidirectional segment cases\n\t// FIXME: there should be more elegant solution\n\tvec2 prevTanDiff = abs(prevTangent - currTangent);\n\tvec2 nextTanDiff = abs(nextTangent - currTangent);\n\tif (max(prevTanDiff.x, prevTanDiff.y) < MIN_DIFF) {\n\t\tstartJoinDirection = currNormal;\n\t}\n\tif (max(nextTanDiff.x, nextTanDiff.y) < MIN_DIFF) {\n\t\tendJoinDirection = currNormal;\n\t}\n\tif (aCoord == bCoord) {\n\t\tendJoinDirection = startJoinDirection;\n\t\tcurrNormal = prevNormal;\n\t\tcurrTangent = prevTangent;\n\t}\n\n\ttangent = currTangent;\n\n\t//calculate join shifts relative to normals\n\tfloat startJoinShift = dot(currNormal, startJoinDirection);\n\tfloat endJoinShift = dot(currNormal, endJoinDirection);\n\n\tfloat startMiterRatio = abs(1. / startJoinShift);\n\tfloat endMiterRatio = abs(1. / endJoinShift);\n\n\tvec2 startJoin = startJoinDirection * startMiterRatio;\n\tvec2 endJoin = endJoinDirection * endMiterRatio;\n\n\tvec2 startTopJoin, startBotJoin, endTopJoin, endBotJoin;\n\tstartTopJoin = sign(startJoinShift) * startJoin * .5;\n\tstartBotJoin = -startTopJoin;\n\n\tendTopJoin = sign(endJoinShift) * endJoin * .5;\n\tendBotJoin = -endTopJoin;\n\n\tvec2 aTopCoord = aCoord + normalWidth * startTopJoin;\n\tvec2 bTopCoord = bCoord + normalWidth * endTopJoin;\n\tvec2 aBotCoord = aCoord + normalWidth * startBotJoin;\n\tvec2 bBotCoord = bCoord + normalWidth * endBotJoin;\n\n\t//miter anti-clipping\n\tfloat baClipping = distToLine(bCoord, aCoord, aBotCoord) / dot(normalize(normalWidth * endBotJoin), normalize(normalWidth.yx * vec2(-startBotJoin.y, startBotJoin.x)));\n\tfloat abClipping = distToLine(aCoord, bCoord, bTopCoord) / dot(normalize(normalWidth * startBotJoin), normalize(normalWidth.yx * vec2(-endBotJoin.y, endBotJoin.x)));\n\n\t//prevent close to reverse direction switch\n\tbool prevReverse = dot(currTangent, prevTangent) <= REVERSE_THRESHOLD && abs(dot(currTangent, prevNormal)) * min(length(prevDiff), length(currDiff)) <  length(normalWidth * currNormal);\n\tbool nextReverse = dot(currTangent, nextTangent) <= REVERSE_THRESHOLD && abs(dot(currTangent, nextNormal)) * min(length(nextDiff), length(currDiff)) <  length(normalWidth * currNormal);\n\n\tif (prevReverse) {\n\t\t//make join rectangular\n\t\tvec2 miterShift = normalWidth * startJoinDirection * miterLimit * .5;\n\t\tfloat normalAdjust = 1. - min(miterLimit / startMiterRatio, 1.);\n\t\taBotCoord = aCoord + miterShift - normalAdjust * normalWidth * currNormal * .5;\n\t\taTopCoord = aCoord + miterShift + normalAdjust * normalWidth * currNormal * .5;\n\t}\n\telse if (!nextReverse && baClipping > 0. && baClipping < length(normalWidth * endBotJoin)) {\n\t\t//handle miter clipping\n\t\tbTopCoord -= normalWidth * endTopJoin;\n\t\tbTopCoord += normalize(endTopJoin * normalWidth) * baClipping;\n\t}\n\n\tif (nextReverse) {\n\t\t//make join rectangular\n\t\tvec2 miterShift = normalWidth * endJoinDirection * miterLimit * .5;\n\t\tfloat normalAdjust = 1. - min(miterLimit / endMiterRatio, 1.);\n\t\tbBotCoord = bCoord + miterShift - normalAdjust * normalWidth * currNormal * .5;\n\t\tbTopCoord = bCoord + miterShift + normalAdjust * normalWidth * currNormal * .5;\n\t}\n\telse if (!prevReverse && abClipping > 0. && abClipping < length(normalWidth * startBotJoin)) {\n\t\t//handle miter clipping\n\t\taBotCoord -= normalWidth * startBotJoin;\n\t\taBotCoord += normalize(startBotJoin * normalWidth) * abClipping;\n\t}\n\n\tvec2 aTopPosition = (aTopCoord) * adjustedScale + translate;\n\tvec2 aBotPosition = (aBotCoord) * adjustedScale + translate;\n\n\tvec2 bTopPosition = (bTopCoord) * adjustedScale + translate;\n\tvec2 bBotPosition = (bBotCoord) * adjustedScale + translate;\n\n\t//position is normalized 0..1 coord on the screen\n\tvec2 position = (aTopPosition * lineTop + aBotPosition * lineBot) * lineStart + (bTopPosition * lineTop + bBotPosition * lineBot) * lineEnd;\n\n\tstartCoord = aCoord * scaleRatio + translate * viewport.zw + viewport.xy;\n\tendCoord = bCoord * scaleRatio + translate * viewport.zw + viewport.xy;\n\n\tgl_Position = vec4(position  * 2.0 - 1.0, depth, 1);\n\n\tenableStartMiter = step(dot(currTangent, prevTangent), .5);\n\tenableEndMiter = step(dot(currTangent, nextTangent), .5);\n\n\t//bevel miter cutoffs\n\tif (miterMode == 1.) {\n\t\tif (enableStartMiter == 1.) {\n\t\t\tvec2 startMiterWidth = vec2(startJoinDirection) * thickness * miterLimit * .5;\n\t\t\tstartCutoff = vec4(aCoord, aCoord);\n\t\t\tstartCutoff.zw += vec2(-startJoinDirection.y, startJoinDirection.x) / scaleRatio;\n\t\t\tstartCutoff = startCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;\n\t\t\tstartCutoff += viewport.xyxy;\n\t\t\tstartCutoff += startMiterWidth.xyxy;\n\t\t}\n\n\t\tif (enableEndMiter == 1.) {\n\t\t\tvec2 endMiterWidth = vec2(endJoinDirection) * thickness * miterLimit * .5;\n\t\t\tendCutoff = vec4(bCoord, bCoord);\n\t\t\tendCutoff.zw += vec2(-endJoinDirection.y, endJoinDirection.x)  / scaleRatio;\n\t\t\tendCutoff = endCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;\n\t\t\tendCutoff += viewport.xyxy;\n\t\t\tendCutoff += endMiterWidth.xyxy;\n\t\t}\n\t}\n\n\t//round miter cutoffs\n\telse if (miterMode == 2.) {\n\t\tif (enableStartMiter == 1.) {\n\t\t\tvec2 startMiterWidth = vec2(startJoinDirection) * thickness * abs(dot(startJoinDirection, currNormal)) * .5;\n\t\t\tstartCutoff = vec4(aCoord, aCoord);\n\t\t\tstartCutoff.zw += vec2(-startJoinDirection.y, startJoinDirection.x) / scaleRatio;\n\t\t\tstartCutoff = startCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;\n\t\t\tstartCutoff += viewport.xyxy;\n\t\t\tstartCutoff += startMiterWidth.xyxy;\n\t\t}\n\n\t\tif (enableEndMiter == 1.) {\n\t\t\tvec2 endMiterWidth = vec2(endJoinDirection) * thickness * abs(dot(endJoinDirection, currNormal)) * .5;\n\t\t\tendCutoff = vec4(bCoord, bCoord);\n\t\t\tendCutoff.zw += vec2(-endJoinDirection.y, endJoinDirection.x)  / scaleRatio;\n\t\t\tendCutoff = endCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;\n\t\t\tendCutoff += viewport.xyxy;\n\t\t\tendCutoff += endMiterWidth.xyxy;\n\t\t}\n\t}\n}\n"]),frag:S(["precision highp float;\n#define GLSLIFY 1\n\nuniform float dashLength, pixelRatio, thickness, opacity, id, miterMode;\nuniform sampler2D dashTexture;\n\nvarying vec4 fragColor;\nvarying vec2 tangent;\nvarying vec4 startCutoff, endCutoff;\nvarying vec2 startCoord, endCoord;\nvarying float enableStartMiter, enableEndMiter;\n\nfloat distToLine(vec2 p, vec2 a, vec2 b) {\n\tvec2 diff = b - a;\n\tvec2 perp = normalize(vec2(-diff.y, diff.x));\n\treturn dot(p - a, perp);\n}\n\nvoid main() {\n\tfloat alpha = 1., distToStart, distToEnd;\n\tfloat cutoff = thickness * .5;\n\n\t//bevel miter\n\tif (miterMode == 1.) {\n\t\tif (enableStartMiter == 1.) {\n\t\t\tdistToStart = distToLine(gl_FragCoord.xy, startCutoff.xy, startCutoff.zw);\n\t\t\tif (distToStart < -1.) {\n\t\t\t\tdiscard;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\talpha *= min(max(distToStart + 1., 0.), 1.);\n\t\t}\n\n\t\tif (enableEndMiter == 1.) {\n\t\t\tdistToEnd = distToLine(gl_FragCoord.xy, endCutoff.xy, endCutoff.zw);\n\t\t\tif (distToEnd < -1.) {\n\t\t\t\tdiscard;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\talpha *= min(max(distToEnd + 1., 0.), 1.);\n\t\t}\n\t}\n\n\t// round miter\n\telse if (miterMode == 2.) {\n\t\tif (enableStartMiter == 1.) {\n\t\t\tdistToStart = distToLine(gl_FragCoord.xy, startCutoff.xy, startCutoff.zw);\n\t\t\tif (distToStart < 0.) {\n\t\t\t\tfloat radius = length(gl_FragCoord.xy - startCoord);\n\n\t\t\t\tif(radius > cutoff + .5) {\n\t\t\t\t\tdiscard;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\talpha -= smoothstep(cutoff - .5, cutoff + .5, radius);\n\t\t\t}\n\t\t}\n\n\t\tif (enableEndMiter == 1.) {\n\t\t\tdistToEnd = distToLine(gl_FragCoord.xy, endCutoff.xy, endCutoff.zw);\n\t\t\tif (distToEnd < 0.) {\n\t\t\t\tfloat radius = length(gl_FragCoord.xy - endCoord);\n\n\t\t\t\tif(radius > cutoff + .5) {\n\t\t\t\t\tdiscard;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\talpha -= smoothstep(cutoff - .5, cutoff + .5, radius);\n\t\t\t}\n\t\t}\n\t}\n\n\tfloat t = fract(dot(tangent, gl_FragCoord.xy) / dashLength) * .5 + .25;\n\tfloat dash = texture2D(dashTexture, vec2(t, .5)).r;\n\n\tgl_FragColor = fragColor;\n\tgl_FragColor.a *= alpha * opacity * dash;\n}\n"]),attributes:{lineEnd:{buffer:_,divisor:0,stride:8,offset:0},lineTop:{buffer:_,divisor:0,stride:8,offset:4},aColor:{buffer:p.prop("colorBuffer"),stride:4,offset:0,divisor:1},bColor:{buffer:p.prop("colorBuffer"),stride:4,offset:4,divisor:1},prevCoord:{buffer:p.prop("positionBuffer"),stride:8,offset:0,divisor:1},aCoord:{buffer:p.prop("positionBuffer"),stride:8,offset:8,divisor:1},bCoord:{buffer:p.prop("positionBuffer"),stride:8,offset:16,divisor:1},nextCoord:{buffer:p.prop("positionBuffer"),stride:8,offset:24,divisor:1}}},g))}catch{T=w}return{fill:p({primitive:"triangle",elements:function(x,b){return b.triangles},offset:0,vert:S(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec2 position, positionFract;\n\nuniform vec4 color;\nuniform vec2 scale, scaleFract, translate, translateFract;\nuniform float pixelRatio, id;\nuniform vec4 viewport;\nuniform float opacity;\n\nvarying vec4 fragColor;\n\nconst float MAX_LINES = 256.;\n\nvoid main() {\n\tfloat depth = (MAX_LINES - 4. - id) / (MAX_LINES);\n\n\tvec2 position = position * scale + translate\n       + positionFract * scale + translateFract\n       + position * scaleFract\n       + positionFract * scaleFract;\n\n\tgl_Position = vec4(position * 2.0 - 1.0, depth, 1);\n\n\tfragColor = color / 255.;\n\tfragColor.a *= opacity;\n}\n"]),frag:S(["precision highp float;\n#define GLSLIFY 1\n\nvarying vec4 fragColor;\n\nvoid main() {\n\tgl_FragColor = fragColor;\n}\n"]),uniforms:{scale:p.prop("scale"),color:p.prop("fill"),scaleFract:p.prop("scaleFract"),translateFract:p.prop("translateFract"),translate:p.prop("translate"),opacity:p.prop("opacity"),pixelRatio:p.context("pixelRatio"),id:p.prop("id"),viewport:function(x,b){return[b.viewport.x,b.viewport.y,x.viewportWidth,x.viewportHeight]}},attributes:{position:{buffer:p.prop("positionBuffer"),stride:8,offset:8},positionFract:{buffer:p.prop("positionFractBuffer"),stride:8,offset:8}},blend:g.blend,depth:{enable:!1},scissor:g.scissor,stencil:g.stencil,viewport:g.viewport}),rect:w,miter:T}},v.defaults={dashes:null,join:"miter",miterLimit:1,thickness:10,cap:"square",color:"black",opacity:1,overlay:!1,viewport:null,range:null,close:!1,fill:null},v.prototype.render=function(){for(var p,T=[],_=arguments.length;_--;)T[_]=arguments[_];T.length&&(p=this).update.apply(p,T),this.draw()},v.prototype.draw=function(){for(var p=this,T=[],_=arguments.length;_--;)T[_]=arguments[_];return(T.length?T:this.passes).forEach(function(g,w){var x;if(g&&Array.isArray(g))return(x=p).draw.apply(x,g);"number"==typeof g&&(g=p.passes[g]),g&&g.count>1&&g.opacity&&(p.regl._refresh(),g.fill&&g.triangles&&g.triangles.length>2&&p.shaders.fill(g),g.thickness&&(g.scale[0]*g.viewport.width>v.precisionThreshold||g.scale[1]*g.viewport.height>v.precisionThreshold||"rect"===g.join||!g.join&&(g.thickness<=2||g.count>=v.maxPoints)?p.shaders.rect(g):p.shaders.miter(g)))}),this},v.prototype.update=function(p){var T=this;if(p){null!=p.length?"number"==typeof p[0]&&(p=[{positions:p}]):Array.isArray(p)||(p=[p]);var _=this.regl,g=this.gl;if(p.forEach(function(m,C){var k=T.passes[C];if(void 0!==m)if(null!==m){if("number"==typeof m[0]&&(m={positions:m}),m=M(m,{positions:"positions points data coords",thickness:"thickness lineWidth lineWidths line-width linewidth width stroke-width strokewidth strokeWidth",join:"lineJoin linejoin join type mode",miterLimit:"miterlimit miterLimit",dashes:"dash dashes dasharray dash-array dashArray",color:"color colour stroke colors colours stroke-color strokeColor",fill:"fill fill-color fillColor",opacity:"alpha opacity",overlay:"overlay crease overlap intersect",close:"closed close closed-path closePath",range:"range dataBox",viewport:"viewport viewBox",hole:"holes hole hollow",splitNull:"splitNull"}),k||(T.passes[C]=k={id:C,scale:null,scaleFract:null,translate:null,translateFract:null,count:0,hole:[],depth:0,dashLength:1,dashTexture:_.texture({channels:1,data:new Uint8Array([255]),width:1,height:1,mag:"linear",min:"linear"}),colorBuffer:_.buffer({usage:"dynamic",type:"uint8",data:new Uint8Array}),positionBuffer:_.buffer({usage:"dynamic",type:"float",data:new Uint8Array}),positionFractBuffer:_.buffer({usage:"dynamic",type:"float",data:new Uint8Array})},m=f({},v.defaults,m)),null!=m.thickness&&(k.thickness=parseFloat(m.thickness)),null!=m.opacity&&(k.opacity=parseFloat(m.opacity)),null!=m.miterLimit&&(k.miterLimit=parseFloat(m.miterLimit)),null!=m.overlay&&(k.overlay=!!m.overlay,C<v.maxLines&&(k.depth=2*(v.maxLines-1-C%v.maxLines)/v.maxLines-1)),null!=m.join&&(k.join=m.join),null!=m.hole&&(k.hole=m.hole),null!=m.fill&&(k.fill=m.fill?I(m.fill,"uint8"):null),null!=m.viewport&&(k.viewport=c(m.viewport)),k.viewport||(k.viewport=c([g.drawingBufferWidth,g.drawingBufferHeight])),null!=m.close&&(k.close=m.close),null===m.positions&&(m.positions=[]),m.positions){var P,R;if(m.positions.x&&m.positions.y){var L=m.positions.x,N=m.positions.y;R=k.count=Math.max(L.length,N.length),P=new Float64Array(2*R);for(var B=0;B<R;B++)P[2*B]=L[B],P[2*B+1]=N[B]}else P=y(m.positions,"float64"),R=k.count=Math.floor(P.length/2);var J=k.bounds=E(P,2);if(k.fill){for(var z=[],Y={},q=0,U=0,Z=0,X=k.count;U<X;U++){var se=P[2*U],re=P[2*U+1];isNaN(se)||isNaN(re)||null==se||null==re?(se=P[2*q],re=P[2*q+1],Y[U]=q):q=U,z[Z++]=se,z[Z++]=re}if(m.splitNull){k.count-1 in Y||(Y[k.count]=k.count-1);var ee=Object.keys(Y).map(Number).sort(function(vt,mt){return vt-mt}),K=[],ne=0,ae=null!=k.hole?k.hole[0]:null;if(null!=ae){var ue=h(ee,function(vt){return vt>=ae});(ee=ee.slice(0,ue)).push(ae)}for(var he=function(vt){var mt=z.slice(2*ne,2*ee[vt]).concat(ae?z.slice(2*ae):[]),Et=(k.hole||[]).map(function(Rt){return Rt-ae+(ee[vt]-ne)}),Lt=u(mt,Et);Lt=Lt.map(function(Rt){return Rt+ne+(Rt+ne<ee[vt]?0:ae-ee[vt])}),K.push.apply(K,Lt),ne=ee[vt]+1},pe=0;pe<ee.length;pe++)he(pe);for(var ge=0,xe=K.length;ge<xe;ge++)null!=Y[K[ge]]&&(K[ge]=Y[K[ge]]);k.triangles=K}else{for(var Se=u(z,k.hole||[]),Te=0,ye=Se.length;Te<ye;Te++)null!=Y[Se[Te]]&&(Se[Te]=Y[Se[Te]]);k.triangles=Se}}var we=new Float64Array(P);i(we,2,J);var ze=new Float64Array(2*R+6);k.close?P[0]===P[2*R-2]&&P[1]===P[2*R-1]?(ze[0]=we[2*R-4],ze[1]=we[2*R-3]):(ze[0]=we[2*R-2],ze[1]=we[2*R-1]):(ze[0]=we[0],ze[1]=we[1]),ze.set(we,2),k.close?P[0]===P[2*R-2]&&P[1]===P[2*R-1]?(ze[2*R+2]=we[2],ze[2*R+3]=we[3],k.count-=1):(ze[2*R+2]=we[0],ze[2*R+3]=we[1],ze[2*R+4]=we[2],ze[2*R+5]=we[3]):(ze[2*R+2]=we[2*R-2],ze[2*R+3]=we[2*R-1],ze[2*R+4]=we[2*R-2],ze[2*R+5]=we[2*R-1]);var ke=a(ze);k.positionBuffer(ke);var Ee=o(ze,ke);k.positionFractBuffer(Ee)}if(m.range?k.range=m.range:k.range||(k.range=k.bounds),(m.range||m.positions)&&k.count){var me=k.bounds,Ae=k.range[2]-k.range[0],Ne=k.range[3]-k.range[1];k.scale=[(me[2]-me[0])/Ae,(me[3]-me[1])/Ne],k.translate=[-k.range[0]/Ae+me[0]/Ae||0,-k.range[1]/Ne+me[1]/Ne||0],k.scaleFract=o(k.scale),k.translateFract=o(k.translate)}if(m.dashes){var De,Ue=0;if(!m.dashes||m.dashes.length<2)Ue=1,De=new Uint8Array([255,255,255,255,255,255,255,255]);else{Ue=0;for(var Ye=0;Ye<m.dashes.length;++Ye)Ue+=m.dashes[Ye];De=new Uint8Array(Ue*v.dashMult);for(var _e=0,Pe=255,Ie=0;Ie<2;Ie++)for(var Be=0;Be<m.dashes.length;++Be){for(var We=0,Ge=m.dashes[Be]*v.dashMult*.5;We<Ge;++We)De[_e++]=Pe;Pe^=255}}k.dashLength=Ue,k.dashTexture({channels:1,data:De,width:De.length,height:1,mag:"linear",min:"linear"},0,0)}if(m.color){var Ke=k.count,tt=m.color;tt||(tt="transparent");var st=new Uint8Array(4*Ke+4);if(Array.isArray(tt)&&"number"!=typeof tt[0]){for(var gt=0;gt<Ke;gt++){var ct=I(tt[gt],"uint8");st.set(ct,4*gt)}st.set(I(tt[0],"uint8"),4*Ke)}else for(var kt=I(tt,"uint8"),Dt=0;Dt<Ke+1;Dt++)st.set(kt,4*Dt);k.colorBuffer({usage:"dynamic",type:"uint8",data:st})}}else T.passes[C]=null}),p.length<this.passes.length){for(var w=p.length;w<this.passes.length;w++){var x=this.passes[w];x&&(x.colorBuffer.destroy(),x.positionBuffer.destroy(),x.dashTexture.destroy())}this.passes.length=p.length}for(var b=[],A=0;A<this.passes.length;A++)null!==this.passes[A]&&b.push(this.passes[A]);return this.passes=b,this}},v.prototype.destroy=function(){return this.passes.forEach(function(p){p.colorBuffer.destroy(),p.positionBuffer.destroy(),p.dashTexture.destroy()}),this.passes.length=0,this}},11870:function(oe,j,r){"use strict";function I(g,w){return function(x){if(Array.isArray(x))return x}(g)||function(x,b){var A=null==x?null:typeof Symbol<"u"&&x[Symbol.iterator]||x["@@iterator"];if(null!=A){var m,C,k,P,R=[],L=!0,N=!1;try{if(k=(A=A.call(x)).next,0===b){if(Object(A)!==A)return;L=!1}else for(;!(L=(m=k.call(A)).done)&&(R.push(m.value),R.length!==b);L=!0);}catch(B){N=!0,C=B}finally{try{if(!L&&null!=A.return&&(P=A.return(),Object(P)!==P))return}finally{if(N)throw C}}return R}}(g,w)||E(g,w)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(g,w){if(g){if("string"==typeof g)return f(g,w);var x=Object.prototype.toString.call(g).slice(8,-1);return"Object"===x&&g.constructor&&(x=g.constructor.name),"Map"===x||"Set"===x?Array.from(g):"Arguments"===x||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x)?f(g,w):void 0}}function f(g,w){(null==w||w>g.length)&&(w=g.length);for(var x=0,b=new Array(w);x<w;x++)b[x]=g[x];return b}var S=r(25075),M=r(21527),y=r(6475),u=r(88294),i=r(56131),s=r(56068),a=r(71299),o=r(93447),l=r(30120),c=r(62683),h=r(57060),v=r(18863),p=T;function T(g,w){var x=this;if(!(this instanceof T))return new T(g,w);"function"==typeof g?(w||(w={}),w.regl=g):(w=g,g=null),w&&w.length&&(w.positions=w);var b,A=(g=w.regl)._gl,m=[];this.tooManyColors=c,b=g.texture({data:new Uint8Array(1020),width:255,height:1,type:"uint8",format:"rgba",wrapS:"clamp",wrapT:"clamp",mag:"nearest",min:"nearest"}),i(this,{regl:g,gl:A,groups:[],markerCache:[null],markerTextures:[null],palette:m,paletteIds:{},paletteTexture:b,maxColors:255,maxSize:100,canvas:A.canvas}),this.update(w);var C={uniforms:{constPointSize:!!w.constPointSize,opacity:g.prop("opacity"),paletteSize:function(R,L){return[x.tooManyColors?0:255,b.height]},pixelRatio:g.context("pixelRatio"),scale:g.prop("scale"),scaleFract:g.prop("scaleFract"),translate:g.prop("translate"),translateFract:g.prop("translateFract"),markerTexture:g.prop("markerTexture"),paletteTexture:b},attributes:{x:function(R,L){return L.xAttr||{buffer:L.positionBuffer,stride:8,offset:0}},y:function(R,L){return L.yAttr||{buffer:L.positionBuffer,stride:8,offset:4}},xFract:function(R,L){return L.xAttr?{constant:[0,0]}:{buffer:L.positionFractBuffer,stride:8,offset:0}},yFract:function(R,L){return L.yAttr?{constant:[0,0]}:{buffer:L.positionFractBuffer,stride:8,offset:4}},size:function(R,L){return L.size.length?{buffer:L.sizeBuffer,stride:2,offset:0}:{constant:[Math.round(255*L.size/x.maxSize)]}},borderSize:function(R,L){return L.borderSize.length?{buffer:L.sizeBuffer,stride:2,offset:1}:{constant:[Math.round(255*L.borderSize/x.maxSize)]}},colorId:function(R,L){return L.color.length?{buffer:L.colorBuffer,stride:x.tooManyColors?8:4,offset:0}:{constant:x.tooManyColors?m.slice(4*L.color,4*L.color+4):[L.color]}},borderColorId:function(R,L){return L.borderColor.length?{buffer:L.colorBuffer,stride:x.tooManyColors?8:4,offset:x.tooManyColors?4:2}:{constant:x.tooManyColors?m.slice(4*L.borderColor,4*L.borderColor+4):[L.borderColor]}},isActive:function(R,L){return!0===L.activation?{constant:[1]}:L.activation?L.activation:{constant:[0]}}},blend:{enable:!0,color:[0,0,0,1],func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},scissor:{enable:!0,box:g.prop("viewport")},viewport:g.prop("viewport"),stencil:{enable:!1},depth:{enable:!1},elements:g.prop("elements"),count:g.prop("count"),offset:g.prop("offset"),primitive:"points"},k=i({},C);k.frag=s(["precision highp float;\n#define GLSLIFY 1\n\nuniform float opacity;\nuniform sampler2D markerTexture;\n\nvarying vec4 fragColor, fragBorderColor;\nvarying float fragWidth, fragBorderColorLevel, fragColorLevel;\n\nfloat smoothStep(float x, float y) {\n  return 1.0 / (1.0 + exp(50.0*(x - y)));\n}\n\nvoid main() {\n  float dist = texture2D(markerTexture, gl_PointCoord).r, delta = fragWidth;\n\n  // max-distance alpha\n  if (dist < 0.003) discard;\n\n  // null-border case\n  if (fragBorderColorLevel == fragColorLevel || fragBorderColor.a == 0.) {\n    float colorAmt = smoothstep(.5 - delta, .5 + delta, dist);\n    gl_FragColor = vec4(fragColor.rgb, colorAmt * fragColor.a * opacity);\n  }\n  else {\n    float borderColorAmt = smoothstep(fragBorderColorLevel - delta, fragBorderColorLevel + delta, dist);\n    float colorAmt = smoothstep(fragColorLevel - delta, fragColorLevel + delta, dist);\n\n    vec4 color = fragBorderColor;\n    color.a *= borderColorAmt;\n    color = mix(color, fragColor, colorAmt);\n    color.a *= opacity;\n\n    gl_FragColor = color;\n  }\n\n}\n"]),k.vert=s(["precision highp float;\n#define GLSLIFY 1\n\nattribute float x, y, xFract, yFract;\nattribute float size, borderSize;\nattribute vec4 colorId, borderColorId;\nattribute float isActive;\n\nuniform bool constPointSize;\nuniform float pixelRatio;\nuniform vec2 scale, scaleFract, translate, translateFract, paletteSize;\nuniform sampler2D paletteTexture;\n\nconst float maxSize = 100.;\nconst float borderLevel = .5;\n\nvarying vec4 fragColor, fragBorderColor;\nvarying float fragPointSize, fragBorderRadius, fragWidth, fragBorderColorLevel, fragColorLevel;\n\nfloat pointSizeScale = (constPointSize) ? 2. : pixelRatio;\n\nbool isDirect = (paletteSize.x < 1.);\n\nvec4 getColor(vec4 id) {\n  return isDirect ? id / 255. : texture2D(paletteTexture,\n    vec2(\n      (id.x + .5) / paletteSize.x,\n      (id.y + .5) / paletteSize.y\n    )\n  );\n}\n\nvoid main() {\n  // ignore inactive points\n  if (isActive == 0.) return;\n\n  vec2 position = vec2(x, y);\n  vec2 positionFract = vec2(xFract, yFract);\n\n  vec4 color = getColor(colorId);\n  vec4 borderColor = getColor(borderColorId);\n\n  float size = size * maxSize / 255.;\n  float borderSize = borderSize * maxSize / 255.;\n\n  gl_PointSize = 2. * size * pointSizeScale;\n  fragPointSize = size * pixelRatio;\n\n  vec2 pos = (position + translate) * scale\n      + (positionFract + translateFract) * scale\n      + (position + translate) * scaleFract\n      + (positionFract + translateFract) * scaleFract;\n\n  gl_Position = vec4(pos * 2. - 1., 0., 1.);\n\n  fragColor = color;\n  fragBorderColor = borderColor;\n  fragWidth = 1. / gl_PointSize;\n\n  fragBorderColorLevel = clamp(borderLevel - borderLevel * borderSize / size, 0., 1.);\n  fragColorLevel = clamp(borderLevel + (1. - borderLevel) * borderSize / size, 0., 1.);\n}"]),this.drawMarker=g(k);var P=i({},C);P.frag=s(["precision highp float;\n#define GLSLIFY 1\n\nvarying vec4 fragColor, fragBorderColor;\nvarying float fragBorderRadius, fragWidth;\n\nuniform float opacity;\n\nfloat smoothStep(float edge0, float edge1, float x) {\n\tfloat t;\n\tt = clamp((x - edge0) / (edge1 - edge0), 0.0, 1.0);\n\treturn t * t * (3.0 - 2.0 * t);\n}\n\nvoid main() {\n\tfloat radius, alpha = 1.0, delta = fragWidth;\n\n\tradius = length(2.0 * gl_PointCoord.xy - 1.0);\n\n\tif (radius > 1.0 + delta) {\n\t\tdiscard;\n\t}\n\n\talpha -= smoothstep(1.0 - delta, 1.0 + delta, radius);\n\n\tfloat borderRadius = fragBorderRadius;\n\tfloat ratio = smoothstep(borderRadius - delta, borderRadius + delta, radius);\n\tvec4 color = mix(fragColor, fragBorderColor, ratio);\n\tcolor.a *= alpha * opacity;\n\tgl_FragColor = color;\n}\n"]),P.vert=s(["precision highp float;\n#define GLSLIFY 1\n\nattribute float x, y, xFract, yFract;\nattribute float size, borderSize;\nattribute vec4 colorId, borderColorId;\nattribute float isActive;\n\nuniform bool constPointSize;\nuniform float pixelRatio;\nuniform vec2 paletteSize, scale, scaleFract, translate, translateFract;\nuniform sampler2D paletteTexture;\n\nconst float maxSize = 100.;\n\nvarying vec4 fragColor, fragBorderColor;\nvarying float fragBorderRadius, fragWidth;\n\nfloat pointSizeScale = (constPointSize) ? 2. : pixelRatio;\n\nbool isDirect = (paletteSize.x < 1.);\n\nvec4 getColor(vec4 id) {\n  return isDirect ? id / 255. : texture2D(paletteTexture,\n    vec2(\n      (id.x + .5) / paletteSize.x,\n      (id.y + .5) / paletteSize.y\n    )\n  );\n}\n\nvoid main() {\n  // ignore inactive points\n  if (isActive == 0.) return;\n\n  vec2 position = vec2(x, y);\n  vec2 positionFract = vec2(xFract, yFract);\n\n  vec4 color = getColor(colorId);\n  vec4 borderColor = getColor(borderColorId);\n\n  float size = size * maxSize / 255.;\n  float borderSize = borderSize * maxSize / 255.;\n\n  gl_PointSize = (size + borderSize) * pointSizeScale;\n\n  vec2 pos = (position + translate) * scale\n      + (positionFract + translateFract) * scale\n      + (position + translate) * scaleFract\n      + (positionFract + translateFract) * scaleFract;\n\n  gl_Position = vec4(pos * 2. - 1., 0., 1.);\n\n  fragBorderRadius = 1. - 2. * borderSize / (size + borderSize);\n  fragColor = color;\n  fragBorderColor = borderColor.a == 0. || borderSize == 0. ? vec4(color.rgb, 0.) : borderColor;\n  fragWidth = 1. / gl_PointSize;\n}\n"]),c&&(P.frag=P.frag.replace("smoothstep","smoothStep"),k.frag=k.frag.replace("smoothstep","smoothStep")),this.drawCircle=g(P)}T.defaults={color:"black",borderColor:"transparent",borderSize:0,size:12,opacity:1,marker:void 0,viewport:null,range:null,pixelSize:null,count:0,offset:0,bounds:null,positions:[],snap:1e4},T.prototype.render=function(){return arguments.length&&this.update.apply(this,arguments),this.draw(),this},T.prototype.draw=function(){for(var g=this,w=arguments.length,x=new Array(w),b=0;b<w;b++)x[b]=arguments[b];var A=this.groups;if(1===x.length&&Array.isArray(x[0])&&(null===x[0][0]||Array.isArray(x[0][0]))&&(x=x[0]),this.regl._refresh(),x.length)for(var m=0;m<x.length;m++)this.drawItem(m,x[m]);else A.forEach(function(C,k){g.drawItem(k)});return this},T.prototype.drawItem=function(g,w){var x,b=this.groups,A=b[g];if("number"==typeof w&&(g=w,A=b[w],w=null),A&&A.count&&A.opacity){A.activation[0]&&this.drawCircle(this.getMarkerDrawOptions(0,A,w));for(var m=[],C=1;C<A.activation.length;C++)A.activation[C]&&(!0===A.activation[C]||A.activation[C].data.length)&&m.push.apply(m,function(k){if(Array.isArray(k))return f(k)}(x=this.getMarkerDrawOptions(C,A,w))||function(k){if(typeof Symbol<"u"&&null!=k[Symbol.iterator]||null!=k["@@iterator"])return Array.from(k)}(x)||E(x)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());m.length&&this.drawMarker(m)}},T.prototype.getMarkerDrawOptions=function(g,w,x){var b=w.range,A=w.tree,m=w.viewport,C=w.activation,k=w.selectionBuffer,P=w.count;if(!A)return x?[i({},w,{markerTexture:this.markerTextures[g],activation:C[g],count:x.length,elements:x,offset:0})]:[i({},w,{markerTexture:this.markerTextures[g],activation:C[g],offset:0})];var R=[],L=A.range(b,{lod:!0,px:[(b[2]-b[0])/m.width,(b[3]-b[1])/m.height]});if(x){for(var N=C[g].data,B=new Uint8Array(P),J=0;J<x.length;J++){var z=x[J];B[z]=N?N[z]:1}k.subdata(B)}for(var Y=L.length;Y--;){var q=I(L[Y],2),U=q[0];R.push(i({},w,{markerTexture:this.markerTextures[g],activation:x?k:C[g],offset:U,count:q[1]-U}))}return R},T.prototype.update=function(){for(var g=this,w=arguments.length,x=new Array(w),b=0;b<w;b++)x[b]=arguments[b];if(x.length){1===x.length&&Array.isArray(x[0])&&(x=x[0]);var A=this.groups,m=this.gl,C=this.regl,k=this.maxSize,P=this.maxColors,R=this.palette;this.groups=A=x.map(function(L,N){var B=A[N];if(void 0===L)return B;null===L?L={positions:null}:"function"==typeof L?L={ondraw:L}:"number"==typeof L[0]&&(L={positions:L}),null===(L=a(L,{positions:"positions data points",snap:"snap cluster lod tree",size:"sizes size radius",borderSize:"borderSizes borderSize border-size bordersize borderWidth borderWidths border-width borderwidth stroke-width strokeWidth strokewidth outline",color:"colors color fill fill-color fillColor",borderColor:"borderColors borderColor stroke stroke-color strokeColor",marker:"markers marker shape",range:"range dataBox databox",viewport:"viewport viewPort viewBox viewbox",opacity:"opacity alpha transparency",bounds:"bound bounds boundaries limits",tooManyColors:"tooManyColors palette paletteMode optimizePalette enablePalette"})).positions&&(L.positions=[]),null!=L.tooManyColors&&(g.tooManyColors=L.tooManyColors),B||(A[N]=B={id:N,scale:null,translate:null,scaleFract:null,translateFract:null,activation:[],selectionBuffer:C.buffer({data:new Uint8Array(0),usage:"stream",type:"uint8"}),sizeBuffer:C.buffer({data:new Uint8Array(0),usage:"dynamic",type:"uint8"}),colorBuffer:C.buffer({data:new Uint8Array(0),usage:"dynamic",type:"uint8"}),positionBuffer:C.buffer({data:new Uint8Array(0),usage:"dynamic",type:"float"}),positionFractBuffer:C.buffer({data:new Uint8Array(0),usage:"dynamic",type:"float"})},L=i({},T.defaults,L)),L.positions&&!("marker"in L)&&(L.marker=B.marker,delete B.marker),L.marker&&!("positions"in L)&&(L.positions=B.positions,delete B.positions);var J=0,z=0;if(o(B,L,[{snap:!0,size:function(Te,ye){return null==Te&&(Te=T.defaults.size),J+=Te&&Te.length?1:0,Te},borderSize:function(Te,ye){return null==Te&&(Te=T.defaults.borderSize),J+=Te&&Te.length?1:0,Te},opacity:parseFloat,color:function(Te,ye){return null==Te&&(Te=T.defaults.color),Te=g.updateColor(Te),z++,Te},borderColor:function(Te,ye){return null==Te&&(Te=T.defaults.borderColor),Te=g.updateColor(Te),z++,Te},bounds:function(Te,ye,we){return"range"in we||(we.range=null),Te},positions:function(Te,ye,we){var ze=ye.snap,ke=ye.positionBuffer,Ee=ye.positionFractBuffer,me=ye.selectionBuffer;if(Te.x||Te.y)return ye.xAttr=Te.x.length?{buffer:C.buffer(Te.x),offset:0,stride:4,count:Te.x.length}:{buffer:Te.x.buffer,offset:4*Te.x.offset||0,stride:4*(Te.x.stride||1),count:Te.x.count},ye.yAttr=Te.y.length?{buffer:C.buffer(Te.y),offset:0,stride:4,count:Te.y.length}:{buffer:Te.y.buffer,offset:4*Te.y.offset||0,stride:4*(Te.y.stride||1),count:Te.y.count},ye.count=Math.max(ye.xAttr.count,ye.yAttr.count),Te;Te=l(Te,"float64");var de=ye.count=Math.floor(Te.length/2),ce=ye.bounds=de?M(Te,2):null;if(we.range||ye.range||(delete ye.range,we.range=ce),we.marker||ye.marker||(delete ye.marker,we.marker=null),ze&&(!0===ze||de>ze)?ye.tree=u(Te,{bounds:ce}):ze&&ze.length&&(ye.tree=ze),ye.tree){var Ae={primitive:"points",usage:"static",data:ye.tree,type:"uint32"};ye.elements?ye.elements(Ae):ye.elements=C.elements(Ae)}var Ne=h.float32(Te);return ke({data:Ne,usage:"dynamic"}),Ee({data:h.fract32(Te,Ne),usage:"dynamic"}),me({data:new Uint8Array(de),type:"uint8",usage:"stream"}),Te}},{marker:function(Te,ye,we){var ze=ye.activation;if(ze.forEach(function(Ne){return Ne&&Ne.destroy&&Ne.destroy()}),ze.length=0,Te&&"number"!=typeof Te[0]){for(var ke=[],Ee=0,me=Math.min(Te.length,ye.count);Ee<me;Ee++){var de=g.addMarker(Te[Ee]);ke[de]||(ke[de]=new Uint8Array(ye.count)),ke[de][Ee]=1}for(var ce=0;ce<ke.length;ce++)if(ke[ce]){var Ae={data:ke[ce],type:"uint8",usage:"static"};ze[ce]?ze[ce](Ae):ze[ce]=C.buffer(Ae),ze[ce].data=ke[ce]}}else ze[g.addMarker(Te)]=!0;return Te},range:function(Te,ye,we){var ze=ye.bounds;if(ze)return Te||(Te=ze),ye.scale=[1/(Te[2]-Te[0]),1/(Te[3]-Te[1])],ye.translate=[-Te[0],-Te[1]],ye.scaleFract=h.fract(ye.scale),ye.translateFract=h.fract(ye.translate),Te},viewport:function(Te){return v(Te||[m.drawingBufferWidth,m.drawingBufferHeight])}}]),J){var q=B.count,U=B.size,Z=B.borderSize,X=B.sizeBuffer,se=new Uint8Array(2*q);if(U.length||Z.length)for(var re=0;re<q;re++)se[2*re]=Math.round(255*(null==U[re]?U:U[re])/k),se[2*re+1]=Math.round(255*(null==Z[re]?Z:Z[re])/k);X({data:se,usage:"dynamic"})}if(z){var ee,ne=B.count,ae=B.color,ue=B.borderColor,he=B.colorBuffer;if(g.tooManyColors){if(ae.length||ue.length){ee=new Uint8Array(8*ne);for(var pe=0;pe<ne;pe++){var ge=ae[pe];ee[8*pe]=R[4*ge],ee[8*pe+1]=R[4*ge+1],ee[8*pe+2]=R[4*ge+2],ee[8*pe+3]=R[4*ge+3];var xe=ue[pe];ee[8*pe+4]=R[4*xe],ee[8*pe+5]=R[4*xe+1],ee[8*pe+6]=R[4*xe+2],ee[8*pe+7]=R[4*xe+3]}}}else if(ae.length||ue.length){ee=new Uint8Array(4*ne+2);for(var Se=0;Se<ne;Se++)null!=ae[Se]&&(ee[4*Se]=ae[Se]%P,ee[4*Se+1]=Math.floor(ae[Se]/P)),null!=ue[Se]&&(ee[4*Se+2]=ue[Se]%P,ee[4*Se+3]=Math.floor(ue[Se]/P))}he({data:ee||new Uint8Array(0),type:"uint8",usage:"dynamic"})}return B})}},T.prototype.addMarker=function(g){var w,x=this.markerTextures,b=this.regl,A=this.markerCache,m=null==g?0:A.indexOf(g);if(m>=0)return m;if(g instanceof Uint8Array||g instanceof Uint8ClampedArray)w=g;else{w=new Uint8Array(g.length);for(var C=0,k=g.length;C<k;C++)w[C]=255*g[C]}var P=Math.floor(Math.sqrt(w.length));return m=x.length,A.push(g),x.push(b.texture({channels:1,data:w,radius:P,mag:"linear",min:"linear"})),m},T.prototype.updateColor=function(g){var w=this.paletteIds,x=this.palette,b=this.maxColors;Array.isArray(g)||(g=[g]);var A=[];if("number"==typeof g[0]){var m=[];if(Array.isArray(g))for(var C=0;C<g.length;C+=4)m.push(g.slice(C,C+4));else for(var k=0;k<g.length;k+=4)m.push(g.subarray(k,k+4));g=m}for(var P=0;P<g.length;P++){var R=g[P];R=S(R,"uint8");var L=y(R,!1);if(null==w[L]){var N=x.length;w[L]=Math.floor(N/4),x[N]=R[0],x[N+1]=R[1],x[N+2]=R[2],x[N+3]=R[3]}A[P]=w[L]}return!this.tooManyColors&&x.length>4*b&&(this.tooManyColors=!0),this.updatePalette(x),1===A.length?A[0]:A},T.prototype.updatePalette=function(g){if(!this.tooManyColors){var w=this.maxColors,x=this.paletteTexture,b=Math.ceil(.25*g.length/w);if(b>1)for(var A=.25*(g=g.slice()).length%w;A<b*w;A++)g.push(0,0,0,0);x.height<b&&x.resize(w,b),x.subimage({width:Math.min(.25*g.length,w),height:b,data:g},0,0)}},T.prototype.destroy=function(){return this.groups.forEach(function(g){g.sizeBuffer.destroy(),g.positionBuffer.destroy(),g.positionFractBuffer.destroy(),g.colorBuffer.destroy(),g.activation.forEach(function(w){return w&&w.destroy&&w.destroy()}),g.selectionBuffer.destroy(),g.elements&&g.elements.destroy()}),this.groups.length=0,this.paletteTexture.destroy(),this.markerTextures.forEach(function(g){return g&&g.destroy&&g.destroy()}),this};var _=r(56131);oe.exports=function(g,w){var x=new p(g,w),b=x.render.bind(x);return _(b,{render:b,update:x.update.bind(x),draw:x.draw.bind(x),destroy:x.destroy.bind(x),regl:x.regl,gl:x.gl,canvas:x.gl.canvas,groups:x.groups,markers:x.markerCache,palette:x.palette}),b}},60487:function(oe,j,r){"use strict";var I=r(11870),E=r(71299),f=r(21527),S=r(5877),M=r(57471),y=r(18863),u=r(30120);function i(l,c){if(!(this instanceof i))return new i(l,c);this.traces=[],this.passes={},this.regl=l,this.scatter=I(l),this.canvas=this.scatter.canvas}function s(l,c,h){return(null!=l.id?l.id:l)<<16|(255&c)<<8|255&h}function a(l,c,h){var v,p,T,_,g=l[c],w=l[h];return g.length>2?(v=g[1],p=g[3]):g.length?(v=g[0],p=g[1]):(v=g.y,p=g.y+g.height),w.length>2?(T=w[0],_=w[2]):w.length?(T=w[0],_=w[1]):(T=w.x,_=w.x+w.width),[T,v,_,p]}function o(l){if("number"==typeof l)return[l,l,l,l];if(2===l.length)return[l[0],l[1],l[0],l[1]];var c=y(l);return[c.x,c.y,c.x+c.width,c.y+c.height]}oe.exports=i,i.prototype.render=function(){for(var l,c=this,h=[],v=arguments.length;v--;)h[v]=arguments[v];return h.length&&(l=this).update.apply(l,h),this.regl.attributes.preserveDrawingBuffer?this.draw():(this.dirty?null==this.planned&&(this.planned=S(function(){c.draw(),c.dirty=!0,c.planned=null})):(this.draw(),this.dirty=!0,S(function(){c.dirty=!1})),this)},i.prototype.update=function(){for(var l,c=[],h=arguments.length;h--;)c[h]=arguments[h];if(c.length){for(var v=0;v<c.length;v++)this.updateItem(v,c[v]);this.traces=this.traces.filter(Boolean);for(var p=[],T=0,_=0;_<this.traces.length;_++){for(var g=this.traces[_],w=this.traces[_].passes,x=0;x<w.length;x++)p.push(this.passes[w[x]]);g.passOffset=T,T+=g.passes.length}return(l=this.scatter).update.apply(l,p),this}},i.prototype.updateItem=function(l,c){var h=this.regl;if(null===c)return this.traces[l]=null,this;if(!c)return this;var v,p=E(c,{data:"data items columns rows values dimensions samples x",snap:"snap cluster",size:"sizes size radius",color:"colors color fill fill-color fillColor",opacity:"opacity alpha transparency opaque",borderSize:"borderSizes borderSize border-size bordersize borderWidth borderWidths border-width borderwidth stroke-width strokeWidth strokewidth outline",borderColor:"borderColors borderColor bordercolor stroke stroke-color strokeColor",marker:"markers marker shape",range:"range ranges databox dataBox",viewport:"viewport viewBox viewbox",domain:"domain domains area areas",padding:"pad padding paddings pads margin margins",transpose:"transpose transposed",diagonal:"diagonal diag showDiagonal",upper:"upper up top upperhalf upperHalf showupperhalf showUpper showUpperHalf",lower:"lower low bottom lowerhalf lowerHalf showlowerhalf showLowerHalf showLower"}),T=this.traces[l]||(this.traces[l]={id:l,buffer:h.buffer({usage:"dynamic",type:"float",data:new Uint8Array}),color:"black",marker:null,size:12,borderColor:"transparent",borderSize:1,viewport:y([h._gl.drawingBufferWidth,h._gl.drawingBufferHeight]),padding:[0,0,0,0],opacity:1,diagonal:!0,upper:!0,lower:!0});if(null!=p.color&&(T.color=p.color),null!=p.size&&(T.size=p.size),null!=p.marker&&(T.marker=p.marker),null!=p.borderColor&&(T.borderColor=p.borderColor),null!=p.borderSize&&(T.borderSize=p.borderSize),null!=p.opacity&&(T.opacity=p.opacity),p.viewport&&(T.viewport=y(p.viewport)),null!=p.diagonal&&(T.diagonal=p.diagonal),null!=p.upper&&(T.upper=p.upper),null!=p.lower&&(T.lower=p.lower),p.data){T.buffer(u(p.data)),T.columns=p.data.length,T.count=p.data[0].length,T.bounds=[];for(var _=0;_<T.columns;_++)T.bounds[_]=f(p.data[_],1)}p.range&&(T.range=p.range,v=T.range&&"number"!=typeof T.range[0]),p.domain&&(T.domain=p.domain);var g=!1;null!=p.padding&&(Array.isArray(p.padding)&&p.padding.length===T.columns&&"number"==typeof p.padding[p.padding.length-1]?(T.padding=p.padding.map(o),g=!0):T.padding=o(p.padding));var w=T.columns,x=T.count,b=T.viewport.width,A=T.viewport.height,m=T.viewport.x,C=T.viewport.y,k=b/w,P=A/w;T.passes=[];for(var R=0;R<w;R++)for(var L=0;L<w;L++)if((T.diagonal||L!==R)&&(T.upper||!(R>L))&&(T.lower||!(R<L))){var N=s(T.id,R,L),B=this.passes[N]||(this.passes[N]={});if(p.data&&(B.positions=p.transpose?{x:{buffer:T.buffer,offset:L,count:x,stride:w},y:{buffer:T.buffer,offset:R,count:x,stride:w}}:{x:{buffer:T.buffer,offset:L*x,count:x},y:{buffer:T.buffer,offset:R*x,count:x}},B.bounds=a(T.bounds,R,L)),p.domain||p.viewport||p.data){var J=g?a(T.padding,R,L):T.padding;if(T.domain){var z=a(T.domain,R,L);B.viewport=[m+z[0]*b+J[0],C+z[1]*A+J[1],m+z[2]*b-J[2],C+z[3]*A-J[3]]}else B.viewport=[m+L*k+k*J[0],C+R*P+P*J[1],m+(L+1)*k-k*J[2],C+(R+1)*P-P*J[3]]}p.color&&(B.color=T.color),p.size&&(B.size=T.size),p.marker&&(B.marker=T.marker),p.borderSize&&(B.borderSize=T.borderSize),p.borderColor&&(B.borderColor=T.borderColor),p.opacity&&(B.opacity=T.opacity),p.range&&(B.range=v?a(T.range,R,L):T.range||B.bounds),T.passes.push(N)}return this},i.prototype.draw=function(){for(var l,c=[],h=arguments.length;h--;)c[h]=arguments[h];if(c.length){for(var v=[],p=0;p<c.length;p++)if("number"==typeof c[p]){var T=this.traces[c[p]],g=T.passOffset;v.push.apply(v,M(g,g+T.passes.length))}else if(c[p].length){var w=c[p],x=this.traces[p],b=x.passes,A=x.passOffset;b=b.map(function(m,C){v[A+C]=w})}(l=this.scatter).draw.apply(l,v)}else this.scatter.draw();return this},i.prototype.destroy=function(){return this.traces.forEach(function(l){l.buffer&&l.buffer.destroy&&l.buffer.destroy()}),this.traces=null,this.passes=null,this.scatter.destroy(),this}},98580:function(oe){oe.exports=function(){function j(Je,it){this.id=ue++,this.type=Je,this.data=it}function r(Je){if(0===Je.length)return[];var it=Je.charAt(0),dt=Je.charAt(Je.length-1);if(1<Je.length&&it===dt&&('"'===it||"'"===it))return['"'+Je.substr(1,Je.length-2).replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'];if(it=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(Je))return r(Je.substr(0,it.index)).concat(r(it[1])).concat(r(Je.substr(it.index+it[0].length)));if(1===(it=Je.split(".")).length)return['"'+Je.replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'];for(Je=[],dt=0;dt<it.length;++dt)Je=Je.concat(r(it[dt]));return Je}function I(Je){return"["+r(Je).join("][")+"]"}function E(Je){return"string"==typeof Je?Je.split():Je}function f(Je){return"string"==typeof Je?document.querySelector(Je):Je}function M(Je,it){for(var dt=Array(Je),ht=0;ht<Je;++ht)dt[ht]=it(ht);return dt}function y(Je){var it,dt;return it=(65535<Je)<<4,it|=dt=(255<(Je>>>=it))<<3,(it|=dt=(15<(Je>>>=dt))<<2)|(dt=(3<(Je>>>=dt))<<1)|Je>>>dt>>1}function u(){function Je(ht){e:{for(var Ve=16;268435456>=Ve;Ve*=16)if(ht<=Ve){ht=Ve;break e}ht=0}return 0<(Ve=dt[y(ht)>>2]).length?Ve.pop():new ArrayBuffer(ht)}function it(ht){dt[y(ht.byteLength)>>2].push(ht)}var dt=M(8,function(){return[]});return{alloc:Je,free:it,allocType:function(ht,Ve){var qe=null;switch(ht){case 5120:qe=new Int8Array(Je(Ve),0,Ve);break;case 5121:qe=new Uint8Array(Je(Ve),0,Ve);break;case 5122:qe=new Int16Array(Je(2*Ve),0,Ve);break;case 5123:qe=new Uint16Array(Je(2*Ve),0,Ve);break;case 5124:qe=new Int32Array(Je(4*Ve),0,Ve);break;case 5125:qe=new Uint32Array(Je(4*Ve),0,Ve);break;case 5126:qe=new Float32Array(Je(4*Ve),0,Ve);break;default:return null}return qe.length!==Ve?qe.subarray(0,Ve):qe},freeType:function(ht){it(ht.buffer)}}}function i(Je){return!!Je&&"object"==typeof Je&&Array.isArray(Je.shape)&&Array.isArray(Je.stride)&&"number"==typeof Je.offset&&Je.shape.length===Je.stride.length&&(Array.isArray(Je.data)||Te(Je.data))}function s(Je,it,dt,ht,Ve,qe){for(var ut=0;ut<it;++ut)for(var ft=Je[ut],St=0;St<dt;++St)for(var Mt=ft[St],Tt=0;Tt<ht;++Tt)Ve[qe++]=Mt[Tt]}function a(Je,it,dt,ht,Ve){for(var qe=1,ut=dt+1;ut<it.length;++ut)qe*=it[ut];var ft=it[dt];if(it.length-dt==4){var St=it[dt+1],Mt=it[dt+2];for(it=it[dt+3],ut=0;ut<ft;++ut)s(Je[ut],St,Mt,it,ht,Ve),Ve+=qe}else for(ut=0;ut<ft;++ut)a(Je[ut],it,dt+1,ht,Ve),Ve+=qe}function o(Je){return 0|ze[Object.prototype.toString.call(Je)]}function l(Je,it){for(var dt=0;dt<it.length;++dt)Je[dt]=it[dt]}function c(Je,it,dt,ht,Ve,qe,ut){for(var ft=0,St=0;St<dt;++St)for(var Mt=0;Mt<ht;++Mt)Je[ft++]=it[Ve*St+qe*Mt+ut]}function p(Je){for(var it=xe.allocType(5123,Je.length),dt=0;dt<Je.length;++dt)if(isNaN(Je[dt]))it[dt]=65535;else if(Je[dt]===1/0)it[dt]=31744;else if(Je[dt]===-1/0)it[dt]=64512;else{Ne[0]=Je[dt];var ht=(qe=De[0])>>>31<<15,Ve=(qe<<1>>>24)-127,qe=qe>>13&1023;it[dt]=-24>Ve?ht:-14>Ve?ht+(qe+1024>>-14-Ve):15<Ve?ht+31744:ht+(Ve+15<<10)+qe}return it}function T(Je){return Array.isArray(Je)||Te(Je)}function _(Je){return"[object "+Je+"]"}function g(Je){return Array.isArray(Je)&&(0===Je.length||"number"==typeof Je[0])}function w(Je){return!(!Array.isArray(Je)||0===Je.length||!T(Je[0]))}function x(Je){return Object.prototype.toString.call(Je)}function b(Je){if(!Je)return!1;var it=x(Je);return 0<=tt.indexOf(it)||g(Je)||w(Je)||i(Je)}function A(Je,it){36193===Je.type?(Je.data=p(it),xe.freeType(it)):Je.data=it}function m(Je,it,dt,ht,Ve,qe){if(Je=void 0!==gt[Je]?gt[Je]:_e[Je]*st[it],qe&&(Je*=6),Ve){for(ht=0;1<=dt;)ht+=Je*dt*dt,dt/=2;return ht}return Je*dt*ht}function P(){this.w=this.z=this.y=this.x=this.state=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=5126,this.divisor=this.stride=this.offset=0}function B(Je,it){return Je>>>it|Je<<32-it}function J(Je,it){var dt=(65535&Je)+(65535&it);return(Je>>16)+(it>>16)+(dt>>16)<<16|65535&dt}function z(Je){return Array.prototype.slice.call(Je)}function Y(Je){return z(Je).join("")}function U(Je){return Array.isArray(Je)||Te(Je)||i(Je)}function Z(Je){return Je.sort(function(it,dt){return"viewport"===it?-1:"viewport"===dt?1:it<dt?-1:1})}function X(Je,it,dt,ht){this.thisDep=Je,this.contextDep=it,this.propDep=dt,this.append=ht}function se(Je){return Je&&!(Je.thisDep||Je.contextDep||Je.propDep)}function re(Je){return new X(!1,!1,!1,Je)}function ee(Je,it){var dt=Je.type;if(0===dt)return new X(!0,1<=(dt=Je.data.length),2<=dt,it);if(4===dt)return new X((dt=Je.data).thisDep,dt.contextDep,dt.propDep,it);if(5===dt)return new X(!1,!1,!1,it);if(6===dt){for(var ht=dt=!1,Ve=!1,qe=0;qe<Je.data.length;++qe){var ut=Je.data[qe];1===ut.type?Ve=!0:2===ut.type?ht=!0:3===ut.type?dt=!0:0===ut.type?(dt=!0,1<=(ut=ut.data)&&(ht=!0),2<=ut&&(Ve=!0)):4===ut.type&&(dt=dt||ut.data.thisDep,ht=ht||ut.data.contextDep,Ve=Ve||ut.data.propDep)}return new X(dt,ht,Ve,it)}return new X(3===dt,2===dt,1===dt,it)}function K(Je,it,dt,ht,Ve,qe,ut,ft,St,Mt,Tt,xt,Nt,bt,wt,It){function Wt(Ft){return Ft.replace(".","_")}function Yt(Ft,an,pn){var En=Wt(Ft);fr.push(Ft),Bn[En]=Dn[En]=!!pn,bn[En]=an}function Zt(Ft,an,pn){var En=Wt(Ft);fr.push(Ft),Array.isArray(pn)?(Dn[En]=pn.slice(),Bn[En]=pn.slice()):Dn[En]=Bn[En]=pn,Qn[En]=an}function dn(){var Ft=function q(Je){function it(){var Tt=[],xt=[];return ae(function(){Tt.push.apply(Tt,z(arguments))},{def:function(){var Nt="v"+Ve++;return xt.push(Nt),0<arguments.length&&(Tt.push(Nt,"="),Tt.push.apply(Tt,z(arguments)),Tt.push(";")),Nt},toString:function(){return Y([0<xt.length?"var "+xt.join(",")+";":"",Y(Tt)])}})}function dt(){function Tt(It,Wt){Nt(It,Wt,"=",xt.def(It,Wt),";")}var xt=it(),Nt=it(),bt=xt.toString,wt=Nt.toString;return ae(function(){xt.apply(xt,z(arguments))},{def:xt.def,entry:xt,exit:Nt,save:Tt,set:function(It,Wt,Yt){Tt(It,Wt),xt(It,Wt,"=",Yt,";")},toString:function(){return bt()+wt()}})}var ht=Je&&Je.cache,Ve=0,qe=[],ut=[],ft=[],St=it(),Mt={};return{global:St,link:function(Tt,xt){var Nt=xt&&xt.stable;if(!Nt)for(var bt=0;bt<ut.length;++bt)if(ut[bt]===Tt&&!ft[bt])return qe[bt];return bt="g"+Ve++,qe.push(bt),ut.push(Tt),ft.push(Nt),bt},block:it,proc:function(Tt,xt){function Nt(){var Wt="a"+bt.length;return bt.push(Wt),Wt}var bt=[];xt=xt||0;for(var wt=0;wt<xt;++wt)Nt();var It=(wt=dt()).toString;return Mt[Tt]=ae(wt,{arg:Nt,toString:function(){return Y(["function(",bt.join(),"){",It(),"}"])}})},scope:dt,cond:function(){var Tt=Y(arguments),xt=dt(),Nt=dt(),bt=xt.toString,wt=Nt.toString;return ae(xt,{then:function(){return xt.apply(xt,z(arguments)),this},else:function(){return Nt.apply(Nt,z(arguments)),this},toString:function(){var It=wt();return It&&(It="else{"+It+"}"),Y(["if(",Tt,"){",bt(),"}",It])}})},compile:function(){var Tt=['"use strict";',St,"return {"];Object.keys(Mt).forEach(function(bt){Tt.push('"',bt,'":',Mt[bt].toString(),",")}),Tt.push("}");var xt,Nt=Y(Tt).replace(/;/g,";\n").replace(/}/g,"}\n").replace(/{/g,"{\n");return ht&&(xt=function(bt){for(var wt,It="",Wt=0;Wt<bt.length;Wt++)wt=bt.charCodeAt(Wt),It+="0123456789abcdef".charAt(wt>>>4&15)+"0123456789abcdef".charAt(15&wt);return It}(function(bt){for(var wt=Array(bt.length>>2),It=0;It<wt.length;It++)wt[It]=0;for(It=0;It<8*bt.length;It+=8)wt[It>>5]|=(255&bt.charCodeAt(It/8))<<24-It%32;var Wt,Yt,Zt,dn,nn,un,rn,kn,Pn,Sn,en,vn=8*bt.length;for(bt=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225],It=Array(64),wt[vn>>5]|=128<<24-vn%32,wt[15+(vn+64>>9<<4)]=vn,kn=0;kn<wt.length;kn+=16){for(vn=bt[0],Wt=bt[1],Yt=bt[2],Zt=bt[3],dn=bt[4],nn=bt[5],un=bt[6],rn=bt[7],Pn=0;64>Pn;Pn++){var hn;16>Pn?It[Pn]=wt[Pn+kn]:(Sn=Pn,en=J(en=B(en=It[Pn-2],17)^B(en,19)^en>>>10,It[Pn-7]),hn=B(hn=It[Pn-15],7)^B(hn,18)^hn>>>3,It[Sn]=J(J(en,hn),It[Pn-16])),Sn=J(J(J(J(rn,Sn=B(Sn=dn,6)^B(Sn,11)^B(Sn,25)),dn&nn^~dn&un),mt[Pn]),It[Pn]),en=J(rn=B(rn=vn,2)^B(rn,13)^B(rn,22),vn&Wt^vn&Yt^Wt&Yt),rn=un,un=nn,nn=dn,dn=J(Zt,Sn),Zt=Yt,Yt=Wt,Wt=vn,vn=J(Sn,en)}bt[0]=J(vn,bt[0]),bt[1]=J(Wt,bt[1]),bt[2]=J(Yt,bt[2]),bt[3]=J(Zt,bt[3]),bt[4]=J(dn,bt[4]),bt[5]=J(nn,bt[5]),bt[6]=J(un,bt[6]),bt[7]=J(rn,bt[7])}for(wt="",It=0;It<32*bt.length;It+=8)wt+=String.fromCharCode(bt[It>>5]>>>24-It%32&255);return wt}(function(bt){for(var wt,It,Wt="",Yt=-1;++Yt<bt.length;)wt=bt.charCodeAt(Yt),It=Yt+1<bt.length?bt.charCodeAt(Yt+1):0,55296<=wt&&56319>=wt&&56320<=It&&57343>=It&&(wt=65536+((1023&wt)<<10)+(1023&It),Yt++),127>=wt?Wt+=String.fromCharCode(wt):2047>=wt?Wt+=String.fromCharCode(192|wt>>>6&31,128|63&wt):65535>=wt?Wt+=String.fromCharCode(224|wt>>>12&15,128|wt>>>6&63,128|63&wt):2097151>=wt&&(Wt+=String.fromCharCode(240|wt>>>18&7,128|wt>>>12&63,128|wt>>>6&63,128|63&wt));return Wt}(Nt))),ht[xt])?ht[xt].apply(null,ut):(Nt=Function.apply(null,qe.concat(Nt)),ht&&(ht[xt]=Nt),Nt.apply(null,ut))}}}({cache:wt}),an=Ft.link,pn=Ft.global;Ft.id=Nn++,Ft.batchId="0";var En=an(er),Rn=Ft.shared={props:"a0"};Object.keys(er).forEach(function(wn){Rn[wn]=pn.def(En,".",wn)});var jn=Ft.next={},Tn=Ft.current={};Object.keys(Qn).forEach(function(wn){Array.isArray(Dn[wn])&&(jn[wn]=pn.def(Rn.next,".",wn),Tn[wn]=pn.def(Rn.current,".",wn))});var ln=Ft.constants={};Object.keys(Jt).forEach(function(wn){ln[wn]=pn.def(JSON.stringify(Jt[wn]))}),Ft.invoke=function(wn,Mn){switch(Mn.type){case 0:var Hn=["this",Rn.context,Rn.props,Ft.batchId];return wn.def(an(Mn.data),".call(",Hn.slice(0,Math.max(Mn.data.length+1,4)),")");case 1:return wn.def(Rn.props,Mn.data);case 2:return wn.def(Rn.context,Mn.data);case 3:return wn.def("this",Mn.data);case 4:return Mn.data.append(Ft,wn),Mn.data.ref;case 5:return Mn.data.toString();case 6:return Mn.data.map(function(Wn){return Ft.invoke(wn,Wn)})}},Ft.attribCache={};var fn={};return Ft.scopeAttrib=function(wn){if((wn=it.id(wn))in fn)return fn[wn];var Mn=Mt.scope[wn];return Mn||(Mn=Mt.scope[wn]=new mr),fn[wn]=an(Mn)},Ft}function Pn(Ft,an,pn,En,Rn){function jn(xr){var sr=ln[xr];sr&&(wn[xr]=sr)}var xr,hr,Ar,Sr,Tn=function(xr,sr){if("string"==typeof(hr=xr.static).frag&&"string"==typeof hr.vert){if(0<Object.keys(sr.dynamic).length)return null;var hr=sr.static,Ar=Object.keys(hr);if(0<Ar.length&&"number"==typeof hr[Ar[0]]){for(var Sr=[],Pr=0;Pr<Ar.length;++Pr)Sr.push([0|hr[Ar[Pr]],Ar[Pr]]);return Sr}}return null}(Ft,an),ln=function(xr,sr,hr){function Ar(Xr){if(Xr in Sr){var ir=Sr[Xr];Xr=!0;var Fr,ii,qi=0|ir.x,go=0|ir.y;return"width"in ir?Fr=0|ir.width:Xr=!1,"height"in ir?ii=0|ir.height:Xr=!1,new X(!Xr&&sr&&sr.thisDep,!Xr&&sr&&sr.contextDep,!Xr&&sr&&sr.propDep,function(so,Ki){var Co=so.shared.context,Gs=Fr;"width"in ir||(Gs=Ki.def(Co,".","framebufferWidth","-",qi));var fi=ii;return"height"in ir||(fi=Ki.def(Co,".","framebufferHeight","-",go)),[qi,go,Gs,fi]})}if(Xr in Pr){var ao=Pr[Xr];return Xr=ee(ao,function(so,Ki){var Co=so.invoke(Ki,ao),Gs=so.shared.context,fi=Ki.def(Co,".x|0"),Ds=Ki.def(Co,".y|0");return[fi,Ds,Ki.def('"width" in ',Co,"?",Co,".width|0:","(",Gs,".","framebufferWidth","-",fi,")"),Co=Ki.def('"height" in ',Co,"?",Co,".height|0:","(",Gs,".","framebufferHeight","-",Ds,")")]}),sr&&(Xr.thisDep=Xr.thisDep||sr.thisDep,Xr.contextDep=Xr.contextDep||sr.contextDep,Xr.propDep=Xr.propDep||sr.propDep),Xr}return sr?new X(sr.thisDep,sr.contextDep,sr.propDep,function(so,Ki){var Co=so.shared.context;return[0,0,Ki.def(Co,".","framebufferWidth"),Ki.def(Co,".","framebufferHeight")]}):null}var Sr=xr.static,Pr=xr.dynamic;if(xr=Ar("viewport")){var tr=xr;xr=new X(xr.thisDep,xr.contextDep,xr.propDep,function(Xr,ir){var Fr=tr.append(Xr,ir),ii=Xr.shared.context;return ir.set(ii,".viewportWidth",Fr[2]),ir.set(ii,".viewportHeight",Fr[3]),Fr})}return{viewport:xr,scissor_box:Ar("scissor.box")}}(Ft,Hn=function nn(Ft,an){var pn=Ft.static,En=Ft.dynamic;if("framebuffer"in pn){var Rn=pn.framebuffer;return Rn?(Rn=ft.getFramebuffer(Rn),re(function(Tn,ln){var fn=Tn.link(Rn),wn=Tn.shared;return ln.set(wn.framebuffer,".next",fn),ln.set(wn=wn.context,".framebufferWidth",fn+".width"),ln.set(wn,".framebufferHeight",fn+".height"),fn})):re(function(Tn,ln){var fn=Tn.shared;return ln.set(fn.framebuffer,".next","null"),ln.set(fn=fn.context,".framebufferWidth",fn+".drawingBufferWidth"),ln.set(fn,".framebufferHeight",fn+".drawingBufferHeight"),"null"})}if("framebuffer"in En){var jn=En.framebuffer;return ee(jn,function(Tn,ln){var fn=Tn.invoke(ln,jn),wn=Tn.shared,Mn=wn.framebuffer;return fn=ln.def(Mn,".getFramebuffer(",fn,")"),ln.set(Mn,".next",fn),ln.set(wn=wn.context,".framebufferWidth",fn+"?"+fn+".width:"+wn+".drawingBufferWidth"),ln.set(wn,".framebufferHeight",fn+"?"+fn+".height:"+wn+".drawingBufferHeight"),fn})}return null}(Ft)),fn=function rn(Ft,an){function pn(or,xr){if(or in En){var sr=0|En[or];return xr?jn.offset=sr:jn.instances=sr,re(function(Ar,Sr){return xr&&(Ar.OFFSET=sr),sr})}if(or in Rn){var hr=Rn[or];return ee(hr,function(Ar,Sr){var Pr=Ar.invoke(Sr,hr);return xr&&(Ar.OFFSET=Pr),Pr})}if(xr){if(fn)return re(function(Ar,Sr){return Ar.OFFSET=0});if(Tn)return new X(ln.thisDep,ln.contextDep,ln.propDep,function(Ar,Sr){return Sr.def(Ar.shared.vao+".currentVAO?"+Ar.shared.vao+".currentVAO.offset:0")})}else if(Tn)return new X(ln.thisDep,ln.contextDep,ln.propDep,function(Ar,Sr){return Sr.def(Ar.shared.vao+".currentVAO?"+Ar.shared.vao+".currentVAO.instances:-1")});return null}var En=Ft.static,Rn=Ft.dynamic,jn={},Tn=!1,ln=function(){if("vao"in En){var or=En.vao;return null!==or&&null===Mt.getVAO(or)&&(or=Mt.createVAO(or)),Tn=!0,jn.vao=or,re(function(sr){var hr=Mt.getVAO(or);return hr?sr.link(hr):"null"})}if("vao"in Rn){Tn=!0;var xr=Rn.vao;return ee(xr,function(sr,hr){var Ar=sr.invoke(hr,xr);return hr.def(sr.shared.vao+".getVAO("+Ar+")")})}return null}(),fn=!1,wn=function(){if("elements"in En){var or=En.elements;if(jn.elements=or,U(or)){var xr=jn.elements=qe.create(or,!0);or=qe.getElements(xr),fn=!0}else or&&(or=qe.getElements(or),fn=!0);return(xr=re(function(hr,Ar){if(or){var Sr=hr.link(or);return hr.ELEMENTS=Sr}return hr.ELEMENTS=null})).value=or,xr}if("elements"in Rn){fn=!0;var sr=Rn.elements;return ee(sr,function(hr,Ar){var Sr=(Pr=hr.shared).isBufferArgs,Pr=Pr.elements,tr=hr.invoke(Ar,sr),Xr=Ar.def("null");return Sr=Ar.def(Sr,"(",tr,")"),tr=hr.cond(Sr).then(Xr,"=",Pr,".createStream(",tr,");").else(Xr,"=",Pr,".getElements(",tr,");"),Ar.entry(tr),Ar.exit(hr.cond(Sr).then(Pr,".destroyStream(",Xr,");")),hr.ELEMENTS=Xr})}return Tn?new X(ln.thisDep,ln.contextDep,ln.propDep,function(hr,Ar){return Ar.def(hr.shared.vao+".currentVAO?"+hr.shared.elements+".getElements("+hr.shared.vao+".currentVAO.elements):null")}):null}(),Mn=pn("offset",!0),Hn=function(){if("primitive"in En){var or=En.primitive;return jn.primitive=or,re(function(sr,hr){return Ae[or]})}if("primitive"in Rn){var xr=Rn.primitive;return ee(xr,function(sr,hr){var Ar=sr.constants.primTypes,Sr=sr.invoke(hr,xr);return hr.def(Ar,"[",Sr,"]")})}return fn?se(wn)?re(wn.value?function(sr,hr){return hr.def(sr.ELEMENTS,".primType")}:function(){return 4}):new X(wn.thisDep,wn.contextDep,wn.propDep,function(sr,hr){var Ar=sr.ELEMENTS;return hr.def(Ar,"?",Ar,".primType:",4)}):Tn?new X(ln.thisDep,ln.contextDep,ln.propDep,function(sr,hr){return hr.def(sr.shared.vao+".currentVAO?"+sr.shared.vao+".currentVAO.primitive:4")}):null}(),Wn=function(){if("count"in En){var or=0|En.count;return jn.count=or,re(function(){return or})}if("count"in Rn){var xr=Rn.count;return ee(xr,function(sr,hr){return sr.invoke(hr,xr)})}return fn?se(wn)?wn?Mn?new X(Mn.thisDep,Mn.contextDep,Mn.propDep,function(sr,hr){return hr.def(sr.ELEMENTS,".vertCount-",sr.OFFSET)}):re(function(sr,hr){return hr.def(sr.ELEMENTS,".vertCount")}):re(function(){return-1}):new X(wn.thisDep||Mn.thisDep,wn.contextDep||Mn.contextDep,wn.propDep||Mn.propDep,function(sr,hr){var Ar=sr.ELEMENTS;return sr.OFFSET?hr.def(Ar,"?",Ar,".vertCount-",sr.OFFSET,":-1"):hr.def(Ar,"?",Ar,".vertCount:-1")}):Tn?new X(ln.thisDep,ln.contextDep,ln.propDep,function(sr,hr){return hr.def(sr.shared.vao,".currentVAO?",sr.shared.vao,".currentVAO.count:-1")}):null}(),cr=pn("instances",!1);return{elements:wn,primitive:Hn,count:Wn,instances:cr,offset:Mn,vao:ln,vaoActive:Tn,elementsActive:fn,static:jn}}(Ft),wn=(hr=(xr=Ft).static,Ar=xr.dynamic,Sr={},fr.forEach(function(Pr){function tr(ir,Fr){if(Pr in hr){var ii=ir(hr[Pr]);Sr[Xr]=re(function(){return ii})}else if(Pr in Ar){var qi=Ar[Pr];Sr[Xr]=ee(qi,function(go,ao){return Fr(go,ao,go.invoke(ao,qi))})}}var Xr=Wt(Pr);switch(Pr){case"cull.enable":case"blend.enable":case"dither":case"stencil.enable":case"depth.enable":case"scissor.enable":case"polygonOffset.enable":case"sample.alpha":case"sample.enable":case"depth.mask":case"lineWidth":return tr(function(ir){return ir},function(ir,Fr,ii){return ii});case"depth.func":return tr(function(ir){return Ut[ir]},function(ir,Fr,ii){return Fr.def(ir.constants.compareFuncs,"[",ii,"]")});case"depth.range":return tr(function(ir){return ir},function(ir,Fr,ii){return[Fr.def("+",ii,"[0]"),Fr=Fr.def("+",ii,"[1]")]});case"blend.func":return tr(function(ir){return[Rt["srcRGB"in ir?ir.srcRGB:ir.src],Rt["dstRGB"in ir?ir.dstRGB:ir.dst],Rt["srcAlpha"in ir?ir.srcAlpha:ir.src],Rt["dstAlpha"in ir?ir.dstAlpha:ir.dst]]},function(ir,Fr,ii){function qi(Ki,Co){return Fr.def('"',Ki,Co,'" in ',ii,"?",ii,".",Ki,Co,":",ii,".",Ki)}ir=ir.constants.blendFuncs;var go=qi("src","RGB"),ao=qi("dst","RGB"),so=(go=Fr.def(ir,"[",go,"]"),Fr.def(ir,"[",qi("src","Alpha"),"]"));return[go,ao=Fr.def(ir,"[",ao,"]"),so,ir=Fr.def(ir,"[",qi("dst","Alpha"),"]")]});case"blend.equation":return tr(function(ir){return"string"==typeof ir?[Br[ir],Br[ir]]:"object"==typeof ir?[Br[ir.rgb],Br[ir.alpha]]:void 0},function(ir,Fr,ii){var qi=ir.constants.blendEquations,go=Fr.def(),ao=Fr.def();return(ir=ir.cond("typeof ",ii,'==="string"')).then(go,"=",ao,"=",qi,"[",ii,"];"),ir.else(go,"=",qi,"[",ii,".rgb];",ao,"=",qi,"[",ii,".alpha];"),Fr(ir),[go,ao]});case"blend.color":return tr(function(ir){return M(4,function(Fr){return+ir[Fr]})},function(ir,Fr,ii){return M(4,function(qi){return Fr.def("+",ii,"[",qi,"]")})});case"stencil.mask":return tr(function(ir){return 0|ir},function(ir,Fr,ii){return Fr.def(ii,"|0")});case"stencil.func":return tr(function(ir){return[Ut[ir.cmp||"keep"],ir.ref||0,"mask"in ir?ir.mask:-1]},function(ir,Fr,ii){return[ir=Fr.def('"cmp" in ',ii,"?",ir.constants.compareFuncs,"[",ii,".cmp]",":",7680),Fr.def(ii,".ref|0"),Fr=Fr.def('"mask" in ',ii,"?",ii,".mask|0:-1")]});case"stencil.opFront":case"stencil.opBack":return tr(function(ir){return["stencil.opBack"===Pr?1029:1028,Bt[ir.fail||"keep"],Bt[ir.zfail||"keep"],Bt[ir.zpass||"keep"]]},function(ir,Fr,ii){function qi(ao){return Fr.def('"',ao,'" in ',ii,"?",go,"[",ii,".",ao,"]:",7680)}var go=ir.constants.stencilOps;return["stencil.opBack"===Pr?1029:1028,qi("fail"),qi("zfail"),qi("zpass")]});case"polygonOffset.offset":return tr(function(ir){return[0|ir.factor,0|ir.units]},function(ir,Fr,ii){return[Fr.def(ii,".factor|0"),Fr=Fr.def(ii,".units|0")]});case"cull.face":return tr(function(ir){var Fr=0;return"front"===ir?Fr=1028:"back"===ir&&(Fr=1029),Fr},function(ir,Fr,ii){return Fr.def(ii,'==="front"?',1028,":",1029)});case"frontFace":return tr(function(ir){return rt[ir]},function(ir,Fr,ii){return Fr.def(ii+'==="cw"?2304:2305')});case"colorMask":return tr(function(ir){return ir.map(function(Fr){return!!Fr})},function(ir,Fr,ii){return M(4,function(qi){return"!!"+ii+"["+qi+"]"})});case"sample.coverage":return tr(function(ir){return["value"in ir?ir.value:1,!!ir.invert]},function(ir,Fr,ii){return[Fr.def('"value" in ',ii,"?+",ii,".value:1"),Fr=Fr.def("!!",ii,".invert")]})}}),Sr),Mn=function un(Ft,an,pn){function En(wn){if(wn in Rn){var Mn=it.id(Rn[wn]);return(wn=re(function(){return Mn})).id=Mn,wn}if(wn in jn){var Hn=jn[wn];return ee(Hn,function(Wn,cr){var or=Wn.invoke(cr,Hn);return cr.def(Wn.shared.strings,".id(",or,")")})}return null}var Rn=Ft.static,jn=Ft.dynamic,Tn=En("frag"),ln=En("vert"),fn=null;return se(Tn)&&se(ln)?(fn=Tt.program(ln.id,Tn.id,null,pn),Ft=re(function(wn,Mn){return wn.link(fn)})):Ft=new X(Tn&&Tn.thisDep||ln&&ln.thisDep,Tn&&Tn.contextDep||ln&&ln.contextDep,Tn&&Tn.propDep||ln&&ln.propDep,function(wn,Mn){var Hn,Wn,cr=wn.shared.shader;return Hn=Tn?Tn.append(wn,Mn):Mn.def(cr,".","frag"),Wn=ln?ln.append(wn,Mn):Mn.def(cr,".","vert"),Mn.def(cr+".program("+Wn+","+Hn+")")}),{frag:Tn,vert:ln,progVar:Ft,program:fn}}(Ft,0,Tn);jn("viewport"),jn(Wt("scissor.box"));var Hn,Wn=0<Object.keys(wn).length;if((Hn={framebuffer:Hn,draw:fn,shader:Mn,state:wn,dirty:Wn,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}}).profile=function(xr){var sr,hr=xr.static;if(xr=xr.dynamic,"profile"in hr){var Ar=!!hr.profile;(sr=re(function(Pr,tr){return Ar})).enable=Ar}else if("profile"in xr){var Sr=xr.profile;sr=ee(Sr,function(Pr,tr){return Pr.invoke(tr,Sr)})}return sr}(Ft),Hn.uniforms=function(xr,sr){var hr=xr.static,Ar=xr.dynamic,Sr={};return Object.keys(hr).forEach(function(Pr){var tr,Xr=hr[Pr];if("number"==typeof Xr||"boolean"==typeof Xr)tr=re(function(){return Xr});else if("function"==typeof Xr){var ir=Xr._reglType;"texture2d"===ir||"textureCube"===ir?tr=re(function(Fr){return Fr.link(Xr)}):"framebuffer"!==ir&&"framebufferCube"!==ir||(tr=re(function(Fr){return Fr.link(Xr.color[0])}))}else T(Xr)&&(tr=re(function(Fr){return Fr.global.def("[",M(Xr.length,function(ii){return Xr[ii]}),"]")}));tr.value=Xr,Sr[Pr]=tr}),Object.keys(Ar).forEach(function(Pr){var tr=Ar[Pr];Sr[Pr]=ee(tr,function(Xr,ir){return Xr.invoke(ir,tr)})}),Sr}(pn),Hn.drawVAO=Hn.scopeVAO=fn.vao,!Hn.drawVAO&&Mn.program&&!Tn&&dt.angle_instanced_arrays&&fn.static.elements){var cr=!0;if(Ft=Mn.program.attributes.map(function(xr){return xr=an.static[xr],cr=cr&&!!xr,xr}),cr&&0<Ft.length){var or=Mt.getVAO(Mt.createVAO({attributes:Ft,elements:fn.static.elements}));Hn.drawVAO=new X(null,null,null,function(xr,sr){return xr.link(or)}),Hn.useVAO=!0}}return Tn?Hn.useVAO=!0:Hn.attributes=function kn(Ft,an){var pn=Ft.static,En=Ft.dynamic,Rn={};return Object.keys(pn).forEach(function(jn){var Tn=pn[jn],ln=it.id(jn),fn=new mr;if(U(Tn))fn.state=1,fn.buffer=Ve.getBuffer(Ve.create(Tn,34962,!1,!0)),fn.type=0;else if(Mn=Ve.getBuffer(Tn))fn.state=1,fn.buffer=Mn,fn.type=0;else if("constant"in Tn){var wn=Tn.constant;fn.buffer="null",fn.state=2,"number"==typeof wn?fn.x=wn:Et.forEach(function(sr,hr){hr<wn.length&&(fn[sr]=wn[hr])})}else{var Mn=U(Tn.buffer)?Ve.getBuffer(Ve.create(Tn.buffer,34962,!1,!0)):Ve.getBuffer(Tn.buffer),Hn=0|Tn.offset,Wn=0|Tn.stride,cr=0|Tn.size,or=!!Tn.normalized,xr=0;"type"in Tn&&(xr=ke[Tn.type]),Tn=0|Tn.divisor,fn.buffer=Mn,fn.state=1,fn.size=cr,fn.normalized=or,fn.type=xr||Mn.dtype,fn.offset=Hn,fn.stride=Wn,fn.divisor=Tn}Rn[jn]=re(function(sr,hr){var Ar=sr.attribCache;if(ln in Ar)return Ar[ln];var Sr={isStream:!1};return Object.keys(fn).forEach(function(Pr){Sr[Pr]=fn[Pr]}),fn.buffer&&(Sr.buffer=sr.link(fn.buffer),Sr.type=Sr.type||Sr.buffer+".dtype"),Ar[ln]=Sr})}),Object.keys(En).forEach(function(jn){var Tn=En[jn];Rn[jn]=ee(Tn,function(ln,fn){function wn(Ar){fn(or[Ar],"=",Mn,".",Ar,"|0;")}var Mn=ln.invoke(fn,Tn),Hn=ln.shared,Wn=ln.constants,cr=Hn.isBufferArgs,or=(Hn=Hn.buffer,{isStream:fn.def(!1)}),xr=new mr;xr.state=1,Object.keys(xr).forEach(function(Ar){or[Ar]=fn.def(""+xr[Ar])});var sr=or.buffer,hr=or.type;return fn("if(",cr,"(",Mn,")){",or.isStream,"=true;",sr,"=",Hn,".createStream(",34962,",",Mn,");",hr,"=",sr,".dtype;","}else{",sr,"=",Hn,".getBuffer(",Mn,");","if(",sr,"){",hr,"=",sr,".dtype;",'}else if("constant" in ',Mn,"){",or.state,"=",2,";","if(typeof "+Mn+'.constant === "number"){',or[Et[0]],"=",Mn,".constant;",Et.slice(1).map(function(Ar){return or[Ar]}).join("="),"=0;","}else{",Et.map(function(Ar,Sr){return or[Ar]+"="+Mn+".constant.length>"+Sr+"?"+Mn+".constant["+Sr+"]:0;"}).join(""),"}}else{","if(",cr,"(",Mn,".buffer)){",sr,"=",Hn,".createStream(",34962,",",Mn,".buffer);","}else{",sr,"=",Hn,".getBuffer(",Mn,".buffer);","}",hr,'="type" in ',Mn,"?",Wn.glTypes,"[",Mn,".type]:",sr,".dtype;",or.normalized,"=!!",Mn,".normalized;"),wn("size"),wn("offset"),wn("stride"),wn("divisor"),fn("}}"),fn.exit("if(",or.isStream,"){",Hn,".destroyStream(",sr,");","}"),or})}),Rn}(an),Hn.context=function(xr){var sr=xr.static,hr=xr.dynamic,Ar={};return Object.keys(sr).forEach(function(Sr){var Pr=sr[Sr];Ar[Sr]=re(function(tr,Xr){return"number"==typeof Pr||"boolean"==typeof Pr?""+Pr:tr.link(Pr)})}),Object.keys(hr).forEach(function(Sr){var Pr=hr[Sr];Ar[Sr]=ee(Pr,function(tr,Xr){return tr.invoke(Xr,Pr)})}),Ar}(En),Hn}function Sn(Ft,an,pn){var En=Ft.shared.context,Rn=Ft.scope();Object.keys(pn).forEach(function(jn){an.save(En,"."+jn);var Tn=pn[jn].append(Ft,an);Array.isArray(Tn)?Rn(En,".",jn,"=[",Tn.join(),"];"):Rn(En,".",jn,"=",Tn,";")}),an(Rn)}function en(Ft,an,pn,En){var Rn,jn=(ln=Ft.shared).gl,Tn=ln.framebuffer;on&&(Rn=an.def(ln.extensions,".webgl_draw_buffers"));var ln=(fn=Ft.constants).drawBuffer,fn=fn.backBuffer;Ft=pn?pn.append(Ft,an):an.def(Tn,".next"),En||an("if(",Ft,"!==",Tn,".cur){"),an("if(",Ft,"){",jn,".bindFramebuffer(",36160,",",Ft,".framebuffer);"),on&&an(Rn,".drawBuffersWEBGL(",ln,"[",Ft,".colorAttachments.length]);"),an("}else{",jn,".bindFramebuffer(",36160,",null);"),on&&an(Rn,".drawBuffersWEBGL(",fn,");"),an("}",Tn,".cur=",Ft,";"),En||an("}")}function vn(Ft,an,pn){var En=Ft.shared,Rn=En.gl,jn=Ft.current,Tn=Ft.next,ln=En.current,fn=En.next,wn=Ft.cond(ln,".dirty");fr.forEach(function(Mn){var Hn,Wn;if(!((Mn=Wt(Mn))in pn.state))if(Mn in Tn){Hn=Tn[Mn],Wn=jn[Mn];var cr=M(Dn[Mn].length,function(or){return wn.def(Hn,"[",or,"]")});wn(Ft.cond(cr.map(function(or,xr){return or+"!=="+Wn+"["+xr+"]"}).join("||")).then(Rn,".",Qn[Mn],"(",cr,");",cr.map(function(or,xr){return Wn+"["+xr+"]="+or}).join(";"),";"))}else Hn=wn.def(fn,".",Mn),cr=Ft.cond(Hn,"!==",ln,".",Mn),wn(cr),Mn in bn?cr(Ft.cond(Hn).then(Rn,".enable(",bn[Mn],");").else(Rn,".disable(",bn[Mn],");"),ln,".",Mn,"=",Hn,";"):cr(Rn,".",Qn[Mn],"(",Hn,");",ln,".",Mn,"=",Hn,";")}),0===Object.keys(pn.state).length&&wn(ln,".dirty=false;"),an(wn)}function hn(Ft,an,pn,En){var Rn,jn=Ft.shared,Tn=Ft.current,ln=jn.current,fn=jn.gl;Z(Object.keys(pn)).forEach(function(wn){var Mn=pn[wn];if(!En||En(Mn)){var Hn=Mn.append(Ft,an);if(bn[wn]){var Wn=bn[wn];se(Mn)?(Rn=Ft.link(Hn,{stable:!0}),an(Ft.cond(Rn).then(fn,".enable(",Wn,");").else(fn,".disable(",Wn,");")),an(ln,".",wn,"=",Rn,";")):(an(Ft.cond(Hn).then(fn,".enable(",Wn,");").else(fn,".disable(",Wn,");")),an(ln,".",wn,"=",Hn,";"))}else if(T(Hn)){var cr=Tn[wn];an(fn,".",Qn[wn],"(",Hn,");",Hn.map(function(or,xr){return cr+"["+xr+"]="+or}).join(";"),";")}else se(Mn)?(Rn=Ft.link(Hn,{stable:!0}),an(fn,".",Qn[wn],"(",Rn,");",ln,".",wn,"=",Rn,";")):an(fn,".",Qn[wn],"(",Hn,");",ln,".",wn,"=",Hn,";")}})}function yn(Ft,an){qt&&(Ft.instancing=an.def(Ft.shared.extensions,".angle_instanced_arrays"))}function Cn(Ft,an,pn,En,Rn){function jn(){return typeof performance>"u"?"Date.now()":"performance.now()"}function Tn(xr){xr(wn=an.def(),"=",jn(),";"),"string"==typeof Rn?xr(Wn,".count+=",Rn,";"):xr(Wn,".count++;"),bt&&(En?xr(Mn=an.def(),"=",or,".getNumPendingQueries();"):xr(or,".beginQuery(",Wn,");"))}function ln(xr){xr(Wn,".cpuTime+=",jn(),"-",wn,";"),bt&&(En?xr(or,".pushScopeStats(",Mn,",",or,".getNumPendingQueries(),",Wn,");"):xr(or,".endQuery();"))}function fn(xr){var sr=an.def(cr,".profile");an(cr,".profile=",xr,";"),an.exit(cr,".profile=",sr,";")}var wn,Mn,Hn=Ft.shared,Wn=Ft.stats,cr=Hn.current,or=Hn.timer;if(pn=pn.profile){if(se(pn))return void(pn.enable?(Tn(an),ln(an.exit),fn("true")):fn("false"));fn(pn=pn.append(Ft,an))}else pn=an.def(cr,".profile");Tn(Hn=Ft.block()),an("if(",pn,"){",Hn,"}"),ln(Ft=Ft.block()),an.exit("if(",pn,"){",Ft,"}")}function _n(Ft,an,pn,En,Rn){var Tn=Ft.shared;En.forEach(function(ln){var fn,wn=ln.name,Mn=pn.attributes[wn];if(Mn){if(!Rn(Mn))return;fn=Mn.append(Ft,an)}else{if(!Rn(ot))return;var Hn=Ft.scopeAttrib(wn);fn={},Object.keys(new mr).forEach(function(Wn){fn[Wn]=an.def(Hn,".",Wn)})}!function jn(ln,fn,wn){function Mn(){an("if(!",or,".buffer){",Wn,".enableVertexAttribArray(",cr,");}");var Ar,Sr=wn.type;Ar=wn.size?an.def(wn.size,"||",fn):fn,an("if(",or,".type!==",Sr,"||",or,".size!==",Ar,"||",hr.map(function(Pr){return or+"."+Pr+"!=="+wn[Pr]}).join("||"),"){",Wn,".bindBuffer(",34962,",",xr,".buffer);",Wn,".vertexAttribPointer(",[cr,Ar,Sr,wn.normalized,wn.stride,wn.offset],");",or,".type=",Sr,";",or,".size=",Ar,";",hr.map(function(Pr){return or+"."+Pr+"="+wn[Pr]+";"}).join(""),"}"),qt&&an("if(",or,".divisor!==",Sr=wn.divisor,"){",Ft.instancing,".vertexAttribDivisorANGLE(",[cr,Sr],");",or,".divisor=",Sr,";}")}function Hn(){an("if(",or,".buffer){",Wn,".disableVertexAttribArray(",cr,");",or,".buffer=null;","}if(",Et.map(function(Ar,Sr){return or+"."+Ar+"!=="+sr[Sr]}).join("||"),"){",Wn,".vertexAttrib4f(",cr,",",sr,");",Et.map(function(Ar,Sr){return or+"."+Ar+"="+sr[Sr]+";"}).join(""),"}")}var Wn=Tn.gl,cr=an.def(ln,".location"),or=an.def(Tn.attributes,"[",cr,"]"),xr=wn.buffer,sr=[wn.x,wn.y,wn.z,wn.w],hr=["buffer","normalized","offset","stride"];1===(ln=wn.state)?Mn():2===ln?Hn():(an("if(",ln,"===",1,"){"),Mn(),an("}else{"),Hn(),an("}"))}(Ft.link(ln),function(Wn){switch(Wn){case 35664:case 35667:case 35671:return 2;case 35665:case 35668:case 35672:return 3;case 35666:case 35669:case 35673:return 4;default:return 1}}(ln.info.type),fn)})}function Un(Ft,an,pn,En,Rn,jn){for(var Tn,ln=Ft.shared,fn=ln.gl,wn=0;wn<En.length;++wn){var Mn,Hn=(or=En[wn]).name,Wn=or.info.type,cr=pn.uniforms[Hn],or=Ft.link(or)+".location";if(cr){if(!Rn(cr))continue;if(se(cr)){if(Hn=cr.value,35678===Wn||35680===Wn)an(fn,".uniform1i(",or,",",(Wn=Ft.link(Hn._texture||Hn.color[0]._texture))+".bind());"),an.exit(Wn,".unbind();");else if(35674===Wn||35675===Wn||35676===Wn)cr=2,35675===Wn?cr=3:35676===Wn&&(cr=4),an(fn,".uniformMatrix",cr,"fv(",or,",false,",Hn=Ft.global.def("new Float32Array(["+Array.prototype.slice.call(Hn)+"])"),");");else{switch(Wn){case 5126:Tn="1f";break;case 35664:Tn="2f";break;case 35665:Tn="3f";break;case 35666:Tn="4f";break;case 35670:case 5124:Tn="1i";break;case 35671:case 35667:Tn="2i";break;case 35672:case 35668:Tn="3i";break;case 35673:case 35669:Tn="4i"}an(fn,".uniform",Tn,"(",or,",",T(Hn)?Array.prototype.slice.call(Hn):Hn,");")}continue}Mn=cr.append(Ft,an)}else{if(!Rn(ot))continue;Mn=an.def(ln.uniforms,"[",it.id(Hn),"]")}switch(35678===Wn?an("if(",Mn,"&&",Mn,'._reglType==="framebuffer"){',Mn,"=",Mn,".color[0];","}"):35680===Wn&&an("if(",Mn,"&&",Mn,'._reglType==="framebufferCube"){',Mn,"=",Mn,".color[0];","}"),Hn=1,Wn){case 35678:case 35680:Wn=an.def(Mn,"._texture"),an(fn,".uniform1i(",or,",",Wn,".bind());"),an.exit(Wn,".unbind();");continue;case 5124:case 35670:Tn="1i";break;case 35667:case 35671:Tn="2i",Hn=2;break;case 35668:case 35672:Tn="3i",Hn=3;break;case 35669:case 35673:Tn="4i",Hn=4;break;case 5126:Tn="1f";break;case 35664:Tn="2f",Hn=2;break;case 35665:Tn="3f",Hn=3;break;case 35666:Tn="4f",Hn=4;break;case 35674:Tn="Matrix2fv";break;case 35675:Tn="Matrix3fv";break;case 35676:Tn="Matrix4fv"}if("M"===Tn.charAt(0)){an(fn,".uniform",Tn,"(",or,","),or=Math.pow(Wn-35674+2,2);var xr=Ft.global.def("new Float32Array(",or,")");Array.isArray(Mn)?an("false,(",M(or,function(hr){return xr+"["+hr+"]="+Mn[hr]}),",",xr,")"):an("false,(Array.isArray(",Mn,")||",Mn," instanceof Float32Array)?",Mn,":(",M(or,function(hr){return xr+"["+hr+"]="+Mn+"["+hr+"]"}),",",xr,")"),an(");")}else{if(1<Hn){Wn=[];var sr=[];for(cr=0;cr<Hn;++cr)Array.isArray(Mn)?sr.push(Mn[cr]):sr.push(an.def(Mn+"["+cr+"]")),jn&&Wn.push(an.def());jn&&an("if(!",Ft.batchId,"||",Wn.map(function(hr,Ar){return hr+"!=="+sr[Ar]}).join("||"),"){",Wn.map(function(hr,Ar){return hr+"="+sr[Ar]+";"}).join("")),an(fn,".uniform",Tn,"(",or,",",sr.join(","),");")}else jn&&(Wn=an.def(),an("if(!",Ft.batchId,"||",Wn,"!==",Mn,"){",Wn,"=",Mn,";")),an(fn,".uniform",Tn,"(",or,",",Mn,");");jn&&an("}")}}}function qn(Ft,an,pn,En){function Rn(Sr){var Pr=Wn[Sr];return Pr?Pr.append(Ft,Pr.contextDep&&En.contextDynamic||Pr.propDep?pn:an):an.def(Hn,".",Sr)}function jn(){function Sr(){pn(fn,".drawElementsInstancedANGLE(",[or,sr,hr,xr+"<<(("+hr+"-5121)>>1)",ln],");")}function Pr(){pn(fn,".drawArraysInstancedANGLE(",[or,xr,sr,ln],");")}cr&&"null"!==cr?Ar?Sr():(pn("if(",cr,"){"),Sr(),pn("}else{"),Pr(),pn("}")):Pr()}function Tn(){function Sr(){pn(Mn+".drawElements("+[or,sr,hr,xr+"<<(("+hr+"-5121)>>1)"]+");")}function Pr(){pn(Mn+".drawArrays("+[or,xr,sr]+");")}cr&&"null"!==cr?Ar?Sr():(pn("if(",cr,"){"),Sr(),pn("}else{"),Pr(),pn("}")):Pr()}var ln,fn,Sr,Pr,wn=Ft.shared,Mn=wn.gl,Hn=wn.draw,Wn=En.draw,cr=(Pr=an,(Sr=Wn.elements)?((Sr.contextDep&&En.contextDynamic||Sr.propDep)&&(Pr=pn),Sr=Sr.append(Ft,Pr),Wn.elementsActive&&Pr("if("+Sr+")"+Mn+".bindBuffer(34963,"+Sr+".buffer.buffer);")):(Sr=Pr.def(),Pr(Sr,"=",Hn,".","elements",";","if(",Sr,"){",Mn,".bindBuffer(",34963,",",Sr,".buffer.buffer);}","else if(",wn.vao,".currentVAO){",Sr,"=",Ft.shared.elements+".getElements("+wn.vao,".currentVAO.elements);",An?"":"if("+Sr+")"+Mn+".bindBuffer(34963,"+Sr+".buffer.buffer);","}")),Sr),or=Rn("primitive"),xr=Rn("offset"),sr=function(){var Sr=Wn.count,Pr=an;return Sr?((Sr.contextDep&&En.contextDynamic||Sr.propDep)&&(Pr=pn),Sr=Sr.append(Ft,Pr)):Sr=Pr.def(Hn,".","count"),Sr}();if("number"==typeof sr){if(0===sr)return}else pn("if(",sr,"){"),pn.exit("}");qt&&(ln=Rn("instances"),fn=Ft.instancing);var hr=cr+".type",Ar=Wn.elements&&se(Wn.elements)&&!Wn.vaoActive;qt&&("number"!=typeof ln||0<=ln)?"string"==typeof ln?(pn("if(",ln,">0){"),jn(),pn("}else if(",ln,"<0){"),Tn(),pn("}")):jn():Tn()}function Ln(Ft,an,pn,En,Rn){return Rn=(an=dn()).proc("body",Rn),qt&&(an.instancing=Rn.def(an.shared.extensions,".angle_instanced_arrays")),Ft(an,Rn,pn,En),an.compile().body}function Yn(Ft,an,pn,En){yn(Ft,an),pn.useVAO?pn.drawVAO?an(Ft.shared.vao,".setVAO(",pn.drawVAO.append(Ft,an),");"):an(Ft.shared.vao,".setVAO(",Ft.shared.vao,".targetVAO);"):(an(Ft.shared.vao,".setVAO(null);"),_n(Ft,an,pn,En.attributes,function(){return!0})),Un(Ft,an,pn,En.uniforms,function(){return!0},!1),qn(Ft,an,an,pn)}function _r(Ft,an,pn,En){function Rn(){return!0}Ft.batchId="a1",yn(Ft,an),_n(Ft,an,pn,En.attributes,Rn),Un(Ft,an,pn,En.uniforms,Rn,!1),qn(Ft,an,an,pn)}function dr(Ft,an,pn,En){function Rn(Hn){return Hn.contextDep&&Tn||Hn.propDep}function jn(Hn){return!Rn(Hn)}yn(Ft,an);var Tn=pn.contextDep,ln=an.def(),fn=an.def();Ft.shared.props=fn,Ft.batchId=ln;var wn=Ft.scope(),Mn=Ft.scope();an(wn.entry,"for(",ln,"=0;",ln,"<","a1",";++",ln,"){",fn,"=","a0","[",ln,"];",Mn,"}",wn.exit),pn.needsContext&&Sn(Ft,Mn,pn.context),pn.needsFramebuffer&&en(Ft,Mn,pn.framebuffer),hn(Ft,Mn,pn.state,Rn),pn.profile&&Rn(pn.profile)&&Cn(Ft,Mn,pn,!1,!0),En?(pn.useVAO?pn.drawVAO?Rn(pn.drawVAO)?Mn(Ft.shared.vao,".setVAO(",pn.drawVAO.append(Ft,Mn),");"):wn(Ft.shared.vao,".setVAO(",pn.drawVAO.append(Ft,wn),");"):wn(Ft.shared.vao,".setVAO(",Ft.shared.vao,".targetVAO);"):(wn(Ft.shared.vao,".setVAO(null);"),_n(Ft,wn,pn,En.attributes,jn),_n(Ft,Mn,pn,En.attributes,Rn)),Un(Ft,wn,pn,En.uniforms,jn,!1),Un(Ft,Mn,pn,En.uniforms,Rn,!0),qn(Ft,wn,Mn,pn)):(an=Ft.global.def("{}"),En=pn.shader.progVar.append(Ft,Mn),fn=Mn.def(En,".id"),wn=Mn.def(an,"[",fn,"]"),Mn(Ft.shared.gl,".useProgram(",En,".program);","if(!",wn,"){",wn,"=",an,"[",fn,"]=",Ft.link(function(Hn){return Ln(_r,Ft,pn,Hn,2)}),"(",En,");}",wn,".call(this,a0[",ln,"],",ln,");"))}function vr(Ft,an,pn){var En=an.static[pn];if(En&&function(Mn){if("object"==typeof Mn&&!T(Mn)){for(var Hn=Object.keys(Mn),Wn=0;Wn<Hn.length;++Wn)if(he.isDynamic(Mn[Hn[Wn]]))return!0;return!1}}(En)){var Rn=Ft.global,jn=Object.keys(En),Tn=!1,ln=!1,fn=!1,wn=Ft.global.def("{}");jn.forEach(function(Mn){var Hn=En[Mn];if(he.isDynamic(Hn))"function"==typeof Hn&&(Hn=En[Mn]=he.unbox(Hn)),Mn=ee(Hn,null),Tn=Tn||Mn.thisDep,fn=fn||Mn.propDep,ln=ln||Mn.contextDep;else{switch(Rn(wn,".",Mn,"="),typeof Hn){case"number":Rn(Hn);break;case"string":Rn('"',Hn,'"');break;case"object":Array.isArray(Hn)&&Rn("[",Hn.join(),"]");break;default:Rn(Ft.link(Hn))}Rn(";")}}),an.dynamic[pn]=new he.DynamicVariable(4,{thisDep:Tn,contextDep:ln,propDep:fn,ref:wn,append:function(Mn,Hn){jn.forEach(function(Wn){var cr=En[Wn];he.isDynamic(cr)&&(cr=Mn.invoke(Hn,cr),Hn(wn,".",Wn,"=",cr,";"))})}}),delete an.static[pn]}}var mr=Mt.Record,Br={add:32774,subtract:32778,"reverse subtract":32779};dt.ext_blend_minmax&&(Br.min=32775,Br.max=32776);var qt=dt.angle_instanced_arrays,on=dt.webgl_draw_buffers,An=dt.oes_vertex_array_object,Dn={dirty:!0,profile:It.profile},Bn={},fr=[],bn={},Qn={};Yt("dither",3024),Yt("blend.enable",3042),Zt("blend.color","blendColor",[0,0,0,0]),Zt("blend.equation","blendEquationSeparate",[32774,32774]),Zt("blend.func","blendFuncSeparate",[1,0,1,0]),Yt("depth.enable",2929,!0),Zt("depth.func","depthFunc",513),Zt("depth.range","depthRange",[0,1]),Zt("depth.mask","depthMask",!0),Zt("colorMask","colorMask",[!0,!0,!0,!0]),Yt("cull.enable",2884),Zt("cull.face","cullFace",1029),Zt("frontFace","frontFace",2305),Zt("lineWidth","lineWidth",1),Yt("polygonOffset.enable",32823),Zt("polygonOffset.offset","polygonOffset",[0,0]),Yt("sample.alpha",32926),Yt("sample.enable",32928),Zt("sample.coverage","sampleCoverage",[1,!1]),Yt("stencil.enable",2960),Zt("stencil.mask","stencilMask",-1),Zt("stencil.func","stencilFunc",[519,0,-1]),Zt("stencil.opFront","stencilOpSeparate",[1028,7680,7680,7680]),Zt("stencil.opBack","stencilOpSeparate",[1029,7680,7680,7680]),Yt("scissor.enable",3089),Zt("scissor.box","scissor",[0,0,Je.drawingBufferWidth,Je.drawingBufferHeight]),Zt("viewport","viewport",[0,0,Je.drawingBufferWidth,Je.drawingBufferHeight]);var er={gl:Je,context:Nt,strings:it,next:Bn,current:Dn,draw:xt,elements:qe,buffer:Ve,shader:Tt,attributes:Mt.state,vao:Mt,uniforms:St,framebuffer:ft,extensions:dt,timer:bt,isBufferArgs:U},Jt={primTypes:Ae,compareFuncs:Ut,blendFuncs:Rt,blendEquations:Br,stencilOps:Bt,glTypes:ke,orientationType:rt};on&&(Jt.backBuffer=[1029],Jt.drawBuffer=M(ht.maxDrawbuffers,function(Ft){return 0===Ft?[0]:M(Ft,function(an){return 36064+an})}));var Nn=0;return{next:Bn,current:Dn,procs:function(){var Ft=dn(),an=Ft.proc("poll"),pn=Ft.proc("refresh"),En=Ft.block();an(En),pn(En);var Rn,jn=(fn=Ft.shared).gl,Tn=fn.next,ln=fn.current;En(ln,".dirty=false;"),en(Ft,an),en(Ft,pn,null,!0),qt&&(Rn=Ft.link(qt)),dt.oes_vertex_array_object&&pn(Ft.link(dt.oes_vertex_array_object),".bindVertexArrayOES(null);");var fn=pn.def(fn.attributes),wn=pn.def(0),Mn=Ft.cond(wn,".buffer");Mn.then(jn,".enableVertexAttribArray(i);",jn,".bindBuffer(",34962,",",wn,".buffer.buffer);",jn,".vertexAttribPointer(i,",wn,".size,",wn,".type,",wn,".normalized,",wn,".stride,",wn,".offset);").else(jn,".disableVertexAttribArray(i);",jn,".vertexAttrib4f(i,",wn,".x,",wn,".y,",wn,".z,",wn,".w);",wn,".buffer=null;");var Hn=Ft.link(ht.maxAttributes,{stable:!0});return pn("for(var i=0;i<",Hn,";++i){",wn,"=",fn,"[i];",Mn,"}"),qt&&pn("for(var i=0;i<",Hn,";++i){",Rn,".vertexAttribDivisorANGLE(i,",fn,"[i].divisor);","}"),pn(Ft.shared.vao,".currentVAO=null;",Ft.shared.vao,".setVAO(",Ft.shared.vao,".targetVAO);"),Object.keys(bn).forEach(function(Wn){var cr=bn[Wn],or=En.def(Tn,".",Wn),xr=Ft.block();xr("if(",or,"){",jn,".enable(",cr,")}else{",jn,".disable(",cr,")}",ln,".",Wn,"=",or,";"),pn(xr),an("if(",or,"!==",ln,".",Wn,"){",xr,"}")}),Object.keys(Qn).forEach(function(Wn){var cr,or,xr=Qn[Wn],sr=Dn[Wn],hr=Ft.block();hr(jn,".",xr,"("),T(sr)?(xr=sr.length,cr=Ft.global.def(Tn,".",Wn),or=Ft.global.def(ln,".",Wn),hr(M(xr,function(Ar){return cr+"["+Ar+"]"}),");",M(xr,function(Ar){return or+"["+Ar+"]="+cr+"["+Ar+"];"}).join("")),an("if(",M(xr,function(Ar){return cr+"["+Ar+"]!=="+or+"["+Ar+"]"}).join("||"),"){",hr,"}")):(cr=En.def(Tn,".",Wn),or=En.def(ln,".",Wn),hr(cr,");",ln,".",Wn,"=",cr,";"),an("if(",cr,"!==",or,"){",hr,"}")),pn(hr)}),Ft.compile()}(),compile:function(Ft,an,pn,En,Rn){var jn=dn();jn.stats=jn.link(Rn),Object.keys(an.static).forEach(function(ln){vr(jn,an,ln)}),Lt.forEach(function(ln){vr(jn,Ft,ln)});var Tn=Pn(Ft,an,pn,En);return Tn.shader.program&&(Tn.shader.program.attributes.sort(function(ln,fn){return ln.name<fn.name?-1:1}),Tn.shader.program.uniforms.sort(function(ln,fn){return ln.name<fn.name?-1:1})),function(ln,fn){var wn=ln.proc("draw",1);yn(ln,wn),Sn(ln,wn,fn.context),en(ln,wn,fn.framebuffer),vn(ln,wn,fn),hn(ln,wn,fn.state),Cn(ln,wn,fn,!1,!0);var Mn=fn.shader.progVar.append(ln,wn);if(wn(ln.shared.gl,".useProgram(",Mn,".program);"),fn.shader.program)Yn(ln,wn,fn,fn.shader.program);else{wn(ln.shared.vao,".setVAO(null);");var Hn=ln.global.def("{}"),Wn=wn.def(Mn,".id"),cr=wn.def(Hn,"[",Wn,"]");wn(ln.cond(cr).then(cr,".call(this,a0);").else(cr,"=",Hn,"[",Wn,"]=",ln.link(function(or){return Ln(Yn,ln,fn,or,1)}),"(",Mn,");",cr,".call(this,a0);"))}0<Object.keys(fn.state).length&&wn(ln.shared.current,".dirty=true;"),ln.shared.vao&&wn(ln.shared.vao,".setVAO(null);")}(jn,Tn),function kr(Ft,an){function pn(ln){var fn=an.shader[ln];fn&&(fn=fn.append(Ft,En),isNaN(fn)?En.set(Rn.shader,"."+ln,fn):En.set(Rn.shader,"."+ln,Ft.link(fn,{stable:!0})))}var En=Ft.proc("scope",3);Ft.batchId="a2";var Rn=Ft.shared,jn=Rn.current;if(Sn(Ft,En,an.context),an.framebuffer&&an.framebuffer.append(Ft,En),Z(Object.keys(an.state)).forEach(function(ln){var fn=an.state[ln],wn=fn.append(Ft,En);T(wn)?wn.forEach(function(Mn,Hn){isNaN(Mn)?En.set(Ft.next[ln],"["+Hn+"]",Mn):En.set(Ft.next[ln],"["+Hn+"]",Ft.link(Mn,{stable:!0}))}):se(fn)?En.set(Rn.next,"."+ln,Ft.link(wn,{stable:!0})):En.set(Rn.next,"."+ln,wn)}),Cn(Ft,En,an,!0,!0),["elements","offset","count","instances","primitive"].forEach(function(ln){var fn=an.draw[ln];fn&&(fn=fn.append(Ft,En),isNaN(fn)?En.set(Rn.draw,"."+ln,fn):En.set(Rn.draw,"."+ln,Ft.link(fn),{stable:!0}))}),Object.keys(an.uniforms).forEach(function(ln){var fn=an.uniforms[ln].append(Ft,En);Array.isArray(fn)&&(fn="["+fn.map(function(wn){return isNaN(wn)?wn:Ft.link(wn,{stable:!0})})+"]"),En.set(Rn.uniforms,"["+Ft.link(it.id(ln),{stable:!0})+"]",fn)}),Object.keys(an.attributes).forEach(function(ln){var fn=an.attributes[ln].append(Ft,En),wn=Ft.scopeAttrib(ln);Object.keys(new mr).forEach(function(Mn){En.set(wn,"."+Mn,fn[Mn])})}),an.scopeVAO){var Tn=an.scopeVAO.append(Ft,En);isNaN(Tn)?En.set(Rn.vao,".targetVAO",Tn):En.set(Rn.vao,".targetVAO",Ft.link(Tn,{stable:!0}))}pn("vert"),pn("frag"),0<Object.keys(an.state).length&&(En(jn,".dirty=true;"),En.exit(jn,".dirty=true;")),En("a1(",Ft.shared.context,",a0,",Ft.batchId,");")}(jn,Tn),function(ln,fn){function wn(sr){return sr.contextDep&&Hn||sr.propDep}var Mn=ln.proc("batch",2);ln.batchId="0",yn(ln,Mn);var Hn=!1,Wn=!0;Object.keys(fn.context).forEach(function(sr){Hn=Hn||fn.context[sr].propDep}),Hn||(Sn(ln,Mn,fn.context),Wn=!1);var cr=!1;if((or=fn.framebuffer)?(or.propDep?Hn=cr=!0:or.contextDep&&Hn&&(cr=!0),cr||en(ln,Mn,or)):en(ln,Mn,null),fn.state.viewport&&fn.state.viewport.propDep&&(Hn=!0),vn(ln,Mn,fn),hn(ln,Mn,fn.state,function(sr){return!wn(sr)}),fn.profile&&wn(fn.profile)||Cn(ln,Mn,fn,!1,"a1"),fn.contextDep=Hn,fn.needsContext=Wn,fn.needsFramebuffer=cr,(Wn=fn.shader.progVar).contextDep&&Hn||Wn.propDep)dr(ln,Mn,fn,null);else if(Wn=Wn.append(ln,Mn),Mn(ln.shared.gl,".useProgram(",Wn,".program);"),fn.shader.program)dr(ln,Mn,fn,fn.shader.program);else{Mn(ln.shared.vao,".setVAO(null);");var or=ln.global.def("{}"),xr=(cr=Mn.def(Wn,".id"),Mn.def(or,"[",cr,"]"));Mn(ln.cond(xr).then(xr,".call(this,a0,a1);").else(xr,"=",or,"[",cr,"]=",ln.link(function(sr){return Ln(dr,ln,fn,sr,2)}),"(",Wn,");",xr,".call(this,a0,a1);"))}0<Object.keys(fn.state).length&&Mn(ln.shared.current,".dirty=true;"),ln.shared.vao&&Mn(ln.shared.vao,".setVAO(null);")}(jn,Tn),ae(jn.compile(),{destroy:function(){Tn.shader.program.destroy()}})}}}function ne(Je,it){for(var dt=0;dt<Je.length;++dt)if(Je[dt]===it)return dt;return-1}var ae=function(Je,it){for(var dt=Object.keys(it),ht=0;ht<dt.length;++ht)Je[dt[ht]]=it[dt[ht]];return Je},ue=0,he={DynamicVariable:j,define:function(Je,it){return new j(Je,I(it+""))},isDynamic:function(Je){return"function"==typeof Je&&!Je._reglType||Je instanceof j},unbox:function Je(it,dt){return"function"==typeof it?new j(0,it):"number"==typeof it||"boolean"==typeof it?new j(5,it):Array.isArray(it)?new j(6,it.map(function(ht,Ve){return Je(ht,dt+"["+Ve+"]")})):it instanceof j?it:void 0},accessor:I},pe={next:"function"==typeof requestAnimationFrame?function(Je){return requestAnimationFrame(Je)}:function(Je){return setTimeout(Je,16)},cancel:"function"==typeof cancelAnimationFrame?function(Je){return cancelAnimationFrame(Je)}:clearTimeout},ge=typeof performance<"u"&&performance.now?function(){return performance.now()}:function(){return+new Date},xe=u();xe.zero=u();var Te=function(Je){return Je instanceof Uint8Array||Je instanceof Uint16Array||Je instanceof Uint32Array||Je instanceof Int8Array||Je instanceof Int16Array||Je instanceof Int32Array||Je instanceof Float32Array||Je instanceof Float64Array||Je instanceof Uint8ClampedArray},ye=function(Je){return Object.keys(Je).map(function(it){return Je[it]})},we={shape:function(Je){for(var it=[];Je.length;Je=Je[0])it.push(Je.length);return it},flatten:function(Je,it,dt,ht){var Ve=1;if(it.length)for(var qe=0;qe<it.length;++qe)Ve*=it[qe];else Ve=0;switch(dt=ht||xe.allocType(dt,Ve),it.length){case 0:break;case 1:for(ht=it[0],it=0;it<ht;++it)dt[it]=Je[it];break;case 2:for(ht=it[0],it=it[1],qe=Ve=0;qe<ht;++qe)for(var ut=Je[qe],ft=0;ft<it;++ft)dt[Ve++]=ut[ft];break;case 3:s(Je,it[0],it[1],it[2],dt,0);break;default:a(Je,it,0,dt,0)}return dt}},ze={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},ke={int8:5120,int16:5122,int32:5124,uint8:5121,uint16:5123,uint32:5125,float:5126,float32:5126},Ee={dynamic:35048,stream:35040,static:35044},me=we.flatten,de=we.shape,ce=[];ce[5120]=1,ce[5122]=2,ce[5124]=4,ce[5121]=1,ce[5123]=2,ce[5125]=4,ce[5126]=4;var Ae={points:0,point:0,lines:1,line:1,triangles:4,triangle:4,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},Ne=new Float32Array(1),De=new Uint32Array(Ne.buffer),Ue=[9984,9986,9985,9987],Ye=[0,6409,6410,6407,6408],_e={};_e[6409]=_e[6406]=_e[6402]=1,_e[34041]=_e[6410]=2,_e[6407]=_e[35904]=3,_e[6408]=_e[35906]=4;var Pe=_("HTMLCanvasElement"),Ie=_("OffscreenCanvas"),Be=_("CanvasRenderingContext2D"),We=_("ImageBitmap"),Ge=_("HTMLImageElement"),Ke=_("HTMLVideoElement"),tt=Object.keys(ze).concat([Pe,Ie,Be,We,Ge,Ke]),st=[];st[5121]=1,st[5126]=4,st[36193]=2,st[5123]=2,st[5125]=4;var gt=[];gt[32854]=2,gt[32855]=2,gt[36194]=2,gt[34041]=4,gt[33776]=.5,gt[33777]=.5,gt[33778]=1,gt[33779]=1,gt[35986]=.5,gt[35987]=1,gt[34798]=1,gt[35840]=.5,gt[35841]=.25,gt[35842]=.5,gt[35843]=.25,gt[36196]=.5;var ct=[];ct[32854]=2,ct[32855]=2,ct[36194]=2,ct[33189]=2,ct[36168]=1,ct[34041]=4,ct[35907]=4,ct[34836]=16,ct[34842]=8,ct[34843]=6;var Dt=[];Dt[6408]=4,Dt[6407]=3;var vt=[];vt[5121]=1,vt[5126]=4,vt[36193]=2;var mt=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],Et=["x","y","z","w"],Lt="blend.func blend.equation stencil.func stencil.opFront stencil.opBack sample.coverage viewport scissor.box polygonOffset.offset".split(" "),Rt={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},Ut={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},Bt={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},rt={cw:2304,ccw:2305},ot=new X(!1,!1,!1,function(){});return function(Je){function it(){if(0===_r.length)nn&&nn.update(),mr=null;else{mr=pe.next(it),Tt();for(var qt=_r.length-1;0<=qt;--qt){var on=_r[qt];on&&on(Pn,null,0)}bt.flush(),nn&&nn.update()}}function dt(){!mr&&0<_r.length&&(mr=pe.next(it))}function ht(){mr&&(pe.cancel(it),mr=null)}function Ve(qt){qt.preventDefault(),ht(),dr.forEach(function(on){on()})}function qe(qt){bt.getError(),It.restore(),yn.restore(),en.restore(),Cn.restore(),_n.restore(),Un.restore(),hn.restore(),nn&&nn.restore(),qn.procs.refresh(),dt(),kr.forEach(function(on){on()})}function ut(qt){function on(Ft,an){var pn={},En={};return Object.keys(Ft).forEach(function(Rn){var jn=Ft[Rn];if(he.isDynamic(jn))En[Rn]=he.unbox(jn,Rn);else{if(an&&Array.isArray(jn))for(var Tn=0;Tn<jn.length;++Tn)if(he.isDynamic(jn[Tn]))return void(En[Rn]=he.unbox(jn,Rn));pn[Rn]=jn}}),{dynamic:En,static:pn}}var An=on(qt.context||{},!0),Dn=on(qt.uniforms||{},!0),Bn=on(qt.attributes||{},!1);qt=on(function(Ft){function an(En){if(En in pn){var Rn=pn[En];delete pn[En],Object.keys(Rn).forEach(function(jn){pn[En+"."+jn]=Rn[jn]})}}var pn=ae({},Ft);return delete pn.uniforms,delete pn.attributes,delete pn.context,delete pn.vao,"stencil"in pn&&pn.stencil.op&&(pn.stencil.opBack=pn.stencil.opFront=pn.stencil.op,delete pn.stencil.op),an("blend"),an("depth"),an("cull"),an("stencil"),an("polygonOffset"),an("scissor"),an("sample"),"vao"in Ft&&(pn.vao=Ft.vao),pn}(qt),!1);var fr={gpuTime:0,cpuTime:0,count:0},bn=qn.compile(qt,Bn,Dn,An,fr),Qn=bn.draw,er=bn.batch,Jt=bn.scope,Nn=[];return ae(function(Ft,an){var pn;if("function"==typeof Ft)return Jt.call(this,null,Ft,0);if("function"==typeof an)if("number"==typeof Ft)for(pn=0;pn<Ft;++pn)Jt.call(this,null,an,pn);else{if(!Array.isArray(Ft))return Jt.call(this,Ft,an,0);for(pn=0;pn<Ft.length;++pn)Jt.call(this,Ft[pn],an,pn)}else if("number"==typeof Ft){if(0<Ft)return er.call(this,function(En){for(;Nn.length<En;)Nn.push(null);return Nn}(0|Ft),0|Ft)}else{if(!Array.isArray(Ft))return Qn.call(this,Ft);if(Ft.length)return er.call(this,Ft,Ft.length)}},{stats:fr,destroy:function(){bn.destroy()}})}function ft(qt,on){var An=0;qn.procs.poll();var Dn=on.color;Dn&&(bt.clearColor(+Dn[0]||0,+Dn[1]||0,+Dn[2]||0,+Dn[3]||0),An|=16384),"depth"in on&&(bt.clearDepth(+on.depth),An|=256),"stencil"in on&&(bt.clearStencil(0|on.stencil),An|=1024),bt.clear(An)}function St(qt){return _r.push(qt),dt(),{cancel:function(){var on=ne(_r,qt);_r[on]=function An(){var Dn=ne(_r,An);_r[Dn]=_r[_r.length-1],--_r.length,0>=_r.length&&ht()}}}}function Mt(){var qt=Ln.viewport,on=Ln.scissor_box;qt[0]=qt[1]=on[0]=on[1]=0,Pn.viewportWidth=Pn.framebufferWidth=Pn.drawingBufferWidth=qt[2]=on[2]=bt.drawingBufferWidth,Pn.viewportHeight=Pn.framebufferHeight=Pn.drawingBufferHeight=qt[3]=on[3]=bt.drawingBufferHeight}function Tt(){Pn.tick+=1,Pn.time=Nt(),Mt(),qn.procs.poll()}function xt(){Cn.refresh(),Mt(),qn.procs.refresh(),nn&&nn.update()}function Nt(){return(ge()-un)/1e3}if(!(Je=function S(Je){var it,dt,ht,Ve,qe=Je||{};Je={};var ut=[],ft=[],St=typeof window>"u"?1:window.devicePixelRatio,Mt=!1,Tt={},xt=function(bt){},Nt=function(){};if("string"==typeof qe?it=document.querySelector(qe):"object"==typeof qe&&("string"==typeof qe.nodeName&&"function"==typeof qe.appendChild&&"function"==typeof qe.getBoundingClientRect?it=qe:"function"==typeof qe.drawArrays||"function"==typeof qe.drawElements?ht=(Ve=qe).canvas:("gl"in qe?Ve=qe.gl:"canvas"in qe?ht=f(qe.canvas):"container"in qe&&(dt=f(qe.container)),"attributes"in qe&&(Je=qe.attributes),"extensions"in qe&&(ut=E(qe.extensions)),"optionalExtensions"in qe&&(ft=E(qe.optionalExtensions)),"onDone"in qe&&(xt=qe.onDone),"profile"in qe&&(Mt=!!qe.profile),"pixelRatio"in qe&&(St=+qe.pixelRatio),"cachedCode"in qe&&(Tt=qe.cachedCode))),it&&("canvas"===it.nodeName.toLowerCase()?ht=it:dt=it),!Ve){if(!ht){if(!(it=function(bt,wt,It){function Wt(){var dn=window.innerWidth,nn=window.innerHeight;bt!==document.body&&(dn=(nn=Zt.getBoundingClientRect()).right-nn.left,nn=nn.bottom-nn.top),Zt.width=It*dn,Zt.height=It*nn}var Yt,Zt=document.createElement("canvas");return ae(Zt.style,{border:0,margin:0,padding:0,top:0,left:0,width:"100%",height:"100%"}),bt.appendChild(Zt),bt===document.body&&(Zt.style.position="absolute",ae(bt.style,{margin:0,padding:0})),bt!==document.body&&"function"==typeof ResizeObserver?(Yt=new ResizeObserver(function(){setTimeout(Wt)})).observe(bt):window.addEventListener("resize",Wt,!1),Wt(),{canvas:Zt,onDestroy:function(){Yt?Yt.disconnect():window.removeEventListener("resize",Wt),bt.removeChild(Zt)}}}(dt||document.body,0,St)))return null;ht=it.canvas,Nt=it.onDestroy}void 0===Je.premultipliedAlpha&&(Je.premultipliedAlpha=!0),Ve=function(bt,wt){function It(Wt){try{return bt.getContext(Wt,wt)}catch{return null}}return It("webgl")||It("experimental-webgl")||It("webgl-experimental")}(ht,Je)}return Ve?{gl:Ve,canvas:ht,container:dt,extensions:ut,optionalExtensions:ft,pixelRatio:St,profile:Mt,cachedCode:Tt,onDone:xt,onDestroy:Nt}:(Nt(),xt("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}(Je)))return null;var bt=Je.gl,wt=bt.getContextAttributes();bt.isContextLost();var It=function(qt,on){function An(bn){var Qn;bn=bn.toLowerCase();try{Qn=Dn[bn]=qt.getExtension(bn)}catch{}return!!Qn}for(var Dn={},Bn=0;Bn<on.extensions.length;++Bn){var fr=on.extensions[Bn];if(!An(fr))return on.onDestroy(),on.onDone('"'+fr+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return on.optionalExtensions.forEach(An),{extensions:Dn,restore:function(){Object.keys(Dn).forEach(function(bn){if(Dn[bn]&&!An(bn))throw Error("(regl): error restoring extension "+bn)})}}}(bt,Je);if(!It)return null;var qt,on,Wt=(qt={"":0},on=[""],{id:function(An){var Dn=qt[An];return Dn||(Dn=qt[An]=on.length,on.push(An),Dn)},str:function(An){return on[An]}}),Yt={vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0},Zt=Je.cachedCode||{},dn=It.extensions,nn=function(qt,on){function An(){this.endQueryIndex=this.startQueryIndex=-1,this.sum=0,this.stats=null}function Dn(Nn,Ft,an){var pn=bn.pop()||new An;pn.startQueryIndex=Nn,pn.endQueryIndex=Ft,pn.sum=0,pn.stats=an,Qn.push(pn)}if(!on.ext_disjoint_timer_query)return null;var Bn=[],fr=[],bn=[],Qn=[],er=[],Jt=[];return{beginQuery:function(Nn){var Ft=Bn.pop()||on.ext_disjoint_timer_query.createQueryEXT();on.ext_disjoint_timer_query.beginQueryEXT(35007,Ft),fr.push(Ft),Dn(fr.length-1,fr.length,Nn)},endQuery:function(){on.ext_disjoint_timer_query.endQueryEXT(35007)},pushScopeStats:Dn,update:function(){var Nn,Ft;if(0!==(Nn=fr.length)){Jt.length=Math.max(Jt.length,Nn+1),er.length=Math.max(er.length,Nn+1),er[0]=0;var an=Jt[0]=0;for(Ft=Nn=0;Ft<fr.length;++Ft){var pn=fr[Ft];on.ext_disjoint_timer_query.getQueryObjectEXT(pn,34919)?(an+=on.ext_disjoint_timer_query.getQueryObjectEXT(pn,34918),Bn.push(pn)):fr[Nn++]=pn,er[Ft+1]=an,Jt[Ft+1]=Nn}for(fr.length=Nn,Ft=Nn=0;Ft<Qn.length;++Ft){var En=(an=Qn[Ft]).startQueryIndex;an.sum+=er[pn=an.endQueryIndex]-er[En],(pn=Jt[pn])===(En=Jt[En])?(an.stats.gpuTime+=an.sum/1e6,bn.push(an)):(an.startQueryIndex=En,an.endQueryIndex=pn,Qn[Nn++]=an)}Qn.length=Nn}},getNumPendingQueries:function(){return fr.length},clear:function(){Bn.push.apply(Bn,fr);for(var Nn=0;Nn<Bn.length;Nn++)on.ext_disjoint_timer_query.deleteQueryEXT(Bn[Nn]);fr.length=0,Bn.length=0},restore:function(){fr.length=0,Bn.length=0}}}(0,dn),un=ge(),rn=bt.drawingBufferWidth,kn=bt.drawingBufferHeight,Pn={tick:0,time:0,viewportWidth:rn,viewportHeight:kn,framebufferWidth:rn,framebufferHeight:kn,drawingBufferWidth:rn,drawingBufferHeight:kn,pixelRatio:Je.pixelRatio},Sn=(rn={elements:null,primitive:4,count:-1,offset:0,instances:-1},function(Je,it){var dt=1;it.ext_texture_filter_anisotropic&&(dt=Je.getParameter(34047));var ht=1,Ve=1;it.webgl_draw_buffers&&(ht=Je.getParameter(34852),Ve=Je.getParameter(36063));var qe=!!it.oes_texture_float;if(qe){qe=Je.createTexture(),Je.bindTexture(3553,qe),Je.texImage2D(3553,0,6408,1,1,0,6408,5126,null);var ut=Je.createFramebuffer();if(Je.bindFramebuffer(36160,ut),Je.framebufferTexture2D(36160,36064,3553,qe,0),Je.bindTexture(3553,null),36053!==Je.checkFramebufferStatus(36160))qe=!1;else{Je.viewport(0,0,1,1),Je.clearColor(1,0,0,1),Je.clear(16384);var ft=xe.allocType(5126,4);Je.readPixels(0,0,1,1,6408,5126,ft),Je.getError()?qe=!1:(Je.deleteFramebuffer(ut),Je.deleteTexture(qe),qe=1===ft[0]),xe.freeType(ft)}}return ft=!0,typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent))||(ft=Je.createTexture(),ut=xe.allocType(5121,36),Je.activeTexture(33984),Je.bindTexture(34067,ft),Je.texImage2D(34069,0,6408,3,3,0,6408,5121,ut),xe.freeType(ut),Je.bindTexture(34067,null),Je.deleteTexture(ft),ft=!Je.getError()),{colorBits:[Je.getParameter(3410),Je.getParameter(3411),Je.getParameter(3412),Je.getParameter(3413)],depthBits:Je.getParameter(3414),stencilBits:Je.getParameter(3415),subpixelBits:Je.getParameter(3408),extensions:Object.keys(it).filter(function(St){return!!it[St]}),maxAnisotropic:dt,maxDrawbuffers:ht,maxColorAttachments:Ve,pointSizeDims:Je.getParameter(33901),lineWidthDims:Je.getParameter(33902),maxViewportDims:Je.getParameter(3386),maxCombinedTextureUnits:Je.getParameter(35661),maxCubeMapSize:Je.getParameter(34076),maxRenderbufferSize:Je.getParameter(34024),maxTextureUnits:Je.getParameter(34930),maxTextureSize:Je.getParameter(3379),maxAttributes:Je.getParameter(34921),maxVertexUniforms:Je.getParameter(36347),maxVertexTextureUnits:Je.getParameter(35660),maxVaryingVectors:Je.getParameter(36348),maxFragmentUniforms:Je.getParameter(36349),glsl:Je.getParameter(35724),renderer:Je.getParameter(7937),vendor:Je.getParameter(7936),version:Je.getParameter(7938),readFloat:qe,npotTextureCube:ft}}(bt,dn)),en=function h(Je,it,dt,ht){function Ve(xt){this.id=St++,this.buffer=Je.createBuffer(),this.type=xt,this.usage=35044,this.byteLength=0,this.dimension=1,this.dtype=5121,this.persistentData=null,dt.profile&&(this.stats={size:0})}function qe(xt,Nt,bt){xt.byteLength=Nt.byteLength,Je.bufferData(xt.type,Nt,bt)}function ut(xt,Nt,bt,wt,It,Wt){if(xt.usage=bt,Array.isArray(Nt)){if(xt.dtype=wt||5126,0<Nt.length)if(Array.isArray(Nt[0])){It=de(Nt);for(var Yt=wt=1;Yt<It.length;++Yt)wt*=It[Yt];xt.dimension=wt,qe(xt,Nt=me(Nt,It,xt.dtype),bt),Wt?xt.persistentData=Nt:xe.freeType(Nt)}else"number"==typeof Nt[0]?(xt.dimension=It,l(It=xe.allocType(xt.dtype,Nt.length),Nt),qe(xt,It,bt),Wt?xt.persistentData=It:xe.freeType(It)):Te(Nt[0])&&(xt.dimension=Nt[0].length,xt.dtype=wt||o(Nt[0])||5126,qe(xt,Nt=me(Nt,[Nt.length,Nt[0].length],xt.dtype),bt),Wt?xt.persistentData=Nt:xe.freeType(Nt))}else if(Te(Nt))xt.dtype=wt||o(Nt),xt.dimension=It,qe(xt,Nt,bt),Wt&&(xt.persistentData=new Uint8Array(new Uint8Array(Nt.buffer)));else if(i(Nt)){var Zt=Nt.stride,dn=(Yt=Nt.offset,0),nn=0,un=0,rn=0;1===(It=Nt.shape).length?(dn=It[0],nn=1,un=Zt[0],rn=0):2===It.length&&(dn=It[0],nn=It[1],un=Zt[0],rn=Zt[1]),xt.dtype=wt||o(Nt.data)||5126,xt.dimension=nn,c(It=xe.allocType(xt.dtype,dn*nn),Nt.data,dn,nn,un,rn,Yt),qe(xt,It,bt),Wt?xt.persistentData=It:xe.freeType(It)}else Nt instanceof ArrayBuffer&&(xt.dtype=5121,xt.dimension=It,qe(xt,Nt,bt),Wt&&(xt.persistentData=new Uint8Array(new Uint8Array(Nt))))}function ft(xt){it.bufferCount--,ht(xt),Je.deleteBuffer(xt.buffer),xt.buffer=null,delete Mt[xt.id]}var St=0,Mt={};Ve.prototype.bind=function(){Je.bindBuffer(this.type,this.buffer)},Ve.prototype.destroy=function(){ft(this)};var Tt=[];return dt.profile&&(it.getTotalBufferSize=function(){var xt=0;return Object.keys(Mt).forEach(function(Nt){xt+=Mt[Nt].stats.size}),xt}),{create:function(xt,Nt,bt,wt){function It(Yt){var Zt=35044,dn=null,nn=0,un=0,rn=1;return Array.isArray(Yt)||Te(Yt)||i(Yt)||Yt instanceof ArrayBuffer?dn=Yt:"number"==typeof Yt?nn=0|Yt:Yt&&("data"in Yt&&(dn=Yt.data),"usage"in Yt&&(Zt=Ee[Yt.usage]),"type"in Yt&&(un=ke[Yt.type]),"dimension"in Yt&&(rn=0|Yt.dimension),"length"in Yt&&(nn=0|Yt.length)),Wt.bind(),dn?ut(Wt,dn,Zt,un,rn,wt):(nn&&Je.bufferData(Wt.type,nn,Zt),Wt.dtype=un||5121,Wt.usage=Zt,Wt.dimension=rn,Wt.byteLength=nn),dt.profile&&(Wt.stats.size=Wt.byteLength*ce[Wt.dtype]),It}it.bufferCount++;var Wt=new Ve(Nt);return Mt[Wt.id]=Wt,bt||It(xt),It._reglType="buffer",It._buffer=Wt,It.subdata=function(Yt,Zt){var dn,nn=0|(Zt||0);if(Wt.bind(),Te(Yt)||Yt instanceof ArrayBuffer)Je.bufferSubData(Wt.type,nn,Yt);else if(Array.isArray(Yt)){if(0<Yt.length)if("number"==typeof Yt[0]){var un=xe.allocType(Wt.dtype,Yt.length);l(un,Yt),Je.bufferSubData(Wt.type,nn,un),xe.freeType(un)}else(Array.isArray(Yt[0])||Te(Yt[0]))&&(dn=de(Yt),un=me(Yt,dn,Wt.dtype),Je.bufferSubData(Wt.type,nn,un),xe.freeType(un))}else if(i(Yt)){var rn=Yt.stride,kn=un=0,Pn=0,Sn=0;1===(dn=Yt.shape).length?(un=dn[0],kn=1,Pn=rn[0],Sn=0):2===dn.length&&(un=dn[0],kn=dn[1],Pn=rn[0],Sn=rn[1]),dn=Array.isArray(Yt.data)?Wt.dtype:o(Yt.data),c(dn=xe.allocType(dn,un*kn),Yt.data,un,kn,Pn,Sn,Yt.offset),Je.bufferSubData(Wt.type,nn,dn),xe.freeType(dn)}return It},dt.profile&&(It.stats=Wt.stats),It.destroy=function(){ft(Wt)},It},createStream:function(xt,Nt){var bt=Tt.pop();return bt||(bt=new Ve(xt)),bt.bind(),ut(bt,Nt,35040,0,1,!1),bt},destroyStream:function(xt){Tt.push(xt)},clear:function(){ye(Mt).forEach(ft),Tt.forEach(ft)},getBuffer:function(xt){return xt&&xt._buffer instanceof Ve?xt._buffer:null},restore:function(){ye(Mt).forEach(function(xt){xt.buffer=Je.createBuffer(),Je.bindBuffer(xt.type,xt.buffer),Je.bufferData(xt.type,xt.persistentData||xt.byteLength,xt.usage)})},_initBuffer:ut}}(bt,Yt,Je,function(qt){return hn.destroyBuffer(qt)}),vn=function v(Je,it,dt,ht){function Ve(xt){this.id=St++,ft[this.id]=this,this.buffer=xt,this.primType=4,this.type=this.vertCount=0}function qe(xt,Nt,bt,wt,It,Wt,Yt){var Zt;if(xt.buffer.bind(),Nt?((Zt=Yt)||Te(Nt)&&(!i(Nt)||Te(Nt.data))||(Zt=it.oes_element_index_uint?5125:5123),dt._initBuffer(xt.buffer,Nt,bt,Zt,3)):(Je.bufferData(34963,Wt,bt),xt.buffer.dtype=Zt||5121,xt.buffer.usage=bt,xt.buffer.dimension=3,xt.buffer.byteLength=Wt),Zt=Yt,!Yt){switch(xt.buffer.dtype){case 5121:case 5120:Zt=5121;break;case 5123:case 5122:Zt=5123;break;case 5125:case 5124:Zt=5125}xt.buffer.dtype=Zt}xt.type=Zt,0>(Nt=It)&&(Nt=xt.buffer.byteLength,5123===Zt?Nt>>=1:5125===Zt&&(Nt>>=2)),xt.vertCount=Nt,Nt=wt,0>wt&&(Nt=4,1===(wt=xt.buffer.dimension)&&(Nt=0),2===wt&&(Nt=1),3===wt&&(Nt=4)),xt.primType=Nt}function ut(xt){ht.elementsCount--,delete ft[xt.id],xt.buffer.destroy(),xt.buffer=null}var ft={},St=0,Mt={uint8:5121,uint16:5123};it.oes_element_index_uint&&(Mt.uint32=5125),Ve.prototype.bind=function(){this.buffer.bind()};var Tt=[];return{create:function(xt,Nt){function bt(Wt){if(Wt)if("number"==typeof Wt)wt(Wt),It.primType=4,It.vertCount=0|Wt,It.type=5121;else{var Yt=null,Zt=35044,dn=-1,nn=-1,un=0,rn=0;Array.isArray(Wt)||Te(Wt)||i(Wt)?Yt=Wt:("data"in Wt&&(Yt=Wt.data),"usage"in Wt&&(Zt=Ee[Wt.usage]),"primitive"in Wt&&(dn=Ae[Wt.primitive]),"count"in Wt&&(nn=0|Wt.count),"type"in Wt&&(rn=Mt[Wt.type]),"length"in Wt?un=0|Wt.length:(un=nn,5123===rn||5122===rn?un*=2:5125!==rn&&5124!==rn||(un*=4))),qe(It,Yt,Zt,dn,nn,un,rn)}else wt(),It.primType=4,It.vertCount=0,It.type=5121;return bt}var wt=dt.create(null,34963,!0),It=new Ve(wt._buffer);return ht.elementsCount++,bt(xt),bt._reglType="elements",bt._elements=It,bt.subdata=function(Wt,Yt){return wt.subdata(Wt,Yt),bt},bt.destroy=function(){ut(It)},bt},createStream:function(xt){var Nt=Tt.pop();return Nt||(Nt=new Ve(dt.create(null,34963,!0,!1)._buffer)),qe(Nt,xt,35040,-1,-1,0,0),Nt},destroyStream:function(xt){Tt.push(xt)},getElements:function(xt){return"function"==typeof xt&&xt._elements instanceof Ve?xt._elements:null},clear:function(){ye(ft).forEach(ut)}}}(bt,dn,en,Yt),hn=function R(Je,it,dt,ht,Ve,qe,ut){function ft(){this.id=++Tt,this.attributes=[],this.elements=null,this.ownsElements=!1,this.offset=this.count=0,this.instances=-1,this.primitive=4;var bt=it.oes_vertex_array_object;this.vao=bt?bt.createVertexArrayOES():null,xt[this.id]=this,this.buffers=[]}var St=dt.maxAttributes,Mt=Array(St);for(dt=0;dt<St;++dt)Mt[dt]=new P;var Tt=0,xt={},Nt={Record:P,scope:{},state:Mt,currentVAO:null,targetVAO:null,restore:it.oes_vertex_array_object?function(){it.oes_vertex_array_object&&ye(xt).forEach(function(bt){bt.refresh()})}:function(){},createVAO:function(bt){function wt(Wt){var Yt;Array.isArray(Wt)?(Yt=Wt,It.elements&&It.ownsElements&&It.elements.destroy(),It.elements=null,It.ownsElements=!1,It.offset=0,It.count=0,It.instances=-1,It.primitive=4):(Wt.elements?(Yt=Wt.elements,It.ownsElements?("function"==typeof Yt&&"elements"===Yt._reglType?It.elements.destroy():It.elements(Yt),It.ownsElements=!1):qe.getElements(Wt.elements)?(It.elements=Wt.elements,It.ownsElements=!1):(It.elements=qe.create(Wt.elements),It.ownsElements=!0)):(It.elements=null,It.ownsElements=!1),Yt=Wt.attributes,It.offset=0,It.count=-1,It.instances=-1,It.primitive=4,It.elements&&(It.count=It.elements._elements.vertCount,It.primitive=It.elements._elements.primType),"offset"in Wt&&(It.offset=0|Wt.offset),"count"in Wt&&(It.count=0|Wt.count),"instances"in Wt&&(It.instances=0|Wt.instances),"primitive"in Wt&&(It.primitive=Ae[Wt.primitive])),Wt={};var Zt=It.attributes;Zt.length=Yt.length;for(var dn=0;dn<Yt.length;++dn){var nn,un=Yt[dn],rn=Zt[dn]=new P,kn=un.data||un;Array.isArray(kn)||Te(kn)||i(kn)?(It.buffers[dn]&&(nn=It.buffers[dn],Te(kn)&&nn._buffer.byteLength>=kn.byteLength?nn.subdata(kn):(nn.destroy(),It.buffers[dn]=null)),It.buffers[dn]||(nn=It.buffers[dn]=Ve.create(un,34962,!1,!0)),rn.buffer=Ve.getBuffer(nn),rn.size=0|rn.buffer.dimension,rn.normalized=!1,rn.type=rn.buffer.dtype,rn.offset=0,rn.stride=0,rn.divisor=0,rn.state=1,Wt[dn]=1):Ve.getBuffer(un)?(rn.buffer=Ve.getBuffer(un),rn.size=0|rn.buffer.dimension,rn.normalized=!1,rn.type=rn.buffer.dtype,rn.offset=0,rn.stride=0,rn.divisor=0,rn.state=1):Ve.getBuffer(un.buffer)?(rn.buffer=Ve.getBuffer(un.buffer),rn.size=0|(+un.size||rn.buffer.dimension),rn.normalized=!!un.normalized||!1,rn.type="type"in un?ke[un.type]:rn.buffer.dtype,rn.offset=0|(un.offset||0),rn.stride=0|(un.stride||0),rn.divisor=0|(un.divisor||0),rn.state=1):"x"in un&&(rn.x=+un.x||0,rn.y=+un.y||0,rn.z=+un.z||0,rn.w=+un.w||0,rn.state=2)}for(nn=0;nn<It.buffers.length;++nn)!Wt[nn]&&It.buffers[nn]&&(It.buffers[nn].destroy(),It.buffers[nn]=null);return It.refresh(),wt}var It=new ft;return ht.vaoCount+=1,wt.destroy=function(){for(var Wt=0;Wt<It.buffers.length;++Wt)It.buffers[Wt]&&It.buffers[Wt].destroy();It.buffers.length=0,It.ownsElements&&(It.elements.destroy(),It.elements=null,It.ownsElements=!1),It.destroy()},wt._vao=It,wt._reglType="vao",wt(bt)},getVAO:function(bt){return"function"==typeof bt&&bt._vao?bt._vao:null},destroyBuffer:function(bt){for(var wt=0;wt<Mt.length;++wt){var It=Mt[wt];It.buffer===bt&&(Je.disableVertexAttribArray(wt),It.buffer=null)}},setVAO:it.oes_vertex_array_object?function(bt){bt!==Nt.currentVAO&&(it.oes_vertex_array_object.bindVertexArrayOES(bt?bt.vao:null),Nt.currentVAO=bt)}:function(bt){if(bt!==Nt.currentVAO){if(bt)bt.bindAttrs();else{for(var wt=it.angle_instanced_arrays,It=0;It<Mt.length;++It){var Wt=Mt[It];Wt.buffer?(Je.enableVertexAttribArray(It),Wt.buffer.bind(),Je.vertexAttribPointer(It,Wt.size,Wt.type,Wt.normalized,Wt.stride,Wt.offfset),wt&&Wt.divisor&&wt.vertexAttribDivisorANGLE(It,Wt.divisor)):(Je.disableVertexAttribArray(It),Je.vertexAttrib4f(It,Wt.x,Wt.y,Wt.z,Wt.w))}Je.bindBuffer(34963,ut.elements?ut.elements.buffer.buffer:null)}Nt.currentVAO=bt}},clear:it.oes_vertex_array_object?function(){ye(xt).forEach(function(bt){bt.destroy()})}:function(){}};return ft.prototype.bindAttrs=function(){for(var bt=it.angle_instanced_arrays,wt=this.attributes,It=0;It<wt.length;++It){var Wt=wt[It];Wt.buffer?(Je.enableVertexAttribArray(It),Je.bindBuffer(34962,Wt.buffer.buffer),Je.vertexAttribPointer(It,Wt.size,Wt.type,Wt.normalized,Wt.stride,Wt.offset),bt&&Wt.divisor&&bt.vertexAttribDivisorANGLE(It,Wt.divisor)):(Je.disableVertexAttribArray(It),Je.vertexAttrib4f(It,Wt.x,Wt.y,Wt.z,Wt.w))}for(bt=wt.length;bt<St;++bt)Je.disableVertexAttribArray(bt);(bt=qe.getElements(this.elements))?Je.bindBuffer(34963,bt.buffer.buffer):Je.bindBuffer(34963,null)},ft.prototype.refresh=function(){var bt=it.oes_vertex_array_object;bt&&(bt.bindVertexArrayOES(this.vao),this.bindAttrs(),Nt.currentVAO=null,bt.bindVertexArrayOES(null))},ft.prototype.destroy=function(){if(this.vao){var bt=it.oes_vertex_array_object;this===Nt.currentVAO&&(Nt.currentVAO=null,bt.bindVertexArrayOES(null)),bt.deleteVertexArrayOES(this.vao),this.vao=null}this.ownsElements&&(this.elements.destroy(),this.elements=null,this.ownsElements=!1),xt[this.id]&&(delete xt[this.id],--ht.vaoCount)},Nt}(bt,dn,Sn,Yt,en,vn,rn),yn=function L(Je,it,dt,ht){function Ve(wt,It,Wt,Yt){this.name=wt,this.id=It,this.location=Wt,this.info=Yt}function qe(wt,It){for(var Wt=0;Wt<wt.length;++Wt)if(wt[Wt].id===It.id)return void(wt[Wt].location=It.location);wt.push(It)}function ut(wt,It,Wt){if(!(Zt=(Wt=35632===wt?Mt:Tt)[It])){var Yt=it.str(It),Zt=Je.createShader(wt);Je.shaderSource(Zt,Yt),Je.compileShader(Zt),Wt[It]=Zt}return Zt}function ft(wt,It){this.id=bt++,this.fragId=wt,this.vertId=It,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,ht.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function St(wt,It,Wt){var Yt;Yt=ut(35632,wt.fragId);var Zt=ut(35633,wt.vertId);if(It=wt.program=Je.createProgram(),Je.attachShader(It,Yt),Je.attachShader(It,Zt),Wt)for(Yt=0;Yt<Wt.length;++Yt)Je.bindAttribLocation(It,(Zt=Wt[Yt])[0],Zt[1]);Je.linkProgram(It),Zt=Je.getProgramParameter(It,35718),ht.profile&&(wt.stats.uniformsCount=Zt);var dn=wt.uniforms;for(Yt=0;Yt<Zt;++Yt)if(Wt=Je.getActiveUniform(It,Yt))if(1<Wt.size)for(var nn=0;nn<Wt.size;++nn){var un=Wt.name.replace("[0]","["+nn+"]");qe(dn,new Ve(un,it.id(un),Je.getUniformLocation(It,un),Wt))}else qe(dn,new Ve(Wt.name,it.id(Wt.name),Je.getUniformLocation(It,Wt.name),Wt));for(Zt=Je.getProgramParameter(It,35721),ht.profile&&(wt.stats.attributesCount=Zt),wt=wt.attributes,Yt=0;Yt<Zt;++Yt)(Wt=Je.getActiveAttrib(It,Yt))&&qe(wt,new Ve(Wt.name,it.id(Wt.name),Je.getAttribLocation(It,Wt.name),Wt))}var Mt={},Tt={},xt={},Nt=[],bt=0;return ht.profile&&(dt.getMaxUniformsCount=function(){var wt=0;return Nt.forEach(function(It){It.stats.uniformsCount>wt&&(wt=It.stats.uniformsCount)}),wt},dt.getMaxAttributesCount=function(){var wt=0;return Nt.forEach(function(It){It.stats.attributesCount>wt&&(wt=It.stats.attributesCount)}),wt}),{clear:function(){var wt=Je.deleteShader.bind(Je);ye(Mt).forEach(wt),Mt={},ye(Tt).forEach(wt),Tt={},Nt.forEach(function(It){Je.deleteProgram(It.program)}),Nt.length=0,xt={},dt.shaderCount=0},program:function(wt,It,Wt,Yt){var Zt=xt[It];Zt||(Zt=xt[It]={});var dn=Zt[wt];if(dn&&(dn.refCount++,!Yt))return dn;var nn=new ft(It,wt);return dt.shaderCount++,St(nn,Wt,Yt),dn||(Zt[wt]=nn),Nt.push(nn),ae(nn,{destroy:function(){if(nn.refCount--,0>=nn.refCount){Je.deleteProgram(nn.program);var un=Nt.indexOf(nn);Nt.splice(un,1),dt.shaderCount--}0>=Zt[nn.vertId].refCount&&(Je.deleteShader(Tt[nn.vertId]),delete Tt[nn.vertId],delete xt[nn.fragId][nn.vertId]),Object.keys(xt[nn.fragId]).length||(Je.deleteShader(Mt[nn.fragId]),delete Mt[nn.fragId],delete xt[nn.fragId])}})},restore:function(){Mt={},Tt={};for(var wt=0;wt<Nt.length;++wt)St(Nt[wt],null,Nt[wt].attributes.map(function(It){return[It.location,It.name]}))},shader:ut,frag:-1,vert:-1}}(bt,Wt,Yt,Je),Cn=function C(Je,it,dt,ht,Ve,qe,ut){function ft(){this.format=this.internalformat=6408,this.type=5121,this.flipY=this.premultiplyAlpha=this.compressed=!1,this.unpackAlignment=1,this.colorSpace=37444,this.channels=this.height=this.width=0}function St(Jt,Nn){Jt.internalformat=Nn.internalformat,Jt.format=Nn.format,Jt.type=Nn.type,Jt.compressed=Nn.compressed,Jt.premultiplyAlpha=Nn.premultiplyAlpha,Jt.flipY=Nn.flipY,Jt.unpackAlignment=Nn.unpackAlignment,Jt.colorSpace=Nn.colorSpace,Jt.width=Nn.width,Jt.height=Nn.height,Jt.channels=Nn.channels}function Mt(Jt,Nn){if("object"==typeof Nn&&Nn){"premultiplyAlpha"in Nn&&(Jt.premultiplyAlpha=Nn.premultiplyAlpha),"flipY"in Nn&&(Jt.flipY=Nn.flipY),"alignment"in Nn&&(Jt.unpackAlignment=Nn.alignment),"colorSpace"in Nn&&(Jt.colorSpace=qn[Nn.colorSpace]),"type"in Nn&&(Jt.type=Ln[Nn.type]);var Ft=Jt.width,an=Jt.height,pn=Jt.channels,En=!1;"shape"in Nn?(Ft=Nn.shape[0],an=Nn.shape[1],3===Nn.shape.length&&(pn=Nn.shape[2],En=!0)):("radius"in Nn&&(Ft=an=Nn.radius),"width"in Nn&&(Ft=Nn.width),"height"in Nn&&(an=Nn.height),"channels"in Nn&&(pn=Nn.channels,En=!0)),Jt.width=0|Ft,Jt.height=0|an,Jt.channels=0|pn,Ft=!1,"format"in Nn&&(an=Jt.internalformat=Yn[Ft=Nn.format],Jt.format=An[an],Ft in Ln&&!("type"in Nn)&&(Jt.type=Ln[Ft]),Ft in _r&&(Jt.compressed=!0),Ft=!0),!En&&Ft?Jt.channels=_e[Jt.format]:En&&!Ft&&Jt.channels!==Ye[Jt.format]&&(Jt.format=Jt.internalformat=Ye[Jt.channels])}}function Tt(Jt){Je.pixelStorei(37440,Jt.flipY),Je.pixelStorei(37441,Jt.premultiplyAlpha),Je.pixelStorei(37443,Jt.colorSpace),Je.pixelStorei(3317,Jt.unpackAlignment)}function xt(){ft.call(this),this.yOffset=this.xOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function Nt(Jt,Nn){var Ft=null;if(b(Nn)?Ft=Nn:Nn&&(Mt(Jt,Nn),"x"in Nn&&(Jt.xOffset=0|Nn.x),"y"in Nn&&(Jt.yOffset=0|Nn.y),b(Nn.data)&&(Ft=Nn.data)),Nn.copy){var an=Ve.viewportWidth,pn=Ve.viewportHeight;Jt.width=Jt.width||an-Jt.xOffset,Jt.height=Jt.height||pn-Jt.yOffset,Jt.needsCopy=!0}else if(Ft){if(Te(Ft))Jt.channels=Jt.channels||4,Jt.data=Ft,"type"in Nn||5121!==Jt.type||(Jt.type=0|ze[Object.prototype.toString.call(Ft)]);else if(g(Ft)){switch(Jt.channels=Jt.channels||4,pn=(an=Ft).length,Jt.type){case 5121:case 5123:case 5125:case 5126:(pn=xe.allocType(Jt.type,pn)).set(an),Jt.data=pn;break;case 36193:Jt.data=p(an)}Jt.alignment=1,Jt.needsFree=!0}else if(i(Ft)){an=Ft.data,Array.isArray(an)||5121!==Jt.type||(Jt.type=0|ze[Object.prototype.toString.call(an)]);var En,Rn,jn,Tn,ln=Ft.stride;3===(pn=Ft.shape).length?(jn=pn[2],Tn=ln[2]):Tn=jn=1,En=pn[0],Rn=pn[1],pn=ln[0],ln=ln[1],Jt.alignment=1,Jt.width=En,Jt.height=Rn,Jt.channels=jn,Jt.format=Jt.internalformat=Ye[jn],Jt.needsFree=!0,En=Tn,Ft=Ft.offset;for(var fn=xe.allocType(36193===Jt.type?5126:Jt.type,(jn=Jt.width)*(Tn=Jt.height)*(Rn=Jt.channels)),wn=0,Mn=0;Mn<Tn;++Mn)for(var Hn=0;Hn<jn;++Hn)for(var Wn=0;Wn<Rn;++Wn)fn[wn++]=an[pn*Hn+ln*Mn+En*Wn+Ft];A(Jt,fn)}else if(x(Ft)===Pe||x(Ft)===Ie||x(Ft)===Be)Jt.element=x(Ft)===Pe||x(Ft)===Ie?Ft:Ft.canvas,Jt.width=Jt.element.width,Jt.height=Jt.element.height,Jt.channels=4;else if(x(Ft)===We)Jt.element=Ft,Jt.width=Ft.width,Jt.height=Ft.height,Jt.channels=4;else if(x(Ft)===Ge)Jt.element=Ft,Jt.width=Ft.naturalWidth,Jt.height=Ft.naturalHeight,Jt.channels=4;else if(x(Ft)===Ke)Jt.element=Ft,Jt.width=Ft.videoWidth,Jt.height=Ft.videoHeight,Jt.channels=4;else if(w(Ft)){for(an=Jt.width||Ft[0].length,pn=Jt.height||Ft.length,ln=Jt.channels,ln=T(Ft[0][0])?ln||Ft[0][0].length:ln||1,En=we.shape(Ft),jn=1,Tn=0;Tn<En.length;++Tn)jn*=En[Tn];jn=xe.allocType(36193===Jt.type?5126:Jt.type,jn),we.flatten(Ft,En,"",jn),A(Jt,jn),Jt.alignment=1,Jt.width=an,Jt.height=pn,Jt.channels=ln,Jt.format=Jt.internalformat=Ye[ln],Jt.needsFree=!0}}else Jt.width=Jt.width||1,Jt.height=Jt.height||1,Jt.channels=Jt.channels||4}function bt(Jt,Nn,Ft,an,pn){var En=Jt.element,Rn=Jt.data,jn=Jt.internalformat,Tn=Jt.format,ln=Jt.type,fn=Jt.width,wn=Jt.height;Tt(Jt),En?Je.texSubImage2D(Nn,pn,Ft,an,Tn,ln,En):Jt.compressed?Je.compressedTexSubImage2D(Nn,pn,Ft,an,jn,fn,wn,Rn):Jt.needsCopy?(ht(),Je.copyTexSubImage2D(Nn,pn,Ft,an,Jt.xOffset,Jt.yOffset,fn,wn)):Je.texSubImage2D(Nn,pn,Ft,an,fn,wn,Tn,ln,Rn)}function wt(){return Dn.pop()||new xt}function It(Jt){Jt.needsFree&&xe.freeType(Jt.data),xt.call(Jt),Dn.push(Jt)}function Wt(){ft.call(this),this.genMipmaps=!1,this.mipmapHint=4352,this.mipmask=0,this.images=Array(16)}function Yt(Jt,Nn,Ft){var an=Jt.images[0]=wt();Jt.mipmask=1,an.width=Jt.width=Nn,an.height=Jt.height=Ft,an.channels=Jt.channels=4}function Zt(Jt,Nn){var Ft=null;if(b(Nn))St(Ft=Jt.images[0]=wt(),Jt),Nt(Ft,Nn),Jt.mipmask=1;else if(Mt(Jt,Nn),Array.isArray(Nn.mipmap))for(var an=Nn.mipmap,pn=0;pn<an.length;++pn)St(Ft=Jt.images[pn]=wt(),Jt),Ft.width>>=pn,Ft.height>>=pn,Nt(Ft,an[pn]),Jt.mipmask|=1<<pn;else St(Ft=Jt.images[0]=wt(),Jt),Nt(Ft,Nn),Jt.mipmask=1;St(Jt,Jt.images[0])}function dn(Jt,Nn){for(var Ft=Jt.images,an=0;an<Ft.length&&Ft[an];++an){var pn=Ft[an],En=Nn,Rn=an,jn=pn.element,Tn=pn.data,ln=pn.internalformat,fn=pn.format,wn=pn.type,Mn=pn.width,Hn=pn.height;Tt(pn),jn?Je.texImage2D(En,Rn,fn,fn,wn,jn):pn.compressed?Je.compressedTexImage2D(En,Rn,ln,Mn,Hn,0,Tn):pn.needsCopy?(ht(),Je.copyTexImage2D(En,Rn,fn,pn.xOffset,pn.yOffset,Mn,Hn,0)):Je.texImage2D(En,Rn,fn,Mn,Hn,0,fn,wn,Tn||null)}}function nn(){var Jt=Bn.pop()||new Wt;ft.call(Jt);for(var Nn=Jt.mipmask=0;16>Nn;++Nn)Jt.images[Nn]=null;return Jt}function un(Jt){for(var Nn=Jt.images,Ft=0;Ft<Nn.length;++Ft)Nn[Ft]&&It(Nn[Ft]),Nn[Ft]=null;Bn.push(Jt)}function rn(){this.magFilter=this.minFilter=9728,this.wrapT=this.wrapS=33071,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=4352}function kn(Jt,Nn){"min"in Nn&&(Jt.minFilter=Un[Nn.min],0<=Ue.indexOf(Jt.minFilter)&&!("faces"in Nn)&&(Jt.genMipmaps=!0)),"mag"in Nn&&(Jt.magFilter=_n[Nn.mag]);var Ft=Jt.wrapS,an=Jt.wrapT;if("wrap"in Nn){var pn=Nn.wrap;"string"==typeof pn?Ft=an=Cn[pn]:Array.isArray(pn)&&(Ft=Cn[pn[0]],an=Cn[pn[1]])}else"wrapS"in Nn&&(Ft=Cn[Nn.wrapS]),"wrapT"in Nn&&(an=Cn[Nn.wrapT]);if(Jt.wrapS=Ft,Jt.wrapT=an,"anisotropic"in Nn&&(Jt.anisotropic=Nn.anisotropic),"mipmap"in Nn){switch(Ft=!1,typeof Nn.mipmap){case"string":Jt.mipmapHint=yn[Nn.mipmap],Ft=Jt.genMipmaps=!0;break;case"boolean":Ft=Jt.genMipmaps=Nn.mipmap;break;case"object":Jt.genMipmaps=!1,Ft=!0}!Ft||"min"in Nn||(Jt.minFilter=9984)}}function Pn(Jt,Nn){Je.texParameteri(Nn,10241,Jt.minFilter),Je.texParameteri(Nn,10240,Jt.magFilter),Je.texParameteri(Nn,10242,Jt.wrapS),Je.texParameteri(Nn,10243,Jt.wrapT),it.ext_texture_filter_anisotropic&&Je.texParameteri(Nn,34046,Jt.anisotropic),Jt.genMipmaps&&(Je.hint(33170,Jt.mipmapHint),Je.generateMipmap(Nn))}function Sn(Jt){ft.call(this),this.mipmask=0,this.internalformat=6408,this.id=fr++,this.refCount=1,this.target=Jt,this.texture=Je.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new rn,ut.profile&&(this.stats={size:0})}function en(Jt){Je.activeTexture(33984),Je.bindTexture(Jt.target,Jt.texture)}function vn(){var Jt=er[0];Jt?Je.bindTexture(Jt.target,Jt.texture):Je.bindTexture(3553,null)}function hn(Jt){var Nn=Jt.texture,Ft=Jt.unit,an=Jt.target;0<=Ft&&(Je.activeTexture(33984+Ft),Je.bindTexture(an,null),er[Ft]=null),Je.deleteTexture(Nn),Jt.texture=null,Jt.params=null,Jt.pixels=null,Jt.refCount=0,delete bn[Jt.id],qe.textureCount--}var yn={"don't care":4352,"dont care":4352,nice:4354,fast:4353},Cn={repeat:10497,clamp:33071,mirror:33648},_n={nearest:9728,linear:9729},Un=ae({mipmap:9987,"nearest mipmap nearest":9984,"linear mipmap nearest":9985,"nearest mipmap linear":9986,"linear mipmap linear":9987},_n),qn={none:0,browser:37444},Ln={uint8:5121,rgba4:32819,rgb565:33635,"rgb5 a1":32820},Yn={alpha:6406,luminance:6409,"luminance alpha":6410,rgb:6407,rgba:6408,rgba4:32854,"rgb5 a1":32855,rgb565:36194},_r={};it.ext_srgb&&(Yn.srgb=35904,Yn.srgba=35906),it.oes_texture_float&&(Ln.float32=Ln.float=5126),it.oes_texture_half_float&&(Ln.float16=Ln["half float"]=36193),it.webgl_depth_texture&&(ae(Yn,{depth:6402,"depth stencil":34041}),ae(Ln,{uint16:5123,uint32:5125,"depth stencil":34042})),it.webgl_compressed_texture_s3tc&&ae(_r,{"rgb s3tc dxt1":33776,"rgba s3tc dxt1":33777,"rgba s3tc dxt3":33778,"rgba s3tc dxt5":33779}),it.webgl_compressed_texture_atc&&ae(_r,{"rgb atc":35986,"rgba atc explicit alpha":35987,"rgba atc interpolated alpha":34798}),it.webgl_compressed_texture_pvrtc&&ae(_r,{"rgb pvrtc 4bppv1":35840,"rgb pvrtc 2bppv1":35841,"rgba pvrtc 4bppv1":35842,"rgba pvrtc 2bppv1":35843}),it.webgl_compressed_texture_etc1&&(_r["rgb etc1"]=36196);var dr=Array.prototype.slice.call(Je.getParameter(34467));Object.keys(_r).forEach(function(Jt){var Nn=_r[Jt];0<=dr.indexOf(Nn)&&(Yn[Jt]=Nn)});var kr=Object.keys(Yn);dt.textureFormats=kr;var vr=[];Object.keys(Yn).forEach(function(Jt){vr[Yn[Jt]]=Jt});var mr=[];Object.keys(Ln).forEach(function(Jt){mr[Ln[Jt]]=Jt});var Br=[];Object.keys(_n).forEach(function(Jt){Br[_n[Jt]]=Jt});var qt=[];Object.keys(Un).forEach(function(Jt){qt[Un[Jt]]=Jt});var on=[];Object.keys(Cn).forEach(function(Jt){on[Cn[Jt]]=Jt});var An=kr.reduce(function(Jt,Nn){var Ft=Yn[Nn];return Jt[Ft]=6409===Ft||6406===Ft||6409===Ft||6410===Ft||6402===Ft||34041===Ft||it.ext_srgb&&(35904===Ft||35906===Ft)?Ft:32855===Ft||0<=Nn.indexOf("rgba")?6408:6407,Jt},{}),Dn=[],Bn=[],fr=0,bn={},Qn=dt.maxTextureUnits,er=Array(Qn).map(function(){return null});return ae(Sn.prototype,{bind:function(){this.bindCount+=1;var Jt=this.unit;if(0>Jt){for(var Nn=0;Nn<Qn;++Nn){var Ft=er[Nn];if(Ft){if(0<Ft.bindCount)continue;Ft.unit=-1}er[Nn]=this,Jt=Nn;break}ut.profile&&qe.maxTextureUnits<Jt+1&&(qe.maxTextureUnits=Jt+1),this.unit=Jt,Je.activeTexture(33984+Jt),Je.bindTexture(this.target,this.texture)}return Jt},unbind:function(){--this.bindCount},decRef:function(){0>=--this.refCount&&hn(this)}}),ut.profile&&(qe.getTotalTextureSize=function(){var Jt=0;return Object.keys(bn).forEach(function(Nn){Jt+=bn[Nn].stats.size}),Jt}),{create2D:function(Jt,Nn){function Ft(pn,En){var Rn=an.texInfo;rn.call(Rn);var jn=nn();return"number"==typeof pn?Yt(jn,0|pn,"number"==typeof En?0|En:0|pn):pn?(kn(Rn,pn),Zt(jn,pn)):Yt(jn,1,1),Rn.genMipmaps&&(jn.mipmask=(jn.width<<1)-1),an.mipmask=jn.mipmask,St(an,jn),an.internalformat=jn.internalformat,Ft.width=jn.width,Ft.height=jn.height,en(an),dn(jn,3553),Pn(Rn,3553),vn(),un(jn),ut.profile&&(an.stats.size=m(an.internalformat,an.type,jn.width,jn.height,Rn.genMipmaps,!1)),Ft.format=vr[an.internalformat],Ft.type=mr[an.type],Ft.mag=Br[Rn.magFilter],Ft.min=qt[Rn.minFilter],Ft.wrapS=on[Rn.wrapS],Ft.wrapT=on[Rn.wrapT],Ft}var an=new Sn(3553);return bn[an.id]=an,qe.textureCount++,Ft(Jt,Nn),Ft.subimage=function(pn,En,Rn,jn){En|=0,Rn|=0,jn|=0;var Tn=wt();return St(Tn,an),Tn.width=0,Tn.height=0,Nt(Tn,pn),Tn.width=Tn.width||(an.width>>jn)-En,Tn.height=Tn.height||(an.height>>jn)-Rn,en(an),bt(Tn,3553,En,Rn,jn),vn(),It(Tn),Ft},Ft.resize=function(pn,En){var Rn=0|pn,jn=0|En||Rn;if(Rn===an.width&&jn===an.height)return Ft;Ft.width=an.width=Rn,Ft.height=an.height=jn,en(an);for(var Tn=0;an.mipmask>>Tn;++Tn){var ln=Rn>>Tn,fn=jn>>Tn;if(!ln||!fn)break;Je.texImage2D(3553,Tn,an.format,ln,fn,0,an.format,an.type,null)}return vn(),ut.profile&&(an.stats.size=m(an.internalformat,an.type,Rn,jn,!1,!1)),Ft},Ft._reglType="texture2d",Ft._texture=an,ut.profile&&(Ft.stats=an.stats),Ft.destroy=function(){an.decRef()},Ft},createCube:function(Jt,Nn,Ft,an,pn,En){function Rn(ln,fn,wn,Mn,Hn,Wn){var cr,or=jn.texInfo;for(rn.call(or),cr=0;6>cr;++cr)Tn[cr]=nn();if("number"!=typeof ln&&ln){if("object"==typeof ln)if(fn)Zt(Tn[0],ln),Zt(Tn[1],fn),Zt(Tn[2],wn),Zt(Tn[3],Mn),Zt(Tn[4],Hn),Zt(Tn[5],Wn);else if(kn(or,ln),Mt(jn,ln),"faces"in ln)for(ln=ln.faces,cr=0;6>cr;++cr)St(Tn[cr],jn),Zt(Tn[cr],ln[cr]);else for(cr=0;6>cr;++cr)Zt(Tn[cr],ln)}else for(ln=0|ln||1,cr=0;6>cr;++cr)Yt(Tn[cr],ln,ln);for(St(jn,Tn[0]),jn.mipmask=or.genMipmaps?(Tn[0].width<<1)-1:Tn[0].mipmask,jn.internalformat=Tn[0].internalformat,Rn.width=Tn[0].width,Rn.height=Tn[0].height,en(jn),cr=0;6>cr;++cr)dn(Tn[cr],34069+cr);for(Pn(or,34067),vn(),ut.profile&&(jn.stats.size=m(jn.internalformat,jn.type,Rn.width,Rn.height,or.genMipmaps,!0)),Rn.format=vr[jn.internalformat],Rn.type=mr[jn.type],Rn.mag=Br[or.magFilter],Rn.min=qt[or.minFilter],Rn.wrapS=on[or.wrapS],Rn.wrapT=on[or.wrapT],cr=0;6>cr;++cr)un(Tn[cr]);return Rn}var jn=new Sn(34067);bn[jn.id]=jn,qe.cubeCount++;var Tn=Array(6);return Rn(Jt,Nn,Ft,an,pn,En),Rn.subimage=function(ln,fn,wn,Mn,Hn){wn|=0,Mn|=0,Hn|=0;var Wn=wt();return St(Wn,jn),Wn.width=0,Wn.height=0,Nt(Wn,fn),Wn.width=Wn.width||(jn.width>>Hn)-wn,Wn.height=Wn.height||(jn.height>>Hn)-Mn,en(jn),bt(Wn,34069+ln,wn,Mn,Hn),vn(),It(Wn),Rn},Rn.resize=function(ln){if((ln|=0)!==jn.width){Rn.width=jn.width=ln,Rn.height=jn.height=ln,en(jn);for(var fn=0;6>fn;++fn)for(var wn=0;jn.mipmask>>wn;++wn)Je.texImage2D(34069+fn,wn,jn.format,ln>>wn,ln>>wn,0,jn.format,jn.type,null);return vn(),ut.profile&&(jn.stats.size=m(jn.internalformat,jn.type,Rn.width,Rn.height,!1,!0)),Rn}},Rn._reglType="textureCube",Rn._texture=jn,ut.profile&&(Rn.stats=jn.stats),Rn.destroy=function(){jn.decRef()},Rn},clear:function(){for(var Jt=0;Jt<Qn;++Jt)Je.activeTexture(33984+Jt),Je.bindTexture(3553,null),er[Jt]=null;ye(bn).forEach(hn),qe.cubeCount=0,qe.textureCount=0},getTexture:function(Jt){return null},restore:function(){for(var Jt=0;Jt<Qn;++Jt){var Nn=er[Jt];Nn&&(Nn.bindCount=0,Nn.unit=-1,er[Jt]=null)}ye(bn).forEach(function(Ft){Ft.texture=Je.createTexture(),Je.bindTexture(Ft.target,Ft.texture);for(var an=0;32>an;++an)if(Ft.mipmask&1<<an)if(3553===Ft.target)Je.texImage2D(3553,an,Ft.internalformat,Ft.width>>an,Ft.height>>an,0,Ft.internalformat,Ft.type,null);else for(var pn=0;6>pn;++pn)Je.texImage2D(34069+pn,an,Ft.internalformat,Ft.width>>an,Ft.height>>an,0,Ft.internalformat,Ft.type,null);Pn(Ft.texInfo,Ft.target)})},refresh:function(){for(var Jt=0;Jt<Qn;++Jt){var Nn=er[Jt];Nn&&(Nn.bindCount=0,Nn.unit=-1,er[Jt]=null),Je.activeTexture(33984+Jt),Je.bindTexture(3553,null),Je.bindTexture(34067,null)}}}}(bt,dn,Sn,function(){qn.procs.poll()},Pn,Yt,Je),_n=function(Je,it,dt,ht,Ve){function qe(xt){this.id=Mt++,this.refCount=1,this.renderbuffer=xt,this.format=32854,this.height=this.width=0,Ve.profile&&(this.stats={size:0})}function ut(xt){var Nt=xt.renderbuffer;Je.bindRenderbuffer(36161,null),Je.deleteRenderbuffer(Nt),xt.renderbuffer=null,xt.refCount=0,delete Tt[xt.id],ht.renderbufferCount--}var ft={rgba4:32854,rgb565:36194,"rgb5 a1":32855,depth:33189,stencil:36168,"depth stencil":34041};it.ext_srgb&&(ft.srgba=35907),it.ext_color_buffer_half_float&&(ft.rgba16f=34842,ft.rgb16f=34843),it.webgl_color_buffer_float&&(ft.rgba32f=34836);var St=[];Object.keys(ft).forEach(function(xt){St[ft[xt]]=xt});var Mt=0,Tt={};return qe.prototype.decRef=function(){0>=--this.refCount&&ut(this)},Ve.profile&&(ht.getTotalRenderbufferSize=function(){var xt=0;return Object.keys(Tt).forEach(function(Nt){xt+=Tt[Nt].stats.size}),xt}),{create:function(xt,Nt){function bt(It,Wt){var Yt=0,Zt=0,dn=32854;if("object"==typeof It&&It?("shape"in It?(Yt=0|(Zt=It.shape)[0],Zt=0|Zt[1]):("radius"in It&&(Yt=Zt=0|It.radius),"width"in It&&(Yt=0|It.width),"height"in It&&(Zt=0|It.height)),"format"in It&&(dn=ft[It.format])):"number"==typeof It?(Yt=0|It,Zt="number"==typeof Wt?0|Wt:Yt):It||(Yt=Zt=1),Yt!==wt.width||Zt!==wt.height||dn!==wt.format)return bt.width=wt.width=Yt,bt.height=wt.height=Zt,wt.format=dn,Je.bindRenderbuffer(36161,wt.renderbuffer),Je.renderbufferStorage(36161,dn,Yt,Zt),Ve.profile&&(wt.stats.size=ct[wt.format]*wt.width*wt.height),bt.format=St[wt.format],bt}var wt=new qe(Je.createRenderbuffer());return Tt[wt.id]=wt,ht.renderbufferCount++,bt(xt,Nt),bt.resize=function(It,Wt){var Yt=0|It,Zt=0|Wt||Yt;return Yt===wt.width&&Zt===wt.height||(bt.width=wt.width=Yt,bt.height=wt.height=Zt,Je.bindRenderbuffer(36161,wt.renderbuffer),Je.renderbufferStorage(36161,wt.format,Yt,Zt),Ve.profile&&(wt.stats.size=ct[wt.format]*wt.width*wt.height)),bt},bt._reglType="renderbuffer",bt._renderbuffer=wt,Ve.profile&&(bt.stats=wt.stats),bt.destroy=function(){wt.decRef()},bt},clear:function(){ye(Tt).forEach(ut)},restore:function(){ye(Tt).forEach(function(xt){xt.renderbuffer=Je.createRenderbuffer(),Je.bindRenderbuffer(36161,xt.renderbuffer),Je.renderbufferStorage(36161,xt.format,xt.width,xt.height)}),Je.bindRenderbuffer(36161,null)}}}(bt,dn,0,Yt,Je),Un=function k(Je,it,dt,ht,Ve,qe){function ut(Sn,en,vn){this.target=Sn,this.texture=en,this.renderbuffer=vn;var hn=Sn=0;en?(Sn=en.width,hn=en.height):vn&&(Sn=vn.width,hn=vn.height),this.width=Sn,this.height=hn}function ft(Sn){Sn&&(Sn.texture&&Sn.texture._texture.decRef(),Sn.renderbuffer&&Sn.renderbuffer._renderbuffer.decRef())}function St(Sn,en,vn){Sn&&(Sn.texture?Sn.texture._texture.refCount+=1:Sn.renderbuffer._renderbuffer.refCount+=1)}function Mt(Sn,en){en&&(en.texture?Je.framebufferTexture2D(36160,Sn,en.target,en.texture._texture.texture,0):Je.framebufferRenderbuffer(36160,Sn,36161,en.renderbuffer._renderbuffer.renderbuffer))}function Tt(Sn){var en=3553,vn=null,hn=null,yn=Sn;return"object"==typeof Sn&&(yn=Sn.data,"target"in Sn&&(en=0|Sn.target)),"texture2d"===(Sn=yn._reglType)||"textureCube"===Sn?vn=yn:"renderbuffer"===Sn&&(hn=yn,en=36161),new ut(en,vn,hn)}function xt(Sn,en,vn,hn,yn){return vn?((Sn=ht.create2D({width:Sn,height:en,format:hn,type:yn}))._texture.refCount=0,new ut(3553,Sn,null)):((Sn=Ve.create({width:Sn,height:en,format:hn}))._renderbuffer.refCount=0,new ut(36161,null,Sn))}function Nt(Sn){return Sn&&(Sn.texture||Sn.renderbuffer)}function bt(Sn,en,vn){Sn&&(Sn.texture?Sn.texture.resize(en,vn):Sn.renderbuffer&&Sn.renderbuffer.resize(en,vn),Sn.width=en,Sn.height=vn)}function wt(){this.id=kn++,Pn[this.id]=this,this.framebuffer=Je.createFramebuffer(),this.height=this.width=0,this.colorAttachments=[],this.depthStencilAttachment=this.stencilAttachment=this.depthAttachment=null}function It(Sn){Sn.colorAttachments.forEach(ft),ft(Sn.depthAttachment),ft(Sn.stencilAttachment),ft(Sn.depthStencilAttachment)}function Wt(Sn){Je.deleteFramebuffer(Sn.framebuffer),Sn.framebuffer=null,qe.framebufferCount--,delete Pn[Sn.id]}function Yt(Sn){var en;Je.bindFramebuffer(36160,Sn.framebuffer);var vn=Sn.colorAttachments;for(en=0;en<vn.length;++en)Mt(36064+en,vn[en]);for(en=vn.length;en<dt.maxColorAttachments;++en)Je.framebufferTexture2D(36160,36064+en,3553,null,0);Je.framebufferTexture2D(36160,33306,3553,null,0),Je.framebufferTexture2D(36160,36096,3553,null,0),Je.framebufferTexture2D(36160,36128,3553,null,0),Mt(36096,Sn.depthAttachment),Mt(36128,Sn.stencilAttachment),Mt(33306,Sn.depthStencilAttachment),Je.checkFramebufferStatus(36160),Je.isContextLost(),Je.bindFramebuffer(36160,dn.next?dn.next.framebuffer:null),dn.cur=dn.next,Je.getError()}function Zt(Sn,en){function vn(yn,Cn){var _n,Un=0,qn=0,Ln=!0,Yn=!0;_n=null;var _r=!0,dr="rgba",kr="uint8",vr=1,mr=null,Br=null,qt=null,on=!1;"number"==typeof yn?(Un=0|yn,qn=0|Cn||Un):yn?("shape"in yn?(Un=(qn=yn.shape)[0],qn=qn[1]):("radius"in yn&&(Un=qn=yn.radius),"width"in yn&&(Un=yn.width),"height"in yn&&(qn=yn.height)),("color"in yn||"colors"in yn)&&(_n=yn.color||yn.colors,Array.isArray(_n)),_n||("colorCount"in yn&&(vr=0|yn.colorCount),"colorTexture"in yn&&(_r=!!yn.colorTexture,dr="rgba4"),"colorType"in yn&&(kr=yn.colorType,!_r)&&("half float"===kr||"float16"===kr?dr="rgba16f":"float"!==kr&&"float32"!==kr||(dr="rgba32f")),"colorFormat"in yn&&(0<=nn.indexOf(dr=yn.colorFormat)?_r=!0:0<=un.indexOf(dr)&&(_r=!1))),("depthTexture"in yn||"depthStencilTexture"in yn)&&(on=!(!yn.depthTexture&&!yn.depthStencilTexture)),"depth"in yn&&("boolean"==typeof yn.depth?Ln=yn.depth:(mr=yn.depth,Yn=!1)),"stencil"in yn&&("boolean"==typeof yn.stencil?Yn=yn.stencil:(Br=yn.stencil,Ln=!1)),"depthStencil"in yn&&("boolean"==typeof yn.depthStencil?Ln=Yn=yn.depthStencil:(qt=yn.depthStencil,Yn=Ln=!1))):Un=qn=1;var An=null,Dn=null,Bn=null,fr=null;if(Array.isArray(_n))An=_n.map(Tt);else if(_n)An=[Tt(_n)];else for(An=Array(vr),_n=0;_n<vr;++_n)An[_n]=xt(Un,qn,_r,dr,kr);for(Un=Un||An[0].width,qn=qn||An[0].height,mr?Dn=Tt(mr):Ln&&!Yn&&(Dn=xt(Un,qn,on,"depth","uint32")),Br?Bn=Tt(Br):Yn&&!Ln&&(Bn=xt(Un,qn,!1,"stencil","uint8")),qt?fr=Tt(qt):!mr&&!Br&&Yn&&Ln&&(fr=xt(Un,qn,on,"depth stencil","depth stencil")),Ln=null,_n=0;_n<An.length;++_n)St(An[_n]),An[_n]&&An[_n].texture&&(Yn=Dt[An[_n].texture._texture.format]*vt[An[_n].texture._texture.type],null===Ln&&(Ln=Yn));return St(Dn),St(Bn),St(fr),It(hn),hn.width=Un,hn.height=qn,hn.colorAttachments=An,hn.depthAttachment=Dn,hn.stencilAttachment=Bn,hn.depthStencilAttachment=fr,vn.color=An.map(Nt),vn.depth=Nt(Dn),vn.stencil=Nt(Bn),vn.depthStencil=Nt(fr),vn.width=hn.width,vn.height=hn.height,Yt(hn),vn}var hn=new wt;return qe.framebufferCount++,vn(Sn,en),ae(vn,{resize:function(yn,Cn){var _n=Math.max(0|yn,1),Un=Math.max(0|Cn||_n,1);if(_n===hn.width&&Un===hn.height)return vn;for(var qn=hn.colorAttachments,Ln=0;Ln<qn.length;++Ln)bt(qn[Ln],_n,Un);return bt(hn.depthAttachment,_n,Un),bt(hn.stencilAttachment,_n,Un),bt(hn.depthStencilAttachment,_n,Un),hn.width=vn.width=_n,hn.height=vn.height=Un,Yt(hn),vn},_reglType:"framebuffer",_framebuffer:hn,destroy:function(){Wt(hn),It(hn)},use:function(yn){dn.setFBO({framebuffer:vn},yn)}})}var dn={cur:null,next:null,dirty:!1,setFBO:null},nn=["rgba"],un=["rgba4","rgb565","rgb5 a1"];it.ext_srgb&&un.push("srgba"),it.ext_color_buffer_half_float&&un.push("rgba16f","rgb16f"),it.webgl_color_buffer_float&&un.push("rgba32f");var rn=["uint8"];it.oes_texture_half_float&&rn.push("half float","float16"),it.oes_texture_float&&rn.push("float","float32");var kn=0,Pn={};return ae(dn,{getFramebuffer:function(Sn){return"function"==typeof Sn&&"framebuffer"===Sn._reglType&&(Sn=Sn._framebuffer)instanceof wt?Sn:null},create:Zt,createCube:function(Sn){function en(hn){var yn,Cn={color:null},_n=0,Un=null;yn="rgba";var qn="uint8",Ln=1;if("number"==typeof hn?_n=0|hn:hn?("shape"in hn?_n=hn.shape[0]:("radius"in hn&&(_n=0|hn.radius),"width"in hn?_n=0|hn.width:"height"in hn&&(_n=0|hn.height)),("color"in hn||"colors"in hn)&&(Un=hn.color||hn.colors,Array.isArray(Un)),Un||("colorCount"in hn&&(Ln=0|hn.colorCount),"colorType"in hn&&(qn=hn.colorType),"colorFormat"in hn&&(yn=hn.colorFormat)),"depth"in hn&&(Cn.depth=hn.depth),"stencil"in hn&&(Cn.stencil=hn.stencil),"depthStencil"in hn&&(Cn.depthStencil=hn.depthStencil)):_n=1,Un)if(Array.isArray(Un))for(hn=[],yn=0;yn<Un.length;++yn)hn[yn]=Un[yn];else hn=[Un];else for(hn=Array(Ln),Un={radius:_n,format:yn,type:qn},yn=0;yn<Ln;++yn)hn[yn]=ht.createCube(Un);for(Cn.color=Array(hn.length),yn=0;yn<hn.length;++yn)Ln=hn[yn],_n=_n||Ln.width,Cn.color[yn]={target:34069,data:hn[yn]};for(yn=0;6>yn;++yn){for(Ln=0;Ln<hn.length;++Ln)Cn.color[Ln].target=34069+yn;0<yn&&(Cn.depth=vn[0].depth,Cn.stencil=vn[0].stencil,Cn.depthStencil=vn[0].depthStencil),vn[yn]?vn[yn](Cn):vn[yn]=Zt(Cn)}return ae(en,{width:_n,height:_n,color:hn})}var vn=Array(6);return en(Sn),ae(en,{faces:vn,resize:function(hn){var yn=0|hn;if(yn===en.width)return en;var Cn=en.color;for(hn=0;hn<Cn.length;++hn)Cn[hn].resize(yn);for(hn=0;6>hn;++hn)vn[hn].resize(yn);return en.width=en.height=yn,en},_reglType:"framebufferCube",destroy:function(){vn.forEach(function(hn){hn.destroy()})}})},clear:function(){ye(Pn).forEach(Wt)},restore:function(){dn.cur=null,dn.next=null,dn.dirty=!0,ye(Pn).forEach(function(Sn){Sn.framebuffer=Je.createFramebuffer(),Yt(Sn)})}})}(bt,dn,Sn,Cn,_n,Yt),qn=K(bt,Wt,dn,Sn,en,vn,0,Un,{},hn,yn,rn,Pn,nn,Zt,Je),Ln=(Wt=function N(Je,it,dt,ht,Ve,qe,ut){function ft(St){var Mt;Mt=null===it.next?5121:it.next.colorAttachments[0].texture._texture.type;var Tt=0,xt=0,Nt=ht.framebufferWidth,bt=ht.framebufferHeight,wt=null;return Te(St)?wt=St:St&&(Tt=0|St.x,xt=0|St.y,Nt=0|(St.width||ht.framebufferWidth-Tt),bt=0|(St.height||ht.framebufferHeight-xt),wt=St.data||null),dt(),St=Nt*bt*4,wt||(5121===Mt?wt=new Uint8Array(St):5126===Mt&&(wt=wt||new Float32Array(St))),Je.pixelStorei(3333,4),Je.readPixels(Tt,xt,Nt,bt,6408,Mt,wt),wt}return function(St){return St&&"framebuffer"in St?(it.setFBO({framebuffer:(Mt=St).framebuffer},function(){Tt=ft(Mt)}),Tt):ft(St);var Mt,Tt}}(bt,Un,qn.procs.poll,Pn),qn.next),Yn=bt.canvas,_r=[],dr=[],kr=[],vr=[Je.onDestroy],mr=null;Yn&&(Yn.addEventListener("webglcontextlost",Ve,!1),Yn.addEventListener("webglcontextrestored",qe,!1));var Br=Un.setFBO=ut({framebuffer:he.define.call(null,1,"framebuffer")});return xt(),wt=ae(ut,{clear:function(qt){if("framebuffer"in qt)if(qt.framebuffer&&"framebufferCube"===qt.framebuffer_reglType)for(var on=0;6>on;++on)Br(ae({framebuffer:qt.framebuffer.faces[on]},qt),ft);else Br(qt,ft);else ft(0,qt)},prop:he.define.bind(null,1),context:he.define.bind(null,2),this:he.define.bind(null,3),draw:ut({}),buffer:function(qt){return en.create(qt,34962,!1,!1)},elements:function(qt){return vn.create(qt,!1)},texture:Cn.create2D,cube:Cn.createCube,renderbuffer:_n.create,framebuffer:Un.create,framebufferCube:Un.createCube,vao:hn.createVAO,attributes:wt,frame:St,on:function(qt,on){var An;switch(qt){case"frame":return St(on);case"lost":An=dr;break;case"restore":An=kr;break;case"destroy":An=vr}return An.push(on),{cancel:function(){for(var Dn=0;Dn<An.length;++Dn)if(An[Dn]===on){An[Dn]=An[An.length-1],An.pop();break}}}},limits:Sn,hasExtension:function(qt){return 0<=Sn.extensions.indexOf(qt.toLowerCase())},read:Wt,destroy:function(){_r.length=0,ht(),Yn&&(Yn.removeEventListener("webglcontextlost",Ve),Yn.removeEventListener("webglcontextrestored",qe)),yn.clear(),Un.clear(),_n.clear(),hn.clear(),Cn.clear(),vn.clear(),en.clear(),nn&&nn.clear(),vr.forEach(function(qt){qt()})},_gl:bt,_refresh:xt,poll:function(){Tt(),nn&&nn.update()},now:Nt,stats:Yt,getCachedCode:function(){return Zt},preloadCachedCode:function(qt){Object.entries(qt).forEach(function(on){Zt[on[0]]=on[1]})}}),Je.onDone(null,wt),wt}}()},71665:function(oe,j,r){var I=r(12856),E=I.Buffer;function f(M,y){for(var u in M)y[u]=M[u]}function S(M,y,u){return E(M,y,u)}E.from&&E.alloc&&E.allocUnsafe&&E.allocUnsafeSlow?oe.exports=I:(f(I,j),j.Buffer=S),S.prototype=Object.create(E.prototype),f(E,S),S.from=function(M,y,u){if("number"==typeof M)throw new TypeError("Argument must not be a number");return E(M,y,u)},S.alloc=function(M,y,u){if("number"!=typeof M)throw new TypeError("Argument must be a number");var i=E(M);return void 0!==y?"string"==typeof u?i.fill(y,u):i.fill(y):i.fill(0),i},S.allocUnsafe=function(M){if("number"!=typeof M)throw new TypeError("Argument must be a number");return E(M)},S.allocUnsafeSlow=function(M){if("number"!=typeof M)throw new TypeError("Argument must be a number");return I.SlowBuffer(M)}},21630:function(oe,j,r){oe.exports=E;var I=r(15398).EventEmitter;function E(){I.call(this)}r(42018)(E,I),E.Readable=r(40410),E.Writable=r(37493),E.Duplex=r(37865),E.Transform=r(74308),E.PassThrough=r(66897),E.finished=r(12726),E.pipeline=r(10168),E.Stream=E,E.prototype.pipe=function(f,S){var M=this;function y(c){f.writable&&!1===f.write(c)&&M.pause&&M.pause()}function u(){M.readable&&M.resume&&M.resume()}M.on("data",y),f.on("drain",u),f._isStdio||S&&!1===S.end||(M.on("end",s),M.on("close",a));var i=!1;function s(){i||(i=!0,f.end())}function a(){i||(i=!0,"function"==typeof f.destroy&&f.destroy())}function o(c){if(l(),0===I.listenerCount(this,"error"))throw c}function l(){M.removeListener("data",y),f.removeListener("drain",u),M.removeListener("end",s),M.removeListener("close",a),M.removeListener("error",o),f.removeListener("error",o),M.removeListener("end",l),M.removeListener("close",l),f.removeListener("close",l)}return M.on("error",o),f.on("error",o),M.on("end",l),M.on("close",l),f.on("close",l),f.emit("pipe",M),f}},74322:function(oe){"use strict";var j={};function r(E,f,S){S||(S=Error);var M=function(y){var u,i;function s(a,o,l){return y.call(this,"string"==typeof f?f:f(a,o,l))||this}return i=y,(u=s).prototype=Object.create(i.prototype),u.prototype.constructor=u,u.__proto__=i,s}(S);M.prototype.name=S.name,M.prototype.code=E,j[E]=M}function I(E,f){if(Array.isArray(E)){var S=E.length;return E=E.map(function(M){return String(M)}),S>2?"one of ".concat(f," ").concat(E.slice(0,S-1).join(", "),", or ")+E[S-1]:2===S?"one of ".concat(f," ").concat(E[0]," or ").concat(E[1]):"of ".concat(f," ").concat(E[0])}return"of ".concat(f," ").concat(String(E))}r("ERR_INVALID_OPT_VALUE",function(E,f){return'The value "'+f+'" is invalid for option "'+E+'"'},TypeError),r("ERR_INVALID_ARG_TYPE",function(E,f,S){var M,u,i,s,o,c;if("string"==typeof f&&("not ","not "===f.substr(0,4))?(M="must not be",f=f.replace(/^not /,"")):M="must be",o=E," argument",(void 0===c||c>o.length)&&(c=o.length)," argument"===o.substring(c-9,c))u="The ".concat(E," ").concat(M," ").concat(I(f,"type"));else{var a=("number"!=typeof s&&(s=0),s+1>(i=E).length||-1===i.indexOf(".",s)?"argument":"property");u='The "'.concat(E,'" ').concat(a," ").concat(M," ").concat(I(f,"type"))}return u+". Received type ".concat(typeof S)},TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",function(E){return"The "+E+" method is not implemented"}),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",function(E){return"Cannot call "+E+" after a stream was destroyed"}),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",function(E){return"Unknown encoding: "+E},TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),oe.exports.q=j},37865:function(oe,j,r){"use strict";var I=r(90386),E=Object.keys||function(o){var l=[];for(var c in o)l.push(c);return l};oe.exports=i;var f=r(40410),S=r(37493);r(42018)(i,f);for(var M=E(S.prototype),y=0;y<M.length;y++){var u=M[y];i.prototype[u]||(i.prototype[u]=S.prototype[u])}function i(o){if(!(this instanceof i))return new i(o);f.call(this,o),S.call(this,o),this.allowHalfOpen=!0,o&&(!1===o.readable&&(this.readable=!1),!1===o.writable&&(this.writable=!1),!1===o.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",s)))}function s(){this._writableState.ended||I.nextTick(a,this)}function a(o){o.end()}Object.defineProperty(i.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(i.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(i.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(i.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(o){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=o,this._writableState.destroyed=o)}})},66897:function(oe,j,r){"use strict";oe.exports=E;var I=r(74308);function E(f){if(!(this instanceof E))return new E(f);I.call(this,f)}r(42018)(E,I),E.prototype._transform=function(f,S,M){M(null,f)}},40410:function(oe,j,r){"use strict";var I,E=r(90386);oe.exports=A,A.ReadableState=b,r(15398);var f,S=function(re,ee){return re.listeners(ee).length},M=r(71405),y=r(12856).Buffer,u=r.g.Uint8Array||function(){},i=r(40964);f=i&&i.debuglog?i.debuglog("stream"):function(){};var s,a,o,l=r(31125),c=r(65756),h=r(56306).getHighWaterMark,v=r(74322).q,p=v.ERR_INVALID_ARG_TYPE,T=v.ERR_STREAM_PUSH_AFTER_EOF,_=v.ERR_METHOD_NOT_IMPLEMENTED,g=v.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;r(42018)(A,M);var w=c.errorOrDestroy,x=["error","close","destroy","pause","resume"];function b(re,ee,K){I=I||r(37865),"boolean"!=typeof K&&(K=ee instanceof I),this.objectMode=!!(re=re||{}).objectMode,K&&(this.objectMode=this.objectMode||!!re.readableObjectMode),this.highWaterMark=h(this,re,"readableHighWaterMark",K),this.buffer=new l,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==re.emitClose,this.autoDestroy=!!re.autoDestroy,this.destroyed=!1,this.defaultEncoding=re.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,re.encoding&&(s||(s=r(68019).s),this.decoder=new s(re.encoding),this.encoding=re.encoding)}function A(re){if(I=I||r(37865),!(this instanceof A))return new A(re);this._readableState=new b(re,this,this instanceof I),this.readable=!0,re&&("function"==typeof re.read&&(this._read=re.read),"function"==typeof re.destroy&&(this._destroy=re.destroy)),M.call(this)}function m(re,ee,K,ne,ae){f("readableAddChunk",ee);var ue,pe,ge,xe,Se,he=re._readableState;if(null===ee)he.reading=!1,function(pe,ge){if(f("onEofChunk"),!ge.ended){if(ge.decoder){var xe=ge.decoder.end();xe&&xe.length&&(ge.buffer.push(xe),ge.length+=ge.objectMode?1:xe.length)}ge.ended=!0,ge.sync?R(pe):(ge.needReadable=!1,ge.emittedReadable||(ge.emittedReadable=!0,L(pe)))}}(re,he);else if(ae||(pe=he,y.isBuffer(Se=ge=ee)||Se instanceof u||"string"==typeof ge||void 0===ge||pe.objectMode||(xe=new p("chunk",["string","Buffer","Uint8Array"],ge)),ue=xe),ue)w(re,ue);else if(he.objectMode||ee&&ee.length>0)if("string"==typeof ee||he.objectMode||Object.getPrototypeOf(ee)===y.prototype||(ee=function(pe){return y.from(pe)}(ee)),ne)he.endEmitted?w(re,new g):C(re,he,ee,!0);else if(he.ended)w(re,new T);else{if(he.destroyed)return!1;he.reading=!1,he.decoder&&!K?(ee=he.decoder.write(ee),he.objectMode||0!==ee.length?C(re,he,ee,!1):N(re,he)):C(re,he,ee,!1)}else ne||(he.reading=!1,N(re,he));return!he.ended&&(he.length<he.highWaterMark||0===he.length)}function C(re,ee,K,ne){ee.flowing&&0===ee.length&&!ee.sync?(ee.awaitDrain=0,re.emit("data",K)):(ee.length+=ee.objectMode?1:K.length,ne?ee.buffer.unshift(K):ee.buffer.push(K),ee.needReadable&&R(re)),N(re,ee)}Object.defineProperty(A.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(re){this._readableState&&(this._readableState.destroyed=re)}}),A.prototype.destroy=c.destroy,A.prototype._undestroy=c.undestroy,A.prototype._destroy=function(re,ee){ee(re)},A.prototype.push=function(re,ee){var K,ne=this._readableState;return ne.objectMode?K=!0:"string"==typeof re&&((ee=ee||ne.defaultEncoding)!==ne.encoding&&(re=y.from(re,ee),ee=""),K=!0),m(this,re,ee,!1,K)},A.prototype.unshift=function(re){return m(this,re,null,!0,!1)},A.prototype.isPaused=function(){return!1===this._readableState.flowing},A.prototype.setEncoding=function(re){s||(s=r(68019).s);var ee=new s(re);this._readableState.decoder=ee,this._readableState.encoding=this._readableState.decoder.encoding;for(var K=this._readableState.buffer.head,ne="";null!==K;)ne+=ee.write(K.data),K=K.next;return this._readableState.buffer.clear(),""!==ne&&this._readableState.buffer.push(ne),this._readableState.length=ne.length,this};var k=1073741824;function P(re,ee){return re<=0||0===ee.length&&ee.ended?0:ee.objectMode?1:re!=re?ee.flowing&&ee.length?ee.buffer.head.data.length:ee.length:(re>ee.highWaterMark&&(ee.highWaterMark=((K=re)>=k?K=k:(K--,K|=K>>>1,K|=K>>>2,K|=K>>>4,K|=K>>>8,K|=K>>>16,K++),K)),re<=ee.length?re:ee.ended?ee.length:(ee.needReadable=!0,0));var K}function R(re){var ee=re._readableState;f("emitReadable",ee.needReadable,ee.emittedReadable),ee.needReadable=!1,ee.emittedReadable||(f("emitReadable",ee.flowing),ee.emittedReadable=!0,E.nextTick(L,re))}function L(re){var ee=re._readableState;f("emitReadable_",ee.destroyed,ee.length,ee.ended),ee.destroyed||!ee.length&&!ee.ended||(re.emit("readable"),ee.emittedReadable=!1),ee.needReadable=!ee.flowing&&!ee.ended&&ee.length<=ee.highWaterMark,q(re)}function N(re,ee){ee.readingMore||(ee.readingMore=!0,E.nextTick(B,re,ee))}function B(re,ee){for(;!ee.reading&&!ee.ended&&(ee.length<ee.highWaterMark||ee.flowing&&0===ee.length);){var K=ee.length;if(f("maybeReadMore read 0"),re.read(0),K===ee.length)break}ee.readingMore=!1}function J(re){var ee=re._readableState;ee.readableListening=re.listenerCount("readable")>0,ee.resumeScheduled&&!ee.paused?ee.flowing=!0:re.listenerCount("data")>0&&re.resume()}function z(re){f("readable nexttick read 0"),re.read(0)}function Y(re,ee){f("resume",ee.reading),ee.reading||re.read(0),ee.resumeScheduled=!1,re.emit("resume"),q(re),ee.flowing&&!ee.reading&&re.read(0)}function q(re){var ee=re._readableState;for(f("flow",ee.flowing);ee.flowing&&null!==re.read(););}function U(re,ee){return 0===ee.length?null:(ee.objectMode?K=ee.buffer.shift():!re||re>=ee.length?(K=ee.decoder?ee.buffer.join(""):1===ee.buffer.length?ee.buffer.first():ee.buffer.concat(ee.length),ee.buffer.clear()):K=ee.buffer.consume(re,ee.decoder),K);var K}function Z(re){var ee=re._readableState;f("endReadable",ee.endEmitted),ee.endEmitted||(ee.ended=!0,E.nextTick(X,ee,re))}function X(re,ee){if(f("endReadableNT",re.endEmitted,re.length),!re.endEmitted&&0===re.length&&(re.endEmitted=!0,ee.readable=!1,ee.emit("end"),re.autoDestroy)){var K=ee._writableState;(!K||K.autoDestroy&&K.finished)&&ee.destroy()}}function se(re,ee){for(var K=0,ne=re.length;K<ne;K++)if(re[K]===ee)return K;return-1}A.prototype.read=function(re){f("read",re),re=parseInt(re,10);var ee=this._readableState,K=re;if(0!==re&&(ee.emittedReadable=!1),0===re&&ee.needReadable&&((0!==ee.highWaterMark?ee.length>=ee.highWaterMark:ee.length>0)||ee.ended))return f("read: emitReadable",ee.length,ee.ended),0===ee.length&&ee.ended?Z(this):R(this),null;if(0===(re=P(re,ee))&&ee.ended)return 0===ee.length&&Z(this),null;var ne,ae=ee.needReadable;return f("need readable",ae),(0===ee.length||ee.length-re<ee.highWaterMark)&&f("length less than watermark",ae=!0),ee.ended||ee.reading?f("reading or ended",ae=!1):ae&&(f("do read"),ee.reading=!0,ee.sync=!0,0===ee.length&&(ee.needReadable=!0),this._read(ee.highWaterMark),ee.sync=!1,ee.reading||(re=P(K,ee))),null===(ne=re>0?U(re,ee):null)?(ee.needReadable=ee.length<=ee.highWaterMark,re=0):(ee.length-=re,ee.awaitDrain=0),0===ee.length&&(ee.ended||(ee.needReadable=!0),K!==re&&ee.ended&&Z(this)),null!==ne&&this.emit("data",ne),ne},A.prototype._read=function(re){w(this,new _("_read()"))},A.prototype.pipe=function(re,ee){var K=this,ne=this._readableState;switch(ne.pipesCount){case 0:ne.pipes=re;break;case 1:ne.pipes=[ne.pipes,re];break;default:ne.pipes.push(re)}ne.pipesCount+=1,f("pipe count=%d opts=%j",ne.pipesCount,ee);var ae=ee&&!1===ee.end||re===E.stdout||re===E.stderr?ye:ue;function ue(){f("onend"),re.end()}ne.endEmitted?E.nextTick(ae):K.once("end",ae),re.on("unpipe",function we(ze,ke){f("onunpipe"),ze===K&&ke&&!1===ke.hasUnpiped&&(ke.hasUnpiped=!0,f("cleanup"),re.removeListener("close",Se),re.removeListener("finish",Te),re.removeListener("drain",he),re.removeListener("error",xe),re.removeListener("unpipe",we),K.removeListener("end",ue),K.removeListener("end",ye),K.removeListener("data",ge),pe=!0,!ne.awaitDrain||re._writableState&&!re._writableState.needDrain||he())});var we,he=(we=K,function(){var ze=we._readableState;f("pipeOnDrain",ze.awaitDrain),ze.awaitDrain&&ze.awaitDrain--,0===ze.awaitDrain&&S(we,"data")&&(ze.flowing=!0,q(we))});re.on("drain",he);var pe=!1;function ge(we){f("ondata");var ze=re.write(we);f("dest.write",ze),!1===ze&&((1===ne.pipesCount&&ne.pipes===re||ne.pipesCount>1&&-1!==se(ne.pipes,re))&&!pe&&(f("false write response, pause",ne.awaitDrain),ne.awaitDrain++),K.pause())}function xe(we){f("onerror",we),ye(),re.removeListener("error",xe),0===S(re,"error")&&w(re,we)}function Se(){re.removeListener("finish",Te),ye()}function Te(){f("onfinish"),re.removeListener("close",Se),ye()}function ye(){f("unpipe"),K.unpipe(re)}return K.on("data",ge),function(we,ze,ke){if("function"==typeof we.prependListener)return we.prependListener(ze,ke);we._events&&we._events[ze]?Array.isArray(we._events[ze])?we._events[ze].unshift(ke):we._events[ze]=[ke,we._events[ze]]:we.on(ze,ke)}(re,"error",xe),re.once("close",Se),re.once("finish",Te),re.emit("pipe",K),ne.flowing||(f("pipe resume"),K.resume()),re},A.prototype.unpipe=function(re){var ee=this._readableState,K={hasUnpiped:!1};if(0===ee.pipesCount)return this;if(1===ee.pipesCount)return re&&re!==ee.pipes||(re||(re=ee.pipes),ee.pipes=null,ee.pipesCount=0,ee.flowing=!1,re&&re.emit("unpipe",this,K)),this;if(!re){var ne=ee.pipes,ae=ee.pipesCount;ee.pipes=null,ee.pipesCount=0,ee.flowing=!1;for(var ue=0;ue<ae;ue++)ne[ue].emit("unpipe",this,{hasUnpiped:!1});return this}var he=se(ee.pipes,re);return-1===he||(ee.pipes.splice(he,1),ee.pipesCount-=1,1===ee.pipesCount&&(ee.pipes=ee.pipes[0]),re.emit("unpipe",this,K)),this},A.prototype.addListener=A.prototype.on=function(re,ee){var K=M.prototype.on.call(this,re,ee),ne=this._readableState;return"data"===re?(ne.readableListening=this.listenerCount("readable")>0,!1!==ne.flowing&&this.resume()):"readable"===re&&(ne.endEmitted||ne.readableListening||(ne.readableListening=ne.needReadable=!0,ne.flowing=!1,ne.emittedReadable=!1,f("on readable",ne.length,ne.reading),ne.length?R(this):ne.reading||E.nextTick(z,this))),K},A.prototype.removeListener=function(re,ee){var K=M.prototype.removeListener.call(this,re,ee);return"readable"===re&&E.nextTick(J,this),K},A.prototype.removeAllListeners=function(re){var ee=M.prototype.removeAllListeners.apply(this,arguments);return"readable"!==re&&void 0!==re||E.nextTick(J,this),ee},A.prototype.resume=function(){var K,re=this._readableState;return re.flowing||(f("resume"),re.flowing=!re.readableListening,this,(K=re).resumeScheduled||(K.resumeScheduled=!0,E.nextTick(Y,this,K))),re.paused=!1,this},A.prototype.pause=function(){return f("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(f("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},A.prototype.wrap=function(re){var ee=this,K=this._readableState,ne=!1;for(var ae in re.on("end",function(){if(f("wrapped end"),K.decoder&&!K.ended){var he=K.decoder.end();he&&he.length&&ee.push(he)}ee.push(null)}),re.on("data",function(he){f("wrapped data"),K.decoder&&(he=K.decoder.write(he)),K.objectMode&&null==he||(K.objectMode||he&&he.length)&&(ee.push(he)||(ne=!0,re.pause()))}),re)void 0===this[ae]&&"function"==typeof re[ae]&&(this[ae]=function(he){return function(){return re[he].apply(re,arguments)}}(ae));for(var ue=0;ue<x.length;ue++)re.on(x[ue],this.emit.bind(this,x[ue]));return this._read=function(he){f("wrapped _read",he),ne&&(ne=!1,re.resume())},this},"function"==typeof Symbol&&(A.prototype[Symbol.asyncIterator]=function(){return void 0===a&&(a=r(68221)),a(this)}),Object.defineProperty(A.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(A.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(A.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(re){this._readableState&&(this._readableState.flowing=re)}}),A._fromList=U,Object.defineProperty(A.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(A.from=function(re,ee){return void 0===o&&(o=r(31748)),o(A,re,ee)})},74308:function(oe,j,r){"use strict";oe.exports=i;var I=r(74322).q,E=I.ERR_METHOD_NOT_IMPLEMENTED,f=I.ERR_MULTIPLE_CALLBACK,S=I.ERR_TRANSFORM_ALREADY_TRANSFORMING,M=I.ERR_TRANSFORM_WITH_LENGTH_0,y=r(37865);function u(o,l){var c=this._transformState;c.transforming=!1;var h=c.writecb;if(null===h)return this.emit("error",new f);c.writechunk=null,c.writecb=null,null!=l&&this.push(l),h(o);var v=this._readableState;v.reading=!1,(v.needReadable||v.length<v.highWaterMark)&&this._read(v.highWaterMark)}function i(o){if(!(this instanceof i))return new i(o);y.call(this,o),this._transformState={afterTransform:u.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,o&&("function"==typeof o.transform&&(this._transform=o.transform),"function"==typeof o.flush&&(this._flush=o.flush)),this.on("prefinish",s)}function s(){var o=this;"function"!=typeof this._flush||this._readableState.destroyed?a(this,null,null):this._flush(function(l,c){a(o,l,c)})}function a(o,l,c){if(l)return o.emit("error",l);if(null!=c&&o.push(c),o._writableState.length)throw new M;if(o._transformState.transforming)throw new S;return o.push(null)}r(42018)(i,y),i.prototype.push=function(o,l){return this._transformState.needTransform=!1,y.prototype.push.call(this,o,l)},i.prototype._transform=function(o,l,c){c(new E("_transform()"))},i.prototype._write=function(o,l,c){var h=this._transformState;if(h.writecb=c,h.writechunk=o,h.writeencoding=l,!h.transforming){var v=this._readableState;(h.needTransform||v.needReadable||v.length<v.highWaterMark)&&this._read(v.highWaterMark)}},i.prototype._read=function(o){var l=this._transformState;null===l.writechunk||l.transforming?l.needTransform=!0:(l.transforming=!0,this._transform(l.writechunk,l.writeencoding,l.afterTransform))},i.prototype._destroy=function(o,l){y.prototype._destroy.call(this,o,function(c){l(c)})}},37493:function(oe,j,r){"use strict";var I,E=r(90386);function f(N){var B=this;this.next=null,this.entry=null,this.finish=function(){!function(J,z,Y){var q=J.entry;for(J.entry=null;q;){var U=q.callback;z.pendingcb--,U(void 0),q=q.next}z.corkedRequestsFree.next=J}(B,N)}}oe.exports=A,A.WritableState=b;var S,M={deprecate:r(20588)},y=r(71405),u=r(12856).Buffer,i=r.g.Uint8Array||function(){},s=r(65756),a=r(56306).getHighWaterMark,o=r(74322).q,l=o.ERR_INVALID_ARG_TYPE,c=o.ERR_METHOD_NOT_IMPLEMENTED,h=o.ERR_MULTIPLE_CALLBACK,v=o.ERR_STREAM_CANNOT_PIPE,p=o.ERR_STREAM_DESTROYED,T=o.ERR_STREAM_NULL_VALUES,_=o.ERR_STREAM_WRITE_AFTER_END,g=o.ERR_UNKNOWN_ENCODING,w=s.errorOrDestroy;function x(){}function b(N,B,J){I=I||r(37865),"boolean"!=typeof J&&(J=B instanceof I),this.objectMode=!!(N=N||{}).objectMode,J&&(this.objectMode=this.objectMode||!!N.writableObjectMode),this.highWaterMark=a(this,N,"writableHighWaterMark",J),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(!1===N.decodeStrings),this.defaultEncoding=N.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Y){!function(q,U){var ee,Z=q._writableState,X=Z.sync,se=Z.writecb;if("function"!=typeof se)throw new h;if((ee=Z).writing=!1,ee.writecb=null,ee.length-=ee.writelen,ee.writelen=0,U)!function(ee,K,ne,ae,ue){--K.pendingcb,ne?(E.nextTick(ue,ae),E.nextTick(L,ee,K),ee._writableState.errorEmitted=!0,w(ee,ae)):(ue(ae),ee._writableState.errorEmitted=!0,w(ee,ae),L(ee,K))}(q,Z,X,U,se);else{var re=P(Z)||q.destroyed;re||Z.corked||Z.bufferProcessing||!Z.bufferedRequest||k(q,Z),X?E.nextTick(C,q,Z,re,se):C(q,Z,re,se)}}(B,Y)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==N.emitClose,this.autoDestroy=!!N.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new f(this)}function A(N){var B=this instanceof(I=I||r(37865));if(!B&&!S.call(A,this))return new A(N);this._writableState=new b(N,this,B),this.writable=!0,N&&("function"==typeof N.write&&(this._write=N.write),"function"==typeof N.writev&&(this._writev=N.writev),"function"==typeof N.destroy&&(this._destroy=N.destroy),"function"==typeof N.final&&(this._final=N.final)),y.call(this)}function m(N,B,J,z,Y,q,U){B.writelen=z,B.writecb=U,B.writing=!0,B.sync=!0,B.destroyed?B.onwrite(new p("write")):J?N._writev(Y,B.onwrite):N._write(Y,q,B.onwrite),B.sync=!1}function C(N,B,J,z){var Y,q;J||(Y=N,0===(q=B).length&&q.needDrain&&(q.needDrain=!1,Y.emit("drain"))),B.pendingcb--,z(),L(N,B)}function k(N,B){B.bufferProcessing=!0;var J=B.bufferedRequest;if(N._writev&&J&&J.next){var Y=new Array(B.bufferedRequestCount),q=B.corkedRequestsFree;q.entry=J;for(var U=0,Z=!0;J;)Y[U]=J,J.isBuf||(Z=!1),J=J.next,U+=1;Y.allBuffers=Z,m(N,B,!0,B.length,Y,"",q.finish),B.pendingcb++,B.lastBufferedRequest=null,q.next?(B.corkedRequestsFree=q.next,q.next=null):B.corkedRequestsFree=new f(B),B.bufferedRequestCount=0}else{for(;J;){var X=J.chunk;if(m(N,B,!1,B.objectMode?1:X.length,X,J.encoding,J.callback),J=J.next,B.bufferedRequestCount--,B.writing)break}null===J&&(B.lastBufferedRequest=null)}B.bufferedRequest=J,B.bufferProcessing=!1}function P(N){return N.ending&&0===N.length&&null===N.bufferedRequest&&!N.finished&&!N.writing}function R(N,B){N._final(function(J){B.pendingcb--,J&&w(N,J),B.prefinished=!0,N.emit("prefinish"),L(N,B)})}function L(N,B){var Y,q,J=P(B);if(J&&(Y=N,(q=B).prefinished||q.finalCalled||("function"!=typeof Y._final||q.destroyed?(q.prefinished=!0,Y.emit("prefinish")):(q.pendingcb++,q.finalCalled=!0,E.nextTick(R,Y,q))),0===B.pendingcb&&(B.finished=!0,N.emit("finish"),B.autoDestroy))){var z=N._readableState;(!z||z.autoDestroy&&z.endEmitted)&&N.destroy()}return J}r(42018)(A,y),b.prototype.getBuffer=function(){for(var N=this.bufferedRequest,B=[];N;)B.push(N),N=N.next;return B},function(){try{Object.defineProperty(b.prototype,"buffer",{get:M.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(S=Function.prototype[Symbol.hasInstance],Object.defineProperty(A,Symbol.hasInstance,{value:function(N){return!!S.call(this,N)||this===A&&N&&N._writableState instanceof b}})):S=function(N){return N instanceof this},A.prototype.pipe=function(){w(this,new v)},A.prototype.write=function(N,B,J){var z,Z,X,se,Y=this._writableState,q=!1,U=!Y.objectMode&&(u.isBuffer(z=N)||z instanceof i);return U&&!u.isBuffer(N)&&(N=u.from(N)),"function"==typeof B&&(J=B,B=null),U?B="buffer":B||(B=Y.defaultEncoding),"function"!=typeof J&&(J=x),Y.ending?(Z=this,X=J,se=new _,w(Z,se),E.nextTick(X,se)):(U||function(Z,X,se,re){var ee;return null===se?ee=new T:"string"==typeof se||X.objectMode||(ee=new l("chunk",["string","Buffer"],se)),!ee||(w(Z,ee),E.nextTick(re,ee),!1)}(this,Y,N,J))&&(Y.pendingcb++,q=function(Z,X,se,re,ee,K){if(!se){var ne=(ge=re,(pe=X).objectMode||!1===pe.decodeStrings||"string"!=typeof ge||(ge=u.from(ge,ee)),ge);re!==ne&&(se=!0,ee="buffer",re=ne)}var pe,ge,ae=X.objectMode?1:re.length;X.length+=ae;var ue=X.length<X.highWaterMark;if(ue||(X.needDrain=!0),X.writing||X.corked){var he=X.lastBufferedRequest;X.lastBufferedRequest={chunk:re,encoding:ee,isBuf:se,callback:K,next:null},he?he.next=X.lastBufferedRequest:X.bufferedRequest=X.lastBufferedRequest,X.bufferedRequestCount+=1}else m(Z,X,!1,ae,re,ee,K);return ue}(this,Y,U,N,B,J)),q},A.prototype.cork=function(){this._writableState.corked++},A.prototype.uncork=function(){var N=this._writableState;N.corked&&(N.corked--,N.writing||N.corked||N.bufferProcessing||!N.bufferedRequest||k(this,N))},A.prototype.setDefaultEncoding=function(N){if("string"==typeof N&&(N=N.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((N+"").toLowerCase())>-1))throw new g(N);return this._writableState.defaultEncoding=N,this},Object.defineProperty(A.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(A.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),A.prototype._write=function(N,B,J){J(new c("_write()"))},A.prototype._writev=null,A.prototype.end=function(N,B,J){var Y,q,U,z=this._writableState;return"function"==typeof N?(J=N,N=null,B=null):"function"==typeof B&&(J=B,B=null),null!=N&&this.write(N,B),z.corked&&(z.corked=1,this.uncork()),z.ending||(Y=this,U=J,(q=z).ending=!0,L(Y,q),U&&(q.finished?E.nextTick(U):Y.once("finish",U)),q.ended=!0,Y.writable=!1),this},Object.defineProperty(A.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(A.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(N){this._writableState&&(this._writableState.destroyed=N)}}),A.prototype.destroy=s.destroy,A.prototype._undestroy=s.undestroy,A.prototype._destroy=function(N,B){B(N)}},68221:function(oe,j,r){"use strict";var I,E=r(90386);function f(T,_,g){return _ in T?Object.defineProperty(T,_,{value:g,enumerable:!0,configurable:!0,writable:!0}):T[_]=g,T}var S=r(12726),M=Symbol("lastResolve"),y=Symbol("lastReject"),u=Symbol("error"),i=Symbol("ended"),s=Symbol("lastPromise"),a=Symbol("handlePromise"),o=Symbol("stream");function l(T,_){return{value:T,done:_}}function c(T){var _=T[M];if(null!==_){var g=T[o].read();null!==g&&(T[s]=null,T[M]=null,T[y]=null,_(l(g,!1)))}}function h(T){E.nextTick(c,T)}var v=Object.getPrototypeOf(function(){}),p=Object.setPrototypeOf((f(I={get stream(){return this[o]},next:function(){var T=this,_=this[u];if(null!==_)return Promise.reject(_);if(this[i])return Promise.resolve(l(void 0,!0));if(this[o].destroyed)return new Promise(function(b,A){E.nextTick(function(){T[u]?A(T[u]):b(l(void 0,!0))})});var g,b,A,w=this[s];if(w)g=new Promise((b=w,A=this,function(m,C){b.then(function(){A[i]?m(l(void 0,!0)):A[a](m,C)},C)}));else{var x=this[o].read();if(null!==x)return Promise.resolve(l(x,!1));g=new Promise(this[a])}return this[s]=g,g}},Symbol.asyncIterator,function(){return this}),f(I,"return",function(){var T=this;return new Promise(function(_,g){T[o].destroy(null,function(w){w?g(w):_(l(void 0,!0))})})}),I),v);oe.exports=function(T){var _,g=Object.create(p,(f(_={},o,{value:T,writable:!0}),f(_,M,{value:null,writable:!0}),f(_,y,{value:null,writable:!0}),f(_,u,{value:null,writable:!0}),f(_,i,{value:T._readableState.endEmitted,writable:!0}),f(_,a,{value:function(w,x){var b=g[o].read();b?(g[s]=null,g[M]=null,g[y]=null,w(l(b,!1))):(g[M]=w,g[y]=x)},writable:!0}),_));return g[s]=null,S(T,function(w){if(w&&"ERR_STREAM_PREMATURE_CLOSE"!==w.code){var x=g[y];return null!==x&&(g[s]=null,g[M]=null,g[y]=null,x(w)),void(g[u]=w)}var b=g[M];null!==b&&(g[s]=null,g[M]=null,g[y]=null,b(l(void 0,!0))),g[i]=!0}),T.on("readable",h.bind(null,g)),g}},31125:function(oe,j,r){"use strict";function I(u,i){var s=Object.keys(u);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(u);i&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(u,o).enumerable})),s.push.apply(s,a)}return s}function E(u,i,s){return i in u?Object.defineProperty(u,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):u[i]=s,u}var S=r(12856).Buffer,M=r(69862).inspect,y=M&&M.custom||"inspect";oe.exports=function(){function u(){(function(a,o){if(!(a instanceof o))throw new TypeError("Cannot call a class as a function")})(this,u),this.head=null,this.tail=null,this.length=0}var s;return s=[{key:"push",value:function(a){var o={data:a,next:null};this.length>0?this.tail.next=o:this.head=o,this.tail=o,++this.length}},{key:"unshift",value:function(a){var o={data:a,next:this.head};0===this.length&&(this.tail=o),this.head=o,++this.length}},{key:"shift",value:function(){if(0!==this.length){var a=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,a}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(a){if(0===this.length)return"";for(var o=this.head,l=""+o.data;o=o.next;)l+=a+o.data;return l}},{key:"concat",value:function(a){if(0===this.length)return S.alloc(0);for(var h=S.allocUnsafe(a>>>0),v=this.head,p=0;v;)S.prototype.copy.call(v.data,h,p),p+=v.data.length,v=v.next;return h}},{key:"consume",value:function(a,o){var l;return a<this.head.data.length?(l=this.head.data.slice(0,a),this.head.data=this.head.data.slice(a)):l=a===this.head.data.length?this.shift():o?this._getString(a):this._getBuffer(a),l}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(a){var o=this.head,l=1,c=o.data;for(a-=c.length;o=o.next;){var h=o.data,v=a>h.length?h.length:a;if(c+=v===h.length?h:h.slice(0,a),0==(a-=v)){v===h.length?(++l,this.head=o.next?o.next:this.tail=null):(this.head=o,o.data=h.slice(v));break}++l}return this.length-=l,c}},{key:"_getBuffer",value:function(a){var o=S.allocUnsafe(a),l=this.head,c=1;for(l.data.copy(o),a-=l.data.length;l=l.next;){var h=l.data,v=a>h.length?h.length:a;if(h.copy(o,o.length-a,0,v),0==(a-=v)){v===h.length?(++c,this.head=l.next?l.next:this.tail=null):(this.head=l,l.data=h.slice(v));break}++c}return this.length-=c,o}},{key:y,value:function(a,o){return M(this,function(l){for(var c=1;c<arguments.length;c++){var h=null!=arguments[c]?arguments[c]:{};c%2?I(Object(h),!0).forEach(function(v){E(l,v,h[v])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(h)):I(Object(h)).forEach(function(v){Object.defineProperty(l,v,Object.getOwnPropertyDescriptor(h,v))})}return l}({},o,{depth:0,customInspect:!1}))}}],s&&function f(u,i){for(var s=0;s<i.length;s++){var a=i[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(u,a.key,a)}}(u.prototype,s),u}()},65756:function(oe,j,r){"use strict";var I=r(90386);function E(M,y){S(M,y),f(M)}function f(M){M._writableState&&!M._writableState.emitClose||M._readableState&&!M._readableState.emitClose||M.emit("close")}function S(M,y){M.emit("error",y)}oe.exports={destroy:function(M,y){var u=this;return this._readableState&&this._readableState.destroyed||this._writableState&&this._writableState.destroyed?(y?y(M):M&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,I.nextTick(S,this,M)):I.nextTick(S,this,M)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(M||null,function(a){!y&&a?u._writableState?u._writableState.errorEmitted?I.nextTick(f,u):(u._writableState.errorEmitted=!0,I.nextTick(E,u,a)):I.nextTick(E,u,a):y?(I.nextTick(f,u),y(a)):I.nextTick(f,u)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(M,y){var u=M._readableState,i=M._writableState;u&&u.autoDestroy||i&&i.autoDestroy?M.destroy(y):M.emit("error",y)}}},12726:function(oe,j,r){"use strict";var I=r(74322).q.ERR_STREAM_PREMATURE_CLOSE;function E(){}oe.exports=function f(S,M,y){if("function"==typeof M)return f(S,null,M);var T,_;M||(M={}),T=y||E,_=!1,y=function(){if(!_){_=!0;for(var g=arguments.length,w=new Array(g),x=0;x<g;x++)w[x]=arguments[x];T.apply(this,w)}};var u=M.readable||!1!==M.readable&&S.readable,i=M.writable||!1!==M.writable&&S.writable,s=function(){S.writable||o()},a=S._writableState&&S._writableState.finished,o=function(){i=!1,a=!0,u||y.call(S)},l=S._readableState&&S._readableState.endEmitted,c=function(){u=!1,l=!0,i||y.call(S)},h=function(T){y.call(S,T)},v=function(){var T;return u&&!l?(S._readableState&&S._readableState.ended||(T=new I),y.call(S,T)):i&&!a?(S._writableState&&S._writableState.ended||(T=new I),y.call(S,T)):void 0},p=function(){S.req.on("finish",o)};return function(T){return T.setHeader&&"function"==typeof T.abort}(S)?(S.on("complete",o),S.on("abort",v),S.req?p():S.on("request",p)):i&&!S._writableState&&(S.on("end",s),S.on("close",s)),S.on("end",c),S.on("finish",o),!1!==M.error&&S.on("error",h),S.on("close",v),function(){S.removeListener("complete",o),S.removeListener("abort",v),S.removeListener("request",p),S.req&&S.req.removeListener("finish",o),S.removeListener("end",s),S.removeListener("close",s),S.removeListener("finish",o),S.removeListener("end",c),S.removeListener("error",h),S.removeListener("close",v)}}},31748:function(oe){oe.exports=function(){throw new Error("Readable.from is not available in the browser")}},10168:function(oe,j,r){"use strict";var I,E=r(74322).q,f=E.ERR_MISSING_ARGS,S=E.ERR_STREAM_DESTROYED;function M(i){if(i)throw i}function y(i){i()}function u(i,s){return i.pipe(s)}oe.exports=function(){for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];var o,h,l=(h=s).length?"function"!=typeof h[h.length-1]?M:h.pop():M;if(Array.isArray(s[0])&&(s=s[0]),s.length<2)throw new f("streams");var c=s.map(function(h,v){var p=v<s.length-1;return function(T,_,g,w){var A,m;A=w,m=!1,w=function(){m||(m=!0,A.apply(void 0,arguments))};var x=!1;T.on("close",function(){x=!0}),void 0===I&&(I=r(12726)),I(T,{readable:_,writable:g},function(A){if(A)return w(A);x=!0,w()});var b=!1;return function(A){if(!x&&!b)return b=!0,function(m){return m.setHeader&&"function"==typeof m.abort}(T)?T.abort():"function"==typeof T.destroy?T.destroy():void w(A||new S("pipe"))}}(h,p,v>0,function(T){o||(o=T),T&&c.forEach(y),p||(c.forEach(y),l(o))})});return s.reduce(u)}},56306:function(oe,j,r){"use strict";var I=r(74322).q.ERR_INVALID_OPT_VALUE;oe.exports={getHighWaterMark:function(E,f,S,M){var u,y=null!=(u=f).highWaterMark?u.highWaterMark:M?u[S]:null;if(null!=y){if(!isFinite(y)||Math.floor(y)!==y||y<0)throw new I(M?S:"highWaterMark",y);return Math.floor(y)}return E.objectMode?16:16384}}},71405:function(oe,j,r){oe.exports=r(15398).EventEmitter},68019:function(oe,j,r){"use strict";var I=r(71665).Buffer,E=I.isEncoding||function(l){switch((l=""+l)&&l.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function f(l){var c;switch(this.encoding=function(h){var v=function(p){if(!p)return"utf8";for(var T;;)switch(p){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return p;default:if(T)return;p=(""+p).toLowerCase(),T=!0}}(h);if("string"!=typeof v&&(I.isEncoding===E||!E(h)))throw new Error("Unknown encoding: "+h);return v||h}(l),this.encoding){case"utf16le":this.text=y,this.end=u,c=4;break;case"utf8":this.fillLast=M,c=4;break;case"base64":this.text=i,this.end=s,c=3;break;default:return this.write=a,void(this.end=o)}this.lastNeed=0,this.lastTotal=0,this.lastChar=I.allocUnsafe(c)}function S(l){return l<=127?0:l>>5==6?2:l>>4==14?3:l>>3==30?4:l>>6==2?-1:-2}function M(l){var c=this.lastTotal-this.lastNeed,h=function(v,p,T){if(128!=(192&p[0]))return v.lastNeed=0,"\ufffd";if(v.lastNeed>1&&p.length>1){if(128!=(192&p[1]))return v.lastNeed=1,"\ufffd";if(v.lastNeed>2&&p.length>2&&128!=(192&p[2]))return v.lastNeed=2,"\ufffd"}}(this,l);return void 0!==h?h:this.lastNeed<=l.length?(l.copy(this.lastChar,c,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(l.copy(this.lastChar,c,0,l.length),void(this.lastNeed-=l.length))}function y(l,c){if((l.length-c)%2==0){var h=l.toString("utf16le",c);if(h){var v=h.charCodeAt(h.length-1);if(v>=55296&&v<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=l[l.length-2],this.lastChar[1]=l[l.length-1],h.slice(0,-1)}return h}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=l[l.length-1],l.toString("utf16le",c,l.length-1)}function u(l){var c=l&&l.length?this.write(l):"";return this.lastNeed?c+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):c}function i(l,c){var h=(l.length-c)%3;return 0===h?l.toString("base64",c):(this.lastNeed=3-h,this.lastTotal=3,1===h?this.lastChar[0]=l[l.length-1]:(this.lastChar[0]=l[l.length-2],this.lastChar[1]=l[l.length-1]),l.toString("base64",c,l.length-h))}function s(l){var c=l&&l.length?this.write(l):"";return this.lastNeed?c+this.lastChar.toString("base64",0,3-this.lastNeed):c}function a(l){return l.toString(this.encoding)}function o(l){return l&&l.length?this.write(l):""}j.s=f,f.prototype.write=function(l){if(0===l.length)return"";var c,h;if(this.lastNeed){if(void 0===(c=this.fillLast(l)))return"";h=this.lastNeed,this.lastNeed=0}else h=0;return h<l.length?c?c+this.text(l,h):this.text(l,h):c||""},f.prototype.end=function(l){var c=l&&l.length?this.write(l):"";return this.lastNeed?c+"\ufffd":c},f.prototype.text=function(l,c){var h=function(p,T,_){var g=T.length-1;if(g<_)return 0;var w=S(T[g]);return w>=0?(w>0&&(p.lastNeed=w-1),w):--g<_||-2===w?0:(w=S(T[g]))>=0?(w>0&&(p.lastNeed=w-2),w):--g<_||-2===w?0:(w=S(T[g]))>=0?(w>0&&(2===w?w=0:p.lastNeed=w-3),w):0}(this,l,c);if(!this.lastNeed)return l.toString("utf8",c);this.lastTotal=h;var v=l.length-(h-this.lastNeed);return l.copy(this.lastChar,0,v),l.toString("utf8",c,v)},f.prototype.fillLast=function(l){if(this.lastNeed<=l.length)return l.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);l.copy(this.lastChar,this.lastTotal-this.lastNeed,0,l.length),this.lastNeed-=l.length}},90715:function(oe,j,r){var I=r(32791),E=r(41633)("stream-parser");oe.exports=function(p){var T=p&&"function"==typeof p._transform;if(!(T||p&&"function"==typeof p._write))throw new Error("must pass a Writable or Transform stream in");E("extending Parser into stream"),p._bytes=i,p._skipBytes=s,T&&(p._passthrough=a),T?p._transform=l:p._write=o};var f=-1,S=0,M=1,y=2;function u(p){E("initializing parser stream"),p._parserBytesLeft=0,p._parserBuffers=[],p._parserBuffered=0,p._parserState=f,p._parserCallback=null,"function"==typeof p.push&&(p._parserOutput=p.push.bind(p)),p._parserInit=!0}function i(p,T){I(!this._parserCallback,'there is already a "callback" set!'),I(isFinite(p)&&p>0,'can only buffer a finite number of bytes > 0, got "'+p+'"'),this._parserInit||u(this),E("buffering %o bytes",p),this._parserBytesLeft=p,this._parserCallback=T,this._parserState=S}function s(p,T){I(!this._parserCallback,'there is already a "callback" set!'),I(p>0,'can only skip > 0 bytes, got "'+p+'"'),this._parserInit||u(this),E("skipping %o bytes",p),this._parserBytesLeft=p,this._parserCallback=T,this._parserState=M}function a(p,T){I(!this._parserCallback,'There is already a "callback" set!'),I(p>0,'can only pass through > 0 bytes, got "'+p+'"'),this._parserInit||u(this),E("passing through %o bytes",p),this._parserBytesLeft=p,this._parserCallback=T,this._parserState=y}function o(p,T,_){this._parserInit||u(this),E("write(%o bytes)",p.length),"function"==typeof T&&(_=T),h(this,p,null,_)}function l(p,T,_){this._parserInit||u(this),E("transform(%o bytes)",p.length),"function"!=typeof T&&(T=this._parserOutput),h(this,p,T,_)}function c(p,T,_,g){if(p._parserBytesLeft-=T.length,E("%o bytes left for stream piece",p._parserBytesLeft),p._parserState===S?(p._parserBuffers.push(T),p._parserBuffered+=T.length):p._parserState===y&&_(T),0!==p._parserBytesLeft)return g;var w=p._parserCallback;if(w&&p._parserState===S&&p._parserBuffers.length>1&&(T=Buffer.concat(p._parserBuffers,p._parserBuffered)),p._parserState!==S&&(T=null),p._parserCallback=null,p._parserBuffered=0,p._parserState=f,p._parserBuffers.splice(0),w){var x=[];T&&x.push(T),_&&x.push(_);var b=w.length>x.length;b&&x.push(v(g));var A=w.apply(p,x);if(!b||g===A)return g}}var h=v(function p(T,_,g,w){return T._parserBytesLeft<=0?w(new Error("got data but not currently parsing anything")):_.length<=T._parserBytesLeft?function(){return c(T,_,g,w)}:function(){var x=_.slice(0,T._parserBytesLeft);return c(T,x,g,function(b){return b?w(b):_.length>x.length?function(){return p(T,_.slice(x.length),g,w)}:void 0})}});function v(p){return function(){for(var T=p.apply(this,arguments);"function"==typeof T;)T=T();return T}}},41633:function(oe,j,r){var I=r(90386);function E(){var f;try{f=j.storage.debug}catch{}return!f&&void 0!==I&&"env"in I&&(f=I.env.DEBUG),f}(j=oe.exports=r(74469)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},j.formatArgs=function(f){var S=this.useColors;if(f[0]=(S?"%c":"")+this.namespace+(S?" %c":" ")+f[0]+(S?"%c ":" ")+"+"+j.humanize(this.diff),S){var M="color: "+this.color;f.splice(1,0,M,"color: inherit");var y=0,u=0;f[0].replace(/%[a-zA-Z%]/g,function(i){"%%"!==i&&(y++,"%c"===i&&(u=y))}),f.splice(u,0,M)}},j.save=function(f){try{null==f?j.storage.removeItem("debug"):j.storage.debug=f}catch{}},j.load=E,j.useColors=function(){return!(typeof window>"u"||!window.process||"renderer"!==window.process.type)||typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},j.storage=typeof chrome<"u"&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch{}}(),j.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],j.formatters.j=function(f){try{return JSON.stringify(f)}catch(S){return"[UnexpectedJSONParseError]: "+S.message}},j.enable(E())},74469:function(oe,j,r){var I;function E(f){function S(){if(S.enabled){var M=S,y=+new Date;M.diff=y-(I||y),M.prev=I,M.curr=y,I=y;for(var i=new Array(arguments.length),s=0;s<i.length;s++)i[s]=arguments[s];i[0]=j.coerce(i[0]),"string"!=typeof i[0]&&i.unshift("%O");var a=0;i[0]=i[0].replace(/%([a-zA-Z%])/g,function(o,l){if("%%"===o)return o;a++;var c=j.formatters[l];return"function"==typeof c&&(o=c.call(M,i[a]),i.splice(a,1),a--),o}),j.formatArgs.call(M,i),(S.log||j.log||console.log.bind(console)).apply(M,i)}}return S.namespace=f,S.enabled=j.enabled(f),S.useColors=j.useColors(),S.color=function(M){var y,u=0;for(y in M)u=(u<<5)-u+M.charCodeAt(y),u|=0;return j.colors[Math.abs(u)%j.colors.length]}(f),"function"==typeof j.init&&j.init(S),S}(j=oe.exports=E.debug=E.default=E).coerce=function(f){return f instanceof Error?f.stack||f.message:f},j.disable=function(){j.enable("")},j.enable=function(f){j.save(f),j.names=[],j.skips=[];for(var S=("string"==typeof f?f:"").split(/[\s,]+/),M=S.length,y=0;y<M;y++)S[y]&&("-"===(f=S[y].replace(/\*/g,".*?"))[0]?j.skips.push(new RegExp("^"+f.substr(1)+"$")):j.names.push(new RegExp("^"+f+"$")))},j.enabled=function(f){var S,M;for(S=0,M=j.skips.length;S<M;S++)if(j.skips[S].test(f))return!1;for(S=0,M=j.names.length;S<M;S++)if(j.names[S].test(f))return!0;return!1},j.humanize=r(11375),j.names=[],j.skips=[],j.formatters={}},11375:function(oe){var j=1e3,r=60*j,I=60*r,E=24*I;function f(S,M,y){if(!(S<M))return S<1.5*M?Math.floor(S/M)+" "+y:Math.ceil(S/M)+" "+y+"s"}oe.exports=function(S,M){M=M||{};var y,i,u=typeof S;if("string"===u&&S.length>0)return function(i){if(!((i=String(i)).length>100)){var s=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(i);if(s){var a=parseFloat(s[1]);switch((s[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*a;case"days":case"day":case"d":return a*E;case"hours":case"hour":case"hrs":case"hr":case"h":return a*I;case"minutes":case"minute":case"mins":case"min":case"m":return a*r;case"seconds":case"second":case"secs":case"sec":case"s":return a*j;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}}}(S);if("number"===u&&!1===isNaN(S))return M.long?f(y=S,E,"day")||f(y,I,"hour")||f(y,r,"minute")||f(y,j,"second")||y+" ms":(i=S)>=E?Math.round(i/E)+"d":i>=I?Math.round(i/I)+"h":i>=r?Math.round(i/r)+"m":i>=j?Math.round(i/j)+"s":i+"ms";throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(S))}},99011:function(oe,j,r){"use strict";var I=r(88641);oe.exports=function(E,f,S){if(null==E)throw Error("First argument should be a string");if(null==f)throw Error("Separator should be a string or a RegExp");S?("string"==typeof S||Array.isArray(S))&&(S={ignore:S}):S={},null==S.escape&&(S.escape=!0),null==S.ignore?S.ignore=["[]","()","{}","<>",'""',"''","``","\u201c\u201d","\xab\xbb"]:("string"==typeof S.ignore&&(S.ignore=[S.ignore]),S.ignore=S.ignore.map(function(o){return 1===o.length&&(o+=o),o}));var M=I.parse(E,{flat:!0,brackets:S.ignore}),y=M[0].split(f);if(S.escape){for(var u=[],i=0;i<y.length;i++){var s=y[i];"\\"===s[s.length-1]&&"\\"!==s[s.length-2]?(u.push(s+f+y[i+1]),i++):u.push(s)}y=u}for(i=0;i<y.length;i++)M[0]=y[i],y[i]=I.stringify(M,{flat:!0});return y}},68664:function(oe){"use strict";oe.exports=function(j){for(var r=j.length,I=new Array(r),E=new Array(r),f=new Array(r),S=new Array(r),M=new Array(r),y=new Array(r),u=0;u<r;++u)I[u]=-1,E[u]=0,f[u]=!1,S[u]=0,M[u]=-1,y[u]=[];var i,s=0,a=[],o=[];function l(v){var p=[v],T=[v];for(I[v]=E[v]=s,f[v]=!0,s+=1;T.length>0;){var _=j[v=T[T.length-1]];if(S[v]<_.length){for(var g=S[v];g<_.length;++g){var w=_[g];if(I[w]<0){I[w]=E[w]=s,f[w]=!0,s+=1,p.push(w),T.push(w);break}f[w]&&(E[v]=0|Math.min(E[v],E[w])),M[w]>=0&&y[v].push(M[w])}S[v]=g}else{if(E[v]===I[v]){var x=[],b=[],A=0;for(g=p.length-1;g>=0;--g){var m=p[g];if(f[m]=!1,x.push(m),b.push(y[m]),A+=y[m].length,M[m]=a.length,m===v){p.length=g;break}}a.push(x);var C=new Array(A);for(g=0;g<b.length;g++)for(var k=0;k<b[g].length;k++)C[--A]=b[g][k];o.push(C)}T.pop()}}}for(u=0;u<r;++u)I[u]<0&&l(u);for(u=0;u<o.length;u++){var c=o[u];if(0!==c.length){c.sort(function(v,p){return v-p}),i=[c[0]];for(var h=1;h<c.length;h++)c[h]!==c[h-1]&&i.push(c[h]);o[u]=i}}return{components:a,adjacencyList:o}}},7095:function(oe,j,r){"use strict";r.r(j);var I=2*Math.PI,E=function(M,y,u,i,s,a,o){var l=M.x,c=M.y;return{x:i*(l*=y)-s*(c*=u)+a,y:s*l+i*c+o}},f=function(M,y){var u=1.5707963267948966===y?.551915024494:-1.5707963267948966===y?-.551915024494:1.3333333333333333*Math.tan(y/4),i=Math.cos(M),s=Math.sin(M),a=Math.cos(M+y),o=Math.sin(M+y);return[{x:i-s*u,y:s+i*u},{x:a+o*u,y:o-a*u},{x:a,y:o}]},S=function(M,y,u,i){var s=M*u+y*i;return s>1&&(s=1),s<-1&&(s=-1),(M*i-y*u<0?-1:1)*Math.acos(s)};j.default=function(M){var y=M.px,u=M.py,i=M.cx,s=M.cy,a=M.rx,o=M.ry,l=M.xAxisRotation,c=void 0===l?0:l,h=M.largeArcFlag,v=void 0===h?0:h,p=M.sweepFlag,T=void 0===p?0:p,_=[];if(0===a||0===o)return[];var g=Math.sin(c*I/360),w=Math.cos(c*I/360),x=w*(y-i)/2+g*(u-s)/2,b=-g*(y-i)/2+w*(u-s)/2;if(0===x&&0===b)return[];a=Math.abs(a),o=Math.abs(o);var A=Math.pow(x,2)/Math.pow(a,2)+Math.pow(b,2)/Math.pow(o,2);A>1&&(a*=Math.sqrt(A),o*=Math.sqrt(A));var C=function(z,Y){if(Array.isArray(z))return z;if(Symbol.iterator in Object(z))return function(q,U){var Z=[],X=!0,se=!1,re=void 0;try{for(var ee,K=q[Symbol.iterator]();!(X=(ee=K.next()).done)&&(Z.push(ee.value),4!==Z.length);X=!0);}catch(ne){se=!0,re=ne}finally{try{!X&&K.return&&K.return()}finally{if(se)throw re}}return Z}(z);throw new TypeError("Invalid attempt to destructure non-iterable instance")}(function(z,Y,q,U,Z,X,se,re,ee,K,ne,ae){var ue=Math.pow(Z,2),he=Math.pow(X,2),pe=Math.pow(ne,2),ge=Math.pow(ae,2),xe=ue*he-ue*ge-he*pe;xe<0&&(xe=0),xe/=ue*ge+he*pe;var Se=(xe=Math.sqrt(xe)*(se===re?-1:1))*Z/X*ae,Te=xe*-X/Z*ne,ye=K*Se-ee*Te+(z+q)/2,we=ee*Se+K*Te+(Y+U)/2,ze=(ne-Se)/Z,ke=(ae-Te)/X,Ee=(-ne-Se)/Z,me=(-ae-Te)/X,de=S(1,0,ze,ke),ce=S(ze,ke,Ee,me);return 0===re&&ce>0&&(ce-=I),1===re&&ce<0&&(ce+=I),[ye,we,de,ce]}(y,u,i,s,a,o,v,T,g,w,x,b)),k=C[0],P=C[1],R=C[2],L=C[3],N=Math.abs(L)/(I/4);Math.abs(1-N)<1e-7&&(N=1);var B=Math.max(Math.ceil(N),1);L/=B;for(var J=0;J<B;J++)_.push(f(R,L)),R+=L;return _.map(function(z){var Y=E(z[0],a,o,w,g,k,P),q=Y.x,U=Y.y,Z=E(z[1],a,o,w,g,k,P),X=Z.x,se=Z.y,re=E(z[2],a,o,w,g,k,P);return{x1:q,y1:U,x2:X,y2:se,x:re.x,y:re.y}})}},1750:function(oe,j,r){"use strict";var I=r(95616),E=r(65185),f=r(29988),S=r(89546),M=r(32791);oe.exports=function(y){if(Array.isArray(y)&&1===y.length&&"string"==typeof y[0]&&(y=y[0]),"string"==typeof y&&(M(S(y),"String is not an SVG path."),y=I(y)),M(Array.isArray(y),"Argument should be a string or an array of path segments."),y=E(y),!(y=f(y)).length)return[0,0,0,0];for(var u=[1/0,1/0,-1/0,-1/0],i=0,s=y.length;i<s;i++)for(var a=y[i].slice(1),o=0;o<a.length;o+=2)a[o+0]<u[0]&&(u[0]=a[o+0]),a[o+1]<u[1]&&(u[1]=a[o+1]),a[o+0]>u[2]&&(u[2]=a[o+0]),a[o+1]>u[3]&&(u[3]=a[o+1]);return u}},29988:function(oe,j,r){"use strict";oe.exports=function(S){for(var M,y=[],u=0,i=0,s=0,a=0,o=null,l=null,c=0,h=0,v=0,p=S.length;v<p;v++){var T=S[v],_=T[0];switch(_){case"M":s=T[1],a=T[2];break;case"A":var g=I({px:c,py:h,cx:T[6],cy:T[7],rx:T[1],ry:T[2],xAxisRotation:T[3],largeArcFlag:T[4],sweepFlag:T[5]});if(!g.length)continue;for(var w,x=0;x<g.length;x++)T=["C",(w=g[x]).x1,w.y1,w.x2,w.y2,w.x,w.y],x<g.length-1&&y.push(T);break;case"S":var b=c,A=h;"C"!=M&&"S"!=M||(b+=b-u,A+=A-i),T=["C",b,A,T[1],T[2],T[3],T[4]];break;case"T":"Q"==M||"T"==M?(o=2*c-o,l=2*h-l):(o=c,l=h),T=f(c,h,o,l,T[1],T[2]);break;case"Q":o=T[1],l=T[2],T=f(c,h,T[1],T[2],T[3],T[4]);break;case"L":T=E(c,h,T[1],T[2]);break;case"H":T=E(c,h,T[1],h);break;case"V":T=E(c,h,c,T[1]);break;case"Z":T=E(c,h,s,a)}M=_,c=T[T.length-2],h=T[T.length-1],T.length>4?(u=T[T.length-4],i=T[T.length-3]):(u=c,i=h),y.push(T)}return y};var I=r(7095);function E(S,M,y,u){return["C",S,M,y,u,y,u]}function f(S,M,y,u,i,s){return["C",S/3+.6666666666666666*y,M/3+.6666666666666666*u,i/3+.6666666666666666*y,s/3+.6666666666666666*u,i,s]}},82019:function(oe,j,r){"use strict";var I,E=r(1750),f=r(95616),S=r(31457),M=r(89546),y=r(44781),u=document.createElement("canvas"),i=u.getContext("2d");oe.exports=function(s,a){if(!M(s))throw Error("Argument should be valid svg path string");var o,l;a||(a={}),a.shape?(o=a.shape[0],l=a.shape[1]):(o=u.width=a.w||a.width||200,l=u.height=a.h||a.height||200);var c=Math.min(o,l),h=a.stroke||0,v=a.viewbox||a.viewBox||E(s),p=[o/(v[2]-v[0]),l/(v[3]-v[1])],T=Math.min(p[0]||0,p[1]||0)/2;if(i.fillStyle="black",i.fillRect(0,0,o,l),i.fillStyle="white",h&&("number"!=typeof h&&(h=1),i.strokeStyle=h>0?"white":"black",i.lineWidth=Math.abs(h)),i.translate(.5*o,.5*l),i.scale(T,T),function(){if(null!=I)return I;var w=document.createElement("canvas").getContext("2d");if(w.canvas.width=w.canvas.height=1,!window.Path2D)return I=!1;var x=new Path2D("M0,0h1v1h-1v-1Z");w.fillStyle="black",w.fill(x);var b=w.getImageData(0,0,1,1);return I=b&&b.data&&255===b.data[3]}()){var _=new Path2D(s);i.fill(_),h&&i.stroke(_)}else{var g=f(s);S(i,g),i.fill(),h&&i.stroke()}return i.setTransform(1,0,0,1,0,0),y(i,{cutoff:null!=a.cutoff?a.cutoff:.5,radius:null!=a.radius?a.radius:.5*c})}},84267:function(oe,j,r){var I;!function(E){var f=/^\s+/,S=/\s+$/,M=0,y=E.round,u=E.min,i=E.max,s=E.random;function a(ne,ae){if(ae=ae||{},(ne=ne||"")instanceof a)return ne;if(!(this instanceof a))return new a(ne,ae);var he,ge,xe,Se,Te,ye,we,ze,ke,Ee,ue=(Se={r:0,g:0,b:0},Te=1,ye=null,we=null,ze=null,ke=!1,Ee=!1,"string"==typeof(he=ne)&&(he=function(me){me=me.replace(f,"").replace(S,"").toLowerCase();var de,ce=!1;if(R[me])me=R[me],ce=!0;else if("transparent"==me)return{r:0,g:0,b:0,a:0,format:"name"};return(de=ee.rgb.exec(me))?{r:de[1],g:de[2],b:de[3]}:(de=ee.rgba.exec(me))?{r:de[1],g:de[2],b:de[3],a:de[4]}:(de=ee.hsl.exec(me))?{h:de[1],s:de[2],l:de[3]}:(de=ee.hsla.exec(me))?{h:de[1],s:de[2],l:de[3],a:de[4]}:(de=ee.hsv.exec(me))?{h:de[1],s:de[2],v:de[3]}:(de=ee.hsva.exec(me))?{h:de[1],s:de[2],v:de[3],a:de[4]}:(de=ee.hex8.exec(me))?{r:z(de[1]),g:z(de[2]),b:z(de[3]),a:Z(de[4]),format:ce?"name":"hex8"}:(de=ee.hex6.exec(me))?{r:z(de[1]),g:z(de[2]),b:z(de[3]),format:ce?"name":"hex"}:(de=ee.hex4.exec(me))?{r:z(de[1]+""+de[1]),g:z(de[2]+""+de[2]),b:z(de[3]+""+de[3]),a:Z(de[4]+""+de[4]),format:ce?"name":"hex8"}:!!(de=ee.hex3.exec(me))&&{r:z(de[1]+""+de[1]),g:z(de[2]+""+de[2]),b:z(de[3]+""+de[3]),format:ce?"name":"hex"}}(he)),"object"==typeof he&&(K(he.r)&&K(he.g)&&K(he.b)?(ge=he.g,xe=he.b,Se={r:255*B(he.r,255),g:255*B(ge,255),b:255*B(xe,255)},ke=!0,Ee="%"===String(he.r).substr(-1)?"prgb":"rgb"):K(he.h)&&K(he.s)&&K(he.v)?(ye=q(he.s),we=q(he.v),Se=function(me,de,ce){me=6*B(me,360),de=B(de,100),ce=B(ce,100);var Ae=E.floor(me),Ne=me-Ae,De=ce*(1-de),Ue=ce*(1-Ne*de),Ye=ce*(1-(1-Ne)*de),_e=Ae%6;return{r:255*[ce,Ue,De,De,Ye,ce][_e],g:255*[Ye,ce,ce,Ue,De,De][_e],b:255*[De,De,Ye,ce,ce,Ue][_e]}}(he.h,ye,we),ke=!0,Ee="hsv"):K(he.h)&&K(he.s)&&K(he.l)&&(ye=q(he.s),ze=q(he.l),Se=function(me,de,ce){var Ae,Ne,De;function Ue(Pe,Ie,Be){return Be<0&&(Be+=1),Be>1&&(Be-=1),Be<1/6?Pe+6*(Ie-Pe)*Be:Be<.5?Ie:Be<2/3?Pe+(Ie-Pe)*(2/3-Be)*6:Pe}if(me=B(me,360),de=B(de,100),ce=B(ce,100),0===de)Ae=Ne=De=ce;else{var Ye=ce<.5?ce*(1+de):ce+de-ce*de,_e=2*ce-Ye;Ae=Ue(_e,Ye,me+1/3),Ne=Ue(_e,Ye,me),De=Ue(_e,Ye,me-1/3)}return{r:255*Ae,g:255*Ne,b:255*De}}(he.h,ye,ze),ke=!0,Ee="hsl"),he.hasOwnProperty("a")&&(Te=he.a)),Te=N(Te),{ok:ke,format:he.format||Ee,r:u(255,i(Se.r,0)),g:u(255,i(Se.g,0)),b:u(255,i(Se.b,0)),a:Te});this._originalInput=ne,this._r=ue.r,this._g=ue.g,this._b=ue.b,this._a=ue.a,this._roundA=y(100*this._a)/100,this._format=ae.format||ue.format,this._gradientType=ae.gradientType,this._r<1&&(this._r=y(this._r)),this._g<1&&(this._g=y(this._g)),this._b<1&&(this._b=y(this._b)),this._ok=ue.ok,this._tc_id=M++}function o(ne,ae,ue){ne=B(ne,255),ae=B(ae,255),ue=B(ue,255);var he,pe,ge=i(ne,ae,ue),xe=u(ne,ae,ue),Se=(ge+xe)/2;if(ge==xe)he=pe=0;else{var Te=ge-xe;switch(pe=Se>.5?Te/(2-ge-xe):Te/(ge+xe),ge){case ne:he=(ae-ue)/Te+(ae<ue?6:0);break;case ae:he=(ue-ne)/Te+2;break;case ue:he=(ne-ae)/Te+4}he/=6}return{h:he,s:pe,l:Se}}function l(ne,ae,ue){ne=B(ne,255),ae=B(ae,255),ue=B(ue,255);var he,pe,ge=i(ne,ae,ue),xe=u(ne,ae,ue),Se=ge,Te=ge-xe;if(pe=0===ge?0:Te/ge,ge==xe)he=0;else{switch(ge){case ne:he=(ae-ue)/Te+(ae<ue?6:0);break;case ae:he=(ue-ne)/Te+2;break;case ue:he=(ne-ae)/Te+4}he/=6}return{h:he,s:pe,v:Se}}function c(ne,ae,ue,he){var pe=[Y(y(ne).toString(16)),Y(y(ae).toString(16)),Y(y(ue).toString(16))];return he&&pe[0].charAt(0)==pe[0].charAt(1)&&pe[1].charAt(0)==pe[1].charAt(1)&&pe[2].charAt(0)==pe[2].charAt(1)?pe[0].charAt(0)+pe[1].charAt(0)+pe[2].charAt(0):pe.join("")}function h(ne,ae,ue,he){return[Y(U(he)),Y(y(ne).toString(16)),Y(y(ae).toString(16)),Y(y(ue).toString(16))].join("")}function v(ne,ae){ae=0===ae?0:ae||10;var ue=a(ne).toHsl();return ue.s-=ae/100,ue.s=J(ue.s),a(ue)}function p(ne,ae){ae=0===ae?0:ae||10;var ue=a(ne).toHsl();return ue.s+=ae/100,ue.s=J(ue.s),a(ue)}function T(ne){return a(ne).desaturate(100)}function _(ne,ae){ae=0===ae?0:ae||10;var ue=a(ne).toHsl();return ue.l+=ae/100,ue.l=J(ue.l),a(ue)}function g(ne,ae){ae=0===ae?0:ae||10;var ue=a(ne).toRgb();return ue.r=i(0,u(255,ue.r-y(-ae/100*255))),ue.g=i(0,u(255,ue.g-y(-ae/100*255))),ue.b=i(0,u(255,ue.b-y(-ae/100*255))),a(ue)}function w(ne,ae){ae=0===ae?0:ae||10;var ue=a(ne).toHsl();return ue.l-=ae/100,ue.l=J(ue.l),a(ue)}function x(ne,ae){var ue=a(ne).toHsl(),he=(ue.h+ae)%360;return ue.h=he<0?360+he:he,a(ue)}function b(ne){var ae=a(ne).toHsl();return ae.h=(ae.h+180)%360,a(ae)}function A(ne){var ae=a(ne).toHsl(),ue=ae.h;return[a(ne),a({h:(ue+120)%360,s:ae.s,l:ae.l}),a({h:(ue+240)%360,s:ae.s,l:ae.l})]}function m(ne){var ae=a(ne).toHsl(),ue=ae.h;return[a(ne),a({h:(ue+90)%360,s:ae.s,l:ae.l}),a({h:(ue+180)%360,s:ae.s,l:ae.l}),a({h:(ue+270)%360,s:ae.s,l:ae.l})]}function C(ne){var ae=a(ne).toHsl(),ue=ae.h;return[a(ne),a({h:(ue+72)%360,s:ae.s,l:ae.l}),a({h:(ue+216)%360,s:ae.s,l:ae.l})]}function k(ne,ae,ue){ae=ae||6,ue=ue||30;var he=a(ne).toHsl(),pe=360/ue,ge=[a(ne)];for(he.h=(he.h-(pe*ae>>1)+720)%360;--ae;)he.h=(he.h+pe)%360,ge.push(a(he));return ge}function P(ne,ae){ae=ae||6;for(var ue=a(ne).toHsv(),he=ue.h,pe=ue.s,ge=ue.v,xe=[],Se=1/ae;ae--;)xe.push(a({h:he,s:pe,v:ge})),ge=(ge+Se)%1;return xe}a.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var ne=this.toRgb();return(299*ne.r+587*ne.g+114*ne.b)/1e3},getLuminance:function(){var ne,ae,ue,he=this.toRgb();return ae=he.g/255,ue=he.b/255,.2126*((ne=he.r/255)<=.03928?ne/12.92:E.pow((ne+.055)/1.055,2.4))+.7152*(ae<=.03928?ae/12.92:E.pow((ae+.055)/1.055,2.4))+.0722*(ue<=.03928?ue/12.92:E.pow((ue+.055)/1.055,2.4))},setAlpha:function(ne){return this._a=N(ne),this._roundA=y(100*this._a)/100,this},toHsv:function(){var ne=l(this._r,this._g,this._b);return{h:360*ne.h,s:ne.s,v:ne.v,a:this._a}},toHsvString:function(){var ne=l(this._r,this._g,this._b),ae=y(360*ne.h),ue=y(100*ne.s),he=y(100*ne.v);return 1==this._a?"hsv("+ae+", "+ue+"%, "+he+"%)":"hsva("+ae+", "+ue+"%, "+he+"%, "+this._roundA+")"},toHsl:function(){var ne=o(this._r,this._g,this._b);return{h:360*ne.h,s:ne.s,l:ne.l,a:this._a}},toHslString:function(){var ne=o(this._r,this._g,this._b),ae=y(360*ne.h),ue=y(100*ne.s),he=y(100*ne.l);return 1==this._a?"hsl("+ae+", "+ue+"%, "+he+"%)":"hsla("+ae+", "+ue+"%, "+he+"%, "+this._roundA+")"},toHex:function(ne){return c(this._r,this._g,this._b,ne)},toHexString:function(ne){return"#"+this.toHex(ne)},toHex8:function(ne){return ue=this._g,he=this._b,pe=this._a,ge=ne,xe=[Y(y(this._r).toString(16)),Y(y(ue).toString(16)),Y(y(he).toString(16)),Y(U(pe))],ge&&xe[0].charAt(0)==xe[0].charAt(1)&&xe[1].charAt(0)==xe[1].charAt(1)&&xe[2].charAt(0)==xe[2].charAt(1)&&xe[3].charAt(0)==xe[3].charAt(1)?xe[0].charAt(0)+xe[1].charAt(0)+xe[2].charAt(0)+xe[3].charAt(0):xe.join("");var ue,he,pe,ge,xe},toHex8String:function(ne){return"#"+this.toHex8(ne)},toRgb:function(){return{r:y(this._r),g:y(this._g),b:y(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+y(this._r)+", "+y(this._g)+", "+y(this._b)+")":"rgba("+y(this._r)+", "+y(this._g)+", "+y(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:y(100*B(this._r,255))+"%",g:y(100*B(this._g,255))+"%",b:y(100*B(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+y(100*B(this._r,255))+"%, "+y(100*B(this._g,255))+"%, "+y(100*B(this._b,255))+"%)":"rgba("+y(100*B(this._r,255))+"%, "+y(100*B(this._g,255))+"%, "+y(100*B(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(L[c(this._r,this._g,this._b,!0)]||!1)},toFilter:function(ne){var ae="#"+h(this._r,this._g,this._b,this._a),ue=ae,he=this._gradientType?"GradientType = 1, ":"";if(ne){var pe=a(ne);ue="#"+h(pe._r,pe._g,pe._b,pe._a)}return"progid:DXImageTransform.Microsoft.gradient("+he+"startColorstr="+ae+",endColorstr="+ue+")"},toString:function(ne){var ae=!!ne;ne=ne||this._format;var ue=!1;return ae||!(this._a<1&&this._a>=0)||"hex"!==ne&&"hex6"!==ne&&"hex3"!==ne&&"hex4"!==ne&&"hex8"!==ne&&"name"!==ne?("rgb"===ne&&(ue=this.toRgbString()),"prgb"===ne&&(ue=this.toPercentageRgbString()),"hex"!==ne&&"hex6"!==ne||(ue=this.toHexString()),"hex3"===ne&&(ue=this.toHexString(!0)),"hex4"===ne&&(ue=this.toHex8String(!0)),"hex8"===ne&&(ue=this.toHex8String()),"name"===ne&&(ue=this.toName()),"hsl"===ne&&(ue=this.toHslString()),"hsv"===ne&&(ue=this.toHsvString()),ue||this.toHexString()):"name"===ne&&0===this._a?this.toName():this.toRgbString()},clone:function(){return a(this.toString())},_applyModification:function(ne,ae){var ue=ne.apply(null,[this].concat([].slice.call(ae)));return this._r=ue._r,this._g=ue._g,this._b=ue._b,this.setAlpha(ue._a),this},lighten:function(){return this._applyModification(_,arguments)},brighten:function(){return this._applyModification(g,arguments)},darken:function(){return this._applyModification(w,arguments)},desaturate:function(){return this._applyModification(v,arguments)},saturate:function(){return this._applyModification(p,arguments)},greyscale:function(){return this._applyModification(T,arguments)},spin:function(){return this._applyModification(x,arguments)},_applyCombination:function(ne,ae){return ne.apply(null,[this].concat([].slice.call(ae)))},analogous:function(){return this._applyCombination(k,arguments)},complement:function(){return this._applyCombination(b,arguments)},monochromatic:function(){return this._applyCombination(P,arguments)},splitcomplement:function(){return this._applyCombination(C,arguments)},triad:function(){return this._applyCombination(A,arguments)},tetrad:function(){return this._applyCombination(m,arguments)}},a.fromRatio=function(ne,ae){if("object"==typeof ne){var ue={};for(var he in ne)ne.hasOwnProperty(he)&&(ue[he]="a"===he?ne[he]:q(ne[he]));ne=ue}return a(ne,ae)},a.equals=function(ne,ae){return!(!ne||!ae)&&a(ne).toRgbString()==a(ae).toRgbString()},a.random=function(){return a.fromRatio({r:s(),g:s(),b:s()})},a.mix=function(ne,ae,ue){ue=0===ue?0:ue||50;var he=a(ne).toRgb(),pe=a(ae).toRgb(),ge=ue/100;return a({r:(pe.r-he.r)*ge+he.r,g:(pe.g-he.g)*ge+he.g,b:(pe.b-he.b)*ge+he.b,a:(pe.a-he.a)*ge+he.a})},a.readability=function(ne,ae){var ue=a(ne),he=a(ae);return(E.max(ue.getLuminance(),he.getLuminance())+.05)/(E.min(ue.getLuminance(),he.getLuminance())+.05)},a.isReadable=function(ne,ae,ue){var he,pe,ge,xe,Se,Te=a.readability(ne,ae);switch(pe=!1,(ge=ue,"AA"!==(xe=((ge=ge||{level:"AA",size:"small"}).level||"AA").toUpperCase())&&"AAA"!==xe&&(xe="AA"),"small"!==(Se=(ge.size||"small").toLowerCase())&&"large"!==Se&&(Se="small"),he={level:xe,size:Se}).level+he.size){case"AAsmall":case"AAAlarge":pe=Te>=4.5;break;case"AAlarge":pe=Te>=3;break;case"AAAsmall":pe=Te>=7}return pe},a.mostReadable=function(ne,ae,ue){var he,pe,ge,xe,Se=null,Te=0;pe=(ue=ue||{}).includeFallbackColors,ge=ue.level,xe=ue.size;for(var ye=0;ye<ae.length;ye++)(he=a.readability(ne,ae[ye]))>Te&&(Te=he,Se=a(ae[ye]));return a.isReadable(ne,Se,{level:ge,size:xe})||!pe?Se:(ue.includeFallbackColors=!1,a.mostReadable(ne,["#fff","#000"],ue))};var R=a.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},L=a.hexNames=function(ne){var ae={};for(var ue in ne)ne.hasOwnProperty(ue)&&(ae[ne[ue]]=ue);return ae}(R);function N(ne){return ne=parseFloat(ne),(isNaN(ne)||ne<0||ne>1)&&(ne=1),ne}function B(ne,ae){var he;"string"==typeof(he=ne)&&-1!=he.indexOf(".")&&1===parseFloat(he)&&(ne="100%");var ue=function(he){return"string"==typeof he&&-1!=he.indexOf("%")}(ne);return ne=u(ae,i(0,parseFloat(ne))),ue&&(ne=parseInt(ne*ae,10)/100),E.abs(ne-ae)<1e-6?1:ne%ae/parseFloat(ae)}function J(ne){return u(1,i(0,ne))}function z(ne){return parseInt(ne,16)}function Y(ne){return 1==ne.length?"0"+ne:""+ne}function q(ne){return ne<=1&&(ne=100*ne+"%"),ne}function U(ne){return E.round(255*parseFloat(ne)).toString(16)}function Z(ne){return z(ne)/255}var X,se,re,ee=(se="[\\s|\\(]+("+(X="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+X+")[,|\\s]+("+X+")\\s*\\)?",re="[\\s|\\(]+("+X+")[,|\\s]+("+X+")[,|\\s]+("+X+")[,|\\s]+("+X+")\\s*\\)?",{CSS_UNIT:new RegExp(X),rgb:new RegExp("rgb"+se),rgba:new RegExp("rgba"+re),hsl:new RegExp("hsl"+se),hsla:new RegExp("hsla"+re),hsv:new RegExp("hsv"+se),hsva:new RegExp("hsva"+re),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function K(ne){return!!ee.CSS_UNIT.exec(ne)}oe.exports?oe.exports=a:void 0===(I=function(){return a}.call(j,r,j,oe))||(oe.exports=I)}(Math)},57060:function(oe){"use strict";oe.exports=r,oe.exports.float32=oe.exports.float=r,oe.exports.fract32=oe.exports.fract=function(I,E){if(I.length){if(I instanceof Float32Array)return new Float32Array(I.length);E instanceof Float32Array||(E=r(I));for(var f=0,S=E.length;f<S;f++)E[f]=I[f]-E[f];return E}return r(I-r(I))};var j=new Float32Array(1);function r(I){return I.length?I instanceof Float32Array?I:new Float32Array(I):(j[0]=I,j[0])}},75686:function(oe,j,r){"use strict";var I=r(25677);oe.exports=S;var E=96;function f(M,y){var u=I(getComputedStyle(M).getPropertyValue(y));return u[0]*S(u[1],M)}function S(M,y){switch(y=y||document.body,M=(M||"px").trim().toLowerCase(),y!==window&&y!==document||(y=document.body),M){case"%":return y.clientHeight/100;case"ch":case"ex":return function(u,i){var s=document.createElement("div");s.style["font-size"]="128"+u,i.appendChild(s);var a=f(s,"font-size")/128;return i.removeChild(s),a}(M,y);case"em":return f(y,"font-size");case"rem":return f(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return E;case"cm":return E/2.54;case"mm":return E/25.4;case"pt":return E/72;case"pc":return E/6}return 1}},96892:function(oe,j,r){"use strict";function I(S){return S}function E(S,M){return"string"==typeof M&&(M=S.objects[M]),"GeometryCollection"===M.type?{type:"FeatureCollection",features:M.geometries.map(function(y){return f(S,y)})}:f(S,M)}function f(S,M){var y=M.id,u=M.bbox,i=null==M.properties?{}:M.properties,s=function(a,o){var l=function(g){if(null==g)return I;var w,x,b=g.scale[0],A=g.scale[1],m=g.translate[0],C=g.translate[1];return function(k,P){P||(w=x=0);var R=2,L=k.length,N=new Array(L);for(N[0]=(w+=k[0])*b+m,N[1]=(x+=k[1])*A+C;R<L;)N[R]=k[R],++R;return N}}(a.transform),c=a.arcs;function h(g,w){w.length&&w.pop();for(var x=c[g<0?~g:g],b=0,A=x.length;b<A;++b)w.push(l(x[b],b));g<0&&function(m,C){for(var k,P=m.length,R=P-C;R<--P;)k=m[R],m[R++]=m[P],m[P]=k}(w,A)}function v(g){return l(g)}function p(g){for(var w=[],x=0,b=g.length;x<b;++x)h(g[x],w);return w.length<2&&w.push(w[0]),w}function T(g){for(var w=p(g);w.length<4;)w.push(w[0]);return w}function _(g){return g.map(T)}return function g(w){var x,b=w.type;switch(b){case"GeometryCollection":return{type:b,geometries:w.geometries.map(g)};case"Point":x=v(w.coordinates);break;case"MultiPoint":x=w.coordinates.map(v);break;case"LineString":x=p(w.arcs);break;case"MultiLineString":x=w.arcs.map(p);break;case"Polygon":x=_(w.arcs);break;case"MultiPolygon":x=w.arcs.map(_);break;default:return null}return{type:b,coordinates:x}}(o)}(S,M);return null==y&&null==u?{type:"Feature",properties:i,geometry:s}:null==u?{type:"Feature",id:y,properties:i,geometry:s}:{type:"Feature",id:y,bbox:u,properties:i,geometry:s}}r.d(j,{zL:function(){return E}})},73116:function(oe,j,r){"use strict";var I=r(24511);oe.exports=function(E){if("function"!=typeof E||!hasOwnProperty.call(E,"length"))return!1;try{if("number"!=typeof E.length||"function"!=typeof E.call||"function"!=typeof E.apply)return!1}catch{return!1}return!I(E)}},69190:function(oe,j,r){"use strict";var I=r(24582),E=r(47403),f=r(9234),S=r(6048),M=function(y,u){return y.replace("%v",S(u))};oe.exports=function(y,u,i){if(!E(i))throw new TypeError(M(u,y));if(!I(y)){if("default"in i)return i.default;if(i.isOptional)return null}var s=f(i.errorMessage);throw I(s)||(s=u),new TypeError(M(s,y))}},18497:function(oe){"use strict";oe.exports=function(j){try{return j.toString()}catch{try{return String(j)}catch{return null}}}},6048:function(oe,j,r){"use strict";var I=r(18497),E=/[\n\r\u2028\u2029]/g;oe.exports=function(f){var S=I(f);return null===S?"<Non-coercible to string value>":(S.length>100&&(S=S.slice(0,99)+"\u2026"),S=S.replace(E,function(M){switch(M){case"\n":return"\\n";case"\r":return"\\r";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw new Error("Unexpected character")}}))}},47403:function(oe,j,r){"use strict";var I=r(24582),E={object:!0,function:!0,undefined:!0};oe.exports=function(f){return!!I(f)&&hasOwnProperty.call(E,typeof f)}},82527:function(oe,j,r){"use strict";var I=r(69190),E=r(84985);oe.exports=function(f){return E(f)?f:I(f,"%v is not a plain function",arguments[1])}},84985:function(oe,j,r){"use strict";var I=r(73116),E=/^\s*class[\s{/}]/,f=Function.prototype.toString;oe.exports=function(S){return!!I(S)&&!E.test(f.call(S))}},24511:function(oe,j,r){"use strict";var I=r(47403);oe.exports=function(E){if(!I(E))return!1;try{return!!E.constructor&&E.constructor.prototype===E}catch{return!1}}},9234:function(oe,j,r){"use strict";var I=r(24582),E=r(47403),f=Object.prototype.toString;oe.exports=function(S){if(!I(S))return null;if(E(S)){var M=S.toString;if("function"!=typeof M||M===f)return null}try{return""+S}catch{return null}}},10424:function(oe,j,r){"use strict";var I=r(69190),E=r(24582);oe.exports=function(f){return E(f)?f:I(f,"Cannot use %v",arguments[1])}},24582:function(oe){"use strict";oe.exports=function(j){return null!=j}},58404:function(oe,j,r){"use strict";var I=r(13547),E=r(12129),f=r(12856).Buffer;r.g.__TYPEDARRAY_POOL||(r.g.__TYPEDARRAY_POOL={UINT8:E([32,0]),UINT16:E([32,0]),UINT32:E([32,0]),BIGUINT64:E([32,0]),INT8:E([32,0]),INT16:E([32,0]),INT32:E([32,0]),BIGINT64:E([32,0]),FLOAT:E([32,0]),DOUBLE:E([32,0]),DATA:E([32,0]),UINT8C:E([32,0]),BUFFER:E([32,0])});var S=typeof Uint8ClampedArray<"u",M=typeof BigUint64Array<"u",y=typeof BigInt64Array<"u",u=r.g.__TYPEDARRAY_POOL;u.UINT8C||(u.UINT8C=E([32,0])),u.BIGUINT64||(u.BIGUINT64=E([32,0])),u.BIGINT64||(u.BIGINT64=E([32,0])),u.BUFFER||(u.BUFFER=E([32,0]));var i=u.DATA,s=u.BUFFER;function a(C){if(C){var P=I.log2(C.length||C.byteLength);i[P].push(C)}}function o(C){C=I.nextPow2(C);var k=I.log2(C),P=i[k];return P.length>0?P.pop():new ArrayBuffer(C)}function l(C){return new Uint8Array(o(C),0,C)}function c(C){return new Uint16Array(o(2*C),0,C)}function h(C){return new Uint32Array(o(4*C),0,C)}function v(C){return new Int8Array(o(C),0,C)}function p(C){return new Int16Array(o(2*C),0,C)}function T(C){return new Int32Array(o(4*C),0,C)}function _(C){return new Float32Array(o(4*C),0,C)}function g(C){return new Float64Array(o(8*C),0,C)}function w(C){return S?new Uint8ClampedArray(o(C),0,C):l(C)}function x(C){return M?new BigUint64Array(o(8*C),0,C):null}function b(C){return y?new BigInt64Array(o(8*C),0,C):null}function A(C){return new DataView(o(C),0,C)}function m(C){C=I.nextPow2(C);var k=I.log2(C),P=s[k];return P.length>0?P.pop():new f(C)}j.free=function(C){if(f.isBuffer(C))s[I.log2(C.length)].push(C);else{if("[object ArrayBuffer]"!==Object.prototype.toString.call(C)&&(C=C.buffer),!C)return;var P=0|I.log2(C.length||C.byteLength);i[P].push(C)}},j.freeUint8=j.freeUint16=j.freeUint32=j.freeBigUint64=j.freeInt8=j.freeInt16=j.freeInt32=j.freeBigInt64=j.freeFloat32=j.freeFloat=j.freeFloat64=j.freeDouble=j.freeUint8Clamped=j.freeDataView=function(C){a(C.buffer)},j.freeArrayBuffer=a,j.freeBuffer=function(C){s[I.log2(C.length)].push(C)},j.malloc=function(C,k){if(void 0===k||"arraybuffer"===k)return o(C);switch(k){case"uint8":return l(C);case"uint16":return c(C);case"uint32":return h(C);case"int8":return v(C);case"int16":return p(C);case"int32":return T(C);case"float":case"float32":return _(C);case"double":case"float64":return g(C);case"uint8_clamped":return w(C);case"bigint64":return b(C);case"biguint64":return x(C);case"buffer":return m(C);case"data":case"dataview":return A(C);default:return null}return null},j.mallocArrayBuffer=o,j.mallocUint8=l,j.mallocUint16=c,j.mallocUint32=h,j.mallocInt8=v,j.mallocInt16=p,j.mallocInt32=T,j.mallocFloat32=j.mallocFloat=_,j.mallocFloat64=j.mallocDouble=g,j.mallocUint8Clamped=w,j.mallocBigUint64=x,j.mallocBigInt64=b,j.mallocDataView=A,j.mallocBuffer=m,j.clearCache=function(){for(var C=0;C<32;++C)u.UINT8[C].length=0,u.UINT16[C].length=0,u.UINT32[C].length=0,u.INT8[C].length=0,u.INT16[C].length=0,u.INT32[C].length=0,u.FLOAT[C].length=0,u.DOUBLE[C].length=0,u.BIGUINT64[C].length=0,u.BIGINT64[C].length=0,u.UINT8C[C].length=0,i[C].length=0,s[C].length=0}},90448:function(oe){var j=/[\'\"]/;oe.exports=function(r){return r?(j.test(r.charAt(0))&&(r=r.substr(1)),j.test(r.charAt(r.length-1))&&(r=r.substr(0,r.length-1)),r):""}},93447:function(oe){"use strict";oe.exports=function(j,r,I){Array.isArray(I)||(I=[].slice.call(arguments,2));for(var E=0,f=I.length;E<f;E++){var S=I[E];for(var M in S)if((void 0===r[M]||Array.isArray(r[M])||j[M]!==r[M])&&M in r){var y;if(!0===S[M])y=r[M];else if(!1===S[M]||"function"==typeof S[M]&&void 0===(y=S[M](r[M],j,r)))continue;j[M]=y}}return j}},20588:function(oe,j,r){function I(E){try{if(!r.g.localStorage)return!1}catch{return!1}var f=r.g.localStorage[E];return null!=f&&"true"===String(f).toLowerCase()}oe.exports=function(E,f){if(I("noDeprecation"))return E;var S=!1;return function(){if(!S){if(I("throwDeprecation"))throw new Error(f);I("traceDeprecation")?console.trace(f):console.warn(f),S=!0}return E.apply(this,arguments)}}},45920:function(oe){oe.exports=function(j){return j&&"object"==typeof j&&"function"==typeof j.copy&&"function"==typeof j.fill&&"function"==typeof j.readUInt8}},4936:function(oe,j,r){"use strict";var I=r(47216),E=r(65481),f=r(21099),S=r(9187);function M(B){return B.call.bind(B)}var y=typeof BigInt<"u",u=typeof Symbol<"u",i=M(Object.prototype.toString),s=M(Number.prototype.valueOf),a=M(String.prototype.valueOf),o=M(Boolean.prototype.valueOf);if(y)var l=M(BigInt.prototype.valueOf);if(u)var c=M(Symbol.prototype.valueOf);function h(B,J){if("object"!=typeof B)return!1;try{return J(B),!0}catch{return!1}}function v(B){return"[object Map]"===i(B)}function p(B){return"[object Set]"===i(B)}function T(B){return"[object WeakMap]"===i(B)}function _(B){return"[object WeakSet]"===i(B)}function g(B){return"[object ArrayBuffer]"===i(B)}function w(B){return typeof ArrayBuffer<"u"&&(g.working?g(B):B instanceof ArrayBuffer)}function x(B){return"[object DataView]"===i(B)}function b(B){return typeof DataView<"u"&&(x.working?x(B):B instanceof DataView)}j.isArgumentsObject=I,j.isGeneratorFunction=E,j.isTypedArray=S,j.isPromise=function(B){return typeof Promise<"u"&&B instanceof Promise||null!==B&&"object"==typeof B&&"function"==typeof B.then&&"function"==typeof B.catch},j.isArrayBufferView=function(B){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(B):S(B)||b(B)},j.isUint8Array=function(B){return"Uint8Array"===f(B)},j.isUint8ClampedArray=function(B){return"Uint8ClampedArray"===f(B)},j.isUint16Array=function(B){return"Uint16Array"===f(B)},j.isUint32Array=function(B){return"Uint32Array"===f(B)},j.isInt8Array=function(B){return"Int8Array"===f(B)},j.isInt16Array=function(B){return"Int16Array"===f(B)},j.isInt32Array=function(B){return"Int32Array"===f(B)},j.isFloat32Array=function(B){return"Float32Array"===f(B)},j.isFloat64Array=function(B){return"Float64Array"===f(B)},j.isBigInt64Array=function(B){return"BigInt64Array"===f(B)},j.isBigUint64Array=function(B){return"BigUint64Array"===f(B)},v.working=typeof Map<"u"&&v(new Map),j.isMap=function(B){return typeof Map<"u"&&(v.working?v(B):B instanceof Map)},p.working=typeof Set<"u"&&p(new Set),j.isSet=function(B){return typeof Set<"u"&&(p.working?p(B):B instanceof Set)},T.working=typeof WeakMap<"u"&&T(new WeakMap),j.isWeakMap=function(B){return typeof WeakMap<"u"&&(T.working?T(B):B instanceof WeakMap)},_.working=typeof WeakSet<"u"&&_(new WeakSet),j.isWeakSet=function(B){return _(B)},g.working=typeof ArrayBuffer<"u"&&g(new ArrayBuffer),j.isArrayBuffer=w,x.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&x(new DataView(new ArrayBuffer(1),0,1)),j.isDataView=b;var A=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function m(B){return"[object SharedArrayBuffer]"===i(B)}function C(B){return void 0!==A&&(void 0===m.working&&(m.working=m(new A)),m.working?m(B):B instanceof A)}function k(B){return h(B,s)}function P(B){return h(B,a)}function R(B){return h(B,o)}function L(B){return y&&h(B,l)}function N(B){return u&&h(B,c)}j.isSharedArrayBuffer=C,j.isAsyncFunction=function(B){return"[object AsyncFunction]"===i(B)},j.isMapIterator=function(B){return"[object Map Iterator]"===i(B)},j.isSetIterator=function(B){return"[object Set Iterator]"===i(B)},j.isGeneratorObject=function(B){return"[object Generator]"===i(B)},j.isWebAssemblyCompiledModule=function(B){return"[object WebAssembly.Module]"===i(B)},j.isNumberObject=k,j.isStringObject=P,j.isBooleanObject=R,j.isBigIntObject=L,j.isSymbolObject=N,j.isBoxedPrimitive=function(B){return k(B)||P(B)||R(B)||L(B)||N(B)},j.isAnyArrayBuffer=function(B){return typeof Uint8Array<"u"&&(w(B)||C(B))},["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(B){Object.defineProperty(j,B,{enumerable:!1,value:function(){throw new Error(B+" is not supported in userland")}})})},43827:function(oe,j,r){var I=r(90386),E=Object.getOwnPropertyDescriptors||function(N){for(var B=Object.keys(N),J={},z=0;z<B.length;z++)J[B[z]]=Object.getOwnPropertyDescriptor(N,B[z]);return J},f=/%[sdj%]/g;j.format=function(N){if(!T(N)){for(var B=[],J=0;J<arguments.length;J++)B.push(u(arguments[J]));return B.join(" ")}J=1;for(var z=arguments,Y=z.length,q=String(N).replace(f,function(Z){if("%%"===Z)return"%";if(J>=Y)return Z;switch(Z){case"%s":return String(z[J++]);case"%d":return Number(z[J++]);case"%j":try{return JSON.stringify(z[J++])}catch{return"[Circular]"}default:return Z}}),U=z[J];J<Y;U=z[++J])v(U)||!w(U)?q+=" "+U:q+=" "+u(U);return q},j.deprecate=function(N,B){if(void 0!==I&&!0===I.noDeprecation)return N;if(void 0===I)return function(){return j.deprecate(N,B).apply(this,arguments)};var J=!1;return function(){if(!J){if(I.throwDeprecation)throw new Error(B);I.traceDeprecation?console.trace(B):console.error(B),J=!0}return N.apply(this,arguments)}};var S={},M=/^$/;if(I.env.NODE_DEBUG){var y=I.env.NODE_DEBUG;y=y.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),M=new RegExp("^"+y+"$","i")}function u(N,B){var J={seen:[],stylize:s};return arguments.length>=3&&(J.depth=arguments[2]),arguments.length>=4&&(J.colors=arguments[3]),h(B)?J.showHidden=B:B&&j._extend(J,B),_(J.showHidden)&&(J.showHidden=!1),_(J.depth)&&(J.depth=2),_(J.colors)&&(J.colors=!1),_(J.customInspect)&&(J.customInspect=!0),J.colors&&(J.stylize=i),a(J,N,J.depth)}function i(N,B){var J=u.styles[B];return J?"\x1b["+u.colors[J][0]+"m"+N+"\x1b["+u.colors[J][1]+"m":N}function s(N,B){return N}function a(N,B,J){if(N.customInspect&&B&&A(B.inspect)&&B.inspect!==j.inspect&&(!B.constructor||B.constructor.prototype!==B)){var z=B.inspect(J,N);return T(z)||(z=a(N,z,J)),z}var Y=function(K,ne){if(_(ne))return K.stylize("undefined","undefined");if(T(ne)){var ae="'"+JSON.stringify(ne).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return K.stylize(ae,"string")}return p(ne)?K.stylize(""+ne,"number"):h(ne)?K.stylize(""+ne,"boolean"):v(ne)?K.stylize("null","null"):void 0}(N,B);if(Y)return Y;var ne,q=Object.keys(B),U=(ne={},q.forEach(function(ae,ue){ne[ae]=!0}),ne);if(N.showHidden&&(q=Object.getOwnPropertyNames(B)),b(B)&&(q.indexOf("message")>=0||q.indexOf("description")>=0))return o(B);if(0===q.length){if(A(B))return N.stylize("[Function"+(B.name?": "+B.name:"")+"]","special");if(g(B))return N.stylize(RegExp.prototype.toString.call(B),"regexp");if(x(B))return N.stylize(Date.prototype.toString.call(B),"date");if(b(B))return o(B)}var X,se="",re=!1,ee=["{","}"];return c(B)&&(re=!0,ee=["[","]"]),A(B)&&(se=" [Function"+(B.name?": "+B.name:"")+"]"),g(B)&&(se=" "+RegExp.prototype.toString.call(B)),x(B)&&(se=" "+Date.prototype.toUTCString.call(B)),b(B)&&(se=" "+o(B)),0!==q.length||re&&0!=B.length?J<0?g(B)?N.stylize(RegExp.prototype.toString.call(B),"regexp"):N.stylize("[Object]","special"):(N.seen.push(B),X=re?function(K,ne,ae,ue,he){for(var pe=[],ge=0,xe=ne.length;ge<xe;++ge)P(ne,String(ge))?pe.push(l(K,ne,ae,ue,String(ge),!0)):pe.push("");return he.forEach(function(Se){Se.match(/^\d+$/)||pe.push(l(K,ne,ae,ue,Se,!0))}),pe}(N,B,J,U,q):q.map(function(K){return l(N,B,J,U,K,re)}),N.seen.pop(),function(K,ne,ae){return K.reduce(function(ue,he){return he.indexOf("\n"),ue+he.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?ae[0]+(""===ne?"":ne+"\n ")+" "+K.join(",\n  ")+" "+ae[1]:ae[0]+ne+" "+K.join(", ")+" "+ae[1]}(X,se,ee)):ee[0]+se+ee[1]}function o(N){return"["+Error.prototype.toString.call(N)+"]"}function l(N,B,J,z,Y,q){var U,Z,X;if((X=Object.getOwnPropertyDescriptor(B,Y)||{value:B[Y]}).get?Z=N.stylize(X.set?"[Getter/Setter]":"[Getter]","special"):X.set&&(Z=N.stylize("[Setter]","special")),P(z,Y)||(U="["+Y+"]"),Z||(N.seen.indexOf(X.value)<0?(Z=v(J)?a(N,X.value,null):a(N,X.value,J-1)).indexOf("\n")>-1&&(Z=q?Z.split("\n").map(function(se){return"  "+se}).join("\n").slice(2):"\n"+Z.split("\n").map(function(se){return"   "+se}).join("\n")):Z=N.stylize("[Circular]","special")),_(U)){if(q&&Y.match(/^\d+$/))return Z;(U=JSON.stringify(""+Y)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(U=U.slice(1,-1),U=N.stylize(U,"name")):(U=U.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),U=N.stylize(U,"string"))}return U+": "+Z}function c(N){return Array.isArray(N)}function h(N){return"boolean"==typeof N}function v(N){return null===N}function p(N){return"number"==typeof N}function T(N){return"string"==typeof N}function _(N){return void 0===N}function g(N){return w(N)&&"[object RegExp]"===m(N)}function w(N){return"object"==typeof N&&null!==N}function x(N){return w(N)&&"[object Date]"===m(N)}function b(N){return w(N)&&("[object Error]"===m(N)||N instanceof Error)}function A(N){return"function"==typeof N}function m(N){return Object.prototype.toString.call(N)}function C(N){return N<10?"0"+N.toString(10):N.toString(10)}j.debuglog=function(N){if(N=N.toUpperCase(),!S[N])if(M.test(N)){var B=I.pid;S[N]=function(){var J=j.format.apply(j,arguments);console.error("%s %d: %s",N,B,J)}}else S[N]=function(){};return S[N]},j.inspect=u,u.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},u.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},j.types=r(4936),j.isArray=c,j.isBoolean=h,j.isNull=v,j.isNullOrUndefined=function(N){return null==N},j.isNumber=p,j.isString=T,j.isSymbol=function(N){return"symbol"==typeof N},j.isUndefined=_,j.isRegExp=g,j.types.isRegExp=g,j.isObject=w,j.isDate=x,j.types.isDate=x,j.isError=b,j.types.isNativeError=b,j.isFunction=A,j.isPrimitive=function(N){return null===N||"boolean"==typeof N||"number"==typeof N||"string"==typeof N||"symbol"==typeof N||void 0===N},j.isBuffer=r(45920);var k=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function P(N,B){return Object.prototype.hasOwnProperty.call(N,B)}j.log=function(){var N,B;console.log("%s - %s",(B=[C((N=new Date).getHours()),C(N.getMinutes()),C(N.getSeconds())].join(":"),[N.getDate(),k[N.getMonth()],B].join(" ")),j.format.apply(j,arguments))},j.inherits=r(42018),j._extend=function(N,B){if(!B||!w(B))return N;for(var J=Object.keys(B),z=J.length;z--;)N[J[z]]=B[J[z]];return N};var R=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;function L(N,B){if(!N){var J=new Error("Promise was rejected with a falsy value");J.reason=N,N=J}return B(N)}j.promisify=function(N){if("function"!=typeof N)throw new TypeError('The "original" argument must be of type Function');if(R&&N[R]){var B;if("function"!=typeof(B=N[R]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(B,R,{value:B,enumerable:!1,writable:!1,configurable:!0}),B}function B(){for(var J,z,Y=new Promise(function(Z,X){J=Z,z=X}),q=[],U=0;U<arguments.length;U++)q.push(arguments[U]);q.push(function(Z,X){Z?z(Z):J(X)});try{N.apply(this,q)}catch(Z){z(Z)}return Y}return Object.setPrototypeOf(B,Object.getPrototypeOf(N)),R&&Object.defineProperty(B,R,{value:B,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(B,E(N))},j.promisify.custom=R,j.callbackify=function(N){if("function"!=typeof N)throw new TypeError('The "original" argument must be of type Function');function B(){for(var J=[],z=0;z<arguments.length;z++)J.push(arguments[z]);var Y=J.pop();if("function"!=typeof Y)throw new TypeError("The last argument must be of type Function");var q=this,U=function(){return Y.apply(q,arguments)};N.apply(this,J).then(function(Z){I.nextTick(U.bind(null,null,Z))},function(Z){I.nextTick(L.bind(null,Z,U))})}return Object.setPrototypeOf(B,Object.getPrototypeOf(N)),Object.defineProperties(B,E(N)),B}},40372:function(oe,j,r){var I=r(86249);oe.exports=function(E){return I("webgl",E)}},21099:function(oe,j,r){"use strict";var I=r(31353),E=r(72077),f=r(6614),S=r(40383),M=f("Object.prototype.toString"),y=r(84543)(),u=typeof globalThis>"u"?r.g:globalThis,i=E(),s=f("String.prototype.slice"),a={},o=Object.getPrototypeOf;y&&S&&o&&I(i,function(c){if("function"==typeof u[c]){var h=new u[c];if(Symbol.toStringTag in h){var v=o(h),p=S(v,Symbol.toStringTag);if(!p){var T=o(v);p=S(T,Symbol.toStringTag)}a[c]=p.get}}});var l=r(9187);oe.exports=function(c){return!!l(c)&&(y&&Symbol.toStringTag in c?(h=c,v=!1,I(a,function(p,T){if(!v)try{var _=p.call(h);_===T&&(v=_)}catch{}}),v):s(M(c),8,-1));var h,v}},3961:function(oe,j,r){var I=r(63489),E=r(56131),f=I.instance();function S(o){this.local=this.regionalOptions[o||""]||this.regionalOptions[""]}E(S.prototype=new I.baseCalendar,{name:"Chinese",jdEpoch:1721425.5,hasYearZero:!1,minMonth:0,firstMonth:0,minDay:1,regionalOptions:{"":{name:"Chinese",epochs:["BEC","EC"],monthNumbers:function(o,l){if("string"==typeof o){var c=o.match(y);return c?c[0]:""}var h=this._validateYear(o),v=o.month(),p=""+this.toChineseMonth(h,v);return l&&p.length<2&&(p="0"+p),this.isIntercalaryMonth(h,v)&&(p+="i"),p},monthNames:function(o){if("string"==typeof o){var l=o.match(u);return l?l[0]:""}var c=this._validateYear(o),h=o.month(),v=["\u4e00\u6708","\u4e8c\u6708","\u4e09\u6708","\u56db\u6708","\u4e94\u6708","\u516d\u6708","\u4e03\u6708","\u516b\u6708","\u4e5d\u6708","\u5341\u6708","\u5341\u4e00\u6708","\u5341\u4e8c\u6708"][this.toChineseMonth(c,h)-1];return this.isIntercalaryMonth(c,h)&&(v="\u95f0"+v),v},monthNamesShort:function(o){if("string"==typeof o){var l=o.match(i);return l?l[0]:""}var c=this._validateYear(o),h=o.month(),v=["\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d","\u4e03","\u516b","\u4e5d","\u5341","\u5341\u4e00","\u5341\u4e8c"][this.toChineseMonth(c,h)-1];return this.isIntercalaryMonth(c,h)&&(v="\u95f0"+v),v},parseMonth:function(o,l){o=this._validateYear(o);var c,h=parseInt(l);if(isNaN(h))"\u95f0"===l[0]&&(c=!0,l=l.substring(1)),"\u6708"===l[l.length-1]&&(l=l.substring(0,l.length-1)),h=1+["\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d","\u4e03","\u516b","\u4e5d","\u5341","\u5341\u4e00","\u5341\u4e8c"].indexOf(l);else{var v=l[l.length-1];c="i"===v||"I"===v}return this.toMonthIndex(o,h,c)},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},_validateYear:function(o,l){if(o.year&&(o=o.year()),"number"!=typeof o||o<1888||o>2111)throw l.replace(/\{0\}/,this.local.name);return o},toMonthIndex:function(o,l,c){var h=this.intercalaryMonth(o);if(c&&l!==h||l<1||l>12)throw I.local.invalidMonth.replace(/\{0\}/,this.local.name);return h?!c&&l<=h?l-1:l:l-1},toChineseMonth:function(o,l){o.year&&(l=(o=o.year()).month());var c=this.intercalaryMonth(o);if(l<0||l>(c?12:11))throw I.local.invalidMonth.replace(/\{0\}/,this.local.name);return c?l<c?l+1:l:l+1},intercalaryMonth:function(o){return o=this._validateYear(o),s[o-s[0]]>>13},isIntercalaryMonth:function(o,l){o.year&&(l=(o=o.year()).month());var c=this.intercalaryMonth(o);return!!c&&c===l},leapYear:function(o){return 0!==this.intercalaryMonth(o)},weekOfYear:function(o,l,c){var h,v=this._validateYear(o,I.local.invalidyear),p=a[v-a[0]];(h=f.newDate(p>>9&4095,p>>5&15,31&p)).add(4-(h.dayOfWeek()||7),"d");var w=this.toJD(o,l,c)-h.toJD();return 1+Math.floor(w/7)},monthsInYear:function(o){return this.leapYear(o)?13:12},daysInMonth:function(o,l){o.year&&(l=o.month(),o=o.year()),o=this._validateYear(o);var c=s[o-s[0]];if(l>(c>>13?12:11))throw I.local.invalidMonth.replace(/\{0\}/,this.local.name);return c&1<<12-l?30:29},weekDay:function(o,l,c){return(this.dayOfWeek(o,l,c)||7)<6},toJD:function(o,l,c){var h=this._validate(o,p,c,I.local.invalidDate);o=this._validateYear(h.year()),l=h.month(),c=h.day();var v=this.isIntercalaryMonth(o,l),p=this.toChineseMonth(o,l),T=function(_,g,w,x,b){var A,m,C;if("object"==typeof _)m=_,A=g||{};else{var k;if(!("number"==typeof _&&_>=1888&&_<=2111))throw new Error("Lunar year outside range 1888-2111");if(!("number"==typeof g&&g>=1&&g<=12))throw new Error("Lunar month outside range 1 - 12");if(!("number"==typeof w&&w>=1&&w<=30))throw new Error("Lunar day outside range 1 - 30");"object"==typeof x?(k=!1,A=x):(k=!!x,A={}),m={year:_,month:g,day:w,isIntercalary:k}}C=m.day-1;var P,R=s[m.year-s[0]],L=R>>13;P=L&&(m.month>L||m.isIntercalary)?m.month:m.month-1;for(var N=0;N<P;N++)C+=R&1<<12-N?30:29;var B=a[m.year-a[0]],J=new Date(B>>9&4095,(B>>5&15)-1,(31&B)+C);return A.year=J.getFullYear(),A.month=1+J.getMonth(),A.day=J.getDate(),A}(o,p,c,v);return f.toJD(T.year,T.month,T.day)},fromJD:function(o){var l=f.fromJD(o),c=function(v,p,T,_){var g,w;if("object"==typeof v)g=v,w=p||{};else{if(!("number"==typeof v&&v>=1888&&v<=2111))throw new Error("Solar year outside range 1888-2111");if(!("number"==typeof p&&p>=1&&p<=12))throw new Error("Solar month outside range 1 - 12");if(!("number"==typeof T&&T>=1&&T<=31))throw new Error("Solar day outside range 1 - 31");g={year:v,month:p,day:T},w={}}var x=a[g.year-a[0]];w.year=(g.year<<9|g.month<<5|g.day)>=x?g.year:g.year-1,x=a[w.year-a[0]];var A,m=new Date(x>>9&4095,(x>>5&15)-1,31&x),C=new Date(g.year,g.month-1,g.day);A=Math.round((C-m)/864e5);var k,P=s[w.year-s[0]];for(k=0;k<13;k++){var R=P&1<<12-k?30:29;if(A<R)break;A-=R}var L=P>>13;return!L||k<L?(w.isIntercalary=!1,w.month=1+k):k===L?(w.isIntercalary=!0,w.month=k):(w.isIntercalary=!1,w.month=k),w.day=1+A,w}(l.year(),l.month(),l.day()),h=this.toMonthIndex(c.year,c.month,c.isIntercalary);return this.newDate(c.year,h,c.day)},fromString:function(o){var l=o.match(M),c=this._validateYear(+l[1]),p=this.toMonthIndex(c,+l[2],!!l[3]);return this.newDate(c,p,+l[4])},add:function(o,l,c){var h=o.year(),v=o.month(),p=this.isIntercalaryMonth(h,v),T=this.toChineseMonth(h,v),_=Object.getPrototypeOf(S.prototype).add.call(this,o,l,c);if("y"===c){var g=_.year(),w=_.month(),x=this.isIntercalaryMonth(g,T),b=this.toMonthIndex(g,T,!(!p||!x));b!==w&&_.month(b)}return _}});var M=/^\s*(-?\d\d\d\d|\d\d)[-/](\d?\d)([iI]?)[-/](\d?\d)/m,y=/^\d?\d[iI]?/m,u=/^\u95f0?\u5341?[\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d]?\u6708/m,i=/^\u95f0?\u5341?[\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d]?/m;I.calendars.chinese=S;var s=[1887,5780,5802,19157,2742,50359,1198,2646,46378,7466,3412,30122,5482,67949,2396,5294,43597,6732,6954,36181,2772,4954,18781,2396,54427,5274,6730,47781,5800,6868,21210,4790,59703,2350,5270,46667,3402,3496,38325,1388,4782,18735,2350,52374,6804,7498,44457,2906,1388,29294,4700,63789,6442,6804,56138,5802,2772,38235,1210,4698,22827,5418,63125,3476,5802,43701,2484,5302,27223,2646,70954,7466,3412,54698,5482,2412,38062,5294,2636,32038,6954,60245,2772,4826,43357,2394,5274,39501,6730,72357,5800,5844,53978,4790,2358,38039,5270,87627,3402,3496,54708,5484,4782,43311,2350,3222,27978,7498,68965,2904,5484,45677,4700,6444,39573,6804,6986,19285,2772,62811,1210,4698,47403,5418,5780,38570,5546,76469,2420,5302,51799,2646,5414,36501,3412,5546,18869,2412,54446,5276,6732,48422,6822,2900,28010,4826,92509,2394,5274,55883,6730,6820,47956,5812,2778,18779,2358,62615,5270,5450,46757,3492,5556,27318,4718,67887,2350,3222,52554,7498,3428,38252,5468,4700,31022,6444,64149,6804,6986,43861,2772,5338,35421,2650,70955,5418,5780,54954,5546,2740,38074,5302,2646,29991,3366,61011,3412,5546,43445,2412,5294,35406,6732,72998,6820,6996,52586,2778,2396,38045,5274,6698,23333,6820,64338,5812,2746,43355,2358,5270,39499,5450,79525,3492,5548],a=[1887,966732,967231,967733,968265,968766,969297,969798,970298,970829,971330,971830,972362,972863,973395,973896,974397,974928,975428,975929,976461,976962,977462,977994,978494,979026,979526,980026,980558,981059,981559,982091,982593,983124,983624,984124,984656,985157,985656,986189,986690,987191,987722,988222,988753,989254,989754,990286,990788,991288,991819,992319,992851,993352,993851,994383,994885,995385,995917,996418,996918,997450,997949,998481,998982,999483,1000014,1000515,1001016,1001548,1002047,1002578,1003080,1003580,1004111,1004613,1005113,1005645,1006146,1006645,1007177,1007678,1008209,1008710,1009211,1009743,1010243,1010743,1011275,1011775,1012306,1012807,1013308,1013840,1014341,1014841,1015373,1015874,1016404,1016905,1017405,1017937,1018438,1018939,1019471,1019972,1020471,1021002,1021503,1022035,1022535,1023036,1023568,1024069,1024568,1025100,1025601,1026102,1026633,1027133,1027666,1028167,1028666,1029198,1029699,1030199,1030730,1031231,1031763,1032264,1032764,1033296,1033797,1034297,1034828,1035329,1035830,1036362,1036861,1037393,1037894,1038394,1038925,1039427,1039927,1040459,1040959,1041491,1041992,1042492,1043023,1043524,1044024,1044556,1045057,1045558,1046090,1046590,1047121,1047622,1048122,1048654,1049154,1049655,1050187,1050689,1051219,1051720,1052220,1052751,1053252,1053752,1054284,1054786,1055285,1055817,1056317,1056849,1057349,1057850,1058382,1058883,1059383,1059915,1060415,1060947,1061447,1061947,1062479,1062981,1063480,1064012,1064514,1065014,1065545,1066045,1066577,1067078,1067578,1068110,1068611,1069112,1069642,1070142,1070674,1071175,1071675,1072207,1072709,1073209,1073740,1074241,1074741,1075273,1075773,1076305,1076807,1077308,1077839,1078340,1078840,1079372,1079871,1080403,1080904]},38751:function(oe,j,r){var I=r(63489);function f(S){this.local=this.regionalOptions[S||""]||this.regionalOptions[""]}r(56131)(f.prototype=new I.baseCalendar,{name:"Coptic",jdEpoch:1825029.5,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Coptic",epochs:["BAM","AM"],monthNames:["Thout","Paopi","Hathor","Koiak","Tobi","Meshir","Paremhat","Paremoude","Pashons","Paoni","Epip","Mesori","Pi Kogi Enavot"],monthNamesShort:["Tho","Pao","Hath","Koi","Tob","Mesh","Pat","Pad","Pash","Pao","Epi","Meso","PiK"],dayNames:["Tkyriaka","Pesnau","Pshoment","Peftoou","Ptiou","Psoou","Psabbaton"],dayNamesShort:["Tky","Pes","Psh","Pef","Pti","Pso","Psa"],dayNamesMin:["Tk","Pes","Psh","Pef","Pt","Pso","Psa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(S){var M=this._validate(S,this.minMonth,this.minDay,I.local.invalidYear);return(S=M.year()+(M.year()<0?1:0))%4==3||S%4==-1},monthsInYear:function(S){return this._validate(S,this.minMonth,this.minDay,I.local.invalidYear||I.regionalOptions[""].invalidYear),13},weekOfYear:function(S,M,y){var u=this.newDate(S,M,y);return u.add(-u.dayOfWeek(),"d"),Math.floor((u.dayOfYear()-1)/7)+1},daysInMonth:function(S,M){var y=this._validate(S,M,this.minDay,I.local.invalidMonth);return this.daysPerMonth[y.month()-1]+(13===y.month()&&this.leapYear(y.year())?1:0)},weekDay:function(S,M,y){return(this.dayOfWeek(S,M,y)||7)<6},toJD:function(S,M,y){var u=this._validate(S,M,y,I.local.invalidDate);return(S=u.year())<0&&S++,u.day()+30*(u.month()-1)+365*(S-1)+Math.floor(S/4)+this.jdEpoch-1},fromJD:function(S){var M=Math.floor(S)+.5-this.jdEpoch,y=Math.floor((M-Math.floor((M+366)/1461))/365)+1;y<=0&&y--,M=Math.floor(S)+.5-this.newDate(y,1,1).toJD();var u=Math.floor(M/30)+1;return this.newDate(y,u,M-30*(u-1)+1)}}),I.calendars.coptic=f},86825:function(oe,j,r){var I=r(63489);function f(M){this.local=this.regionalOptions[M||""]||this.regionalOptions[""]}r(56131)(f.prototype=new I.baseCalendar,{name:"Discworld",jdEpoch:1721425.5,daysPerMonth:[16,32,32,32,32,32,32,32,32,32,32,32,32],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Discworld",epochs:["BUC","UC"],monthNames:["Ick","Offle","February","March","April","May","June","Grune","August","Spune","Sektober","Ember","December"],monthNamesShort:["Ick","Off","Feb","Mar","Apr","May","Jun","Gru","Aug","Spu","Sek","Emb","Dec"],dayNames:["Sunday","Octeday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Oct","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Oc","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:2,isRTL:!1}},leapYear:function(M){return this._validate(M,this.minMonth,this.minDay,I.local.invalidYear),!1},monthsInYear:function(M){return this._validate(M,this.minMonth,this.minDay,I.local.invalidYear),13},daysInYear:function(M){return this._validate(M,this.minMonth,this.minDay,I.local.invalidYear),400},weekOfYear:function(M,y,u){var i=this.newDate(M,y,u);return i.add(-i.dayOfWeek(),"d"),Math.floor((i.dayOfYear()-1)/8)+1},daysInMonth:function(M,y){var u=this._validate(M,y,this.minDay,I.local.invalidMonth);return this.daysPerMonth[u.month()-1]},daysInWeek:function(){return 8},dayOfWeek:function(M,y,u){return(this._validate(M,y,u,I.local.invalidDate).day()+1)%8},weekDay:function(M,y,u){var i=this.dayOfWeek(M,y,u);return i>=2&&i<=6},extraInfo:function(M,y,u){var i=this._validate(M,y,u,I.local.invalidDate);return{century:S[Math.floor((i.year()-1)/100)+1]||""}},toJD:function(M,y,u){var i=this._validate(M,y,u,I.local.invalidDate);return M=i.year()+(i.year()<0?1:0),y=i.month(),(u=i.day())+(y>1?16:0)+(y>2?32*(y-2):0)+400*(M-1)+this.jdEpoch-1},fromJD:function(M){M=Math.floor(M+.5)-Math.floor(this.jdEpoch)-1;var y=Math.floor(M/400)+1;M-=400*(y-1),M+=M>15?16:0;var u=Math.floor(M/32)+1;return this.newDate(y<=0?y-1:y,u,M-32*(u-1)+1)}});var S={20:"Fruitbat",21:"Anchovy"};I.calendars.discworld=f},37715:function(oe,j,r){var I=r(63489);function f(S){this.local=this.regionalOptions[S||""]||this.regionalOptions[""]}r(56131)(f.prototype=new I.baseCalendar,{name:"Ethiopian",jdEpoch:1724220.5,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Ethiopian",epochs:["BEE","EE"],monthNames:["Meskerem","Tikemet","Hidar","Tahesas","Tir","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehase","Pagume"],monthNamesShort:["Mes","Tik","Hid","Tah","Tir","Yek","Meg","Mia","Gen","Sen","Ham","Neh","Pag"],dayNames:["Ehud","Segno","Maksegno","Irob","Hamus","Arb","Kidame"],dayNamesShort:["Ehu","Seg","Mak","Iro","Ham","Arb","Kid"],dayNamesMin:["Eh","Se","Ma","Ir","Ha","Ar","Ki"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(S){var M=this._validate(S,this.minMonth,this.minDay,I.local.invalidYear);return(S=M.year()+(M.year()<0?1:0))%4==3||S%4==-1},monthsInYear:function(S){return this._validate(S,this.minMonth,this.minDay,I.local.invalidYear||I.regionalOptions[""].invalidYear),13},weekOfYear:function(S,M,y){var u=this.newDate(S,M,y);return u.add(-u.dayOfWeek(),"d"),Math.floor((u.dayOfYear()-1)/7)+1},daysInMonth:function(S,M){var y=this._validate(S,M,this.minDay,I.local.invalidMonth);return this.daysPerMonth[y.month()-1]+(13===y.month()&&this.leapYear(y.year())?1:0)},weekDay:function(S,M,y){return(this.dayOfWeek(S,M,y)||7)<6},toJD:function(S,M,y){var u=this._validate(S,M,y,I.local.invalidDate);return(S=u.year())<0&&S++,u.day()+30*(u.month()-1)+365*(S-1)+Math.floor(S/4)+this.jdEpoch-1},fromJD:function(S){var M=Math.floor(S)+.5-this.jdEpoch,y=Math.floor((M-Math.floor((M+366)/1461))/365)+1;y<=0&&y--,M=Math.floor(S)+.5-this.newDate(y,1,1).toJD();var u=Math.floor(M/30)+1;return this.newDate(y,u,M-30*(u-1)+1)}}),I.calendars.ethiopian=f},99384:function(oe,j,r){var I=r(63489);function f(M){this.local=this.regionalOptions[M||""]||this.regionalOptions[""]}function S(M,y){return M-y*Math.floor(M/y)}r(56131)(f.prototype=new I.baseCalendar,{name:"Hebrew",jdEpoch:347995.5,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29,29],hasYearZero:!1,minMonth:1,firstMonth:7,minDay:1,regionalOptions:{"":{name:"Hebrew",epochs:["BAM","AM"],monthNames:["Nisan","Iyar","Sivan","Tammuz","Av","Elul","Tishrei","Cheshvan","Kislev","Tevet","Shevat","Adar","Adar II"],monthNamesShort:["Nis","Iya","Siv","Tam","Av","Elu","Tis","Che","Kis","Tev","She","Ada","Ad2"],dayNames:["Yom Rishon","Yom Sheni","Yom Shlishi","Yom Revi'i","Yom Chamishi","Yom Shishi","Yom Shabbat"],dayNamesShort:["Ris","She","Shl","Rev","Cha","Shi","Sha"],dayNamesMin:["Ri","She","Shl","Re","Ch","Shi","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(M){var y=this._validate(M,this.minMonth,this.minDay,I.local.invalidYear);return this._leapYear(y.year())},_leapYear:function(M){return S(7*(M=M<0?M+1:M)+1,19)<7},monthsInYear:function(M){return this._validate(M,this.minMonth,this.minDay,I.local.invalidYear),this._leapYear(M.year?M.year():M)?13:12},weekOfYear:function(M,y,u){var i=this.newDate(M,y,u);return i.add(-i.dayOfWeek(),"d"),Math.floor((i.dayOfYear()-1)/7)+1},daysInYear:function(M){return M=this._validate(M,this.minMonth,this.minDay,I.local.invalidYear).year(),this.toJD(-1===M?1:M+1,7,1)-this.toJD(M,7,1)},daysInMonth:function(M,y){return M.year&&(y=M.month(),M=M.year()),this._validate(M,y,this.minDay,I.local.invalidMonth),12===y&&this.leapYear(M)||8===y&&5===S(this.daysInYear(M),10)?30:9===y&&3===S(this.daysInYear(M),10)?29:this.daysPerMonth[y-1]},weekDay:function(M,y,u){return 6!==this.dayOfWeek(M,y,u)},extraInfo:function(M,y,u){var i=this._validate(M,y,u,I.local.invalidDate);return{yearType:(this.leapYear(i)?"embolismic":"common")+" "+["deficient","regular","complete"][this.daysInYear(i)%10-3]}},toJD:function(M,y,u){var i=this._validate(M,y,u,I.local.invalidDate);M=i.year(),y=i.month(),u=i.day();var s=M<=0?M+1:M,a=this.jdEpoch+this._delay1(s)+this._delay2(s)+u+1;if(y<7){for(var o=7;o<=this.monthsInYear(M);o++)a+=this.daysInMonth(M,o);for(o=1;o<y;o++)a+=this.daysInMonth(M,o)}else for(o=7;o<y;o++)a+=this.daysInMonth(M,o);return a},_delay1:function(M){var y=Math.floor((235*M-234)/19),i=29*y+Math.floor((12084+13753*y)/25920);return S(3*(i+1),7)<3&&i++,i},_delay2:function(M){var y=this._delay1(M-1),u=this._delay1(M);return this._delay1(M+1)-u==356?2:u-y==382?1:0},fromJD:function(M){M=Math.floor(M)+.5;for(var y=Math.floor(98496*(M-this.jdEpoch)/35975351)-1;M>=this.toJD(-1===y?1:y+1,7,1);)y++;for(var u=M<this.toJD(y,1,1)?7:1;M>this.toJD(y,u,this.daysInMonth(y,u));)u++;var i=M-this.toJD(y,u,1)+1;return this.newDate(y,u,i)}}),I.calendars.hebrew=f},43805:function(oe,j,r){var I=r(63489);function f(S){this.local=this.regionalOptions[S||""]||this.regionalOptions[""]}r(56131)(f.prototype=new I.baseCalendar,{name:"Islamic",jdEpoch:1948439.5,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Islamic",epochs:["BH","AH"],monthNames:["Muharram","Safar","Rabi' al-awwal","Rabi' al-thani","Jumada al-awwal","Jumada al-thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-ahad","Yawm al-ithnayn","Yawm ath-thulaathaa'","Yawm al-arbi'aa'","Yawm al-kham\u012bs","Yawm al-jum'a","Yawm as-sabt"],dayNamesShort:["Aha","Ith","Thu","Arb","Kha","Jum","Sab"],dayNamesMin:["Ah","It","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(S){return(11*this._validate(S,this.minMonth,this.minDay,I.local.invalidYear).year()+14)%30<11},weekOfYear:function(S,M,y){var u=this.newDate(S,M,y);return u.add(-u.dayOfWeek(),"d"),Math.floor((u.dayOfYear()-1)/7)+1},daysInYear:function(S){return this.leapYear(S)?355:354},daysInMonth:function(S,M){var y=this._validate(S,M,this.minDay,I.local.invalidMonth);return this.daysPerMonth[y.month()-1]+(12===y.month()&&this.leapYear(y.year())?1:0)},weekDay:function(S,M,y){return 5!==this.dayOfWeek(S,M,y)},toJD:function(S,M,y){var u=this._validate(S,M,y,I.local.invalidDate);return S=u.year(),M=u.month(),S=S<=0?S+1:S,(y=u.day())+Math.ceil(29.5*(M-1))+354*(S-1)+Math.floor((3+11*S)/30)+this.jdEpoch-1},fromJD:function(S){S=Math.floor(S)+.5;var M=Math.floor((30*(S-this.jdEpoch)+10646)/10631);M=M<=0?M-1:M;var y=Math.min(12,Math.ceil((S-29-this.toJD(M,1,1))/29.5)+1),u=S-this.toJD(M,y,1)+1;return this.newDate(M,y,u)}}),I.calendars.islamic=f},88874:function(oe,j,r){var I=r(63489);function f(S){this.local=this.regionalOptions[S||""]||this.regionalOptions[""]}r(56131)(f.prototype=new I.baseCalendar,{name:"Julian",jdEpoch:1721423.5,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Julian",epochs:["BC","AD"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(S){var M=this._validate(S,this.minMonth,this.minDay,I.local.invalidYear);return(S=M.year()<0?M.year()+1:M.year())%4==0},weekOfYear:function(S,M,y){var u=this.newDate(S,M,y);return u.add(4-(u.dayOfWeek()||7),"d"),Math.floor((u.dayOfYear()-1)/7)+1},daysInMonth:function(S,M){var y=this._validate(S,M,this.minDay,I.local.invalidMonth);return this.daysPerMonth[y.month()-1]+(2===y.month()&&this.leapYear(y.year())?1:0)},weekDay:function(S,M,y){return(this.dayOfWeek(S,M,y)||7)<6},toJD:function(S,M,y){var u=this._validate(S,M,y,I.local.invalidDate);return S=u.year(),M=u.month(),y=u.day(),S<0&&S++,M<=2&&(S--,M+=12),Math.floor(365.25*(S+4716))+Math.floor(30.6001*(M+1))+y-1524.5},fromJD:function(S){var M=Math.floor(S+.5)+1524,y=Math.floor((M-122.1)/365.25),u=Math.floor(365.25*y),i=Math.floor((M-u)/30.6001),s=i-Math.floor(i<14?1:13),a=y-Math.floor(s>2?4716:4715),o=M-u-Math.floor(30.6001*i);return a<=0&&a--,this.newDate(a,s,o)}}),I.calendars.julian=f},83290:function(oe,j,r){var I=r(63489);function f(y){this.local=this.regionalOptions[y||""]||this.regionalOptions[""]}function S(y,u){return y-u*Math.floor(y/u)}function M(y,u){return S(y-1,u)+1}r(56131)(f.prototype=new I.baseCalendar,{name:"Mayan",jdEpoch:584282.5,hasYearZero:!0,minMonth:0,firstMonth:0,minDay:0,regionalOptions:{"":{name:"Mayan",epochs:["",""],monthNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],monthNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],dayNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesMin:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],digits:null,dateFormat:"YYYY.m.d",firstDay:0,isRTL:!1,haabMonths:["Pop","Uo","Zip","Zotz","Tzec","Xul","Yaxkin","Mol","Chen","Yax","Zac","Ceh","Mac","Kankin","Muan","Pax","Kayab","Cumku","Uayeb"],tzolkinMonths:["Imix","Ik","Akbal","Kan","Chicchan","Cimi","Manik","Lamat","Muluc","Oc","Chuen","Eb","Ben","Ix","Men","Cib","Caban","Etznab","Cauac","Ahau"]}},leapYear:function(y){return this._validate(y,this.minMonth,this.minDay,I.local.invalidYear),!1},formatYear:function(y){y=this._validate(y,this.minMonth,this.minDay,I.local.invalidYear).year();var u=Math.floor(y/400);return y%=400,y+=y<0?400:0,u+"."+Math.floor(y/20)+"."+y%20},forYear:function(y){if((y=y.split(".")).length<3)throw"Invalid Mayan year";for(var u=0,i=0;i<y.length;i++){var s=parseInt(y[i],10);if(Math.abs(s)>19||i>0&&s<0)throw"Invalid Mayan year";u=20*u+s}return u},monthsInYear:function(y){return this._validate(y,this.minMonth,this.minDay,I.local.invalidYear),18},weekOfYear:function(y,u,i){return this._validate(y,u,i,I.local.invalidDate),0},daysInYear:function(y){return this._validate(y,this.minMonth,this.minDay,I.local.invalidYear),360},daysInMonth:function(y,u){return this._validate(y,u,this.minDay,I.local.invalidMonth),20},daysInWeek:function(){return 5},dayOfWeek:function(y,u,i){return this._validate(y,u,i,I.local.invalidDate).day()},weekDay:function(y,u,i){return this._validate(y,u,i,I.local.invalidDate),!0},extraInfo:function(y,u,i){var s=this._validate(y,u,i,I.local.invalidDate).toJD(),a=this._toHaab(s),o=this._toTzolkin(s);return{haabMonthName:this.local.haabMonths[a[0]-1],haabMonth:a[0],haabDay:a[1],tzolkinDayName:this.local.tzolkinMonths[o[0]-1],tzolkinDay:o[0],tzolkinTrecena:o[1]}},_toHaab:function(y){var u=S(8+(y-=this.jdEpoch)+340,365);return[Math.floor(u/20)+1,S(u,20)]},_toTzolkin:function(y){return[M(20+(y-=this.jdEpoch),20),M(y+4,13)]},toJD:function(y,u,i){var s=this._validate(y,u,i,I.local.invalidDate);return s.day()+20*s.month()+360*s.year()+this.jdEpoch},fromJD:function(y){y=Math.floor(y)+.5-this.jdEpoch;var u=Math.floor(y/360);y%=360,y+=y<0?360:0;var i=Math.floor(y/20);return this.newDate(u,i,y%20)}}),I.calendars.mayan=f},29108:function(oe,j,r){var I=r(63489),E=r(56131);function f(M){this.local=this.regionalOptions[M||""]||this.regionalOptions[""]}f.prototype=new I.baseCalendar;var S=I.instance("gregorian");E(f.prototype,{name:"Nanakshahi",jdEpoch:2257673.5,daysPerMonth:[31,31,31,31,31,30,30,30,30,30,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Nanakshahi",epochs:["BN","AN"],monthNames:["Chet","Vaisakh","Jeth","Harh","Sawan","Bhadon","Assu","Katak","Maghar","Poh","Magh","Phagun"],monthNamesShort:["Che","Vai","Jet","Har","Saw","Bha","Ass","Kat","Mgr","Poh","Mgh","Pha"],dayNames:["Somvaar","Mangalvar","Budhvaar","Veervaar","Shukarvaar","Sanicharvaar","Etvaar"],dayNamesShort:["Som","Mangal","Budh","Veer","Shukar","Sanichar","Et"],dayNamesMin:["So","Ma","Bu","Ve","Sh","Sa","Et"],digits:null,dateFormat:"dd-mm-yyyy",firstDay:0,isRTL:!1}},leapYear:function(M){var y=this._validate(M,this.minMonth,this.minDay,I.local.invalidYear||I.regionalOptions[""].invalidYear);return S.leapYear(y.year()+(y.year()<1?1:0)+1469)},weekOfYear:function(M,y,u){var i=this.newDate(M,y,u);return i.add(1-(i.dayOfWeek()||7),"d"),Math.floor((i.dayOfYear()-1)/7)+1},daysInMonth:function(M,y){var u=this._validate(M,y,this.minDay,I.local.invalidMonth);return this.daysPerMonth[u.month()-1]+(12===u.month()&&this.leapYear(u.year())?1:0)},weekDay:function(M,y,u){return(this.dayOfWeek(M,y,u)||7)<6},toJD:function(M,y,u){var i=this._validate(M,y,u,I.local.invalidMonth);(M=i.year())<0&&M++;for(var s=i.day(),a=1;a<i.month();a++)s+=this.daysPerMonth[a-1];return s+S.toJD(M+1468,3,13)},fromJD:function(M){M=Math.floor(M+.5);for(var y=Math.floor((M-(this.jdEpoch-1))/366);M>=this.toJD(y+1,1,1);)y++;for(var u=M-Math.floor(this.toJD(y,1,1)+.5)+1,i=1;u>this.daysInMonth(y,i);)u-=this.daysInMonth(y,i),i++;return this.newDate(y,i,u)}}),I.calendars.nanakshahi=f},55422:function(oe,j,r){var I=r(63489);function f(S){this.local=this.regionalOptions[S||""]||this.regionalOptions[""]}r(56131)(f.prototype=new I.baseCalendar,{name:"Nepali",jdEpoch:1700709.5,daysPerMonth:[31,31,32,32,31,30,30,29,30,29,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,daysPerYear:365,regionalOptions:{"":{name:"Nepali",epochs:["BBS","ABS"],monthNames:["Baisakh","Jestha","Ashadh","Shrawan","Bhadra","Ashwin","Kartik","Mangsir","Paush","Mangh","Falgun","Chaitra"],monthNamesShort:["Bai","Je","As","Shra","Bha","Ash","Kar","Mang","Pau","Ma","Fal","Chai"],dayNames:["Aaitabaar","Sombaar","Manglbaar","Budhabaar","Bihibaar","Shukrabaar","Shanibaar"],dayNamesShort:["Aaita","Som","Mangl","Budha","Bihi","Shukra","Shani"],dayNamesMin:["Aai","So","Man","Bu","Bi","Shu","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:1,isRTL:!1}},leapYear:function(S){return this.daysInYear(S)!==this.daysPerYear},weekOfYear:function(S,M,y){var u=this.newDate(S,M,y);return u.add(-u.dayOfWeek(),"d"),Math.floor((u.dayOfYear()-1)/7)+1},daysInYear:function(S){if(S=this._validate(S,this.minMonth,this.minDay,I.local.invalidYear).year(),void 0===this.NEPALI_CALENDAR_DATA[S])return this.daysPerYear;for(var M=0,y=this.minMonth;y<=12;y++)M+=this.NEPALI_CALENDAR_DATA[S][y];return M},daysInMonth:function(S,M){return S.year&&(M=S.month(),S=S.year()),this._validate(S,M,this.minDay,I.local.invalidMonth),void 0===this.NEPALI_CALENDAR_DATA[S]?this.daysPerMonth[M-1]:this.NEPALI_CALENDAR_DATA[S][M]},weekDay:function(S,M,y){return 6!==this.dayOfWeek(S,M,y)},toJD:function(S,M,y){var u=this._validate(S,M,y,I.local.invalidDate);S=u.year(),M=u.month(),y=u.day();var i=I.instance(),s=0,a=M,o=S;this._createMissingCalendarData(S);var l=S-(a>9||9===a&&y>=this.NEPALI_CALENDAR_DATA[o][0]?56:57);for(9!==M&&(s=y,a--);9!==a;)a<=0&&(a=12,o--),s+=this.NEPALI_CALENDAR_DATA[o][a],a--;return 9===M?(s+=y-this.NEPALI_CALENDAR_DATA[o][0])<0&&(s+=i.daysInYear(l)):s+=this.NEPALI_CALENDAR_DATA[o][9]-this.NEPALI_CALENDAR_DATA[o][0],i.newDate(l,1,1).add(s,"d").toJD()},fromJD:function(S){var M=I.instance().fromJD(S),y=M.year(),u=M.dayOfYear(),i=y+56;this._createMissingCalendarData(i);for(var s=9,o=this.NEPALI_CALENDAR_DATA[i][s]-this.NEPALI_CALENDAR_DATA[i][0]+1;u>o;)++s>12&&(s=1,i++),o+=this.NEPALI_CALENDAR_DATA[i][s];return this.newDate(i,s,this.NEPALI_CALENDAR_DATA[i][s]-(o-u))},_createMissingCalendarData:function(S){var M=this.daysPerMonth.slice(0);M.unshift(17);for(var y=S-1;y<S+2;y++)void 0===this.NEPALI_CALENDAR_DATA[y]&&(this.NEPALI_CALENDAR_DATA[y]=M)},NEPALI_CALENDAR_DATA:{1970:[18,31,31,32,31,31,31,30,29,30,29,30,30],1971:[18,31,31,32,31,32,30,30,29,30,29,30,30],1972:[17,31,32,31,32,31,30,30,30,29,29,30,30],1973:[19,30,32,31,32,31,30,30,30,29,30,29,31],1974:[19,31,31,32,30,31,31,30,29,30,29,30,30],1975:[18,31,31,32,32,30,31,30,29,30,29,30,30],1976:[17,31,32,31,32,31,30,30,30,29,29,30,31],1977:[18,31,32,31,32,31,31,29,30,29,30,29,31],1978:[18,31,31,32,31,31,31,30,29,30,29,30,30],1979:[18,31,31,32,32,31,30,30,29,30,29,30,30],1980:[17,31,32,31,32,31,30,30,30,29,29,30,31],1981:[18,31,31,31,32,31,31,29,30,30,29,30,30],1982:[18,31,31,32,31,31,31,30,29,30,29,30,30],1983:[18,31,31,32,32,31,30,30,29,30,29,30,30],1984:[17,31,32,31,32,31,30,30,30,29,29,30,31],1985:[18,31,31,31,32,31,31,29,30,30,29,30,30],1986:[18,31,31,32,31,31,31,30,29,30,29,30,30],1987:[18,31,32,31,32,31,30,30,29,30,29,30,30],1988:[17,31,32,31,32,31,30,30,30,29,29,30,31],1989:[18,31,31,31,32,31,31,30,29,30,29,30,30],1990:[18,31,31,32,31,31,31,30,29,30,29,30,30],1991:[18,31,32,31,32,31,30,30,29,30,29,30,30],1992:[17,31,32,31,32,31,30,30,30,29,30,29,31],1993:[18,31,31,31,32,31,31,30,29,30,29,30,30],1994:[18,31,31,32,31,31,31,30,29,30,29,30,30],1995:[17,31,32,31,32,31,30,30,30,29,29,30,30],1996:[17,31,32,31,32,31,30,30,30,29,30,29,31],1997:[18,31,31,32,31,31,31,30,29,30,29,30,30],1998:[18,31,31,32,31,31,31,30,29,30,29,30,30],1999:[17,31,32,31,32,31,30,30,30,29,29,30,31],2e3:[17,30,32,31,32,31,30,30,30,29,30,29,31],2001:[18,31,31,32,31,31,31,30,29,30,29,30,30],2002:[18,31,31,32,32,31,30,30,29,30,29,30,30],2003:[17,31,32,31,32,31,30,30,30,29,29,30,31],2004:[17,30,32,31,32,31,30,30,30,29,30,29,31],2005:[18,31,31,32,31,31,31,30,29,30,29,30,30],2006:[18,31,31,32,32,31,30,30,29,30,29,30,30],2007:[17,31,32,31,32,31,30,30,30,29,29,30,31],2008:[17,31,31,31,32,31,31,29,30,30,29,29,31],2009:[18,31,31,32,31,31,31,30,29,30,29,30,30],2010:[18,31,31,32,32,31,30,30,29,30,29,30,30],2011:[17,31,32,31,32,31,30,30,30,29,29,30,31],2012:[17,31,31,31,32,31,31,29,30,30,29,30,30],2013:[18,31,31,32,31,31,31,30,29,30,29,30,30],2014:[18,31,31,32,32,31,30,30,29,30,29,30,30],2015:[17,31,32,31,32,31,30,30,30,29,29,30,31],2016:[17,31,31,31,32,31,31,29,30,30,29,30,30],2017:[18,31,31,32,31,31,31,30,29,30,29,30,30],2018:[18,31,32,31,32,31,30,30,29,30,29,30,30],2019:[17,31,32,31,32,31,30,30,30,29,30,29,31],2020:[17,31,31,31,32,31,31,30,29,30,29,30,30],2021:[18,31,31,32,31,31,31,30,29,30,29,30,30],2022:[17,31,32,31,32,31,30,30,30,29,29,30,30],2023:[17,31,32,31,32,31,30,30,30,29,30,29,31],2024:[17,31,31,31,32,31,31,30,29,30,29,30,30],2025:[18,31,31,32,31,31,31,30,29,30,29,30,30],2026:[17,31,32,31,32,31,30,30,30,29,29,30,31],2027:[17,30,32,31,32,31,30,30,30,29,30,29,31],2028:[17,31,31,32,31,31,31,30,29,30,29,30,30],2029:[18,31,31,32,31,32,30,30,29,30,29,30,30],2030:[17,31,32,31,32,31,30,30,30,30,30,30,31],2031:[17,31,32,31,32,31,31,31,31,31,31,31,31],2032:[17,32,32,32,32,32,32,32,32,32,32,32,32],2033:[18,31,31,32,32,31,30,30,29,30,29,30,30],2034:[17,31,32,31,32,31,30,30,30,29,29,30,31],2035:[17,30,32,31,32,31,31,29,30,30,29,29,31],2036:[17,31,31,32,31,31,31,30,29,30,29,30,30],2037:[18,31,31,32,32,31,30,30,29,30,29,30,30],2038:[17,31,32,31,32,31,30,30,30,29,29,30,31],2039:[17,31,31,31,32,31,31,29,30,30,29,30,30],2040:[17,31,31,32,31,31,31,30,29,30,29,30,30],2041:[18,31,31,32,32,31,30,30,29,30,29,30,30],2042:[17,31,32,31,32,31,30,30,30,29,29,30,31],2043:[17,31,31,31,32,31,31,29,30,30,29,30,30],2044:[17,31,31,32,31,31,31,30,29,30,29,30,30],2045:[18,31,32,31,32,31,30,30,29,30,29,30,30],2046:[17,31,32,31,32,31,30,30,30,29,29,30,31],2047:[17,31,31,31,32,31,31,30,29,30,29,30,30],2048:[17,31,31,32,31,31,31,30,29,30,29,30,30],2049:[17,31,32,31,32,31,30,30,30,29,29,30,30],2050:[17,31,32,31,32,31,30,30,30,29,30,29,31],2051:[17,31,31,31,32,31,31,30,29,30,29,30,30],2052:[17,31,31,32,31,31,31,30,29,30,29,30,30],2053:[17,31,32,31,32,31,30,30,30,29,29,30,30],2054:[17,31,32,31,32,31,30,30,30,29,30,29,31],2055:[17,31,31,32,31,31,31,30,29,30,30,29,30],2056:[17,31,31,32,31,32,30,30,29,30,29,30,30],2057:[17,31,32,31,32,31,30,30,30,29,29,30,31],2058:[17,30,32,31,32,31,30,30,30,29,30,29,31],2059:[17,31,31,32,31,31,31,30,29,30,29,30,30],2060:[17,31,31,32,32,31,30,30,29,30,29,30,30],2061:[17,31,32,31,32,31,30,30,30,29,29,30,31],2062:[17,30,32,31,32,31,31,29,30,29,30,29,31],2063:[17,31,31,32,31,31,31,30,29,30,29,30,30],2064:[17,31,31,32,32,31,30,30,29,30,29,30,30],2065:[17,31,32,31,32,31,30,30,30,29,29,30,31],2066:[17,31,31,31,32,31,31,29,30,30,29,29,31],2067:[17,31,31,32,31,31,31,30,29,30,29,30,30],2068:[17,31,31,32,32,31,30,30,29,30,29,30,30],2069:[17,31,32,31,32,31,30,30,30,29,29,30,31],2070:[17,31,31,31,32,31,31,29,30,30,29,30,30],2071:[17,31,31,32,31,31,31,30,29,30,29,30,30],2072:[17,31,32,31,32,31,30,30,29,30,29,30,30],2073:[17,31,32,31,32,31,30,30,30,29,29,30,31],2074:[17,31,31,31,32,31,31,30,29,30,29,30,30],2075:[17,31,31,32,31,31,31,30,29,30,29,30,30],2076:[16,31,32,31,32,31,30,30,30,29,29,30,30],2077:[17,31,32,31,32,31,30,30,30,29,30,29,31],2078:[17,31,31,31,32,31,31,30,29,30,29,30,30],2079:[17,31,31,32,31,31,31,30,29,30,29,30,30],2080:[16,31,32,31,32,31,30,30,30,29,29,30,30],2081:[17,31,31,32,32,31,30,30,30,29,30,30,30],2082:[17,31,32,31,32,31,30,30,30,29,30,30,30],2083:[17,31,31,32,31,31,30,30,30,29,30,30,30],2084:[17,31,31,32,31,31,30,30,30,29,30,30,30],2085:[17,31,32,31,32,31,31,30,30,29,30,30,30],2086:[17,31,32,31,32,31,30,30,30,29,30,30,30],2087:[16,31,31,32,31,31,31,30,30,29,30,30,30],2088:[16,30,31,32,32,30,31,30,30,29,30,30,30],2089:[17,31,32,31,32,31,30,30,30,29,30,30,30],2090:[17,31,32,31,32,31,30,30,30,29,30,30,30],2091:[16,31,31,32,31,31,31,30,30,29,30,30,30],2092:[16,31,31,32,32,31,30,30,30,29,30,30,30],2093:[17,31,32,31,32,31,30,30,30,29,30,30,30],2094:[17,31,31,32,31,31,30,30,30,29,30,30,30],2095:[17,31,31,32,31,31,31,30,29,30,30,30,30],2096:[17,30,31,32,32,31,30,30,29,30,29,30,30],2097:[17,31,32,31,32,31,30,30,30,29,30,30,30],2098:[17,31,31,32,31,31,31,29,30,29,30,30,31],2099:[17,31,31,32,31,31,31,30,29,29,30,30,30],2100:[17,31,32,31,32,30,31,30,29,30,29,30,30]}}),I.calendars.nepali=f},94320:function(oe,j,r){var I=r(63489);function f(M){this.local=this.regionalOptions[M||""]||this.regionalOptions[""]}function S(M,y){return M-y*Math.floor(M/y)}r(56131)(f.prototype=new I.baseCalendar,{name:"Persian",jdEpoch:1948320.5,daysPerMonth:[31,31,31,31,31,31,30,30,30,30,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Persian",epochs:["BP","AP"],monthNames:["Farvardin","Ordibehesht","Khordad","Tir","Mordad","Shahrivar","Mehr","Aban","Azar","Day","Bahman","Esfand"],monthNamesShort:["Far","Ord","Kho","Tir","Mor","Sha","Meh","Aba","Aza","Day","Bah","Esf"],dayNames:["Yekshambe","Doshambe","Seshambe","Ch\xe6harshambe","Panjshambe","Jom'e","Shambe"],dayNamesShort:["Yek","Do","Se","Ch\xe6","Panj","Jom","Sha"],dayNamesMin:["Ye","Do","Se","Ch","Pa","Jo","Sh"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(M){var y=this._validate(M,this.minMonth,this.minDay,I.local.invalidYear);return 682*((y.year()-(y.year()>0?474:473))%2820+474+38)%2816<682},weekOfYear:function(M,y,u){var i=this.newDate(M,y,u);return i.add(-(i.dayOfWeek()+1)%7,"d"),Math.floor((i.dayOfYear()-1)/7)+1},daysInMonth:function(M,y){var u=this._validate(M,y,this.minDay,I.local.invalidMonth);return this.daysPerMonth[u.month()-1]+(12===u.month()&&this.leapYear(u.year())?1:0)},weekDay:function(M,y,u){return 5!==this.dayOfWeek(M,y,u)},toJD:function(M,y,u){var i=this._validate(M,y,u,I.local.invalidDate);M=i.year(),y=i.month(),u=i.day();var s=M-(M>=0?474:473),a=474+S(s,2820);return u+(y<=7?31*(y-1):30*(y-1)+6)+Math.floor((682*a-110)/2816)+365*(a-1)+1029983*Math.floor(s/2820)+this.jdEpoch-1},fromJD:function(M){var y=(M=Math.floor(M)+.5)-this.toJD(475,1,1),u=Math.floor(y/1029983),i=S(y,1029983),s=2820;if(1029982!==i){var a=Math.floor(i/366),o=S(i,366);s=Math.floor((2134*a+2816*o+2815)/1028522)+a+1}var l=s+2820*u+474,c=M-this.toJD(l=l<=0?l-1:l,1,1)+1,h=c<=186?Math.ceil(c/31):Math.ceil((c-6)/30),v=M-this.toJD(l,h,1)+1;return this.newDate(l,h,v)}}),I.calendars.persian=f,I.calendars.jalali=f},31320:function(oe,j,r){var I=r(63489),E=r(56131),f=I.instance();function S(M){this.local=this.regionalOptions[M||""]||this.regionalOptions[""]}E(S.prototype=new I.baseCalendar,{name:"Taiwan",jdEpoch:2419402.5,yearsOffset:1911,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Taiwan",epochs:["BROC","ROC"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},leapYear:function(M){var y=this._validate(M,this.minMonth,this.minDay,I.local.invalidYear);return M=this._t2gYear(y.year()),f.leapYear(M)},weekOfYear:function(M,y,u){var i=this._validate(M,this.minMonth,this.minDay,I.local.invalidYear);return M=this._t2gYear(i.year()),f.weekOfYear(M,i.month(),i.day())},daysInMonth:function(M,y){var u=this._validate(M,y,this.minDay,I.local.invalidMonth);return this.daysPerMonth[u.month()-1]+(2===u.month()&&this.leapYear(u.year())?1:0)},weekDay:function(M,y,u){return(this.dayOfWeek(M,y,u)||7)<6},toJD:function(M,y,u){var i=this._validate(M,y,u,I.local.invalidDate);return M=this._t2gYear(i.year()),f.toJD(M,i.month(),i.day())},fromJD:function(M){var y=f.fromJD(M),u=this._g2tYear(y.year());return this.newDate(u,y.month(),y.day())},_t2gYear:function(M){return M+this.yearsOffset+(M>=-this.yearsOffset&&M<=-1?1:0)},_g2tYear:function(M){return M-this.yearsOffset-(M>=1&&M<=this.yearsOffset?1:0)}}),I.calendars.taiwan=S},51367:function(oe,j,r){var I=r(63489),E=r(56131),f=I.instance();function S(M){this.local=this.regionalOptions[M||""]||this.regionalOptions[""]}E(S.prototype=new I.baseCalendar,{name:"Thai",jdEpoch:1523098.5,yearsOffset:543,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Thai",epochs:["BBE","BE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(M){var y=this._validate(M,this.minMonth,this.minDay,I.local.invalidYear);return M=this._t2gYear(y.year()),f.leapYear(M)},weekOfYear:function(M,y,u){var i=this._validate(M,this.minMonth,this.minDay,I.local.invalidYear);return M=this._t2gYear(i.year()),f.weekOfYear(M,i.month(),i.day())},daysInMonth:function(M,y){var u=this._validate(M,y,this.minDay,I.local.invalidMonth);return this.daysPerMonth[u.month()-1]+(2===u.month()&&this.leapYear(u.year())?1:0)},weekDay:function(M,y,u){return(this.dayOfWeek(M,y,u)||7)<6},toJD:function(M,y,u){var i=this._validate(M,y,u,I.local.invalidDate);return M=this._t2gYear(i.year()),f.toJD(M,i.month(),i.day())},fromJD:function(M){var y=f.fromJD(M),u=this._g2tYear(y.year());return this.newDate(u,y.month(),y.day())},_t2gYear:function(M){return M-this.yearsOffset-(M>=1&&M<=this.yearsOffset?1:0)},_g2tYear:function(M){return M+this.yearsOffset+(M>=-this.yearsOffset&&M<=-1?1:0)}}),I.calendars.thai=S},21457:function(oe,j,r){var I=r(63489);function f(M){this.local=this.regionalOptions[M||""]||this.regionalOptions[""]}r(56131)(f.prototype=new I.baseCalendar,{name:"UmmAlQura",hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Umm al-Qura",epochs:["BH","AH"],monthNames:["Al-Muharram","Safar","Rabi' al-awwal","Rabi' Al-Thani","Jumada Al-Awwal","Jumada Al-Thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-Ahad","Yawm al-Ithnain","Yawm al-Thal\u0101th\u0101\u2019","Yawm al-Arba\u2018\u0101\u2019","Yawm al-Kham\u012bs","Yawm al-Jum\u2018a","Yawm al-Sabt"],dayNamesMin:["Ah","Ith","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!0}},leapYear:function(M){var y=this._validate(M,this.minMonth,this.minDay,I.local.invalidYear);return 355===this.daysInYear(y.year())},weekOfYear:function(M,y,u){var i=this.newDate(M,y,u);return i.add(-i.dayOfWeek(),"d"),Math.floor((i.dayOfYear()-1)/7)+1},daysInYear:function(M){for(var y=0,u=1;u<=12;u++)y+=this.daysInMonth(M,u);return y},daysInMonth:function(M,y){for(var u=this._validate(M,y,this.minDay,I.local.invalidMonth).toJD()-24e5+.5,i=0,s=0;s<S.length;s++){if(S[s]>u)return S[i]-S[i-1];i++}return 30},weekDay:function(M,y,u){return 5!==this.dayOfWeek(M,y,u)},toJD:function(M,y,u){var i=this._validate(M,y,u,I.local.invalidDate),s=12*(i.year()-1)+i.month()-15292;return i.day()+S[s-1]-1+24e5-.5},fromJD:function(M){for(var y=M-24e5+.5,u=0,i=0;i<S.length&&!(S[i]>y);i++)u++;var s=u+15292,a=Math.floor((s-1)/12);return this.newDate(a+1,s-12*a,y-S[u-1]+1)},isValid:function(M,y,u){var i=I.baseCalendar.prototype.isValid.apply(this,arguments);return i&&(i=(M=null!=M.year?M.year:M)>=1276&&M<=1500),i},_validate:function(M,y,u,i){var s=I.baseCalendar.prototype._validate.apply(this,arguments);if(s.year<1276||s.year>1500)throw i.replace(/\{0\}/,this.local.name);return s}}),I.calendars.ummalqura=f;var S=[20,50,79,109,138,168,197,227,256,286,315,345,374,404,433,463,492,522,551,581,611,641,670,700,729,759,788,818,847,877,906,936,965,995,1024,1054,1083,1113,1142,1172,1201,1231,1260,1290,1320,1350,1379,1409,1438,1468,1497,1527,1556,1586,1615,1645,1674,1704,1733,1763,1792,1822,1851,1881,1910,1940,1969,1999,2028,2058,2087,2117,2146,2176,2205,2235,2264,2294,2323,2353,2383,2413,2442,2472,2501,2531,2560,2590,2619,2649,2678,2708,2737,2767,2796,2826,2855,2885,2914,2944,2973,3003,3032,3062,3091,3121,3150,3180,3209,3239,3268,3298,3327,3357,3386,3416,3446,3476,3505,3535,3564,3594,3623,3653,3682,3712,3741,3771,3800,3830,3859,3889,3918,3948,3977,4007,4036,4066,4095,4125,4155,4185,4214,4244,4273,4303,4332,4362,4391,4421,4450,4480,4509,4539,4568,4598,4627,4657,4686,4716,4745,4775,4804,4834,4863,4893,4922,4952,4981,5011,5040,5070,5099,5129,5158,5188,5218,5248,5277,5307,5336,5366,5395,5425,5454,5484,5513,5543,5572,5602,5631,5661,5690,5720,5749,5779,5808,5838,5867,5897,5926,5956,5985,6015,6044,6074,6103,6133,6162,6192,6221,6251,6281,6311,6340,6370,6399,6429,6458,6488,6517,6547,6576,6606,6635,6665,6694,6724,6753,6783,6812,6842,6871,6901,6930,6960,6989,7019,7048,7078,7107,7137,7166,7196,7225,7255,7284,7314,7344,7374,7403,7433,7462,7492,7521,7551,7580,7610,7639,7669,7698,7728,7757,7787,7816,7846,7875,7905,7934,7964,7993,8023,8053,8083,8112,8142,8171,8201,8230,8260,8289,8319,8348,8378,8407,8437,8466,8496,8525,8555,8584,8614,8643,8673,8702,8732,8761,8791,8821,8850,8880,8909,8938,8968,8997,9027,9056,9086,9115,9145,9175,9205,9234,9264,9293,9322,9352,9381,9410,9440,9470,9499,9529,9559,9589,9618,9648,9677,9706,9736,9765,9794,9824,9853,9883,9913,9943,9972,10002,10032,10061,10090,10120,10149,10178,10208,10237,10267,10297,10326,10356,10386,10415,10445,10474,10504,10533,10562,10592,10621,10651,10680,10710,10740,10770,10799,10829,10858,10888,10917,10947,10976,11005,11035,11064,11094,11124,11153,11183,11213,11242,11272,11301,11331,11360,11389,11419,11448,11478,11507,11537,11567,11596,11626,11655,11685,11715,11744,11774,11803,11832,11862,11891,11921,11950,11980,12010,12039,12069,12099,12128,12158,12187,12216,12246,12275,12304,12334,12364,12393,12423,12453,12483,12512,12542,12571,12600,12630,12659,12688,12718,12747,12777,12807,12837,12866,12896,12926,12955,12984,13014,13043,13072,13102,13131,13161,13191,13220,13250,13280,13310,13339,13368,13398,13427,13456,13486,13515,13545,13574,13604,13634,13664,13693,13723,13752,13782,13811,13840,13870,13899,13929,13958,13988,14018,14047,14077,14107,14136,14166,14195,14224,14254,14283,14313,14342,14372,14401,14431,14461,14490,14520,14550,14579,14609,14638,14667,14697,14726,14756,14785,14815,14844,14874,14904,14933,14963,14993,15021,15051,15081,15110,15140,15169,15199,15228,15258,15287,15317,15347,15377,15406,15436,15465,15494,15524,15553,15582,15612,15641,15671,15701,15731,15760,15790,15820,15849,15878,15908,15937,15966,15996,16025,16055,16085,16114,16144,16174,16204,16233,16262,16292,16321,16350,16380,16409,16439,16468,16498,16528,16558,16587,16617,16646,16676,16705,16734,16764,16793,16823,16852,16882,16912,16941,16971,17001,17030,17060,17089,17118,17148,17177,17207,17236,17266,17295,17325,17355,17384,17414,17444,17473,17502,17532,17561,17591,17620,17650,17679,17709,17738,17768,17798,17827,17857,17886,17916,17945,17975,18004,18034,18063,18093,18122,18152,18181,18211,18241,18270,18300,18330,18359,18388,18418,18447,18476,18506,18535,18565,18595,18625,18654,18684,18714,18743,18772,18802,18831,18860,18890,18919,18949,18979,19008,19038,19068,19098,19127,19156,19186,19215,19244,19274,19303,19333,19362,19392,19422,19452,19481,19511,19540,19570,19599,19628,19658,19687,19717,19746,19776,19806,19836,19865,19895,19924,19954,19983,20012,20042,20071,20101,20130,20160,20190,20219,20249,20279,20308,20338,20367,20396,20426,20455,20485,20514,20544,20573,20603,20633,20662,20692,20721,20751,20780,20810,20839,20869,20898,20928,20957,20987,21016,21046,21076,21105,21135,21164,21194,21223,21253,21282,21312,21341,21371,21400,21430,21459,21489,21519,21548,21578,21607,21637,21666,21696,21725,21754,21784,21813,21843,21873,21902,21932,21962,21991,22021,22050,22080,22109,22138,22168,22197,22227,22256,22286,22316,22346,22375,22405,22434,22464,22493,22522,22552,22581,22611,22640,22670,22700,22730,22759,22789,22818,22848,22877,22906,22936,22965,22994,23024,23054,23083,23113,23143,23173,23202,23232,23261,23290,23320,23349,23379,23408,23438,23467,23497,23527,23556,23586,23616,23645,23674,23704,23733,23763,23792,23822,23851,23881,23910,23940,23970,23999,24029,24058,24088,24117,24147,24176,24206,24235,24265,24294,24324,24353,24383,24413,24442,24472,24501,24531,24560,24590,24619,24648,24678,24707,24737,24767,24796,24826,24856,24885,24915,24944,24974,25003,25032,25062,25091,25121,25150,25180,25210,25240,25269,25299,25328,25358,25387,25416,25446,25475,25505,25534,25564,25594,25624,25653,25683,25712,25742,25771,25800,25830,25859,25888,25918,25948,25977,26007,26037,26067,26096,26126,26155,26184,26214,26243,26272,26302,26332,26361,26391,26421,26451,26480,26510,26539,26568,26598,26627,26656,26686,26715,26745,26775,26805,26834,26864,26893,26923,26952,26982,27011,27041,27070,27099,27129,27159,27188,27218,27248,27277,27307,27336,27366,27395,27425,27454,27484,27513,27542,27572,27602,27631,27661,27691,27720,27750,27779,27809,27838,27868,27897,27926,27956,27985,28015,28045,28074,28104,28134,28163,28193,28222,28252,28281,28310,28340,28369,28399,28428,28458,28488,28517,28547,28577,28607,28636,28665,28695,28724,28754,28783,28813,28843,28872,28901,28931,28960,28990,29019,29049,29078,29108,29137,29167,29196,29226,29255,29285,29315,29345,29375,29404,29434,29463,29492,29522,29551,29580,29610,29640,29669,29699,29729,29759,29788,29818,29847,29876,29906,29935,29964,29994,30023,30053,30082,30112,30141,30171,30200,30230,30259,30289,30318,30348,30378,30408,30437,30467,30496,30526,30555,30585,30614,30644,30673,30703,30732,30762,30791,30821,30850,30880,30909,30939,30968,30998,31027,31057,31086,31116,31145,31175,31204,31234,31263,31293,31322,31352,31381,31411,31441,31471,31500,31530,31559,31589,31618,31648,31676,31706,31736,31766,31795,31825,31854,31884,31913,31943,31972,32002,32031,32061,32090,32120,32150,32180,32209,32239,32268,32298,32327,32357,32386,32416,32445,32475,32504,32534,32563,32593,32622,32652,32681,32711,32740,32770,32799,32829,32858,32888,32917,32947,32976,33006,33035,33065,33094,33124,33153,33183,33213,33243,33272,33302,33331,33361,33390,33420,33450,33479,33509,33539,33568,33598,33627,33657,33686,33716,33745,33775,33804,33834,33863,33893,33922,33952,33981,34011,34040,34069,34099,34128,34158,34187,34217,34247,34277,34306,34336,34365,34395,34424,34454,34483,34512,34542,34571,34601,34631,34660,34690,34719,34749,34778,34808,34837,34867,34896,34926,34955,34985,35015,35044,35074,35103,35133,35162,35192,35222,35251,35280,35310,35340,35370,35399,35429,35458,35488,35517,35547,35576,35605,35635,35665,35694,35723,35753,35782,35811,35841,35871,35901,35930,35960,35989,36019,36048,36078,36107,36136,36166,36195,36225,36254,36284,36314,36343,36373,36403,36433,36462,36492,36521,36551,36580,36610,36639,36669,36698,36728,36757,36786,36816,36845,36875,36904,36934,36963,36993,37022,37052,37081,37111,37141,37170,37200,37229,37259,37288,37318,37347,37377,37406,37436,37465,37495,37524,37554,37584,37613,37643,37672,37701,37731,37760,37790,37819,37849,37878,37908,37938,37967,37997,38027,38056,38085,38115,38144,38174,38203,38233,38262,38292,38322,38351,38381,38410,38440,38469,38499,38528,38558,38587,38617,38646,38676,38705,38735,38764,38794,38823,38853,38882,38912,38941,38971,39001,39030,39059,39089,39118,39148,39178,39208,39237,39267,39297,39326,39355,39385,39414,39444,39473,39503,39532,39562,39592,39621,39650,39680,39709,39739,39768,39798,39827,39857,39886,39916,39946,39975,40005,40035,40064,40094,40123,40153,40182,40212,40241,40271,40300,40330,40359,40389,40418,40448,40477,40507,40536,40566,40595,40625,40655,40685,40714,40744,40773,40803,40832,40862,40892,40921,40951,40980,41009,41039,41068,41098,41127,41157,41186,41216,41245,41275,41304,41334,41364,41393,41422,41452,41481,41511,41540,41570,41599,41629,41658,41688,41718,41748,41777,41807,41836,41865,41894,41924,41953,41983,42012,42042,42072,42102,42131,42161,42190,42220,42249,42279,42308,42337,42367,42397,42426,42456,42485,42515,42545,42574,42604,42633,42662,42692,42721,42751,42780,42810,42839,42869,42899,42929,42958,42988,43017,43046,43076,43105,43135,43164,43194,43223,43253,43283,43312,43342,43371,43401,43430,43460,43489,43519,43548,43578,43607,43637,43666,43696,43726,43755,43785,43814,43844,43873,43903,43932,43962,43991,44021,44050,44080,44109,44139,44169,44198,44228,44258,44287,44317,44346,44375,44405,44434,44464,44493,44523,44553,44582,44612,44641,44671,44700,44730,44759,44788,44818,44847,44877,44906,44936,44966,44996,45025,45055,45084,45114,45143,45172,45202,45231,45261,45290,45320,45350,45380,45409,45439,45468,45498,45527,45556,45586,45615,45644,45674,45704,45733,45763,45793,45823,45852,45882,45911,45940,45970,45999,46028,46058,46088,46117,46147,46177,46206,46236,46265,46295,46324,46354,46383,46413,46442,46472,46501,46531,46560,46590,46620,46649,46679,46708,46738,46767,46797,46826,46856,46885,46915,46944,46974,47003,47033,47063,47092,47122,47151,47181,47210,47240,47269,47298,47328,47357,47387,47417,47446,47476,47506,47535,47565,47594,47624,47653,47682,47712,47741,47771,47800,47830,47860,47890,47919,47949,47978,48008,48037,48066,48096,48125,48155,48184,48214,48244,48273,48303,48333,48362,48392,48421,48450,48480,48509,48538,48568,48598,48627,48657,48687,48717,48746,48776,48805,48834,48864,48893,48922,48952,48982,49011,49041,49071,49100,49130,49160,49189,49218,49248,49277,49306,49336,49365,49395,49425,49455,49484,49514,49543,49573,49602,49632,49661,49690,49720,49749,49779,49809,49838,49868,49898,49927,49957,49986,50016,50045,50075,50104,50133,50163,50192,50222,50252,50281,50311,50340,50370,50400,50429,50459,50488,50518,50547,50576,50606,50635,50665,50694,50724,50754,50784,50813,50843,50872,50902,50931,50960,50990,51019,51049,51078,51108,51138,51167,51197,51227,51256,51286,51315,51345,51374,51403,51433,51462,51492,51522,51552,51582,51611,51641,51670,51699,51729,51758,51787,51816,51846,51876,51906,51936,51965,51995,52025,52054,52083,52113,52142,52171,52200,52230,52260,52290,52319,52349,52379,52408,52438,52467,52497,52526,52555,52585,52614,52644,52673,52703,52733,52762,52792,52822,52851,52881,52910,52939,52969,52998,53028,53057,53087,53116,53146,53176,53205,53235,53264,53294,53324,53353,53383,53412,53441,53471,53500,53530,53559,53589,53619,53648,53678,53708,53737,53767,53796,53825,53855,53884,53913,53943,53973,54003,54032,54062,54092,54121,54151,54180,54209,54239,54268,54297,54327,54357,54387,54416,54446,54476,54505,54535,54564,54593,54623,54652,54681,54711,54741,54770,54800,54830,54859,54889,54919,54948,54977,55007,55036,55066,55095,55125,55154,55184,55213,55243,55273,55302,55332,55361,55391,55420,55450,55479,55508,55538,55567,55597,55627,55657,55686,55716,55745,55775,55804,55834,55863,55892,55922,55951,55981,56011,56040,56070,56100,56129,56159,56188,56218,56247,56276,56306,56335,56365,56394,56424,56454,56483,56513,56543,56572,56601,56631,56660,56690,56719,56749,56778,56808,56837,56867,56897,56926,56956,56985,57015,57044,57074,57103,57133,57162,57192,57221,57251,57280,57310,57340,57369,57399,57429,57458,57487,57517,57546,57576,57605,57634,57664,57694,57723,57753,57783,57813,57842,57871,57901,57930,57959,57989,58018,58048,58077,58107,58137,58167,58196,58226,58255,58285,58314,58343,58373,58402,58432,58461,58491,58521,58551,58580,58610,58639,58669,58698,58727,58757,58786,58816,58845,58875,58905,58934,58964,58994,59023,59053,59082,59111,59141,59170,59200,59229,59259,59288,59318,59348,59377,59407,59436,59466,59495,59525,59554,59584,59613,59643,59672,59702,59731,59761,59791,59820,59850,59879,59909,59939,59968,59997,60027,60056,60086,60115,60145,60174,60204,60234,60264,60293,60323,60352,60381,60411,60440,60469,60499,60528,60558,60588,60618,60648,60677,60707,60736,60765,60795,60824,60853,60883,60912,60942,60972,61002,61031,61061,61090,61120,61149,61179,61208,61237,61267,61296,61326,61356,61385,61415,61445,61474,61504,61533,61563,61592,61621,61651,61680,61710,61739,61769,61799,61828,61858,61888,61917,61947,61976,62006,62035,62064,62094,62123,62153,62182,62212,62242,62271,62301,62331,62360,62390,62419,62448,62478,62507,62537,62566,62596,62625,62655,62685,62715,62744,62774,62803,62832,62862,62891,62921,62950,62980,63009,63039,63069,63099,63128,63157,63187,63216,63246,63275,63305,63334,63363,63393,63423,63453,63482,63512,63541,63571,63600,63630,63659,63689,63718,63747,63777,63807,63836,63866,63895,63925,63955,63984,64014,64043,64073,64102,64131,64161,64190,64220,64249,64279,64309,64339,64368,64398,64427,64457,64486,64515,64545,64574,64603,64633,64663,64692,64722,64752,64782,64811,64841,64870,64899,64929,64958,64987,65017,65047,65076,65106,65136,65166,65195,65225,65254,65283,65313,65342,65371,65401,65431,65460,65490,65520,65549,65579,65608,65638,65667,65697,65726,65755,65785,65815,65844,65874,65903,65933,65963,65992,66022,66051,66081,66110,66140,66169,66199,66228,66258,66287,66317,66346,66376,66405,66435,66465,66494,66524,66553,66583,66612,66641,66671,66700,66730,66760,66789,66819,66849,66878,66908,66937,66967,66996,67025,67055,67084,67114,67143,67173,67203,67233,67262,67292,67321,67351,67380,67409,67439,67468,67497,67527,67557,67587,67617,67646,67676,67705,67735,67764,67793,67823,67852,67882,67911,67941,67971,68e3,68030,68060,68089,68119,68148,68177,68207,68236,68266,68295,68325,68354,68384,68414,68443,68473,68502,68532,68561,68591,68620,68650,68679,68708,68738,68768,68797,68827,68857,68886,68916,68946,68975,69004,69034,69063,69092,69122,69152,69181,69211,69240,69270,69300,69330,69359,69388,69418,69447,69476,69506,69535,69565,69595,69624,69654,69684,69713,69743,69772,69802,69831,69861,69890,69919,69949,69978,70008,70038,70067,70097,70126,70156,70186,70215,70245,70274,70303,70333,70362,70392,70421,70451,70481,70510,70540,70570,70599,70629,70658,70687,70717,70746,70776,70805,70835,70864,70894,70924,70954,70983,71013,71042,71071,71101,71130,71159,71189,71218,71248,71278,71308,71337,71367,71397,71426,71455,71485,71514,71543,71573,71602,71632,71662,71691,71721,71751,71781,71810,71839,71869,71898,71927,71957,71986,72016,72046,72075,72105,72135,72164,72194,72223,72253,72282,72311,72341,72370,72400,72429,72459,72489,72518,72548,72577,72607,72637,72666,72695,72725,72754,72784,72813,72843,72872,72902,72931,72961,72991,73020,73050,73080,73109,73139,73168,73197,73227,73256,73286,73315,73345,73375,73404,73434,73464,73493,73523,73552,73581,73611,73640,73669,73699,73729,73758,73788,73818,73848,73877,73907,73936,73965,73995,74024,74053,74083,74113,74142,74172,74202,74231,74261,74291,74320,74349,74379,74408,74437,74467,74497,74526,74556,74586,74615,74645,74675,74704,74733,74763,74792,74822,74851,74881,74910,74940,74969,74999,75029,75058,75088,75117,75147,75176,75206,75235,75264,75294,75323,75353,75383,75412,75442,75472,75501,75531,75560,75590,75619,75648,75678,75707,75737,75766,75796,75826,75856,75885,75915,75944,75974,76003,76032,76062,76091,76121,76150,76180,76210,76239,76269,76299,76328,76358,76387,76416,76446,76475,76505,76534,76564,76593,76623,76653,76682,76712,76741,76771,76801,76830,76859,76889,76918,76948,76977,77007,77036,77066,77096,77125,77155,77185,77214,77243,77273,77302,77332,77361,77390,77420,77450,77479,77509,77539,77569,77598,77627,77657,77686,77715,77745,77774,77804,77833,77863,77893,77923,77952,77982,78011,78041,78070,78099,78129,78158,78188,78217,78247,78277,78307,78336,78366,78395,78425,78454,78483,78513,78542,78572,78601,78631,78661,78690,78720,78750,78779,78808,78838,78867,78897,78926,78956,78985,79015,79044,79074,79104,79133,79163,79192,79222,79251,79281,79310,79340,79369,79399,79428,79458,79487,79517,79546,79576,79606,79635,79665,79695,79724,79753,79783,79812,79841,79871,79900,79930,79960,79990]},63489:function(oe,j,r){var I=r(56131);function E(){this.regionalOptions=[],this.regionalOptions[""]={invalidCalendar:"Calendar {0} not found",invalidDate:"Invalid {0} date",invalidMonth:"Invalid {0} month",invalidYear:"Invalid {0} year",differentCalendars:"Cannot mix {0} and {1} dates"},this.local=this.regionalOptions[""],this.calendars={},this._localCals={}}function f(i,s,a,o){if(this._calendar=i,this._year=s,this._month=a,this._day=o,0===this._calendar._validateLevel&&!this._calendar.isValid(this._year,this._month,this._day))throw(u.local.invalidDate||u.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name)}function S(i,s){return"000000".substring(0,s-(i=""+i).length)+i}function M(){this.shortYearCutoff="+10"}function y(i){this.local=this.regionalOptions[i]||this.regionalOptions[""]}I(E.prototype,{instance:function(i,s){i=(i||"gregorian").toLowerCase();var a=this._localCals[i+"-"+(s=s||"")];if(!a&&this.calendars[i]&&(a=new this.calendars[i](s),this._localCals[i+"-"+s]=a),!a)throw(this.local.invalidCalendar||this.regionalOptions[""].invalidCalendar).replace(/\{0\}/,i);return a},newDate:function(i,s,a,o,l){return(o=(null!=i&&i.year?i.calendar():"string"==typeof o?this.instance(o,l):o)||this.instance()).newDate(i,s,a)},substituteDigits:function(i){return function(s){return(s+"").replace(/[0-9]/g,function(a){return i[a]})}},substituteChineseDigits:function(i,s){return function(a){for(var o="",l=0;a>0;){var c=a%10;o=(0===c?"":i[c]+s[l])+o,l++,a=Math.floor(a/10)}return 0===o.indexOf(i[1]+s[1])&&(o=o.substr(1)),o||i[0]}}}),I(f.prototype,{newDate:function(i,s,a){return this._calendar.newDate(i??this,s,a)},year:function(i){return 0===arguments.length?this._year:this.set(i,"y")},month:function(i){return 0===arguments.length?this._month:this.set(i,"m")},day:function(i){return 0===arguments.length?this._day:this.set(i,"d")},date:function(i,s,a){if(!this._calendar.isValid(i,s,a))throw(u.local.invalidDate||u.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name);return this._year=i,this._month=s,this._day=a,this},leapYear:function(){return this._calendar.leapYear(this)},epoch:function(){return this._calendar.epoch(this)},formatYear:function(){return this._calendar.formatYear(this)},monthOfYear:function(){return this._calendar.monthOfYear(this)},weekOfYear:function(){return this._calendar.weekOfYear(this)},daysInYear:function(){return this._calendar.daysInYear(this)},dayOfYear:function(){return this._calendar.dayOfYear(this)},daysInMonth:function(){return this._calendar.daysInMonth(this)},dayOfWeek:function(){return this._calendar.dayOfWeek(this)},weekDay:function(){return this._calendar.weekDay(this)},extraInfo:function(){return this._calendar.extraInfo(this)},add:function(i,s){return this._calendar.add(this,i,s)},set:function(i,s){return this._calendar.set(this,i,s)},compareTo:function(i){if(this._calendar.name!==i._calendar.name)throw(u.local.differentCalendars||u.regionalOptions[""].differentCalendars).replace(/\{0\}/,this._calendar.local.name).replace(/\{1\}/,i._calendar.local.name);var s=this._year!==i._year?this._year-i._year:this._month!==i._month?this.monthOfYear()-i.monthOfYear():this._day-i._day;return 0===s?0:s<0?-1:1},calendar:function(){return this._calendar},toJD:function(){return this._calendar.toJD(this)},fromJD:function(i){return this._calendar.fromJD(i)},toJSDate:function(){return this._calendar.toJSDate(this)},fromJSDate:function(i){return this._calendar.fromJSDate(i)},toString:function(){return(this.year()<0?"-":"")+S(Math.abs(this.year()),4)+"-"+S(this.month(),2)+"-"+S(this.day(),2)}}),I(M.prototype,{_validateLevel:0,newDate:function(i,s,a){return null==i?this.today():(i.year&&(this._validate(i,s,a,u.local.invalidDate||u.regionalOptions[""].invalidDate),a=i.day(),s=i.month(),i=i.year()),new f(this,i,s,a))},today:function(){return this.fromJSDate(new Date)},epoch:function(i){return this._validate(i,this.minMonth,this.minDay,u.local.invalidYear||u.regionalOptions[""].invalidYear).year()<0?this.local.epochs[0]:this.local.epochs[1]},formatYear:function(i){var s=this._validate(i,this.minMonth,this.minDay,u.local.invalidYear||u.regionalOptions[""].invalidYear);return(s.year()<0?"-":"")+S(Math.abs(s.year()),4)},monthsInYear:function(i){return this._validate(i,this.minMonth,this.minDay,u.local.invalidYear||u.regionalOptions[""].invalidYear),12},monthOfYear:function(i,s){var a=this._validate(i,s,this.minDay,u.local.invalidMonth||u.regionalOptions[""].invalidMonth);return(a.month()+this.monthsInYear(a)-this.firstMonth)%this.monthsInYear(a)+this.minMonth},fromMonthOfYear:function(i,s){var a=(s+this.firstMonth-2*this.minMonth)%this.monthsInYear(i)+this.minMonth;return this._validate(i,a,this.minDay,u.local.invalidMonth||u.regionalOptions[""].invalidMonth),a},daysInYear:function(i){var s=this._validate(i,this.minMonth,this.minDay,u.local.invalidYear||u.regionalOptions[""].invalidYear);return this.leapYear(s)?366:365},dayOfYear:function(i,s,a){var o=this._validate(i,s,a,u.local.invalidDate||u.regionalOptions[""].invalidDate);return o.toJD()-this.newDate(o.year(),this.fromMonthOfYear(o.year(),this.minMonth),this.minDay).toJD()+1},daysInWeek:function(){return 7},dayOfWeek:function(i,s,a){var o=this._validate(i,s,a,u.local.invalidDate||u.regionalOptions[""].invalidDate);return(Math.floor(this.toJD(o))+2)%this.daysInWeek()},extraInfo:function(i,s,a){return this._validate(i,s,a,u.local.invalidDate||u.regionalOptions[""].invalidDate),{}},add:function(i,s,a){return this._validate(i,this.minMonth,this.minDay,u.local.invalidDate||u.regionalOptions[""].invalidDate),this._correctAdd(i,this._add(i,s,a),s,a)},_add:function(i,s,a){if(this._validateLevel++,"d"===a||"w"===a){var o=i.toJD()+s*("w"===a?this.daysInWeek():1),l=i.calendar().fromJD(o);return this._validateLevel--,[l.year(),l.month(),l.day()]}try{var c=i.year()+("y"===a?s:0),h=i.monthOfYear()+("m"===a?s:0);l=i.day(),"y"===a?(i.month()!==this.fromMonthOfYear(c,h)&&(h=this.newDate(c,i.month(),this.minDay).monthOfYear()),h=Math.min(h,this.monthsInYear(c)),l=Math.min(l,this.daysInMonth(c,this.fromMonthOfYear(c,h)))):"m"===a&&(function(p){for(;h<p.minMonth;)c--,h+=p.monthsInYear(c);for(var T=p.monthsInYear(c);h>T-1+p.minMonth;)c++,h-=T,T=p.monthsInYear(c)}(this),l=Math.min(l,this.daysInMonth(c,this.fromMonthOfYear(c,h))));var v=[c,this.fromMonthOfYear(c,h),l];return this._validateLevel--,v}catch(p){throw this._validateLevel--,p}},_correctAdd:function(i,s,a,o){if(!(this.hasYearZero||"y"!==o&&"m"!==o||0!==s[0]&&i.year()>0==s[0]>0)){var l={y:[1,1,"y"],m:[1,this.monthsInYear(-1),"m"],w:[this.daysInWeek(),this.daysInYear(-1),"d"],d:[1,this.daysInYear(-1),"d"]}[o];s=this._add(i,a*l[0]+(a<0?-1:1)*l[1],l[2])}return i.date(s[0],s[1],s[2])},set:function(i,s,a){this._validate(i,this.minMonth,this.minDay,u.local.invalidDate||u.regionalOptions[""].invalidDate);var o="y"===a?s:i.year(),l="m"===a?s:i.month(),c="d"===a?s:i.day();return"y"!==a&&"m"!==a||(c=Math.min(c,this.daysInMonth(o,l))),i.date(o,l,c)},isValid:function(i,s,a){this._validateLevel++;var o=this.hasYearZero||0!==i;if(o){var l=this.newDate(i,s,this.minDay);o=s>=this.minMonth&&s-this.minMonth<this.monthsInYear(l)&&a>=this.minDay&&a-this.minDay<this.daysInMonth(l)}return this._validateLevel--,o},toJSDate:function(i,s,a){var o=this._validate(i,s,a,u.local.invalidDate||u.regionalOptions[""].invalidDate);return u.instance().fromJD(this.toJD(o)).toJSDate()},fromJSDate:function(i){return this.fromJD(u.instance().fromJSDate(i).toJD())},_validate:function(i,s,a,o){if(i.year){if(0===this._validateLevel&&this.name!==i.calendar().name)throw(u.local.differentCalendars||u.regionalOptions[""].differentCalendars).replace(/\{0\}/,this.local.name).replace(/\{1\}/,i.calendar().local.name);return i}try{if(this._validateLevel++,1===this._validateLevel&&!this.isValid(i,s,a))throw o.replace(/\{0\}/,this.local.name);var l=this.newDate(i,s,a);return this._validateLevel--,l}catch(c){throw this._validateLevel--,c}}}),I(y.prototype=new M,{name:"Gregorian",jdEpoch:1721425.5,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Gregorian",epochs:["BCE","CE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(i){var s=this._validate(i,this.minMonth,this.minDay,u.local.invalidYear||u.regionalOptions[""].invalidYear);return(i=s.year()+(s.year()<0?1:0))%4==0&&(i%100!=0||i%400==0)},weekOfYear:function(i,s,a){var o=this.newDate(i,s,a);return o.add(4-(o.dayOfWeek()||7),"d"),Math.floor((o.dayOfYear()-1)/7)+1},daysInMonth:function(i,s){var a=this._validate(i,s,this.minDay,u.local.invalidMonth||u.regionalOptions[""].invalidMonth);return this.daysPerMonth[a.month()-1]+(2===a.month()&&this.leapYear(a.year())?1:0)},weekDay:function(i,s,a){return(this.dayOfWeek(i,s,a)||7)<6},toJD:function(i,s,a){var o=this._validate(i,s,a,u.local.invalidDate||u.regionalOptions[""].invalidDate);i=o.year(),s=o.month(),a=o.day(),i<0&&i++,s<3&&(s+=12,i--);var l=Math.floor(i/100),c=2-l+Math.floor(l/4);return Math.floor(365.25*(i+4716))+Math.floor(30.6001*(s+1))+a+c-1524.5},fromJD:function(i){var s=Math.floor(i+.5),a=Math.floor((s-1867216.25)/36524.25),o=1524+(a=s+1+a-Math.floor(a/4)),l=Math.floor((o-122.1)/365.25),c=Math.floor(365.25*l),h=Math.floor((o-c)/30.6001),v=o-c-Math.floor(30.6001*h),p=h-(h>13.5?13:1),T=l-(p>2.5?4716:4715);return T<=0&&T--,this.newDate(T,p,v)},toJSDate:function(i,s,a){var o=this._validate(i,s,a,u.local.invalidDate||u.regionalOptions[""].invalidDate),l=new Date(o.year(),o.month()-1,o.day());return l.setHours(0),l.setMinutes(0),l.setSeconds(0),l.setMilliseconds(0),l.setHours(l.getHours()>12?l.getHours()+2:0),l},fromJSDate:function(i){return this.newDate(i.getFullYear(),i.getMonth()+1,i.getDate())}});var u=oe.exports=new E;u.cdate=f,u.baseCalendar=M,u.calendars.gregorian=y},94338:function(oe,j,r){var I=r(56131),E=r(63489);I(E.regionalOptions[""],{invalidArguments:"Invalid arguments",invalidFormat:"Cannot format a date from another calendar",missingNumberAt:"Missing number at position {0}",unknownNameAt:"Unknown name at position {0}",unexpectedLiteralAt:"Unexpected literal at position {0}",unexpectedText:"Additional text found at end"}),E.local=E.regionalOptions[""],I(E.cdate.prototype,{formatDate:function(f,S){return"string"!=typeof f&&(S=f,f=""),this._calendar.formatDate(f||"",this,S)}}),I(E.baseCalendar.prototype,{UNIX_EPOCH:E.instance().newDate(1970,1,1).toJD(),SECS_PER_DAY:86400,TICKS_EPOCH:E.instance().jdEpoch,TICKS_PER_DAY:864e9,ATOM:"yyyy-mm-dd",COOKIE:"D, dd M yyyy",FULL:"DD, MM d, yyyy",ISO_8601:"yyyy-mm-dd",JULIAN:"J",RFC_822:"D, d M yy",RFC_850:"DD, dd-M-yy",RFC_1036:"D, d M yy",RFC_1123:"D, d M yyyy",RFC_2822:"D, d M yyyy",RSS:"D, d M yy",TICKS:"!",TIMESTAMP:"@",W3C:"yyyy-mm-dd",formatDate:function(f,S,M){if("string"!=typeof f&&(M=S,S=f,f=""),!S)return"";if(S.calendar()!==this)throw E.local.invalidFormat||E.regionalOptions[""].invalidFormat;f=f||this.local.dateFormat;for(var y,u,i,s=(M=M||{}).dayNamesShort||this.local.dayNamesShort,a=M.dayNames||this.local.dayNames,o=M.monthNumbers||this.local.monthNumbers,l=M.monthNamesShort||this.local.monthNamesShort,c=M.monthNames||this.local.monthNames,h=function(m,C){for(var k=1;A+k<f.length&&f.charAt(A+k)===m;)k++;return A+=k-1,Math.floor(k/(C||1))>1},v=function(m,C,k,P){var R=""+C;if(h(m,P))for(;R.length<k;)R="0"+R;return R},p=this,_=function(m,C){return C?"function"==typeof c?c.call(p,m):c[m.month()-p.minMonth]:"function"==typeof l?l.call(p,m):l[m.month()-p.minMonth]},g=this.local.digits,w=function(m){return M.localNumbers&&g?g(m):m},x="",b=!1,A=0;A<f.length;A++)if(b)"'"!==f.charAt(A)||h("'")?x+=f.charAt(A):b=!1;else switch(f.charAt(A)){case"d":x+=w(v("d",S.day(),2));break;case"D":x+=(y=S.dayOfWeek(),u=s,i=a,h("D")?i[y]:u[y]);break;case"o":x+=v("o",S.dayOfYear(),3);break;case"w":x+=v("w",S.weekOfYear(),2);break;case"m":x+=(m=S,"function"==typeof o?o.call(p,m,h("m")):w(v("m",m.month(),2)));break;case"M":x+=_(S,h("M"));break;case"y":x+=h("y",2)?S.year():(S.year()%100<10?"0":"")+S.year()%100;break;case"Y":h("Y",2),x+=S.formatYear();break;case"J":x+=S.toJD();break;case"@":x+=(S.toJD()-this.UNIX_EPOCH)*this.SECS_PER_DAY;break;case"!":x+=(S.toJD()-this.TICKS_EPOCH)*this.TICKS_PER_DAY;break;case"'":h("'")?x+="'":b=!0;break;default:x+=f.charAt(A)}var m;return x},parseDate:function(f,S,M){if(null==S)throw E.local.invalidArguments||E.regionalOptions[""].invalidArguments;if(""===(S="object"==typeof S?S.toString():S+""))return null;f=f||this.local.dateFormat;var y=(M=M||{}).shortYearCutoff||this.shortYearCutoff;y="string"!=typeof y?y:this.today().year()%100+parseInt(y,10);for(var u=M.dayNamesShort||this.local.dayNamesShort,i=M.dayNames||this.local.dayNames,s=M.parseMonth||this.local.parseMonth,a=M.monthNumbers||this.local.monthNumbers,o=M.monthNamesShort||this.local.monthNamesShort,l=M.monthNames||this.local.monthNames,c=-1,h=-1,v=-1,p=-1,T=-1,_=!1,g=!1,w=function(B,J){for(var z=1;R+z<f.length&&f.charAt(R+z)===B;)z++;return R+=z-1,Math.floor(z/(J||1))>1},x=function(B,J){var z=w(B,J),Y=[2,3,z?4:2,z?4:2,10,11,20]["oyYJ@!".indexOf(B)+1],q=new RegExp("^-?\\d{1,"+Y+"}"),U=S.substring(P).match(q);if(!U)throw(E.local.missingNumberAt||E.regionalOptions[""].missingNumberAt).replace(/\{0\}/,P);return P+=U[0].length,parseInt(U[0],10)},b=this,A=function(){if("function"==typeof a){w("m");var B=a.call(b,S.substring(P));return P+=B.length,B}return x("m")},m=function(B,J,z,Y){for(var q=w(B,Y)?z:J,U=0;U<q.length;U++)if(S.substr(P,q[U].length).toLowerCase()===q[U].toLowerCase())return P+=q[U].length,U+b.minMonth;throw(E.local.unknownNameAt||E.regionalOptions[""].unknownNameAt).replace(/\{0\}/,P)},C=function(){if("function"==typeof l){var B=w("M")?l.call(b,S.substring(P)):o.call(b,S.substring(P));return P+=B.length,B}return m("M",o,l)},k=function(){if(S.charAt(P)!==f.charAt(R))throw(E.local.unexpectedLiteralAt||E.regionalOptions[""].unexpectedLiteralAt).replace(/\{0\}/,P);P++},P=0,R=0;R<f.length;R++)if(g)"'"!==f.charAt(R)||w("'")?k():g=!1;else switch(f.charAt(R)){case"d":p=x("d");break;case"D":m("D",u,i);break;case"o":T=x("o");break;case"w":x("w");break;case"m":v=A();break;case"M":v=C();break;case"y":var L=R;_=!w("y",2),R=L,h=x("y",2);break;case"Y":h=x("Y",2);break;case"J":c=x("J")+.5,"."===S.charAt(P)&&(P++,x("J"));break;case"@":c=x("@")/this.SECS_PER_DAY+this.UNIX_EPOCH;break;case"!":c=x("!")/this.TICKS_PER_DAY+this.TICKS_EPOCH;break;case"*":P=S.length;break;case"'":w("'")?k():g=!0;break;default:k()}if(P<S.length)throw E.local.unexpectedText||E.regionalOptions[""].unexpectedText;if(-1===h?h=this.today().year():h<100&&_&&(h+=-1===y?1900:this.today().year()-this.today().year()%100-(h<=y?0:100)),"string"==typeof v&&(v=s.call(this,h,v)),T>-1){p=T;for(var N=this.daysInMonth(h,v=1);p>N;N=this.daysInMonth(h,v))v++,p-=N}return c>-1?this.fromJD(c):this.newDate(h,v,p)},determineDate:function(f,S,M,y,u){M&&"object"!=typeof M&&(u=y,y=M,M=null),"string"!=typeof y&&(u=y,y="");var i=this;return S=S?S.newDate():null,null==f?S:"string"==typeof f?function(s){try{return i.parseDate(y,s,u)}catch{}for(var a=((s=s.toLowerCase()).match(/^c/)&&M?M.newDate():null)||i.today(),o=/([+-]?[0-9]+)\s*(d|w|m|y)?/g,l=o.exec(s);l;)a.add(parseInt(l[1],10),l[2]||"d"),l=o.exec(s);return a}(f):"number"==typeof f?isNaN(f)||f===1/0||f===-1/0?S:i.today().add(f,"d"):i.newDate(f)}})},69862:function(){},40964:function(){},72077:function(oe,j,r){"use strict";var I=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],E=typeof globalThis>"u"?r.g:globalThis;oe.exports=function(){for(var f=[],S=0;S<I.length;S++)"function"==typeof E[I[S]]&&(f[f.length]=I[S]);return f}},81684:function(oe,j,r){"use strict";function I(Te,ye,we){Te.prototype=ye.prototype=we,we.constructor=Te}function E(Te,ye){var we=Object.create(Te.prototype);for(var ze in ye)we[ze]=ye[ze];return we}function f(){}r.d(j,{sX:function(){return Se},k4:function(){return K}});var S=.7,M=1/S,y="\\s*([+-]?\\d+)\\s*",u="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",i="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",s=/^#([0-9a-f]{3,8})$/,a=new RegExp("^rgb\\(".concat(y,",").concat(y,",").concat(y,"\\)$")),o=new RegExp("^rgb\\(".concat(i,",").concat(i,",").concat(i,"\\)$")),l=new RegExp("^rgba\\(".concat(y,",").concat(y,",").concat(y,",").concat(u,"\\)$")),c=new RegExp("^rgba\\(".concat(i,",").concat(i,",").concat(i,",").concat(u,"\\)$")),h=new RegExp("^hsl\\(".concat(u,",").concat(i,",").concat(i,"\\)$")),v=new RegExp("^hsla\\(".concat(u,",").concat(i,",").concat(i,",").concat(u,"\\)$")),p={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function T(){return this.rgb().formatHex()}function _(){return this.rgb().formatRgb()}function g(Te){var ye,we;return Te=(Te+"").trim().toLowerCase(),(ye=s.exec(Te))?(we=ye[1].length,ye=parseInt(ye[1],16),6===we?w(ye):3===we?new A(ye>>8&15|ye>>4&240,ye>>4&15|240&ye,(15&ye)<<4|15&ye,1):8===we?x(ye>>24&255,ye>>16&255,ye>>8&255,(255&ye)/255):4===we?x(ye>>12&15|ye>>8&240,ye>>8&15|ye>>4&240,ye>>4&15|240&ye,((15&ye)<<4|15&ye)/255):null):(ye=a.exec(Te))?new A(ye[1],ye[2],ye[3],1):(ye=o.exec(Te))?new A(255*ye[1]/100,255*ye[2]/100,255*ye[3]/100,1):(ye=l.exec(Te))?x(ye[1],ye[2],ye[3],ye[4]):(ye=c.exec(Te))?x(255*ye[1]/100,255*ye[2]/100,255*ye[3]/100,ye[4]):(ye=h.exec(Te))?L(ye[1],ye[2]/100,ye[3]/100,1):(ye=v.exec(Te))?L(ye[1],ye[2]/100,ye[3]/100,ye[4]):p.hasOwnProperty(Te)?w(p[Te]):"transparent"===Te?new A(NaN,NaN,NaN,0):null}function w(Te){return new A(Te>>16&255,Te>>8&255,255&Te,1)}function x(Te,ye,we,ze){return ze<=0&&(Te=ye=we=NaN),new A(Te,ye,we,ze)}function b(Te,ye,we,ze){return 1===arguments.length?((ke=Te)instanceof f||(ke=g(ke)),ke?new A((ke=ke.rgb()).r,ke.g,ke.b,ke.opacity):new A):new A(Te,ye,we,ze??1);var ke}function A(Te,ye,we,ze){this.r=+Te,this.g=+ye,this.b=+we,this.opacity=+ze}function m(){return"#".concat(R(this.r)).concat(R(this.g)).concat(R(this.b))}function C(){var Te=k(this.opacity);return"".concat(1===Te?"rgb(":"rgba(").concat(P(this.r),", ").concat(P(this.g),", ").concat(P(this.b)).concat(1===Te?")":", ".concat(Te,")"))}function k(Te){return isNaN(Te)?1:Math.max(0,Math.min(1,Te))}function P(Te){return Math.max(0,Math.min(255,Math.round(Te)||0))}function R(Te){return((Te=P(Te))<16?"0":"")+Te.toString(16)}function L(Te,ye,we,ze){return ze<=0?Te=ye=we=NaN:we<=0||we>=1?Te=ye=NaN:ye<=0&&(Te=NaN),new B(Te,ye,we,ze)}function N(Te){if(Te instanceof B)return new B(Te.h,Te.s,Te.l,Te.opacity);if(Te instanceof f||(Te=g(Te)),!Te)return new B;if(Te instanceof B)return Te;var ye=(Te=Te.rgb()).r/255,we=Te.g/255,ze=Te.b/255,ke=Math.min(ye,we,ze),Ee=Math.max(ye,we,ze),me=NaN,de=Ee-ke,ce=(Ee+ke)/2;return de?(me=ye===Ee?(we-ze)/de+6*(we<ze):we===Ee?(ze-ye)/de+2:(ye-we)/de+4,de/=ce<.5?Ee+ke:2-Ee-ke,me*=60):de=ce>0&&ce<1?0:me,new B(me,de,ce,Te.opacity)}function B(Te,ye,we,ze){this.h=+Te,this.s=+ye,this.l=+we,this.opacity=+ze}function J(Te){return(Te=(Te||0)%360)<0?Te+360:Te}function z(Te){return Math.max(0,Math.min(1,Te||0))}function Y(Te,ye,we){return 255*(Te<60?ye+(we-ye)*Te/60:Te<180?we:Te<240?ye+(we-ye)*(240-Te)/60:ye)}function q(Te,ye,we,ze,ke){var Ee=Te*Te,me=Ee*Te;return((1-3*Te+3*Ee-me)*ye+(4-6*Ee+3*me)*we+(1+3*Te+3*Ee-3*me)*ze+me*ke)/6}I(f,g,{copy:function(Te){return Object.assign(new this.constructor,this,Te)},displayable:function(){return this.rgb().displayable()},hex:T,formatHex:T,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return N(this).formatHsl()},formatRgb:_,toString:_}),I(A,b,E(f,{brighter:function(Te){return Te=null==Te?M:Math.pow(M,Te),new A(this.r*Te,this.g*Te,this.b*Te,this.opacity)},darker:function(Te){return Te=null==Te?S:Math.pow(S,Te),new A(this.r*Te,this.g*Te,this.b*Te,this.opacity)},rgb:function(){return this},clamp:function(){return new A(P(this.r),P(this.g),P(this.b),k(this.opacity))},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:m,formatHex:m,formatHex8:function(){return"#".concat(R(this.r)).concat(R(this.g)).concat(R(this.b)).concat(R(255*(isNaN(this.opacity)?1:this.opacity)))},formatRgb:C,toString:C})),I(B,function(Te,ye,we,ze){return 1===arguments.length?N(Te):new B(Te,ye,we,ze??1)},E(f,{brighter:function(Te){return Te=null==Te?M:Math.pow(M,Te),new B(this.h,this.s,this.l*Te,this.opacity)},darker:function(Te){return Te=null==Te?S:Math.pow(S,Te),new B(this.h,this.s,this.l*Te,this.opacity)},rgb:function(){var Te=this.h%360+360*(this.h<0),ye=isNaN(Te)||isNaN(this.s)?0:this.s,we=this.l,ze=we+(we<.5?we:1-we)*ye,ke=2*we-ze;return new A(Y(Te>=240?Te-240:Te+120,ke,ze),Y(Te,ke,ze),Y(Te<120?Te+240:Te-120,ke,ze),this.opacity)},clamp:function(){return new B(J(this.h),z(this.s),z(this.l),k(this.opacity))},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var Te=k(this.opacity);return"".concat(1===Te?"hsl(":"hsla(").concat(J(this.h),", ").concat(100*z(this.s),"%, ").concat(100*z(this.l),"%").concat(1===Te?")":", ".concat(Te,")"))}}));var U=function(Te){return function(){return Te}};function Z(Te,ye){var ze,ke,we=ye-Te;return we?(ze=Te,ke=we,function(Ee){return ze+Ee*ke}):U(isNaN(Te)?ye:Te)}var X=function Te(ye){var ke,we=1==(ke=+(ke=ye))?Z:function(Ee,me){return me-Ee?(de=Ee,ce=me,Ae=ke,de=Math.pow(de,Ae),ce=Math.pow(ce,Ae)-de,Ae=1/Ae,function(Ne){return Math.pow(de+Ne*ce,Ae)}):U(isNaN(Ee)?me:Ee);var de,ce,Ae};function ze(ke,Ee){var me=we((ke=b(ke)).r,(Ee=b(Ee)).r),de=we(ke.g,Ee.g),ce=we(ke.b,Ee.b),Ae=Z(ke.opacity,Ee.opacity);return function(Ne){return ke.r=me(Ne),ke.g=de(Ne),ke.b=ce(Ne),ke.opacity=Ae(Ne),ke+""}}return ze.gamma=Te,ze}(1);function se(Te){return function(ye){var we,ze,ke=ye.length,Ee=new Array(ke),me=new Array(ke),de=new Array(ke);for(we=0;we<ke;++we)ze=b(ye[we]),Ee[we]=ze.r||0,me[we]=ze.g||0,de[we]=ze.b||0;return Ee=Te(Ee),me=Te(me),de=Te(de),ze.opacity=1,function(ce){return ze.r=Ee(ce),ze.g=me(ce),ze.b=de(ce),ze+""}}}function re(Te,ye){var we,ze=ye?ye.length:0,ke=Te?Math.min(ze,Te.length):0,Ee=new Array(ke),me=new Array(ze);for(we=0;we<ke;++we)Ee[we]=Se(Te[we],ye[we]);for(;we<ze;++we)me[we]=ye[we];return function(de){for(we=0;we<ke;++we)me[we]=Ee[we](de);return me}}function ee(Te,ye){var we=new Date;return Te=+Te,ye=+ye,function(ze){return we.setTime(Te*(1-ze)+ye*ze),we}}function K(Te,ye){return Te=+Te,ye=+ye,function(we){return Te*(1-we)+ye*we}}function ne(Te){return(ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(ye){return typeof ye}:function(ye){return ye&&"function"==typeof Symbol&&ye.constructor===Symbol&&ye!==Symbol.prototype?"symbol":typeof ye})(Te)}function ae(Te,ye){var we,ze={},ke={};for(we in null!==Te&&"object"===ne(Te)||(Te={}),null!==ye&&"object"===ne(ye)||(ye={}),ye)we in Te?ze[we]=Se(Te[we],ye[we]):ke[we]=ye[we];return function(Ee){for(we in ze)ke[we]=ze[we](Ee);return ke}}se(function(Te){var ye=Te.length-1;return function(we){var ze=we<=0?we=0:we>=1?(we=1,ye-1):Math.floor(we*ye),ke=Te[ze],Ee=Te[ze+1];return q((we-ze/ye)*ye,ze>0?Te[ze-1]:2*ke-Ee,ke,Ee,ze<ye-1?Te[ze+2]:2*Ee-ke)}}),se(function(Te){var ye=Te.length;return function(we){var ze=Math.floor(((we%=1)<0?++we:we)*ye);return q((we-ze/ye)*ye,Te[(ze+ye-1)%ye],Te[ze%ye],Te[(ze+1)%ye],Te[(ze+2)%ye])}});var ue=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,he=new RegExp(ue.source,"g");function pe(Te,ye){var we,ze,ke,Ae,Ee=ue.lastIndex=he.lastIndex=0,me=-1,de=[],ce=[];for(Te+="",ye+="";(we=ue.exec(Te))&&(ze=he.exec(ye));)(ke=ze.index)>Ee&&(ke=ye.slice(Ee,ke),de[me]?de[me]+=ke:de[++me]=ke),(we=we[0])===(ze=ze[0])?de[me]?de[me]+=ze:de[++me]=ze:(de[++me]=null,ce.push({i:me,x:K(we,ze)})),Ee=he.lastIndex;return Ee<ye.length&&(ke=ye.slice(Ee),de[me]?de[me]+=ke:de[++me]=ke),de.length<2?ce[0]?(Ae=ce[0].x,function(Ne){return Ae(Ne)+""}):function(Ae){return function(){return Ae}}(ye):(ye=ce.length,function(Ae){for(var Ne,De=0;De<ye;++De)de[(Ne=ce[De]).i]=Ne.x(Ae);return de.join("")})}function ge(Te,ye){ye||(ye=[]);var we,ze=Te?Math.min(ye.length,Te.length):0,ke=ye.slice();return function(Ee){for(we=0;we<ze;++we)ke[we]=Te[we]*(1-Ee)+ye[we]*Ee;return ke}}function xe(Te){return(xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(ye){return typeof ye}:function(ye){return ye&&"function"==typeof Symbol&&ye.constructor===Symbol&&ye!==Symbol.prototype?"symbol":typeof ye})(Te)}function Se(Te,ye){var we,ze,ke=xe(ye);return null==ye||"boolean"===ke?U(ye):("number"===ke?K:"string"===ke?(we=g(ye))?(ye=we,X):pe:ye instanceof g?X:ye instanceof Date?ee:(ze=ye,!ArrayBuffer.isView(ze)||ze instanceof DataView?Array.isArray(ye)?re:"function"!=typeof ye.valueOf&&"function"!=typeof ye.toString||isNaN(ye)?ae:K:ge))(Te,ye)}},40402:function(oe){"use strict";oe.exports=JSON.parse('["xx-small","x-small","small","medium","large","x-large","xx-large","larger","smaller"]')},83794:function(oe){"use strict";oe.exports=JSON.parse('["normal","condensed","semi-condensed","extra-condensed","ultra-condensed","expanded","semi-expanded","extra-expanded","ultra-expanded"]')},96209:function(oe){"use strict";oe.exports=JSON.parse('["normal","italic","oblique"]')},15659:function(oe){"use strict";oe.exports=JSON.parse('["normal","bold","bolder","lighter","100","200","300","400","500","600","700","800","900"]')},38732:function(oe){"use strict";oe.exports=JSON.parse('["inherit","initial","unset"]')},41901:function(oe){"use strict";oe.exports=JSON.parse('["caption","icon","menu","message-box","small-caption","status-bar"]')}},Wu={};function ki(oe){var j=Wu[oe];if(void 0!==j)return j.exports;var r=Wu[oe]={exports:{}};return nd[oe].call(r.exports,r,r.exports,ki),r.exports}return ki.n=function(oe){var j=oe&&oe.__esModule?function(){return oe.default}:function(){return oe};return ki.d(j,{a:j}),j},ki.d=function(oe,j){for(var r in j)ki.o(j,r)&&!ki.o(oe,r)&&Object.defineProperty(oe,r,{enumerable:!0,get:j[r]})},ki.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch{if("object"==typeof window)return window}}(),ki.o=function(oe,j){return Object.prototype.hasOwnProperty.call(oe,j)},ki.r=function(oe){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(oe,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(oe,"__esModule",{value:!0})},ki(27909)}()},614:()=>{"use strict";const Mf=":";const ue=function(ge,...xe){if(ue.translate){const Te=ue.translate(ge,xe);ge=Te[0],xe=Te[1]}let Se=pe(ge[0],ge.raw[0]);for(let Te=1;Te<ge.length;Te++)Se+=xe[Te-1]+pe(ge[Te],ge.raw[Te]);return Se},he=":";function pe(ge,xe){return xe.charAt(0)===he?ge.substring(function z(ge,xe){for(let Se=1,Te=1;Se<ge.length;Se++,Te++)if("\\"===xe[Te])Te++;else if(ge[Se]===Mf)return Se;throw new Error(`Unterminated $localize metadata block in "${xe}".`)}(ge,xe)+1):ge}(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)().$localize=ue}},Mf=>{var nd=ki=>Mf(Mf.s=ki);nd(614),nd(292)}]);