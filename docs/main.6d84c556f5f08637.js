(self.webpackChunkangular_template_jest_spectator_playwright=self.webpackChunkangular_template_jest_spectator_playwright||[]).push([[179],{206:(Pf,ld,tf)=>{"use strict";function Ci(e){return"function"==typeof e}function ae(e){const t=e(d=>{Error.call(d),d.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const B=ae(e=>function(t){e(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((d,P)=>`${P+1}) ${d.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function r(e,n){if(e){const t=e.indexOf(n);0<=t&&e.splice(t,1)}}class D{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const J of t)J.remove(this);else t.remove(this);const{initialTeardown:d}=this;if(Ci(d))try{d()}catch(J){n=J instanceof B?J.errors:[J]}const{_finalizers:P}=this;if(P){this._finalizers=null;for(const J of P)try{k(J)}catch(ue){n=n??[],ue instanceof B?n=[...n,...ue.errors]:n.push(ue)}}if(n)throw new B(n)}}add(n){var t;if(n&&n!==this)if(this.closed)k(n);else{if(n instanceof D){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(n)}}_hasParent(n){const{_parentage:t}=this;return t===n||Array.isArray(t)&&t.includes(n)}_addParent(n){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(n),t):t?[t,n]:n}_removeParent(n){const{_parentage:t}=this;t===n?this._parentage=null:Array.isArray(t)&&r(t,n)}remove(n){const{_finalizers:t}=this;t&&r(t,n),n instanceof D&&n._removeParent(this)}}D.EMPTY=(()=>{const e=new D;return e.closed=!0,e})();const E=D.EMPTY;function f(e){return e instanceof D||e&&"closed"in e&&Ci(e.remove)&&Ci(e.add)&&Ci(e.unsubscribe)}function k(e){Ci(e)?e():e.unsubscribe()}const M={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},y={setTimeout(e,n,...t){const{delegate:d}=y;return d?.setTimeout?d.setTimeout(e,n,...t):setTimeout(e,n,...t)},clearTimeout(e){const{delegate:n}=y;return(n?.clearTimeout||clearTimeout)(e)},delegate:void 0};function c(e){y.setTimeout(()=>{const{onUnhandledError:n}=M;if(!n)throw e;n(e)})}function i(){}const s=l("C",void 0,void 0);function l(e,n,t){return{kind:e,value:n,error:t}}let u=null;function h(e){if(M.useDeprecatedSynchronousErrorHandling){const n=!u;if(n&&(u={errorThrown:!1,error:null}),e(),n){const{errorThrown:t,error:d}=u;if(u=null,t)throw d}}else e()}class p extends D{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,f(n)&&n.add(this)):this.destination=g}static create(n,t,d){return new w(n,t,d)}next(n){this.isStopped?A(function o(e){return l("N",e,void 0)}(n),this):this._next(n)}error(n){this.isStopped?A(function a(e){return l("E",void 0,e)}(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?A(s,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const T=Function.prototype.bind;function _(e,n){return T.call(e,n)}class m{constructor(n){this.partialObserver=n}next(n){const{partialObserver:t}=this;if(t.next)try{t.next(n)}catch(d){x(d)}}error(n){const{partialObserver:t}=this;if(t.error)try{t.error(n)}catch(d){x(d)}else x(n)}complete(){const{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(t){x(t)}}}class w extends p{constructor(n,t,d){let P;if(super(),Ci(n)||!n)P={next:n??void 0,error:t??void 0,complete:d??void 0};else{let J;this&&M.useDeprecatedNextContext?(J=Object.create(n),J.unsubscribe=()=>this.unsubscribe(),P={next:n.next&&_(n.next,J),error:n.error&&_(n.error,J),complete:n.complete&&_(n.complete,J)}):P=n}this.destination=new m(P)}}function x(e){M.useDeprecatedSynchronousErrorHandling?function v(e){M.useDeprecatedSynchronousErrorHandling&&u&&(u.errorThrown=!0,u.error=e)}(e):c(e)}function A(e,n){const{onStoppedNotification:t}=M;t&&y.setTimeout(()=>t(e,n))}const g={closed:!0,next:i,error:function b(e){throw e},complete:i},I="function"==typeof Symbol&&Symbol.observable||"@@observable";function S(e){return e}function R(e){return 0===e.length?S:1===e.length?e[0]:function(t){return e.reduce((d,P)=>P(d),t)}}let L=(()=>{class e{constructor(t){t&&(this._subscribe=t)}lift(t){const d=new e;return d.source=this,d.operator=t,d}subscribe(t,d,P){const J=function X(e){return e&&e instanceof p||function j(e){return e&&Ci(e.next)&&Ci(e.error)&&Ci(e.complete)}(e)&&f(e)}(t)?t:new w(t,d,P);return h(()=>{const{operator:ue,source:Ne}=this;J.add(ue?ue.call(J,Ne):Ne?this._subscribe(J):this._trySubscribe(J))}),J}_trySubscribe(t){try{return this._subscribe(t)}catch(d){t.error(d)}}forEach(t,d){return new(d=N(d))((P,J)=>{const ue=new w({next:Ne=>{try{t(Ne)}catch(He){J(He),ue.unsubscribe()}},error:J,complete:P});this.subscribe(ue)})}_subscribe(t){var d;return null===(d=this.source)||void 0===d?void 0:d.subscribe(t)}[I](){return this}pipe(...t){return R(t)(this)}toPromise(t){return new(t=N(t))((d,P)=>{let J;this.subscribe(ue=>J=ue,ue=>P(ue),()=>d(J))})}}return e.create=n=>new e(n),e})();function N(e){var n;return null!==(n=e??M.Promise)&&void 0!==n?n:Promise}const F=ae(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Y=(()=>{class e extends L{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const d=new G(this,this);return d.operator=t,d}_throwIfClosed(){if(this.closed)throw new F}next(t){h(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const d of this.currentObservers)d.next(t)}})}error(t){h(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:d}=this;for(;d.length;)d.shift().error(t)}})}complete(){h(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:d,isStopped:P,observers:J}=this;return d||P?E:(this.currentObservers=null,J.push(t),new D(()=>{this.currentObservers=null,r(J,t)}))}_checkFinalizedStatuses(t){const{hasError:d,thrownError:P,isStopped:J}=this;d?t.error(P):J&&t.complete()}asObservable(){const t=new L;return t.source=this,t}}return e.create=(n,t)=>new G(n,t),e})();class G extends Y{constructor(n,t){super(),this.destination=n,this.source=t}next(n){var t,d;null===(d=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===d||d.call(t,n)}error(n){var t,d;null===(d=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===d||d.call(t,n)}complete(){var n,t;null===(t=null===(n=this.destination)||void 0===n?void 0:n.complete)||void 0===t||t.call(n)}_subscribe(n){var t,d;return null!==(d=null===(t=this.source)||void 0===t?void 0:t.subscribe(n))&&void 0!==d?d:E}}function H(e){return Ci(e?.lift)}function W(e){return n=>{if(H(n))return n.lift(function(t){try{return e(t,this)}catch(d){this.error(d)}});throw new TypeError("Unable to lift unknown Observable type")}}function Z(e,n,t,d,P){return new se(e,n,t,d,P)}class se extends p{constructor(n,t,d,P,J,ue){super(n),this.onFinalize=J,this.shouldUnsubscribe=ue,this._next=t?function(Ne){try{t(Ne)}catch(He){n.error(He)}}:super._next,this._error=P?function(Ne){try{P(Ne)}catch(He){n.error(He)}finally{this.unsubscribe()}}:super._error,this._complete=d?function(){try{d()}catch(Ne){n.error(Ne)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(n=this.onFinalize)||void 0===n||n.call(this))}}}function re(e,n){return W((t,d)=>{let P=0;t.subscribe(Z(d,J=>{d.next(e.call(n,J,P++))}))})}function Ie(e){return this instanceof Ie?(this.v=e,this):new Ie(e)}function qe(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=function Ce(e){var n="function"==typeof Symbol&&Symbol.iterator,t=n&&e[n],d=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&d>=e.length&&(e=void 0),{value:e&&e[d++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),t={},d("next"),d("throw"),d("return"),t[Symbol.asyncIterator]=function(){return this},t);function d(J){t[J]=e[J]&&function(ue){return new Promise(function(Ne,He){!function P(J,ue,Ne,He){Promise.resolve(He).then(function(rt){J({value:rt,done:Ne})},ue)}(Ne,He,(ue=e[J](ue)).done,ue.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const kt=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function Dt(e){return Ci(e?.then)}function Et(e){return Ci(e[I])}function ht(e){return Symbol.asyncIterator&&Ci(e?.[Symbol.asyncIterator])}function pt(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const zt=function Pt(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Ht(e){return Ci(e?.[zt])}function Lt(e){return function De(e,n,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var P,d=t.apply(e,n||[]),J=[];return P={},ue("next"),ue("throw"),ue("return"),P[Symbol.asyncIterator]=function(){return this},P;function ue(Zt){d[Zt]&&(P[Zt]=function(dn){return new Promise(function(jn,qn){J.push([Zt,dn,jn,qn])>1||Ne(Zt,dn)})})}function Ne(Zt,dn){try{!function He(Zt){Zt.value instanceof Ie?Promise.resolve(Zt.value.v).then(rt,yt):Nt(J[0][2],Zt)}(d[Zt](dn))}catch(jn){Nt(J[0][3],jn)}}function rt(Zt){Ne("next",Zt)}function yt(Zt){Ne("throw",Zt)}function Nt(Zt,dn){Zt(dn),J.shift(),J.length&&Ne(J[0][0],J[0][1])}}(this,arguments,function*(){const t=e.getReader();try{for(;;){const{value:d,done:P}=yield Ie(t.read());if(P)return yield Ie(void 0);yield yield Ie(d)}}finally{t.releaseLock()}})}function tt(e){return Ci(e?.getReader)}function it(e){if(e instanceof L)return e;if(null!=e){if(Et(e))return function Je(e){return new L(n=>{const t=e[I]();if(Ci(t.subscribe))return t.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(kt(e))return function ot(e){return new L(n=>{for(let t=0;t<e.length&&!n.closed;t++)n.next(e[t]);n.complete()})}(e);if(Dt(e))return function gt(e){return new L(n=>{e.then(t=>{n.closed||(n.next(t),n.complete())},t=>n.error(t)).then(null,c)})}(e);if(ht(e))return Ue(e);if(Ht(e))return function ft(e){return new L(n=>{for(const t of e)if(n.next(t),n.closed)return;n.complete()})}(e);if(tt(e))return function $e(e){return Ue(Lt(e))}(e)}throw pt(e)}function Ue(e){return new L(n=>{(function dt(e,n){var t,d,P,J;return function ye(e,n,t,d){return new(t||(t=Promise))(function(J,ue){function Ne(yt){try{rt(d.next(yt))}catch(Nt){ue(Nt)}}function He(yt){try{rt(d.throw(yt))}catch(Nt){ue(Nt)}}function rt(yt){yt.done?J(yt.value):function P(J){return J instanceof t?J:new t(function(ue){ue(J)})}(yt.value).then(Ne,He)}rt((d=d.apply(e,n||[])).next())})}(this,void 0,void 0,function*(){try{for(t=qe(e);!(d=yield t.next()).done;)if(n.next(d.value),n.closed)return}catch(ue){P={error:ue}}finally{try{d&&!d.done&&(J=t.return)&&(yield J.call(t))}finally{if(P)throw P.error}}n.complete()})})(e,n).catch(t=>n.error(t))})}function ut(e,n,t,d=0,P=!1){const J=n.schedule(function(){t(),P?e.add(this.schedule(null,d)):this.unsubscribe()},d);if(e.add(J),!P)return J}function wt(e,n,t=1/0){return Ci(n)?wt((d,P)=>re((J,ue)=>n(d,J,P,ue))(it(e(d,P))),t):("number"==typeof n&&(t=n),W((d,P)=>function At(e,n,t,d,P,J,ue,Ne){const He=[];let rt=0,yt=0,Nt=!1;const Zt=()=>{Nt&&!He.length&&!rt&&n.complete()},dn=qn=>rt<d?jn(qn):He.push(qn),jn=qn=>{J&&n.next(qn),rt++;let Kn=!1;it(t(qn,yt++)).subscribe(Z(n,br=>{P?.(br),J?dn(br):n.next(br)},()=>{Kn=!0},void 0,()=>{if(Kn)try{for(rt--;He.length&&rt<d;){const br=He.shift();ue?ut(n,ue,()=>jn(br)):jn(br)}Zt()}catch(br){n.error(br)}}))};return e.subscribe(Z(n,dn,()=>{Nt=!0,Zt()})),()=>{Ne?.()}}(d,P,e,t)))}function St(e=1/0){return wt(S,e)}const _t=new L(e=>e.complete());function Tt(e){return e&&Ci(e.schedule)}function It(e){return e[e.length-1]}function Wt(e){return Ci(It(e))?e.pop():void 0}function $t(e){return Tt(It(e))?e.pop():void 0}function pn(e,n=0){return W((t,d)=>{t.subscribe(Z(d,P=>ut(d,e,()=>d.next(P),n),()=>ut(d,e,()=>d.complete(),n),P=>ut(d,e,()=>d.error(P),n)))})}function en(e,n=0){return W((t,d)=>{d.add(e.schedule(()=>t.subscribe(d),n))})}function Sn(e,n){if(!e)throw new Error("Iterable cannot be null");return new L(t=>{ut(t,n,()=>{const d=e[Symbol.asyncIterator]();ut(t,n,()=>{d.next().then(P=>{P.done?t.complete():t.next(P.value)})},0,!0)})})}function un(e,n){return n?function vn(e,n){if(null!=e){if(Et(e))return function nn(e,n){return it(e).pipe(en(n),pn(n))}(e,n);if(kt(e))return function On(e,n){return new L(t=>{let d=0;return n.schedule(function(){d===e.length?t.complete():(t.next(e[d++]),t.closed||this.schedule())})})}(e,n);if(Dt(e))return function fn(e,n){return it(e).pipe(en(n),pn(n))}(e,n);if(ht(e))return Sn(e,n);if(Ht(e))return function Un(e,n){return new L(t=>{let d;return ut(t,n,()=>{d=e[zt](),ut(t,n,()=>{let P,J;try{({value:P,done:J}=d.next())}catch(ue){return void t.error(ue)}J?t.complete():t.next(P)},0,!0)}),()=>Ci(d?.return)&&d.return()})}(e,n);if(tt(e))return function on(e,n){return Sn(Lt(e),n)}(e,n)}throw pt(e)}(e,n):it(e)}class kn extends Y{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const t=super._subscribe(n);return!t.closed&&n.next(this._value),t}getValue(){const{hasError:n,thrownError:t,_value:d}=this;if(n)throw t;return this._throwIfClosed(),d}next(n){super.next(this._value=n)}}function xn(...e){return un(e,$t(e))}function Rn(e={}){const{connector:n=(()=>new Y),resetOnError:t=!0,resetOnComplete:d=!0,resetOnRefCountZero:P=!0}=e;return J=>{let ue,Ne,He,rt=0,yt=!1,Nt=!1;const Zt=()=>{Ne?.unsubscribe(),Ne=void 0},dn=()=>{Zt(),ue=He=void 0,yt=Nt=!1},jn=()=>{const qn=ue;dn(),qn?.unsubscribe()};return W((qn,Kn)=>{rt++,!Nt&&!yt&&Zt();const br=He=He??n();Kn.add(()=>{rt--,0===rt&&!Nt&&!yt&&(Ne=Hn(jn,P))}),br.subscribe(Kn),!ue&&rt>0&&(ue=new w({next:ar=>br.next(ar),error:ar=>{Nt=!0,Zt(),Ne=Hn(dn,t,ar),br.error(ar)},complete:()=>{yt=!0,Zt(),Ne=Hn(dn,d),br.complete()}}),it(qn).subscribe(ue))})(J)}}function Hn(e,n,...t){if(!0===n)return void e();if(!1===n)return;const d=new w({next:()=>{d.unsubscribe(),e()}});return it(n(...t)).subscribe(d)}function En(e,n){return W((t,d)=>{let P=null,J=0,ue=!1;const Ne=()=>ue&&!P&&d.complete();t.subscribe(Z(d,He=>{P?.unsubscribe();let rt=0;const yt=J++;it(e(He,yt)).subscribe(P=Z(d,Nt=>d.next(n?n(He,Nt,yt,rt++):Nt),()=>{P=null,Ne()}))},()=>{ue=!0,Ne()}))})}function gr(e,n){return e===n}function lr(e){for(let n in e)if(e[n]===lr)return n;throw Error("Could not find renamed property on target object.")}function dr(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(dr).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const n=e.toString();if(null==n)return""+n;const t=n.indexOf("\n");return-1===t?n:n.substring(0,t)}function mr(e,n){return null==e||""===e?null===n?"":n:null==n||""===n?e:e+" "+n}const Ir=lr({__forward_ref__:lr});function qt(e){return e.__forward_ref__=qt,e.toString=function(){return dr(this())},e}function tn(e){return bn(e)?e():e}function bn(e){return"function"==typeof e&&e.hasOwnProperty(Ir)&&e.__forward_ref__===qt}function Cn(e){return e&&!!e.\u0275providers}class yn extends Error{constructor(n,t){super(function Zn(e,n){return`NG0${Math.abs(e)}${n?": "+n:""}`}(n,t)),this.code=n}}function Xn(e){return"string"==typeof e?e:null==e?"":String(e)}function hn(e,n){throw new yn(-201,!1)}function ur(e,n){null==e&&function or(e,n,t,d){throw new Error(`ASSERTION ERROR: ${e}`+(null==d?"":` [Expected=> ${t} ${d} ${n} <=Actual]`))}(n,e,null,"!=")}function Qn(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function nr(e){return{providers:e.providers||[],imports:e.imports||[]}}function Fr(e){return $i(e,oo)||$i(e,Io)}function $i(e,n){return e.hasOwnProperty(n)?e[n]:null}function to(e){return e&&(e.hasOwnProperty(Qi)||e.hasOwnProperty(Ys))?e[Qi]:null}const oo=lr({\u0275prov:lr}),Qi=lr({\u0275inj:lr}),Io=lr({ngInjectableDef:lr}),Ys=lr({ngInjectorDef:lr});var di=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(di||{});let Fs;function ca(e){const n=Fs;return Fs=e,n}function lu(e,n,t){const d=Fr(e);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:t&di.Optional?null:void 0!==n?n:void hn(dr(e))}const ji=globalThis;class $r{constructor(n,t){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=Qn({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Il={},nc="__NG_DI_FLAG__",zs="ngTempTokenPath",Mc=/\n/gm,rc="__source";let $l;function $a(e){const n=$l;return $l=e,n}function Yl(e,n=di.Default){if(void 0===$l)throw new yn(-203,!1);return null===$l?lu(e,void 0,n):$l.get(e,n&di.Optional?null:void 0,n)}function Hr(e,n=di.Default){return(function tc(){return Fs}()||Yl)(tn(e),n)}function Br(e,n=di.Default){return Hr(e,du(n))}function du(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function is(e){const n=[];for(let t=0;t<e.length;t++){const d=tn(e[t]);if(Array.isArray(d)){if(0===d.length)throw new yn(900,!1);let P,J=di.Default;for(let ue=0;ue<d.length;ue++){const Ne=d[ue],He=Js(Ne);"number"==typeof He?-1===He?P=Ne.token:J|=He:P=Ne}n.push(Hr(P,J))}else n.push(Hr(d))}return n}function Bs(e,n){return e[nc]=n,e.prototype[nc]=n,e}function Js(e){return e[nc]}function Fa(e){return{toString:e}.toString()}var Yi=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Yi||{}),Qo=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Qo||{});const os={},Mi=[],Ks=lr({\u0275cmp:lr}),Ac=lr({\u0275dir:lr}),hu=lr({\u0275pipe:lr}),Sc=lr({\u0275mod:lr}),Qs=lr({\u0275fac:lr}),fl=lr({__NG_ELEMENT_ID__:lr}),Zl=lr({__NG_ENV_ID__:lr});function pu(e,n,t){let d=e.length;for(;;){const P=e.indexOf(n,t);if(-1===P)return P;if(0===P||e.charCodeAt(P-1)<=32){const J=n.length;if(P+J===d||e.charCodeAt(P+J)<=32)return P}t=P+1}}function el(e,n,t){let d=0;for(;d<t.length;){const P=t[d];if("number"==typeof P){if(0!==P)break;d++;const J=t[d++],ue=t[d++],Ne=t[d++];e.setAttribute(n,ue,Ne,J)}else{const J=P,ue=t[++d];dl(J)?e.setProperty(n,J,ue):e.setAttribute(n,J,ue),d++}}return d}function tl(e){return 3===e||4===e||6===e}function dl(e){return 64===e.charCodeAt(0)}function xs(e,n){if(null!==n&&0!==n.length)if(null===e||0===e.length)e=n.slice();else{let t=-1;for(let d=0;d<n.length;d++){const P=n[d];"number"==typeof P?t=P:0===t||Lu(e,t,P,null,-1===t||2===t?n[++d]:null)}}return e}function Lu(e,n,t,d,P){let J=0,ue=e.length;if(-1===n)ue=-1;else for(;J<e.length;){const Ne=e[J++];if("number"==typeof Ne){if(Ne===n){ue=-1;break}if(Ne>n){ue=J-1;break}}}for(;J<e.length;){const Ne=e[J];if("number"==typeof Ne)break;if(Ne===t){if(null===d)return void(null!==P&&(e[J+1]=P));if(d===e[J+1])return void(e[J+2]=P)}J++,null!==d&&J++,null!==P&&J++}-1!==ue&&(e.splice(ue,0,n),J=ue+1),e.splice(J++,0,t),null!==d&&e.splice(J++,0,d),null!==P&&e.splice(J++,0,P)}const Ds="ng-template";function lf(e,n,t){let d=0,P=!0;for(;d<e.length;){let J=e[d++];if("string"==typeof J&&P){const ue=e[d++];if(t&&"class"===J&&-1!==pu(ue.toLowerCase(),n,0))return!0}else{if(1===J){for(;d<e.length&&"string"==typeof(J=e[d++]);)if(J.toLowerCase()===n)return!0;return!1}"number"==typeof J&&(P=!1)}}return!1}function kc(e){return 4===e.type&&e.value!==Ds}function ic(e,n,t){return n===(4!==e.type||t?e.value:Ds)}function Ol(e,n,t){let d=4;const P=e.attrs||[],J=function Jl(e){for(let n=0;n<e.length;n++)if(tl(e[n]))return n;return e.length}(P);let ue=!1;for(let Ne=0;Ne<n.length;Ne++){const He=n[Ne];if("number"!=typeof He){if(!ue)if(4&d){if(d=2|1&d,""!==He&&!ic(e,He,t)||""===He&&1===n.length){if(as(d))return!1;ue=!0}}else{const rt=8&d?He:n[++Ne];if(8&d&&null!==e.attrs){if(!lf(e.attrs,rt,t)){if(as(d))return!1;ue=!0}continue}const Nt=Xl(8&d?"class":He,P,kc(e),t);if(-1===Nt){if(as(d))return!1;ue=!0;continue}if(""!==rt){let Zt;Zt=Nt>J?"":P[Nt+1].toLowerCase();const dn=8&d?Zt:null;if(dn&&-1!==pu(dn,rt,0)||2&d&&rt!==Zt){if(as(d))return!1;ue=!0}}}}else{if(!ue&&!as(d)&&!as(He))return!1;if(ue&&as(He))continue;ue=!1,d=He|1&d}}return as(d)||ue}function as(e){return 0==(1&e)}function Xl(e,n,t,d){if(null===n)return-1;let P=0;if(d||!t){let J=!1;for(;P<n.length;){const ue=n[P];if(ue===e)return P;if(3===ue||6===ue)J=!0;else{if(1===ue||2===ue){let Ne=n[++P];for(;"string"==typeof Ne;)Ne=n[++P];continue}if(4===ue)break;if(0===ue){P+=4;continue}}P+=J?1:2}return-1}return function Nu(e,n){let t=e.indexOf(4);if(t>-1)for(t++;t<e.length;){const d=e[t];if("number"==typeof d)return-1;if(d===n)return t;t++}return-1}(n,e)}function oc(e,n,t=!1){for(let d=0;d<n.length;d++)if(Ol(e,n[d],t))return!0;return!1}function mu(e,n){e:for(let t=0;t<n.length;t++){const d=n[t];if(e.length===d.length){for(let P=0;P<e.length;P++)if(e[P]!==d[P])continue e;return!0}}return!1}function no(e,n){return e?":not("+n.trim()+")":n}function Pl(e){let n=e[0],t=1,d=2,P="",J=!1;for(;t<e.length;){let ue=e[t];if("string"==typeof ue)if(2&d){const Ne=e[++t];P+="["+ue+(Ne.length>0?'="'+Ne+'"':"")+"]"}else 8&d?P+="."+ue:4&d&&(P+=" "+ue);else""!==P&&!as(ue)&&(n+=no(J,P),P=""),d=ue,J=J||!as(d);t++}return""!==P&&(n+=no(J,P)),n}function hi(e){return Fa(()=>{const n=ea(e),t={...n,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Yi.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Qo.Emulated,styles:e.styles||Mi,_:null,schemas:e.schemas||null,tView:null,id:""};Ma(t);const d=e.dependencies;return t.directiveDefs=ta(d,!1),t.pipeDefs=ta(d,!0),t.id=function za(e){let n=0;const t=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const P of t)n=Math.imul(31,n)+P.charCodeAt(0)<<0;return n+=2147483648,"c"+n}(t),t})}function Rl(e){return Ei(e)||Oo(e)}function pl(e){return null!==e}function Xi(e){return Fa(()=>({type:e.type,bootstrap:e.bootstrap||Mi,declarations:e.declarations||Mi,imports:e.imports||Mi,exports:e.exports||Mi,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function ml(e,n){if(null==e)return os;const t={};for(const d in e)if(e.hasOwnProperty(d)){let P=e[d],J=P;Array.isArray(P)&&(J=P[1],P=P[0]),t[P]=d,n&&(n[P]=J)}return t}function jr(e){return Fa(()=>{const n=ea(e);return Ma(n),n})}function Ei(e){return e[Ks]||null}function Oo(e){return e[Ac]||null}function Di(e){return e[hu]||null}function ga(e,n){const t=e[Sc]||null;if(!t&&!0===n)throw new Error(`Type ${dr(e)} does not have '\u0275mod' property.`);return t}function ea(e){const n={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:e.inputs||os,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||Mi,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ml(e.inputs,n),outputs:ml(e.outputs)}}function Ma(e){e.features?.forEach(n=>n(e))}function ta(e,n){if(!e)return null;const t=n?Di:Rl;return()=>("function"==typeof e?e():e).map(d=>t(d)).filter(pl)}const ao=0,Gr=1,ii=2,Ni=3,Yo=4,Ll=5,co=6,Po=7,Lr=8,Ro=9,nl=10,vi=11,js=12,Nl=13,ss=14,Dr=15,Ya=16,Vs=17,ls=18,na=19,Os=20,ma=21,ra=22,us=23,bs=24,ai=25,Fl=1,da=2,Ii=7,va=9,bo=11;function Fi(e){return Array.isArray(e)&&"object"==typeof e[Fl]}function wi(e){return Array.isArray(e)&&!0===e[Fl]}function Za(e){return 0!=(4&e.flags)}function Ba(e){return e.componentOffset>-1}function cs(e){return 1==(1&e.flags)}function fs(e){return!!e.template}function rl(e){return 0!=(512&e[ii])}function $(e,n){return e.hasOwnProperty(Qs)?e[Qs]:null}let Pe=null,U=!1;function ie(e){const n=Pe;return Pe=e,n}const de={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Ee(e){if(!Vt(e)||e.dirty){if(!e.producerMustRecompute(e)&&!lt(e))return void(e.dirty=!1);e.producerRecomputeValue(e),e.dirty=!1}}function Xe(e){e.dirty=!0,function Fe(e){if(void 0===e.liveConsumerNode)return;const n=U;U=!0;try{for(const t of e.liveConsumerNode)t.dirty||Xe(t)}finally{U=n}}(e),e.consumerMarkedDirty?.(e)}function Qe(e){return e&&(e.nextProducerIndex=0),ie(e)}function nt(e,n){if(ie(n),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(Vt(e))for(let t=e.nextProducerIndex;t<e.producerNode.length;t++)jt(e.producerNode[t],e.producerIndexOfThis[t]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function lt(e){Bt(e);for(let n=0;n<e.producerNode.length;n++){const t=e.producerNode[n],d=e.producerLastReadVersion[n];if(d!==t.version||(Ee(t),d!==t.version))return!0}return!1}function xt(e){if(Bt(e),Vt(e))for(let n=0;n<e.producerNode.length;n++)jt(e.producerNode[n],e.producerIndexOfThis[n]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function jt(e,n){if(function Xt(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}(e),Bt(e),1===e.liveConsumerNode.length)for(let d=0;d<e.producerNode.length;d++)jt(e.producerNode[d],e.producerIndexOfThis[d]);const t=e.liveConsumerNode.length-1;if(e.liveConsumerNode[n]=e.liveConsumerNode[t],e.liveConsumerIndexOfThis[n]=e.liveConsumerIndexOfThis[t],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,n<e.liveConsumerNode.length){const d=e.liveConsumerIndexOfThis[n],P=e.liveConsumerNode[n];Bt(P),P.producerIndexOfThis[d]=n}}function Vt(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Bt(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}let tr=null;const ci=()=>{},Li=(()=>({...de,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:e=>{e.schedule(e.ref)},hasRun:!1,cleanupFn:ci}))();class fo{constructor(n,t,d){this.previousValue=n,this.currentValue=t,this.firstChange=d}isFirstChange(){return this.firstChange}}function Ai(){return Ji}function Ji(e){return e.type.prototype.ngOnChanges&&(e.setInput=_a),Vo}function Vo(){const e=oa(this),n=e?.current;if(n){const t=e.previous;if(t===os)e.previous=n;else for(let d in n)t[d]=n[d];e.current=null,this.ngOnChanges(n)}}function _a(e,n,t,d){const P=this.declaredInputs[t],J=oa(e)||function Ui(e,n){return e[Zo]=n}(e,{previous:os,current:null}),ue=J.current||(J.current={}),Ne=J.previous,He=Ne[P];ue[P]=new fo(He&&He.currentValue,n,Ne===os),e[d]=n}Ai.ngInherit=!0;const Zo="__ngSimpleChanges__";function oa(e){return e[Zo]||null}const Pi=function(e,n,t){};function pi(e){for(;Array.isArray(e);)e=e[ao];return e}function go(e,n){return pi(n[e.index])}function Uo(e,n){return e.data[n]}function Ho(e,n){const t=n[e];return Fi(t)?t:t[ao]}function _u(e,n){return null==n?null:e[n]}function Lf(e){e[Vs]=0}function ih(e){1024&e[ii]||(e[ii]|=1024,oh(e,1))}function cf(e){1024&e[ii]&&(e[ii]&=-1025,oh(e,-1))}function oh(e,n){let t=e[Ni];if(null===t)return;t[Ll]+=n;let d=t;for(t=t[Ni];null!==t&&(1===n&&1===d[Ll]||-1===n&&0===d[Ll]);)t[Ll]+=n,d=t,t=t[Ni]}const xi={lFrame:xv(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function hp(){return xi.bindingsEnabled}function Nf(){return null!==xi.skipHydrationRootTNode}function Cr(){return xi.lFrame.lView}function so(){return xi.lFrame.tView}function Rs(){let e=mp();for(;null!==e&&64===e.type;)e=e.parent;return e}function mp(){return xi.lFrame.currentTNode}function xa(e,n){const t=xi.lFrame;t.currentTNode=e,t.isParent=n}function ig(){return xi.lFrame.isParent}function vp(){xi.lFrame.isParent=!1}function Cc(){return xi.lFrame.bindingIndex++}function ac(e){const n=xi.lFrame,t=n.bindingIndex;return n.bindingIndex=n.bindingIndex+e,t}function c_(e,n){const t=xi.lFrame;t.bindingIndex=t.bindingRootIndex=e,og(n)}function og(e){xi.lFrame.currentDirectiveIndex=e}function _v(){return xi.lFrame.currentQueryIndex}function sg(e){xi.lFrame.currentQueryIndex=e}function d_(e){const n=e[Gr];return 2===n.type?n.declTNode:1===n.type?e[co]:null}function yp(e,n,t){if(t&di.SkipSelf){let P=n,J=e;for(;!(P=P.parent,null!==P||t&di.Host||(P=d_(J),null===P||(J=J[ss],10&P.type))););if(null===P)return!1;n=P,e=J}const d=xi.lFrame=Ff();return d.currentTNode=n,d.lView=e,!0}function lg(e){const n=Ff(),t=e[Gr];xi.lFrame=n,n.currentTNode=t.firstChild,n.lView=e,n.tView=t,n.contextLView=e,n.bindingIndex=t.bindingStartIndex,n.inI18n=!1}function Ff(){const e=xi.lFrame,n=null===e?null:e.child;return null===n?xv(e):n}function xv(e){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=n),n}function Aa(){const e=xi.lFrame;return xi.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const lh=Aa;function _p(){const e=Aa();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Ts(){return xi.lFrame.selectedIndex}function df(e){xi.lFrame.selectedIndex=e}function Sa(){const e=xi.lFrame;return Uo(e.tView,e.selectedIndex)}let fd=!0;function wp(){return fd}function sc(e){fd=e}function dd(e,n){for(let t=n.directiveStart,d=n.directiveEnd;t<d;t++){const J=e.data[t].type.prototype,{ngAfterContentInit:ue,ngAfterContentChecked:Ne,ngAfterViewInit:He,ngAfterViewChecked:rt,ngOnDestroy:yt}=J;ue&&(e.contentHooks??=[]).push(-t,ue),Ne&&((e.contentHooks??=[]).push(t,Ne),(e.contentCheckHooks??=[]).push(t,Ne)),He&&(e.viewHooks??=[]).push(-t,He),rt&&((e.viewHooks??=[]).push(t,rt),(e.viewCheckHooks??=[]).push(t,rt)),null!=yt&&(e.destroyHooks??=[]).push(t,yt)}}function hd(e,n,t){bv(e,n,3,t)}function Ul(e,n,t,d){(3&e[ii])===t&&bv(e,n,t,d)}function dg(e,n){let t=e[ii];(3&t)===n&&(t&=8191,t+=1,e[ii]=t)}function bv(e,n,t,d){const J=d??-1,ue=n.length-1;let Ne=0;for(let He=void 0!==d?65535&e[Vs]:0;He<ue;He++)if("number"==typeof n[He+1]){if(Ne=n[He],null!=d&&Ne>=d)break}else n[He]<0&&(e[Vs]+=65536),(Ne<J||-1==J)&&(Tv(e,t,n,He),e[Vs]=(4294901760&e[Vs])+He+2),He++}function wv(e,n){Pi(4,e,n);const t=ie(null);try{n.call(e)}finally{ie(t),Pi(5,e,n)}}function Tv(e,n,t,d){const P=t[d]<0,J=t[d+1],Ne=e[P?-t[d]:t[d]];P?e[ii]>>13<e[Vs]>>16&&(3&e[ii])===n&&(e[ii]+=8192,wv(Ne,J)):wv(Ne,J)}const zf=-1;class lc{constructor(n,t,d){this.factory=n,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=d}}function fh(e){return e!==zf}function Dc(e){return 32767&e}function dh(e,n){let t=function Uu(e){return e>>16}(e),d=n;for(;t>0;)d=d[ss],t--;return d}let hg=!0;function Mp(e){const n=hg;return hg=e,n}const pg=255,gg=5;let __=0;const uc={};function Ms(e,n){const t=vg(e,n);if(-1!==t)return t;const d=n[Gr];d.firstCreatePass&&(e.injectorIndex=n.length,mg(d.data,e),mg(n,null),mg(d.blueprint,null));const P=Sp(e,n),J=e.injectorIndex;if(fh(P)){const ue=Dc(P),Ne=dh(P,n),He=Ne[Gr].data;for(let rt=0;rt<8;rt++)n[J+rt]=Ne[ue+rt]|He[ue+rt]}return n[J+8]=P,J}function mg(e,n){e.push(0,0,0,0,0,0,0,0,n)}function vg(e,n){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===n[e.injectorIndex+8]?-1:e.injectorIndex}function Sp(e,n){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let t=0,d=null,P=n;for(;null!==P;){if(d=jf(P),null===d)return zf;if(t++,P=P[ss],-1!==d.injectorIndex)return d.injectorIndex|t<<16}return zf}function kp(e,n,t){!function Mv(e,n,t){let d;"string"==typeof t?d=t.charCodeAt(0)||0:t.hasOwnProperty(fl)&&(d=t[fl]),null==d&&(d=t[fl]=__++);const P=d&pg;n.data[e+(P>>gg)]|=1<<P}(e,n,t)}function yg(e,n,t){if(t&di.Optional||void 0!==e)return e;hn()}function Ep(e,n,t,d){if(t&di.Optional&&void 0===d&&(d=null),!(t&(di.Self|di.Host))){const P=e[Ro],J=ca(void 0);try{return P?P.get(n,d,t&di.Optional):lu(n,d,t&di.Optional)}finally{ca(J)}}return yg(d,0,t)}function Av(e,n,t,d=di.Default,P){if(null!==e){if(2048&n[ii]&&!(d&di.Self)){const ue=function Ic(e,n,t,d,P){let J=e,ue=n;for(;null!==J&&null!==ue&&2048&ue[ii]&&!(512&ue[ii]);){const Ne=Sv(J,ue,t,d|di.Self,uc);if(Ne!==uc)return Ne;let He=J.parent;if(!He){const rt=ue[Os];if(rt){const yt=rt.get(t,uc,d);if(yt!==uc)return yt}He=jf(ue),ue=ue[ss]}J=He}return P}(e,n,t,d,uc);if(ue!==uc)return ue}const J=Sv(e,n,t,d,uc);if(J!==uc)return J}return Ep(n,t,d,P)}function Sv(e,n,t,d,P){const J=function hh(e){if("string"==typeof e)return e.charCodeAt(0)||0;const n=e.hasOwnProperty(fl)?e[fl]:void 0;return"number"==typeof n?n>=0?n&pg:xg:n}(t);if("function"==typeof J){if(!yp(n,e,d))return d&di.Host?yg(P,0,d):Ep(n,t,d,P);try{let ue;if(ue=J(d),null!=ue||d&di.Optional)return ue;hn()}finally{lh()}}else if("number"==typeof J){let ue=null,Ne=vg(e,n),He=zf,rt=d&di.Host?n[Dr][co]:null;for((-1===Ne||d&di.SkipSelf)&&(He=-1===Ne?Sp(e,n):n[Ne+8],He!==zf&&_g(d,!1)?(ue=n[Gr],Ne=Dc(He),n=dh(He,n)):Ne=-1);-1!==Ne;){const yt=n[Gr];if(Ja(J,Ne,yt.data)){const Nt=kv(Ne,n,t,ue,d,rt);if(Nt!==uc)return Nt}He=n[Ne+8],He!==zf&&_g(d,n[Gr].data[Ne+8]===rt)&&Ja(J,Ne,n)?(ue=yt,Ne=Dc(He),n=dh(He,n)):Ne=-1}}return P}function kv(e,n,t,d,P,J){const ue=n[Gr],Ne=ue.data[e+8],yt=Cp(Ne,ue,t,null==d?Ba(Ne)&&hg:d!=ue&&0!=(3&Ne.type),P&di.Host&&J===Ne);return null!==yt?Bf(n,ue,yt,Ne):uc}function Cp(e,n,t,d,P){const J=e.providerIndexes,ue=n.data,Ne=1048575&J,He=e.directiveStart,yt=J>>20,Zt=P?Ne+yt:e.directiveEnd;for(let dn=d?Ne:Ne+yt;dn<Zt;dn++){const jn=ue[dn];if(dn<He&&t===jn||dn>=He&&jn.type===t)return dn}if(P){const dn=ue[He];if(dn&&fs(dn)&&dn.type===t)return He}return null}function Bf(e,n,t,d){let P=e[t];const J=n.data;if(function g_(e){return e instanceof lc}(P)){const ue=P;ue.resolving&&function Nn(e,n){const t=n?`. Dependency path: ${n.join(" > ")} > ${e}`:"";throw new yn(-200,`Circular dependency in DI detected for ${e}${t}`)}(function Jt(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Xn(e)}(J[t]));const Ne=Mp(ue.canSeeViewProviders);ue.resolving=!0;const rt=ue.injectImpl?ca(ue.injectImpl):null;yp(e,d,di.Default);try{P=e[t]=ue.factory(void 0,J,e,d),n.firstCreatePass&&t>=d.directiveStart&&function p_(e,n,t){const{ngOnChanges:d,ngOnInit:P,ngDoCheck:J}=n.type.prototype;if(d){const ue=Ji(n);(t.preOrderHooks??=[]).push(e,ue),(t.preOrderCheckHooks??=[]).push(e,ue)}P&&(t.preOrderHooks??=[]).push(0-e,P),J&&((t.preOrderHooks??=[]).push(e,J),(t.preOrderCheckHooks??=[]).push(e,J))}(t,J[t],n)}finally{null!==rt&&ca(rt),Mp(Ne),ue.resolving=!1,lh()}}return P}function Ja(e,n,t){return!!(t[n+(e>>gg)]&1<<e)}function _g(e,n){return!(e&di.Self||e&di.Host&&n)}class Oi{constructor(n,t){this._tNode=n,this._lView=t}get(n,t,d){return Av(this._tNode,this._lView,n,du(d),t)}}function xg(){return new Oi(Rs(),Cr())}function Ip(e){return bn(e)?()=>{const n=Ip(tn(e));return n&&n()}:$(e)}function jf(e){const n=e[Gr],t=n.type;return 2===t?n.declTNode:1===t?e[co]:null}const md="__parameters__";function yd(e,n,t){return Fa(()=>{const d=function bg(e){return function(...t){if(e){const d=e(...t);for(const P in d)this[P]=d[P]}}}(n);function P(...J){if(this instanceof P)return d.apply(this,J),this;const ue=new P(...J);return Ne.annotation=ue,Ne;function Ne(He,rt,yt){const Nt=He.hasOwnProperty(md)?He[md]:Object.defineProperty(He,md,{value:[]})[md];for(;Nt.length<=yt;)Nt.push(null);return(Nt[yt]=Nt[yt]||[]).push(ue),He}}return t&&(P.prototype=Object.create(t.prototype)),P.prototype.ngMetadataName=e,P.annotationCls=P,P})}function As(e,n){e.forEach(t=>Array.isArray(t)?As(t,n):n(t))}function xd(e,n,t){n>=e.length?e.push(t):e.splice(n,0,t)}function Oc(e,n){return n>=e.length-1?e.pop():e.splice(n,1)[0]}function Ua(e,n){const t=[];for(let d=0;d<e;d++)t.push(n);return t}function Hl(e,n,t){let d=Vf(e,n);return d>=0?e[1|d]=t:(d=~d,function _l(e,n,t,d){let P=e.length;if(P==n)e.push(t,d);else if(1===P)e.push(d,e[0]),e[0]=t;else{for(P--,e.push(e[P-1],e[P]);P>n;)e[P]=e[P-2],P--;e[n]=t,e[n+1]=d}}(e,d,n,t)),d}function Mg(e,n){const t=Vf(e,n);if(t>=0)return e[1|t]}function Vf(e,n){return function Pp(e,n,t){let d=0,P=e.length>>t;for(;P!==d;){const J=d+(P-d>>1),ue=e[J<<t];if(n===ue)return J<<t;ue>n?P=J:d=J+1}return~(P<<t)}(e,n,1)}const vh=Bs(yd("Optional"),8),yh=Bs(yd("SkipSelf"),4);function Th(e){return 128==(128&e.flags)}var Fc=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Fc||{});const gf=new Map;let Gv=0;const Ah="__ngContext__";function Ha(e,n){Fi(n)?(e[Ah]=n[na],function qv(e){gf.set(e[na],e)}(n)):e[Ah]=n}let qp;function Ng(e,n){return qp(e,n)}function bu(e){const n=e[Ni];return wi(n)?n[Ni]:n}function z(e){return me(e[js])}function K(e){return me(e[Yo])}function me(e){for(;null!==e&&!wi(e);)e=e[Yo];return e}function Re(e,n,t,d,P){if(null!=d){let J,ue=!1;wi(d)?J=d:Fi(d)&&(ue=!0,d=d[ao]);const Ne=pi(d);0===e&&null!==t?null==P?kr(n,t,Ne):Pr(n,t,Ne,P||null,!0):1===e&&null!==t?Pr(n,t,Ne,P||null,!0):2===e?function yo(e,n,t){const d=Jr(e,n);d&&function Zr(e,n,t,d){e.removeChild(n,t,d)}(e,d,n,t)}(n,Ne,ue):3===e&&n.destroyNode(Ne),null!=J&&function ps(e,n,t,d,P){const J=t[Ii];J!==pi(t)&&Re(n,e,d,J,P);for(let Ne=bo;Ne<t.length;Ne++){const He=t[Ne];Mo(He[Gr],He,e,n,d,J)}}(n,e,J,t,P)}}function vt(e,n,t){return e.createElement(n,t)}function _n(e,n){const t=e[va],d=t.indexOf(n);cf(n),t.splice(d,1)}function Fn(e,n){if(e.length<=bo)return;const t=bo+n,d=e[t];if(d){const P=d[Ya];null!==P&&P!==e&&_n(P,d),n>0&&(e[t-1][Yo]=d[Yo]);const J=Oc(e,bo+n);!function Ct(e,n){Mo(e,n,n[vi],2,null,null),n[ao]=null,n[co]=null}(d[Gr],d);const ue=J[ls];null!==ue&&ue.detachView(J[Gr]),d[Ni]=null,d[Yo]=null,d[ii]&=-129}return d}function zn(e,n){if(!(256&n[ii])){const t=n[vi];n[us]&&xt(n[us]),n[bs]&&xt(n[bs]),t.destroyNode&&Mo(e,n,t,3,null,null),function Kt(e){let n=e[js];if(!n)return $n(e[Gr],e);for(;n;){let t=null;if(Fi(n))t=n[js];else{const d=n[bo];d&&(t=d)}if(!t){for(;n&&!n[Yo]&&n!==e;)Fi(n)&&$n(n[Gr],n),n=n[Ni];null===n&&(n=e),Fi(n)&&$n(n[Gr],n),t=n&&n[Yo]}n=t}}(n)}}function $n(e,n){if(!(256&n[ii])){n[ii]&=-129,n[ii]|=256,function fr(e,n){let t;if(null!=e&&null!=(t=e.destroyHooks))for(let d=0;d<t.length;d+=2){const P=n[t[d]];if(!(P instanceof lc)){const J=t[d+1];if(Array.isArray(J))for(let ue=0;ue<J.length;ue+=2){const Ne=P[J[ue]],He=J[ue+1];Pi(4,Ne,He);try{He.call(Ne)}finally{Pi(5,Ne,He)}}else{Pi(4,P,J);try{J.call(P)}finally{Pi(5,P,J)}}}}}(e,n),function Jn(e,n){const t=e.cleanup,d=n[Po];if(null!==t)for(let J=0;J<t.length-1;J+=2)if("string"==typeof t[J]){const ue=t[J+3];ue>=0?d[ue]():d[-ue].unsubscribe(),J+=2}else t[J].call(d[t[J+1]]);null!==d&&(n[Po]=null);const P=n[ma];if(null!==P){n[ma]=null;for(let J=0;J<P.length;J++)(0,P[J])()}}(e,n),1===n[Gr].type&&n[vi].destroy();const t=n[Ya];if(null!==t&&wi(n[Ni])){t!==n[Ni]&&_n(t,n);const d=n[ls];null!==d&&d.detachView(e)}!function Wv(e){gf.delete(e[na])}(n)}}function vr(e,n,t){return function xr(e,n,t){let d=n;for(;null!==d&&40&d.type;)d=(n=d).parent;if(null===d)return t[ao];{const{componentOffset:P}=d;if(P>-1){const{encapsulation:J}=e.data[d.directiveStart+P];if(J===Qo.None||J===Qo.Emulated)return null}return go(d,t)}}(e,n.parent,t)}function Pr(e,n,t,d,P){e.insertBefore(n,t,d,P)}function kr(e,n,t){e.appendChild(n,t)}function Vr(e,n,t,d,P){null!==d?Pr(e,n,t,d,P):kr(e,n,t)}function Jr(e,n){return e.parentNode(n)}function ni(e,n,t){return zi(e,n,t)}let Ti,Eo,zi=function Xr(e,n,t){return 40&e.type?go(e,t):null};function si(e,n,t,d){const P=vr(e,d,n),J=n[vi],Ne=ni(d.parent||n[co],d,n);if(null!=P)if(Array.isArray(t))for(let He=0;He<t.length;He++)Vr(J,P,t[He],Ne,!1);else Vr(J,P,t,Ne,!1);void 0!==Ti&&Ti(J,d,n,t,P)}function eo(e,n){if(null!==n){const t=n.type;if(3&t)return go(n,e);if(4&t)return To(-1,e[n.index]);if(8&t){const d=n.child;if(null!==d)return eo(e,d);{const P=e[n.index];return wi(P)?To(-1,P):pi(P)}}if(32&t)return Ng(n,e)()||pi(e[n.index]);{const d=wo(e,n);return null!==d?Array.isArray(d)?d[0]:eo(bu(e[Dr]),d):eo(e,n.next)}}return null}function wo(e,n){return null!==n?e[Dr][co].projection[n.projection]:null}function To(e,n){const t=bo+e+1;if(t<n.length){const d=n[t],P=d[Gr].firstChild;if(null!==P)return eo(d,P)}return n[Ii]}function ba(e,n,t,d,P,J,ue){for(;null!=t;){const Ne=d[t.index],He=t.type;if(ue&&0===n&&(Ne&&Ha(pi(Ne),d),t.flags|=2),32!=(32&t.flags))if(8&He)ba(e,n,t.child,d,P,J,!1),Re(n,e,P,Ne,J);else if(32&He){const rt=Ng(t,d);let yt;for(;yt=rt();)Re(n,e,P,yt,J);Re(n,e,P,Ne,J)}else 16&He?hs(e,n,d,t,P,J):Re(n,e,P,Ne,J);t=ue?t.projectionNext:t.next}}function Mo(e,n,t,d,P,J){ba(t,d,e.firstChild,n,P,J,!1)}function hs(e,n,t,d,P,J){const ue=t[Dr],He=ue[co].projection[d.projection];if(Array.isArray(He))for(let rt=0;rt<He.length;rt++)Re(n,e,P,He[rt],J);else{let rt=He;const yt=ue[Ni];Th(d)&&(rt.flags|=128),ba(e,n,rt,yt,P,J,!0)}}function Na(e,n,t){""===t?e.removeAttribute(n,"class"):e.setAttribute(n,"class",t)}function es(e,n,t){const{mergedAttrs:d,classes:P,styles:J}=t;null!==d&&el(e,n,d),null!==P&&Na(e,n,P),null!==J&&function gs(e,n,t){e.setAttribute(n,"style",t)}(e,n,J)}class Ga{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Gl(e){return e instanceof Ga?e.changingThisBreaksApplicationSecurity:e}const Pd=new $r("ENVIRONMENT_INITIALIZER"),Rd=new $r("INJECTOR",-1),$g=new $r("INJECTOR_DEF_TYPES");class t0{get(n,t=Il){if(t===Il){const d=new Error(`NullInjectorError: No provider for ${dr(n)}!`);throw d.name="NullInjectorError",d}return t}}function e1(...e){return{\u0275providers:Yg(0,e),\u0275fromNgModule:!0}}function Yg(e,...n){const t=[],d=new Set;let P;const J=ue=>{t.push(ue)};return As(n,ue=>{const Ne=ue;Yf(Ne,J,[],d)&&(P||=[],P.push(Ne))}),void 0!==P&&bl(P,J),t}function bl(e,n){for(let t=0;t<e.length;t++){const{ngModule:d,providers:P}=e[t];Su(P,J=>{n(J,d)})}}function Yf(e,n,t,d){if(!(e=tn(e)))return!1;let P=null,J=to(e);const ue=!J&&Ei(e);if(J||ue){if(ue&&!ue.standalone)return!1;P=e}else{const He=e.ngModule;if(J=to(He),!J)return!1;P=He}const Ne=d.has(P);if(ue){if(Ne)return!1;if(d.add(P),ue.dependencies){const He="function"==typeof ue.dependencies?ue.dependencies():ue.dependencies;for(const rt of He)Yf(rt,n,t,d)}}else{if(!J)return!1;{if(null!=J.imports&&!Ne){let rt;d.add(P);try{As(J.imports,yt=>{Yf(yt,n,t,d)&&(rt||=[],rt.push(yt))})}finally{}void 0!==rt&&bl(rt,n)}if(!Ne){const rt=$(P)||(()=>new P);n({provide:P,useFactory:rt,deps:Mi},P),n({provide:$g,useValue:P,multi:!0},P),n({provide:Pd,useValue:()=>Hr(P),multi:!0},P)}const He=J.providers;if(null!=He&&!Ne){const rt=e;Su(He,yt=>{n(yt,rt)})}}}return P!==e&&void 0!==e.providers}function Su(e,n){for(let t of e)Cn(t)&&(t=t.\u0275providers),Array.isArray(t)?Su(t,n):n(t)}const L_=lr({provide:String,useValue:lr});function r0(e){return null!==e&&"object"==typeof e&&L_ in e}function ku(e){return"function"==typeof e}const yf=new $r("Set Injector scope."),Lh={},t1={};let o0;function Nh(){return void 0===o0&&(o0=new t0),o0}class Gs{}class _f extends Gs{get destroyed(){return this._destroyed}constructor(n,t,d,P){super(),this.parent=t,this.source=d,this.scopes=P,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,s0(n,ue=>this.processProvider(ue)),this.records.set(Rd,Xf(void 0,this)),P.has("environment")&&this.records.set(Gs,Xf(void 0,this));const J=this.records.get(yf);null!=J&&"string"==typeof J.value&&this.scopes.add(J.value),this.injectorDefTypes=new Set(this.get($g.multi,Mi,di.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const t of n)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const t=$a(this),d=ca(void 0);try{return n()}finally{$a(t),ca(d)}}get(n,t=Il,d=di.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(Zl))return n[Zl](this);d=du(d);const J=$a(this),ue=ca(void 0);try{if(!(d&di.SkipSelf)){let He=this.records.get(n);if(void 0===He){const rt=function r1(e){return"function"==typeof e||"object"==typeof e&&e instanceof $r}(n)&&Fr(n);He=rt&&this.injectableDefInScope(rt)?Xf($u(n),Lh):null,this.records.set(n,He)}if(null!=He)return this.hydrate(n,He)}return(d&di.Self?Nh():this.parent).get(n,t=d&di.Optional&&t===Il?null:t)}catch(Ne){if("NullInjectorError"===Ne.name){if((Ne[zs]=Ne[zs]||[]).unshift(dr(n)),J)throw Ne;return function cl(e,n,t,d){const P=e[zs];throw n[rc]&&P.unshift(n[rc]),e.message=function sf(e,n,t,d=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let P=dr(n);if(Array.isArray(n))P=n.map(dr).join(" -> ");else if("object"==typeof n){let J=[];for(let ue in n)if(n.hasOwnProperty(ue)){let Ne=n[ue];J.push(ue+":"+("string"==typeof Ne?JSON.stringify(Ne):dr(Ne)))}P=`{${J.join(", ")}}`}return`${t}${d?"("+d+")":""}[${P}]: ${e.replace(Mc,"\n  ")}`}("\n"+e.message,P,t,d),e.ngTokenPath=P,e[zs]=null,e}(Ne,n,"R3InjectorError",this.source)}throw Ne}finally{ca(ue),$a(J)}}resolveInjectorInitializers(){const n=$a(this),t=ca(void 0);try{const P=this.get(Pd.multi,Mi,di.Self);for(const J of P)J()}finally{$a(n),ca(t)}}toString(){const n=[],t=this.records;for(const d of t.keys())n.push(dr(d));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new yn(205,!1)}processProvider(n){let t=ku(n=tn(n))?n:tn(n&&n.provide);const d=function Zg(e){return r0(e)?Xf(void 0,e.useValue):Xf(function a0(e,n,t){let d;if(ku(e)){const P=tn(e);return $(P)||$u(P)}if(r0(e))d=()=>tn(e.useValue);else if(function Zf(e){return!(!e||!e.useFactory)}(e))d=()=>e.useFactory(...is(e.deps||[]));else if(function vf(e){return!(!e||!e.useExisting)}(e))d=()=>Hr(tn(e.useExisting));else{const P=tn(e&&(e.useClass||e.provide));if(!function N_(e){return!!e.deps}(e))return $(P)||$u(P);d=()=>new P(...is(e.deps))}return d}(e),Lh)}(n);if(ku(n)||!0!==n.multi)this.records.get(t);else{let P=this.records.get(t);P||(P=Xf(void 0,Lh,!0),P.factory=()=>is(P.multi),this.records.set(t,P)),t=n,P.multi.push(n)}this.records.set(t,d)}hydrate(n,t){return t.value===Lh&&(t.value=t1,t.value=t.factory()),"object"==typeof t.value&&t.value&&function Xg(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(n){if(!n.providedIn)return!1;const t=tn(n.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(n){const t=this._onDestroyHooks.indexOf(n);-1!==t&&this._onDestroyHooks.splice(t,1)}}function $u(e){const n=Fr(e),t=null!==n?n.factory:$(e);if(null!==t)return t;if(e instanceof $r)throw new yn(204,!1);if(e instanceof Function)return function n1(e){const n=e.length;if(n>0)throw Ua(n,"?"),new yn(204,!1);const t=function uo(e){return e&&(e[oo]||e[Io])||null}(e);return null!==t?()=>t.factory(e):()=>new e}(e);throw new yn(204,!1)}function Xf(e,n,t=!1){return{factory:e,value:n,multi:t?[]:void 0}}function s0(e,n){for(const t of e)Array.isArray(t)?s0(t,n):t&&Cn(t)?s0(t.\u0275providers,n):n(t)}const Nd=new $r("AppId",{providedIn:"root",factory:()=>i1}),i1="ng",Fd=new $r("Platform Initializer"),xf=new $r("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Kg=new $r("CSP nonce",{providedIn:"root",factory:()=>function Co(){if(void 0!==Eo)return Eo;if(typeof document<"u")return document;throw new yn(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Ew=(e,n,t)=>null;function U_(e,n,t=!1){return Ew(e,n,t)}class yC{}class Iw{}class xC{resolveComponentFactory(n){throw function _C(e){const n=Error(`No component factory found for ${dr(e)}.`);return n.ngComponent=e,n}(n)}}let l1=(()=>{class e{static#e=this.NULL=new xC}return e})();function bC(){return u0(Rs(),Cr())}function u0(e,n){return new Xo(go(e,n))}let Xo=(()=>{class e{constructor(t){this.nativeElement=t}static#e=this.__NG_ELEMENT_ID__=bC}return e})();function wC(e){return e instanceof Xo?e.nativeElement:e}class q_{}let MC=(()=>{class e{static#e=this.\u0275prov=Qn({token:e,providedIn:"root",factory:()=>null})}return e})();class nm{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const AC=new nm("16.2.12"),W_={};function Nw(e,n=null,t=null,d){const P=Fw(e,n,t,d);return P.resolveInjectorInitializers(),P}function Fw(e,n=null,t=null,d,P=new Set){const J=[t||Mi,e1(e)];return d=d||("object"==typeof e?void 0:dr(e)),new _f(J,n||Nh(),d||null,P)}let wl=(()=>{class e{static#e=this.THROW_IF_NOT_FOUND=Il;static#t=this.NULL=new t0;static create(t,d){if(Array.isArray(t))return Nw({name:""},d,t,"");{const P=t.name??"";return Nw({name:P},t.parent,t.providers,P)}}static#n=this.\u0275prov=Qn({token:e,providedIn:"any",factory:()=>Hr(Rd)});static#r=this.__NG_ELEMENT_ID__=-1}return e})();function $_(e){return e.ngOriginalError}class Kf{constructor(){this._console=console}handleError(n){const t=this._findOriginalError(n);this._console.error("ERROR",n),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(n){let t=n&&$_(n);for(;t&&$_(t);)t=$_(t);return t||null}}function Y_(e){return n=>{setTimeout(e,void 0,n)}}const mi=class PC extends Y{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,t,d){let P=n,J=t||(()=>null),ue=d;if(n&&"object"==typeof n){const He=n;P=He.next?.bind(He),J=He.error?.bind(He),ue=He.complete?.bind(He)}this.__isAsync&&(J=Y_(J),P&&(P=Y_(P)),ue&&(ue=Y_(ue)));const Ne=super.subscribe({next:P,error:J,complete:ue});return n instanceof D&&n.add(Ne),Ne}};function Bw(...e){}class xo{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new mi(!1),this.onMicrotaskEmpty=new mi(!1),this.onStable=new mi(!1),this.onError=new mi(!1),typeof Zone>"u")throw new yn(908,!1);Zone.assertZonePatched();const P=this;P._nesting=0,P._outer=P._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(P._inner=P._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(P._inner=P._inner.fork(Zone.longStackTraceZoneSpec)),P.shouldCoalesceEventChangeDetection=!d&&t,P.shouldCoalesceRunChangeDetection=d,P.lastRequestAnimationFrameId=-1,P.nativeRequestAnimationFrame=function RC(){const e="function"==typeof ji.requestAnimationFrame;let n=ji[e?"requestAnimationFrame":"setTimeout"],t=ji[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&n&&t){const d=n[Zone.__symbol__("OriginalDelegate")];d&&(n=d);const P=t[Zone.__symbol__("OriginalDelegate")];P&&(t=P)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function FC(e){const n=()=>{!function NC(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(ji,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,X_(e),e.isCheckStableRunning=!0,Z_(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),X_(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,d,P,J,ue,Ne)=>{if(function BC(e){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0].data?.__ignore_ng_zone__}(Ne))return t.invokeTask(P,J,ue,Ne);try{return jw(e),t.invokeTask(P,J,ue,Ne)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===J.type||e.shouldCoalesceRunChangeDetection)&&n(),Vw(e)}},onInvoke:(t,d,P,J,ue,Ne,He)=>{try{return jw(e),t.invoke(P,J,ue,Ne,He)}finally{e.shouldCoalesceRunChangeDetection&&n(),Vw(e)}},onHasTask:(t,d,P,J)=>{t.hasTask(P,J),d===P&&("microTask"==J.change?(e._hasPendingMicrotasks=J.microTask,X_(e),Z_(e)):"macroTask"==J.change&&(e.hasPendingMacrotasks=J.macroTask))},onHandleError:(t,d,P,J)=>(t.handleError(P,J),e.runOutsideAngular(()=>e.onError.emit(J)),!1)})}(P)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!xo.isInAngularZone())throw new yn(909,!1)}static assertNotInAngularZone(){if(xo.isInAngularZone())throw new yn(909,!1)}run(n,t,d){return this._inner.run(n,t,d)}runTask(n,t,d,P){const J=this._inner,ue=J.scheduleEventTask("NgZoneEvent: "+P,n,LC,Bw,Bw);try{return J.runTask(ue,t,d)}finally{J.cancelTask(ue)}}runGuarded(n,t,d){return this._inner.runGuarded(n,t,d)}runOutsideAngular(n){return this._outer.run(n)}}const LC={};function Z_(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function X_(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function jw(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Vw(e){e._nesting--,Z_(e)}class zC{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new mi,this.onMicrotaskEmpty=new mi,this.onStable=new mi,this.onError=new mi}run(n,t,d){return n.apply(t,d)}runGuarded(n,t,d){return n.apply(t,d)}runOutsideAngular(n){return n()}runTask(n,t,d,P){return n.apply(t,d)}}const Uw=new $r("",{providedIn:"root",factory:Hw});function Hw(){const e=Br(xo);let n=!0;return function Tn(...e){const n=$t(e),t=function Qt(e,n){return"number"==typeof It(e)?e.pop():n}(e,1/0),d=e;return d.length?1===d.length?it(d[0]):St(t)(un(d,n)):_t}(new L(P=>{n=e.isStable&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks,e.runOutsideAngular(()=>{P.next(n),P.complete()})}),new L(P=>{let J;e.runOutsideAngular(()=>{J=e.onStable.subscribe(()=>{xo.assertNotInAngularZone(),queueMicrotask(()=>{!n&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks&&(n=!0,P.next(!0))})})});const ue=e.onUnstable.subscribe(()=>{xo.assertInAngularZone(),n&&(n=!1,e.runOutsideAngular(()=>{P.next(!1)}))});return()=>{J.unsubscribe(),ue.unsubscribe()}}).pipe(Rn()))}function Qf(e){return e instanceof Function?e():e}let J_=(()=>{class e{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=Qn({token:e,providedIn:"root",factory:()=>new e})}return e})();function rm(e){for(;e;){e[ii]|=64;const n=bu(e);if(rl(e)&&!n)return e;e=n}return null}const Yw=new $r("",{providedIn:"root",factory:()=>!1});let f1=null;function Kw(e,n){return e[n]??t3()}function Qw(e,n){const t=t3();t.producerNode?.length&&(e[n]=f1,t.lView=e,f1=e3())}const ZC={...de,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{rm(e.lView)},lView:null};function e3(){return Object.create(ZC)}function t3(){return f1??=e3(),f1}const Bi={};function yi(e){n3(so(),Cr(),Ts()+e,!1)}function n3(e,n,t,d){if(!d)if(3==(3&n[ii])){const J=e.preOrderCheckHooks;null!==J&&hd(n,J,t)}else{const J=e.preOrderHooks;null!==J&&Ul(n,J,0,t)}df(t)}function er(e,n=di.Default){const t=Cr();return null===t?Hr(e,n):Av(Rs(),t,tn(e),n)}function d1(e,n,t,d,P,J,ue,Ne,He,rt,yt){const Nt=n.blueprint.slice();return Nt[ao]=P,Nt[ii]=140|d,(null!==rt||e&&2048&e[ii])&&(Nt[ii]|=2048),Lf(Nt),Nt[Ni]=Nt[ss]=e,Nt[Lr]=t,Nt[nl]=ue||e&&e[nl],Nt[vi]=Ne||e&&e[vi],Nt[Ro]=He||e&&e[Ro]||null,Nt[co]=J,Nt[na]=function La(){return Gv++}(),Nt[ra]=yt,Nt[Os]=rt,Nt[Dr]=2==n.type?e[Dr]:Nt,Nt}function h0(e,n,t,d,P){let J=e.data[n];if(null===J)J=function K_(e,n,t,d,P){const J=mp(),ue=ig(),He=e.data[n]=function r6(e,n,t,d,P,J){let ue=n?n.injectorIndex:-1,Ne=0;return Nf()&&(Ne|=128),{type:t,index:d,insertBeforeIndex:null,injectorIndex:ue,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:Ne,providerIndexes:0,value:P,attrs:J,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,ue?J:J&&J.parent,t,n,d,P);return null===e.firstChild&&(e.firstChild=He),null!==J&&(ue?null==J.child&&null!==He.parent&&(J.child=He):null===J.next&&(J.next=He,He.prev=J)),He}(e,n,t,d,P),function ff(){return xi.lFrame.inI18n}()&&(J.flags|=32);else if(64&J.type){J.type=t,J.value=d,J.attrs=P;const ue=function ju(){const e=xi.lFrame,n=e.currentTNode;return e.isParent?n:n.parent}();J.injectorIndex=null===ue?-1:ue.injectorIndex}return xa(J,!0),J}function im(e,n,t,d){if(0===t)return-1;const P=n.length;for(let J=0;J<t;J++)n.push(d),e.blueprint.push(d),e.data.push(null);return P}function o3(e,n,t,d,P){const J=Kw(n,us),ue=Ts(),Ne=2&d;try{df(-1),Ne&&n.length>ai&&n3(e,n,ai,!1),Pi(Ne?2:0,P);const rt=Ne?J:null,yt=Qe(rt);try{null!==rt&&(rt.dirty=!1),t(d,P)}finally{nt(rt,yt)}}finally{Ne&&null===n[us]&&Qw(n,us),df(ue),Pi(Ne?3:1,P)}}function Q_(e,n,t){if(Za(n)){const d=ie(null);try{const J=n.directiveEnd;for(let ue=n.directiveStart;ue<J;ue++){const Ne=e.data[ue];Ne.contentQueries&&Ne.contentQueries(1,t[ue],ue)}}finally{ie(d)}}}function ex(e,n,t){hp()&&(function c6(e,n,t,d){const P=t.directiveStart,J=t.directiveEnd;Ba(t)&&function v6(e,n,t){const d=go(n,e),P=a3(t);let ue=16;t.signals?ue=4096:t.onPush&&(ue=64);const Ne=h1(e,d1(e,P,null,ue,d,n,null,e[nl].rendererFactory.createRenderer(d,t),null,null,null));e[n.index]=Ne}(n,t,e.data[P+t.componentOffset]),e.firstCreatePass||Ms(t,n),Ha(d,n);const ue=t.initialInputs;for(let Ne=P;Ne<J;Ne++){const He=e.data[Ne],rt=Bf(n,e,Ne,t);Ha(rt,n),null!==ue&&y6(0,Ne-P,rt,He,0,ue),fs(He)&&(Ho(t.index,n)[Lr]=Bf(n,e,Ne,t))}}(e,n,t,go(t,n)),64==(64&t.flags)&&f3(e,n,t))}function tx(e,n,t=go){const d=n.localNames;if(null!==d){let P=n.index+1;for(let J=0;J<d.length;J+=2){const ue=d[J+1],Ne=-1===ue?t(n,e):e[ue];e[P++]=Ne}}}function a3(e){const n=e.tView;return null===n||n.incompleteFirstPass?e.tView=nx(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):n}function nx(e,n,t,d,P,J,ue,Ne,He,rt,yt){const Nt=ai+d,Zt=Nt+P,dn=function JC(e,n){const t=[];for(let d=0;d<n;d++)t.push(d<e?null:Bi);return t}(Nt,Zt),jn="function"==typeof rt?rt():rt;return dn[Gr]={type:e,blueprint:dn,template:t,queries:null,viewQuery:Ne,declTNode:n,data:dn.slice().fill(null,Nt),bindingStartIndex:Nt,expandoStartIndex:Zt,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof J?J():J,pipeRegistry:"function"==typeof ue?ue():ue,firstChild:null,schemas:He,consts:jn,incompleteFirstPass:!1,ssrId:yt}}let s3=e=>null;function l3(e,n,t,d){for(let P in e)if(e.hasOwnProperty(P)){t=null===t?{}:t;const J=e[P];null===d?u3(t,n,P,J):d.hasOwnProperty(P)&&u3(t,n,d[P],J)}return t}function u3(e,n,t,d){e.hasOwnProperty(t)?e[t].push(n,d):e[t]=[n,d]}function rx(e,n,t,d){if(hp()){const P=null===d?null:{"":-1},J=function d6(e,n){const t=e.directiveRegistry;let d=null,P=null;if(t)for(let J=0;J<t.length;J++){const ue=t[J];if(oc(n,ue.selectors,!1))if(d||(d=[]),fs(ue))if(null!==ue.findHostDirectiveDefs){const Ne=[];P=P||new Map,ue.findHostDirectiveDefs(ue,Ne,P),d.unshift(...Ne,ue),ix(e,n,Ne.length)}else d.unshift(ue),ix(e,n,0);else P=P||new Map,ue.findHostDirectiveDefs?.(ue,d,P),d.push(ue)}return null===d?null:[d,P]}(e,t);let ue,Ne;null===J?ue=Ne=null:[ue,Ne]=J,null!==ue&&c3(e,n,t,ue,P,Ne),P&&function h6(e,n,t){if(n){const d=e.localNames=[];for(let P=0;P<n.length;P+=2){const J=t[n[P+1]];if(null==J)throw new yn(-301,!1);d.push(n[P],J)}}}(t,d,P)}t.mergedAttrs=xs(t.mergedAttrs,t.attrs)}function c3(e,n,t,d,P,J){for(let rt=0;rt<d.length;rt++)kp(Ms(t,n),e,d[rt].type);!function g6(e,n,t){e.flags|=1,e.directiveStart=n,e.directiveEnd=n+t,e.providerIndexes=n}(t,e.data.length,d.length);for(let rt=0;rt<d.length;rt++){const yt=d[rt];yt.providersResolver&&yt.providersResolver(yt)}let ue=!1,Ne=!1,He=im(e,n,d.length,null);for(let rt=0;rt<d.length;rt++){const yt=d[rt];t.mergedAttrs=xs(t.mergedAttrs,yt.hostAttrs),m6(e,t,n,He,yt),p6(He,yt,P),null!==yt.contentQueries&&(t.flags|=4),(null!==yt.hostBindings||null!==yt.hostAttrs||0!==yt.hostVars)&&(t.flags|=64);const Nt=yt.type.prototype;!ue&&(Nt.ngOnChanges||Nt.ngOnInit||Nt.ngDoCheck)&&((e.preOrderHooks??=[]).push(t.index),ue=!0),!Ne&&(Nt.ngOnChanges||Nt.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(t.index),Ne=!0),He++}!function i6(e,n,t){const P=n.directiveEnd,J=e.data,ue=n.attrs,Ne=[];let He=null,rt=null;for(let yt=n.directiveStart;yt<P;yt++){const Nt=J[yt],Zt=t?t.get(Nt):null,jn=Zt?Zt.outputs:null;He=l3(Nt.inputs,yt,He,Zt?Zt.inputs:null),rt=l3(Nt.outputs,yt,rt,jn);const qn=null===He||null===ue||kc(n)?null:_6(He,yt,ue);Ne.push(qn)}null!==He&&(He.hasOwnProperty("class")&&(n.flags|=8),He.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=Ne,n.inputs=He,n.outputs=rt}(e,t,J)}function f3(e,n,t){const d=t.directiveStart,P=t.directiveEnd,J=t.index,ue=function f_(){return xi.lFrame.currentDirectiveIndex}();try{df(J);for(let Ne=d;Ne<P;Ne++){const He=e.data[Ne],rt=n[Ne];og(Ne),(null!==He.hostBindings||0!==He.hostVars||null!==He.hostAttrs)&&f6(He,rt)}}finally{df(-1),og(ue)}}function f6(e,n){null!==e.hostBindings&&e.hostBindings(1,n)}function ix(e,n,t){n.componentOffset=t,(e.components??=[]).push(n.index)}function p6(e,n,t){if(t){if(n.exportAs)for(let d=0;d<n.exportAs.length;d++)t[n.exportAs[d]]=e;fs(n)&&(t[""]=e)}}function m6(e,n,t,d,P){e.data[d]=P;const J=P.factory||(P.factory=$(P.type)),ue=new lc(J,fs(P),er);e.blueprint[d]=ue,t[d]=ue,function l6(e,n,t,d,P){const J=P.hostBindings;if(J){let ue=e.hostBindingOpCodes;null===ue&&(ue=e.hostBindingOpCodes=[]);const Ne=~n.index;(function u6(e){let n=e.length;for(;n>0;){const t=e[--n];if("number"==typeof t&&t<0)return t}return 0})(ue)!=Ne&&ue.push(Ne),ue.push(t,d,J)}}(e,n,d,im(e,t,P.hostVars,Bi),P)}function wf(e,n,t,d,P,J){const ue=go(e,n);!function ox(e,n,t,d,P,J,ue){if(null==J)e.removeAttribute(n,P,t);else{const Ne=null==ue?Xn(J):ue(J,d||"",P);e.setAttribute(n,P,Ne,t)}}(n[vi],ue,J,e.value,t,d,P)}function y6(e,n,t,d,P,J){const ue=J[n];if(null!==ue)for(let Ne=0;Ne<ue.length;)d3(d,t,ue[Ne++],ue[Ne++],ue[Ne++])}function d3(e,n,t,d,P){const J=ie(null);try{const ue=e.inputTransforms;null!==ue&&ue.hasOwnProperty(d)&&(P=ue[d].call(n,P)),null!==e.setInput?e.setInput(n,P,t,d):n[d]=P}finally{ie(J)}}function _6(e,n,t){let d=null,P=0;for(;P<t.length;){const J=t[P];if(0!==J)if(5!==J){if("number"==typeof J)break;if(e.hasOwnProperty(J)){null===d&&(d=[]);const ue=e[J];for(let Ne=0;Ne<ue.length;Ne+=2)if(ue[Ne]===n){d.push(J,ue[Ne+1],t[P+1]);break}}P+=2}else P+=2;else P+=4}return d}function h3(e,n,t,d){return[e,!0,!1,n,null,0,d,t,null,null,null]}function p3(e,n){const t=e.contentQueries;if(null!==t)for(let d=0;d<t.length;d+=2){const J=t[d+1];if(-1!==J){const ue=e.data[J];sg(t[d]),ue.contentQueries(2,n[J],J)}}}function h1(e,n){return e[js]?e[Nl][Yo]=n:e[js]=n,e[Nl]=n,n}function ax(e,n,t){sg(0);const d=ie(null);try{n(e,t)}finally{ie(d)}}function sx(e,n,t,d,P){for(let J=0;J<t.length;){const ue=t[J++],Ne=t[J++];d3(e.data[ue],n[ue],d,Ne,P)}}function x6(e,n){const t=Ho(n,e),d=t[Gr];!function b6(e,n){for(let t=n.length;t<e.blueprint.length;t++)n.push(e.blueprint[t])}(d,t);const P=t[ao];null!==P&&null===t[ra]&&(t[ra]=U_(P,t[Ro])),lx(d,t,t[Lr])}function lx(e,n,t){lg(n);try{const d=e.viewQuery;null!==d&&ax(1,d,t);const P=e.template;null!==P&&o3(e,n,P,1,t),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&p3(e,n),e.staticViewQueries&&ax(2,e.viewQuery,t);const J=e.components;null!==J&&function w6(e,n){for(let t=0;t<n.length;t++)x6(e,n[t])}(n,J)}catch(d){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),d}finally{n[ii]&=-5,_p()}}let _3=(()=>{class e{constructor(){this.all=new Set,this.queue=new Map}create(t,d,P){const J=typeof Zone>"u"?null:Zone.current,ue=function ti(e,n,t){const d=Object.create(Li);t&&(d.consumerAllowSignalWrites=!0),d.fn=e,d.schedule=n;const P=ue=>{d.cleanupFn=ue};return d.ref={notify:()=>Xe(d),run:()=>{if(d.dirty=!1,d.hasRun&&!lt(d))return;d.hasRun=!0;const ue=Qe(d);try{d.cleanupFn(),d.cleanupFn=ci,d.fn(P)}finally{nt(d,ue)}},cleanup:()=>d.cleanupFn()},d.ref}(t,rt=>{this.all.has(rt)&&this.queue.set(rt,J)},P);let Ne;this.all.add(ue),ue.notify();const He=()=>{ue.cleanup(),Ne?.(),this.all.delete(ue),this.queue.delete(ue)};return Ne=d?.onDestroy(He),{destroy:He}}flush(){if(0!==this.queue.size)for(const[t,d]of this.queue)this.queue.delete(t),d?d.run(()=>t.run()):t.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=Qn({token:e,providedIn:"root",factory:()=>new e})}return e})();function p1(e,n,t){let d=t?e.styles:null,P=t?e.classes:null,J=0;if(null!==n)for(let ue=0;ue<n.length;ue++){const Ne=n[ue];"number"==typeof Ne?J=Ne:1==J?P=mr(P,Ne):2==J&&(d=mr(d,Ne+": "+n[++ue]+";"))}t?e.styles=d:e.stylesWithoutHost=d,t?e.classes=P:e.classesWithoutHost=P}function om(e,n,t,d,P=!1){for(;null!==t;){const J=n[t.index];null!==J&&d.push(pi(J)),wi(J)&&x3(J,d);const ue=t.type;if(8&ue)om(e,n,t.child,d);else if(32&ue){const Ne=Ng(t,n);let He;for(;He=Ne();)d.push(He)}else if(16&ue){const Ne=wo(n,t);if(Array.isArray(Ne))d.push(...Ne);else{const He=bu(n[Dr]);om(He[Gr],He,Ne,d,!0)}}t=P?t.projectionNext:t.next}return d}function x3(e,n){for(let t=bo;t<e.length;t++){const d=e[t],P=d[Gr].firstChild;null!==P&&om(d[Gr],d,P,n)}e[Ii]!==e[ao]&&n.push(e[Ii])}function g1(e,n,t,d=!0){const P=n[nl],J=P.rendererFactory,ue=P.afterRenderEventManager;J.begin?.(),ue?.begin();try{b3(e,n,e.template,t)}catch(He){throw d&&function y3(e,n){const t=e[Ro],d=t?t.get(Kf,null):null;d&&d.handleError(n)}(n,He),He}finally{J.end?.(),P.effectManager?.flush(),ue?.end()}}function b3(e,n,t,d){const P=n[ii];if(256!=(256&P)){n[nl].effectManager?.flush(),lg(n);try{Lf(n),function yv(e){return xi.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==t&&o3(e,n,t,2,d);const ue=3==(3&P);if(ue){const rt=e.preOrderCheckHooks;null!==rt&&hd(n,rt,null)}else{const rt=e.preOrderHooks;null!==rt&&Ul(n,rt,0,null),dg(n,0)}if(function A6(e){for(let n=z(e);null!==n;n=K(n)){if(!n[da])continue;const t=n[va];for(let d=0;d<t.length;d++){ih(t[d])}}}(n),w3(n,2),null!==e.contentQueries&&p3(e,n),ue){const rt=e.contentCheckHooks;null!==rt&&hd(n,rt)}else{const rt=e.contentHooks;null!==rt&&Ul(n,rt,1),dg(n,1)}!function XC(e,n){const t=e.hostBindingOpCodes;if(null===t)return;const d=Kw(n,bs);try{for(let P=0;P<t.length;P++){const J=t[P];if(J<0)df(~J);else{const ue=J,Ne=t[++P],He=t[++P];c_(Ne,ue),d.dirty=!1;const rt=Qe(d);try{He(2,n[ue])}finally{nt(d,rt)}}}}finally{null===n[bs]&&Qw(n,bs),df(-1)}}(e,n);const Ne=e.components;null!==Ne&&M3(n,Ne,0);const He=e.viewQuery;if(null!==He&&ax(2,He,d),ue){const rt=e.viewCheckHooks;null!==rt&&hd(n,rt)}else{const rt=e.viewHooks;null!==rt&&Ul(n,rt,2),dg(n,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),n[ii]&=-73,cf(n)}finally{_p()}}}function w3(e,n){for(let t=z(e);null!==t;t=K(t))for(let d=bo;d<t.length;d++)T3(t[d],n)}function S6(e,n,t){T3(Ho(n,e),t)}function T3(e,n){if(!function dp(e){return 128==(128&e[ii])}(e))return;const t=e[Gr],d=e[ii];if(80&d&&0===n||1024&d||2===n)b3(t,e,t.template,e[Lr]);else if(e[Ll]>0){w3(e,1);const P=t.components;null!==P&&M3(e,P,1)}}function M3(e,n,t){for(let d=0;d<n.length;d++)S6(e,n[d],t)}class am{get rootNodes(){const n=this._lView,t=n[Gr];return om(t,n,t.firstChild,[])}constructor(n,t){this._lView=n,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Lr]}set context(n){this._lView[Lr]=n}get destroyed(){return 256==(256&this._lView[ii])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[Ni];if(wi(n)){const t=n[8],d=t?t.indexOf(this):-1;d>-1&&(Fn(n,d),Oc(t,d))}this._attachedToViewContainer=!1}zn(this._lView[Gr],this._lView)}onDestroy(n){!function Ec(e,n){if(256==(256&e[ii]))throw new yn(911,!1);null===e[ma]&&(e[ma]=[]),e[ma].push(n)}(this._lView,n)}markForCheck(){rm(this._cdRefInjectingView||this._lView)}detach(){this._lView[ii]&=-129}reattach(){this._lView[ii]|=128}detectChanges(){g1(this._lView[Gr],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new yn(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Gt(e,n){Mo(e,n,n[vi],2,null,null)}(this._lView[Gr],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new yn(902,!1);this._appRef=n}}class k6 extends am{constructor(n){super(n),this._view=n}detectChanges(){const n=this._view;g1(n[Gr],n,n[Lr],!1)}checkNoChanges(){}get context(){return null}}class A3 extends l1{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const t=Ei(n);return new sm(t,this.ngModule)}}function S3(e){const n=[];for(let t in e)e.hasOwnProperty(t)&&n.push({propName:e[t],templateName:t});return n}class C6{constructor(n,t){this.injector=n,this.parentInjector=t}get(n,t,d){d=du(d);const P=this.injector.get(n,W_,d);return P!==W_||t===W_?P:this.parentInjector.get(n,t,d)}}class sm extends Iw{get inputs(){const n=this.componentDef,t=n.inputTransforms,d=S3(n.inputs);if(null!==t)for(const P of d)t.hasOwnProperty(P.propName)&&(P.transform=t[P.propName]);return d}get outputs(){return S3(this.componentDef.outputs)}constructor(n,t){super(),this.componentDef=n,this.ngModule=t,this.componentType=n.type,this.selector=function hl(e){return e.map(Pl).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!t}create(n,t,d,P){let J=(P=P||this.ngModule)instanceof Gs?P:P?.injector;J&&null!==this.componentDef.getStandaloneInjector&&(J=this.componentDef.getStandaloneInjector(J)||J);const ue=J?new C6(n,J):n,Ne=ue.get(q_,null);if(null===Ne)throw new yn(407,!1);const Nt={rendererFactory:Ne,sanitizer:ue.get(MC,null),effectManager:ue.get(_3,null),afterRenderEventManager:ue.get(J_,null)},Zt=Ne.createRenderer(null,this.componentDef),dn=this.componentDef.selectors[0][0]||"div",jn=d?function KC(e,n,t,d){const J=d.get(Yw,!1)||t===Qo.ShadowDom,ue=e.selectRootElement(n,J);return function QC(e){s3(e)}(ue),ue}(Zt,d,this.componentDef.encapsulation,ue):vt(Zt,dn,function E6(e){const n=e.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(dn)),br=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let ar=null;null!==jn&&(ar=U_(jn,ue,!0));const zr=nx(0,null,null,1,0,null,null,null,null,null,null),Ur=d1(null,zr,null,br,null,null,Nt,Zt,ue,null,ar);let Qr,Si;lg(Ur);try{const lo=this.componentDef;let ko,_s=null;lo.findHostDirectiveDefs?(ko=[],_s=new Map,lo.findHostDirectiveDefs(lo,ko,_s),ko.push(lo)):ko=[lo];const Es=function I6(e,n){const t=e[Gr],d=ai;return e[d]=n,h0(t,d,2,"#host",null)}(Ur,jn),ul=function O6(e,n,t,d,P,J,ue){const Ne=P[Gr];!function P6(e,n,t,d){for(const P of e)n.mergedAttrs=xs(n.mergedAttrs,P.hostAttrs);null!==n.mergedAttrs&&(p1(n,n.mergedAttrs,!0),null!==t&&es(d,t,n))}(d,e,n,ue);let He=null;null!==n&&(He=U_(n,P[Ro]));const rt=J.rendererFactory.createRenderer(n,t);let yt=16;t.signals?yt=4096:t.onPush&&(yt=64);const Nt=d1(P,a3(t),null,yt,P[e.index],e,J,rt,null,null,He);return Ne.firstCreatePass&&ix(Ne,e,d.length-1),h1(P,Nt),P[e.index]=Nt}(Es,jn,lo,ko,Ur,Nt,Zt);Si=Uo(zr,ai),jn&&function L6(e,n,t,d){if(d)el(e,t,["ng-version",AC.full]);else{const{attrs:P,classes:J}=function pa(e){const n=[],t=[];let d=1,P=2;for(;d<e.length;){let J=e[d];if("string"==typeof J)2===P?""!==J&&n.push(J,e[++d]):8===P&&t.push(J);else{if(!as(P))break;P=J}d++}return{attrs:n,classes:t}}(n.selectors[0]);P&&el(e,t,P),J&&J.length>0&&Na(e,t,J.join(" "))}}(Zt,lo,jn,d),void 0!==t&&function N6(e,n,t){const d=e.projection=[];for(let P=0;P<n.length;P++){const J=t[P];d.push(null!=J?Array.from(J):null)}}(Si,this.ngContentSelectors,t),Qr=function R6(e,n,t,d,P,J){const ue=Rs(),Ne=P[Gr],He=go(ue,P);c3(Ne,P,ue,t,null,d);for(let yt=0;yt<t.length;yt++)Ha(Bf(P,Ne,ue.directiveStart+yt,ue),P);f3(Ne,P,ue),He&&Ha(He,P);const rt=Bf(P,Ne,ue.directiveStart+ue.componentOffset,ue);if(e[Lr]=P[Lr]=rt,null!==J)for(const yt of J)yt(rt,n);return Q_(Ne,ue,e),rt}(ul,lo,ko,_s,Ur,[F6]),lx(zr,Ur,null)}finally{_p()}return new D6(this.componentType,Qr,u0(Si,Ur),Ur,Si)}}class D6 extends yC{constructor(n,t,d,P,J){super(),this.location=d,this._rootLView=P,this._tNode=J,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new k6(P),this.componentType=n}setInput(n,t){const d=this._tNode.inputs;let P;if(null!==d&&(P=d[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),t))return;const J=this._rootLView;sx(J[Gr],J,P,n,t),this.previousInputValues.set(n,t),rm(Ho(this._tNode.index,J))}}get injector(){return new Oi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function F6(){const e=Rs();dd(Cr()[Gr],e)}function ql(e,n,t){return!Object.is(e[n],t)&&(e[n]=t,!0)}function Ko(e,n,t,d){const P=Cr();return ql(P,Cc(),n)&&(so(),wf(Sa(),P,e,n,t,d)),Ko}let G3=function q3(e,n,t,d){return sc(!0),n[vi].createComment("")};function ui(e,n,t){const d=Cr();return ql(d,Cc(),n)&&function Zu(e,n,t,d,P,J,ue,Ne){const He=go(n,t);let yt,rt=n.inputs;!Ne&&null!=rt&&(yt=rt[d])?(sx(e,t,yt,d,P),Ba(n)&&function a6(e,n){const t=Ho(n,e);16&t[ii]||(t[ii]|=64)}(t,n.index)):3&n.type&&(d=function o6(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(d),P=null!=ue?ue(P,n.value||"",d):P,J.setProperty(He,d,P))}(so(),Sa(),d,e,n,d[vi],t,!1),ui}function gx(e,n,t,d,P){const ue=P?"class":"style";sx(e,t,n.inputs[ue],ue,d)}function Gi(e,n,t,d){const P=Cr(),J=so(),ue=ai+e,Ne=P[vi],He=J.firstCreatePass?function g8(e,n,t,d,P,J){const ue=n.consts,He=h0(n,e,2,d,_u(ue,P));return rx(n,t,He,_u(ue,J)),null!==He.attrs&&p1(He,He.attrs,!1),null!==He.mergedAttrs&&p1(He,He.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,He),He}(ue,J,P,n,t,d):J.data[ue],rt=W3(J,P,He,Ne,n,e);P[ue]=rt;const yt=cs(He);return xa(He,!0),es(Ne,rt,He),32!=(32&He.flags)&&wp()&&si(J,P,rt,He),0===function i_(){return xi.lFrame.elementDepthCount}()&&Ha(rt,P),function o_(){xi.lFrame.elementDepthCount++}(),yt&&(ex(J,P,He),Q_(J,He,P)),null!==d&&tx(P,He),Gi}function qi(){let e=Rs();ig()?vp():(e=e.parent,xa(e,!1));const n=e;(function a_(e){return xi.skipHydrationRootTNode===e})(n)&&function l_(){xi.skipHydrationRootTNode=null}(),function Vl(){xi.lFrame.elementDepthCount--}();const t=so();return t.firstCreatePass&&(dd(t,e),Za(e)&&t.queries.elementEnd(e)),null!=n.classesWithoutHost&&function v_(e){return 0!=(8&e.flags)}(n)&&gx(t,n,Cr(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function y_(e){return 0!=(16&e.flags)}(n)&&gx(t,n,Cr(),n.stylesWithoutHost,!1),qi}function Vc(e,n,t,d){return Gi(e,n,t,d),qi(),Vc}let W3=(e,n,t,d,P,J)=>(sc(!0),vt(d,P,function fg(){return xi.lFrame.currentNamespace}()));function hm(e){return!!e&&"function"==typeof e.then}function Z3(e){return!!e&&"function"==typeof e.subscribe}function w8(e,n){let t=null;const d=function gu(e){const n=e.attrs;if(null!=n){const t=n.indexOf(5);if(!(1&t))return n[t+1]}return null}(e);for(let P=0;P<n.length;P++){const J=n[P];if("*"!==J){if(null===d?oc(e,J,!0):mu(d,J))return P}else t=P}return t}function T1(e,n){return e<<17|n<<2}function Vd(e){return e>>17&32767}function _x(e){return 2|e}function zh(e){return(131068&e)>>2}function xx(e,n){return-131069&e|n<<2}function bx(e){return 1|e}function cT(e,n,t,d,P){const J=e[t+1],ue=null===n;let Ne=d?Vd(J):zh(J),He=!1;for(;0!==Ne&&(!1===He||ue);){const yt=e[Ne+1];E8(e[Ne],n)&&(He=!0,e[Ne+1]=d?bx(yt):_x(yt)),Ne=d?Vd(yt):zh(yt)}He&&(e[t+1]=d?_x(J):bx(J))}function E8(e,n){return null===e||null==n||(Array.isArray(e)?e[1]:e)===n||!(!Array.isArray(e)||"string"!=typeof n)&&Vf(e,n)>=0}const qs={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function fT(e){return e.substring(qs.key,qs.keyEnd)}function dT(e,n){const t=qs.textEnd;return t===n?-1:(n=qs.keyEnd=function O8(e,n,t){for(;n<t&&e.charCodeAt(n)>32;)n++;return n}(e,qs.key=n,t),T0(e,n,t))}function T0(e,n,t){for(;n<t&&e.charCodeAt(n)<=32;)n++;return n}function Bo(e,n){return function Uc(e,n,t,d){const P=Cr(),J=so(),ue=ac(2);J.firstUpdatePass&&_T(J,e,ue,d),n!==Bi&&ql(P,ue,n)&&bT(J,J.data[Ts()],P,P[vi],e,P[ue+1]=function H8(e,n){return null==e||""===e||("string"==typeof n?e+=n:"object"==typeof e&&(e=dr(Gl(e)))),e}(n,t),d,ue)}(e,n,null,!0),Bo}function Bh(e){!function Hc(e,n,t,d){const P=so(),J=ac(2);P.firstUpdatePass&&_T(P,null,J,d);const ue=Cr();if(t!==Bi&&ql(ue,J,t)){const Ne=P.data[Ts()];if(TT(Ne,d)&&!yT(P,J)){let He=d?Ne.classesWithoutHost:Ne.stylesWithoutHost;null!==He&&(t=mr(He,t||"")),gx(P,Ne,ue,t,d)}else!function U8(e,n,t,d,P,J,ue,Ne){P===Bi&&(P=Mi);let He=0,rt=0,yt=0<P.length?P[0]:null,Nt=0<J.length?J[0]:null;for(;null!==yt||null!==Nt;){const Zt=He<P.length?P[He+1]:void 0,dn=rt<J.length?J[rt+1]:void 0;let qn,jn=null;yt===Nt?(He+=2,rt+=2,Zt!==dn&&(jn=Nt,qn=dn)):null===Nt||null!==yt&&yt<Nt?(He+=2,jn=yt):(rt+=2,jn=Nt,qn=dn),null!==jn&&bT(e,n,t,d,jn,qn,ue,Ne),yt=He<P.length?P[He]:null,Nt=rt<J.length?J[rt]:null}}(P,Ne,ue,ue[vi],ue[J+1],ue[J+1]=function j8(e,n,t){if(null==t||""===t)return Mi;const d=[],P=Gl(t);if(Array.isArray(P))for(let J=0;J<P.length;J++)e(d,P[J],!0);else if("object"==typeof P)for(const J in P)P.hasOwnProperty(J)&&e(d,J,P[J]);else"string"==typeof P&&n(d,P);return d}(e,n,t),d,J)}}(V8,kf,e,!0)}function kf(e,n){for(let t=function D8(e){return function pT(e){qs.key=0,qs.keyEnd=0,qs.value=0,qs.valueEnd=0,qs.textEnd=e.length}(e),dT(e,T0(e,0,qs.textEnd))}(n);t>=0;t=dT(n,t))Hl(e,fT(n),!0)}function yT(e,n){return n>=e.expandoStartIndex}function _T(e,n,t,d){const P=e.data;if(null===P[t+1]){const J=P[Ts()],ue=yT(e,t);TT(J,d)&&null===n&&!ue&&(n=!1),n=function N8(e,n,t,d){const P=function ag(e){const n=xi.lFrame.currentDirectiveIndex;return-1===n?null:e[n]}(e);let J=d?n.residualClasses:n.residualStyles;if(null===P)0===(d?n.classBindings:n.styleBindings)&&(t=pm(t=wx(null,e,n,t,d),n.attrs,d),J=null);else{const ue=n.directiveStylingLast;if(-1===ue||e[ue]!==P)if(t=wx(P,e,n,t,d),null===J){let He=function F8(e,n,t){const d=t?n.classBindings:n.styleBindings;if(0!==zh(d))return e[Vd(d)]}(e,n,d);void 0!==He&&Array.isArray(He)&&(He=wx(null,e,n,He[1],d),He=pm(He,n.attrs,d),function z8(e,n,t,d){e[Vd(t?n.classBindings:n.styleBindings)]=d}(e,n,d,He))}else J=function B8(e,n,t){let d;const P=n.directiveEnd;for(let J=1+n.directiveStylingLast;J<P;J++)d=pm(d,e[J].hostAttrs,t);return pm(d,n.attrs,t)}(e,n,d)}return void 0!==J&&(d?n.residualClasses=J:n.residualStyles=J),t}(P,J,n,d),function S8(e,n,t,d,P,J){let ue=J?n.classBindings:n.styleBindings,Ne=Vd(ue),He=zh(ue);e[d]=t;let yt,rt=!1;if(Array.isArray(t)?(yt=t[1],(null===yt||Vf(t,yt)>0)&&(rt=!0)):yt=t,P)if(0!==He){const Zt=Vd(e[Ne+1]);e[d+1]=T1(Zt,Ne),0!==Zt&&(e[Zt+1]=xx(e[Zt+1],d)),e[Ne+1]=function M8(e,n){return 131071&e|n<<17}(e[Ne+1],d)}else e[d+1]=T1(Ne,0),0!==Ne&&(e[Ne+1]=xx(e[Ne+1],d)),Ne=d;else e[d+1]=T1(He,0),0===Ne?Ne=d:e[He+1]=xx(e[He+1],d),He=d;rt&&(e[d+1]=_x(e[d+1])),cT(e,yt,d,!0),cT(e,yt,d,!1),function k8(e,n,t,d,P){const J=P?e.residualClasses:e.residualStyles;null!=J&&"string"==typeof n&&Vf(J,n)>=0&&(t[d+1]=bx(t[d+1]))}(n,yt,e,d,J),ue=T1(Ne,He),J?n.classBindings=ue:n.styleBindings=ue}(P,J,n,t,ue,d)}}function wx(e,n,t,d,P){let J=null;const ue=t.directiveEnd;let Ne=t.directiveStylingLast;for(-1===Ne?Ne=t.directiveStart:Ne++;Ne<ue&&(J=n[Ne],d=pm(d,J.hostAttrs,P),J!==e);)Ne++;return null!==e&&(t.directiveStylingLast=Ne),d}function pm(e,n,t){const d=t?1:2;let P=-1;if(null!==n)for(let J=0;J<n.length;J++){const ue=n[J];"number"==typeof ue?P=ue:P===d&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Hl(e,ue,!!t||n[++J]))}return void 0===e?null:e}function V8(e,n,t){const d=String(n);""!==d&&!d.includes(" ")&&Hl(e,d,t)}function bT(e,n,t,d,P,J,ue,Ne){if(!(3&n.type))return;const He=e.data,rt=He[Ne+1],yt=function A8(e){return 1==(1&e)}(rt)?wT(He,n,t,P,zh(rt),ue):void 0;M1(yt)||(M1(J)||function T8(e){return 2==(2&e)}(rt)&&(J=wT(He,null,t,P,Ne,ue)),function Us(e,n,t,d,P){if(n)P?e.addClass(t,d):e.removeClass(t,d);else{let J=-1===d.indexOf("-")?void 0:Fc.DashCase;null==P?e.removeStyle(t,d,J):("string"==typeof P&&P.endsWith("!important")&&(P=P.slice(0,-10),J|=Fc.Important),e.setStyle(t,d,P,J))}}(d,ue,function il(e,n){return pi(n[e])}(Ts(),t),P,J))}function wT(e,n,t,d,P,J){const ue=null===n;let Ne;for(;P>0;){const He=e[P],rt=Array.isArray(He),yt=rt?He[1]:He,Nt=null===yt;let Zt=t[P+1];Zt===Bi&&(Zt=Nt?Mi:void 0);let dn=Nt?Mg(Zt,d):yt===d?Zt:void 0;if(rt&&!M1(dn)&&(dn=Mg(He,d)),M1(dn)&&(Ne=dn,ue))return Ne;const jn=e[P+1];P=ue?Vd(jn):zh(jn)}if(null!==n){let He=J?n.residualClasses:n.residualStyles;null!=He&&(Ne=Mg(He,d))}return Ne}function M1(e){return void 0!==e}function TT(e,n){return 0!=(e.flags&(n?8:16))}const S0="en-US";let qT=S0;class Vh{}class v5{}class Cx extends Vh{constructor(n,t,d){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new A3(this);const P=ga(n);this._bootstrapComponents=Qf(P.bootstrap),this._r3Injector=Fw(n,t,[{provide:Vh,useValue:this},{provide:l1,useValue:this.componentFactoryResolver},...d],dr(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class Dx extends v5{constructor(n){super(),this.moduleType=n}create(n){return new Cx(this.moduleType,n,[])}}class y5 extends Vh{constructor(n){super(),this.componentFactoryResolver=new A3(this),this.instance=null;const t=new _f([...n.providers,{provide:Vh,useValue:this},{provide:l1,useValue:this.componentFactoryResolver}],n.parent||Nh(),n.debugName,new Set(["environment"]));this.injector=t,n.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function Ix(e,n,t=null){return new y5({providers:e,parent:n,debugName:t,runEnvironmentInitializers:!0}).injector}let dI=(()=>{class e{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){const d=Yg(0,t.type),P=d.length>0?Ix([d],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,P)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=Qn({token:e,providedIn:"environment",factory:()=>new e(Hr(Gs))})}return e})();function vc(e){e.getStandaloneInjector=n=>n.get(dI).getOrCreateStandaloneInjector(e)}function LI(){return this._results[Symbol.iterator]()}class Rx{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new mi)}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=Rx.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=LI)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,t){return this._results.reduce(n,t)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,t){const d=this;d.dirty=!1;const P=function al(e){return e.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function gh(e,n,t){if(e.length!==n.length)return!1;for(let d=0;d<e.length;d++){let P=e[d],J=n[d];if(t&&(P=t(P),J=t(J)),J!==P)return!1}return!0}(d._results,P,t))&&(d._results=P,d.length=P.length,d.last=P[this.length-1],d.first=P[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function FI(e,n,t,d=!0){const P=n[Gr];if(function Yt(e,n,t,d){const P=bo+d,J=t.length;d>0&&(t[P-1][Yo]=n),d<J-bo?(n[Yo]=t[P],xd(t,bo+d,n)):(t.push(n),n[Yo]=null),n[Ni]=t;const ue=n[Ya];null!==ue&&t!==ue&&function gn(e,n){const t=e[va];n[Dr]!==n[Ni][Ni][Dr]&&(e[da]=!0),null===t?e[va]=[n]:t.push(n)}(ue,n);const Ne=n[ls];null!==Ne&&Ne.insertView(e),n[ii]|=128}(P,n,e,t),d){const J=To(t,e),ue=n[vi],Ne=Jr(ue,e[Ii]);null!==Ne&&function Ot(e,n,t,d,P,J){d[ao]=P,d[co]=n,Mo(e,d,t,1,P,J)}(P,e[co],ue,n,Ne,J)}}let ts=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=jI}return e})();const zI=ts,BI=class extends zI{constructor(n,t,d){super(),this._declarationLView=n,this._declarationTContainer=t,this.elementRef=d}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,t){return this.createEmbeddedViewImpl(n,t)}createEmbeddedViewImpl(n,t,d){const P=function NI(e,n,t,d){const P=n.tView,Ne=d1(e,P,t,4096&e[ii]?4096:16,null,n,null,null,null,d?.injector??null,d?.hydrationInfo??null);Ne[Ya]=e[n.index];const rt=e[ls];return null!==rt&&(Ne[ls]=rt.createEmbeddedView(P)),lx(P,Ne,t),Ne}(this._declarationLView,this._declarationTContainer,n,{injector:t,hydrationInfo:d});return new am(P)}};function jI(){return C1(Rs(),Cr())}function C1(e,n){return 4&e.type?new BI(n,e,u0(e,n)):null}let yc=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=WI}return e})();function WI(){return N5(Rs(),Cr())}const $I=yc,R5=class extends $I{constructor(n,t,d){super(),this._lContainer=n,this._hostTNode=t,this._hostLView=d}get element(){return u0(this._hostTNode,this._hostLView)}get injector(){return new Oi(this._hostTNode,this._hostLView)}get parentInjector(){const n=Sp(this._hostTNode,this._hostLView);if(fh(n)){const t=dh(n,this._hostLView),d=Dc(n);return new Oi(t[Gr].data[d+8],t)}return new Oi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const t=L5(this._lContainer);return null!==t&&t[n]||null}get length(){return this._lContainer.length-bo}createEmbeddedView(n,t,d){let P,J;"number"==typeof d?P=d:null!=d&&(P=d.index,J=d.injector);const Ne=n.createEmbeddedViewImpl(t||{},J,null);return this.insertImpl(Ne,P,false),Ne}createComponent(n,t,d,P,J){const ue=n&&!function pf(e){return"function"==typeof e}(n);let Ne;if(ue)Ne=t;else{const qn=t||{};Ne=qn.index,d=qn.injector,P=qn.projectableNodes,J=qn.environmentInjector||qn.ngModuleRef}const He=ue?n:new sm(Ei(n)),rt=d||this.parentInjector;if(!J&&null==He.ngModule){const Kn=(ue?rt:this.parentInjector).get(Gs,null);Kn&&(J=Kn)}Ei(He.componentType??{});const dn=He.create(rt,P,null,J);return this.insertImpl(dn.hostView,Ne,false),dn}insert(n,t){return this.insertImpl(n,t,!1)}insertImpl(n,t,d){const P=n._lView;if(function ng(e){return wi(e[Ni])}(P)){const He=this.indexOf(n);if(-1!==He)this.detach(He);else{const rt=P[Ni],yt=new R5(rt,rt[co],rt[Ni]);yt.detach(yt.indexOf(n))}}const ue=this._adjustIndex(t),Ne=this._lContainer;return FI(Ne,P,ue,!d),n.attachToViewContainerRef(),xd(Lx(Ne),ue,n),n}move(n,t){return this.insert(n,t)}indexOf(n){const t=L5(this._lContainer);return null!==t?t.indexOf(n):-1}remove(n){const t=this._adjustIndex(n,-1),d=Fn(this._lContainer,t);d&&(Oc(Lx(this._lContainer),t),zn(d[Gr],d))}detach(n){const t=this._adjustIndex(n,-1),d=Fn(this._lContainer,t);return d&&null!=Oc(Lx(this._lContainer),t)?new am(d):null}_adjustIndex(n,t=0){return n??this.length+t}};function L5(e){return e[8]}function Lx(e){return e[8]||(e[8]=[])}function N5(e,n){let t;const d=n[e.index];return wi(d)?t=d:(t=h3(d,n,null,e),n[e.index]=t,h1(n,t)),F5(t,n,e,d),new R5(t,e,n)}let F5=function z5(e,n,t,d){if(e[Ii])return;let P;P=8&t.type?pi(d):function YI(e,n){const t=e[vi],d=t.createComment(""),P=go(n,e);return Pr(t,Jr(t,P),d,function fi(e,n){return e.nextSibling(n)}(t,P),!1),d}(n,t),e[Ii]=P};class Nx{constructor(n){this.queryList=n,this.matches=null}clone(){return new Nx(this.queryList)}setDirty(){this.queryList.setDirty()}}class Fx{constructor(n=[]){this.queries=n}createEmbeddedView(n){const t=n.queries;if(null!==t){const d=null!==n.contentQueries?n.contentQueries[0]:t.length,P=[];for(let J=0;J<d;J++){const ue=t.getByIndex(J);P.push(this.queries[ue.indexInDeclarationView].clone())}return new Fx(P)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let t=0;t<this.queries.length;t++)null!==H5(n,t).matches&&this.queries[t].setDirty()}}class B5{constructor(n,t,d=null){this.predicate=n,this.flags=t,this.read=d}}class zx{constructor(n=[]){this.queries=n}elementStart(n,t){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(n,t)}elementEnd(n){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(n)}embeddedTView(n){let t=null;for(let d=0;d<this.length;d++){const P=null!==t?t.length:0,J=this.getByIndex(d).embeddedTView(n,P);J&&(J.indexInDeclarationView=d,null!==t?t.push(J):t=[J])}return null!==t?new zx(t):null}template(n,t){for(let d=0;d<this.queries.length;d++)this.queries[d].template(n,t)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class Bx{constructor(n,t=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(n,t){this.isApplyingToNode(t)&&this.matchTNode(n,t)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,t){this.elementStart(n,t)}embeddedTView(n,t){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,t),new Bx(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let d=n.parent;for(;null!==d&&8&d.type&&d.index!==t;)d=d.parent;return t===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(n,t){const d=this.metadata.predicate;if(Array.isArray(d))for(let P=0;P<d.length;P++){const J=d[P];this.matchTNodeWithReadOption(n,t,JI(t,J)),this.matchTNodeWithReadOption(n,t,Cp(t,n,J,!1,!1))}else d===ts?4&t.type&&this.matchTNodeWithReadOption(n,t,-1):this.matchTNodeWithReadOption(n,t,Cp(t,n,d,!1,!1))}matchTNodeWithReadOption(n,t,d){if(null!==d){const P=this.metadata.read;if(null!==P)if(P===Xo||P===yc||P===ts&&4&t.type)this.addMatch(t.index,-2);else{const J=Cp(t,n,P,!1,!1);null!==J&&this.addMatch(t.index,J)}else this.addMatch(t.index,d)}}addMatch(n,t){null===this.matches?this.matches=[n,t]:this.matches.push(n,t)}}function JI(e,n){const t=e.localNames;if(null!==t)for(let d=0;d<t.length;d+=2)if(t[d]===n)return t[d+1];return null}function QI(e,n,t,d){return-1===t?function KI(e,n){return 11&e.type?u0(e,n):4&e.type?C1(e,n):null}(n,e):-2===t?function eO(e,n,t){return t===Xo?u0(n,e):t===ts?C1(n,e):t===yc?N5(n,e):void 0}(e,n,d):Bf(e,e[Gr],t,n)}function j5(e,n,t,d){const P=n[ls].queries[d];if(null===P.matches){const J=e.data,ue=t.matches,Ne=[];for(let He=0;He<ue.length;He+=2){const rt=ue[He];Ne.push(rt<0?null:QI(n,J[rt],ue[He+1],t.metadata.read))}P.matches=Ne}return P.matches}function jx(e,n,t,d){const P=e.queries.getByIndex(t),J=P.matches;if(null!==J){const ue=j5(e,n,P,t);for(let Ne=0;Ne<J.length;Ne+=2){const He=J[Ne];if(He>0)d.push(ue[Ne/2]);else{const rt=J[Ne+1],yt=n[-He];for(let Nt=bo;Nt<yt.length;Nt++){const Zt=yt[Nt];Zt[Ya]===Zt[Ni]&&jx(Zt[Gr],Zt,rt,d)}if(null!==yt[va]){const Nt=yt[va];for(let Zt=0;Zt<Nt.length;Zt++){const dn=Nt[Zt];jx(dn[Gr],dn,rt,d)}}}}}return d}function sa(e){const n=Cr(),t=so(),d=_v();sg(d+1);const P=H5(t,d);if(e.dirty&&function ud(e){return 4==(4&e[ii])}(n)===(2==(2&P.metadata.flags))){if(null===P.matches)e.reset([]);else{const J=P.crossesNgTemplate?jx(t,n,d,[]):j5(t,n,P,d);e.reset(J,wC),e.notifyOnChanges()}return!0}return!1}function Uh(e,n,t){const d=so();d.firstCreatePass&&(function U5(e,n,t){null===e.queries&&(e.queries=new zx),e.queries.track(new Bx(n,t))}(d,new B5(e,n,t),-1),2==(2&n)&&(d.staticViewQueries=!0)),function V5(e,n,t){const d=new Rx(4==(4&t));(function n6(e,n,t,d){const P=function g3(e){return e[Po]||(e[Po]=[])}(n);P.push(t),e.firstCreatePass&&function m3(e){return e.cleanup||(e.cleanup=[])}(e).push(d,P.length-1)})(e,n,d,d.destroy),null===n[ls]&&(n[ls]=new Fx),n[ls].queries.push(new Nx(d))}(d,Cr(),n)}function H5(e,n){return e.queries.getByIndex(n)}const Wx=new $r("Application Initializer");let $x=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,d)=>{this.resolve=t,this.reject=d}),this.appInits=Br(Wx,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const t=[];for(const P of this.appInits){const J=P();if(hm(J))t.push(J);else if(Z3(J)){const ue=new Promise((Ne,He)=>{J.subscribe({complete:Ne,error:He})});t.push(ue)}}const d=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{d()}).catch(P=>{this.reject(P)}),0===t.length&&d(),this.initialized=!0}static#e=this.\u0275fac=function(d){return new(d||e)};static#t=this.\u0275prov=Qn({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),aM=(()=>{class e{log(t){console.log(t)}warn(t){console.warn(t)}static#e=this.\u0275fac=function(d){return new(d||e)};static#t=this.\u0275prov=Qn({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();const qc=new $r("LocaleId",{providedIn:"root",factory:()=>Br(qc,di.Optional|di.SkipSelf)||function TO(){return typeof $localize<"u"&&$localize.locale||S0}()});let O1=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new kn(!1)}add(){this.hasPendingTasks.next(!0);const t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(d){return new(d||e)};static#t=this.\u0275prov=Qn({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class SO{constructor(n,t){this.ngModuleFactory=n,this.componentFactories=t}}let sM=(()=>{class e{compileModuleSync(t){return new Dx(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const d=this.compileModuleSync(t),J=Qf(ga(t).declarations).reduce((ue,Ne)=>{const He=Ei(Ne);return He&&ue.push(new sm(He)),ue},[]);return new SO(d,J)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static#e=this.\u0275fac=function(d){return new(d||e)};static#t=this.\u0275prov=Qn({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const fM=new $r(""),R1=new $r("");let Kx,Xx=(()=>{class e{constructor(t,d,P){this._ngZone=t,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Kx||(function YO(e){Kx=e}(P),P.addToWindow(d)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{xo.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(t)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,d,P){let J=-1;d&&d>0&&(J=setTimeout(()=>{this._callbacks=this._callbacks.filter(ue=>ue.timeoutId!==J),t(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:t,timeoutId:J,updateCb:P})}whenStable(t,d,P){if(P&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,d,P),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,d,P){return[]}static#e=this.\u0275fac=function(d){return new(d||e)(Hr(xo),Hr(Jx),Hr(R1))};static#t=this.\u0275prov=Qn({token:e,factory:e.\u0275fac})}return e})(),Jx=(()=>{class e{constructor(){this._applications=new Map}registerApplication(t,d){this._applications.set(t,d)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,d=!0){return Kx?.findTestabilityInTree(this,t,d)??null}static#e=this.\u0275fac=function(d){return new(d||e)};static#t=this.\u0275prov=Qn({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})(),Ud=null;const dM=new $r("AllowMultipleToken"),Qx=new $r("PlatformDestroyListeners"),eb=new $r("appBootstrapListener");class pM{constructor(n,t){this.name=n,this.token=t}}function mM(e,n,t=[]){const d=`Platform: ${n}`,P=new $r(d);return(J=[])=>{let ue=tb();if(!ue||ue.injector.get(dM,!1)){const Ne=[...t,...J,{provide:P,useValue:!0}];e?e(Ne):function JO(e){if(Ud&&!Ud.get(dM,!1))throw new yn(400,!1);(function hM(){!function pr(e){tr=e}(()=>{throw new yn(600,!1)})})(),Ud=e;const n=e.get(yM);(function gM(e){e.get(Fd,null)?.forEach(t=>t())})(e)}(function vM(e=[],n){return wl.create({name:n,providers:[{provide:yf,useValue:"platform"},{provide:Qx,useValue:new Set([()=>Ud=null])},...e]})}(Ne,d))}return function QO(e){const n=tb();if(!n)throw new yn(401,!1);return n}()}}function tb(){return Ud?.get(yM)??null}let yM=(()=>{class e{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,d){const P=function e7(e="zone.js",n){return"noop"===e?new zC:"zone.js"===e?new xo(n):e}(d?.ngZone,function _M(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}({eventCoalescing:d?.ngZoneEventCoalescing,runCoalescing:d?.ngZoneRunCoalescing}));return P.run(()=>{const J=function fI(e,n,t){return new Cx(e,n,t)}(t.moduleType,this.injector,function MM(e){return[{provide:xo,useFactory:e},{provide:Pd,multi:!0,useFactory:()=>{const n=Br(n7,{optional:!0});return()=>n.initialize()}},{provide:TM,useFactory:t7},{provide:Uw,useFactory:Hw}]}(()=>P)),ue=J.injector.get(Kf,null);return P.runOutsideAngular(()=>{const Ne=P.onError.subscribe({next:He=>{ue.handleError(He)}});J.onDestroy(()=>{L1(this._modules,J),Ne.unsubscribe()})}),function xM(e,n,t){try{const d=t();return hm(d)?d.catch(P=>{throw n.runOutsideAngular(()=>e.handleError(P)),P}):d}catch(d){throw n.runOutsideAngular(()=>e.handleError(d)),d}}(ue,P,()=>{const Ne=J.injector.get($x);return Ne.runInitializers(),Ne.donePromise.then(()=>(function WT(e){ur(e,"Expected localeId to be defined"),"string"==typeof e&&(qT=e.toLowerCase().replace(/_/g,"-"))}(J.injector.get(qc,S0)||S0),this._moduleDoBootstrap(J),J))})})}bootstrapModule(t,d=[]){const P=bM({},d);return function ZO(e,n,t){const d=new Dx(t);return Promise.resolve(d)}(0,0,t).then(J=>this.bootstrapModuleFactory(J,P))}_moduleDoBootstrap(t){const d=t.injector.get(Hd);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(P=>d.bootstrap(P));else{if(!t.instance.ngDoBootstrap)throw new yn(-403,!1);t.instance.ngDoBootstrap(d)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new yn(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const t=this._injector.get(Qx,null);t&&(t.forEach(d=>d()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(d){return new(d||e)(Hr(wl))};static#t=this.\u0275prov=Qn({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();function bM(e,n){return Array.isArray(n)?n.reduce(bM,e):{...e,...n}}let Hd=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Br(TM),this.zoneIsStable=Br(Uw),this.componentTypes=[],this.components=[],this.isStable=Br(O1).hasPendingTasks.pipe(En(t=>t?xn(!1):this.zoneIsStable),function Wn(e,n=S){return e=e??gr,W((t,d)=>{let P,J=!0;t.subscribe(Z(d,ue=>{const Ne=n(ue);(J||!e(P,Ne))&&(J=!1,P=Ne,d.next(ue))}))})}(),Rn()),this._injector=Br(Gs)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,d){const P=t instanceof Iw;if(!this._injector.get($x).done)throw!P&&function Is(e){const n=Ei(e)||Oo(e)||Di(e);return null!==n&&n.standalone}(t),new yn(405,!1);let ue;ue=P?t:this._injector.get(l1).resolveComponentFactory(t),this.componentTypes.push(ue.componentType);const Ne=function XO(e){return e.isBoundToModule}(ue)?void 0:this._injector.get(Vh),rt=ue.create(wl.NULL,[],d||ue.selector,Ne),yt=rt.location.nativeElement,Nt=rt.injector.get(fM,null);return Nt?.registerApplication(yt),rt.onDestroy(()=>{this.detachView(rt.hostView),L1(this.components,rt),Nt?.unregisterApplication(yt)}),this._loadComponent(rt),rt}tick(){if(this._runningTick)throw new yn(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this.internalErrorHandler(t)}finally{this._runningTick=!1}}attachView(t){const d=t;this._views.push(d),d.attachToAppRef(this)}detachView(t){const d=t;L1(this._views,d),d.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const d=this._injector.get(eb,[]);d.push(...this._bootstrapListeners),d.forEach(P=>P(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>L1(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new yn(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(d){return new(d||e)};static#t=this.\u0275prov=Qn({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function L1(e,n){const t=e.indexOf(n);t>-1&&e.splice(t,1)}const TM=new $r("",{providedIn:"root",factory:()=>Br(Kf).handleError.bind(void 0)});function t7(){const e=Br(xo),n=Br(Kf);return t=>e.runOutsideAngular(()=>n.handleError(t))}let n7=(()=>{class e{constructor(){this.zone=Br(xo),this.applicationRef=Br(Hd)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(d){return new(d||e)};static#t=this.\u0275prov=Qn({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();let Wc=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=i7}return e})();function i7(e){return function o7(e,n,t){if(Ba(e)&&!t){const d=Ho(e.index,n);return new am(d,d)}return 47&e.type?new am(n[Dr],n):null}(Rs(),Cr(),16==(16&e))}const y7=mM(null,"core",[]);let _7=(()=>{class e{constructor(t){}static#e=this.\u0275fac=function(d){return new(d||e)(Hr(Hd))};static#t=this.\u0275mod=Xi({type:e});static#n=this.\u0275inj=nr({})}return e})();function sb(e,n){const t=Ei(e),d=n.elementInjector||Nh();return new sm(t).create(d,n.projectableNodes,n.hostElement,n.environmentInjector)}let lb=null;function Gd(){return lb}class P7{}const Ls=new $r("DocumentToken");let ub=(()=>{class e{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(d){return new(d||e)};static#t=this.\u0275prov=Qn({token:e,factory:function(){return Br(L7)},providedIn:"platform"})}return e})();const R7=new $r("Location Initialized");let L7=(()=>{class e extends ub{constructor(){super(),this._doc=Br(Ls),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Gd().getBaseHref(this._doc)}onPopState(t){const d=Gd().getGlobalEventTarget(this._doc,"window");return d.addEventListener("popstate",t,!1),()=>d.removeEventListener("popstate",t)}onHashChange(t){const d=Gd().getGlobalEventTarget(this._doc,"window");return d.addEventListener("hashchange",t,!1),()=>d.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,d,P){this._history.pushState(t,d,P)}replaceState(t,d,P){this._history.replaceState(t,d,P)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static#e=this.\u0275fac=function(d){return new(d||e)};static#t=this.\u0275prov=Qn({token:e,factory:function(){return new e},providedIn:"platform"})}return e})();function cb(e,n){if(0==e.length)return n;if(0==n.length)return e;let t=0;return e.endsWith("/")&&t++,n.startsWith("/")&&t++,2==t?e+n.substring(1):1==t?e+n:e+"/"+n}function UM(e){const n=e.match(/#|\?|$/),t=n&&n.index||e.length;return e.slice(0,t-("/"===e[t-1]?1:0))+e.slice(t)}function nd(e){return e&&"?"!==e[0]?"?"+e:e}let Gh=(()=>{class e{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(d){return new(d||e)};static#t=this.\u0275prov=Qn({token:e,factory:function(){return Br(GM)},providedIn:"root"})}return e})();const HM=new $r("appBaseHref");let GM=(()=>{class e extends Gh{constructor(t,d){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=d??this._platformLocation.getBaseHrefFromDOM()??Br(Ls).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return cb(this._baseHref,t)}path(t=!1){const d=this._platformLocation.pathname+nd(this._platformLocation.search),P=this._platformLocation.hash;return P&&t?`${d}${P}`:d}pushState(t,d,P,J){const ue=this.prepareExternalUrl(P+nd(J));this._platformLocation.pushState(t,d,ue)}replaceState(t,d,P,J){const ue=this.prepareExternalUrl(P+nd(J));this._platformLocation.replaceState(t,d,ue)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(d){return new(d||e)(Hr(ub),Hr(HM,8))};static#t=this.\u0275prov=Qn({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),N7=(()=>{class e extends Gh{constructor(t,d){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=d&&(this._baseHref=d)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let d=this._platformLocation.hash;return null==d&&(d="#"),d.length>0?d.substring(1):d}prepareExternalUrl(t){const d=cb(this._baseHref,t);return d.length>0?"#"+d:d}pushState(t,d,P,J){let ue=this.prepareExternalUrl(P+nd(J));0==ue.length&&(ue=this._platformLocation.pathname),this._platformLocation.pushState(t,d,ue)}replaceState(t,d,P,J){let ue=this.prepareExternalUrl(P+nd(J));0==ue.length&&(ue=this._platformLocation.pathname),this._platformLocation.replaceState(t,d,ue)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(d){return new(d||e)(Hr(ub),Hr(HM,8))};static#t=this.\u0275prov=Qn({token:e,factory:e.\u0275fac})}return e})(),fb=(()=>{class e{constructor(t){this._subject=new mi,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const d=this._locationStrategy.getBaseHref();this._basePath=function B7(e){if(new RegExp("^(https?:)?//").test(e)){const[,t]=e.split(/\/\/[^\/]+/);return t}return e}(UM(qM(d))),this._locationStrategy.onPopState(P=>{this._subject.emit({url:this.path(!0),pop:!0,state:P.state,type:P.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,d=""){return this.path()==this.normalize(t+nd(d))}normalize(t){return e.stripTrailingSlash(function z7(e,n){if(!e||!n.startsWith(e))return n;const t=n.substring(e.length);return""===t||["/",";","?","#"].includes(t[0])?t:n}(this._basePath,qM(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,d="",P=null){this._locationStrategy.pushState(P,"",t,d),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+nd(d)),P)}replaceState(t,d="",P=null){this._locationStrategy.replaceState(P,"",t,d),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+nd(d)),P)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(d=>{this._notifyUrlChangeListeners(d.url,d.state)})),()=>{const d=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(d,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",d){this._urlChangeListeners.forEach(P=>P(t,d))}subscribe(t,d,P){return this._subject.subscribe({next:t,error:d,complete:P})}static#e=this.normalizeQueryParams=nd;static#t=this.joinWithSlash=cb;static#n=this.stripTrailingSlash=UM;static#r=this.\u0275fac=function(d){return new(d||e)(Hr(Gh))};static#i=this.\u0275prov=Qn({token:e,factory:function(){return function F7(){return new fb(Hr(Gh))}()},providedIn:"root"})}return e})();function qM(e){return e.replace(/\/index.html$/,"")}function nA(e,n){n=encodeURIComponent(n);for(const t of e.split(";")){const d=t.indexOf("="),[P,J]=-1==d?[t,""]:[t.slice(0,d),t.slice(d+1)];if(P.trim()===n)return decodeURIComponent(J)}return null}let X1=(()=>{class e{static#e=this.\u0275fac=function(d){return new(d||e)};static#t=this.\u0275mod=Xi({type:e});static#n=this.\u0275inj=nr({})}return e})();function cA(e){return"server"===e}let Q9=(()=>{class e{static#e=this.\u0275prov=Qn({token:e,providedIn:"root",factory:()=>new eP(Hr(Ls),window)})}return e})();class eP{constructor(n,t){this.document=n,this.window=t,this.offset=()=>[0,0]}setOffset(n){this.offset=Array.isArray(n)?()=>n:n}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(n){this.supportsScrolling()&&this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){if(!this.supportsScrolling())return;const t=function tP(e,n){const t=e.getElementById(n)||e.getElementsByName(n)[0];if(t)return t;if("function"==typeof e.createTreeWalker&&e.body&&"function"==typeof e.body.attachShadow){const d=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let P=d.currentNode;for(;P;){const J=P.shadowRoot;if(J){const ue=J.getElementById(n)||J.querySelector(`[name="${n}"]`);if(ue)return ue}P=d.nextNode()}}return null}(this.document,n);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(n){this.supportsScrolling()&&(this.window.history.scrollRestoration=n)}scrollToElement(n){const t=n.getBoundingClientRect(),d=t.left+this.window.pageXOffset,P=t.top+this.window.pageYOffset,J=this.offset();this.window.scrollTo(d-J[0],P-J[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class fA{}class MP extends P7{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Cb extends MP{static makeCurrent(){!function O7(e){lb||(lb=e)}(new Cb)}onAndCancel(n,t,d){return n.addEventListener(t,d),()=>{n.removeEventListener(t,d)}}dispatchEvent(n,t){n.dispatchEvent(t)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,t){return(t=t||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,t){return"window"===t?window:"document"===t?n:"body"===t?n.body:null}getBaseHref(n){const t=function AP(){return Im=Im||document.querySelector("base"),Im?Im.getAttribute("href"):null}();return null==t?null:function SP(e){Q1=Q1||document.createElement("a"),Q1.setAttribute("href",e);const n=Q1.pathname;return"/"===n.charAt(0)?n:`/${n}`}(t)}resetBaseElement(){Im=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return nA(document.cookie,n)}}let Q1,Im=null,EP=(()=>{class e{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(d){return new(d||e)};static#t=this.\u0275prov=Qn({token:e,factory:e.\u0275fac})}return e})();const Db=new $r("EventManagerPlugins");let mA=(()=>{class e{constructor(t,d){this._zone=d,this._eventNameToPlugin=new Map,t.forEach(P=>{P.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,d,P){return this._findPluginFor(d).addEventListener(t,d,P)}getZone(){return this._zone}_findPluginFor(t){let d=this._eventNameToPlugin.get(t);if(d)return d;if(d=this._plugins.find(J=>J.supports(t)),!d)throw new yn(5101,!1);return this._eventNameToPlugin.set(t,d),d}static#e=this.\u0275fac=function(d){return new(d||e)(Hr(Db),Hr(xo))};static#t=this.\u0275prov=Qn({token:e,factory:e.\u0275fac})}return e})();class vA{constructor(n){this._doc=n}}const Ib="ng-app-id";let yA=(()=>{class e{constructor(t,d,P,J={}){this.doc=t,this.appId=d,this.nonce=P,this.platformId=J,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=cA(J),this.resetHostNodes()}addStyles(t){for(const d of t)1===this.changeUsageCount(d,1)&&this.onStyleAdded(d)}removeStyles(t){for(const d of t)this.changeUsageCount(d,-1)<=0&&this.onStyleRemoved(d)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(d=>d.remove()),t.clear());for(const d of this.getAllStyles())this.onStyleRemoved(d);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const d of this.getAllStyles())this.addStyleToHost(t,d)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const d of this.hostNodes)this.addStyleToHost(d,t)}onStyleRemoved(t){const d=this.styleRef;d.get(t)?.elements?.forEach(P=>P.remove()),d.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${Ib}="${this.appId}"]`);if(t?.length){const d=new Map;return t.forEach(P=>{null!=P.textContent&&d.set(P.textContent,P)}),d}return null}changeUsageCount(t,d){const P=this.styleRef;if(P.has(t)){const J=P.get(t);return J.usage+=d,J.usage}return P.set(t,{usage:d,elements:[]}),d}getStyleElement(t,d){const P=this.styleNodesInDOM,J=P?.get(d);if(J?.parentNode===t)return P.delete(d),J.removeAttribute(Ib),J;{const ue=this.doc.createElement("style");return this.nonce&&ue.setAttribute("nonce",this.nonce),ue.textContent=d,this.platformIsServer&&ue.setAttribute(Ib,this.appId),ue}}addStyleToHost(t,d){const P=this.getStyleElement(t,d);t.appendChild(P);const J=this.styleRef,ue=J.get(d)?.elements;ue?ue.push(P):J.set(d,{elements:[P],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static#e=this.\u0275fac=function(d){return new(d||e)(Hr(Ls),Hr(Nd),Hr(Kg,8),Hr(xf))};static#t=this.\u0275prov=Qn({token:e,factory:e.\u0275fac})}return e})();const Ob={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Pb=/%COMP%/g,OP=new $r("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function xA(e,n){return n.map(t=>t.replace(Pb,e))}let bA=(()=>{class e{constructor(t,d,P,J,ue,Ne,He,rt=null){this.eventManager=t,this.sharedStylesHost=d,this.appId=P,this.removeStylesOnCompDestroy=J,this.doc=ue,this.platformId=Ne,this.ngZone=He,this.nonce=rt,this.rendererByCompId=new Map,this.platformIsServer=cA(Ne),this.defaultRenderer=new Rb(t,ue,He,this.platformIsServer)}createRenderer(t,d){if(!t||!d)return this.defaultRenderer;this.platformIsServer&&d.encapsulation===Qo.ShadowDom&&(d={...d,encapsulation:Qo.Emulated});const P=this.getOrCreateRenderer(t,d);return P instanceof TA?P.applyToHost(t):P instanceof Lb&&P.applyStyles(),P}getOrCreateRenderer(t,d){const P=this.rendererByCompId;let J=P.get(d.id);if(!J){const ue=this.doc,Ne=this.ngZone,He=this.eventManager,rt=this.sharedStylesHost,yt=this.removeStylesOnCompDestroy,Nt=this.platformIsServer;switch(d.encapsulation){case Qo.Emulated:J=new TA(He,rt,d,this.appId,yt,ue,Ne,Nt);break;case Qo.ShadowDom:return new NP(He,rt,t,d,ue,Ne,this.nonce,Nt);default:J=new Lb(He,rt,d,yt,ue,Ne,Nt)}P.set(d.id,J)}return J}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(d){return new(d||e)(Hr(mA),Hr(yA),Hr(Nd),Hr(OP),Hr(Ls),Hr(xf),Hr(xo),Hr(Kg))};static#t=this.\u0275prov=Qn({token:e,factory:e.\u0275fac})}return e})();class Rb{constructor(n,t,d,P){this.eventManager=n,this.doc=t,this.ngZone=d,this.platformIsServer=P,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(n,t){return t?this.doc.createElementNS(Ob[t]||t,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,t){(wA(n)?n.content:n).appendChild(t)}insertBefore(n,t,d){n&&(wA(n)?n.content:n).insertBefore(t,d)}removeChild(n,t){n&&n.removeChild(t)}selectRootElement(n,t){let d="string"==typeof n?this.doc.querySelector(n):n;if(!d)throw new yn(-5104,!1);return t||(d.textContent=""),d}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,t,d,P){if(P){t=P+":"+t;const J=Ob[P];J?n.setAttributeNS(J,t,d):n.setAttribute(t,d)}else n.setAttribute(t,d)}removeAttribute(n,t,d){if(d){const P=Ob[d];P?n.removeAttributeNS(P,t):n.removeAttribute(`${d}:${t}`)}else n.removeAttribute(t)}addClass(n,t){n.classList.add(t)}removeClass(n,t){n.classList.remove(t)}setStyle(n,t,d,P){P&(Fc.DashCase|Fc.Important)?n.style.setProperty(t,d,P&Fc.Important?"important":""):n.style[t]=d}removeStyle(n,t,d){d&Fc.DashCase?n.style.removeProperty(t):n.style[t]=""}setProperty(n,t,d){n[t]=d}setValue(n,t){n.nodeValue=t}listen(n,t,d){if("string"==typeof n&&!(n=Gd().getGlobalEventTarget(this.doc,n)))throw new Error(`Unsupported event target ${n} for event ${t}`);return this.eventManager.addEventListener(n,t,this.decoratePreventDefault(d))}decoratePreventDefault(n){return t=>{if("__ngUnwrap__"===t)return n;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>n(t)):n(t))&&t.preventDefault()}}}function wA(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class NP extends Rb{constructor(n,t,d,P,J,ue,Ne,He){super(n,J,ue,He),this.sharedStylesHost=t,this.hostEl=d,this.shadowRoot=d.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const rt=xA(P.id,P.styles);for(const yt of rt){const Nt=document.createElement("style");Ne&&Nt.setAttribute("nonce",Ne),Nt.textContent=yt,this.shadowRoot.appendChild(Nt)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,t){return super.appendChild(this.nodeOrShadowRoot(n),t)}insertBefore(n,t,d){return super.insertBefore(this.nodeOrShadowRoot(n),t,d)}removeChild(n,t){return super.removeChild(this.nodeOrShadowRoot(n),t)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Lb extends Rb{constructor(n,t,d,P,J,ue,Ne,He){super(n,J,ue,Ne),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=P,this.styles=He?xA(He,d.styles):d.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class TA extends Lb{constructor(n,t,d,P,J,ue,Ne,He){const rt=P+"-"+d.id;super(n,t,d,J,ue,Ne,He,rt),this.contentAttr=function PP(e){return"_ngcontent-%COMP%".replace(Pb,e)}(rt),this.hostAttr=function RP(e){return"_nghost-%COMP%".replace(Pb,e)}(rt)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,t){const d=super.createElement(n,t);return super.setAttribute(d,this.contentAttr,""),d}}let FP=(()=>{class e extends vA{constructor(t){super(t)}supports(t){return!0}addEventListener(t,d,P){return t.addEventListener(d,P,!1),()=>this.removeEventListener(t,d,P)}removeEventListener(t,d,P){return t.removeEventListener(d,P)}static#e=this.\u0275fac=function(d){return new(d||e)(Hr(Ls))};static#t=this.\u0275prov=Qn({token:e,factory:e.\u0275fac})}return e})();const MA=["alt","control","meta","shift"],zP={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},BP={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let jP=(()=>{class e extends vA{constructor(t){super(t)}supports(t){return null!=e.parseEventName(t)}addEventListener(t,d,P){const J=e.parseEventName(d),ue=e.eventCallback(J.fullKey,P,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Gd().onAndCancel(t,J.domEventName,ue))}static parseEventName(t){const d=t.toLowerCase().split("."),P=d.shift();if(0===d.length||"keydown"!==P&&"keyup"!==P)return null;const J=e._normalizeKey(d.pop());let ue="",Ne=d.indexOf("code");if(Ne>-1&&(d.splice(Ne,1),ue="code."),MA.forEach(rt=>{const yt=d.indexOf(rt);yt>-1&&(d.splice(yt,1),ue+=rt+".")}),ue+=J,0!=d.length||0===J.length)return null;const He={};return He.domEventName=P,He.fullKey=ue,He}static matchEventFullKeyCode(t,d){let P=zP[t.key]||t.key,J="";return d.indexOf("code.")>-1&&(P=t.code,J="code."),!(null==P||!P)&&(P=P.toLowerCase()," "===P?P="space":"."===P&&(P="dot"),MA.forEach(ue=>{ue!==P&&(0,BP[ue])(t)&&(J+=ue+".")}),J+=P,J===d)}static eventCallback(t,d,P){return J=>{e.matchEventFullKeyCode(J,t)&&P.runGuarded(()=>d(J))}}static _normalizeKey(t){return"esc"===t?"escape":t}static#e=this.\u0275fac=function(d){return new(d||e)(Hr(Ls))};static#t=this.\u0275prov=Qn({token:e,factory:e.\u0275fac})}return e})();const GP=mM(y7,"browser",[{provide:xf,useValue:"browser"},{provide:Fd,useValue:function VP(){Cb.makeCurrent()},multi:!0},{provide:Ls,useFactory:function HP(){return function io(e){Eo=e}(document),document},deps:[]}]),qP=new $r(""),kA=[{provide:R1,useClass:class kP{addToWindow(n){ji.getAngularTestability=(d,P=!0)=>{const J=n.findTestabilityInTree(d,P);if(null==J)throw new yn(5103,!1);return J},ji.getAllAngularTestabilities=()=>n.getAllTestabilities(),ji.getAllAngularRootElements=()=>n.getAllRootElements(),ji.frameworkStabilizers||(ji.frameworkStabilizers=[]),ji.frameworkStabilizers.push(d=>{const P=ji.getAllAngularTestabilities();let J=P.length,ue=!1;const Ne=function(He){ue=ue||He,J--,0==J&&d(ue)};P.forEach(He=>{He.whenStable(Ne)})})}findTestabilityInTree(n,t,d){return null==t?null:n.getTestability(t)??(d?Gd().isShadowRoot(t)?this.findTestabilityInTree(n,t.host,!0):this.findTestabilityInTree(n,t.parentElement,!0):null)}},deps:[]},{provide:fM,useClass:Xx,deps:[xo,Jx,R1]},{provide:Xx,useClass:Xx,deps:[xo,Jx,R1]}],EA=[{provide:yf,useValue:"root"},{provide:Kf,useFactory:function UP(){return new Kf},deps:[]},{provide:Db,useClass:FP,multi:!0,deps:[Ls,xo,xf]},{provide:Db,useClass:jP,multi:!0,deps:[Ls]},bA,yA,mA,{provide:q_,useExisting:bA},{provide:fA,useClass:EP,deps:[]},[]];let WP=(()=>{class e{constructor(t){}static withServerTransition(t){return{ngModule:e,providers:[{provide:Nd,useValue:t.appId}]}}static#e=this.\u0275fac=function(d){return new(d||e)(Hr(qP,12))};static#t=this.\u0275mod=Xi({type:e});static#n=this.\u0275inj=nr({providers:[...EA,...kA],imports:[X1,_7]})}return e})(),CA=(()=>{class e{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static#e=this.\u0275fac=function(d){return new(d||e)(Hr(Ls))};static#t=this.\u0275prov=Qn({token:e,factory:function(d){let P=null;return P=d?new d:function YP(){return new CA(Hr(Ls))}(),P},providedIn:"root"})}return e})();typeof window<"u"&&window;const{isArray:eR}=Array,{getPrototypeOf:tR,prototype:nR,keys:rR}=Object;const{isArray:oR}=Array;function Fb(e){return re(n=>function aR(e,n){return oR(n)?e(...n):e(n)}(e,n))}function zb(...e){const n=$t(e),t=Wt(e),{args:d,keys:P}=function PA(e){if(1===e.length){const n=e[0];if(eR(n))return{args:n,keys:null};if(function iR(e){return e&&"object"==typeof e&&tR(e)===nR}(n)){const t=rR(n);return{args:t.map(d=>n[d]),keys:t}}}return{args:e,keys:null}}(e);if(0===d.length)return un([],n);const J=new L(function sR(e,n,t=S){return d=>{LA(n,()=>{const{length:P}=e,J=new Array(P);let ue=P,Ne=P;for(let He=0;He<P;He++)LA(n,()=>{const rt=un(e[He],n);let yt=!1;rt.subscribe(Z(d,Nt=>{J[He]=Nt,yt||(yt=!0,Ne--),Ne||d.next(t(J.slice()))},()=>{--ue||d.complete()}))},d)},d)}}(d,n,P?ue=>function RA(e,n){return e.reduce((t,d,P)=>(t[d]=n[P],t),{})}(P,ue):S));return t?J.pipe(Fb(t)):J}function LA(e,n,t){e?ut(t,e,n):n()}const ey=ae(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function Om(...e){return function lR(){return St(1)}()(un(e,$t(e)))}function NA(e){return new L(n=>{it(e()).subscribe(n)})}function O0(e,n){const t=Ci(e)?e:()=>e,d=P=>P.error(t());return new L(n?P=>n.schedule(d,0,P):d)}function Bb(){return W((e,n)=>{let t=null;e._refCount++;const d=Z(n,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(t=null);const P=e._connection,J=t;t=null,P&&(!J||P===J)&&P.unsubscribe(),n.unsubscribe()});e.subscribe(d),d.closed||(t=e.connect())})}class FA extends L{constructor(n,t){super(),this.source=n,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,H(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){const n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new D;const t=this.getSubject();n.add(this.source.subscribe(Z(t,void 0,()=>{this._teardown(),t.complete()},d=>{this._teardown(),t.error(d)},()=>this._teardown()))),n.closed&&(this._connection=null,n=D.EMPTY)}return n}refCount(){return Bb()(this)}}function Tl(e){return e<=0?()=>_t:W((n,t)=>{let d=0;n.subscribe(Z(t,P=>{++d<=e&&(t.next(P),e<=d&&t.complete())}))})}function Ws(e,n){return W((t,d)=>{let P=0;t.subscribe(Z(d,J=>e.call(n,J,P++)&&d.next(J)))})}function ty(e){return W((n,t)=>{let d=!1;n.subscribe(Z(t,P=>{d=!0,t.next(P)},()=>{d||t.next(e),t.complete()}))})}function BA(e=uR){return W((n,t)=>{let d=!1;n.subscribe(Z(t,P=>{d=!0,t.next(P)},()=>d?t.complete():t.error(e())))})}function uR(){return new ey}function Wh(e,n){const t=arguments.length>=2;return d=>d.pipe(e?Ws((P,J)=>e(P,J,d)):S,Tl(1),t?ty(n):BA(()=>new ey))}function P0(e,n){return Ci(n)?wt(e,n,1):wt(e,1)}function ll(e,n,t){const d=Ci(e)||n||t?{next:e,error:n,complete:t}:e;return d?W((P,J)=>{var ue;null===(ue=d.subscribe)||void 0===ue||ue.call(d);let Ne=!0;P.subscribe(Z(J,He=>{var rt;null===(rt=d.next)||void 0===rt||rt.call(d,He),J.next(He)},()=>{var He;Ne=!1,null===(He=d.complete)||void 0===He||He.call(d),J.complete()},He=>{var rt;Ne=!1,null===(rt=d.error)||void 0===rt||rt.call(d,He),J.error(He)},()=>{var He,rt;Ne&&(null===(He=d.unsubscribe)||void 0===He||He.call(d)),null===(rt=d.finalize)||void 0===rt||rt.call(d)}))}):S}function $d(e){return W((n,t)=>{let J,d=null,P=!1;d=n.subscribe(Z(t,void 0,void 0,ue=>{J=it(e(ue,$d(e)(n))),d?(d.unsubscribe(),d=null,J.subscribe(t)):P=!0})),P&&(d.unsubscribe(),d=null,J.subscribe(t))})}function jb(e){return e<=0?()=>_t:W((n,t)=>{let d=[];n.subscribe(Z(t,P=>{d.push(P),e<d.length&&d.shift()},()=>{for(const P of d)t.next(P);t.complete()},void 0,()=>{d=null}))})}function Pm(e){return W((n,t)=>{try{n.subscribe(t)}finally{t.add(e)}})}function ys(e){return W((n,t)=>{it(e).subscribe(Z(t,()=>t.complete(),i)),!t.closed&&n.subscribe(t)})}const Wi="primary",Rm=Symbol("RouteTitle");class hR{constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){const t=this.params[n];return Array.isArray(t)?t[0]:t}return null}getAll(n){if(this.has(n)){const t=this.params[n];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function R0(e){return new hR(e)}function pR(e,n,t){const d=t.path.split("/");if(d.length>e.length||"full"===t.pathMatch&&(n.hasChildren()||d.length<e.length))return null;const P={};for(let J=0;J<d.length;J++){const ue=d[J],Ne=e[J];if(ue.startsWith(":"))P[ue.substring(1)]=Ne;else if(ue!==Ne.path)return null}return{consumed:e.slice(0,d.length),posParams:P}}function Ef(e,n){const t=e?Object.keys(e):void 0,d=n?Object.keys(n):void 0;if(!t||!d||t.length!=d.length)return!1;let P;for(let J=0;J<t.length;J++)if(P=t[J],!VA(e[P],n[P]))return!1;return!0}function VA(e,n){if(Array.isArray(e)&&Array.isArray(n)){if(e.length!==n.length)return!1;const t=[...e].sort(),d=[...n].sort();return t.every((P,J)=>d[J]===P)}return e===n}function UA(e){return e.length>0?e[e.length-1]:null}function Yd(e){return function QP(e){return!!e&&(e instanceof L||Ci(e.lift)&&Ci(e.subscribe))}(e)?e:hm(e)?un(Promise.resolve(e)):xn(e)}const mR={exact:function qA(e,n,t){if(!$h(e.segments,n.segments)||!ny(e.segments,n.segments,t)||e.numberOfChildren!==n.numberOfChildren)return!1;for(const d in n.children)if(!e.children[d]||!qA(e.children[d],n.children[d],t))return!1;return!0},subset:WA},HA={exact:function vR(e,n){return Ef(e,n)},subset:function yR(e,n){return Object.keys(n).length<=Object.keys(e).length&&Object.keys(n).every(t=>VA(e[t],n[t]))},ignored:()=>!0};function GA(e,n,t){return mR[t.paths](e.root,n.root,t.matrixParams)&&HA[t.queryParams](e.queryParams,n.queryParams)&&!("exact"===t.fragment&&e.fragment!==n.fragment)}function WA(e,n,t){return $A(e,n,n.segments,t)}function $A(e,n,t,d){if(e.segments.length>t.length){const P=e.segments.slice(0,t.length);return!(!$h(P,t)||n.hasChildren()||!ny(P,t,d))}if(e.segments.length===t.length){if(!$h(e.segments,t)||!ny(e.segments,t,d))return!1;for(const P in n.children)if(!e.children[P]||!WA(e.children[P],n.children[P],d))return!1;return!0}{const P=t.slice(0,e.segments.length),J=t.slice(e.segments.length);return!!($h(e.segments,P)&&ny(e.segments,P,d)&&e.children[Wi])&&$A(e.children[Wi],n,J,d)}}function ny(e,n,t){return n.every((d,P)=>HA[t](e[P].parameters,d.parameters))}class L0{constructor(n=new ua([],{}),t={},d=null){this.root=n,this.queryParams=t,this.fragment=d}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=R0(this.queryParams)),this._queryParamMap}toString(){return bR.serialize(this)}}class ua{constructor(n,t){this.segments=n,this.children=t,this.parent=null,Object.values(t).forEach(d=>d.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ry(this)}}class Lm{constructor(n,t){this.path=n,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=R0(this.parameters)),this._parameterMap}toString(){return XA(this)}}function $h(e,n){return e.length===n.length&&e.every((t,d)=>t.path===n[d].path)}let Nm=(()=>{class e{static#e=this.\u0275fac=function(d){return new(d||e)};static#t=this.\u0275prov=Qn({token:e,factory:function(){return new Vb},providedIn:"root"})}return e})();class Vb{parse(n){const t=new OR(n);return new L0(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(n){const t=`/${Fm(n.root,!0)}`,d=function MR(e){const n=Object.keys(e).map(t=>{const d=e[t];return Array.isArray(d)?d.map(P=>`${iy(t)}=${iy(P)}`).join("&"):`${iy(t)}=${iy(d)}`}).filter(t=>!!t);return n.length?`?${n.join("&")}`:""}(n.queryParams);return`${t}${d}${"string"==typeof n.fragment?`#${function wR(e){return encodeURI(e)}(n.fragment)}`:""}`}}const bR=new Vb;function ry(e){return e.segments.map(n=>XA(n)).join("/")}function Fm(e,n){if(!e.hasChildren())return ry(e);if(n){const t=e.children[Wi]?Fm(e.children[Wi],!1):"",d=[];return Object.entries(e.children).forEach(([P,J])=>{P!==Wi&&d.push(`${P}:${Fm(J,!1)}`)}),d.length>0?`${t}(${d.join("//")})`:t}{const t=function xR(e,n){let t=[];return Object.entries(e.children).forEach(([d,P])=>{d===Wi&&(t=t.concat(n(P,d)))}),Object.entries(e.children).forEach(([d,P])=>{d!==Wi&&(t=t.concat(n(P,d)))}),t}(e,(d,P)=>P===Wi?[Fm(e.children[Wi],!1)]:[`${P}:${Fm(d,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[Wi]?`${ry(e)}/${t[0]}`:`${ry(e)}/(${t.join("//")})`}}function YA(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function iy(e){return YA(e).replace(/%3B/gi,";")}function Ub(e){return YA(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function oy(e){return decodeURIComponent(e)}function ZA(e){return oy(e.replace(/\+/g,"%20"))}function XA(e){return`${Ub(e.path)}${function TR(e){return Object.keys(e).map(n=>`;${Ub(n)}=${Ub(e[n])}`).join("")}(e.parameters)}`}const AR=/^[^\/()?;#]+/;function Hb(e){const n=e.match(AR);return n?n[0]:""}const SR=/^[^\/()?;=#]+/,ER=/^[^=?&#]+/,DR=/^[^&#]+/;class OR{constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ua([],{}):new ua([],this.parseChildren())}parseQueryParams(){const n={};if(this.consumeOptional("?"))do{this.parseQueryParam(n)}while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let d={};return this.peekStartsWith("(")&&(d=this.parseParens(!1)),(n.length>0||Object.keys(t).length>0)&&(d[Wi]=new ua(n,t)),d}parseSegment(){const n=Hb(this.remaining);if(""===n&&this.peekStartsWith(";"))throw new yn(4009,!1);return this.capture(n),new Lm(oy(n),this.parseMatrixParams())}parseMatrixParams(){const n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){const t=function kR(e){const n=e.match(SR);return n?n[0]:""}(this.remaining);if(!t)return;this.capture(t);let d="";if(this.consumeOptional("=")){const P=Hb(this.remaining);P&&(d=P,this.capture(d))}n[oy(t)]=oy(d)}parseQueryParam(n){const t=function CR(e){const n=e.match(ER);return n?n[0]:""}(this.remaining);if(!t)return;this.capture(t);let d="";if(this.consumeOptional("=")){const ue=function IR(e){const n=e.match(DR);return n?n[0]:""}(this.remaining);ue&&(d=ue,this.capture(d))}const P=ZA(t),J=ZA(d);if(n.hasOwnProperty(P)){let ue=n[P];Array.isArray(ue)||(ue=[ue],n[P]=ue),ue.push(J)}else n[P]=J}parseParens(n){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const d=Hb(this.remaining),P=this.remaining[d.length];if("/"!==P&&")"!==P&&";"!==P)throw new yn(4010,!1);let J;d.indexOf(":")>-1?(J=d.slice(0,d.indexOf(":")),this.capture(J),this.capture(":")):n&&(J=Wi);const ue=this.parseChildren();t[J]=1===Object.keys(ue).length?ue[Wi]:new ua([],ue),this.consumeOptional("//")}return t}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return!!this.peekStartsWith(n)&&(this.remaining=this.remaining.substring(n.length),!0)}capture(n){if(!this.consumeOptional(n))throw new yn(4011,!1)}}function JA(e){return e.segments.length>0?new ua([],{[Wi]:e}):e}function KA(e){const n={};for(const d of Object.keys(e.children)){const J=KA(e.children[d]);if(d===Wi&&0===J.segments.length&&J.hasChildren())for(const[ue,Ne]of Object.entries(J.children))n[ue]=Ne;else(J.segments.length>0||J.hasChildren())&&(n[d]=J)}return function PR(e){if(1===e.numberOfChildren&&e.children[Wi]){const n=e.children[Wi];return new ua(e.segments.concat(n.segments),n.children)}return e}(new ua(e.segments,n))}function Yh(e){return e instanceof L0}function QA(e){let n;const P=JA(function t(J){const ue={};for(const He of J.children){const rt=t(He);ue[He.outlet]=rt}const Ne=new ua(J.url,ue);return J===e&&(n=Ne),Ne}(e.root));return n??P}function eS(e,n,t,d){let P=e;for(;P.parent;)P=P.parent;if(0===n.length)return Gb(P,P,P,t,d);const J=function LR(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new nS(!0,0,e);let n=0,t=!1;const d=e.reduce((P,J,ue)=>{if("object"==typeof J&&null!=J){if(J.outlets){const Ne={};return Object.entries(J.outlets).forEach(([He,rt])=>{Ne[He]="string"==typeof rt?rt.split("/"):rt}),[...P,{outlets:Ne}]}if(J.segmentPath)return[...P,J.segmentPath]}return"string"!=typeof J?[...P,J]:0===ue?(J.split("/").forEach((Ne,He)=>{0==He&&"."===Ne||(0==He&&""===Ne?t=!0:".."===Ne?n++:""!=Ne&&P.push(Ne))}),P):[...P,J]},[]);return new nS(t,n,d)}(n);if(J.toRoot())return Gb(P,P,new ua([],{}),t,d);const ue=function NR(e,n,t){if(e.isAbsolute)return new sy(n,!0,0);if(!t)return new sy(n,!1,NaN);if(null===t.parent)return new sy(t,!0,0);const d=ay(e.commands[0])?0:1;return function FR(e,n,t){let d=e,P=n,J=t;for(;J>P;){if(J-=P,d=d.parent,!d)throw new yn(4005,!1);P=d.segments.length}return new sy(d,!1,P-J)}(t,t.segments.length-1+d,e.numberOfDoubleDots)}(J,P,e),Ne=ue.processChildren?Bm(ue.segmentGroup,ue.index,J.commands):rS(ue.segmentGroup,ue.index,J.commands);return Gb(P,ue.segmentGroup,Ne,t,d)}function ay(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function zm(e){return"object"==typeof e&&null!=e&&e.outlets}function Gb(e,n,t,d,P){let ue,J={};d&&Object.entries(d).forEach(([He,rt])=>{J[He]=Array.isArray(rt)?rt.map(yt=>`${yt}`):`${rt}`}),ue=e===n?t:tS(e,n,t);const Ne=JA(KA(ue));return new L0(Ne,J,P)}function tS(e,n,t){const d={};return Object.entries(e.children).forEach(([P,J])=>{d[P]=J===n?t:tS(J,n,t)}),new ua(e.segments,d)}class nS{constructor(n,t,d){if(this.isAbsolute=n,this.numberOfDoubleDots=t,this.commands=d,n&&d.length>0&&ay(d[0]))throw new yn(4003,!1);const P=d.find(zm);if(P&&P!==UA(d))throw new yn(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class sy{constructor(n,t,d){this.segmentGroup=n,this.processChildren=t,this.index=d}}function rS(e,n,t){if(e||(e=new ua([],{})),0===e.segments.length&&e.hasChildren())return Bm(e,n,t);const d=function BR(e,n,t){let d=0,P=n;const J={match:!1,pathIndex:0,commandIndex:0};for(;P<e.segments.length;){if(d>=t.length)return J;const ue=e.segments[P],Ne=t[d];if(zm(Ne))break;const He=`${Ne}`,rt=d<t.length-1?t[d+1]:null;if(P>0&&void 0===He)break;if(He&&rt&&"object"==typeof rt&&void 0===rt.outlets){if(!oS(He,rt,ue))return J;d+=2}else{if(!oS(He,{},ue))return J;d++}P++}return{match:!0,pathIndex:P,commandIndex:d}}(e,n,t),P=t.slice(d.commandIndex);if(d.match&&d.pathIndex<e.segments.length){const J=new ua(e.segments.slice(0,d.pathIndex),{});return J.children[Wi]=new ua(e.segments.slice(d.pathIndex),e.children),Bm(J,0,P)}return d.match&&0===P.length?new ua(e.segments,{}):d.match&&!e.hasChildren()?qb(e,n,t):d.match?Bm(e,0,P):qb(e,n,t)}function Bm(e,n,t){if(0===t.length)return new ua(e.segments,{});{const d=function zR(e){return zm(e[0])?e[0].outlets:{[Wi]:e}}(t),P={};if(Object.keys(d).some(J=>J!==Wi)&&e.children[Wi]&&1===e.numberOfChildren&&0===e.children[Wi].segments.length){const J=Bm(e.children[Wi],n,t);return new ua(e.segments,J.children)}return Object.entries(d).forEach(([J,ue])=>{"string"==typeof ue&&(ue=[ue]),null!==ue&&(P[J]=rS(e.children[J],n,ue))}),Object.entries(e.children).forEach(([J,ue])=>{void 0===d[J]&&(P[J]=ue)}),new ua(e.segments,P)}}function qb(e,n,t){const d=e.segments.slice(0,n);let P=0;for(;P<t.length;){const J=t[P];if(zm(J)){const He=jR(J.outlets);return new ua(d,He)}if(0===P&&ay(t[0])){d.push(new Lm(e.segments[n].path,iS(t[0]))),P++;continue}const ue=zm(J)?J.outlets[Wi]:`${J}`,Ne=P<t.length-1?t[P+1]:null;ue&&Ne&&ay(Ne)?(d.push(new Lm(ue,iS(Ne))),P+=2):(d.push(new Lm(ue,{})),P++)}return new ua(d,{})}function jR(e){const n={};return Object.entries(e).forEach(([t,d])=>{"string"==typeof d&&(d=[d]),null!==d&&(n[t]=qb(new ua([],{}),0,d))}),n}function iS(e){const n={};return Object.entries(e).forEach(([t,d])=>n[t]=`${d}`),n}function oS(e,n,t){return e==t.path&&Ef(n,t.parameters)}const jm="imperative";class Cf{constructor(n,t){this.id=n,this.url=t}}class ly extends Cf{constructor(n,t,d="imperative",P=null){super(n,t),this.type=0,this.navigationTrigger=d,this.restoredState=P}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Zd extends Cf{constructor(n,t,d){super(n,t),this.urlAfterRedirects=d,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Vm extends Cf{constructor(n,t,d,P){super(n,t),this.reason=d,this.code=P,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class N0 extends Cf{constructor(n,t,d,P){super(n,t),this.reason=d,this.code=P,this.type=16}}class uy extends Cf{constructor(n,t,d,P){super(n,t),this.error=d,this.target=P,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class aS extends Cf{constructor(n,t,d,P){super(n,t),this.urlAfterRedirects=d,this.state=P,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class VR extends Cf{constructor(n,t,d,P){super(n,t),this.urlAfterRedirects=d,this.state=P,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class UR extends Cf{constructor(n,t,d,P,J){super(n,t),this.urlAfterRedirects=d,this.state=P,this.shouldActivate=J,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class HR extends Cf{constructor(n,t,d,P){super(n,t),this.urlAfterRedirects=d,this.state=P,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class GR extends Cf{constructor(n,t,d,P){super(n,t),this.urlAfterRedirects=d,this.state=P,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qR{constructor(n){this.route=n,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class WR{constructor(n){this.route=n,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class $R{constructor(n){this.snapshot=n,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class YR{constructor(n){this.snapshot=n,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ZR{constructor(n){this.snapshot=n,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class XR{constructor(n){this.snapshot=n,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class sS{constructor(n,t,d){this.routerEvent=n,this.position=t,this.anchor=d,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Wb{}class $b{constructor(n){this.url=n}}class JR{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Um,this.attachRef=null}}let Um=(()=>{class e{constructor(){this.contexts=new Map}onChildOutletCreated(t,d){const P=this.getOrCreateContext(t);P.outlet=d,this.contexts.set(t,P)}onChildOutletDestroyed(t){const d=this.getContext(t);d&&(d.outlet=null,d.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let d=this.getContext(t);return d||(d=new JR,this.contexts.set(t,d)),d}getContext(t){return this.contexts.get(t)||null}static#e=this.\u0275fac=function(d){return new(d||e)};static#t=this.\u0275prov=Qn({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class lS{constructor(n){this._root=n}get root(){return this._root.value}parent(n){const t=this.pathFromRoot(n);return t.length>1?t[t.length-2]:null}children(n){const t=Yb(n,this._root);return t?t.children.map(d=>d.value):[]}firstChild(n){const t=Yb(n,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(n){const t=Zb(n,this._root);return t.length<2?[]:t[t.length-2].children.map(P=>P.value).filter(P=>P!==n)}pathFromRoot(n){return Zb(n,this._root).map(t=>t.value)}}function Yb(e,n){if(e===n.value)return n;for(const t of n.children){const d=Yb(e,t);if(d)return d}return null}function Zb(e,n){if(e===n.value)return[n];for(const t of n.children){const d=Zb(e,t);if(d.length)return d.unshift(n),d}return[]}class od{constructor(n,t){this.value=n,this.children=t}toString(){return`TreeNode(${this.value})`}}function F0(e){const n={};return e&&e.children.forEach(t=>n[t.value.outlet]=t),n}class uS extends lS{constructor(n,t){super(n),this.snapshot=t,Xb(this,n)}toString(){return this.snapshot.toString()}}function cS(e,n){const t=function KR(e,n){const ue=new cy([],{},{},"",{},Wi,n,null,{});return new dS("",new od(ue,[]))}(0,n),d=new kn([new Lm("",{})]),P=new kn({}),J=new kn({}),ue=new kn({}),Ne=new kn(""),He=new z0(d,P,ue,Ne,J,Wi,n,t.root);return He.snapshot=t.root,new uS(new od(He,[]),t)}class z0{constructor(n,t,d,P,J,ue,Ne,He){this.urlSubject=n,this.paramsSubject=t,this.queryParamsSubject=d,this.fragmentSubject=P,this.dataSubject=J,this.outlet=ue,this.component=Ne,this._futureSnapshot=He,this.title=this.dataSubject?.pipe(re(rt=>rt[Rm]))??xn(void 0),this.url=n,this.params=t,this.queryParams=d,this.fragment=P,this.data=J}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(re(n=>R0(n)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(re(n=>R0(n)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function fS(e,n="emptyOnly"){const t=e.pathFromRoot;let d=0;if("always"!==n)for(d=t.length-1;d>=1;){const P=t[d],J=t[d-1];if(P.routeConfig&&""===P.routeConfig.path)d--;else{if(J.component)break;d--}}return function QR(e){return e.reduce((n,t)=>({params:{...n.params,...t.params},data:{...n.data,...t.data},resolve:{...t.data,...n.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(d))}class cy{get title(){return this.data?.[Rm]}constructor(n,t,d,P,J,ue,Ne,He,rt){this.url=n,this.params=t,this.queryParams=d,this.fragment=P,this.data=J,this.outlet=ue,this.component=Ne,this.routeConfig=He,this._resolve=rt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=R0(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=R0(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(d=>d.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class dS extends lS{constructor(n,t){super(t),this.url=n,Xb(this,t)}toString(){return hS(this._root)}}function Xb(e,n){n.value._routerState=e,n.children.forEach(t=>Xb(e,t))}function hS(e){const n=e.children.length>0?` { ${e.children.map(hS).join(", ")} } `:"";return`${e.value}${n}`}function Jb(e){if(e.snapshot){const n=e.snapshot,t=e._futureSnapshot;e.snapshot=t,Ef(n.queryParams,t.queryParams)||e.queryParamsSubject.next(t.queryParams),n.fragment!==t.fragment&&e.fragmentSubject.next(t.fragment),Ef(n.params,t.params)||e.paramsSubject.next(t.params),function gR(e,n){if(e.length!==n.length)return!1;for(let t=0;t<e.length;++t)if(!Ef(e[t],n[t]))return!1;return!0}(n.url,t.url)||e.urlSubject.next(t.url),Ef(n.data,t.data)||e.dataSubject.next(t.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function Kb(e,n){const t=Ef(e.params,n.params)&&function _R(e,n){return $h(e,n)&&e.every((t,d)=>Ef(t.parameters,n[d].parameters))}(e.url,n.url);return t&&!(!e.parent!=!n.parent)&&(!e.parent||Kb(e.parent,n.parent))}let pS=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=Wi,this.activateEvents=new mi,this.deactivateEvents=new mi,this.attachEvents=new mi,this.detachEvents=new mi,this.parentContexts=Br(Um),this.location=Br(yc),this.changeDetector=Br(Wc),this.environmentInjector=Br(Gs),this.inputBinder=Br(fy,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:d,previousValue:P}=t.name;if(d)return;this.isTrackedInParentContexts(P)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(P)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new yn(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new yn(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new yn(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,d){this.activated=t,this._activatedRoute=d,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,d){if(this.isActivated)throw new yn(4013,!1);this._activatedRoute=t;const P=this.location,ue=t.snapshot.component,Ne=this.parentContexts.getOrCreateContext(this.name).children,He=new eL(t,Ne,P.injector);this.activated=P.createComponent(ue,{index:P.length,injector:He,environmentInjector:d??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(d){return new(d||e)};static#t=this.\u0275dir=jr({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Ai]})}return e})();class eL{constructor(n,t,d){this.route=n,this.childContexts=t,this.parent=d}get(n,t){return n===z0?this.route:n===Um?this.childContexts:this.parent.get(n,t)}}const fy=new $r("");let gS=(()=>{class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:d}=t,P=zb([d.queryParams,d.params,d.data]).pipe(En(([J,ue,Ne],He)=>(Ne={...J,...ue,...Ne},0===He?xn(Ne):Promise.resolve(Ne)))).subscribe(J=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==d||null===d.component)return void this.unsubscribeFromRouteData(t);const ue=function I7(e){const n=Ei(e);if(!n)return null;const t=new sm(n);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}(d.component);if(ue)for(const{templateName:Ne}of ue.inputs)t.activatedComponentRef.setInput(Ne,J[Ne]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,P)}static#e=this.\u0275fac=function(d){return new(d||e)};static#t=this.\u0275prov=Qn({token:e,factory:e.\u0275fac})}return e})();function Hm(e,n,t){if(t&&e.shouldReuseRoute(n.value,t.value.snapshot)){const d=t.value;d._futureSnapshot=n.value;const P=function nL(e,n,t){return n.children.map(d=>{for(const P of t.children)if(e.shouldReuseRoute(d.value,P.value.snapshot))return Hm(e,d,P);return Hm(e,d)})}(e,n,t);return new od(d,P)}{if(e.shouldAttach(n.value)){const J=e.retrieve(n.value);if(null!==J){const ue=J.route;return ue.value._futureSnapshot=n.value,ue.children=n.children.map(Ne=>Hm(e,Ne)),ue}}const d=function rL(e){return new z0(new kn(e.url),new kn(e.params),new kn(e.queryParams),new kn(e.fragment),new kn(e.data),e.outlet,e.component,e)}(n.value),P=n.children.map(J=>Hm(e,J));return new od(d,P)}}const Qb="ngNavigationCancelingError";function mS(e,n){const{redirectTo:t,navigationBehaviorOptions:d}=Yh(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,P=vS(!1,0,n);return P.url=t,P.navigationBehaviorOptions=d,P}function vS(e,n,t){const d=new Error("NavigationCancelingError: "+(e||""));return d[Qb]=!0,d.cancellationCode=n,t&&(d.url=t),d}function yS(e){return e&&e[Qb]}let _S=(()=>{class e{static#e=this.\u0275fac=function(d){return new(d||e)};static#t=this.\u0275cmp=hi({type:e,selectors:[["ng-component"]],standalone:!0,features:[vc],decls:1,vars:0,template:function(d,P){1&d&&Vc(0,"router-outlet")},dependencies:[pS],encapsulation:2})}return e})();function e2(e){const n=e.children&&e.children.map(e2),t=n?{...e,children:n}:{...e};return!t.component&&!t.loadComponent&&(n||t.loadChildren)&&t.outlet&&t.outlet!==Wi&&(t.component=_S),t}function Zc(e){return e.outlet||Wi}function Gm(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let n=e.parent;n;n=n.parent){const t=n.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class fL{constructor(n,t,d,P,J){this.routeReuseStrategy=n,this.futureState=t,this.currState=d,this.forwardEvent=P,this.inputBindingEnabled=J}activate(n){const t=this.futureState._root,d=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,d,n),Jb(this.futureState.root),this.activateChildRoutes(t,d,n)}deactivateChildRoutes(n,t,d){const P=F0(t);n.children.forEach(J=>{const ue=J.value.outlet;this.deactivateRoutes(J,P[ue],d),delete P[ue]}),Object.values(P).forEach(J=>{this.deactivateRouteAndItsChildren(J,d)})}deactivateRoutes(n,t,d){const P=n.value,J=t?t.value:null;if(P===J)if(P.component){const ue=d.getContext(P.outlet);ue&&this.deactivateChildRoutes(n,t,ue.children)}else this.deactivateChildRoutes(n,t,d);else J&&this.deactivateRouteAndItsChildren(t,d)}deactivateRouteAndItsChildren(n,t){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,t):this.deactivateRouteAndOutlet(n,t)}detachAndStoreRouteSubtree(n,t){const d=t.getContext(n.value.outlet),P=d&&n.value.component?d.children:t,J=F0(n);for(const ue of Object.keys(J))this.deactivateRouteAndItsChildren(J[ue],P);if(d&&d.outlet){const ue=d.outlet.detach(),Ne=d.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:ue,route:n,contexts:Ne})}}deactivateRouteAndOutlet(n,t){const d=t.getContext(n.value.outlet),P=d&&n.value.component?d.children:t,J=F0(n);for(const ue of Object.keys(J))this.deactivateRouteAndItsChildren(J[ue],P);d&&(d.outlet&&(d.outlet.deactivate(),d.children.onOutletDeactivated()),d.attachRef=null,d.route=null)}activateChildRoutes(n,t,d){const P=F0(t);n.children.forEach(J=>{this.activateRoutes(J,P[J.value.outlet],d),this.forwardEvent(new XR(J.value.snapshot))}),n.children.length&&this.forwardEvent(new YR(n.value.snapshot))}activateRoutes(n,t,d){const P=n.value,J=t?t.value:null;if(Jb(P),P===J)if(P.component){const ue=d.getOrCreateContext(P.outlet);this.activateChildRoutes(n,t,ue.children)}else this.activateChildRoutes(n,t,d);else if(P.component){const ue=d.getOrCreateContext(P.outlet);if(this.routeReuseStrategy.shouldAttach(P.snapshot)){const Ne=this.routeReuseStrategy.retrieve(P.snapshot);this.routeReuseStrategy.store(P.snapshot,null),ue.children.onOutletReAttached(Ne.contexts),ue.attachRef=Ne.componentRef,ue.route=Ne.route.value,ue.outlet&&ue.outlet.attach(Ne.componentRef,Ne.route.value),Jb(Ne.route.value),this.activateChildRoutes(n,null,ue.children)}else{const Ne=Gm(P.snapshot);ue.attachRef=null,ue.route=P,ue.injector=Ne,ue.outlet&&ue.outlet.activateWith(P,ue.injector),this.activateChildRoutes(n,null,ue.children)}}else this.activateChildRoutes(n,null,d)}}class xS{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}}class dy{constructor(n,t){this.component=n,this.route=t}}function dL(e,n,t){const d=e._root;return qm(d,n?n._root:null,t,[d.value])}function B0(e,n){const t=Symbol(),d=n.get(e,t);return d===t?"function"!=typeof e||function ri(e){return null!==Fr(e)}(e)?n.get(e):e:d}function qm(e,n,t,d,P={canDeactivateChecks:[],canActivateChecks:[]}){const J=F0(n);return e.children.forEach(ue=>{(function pL(e,n,t,d,P={canDeactivateChecks:[],canActivateChecks:[]}){const J=e.value,ue=n?n.value:null,Ne=t?t.getContext(e.value.outlet):null;if(ue&&J.routeConfig===ue.routeConfig){const He=function gL(e,n,t){if("function"==typeof t)return t(e,n);switch(t){case"pathParamsChange":return!$h(e.url,n.url);case"pathParamsOrQueryParamsChange":return!$h(e.url,n.url)||!Ef(e.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Kb(e,n)||!Ef(e.queryParams,n.queryParams);default:return!Kb(e,n)}}(ue,J,J.routeConfig.runGuardsAndResolvers);He?P.canActivateChecks.push(new xS(d)):(J.data=ue.data,J._resolvedData=ue._resolvedData),qm(e,n,J.component?Ne?Ne.children:null:t,d,P),He&&Ne&&Ne.outlet&&Ne.outlet.isActivated&&P.canDeactivateChecks.push(new dy(Ne.outlet.component,ue))}else ue&&Wm(n,Ne,P),P.canActivateChecks.push(new xS(d)),qm(e,null,J.component?Ne?Ne.children:null:t,d,P)})(ue,J[ue.value.outlet],t,d.concat([ue.value]),P),delete J[ue.value.outlet]}),Object.entries(J).forEach(([ue,Ne])=>Wm(Ne,t.getContext(ue),P)),P}function Wm(e,n,t){const d=F0(e),P=e.value;Object.entries(d).forEach(([J,ue])=>{Wm(ue,P.component?n?n.children.getContext(J):null:n,t)}),t.canDeactivateChecks.push(new dy(P.component&&n&&n.outlet&&n.outlet.isActivated?n.outlet.component:null,P))}function $m(e){return"function"==typeof e}function bS(e){return e instanceof ey||"EmptyError"===e?.name}const hy=Symbol("INITIAL_VALUE");function j0(){return En(e=>zb(e.map(n=>n.pipe(Tl(1),function zA(...e){const n=$t(e);return W((t,d)=>{(n?Om(e,t,n):Om(e,t)).subscribe(d)})}(hy)))).pipe(re(n=>{for(const t of n)if(!0!==t){if(t===hy)return hy;if(!1===t||t instanceof L0)return t}return!0}),Ws(n=>n!==hy),Tl(1)))}function wS(e){return function O(...e){return R(e)}(ll(n=>{if(Yh(n))throw mS(0,n)}),re(n=>!0===n))}class py{constructor(n){this.segmentGroup=n||null}}class TS{constructor(n){this.urlTree=n}}function V0(e){return O0(new py(e))}function MS(e){return O0(new TS(e))}class LL{constructor(n,t){this.urlSerializer=n,this.urlTree=t}noMatchError(n){return new yn(4002,!1)}lineralizeSegments(n,t){let d=[],P=t.root;for(;;){if(d=d.concat(P.segments),0===P.numberOfChildren)return xn(d);if(P.numberOfChildren>1||!P.children[Wi])return O0(new yn(4e3,!1));P=P.children[Wi]}}applyRedirectCommands(n,t,d){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),n,d)}applyRedirectCreateUrlTree(n,t,d,P){const J=this.createSegmentGroup(n,t.root,d,P);return new L0(J,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(n,t){const d={};return Object.entries(n).forEach(([P,J])=>{if("string"==typeof J&&J.startsWith(":")){const Ne=J.substring(1);d[P]=t[Ne]}else d[P]=J}),d}createSegmentGroup(n,t,d,P){const J=this.createSegments(n,t.segments,d,P);let ue={};return Object.entries(t.children).forEach(([Ne,He])=>{ue[Ne]=this.createSegmentGroup(n,He,d,P)}),new ua(J,ue)}createSegments(n,t,d,P){return t.map(J=>J.path.startsWith(":")?this.findPosParam(n,J,P):this.findOrReturn(J,d))}findPosParam(n,t,d){const P=d[t.path.substring(1)];if(!P)throw new yn(4001,!1);return P}findOrReturn(n,t){let d=0;for(const P of t){if(P.path===n.path)return t.splice(d),P;d++}return n}}const t2={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function NL(e,n,t,d,P){const J=n2(e,n,t);return J.matched?(d=function oL(e,n){return e.providers&&!e._injector&&(e._injector=Ix(e.providers,n,`Route: ${e.path}`)),e._injector??n}(n,d),function OL(e,n,t,d){const P=n.canMatch;return P&&0!==P.length?xn(P.map(ue=>{const Ne=B0(ue,e);return Yd(function bL(e){return e&&$m(e.canMatch)}(Ne)?Ne.canMatch(n,t):e.runInContext(()=>Ne(n,t)))})).pipe(j0(),wS()):xn(!0)}(d,n,t).pipe(re(ue=>!0===ue?J:{...t2}))):xn(J)}function n2(e,n,t){if(""===n.path)return"full"===n.pathMatch&&(e.hasChildren()||t.length>0)?{...t2}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const P=(n.matcher||pR)(t,e,n);if(!P)return{...t2};const J={};Object.entries(P.posParams??{}).forEach(([Ne,He])=>{J[Ne]=He.path});const ue=P.consumed.length>0?{...J,...P.consumed[P.consumed.length-1].parameters}:J;return{matched:!0,consumedSegments:P.consumed,remainingSegments:t.slice(P.consumed.length),parameters:ue,positionalParamSegments:P.posParams??{}}}function AS(e,n,t,d){return t.length>0&&function BL(e,n,t){return t.some(d=>gy(e,n,d)&&Zc(d)!==Wi)}(e,t,d)?{segmentGroup:new ua(n,zL(d,new ua(t,e.children))),slicedSegments:[]}:0===t.length&&function jL(e,n,t){return t.some(d=>gy(e,n,d))}(e,t,d)?{segmentGroup:new ua(e.segments,FL(e,0,t,d,e.children)),slicedSegments:t}:{segmentGroup:new ua(e.segments,e.children),slicedSegments:t}}function FL(e,n,t,d,P){const J={};for(const ue of d)if(gy(e,t,ue)&&!P[Zc(ue)]){const Ne=new ua([],{});J[Zc(ue)]=Ne}return{...P,...J}}function zL(e,n){const t={};t[Wi]=n;for(const d of e)if(""===d.path&&Zc(d)!==Wi){const P=new ua([],{});t[Zc(d)]=P}return t}function gy(e,n,t){return(!(e.hasChildren()||n.length>0)||"full"!==t.pathMatch)&&""===t.path}class GL{constructor(n,t,d,P,J,ue,Ne){this.injector=n,this.configLoader=t,this.rootComponentType=d,this.config=P,this.urlTree=J,this.paramsInheritanceStrategy=ue,this.urlSerializer=Ne,this.allowRedirects=!0,this.applyRedirects=new LL(this.urlSerializer,this.urlTree)}noMatchError(n){return new yn(4002,!1)}recognize(){const n=AS(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,n,Wi).pipe($d(t=>{if(t instanceof TS)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof py?this.noMatchError(t):t}),re(t=>{const d=new cy([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Wi,this.rootComponentType,null,{}),P=new od(d,t),J=new dS("",P),ue=function RR(e,n,t=null,d=null){return eS(QA(e),n,t,d)}(d,[],this.urlTree.queryParams,this.urlTree.fragment);return ue.queryParams=this.urlTree.queryParams,J.url=this.urlSerializer.serialize(ue),this.inheritParamsAndData(J._root),{state:J,tree:ue}}))}match(n){return this.processSegmentGroup(this.injector,this.config,n.root,Wi).pipe($d(d=>{throw d instanceof py?this.noMatchError(d):d}))}inheritParamsAndData(n){const t=n.value,d=fS(t,this.paramsInheritanceStrategy);t.params=Object.freeze(d.params),t.data=Object.freeze(d.data),n.children.forEach(P=>this.inheritParamsAndData(P))}processSegmentGroup(n,t,d,P){return 0===d.segments.length&&d.hasChildren()?this.processChildren(n,t,d):this.processSegment(n,t,d,d.segments,P,!0)}processChildren(n,t,d){const P=[];for(const J of Object.keys(d.children))"primary"===J?P.unshift(J):P.push(J);return un(P).pipe(P0(J=>{const ue=d.children[J],Ne=function uL(e,n){const t=e.filter(d=>Zc(d)===n);return t.push(...e.filter(d=>Zc(d)!==n)),t}(t,J);return this.processSegmentGroup(n,Ne,ue,J)}),function fR(e,n){return W(function cR(e,n,t,d,P){return(J,ue)=>{let Ne=t,He=n,rt=0;J.subscribe(Z(ue,yt=>{const Nt=rt++;He=Ne?e(He,yt,Nt):(Ne=!0,yt),d&&ue.next(He)},P&&(()=>{Ne&&ue.next(He),ue.complete()})))}}(e,n,arguments.length>=2,!0))}((J,ue)=>(J.push(...ue),J)),ty(null),function dR(e,n){const t=arguments.length>=2;return d=>d.pipe(e?Ws((P,J)=>e(P,J,d)):S,jb(1),t?ty(n):BA(()=>new ey))}(),wt(J=>{if(null===J)return V0(d);const ue=SS(J);return function qL(e){e.sort((n,t)=>n.value.outlet===Wi?-1:t.value.outlet===Wi?1:n.value.outlet.localeCompare(t.value.outlet))}(ue),xn(ue)}))}processSegment(n,t,d,P,J,ue){return un(t).pipe(P0(Ne=>this.processSegmentAgainstRoute(Ne._injector??n,t,Ne,d,P,J,ue).pipe($d(He=>{if(He instanceof py)return xn(null);throw He}))),Wh(Ne=>!!Ne),$d(Ne=>{if(bS(Ne))return function UL(e,n,t){return 0===n.length&&!e.children[t]}(d,P,J)?xn([]):V0(d);throw Ne}))}processSegmentAgainstRoute(n,t,d,P,J,ue,Ne){return function VL(e,n,t,d){return!!(Zc(e)===d||d!==Wi&&gy(n,t,e))&&("**"===e.path||n2(n,e,t).matched)}(d,P,J,ue)?void 0===d.redirectTo?this.matchSegmentAgainstRoute(n,P,d,J,ue,Ne):Ne&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(n,P,t,d,J,ue):V0(P):V0(P)}expandSegmentAgainstRouteUsingRedirect(n,t,d,P,J,ue){return"**"===P.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(n,d,P,ue):this.expandRegularSegmentAgainstRouteUsingRedirect(n,t,d,P,J,ue)}expandWildCardWithParamsAgainstRouteUsingRedirect(n,t,d,P){const J=this.applyRedirects.applyRedirectCommands([],d.redirectTo,{});return d.redirectTo.startsWith("/")?MS(J):this.applyRedirects.lineralizeSegments(d,J).pipe(wt(ue=>{const Ne=new ua(ue,{});return this.processSegment(n,t,Ne,ue,P,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(n,t,d,P,J,ue){const{matched:Ne,consumedSegments:He,remainingSegments:rt,positionalParamSegments:yt}=n2(t,P,J);if(!Ne)return V0(t);const Nt=this.applyRedirects.applyRedirectCommands(He,P.redirectTo,yt);return P.redirectTo.startsWith("/")?MS(Nt):this.applyRedirects.lineralizeSegments(P,Nt).pipe(wt(Zt=>this.processSegment(n,d,t,Zt.concat(rt),ue,!1)))}matchSegmentAgainstRoute(n,t,d,P,J,ue){let Ne;if("**"===d.path){const He=P.length>0?UA(P).parameters:{};Ne=xn({snapshot:new cy(P,He,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,kS(d),Zc(d),d.component??d._loadedComponent??null,d,ES(d)),consumedSegments:[],remainingSegments:[]}),t.children={}}else Ne=NL(t,d,P,n).pipe(re(({matched:He,consumedSegments:rt,remainingSegments:yt,parameters:Nt})=>He?{snapshot:new cy(rt,Nt,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,kS(d),Zc(d),d.component??d._loadedComponent??null,d,ES(d)),consumedSegments:rt,remainingSegments:yt}:null));return Ne.pipe(En(He=>null===He?V0(t):this.getChildConfig(n=d._injector??n,d,P).pipe(En(({routes:rt})=>{const yt=d._loadedInjector??n,{snapshot:Nt,consumedSegments:Zt,remainingSegments:dn}=He,{segmentGroup:jn,slicedSegments:qn}=AS(t,Zt,dn,rt);if(0===qn.length&&jn.hasChildren())return this.processChildren(yt,rt,jn).pipe(re(br=>null===br?null:[new od(Nt,br)]));if(0===rt.length&&0===qn.length)return xn([new od(Nt,[])]);const Kn=Zc(d)===J;return this.processSegment(yt,rt,jn,qn,Kn?Wi:J,!0).pipe(re(br=>[new od(Nt,br)]))}))))}getChildConfig(n,t,d){return t.children?xn({routes:t.children,injector:n}):t.loadChildren?void 0!==t._loadedRoutes?xn({routes:t._loadedRoutes,injector:t._loadedInjector}):function IL(e,n,t,d){const P=n.canLoad;return void 0===P||0===P.length?xn(!0):xn(P.map(ue=>{const Ne=B0(ue,e);return Yd(function vL(e){return e&&$m(e.canLoad)}(Ne)?Ne.canLoad(n,t):e.runInContext(()=>Ne(n,t)))})).pipe(j0(),wS())}(n,t,d).pipe(wt(P=>P?this.configLoader.loadChildren(n,t).pipe(ll(J=>{t._loadedRoutes=J.routes,t._loadedInjector=J.injector})):function RL(e){return O0(vS(!1,3))}())):xn({routes:[],injector:n})}}function WL(e){const n=e.value.routeConfig;return n&&""===n.path}function SS(e){const n=[],t=new Set;for(const d of e){if(!WL(d)){n.push(d);continue}const P=n.find(J=>d.value.routeConfig===J.value.routeConfig);void 0!==P?(P.children.push(...d.children),t.add(P)):n.push(d)}for(const d of t){const P=SS(d.children);n.push(new od(d.value,P))}return n.filter(d=>!t.has(d))}function kS(e){return e.data||{}}function ES(e){return e.resolve||{}}function YL(e,n){return wt(t=>{const{targetSnapshot:d,guards:{canActivateChecks:P}}=t;if(!P.length)return xn(t);let J=0;return un(P).pipe(P0(ue=>function ZL(e,n,t,d){const P=e.routeConfig,J=e._resolve;return void 0!==P?.title&&!CS(P)&&(J[Rm]=P.title),function XL(e,n,t,d){const P=function JL(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}(e);if(0===P.length)return xn({});const J={};return un(P).pipe(wt(ue=>function KL(e,n,t,d){const P=Gm(n)??d,J=B0(e,P);return Yd(J.resolve?J.resolve(n,t):P.runInContext(()=>J(n,t)))}(e[ue],n,t,d).pipe(Wh(),ll(Ne=>{J[ue]=Ne}))),jb(1),function jA(e){return re(()=>e)}(J),$d(ue=>bS(ue)?_t:O0(ue)))}(J,e,n,d).pipe(re(ue=>(e._resolvedData=ue,e.data=fS(e,t).resolve,P&&CS(P)&&(e.data[Rm]=P.title),null)))}(ue.route,d,e,n)),ll(()=>J++),jb(1),wt(ue=>J===P.length?xn(t):_t))})}function CS(e){return"string"==typeof e.title||null===e.title}function r2(e){return En(n=>{const t=e(n);return t?un(t).pipe(re(()=>n)):xn(n)})}const U0=new $r("ROUTES");let i2=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=Br(sM)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return xn(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const d=Yd(t.loadComponent()).pipe(re(DS),ll(J=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=J}),Pm(()=>{this.componentLoaders.delete(t)})),P=new FA(d,()=>new Y).pipe(Bb());return this.componentLoaders.set(t,P),P}loadChildren(t,d){if(this.childrenLoaders.get(d))return this.childrenLoaders.get(d);if(d._loadedRoutes)return xn({routes:d._loadedRoutes,injector:d._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(d);const J=function QL(e,n,t,d){return Yd(e.loadChildren()).pipe(re(DS),wt(P=>P instanceof v5||Array.isArray(P)?xn(P):un(n.compileModuleAsync(P))),re(P=>{d&&d(e);let J,ue,Ne=!1;return Array.isArray(P)?(ue=P,!0):(J=P.create(t).injector,ue=J.get(U0,[],{optional:!0,self:!0}).flat()),{routes:ue.map(e2),injector:J}}))}(d,this.compiler,t,this.onLoadEndListener).pipe(Pm(()=>{this.childrenLoaders.delete(d)})),ue=new FA(J,()=>new Y).pipe(Bb());return this.childrenLoaders.set(d,ue),ue}static#e=this.\u0275fac=function(d){return new(d||e)};static#t=this.\u0275prov=Qn({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function DS(e){return function eN(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let my=(()=>{class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Y,this.transitionAbortSubject=new Y,this.configLoader=Br(i2),this.environmentInjector=Br(Gs),this.urlSerializer=Br(Nm),this.rootContexts=Br(Um),this.inputBindingEnabled=null!==Br(fy,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>xn(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=P=>this.events.next(new WR(P)),this.configLoader.onLoadStartListener=P=>this.events.next(new qR(P))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const d=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:d})}setupNavigations(t,d,P){return this.transitions=new kn({id:0,currentUrlTree:d,currentRawUrl:d,currentBrowserUrl:d,extractedUrl:t.urlHandlingStrategy.extract(d),urlAfterRedirects:t.urlHandlingStrategy.extract(d),rawUrl:d,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:jm,restoredState:null,currentSnapshot:P.snapshot,targetSnapshot:null,currentRouterState:P,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ws(J=>0!==J.id),re(J=>({...J,extractedUrl:t.urlHandlingStrategy.extract(J.rawUrl)})),En(J=>{this.currentTransition=J;let ue=!1,Ne=!1;return xn(J).pipe(ll(He=>{this.currentNavigation={id:He.id,initialUrl:He.rawUrl,extractedUrl:He.extractedUrl,trigger:He.source,extras:He.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),En(He=>{const rt=He.currentBrowserUrl.toString(),yt=!t.navigated||He.extractedUrl.toString()!==rt||rt!==He.currentUrlTree.toString();if(!yt&&"reload"!==(He.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const Zt="";return this.events.next(new N0(He.id,this.urlSerializer.serialize(He.rawUrl),Zt,0)),He.resolve(null),_t}if(t.urlHandlingStrategy.shouldProcessUrl(He.rawUrl))return xn(He).pipe(En(Zt=>{const dn=this.transitions?.getValue();return this.events.next(new ly(Zt.id,this.urlSerializer.serialize(Zt.extractedUrl),Zt.source,Zt.restoredState)),dn!==this.transitions?.getValue()?_t:Promise.resolve(Zt)}),function $L(e,n,t,d,P,J){return wt(ue=>function HL(e,n,t,d,P,J,ue="emptyOnly"){return new GL(e,n,t,d,P,ue,J).recognize()}(e,n,t,d,ue.extractedUrl,P,J).pipe(re(({state:Ne,tree:He})=>({...ue,targetSnapshot:Ne,urlAfterRedirects:He}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),ll(Zt=>{J.targetSnapshot=Zt.targetSnapshot,J.urlAfterRedirects=Zt.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Zt.urlAfterRedirects};const dn=new aS(Zt.id,this.urlSerializer.serialize(Zt.extractedUrl),this.urlSerializer.serialize(Zt.urlAfterRedirects),Zt.targetSnapshot);this.events.next(dn)}));if(yt&&t.urlHandlingStrategy.shouldProcessUrl(He.currentRawUrl)){const{id:Zt,extractedUrl:dn,source:jn,restoredState:qn,extras:Kn}=He,br=new ly(Zt,this.urlSerializer.serialize(dn),jn,qn);this.events.next(br);const ar=cS(0,this.rootComponentType).snapshot;return this.currentTransition=J={...He,targetSnapshot:ar,urlAfterRedirects:dn,extras:{...Kn,skipLocationChange:!1,replaceUrl:!1}},xn(J)}{const Zt="";return this.events.next(new N0(He.id,this.urlSerializer.serialize(He.extractedUrl),Zt,1)),He.resolve(null),_t}}),ll(He=>{const rt=new VR(He.id,this.urlSerializer.serialize(He.extractedUrl),this.urlSerializer.serialize(He.urlAfterRedirects),He.targetSnapshot);this.events.next(rt)}),re(He=>(this.currentTransition=J={...He,guards:dL(He.targetSnapshot,He.currentSnapshot,this.rootContexts)},J)),function TL(e,n){return wt(t=>{const{targetSnapshot:d,currentSnapshot:P,guards:{canActivateChecks:J,canDeactivateChecks:ue}}=t;return 0===ue.length&&0===J.length?xn({...t,guardsResult:!0}):function ML(e,n,t,d){return un(e).pipe(wt(P=>function DL(e,n,t,d,P){const J=n&&n.routeConfig?n.routeConfig.canDeactivate:null;return J&&0!==J.length?xn(J.map(Ne=>{const He=Gm(n)??P,rt=B0(Ne,He);return Yd(function xL(e){return e&&$m(e.canDeactivate)}(rt)?rt.canDeactivate(e,n,t,d):He.runInContext(()=>rt(e,n,t,d))).pipe(Wh())})).pipe(j0()):xn(!0)}(P.component,P.route,t,n,d)),Wh(P=>!0!==P,!0))}(ue,d,P,e).pipe(wt(Ne=>Ne&&function mL(e){return"boolean"==typeof e}(Ne)?function AL(e,n,t,d){return un(n).pipe(P0(P=>Om(function kL(e,n){return null!==e&&n&&n(new $R(e)),xn(!0)}(P.route.parent,d),function SL(e,n){return null!==e&&n&&n(new ZR(e)),xn(!0)}(P.route,d),function CL(e,n,t){const d=n[n.length-1],J=n.slice(0,n.length-1).reverse().map(ue=>function hL(e){const n=e.routeConfig?e.routeConfig.canActivateChild:null;return n&&0!==n.length?{node:e,guards:n}:null}(ue)).filter(ue=>null!==ue).map(ue=>NA(()=>xn(ue.guards.map(He=>{const rt=Gm(ue.node)??t,yt=B0(He,rt);return Yd(function _L(e){return e&&$m(e.canActivateChild)}(yt)?yt.canActivateChild(d,e):rt.runInContext(()=>yt(d,e))).pipe(Wh())})).pipe(j0())));return xn(J).pipe(j0())}(e,P.path,t),function EL(e,n,t){const d=n.routeConfig?n.routeConfig.canActivate:null;if(!d||0===d.length)return xn(!0);const P=d.map(J=>NA(()=>{const ue=Gm(n)??t,Ne=B0(J,ue);return Yd(function yL(e){return e&&$m(e.canActivate)}(Ne)?Ne.canActivate(n,e):ue.runInContext(()=>Ne(n,e))).pipe(Wh())}));return xn(P).pipe(j0())}(e,P.route,t))),Wh(P=>!0!==P,!0))}(d,J,e,n):xn(Ne)),re(Ne=>({...t,guardsResult:Ne})))})}(this.environmentInjector,He=>this.events.next(He)),ll(He=>{if(J.guardsResult=He.guardsResult,Yh(He.guardsResult))throw mS(0,He.guardsResult);const rt=new UR(He.id,this.urlSerializer.serialize(He.extractedUrl),this.urlSerializer.serialize(He.urlAfterRedirects),He.targetSnapshot,!!He.guardsResult);this.events.next(rt)}),Ws(He=>!!He.guardsResult||(this.cancelNavigationTransition(He,"",3),!1)),r2(He=>{if(He.guards.canActivateChecks.length)return xn(He).pipe(ll(rt=>{const yt=new HR(rt.id,this.urlSerializer.serialize(rt.extractedUrl),this.urlSerializer.serialize(rt.urlAfterRedirects),rt.targetSnapshot);this.events.next(yt)}),En(rt=>{let yt=!1;return xn(rt).pipe(YL(t.paramsInheritanceStrategy,this.environmentInjector),ll({next:()=>yt=!0,complete:()=>{yt||this.cancelNavigationTransition(rt,"",2)}}))}),ll(rt=>{const yt=new GR(rt.id,this.urlSerializer.serialize(rt.extractedUrl),this.urlSerializer.serialize(rt.urlAfterRedirects),rt.targetSnapshot);this.events.next(yt)}))}),r2(He=>{const rt=yt=>{const Nt=[];yt.routeConfig?.loadComponent&&!yt.routeConfig._loadedComponent&&Nt.push(this.configLoader.loadComponent(yt.routeConfig).pipe(ll(Zt=>{yt.component=Zt}),re(()=>{})));for(const Zt of yt.children)Nt.push(...rt(Zt));return Nt};return zb(rt(He.targetSnapshot.root)).pipe(ty(),Tl(1))}),r2(()=>this.afterPreactivation()),re(He=>{const rt=function tL(e,n,t){const d=Hm(e,n._root,t?t._root:void 0);return new uS(d,n)}(t.routeReuseStrategy,He.targetSnapshot,He.currentRouterState);return this.currentTransition=J={...He,targetRouterState:rt},J}),ll(()=>{this.events.next(new Wb)}),((e,n,t,d)=>re(P=>(new fL(n,P.targetRouterState,P.currentRouterState,t,d).activate(e),P)))(this.rootContexts,t.routeReuseStrategy,He=>this.events.next(He),this.inputBindingEnabled),Tl(1),ll({next:He=>{ue=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Zd(He.id,this.urlSerializer.serialize(He.extractedUrl),this.urlSerializer.serialize(He.urlAfterRedirects))),t.titleStrategy?.updateTitle(He.targetRouterState.snapshot),He.resolve(!0)},complete:()=>{ue=!0}}),ys(this.transitionAbortSubject.pipe(ll(He=>{throw He}))),Pm(()=>{ue||Ne||this.cancelNavigationTransition(J,"",1),this.currentNavigation?.id===J.id&&(this.currentNavigation=null)}),$d(He=>{if(Ne=!0,yS(He))this.events.next(new Vm(J.id,this.urlSerializer.serialize(J.extractedUrl),He.message,He.cancellationCode)),function iL(e){return yS(e)&&Yh(e.url)}(He)?this.events.next(new $b(He.url)):J.resolve(!1);else{this.events.next(new uy(J.id,this.urlSerializer.serialize(J.extractedUrl),He,J.targetSnapshot??void 0));try{J.resolve(t.errorHandler(He))}catch(rt){J.reject(rt)}}return _t}))}))}cancelNavigationTransition(t,d,P){const J=new Vm(t.id,this.urlSerializer.serialize(t.extractedUrl),d,P);this.events.next(J),t.resolve(!1)}static#e=this.\u0275fac=function(d){return new(d||e)};static#t=this.\u0275prov=Qn({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function IS(e){return e!==jm}let OS=(()=>{class e{buildTitle(t){let d,P=t.root;for(;void 0!==P;)d=this.getResolvedTitleForRoute(P)??d,P=P.children.find(J=>J.outlet===Wi);return d}getResolvedTitleForRoute(t){return t.data[Rm]}static#e=this.\u0275fac=function(d){return new(d||e)};static#t=this.\u0275prov=Qn({token:e,factory:function(){return Br(tN)},providedIn:"root"})}return e})(),tN=(()=>{class e extends OS{constructor(t){super(),this.title=t}updateTitle(t){const d=this.buildTitle(t);void 0!==d&&this.title.setTitle(d)}static#e=this.\u0275fac=function(d){return new(d||e)(Hr(CA))};static#t=this.\u0275prov=Qn({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),nN=(()=>{class e{static#e=this.\u0275fac=function(d){return new(d||e)};static#t=this.\u0275prov=Qn({token:e,factory:function(){return Br(iN)},providedIn:"root"})}return e})();class rN{shouldDetach(n){return!1}store(n,t){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,t){return n.routeConfig===t.routeConfig}}let iN=(()=>{class e extends rN{static#e=this.\u0275fac=function(){let t;return function(P){return(t||(t=function Va(e){return Fa(()=>{const n=e.prototype.constructor,t=n[Qs]||Ip(n),d=Object.prototype;let P=Object.getPrototypeOf(e.prototype).constructor;for(;P&&P!==d;){const J=P[Qs]||Ip(P);if(J&&J!==t)return J;P=Object.getPrototypeOf(P)}return J=>new J})}(e)))(P||e)}}();static#t=this.\u0275prov=Qn({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const vy=new $r("",{providedIn:"root",factory:()=>({})});let oN=(()=>{class e{static#e=this.\u0275fac=function(d){return new(d||e)};static#t=this.\u0275prov=Qn({token:e,factory:function(){return Br(aN)},providedIn:"root"})}return e})(),aN=(()=>{class e{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,d){return t}static#e=this.\u0275fac=function(d){return new(d||e)};static#t=this.\u0275prov=Qn({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Ym=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(Ym||{});function PS(e,n){e.events.pipe(Ws(t=>t instanceof Zd||t instanceof Vm||t instanceof uy||t instanceof N0),re(t=>t instanceof Zd||t instanceof N0?Ym.COMPLETE:t instanceof Vm&&(0===t.code||1===t.code)?Ym.REDIRECTING:Ym.FAILED),Ws(t=>t!==Ym.REDIRECTING),Tl(1)).subscribe(()=>{n()})}function sN(e){throw e}function lN(e,n,t){return n.parse("/")}const uN={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},cN={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let bc=(()=>{class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=Br(aM),this.isNgZoneEnabled=!1,this._events=new Y,this.options=Br(vy,{optional:!0})||{},this.pendingTasks=Br(O1),this.errorHandler=this.options.errorHandler||sN,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||lN,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=Br(oN),this.routeReuseStrategy=Br(nN),this.titleStrategy=Br(OS),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Br(U0,{optional:!0})?.flat()??[],this.navigationTransitions=Br(my),this.urlSerializer=Br(Nm),this.location=Br(fb),this.componentInputBindingEnabled=!!Br(fy,{optional:!0}),this.eventsSubscription=new D,this.isNgZoneEnabled=Br(xo)instanceof xo&&xo.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new L0,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=cS(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(d=>{try{const{currentTransition:P}=this.navigationTransitions;if(null===P)return void(RS(d)&&this._events.next(d));if(d instanceof ly)IS(P.source)&&(this.browserUrlTree=P.extractedUrl);else if(d instanceof N0)this.rawUrlTree=P.rawUrl;else if(d instanceof aS){if("eager"===this.urlUpdateStrategy){if(!P.extras.skipLocationChange){const J=this.urlHandlingStrategy.merge(P.urlAfterRedirects,P.rawUrl);this.setBrowserUrl(J,P)}this.browserUrlTree=P.urlAfterRedirects}}else if(d instanceof Wb)this.currentUrlTree=P.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(P.urlAfterRedirects,P.rawUrl),this.routerState=P.targetRouterState,"deferred"===this.urlUpdateStrategy&&(P.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,P),this.browserUrlTree=P.urlAfterRedirects);else if(d instanceof Vm)0!==d.code&&1!==d.code&&(this.navigated=!0),(3===d.code||2===d.code)&&this.restoreHistory(P);else if(d instanceof $b){const J=this.urlHandlingStrategy.merge(d.url,P.currentRawUrl),ue={skipLocationChange:P.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||IS(P.source)};this.scheduleNavigation(J,jm,null,ue,{resolve:P.resolve,reject:P.reject,promise:P.promise})}d instanceof uy&&this.restoreHistory(P,!0),d instanceof Zd&&(this.navigated=!0),RS(d)&&this._events.next(d)}catch(P){this.navigationTransitions.transitionAbortSubject.next(P)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),jm,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const d="popstate"===t.type?"popstate":"hashchange";"popstate"===d&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,d,t.state)},0)}))}navigateToSyncWithBrowser(t,d,P){const J={replaceUrl:!0},ue=P?.navigationId?P:null;if(P){const He={...P};delete He.navigationId,delete He.\u0275routerPageId,0!==Object.keys(He).length&&(J.state=He)}const Ne=this.parseUrl(t);this.scheduleNavigation(Ne,d,ue,J)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(e2),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,d={}){const{relativeTo:P,queryParams:J,fragment:ue,queryParamsHandling:Ne,preserveFragment:He}=d,rt=He?this.currentUrlTree.fragment:ue;let Nt,yt=null;switch(Ne){case"merge":yt={...this.currentUrlTree.queryParams,...J};break;case"preserve":yt=this.currentUrlTree.queryParams;break;default:yt=J||null}null!==yt&&(yt=this.removeEmptyProps(yt));try{Nt=QA(P?P.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),Nt=this.currentUrlTree.root}return eS(Nt,t,yt,rt??null)}navigateByUrl(t,d={skipLocationChange:!1}){const P=Yh(t)?t:this.parseUrl(t),J=this.urlHandlingStrategy.merge(P,this.rawUrlTree);return this.scheduleNavigation(J,jm,null,d)}navigate(t,d={skipLocationChange:!1}){return function fN(e){for(let n=0;n<e.length;n++)if(null==e[n])throw new yn(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,d),d)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let d;try{d=this.urlSerializer.parse(t)}catch(P){d=this.malformedUriErrorHandler(P,this.urlSerializer,t)}return d}isActive(t,d){let P;if(P=!0===d?{...uN}:!1===d?{...cN}:d,Yh(t))return GA(this.currentUrlTree,t,P);const J=this.parseUrl(t);return GA(this.currentUrlTree,J,P)}removeEmptyProps(t){return Object.keys(t).reduce((d,P)=>{const J=t[P];return null!=J&&(d[P]=J),d},{})}scheduleNavigation(t,d,P,J,ue){if(this.disposed)return Promise.resolve(!1);let Ne,He,rt;ue?(Ne=ue.resolve,He=ue.reject,rt=ue.promise):rt=new Promise((Nt,Zt)=>{Ne=Nt,He=Zt});const yt=this.pendingTasks.add();return PS(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(yt))}),this.navigationTransitions.handleNavigationRequest({source:d,restoredState:P,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:t,extras:J,resolve:Ne,reject:He,promise:rt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),rt.catch(Nt=>Promise.reject(Nt))}setBrowserUrl(t,d){const P=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(P)||d.extras.replaceUrl){const ue={...d.extras.state,...this.generateNgRouterState(d.id,this.browserPageId)};this.location.replaceState(P,"",ue)}else{const J={...d.extras.state,...this.generateNgRouterState(d.id,this.browserPageId+1)};this.location.go(P,"",J)}}restoreHistory(t,d=!1){if("computed"===this.canceledNavigationResolution){const J=this.currentPageId-this.browserPageId;0!==J?this.location.historyGo(J):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===J&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(d&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,d){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:d}:{navigationId:t}}static#e=this.\u0275fac=function(d){return new(d||e)};static#t=this.\u0275prov=Qn({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function RS(e){return!(e instanceof Wb||e instanceof $b)}class LS{}let pN=(()=>{class e{constructor(t,d,P,J,ue){this.router=t,this.injector=P,this.preloadingStrategy=J,this.loader=ue}setUpPreloading(){this.subscription=this.router.events.pipe(Ws(t=>t instanceof Zd),P0(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,d){const P=[];for(const J of d){J.providers&&!J._injector&&(J._injector=Ix(J.providers,t,`Route: ${J.path}`));const ue=J._injector??t,Ne=J._loadedInjector??ue;(J.loadChildren&&!J._loadedRoutes&&void 0===J.canLoad||J.loadComponent&&!J._loadedComponent)&&P.push(this.preloadConfig(ue,J)),(J.children||J._loadedRoutes)&&P.push(this.processRoutes(Ne,J.children??J._loadedRoutes))}return un(P).pipe(St())}preloadConfig(t,d){return this.preloadingStrategy.preload(d,()=>{let P;P=d.loadChildren&&void 0===d.canLoad?this.loader.loadChildren(t,d):xn(null);const J=P.pipe(wt(ue=>null===ue?xn(void 0):(d._loadedRoutes=ue.routes,d._loadedInjector=ue.injector,this.processRoutes(ue.injector??t,ue.routes))));return d.loadComponent&&!d._loadedComponent?un([J,this.loader.loadComponent(d)]).pipe(St()):J})}static#e=this.\u0275fac=function(d){return new(d||e)(Hr(bc),Hr(sM),Hr(Gs),Hr(LS),Hr(i2))};static#t=this.\u0275prov=Qn({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const a2=new $r("");let NS=(()=>{class e{constructor(t,d,P,J,ue={}){this.urlSerializer=t,this.transitions=d,this.viewportScroller=P,this.zone=J,this.options=ue,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},ue.scrollPositionRestoration=ue.scrollPositionRestoration||"disabled",ue.anchorScrolling=ue.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof ly?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Zd?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof N0&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof sS&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,d){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new sS(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,d))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(d){!function r3(){throw new Error("invalid")}()};static#t=this.\u0275prov=Qn({token:e,factory:e.\u0275fac})}return e})();function ad(e,n){return{\u0275kind:e,\u0275providers:n}}function zS(){const e=Br(wl);return n=>{const t=e.get(Hd);if(n!==t.components[0])return;const d=e.get(bc),P=e.get(BS);1===e.get(s2)&&d.initialNavigation(),e.get(jS,null,di.Optional)?.setUpPreloading(),e.get(a2,null,di.Optional)?.init(),d.resetRootComponentType(t.componentTypes[0]),P.closed||(P.next(),P.complete(),P.unsubscribe())}}const BS=new $r("",{factory:()=>new Y}),s2=new $r("",{providedIn:"root",factory:()=>1}),jS=new $r("");function yN(e){return ad(0,[{provide:jS,useExisting:pN},{provide:LS,useExisting:e}])}const VS=new $r("ROUTER_FORROOT_GUARD"),xN=[fb,{provide:Nm,useClass:Vb},bc,Um,{provide:z0,useFactory:function FS(e){return e.routerState.root},deps:[bc]},i2,[]];function bN(){return new pM("Router",bc)}let US=(()=>{class e{constructor(t){}static forRoot(t,d){return{ngModule:e,providers:[xN,[],{provide:U0,multi:!0,useValue:t},{provide:VS,useFactory:AN,deps:[[bc,new vh,new yh]]},{provide:vy,useValue:d||{}},d?.useHash?{provide:Gh,useClass:N7}:{provide:Gh,useClass:GM},{provide:a2,useFactory:()=>{const e=Br(Q9),n=Br(xo),t=Br(vy),d=Br(my),P=Br(Nm);return t.scrollOffset&&e.setOffset(t.scrollOffset),new NS(P,d,e,n,t)}},d?.preloadingStrategy?yN(d.preloadingStrategy).\u0275providers:[],{provide:pM,multi:!0,useFactory:bN},d?.initialNavigation?SN(d):[],d?.bindToComponentInputs?ad(8,[gS,{provide:fy,useExisting:gS}]).\u0275providers:[],[{provide:HS,useFactory:zS},{provide:eb,multi:!0,useExisting:HS}]]}}static forChild(t){return{ngModule:e,providers:[{provide:U0,multi:!0,useValue:t}]}}static#e=this.\u0275fac=function(d){return new(d||e)(Hr(VS,8))};static#t=this.\u0275mod=Xi({type:e});static#n=this.\u0275inj=nr({})}return e})();function AN(e){return"guarded"}function SN(e){return["disabled"===e.initialNavigation?ad(3,[{provide:Wx,multi:!0,useFactory:()=>{const n=Br(bc);return()=>{n.setUpLocationChangeListener()}}},{provide:s2,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?ad(2,[{provide:s2,useValue:0},{provide:Wx,multi:!0,deps:[wl],useFactory:n=>{const t=n.get(R7,Promise.resolve());return()=>t.then(()=>new Promise(d=>{const P=n.get(bc),J=n.get(BS);PS(P,()=>{d(!0)}),n.get(my).afterPreactivation=()=>(d(!0),J.closed?xn(void 0):J),P.initialNavigation()}))}}]).\u0275providers:[]]}const HS=new $r(""),EN=[];let CN=(()=>{class e{static#e=this.\u0275fac=function(d){return new(d||e)};static#t=this.\u0275mod=Xi({type:e});static#n=this.\u0275inj=nr({imports:[US.forRoot(EN),US]})}return e})();class DN extends D{constructor(n,t){super()}schedule(n,t=0){return this}}const yy={setInterval(e,n,...t){const{delegate:d}=yy;return d?.setInterval?d.setInterval(e,n,...t):setInterval(e,n,...t)},clearInterval(e){const{delegate:n}=yy;return(n?.clearInterval||clearInterval)(e)},delegate:void 0},GS={now:()=>(GS.delegate||Date).now(),delegate:void 0};class Zm{constructor(n,t=Zm.now){this.schedulerActionCtor=n,this.now=t}schedule(n,t=0,d){return new this.schedulerActionCtor(this,n).schedule(d,t)}}Zm.now=GS.now;const PN=new class ON extends Zm{constructor(n,t=Zm.now){super(n,t),this.actions=[],this._active=!1}flush(n){const{actions:t}=this;if(this._active)return void t.push(n);let d;this._active=!0;do{if(d=n.execute(n.state,n.delay))break}while(n=t.shift());if(this._active=!1,d){for(;n=t.shift();)n.unsubscribe();throw d}}}(class IN extends DN{constructor(n,t){super(n,t),this.scheduler=n,this.work=t,this.pending=!1}schedule(n,t=0){var d;if(this.closed)return this;this.state=n;const P=this.id,J=this.scheduler;return null!=P&&(this.id=this.recycleAsyncId(J,P,t)),this.pending=!0,this.delay=t,this.id=null!==(d=this.id)&&void 0!==d?d:this.requestAsyncId(J,this.id,t),this}requestAsyncId(n,t,d=0){return yy.setInterval(n.flush.bind(n,this),d)}recycleAsyncId(n,t,d=0){if(null!=d&&this.delay===d&&!1===this.pending)return t;null!=t&&yy.clearInterval(t)}execute(n,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const d=this._execute(n,t);if(d)return d;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(n,t){let P,d=!1;try{this.work(n)}catch(J){d=!0,P=J||new Error("Scheduled action threw falsy error")}if(d)return this.unsubscribe(),P}unsubscribe(){if(!this.closed){const{id:n,scheduler:t}=this,{actions:d}=t;this.work=this.state=this.scheduler=null,this.pending=!1,r(d,this),null!=n&&(this.id=this.recycleAsyncId(t,n,null)),this.delay=null,super.unsubscribe()}}});function l2(e=0,n,t=PN){let d=-1;return null!=n&&(Tt(n)?t=n:d=n),new L(P=>{let J=function RN(e){return e instanceof Date&&!isNaN(e)}(e)?+e-t.now():e;J<0&&(J=0);let ue=0;return t.schedule(function(){P.closed||(P.next(ue++),0<=d?this.schedule(void 0,d):P.complete())},J)})}class _y{}class xy{}class Df{constructor(n){this.normalizedNames=new Map,this.lazyUpdate=null,n?"string"==typeof n?this.lazyInit=()=>{this.headers=new Map,n.split("\n").forEach(t=>{const d=t.indexOf(":");if(d>0){const P=t.slice(0,d),J=P.toLowerCase(),ue=t.slice(d+1).trim();this.maybeSetNormalizedName(P,J),this.headers.has(J)?this.headers.get(J).push(ue):this.headers.set(J,[ue])}})}:typeof Headers<"u"&&n instanceof Headers?(this.headers=new Map,n.forEach((t,d)=>{this.setHeaderEntries(d,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(n).forEach(([t,d])=>{this.setHeaderEntries(t,d)})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();const t=this.headers.get(n.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,t){return this.clone({name:n,value:t,op:"a"})}set(n,t){return this.clone({name:n,value:t,op:"s"})}delete(n,t){return this.clone({name:n,value:t,op:"d"})}maybeSetNormalizedName(n,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,n)}init(){this.lazyInit&&(this.lazyInit instanceof Df?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(t=>{this.headers.set(t,n.headers.get(t)),this.normalizedNames.set(t,n.normalizedNames.get(t))})}clone(n){const t=new Df;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Df?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([n]),t}applyUpdate(n){const t=n.name.toLowerCase();switch(n.op){case"a":case"s":let d=n.value;if("string"==typeof d&&(d=[d]),0===d.length)return;this.maybeSetNormalizedName(n.name,t);const P=("a"===n.op?this.headers.get(t):void 0)||[];P.push(...d),this.headers.set(t,P);break;case"d":const J=n.value;if(J){let ue=this.headers.get(t);if(!ue)return;ue=ue.filter(Ne=>-1===J.indexOf(Ne)),0===ue.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,ue)}else this.headers.delete(t),this.normalizedNames.delete(t)}}setHeaderEntries(n,t){const d=(Array.isArray(t)?t:[t]).map(J=>J.toString()),P=n.toLowerCase();this.headers.set(P,d),this.maybeSetNormalizedName(n,P)}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>n(this.normalizedNames.get(t),this.headers.get(t)))}}class NN{encodeKey(n){return WS(n)}encodeValue(n){return WS(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}}const zN=/%(\d[a-f0-9])/gi,BN={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function WS(e){return encodeURIComponent(e).replace(zN,(n,t)=>BN[t]??n)}function by(e){return`${e}`}class Xd{constructor(n={}){if(this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new NN,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function FN(e,n){const t=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(P=>{const J=P.indexOf("="),[ue,Ne]=-1==J?[n.decodeKey(P),""]:[n.decodeKey(P.slice(0,J)),n.decodeValue(P.slice(J+1))],He=t.get(ue)||[];He.push(Ne),t.set(ue,He)}),t}(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(t=>{const d=n.fromObject[t],P=Array.isArray(d)?d.map(by):[by(d)];this.map.set(t,P)})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();const t=this.map.get(n);return t?t[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,t){return this.clone({param:n,value:t,op:"a"})}appendAll(n){const t=[];return Object.keys(n).forEach(d=>{const P=n[d];Array.isArray(P)?P.forEach(J=>{t.push({param:d,value:J,op:"a"})}):t.push({param:d,value:P,op:"a"})}),this.clone(t)}set(n,t){return this.clone({param:n,value:t,op:"s"})}delete(n,t){return this.clone({param:n,value:t,op:"d"})}toString(){return this.init(),this.keys().map(n=>{const t=this.encoder.encodeKey(n);return this.map.get(n).map(d=>t+"="+this.encoder.encodeValue(d)).join("&")}).filter(n=>""!==n).join("&")}clone(n){const t=new Xd({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(n),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":const t=("a"===n.op?this.map.get(n.param):void 0)||[];t.push(by(n.value)),this.map.set(n.param,t);break;case"d":if(void 0===n.value){this.map.delete(n.param);break}{let d=this.map.get(n.param)||[];const P=d.indexOf(by(n.value));-1!==P&&d.splice(P,1),d.length>0?this.map.set(n.param,d):this.map.delete(n.param)}}}),this.cloneFrom=this.updates=null)}}class jN{constructor(){this.map=new Map}set(n,t){return this.map.set(n,t),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}}function $S(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function YS(e){return typeof Blob<"u"&&e instanceof Blob}function ZS(e){return typeof FormData<"u"&&e instanceof FormData}class Xm{constructor(n,t,d,P){let J;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=n.toUpperCase(),function VN(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||P?(this.body=void 0!==d?d:null,J=P):J=d,J&&(this.reportProgress=!!J.reportProgress,this.withCredentials=!!J.withCredentials,J.responseType&&(this.responseType=J.responseType),J.headers&&(this.headers=J.headers),J.context&&(this.context=J.context),J.params&&(this.params=J.params)),this.headers||(this.headers=new Df),this.context||(this.context=new jN),this.params){const ue=this.params.toString();if(0===ue.length)this.urlWithParams=t;else{const Ne=t.indexOf("?");this.urlWithParams=t+(-1===Ne?"?":Ne<t.length-1?"&":"")+ue}}else this.params=new Xd,this.urlWithParams=t}serializeBody(){return null===this.body?null:$S(this.body)||YS(this.body)||ZS(this.body)||function UN(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Xd?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||ZS(this.body)?null:YS(this.body)?this.body.type||null:$S(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Xd?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(n={}){const t=n.method||this.method,d=n.url||this.url,P=n.responseType||this.responseType,J=void 0!==n.body?n.body:this.body,ue=void 0!==n.withCredentials?n.withCredentials:this.withCredentials,Ne=void 0!==n.reportProgress?n.reportProgress:this.reportProgress;let He=n.headers||this.headers,rt=n.params||this.params;const yt=n.context??this.context;return void 0!==n.setHeaders&&(He=Object.keys(n.setHeaders).reduce((Nt,Zt)=>Nt.set(Zt,n.setHeaders[Zt]),He)),n.setParams&&(rt=Object.keys(n.setParams).reduce((Nt,Zt)=>Nt.set(Zt,n.setParams[Zt]),rt)),new Xm(t,d,J,{params:rt,headers:He,context:yt,reportProgress:Ne,responseType:P,withCredentials:ue})}}var H0=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(H0||{});class u2{constructor(n,t=200,d="OK"){this.headers=n.headers||new Df,this.status=void 0!==n.status?n.status:t,this.statusText=n.statusText||d,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}}class c2 extends u2{constructor(n={}){super(n),this.type=H0.ResponseHeader}clone(n={}){return new c2({headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class G0 extends u2{constructor(n={}){super(n),this.type=H0.Response,this.body=void 0!==n.body?n.body:null}clone(n={}){return new G0({body:void 0!==n.body?n.body:this.body,headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class XS extends u2{constructor(n){super(n,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${n.url||"(unknown url)"}`:`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}}function f2(e,n){return{body:n,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}let JS=(()=>{class e{constructor(t){this.handler=t}request(t,d,P={}){let J;if(t instanceof Xm)J=t;else{let He,rt;He=P.headers instanceof Df?P.headers:new Df(P.headers),P.params&&(rt=P.params instanceof Xd?P.params:new Xd({fromObject:P.params})),J=new Xm(t,d,void 0!==P.body?P.body:null,{headers:He,context:P.context,params:rt,reportProgress:P.reportProgress,responseType:P.responseType||"json",withCredentials:P.withCredentials})}const ue=xn(J).pipe(P0(He=>this.handler.handle(He)));if(t instanceof Xm||"events"===P.observe)return ue;const Ne=ue.pipe(Ws(He=>He instanceof G0));switch(P.observe||"body"){case"body":switch(J.responseType){case"arraybuffer":return Ne.pipe(re(He=>{if(null!==He.body&&!(He.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return He.body}));case"blob":return Ne.pipe(re(He=>{if(null!==He.body&&!(He.body instanceof Blob))throw new Error("Response is not a Blob.");return He.body}));case"text":return Ne.pipe(re(He=>{if(null!==He.body&&"string"!=typeof He.body)throw new Error("Response is not a string.");return He.body}));default:return Ne.pipe(re(He=>He.body))}case"response":return Ne;default:throw new Error(`Unreachable: unhandled observe type ${P.observe}}`)}}delete(t,d={}){return this.request("DELETE",t,d)}get(t,d={}){return this.request("GET",t,d)}head(t,d={}){return this.request("HEAD",t,d)}jsonp(t,d){return this.request("JSONP",t,{params:(new Xd).append(d,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,d={}){return this.request("OPTIONS",t,d)}patch(t,d,P={}){return this.request("PATCH",t,f2(P,d))}post(t,d,P={}){return this.request("POST",t,f2(P,d))}put(t,d,P={}){return this.request("PUT",t,f2(P,d))}static#e=this.\u0275fac=function(d){return new(d||e)(Hr(_y))};static#t=this.\u0275prov=Qn({token:e,factory:e.\u0275fac})}return e})();function e4(e,n){return n(e)}function GN(e,n){return(t,d)=>n.intercept(t,{handle:P=>e(P,d)})}const WN=new $r(""),Jm=new $r(""),t4=new $r("");function $N(){let e=null;return(n,t)=>{null===e&&(e=(Br(WN,{optional:!0})??[]).reduceRight(GN,e4));const d=Br(O1),P=d.add();return e(n,t).pipe(Pm(()=>d.remove(P)))}}let n4=(()=>{class e extends _y{constructor(t,d){super(),this.backend=t,this.injector=d,this.chain=null,this.pendingTasks=Br(O1)}handle(t){if(null===this.chain){const P=Array.from(new Set([...this.injector.get(Jm),...this.injector.get(t4,[])]));this.chain=P.reduceRight((J,ue)=>function qN(e,n,t){return(d,P)=>t.runInContext(()=>n(d,J=>e(J,P)))}(J,ue,this.injector),e4)}const d=this.pendingTasks.add();return this.chain(t,P=>this.backend.handle(P)).pipe(Pm(()=>this.pendingTasks.remove(d)))}static#e=this.\u0275fac=function(d){return new(d||e)(Hr(xy),Hr(Gs))};static#t=this.\u0275prov=Qn({token:e,factory:e.\u0275fac})}return e})();const JN=/^\)\]\}',?\n/;let i4=(()=>{class e{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new yn(-2800,!1);const d=this.xhrFactory;return(d.\u0275loadImpl?un(d.\u0275loadImpl()):xn(null)).pipe(En(()=>new L(J=>{const ue=d.build();if(ue.open(t.method,t.urlWithParams),t.withCredentials&&(ue.withCredentials=!0),t.headers.forEach((qn,Kn)=>ue.setRequestHeader(qn,Kn.join(","))),t.headers.has("Accept")||ue.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const qn=t.detectContentTypeHeader();null!==qn&&ue.setRequestHeader("Content-Type",qn)}if(t.responseType){const qn=t.responseType.toLowerCase();ue.responseType="json"!==qn?qn:"text"}const Ne=t.serializeBody();let He=null;const rt=()=>{if(null!==He)return He;const qn=ue.statusText||"OK",Kn=new Df(ue.getAllResponseHeaders()),br=function KN(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(ue)||t.url;return He=new c2({headers:Kn,status:ue.status,statusText:qn,url:br}),He},yt=()=>{let{headers:qn,status:Kn,statusText:br,url:ar}=rt(),zr=null;204!==Kn&&(zr=typeof ue.response>"u"?ue.responseText:ue.response),0===Kn&&(Kn=zr?200:0);let Ur=Kn>=200&&Kn<300;if("json"===t.responseType&&"string"==typeof zr){const Qr=zr;zr=zr.replace(JN,"");try{zr=""!==zr?JSON.parse(zr):null}catch(Si){zr=Qr,Ur&&(Ur=!1,zr={error:Si,text:zr})}}Ur?(J.next(new G0({body:zr,headers:qn,status:Kn,statusText:br,url:ar||void 0})),J.complete()):J.error(new XS({error:zr,headers:qn,status:Kn,statusText:br,url:ar||void 0}))},Nt=qn=>{const{url:Kn}=rt(),br=new XS({error:qn,status:ue.status||0,statusText:ue.statusText||"Unknown Error",url:Kn||void 0});J.error(br)};let Zt=!1;const dn=qn=>{Zt||(J.next(rt()),Zt=!0);let Kn={type:H0.DownloadProgress,loaded:qn.loaded};qn.lengthComputable&&(Kn.total=qn.total),"text"===t.responseType&&ue.responseText&&(Kn.partialText=ue.responseText),J.next(Kn)},jn=qn=>{let Kn={type:H0.UploadProgress,loaded:qn.loaded};qn.lengthComputable&&(Kn.total=qn.total),J.next(Kn)};return ue.addEventListener("load",yt),ue.addEventListener("error",Nt),ue.addEventListener("timeout",Nt),ue.addEventListener("abort",Nt),t.reportProgress&&(ue.addEventListener("progress",dn),null!==Ne&&ue.upload&&ue.upload.addEventListener("progress",jn)),ue.send(Ne),J.next({type:H0.Sent}),()=>{ue.removeEventListener("error",Nt),ue.removeEventListener("abort",Nt),ue.removeEventListener("load",yt),ue.removeEventListener("timeout",Nt),t.reportProgress&&(ue.removeEventListener("progress",dn),null!==Ne&&ue.upload&&ue.upload.removeEventListener("progress",jn)),ue.readyState!==ue.DONE&&ue.abort()}})))}static#e=this.\u0275fac=function(d){return new(d||e)(Hr(fA))};static#t=this.\u0275prov=Qn({token:e,factory:e.\u0275fac})}return e})();const d2=new $r("XSRF_ENABLED"),o4=new $r("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),a4=new $r("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class s4{}let tF=(()=>{class e{constructor(t,d,P){this.doc=t,this.platform=d,this.cookieName=P,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=nA(t,this.cookieName),this.lastCookieString=t),this.lastToken}static#e=this.\u0275fac=function(d){return new(d||e)(Hr(Ls),Hr(xf),Hr(o4))};static#t=this.\u0275prov=Qn({token:e,factory:e.\u0275fac})}return e})();function nF(e,n){const t=e.url.toLowerCase();if(!Br(d2)||"GET"===e.method||"HEAD"===e.method||t.startsWith("http://")||t.startsWith("https://"))return n(e);const d=Br(s4).getToken(),P=Br(a4);return null!=d&&!e.headers.has(P)&&(e=e.clone({headers:e.headers.set(P,d)})),n(e)}var Jd=function(e){return e[e.Interceptors=0]="Interceptors",e[e.LegacyInterceptors=1]="LegacyInterceptors",e[e.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",e[e.NoXsrfProtection=3]="NoXsrfProtection",e[e.JsonpSupport=4]="JsonpSupport",e[e.RequestsMadeViaParent=5]="RequestsMadeViaParent",e[e.Fetch=6]="Fetch",e}(Jd||{});function rF(...e){const n=[JS,i4,n4,{provide:_y,useExisting:n4},{provide:xy,useExisting:i4},{provide:Jm,useValue:nF,multi:!0},{provide:d2,useValue:!0},{provide:s4,useClass:tF}];for(const t of e)n.push(...t.\u0275providers);return function n0(e){return{\u0275providers:e}}(n)}const l4=new $r("LEGACY_INTERCEPTOR_FN");function iF(){return function Zh(e,n){return{\u0275kind:e,\u0275providers:n}}(Jd.LegacyInterceptors,[{provide:l4,useFactory:$N},{provide:Jm,useExisting:l4,multi:!0}])}let oF=(()=>{class e{static#e=this.\u0275fac=function(d){return new(d||e)};static#t=this.\u0275mod=Xi({type:e});static#n=this.\u0275inj=nr({providers:[rF(iF())]})}return e})(),fF=(()=>{class e{constructor(t){this.http=t,this.url="https://pim-api.spiros.tpsflavor.site/resources"}getResourcesData(){return this.http.get(this.url).pipe(function LN(e=1/0){let n;n=e&&"object"==typeof e?e:{count:e};const{count:t=1/0,delay:d,resetOnSuccess:P=!1}=n;return t<=0?S:W((J,ue)=>{let He,Ne=0;const rt=()=>{let yt=!1;He=J.subscribe(Z(ue,Nt=>{P&&(Ne=0),ue.next(Nt)},void 0,Nt=>{if(Ne++<t){const Zt=()=>{He?(He.unsubscribe(),He=null,rt()):yt=!0};if(null!=d){const dn="number"==typeof d?l2(d):it(d(Nt,Ne)),jn=Z(ue,()=>{jn.unsubscribe(),Zt()},()=>{ue.complete()});dn.subscribe(jn)}else Zt()}else ue.error(Nt)})),yt&&(He.unsubscribe(),He=null,rt())};rt()})}(1),$d(this.handleError))}handleError(t){let d="";return d=t.error instanceof ErrorEvent?t.error.message:`Error Code: ${t.status}\nMessage: ${t.message}`,window.alert(d),O0(()=>d)}static#e=this.\u0275fac=function(d){return new(d||e)(Hr(JS))};static#t=this.\u0275prov=Qn({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function dF(e,n){if(1&e&&(Gi(0,"div",3),Vc(1,"app-single-chart",4),qi()),2&e){const t=n.$implicit;yi(1),ui("resourceData",t)}}let hF=(()=>{class e{constructor(t){this.resourceApi=t,this.resourcesData=[]}ngOnInit(){this.resourceApi.getResourcesData().subscribe(t=>{this.resourcesData=Object.values(t)})}static#e=this.\u0275fac=function(d){return new(d||e)(er(fF))};static#t=this.\u0275cmp=hi({type:e,selectors:[["app-page-all-charts"]],decls:3,vars:1,consts:[[1,"container-xl","py-2"],[1,"row","gy-2","justify-content-center"],["class","col-auto",4,"ngFor","ngForOf"],[1,"col-auto"],[3,"resourceData"]],template:function(d,P){1&d&&(Gi(0,"div",0)(1,"div",1),function _i(e,n,t,d,P,J,ue,Ne){const He=Cr(),rt=so(),yt=e+ai,Nt=rt.firstCreatePass?function f8(e,n,t,d,P,J,ue,Ne,He){const rt=n.consts,yt=h0(n,e,4,ue||null,_u(rt,Ne));rx(n,t,yt,_u(rt,He)),dd(n,yt);const Nt=yt.tView=nx(2,yt,d,P,J,n.directiveRegistry,n.pipeRegistry,null,n.schemas,rt,null);return null!==n.queries&&(n.queries.template(n,yt),Nt.queries=n.queries.embeddedTView(yt)),yt}(yt,rt,He,n,t,d,P,J,ue):rt.data[yt];xa(Nt,!1);const Zt=G3(rt,He,Nt,e);wp()&&si(rt,He,Zt,Nt),Ha(Zt,He),h1(He,He[yt]=h3(Zt,He,Zt,Nt)),cs(Nt)&&ex(rt,He,Nt),null!=ue&&tx(He,Nt,Ne)}(2,dF,2,1,"div",2),qi()()),2&d&&(yi(2),ui("ngForOf",P.resourcesData))},changeDetection:0})}return e})(),pF=(()=>{class e{constructor(){this.title="angular-template-jest-spectator-playwright"}static#e=this.\u0275fac=function(d){return new(d||e)};static#t=this.\u0275cmp=hi({type:e,selectors:[["app-root"]],decls:1,vars:0,template:function(d,P){1&d&&Vc(0,"app-page-all-charts")},dependencies:[hF]})}return e})();const gF=["addListener","removeListener"],mF=["addEventListener","removeEventListener"],vF=["on","off"];function Ml(e,n,t,d){if(Ci(t)&&(d=t,t=void 0),d)return Ml(e,n,t).pipe(Fb(d));const[P,J]=function xF(e){return Ci(e.addEventListener)&&Ci(e.removeEventListener)}(e)?mF.map(ue=>Ne=>e[ue](n,Ne,t)):function yF(e){return Ci(e.addListener)&&Ci(e.removeListener)}(e)?gF.map(u4(e,n)):function _F(e){return Ci(e.on)&&Ci(e.off)}(e)?vF.map(u4(e,n)):[];if(!P&&kt(e))return wt(ue=>Ml(ue,n,t))(it(e));if(!P)throw new TypeError("Invalid event target");return new L(ue=>{const Ne=(...He)=>ue.next(1<He.length?He:He[0]);return P(Ne),()=>J(Ne)})}function u4(e,n){return t=>d=>e[t](n,d)}const{isArray:bF}=Array;function c4(e){return 1===e.length&&bF(e[0])?e[0]:e}function h2(...e){const n=Wt(e),t=c4(e);return t.length?new L(d=>{let P=t.map(()=>[]),J=t.map(()=>!1);d.add(()=>{P=J=null});for(let ue=0;!d.closed&&ue<t.length;ue++)it(t[ue]).subscribe(Z(d,Ne=>{if(P[ue].push(Ne),P.every(He=>He.length)){const He=P.map(rt=>rt.shift());d.next(n?n(...He):He),P.some((rt,yt)=>!rt.length&&J[yt])&&d.complete()}},()=>{J[ue]=!0,!P[ue].length&&d.complete()}));return()=>{P=J=null}}):_t}function p2(...e){const n=Wt(e);return W((t,d)=>{const P=e.length,J=new Array(P);let ue=e.map(()=>!1),Ne=!1;for(let He=0;He<P;He++)it(e[He]).subscribe(Z(d,rt=>{J[He]=rt,!Ne&&!ue[He]&&(ue[He]=!0,(Ne=ue.every(S))&&(ue=null))},i));t.subscribe(Z(d,He=>{if(Ne){const rt=[He,...J];d.next(n?n(...rt):rt)}}))})}Math,Math,Math;const KB=["*"],Ej=["dialog"];function ep(e){return"string"==typeof e}function tp(e){return null!=e}function J0(e){return(e||document.body).getBoundingClientRect()}const Wk={animation:!0,transitionTimerDelayMs:5},xV=()=>{},{transitionTimerDelayMs:bV}=Wk,cv=new Map,Pu=(e,n,t,d)=>{let P=d.context||{};const J=cv.get(n);if(J)switch(d.runningTransition){case"continue":return _t;case"stop":e.run(()=>J.transition$.complete()),P=Object.assign(J.context,P),cv.delete(n)}const ue=t(n,d.animation,P)||xV;if(!d.animation||"none"===window.getComputedStyle(n).transitionProperty)return e.run(()=>ue()),xn(void 0).pipe(function yV(e){return n=>new L(t=>n.subscribe({next:ue=>e.run(()=>t.next(ue)),error:ue=>e.run(()=>t.error(ue)),complete:()=>e.run(()=>t.complete())}))}(e));const Ne=new Y,He=new Y,rt=Ne.pipe(function TF(...e){return n=>Om(n,xn(...e))}(!0));cv.set(n,{transition$:Ne,complete:()=>{He.next(),He.complete()},context:P});const yt=function _V(e){const{transitionDelay:n,transitionDuration:t}=window.getComputedStyle(e);return 1e3*(parseFloat(n)+parseFloat(t))}(n);return e.runOutsideAngular(()=>{const Nt=Ml(n,"transitionend").pipe(ys(rt),Ws(({target:dn})=>dn===n));(function f4(...e){return 1===(e=c4(e)).length?it(e[0]):new L(function wF(e){return n=>{let t=[];for(let d=0;t&&!n.closed&&d<e.length;d++)t.push(it(e[d]).subscribe(Z(n,P=>{if(t){for(let J=0;J<t.length;J++)J!==d&&t[J].unsubscribe();t=null}n.next(P)})))}}(e))})(l2(yt+bV).pipe(ys(rt)),Nt,He).pipe(ys(rt)).subscribe(()=>{cv.delete(n),e.run(()=>{ue(),Ne.next(),Ne.complete()})})}),Ne.asObservable()};let By=(()=>{class e{constructor(){this.animation=Wk.animation}static#e=this.\u0275fac=function(d){return new(d||e)};static#t=this.\u0275prov=Qn({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),tE=(()=>{class e{static#e=this.\u0275fac=function(d){return new(d||e)};static#t=this.\u0275mod=Xi({type:e});static#n=this.\u0275inj=nr({})}return e})(),nE=(()=>{class e{static#e=this.\u0275fac=function(d){return new(d||e)};static#t=this.\u0275mod=Xi({type:e});static#n=this.\u0275inj=nr({})}return e})(),oE=(()=>{class e{static#e=this.\u0275fac=function(d){return new(d||e)};static#t=this.\u0275mod=Xi({type:e});static#n=this.\u0275inj=nr({})}return e})(),aE=(()=>{class e{static#e=this.\u0275fac=function(d){return new(d||e)};static#t=this.\u0275mod=Xi({type:e});static#n=this.\u0275inj=nr({})}return e})();var Ta=function(e){return e[e.Tab=9]="Tab",e[e.Enter=13]="Enter",e[e.Escape=27]="Escape",e[e.Space=32]="Space",e[e.PageUp=33]="PageUp",e[e.PageDown=34]="PageDown",e[e.End=35]="End",e[e.Home=36]="Home",e[e.ArrowLeft=37]="ArrowLeft",e[e.ArrowUp=38]="ArrowUp",e[e.ArrowRight=39]="ArrowRight",e[e.ArrowDown=40]="ArrowDown",e}(Ta||{});typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const hE=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function pE(e){const n=Array.from(e.querySelectorAll(hE)).filter(t=>-1!==t.tabIndex);return[n[0],n[n.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let kE=(()=>{class e{static#e=this.\u0275fac=function(d){return new(d||e)};static#t=this.\u0275mod=Xi({type:e});static#n=this.\u0275inj=nr({})}return e})(),DE=(()=>{class e{static#e=this.\u0275fac=function(d){return new(d||e)};static#t=this.\u0275mod=Xi({type:e});static#n=this.\u0275inj=nr({})}return e})();class ap{constructor(n,t,d){this.nodes=n,this.viewRef=t,this.componentRef=d}}let xU=(()=>{class e{constructor(t,d){this._el=t,this._zone=d}ngOnInit(){this._zone.onStable.asObservable().pipe(Tl(1)).subscribe(()=>{Pu(this._zone,this._el.nativeElement,(t,d)=>{d&&J0(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Pu(this._zone,this._el.nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}static#e=this.\u0275fac=function(d){return new(d||e)(er(Xo),er(xo))};static#t=this.\u0275cmp=hi({type:e,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(d,P){2&d&&(Bh("modal-backdrop"+(P.backdropClass?" "+P.backdropClass:"")),Bo("show",!P.animation)("fade",P.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[vc],decls:0,vars:0,template:function(d,P){},encapsulation:2})}return e})();class IE{update(n){}close(n){}dismiss(n){}}const bU=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],wU=["animation","backdropClass"];class TU{_applyWindowOptions(n,t){bU.forEach(d=>{tp(t[d])&&(n[d]=t[d])})}_applyBackdropOptions(n,t){wU.forEach(d=>{tp(t[d])&&(n[d]=t[d])})}update(n){this._applyWindowOptions(this._windowCmptRef.instance,n),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,n)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(ys(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(ys(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(n,t,d,P){this._windowCmptRef=n,this._contentRef=t,this._backdropCmptRef=d,this._beforeDismiss=P,this._closed=new Y,this._dismissed=new Y,this._hidden=new Y,n.instance.dismissEvent.subscribe(J=>{this.dismiss(J)}),this.result=new Promise((J,ue)=>{this._resolve=J,this._reject=ue}),this.result.then(null,()=>{})}close(n){this._windowCmptRef&&(this._closed.next(n),this._resolve(n),this._removeModalElements())}_dismiss(n){this._dismissed.next(n),this._reject(n),this._removeModalElements()}dismiss(n){if(this._windowCmptRef)if(this._beforeDismiss){const t=this._beforeDismiss();!function Hk(e){return e&&e.then}(t)?!1!==t&&this._dismiss(n):t.then(d=>{!1!==d&&this._dismiss(n)},()=>{})}else this._dismiss(n)}_removeModalElements(){const n=this._windowCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():xn(void 0);n.subscribe(()=>{const{nativeElement:d}=this._windowCmptRef.location;d.parentNode.removeChild(d),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:d}=this._backdropCmptRef.location;d.parentNode.removeChild(d),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),h2(n,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var uw=function(e){return e[e.BACKDROP_CLICK=0]="BACKDROP_CLICK",e[e.ESC=1]="ESC",e}(uw||{});let MU=(()=>{class e{constructor(t,d,P){this._document=t,this._elRef=d,this._zone=P,this._closed$=new Y,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new mi,this.shown=new Y,this.hidden=new Y}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":ep(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(Tl(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,d={animation:this.animation,runningTransition:"stop"},ue=h2(Pu(this._zone,t,()=>t.classList.remove("show"),d),Pu(this._zone,this._dialogEl.nativeElement,()=>{},d));return ue.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),ue}_show(){const t={animation:this.animation,runningTransition:"continue"};h2(Pu(this._zone,this._elRef.nativeElement,(J,ue)=>{ue&&J0(J),J.classList.add("show")},t),Pu(this._zone,this._dialogEl.nativeElement,()=>{},t)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{Ml(t,"keydown").pipe(ys(this._closed$),Ws(P=>P.which===Ta.Escape)).subscribe(P=>{this.keyboard?requestAnimationFrame(()=>{P.defaultPrevented||this._zone.run(()=>this.dismiss(uw.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let d=!1;Ml(this._dialogEl.nativeElement,"mousedown").pipe(ys(this._closed$),ll(()=>d=!1),En(()=>Ml(t,"mouseup").pipe(ys(this._closed$),Tl(1))),Ws(({target:P})=>t===P)).subscribe(()=>{d=!0}),Ml(t,"click").pipe(ys(this._closed$)).subscribe(({target:P})=>{t===P&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!d&&this._zone.run(()=>this.dismiss(uw.BACKDROP_CLICK))),d=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const d=t.querySelector("[ngbAutofocus]"),P=pE(t)[0];(d||P||t).focus()}}_restoreFocus(){const t=this._document.body,d=this._elWithFocus;let P;P=d&&d.focus&&t.contains(d)?d:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>P.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Pu(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}static#e=this.\u0275fac=function(d){return new(d||e)(er(Ls),er(Xo),er(xo))};static#t=this.\u0275cmp=hi({type:e,selectors:[["ngb-modal-window"]],viewQuery:function(d,P){if(1&d&&Uh(Ej,7),2&d){let J;sa(J=function la(){return function tO(e,n){return e[ls].queries[n].queryList}(Cr(),_v())}())&&(P._dialogEl=J.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(d,P){2&d&&(Ko("aria-modal",!0)("aria-labelledby",P.ariaLabelledBy)("aria-describedby",P.ariaDescribedBy),Bh("modal d-block"+(P.windowClass?" "+P.windowClass:"")),Bo("fade",P.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[vc],ngContentSelectors:KB,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(d,P){1&d&&(function eT(e){const n=Cr()[Dr][co];if(!n.projection){const d=n.projection=Ua(e?e.length:1,null),P=d.slice();let J=n.child;for(;null!==J;){const ue=e?w8(J,e):0;null!==ue&&(P[ue]?P[ue].projectionNext=J:d[ue]=J,P[ue]=J),J=J.next}}}(),Gi(0,"div",0,1)(2,"div",2),function tT(e,n=0,t){const d=Cr(),P=so(),J=h0(P,ai+e,16,null,t||null);null===J.projection&&(J.projection=n),vp(),(!d[ra]||Nf())&&32!=(32&J.flags)&&function Qa(e,n,t){hs(n[vi],0,n,t,vr(e,t,n),ni(t.parent||n[co],t,n))}(P,d,J)}(3),qi()()),2&d&&Bh("modal-dialog"+(P.size?" modal-"+P.size:"")+(P.centered?" modal-dialog-centered":"")+P.fullscreenClass+(P.scrollable?" modal-dialog-scrollable":"")+(P.modalDialogClass?" "+P.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2})}return e})(),AU=(()=>{class e{constructor(t){this._document=t}hide(){const t=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),d=this._document.body,P=d.style,{overflow:J,paddingRight:ue}=P;if(t>0){const Ne=parseFloat(window.getComputedStyle(d).paddingRight);P.paddingRight=`${Ne+t}px`}return P.overflow="hidden",()=>{t>0&&(P.paddingRight=ue),P.overflow=J}}static#e=this.\u0275fac=function(d){return new(d||e)(Hr(Ls))};static#t=this.\u0275prov=Qn({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),SU=(()=>{class e{constructor(t,d,P,J,ue,Ne,He){this._applicationRef=t,this._injector=d,this._environmentInjector=P,this._document=J,this._scrollBar=ue,this._rendererFactory=Ne,this._ngZone=He,this._activeWindowCmptHasChanged=new Y,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new mi,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const rt=this._windowCmpts[this._windowCmpts.length-1];((e,n,t,d=!1)=>{e.runOutsideAngular(()=>{const P=Ml(n,"focusin").pipe(ys(t),re(J=>J.target));Ml(n,"keydown").pipe(ys(t),Ws(J=>J.which===Ta.Tab),p2(P)).subscribe(([J,ue])=>{const[Ne,He]=pE(n);(ue===Ne||ue===n)&&J.shiftKey&&(He.focus(),J.preventDefault()),ue===He&&!J.shiftKey&&(Ne.focus(),J.preventDefault())}),d&&Ml(n,"click").pipe(ys(t),p2(P),re(J=>J[1])).subscribe(J=>J.focus())})})(this._ngZone,rt.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(rt.location.nativeElement)}})}_restoreScrollBar(){const t=this._scrollBarRestoreFn;t&&(this._scrollBarRestoreFn=null,t())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(t,d,P){const J=P.container instanceof HTMLElement?P.container:tp(P.container)?this._document.querySelector(P.container):this._document.body,ue=this._rendererFactory.createRenderer(null,null);if(!J)throw new Error(`The specified modal container "${P.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const Ne=new IE,He=(t=P.injector||t).get(Gs,null)||this._environmentInjector,rt=this._getContentRef(t,He,d,Ne,P);let yt=!1!==P.backdrop?this._attachBackdrop(J):void 0,Nt=this._attachWindowComponent(J,rt.nodes),Zt=new TU(Nt,rt,yt,P.beforeDismiss);return this._registerModalRef(Zt),this._registerWindowCmpt(Nt),Zt.hidden.pipe(Tl(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(ue.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),Ne.close=dn=>{Zt.close(dn)},Ne.dismiss=dn=>{Zt.dismiss(dn)},Ne.update=dn=>{Zt.update(dn)},Zt.update(P),1===this._modalRefs.length&&ue.addClass(this._document.body,"modal-open"),yt&&yt.instance&&yt.changeDetectorRef.detectChanges(),Nt.changeDetectorRef.detectChanges(),Zt}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(d=>d.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t){let d=sb(xU,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(d.hostView),t.appendChild(d.location.nativeElement),d}_attachWindowComponent(t,d){let P=sb(MU,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:d});return this._applicationRef.attachView(P.hostView),t.appendChild(P.location.nativeElement),P}_getContentRef(t,d,P,J,ue){return P?P instanceof ts?this._createFromTemplateRef(P,J):ep(P)?this._createFromString(P):this._createFromComponent(t,d,P,J,ue):new ap([])}_createFromTemplateRef(t,d){const J=t.createEmbeddedView({$implicit:d,close(ue){d.close(ue)},dismiss(ue){d.dismiss(ue)}});return this._applicationRef.attachView(J),new ap([J.rootNodes],J)}_createFromString(t){const d=this._document.createTextNode(`${t}`);return new ap([[d]])}_createFromComponent(t,d,P,J,ue){const He=sb(P,{environmentInjector:d,elementInjector:wl.create({providers:[{provide:IE,useValue:J}],parent:t})}),rt=He.location.nativeElement;return ue.scrollable&&rt.classList.add("component-host-scrollable"),this._applicationRef.attachView(He.hostView),new ap([[rt]],He.hostView,He)}_setAriaHidden(t){const d=t.parentElement;d&&t!==this._document.body&&(Array.from(d.children).forEach(P=>{P!==t&&"SCRIPT"!==P.nodeName&&(this._ariaHiddenValues.set(P,P.getAttribute("aria-hidden")),P.setAttribute("aria-hidden","true"))}),this._setAriaHidden(d))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,d)=>{t?d.setAttribute("aria-hidden",t):d.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const d=()=>{const P=this._modalRefs.indexOf(t);P>-1&&(this._modalRefs.splice(P,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(d,d)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const d=this._windowCmpts.indexOf(t);d>-1&&(this._windowCmpts.splice(d,1),this._activeWindowCmptHasChanged.next())})}static#e=this.\u0275fac=function(d){return new(d||e)(Hr(Hd),Hr(wl),Hr(Gs),Hr(Ls),Hr(AU),Hr(q_),Hr(xo))};static#t=this.\u0275prov=Qn({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),kU=(()=>{class e{constructor(t){this._ngbConfig=t,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}static#e=this.\u0275fac=function(d){return new(d||e)(Hr(By))};static#t=this.\u0275prov=Qn({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),EU=(()=>{class e{constructor(t,d,P){this._injector=t,this._modalStack=d,this._config=P}open(t,d={}){const P={...this._config,animation:this._config.animation,...d};return this._modalStack.open(this._injector,t,P)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}static#e=this.\u0275fac=function(d){return new(d||e)(Hr(wl),Hr(SU),Hr(kU))};static#t=this.\u0275prov=Qn({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),OE=(()=>{class e{static#e=this.\u0275fac=function(d){return new(d||e)};static#t=this.\u0275mod=Xi({type:e});static#n=this.\u0275inj=nr({providers:[EU]})}return e})(),LE=(()=>{class e{static#e=this.\u0275fac=function(d){return new(d||e)};static#t=this.\u0275mod=Xi({type:e});static#n=this.\u0275inj=nr({})}return e})(),HE=(()=>{class e{static#e=this.\u0275fac=function(d){return new(d||e)};static#t=this.\u0275mod=Xi({type:e});static#n=this.\u0275inj=nr({})}return e})(),GE=(()=>{class e{static#e=this.\u0275fac=function(d){return new(d||e)};static#t=this.\u0275mod=Xi({type:e});static#n=this.\u0275inj=nr({})}return e})(),qE=(()=>{class e{static#e=this.\u0275fac=function(d){return new(d||e)};static#t=this.\u0275mod=Xi({type:e});static#n=this.\u0275inj=nr({})}return e})(),WE=(()=>{class e{static#e=this.\u0275fac=function(d){return new(d||e)};static#t=this.\u0275mod=Xi({type:e});static#n=this.\u0275inj=nr({})}return e})(),$E=(()=>{class e{static#e=this.\u0275fac=function(d){return new(d||e)};static#t=this.\u0275mod=Xi({type:e});static#n=this.\u0275inj=nr({})}return e})(),YE=(()=>{class e{static#e=this.\u0275fac=function(d){return new(d||e)};static#t=this.\u0275mod=Xi({type:e});static#n=this.\u0275inj=nr({})}return e})(),ZE=(()=>{class e{static#e=this.\u0275fac=function(d){return new(d||e)};static#t=this.\u0275mod=Xi({type:e});static#n=this.\u0275inj=nr({})}return e})(),XE=(()=>{class e{static#e=this.\u0275fac=function(d){return new(d||e)};static#t=this.\u0275mod=Xi({type:e});static#n=this.\u0275inj=nr({})}return e})();new $r("live announcer delay",{providedIn:"root",factory:function HU(){return 100}});let JE=(()=>{class e{static#e=this.\u0275fac=function(d){return new(d||e)};static#t=this.\u0275mod=Xi({type:e});static#n=this.\u0275inj=nr({})}return e})(),KE=(()=>{class e{static#e=this.\u0275fac=function(d){return new(d||e)};static#t=this.\u0275mod=Xi({type:e});static#n=this.\u0275inj=nr({})}return e})();const qU=[tE,nE,oE,aE,kE,DE,OE,LE,KE,HE,GE,qE,WE,$E,YE,ZE,XE,JE];let WU=(()=>{class e{static#e=this.\u0275fac=function(d){return new(d||e)};static#t=this.\u0275mod=Xi({type:e});static#n=this.\u0275inj=nr({imports:[qU,tE,nE,oE,aE,kE,DE,OE,LE,KE,HE,GE,qE,WE,$E,YE,ZE,XE,JE]})}return e})();var $U=tf(335);function QE(e,n,t,d,P,J,ue){try{var Ne=e[J](ue),He=Ne.value}catch(rt){return void t(rt)}Ne.done?n(He):Promise.resolve(He).then(d,P)}function eC(e){return function(){var n=this,t=arguments;return new Promise(function(d,P){var J=e.apply(n,t);function ue(He){QE(J,d,P,ue,Ne,"next",He)}function Ne(He){QE(J,d,P,ue,Ne,"throw",He)}ue(void 0)})}}class Wo{static setModuleName(n){Wo.moduleName=n}static getModuleName(){return Wo.moduleName}static setPlotly(n){if("object"==typeof n&&"function"!=typeof n.react)throw new Error("Invalid plotly.js version. Please, use any version above 1.40.0");Wo.plotly=n}static insert(n){return-1===Wo.instances.indexOf(n)&&Wo.instances.push(n),n}static remove(n){const t=Wo.instances.indexOf(n);t>=0&&(Wo.instances.splice(t,1),Wo.plotly.purge(n))}getInstanceByDivId(n){for(const t of Wo.instances)if(t&&t.id===n)return t}getPlotly(){var n=this;return eC(function*(){return yield n.waitFor(()=>"waiting"!==n._getPlotly()),n._getPlotly()})()}_getPlotly(){if(typeof Wo.plotly>"u")throw new Error("ViaCDN"===Wo.moduleName?"Error loading Peer dependency plotly.js from CDN url":"Peer dependency plotly.js isn't installed");return Wo.plotly}waitFor(n){return new Promise(t=>{const d=()=>{n()?t():setTimeout(d,10)};d()})}newPlot(n,t,d,P,J){var ue=this;return eC(function*(){if(yield ue.waitFor(()=>"waiting"!==ue._getPlotly()),J){const Ne={data:t,layout:d,config:P,frames:J};return ue._getPlotly().newPlot(n,Ne).then(()=>Wo.insert(n))}return ue._getPlotly().newPlot(n,t,d,P).then(()=>Wo.insert(n))})()}plot(n,t,d,P,J){if(J){const ue={data:t,layout:d,config:P,frames:J};return this._getPlotly().newPlot(n,ue)}return this._getPlotly().newPlot(n,t,d,P)}update(n,t,d,P,J){if(J){const ue={data:t,layout:d,config:P,frames:J};return this._getPlotly().react(n,ue)}return this._getPlotly().react(n,t,d,P)}resize(n){return this._getPlotly().Plots.resize(n)}}Wo.instances=[],Wo.plotly=void 0,Wo.moduleName=void 0,Wo.\u0275fac=function(n){return new(n||Wo)},Wo.\u0275prov=Qn({token:Wo,factory:Wo.\u0275fac,providedIn:"root"});let Ky=(()=>{class e{constructor(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Xi({type:e}),e.\u0275inj=nr({providers:[Wo],imports:[X1]}),e})(),tC=(()=>{class e{constructor(){if(!this.isValid())throw new Error("Invalid PlotlyJS object. Please check https://github.com/plotly/angular-plotly.js#quick-start to see how to add PlotlyJS to your project.");Wo.setPlotly(e.plotlyjs)}isValid(){return void 0!==e.plotlyjs&&("function"==typeof e.plotlyjs.plot||"function"==typeof e.plotlyjs.newPlot)}}return e.plotlyjs={},e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Xi({type:e}),e.\u0275inj=nr({providers:[Wo],imports:[X1,Ky,Ky]}),e})();class rs{constructor(n){this.plotlyService=n,Wo.setModuleName("ViaCDN")}static setPlotlyVersion(n,t="plotly",d=""){if("latest"!==n&&!/^(strict-)?\d\.\d{1,2}\.\d{1,2}$/.test(n))throw new Error("Invalid plotly version. Please set 'latest' or version number (i.e.: 1.4.3) or strict version number (i.e.: strict-1.4.3)");rs.loadViaCDN(t,d),rs.plotlyVersion=n}static setPlotlyBundle(n){if(!(null===n||rs.plotlyBundleNames.indexOf(n)>=0)){const d=rs.plotlyBundleNames.map(P=>`"${P}"`).join(", ");throw new Error(`Invalid plotly bundle. Please set to null for full or ${d} for a partial bundle.`)}rs.plotlyBundle=n}static loadViaCDN(n="plotly",t=""){Wo.setPlotly("waiting"),setTimeout(()=>{let P="";switch(n){case"cloudflare":if("latest"==rs.plotlyVersion)throw new Error("As cloudflare hosts version specific files, 'latest' as a version is not supported. Please specify a version or you can choose 'plotly' as a CDN provider.");P=null==rs.plotlyBundle?`https://cdnjs.cloudflare.com/ajax/libs/plotly.js/${rs.plotlyVersion}/plotly.min.js`:`https://cdnjs.cloudflare.com/ajax/libs/plotly.js/${rs.plotlyVersion}/plotly-${rs.plotlyBundle}.min.js`;break;case"custom":if(!t||"string"!=typeof t)throw new Error("Invalid or missing CDN URL. Please provide a CDN URL in case of custom provider. Alternatively, you can choose from 'plotly' or 'cloudflare'.");P=t;break;default:P=null==rs.plotlyBundle?`https://cdn.plot.ly/plotly-${rs.plotlyVersion}.min.js`:`https://cdn.plot.ly/plotly-${rs.plotlyBundle}-${rs.plotlyVersion}.min.js`}const J=document.createElement("script");J.type="text/javascript",J.src=P,J.onerror=()=>console.error(`Error loading plotly.js library from ${P}`),document.getElementsByTagName("head")[0].appendChild(J);let Ne=200;const He=()=>{const rt=window.Plotly;if(rt)Wo.setPlotly(rt);else{if(!(Ne>0))throw new Error(`Error loading plotly.js library from ${P}. Timeout.`);Ne--,setTimeout(He,50)}};He()})}}rs.plotlyBundle=void 0,rs.plotlyVersion="latest",rs.plotlyBundleNames=["basic","cartesian","geo","gl3d","gl2d","mapbox","finance"],rs.\u0275fac=function(n){return new(n||rs)(Hr(Wo))},rs.\u0275mod=Xi({type:rs}),rs.\u0275inj=nr({providers:[Wo],imports:[X1,Ky,Ky]}),tC.plotlyjs=$U;let YU=(()=>{class e{static#e=this.\u0275fac=function(d){return new(d||e)};static#t=this.\u0275mod=Xi({type:e,bootstrap:[pF]});static#n=this.\u0275inj=nr({imports:[WP,CN,WU,tC,oF]})}return e})();GP().bootstrapModule(YU).catch(e=>console.error(e))},335:Pf=>{self,Pf.exports=function(){var ld={98847:function(ae,B,r){"use strict";var D=r(71828),E={"X,X div":'direction:ltr;font-family:"Open Sans",verdana,arial,sans-serif;margin:0;padding:0;',"X input,X button":'font-family:"Open Sans",verdana,arial,sans-serif;',"X input:focus,X button:focus":"outline:none;","X a":"text-decoration:none;","X a:hover":"text-decoration:none;","X .crisp":"shape-rendering:crispEdges;","X .user-select-none":"-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;","X svg":"overflow:hidden;","X svg a":"fill:#447adb;","X svg a:hover":"fill:#3c6dc5;","X .main-svg":"position:absolute;top:0;left:0;pointer-events:none;","X .main-svg .draglayer":"pointer-events:all;","X .cursor-default":"cursor:default;","X .cursor-pointer":"cursor:pointer;","X .cursor-crosshair":"cursor:crosshair;","X .cursor-move":"cursor:move;","X .cursor-col-resize":"cursor:col-resize;","X .cursor-row-resize":"cursor:row-resize;","X .cursor-ns-resize":"cursor:ns-resize;","X .cursor-ew-resize":"cursor:ew-resize;","X .cursor-sw-resize":"cursor:sw-resize;","X .cursor-s-resize":"cursor:s-resize;","X .cursor-se-resize":"cursor:se-resize;","X .cursor-w-resize":"cursor:w-resize;","X .cursor-e-resize":"cursor:e-resize;","X .cursor-nw-resize":"cursor:nw-resize;","X .cursor-n-resize":"cursor:n-resize;","X .cursor-ne-resize":"cursor:ne-resize;","X .cursor-grab":"cursor:-webkit-grab;cursor:grab;","X .modebar":"position:absolute;top:2px;right:2px;","X .ease-bg":"-webkit-transition:background-color .3s ease 0s;-moz-transition:background-color .3s ease 0s;-ms-transition:background-color .3s ease 0s;-o-transition:background-color .3s ease 0s;transition:background-color .3s ease 0s;","X .modebar--hover>:not(.watermark)":"opacity:0;-webkit-transition:opacity .3s ease 0s;-moz-transition:opacity .3s ease 0s;-ms-transition:opacity .3s ease 0s;-o-transition:opacity .3s ease 0s;transition:opacity .3s ease 0s;","X:hover .modebar--hover .modebar-group":"opacity:1;","X .modebar-group":"float:left;display:inline-block;box-sizing:border-box;padding-left:8px;position:relative;vertical-align:middle;white-space:nowrap;","X .modebar-btn":"position:relative;font-size:16px;padding:3px 4px;height:22px;cursor:pointer;line-height:normal;box-sizing:border-box;","X .modebar-btn svg":"position:relative;top:2px;","X .modebar.vertical":"display:flex;flex-direction:column;flex-wrap:wrap;align-content:flex-end;max-height:100%;","X .modebar.vertical svg":"top:-1px;","X .modebar.vertical .modebar-group":"display:block;float:none;padding-left:0px;padding-bottom:8px;","X .modebar.vertical .modebar-group .modebar-btn":"display:block;text-align:center;","X [data-title]:before,X [data-title]:after":"position:absolute;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);display:none;opacity:0;z-index:1001;pointer-events:none;top:110%;right:50%;","X [data-title]:hover:before,X [data-title]:hover:after":"display:block;opacity:1;","X [data-title]:before":'content:"";position:absolute;background:rgba(0,0,0,0);border:6px solid rgba(0,0,0,0);z-index:1002;margin-top:-12px;border-bottom-color:#69738a;margin-right:-6px;',"X [data-title]:after":"content:attr(data-title);background:#69738a;color:#fff;padding:8px 10px;font-size:12px;line-height:12px;white-space:nowrap;margin-right:-18px;border-radius:2px;","X .vertical [data-title]:before,X .vertical [data-title]:after":"top:0%;right:200%;","X .vertical [data-title]:before":"border:6px solid rgba(0,0,0,0);border-left-color:#69738a;margin-top:8px;margin-right:-30px;",Y:'font-family:"Open Sans",verdana,arial,sans-serif;position:fixed;top:50px;right:20px;z-index:10000;font-size:10pt;max-width:180px;',"Y p":"margin:0;","Y .notifier-note":"min-width:180px;max-width:250px;border:1px solid #fff;z-index:3000;margin:0;background-color:#8c97af;background-color:rgba(140,151,175,.9);color:#fff;padding:10px;overflow-wrap:break-word;word-wrap:break-word;-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;","Y .notifier-close":"color:#fff;opacity:.8;float:right;padding:0 5px;background:none;border:none;font-size:20px;font-weight:bold;line-height:20px;","Y .notifier-close:hover":"color:#444;text-decoration:none;cursor:pointer;"};for(var f in E){var k=f.replace(/^,/," ,").replace(/X/g,".js-plotly-plot .plotly").replace(/Y/g,".plotly-notifier");D.addStyleRule(k,E[f])}},98222:function(ae,B,r){"use strict";ae.exports=r(82887)},27206:function(ae,B,r){"use strict";ae.exports=r(60822)},59893:function(ae,B,r){"use strict";ae.exports=r(23381)},5224:function(ae,B,r){"use strict";ae.exports=r(83832)},59509:function(ae,B,r){"use strict";ae.exports=r(72201)},75557:function(ae,B,r){"use strict";ae.exports=r(91815)},40338:function(ae,B,r){"use strict";ae.exports=r(21462)},35080:function(ae,B,r){"use strict";ae.exports=r(51319)},61396:function(ae,B,r){"use strict";ae.exports=r(57516)},40549:function(ae,B,r){"use strict";ae.exports=r(98128)},49866:function(ae,B,r){"use strict";ae.exports=r(99442)},36089:function(ae,B,r){"use strict";ae.exports=r(93740)},19548:function(ae,B,r){"use strict";ae.exports=r(8729)},35831:function(ae,B,r){"use strict";ae.exports=r(93814)},61039:function(ae,B,r){"use strict";ae.exports=r(14382)},97040:function(ae,B,r){"use strict";ae.exports=r(51759)},77986:function(ae,B,r){"use strict";ae.exports=r(10421)},24296:function(ae,B,r){"use strict";ae.exports=r(43102)},58872:function(ae,B,r){"use strict";ae.exports=r(92165)},29626:function(ae,B,r){"use strict";ae.exports=r(3325)},65591:function(ae,B,r){"use strict";ae.exports=r(36071)},69738:function(ae,B,r){"use strict";ae.exports=r(43905)},92650:function(ae,B,r){"use strict";ae.exports=r(35902)},35630:function(ae,B,r){"use strict";ae.exports=r(69816)},73434:function(ae,B,r){"use strict";ae.exports=r(94507)},27909:function(ae,B,r){"use strict";var D=r(19548);D.register([r(27206),r(5224),r(58872),r(65591),r(69738),r(92650),r(49866),r(25743),r(6197),r(97040),r(85461),r(73434),r(54201),r(81299),r(47645),r(35630),r(77986),r(83043),r(93005),r(96881),r(4534),r(50581),r(40549),r(77900),r(47582),r(35080),r(21641),r(17280),r(5861),r(29626),r(10021),r(65317),r(96268),r(61396),r(35831),r(16122),r(46163),r(40344),r(40338),r(48131),r(36089),r(55334),r(75557),r(19440),r(99488),r(59893),r(97393),r(98222),r(61039),r(24296),r(66398),r(59509)]),ae.exports=D},46163:function(ae,B,r){"use strict";ae.exports=r(15154)},96881:function(ae,B,r){"use strict";ae.exports=r(64943)},50581:function(ae,B,r){"use strict";ae.exports=r(21164)},55334:function(ae,B,r){"use strict";ae.exports=r(54186)},65317:function(ae,B,r){"use strict";ae.exports=r(94873)},10021:function(ae,B,r){"use strict";ae.exports=r(67618)},54201:function(ae,B,r){"use strict";ae.exports=r(58810)},5861:function(ae,B,r){"use strict";ae.exports=r(20593)},16122:function(ae,B,r){"use strict";ae.exports=r(29396)},83043:function(ae,B,r){"use strict";ae.exports=r(13551)},48131:function(ae,B,r){"use strict";ae.exports=r(46858)},47582:function(ae,B,r){"use strict";ae.exports=r(17988)},21641:function(ae,B,r){"use strict";ae.exports=r(68868)},96268:function(ae,B,r){"use strict";ae.exports=r(20467)},19440:function(ae,B,r){"use strict";ae.exports=r(91271)},99488:function(ae,B,r){"use strict";ae.exports=r(21461)},97393:function(ae,B,r){"use strict";ae.exports=r(85956)},25743:function(ae,B,r){"use strict";ae.exports=r(52979)},66398:function(ae,B,r){"use strict";ae.exports=r(32275)},17280:function(ae,B,r){"use strict";ae.exports=r(6419)},77900:function(ae,B,r){"use strict";ae.exports=r(61510)},81299:function(ae,B,r){"use strict";ae.exports=r(87619)},93005:function(ae,B,r){"use strict";ae.exports=r(93601)},40344:function(ae,B,r){"use strict";ae.exports=r(96595)},47645:function(ae,B,r){"use strict";ae.exports=r(70954)},6197:function(ae,B,r){"use strict";ae.exports=r(47462)},4534:function(ae,B,r){"use strict";ae.exports=r(17659)},85461:function(ae,B,r){"use strict";ae.exports=r(19990)},82884:function(ae){"use strict";ae.exports=[{path:"",backoff:0},{path:"M-2.4,-3V3L0.6,0Z",backoff:.6},{path:"M-3.7,-2.5V2.5L1.3,0Z",backoff:1.3},{path:"M-4.45,-3L-1.65,-0.2V0.2L-4.45,3L1.55,0Z",backoff:1.55},{path:"M-2.2,-2.2L-0.2,-0.2V0.2L-2.2,2.2L-1.4,3L1.6,0L-1.4,-3Z",backoff:1.6},{path:"M-4.4,-2.1L-0.6,-0.2V0.2L-4.4,2.1L-4,3L2,0L-4,-3Z",backoff:2},{path:"M2,0A2,2 0 1,1 0,-2A2,2 0 0,1 2,0Z",backoff:0,noRotate:!0},{path:"M2,2V-2H-2V2Z",backoff:0,noRotate:!0}]},50215:function(ae,B,r){"use strict";var D=r(82884),E=r(41940),f=r(85555),k=r(44467).templatedArray;r(24695),ae.exports=k("annotation",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},text:{valType:"string",editType:"calc+arraydraw"},textangle:{valType:"angle",dflt:0,editType:"calc+arraydraw"},font:E({editType:"calc+arraydraw",colorEditType:"arraydraw"}),width:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},height:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},align:{valType:"enumerated",values:["left","center","right"],dflt:"center",editType:"arraydraw"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"arraydraw"},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},bordercolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},borderpad:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},borderwidth:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},showarrow:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},arrowcolor:{valType:"color",editType:"arraydraw"},arrowhead:{valType:"integer",min:0,max:D.length,dflt:1,editType:"arraydraw"},startarrowhead:{valType:"integer",min:0,max:D.length,dflt:1,editType:"arraydraw"},arrowside:{valType:"flaglist",flags:["end","start"],extras:["none"],dflt:"end",editType:"arraydraw"},arrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},startarrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},arrowwidth:{valType:"number",min:.1,editType:"calc+arraydraw"},standoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},startstandoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},ax:{valType:"any",editType:"calc+arraydraw"},ay:{valType:"any",editType:"calc+arraydraw"},axref:{valType:"enumerated",dflt:"pixel",values:["pixel",f.idRegex.x.toString()],editType:"calc"},ayref:{valType:"enumerated",dflt:"pixel",values:["pixel",f.idRegex.y.toString()],editType:"calc"},xref:{valType:"enumerated",values:["paper",f.idRegex.x.toString()],editType:"calc"},x:{valType:"any",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},xshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},yref:{valType:"enumerated",values:["paper",f.idRegex.y.toString()],editType:"calc"},y:{valType:"any",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",editType:"calc+arraydraw"},yshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},clicktoshow:{valType:"enumerated",values:[!1,"onoff","onout"],dflt:!1,editType:"arraydraw"},xclick:{valType:"any",editType:"arraydraw"},yclick:{valType:"any",editType:"arraydraw"},hovertext:{valType:"string",editType:"arraydraw"},hoverlabel:{bgcolor:{valType:"color",editType:"arraydraw"},bordercolor:{valType:"color",editType:"arraydraw"},font:E({editType:"arraydraw"}),editType:"arraydraw"},captureevents:{valType:"boolean",editType:"arraydraw"},editType:"calc",_deprecated:{ref:{valType:"string",editType:"calc"}}})},3749:function(ae,B,r){"use strict";var D=r(71828),E=r(89298),f=r(92605).draw;function k(y){D.filterVisible(y._fullLayout.annotations).forEach(function(i){var s=E.getFromId(y,i.xref),a=E.getFromId(y,i.yref),o=E.getRefType(i.xref),l=E.getRefType(i.yref);i._extremes={},"range"===o&&M(i,s),"range"===l&&M(i,a)})}function M(y,c){var i,s=c._id,a=s.charAt(0),o=y[a],l=y["a"+a],v=y["_"+a+"padplus"],p=y["_"+a+"padminus"],T={x:1,y:-1}[a]*y[a+"shift"],_=3*y.arrowsize*y.arrowwidth||0,m=_+T,w=_-T,x=3*y.startarrowsize*y.arrowwidth||0,b=x+T,A=x-T;if(y["a"+a+"ref"]===y[a+"ref"]){var g=E.findExtremes(c,[c.r2c(o)],{ppadplus:m,ppadminus:w}),I=E.findExtremes(c,[c.r2c(l)],{ppadplus:Math.max(v,b),ppadminus:Math.max(p,A)});i={min:[g.min[0],I.min[0]],max:[g.max[0],I.max[0]]}}else b=l?b+l:b,A=l?A-l:A,i=E.findExtremes(c,[c.r2c(o)],{ppadplus:Math.max(v,m,b),ppadminus:Math.max(p,w,A)});y._extremes[s]=i}ae.exports=function(y){if(D.filterVisible(y._fullLayout.annotations).length&&y._fullData.length)return D.syncOrAsync([f,k],y)}},44317:function(ae,B,r){"use strict";var D=r(71828),E=r(73972),f=r(44467).arrayEditor;function k(y,c){var i,s,a,o,l,u,h,v=y._fullLayout.annotations,p=[],T=[],_=[],m=(c||[]).length;for(i=0;i<v.length;i++)if(o=(a=v[i]).clicktoshow){for(s=0;s<m;s++)if(u=(l=c[s]).xaxis,h=l.yaxis,u._id===a.xref&&h._id===a.yref&&u.d2r(l.x)===M(a._xclick,u)&&h.d2r(l.y)===M(a._yclick,h)){(a.visible?"onout"===o?T:_:p).push(i);break}s===m&&a.visible&&"onout"===o&&T.push(i)}return{on:p,off:T,explicitOff:_}}function M(y,c){return"log"===c.type?c.l2r(y):c.d2r(y)}ae.exports={hasClickToShow:function(y,c){var i=k(y,c);return i.on.length>0||i.explicitOff.length>0},onClick:function(y,c){var i,s,a=k(y,c),o=a.on,l=a.off.concat(a.explicitOff),u={},h=y._fullLayout.annotations;if(o.length||l.length){for(i=0;i<o.length;i++)(s=f(y.layout,"annotations",h[o[i]])).modifyItem("visible",!0),D.extendFlat(u,s.getUpdateObj());for(i=0;i<l.length;i++)(s=f(y.layout,"annotations",h[l[i]])).modifyItem("visible",!1),D.extendFlat(u,s.getUpdateObj());return E.call("update",y,{},u)}}}},25625:function(ae,B,r){"use strict";var D=r(71828),E=r(7901);ae.exports=function(f,k,M,y){y("opacity");var c=y("bgcolor"),i=y("bordercolor"),s=E.opacity(i);y("borderpad");var a=y("borderwidth"),o=y("showarrow");if(y("text",o?" ":M._dfltTitle.annotation),y("textangle"),D.coerceFont(y,"font",M.font),y("width"),y("align"),y("height")&&y("valign"),o){var l,u,h=y("arrowside");-1!==h.indexOf("end")&&(l=y("arrowhead"),u=y("arrowsize")),-1!==h.indexOf("start")&&(y("startarrowhead",l),y("startarrowsize",u)),y("arrowcolor",s?k.bordercolor:E.defaultLine),y("arrowwidth",2*(s&&a||1)),y("standoff"),y("startstandoff")}var v=y("hovertext"),p=M.hoverlabel||{};if(v){var T=y("hoverlabel.bgcolor",p.bgcolor||(E.opacity(c)?E.rgb(c):E.defaultLine)),_=y("hoverlabel.bordercolor",p.bordercolor||E.contrast(T));D.coerceFont(y,"hoverlabel.font",{family:p.font.family,size:p.font.size,color:p.font.color||_})}y("captureevents",!!v)}},94128:function(ae,B,r){"use strict";var D=r(92770),E=r(58163);ae.exports=function(f,k,M,y){k=k||{};var c="log"===M&&"linear"===k.type;if(c||"linear"===M&&"log"===k.type)for(var s,a,o=f._fullLayout.annotations,l=k._id.charAt(0),u=0;u<o.length;u++)a="annotations["+u+"].",(s=o[u])[l+"ref"]===k._id&&h(l),s["a"+l+"ref"]===k._id&&h("a"+l);function h(v){var p=s[v],T=null;T=c?E(p,k.range):Math.pow(10,p),D(T)||(T=null),y(a+v,T)}}},84046:function(ae,B,r){"use strict";var D=r(71828),E=r(89298),f=r(85501),k=r(25625),M=r(50215);function y(c,i,s){function a(I,S){return D.coerce(c,i,M,I,S)}var o=a("visible"),l=a("clicktoshow");if(o||l){k(c,i,s,a);for(var u=i.showarrow,h=["x","y"],v=[-10,-30],p={_fullLayout:s},T=0;T<2;T++){var _=h[T],m=E.coerceRef(c,i,p,_,"","paper");if("paper"!==m&&E.getFromId(p,m)._annIndices.push(i._index),E.coercePosition(i,p,a,m,_,.5),u){var w="a"+_,x=E.coerceRef(c,i,p,w,"pixel",["pixel","paper"]);"pixel"!==x&&x!==m&&(x=i[w]="pixel"),E.coercePosition(i,p,a,x,w,"pixel"===x?v[T]:.4)}a(_+"anchor"),a(_+"shift")}if(D.noneOrAll(c,i,["x","y"]),u&&D.noneOrAll(c,i,["ax","ay"]),l){var A=a("xclick"),g=a("yclick");i._xclick=void 0===A?i.x:E.cleanPosition(A,p,i.xref),i._yclick=void 0===g?i.y:E.cleanPosition(g,p,i.yref)}}}ae.exports=function(c,i){f(c,i,{name:"annotations",handleItemDefaults:y})}},92605:function(ae,B,r){"use strict";var D=r(39898),E=r(73972),f=r(74875),k=r(71828),M=k.strTranslate,y=r(89298),c=r(7901),i=r(91424),s=r(30211),a=r(63893),o=r(6964),l=r(28569),u=r(44467).arrayEditor,h=r(13011);function v(_,m){var w=_._fullLayout.annotations[m]||{},x=y.getFromId(_,w.xref),b=y.getFromId(_,w.yref);x&&x.setScale(),b&&b.setScale(),T(_,w,m,!1,x,b)}function p(_,m,w,x,b){var A=b[w],g=b[w+"ref"],I=-1!==w.indexOf("y"),S="domain"===y.getRefType(g),O=I?x.h:x.w;return _?S?A+(I?-m:m)/_._length:_.p2r(_.r2p(A)+m):A+(I?-m:m)/O}function T(_,m,w,x,b,A){var g,I,S=_._fullLayout,O=_._fullLayout._size,R=_._context.edits;x?(g="annotation-"+x,I=x+".annotations"):(g="annotation",I="annotations");var L=u(_.layout,I,m),N=L.modifyBase,j=L.modifyItem,X=L.getUpdateObj;S._infolayer.selectAll("."+g+'[data-index="'+w+'"]').remove();var F="clip"+S._uid+"_ann"+w;if(m._input&&!1!==m.visible){var Y={x:{},y:{}},G=+m.textangle||0,H=S._infolayer.append("g").classed(g,!0).attr("data-index",String(w)).style("opacity",m.opacity),W=H.append("g").classed("annotation-text-g",!0),Z=R[m.showarrow?"annotationTail":"annotationPosition"],se=m.captureevents||R.annotationText||Z,re=W.append("g").style("pointer-events",se?"all":null).call(o,"pointer").on("click",function(){_._dragging=!1,_.emit("plotly_clickannotation",Ae(D.event))});m.hovertext&&re.on("mouseover",function(){var we=m.hoverlabel,ze=we.font,Se=this.getBoundingClientRect(),Ce=_.getBoundingClientRect();s.loneHover({x0:Se.left-Ce.left,x1:Se.right-Ce.left,y:(Se.top+Se.bottom)/2-Ce.top,text:m.hovertext,color:we.bgcolor,borderColor:we.bordercolor,fontFamily:ze.family,fontSize:ze.size,fontColor:ze.color},{container:S._hoverlayer.node(),outerContainer:S._paper.node(),gd:_})}).on("mouseout",function(){s.loneUnhover(S._hoverlayer.node())});var ne=m.borderwidth,ee=ne+m.borderpad,oe=re.append("rect").attr("class","bg").style("stroke-width",ne+"px").call(c.stroke,m.bordercolor).call(c.fill,m.bgcolor),ce=m.width||m.height,fe=S._topclips.selectAll("#"+F).data(ce?[0]:[]);fe.enter().append("clipPath").classed("annclip",!0).attr("id",F).append("rect"),fe.exit().remove();var le=m.font,pe=S._meta?k.templateString(m.text,S._meta):m.text,Me=re.append("text").classed("annotation-text",!0).text(pe);R.annotationText?Me.call(a.makeEditable,{delegate:re,gd:_}).call(be).on("edit",function(we){m.text=we,this.call(be),j("text",we),b&&b.autorange&&N(b._name+".autorange",!0),A&&A.autorange&&N(A._name+".autorange",!0),E.call("_guiRelayout",_,X())}):Me.call(be)}else D.selectAll("#"+F).remove();function Ae(we){var ze={index:w,annotation:m._input,fullAnnotation:m,event:we};return x&&(ze.subplotId=x),ze}function be(we){return we.call(i.font,le).attr({"text-anchor":{left:"start",right:"end"}[m.align]||"middle"}),a.convertToTspans(we,_,ye),we}function ye(){var we=Me.selectAll("a");1===we.size()&&we.text()===Me.text()&&re.insert("a",":first-child").attr({"xlink:xlink:href":we.attr("xlink:href"),"xlink:xlink:show":we.attr("xlink:show")}).style({cursor:"pointer"}).node().appendChild(oe.node());var ze=re.select(".annotation-text-math-group"),Se=!ze.empty(),Ce=i.bBox((Se?ze:Me).node()),ge=Ce.width,he=Ce.height,_e=m.width||ge,Le=m.height||he,Ie=Math.round(_e+2*ee),De=Math.round(Le+2*ee);function je(St,_t){return"auto"===_t&&(_t=St<.3333333333333333?"left":St>.6666666666666666?"right":"center"),{center:0,middle:0,left:.5,bottom:-.5,right:-.5,top:.5}[_t]}for(var qe=!1,ve=["x","y"],Oe=0;Oe<ve.length;Oe++){var ke,Be,We,Ge,Ke,et=ve[Oe],at=m[et+"ref"]||et,mt=m["a"+et+"ref"],ct={x:b,y:A}[et],kt=(G+("x"===et?0:-90))*Math.PI/180,Dt=Ie*Math.cos(kt),Et=De*Math.sin(kt),ht=Math.abs(Dt)+Math.abs(Et),pt=m[et+"anchor"],Pt=m[et+"shift"]*("x"===et?1:-1),zt=Y[et],Ht=y.getRefType(at);if(ct&&"domain"!==Ht){var Lt=ct.r2fraction(m[et]);(Lt<0||Lt>1)&&(mt===at?((Lt=ct.r2fraction(m["a"+et]))<0||Lt>1)&&(qe=!0):qe=!0),ke=ct._offset+ct.r2p(m[et]),Ge=.5}else{var tt="domain"===Ht;"x"===et?(We=m[et],ke=tt?ct._offset+ct._length*We:ke=O.l+O.w*We):(We=1-m[et],ke=tt?ct._offset+ct._length*We:ke=O.t+O.h*We),Ge=m.showarrow?.5:We}if(m.showarrow){zt.head=ke;var it=m["a"+et];if(Ke=Dt*je(.5,m.xanchor)-Et*je(.5,m.yanchor),mt===at){var Je=y.getRefType(mt);"domain"===Je?("y"===et&&(it=1-it),zt.tail=ct._offset+ct._length*it):zt.tail="paper"===Je?"y"===et?O.t+O.h*(it=1-it):O.l+O.w*it:ct._offset+ct.r2p(it),Be=Ke}else zt.tail=ke+it,Be=Ke+it;zt.text=zt.tail+Ke;var ot=S["x"===et?"width":"height"];if("paper"===at&&(zt.head=k.constrain(zt.head,1,ot-1)),"pixel"===mt){var gt=-Math.max(zt.tail-3,zt.text),ft=Math.min(zt.tail+3,zt.text)-ot;gt>0?(zt.tail+=gt,zt.text+=gt):ft>0&&(zt.tail-=ft,zt.text-=ft)}zt.tail+=Pt,zt.head+=Pt}else Be=Ke=ht*je(Ge,pt),zt.text=ke+Ke;zt.text+=Pt,Ke+=Pt,m["_"+et+"padplus"]=ht/2+(Be+=Pt),m["_"+et+"padminus"]=ht/2-Be,m["_"+et+"size"]=ht,m["_"+et+"shift"]=Ke}if(qe)re.remove();else{var Ue=0,$e=0;"left"!==m.align&&(Ue=(_e-ge)*("center"===m.align?.5:1)),"top"!==m.valign&&($e=(Le-he)*("middle"===m.valign?.5:1)),Se?ze.select("svg").attr({x:ee+Ue-1,y:ee+$e}).call(i.setClipUrl,ce?F:null,_):Me.call(a.positionText,ee+Ue-Ce.left,ee+$e-Ce.top).call(i.setClipUrl,ce?F:null,_),fe.select("rect").call(i.setRect,ee,ee,_e,Le),oe.call(i.setRect,ne/2,ne/2,Ie-ne,De-ne),re.call(i.setTranslate,Math.round(Y.x.text-Ie/2),Math.round(Y.y.text-De/2)),W.attr({transform:"rotate("+G+","+Y.x.text+","+Y.y.text+")"});var At,wt=function(St,_t){H.selectAll(".annotation-arrow-g").remove();var Rt=Y.x.head,bt=Y.y.head,Tt=Y.x.tail+St,It=Y.y.tail+_t,Wt=Y.x.text+St,$t=Y.y.text+_t,Qt=k.rotationXYMatrix(G,Wt,$t),pn=k.apply2DTransform(Qt),en=k.apply2DTransform2(Qt),nn=+oe.attr("width"),fn=+oe.attr("height"),On=Wt-.5*nn,Un=On+nn,Sn=$t-.5*fn,on=Sn+fn,vn=[[On,Sn,On,on],[On,on,Un,on],[Un,on,Un,Sn],[Un,Sn,On,Sn]].map(en);if(!vn.reduce(function(dr,mr){return dr^!!k.segmentsIntersect(Rt,bt,Rt+1e6,bt+1e6,mr[0],mr[1],mr[2],mr[3])},!1)){vn.forEach(function(dr){var mr=k.segmentsIntersect(Tt,It,Rt,bt,dr[0],dr[1],dr[2],dr[3]);mr&&(Tt=mr.x,It=mr.y)});var un=m.arrowwidth,Tn=m.arrowcolor,kn=m.arrowside,xn=H.append("g").style({opacity:c.opacity(Tn)}).classed("annotation-arrow-g",!0),Rn=xn.append("path").attr("d","M"+Tt+","+It+"L"+Rt+","+bt).style("stroke-width",un+"px").call(c.stroke,c.rgb(Tn));if(h(Rn,kn,m),R.annotationPosition&&Rn.node().parentNode&&!x){var Hn=Rt,En=bt;if(m.standoff){var Wn=Math.sqrt(Math.pow(Rt-Tt,2)+Math.pow(bt-It,2));Hn+=m.standoff*(Tt-Rt)/Wn,En+=m.standoff*(It-bt)/Wn}var gr,lr,wr=xn.append("path").classed("annotation-arrow",!0).classed("anndrag",!0).classed("cursor-move",!0).attr({d:"M3,3H-3V-3H3ZM0,0L"+(Tt-Hn)+","+(It-En),transform:M(Hn,En)}).style("stroke-width",un+6+"px").call(c.stroke,"rgba(0,0,0,0)").call(c.fill,"rgba(0,0,0,0)");l.init({element:wr.node(),gd:_,prepFn:function(){var dr=i.getTranslate(re);gr=dr.x,lr=dr.y,b&&b.autorange&&N(b._name+".autorange",!0),A&&A.autorange&&N(A._name+".autorange",!0)},moveFn:function(dr,mr){var Ir=pn(gr,lr),qt=Ir[0]+dr,tn=Ir[1]+mr;re.call(i.setTranslate,qt,tn),j("x",p(b,dr,"x",O,m)),j("y",p(A,mr,"y",O,m)),m.axref===m.xref&&j("ax",p(b,dr,"ax",O,m)),m.ayref===m.yref&&j("ay",p(A,mr,"ay",O,m)),xn.attr("transform",M(dr,mr)),W.attr({transform:"rotate("+G+","+qt+","+tn+")"})},doneFn:function(){E.call("_guiRelayout",_,X());var dr=document.querySelector(".js-notes-box-panel");dr&&dr.redraw(dr.selectedObj)}})}}};m.showarrow&&wt(0,0),Z&&l.init({element:re.node(),gd:_,prepFn:function(){At=W.attr("transform")},moveFn:function(St,_t){var Rt="pointer";if(m.showarrow)j("ax",m.axref===m.xref?p(b,St,"ax",O,m):m.ax+St),j("ay",m.ayref===m.yref?p(A,_t,"ay",O.w,m):m.ay+_t),wt(St,_t);else{if(x)return;var bt,Tt;if(b)bt=p(b,St,"x",O,m);else{var It=m._xsize/O.w;bt=l.align(m.x+(m._xshift-m.xshift)/O.w-It/2+St/O.w,It,0,1,m.xanchor)}if(A)Tt=p(A,_t,"y",O,m);else{var $t=m._ysize/O.h;Tt=l.align(m.y-(m._yshift+m.yshift)/O.h-$t/2-_t/O.h,$t,0,1,m.yanchor)}j("x",bt),j("y",Tt),b&&A||(Rt=l.getCursor(b?.5:bt,A?.5:Tt,m.xanchor,m.yanchor))}W.attr({transform:M(St,_t)+At}),o(re,Rt)},clickFn:function(St,_t){m.captureevents&&_.emit("plotly_clickannotation",Ae(_t))},doneFn:function(){o(re),E.call("_guiRelayout",_,X());var St=document.querySelector(".js-notes-box-panel");St&&St.redraw(St.selectedObj)}})}}}ae.exports={draw:function(_){var m=_._fullLayout;m._infolayer.selectAll(".annotation").remove();for(var w=0;w<m.annotations.length;w++)m.annotations[w].visible&&v(_,w);return f.previousPromises(_)},drawOne:v,drawRaw:T}},13011:function(ae,B,r){"use strict";var D=r(39898),E=r(7901),f=r(82884),k=r(71828),M=k.strScale,y=k.strRotate,c=k.strTranslate;ae.exports=function(i,s,a){var o,l,u,h,v=i.node(),p=f[a.arrowhead||0],T=f[a.startarrowhead||0],_=(a.arrowwidth||1)*(a.arrowsize||1),m=(a.arrowwidth||1)*(a.startarrowsize||1),w=s.indexOf("start")>=0,x=s.indexOf("end")>=0,b=p.backoff*_+a.standoff,A=T.backoff*m+a.startstandoff;if("line"===v.nodeName){o={x:+i.attr("x1"),y:+i.attr("y1")},l={x:+i.attr("x2"),y:+i.attr("y2")};var g=o.x-l.x,I=o.y-l.y;if(h=(u=Math.atan2(I,g))+Math.PI,b&&A&&b+A>Math.sqrt(g*g+I*I))return void H();if(b){if(b*b>g*g+I*I)return void H();var S=b*Math.cos(u),O=b*Math.sin(u);l.x+=S,l.y+=O,i.attr({x2:l.x,y2:l.y})}if(A){if(A*A>g*g+I*I)return void H();var R=A*Math.cos(u),L=A*Math.sin(u);o.x-=R,o.y-=L,i.attr({x1:o.x,y1:o.y})}}else if("path"===v.nodeName){var N=v.getTotalLength(),j="";if(N<b+A)return void H();var X=v.getPointAtLength(0),F=v.getPointAtLength(.1);u=Math.atan2(X.y-F.y,X.x-F.x),o=v.getPointAtLength(Math.min(A,N)),j="0px,"+A+"px,";var Y=v.getPointAtLength(N),G=v.getPointAtLength(N-.1);h=Math.atan2(Y.y-G.y,Y.x-G.x),l=v.getPointAtLength(Math.max(0,N-b)),i.style("stroke-dasharray",j+=N-(j?A+b:b)+"px,"+N+"px")}function H(){i.style("stroke-dasharray","0px,100px")}function W(Z,se,re,ne){Z.path&&(Z.noRotate&&(re=0),D.select(v.parentNode).append("path").attr({class:i.attr("class"),d:Z.path,transform:c(se.x,se.y)+y(180*re/Math.PI)+M(ne)}).style({fill:E.rgb(a.arrowcolor),"stroke-width":0}))}w&&W(T,o,u,m),x&&W(p,l,h,_)}},32745:function(ae,B,r){"use strict";var D=r(92605),E=r(44317);ae.exports={moduleType:"component",name:"annotations",layoutAttributes:r(50215),supplyLayoutDefaults:r(84046),includeBasePlot:r(76325)("annotations"),calcAutorange:r(3749),draw:D.draw,drawOne:D.drawOne,drawRaw:D.drawRaw,hasClickToShow:E.hasClickToShow,onClick:E.onClick,convertCoords:r(94128)}},26997:function(ae,B,r){"use strict";var D=r(50215),E=r(30962).overrideAll,f=r(44467).templatedArray;ae.exports=E(f("annotation",{visible:D.visible,x:{valType:"any"},y:{valType:"any"},z:{valType:"any"},ax:{valType:"number"},ay:{valType:"number"},xanchor:D.xanchor,xshift:D.xshift,yanchor:D.yanchor,yshift:D.yshift,text:D.text,textangle:D.textangle,font:D.font,width:D.width,height:D.height,opacity:D.opacity,align:D.align,valign:D.valign,bgcolor:D.bgcolor,bordercolor:D.bordercolor,borderpad:D.borderpad,borderwidth:D.borderwidth,showarrow:D.showarrow,arrowcolor:D.arrowcolor,arrowhead:D.arrowhead,startarrowhead:D.startarrowhead,arrowside:D.arrowside,arrowsize:D.arrowsize,startarrowsize:D.startarrowsize,arrowwidth:D.arrowwidth,standoff:D.standoff,startstandoff:D.startstandoff,hovertext:D.hovertext,hoverlabel:D.hoverlabel,captureevents:D.captureevents}),"calc","from-root")},5485:function(ae,B,r){"use strict";var D=r(71828),E=r(89298);function f(k,M){var y=M.fullSceneLayout.domain,c=M.fullLayout._size,i={pdata:null,type:"linear",autorange:!1,range:[-1/0,1/0]};k._xa={},D.extendFlat(k._xa,i),E.setConvert(k._xa),k._xa._offset=c.l+y.x[0]*c.w,k._xa.l2p=function(){return.5*(1+k._pdata[0]/k._pdata[3])*c.w*(y.x[1]-y.x[0])},k._ya={},D.extendFlat(k._ya,i),E.setConvert(k._ya),k._ya._offset=c.t+(1-y.y[1])*c.h,k._ya.l2p=function(){return.5*(1-k._pdata[1]/k._pdata[3])*c.h*(y.y[1]-y.y[0])}}ae.exports=function(k){for(var M=k.fullSceneLayout.annotations,y=0;y<M.length;y++)f(M[y],k);k.fullLayout._infolayer.selectAll(".annotation-"+k.id).remove()}},20226:function(ae,B,r){"use strict";var D=r(71828),E=r(89298),f=r(85501),k=r(25625),M=r(26997);function y(c,i,s,a){function o(u,h){return D.coerce(c,i,M,u,h)}function l(u){var h=u+"axis",v={_fullLayout:{}};return v._fullLayout[h]=s[h],E.coercePosition(i,v,o,u,u,.5)}o("visible")&&(k(c,i,a.fullLayout,o),l("x"),l("y"),l("z"),D.noneOrAll(c,i,["x","y","z"]),i.xref="x",i.yref="y",i.zref="z",o("xanchor"),o("yanchor"),o("xshift"),o("yshift"),i.showarrow&&(i.axref="pixel",i.ayref="pixel",o("ax",-10),o("ay",-30),D.noneOrAll(c,i,["ax","ay"])))}ae.exports=function(c,i,s){f(c,i,{name:"annotations",handleItemDefaults:y,fullLayout:s.fullLayout})}},82188:function(ae,B,r){"use strict";var D=r(92605).drawRaw,E=r(63538),f=["x","y","z"];ae.exports=function(k){for(var M=k.fullSceneLayout,y=k.dataScale,c=M.annotations,i=0;i<c.length;i++){for(var s=c[i],a=!1,o=0;o<3;o++){var l=f[o],h=M[l+"axis"].r2fraction(s[l]);if(h<0||h>1){a=!0;break}}a?k.fullLayout._infolayer.select(".annotation-"+k.id+'[data-index="'+i+'"]').remove():(s._pdata=E(k.glplot.cameraParams,[M.xaxis.r2l(s.x)*y[0],M.yaxis.r2l(s.y)*y[1],M.zaxis.r2l(s.z)*y[2]]),D(k.graphDiv,s,i,k.id,s._xa,s._ya))}}},2468:function(ae,B,r){"use strict";var D=r(73972),E=r(71828);ae.exports={moduleType:"component",name:"annotations3d",schema:{subplots:{scene:{annotations:r(26997)}}},layoutAttributes:r(26997),handleDefaults:r(20226),includeBasePlot:function(f,k){var M=D.subplotsRegistry.gl3d;if(M)for(var y=M.attrRegex,c=Object.keys(f),i=0;i<c.length;i++){var s=c[i];y.test(s)&&(f[s].annotations||[]).length&&(E.pushUnique(k._basePlotModules,M),E.pushUnique(k._subplots.gl3d,s))}},convert:r(5485),draw:r(82188)}},7561:function(ae,B,r){"use strict";ae.exports=r(63489),r(94338),r(3961),r(38751),r(86825),r(37715),r(99384),r(43805),r(88874),r(83290),r(29108),r(55422),r(94320),r(31320),r(51367),r(21457)},72201:function(ae,B,r){"use strict";var D=r(7561),E=r(71828),f=r(50606),k=f.EPOCHJD,M=f.ONEDAY,y={valType:"enumerated",values:E.sortObjectKeys(D.calendars),editType:"calc",dflt:"gregorian"},c=function(_,m,w,x){var b={};return b[w]=y,E.coerce(_,m,b,w,x)},i="##",s={d:{0:"dd","-":"d"},e:{0:"d","-":"d"},a:{0:"D","-":"D"},A:{0:"DD","-":"DD"},j:{0:"oo","-":"o"},W:{0:"ww","-":"w"},m:{0:"mm","-":"m"},b:{0:"M","-":"M"},B:{0:"MM","-":"MM"},y:{0:"yy","-":"yy"},Y:{0:"yyyy","-":"yyyy"},U:i,w:i,c:{0:"D M d %X yyyy","-":"D M d %X yyyy"},x:{0:"mm/dd/yyyy","-":"mm/dd/yyyy"}},a={};function o(_){return a[_]||(a[_]=D.instance(_))}function l(_){return E.extendFlat({},y,{description:_})}function u(_){return"Sets the calendar system to use with `"+_+"` date data."}var h={xcalendar:l(u("x"))},v=E.extendFlat({},h,{ycalendar:l(u("y"))}),p=E.extendFlat({},v,{zcalendar:l(u("z"))}),T=l(["Sets the calendar system to use for `range` and `tick0`","if this is a date axis. This does not set the calendar for","interpreting data on this axis, that's specified in the trace","or via the global `layout.calendar`"].join(" "));ae.exports={moduleType:"component",name:"calendars",schema:{traces:{scatter:v,bar:v,box:v,heatmap:v,contour:v,histogram:v,histogram2d:v,histogram2dcontour:v,scatter3d:p,surface:p,mesh3d:p,scattergl:v,ohlc:h,candlestick:h},layout:{calendar:l(["Sets the default calendar system to use for interpreting and","displaying dates throughout the plot."].join(" "))},subplots:{xaxis:{calendar:T},yaxis:{calendar:T},scene:{xaxis:{calendar:T},yaxis:{calendar:T},zaxis:{calendar:T}},polar:{radialaxis:{calendar:T}}},transforms:{filter:{valuecalendar:l(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `value`, if it is a date."].join(" ")),targetcalendar:l(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `target`, if it is an","array of dates. If `target` is a string (eg *x*) we use the","corresponding trace attribute (eg `xcalendar`) if it exists,","even if `targetcalendar` is provided."].join(" "))}}},layoutAttributes:y,handleDefaults:c,handleTraceDefaults:function(_,m,w,x){for(var b=0;b<w.length;b++)c(_,m,w[b]+"calendar",x.calendar)},CANONICAL_SUNDAY:{chinese:"2000-01-02",coptic:"2000-01-03",discworld:"2000-01-03",ethiopian:"2000-01-05",hebrew:"5000-01-01",islamic:"1000-01-02",julian:"2000-01-03",mayan:"5000-01-01",nanakshahi:"1000-01-05",nepali:"2000-01-05",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-04",thai:"2000-01-04",ummalqura:"1400-01-06"},CANONICAL_TICK:{chinese:"2000-01-01",coptic:"2000-01-01",discworld:"2000-01-01",ethiopian:"2000-01-01",hebrew:"5000-01-01",islamic:"1000-01-01",julian:"2000-01-01",mayan:"5000-01-01",nanakshahi:"1000-01-01",nepali:"2000-01-01",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-01",thai:"2000-01-01",ummalqura:"1400-01-01"},DFLTRANGE:{chinese:["2000-01-01","2001-01-01"],coptic:["1700-01-01","1701-01-01"],discworld:["1800-01-01","1801-01-01"],ethiopian:["2000-01-01","2001-01-01"],hebrew:["5700-01-01","5701-01-01"],islamic:["1400-01-01","1401-01-01"],julian:["2000-01-01","2001-01-01"],mayan:["5200-01-01","5201-01-01"],nanakshahi:["0500-01-01","0501-01-01"],nepali:["2000-01-01","2001-01-01"],persian:["1400-01-01","1401-01-01"],jalali:["1400-01-01","1401-01-01"],taiwan:["0100-01-01","0101-01-01"],thai:["2500-01-01","2501-01-01"],ummalqura:["1400-01-01","1401-01-01"]},getCal:o,worldCalFmt:function(_,m,w){for(var x,b,A,g,I,S=Math.floor((m+.05)/M)+k,O=o(w).fromJD(S),R=0;-1!==(R=_.indexOf("%",R));)"0"===(x=_.charAt(R+1))||"-"===x||"_"===x?(A=3,b=_.charAt(R+2),"_"===x&&(x="-")):(b=x,x="0",A=2),(g=s[b])?(I=g===i?i:O.formatDate(g[x]),_=_.substr(0,R)+I+_.substr(R+A),R+=I.length):R+=A;return _}}},22399:function(ae,B){"use strict";B.defaults=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],B.defaultLine="#444",B.lightLine="#eee",B.background="#fff",B.borderLine="#BEC8D9",B.lightFraction=90.9090909090909},7901:function(ae,B,r){"use strict";var D=r(84267),E=r(92770),f=r(73627).isTypedArray,k=ae.exports={},M=r(22399);k.defaults=M.defaults;var y=k.defaultLine=M.defaultLine;k.lightLine=M.lightLine;var c=k.background=M.background;function i(s){if(E(s)||"string"!=typeof s)return s;var a=s.trim();if("rgb"!==a.substr(0,3))return s;var o=a.match(/^rgba?\s*\(([^()]*)\)$/);if(!o)return s;var l=o[1].trim().split(/\s*[\s,]\s*/),u="a"===a.charAt(3)&&4===l.length;if(!u&&3!==l.length)return s;for(var h=0;h<l.length;h++){if(!(l[h].length&&(l[h]=Number(l[h]),l[h]>=0)))return s;if(3===h)l[h]>1&&(l[h]=1);else if(l[h]>=1)return s}var v=Math.round(255*l[0])+", "+Math.round(255*l[1])+", "+Math.round(255*l[2]);return u?"rgba("+v+", "+l[3]+")":"rgb("+v+")"}k.tinyRGB=function(s){var a=s.toRgb();return"rgb("+Math.round(a.r)+", "+Math.round(a.g)+", "+Math.round(a.b)+")"},k.rgb=function(s){return k.tinyRGB(D(s))},k.opacity=function(s){return s?D(s).getAlpha():0},k.addOpacity=function(s,a){var o=D(s).toRgb();return"rgba("+Math.round(o.r)+", "+Math.round(o.g)+", "+Math.round(o.b)+", "+a+")"},k.combine=function(s,a){var o=D(s).toRgb();if(1===o.a)return D(s).toRgbString();var l=D(a||c).toRgb(),u=1===l.a?l:{r:255*(1-l.a)+l.r*l.a,g:255*(1-l.a)+l.g*l.a,b:255*(1-l.a)+l.b*l.a};return D({r:u.r*(1-o.a)+o.r*o.a,g:u.g*(1-o.a)+o.g*o.a,b:u.b*(1-o.a)+o.b*o.a}).toRgbString()},k.contrast=function(s,a,o){var l=D(s);return 1!==l.getAlpha()&&(l=D(k.combine(s,c))),(l.isDark()?a?l.lighten(a):c:o?l.darken(o):y).toString()},k.stroke=function(s,a){var o=D(a);s.style({stroke:k.tinyRGB(o),"stroke-opacity":o.getAlpha()})},k.fill=function(s,a){var o=D(a);s.style({fill:k.tinyRGB(o),"fill-opacity":o.getAlpha()})},k.clean=function(s){if(s&&"object"==typeof s){var a,o,l,u,h=Object.keys(s);for(a=0;a<h.length;a++)if(u=s[l=h[a]],"color"===l.substr(l.length-5))if(Array.isArray(u))for(o=0;o<u.length;o++)u[o]=i(u[o]);else s[l]=i(u);else if("colorscale"===l.substr(l.length-10)&&Array.isArray(u))for(o=0;o<u.length;o++)Array.isArray(u[o])&&(u[o][1]=i(u[o][1]));else if(Array.isArray(u)){var v=u[0];if(!Array.isArray(v)&&v&&"object"==typeof v)for(o=0;o<u.length;o++)k.clean(u[o])}else u&&"object"==typeof u&&!f(u)&&k.clean(u)}}},63583:function(ae,B,r){"use strict";var D=r(13838),E=r(41940),f=r(1426).extendFlat,k=r(30962).overrideAll;ae.exports=k({orientation:{valType:"enumerated",values:["h","v"],dflt:"v"},thicknessmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels"},thickness:{valType:"number",min:0,dflt:30},lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["left","center","right"]},xpad:{valType:"number",min:0,dflt:10},y:{valType:"number"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},ypad:{valType:"number",min:0,dflt:10},outlinecolor:D.linecolor,outlinewidth:D.linewidth,bordercolor:D.linecolor,borderwidth:{valType:"number",min:0,dflt:0},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},tickmode:D.minor.tickmode,nticks:D.nticks,tick0:D.tick0,dtick:D.dtick,tickvals:D.tickvals,ticktext:D.ticktext,ticks:f({},D.ticks,{dflt:""}),ticklabeloverflow:f({},D.ticklabeloverflow,{}),ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside"},ticklen:D.ticklen,tickwidth:D.tickwidth,tickcolor:D.tickcolor,ticklabelstep:D.ticklabelstep,showticklabels:D.showticklabels,labelalias:D.labelalias,tickfont:E({}),tickangle:D.tickangle,tickformat:D.tickformat,tickformatstops:D.tickformatstops,tickprefix:D.tickprefix,showtickprefix:D.showtickprefix,ticksuffix:D.ticksuffix,showticksuffix:D.showticksuffix,separatethousands:D.separatethousands,exponentformat:D.exponentformat,minexponent:D.minexponent,showexponent:D.showexponent,title:{text:{valType:"string"},font:E({}),side:{valType:"enumerated",values:["right","top","bottom"]}},_deprecated:{title:{valType:"string"},titlefont:E({}),titleside:{valType:"enumerated",values:["right","top","bottom"],dflt:"top"}}},"colorbars","from-root")},30939:function(ae){"use strict";ae.exports={cn:{colorbar:"colorbar",cbbg:"cbbg",cbfill:"cbfill",cbfills:"cbfills",cbline:"cbline",cblines:"cblines",cbaxis:"cbaxis",cbtitleunshift:"cbtitleunshift",cbtitle:"cbtitle",cboutline:"cboutline",crisp:"crisp",jsPlaceholder:"js-placeholder"}}},62499:function(ae,B,r){"use strict";var D=r(71828),E=r(44467),f=r(26218),k=r(38701),M=r(96115),y=r(89426),c=r(63583);ae.exports=function(i,s,a){var o=E.newContainer(s,"colorbar"),l=i.colorbar||{};function u(j,X){return D.coerce(l,o,c,j,X)}var h=a.margin||{t:0,b:0,l:0,r:0},v=a.width-h.l-h.r,p=a.height-h.t-h.b,T="v"===u("orientation"),_=u("thicknessmode");u("thickness","fraction"===_?30/(T?v:p):30);var m=u("lenmode");u("len","fraction"===m?1:T?p:v);var w,x,b,A="paper"===u("yref"),g="paper"===u("xref"),I="left";T?(b="middle",I=g?"left":"right",w=g?1.02:1,x=.5):(b=A?"bottom":"top",I="center",w=.5,x=A?1.02:1),D.coerce(l,o,{x:{valType:"number",min:g?-2:0,max:g?3:1,dflt:w}},"x"),D.coerce(l,o,{y:{valType:"number",min:A?-2:0,max:A?3:1,dflt:x}},"y"),u("xanchor",I),u("xpad"),u("yanchor",b),u("ypad"),D.noneOrAll(l,o,["x","y"]),u("outlinecolor"),u("outlinewidth"),u("bordercolor"),u("borderwidth"),u("bgcolor");var S=D.coerce(l,o,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:T?["outside","inside","outside top","inside top","outside bottom","inside bottom"]:["outside","inside","outside left","inside left","outside right","inside right"]}},"ticklabelposition");u("ticklabeloverflow",-1!==S.indexOf("inside")?"hide past domain":"hide past div"),f(l,o,u,"linear");var O=a.font,R={outerTicks:!1,font:O};-1!==S.indexOf("inside")&&(R.bgColor="black"),y(l,o,u,"linear",R),M(l,o,u,"linear",R),k(l,o,u,"linear",R),u("title.text",a._dfltTitle.colorbar);var L=o.showticklabels?o.tickfont:O,N=D.extendFlat({},L,{color:O.color,size:D.bigFont(L.size)});D.coerceFont(u,"title.font",N),u("title.side",T?"top":"right")}},98981:function(ae,B,r){"use strict";var D=r(39898),E=r(84267),f=r(74875),k=r(73972),M=r(89298),y=r(28569),c=r(71828),i=c.strTranslate,s=r(1426).extendFlat,a=r(6964),o=r(91424),l=r(7901),u=r(92998),h=r(63893),v=r(52075).flipScale,p=r(71453),T=r(52830),_=r(13838),m=r(18783),w=m.LINE_SPACING,x=m.FROM_TL,b=m.FROM_BR,A=r(30939).cn;ae.exports={draw:function(g){var I=g._fullLayout._infolayer.selectAll("g."+A.colorbar).data(function(S){var O,R,L,N,j=S._fullLayout,X=S.calcdata,F=[];function Y(ce){return s(ce,{_fillcolor:null,_line:{color:null,width:null,dash:null},_levels:{start:null,end:null,size:null},_filllevels:null,_fillgradient:null,_zrange:null})}function G(){"function"==typeof N.calc?N.calc(S,L,O):(O._fillgradient=R.reversescale?v(R.colorscale):R.colorscale,O._zrange=[R[N.min],R[N.max]])}for(var H=0;H<X.length;H++)if((L=X[H][0].trace)._module){var Z=L._module.colorbar;if(!0===L.visible&&Z)for(var se=Array.isArray(Z),re=se?Z:[Z],ne=0;ne<re.length;ne++){var Q=(N=re[ne]).container;(R=Q?L[Q]:L)&&R.showscale&&((O=Y(R.colorbar))._id="cb"+L.uid+(se&&Q?"-"+Q:""),O._traceIndex=L.index,O._propPrefix=(Q?Q+".":"")+"colorbar.",O._meta=L._meta,G(),F.push(O))}}for(var ee in j._colorAxes)if((R=j[ee]).showscale){var oe=j._colorAxes[ee];(O=Y(R.colorbar))._id="cb"+ee,O._propPrefix=ee+".colorbar.",O._meta=j._meta,N={min:"cmin",max:"cmax"},"heatmap"!==oe[0]&&(N.calc=(L=oe[1])._module.colorbar.calc),G(),F.push(O)}return F}(g),function(S){return S._id});I.enter().append("g").attr("class",function(S){return S._id}).classed(A.colorbar,!0),I.each(function(S){var O=D.select(this);c.ensureSingle(O,"rect",A.cbbg),c.ensureSingle(O,"g",A.cbfills),c.ensureSingle(O,"g",A.cblines),c.ensureSingle(O,"g",A.cbaxis,function(L){L.classed(A.crisp,!0)}),c.ensureSingle(O,"g",A.cbtitleunshift,function(L){L.append("g").classed(A.cbtitle,!0)}),c.ensureSingle(O,"rect",A.cboutline);var L,N,j,X,F,Y,G,H,R=function(L,N,j){var X="v"===N.orientation,F=N.len,Y=N.lenmode,G=N.thickness,H=N.thicknessmode,W=N.outlinewidth,Z=N.borderwidth,se=N.bgcolor,re=N.xanchor,ne=N.yanchor,Q=N.xpad,ee=N.ypad,oe=N.x,ce=X?N.y:1-N.y,fe="paper"===N.yref,le="paper"===N.xref,pe=j._fullLayout,Me=pe._size,Ae=N._fillcolor,be=N._line,ye=N.title,we=ye.side,ze=N._zrange||D.extent(("function"==typeof Ae?Ae:be.color).domain()),Se="function"==typeof be.color?be.color:function(){return be.color},Ce="function"==typeof Ae?Ae:function(){return Ae},ge=N._levels,he=function(Je,ot,gt){var ft,Ue,$e=ot._levels,dt=[],ut=[],At=$e.end+$e.size/100,wt=$e.size,St=1.001*gt[0]-.001*gt[1],_t=1.001*gt[1]-.001*gt[0];for(Ue=0;Ue<1e5&&(ft=$e.start+Ue*wt,!(wt>0?ft>=At:ft<=At));Ue++)ft>St&&ft<_t&&dt.push(ft);if(ot._fillgradient)ut=[0];else if("function"==typeof ot._fillcolor){var Rt=ot._filllevels;if(Rt)for(At=Rt.end+Rt.size/100,wt=Rt.size,Ue=0;Ue<1e5&&(ft=Rt.start+Ue*wt,!(wt>0?ft>=At:ft<=At));Ue++)ft>gt[0]&&ft<gt[1]&&ut.push(ft);else(ut=dt.map(function(bt){return bt-$e.size/2})).push(ut[ut.length-1]+$e.size)}else ot._fillcolor&&"string"==typeof ot._fillcolor&&(ut=[0]);return $e.size<0&&(dt.reverse(),ut.reverse()),{line:dt,fill:ut}}(0,N,ze),_e=he.fill,Le=he.line,Ie=Math.round(G*("fraction"===H?X?Me.w:Me.h:1)),De=Ie/(X?Me.w:Me.h),je=Math.round(F*("fraction"===Y?X?Me.h:Me.w:1)),qe=je/(X?Me.h:Me.w),ve=le?Me.w:j._fullLayout.width,Oe=fe?Me.h:j._fullLayout.height,ke=Math.round(X?oe*ve+Q:ce*Oe+ee),Be={center:.5,right:1}[re]||0,We={top:1,middle:.5}[ne]||0,Ge=X?oe-Be*De:ce-We*De,Ke=X?ce-We*qe:oe-Be*qe,et=Math.round(X?Oe*(1-Ke):ve*Ke);N._lenFrac=qe,N._thickFrac=De,N._uFrac=Ge,N._vFrac=Ke;var at=N._axis=function(Je,ot,gt){var ft=Je._fullLayout,Ue="v"===ot.orientation,$e={type:"linear",range:gt,tickmode:ot.tickmode,nticks:ot.nticks,tick0:ot.tick0,dtick:ot.dtick,tickvals:ot.tickvals,ticktext:ot.ticktext,ticks:ot.ticks,ticklen:ot.ticklen,tickwidth:ot.tickwidth,tickcolor:ot.tickcolor,showticklabels:ot.showticklabels,labelalias:ot.labelalias,ticklabelposition:ot.ticklabelposition,ticklabeloverflow:ot.ticklabeloverflow,ticklabelstep:ot.ticklabelstep,tickfont:ot.tickfont,tickangle:ot.tickangle,tickformat:ot.tickformat,exponentformat:ot.exponentformat,minexponent:ot.minexponent,separatethousands:ot.separatethousands,showexponent:ot.showexponent,showtickprefix:ot.showtickprefix,tickprefix:ot.tickprefix,showticksuffix:ot.showticksuffix,ticksuffix:ot.ticksuffix,title:ot.title,showline:!0,anchor:"free",side:Ue?"right":"bottom",position:1},dt=Ue?"y":"x",ut={type:"linear",_id:dt+ot._id},At={letter:dt,font:ft.font,noHover:!0,noTickson:!0,noTicklabelmode:!0,noInsideRange:!0,calendar:ft.calendar};function wt(St,_t){return c.coerce($e,ut,_,St,_t)}return p($e,ut,wt,At,ft),T($e,ut,wt,At),ut}(j,N,ze);at.position=De+(X?oe+Q/Me.w:ce+ee/Me.h);var mt=-1!==["top","bottom"].indexOf(we);if(X&&mt&&(at.title.side=we,at.titlex=oe+Q/Me.w,at.titley=Ke+("top"===ye.side?qe-ee/Me.h:ee/Me.h)),X||mt||(at.title.side=we,at.titley=ce+ee/Me.h,at.titlex=Ke+Q/Me.w),be.color&&"auto"===N.tickmode){at.tickmode="linear",at.tick0=ge.start;var ct=ge.size,kt=c.constrain(je/50,4,15)+1,Dt=(ze[1]-ze[0])/((N.nticks||kt)*ct);if(Dt>1){var Et=Math.pow(10,Math.floor(Math.log(Dt)/Math.LN10));ct*=Et*c.roundUp(Dt/Et,[2,5,10]),(Math.abs(ge.start)/ge.size+1e-6)%1<2e-6&&(at.tick0=0)}at.dtick=ct}at.domain=X?[Ke+ee/Me.h,Ke+qe-ee/Me.h]:[Ke+Q/Me.w,Ke+qe-Q/Me.w],at.setScale(),L.attr("transform",i(Math.round(Me.l),Math.round(Me.t)));var ht,pt=L.select("."+A.cbtitleunshift).attr("transform",i(-Math.round(Me.l),-Math.round(Me.t))),Pt=at.ticklabelposition,zt=at.title.font.size,Ht=L.select("."+A.cbaxis),Lt=0,tt=0;function it(Je,ot){var gt={propContainer:at,propName:N._propPrefix+"title",traceIndex:N._traceIndex,_meta:N._meta,placeholder:pe._dfltTitle.colorbar,containerGroup:L.select("."+A.cbtitle)},ft="h"===Je.charAt(0)?Je.substr(1):"h"+Je;L.selectAll("."+ft+",."+ft+"-math-group").remove(),u.draw(j,Je,s(gt,ot||{}))}return c.syncOrAsync([f.previousPromises,function(){var Je,ot;(X&&mt||!X&&!mt)&&("top"===we&&(Je=Q+Me.l+ve*oe,ot=ee+Me.t+Oe*(1-Ke-qe)+3+.75*zt),"bottom"===we&&(Je=Q+Me.l+ve*oe,ot=ee+Me.t+Oe*(1-Ke)-3-.25*zt),"right"===we&&(ot=ee+Me.t+Oe*ce+3+.75*zt,Je=Q+Me.l+ve*Ke),it(at._id+"title",{attributes:{x:Je,y:ot,"text-anchor":X?"start":"middle"}}))},function(){if(!X&&!mt||X&&mt){var Je,ot=L.select("."+A.cbtitle),gt=ot.select("text"),ft=[-W/2,W/2],Ue=ot.select(".h"+at._id+"title-math-group").node(),$e=15.6;if(gt.node()&&($e=parseInt(gt.node().style.fontSize,10)*w),Ue?(Je=o.bBox(Ue),tt=Je.width,(Lt=Je.height)>$e&&(ft[1]-=(Lt-$e)/2)):gt.node()&&!gt.classed(A.jsPlaceholder)&&(Je=o.bBox(gt.node()),tt=Je.width,Lt=Je.height),X){if(Lt){if(Lt+=5,"top"===we)at.domain[1]-=Lt/Me.h,ft[1]*=-1;else{at.domain[0]+=Lt/Me.h;var dt=h.lineCount(gt);ft[1]+=(1-dt)*$e}ot.attr("transform",i(ft[0],ft[1])),at.setScale()}}else tt&&("right"===we&&(at.domain[0]+=(tt+zt/2)/Me.w),ot.attr("transform",i(ft[0],ft[1])),at.setScale())}L.selectAll("."+A.cbfills+",."+A.cblines).attr("transform",X?i(0,Math.round(Me.h*(1-at.domain[1]))):i(Math.round(Me.w*at.domain[0]),0)),Ht.attr("transform",X?i(0,Math.round(-Me.t)):i(Math.round(-Me.l),0));var ut=L.select("."+A.cbfills).selectAll("rect."+A.cbfill).attr("style","").data(_e);ut.enter().append("rect").classed(A.cbfill,!0).attr("style",""),ut.exit().remove();var At=ze.map(at.c2p).map(Math.round).sort(function(bt,Tt){return bt-Tt});ut.each(function(bt,Tt){var It=[0===Tt?ze[0]:(_e[Tt]+_e[Tt-1])/2,Tt===_e.length-1?ze[1]:(_e[Tt]+_e[Tt+1])/2].map(at.c2p).map(Math.round);X&&(It[1]=c.constrain(It[1]+(It[1]>It[0])?1:-1,At[0],At[1]));var Wt=D.select(this).attr(X?"x":"y",ke).attr(X?"y":"x",D.min(It)).attr(X?"width":"height",Math.max(Ie,2)).attr(X?"height":"width",Math.max(D.max(It)-D.min(It),2));if(N._fillgradient)o.gradient(Wt,j,N._id,X?"vertical":"horizontalreversed",N._fillgradient,"fill");else{var $t=Ce(bt).replace("e-","");Wt.attr("fill",E($t).toHexString())}});var wt=L.select("."+A.cblines).selectAll("path."+A.cbline).data(be.color&&be.width?Le:[]);wt.enter().append("path").classed(A.cbline,!0),wt.exit().remove(),wt.each(function(bt){var Tt=ke,It=Math.round(at.c2p(bt))+be.width/2%1;D.select(this).attr("d","M"+(X?Tt+","+It:It+","+Tt)+(X?"h":"v")+Ie).call(o.lineGroupStyle,be.width,Se(bt),be.dash)}),Ht.selectAll("g."+at._id+"tick,path").remove();var St=ke+Ie+(W||0)/2-("outside"===N.ticks?1:0),_t=M.calcTicks(at),Rt=M.getTickSigns(at)[2];return M.drawTicks(j,at,{vals:"inside"===at.ticks?M.clipEnds(at,_t):_t,layer:Ht,path:M.makeTickPath(at,St,Rt),transFn:M.makeTransTickFn(at)}),M.drawLabels(j,at,{vals:_t,layer:Ht,transFn:M.makeTransTickLabelFn(at),labelFns:M.makeLabelFns(at,St)})},function(){if(X&&!mt||!X&&mt){var Je,ot,gt=at.position||0,ft=at._offset+at._length/2;if("right"===we)ot=ft,Je=Me.l+ve*gt+10+zt*(at.showticklabels?1:.5);else if(Je=ft,"bottom"===we&&(ot=Me.t+Oe*gt+10+(-1===Pt.indexOf("inside")?at.tickfont.size:0)+("intside"!==at.ticks&&N.ticklen||0)),"top"===we){var Ue=ye.text.split("<br>").length;ot=Me.t+Oe*gt+10-Ie-w*zt*Ue}it((X?"h":"v")+at._id+"title",{avoid:{selection:D.select(j).selectAll("g."+at._id+"tick"),side:we,offsetTop:X?0:Me.t,offsetLeft:X?Me.l:0,maxShift:X?pe.width:pe.height},attributes:{x:Je,y:ot,"text-anchor":"middle"},transform:{rotate:X?-90:0,offset:0}})}},f.previousPromises,function(){var Je,ot=Ie+W/2;-1===Pt.indexOf("inside")&&(Je=o.bBox(Ht.node()),ot+=X?Je.width:Je.height),ht=pt.select("text");var gt=0,ft=X&&"top"===we,Ue=!X&&"right"===we,$e=0;if(ht.node()&&!ht.classed(A.jsPlaceholder)){var dt,ut=pt.select(".h"+at._id+"title-math-group").node();ut&&(X&&mt||!X&&!mt)?(gt=(Je=o.bBox(ut)).width,dt=Je.height):(gt=(Je=o.bBox(pt.node())).right-Me.l-(X?ke:et),dt=Je.bottom-Me.t-(X?et:ke),X||"top"!==we||(ot+=Je.height,$e=Je.height)),Ue&&(ht.attr("transform",i(gt/2+zt/2,0)),gt*=2),ot=Math.max(ot,X?gt:dt)}var At=2*(X?Q:ee)+ot+Z+W/2,wt=0;!X&&ye.text&&"bottom"===ne&&ce<=0&&(At+=wt=At/2,$e+=wt),pe._hColorbarMoveTitle=wt,pe._hColorbarMoveCBTitle=$e;var St=Z+W,_t=(X?ke:et)-St/2-(X?Q:0),Rt=(X?et:ke)-(X?je:ee+$e-wt);L.select("."+A.cbbg).attr("x",_t).attr("y",Rt).attr(X?"width":"height",Math.max(At-wt,2)).attr(X?"height":"width",Math.max(je+St,2)).call(l.fill,se).call(l.stroke,N.bordercolor).style("stroke-width",Z);var bt=Ue?Math.max(gt-10,0):0;L.selectAll("."+A.cboutline).attr("x",(X?ke:et+Q)+bt).attr("y",(X?et+ee-je:ke)+(ft?Lt:0)).attr(X?"width":"height",Math.max(Ie,2)).attr(X?"height":"width",Math.max(je-(X?2*ee+Lt:2*Q+bt),2)).call(l.stroke,N.outlinecolor).style({fill:"none","stroke-width":W});var Tt=X?Be*At:0,It=X?0:(1-We)*At-$e;if(L.attr("transform",i(Tt=le?Me.l-Tt:-Tt,It=fe?Me.t-It:-It)),!X&&(Z||E(se).getAlpha()&&!E.equals(pe.paper_bgcolor,se))){var Wt=Ht.selectAll("text"),$t=Wt[0].length,Qt=L.select("."+A.cbbg).node(),pn=o.bBox(Qt),en=o.getTranslate(L);Wt.each(function(kn,xn){var Rn=$t-1;if(0===xn||xn===Rn){var Hn,En=o.bBox(this),Wn=o.getTranslate(this);xn===Rn?(Hn=pn.right+en.x+et-Z-2+oe-(En.right+Wn.x))>0&&(Hn=0):0===xn&&(Hn=pn.left+en.x+et+Z+2-(En.left+Wn.x))<0&&(Hn=0),Hn&&($t<3?this.setAttribute("transform","translate("+Hn+",0) "+this.getAttribute("transform")):this.setAttribute("visibility","hidden"))}})}var nn={},fn=x[re],On=b[re],Un=x[ne],Sn=b[ne],on=At-Ie;X?("pixels"===Y?(nn.y=ce,nn.t=je*Un,nn.b=je*Sn):(nn.t=nn.b=0,nn.yt=ce+F*Un,nn.yb=ce-F*Sn),"pixels"===H?(nn.x=oe,nn.l=At*fn,nn.r=At*On):(nn.l=on*fn,nn.r=on*On,nn.xl=oe-G*fn,nn.xr=oe+G*On)):("pixels"===Y?(nn.x=oe,nn.l=je*fn,nn.r=je*On):(nn.l=nn.r=0,nn.xl=oe+F*fn,nn.xr=oe-F*On),"pixels"===H?(nn.y=1-ce,nn.t=At*Un,nn.b=At*Sn):(nn.t=on*Un,nn.b=on*Sn,nn.yt=ce-G*Un,nn.yb=ce+G*Sn));var vn=N.y<.5?"b":"t",un=N.x<.5?"l":"r";j._fullLayout._reservedMargin[N._id]={};var Tn={r:pe.width-_t-Tt,l:_t+nn.r,b:pe.height-Rt-It,t:Rt+nn.b};le&&fe?f.autoMargin(j,N._id,nn):le?j._fullLayout._reservedMargin[N._id][vn]=Tn[vn]:fe||X?j._fullLayout._reservedMargin[N._id][un]=Tn[un]:j._fullLayout._reservedMargin[N._id][vn]=Tn[vn]}],j)}(O,S,g);R&&R.then&&(g._promises||[]).push(R),g._context.edits.colorbarPosition&&(G="v"===(N=S).orientation,H=(j=g)._fullLayout._size,y.init({element:(L=O).node(),gd:j,prepFn:function(){X=L.attr("transform"),a(L)},moveFn:function(W,Z){L.attr("transform",X+i(W,Z)),F=y.align((G?N._uFrac:N._vFrac)+W/H.w,G?N._thickFrac:N._lenFrac,0,1,N.xanchor),Y=y.align((G?N._vFrac:1-N._uFrac)-Z/H.h,G?N._lenFrac:N._thickFrac,0,1,N.yanchor);var se=y.getCursor(F,Y,N.xanchor,N.yanchor);a(L,se)},doneFn:function(){if(a(L),void 0!==F&&void 0!==Y){var W={};W[N._propPrefix+"x"]=F,W[N._propPrefix+"y"]=Y,void 0!==N._traceIndex?k.call("_guiRestyle",j,W,N._traceIndex):k.call("_guiRelayout",j,W)}}}))}),I.exit().each(function(S){f.autoMargin(g,S._id)}).remove(),I.order()}}},76228:function(ae,B,r){"use strict";var D=r(71828);ae.exports=function(E){return D.isPlainObject(E.colorbar)}},12311:function(ae,B,r){"use strict";ae.exports={moduleType:"component",name:"colorbar",attributes:r(63583),supplyDefaults:r(62499),draw:r(98981).draw,hasColorbar:r(76228)}},50693:function(ae,B,r){"use strict";var D=r(63583),E=r(30587).counter,f=r(78607),k=r(63282).scales;function M(y){return"`"+y+"`"}f(k),ae.exports=function(y,c){y=y||"";var i,s=(c=c||{}).cLetter||"c",a="noScale"in c?c.noScale:"marker.line"===y,o="showScaleDflt"in c?c.showScaleDflt:"z"===s,l="string"==typeof c.colorscaleDflt?k[c.colorscaleDflt]:null,u=c.editTypeOverride||"",h=y?y+".":"";"colorAttr"in c?i=c.colorAttr:M(h+(i={z:"z",c:"color"}[s]));var v=s+"auto",p=s+"min",T=s+"max",_=s+"mid",m=(M(h+v),M(h+p),M(h+T),{});m[p]=m[T]=void 0;var w={};w[v]=!1;var x={};return"color"===i&&(x.color={valType:"color",arrayOk:!0,editType:u||"style"},c.anim&&(x.color.anim=!0)),x[v]={valType:"boolean",dflt:!0,editType:"calc",impliedEdits:m},x[p]={valType:"number",dflt:null,editType:u||"plot",impliedEdits:w},x[T]={valType:"number",dflt:null,editType:u||"plot",impliedEdits:w},x[_]={valType:"number",dflt:null,editType:"calc",impliedEdits:m},x.colorscale={valType:"colorscale",editType:"calc",dflt:l,impliedEdits:{autocolorscale:!1}},x.autocolorscale={valType:"boolean",dflt:!1!==c.autoColorDflt,editType:"calc",impliedEdits:{colorscale:void 0}},x.reversescale={valType:"boolean",dflt:!1,editType:"plot"},a||(x.showscale={valType:"boolean",dflt:o,editType:"calc"},x.colorbar=D),c.noColorAxis||(x.coloraxis={valType:"subplotid",regex:E("coloraxis"),dflt:null,editType:"calc"}),x}},78803:function(ae,B,r){"use strict";var D=r(92770),E=r(71828),f=r(52075).extractOpts;ae.exports=function(k,M,y){var i=k._fullLayout,s=y.vals,a=y.containerStr,o=a?E.nestedProperty(M,a).get():M,l=f(o),u=!1!==l.auto,h=l.min,v=l.max,p=l.mid,T=function(){return E.aggNums(Math.min,null,s)},_=function(){return E.aggNums(Math.max,null,s)};void 0===h?h=T():u&&(h=o._colorAx&&D(h)?Math.min(h,T()):T()),void 0===v?v=_():u&&(v=o._colorAx&&D(v)?Math.max(v,_()):_()),u&&void 0!==p&&(v-p>p-h?h=p-(v-p):v-p<p-h&&(v=p+(p-h))),h===v&&(h-=.5,v+=.5),l._sync("min",h),l._sync("max",v),l.autocolorscale&&l._sync("colorscale",h*v<0?i.colorscale.diverging:h>=0?i.colorscale.sequential:i.colorscale.sequentialminus)}},33046:function(ae,B,r){"use strict";var D=r(71828),E=r(52075).hasColorscale,f=r(52075).extractOpts;ae.exports=function(k,M){function y(u,h){var v=u["_"+h];void 0!==v&&(u[h]=v)}function c(u,h){var v=h.container?D.nestedProperty(u,h.container).get():u;if(v)if(v.coloraxis)v._colorAx=M[v.coloraxis];else{var p=f(v),T=p.auto;(T||void 0===p.min)&&y(v,h.min),(T||void 0===p.max)&&y(v,h.max),p.autocolorscale&&y(v,"colorscale")}}for(var i=0;i<k.length;i++){var s=k[i],a=s._module.colorbar;if(a)if(Array.isArray(a))for(var o=0;o<a.length;o++)c(s,a[o]);else c(s,a);E(s,"marker.line")&&c(s,{container:"marker.line",min:"cmin",max:"cmax"})}for(var l in M._colorAxes)c(M[l],{min:"cmin",max:"cmax"})}},1586:function(ae,B,r){"use strict";var D=r(92770),E=r(71828),f=r(76228),k=r(62499),M=r(63282).isValid,y=r(73972).traceIs;function c(i,s){var a=s.slice(0,s.length-1);return s?E.nestedProperty(i,a).get()||{}:i}ae.exports=function i(s,a,o,l,u){var h=u.prefix,v=u.cLetter,p="_module"in a,T=c(s,h),_=c(a,h),m=c(a._template||{},h)||{},w=function(){return delete s.coloraxis,delete a.coloraxis,i(s,a,o,l,u)};if(p){var x=o._colorAxes||{},b=l(h+"coloraxis");if(b){var A=y(a,"contour")&&E.nestedProperty(a,"contours.coloring").get()||"heatmap",g=x[b];return void(g?(g[2].push(w),g[0]!==A&&(g[0]=!1,E.warn(["Ignoring coloraxis:",b,"setting","as it is linked to incompatible colorscales."].join(" ")))):x[b]=[A,a,[w]])}}var I=T[v+"min"],S=T[v+"max"],O=D(I)&&D(S)&&I<S;l(h+v+"auto",!O)?l(h+v+"mid"):(l(h+v+"min"),l(h+v+"max"));var R,L,N=T.colorscale,j=m.colorscale;void 0!==N&&(R=!M(N)),void 0!==j&&(R=!M(j)),l(h+"autocolorscale",R),l(h+"colorscale"),l(h+"reversescale"),"marker.line."!==h&&(h&&p&&(L=f(T)),l(h+"showscale",L)&&(h&&m&&(_._template=m),k(T,_,o)))}},52075:function(ae,B,r){"use strict";var D=r(39898),E=r(84267),f=r(92770),k=r(71828),M=r(7901),y=r(63282).isValid,c=["showscale","autocolorscale","colorscale","reversescale","colorbar"],i=["min","max","mid","auto"];function s(h){var v,p,T,_=h._colorAx,m=_||h,w={};for(p=0;p<c.length;p++)w[T=c[p]]=m[T];if(_)for(v="c",p=0;p<i.length;p++)w[T=i[p]]=m["c"+T];else{var x;for(p=0;p<i.length;p++)((x="c"+(T=i[p]))in m||(x="z"+T)in m)&&(w[T]=m[x]);v=x.charAt(0)}return w._sync=function(b,A){var g=-1!==i.indexOf(b)?v+b:b;m[g]=m["_"+g]=A},w}function a(h){for(var v=s(h),p=v.min,T=v.max,_=v.reversescale?o(v.colorscale):v.colorscale,m=_.length,w=new Array(m),x=new Array(m),b=0;b<m;b++){var A=_[b];w[b]=p+A[0]*(T-p),x[b]=A[1]}return{domain:w,range:x}}function o(h){for(var v=h.length,p=new Array(v),T=v-1,_=0;T>=0;T--,_++){var m=h[T];p[_]=[1-m[0],m[1]]}return p}function l(h,v){v=v||{};for(var p=h.domain,T=h.range,_=T.length,m=new Array(_),w=0;w<_;w++){var x=E(T[w]).toRgb();m[w]=[x.r,x.g,x.b,x.a]}var b,A=D.scale.linear().domain(p).range(m).clamp(!0),g=v.noNumericCheck,I=v.returnArray;return(b=g&&I?A:g?function(S){return u(A(S))}:I?function(S){return f(S)?A(S):E(S).isValid()?S:M.defaultLine}:function(S){return f(S)?u(A(S)):E(S).isValid()?S:M.defaultLine}).domain=A.domain,b.range=function(){return T},b}function u(h){return E({r:h[0],g:h[1],b:h[2],a:h[3]}).toRgbString()}ae.exports={hasColorscale:function(h,v,p){var T=v?k.nestedProperty(h,v).get()||{}:h,_=T[p||"color"],m=!1;if(k.isArrayOrTypedArray(_))for(var w=0;w<_.length;w++)if(f(_[w])){m=!0;break}return k.isPlainObject(T)&&(m||!0===T.showscale||f(T.cmin)&&f(T.cmax)||y(T.colorscale)||k.isPlainObject(T.colorbar))},extractOpts:s,extractScale:a,flipScale:o,makeColorScaleFunc:l,makeColorScaleFuncFromTrace:function(h,v){return l(a(h),v)}}},21081:function(ae,B,r){"use strict";var D=r(63282),E=r(52075);ae.exports={moduleType:"component",name:"colorscale",attributes:r(50693),layoutAttributes:r(72673),supplyLayoutDefaults:r(30959),handleDefaults:r(1586),crossTraceDefaults:r(33046),calc:r(78803),scales:D.scales,defaultScale:D.defaultScale,getScale:D.get,isValidScale:D.isValid,hasColorscale:E.hasColorscale,extractOpts:E.extractOpts,extractScale:E.extractScale,flipScale:E.flipScale,makeColorScaleFunc:E.makeColorScaleFunc,makeColorScaleFuncFromTrace:E.makeColorScaleFuncFromTrace}},72673:function(ae,B,r){"use strict";var D=r(1426).extendFlat,E=r(50693),f=r(63282).scales;ae.exports={editType:"calc",colorscale:{editType:"calc",sequential:{valType:"colorscale",dflt:f.Reds,editType:"calc"},sequentialminus:{valType:"colorscale",dflt:f.Blues,editType:"calc"},diverging:{valType:"colorscale",dflt:f.RdBu,editType:"calc"}},coloraxis:D({_isSubplotObj:!0,editType:"calc"},E("",{colorAttr:"corresponding trace color array(s)",noColorAxis:!0,showScaleDflt:!0}))}},30959:function(ae,B,r){"use strict";var D=r(71828),E=r(44467),f=r(72673),k=r(1586);ae.exports=function(M,y){function c(v,p){return D.coerce(M,y,f,v,p)}c("colorscale.sequential"),c("colorscale.sequentialminus"),c("colorscale.diverging");var i,s,a=y._colorAxes;function o(v,p){return D.coerce(i,s,f.coloraxis,v,p)}for(var l in a){var u=a[l];if(u[0])i=M[l]||{},(s=E.newContainer(y,l,"coloraxis"))._name=l,k(i,s,y,o,{prefix:"",cLetter:"c"});else{for(var h=0;h<u[2].length;h++)u[2][h]();delete y._colorAxes[l]}}}},63282:function(ae,B,r){"use strict";var D=r(84267),E={Greys:[[0,"rgb(0,0,0)"],[1,"rgb(255,255,255)"]],YlGnBu:[[0,"rgb(8,29,88)"],[.125,"rgb(37,52,148)"],[.25,"rgb(34,94,168)"],[.375,"rgb(29,145,192)"],[.5,"rgb(65,182,196)"],[.625,"rgb(127,205,187)"],[.75,"rgb(199,233,180)"],[.875,"rgb(237,248,217)"],[1,"rgb(255,255,217)"]],Greens:[[0,"rgb(0,68,27)"],[.125,"rgb(0,109,44)"],[.25,"rgb(35,139,69)"],[.375,"rgb(65,171,93)"],[.5,"rgb(116,196,118)"],[.625,"rgb(161,217,155)"],[.75,"rgb(199,233,192)"],[.875,"rgb(229,245,224)"],[1,"rgb(247,252,245)"]],YlOrRd:[[0,"rgb(128,0,38)"],[.125,"rgb(189,0,38)"],[.25,"rgb(227,26,28)"],[.375,"rgb(252,78,42)"],[.5,"rgb(253,141,60)"],[.625,"rgb(254,178,76)"],[.75,"rgb(254,217,118)"],[.875,"rgb(255,237,160)"],[1,"rgb(255,255,204)"]],Bluered:[[0,"rgb(0,0,255)"],[1,"rgb(255,0,0)"]],RdBu:[[0,"rgb(5,10,172)"],[.35,"rgb(106,137,247)"],[.5,"rgb(190,190,190)"],[.6,"rgb(220,170,132)"],[.7,"rgb(230,145,90)"],[1,"rgb(178,10,28)"]],Reds:[[0,"rgb(220,220,220)"],[.2,"rgb(245,195,157)"],[.4,"rgb(245,160,105)"],[1,"rgb(178,10,28)"]],Blues:[[0,"rgb(5,10,172)"],[.35,"rgb(40,60,190)"],[.5,"rgb(70,100,245)"],[.6,"rgb(90,120,245)"],[.7,"rgb(106,137,247)"],[1,"rgb(220,220,220)"]],Picnic:[[0,"rgb(0,0,255)"],[.1,"rgb(51,153,255)"],[.2,"rgb(102,204,255)"],[.3,"rgb(153,204,255)"],[.4,"rgb(204,204,255)"],[.5,"rgb(255,255,255)"],[.6,"rgb(255,204,255)"],[.7,"rgb(255,153,255)"],[.8,"rgb(255,102,204)"],[.9,"rgb(255,102,102)"],[1,"rgb(255,0,0)"]],Rainbow:[[0,"rgb(150,0,90)"],[.125,"rgb(0,0,200)"],[.25,"rgb(0,25,255)"],[.375,"rgb(0,152,255)"],[.5,"rgb(44,255,150)"],[.625,"rgb(151,255,0)"],[.75,"rgb(255,234,0)"],[.875,"rgb(255,111,0)"],[1,"rgb(255,0,0)"]],Portland:[[0,"rgb(12,51,131)"],[.25,"rgb(10,136,186)"],[.5,"rgb(242,211,56)"],[.75,"rgb(242,143,56)"],[1,"rgb(217,30,30)"]],Jet:[[0,"rgb(0,0,131)"],[.125,"rgb(0,60,170)"],[.375,"rgb(5,255,255)"],[.625,"rgb(255,255,0)"],[.875,"rgb(250,0,0)"],[1,"rgb(128,0,0)"]],Hot:[[0,"rgb(0,0,0)"],[.3,"rgb(230,0,0)"],[.6,"rgb(255,210,0)"],[1,"rgb(255,255,255)"]],Blackbody:[[0,"rgb(0,0,0)"],[.2,"rgb(230,0,0)"],[.4,"rgb(230,210,0)"],[.7,"rgb(255,255,255)"],[1,"rgb(160,200,255)"]],Earth:[[0,"rgb(0,0,130)"],[.1,"rgb(0,180,180)"],[.2,"rgb(40,210,40)"],[.4,"rgb(230,230,50)"],[.6,"rgb(120,70,20)"],[1,"rgb(255,255,255)"]],Electric:[[0,"rgb(0,0,0)"],[.15,"rgb(30,0,100)"],[.4,"rgb(120,0,100)"],[.6,"rgb(160,90,0)"],[.8,"rgb(230,200,0)"],[1,"rgb(255,250,220)"]],Viridis:[[0,"#440154"],[.06274509803921569,"#48186a"],[.12549019607843137,"#472d7b"],[.18823529411764706,"#424086"],[.25098039215686274,"#3b528b"],[.3137254901960784,"#33638d"],[.3764705882352941,"#2c728e"],[.4392156862745098,"#26828e"],[.5019607843137255,"#21918c"],[.5647058823529412,"#1fa088"],[.6274509803921569,"#28ae80"],[.6901960784313725,"#3fbc73"],[.7529411764705882,"#5ec962"],[.8156862745098039,"#84d44b"],[.8784313725490196,"#addc30"],[.9411764705882353,"#d8e219"],[1,"#fde725"]],Cividis:[[0,"rgb(0,32,76)"],[.058824,"rgb(0,42,102)"],[.117647,"rgb(0,52,110)"],[.176471,"rgb(39,63,108)"],[.235294,"rgb(60,74,107)"],[.294118,"rgb(76,85,107)"],[.352941,"rgb(91,95,109)"],[.411765,"rgb(104,106,112)"],[.470588,"rgb(117,117,117)"],[.529412,"rgb(131,129,120)"],[.588235,"rgb(146,140,120)"],[.647059,"rgb(161,152,118)"],[.705882,"rgb(176,165,114)"],[.764706,"rgb(192,177,109)"],[.823529,"rgb(209,191,102)"],[.882353,"rgb(225,204,92)"],[.941176,"rgb(243,219,79)"],[1,"rgb(255,233,69)"]]},f=E.RdBu;function k(M){var y=0;if(!Array.isArray(M)||M.length<2||!M[0]||!M[M.length-1]||0!=+M[0][0]||1!=+M[M.length-1][0])return!1;for(var c=0;c<M.length;c++){var i=M[c];if(2!==i.length||+i[0]<y||!D(i[1]).isValid())return!1;y=+i[0]}return!0}ae.exports={scales:E,defaultScale:f,get:function(M,y){if(y||(y=f),!M)return y;function c(){try{M=E[M]||JSON.parse(M)}catch{M=y}}return"string"==typeof M&&(c(),"string"==typeof M&&c()),k(M)?M:y},isValid:function(M){return void 0!==E[M]||k(M)}}},92807:function(ae){"use strict";ae.exports=function(B,r,D,E,f){var k=(B-D)/(E-D),M=k+r/(E-D),y=(k+M)/2;return"left"===f||"bottom"===f?k:"center"===f||"middle"===f?y:"right"===f||"top"===f?M:k<.6666666666666666-y?k:M>1.3333333333333333-y?M:y}},70461:function(ae,B,r){"use strict";var D=r(71828),E=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];ae.exports=function(f,k,M,y){return f="left"===M?0:"center"===M?1:"right"===M?2:D.constrain(Math.floor(3*f),0,2),k="bottom"===y?0:"middle"===y?1:"top"===y?2:D.constrain(Math.floor(3*k),0,2),E[k][f]}},64505:function(ae,B){"use strict";B.selectMode=function(r){return"lasso"===r||"select"===r},B.drawMode=function(r){return"drawclosedpath"===r||"drawopenpath"===r||"drawline"===r||"drawrect"===r||"drawcircle"===r},B.openMode=function(r){return"drawline"===r||"drawopenpath"===r},B.rectMode=function(r){return"select"===r||"drawline"===r||"drawrect"===r||"drawcircle"===r},B.freeMode=function(r){return"lasso"===r||"drawclosedpath"===r||"drawopenpath"===r},B.selectingOrDrawing=function(r){return B.freeMode(r)||B.rectMode(r)}},28569:function(ae,B,r){"use strict";var D=r(48956),E=r(57035),f=r(38520),k=r(71828).removeElement,M=r(85555),y=ae.exports={};y.align=r(92807),y.getCursor=r(70461);var c=r(26041);function i(){var a=document.createElement("div");a.className="dragcover";var o=a.style;return o.position="fixed",o.left=0,o.right=0,o.top=0,o.bottom=0,o.zIndex=999999999,o.background="none",document.body.appendChild(a),a}function s(a){return D(a.changedTouches?a.changedTouches[0]:a,document.body)}y.unhover=c.wrapped,y.unhoverRaw=c.raw,y.init=function(a){var o,l,u,h,v,p,T,_,m=a.gd,w=1,x=m._context.doubleClickDelay,b=a.element;m._mouseDownTime||(m._mouseDownTime=0),b.style.pointerEvents="all",b.onmousedown=g,f?(b._ontouchstart&&b.removeEventListener("touchstart",b._ontouchstart),b._ontouchstart=g,b.addEventListener("touchstart",g,{passive:!1})):b.ontouchstart=g;var A=a.clampFn||function(O,R,L){return Math.abs(O)<L&&(O=0),Math.abs(R)<L&&(R=0),[O,R]};function g(O){m._dragged=!1,m._dragging=!0;var R=s(O);o=R[0],l=R[1],T=O.target,p=O,_=2===O.buttons||O.ctrlKey,void 0===O.clientX&&void 0===O.clientY&&(O.clientX=o,O.clientY=l),(u=(new Date).getTime())-m._mouseDownTime<x?w+=1:(w=1,m._mouseDownTime=u),a.prepFn&&a.prepFn(O,o,l),E&&!_?(v=i()).style.cursor=window.getComputedStyle(b).cursor:E||(v=document,h=window.getComputedStyle(document.documentElement).cursor,document.documentElement.style.cursor=window.getComputedStyle(b).cursor),document.addEventListener("mouseup",S),document.addEventListener("touchend",S),!1!==a.dragmode&&(O.preventDefault(),document.addEventListener("mousemove",I),document.addEventListener("touchmove",I,{passive:!1}))}function I(O){O.preventDefault();var R=s(O),N=A(R[0]-o,R[1]-l,a.minDrag||M.MINDRAG),j=N[0],X=N[1];(j||X)&&(m._dragged=!0,y.unhover(m,O)),m._dragged&&a.moveFn&&!_&&(m._dragdata={element:b,dx:j,dy:X},a.moveFn(j,X))}function S(O){if(delete m._dragdata,!1!==a.dragmode&&(O.preventDefault(),document.removeEventListener("mousemove",I),document.removeEventListener("touchmove",I)),document.removeEventListener("mouseup",S),document.removeEventListener("touchend",S),E?k(v):h&&(v.documentElement.style.cursor=h,h=null),m._dragging){if(m._dragging=!1,(new Date).getTime()-m._mouseDownTime>x&&(w=Math.max(w-1,1)),m._dragged)a.doneFn&&a.doneFn();else if(a.clickFn&&a.clickFn(w,p),!_){var R;try{R=new MouseEvent("click",O)}catch{var L=s(O);(R=document.createEvent("MouseEvents")).initMouseEvent("click",O.bubbles,O.cancelable,O.view,O.detail,O.screenX,O.screenY,L[0],L[1],O.ctrlKey,O.altKey,O.shiftKey,O.metaKey,O.button,O.relatedTarget)}T.dispatchEvent(R)}m._dragging=!1,m._dragged=!1}else m._dragged=!1}},y.coverSlip=i},26041:function(ae,B,r){"use strict";var D=r(11086),E=r(79990),f=r(24401).getGraphDiv,k=r(26675),M=ae.exports={};M.wrapped=function(y,c,i){(y=f(y))._fullLayout&&E.clear(y._fullLayout._uid+k.HOVERID),M.raw(y,c,i)},M.raw=function(y,c){var i=y._fullLayout,s=y._hoverdata;c||(c={}),c.target&&!y._dragged&&!1===D.triggerHandler(y,"plotly_beforehover",c)||(i._hoverlayer.selectAll("g").remove(),i._hoverlayer.selectAll("line").remove(),i._hoverlayer.selectAll("circle").remove(),y._hoverdata=void 0,c.target&&s&&y.emit("plotly_unhover",{event:c,points:s}))}},79952:function(ae,B){"use strict";B.P={valType:"string",values:["solid","dot","dash","longdash","dashdot","longdashdot"],dflt:"solid",editType:"style"},B.u={shape:{valType:"enumerated",values:["","/","\\","x","-","|","+","."],dflt:"",arrayOk:!0,editType:"style"},fillmode:{valType:"enumerated",values:["replace","overlay"],dflt:"replace",editType:"style"},bgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgopacity:{valType:"number",editType:"style",min:0,max:1},size:{valType:"number",min:0,dflt:8,arrayOk:!0,editType:"style"},solidity:{valType:"number",min:0,max:1,dflt:.3,arrayOk:!0,editType:"style"},editType:"style"}},91424:function(ae,B,r){"use strict";var D=r(39898),E=r(71828),f=E.numberFormat,k=r(92770),M=r(84267),y=r(73972),c=r(7901),i=r(21081),s=E.strTranslate,a=r(63893),o=r(77922),l=r(18783).LINE_SPACING,u=r(37822).DESELECTDIM,h=r(34098),v=r(39984),p=r(23469).appendArrayPointValue,T=ae.exports={};function _(Se,Ce,ge){var he=Ce.fillpattern,_e=he&&T.getPatternAttr(he.shape,0,"");if(_e){var Le=T.getPatternAttr(he.bgcolor,0,null),Ie=T.getPatternAttr(he.fgcolor,0,null),De=he.fgopacity,je=T.getPatternAttr(he.size,0,8),qe=T.getPatternAttr(he.solidity,0,.3);T.pattern(Se,"point",ge,Ce.uid,_e,je,qe,void 0,he.fillmode,Le,Ie,De)}else Ce.fillcolor&&Se.call(c.fill,Ce.fillcolor)}T.font=function(Se,Ce,ge,he){E.isPlainObject(Ce)&&(he=Ce.color,ge=Ce.size,Ce=Ce.family),Ce&&Se.style("font-family",Ce),ge+1&&Se.style("font-size",ge+"px"),he&&Se.call(c.fill,he)},T.setPosition=function(Se,Ce,ge){Se.attr("x",Ce).attr("y",ge)},T.setSize=function(Se,Ce,ge){Se.attr("width",Ce).attr("height",ge)},T.setRect=function(Se,Ce,ge,he,_e){Se.call(T.setPosition,Ce,ge).call(T.setSize,he,_e)},T.translatePoint=function(Se,Ce,ge,he){var _e=ge.c2p(Se.x),Le=he.c2p(Se.y);return!!(k(_e)&&k(Le)&&Ce.node())&&("text"===Ce.node().nodeName?Ce.attr("x",_e).attr("y",Le):Ce.attr("transform",s(_e,Le)),!0)},T.translatePoints=function(Se,Ce,ge){Se.each(function(he){var _e=D.select(this);T.translatePoint(he,_e,Ce,ge)})},T.hideOutsideRangePoint=function(Se,Ce,ge,he,_e,Le){Ce.attr("display",ge.isPtWithinRange(Se,_e)&&he.isPtWithinRange(Se,Le)?null:"none")},T.hideOutsideRangePoints=function(Se,Ce){if(Ce._hasClipOnAxisFalse){var ge=Ce.xaxis,he=Ce.yaxis;Se.each(function(_e){var Le=_e[0].trace,Ie=Le.xcalendar,De=Le.ycalendar,je=y.traceIs(Le,"bar-like")?".bartext":".point,.textpoint";Se.selectAll(je).each(function(qe){T.hideOutsideRangePoint(qe,D.select(this),ge,he,Ie,De)})})}},T.crispRound=function(Se,Ce,ge){return Ce&&k(Ce)?Se._context.staticPlot?Ce:Ce<1?1:Math.round(Ce):ge||0},T.singleLineStyle=function(Se,Ce,ge,he,_e){Ce.style("fill","none");var Le=(((Se||[])[0]||{}).trace||{}).line||{},Ie=ge||Le.width||0,De=_e||Le.dash||"";c.stroke(Ce,he||Le.color),T.dashLine(Ce,De,Ie)},T.lineGroupStyle=function(Se,Ce,ge,he){Se.style("fill","none").each(function(_e){var Le=(((_e||[])[0]||{}).trace||{}).line||{},Ie=Ce||Le.width||0,De=he||Le.dash||"";D.select(this).call(c.stroke,ge||Le.color).call(T.dashLine,De,Ie)})},T.dashLine=function(Se,Ce,ge){Ce=T.dashStyle(Ce,ge=+ge||0),Se.style({"stroke-dasharray":Ce,"stroke-width":ge+"px"})},T.dashStyle=function(Se,Ce){Ce=+Ce||1;var ge=Math.max(Ce,3);return"solid"===Se?Se="":"dot"===Se?Se=ge+"px,"+ge+"px":"dash"===Se?Se=3*ge+"px,"+3*ge+"px":"longdash"===Se?Se=5*ge+"px,"+5*ge+"px":"dashdot"===Se?Se=3*ge+"px,"+ge+"px,"+ge+"px,"+ge+"px":"longdashdot"===Se&&(Se=5*ge+"px,"+2*ge+"px,"+ge+"px,"+2*ge+"px"),Se},T.singleFillStyle=function(Se,Ce){var ge=D.select(Se.node());_(Se,((ge.data()[0]||[])[0]||{}).trace||{},Ce)},T.fillGroupStyle=function(Se,Ce){Se.style("stroke-width",0).each(function(ge){var he=D.select(this);ge[0].trace&&_(he,ge[0].trace,Ce)})};var m=r(90998);T.symbolNames=[],T.symbolFuncs=[],T.symbolBackOffs=[],T.symbolNeedLines={},T.symbolNoDot={},T.symbolNoFill={},T.symbolList=[],Object.keys(m).forEach(function(Se){var Ce=m[Se],ge=Ce.n;T.symbolList.push(ge,String(ge),Se,ge+100,String(ge+100),Se+"-open"),T.symbolNames[ge]=Se,T.symbolFuncs[ge]=Ce.f,T.symbolBackOffs[ge]=Ce.backoff||0,Ce.needLine&&(T.symbolNeedLines[ge]=!0),Ce.noDot?T.symbolNoDot[ge]=!0:T.symbolList.push(ge+200,String(ge+200),Se+"-dot",ge+300,String(ge+300),Se+"-open-dot"),Ce.noFill&&(T.symbolNoFill[ge]=!0)});var w=T.symbolNames.length;function x(Se,Ce,ge,he){return T.symbolFuncs[Se%100](Ce,ge,he)+(Se>=200?"M0,0.5L0.5,0L0,-0.5L-0.5,0Z":"")}T.symbolNumber=function(Se){if(k(Se))Se=+Se;else if("string"==typeof Se){var Ce=0;Se.indexOf("-open")>0&&(Ce=100,Se=Se.replace("-open","")),Se.indexOf("-dot")>0&&(Ce+=200,Se=Se.replace("-dot","")),(Se=T.symbolNames.indexOf(Se))>=0&&(Se+=Ce)}return Se%100>=w||Se>=400?0:Math.floor(Math.max(Se,0))};var b={x1:1,x2:0,y1:0,y2:0},A={x1:0,x2:0,y1:1,y2:0},g=f("~f"),I={radial:{node:"radialGradient"},radialreversed:{node:"radialGradient",reversed:!0},horizontal:{node:"linearGradient",attrs:b},horizontalreversed:{node:"linearGradient",attrs:b,reversed:!0},vertical:{node:"linearGradient",attrs:A},verticalreversed:{node:"linearGradient",attrs:A,reversed:!0}};T.gradient=function(Se,Ce,ge,he,_e,Le){for(var Ie=_e.length,De=I[he],je=new Array(Ie),qe=0;qe<Ie;qe++)De.reversed?je[Ie-1-qe]=[g(100*(1-_e[qe][0])),_e[qe][1]]:je[qe]=[g(100*_e[qe][0]),_e[qe][1]];var ve=Ce._fullLayout,Oe="g"+ve._uid+"-"+ge,ke=ve._defs.select(".gradients").selectAll("#"+Oe).data([he+je.join(";")],E.identity);ke.exit().remove(),ke.enter().append(De.node).each(function(){var Be=D.select(this);De.attrs&&Be.attr(De.attrs),Be.attr("id",Oe);var We=Be.selectAll("stop").data(je);We.exit().remove(),We.enter().append("stop"),We.each(function(Ge){var Ke=M(Ge[1]);D.select(this).attr({offset:Ge[0]+"%","stop-color":c.tinyRGB(Ke),"stop-opacity":Ke.getAlpha()})})}),Se.style(Le,re(Oe,Ce)).style(Le+"-opacity",null),Se.classed("gradient_filled",!0)},T.pattern=function(Se,Ce,ge,he,_e,Le,Ie,De,je,qe,ve,Oe){var ke="legend"===Ce;De&&("overlay"===je?ve=c.contrast(qe=De):(qe=void 0,ve=De));var Be,We,Ge,Ke,et,at,mt,ct,kt,Dt=ge._fullLayout,Et="p"+Dt._uid+"-"+he,ht={},pt=M(ve),Pt=c.tinyRGB(pt),zt=Oe*pt.getAlpha();switch(_e){case"/":Be=Le*Math.sqrt(2),We=Le*Math.sqrt(2),at="path",ht={d:Ge="M-"+Be/4+","+We/4+"l"+Be/2+",-"+We/2+"M0,"+We+"L"+Be+",0M"+Be/4*3+","+We/4*5+"l"+Be/2+",-"+We/2,opacity:zt,stroke:Pt,"stroke-width":(Ke=Ie*Le)+"px"};break;case"\\":Be=Le*Math.sqrt(2),We=Le*Math.sqrt(2),at="path",ht={d:Ge="M"+Be/4*3+",-"+We/4+"l"+Be/2+","+We/2+"M0,0L"+Be+","+We+"M-"+Be/4+","+We/4*3+"l"+Be/2+","+We/2,opacity:zt,stroke:Pt,"stroke-width":(Ke=Ie*Le)+"px"};break;case"x":Be=Le*Math.sqrt(2),We=Le*Math.sqrt(2),Ge="M-"+Be/4+","+We/4+"l"+Be/2+",-"+We/2+"M0,"+We+"L"+Be+",0M"+Be/4*3+","+We/4*5+"l"+Be/2+",-"+We/2+"M"+Be/4*3+",-"+We/4+"l"+Be/2+","+We/2+"M0,0L"+Be+","+We+"M-"+Be/4+","+We/4*3+"l"+Be/2+","+We/2,Ke=Le-Le*Math.sqrt(1-Ie),at="path",ht={d:Ge,opacity:zt,stroke:Pt,"stroke-width":Ke+"px"};break;case"|":at="path",at="path",ht={d:Ge="M"+(Be=Le)/2+",0L"+Be/2+","+(We=Le),opacity:zt,stroke:Pt,"stroke-width":(Ke=Ie*Le)+"px"};break;case"-":at="path",at="path",ht={d:Ge="M0,"+(We=Le)/2+"L"+(Be=Le)+","+We/2,opacity:zt,stroke:Pt,"stroke-width":(Ke=Ie*Le)+"px"};break;case"+":at="path",Ge="M"+(Be=Le)/2+",0L"+Be/2+","+(We=Le)+"M0,"+We/2+"L"+Be+","+We/2,Ke=Le-Le*Math.sqrt(1-Ie),at="path",ht={d:Ge,opacity:zt,stroke:Pt,"stroke-width":Ke+"px"};break;case".":Be=Le,We=Le,Ie<Math.PI/4?et=Math.sqrt(Ie*Le*Le/Math.PI):(mt=Ie,ct=Math.PI/4,et=(kt=Le/2)+(Le/Math.sqrt(2)-kt)*(mt-ct)/(1-ct)),at="circle",ht={cx:Be/2,cy:We/2,r:et,opacity:zt,fill:Pt}}var Ht=[_e||"noSh",qe||"noBg",ve||"noFg",Le,Ie].join(";"),Lt=Dt._defs.select(".patterns").selectAll("#"+Et).data([Ht],E.identity);Lt.exit().remove(),Lt.enter().append("pattern").each(function(){var tt=D.select(this);if(tt.attr({id:Et,width:Be+"px",height:We+"px",patternUnits:"userSpaceOnUse",patternTransform:ke?"scale(0.8)":""}),qe){var it=M(qe),Je=c.tinyRGB(it),ot=it.getAlpha(),gt=tt.selectAll("rect").data([0]);gt.exit().remove(),gt.enter().append("rect").attr({width:Be+"px",height:We+"px",fill:Je,"fill-opacity":ot})}var ft=tt.selectAll(at).data([0]);ft.exit().remove(),ft.enter().append(at).attr(ht)}),Se.style("fill",re(Et,ge)).style("fill-opacity",null),Se.classed("pattern_filled",!0)},T.initGradients=function(Se){E.ensureSingle(Se._fullLayout._defs,"g","gradients").selectAll("linearGradient,radialGradient").remove(),D.select(Se).selectAll(".gradient_filled").classed("gradient_filled",!1)},T.initPatterns=function(Se){E.ensureSingle(Se._fullLayout._defs,"g","patterns").selectAll("pattern").remove(),D.select(Se).selectAll(".pattern_filled").classed("pattern_filled",!1)},T.getPatternAttr=function(Se,Ce,ge){return Se&&E.isArrayOrTypedArray(Se)?Ce<Se.length?Se[Ce]:ge:Se},T.pointStyle=function(Se,Ce,ge,he){if(Se.size()){var _e=T.makePointStyleFns(Ce);Se.each(function(Le){T.singlePointStyle(Le,D.select(this),Ce,_e,ge,he)})}},T.singlePointStyle=function(Se,Ce,ge,he,_e,Le){var Ie=ge.marker,De=Ie.line;if(Le&&Le.i>=0&&void 0===Se.i&&(Se.i=Le.i),Ce.style("opacity",he.selectedOpacityFn?he.selectedOpacityFn(Se):void 0===Se.mo?Ie.opacity:Se.mo),he.ms2mrc){var je;je="various"===Se.ms||"various"===Ie.size?3:he.ms2mrc(Se.ms),Se.mrc=je,he.selectedSizeFn&&(je=Se.mrc=he.selectedSizeFn(Se));var qe=T.symbolNumber(Se.mx||Ie.symbol)||0;Se.om=qe%200>=100;var ve=ze(Se,ge),Oe=ee(Se,ge);Ce.attr("d",x(qe,je,ve,Oe))}var ke,Be,We,Ge=!1;if(Se.so?(We=De.outlierwidth,Be=De.outliercolor,ke=Ie.outliercolor):(We=(Se.mlw+1||(De||{}).width+1||(Se.trace?(Se.trace.marker.line||{}).width:0)+1)-1||0,Be="mlc"in Se?Se.mlcc=he.lineScale(Se.mlc):E.isArrayOrTypedArray(De.color)?c.defaultLine:De.color,E.isArrayOrTypedArray(Ie.color)&&(ke=c.defaultLine,Ge=!0),ke="mc"in Se?Se.mcc=he.markerScale(Se.mc):Ie.color||Ie.colors||"rgba(0,0,0,0)",he.selectedColorFn&&(ke=he.selectedColorFn(Se))),Se.om)Ce.call(c.stroke,ke).style({"stroke-width":(We||1)+"px",fill:"none"});else{Ce.style("stroke-width",(Se.isBlank?0:We)+"px");var et=Ie.gradient,at=Se.mgt;at?Ge=!0:at=et&&et.type,E.isArrayOrTypedArray(at)&&(I[at=at[0]]||(at=0));var mt=Ie.pattern,ct=mt&&T.getPatternAttr(mt.shape,Se.i,"");if(at&&"none"!==at){var kt=Se.mgc;kt?Ge=!0:kt=et.color;var Dt=ge.uid;Ge&&(Dt+="-"+Se.i),T.gradient(Ce,_e,Dt,at,[[0,kt],[1,ke]],"fill")}else if(ct){var Et=!1,ht=mt.fgcolor;!ht&&Le&&Le.color&&(ht=Le.color,Et=!0);var pt=T.getPatternAttr(ht,Se.i,Le&&Le.color||null),Pt=T.getPatternAttr(mt.bgcolor,Se.i,null),zt=mt.fgopacity,Ht=T.getPatternAttr(mt.size,Se.i,8),Lt=T.getPatternAttr(mt.solidity,Se.i,.3);Et=Et||Se.mcc||E.isArrayOrTypedArray(mt.shape)||E.isArrayOrTypedArray(mt.bgcolor)||E.isArrayOrTypedArray(mt.fgcolor)||E.isArrayOrTypedArray(mt.size)||E.isArrayOrTypedArray(mt.solidity);var tt=ge.uid;Et&&(tt+="-"+Se.i),T.pattern(Ce,"point",_e,tt,ct,Ht,Lt,Se.mcc,mt.fillmode,Pt,pt,zt)}else E.isArrayOrTypedArray(ke)?c.fill(Ce,ke[Se.i]):c.fill(Ce,ke);We&&c.stroke(Ce,Be)}},T.makePointStyleFns=function(Se){var Ce={},ge=Se.marker;return Ce.markerScale=T.tryColorscale(ge,""),Ce.lineScale=T.tryColorscale(ge,"line"),y.traceIs(Se,"symbols")&&(Ce.ms2mrc=h.isBubble(Se)?v(Se):function(){return(ge.size||6)/2}),Se.selectedpoints&&E.extendFlat(Ce,T.makeSelectedPointStyleFns(Se)),Ce},T.makeSelectedPointStyleFns=function(Se){var Ce={},_e=Se.marker||{},Le=(Se.selected||{}).marker||{},Ie=(Se.unselected||{}).marker||{},je=Le.opacity,qe=Ie.opacity,ve=void 0!==je,Oe=void 0!==qe;(E.isArrayOrTypedArray(_e.opacity)||ve||Oe)&&(Ce.selectedOpacityFn=function(ct){var kt=void 0===ct.mo?_e.opacity:ct.mo;return ct.selected?ve?je:kt:Oe?qe:u*kt});var ke=_e.color,Be=Le.color,We=Ie.color;(Be||We)&&(Ce.selectedColorFn=function(ct){var kt=ct.mcc||ke;return ct.selected?Be||kt:We||kt});var Ge=_e.size,Ke=Le.size,et=Ie.size,at=void 0!==Ke,mt=void 0!==et;return y.traceIs(Se,"symbols")&&(at||mt)&&(Ce.selectedSizeFn=function(ct){var kt=ct.mrc||Ge/2;return ct.selected?at?Ke/2:kt:mt?et/2:kt}),Ce},T.makeSelectedTextStyleFns=function(Se){var Ce={},De=(Se.textfont||{}).color,je=((Se.selected||{}).textfont||{}).color,qe=((Se.unselected||{}).textfont||{}).color;return Ce.selectedTextColorFn=function(ve){var Oe=ve.tc||De;return ve.selected?je||Oe:qe||(je?Oe:c.addOpacity(Oe,u))},Ce},T.selectedPointStyle=function(Se,Ce){if(Se.size()&&Ce.selectedpoints){var ge=T.makeSelectedPointStyleFns(Ce),he=Ce.marker||{},_e=[];ge.selectedOpacityFn&&_e.push(function(Le,Ie){Le.style("opacity",ge.selectedOpacityFn(Ie))}),ge.selectedColorFn&&_e.push(function(Le,Ie){c.fill(Le,ge.selectedColorFn(Ie))}),ge.selectedSizeFn&&_e.push(function(Le,Ie){var De=Ie.mx||he.symbol||0,je=ge.selectedSizeFn(Ie);Le.attr("d",x(T.symbolNumber(De),je,ze(Ie,Ce),ee(Ie,Ce))),Ie.mrc2=je}),_e.length&&Se.each(function(Le){for(var Ie=D.select(this),De=0;De<_e.length;De++)_e[De](Ie,Le)})}},T.tryColorscale=function(Se,Ce){var ge=Ce?E.nestedProperty(Se,Ce).get():Se;return ge&&(ge.colorscale||ge._colorAx)&&E.isArrayOrTypedArray(ge.color)?i.makeColorScaleFuncFromTrace(ge):E.identity};var S,O,R={start:1,end:-1,middle:0,bottom:1,top:-1};function L(Se,Ce,ge,he,_e){var Le=D.select(Se.node().parentNode),Ie=-1!==Ce.indexOf("top")?"top":-1!==Ce.indexOf("bottom")?"bottom":"middle",De=-1!==Ce.indexOf("left")?"end":-1!==Ce.indexOf("right")?"start":"middle",je=he?he/.8+1:0,qe=(a.lineCount(Se)-1)*l+1,ve=R[De]*je,Oe=.75*ge+R[Ie]*je+(R[Ie]-1)*qe*ge/2;Se.attr("text-anchor",De),_e||Le.attr("transform",s(ve,Oe))}function N(Se,Ce){var ge=Se.ts||Ce.textfont.size;return k(ge)&&ge>0?ge:0}function j(Se,Ce,ge){return ge&&(Se=W(Se)),Ce?F(Se[1]):X(Se[0])}function X(Se){var Ce=D.round(Se,2);return S=Ce,Ce}function F(Se){var Ce=D.round(Se,2);return O=Ce,Ce}function Y(Se,Ce,ge,he){var _e=Se[0]-Ce[0],Le=Se[1]-Ce[1],Ie=ge[0]-Ce[0],De=ge[1]-Ce[1],je=Math.pow(_e*_e+Le*Le,.25),qe=Math.pow(Ie*Ie+De*De,.25),ve=(qe*qe*_e-je*je*Ie)*he,Oe=(qe*qe*Le-je*je*De)*he,ke=3*qe*(je+qe),Be=3*je*(je+qe);return[[X(Ce[0]+(ke&&ve/ke)),F(Ce[1]+(ke&&Oe/ke))],[X(Ce[0]-(Be&&ve/Be)),F(Ce[1]-(Be&&Oe/Be))]]}T.textPointStyle=function(Se,Ce,ge){if(Se.size()){var he;if(Ce.selectedpoints){var _e=T.makeSelectedTextStyleFns(Ce);he=_e.selectedTextColorFn}var Le=Ce.texttemplate,Ie=ge._fullLayout;Se.each(function(De){var je=D.select(this),qe=Le?E.extractOption(De,Ce,"txt","texttemplate"):E.extractOption(De,Ce,"tx","text");if(qe||0===qe){if(Le){var ve=Ce._module.formatLabels,Oe=ve?ve(De,Ce,Ie):{},ke={};p(ke,Ce,De.i),qe=E.texttemplateString(qe,Oe,Ie._d3locale,ke,De,Ce._meta||{})}var We=De.tp||Ce.textposition,Ge=N(De,Ce),Ke=he?he(De):De.tc||Ce.textfont.color;je.call(T.font,De.tf||Ce.textfont.family,Ge,Ke).text(qe).call(a.convertToTspans,ge).call(L,We,Ge,De.mrc)}else je.remove()})}},T.selectedTextStyle=function(Se,Ce){if(Se.size()&&Ce.selectedpoints){var ge=T.makeSelectedTextStyleFns(Ce);Se.each(function(he){var _e=D.select(this),Le=ge.selectedTextColorFn(he),Ie=he.tp||Ce.textposition,De=N(he,Ce);c.fill(_e,Le);var je=y.traceIs(Ce,"bar-like");L(_e,Ie,De,he.mrc2||he.mrc,je)})}},T.smoothopen=function(Se,Ce){if(Se.length<3)return"M"+Se.join("L");var ge,he="M"+Se[0],_e=[];for(ge=1;ge<Se.length-1;ge++)_e.push(Y(Se[ge-1],Se[ge],Se[ge+1],Ce));for(he+="Q"+_e[0][0]+" "+Se[1],ge=2;ge<Se.length-1;ge++)he+="C"+_e[ge-2][1]+" "+_e[ge-1][0]+" "+Se[ge];return he+"Q"+_e[Se.length-3][1]+" "+Se[Se.length-1]},T.smoothclosed=function(Se,Ce){if(Se.length<3)return"M"+Se.join("L")+"Z";var ge,he="M"+Se[0],_e=Se.length-1,Le=[Y(Se[_e],Se[0],Se[1],Ce)];for(ge=1;ge<_e;ge++)Le.push(Y(Se[ge-1],Se[ge],Se[ge+1],Ce));for(Le.push(Y(Se[_e-1],Se[_e],Se[0],Ce)),ge=1;ge<=_e;ge++)he+="C"+Le[ge-1][1]+" "+Le[ge][0]+" "+Se[ge];return he+"C"+Le[_e][1]+" "+Le[0][0]+" "+Se[0]+"Z"};var G={hv:function(Se,Ce,ge){return"H"+X(Ce[0])+"V"+j(Ce,1,ge)},vh:function(Se,Ce,ge){return"V"+F(Ce[1])+"H"+j(Ce,0,ge)},hvh:function(Se,Ce,ge){return"H"+X((Se[0]+Ce[0])/2)+"V"+F(Ce[1])+"H"+j(Ce,0,ge)},vhv:function(Se,Ce,ge){return"V"+F((Se[1]+Ce[1])/2)+"H"+X(Ce[0])+"V"+j(Ce,1,ge)}},H=function(Se,Ce,ge){return"L"+j(Ce,0,ge)+","+j(Ce,1,ge)};function W(Se,Ce){var ge=Se.backoff,he=Se.trace,_e=Se.d,Le=Se.i;if(ge&&he&&he.marker&&he.marker.angle%360==0&&he.line&&"spline"!==he.line.shape){var Ie=E.isArrayOrTypedArray(ge),De=Se,je=Ce?Ce[0]:S||0,qe=Ce?Ce[1]:O||0,ve=De[0],Oe=De[1],We=Math.atan2(Oe-qe,ve-je),Ge=Ie?ge[Le]:ge;if("auto"===Ge){var Ke=De.i;"scatter"===he.type&&Ke--;var et=De.marker,at=et.symbol;E.isArrayOrTypedArray(at)&&(at=at[Ke]);var mt=et.size;E.isArrayOrTypedArray(mt)&&(mt=mt[Ke]),Ge=et?T.symbolBackOffs[T.symbolNumber(at)]*mt:0,Ge+=T.getMarkerStandoff(_e[Ke],he)||0}var ct=ve-Ge*Math.cos(We),kt=Oe-Ge*Math.sin(We);(ct<=ve&&ct>=je||ct>=ve&&ct<=je)&&(kt<=Oe&&kt>=qe||kt>=Oe&&kt<=qe)&&(Se=[ct,kt])}return Se}T.steps=function(Se){var Ce=G[Se]||H;return function(ge){for(var he="M"+X(ge[0][0])+","+F(ge[0][1]),_e=ge.length,Le=1;Le<_e;Le++)he+=Ce(ge[Le-1],ge[Le],Le===_e-1);return he}},T.applyBackoff=W,T.makeTester=function(){var Se=E.ensureSingleById(D.select("body"),"svg","js-plotly-tester",function(ge){ge.attr(o.svgAttrs).style({position:"absolute",left:"-10000px",top:"-10000px",width:"9000px",height:"9000px","z-index":"1"})}),Ce=E.ensureSingle(Se,"path","js-reference-point",function(ge){ge.attr("d","M0,0H1V1H0Z").style({"stroke-width":0,fill:"black"})});T.tester=Se,T.testref=Ce},T.savedBBoxes={};var Z=0;function se(Se){var Ce=Se.getAttribute("data-unformatted");if(null!==Ce)return Ce+Se.getAttribute("data-math")+Se.getAttribute("text-anchor")+Se.getAttribute("style")}function re(Se,Ce){if(!Se)return null;var ge=Ce._context,he=ge._exportedPlot?"":ge._baseUrl||"";return he?"url('"+he+"#"+Se+"')":"url(#"+Se+")"}T.bBox=function(Se,Ce,ge){var he,_e,Le;if(ge||(ge=se(Se)),ge){if(he=T.savedBBoxes[ge])return E.extendFlat({},he)}else if(1===Se.childNodes.length){var Ie=Se.childNodes[0];if(ge=se(Ie)){var De=+Ie.getAttribute("x")||0,je=+Ie.getAttribute("y")||0,qe=Ie.getAttribute("transform");if(!qe){var ve=T.bBox(Ie,!1,ge);return De&&(ve.left+=De,ve.right+=De),je&&(ve.top+=je,ve.bottom+=je),ve}if(he=T.savedBBoxes[ge+="~"+De+"~"+je+"~"+qe])return E.extendFlat({},he)}}Ce?_e=Se:(Le=T.tester.node(),_e=Se.cloneNode(!0),Le.appendChild(_e)),D.select(_e).attr("transform",null).call(a.positionText,0,0);var Oe=_e.getBoundingClientRect(),ke=T.testref.node().getBoundingClientRect();Ce||Le.removeChild(_e);var Be={height:Oe.height,width:Oe.width,left:Oe.left-ke.left,top:Oe.top-ke.top,right:Oe.right-ke.left,bottom:Oe.bottom-ke.top};return Z>=1e4&&(T.savedBBoxes={},Z=0),ge&&(T.savedBBoxes[ge]=Be),Z++,E.extendFlat({},Be)},T.setClipUrl=function(Se,Ce,ge){Se.attr("clip-path",re(Ce,ge))},T.getTranslate=function(Se){var Ce=(Se[Se.attr?"attr":"getAttribute"]("transform")||"").replace(/.*\btranslate\((-?\d*\.?\d*)[^-\d]*(-?\d*\.?\d*)[^\d].*/,function(ge,he,_e){return[he,_e].join(" ")}).split(" ");return{x:+Ce[0]||0,y:+Ce[1]||0}},T.setTranslate=function(Se,Ce,ge){var _e=Se.attr?"attr":"setAttribute",Le=Se[Se.attr?"attr":"getAttribute"]("transform")||"";return Ce=Ce||0,ge=ge||0,Le=Le.replace(/(\btranslate\(.*?\);?)/,"").trim(),Le=(Le+=s(Ce,ge)).trim(),Se[_e]("transform",Le),Le},T.getScale=function(Se){var Ce=(Se[Se.attr?"attr":"getAttribute"]("transform")||"").replace(/.*\bscale\((\d*\.?\d*)[^\d]*(\d*\.?\d*)[^\d].*/,function(ge,he,_e){return[he,_e].join(" ")}).split(" ");return{x:+Ce[0]||1,y:+Ce[1]||1}},T.setScale=function(Se,Ce,ge){var _e=Se.attr?"attr":"setAttribute",Le=Se[Se.attr?"attr":"getAttribute"]("transform")||"";return Ce=Ce||1,ge=ge||1,Le=Le.replace(/(\bscale\(.*?\);?)/,"").trim(),Le=(Le+="scale("+Ce+","+ge+")").trim(),Se[_e]("transform",Le),Le};var ne=/\s*sc.*/;T.setPointGroupScale=function(Se,Ce,ge){if(Ce=Ce||1,ge=ge||1,Se){var he=1===Ce&&1===ge?"":"scale("+Ce+","+ge+")";Se.each(function(){var _e=(this.getAttribute("transform")||"").replace(ne,"");_e=(_e+=he).trim(),this.setAttribute("transform",_e)})}};var Q=/translate\([^)]*\)\s*$/;function ee(Se,Ce){var ge;return Se&&(ge=Se.mf),void 0===ge&&(ge=Ce.marker&&Ce.marker.standoff||0),Ce._geo||Ce._xA?ge:-ge}T.setTextPointsScale=function(Se,Ce,ge){Se&&Se.each(function(){var he,_e=D.select(this),Le=_e.select("text");if(Le.node()){var Ie=parseFloat(Le.attr("x")||0),De=parseFloat(Le.attr("y")||0),je=(_e.attr("transform")||"").match(Q);he=1===Ce&&1===ge?[]:[s(Ie,De),"scale("+Ce+","+ge+")",s(-Ie,-De)],je&&he.push(je),_e.attr("transform",he.join(""))}})},T.getMarkerStandoff=ee;var oe,ce,fe,le,pe,Me,Ae=Math.atan2,be=Math.cos,ye=Math.sin;function we(Se,Ce){var ge=Ce[0],he=Ce[1];return[ge*be(Se)-he*ye(Se),ge*ye(Se)+he*be(Se)]}function ze(Se,Ce){var ge,he,_e=Se.ma;void 0===_e&&(_e=Ce.marker.angle||0);var Le=Ce.marker.angleref;if("previous"===Le||"north"===Le){if(Ce._geo){var Ie=Ce._geo.project(Se.lonlat);ge=Ie[0],he=Ie[1]}else{var De=Ce._xA,je=Ce._yA;if(!De||!je)return 90;ge=De.c2p(Se.x),he=je.c2p(Se.y)}if(Ce._geo){var qe,ve=Se.lonlat[0],Oe=Se.lonlat[1],ke=Ce._geo.project([ve,Oe+1e-5]),Be=Ce._geo.project([ve+1e-5,Oe]),We=Ae(Be[1]-he,Be[0]-ge),Ge=Ae(ke[1]-he,ke[0]-ge);if("north"===Le)qe=_e/180*Math.PI;else if("previous"===Le){var Ke=ve/180*Math.PI,et=Oe/180*Math.PI,at=oe/180*Math.PI,mt=ce/180*Math.PI,ct=at-Ke,kt=be(mt)*ye(ct),Dt=ye(mt)*be(et)-be(mt)*ye(et)*be(ct);qe=-Ae(kt,Dt)-Math.PI,oe=ve,ce=Oe}var Et=we(We,[be(qe),0]),ht=we(Ge,[ye(qe),0]);_e=Ae(Et[1]+ht[1],Et[0]+ht[0])/Math.PI*180,"previous"!==Le||Me===Ce.uid&&Se.i===pe+1||(_e=null)}if("previous"===Le&&!Ce._geo)if(Me===Ce.uid&&Se.i===pe+1&&k(ge)&&k(he)){var pt=ge-fe,Pt=he-le,zt=Ce.line&&Ce.line.shape||"",Ht=zt.slice(zt.length-1);"h"===Ht&&(Pt=0),"v"===Ht&&(pt=0),_e+=Ae(Pt,pt)/Math.PI*180+90}else _e=null}return fe=ge,le=he,pe=Se.i,Me=Ce.uid,_e}T.getMarkerAngle=ze},90998:function(ae,B,r){"use strict";var D,E,f,k,M=r(95616),y=r(39898).round,c="M0,0Z",i=Math.sqrt(2),s=Math.sqrt(3),a=Math.PI,o=Math.cos,l=Math.sin;function u(v){return null===v}function h(v,p,T){if(!(v&&v%360!=0||p))return T;if(f===v&&k===p&&D===T)return E;function _(j,X){var F=o(j),Y=l(j),G=X[0],H=X[1]+(p||0);return[G*F-H*Y,G*Y+H*F]}f=v,k=p,D=T;for(var m=v/180*a,w=0,x=0,b=M(T),A="",g=0;g<b.length;g++){var I=b[g],S=I[0],O=w,R=x;if("M"===S||"L"===S)w=+I[1],x=+I[2];else if("m"===S||"l"===S)w+=+I[1],x+=+I[2];else if("H"===S)w=+I[1];else if("h"===S)w+=+I[1];else if("V"===S)x=+I[1];else if("v"===S)x+=+I[1];else if("A"===S){w=+I[1],x=+I[2];var L=_(m,[+I[6],+I[7]]);I[6]=L[0],I[7]=L[1],I[3]=+I[3]+v}"H"!==S&&"V"!==S||(S="L"),"h"!==S&&"v"!==S||(S="l"),"m"!==S&&"l"!==S||(w-=O,x-=R);var N=_(m,[w,x]);"H"!==S&&"V"!==S||(S="L"),"M"!==S&&"L"!==S&&"m"!==S&&"l"!==S||(I[1]=N[0],I[2]=N[1]),I[0]=S,A+=I[0]+I.slice(1).join(",")}return E=A,A}ae.exports={circle:{n:0,f:function(v,p,T){if(u(p))return c;var _=y(v,2),m="M"+_+",0A"+_+","+_+" 0 1,1 0,-"+_+"A"+_+","+_+" 0 0,1 "+_+",0Z";return T?h(p,T,m):m}},square:{n:1,f:function(v,p,T){if(u(p))return c;var _=y(v,2);return h(p,T,"M"+_+","+_+"H-"+_+"V-"+_+"H"+_+"Z")}},diamond:{n:2,f:function(v,p,T){if(u(p))return c;var _=y(1.3*v,2);return h(p,T,"M"+_+",0L0,"+_+"L-"+_+",0L0,-"+_+"Z")}},cross:{n:3,f:function(v,p,T){if(u(p))return c;var _=y(.4*v,2),m=y(1.2*v,2);return h(p,T,"M"+m+","+_+"H"+_+"V"+m+"H-"+_+"V"+_+"H-"+m+"V-"+_+"H-"+_+"V-"+m+"H"+_+"V-"+_+"H"+m+"Z")}},x:{n:4,f:function(v,p,T){if(u(p))return c;var _=y(.8*v/i,2),m="l"+_+","+_,w="l"+_+",-"+_,x="l-"+_+",-"+_,b="l-"+_+","+_;return h(p,T,"M0,"+_+m+w+x+w+x+b+x+b+m+b+m+"Z")}},"triangle-up":{n:5,f:function(v,p,T){if(u(p))return c;var _=y(2*v/s,2);return h(p,T,"M-"+_+","+y(v/2,2)+"H"+_+"L0,-"+y(v,2)+"Z")}},"triangle-down":{n:6,f:function(v,p,T){if(u(p))return c;var _=y(2*v/s,2);return h(p,T,"M-"+_+",-"+y(v/2,2)+"H"+_+"L0,"+y(v,2)+"Z")}},"triangle-left":{n:7,f:function(v,p,T){if(u(p))return c;var _=y(2*v/s,2);return h(p,T,"M"+y(v/2,2)+",-"+_+"V"+_+"L-"+y(v,2)+",0Z")}},"triangle-right":{n:8,f:function(v,p,T){if(u(p))return c;var _=y(2*v/s,2);return h(p,T,"M-"+y(v/2,2)+",-"+_+"V"+_+"L"+y(v,2)+",0Z")}},"triangle-ne":{n:9,f:function(v,p,T){if(u(p))return c;var _=y(.6*v,2),m=y(1.2*v,2);return h(p,T,"M-"+m+",-"+_+"H"+_+"V"+m+"Z")}},"triangle-se":{n:10,f:function(v,p,T){if(u(p))return c;var _=y(.6*v,2),m=y(1.2*v,2);return h(p,T,"M"+_+",-"+m+"V"+_+"H-"+m+"Z")}},"triangle-sw":{n:11,f:function(v,p,T){if(u(p))return c;var _=y(.6*v,2),m=y(1.2*v,2);return h(p,T,"M"+m+","+_+"H-"+_+"V-"+m+"Z")}},"triangle-nw":{n:12,f:function(v,p,T){if(u(p))return c;var _=y(.6*v,2),m=y(1.2*v,2);return h(p,T,"M-"+_+","+m+"V-"+_+"H"+m+"Z")}},pentagon:{n:13,f:function(v,p,T){if(u(p))return c;var _=y(.951*v,2),m=y(.588*v,2),w=y(-v,2),x=y(-.309*v,2);return h(p,T,"M"+_+","+x+"L"+m+","+y(.809*v,2)+"H-"+m+"L-"+_+","+x+"L0,"+w+"Z")}},hexagon:{n:14,f:function(v,p,T){if(u(p))return c;var _=y(v,2),m=y(v/2,2),w=y(v*s/2,2);return h(p,T,"M"+w+",-"+m+"V"+m+"L0,"+_+"L-"+w+","+m+"V-"+m+"L0,-"+_+"Z")}},hexagon2:{n:15,f:function(v,p,T){if(u(p))return c;var _=y(v,2),m=y(v/2,2),w=y(v*s/2,2);return h(p,T,"M-"+m+","+w+"H"+m+"L"+_+",0L"+m+",-"+w+"H-"+m+"L-"+_+",0Z")}},octagon:{n:16,f:function(v,p,T){if(u(p))return c;var _=y(.924*v,2),m=y(.383*v,2);return h(p,T,"M-"+m+",-"+_+"H"+m+"L"+_+",-"+m+"V"+m+"L"+m+","+_+"H-"+m+"L-"+_+","+m+"V-"+m+"Z")}},star:{n:17,f:function(v,p,T){if(u(p))return c;var _=1.4*v,m=y(.225*_,2),w=y(.951*_,2),x=y(.363*_,2),b=y(.588*_,2),A=y(-_,2),g=y(-.309*_,2),I=y(.118*_,2),S=y(.809*_,2);return h(p,T,"M"+m+","+g+"H"+w+"L"+x+","+I+"L"+b+","+S+"L0,"+y(.382*_,2)+"L-"+b+","+S+"L-"+x+","+I+"L-"+w+","+g+"H-"+m+"L0,"+A+"Z")}},hexagram:{n:18,f:function(v,p,T){if(u(p))return c;var _=y(.66*v,2),m=y(.38*v,2),w=y(.76*v,2);return h(p,T,"M-"+w+",0l-"+m+",-"+_+"h"+w+"l"+m+",-"+_+"l"+m+","+_+"h"+w+"l-"+m+","+_+"l"+m+","+_+"h-"+w+"l-"+m+","+_+"l-"+m+",-"+_+"h-"+w+"Z")}},"star-triangle-up":{n:19,f:function(v,p,T){if(u(p))return c;var _=y(v*s*.8,2),m=y(.8*v,2),w=y(1.6*v,2),x=y(4*v,2),b="A "+x+","+x+" 0 0 1 ";return h(p,T,"M-"+_+","+m+b+_+","+m+b+"0,-"+w+b+"-"+_+","+m+"Z")}},"star-triangle-down":{n:20,f:function(v,p,T){if(u(p))return c;var _=y(v*s*.8,2),m=y(.8*v,2),w=y(1.6*v,2),x=y(4*v,2),b="A "+x+","+x+" 0 0 1 ";return h(p,T,"M"+_+",-"+m+b+"-"+_+",-"+m+b+"0,"+w+b+_+",-"+m+"Z")}},"star-square":{n:21,f:function(v,p,T){if(u(p))return c;var _=y(1.1*v,2),m=y(2*v,2),w="A "+m+","+m+" 0 0 1 ";return h(p,T,"M-"+_+",-"+_+w+"-"+_+","+_+w+_+","+_+w+_+",-"+_+w+"-"+_+",-"+_+"Z")}},"star-diamond":{n:22,f:function(v,p,T){if(u(p))return c;var _=y(1.4*v,2),m=y(1.9*v,2),w="A "+m+","+m+" 0 0 1 ";return h(p,T,"M-"+_+",0"+w+"0,"+_+w+_+",0"+w+"0,-"+_+w+"-"+_+",0Z")}},"diamond-tall":{n:23,f:function(v,p,T){if(u(p))return c;var _=y(.7*v,2),m=y(1.4*v,2);return h(p,T,"M0,"+m+"L"+_+",0L0,-"+m+"L-"+_+",0Z")}},"diamond-wide":{n:24,f:function(v,p,T){if(u(p))return c;var _=y(1.4*v,2),m=y(.7*v,2);return h(p,T,"M0,"+m+"L"+_+",0L0,-"+m+"L-"+_+",0Z")}},hourglass:{n:25,f:function(v,p,T){if(u(p))return c;var _=y(v,2);return h(p,T,"M"+_+","+_+"H-"+_+"L"+_+",-"+_+"H-"+_+"Z")},noDot:!0},bowtie:{n:26,f:function(v,p,T){if(u(p))return c;var _=y(v,2);return h(p,T,"M"+_+","+_+"V-"+_+"L-"+_+","+_+"V-"+_+"Z")},noDot:!0},"circle-cross":{n:27,f:function(v,p,T){if(u(p))return c;var _=y(v,2);return h(p,T,"M0,"+_+"V-"+_+"M"+_+",0H-"+_+"M"+_+",0A"+_+","+_+" 0 1,1 0,-"+_+"A"+_+","+_+" 0 0,1 "+_+",0Z")},needLine:!0,noDot:!0},"circle-x":{n:28,f:function(v,p,T){if(u(p))return c;var _=y(v,2),m=y(v/i,2);return h(p,T,"M"+m+","+m+"L-"+m+",-"+m+"M"+m+",-"+m+"L-"+m+","+m+"M"+_+",0A"+_+","+_+" 0 1,1 0,-"+_+"A"+_+","+_+" 0 0,1 "+_+",0Z")},needLine:!0,noDot:!0},"square-cross":{n:29,f:function(v,p,T){if(u(p))return c;var _=y(v,2);return h(p,T,"M0,"+_+"V-"+_+"M"+_+",0H-"+_+"M"+_+","+_+"H-"+_+"V-"+_+"H"+_+"Z")},needLine:!0,noDot:!0},"square-x":{n:30,f:function(v,p,T){if(u(p))return c;var _=y(v,2);return h(p,T,"M"+_+","+_+"L-"+_+",-"+_+"M"+_+",-"+_+"L-"+_+","+_+"M"+_+","+_+"H-"+_+"V-"+_+"H"+_+"Z")},needLine:!0,noDot:!0},"diamond-cross":{n:31,f:function(v,p,T){if(u(p))return c;var _=y(1.3*v,2);return h(p,T,"M"+_+",0L0,"+_+"L-"+_+",0L0,-"+_+"ZM0,-"+_+"V"+_+"M-"+_+",0H"+_)},needLine:!0,noDot:!0},"diamond-x":{n:32,f:function(v,p,T){if(u(p))return c;var _=y(1.3*v,2),m=y(.65*v,2);return h(p,T,"M"+_+",0L0,"+_+"L-"+_+",0L0,-"+_+"ZM-"+m+",-"+m+"L"+m+","+m+"M-"+m+","+m+"L"+m+",-"+m)},needLine:!0,noDot:!0},"cross-thin":{n:33,f:function(v,p,T){if(u(p))return c;var _=y(1.4*v,2);return h(p,T,"M0,"+_+"V-"+_+"M"+_+",0H-"+_)},needLine:!0,noDot:!0,noFill:!0},"x-thin":{n:34,f:function(v,p,T){if(u(p))return c;var _=y(v,2);return h(p,T,"M"+_+","+_+"L-"+_+",-"+_+"M"+_+",-"+_+"L-"+_+","+_)},needLine:!0,noDot:!0,noFill:!0},asterisk:{n:35,f:function(v,p,T){if(u(p))return c;var _=y(1.2*v,2),m=y(.85*v,2);return h(p,T,"M0,"+_+"V-"+_+"M"+_+",0H-"+_+"M"+m+","+m+"L-"+m+",-"+m+"M"+m+",-"+m+"L-"+m+","+m)},needLine:!0,noDot:!0,noFill:!0},hash:{n:36,f:function(v,p,T){if(u(p))return c;var _=y(v/2,2),m=y(v,2);return h(p,T,"M"+_+","+m+"V-"+m+"M"+(_-m)+",-"+m+"V"+m+"M"+m+","+_+"H-"+m+"M-"+m+","+(_-m)+"H"+m)},needLine:!0,noFill:!0},"y-up":{n:37,f:function(v,p,T){if(u(p))return c;var _=y(1.2*v,2),m=y(1.6*v,2),w=y(.8*v,2);return h(p,T,"M-"+_+","+w+"L0,0M"+_+","+w+"L0,0M0,-"+m+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-down":{n:38,f:function(v,p,T){if(u(p))return c;var _=y(1.2*v,2),m=y(1.6*v,2),w=y(.8*v,2);return h(p,T,"M-"+_+",-"+w+"L0,0M"+_+",-"+w+"L0,0M0,"+m+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-left":{n:39,f:function(v,p,T){if(u(p))return c;var _=y(1.2*v,2),m=y(1.6*v,2),w=y(.8*v,2);return h(p,T,"M"+w+","+_+"L0,0M"+w+",-"+_+"L0,0M-"+m+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-right":{n:40,f:function(v,p,T){if(u(p))return c;var _=y(1.2*v,2),m=y(1.6*v,2),w=y(.8*v,2);return h(p,T,"M-"+w+","+_+"L0,0M-"+w+",-"+_+"L0,0M"+m+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"line-ew":{n:41,f:function(v,p,T){if(u(p))return c;var _=y(1.4*v,2);return h(p,T,"M"+_+",0H-"+_)},needLine:!0,noDot:!0,noFill:!0},"line-ns":{n:42,f:function(v,p,T){if(u(p))return c;var _=y(1.4*v,2);return h(p,T,"M0,"+_+"V-"+_)},needLine:!0,noDot:!0,noFill:!0},"line-ne":{n:43,f:function(v,p,T){if(u(p))return c;var _=y(v,2);return h(p,T,"M"+_+",-"+_+"L-"+_+","+_)},needLine:!0,noDot:!0,noFill:!0},"line-nw":{n:44,f:function(v,p,T){if(u(p))return c;var _=y(v,2);return h(p,T,"M"+_+","+_+"L-"+_+",-"+_)},needLine:!0,noDot:!0,noFill:!0},"arrow-up":{n:45,f:function(v,p,T){if(u(p))return c;var _=y(v,2);return h(p,T,"M0,0L-"+_+","+y(2*v,2)+"H"+_+"Z")},backoff:1,noDot:!0},"arrow-down":{n:46,f:function(v,p,T){if(u(p))return c;var _=y(v,2);return h(p,T,"M0,0L-"+_+",-"+y(2*v,2)+"H"+_+"Z")},noDot:!0},"arrow-left":{n:47,f:function(v,p,T){if(u(p))return c;var _=y(2*v,2),m=y(v,2);return h(p,T,"M0,0L"+_+",-"+m+"V"+m+"Z")},noDot:!0},"arrow-right":{n:48,f:function(v,p,T){if(u(p))return c;var _=y(2*v,2),m=y(v,2);return h(p,T,"M0,0L-"+_+",-"+m+"V"+m+"Z")},noDot:!0},"arrow-bar-up":{n:49,f:function(v,p,T){if(u(p))return c;var _=y(v,2);return h(p,T,"M-"+_+",0H"+_+"M0,0L-"+_+","+y(2*v,2)+"H"+_+"Z")},backoff:1,needLine:!0,noDot:!0},"arrow-bar-down":{n:50,f:function(v,p,T){if(u(p))return c;var _=y(v,2);return h(p,T,"M-"+_+",0H"+_+"M0,0L-"+_+",-"+y(2*v,2)+"H"+_+"Z")},needLine:!0,noDot:!0},"arrow-bar-left":{n:51,f:function(v,p,T){if(u(p))return c;var _=y(2*v,2),m=y(v,2);return h(p,T,"M0,-"+m+"V"+m+"M0,0L"+_+",-"+m+"V"+m+"Z")},needLine:!0,noDot:!0},"arrow-bar-right":{n:52,f:function(v,p,T){if(u(p))return c;var _=y(2*v,2),m=y(v,2);return h(p,T,"M0,-"+m+"V"+m+"M0,0L-"+_+",-"+m+"V"+m+"Z")},needLine:!0,noDot:!0},arrow:{n:53,f:function(v,p,T){if(u(p))return c;var _=a/2.5,m=2*v*o(_),w=2*v*l(_);return h(p,T,"M0,0L"+-m+","+w+"L"+m+","+w+"Z")},backoff:.9,noDot:!0},"arrow-wide":{n:54,f:function(v,p,T){if(u(p))return c;var _=a/4,m=2*v*o(_),w=2*v*l(_);return h(p,T,"M0,0L"+-m+","+w+"A "+2*v+","+2*v+" 0 0 1 "+m+","+w+"Z")},backoff:.4,noDot:!0}}},25673:function(ae){"use strict";ae.exports={visible:{valType:"boolean",editType:"calc"},type:{valType:"enumerated",values:["percent","constant","sqrt","data"],editType:"calc"},symmetric:{valType:"boolean",editType:"calc"},array:{valType:"data_array",editType:"calc"},arrayminus:{valType:"data_array",editType:"calc"},value:{valType:"number",min:0,dflt:10,editType:"calc"},valueminus:{valType:"number",min:0,dflt:10,editType:"calc"},traceref:{valType:"integer",min:0,dflt:0,editType:"style"},tracerefminus:{valType:"integer",min:0,dflt:0,editType:"style"},copy_ystyle:{valType:"boolean",editType:"plot"},copy_zstyle:{valType:"boolean",editType:"style"},color:{valType:"color",editType:"style"},thickness:{valType:"number",min:0,dflt:2,editType:"style"},width:{valType:"number",min:0,editType:"plot"},editType:"calc",_deprecated:{opacity:{valType:"number",editType:"style"}}}},84532:function(ae,B,r){"use strict";var D=r(92770),E=r(73972),f=r(89298),k=r(71828),M=r(45827);function y(c,i,s,a){var o=i["error_"+a]||{},l=[];if(o.visible&&-1!==["linear","log"].indexOf(s.type)){for(var u=M(o),h=0;h<c.length;h++){var v=c[h],p=v.i;if(void 0===p)p=h;else if(null===p)continue;var T=v[a];if(D(s.c2l(T))){var _=u(T,p);if(D(_[0])&&D(_[1])){var m=v[a+"s"]=T-_[0],w=v[a+"h"]=T+_[1];l.push(m,w)}}}var b=i._extremes[s._id],A=f.findExtremes(s,l,k.extendFlat({tozero:b.opts.tozero},{padded:!0}));b.min=b.min.concat(A.min),b.max=b.max.concat(A.max)}}ae.exports=function(c){for(var i=c.calcdata,s=0;s<i.length;s++){var a=i[s],o=a[0].trace;if(!0===o.visible&&E.traceIs(o,"errorBarsOK")){var l=f.getFromId(c,o.xaxis),u=f.getFromId(c,o.yaxis);y(a,o,l,"x"),y(a,o,u,"y")}}}},45827:function(ae){"use strict";function B(r,D){return"percent"===r?function(E){return Math.abs(E*D/100)}:"constant"===r?function(){return Math.abs(D)}:"sqrt"===r?function(E){return Math.sqrt(Math.abs(E))}:void 0}ae.exports=function(r){var D=r.type,E=r.symmetric;if("data"===D){var f=r.array||[];if(E)return function(c,i){var s=+f[i];return[s,s]};var k=r.arrayminus||[];return function(c,i){var s=+f[i],a=+k[i];return isNaN(s)&&isNaN(a)?[NaN,NaN]:[a||0,s||0]}}var M=B(D,r.value),y=B(D,r.valueminus);return E||void 0===r.valueminus?function(c){var i=M(c);return[i,i]}:function(c){return[y(c),M(c)]}}},97587:function(ae,B,r){"use strict";var D=r(92770),E=r(73972),f=r(71828),k=r(44467),M=r(25673);ae.exports=function(y,c,i,s){var a="error_"+s.axis,o=k.newContainer(c,a),l=y[a]||{};function u(T,_){return f.coerce(l,o,M,T,_)}if(!1!==u("visible",void 0!==l.array||void 0!==l.value||"sqrt"===l.type)){var h=u("type","array"in l?"data":"percent"),v=!0;"sqrt"!==h&&(v=u("symmetric",!(("data"===h?"arrayminus":"valueminus")in l))),"data"===h?(u("array"),u("traceref"),v||(u("arrayminus"),u("tracerefminus"))):"percent"!==h&&"constant"!==h||(u("value"),v||u("valueminus"));var p="copy_"+s.inherit+"style";s.inherit&&(c["error_"+s.inherit]||{}).visible&&u(p,!(l.color||D(l.thickness)||D(l.width))),s.inherit&&o[p]||(u("color",i),u("thickness"),u("width",E.traceIs(c,"gl3d")?0:4))}}},37369:function(ae,B,r){"use strict";var D=r(71828),E=r(30962).overrideAll,f=r(25673),k={error_x:D.extendFlat({},f),error_y:D.extendFlat({},f)};delete k.error_x.copy_zstyle,delete k.error_y.copy_zstyle,delete k.error_y.copy_ystyle;var M={error_x:D.extendFlat({},f),error_y:D.extendFlat({},f),error_z:D.extendFlat({},f)};delete M.error_x.copy_ystyle,delete M.error_y.copy_ystyle,delete M.error_z.copy_ystyle,delete M.error_z.copy_zstyle,ae.exports={moduleType:"component",name:"errorbars",schema:{traces:{scatter:k,bar:k,histogram:k,scatter3d:E(M,"calc","nested"),scattergl:E(k,"calc","nested")}},supplyDefaults:r(97587),calc:r(84532),makeComputeError:r(45827),plot:r(19398),style:r(62662),hoverInfo:function(y,c,i){(c.error_y||{}).visible&&(i.yerr=y.yh-y.y,c.error_y.symmetric||(i.yerrneg=y.y-y.ys)),(c.error_x||{}).visible&&(i.xerr=y.xh-y.x,c.error_x.symmetric||(i.xerrneg=y.x-y.xs))}}},19398:function(ae,B,r){"use strict";var D=r(39898),E=r(92770),f=r(91424),k=r(34098);ae.exports=function(M,y,c,i){var s=c.xaxis,a=c.yaxis,o=i&&i.duration>0,l=M._context.staticPlot;y.each(function(u){var h,v=u[0].trace,p=v.error_x||{},T=v.error_y||{};v.ids&&(h=function(x){return x.id});var _=k.hasMarkers(v)&&v.marker.maxdisplayed>0;T.visible||p.visible||(u=[]);var m=D.select(this).selectAll("g.errorbar").data(u,h);if(m.exit().remove(),u.length){p.visible||m.selectAll("path.xerror").remove(),T.visible||m.selectAll("path.yerror").remove(),m.style("opacity",1);var w=m.enter().append("g").classed("errorbar",!0);o&&w.style("opacity",0).transition().duration(i.duration).style("opacity",1),f.setClipUrl(m,c.layerClipId,M),m.each(function(x){var L,N,j,X,b=D.select(this),A=(j=a,X={x:(N=s).c2p((L=x).x),y:j.c2p(L.y)},void 0!==L.yh&&(X.yh=j.c2p(L.yh),X.ys=j.c2p(L.ys),E(X.ys)||(X.noYS=!0,X.ys=j.c2p(L.ys,!0))),void 0!==L.xh&&(X.xh=N.c2p(L.xh),X.xs=N.c2p(L.xs),E(X.xs)||(X.noXS=!0,X.xs=N.c2p(L.xs,!0))),X);if(!_||x.vis){var g,I=b.select("path.yerror");if(T.visible&&E(A.x)&&E(A.yh)&&E(A.ys)){var S=T.width;g="M"+(A.x-S)+","+A.yh+"h"+2*S+"m-"+S+",0V"+A.ys,A.noYS||(g+="m-"+S+",0h"+2*S),I.size()?o&&(I=I.transition().duration(i.duration).ease(i.easing)):I=b.append("path").style("vector-effect",l?"none":"non-scaling-stroke").classed("yerror",!0),I.attr("d",g)}else I.remove();var O=b.select("path.xerror");if(p.visible&&E(A.y)&&E(A.xh)&&E(A.xs)){var R=(p.copy_ystyle?T:p).width;g="M"+A.xh+","+(A.y-R)+"v"+2*R+"m0,-"+R+"H"+A.xs,A.noXS||(g+="m0,-"+R+"v"+2*R),O.size()?o&&(O=O.transition().duration(i.duration).ease(i.easing)):O=b.append("path").style("vector-effect",l?"none":"non-scaling-stroke").classed("xerror",!0),O.attr("d",g)}else O.remove()}})}})}},62662:function(ae,B,r){"use strict";var D=r(39898),E=r(7901);ae.exports=function(f){f.each(function(k){var M=k[0].trace,y=M.error_y||{},c=M.error_x||{},i=D.select(this);i.selectAll("path.yerror").style("stroke-width",y.thickness+"px").call(E.stroke,y.color),c.copy_ystyle&&(c=y),i.selectAll("path.xerror").style("stroke-width",c.thickness+"px").call(E.stroke,c.color)})}},77914:function(ae,B,r){"use strict";var D=r(41940),E=r(528).hoverlabel,f=r(1426).extendFlat;ae.exports={hoverlabel:{bgcolor:f({},E.bgcolor,{arrayOk:!0}),bordercolor:f({},E.bordercolor,{arrayOk:!0}),font:D({arrayOk:!0,editType:"none"}),align:f({},E.align,{arrayOk:!0}),namelength:f({},E.namelength,{arrayOk:!0}),editType:"none"}}},30732:function(ae,B,r){"use strict";var D=r(71828),E=r(73972);function f(k,M,y,c){c=c||D.identity,Array.isArray(k)&&(M[0][y]=c(k))}ae.exports=function(k){var M=k.calcdata,y=k._fullLayout;function c(l){return function(u){return D.coerceHoverinfo({hoverinfo:u},{_module:l._module},y)}}for(var i=0;i<M.length;i++){var s=M[i],a=s[0].trace;if(!E.traceIs(a,"pie-like")){var o=E.traceIs(a,"2dMap")?f:D.fillArray;o(a.hoverinfo,s,"hi",c(a)),a.hovertemplate&&o(a.hovertemplate,s,"ht"),a.hoverlabel&&(o(a.hoverlabel.bgcolor,s,"hbg"),o(a.hoverlabel.bordercolor,s,"hbc"),o(a.hoverlabel.font.size,s,"hts"),o(a.hoverlabel.font.color,s,"htc"),o(a.hoverlabel.font.family,s,"htf"),o(a.hoverlabel.namelength,s,"hnl"),o(a.hoverlabel.align,s,"hta"))}}}},75914:function(ae,B,r){"use strict";var D=r(73972),E=r(88335).hover;ae.exports=function(f,k,M){var y=D.getComponentMethod("annotations","onClick")(f,f._hoverdata);function c(){f.emit("plotly_click",{points:f._hoverdata,event:k})}void 0!==M&&E(f,k,M,!0),f._hoverdata&&k&&k.target&&(y&&y.then?y.then(c):c(),k.stopImmediatePropagation&&k.stopImmediatePropagation())}},26675:function(ae){"use strict";ae.exports={YANGLE:60,HOVERARROWSIZE:6,HOVERTEXTPAD:3,HOVERFONTSIZE:13,HOVERFONT:"Arial, sans-serif",HOVERMINTIME:50,HOVERID:"-hover"}},54268:function(ae,B,r){"use strict";var D=r(71828),E=r(77914),f=r(38048);ae.exports=function(k,M,y,c){var i=D.extendFlat({},c.hoverlabel);M.hovertemplate&&(i.namelength=-1),f(k,M,function(s,a){return D.coerce(k,M,E,s,a)},i)}},23469:function(ae,B,r){"use strict";var D=r(71828);B.getSubplot=function(c){return c.subplot||c.xaxis+c.yaxis||c.geo},B.isTraceInSubplots=function(c,i){if("splom"===c.type){for(var s=c.xaxes||[],a=c.yaxes||[],o=0;o<s.length;o++)for(var l=0;l<a.length;l++)if(-1!==i.indexOf(s[o]+a[l]))return!0;return!1}return-1!==i.indexOf(B.getSubplot(c))},B.flat=function(c,i){for(var s=new Array(c.length),a=0;a<c.length;a++)s[a]=i;return s},B.p2c=function(c,i){for(var s=new Array(c.length),a=0;a<c.length;a++)s[a]=c[a].p2c(i);return s},B.getDistanceFunction=function(c,i,s,a){return"closest"===c?a||B.quadrature(i,s):"x"===c.charAt(0)?i:s},B.getClosest=function(c,i,s){if(!1!==s.index)s.index>=0&&s.index<c.length?s.distance=0:s.index=!1;else for(var a=0;a<c.length;a++){var o=i(c[a]);o<=s.distance&&(s.index=a,s.distance=o)}return s},B.inbox=function(c,i,s){return c*i<0||0===c?s:1/0},B.quadrature=function(c,i){return function(s){var a=c(s),o=i(s);return Math.sqrt(a*a+o*o)}},B.makeEventData=function(c,i,s){var a="index"in c?c.index:c.pointNumber,o={data:i._input,fullData:i,curveNumber:i.index,pointNumber:a};if(i._indexToPoints){var l=i._indexToPoints[a];1===l.length?o.pointIndex=l[0]:o.pointIndices=l}else o.pointIndex=a;return i._module.eventData?o=i._module.eventData(o,c,i,s,a):("xVal"in c?o.x=c.xVal:"x"in c&&(o.x=c.x),"yVal"in c?o.y=c.yVal:"y"in c&&(o.y=c.y),c.xa&&(o.xaxis=c.xa),c.ya&&(o.yaxis=c.ya),void 0!==c.zLabelVal&&(o.z=c.zLabelVal)),B.appendArrayPointValue(o,i,a),o},B.appendArrayPointValue=function(c,i,s){var a=i._arrayAttrs;if(a)for(var o=0;o<a.length;o++){var l=a[o],u=f(l);if(void 0===c[u]){var h=k(D.nestedProperty(i,l).get(),s);void 0!==h&&(c[u]=h)}}},B.appendArrayMultiPointValues=function(c,i,s){var a=i._arrayAttrs;if(a)for(var o=0;o<a.length;o++){var l=a[o],u=f(l);if(void 0===c[u]){for(var h=D.nestedProperty(i,l).get(),v=new Array(s.length),p=0;p<s.length;p++)v[p]=k(h,s[p]);c[u]=v}}};var E={ids:"id",locations:"location",labels:"label",values:"value","marker.colors":"color",parents:"parent"};function f(c){return E[c]||c}function k(c,i){return Array.isArray(i)?Array.isArray(c)&&Array.isArray(c[i[0]])?c[i[0]][i[1]]:void 0:c[i]}var M={x:!0,y:!0},y={"x unified":!0,"y unified":!0};B.isUnifiedHover=function(c){return"string"==typeof c&&!!y[c]},B.isXYhover=function(c){return"string"==typeof c&&!!M[c]}},88335:function(ae,B,r){"use strict";var D=r(39898),E=r(92770),f=r(84267),k=r(71828),M=k.strTranslate,y=k.strRotate,c=r(11086),i=r(63893),s=r(39918),a=r(91424),o=r(7901),l=r(28569),u=r(89298),h=r(73972),v=r(23469),p=r(26675),T=r(99017),_=r(43969),m=p.YANGLE,w=Math.PI*m/180,x=1/Math.sin(w),b=Math.cos(w),A=Math.sin(w),g=p.HOVERARROWSIZE,I=p.HOVERTEXTPAD,S={box:!0,ohlc:!0,violin:!0,candlestick:!0},O={scatter:!0,scattergl:!0,splom:!0};function R(Q){return[Q.trace.index,Q.index,Q.x0,Q.y0,Q.name,Q.attr,Q.xa?Q.xa._id:"",Q.ya?Q.ya._id:""].join(",")}B.hover=function(Q,ee,oe,ce){Q=k.getGraphDiv(Q);var fe=ee.target;k.throttle(Q._fullLayout._uid+p.HOVERID,p.HOVERMINTIME,function(){!function(le,pe,Me,Ae,be){Me||(Me="xy");var ye=Array.isArray(Me)?Me:[Me],we=le._fullLayout,ze=we._plots||[],Se=ze[Me],Ce=we._has("cartesian");if(Se){var ge=Se.overlays.map(function(qt){return qt.id});ye=ye.concat(ge)}for(var he=ye.length,_e=new Array(he),Le=new Array(he),Ie=!1,De=0;De<he;De++){var je=ye[De];if(ze[je])Ie=!0,_e[De]=ze[je].xaxis,Le[De]=ze[je].yaxis;else{if(!we[je]||!we[je]._subplot)return void k.warn("Unrecognized subplot: "+je);var qe=we[je]._subplot;_e[De]=qe.xaxis,Le[De]=qe.yaxis}}var ve=pe.hovermode||we.hovermode;if(ve&&!Ie&&(ve="closest"),-1===["x","y","closest","x unified","y unified"].indexOf(ve)||!le.calcdata||le.querySelector(".zoombox")||le._dragging)return l.unhoverRaw(le,pe);var Oe=we.hoverdistance;-1===Oe&&(Oe=1/0);var ke=we.spikedistance;-1===ke&&(ke=1/0);var Be,We,Ge,Ke,et,at,mt,ct,kt,Dt,Et,ht,pt,Pt=[],zt=[],Ht={hLinePoint:null,vLinePoint:null},Lt=!1;if(Array.isArray(pe))for(ve="array",Ge=0;Ge<pe.length;Ge++)(et=le.calcdata[pe[Ge].curveNumber||0])&&(at=et[0].trace,"skip"!==et[0].trace.hoverinfo&&(zt.push(et),"h"===at.orientation&&(Lt=!0)));else{for(Ke=0;Ke<le.calcdata.length;Ke++)"skip"!==(at=(et=le.calcdata[Ke])[0].trace).hoverinfo&&v.isTraceInSubplots(at,ye)&&(zt.push(et),"h"===at.orientation&&(Lt=!0));var tt,it;if(be){if(!1===c.triggerHandler(le,"plotly_beforehover",pe))return;var Je=be.getBoundingClientRect();tt=pe.clientX-Je.left,it=pe.clientY-Je.top,we._calcInverseTransform(le);var ot=k.apply3DTransform(we._invTransform)(tt,it);if(it=ot[1],(tt=ot[0])<0||tt>_e[0]._length||it<0||it>Le[0]._length)return l.unhoverRaw(le,pe)}else tt="xpx"in pe?pe.xpx:_e[0]._length/2,it="ypx"in pe?pe.ypx:Le[0]._length/2;if(pe.pointerX=tt+_e[0]._offset,pe.pointerY=it+Le[0]._offset,Be="xval"in pe?v.flat(ye,pe.xval):v.p2c(_e,tt),We="yval"in pe?v.flat(ye,pe.yval):v.p2c(Le,it),!E(Be[0])||!E(We[0]))return k.warn("Fx.hover failed",pe,le),l.unhoverRaw(le,pe)}var gt=1/0;function ft(qt,tn){for(Ke=0;Ke<zt.length;Ke++)if((et=zt[Ke])&&et[0]&&et[0].trace&&!0===(at=et[0].trace).visible&&0!==at._length&&-1===["carpet","contourcarpet"].indexOf(at._module.name)){if("splom"===at.type?mt=ye[ct=0]:(mt=v.getSubplot(at),ct=ye.indexOf(mt)),v.isUnifiedHover(kt=ve)&&(kt=kt.charAt(0)),ht={cd:et,trace:at,xa:_e[ct],ya:Le[ct],maxHoverDistance:Oe,maxSpikeDistance:ke,index:!1,distance:Math.min(gt,Oe),spikeDistance:1/0,xSpike:void 0,ySpike:void 0,color:o.defaultLine,name:at.name,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},we[mt]&&(ht.subplot=we[mt]._subplot),we._splomScenes&&we._splomScenes[at.uid]&&(ht.scene=we._splomScenes[at.uid]),pt=Pt.length,"array"===kt){var bn=pe[Ke];"pointNumber"in bn?(ht.index=bn.pointNumber,kt="closest"):(kt="","xval"in bn&&(Dt=bn.xval,kt="x"),"yval"in bn&&(Et=bn.yval,kt=kt?"closest":"y"))}else void 0!==qt&&void 0!==tn?(Dt=qt,Et=tn):(Dt=Be[ct],Et=We[ct]);if(0!==Oe)if(at._module&&at._module.hoverPoints){var Cn=at._module.hoverPoints(ht,Dt,Et,kt,{finiteRange:!0,hoverLayer:we._hoverlayer});if(Cn)for(var Bn,sr=0;sr<Cn.length;sr++)E((Bn=Cn[sr]).x0)&&E(Bn.y0)&&Pt.push(Y(Bn,ve))}else k.log("Unrecognized trace type in hover:",at);if("closest"===ve&&Pt.length>pt&&(Pt.splice(0,pt),gt=Pt[0].distance),Ce&&0!==ke&&0===Pt.length){ht.distance=ke,ht.index=!1;var yn=at._module.hoverPoints(ht,Dt,Et,"closest",{hoverLayer:we._hoverlayer});if(yn&&(yn=yn.filter(function(an){return an.spikeDistance<=ke})),yn&&yn.length){var Zn,Xn=yn.filter(function(an){return an.xa.showspikes&&"hovered data"!==an.xa.spikesnap});if(Xn.length){var Jt=Xn[0];E(Jt.x0)&&E(Jt.y0)&&(Zn=$e(Jt),(!Ht.vLinePoint||Ht.vLinePoint.spikeDistance>Zn.spikeDistance)&&(Ht.vLinePoint=Zn))}var Nn=yn.filter(function(an){return an.ya.showspikes&&"hovered data"!==an.ya.spikesnap});if(Nn.length){var Ft=Nn[0];E(Ft.x0)&&E(Ft.y0)&&(Zn=$e(Ft),(!Ht.hLinePoint||Ht.hLinePoint.spikeDistance>Zn.spikeDistance)&&(Ht.hLinePoint=Zn))}}}}}function Ue(qt,tn,bn){for(var Cn,Bn=null,sr=1/0,yn=0;yn<qt.length;yn++)Cn=qt[yn].spikeDistance,bn&&0===yn&&(Cn=-1/0),Cn<=sr&&Cn<=tn&&(Bn=qt[yn],sr=Cn);return Bn}function $e(qt){return qt?{xa:qt.xa,ya:qt.ya,x:void 0!==qt.xSpike?qt.xSpike:(qt.x0+qt.x1)/2,y:void 0!==qt.ySpike?qt.ySpike:(qt.y0+qt.y1)/2,distance:qt.distance,spikeDistance:qt.spikeDistance,curveNumber:qt.trace.index,color:qt.color,pointNumber:qt.index}:null}ft();var dt={fullLayout:we,container:we._hoverlayer,event:pe},ut=le._spikepoints;le._spikepoints={vLinePoint:Ht.vLinePoint,hLinePoint:Ht.hLinePoint};var wt=function(){Pt.sort(function(qt,tn){return qt.distance-tn.distance}),Pt=function(qt,tn){for(var bn=tn.charAt(0),Cn=[],Bn=[],sr=[],yn=0;yn<qt.length;yn++){var Zn=qt[yn];h.traceIs(Zn.trace,"bar-like")||h.traceIs(Zn.trace,"box-violin")?sr.push(Zn):Zn.trace[bn+"period"]?Bn.push(Zn):Cn.push(Zn)}return Cn.concat(Bn).concat(sr)}(Pt,ve)};wt();var St=ve.charAt(0),_t=("x"===St||"y"===St)&&Pt[0]&&O[Pt[0].trace.type];if(Ce&&0!==ke&&0!==Pt.length){var Rt=Ue(Pt.filter(function(qt){return qt.ya.showspikes}),ke,_t);Ht.hLinePoint=$e(Rt);var bt=Ue(Pt.filter(function(qt){return qt.xa.showspikes}),ke,_t);Ht.vLinePoint=$e(bt)}if(0===Pt.length){var Tt=l.unhoverRaw(le,pe);return!Ce||null===Ht.hLinePoint&&null===Ht.vLinePoint||H(ut)&&G(le,Ht,dt),Tt}if(Ce&&H(ut)&&G(le,Ht,dt),v.isXYhover(kt)&&0!==Pt[0].length&&"splom"!==Pt[0].trace.type){var It=Pt[0],Wt=(Pt=S[It.trace.type]?Pt.filter(function(qt){return qt.trace.index===It.trace.index}):[It]).length;ft(Z("x",It,we),Z("y",It,we));var $t,Qt=[],pn={},en=0,nn=function(qt){var tn=S[qt.trace.type]?R(qt):qt.trace.index;if(pn[tn]){var bn=pn[tn]-1,Cn=Qt[bn];bn>0&&Math.abs(qt.distance)<Math.abs(Cn.distance)&&(Qt[bn]=qt)}else en++,pn[tn]=en,Qt.push(qt)};for($t=0;$t<Wt;$t++)nn(Pt[$t]);for($t=Pt.length-1;$t>Wt-1;$t--)nn(Pt[$t]);Pt=Qt,wt()}var fn=le._hoverdata,On=[],Un=se(le),Sn=re(le);for(Ge=0;Ge<Pt.length;Ge++){var on=Pt[Ge],vn=v.makeEventData(on,on.trace,on.cd);if(!1!==on.hovertemplate){var un=!1;on.cd[on.index]&&on.cd[on.index].ht&&(un=on.cd[on.index].ht),on.hovertemplate=un||on.trace.hovertemplate||!1}if(on.xa&&on.ya){var Tn=on.x0+on.xa._offset,kn=on.x1+on.xa._offset,xn=on.y0+on.ya._offset,Rn=on.y1+on.ya._offset,Hn=Math.min(Tn,kn),En=Math.max(Tn,kn),Wn=Math.min(xn,Rn),gr=Math.max(xn,Rn);vn.bbox={x0:Hn+Sn,x1:En+Sn,y0:Wn+Un,y1:gr+Un}}on.eventData=[vn],On.push(vn)}le._hoverdata=On;var lr="y"===ve&&(zt.length>1||Pt.length>1)||"closest"===ve&&Lt&&Pt.length>1,wr=o.combine(we.plot_bgcolor||o.background,we.paper_bgcolor),dr=N(Pt,{gd:le,hovermode:ve,rotateLabels:lr,bgColor:wr,container:we._hoverlayer,outerContainer:we._paper.node(),commonLabelOpts:we.hoverlabel,hoverdistance:we.hoverdistance}),mr=dr.hoverLabels;if(v.isUnifiedHover(ve)||(function(qt,tn,bn,Cn){var Bn,sr,yn,Zn,Xn,Jt,Nn,Ft=tn?"xa":"ya",an=tn?"ya":"xa",hn=0,Dn=1,Ln=qt.size(),Vn=new Array(Ln),Mn=0,ln=Cn.minX,cn=Cn.maxX,wn=Cn.minY,An=Cn.maxY,Gn=function(Qn){return Qn*bn._invScaleX},Yn=function(Qn){return Qn*bn._invScaleY};function hr(Qn){var Yr=Qn[0],nr=Qn[Qn.length-1];if(yn=nr.pos+nr.dp+nr.size-Yr.pmax,(sr=Yr.pmin-Yr.pos-Yr.dp+Yr.size)>.01){for(Xn=Qn.length-1;Xn>=0;Xn--)Qn[Xn].dp+=sr;Bn=!1}if(!(yn<.01)){if(sr<-.01){for(Xn=Qn.length-1;Xn>=0;Xn--)Qn[Xn].dp-=yn;Bn=!1}if(Bn){var Fr=0;for(Zn=0;Zn<Qn.length;Zn++)(Jt=Qn[Zn]).pos+Jt.dp+Jt.size>Yr.pmax&&Fr++;for(Zn=Qn.length-1;Zn>=0&&!(Fr<=0);Zn--)(Jt=Qn[Zn]).pos>Yr.pmax-1&&(Jt.del=!0,Fr--);for(Zn=0;Zn<Qn.length&&!(Fr<=0);Zn++)if((Jt=Qn[Zn]).pos<Yr.pmin+1)for(Jt.del=!0,Fr--,yn=2*Jt.size,Xn=Qn.length-1;Xn>=0;Xn--)Qn[Xn].dp-=yn;for(Zn=Qn.length-1;Zn>=0&&!(Fr<=0);Zn--)(Jt=Qn[Zn]).pos+Jt.dp+Jt.size>Yr.pmax&&(Jt.del=!0,Fr--)}}}for(qt.each(function(Qn){var Yr=Qn[Ft],nr=Qn[an],Fr="x"===Yr._id.charAt(0),ri=Yr.range;0===Mn&&ri&&ri[0]>ri[1]!==Fr&&(Dn=-1);var $i=0,uo=Fr?bn.width:bn.height;if("x"===bn.hovermode||"y"===bn.hovermode){var to,oo,Qi=X(Qn,tn),Io=Qn.anchor,Ys="end"===Io?-1:1;if("middle"===Io)oo=(to=Qn.crossPos+(Fr?Yn(Qi.y-Qn.by/2):Gn(Qn.bx/2+Qn.tx2width/2)))+(Fr?Yn(Qn.by):Gn(Qn.bx));else if(Fr)oo=(to=Qn.crossPos+Yn(g+Qi.y)-Yn(Qn.by/2-g))+Yn(Qn.by);else{var di=Gn(Ys*g+Qi.x),Fs=di+Gn(Ys*Qn.bx);to=Qn.crossPos+Math.min(di,Fs),oo=Qn.crossPos+Math.max(di,Fs)}Fr?void 0!==wn&&void 0!==An&&Math.min(oo,An)-Math.max(to,wn)>1&&("left"===nr.side?($i=nr._mainLinePosition,uo=bn.width):uo=nr._mainLinePosition):void 0!==ln&&void 0!==cn&&Math.min(oo,cn)-Math.max(to,ln)>1&&("top"===nr.side?($i=nr._mainLinePosition,uo=bn.height):uo=nr._mainLinePosition)}Vn[Mn++]=[{datum:Qn,traceIndex:Qn.trace.index,dp:0,pos:Qn.pos,posref:Qn.posref,size:Qn.by*(Fr?x:1)/2,pmin:$i,pmax:uo}]}),Vn.sort(function(Qn,Yr){return Qn[0].posref-Yr[0].posref||Dn*(Yr[0].traceIndex-Qn[0].traceIndex)});!Bn&&hn<=Ln;){for(hn++,Bn=!0,Zn=0;Zn<Vn.length-1;){var ir=Vn[Zn],_r=Vn[Zn+1],ur=ir[ir.length-1],or=_r[0];if((sr=ur.pos+ur.dp+ur.size-or.pos-or.dp+or.size)>.01&&ur.pmin===or.pmin&&ur.pmax===or.pmax){for(Xn=_r.length-1;Xn>=0;Xn--)_r[Xn].dp+=sr;for(ir.push.apply(ir,_r),Vn.splice(Zn+1,1),Nn=0,Xn=ir.length-1;Xn>=0;Xn--)Nn+=ir[Xn].dp;for(yn=Nn/ir.length,Xn=ir.length-1;Xn>=0;Xn--)ir[Xn].dp-=yn;Bn=!1}else Zn++}Vn.forEach(hr)}for(Zn=Vn.length-1;Zn>=0;Zn--){var Tr=Vn[Zn];for(Xn=Tr.length-1;Xn>=0;Xn--){var Mr=Tr[Xn],Or=Mr.datum;Or.offset=Mr.dp,Or.del=Mr.del}}}(mr,lr,we,dr.commonLabelBoundingBox),F(mr,lr,we._invScaleX,we._invScaleY)),be&&be.tagName){var Ir=h.getComponentMethod("annotations","hasClickToShow")(le,On);s(D.select(be),Ir?"pointer":"")}be&&!Ae&&function(qt,tn,bn){if(!bn||bn.length!==qt._hoverdata.length)return!0;for(var Cn=bn.length-1;Cn>=0;Cn--){var Bn=bn[Cn],sr=qt._hoverdata[Cn];if(Bn.curveNumber!==sr.curveNumber||String(Bn.pointNumber)!==String(sr.pointNumber)||String(Bn.pointNumbers)!==String(sr.pointNumbers))return!0}return!1}(le,0,fn)&&(fn&&le.emit("plotly_unhover",{event:pe,points:fn}),le.emit("plotly_hover",{event:pe,points:le._hoverdata,xaxes:_e,yaxes:Le,xvals:Be,yvals:We}))}(Q,ee,oe,ce,fe)})},B.loneHover=function(Q,ee){var oe=!0;Array.isArray(Q)||(oe=!1,Q=[Q]);var ce=ee.gd,fe=se(ce),le=re(ce),pe=N(Q.map(function(be){var ye=be._x0||be.x0||be.x||0,we=be._x1||be.x1||be.x||0,ze=be._y0||be.y0||be.y||0,Se=be._y1||be.y1||be.y||0,Ce=be.eventData;if(Ce){var ge=Math.min(ye,we),he=Math.max(ye,we),_e=Math.min(ze,Se),Le=Math.max(ze,Se),Ie=be.trace;if(h.traceIs(Ie,"gl3d")){var De=ce._fullLayout[Ie.scene]._scene.container,je=De.offsetLeft,qe=De.offsetTop;ge+=je,he+=je,_e+=qe,Le+=qe}Ce.bbox={x0:ge+le,x1:he+le,y0:_e+fe,y1:Le+fe},ee.inOut_bbox&&ee.inOut_bbox.push(Ce.bbox)}else Ce=!1;return{color:be.color||o.defaultLine,x0:be.x0||be.x||0,x1:be.x1||be.x||0,y0:be.y0||be.y||0,y1:be.y1||be.y||0,xLabel:be.xLabel,yLabel:be.yLabel,zLabel:be.zLabel,text:be.text,name:be.name,idealAlign:be.idealAlign,borderColor:be.borderColor,fontFamily:be.fontFamily,fontSize:be.fontSize,fontColor:be.fontColor,nameLength:be.nameLength,textAlign:be.textAlign,trace:be.trace||{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0,hovertemplate:be.hovertemplate||!1,hovertemplateLabels:be.hovertemplateLabels||!1,eventData:Ce}}),{gd:ce,hovermode:"closest",rotateLabels:!1,bgColor:ee.bgColor||o.background,container:D.select(ee.container),outerContainer:ee.outerContainer||ee.container}).hoverLabels,Me=0,Ae=0;return pe.sort(function(be,ye){return be.y0-ye.y0}).each(function(be,ye){var we=be.y0-be.by/2;be.offset=we-5<Me?Me-we+5:0,Me=we+be.by+be.offset,ye===ee.anchorIndex&&(Ae=be.offset)}).each(function(be){be.offset-=Ae}),F(pe,!1,ce._fullLayout._invScaleX,ce._fullLayout._invScaleY),oe?pe:pe.node()};var L=/<extra>([\s\S]*)<\/extra>/;function N(Q,ee){var oe=ee.gd,ce=oe._fullLayout,fe=ee.hovermode,le=ee.rotateLabels,pe=ee.bgColor,Me=ee.container,Ae=ee.outerContainer,be=ee.commonLabelOpts||{};if(0===Q.length)return[[]];var ye=ee.fontFamily||p.HOVERFONT,we=ee.fontSize||p.HOVERFONTSIZE,ze=Q[0],Se=ze.xa,Ce=ze.ya,ge=fe.charAt(0),he=ge+"Label",_e=ze[he];if(void 0===_e&&"multicategory"===Se.type)for(var Le=0;Le<Q.length&&void 0===(_e=Q[Le][he]);Le++);var Ie=ne(oe,Ae),De=Ie.top,je=Ie.width,qe=Ie.height,ve=void 0!==_e&&ze.distance<=ee.hoverdistance&&("x"===fe||"y"===fe);if(ve){var Oe,ke,Be=!0;for(Oe=0;Oe<Q.length;Oe++)if(Be&&void 0===Q[Oe].zLabel&&(Be=!1),ke=Q[Oe].hoverinfo||Q[Oe].trace.hoverinfo){var We=Array.isArray(ke)?ke:ke.split("+");if(-1===We.indexOf("all")&&-1===We.indexOf(fe)){ve=!1;break}}Be&&(ve=!1)}var Ge=Me.selectAll("g.axistext").data(ve?[0]:[]);Ge.enter().append("g").classed("axistext",!0),Ge.exit().remove();var Ke={minX:0,maxX:0,minY:0,maxY:0};if(Ge.each(function(){var Tt=D.select(this),It=k.ensureSingle(Tt,"path","",function(Wn){Wn.style({"stroke-width":"1px"})}),Wt=k.ensureSingle(Tt,"text","",function(Wn){Wn.attr("data-notex",1)}),$t=be.bgcolor||o.defaultLine,Qt=be.bordercolor||o.contrast($t),pn=o.contrast($t),en={family:be.font.family||ye,size:be.font.size||we,color:be.font.color||pn};It.style({fill:$t,stroke:Qt}),Wt.text(_e).call(a.font,en).call(i.positionText,0,0).call(i.convertToTspans,oe),Tt.attr("transform","");var nn,fn,On=ne(oe,Wt.node());if("x"===fe){var Un="top"===Se.side?"-":"";Wt.attr("text-anchor","middle").call(i.positionText,0,"top"===Se.side?De-On.bottom-g-I:De-On.top+g+I),fn=Ce._offset+("top"===Se.side?0:Ce._length);var Sn=On.width/2+I;(nn=Se._offset+(ze.x0+ze.x1)/2)<Sn?(nn=Sn,It.attr("d","M-"+(Sn-g)+",0L-"+(Sn-2*g)+","+Un+g+"H"+Sn+"v"+Un+(2*I+On.height)+"H-"+Sn+"V"+Un+g+"Z")):nn>ce.width-Sn?(nn=ce.width-Sn,It.attr("d","M"+(Sn-g)+",0L"+Sn+","+Un+g+"v"+Un+(2*I+On.height)+"H-"+Sn+"V"+Un+g+"H"+(Sn-2*g)+"Z")):It.attr("d","M0,0L"+g+","+Un+g+"H"+Sn+"v"+Un+(2*I+On.height)+"H-"+Sn+"V"+Un+g+"H-"+g+"Z"),Ke.minX=nn-Sn,Ke.maxX=nn+Sn,"top"===Se.side?(Ke.minY=fn-(2*I+On.height),Ke.maxY=fn-I):(Ke.minY=fn+I,Ke.maxY=fn+(2*I+On.height))}else{var on,vn,un;"right"===Ce.side?(on="start",vn=1,un="",nn=Se._offset+Se._length):(on="end",vn=-1,un="-",nn=Se._offset),fn=Ce._offset+(ze.y0+ze.y1)/2,Wt.attr("text-anchor",on),It.attr("d","M0,0L"+un+g+","+g+"V"+(I+On.height/2)+"h"+un+(2*I+On.width)+"V-"+(I+On.height/2)+"H"+un+g+"V-"+g+"Z"),Ke.minY=fn-(I+On.height/2),Ke.maxY=fn+(I+On.height/2),"right"===Ce.side?(Ke.minX=nn+g,Ke.maxX=nn+g+(2*I+On.width)):(Ke.minX=nn-g-(2*I+On.width),Ke.maxX=nn-g);var Tn,kn=On.height/2,xn=De-On.top-kn,Rn="clip"+ce._uid+"commonlabel"+Ce._id;if(nn<On.width+2*I+g){Tn="M-"+(g+I)+"-"+kn+"h-"+(On.width-I)+"V"+kn+"h"+(On.width-I)+"Z";var Hn=On.width-nn+I;i.positionText(Wt,Hn,xn),"end"===on&&Wt.selectAll("tspan").each(function(){var Wn=D.select(this),gr=a.tester.append("text").text(Wn.text()).call(a.font,en),lr=ne(oe,gr.node());Math.round(lr.width)<Math.round(On.width)&&Wn.attr("x",Hn-lr.width),gr.remove()})}else i.positionText(Wt,vn*(I+g),xn),Tn=null;var En=ce._topclips.selectAll("#"+Rn).data(Tn?[0]:[]);En.enter().append("clipPath").attr("id",Rn).append("path"),En.exit().remove(),En.select("path").attr("d",Tn),a.setClipUrl(Wt,Tn?Rn:null,oe)}Tt.attr("transform",M(nn,fn))}),v.isUnifiedHover(fe)){Me.selectAll("g.hovertext").remove();var et=Q.filter(function(Tt){return"none"!==Tt.hoverinfo});if(0===et.length)return[];var at=ce.hoverlabel,mt=at.font,kt={font:mt};T({showlegend:!0,legend:{title:{text:_e,font:mt},font:mt,bgcolor:at.bgcolor,bordercolor:at.bordercolor,borderwidth:1,tracegroupgap:7,traceorder:ce.legend?ce.legend.traceorder:void 0,orientation:"v"}},kt,oe._fullData);var Dt=kt.legend;Dt.entries=[];for(var Et=0;Et<et.length;Et++){var ht=et[Et];if("none"!==ht.hoverinfo){var pt=j(ht,!0,fe,ce,_e),Pt=pt[0],zt=pt[1];ht.name=zt,ht.text=""!==zt?zt+" : "+Pt:Pt;var Ht=ht.cd[ht.index];Ht&&(Ht.mc&&(ht.mc=Ht.mc),Ht.mcc&&(ht.mc=Ht.mcc),Ht.mlc&&(ht.mlc=Ht.mlc),Ht.mlcc&&(ht.mlc=Ht.mlcc),Ht.mlw&&(ht.mlw=Ht.mlw),Ht.mrc&&(ht.mrc=Ht.mrc),Ht.dir&&(ht.dir=Ht.dir)),ht._distinct=!0,Dt.entries.push([ht])}}Dt.entries.sort(function(Tt,It){return Tt[0].trace.index-It[0].trace.index}),Dt.layer=Me,Dt._inHover=!0,Dt._groupTitleFont=at.grouptitlefont,_(oe,Dt);var Lt,tt,it,Je,ot=Me.select("g.legend"),gt=ne(oe,ot.node()),ft=gt.width+2*I,Ue=gt.height+2*I,$e=et[0],dt=($e.x0+$e.x1)/2,ut=($e.y0+$e.y1)/2,At=!(h.traceIs($e.trace,"bar-like")||h.traceIs($e.trace,"box-violin"));"y"===ge?At?(tt=ut-I,Lt=ut+I):(tt=Math.min.apply(null,et.map(function(Tt){return Math.min(Tt.y0,Tt.y1)})),Lt=Math.max.apply(null,et.map(function(Tt){return Math.max(Tt.y0,Tt.y1)}))):tt=Lt=k.mean(et.map(function(Tt){return(Tt.y0+Tt.y1)/2}))-Ue/2,"x"===ge?At?(it=dt+I,Je=dt-I):(it=Math.max.apply(null,et.map(function(Tt){return Math.max(Tt.x0,Tt.x1)})),Je=Math.min.apply(null,et.map(function(Tt){return Math.min(Tt.x0,Tt.x1)}))):it=Je=k.mean(et.map(function(Tt){return(Tt.x0+Tt.x1)/2}))-ft/2;var wt,St,_t=Se._offset,Rt=Ce._offset;return Je+=_t-ft,tt+=Rt-Ue,wt=(it+=_t)+ft<je&&it>=0?it:Je+ft<je&&Je>=0?Je:_t+ft<je?_t:it-dt<dt-Je+ft?je-ft:0,St=(Lt+=Rt)+Ue<qe&&Lt>=0?Lt:tt+Ue<qe&&tt>=0?tt:Rt+Ue<qe?Rt:Lt-ut<ut-tt+Ue?qe-Ue:0,ot.attr("transform",M((wt+=I)-1,(St+=I)-1)),ot}var bt=Me.selectAll("g.hovertext").data(Q,function(Tt){return R(Tt)});return bt.enter().append("g").classed("hovertext",!0).each(function(){var Tt=D.select(this);Tt.append("rect").call(o.fill,o.addOpacity(pe,.8)),Tt.append("text").classed("name",!0),Tt.append("path").style("stroke-width","1px"),Tt.append("text").classed("nums",!0).call(a.font,ye,we)}),bt.exit().remove(),bt.each(function(Tt){var It=D.select(this).attr("transform",""),Wt=Tt.color;Array.isArray(Wt)&&(Wt=Wt[Tt.eventData[0].pointNumber]);var $t=Tt.bgcolor||Wt,Qt=o.combine(o.opacity($t)?$t:o.defaultLine,pe),pn=o.combine(o.opacity(Wt)?Wt:o.defaultLine,pe),en=Tt.borderColor||o.contrast(Qt),nn=j(Tt,ve,fe,ce,_e,It),fn=nn[0],On=nn[1],Un=It.select("text.nums").call(a.font,Tt.fontFamily||ye,Tt.fontSize||we,Tt.fontColor||en).text(fn).attr("data-notex",1).call(i.positionText,0,0).call(i.convertToTspans,oe),Sn=It.select("text.name"),on=0,vn=0;if(On&&On!==fn){Sn.call(a.font,Tt.fontFamily||ye,Tt.fontSize||we,pn).text(On).attr("data-notex",1).call(i.positionText,0,0).call(i.convertToTspans,oe);var un=ne(oe,Sn.node());on=un.width+2*I,vn=un.height+2*I}else Sn.remove(),It.select("rect").remove();It.select("path").style({fill:Qt,stroke:en});var Tn=Tt.xa._offset+(Tt.x0+Tt.x1)/2,kn=Tt.ya._offset+(Tt.y0+Tt.y1)/2,xn=Math.abs(Tt.x1-Tt.x0),Rn=Math.abs(Tt.y1-Tt.y0),Hn=ne(oe,Un.node()),En=Hn.width/ce._invScaleX,Wn=Hn.height/ce._invScaleY;Tt.ty0=(De-Hn.top)/ce._invScaleY,Tt.bx=En+2*I,Tt.by=Math.max(Wn+2*I,vn),Tt.anchor="start",Tt.txwidth=En,Tt.tx2width=on,Tt.offset=0;var gr,lr,wr=(En+g+I+on)*ce._invScaleX;if(le)Tt.pos=Tn,gr=kn+Rn/2+wr<=qe,lr=kn-Rn/2-wr>=0,"top"!==Tt.idealAlign&&gr||!lr?gr?(kn+=Rn/2,Tt.anchor="start"):Tt.anchor="middle":(kn-=Rn/2,Tt.anchor="end"),Tt.crossPos=kn;else{if(Tt.pos=kn,gr=Tn+xn/2+wr<=je,lr=Tn-xn/2-wr>=0,"left"!==Tt.idealAlign&&gr||!lr)if(gr)Tn+=xn/2,Tt.anchor="start";else{Tt.anchor="middle";var dr=wr/2,mr=Tn+dr-je,Ir=Tn-dr;mr>0&&(Tn-=mr),Ir<0&&(Tn+=-Ir)}else Tn-=xn/2,Tt.anchor="end";Tt.crossPos=Tn}Un.attr("text-anchor",Tt.anchor),on&&Sn.attr("text-anchor",Tt.anchor),It.attr("transform",M(Tn,kn)+(le?y(m):""))}),{hoverLabels:bt,commonLabelBoundingBox:Ke}}function j(Q,ee,oe,ce,fe,le){var pe="",Me="";void 0!==Q.nameOverride&&(Q.name=Q.nameOverride),Q.name&&(Q.trace._meta&&(Q.name=k.templateString(Q.name,Q.trace._meta)),pe=W(Q.name,Q.nameLength));var Ae=oe.charAt(0);void 0!==Q.zLabel?(void 0!==Q.xLabel&&(Me+="x: "+Q.xLabel+"<br>"),void 0!==Q.yLabel&&(Me+="y: "+Q.yLabel+"<br>"),"choropleth"!==Q.trace.type&&"choroplethmapbox"!==Q.trace.type&&(Me+=(Me?"z: ":"")+Q.zLabel)):ee&&Q[Ae+"Label"]===fe?Me=Q[("x"===Ae?"y":"x")+"Label"]||"":void 0===Q.xLabel?void 0!==Q.yLabel&&"scattercarpet"!==Q.trace.type&&(Me=Q.yLabel):Me=void 0===Q.yLabel?Q.xLabel:"("+Q.xLabel+", "+Q.yLabel+")",!Q.text&&0!==Q.text||Array.isArray(Q.text)||(Me+=(Me?"<br>":"")+Q.text),void 0!==Q.extraText&&(Me+=(Me?"<br>":"")+Q.extraText),le&&""===Me&&!Q.hovertemplate&&(""===pe&&le.remove(),Me=pe);var ye=Q.hovertemplate||!1;if(ye){var we=Q.hovertemplateLabels||Q;Q[Ae+"Label"]!==fe&&(we[Ae+"other"]=we[Ae+"Val"],we[Ae+"otherLabel"]=we[Ae+"Label"]),Me=(Me=k.hovertemplateString(ye,we,ce._d3locale,Q.eventData[0]||{},Q.trace._meta)).replace(L,function(ze,Se){return pe=W(Se,Q.nameLength),""})}return[Me,pe]}function X(Q,ee){var oe=0,ce=Q.offset;return ee&&(ce*=-A,oe=Q.offset*b),{x:oe,y:ce}}function F(Q,ee,oe,ce){var fe=function(pe){return pe*oe},le=function(pe){return pe*ce};Q.each(function(pe){var Me=D.select(this);if(pe.del)return Me.remove();var Ae,be,ye,we,ze=Me.select("text.nums"),Se=pe.anchor,Ce="end"===Se?-1:1,ge=(we=(ye=(be={start:1,end:-1,middle:0}[(Ae=pe).anchor])*(g+I))+be*(Ae.txwidth+I),"middle"===Ae.anchor&&(ye-=Ae.tx2width/2,we+=Ae.txwidth/2+I),{alignShift:be,textShiftX:ye,text2ShiftX:we}),he=X(pe,ee),_e=he.x,Le=he.y,Ie="middle"===Se;Me.select("path").attr("d",Ie?"M-"+fe(pe.bx/2+pe.tx2width/2)+","+le(Le-pe.by/2)+"h"+fe(pe.bx)+"v"+le(pe.by)+"h-"+fe(pe.bx)+"Z":"M0,0L"+fe(Ce*g+_e)+","+le(g+Le)+"v"+le(pe.by/2-g)+"h"+fe(Ce*pe.bx)+"v-"+le(pe.by)+"H"+fe(Ce*g+_e)+"V"+le(Le-g)+"Z");var De=_e+ge.textShiftX,je=Le+pe.ty0-pe.by/2+I,qe=pe.textAlign||"auto";"auto"!==qe&&("left"===qe&&"start"!==Se?(ze.attr("text-anchor","start"),De=Ie?-pe.bx/2-pe.tx2width/2+I:-pe.bx-I):"right"===qe&&"end"!==Se&&(ze.attr("text-anchor","end"),De=Ie?pe.bx/2-pe.tx2width/2-I:pe.bx+I)),ze.call(i.positionText,fe(De),le(je)),pe.tx2width&&(Me.select("text.name").call(i.positionText,fe(ge.text2ShiftX+ge.alignShift*I+_e),le(Le+pe.ty0-pe.by/2+I)),Me.select("rect").call(a.setRect,fe(ge.text2ShiftX+(ge.alignShift-1)*pe.tx2width/2+_e),le(Le-pe.by/2-1),fe(pe.tx2width),le(pe.by+2)))})}function Y(Q,ee){var oe=Q.index,ce=Q.trace||{},fe=Q.cd[0],le=Q.cd[oe]||{};function pe(ze){return ze||E(ze)&&0===ze}var Me=Array.isArray(oe)?function(ze,Se){var Ce=k.castOption(fe,oe,ze);return pe(Ce)?Ce:k.extractOption({},ce,"",Se)}:function(ze,Se){return k.extractOption(le,ce,ze,Se)};function Ae(ze,Se,Ce){var ge=Me(Se,Ce);pe(ge)&&(Q[ze]=ge)}if(Ae("hoverinfo","hi","hoverinfo"),Ae("bgcolor","hbg","hoverlabel.bgcolor"),Ae("borderColor","hbc","hoverlabel.bordercolor"),Ae("fontFamily","htf","hoverlabel.font.family"),Ae("fontSize","hts","hoverlabel.font.size"),Ae("fontColor","htc","hoverlabel.font.color"),Ae("nameLength","hnl","hoverlabel.namelength"),Ae("textAlign","hta","hoverlabel.align"),Q.posref="y"===ee||"closest"===ee&&"h"===ce.orientation?Q.xa._offset+(Q.x0+Q.x1)/2:Q.ya._offset+(Q.y0+Q.y1)/2,Q.x0=k.constrain(Q.x0,0,Q.xa._length),Q.x1=k.constrain(Q.x1,0,Q.xa._length),Q.y0=k.constrain(Q.y0,0,Q.ya._length),Q.y1=k.constrain(Q.y1,0,Q.ya._length),void 0!==Q.xLabelVal&&(Q.xLabel="xLabel"in Q?Q.xLabel:u.hoverLabelText(Q.xa,Q.xLabelVal,ce.xhoverformat),Q.xVal=Q.xa.c2d(Q.xLabelVal)),void 0!==Q.yLabelVal&&(Q.yLabel="yLabel"in Q?Q.yLabel:u.hoverLabelText(Q.ya,Q.yLabelVal,ce.yhoverformat),Q.yVal=Q.ya.c2d(Q.yLabelVal)),void 0!==Q.zLabelVal&&void 0===Q.zLabel&&(Q.zLabel=String(Q.zLabelVal)),!(isNaN(Q.xerr)||"log"===Q.xa.type&&Q.xerr<=0)){var be=u.tickText(Q.xa,Q.xa.c2l(Q.xerr),"hover").text;Q.xLabel+=void 0!==Q.xerrneg?" +"+be+" / -"+u.tickText(Q.xa,Q.xa.c2l(Q.xerrneg),"hover").text:" \xb1 "+be,"x"===ee&&(Q.distance+=1)}if(!(isNaN(Q.yerr)||"log"===Q.ya.type&&Q.yerr<=0)){var ye=u.tickText(Q.ya,Q.ya.c2l(Q.yerr),"hover").text;Q.yLabel+=void 0!==Q.yerrneg?" +"+ye+" / -"+u.tickText(Q.ya,Q.ya.c2l(Q.yerrneg),"hover").text:" \xb1 "+ye,"y"===ee&&(Q.distance+=1)}var we=Q.hoverinfo||Q.trace.hoverinfo;return we&&"all"!==we&&(-1===(we=Array.isArray(we)?we:we.split("+")).indexOf("x")&&(Q.xLabel=void 0),-1===we.indexOf("y")&&(Q.yLabel=void 0),-1===we.indexOf("z")&&(Q.zLabel=void 0),-1===we.indexOf("text")&&(Q.text=void 0),-1===we.indexOf("name")&&(Q.name=void 0)),Q}function G(Q,ee,oe){var ce,fe,le=oe.container,pe=oe.fullLayout,Me=pe._size,Ae=oe.event,be=!!ee.hLinePoint,ye=!!ee.vLinePoint;if(le.selectAll(".spikeline").remove(),ye||be){var we=o.combine(pe.plot_bgcolor,pe.paper_bgcolor);if(be){var ze,Se,Ce=ee.hLinePoint;ce=Ce&&Ce.xa,"cursor"===(fe=Ce&&Ce.ya).spikesnap?(ze=Ae.pointerX,Se=Ae.pointerY):(ze=ce._offset+Ce.x,Se=fe._offset+Ce.y);var ge,he,_e=f.readability(Ce.color,we)<1.5?o.contrast(we):Ce.color,Le=fe.spikemode,Ie=fe.spikethickness,De=fe.spikecolor||_e,je=u.getPxPosition(Q,fe);if(-1!==Le.indexOf("toaxis")||-1!==Le.indexOf("across")){if(-1!==Le.indexOf("toaxis")&&(ge=je,he=ze),-1!==Le.indexOf("across")){var qe=fe._counterDomainMin,ve=fe._counterDomainMax;"free"===fe.anchor&&(qe=Math.min(qe,fe.position),ve=Math.max(ve,fe.position)),ge=Me.l+qe*Me.w,he=Me.l+ve*Me.w}le.insert("line",":first-child").attr({x1:ge,x2:he,y1:Se,y2:Se,"stroke-width":Ie,stroke:De,"stroke-dasharray":a.dashStyle(fe.spikedash,Ie)}).classed("spikeline",!0).classed("crisp",!0),le.insert("line",":first-child").attr({x1:ge,x2:he,y1:Se,y2:Se,"stroke-width":Ie+2,stroke:we}).classed("spikeline",!0).classed("crisp",!0)}-1!==Le.indexOf("marker")&&le.insert("circle",":first-child").attr({cx:je+("right"!==fe.side?Ie:-Ie),cy:Se,r:Ie,fill:De}).classed("spikeline",!0)}if(ye){var Oe,ke,Be=ee.vLinePoint;fe=Be&&Be.ya,"cursor"===(ce=Be&&Be.xa).spikesnap?(Oe=Ae.pointerX,ke=Ae.pointerY):(Oe=ce._offset+Be.x,ke=fe._offset+Be.y);var We,Ge,Ke=f.readability(Be.color,we)<1.5?o.contrast(we):Be.color,et=ce.spikemode,at=ce.spikethickness,mt=ce.spikecolor||Ke,ct=u.getPxPosition(Q,ce);if(-1!==et.indexOf("toaxis")||-1!==et.indexOf("across")){if(-1!==et.indexOf("toaxis")&&(We=ct,Ge=ke),-1!==et.indexOf("across")){var kt=ce._counterDomainMin,Dt=ce._counterDomainMax;"free"===ce.anchor&&(kt=Math.min(kt,ce.position),Dt=Math.max(Dt,ce.position)),We=Me.t+(1-Dt)*Me.h,Ge=Me.t+(1-kt)*Me.h}le.insert("line",":first-child").attr({x1:Oe,x2:Oe,y1:We,y2:Ge,"stroke-width":at,stroke:mt,"stroke-dasharray":a.dashStyle(ce.spikedash,at)}).classed("spikeline",!0).classed("crisp",!0),le.insert("line",":first-child").attr({x1:Oe,x2:Oe,y1:We,y2:Ge,"stroke-width":at+2,stroke:we}).classed("spikeline",!0).classed("crisp",!0)}-1!==et.indexOf("marker")&&le.insert("circle",":first-child").attr({cx:Oe,cy:ct-("top"!==ce.side?at:-at),r:at,fill:mt}).classed("spikeline",!0)}}}function H(Q,ee){return!ee||ee.vLinePoint!==Q._spikepoints.vLinePoint||ee.hLinePoint!==Q._spikepoints.hLinePoint}function W(Q,ee){return i.plainText(Q||"",{len:ee,allowedTags:["br","sub","sup","b","i","em"]})}function Z(Q,ee,oe){var ce=ee[Q+"a"],fe=ee[Q+"Val"],le=ee.cd[0];if("category"===ce.type||"multicategory"===ce.type)fe=ce._categoriesMap[fe];else if("date"===ce.type){var pe=ee.trace[Q+"periodalignment"];if(pe){var Me=ee.cd[ee.index],Ae=Me[Q+"Start"];void 0===Ae&&(Ae=Me[Q]);var be=Me[Q+"End"];void 0===be&&(be=Me[Q]);var ye=be-Ae;"end"===pe?fe+=ye:"middle"===pe&&(fe+=ye/2)}fe=ce.d2c(fe)}return le&&le.t&&le.t.posLetter===ce._id&&("group"!==oe.boxmode&&"group"!==oe.violinmode||(fe+=le.t.dPos)),fe}function se(Q){return Q.offsetTop+Q.clientTop}function re(Q){return Q.offsetLeft+Q.clientLeft}function ne(Q,ee){var oe=Q._fullLayout,ce=ee.getBoundingClientRect(),fe=ce.left,le=ce.top,pe=fe+ce.width,Me=le+ce.height,Ae=k.apply3DTransform(oe._invTransform)(fe,le),be=k.apply3DTransform(oe._invTransform)(pe,Me),ye=Ae[0],we=Ae[1],ze=be[0],Se=be[1];return{x:ye,y:we,width:ze-ye,height:Se-we,top:Math.min(we,Se),left:Math.min(ye,ze),right:Math.max(ye,ze),bottom:Math.max(we,Se)}}},38048:function(ae,B,r){"use strict";var D=r(71828),E=r(7901),f=r(23469).isUnifiedHover;ae.exports=function(k,M,y,c){c=c||{};var i=M.legend;function s(a){c.font[a]||(c.font[a]=i?M.legend.font[a]:M.font[a])}M&&f(M.hovermode)&&(c.font||(c.font={}),s("size"),s("family"),s("color"),i?(c.bgcolor||(c.bgcolor=E.combine(M.legend.bgcolor,M.paper_bgcolor)),c.bordercolor||(c.bordercolor=M.legend.bordercolor)):c.bgcolor||(c.bgcolor=M.paper_bgcolor)),y("hoverlabel.bgcolor",c.bgcolor),y("hoverlabel.bordercolor",c.bordercolor),y("hoverlabel.namelength",c.namelength),D.coerceFont(y,"hoverlabel.font",c.font),y("hoverlabel.align",c.align)}},98212:function(ae,B,r){"use strict";var D=r(71828),E=r(528);ae.exports=function(f,k){function M(y,c){return void 0!==k[y]?k[y]:D.coerce(f,k,E,y,c)}return M("clickmode"),M("hovermode")}},30211:function(ae,B,r){"use strict";var D=r(39898),E=r(71828),f=r(28569),k=r(23469),M=r(528),y=r(88335);ae.exports={moduleType:"component",name:"fx",constants:r(26675),schema:{layout:M},attributes:r(77914),layoutAttributes:M,supplyLayoutGlobalDefaults:r(22774),supplyDefaults:r(54268),supplyLayoutDefaults:r(34938),calc:r(30732),getDistanceFunction:k.getDistanceFunction,getClosest:k.getClosest,inbox:k.inbox,quadrature:k.quadrature,appendArrayPointValue:k.appendArrayPointValue,castHoverOption:function(c,i,s){return E.castOption(c,i,"hoverlabel."+s)},castHoverinfo:function(c,i,s){return E.castOption(c,s,"hoverinfo",function(a){return E.coerceHoverinfo({hoverinfo:a},{_module:c._module},i)})},hover:y.hover,unhover:f.unhover,loneHover:y.loneHover,loneUnhover:function(c){var i=E.isD3Selection(c)?c:D.select(c);i.selectAll("g.hovertext").remove(),i.selectAll(".spikeline").remove()},click:r(75914)}},528:function(ae,B,r){"use strict";var D=r(26675),E=r(41940),f=E({editType:"none"});f.family.dflt=D.HOVERFONT,f.size.dflt=D.HOVERFONTSIZE,ae.exports={clickmode:{valType:"flaglist",flags:["event","select"],dflt:"event",editType:"plot",extras:["none"]},dragmode:{valType:"enumerated",values:["zoom","pan","select","lasso","drawclosedpath","drawopenpath","drawline","drawrect","drawcircle","orbit","turntable",!1],dflt:"zoom",editType:"modebar"},hovermode:{valType:"enumerated",values:["x","y","closest",!1,"x unified","y unified"],dflt:"closest",editType:"modebar"},hoverdistance:{valType:"integer",min:-1,dflt:20,editType:"none"},spikedistance:{valType:"integer",min:-1,dflt:-1,editType:"none"},hoverlabel:{bgcolor:{valType:"color",editType:"none"},bordercolor:{valType:"color",editType:"none"},font:f,grouptitlefont:E({editType:"none"}),align:{valType:"enumerated",values:["left","right","auto"],dflt:"auto",editType:"none"},namelength:{valType:"integer",min:-1,dflt:15,editType:"none"},editType:"none"},selectdirection:{valType:"enumerated",values:["h","v","d","any"],dflt:"any",editType:"none"}}},34938:function(ae,B,r){"use strict";var D=r(71828),E=r(528),f=r(98212),k=r(38048);ae.exports=function(M,y){function c(o,l){return D.coerce(M,y,E,o,l)}f(M,y)&&(c("hoverdistance"),c("spikedistance")),"select"===c("dragmode")&&c("selectdirection");var i=y._has("mapbox"),s=y._has("geo"),a=y._basePlotModules.length;"zoom"===y.dragmode&&((i||s)&&1===a||i&&s&&2===a)&&(y.dragmode="pan"),k(M,y,c),D.coerceFont(c,"hoverlabel.grouptitlefont",y.hoverlabel.font)}},22774:function(ae,B,r){"use strict";var D=r(71828),E=r(38048),f=r(528);ae.exports=function(k,M){E(k,M,function(y,c){return D.coerce(k,M,f,y,c)})}},83312:function(ae,B,r){"use strict";var D=r(71828),E=r(30587).counter,f=r(27670).Y,k=r(85555).idRegex,M=r(44467),y={rows:{valType:"integer",min:1,editType:"plot"},roworder:{valType:"enumerated",values:["top to bottom","bottom to top"],dflt:"top to bottom",editType:"plot"},columns:{valType:"integer",min:1,editType:"plot"},subplots:{valType:"info_array",freeLength:!0,dimensions:2,items:{valType:"enumerated",values:[E("xy").toString(),""],editType:"plot"},editType:"plot"},xaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[k.x.toString(),""],editType:"plot"},editType:"plot"},yaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[k.y.toString(),""],editType:"plot"},editType:"plot"},pattern:{valType:"enumerated",values:["independent","coupled"],dflt:"coupled",editType:"plot"},xgap:{valType:"number",min:0,max:1,editType:"plot"},ygap:{valType:"number",min:0,max:1,editType:"plot"},domain:f({name:"grid",editType:"plot",noGridCell:!0},{}),xside:{valType:"enumerated",values:["bottom","bottom plot","top plot","top"],dflt:"bottom plot",editType:"plot"},yside:{valType:"enumerated",values:["left","left plot","right plot","right"],dflt:"left plot",editType:"plot"},editType:"plot"};function c(a,o,l){var u=o[l+"axes"],h=Object.keys((a._splomAxes||{})[l]||{});return Array.isArray(u)?u:h.length?h:void 0}function i(a,o,l,u,h,v){var p=o(a+"gap",l),T=o("domain."+a);o(a+"side",u);for(var _=new Array(h),m=T[0],w=(T[1]-m)/(h-p),x=w*(1-p),b=0;b<h;b++){var A=m+w*b;_[v?h-1-b:b]=[A,A+x]}return _}function s(a,o,l,u,h){var v,p=new Array(l);function T(_,m){-1!==o.indexOf(m)&&void 0===u[m]?(p[_]=m,u[m]=_):p[_]=""}if(Array.isArray(a))for(v=0;v<l;v++)T(v,a[v]);else for(T(0,h),v=1;v<l;v++)T(v,h+(v+1));return p}ae.exports={moduleType:"component",name:"grid",schema:{layout:{grid:y}},layoutAttributes:y,sizeDefaults:function(a,o){var l=a.grid||{},u=c(o,l,"x"),h=c(o,l,"y");if(a.grid||u||h){var v,p,T=Array.isArray(l.subplots)&&Array.isArray(l.subplots[0]),_=Array.isArray(u),m=Array.isArray(h),w=_&&u!==l.xaxes&&m&&h!==l.yaxes;T?(v=l.subplots.length,p=l.subplots[0].length):(m&&(v=h.length),_&&(p=u.length));var x=M.newContainer(o,"grid"),b=L("rows",v),A=L("columns",p);if(b*A>1){T||_||m||"independent"===L("pattern")&&(T=!0),x._hasSubplotGrid=T;var g,I,S="top to bottom"===L("roworder"),R=T?.3:.1;w&&o._splomGridDflt&&(g=o._splomGridDflt.xside,I=o._splomGridDflt.yside),x._domains={x:i("x",L,T?.2:.1,g,A),y:i("y",L,R,I,b,S)}}else delete o.grid}function L(N,j){return D.coerce(l,x,y,N,j)}},contentDefaults:function(a,o){var l=o.grid;if(l&&l._domains){var u,h,v,p,T,_,m,w=a.grid||{},x=o._subplots,b=l._hasSubplotGrid,A=l.rows,g=l.columns,I="independent"===l.pattern,S=l._axisMap={};if(b){var O=w.subplots||[];_=l.subplots=new Array(A);var R=1;for(u=0;u<A;u++){var L=_[u]=new Array(g),N=O[u]||[];for(h=0;h<g;h++)if(I?(T=1===R?"xy":"x"+R+"y"+R,R++):T=N[h],L[h]="",-1!==x.cartesian.indexOf(T)){if(m=T.indexOf("y"),v=T.slice(0,m),p=T.slice(m),void 0!==S[v]&&S[v]!==h||void 0!==S[p]&&S[p]!==u)continue;L[h]=T,S[v]=h,S[p]=u}}}else{var j=c(o,w,"x"),X=c(o,w,"y");l.xaxes=s(j,x.xaxis,g,S,"x"),l.yaxes=s(X,x.yaxis,A,S,"y")}var F=l._anchors={},Y="top to bottom"===l.roworder;for(var G in S){var H,W,Z,se=G.charAt(0),re=l[se+"side"];if(re.length<8)F[G]="free";else if("x"===se){if("t"===re.charAt(0)===Y?(H=0,W=1,Z=A):(H=A-1,W=-1,Z=-1),b){var ne=S[G];for(u=H;u!==Z;u+=W)if((T=_[u][ne])&&(m=T.indexOf("y"),T.slice(0,m)===G)){F[G]=T.slice(m);break}}else for(u=H;u!==Z;u+=W)if(-1!==x.cartesian.indexOf(G+(p=l.yaxes[u]))){F[G]=p;break}}else if("l"===re.charAt(0)?(H=0,W=1,Z=g):(H=g-1,W=-1,Z=-1),b){var Q=S[G];for(u=H;u!==Z;u+=W)if((T=_[Q][u])&&(m=T.indexOf("y"),T.slice(m)===G)){F[G]=T.slice(0,m);break}}else for(u=H;u!==Z;u+=W)if(-1!==x.cartesian.indexOf((v=l.xaxes[u])+G)){F[G]=v;break}}}}}},69819:function(ae,B,r){"use strict";var D=r(85555),E=r(44467).templatedArray;r(24695),ae.exports=E("image",{visible:{valType:"boolean",dflt:!0,editType:"arraydraw"},source:{valType:"string",editType:"arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},sizex:{valType:"number",dflt:0,editType:"arraydraw"},sizey:{valType:"number",dflt:0,editType:"arraydraw"},sizing:{valType:"enumerated",values:["fill","contain","stretch"],dflt:"contain",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},x:{valType:"any",dflt:0,editType:"arraydraw"},y:{valType:"any",dflt:0,editType:"arraydraw"},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",editType:"arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"top",editType:"arraydraw"},xref:{valType:"enumerated",values:["paper",D.idRegex.x.toString()],dflt:"paper",editType:"arraydraw"},yref:{valType:"enumerated",values:["paper",D.idRegex.y.toString()],dflt:"paper",editType:"arraydraw"},editType:"arraydraw"})},75378:function(ae,B,r){"use strict";var D=r(92770),E=r(58163);ae.exports=function(f,k,M,y){k=k||{};var c="log"===M&&"linear"===k.type;if(c||"linear"===M&&"log"===k.type)for(var s,a,o=f._fullLayout.images,l=k._id.charAt(0),u=0;u<o.length;u++)if(a="images["+u+"].",(s=o[u])[l+"ref"]===k._id){var h=s[l],v=s["size"+l],p=null,T=null;if(c){p=E(h,k.range);var _=v/Math.pow(10,p)/2;T=2*Math.log(_+Math.sqrt(1+_*_))/Math.LN10}else T=(p=Math.pow(10,h))*(Math.pow(10,v/2)-Math.pow(10,-v/2));D(p)?D(T)||(T=null):(p=null,T=null),y(a+l,p),y(a+"size"+l,T)}}},81603:function(ae,B,r){"use strict";var D=r(71828),E=r(89298),f=r(85501),k=r(69819);function M(y,c,i){function s(p,T){return D.coerce(y,c,k,p,T)}var a=s("source");if(!s("visible",!!a))return c;s("layer"),s("xanchor"),s("yanchor"),s("sizex"),s("sizey"),s("sizing"),s("opacity");for(var o={_fullLayout:i},l=["x","y"],u=0;u<2;u++){var h=l[u],v=E.coerceRef(y,c,o,h,"paper",void 0);"paper"!==v&&E.getFromId(o,v)._imgIndices.push(c._index),E.coercePosition(c,o,s,v,h,0)}return c}ae.exports=function(y,c){f(y,c,{name:"images",handleItemDefaults:M})}},80750:function(ae,B,r){"use strict";var D=r(39898),E=r(91424),f=r(89298),k=r(41675),M=r(77922);ae.exports=function(y){var c,i,s=y._fullLayout,a=[],o={},l=[];for(i=0;i<s.images.length;i++){var u=s.images[i];if(u.visible)if("below"===u.layer&&"paper"!==u.xref&&"paper"!==u.yref){c=k.ref2id(u.xref)+k.ref2id(u.yref);var h=s._plots[c];if(!h){l.push(u);continue}h.mainplot&&(c=h.mainplot.id),o[c]||(o[c]=[]),o[c].push(u)}else"above"===u.layer?a.push(u):l.push(u)}var v={left:{sizing:"xMin",offset:0},center:{sizing:"xMid",offset:-.5},right:{sizing:"xMax",offset:-1}},p={top:{sizing:"YMin",offset:0},middle:{sizing:"YMid",offset:-.5},bottom:{sizing:"YMax",offset:-1}};function T(g){var I=D.select(this);if(this._imgSrc!==g.source)if(I.attr("xmlns",M.svg),g.source&&"data:"===g.source.slice(0,5))I.attr("xlink:href",g.source),this._imgSrc=g.source;else{var S=new Promise(function(O){var R=new Image;function L(){I.remove(),O()}this.img=R,R.setAttribute("crossOrigin","anonymous"),R.onerror=L,R.onload=function(){var N=document.createElement("canvas");N.width=this.width,N.height=this.height,N.getContext("2d",{willReadFrequently:!0}).drawImage(this,0,0);var j=N.toDataURL("image/png");I.attr("xlink:href",j),O()},I.on("error",L),R.src=g.source,this._imgSrc=g.source}.bind(this));y._promises.push(S)}}function _(g){var I,S,O=D.select(this),R=f.getFromId(y,g.xref),L=f.getFromId(y,g.yref),N="domain"===f.getRefType(g.xref),j="domain"===f.getRefType(g.yref),X=s._size;I=void 0!==R?"string"==typeof g.xref&&N?R._length*g.sizex:Math.abs(R.l2p(g.sizex)-R.l2p(0)):g.sizex*X.w,S=void 0!==L?"string"==typeof g.yref&&j?L._length*g.sizey:Math.abs(L.l2p(g.sizey)-L.l2p(0)):g.sizey*X.h;var F,Y,G=I*v[g.xanchor].offset,H=S*p[g.yanchor].offset,W=v[g.xanchor].sizing+p[g.yanchor].sizing;switch(F=void 0!==R?"string"==typeof g.xref&&N?R._length*g.x+R._offset:R.r2p(g.x)+R._offset:g.x*X.w+X.l,F+=G,Y=void 0!==L?"string"==typeof g.yref&&j?L._length*(1-g.y)+L._offset:L.r2p(g.y)+L._offset:X.h-g.y*X.h+X.t,Y+=H,g.sizing){case"fill":W+=" slice";break;case"stretch":W="none"}O.attr({x:F,y:Y,width:I,height:S,preserveAspectRatio:W,opacity:g.opacity});var Z=(R&&"domain"!==f.getRefType(g.xref)?R._id:"")+(L&&"domain"!==f.getRefType(g.yref)?L._id:"");E.setClipUrl(O,Z?"clip"+s._uid+Z:null,y)}var m=s._imageLowerLayer.selectAll("image").data(l),w=s._imageUpperLayer.selectAll("image").data(a);m.enter().append("image"),w.enter().append("image"),m.exit().remove(),w.exit().remove(),m.each(function(g){T.bind(this)(g),_.bind(this)(g)}),w.each(function(g){T.bind(this)(g),_.bind(this)(g)});var x=Object.keys(s._plots);for(i=0;i<x.length;i++){var b=s._plots[c=x[i]];if(b.imagelayer){var A=b.imagelayer.selectAll("image").data(o[c]||[]);A.enter().append("image"),A.exit().remove(),A.each(function(g){T.bind(this)(g),_.bind(this)(g)})}}}},68804:function(ae,B,r){"use strict";ae.exports={moduleType:"component",name:"images",layoutAttributes:r(69819),supplyLayoutDefaults:r(81603),includeBasePlot:r(76325)("images"),draw:r(80750),convertCoords:r(75378)}},33030:function(ae,B,r){"use strict";var D=r(41940),E=r(22399);ae.exports={_isSubplotObj:!0,visible:{valType:"boolean",dflt:!0,editType:"legend"},bgcolor:{valType:"color",editType:"legend"},bordercolor:{valType:"color",dflt:E.defaultLine,editType:"legend"},borderwidth:{valType:"number",min:0,dflt:0,editType:"legend"},font:D({editType:"legend"}),grouptitlefont:D({editType:"legend"}),orientation:{valType:"enumerated",values:["v","h"],dflt:"v",editType:"legend"},traceorder:{valType:"flaglist",flags:["reversed","grouped"],extras:["normal"],editType:"legend"},tracegroupgap:{valType:"number",min:0,dflt:10,editType:"legend"},entrywidth:{valType:"number",min:0,editType:"legend"},entrywidthmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels",editType:"legend"},itemsizing:{valType:"enumerated",values:["trace","constant"],dflt:"trace",editType:"legend"},itemwidth:{valType:"number",min:30,dflt:30,editType:"legend"},itemclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggle",editType:"legend"},itemdoubleclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggleothers",editType:"legend"},groupclick:{valType:"enumerated",values:["toggleitem","togglegroup"],dflt:"togglegroup",editType:"legend"},x:{valType:"number",editType:"legend"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"legend"},y:{valType:"number",editType:"legend"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],editType:"legend"},uirevision:{valType:"any",editType:"none"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"legend"},title:{text:{valType:"string",dflt:"",editType:"legend"},font:D({editType:"legend"}),side:{valType:"enumerated",values:["top","left","top left","top center","top right"],editType:"legend"},editType:"legend"},editType:"legend"}},14928:function(ae){"use strict";ae.exports={scrollBarWidth:6,scrollBarMinHeight:20,scrollBarColor:"#808BA4",scrollBarMargin:4,scrollBarEnterAttrs:{rx:20,ry:3,width:0,height:0},titlePad:2,itemGap:5}},99017:function(ae,B,r){"use strict";var D=r(73972),E=r(71828),f=r(44467),k=r(9012),M=r(33030),y=r(10820),c=r(10130);function i(s,a,o,l){var u=a[s]||{},h=f.newContainer(o,s);function v(W,Z){return E.coerce(u,h,M,W,Z)}var p=E.coerceFont(v,"font",o.font);if(v("bgcolor",o.paper_bgcolor),v("bordercolor"),v("visible")){for(var T,_=function(W,Z){return E.coerce(T._input,T,k,W,Z)},m=o.font||{},w=E.coerceFont(v,"grouptitlefont",E.extendFlat({},m,{size:Math.round(1.1*m.size)})),x=0,b=!1,A="normal",g=(o.shapes||[]).filter(function(W){return W.showlegend}),I=l.concat(g).filter(function(W){return s===(W.legend||"legend")}),S=0;S<I.length;S++)if((T=I[S]).visible){var O=T._isShape;(T.showlegend||T._dfltShowLegend&&!(T._module&&T._module.attributes&&T._module.attributes.showlegend&&!1===T._module.attributes.showlegend.dflt))&&(x++,T.showlegend&&(b=!0,(!O&&D.traceIs(T,"pie-like")||!0===T._input.showlegend)&&x++),E.coerceFont(_,"legendgrouptitle.font",w)),(!O&&D.traceIs(T,"bar")&&"stack"===o.barmode||-1!==["tonextx","tonexty"].indexOf(T.fill))&&(A=c.isGrouped({traceorder:A})?"grouped+reversed":"reversed"),void 0!==T.legendgroup&&""!==T.legendgroup&&(A=c.isReversed({traceorder:A})?"reversed+grouped":"grouped")}var R=E.coerce(a,o,y,"showlegend",b&&x>("legend"===s?1:0));if(!1===R&&(o[s]=void 0),(!1!==R||u.uirevision)&&(v("uirevision",o.uirevision),!1!==R)){v("borderwidth");var L,N,j,X="h"===v("orientation"),F="paper"===v("yref"),Y="paper"===v("xref"),G="left";if(X?(L=0,D.getComponentMethod("rangeslider","isVisible")(a.xaxis)?F?(N=1.1,j="bottom"):(N=1,j="top"):F?(N=-.1,j="top"):(N=0,j="bottom")):(N=1,j="auto",Y?L=1.02:(L=1,G="right")),E.coerce(u,h,{x:{valType:"number",editType:"legend",min:Y?-2:0,max:Y?3:1,dflt:L}},"x"),E.coerce(u,h,{y:{valType:"number",editType:"legend",min:F?-2:0,max:F?3:1,dflt:N}},"y"),v("traceorder",A),c.isGrouped(o[s])&&v("tracegroupgap"),v("entrywidth"),v("entrywidthmode"),v("itemsizing"),v("itemwidth"),v("itemclick"),v("itemdoubleclick"),v("groupclick"),v("xanchor",G),v("yanchor",j),v("valign"),E.noneOrAll(u,h,["x","y"]),v("title.text")){v("title.side",X?"left":"top");var H=E.extendFlat({},p,{size:E.bigFont(p.size)});E.coerceFont(v,"title.font",H)}}}}ae.exports=function(s,a,o){var l,u=o.slice(),h=a.shapes;if(h)for(l=0;l<h.length;l++){var v=h[l];v.showlegend&&u.push({_input:v._input,visible:v.visible,showlegend:v.showlegend,legend:v.legend})}var T=["legend"];for(l=0;l<u.length;l++)E.pushUnique(T,u[l].legend);for(a._legends=[],l=0;l<T.length;l++){var _=T[l];i(_,s,a,u),a[_]&&a[_].visible&&(a[_]._id=_),a._legends.push(_)}}},43969:function(ae,B,r){"use strict";var D=r(39898),E=r(71828),f=r(74875),k=r(73972),M=r(11086),y=r(28569),c=r(91424),i=r(7901),s=r(63893),a=r(85167),o=r(14928),l=r(18783),u=l.LINE_SPACING,h=l.FROM_TL,v=l.FROM_BR,p=r(82424),T=r(53630),_=r(10130),m=1,w=/^legend[0-9]*$/;function x(j,X){var F,Y,G=X||{},H=j._fullLayout,W=N(G),Z=G._inHover;if(Z?(Y=G.layer,F="hover"):(Y=H._infolayer,F=W),Y){var se;if(F+=H._uid,j._legendMouseDownTime||(j._legendMouseDownTime=0),Z){if(!G.entries)return;se=p(G.entries,G)}else{for(var re=(j.calcdata||[]).slice(),ne=H.shapes,Q=0;Q<ne.length;Q++){var ee=ne[Q];ee.showlegend&&re.push([{trace:{_isShape:!0,_fullInput:ee,index:ee._index,name:ee.name||ee.label.text||"shape "+ee._index,legend:ee.legend,legendgroup:ee.legendgroup,legendgrouptitle:ee.legendgrouptitle,legendrank:ee.legendrank,legendwidth:ee.legendwidth,showlegend:ee.showlegend,visible:ee.visible,opacity:ee.opacity,mode:"line"===ee.type?"lines":"markers",line:ee.line,marker:{line:ee.line,color:ee.fillcolor,size:12,symbol:"rect"===ee.type?"square":"circle"===ee.type?"circle":"hexagon2"}}}])}se=H.showlegend&&p(re,G,H._legends.length>1)}var ce=H.hiddenlabels||[];if(!(Z||H.showlegend&&se.length))return Y.selectAll("."+W).remove(),H._topdefs.select("#"+F).remove(),f.autoMargin(j,W);var fe=E.ensureSingle(Y,"g",W,function(Se){Z||Se.attr("pointer-events","all")}),le=E.ensureSingleById(H._topdefs,"clipPath",F,function(Se){Se.append("rect")}),pe=E.ensureSingle(fe,"rect","bg",function(Se){Se.attr("shape-rendering","crispEdges")});pe.call(i.stroke,G.bordercolor).call(i.fill,G.bgcolor).style("stroke-width",G.borderwidth+"px");var Me,Ae=E.ensureSingle(fe,"g","scrollbox"),be=G.title;G._titleWidth=0,G._titleHeight=0,be.text?((Me=E.ensureSingle(Ae,"text",W+"titletext")).attr("text-anchor","start").call(c.font,be.font).text(be.text),O(Me,Ae,j,G,m)):Ae.selectAll("."+W+"titletext").remove();var ye=E.ensureSingle(fe,"rect","scrollbar",function(Se){Se.attr(o.scrollBarEnterAttrs).call(i.fill,o.scrollBarColor)}),we=Ae.selectAll("g.groups").data(se);we.enter().append("g").attr("class","groups"),we.exit().remove();var ze=we.selectAll("g.traces").data(E.identity);ze.enter().append("g").attr("class","traces"),ze.exit().remove(),ze.style("opacity",function(Se){var Ce=Se[0].trace;return k.traceIs(Ce,"pie-like")?-1!==ce.indexOf(Se[0].label)?.5:1:"legendonly"===Ce.visible?.5:1}).each(function(){D.select(this).call(g,j,G)}).call(T,j,G).each(function(){Z||D.select(this).call(S,j,W)}),E.syncOrAsync([f.previousPromises,function(){return function(Se,Ce,ge,he){var _e=Se._fullLayout,Le=N(he);he||(he=_e[Le]);var Ie=_e._size,De=_.isVertical(he),je=_.isGrouped(he),qe="fraction"===he.entrywidthmode,ve=he.borderwidth,Oe=2*ve,ke=o.itemGap,Be=he.itemwidth+2*ke,We=2*(ve+ke),Ge=L(he),Ke=he.y<0||0===he.y&&"top"===Ge,et=he.y>1||1===he.y&&"bottom"===Ge,at=he.tracegroupgap,mt={};he._maxHeight=Math.max(Ke||et?_e.height/2:Ie.h,30);var ct=0;he._width=0,he._height=0;var wt,St,_t,Rt,kt=(St=0,_t=0,(Rt=(wt=he).title.side)&&(-1!==Rt.indexOf("left")&&(St=wt._titleWidth),-1!==Rt.indexOf("top")&&(_t=wt._titleHeight)),[St,_t]);if(De)ge.each(function(wt){var St=wt[0].height;c.setTranslate(this,ve+kt[0],ve+kt[1]+he._height+St/2+ke),he._height+=St,he._width=Math.max(he._width,wt[0].width)}),ct=Be+he._width,he._width+=ke+Be+Oe,he._height+=We,je&&(Ce.each(function(wt,St){c.setTranslate(this,0,St*he.tracegroupgap)}),he._height+=(he._lgroupsLength-1)*he.tracegroupgap);else{var Dt=R(he),pt=et||Ke,Pt=_e.width/2;he._maxWidth=Math.max(he.x<0||0===he.x&&"right"===Dt?pt&&"left"===Dt?Ie.l+Ie.w:Pt:he.x>1||1===he.x&&"left"===Dt?pt&&"right"===Dt?Ie.r+Ie.w:Pt:Ie.w,2*Be);var zt=0,Ht=0;ge.each(function(wt){var St=b(wt,he,Be);zt=Math.max(zt,St),Ht+=St}),ct=null;var Lt=0;if(je){var tt=0,it=0,Je=0;Ce.each(function(){var wt=0,St=0;D.select(this).selectAll("g.traces").each(function(Rt){var bt=b(Rt,he,Be),Tt=Rt[0].height;c.setTranslate(this,kt[0],kt[1]+ve+ke+Tt/2+St),St+=Tt,wt=Math.max(wt,bt),mt[Rt[0].trace.legendgroup]=wt});var _t=wt+ke;it>0&&_t+ve+it>he._maxWidth?(Lt=Math.max(Lt,it),it=0,Je+=tt+at,tt=St):tt=Math.max(tt,St),c.setTranslate(this,it,Je),it+=_t}),he._width=Math.max(Lt,it)+ve,he._height=Je+tt+We}else{var ot=ge.size(),gt=Ht+Oe+(ot-1)*ke<he._maxWidth,ft=0,Ue=0,$e=0,dt=0;ge.each(function(wt){var St=wt[0].height,_t=b(wt,he,Be),Rt=gt?_t:zt;qe||(Rt+=ke),Rt+ve+Ue-ke>=he._maxWidth&&(Lt=Math.max(Lt,dt),Ue=0,$e+=ft,he._height+=ft,ft=0),c.setTranslate(this,kt[0]+ve+Ue,kt[1]+ve+$e+St/2+ke),dt=Ue+_t+ke,Ue+=Rt,ft=Math.max(ft,St)}),gt?(he._width=Ue+Oe,he._height=ft+We):(he._width=Math.max(Lt,dt)+Oe,he._height+=ft+We)}}he._width=Math.ceil(Math.max(he._width+kt[0],he._titleWidth+2*(ve+o.titlePad))),he._height=Math.ceil(Math.max(he._height+kt[1],he._titleHeight+2*(ve+o.itemGap))),he._effHeight=Math.min(he._height,he._maxHeight);var ut=Se._context.edits,At=ut.legendText||ut.legendPosition;ge.each(function(wt){var St=D.select(this).select("."+Le+"toggle"),_t=wt[0].height,Rt=wt[0].trace.legendgroup,bt=b(wt,he,Be);je&&""!==Rt&&(bt=mt[Rt]);var Tt=At?Be:ct||bt;De||qe||(Tt+=ke/2),c.setRect(St,0,-_t/2,Tt,_t)})}(j,we,ze,G)},function(){var Se,Ce,ge,he,_e=H._size,Le=G.borderwidth,Ie="paper"===G.xref,De="paper"===G.yref;if(be.text&&function(pt,Pt,zt){if("top center"===Pt.title.side||"top right"===Pt.title.side){var Ht=Pt.title.font.size*u,Lt=0,tt=pt.node(),it=c.bBox(tt).width;"top center"===Pt.title.side?Lt=.5*(Pt._width-2*zt-2*o.titlePad-it):"top right"===Pt.title.side&&(Lt=Pt._width-2*zt-2*o.titlePad-it),s.positionText(pt,zt+o.titlePad+Lt,zt+Ht)}}(Me,G,Le),!Z){var je,qe;if(je=Ie?_e.l+_e.w*G.x-h[R(G)]*G._width:H.width*G.x-h[R(G)]*G._width,qe=De?_e.t+_e.h*(1-G.y)-h[L(G)]*G._effHeight:H.height*(1-G.y)-h[L(G)]*G._effHeight,function(pt,Pt,zt,Ht){var Lt=pt._fullLayout,tt=Lt[Pt],it=R(tt),Je=L(tt),ot="paper"===tt.xref,gt="paper"===tt.yref;pt._fullLayout._reservedMargin[Pt]={};var ft=tt.y<.5?"b":"t",Ue=tt.x<.5?"l":"r",$e={r:Lt.width-zt,l:zt+tt._width,b:Lt.height-Ht,t:Ht+tt._effHeight};if(ot&&gt)return f.autoMargin(pt,Pt,{x:tt.x,y:tt.y,l:tt._width*h[it],r:tt._width*v[it],b:tt._effHeight*v[Je],t:tt._effHeight*h[Je]});ot?pt._fullLayout._reservedMargin[Pt][ft]=$e[ft]:gt||"v"===tt.orientation?pt._fullLayout._reservedMargin[Pt][Ue]=$e[Ue]:pt._fullLayout._reservedMargin[Pt][ft]=$e[ft]}(j,W,je,qe))return;if(H.margin.autoexpand){var Oe=je,ke=qe;je=Ie?E.constrain(je,0,H.width-G._width):Oe,qe=De?E.constrain(qe,0,H.height-G._effHeight):ke,je!==Oe&&E.log("Constrain "+W+".x to make legend fit inside graph"),qe!==ke&&E.log("Constrain "+W+".y to make legend fit inside graph")}c.setTranslate(fe,je,qe)}if(ye.on(".drag",null),fe.on("wheel",null),Z||G._height<=G._maxHeight||j._context.staticPlot){var Be=G._effHeight;Z&&(Be=G._height),pe.attr({width:G._width-Le,height:Be-Le,x:Le/2,y:Le/2}),c.setTranslate(Ae,0,0),le.select("rect").attr({width:G._width-2*Le,height:Be-2*Le,x:Le,y:Le}),c.setClipUrl(Ae,F,j),c.setRect(ye,0,0,0,0),delete G._scrollY}else{var We,Ke,et=Math.max(o.scrollBarMinHeight,G._effHeight*G._effHeight/G._height),at=G._effHeight-et-2*o.scrollBarMargin,mt=G._height-G._effHeight,ct=at/mt,kt=Math.min(G._scrollY||0,mt);pe.attr({width:G._width-2*Le+o.scrollBarWidth+o.scrollBarMargin,height:G._effHeight-Le,x:Le/2,y:Le/2}),le.select("rect").attr({width:G._width-2*Le+o.scrollBarWidth+o.scrollBarMargin,height:G._effHeight-2*Le,x:Le,y:Le+kt}),c.setClipUrl(Ae,F,j),ht(kt,et,ct),fe.on("wheel",function(){ht(kt=E.constrain(G._scrollY+D.event.deltaY/at*mt,0,mt),et,ct),0!==kt&&kt!==mt&&D.event.preventDefault()});var Dt=D.behavior.drag().on("dragstart",function(){var pt=D.event.sourceEvent;We="touchstart"===pt.type?pt.changedTouches[0].clientY:pt.clientY,Ke=kt}).on("drag",function(){var pt=D.event.sourceEvent;2===pt.buttons||pt.ctrlKey||ht(kt=E.constrain((("touchmove"===pt.type?pt.changedTouches[0].clientY:pt.clientY)-We)/ct+Ke,0,mt),et,ct)});ye.call(Dt);var Et=D.behavior.drag().on("dragstart",function(){var pt=D.event.sourceEvent;"touchstart"===pt.type&&(We=pt.changedTouches[0].clientY,Ke=kt)}).on("drag",function(){var pt=D.event.sourceEvent;"touchmove"===pt.type&&ht(kt=E.constrain((We-pt.changedTouches[0].clientY)/ct+Ke,0,mt),et,ct)});Ae.call(Et)}function ht(pt,Pt,zt){G._scrollY=j._fullLayout[W]._scrollY=pt,c.setTranslate(Ae,0,-pt),c.setRect(ye,G._width,o.scrollBarMargin+pt*zt,o.scrollBarWidth,Pt),le.select("rect").attr("y",Le+pt)}j._context.edits.legendPosition&&(fe.classed("cursor-move",!0),y.init({element:fe.node(),gd:j,prepFn:function(){var pt=c.getTranslate(fe);ge=pt.x,he=pt.y},moveFn:function(pt,Pt){var zt=ge+pt,Ht=he+Pt;c.setTranslate(fe,zt,Ht),Se=y.align(zt,G._width,_e.l,_e.l+_e.w,G.xanchor),Ce=y.align(Ht+G._height,-G._height,_e.t+_e.h,_e.t,G.yanchor)},doneFn:function(){if(void 0!==Se&&void 0!==Ce){var pt={};pt[W+".x"]=Se,pt[W+".y"]=Ce,k.call("_guiRelayout",j,pt)}},clickFn:function(pt,Pt){var zt=Y.selectAll("g.traces").filter(function(){var Ht=this.getBoundingClientRect();return Pt.clientX>=Ht.left&&Pt.clientX<=Ht.right&&Pt.clientY>=Ht.top&&Pt.clientY<=Ht.bottom});zt.size()>0&&A(j,fe,zt,pt,Pt)}}))}],j)}}function b(j,X,F){var Y=j[0],W=Y.trace.legendwidth||X.entrywidth;return"fraction"===X.entrywidthmode?X._maxWidth*W:F+(W||Y.width)}function A(j,X,F,Y,G){var H=F.data()[0][0].trace,W={event:G,node:F.node(),curveNumber:H.index,expandedIndex:H._expandedIndex,data:j.data,layout:j.layout,frames:j._transitionData._frames,config:j._context,fullData:j._fullData,fullLayout:j._fullLayout};H._group&&(W.group=H._group),k.traceIs(H,"pie-like")&&(W.label=F.datum()[0].label);var Z=M.triggerHandler(j,"plotly_legendclick",W);if(1===Y){if(!1===Z)return;X._clickTimeout=setTimeout(function(){j._fullLayout&&a(F,j,Y)},j._context.doubleClickDelay)}else 2===Y&&(X._clickTimeout&&clearTimeout(X._clickTimeout),j._legendMouseDownTime=0,!1!==M.triggerHandler(j,"plotly_legenddoubleclick",W)&&!1!==Z&&a(F,j,Y))}function g(j,X,F){var Y,G,H=N(F),W=j.data()[0][0],Z=W.trace,se=k.traceIs(Z,"pie-like"),re=!F._inHover&&X._context.edits.legendText&&!se,ne=F._maxNameLength;W.groupTitle?(Y=W.groupTitle.text,G=W.groupTitle.font):(G=F.font,F.entries?Y=W.text:(Y=se?W.label:Z.name,Z._meta&&(Y=E.templateString(Y,Z._meta))));var Q=E.ensureSingle(j,"text",H+"text");Q.attr("text-anchor","start").call(c.font,G).text(re?I(Y,ne):Y),s.positionText(Q,F.itemwidth+2*o.itemGap,0),re?Q.call(s.makeEditable,{gd:X,text:Y}).call(O,j,X,F).on("edit",function(oe){this.text(I(oe,ne)).call(O,j,X,F);var ce=W.trace._fullInput||{},fe={};if(k.hasTransform(ce,"groupby")){var le=k.getTransformIndices(ce,"groupby"),Me=E.keyedContainer(ce,"transforms["+le[le.length-1]+"].styles","target","value.name");Me.set(W.trace._group,oe),fe=Me.constructUpdate()}else fe.name=oe;return ce._isShape?k.call("_guiRelayout",X,"shapes["+Z.index+"].name",fe.name):k.call("_guiRestyle",X,fe,Z.index)}):O(Q,j,X,F)}function I(j,X){var F=Math.max(4,X);if(j&&j.trim().length>=F/2)return j;for(var Y=F-(j=j||"").length;Y>0;Y--)j+=" ";return j}function S(j,X,F){var Y,G=X._context.doubleClickDelay,H=1,W=E.ensureSingle(j,"rect",F+"toggle",function(Z){X._context.staticPlot||Z.style("cursor","pointer").attr("pointer-events","all"),Z.call(i.fill,"rgba(0,0,0,0)")});X._context.staticPlot||(W.on("mousedown",function(){(Y=(new Date).getTime())-X._legendMouseDownTime<G?H+=1:(H=1,X._legendMouseDownTime=Y)}),W.on("mouseup",function(){if(!X._dragged&&!X._editing){var Z=X._fullLayout[F];(new Date).getTime()-X._legendMouseDownTime>G&&(H=Math.max(H-1,1)),A(X,Z,j,H,D.event)}}))}function O(j,X,F,Y,G){Y._inHover&&j.attr("data-notex",!0),s.convertToTspans(j,F,function(){!function(H,W,Z,se){var re=H.data()[0][0];if(Z._inHover||!re||re.trace.showlegend){var ne=H.select("g[class*=math-group]"),Q=ne.node(),ee=N(Z);Z||(Z=W._fullLayout[ee]);var oe,ce,fe=Z.borderwidth,le=(se===m?Z.title.font:re.groupTitle?re.groupTitle.font:Z.font).size*u;if(Q){var pe=c.bBox(Q);oe=pe.height,ce=pe.width,se===m?c.setTranslate(ne,fe,fe+.75*oe):c.setTranslate(ne,0,.25*oe)}else{var Ae=H.select("."+ee+(se===m?"title":"")+"text"),be=s.lineCount(Ae),ye=Ae.node();if(oe=le*be,ce=ye?c.bBox(ye).width:0,se===m)"left"===Z.title.side&&(ce+=2*o.itemGap),s.positionText(Ae,fe+o.titlePad,fe+le);else{var we=2*o.itemGap+Z.itemwidth;re.groupTitle&&(we=o.itemGap,ce-=Z.itemwidth),s.positionText(Ae,we,-le*((be-1)/2-.3))}}se===m?(Z._titleWidth=ce,Z._titleHeight=oe):(re.lineHeight=le,re.height=Math.max(oe,16)+3,re.width=ce)}else H.remove()}(X,F,Y,G)})}function R(j){return E.isRightAnchor(j)?"right":E.isCenterAnchor(j)?"center":"left"}function L(j){return E.isBottomAnchor(j)?"bottom":E.isMiddleAnchor(j)?"middle":"top"}function N(j){return j._id||"legend"}ae.exports=function(j,X){if(X)x(j,X);else{var F=j._fullLayout,Y=F._legends;F._infolayer.selectAll('[class^="legend"]').each(function(){var W=D.select(this),Z=W.attr("class").split(" ")[0];Z.match(w)&&-1===Y.indexOf(Z)&&W.remove()});for(var G=0;G<Y.length;G++)x(j,j._fullLayout[Y[G]])}}},82424:function(ae,B,r){"use strict";var D=r(73972),E=r(10130);ae.exports=function(f,k,M){var y,c,i=k._inHover,s=E.isGrouped(k),a=E.isReversed(k),o={},l=[],u=!1,h={},v=0,p=0;function T(Y,G,H){if(!1!==k.visible&&(!M||Y===k._id))if(""!==G&&E.isGrouped(k))-1===l.indexOf(G)?(l.push(G),u=!0,o[G]=[H]):o[G].push(H);else{var W="~~i"+v;l.push(W),o[W]=[H],v++}}for(y=0;y<f.length;y++){var _=f[y],m=_[0],w=m.trace,x=w.legend,b=w.legendgroup;if(i||w.visible&&w.showlegend)if(D.traceIs(w,"pie-like"))for(h[b]||(h[b]={}),c=0;c<_.length;c++){var A=_[c].label;h[b][A]||(T(x,b,{label:A,color:_[c].color,i:_[c].i,trace:w,pts:_[c].pts}),h[b][A]=!0,p=Math.max(p,(A||"").length))}else T(x,b,m),p=Math.max(p,(w.name||"").length)}if(!l.length)return[];var g=!u||!s,I=[];for(y=0;y<l.length;y++){var S=o[l[y]];I.push(g?S[0]:S)}for(g&&(I=[I]),y=0;y<I.length;y++){var O=1/0;for(c=0;c<I[y].length;c++){var R=I[y][c].trace.legendrank;O>R&&(O=R)}I[y][0]._groupMinRank=O,I[y][0]._preGroupSort=y}var L=function(Y,G){return Y.trace.legendrank-G.trace.legendrank||Y._preSort-G._preSort};for(I.forEach(function(Y,G){Y[0]._preGroupSort=G}),I.sort(function(Y,G){return Y[0]._groupMinRank-G[0]._groupMinRank||Y[0]._preGroupSort-G[0]._preGroupSort}),y=0;y<I.length;y++){I[y].forEach(function(Y,G){Y._preSort=G}),I[y].sort(L);var N=I[y][0].trace,j=null;for(c=0;c<I[y].length;c++){var X=I[y][c].trace.legendgrouptitle;if(X&&X.text){j=X,i&&(X.font=k._groupTitleFont);break}}if(a&&I[y].reverse(),j){var F=!1;for(c=0;c<I[y].length;c++)if(D.traceIs(I[y][c].trace,"pie-like")){F=!0;break}I[y].unshift({i:-1,groupTitle:j,noClick:F,trace:{showlegend:N.showlegend,legendgroup:N.legendgroup,visible:"toggleitem"===k.groupclick||N.visible}})}for(c=0;c<I[y].length;c++)I[y][c]=[I[y][c]]}return k._lgroupsLength=I.length,k._maxNameLength=p,I}},85167:function(ae,B,r){"use strict";var D=r(73972),E=r(71828),f=E.pushUnique,k=!0;ae.exports=function(M,y,c){var i=y._fullLayout;if(!y._dragged&&!y._editing){var s,a=i.legend.itemclick,o=i.legend.itemdoubleclick,l=i.legend.groupclick;if(1===c&&"toggle"===a&&"toggleothers"===o&&k&&y.data&&y._context.showTips&&E.notifier(E._(y,"Double-click on legend to isolate one trace"),"long"),k=!1,1===c?s=a:2===c&&(s=o),s){var u="togglegroup"===l,h=i.hiddenlabels?i.hiddenlabels.slice():[],v=M.data()[0][0];if(!v.groupTitle||!v.noClick){var p=y._fullData,T=(i.shapes||[]).filter(function(Ce){return Ce.showlegend}),_=p.concat(T),m=v.trace;m._isShape&&(m=m._fullInput);var w,x,b,A,g,I=m.legendgroup,S={},O=[],R=[],L=[],N=(i.shapes||[]).map(function(Ce){return Ce._input}),j=!1,X=m.legend,F=m._fullInput;if(F&&F._isShape||!D.traceIs(m,"pie-like")){var Y,G=I&&I.length,H=[];if(G)for(w=0;w<_.length;w++)(Y=_[w]).visible&&Y.legendgroup===I&&H.push(w);if("toggle"===s){var W;switch(m.visible){case!0:W="legendonly";break;case!1:W=!1;break;case"legendonly":W=!0}if(G)if(u)for(w=0;w<_.length;w++){var Z=_[w];!1!==Z.visible&&Z.legendgroup===I&&Se(Z,W)}else Se(m,W);else Se(m,W)}else if("toggleothers"===s){var se,re,Q,ee=!0;for(w=0;w<_.length;w++)if(se=(Q=_[w])===m,re=!0!==Q.showlegend,!(se||re||G&&Q.legendgroup===I||Q.legend!==X||!0!==Q.visible||D.traceIs(Q,"notLegendIsolatable"))){ee=!1;break}for(w=0;w<_.length;w++)if(!1!==(Q=_[w]).visible&&Q.legend===X&&!D.traceIs(Q,"notLegendIsolatable"))switch(m.visible){case"legendonly":Se(Q,!0);break;case!0:re=!0!==Q.showlegend&&!Q.legendgroup,Se(Q,!!((se=Q===m)||G&&Q.legendgroup===I||re)||!!ee||"legendonly")}}for(w=0;w<R.length;w++)if(b=R[w]){var oe=b.constructUpdate(),ce=Object.keys(oe);for(x=0;x<ce.length;x++)(S[A=ce[x]]=S[A]||[])[L[w]]=oe[A]}for(g=Object.keys(S),w=0;w<g.length;w++)for(A=g[w],x=0;x<O.length;x++)S[A].hasOwnProperty(x)||(S[A][x]=void 0);j?D.call("_guiUpdate",y,S,{shapes:N},O):D.call("_guiRestyle",y,S,O)}else{var fe=v.label,le=h.indexOf(fe);if("toggle"===s)-1===le?h.push(fe):h.splice(le,1);else if("toggleothers"===s){var pe=-1!==le,Me=[];for(w=0;w<y.calcdata.length;w++){var Ae=y.calcdata[w];for(x=0;x<Ae.length;x++){var be=Ae[x].label;X===Ae[0].trace.legend&&fe!==be&&(-1===h.indexOf(be)&&(pe=!0),f(h,be),Me.push(be))}}if(!pe)for(var ye=0;ye<Me.length;ye++){var we=h.indexOf(Me[ye]);-1!==we&&h.splice(we,1)}}D.call("_guiRelayout",y,"hiddenlabels",h)}}}}function ze(Ce,ge){var he=O.indexOf(Ce),_e=S.visible;return _e||(_e=S.visible=[]),-1===O.indexOf(Ce)&&(O.push(Ce),he=O.length-1),_e[he]=ge,he}function Se(Ce,ge){if(!v.groupTitle||u){var _e=Ce._fullInput||Ce,Le=_e._isShape,Ie=_e.index;if(void 0===Ie&&(Ie=_e._index),D.hasTransform(_e,"groupby")){var De=R[Ie];if(!De){var je=D.getTransformIndices(_e,"groupby");De=E.keyedContainer(_e,"transforms["+je[je.length-1]+"].styles","target","value.visible"),R[Ie]=De}var ve=De.get(Ce._group);void 0===ve&&(ve=!0),!1!==ve&&De.set(Ce._group,ge),L[Ie]=ze(Ie,!1!==_e.visible)}else{var Oe=!1!==_e.visible&&ge;Le?(N[Ie].visible=Oe,j=!0):ze(Ie,Oe)}}}}},10130:function(ae,B){"use strict";B.isGrouped=function(r){return-1!==(r.traceorder||"").indexOf("grouped")},B.isVertical=function(r){return"h"!==r.orientation},B.isReversed=function(r){return-1!==(r.traceorder||"").indexOf("reversed")}},2199:function(ae,B,r){"use strict";ae.exports={moduleType:"component",name:"legend",layoutAttributes:r(33030),supplyLayoutDefaults:r(99017),draw:r(43969),style:r(53630)}},53630:function(ae,B,r){"use strict";var D=r(39898),E=r(73972),f=r(71828),k=f.strTranslate,M=r(91424),y=r(7901),c=r(52075).extractOpts,i=r(34098),s=r(63463),a=r(53581).castOption,o=r(14928);function l(v,p){return(p?"radial":"horizontal")+(v?"":"reversed")}function u(v){var p=v[0].trace,T=p.contours,_=i.hasLines(p),m=i.hasMarkers(p),w=p.visible&&p.fill&&"none"!==p.fill,x=!1,b=!1;if(T){var A=T.coloring;"lines"===A?x=!0:_="none"===A||"heatmap"===A||T.showlines,"constraint"===T.type?w="="!==T._operation:"fill"!==A&&"heatmap"!==A||(b=!0)}return{showMarker:m,showLine:_,showFill:w,showGradientLine:x,showGradientFill:b,anyLine:_||x,anyFill:w||b}}function h(v,p,T){return v&&f.isArrayOrTypedArray(v)?p:v>T?T:v}ae.exports=function(v,p,T){T||(T=p._fullLayout.legend);var m="constant"===T.itemsizing,w=T.itemwidth,b=k((w+2*o.itemGap)/2,0),A=function(S,O,R,L){var N;if(S+1)N=S;else{if(!(O&&O.width>0))return 0;N=O.width}return m?L:Math.min(N,R)};function g(S,O,R){var L=S[0].trace,N=L.marker||{},j=N.line||{},X=R?L.visible&&L.type===R:E.traceIs(L,"bar"),F=D.select(O).select("g.legendpoints").selectAll("path.legend"+R).data(X?[S]:[]);F.enter().append("path").classed("legend"+R,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",b),F.exit().remove(),F.each(function(Y){var G=D.select(this),H=Y[0],W=A(H.mlw,N.line,5,2);G.style("stroke-width",W+"px");var Z=H.mcc;if(!T._inHover&&"mc"in H){var se=c(N),re=se.mid;void 0===re&&(re=(se.max+se.min)/2),Z=M.tryColorscale(N,"")(re)}var ne=Z||H.mc||N.color,Q=N.pattern,ee=Q&&M.getPatternAttr(Q.shape,0,"");if(ee){var oe=M.getPatternAttr(Q.bgcolor,0,null),ce=M.getPatternAttr(Q.fgcolor,0,null),fe=Q.fgopacity,le=h(Q.size,8,10),pe=h(Q.solidity,.5,1);G.call(M.pattern,"legend",p,"legend-"+L.uid,ee,le,pe,Z,Q.fillmode,oe,ce,fe)}else G.call(y.fill,ne);W&&y.stroke(G,H.mlc||j.color)})}function I(S,O,R){var L=S[0],N=L.trace,j=R?N.visible&&N.type===R:E.traceIs(N,R),X=D.select(O).select("g.legendpoints").selectAll("path.legend"+R).data(j?[S]:[]);if(X.enter().append("path").classed("legend"+R,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",b),X.exit().remove(),X.size()){var F=N.marker||{},Y=A(a(F.line.width,L.pts),F.line,5,2),G="pieLike",H=f.minExtend(N,{marker:{line:{width:Y}}},G),W=f.minExtend(L,{trace:H},G);s(X,W,H,p)}}v.each(function(S){var O=D.select(this),R=f.ensureSingle(O,"g","layers");R.style("opacity",S[0].trace.opacity);var L=T.valign,N=S[0].lineHeight,j=S[0].height;R.attr("transform","middle"!==L&&N&&j?k(0,{top:1,bottom:-1}[L]*(.5*(N-j+3))):null),R.selectAll("g.legendfill").data([S]).enter().append("g").classed("legendfill",!0),R.selectAll("g.legendlines").data([S]).enter().append("g").classed("legendlines",!0);var F=R.selectAll("g.legendsymbols").data([S]);F.enter().append("g").classed("legendsymbols",!0),F.selectAll("g.legendpoints").data([S]).enter().append("g").classed("legendpoints",!0)}).each(function(S){var O,R=S[0].trace,L=[];if(R.visible)switch(R.type){case"histogram2d":case"heatmap":L=[["M-15,-2V4H15V-2Z"]],O=!0;break;case"choropleth":case"choroplethmapbox":L=[["M-6,-6V6H6V-6Z"]],O=!0;break;case"densitymapbox":L=[["M-6,0 a6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"]],O="radial";break;case"cone":L=[["M-6,2 A2,2 0 0,0 -6,6 V6L6,4Z"],["M-6,-6 A2,2 0 0,0 -6,-2 L6,-4Z"],["M-6,-2 A2,2 0 0,0 -6,2 L6,0Z"]],O=!1;break;case"streamtube":L=[["M-6,2 A2,2 0 0,0 -6,6 H6 A2,2 0 0,1 6,2 Z"],["M-6,-6 A2,2 0 0,0 -6,-2 H6 A2,2 0 0,1 6,-6 Z"],["M-6,-2 A2,2 0 0,0 -6,2 H6 A2,2 0 0,1 6,-2 Z"]],O=!1;break;case"surface":L=[["M-6,-6 A2,3 0 0,0 -6,0 H6 A2,3 0 0,1 6,-6 Z"],["M-6,1 A2,3 0 0,1 -6,6 H6 A2,3 0 0,0 6,0 Z"]],O=!0;break;case"mesh3d":L=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],O=!1;break;case"volume":L=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],O=!0;break;case"isosurface":L=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6 A12,24 0 0,0 6,-6 L0,6Z"]],O=!1}var N=D.select(this).select("g.legendpoints").selectAll("path.legend3dandfriends").data(L);N.enter().append("path").classed("legend3dandfriends",!0).attr("transform",b).style("stroke-miterlimit",1),N.exit().remove(),N.each(function(j,X){var F,Y=D.select(this),G=c(R),H=G.colorscale,W=G.reversescale;if(H){if(!O){var Z=H.length;F=0===X?H[W?Z-1:0][1]:1===X?H[W?0:Z-1][1]:H[Math.floor((Z-1)/2)][1]}}else{var se=R.vertexcolor||R.facecolor||R.color;F=f.isArrayOrTypedArray(se)?se[X]||se[0]:se}Y.attr("d",j[0]),F?Y.call(y.fill,F):Y.call(function(re){re.size()&&M.gradient(re,p,"legendfill-"+R.uid,l(W,"radial"===O),H,"fill")})})}).each(function(S){var O=S[0].trace,R="waterfall"===O.type;if(S[0]._distinct&&R){var L=S[0].trace[S[0].dir].marker;return S[0].mc=L.color,S[0].mlw=L.line.width,S[0].mlc=L.line.color,g(S,this,"waterfall")}var N=[];O.visible&&R&&(N=S[0].hasTotals?[["increasing","M-6,-6V6H0Z"],["totals","M6,6H0L-6,-6H-0Z"],["decreasing","M6,6V-6H0Z"]]:[["increasing","M-6,-6V6H6Z"],["decreasing","M6,6V-6H-6Z"]]);var j=D.select(this).select("g.legendpoints").selectAll("path.legendwaterfall").data(N);j.enter().append("path").classed("legendwaterfall",!0).attr("transform",b).style("stroke-miterlimit",1),j.exit().remove(),j.each(function(X){var F=D.select(this),Y=O[X[0]].marker,G=A(void 0,Y.line,5,2);F.attr("d",X[1]).style("stroke-width",G+"px").call(y.fill,Y.color),G&&F.call(y.stroke,Y.line.color)})}).each(function(S){g(S,this,"funnel")}).each(function(S){g(S,this)}).each(function(S){var O=S[0].trace,R=D.select(this).select("g.legendpoints").selectAll("path.legendbox").data(O.visible&&E.traceIs(O,"box-violin")?[S]:[]);R.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform",b),R.exit().remove(),R.each(function(){var L=D.select(this);if("all"!==O.boxpoints&&"all"!==O.points||0!==y.opacity(O.fillcolor)||0!==y.opacity((O.line||{}).color)){var N=A(void 0,O.line,5,2);L.style("stroke-width",N+"px").call(y.fill,O.fillcolor),N&&y.stroke(L,O.line.color)}else{var j=f.minExtend(O,{marker:{size:m?12:f.constrain(O.marker.size,2,16),sizeref:1,sizemin:1,sizemode:"diameter"}});R.call(M.pointStyle,j,p)}})}).each(function(S){I(S,this,"funnelarea")}).each(function(S){I(S,this,"pie")}).each(function(S){var O,R,L=u(S),N=L.showFill,j=L.showLine,X=L.showGradientLine,F=L.showGradientFill,Y=L.anyFill,G=L.anyLine,H=S[0],W=H.trace,Z=c(W),se=Z.colorscale,re=Z.reversescale,ne=i.hasMarkers(W)||!Y?"M5,0":G?"M5,-2":"M5,-3",Q=D.select(this),ee=Q.select(".legendfill").selectAll("path").data(N||F?[S]:[]);if(ee.enter().append("path").classed("js-fill",!0),ee.exit().remove(),ee.attr("d",ne+"h"+w+"v6h-"+w+"z").call(function(fe){fe.size()&&(N?M.fillGroupStyle(fe,p):M.gradient(fe,p,"legendfill-"+W.uid,l(re),se,"fill"))}),j||X){var oe=A(void 0,W.line,10,5);R=f.minExtend(W,{line:{width:oe}}),O=[f.minExtend(H,{trace:R})]}var ce=Q.select(".legendlines").selectAll("path").data(j||X?[O]:[]);ce.enter().append("path").classed("js-line",!0),ce.exit().remove(),ce.attr("d",ne+(X?"l"+w+",0.0001":"h"+w)).call(j?M.lineGroupStyle:function(fe){if(fe.size()){var le="legendline-"+W.uid;M.lineGroupStyle(fe),M.gradient(fe,p,le,l(re),se,"stroke")}})}).each(function(S){var O,R,L=u(S),X=L.showLine,F=L.showMarker,Y=S[0],G=Y.trace,H=!F&&!L.anyLine&&!L.anyFill&&i.hasText(G);function W(ce,fe,le,pe){var Me=f.nestedProperty(G,ce).get(),Ae=f.isArrayOrTypedArray(Me)&&fe?fe(Me):Me;if(m&&Ae&&void 0!==pe&&(Ae=pe),le){if(Ae<le[0])return le[0];if(Ae>le[1])return le[1]}return Ae}function Z(ce){return Y._distinct&&Y.index&&ce[Y.index]?ce[Y.index]:ce[0]}if(F||H||X){var se={},re={};if(F){se.mc=W("marker.color",Z),se.mx=W("marker.symbol",Z),se.mo=W("marker.opacity",f.mean,[.2,1]),se.mlc=W("marker.line.color",Z),se.mlw=W("marker.line.width",f.mean,[0,5],2),re.marker={sizeref:1,sizemin:1,sizemode:"diameter"};var ne=W("marker.size",f.mean,[2,16],12);se.ms=ne,re.marker.size=ne}X&&(re.line={width:W("line.width",Z,[0,10],5)}),H&&(se.tx="Aa",se.tp=W("textposition",Z),se.ts=10,se.tc=W("textfont.color",Z),se.tf=W("textfont.family",Z)),O=[f.minExtend(Y,se)],(R=f.minExtend(G,re)).selectedpoints=null,R.texttemplate=null}var Q=D.select(this).select("g.legendpoints"),ee=Q.selectAll("path.scatterpts").data(F?O:[]);ee.enter().insert("path",":first-child").classed("scatterpts",!0).attr("transform",b),ee.exit().remove(),ee.call(M.pointStyle,R,p),F&&(O[0].mrc=3);var oe=Q.selectAll("g.pointtext").data(H?O:[]);oe.enter().append("g").classed("pointtext",!0).append("text").attr("transform",b),oe.exit().remove(),oe.selectAll("text").call(M.textPointStyle,R,p)}).each(function(S){var O=S[0].trace,R=D.select(this).select("g.legendpoints").selectAll("path.legendcandle").data(O.visible&&"candlestick"===O.type?[S,S]:[]);R.enter().append("path").classed("legendcandle",!0).attr("d",function(L,N){return N?"M-15,0H-8M-8,6V-6H8Z":"M15,0H8M8,-6V6H-8Z"}).attr("transform",b).style("stroke-miterlimit",1),R.exit().remove(),R.each(function(L,N){var j=D.select(this),X=O[N?"increasing":"decreasing"],F=A(void 0,X.line,5,2);j.style("stroke-width",F+"px").call(y.fill,X.fillcolor),F&&y.stroke(j,X.line.color)})}).each(function(S){var O=S[0].trace,R=D.select(this).select("g.legendpoints").selectAll("path.legendohlc").data(O.visible&&"ohlc"===O.type?[S,S]:[]);R.enter().append("path").classed("legendohlc",!0).attr("d",function(L,N){return N?"M-15,0H0M-8,-6V0":"M15,0H0M8,6V0"}).attr("transform",b).style("stroke-miterlimit",1),R.exit().remove(),R.each(function(L,N){var j=D.select(this),X=O[N?"increasing":"decreasing"],F=A(void 0,X.line,5,2);j.style("fill","none").call(M.dashLine,X.line.dash,F),F&&y.stroke(j,X.line.color)})})}},42068:function(ae,B,r){"use strict";r(93348),ae.exports={editType:"modebar",orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"modebar"},bgcolor:{valType:"color",editType:"modebar"},color:{valType:"color",editType:"modebar"},activecolor:{valType:"color",editType:"modebar"},uirevision:{valType:"any",editType:"none"},add:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"},remove:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"}}},26023:function(ae,B,r){"use strict";var D=r(73972),E=r(74875),f=r(41675),k=r(24255),M=r(34031).eraseActiveShape,y=r(71828),c=y._,i=ae.exports={};function s(_,m){var w,x,b=m.currentTarget,A=b.getAttribute("data-attr"),g=b.getAttribute("data-val")||!0,I=_._fullLayout,S={},O=f.list(_,null,!0),R=I._cartesianSpikesEnabled;if("zoom"===A){var L,N="in"===g?.5:2,j=(1+N)/2,X=(1-N)/2;for(x=0;x<O.length;x++)if(!(w=O[x]).fixedrange)if(L=w._name,"auto"===g)S[L+".autorange"]=!0;else if("reset"===g)void 0===w._rangeInitial0&&void 0===w._rangeInitial1?S[L+".autorange"]=!0:void 0===w._rangeInitial0?(S[L+".autorange"]=w._autorangeInitial,S[L+".range"]=[null,w._rangeInitial1]):void 0===w._rangeInitial1?(S[L+".range"]=[w._rangeInitial0,null],S[L+".autorange"]=w._autorangeInitial):S[L+".range"]=[w._rangeInitial0,w._rangeInitial1],void 0!==w._showSpikeInitial&&(S[L+".showspikes"]=w._showSpikeInitial,"on"!==R||w._showSpikeInitial||(R="off"));else{var F=[w.r2l(w.range[0]),w.r2l(w.range[1])],Y=[j*F[0]+X*F[1],j*F[1]+X*F[0]];S[L+".range[0]"]=w.l2r(Y[0]),S[L+".range[1]"]=w.l2r(Y[1])}}else"hovermode"!==A||"x"!==g&&"y"!==g||b.setAttribute("data-val",g=I._isHoriz?"y":"x"),S[A]=g;I._cartesianSpikesEnabled=R,D.call("_guiRelayout",_,S)}function a(_,m){for(var w=m.currentTarget,x=w.getAttribute("data-attr"),b=w.getAttribute("data-val")||!0,A=_._fullLayout._subplots.gl3d||[],g={},I=x.split("."),S=0;S<A.length;S++)g[A[S]+"."+I[1]]=b;g.dragmode="pan"===b?b:"zoom",D.call("_guiRelayout",_,g)}function o(_,m){for(var w=m.currentTarget.getAttribute("data-attr"),x="resetLastSave"===w,b="resetDefault"===w,A=_._fullLayout,g=A._subplots.gl3d||[],I={},S=0;S<g.length;S++){var O,R=g[S],L=R+".camera",N=R+".aspectratio",j=R+".aspectmode",X=A[R]._scene;x?(I[L+".up"]=X.viewInitial.up,I[L+".eye"]=X.viewInitial.eye,I[L+".center"]=X.viewInitial.center,O=!0):b&&(I[L+".up"]=null,I[L+".eye"]=null,I[L+".center"]=null,O=!0),O&&(I[N+".x"]=X.viewInitial.aspectratio.x,I[N+".y"]=X.viewInitial.aspectratio.y,I[N+".z"]=X.viewInitial.aspectratio.z,I[j]=X.viewInitial.aspectmode)}D.call("_guiRelayout",_,I)}function l(_,m){var w=m.currentTarget,x=w._previousVal,b=_._fullLayout,A=b._subplots.gl3d||[],g=["xaxis","yaxis","zaxis"],I={},S={};if(x)S=x,w._previousVal=null;else{for(var O=0;O<A.length;O++){var R=A[O],L=b[R],N=R+".hovermode";I[N]=L.hovermode,S[N]=!1;for(var j=0;j<3;j++){var X=g[j],F=R+"."+X+".showspikes";S[F]=!1,I[F]=L[X].showspikes}}w._previousVal=I}return S}function u(_,m){for(var w=m.currentTarget,x=w.getAttribute("data-attr"),b=w.getAttribute("data-val")||!0,A=_._fullLayout,g=A._subplots.geo||[],I=0;I<g.length;I++){var S=g[I];if("zoom"===x){var R=A[S].projection.scale;D.call("_guiRelayout",_,S+".projection.scale","in"===b?2*R:.5*R)}}"reset"===x&&T(_,"geo")}function h(_){var m=_._fullLayout;return!m.hovermode&&(m._has("cartesian")?m._isHoriz?"y":"x":"closest")}function v(_){var m=h(_);D.call("_guiRelayout",_,"hovermode",m)}function p(_,m){for(var w=m.currentTarget.getAttribute("data-val"),x=_._fullLayout,b=x._subplots.mapbox||[],A={},g=0;g<b.length;g++){var I=b[g],S=x[I].zoom;A[I+".zoom"]="in"===w?1.05*S:S/1.05}D.call("_guiRelayout",_,A)}function T(_,m){for(var w=_._fullLayout,x=w._subplots[m]||[],b={},A=0;A<x.length;A++)for(var g=x[A],I=w[g]._subplot.viewInitial,S=Object.keys(I),O=0;O<S.length;O++){var R=S[O];b[g+"."+R]=I[R]}D.call("_guiRelayout",_,b)}i.toImage={name:"toImage",title:function(_){return c(_,"png"===((_._context.toImageButtonOptions||{}).format||"png")?"Download plot as a png":"Download plot")},icon:k.camera,click:function(_){var m=_._context.toImageButtonOptions,w={format:m.format||"png"};y.notifier(c(_,"Taking snapshot - this may take a few seconds"),"long"),"svg"!==w.format&&y.isIE()&&(y.notifier(c(_,"IE only supports svg.  Changing format to svg."),"long"),w.format="svg"),["filename","width","height","scale"].forEach(function(x){x in m&&(w[x]=m[x])}),D.call("downloadImage",_,w).then(function(x){y.notifier(c(_,"Snapshot succeeded")+" - "+x,"long")}).catch(function(){y.notifier(c(_,"Sorry, there was a problem downloading your snapshot!"),"long")})}},i.sendDataToCloud={name:"sendDataToCloud",title:function(_){return c(_,"Edit in Chart Studio")},icon:k.disk,click:function(_){E.sendDataToCloud(_)}},i.editInChartStudio={name:"editInChartStudio",title:function(_){return c(_,"Edit in Chart Studio")},icon:k.pencil,click:function(_){E.sendDataToCloud(_)}},i.zoom2d={name:"zoom2d",_cat:"zoom",title:function(_){return c(_,"Zoom")},attr:"dragmode",val:"zoom",icon:k.zoombox,click:s},i.pan2d={name:"pan2d",_cat:"pan",title:function(_){return c(_,"Pan")},attr:"dragmode",val:"pan",icon:k.pan,click:s},i.select2d={name:"select2d",_cat:"select",title:function(_){return c(_,"Box Select")},attr:"dragmode",val:"select",icon:k.selectbox,click:s},i.lasso2d={name:"lasso2d",_cat:"lasso",title:function(_){return c(_,"Lasso Select")},attr:"dragmode",val:"lasso",icon:k.lasso,click:s},i.drawclosedpath={name:"drawclosedpath",title:function(_){return c(_,"Draw closed freeform")},attr:"dragmode",val:"drawclosedpath",icon:k.drawclosedpath,click:s},i.drawopenpath={name:"drawopenpath",title:function(_){return c(_,"Draw open freeform")},attr:"dragmode",val:"drawopenpath",icon:k.drawopenpath,click:s},i.drawline={name:"drawline",title:function(_){return c(_,"Draw line")},attr:"dragmode",val:"drawline",icon:k.drawline,click:s},i.drawrect={name:"drawrect",title:function(_){return c(_,"Draw rectangle")},attr:"dragmode",val:"drawrect",icon:k.drawrect,click:s},i.drawcircle={name:"drawcircle",title:function(_){return c(_,"Draw circle")},attr:"dragmode",val:"drawcircle",icon:k.drawcircle,click:s},i.eraseshape={name:"eraseshape",title:function(_){return c(_,"Erase active shape")},icon:k.eraseshape,click:M},i.zoomIn2d={name:"zoomIn2d",_cat:"zoomin",title:function(_){return c(_,"Zoom in")},attr:"zoom",val:"in",icon:k.zoom_plus,click:s},i.zoomOut2d={name:"zoomOut2d",_cat:"zoomout",title:function(_){return c(_,"Zoom out")},attr:"zoom",val:"out",icon:k.zoom_minus,click:s},i.autoScale2d={name:"autoScale2d",_cat:"autoscale",title:function(_){return c(_,"Autoscale")},attr:"zoom",val:"auto",icon:k.autoscale,click:s},i.resetScale2d={name:"resetScale2d",_cat:"resetscale",title:function(_){return c(_,"Reset axes")},attr:"zoom",val:"reset",icon:k.home,click:s},i.hoverClosestCartesian={name:"hoverClosestCartesian",_cat:"hoverclosest",title:function(_){return c(_,"Show closest data on hover")},attr:"hovermode",val:"closest",icon:k.tooltip_basic,gravity:"ne",click:s},i.hoverCompareCartesian={name:"hoverCompareCartesian",_cat:"hoverCompare",title:function(_){return c(_,"Compare data on hover")},attr:"hovermode",val:function(_){return _._fullLayout._isHoriz?"y":"x"},icon:k.tooltip_compare,gravity:"ne",click:s},i.zoom3d={name:"zoom3d",_cat:"zoom",title:function(_){return c(_,"Zoom")},attr:"scene.dragmode",val:"zoom",icon:k.zoombox,click:a},i.pan3d={name:"pan3d",_cat:"pan",title:function(_){return c(_,"Pan")},attr:"scene.dragmode",val:"pan",icon:k.pan,click:a},i.orbitRotation={name:"orbitRotation",title:function(_){return c(_,"Orbital rotation")},attr:"scene.dragmode",val:"orbit",icon:k["3d_rotate"],click:a},i.tableRotation={name:"tableRotation",title:function(_){return c(_,"Turntable rotation")},attr:"scene.dragmode",val:"turntable",icon:k["z-axis"],click:a},i.resetCameraDefault3d={name:"resetCameraDefault3d",_cat:"resetCameraDefault",title:function(_){return c(_,"Reset camera to default")},attr:"resetDefault",icon:k.home,click:o},i.resetCameraLastSave3d={name:"resetCameraLastSave3d",_cat:"resetCameraLastSave",title:function(_){return c(_,"Reset camera to last save")},attr:"resetLastSave",icon:k.movie,click:o},i.hoverClosest3d={name:"hoverClosest3d",_cat:"hoverclosest",title:function(_){return c(_,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:k.tooltip_basic,gravity:"ne",click:function(_,m){var w=l(_,m);D.call("_guiRelayout",_,w)}},i.zoomInGeo={name:"zoomInGeo",_cat:"zoomin",title:function(_){return c(_,"Zoom in")},attr:"zoom",val:"in",icon:k.zoom_plus,click:u},i.zoomOutGeo={name:"zoomOutGeo",_cat:"zoomout",title:function(_){return c(_,"Zoom out")},attr:"zoom",val:"out",icon:k.zoom_minus,click:u},i.resetGeo={name:"resetGeo",_cat:"reset",title:function(_){return c(_,"Reset")},attr:"reset",val:null,icon:k.autoscale,click:u},i.hoverClosestGeo={name:"hoverClosestGeo",_cat:"hoverclosest",title:function(_){return c(_,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:k.tooltip_basic,gravity:"ne",click:v},i.hoverClosestGl2d={name:"hoverClosestGl2d",_cat:"hoverclosest",title:function(_){return c(_,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:k.tooltip_basic,gravity:"ne",click:v},i.hoverClosestPie={name:"hoverClosestPie",_cat:"hoverclosest",title:function(_){return c(_,"Toggle show closest data on hover")},attr:"hovermode",val:"closest",icon:k.tooltip_basic,gravity:"ne",click:v},i.resetViewSankey={name:"resetSankeyGroup",title:function(_){return c(_,"Reset view")},icon:k.home,click:function(_){for(var m={"node.groups":[],"node.x":[],"node.y":[]},w=0;w<_._fullData.length;w++){var x=_._fullData[w]._viewInitial;m["node.groups"].push(x.node.groups.slice()),m["node.x"].push(x.node.x.slice()),m["node.y"].push(x.node.y.slice())}D.call("restyle",_,m)}},i.toggleHover={name:"toggleHover",title:function(_){return c(_,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:k.tooltip_basic,gravity:"ne",click:function(_,m){var w=l(_,m);w.hovermode=h(_),D.call("_guiRelayout",_,w)}},i.resetViews={name:"resetViews",title:function(_){return c(_,"Reset views")},icon:k.home,click:function(_,m){var w=m.currentTarget;w.setAttribute("data-attr","zoom"),w.setAttribute("data-val","reset"),s(_,m),w.setAttribute("data-attr","resetLastSave"),o(_,m),T(_,"geo"),T(_,"mapbox")}},i.toggleSpikelines={name:"toggleSpikelines",title:function(_){return c(_,"Toggle Spike Lines")},icon:k.spikeline,attr:"_cartesianSpikesEnabled",val:"on",click:function(_){var m=_._fullLayout;m._cartesianSpikesEnabled="on"===m._cartesianSpikesEnabled?"off":"on",D.call("_guiRelayout",_,function(x){for(var b="on"===x._fullLayout._cartesianSpikesEnabled,A=f.list(x,null,!0),g={},I=0;I<A.length;I++){var S=A[I];g[S._name+".showspikes"]=!!b||S._showSpikeInitial}return g}(_))}},i.resetViewMapbox={name:"resetViewMapbox",_cat:"resetView",title:function(_){return c(_,"Reset view")},attr:"reset",icon:k.home,click:function(_){T(_,"mapbox")}},i.zoomInMapbox={name:"zoomInMapbox",_cat:"zoomin",title:function(_){return c(_,"Zoom in")},attr:"zoom",val:"in",icon:k.zoom_plus,click:p},i.zoomOutMapbox={name:"zoomOutMapbox",_cat:"zoomout",title:function(_){return c(_,"Zoom out")},attr:"zoom",val:"out",icon:k.zoom_minus,click:p}},93348:function(ae,B,r){"use strict";var D=r(26023),E=Object.keys(D),f=["drawline","drawopenpath","drawclosedpath","drawcircle","drawrect","eraseshape"],k=["v1hovermode","hoverclosest","hovercompare","togglehover","togglespikelines"].concat(f),M=[];E.forEach(function(y){!function(c){if(-1===k.indexOf(c._cat||c.name)){var i=c.name,s=(c._cat||c.name).toLowerCase();-1===M.indexOf(i)&&M.push(i),-1===M.indexOf(s)&&M.push(s)}}(D[y])}),M.sort(),ae.exports={DRAW_MODES:f,backButtons:k,foreButtons:M}},35750:function(ae,B,r){"use strict";var D=r(71828),E=r(7901),f=r(44467),k=r(42068);ae.exports=function(M,y){var c=M.modebar||{},i=f.newContainer(y,"modebar");function s(o,l){return D.coerce(c,i,k,o,l)}s("orientation"),s("bgcolor",E.addOpacity(y.paper_bgcolor,.5));var a=E.contrast(E.rgb(y.modebar.bgcolor));s("color",E.addOpacity(a,.3)),s("activecolor",E.addOpacity(a,.7)),s("uirevision",y.uirevision),s("add"),s("remove")}},64168:function(ae,B,r){"use strict";ae.exports={moduleType:"component",name:"modebar",layoutAttributes:r(42068),supplyLayoutDefaults:r(35750),manage:r(14192)}},14192:function(ae,B,r){"use strict";var D=r(41675),E=r(34098),f=r(73972),k=r(23469).isUnifiedHover,M=r(37676),y=r(26023),c=r(93348).DRAW_MODES,i=r(71828).extendDeep;ae.exports=function(s){var a=s._fullLayout,o=s._context,l=a._modeBar;if(o.displayModeBar||o.watermark){if(!Array.isArray(o.modeBarButtonsToRemove))throw new Error(["*modeBarButtonsToRemove* configuration options","must be an array."].join(" "));if(!Array.isArray(o.modeBarButtonsToAdd))throw new Error(["*modeBarButtonsToAdd* configuration options","must be an array."].join(" "));var u,h=o.modeBarButtons;u=Array.isArray(h)&&h.length?function(v){for(var p=i([],v),T=0;T<p.length;T++)for(var _=p[T],m=0;m<_.length;m++){var w=_[m];if("string"==typeof w){if(void 0===y[w])throw new Error(["*modeBarButtons* configuration options","invalid button name"].join(" "));p[T][m]=y[w]}}return p}(h):!o.displayModeBar&&o.watermark?[]:function(v){var p=v._fullLayout,T=v._fullData,_=v._context;function m(Me,Ae){if("string"==typeof Ae){if(Ae.toLowerCase()===Me.toLowerCase())return!0}else if(Ae.name===Me||(Ae._cat||Ae.name)===Me.toLowerCase())return!0;return!1}var w=p.modebar.add;"string"==typeof w&&(w=[w]);var x=p.modebar.remove;"string"==typeof x&&(x=[x]);var b=_.modeBarButtonsToAdd.concat(w.filter(function(Me){for(var Ae=0;Ae<_.modeBarButtonsToRemove.length;Ae++)if(m(Me,_.modeBarButtonsToRemove[Ae]))return!1;return!0})),A=_.modeBarButtonsToRemove.concat(x.filter(function(Me){for(var Ae=0;Ae<_.modeBarButtonsToAdd.length;Ae++)if(m(Me,_.modeBarButtonsToAdd[Ae]))return!1;return!0})),g=p._has("cartesian"),I=p._has("gl3d"),S=p._has("geo"),O=p._has("pie"),R=p._has("funnelarea"),L=p._has("gl2d"),N=p._has("ternary"),j=p._has("mapbox"),X=p._has("polar"),F=p._has("smith"),Y=p._has("sankey"),G=function(Me){for(var Ae=D.list({_fullLayout:Me},null,!0),be=0;be<Ae.length;be++)if(!Ae[be].fixedrange)return!1;return!0}(p),H=k(p.hovermode),W=[];function Z(Me){if(Me.length){for(var Ae=[],be=0;be<Me.length;be++){for(var ye=Me[be],we=y[ye],ze=we.name.toLowerCase(),Se=(we._cat||we.name).toLowerCase(),Ce=!1,ge=0;ge<A.length;ge++){var he=A[ge].toLowerCase();if(he===ze||he===Se){Ce=!0;break}}Ce||Ae.push(y[ye])}W.push(Ae)}}var se=["toImage"];_.showEditInChartStudio?se.push("editInChartStudio"):_.showSendToCloud&&se.push("sendDataToCloud"),Z(se);var re=[],ne=[],Q=[],ee=[];(g||L||O||R||N)+S+I+j+X+F>1?(ne=["toggleHover"],Q=["resetViews"]):S?(re=["zoomInGeo","zoomOutGeo"],ne=["hoverClosestGeo"],Q=["resetGeo"]):I?(ne=["hoverClosest3d"],Q=["resetCameraDefault3d","resetCameraLastSave3d"]):j?(re=["zoomInMapbox","zoomOutMapbox"],ne=["toggleHover"],Q=["resetViewMapbox"]):L?ne=["hoverClosestGl2d"]:O?ne=["hoverClosestPie"]:Y?(ne=["hoverClosestCartesian","hoverCompareCartesian"],Q=["resetViewSankey"]):ne=["toggleHover"],g&&(ne=["toggleSpikelines","hoverClosestCartesian","hoverCompareCartesian"]),(function(Me){for(var Ae=0;Ae<Me.length;Ae++)if(!f.traceIs(Me[Ae],"noHover"))return!1;return!0}(T)||H)&&(ne=[]),!g&&!L||G||(re=["zoomIn2d","zoomOut2d","autoScale2d"],"resetViews"!==Q[0]&&(Q=["resetScale2d"])),I?ee=["zoom3d","pan3d","orbitRotation","tableRotation"]:(g||L)&&!G||N?ee=["zoom2d","pan2d"]:j||S?ee=["pan2d"]:X&&(ee=["zoom2d"]),function(Me){for(var Ae=!1,be=0;be<Me.length&&!Ae;be++){var ye=Me[be];ye._module&&ye._module.selectPoints&&(f.traceIs(ye,"scatter-like")?(E.hasMarkers(ye)||E.hasText(ye))&&(Ae=!0):f.traceIs(ye,"box-violin")&&"all"!==ye.boxpoints&&"all"!==ye.points||(Ae=!0))}return Ae}(T)&&ee.push("select2d","lasso2d");var oe=[],ce=function(Me){-1===oe.indexOf(Me)&&-1!==ne.indexOf(Me)&&oe.push(Me)};if(Array.isArray(b)){for(var fe=[],le=0;le<b.length;le++){var pe=b[le];"string"==typeof pe?(pe=pe.toLowerCase(),-1!==c.indexOf(pe)?(p._has("mapbox")||p._has("cartesian"))&&ee.push(pe):"togglespikelines"===pe?ce("toggleSpikelines"):"togglehover"===pe?ce("toggleHover"):"hovercompare"===pe?ce("hoverCompareCartesian"):"hoverclosest"===pe?(ce("hoverClosestCartesian"),ce("hoverClosestGeo"),ce("hoverClosest3d"),ce("hoverClosestGl2d"),ce("hoverClosestPie")):"v1hovermode"===pe&&(ce("toggleHover"),ce("hoverClosestCartesian"),ce("hoverCompareCartesian"),ce("hoverClosestGeo"),ce("hoverClosest3d"),ce("hoverClosestGl2d"),ce("hoverClosestPie"))):fe.push(pe)}b=fe}return Z(ee),Z(re.concat(Q)),Z(oe),function(Me,Ae){if(Ae.length)if(Array.isArray(Ae[0]))for(var be=0;be<Ae.length;be++)Me.push(Ae[be]);else Me.push(Ae);return Me}(W,b)}(s),l?l.update(s,u):a._modeBar=M(s,u)}else l&&(l.destroy(),delete a._modeBar)}},37676:function(ae,B,r){"use strict";var D=r(39898),E=r(92770),f=r(71828),k=r(24255),M=r(11506).version,y=new DOMParser;function c(s){this.container=s.container,this.element=document.createElement("div"),this.update(s.graphInfo,s.buttons),this.container.appendChild(this.element)}var i=c.prototype;i.update=function(s,a){this.graphInfo=s;var o=this.graphInfo._context,l=this.graphInfo._fullLayout,u="modebar-"+l._uid;this.element.setAttribute("id",u),this._uid=u,this.element.className="modebar","hover"===o.displayModeBar&&(this.element.className+=" modebar--hover ease-bg"),"v"===l.modebar.orientation&&(this.element.className+=" vertical",a=a.reverse());var h=l.modebar,v="hover"===o.displayModeBar?".js-plotly-plot .plotly:hover ":"";f.deleteRelatedStyleRule(u),f.addRelatedStyleRule(u,v+"#"+u+" .modebar-group","background-color: "+h.bgcolor),f.addRelatedStyleRule(u,"#"+u+" .modebar-btn .icon path","fill: "+h.color),f.addRelatedStyleRule(u,"#"+u+" .modebar-btn:hover .icon path","fill: "+h.activecolor),f.addRelatedStyleRule(u,"#"+u+" .modebar-btn.active .icon path","fill: "+h.activecolor);var p=!this.hasButtons(a),T=this.hasLogo!==o.displaylogo,_=this.locale!==o.locale;if(this.locale=o.locale,(p||T||_)&&(this.removeAllButtons(),this.updateButtons(a),o.watermark||o.displaylogo)){var m=this.getLogo();o.watermark&&(m.className=m.className+" watermark"),"v"===l.modebar.orientation?this.element.insertBefore(m,this.element.childNodes[0]):this.element.appendChild(m),this.hasLogo=!0}this.updateActiveButton()},i.updateButtons=function(s){var a=this;this.buttons=s,this.buttonElements=[],this.buttonsNames=[],this.buttons.forEach(function(o){var l=a.createGroup();o.forEach(function(u){var h=u.name;if(!h)throw new Error("must provide button 'name' in button config");if(-1!==a.buttonsNames.indexOf(h))throw new Error("button name '"+h+"' is taken");a.buttonsNames.push(h);var v=a.createButton(u);a.buttonElements.push(v),l.appendChild(v)}),a.element.appendChild(l)})},i.createGroup=function(){var s=document.createElement("div");return s.className="modebar-group",s},i.createButton=function(s){var a=this,o=document.createElement("a");o.setAttribute("rel","tooltip"),o.className="modebar-btn";var l=s.title;void 0===l?l=s.name:"function"==typeof l&&(l=l(this.graphInfo)),(l||0===l)&&o.setAttribute("data-title",l),void 0!==s.attr&&o.setAttribute("data-attr",s.attr);var u=s.val;if(void 0!==u&&("function"==typeof u&&(u=u(this.graphInfo)),o.setAttribute("data-val",u)),"function"!=typeof s.click)throw new Error("must provide button 'click' function in button config");o.addEventListener("click",function(v){s.click(a.graphInfo,v),a.updateActiveButton(v.currentTarget)}),o.setAttribute("data-toggle",s.toggle||!1),s.toggle&&D.select(o).classed("active",!0);var h=s.icon;return o.appendChild("function"==typeof h?h():this.createIcon(h||k.question)),o.setAttribute("data-gravity",s.gravity||"n"),o},i.createIcon=function(s){var a,o=E(s.height)?Number(s.height):s.ascent-s.descent,l="http://www.w3.org/2000/svg";if(s.path){(a=document.createElementNS(l,"svg")).setAttribute("viewBox",[0,0,s.width,o].join(" ")),a.setAttribute("class","icon");var u=document.createElementNS(l,"path");u.setAttribute("d",s.path),s.transform?u.setAttribute("transform",s.transform):void 0!==s.ascent&&u.setAttribute("transform","matrix(1 0 0 -1 0 "+s.ascent+")"),a.appendChild(u)}return s.svg&&(a=y.parseFromString(s.svg,"application/xml").childNodes[0]),a.setAttribute("height","1em"),a.setAttribute("width","1em"),a},i.updateActiveButton=function(s){var a=this.graphInfo._fullLayout,o=void 0!==s?s.getAttribute("data-attr"):null;this.buttonElements.forEach(function(l){var u=l.getAttribute("data-val")||!0,h=l.getAttribute("data-attr"),v="true"===l.getAttribute("data-toggle"),p=D.select(l);if(v)h===o&&p.classed("active",!p.classed("active"));else{var T=null===h?h:f.nestedProperty(a,h).get();p.classed("active",T===u)}})},i.hasButtons=function(s){var a=this.buttons;if(!a||s.length!==a.length)return!1;for(var o=0;o<s.length;++o){if(s[o].length!==a[o].length)return!1;for(var l=0;l<s[o].length;l++)if(s[o][l].name!==a[o][l].name)return!1}return!0},i.getLogo=function(){var s=this.createGroup(),a=document.createElement("a");return a.href="https://plotly.com/",a.target="_blank",a.setAttribute("data-title",f._(this.graphInfo,"Produced with Plotly.js")+" (v"+M+")"),a.className="modebar-btn plotlyjsicon modebar-btn--logo",a.appendChild(this.createIcon(k.newplotlylogo)),s.appendChild(a),s},i.removeAllButtons=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.hasLogo=!1},i.destroy=function(){f.removeElement(this.container.querySelector(".modebar")),f.deleteRelatedStyleRule(this._uid)},ae.exports=function(s,a){var o=s._fullLayout,l=new c({graphInfo:s,container:o._modebardiv.node(),buttons:a});return o._privateplot&&D.select(l.element).append("span").classed("badge-private float--left",!0).text("PRIVATE"),l}},37113:function(ae,B,r){"use strict";var D=r(41940),E=r(22399),f=(0,r(44467).templatedArray)("button",{visible:{valType:"boolean",dflt:!0,editType:"plot"},step:{valType:"enumerated",values:["month","year","day","hour","minute","second","all"],dflt:"month",editType:"plot"},stepmode:{valType:"enumerated",values:["backward","todate"],dflt:"backward",editType:"plot"},count:{valType:"number",min:0,dflt:1,editType:"plot"},label:{valType:"string",editType:"plot"},editType:"plot"});ae.exports={visible:{valType:"boolean",editType:"plot"},buttons:f,x:{valType:"number",min:-2,max:3,editType:"plot"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"plot"},y:{valType:"number",min:-2,max:3,editType:"plot"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"bottom",editType:"plot"},font:D({editType:"plot"}),bgcolor:{valType:"color",dflt:E.lightLine,editType:"plot"},activecolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:E.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"}},89573:function(ae){"use strict";ae.exports={yPad:.02,minButtonWidth:30,rx:3,ry:3,lightAmount:25,darkAmount:10}},28674:function(ae,B,r){"use strict";var D=r(71828),E=r(7901),f=r(44467),k=r(85501),M=r(37113),y=r(89573);function c(i,s,a,o){var l=o.calendar;function u(v,p){return D.coerce(i,s,M.buttons,v,p)}if(u("visible")){var h=u("step");"all"!==h&&(!l||"gregorian"===l||"month"!==h&&"year"!==h?u("stepmode"):s.stepmode="backward",u("count")),u("label")}}ae.exports=function(i,s,a,o,l){var u=i.rangeselector||{},h=f.newContainer(s,"rangeselector");function v(_,m){return D.coerce(u,h,M,_,m)}if(v("visible",k(u,h,{name:"buttons",handleItemDefaults:c,calendar:l}).length>0)){var p=function(_,m,w){for(var x=w.filter(function(I){return m[I].anchor===_._id}),b=0,A=0;A<x.length;A++){var g=m[x[A]].domain;g&&(b=Math.max(g[1],b))}return[_.domain[0],b+y.yPad]}(s,a,o);v("x",p[0]),v("y",p[1]),D.noneOrAll(i,s,["x","y"]),v("xanchor"),v("yanchor"),D.coerceFont(v,"font",a.font);var T=v("bgcolor");v("activecolor",E.contrast(T,y.lightAmount,y.darkAmount)),v("bordercolor"),v("borderwidth")}}},21598:function(ae,B,r){"use strict";var D=r(39898),E=r(73972),f=r(74875),k=r(7901),M=r(91424),y=r(71828),c=y.strTranslate,i=r(63893),s=r(41675),a=r(18783),o=a.LINE_SPACING,l=a.FROM_TL,u=a.FROM_BR,h=r(89573),v=r(70565);function p(m){return m._id}function T(m,w,x){var A,g,b=y.ensureSingle(m,"rect","selector-rect",function(A){A.attr("shape-rendering","crispEdges")});b.attr({rx:h.rx,ry:h.ry}),b.call(k.stroke,w.bordercolor).call(k.fill,(A=w,g=x,g._isActive||g._isHovered?A.activecolor:A.bgcolor)).style("stroke-width",w.borderwidth+"px")}function _(m,w,x,b){var A,g;y.ensureSingle(m,"text","selector-text",function(I){I.attr("text-anchor","middle")}).call(M.font,w.font).text((A=x,g=b._fullLayout._meta,A.label?g?y.templateString(A.label,g):A.label:"all"===A.step?"all":A.count+A.step.charAt(0))).call(function(I){i.convertToTspans(I,b)})}ae.exports=function(m){var w=m._fullLayout._infolayer.selectAll(".rangeselector").data(function(x){for(var b=s.list(x,"x",!0),A=[],g=0;g<b.length;g++){var I=b[g];I.rangeselector&&I.rangeselector.visible&&A.push(I)}return A}(m),p);w.enter().append("g").classed("rangeselector",!0),w.exit().remove(),w.style({cursor:"pointer","pointer-events":"all"}),w.each(function(x){var b=D.select(this),A=x,g=A.rangeselector,I=b.selectAll("g.button").data(y.filterVisible(g.buttons));I.enter().append("g").classed("button",!0),I.exit().remove(),I.each(function(S){var O=D.select(this),R=v(A,S);S._isActive=function(L,N,j){if("all"===N.step)return!0===L.autorange;var X=Object.keys(j);return L.range[0]===j[X[0]]&&L.range[1]===j[X[1]]}(A,S,R),O.call(T,g,S),O.call(_,g,S,m),O.on("click",function(){m._dragged||E.call("_guiRelayout",m,R)}),O.on("mouseover",function(){S._isHovered=!0,O.call(T,g,S)}),O.on("mouseout",function(){S._isHovered=!1,O.call(T,g,S)})}),function(S,O,R,L,N){var j=0,X=0,F=R.borderwidth;O.each(function(){var se=D.select(this).select(".selector-text"),ne=Math.max(R.font.size*o*i.lineCount(se),16)+3;X=Math.max(X,ne)}),O.each(function(){var se=D.select(this),re=se.select(".selector-rect"),ne=se.select(".selector-text"),Q=ne.node()&&M.bBox(ne.node()).width,ee=R.font.size*o,oe=i.lineCount(ne),ce=Math.max(Q+10,h.minButtonWidth);se.attr("transform",c(F+j,F)),re.attr({x:0,y:0,width:ce,height:X}),i.positionText(ne,ce/2,X/2-(oe-1)*ee/2+3),j+=ce+5});var Y=S._fullLayout._size,G=Y.l+Y.w*R.x,H=Y.t+Y.h*(1-R.y),W="left";y.isRightAnchor(R)&&(G-=j,W="right"),y.isCenterAnchor(R)&&(G-=j/2,W="center");var Z="top";y.isBottomAnchor(R)&&(H-=X,Z="bottom"),y.isMiddleAnchor(R)&&(H-=X/2,Z="middle"),j=Math.ceil(j),X=Math.ceil(X),G=Math.round(G),H=Math.round(H),f.autoMargin(S,L+"-range-selector",{x:R.x,y:R.y,l:j*l[W],r:j*u[W],b:X*u[Z],t:X*l[Z]}),N.attr("transform",c(G,H))}(m,I,g,A._name,b)})}},70565:function(ae,B,r){"use strict";var D=r(81041),E=r(71828).titleCase;ae.exports=function(f,k){var M=f._name,y={};if("all"===k.step)y[M+".autorange"]=!0;else{var c=function(i,s){var a,o=i.range,l=new Date(i.r2l(o[1])),h=D["utc"+E(s.step)],v=s.count;switch(s.stepmode){case"backward":a=i.l2r(+h.offset(l,-v));break;case"todate":var p=h.offset(l,-v);a=i.l2r(+h.ceil(p))}return[a,o[1]]}(f,k);y[M+".range[0]"]=c[0],y[M+".range[1]"]=c[1]}return y}},97218:function(ae,B,r){"use strict";ae.exports={moduleType:"component",name:"rangeselector",schema:{subplots:{xaxis:{rangeselector:r(37113)}}},layoutAttributes:r(37113),handleDefaults:r(28674),draw:r(21598)}},75148:function(ae,B,r){"use strict";var D=r(22399);ae.exports={bgcolor:{valType:"color",dflt:D.background,editType:"plot"},bordercolor:{valType:"color",dflt:D.defaultLine,editType:"plot"},borderwidth:{valType:"integer",dflt:0,min:0,editType:"plot"},autorange:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},range:{valType:"info_array",items:[{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}}],editType:"calc",impliedEdits:{autorange:!1}},thickness:{valType:"number",dflt:.15,min:0,max:1,editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"}},88443:function(ae,B,r){"use strict";var D=r(41675).list,E=r(71739).getAutoRange,f=r(73251);ae.exports=function(k){for(var M=D(k,"x",!0),y=0;y<M.length;y++){var c=M[y],i=c[f.name];i&&i.visible&&i.autorange&&(i._input.autorange=!0,i._input.range=i.range=E(k,c))}}},73251:function(ae){"use strict";ae.exports={name:"rangeslider",containerClassName:"rangeslider-container",bgClassName:"rangeslider-bg",rangePlotClassName:"rangeslider-rangeplot",maskMinClassName:"rangeslider-mask-min",maskMaxClassName:"rangeslider-mask-max",slideBoxClassName:"rangeslider-slidebox",grabberMinClassName:"rangeslider-grabber-min",grabAreaMinClassName:"rangeslider-grabarea-min",handleMinClassName:"rangeslider-handle-min",grabberMaxClassName:"rangeslider-grabber-max",grabAreaMaxClassName:"rangeslider-grabarea-max",handleMaxClassName:"rangeslider-handle-max",maskMinOppAxisClassName:"rangeslider-mask-min-opp-axis",maskMaxOppAxisClassName:"rangeslider-mask-max-opp-axis",maskColor:"rgba(0,0,0,0.4)",maskOppAxisColor:"rgba(0,0,0,0.2)",slideBoxFill:"transparent",slideBoxCursor:"ew-resize",grabAreaFill:"transparent",grabAreaCursor:"col-resize",grabAreaWidth:10,handleWidth:4,handleRadius:1,handleStrokeWidth:1,extraPad:15}},26377:function(ae,B,r){"use strict";var D=r(71828),E=r(44467),f=r(41675),k=r(75148),M=r(47850);ae.exports=function(y,c,i){var s=y[i],a=c[i];if(s.rangeslider||c._requestRangeslider[a._id]){D.isPlainObject(s.rangeslider)||(s.rangeslider={});var o,l,u=s.rangeslider,h=E.newContainer(a,"rangeslider");if(b("visible")){b("bgcolor",c.plot_bgcolor),b("bordercolor"),b("borderwidth"),b("thickness"),b("autorange",!a.isValidRange(u.range)),b("range");var v=c._subplots;if(v)for(var p=v.cartesian.filter(function(g){return g.substr(0,g.indexOf("y"))===f.name2id(i)}).map(function(g){return g.substr(g.indexOf("y"),g.length)}),T=D.simpleMap(p,f.id2name),_=0;_<T.length;_++){var m=T[_];o=u[m]||{},l=E.newContainer(h,m,"yaxis");var w,x=c[m];o.range&&x.isValidRange(o.range)&&(w="fixed"),"match"!==A("rangemode",w)&&A("range",x.range.slice())}h._input=u}}function b(g,I){return D.coerce(u,h,k,g,I)}function A(g,I){return D.coerce(o,l,M,g,I)}}},72413:function(ae,B,r){"use strict";var D=r(39898),E=r(73972),f=r(74875),k=r(71828),M=k.strTranslate,y=r(91424),c=r(7901),i=r(92998),s=r(93612),a=r(41675),o=r(28569),l=r(6964),u=r(73251);function h(w,x,b,A){var g=k.ensureSingle(w,"rect",u.bgClassName,function(R){R.attr({x:0,y:0,"shape-rendering":"crispEdges"})}),I=A.borderwidth%2==0?A.borderwidth:A.borderwidth-1,S=-A._offsetShift,O=y.crispRound(x,A.borderwidth);g.attr({width:A._width+I,height:A._height+I,transform:M(S,S),"stroke-width":O}).call(c.stroke,A.bordercolor).call(c.fill,A.bgcolor)}function v(w,x,b,A){k.ensureSingleById(x._fullLayout._topdefs,"clipPath",A._clipId,function(I){I.append("rect").attr({x:0,y:0})}).select("rect").attr({width:A._width,height:A._height})}function p(w,x,b,A){var g,I=x.calcdata,S=w.selectAll("g."+u.rangePlotClassName).data(b._subplotsWith,k.identity);S.enter().append("g").attr("class",function(O){return u.rangePlotClassName+" "+O}).call(y.setClipUrl,A._clipId,x),S.order(),S.exit().remove(),S.each(function(O,R){var L=D.select(this),N=0===R,j=a.getFromId(x,O,"y"),X=j._name,F=A[X],Y={data:[],layout:{xaxis:{type:b.type,domain:[0,1],range:A.range.slice(),calendar:b.calendar},width:A._width,height:A._height,margin:{t:0,b:0,l:0,r:0}},_context:x._context};b.rangebreaks&&(Y.layout.xaxis.rangebreaks=b.rangebreaks),Y.layout[X]={type:j.type,domain:[0,1],range:"match"!==F.rangemode?F.range.slice():j.range.slice(),calendar:j.calendar},j.rangebreaks&&(Y.layout[X].rangebreaks=j.rangebreaks),f.supplyDefaults(Y);var G=Y._fullLayout.xaxis,H=Y._fullLayout[X];G.clearCalc(),G.setScale(),H.clearCalc(),H.setScale();var W={id:O,plotgroup:L,xaxis:G,yaxis:H,isRangePlot:!0};N?g=W:(W.mainplot="xy",W.mainplotinfo=g),s.rangePlot(x,W,function(Z,se){for(var re=[],ne=0;ne<Z.length;ne++){var Q=Z[ne],ee=Q[0].trace;ee.xaxis+ee.yaxis===se&&re.push(Q)}return re}(I,O))})}function T(w,x,b,A,g){k.ensureSingle(w,"rect",u.maskMinClassName,function(I){I.attr({x:0,y:0,"shape-rendering":"crispEdges"})}).attr("height",A._height).call(c.fill,u.maskColor),k.ensureSingle(w,"rect",u.maskMaxClassName,function(I){I.attr({y:0,"shape-rendering":"crispEdges"})}).attr("height",A._height).call(c.fill,u.maskColor),"match"!==g.rangemode&&(k.ensureSingle(w,"rect",u.maskMinOppAxisClassName,function(I){I.attr({y:0,"shape-rendering":"crispEdges"})}).attr("width",A._width).call(c.fill,u.maskOppAxisColor),k.ensureSingle(w,"rect",u.maskMaxOppAxisClassName,function(I){I.attr({y:0,"shape-rendering":"crispEdges"})}).attr("width",A._width).style("border-top",u.maskOppBorder).call(c.fill,u.maskOppAxisColor))}function _(w,x,b,A){x._context.staticPlot||k.ensureSingle(w,"rect",u.slideBoxClassName,function(g){g.attr({y:0,cursor:u.slideBoxCursor,"shape-rendering":"crispEdges"})}).attr({height:A._height,fill:u.slideBoxFill})}function m(w,x,b,A){var g=k.ensureSingle(w,"g",u.grabberMinClassName),I=k.ensureSingle(w,"g",u.grabberMaxClassName),S={x:0,width:u.handleWidth,rx:u.handleRadius,fill:c.background,stroke:c.defaultLine,"stroke-width":u.handleStrokeWidth,"shape-rendering":"crispEdges"},O={y:Math.round(A._height/4),height:Math.round(A._height/2)};k.ensureSingle(g,"rect",u.handleMinClassName,function(L){L.attr(S)}).attr(O),k.ensureSingle(I,"rect",u.handleMaxClassName,function(L){L.attr(S)}).attr(O);var R={width:u.grabAreaWidth,x:0,y:0,fill:u.grabAreaFill,cursor:x._context.staticPlot?void 0:u.grabAreaCursor};k.ensureSingle(g,"rect",u.grabAreaMinClassName,function(L){L.attr(R)}).attr("height",A._height),k.ensureSingle(I,"rect",u.grabAreaMaxClassName,function(L){L.attr(R)}).attr("height",A._height)}ae.exports=function(w){for(var x=w._fullLayout,b=x._rangeSliderData,A=0;A<b.length;A++){var g=b[A][u.name];g._clipId=g._id+"-"+x._uid}var I=x._infolayer.selectAll("g."+u.containerClassName).data(b,function(S){return S._name});I.exit().each(function(S){x._topdefs.select("#"+S[u.name]._clipId).remove()}).remove(),0!==b.length&&(I.enter().append("g").classed(u.containerClassName,!0).attr("pointer-events","all"),I.each(function(S){var O=D.select(this),R=S[u.name],L=x[a.id2name(S.anchor)],N=R[a.id2name(S.anchor)];if(R.range){var j,X=k.simpleMap(R.range,S.r2l),F=k.simpleMap(S.range,S.r2l);j=F[0]<F[1]?[Math.min(X[0],F[0]),Math.max(X[1],F[1])]:[Math.max(X[0],F[0]),Math.min(X[1],F[1])],R.range=R._input.range=k.simpleMap(j,S.l2r)}S.cleanRange("rangeslider.range");var Y=x._size,G=S.domain;R._width=Y.w*(G[1]-G[0]);var H=Math.round(Y.l+Y.w*G[0]),W=Math.round(Y.t+Y.h*(1-S._counterDomainMin)+("bottom"===S.side?S._depth:0)+R._offsetShift+u.extraPad);O.attr("transform",M(H,W)),R._rl=k.simpleMap(R.range,S.r2l);var Z=R._rl[0],se=R._rl[1],re=se-Z;if(R.p2d=function(Me){return Me/R._width*re+Z},R.d2p=function(Me){return(Me-Z)/re*R._width},S.rangebreaks){var ne=S.locateBreaks(Z,se);if(ne.length){var Q,ee,oe=0;for(Q=0;Q<ne.length;Q++)oe+=(ee=ne[Q]).max-ee.min;var ce=R._width/(se-Z-oe),fe=[-ce*Z];for(Q=0;Q<ne.length;Q++)fe.push(fe[fe.length-1]-ce*((ee=ne[Q]).max-ee.min));for(R.d2p=function(Me){for(var Ae=fe[0],be=0;be<ne.length;be++){var ye=ne[be];if(Me>=ye.max)Ae=fe[be+1];else if(Me<ye.min)break}return Ae+ce*Me},Q=0;Q<ne.length;Q++)(ee=ne[Q]).pmin=R.d2p(ee.min),ee.pmax=R.d2p(ee.max);R.p2d=function(Me){for(var Ae=fe[0],be=0;be<ne.length;be++){var ye=ne[be];if(Me>=ye.pmax)Ae=fe[be+1];else if(Me<ye.pmin)break}return(Me-Ae)/ce}}}if("match"!==N.rangemode){var le=L.r2l(N.range[0]),pe=L.r2l(N.range[1])-le;R.d2pOppAxis=function(Me){return(Me-le)/pe*R._height}}O.call(h,w,S,R).call(v,w,S,R).call(p,w,S,R).call(T,w,S,R,N).call(_,w,S,R).call(m,w,S,R),function(Me,Ae,be,ye){if(!Ae._context.staticPlot){var we=Me.select("rect."+u.slideBoxClassName).node(),ze=Me.select("rect."+u.grabAreaMinClassName).node(),Se=Me.select("rect."+u.grabAreaMaxClassName).node();Me.on("mousedown",Ce),Me.on("touchstart",Ce)}function Ce(){var ge=D.event,he=ge.target,_e=ge.clientX||ge.touches[0].clientX,Le=_e-Me.node().getBoundingClientRect().left,Ie=ye.d2p(be._rl[0]),De=ye.d2p(be._rl[1]),je=o.coverSlip();function qe(Oe){var ke,Be,We,Ge=+(Oe.clientX||Oe.touches[0].clientX)-_e;switch(he){case we:if(We="ew-resize",Ie+Ge>be._length||De+Ge<0)return;ke=Ie+Ge,Be=De+Ge;break;case ze:if(We="col-resize",Ie+Ge>be._length)return;ke=Ie+Ge,Be=De;break;case Se:if(We="col-resize",De+Ge<0)return;ke=Ie,Be=De+Ge;break;default:We="ew-resize",ke=Le,Be=Le+Ge}if(Be<ke){var Ke=Be;Be=ke,ke=Ke}ye._pixelMin=ke,ye._pixelMax=Be,l(D.select(je),We),function(et,at,mt,ct){function kt(ht){return mt.l2r(k.constrain(ht,ct._rl[0],ct._rl[1]))}var Dt=kt(ct.p2d(ct._pixelMin)),Et=kt(ct.p2d(ct._pixelMax));window.requestAnimationFrame(function(){E.call("_guiRelayout",at,mt._name+".range",[Dt,Et])})}(0,Ae,be,ye)}function ve(){je.removeEventListener("mousemove",qe),je.removeEventListener("mouseup",ve),this.removeEventListener("touchmove",qe),this.removeEventListener("touchend",ve),k.removeElement(je)}this.addEventListener("touchmove",qe),this.addEventListener("touchend",ve),je.addEventListener("mousemove",qe),je.addEventListener("mouseup",ve)}}(O,w,S,R),function(Me,Ae,be,ye,we,ze){var Se=u.handleWidth/2;function Ce(Oe){return k.constrain(Oe,0,ye._width)}function ge(Oe){return k.constrain(Oe,0,ye._height)}function he(Oe){return k.constrain(Oe,-Se,ye._width+Se)}var _e=Ce(ye.d2p(be._rl[0])),Le=Ce(ye.d2p(be._rl[1]));if(Me.select("rect."+u.slideBoxClassName).attr("x",_e).attr("width",Le-_e),Me.select("rect."+u.maskMinClassName).attr("width",_e),Me.select("rect."+u.maskMaxClassName).attr("x",Le).attr("width",ye._width-Le),"match"!==ze.rangemode){var Ie=ye._height-ge(ye.d2pOppAxis(we._rl[1])),De=ye._height-ge(ye.d2pOppAxis(we._rl[0]));Me.select("rect."+u.maskMinOppAxisClassName).attr("x",_e).attr("height",Ie).attr("width",Le-_e),Me.select("rect."+u.maskMaxOppAxisClassName).attr("x",_e).attr("y",De).attr("height",ye._height-De).attr("width",Le-_e),Me.select("rect."+u.slideBoxClassName).attr("y",Ie).attr("height",De-Ie)}var qe=Math.round(he(_e-Se))-.5,ve=Math.round(he(Le-Se))+.5;Me.select("g."+u.grabberMinClassName).attr("transform",M(qe,.5)),Me.select("g."+u.grabberMaxClassName).attr("transform",M(ve,.5))}(O,0,S,R,L,N),"bottom"===S.side&&i.draw(w,S._id+"title",{propContainer:S,propName:S._name+".title",placeholder:x._dfltTitle.x,attributes:{x:S._offset+S._length/2,y:W+R._height+R._offsetShift+10+1.5*S.title.font.size,"text-anchor":"middle"}})}))}},549:function(ae,B,r){"use strict";var D=r(41675),E=r(63893),f=r(73251),k=r(18783).LINE_SPACING,M=f.name;function y(c){var i=c&&c[M];return i&&i.visible}B.isVisible=y,B.makeData=function(c){var i=D.list({_fullLayout:c},"x",!0),s=c.margin,a=[];if(!c._has("gl2d"))for(var o=0;o<i.length;o++){var l=i[o];if(y(l)){a.push(l);var u=l[M];u._id=M+l._id,u._height=(c.height-s.b-s.t)*u.thickness,u._offsetShift=Math.floor(u.borderwidth/2)}}c._rangeSliderData=a},B.autoMarginOpts=function(c,i){var s=c._fullLayout,a=i[M],o=i._id.charAt(0),l=0,u=0;return"bottom"===i.side&&(l=i._depth,i.title.text!==s._dfltTitle[o]&&(u=1.5*i.title.font.size+10+a._offsetShift,u+=(i.title.text.match(E.BR_TAG_ALL)||[]).length*i.title.font.size*k)),{x:0,y:i._counterDomainMin,l:0,r:0,t:0,b:a._height+l+Math.max(s.margin.b,u),pad:f.extraPad+2*a._offsetShift}}},13137:function(ae,B,r){"use strict";var D=r(71828),E=r(75148),f=r(47850),k=r(549);ae.exports={moduleType:"component",name:"rangeslider",schema:{subplots:{xaxis:{rangeslider:D.extendFlat({},E,{yaxis:f})}}},layoutAttributes:r(75148),handleDefaults:r(26377),calcAutorange:r(88443),draw:r(72413),isVisible:k.isVisible,makeData:k.makeData,autoMarginOpts:k.autoMarginOpts}},47850:function(ae){"use strict";ae.exports={_isSubplotObj:!0,rangemode:{valType:"enumerated",values:["auto","fixed","match"],dflt:"match",editType:"calc"},range:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},editType:"calc"}},8389:function(ae,B,r){"use strict";var D=r(50215),E=r(82196).line,f=r(79952).P,k=r(1426).extendFlat,M=r(30962).overrideAll,y=r(44467).templatedArray;r(24695),ae.exports=M(y("selection",{type:{valType:"enumerated",values:["rect","path"]},xref:k({},D.xref,{}),yref:k({},D.yref,{}),x0:{valType:"any"},x1:{valType:"any"},y0:{valType:"any"},y1:{valType:"any"},path:{valType:"string",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:.7,editType:"arraydraw"},line:{color:E.color,width:k({},E.width,{min:1,dflt:1}),dash:k({},f,{dflt:"dot"})}}),"arraydraw","from-root")},34122:function(ae){"use strict";ae.exports={BENDPX:1.5,MINSELECT:12,SELECTDELAY:100,SELECTID:"-select"}},59402:function(ae,B,r){"use strict";var D=r(71828),E=r(89298),f=r(85501),k=r(8389),M=r(30477);function y(c,i,s){function a(O,R){return D.coerce(c,i,k,O,R)}var o=a("path"),l="path"!==a("type",o?"path":"rect");l&&delete i.path,a("opacity"),a("line.color"),a("line.width"),a("line.dash");for(var u=["x","y"],h=0;h<2;h++){var v,p,T,_=u[h],m={_fullLayout:s},w=E.coerceRef(c,i,m,_);if((v=E.getFromId(m,w))._selectionIndices.push(i._index),T=M.rangeToShapePosition(v),p=M.shapePositionToRange(v),l){var x=_+"0",b=_+"1",A=c[x],g=c[b];c[x]=p(c[x],!0),c[b]=p(c[b],!0),E.coercePosition(i,m,a,w,x),E.coercePosition(i,m,a,w,b);var I=i[x],S=i[b];void 0!==I&&void 0!==S&&(i[x]=T(I),i[b]=T(S),c[x]=A,c[b]=g)}}l&&D.noneOrAll(c,i,["x0","x1","y0","y1"])}ae.exports=function(c,i){f(c,i,{name:"selections",handleItemDefaults:y});for(var s=i.selections,a=0;a<s.length;a++){var o=s[a];o&&void 0===o.path&&(void 0!==o.x0&&void 0!==o.x1&&void 0!==o.y0&&void 0!==o.y1||(i.selections[a]=null))}}},32485:function(ae,B,r){"use strict";var D=r(60165).readPaths,E=r(42359),f=r(51873).clearOutlineControllers,k=r(7901),M=r(91424),y=r(44467).arrayEditor,c=r(30477),i=c.getPathString;function s(h){var v=h._fullLayout;for(var p in f(h),v._selectionLayer.selectAll("path").remove(),v._plots){var T=v._plots[p].selectionLayer;T&&T.selectAll("path").remove()}for(var _=0;_<v.selections.length;_++)o(h,_)}function a(h){return h._context.editSelection}function o(h,v){h._fullLayout._paperdiv.selectAll('.selectionlayer [data-index="'+v+'"]').remove();var p=c.makeSelectionsOptionsAndPlotinfo(h,v),T=p.options,_=p.plotinfo;T._input&&function(m){var w=i(h,T),x={"data-index":v,"fill-rule":"evenodd",d:w},b=T.opacity,A="rgba(0,0,0,0)",g=T.line.color||k.contrast(h._fullLayout.plot_bgcolor),I=T.line.width,S=T.line.dash;I||(I=5,S="solid");var O=a(h)&&h._fullLayout._activeSelectionIndex===v;O&&(A=h._fullLayout.activeselection.fillcolor,b=h._fullLayout.activeselection.opacity);for(var R=[],L=1;L>=0;L--){var N=m.append("path").attr(x).style("opacity",L?.1:b).call(k.stroke,g).call(k.fill,A).call(M.dashLine,L?"solid":S,L?4+I:I);if(l(N,h,T),O){var j=y(h.layout,"selections",T);N.style({cursor:"move"});var X={element:N.node(),plotinfo:_,gd:h,editHelpers:j,isActiveSelection:!0},F=D(w,h);E(F,N,X)}else N.style("pointer-events",L?"all":"none");R[L]=N}var Y=R[0];R[1].node().addEventListener("click",function(){return function(G,H){if(a(G)){var W=+H.node().getAttribute("data-index");if(W>=0){if(W===G._fullLayout._activeSelectionIndex)return void u(G);G._fullLayout._activeSelectionIndex=W,G._fullLayout._deactivateSelection=u,s(G)}}}(h,Y)})}(h._fullLayout._selectionLayer)}function l(h,v,p){M.setClipUrl(h,"clip"+v._fullLayout._uid+(p.xref+p.yref),v)}function u(h){a(h)&&h._fullLayout._activeSelectionIndex>=0&&(f(h),delete h._fullLayout._activeSelectionIndex,s(h))}ae.exports={draw:s,drawOne:o,activateLastSelection:function(h){a(h)&&(h._fullLayout._activeSelectionIndex=h._fullLayout.selections.length-1,h._fullLayout._deactivateSelection=u,s(h))}}},53777:function(ae,B,r){"use strict";var D=r(79952).P,E=r(1426).extendFlat;ae.exports={newselection:{mode:{valType:"enumerated",values:["immediate","gradual"],dflt:"immediate",editType:"none"},line:{color:{valType:"color",editType:"none"},width:{valType:"number",min:1,dflt:1,editType:"none"},dash:E({},D,{dflt:"dot",editType:"none"}),editType:"none"},editType:"none"},activeselection:{fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:.5,editType:"none"},editType:"none"}}},90849:function(ae){"use strict";ae.exports=function(B,r,D){D("newselection.mode"),D("newselection.line.width")&&(D("newselection.line.color"),D("newselection.line.dash")),D("activeselection.fillcolor"),D("activeselection.opacity")}},35855:function(ae,B,r){"use strict";var D=r(64505).selectMode,E=r(51873).clearOutline,f=r(60165),k=f.readPaths,M=f.writePaths,y=f.fixDatesForPaths;ae.exports=function(c,i){if(c.length){var s=c[0][0];if(s){var a=s.getAttribute("d"),o=i.gd,l=o._fullLayout.newselection,u=i.plotinfo,h=u.xaxis,v=u.yaxis,p=i.isActiveSelection,T=i.dragmode,_=(o.layout||{}).selections||[];if(!D(T)&&void 0!==p){var m=o._fullLayout._activeSelectionIndex;if(m<_.length)switch(o._fullLayout.selections[m].type){case"rect":T="select";break;case"path":T="lasso"}}var w,x=k(a,o,u,p),b={xref:h._id,yref:v._id,opacity:l.opacity,line:{color:l.line.color,width:l.line.width,dash:l.line.dash}};1===x.length&&(w=x[0]),w&&5===w.length&&"select"===T?(b.type="rect",b.x0=w[0][1],b.y0=w[0][2],b.x1=w[2][1],b.y1=w[2][2]):(b.type="path",h&&v&&y(x,h,v),b.path=M(x),w=null),E(o);for(var A=i.editHelpers,g=(A||{}).modifyItem,I=[],S=0;S<_.length;S++){var O=o._fullLayout.selections[S];if(O){if(I[S]=O._input,void 0!==p&&S===o._fullLayout._activeSelectionIndex){var R=b;switch(O.type){case"rect":g("x0",R.x0),g("x1",R.x1),g("y0",R.y0),g("y1",R.y1);break;case"path":g("path",R.path)}}}else I[S]=O}return void 0===p?(I.push(b),I):A?A.getUpdateObj():{}}}}},75549:function(ae,B,r){"use strict";var D=r(71828).strTranslate;function E(f,k){switch(f.type){case"log":return f.p2d(k);case"date":return f.p2r(k,0,f.calendar);default:return f.p2r(k)}}ae.exports={p2r:E,r2p:function(f,k){switch(f.type){case"log":return f.d2p(k);case"date":return f.r2p(k,0,f.calendar);default:return f.r2p(k)}},axValue:function(f){var k="y"===f._id.charAt(0)?1:0;return function(M){return E(f,M[k])}},getTransform:function(f){return D(f.xaxis._offset,f.yaxis._offset)}}},47322:function(ae,B,r){"use strict";var D=r(32485),E=r(3937);ae.exports={moduleType:"component",name:"selections",layoutAttributes:r(8389),supplyLayoutDefaults:r(59402),supplyDrawNewSelectionDefaults:r(90849),includeBasePlot:r(76325)("selections"),draw:D.draw,drawOne:D.drawOne,reselect:E.reselect,prepSelect:E.prepSelect,clearOutline:E.clearOutline,clearSelectionsCache:E.clearSelectionsCache,selectOnClick:E.selectOnClick}},3937:function(ae,B,r){"use strict";var D=r(52142),E=r(38258),f=r(73972),k=r(91424).dashStyle,M=r(7901),y=r(30211),c=r(23469).makeEventData,i=r(64505),s=i.freeMode,a=i.rectMode,o=i.drawMode,l=i.openMode,u=i.selectMode,h=r(30477),v=r(21459),p=r(42359),T=r(51873).clearOutline,_=r(60165),m=_.handleEllipse,w=_.readPaths,x=r(90551).newShapes,b=r(35855),A=r(32485).activateLastSelection,g=r(71828),I=g.sorterAsc,S=r(61082),O=r(79990),R=r(41675).getFromId,L=r(33306),N=r(61549).redrawReglTraces,j=r(34122),X=j.MINSELECT,F=S.filter,Y=S.tester,G=r(75549),H=G.p2r,W=G.axValue,Z=G.getTransform;function se(ve){return void 0!==ve.subplot}function re(ve,Oe,ke,Be,We,Ge,Ke){var et,at,mt,ct,kt,Dt,Et,ht,pt,ot,Pt=Oe._hoverdata,zt=Oe._fullLayout.clickmode.indexOf("event")>-1,Ht=[];if((ot=Pt)&&Array.isArray(ot)&&!0!==ot[0].hoverOnBox){oe(ve,Oe,Ge);var Lt=function(ot,gt){var ft,Ue,$e=ot[0],dt=-1,ut=[];for(Ue=0;Ue<gt.length;Ue++)if($e.fullData._expandedIndex===(ft=gt[Ue]).cd[0].trace._expandedIndex){if(!0===$e.hoverOnBox)break;void 0!==$e.pointNumber?dt=$e.pointNumber:void 0!==$e.binNumber&&(dt=$e.binNumber,ut=$e.pointNumbers);break}return{pointNumber:dt,pointNumbers:ut,searchInfo:ft}}(Pt,et=le(Oe,ke,Be,We));if(Lt.pointNumbers.length>0?function(ot,gt){var ft,Ue,$e,dt=[];for($e=0;$e<ot.length;$e++)(ft=ot[$e]).cd[0].trace.selectedpoints&&ft.cd[0].trace.selectedpoints.length>0&&dt.push(ft);if(1===dt.length&&dt[0]===gt.searchInfo&&(Ue=gt.searchInfo.cd[0].trace).selectedpoints.length===gt.pointNumbers.length){for($e=0;$e<gt.pointNumbers.length;$e++)if(Ue.selectedpoints.indexOf(gt.pointNumbers[$e])<0)return!1;return!0}return!1}(et,Lt):function(ot){var gt,ft,Ue=0;for(ft=0;ft<ot.length;ft++)if((gt=ot[ft].cd[0].trace).selectedpoints&&(gt.selectedpoints.length>1||(Ue+=gt.selectedpoints.length)>1))return!1;return 1===Ue}(et)&&(Dt=Me(Lt))){for(Ke&&Ke.remove(),pt=0;pt<et.length;pt++)(at=et[pt])._module.selectPoints(at,!1);Ae(Oe,et),ce(Ge),zt&&qe(Oe)}else{for(Et=ve.shiftKey&&(void 0!==Dt?Dt:Me(Lt)),mt=function(ot,gt,ft){return{pointNumber:ot,searchInfo:gt,subtract:!!ft}}(Lt.pointNumber,Lt.searchInfo,Et),ct=ee(Ge.selectionDefs.concat([mt])),pt=0;pt<et.length;pt++)if(kt=ye(et[pt]._module.selectPoints(et[pt],ct),et[pt]),Ht.length)for(var tt=0;tt<kt.length;tt++)Ht.push(kt[tt]);else Ht=kt;if(Ae(Oe,et,ht={points:Ht}),mt&&Ge&&Ge.selectionDefs.push(mt),Ke){var it=Ge.mergedPolygons,Je=l(Ge.dragmode);p(we(it,Je),Ke,Ge)}zt&&je(Oe,ht)}}}function ne(ve){return"pointNumber"in ve&&"searchInfo"in ve}function Q(ve){return{xmin:0,xmax:0,ymin:0,ymax:0,pts:[],contains:function(Oe,ke,Be,We){return We.cd[0].trace._expandedIndex===ve.searchInfo.cd[0].trace._expandedIndex&&Be===ve.pointNumber},isRect:!1,degenerate:!1,subtract:!!ve.subtract}}function ee(ve){if(ve.length){for(var Oe=[],ke=ne(ve[0])?0:ve[0][0][0],Be=ke,We=ne(ve[0])?0:ve[0][0][1],Ge=We,Ke=0;Ke<ve.length;Ke++)if(ne(ve[Ke]))Oe.push(Q(ve[Ke]));else{var et=Y(ve[Ke]);et.subtract=!!ve[Ke].subtract,Oe.push(et),ke=Math.min(ke,et.xmin),Be=Math.max(Be,et.xmax),We=Math.min(We,et.ymin),Ge=Math.max(Ge,et.ymax)}return{xmin:ke,xmax:Be,ymin:We,ymax:Ge,pts:[],contains:function(at,mt,ct,kt){for(var Dt=!1,Et=0;Et<Oe.length;Et++)Oe[Et].contains(at,mt,ct,kt)&&(Dt=!Oe[Et].subtract);return Dt},isRect:!1,degenerate:!1}}}function oe(ve,Oe,ke){var Be=Oe._fullLayout,We=ke.plotinfo,Ge=ke.dragmode,Ke=Be._lastSelectedSubplot&&Be._lastSelectedSubplot===We.id,et=(ve.shiftKey||ve.altKey)&&!(o(Ge)&&l(Ge));Ke&&et&&We.selection&&We.selection.selectionDefs&&!ke.selectionDefs?(ke.selectionDefs=We.selection.selectionDefs,ke.mergedPolygons=We.selection.mergedPolygons):et&&We.selection||ce(ke),Ke||(T(Oe),Be._lastSelectedSubplot=We.id)}function ce(ve,Oe){var ke=ve.dragmode,Be=ve.plotinfo,We=ve.gd;We._fullLayout._activeShapeIndex>=0&&We._fullLayout._deactivateShape(We),We._fullLayout._activeSelectionIndex>=0&&We._fullLayout._deactivateSelection(We);var Ge=We._fullLayout._zoomlayer,Ke=o(ke),et=u(ke);if(Ke||et){var at,mt,ct=Ge.selectAll(".select-outline-"+Be.id);ct&&We._fullLayout._outlining&&(Ke&&(at=x(ct,ve)),at&&f.call("_guiRelayout",We,{shapes:at}),et&&!se(ve)&&(mt=b(ct,ve)),mt&&(We._fullLayout._noEmitSelectedAtStart=!0,f.call("_guiRelayout",We,{selections:mt}).then(function(){Oe&&A(We)})),We._fullLayout._outlining=!1)}Be.selection={},Be.selection.selectionDefs=ve.selectionDefs=[],Be.selection.mergedPolygons=ve.mergedPolygons=[]}function fe(ve){return ve._id}function le(ve,Oe,ke,Be){if(!ve.calcdata)return[];var We,Ge,Ke,et=[],at=Oe.map(fe),mt=ke.map(fe);for(Ke=0;Ke<ve.calcdata.length;Ke++)if(!0===(Ge=(We=ve.calcdata[Ke])[0].trace).visible&&Ge._module&&Ge._module.selectPoints)if(!se({subplot:Be})||Ge.subplot!==Be&&Ge.geo!==Be)if("splom"===Ge.type){if(Ge._xaxes[at[0]]&&Ge._yaxes[mt[0]]){var ct=pe(Ge._module,We,Oe[0],ke[0]);ct.scene=ve._fullLayout._splomScenes[Ge.uid],et.push(ct)}}else if("sankey"===Ge.type){var kt=pe(Ge._module,We,Oe[0],ke[0]);et.push(kt)}else{if(-1===at.indexOf(Ge.xaxis)||-1===mt.indexOf(Ge.yaxis))continue;et.push(pe(Ge._module,We,R(ve,Ge.xaxis),R(ve,Ge.yaxis)))}else et.push(pe(Ge._module,We,Oe[0],ke[0]));return et}function pe(ve,Oe,ke,Be){return{_module:ve,cd:Oe,xaxis:ke,yaxis:Be}}function Me(ve){var Oe=ve.searchInfo.cd[0].trace,Be=ve.pointNumbers;return!!Oe.selectedpoints&&Oe.selectedpoints.indexOf(Be.length>0?Be[0]:ve.pointNumber)>-1}function Ae(ve,Oe,ke){var Be,We;for(Be=0;Be<Oe.length;Be++){var Ge=Oe[Be].cd[0].trace._fullInput,Ke=ve._fullLayout._tracePreGUI[Ge.uid]||{};void 0===Ke.selectedpoints&&(Ke.selectedpoints=Ge._input.selectedpoints||null)}if(ke){var et=ke.points||[];for(Be=0;Be<Oe.length;Be++)(We=Oe[Be].cd[0].trace)._input.selectedpoints=We._fullInput.selectedpoints=[],We._fullInput!==We&&(We.selectedpoints=[]);for(var at=0;at<et.length;at++){var mt=et[at],ct=mt.data,kt=mt.fullData,Dt=mt.pointIndex,Et=mt.pointIndices;Et?([].push.apply(ct.selectedpoints,Et),We._fullInput!==We&&[].push.apply(kt.selectedpoints,Et)):(ct.selectedpoints.push(Dt),We._fullInput!==We&&kt.selectedpoints.push(Dt))}}else for(Be=0;Be<Oe.length;Be++)delete(We=Oe[Be].cd[0].trace).selectedpoints,delete We._input.selectedpoints,We._fullInput!==We&&delete We._fullInput.selectedpoints;!function(ht,pt){for(var Pt=!1,zt=0;zt<pt.length;zt++){var Ht=pt[zt],Lt=Ht.cd;f.traceIs(Lt[0].trace,"regl")&&(Pt=!0);var tt=Ht._module,it=tt.styleOnSelect||tt.style;it&&(it(ht,Lt,Lt[0].node3),Lt[0].nodeRangePlot3&&it(ht,Lt,Lt[0].nodeRangePlot3))}Pt&&(L(ht),N(ht))}(ve,Oe)}function be(ve,Oe,ke){for(var Be=(ke?D.difference:D.union)({regions:ve},{regions:[Oe]}).regions.reverse(),We=0;We<Be.length;We++){var Ge=Be[We];Ge.subtract=_e(Ge,Be.slice(0,We))}return Be}function ye(ve,Oe){if(Array.isArray(ve))for(var ke=Oe.cd,Be=Oe.cd[0].trace,We=0;We<ve.length;We++)ve[We]=c(ve[We],Be,ke);return ve}function we(ve,Oe){for(var ke=[],Be=0;Be<ve.length;Be++){ke[Be]=[];for(var We=0;We<ve[Be].length;We++){ke[Be][We]=[],ke[Be][We][0]=We?"L":"M";for(var Ge=0;Ge<ve[Be][We].length;Ge++)ke[Be][We].push(ve[Be][We][Ge])}Oe||ke[Be].push(["Z",ke[Be][0][1],ke[Be][0][2]])}return ke}function ze(ve,Oe){for(var ke,Be,We=[],Ge=[],Ke=0;Ke<Oe.length;Ke++){var et=Oe[Ke];Be=et._module.selectPoints(et,ve),Ge.push(Be),ke=ye(Be,et),We=We.concat(ke)}return We}function Se(ve,Oe,ke,Be,We){var Ge,Ke,et,at=!!Be;We&&(Ge=We.plotinfo,Ke=We.xaxes[0]._id,et=We.yaxes[0]._id);var mt=[],ct=[],kt=he(ve),Dt=ve._fullLayout;if(Ge){var Et=Dt._zoomlayer,ht=Dt.dragmode,pt=o(ht),Pt=u(ht);if(pt||Pt){var zt=R(ve,Ke,"x"),Ht=R(ve,et,"y");if(zt&&Ht){var Lt=Et.selectAll(".select-outline-"+Ge.id);if(Lt&&ve._fullLayout._outlining&&Lt.length){for(var tt=Lt[0][0].getAttribute("d"),it=w(tt,ve,Ge),Je=[],ot=0;ot<it.length;ot++){for(var gt=it[ot],ft=[],Ue=0;Ue<gt.length;Ue++)ft.push([Le(zt,gt[Ue][1]),Le(Ht,gt[Ue][2])]);ft.xref=Ke,ft.yref=et,ft.subtract=_e(ft,Je),Je.push(ft)}kt=kt.concat(Je)}}}}var $e=Ke&&et?[Ke+et]:Dt._subplots.cartesian;!function(Rn){var Hn=Rn.calcdata;if(Hn)for(var En=0;En<Hn.length;En++){var gr=Rn._fullLayout._splomScenes;if(gr){var lr=gr[Hn[En][0].trace.uid];lr&&(lr.selectBatch=[])}}}(ve);for(var dt={},ut=0;ut<$e.length;ut++){var At=$e[ut],wt=At.indexOf("y"),St=At.slice(0,wt),_t=At.slice(wt),Rt=Ke&&et?ke:void 0;if(Rt=ge(kt,St,_t,Rt)){var bt=Be;if(!at){var Tt=R(ve,St,"x"),It=R(ve,_t,"y");bt=le(ve,[Tt],[It],At);for(var Wt=0;Wt<bt.length;Wt++){var $t=bt[Wt],Qt=$t.cd[0],pn=Qt.trace;if("scattergl"===$t._module.name&&!Qt.t.xpx){var en=pn.x,nn=pn.y,fn=pn._length;Qt.t.xpx=[],Qt.t.ypx=[];for(var On=0;On<fn;On++)Qt.t.xpx[On]=Tt.c2p(en[On]),Qt.t.ypx[On]=It.c2p(nn[On])}"splom"===$t._module.name&&(dt[pn.uid]||(dt[pn.uid]=!0))}}var Un=ze(Rt,bt);mt=mt.concat(Un),ct=ct.concat(bt)}}var Sn={points:mt};Ae(ve,ct,Sn);var on=Dt.clickmode.indexOf("event")>-1&&Oe;if(!Ge&&Oe){var vn=he(ve,!0);if(vn.length){var un=vn[0].xref,Tn=vn[0].yref;if(un&&Tn){var kn=Ie(vn);De([R(ve,un,"x"),R(ve,Tn,"y")])(Sn,kn)}}ve._fullLayout._noEmitSelectedAtStart?ve._fullLayout._noEmitSelectedAtStart=!1:on&&je(ve,Sn),Dt._reselect=!1}if(!Ge&&Dt._deselect){var xn=Dt._deselect;(function(Rn,Hn,En){for(var Wn=0;Wn<En.length;Wn++){var gr=En[Wn];if(gr.xaxis&&gr.xaxis._id===Rn&&gr.yaxis&&gr.yaxis._id===Hn)return!0}return!1})(Ke=xn.xref,et=xn.yref,ct)||Ce(ve,Ke,et,Be),on&&(Sn.points.length?je(ve,Sn):qe(ve)),Dt._deselect=!1}return{eventData:Sn,selectionTesters:ke}}function Ce(ve,Oe,ke,Be){Be=le(ve,[R(ve,Oe,"x")],[R(ve,ke,"y")],Oe+ke);for(var We=0;We<Be.length;We++){var Ge=Be[We];Ge._module.selectPoints(Ge,!1)}Ae(ve,Be)}function ge(ve,Oe,ke,Be){for(var We,Ge=0;Ge<ve.length;Ge++){var Ke=ve[Ge];Oe===Ke.xref&&ke===Ke.yref&&(We?Be=ee(We=be(We,Ke,!!Ke.subtract)):(We=[Ke],Be=Y(Ke)))}return Be}function he(ve,Oe){for(var ke=[],Be=ve._fullLayout,We=Be.selections,Ge=We.length,Ke=0;Ke<Ge;Ke++)if(!Oe||Ke===Be._activeSelectionIndex){var et=We[Ke];if(et){var at,mt,ct,kt,Dt,Et=et.xref,ht=et.yref,pt=R(ve,Et,"x"),Pt=R(ve,ht,"y");if("rect"===et.type){Dt=[];var zt=Le(pt,et.x0),Ht=Le(pt,et.x1),Lt=Le(Pt,et.y0),tt=Le(Pt,et.y1);Dt=[[zt,Lt],[zt,tt],[Ht,tt],[Ht,Lt]],at=Math.min(zt,Ht),mt=Math.max(zt,Ht),ct=Math.min(Lt,tt),kt=Math.max(Lt,tt),Dt.xmin=at,Dt.xmax=mt,Dt.ymin=ct,Dt.ymax=kt,Dt.xref=Et,Dt.yref=ht,Dt.subtract=!1,Dt.isRect=!0,ke.push(Dt)}else if("path"===et.type)for(var it=et.path.split("Z"),Je=[],ot=0;ot<it.length;ot++){var gt=it[ot];if(gt){var ft=h.extractPathCoords(gt+="Z",v.paramIsX,"raw"),Ue=h.extractPathCoords(gt,v.paramIsY,"raw");at=1/0,mt=-1/0,ct=1/0,kt=-1/0,Dt=[];for(var $e=0;$e<ft.length;$e++){var dt=Le(pt,ft[$e]),ut=Le(Pt,Ue[$e]);Dt.push([dt,ut]),at=Math.min(dt,at),mt=Math.max(dt,mt),ct=Math.min(ut,ct),kt=Math.max(ut,kt)}Dt.xmin=at,Dt.xmax=mt,Dt.ymin=ct,Dt.ymax=kt,Dt.xref=Et,Dt.yref=ht,Dt.subtract=_e(Dt,Je),Je.push(Dt),ke.push(Dt)}}}}return ke}function _e(ve,Oe){for(var ke=!1,Be=0;Be<Oe.length;Be++)for(var We=Oe[Be],Ge=0;Ge<ve.length;Ge++)if(E(ve[Ge],We)){ke=!ke;break}return ke}function Le(ve,Oe){return"date"===ve.type&&(Oe=Oe.replace("_"," ")),"log"===ve.type?ve.c2p(Oe):ve.r2p(Oe,null,ve.calendar)}function Ie(ve){for(var Oe=ve.length,ke=[],Be=0;Be<Oe;Be++){var We=ve[Be];ke=(ke=ke.concat(We)).concat([We[0]])}return(Ge=ke).isRect=5===Ge.length&&Ge[0][0]===Ge[4][0]&&Ge[0][1]===Ge[4][1]&&Ge[0][0]===Ge[1][0]&&Ge[2][0]===Ge[3][0]&&Ge[0][1]===Ge[3][1]&&Ge[1][1]===Ge[2][1]||Ge[0][1]===Ge[1][1]&&Ge[2][1]===Ge[3][1]&&Ge[0][0]===Ge[3][0]&&Ge[1][0]===Ge[2][0],Ge.isRect&&(Ge.xmin=Math.min(Ge[0][0],Ge[2][0]),Ge.xmax=Math.max(Ge[0][0],Ge[2][0]),Ge.ymin=Math.min(Ge[0][1],Ge[2][1]),Ge.ymax=Math.max(Ge[0][1],Ge[2][1])),Ge;var Ge}function De(ve){return function(Oe,ke){for(var Be,We,Ge=0;Ge<ve.length;Ge++){var Ke=ve[Ge],et=Ke._id,at=et.charAt(0);if(ke.isRect){Be||(Be={});var mt=ke[at+"min"],ct=ke[at+"max"];void 0!==mt&&void 0!==ct&&(Be[et]=[H(Ke,mt),H(Ke,ct)].sort(I))}else We||(We={}),We[et]=ke.map(W(Ke))}Be&&(Oe.range=Be),We&&(Oe.lassoPoints=We)}}function je(ve,Oe){Oe&&(Oe.selections=(ve.layout||{}).selections||[]),ve.emit("plotly_selected",Oe)}function qe(ve){ve.emit("plotly_deselect",null)}ae.exports={reselect:Se,prepSelect:function(ve,Oe,ke,Be,We){var Ge=!se(Be),Ke=s(We),et=a(We),at=l(We),mt=o(We),ct=u(We),kt="drawcircle"===We,Dt="drawline"===We||kt,Et=Be.gd,ht=Et._fullLayout,pt=ct&&"immediate"===ht.newselection.mode&&Ge,Pt=ht._zoomlayer,zt=Be.element.getBoundingClientRect(),Ht=Be.plotinfo,Lt=Z(Ht),tt=Oe-zt.left,it=ke-zt.top;ht._calcInverseTransform(Et);var ot,gt,ft,Ue,$e,dt,ut,Je=g.apply3DTransform(ht._invTransform)(tt,it),At=ht._invScaleX,wt=ht._invScaleY,St=tt=Je[0],_t=it=Je[1],Rt="M"+tt+","+it,bt=Be.xaxes[0],Tt=Be.yaxes[0],It=bt._length,Wt=Tt._length,$t=ve.altKey&&!(o(We)&&at);oe(ve,Et,Be),Ke&&(ot=F([[tt,it]],j.BENDPX));var Qt=Pt.selectAll("path.select-outline-"+Ht.id).data([1]),pn=mt?ht.newshape:ht.newselection;mt&&(Be.hasText=pn.label.text||pn.label.texttemplate);var en=mt&&!at?pn.fillcolor:"rgba(0,0,0,0)",nn=pn.line.color||(Ge?M.contrast(Et._fullLayout.plot_bgcolor):"#7f7f7f");Qt.enter().append("path").attr("class","select-outline select-outline-"+Ht.id).style({opacity:mt?pn.opacity/2:1,"stroke-dasharray":k(pn.line.dash,pn.line.width),"stroke-width":pn.line.width+"px","shape-rendering":"crispEdges"}).call(M.stroke,nn).call(M.fill,en).attr("fill-rule","evenodd").classed("cursor-move",!!mt).attr("transform",Lt).attr("d",Rt+"Z");var fn=Pt.append("path").attr("class","zoombox-corners").style({fill:M.background,stroke:M.defaultLine,"stroke-width":1}).attr("transform",Lt).attr("d","M0,0Z");if(mt&&Be.hasText){var On=Pt.select(".label-temp");On.empty()&&(On=Pt.append("g").classed("label-temp",!0).classed("select-outline",!0).style({opacity:.8}))}var Un=ht._uid+j.SELECTID,Sn=[],on=le(Et,Be.xaxes,Be.yaxes,Be.subplot);pt&&!ve.shiftKey&&(Be._clearSubplotSelections=function(){if(Ge){var un=bt._id,Tn=Tt._id;Ce(Et,un,Tn,on);for(var kn=(Et.layout||{}).selections||[],xn=[],Rn=!1,Hn=0;Hn<kn.length;Hn++){var En=ht.selections[Hn];En.xref!==un||En.yref!==Tn?xn.push(kn[Hn]):Rn=!0}Rn&&(Et._fullLayout._noEmitSelectedAtStart=!0,f.call("_guiRelayout",Et,{selections:xn}))}});var un,vn=(un=Be).plotinfo.fillRangeItems||De(un.xaxes.concat(un.yaxes));Be.moveFn=function(un,Tn){Be._clearSubplotSelections&&(Be._clearSubplotSelections(),Be._clearSubplotSelections=void 0),St=Math.max(0,Math.min(It,At*un+tt)),_t=Math.max(0,Math.min(Wt,wt*Tn+it));var kn=Math.abs(St-tt),xn=Math.abs(_t-it);if(et){var Rn,Hn,En;if(ct){var Wn=ht.selectdirection;switch(Rn="any"===Wn?xn<Math.min(.6*kn,X)?"h":kn<Math.min(.6*xn,X)?"v":"d":Wn){case"h":Hn=kt?Wt/2:0,En=Wt;break;case"v":Hn=kt?It/2:0,En=It}}if(mt)switch(ht.newshape.drawdirection){case"vertical":Rn="h",Hn=kt?Wt/2:0,En=Wt;break;case"horizontal":Rn="v",Hn=kt?It/2:0,En=It;break;case"ortho":kn<xn?(Rn="h",Hn=it,En=_t):(Rn="v",Hn=tt,En=St);break;default:Rn="d"}"h"===Rn?((Ue=Dt?m(kt,[St,Hn],[St,En]):[[tt,Hn],[tt,En],[St,En],[St,Hn]]).xmin=Dt?St:Math.min(tt,St),Ue.xmax=Dt?St:Math.max(tt,St),Ue.ymin=Math.min(Hn,En),Ue.ymax=Math.max(Hn,En),fn.attr("d","M"+Ue.xmin+","+(it-X)+"h-4v"+2*X+"h4ZM"+(Ue.xmax-1)+","+(it-X)+"h4v"+2*X+"h-4Z")):"v"===Rn?((Ue=Dt?m(kt,[Hn,_t],[En,_t]):[[Hn,it],[Hn,_t],[En,_t],[En,it]]).xmin=Math.min(Hn,En),Ue.xmax=Math.max(Hn,En),Ue.ymin=Dt?_t:Math.min(it,_t),Ue.ymax=Dt?_t:Math.max(it,_t),fn.attr("d","M"+(tt-X)+","+Ue.ymin+"v-4h"+2*X+"v4ZM"+(tt-X)+","+(Ue.ymax-1)+"v4h"+2*X+"v-4Z")):"d"===Rn&&((Ue=Dt?m(kt,[tt,it],[St,_t]):[[tt,it],[tt,_t],[St,_t],[St,it]]).xmin=Math.min(tt,St),Ue.xmax=Math.max(tt,St),Ue.ymin=Math.min(it,_t),Ue.ymax=Math.max(it,_t),fn.attr("d","M0,0Z"))}else Ke&&(ot.addPt([St,_t]),Ue=ot.filtered);if(Be.selectionDefs&&Be.selectionDefs.length?(ft=be(Be.mergedPolygons,Ue,$t),Ue.subtract=$t,gt=ee(Be.selectionDefs.concat([Ue]))):(ft=[Ue],gt=Y(Ue)),p(we(ft,at),Qt,Be),ct){var gr,lr=Se(Et,!1),wr=lr.eventData?lr.eventData.points.slice():[];lr=Se(Et,!1,gt,on,Be),gt=lr.selectionTesters,ut=lr.eventData,gr=ot?ot.filtered:Ie(ft),O.throttle(Un,j.SELECTDELAY,function(){for(var dr=(Sn=ze(gt,on)).slice(),mr=0;mr<wr.length;mr++){for(var Ir=wr[mr],qt=!1,tn=0;tn<dr.length;tn++)if(dr[tn].curveNumber===Ir.curveNumber&&dr[tn].pointNumber===Ir.pointNumber){qt=!0;break}qt||dr.push(Ir)}dr.length&&(ut||(ut={}),ut.points=dr),vn(ut,gr),Et.emit("plotly_selecting",ut)})}},Be.clickFn=function(un,Tn){if(fn.remove(),Et._fullLayout._activeShapeIndex>=0)Et._fullLayout._deactivateShape(Et);else if(!mt){var kn=ht.clickmode;O.done(Un).then(function(){if(O.clear(Un),2===un){for(Qt.remove(),$e=0;$e<on.length;$e++)(dt=on[$e])._module.selectPoints(dt,!1);if(Ae(Et,on),ce(Be),qe(Et),on.length){var xn=on[0].xaxis,Rn=on[0].yaxis;if(xn&&Rn){for(var Hn=[],En=Et._fullLayout.selections,Wn=0;Wn<En.length;Wn++){var gr=En[Wn];gr&&(gr.xref===xn._id&&gr.yref===Rn._id||Hn.push(gr))}Hn.length<En.length&&(Et._fullLayout._noEmitSelectedAtStart=!0,f.call("_guiRelayout",Et,{selections:Hn}))}}}else kn.indexOf("select")>-1&&re(Tn,Et,Be.xaxes,Be.yaxes,Be.subplot,Be,Qt),"event"===kn&&je(Et,void 0);y.click(Et,Tn,Ht.id)}).catch(g.error)}},Be.doneFn=function(){fn.remove(),O.done(Un).then(function(){O.clear(Un),!pt&&Ue&&Be.selectionDefs&&(Ue.subtract=$t,Be.selectionDefs.push(Ue),Be.mergedPolygons.length=0,[].push.apply(Be.mergedPolygons,ft)),(pt||mt)&&ce(Be,pt),Be.doneFnCompleted&&Be.doneFnCompleted(Sn),ct&&je(Et,ut)}).catch(g.error)}},clearOutline:T,clearSelectionsCache:ce,selectOnClick:re}},89827:function(ae,B,r){"use strict";var D=r(50215),E=r(41940),f=r(82196).line,k=r(79952).P,M=r(1426).extendFlat,y=r(44467).templatedArray,c=(r(24695),r(9012)),i=r(5386).R,s=r(37281);ae.exports=y("shape",{visible:M({},c.visible,{editType:"calc+arraydraw"}),showlegend:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},legend:M({},c.legend,{editType:"calc+arraydraw"}),legendgroup:M({},c.legendgroup,{editType:"calc+arraydraw"}),legendgrouptitle:{text:M({},c.legendgrouptitle.text,{editType:"calc+arraydraw"}),font:E({editType:"calc+arraydraw"}),editType:"calc+arraydraw"},legendrank:M({},c.legendrank,{editType:"calc+arraydraw"}),legendwidth:M({},c.legendwidth,{editType:"calc+arraydraw"}),type:{valType:"enumerated",values:["circle","rect","path","line"],editType:"calc+arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},xref:M({},D.xref,{}),xsizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},xanchor:{valType:"any",editType:"calc+arraydraw"},x0:{valType:"any",editType:"calc+arraydraw"},x1:{valType:"any",editType:"calc+arraydraw"},yref:M({},D.yref,{}),ysizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},yanchor:{valType:"any",editType:"calc+arraydraw"},y0:{valType:"any",editType:"calc+arraydraw"},y1:{valType:"any",editType:"calc+arraydraw"},path:{valType:"string",editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},line:{color:M({},f.color,{editType:"arraydraw"}),width:M({},f.width,{editType:"calc+arraydraw"}),dash:M({},k,{editType:"arraydraw"}),editType:"calc+arraydraw"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"arraydraw"},editable:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},label:{text:{valType:"string",dflt:"",editType:"arraydraw"},texttemplate:i({},{keys:Object.keys(s)}),font:E({editType:"calc+arraydraw",colorEditType:"arraydraw"}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"],editType:"arraydraw"},textangle:{valType:"angle",dflt:"auto",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],editType:"calc+arraydraw"},padding:{valType:"number",dflt:3,min:0,editType:"arraydraw"},editType:"arraydraw"},editType:"arraydraw"})},5627:function(ae,B,r){"use strict";var D=r(71828),E=r(89298),f=r(21459),k=r(30477);function M(s){return c(s.line.width,s.xsizemode,s.x0,s.x1,s.path,!1)}function y(s){return c(s.line.width,s.ysizemode,s.y0,s.y1,s.path,!0)}function c(s,a,o,l,u,h){var v=s/2,p=h;if("pixel"===a){var T=u?k.extractPathCoords(u,h?f.paramIsY:f.paramIsX):[o,l],_=D.aggNums(Math.max,null,T),m=D.aggNums(Math.min,null,T),w=m<0?Math.abs(m)+v:v,x=_>0?_+v:v;return{ppad:v,ppadplus:p?w:x,ppadminus:p?x:w}}return{ppad:v}}function i(s,a,o,l,u){var h="category"===s.type||"multicategory"===s.type?s.r2c:s.d2c;if(void 0!==a)return[h(a),h(o)];if(l){var v,p,T,_,m=1/0,w=-1/0,x=l.match(f.segmentRE);for("date"===s.type&&(h=k.decodeDate(h)),v=0;v<x.length;v++)void 0!==(p=u[x[v].charAt(0)].drawn)&&(!(T=x[v].substr(1).match(f.paramRE))||T.length<p||((_=h(T[p]))<m&&(m=_),_>w&&(w=_)));return w>=m?[m,w]:void 0}}ae.exports=function(s){var o=D.filterVisible(s._fullLayout.shapes);if(o.length&&s._fullData.length)for(var l=0;l<o.length;l++){var u,h,v=o[l];v._extremes={};var p=E.getRefType(v.xref),T=E.getRefType(v.yref);if("paper"!==v.xref&&"domain"!==p){var _="pixel"===v.xsizemode?v.xanchor:v.x0,m="pixel"===v.xsizemode?v.xanchor:v.x1;(h=i(u=E.getFromId(s,v.xref),_,m,v.path,f.paramIsX))&&(v._extremes[u._id]=E.findExtremes(u,h,M(v)))}if("paper"!==v.yref&&"domain"!==T){var w="pixel"===v.ysizemode?v.yanchor:v.y0,x="pixel"===v.ysizemode?v.yanchor:v.y1;(h=i(u=E.getFromId(s,v.yref),w,x,v.path,f.paramIsY))&&(v._extremes[u._id]=E.findExtremes(u,h,y(v)))}}}},21459:function(ae){"use strict";ae.exports={segmentRE:/[MLHVQCTSZ][^MLHVQCTSZ]*/g,paramRE:/[^\s,]+/g,paramIsX:{M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},paramIsY:{M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:5},Z:{}},numParams:{M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0}}},84726:function(ae,B,r){"use strict";var D=r(71828),E=r(89298),f=r(85501),k=r(89827),M=r(30477);function y(c,i,s){function a(G,H){return D.coerce(c,i,k,G,H)}if(i._isShape=!0,a("visible")){a("showlegend")&&(a("legend"),a("legendwidth"),a("legendgroup"),a("legendgrouptitle.text"),D.coerceFont(a,"legendgrouptitle.font"),a("legendrank"));var o=a("path"),l=a("type",o?"path":"rect"),u="path"!==l;u&&delete i.path,a("editable"),a("layer"),a("opacity"),a("fillcolor"),a("fillrule"),a("line.width")&&(a("line.color"),a("line.dash"));for(var h=a("xsizemode"),v=a("ysizemode"),p=["x","y"],T=0;T<2;T++){var _,m,w,x=p[T],b=x+"anchor",A="x"===x?h:v,g={_fullLayout:s},I=E.coerceRef(c,i,g,x,void 0,"paper");if("range"===E.getRefType(I)?((_=E.getFromId(g,I))._shapeIndices.push(i._index),w=M.rangeToShapePosition(_),m=M.shapePositionToRange(_)):m=w=D.identity,u){var S=x+"0",O=x+"1",R=c[S],L=c[O];c[S]=m(c[S],!0),c[O]=m(c[O],!0),"pixel"===A?(a(S,0),a(O,10)):(E.coercePosition(i,g,a,I,S,.25),E.coercePosition(i,g,a,I,O,.75)),i[S]=w(i[S]),i[O]=w(i[O]),c[S]=R,c[O]=L}if("pixel"===A){var N=c[b];c[b]=m(c[b],!0),E.coercePosition(i,g,a,I,b,.25),i[b]=w(i[b]),c[b]=N}}u&&D.noneOrAll(c,i,["x0","x1","y0","y1"]);var j,X,F="line"===l;if(u&&(j=a("label.texttemplate")),j||(X=a("label.text")),X||j){a("label.textangle");var Y=a("label.textposition",F?"middle":"middle center");a("label.xanchor"),a("label.yanchor",(H=Y,F?"bottom":-1!==H.indexOf("top")?"top":-1!==H.indexOf("bottom")?"bottom":"middle")),a("label.padding"),D.coerceFont(a,"label.font",s.font)}}var H}ae.exports=function(c,i){f(c,i,{name:"shapes",handleItemDefaults:y})}},48100:function(ae,B,r){"use strict";var D=r(71828),E=r(89298),f=r(63893),k=r(91424),M=r(60165).readPaths,y=r(30477),c=y.getPathString,i=r(37281),s=r(18783).FROM_TL;ae.exports=function(a,o,l,u){if(u.selectAll(".shape-label").remove(),l.label.text||l.label.texttemplate){var h;if(l.label.texttemplate){var v={};if("path"!==l.type){var p=E.getFromId(a,l.xref),T=E.getFromId(a,l.yref);for(var _ in i){var m=i[_](l,p,T);void 0!==m&&(v[_]=m)}}h=D.texttemplateStringForShapes(l.label.texttemplate,{},a._fullLayout._d3locale,v)}else h=l.label.text;var w,x,b,A,g={"data-index":o},I=l.label.font,S=u.append("g").attr(g).classed("shape-label",!0).append("text").attr({"data-notex":1}).classed("shape-label-text",!0).text(h);if(l.path){var O=c(a,l),R=M(O,a);w=1/0,b=1/0,x=-1/0,A=-1/0;for(var L=0;L<R.length;L++)for(var N=0;N<R[L].length;N++)for(var j=R[L][N],X=1;X<j.length;X+=2){var F=j[X],Y=j[X+1];w=Math.min(w,F),x=Math.max(x,F),b=Math.min(b,Y),A=Math.max(A,Y)}}else{var G=E.getFromId(a,l.xref),H=E.getRefType(l.xref),W=E.getFromId(a,l.yref),Z=E.getRefType(l.yref),se=y.getDataToPixel(a,G,!1,H),re=y.getDataToPixel(a,W,!0,Z);w=se(l.x0),x=se(l.x1),b=re(l.y0),A=re(l.y1)}var ne=l.label.textangle;"auto"===ne&&(ne="line"===l.type?(fe=w,le=b,pe=x,Me=A,be=Math.abs(pe-fe),-180/Math.PI*Math.atan2(pe>=fe?le-Me:Me-le,be)):0),S.call(function(fe){return fe.call(k.font,I).attr({}),f.convertToTspans(fe,a),fe});var Q=function(fe,le,pe,Me,Ae,be,ye){var we,ze,Se,Ce,ge=Ae.label.textposition,he=Ae.label.textangle,_e=Ae.label.padding,Le=Ae.type,Ie=Math.PI/180*be,De=Math.sin(Ie),je=Math.cos(Ie),qe=Ae.label.xanchor,ve=Ae.label.yanchor;if("line"===Le){"start"===ge?(we=fe,ze=le):"end"===ge?(we=pe,ze=Me):(we=(fe+pe)/2,ze=(le+Me)/2),"auto"===qe&&(qe="start"===ge?"auto"===he?pe>fe?"left":pe<fe?"right":"center":pe>fe?"right":pe<fe?"left":"center":"end"===ge?"auto"===he?pe>fe?"right":pe<fe?"left":"center":pe>fe?"left":pe<fe?"right":"center":"center");var Oe={bottom:-1,middle:0,top:1};if("auto"===he){var ke=Oe[ve];Se=-_e*De*ke,Ce=_e*je*ke}else Se=_e*{left:1,center:0,right:-1}[qe],Ce=_e*Oe[ve];we+=Se,ze+=Ce}else Se=_e+3,-1!==ge.indexOf("right")?(we=Math.max(fe,pe)-Se,"auto"===qe&&(qe="right")):-1!==ge.indexOf("left")?(we=Math.min(fe,pe)+Se,"auto"===qe&&(qe="left")):(we=(fe+pe)/2,"auto"===qe&&(qe="center")),ze=-1!==ge.indexOf("top")?Math.min(le,Me):-1!==ge.indexOf("bottom")?Math.max(le,Me):(le+Me)/2,Ce=_e,"bottom"===ve?ze-=Ce:"top"===ve&&(ze+=Ce);var Be=s[ve],We=Ae.label.font.size,Ge=ye.height;return{textx:we+(Ge*Be-We)*De,texty:ze+-(Ge*Be-We)*je,xanchor:qe}}(w,b,x,A,l,ne,k.bBox(S.node())),ee=Q.textx,oe=Q.texty;S.attr({"text-anchor":{left:"start",center:"middle",right:"end"}[Q.xanchor],y:oe,x:ee,transform:"rotate("+ne+","+ee+","+oe+")"}).call(f.positionText,ee,oe)}var fe,le,pe,Me,be}},42359:function(ae,B,r){"use strict";var D=r(71828).strTranslate,E=r(28569),f=r(64505),k=f.drawMode,M=f.selectMode,y=r(73972),c=r(7901),i=r(89995),s=i.i000,a=i.i090,o=i.i180,l=i.i270,u=r(51873).clearOutlineControllers,h=r(60165),v=h.pointsOnRectangle,p=h.pointsOnEllipse,T=h.writePaths,_=r(90551).newShapes,m=r(90551).createShapeObj,w=r(35855),x=r(48100);function b(A,g){var I,S,O,N=A.length;return S=A[I=(g+1)%N][1],O=A[I][2],S===A[g][1]&&O===A[g][2]&&(S=A[I=(g+2)%N][1],O=A[I][2]),[I,S,O]}ae.exports=function A(g,I,S,O){O||(O=0);var R=S.gd;function L(){A(g,I,S,O++),(p(g[0])||S.hasText)&&N({redrawing:!0})}function N(Ae){var be={};void 0!==S.isActiveShape&&(S.isActiveShape=!1,be=_(I,S)),void 0!==S.isActiveSelection&&(S.isActiveSelection=!1,be=w(I,S),R._fullLayout._reselect=!0),Object.keys(be).length&&y.call((Ae||{}).redrawing?"relayout":"_guiRelayout",R,be)}var j,X,F,Y,G,H=R._fullLayout._zoomlayer,W=S.dragmode,Z=k(W),se=M(W);if((Z||se)&&(R._fullLayout._outlining=!0),u(R),I.attr("d",T(g)),O||!S.isActiveShape&&!S.isActiveSelection||(G=function(Ae,be){for(var ye=0;ye<be.length;ye++){var we=be[ye];Ae[ye]=[];for(var ze=0;ze<we.length;ze++){Ae[ye][ze]=[];for(var Se=0;Se<we[ze].length;Se++)Ae[ye][ze][Se]=we[ze][Se]}}return Ae}([],g),function(Ae){j=[];for(var be=0;be<g.length;be++){var ye=g[be],we=v(ye),ze=!we&&p(ye);j[be]=[];for(var Se=ye.length,Ce=0;Ce<Se;Ce++)if("Z"!==ye[Ce][0]&&(!ze||Ce===s||Ce===a||Ce===o||Ce===l)){var ge,he=we&&S.isActiveSelection;he&&(ge=b(ye,Ce));var _e=ye[Ce][1],Le=ye[Ce][2],Ie=Ae.append(he?"rect":"circle").attr("data-i",be).attr("data-j",Ce).style({fill:c.background,stroke:c.defaultLine,"stroke-width":1,"shape-rendering":"crispEdges"});if(he){var De=ge[1]-_e,je=ge[2]-Le,qe=je?5:Math.max(Math.min(25,Math.abs(De)-5),5),ve=De?5:Math.max(Math.min(25,Math.abs(je)-5),5);Ie.classed(je?"cursor-ew-resize":"cursor-ns-resize",!0).attr("width",qe).attr("height",ve).attr("x",_e-qe/2).attr("y",Le-ve/2).attr("transform",D(De/2,je/2))}else Ie.classed("cursor-grab",!0).attr("r",5).attr("cx",_e).attr("cy",Le);j[be][Ce]={element:Ie.node(),gd:R,prepFn:Q,doneFn:oe,clickFn:ce},E.init(j[be][Ce])}}}(H.append("g").attr("class","outline-controllers")),X=[],g.length&&(X[0]={element:I[0][0],gd:R,prepFn:function le(Ae){(F=+Ae.srcElement.getAttribute("data-i"))||(F=0),X[F].moveFn=fe},doneFn:function pe(){N()},clickFn:function Me(Ae){2===Ae&&function(be){if(M(be._fullLayout.dragmode)){u(be);var ye=be._fullLayout._activeSelectionIndex,we=(be.layout||{}).selections||[];if(ye<we.length){for(var ze=[],Se=0;Se<we.length;Se++)Se!==ye&&ze.push(we[Se]);delete be._fullLayout._activeSelectionIndex;var Ce=be._fullLayout.selections[ye];be._fullLayout._deselect={xref:Ce.xref,yref:Ce.yref},y.call("_guiRelayout",be,{selections:ze})}}}(R)}},E.init(X[0]))),Z&&S.hasText){var re=H.select(".label-temp"),ne=m(I,S,S.dragmode);x(R,"label-temp",ne,re)}function Q(Ae){F=+Ae.srcElement.getAttribute("data-i"),Y=+Ae.srcElement.getAttribute("data-j"),j[F][Y].moveFn=ee}function ee(Ae,be){if(g.length){var ye=G[F][Y][1],we=G[F][Y][2],ze=g[F],Se=ze.length;if(v(ze)){var Ce=Ae,ge=be;S.isActiveSelection&&(b(ze,Y)[1]===ze[Y][1]?ge=0:Ce=0);for(var he=0;he<Se;he++)if(he!==Y){var _e=ze[he];_e[1]===ze[Y][1]&&(_e[1]=ye+Ce),_e[2]===ze[Y][2]&&(_e[2]=we+ge)}if(ze[Y][1]=ye+Ce,ze[Y][2]=we+ge,!v(ze))for(var Le=0;Le<Se;Le++)for(var Ie=0;Ie<ze[Le].length;Ie++)ze[Le][Ie]=G[F][Le][Ie]}else ze[Y][1]=ye+Ae,ze[Y][2]=we+be;L()}}function oe(){N()}function ce(Ae,be){if(2===Ae){F=+be.srcElement.getAttribute("data-i"),Y=+be.srcElement.getAttribute("data-j");var ye=g[F];v(ye)||p(ye)||function(){if(g.length&&g[F]&&g[F].length){for(var we=[],ze=0;ze<g[F].length;ze++)ze!==Y&&we.push(g[F][ze]);we.length>1&&(2!==we.length||"Z"!==we[1][0])&&(0===Y&&(we[0][0]="M"),g[F]=we,L(),N())}}()}}function fe(Ae,be){(function(ye,we){if(g.length)for(var ze=0;ze<g.length;ze++)for(var Se=0;Se<g[ze].length;Se++)for(var Ce=0;Ce+2<g[ze][Se].length;Ce+=2)g[ze][Se][Ce+1]=G[ze][Se][Ce+1]+ye,g[ze][Se][Ce+2]=G[ze][Se][Ce+2]+we})(Ae,be),L()}}},34031:function(ae,B,r){"use strict";var D=r(39898),E=r(73972),f=r(71828),k=r(89298),M=r(60165).readPaths,y=r(42359),c=r(48100),i=r(51873).clearOutlineControllers,s=r(7901),a=r(91424),o=r(44467).arrayEditor,l=r(28569),u=r(6964),h=r(21459),v=r(30477),p=v.getPathString;function T(g){var I=g._fullLayout;for(var S in I._shapeUpperLayer.selectAll("path").remove(),I._shapeLowerLayer.selectAll("path").remove(),I._shapeUpperLayer.selectAll("text").remove(),I._shapeLowerLayer.selectAll("text").remove(),I._plots){var O=I._plots[S].shapelayer;O&&(O.selectAll("path").remove(),O.selectAll("text").remove())}for(var R=0;R<I.shapes.length;R++)!0===I.shapes[R].visible&&w(g,R)}function _(g){return!!g._fullLayout._outlining}function m(g){return!g._context.edits.shapePosition}function w(g,I){g._fullLayout._paperdiv.selectAll('.shapelayer [data-index="'+I+'"]').remove();var S=v.makeShapesOptionsAndPlotinfo(g,I),O=S.options,R=S.plotinfo;O._input&&!0===O.visible&&function L(N){var j=p(g,O),X={"data-index":I,"fill-rule":O.fillrule,d:j},F=O.opacity,Y=O.fillcolor,G=O.line.width?O.line.color:"rgba(0,0,0,0)",H=O.line.width,W=O.line.dash;H||!0!==O.editable||(H=5,W="solid");var Z="Z"!==j[j.length-1],se=m(g)&&O.editable&&g._fullLayout._activeShapeIndex===I;se&&(Y=Z?"rgba(0,0,0,0)":g._fullLayout.activeshape.fillcolor,F=g._fullLayout.activeshape.opacity);var re,ne=N.append("g").classed("shape-group",!0).attr({"data-index":I}),Q=ne.append("path").attr(X).style("opacity",F).call(s.stroke,G).call(s.fill,Y).call(a.dashLine,W,H);if(x(ne,g,O),c(g,I,O,ne),(se||g._context.edits.shapePosition)&&(re=o(g.layout,"shapes",O)),se){Q.style({cursor:"move"});var ee={element:Q.node(),plotinfo:R,gd:g,editHelpers:re,hasText:O.label.text||O.label.texttemplate,isActiveShape:!0},oe=M(j,g);y(oe,Q,ee)}else g._context.edits.shapePosition?function(ce,fe,le,pe,Me,Ae){var be,ye,we,ze,Se,Ce,ge,he,_e,Le,Ie,De,je,qe,ve,Oe,We="pixel"===le.xsizemode,Ge="pixel"===le.ysizemode,Ke="line"===le.type,et="path"===le.type,at=Ae.modifyItem,mt=D.select(fe.node().parentNode),ct=k.getFromId(ce,le.xref),kt=k.getRefType(le.xref),Dt=k.getFromId(ce,le.yref),Et=k.getRefType(le.yref),ht=v.getDataToPixel(ce,ct,!1,kt),pt=v.getDataToPixel(ce,Dt,!0,Et),Pt=v.getPixelToData(ce,ct,!1,kt),zt=v.getPixelToData(ce,Dt,!0,Et),Ht=Ke?function(){var Ue=Math.max(le.line.width,10),$e=Me.append("g").attr("data-index",pe).attr("drag-helper",!0);$e.append("path").attr("d",fe.attr("d")).style({cursor:"move","stroke-width":Ue,"stroke-opacity":"0"});var dt={"fill-opacity":"0"},ut=Math.max(Ue/2,10);return $e.append("circle").attr({"data-line-point":"start-point",cx:We?ht(le.xanchor)+le.x0:ht(le.x0),cy:Ge?pt(le.yanchor)-le.y0:pt(le.y0),r:ut}).style(dt).classed("cursor-grab",!0),$e.append("circle").attr({"data-line-point":"end-point",cx:We?ht(le.xanchor)+le.x1:ht(le.x1),cy:Ge?pt(le.yanchor)-le.y1:pt(le.y1),r:ut}).style(dt).classed("cursor-grab",!0),$e}():fe,Lt={element:Ht.node(),gd:ce,prepFn:function(ft){var Ue,$e,dt,ut,At,wt,St,_t;_(ce)||(We&&(Se=ht(le.xanchor)),Ge&&(Ce=pt(le.yanchor)),"path"===le.type?ve=le.path:(be=We?le.x0:ht(le.x0),ye=Ge?le.y0:pt(le.y0),we=We?le.x1:ht(le.x1),ze=Ge?le.y1:pt(le.y1)),be<we?(_e=be,je="x0",Le=we,qe="x1"):(_e=we,je="x1",Le=be,qe="x0"),!Ge&&ye<ze||Ge&&ye>ze?(ge=ye,Ie="y0",he=ze,De="y1"):(ge=ze,Ie="y1",he=ye,De="y0"),tt(ft),ot(Me,le),Ue=fe,At=($e=le).yref,wt=k.getFromId(dt=ce,ut=$e.xref),St=k.getFromId(dt,At),_t="","paper"===ut||wt.autorange||(_t+=ut),"paper"===At||St.autorange||(_t+=At),a.setClipUrl(Ue,_t?"clip"+dt._fullLayout._uid+_t:null,dt),Lt.moveFn="move"===Oe?it:Je,Lt.altKey=ft.altKey)},doneFn:function(){_(ce)||(u(fe),gt(Me),x(fe,ce,le),E.call("_guiRelayout",ce,Ae.getUpdateObj()))},clickFn:function(){_(ce)||gt(Me)}};function tt(ft){if(_(ce))Oe=null;else if(Ke)Oe="path"===ft.target.tagName?"move":"start-point"===ft.target.attributes["data-line-point"].value?"resize-over-start-point":"resize-over-end-point";else{var Ue=Lt.element.getBoundingClientRect(),$e=Ue.right-Ue.left,dt=Ue.bottom-Ue.top,wt=!et&&$e>10&&dt>10&&!ft.shiftKey?l.getCursor((ft.clientX-Ue.left)/$e,1-(ft.clientY-Ue.top)/dt):"move";u(fe,wt),Oe=wt.split("-")[0]}}function it(ft,Ue){if("path"===le.type){var $e=function(At){return At},dt=$e,ut=$e;We?at("xanchor",le.xanchor=Pt(Se+ft)):(dt=function(At){return Pt(ht(At)+ft)},ct&&"date"===ct.type&&(dt=v.encodeDate(dt))),Ge?at("yanchor",le.yanchor=zt(Ce+Ue)):(ut=function(At){return zt(pt(At)+Ue)},Dt&&"date"===Dt.type&&(ut=v.encodeDate(ut))),at("path",le.path=b(ve,dt,ut))}else We?at("xanchor",le.xanchor=Pt(Se+ft)):(at("x0",le.x0=Pt(be+ft)),at("x1",le.x1=Pt(we+ft))),Ge?at("yanchor",le.yanchor=zt(Ce+Ue)):(at("y0",le.y0=zt(ye+Ue)),at("y1",le.y1=zt(ze+Ue)));fe.attr("d",p(ce,le)),ot(Me,le),c(ce,pe,le,mt)}function Je(ft,Ue){if(et){var $e=function(nn){return nn},dt=$e,ut=$e;We?at("xanchor",le.xanchor=Pt(Se+ft)):(dt=function(nn){return Pt(ht(nn)+ft)},ct&&"date"===ct.type&&(dt=v.encodeDate(dt))),Ge?at("yanchor",le.yanchor=zt(Ce+Ue)):(ut=function(nn){return zt(pt(nn)+Ue)},Dt&&"date"===Dt.type&&(ut=v.encodeDate(ut))),at("path",le.path=b(ve,dt,ut))}else if(Ke){if("resize-over-start-point"===Oe){var At=be+ft,wt=Ge?ye-Ue:ye+Ue;at("x0",le.x0=We?At:Pt(At)),at("y0",le.y0=Ge?wt:zt(wt))}else if("resize-over-end-point"===Oe){var St=we+ft,_t=Ge?ze-Ue:ze+Ue;at("x1",le.x1=We?St:Pt(St)),at("y1",le.y1=Ge?_t:zt(_t))}}else{var Rt=function(nn){return-1!==Oe.indexOf(nn)},bt=Rt("n"),Tt=Rt("s"),It=Rt("w"),Wt=Rt("e"),$t=bt?ge+Ue:ge,Qt=Tt?he+Ue:he,pn=It?_e+ft:_e,en=Wt?Le+ft:Le;Ge&&(bt&&($t=ge-Ue),Tt&&(Qt=he-Ue)),(!Ge&&Qt-$t>10||Ge&&$t-Qt>10)&&(at(Ie,le[Ie]=Ge?$t:zt($t)),at(De,le[De]=Ge?Qt:zt(Qt))),en-pn>10&&(at(je,le[je]=We?pn:Pt(pn)),at(qe,le[qe]=We?en:Pt(en)))}fe.attr("d",p(ce,le)),ot(Me,le),c(ce,pe,le,mt)}function ot(ft,Ue){(We||Ge)&&function(){var $e="path"!==Ue.type,dt=ft.selectAll(".visual-cue").data([0]);dt.enter().append("path").attr({fill:"#fff","fill-rule":"evenodd",stroke:"#000","stroke-width":1}).classed("visual-cue",!0);var ut=ht(We?Ue.xanchor:f.midRange($e?[Ue.x0,Ue.x1]:v.extractPathCoords(Ue.path,h.paramIsX))),At=pt(Ge?Ue.yanchor:f.midRange($e?[Ue.y0,Ue.y1]:v.extractPathCoords(Ue.path,h.paramIsY)));ut=v.roundPositionForSharpStrokeRendering(ut,1),At=v.roundPositionForSharpStrokeRendering(At,1),dt.attr("d",We&&Ge?"M"+(ut-1-1)+","+(At-1-1)+"h-8v2h8 v8h2v-8 h8v-2h-8 v-8h-2 Z":We?"M"+(ut-1-1)+","+(At-9-1)+"v18 h2 v-18 Z":"M"+(ut-9-1)+","+(At-1-1)+"h18 v2 h-18 Z")}()}function gt(ft){ft.selectAll(".visual-cue").remove()}l.init(Lt),Ht.node().onmousemove=tt}(g,Q,O,I,N,re):!0===O.editable&&Q.style("pointer-events",Z||s.opacity(Y)*F<=.5?"stroke":"all");Q.node().addEventListener("click",function(){return function(ce,fe){if(m(ce)){var le=+fe.node().getAttribute("data-index");if(le>=0){if(le===ce._fullLayout._activeShapeIndex)return void A(ce);ce._fullLayout._activeShapeIndex=le,ce._fullLayout._deactivateShape=A,T(ce)}}}(g,Q)})}("below"!==O.layer?g._fullLayout._shapeUpperLayer:"paper"===O.xref||"paper"===O.yref?g._fullLayout._shapeLowerLayer:R._hadPlotinfo?(R.mainplotinfo||R).shapelayer:g._fullLayout._shapeLowerLayer)}function x(g,I,S){var O=(S.xref+S.yref).replace(/paper/g,"").replace(/[xyz][1-9]* *domain/g,"");a.setClipUrl(g,O?"clip"+I._fullLayout._uid+O:null,I)}function b(g,I,S){return g.replace(h.segmentRE,function(O){var R=0,L=O.charAt(0),N=h.paramIsX[L],j=h.paramIsY[L],X=h.numParams[L];return L+O.substr(1).replace(h.paramRE,function(F){return R>=X||(N[R]?F=I(F):j[R]&&(F=S(F)),R++),F})})}function A(g){m(g)&&g._fullLayout._activeShapeIndex>=0&&(i(g),delete g._fullLayout._activeShapeIndex,T(g))}ae.exports={draw:T,drawOne:w,eraseActiveShape:function(g){if(m(g)){i(g);var I=g._fullLayout._activeShapeIndex,S=(g.layout||{}).shapes||[];if(I<S.length){for(var O=[],R=0;R<S.length;R++)R!==I&&O.push(S[R]);return delete g._fullLayout._activeShapeIndex,E.call("_guiRelayout",g,{shapes:O})}}},drawLabel:c}},29241:function(ae,B,r){"use strict";var D=r(30962).overrideAll,E=r(9012),f=r(41940),k=r(79952).P,M=r(1426).extendFlat,y=r(5386).R,c=r(37281);ae.exports=D({newshape:{visible:M({},E.visible,{}),showlegend:{valType:"boolean",dflt:!1},legend:M({},E.legend,{}),legendgroup:M({},E.legendgroup,{}),legendgrouptitle:{text:M({},E.legendgrouptitle.text,{}),font:f({})},legendrank:M({},E.legendrank,{}),legendwidth:M({},E.legendwidth,{}),line:{color:{valType:"color"},width:{valType:"number",min:0,dflt:4},dash:M({},k,{dflt:"solid"})},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd"},opacity:{valType:"number",min:0,max:1,dflt:1},layer:{valType:"enumerated",values:["below","above"],dflt:"above"},drawdirection:{valType:"enumerated",values:["ortho","horizontal","vertical","diagonal"],dflt:"diagonal"},name:M({},E.name,{}),label:{text:{valType:"string",dflt:""},texttemplate:y({newshape:!0},{keys:Object.keys(c)}),font:f({}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"]},textangle:{valType:"angle",dflt:"auto"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},padding:{valType:"number",dflt:3,min:0}}},activeshape:{fillcolor:{valType:"color",dflt:"rgb(255,0,255)"},opacity:{valType:"number",min:0,max:1,dflt:.5}}},"none","from-root")},89995:function(ae){"use strict";ae.exports={CIRCLE_SIDES:32,i000:0,i090:8,i180:16,i270:24,cos45:Math.cos(Math.PI/4),sin45:Math.sin(Math.PI/4),SQRT2:Math.sqrt(2)}},45547:function(ae,B,r){"use strict";var D=r(7901),E=r(71828);ae.exports=function(f,k,M){M("newshape.visible"),M("newshape.name"),M("newshape.showlegend"),M("newshape.legend"),M("newshape.legendwidth"),M("newshape.legendgroup"),M("newshape.legendgrouptitle.text"),E.coerceFont(M,"newshape.legendgrouptitle.font"),M("newshape.legendrank"),M("newshape.drawdirection"),M("newshape.layer"),M("newshape.fillcolor"),M("newshape.fillrule"),M("newshape.opacity"),M("newshape.line.width")&&(M("newshape.line.color",D.contrast((f||{}).plot_bgcolor||"#FFF")),M("newshape.line.dash"));var l,c="drawline"===f.dragmode,i=M("newshape.label.text"),s=M("newshape.label.texttemplate");if(i||s){M("newshape.label.textangle");var a=M("newshape.label.textposition",c?"middle":"middle center");M("newshape.label.xanchor"),M("newshape.label.yanchor",(l=a,c?"bottom":-1!==l.indexOf("top")?"top":-1!==l.indexOf("bottom")?"bottom":"middle")),M("newshape.label.padding"),E.coerceFont(M,"newshape.label.font",k.font)}M("activeshape.fillcolor"),M("activeshape.opacity")}},60165:function(ae,B,r){"use strict";var D=r(95616),E=r(89995),f=E.CIRCLE_SIDES,k=E.SQRT2,M=r(75549),y=M.p2r,c=M.r2p,i=[0,3,4,5,6,1,2],s=[0,3,4,1,2];function a(l,u){return Math.abs(l-u)<=1e-6}function o(l,u){var h=u[1]-l[1],v=u[2]-l[2];return Math.sqrt(h*h+v*v)}B.writePaths=function(l){var u=l.length;if(!u)return"M0,0Z";for(var h="",v=0;v<u;v++)for(var p=l[v].length,T=0;T<p;T++){var _=l[v][T][0];if("Z"===_)h+="Z";else for(var m=l[v][T].length,w=0;w<m;w++){var x=w;"Q"===_||"S"===_?x=s[w]:"C"===_&&(x=i[w]),h+=l[v][T][x],w>0&&w<m-1&&(h+=",")}}return h},B.readPaths=function(l,u,h,v){var p,T,_,m=D(l),w=[],x=-1,b=0,A=0,g=function(){T=b,_=A};g();for(var I=0;I<m.length;I++){var N=[],j=m[I][0],X=j;switch(j){case"M":w[++x]=[],N.push([X,b=+m[I][1],A=+m[I][2]]),g();break;case"Q":case"S":N.push([X,b=+m[I][3],A=+m[I][4],+m[I][1],+m[I][2]]);break;case"C":N.push([X,b=+m[I][5],A=+m[I][6],+m[I][1],+m[I][2],+m[I][3],+m[I][4]]);break;case"T":case"L":N.push([X,b=+m[I][1],A=+m[I][2]]);break;case"H":N.push([X="L",b=+m[I][1],A]);break;case"V":N.push([X="L",b,A=+m[I][1]]);break;case"A":X="L";var F=+m[I][1],Y=+m[I][2];+m[I][4]||(F=-F,Y=-Y);var G=b-F,H=A;for(p=1;p<=f/2;p++){var W=2*Math.PI*p/f;N.push([X,G+F*Math.cos(W),H+Y*Math.sin(W)])}break;case"Z":b===T&&A===_||N.push([X,b=T,A=_])}for(var Z=(h||{}).domain,se=u._fullLayout._size,re=h&&"pixel"===h.xsizemode,ne=h&&"pixel"===h.ysizemode,Q=!1===v,ee=0;ee<N.length;ee++){for(p=0;p+2<7;p+=2){var oe=N[ee][p+1],ce=N[ee][p+2];void 0!==oe&&void 0!==ce&&(b=oe,A=ce,h&&(h.xaxis&&h.xaxis.p2r?(Q&&(oe-=h.xaxis._offset),oe=re?c(h.xaxis,h.xanchor)+oe:y(h.xaxis,oe)):(Q&&(oe-=se.l),Z?oe=Z.x[0]+oe/se.w:oe/=se.w),h.yaxis&&h.yaxis.p2r?(Q&&(ce-=h.yaxis._offset),ce=ne?c(h.yaxis,h.yanchor)-ce:y(h.yaxis,ce)):(Q&&(ce-=se.t),ce=Z?Z.y[1]-ce/se.h:1-ce/se.h)),N[ee][p+1]=oe,N[ee][p+2]=ce)}w[x].push(N[ee].slice())}}return w},B.pointsOnRectangle=function(l){if(5!==l.length)return!1;for(var u=1;u<3;u++)if(!a(l[0][u]-l[1][u],l[3][u]-l[2][u])||!a(l[0][u]-l[3][u],l[1][u]-l[2][u]))return!1;return!(!a(l[0][1],l[1][1])&&!a(l[0][1],l[3][1])||!(o(l[0],l[1])*o(l[0],l[3])))},B.pointsOnEllipse=function(l){var u=l.length;if(u!==f+1)return!1;u=f;for(var h=0;h<u;h++){var v=(2*u-h)%u,p=(u/2+v)%u;if(!a(o(l[h],l[(u/2+h)%u]),o(l[v],l[p])))return!1}return!0},B.handleEllipse=function(l,u,h){if(!l)return[u,h];var v=B.ellipseOver({x0:u[0],y0:u[1],x1:h[0],y1:h[1]}),p=(v.x1+v.x0)/2,T=(v.y1+v.y0)/2,_=(v.x1-v.x0)/2,m=(v.y1-v.y0)/2;_||(_=m/=k),m||(m=_/=k);for(var w=[],x=0;x<f;x++){var b=2*x*Math.PI/f;w.push([p+_*Math.cos(b),T+m*Math.sin(b)])}return w},B.ellipseOver=function(l){var u=l.x0,h=l.y0,v=l.x1,p=l.y1,T=v-u,_=p-h,m=((u-=T)+v)/2,w=((h-=_)+p)/2;return{x0:m-(T*=k),y0:w-(_*=k),x1:m+T,y1:w+_}},B.fixDatesForPaths=function(l,u,h){var v="date"===u.type,p="date"===h.type;if(!v&&!p)return l;for(var T=0;T<l.length;T++)for(var _=0;_<l[T].length;_++)for(var m=0;m+2<l[T][_].length;m+=2)v&&(l[T][_][m+1]=l[T][_][m+1].replace(" ","_")),p&&(l[T][_][m+2]=l[T][_][m+2].replace(" ","_"));return l}},90551:function(ae,B,r){"use strict";var D=r(64505),E=D.drawMode,f=D.openMode,k=r(89995),M=k.i000,y=k.i090,c=k.i180,i=k.i270,s=k.cos45,a=k.sin45,o=r(75549),l=o.p2r,u=o.r2p,h=r(51873).clearOutline,v=r(60165),p=v.readPaths,T=v.writePaths,_=v.ellipseOver,m=v.fixDatesForPaths;function w(x,b,A){var g,S=b.gd,O=x[0][0].getAttribute("d"),R=S._fullLayout.newshape,L=b.plotinfo,N=b.isActiveShape,j=L.xaxis,X=L.yaxis,F=!!L.domain||!L.xaxis,Y=!!L.domain||!L.yaxis,G=f(A),H=p(O,S,L,N),W={editable:!0,visible:R.visible,name:R.name,showlegend:R.showlegend,legend:R.legend,legendwidth:R.legendwidth,legendgroup:R.legendgroup,legendgrouptitle:{text:R.legendgrouptitle.text,font:R.legendgrouptitle.font},legendrank:R.legendrank,label:R.label,xref:F?"paper":j._id,yref:Y?"paper":X._id,layer:R.layer,opacity:R.opacity,line:{color:R.line.color,width:R.line.width,dash:R.line.dash}};if(G||(W.fillcolor=R.fillcolor,W.fillrule=R.fillrule),1===H.length&&(g=H[0]),g&&5===g.length&&"drawrect"===A)W.type="rect",W.x0=g[0][1],W.y0=g[0][2],W.x1=g[2][1],W.y1=g[2][2];else if(g&&"drawline"===A)W.type="line",W.x0=g[0][1],W.y0=g[0][2],W.x1=g[1][1],W.y1=g[1][2];else if(g&&"drawcircle"===A){W.type="circle";var Z=g[M][1],se=g[y][1],re=g[c][1],ne=g[i][1],Q=g[M][2],ee=g[y][2],oe=g[c][2],ce=g[i][2],fe=L.xaxis&&("date"===L.xaxis.type||"log"===L.xaxis.type),le=L.yaxis&&("date"===L.yaxis.type||"log"===L.yaxis.type);fe&&(Z=u(L.xaxis,Z),se=u(L.xaxis,se),re=u(L.xaxis,re),ne=u(L.xaxis,ne)),le&&(Q=u(L.yaxis,Q),ee=u(L.yaxis,ee),oe=u(L.yaxis,oe),ce=u(L.yaxis,ce));var pe=(se+ne)/2,Me=(Q+oe)/2,Ae=_({x0:pe,y0:Me,x1:pe+(ne-se+re-Z)/2*s,y1:Me+(ce-ee+oe-Q)/2*a});fe&&(Ae.x0=l(L.xaxis,Ae.x0),Ae.x1=l(L.xaxis,Ae.x1)),le&&(Ae.y0=l(L.yaxis,Ae.y0),Ae.y1=l(L.yaxis,Ae.y1)),W.x0=Ae.x0,W.y0=Ae.y0,W.x1=Ae.x1,W.y1=Ae.y1}else W.type="path",j&&X&&m(H,j,X),W.path=T(H),g=null;return W}ae.exports={newShapes:function(x,b){if(x.length&&x[0][0]){var A=b.gd,g=b.isActiveShape,I=b.dragmode,S=(A.layout||{}).shapes||[];if(!E(I)&&void 0!==g){var O=A._fullLayout._activeShapeIndex;if(O<S.length)switch(A._fullLayout.shapes[O].type){case"rect":I="drawrect";break;case"circle":I="drawcircle";break;case"line":I="drawline";break;case"path":var R=S[O].path||"";I="Z"===R[R.length-1]?"drawclosedpath":"drawopenpath"}}var L=w(x,b,I);h(A);for(var N=b.editHelpers,j=(N||{}).modifyItem,X=[],F=0;F<S.length;F++){var Y=A._fullLayout.shapes[F];if(X[F]=Y._input,void 0!==g&&F===A._fullLayout._activeShapeIndex){var G=L;switch(Y.type){case"line":case"rect":case"circle":j("x0",G.x0),j("x1",G.x1),j("y0",G.y0),j("y1",G.y1);break;case"path":j("path",G.path)}}}return void 0===g?(X.push(L),X):N?N.getUpdateObj():{}}},createShapeObj:w}},51873:function(ae){"use strict";ae.exports={clearOutlineControllers:function(B){var r=B._fullLayout._zoomlayer;r&&r.selectAll(".outline-controllers").remove()},clearOutline:function(B){var r=B._fullLayout._zoomlayer;r&&r.selectAll(".select-outline").remove(),B._fullLayout._outlining=!1}}},30477:function(ae,B,r){"use strict";var D=r(21459),E=r(71828),f=r(89298);B.rangeToShapePosition=function(k){return"log"===k.type?k.r2d:function(M){return M}},B.shapePositionToRange=function(k){return"log"===k.type?k.d2r:function(M){return M}},B.decodeDate=function(k){return function(M){return M.replace&&(M=M.replace("_"," ")),k(M)}},B.encodeDate=function(k){return function(M){return k(M).replace(" ","_")}},B.extractPathCoords=function(k,M,y){var c=[];return k.match(D.segmentRE).forEach(function(i){var s=M[i.charAt(0)].drawn;if(void 0!==s){var a=i.substr(1).match(D.paramRE);if(a&&!(a.length<s)){var o=a[s],l=y?o:E.cleanNumber(o);c.push(l)}}}),c},B.getDataToPixel=function(k,M,y,c){var i,s=k._fullLayout._size;if(M)if("domain"===c)i=function(o){return M._length*(y?1-o:o)+M._offset};else{var a=B.shapePositionToRange(M);i=function(o){return M._offset+M.r2p(a(o,!0))},"date"===M.type&&(i=B.decodeDate(i))}else i=y?function(o){return s.t+s.h*(1-o)}:function(o){return s.l+s.w*o};return i},B.getPixelToData=function(k,M,y,c){var i,s=k._fullLayout._size;if(M)if("domain"===c)i=function(o){var l=(o-M._offset)/M._length;return y?1-l:l};else{var a=B.rangeToShapePosition(M);i=function(o){return a(M.p2r(o-M._offset))}}else i=y?function(o){return 1-(o-s.t)/s.h}:function(o){return(o-s.l)/s.w};return i},B.roundPositionForSharpStrokeRendering=function(k,M){var y=1===Math.round(M%2),c=Math.round(k);return y?c+.5:c},B.makeShapesOptionsAndPlotinfo=function(k,M){var y=k._fullLayout.shapes[M]||{},c=k._fullLayout._plots[y.xref+y.yref];return c?c._hadPlotinfo=!0:(c={},y.xref&&"paper"!==y.xref&&(c.xaxis=k._fullLayout[y.xref+"axis"]),y.yref&&"paper"!==y.yref&&(c.yaxis=k._fullLayout[y.yref+"axis"])),c.xsizemode=y.xsizemode,c.ysizemode=y.ysizemode,c.xanchor=y.xanchor,c.yanchor=y.yanchor,{options:y,plotinfo:c}},B.makeSelectionsOptionsAndPlotinfo=function(k,M){var y=k._fullLayout.selections[M]||{},c=k._fullLayout._plots[y.xref+y.yref];return c?c._hadPlotinfo=!0:(c={},y.xref&&(c.xaxis=k._fullLayout[y.xref+"axis"]),y.yref&&(c.yaxis=k._fullLayout[y.yref+"axis"])),{options:y,plotinfo:c}},B.getPathString=function(k,M){var y,c,i,s,a,o,l,u,R,L,N,X,F,Y,G,h=M.type,v=f.getRefType(M.xref),p=f.getRefType(M.yref),T=f.getFromId(k,M.xref),_=f.getFromId(k,M.yref),m=k._fullLayout._size;if(T?"domain"===v?c=function(R){return T._offset+T._length*R}:(y=B.shapePositionToRange(T),c=function(R){return T._offset+T.r2p(y(R,!0))}):c=function(R){return m.l+m.w*R},_?"domain"===p?s=function(R){return _._offset+_._length*(1-R)}:(i=B.shapePositionToRange(_),s=function(R){return _._offset+_.r2p(i(R,!0))}):s=function(R){return m.t+m.h*(1-R)},"path"===h)return T&&"date"===T.type&&(c=B.decodeDate(c)),_&&"date"===_.type&&(s=B.decodeDate(s)),L=c,N=s,X=(R=M).xsizemode,F=R.ysizemode,Y=R.xanchor,G=R.yanchor,R.path.replace(D.segmentRE,function(H){var W=0,Z=H.charAt(0),se=D.paramIsX[Z],re=D.paramIsY[Z],ne=D.numParams[Z],Q=H.substr(1).replace(D.paramRE,function(ee){return se[W]?ee="pixel"===X?L(Y)+Number(ee):L(ee):re[W]&&(ee="pixel"===F?N(G)-Number(ee):N(ee)),++W>ne&&(ee="X"),ee});return W>ne&&(Q=Q.replace(/[\s,]*X.*/,""),E.log("Ignoring extra params in segment "+H)),Z+Q});if("pixel"===M.xsizemode){var w=c(M.xanchor);a=w+M.x0,o=w+M.x1}else a=c(M.x0),o=c(M.x1);if("pixel"===M.ysizemode){var x=s(M.yanchor);l=x-M.y0,u=x-M.y1}else l=s(M.y0),u=s(M.y1);if("line"===h)return"M"+a+","+l+"L"+o+","+u;if("rect"===h)return"M"+a+","+l+"H"+o+"V"+u+"H"+a+"Z";var b=(a+o)/2,A=(l+u)/2,g=Math.abs(b-a),I=Math.abs(A-l),S="A"+g+","+I,O=b+g+","+A;return"M"+O+S+" 0 1,1 "+b+","+(A-I)+S+" 0 0,1 "+O+"Z"}},89853:function(ae,B,r){"use strict";var D=r(34031);ae.exports={moduleType:"component",name:"shapes",layoutAttributes:r(89827),supplyLayoutDefaults:r(84726),supplyDrawNewShapeDefaults:r(45547),includeBasePlot:r(76325)("shapes"),calcAutorange:r(5627),draw:D.draw,drawOne:D.drawOne}},37281:function(ae){"use strict";function B(f,k){return k?k.d2l(f):f}function r(f,k){return k?k.l2d(f):f}function D(f,k){return B(f.x1,k)-B(f.x0,k)}function E(f,k,M){return B(f.y1,M)-B(f.y0,M)}ae.exports={x0:function(f){return f.x0},x1:function(f){return f.x1},y0:function(f){return f.y0},y1:function(f){return f.y1},slope:function(f,k,M){return"line"!==f.type?void 0:E(f,0,M)/D(f,k)},dx:D,dy:E,width:function(f,k){return Math.abs(D(f,k))},height:function(f,k,M){return Math.abs(E(f,0,M))},length:function(f,k,M){return"line"!==f.type?void 0:Math.sqrt(Math.pow(D(f,k),2)+Math.pow(E(f,0,M),2))},xcenter:function(f,k){return r((B(f.x1,k)+B(f.x0,k))/2,k)},ycenter:function(f,k,M){return r((B(f.y1,M)+B(f.y0,M))/2,M)}}},75067:function(ae,B,r){"use strict";var D=r(41940),E=r(35025),f=r(1426).extendDeepAll,k=r(30962).overrideAll,M=r(85594),y=r(44467).templatedArray,c=r(98292),i=y("step",{visible:{valType:"boolean",dflt:!0},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string"},value:{valType:"string"},execute:{valType:"boolean",dflt:!0}});ae.exports=k(y("slider",{visible:{valType:"boolean",dflt:!0},active:{valType:"number",min:0,dflt:0},steps:i,lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",min:-2,max:3,dflt:0},pad:f(E({editType:"arraydraw"}),{},{t:{dflt:20}}),xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left"},y:{valType:"number",min:-2,max:3,dflt:0},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},transition:{duration:{valType:"number",min:0,dflt:150},easing:{valType:"enumerated",values:M.transition.easing.values,dflt:"cubic-in-out"}},currentvalue:{visible:{valType:"boolean",dflt:!0},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left"},offset:{valType:"number",dflt:10},prefix:{valType:"string"},suffix:{valType:"string"},font:D({})},font:D({}),activebgcolor:{valType:"color",dflt:c.gripBgActiveColor},bgcolor:{valType:"color",dflt:c.railBgColor},bordercolor:{valType:"color",dflt:c.railBorderColor},borderwidth:{valType:"number",min:0,dflt:c.railBorderWidth},ticklen:{valType:"number",min:0,dflt:c.tickLength},tickcolor:{valType:"color",dflt:c.tickColor},tickwidth:{valType:"number",min:0,dflt:1},minorticklen:{valType:"number",min:0,dflt:c.minorTickLength}}),"arraydraw","from-root")},98292:function(ae){"use strict";ae.exports={name:"sliders",containerClassName:"slider-container",groupClassName:"slider-group",inputAreaClass:"slider-input-area",railRectClass:"slider-rail-rect",railTouchRectClass:"slider-rail-touch-rect",gripRectClass:"slider-grip-rect",tickRectClass:"slider-tick-rect",inputProxyClass:"slider-input-proxy",labelsClass:"slider-labels",labelGroupClass:"slider-label-group",labelClass:"slider-label",currentValueClass:"slider-current-value",railHeight:5,menuIndexAttrName:"slider-active-index",autoMarginIdRoot:"slider-",minWidth:30,minHeight:30,textPadX:40,arrowOffsetX:4,railRadius:2,railWidth:5,railBorder:4,railBorderWidth:1,railBorderColor:"#bec8d9",railBgColor:"#f8fafc",railInset:8,stepInset:10,gripRadius:10,gripWidth:20,gripHeight:20,gripBorder:20,gripBorderWidth:1,gripBorderColor:"#bec8d9",gripBgColor:"#f6f8fa",gripBgActiveColor:"#dbdde0",labelPadding:8,labelOffset:0,tickWidth:1,tickColor:"#333",tickOffset:25,tickLength:7,minorTickOffset:25,minorTickColor:"#333",minorTickLength:4,currentValuePadding:8,currentValueInset:0}},12343:function(ae,B,r){"use strict";var D=r(71828),E=r(85501),f=r(75067),k=r(98292).name,M=f.steps;function y(i,s,a){function o(p,T){return D.coerce(i,s,f,p,T)}for(var l=E(i,s,{name:"steps",handleItemDefaults:c}),u=0,h=0;h<l.length;h++)l[h].visible&&u++;if(u<2?s.visible=!1:o("visible")){s._stepCount=u;var v=s._visibleSteps=D.filterVisible(l);(l[o("active")]||{}).visible||(s.active=v[0]._index),o("x"),o("y"),D.noneOrAll(i,s,["x","y"]),o("xanchor"),o("yanchor"),o("len"),o("lenmode"),o("pad.t"),o("pad.r"),o("pad.b"),o("pad.l"),D.coerceFont(o,"font",a.font),o("currentvalue.visible")&&(o("currentvalue.xanchor"),o("currentvalue.prefix"),o("currentvalue.suffix"),o("currentvalue.offset"),D.coerceFont(o,"currentvalue.font",s.font)),o("transition.duration"),o("transition.easing"),o("bgcolor"),o("activebgcolor"),o("bordercolor"),o("borderwidth"),o("ticklen"),o("tickwidth"),o("tickcolor"),o("minorticklen")}}function c(i,s){function a(l,u){return D.coerce(i,s,M,l,u)}if("skip"===i.method||Array.isArray(i.args)?a("visible"):s.visible=!1){a("method"),a("args");var o=a("label","step-"+s._index);a("value",o),a("execute")}}ae.exports=function(i,s){E(i,s,{name:k,handleItemDefaults:y})}},44504:function(ae,B,r){"use strict";var D=r(39898),E=r(74875),f=r(7901),k=r(91424),M=r(71828),y=M.strTranslate,c=r(63893),i=r(44467).arrayEditor,s=r(98292),a=r(18783),o=a.LINE_SPACING,l=a.FROM_TL,u=a.FROM_BR;function h(N){return s.autoMarginIdRoot+N._index}function v(N){return N._index}function p(N,j){var X=k.tester.selectAll("g."+s.labelGroupClass).data(j._visibleSteps);X.enter().append("g").classed(s.labelGroupClass,!0);var F=0,Y=0;X.each(function(ee){var oe=m(D.select(this),{step:ee},j).node();if(oe){var ce=k.bBox(oe);Y=Math.max(Y,ce.height),F=Math.max(F,ce.width)}}),X.remove();var G=j._dims={};G.inputAreaWidth=Math.max(s.railWidth,s.gripHeight);var H=N._fullLayout._size;if(G.lx=H.l+H.w*j.x,G.ly=H.t+H.h*(1-j.y),G.outerLength="fraction"===j.lenmode?Math.round(H.w*j.len):j.len,G.inputAreaStart=0,G.inputAreaLength=Math.round(G.outerLength-j.pad.l-j.pad.r),G.labelStride=Math.max(1,Math.ceil((F+s.labelPadding)/((G.inputAreaLength-2*s.stepInset)/(j._stepCount-1)))),G.labelHeight=Y,G.currentValueMaxWidth=0,G.currentValueHeight=0,G.currentValueTotalHeight=0,G.currentValueMaxLines=1,j.currentvalue.visible){var se=k.tester.append("g");X.each(function(ee){var oe=T(se,j,ee.label),ce=oe.node()&&k.bBox(oe.node())||{width:0,height:0},fe=c.lineCount(oe);G.currentValueMaxWidth=Math.max(G.currentValueMaxWidth,Math.ceil(ce.width)),G.currentValueHeight=Math.max(G.currentValueHeight,Math.ceil(ce.height)),G.currentValueMaxLines=Math.max(G.currentValueMaxLines,fe)}),G.currentValueTotalHeight=G.currentValueHeight+j.currentvalue.offset,se.remove()}G.height=G.currentValueTotalHeight+s.tickOffset+j.ticklen+s.labelOffset+G.labelHeight+j.pad.t+j.pad.b;var re="left";M.isRightAnchor(j)&&(G.lx-=G.outerLength,re="right"),M.isCenterAnchor(j)&&(G.lx-=G.outerLength/2,re="center");var ne="top";M.isBottomAnchor(j)&&(G.ly-=G.height,ne="bottom"),M.isMiddleAnchor(j)&&(G.ly-=G.height/2,ne="middle"),G.outerLength=Math.ceil(G.outerLength),G.height=Math.ceil(G.height),G.lx=Math.round(G.lx),G.ly=Math.round(G.ly);var Q={y:j.y,b:G.height*u[ne],t:G.height*l[ne]};"fraction"===j.lenmode?(Q.l=0,Q.xl=j.x-j.len*l[re],Q.r=0,Q.xr=j.x+j.len*u[re]):(Q.x=j.x,Q.l=G.outerLength*l[re],Q.r=G.outerLength*u[re]),E.autoMargin(N,h(j),Q)}function T(N,j,X){if(j.currentvalue.visible){var F,Y,G=j._dims;switch(j.currentvalue.xanchor){case"right":F=G.inputAreaLength-s.currentValueInset-G.currentValueMaxWidth,Y="left";break;case"center":F=.5*G.inputAreaLength,Y="middle";break;default:F=s.currentValueInset,Y="left"}var H=M.ensureSingle(N,"text",s.labelClass,function(Q){Q.attr({"text-anchor":Y,"data-notex":1})}),W=j.currentvalue.prefix?j.currentvalue.prefix:"";if("string"==typeof X)W+=X;else{var Z=j.steps[j.active].label,se=j._gd._fullLayout._meta;se&&(Z=M.templateString(Z,se)),W+=Z}j.currentvalue.suffix&&(W+=j.currentvalue.suffix),H.call(k.font,j.currentvalue.font).text(W).call(c.convertToTspans,j._gd);var re=c.lineCount(H);return c.positionText(H,F,(G.currentValueMaxLines+1-re)*j.currentvalue.font.size*o),H}}function _(N,j,X){M.ensureSingle(N,"rect",s.gripRectClass,function(F){F.call(A,j,N,X).style("pointer-events","all")}).attr({width:s.gripWidth,height:s.gripHeight,rx:s.gripRadius,ry:s.gripRadius}).call(f.stroke,X.bordercolor).call(f.fill,X.bgcolor).style("stroke-width",X.borderwidth+"px")}function m(N,j,X){var F=M.ensureSingle(N,"text",s.labelClass,function(H){H.attr({"text-anchor":"middle","data-notex":1})}),Y=j.step.label,G=X._gd._fullLayout._meta;return G&&(Y=M.templateString(Y,G)),F.call(k.font,X.font).text(Y).call(c.convertToTspans,X._gd),F}function w(N,j){var X=M.ensureSingle(N,"g",s.labelsClass),F=j._dims,Y=X.selectAll("g."+s.labelGroupClass).data(F.labelSteps);Y.enter().append("g").classed(s.labelGroupClass,!0),Y.exit().remove(),Y.each(function(G){var H=D.select(this);H.call(m,G,j),k.setTranslate(H,S(j,G.fraction),s.tickOffset+j.ticklen+j.font.size*o+s.labelOffset+F.currentValueTotalHeight)})}function x(N,j,X,F,Y){var G=Math.round(F*(X._stepCount-1)),H=X._visibleSteps[G]._index;H!==X.active&&b(N,j,X,H,!0,Y)}function b(N,j,X,F,Y,G){var H=X.active;X.active=F,i(N.layout,s.name,X).applyUpdate("active",F);var W=X.steps[X.active];j.call(I,X,G),j.call(T,X),N.emit("plotly_sliderchange",{slider:X,step:X.steps[X.active],interaction:Y,previousActive:H}),W&&W.method&&Y&&(j._nextMethod?(j._nextMethod.step=W,j._nextMethod.doCallback=Y,j._nextMethod.doTransition=G):(j._nextMethod={step:W,doCallback:Y,doTransition:G},j._nextMethodRaf=window.requestAnimationFrame(function(){var Z=j._nextMethod.step;Z.method&&(Z.execute&&E.executeAPICommand(N,Z.method,Z.args),j._nextMethod=null,j._nextMethodRaf=null)})))}function A(N,j,X){if(!j._context.staticPlot){var F=X.node(),Y=D.select(j);N.on("mousedown",H),N.on("touchstart",H)}function G(){return X.data()[0]}function H(){var W=G();j.emit("plotly_sliderstart",{slider:W});var Z=X.select("."+s.gripRectClass);D.event.stopPropagation(),D.event.preventDefault(),Z.call(f.fill,W.activebgcolor);var se=O(W,D.mouse(F)[0]);function re(){var Q=G(),ee=O(Q,D.mouse(F)[0]);x(j,X,Q,ee,!1)}function ne(){var Q=G();Q._dragging=!1,Z.call(f.fill,Q.bgcolor),Y.on("mouseup",null),Y.on("mousemove",null),Y.on("touchend",null),Y.on("touchmove",null),j.emit("plotly_sliderend",{slider:Q,step:Q.steps[Q.active]})}x(j,X,W,se,!0),W._dragging=!0,Y.on("mousemove",re),Y.on("touchmove",re),Y.on("mouseup",ne),Y.on("touchend",ne)}}function g(N,j){var X=N.selectAll("rect."+s.tickRectClass).data(j._visibleSteps),F=j._dims;X.enter().append("rect").classed(s.tickRectClass,!0),X.exit().remove(),X.attr({width:j.tickwidth+"px","shape-rendering":"crispEdges"}),X.each(function(Y,G){var H=G%F.labelStride==0,W=D.select(this);W.attr({height:H?j.ticklen:j.minorticklen}).call(f.fill,j.tickcolor),k.setTranslate(W,S(j,G/(j._stepCount-1))-.5*j.tickwidth,(H?s.tickOffset:s.minorTickOffset)+F.currentValueTotalHeight)})}function I(N,j,X){for(var F=N.select("rect."+s.gripRectClass),Y=0,G=0;G<j._stepCount;G++)if(j._visibleSteps[G]._index===j.active){Y=G;break}var H=S(j,Y/(j._stepCount-1));if(!j._invokingCommand){var W=F;X&&j.transition.duration>0&&(W=W.transition().duration(j.transition.duration).ease(j.transition.easing)),W.attr("transform",y(H-.5*s.gripWidth,j._dims.currentValueTotalHeight))}}function S(N,j){var X=N._dims;return X.inputAreaStart+s.stepInset+(X.inputAreaLength-2*s.stepInset)*Math.min(1,Math.max(0,j))}function O(N,j){var X=N._dims;return Math.min(1,Math.max(0,(j-s.stepInset-X.inputAreaStart)/(X.inputAreaLength-2*s.stepInset-2*X.inputAreaStart)))}function R(N,j,X){var F=X._dims,Y=M.ensureSingle(N,"rect",s.railTouchRectClass,function(G){G.call(A,j,N,X).style("pointer-events","all")});Y.attr({width:F.inputAreaLength,height:Math.max(F.inputAreaWidth,s.tickOffset+X.ticklen+F.labelHeight)}).call(f.fill,X.bgcolor).attr("opacity",0),k.setTranslate(Y,0,F.currentValueTotalHeight)}function L(N,j){var X=j._dims,F=X.inputAreaLength-2*s.railInset,Y=M.ensureSingle(N,"rect",s.railRectClass);Y.attr({width:F,height:s.railWidth,rx:s.railRadius,ry:s.railRadius,"shape-rendering":"crispEdges"}).call(f.stroke,j.bordercolor).call(f.fill,j.bgcolor).style("stroke-width",j.borderwidth+"px"),k.setTranslate(Y,s.railInset,.5*(X.inputAreaWidth-s.railWidth)+X.currentValueTotalHeight)}ae.exports=function(N){var j=N._context.staticPlot,X=N._fullLayout,F=function(se,re){for(var ne=se[s.name],Q=[],ee=0;ee<ne.length;ee++){var oe=ne[ee];oe.visible&&(oe._gd=re,Q.push(oe))}return Q}(X,N),Y=X._infolayer.selectAll("g."+s.containerClassName).data(F.length>0?[0]:[]);function G(se){se._commandObserver&&(se._commandObserver.remove(),delete se._commandObserver),E.autoMargin(N,h(se))}if(Y.enter().append("g").classed(s.containerClassName,!0).style("cursor",j?null:"ew-resize"),Y.exit().each(function(){D.select(this).selectAll("g."+s.groupClassName).each(G)}).remove(),0!==F.length){var H=Y.selectAll("g."+s.groupClassName).data(F,v);H.enter().append("g").classed(s.groupClassName,!0),H.exit().each(G).remove();for(var W=0;W<F.length;W++)p(N,F[W]);H.each(function(se){var re=D.select(this);(function(ne){var Q=ne._dims;Q.labelSteps=[];for(var ee=ne._stepCount,oe=0;oe<ee;oe+=Q.labelStride)Q.labelSteps.push({fraction:oe/(ee-1),step:ne._visibleSteps[oe]})})(se),E.manageCommandObserver(N,se,se._visibleSteps,function(ne){var Q=re.data()[0];Q.active!==ne.index&&(Q._dragging||b(N,re,Q,ne.index,!1,!0))}),function(ne,Q,ee){(ee.steps[ee.active]||{}).visible||(ee.active=ee._visibleSteps[0]._index),Q.call(T,ee).call(L,ee).call(w,ee).call(g,ee).call(R,ne,ee).call(_,ne,ee);var oe=ee._dims;k.setTranslate(Q,oe.lx+ee.pad.l,oe.ly+ee.pad.t),Q.call(I,ee,!1),Q.call(T,ee)}(N,D.select(this),se)})}}},23243:function(ae,B,r){"use strict";var D=r(98292);ae.exports={moduleType:"component",name:D.name,layoutAttributes:r(75067),supplyLayoutDefaults:r(12343),draw:r(44504)}},92998:function(ae,B,r){"use strict";var D=r(39898),E=r(92770),f=r(74875),k=r(73972),M=r(71828),y=M.strTranslate,c=r(91424),i=r(7901),s=r(63893),a=r(37822),o=r(18783).OPPOSITE_SIDE,l=/ [XY][0-9]* /;ae.exports={draw:function(u,h,v){var p,T=v.propContainer,_=v.propName,m=v.placeholder,w=v.traceIndex,x=v.avoid||{},b=v.attributes,A=v.transform,g=v.containerGroup,I=u._fullLayout,S=1,O=!1,R=T.title,L=(R&&R.text?R.text:"").trim(),N=R&&R.font?R.font:{},j=N.family,X=N.size,F=N.color;"title.text"===_?p="titleText":-1!==_.indexOf("axis")?p="axisTitleText":_.indexOf(!0)&&(p="colorbarTitleText");var Y=u._context.edits[p];""===L?S=0:L.replace(l," % ")===m.replace(l," % ")&&(S=.2,O=!0,Y||(L="")),v._meta?L=M.templateString(L,v._meta):I._meta&&(L=M.templateString(L,I._meta));var G,H=L||Y;g||(g=M.ensureSingle(I._infolayer,"g","g-"+h),G=I._hColorbarMoveTitle);var W=g.selectAll("text").data(H?[0]:[]);if(W.enter().append("text"),W.text(L).attr("class",h),W.exit().remove(),!H)return g;function Z(ne){M.syncOrAsync([se,re],ne)}function se(ne){var Q;return!A&&G&&(A={}),A?(Q="",A.rotate&&(Q+="rotate("+[A.rotate,b.x,b.y]+")"),(A.offset||G)&&(Q+=y(0,(A.offset||0)-(G||0)))):Q=null,ne.attr("transform",Q),ne.style({"font-family":j,"font-size":D.round(X,2)+"px",fill:i.rgb(F),opacity:S*i.opacity(F),"font-weight":f.fontWeight}).attr(b).call(s.convertToTspans,u),f.previousPromises(u)}function re(ne){var Q=D.select(ne.node().parentNode);if(x&&x.selection&&x.side&&L){Q.attr("transform",null);var ee=o[x.side],oe="left"===x.side||"top"===x.side?-1:1,ce=E(x.pad)?x.pad:2,fe=c.bBox(Q.node()),le={t:0,b:0,l:0,r:0},pe=u._fullLayout._reservedMargin;for(var Me in pe)for(var Ae in pe[Me])le[Ae]=Math.max(le[Ae],pe[Me][Ae]);var we=x.maxShift||oe*({left:le.l,top:le.t,right:I.width-le.r,bottom:I.height-le.b}[x.side]-fe[x.side]),ze=0;if(we<0)ze=we;else{var Se=x.offsetLeft||0,Ce=x.offsetTop||0;fe.left-=Se,fe.right-=Se,fe.top-=Ce,fe.bottom-=Ce,x.selection.each(function(){var he=c.bBox(this);M.bBoxIntersect(fe,he,ce)&&(ze=Math.max(ze,oe*(he[x.side]-fe[ee])+ce))}),ze=Math.min(we,ze),T._titleScoot=Math.abs(ze)}if(ze>0||we<0){var ge={left:[-ze,0],right:[ze,0],top:[0,-ze],bottom:[0,ze]}[x.side];Q.attr("transform",y(ge[0],ge[1]))}}}return W.call(Z),Y&&(L?W.on(".opacity",null):(S=0,O=!0,W.text(m).on("mouseover.opacity",function(){D.select(this).transition().duration(a.SHOW_PLACEHOLDER).style("opacity",1)}).on("mouseout.opacity",function(){D.select(this).transition().duration(a.HIDE_PLACEHOLDER).style("opacity",0)})),W.call(s.makeEditable,{gd:u}).on("edit",function(ne){void 0!==w?k.call("_guiRestyle",u,_,ne,w):k.call("_guiRelayout",u,_,ne)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call(Z)}).on("input",function(ne){this.text(ne||" ").call(s.positionText,b.x,b.y)})),W.classed("js-placeholder",O),g}}},7163:function(ae,B,r){"use strict";var D=r(41940),E=r(22399),f=r(1426).extendFlat,k=r(30962).overrideAll,M=r(35025),y=r(44467).templatedArray,c=y("button",{visible:{valType:"boolean"},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},args2:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string",dflt:""},execute:{valType:"boolean",dflt:!0}});ae.exports=k(y("updatemenu",{_arrayAttrRegexps:[/^updatemenus\[(0|[1-9][0-9]+)\]\.buttons/],visible:{valType:"boolean"},type:{valType:"enumerated",values:["dropdown","buttons"],dflt:"dropdown"},direction:{valType:"enumerated",values:["left","right","up","down"],dflt:"down"},active:{valType:"integer",min:-1,dflt:0},showactive:{valType:"boolean",dflt:!0},buttons:c,x:{valType:"number",min:-2,max:3,dflt:-.05},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"right"},y:{valType:"number",min:-2,max:3,dflt:1},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},pad:f(M({editType:"arraydraw"}),{}),font:D({}),bgcolor:{valType:"color"},bordercolor:{valType:"color",dflt:E.borderLine},borderwidth:{valType:"number",min:0,dflt:1,editType:"arraydraw"}}),"arraydraw","from-root")},75909:function(ae){"use strict";ae.exports={name:"updatemenus",containerClassName:"updatemenu-container",headerGroupClassName:"updatemenu-header-group",headerClassName:"updatemenu-header",headerArrowClassName:"updatemenu-header-arrow",dropdownButtonGroupClassName:"updatemenu-dropdown-button-group",dropdownButtonClassName:"updatemenu-dropdown-button",buttonClassName:"updatemenu-button",itemRectClassName:"updatemenu-item-rect",itemTextClassName:"updatemenu-item-text",menuIndexAttrName:"updatemenu-active-index",autoMarginIdRoot:"updatemenu-",blankHeaderOpts:{label:"  "},minWidth:30,minHeight:30,textPadX:24,arrowPadX:16,rx:2,ry:2,textOffsetX:12,textOffsetY:3,arrowOffsetX:4,gapButtonHeader:5,gapButton:2,activeColor:"#F4FAFF",hoverColor:"#F4FAFF",arrowSymbol:{left:"\u25c4",right:"\u25ba",up:"\u25b2",down:"\u25bc"}}},64897:function(ae,B,r){"use strict";var D=r(71828),E=r(85501),f=r(7163),k=r(75909).name,M=f.buttons;function y(i,s,a){function o(l,u){return D.coerce(i,s,f,l,u)}o("visible",E(i,s,{name:"buttons",handleItemDefaults:c}).length>0)&&(o("active"),o("direction"),o("type"),o("showactive"),o("x"),o("y"),D.noneOrAll(i,s,["x","y"]),o("xanchor"),o("yanchor"),o("pad.t"),o("pad.r"),o("pad.b"),o("pad.l"),D.coerceFont(o,"font",a.font),o("bgcolor",a.paper_bgcolor),o("bordercolor"),o("borderwidth"))}function c(i,s){function a(o,l){return D.coerce(i,s,M,o,l)}a("visible","skip"===i.method||Array.isArray(i.args))&&(a("method"),a("args"),a("args2"),a("label"),a("execute"))}ae.exports=function(i,s){E(i,s,{name:k,handleItemDefaults:y})}},13689:function(ae,B,r){"use strict";var D=r(39898),E=r(74875),f=r(7901),k=r(91424),M=r(71828),y=r(63893),c=r(44467).arrayEditor,i=r(18783).LINE_SPACING,s=r(75909),a=r(25849);function o(S){return S._index}function l(S,O){return+S.attr(s.menuIndexAttrName)===O._index}function u(S,O,R,L,N,j,X,F){O.active=X,c(S.layout,s.name,O).applyUpdate("active",X),"buttons"===O.type?v(S,L,null,null,O):"dropdown"===O.type&&(N.attr(s.menuIndexAttrName,"-1"),h(S,L,N,j,O),F||v(S,L,N,j,O))}function h(S,O,R,L,N){var j=M.ensureSingle(O,"g",s.headerClassName,function(W){W.style("pointer-events","all")}),X=N._dims,G={y:N.pad.t,yPad:0,x:N.pad.l,xPad:0,index:0},H={width:X.headerWidth,height:X.headerHeight};j.call(p,N,N.buttons[N.active]||s.blankHeaderOpts,S).call(g,N,G,H),M.ensureSingle(O,"text",s.headerArrowClassName,function(W){W.attr("text-anchor","end").call(k.font,N.font).text(s.arrowSymbol[N.direction])}).attr({x:X.headerWidth-s.arrowOffsetX+N.pad.l,y:X.headerHeight/2+s.textOffsetY+N.pad.t}),j.on("click",function(){R.call(I,String(l(R,N)?-1:N._index)),v(S,O,R,L,N)}),j.on("mouseover",function(){j.call(w)}),j.on("mouseout",function(){j.call(x,N)}),k.setTranslate(O,X.lx,X.ly)}function v(S,O,R,L,N){R||(R=O).attr("pointer-events","all");var j=-1==+R.attr(s.menuIndexAttrName)&&"buttons"!==N.type?[]:N.buttons,X="dropdown"===N.type?s.dropdownButtonClassName:s.buttonClassName,F=R.selectAll("g."+X).data(M.filterVisible(j)),Y=F.enter().append("g").classed(X,!0),G=F.exit();"dropdown"===N.type?(Y.attr("opacity","0").transition().attr("opacity","1"),G.transition().attr("opacity","0").remove()):G.remove();var H=0,W=0,Z=N._dims,se=-1!==["up","down"].indexOf(N.direction);"dropdown"===N.type&&(se?W=Z.headerHeight+s.gapButtonHeader:H=Z.headerWidth+s.gapButtonHeader),"dropdown"===N.type&&"up"===N.direction&&(W=-s.gapButtonHeader+s.gapButton-Z.openHeight),"dropdown"===N.type&&"left"===N.direction&&(H=-s.gapButtonHeader+s.gapButton-Z.openWidth);var Q,ee,oe,re={x:Z.lx+H+N.pad.l,y:Z.ly+W+N.pad.t,yPad:s.gapButton,xPad:s.gapButton,index:0},ne={l:re.x+N.borderwidth,t:re.y+N.borderwidth};F.each(function(Q,ee){var oe=D.select(this);oe.call(p,N,Q,S).call(g,N,re),oe.on("click",function(){D.event.defaultPrevented||(Q.execute&&(Q.args2&&N.active===ee?(u(S,N,0,O,R,L,-1),E.executeAPICommand(S,Q.method,Q.args2)):(u(S,N,0,O,R,L,ee),E.executeAPICommand(S,Q.method,Q.args))),S.emit("plotly_buttonclicked",{menu:N,button:Q,active:N.active}))}),oe.on("mouseover",function(){oe.call(w)}),oe.on("mouseout",function(){oe.call(x,N),F.call(m,N)})}),F.call(m,N),se?(ne.w=Math.max(Z.openWidth,Z.headerWidth),ne.h=re.y-ne.t):(ne.w=re.x-ne.l,ne.h=Math.max(Z.openHeight,Z.headerHeight)),ne.direction=N.direction,L&&(F.size()?function(Q,ee,oe,ce,fe,le){var pe,Me,Ae,be=fe.direction,we=fe._dims,ze=fe.active;if("up"===be||"down"===be)for(Me=0,Ae=0;Ae<ze;Ae++)Me+=we.heights[Ae]+s.gapButton;else for(pe=0,Ae=0;Ae<ze;Ae++)pe+=we.widths[Ae]+s.gapButton;ce.enable(le,pe,Me),ce.hbar&&ce.hbar.attr("opacity","0").transition().attr("opacity","1"),ce.vbar&&ce.vbar.attr("opacity","0").transition().attr("opacity","1")}(0,0,0,L,N,ne):(oe=!!(Q=L).vbar,(ee=!!Q.hbar)&&Q.hbar.transition().attr("opacity","0").each("end",function(){ee=!1,oe||Q.disable()}),oe&&Q.vbar.transition().attr("opacity","0").each("end",function(){oe=!1,ee||Q.disable()})))}function p(S,O,R,L){S.call(T,O).call(_,O,R,L)}function T(S,O){M.ensureSingle(S,"rect",s.itemRectClassName,function(R){R.attr({rx:s.rx,ry:s.ry,"shape-rendering":"crispEdges"})}).call(f.stroke,O.bordercolor).call(f.fill,O.bgcolor).style("stroke-width",O.borderwidth+"px")}function _(S,O,R,L){var N=M.ensureSingle(S,"text",s.itemTextClassName,function(F){F.attr({"text-anchor":"start","data-notex":1})}),j=R.label,X=L._fullLayout._meta;X&&(j=M.templateString(j,X)),N.call(k.font,O.font).text(j).call(y.convertToTspans,L)}function m(S,O){var R=O.active;S.each(function(L,N){var j=D.select(this);N===R&&O.showactive&&j.select("rect."+s.itemRectClassName).call(f.fill,s.activeColor)})}function w(S){S.select("rect."+s.itemRectClassName).call(f.fill,s.hoverColor)}function x(S,O){S.select("rect."+s.itemRectClassName).call(f.fill,O.bgcolor)}function b(S,O){var R=O._dims={width1:0,height1:0,heights:[],widths:[],totalWidth:0,totalHeight:0,openWidth:0,openHeight:0,lx:0,ly:0},L=k.tester.selectAll("g."+s.dropdownButtonClassName).data(M.filterVisible(O.buttons));L.enter().append("g").classed(s.dropdownButtonClassName,!0);var N=-1!==["up","down"].indexOf(O.direction);L.each(function(H,W){var Z=D.select(this);Z.call(p,O,H,S);var se=Z.select("."+s.itemTextClassName),re=se.node()&&k.bBox(se.node()).width,ne=Math.max(re+s.textPadX,s.minWidth),Q=O.font.size*i,ee=y.lineCount(se),oe=Math.max(Q*ee,s.minHeight)+s.textOffsetY;oe=Math.ceil(oe),ne=Math.ceil(ne),R.widths[W]=ne,R.heights[W]=oe,R.height1=Math.max(R.height1,oe),R.width1=Math.max(R.width1,ne),N?(R.totalWidth=Math.max(R.totalWidth,ne),R.openWidth=R.totalWidth,R.totalHeight+=oe+s.gapButton,R.openHeight+=oe+s.gapButton):(R.totalWidth+=ne+s.gapButton,R.openWidth+=ne+s.gapButton,R.totalHeight=Math.max(R.totalHeight,oe),R.openHeight=R.totalHeight)}),N?R.totalHeight-=s.gapButton:R.totalWidth-=s.gapButton,R.headerWidth=R.width1+s.arrowPadX,R.headerHeight=R.height1,"dropdown"===O.type&&(N?(R.width1+=s.arrowPadX,R.totalHeight=R.height1):R.totalWidth=R.width1,R.totalWidth+=s.arrowPadX),L.remove();var j=R.totalWidth+O.pad.l+O.pad.r,X=R.totalHeight+O.pad.t+O.pad.b,F=S._fullLayout._size;R.lx=F.l+F.w*O.x,R.ly=F.t+F.h*(1-O.y);var Y="left";M.isRightAnchor(O)&&(R.lx-=j,Y="right"),M.isCenterAnchor(O)&&(R.lx-=j/2,Y="center");var G="top";M.isBottomAnchor(O)&&(R.ly-=X,G="bottom"),M.isMiddleAnchor(O)&&(R.ly-=X/2,G="middle"),R.totalWidth=Math.ceil(R.totalWidth),R.totalHeight=Math.ceil(R.totalHeight),R.lx=Math.round(R.lx),R.ly=Math.round(R.ly),E.autoMargin(S,A(O),{x:O.x,y:O.y,l:j*({right:1,center:.5}[Y]||0),r:j*({left:1,center:.5}[Y]||0),b:X*({top:1,middle:.5}[G]||0),t:X*({bottom:1,middle:.5}[G]||0)})}function A(S){return s.autoMarginIdRoot+S._index}function g(S,O,R,L){L=L||{};var N=S.select("."+s.itemRectClassName),j=S.select("."+s.itemTextClassName),X=O.borderwidth,F=R.index,Y=O._dims;k.setTranslate(S,X+R.x,X+R.y);var G=-1!==["up","down"].indexOf(O.direction),H=L.height||(G?Y.heights[F]:Y.height1);N.attr({x:0,y:0,width:L.width||(G?Y.width1:Y.widths[F]),height:H});var W=O.font.size*i,Z=(y.lineCount(j)-1)*W/2;y.positionText(j,s.textOffsetX,H/2-Z+s.textOffsetY),G?R.y+=Y.heights[F]+R.yPad:R.x+=Y.widths[F]+R.xPad,R.index++}function I(S,O){S.attr(s.menuIndexAttrName,O||"-1").selectAll("g."+s.dropdownButtonClassName).remove()}ae.exports=function(S){var O=S._fullLayout,R=M.filterVisible(O[s.name]);function L(W){E.autoMargin(S,A(W))}var N=O._menulayer.selectAll("g."+s.containerClassName).data(R.length>0?[0]:[]);if(N.enter().append("g").classed(s.containerClassName,!0).style("cursor","pointer"),N.exit().each(function(){D.select(this).selectAll("g."+s.headerGroupClassName).each(L)}).remove(),0!==R.length){var j=N.selectAll("g."+s.headerGroupClassName).data(R,o);j.enter().append("g").classed(s.headerGroupClassName,!0);for(var X=M.ensureSingle(N,"g",s.dropdownButtonGroupClassName,function(W){W.style("pointer-events","all")}),F=0;F<R.length;F++)b(S,R[F]);var H=new a(S,X,"updatemenus"+O._uid);j.enter().size()&&(X.node().parentNode.appendChild(X.node()),X.call(I)),j.exit().each(function(W){X.call(I),L(W)}).remove(),j.each(function(W){var Z=D.select(this),se="dropdown"===W.type?X:null;E.manageCommandObserver(S,W,W.buttons,function(re){u(S,W,0,Z,se,H,re.index,!0)}),"dropdown"===W.type?(h(S,Z,X,H,W),l(X,W)&&v(S,Z,X,H,W)):v(S,Z,null,null,W)})}}},20763:function(ae,B,r){"use strict";var D=r(75909);ae.exports={moduleType:"component",name:D.name,layoutAttributes:r(7163),supplyLayoutDefaults:r(64897),draw:r(13689)}},25849:function(ae,B,r){"use strict";ae.exports=M;var D=r(39898),E=r(7901),f=r(91424),k=r(71828);function M(y,c,i){this.gd=y,this.container=c,this.id=i,this.position=null,this.translateX=null,this.translateY=null,this.hbar=null,this.vbar=null,this.bg=this.container.selectAll("rect.scrollbox-bg").data([0]),this.bg.exit().on(".drag",null).on("wheel",null).remove(),this.bg.enter().append("rect").classed("scrollbox-bg",!0).style("pointer-events","all").attr({opacity:0,x:0,y:0,width:0,height:0})}M.barWidth=2,M.barLength=20,M.barRadius=2,M.barPad=1,M.barColor="#808BA4",M.prototype.enable=function(y,c,i){var s=this.gd._fullLayout,a=s.width,o=s.height;this.position=y;var l,u,h,v,p=this.position.l,T=this.position.w,_=this.position.t,m=this.position.h,w=this.position.direction,x="down"===w,b="left"===w,A="up"===w,g=T,I=m;x||b||"right"===w||A||(this.position.direction="down",x=!0),x||A?(u=(l=p)+g,x?(h=_,I=(v=Math.min(h+I,o))-h):I=(v=_+I)-(h=Math.max(v-I,0))):(v=(h=_)+I,b?g=(u=p+g)-(l=Math.max(u-g,0)):(l=p,g=(u=Math.min(l+g,a))-l)),this._box={l,t:h,w:g,h:I};var S=T>g,O=M.barLength+2*M.barPad,R=M.barWidth+2*M.barPad,L=p,N=_+m;N+R>o&&(N=o-R);var j=this.container.selectAll("rect.scrollbar-horizontal").data(S?[0]:[]);j.exit().on(".drag",null).remove(),j.enter().append("rect").classed("scrollbar-horizontal",!0).call(E.fill,M.barColor),S?(this.hbar=j.attr({rx:M.barRadius,ry:M.barRadius,x:L,y:N,width:O,height:R}),this._hbarXMin=L+O/2,this._hbarTranslateMax=g-O):(delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax);var X=m>I,F=M.barWidth+2*M.barPad,Y=M.barLength+2*M.barPad,G=p+T,H=_;G+F>a&&(G=a-F);var W=this.container.selectAll("rect.scrollbar-vertical").data(X?[0]:[]);W.exit().on(".drag",null).remove(),W.enter().append("rect").classed("scrollbar-vertical",!0).call(E.fill,M.barColor),X?(this.vbar=W.attr({rx:M.barRadius,ry:M.barRadius,x:G,y:H,width:F,height:Y}),this._vbarYMin=H+Y/2,this._vbarTranslateMax=I-Y):(delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax);var Z=this.id,se=l-.5,re=X?u+F+.5:u+.5,ne=h-.5,Q=S?v+R+.5:v+.5,ee=s._topdefs.selectAll("#"+Z).data(S||X?[0]:[]);if(ee.exit().remove(),ee.enter().append("clipPath").attr("id",Z).append("rect"),S||X?(this._clipRect=ee.select("rect").attr({x:Math.floor(se),y:Math.floor(ne),width:Math.ceil(re)-Math.floor(se),height:Math.ceil(Q)-Math.floor(ne)}),this.container.call(f.setClipUrl,Z,this.gd),this.bg.attr({x:p,y:_,width:T,height:m})):(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(f.setClipUrl,null),delete this._clipRect),S||X){var oe=D.behavior.drag().on("dragstart",function(){D.event.sourceEvent.preventDefault()}).on("drag",this._onBoxDrag.bind(this));this.container.on("wheel",null).on("wheel",this._onBoxWheel.bind(this)).on(".drag",null).call(oe);var ce=D.behavior.drag().on("dragstart",function(){D.event.sourceEvent.preventDefault(),D.event.sourceEvent.stopPropagation()}).on("drag",this._onBarDrag.bind(this));S&&this.hbar.on(".drag",null).call(ce),X&&this.vbar.on(".drag",null).call(ce)}this.setTranslate(c,i)},M.prototype.disable=function(){(this.hbar||this.vbar)&&(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(f.setClipUrl,null),delete this._clipRect),this.hbar&&(this.hbar.on(".drag",null),this.hbar.remove(),delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax),this.vbar&&(this.vbar.on(".drag",null),this.vbar.remove(),delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax)},M.prototype._onBoxDrag=function(){var y=this.translateX,c=this.translateY;this.hbar&&(y-=D.event.dx),this.vbar&&(c-=D.event.dy),this.setTranslate(y,c)},M.prototype._onBoxWheel=function(){var y=this.translateX,c=this.translateY;this.hbar&&(y+=D.event.deltaY),this.vbar&&(c+=D.event.deltaY),this.setTranslate(y,c)},M.prototype._onBarDrag=function(){var y=this.translateX,c=this.translateY;if(this.hbar){var i=y+this._hbarXMin,s=i+this._hbarTranslateMax;y=(k.constrain(D.event.x,i,s)-i)/(s-i)*(this.position.w-this._box.w)}if(this.vbar){var a=c+this._vbarYMin,o=a+this._vbarTranslateMax;c=(k.constrain(D.event.y,a,o)-a)/(o-a)*(this.position.h-this._box.h)}this.setTranslate(y,c)},M.prototype.setTranslate=function(y,c){var i=this.position.w-this._box.w,s=this.position.h-this._box.h;y=k.constrain(y||0,0,i),c=k.constrain(c||0,0,s),this.translateX=y,this.translateY=c,this.container.call(f.setTranslate,this._box.l-this.position.l-y,this._box.t-this.position.t-c),this._clipRect&&this._clipRect.attr({x:Math.floor(this.position.l+y-.5),y:Math.floor(this.position.t+c-.5)}),this.hbar&&this.hbar.call(f.setTranslate,y+y/i*this._hbarTranslateMax,c),this.vbar&&this.vbar.call(f.setTranslate,y,c+c/s*this._vbarTranslateMax)}},18783:function(ae){"use strict";ae.exports={FROM_BL:{left:0,center:.5,right:1,bottom:0,middle:.5,top:1},FROM_TL:{left:0,center:.5,right:1,bottom:1,middle:.5,top:0},FROM_BR:{left:1,center:.5,right:0,bottom:0,middle:.5,top:1},LINE_SPACING:1.3,CAP_SHIFT:.7,MID_SHIFT:.35,OPPOSITE_SIDE:{left:"right",right:"left",top:"bottom",bottom:"top"}}},24695:function(ae){"use strict";ae.exports={axisRefDescription:function(B,r,D){return["If set to a",B,"axis id (e.g. *"+B+"* or","*"+B+"2*), the `"+B+"` position refers to a",B,"coordinate. If set to *paper*, the `"+B+"`","position refers to the distance from the",r,"of the plotting","area in normalized coordinates where *0* (*1*) corresponds to the",r,"("+D+"). If set to a",B,"axis ID followed by","*domain* (separated by a space), the position behaves like for","*paper*, but refers to the distance in fractions of the domain","length from the",r,"of the domain of that axis: e.g.,","*"+B+"2 domain* refers to the domain of the second",B," axis and a",B,"position of 0.5 refers to the","point between the",r,"and the",D,"of the domain of the","second",B,"axis."].join(" ")}}},22372:function(ae){"use strict";ae.exports={INCREASING:{COLOR:"#3D9970",SYMBOL:"\u25b2"},DECREASING:{COLOR:"#FF4136",SYMBOL:"\u25bc"}}},31562:function(ae){"use strict";ae.exports={FORMAT_LINK:"https://github.com/d3/d3-format/tree/v1.4.5#d3-format",DATE_FORMAT_LINK:"https://github.com/d3/d3-time-format/tree/v2.2.3#locale_format"}},74808:function(ae){"use strict";ae.exports={COMPARISON_OPS:["=","!=","<",">=",">","<="],COMPARISON_OPS2:["=","<",">=",">","<="],INTERVAL_OPS:["[]","()","[)","(]","][",")(","](",")["],SET_OPS:["{}","}{"],CONSTRAINT_REDUCTION:{"=":"=","<":"<","<=":"<",">":">",">=":">","[]":"[]","()":"[]","[)":"[]","(]":"[]","][":"][",")(":"][","](":"][",")[":"]["}}},29659:function(ae){"use strict";ae.exports={solid:[[],0],dot:[[.5,1],200],dash:[[.5,1],50],longdash:[[.5,1],10],dashdot:[[.5,.625,.875,1],50],longdashdot:[[.5,.7,.8,1],10]}},87381:function(ae){"use strict";ae.exports={circle:"\u25cf","circle-open":"\u25cb",square:"\u25a0","square-open":"\u25a1",diamond:"\u25c6","diamond-open":"\u25c7",cross:"+",x:"\u274c"}},37822:function(ae){"use strict";ae.exports={SHOW_PLACEHOLDER:100,HIDE_PLACEHOLDER:1e3,DESELECTDIM:.2}},50606:function(ae){"use strict";ae.exports={BADNUM:void 0,FP_SAFE:1e-4*Number.MAX_VALUE,ONEMAXYEAR:316224e5,ONEAVGYEAR:315576e5,ONEMINYEAR:31536e6,ONEMAXQUARTER:79488e5,ONEAVGQUARTER:78894e5,ONEMINQUARTER:76896e5,ONEMAXMONTH:26784e5,ONEAVGMONTH:26298e5,ONEMINMONTH:24192e5,ONEWEEK:6048e5,ONEDAY:864e5,ONEHOUR:36e5,ONEMIN:6e4,ONESEC:1e3,EPOCHJD:2440587.5,ALMOST_EQUAL:.999999,LOG_CLIP:10,MINUS_SIGN:"\u2212"}},32396:function(ae,B){"use strict";B.CSS_DECLARATIONS=[["image-rendering","optimizeSpeed"],["image-rendering","-moz-crisp-edges"],["image-rendering","-o-crisp-edges"],["image-rendering","-webkit-optimize-contrast"],["image-rendering","optimize-contrast"],["image-rendering","crisp-edges"],["image-rendering","pixelated"]],B.STYLE=B.CSS_DECLARATIONS.map(function(r){return r.join(": ")+"; "}).join("")},77922:function(ae,B){"use strict";B.xmlns="http://www.w3.org/2000/xmlns/",B.svg="http://www.w3.org/2000/svg",B.xlink="http://www.w3.org/1999/xlink",B.svgAttrs={xmlns:B.svg,"xmlns:xlink":B.xlink}},8729:function(ae,B,r){"use strict";B.version=r(11506).version,r(7417),r(98847);for(var D=r(73972),E=B.register=D.register,f=r(10641),k=Object.keys(f),M=0;M<k.length;M++){var y=k[M];"_"!==y.charAt(0)&&(B[y]=f[y]),E({moduleType:"apiMethod",name:y,fn:f[y]})}E(r(67368)),E([r(32745),r(2468),r(47322),r(89853),r(68804),r(20763),r(23243),r(13137),r(97218),r(83312),r(37369),r(21081),r(12311),r(2199),r(30211),r(64168)]),E([r(92177),r(37815)]),window.PlotlyLocales&&Array.isArray(window.PlotlyLocales)&&(E(window.PlotlyLocales),delete window.PlotlyLocales),B.Icons=r(24255);var c=r(30211),i=r(74875);B.Plots={resize:i.resize,graphJson:i.graphJson,sendDataToCloud:i.sendDataToCloud},B.Fx={hover:c.hover,unhover:c.unhover,loneHover:c.loneHover,loneUnhover:c.loneUnhover},B.Snapshot=r(44511),B.PlotSchema=r(86281)},24255:function(ae){"use strict";ae.exports={undo:{width:857.1,height:1e3,path:"m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z",transform:"matrix(1 0 0 -1 0 850)"},home:{width:928.6,height:1e3,path:"m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z",transform:"matrix(1 0 0 -1 0 850)"},"camera-retro":{width:1e3,height:1e3,path:"m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z",transform:"matrix(1 0 0 -1 0 850)"},zoombox:{width:1e3,height:1e3,path:"m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z",transform:"matrix(1 0 0 -1 0 850)"},pan:{width:1e3,height:1e3,path:"m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z",transform:"matrix(1 0 0 -1 0 850)"},zoom_plus:{width:875,height:1e3,path:"m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},zoom_minus:{width:875,height:1e3,path:"m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},autoscale:{width:1e3,height:1e3,path:"m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_basic:{width:1500,height:1e3,path:"m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_compare:{width:1125,height:1e3,path:"m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z",transform:"matrix(1 0 0 -1 0 850)"},plotlylogo:{width:1542,height:1e3,path:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",transform:"matrix(1 0 0 -1 0 850)"},"z-axis":{width:1e3,height:1e3,path:"m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z",transform:"matrix(1 0 0 -1 0 850)"},"3d_rotate":{width:1e3,height:1e3,path:"m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z",transform:"matrix(1 0 0 -1 0 850)"},camera:{width:1e3,height:1e3,path:"m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z",transform:"matrix(1 0 0 -1 0 850)"},movie:{width:1e3,height:1e3,path:"m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z",transform:"matrix(1 0 0 -1 0 850)"},question:{width:857.1,height:1e3,path:"m500 82v107q0 8-5 13t-13 5h-107q-8 0-13-5t-5-13v-107q0-8 5-13t13-5h107q8 0 13 5t5 13z m143 375q0 49-31 91t-77 65-95 23q-136 0-207-119-9-14 4-24l74-55q4-4 10-4 9 0 14 7 30 38 48 51 19 14 48 14 27 0 48-15t21-33q0-21-11-34t-38-25q-35-16-65-48t-29-70v-20q0-8 5-13t13-5h107q8 0 13 5t5 13q0 10 12 27t30 28q18 10 28 16t25 19 25 27 16 34 7 45z m214-107q0-117-57-215t-156-156-215-58-216 58-155 156-58 215 58 215 155 156 216 58 215-58 156-156 57-215z",transform:"matrix(1 0 0 -1 0 850)"},disk:{width:857.1,height:1e3,path:"m214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z",transform:"matrix(1 0 0 -1 0 850)"},drawopenpath:{width:70,height:70,path:"M33.21,85.65a7.31,7.31,0,0,1-2.59-.48c-8.16-3.11-9.27-19.8-9.88-41.3-.1-3.58-.19-6.68-.35-9-.15-2.1-.67-3.48-1.43-3.79-2.13-.88-7.91,2.32-12,5.86L3,32.38c1.87-1.64,11.55-9.66,18.27-6.9,2.13.87,4.75,3.14,5.17,9,.17,2.43.26,5.59.36,9.25a224.17,224.17,0,0,0,1.5,23.4c1.54,10.76,4,12.22,4.48,12.4.84.32,2.79-.46,5.76-3.59L43,80.07C41.53,81.57,37.68,85.64,33.21,85.65ZM74.81,69a11.34,11.34,0,0,0,6.09-6.72L87.26,44.5,74.72,32,56.9,38.35c-2.37.86-5.57,3.42-6.61,6L38.65,72.14l8.42,8.43ZM55,46.27a7.91,7.91,0,0,1,3.64-3.17l14.8-5.3,8,8L76.11,60.6l-.06.19a6.37,6.37,0,0,1-3,3.43L48.25,74.59,44.62,71Zm16.57,7.82A6.9,6.9,0,1,0,64.64,61,6.91,6.91,0,0,0,71.54,54.09Zm-4.05,0a2.85,2.85,0,1,1-2.85-2.85A2.86,2.86,0,0,1,67.49,54.09Zm-4.13,5.22L60.5,56.45,44.26,72.7l2.86,2.86ZM97.83,35.67,84.14,22l-8.57,8.57L89.26,44.24Zm-13.69-8,8,8-2.85,2.85-8-8Z",transform:"matrix(1 0 0 1 -15 -15)"},drawclosedpath:{width:90,height:90,path:"M88.41,21.12a26.56,26.56,0,0,0-36.18,0l-2.07,2-2.07-2a26.57,26.57,0,0,0-36.18,0,23.74,23.74,0,0,0,0,34.8L48,90.12a3.22,3.22,0,0,0,4.42,0l36-34.21a23.73,23.73,0,0,0,0-34.79ZM84,51.24,50.16,83.35,16.35,51.25a17.28,17.28,0,0,1,0-25.47,20,20,0,0,1,27.3,0l4.29,4.07a3.23,3.23,0,0,0,4.44,0l4.29-4.07a20,20,0,0,1,27.3,0,17.27,17.27,0,0,1,0,25.46ZM66.76,47.68h-33v6.91h33ZM53.35,35H46.44V68h6.91Z",transform:"matrix(1 0 0 1 -5 -5)"},lasso:{width:1031,height:1e3,path:"m1018 538c-36 207-290 336-568 286-277-48-473-256-436-463 10-57 36-108 76-151-13-66 11-137 68-183 34-28 75-41 114-42l-55-70 0 0c-2-1-3-2-4-3-10-14-8-34 5-45 14-11 34-8 45 4 1 1 2 3 2 5l0 0 113 140c16 11 31 24 45 40 4 3 6 7 8 11 48-3 100 0 151 9 278 48 473 255 436 462z m-624-379c-80 14-149 48-197 96 42 42 109 47 156 9 33-26 47-66 41-105z m-187-74c-19 16-33 37-39 60 50-32 109-55 174-68-42-25-95-24-135 8z m360 75c-34-7-69-9-102-8 8 62-16 128-68 170-73 59-175 54-244-5-9 20-16 40-20 61-28 159 121 317 333 354s407-60 434-217c28-159-121-318-333-355z",transform:"matrix(1 0 0 -1 0 850)"},selectbox:{width:1e3,height:1e3,path:"m0 850l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-285l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z",transform:"matrix(1 0 0 -1 0 850)"},drawline:{width:70,height:70,path:"M60.64,62.3a11.29,11.29,0,0,0,6.09-6.72l6.35-17.72L60.54,25.31l-17.82,6.4c-2.36.86-5.57,3.41-6.6,6L24.48,65.5l8.42,8.42ZM40.79,39.63a7.89,7.89,0,0,1,3.65-3.17l14.79-5.31,8,8L61.94,54l-.06.19a6.44,6.44,0,0,1-3,3.43L34.07,68l-3.62-3.63Zm16.57,7.81a6.9,6.9,0,1,0-6.89,6.9A6.9,6.9,0,0,0,57.36,47.44Zm-4,0a2.86,2.86,0,1,1-2.85-2.85A2.86,2.86,0,0,1,53.32,47.44Zm-4.13,5.22L46.33,49.8,30.08,66.05l2.86,2.86ZM83.65,29,70,15.34,61.4,23.9,75.09,37.59ZM70,21.06l8,8-2.84,2.85-8-8ZM87,80.49H10.67V87H87Z",transform:"matrix(1 0 0 1 -15 -15)"},drawrect:{width:80,height:80,path:"M78,22V79H21V22H78m9-9H12V88H87V13ZM68,46.22H31V54H68ZM53,32H45.22V69H53Z",transform:"matrix(1 0 0 1 -10 -10)"},drawcircle:{width:80,height:80,path:"M50,84.72C26.84,84.72,8,69.28,8,50.3S26.84,15.87,50,15.87,92,31.31,92,50.3,73.16,84.72,50,84.72Zm0-60.59c-18.6,0-33.74,11.74-33.74,26.17S31.4,76.46,50,76.46,83.74,64.72,83.74,50.3,68.6,24.13,50,24.13Zm17.15,22h-34v7.11h34Zm-13.8-13H46.24v34h7.11Z",transform:"matrix(1 0 0 1 -10 -10)"},eraseshape:{width:80,height:80,path:"M82.77,78H31.85L6,49.57,31.85,21.14H82.77a8.72,8.72,0,0,1,8.65,8.77V69.24A8.72,8.72,0,0,1,82.77,78ZM35.46,69.84H82.77a.57.57,0,0,0,.49-.6V29.91a.57.57,0,0,0-.49-.61H35.46L17,49.57Zm32.68-34.7-24,24,5,5,24-24Zm-19,.53-5,5,24,24,5-5Z",transform:"matrix(1 0 0 1 -10 -10)"},spikeline:{width:1e3,height:1e3,path:"M512 409c0-57-46-104-103-104-57 0-104 47-104 104 0 57 47 103 104 103 57 0 103-46 103-103z m-327-39l92 0 0 92-92 0z m-185 0l92 0 0 92-92 0z m370-186l92 0 0 93-92 0z m0-184l92 0 0 92-92 0z",transform:"matrix(1.5 0 0 -1.5 0 850)"},pencil:{width:1792,height:1792,path:"M491 1536l91-91-235-235-91 91v107h128v128h107zm523-928q0-22-22-22-10 0-17 7l-542 542q-7 7-7 17 0 22 22 22 10 0 17-7l542-542q7-7 7-17zm-54-192l416 416-832 832h-416v-416zm683 96q0 53-37 90l-166 166-416-416 166-165q36-38 90-38 53 0 91 38l235 234q37 39 37 91z",transform:"matrix(1 0 0 1 0 1)"},newplotlylogo:{name:"newplotlylogo",svg:["<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 132 132'>","<defs>"," <style>","  .cls-0{fill:#000;}","  .cls-1{fill:#FFF;}","  .cls-2{fill:#F26;}","  .cls-3{fill:#D69;}","  .cls-4{fill:#BAC;}","  .cls-5{fill:#9EF;}"," </style>","</defs>"," <title>plotly-logomark</title>"," <g id='symbol'>","  <rect class='cls-0' x='0' y='0' width='132' height='132' rx='18' ry='18'/>","  <circle class='cls-5' cx='102' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='54' r='6'/>","  <circle class='cls-3' cx='54' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='54' r='6'/>","  <path class='cls-1' d='M30,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,30,72Z'/>","  <path class='cls-1' d='M78,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,78,72Z'/>","  <path class='cls-1' d='M54,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,54,48Z'/>","  <path class='cls-1' d='M102,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,102,48Z'/>"," </g>","</svg>"].join("")}}},99863:function(ae,B){"use strict";B.isLeftAnchor=function(r){return"left"===r.xanchor||"auto"===r.xanchor&&r.x<=.3333333333333333},B.isCenterAnchor=function(r){return"center"===r.xanchor||"auto"===r.xanchor&&r.x>.3333333333333333&&r.x<.6666666666666666},B.isRightAnchor=function(r){return"right"===r.xanchor||"auto"===r.xanchor&&r.x>=.6666666666666666},B.isTopAnchor=function(r){return"top"===r.yanchor||"auto"===r.yanchor&&r.y>=.6666666666666666},B.isMiddleAnchor=function(r){return"middle"===r.yanchor||"auto"===r.yanchor&&r.y>.3333333333333333&&r.y<.6666666666666666},B.isBottomAnchor=function(r){return"bottom"===r.yanchor||"auto"===r.yanchor&&r.y<=.3333333333333333}},26348:function(ae,B,r){"use strict";var D=r(64872),E=D.mod,f=D.modHalf,k=Math.PI,M=2*k;function y(a){return Math.abs(a[1]-a[0])>M-1e-14}function c(a,o){return f(o-a,M)}function i(a,o){if(y(o))return!0;var l,u;o[0]<o[1]?(l=o[0],u=o[1]):(l=o[1],u=o[0]),(l=E(l,M))>(u=E(u,M))&&(u+=M);var h=E(a,M),v=h+M;return h>=l&&h<=u||v>=l&&v<=u}function s(a,o,l,u,h,v,p){h=h||0,v=v||0;var T,_,m,w,x,b=y([l,u]);function A(O,R){return[O*Math.cos(R)+h,v-O*Math.sin(R)]}b?(T=0,_=k,m=M):l<u?(T=l,m=u):(T=u,m=l),a<o?(w=a,x=o):(w=o,x=a);var g,I=Math.abs(m-T)<=k?0:1;function S(O,R,L){return"A"+[O,O]+" "+[0,I,L]+" "+A(O,R)}return b?g=null===w?"M"+A(x,T)+S(x,_,0)+S(x,m,0)+"Z":"M"+A(w,T)+S(w,_,0)+S(w,m,0)+"ZM"+A(x,T)+S(x,_,1)+S(x,m,1)+"Z":null===w?(g="M"+A(x,T)+S(x,m,0),p&&(g+="L0,0Z")):g="M"+A(w,T)+"L"+A(x,T)+S(x,m,0)+"L"+A(w,m)+S(w,T,1)+"Z",g}ae.exports={deg2rad:function(a){return a/180*k},rad2deg:function(a){return a/k*180},angleDelta:c,angleDist:function(a,o){return Math.abs(c(a,o))},isFullCircle:y,isAngleInsideSector:i,isPtInsideSector:function(a,o,l,u){return!!i(o,u)&&(l[0]<l[1]?(h=l[0],v=l[1]):(h=l[1],v=l[0]),a>=h&&a<=v);var h,v},pathArc:function(a,o,l,u,h){return s(null,a,o,l,u,h,0)},pathSector:function(a,o,l,u,h){return s(null,a,o,l,u,h,1)},pathAnnulus:function(a,o,l,u,h,v){return s(a,o,l,u,h,v,1)}}},73627:function(ae,B){"use strict";var r=Array.isArray,D=ArrayBuffer,E=DataView;function f(y){return D.isView(y)&&!(y instanceof E)}function k(y){return r(y)||f(y)}function M(y,c,i){if(k(y)){if(k(y[0])){for(var s=i,a=0;a<y.length;a++)s=c(s,y[a].length);return s}return y.length}return 0}B.isTypedArray=f,B.isArrayOrTypedArray=k,B.isArray1D=function(y){return!k(y[0])},B.ensureArray=function(y,c){return r(y)||(y=[]),y.length=c,y},B.concat=function(){var y,c,i,s,a,o,l,u,h=[],v=!0,p=0;for(i=0;i<arguments.length;i++)(o=(s=arguments[i]).length)&&(c?h.push(s):(c=s,a=o),r(s)?y=!1:(v=!1,p?y!==s.constructor&&(y=!1):y=s.constructor),p+=o);if(!p)return[];if(!h.length)return c;if(v)return c.concat.apply(c,h);if(y){for((l=new y(p)).set(c),i=0;i<h.length;i++)l.set(s=h[i],a),a+=s.length;return l}for(l=new Array(p),u=0;u<c.length;u++)l[u]=c[u];for(i=0;i<h.length;i++){for(s=h[i],u=0;u<s.length;u++)l[a+u]=s[u];a+=u}return l},B.maxRowLength=function(y){return M(y,Math.max,0)},B.minRowLength=function(y){return M(y,Math.min,1/0)}},95218:function(ae,B,r){"use strict";var D=r(92770),E=r(50606).BADNUM,f=/^['"%,$#\s']+|[, ]|['"%,$#\s']+$/g;ae.exports=function(k){return"string"==typeof k&&(k=k.replace(f,"")),D(k)?Number(k):E}},33306:function(ae){"use strict";ae.exports=function(B){var r=B._fullLayout;r._glcanvas&&r._glcanvas.size()&&r._glcanvas.each(function(D){D.regl&&D.regl.clear({color:!0,depth:!0})})}},86367:function(ae){"use strict";ae.exports=function(B){B._responsiveChartHandler&&(window.removeEventListener("resize",B._responsiveChartHandler),delete B._responsiveChartHandler)}},96554:function(ae,B,r){"use strict";var D=r(92770),E=r(84267),f=r(9012),k=r(63282),M=r(7901),y=r(37822).DESELECTDIM,c=r(65487),i=r(30587).counter,s=r(64872).modHalf,a=r(73627).isArrayOrTypedArray;function o(l,u){var h=B.valObjectMeta[u.valType];if(u.arrayOk&&a(l))return!0;if(h.validateFunction)return h.validateFunction(l,u);var v={},p=v;return h.coerceFunction(l,{set:function(_){p=_}},v,u),p!==v}B.valObjectMeta={data_array:{coerceFunction:function(l,u,h){a(l)?u.set(l):void 0!==h&&u.set(h)}},enumerated:{coerceFunction:function(l,u,h,v){v.coerceNumber&&(l=+l),-1===v.values.indexOf(l)?u.set(h):u.set(l)},validateFunction:function(l,u){u.coerceNumber&&(l=+l);for(var h=u.values,v=0;v<h.length;v++){var p=String(h[v]);if("/"===p.charAt(0)&&"/"===p.charAt(p.length-1)){if(new RegExp(p.substr(1,p.length-2)).test(l))return!0}else if(l===h[v])return!0}return!1}},boolean:{coerceFunction:function(l,u,h){u.set(!0===l||!1===l?l:h)}},number:{coerceFunction:function(l,u,h,v){!D(l)||void 0!==v.min&&l<v.min||void 0!==v.max&&l>v.max?u.set(h):u.set(+l)}},integer:{coerceFunction:function(l,u,h,v){l%1||!D(l)||void 0!==v.min&&l<v.min||void 0!==v.max&&l>v.max?u.set(h):u.set(+l)}},string:{coerceFunction:function(l,u,h,v){u.set("string"!=typeof l?!0!==v.strict&&"number"==typeof l?String(l):h:v.noBlank&&!l?h:l)}},color:{coerceFunction:function(l,u,h){E(l).isValid()?u.set(l):u.set(h)}},colorlist:{coerceFunction:function(l,u,h){Array.isArray(l)&&l.length&&l.every(function(v){return E(v).isValid()})?u.set(l):u.set(h)}},colorscale:{coerceFunction:function(l,u,h){u.set(k.get(l,h))}},angle:{coerceFunction:function(l,u,h){"auto"===l?u.set("auto"):D(l)?u.set(s(+l,360)):u.set(h)}},subplotid:{coerceFunction:function(l,u,h,v){var p=v.regex||i(h);"string"==typeof l&&p.test(l)?u.set(l):u.set(h)},validateFunction:function(l,u){var h=u.dflt;return l===h||"string"==typeof l&&!!i(h).test(l)}},flaglist:{coerceFunction:function(l,u,h,v){if(-1===(v.extras||[]).indexOf(l))if("string"==typeof l){for(var p=l.split("+"),T=0;T<p.length;){var _=p[T];-1===v.flags.indexOf(_)||p.indexOf(_)<T?p.splice(T,1):T++}u.set(p.length?p.join("+"):h)}else u.set(h);else u.set(l)}},any:{coerceFunction:function(l,u,h){u.set(void 0===l?h:l)}},info_array:{coerceFunction:function(l,u,h,v){function p(N,j,X){var F;return void 0===X&&(X=j.dflt),B.valObjectMeta[j.valType].coerceFunction(N,{set:function(G){F=G}},X,j),F}var T=2===v.dimensions||"1-2"===v.dimensions&&Array.isArray(l)&&Array.isArray(l[0]);if(Array.isArray(l)){var _,m,w,b,A,g=v.items,I=[],S=Array.isArray(g),O=S&&T&&Array.isArray(g[0]),R=T&&S&&!O,L=S&&!R?g.length:l.length;if(h=Array.isArray(h)?h:[],T)for(_=0;_<L;_++)for(I[_]=[],w=Array.isArray(l[_])?l[_]:[],b=R?g.length:S?g[_].length:w.length,m=0;m<b;m++)void 0!==(A=p(w[m],R?g[m]:S?g[_][m]:g,(h[_]||[])[m]))&&(I[_][m]=A);else for(_=0;_<L;_++)void 0!==(A=p(l[_],S?g[_]:g,h[_]))&&(I[_]=A);u.set(I)}else u.set(h)},validateFunction:function(l,u){if(!Array.isArray(l))return!1;var h=u.items,v=Array.isArray(h),p=2===u.dimensions;if(!u.freeLength&&l.length!==h.length)return!1;for(var T=0;T<l.length;T++)if(p){if(!Array.isArray(l[T])||!u.freeLength&&l[T].length!==h[T].length)return!1;for(var _=0;_<l[T].length;_++)if(!o(l[T][_],v?h[T][_]:h))return!1}else if(!o(l[T],v?h[T]:h))return!1;return!0}}},B.coerce=function(l,u,h,v,p){var T=c(h,v).get(),_=c(l,v),m=c(u,v),w=_.get(),x=u._template;if(void 0===w&&x&&(w=c(x,v).get(),x=0),void 0===p&&(p=T.dflt),T.arrayOk&&a(w))return m.set(w),w;var b=B.valObjectMeta[T.valType].coerceFunction;b(w,m,p,T);var A=m.get();return x&&A===p&&!o(w,T)&&(b(w=c(x,v).get(),m,p,T),A=m.get()),A},B.coerce2=function(l,u,h,v,p){var T=c(l,v),_=B.coerce(l,u,h,v,p);return null!=T.get()&&_},B.coerceFont=function(l,u,h){var v={};return v.family=l(u+".family",(h=h||{}).family),v.size=l(u+".size",h.size),v.color=l(u+".color",h.color),v},B.coercePattern=function(l,u,h,v){if(l(u+".shape")){l(u+".solidity"),l(u+".size");var p="overlay"===l(u+".fillmode");if(!v){var T=l(u+".bgcolor",p?h:void 0);l(u+".fgcolor",p?M.contrast(T):h)}l(u+".fgopacity",p?.5:1)}},B.coerceHoverinfo=function(l,u,h){var v,p=u._module.attributes,T=p.hoverinfo?p:f,_=T.hoverinfo;if(1===h._dataLength){var m="all"===_.dflt?_.flags.slice():_.dflt.split("+");m.splice(m.indexOf("name"),1),v=m.join("+")}return B.coerce(l,u,T,"hoverinfo",v)},B.coerceSelectionMarkerOpacity=function(l,u){if(l.marker){var h,v,p=l.marker.opacity;void 0!==p&&(a(p)||l.selected||l.unselected||(h=p,v=y*p),u("selected.marker.opacity",h),u("unselected.marker.opacity",v))}},B.validate=o},41631:function(ae,B,r){"use strict";var D,E,f=r(84096).i$,k=r(92770),M=r(47769),y=r(64872).mod,c=r(50606),i=c.BADNUM,s=c.ONEDAY,a=c.ONEHOUR,o=c.ONEMIN,l=c.ONESEC,u=c.EPOCHJD,h=r(73972),v=r(84096).g0,p=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\d)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,T=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\di?)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,_=(new Date).getFullYear()-70;function m(j){return j&&h.componentsRegistry.calendars&&"string"==typeof j&&"gregorian"!==j}function w(j,X){return String(j+Math.pow(10,X)).substr(1)}B.dateTick0=function(j,X){var G,H,F=(H=!!X,m(G=j)?H?h.getComponentMethod("calendars","CANONICAL_SUNDAY")[G]:h.getComponentMethod("calendars","CANONICAL_TICK")[G]:H?"2000-01-02":"2000-01-01");if(X<2)return F;var Y=B.dateTime2ms(F,j);return B.ms2DateTime(Y+=s*(X-1),0,j)},B.dfltRange=function(j){return m(j)?h.getComponentMethod("calendars","DFLTRANGE")[j]:["2000-01-01","2001-01-01"]},B.isJSDate=function(j){return"object"==typeof j&&null!==j&&"function"==typeof j.getTime},B.dateTime2ms=function(j,X){if(B.isJSDate(j)){var F=j.getTimezoneOffset()*o,Y=(j.getUTCMinutes()-j.getMinutes())*o+(j.getUTCSeconds()-j.getSeconds())*l+(j.getUTCMilliseconds()-j.getMilliseconds());if(Y){var G=3*o;F=F-G/2+y(Y-F+G/2,G)}return(j=Number(j)-F)>=D&&j<=E?j:i}if("string"!=typeof j&&"number"!=typeof j)return i;j=String(j);var H=m(X),W=j.charAt(0);!H||"G"!==W&&"g"!==W||(j=j.substr(1),X="");var Z=H&&"chinese"===X.substr(0,7),se=j.match(Z?T:p);if(!se)return i;var re=se[1],ne=se[3]||"1",Q=Number(se[5]||1),ee=Number(se[7]||0),oe=Number(se[9]||0),ce=Number(se[11]||0);if(H){if(2===re.length)return i;var fe;re=Number(re);try{var le=h.getComponentMethod("calendars","getCal")(X);if(Z){var pe="i"===ne.charAt(ne.length-1);ne=parseInt(ne,10),fe=le.newDate(re,le.toMonthIndex(re,ne,pe),Q)}else fe=le.newDate(re,Number(ne),Q)}catch{return i}return fe?(fe.toJD()-u)*s+ee*a+oe*o+ce*l:i}re=2===re.length?(Number(re)+2e3-_)%100+_:Number(re),ne-=1;var Me=new Date(Date.UTC(2e3,ne,Q,ee,oe));return Me.setUTCFullYear(re),Me.getUTCMonth()!==ne||Me.getUTCDate()!==Q?i:Me.getTime()+ce*l},D=B.MIN_MS=B.dateTime2ms("-9999"),E=B.MAX_MS=B.dateTime2ms("9999-12-31 23:59:59.9999"),B.isDateTime=function(j,X){return B.dateTime2ms(j,X)!==i};var x=90*s,b=3*a,A=5*o;function g(j,X,F,Y,G){if((X||F||Y||G)&&(j+=" "+w(X,2)+":"+w(F,2),(Y||G)&&(j+=":"+w(Y,2),G))){for(var H=4;G%10==0;)H-=1,G/=10;j+="."+w(G,H)}return j}B.ms2DateTime=function(j,X,F){if("number"!=typeof j||!(j>=D&&j<=E))return i;X||(X=0);var Y,G,H,W,Z,se,re=Math.floor(10*y(j+.05,1)),ne=Math.round(j-re/10);if(m(F)){var Q=Math.floor(ne/s)+u,ee=Math.floor(y(j,s));try{Y=h.getComponentMethod("calendars","getCal")(F).fromJD(Q).formatDate("yyyy-mm-dd")}catch{Y=v("G%Y-%m-%d")(new Date(ne))}if("-"===Y.charAt(0))for(;Y.length<11;)Y="-0"+Y.substr(1);else for(;Y.length<10;)Y="0"+Y;G=X<x?Math.floor(ee/a):0,H=X<x?Math.floor(ee%a/o):0,W=X<b?Math.floor(ee%o/l):0,Z=X<A?ee%l*10+re:0}else se=new Date(ne),Y=v("%Y-%m-%d")(se),G=X<x?se.getUTCHours():0,H=X<x?se.getUTCMinutes():0,W=X<b?se.getUTCSeconds():0,Z=X<A?10*se.getUTCMilliseconds()+re:0;return g(Y,G,H,W,Z)},B.ms2DateTimeLocal=function(j){if(!(j>=D+s&&j<=E-s))return i;var X=Math.floor(10*y(j+.05,1)),F=new Date(Math.round(j-X/10));return g(f("%Y-%m-%d")(F),F.getHours(),F.getMinutes(),F.getSeconds(),10*F.getUTCMilliseconds()+X)},B.cleanDate=function(j,X,F){if(j===i)return X;if(B.isJSDate(j)||"number"==typeof j&&isFinite(j)){if(m(F))return M.error("JS Dates and milliseconds are incompatible with world calendars",j),X;if(!(j=B.ms2DateTimeLocal(+j))&&void 0!==X)return X}else if(!B.isDateTime(j,F))return M.error("unrecognized date",j),X;return j};var I=/%\d?f/g,S=/%h/g,O={1:"1",2:"1",3:"2",4:"2"};function R(j,X,F,Y){j=j.replace(I,function(H){var W=Math.min(+H.charAt(1)||6,6);return(X/1e3%1+2).toFixed(W).substr(2).replace(/0+$/,"")||"0"});var G=new Date(Math.floor(X+.05));if(j=j.replace(S,function(){return O[F("%q")(G)]}),m(Y))try{j=h.getComponentMethod("calendars","worldCalFmt")(j,X,Y)}catch{return"Invalid"}return F(j)(G)}var L=[59,59.9,59.99,59.999,59.9999];B.formatDate=function(j,X,F,Y,G,H){if(G=m(G)&&G,!X)if("y"===F)X=H.year;else if("m"===F)X=H.month;else{if("d"!==F)return function(W,Z){var se=y(W+.05,s),re=w(Math.floor(se/a),2)+":"+w(y(Math.floor(se/o),60),2);if("M"!==Z){k(Z)||(Z=0);var ne=(100+Math.min(y(W/l,60),L[Z])).toFixed(Z).substr(1);Z>0&&(ne=ne.replace(/0+$/,"").replace(/[\.]$/,"")),re+=":"+ne}return re}(j,F)+"\n"+R(H.dayMonthYear,j,Y,G);X=H.dayMonth+"\n"+H.year}return R(X,j,Y,G)};var N=3*s;B.incrementMonth=function(j,X,F){F=m(F)&&F;var Y=y(j,s);if(j=Math.round(j-Y),F)try{var G=Math.round(j/s)+u,H=h.getComponentMethod("calendars","getCal")(F),W=H.fromJD(G);return X%12?H.add(W,X,"m"):H.add(W,X/12,"y"),(W.toJD()-u)*s+Y}catch{M.error("invalid ms "+j+" in calendar "+F)}var Z=new Date(j+N);return Z.setUTCMonth(Z.getUTCMonth()+X)+Y-N},B.findExactDates=function(j,X){for(var F,Y,G=0,H=0,W=0,Z=0,se=m(X)&&h.getComponentMethod("calendars","getCal")(X),re=0;re<j.length;re++)if(k(Y=j[re])){if(!(Y%s))if(se)try{1===(F=se.fromJD(Y/s+u)).day()?1===F.month()?G++:H++:W++}catch{}else 1===(F=new Date(Y)).getUTCDate()?0===F.getUTCMonth()?G++:H++:W++}else Z++;W+=H+=G;var ne=j.length-Z;return{exactYears:G/ne,exactMonths:H/ne,exactDays:W/ne}}},24401:function(ae,B,r){"use strict";var D=r(39898),E=r(47769),f=r(35657),k=r(79576);function M(a){var o=a&&a.parentNode;o&&o.removeChild(a)}function y(a,o,l){var u="plotly.js-style-"+a,h=document.getElementById(u);h||((h=document.createElement("style")).setAttribute("id",u),h.appendChild(document.createTextNode("")),document.head.appendChild(h));var v=h.sheet;v.insertRule?v.insertRule(o+"{"+l+"}",0):v.addRule?v.addRule(o,l,0):E.warn("addStyleRule failed")}function c(a){var o=window.getComputedStyle(a,null),l=o.getPropertyValue("-webkit-transform")||o.getPropertyValue("-moz-transform")||o.getPropertyValue("-ms-transform")||o.getPropertyValue("-o-transform")||o.getPropertyValue("transform");return"none"===l?null:l.replace("matrix","").replace("3d","").slice(1,-1).split(",").map(function(u){return+u})}function i(a){for(var o=[];s(a);)o.push(a),a=a.parentNode;return o}function s(a){return a&&(a instanceof Element||a instanceof HTMLElement)}ae.exports={getGraphDiv:function(a){var o;if("string"==typeof a){if(null===(o=document.getElementById(a)))throw new Error("No DOM element with id '"+a+"' exists on the page.");return o}if(null==a)throw new Error("DOM element provided is null or undefined");return a},isPlotDiv:function(a){var o=D.select(a);return o.node()instanceof HTMLElement&&o.size()&&o.classed("js-plotly-plot")},removeElement:M,addStyleRule:function(a,o){y("global",a,o)},addRelatedStyleRule:y,deleteRelatedStyleRule:function(a){var l=document.getElementById("plotly.js-style-"+a);l&&M(l)},getFullTransformMatrix:function(a){var o=i(a),l=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return o.forEach(function(u){var h=c(u);if(h){var v=f.convertCssMatrix(h);l=k.multiply(l,l,v)}}),l},getElementTransformMatrix:c,getElementAndAncestors:i,equalDomRects:function(a,o){return a&&o&&a.top===o.top&&a.left===o.left&&a.right===o.right&&a.bottom===o.bottom}}},11086:function(ae,B,r){"use strict";var D=r(15398).EventEmitter;ae.exports={init:function(f){if(f._ev instanceof D)return f;var k=new D,M=new D;return f._ev=k,f._internalEv=M,f.on=k.on.bind(k),f.once=k.once.bind(k),f.removeListener=k.removeListener.bind(k),f.removeAllListeners=k.removeAllListeners.bind(k),f._internalOn=M.on.bind(M),f._internalOnce=M.once.bind(M),f._removeInternalListener=M.removeListener.bind(M),f._removeAllInternalListeners=M.removeAllListeners.bind(M),f.emit=function(y,c){typeof jQuery<"u"&&jQuery(f).trigger(y,c),k.emit(y,c),M.emit(y,c)},f},triggerHandler:function(f,k,M){var y,c;typeof jQuery<"u"&&(y=jQuery(f).triggerHandler(k,M));var i=f._ev;if(!i)return y;var s,a=i._events[k];if(!a)return y;function o(l){return l.listener?(i.removeListener(k,l.listener),l.fired?void 0:(l.fired=!0,l.listener.apply(i,[M]))):l.apply(i,[M])}for(a=Array.isArray(a)?a:[a],s=0;s<a.length-1;s++)o(a[s]);return c=o(a[s]),void 0!==y?y:c},purge:function(f){return delete f._ev,delete f.on,delete f.once,delete f.removeListener,delete f.removeAllListeners,delete f.emit,delete f._ev,delete f._internalEv,delete f._internalOn,delete f._internalOnce,delete f._removeInternalListener,delete f._removeAllInternalListeners,f}}},1426:function(ae,B,r){"use strict";var D=r(41965),E=Array.isArray;function f(k,M,y,c){var i,s,a,o,l,u,v=k[0],p=k.length;if(2===p&&E(v)&&E(k[1])&&0===v.length){if(function(_,m){var w,x;for(w=0;w<_.length;w++){if(null!==(x=_[w])&&"object"==typeof x)return!1;void 0!==x&&(m[w]=x)}return!0}(k[1],v))return v;v.splice(0,v.length)}for(var T=1;T<p;T++)for(s in i=k[T])a=v[s],o=i[s],c&&E(o)?v[s]=o:M&&o&&(D(o)||(l=E(o)))?(l?(l=!1,u=a&&E(a)?a:[]):u=a&&D(a)?a:{},v[s]=f([u,o],M,y,c)):(void 0!==o||y)&&(v[s]=o);return v}B.extendFlat=function(){return f(arguments,!1,!1,!1)},B.extendDeep=function(){return f(arguments,!0,!1,!1)},B.extendDeepAll=function(){return f(arguments,!0,!0,!1)},B.extendDeepNoArrays=function(){return f(arguments,!0,!1,!0)}},75744:function(ae){"use strict";ae.exports=function(B){for(var r={},D=[],E=0,f=0;f<B.length;f++){var k=B[f];1!==r[k]&&(r[k]=1,D[E++]=k)}return D}},76756:function(ae){"use strict";function B(D){return!0===D.visible}function r(D){var E=D[0].trace;return!0===E.visible&&0!==E._length}ae.exports=function(D){for(var E,f=(E=D,Array.isArray(E)&&Array.isArray(E[0])&&E[0][0]&&E[0][0].trace?r:B),k=[],M=0;M<D.length;M++){var y=D[M];f(y)&&k.push(y)}return k}},41327:function(ae,B,r){"use strict";var D=r(39898),E=r(24138),f=r(30774),k=r(29261),M=r(85268),y=r(23389),c=r(47769),i=r(41965),s=r(65487),a=r(61082),o=Object.keys(E),l={"ISO-3":y,"USA-states":y,"country names":function(h){for(var v=0;v<o.length;v++){var p=o[v];if(new RegExp(E[p]).test(h.trim().toLowerCase()))return p}return c.log("Unrecognized country name: "+h+"."),!1}};function u(h){var v=h.geojson,p=window.PlotlyGeoAssets||{},T="string"==typeof v?p[v]:v;return i(T)?T:(c.error("Oops ... something went wrong when fetching "+v),!1)}ae.exports={locationToFeature:function(h,v,p){if(!v||"string"!=typeof v)return!1;var T,_,m,w=l[h](v);if(w){if("USA-states"===h)for(T=[],m=0;m<p.length;m++)(_=p[m]).properties&&_.properties.gu&&"USA"===_.properties.gu&&T.push(_);else T=p;for(m=0;m<T.length;m++)if((_=T[m]).id===w)return _;c.log(["Location with id",w,"does not have a matching topojson feature at this resolution."].join(" "))}return!1},feature2polygons:function(h){var v,p,T,_,m=h.geometry,w=m.coordinates,x=h.id,b=[];function A(g){for(var I=0;I<g.length-1;I++)if(g[I][0]>0&&g[I+1][0]<0)return I;return null}switch(v="RUS"===x||"FJI"===x?function(g){var I;if(null===A(g))I=g;else for(I=new Array(g.length),_=0;_<g.length;_++)I[_]=[g[_][0]<0?g[_][0]+360:g[_][0],g[_][1]];b.push(a.tester(I))}:"ATA"===x?function(g){var I=A(g);if(null===I)return b.push(a.tester(g));var S=new Array(g.length+1),O=0;for(_=0;_<g.length;_++)_>I?S[O++]=[g[_][0]+360,g[_][1]]:_===I?(S[O++]=g[_],S[O++]=[g[_][0],-90]):S[O++]=g[_];var R=a.tester(S);R.pts.pop(),b.push(R)}:function(g){b.push(a.tester(g))},m.type){case"MultiPolygon":for(p=0;p<w.length;p++)for(T=0;T<w[p].length;T++)v(w[p][T]);break;case"Polygon":for(p=0;p<w.length;p++)v(w[p])}return b},getTraceGeojson:u,extractTraceFeature:function(h){var v=h[0].trace,p=u(v);if(!p)return!1;var T,_={},m=[];for(T=0;T<v._length;T++){var w=h[T];(w.loc||0===w.loc)&&(_[w.loc]=w)}function x(g){var I=s(g,v.featureidkey||"id").get(),S=_[I];if(S){var O=g.geometry;if("Polygon"===O.type||"MultiPolygon"===O.type){var R={type:"Feature",id:I,geometry:O,properties:{}};R.properties.ct=function(L){var N,j=L.geometry;if("MultiPolygon"===j.type)for(var X=j.coordinates,F=0,Y=0;Y<X.length;Y++){var G={type:"Polygon",coordinates:X[Y]},H=f.default(G);H>F&&(F=H,N=G)}else N=j;return k.default(N).geometry.coordinates}(R),S.fIn=g,S.fOut=R,m.push(R)}else c.log(["Location",S.loc,"does not have a valid GeoJSON geometry.","Traces with locationmode *geojson-id* only support","*Polygon* and *MultiPolygon* geometries."].join(" "))}delete _[I]}switch(p.type){case"FeatureCollection":var b=p.features;for(T=0;T<b.length;T++)x(b[T]);break;case"Feature":x(p);break;default:return c.warn(["Invalid GeoJSON type",(p.type||"none")+".","Traces with locationmode *geojson-id* only support","*FeatureCollection* and *Feature* types."].join(" ")),!1}for(var A in _)c.log(["Location *"+A+"*","does not have a matching feature with id-key","*"+v.featureidkey+"*."].join(" "));return m},fetchTraceGeoData:function(h){var v=window.PlotlyGeoAssets||{},p=[];function T(x){return new Promise(function(b,A){D.json(x,function(g,I){return g?(delete v[x],A(new Error(404===g.status?'GeoJSON at URL "'+x+'" does not exist.':"Unexpected error while fetching from "+x))):(v[x]=I,b(I))})})}function _(x){return new Promise(function(b,A){var g=0,I=setInterval(function(){return v[x]&&"pending"!==v[x]?(clearInterval(I),b(v[x])):g>100?(clearInterval(I),A("Unexpected error while fetching from "+x)):void g++},50)})}for(var m=0;m<h.length;m++){var w=h[m][0].trace.geojson;"string"==typeof w&&(v[w]?"pending"===v[w]&&p.push(_(w)):(v[w]="pending",p.push(T(w))))}return p},computeBbox:function(h){return M.default(h)}}},18214:function(ae,B,r){"use strict";var D=r(50606).BADNUM;B.calcTraceToLineCoords=function(E){for(var f=E[0].trace.connectgaps,k=[],M=[],y=0;y<E.length;y++){var c=E[y].lonlat;c[0]!==D?M.push(c):!f&&M.length>0&&(k.push(M),M=[])}return M.length>0&&k.push(M),k},B.makeLine=function(E){return 1===E.length?{type:"LineString",coordinates:E[0]}:{type:"MultiLineString",coordinates:E}},B.makePolygon=function(E){if(1===E.length)return{type:"Polygon",coordinates:E};for(var f=new Array(E.length),k=0;k<E.length;k++)f[k]=[E[k]];return{type:"MultiPolygon",coordinates:f}},B.makeBlank=function(){return{type:"Point",coordinates:[]}}},87642:function(ae,B,r){"use strict";var D,E,f,k=r(64872).mod;function M(c,i,s,a,o,l,u,h){var v=s-c,p=o-c,T=u-o,_=a-i,m=l-i,w=h-l,x=v*w-T*_;if(0===x)return null;var b=(p*w-T*m)/x,A=(p*_-v*m)/x;return A<0||A>1||b<0||b>1?null:{x:c+v*b,y:i+_*b}}function y(c,i,s,a,o){var l=a*c+o*i;if(l<0)return a*a+o*o;if(l>s){var u=a-c,h=o-i;return u*u+h*h}var v=a*i-o*c;return v*v/s}B.segmentsIntersect=M,B.segmentDistance=function(c,i,s,a,o,l,u,h){if(M(c,i,s,a,o,l,u,h))return 0;var v=s-c,p=a-i,T=u-o,_=h-l,m=v*v+p*p,w=T*T+_*_,x=Math.min(y(v,p,m,o-c,l-i),y(v,p,m,u-c,h-i),y(T,_,w,c-o,i-l),y(T,_,w,s-o,a-l));return Math.sqrt(x)},B.getTextLocation=function(c,i,s,a){if(c===E&&a===f||(D={},E=c,f=a),D[s])return D[s];var o=c.getPointAtLength(k(s-a/2,i)),l=c.getPointAtLength(k(s+a/2,i)),u=Math.atan((l.y-o.y)/(l.x-o.x)),h=c.getPointAtLength(k(s,i)),v={x:(4*h.x+o.x+l.x)/6,y:(4*h.y+o.y+l.y)/6,theta:u};return D[s]=v,v},B.clearLocationCache=function(){E=null},B.getVisibleSegment=function(c,i,s){var a,o,l=i.left,u=i.right,h=i.top,v=i.bottom,p=0,T=c.getTotalLength(),_=T;function m(x){var b=c.getPointAtLength(x);0===x?a=b:x===T&&(o=b);var A=b.x<l?l-b.x:b.x>u?b.x-u:0,g=b.y<h?h-b.y:b.y>v?b.y-v:0;return Math.sqrt(A*A+g*g)}for(var w=m(p);w;){if((p+=w+s)>_)return;w=m(p)}for(w=m(_);w;){if(p>(_-=w+s))return;w=m(_)}return{min:p,max:_,len:_-p,total:T,isClosed:0===p&&_===T&&Math.abs(a.x-o.x)<.1&&Math.abs(a.y-o.y)<.1}},B.findPointOnPath=function(c,i,s,a){for(var o,l,u,h=(a=a||{}).pathLength||c.getTotalLength(),v=a.tolerance||.001,p=a.iterationLimit||30,T=c.getPointAtLength(0)[s]>c.getPointAtLength(h)[s]?-1:1,_=0,m=0,w=h;_<p;){if(u=(l=c.getPointAtLength(o=(m+w)/2))[s]-i,Math.abs(u)<v)return l;T*u>0?w=o:m=o,_++}return l}},81697:function(ae,B,r){"use strict";var D=r(92770),E=r(84267),f=r(25075),k=r(21081),M=r(22399).defaultLine,y=r(73627).isArrayOrTypedArray,c=f(M);function i(o,l){var u=o;return u[3]*=l,u}function s(o){if(D(o))return c;var l=f(o);return l.length?l:c}function a(o){return D(o)?o:1}ae.exports={formatColor:function(o,l,u){var h,v,p,T,_,m=o.color,w=y(m),x=y(l),b=k.extractOpts(o),A=[];if(h=void 0!==b.colorscale?k.makeColorScaleFuncFromTrace(o):s,v=w?function(I,S){return void 0===I[S]?c:f(h(I[S]))}:s,p=x?function(I,S){return void 0===I[S]?1:a(I[S])}:a,w||x)for(var g=0;g<u;g++)T=v(m,g),_=p(l,g),A[g]=i(T,_);else A=i(f(m),l);return A},parseColorScale:function(o){var l=k.extractOpts(o),u=l.colorscale;return l.reversescale&&(u=k.flipScale(l.colorscale)),u.map(function(h){var v=h[0],p=E(h[1]).toRgb();return{index:v,rgb:[p.r,p.g,p.b,p.a]}})}}},28984:function(ae,B,r){"use strict";var D=r(23389);function E(f){return[f]}ae.exports={keyFun:function(f){return f.key},repeat:E,descend:D,wrap:E,unwrap:function(f){return f[0]}}},23389:function(ae){"use strict";ae.exports=function(B){return B}},39240:function(ae){"use strict";ae.exports=function(B,r){if(!r)return B;var D=1/Math.abs(r),E=D>1?(D*B+D*r)/D:B+r,f=String(E).length;if(f>16){var k=String(r).length;if(f>=String(B).length+k){var M=parseFloat(E).toPrecision(12);-1===M.indexOf("e+")&&(E=+M)}}return E}},71828:function(ae,B,r){"use strict";var D=r(39898),E=r(84096).g0,f=r(60721).WU,k=r(92770),M=r(50606),y=M.FP_SAFE,c=-y,i=M.BADNUM,s=ae.exports={};s.adjustFormat=function(ee){return!ee||/^\d[.]\df/.test(ee)||/[.]\d%/.test(ee)?ee:"0.f"===ee?"~f":/^\d%/.test(ee)?"~%":/^\ds/.test(ee)?"~s":!/^[~,.0$]/.test(ee)&&/[&fps]/.test(ee)?"~"+ee:ee};var a={};s.warnBadFormat=function(ee){var oe=String(ee);a[oe]||(a[oe]=1,s.warn('encountered bad format: "'+oe+'"'))},s.noFormat=function(ee){return String(ee)},s.numberFormat=function(ee){var oe;try{oe=f(s.adjustFormat(ee))}catch{return s.warnBadFormat(ee),s.noFormat}return oe},s.nestedProperty=r(65487),s.keyedContainer=r(66636),s.relativeAttr=r(6962),s.isPlainObject=r(41965),s.toLogRange=r(58163),s.relinkPrivateKeys=r(51332);var o=r(73627);s.isTypedArray=o.isTypedArray,s.isArrayOrTypedArray=o.isArrayOrTypedArray,s.isArray1D=o.isArray1D,s.ensureArray=o.ensureArray,s.concat=o.concat,s.maxRowLength=o.maxRowLength,s.minRowLength=o.minRowLength;var l=r(64872);s.mod=l.mod,s.modHalf=l.modHalf;var u=r(96554);s.valObjectMeta=u.valObjectMeta,s.coerce=u.coerce,s.coerce2=u.coerce2,s.coerceFont=u.coerceFont,s.coercePattern=u.coercePattern,s.coerceHoverinfo=u.coerceHoverinfo,s.coerceSelectionMarkerOpacity=u.coerceSelectionMarkerOpacity,s.validate=u.validate;var h=r(41631);s.dateTime2ms=h.dateTime2ms,s.isDateTime=h.isDateTime,s.ms2DateTime=h.ms2DateTime,s.ms2DateTimeLocal=h.ms2DateTimeLocal,s.cleanDate=h.cleanDate,s.isJSDate=h.isJSDate,s.formatDate=h.formatDate,s.incrementMonth=h.incrementMonth,s.dateTick0=h.dateTick0,s.dfltRange=h.dfltRange,s.findExactDates=h.findExactDates,s.MIN_MS=h.MIN_MS,s.MAX_MS=h.MAX_MS;var v=r(65888);s.findBin=v.findBin,s.sorterAsc=v.sorterAsc,s.sorterDes=v.sorterDes,s.distinctVals=v.distinctVals,s.roundUp=v.roundUp,s.sort=v.sort,s.findIndexOfMin=v.findIndexOfMin,s.sortObjectKeys=r(78607);var p=r(80038);s.aggNums=p.aggNums,s.len=p.len,s.mean=p.mean,s.median=p.median,s.midRange=p.midRange,s.variance=p.variance,s.stdev=p.stdev,s.interp=p.interp;var T=r(35657);s.init2dArray=T.init2dArray,s.transposeRagged=T.transposeRagged,s.dot=T.dot,s.translationMatrix=T.translationMatrix,s.rotationMatrix=T.rotationMatrix,s.rotationXYMatrix=T.rotationXYMatrix,s.apply3DTransform=T.apply3DTransform,s.apply2DTransform=T.apply2DTransform,s.apply2DTransform2=T.apply2DTransform2,s.convertCssMatrix=T.convertCssMatrix,s.inverseTransformMatrix=T.inverseTransformMatrix;var _=r(26348);s.deg2rad=_.deg2rad,s.rad2deg=_.rad2deg,s.angleDelta=_.angleDelta,s.angleDist=_.angleDist,s.isFullCircle=_.isFullCircle,s.isAngleInsideSector=_.isAngleInsideSector,s.isPtInsideSector=_.isPtInsideSector,s.pathArc=_.pathArc,s.pathSector=_.pathSector,s.pathAnnulus=_.pathAnnulus;var m=r(99863);s.isLeftAnchor=m.isLeftAnchor,s.isCenterAnchor=m.isCenterAnchor,s.isRightAnchor=m.isRightAnchor,s.isTopAnchor=m.isTopAnchor,s.isMiddleAnchor=m.isMiddleAnchor,s.isBottomAnchor=m.isBottomAnchor;var w=r(87642);s.segmentsIntersect=w.segmentsIntersect,s.segmentDistance=w.segmentDistance,s.getTextLocation=w.getTextLocation,s.clearLocationCache=w.clearLocationCache,s.getVisibleSegment=w.getVisibleSegment,s.findPointOnPath=w.findPointOnPath;var x=r(1426);s.extendFlat=x.extendFlat,s.extendDeep=x.extendDeep,s.extendDeepAll=x.extendDeepAll,s.extendDeepNoArrays=x.extendDeepNoArrays;var b=r(47769);s.log=b.log,s.warn=b.warn,s.error=b.error;var A=r(30587);s.counterRegex=A.counter;var g=r(79990);s.throttle=g.throttle,s.throttleDone=g.done,s.clearThrottle=g.clear;var I=r(24401);function S(ee){var oe={};for(var ce in ee)for(var fe=ee[ce],le=0;le<fe.length;le++)oe[fe[le]]=+ce;return oe}s.getGraphDiv=I.getGraphDiv,s.isPlotDiv=I.isPlotDiv,s.removeElement=I.removeElement,s.addStyleRule=I.addStyleRule,s.addRelatedStyleRule=I.addRelatedStyleRule,s.deleteRelatedStyleRule=I.deleteRelatedStyleRule,s.getFullTransformMatrix=I.getFullTransformMatrix,s.getElementTransformMatrix=I.getElementTransformMatrix,s.getElementAndAncestors=I.getElementAndAncestors,s.equalDomRects=I.equalDomRects,s.clearResponsive=r(86367),s.preserveDrawingBuffer=r(45142),s.makeTraceGroups=r(77310),s._=r(15867),s.notifier=r(75046),s.filterUnique=r(75744),s.filterVisible=r(76756),s.pushUnique=r(75138),s.increment=r(39240),s.cleanNumber=r(95218),s.ensureNumber=function(ee){return k(ee)?(ee=Number(ee))>y||ee<c?i:ee:i},s.isIndex=function(ee,oe){return!(void 0!==oe&&ee>=oe)&&k(ee)&&ee>=0&&ee%1==0},s.noop=r(64213),s.identity=r(23389),s.repeat=function(ee,oe){for(var ce=new Array(oe),fe=0;fe<oe;fe++)ce[fe]=ee;return ce},s.swapAttrs=function(ee,oe,ce,fe){ce||(ce="x"),fe||(fe="y");for(var le=0;le<oe.length;le++){var pe=oe[le],Me=s.nestedProperty(ee,pe.replace("?",ce)),Ae=s.nestedProperty(ee,pe.replace("?",fe)),be=Me.get();Me.set(Ae.get()),Ae.set(be)}},s.raiseToTop=function(ee){ee.parentNode.appendChild(ee)},s.cancelTransition=function(ee){return ee.transition().duration(0)},s.constrain=function(ee,oe,ce){return oe>ce?Math.max(ce,Math.min(oe,ee)):Math.max(oe,Math.min(ce,ee))},s.bBoxIntersect=function(ee,oe,ce){return ee.left<=oe.right+(ce=ce||0)&&oe.left<=ee.right+ce&&ee.top<=oe.bottom+ce&&oe.top<=ee.bottom+ce},s.simpleMap=function(ee,oe,ce,fe,le){for(var pe=ee.length,Me=new Array(pe),Ae=0;Ae<pe;Ae++)Me[Ae]=oe(ee[Ae],ce,fe,le);return Me},s.randstr=function ee(oe,ce,fe,le){if(fe||(fe=16),void 0===ce&&(ce=24),ce<=0)return"0";var pe,Me,Ae=Math.log(Math.pow(2,ce))/Math.log(fe),be="";for(pe=2;Ae===1/0;pe*=2)Ae=Math.log(Math.pow(2,ce/pe))/Math.log(fe)*pe;var ye=Ae-Math.floor(Ae);for(pe=0;pe<Math.floor(Ae);pe++)be=Math.floor(Math.random()*fe).toString(fe)+be;ye&&(Me=Math.pow(fe,ye),be=Math.floor(Math.random()*Me).toString(fe)+be);var we=parseInt(be,fe);return oe&&oe[be]||we!==1/0&&we>=Math.pow(2,ce)?le>10?(s.warn("randstr failed uniqueness"),be):ee(oe,ce,fe,(le||0)+1):be},s.OptionControl=function(ee,oe){ee||(ee={}),oe||(oe="opt");var ce={optionList:[],_newoption:function(fe){fe[oe]=ee,ce[fe.name]=fe,ce.optionList.push(fe)}};return ce["_"+oe]=ee,ce},s.smooth=function(ee,oe){if((oe=Math.round(oe)||0)<2)return ee;var ce,fe,le,pe,Me=ee.length,Ae=2*Me,be=2*oe-1,ye=new Array(be),we=new Array(Me);for(ce=0;ce<be;ce++)ye[ce]=(1-Math.cos(Math.PI*(ce+1)/oe))/(2*oe);for(ce=0;ce<Me;ce++){for(pe=0,fe=0;fe<be;fe++)(le=ce+fe+1-oe)<-Me?le-=Ae*Math.round(le/Ae):le>=Ae&&(le-=Ae*Math.floor(le/Ae)),le<0?le=-1-le:le>=Me&&(le=Ae-1-le),pe+=ee[le]*ye[fe];we[ce]=pe}return we},s.syncOrAsync=function(ee,oe,ce){var fe;function le(){return s.syncOrAsync(ee,oe,ce)}for(;ee.length;)if((fe=(0,ee.splice(0,1)[0])(oe))&&fe.then)return fe.then(le);return ce&&ce(oe)},s.stripTrailingSlash=function(ee){return"/"===ee.substr(-1)?ee.substr(0,ee.length-1):ee},s.noneOrAll=function(ee,oe,ce){if(ee){var fe,le=!1,pe=!0;for(fe=0;fe<ce.length;fe++)null!=ee[ce[fe]]?le=!0:pe=!1;if(le&&!pe)for(fe=0;fe<ce.length;fe++)ee[ce[fe]]=oe[ce[fe]]}},s.mergeArray=function(ee,oe,ce,fe){var le="function"==typeof fe;if(s.isArrayOrTypedArray(ee))for(var pe=Math.min(ee.length,oe.length),Me=0;Me<pe;Me++){var Ae=ee[Me];oe[Me][ce]=le?fe(Ae):Ae}},s.mergeArrayCastPositive=function(ee,oe,ce){return s.mergeArray(ee,oe,ce,function(fe){var le=+fe;return isFinite(le)&&le>0?le:0})},s.fillArray=function(ee,oe,ce,fe){if(fe=fe||s.identity,s.isArrayOrTypedArray(ee))for(var le=0;le<oe.length;le++)oe[le][ce]=fe(ee[le])},s.castOption=function(ee,oe,ce,fe){fe=fe||s.identity;var le=s.nestedProperty(ee,ce).get();return s.isArrayOrTypedArray(le)?Array.isArray(oe)&&s.isArrayOrTypedArray(le[oe[0]])?fe(le[oe[0]][oe[1]]):fe(le[oe]):le},s.extractOption=function(ee,oe,ce,fe){if(ce in ee)return ee[ce];var le=s.nestedProperty(oe,fe).get();return Array.isArray(le)?void 0:le},s.tagSelected=function(ee,oe,ce){var fe,le,pe=oe.selectedpoints,Me=oe._indexToPoints;Me&&(fe=S(Me));for(var Ae=0;Ae<pe.length;Ae++){var be=pe[Ae];if(s.isIndex(be)||s.isArrayOrTypedArray(be)&&s.isIndex(be[0])&&s.isIndex(be[1])){var ye=fe?fe[be]:be,we=ce?ce[ye]:ye;void 0!==(le=we)&&le<ee.length&&(ee[we].selected=1)}}},s.selIndices2selPoints=function(ee){var oe=ee.selectedpoints,ce=ee._indexToPoints;if(ce){for(var fe=S(ce),le=[],pe=0;pe<oe.length;pe++){var Me=oe[pe];if(s.isIndex(Me)){var Ae=fe[Me];s.isIndex(Ae)&&le.push(Ae)}}return le}return oe},s.getTargetArray=function(ee,oe){var ce=oe.target;if("string"==typeof ce&&ce){var fe=s.nestedProperty(ee,ce).get();return!!Array.isArray(fe)&&fe}return!!Array.isArray(ce)&&ce},s.minExtend=function ee(oe,ce,fe){var le={};"object"!=typeof ce&&(ce={});var pe,Me,Ae,be="pieLike"===fe?-1:3,ye=Object.keys(oe);for(pe=0;pe<ye.length;pe++)Ae=oe[Me=ye[pe]],"_"!==Me.charAt(0)&&"function"!=typeof Ae&&(le[Me]="module"===Me?Ae:Array.isArray(Ae)?"colorscale"===Me||-1===be?Ae.slice():Ae.slice(0,be):s.isTypedArray(Ae)?-1===be?Ae.subarray():Ae.subarray(0,be):Ae&&"object"==typeof Ae?ee(oe[Me],ce[Me],fe):Ae);for(ye=Object.keys(ce),pe=0;pe<ye.length;pe++)"object"==typeof(Ae=ce[Me=ye[pe]])&&Me in le&&"object"==typeof le[Me]||(le[Me]=Ae);return le},s.titleCase=function(ee){return ee.charAt(0).toUpperCase()+ee.substr(1)},s.containsAny=function(ee,oe){for(var ce=0;ce<oe.length;ce++)if(-1!==ee.indexOf(oe[ce]))return!0;return!1},s.isIE=function(){return void 0!==window.navigator.msSaveBlob};var O=/Version\/[\d\.]+.*Safari/;s.isSafari=function(){return O.test(window.navigator.userAgent)};var R=/iPad|iPhone|iPod/;s.isIOS=function(){return R.test(window.navigator.userAgent)};var L=/Firefox\/(\d+)\.\d+/;s.getFirefoxVersion=function(){var ee=L.exec(window.navigator.userAgent);if(ee&&2===ee.length){var oe=parseInt(ee[1]);if(!isNaN(oe))return oe}return null},s.isD3Selection=function(ee){return ee instanceof D.selection},s.ensureSingle=function(ee,oe,ce,fe){var le=ee.select(oe+(ce?"."+ce:""));if(le.size())return le;var pe=ee.append(oe);return ce&&pe.classed(ce,!0),fe&&pe.call(fe),pe},s.ensureSingleById=function(ee,oe,ce,fe){var le=ee.select(oe+"#"+ce);if(le.size())return le;var pe=ee.append(oe).attr("id",ce);return fe&&pe.call(fe),pe},s.objectFromPath=function(ee,oe){for(var ce,fe=ee.split("."),le=ce={},pe=0;pe<fe.length;pe++){var Me=fe[pe],Ae=null,be=fe[pe].match(/(.*)\[([0-9]+)\]/);be?(Ae=be[2],(ce=ce[Me=be[1]]=[])[Ae]=pe===fe.length-1?oe:{},ce=ce[Ae]):(ce[Me]=pe===fe.length-1?oe:{},ce=ce[Me])}return le};var N=/^([^\[\.]+)\.(.+)?/,j=/^([^\.]+)\[([0-9]+)\](\.)?(.+)?/;function X(ee){return"__"===ee.slice(0,2)}s.expandObjectPaths=function(ee){var oe,ce,fe,le,pe,Me,Ae;if("object"==typeof ee&&!Array.isArray(ee))for(ce in ee)if(ee.hasOwnProperty(ce))if(oe=ce.match(N)){if(le=ee[ce],X(fe=oe[1]))continue;delete ee[ce],ee[fe]=s.extendDeepNoArrays(ee[fe]||{},s.objectFromPath(ce,s.expandObjectPaths(le))[fe])}else if(oe=ce.match(j)){if(le=ee[ce],X(fe=oe[1]))continue;if(pe=parseInt(oe[2]),delete ee[ce],ee[fe]=ee[fe]||[],"."===oe[3])Ae=oe[4],Me=ee[fe][pe]=ee[fe][pe]||{},s.extendDeepNoArrays(Me,s.objectFromPath(Ae,s.expandObjectPaths(le)));else{if(X(fe))continue;ee[fe][pe]=s.expandObjectPaths(le)}}else{if(X(ce))continue;ee[ce]=s.expandObjectPaths(ee[ce])}return ee},s.numSeparate=function(ee,oe,ce){if(ce||(ce=!1),"string"!=typeof oe||0===oe.length)throw new Error("Separator string required for formatting!");"number"==typeof ee&&(ee=String(ee));var fe=/(\d+)(\d{3})/,le=oe.charAt(0),pe=oe.charAt(1),Me=ee.split("."),Ae=Me[0],be=Me.length>1?le+Me[1]:"";if(pe&&(Me.length>1||Ae.length>4||ce))for(;fe.test(Ae);)Ae=Ae.replace(fe,"$1"+pe+"$2");return Ae+be},s.TEMPLATE_STRING_REGEX=/%{([^\s%{}:]*)([:|\|][^}]*)?}/g;var F=/^\w*$/;s.templateString=function(ee,oe){var ce={};return ee.replace(s.TEMPLATE_STRING_REGEX,function(fe,le){var pe;return F.test(le)?pe=oe[le]:(ce[le]=ce[le]||s.nestedProperty(oe,le).get,pe=ce[le]()),s.isValidTextValue(pe)?pe:""})};var Y={max:10,count:0,name:"hovertemplate"};s.hovertemplateString=function(){return se.apply(Y,arguments)};var G={max:10,count:0,name:"texttemplate"};s.texttemplateString=function(){return se.apply(G,arguments)};var H=/^(\S+)([\*\/])(-?\d+(\.\d+)?)$/,W={max:10,count:0,name:"texttemplate",parseMultDiv:!0};s.texttemplateStringForShapes=function(){return se.apply(W,arguments)};var Z=/^[:|\|]/;function se(ee,oe,ce){var fe=this,le=arguments;oe||(oe={});var pe={};return ee.replace(s.TEMPLATE_STRING_REGEX,function(Me,Ae,be){var ye="_xother"===Ae||"_yother"===Ae,we="_xother_"===Ae||"_yother_"===Ae,ze="xother_"===Ae||"yother_"===Ae,Se="xother"===Ae||"yother"===Ae||ye||ze||we,Ce=Ae;(ye||we)&&(Ce=Ce.substring(1)),(ze||we)&&(Ce=Ce.substring(0,Ce.length-1));var ge,he,_e,Oe,ke,Le=null,Ie=null;if(fe.parseMultDiv){var De=(ke=(Oe=Ce).match(H))?{key:ke[1],op:ke[2],number:Number(ke[3])}:{key:Oe,op:null,number:null};Ce=De.key,Le=De.op,Ie=De.number}if(Se){if(void 0===(ge=oe[Ce]))return""}else for(_e=3;_e<le.length;_e++)if(he=le[_e]){if(he.hasOwnProperty(Ce)){ge=he[Ce];break}if(F.test(Ce)||(ge=s.nestedProperty(he,Ce).get(),(ge=pe[Ce]||s.nestedProperty(he,Ce).get())&&(pe[Ce]=ge)),void 0!==ge)break}if(void 0!==ge&&("*"===Le&&(ge*=Ie),"/"===Le&&(ge/=Ie)),void 0===ge&&fe)return fe.count<fe.max&&(s.warn("Variable '"+Ce+"' in "+fe.name+" could not be found!"),ge=Me),fe.count===fe.max&&s.warn("Too many "+fe.name+" warnings - additional warnings will be suppressed"),fe.count++,Me;if(be){var je;if(":"===be[0]&&(ge=(je=ce?ce.numberFormat:s.numberFormat)(be.replace(Z,""))(ge)),"|"===be[0]){je=ce?ce.timeFormat:E;var qe=s.dateTime2ms(ge);ge=s.formatDate(qe,be.replace(Z,""),!1,je)}}else{var ve=Ce+"Label";oe.hasOwnProperty(ve)&&(ge=oe[ve])}return Se&&(ge="("+ge+")",(ye||we)&&(ge=" "+ge),(ze||we)&&(ge+=" ")),ge})}s.subplotSort=function(ee,oe){for(var ce=Math.min(ee.length,oe.length)+1,fe=0,le=0,pe=0;pe<ce;pe++){var Me=ee.charCodeAt(pe)||0,Ae=oe.charCodeAt(pe)||0,be=Me>=48&&Me<=57,ye=Ae>=48&&Ae<=57;if(be&&(fe=10*fe+Me-48),ye&&(le=10*le+Ae-48),!be||!ye){if(fe!==le)return fe-le;if(Me!==Ae)return Me-Ae}}return le-fe};var re=2e9;s.seedPseudoRandom=function(){re=2e9},s.pseudoRandom=function(){var ee=re;return re=(69069*re+1)%4294967296,Math.abs(re-ee)<429496729?s.pseudoRandom():re/4294967296},s.fillText=function(ee,oe,ce){var fe=Array.isArray(ce)?function(Me){ce.push(Me)}:function(Me){ce.text=Me},le=s.extractOption(ee,oe,"htx","hovertext");if(s.isValidTextValue(le))return fe(le);var pe=s.extractOption(ee,oe,"tx","text");return s.isValidTextValue(pe)?fe(pe):void 0},s.isValidTextValue=function(ee){return ee||0===ee},s.formatPercent=function(ee,oe){oe=oe||0;for(var ce=(Math.round(100*ee*Math.pow(10,oe))*Math.pow(.1,oe)).toFixed(oe)+"%",fe=0;fe<oe;fe++)-1!==ce.indexOf(".")&&(ce=(ce=ce.replace("0%","%")).replace(".%","%"));return ce},s.isHidden=function(ee){var oe=window.getComputedStyle(ee).display;return!oe||"none"===oe},s.strTranslate=function(ee,oe){return ee||oe?"translate("+ee+","+oe+")":""},s.strRotate=function(ee){return ee?"rotate("+ee+")":""},s.strScale=function(ee){return 1!==ee?"scale("+ee+")":""},s.getTextTransform=function(ee){var oe=ee.noCenter,ce=ee.textX,fe=ee.textY,be=ee.rotate,ye=ee.scale;return ye?ye>1&&(ye=1):ye=0,s.strTranslate(ee.targetX-ye*(ce+(ee.anchorX||0)),ee.targetY-ye*(fe+(ee.anchorY||0)))+s.strScale(ye)+(be?"rotate("+be+(oe?"":" "+ce+" "+fe)+")":"")},s.setTransormAndDisplay=function(ee,oe){ee.attr("transform",s.getTextTransform(oe)),ee.style("display",oe.scale?null:"none")},s.ensureUniformFontSize=function(ee,oe){var ce=s.extendFlat({},oe);return ce.size=Math.max(oe.size,ee._fullLayout.uniformtext.minsize||0),ce},s.join2=function(ee,oe,ce){var fe=ee.length;return fe>1?ee.slice(0,-1).join(oe)+ce+ee[fe-1]:ee.join(oe)},s.bigFont=function(ee){return Math.round(1.2*ee)};var ne=s.getFirefoxVersion(),Q=null!==ne&&ne<86;s.getPositionFromD3Event=function(){return Q?[D.event.layerX,D.event.layerY]:[D.event.offsetX,D.event.offsetY]}},41965:function(ae){"use strict";ae.exports=function(B){return window&&window.process&&window.process.versions?"[object Object]"===Object.prototype.toString.call(B):"[object Object]"===Object.prototype.toString.call(B)&&Object.getPrototypeOf(B).hasOwnProperty("hasOwnProperty")}},66636:function(ae,B,r){"use strict";var D=r(65487),E=/^\w*$/;ae.exports=function(f,k,M,y){var c,i,s;M=M||"name",y=y||"value";var a={};k&&k.length?(s=D(f,k),i=s.get()):i=f,k=k||"";var o={};if(i)for(c=0;c<i.length;c++)o[i[c][M]]=c;var l=E.test(y),u={set:function(h,v){var p=null===v?4:0;if(!i){if(!s||4===p)return;s.set(i=[])}var T=o[h];if(void 0===T){if(4===p)return;p|=3,o[h]=T=i.length}else v!==(l?i[T][y]:D(i[T],y).get())&&(p|=2);var _=i[T]=i[T]||{};return _[M]=h,l?_[y]=v:D(_,y).set(v),null!==v&&(p&=-5),a[T]=a[T]|p,u},get:function(h){if(i){var v=o[h];return void 0===v?void 0:l?i[v][y]:D(i[v],y).get()}},rename:function(h,v){var p=o[h];return void 0===p||(a[p]=1|a[p],o[v]=p,delete o[h],i[p][M]=v),u},remove:function(h){var v=o[h];if(void 0===v)return u;var p=i[v];if(Object.keys(p).length>2)return a[v]=2|a[v],u.set(h,null);if(l){for(c=v;c<i.length;c++)a[c]=3|a[c];for(c=v;c<i.length;c++)o[i[c][M]]--;i.splice(v,1),delete o[h]}else D(p,y).set(null),a[v]=6|a[v];return u},constructUpdate:function(){for(var h,v,p={},T=Object.keys(a),_=0;_<T.length;_++)h=k+"["+(v=T[_])+"]",i[v]?(1&a[v]&&(p[h+"."+M]=i[v][M]),2&a[v]&&(p[h+"."+y]=l?4&a[v]?null:i[v][y]:4&a[v]?null:D(i[v],y).get())):p[h]=null;return p}};return u}},15867:function(ae,B,r){"use strict";var D=r(73972);ae.exports=function(E,f){for(var k=E._context.locale,M=0;M<2;M++){for(var y=E._context.locales,c=0;c<2;c++){var i=(y[k]||{}).dictionary;if(i){var s=i[f];if(s)return s}y=D.localeRegistry}var a=k.split("-")[0];if(a===k)break;k=a}return f}},47769:function(ae,B,r){"use strict";var D=r(72075).dfltConfig,E=r(75046),f=ae.exports={};f.log=function(){var k;if(D.logging>1){var M=["LOG:"];for(k=0;k<arguments.length;k++)M.push(arguments[k]);console.trace.apply(console,M)}if(D.notifyOnLogging>1){var y=[];for(k=0;k<arguments.length;k++)y.push(arguments[k]);E(y.join("<br>"),"long")}},f.warn=function(){var k;if(D.logging>0){var M=["WARN:"];for(k=0;k<arguments.length;k++)M.push(arguments[k]);console.trace.apply(console,M)}if(D.notifyOnLogging>0){var y=[];for(k=0;k<arguments.length;k++)y.push(arguments[k]);E(y.join("<br>"),"stick")}},f.error=function(){var k;if(D.logging>0){var M=["ERROR:"];for(k=0;k<arguments.length;k++)M.push(arguments[k]);console.error.apply(console,M)}if(D.notifyOnLogging>0){var y=[];for(k=0;k<arguments.length;k++)y.push(arguments[k]);E(y.join("<br>"),"stick")}}},77310:function(ae,B,r){"use strict";var D=r(39898);ae.exports=function(E,f,k){var M=E.selectAll("g."+k.replace(/\s/g,".")).data(f,function(c){return c[0].trace.uid});M.exit().remove(),M.enter().append("g").attr("class",k),M.order();var y=E.classed("rangeplot")?"nodeRangePlot3":"node3";return M.each(function(c){c[0][y]=D.select(this)}),M}},35657:function(ae,B,r){"use strict";var D=r(79576);B.init2dArray=function(E,f){for(var k=new Array(E),M=0;M<E;M++)k[M]=new Array(f);return k},B.transposeRagged=function(E){var f,k,M=0,y=E.length;for(f=0;f<y;f++)M=Math.max(M,E[f].length);var c=new Array(M);for(f=0;f<M;f++)for(c[f]=new Array(y),k=0;k<y;k++)c[f][k]=E[k][f];return c},B.dot=function(E,f){if(!E.length||!f.length||E.length!==f.length)return null;var k,M,y=E.length;if(E[0].length)for(k=new Array(y),M=0;M<y;M++)k[M]=B.dot(E[M],f);else if(f[0].length){var c=B.transposeRagged(f);for(k=new Array(c.length),M=0;M<c.length;M++)k[M]=B.dot(E,c[M])}else for(k=0,M=0;M<y;M++)k+=E[M]*f[M];return k},B.translationMatrix=function(E,f){return[[1,0,E],[0,1,f],[0,0,1]]},B.rotationMatrix=function(E){var f=E*Math.PI/180;return[[Math.cos(f),-Math.sin(f),0],[Math.sin(f),Math.cos(f),0],[0,0,1]]},B.rotationXYMatrix=function(E,f,k){return B.dot(B.dot(B.translationMatrix(f,k),B.rotationMatrix(E)),B.translationMatrix(-f,-k))},B.apply3DTransform=function(E){return function(){var f=arguments,k=1===arguments.length?f[0]:[f[0],f[1],f[2]||0];return B.dot(E,[k[0],k[1],k[2],1]).slice(0,3)}},B.apply2DTransform=function(E){return function(){var f=arguments;3===f.length&&(f=f[0]);var k=1===arguments.length?f[0]:[f[0],f[1]];return B.dot(E,[k[0],k[1],1]).slice(0,2)}},B.apply2DTransform2=function(E){var f=B.apply2DTransform(E);return function(k){return f(k.slice(0,2)).concat(f(k.slice(2,4)))}},B.convertCssMatrix=function(E){if(E){var f=E.length;if(16===f)return E;if(6===f)return[E[0],E[1],0,0,E[2],E[3],0,0,0,0,1,0,E[4],E[5],0,1]}return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},B.inverseTransformMatrix=function(E){var f=[];return D.invert(f,E),[[f[0],f[1],f[2],f[3]],[f[4],f[5],f[6],f[7]],[f[8],f[9],f[10],f[11]],[f[12],f[13],f[14],f[15]]]}},64872:function(ae){"use strict";ae.exports={mod:function(B,r){var D=B%r;return D<0?D+r:D},modHalf:function(B,r){return Math.abs(B)>r/2?B-Math.round(B/r)*r:B}}},65487:function(ae,B,r){"use strict";var D=r(92770),E=r(73627).isArrayOrTypedArray;function f(a,o){return function(){var l,u,h,v,p,T=a;for(v=0;v<o.length-1;v++){if(-1===(l=o[v])){for(u=!0,h=[],p=0;p<T.length;p++)h[p]=f(T[p],o.slice(v+1))(),h[p]!==h[0]&&(u=!1);return u?h[0]:h}if("number"==typeof l&&!E(T)||"object"!=typeof(T=T[l])||null===T)return}if("object"==typeof T&&null!==T&&null!==(h=T[o[v]]))return h}}ae.exports=function(a,o){if(D(o))o=String(o);else if("string"!=typeof o||"[-1]"===o.substr(o.length-4))throw"bad property string";var l,u,h,v,p=o.split(".");for(v=0;v<p.length;v++)if("__"===String(p[v]).slice(0,2))throw"bad property string";for(v=0;v<p.length;){if(l=String(p[v]).match(/^([^\[\]]*)((\[\-?[0-9]*\])+)$/)){if(l[1])p[v]=l[1];else{if(0!==v)throw"bad property string";p.splice(0,1)}for(u=l[2].substr(1,l[2].length-2).split("]["),h=0;h<u.length;h++)v++,p.splice(v,0,Number(u[h]))}v++}return"object"!=typeof a?{set:function(){throw"bad container"},get:function(){},astr:o,parts:p,obj:a}:{set:y(a,p,o),get:f(a,p),astr:o,parts:p,obj:a}};var k=/(^|\.)args\[/;function M(a,o){return void 0===a||null===a&&!o.match(k)}function y(a,o,l){return function(u){var h,v,p=a,T="",_=[[a,T]],m=M(u,l);for(v=0;v<o.length-1;v++){if("number"==typeof(h=o[v])&&!E(p))throw"array index but container is not an array";if(-1===h){if(m=!i(p,o.slice(v+1),u,l))break;return}if(!s(p,h,o[v+1],m))break;if("object"!=typeof(p=p[h])||null===p)throw"container is not an object";T=c(T,h),_.push([p,T])}if(m){if(v===o.length-1&&(delete p[o[v]],Array.isArray(p)&&+o[v]==p.length-1))for(;p.length&&void 0===p[p.length-1];)p.pop()}else p[o[v]]=u}}function c(a,o){var l=o;return D(o)?l="["+o+"]":a&&(l="."+o),a+l}function i(a,o,l,u){var h,v=E(l),p=!0,T=l,_=u.replace("-1",0),m=!v&&M(l,_),w=o[0];for(h=0;h<a.length;h++)_=u.replace("-1",h),v&&(m=M(T=l[h%l.length],_)),m&&(p=!1),s(a,h,w,m)&&y(a[h],o,u.replace("-1",h))(T);return p}function s(a,o,l,u){if(void 0===a[o]){if(u)return!1;a[o]="number"==typeof l?[]:{}}return!0}},64213:function(ae){"use strict";ae.exports=function(){}},75046:function(ae,B,r){"use strict";var D=r(39898),E=r(92770),f=[];ae.exports=function(k,M){if(-1===f.indexOf(k)){f.push(k);var y=1e3;E(M)?y=M:"long"===M&&(y=3e3);var c=D.select("body").selectAll(".plotly-notifier").data([0]);c.enter().append("div").classed("plotly-notifier",!0),c.selectAll(".notifier-note").data(f).enter().append("div").classed("notifier-note",!0).style("opacity",0).each(function(s){var a=D.select(this);a.append("button").classed("notifier-close",!0).html("&times;").on("click",function(){a.transition().call(i)});for(var o=a.append("p"),l=s.split(/<br\s*\/?>/g),u=0;u<l.length;u++)u&&o.append("br"),o.append("span").text(l[u]);"stick"===M?a.transition().duration(350).style("opacity",1):a.transition().duration(700).style("opacity",1).transition().delay(y).call(i)})}function i(s){s.duration(700).style("opacity",0).each("end",function(a){var o=f.indexOf(a);-1!==o&&f.splice(o,1),D.select(this).remove()})}}},39918:function(ae,B,r){"use strict";var D=r(6964),E="data-savedcursor";ae.exports=function(f,k){var M=f.attr(E);if(k){if(!M){for(var y=(f.attr("class")||"").split(" "),c=0;c<y.length;c++){var i=y[c];0===i.indexOf("cursor-")&&f.attr(E,i.substr(7)).classed(i,!1)}f.attr(E)||f.attr(E,"!!")}D(f,k)}else M&&(f.attr(E,null),"!!"===M?D(f):D(f,M))}},61082:function(ae,B,r){"use strict";var D=r(35657).dot,E=r(50606).BADNUM,f=ae.exports={};f.tester=function(k){var M,y=k.slice(),c=y[0][0],i=c,s=y[0][1],a=s;for(y[y.length-1][0]===y[0][0]&&y[y.length-1][1]===y[0][1]||y.push(y[0]),M=1;M<y.length;M++)c=Math.min(c,y[M][0]),i=Math.max(i,y[M][0]),s=Math.min(s,y[M][1]),a=Math.max(a,y[M][1]);var o,l=!1;5===y.length&&(y[0][0]===y[1][0]?y[2][0]===y[3][0]&&y[0][1]===y[3][1]&&y[1][1]===y[2][1]&&(l=!0,o=function(v){return v[0]===y[0][0]}):y[0][1]===y[1][1]&&y[2][1]===y[3][1]&&y[0][0]===y[3][0]&&y[1][0]===y[2][0]&&(l=!0,o=function(v){return v[1]===y[0][1]}));var u=!0,h=y[0];for(M=1;M<y.length;M++)if(h[0]!==y[M][0]||h[1]!==y[M][1]){u=!1;break}return{xmin:c,xmax:i,ymin:s,ymax:a,pts:y,contains:l?function(v,p){var T=v[0],_=v[1];return!(T===E||T<c||T>i||_===E||_<s||_>a||p&&o(v))}:function(v,p){var T=v[0],_=v[1];if(T===E||T<c||T>i||_===E||_<s||_>a)return!1;var m,w,x,b,A,g=y.length,I=y[0][0],S=y[0][1],O=0;for(m=1;m<g;m++)if(w=I,x=S,I=y[m][0],S=y[m][1],!(T<(b=Math.min(w,I))||T>Math.max(w,I)||_>Math.max(x,S)))if(_<Math.min(x,S))T!==b&&O++;else{if(_===(A=I===w?_:x+(T-w)*(S-x)/(I-w)))return 1!==m||!p;_<=A&&T!==b&&O++}return O%2==1},isRect:l,degenerate:u}},f.isSegmentBent=function(k,M,y,c){var i,s,a,o=k[M],l=[k[y][0]-o[0],k[y][1]-o[1]],u=D(l,l),h=Math.sqrt(u),v=[-l[1]/h,l[0]/h];for(i=M+1;i<y;i++)if((a=D(s=[k[i][0]-o[0],k[i][1]-o[1]],l))<0||a>u||Math.abs(D(s,v))>c)return!0;return!1},f.filter=function(k,M){var y=[k[0]],c=0,i=0;function s(a){k.push(a);var o=y.length,l=c;y.splice(i+1);for(var u=l+1;u<k.length;u++)(u===k.length-1||f.isSegmentBent(k,l,u+1,M))&&(y.push(k[u]),y.length<o-2&&(c=u,i=y.length-1),l=u)}return k.length>1&&s(k.pop()),{addPt:s,raw:k,filtered:y}}},79749:function(ae,B,r){"use strict";var D=r(58617),E=r(98580);ae.exports=function(f,k,M){var y=f._fullLayout,c=!0;return y._glcanvas.each(function(i){if(i.regl)i.regl.preloadCachedCode(M);else if(!i.pick||y._has("parcoords")){try{i.regl=E({canvas:this,attributes:{antialias:!i.pick,preserveDrawingBuffer:!0},pixelRatio:f._context.plotGlPixelRatio||r.g.devicePixelRatio,extensions:k||[],cachedCode:M||{}})}catch{c=!1}i.regl||(c=!1),c&&this.addEventListener("webglcontextlost",function(s){f&&f.emit&&f.emit("plotly_webglcontextlost",{event:s,layer:i.key})},!1)}}),c||D({container:y._glcontainer.node()}),c}},45142:function(ae,B,r){"use strict";var D=r(92770),E=r(35791);ae.exports=function(f){var k,o;if("string"!=typeof(k=f&&f.hasOwnProperty("userAgent")?f.userAgent:(typeof navigator<"u"&&(o=navigator.userAgent),o&&o.headers&&"string"==typeof o.headers["user-agent"]&&(o=o.headers["user-agent"]),o)))return!0;var M=E({ua:{headers:{"user-agent":k}},tablet:!0,featureDetect:!1});if(!M)for(var y=k.split(" "),c=1;c<y.length;c++)if(-1!==y[c].indexOf("Safari"))for(var i=c-1;i>-1;i--){var s=y[i];if("Version/"===s.substr(0,8)){var a=s.substr(8).split(".")[0];if(D(a)&&(a=+a),a>=13)return!0}}return M}},75138:function(ae){"use strict";ae.exports=function(B,r){if(r instanceof RegExp){for(var D=r.toString(),E=0;E<B.length;E++)if(B[E]instanceof RegExp&&B[E].toString()===D)return B;B.push(r)}else!r&&0!==r||-1!==B.indexOf(r)||B.push(r);return B}},10847:function(ae,B,r){"use strict";var D=r(71828),E=r(72075).dfltConfig,f={add:function(k,M,y,c,i){var s,a;k.undoQueue=k.undoQueue||{index:0,queue:[],sequence:!1},a=k.undoQueue.index,k.autoplay?k.undoQueue.inSequence||(k.autoplay=!1):(!k.undoQueue.sequence||k.undoQueue.beginSequence?(k.undoQueue.queue.splice(a,k.undoQueue.queue.length-a,s={undo:{calls:[],args:[]},redo:{calls:[],args:[]}}),k.undoQueue.index+=1):s=k.undoQueue.queue[a-1],k.undoQueue.beginSequence=!1,s&&(s.undo.calls.unshift(M),s.undo.args.unshift(y),s.redo.calls.push(c),s.redo.args.push(i)),k.undoQueue.queue.length>E.queueLength&&(k.undoQueue.queue.shift(),k.undoQueue.index--))},startSequence:function(k){k.undoQueue=k.undoQueue||{index:0,queue:[],sequence:!1},k.undoQueue.sequence=!0,k.undoQueue.beginSequence=!0},stopSequence:function(k){k.undoQueue=k.undoQueue||{index:0,queue:[],sequence:!1},k.undoQueue.sequence=!1,k.undoQueue.beginSequence=!1},undo:function(k){var M,y;if(!(void 0===k.undoQueue||isNaN(k.undoQueue.index)||k.undoQueue.index<=0)){for(k.undoQueue.index--,M=k.undoQueue.queue[k.undoQueue.index],k.undoQueue.inSequence=!0,y=0;y<M.undo.calls.length;y++)f.plotDo(k,M.undo.calls[y],M.undo.args[y]);k.undoQueue.inSequence=!1,k.autoplay=!1}},redo:function(k){var M,y;if(!(void 0===k.undoQueue||isNaN(k.undoQueue.index)||k.undoQueue.index>=k.undoQueue.queue.length)){for(M=k.undoQueue.queue[k.undoQueue.index],k.undoQueue.inSequence=!0,y=0;y<M.redo.calls.length;y++)f.plotDo(k,M.redo.calls[y],M.redo.args[y]);k.undoQueue.inSequence=!1,k.autoplay=!1,k.undoQueue.index++}},plotDo:function(k,M,y){k.autoplay=!0,y=function(c,i){for(var s,a=[],o=0;o<i.length;o++)a[o]=(s=i[o])===c?s:"object"==typeof s?Array.isArray(s)?D.extendDeep([],s):D.extendDeepAll({},s):s;return a}(k,y),M.apply(null,y)}};ae.exports=f},30587:function(ae,B){"use strict";B.counter=function(r,D,E,f){var k=(D||"")+(E?"":"$"),M=!1===f?"":"^";return"xy"===r?new RegExp(M+"x([2-9]|[1-9][0-9]+)?y([2-9]|[1-9][0-9]+)?"+k):new RegExp(M+r+"([2-9]|[1-9][0-9]+)?"+k)}},6962:function(ae){"use strict";var B=/^(.*)(\.[^\.\[\]]+|\[\d\])$/,r=/^[^\.\[\]]+$/;ae.exports=function(D,E){for(;E;){var f=D.match(B);if(f)D=f[1];else{if(!D.match(r))throw new Error("bad relativeAttr call:"+[D,E]);D=""}if("^"!==E.charAt(0))break;E=E.slice(1)}return D&&"["!==E.charAt(0)?D+"."+E:D+E}},51332:function(ae,B,r){"use strict";var D=r(73627).isArrayOrTypedArray,E=r(41965);ae.exports=function f(k,M){for(var y in M){var c=M[y],i=k[y];if(i!==c)if("_"===y.charAt(0)||"function"==typeof c){if(y in k)continue;k[y]=c}else if(D(c)&&D(i)&&E(c[0])){if("customdata"===y||"ids"===y)continue;for(var s=Math.min(c.length,i.length),a=0;a<s;a++)i[a]!==c[a]&&E(c[a])&&E(i[a])&&f(i[a],c[a])}else E(c)&&E(i)&&(f(i,c),Object.keys(i).length||delete k[y])}}},65888:function(ae,B,r){"use strict";var D=r(92770),E=r(47769),f=r(23389),k=r(50606).BADNUM,M=1e-9;function y(a,o){return a<o}function c(a,o){return a<=o}function i(a,o){return a>o}function s(a,o){return a>=o}B.findBin=function(a,o,l){if(D(o.start))return l?Math.ceil((a-o.start)/o.size-M)-1:Math.floor((a-o.start)/o.size+M);var u,h,v=0,p=o.length,T=0,_=p>1?(o[p-1]-o[0])/(p-1):1;for(h=_>=0?l?y:c:l?s:i,a+=_*M*(l?-1:1)*(_>=0?1:-1);v<p&&T++<100;)h(o[u=Math.floor((v+p)/2)],a)?v=u+1:p=u;return T>90&&E.log("Long binary search..."),v-1},B.sorterAsc=function(a,o){return a-o},B.sorterDes=function(a,o){return o-a},B.distinctVals=function(a){var o,l=a.slice();for(l.sort(B.sorterAsc),o=l.length-1;o>-1&&l[o]===k;o--);for(var u,h=l[o]-l[0]||1,v=h/(o||1)/1e4,p=[],T=0;T<=o;T++){var _=l[T],m=_-u;void 0===u?(p.push(_),u=_):m>v&&(h=Math.min(h,m),p.push(_),u=_)}return{vals:p,minDiff:h}},B.roundUp=function(a,o,l){for(var u,h=0,v=o.length-1,p=0,T=l?0:1,_=l?1:0,m=l?Math.ceil:Math.floor;h<v&&p++<100;)o[u=m((h+v)/2)]<=a?h=u+T:v=u-_;return o[h]},B.sort=function(a,o){for(var l=0,u=0,h=1;h<a.length;h++){var v=o(a[h],a[h-1]);if(v<0?l=1:v>0&&(u=1),l&&u)return a.sort(o)}return u?a:a.reverse()},B.findIndexOfMin=function(a,o){o=o||f;for(var l,u=1/0,h=0;h<a.length;h++){var v=o(a[h]);v<u&&(u=v,l=h)}return l}},6964:function(ae){"use strict";ae.exports=function(B,r){(B.attr("class")||"").split(" ").forEach(function(D){0===D.indexOf("cursor-")&&B.classed(D,!1)}),r&&B.classed("cursor-"+r,!0)}},58617:function(ae,B,r){"use strict";var D=r(7901),E=function(){};ae.exports=function(f){for(var k in f)"function"==typeof f[k]&&(f[k]=E);f.destroy=function(){f.container.parentNode.removeChild(f.container)};var M=document.createElement("div");M.className="no-webgl",M.style.cursor="pointer",M.style.fontSize="24px",M.style.color=D.defaults[0],M.style.position="absolute",M.style.left=M.style.top="0px",M.style.width=M.style.height="100%",M.style["background-color"]=D.lightLine,M.style["z-index"]=30;var y=document.createElement("p");return y.textContent="WebGL is not supported by your browser - visit https://get.webgl.org for more info",y.style.position="relative",y.style.top="50%",y.style.left="50%",y.style.height="30%",y.style.width="50%",y.style.margin="-15% 0 0 -25%",M.appendChild(y),f.container.appendChild(M),f.container.style.background="#FFFFFF",f.container.onclick=function(){window.open("https://get.webgl.org")},!1}},78607:function(ae){"use strict";ae.exports=function(B){return Object.keys(B).sort()}},80038:function(ae,B,r){"use strict";var D=r(92770),E=r(73627).isArrayOrTypedArray;B.aggNums=function(f,k,M,y){var c,i;if((!y||y>M.length)&&(y=M.length),D(k)||(k=!1),E(M[0])){for(i=new Array(y),c=0;c<y;c++)i[c]=B.aggNums(f,k,M[c]);M=i}for(c=0;c<y;c++)D(k)?D(M[c])&&(k=f(+k,+M[c])):k=M[c];return k},B.len=function(f){return B.aggNums(function(k){return k+1},0,f)},B.mean=function(f,k){return k||(k=B.len(f)),B.aggNums(function(M,y){return M+y},0,f)/k},B.midRange=function(f){if(void 0!==f&&0!==f.length)return(B.aggNums(Math.max,null,f)+B.aggNums(Math.min,null,f))/2},B.variance=function(f,k,M){return k||(k=B.len(f)),D(M)||(M=B.mean(f,k)),B.aggNums(function(y,c){return y+Math.pow(c-M,2)},0,f)/k},B.stdev=function(f,k,M){return Math.sqrt(B.variance(f,k,M))},B.median=function(f){var k=f.slice().sort();return B.interp(k,.5)},B.interp=function(f,k){if(!D(k))throw"n should be a finite number";if((k=k*f.length-.5)<0)return f[0];if(k>f.length-1)return f[f.length-1];var M=k%1;return M*f[Math.ceil(k)]+(1-M)*f[Math.floor(k)]}},78614:function(ae,B,r){"use strict";var D=r(25075);ae.exports=function(E){return E?D(E):[0,0,0,1]}},3883:function(ae,B,r){"use strict";var D=r(32396),E=r(91424),f=r(71828),k=null;ae.exports=function(){if(null!==k)return k;k=!1;var M=f.isIE()||f.isSafari()||f.isIOS();if(window.navigator.userAgent&&!M){var y=Array.from(D.CSS_DECLARATIONS).reverse(),c=window.CSS&&window.CSS.supports||window.supportsCSS;if("function"==typeof c)k=y.some(function(a){return c.apply(null,a)});else{var i=E.tester.append("image").attr("style",D.STYLE),s=window.getComputedStyle(i.node()).imageRendering;k=y.some(function(a){var o=a[1];return s===o||s===o.toLowerCase()}),i.remove()}}return k}},63893:function(ae,B,r){"use strict";var D=r(39898),E=r(71828),f=E.strTranslate,k=r(77922),M=r(18783).LINE_SPACING,y=/([^$]*)([$]+[^$]*[$]+)([^$]*)/;B.convertToTspans=function(j,X,F){var Y=j.text(),G=!j.attr("data-notex")&&X&&X._context.typesetMath&&typeof MathJax<"u"&&Y.match(y),H=D.select(j.node().parentNode);if(!H.empty()){var W=j.attr("class")?j.attr("class").split(" ")[0]:"text";return H.selectAll("svg."+(W+="-math")).remove(),H.selectAll("g."+W+"-group").remove(),j.style("display",null).attr({"data-unformatted":Y,"data-math":"N"}),G?(X&&X._promises||[]).push(new Promise(function(se){j.style("display","none");var re=parseInt(j.node().style.fontSize,10);!function(Q,ee,oe){var ce,fe,le,pe,Me=parseInt((MathJax.version||"").split(".")[0]);if(2===Me||3===Me){var Ae=function(){var ye="math-output-"+E.randstr({},64),we=(pe=D.select("body").append("div").attr({id:ye}).style({visibility:"hidden",position:"absolute","font-size":ee.fontSize+"px"}).text(Q.replace(c,"\\lt ").replace(i,"\\gt "))).node();return 2===Me?MathJax.Hub.Typeset(we):MathJax.typeset([we])},be=function(){var ye=pe.select(2===Me?".MathJax_SVG":".MathJax"),we=!ye.empty()&&pe.select("svg").node();if(we){var ze,Se=we.getBoundingClientRect();ze=2===Me?D.select("body").select("#MathJax_SVG_glyphs"):ye.select("defs"),oe(ye,ze,Se)}else E.log("There was an error in the tex syntax.",Q),oe();pe.remove()};2===Me?MathJax.Hub.Queue(function(){return fe=E.extendDeepAll({},MathJax.Hub.config),le=MathJax.Hub.processSectionDelay,void 0!==MathJax.Hub.processSectionDelay&&(MathJax.Hub.processSectionDelay=0),MathJax.Hub.Config({messageStyle:"none",tex2jax:{inlineMath:s},displayAlign:"left"})},function(){if("SVG"!==(ce=MathJax.Hub.config.menuSettings.renderer))return MathJax.Hub.setRenderer("SVG")},Ae,be,function(){if("SVG"!==ce)return MathJax.Hub.setRenderer(ce)},function(){return void 0!==le&&(MathJax.Hub.processSectionDelay=le),MathJax.Hub.Config(fe)}):3===Me&&(fe=E.extendDeepAll({},MathJax.config),MathJax.config.tex||(MathJax.config.tex={}),MathJax.config.tex.inlineMath=s,"svg"!==(ce=MathJax.config.startup.output)&&(MathJax.config.startup.output="svg"),MathJax.startup.defaultReady(),MathJax.startup.promise.then(function(){Ae(),be(),"svg"!==ce&&(MathJax.config.startup.output=ce),MathJax.config=fe}))}else E.warn("No MathJax version:",MathJax.version)}(G[2],{fontSize:re},function(Q,ee,oe){H.selectAll("svg."+W).remove(),H.selectAll("g."+W+"-group").remove();var ce=Q&&Q.select("svg");if(!ce||!ce.node())return Z(),void se();var fe=H.append("g").classed(W+"-group",!0).attr({"pointer-events":"none","data-unformatted":Y,"data-math":"Y"});fe.node().appendChild(ce.node()),ee&&ee.node()&&ce.node().insertBefore(ee.node().cloneNode(!0),ce.node().firstChild);var le=oe.width,pe=oe.height;ce.attr({class:W,height:pe,preserveAspectRatio:"xMinYMin meet"}).style({overflow:"visible","pointer-events":"none"});var Me=j.node().style.fill||"black",Ae=ce.select("g");Ae.attr({fill:Me,stroke:Me});var be=Ae.node().getBoundingClientRect(),ye=be.width,we=be.height;(ye>le||we>pe)&&(ce.style("overflow","hidden"),ye=(be=ce.node().getBoundingClientRect()).width,we=be.height);var ze=+j.attr("x"),Se=+j.attr("y"),Ce=-(re||j.node().getBoundingClientRect().height)/4;if("y"===W[0])fe.attr({transform:"rotate("+[-90,ze,Se]+")"+f(-ye/2,Ce-we/2)});else if("l"===W[0])Se=Ce-we/2;else if("a"===W[0]&&0!==W.indexOf("atitle"))ze=0,Se=Ce;else{var ge=j.attr("text-anchor");ze-=ye*("middle"===ge?.5:"end"===ge?1:0),Se=Se+Ce-we/2}ce.attr({x:ze,y:Se}),F&&F.call(j,fe),se(fe)})})):Z(),j}function Z(){H.empty()||(W=j.attr("class")+"-math",H.select("svg."+W).remove()),j.text("").style("white-space","pre"),function(re,ne){ne=ne.replace(v," ");var Q,ee=!1,oe=[],ce=-1;function fe(){ce++;var Ie=document.createElementNS(k.svg,"tspan");D.select(Ie).attr({class:"line",dy:ce*M+"em"}),re.appendChild(Ie),Q=Ie;var De=oe;if(oe=[{node:Ie}],De.length>1)for(var je=1;je<De.length;je++)le(De[je])}function le(Ie){var De,je=Ie.type,qe={};if("a"===je){De="a";var ve=Ie.target,Oe=Ie.href,ke=Ie.popup;Oe&&(qe={"xlink:xlink:show":"_blank"===ve||"_"!==ve.charAt(0)?"new":"replace",target:ve,"xlink:xlink:href":Oe},ke&&(qe.onclick='window.open(this.href.baseVal,this.target.baseVal,"'+ke+'");return false;'))}else De="tspan";Ie.style&&(qe.style=Ie.style);var Be=document.createElementNS(k.svg,De);if("sup"===je||"sub"===je){pe(Q,u),Q.appendChild(Be);var We=document.createElementNS(k.svg,"tspan");pe(We,u),D.select(We).attr("dy",l[je]),qe.dy=o[je],Q.appendChild(Be),Q.appendChild(We)}else Q.appendChild(Be);D.select(Be).attr(qe),Q=Ie.node=Be,oe.push(Ie)}function pe(Ie,De){Ie.appendChild(document.createTextNode(De))}function Me(Ie){if(1!==oe.length){var De=oe.pop();Ie!==De.type&&E.log("Start tag <"+De.type+"> doesnt match end tag <"+Ie+">. Pretending it did match.",ne),Q=oe[oe.length-1].node}else E.log("Ignoring unexpected end tag </"+Ie+">.",ne)}_.test(ne)?fe():(Q=re,oe=[{node:re}]);for(var Ae=ne.split(p),be=0;be<Ae.length;be++){var ye=Ae[be],we=ye.match(T),ze=we&&we[2].toLowerCase(),Se=a[ze];if("br"===ze)fe();else if(void 0===Se)pe(Q,O(ye));else if(we[1])Me(ze);else{var Ce=we[4],ge={type:ze},he=A(Ce,m);if(he?(he=he.replace(g,"$1 fill:"),Se&&(he+=";"+Se)):Se&&(he=Se),he&&(ge.style=he),"a"===ze){ee=!0;var _e=A(Ce,w);if(_e){var Le=R(_e);Le&&(ge.href=Le,ge.target=A(Ce,x)||"_blank",ge.popup=A(Ce,b))}}le(ge)}}return ee}(j.node(),Y)&&j.style("pointer-events","all"),B.positionText(j),F&&F.call(j)}};var c=/(<|&lt;|&#60;)/g,i=/(>|&gt;|&#62;)/g,s=[["$","$"],["\\(","\\)"]],a={sup:"font-size:70%",sub:"font-size:70%",b:"font-weight:bold",i:"font-style:italic",a:"cursor:pointer",span:"",em:"font-style:italic;font-weight:bold"},o={sub:"0.3em",sup:"-0.6em"},l={sub:"-0.21em",sup:"0.42em"},u="\u200b",h=["http:","https:","mailto:","",void 0,":"],v=B.NEWLINES=/(\r\n?|\n)/g,p=/(<[^<>]*>)/,T=/<(\/?)([^ >]*)(\s+(.*))?>/i,_=/<br(\s+.*)?>/i;B.BR_TAG_ALL=/<br(\s+.*)?>/gi;var m=/(^|[\s"'])style\s*=\s*("([^"]*);?"|'([^']*);?')/i,w=/(^|[\s"'])href\s*=\s*("([^"]*)"|'([^']*)')/i,x=/(^|[\s"'])target\s*=\s*("([^"\s]*)"|'([^'\s]*)')/i,b=/(^|[\s"'])popup\s*=\s*("([\w=,]*)"|'([\w=,]*)')/i;function A(j,X){if(!j)return null;var F=j.match(X),Y=F&&(F[3]||F[4]);return Y&&O(Y)}var g=/(^|;)\s*color:/;B.plainText=function(j,X){for(var F=void 0!==(X=X||{}).len&&-1!==X.len?X.len:1/0,Y=void 0!==X.allowedTags?X.allowedTags:["br"],G=j.split(p),H=[],W="",Z=0,se=0;se<G.length;se++){var re=G[se],ne=re.match(T),Q=ne&&ne[2].toLowerCase();if(Q)-1!==Y.indexOf(Q)&&(H.push(re),W=Q);else{var ee=re.length;if(Z+ee<F)H.push(re),Z+=ee;else if(Z<F){var oe=F-Z;W&&("br"!==W||oe<=3||ee<=3)&&H.pop(),H.push(F>3?re.substr(0,oe-3)+"...":re.substr(0,oe));break}W=""}}return H.join("")};var I={mu:"\u03bc",amp:"&",lt:"<",gt:">",nbsp:"\xa0",times:"\xd7",plusmn:"\xb1",deg:"\xb0"},S=/&(#\d+|#x[\da-fA-F]+|[a-z]+);/g;function O(j){return j.replace(S,function(X,F){return("#"===F.charAt(0)?function(Y){if(!(Y>1114111)){var G=String.fromCodePoint;if(G)return G(Y);var H=String.fromCharCode;return Y<=65535?H(Y):H(55232+(Y>>10),Y%1024+56320)}}("x"===F.charAt(1)?parseInt(F.substr(2),16):parseInt(F.substr(1),10)):I[F])||X})}function R(j){var X=encodeURI(decodeURI(j)),F=document.createElement("a"),Y=document.createElement("a");F.href=j,Y.href=X;var H=Y.protocol;return-1!==h.indexOf(F.protocol)&&-1!==h.indexOf(H)?X:""}function L(j,X,F){var Y,G,H,W=F.horizontalAlign,Z=F.verticalAlign||"top",se=j.node().getBoundingClientRect(),re=X.node().getBoundingClientRect();return G="bottom"===Z?function(){return se.bottom-Y.height}:"middle"===Z?function(){return se.top+(se.height-Y.height)/2}:function(){return se.top},H="right"===W?function(){return se.right-Y.width}:"center"===W?function(){return se.left+(se.width-Y.width)/2}:function(){return se.left},function(){Y=this.node().getBoundingClientRect();var ne=H()-re.left,Q=G()-re.top,ee=F.gd||{};if(F.gd){ee._fullLayout._calcInverseTransform(ee);var oe=E.apply3DTransform(ee._fullLayout._invTransform)(ne,Q);ne=oe[0],Q=oe[1]}return this.style({top:Q+"px",left:ne+"px","z-index":1e3}),this}}B.convertEntities=O,B.sanitizeHTML=function(j){j=j.replace(v," ");for(var X=document.createElement("p"),F=X,Y=[],G=j.split(p),H=0;H<G.length;H++){var W=G[H],Z=W.match(T),se=Z&&Z[2].toLowerCase();if(se in a)if(Z[1])Y.length&&(F=Y.pop());else{var re=Z[4],ne=A(re,m),Q=ne?{style:ne}:{};if("a"===se){var ee=A(re,w);if(ee){var oe=R(ee);if(oe){Q.href=oe;var ce=A(re,x);ce&&(Q.target=ce)}}}var fe=document.createElement(se);F.appendChild(fe),D.select(fe).attr(Q),F=fe,Y.push(fe)}else F.appendChild(document.createTextNode(O(W)))}return X.innerHTML},B.lineCount=function(j){return j.selectAll("tspan.line").size()||1},B.positionText=function(j,X,F){return j.each(function(){var Y=D.select(this);function G(Z,se){return void 0===se?null===(se=Y.attr(Z))&&(Y.attr(Z,0),se=0):Y.attr(Z,se),se}var H=G("x",X),W=G("y",F);"text"===this.nodeName&&Y.selectAll("tspan.line").attr({x:H,y:W})})};var N="1px ";B.makeTextShadow=function(j){return N+N+N+j+", -"+N+"-"+N+N+j+", "+N+"-"+N+N+j+", -"+N+N+N+j},B.makeEditable=function(j,X){var F=X.gd,Y=X.delegate,G=D.dispatch("edit","input","cancel"),H=Y||j;if(j.style({"pointer-events":Y?"none":"all"}),1!==j.size())throw new Error("boo");function W(){var se,re,ne,Q,ee;se=D.select(F).select(".svg-container"),re=se.append("div"),ne=j.node().style,Q=parseFloat(ne.fontSize||12),void 0===(ee=X.text)&&(ee=j.attr("data-unformatted")),re.classed("plugin-editable editable",!0).style({position:"absolute","font-family":ne.fontFamily||"Arial","font-size":Q,color:X.fill||ne.fill||"black",opacity:1,"background-color":X.background||"transparent",outline:"#ffffff33 1px solid",margin:[-Q/8+1,0,0,-1].join("px ")+"px",padding:"0","box-sizing":"border-box"}).attr({contenteditable:!0}).text(ee).call(L(j,se,X)).on("blur",function(){F._editing=!1,j.text(this.textContent).style({opacity:1});var fe,le=D.select(this).attr("class");(fe=le?"."+le.split(" ")[0]+"-math-group":"[class*=-math-group]")&&D.select(j.node().parentNode).select(fe).style({opacity:0});var pe=this.textContent;D.select(this).transition().duration(0).remove(),D.select(document).on("mouseup",null),G.edit.call(j,pe)}).on("focus",function(){var fe=this;F._editing=!0,D.select(document).on("mouseup",function(){if(D.event.target===fe)return!1;document.activeElement===re.node()&&re.node().blur()})}).on("keyup",function(){27===D.event.which?(F._editing=!1,j.style({opacity:1}),D.select(this).style({opacity:0}).on("blur",function(){return!1}).transition().remove(),G.cancel.call(j,this.textContent)):(G.input.call(j,this.textContent),D.select(this).call(L(j,se,X)))}).on("keydown",function(){13===D.event.which&&this.blur()}).call(Z),j.style({opacity:0});var oe,ce=H.attr("class");(oe=ce?"."+ce.split(" ")[0]+"-math-group":"[class*=-math-group]")&&D.select(j.node().parentNode).select(oe).style({opacity:0})}function Z(se){var re=se.node(),ne=document.createRange();ne.selectNodeContents(re);var Q=window.getSelection();Q.removeAllRanges(),Q.addRange(ne),re.focus()}return X.immediate?W():H.on("click",W),D.rebind(j,G,"on")}},79990:function(ae,B){"use strict";var r={};function D(E){E&&null!==E.timer&&(clearTimeout(E.timer),E.timer=null)}B.throttle=function(E,f,k){var M=r[E],y=Date.now();if(!M){for(var c in r)r[c].ts<y-6e4&&delete r[c];M=r[E]={ts:0,timer:null}}function i(){k(),M.ts=Date.now(),M.onDone&&(M.onDone(),M.onDone=null)}D(M),y>M.ts+f?i():M.timer=setTimeout(function(){i(),M.timer=null},f)},B.done=function(E){var f=r[E];return f&&f.timer?new Promise(function(k){var M=f.onDone;f.onDone=function(){M&&M(),k(),f.onDone=null}}):Promise.resolve()},B.clear=function(E){if(E)D(r[E]),delete r[E];else for(var f in r)B.clear(f)}},58163:function(ae,B,r){"use strict";var D=r(92770);ae.exports=function(E,f){if(E>0)return Math.log(E)/Math.LN10;var k=Math.log(Math.min(f[0],f[1]))/Math.LN10;return D(k)||(k=Math.log(Math.max(f[0],f[1]))/Math.LN10-6),k}},90973:function(ae,B,r){"use strict";var D=ae.exports={},E=r(78776).locationmodeToLayer,f=r(96892).zL;D.getTopojsonName=function(k){return[k.scope.replace(/ /g,"-"),"_",k.resolution.toString(),"m"].join("")},D.getTopojsonPath=function(k,M){return k+M+".json"},D.getTopojsonFeatures=function(k,M){return f(M,M.objects[E[k.locationmode]]).features}},37815:function(ae){"use strict";ae.exports={moduleType:"locale",name:"en-US",dictionary:{"Click to enter Colorscale title":"Click to enter Colorscale title"},format:{date:"%m/%d/%Y"}}},92177:function(ae){"use strict";ae.exports={moduleType:"locale",name:"en",dictionary:{"Click to enter Colorscale title":"Click to enter Colourscale title"},format:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],periods:["AM","PM"],dateTime:"%a %b %e %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",decimal:".",thousands:",",grouping:[3],currency:["$",""],year:"%Y",month:"%b %Y",dayMonth:"%b %-d",dayMonthYear:"%b %-d, %Y"}}},14458:function(ae,B,r){"use strict";var D=r(73972);ae.exports=function(E){for(var f,k,M=D.layoutArrayContainers,y=D.layoutArrayRegexes,c=E.split("[")[0],i=0;i<y.length;i++)if((k=E.match(y[i]))&&0===k.index){f=k[0];break}if(f||(f=M[M.indexOf(c)]),!f)return!1;var s=E.substr(f.length);return s?!!(k=s.match(/^\[(0|[1-9][0-9]*)\](\.(.+))?$/))&&{array:f,index:Number(k[1]),property:k[3]||""}:{array:f,index:"",property:""}}},30962:function(ae,B,r){"use strict";var D=r(1426).extendFlat,E=r(41965),f={valType:"flaglist",extras:["none"],flags:["calc","clearAxisTypes","plot","style","markerSize","colorbars"]},k={valType:"flaglist",extras:["none"],flags:["calc","plot","legend","ticks","axrange","layoutstyle","modebar","camera","arraydraw","colorbars"]},M=f.flags.slice().concat(["fullReplot"]),y=k.flags.slice().concat("layoutReplot");function c(a){for(var o={},l=0;l<a.length;l++)o[a[l]]=!1;return o}function i(a,o,l){var u=D({},a);for(var h in u){var v=u[h];E(v)&&(u[h]=s(v,o,0,h))}return"from-root"===l&&(u.editType=o),u}function s(a,o,l,u){if(a.valType){var h=D({},a);if(h.editType=o,Array.isArray(a.items)){h.items=new Array(a.items.length);for(var v=0;v<a.items.length;v++)h.items[v]=s(a.items[v],o)}return h}return i(a,o,"_"===u.charAt(0)?"nested":"from-root")}ae.exports={traces:f,layout:k,traceFlags:function(){return c(M)},layoutFlags:function(){return c(y)},update:function(a,o){var l=o.editType;if(l&&"none"!==l)for(var u=l.split("+"),h=0;h<u.length;h++)a[u[h]]=!0},overrideAll:i}},58377:function(ae,B,r){"use strict";var D=r(92770),E=r(27812),f=r(73972),k=r(71828),M=r(74875),y=r(41675),c=r(7901),i=y.cleanId,s=y.getFromTrace,a=f.traceIs;function o(w,x){var b=w[x],A=x.charAt(0);b&&"paper"!==b&&(w[x]=i(b,A,!0))}function l(w){function x(b,A){w[b]&&(!w.title||!w.title[A])&&(w.title||(w.title={}),w.title[A]=w[b],delete w[b])}w&&("string"!=typeof w.title&&"number"!=typeof w.title||(w.title={text:w.title}),x("titlefont","font"),x("titleposition","position"),x("titleside","side"),x("titleoffset","offset"))}function u(w){if(!k.isPlainObject(w))return!1;var x=w.name;return delete w.name,delete w.showlegend,("string"==typeof x||"number"==typeof x)&&String(x)}function h(w,x,b,A){if(b&&!A)return w;if(A&&!b||!w.trim())return x;if(!x.trim())return w;var g,I=Math.min(w.length,x.length);for(g=0;g<I&&w.charAt(g)===x.charAt(g);g++);return w.substr(0,g).trim()}function v(w){var x="middle",b="center";return"string"==typeof w&&(-1!==w.indexOf("top")?x="top":-1!==w.indexOf("bottom")&&(x="bottom"),-1!==w.indexOf("left")?b="left":-1!==w.indexOf("right")&&(b="right")),x+" "+b}function p(w,x){return x in w&&"object"==typeof w[x]&&0===Object.keys(w[x]).length}B.clearPromiseQueue=function(w){Array.isArray(w._promises)&&w._promises.length>0&&k.log("Clearing previous rejected promises from queue."),w._promises=[]},B.cleanLayout=function(w){var x,b;w||(w={}),w.xaxis1&&(w.xaxis||(w.xaxis=w.xaxis1),delete w.xaxis1),w.yaxis1&&(w.yaxis||(w.yaxis=w.yaxis1),delete w.yaxis1),w.scene1&&(w.scene||(w.scene=w.scene1),delete w.scene1);var A=(M.subplotsRegistry.cartesian||{}).attrRegex,g=(M.subplotsRegistry.polar||{}).attrRegex,I=(M.subplotsRegistry.ternary||{}).attrRegex,S=(M.subplotsRegistry.gl3d||{}).attrRegex,O=Object.keys(w);for(x=0;x<O.length;x++){var R=O[x];if(A&&A.test(R)){var L=w[R];L.anchor&&"free"!==L.anchor&&(L.anchor=i(L.anchor)),L.overlaying&&(L.overlaying=i(L.overlaying)),L.type||(L.isdate?L.type="date":L.islog?L.type="log":!1===L.isdate&&!1===L.islog&&(L.type="linear")),"withzero"!==L.autorange&&"tozero"!==L.autorange||(L.autorange=!0,L.rangemode="tozero"),L.insiderange&&delete L.range,delete L.islog,delete L.isdate,delete L.categories,p(L,"domain")&&delete L.domain,void 0!==L.autotick&&(void 0===L.tickmode&&(L.tickmode=L.autotick?"auto":"linear"),delete L.autotick),l(L)}else if(g&&g.test(R))l(w[R].radialaxis);else if(I&&I.test(R)){var N=w[R];l(N.aaxis),l(N.baxis),l(N.caxis)}else if(S&&S.test(R)){var j=w[R],X=j.cameraposition;if(Array.isArray(X)&&4===X[0].length){var Y=X[1],G=X[2],H=E([],X[0]),W=[];for(b=0;b<3;++b)W[b]=Y[b]+G*H[2+4*b];j.camera={eye:{x:W[0],y:W[1],z:W[2]},center:{x:Y[0],y:Y[1],z:Y[2]},up:{x:0,y:0,z:1}},delete j.cameraposition}l(j.xaxis),l(j.yaxis),l(j.zaxis)}}var Z=Array.isArray(w.annotations)?w.annotations.length:0;for(x=0;x<Z;x++){var se=w.annotations[x];k.isPlainObject(se)&&(se.ref&&("paper"===se.ref?(se.xref="paper",se.yref="paper"):"data"===se.ref&&(se.xref="x",se.yref="y"),delete se.ref),o(se,"xref"),o(se,"yref"))}var re=Array.isArray(w.shapes)?w.shapes.length:0;for(x=0;x<re;x++){var ne=w.shapes[x];k.isPlainObject(ne)&&(o(ne,"xref"),o(ne,"yref"))}var Q=Array.isArray(w.images)?w.images.length:0;for(x=0;x<Q;x++){var ee=w.images[x];k.isPlainObject(ee)&&(o(ee,"xref"),o(ee,"yref"))}var oe=w.legend;return oe&&(oe.x>3?(oe.x=1.02,oe.xanchor="left"):oe.x<-2&&(oe.x=-.02,oe.xanchor="right"),oe.y>3?(oe.y=1.02,oe.yanchor="bottom"):oe.y<-2&&(oe.y=-.02,oe.yanchor="top")),l(w),"rotate"===w.dragmode&&(w.dragmode="orbit"),c.clean(w),w.template&&w.template.layout&&B.cleanLayout(w.template.layout),w},B.cleanData=function(w){for(var x=0;x<w.length;x++){var b,A=w[x];if("histogramy"===A.type&&"xbins"in A&&!("ybins"in A)&&(A.ybins=A.xbins,delete A.xbins),A.error_y&&"opacity"in A.error_y){var g=c.defaults,I=A.error_y.color||(a(A,"bar")?c.defaultLine:g[x%g.length]);A.error_y.color=c.addOpacity(c.rgb(I),c.opacity(I)*A.error_y.opacity),delete A.error_y.opacity}if("bardir"in A&&("h"!==A.bardir||!a(A,"bar")&&"histogram"!==A.type.substr(0,9)||(A.orientation="h",B.swapXYData(A)),delete A.bardir),"histogramy"===A.type&&B.swapXYData(A),"histogramx"!==A.type&&"histogramy"!==A.type||(A.type="histogram"),"scl"in A&&!("colorscale"in A)&&(A.colorscale=A.scl,delete A.scl),"reversescl"in A&&!("reversescale"in A)&&(A.reversescale=A.reversescl,delete A.reversescl),A.xaxis&&(A.xaxis=i(A.xaxis,"x")),A.yaxis&&(A.yaxis=i(A.yaxis,"y")),a(A,"gl3d")&&A.scene&&(A.scene=M.subplotsRegistry.gl3d.cleanId(A.scene)),!a(A,"pie-like")&&!a(A,"bar-like"))if(Array.isArray(A.textposition))for(b=0;b<A.textposition.length;b++)A.textposition[b]=v(A.textposition[b]);else A.textposition&&(A.textposition=v(A.textposition));var S=f.getModule(A);if(S&&S.colorbar){var O=S.colorbar.container,R=O?A[O]:A;R&&R.colorscale&&("YIGnBu"===R.colorscale&&(R.colorscale="YlGnBu"),"YIOrRd"===R.colorscale&&(R.colorscale="YlOrRd"))}if("surface"===A.type&&k.isPlainObject(A.contours)){var L=["x","y","z"];for(b=0;b<L.length;b++){var N=A.contours[L[b]];k.isPlainObject(N)&&(N.highlightColor&&(N.highlightcolor=N.highlightColor,delete N.highlightColor),N.highlightWidth&&(N.highlightwidth=N.highlightWidth,delete N.highlightWidth))}}if("candlestick"===A.type||"ohlc"===A.type){var j=!1!==(A.increasing||{}).showlegend,X=!1!==(A.decreasing||{}).showlegend,F=u(A.increasing),Y=u(A.decreasing);if(!1!==F&&!1!==Y){var G=h(F,Y,j,X);G&&(A.name=G)}else!F&&!Y||A.name||(A.name=F||Y)}if(Array.isArray(A.transforms)){var H=A.transforms;for(b=0;b<H.length;b++){var W=H[b];if(k.isPlainObject(W))switch(W.type){case"filter":W.filtersrc&&(W.target=W.filtersrc,delete W.filtersrc),W.calendar&&(W.valuecalendar||(W.valuecalendar=W.calendar),delete W.calendar);break;case"groupby":if(W.styles=W.styles||W.style,W.styles&&!Array.isArray(W.styles)){var Z=W.styles,se=Object.keys(Z);W.styles=[];for(var re=0;re<se.length;re++)W.styles.push({target:se[re],value:Z[se[re]]})}}}}p(A,"line")&&delete A.line,"marker"in A&&(p(A.marker,"line")&&delete A.marker.line,p(A,"marker")&&delete A.marker),c.clean(A),A.autobinx&&(delete A.autobinx,delete A.xbins),A.autobiny&&(delete A.autobiny,delete A.ybins),l(A),A.colorbar&&l(A.colorbar),A.marker&&A.marker.colorbar&&l(A.marker.colorbar),A.line&&A.line.colorbar&&l(A.line.colorbar),A.aaxis&&l(A.aaxis),A.baxis&&l(A.baxis)}},B.swapXYData=function(w){var x;if(k.swapAttrs(w,["?","?0","d?","?bins","nbins?","autobin?","?src","error_?"]),Array.isArray(w.z)&&Array.isArray(w.z[0])&&(w.transpose?delete w.transpose:w.transpose=!0),w.error_x&&w.error_y){var b=w.error_y,A="copy_ystyle"in b?b.copy_ystyle:!(b.color||b.thickness||b.width);k.swapAttrs(w,["error_?.copy_ystyle"]),A&&k.swapAttrs(w,["error_?.color","error_?.thickness","error_?.width"])}if("string"==typeof w.hoverinfo){var g=w.hoverinfo.split("+");for(x=0;x<g.length;x++)"x"===g[x]?g[x]="y":"y"===g[x]&&(g[x]="x");w.hoverinfo=g.join("+")}},B.coerceTraceIndices=function(w,x){if(D(x))return[x];if(!Array.isArray(x)||!x.length)return w.data.map(function(g,I){return I});if(Array.isArray(x)){for(var b=[],A=0;A<x.length;A++)k.isIndex(x[A],w.data.length)?b.push(x[A]):k.warn("trace index (",x[A],") is not a number or is out of bounds");return b}return x},B.manageArrayContainers=function(w,x,b){var A=w.obj,g=w.parts,I=g.length,S=g[I-1],O=D(S);if(O&&null===x){var R=g.slice(0,I-1).join(".");k.nestedProperty(A,R).get().splice(S,1)}else O&&void 0===w.get()&&void 0===w.get()&&(b[w.astr]=null),w.set(x)};var T=/(\.[^\[\]\.]+|\[[^\[\]\.]+\])$/;function _(w){var x=w.search(T);if(x>0)return w.substr(0,x)}B.hasParent=function(w,x){for(var b=_(x);b;){if(b in w)return!0;b=_(b)}return!1};var m=["x","y","z"];B.clearAxisTypes=function(w,x,b){for(var A=0;A<x.length;A++)for(var g=w._fullData[A],I=0;I<3;I++){var S=s(w,g,m[I]);if(S&&"log"!==S.type){var O=S._name,R=S._id.substr(1);if("scene"===R.substr(0,5)){if(void 0!==b[R])continue;O=R+"."+O}var L=O+".type";void 0===b[O]&&void 0===b[L]&&k.nestedProperty(w.layout,L).set(null)}}}},10641:function(ae,B,r){"use strict";var D=r(72391);B._doPlot=D._doPlot,B.newPlot=D.newPlot,B.restyle=D.restyle,B.relayout=D.relayout,B.redraw=D.redraw,B.update=D.update,B._guiRestyle=D._guiRestyle,B._guiRelayout=D._guiRelayout,B._guiUpdate=D._guiUpdate,B._storeDirectGUIEdit=D._storeDirectGUIEdit,B.react=D.react,B.extendTraces=D.extendTraces,B.prependTraces=D.prependTraces,B.addTraces=D.addTraces,B.deleteTraces=D.deleteTraces,B.moveTraces=D.moveTraces,B.purge=D.purge,B.addFrames=D.addFrames,B.deleteFrames=D.deleteFrames,B.animate=D.animate,B.setPlotConfig=D.setPlotConfig;var E=r(24401).getGraphDiv,f=r(34031).eraseActiveShape;B.deleteActiveShape=function(M){return f(E(M))},B.toImage=r(403),B.validate=r(84936),B.downloadImage=r(7239);var k=r(96318);B.makeTemplate=k.makeTemplate,B.validateTemplate=k.validateTemplate},6611:function(ae,B,r){"use strict";var D=r(41965),E=r(64213),f=r(47769),k=r(65888).sorterAsc,M=r(73972);B.containerArrayMatch=r(14458);var y=B.isAddVal=function(i){return"add"===i||D(i)},c=B.isRemoveVal=function(i){return null===i||"remove"===i};B.applyContainerArrayChanges=function(i,s,a,o,l){var u=s.astr,h=M.getComponentMethod(u,"supplyLayoutDefaults"),v=M.getComponentMethod(u,"draw"),p=M.getComponentMethod(u,"drawOne"),T=o.replot||o.recalc||h===E||v===E,_=i.layout,m=i._fullLayout;if(a[""]){Object.keys(a).length>1&&f.warn("Full array edits are incompatible with other edits",u);var w=a[""][""];if(c(w))s.set(null);else{if(!Array.isArray(w))return f.warn("Unrecognized full array edit value",u,w),!0;s.set(w)}return!T&&(h(_,m),v(i),!0)}var x,b,A,g,I,S,O,L=Object.keys(a).map(Number).sort(k),N=s.get(),j=N||[],X=l(m,u).get(),F=[],Y=-1,G=j.length;for(x=0;x<L.length;x++)if(g=a[A=L[x]],I=Object.keys(g),O=y(S=g[""]),A<0||A>j.length-(O?0:1))f.warn("index out of range",u,A);else if(void 0!==S)I.length>1&&f.warn("Insertion & removal are incompatible with edits to the same index.",u,A),c(S)?F.push(A):O?("add"===S&&(S={}),j.splice(A,0,S),X&&X.splice(A,0,{})):f.warn("Unrecognized full object edit value",u,A,S),-1===Y&&(Y=A);else for(b=0;b<I.length;b++)l(j[A],I[b],u+"["+A+"].").set(g[I[b]]);for(x=F.length-1;x>=0;x--)j.splice(F[x],1),X&&X.splice(F[x],1);if(j.length?N||s.set(j):s.set(null),T)return!1;if(h(_,m),p!==E){var H;if(-1===Y)H=L;else{for(G=Math.max(j.length,G),H=[],x=0;x<L.length&&!((A=L[x])>=Y);x++)H.push(A);for(x=Y;x<G;x++)H.push(x)}for(x=0;x<H.length;x++)p(i,H[x])}else v(i);return!0}},72391:function(ae,B,r){"use strict";var D=r(39898),E=r(92770),f=r(57035),k=r(71828),M=k.nestedProperty,y=r(11086),c=r(10847),i=r(73972),s=r(86281),a=r(74875),o=r(89298),l=r(23608),u=r(13838),h=r(91424),v=r(7901),p=r(4305).initInteractions,T=r(77922),_=r(47322).clearOutline,m=r(72075).dfltConfig,w=r(6611),x=r(58377),b=r(61549),A=r(30962),g=r(85555).AX_NAME_PATTERN,I=0;function S(Ie){var De=Ie._fullLayout;De._redrawFromAutoMarginCount?De._redrawFromAutoMarginCount--:Ie.emit("plotly_afterplot")}function O(Ie,De){try{Ie._fullLayout._paper.style("background",De)}catch(je){k.error(je)}}function R(Ie,De){O(Ie,v.combine(De,"white"))}function L(Ie,De){if(!Ie._context){Ie._context=k.extendDeep({},m);var je=D.select("base");Ie._context._baseUrl=je.size()&&je.attr("href")?window.location.href.split("#")[0]:""}var qe,ve,Oe,ke=Ie._context;if(De){for(ve=Object.keys(De),qe=0;qe<ve.length;qe++)"editable"!==(Oe=ve[qe])&&"edits"!==Oe&&Oe in ke&&(ke[Oe]="setBackground"===Oe&&"opaque"===De[Oe]?R:De[Oe]);De.plot3dPixelRatio&&!ke.plotGlPixelRatio&&(ke.plotGlPixelRatio=ke.plot3dPixelRatio);var Be=De.editable;if(void 0!==Be)for(ke.editable=Be,ve=Object.keys(ke.edits),qe=0;qe<ve.length;qe++)ke.edits[ve[qe]]=Be;if(De.edits)for(ve=Object.keys(De.edits),qe=0;qe<ve.length;qe++)(Oe=ve[qe])in ke.edits&&(ke.edits[Oe]=De.edits[Oe]);ke._exportedPlot=De._exportedPlot}ke.staticPlot&&(ke.editable=!1,ke.edits={},ke.autosizable=!1,ke.scrollZoom=!1,ke.doubleClick=!1,ke.showTips=!1,ke.showLink=!1,ke.displayModeBar=!1),"hover"!==ke.displayModeBar||f||(ke.displayModeBar=!0),"transparent"!==ke.setBackground&&"function"==typeof ke.setBackground||(ke.setBackground=O),ke._hasZeroHeight=ke._hasZeroHeight||0===Ie.clientHeight,ke._hasZeroWidth=ke._hasZeroWidth||0===Ie.clientWidth;var We=ke.scrollZoom,Ge=ke._scrollZoom={};if(!0===We)Ge.cartesian=1,Ge.gl3d=1,Ge.geo=1,Ge.mapbox=1;else if("string"==typeof We){var Ke=We.split("+");for(qe=0;qe<Ke.length;qe++)Ge[Ke[qe]]=1}else!1!==We&&(Ge.gl3d=1,Ge.geo=1,Ge.mapbox=1)}function N(Ie,De){var je,qe,ve=De+1,Oe=[];for(je=0;je<Ie.length;je++)(qe=Ie[je])<0?Oe.push(ve+qe):Oe.push(qe);return Oe}function j(Ie,De,je){var qe,ve;for(qe=0;qe<De.length;qe++){if((ve=De[qe])!==parseInt(ve,10))throw new Error("all values in "+je+" must be integers");if(ve>=Ie.data.length||ve<-Ie.data.length)throw new Error(je+" must be valid indices for gd.data.");if(De.indexOf(ve,qe+1)>-1||ve>=0&&De.indexOf(-Ie.data.length+ve)>-1||ve<0&&De.indexOf(Ie.data.length+ve)>-1)throw new Error("each index in "+je+" must be unique.")}}function X(Ie,De,je){if(!Array.isArray(Ie.data))throw new Error("gd.data must be an array.");if(void 0===De)throw new Error("currentIndices is a required argument.");if(Array.isArray(De)||(De=[De]),j(Ie,De,"currentIndices"),void 0===je||Array.isArray(je)||(je=[je]),void 0!==je&&j(Ie,je,"newIndices"),void 0!==je&&De.length!==je.length)throw new Error("current and new indices must be of equal length.")}function F(Ie,De,je,qe,ve){!function(at,mt,ct,kt){var Dt=k.isPlainObject(kt);if(!Array.isArray(at.data))throw new Error("gd.data must be an array");if(!k.isPlainObject(mt))throw new Error("update must be a key:value object");if(void 0===ct)throw new Error("indices must be an integer or array of integers");for(var Et in j(at,ct,"indices"),mt){if(!Array.isArray(mt[Et])||mt[Et].length!==ct.length)throw new Error("attribute "+Et+" must be an array of length equal to indices array length");if(Dt&&(!(Et in kt)||!Array.isArray(kt[Et])||kt[Et].length!==mt[Et].length))throw new Error("when maxPoints is set as a key:value object it must contain a 1:1 corrispondence with the keys and number of traces in the update object")}}(Ie,De,je,qe);for(var Oe=function(at,mt,ct,kt){var Et,ht,pt,Pt,zt=k.isPlainObject(kt),Ht=[];for(var Lt in Array.isArray(ct)||(ct=[ct]),ct=N(ct,at.data.length-1),mt)for(var tt=0;tt<ct.length;tt++){if(Et=(ht=M(at.data[ct[tt]],Lt)).get(),!k.isArrayOrTypedArray(pt=mt[Lt][tt]))throw new Error("attribute: "+Lt+" index: "+tt+" must be an array");if(!k.isArrayOrTypedArray(Et))throw new Error("cannot extend missing or non-array attribute: "+Lt);if(Et.constructor!==pt.constructor)throw new Error("cannot extend array with an array of a different type: "+Lt);E(Pt=zt?kt[Lt][tt]:kt)||(Pt=-1),Ht.push({prop:ht,target:Et,insert:pt,maxp:Math.floor(Pt)})}return Ht}(Ie,De,je,qe),ke={},Be={},We=0;We<Oe.length;We++){var Ge=Oe[We].prop,et=ve(Oe[We].target,Oe[We].insert,Oe[We].maxp);Ge.set(et[0]),Array.isArray(ke[Ge.astr])||(ke[Ge.astr]=[]),ke[Ge.astr].push(et[1]),Array.isArray(Be[Ge.astr])||(Be[Ge.astr]=[]),Be[Ge.astr].push(Oe[We].target.length)}return{update:ke,maxPoints:Be}}function Y(Ie,De){var je=new Ie.constructor(Ie.length+De.length);return je.set(Ie),je.set(De,Ie.length),je}function G(Ie,De,je,qe){Ie=k.getGraphDiv(Ie),x.clearPromiseQueue(Ie);var ve={};if("string"==typeof De)ve[De]=je;else{if(!k.isPlainObject(De))return k.warn("Restyle fail.",De,je,qe),Promise.reject();ve=k.extendFlat({},De),void 0===qe&&(qe=je)}Object.keys(ve).length&&(Ie.changed=!0);var Oe=x.coerceTraceIndices(Ie,qe),ke=se(Ie,ve,Oe),Be=ke.flags;Be.calc&&(Ie.calcdata=void 0),Be.clearAxisTypes&&x.clearAxisTypes(Ie,Oe,{});var We=[];Be.fullReplot?We.push(B._doPlot):(We.push(a.previousPromises),a.supplyDefaults(Ie),Be.markerSize&&(a.doCalcdata(Ie),ee(We)),Be.style&&We.push(b.doTraceStyle),Be.colorbars&&We.push(b.doColorBars),We.push(S)),We.push(a.rehover,a.redrag,a.reselect),c.add(Ie,G,[Ie,ke.undoit,ke.traces],G,[Ie,ke.redoit,ke.traces]);var Ge=k.syncOrAsync(We,Ie);return Ge&&Ge.then||(Ge=Promise.resolve()),Ge.then(function(){return Ie.emit("plotly_restyle",ke.eventData),Ie})}function H(Ie){return void 0===Ie?null:Ie}function W(Ie,De){return De?function(je,qe,ve){var Oe=M(je,qe),ke=Oe.set;return Oe.set=function(Be){Z((ve||"")+qe,Oe.get(),Be,Ie),ke(Be)},Oe}:M}function Z(Ie,De,je,qe){if(Array.isArray(De)||Array.isArray(je))for(var ve=Array.isArray(De)?De:[],Oe=Array.isArray(je)?je:[],ke=Math.max(ve.length,Oe.length),Be=0;Be<ke;Be++)Z(Ie+"["+Be+"]",ve[Be],Oe[Be],qe);else if(k.isPlainObject(De)||k.isPlainObject(je)){var We=k.isPlainObject(De)?De:{},Ge=k.isPlainObject(je)?je:{},Ke=k.extendFlat({},We,Ge);for(var et in Ke)Z(Ie+"."+et,We[et],Ge[et],qe)}else void 0===qe[Ie]&&(qe[Ie]=H(De))}function se(Ie,De,je){var qe,ve=Ie._fullLayout,Oe=Ie._fullData,ke=Ie.data,Be=ve._guiEditing,We=W(ve._preGUI,Be),Ge=k.extendDeepAll({},De);re(De);var Ke,et=A.traceFlags(),at={},mt={};function ct(){return je.map(function(){})}function kt(en){var nn=o.id2name(en);-1===Ke.indexOf(nn)&&Ke.push(nn)}function Dt(en){return"LAYOUT"+en+".autorange"}function Et(en){return"LAYOUT"+en+".range"}function ht(en){for(var nn=en;nn<Oe.length;nn++)if(Oe[nn]._input===ke[en])return Oe[nn]}function pt(en,nn,fn){if(Array.isArray(en))en.forEach(function(Sn){pt(Sn,nn,fn)});else if(!(en in De)&&!x.hasParent(De,en)){var On;if("LAYOUT"===en.substr(0,6))On=We(Ie.layout,en.replace("LAYOUT",""));else{var Un=je[fn];On=W(ve._tracePreGUI[ht(Un)._fullInput.uid],Be)(ke[Un],en)}en in mt||(mt[en]=ct()),void 0===mt[en][fn]&&(mt[en][fn]=H(On.get())),void 0!==nn&&On.set(nn)}}function Pt(en){return function(nn){return Oe[nn][en]}}function zt(en){return function(nn,fn){return!1===nn?Oe[je[fn]][en]:null}}for(var Ht in De){if(x.hasParent(De,Ht))throw new Error("cannot set "+Ht+" and a parent attribute simultaneously");var Lt,tt,it,Je,ot,gt,ft=De[Ht];if("autobinx"!==Ht&&"autobiny"!==Ht||(Ht=Ht.charAt(Ht.length-1)+"bins",ft=Array.isArray(ft)?ft.map(zt(Ht)):!1===ft?je.map(Pt(Ht)):null),at[Ht]=ft,"LAYOUT"!==Ht.substr(0,6)){for(mt[Ht]=ct(),qe=0;qe<je.length;qe++)if(Lt=ke[je[qe]],tt=ht(je[qe]),Je=(it=W(ve._tracePreGUI[tt._fullInput.uid],Be)(Lt,Ht)).get(),void 0!==(ot=Array.isArray(ft)?ft[qe%ft.length]:ft)){var Ue=it.parts[it.parts.length-1],$e=Ht.substr(0,Ht.length-Ue.length-1),dt=$e?$e+".":"",ut=$e?M(tt,$e).get():tt;if((gt=s.getTraceValObject(tt,it.parts))&&gt.impliedEdits&&null!==ot)for(var At in gt.impliedEdits)pt(k.relativeAttr(Ht,At),gt.impliedEdits[At],qe);else if("thicknessmode"!==Ue&&"lenmode"!==Ue||Je===ot||"fraction"!==ot&&"pixels"!==ot||!ut){if("type"===Ht&&("pie"===ot!=("pie"===Je)||"funnelarea"===ot!=("funnelarea"===Je))){var wt="x",St="y";"bar"!==ot&&"bar"!==Je||"h"!==Lt.orientation||(wt="y",St="x"),k.swapAttrs(Lt,["?","?src"],"labels",wt),k.swapAttrs(Lt,["d?","?0"],"label",wt),k.swapAttrs(Lt,["?","?src"],"values",St),"pie"===Je||"funnelarea"===Je?(M(Lt,"marker.color").set(M(Lt,"marker.colors").get()),ve._pielayer.selectAll("g.trace").remove()):i.traceIs(Lt,"cartesian")&&M(Lt,"marker.colors").set(M(Lt,"marker.color").get())}}else{var _t=ve._size,Rt=ut.orient,bt="top"===Rt||"bottom"===Rt;if("thicknessmode"===Ue){var Tt=bt?_t.h:_t.w;pt(dt+"thickness",ut.thickness*("fraction"===ot?1/Tt:Tt),qe)}else{var It=bt?_t.w:_t.h;pt(dt+"len",ut.len*("fraction"===ot?1/It:It),qe)}}if(mt[Ht][qe]=H(Je),-1!==["swapxy","swapxyaxes","orientation","orientationaxes"].indexOf(Ht)){if("orientation"===Ht){it.set(ot);var Wt=Lt.x&&!Lt.y?"h":"v";if((it.get()||Wt)===tt.orientation)continue}else"orientationaxes"===Ht&&(Lt.orientation={v:"h",h:"v"}[tt.orientation]);x.swapXYData(Lt),et.calc=et.clearAxisTypes=!0}else-1!==a.dataArrayContainers.indexOf(it.parts[0])?(x.manageArrayContainers(it,ot,mt),et.calc=!0):(gt?gt.arrayOk&&!i.traceIs(tt,"regl")&&(k.isArrayOrTypedArray(ot)||k.isArrayOrTypedArray(Je))?et.calc=!0:A.update(et,gt):et.calc=!0,it.set(ot))}if(-1!==["swapxyaxes","orientationaxes"].indexOf(Ht)&&o.swap(Ie,je),"orientationaxes"===Ht){var $t=M(Ie.layout,"hovermode"),Qt=$t.get();"x"===Qt?$t.set("y"):"y"===Qt?$t.set("x"):"x unified"===Qt?$t.set("y unified"):"y unified"===Qt&&$t.set("x unified")}if(-1!==["orientation","type"].indexOf(Ht)){for(Ke=[],qe=0;qe<je.length;qe++){var pn=ke[je[qe]];i.traceIs(pn,"cartesian")&&(kt(pn.xaxis||"x"),kt(pn.yaxis||"y"))}pt(Ke.map(Dt),!0,0),pt(Ke.map(Et),[0,1],0)}}else it=We(Ie.layout,Ht.replace("LAYOUT","")),mt[Ht]=[H(it.get())],it.set(Array.isArray(ft)?ft[0]:ft),et.calc=!0}return(et.calc||et.plot)&&(et.fullReplot=!0),{flags:et,undoit:mt,redoit:at,traces:je,eventData:k.extendDeepNoArrays([],[Ge,je])}}function re(Ie){var De,je,qe,ve=k.counterRegex("axis",".title",!1,!1),Oe=/colorbar\.title$/,ke=Object.keys(Ie);for(De=0;De<ke.length;De++)qe=Ie[je=ke[De]],"title"!==je&&!ve.test(je)&&!Oe.test(je)||"string"!=typeof qe&&"number"!=typeof qe?je.indexOf("titlefont")>-1&&-1===je.indexOf("grouptitlefont")?Be(je,je.replace("titlefont","title.font")):je.indexOf("titleposition")>-1?Be(je,je.replace("titleposition","title.position")):je.indexOf("titleside")>-1?Be(je,je.replace("titleside","title.side")):je.indexOf("titleoffset")>-1&&Be(je,je.replace("titleoffset","title.offset")):Be(je,je.replace("title","title.text"));function Be(We,Ge){Ie[Ge]=Ie[We],delete Ie[We]}}function ne(Ie,De,je){Ie=k.getGraphDiv(Ie),x.clearPromiseQueue(Ie);var qe={};if("string"==typeof De)qe[De]=je;else{if(!k.isPlainObject(De))return k.warn("Relayout fail.",De,je),Promise.reject();qe=k.extendFlat({},De)}Object.keys(qe).length&&(Ie.changed=!0);var ve=le(Ie,qe),Oe=ve.flags;Oe.calc&&(Ie.calcdata=void 0);var ke=[a.previousPromises];Oe.layoutReplot?ke.push(b.layoutReplot):Object.keys(qe).length&&(Q(Ie,Oe,ve)||a.supplyDefaults(Ie),Oe.legend&&ke.push(b.doLegend),Oe.layoutstyle&&ke.push(b.layoutStyles),Oe.axrange&&ee(ke,ve.rangesAltered),Oe.ticks&&ke.push(b.doTicksRelayout),Oe.modebar&&ke.push(b.doModeBar),Oe.camera&&ke.push(b.doCamera),Oe.colorbars&&ke.push(b.doColorBars),ke.push(S)),ke.push(a.rehover,a.redrag,a.reselect),c.add(Ie,ne,[Ie,ve.undoit],ne,[Ie,ve.redoit]);var Be=k.syncOrAsync(ke,Ie);return Be&&Be.then||(Be=Promise.resolve(Ie)),Be.then(function(){return Ie.emit("plotly_relayout",ve.eventData),Ie})}function Q(Ie,De,je){var qe,ve,Oe=Ie._fullLayout;if(!De.axrange)return!1;for(var ke in De)if("axrange"!==ke&&De[ke])return!1;var Be=function(mt,ct){return k.coerce(qe,ve,u,mt,ct)},We={};for(var Ge in je.rangesAltered){var Ke=o.id2name(Ge);if(l(qe=Ie.layout[Ke],ve=Oe[Ke],Be,We),ve._matchGroup)for(var et in ve._matchGroup)if(et!==Ge){var at=Oe[o.id2name(et)];at.autorange=ve.autorange,at.range=ve.range.slice(),at._input.range=ve.range.slice()}}return!0}function ee(Ie,De){Ie.push(_,b.doAutoRangeAndConstraints,De?function(qe){var ve=[];for(var Oe in De){var ke=o.getFromId(qe,Oe);if(ve.push(Oe),-1!==(ke.ticklabelposition||"").indexOf("inside")&&ke._anchorAxis&&ve.push(ke._anchorAxis._id),ke._matchGroup)for(var Be in ke._matchGroup)De[Be]||ve.push(Be)}return o.draw(qe,ve,{skipTitle:!0})}:function(qe){return o.draw(qe,"redraw")},b.drawData,b.finalDraw)}var oe=/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/,ce=/^[xyz]axis[0-9]*\.autorange$/,fe=/^[xyz]axis[0-9]*\.domain(\[[0|1]\])?$/;function le(Ie,De){var je,qe,ve,Oe=Ie.layout,ke=Ie._fullLayout,We=W(ke._preGUI,ke._guiEditing),Ge=Object.keys(De),Ke=o.list(Ie),et=k.extendDeepAll({},De),at={};for(re(De),Ge=Object.keys(De),qe=0;qe<Ge.length;qe++)if(0===Ge[qe].indexOf("allaxes")){for(ve=0;ve<Ke.length;ve++){var mt=Ke[ve]._id.substr(1),ct=-1!==mt.indexOf("scene")?mt+".":"",kt=Ge[qe].replace("allaxes",ct+Ke[ve]._name);De[kt]||(De[kt]=De[Ge[qe]])}delete De[Ge[qe]]}var Dt=A.layoutFlags(),Et={},ht={};function pt(Sn,on){if(Array.isArray(Sn))Sn.forEach(function(un){pt(un,on)});else if(!(Sn in De)&&!x.hasParent(De,Sn)){var vn=We(Oe,Sn);Sn in ht||(ht[Sn]=H(vn.get())),void 0!==on&&vn.set(on)}}var Pt,zt={};function Ht(Sn){var on=o.name2id(Sn.split(".")[0]);return zt[on]=1,on}for(var Lt in De){if(x.hasParent(De,Lt))throw new Error("cannot set "+Lt+" and a parent attribute simultaneously");for(var tt=We(Oe,Lt),it=De[Lt],Je=tt.parts.length-1;Je>0&&"string"!=typeof tt.parts[Je];)Je--;var ot=tt.parts[Je],gt=tt.parts[Je-1]+"."+ot,ft=tt.parts.slice(0,Je).join("."),Ue=M(Ie.layout,ft).get(),$e=M(ke,ft).get(),dt=tt.get();if(void 0!==it){Et[Lt]=it,ht[Lt]="reverse"===ot?it:H(dt);var ut=s.getLayoutValObject(ke,tt.parts);if(ut&&ut.impliedEdits&&null!==it)for(var At in ut.impliedEdits)pt(k.relativeAttr(Lt,At),ut.impliedEdits[At]);if(-1!==["width","height"].indexOf(Lt))if(it){pt("autosize",null);var wt="height"===Lt?"width":"height";pt(wt,ke[wt])}else ke[Lt]=Ie._initialAutoSize[Lt];else if("autosize"===Lt)pt("width",it?null:ke.width),pt("height",it?null:ke.height);else if(gt.match(oe))Ht(gt),M(ke,ft+"._inputRange").set(null);else if(gt.match(ce)){Ht(gt),M(ke,ft+"._inputRange").set(null);var St=M(ke,ft).get();St._inputDomain&&(St._input.domain=St._inputDomain.slice())}else gt.match(fe)&&M(ke,ft+"._inputDomain").set(null);if("type"===ot){Pt=Ue;var _t="linear"===$e.type&&"log"===it;if(_t||"log"===$e.type&&"linear"===it){if(Pt&&Pt.range)if($e.autorange)_t&&(Pt.range=Pt.range[1]>Pt.range[0]?[1,2]:[2,1]);else{var bt=Pt.range[0],Tt=Pt.range[1];_t?(bt<=0&&Tt<=0&&pt(ft+".autorange",!0),bt<=0?bt=Tt/1e6:Tt<=0&&(Tt=bt/1e6),pt(ft+".range[0]",Math.log(bt)/Math.LN10),pt(ft+".range[1]",Math.log(Tt)/Math.LN10)):(pt(ft+".range[0]",Math.pow(10,bt)),pt(ft+".range[1]",Math.pow(10,Tt)))}else pt(ft+".autorange",!0);Array.isArray(ke._subplots.polar)&&ke._subplots.polar.length&&ke[tt.parts[0]]&&"radialaxis"===tt.parts[1]&&delete ke[tt.parts[0]]._subplot.viewInitial["radialaxis.range"],i.getComponentMethod("annotations","convertCoords")(Ie,$e,it,pt),i.getComponentMethod("images","convertCoords")(Ie,$e,it,pt)}else pt(ft+".autorange",!0),pt(ft+".range",null);M(ke,ft+"._inputRange").set(null)}else if(ot.match(g)){var It=M(ke,Lt).get(),Wt=(it||{}).type;Wt&&"-"!==Wt||(Wt="linear"),i.getComponentMethod("annotations","convertCoords")(Ie,It,Wt,pt),i.getComponentMethod("images","convertCoords")(Ie,It,Wt,pt)}var $t=w.containerArrayMatch(Lt);if($t){je=$t.array;var Qt=$t.property,pn=ut||{editType:"calc"};""!==(qe=$t.index)&&""===Qt&&(w.isAddVal(it)?ht[Lt]=null:w.isRemoveVal(it)?ht[Lt]=(M(Oe,je).get()||[])[qe]:k.warn("unrecognized full object value",De)),A.update(Dt,pn),at[je]||(at[je]={});var en=at[je][qe];en||(en=at[je][qe]={}),en[Qt]=it,delete De[Lt]}else"reverse"===ot?(Ue.range?Ue.range.reverse():(pt(ft+".autorange",!0),Ue.range=[1,0]),$e.autorange?Dt.calc=!0:Dt.plot=!0):("dragmode"===Lt&&(!1===it&&!1!==dt||!1!==it&&!1===dt)||ke._has("scatter-like")&&ke._has("regl")&&"dragmode"===Lt&&("lasso"===it||"select"===it)&&"lasso"!==dt&&"select"!==dt||ke._has("gl2d")?Dt.plot=!0:ut?A.update(Dt,ut):Dt.calc=!0,tt.set(it))}}for(je in at)w.applyContainerArrayChanges(Ie,We(Oe,je),at[je],Dt,We)||(Dt.plot=!0);for(var nn in zt){var fn=(Pt=o.getFromId(Ie,nn))&&Pt._constraintGroup;if(fn)for(var On in Dt.calc=!0,fn)zt[On]||(o.getFromId(Ie,On)._constraintShrinkable=!0)}(pe(Ie)||De.height||De.width)&&(Dt.plot=!0);var Un=ke.shapes;for(qe=0;qe<Un.length;qe++)if(Un[qe].showlegend){Dt.calc=!0;break}return(Dt.plot||Dt.calc)&&(Dt.layoutReplot=!0),{flags:Dt,rangesAltered:zt,undoit:ht,redoit:Et,eventData:et}}function pe(Ie){var De=Ie._fullLayout,je=De.width,qe=De.height;return Ie.layout.autosize&&a.plotAutoSize(Ie,Ie.layout,De),De.width!==je||De.height!==qe}function Me(Ie,De,je,qe){Ie=k.getGraphDiv(Ie),x.clearPromiseQueue(Ie),k.isPlainObject(De)||(De={}),k.isPlainObject(je)||(je={}),Object.keys(De).length&&(Ie.changed=!0),Object.keys(je).length&&(Ie.changed=!0);var ve=x.coerceTraceIndices(Ie,qe),Oe=se(Ie,k.extendFlat({},De),ve),ke=Oe.flags,Be=le(Ie,k.extendFlat({},je)),We=Be.flags;(ke.calc||We.calc)&&(Ie.calcdata=void 0),ke.clearAxisTypes&&x.clearAxisTypes(Ie,ve,je);var Ge=[];We.layoutReplot?Ge.push(b.layoutReplot):ke.fullReplot?Ge.push(B._doPlot):(Ge.push(a.previousPromises),Q(Ie,We,Be)||a.supplyDefaults(Ie),ke.style&&Ge.push(b.doTraceStyle),(ke.colorbars||We.colorbars)&&Ge.push(b.doColorBars),We.legend&&Ge.push(b.doLegend),We.layoutstyle&&Ge.push(b.layoutStyles),We.axrange&&ee(Ge,Be.rangesAltered),We.ticks&&Ge.push(b.doTicksRelayout),We.modebar&&Ge.push(b.doModeBar),We.camera&&Ge.push(b.doCamera),Ge.push(S)),Ge.push(a.rehover,a.redrag,a.reselect),c.add(Ie,Me,[Ie,Oe.undoit,Be.undoit,Oe.traces],Me,[Ie,Oe.redoit,Be.redoit,Oe.traces]);var Ke=k.syncOrAsync(Ge,Ie);return Ke&&Ke.then||(Ke=Promise.resolve(Ie)),Ke.then(function(){return Ie.emit("plotly_update",{data:Oe.eventData,layout:Be.eventData}),Ie})}function Ae(Ie){return function(De){De._fullLayout._guiEditing=!0;var je=Ie.apply(null,arguments);return De._fullLayout._guiEditing=!1,je}}var be=[{pattern:/^hiddenlabels/,attr:"legend.uirevision"},{pattern:/^((x|y)axis\d*)\.((auto)?range|title\.text)/},{pattern:/axis\d*\.showspikes$/,attr:"modebar.uirevision"},{pattern:/(hover|drag)mode$/,attr:"modebar.uirevision"},{pattern:/^(scene\d*)\.camera/},{pattern:/^(geo\d*)\.(projection|center|fitbounds)/},{pattern:/^(ternary\d*\.[abc]axis)\.(min|title\.text)$/},{pattern:/^(polar\d*\.radialaxis)\.((auto)?range|angle|title\.text)/},{pattern:/^(polar\d*\.angularaxis)\.rotation/},{pattern:/^(mapbox\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^legend\.(x|y)$/,attr:"editrevision"},{pattern:/^(shapes|annotations)/,attr:"editrevision"},{pattern:/^title\.text$/,attr:"editrevision"}],ye=[{pattern:/^selectedpoints$/,attr:"selectionrevision"},{pattern:/(^|value\.)visible$/,attr:"legend.uirevision"},{pattern:/^dimensions\[\d+\]\.constraintrange/},{pattern:/^node\.(x|y|groups)/},{pattern:/^level$/},{pattern:/(^|value\.)name$/},{pattern:/colorbar\.title\.text$/},{pattern:/colorbar\.(x|y)$/,attr:"editrevision"}];function we(Ie,De){for(var je=0;je<De.length;je++){var qe=De[je],ve=Ie.match(qe.pattern);if(ve){var Oe=ve[1]||"";return{head:Oe,tail:Ie.substr(Oe.length+1),attr:qe.attr}}}}function ze(Ie,De){var je=M(De,Ie).get();if(void 0!==je)return je;var qe=Ie.split(".");for(qe.pop();qe.length>1;)if(qe.pop(),void 0!==(je=M(De,qe.join(".")+".uirevision").get()))return je;return De.uirevision}function Se(Ie,De){for(var je=0;je<De.length;je++)if(De[je]._fullInput.uid===Ie)return je;return-1}function Ce(Ie,De,je){for(var qe=0;qe<De.length;qe++)if(De[qe].uid===Ie)return qe;return!De[je]||De[je].uid?-1:je}function ge(Ie,De){var je=k.isPlainObject(Ie),qe=Array.isArray(Ie);return je||qe?(je&&k.isPlainObject(De)||qe&&Array.isArray(De))&&JSON.stringify(Ie)===JSON.stringify(De):Ie===De}function he(Ie,De,je,qe){var ve,Oe,ke,Be=qe.getValObject,We=qe.flags,Ge=qe.immutable,Ke=qe.inArray,et=qe.arrayIndex;function at(){var Ue=ve.editType;Ke&&-1!==Ue.indexOf("arraydraw")?k.pushUnique(We.arrays[Ke],et):(A.update(We,ve),"none"!==Ue&&We.nChanges++,qe.transition&&ve.anim&&We.nChangesAnim++,(oe.test(ke)||ce.test(ke))&&(We.rangesAltered[je[0]]=1),fe.test(ke)&&M(De,"_inputDomain").set(null),"datarevision"===Oe&&(We.newDataRevision=1))}function mt(Ue){return"data_array"===Ue.valType||Ue.arrayOk}for(Oe in Ie){if(We.calc&&!qe.transition)return;var ct=Ie[Oe],kt=De[Oe],Dt=je.concat(Oe);if(ke=Dt.join("."),"_"!==Oe.charAt(0)&&"function"!=typeof ct&&ct!==kt){if(("tick0"===Oe||"dtick"===Oe)&&"geo"!==je[0]){var Et=De.tickmode;if("auto"===Et||"array"===Et||!Et)continue}if(("range"!==Oe||!De.autorange)&&("zmin"!==Oe&&"zmax"!==Oe||"contourcarpet"!==De.type)&&(ve=Be(Dt))&&(!ve._compareAsJSON||JSON.stringify(ct)!==JSON.stringify(kt))){var ht,pt=ve.valType,Pt=mt(ve),zt=Array.isArray(ct),Ht=Array.isArray(kt);if(zt&&Ht){var Lt="_input_"+Oe,tt=Ie[Lt],it=De[Lt];if(Array.isArray(tt)&&tt===it)continue}if(void 0===kt)Pt&&zt?We.calc=!0:at();else if(ve._isLinkedToArray){var Je=[],ot=!1;Ke||(We.arrays[Oe]=Je);var gt=Math.min(ct.length,kt.length),ft=Math.max(ct.length,kt.length);if(gt!==ft){if("arraydraw"!==ve.editType){at();continue}ot=!0}for(ht=0;ht<gt;ht++)he(ct[ht],kt[ht],Dt.concat(ht),k.extendFlat({inArray:Oe,arrayIndex:ht},qe));if(ot)for(ht=gt;ht<ft;ht++)Je.push(ht)}else!pt&&k.isPlainObject(ct)?he(ct,kt,Dt,qe):Pt?zt&&Ht?(Ge&&(We.calc=!0),(Ge||qe.newDataRevision)&&at()):zt!==Ht?We.calc=!0:at():zt&&Ht&&ct.length===kt.length&&String(ct)===String(kt)||at()}}}for(Oe in De)if(!(Oe in Ie)&&"_"!==Oe.charAt(0)&&"function"!=typeof De[Oe]){if(mt(ve=Be(je.concat(Oe)))&&Array.isArray(De[Oe]))return void(We.calc=!0);at()}}function _e(Ie,De){var je;for(je in Ie)if("_"!==je.charAt(0)){var qe=Ie[je],ve=De[je];if(qe!==ve)if(k.isPlainObject(qe)&&k.isPlainObject(ve)){if(_e(qe,ve))return!0}else{if(!Array.isArray(qe)||!Array.isArray(ve)||qe.length!==ve.length)return!0;for(var Oe=0;Oe<qe.length;Oe++)if(qe[Oe]!==ve[Oe]&&(!k.isPlainObject(qe[Oe])||!k.isPlainObject(ve[Oe])||_e(qe[Oe],ve[Oe])))return!0}}}function Le(Ie){var De=Ie._fullLayout,je=Ie.getBoundingClientRect();if(!k.equalDomRects(je,De._lastBBox)){var qe=De._invTransform=k.inverseTransformMatrix(k.getFullTransformMatrix(Ie));De._invScaleX=Math.sqrt(qe[0][0]*qe[0][0]+qe[0][1]*qe[0][1]+qe[0][2]*qe[0][2]),De._invScaleY=Math.sqrt(qe[1][0]*qe[1][0]+qe[1][1]*qe[1][1]+qe[1][2]*qe[1][2]),De._lastBBox=je}}B.animate=function(Ie,De,je){if(Ie=k.getGraphDiv(Ie),!k.isPlotDiv(Ie))throw new Error("This element is not a Plotly plot: "+Ie+". It's likely that you've failed to create a plot before animating it. For more details, see https://plotly.com/javascript/animations/");var qe=Ie._transitionData;qe._frameQueue||(qe._frameQueue=[]);var ve=(je=a.supplyAnimationDefaults(je)).transition,Oe=je.frame;function ke(Ge){return Array.isArray(ve)?Ge>=ve.length?ve[0]:ve[Ge]:ve}function Be(Ge){return Array.isArray(Oe)?Ge>=Oe.length?Oe[0]:Oe[Ge]:Oe}function We(Ge,Ke){var et=0;return function(){if(Ge&&++et===Ke)return Ge()}}return void 0===qe._frameWaitingCnt&&(qe._frameWaitingCnt=0),new Promise(function(Ge,Ke){var at,mt,ct=0;function kt(Lt){return Lt.transitionOpts=Array.isArray(ve)?ct>=ve.length?ve[ct]:ve[0]:ve,ct++,Lt}var Dt=[],Et=null==De,ht=Array.isArray(De);if(Et||ht||!k.isPlainObject(De)){if(Et||-1!==["string","number"].indexOf(typeof De))for(at=0;at<qe._frames.length;at++)(mt=qe._frames[at])&&(Et||String(mt.group)===String(De))&&Dt.push({type:"byname",name:String(mt.name),data:kt({name:mt.name})});else if(ht)for(at=0;at<De.length;at++){var pt=De[at];-1!==["number","string"].indexOf(typeof pt)?(pt=String(pt),Dt.push({type:"byname",name:pt,data:kt({name:pt})})):k.isPlainObject(pt)&&Dt.push({type:"object",data:kt(k.extendFlat({},pt))})}}else Dt.push({type:"object",data:kt(k.extendFlat({},De))});for(at=0;at<Dt.length;at++)if("byname"===(mt=Dt[at]).type&&!qe._frameHash[mt.data.name])return k.warn('animate failure: frame not found: "'+mt.data.name+'"'),void Ke();-1!==["next","immediate"].indexOf(je.mode)&&function(){if(0!==qe._frameQueue.length){for(;qe._frameQueue.length;){var Lt=qe._frameQueue.pop();Lt.onInterrupt&&Lt.onInterrupt()}Ie.emit("plotly_animationinterrupted",[])}}(),"reverse"===je.direction&&Dt.reverse();var Pt=Ie._fullLayout._currentFrame;if(Pt&&je.fromcurrent){var zt=-1;for(at=0;at<Dt.length;at++)if("byname"===(mt=Dt[at]).type&&mt.name===Pt){zt=at;break}if(zt>0&&zt<Dt.length-1){var Ht=[];for(at=0;at<Dt.length;at++)mt=Dt[at],("byname"!==Dt[at].type||at>zt)&&Ht.push(mt);Dt=Ht}}Dt.length>0?function(Lt){if(0!==Lt.length){for(var tt=0;tt<Lt.length;tt++){var it;it="byname"===Lt[tt].type?a.computeFrame(Ie,Lt[tt].name):Lt[tt].data;var Je=Be(tt),ot=ke(tt);ot.duration=Math.min(ot.duration,Je.duration);var gt={frame:it,name:Lt[tt].name,frameOpts:Je,transitionOpts:ot};tt===Lt.length-1&&(gt.onComplete=We(Ge,2),gt.onInterrupt=Ke),qe._frameQueue.push(gt)}"immediate"===je.mode&&(qe._lastFrameAt=-1/0),qe._animationRaf||function et(){Ie.emit("plotly_animating"),qe._lastFrameAt=-1/0,qe._timeToNext=0,qe._runningTransitions=0,qe._currentFrame=null;var Lt=function(){qe._animationRaf=window.requestAnimationFrame(Lt),Date.now()-qe._lastFrameAt>qe._timeToNext&&function(){qe._currentFrame&&qe._currentFrame.onComplete&&qe._currentFrame.onComplete();var tt=qe._currentFrame=qe._frameQueue.shift();if(tt){var it=tt.name?tt.name.toString():null;Ie._fullLayout._currentFrame=it,qe._lastFrameAt=Date.now(),qe._timeToNext=tt.frameOpts.duration,a.transition(Ie,tt.frame.data,tt.frame.layout,x.coerceTraceIndices(Ie,tt.frame.traces),tt.frameOpts,tt.transitionOpts).then(function(){tt.onComplete&&tt.onComplete()}),Ie.emit("plotly_animatingframe",{name:it,frame:tt.frame,animation:{frame:tt.frameOpts,transition:tt.transitionOpts}})}else Ie.emit("plotly_animated"),window.cancelAnimationFrame(qe._animationRaf),qe._animationRaf=null}()};Lt()}()}}(Dt):(Ie.emit("plotly_animated"),Ge())})},B.addFrames=function(Ie,De,je){if(Ie=k.getGraphDiv(Ie),null==De)return Promise.resolve();if(!k.isPlotDiv(Ie))throw new Error("This element is not a Plotly plot: "+Ie+". It's likely that you've failed to create a plot before adding frames. For more details, see https://plotly.com/javascript/animations/");var qe,ve,Oe,ke,Be=Ie._transitionData._frames,We=Ie._transitionData._frameHash;if(!Array.isArray(De))throw new Error("addFrames failure: frameList must be an Array of frame definitions"+De);var Ge=Be.length+2*De.length,Ke=[],et={};for(qe=De.length-1;qe>=0;qe--)if(k.isPlainObject(De[qe])){var at=De[qe].name,mt=(We[at]||et[at]||{}).name,ct=De[qe].name;mt&&ct&&"number"==typeof ct&&(We[mt]||et[mt])&&I<5&&(I++,k.warn('addFrames: overwriting frame "'+(We[mt]||et[mt]).name+'" with a frame whose name of type "number" also equates to "'+mt+'". This is valid but may potentially lead to unexpected behavior since all plotly.js frame names are stored internally as strings.'),5===I&&k.warn("addFrames: This API call has yielded too many of these warnings. For the rest of this call, further warnings about numeric frame names will be suppressed.")),et[at]={name:at},Ke.push({frame:a.supplyFrameDefaults(De[qe]),index:je&&null!=je[qe]?je[qe]:Ge+qe})}Ke.sort(function(Lt,tt){return Lt.index>tt.index?-1:Lt.index<tt.index?1:0});var Dt=[],Et=[],ht=Be.length;for(qe=Ke.length-1;qe>=0;qe--){if("number"==typeof(ve=Ke[qe].frame).name&&k.warn("Warning: addFrames accepts frames with numeric names, but the numbers areimplicitly cast to strings"),!ve.name)for(;We[ve.name="frame "+Ie._transitionData._counter++];);if(We[ve.name]){for(Oe=0;Oe<Be.length&&(Be[Oe]||{}).name!==ve.name;Oe++);Dt.push({type:"replace",index:Oe,value:ve}),Et.unshift({type:"replace",index:Oe,value:Be[Oe]})}else ke=Math.max(0,Math.min(Ke[qe].index,ht)),Dt.push({type:"insert",index:ke,value:ve}),Et.unshift({type:"delete",index:ke}),ht++}return c&&c.add(Ie,a.modifyFrames,[Ie,Et],a.modifyFrames,[Ie,Dt]),a.modifyFrames(Ie,Dt)},B.deleteFrames=function(Ie,De){if(Ie=k.getGraphDiv(Ie),!k.isPlotDiv(Ie))throw new Error("This element is not a Plotly plot: "+Ie);var je,qe,ve=Ie._transitionData._frames,Oe=[],ke=[];if(!De)for(De=[],je=0;je<ve.length;je++)De.push(je);for((De=De.slice()).sort(),je=De.length-1;je>=0;je--)Oe.push({type:"delete",index:qe=De[je]}),ke.unshift({type:"insert",index:qe,value:ve[qe]});return c&&c.add(Ie,a.modifyFrames,[Ie,ke],a.modifyFrames,[Ie,Oe]),a.modifyFrames(Ie,Oe)},B.addTraces=function Ie(De,je,qe){De=k.getGraphDiv(De);var ve,Oe,ke=[],Be=B.deleteTraces,We=Ie,Ge=[De,ke],Ke=[De,je];for(function(et,at,mt){var ct,kt;if(!Array.isArray(et.data))throw new Error("gd.data must be an array.");if(void 0===at)throw new Error("traces must be defined.");for(Array.isArray(at)||(at=[at]),ct=0;ct<at.length;ct++)if("object"!=typeof(kt=at[ct])||Array.isArray(kt)||null===kt)throw new Error("all values in traces array must be non-array objects");if(void 0===mt||Array.isArray(mt)||(mt=[mt]),void 0!==mt&&mt.length!==at.length)throw new Error("if indices is specified, traces.length must equal indices.length")}(De,je,qe),Array.isArray(je)||(je=[je]),je=je.map(function(et){return k.extendFlat({},et)}),x.cleanData(je),ve=0;ve<je.length;ve++)De.data.push(je[ve]);for(ve=0;ve<je.length;ve++)ke.push(-je.length+ve);if(void 0===qe)return Oe=B.redraw(De),c.add(De,Be,Ge,We,Ke),Oe;Array.isArray(qe)||(qe=[qe]);try{X(De,ke,qe)}catch(et){throw De.data.splice(De.data.length-je.length,je.length),et}return c.startSequence(De),c.add(De,Be,Ge,We,Ke),Oe=B.moveTraces(De,ke,qe),c.stopSequence(De),Oe},B.deleteTraces=function Ie(De,je){De=k.getGraphDiv(De);var qe,ve,Oe=[],ke=B.addTraces,Be=Ie,We=[De,Oe,je],Ge=[De,je];if(void 0===je)throw new Error("indices must be an integer or array of integers.");for(Array.isArray(je)||(je=[je]),j(De,je,"indices"),(je=N(je,De.data.length-1)).sort(k.sorterDes),qe=0;qe<je.length;qe+=1)ve=De.data.splice(je[qe],1)[0],Oe.push(ve);var Ke=B.redraw(De);return c.add(De,ke,We,Be,Ge),Ke},B.extendTraces=function Ie(De,je,qe,ve){var Oe=F(De=k.getGraphDiv(De),je,qe,ve,function(We,Ge,Ke){var et,at;if(k.isTypedArray(We))if(Ke<0){var mt=new We.constructor(0),ct=Y(We,Ge);Ke<0?(et=ct,at=mt):(et=mt,at=ct)}else if(et=new We.constructor(Ke),at=new We.constructor(We.length+Ge.length-Ke),Ke===Ge.length)et.set(Ge),at.set(We);else if(Ke<Ge.length){var kt=Ge.length-Ke;et.set(Ge.subarray(kt)),at.set(We),at.set(Ge.subarray(0,kt),We.length)}else{var Dt=Ke-Ge.length,Et=We.length-Dt;et.set(We.subarray(Et)),et.set(Ge,Dt),at.set(We.subarray(0,Et))}else et=We.concat(Ge),at=Ke>=0&&Ke<et.length?et.splice(0,et.length-Ke):[];return[et,at]}),ke=B.redraw(De);return c.add(De,B.prependTraces,[De,Oe.update,qe,Oe.maxPoints],Ie,arguments),ke},B.moveTraces=function Ie(De,je,qe){var ve,Oe=[],ke=[],Be=Ie,We=Ie,Ge=[De=k.getGraphDiv(De),qe,je],Ke=[De,je,qe];if(X(De,je,qe),je=Array.isArray(je)?je:[je],void 0===qe)for(qe=[],ve=0;ve<je.length;ve++)qe.push(-je.length+ve);for(qe=Array.isArray(qe)?qe:[qe],je=N(je,De.data.length-1),qe=N(qe,De.data.length-1),ve=0;ve<De.data.length;ve++)-1===je.indexOf(ve)&&Oe.push(De.data[ve]);for(ve=0;ve<je.length;ve++)ke.push({newIndex:qe[ve],trace:De.data[je[ve]]});for(ke.sort(function(at,mt){return at.newIndex-mt.newIndex}),ve=0;ve<ke.length;ve+=1)Oe.splice(ke[ve].newIndex,0,ke[ve].trace);De.data=Oe;var et=B.redraw(De);return c.add(De,Be,Ge,We,Ke),et},B.prependTraces=function Ie(De,je,qe,ve){var Oe=F(De=k.getGraphDiv(De),je,qe,ve,function(We,Ge,Ke){var et,at;if(k.isTypedArray(We))if(Ke<=0){var mt=new We.constructor(0),ct=Y(Ge,We);Ke<0?(et=ct,at=mt):(et=mt,at=ct)}else if(et=new We.constructor(Ke),at=new We.constructor(We.length+Ge.length-Ke),Ke===Ge.length)et.set(Ge),at.set(We);else if(Ke<Ge.length){var kt=Ge.length-Ke;et.set(Ge.subarray(0,kt)),at.set(Ge.subarray(kt)),at.set(We,kt)}else{var Dt=Ke-Ge.length;et.set(Ge),et.set(We.subarray(0,Dt),Ge.length),at.set(We.subarray(Dt))}else et=Ge.concat(We),at=Ke>=0&&Ke<et.length?et.splice(Ke,et.length):[];return[et,at]}),ke=B.redraw(De);return c.add(De,B.extendTraces,[De,Oe.update,qe,Oe.maxPoints],Ie,arguments),ke},B.newPlot=function(Ie,De,je,qe){return Ie=k.getGraphDiv(Ie),a.cleanPlot([],{},Ie._fullData||[],Ie._fullLayout||{}),a.purge(Ie),B._doPlot(Ie,De,je,qe)},B._doPlot=function(Ie,De,je,qe){var ve;if(Ie=k.getGraphDiv(Ie),y.init(Ie),k.isPlainObject(De)){var Oe=De;De=Oe.data,je=Oe.layout,qe=Oe.config,ve=Oe.frames}if(!1===y.triggerHandler(Ie,"plotly_beforeplot",[De,je,qe]))return Promise.reject();De||je||k.isPlotDiv(Ie)||k.warn("Calling _doPlot as if redrawing but this container doesn't yet have a plot.",Ie),L(Ie,qe),je||(je={}),D.select(Ie).classed("js-plotly-plot",!0),h.makeTester(),Array.isArray(Ie._promises)||(Ie._promises=[]);var ke=0===(Ie.data||[]).length&&Array.isArray(De);Array.isArray(De)&&(x.cleanData(De),ke?Ie.data=De:Ie.data.push.apply(Ie.data,De),Ie.empty=!1),Ie.layout&&!ke||(Ie.layout=x.cleanLayout(je)),a.supplyDefaults(Ie);var Be=Ie._fullLayout,We=Be._has("cartesian");Be._replotting=!0,(ke||Be._shouldCreateBgLayer)&&(function(Et){var ht=D.select(Et),pt=Et._fullLayout;if(pt._calcInverseTransform=Le,pt._calcInverseTransform(Et),pt._container=ht.selectAll(".plot-container").data([0]),pt._container.enter().insert("div",":first-child").classed("plot-container",!0).classed("plotly",!0),pt._paperdiv=pt._container.selectAll(".svg-container").data([0]),pt._paperdiv.enter().append("div").classed("user-select-none",!0).classed("svg-container",!0).style("position","relative"),pt._glcontainer=pt._paperdiv.selectAll(".gl-container").data([{}]),pt._glcontainer.enter().append("div").classed("gl-container",!0),pt._paperdiv.selectAll(".main-svg").remove(),pt._paperdiv.select(".modebar-container").remove(),pt._paper=pt._paperdiv.insert("svg",":first-child").classed("main-svg",!0),pt._toppaper=pt._paperdiv.append("svg").classed("main-svg",!0),pt._modebardiv=pt._paperdiv.append("div"),delete pt._modeBar,pt._hoverpaper=pt._paperdiv.append("svg").classed("main-svg",!0),!pt._uid){var Pt={};D.selectAll("defs").each(function(){this.id&&(Pt[this.id.split("-")[1]]=1)}),pt._uid=k.randstr(Pt)}pt._paperdiv.selectAll(".main-svg").attr(T.svgAttrs),pt._defs=pt._paper.append("defs").attr("id","defs-"+pt._uid),pt._clips=pt._defs.append("g").classed("clips",!0),pt._topdefs=pt._toppaper.append("defs").attr("id","topdefs-"+pt._uid),pt._topclips=pt._topdefs.append("g").classed("clips",!0),pt._bgLayer=pt._paper.append("g").classed("bglayer",!0),pt._draggers=pt._paper.append("g").classed("draglayer",!0);var zt=pt._paper.append("g").classed("layer-below",!0);pt._imageLowerLayer=zt.append("g").classed("imagelayer",!0),pt._shapeLowerLayer=zt.append("g").classed("shapelayer",!0),pt._cartesianlayer=pt._paper.append("g").classed("cartesianlayer",!0),pt._polarlayer=pt._paper.append("g").classed("polarlayer",!0),pt._smithlayer=pt._paper.append("g").classed("smithlayer",!0),pt._ternarylayer=pt._paper.append("g").classed("ternarylayer",!0),pt._geolayer=pt._paper.append("g").classed("geolayer",!0),pt._funnelarealayer=pt._paper.append("g").classed("funnelarealayer",!0),pt._pielayer=pt._paper.append("g").classed("pielayer",!0),pt._iciclelayer=pt._paper.append("g").classed("iciclelayer",!0),pt._treemaplayer=pt._paper.append("g").classed("treemaplayer",!0),pt._sunburstlayer=pt._paper.append("g").classed("sunburstlayer",!0),pt._indicatorlayer=pt._toppaper.append("g").classed("indicatorlayer",!0),pt._glimages=pt._paper.append("g").classed("glimages",!0);var Ht=pt._toppaper.append("g").classed("layer-above",!0);pt._imageUpperLayer=Ht.append("g").classed("imagelayer",!0),pt._shapeUpperLayer=Ht.append("g").classed("shapelayer",!0),pt._selectionLayer=pt._toppaper.append("g").classed("selectionlayer",!0),pt._infolayer=pt._toppaper.append("g").classed("infolayer",!0),pt._menulayer=pt._toppaper.append("g").classed("menulayer",!0),pt._zoomlayer=pt._toppaper.append("g").classed("zoomlayer",!0),pt._hoverlayer=pt._hoverpaper.append("g").classed("hoverlayer",!0),pt._modebardiv.classed("modebar-container",!0).style("position","absolute").style("top","0px").style("right","0px"),Et.emit("plotly_framework")}(Ie),Be._shouldCreateBgLayer&&delete Be._shouldCreateBgLayer),h.initGradients(Ie),h.initPatterns(Ie),ke&&o.saveShowSpikeInitial(Ie);var Ge=!Ie.calcdata||Ie.calcdata.length!==(Ie._fullData||[]).length;Ge&&a.doCalcdata(Ie);for(var Ke=0;Ke<Ie.calcdata.length;Ke++)Ie.calcdata[Ke][0].trace=Ie._fullData[Ke];Ie._context.responsive?Ie._responsiveChartHandler||(Ie._responsiveChartHandler=function(){k.isHidden(Ie)||a.resize(Ie)},window.addEventListener("resize",Ie._responsiveChartHandler)):k.clearResponsive(Ie);var et=k.extendFlat({},Be._size),at=0;function mt(){if(a.clearAutoMarginIds(Ie),b.drawMarginPushers(Ie),o.allowAutoMargin(Ie),Ie._fullLayout.title.text&&Ie._fullLayout.title.automargin&&a.allowAutoMargin(Ie,"title.automargin"),Be._has("pie"))for(var Et=Ie._fullData,ht=0;ht<Et.length;ht++){var pt=Et[ht];"pie"===pt.type&&pt.automargin&&a.allowAutoMargin(Ie,"pie."+pt.uid+".automargin")}return a.doAutoMargin(Ie),a.previousPromises(Ie)}function ct(){Ie._transitioning||(b.doAutoRangeAndConstraints(Ie),ke&&o.saveRangeInitial(Ie),i.getComponentMethod("rangeslider","calcAutorange")(Ie))}var kt=[a.previousPromises,function(){if(ve)return B.addFrames(Ie,ve)},function Et(){for(var ht=Be._basePlotModules,pt=0;pt<ht.length;pt++)ht[pt].drawFramework&&ht[pt].drawFramework(Ie);!Be._glcanvas&&Be._has("gl")&&(Be._glcanvas=Be._glcontainer.selectAll(".gl-canvas").data([{key:"contextLayer",context:!0,pick:!1},{key:"focusLayer",context:!1,pick:!1},{key:"pickLayer",context:!1,pick:!0}],function(Lt){return Lt.key}),Be._glcanvas.enter().append("canvas").attr("class",function(Lt){return"gl-canvas gl-canvas-"+Lt.key.replace("Layer","")}).style({position:"absolute",top:0,left:0,overflow:"visible","pointer-events":"none"}));var Pt=Ie._context.plotGlPixelRatio;if(Be._glcanvas){Be._glcanvas.attr("width",Be.width*Pt).attr("height",Be.height*Pt).style("width",Be.width+"px").style("height",Be.height+"px");var zt=Be._glcanvas.data()[0].regl;if(zt&&(Math.floor(Be.width*Pt)!==zt._gl.drawingBufferWidth||Math.floor(Be.height*Pt)!==zt._gl.drawingBufferHeight)){var Ht="WebGL context buffer and canvas dimensions do not match due to browser/WebGL bug.";if(!at)return k.log(Ht+" Clearing graph and plotting again."),a.cleanPlot([],{},Ie._fullData,Be),a.supplyDefaults(Ie),Be=Ie._fullLayout,a.doCalcdata(Ie),at++,Et();k.error(Ht)}}return"h"===Be.modebar.orientation?Be._modebardiv.style("height",null).style("width","100%"):Be._modebardiv.style("width",null).style("height",Be.height+"px"),a.previousPromises(Ie)},mt,function(){if(a.didMarginChange(et,Be._size))return k.syncOrAsync([mt,b.layoutStyles],Ie)}];We&&kt.push(function(){if(Ge)return k.syncOrAsync([i.getComponentMethod("shapes","calcAutorange"),i.getComponentMethod("annotations","calcAutorange"),ct],Ie);ct()}),kt.push(b.layoutStyles),We&&kt.push(function(){return o.draw(Ie,ke?"":"redraw")},function(Et){var ht=Et._fullLayout._insideTickLabelsUpdaterange;if(ht)return Et._fullLayout._insideTickLabelsUpdaterange=void 0,ne(Et,ht).then(function(){o.saveRangeInitial(Et,!0)})}),kt.push(b.drawData,b.finalDraw,p,a.addLinks,a.rehover,a.redrag,a.reselect,a.doAutoMargin,a.previousPromises);var Dt=k.syncOrAsync(kt,Ie);return Dt&&Dt.then||(Dt=Promise.resolve()),Dt.then(function(){return S(Ie),Ie})},B.purge=function(Ie){var De=(Ie=k.getGraphDiv(Ie))._fullLayout||{};return a.cleanPlot([],{},Ie._fullData||[],De),a.purge(Ie),y.purge(Ie),De._container&&De._container.remove(),delete Ie._context,Ie},B.react=function(Ie,De,je,qe){var ve,Oe;Ie=k.getGraphDiv(Ie),x.clearPromiseQueue(Ie);var ft,Ue,$e,dt,ut,At,ke=Ie._fullData,Be=Ie._fullLayout;if(k.isPlotDiv(Ie)&&ke&&Be){if(k.isPlainObject(De)){var We=De;De=We.data,je=We.layout,qe=We.config,ve=We.frames}var Ge=!1;if(qe){var Ke=k.extendDeep({},Ie._context);Ie._context=void 0,L(Ie,qe),Ge=_e(Ke,Ie._context)}Ie.data=De||[],x.cleanData(Ie.data),Ie.layout=je||{},x.cleanLayout(Ie.layout),function(ft,Ue,$e,dt){var ut,At,wt,St,_t,Rt,bt,Tt,It,Wt,$t=dt._preGUI,Qt=[],pn={},en={};for(ut in $t){if(_t=we(ut,be)){if(It=_t.head,Wt=_t.tail,(St=(wt=M(dt,At=_t.attr||It+".uirevision").get())&&ze(At,Ue))&&St===wt){if(null===(Rt=$t[ut])&&(Rt=void 0),ge(Tt=(bt=M(Ue,ut)).get(),Rt)){void 0===Tt&&"autorange"===Wt&&Qt.push(It),bt.set(H(M(dt,ut).get()));continue}if("autorange"===Wt||"range["===Wt.substr(0,6)){var On=$t[It+".autorange"];if(On||null===On&&null===$t[It+".range[0]"]&&null===$t[It+".range[1]"]){if(!(It in pn)){var Un=M(Ue,It).get();pn[It]=Un&&(Un.autorange||!1!==Un.autorange&&(!Un.range||2!==Un.range.length))}if(pn[It]){bt.set(H(M(dt,ut).get()));continue}}}}}else k.warn("unrecognized GUI edit: "+ut);delete $t[ut],_t&&"range["===_t.tail.substr(0,6)&&(en[_t.head]=1)}for(var Sn=0;Sn<Qt.length;Sn++){var on=Qt[Sn];if(en[on]){var vn=M(Ue,on).get();vn&&delete vn.autorange}}var un=dt._tracePreGUI;for(var Tn in un){var kn,xn=un[Tn],Rn=null;for(ut in xn){if(!Rn){var Hn=Se(Tn,$e);if(Hn<0){delete un[Tn];break}var En=Ce(Tn,ft,(kn=$e[Hn]._fullInput).index);if(En<0){delete un[Tn];break}Rn=ft[En]}if(_t=we(ut,ye)){if(_t.attr?St=(wt=M(dt,_t.attr).get())&&ze(_t.attr,Ue):(wt=kn.uirevision,void 0===(St=Rn.uirevision)&&(St=Ue.uirevision)),St&&St===wt&&(null===(Rt=xn[ut])&&(Rt=void 0),ge(Tt=(bt=M(Rn,ut)).get(),Rt))){bt.set(H(M(kn,ut).get()));continue}}else k.warn("unrecognized GUI edit: "+ut+" in trace uid "+Tn);delete xn[ut]}}}(Ie.data,Ie.layout,ke,Be),a.supplyDefaults(Ie,{skipUpdateCalc:!0});var et=Ie._fullData,at=Ie._fullLayout,mt=void 0===at.datarevision,ct=at.transition,kt=(ft=Ie,Ue=Be,$e=at,dt=mt,ut=ct,(At=A.layoutFlags()).arrays={},At.rangesAltered={},At.nChanges=0,At.nChangesAnim=0,he(Ue,$e,[],{getValObject:function(wt){return s.getLayoutValObject($e,wt)},flags:At,immutable:dt,transition:ut,gd:ft}),(At.plot||At.calc)&&(At.layoutReplot=!0),ut&&At.nChanges&&At.nChangesAnim&&(At.anim=At.nChanges===At.nChangesAnim?"all":"some"),At),Et=function(ft,Ue,$e,dt,ut,At){var wt=Ue.length===$e.length;if(!ut&&!wt)return{fullReplot:!0,calc:!0};var St,_t,Rt=A.traceFlags();Rt.arrays={},Rt.nChanges=0,Rt.nChangesAnim=0;var bt={getValObject:function(It){var Wt=s.getTraceValObject(_t,It);return!_t._module.animatable&&Wt.anim&&(Wt.anim=!1),Wt},flags:Rt,immutable:dt,transition:ut,newDataRevision:At,gd:ft},Tt={};for(St=0;St<Ue.length;St++)if($e[St]){if(a.hasMakesDataTransform(_t=$e[St]._fullInput)&&(_t=$e[St]),Tt[_t.uid])continue;Tt[_t.uid]=1,he(Ue[St]._fullInput,_t,[],bt)}return(Rt.calc||Rt.plot)&&(Rt.fullReplot=!0),ut&&Rt.nChanges&&Rt.nChangesAnim&&(Rt.anim=Rt.nChanges===Rt.nChangesAnim&&wt?"all":"some"),Rt}(Ie,ke,et,mt,ct,kt.newDataRevision);if(pe(Ie)&&(kt.layoutReplot=!0),Et.calc||kt.calc){Ie.calcdata=void 0;for(var ht=Object.getOwnPropertyNames(at),pt=0;pt<ht.length;pt++){var Pt=ht[pt],zt=Pt.substring(0,5);if("xaxis"===zt||"yaxis"===zt){var Ht=at[Pt]._emptyCategories;Ht&&Ht()}}}else a.supplyDefaultsUpdateCalc(Ie.calcdata,et);var Lt=[];if(ve&&(Ie._transitionData={},a.createTransitionData(Ie),Lt.push(function(){return B.addFrames(Ie,ve)})),at.transition&&!Ge&&(Et.anim||kt.anim))kt.ticks&&Lt.push(b.doTicksRelayout),a.doCalcdata(Ie),b.doAutoRangeAndConstraints(Ie),Lt.push(function(){return a.transitionFromReact(Ie,Et,kt,Be)});else if(Et.fullReplot||kt.layoutReplot||Ge)Ie._fullLayout._skipDefaults=!0,Lt.push(B._doPlot);else{for(var tt in kt.arrays){var it=kt.arrays[tt];if(it.length){var Je=i.getComponentMethod(tt,"drawOne");if(Je!==k.noop)for(var ot=0;ot<it.length;ot++)Je(Ie,it[ot]);else{var gt=i.getComponentMethod(tt,"draw");if(gt===k.noop)throw new Error("cannot draw components: "+tt);gt(Ie)}}}Lt.push(a.previousPromises),Et.style&&Lt.push(b.doTraceStyle),(Et.colorbars||kt.colorbars)&&Lt.push(b.doColorBars),kt.legend&&Lt.push(b.doLegend),kt.layoutstyle&&Lt.push(b.layoutStyles),kt.axrange&&ee(Lt),kt.ticks&&Lt.push(b.doTicksRelayout),kt.modebar&&Lt.push(b.doModeBar),kt.camera&&Lt.push(b.doCamera),Lt.push(S)}Lt.push(a.rehover,a.redrag,a.reselect),(Oe=k.syncOrAsync(Lt,Ie))&&Oe.then||(Oe=Promise.resolve(Ie))}else Oe=B.newPlot(Ie,De,je,qe);return Oe.then(function(){return Ie.emit("plotly_react",{data:De,layout:je}),Ie})},B.redraw=function(Ie){if(Ie=k.getGraphDiv(Ie),!k.isPlotDiv(Ie))throw new Error("This element is not a Plotly plot: "+Ie);return x.cleanData(Ie.data),x.cleanLayout(Ie.layout),Ie.calcdata=void 0,B._doPlot(Ie).then(function(){return Ie.emit("plotly_redraw"),Ie})},B.relayout=ne,B.restyle=G,B.setPlotConfig=function(Ie){return k.extendFlat(m,Ie)},B.update=Me,B._guiRelayout=Ae(ne),B._guiRestyle=Ae(G),B._guiUpdate=Ae(Me),B._storeDirectGUIEdit=function(Ie,De,je){for(var qe in je)Z(qe,M(Ie,qe).get(),je[qe],De)}},72075:function(ae){"use strict";var B={staticPlot:{valType:"boolean",dflt:!1},typesetMath:{valType:"boolean",dflt:!0},plotlyServerURL:{valType:"string",dflt:""},editable:{valType:"boolean",dflt:!1},edits:{annotationPosition:{valType:"boolean",dflt:!1},annotationTail:{valType:"boolean",dflt:!1},annotationText:{valType:"boolean",dflt:!1},axisTitleText:{valType:"boolean",dflt:!1},colorbarPosition:{valType:"boolean",dflt:!1},colorbarTitleText:{valType:"boolean",dflt:!1},legendPosition:{valType:"boolean",dflt:!1},legendText:{valType:"boolean",dflt:!1},shapePosition:{valType:"boolean",dflt:!1},titleText:{valType:"boolean",dflt:!1}},editSelection:{valType:"boolean",dflt:!0},autosizable:{valType:"boolean",dflt:!1},responsive:{valType:"boolean",dflt:!1},fillFrame:{valType:"boolean",dflt:!1},frameMargins:{valType:"number",dflt:0,min:0,max:.5},scrollZoom:{valType:"flaglist",flags:["cartesian","gl3d","geo","mapbox"],extras:[!0,!1],dflt:"gl3d+geo+mapbox"},doubleClick:{valType:"enumerated",values:[!1,"reset","autosize","reset+autosize"],dflt:"reset+autosize"},doubleClickDelay:{valType:"number",dflt:300,min:0},showAxisDragHandles:{valType:"boolean",dflt:!0},showAxisRangeEntryBoxes:{valType:"boolean",dflt:!0},showTips:{valType:"boolean",dflt:!0},showLink:{valType:"boolean",dflt:!1},linkText:{valType:"string",dflt:"Edit chart",noBlank:!0},sendData:{valType:"boolean",dflt:!0},showSources:{valType:"any",dflt:!1},displayModeBar:{valType:"enumerated",values:["hover",!0,!1],dflt:"hover"},showSendToCloud:{valType:"boolean",dflt:!1},showEditInChartStudio:{valType:"boolean",dflt:!1},modeBarButtonsToRemove:{valType:"any",dflt:[]},modeBarButtonsToAdd:{valType:"any",dflt:[]},modeBarButtons:{valType:"any",dflt:!1},toImageButtonOptions:{valType:"any",dflt:{}},displaylogo:{valType:"boolean",dflt:!0},watermark:{valType:"boolean",dflt:!1},plotGlPixelRatio:{valType:"number",dflt:2,min:1,max:4},setBackground:{valType:"any",dflt:"transparent"},topojsonURL:{valType:"string",noBlank:!0,dflt:"https://cdn.plot.ly/"},mapboxAccessToken:{valType:"string",dflt:null},logging:{valType:"integer",min:0,max:2,dflt:1},notifyOnLogging:{valType:"integer",min:0,max:2,dflt:0},queueLength:{valType:"integer",min:0,dflt:0},globalTransforms:{valType:"any",dflt:[]},locale:{valType:"string",dflt:"en-US"},locales:{valType:"any",dflt:{}}},r={};(function D(E,f){for(var k in E){var M=E[k];M.valType?f[k]=M.dflt:(f[k]||(f[k]={}),D(M,f[k]))}})(B,r),ae.exports={configAttributes:B,dfltConfig:r}},86281:function(ae,B,r){"use strict";var D=r(73972),E=r(71828),f=r(9012),k=r(10820),M=r(31391),y=r(85594),c=r(72075).configAttributes,i=r(30962),s=E.extendDeepAll,a=E.isPlainObject,o=E.isArrayOrTypedArray,l=E.nestedProperty,u=E.valObjectMeta,h="_isSubplotObj",v="_isLinkedToArray",p="_deprecated",T=[h,v,"_arrayAttrRegexps",p];function _(g,I,S){if(!g)return!1;if(g._isLinkedToArray)if(m(I[S]))S++;else if(S<I.length)return!1;for(;S<I.length;S++){var O=g[I[S]];if(!a(O)||(g=O,S===I.length-1))break;if(g._isLinkedToArray){if(!m(I[++S]))return!1}else if("info_array"===g.valType){var R=I[++S];if(!m(R))return!1;var L=g.items;if(Array.isArray(L)){if(R>=L.length)return!1;if(2===g.dimensions){if(S++,I.length===S)return g;var N=I[S];if(!m(N))return!1;g=L[R][N]}else g=L[R]}else g=L}}return g}function m(g){return g===Math.round(g)&&g>=0}function w(){var g,I,S={};for(g in s(S,k),D.subplotsRegistry)if((I=D.subplotsRegistry[g]).layoutAttributes)if(Array.isArray(I.attr))for(var O=0;O<I.attr.length;O++)b(S,I,I.attr[O]);else b(S,I,"subplot"===I.attr?I.name:I.attr);for(g in D.componentsRegistry){var R=(I=D.componentsRegistry[g]).schema;if(R&&(R.subplots||R.layout)){var L=R.subplots;if(L&&L.xaxis&&!L.yaxis)for(var N in L.xaxis)delete S.yaxis[N];delete S.xaxis.shift,delete S.xaxis.autoshift}else"colorscale"===I.name?s(S,I.layoutAttributes):I.layoutAttributes&&A(S,I.layoutAttributes,I.name)}return{layoutAttributes:x(S)}}function x(g){return B.crawl(g,function(S,O,R){B.isValObject(S)?!0!==S.arrayOk&&"data_array"!==S.valType||(R[O+"src"]={valType:"string",editType:"none"}):a(S)&&(S.role="object")}),B.crawl(g,function(S,O,R){if(S){var L=S[v];L&&(delete S[v],R[O]={items:{}},R[O].items[L]=S,R[O].role="object")}}),function(I){!function S(O){for(var R in O)if(a(O[R]))S(O[R]);else if(Array.isArray(O[R]))for(var L=0;L<O[R].length;L++)S(O[R][L]);else O[R]instanceof RegExp&&(O[R]=O[R].toString())}(I)}(g),g}function b(g,I,S){var O=l(g,S),R=s({},I.layoutAttributes);R[h]=!0,O.set(R)}function A(g,I,S){var O=l(g,S);O.set(s(O.get()||{},I))}B.IS_SUBPLOT_OBJ=h,B.IS_LINKED_TO_ARRAY=v,B.DEPRECATED=p,B.UNDERSCORE_ATTRS=T,B.get=function(){var g={};D.allTypes.forEach(function(O){g[O]=function(R){var L,N;N=(L=D.modules[R]._module).basePlotModule;var j={type:null},X=s({},f),F=s({},L.attributes);B.crawl(F,function(H,W,Z,se,re){l(X,re).set(void 0),void 0===H&&l(F,re).set(void 0)}),s(j,X),D.traceIs(R,"noOpacity")&&delete j.opacity,D.traceIs(R,"showLegend")||(delete j.showlegend,delete j.legendgroup),D.traceIs(R,"noHover")&&(delete j.hoverinfo,delete j.hoverlabel),L.selectPoints||delete j.selectedpoints,s(j,F),N.attributes&&s(j,N.attributes),j.type=R;var Y={meta:L.meta||{},categories:L.categories||{},animatable:!!L.animatable,type:R,attributes:x(j)};if(L.layoutAttributes){var G={};s(G,L.layoutAttributes),Y.layoutAttributes=x(G)}return L.animatable||B.crawl(Y,function(H){B.isValObject(H)&&"anim"in H&&delete H.anim}),Y}(O)});var I,S={};return Object.keys(D.transformsRegistry).forEach(function(O){var R,N;S[O]=(N=s({},D.transformsRegistry[R=O].attributes),Object.keys(D.componentsRegistry).forEach(function(j){var X=D.componentsRegistry[j];X.schema&&X.schema.transforms&&X.schema.transforms[R]&&Object.keys(X.schema.transforms[R]).forEach(function(F){A(N,X.schema.transforms[R][F],F)})}),{attributes:x(N)})}),{defs:{valObjects:u,metaKeys:T.concat(["description","role","editType","impliedEdits"]),editType:{traces:i.traces,layout:i.layout},impliedEdits:{}},traces:g,layout:w(),transforms:S,frames:(I={frames:s({},M)},x(I),I.frames),animation:x(y),config:x(c)}},B.crawl=function(g,I,S,O){var R=S||0;O=O||"",Object.keys(g).forEach(function(L){var N=g[L];if(-1===T.indexOf(L)){var j=(O?O+".":"")+L;I(N,L,g,R,j),B.isValObject(N)||a(N)&&"impliedEdits"!==L&&B.crawl(N,I,R+1,j)}})},B.isValObject=function(g){return g&&void 0!==g.valType},B.findArrayAttributes=function(g){var I,S,O=[],R=[],L=[];function N(H,W,Z,se){R=R.slice(0,se).concat([W]),L=L.slice(0,se).concat([H&&H._isLinkedToArray]),H&&("data_array"===H.valType||!0===H.arrayOk)&&("colorbar"!==R[se-1]||"ticktext"!==W&&"tickvals"!==W)&&j(I,0,"")}function j(H,W,Z){var se=H[R[W]],re=Z+R[W];if(W===R.length-1)o(se)&&O.push(S+re);else if(L[W]){if(Array.isArray(se))for(var ne=0;ne<se.length;ne++)a(se[ne])&&j(se[ne],W+1,re+"["+ne+"].")}else a(se)&&j(se,W+1,re+".")}I=g,S="",B.crawl(f,N),g._module&&g._module.attributes&&B.crawl(g._module.attributes,N);var X=g.transforms;if(X)for(var F=0;F<X.length;F++){var Y=X[F],G=Y._module;G&&(S="transforms["+F+"].",I=Y,B.crawl(G.attributes,N))}return O},B.getTraceValObject=function(g,I){var S,O,R=I[0],L=1;if("transforms"===R){if(1===I.length)return f.transforms;var N=g.transforms;if(!Array.isArray(N)||!N.length)return!1;var j=I[1];if(!m(j)||j>=N.length)return!1;O=(S=(D.transformsRegistry[N[j].type]||{}).attributes)&&S[I[2]],L=3}else{var X=g._module;if(X||(X=(D.modules[g.type||f.type.dflt]||{})._module),!X)return!1;if(!(O=(S=X.attributes)&&S[R])){var F=X.basePlotModule;F&&F.attributes&&(O=F.attributes[R])}O||(O=f[R])}return _(O,I,L)},B.getLayoutValObject=function(g,I){return _(function(O,R){var L,N,j,X,F=O._basePlotModules;if(F){var Y;for(L=0;L<F.length;L++){if((j=F[L]).attrRegex&&j.attrRegex.test(R)){if(j.layoutAttrOverrides)return j.layoutAttrOverrides;!Y&&j.layoutAttributes&&(Y=j.layoutAttributes)}var G=j.baseLayoutAttrOverrides;if(G&&R in G)return G[R]}if(Y)return Y}var H=O._modules;if(H)for(L=0;L<H.length;L++)if((X=H[L].layoutAttributes)&&R in X)return X[R];for(N in D.componentsRegistry){if("colorscale"===(j=D.componentsRegistry[N]).name&&0===R.indexOf("coloraxis"))return j.layoutAttributes[R];if(!j.schema&&R===j.name)return j.layoutAttributes}return R in k&&k[R]}(g,I[0]),I,1)}},44467:function(ae,B,r){"use strict";var D=r(71828),E=r(9012),f="templateitemname",k={name:{valType:"string",editType:"none"}};function M(c){return c&&"string"==typeof c}function y(c){return"s"!==c.charAt(c.length-1)&&D.warn("bad argument to arrayDefaultKey: "+c),c.substr(0,c.length-1)+"defaults"}k[f]={valType:"string",editType:"calc"},B.templatedArray=function(c,i){return i._isLinkedToArray=c,i.name=k.name,i[f]=k[f],i},B.traceTemplater=function(c){var i,s,a={};for(i in c)s=c[i],Array.isArray(s)&&s.length&&(a[i]=0);return{newTrace:function(o){var l={type:i=D.coerce(o,{},E,"type"),_template:null};if(i in a){var u=a[i]%(s=c[i]).length;a[i]++,l._template=s[u]}return l}}},B.newContainer=function(c,i,s){var a=c._template,o=a&&(a[i]||s&&a[s]);return D.isPlainObject(o)||(o=null),c[i]={_template:o}},B.arrayTemplater=function(c,i,s){var a=c._template,o=a&&a[y(i)],l=a&&a[i];Array.isArray(l)&&l.length||(l=[]);var u={};return{newItem:function(h){var v={name:h.name,_input:h},p=v[f]=h[f];if(!M(p))return v._template=o,v;for(var T=0;T<l.length;T++){var _=l[T];if(_.name===p)return u[p]=1,v._template=_,v}return v[s]=h[s]||!1,v._template=!1,v},defaultItems:function(){for(var h=[],v=0;v<l.length;v++){var p=l[v],T=p.name;if(M(T)&&!u[T]){var _={_template:p,name:T,_input:{_templateitemname:T}};_[f]=p[f],h.push(_),u[T]=1}}return h}}},B.arrayDefaultKey=y,B.arrayEditor=function(c,i,s){var a=(D.nestedProperty(c,i).get()||[]).length,o=s._index,l=o>=a&&(s._input||{})._templateitemname;l&&(o=a);var u,h=i+"["+o+"]";function v(){u={},l&&(u[h]={},u[h][f]=l)}function p(_,m){l?D.nestedProperty(u[h],_).set(m):u[h+"."+_]=m}function T(){var _=u;return v(),_}return v(),{modifyBase:function(_,m){u[_]=m},modifyItem:p,getUpdateObj:T,applyUpdate:function(_,m){_&&p(_,m);var w=T();for(var x in w)D.nestedProperty(c,x).set(w[x])}}}},61549:function(ae,B,r){"use strict";var D=r(39898),E=r(73972),f=r(74875),k=r(71828),M=r(63893),y=r(33306),c=r(7901),i=r(91424),s=r(92998),a=r(64168),o=r(89298),l=r(18783),u=r(99082),h=u.enforce,v=u.clean,p=r(71739).doAutoRange,T="start";function _(A,g,I){for(var S=0;S<I.length;S++){var O=I[S][0],R=I[S][1];if(!(O[0]>=A[1]||O[1]<=A[0])&&R[0]<g[1]&&R[1]>g[0])return!0}return!1}function m(A){var g,I,S,O,R,L,N=A._fullLayout,j=N._size,X=j.p,F=o.list(A,"",!0);if(N._paperdiv.style({width:A._context.responsive&&N.autosize&&!A._context._hasZeroWidth&&!A.layout.width?"100%":N.width+"px",height:A._context.responsive&&N.autosize&&!A._context._hasZeroHeight&&!A.layout.height?"100%":N.height+"px"}).selectAll(".main-svg").call(i.setSize,N.width,N.height),A._context.setBackground(A,N.paper_bgcolor),B.drawMainTitle(A),a.manage(A),!N._has("cartesian"))return f.previousPromises(A);function Y(Ge,Ke,et){var at=Ge._lw/2;return"x"===Ge._id.charAt(0)?Ke?"top"===et?Ke._offset-X-at:Ke._offset+Ke._length+X+at:j.t+j.h*(1-(Ge.position||0))+at%1:Ke?"right"===et?Ke._offset+Ke._length+X+at:Ke._offset-X-at:j.l+j.w*(Ge.position||0)+at%1}for(g=0;g<F.length;g++){var G=(O=F[g])._anchorAxis;O._linepositions={},O._lw=i.crispRound(A,O.linewidth,1),O._mainLinePosition=Y(O,G,O.side),O._mainMirrorPosition=O.mirror&&G?Y(O,G,l.OPPOSITE_SIDE[O.side]):null}var H=[],W=[],Z=[],se=1===c.opacity(N.paper_bgcolor)&&1===c.opacity(N.plot_bgcolor)&&N.paper_bgcolor===N.plot_bgcolor;for(I in N._plots)if((S=N._plots[I]).mainplot)S.bg&&S.bg.remove(),S.bg=void 0;else{var re=S.xaxis.domain,ne=S.yaxis.domain,Q=S.plotgroup;if(_(re,ne,Z)){var ee=Q.node(),oe=S.bg=k.ensureSingle(Q,"rect","bg");ee.insertBefore(oe.node(),ee.childNodes[0]),W.push(I)}else Q.select("rect.bg").remove(),Z.push([re,ne]),se||(H.push(I),W.push(I))}var ce,fe,le,pe,Me,Ae,be,ye,we,ze,Se,Ce,ge,he=N._bgLayer.selectAll(".bg").data(H);for(he.enter().append("rect").classed("bg",!0),he.exit().remove(),he.each(function(Ge){N._plots[Ge].bg=D.select(this)}),g=0;g<W.length;g++)R=(S=N._plots[W[g]]).xaxis,L=S.yaxis,S.bg&&void 0!==R._offset&&void 0!==L._offset&&S.bg.call(i.setRect,R._offset-X,L._offset-X,R._length+2*X,L._length+2*X).call(c.fill,N.plot_bgcolor).style("stroke-width",0);if(!N._hasOnlyLargeSploms)for(I in N._plots){R=(S=N._plots[I]).xaxis,L=S.yaxis;var _e,Le,Ie=S.clipId="clip"+N._uid+I+"plot",De=k.ensureSingleById(N._clips,"clipPath",Ie,function(Ge){Ge.classed("plotclip",!0).append("rect")});S.clipRect=De.select("rect").attr({width:R._length,height:L._length}),i.setTranslate(S.plot,R._offset,L._offset),S._hasClipOnAxisFalse?(_e=null,Le=Ie):(_e=Ie,Le=null),i.setClipUrl(S.plot,_e,A),S.layerClipId=Le}function je(Ge){return"M"+ce+","+Ge+"H"+fe}function qe(Ge){return"M"+R._offset+","+Ge+"h"+R._length}function ve(Ge){return"M"+Ge+","+ye+"V"+be}function Oe(Ge){return void 0!==L._shift&&(Ge+=L._shift),"M"+Ge+","+L._offset+"v"+L._length}function ke(Ge,Ke,et){if(!Ge.showline||I!==Ge._mainSubplot)return"";if(!Ge._anchorAxis)return et(Ge._mainLinePosition);var at=Ke(Ge._mainLinePosition);return Ge.mirror&&(at+=Ke(Ge._mainMirrorPosition)),at}for(I in N._plots){L=(S=N._plots[I]).yaxis;var Be="M0,0";w(R=S.xaxis,I)&&(Me=b(R,"left",L,F),ce=R._offset-(Me?X+Me:0),Ae=b(R,"right",L,F),fe=R._offset+R._length+(Ae?X+Ae:0),le=Y(R,L,"bottom"),pe=Y(R,L,"top"),!(ge=!R._anchorAxis||I!==R._mainSubplot)||"allticks"!==R.mirror&&"all"!==R.mirror||(R._linepositions[I]=[le,pe]),Be=ke(R,je,qe),ge&&R.showline&&("all"===R.mirror||"allticks"===R.mirror)&&(Be+=je(le)+je(pe)),S.xlines.style("stroke-width",R._lw+"px").call(c.stroke,R.showline?R.linecolor:"rgba(0,0,0,0)")),S.xlines.attr("d",Be);var We="M0,0";w(L,I)&&(Se=b(L,"bottom",R,F),be=L._offset+L._length+(Se?X:0),Ce=b(L,"top",R,F),ye=L._offset-(Ce?X:0),we=Y(L,R,"left"),ze=Y(L,R,"right"),!(ge=!L._anchorAxis||I!==L._mainSubplot)||"allticks"!==L.mirror&&"all"!==L.mirror||(L._linepositions[I]=[we,ze]),We=ke(L,ve,Oe),ge&&L.showline&&("all"===L.mirror||"allticks"===L.mirror)&&(We+=ve(we)+ve(ze)),S.ylines.style("stroke-width",L._lw+"px").call(c.stroke,L.showline?L.linecolor:"rgba(0,0,0,0)")),S.ylines.attr("d",We)}return o.makeClipPaths(A),f.previousPromises(A)}function w(A,g){return(A.ticks||A.showline)&&(g===A._mainSubplot||"all"===A.mirror||"allticks"===A.mirror)}function x(A,g,I){if(!I.showline||!I._lw)return!1;if("all"===I.mirror||"allticks"===I.mirror)return!0;var S=I._anchorAxis;if(!S)return!1;var O=l.FROM_BL[g];return I.side===g?S.domain[O]===A.domain[O]:I.mirror&&S.domain[1-O]===A.domain[1-O]}function b(A,g,I,S){if(x(A,g,I))return I._lw;for(var O=0;O<S.length;O++){var R=S[O];if(R._mainAxis===I._mainAxis&&x(A,g,R))return R._lw}return 0}B.layoutStyles=function(A){return k.syncOrAsync([f.doAutoMargin,m],A)},B.drawMainTitle=function(A){var g,G,H,I=A._fullLayout.title,S=A._fullLayout,O=(H="middle",k.isRightAnchor(G=S.title)?H="end":k.isLeftAnchor(G)&&(H=T),H),R=function(Y){var G=Y.title,H="0em";return k.isTopAnchor(G)?H=l.CAP_SHIFT+"em":k.isMiddleAnchor(G)&&(H=l.MID_SHIFT+"em"),H}(S),L=function(Y,G){var H=Y.title,W=Y._size,Z=0;return"0em"!==G&&G?G===l.CAP_SHIFT+"em"&&(Z=H.pad.t):Z=-H.pad.b,"auto"===H.y?W.t/2:"paper"===H.yref?W.t+W.h-W.h*H.y+Z:Y.height-Y.height*H.y+Z}(S,R),N=function(Y,G){var H=Y.title,W=Y._size,Z=0;return G===T?Z=H.pad.l:"end"===G&&(Z=-H.pad.r),"paper"===H.xref?W.l+W.w*H.x+Z:Y.width*H.x+Z}(S,O);if(s.draw(A,"gtitle",{propContainer:S,propName:"title.text",placeholder:S._dfltTitle.plot,attributes:{x:N,y:L,"text-anchor":O,dy:R}}),I.text&&I.automargin){var j=D.selectAll(".gtitle"),X=i.bBox(j.node()).height,F=function(Y,G,H){var ee,oe,ce,fe,le,W=G.y,se=W>.5?"t":"b",ne=0;return"paper"===G.yref?ne=H+G.pad.t+G.pad.b:"container"===G.yref&&(ee=W,ce=Y._fullLayout.height,fe=H,le=0,"middle"===(oe=G.yanchor)&&(le+=fe/2),"t"===se?("top"===oe&&(le+=fe),le+=ce-ee*ce):("bottom"===oe&&(le+=fe),le+=ee*ce),ne=le+G.pad.t+G.pad.b),ne>Y._fullLayout.margin[se]?ne:0}(A,I,X);F>0&&(function(Y,G,H,W){var ee,oe,ce,fe,le,pe,Me,Ae,Z="title.automargin",se=Y._fullLayout.title,re=se.y>.5?"t":"b",ne={x:se.x,y:se.y,t:0,b:0},Q={};"paper"===se.yref&&(ee=Y,ce=re,fe=G,le=W,pe="paper"===(oe=se).yref?ee._fullLayout._size.h:ee._fullLayout.height,Me=k.isTopAnchor(oe)?fe:fe-le,Ae="b"===ce?pe-Me:Me,!(k.isTopAnchor(oe)&&"t"===ce||k.isBottomAnchor(oe)&&"b"===ce)&&Ae<le)?ne[re]=H:"container"===se.yref&&(Q[re]=H,Y._fullLayout._reservedMargin[Z]=Q),f.allowAutoMargin(Y,Z),f.autoMargin(Y,Z,ne)}(A,L,F,X),j.attr({x:N,y:L,"text-anchor":O,dy:(g=I.yanchor,"top"===g?l.CAP_SHIFT+.3+"em":"bottom"===g?"-0.3em":l.MID_SHIFT+"em")}).call(M.positionText,N,L))}},B.doTraceStyle=function(A){var g,I=A.calcdata,S=[];for(g=0;g<I.length;g++){var O=I[g],R=O[0]||{},L=R.trace||{},N=L._module||{},j=N.arraysToCalcdata;j&&j(O,L);var X=N.editStyle;X&&S.push({fn:X,cd0:R})}if(S.length){for(g=0;g<S.length;g++){var F=S[g];F.fn(A,F.cd0)}y(A),B.redrawReglTraces(A)}return f.style(A),E.getComponentMethod("legend","draw")(A),f.previousPromises(A)},B.doColorBars=function(A){return E.getComponentMethod("colorbar","draw")(A),f.previousPromises(A)},B.layoutReplot=function(A){var g=A.layout;return A.layout=void 0,E.call("_doPlot",A,"",g)},B.doLegend=function(A){return E.getComponentMethod("legend","draw")(A),f.previousPromises(A)},B.doTicksRelayout=function(A){return o.draw(A,"redraw"),A._fullLayout._hasOnlyLargeSploms&&(E.subplotsRegistry.splom.updateGrid(A),y(A),B.redrawReglTraces(A)),B.drawMainTitle(A),f.previousPromises(A)},B.doModeBar=function(A){var g=A._fullLayout;a.manage(A);for(var I=0;I<g._basePlotModules.length;I++){var S=g._basePlotModules[I].updateFx;S&&S(A)}return f.previousPromises(A)},B.doCamera=function(A){for(var g=A._fullLayout,I=g._subplots.gl3d,S=0;S<I.length;S++){var O=g[I[S]];O._scene.setViewport(O)}},B.drawData=function(A){var g=A._fullLayout;y(A);for(var I=g._basePlotModules,S=0;S<I.length;S++)I[S].plot(A);return B.redrawReglTraces(A),f.style(A),E.getComponentMethod("selections","draw")(A),E.getComponentMethod("shapes","draw")(A),E.getComponentMethod("annotations","draw")(A),E.getComponentMethod("images","draw")(A),g._replotting=!1,f.previousPromises(A)},B.redrawReglTraces=function(A){var g=A._fullLayout;if(g._has("regl")){var I,S,O=A._fullData,R=[],L=[];for(g._hasOnlyLargeSploms&&g._splomGrid.draw(),I=0;I<O.length;I++){var N=O[I];!0===N.visible&&0!==N._length&&("splom"===N.type?g._splomScenes[N.uid].draw():"scattergl"===N.type?k.pushUnique(R,N.xaxis+N.yaxis):"scatterpolargl"===N.type&&k.pushUnique(L,N.subplot))}for(I=0;I<R.length;I++)(S=g._plots[R[I]])._scene&&S._scene.draw();for(I=0;I<L.length;I++)(S=g[L[I]]._subplot)._scene&&S._scene.draw()}},B.doAutoRangeAndConstraints=function(A){for(var g,I=o.list(A,"",!0),S={},O=0;O<I.length;O++)if(!S[(g=I[O])._id]){S[g._id]=1,v(A,g),p(A,g);var R=g._matchGroup;if(R)for(var L in R){var N=o.getFromId(A,L);p(A,N,g.range),S[L]=1}}h(A)},B.finalDraw=function(A){E.getComponentMethod("rangeslider","draw")(A),E.getComponentMethod("rangeselector","draw")(A)},B.drawMarginPushers=function(A){E.getComponentMethod("legend","draw")(A),E.getComponentMethod("rangeselector","draw")(A),E.getComponentMethod("sliders","draw")(A),E.getComponentMethod("updatemenus","draw")(A),E.getComponentMethod("colorbar","draw")(A)}},96318:function(ae,B,r){"use strict";var D=r(71828),E=D.isPlainObject,f=r(86281),k=r(74875),M=r(9012),y=r(44467),c=r(72075).dfltConfig;function i(p,T){p=D.extendDeep({},p);var _,m,w=Object.keys(p).sort();function x(S,O,R){if(E(O)&&E(S))i(S,O);else if(Array.isArray(O)&&Array.isArray(S)){var L=y.arrayTemplater({_template:p},R);for(m=0;m<O.length;m++){var N=O[m],j=L.newItem(N)._template;j&&i(j,N)}var X=L.defaultItems();for(m=0;m<X.length;m++)O.push(X[m]._template);for(m=0;m<O.length;m++)delete O[m].templateitemname}}for(_=0;_<w.length;_++){var b=w[_],A=p[b];if(b in T?x(A,T[b],b):T[b]=A,s(b)===b)for(var g in T){var I=s(g);g===I||I!==b||g in p||x(A,T[g],b)}}}function s(p){return p.replace(/[0-9]+$/,"")}function a(p,T,_,m,w){var x=w&&_(w);for(var b in p){var A=p[b],g=u(p,b,m),I=u(p,b,w),S=_(I);if(!S){var O=s(b);O!==b&&(S=_(I=u(p,O,w)))}if(!(x&&x===S||!S||S._noTemplating||"data_array"===S.valType||S.arrayOk&&Array.isArray(A)))if(!S.valType&&E(A))a(A,T,_,g,I);else if(S._isLinkedToArray&&Array.isArray(A))for(var R=!1,L=0,N={},j=0;j<A.length;j++){var X=A[j];if(E(X)){var F=X.name;if(F)N[F]||(a(X,T,_,u(A,L,g),u(A,L,I)),L++,N[F]=1);else if(!R){var Y=u(p,y.arrayDefaultKey(b),m),G=u(A,L,g);a(X,T,_,G,u(A,L,I));var H=D.nestedProperty(T,G);D.nestedProperty(T,Y).set(H.get()),H.set(null),R=!0}}}else D.nestedProperty(T,g).set(A)}}function o(p,T){return f.getLayoutValObject(p,D.nestedProperty({},T).parts)}function l(p,T){return f.getTraceValObject(p,D.nestedProperty({},T).parts)}function u(p,T,_){return _?Array.isArray(p)?_+"["+T+"]":_+"."+T:T}function h(p){for(var T=0;T<p.length;T++)if(E(p[T]))return!0}function v(p){var T;switch(p.code){case"data":T="The template has no key data.";break;case"layout":T="The template has no key layout.";break;case"missing":T=p.path?"There are no templates for item "+p.path+" with name "+p.templateitemname:"There are no templates for trace "+p.index+", of type "+p.traceType+".";break;case"unused":T=p.path?"The template item at "+p.path+" was not used in constructing the plot.":p.dataCount?"Some of the templates of type "+p.traceType+" were not used. The template has "+p.templateCount+" traces, the data only has "+p.dataCount+" of this type.":"The template has "+p.templateCount+" traces of type "+p.traceType+" but there are none in the data.";break;case"reused":T="Some of the templates of type "+p.traceType+" were used more than once. The template has "+p.templateCount+" traces, the data has "+p.dataCount+" of this type."}return p.msg=T,p}B.makeTemplate=function(p){p=D.isPlainObject(p)?p:D.getGraphDiv(p),p=D.extendDeep({_context:c},{data:p.data,layout:p.layout}),k.supplyDefaults(p);var T=p.data||[],_=p.layout||{};_._basePlotModules=p._fullLayout._basePlotModules,_._modules=p._fullLayout._modules;var m={data:{},layout:{}};T.forEach(function(L){var N={};a(L,N,l.bind(null,L));var j=D.coerce(L,{},M,"type"),X=m.data[j];X||(X=m.data[j]=[]),X.push(N)}),a(_,m.layout,o.bind(null,_)),delete m.layout.template;var w=_.template;if(E(w)){var x,b,A,g,I,S,O=w.layout;E(O)&&i(O,m.layout);var R=w.data;if(E(R)){for(b in m.data)if(A=R[b],Array.isArray(A)){for(S=(I=m.data[b]).length,g=A.length,x=0;x<S;x++)i(A[x%g],I[x]);for(x=S;x<g;x++)I.push(D.extendDeep({},A[x]))}for(b in R)b in m.data||(m.data[b]=D.extendDeep([],R[b]))}}return m},B.validateTemplate=function(p,T){var _=D.extendDeep({},{_context:c,data:p.data,layout:p.layout}),m=_.layout||{};E(T)||(T=m.template||{});var w=T.layout,x=T.data,b=[];_.layout=m,_.layout.template=T,k.supplyDefaults(_);var A=_._fullLayout,g=_._fullData,I={};if(E(w)?(function X(F,Y){for(var G in F)if("_"!==G.charAt(0)&&E(F[G])){var H,W=s(G),Z=[];for(H=0;H<Y.length;H++)Z.push(u(F,G,Y[H])),W!==G&&Z.push(u(F,W,Y[H]));for(H=0;H<Z.length;H++)I[Z[H]]=1;X(F[G],Z)}}(A,["layout"]),function X(F,Y){for(var G in F)if(-1===G.indexOf("defaults")&&E(F[G])){var H=u(F,G,Y);I[H]?X(F[G],H):b.push({code:"unused",path:H})}}(w,"layout")):b.push({code:"layout"}),E(x)){for(var S,O={},R=0;R<g.length;R++){var L=g[R];O[S=L.type]=(O[S]||0)+1,L._fullInput._template||b.push({code:"missing",index:L._fullInput.index,traceType:S})}for(S in x){var N=x[S].length,j=O[S]||0;N>j?b.push({code:"unused",traceType:S,templateCount:N,dataCount:j}):j>N&&b.push({code:"reused",traceType:S,templateCount:N,dataCount:j})}}else b.push({code:"data"});if(function X(F,Y){for(var G in F)if("_"!==G.charAt(0)){var H=F[G],W=u(F,G,Y);E(H)?(Array.isArray(F)&&!1===H._template&&H.templateitemname&&b.push({code:"missing",path:W,templateitemname:H.templateitemname}),X(H,W)):Array.isArray(H)&&h(H)&&X(H,W)}}({data:g,layout:A},""),b.length)return b.map(v)}},403:function(ae,B,r){"use strict";var D=r(92770),E=r(72391),f=r(74875),k=r(71828),M=r(25095),y=r(5900),c=r(70942),i=r(11506).version,s={format:{valType:"enumerated",values:["png","jpeg","webp","svg","full-json"],dflt:"png"},width:{valType:"number",min:1},height:{valType:"number",min:1},scale:{valType:"number",min:0,dflt:1},setBackground:{valType:"any",dflt:!1},imageDataOnly:{valType:"boolean",dflt:!1}};ae.exports=function(a,o){var l,u,h,v;function p(j){return!(j in o)||k.validate(o[j],s[j])}if(o=o||{},k.isPlainObject(a)?(l=a.data||[],u=a.layout||{},h=a.config||{},v={}):(a=k.getGraphDiv(a),l=k.extendDeep([],a.data),u=k.extendDeep({},a.layout),h=a._context,v=a._fullLayout||{}),!p("width")&&null!==o.width||!p("height")&&null!==o.height)throw new Error("Height and width should be pixel values.");if(!p("format"))throw new Error("Export format is not "+k.join2(s.format.values,", "," or ")+".");var T={};function _(j,X){return k.coerce(o,T,s,j,X)}var m=_("format"),w=_("width"),x=_("height"),b=_("scale"),A=_("setBackground"),g=_("imageDataOnly"),I=document.createElement("div");I.style.position="absolute",I.style.left="-5000px",document.body.appendChild(I);var S=k.extendFlat({},u);w?S.width=w:null===o.width&&D(v.width)&&(S.width=v.width),x?S.height=x:null===o.height&&D(v.height)&&(S.height=v.height);var O=k.extendFlat({},h,{_exportedPlot:!0,staticPlot:!0,setBackground:A}),R=M.getRedrawFunc(I);function L(){return new Promise(function(j){setTimeout(j,M.getDelay(I._fullLayout))})}function N(){return new Promise(function(j,X){var F=y(I,m,b),Y=I._fullLayout.width,G=I._fullLayout.height;function H(){E.purge(I),document.body.removeChild(I)}if("full-json"===m){var W=f.graphJson(I,!1,"keepdata","object",!0,!0);return W.version=i,W=JSON.stringify(W),H(),j(g?W:M.encodeJSON(W))}if(H(),"svg"===m)return j(g?F:M.encodeSVG(F));var Z=document.createElement("canvas");Z.id=k.randstr(),c({format:m,width:Y,height:G,scale:b,canvas:Z,svg:F,promise:!0}).then(j).catch(X)})}return new Promise(function(j,X){E.newPlot(I,l,S,O).then(R).then(L).then(N).then(function(F){var Y;j((Y=F,g?Y.replace(M.IMAGE_URL_PREFIX,""):Y))}).catch(function(F){X(F)})})}},84936:function(ae,B,r){"use strict";var D=r(71828),E=r(74875),f=r(86281),k=r(72075).dfltConfig,M=D.isPlainObject,y=Array.isArray,c=D.isArrayOrTypedArray;function i(p,T,_,m,w,x){x=x||[];for(var b=Object.keys(p),A=0;A<b.length;A++){var g=b[A];if("transforms"!==g){var I=x.slice();I.push(g);var S=p[g],O=T[g],R=u(_,g),L=(R||{}).valType,N="info_array"===L,j="colorscale"===L,X=(R||{}).items;if(l(_,g))if(M(S)&&M(O)&&"any"!==L)i(S,O,R,m,w,I);else if(N&&y(S)){S.length>O.length&&m.push(o("unused",w,I.concat(O.length)));var F,Y,H,W,Z=O.length,se=Array.isArray(X);if(se&&(Z=Math.min(Z,X.length)),2===R.dimensions)for(Y=0;Y<Z;Y++)if(y(S[Y])){S[Y].length>O[Y].length&&m.push(o("unused",w,I.concat(Y,O[Y].length)));var re=O[Y].length;for(F=0;F<(se?Math.min(re,X[Y].length):re);F++)W=O[Y][F],D.validate(H=S[Y][F],se?X[Y][F]:X)?W!==H&&W!==+H&&m.push(o("dynamic",w,I.concat(Y,F),H,W)):m.push(o("value",w,I.concat(Y,F),H))}else m.push(o("array",w,I.concat(Y),S[Y]));else for(Y=0;Y<Z;Y++)W=O[Y],D.validate(H=S[Y],se?X[Y]:X)?W!==H&&W!==+H&&m.push(o("dynamic",w,I.concat(Y),H,W)):m.push(o("value",w,I.concat(Y),H))}else if(R.items&&!N&&y(S)){var ne,Q,ee=X[Object.keys(X)[0]],oe=[];for(ne=0;ne<O.length;ne++){var ce=O[ne]._index||ne;if((Q=I.slice()).push(ce),M(S[ce])&&M(O[ne])){oe.push(ce);var fe=S[ce],le=O[ne];M(fe)&&!1!==fe.visible&&!1===le.visible?m.push(o("invisible",w,Q)):i(fe,le,ee,m,w,Q)}}for(ne=0;ne<S.length;ne++)(Q=I.slice()).push(ne),M(S[ne])?-1===oe.indexOf(ne)&&m.push(o("unused",w,Q)):m.push(o("object",w,Q,S[ne]))}else!M(S)&&M(O)?m.push(o("object",w,I,S)):c(S)||!c(O)||N||j?g in T?D.validate(S,R)?"enumerated"===R.valType&&(R.coerceNumber&&S!==+O||S!==O)&&m.push(o("dynamic",w,I,S,O)):m.push(o("value",w,I,S)):m.push(o("unused",w,I,S)):m.push(o("array",w,I,S));else m.push(o("schema",w,I))}}return m}ae.exports=function(p,T){void 0===p&&(p=[]),void 0===T&&(T={});var _,m,w=f.get(),x=[],b={_context:D.extendFlat({},k)};y(p)?(b.data=D.extendDeep([],p),_=p):(b.data=[],_=[],x.push(o("array","data"))),M(T)?(b.layout=D.extendDeep({},T),m=T):(b.layout={},m={},arguments.length>1&&x.push(o("object","layout"))),E.supplyDefaults(b);for(var A=b._fullData,g=_.length,I=0;I<g;I++){var S=_[I],O=["data",I];if(M(S)){var R=A[I],L=R.type,N=w.traces[L].attributes;N.type={valType:"enumerated",values:[L]},!1===R.visible&&!1!==S.visible&&x.push(o("invisible",O)),i(S,R,N,x,O);var j=S.transforms,X=R.transforms;if(j){y(j)||x.push(o("array",O,["transforms"])),O.push("transforms");for(var F=0;F<j.length;F++){var Y=["transforms",F],G=j[F].type;if(M(j[F])){var H=w.transforms[G]?w.transforms[G].attributes:{};H.type={valType:"enumerated",values:Object.keys(w.transforms)},i(j[F],X[F],H,x,O,Y)}else x.push(o("object",O,Y))}}}else x.push(o("object",O))}return i(m,b._fullLayout,function(se,re){for(var ne=se.layout.layoutAttributes,Q=0;Q<re.length;Q++){var ee=re[Q],oe=se.traces[ee.type],ce=oe.layoutAttributes;ce&&D.extendFlat(ee.subplot?ne[oe.attributes.subplot.dflt]:ne,ce)}return ne}(w,A),x,"layout"),0===x.length?void 0:x};var s={object:function(p,T){return("layout"===p&&""===T?"The layout argument":"data"===p[0]&&""===T?"Trace "+p[1]+" in the data argument":a(p)+"key "+T)+" must be linked to an object container"},array:function(p,T){return("data"===p?"The data argument":a(p)+"key "+T)+" must be linked to an array container"},schema:function(p,T){return a(p)+"key "+T+" is not part of the schema"},unused:function(p,T,_){var m=M(_)?"container":"key";return a(p)+m+" "+T+" did not get coerced"},dynamic:function(p,T,_,m){return[a(p)+"key",T,"(set to '"+_+"')","got reset to","'"+m+"'","during defaults."].join(" ")},invisible:function(p,T){return(T?a(p)+"item "+T:"Trace "+p[1])+" got defaulted to be not visible"},value:function(p,T,_){return[a(p)+"key "+T,"is set to an invalid value ("+_+")"].join(" ")}};function a(p){return y(p)?"In data trace "+p[1]+", ":"In "+p+", "}function o(p,T,_,m,w){var x,b;_=_||"",y(T)?(x=T[0],b=T[1]):(x=T,b=null);var A=function(I){if(!y(I))return String(I);for(var S="",O=0;O<I.length;O++){var R=I[O];"number"==typeof R?S=S.substr(0,S.length-1)+"["+R+"]":S+=R,O<I.length-1&&(S+=".")}return S}(_),g=s[p](T,A,m,w);return D.log(g),{code:p,container:x,trace:b,path:_,astr:A,msg:g}}function l(p,T){var _=v(T),m=_.keyMinusId;return!!(m in p&&p[m]._isSubplotObj&&_.id)||T in p}function u(p,T){return T in p?p[T]:p[v(T).keyMinusId]}var h=D.counterRegex("([a-z]+)");function v(p){var T=p.match(h);return{keyMinusId:T&&T[1],id:T&&T[2]}}},85594:function(ae){"use strict";ae.exports={mode:{valType:"enumerated",dflt:"afterall",values:["immediate","next","afterall"]},direction:{valType:"enumerated",values:["forward","reverse"],dflt:"forward"},fromcurrent:{valType:"boolean",dflt:!1},frame:{duration:{valType:"number",min:0,dflt:500},redraw:{valType:"boolean",dflt:!0}},transition:{duration:{valType:"number",min:0,dflt:500,editType:"none"},easing:{valType:"enumerated",dflt:"cubic-in-out",values:["linear","quad","cubic","sin","exp","circle","elastic","back","bounce","linear-in","quad-in","cubic-in","sin-in","exp-in","circle-in","elastic-in","back-in","bounce-in","linear-out","quad-out","cubic-out","sin-out","exp-out","circle-out","elastic-out","back-out","bounce-out","linear-in-out","quad-in-out","cubic-in-out","sin-in-out","exp-in-out","circle-in-out","elastic-in-out","back-in-out","bounce-in-out"],editType:"none"},ordering:{valType:"enumerated",values:["layout first","traces first"],dflt:"layout first",editType:"none"}}}},85501:function(ae,B,r){"use strict";var D=r(71828),E=r(44467);ae.exports=function(f,k,M){var y,c,i=M.name,s=M.inclusionAttr||"visible",a=k[i],o=D.isArrayOrTypedArray(f[i])?f[i]:[],l=k[i]=[],u=E.arrayTemplater(k,i,s);for(y=0;y<o.length;y++){var h=o[y];D.isPlainObject(h)?c=u.newItem(h):(c=u.newItem({}))[s]=!1,c._index=y,!1!==c[s]&&M.handleItemDefaults(h,c,k,M),l.push(c)}var v=u.defaultItems();for(y=0;y<v.length;y++)(c=v[y])._index=l.length,M.handleItemDefaults({},c,k,M,{}),l.push(c);if(D.isArrayOrTypedArray(a)){var p=Math.min(a.length,l.length);for(y=0;y<p;y++)D.relinkPrivateKeys(l[y],a[y])}return l}},9012:function(ae,B,r){"use strict";var D=r(41940),E=r(77914);ae.exports={type:{valType:"enumerated",values:[],dflt:"scatter",editType:"calc+clearAxisTypes",_noTemplating:!0},visible:{valType:"enumerated",values:[!0,!1,"legendonly"],dflt:!0,editType:"calc"},showlegend:{valType:"boolean",dflt:!0,editType:"style"},legend:{valType:"subplotid",dflt:"legend",editType:"style"},legendgroup:{valType:"string",dflt:"",editType:"style"},legendgrouptitle:{text:{valType:"string",dflt:"",editType:"style"},font:D({editType:"style"}),editType:"style"},legendrank:{valType:"number",dflt:1e3,editType:"style"},legendwidth:{valType:"number",min:0,editType:"style"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"style"},name:{valType:"string",editType:"style"},uid:{valType:"string",editType:"plot",anim:!0},ids:{valType:"data_array",editType:"calc",anim:!0},customdata:{valType:"data_array",editType:"calc"},meta:{valType:"any",arrayOk:!0,editType:"plot"},selectedpoints:{valType:"any",editType:"calc"},hoverinfo:{valType:"flaglist",flags:["x","y","z","text","name"],extras:["all","none","skip"],arrayOk:!0,dflt:"all",editType:"none"},hoverlabel:E.hoverlabel,stream:{token:{valType:"string",noBlank:!0,strict:!0,editType:"calc"},maxpoints:{valType:"number",min:0,max:1e4,dflt:500,editType:"calc"},editType:"calc"},transforms:{_isLinkedToArray:"transform",editType:"calc"},uirevision:{valType:"any",editType:"none"}}},42973:function(ae,B,r){"use strict";var D=r(92770),E=r(71828),f=E.dateTime2ms,k=E.incrementMonth,M=r(50606).ONEAVGMONTH;ae.exports=function(y,c,i,s){if("date"!==c.type)return{vals:s};var a=y[i+"periodalignment"];if(!a)return{vals:s};var o,l=y[i+"period"];if(D(l)){if((l=+l)<=0)return{vals:s}}else if("string"==typeof l&&"M"===l.charAt(0)){var u=+l.substring(1);if(!(u>0&&Math.round(u)===u))return{vals:s};o=u}for(var h=c.calendar,v="start"===a,p="end"===a,_=f(y[i+"period0"],h)||0,m=[],w=[],x=[],b=s.length,A=0;A<b;A++){var g,I,S,O=s[A];if(o){for(g=Math.round((O-_)/(o*M)),S=k(_,o*g,h);S>O;)S=k(S,-o,h);for(;S<=O;)S=k(S,o,h);I=k(S,-o,h)}else{for(S=_+(g=Math.round((O-_)/l))*l;S>O;)S-=l;for(;S<=O;)S+=l;I=S-l}m[A]=v?I:p?S:(I+S)/2,w[A]=I,x[A]=S}return{vals:m,starts:w,ends:x}}},89502:function(ae){"use strict";ae.exports={xaxis:{valType:"subplotid",dflt:"x",editType:"calc+clearAxisTypes"},yaxis:{valType:"subplotid",dflt:"y",editType:"calc+clearAxisTypes"}}},71739:function(ae,B,r){"use strict";var D=r(39898),E=r(92770),f=r(71828),k=r(50606).FP_SAFE,M=r(73972),y=r(91424),c=r(41675),i=c.getFromId,s=c.isLinked;function a(A,g){var I,S,O=[],R=A._fullLayout,L=l(R,g,0),N=l(R,g,1),j=h(A,g),X=j.min,F=j.max;if(0===X.length||0===F.length)return f.simpleMap(g.range,g.r2l);var Y=X[0].val,G=F[0].val;for(I=1;I<X.length&&Y===G;I++)Y=Math.min(Y,X[I].val);for(I=1;I<F.length&&Y===G;I++)G=Math.max(G,F[I].val);var H=g.autorange,W="reversed"===H||"min reversed"===H||"max reversed"===H;if(!W&&g.range){var Z=f.simpleMap(g.range,g.r2l);W=Z[1]<Z[0]}"reversed"===g.autorange&&(g.autorange=!0);var se,re,ne,Q,ee,oe,ce=g.rangemode,fe="tozero"===ce,le="nonnegative"===ce,pe=g._length,Me=pe/10,Ae=0;for(I=0;I<X.length;I++)for(se=X[I],S=0;S<F.length;S++)(oe=(re=F[S]).val-se.val-o(g,se.val,re.val))>0&&((ee=pe-L(se)-N(re))>Me?oe/ee>Ae&&(ne=se,Q=re,Ae=oe/ee):oe/pe>Ae&&(ne={val:se.val,nopad:1},Q={val:re.val,nopad:1},Ae=oe/pe));if(Y===G){var be=Y-1,ye=Y+1;if(fe)if(0===Y)O=[0,1];else{var we=(Y>0?F:X).reduce(function(Se,Ce){return Math.max(Se,N(Ce))},0),ze=Y/(1-Math.min(.5,we/pe));O=Y>0?[0,ze]:[ze,0]}else O=le?[Math.max(0,be),Math.max(1,ye)]:[be,ye]}else fe?(ne.val>=0&&(ne={val:0,nopad:1}),Q.val<=0&&(Q={val:0,nopad:1})):le&&(ne.val-Ae*L(ne)<0&&(ne={val:0,nopad:1}),Q.val<=0&&(Q={val:1,nopad:1})),Ae=(Q.val-ne.val-o(g,se.val,re.val))/(pe-L(ne)-N(Q)),O=[ne.val-Ae*L(ne),Q.val+Ae*N(Q)];return O=b(O,g),g.limitRange&&g.limitRange(),W&&O.reverse(),f.simpleMap(O,g.l2r||Number)}function o(A,g,I){var S=0;if(A.rangebreaks)for(var O=A.locateBreaks(g,I),R=0;R<O.length;R++){var L=O[R];S+=L.max-L.min}return S}function l(A,g,I){var S=.05*g._length,O=g._anchorAxis||{};if(-1!==(g.ticklabelposition||"").indexOf("inside")||-1!==(O.ticklabelposition||"").indexOf("inside")){var R=g.isReversed();if(!R){var L=f.simpleMap(g.range,g.r2l);R=L[1]<L[0]}R&&(I=!I)}var N=0;return s(A,g._id)||(N=function(j,X,F){var Y=0,G="x"===X._id.charAt(0);for(var H in j._plots){var W=j._plots[H];if(X._id===W.xaxis._id||X._id===W.yaxis._id){var Z=(G?W.yaxis:W.xaxis)||{};if(-1!==(Z.ticklabelposition||"").indexOf("inside")&&(!F&&("left"===Z.side||"bottom"===Z.side)||F&&("top"===Z.side||"right"===Z.side))){if(Z._vals){var se=f.deg2rad(Z._tickAngles[Z._id+"tick"]||0),re=Math.abs(Math.cos(se)),ne=Math.abs(Math.sin(se));Z._vals[0].bb||Z._selections[Z._id+"tick"].each(function(le){var pe=D.select(this);pe.select(".text-math-group").empty()&&(le.bb=y.bBox(pe.node()))});for(var ee=0;ee<Z._vals.length;ee++){var oe=Z._vals[ee].bb;if(oe){var ce=2*u+oe.width,fe=2*u+oe.height;Y=Math.max(Y,G?Math.max(ce*re,fe*ne):Math.max(fe*re,ce*ne))}}}"inside"===Z.ticks&&"inside"===Z.ticklabelposition&&(Y+=Z.ticklen||0)}}}return Y}(A,g,I)),S=Math.max(N,S),"domain"===g.constrain&&g._inputDomain&&(S*=(g._inputDomain[1]-g._inputDomain[0])/(g.domain[1]-g.domain[0])),function(j){return j.nopad?0:j.pad+(j.extrapad?S:N)}}ae.exports={applyAutorangeOptions:b,getAutoRange:a,makePadFn:l,doAutoRange:function(A,g,I){if(g.setScale(),g.autorange){g.range=I?I.slice():a(A,g),g._r=g.range.slice(),g._rl=f.simpleMap(g._r,g.r2l);var S=g._input,O={};O[g._attr+".range"]=g.range,O[g._attr+".autorange"]=g.autorange,M.call("_storeDirectGUIEdit",A.layout,A._fullLayout._preGUI,O),S.range=g.range.slice(),S.autorange=g.autorange}var R=g._anchorAxis;if(R&&R.rangeslider){var L=R.rangeslider[g._name];L&&"auto"===L.rangemode&&(L.range=a(A,g)),R._input.rangeslider[g._name]=f.extendFlat({},L)}},findExtremes:function(A,g,I){I||(I={}),A._m||A.setScale();var S,O,R,L,N,j,X,F,Y,G=[],H=[],W=g.length,Z=I.padded||!1,se=I.tozero&&("linear"===A.type||"-"===A.type),re="log"===A.type,ne=!1,Q=I.vpadLinearized||!1;function ee(be){if(Array.isArray(be))return ne=!0,function(we){return Math.max(Number(be[we]||0),0)};var ye=Math.max(Number(be||0),0);return function(){return ye}}var oe=ee((A._m>0?I.ppadplus:I.ppadminus)||I.ppad||0),ce=ee((A._m>0?I.ppadminus:I.ppadplus)||I.ppad||0),fe=ee(I.vpadplus||I.vpad),le=ee(I.vpadminus||I.vpad);if(!ne){if(F=1/0,Y=-1/0,re)for(S=0;S<W;S++)(O=g[S])<F&&O>0&&(F=O),O>Y&&O<k&&(Y=O);else for(S=0;S<W;S++)(O=g[S])<F&&O>-k&&(F=O),O>Y&&O<k&&(Y=O);g=[F,Y],W=2}var pe={tozero:se,extrapad:Z};function Me(be){E(R=g[be])&&(j=oe(be),X=ce(be),Q?(L=A.c2l(R)-le(be),N=A.c2l(R)+fe(be)):(F=R-le(be),Y=R+fe(be),re&&F<Y/10&&(F=Y/10),L=A.c2l(F),N=A.c2l(Y)),se&&(L=Math.min(0,L),N=Math.max(0,N)),_(L)&&v(G,L,X,pe),_(N)&&p(H,N,j,pe))}var Ae=Math.min(6,W);for(S=0;S<Ae;S++)Me(S);for(S=W-1;S>=Ae;S--)Me(S);return{min:G,max:H,opts:I}},concatExtremes:h};var u=3;function h(A,g,I){var S,O,R,L=g._id,j=A._fullLayout,X=[],F=[];function Y(se,re){for(S=0;S<re.length;S++){var ne=se[re[S]],Q=(ne._extremes||{})[L];if(!0===ne.visible&&Q){for(O=0;O<Q.min.length;O++)v(X,(R=Q.min[O]).val,R.pad,{extrapad:R.extrapad});for(O=0;O<Q.max.length;O++)p(F,(R=Q.max[O]).val,R.pad,{extrapad:R.extrapad})}}}if(Y(A._fullData,g._traceIndices),Y(j.annotations||[],g._annIndices||[]),Y(j.shapes||[],g._shapeIndices||[]),g._matchGroup&&!I)for(var G in g._matchGroup)if(G!==g._id){var H=i(A,G),W=h(A,H,!0),Z=g._length/H._length;for(O=0;O<W.min.length;O++)v(X,(R=W.min[O]).val,R.pad*Z,{extrapad:R.extrapad});for(O=0;O<W.max.length;O++)p(F,(R=W.max[O]).val,R.pad*Z,{extrapad:R.extrapad})}return{min:X,max:F}}function v(A,g,I,S){T(A,g,I,S,m)}function p(A,g,I,S){T(A,g,I,S,w)}function T(A,g,I,S,O){for(var R=S.tozero,L=S.extrapad,N=!0,j=0;j<A.length&&N;j++){var X=A[j];if(O(X.val,g)&&X.pad>=I&&(X.extrapad||!L)){N=!1;break}O(g,X.val)&&X.pad<=I&&(L||!X.extrapad)&&(A.splice(j,1),j--)}if(N){var F=R&&0===g;A.push({val:g,pad:F?0:I,extrapad:!F&&L})}}function _(A){return E(A)&&Math.abs(A)<k}function m(A,g){return A<=g}function w(A,g){return A>=g}function x(A,g,I){return void 0===g||void 0===I||(g=A.d2l(g))<A.d2l(I)}function b(A,g){if(!g||!g.autorangeoptions)return A;var X,F,Y,I=A[0],S=A[1],O=g.autorangeoptions.include;if(void 0!==O){var R=g.d2l(I),L=g.d2l(S);f.isArrayOrTypedArray(O)||(O=[O]);for(var N=0;N<O.length;N++){var j=g.d2l(O[N]);R>=j&&(R=j,I=j),L<=j&&(L=j,S=j)}}return X=I,I=(Y=(F=g).autorangeoptions)&&void 0!==Y.minallowed&&x(F,Y.minallowed,Y.maxallowed)?Y.minallowed:Y&&void 0!==Y.clipmin&&x(F,Y.clipmin,Y.clipmax)?Math.max(X,F.d2l(Y.clipmin)):X,S=function(X,F){var Y=F.autorangeoptions;return Y&&void 0!==Y.maxallowed&&x(F,Y.minallowed,Y.maxallowed)?Y.maxallowed:Y&&void 0!==Y.clipmax&&x(F,Y.clipmin,Y.clipmax)?Math.min(X,F.d2l(Y.clipmax)):X}(S,g),[I,S]}},23074:function(ae){"use strict";ae.exports=function(B,r,D){var E,f;if(D){var k="reversed"===r||"min reversed"===r||"max reversed"===r;E=D[k?1:0],f=D[k?0:1]}var M=B("autorangeoptions.minallowed",null===f?E:void 0),y=B("autorangeoptions.maxallowed",null===E?f:void 0);void 0===M&&B("autorangeoptions.clipmin"),void 0===y&&B("autorangeoptions.clipmax"),B("autorangeoptions.include")}},89298:function(ae,B,r){"use strict";var D=r(39898),E=r(92770),f=r(74875),k=r(73972),M=r(71828),y=M.strTranslate,c=r(63893),i=r(92998),s=r(7901),a=r(91424),o=r(13838),l=r(66287),u=r(50606),h=u.ONEMAXYEAR,v=u.ONEAVGYEAR,p=u.ONEMINYEAR,T=u.ONEMAXQUARTER,_=u.ONEAVGQUARTER,m=u.ONEMINQUARTER,w=u.ONEMAXMONTH,x=u.ONEAVGMONTH,b=u.ONEMINMONTH,A=u.ONEWEEK,g=u.ONEDAY,I=g/2,S=u.ONEHOUR,O=u.ONEMIN,R=u.ONESEC,L=u.MINUS_SIGN,N=u.BADNUM,j={K:"zeroline"},X={K:"gridline",L:"path"},F={K:"minor-gridline",L:"path"},Y={K:"tick",L:"path"},G={K:"tick",L:"text"},H={width:["x","r","l","xl","xr"],height:["y","t","b","yt","yb"],right:["r","xr"],left:["l","xl"],top:["t","yt"],bottom:["b","yb"]},W=r(18783),Z=W.MID_SHIFT,se=W.CAP_SHIFT,re=W.LINE_SPACING,ne=W.OPPOSITE_SIDE,Q=ae.exports={};Q.setConvert=r(21994);var ee=r(4322),oe=r(41675),ce=oe.idSort,fe=oe.isLinked;Q.id2name=oe.id2name,Q.name2id=oe.name2id,Q.cleanId=oe.cleanId,Q.list=oe.list,Q.listIds=oe.listIds,Q.getFromId=oe.getFromId,Q.getFromTrace=oe.getFromTrace;var le=r(71739);Q.getAutoRange=le.getAutoRange,Q.findExtremes=le.findExtremes;var pe=1e-4;function Me(Ue){var $e=(Ue[1]-Ue[0])*pe;return[Ue[0]-$e,Ue[1]+$e]}Q.coerceRef=function(Ue,$e,dt,ut,At,wt){var St=ut.charAt(ut.length-1),_t=dt._fullLayout._subplots[St+"axis"],Rt=ut+"ref",bt={};return At||(At=_t[0]||("string"==typeof wt?wt:wt[0])),wt||(wt=At),_t=_t.concat(_t.map(function(Tt){return Tt+" domain"})),bt[Rt]={valType:"enumerated",values:_t.concat(wt?"string"==typeof wt?[wt]:wt:[]),dflt:At},M.coerce(Ue,$e,bt,Rt)},Q.getRefType=function(Ue){return void 0===Ue?Ue:"paper"===Ue?"paper":"pixel"===Ue?"pixel":/( domain)$/.test(Ue)?"domain":"range"},Q.coercePosition=function(Ue,$e,dt,ut,At,wt){var St,_t;if("range"!==Q.getRefType(ut))St=M.ensureNumber,_t=dt(At,wt);else{var Rt=Q.getFromId($e,ut);_t=dt(At,wt=Rt.fraction2r(wt)),St=Rt.cleanPos}Ue[At]=St(_t)},Q.cleanPosition=function(Ue,$e,dt){return("paper"===dt||"pixel"===dt?M.ensureNumber:Q.getFromId($e,dt).cleanPos)(Ue)},Q.redrawComponents=function(Ue,$e){$e=$e||Q.listIds(Ue);var dt=Ue._fullLayout;function ut(At,wt,St,_t){for(var Rt=k.getComponentMethod(At,wt),bt={},Tt=0;Tt<$e.length;Tt++)for(var It=dt[Q.id2name($e[Tt])][St],Wt=0;Wt<It.length;Wt++){var $t=It[Wt];if(!bt[$t]&&(Rt(Ue,$t),bt[$t]=1,_t))return}}ut("annotations","drawOne","_annIndices"),ut("shapes","drawOne","_shapeIndices"),ut("images","draw","_imgIndices",!0),ut("selections","drawOne","_selectionIndices")};var Ae=Q.getDataConversions=function(Ue,$e,dt,ut){var At,wt="x"===dt||"y"===dt||"z"===dt?dt:ut;if(Array.isArray(wt)){if(At={type:ee(ut,void 0,{autotypenumbers:Ue._fullLayout.autotypenumbers}),_categories:[]},Q.setConvert(At),"category"===At.type)for(var St=0;St<ut.length;St++)At.d2c(ut[St])}else At=Q.getFromTrace(Ue,$e,wt);return At?{d2c:At.d2c,c2d:At.c2d}:"ids"===wt?{d2c:ye,c2d:ye}:{d2c:be,c2d:be}};function be(Ue){return+Ue}function ye(Ue){return String(Ue)}function we(Ue,$e){return Math.abs((Ue/$e+.5)%1-.5)<.001}function ze(Ue,$e){return Math.abs(Ue/$e-1)<.001}function Se(Ue){return+Ue.substring(1)}function Ce(Ue,$e){return Ue.rangebreaks&&($e=$e.filter(function(dt){return Ue.maskBreaks(dt.x)!==N})),$e}function ge(Ue){var $e=Ue._mainAxis,dt=[];if($e._vals)for(var ut=0;ut<$e._vals.length;ut++)if(!$e._vals[ut].noTick){var At=$e.l2p($e._vals[ut].x),wt=Ue.p2l(At),St=Q.tickText(Ue,wt);$e._vals[ut].minor&&(St.minor=!0,St.text=""),dt.push(St)}return Ce(Ue,dt)}function he(Ue){var $e=Me(M.simpleMap(Ue.range,Ue.r2l)),dt=Math.min($e[0],$e[1]),ut=Math.max($e[0],$e[1]),At="category"===Ue.type?Ue.d2l_noadd:Ue.d2l;"log"===Ue.type&&"L"!==String(Ue.dtick).charAt(0)&&(Ue.dtick="L"+Math.pow(10,Math.floor(Math.min(Ue.range[0],Ue.range[1]))-1));for(var wt=[],St=0;St<=1;St++)if(!St||Ue.minor){var _t=St?Ue.minor.tickvals:Ue.tickvals,Rt=St?[]:Ue.ticktext;if(_t){Array.isArray(Rt)||(Rt=[]);for(var bt=0;bt<_t.length;bt++){var Tt=At(_t[bt]);if(Tt>dt&&Tt<ut){var It=void 0===Rt[bt]?Q.tickText(Ue,Tt):Be(Ue,Tt,String(Rt[bt]));St&&(It.minor=!0,It.text=""),wt.push(It)}}}}return Ce(Ue,wt)}Q.getDataToCoordFunc=function(Ue,$e,dt,ut){return Ae(Ue,$e,dt,ut).d2c},Q.counterLetter=function(Ue){var $e=Ue.charAt(0);return"x"===$e?"y":"y"===$e?"x":void 0},Q.minDtick=function(Ue,$e,dt,ut){-1===["log","category","multicategory"].indexOf(Ue.type)&&ut?void 0===Ue._minDtick?(Ue._minDtick=$e,Ue._forceTick0=dt):Ue._minDtick&&((Ue._minDtick/$e+1e-6)%1<2e-6&&((dt-Ue._forceTick0)/$e%1+1.000001)%1<2e-6?(Ue._minDtick=$e,Ue._forceTick0=dt):(($e/Ue._minDtick+1e-6)%1>2e-6||((dt-Ue._forceTick0)/Ue._minDtick%1+1.000001)%1>2e-6)&&(Ue._minDtick=0)):Ue._minDtick=0},Q.saveRangeInitial=function(Ue,$e){for(var dt=Q.list(Ue,"",!0),ut=!1,At=0;At<dt.length;At++){var wt=dt[At],St=void 0===wt._rangeInitial0&&void 0===wt._rangeInitial1,Rt=wt.autorange;(St&&!0!==Rt||$e&&(St||wt.range[0]!==wt._rangeInitial0||wt.range[1]!==wt._rangeInitial1))&&(wt._rangeInitial0="min"===Rt||"max reversed"===Rt?void 0:wt.range[0],wt._rangeInitial1="max"===Rt||"min reversed"===Rt?void 0:wt.range[1],wt._autorangeInitial=Rt,ut=!0)}return ut},Q.saveShowSpikeInitial=function(Ue,$e){for(var dt=Q.list(Ue,"",!0),ut=!1,At="on",wt=0;wt<dt.length;wt++){var St=dt[wt],_t=void 0===St._showSpikeInitial;(_t||$e&&(_t||St.showspikes!==St._showspikes))&&(St._showSpikeInitial=St.showspikes,ut=!0),"on"!==At||St.showspikes||(At="off")}return Ue._fullLayout._cartesianSpikesEnabled=At,ut},Q.autoBin=function(Ue,$e,dt,ut,At,wt){var St,_t=M.aggNums(Math.min,null,Ue),Rt=M.aggNums(Math.max,null,Ue);if("category"===$e.type||"multicategory"===$e.type)return{start:_t-.5,end:Rt+.5,size:Math.max(1,Math.round(wt)||1),_dataSpan:Rt-_t};if(At||(At=$e.calendar),St="log"===$e.type?{type:"linear",range:[_t,Rt]}:{type:$e.type,range:M.simpleMap([_t,Rt],$e.c2r,0,At),calendar:At},Q.setConvert(St),wt=wt&&l.dtick(wt,St.type))St.dtick=wt,St.tick0=l.tick0(void 0,St.type,At);else{var bt;if(dt)bt=(Rt-_t)/dt;else{var Tt=M.distinctVals(Ue),It=Math.pow(10,Math.floor(Math.log(Tt.minDiff)/Math.LN10)),Wt=It*M.roundUp(Tt.minDiff/It,[.9,1.9,4.9,9.9],!0);bt=Math.max(Wt,2*M.stdev(Ue)/Math.pow(Ue.length,ut?.25:.4)),E(bt)||(bt=1)}Q.autoTicks(St,bt)}var $t,Qt=St.dtick,pn=Q.tickIncrement(Q.tickFirst(St),Qt,"reverse",At);if("number"==typeof Qt)$t=(pn=function(en,nn,fn,On,Un){var Sn=0,on=0,vn=0,un=0;function Tn(Hn){return(1+100*(Hn-en)/fn.dtick)%100<2}for(var kn=0;kn<nn.length;kn++)nn[kn]%1==0?vn++:E(nn[kn])||un++,Tn(nn[kn])&&Sn++,Tn(nn[kn]+fn.dtick/2)&&on++;var xn=nn.length-un;if(vn===xn&&"date"!==fn.type)fn.dtick<1?en=On-.5*fn.dtick:(en-=.5)+fn.dtick<On&&(en+=fn.dtick);else if(on<.1*xn&&(Sn>.3*xn||Tn(On)||Tn(Un))){var Rn=fn.dtick/2;en+=en+Rn<On?Rn:-Rn}return en}(pn,Ue,St,_t,Rt))+(1+Math.floor((Rt-pn)/Qt))*Qt;else for("M"===St.dtick.charAt(0)&&(pn=function(en,nn,fn,On,Un){var Sn=M.findExactDates(nn,Un);if(Sn.exactDays>.8){var on=Number(fn.substr(1));Sn.exactYears>.8&&on%12==0?en=Q.tickIncrement(en,"M6","reverse")+1.5*g:Sn.exactMonths>.8?en=Q.tickIncrement(en,"M1","reverse")+15.5*g:en-=I;var vn=Q.tickIncrement(en,fn);if(vn<=On)return vn}return en}(pn,Ue,Qt,_t,At)),$t=pn;$t<=Rt;)$t=Q.tickIncrement($t,Qt,!1,At);return{start:$e.c2r(pn,0,At),end:$e.c2r($t,0,At),size:Qt,_dataSpan:Rt-_t}},Q.prepMinorTicks=function(Ue,$e,dt){if(!$e.minor.dtick){delete Ue.dtick;var ut,At=$e.dtick&&E($e._tmin);if(At){var wt=Q.tickIncrement($e._tmin,$e.dtick,!0);ut=[$e._tmin,.99*wt+.01*$e._tmin]}else{var St=M.simpleMap($e.range,$e.r2l);ut=[St[0],.8*St[0]+.2*St[1]]}if(Ue.range=M.simpleMap(ut,$e.l2r),Ue._isMinor=!0,Q.prepTicks(Ue,dt),At){var _t=E($e.dtick),Rt=E(Ue.dtick),bt=_t?$e.dtick:+$e.dtick.substring(1),Tt=Rt?Ue.dtick:+Ue.dtick.substring(1);_t&&Rt?we(bt,Tt)?bt===2*A&&Tt===2*g&&(Ue.dtick=A):Ue.dtick=bt===2*A&&Tt===3*g?A:bt!==A||($e._input.minor||{}).nticks?ze(bt/Tt,2.5)?bt/2:bt:g:"M"===String($e.dtick).charAt(0)?Rt?Ue.dtick="M1":we(bt,Tt)?bt>=12&&2===Tt&&(Ue.dtick="M3"):Ue.dtick=$e.dtick:"L"===String(Ue.dtick).charAt(0)?"L"===String($e.dtick).charAt(0)?we(bt,Tt)||(Ue.dtick=ze(bt/Tt,2.5)?$e.dtick/2:$e.dtick):Ue.dtick="D1":"D2"===Ue.dtick&&+$e.dtick>1&&(Ue.dtick=1)}Ue.range=$e.range}void 0===$e.minor._tick0Init&&(Ue.tick0=$e.tick0)},Q.prepTicks=function(Ue,$e){var dt=M.simpleMap(Ue.range,Ue.r2l,void 0,void 0,$e);if("auto"===Ue.tickmode||!Ue.dtick){var ut,At=Ue.nticks;At||("category"===Ue.type||"multicategory"===Ue.type?(ut=Ue.tickfont?M.bigFont(Ue.tickfont.size||12):15,At=Ue._length/ut):(ut="y"===Ue._id.charAt(0)?40:80,At=M.constrain(Ue._length/ut,4,9)+1),"radialaxis"===Ue._name&&(At*=2)),Ue.minor&&"array"!==Ue.minor.tickmode||"array"===Ue.tickmode&&(At*=100),Ue._roughDTick=Math.abs(dt[1]-dt[0])/At,Q.autoTicks(Ue,Ue._roughDTick),Ue._minDtick>0&&Ue.dtick<2*Ue._minDtick&&(Ue.dtick=Ue._minDtick,Ue.tick0=Ue.l2r(Ue._forceTick0))}"period"===Ue.ticklabelmode&&function(wt){var St;function _t(){return!(E(wt.dtick)||"M"!==wt.dtick.charAt(0))}var Rt=_t(),bt=Q.getTickFormat(wt);if(bt){var Tt=wt._dtickInit!==wt.dtick;/%[fLQsSMX]/.test(bt)||(/%[HI]/.test(bt)?(St=S,Tt&&!Rt&&wt.dtick<S&&(wt.dtick=S)):/%p/.test(bt)?(St=I,Tt&&!Rt&&wt.dtick<I&&(wt.dtick=I)):/%[Aadejuwx]/.test(bt)?(St=g,Tt&&!Rt&&wt.dtick<g&&(wt.dtick=g)):/%[UVW]/.test(bt)?(St=A,Tt&&!Rt&&wt.dtick<A&&(wt.dtick=A)):/%[Bbm]/.test(bt)?(St=x,Tt&&(Rt?Se(wt.dtick)<1:wt.dtick<b)&&(wt.dtick="M1")):/%[q]/.test(bt)?(St=_,Tt&&(Rt?Se(wt.dtick)<3:wt.dtick<m)&&(wt.dtick="M3")):/%[Yy]/.test(bt)&&(St=v,Tt&&(Rt?Se(wt.dtick)<12:wt.dtick<p)&&(wt.dtick="M12")))}(Rt=_t())&&wt.tick0===wt._dowTick0&&(wt.tick0=wt._rawTick0),wt._definedDelta=St}(Ue),Ue.tick0||(Ue.tick0="date"===Ue.type?"2000-01-01":0),"date"===Ue.type&&Ue.dtick<.1&&(Ue.dtick=.1),ke(Ue)},Q.calcTicks=function(Ue,$e){for(var dt,ut,At=Ue.type,wt=Ue.calendar,St=Ue.ticklabelstep,_t="period"===Ue.ticklabelmode,Rt=M.simpleMap(Ue.range,Ue.r2l,void 0,void 0,$e),bt=Rt[1]<Rt[0],Tt=Math.min(Rt[0],Rt[1]),It=Math.max(Rt[0],Rt[1]),Wt=Math.max(1e3,Ue._length||0),$t=[],Qt=[],pn=[],en=[],nn=Ue.minor&&(Ue.minor.ticks||Ue.minor.showgrid),fn=1;fn>=(nn?0:1);fn--){var On=!fn;fn?(Ue._dtickInit=Ue.dtick,Ue._tick0Init=Ue.tick0):(Ue.minor._dtickInit=Ue.minor.dtick,Ue.minor._tick0Init=Ue.minor.tick0);var Un=fn?Ue:M.extendFlat({},Ue,Ue.minor);if(On?Q.prepMinorTicks(Un,Ue,$e):Q.prepTicks(Un,$e),"array"!==Un.tickmode)if("sync"!==Un.tickmode){var Sn=Me(Rt),on=Sn[0],vn=Sn[1],un=E(Un.dtick),Tn="log"===At&&!(un||"L"===Un.dtick.charAt(0)),kn=Q.tickFirst(Un,$e);if(fn){if(Ue._tmin=kn,kn<on!==bt)break;"category"!==At&&"multicategory"!==At||(vn=bt?Math.max(-.5,vn):Math.min(Ue._categories.length-.5,vn))}var xn,Rn,Hn=null,En=kn;fn&&(un?Rn=Ue.dtick:"date"===At?"string"==typeof Ue.dtick&&"M"===Ue.dtick.charAt(0)&&(Rn=x*Ue.dtick.substring(1)):Rn=Ue._roughDTick,xn=Math.round((Ue.r2l(En)-Ue.r2l(Ue.tick0))/Rn)-1);var Wn=Un.dtick;for(Un.rangebreaks&&Un._tick0Init!==Un.tick0&&(En=Je(En,Ue),bt||(En=Q.tickIncrement(En,Wn,!bt,wt))),fn&&_t&&(En=Q.tickIncrement(En,Wn,!bt,wt),xn--);bt?En>=vn:En<=vn;En=Q.tickIncrement(En,Wn,bt,wt)){if(fn&&xn++,Un.rangebreaks&&!bt){if(En<on)continue;if(Un.maskBreaks(En)===N&&Je(En,Un)>=It)break}if(pn.length>Wt||En===Hn)break;Hn=En;var gr={value:En};fn?(Tn&&En!==(0|En)&&(gr.simpleLabel=!0),St>1&&xn%St&&(gr.skipLabel=!0),pn.push(gr)):(gr.minor=!0,en.push(gr))}}else pn=[],$t=ge(Ue);else fn?(pn=[],$t=he(Ue)):(en=[],Qt=he(Ue))}if(nn&&!("inside"===Ue.minor.ticks&&"outside"===Ue.ticks||"outside"===Ue.minor.ticks&&"inside"===Ue.ticks)){for(var lr=pn.map(function(Ft){return Ft.value}),wr=[],dr=0;dr<en.length;dr++){var mr=en[dr],Ir=mr.value;if(-1===lr.indexOf(Ir)){for(var qt=!1,tn=0;!qt&&tn<pn.length;tn++)1e7+pn[tn].value===1e7+Ir&&(qt=!0);qt||wr.push(mr)}}en=wr}if(_t&&function(Ft,an,hn){for(var Dn=0;Dn<Ft.length;Dn++){var Ln=Ft[Dn].value,Vn=Dn,Mn=Dn+1;Dn<Ft.length-1?(Vn=Dn,Mn=Dn+1):Dn>0?(Vn=Dn-1,Mn=Dn):(Vn=Dn,Mn=Dn);var ln,An=Math.abs(Ft[Mn].value-Ft[Vn].value),Gn=hn||An,Yn=0;Gn>=p?Yn=An>=p&&An<=h?An:v:hn===_&&Gn>=m?Yn=An>=m&&An<=T?An:_:Gn>=b?Yn=An>=b&&An<=w?An:x:hn===A&&Gn>=A?Yn=A:Gn>=g?Yn=g:hn===I&&Gn>=I?Yn=I:hn===S&&Gn>=S&&(Yn=S),Yn>=An&&(Yn=An,ln=!0);var hr=Ln+Yn;if(an.rangebreaks&&Yn>0){for(var ir=0,_r=0;_r<84;_r++){var ur=(_r+.5)/84;an.maskBreaks(Ln*(1-ur)+ur*hr)!==N&&ir++}(Yn*=ir/84)||(Ft[Dn].drop=!0),ln&&An>A&&(Yn=An)}(Yn>0||0===Dn)&&(Ft[Dn].periodX=Ln+Yn/2)}}(pn,Ue,Ue._definedDelta),Ue.rangebreaks){var bn="y"===Ue._id.charAt(0),Cn=1;"auto"===Ue.tickmode&&(Cn=Ue.tickfont?Ue.tickfont.size:12);var Bn=NaN;for(dt=pn.length-1;dt>-1;dt--)if(pn[dt].drop)pn.splice(dt,1);else{pn[dt].value=Je(pn[dt].value,Ue);var sr=Ue.c2p(pn[dt].value);(bn?Bn>sr-Cn:Bn<sr+Cn)?pn.splice(bt?dt+1:dt,1):Bn=sr}}it(Ue)&&360===Math.abs(Rt[1]-Rt[0])&&pn.pop(),Ue._tmax=(pn[pn.length-1]||{}).value,Ue._prevDateHead="",Ue._inCalcTicks=!0;var yn,Zn,Xn=function(Ft){Ft.text="",Ue._prevDateHead=ut};for(pn=pn.concat(en),dt=0;dt<pn.length;dt++){var Nn=pn[dt].value;pn[dt].minor?Qt.push({x:Nn,minor:!0}):(ut=Ue._prevDateHead,yn=Q.tickText(Ue,Nn,!1,pn[dt].simpleLabel),void 0!==(Zn=pn[dt].periodX)&&(yn.periodX=Zn,(Zn>It||Zn<Tt)&&(Zn>It&&(yn.periodX=It),Zn<Tt&&(yn.periodX=Tt),Xn(yn))),pn[dt].skipLabel&&Xn(yn),$t.push(yn))}return $t=$t.concat(Qt),Ue._inCalcTicks=!1,_t&&$t.length&&($t[0].noTick=!0),$t};var _e=[2,5,10],Le=[1,2,3,6,12],Ie=[1,2,5,10,15,30],De=[1,2,3,7,14],je=[-.046,0,.301,.477,.602,.699,.778,.845,.903,.954,1],qe=[-.301,0,.301,.699,1],ve=[15,30,45,90,180];function Oe(Ue,$e,dt){return $e*M.roundUp(Ue/$e,dt)}function ke(Ue){var $e=Ue.dtick;if(Ue._tickexponent=0,E($e)||"string"==typeof $e||($e=1),"category"!==Ue.type&&"multicategory"!==Ue.type||(Ue._tickround=null),"date"===Ue.type){var dt=Ue.r2l(Ue.tick0),ut=Ue.l2r(dt).replace(/(^-|i)/g,""),At=ut.length;if("M"===String($e).charAt(0))Ue._tickround=At>10||"01-01"!==ut.substr(5)?"d":+$e.substr(1)%12==0?"y":"m";else if($e>=g&&At<=10||$e>=15*g)Ue._tickround="d";else if($e>=O&&At<=16||$e>=S)Ue._tickround="M";else if($e>=R&&At<=19||$e>=O)Ue._tickround="S";else{var wt=Ue.l2r(dt+$e).replace(/^-/,"").length;Ue._tickround=Math.max(At,wt)-20,Ue._tickround<0&&(Ue._tickround=4)}}else if(E($e)||"L"===$e.charAt(0)){var St=Ue.range.map(Ue.r2d||Number);E($e)||($e=Number($e.substr(1))),Ue._tickround=2-Math.floor(Math.log($e)/Math.LN10+.01);var _t=Math.max(Math.abs(St[0]),Math.abs(St[1])),Rt=Math.floor(Math.log(_t)/Math.LN10+.01),bt=void 0===Ue.minexponent?3:Ue.minexponent;Math.abs(Rt)>bt&&(Ue._tickexponent=Ge(Ue.exponentformat)&&!Ke(Rt)?3*Math.round((Rt-1)/3):Rt)}else Ue._tickround=null}function Be(Ue,$e,dt){var ut=Ue.tickfont||{};return{x:$e,dx:0,dy:0,text:dt||"",fontSize:ut.size,font:ut.family,fontColor:ut.color}}Q.autoTicks=function(Ue,$e,dt){var ut;function At(It){return Math.pow(It,Math.floor(Math.log($e)/Math.LN10))}if("date"===Ue.type){Ue.tick0=M.dateTick0(Ue.calendar,0);var wt=2*$e;if(wt>v)$e/=v,ut=At(10),Ue.dtick="M"+12*Oe($e,ut,_e);else if(wt>x)Ue.dtick="M"+Oe($e/=x,1,Le);else if(wt>g){if(Ue.dtick=Oe($e,g,Ue._hasDayOfWeekBreaks?[1,2,7,14]:De),!dt){var St=Q.getTickFormat(Ue),_t="period"===Ue.ticklabelmode;_t&&(Ue._rawTick0=Ue.tick0),Ue.tick0=/%[uVW]/.test(St)?M.dateTick0(Ue.calendar,2):M.dateTick0(Ue.calendar,1),_t&&(Ue._dowTick0=Ue.tick0)}}else wt>S?Ue.dtick=Oe($e,S,Le):wt>O?Ue.dtick=Oe($e,O,Ie):wt>R?Ue.dtick=Oe($e,R,Ie):(ut=At(10),Ue.dtick=Oe($e,ut,_e))}else if("log"===Ue.type){Ue.tick0=0;var Rt=M.simpleMap(Ue.range,Ue.r2l);if(Ue._isMinor&&($e*=1.5),$e>.7)Ue.dtick=Math.ceil($e);else if(Math.abs(Rt[1]-Rt[0])<1){var bt=1.5*Math.abs((Rt[1]-Rt[0])/$e);$e=Math.abs(Math.pow(10,Rt[1])-Math.pow(10,Rt[0]))/bt,ut=At(10),Ue.dtick="L"+Oe($e,ut,_e)}else Ue.dtick=$e>.3?"D2":"D1"}else"category"===Ue.type||"multicategory"===Ue.type?(Ue.tick0=0,Ue.dtick=Math.ceil(Math.max($e,1))):it(Ue)?(Ue.tick0=0,Ue.dtick=Oe($e,ut=1,ve)):(Ue.tick0=0,ut=At(10),Ue.dtick=Oe($e,ut,_e));if(0===Ue.dtick&&(Ue.dtick=1),!E(Ue.dtick)&&"string"!=typeof Ue.dtick){var Tt=Ue.dtick;throw Ue.dtick=1,"ax.dtick error: "+String(Tt)}},Q.tickIncrement=function(Ue,$e,dt,ut){var At=dt?-1:1;if(E($e))return M.increment(Ue,At*$e);var wt=$e.charAt(0),St=At*Number($e.substr(1));if("M"===wt)return M.incrementMonth(Ue,St,ut);if("L"===wt)return Math.log(Math.pow(10,Ue)+St)/Math.LN10;if("D"===wt){var _t="D2"===$e?qe:je,Rt=Ue+.01*At,bt=M.roundUp(M.mod(Rt,1),_t,dt);return Math.floor(Rt)+Math.log(D.round(Math.pow(10,bt),1))/Math.LN10}throw"unrecognized dtick "+String($e)},Q.tickFirst=function(Ue,$e){var dt=Ue.r2l||Number,ut=M.simpleMap(Ue.range,dt,void 0,void 0,$e),At=ut[1]<ut[0],wt=At?Math.floor:Math.ceil,St=Me(ut)[0],_t=Ue.dtick,Rt=dt(Ue.tick0);if(E(_t)){var bt=wt((St-Rt)/_t)*_t+Rt;return"category"!==Ue.type&&"multicategory"!==Ue.type||(bt=M.constrain(bt,0,Ue._categories.length-1)),bt}var Tt=_t.charAt(0),It=Number(_t.substr(1));if("M"===Tt){for(var Wt,$t,Qt,pn=0,en=Rt;pn<10;){if(((Wt=Q.tickIncrement(en,_t,At,Ue.calendar))-St)*(en-St)<=0)return At?Math.min(en,Wt):Math.max(en,Wt);$t=(St-(en+Wt)/2)/(Wt-en),Qt=Tt+(Math.abs(Math.round($t))||1)*It,en=Q.tickIncrement(en,Qt,$t<0?!At:At,Ue.calendar),pn++}return M.error("tickFirst did not converge",Ue),en}if("L"===Tt)return Math.log(wt((Math.pow(10,St)-Rt)/It)*It+Rt)/Math.LN10;if("D"===Tt){var nn="D2"===_t?qe:je,fn=M.roundUp(M.mod(St,1),nn,At);return Math.floor(St)+Math.log(D.round(Math.pow(10,fn),1))/Math.LN10}throw"unrecognized dtick "+String(_t)},Q.tickText=function(Ue,$e,dt,ut){var At,wt=Be(Ue,$e),St="array"===Ue.tickmode,_t=dt||St,Rt=Ue.type,bt="category"===Rt?Ue.d2l_noadd:Ue.d2l;if(St&&Array.isArray(Ue.ticktext)){var Tt=M.simpleMap(Ue.range,Ue.r2l),It=(Math.abs(Tt[1]-Tt[0])-(Ue._lBreaks||0))/1e4;for(At=0;At<Ue.ticktext.length&&!(Math.abs($e-bt(Ue.tickvals[At]))<It);At++);if(At<Ue.ticktext.length)return wt.text=String(Ue.ticktext[At]),wt}function Wt(en){return void 0===en||(dt?"none"===en:"all"!==en&&$e!=={first:Ue._tmin,last:Ue._tmax}[en])}var nn,fn,$t=dt?"never":"none"!==Ue.exponentformat&&Wt(Ue.showexponent)?"hide":"";if("date"===Rt?function(en,nn,fn,On){var Un=en._tickround,Sn=fn&&en.hoverformat||Q.getTickFormat(en);(On=!Sn&&On)&&(Un=E(Un)?4:{y:"m",m:"d",d:"M",M:"S",S:4}[Un]);var on,vn=M.formatDate(nn.x,Sn,Un,en._dateFormat,en.calendar,en._extraFormat),un=vn.indexOf("\n");if(-1!==un&&(on=vn.substr(un+1),vn=vn.substr(0,un)),On&&(void 0===on||"00:00:00"!==vn&&"00:00"!==vn?8===vn.length&&(vn=vn.replace(/:00$/,"")):(vn=on,on="")),on)if(fn)"d"===Un?vn+=", "+on:vn=on+(vn?", "+vn:"");else if(en._inCalcTicks&&en._prevDateHead===on){var Tn=ot(en),kn=en._trueSide||en.side;(!Tn&&"top"===kn||Tn&&"bottom"===kn)&&(vn+="<br> ")}else en._prevDateHead=on,vn+="<br>"+on;nn.text=vn}(Ue,wt,dt,_t):"log"===Rt?function(en,nn,fn,On,Un){var Sn=en.dtick,on=nn.x,vn=en.tickformat,un="string"==typeof Sn&&Sn.charAt(0);if("never"===Un&&(Un=""),On&&"L"!==un&&(Sn="L3",un="L"),vn||"L"===un)nn.text=et(Math.pow(10,on),en,Un,On);else if(E(Sn)||"D"===un&&M.mod(on+.01,1)<.1){var Tn=Math.round(on),kn=Math.abs(Tn),xn=en.exponentformat;"power"===xn||Ge(xn)&&Ke(Tn)?(nn.text=0===Tn?1:1===Tn?"10":"10<sup>"+(Tn>1?"":L)+kn+"</sup>",nn.fontSize*=1.25):("e"===xn||"E"===xn)&&kn>2?nn.text="1"+xn+(Tn>0?"+":L)+kn:(nn.text=et(Math.pow(10,on),en,"","fakehover"),"D1"===Sn&&"y"===en._id.charAt(0)&&(nn.dy-=nn.fontSize/6))}else{if("D"!==un)throw"unrecognized dtick "+String(Sn);nn.text=String(Math.round(Math.pow(10,M.mod(on,1)))),nn.fontSize*=.75}if("D1"===en.dtick){var Rn=String(nn.text).charAt(0);"0"!==Rn&&"1"!==Rn||("y"===en._id.charAt(0)?nn.dx-=nn.fontSize/4:(nn.dy+=nn.fontSize/2,nn.dx+=(en.range[1]>en.range[0]?1:-1)*nn.fontSize*(on<0?.5:.25)))}}(Ue,wt,0,_t,$t):"category"===Rt?(nn=wt,void 0===(fn=Ue._categories[Math.round(nn.x)])&&(fn=""),nn.text=String(fn)):"multicategory"===Rt?function(en,nn,fn){var On=Math.round(nn.x),Un=en._categories[On]||[],Sn=void 0===Un[1]?"":String(Un[1]),on=void 0===Un[0]?"":String(Un[0]);fn?nn.text=on+" - "+Sn:(nn.text=Sn,nn.text2=on)}(Ue,wt,dt):it(Ue)?function(en,nn,fn,On,Un){if("radians"!==en.thetaunit||fn)nn.text=et(nn.x,en,Un,On);else{var Sn=nn.x/180;if(0===Sn)nn.text="0";else{var on=function(un){function Tn(Hn,En){return Math.abs(Hn-En)<=1e-6}var kn=function(Hn){for(var En=1;!Tn(Math.round(Hn*En)/En,Hn);)En*=10;return En}(un),xn=un*kn,Rn=Math.abs(function Hn(En,Wn){return Tn(Wn,0)?En:Hn(Wn,En%Wn)}(xn,kn));return[Math.round(xn/Rn),Math.round(kn/Rn)]}(Sn);if(on[1]>=100)nn.text=et(M.deg2rad(nn.x),en,Un,On);else{var vn=nn.x<0;nn.text=1===on[1]?1===on[0]?"\u03c0":on[0]+"\u03c0":["<sup>",on[0],"</sup>","\u2044","<sub>",on[1],"</sub>","\u03c0"].join(""),vn&&(nn.text=L+nn.text)}}}}(Ue,wt,dt,_t,$t):function(en,nn,fn,On,Un){"never"===Un?Un="":"all"===en.showexponent&&Math.abs(nn.x/en.dtick)<1e-6&&(Un="hide"),nn.text=et(nn.x,en,Un,On)}(Ue,wt,0,_t,$t),ut||(Ue.tickprefix&&!Wt(Ue.showtickprefix)&&(wt.text=Ue.tickprefix+wt.text),Ue.ticksuffix&&!Wt(Ue.showticksuffix)&&(wt.text+=Ue.ticksuffix)),Ue.labelalias&&Ue.labelalias.hasOwnProperty(wt.text)){var Qt=Ue.labelalias[wt.text];"string"==typeof Qt&&(wt.text=Qt)}if("boundaries"===Ue.tickson||Ue.showdividers){var pn=function(en){var nn=Ue.l2p(en);return nn>=0&&nn<=Ue._length?en:null};wt.xbnd=[pn(wt.x-.5),pn(wt.x+Ue.dtick-.5)]}return wt},Q.hoverLabelText=function(Ue,$e,dt){dt&&(Ue=M.extendFlat({},Ue,{hoverformat:dt}));var ut=Array.isArray($e)?$e[0]:$e,At=Array.isArray($e)?$e[1]:void 0;if(void 0!==At&&At!==ut)return Q.hoverLabelText(Ue,ut,dt)+" - "+Q.hoverLabelText(Ue,At,dt);var wt="log"===Ue.type&&ut<=0,St=Q.tickText(Ue,Ue.c2l(wt?-ut:ut),"hover").text;return wt?0===ut?"0":L+St:St};var We=["f","p","n","\u03bc","m","","k","M","G","T"];function Ge(Ue){return"SI"===Ue||"B"===Ue}function Ke(Ue){return Ue>14||Ue<-15}function et(Ue,$e,dt,ut){var At=Ue<0,wt=$e._tickround,St=dt||$e.exponentformat||"B",_t=$e._tickexponent,Rt=Q.getTickFormat($e),bt=$e.separatethousands;if(ut){var Tt={exponentformat:St,minexponent:$e.minexponent,dtick:"none"===$e.showexponent?$e.dtick:E(Ue)&&Math.abs(Ue)||1,range:"none"===$e.showexponent?$e.range.map($e.r2d):[0,Ue||1]};ke(Tt),wt=(Number(Tt._tickround)||0)+4,_t=Tt._tickexponent,$e.hoverformat&&(Rt=$e.hoverformat)}if(Rt)return $e._numFormat(Rt)(Ue).replace(/-/g,L);var It,Wt=Math.pow(10,-wt)/2;if("none"===St&&(_t=0),(Ue=Math.abs(Ue))<Wt)Ue="0",At=!1;else{if(Ue+=Wt,_t&&(Ue*=Math.pow(10,-_t),wt+=_t),0===wt)Ue=String(Math.floor(Ue));else if(wt<0){Ue=(Ue=String(Math.round(Ue))).substr(0,Ue.length+wt);for(var $t=wt;$t<0;$t++)Ue+="0"}else{var Qt=(Ue=String(Ue)).indexOf(".")+1;Qt&&(Ue=Ue.substr(0,Qt+wt).replace(/\.?0+$/,""))}Ue=M.numSeparate(Ue,$e._separators,bt)}return _t&&"hide"!==St&&(Ge(St)&&Ke(_t)&&(St="power"),It=_t<0?L+-_t:"power"!==St?"+"+_t:String(_t),"e"===St||"E"===St?Ue+=St+It:"power"===St?Ue+="\xd710<sup>"+It+"</sup>":"B"===St&&9===_t?Ue+="B":Ge(St)&&(Ue+=We[_t/3+5])),At?L+Ue:Ue}function at(Ue,$e){if(Ue){var dt=Object.keys(H).reduce(function(ut,At){return-1!==$e.indexOf(At)&&H[At].forEach(function(wt){ut[wt]=1}),ut},{});Object.keys(Ue).forEach(function(ut){dt[ut]||(1===ut.length?Ue[ut]=0:delete Ue[ut])})}}function mt(Ue,$e){for(var dt=[],ut={},At=0;At<$e.length;At++){var wt=$e[At];ut[wt.text2]?ut[wt.text2].push(wt.x):ut[wt.text2]=[wt.x]}for(var St in ut)dt.push(Be(Ue,M.interp(ut[St],.5),St));return dt}function ct(Ue){return void 0!==Ue.periodX?Ue.periodX:Ue.x}function kt(Ue){return[Ue.text,Ue.x,Ue.axInfo,Ue.font,Ue.fontSize,Ue.fontColor].join("_")}function Dt(Ue){var $e=Ue.title.font.size,dt=(Ue.title.text.match(c.BR_TAG_ALL)||[]).length;return Ue.title.hasOwnProperty("standoff")?dt?$e*(se+dt*re):$e*se:dt?$e*(dt+1)*re:$e}function Et(Ue,$e){var dt=Ue.l2p($e);return dt>1&&dt<Ue._length-1}function ht(Ue){var $e=D.select(Ue),dt=$e.select(".text-math-group");return dt.empty()?$e.select("text"):dt}function pt(Ue){return Ue._id+".automargin"}function Pt(Ue){return pt(Ue)+".mirror"}function zt(Ue){return Ue._id+".rangeslider"}function Ht(Ue,$e){for(var dt=0;dt<$e.length;dt++)-1===Ue.indexOf($e[dt])&&Ue.push($e[dt])}function Lt(Ue,$e,dt){var ut,At,wt=[],St=[],_t=Ue.layout;for(ut=0;ut<$e.length;ut++)wt.push(Q.getFromId(Ue,$e[ut]));for(ut=0;ut<dt.length;ut++)St.push(Q.getFromId(Ue,dt[ut]));var Rt=Object.keys(o),bt=["anchor","domain","overlaying","position","side","tickangle","editType"],Tt=["linear","log"];for(ut=0;ut<Rt.length;ut++){var It=Rt[ut],Wt=wt[0][It],$t=St[0][It],Qt=!0,pn=!1,en=!1;if("_"!==It.charAt(0)&&"function"!=typeof Wt&&-1===bt.indexOf(It)){for(At=1;At<wt.length&&Qt;At++){var nn=wt[At][It];"type"===It&&-1!==Tt.indexOf(Wt)&&-1!==Tt.indexOf(nn)&&Wt!==nn?pn=!0:nn!==Wt&&(Qt=!1)}for(At=1;At<St.length&&Qt;At++){var fn=St[At][It];"type"===It&&-1!==Tt.indexOf($t)&&-1!==Tt.indexOf(fn)&&$t!==fn?en=!0:St[At][It]!==$t&&(Qt=!1)}Qt&&(pn&&(_t[wt[0]._name].type="linear"),en&&(_t[St[0]._name].type="linear"),tt(_t,It,wt,St,Ue._fullLayout._dfltTitle))}}for(ut=0;ut<Ue._fullLayout.annotations.length;ut++){var On=Ue._fullLayout.annotations[ut];-1!==$e.indexOf(On.xref)&&-1!==dt.indexOf(On.yref)&&M.swapAttrs(_t.annotations[ut],["?"])}}function tt(Ue,$e,dt,ut,At){var wt,St=M.nestedProperty,_t=St(Ue[dt[0]._name],$e).get(),Rt=St(Ue[ut[0]._name],$e).get();for("title"===$e&&(_t&&_t.text===At.x&&(_t.text=At.y),Rt&&Rt.text===At.y&&(Rt.text=At.x)),wt=0;wt<dt.length;wt++)St(Ue,dt[wt]._name+"."+$e).set(Rt);for(wt=0;wt<ut.length;wt++)St(Ue,ut[wt]._name+"."+$e).set(_t)}function it(Ue){return"angularaxis"===Ue._id}function Je(Ue,$e){for(var dt=$e._rangebreaks.length,ut=0;ut<dt;ut++){var At=$e._rangebreaks[ut];if(Ue>=At.min&&Ue<At.max)return At.max}return Ue}function ot(Ue){return-1!==(Ue.ticklabelposition||"").indexOf("inside")}function gt(Ue,$e){ot(Ue._anchorAxis||{})&&Ue._hideCounterAxisInsideTickLabels&&Ue._hideCounterAxisInsideTickLabels($e)}function ft(Ue,$e,dt,ut){var At,wt="free"===Ue.anchor||void 0!==Ue.overlaying&&!1!==Ue.overlaying?Ue.overlaying:Ue._id;At=ut?"right"===Ue.side?$e:-$e:$e,wt in dt||(dt[wt]={}),Ue.side in dt[wt]||(dt[wt][Ue.side]=0),dt[wt][Ue.side]+=At}Q.getTickFormat=function(Ue){var $e,dt,ut,At,wt,St,_t,Rt,Wt,$t,Qt,pn,en,nn;function bt(Wt){return"string"!=typeof Wt?Wt:Number(Wt.replace("M",""))*x}function Tt(Wt,$t){var Qt=["L","D"];if(typeof Wt==typeof $t){if("number"==typeof Wt)return Wt-$t;var pn=Qt.indexOf(Wt.charAt(0)),en=Qt.indexOf($t.charAt(0));return pn===en?Number(Wt.replace(/(L|D)/g,""))-Number($t.replace(/(L|D)/g,"")):pn-en}return"number"==typeof Wt?1:-1}if(Ue.tickformatstops&&Ue.tickformatstops.length>0)switch(Ue.type){case"date":case"linear":for($e=0;$e<Ue.tickformatstops.length;$e++)if((ut=Ue.tickformatstops[$e]).enabled&&(At=Ue.dtick,St=void 0,void 0,void 0,St=bt||function(Wt){return Wt},Rt=(wt=ut.dtickrange)[1],(!(_t=wt[0])&&"number"!=typeof _t||St(_t)<=St(At))&&(!Rt&&"number"!=typeof Rt||St(Rt)>=St(At)))){dt=ut;break}break;case"log":for($e=0;$e<Ue.tickformatstops.length;$e++)if((ut=Ue.tickformatstops[$e]).enabled&&(Qt=void 0,pn=void 0,en=void 0,nn=void 0,Qt=null===($t=ut.dtickrange)[0],pn=null===$t[1],en=Tt(Wt=Ue.dtick,$t[0])>=0,nn=Tt(Wt,$t[1])<=0,(Qt||en)&&(pn||nn))){dt=ut;break}}return dt?dt.value:Ue.tickformat},Q.getSubplots=function(Ue,$e){var dt=Ue._fullLayout._subplots,ut=dt.cartesian.concat(dt.gl2d||[]),At=$e?Q.findSubplotsWithAxis(ut,$e):ut;return At.sort(function(wt,St){var _t=wt.substr(1).split("y"),Rt=St.substr(1).split("y");return _t[0]===Rt[0]?+_t[1]-+Rt[1]:+_t[0]-+Rt[0]}),At},Q.findSubplotsWithAxis=function(Ue,$e){for(var dt=new RegExp("x"===$e._id.charAt(0)?"^"+$e._id+"y":$e._id+"$"),ut=[],At=0;At<Ue.length;At++){var wt=Ue[At];dt.test(wt)&&ut.push(wt)}return ut},Q.makeClipPaths=function(Ue){var $e=Ue._fullLayout;if(!$e._hasOnlyLargeSploms){var dt,ut,At={_offset:0,_length:$e.width,_id:""},wt={_offset:0,_length:$e.height,_id:""},St=Q.list(Ue,"x",!0),_t=Q.list(Ue,"y",!0),Rt=[];for(dt=0;dt<St.length;dt++)for(Rt.push({x:St[dt],y:wt}),ut=0;ut<_t.length;ut++)0===dt&&Rt.push({x:At,y:_t[ut]}),Rt.push({x:St[dt],y:_t[ut]});var bt=$e._clips.selectAll(".axesclip").data(Rt,function(Tt){return Tt.x._id+Tt.y._id});bt.enter().append("clipPath").classed("axesclip",!0).attr("id",function(Tt){return"clip"+$e._uid+Tt.x._id+Tt.y._id}).append("rect"),bt.exit().remove(),bt.each(function(Tt){D.select(this).select("rect").attr({x:Tt.x._offset||0,y:Tt.y._offset||0,width:Tt.x._length||1,height:Tt.y._length||1})})}},Q.draw=function(Ue,$e,dt){var ut=Ue._fullLayout;"redraw"===$e&&ut._paper.selectAll("g.subplot").each(function(_t){var bt=ut._plots[_t[0]];if(bt){var Tt=bt.xaxis,It=bt.yaxis;bt.xaxislayer.selectAll("."+Tt._id+"tick").remove(),bt.yaxislayer.selectAll("."+It._id+"tick").remove(),bt.xaxislayer.selectAll("."+Tt._id+"tick2").remove(),bt.yaxislayer.selectAll("."+It._id+"tick2").remove(),bt.xaxislayer.selectAll("."+Tt._id+"divider").remove(),bt.yaxislayer.selectAll("."+It._id+"divider").remove(),bt.minorGridlayer&&bt.minorGridlayer.selectAll("path").remove(),bt.gridlayer&&bt.gridlayer.selectAll("path").remove(),bt.zerolinelayer&&bt.zerolinelayer.selectAll("path").remove(),ut._infolayer.select(".g-"+Tt._id+"title").remove(),ut._infolayer.select(".g-"+It._id+"title").remove()}});var At=$e&&"redraw"!==$e?$e:Q.listIds(Ue),wt=Q.list(Ue).filter(function(_t){return _t.autoshift}).map(function(_t){return _t.overlaying});At.map(function(_t){var Rt=Q.getFromId(Ue,_t);if("sync"===Rt.tickmode&&Rt.overlaying){var bt=At.findIndex(function(Tt){return Tt===Rt.overlaying});bt>=0&&At.unshift(At.splice(bt,1).shift())}});var St={false:{left:0,right:0}};return M.syncOrAsync(At.map(function(_t){return function(){if(_t){var Rt=Q.getFromId(Ue,_t);dt||(dt={}),dt.axShifts=St,dt.overlayingShiftedAx=wt;var bt=Q.drawOne(Ue,Rt,dt);return Rt._shiftPusher&&ft(Rt,Rt._fullDepth||0,St,!0),Rt._r=Rt.range.slice(),Rt._rl=M.simpleMap(Rt._r,Rt.r2l),bt}}}))},Q.drawOne=function(Ue,$e,dt){var ut,At,wt,St=(dt=dt||{}).axShifts||{},_t=dt.overlayingShiftedAx||[];$e.setScale();var Mn,Rt=Ue._fullLayout,bt=$e._id,Tt=bt.charAt(0),It=Q.counterLetter(bt),Wt=Rt._plots[$e._mainSubplot];if(Wt){if($e._shiftPusher=$e.autoshift||-1!==_t.indexOf($e._id)||-1!==_t.indexOf($e.overlaying),$e._shiftPusher&"free"===$e.anchor){var $t=$e.linewidth/2||0;"inside"===$e.ticks&&($t+=$e.ticklen),ft($e,$t,St,!0),ft($e,$e.shift||0,St,!1)}!0===dt.skipTitle&&void 0!==$e._shift||($e._shift=(Mn=$e).autoshift?St[Mn.overlaying][Mn.side]:Mn.shift||0);var Qt=Wt[Tt+"axislayer"],pn=$e._mainLinePosition,en=pn+=$e._shift,nn=$e._mainMirrorPosition,fn=$e._vals=Q.calcTicks($e),On=[$e.mirror,en,nn].join("_");for(ut=0;ut<fn.length;ut++)fn[ut].axInfo=On;$e._selections={},$e._tickAngles&&($e._prevTickAngles=$e._tickAngles),$e._tickAngles={},$e._depth=null;var Un={};if($e.visible){var Sn,on,vn=Q.makeTransTickFn($e),un=Q.makeTransTickLabelFn($e),Tn="inside"===$e.ticks,kn="outside"===$e.ticks;if("boundaries"===$e.tickson){var xn=function(Mn,ln){var cn,wn=[],An=function(Gn,Yn){var hr=Gn.xbnd[Yn];null!==hr&&wn.push(M.extendFlat({},Gn,{x:hr}))};if(ln.length){for(cn=0;cn<ln.length;cn++)An(ln[cn],0);An(ln[cn-1],1)}return wn}(0,fn);on=Q.clipEnds($e,xn),Sn=Tn?on:xn}else on=Q.clipEnds($e,fn),Sn=Tn&&"period"!==$e.ticklabelmode?on:fn;var Rn,Hn=$e._gridVals=on,En=function(Mn,ln){var cn,wn,An=[],Gn=ln.length&&ln[ln.length-1].x<ln[0].x,Yn=function(ir,_r){var ur=ir.xbnd[_r];null!==ur&&An.push(M.extendFlat({},ir,{x:ur}))};if(Mn.showdividers&&ln.length){for(cn=0;cn<ln.length;cn++){var hr=ln[cn];hr.text2!==wn&&Yn(hr,Gn?1:0),wn=hr.text2}Yn(ln[cn-1],Gn?0:1)}return An}($e,fn);if(!Rt._hasOnlyLargeSploms){var Wn=$e._subplotsWith,gr={};for(ut=0;ut<Wn.length;ut++){var lr=(wt=Rt._plots[At=Wn[ut]])[It+"axis"],wr=lr._mainAxis._id;if(!gr[wr]){gr[wr]=1;var dr="x"===Tt?"M0,"+lr._offset+"v"+lr._length:"M"+lr._offset+",0h"+lr._length;Q.drawGrid(Ue,$e,{vals:Hn,counterAxis:lr,layer:wt.gridlayer.select("."+bt),minorLayer:wt.minorGridlayer.select("."+bt),path:dr,transFn:vn}),Q.drawZeroLine(Ue,$e,{counterAxis:lr,layer:wt.zerolinelayer,path:dr,transFn:vn})}}}var mr=Q.getTickSigns($e),Ir=Q.getTickSigns($e,"minor");if($e.ticks||$e.minor&&$e.minor.ticks){var qt,tn,bn,Cn,Bn=Q.makeTickPath($e,en,mr[2]),sr=Q.makeTickPath($e,en,Ir[2],{minor:!0});if($e._anchorAxis&&$e.mirror&&!0!==$e.mirror?(qt=Q.makeTickPath($e,nn,mr[3]),tn=Q.makeTickPath($e,nn,Ir[3],{minor:!0}),bn=Bn+qt,Cn=sr+tn):(qt="",tn="",bn=Bn,Cn=sr),$e.showdividers&&kn&&"boundaries"===$e.tickson){var yn={};for(ut=0;ut<En.length;ut++)yn[En[ut].x]=1;Rn=function(Mn){return yn[Mn.x]?qt:bn}}else Rn=function(Mn){return Mn.minor?Cn:bn}}if(Q.drawTicks(Ue,$e,{vals:Sn,layer:Qt,path:Rn,transFn:vn}),"allticks"===$e.mirror){var Zn=Object.keys($e._linepositions||{});for(ut=0;ut<Zn.length;ut++){wt=Rt._plots[At=Zn[ut]];var Xn=$e._linepositions[At]||[],Nn=Xn[1],Ft=Xn[2],an=Q.makeTickPath($e,Xn[0],Ft?mr[0]:Ir[0],{minor:Ft})+Q.makeTickPath($e,Nn,Ft?mr[1]:Ir[1],{minor:Ft});Q.drawTicks(Ue,$e,{vals:Sn,layer:wt[Tt+"axislayer"],path:an,transFn:vn})}}var hn=[];if(hn.push(function(){return Q.drawLabels(Ue,$e,{vals:fn,layer:Qt,plotinfo:wt,transFn:un,labelFns:Q.makeLabelFns($e,en)})}),"multicategory"===$e.type){var Dn={x:2,y:10}[Tt];hn.push(function(){var Mn={x:"height",y:"width"}[Tt],ln=Vn()[Mn]+Dn+($e._tickAngles[bt+"tick"]?$e.tickfont.size*re:0);return Q.drawLabels(Ue,$e,{vals:mt($e,fn),layer:Qt,cls:bt+"tick2",repositionOnUpdate:!0,secondary:!0,transFn:vn,labelFns:Q.makeLabelFns($e,en+ln*mr[4])})}),hn.push(function(){return $e._depth=mr[4]*(Vn("tick2")[$e.side]-en),function(Mn,ln,cn){var wn=ln._id+"divider",An=cn.vals,Gn=cn.layer.selectAll("path."+wn).data(An,kt);Gn.exit().remove(),Gn.enter().insert("path",":first-child").classed(wn,1).classed("crisp",1).call(s.stroke,ln.dividercolor).style("stroke-width",a.crispRound(Mn,ln.dividerwidth,1)+"px"),Gn.attr("transform",cn.transFn).attr("d",cn.path)}(Ue,$e,{vals:En,layer:Qt,path:Q.makeTickPath($e,en,mr[4],{len:$e._depth}),transFn:vn})})}else $e.title.hasOwnProperty("standoff")&&hn.push(function(){$e._depth=mr[4]*(Vn()[$e.side]-en)});var Ln=k.getComponentMethod("rangeslider","isVisible")($e);return dt.skipTitle||Ln&&"bottom"===$e.side||hn.push(function(){return function(Mn,ln){var cn,wn=Mn._fullLayout,An=ln._id,Gn=An.charAt(0),Yn=ln.title.font.size;if(ln.title.hasOwnProperty("standoff"))cn=ln._depth+ln.title.standoff+Dt(ln);else{var hr=ot(ln);if("multicategory"===ln.type)cn=ln._depth;else{var ir=1.5*Yn;hr&&(ir=.5*Yn,"outside"===ln.ticks&&(ir+=ln.ticklen)),cn=10+ir+(ln.linewidth?ln.linewidth-1:0)}hr||(cn+="x"===Gn?"top"===ln.side?Yn*(ln.showticklabels?1:0):Yn*(ln.showticklabels?1.5:.5):"right"===ln.side?Yn*(ln.showticklabels?1:.5):Yn*(ln.showticklabels?.5:0))}var _r,ur,or,Tr,Mr=Q.getPxPosition(Mn,ln);if("x"===Gn?(ur=ln._offset+ln._length/2,or="top"===ln.side?Mr-cn:Mr+cn):(or=ln._offset+ln._length/2,ur="right"===ln.side?Mr+cn:Mr-cn,_r={rotate:"-90",offset:0}),"multicategory"!==ln.type){var Or=ln._selections[ln._id+"tick"];if(Tr={selection:Or,side:ln.side},Or&&Or.node()&&Or.node().parentNode){var Qn=a.getTranslate(Or.node().parentNode);Tr.offsetLeft=Qn.x,Tr.offsetTop=Qn.y}ln.title.hasOwnProperty("standoff")&&(Tr.pad=0)}return ln._titleStandoff=cn,i.draw(Mn,An+"title",{propContainer:ln,propName:ln._name+".title.text",placeholder:wn._dfltTitle[Gn],avoid:Tr,transform:_r,attributes:{x:ur,y:or,"text-anchor":"middle"}})}(Ue,$e)}),hn.push(function(){var Mn,ln,cn,wn,An=$e.side.charAt(0),Gn=ne[$e.side].charAt(0),Yn=Q.getPxPosition(Ue,$e),hr=kn?$e.ticklen:0;($e.automargin||Ln||$e._shiftPusher)&&("multicategory"===$e.type?Mn=Vn("tick2"):(Mn=Vn(),"x"===Tt&&"b"===An&&($e._depth=Math.max(Mn.width>0?Mn.bottom-Yn:0,hr))));var ir=0,_r=0;if($e._shiftPusher&&(ir=Math.max(hr,Mn.height>0?"l"===An?Yn-Mn.left:Mn.right-Yn:0),$e.title.text!==Rt._dfltTitle[Tt]&&(_r=($e._titleStandoff||0)+($e._titleScoot||0),"l"===An&&(_r+=Dt($e))),$e._fullDepth=Math.max(ir,_r)),$e.automargin){ln={x:0,y:0,r:0,l:0,t:0,b:0};var ur=[0,1],or="number"==typeof $e._shift?$e._shift:0;if("x"===Tt){if("b"===An?ln[An]=$e._depth:(ln[An]=$e._depth=Math.max(Mn.width>0?Yn-Mn.top:0,hr),ur.reverse()),Mn.width>0){var Tr=Mn.right-($e._offset+$e._length);Tr>0&&(ln.xr=1,ln.r=Tr);var Mr=$e._offset-Mn.left;Mr>0&&(ln.xl=0,ln.l=Mr)}}else if("l"===An?($e._depth=Math.max(Mn.height>0?Yn-Mn.left:0,hr),ln[An]=$e._depth-or):($e._depth=Math.max(Mn.height>0?Mn.right-Yn:0,hr),ln[An]=$e._depth+or,ur.reverse()),Mn.height>0){var Or=Mn.bottom-($e._offset+$e._length);Or>0&&(ln.yb=0,ln.b=Or);var Qn=$e._offset-Mn.top;Qn>0&&(ln.yt=1,ln.t=Qn)}ln[It]="free"===$e.anchor?$e.position:$e._anchorAxis.domain[ur[0]],$e.title.text!==Rt._dfltTitle[Tt]&&(ln[An]+=Dt($e)+($e.title.standoff||0)),$e.mirror&&"free"!==$e.anchor&&((cn={x:0,y:0,r:0,l:0,t:0,b:0})[Gn]=$e.linewidth,$e.mirror&&!0!==$e.mirror&&(cn[Gn]+=hr),!0===$e.mirror||"ticks"===$e.mirror?cn[It]=$e._anchorAxis.domain[ur[1]]:"all"!==$e.mirror&&"allticks"!==$e.mirror||(cn[It]=[$e._counterDomainMin,$e._counterDomainMax][ur[1]]))}Ln&&(wn=k.getComponentMethod("rangeslider","autoMarginOpts")(Ue,$e)),"string"==typeof $e.automargin&&(at(ln,$e.automargin),at(cn,$e.automargin)),f.autoMargin(Ue,pt($e),ln),f.autoMargin(Ue,Pt($e),cn),f.autoMargin(Ue,zt($e),wn)}),M.syncOrAsync(hn)}}function Vn(Mn){var cn,wn,An,Gn,Yn,hr,ln=bt+(Mn||"tick");return Un[ln]||(Un[ln]=((cn=$e)._selections[wn=ln].size()?(An=1/0,Gn=-1/0,Yn=1/0,hr=-1/0,cn._selections[wn].each(function(){var ir=ht(this),_r=a.bBox(ir.node().parentNode);An=Math.min(An,_r.top),Gn=Math.max(Gn,_r.bottom),Yn=Math.min(Yn,_r.left),hr=Math.max(hr,_r.right)})):(An=0,Gn=0,Yn=0,hr=0),{top:An,bottom:Gn,left:Yn,right:hr,height:Gn-An,width:hr-Yn})),Un[ln]}},Q.getTickSigns=function(Ue,$e){var dt=Ue._id.charAt(0),At=Ue.side==={x:"top",y:"right"}[dt]?1:-1,wt=[-1,1,At,-At];return"inside"!==($e?(Ue.minor||{}).ticks:Ue.ticks)==("x"===dt)&&(wt=wt.map(function(St){return-St})),Ue.side&&wt.push({l:-1,t:-1,r:1,b:1}[Ue.side.charAt(0)]),wt},Q.makeTransTickFn=function(Ue){return"x"===Ue._id.charAt(0)?function($e){return y(Ue._offset+Ue.l2p($e.x),0)}:function($e){return y(0,Ue._offset+Ue.l2p($e.x))}},Q.makeTransTickLabelFn=function(Ue){var $e=function(At){var wt=At.ticklabelposition||"",St=function(nn){return-1!==wt.indexOf(nn)},_t=St("top"),Rt=St("left"),bt=St("right"),Tt=St("bottom"),It=St("inside"),Wt=Tt||Rt||_t||bt;if(!Wt&&!It)return[0,0];var $t=At.side,Qt=Wt?(At.tickwidth||0)/2:0,pn=3,en=At.tickfont?At.tickfont.size:12;return(Tt||_t)&&(Qt+=en*se,pn+=(At.linewidth||0)/2),(Rt||bt)&&(Qt+=(At.linewidth||0)/2,pn+=3),It&&"top"===$t&&(pn-=en*(1-se)),(Rt||_t)&&(Qt=-Qt),"bottom"!==$t&&"right"!==$t||(pn=-pn),[Wt?Qt:0,It?pn:0]}(Ue),dt=$e[0],ut=$e[1];return"x"===Ue._id.charAt(0)?function(At){return y(dt+Ue._offset+Ue.l2p(ct(At)),ut)}:function(At){return y(ut,dt+Ue._offset+Ue.l2p(ct(At)))}},Q.makeTickPath=function(Ue,$e,dt,ut){ut||(ut={});var At=ut.minor;if(At&&!Ue.minor)return"";var wt=void 0!==ut.len?ut.len:At?Ue.minor.ticklen:Ue.ticklen,St=Ue._id.charAt(0),_t=(Ue.linewidth||1)/2;return"x"===St?"M0,"+($e+_t*dt)+"v"+wt*dt:"M"+($e+_t*dt)+",0h"+wt*dt},Q.makeLabelFns=function(Ue,$e,dt){var ut=Ue.ticklabelposition||"",At=function(xn){return-1!==ut.indexOf(xn)},wt=At("top"),St=At("left"),_t=At("right"),Rt=At("bottom")||St||wt||_t,bt=At("inside"),Tt="inside"===ut&&"inside"===Ue.ticks||!bt&&"outside"===Ue.ticks&&"boundaries"!==Ue.tickson,It=0,Wt=0,$t=Tt?Ue.ticklen:0;if(bt?$t*=-1:Rt&&($t=0),Tt&&(It+=$t,dt)){var Qt=M.deg2rad(dt);It=$t*Math.cos(Qt)+1,Wt=$t*Math.sin(Qt)}Ue.showticklabels&&(Tt||Ue.showline)&&(It+=.2*Ue.tickfont.size);var pn,en,nn,fn,On,Un={labelStandoff:It+=(Ue.linewidth||1)/2*(bt?-1:1),labelShift:Wt},Sn=0,on=Ue.side,vn=Ue._id.charAt(0),un=Ue.tickangle;if("x"===vn)fn=(On=!bt&&"bottom"===on||bt&&"top"===on)?1:-1,bt&&(fn*=-1),pn=Wt*fn,en=$e+It*fn,nn=On?1:-.2,90===Math.abs(un)&&(bt?nn+=Z:nn=-90===un&&"bottom"===on?se:90===un&&"top"===on?Z:.5,Sn=Z/2*(un/90)),Un.xFn=function(xn){return xn.dx+pn+Sn*xn.fontSize},Un.yFn=function(xn){return xn.dy+en+xn.fontSize*nn},Un.anchorFn=function(xn,Rn){if(Rt){if(St)return"end";if(_t)return"start"}return E(Rn)&&0!==Rn&&180!==Rn?Rn*fn<0!==bt?"end":"start":"middle"},Un.heightFn=function(xn,Rn,Hn){return Rn<-60||Rn>60?-.5*Hn:"top"===Ue.side!==bt?-Hn:0};else if("y"===vn){if(fn=(On=!bt&&"left"===on||bt&&"right"===on)?1:-1,bt&&(fn*=-1),pn=It,en=Wt*fn,nn=0,bt||90!==Math.abs(un)||(nn=-90===un&&"left"===on||90===un&&"right"===on?se:.5),bt){var Tn=E(un)?+un:0;if(0!==Tn){var kn=M.deg2rad(Tn);Sn=Math.abs(Math.sin(kn))*se*fn,nn=0}}Un.xFn=function(xn){return xn.dx+$e-(pn+xn.fontSize*nn)*fn+Sn*xn.fontSize},Un.yFn=function(xn){return xn.dy+en+xn.fontSize*Z},Un.anchorFn=function(xn,Rn){return E(Rn)&&90===Math.abs(Rn)?"middle":On?"end":"start"},Un.heightFn=function(xn,Rn,Hn){return"right"===Ue.side&&(Rn*=-1),Rn<-30?-Hn:Rn<30?-.5*Hn:0}}return Un},Q.drawTicks=function(Ue,$e,dt){dt=dt||{};var ut=$e._id+"tick",At=[].concat($e.minor&&$e.minor.ticks?dt.vals.filter(function(St){return St.minor&&!St.noTick}):[]).concat($e.ticks?dt.vals.filter(function(St){return!St.minor&&!St.noTick}):[]),wt=dt.layer.selectAll("path."+ut).data(At,kt);wt.exit().remove(),wt.enter().append("path").classed(ut,1).classed("ticks",1).classed("crisp",!1!==dt.crisp).each(function(St){return s.stroke(D.select(this),St.minor?$e.minor.tickcolor:$e.tickcolor)}).style("stroke-width",function(St){return a.crispRound(Ue,St.minor?$e.minor.tickwidth:$e.tickwidth,1)+"px"}).attr("d",dt.path).style("display",null),gt($e,[Y]),wt.attr("transform",dt.transFn)},Q.drawGrid=function(Ue,$e,dt){if(dt=dt||{},"sync"!==$e.tickmode){var ut=$e._id+"grid",At=$e.minor&&$e.minor.showgrid,wt=At?dt.vals.filter(function(nn){return nn.minor}):[],St=$e.showgrid?dt.vals.filter(function(nn){return!nn.minor}):[],_t=dt.counterAxis;if(_t&&Q.shouldShowZeroLine(Ue,$e,_t))for(var Rt="array"===$e.tickmode,bt=0;bt<St.length;bt++){var Tt=St[bt].x;if(Rt?!Tt:Math.abs(Tt)<$e.dtick/100){if(St=St.slice(0,bt).concat(St.slice(bt+1)),!Rt)break;bt--}}$e._gw=a.crispRound(Ue,$e.gridwidth,1);for(var It=At?a.crispRound(Ue,$e.minor.gridwidth,1):0,Wt=dt.layer,$t=dt.minorLayer,Qt=1;Qt>=0;Qt--){var pn=Qt?Wt:$t;if(pn){var en=pn.selectAll("path."+ut).data(Qt?St:wt,kt);en.exit().remove(),en.enter().append("path").classed(ut,1).classed("crisp",!1!==dt.crisp),en.attr("transform",dt.transFn).attr("d",dt.path).each(function(nn){return s.stroke(D.select(this),nn.minor?$e.minor.gridcolor:$e.gridcolor||"#ddd")}).style("stroke-dasharray",function(nn){return a.dashStyle(nn.minor?$e.minor.griddash:$e.griddash,nn.minor?$e.minor.gridwidth:$e.gridwidth)}).style("stroke-width",function(nn){return(nn.minor?It:$e._gw)+"px"}).style("display",null),"function"==typeof dt.path&&en.attr("d",dt.path)}}gt($e,[X,F])}},Q.drawZeroLine=function(Ue,$e,dt){var ut=$e._id+"zl",At=Q.shouldShowZeroLine(Ue,$e,(dt=dt||dt).counterAxis),wt=dt.layer.selectAll("path."+ut).data(At?[{x:0,id:$e._id}]:[]);wt.exit().remove(),wt.enter().append("path").classed(ut,1).classed("zl",1).classed("crisp",!1!==dt.crisp).each(function(){dt.layer.selectAll("path").sort(function(St,_t){return ce(St.id,_t.id)})}),wt.attr("transform",dt.transFn).attr("d",dt.path).call(s.stroke,$e.zerolinecolor||s.defaultLine).style("stroke-width",a.crispRound(Ue,$e.zerolinewidth,$e._gw||1)+"px").style("display",null),gt($e,[j])},Q.drawLabels=function(Ue,$e,dt){dt=dt||{};var ut=Ue._fullLayout,At=$e._id,wt=At.charAt(0),St=dt.cls||At+"tick",_t=dt.vals.filter(function(Rn){return Rn.text}),Rt=dt.labelFns,bt=dt.secondary?0:$e.tickangle,Tt=($e._prevTickAngles||{})[St],It=dt.layer.selectAll("g."+St).data($e.showticklabels?_t:[],kt),Wt=[];function $t(Rn,Hn){Rn.each(function(En){var Wn=D.select(this),gr=Wn.select(".text-math-group"),lr=Rt.anchorFn(En,Hn),wr=dt.transFn.call(Wn.node(),En)+(E(Hn)&&0!=+Hn?" rotate("+Hn+","+Rt.xFn(En)+","+(Rt.yFn(En)-En.fontSize/2)+")":""),dr=c.lineCount(Wn),mr=re*En.fontSize,Ir=Rt.heightFn(En,E(Hn)?+Hn:0,(dr-1)*mr);if(Ir&&(wr+=y(0,Ir)),gr.empty()){var qt=Wn.select("text");qt.attr({transform:wr,"text-anchor":lr}),qt.style("opacity",1),$e._adjustTickLabelsOverflow&&$e._adjustTickLabelsOverflow()}else{var tn=a.bBox(gr.node()).width*{end:-.5,start:.5}[lr];gr.attr("transform",wr+y(tn,0))}})}It.enter().append("g").classed(St,1).append("text").attr("text-anchor","middle").each(function(Rn){var Hn=D.select(this),En=Ue._promises.length;Hn.call(c.positionText,Rt.xFn(Rn),Rt.yFn(Rn)).call(a.font,Rn.font,Rn.fontSize,Rn.fontColor).text(Rn.text).call(c.convertToTspans,Ue),Ue._promises[En]?Wt.push(Ue._promises.pop().then(function(){$t(Hn,bt)})):$t(Hn,bt)}),gt($e,[G]),It.exit().remove(),dt.repositionOnUpdate&&It.each(function(Rn){D.select(this).select("text").call(c.positionText,Rt.xFn(Rn),Rt.yFn(Rn))}),$e._adjustTickLabelsOverflow=function(){var Rn=$e.ticklabeloverflow;if(Rn&&"allow"!==Rn){var Hn=-1!==Rn.indexOf("hide"),En="x"===$e._id.charAt(0),Wn=0,gr=En?Ue._fullLayout.width:Ue._fullLayout.height;if(-1!==Rn.indexOf("domain")){var lr=M.simpleMap($e.range,$e.r2l);Wn=$e.l2p(lr[0])+$e._offset,gr=$e.l2p(lr[1])+$e._offset}var wr=Math.min(Wn,gr),dr=Math.max(Wn,gr),mr=$e.side,Ir=1/0,qt=-1/0;for(var tn in It.each(function(Bn){var sr=D.select(this);if(sr.select(".text-math-group").empty()){var yn=a.bBox(sr.node()),Zn=0;En?(yn.right>dr||yn.left<wr)&&(Zn=1):(yn.bottom>dr||yn.top+($e.tickangle?0:Bn.fontSize/4)<wr)&&(Zn=1);var Xn=sr.select("text");Zn?Hn&&Xn.style("opacity",0):(Xn.style("opacity",1),Ir="bottom"===mr||"right"===mr?Math.min(Ir,En?yn.top:yn.left):-1/0,qt="top"===mr||"left"===mr?Math.max(qt,En?yn.bottom:yn.right):1/0)}}),ut._plots){var bn=ut._plots[tn];if($e._id===bn.xaxis._id||$e._id===bn.yaxis._id){var Cn=En?bn.yaxis:bn.xaxis;Cn&&(Cn["_visibleLabelMin_"+$e._id]=Ir,Cn["_visibleLabelMax_"+$e._id]=qt)}}}},$e._hideCounterAxisInsideTickLabels=function(Rn){var Hn="x"===$e._id.charAt(0),En=[];for(var Wn in ut._plots){var gr=ut._plots[Wn];$e._id!==gr.xaxis._id&&$e._id!==gr.yaxis._id||En.push(Hn?gr.yaxis:gr.xaxis)}En.forEach(function(lr,wr){lr&&ot(lr)&&(Rn||[j,F,X,Y,G]).forEach(function(dr){var mr="tick"===dr.K&&"text"===dr.L&&"period"===$e.ticklabelmode,Ir=ut._plots[$e._mainSubplot];(dr.K===j.K?Ir.zerolinelayer.selectAll("."+$e._id+"zl"):dr.K===F.K?Ir.minorGridlayer.selectAll("."+$e._id):dr.K===X.K?Ir.gridlayer.selectAll("."+$e._id):Ir[$e._id.charAt(0)+"axislayer"]).each(function(){var qt=D.select(this);dr.L&&(qt=qt.selectAll(dr.L)),qt.each(function(tn){var bn=$e.l2p(mr?ct(tn):tn.x)+$e._offset,Cn=D.select(this);bn<$e["_visibleLabelMax_"+lr._id]&&bn>$e["_visibleLabelMin_"+lr._id]?Cn.style("display","none"):"tick"!==dr.K||wr||Cn.style("display",null)})})})})},$t(It,Tt+1?Tt:bt);var Qt=null;$e._selections&&($e._selections[St]=It);var pn=[function(){return Wt.length&&Promise.all(Wt)}];$e.automargin&&ut._redrawFromAutoMarginCount&&90===Tt?(Qt=90,pn.push(function(){$t(It,Tt)})):pn.push(function(){if($t(It,bt),_t.length&&"x"===wt&&!E(bt)&&("log"!==$e.type||"D"!==String($e.dtick).charAt(0))){Qt=0;var Rn,Hn=0,En=[];if(It.each(function(sr){Hn=Math.max(Hn,sr.fontSize);var yn=$e.l2p(sr.x),Zn=ht(this),Xn=a.bBox(Zn.node());En.push({top:0,bottom:10,height:10,left:yn-Xn.width/2,right:yn+Xn.width/2+2,width:Xn.width+2})}),"boundaries"!==$e.tickson&&!$e.showdividers||dt.secondary){var Wn=_t.length,gr=Math.abs((_t[Wn-1].x-_t[0].x)*$e._m)/(Wn-1),lr=$e.ticklabelposition||"",wr=function(sr){return-1!==lr.indexOf(sr)},dr=wr("top"),mr=wr("left"),Ir=wr("right"),qt=wr("bottom")||mr||dr||Ir?($e.tickwidth||0)+6:0,tn=gr<2.5*Hn||"multicategory"===$e.type||"realaxis"===$e._name;for(Rn=0;Rn<En.length-1;Rn++)if(M.bBoxIntersect(En[Rn],En[Rn+1],qt)){Qt=tn?90:30;break}}else{var bn=2;for($e.ticks&&(bn+=$e.tickwidth/2),Rn=0;Rn<En.length;Rn++){var Cn=_t[Rn].xbnd,Bn=En[Rn];if(null!==Cn[0]&&Bn.left-$e.l2p(Cn[0])<bn||null!==Cn[1]&&$e.l2p(Cn[1])-Bn.right<bn){Qt=90;break}}}Qt&&$t(It,Qt)}}),$e._tickAngles&&pn.push(function(){$e._tickAngles[St]=null===Qt?E(bt)?bt:0:Qt});var en=function(){var Rn=0,Hn=0;return It.each(function(En,Wn){var gr,lr=ht(this);lr.select(".text-math-group").empty()&&($e._vals[Wn]&&(gr=$e._vals[Wn].bb||a.bBox(lr.node()),$e._vals[Wn].bb=gr),Rn=Math.max(Rn,gr.width),Hn=Math.max(Hn,gr.height))}),{labelsMaxW:Rn,labelsMaxH:Hn}},nn=$e._anchorAxis;if(nn&&(nn.autorange||nn.insiderange)&&ot($e)&&!fe(ut,$e._id)&&(ut._insideTickLabelsUpdaterange||(ut._insideTickLabelsUpdaterange={}),nn.autorange&&(ut._insideTickLabelsUpdaterange[nn._name+".autorange"]=nn.autorange,pn.push(en)),nn.insiderange)){var fn=en(),On="y"===$e._id.charAt(0)?fn.labelsMaxW:fn.labelsMaxH;On+=6,"inside"===$e.ticklabelposition&&(On+=$e.ticklen||0);var Un="right"===$e.side||"top"===$e.side?1:-1,Sn=1===Un?1:0,on=1===Un?0:1,vn=[];vn[on]=nn.range[on];var un=nn.d2p(nn.range[Sn]),Tn=nn.d2p(nn.range[on]),kn=Math.abs(Tn-un);kn-On>0?On*=1+On/(kn-=On):On=0,"y"!==$e._id.charAt(0)&&(On=-On),vn[Sn]=nn.p2d(nn.d2p(nn.range[Sn])+Un*On),"min"===nn.autorange||"max reversed"===nn.autorange?(vn[0]=null,nn._rangeInitial0=void 0,nn._rangeInitial1=void 0):"max"!==nn.autorange&&"min reversed"!==nn.autorange||(vn[1]=null,nn._rangeInitial0=void 0,nn._rangeInitial1=void 0),ut._insideTickLabelsUpdaterange[nn._name+".range"]=vn}var xn=M.syncOrAsync(pn);return xn&&xn.then&&Ue._promises.push(xn),xn},Q.getPxPosition=function(Ue,$e){var dt,ut=Ue._fullLayout._size,At=$e._id.charAt(0),wt=$e.side;return"free"!==$e.anchor?dt=$e._anchorAxis:"x"===At?dt={_offset:ut.t+(1-($e.position||0))*ut.h,_length:0}:"y"===At&&(dt={_offset:ut.l+($e.position||0)*ut.w+$e._shift,_length:0}),"top"===wt||"left"===wt?dt._offset:"bottom"===wt||"right"===wt?dt._offset+dt._length:void 0},Q.shouldShowZeroLine=function(Ue,$e,dt){var ut=M.simpleMap($e.range,$e.r2l);return ut[0]*ut[1]<=0&&$e.zeroline&&("linear"===$e.type||"-"===$e.type)&&!($e.rangebreaks&&$e.maskBreaks(0)===N)&&(Et($e,0)||!function(At,wt,St,_t){var Rt=St._mainAxis;if(Rt){var bt=At._fullLayout,Tt=wt._id.charAt(0),It=Q.counterLetter(wt._id),Wt=wt._offset+(Math.abs(_t[0])<Math.abs(_t[1])==("x"===Tt)?0:wt._length),$t=bt._plots[St._mainSubplot];if(!($t.mainplotinfo||$t).overlays.length)return nn(St);for(var Qt=Q.list(At,It),pn=0;pn<Qt.length;pn++){var en=Qt[pn];if(en._mainAxis===Rt&&nn(en))return!0}}function nn(fn){if(!fn.showline||!fn.linewidth)return!1;var On=Math.max((fn.linewidth+wt.zerolinewidth)/2,1);function Un(vn){return"number"==typeof vn&&Math.abs(vn-Wt)<On}if(Un(fn._mainLinePosition)||Un(fn._mainMirrorPosition))return!0;var Sn=fn._linepositions||{};for(var on in Sn)if(Un(Sn[on][0])||Un(Sn[on][1]))return!0}}(Ue,$e,dt,ut)||function(At,wt){for(var St=At._fullData,_t=wt._mainSubplot,Rt=wt._id.charAt(0),bt=0;bt<St.length;bt++){var Tt=St[bt];if(!0===Tt.visible&&Tt.xaxis+Tt.yaxis===_t&&(k.traceIs(Tt,"bar-like")&&Tt.orientation==={x:"h",y:"v"}[Rt]||Tt.fill&&Tt.fill.charAt(Tt.fill.length-1)===Rt))return!0}return!1}(Ue,$e))},Q.clipEnds=function(Ue,$e){return $e.filter(function(dt){return Et(Ue,dt.x)})},Q.allowAutoMargin=function(Ue){for(var $e=Q.list(Ue,"",!0),dt=0;dt<$e.length;dt++){var ut=$e[dt];ut.automargin&&(f.allowAutoMargin(Ue,pt(ut)),ut.mirror&&f.allowAutoMargin(Ue,Pt(ut))),k.getComponentMethod("rangeslider","isVisible")(ut)&&f.allowAutoMargin(Ue,zt(ut))}},Q.swap=function(Ue,$e){for(var dt=function(At,wt){var St,_t,Rt=[];for(St=0;St<wt.length;St++){var bt=[],Tt=At._fullData[wt[St]].xaxis,It=At._fullData[wt[St]].yaxis;if(Tt&&It){for(_t=0;_t<Rt.length;_t++)-1===Rt[_t].x.indexOf(Tt)&&-1===Rt[_t].y.indexOf(It)||bt.push(_t);if(bt.length){var Wt,$t=Rt[bt[0]];if(bt.length>1)for(_t=1;_t<bt.length;_t++)Ht($t.x,(Wt=Rt[bt[_t]]).x),Ht($t.y,Wt.y);Ht($t.x,[Tt]),Ht($t.y,[It])}else Rt.push({x:[Tt],y:[It]})}}return Rt}(Ue,$e),ut=0;ut<dt.length;ut++)Lt(Ue,dt[ut].x,dt[ut].y)}},4322:function(ae,B,r){"use strict";var D=r(92770),E=r(71828),f=r(50606).BADNUM,k=E.isArrayOrTypedArray,M=E.isDateTime,y=E.cleanNumber,c=Math.round;function i(a,o){return o?D(a):"number"==typeof a}function s(a){return Math.max(1,(a-1)/1e3)}ae.exports=function(a,o,l){var m,u=a,h=l.noMultiCategory;if(k(u)&&!u.length)return"-";if(!h&&k((m=u)[0])&&k(m[1]))return"multicategory";if(h&&Array.isArray(u[0])){for(var v=[],p=0;p<u.length;p++)if(k(u[p]))for(var T=0;T<u[p].length;T++)v.push(u[p][T]);u=v}if(function(m,w){for(var x=m.length,b=s(x),A=0,g=0,I={},S=0;S<x;S+=b){var O=m[c(S)],R=String(O);I[R]||(I[R]=1,M(O,w)&&A++,D(O)&&g++)}return A>2*g}(u,o))return"date";var _="strict"!==l.autotypenumbers;return function(m,w){for(var x=m.length,b=s(x),A=0,g=0,I={},S=0;S<x;S+=b){var O=m[c(S)],R=String(O);if(!I[R]){I[R]=1;var L=typeof O;"boolean"===L?g++:(w?y(O)!==f:"number"===L)?A++:"string"===L&&g++}}return g>2*A}(u,_)?"category":function(m,w){for(var x=m.length,b=0;b<x;b++)if(i(m[b],w))return!0;return!1}(u,_)?"linear":"-"}},71453:function(ae,B,r){"use strict";var D=r(92770),E=r(73972),f=r(71828),k=r(44467),M=r(85501),y=r(13838),c=r(26218),i=r(38701),s=r(96115),a=r(89426),o=r(15258),l=r(92128),u=r(23608),h=r(21994),v=r(85555).WEEKDAY_PATTERN,p=r(85555).HOUR_PATTERN;function T(w,x,b){function A(j,X){return f.coerce(w,x,y.rangebreaks,j,X)}if(A("enabled")){var g=A("bounds");if(g&&g.length>=2){var I,S,O="";if(2===g.length)for(I=0;I<2;I++)if(S=m(g[I])){O=v;break}var R=A("pattern",O);if(R===v)for(I=0;I<2;I++)(S=m(g[I]))&&(x.bounds[I]=g[I]=S-1);if(R)for(I=0;I<2;I++)switch(S=g[I],R){case v:if(!D(S)||(S=+S)!==Math.floor(S)||S<0||S>=7)return void(x.enabled=!1);x.bounds[I]=g[I]=S;break;case p:if(!D(S)||(S=+S)<0||S>24)return void(x.enabled=!1);x.bounds[I]=g[I]=S}if(!1===b.autorange){var L=b.range;if(L[0]<L[1]){if(g[0]<L[0]&&g[1]>L[1])return void(x.enabled=!1)}else if(g[0]>L[0]&&g[1]<L[1])return void(x.enabled=!1)}}else{var N=A("values");if(!N||!N.length)return void(x.enabled=!1);A("dvalue")}}}ae.exports=function(w,x,b,A,g){var I,S=A.letter,O=A.font||{},R=A.splomStash||{},L=b("visible",!A.visibleDflt),j=x.type||(x._template||{}).type||"-";"date"===j&&(E.getComponentMethod("calendars","handleDefaults")(w,x,"calendar",A.calendar),A.noTicklabelmode||(I=b("ticklabelmode")));var X="";A.noTicklabelposition&&"multicategory"!==j||(X=f.coerce(w,x,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:"period"===I?["outside","inside"]:"x"===S?["outside","inside","outside left","inside left","outside right","inside right"]:["outside","inside","outside top","inside top","outside bottom","inside bottom"]}},"ticklabelposition")),A.noTicklabeloverflow||b("ticklabeloverflow",-1!==X.indexOf("inside")?"hide past domain":"category"===j||"multicategory"===j?"allow":"hide past div"),h(x,g),u(w,x,b,A),o(w,x,b,A),"category"===j||A.noHover||b("hoverformat");var F=b("color"),Y=F!==y.color.dflt?F:O.color,G=R.label||g._dfltTitle[S];if(a(w,x,b,j,A),!L)return x;b("title.text",G),f.coerceFont(b,"title.font",{family:O.family,size:f.bigFont(O.size),color:Y}),c(w,x,b,j);var H=A.hasMinor;if(H&&(k.newContainer(x,"minor"),c(w,x,b,j,{isMinor:!0})),s(w,x,b,j,A),i(w,x,b,A),H){var W=A.isMinor;A.isMinor=!0,i(w,x,b,A),A.isMinor=W}l(w,x,b,{dfltColor:F,bgColor:A.bgColor,showGrid:A.showGrid,hasMinor:H,attributes:y}),!H||x.minor.ticks||x.minor.showgrid||delete x.minor,(x.showline||x.ticks)&&b("mirror");var Z,se="multicategory"===j;if(A.noTickson||"category"!==j&&!se||!x.ticks&&!x.showgrid||(se&&(Z="boundaries"),"boundaries"===b("tickson",Z)&&delete x.ticklabelposition),se&&b("showdividers")&&(b("dividercolor"),b("dividerwidth")),"date"===j)if(M(w,x,{name:"rangebreaks",inclusionAttr:"enabled",handleItemDefaults:T}),x.rangebreaks.length){for(var re=0;re<x.rangebreaks.length;re++)if(x.rangebreaks[re].pattern===v){x._hasDayOfWeekBreaks=!0;break}if(h(x,g),g._has("scattergl")||g._has("splom"))for(var ne=0;ne<A.data.length;ne++){var Q=A.data[ne];"scattergl"!==Q.type&&"splom"!==Q.type||(Q.visible=!1,f.warn(Q.type+" traces do not work on axes with rangebreaks. Setting trace "+Q.index+" to `visible: false`."))}}else delete x.rangebreaks;return x};var _={sun:1,mon:2,tue:3,wed:4,thu:5,fri:6,sat:7};function m(w){if("string"==typeof w)return _[w.substr(0,3).toLowerCase()]}},12663:function(ae,B,r){"use strict";var D=r(31562),E=D.FORMAT_LINK,f=D.DATE_FORMAT_LINK;function k(y,c){return["Sets the "+y+" formatting rule"+(c?"for `"+c+"` ":""),"using d3 formatting mini-languages","which are very similar to those in Python. For numbers, see: "+E+"."].join(" ")}function M(y,c){return k(y,c)+[" And for dates see: "+f+".","We add two items to d3's date formatter:","*%h* for half of the year as a decimal number as well as","*%{n}f* for fractional seconds","with n digits. For example, *2016-10-13 09:15:23.456* with tickformat","*%H~%M~%S.%2f* would display *09~15~23.46*"].join(" ")}ae.exports={axisHoverFormat:function(y,c){return{valType:"string",dflt:"",editType:"none",description:(c?k:M)("hover text",y)+["By default the values are formatted using "+(c?"generic number format":"`"+y+"axis.hoverformat`")+"."].join(" ")}},descriptionOnlyNumbers:k,descriptionWithDates:M}},41675:function(ae,B,r){"use strict";var D=r(73972),E=r(85555);function f(k,M){if(M&&M.length)for(var y=0;y<M.length;y++)if(M[y][k])return!0;return!1}B.id2name=function(k){if("string"==typeof k&&k.match(E.AX_ID_PATTERN)){var M=k.split(" ")[0].substr(1);return"1"===M&&(M=""),k.charAt(0)+"axis"+M}},B.name2id=function(k){if(k.match(E.AX_NAME_PATTERN)){var M=k.substr(5);return"1"===M&&(M=""),k.charAt(0)+M}},B.cleanId=function(k,M,y){var c=/( domain)$/.test(k);if("string"==typeof k&&k.match(E.AX_ID_PATTERN)&&(!M||k.charAt(0)===M)&&(!c||y)){var i=k.split(" ")[0].substr(1).replace(/^0+/,"");return"1"===i&&(i=""),k.charAt(0)+i+(c&&y?" domain":"")}},B.list=function(k,M,y){var c=k._fullLayout;if(!c)return[];var i,s=B.listIds(k,M),a=new Array(s.length);for(i=0;i<s.length;i++){var o=s[i];a[i]=c[o.charAt(0)+"axis"+o.substr(1)]}if(!y){var l=c._subplots.gl3d||[];for(i=0;i<l.length;i++){var u=c[l[i]];M?a.push(u[M+"axis"]):a.push(u.xaxis,u.yaxis,u.zaxis)}}return a},B.listIds=function(k,M){var y=k._fullLayout;if(!y)return[];var c=y._subplots;return M?c[M+"axis"]:c.xaxis.concat(c.yaxis)},B.getFromId=function(k,M,y){var c=k._fullLayout;return M=void 0===M||"string"!=typeof M?M:M.replace(" domain",""),"x"===y?M=M.replace(/y[0-9]*/,""):"y"===y&&(M=M.replace(/x[0-9]*/,"")),c[B.id2name(M)]},B.getFromTrace=function(k,M,y){var c=k._fullLayout,i=null;if(D.traceIs(M,"gl3d")){var s=M.scene;"scene"===s.substr(0,5)&&(i=c[s][y+"axis"])}else i=B.getFromId(k,M[y+"axis"]||y);return i},B.idSort=function(k,M){var y=k.charAt(0),c=M.charAt(0);return y!==c?y>c?1:-1:+(k.substr(1)||1)-+(M.substr(1)||1)},B.ref2id=function(k){return!!/^[xyz]/.test(k)&&k.split(" ")[0]},B.isLinked=function(k,M){return f(M,k._axisMatchGroups)||f(M,k._axisConstraintGroups)}},15258:function(ae){"use strict";ae.exports=function(B,r,D,E){if("category"===r.type){var f,k=B.categoryarray,M=Array.isArray(k)&&k.length>0;M&&(f="array");var y,c=D("categoryorder",f);"array"===c&&(y=D("categoryarray")),M||"array"!==c||(c=r.categoryorder="trace"),"trace"===c?r._initialCategories=[]:"array"===c?r._initialCategories=y.slice():(y=function(i,s){var a,o,l,u=s.dataAttr||i._id.charAt(0),h={};if(s.axData)a=s.axData;else for(a=[],o=0;o<s.data.length;o++){var v=s.data[o];v[u+"axis"]===i._id&&a.push(v)}for(o=0;o<a.length;o++){var p=a[o][u];for(l=0;l<p.length;l++){var T=p[l];null!=T&&(h[T]=1)}}return Object.keys(h)}(r,E).sort(),"category ascending"===c?r._initialCategories=y:"category descending"===c&&(r._initialCategories=y.reverse()))}}},66287:function(ae,B,r){"use strict";var D=r(92770),E=r(71828),f=r(50606),k=f.ONEDAY,M=f.ONEWEEK;B.dtick=function(y,c){var i="log"===c,s="date"===c,a="category"===c,o=s?k:1;if(!y)return o;if(D(y))return(y=Number(y))<=0?o:a?Math.max(1,Math.round(y)):s?Math.max(.1,y):y;if("string"!=typeof y||!s&&!i)return o;var l=y.charAt(0),u=y.substr(1);return(u=D(u)?Number(u):0)<=0||!(s&&"M"===l&&u===Math.round(u)||i&&"L"===l||i&&"D"===l&&(1===u||2===u))?o:y},B.tick0=function(y,c,i,s){return"date"===c?E.cleanDate(y,E.dateTick0(i,s%M==0?1:0)):"D1"!==s&&"D2"!==s?D(y)?Number(y):0:void 0}},85555:function(ae,B,r){"use strict";var D=r(30587).counter;ae.exports={idRegex:{x:D("x","( domain)?"),y:D("y","( domain)?")},attrRegex:D("[xy]axis"),xAxisMatch:D("xaxis"),yAxisMatch:D("yaxis"),AX_ID_PATTERN:/^[xyz][0-9]*( domain)?$/,AX_NAME_PATTERN:/^[xyz]axis[0-9]*$/,SUBPLOT_PATTERN:/^x([0-9]*)y([0-9]*)$/,HOUR_PATTERN:"hour",WEEKDAY_PATTERN:"day of week",MINDRAG:8,MINZOOM:20,DRAGGERSIZE:20,REDRAWDELAY:50,DFLTRANGEX:[-1,6],DFLTRANGEY:[-1,4],traceLayerClasses:["imagelayer","heatmaplayer","contourcarpetlayer","contourlayer","funnellayer","waterfalllayer","barlayer","carpetlayer","violinlayer","boxlayer","ohlclayer","scattercarpetlayer","scatterlayer"],clipOnAxisFalseQuery:[".scatterlayer",".barlayer",".funnellayer",".waterfalllayer"],layerValue2layerClass:{"above traces":"above","below traces":"below"}}},99082:function(ae,B,r){"use strict";var D=r(71828),E=r(71739),f=r(41675).id2name,k=r(13838),M=r(42449),y=r(21994),c=r(50606).ALMOST_EQUAL,i=r(18783).FROM_BL;function s(p,T,_){var m=_.axIds,w=_.layoutOut,x=_.hasImage,b=w._axisConstraintGroups,A=w._axisMatchGroups,g=T._id,I=g.charAt(0),S=((w._splomAxes||{})[I]||{})[g]||{},O=T._id,R="x"===O.charAt(0);function L(ee,oe){return D.coerce(p,T,k,ee,oe)}T._matchGroup=null,T._constraintGroup=null,L("constrain",x?"domain":"range"),D.coerce(p,T,{constraintoward:{valType:"enumerated",values:R?["left","center","right"]:["bottom","middle","top"],dflt:R?"center":"middle"}},"constraintoward");var N,j,X=T.type,F=[];for(N=0;N<m.length;N++)(j=m[N])!==O&&w[f(j)].type===X&&F.push(j);var Y=o(b,O);if(Y){var G=[];for(N=0;N<F.length;N++)Y[j=F[N]]||G.push(j);F=G}var H,W,Z=F.length;Z&&(p.matches||S.matches)&&(H=D.coerce(p,T,{matches:{valType:"enumerated",values:F,dflt:-1!==F.indexOf(S.matches)?S.matches:void 0}},"matches"));var se=x&&!R?T.anchor:void 0;if(Z&&!H&&(p.scaleanchor||se)&&(W=D.coerce(p,T,{scaleanchor:{valType:"enumerated",values:F.concat([!1])}},"scaleanchor",se)),H){T._matchGroup=l(A,O,H,1);var re=w[f(H)],ne=a(w,T)/a(w,re);R!==("x"===H.charAt(0))&&(ne=(R?"x":"y")+ne),l(b,O,H,ne)}else p.matches&&-1!==m.indexOf(p.matches)&&D.warn("ignored "+T._name+'.matches: "'+p.matches+'" to avoid an infinite loop');if(W){var Q=L("scaleratio");Q||(Q=T.scaleratio=1),l(b,O,W,Q)}else p.scaleanchor&&-1!==m.indexOf(p.scaleanchor)&&D.warn("ignored "+T._name+'.scaleanchor: "'+p.scaleanchor+'" to avoid either an infinite loop and possibly inconsistent scaleratios, or because this axis declares a *matches* constraint.')}function a(p,T){var _=T.domain;return _||(_=p[f(T.overlaying)].domain),_[1]-_[0]}function o(p,T){for(var _=0;_<p.length;_++)if(p[_][T])return p[_];return null}function l(p,T,_,m){var w,x,b,A,g,I=o(p,T);null===I?((I={})[T]=1,g=p.length,p.push(I)):g=p.indexOf(I);var S=Object.keys(I);for(w=0;w<p.length;w++)if(b=p[w],w!==g&&b[_]){var O=b[_];for(x=0;x<S.length;x++)b[A=S[x]]=u(O,u(m,I[A]));return void p.splice(g,1)}if(1!==m)for(x=0;x<S.length;x++){var R=S[x];I[R]=u(m,I[R])}I[_]=1}function u(p,T){var _,m,w="",x="";"string"==typeof p&&(_=(w=p.match(/^[xy]*/)[0]).length,p=+p.substr(_)),"string"==typeof T&&(m=(x=T.match(/^[xy]*/)[0]).length,T=+T.substr(m));var b=p*T;return _||m?_&&m&&w.charAt(0)!==x.charAt(0)?_===m?b:(_>m?w.substr(m):x.substr(_))+b:w+x+p*T:b}function h(p,T){for(var _=T._size,m=_.h/_.w,w={},x=Object.keys(p),b=0;b<x.length;b++){var A=x[b],g=p[A];if("string"==typeof g){var I=g.match(/^[xy]*/)[0],S=I.length;g=+g.substr(S);for(var O="y"===I.charAt(0)?m:1/m,R=0;R<S;R++)g*=O}w[A]=g}return w}function v(p,T){var _=p._inputDomain,w=_[0]+(_[1]-_[0])*i[p.constraintoward];p.domain=p._input.domain=[w+(_[0]-w)/T,w+(_[1]-w)/T],p.setScale()}B.handleDefaults=function(p,T,_){var m,w,x,b,A,g,I,S,O=_.axIds,R=_.axHasImage,L=T._axisConstraintGroups=[],N=T._axisMatchGroups=[];for(m=0;m<O.length;m++)s(A=p[b=f(O[m])],g=T[b],{axIds:O,layoutOut:T,hasImage:R[b]});function j(re,ne){for(m=0;m<re.length;m++)for(x in w=re[m])T[f(x)][ne]=w}for(j(N,"_matchGroup"),m=0;m<L.length;m++)for(x in w=L[m])if((g=T[f(x)]).fixedrange){for(var X in w){var F=f(X);!1===(p[F]||{}).fixedrange&&D.warn("fixedrange was specified as false for axis "+F+" but was overridden because another axis in its constraint group has fixedrange true"),T[F].fixedrange=!0}break}for(m=0;m<L.length;){for(x in w=L[m]){(g=T[f(x)])._matchGroup&&Object.keys(g._matchGroup).length===Object.keys(w).length&&(L.splice(m,1),m--);break}m++}j(L,"_constraintGroup");var Y=["constrain","range","autorange","rangemode","rangebreaks","categoryorder","categoryarray"],G=!1,H=!1;function W(){S=g[I],"rangebreaks"===I&&(H=g._hasDayOfWeekBreaks)}for(m=0;m<N.length;m++){w=N[m];for(var Z=0;Z<Y.length;Z++){var se;for(x in I=Y[Z],S=null,w)if(A=p[b=f(x)],I in(g=T[b])){if(!g.matches&&(se=g,I in A)){W();break}null===S&&I in A&&W()}if("range"===I&&S&&A.range&&2===A.range.length&&null!==A.range[0]&&null!==A.range[1]&&(G=!0),"autorange"===I&&null===S&&G&&(S=!1),null===S&&I in se&&(S=se[I]),null!==S)for(x in w)(g=T[f(x)])[I]="range"===I?S.slice():S,"rangebreaks"===I&&(g._hasDayOfWeekBreaks=H,y(g,T))}}},B.enforce=function(p){var T,_,m,w,x,b,A,g,I=p._fullLayout,S=I._axisConstraintGroups||[];for(T=0;T<S.length;T++){m=h(S[T],I);var O=Object.keys(m),R=1/0,L=0,N=1/0,j={},X={},F=!1;for(_=0;_<O.length;_++)X[w=O[_]]=x=I[f(w)],x._inputDomain?x.domain=x._inputDomain.slice():x._inputDomain=x.domain.slice(),x._inputRange||(x._inputRange=x.range.slice()),x.setScale(),j[w]=b=Math.abs(x._m)/m[w],R=Math.min(R,b),"domain"!==x.constrain&&x._constraintShrinkable||(N=Math.min(N,b)),delete x._constraintShrinkable,L=Math.max(L,b),"domain"===x.constrain&&(F=!0);if(!(R>c*L)||F)for(_=0;_<O.length;_++)if(b=j[w=O[_]],A=(x=X[w]).constrain,b!==N||"domain"===A)if(g=b/N,"range"===A)M(x,g);else{var Y=x._inputDomain,G=(x.domain[1]-x.domain[0])/(Y[1]-Y[0]),H=(x.r2l(x.range[1])-x.r2l(x.range[0]))/(x.r2l(x._inputRange[1])-x.r2l(x._inputRange[0]));if((g/=G)*H<1){x.domain=x._input.domain=Y.slice(),M(x,g);continue}if(H<1&&(x.range=x._input.range=x._inputRange.slice(),g*=H),x.autorange){var W=x.r2l(x.range[0]),Z=x.r2l(x.range[1]),se=(W+Z)/2,re=se,ne=se,Q=Math.abs(Z-se),ee=se-Q*g*1.0001,oe=se+Q*g*1.0001,ce=E.makePadFn(I,x,0),fe=E.makePadFn(I,x,1);v(x,g);var le,pe,Me=Math.abs(x._m),Ae=E.concatExtremes(p,x),be=Ae.min,ye=Ae.max;for(pe=0;pe<be.length;pe++)(le=be[pe].val-ce(be[pe])/Me)>ee&&le<re&&(re=le);for(pe=0;pe<ye.length;pe++)(le=ye[pe].val+fe(ye[pe])/Me)<oe&&le>ne&&(ne=le);g/=(ne-re)/(2*Q),re=x.l2r(re),ne=x.l2r(ne),x.range=x._input.range=W<Z?[re,ne]:[ne,re]}v(x,g)}}},B.getAxisGroup=function(p,T){for(var _=p._axisMatchGroups,m=0;m<_.length;m++)if(_[m][T])return"g"+m;return T},B.clean=function(p,T){if(T._inputDomain){for(var _=!1,m=T._id,w=p._fullLayout._axisConstraintGroups,x=0;x<w.length;x++)if(w[x][m]){_=!0;break}_&&"domain"===T.constrain||(T._input.domain=T.domain=T._inputDomain,delete T._inputDomain)}}},29323:function(ae,B,r){"use strict";var D=r(39898),E=r(71828),f=E.numberFormat,k=r(84267),M=r(38520),y=r(73972),c=E.strTranslate,i=r(63893),s=r(7901),a=r(91424),o=r(30211),l=r(89298),u=r(6964),h=r(28569),v=r(64505),p=v.selectingOrDrawing,T=v.freeMode,_=r(18783).FROM_TL,m=r(33306),w=r(61549).redrawReglTraces,x=r(74875),b=r(41675).getFromId,A=r(47322).prepSelect,g=r(47322).clearOutline,I=r(47322).selectOnClick,S=r(42449),O=r(85555),R=O.MINDRAG,L=O.MINZOOM,N=!0;function j(le,pe,Me,Ae){var be=E.ensureSingle(le.draglayer,pe,Me,function(ye){ye.classed("drag",!0).style({fill:"transparent","stroke-width":0}).attr("data-subplot",le.id)});return be.call(u,Ae),be.node()}function X(le,pe,Me,Ae,be,ye,we){var ze=j(le,"rect",pe,Me);return D.select(ze).call(a.setRect,Ae,be,ye,we),ze}function F(le,pe){for(var Me=0;Me<le.length;Me++)if(!le[Me].fixedrange)return pe;return""}function Y(le,pe,Me,Ae,be){for(var ye=0;ye<le.length;ye++){var we=le[ye];if(!we.fixedrange)if(we.rangebreaks){var ze="y"===we._id.charAt(0),Ce=ze?1-Me:Me;Ae[we._name+".range[0]"]=we.l2r(we.p2l((ze?1-pe:pe)*we._length)),Ae[we._name+".range[1]"]=we.l2r(we.p2l(Ce*we._length))}else{var ge=we._rl[0],he=we._rl[1]-ge;Ae[we._name+".range[0]"]=we.l2r(ge+he*pe),Ae[we._name+".range[1]"]=we.l2r(ge+he*Me)}}if(be&&be.length){var _e=(pe+(1-Me))/2;Y(be,_e,1-_e,Ae,[])}}function G(le,pe){for(var Me=0;Me<le.length;Me++){var Ae=le[Me];if(!Ae.fixedrange){if(Ae.rangebreaks){var be=Ae._length,ye=(Ae.p2l(0+pe)-Ae.p2l(0)+(Ae.p2l(be+pe)-Ae.p2l(be)))/2;Ae.range=[Ae.l2r(Ae._rl[0]-ye),Ae.l2r(Ae._rl[1]-ye)]}else Ae.range=[Ae.l2r(Ae._rl[0]-pe/Ae._m),Ae.l2r(Ae._rl[1]-pe/Ae._m)];Ae.limitRange&&Ae.limitRange()}}}function H(le){return 1-(le>=0?Math.min(le,.9):1/(1/Math.max(le,-.3)+3.222))}function W(le,pe,Me,Ae,be){return le.append("path").attr("class","zoombox").style({fill:pe>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("transform",c(Me,Ae)).attr("d",be+"Z")}function Z(le,pe,Me){return le.append("path").attr("class","zoombox-corners").style({fill:s.background,stroke:s.defaultLine,"stroke-width":1,opacity:0}).attr("transform",c(pe,Me)).attr("d","M0,0Z")}function se(le,pe,Me,Ae,be,ye){le.attr("d",Ae+"M"+Me.l+","+Me.t+"v"+Me.h+"h"+Me.w+"v-"+Me.h+"h-"+Me.w+"Z"),re(le,pe,be,ye)}function re(le,pe,Me,Ae){Me||(le.transition().style("fill",Ae>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),pe.transition().style("opacity",1).duration(200))}function ne(le){D.select(le).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}function Q(le){N&&le.data&&le._context.showTips&&(E.notifier(E._(le,"Double-click to zoom back out"),"long"),N=!1)}function ee(le){var pe=Math.floor(Math.min(le.b-le.t,le.r-le.l,L)/2);return"M"+(le.l-3.5)+","+(le.t-.5+pe)+"h3v"+-pe+"h"+pe+"v-3h-"+(pe+3)+"ZM"+(le.r+3.5)+","+(le.t-.5+pe)+"h-3v"+-pe+"h"+-pe+"v-3h"+(pe+3)+"ZM"+(le.r+3.5)+","+(le.b+.5-pe)+"h-3v"+pe+"h"+-pe+"v3h"+(pe+3)+"ZM"+(le.l-3.5)+","+(le.b+.5-pe)+"h3v"+pe+"h"+pe+"v3h-"+(pe+3)+"Z"}function oe(le,pe,Me,Ae,be){for(var ye,we,ze,Se,Ce=!1,ge={},he={},_e=(be||{}).xaHash,Le=(be||{}).yaHash,Ie=0;Ie<pe.length;Ie++){var De=pe[Ie];for(ye in Me)if(De[ye]){for(ze in De)be&&(_e[ze]||Le[ze])||("x"===ze.charAt(0)?Me:Ae)[ze]||(ge[ze]=ye);for(we in Ae)be&&(_e[we]||Le[we])||!De[we]||(Ce=!0)}for(we in Ae)if(De[we])for(Se in De)be&&(_e[Se]||Le[Se])||("x"===Se.charAt(0)?Me:Ae)[Se]||(he[Se]=we)}Ce&&(E.extendFlat(ge,he),he={});var je={},qe=[];for(ze in ge){var ve=b(le,ze);qe.push(ve),je[ve._id]=ve}var Oe={},ke=[];for(Se in he){var Be=b(le,Se);ke.push(Be),Oe[Be._id]=Be}return{xaHash:je,yaHash:Oe,xaxes:qe,yaxes:ke,xLinks:ge,yLinks:he,isSubplotConstrained:Ce}}function ce(le,pe){if(M){var Me=void 0!==le.onwheel?"wheel":"mousewheel";le._onwheel&&le.removeEventListener(Me,le._onwheel),le._onwheel=pe,le.addEventListener(Me,pe,{passive:!1})}else void 0!==le.onwheel?le.onwheel=pe:void 0!==le.onmousewheel?le.onmousewheel=pe:le.isAddedWheelEvent||(le.isAddedWheelEvent=!0,le.addEventListener("wheel",pe,{passive:!1}))}function fe(le){var pe=[];for(var Me in le)pe.push(le[Me]);return pe}ae.exports={makeDragBox:function(le,pe,Me,Ae,be,ye,we,ze){var Se,Ce,ge,he,_e,Le,Ie,De,je,qe,ve,Oe,ke,Be,We,Ge,Ke,et,at,mt,ct,kt,Dt,Et=le._fullLayout._zoomlayer,ht=we+ze==="nsew",pt=1===(we+ze).length;function Pt(){if(je=(Se=pe.xaxis)._length,qe=(Ce=pe.yaxis)._length,Ie=Se._offset,De=Ce._offset,(ge={})[Se._id]=Se,(he={})[Ce._id]=Ce,we&&ze)for(var on=pe.overlays,vn=0;vn<on.length;vn++){var un=on[vn].xaxis;ge[un._id]=un;var Tn=on[vn].yaxis;he[Tn._id]=Tn}_e=fe(ge),Le=fe(he),ke=F(_e,ze),Be=F(Le,we),We=!Be&&!ke,Oe=oe(le,le._fullLayout._axisMatchGroups,ge,he);var kn=(ve=oe(le,le._fullLayout._axisConstraintGroups,ge,he,Oe)).isSubplotConstrained||Oe.isSubplotConstrained;Ge=ze||kn,Ke=we||kn;var xn=le._fullLayout;et=xn._has("scattergl"),at=xn._has("splom"),mt=xn._has("svg")}Me+=pe.yaxis._shift,Pt();var on,zt=(on=Be+ke)?"nsew"===on?ht?"":"pan"===le._fullLayout.dragmode?"move":"crosshair":on.toLowerCase()+"-resize":"pointer",Ht=X(pe,we+ze+"drag",zt,Me,Ae,be,ye);if(We&&!ht)return Ht.onmousedown=null,Ht.style.pointerEvents="none",Ht;var Lt,tt,it,Je,ot,gt,ft,Ue,$e,dt,ut={element:Ht,gd:le,plotinfo:pe};function At(){ut.plotinfo.selection=!1,g(le)}function wt(on,vn){var gr,lr,wr,dr,mr,un=ut.gd;if(un._fullLayout._activeShapeIndex>=0)un._fullLayout._deactivateShape(un);else{var Tn=un._fullLayout.clickmode;if(ne(un),2!==on||pt||function en(){if(!le._transitioningWithDuration){var on=le._context.doubleClick,vn=[];ke&&(vn=vn.concat(_e)),Be&&(vn=vn.concat(Le)),Oe.xaxes&&(vn=vn.concat(Oe.xaxes)),Oe.yaxes&&(vn=vn.concat(Oe.yaxes));var un,Tn,kn={};if("reset+autosize"===on)for(on="autosize",Tn=0;Tn<vn.length;Tn++){var xn=(un=vn[Tn])._rangeInitial0,Rn=un._rangeInitial1,Hn=void 0!==xn||void 0!==Rn;if(Hn&&(void 0!==xn&&xn!==un.range[0]||void 0!==Rn&&Rn!==un.range[1])||!Hn&&!0!==un.autorange){on="reset";break}}if("autosize"===on)for(Tn=0;Tn<vn.length;Tn++)(un=vn[Tn]).fixedrange||(kn[un._name+".autorange"]=!0);else if("reset"===on)for((ke||ve.isSubplotConstrained)&&(vn=vn.concat(ve.xaxes)),Be&&!ve.isSubplotConstrained&&(vn=vn.concat(ve.yaxes)),ve.isSubplotConstrained&&(ke?Be||(vn=vn.concat(Le)):vn=vn.concat(_e)),Tn=0;Tn<vn.length;Tn++)if(!(un=vn[Tn]).fixedrange){var En=un._name,Wn=un._autorangeInitial;void 0===un._rangeInitial0&&void 0===un._rangeInitial1?kn[En+".autorange"]=!0:void 0===un._rangeInitial0?(kn[En+".autorange"]=Wn,kn[En+".range"]=[null,un._rangeInitial1]):void 0===un._rangeInitial1?(kn[En+".range"]=[un._rangeInitial0,null],kn[En+".autorange"]=Wn):kn[En+".range"]=[un._rangeInitial0,un._rangeInitial1]}le.emit("plotly_doubleclick",null),y.call("_guiRelayout",le,kn)}}(),ht)Tn.indexOf("select")>-1&&I(vn,un,_e,Le,pe.id,ut),Tn.indexOf("event")>-1&&o.click(un,vn,pe.id);else if(1===on&&pt){var kn=we?Ce:Se,xn="s"===we||"w"===ze?0:1,Rn=kn._name+".range["+xn+"]",Hn=(dr=(gr=kn).range[lr=xn],mr=Math.abs(dr-gr.range[1-lr]),"date"===gr.type?dr:"log"===gr.type?(wr=Math.ceil(Math.max(0,-Math.log(mr)/Math.LN10))+3,f("."+wr+"g")(Math.pow(10,dr))):(wr=Math.floor(Math.log(Math.abs(dr))/Math.LN10)-Math.floor(Math.log(mr)/Math.LN10)+4,f("."+String(wr)+"g")(dr))),En="left",Wn="middle";if(kn.fixedrange)return;we?(Wn="n"===we?"top":"bottom","right"===kn.side&&(En="right")):"e"===ze&&(En="right"),un._context.showAxisRangeEntryBoxes&&D.select(Ht).call(i.makeEditable,{gd:un,immediate:!0,background:un._fullLayout.paper_bgcolor,text:String(Hn),fill:kn.tickfont?kn.tickfont.color:"#444",horizontalAlign:En,verticalAlign:Wn}).on("edit",function(gr){var lr=kn.d2r(gr);void 0!==lr&&y.call("_guiRelayout",un,Rn,lr)})}}}function St(on,vn){if(le._transitioningWithDuration)return!1;var Wn,gr,un=Math.max(0,Math.min(je,kt*on+Lt)),Tn=Math.max(0,Math.min(qe,Dt*vn+tt)),kn=Math.abs(un-Lt),xn=Math.abs(Tn-tt);function Rn(){ft="",it.r=it.l,it.t=it.b,$e.attr("d","M0,0Z")}if(it.l=Math.min(Lt,un),it.r=Math.max(Lt,un),it.t=Math.min(tt,Tn),it.b=Math.max(tt,Tn),ve.isSubplotConstrained)kn>L||xn>L?(ft="xy",kn/je>xn/qe?(xn=kn*qe/je,tt>Tn?it.t=tt-xn:it.b=tt+xn):(kn=xn*je/qe,Lt>un?it.l=Lt-kn:it.r=Lt+kn),$e.attr("d",ee(it))):Rn();else if(Oe.isSubplotConstrained)if(kn>L||xn>L){ft="xy";var Hn=Math.min(it.l/je,(qe-it.b)/qe),En=Math.max(it.r/je,(qe-it.t)/qe);it.l=Hn*je,it.r=En*je,it.b=(1-Hn)*qe,it.t=(1-En)*qe,$e.attr("d",ee(it))}else Rn();else!Be||xn<Math.min(Math.max(.6*kn,R),L)?kn<R||!ke?Rn():(it.t=0,it.b=qe,ft="x",$e.attr("d","M"+((Wn=it).l-.5)+","+((gr=tt)-L-.5)+"h-3v"+(2*L+1)+"h3ZM"+(Wn.r+.5)+","+(gr-L-.5)+"h3v"+(2*L+1)+"h-3Z")):!ke||kn<Math.min(.6*xn,L)?(it.l=0,it.r=je,ft="y",$e.attr("d",function(Wn,gr){return"M"+(gr-L-.5)+","+(Wn.t-.5)+"v-3h"+(2*L+1)+"v3ZM"+(gr-L-.5)+","+(Wn.b+.5)+"v3h"+(2*L+1)+"v-3Z"}(it,Lt))):(ft="xy",$e.attr("d",ee(it)));it.w=it.r-it.l,it.h=it.b-it.t,ft&&(dt=!0),le._dragged=dt,se(Ue,$e,it,ot,gt,Je),_t(),le.emit("plotly_relayouting",ct),gt=!0}function _t(){ct={},"xy"!==ft&&"x"!==ft||(Y(_e,it.l/je,it.r/je,ct,ve.xaxes),Qt("x",ct)),"xy"!==ft&&"y"!==ft||(Y(Le,(qe-it.b)/qe,(qe-it.t)/qe,ct,ve.yaxes),Qt("y",ct))}function Rt(){_t(),ne(le),nn(),Q(le)}ut.prepFn=function(on,vn,un){var Tn=ut.dragmode,kn=le._fullLayout.dragmode;kn!==Tn&&(ut.dragmode=kn),Pt(),kt=le._fullLayout._invScaleX,Dt=le._fullLayout._invScaleY,We||(ht?on.shiftKey?"pan"===kn?kn="zoom":p(kn)||(kn="pan"):on.ctrlKey&&(kn="pan"):kn="pan"),ut.minDrag=T(kn)?1:void 0,p(kn)?(ut.xaxes=_e,ut.yaxes=Le,A(on,vn,un,ut,kn)):(ut.clickFn=wt,p(Tn)&&At(),We||("zoom"===kn?(ut.moveFn=St,ut.doneFn=Rt,ut.minDrag=1,function(xn,Rn,Hn){var En=Ht.getBoundingClientRect();Lt=Rn-En.left,tt=Hn-En.top,le._fullLayout._calcInverseTransform(le);var Wn=E.apply3DTransform(le._fullLayout._invTransform)(Lt,tt);it={l:Lt=Wn[0],r:Lt,w:0,t:tt=Wn[1],b:tt,h:0},Je=le._hmpixcount?le._hmlumcount/le._hmpixcount:k(le._fullLayout.plot_bgcolor).getLuminance(),gt=!1,ft="xy",dt=!1,Ue=W(Et,Je,Ie,De,ot="M0,0H"+je+"V"+qe+"H0V0"),$e=Z(Et,Ie,De)}(0,vn,un)):"pan"===kn&&(ut.moveFn=$t,ut.doneFn=nn))),le._fullLayout._redrag=function(){var xn=le._dragdata;xn&&xn.element===Ht&&(p(le._fullLayout.dragmode)||(Pt(),fn([0,0,je,qe]),ut.moveFn(xn.dx,xn.dy)))}},h.init(ut);var bt=[0,0,je,qe],Tt=null,It=O.REDRAWDELAY,Wt=pe.mainplot?le._fullLayout._plots[pe.mainplot]:pe;function $t(on,vn){if(on*=kt,vn*=Dt,!le._transitioningWithDuration){if(le._fullLayout._replotting=!0,"ew"===ke||"ns"===Be){var un=ke?-on:0,Tn=Be?-vn:0;if(Oe.isSubplotConstrained){if(ke&&Be){var kn=(on/je-vn/qe)/2;un=-(on=kn*je),Tn=-(vn=-kn*qe)}Be?un=-Tn*je/qe:Tn=-un*qe/je}return ke&&(G(_e,on),Qt("x")),Be&&(G(Le,vn),Qt("y")),fn([un,Tn,je,qe]),pn(),void le.emit("plotly_relayouting",ct)}var xn,Rn,Hn="w"===ke==("n"===Be)?1:-1;if(ke&&Be&&(ve.isSubplotConstrained||Oe.isSubplotConstrained)){var En=(on/je+Hn*vn/qe)/2;on=En*je,vn=Hn*En*qe}if("w"===ke?on=wr(_e,0,on):"e"===ke?on=wr(_e,1,-on):ke||(on=0),"n"===Be?vn=wr(Le,1,vn):"s"===Be?vn=wr(Le,0,-vn):Be||(vn=0),xn="w"===ke?on:0,Rn="n"===Be?vn:0,ve.isSubplotConstrained&&!Oe.isSubplotConstrained||Oe.isSubplotConstrained&&ke&&Be&&Hn>0){var Wn;if(Oe.isSubplotConstrained||!ke&&1===Be.length){for(Wn=0;Wn<_e.length;Wn++)_e[Wn].range=_e[Wn]._r.slice(),S(_e[Wn],1-vn/qe);xn=(on=vn*je/qe)/2}if(Oe.isSubplotConstrained||!Be&&1===ke.length){for(Wn=0;Wn<Le.length;Wn++)Le[Wn].range=Le[Wn]._r.slice(),S(Le[Wn],1-on/je);Rn=(vn=on*qe/je)/2}}Oe.isSubplotConstrained&&Be||Qt("x"),Oe.isSubplotConstrained&&ke||Qt("y");var gr=je-on,lr=qe-vn;!Oe.isSubplotConstrained||ke&&Be||(ke?(Rn=xn?0:on*qe/je,lr=gr*qe/je):(xn=Rn?0:vn*je/qe,gr=lr*je/qe)),fn([xn,Rn,gr,lr]),pn(),le.emit("plotly_relayouting",ct)}function wr(dr,mr,Ir){for(var qt,tn,bn=1-mr,Cn=0;Cn<dr.length;Cn++){var Bn=dr[Cn];if(!Bn.fixedrange){qt=Bn,tn=Bn._rl[bn]+(Bn._rl[mr]-Bn._rl[bn])/H(Ir/Bn._length);var sr=Bn.l2r(tn);!1!==sr&&void 0!==sr&&(Bn.range[mr]=sr)}}return qt._length*(qt._rl[mr]-tn)/(qt._rl[mr]-qt._rl[bn])}}function Qt(on,vn){for(var un=Oe.isSubplotConstrained?{x:Le,y:_e}[on]:Oe[on+"axes"],Tn=Oe.isSubplotConstrained?{x:_e,y:Le}[on]:[],kn=0;kn<un.length;kn++){var xn=un[kn],Rn=xn._id,Hn=Oe.xLinks[Rn]||Oe.yLinks[Rn],En=Tn[0]||ge[Hn]||he[Hn];En&&(vn?(vn[xn._name+".range[0]"]=vn[En._name+".range[0]"],vn[xn._name+".range[1]"]=vn[En._name+".range[1]"]):xn.range=En.range.slice())}}function pn(){var on,vn=[];function un(Rn){for(on=0;on<Rn.length;on++)Rn[on].fixedrange||vn.push(Rn[on]._id)}function Tn(Rn,Hn){for(on=0;on<Rn.length;on++){var En=Rn[on],Wn=En[Hn];En.fixedrange||"sync"!==Wn.tickmode||vn.push(Wn._id)}}for(Ge&&(un(_e),un(ve.xaxes),un(Oe.xaxes),Tn(pe.overlays,"xaxis")),Ke&&(un(Le),un(ve.yaxes),un(Oe.yaxes),Tn(pe.overlays,"yaxis")),ct={},on=0;on<vn.length;on++){var xn=b(le,vn[on]);l.drawOne(le,xn,{skipTitle:!0}),ct[xn._name+".range[0]"]=xn.range[0],ct[xn._name+".range[1]"]=xn.range[1]}l.redrawComponents(le,vn)}function nn(){fn([0,0,je,qe]),E.syncOrAsync([x.previousPromises,function(){le._fullLayout._replotting=!1,y.call("_guiRelayout",le,ct)}],le)}function fn(on){var vn,un,Tn,kn,xn=le._fullLayout,Rn=xn._plots,Hn=xn._subplots.cartesian;if(at&&y.subplotsRegistry.splom.drag(le),et)for(vn=0;vn<Hn.length;vn++)if(Tn=(un=Rn[Hn[vn]]).xaxis,kn=un.yaxis,un._scene){var En=E.simpleMap(Tn.range,Tn.r2l),Wn=E.simpleMap(kn.range,kn.r2l);Tn.limitRange&&Tn.limitRange(),kn.limitRange&&kn.limitRange(),un._scene.update({range:[(En=Tn.range)[0],(Wn=kn.range)[0],En[1],Wn[1]]})}if((at||et)&&(m(le),w(le)),mt){var gr=on[2]/Se._length,lr=on[3]/Ce._length;for(vn=0;vn<Hn.length;vn++){Tn=(un=Rn[Hn[vn]]).xaxis,kn=un.yaxis;var wr,dr,mr,Ir,tn=(Ke||Oe.isSubplotConstrained)&&!kn.fixedrange&&he[kn._id];if((Ge||Oe.isSubplotConstrained)&&!Tn.fixedrange&&ge[Tn._id]?(wr=gr,mr=ze||Oe.isSubplotConstrained?on[0]:Sn(Tn,wr)):Oe.xaHash[Tn._id]?(wr=gr,mr=on[0]*Tn._length/Se._length):Oe.yaHash[Tn._id]?(wr=lr,mr="ns"===Be?-on[1]*Tn._length/Ce._length:Sn(Tn,wr,{n:"top",s:"bottom"}[Be])):mr=Un(Tn,wr=On(Tn,gr,lr)),wr>1&&(void 0!==Tn.maxallowed&&Ge===(Tn.range[0]<Tn.range[1]?"e":"w")||void 0!==Tn.minallowed&&Ge===(Tn.range[0]<Tn.range[1]?"w":"e"))&&(wr=1,mr=0),tn?(dr=lr,Ir=we||Oe.isSubplotConstrained?on[1]:Sn(kn,dr)):Oe.yaHash[kn._id]?(dr=lr,Ir=on[1]*kn._length/Ce._length):Oe.xaHash[kn._id]?(dr=gr,Ir="ew"===ke?-on[0]*kn._length/Se._length:Sn(kn,dr,{e:"right",w:"left"}[ke])):Ir=Un(kn,dr=On(kn,gr,lr)),dr>1&&(void 0!==kn.maxallowed&&Ke===(kn.range[0]<kn.range[1]?"n":"s")||void 0!==kn.minallowed&&Ke===(kn.range[0]<kn.range[1]?"s":"n"))&&(dr=1,Ir=0),wr||dr){wr||(wr=1),dr||(dr=1);var bn=Tn._offset-mr/wr,Cn=kn._offset-Ir/dr;un.clipRect.call(a.setTranslate,mr,Ir).call(a.setScale,wr,dr),un.plot.call(a.setTranslate,bn,Cn).call(a.setScale,1/wr,1/dr),wr===un.xScaleFactor&&dr===un.yScaleFactor||(a.setPointGroupScale(un.zoomScalePts,wr,dr),a.setTextPointsScale(un.zoomScaleTxt,wr,dr)),a.hideOutsideRangePoints(un.clipOnAxisFalseTraces,un),un.xScaleFactor=wr,un.yScaleFactor=dr}}}}function On(on,vn,un){return on.fixedrange?0:Ge&&ve.xaHash[on._id]?vn:Ke&&(ve.isSubplotConstrained?ve.xaHash:ve.yaHash)[on._id]?un:0}function Un(on,vn){return vn?(on.range=on._r.slice(),S(on,vn),Sn(on,vn)):0}function Sn(on,vn,un){return on._length*(1-vn)*_[un||on.constraintoward||"middle"]}return we.length*ze.length!=1&&ce(Ht,function(on){if(le._context._scrollZoom.cartesian||le._fullLayout._enablescrollzoom){if(At(),le._transitioningWithDuration)return on.preventDefault(),void on.stopPropagation();Pt(),clearTimeout(Tt);var vn=-on.deltaY;if(isFinite(vn)||(vn=on.wheelDelta/10),isFinite(vn)){var un,Tn=Math.exp(-Math.min(Math.max(vn,-20),20)/200),kn=Wt.draglayer.select(".nsewdrag").node().getBoundingClientRect(),xn=(on.clientX-kn.left)/kn.width,Rn=(kn.bottom-on.clientY)/kn.height;if(Ge){for(ze||(xn=.5),un=0;un<_e.length;un++)Hn(_e[un],xn,Tn);Qt("x"),bt[2]*=Tn,bt[0]+=bt[2]*xn*(1/Tn-1)}if(Ke){for(we||(Rn=.5),un=0;un<Le.length;un++)Hn(Le[un],Rn,Tn);Qt("y"),bt[3]*=Tn,bt[1]+=bt[3]*(1-Rn)*(1/Tn-1)}fn(bt),pn(),le.emit("plotly_relayouting",ct),Tt=setTimeout(function(){le._fullLayout&&(bt=[0,0,je,qe],nn())},It),on.preventDefault()}else E.log("Did not find wheel motion attributes: ",on)}function Hn(En,Wn,gr){if(!En.fixedrange){var lr=E.simpleMap(En.range,En.r2l),wr=lr[0]+(lr[1]-lr[0])*Wn;En.range=lr.map(function(dr){return En.l2r(wr+(dr-wr)*gr)})}}}),Ht},makeDragger:j,makeRectDragger:X,makeZoombox:W,makeCorners:Z,updateZoombox:se,xyCorners:ee,transitionZoombox:re,removeZoombox:ne,showDoubleClickNotifier:Q,attachWheelEventHandler:ce}},4305:function(ae,B,r){"use strict";var D=r(39898),E=r(30211),f=r(28569),k=r(6964),M=r(29323).makeDragBox,y=r(85555).DRAGGERSIZE;B.initInteractions=function(c){var i=c._fullLayout;if(c._context.staticPlot)D.select(c).selectAll(".drag").remove();else if(i._has("cartesian")||i._has("splom")){Object.keys(i._plots||{}).sort(function(a,o){if((i._plots[a].mainplot&&!0)===(i._plots[o].mainplot&&!0)){var l=a.split("y"),u=o.split("y");return l[0]===u[0]?Number(l[1]||1)-Number(u[1]||1):Number(l[0]||1)-Number(u[0]||1)}return i._plots[a].mainplot?1:-1}).forEach(function(a){var o=i._plots[a],l=o.xaxis,u=o.yaxis;if(!o.mainplot){var h=M(c,o,l._offset,u._offset,l._length,u._length,"ns","ew");h.onmousemove=function(T){c._fullLayout._rehover=function(){c._fullLayout._hoversubplot===a&&c._fullLayout._plots[a]&&E.hover(c,T,a)},E.hover(c,T,a),c._fullLayout._lasthover=h,c._fullLayout._hoversubplot=a},h.onmouseout=function(T){c._dragging||(c._fullLayout._hoversubplot=null,f.unhover(c,T))},c._context.showAxisDragHandles&&(M(c,o,l._offset-y,u._offset-y,y,y,"n","w"),M(c,o,l._offset+l._length,u._offset-y,y,y,"n","e"),M(c,o,l._offset-y,u._offset+u._length,y,y,"s","w"),M(c,o,l._offset+l._length,u._offset+u._length,y,y,"s","e"))}if(c._context.showAxisDragHandles){if(a===l._mainSubplot){var v=l._mainLinePosition;"top"===l.side&&(v-=y),M(c,o,l._offset+.1*l._length,v,.8*l._length,y,"","ew"),M(c,o,l._offset,v,.1*l._length,y,"","w"),M(c,o,l._offset+.9*l._length,v,.1*l._length,y,"","e")}if(a===u._mainSubplot){var p=u._mainLinePosition;"right"!==u.side&&(p-=y),M(c,o,p,u._offset+.1*u._length,y,.8*u._length,"ns",""),M(c,o,p,u._offset+.9*u._length,y,.1*u._length,"s",""),M(c,o,p,u._offset,y,.1*u._length,"n","")}}});var s=i._hoverlayer.node();s.onmousemove=function(a){a.target=c._fullLayout._lasthover,E.hover(c,a,i._hoversubplot)},s.onclick=function(a){a.target=c._fullLayout._lasthover,E.click(c,a)},s.onmousedown=function(a){c._fullLayout._lasthover.onmousedown(a)},B.updateFx(c)}},B.updateFx=function(c){var i=c._fullLayout;k(i._draggers,"pan"===i.dragmode?"move":"crosshair")}},76325:function(ae,B,r){"use strict";var D=r(73972),E=r(71828),f=r(41675);ae.exports=function(k){return function(M,y){var c=M[k];if(Array.isArray(c))for(var i=D.subplotsRegistry.cartesian,s=i.idRegex,a=y._subplots,o=a.xaxis,l=a.yaxis,u=a.cartesian,h=y._has("cartesian")||y._has("gl2d"),v=0;v<c.length;v++){var p=c[v];if(E.isPlainObject(p)){var T=f.cleanId(p.xref,"x",!1),_=f.cleanId(p.yref,"y",!1),m=s.x.test(T),w=s.y.test(_);if(m||w){h||E.pushUnique(y._basePlotModules,i);var x=!1;m&&-1===o.indexOf(T)&&(o.push(T),x=!0),w&&-1===l.indexOf(_)&&(l.push(_),x=!0),x&&m&&w&&u.push(T+_)}}}}}},93612:function(ae,B,r){"use strict";var D=r(39898),E=r(73972),f=r(71828),k=r(74875),M=r(91424),y=r(27659).a0,c=r(41675),i=r(85555),s=r(77922),a=f.ensureSingle;function o(p,T,_){return f.ensureSingle(p,T,_,function(m){m.datum(_)})}function l(p,T,_,m,w){for(var x,b,A,g=i.traceLayerClasses,I=p._fullLayout,S=I._modules,O=[],R=[],L=0;L<S.length;L++){var N=(x=S[L]).name,j=E.modules[N].categories;if(j.svg){var X=x.layerName||N+"layer",F=x.plot;A=(b=y(_,F))[0],_=b[1],A.length&&O.push({i:g.indexOf(X),className:X,plotMethod:F,cdModule:A}),j.zoomScale&&R.push("."+X)}}O.sort(function(H,W){return H.i-W.i});var Y=T.plot.selectAll("g.mlayer").data(O,function(H){return H.className});if(Y.enter().append("g").attr("class",function(H){return H.className}).classed("mlayer",!0).classed("rangeplot",T.isRangePlot),Y.exit().remove(),Y.order(),Y.each(function(H){var W=D.select(this),Z=H.className;H.plotMethod(p,T,H.cdModule,W,m,w),-1===i.clipOnAxisFalseQuery.indexOf("."+Z)&&M.setClipUrl(W,T.layerClipId,p)}),I._has("scattergl")&&(x=E.getModule("scattergl"),A=y(_,x)[0],x.plot(p,T,A)),!p._context.staticPlot&&(T._hasClipOnAxisFalse&&(T.clipOnAxisFalseTraces=T.plot.selectAll(i.clipOnAxisFalseQuery.join(",")).selectAll(".trace")),R.length)){var G=T.plot.selectAll(R.join(",")).selectAll(".trace");T.zoomScalePts=G.selectAll("path.point"),T.zoomScaleTxt=G.selectAll(".textpoint")}}function u(p,T){var _=T.plotgroup,m=T.id,w=i.layerValue2layerClass[T.xaxis.layer],x=i.layerValue2layerClass[T.yaxis.layer],b=p._fullLayout._hasOnlyLargeSploms;if(T.mainplot){var A=T.mainplotinfo,g=A.plotgroup,I=m+"-x",S=m+"-y";T.minorGridlayer=A.minorGridlayer,T.gridlayer=A.gridlayer,T.zerolinelayer=A.zerolinelayer,a(A.overlinesBelow,"path",I),a(A.overlinesBelow,"path",S),a(A.overaxesBelow,"g",I),a(A.overaxesBelow,"g",S),T.plot=a(A.overplot,"g",m),a(A.overlinesAbove,"path",I),a(A.overlinesAbove,"path",S),a(A.overaxesAbove,"g",I),a(A.overaxesAbove,"g",S),T.xlines=g.select(".overlines-"+w).select("."+I),T.ylines=g.select(".overlines-"+x).select("."+S),T.xaxislayer=g.select(".overaxes-"+w).select("."+I),T.yaxislayer=g.select(".overaxes-"+x).select("."+S)}else if(b)T.xlines=a(_,"path","xlines-above"),T.ylines=a(_,"path","ylines-above"),T.xaxislayer=a(_,"g","xaxislayer-above"),T.yaxislayer=a(_,"g","yaxislayer-above");else{var O=a(_,"g","layer-subplot");T.shapelayer=a(O,"g","shapelayer"),T.imagelayer=a(O,"g","imagelayer"),T.minorGridlayer=a(_,"g","minor-gridlayer"),T.gridlayer=a(_,"g","gridlayer"),T.zerolinelayer=a(_,"g","zerolinelayer"),a(_,"path","xlines-below"),a(_,"path","ylines-below"),T.overlinesBelow=a(_,"g","overlines-below"),a(_,"g","xaxislayer-below"),a(_,"g","yaxislayer-below"),T.overaxesBelow=a(_,"g","overaxes-below"),T.plot=a(_,"g","plot"),T.overplot=a(_,"g","overplot"),T.xlines=a(_,"path","xlines-above"),T.ylines=a(_,"path","ylines-above"),T.overlinesAbove=a(_,"g","overlines-above"),a(_,"g","xaxislayer-above"),a(_,"g","yaxislayer-above"),T.overaxesAbove=a(_,"g","overaxes-above"),T.xlines=_.select(".xlines-"+w),T.ylines=_.select(".ylines-"+x),T.xaxislayer=_.select(".xaxislayer-"+w),T.yaxislayer=_.select(".yaxislayer-"+x)}b||(o(T.minorGridlayer,"g",T.xaxis._id),o(T.minorGridlayer,"g",T.yaxis._id),T.minorGridlayer.selectAll("g").map(function(R){return R[0]}).sort(c.idSort),o(T.gridlayer,"g",T.xaxis._id),o(T.gridlayer,"g",T.yaxis._id),T.gridlayer.selectAll("g").map(function(R){return R[0]}).sort(c.idSort)),T.xlines.style("fill","none").classed("crisp",!0),T.ylines.style("fill","none").classed("crisp",!0)}function h(p,T){if(p){var _={};for(var m in p.each(function(A){var g=A[0];D.select(this).remove(),v(g,T),_[g]=!0}),T._plots)for(var w=T._plots[m].overlays||[],x=0;x<w.length;x++){var b=w[x];_[b.id]&&b.plot.selectAll(".trace").remove()}}}function v(p,T){T._draggers.selectAll("g."+p).remove(),T._defs.select("#clip"+T._uid+p+"plot").remove()}B.name="cartesian",B.attr=["xaxis","yaxis"],B.idRoot=["x","y"],B.idRegex=i.idRegex,B.attrRegex=i.attrRegex,B.attributes=r(89502),B.layoutAttributes=r(13838),B.supplyLayoutDefaults=r(86763),B.transitionAxes=r(66847),B.finalizeSubplots=function(p,T){var _,m,w,x=T._subplots,b=x.xaxis,A=x.yaxis,g=x.cartesian,I=g.concat(x.gl2d||[]),S={},O={};for(_=0;_<I.length;_++){var R=I[_].split("y");S[R[0]]=1,O["y"+R[1]]=1}for(_=0;_<b.length;_++)S[m=b[_]]||(w=(p[c.id2name(m)]||{}).anchor,i.idRegex.y.test(w)||(w="y"),g.push(m+w),I.push(m+w),O[w]||(O[w]=1,f.pushUnique(A,w)));for(_=0;_<A.length;_++)O[w=A[_]]||(m=(p[c.id2name(w)]||{}).anchor,i.idRegex.x.test(m)||(m="x"),g.push(m+w),I.push(m+w),S[m]||(S[m]=1,f.pushUnique(b,m)));if(!I.length){for(var L in m="",w="",p)i.attrRegex.test(L)&&("x"===L.charAt(0)?(!m||+L.substr(5)<+m.substr(5))&&(m=L):(!w||+L.substr(5)<+w.substr(5))&&(w=L));m=m?c.name2id(m):"x",w=w?c.name2id(w):"y",b.push(m),A.push(w),g.push(m+w)}},B.plot=function(p,T,_,m){var w,x=p._fullLayout,b=x._subplots.cartesian,A=p.calcdata;if(!Array.isArray(T))for(T=[],w=0;w<A.length;w++)T.push(w);for(w=0;w<b.length;w++){for(var g,I=b[w],S=x._plots[I],O=[],R=0;R<A.length;R++){var L=A[R],N=L[0].trace;N.xaxis+N.yaxis===I&&((-1!==T.indexOf(N.index)||N.carpet)&&(g&&g[0].trace.xaxis+g[0].trace.yaxis===I&&-1!==["tonextx","tonexty","tonext"].indexOf(N.fill)&&-1===O.indexOf(g)&&O.push(g),O.push(L)),g=L)}l(p,S,O,_,m)}},B.clean=function(p,T,_,m){var w,x,b,A=m._plots||{},g=T._plots||{},I=m._subplots||{};if(m._hasOnlyLargeSploms&&!T._hasOnlyLargeSploms)for(b in A)(w=A[b]).plotgroup&&w.plotgroup.remove();var S=m._has&&m._has("gl"),O=T._has&&T._has("gl");if(S&&!O)for(b in A)(w=A[b])._scene&&w._scene.destroy();if(I.xaxis&&I.yaxis){var R=c.listIds({_fullLayout:m});for(x=0;x<R.length;x++){var L=R[x];T[c.id2name(L)]||m._infolayer.selectAll(".g-"+L+"title").remove()}}var N=m._has&&m._has("cartesian"),j=T._has&&T._has("cartesian");if(N&&!j)h(m._cartesianlayer.selectAll(".subplot"),m),m._defs.selectAll(".axesclip").remove(),delete m._axisConstraintGroups,delete m._axisMatchGroups;else if(I.cartesian)for(x=0;x<I.cartesian.length;x++){var X=I.cartesian[x];g[X]||(m._cartesianlayer.selectAll("."+X+",."+X+"-x,."+X+"-y").remove(),v(X,m))}},B.drawFramework=function(p){var T=p._fullLayout,_=function(w){var x,b,A,g,I,S,O=w._fullLayout,R=O._subplots.cartesian,L=R.length,N=[],j=[];for(x=0;x<L;x++){var Y=(I=(g=O._plots[A=R[x]]).xaxis)._mainAxis._id+(S=g.yaxis)._mainAxis._id,G=O._plots[Y];g.overlays=[],Y!==A&&G?(g.mainplot=Y,g.mainplotinfo=G,j.push(A)):(g.mainplot=void 0,g.mainplotinfo=void 0,N.push(A))}for(x=0;x<j.length;x++)(g=O._plots[A=j[x]]).mainplotinfo.overlays.push(g);var H=N.concat(j),W=new Array(L);for(x=0;x<L;x++){var Z=[A=H[x],(I=(g=O._plots[A]).xaxis).layer,(S=g.yaxis).layer,I.overlaying||"",S.overlaying||""];for(b=0;b<g.overlays.length;b++)Z.push(g.overlays[b].id);W[x]=Z}return W}(p),m=T._cartesianlayer.selectAll(".subplot").data(_,String);m.enter().append("g").attr("class",function(w){return"subplot "+w[0]}),m.order(),m.exit().call(h,T),m.each(function(w){var x=w[0],b=T._plots[x];b.plotgroup=D.select(this),u(p,b),b.draglayer=a(T._draggers,"g",x)})},B.rangePlot=function(p,T,_){u(p,T),l(p,T,_),k.style(p)},B.toSVG=function(p){var T=p._fullLayout._glimages,_=D.select(p).selectAll(".svg-container");_.filter(function(m,w){return w===_.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus").each(function(){var m=this,w=m.toDataURL("image/png");T.append("svg:image").attr({xmlns:s.svg,"xlink:href":w,preserveAspectRatio:"none",x:0,y:0,width:m.style.width,height:m.style.height})})},B.updateFx=r(4305).updateFx},13838:function(ae,B,r){"use strict";var D=r(41940),E=r(22399),f=r(79952).P,k=r(1426).extendFlat,M=r(44467).templatedArray,y=r(12663).descriptionWithDates,c=r(50606).ONEDAY,i=r(85555),s=i.HOUR_PATTERN,a=i.WEEKDAY_PATTERN,o={valType:"enumerated",values:["auto","linear","array"],editType:"ticks",impliedEdits:{tick0:void 0,dtick:void 0}},l=k({},o,{values:o.values.slice().concat(["sync"])});function u(I){return{valType:"integer",min:0,dflt:I?5:0,editType:"ticks"}}var h={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},v={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},p={valType:"data_array",editType:"ticks"},T={valType:"enumerated",values:["outside","inside",""],editType:"ticks"};function _(I){var S={valType:"number",min:0,editType:"ticks"};return I||(S.dflt=5),S}function m(I){var S={valType:"number",min:0,editType:"ticks"};return I||(S.dflt=1),S}var w={valType:"color",dflt:E.defaultLine,editType:"ticks"},x={valType:"color",dflt:E.lightLine,editType:"ticks"};function b(I){var S={valType:"number",min:0,editType:"ticks"};return I||(S.dflt=1),S}var A=k({},f,{editType:"ticks"}),g={valType:"boolean",editType:"ticks"};ae.exports={visible:{valType:"boolean",editType:"plot"},color:{valType:"color",dflt:E.defaultLine,editType:"ticks"},title:{text:{valType:"string",editType:"ticks"},font:D({editType:"ticks"}),standoff:{valType:"number",min:0,editType:"ticks"},editType:"ticks"},type:{valType:"enumerated",values:["-","linear","log","date","category","multicategory"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},autorange:{valType:"enumerated",values:[!0,!1,"reversed","min reversed","max reversed","min","max"],dflt:!0,editType:"axrange",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},autorangeoptions:{minallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmin:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmax:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},include:{valType:"any",arrayOk:!0,editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},editType:"plot"},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"plot"},range:{valType:"info_array",items:[{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0},{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0}],editType:"axrange",impliedEdits:{autorange:!1},anim:!0},minallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},insiderange:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},scaleanchor:{valType:"enumerated",values:[i.idRegex.x.toString(),i.idRegex.y.toString(),!1],editType:"plot"},scaleratio:{valType:"number",min:0,dflt:1,editType:"plot"},constrain:{valType:"enumerated",values:["range","domain"],editType:"plot"},constraintoward:{valType:"enumerated",values:["left","center","right","top","middle","bottom"],editType:"plot"},matches:{valType:"enumerated",values:[i.idRegex.x.toString(),i.idRegex.y.toString()],editType:"calc"},rangebreaks:M("rangebreak",{enabled:{valType:"boolean",dflt:!0,editType:"calc"},bounds:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},pattern:{valType:"enumerated",values:[a,s,""],editType:"calc"},values:{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"any",editType:"calc"}},dvalue:{valType:"number",editType:"calc",min:0,dflt:c},editType:"calc"}),tickmode:l,nticks:u(),tick0:h,dtick:v,ticklabelstep:{valType:"integer",min:1,dflt:1,editType:"ticks"},tickvals:p,ticktext:{valType:"data_array",editType:"ticks"},ticks:T,tickson:{valType:"enumerated",values:["labels","boundaries"],dflt:"labels",editType:"ticks"},ticklabelmode:{valType:"enumerated",values:["instant","period"],dflt:"instant",editType:"ticks"},ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside",editType:"calc"},ticklabeloverflow:{valType:"enumerated",values:["allow","hide past div","hide past domain"],editType:"calc"},mirror:{valType:"enumerated",values:[!0,"ticks",!1,"all","allticks"],dflt:!1,editType:"ticks+layoutstyle"},ticklen:_(),tickwidth:m(),tickcolor:w,showticklabels:{valType:"boolean",dflt:!0,editType:"ticks"},labelalias:{valType:"any",dflt:!1,editType:"ticks"},automargin:{valType:"flaglist",flags:["height","width","left","right","top","bottom"],extras:[!0,!1],dflt:!1,editType:"ticks"},showspikes:{valType:"boolean",dflt:!1,editType:"modebar"},spikecolor:{valType:"color",dflt:null,editType:"none"},spikethickness:{valType:"number",dflt:3,editType:"none"},spikedash:k({},f,{dflt:"dash",editType:"none"}),spikemode:{valType:"flaglist",flags:["toaxis","across","marker"],dflt:"toaxis",editType:"none"},spikesnap:{valType:"enumerated",values:["data","cursor","hovered data"],dflt:"hovered data",editType:"none"},tickfont:D({editType:"ticks"}),tickangle:{valType:"angle",dflt:"auto",editType:"ticks"},tickprefix:{valType:"string",dflt:"",editType:"ticks"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},ticksuffix:{valType:"string",dflt:"",editType:"ticks"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"ticks"},minexponent:{valType:"number",dflt:3,min:0,editType:"ticks"},separatethousands:{valType:"boolean",dflt:!1,editType:"ticks"},tickformat:{valType:"string",dflt:"",editType:"ticks",description:y("tick label")},tickformatstops:M("tickformatstop",{enabled:{valType:"boolean",dflt:!0,editType:"ticks"},dtickrange:{valType:"info_array",items:[{valType:"any",editType:"ticks"},{valType:"any",editType:"ticks"}],editType:"ticks"},value:{valType:"string",dflt:"",editType:"ticks"},editType:"ticks"}),hoverformat:{valType:"string",dflt:"",editType:"none",description:y("hover text")},showline:{valType:"boolean",dflt:!1,editType:"ticks+layoutstyle"},linecolor:{valType:"color",dflt:E.defaultLine,editType:"layoutstyle"},linewidth:{valType:"number",min:0,dflt:1,editType:"ticks+layoutstyle"},showgrid:g,gridcolor:x,gridwidth:b(),griddash:A,zeroline:{valType:"boolean",editType:"ticks"},zerolinecolor:{valType:"color",dflt:E.defaultLine,editType:"ticks"},zerolinewidth:{valType:"number",dflt:1,editType:"ticks"},showdividers:{valType:"boolean",dflt:!0,editType:"ticks"},dividercolor:{valType:"color",dflt:E.defaultLine,editType:"ticks"},dividerwidth:{valType:"number",dflt:1,editType:"ticks"},anchor:{valType:"enumerated",values:["free",i.idRegex.x.toString(),i.idRegex.y.toString()],editType:"plot"},side:{valType:"enumerated",values:["top","bottom","left","right"],editType:"plot"},overlaying:{valType:"enumerated",values:["free",i.idRegex.x.toString(),i.idRegex.y.toString()],editType:"plot"},minor:{tickmode:o,nticks:u("minor"),tick0:h,dtick:v,tickvals:p,ticks:T,ticklen:_("minor"),tickwidth:m("minor"),tickcolor:w,gridcolor:x,gridwidth:b("minor"),griddash:A,showgrid:g,editType:"ticks"},layer:{valType:"enumerated",values:["above traces","below traces"],dflt:"above traces",editType:"plot"},domain:{valType:"info_array",items:[{valType:"number",min:0,max:1,editType:"plot"},{valType:"number",min:0,max:1,editType:"plot"}],dflt:[0,1],editType:"plot"},position:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},autoshift:{valType:"boolean",dflt:!1,editType:"plot"},shift:{valType:"number",editType:"plot"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array","total ascending","total descending","min ascending","min descending","max ascending","max descending","sum ascending","sum descending","mean ascending","mean descending","median ascending","median descending"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{autotick:{valType:"boolean",editType:"ticks"},title:{valType:"string",editType:"ticks"},titlefont:D({editType:"ticks"})}}},86763:function(ae,B,r){"use strict";var D=r(71828),E=r(7901),f=r(23469).isUnifiedHover,k=r(98212),M=r(44467),y=r(10820),c=r(13838),i=r(951),s=r(71453),a=r(99082),o=r(52830),l=r(41675),u=l.id2name,h=l.name2id,v=r(85555).AX_ID_PATTERN,p=r(73972),T=p.traceIs,_=p.getComponentMethod;function m(w,x,b){Array.isArray(w[x])?w[x].push(b):w[x]=[b]}ae.exports=function(w,x,b){var A,g,I=x.autotypenumbers,S={},O={},R={},L={},N={},j={},X={},F={},Y={},G={};for(A=0;A<b.length;A++){var H=b[A];if(T(H,"cartesian")||T(H,"gl2d")){var W,Z;if(H.xaxis)W=u(H.xaxis),m(S,W,H);else if(H.xaxes)for(g=0;g<H.xaxes.length;g++)m(S,u(H.xaxes[g]),H);if(H.yaxis)Z=u(H.yaxis),m(S,Z,H);else if(H.yaxes)for(g=0;g<H.yaxes.length;g++)m(S,u(H.yaxes[g]),H);"funnel"===H.type?"h"===H.orientation?(W&&(O[W]=!0),Z&&(X[Z]=!0)):Z&&(R[Z]=!0):"image"===H.type?(Z&&(F[Z]=!0),W&&(F[W]=!0)):(Z&&(N[Z]=!0,j[Z]=!0),T(H,"carpet")&&("carpet"!==H.type||H._cheater)||W&&(L[W]=!0)),"carpet"===H.type&&H._cheater&&W&&(O[W]=!0),T(H,"2dMap")&&(Y[W]=!0,Y[Z]=!0),T(H,"oriented")&&(G["h"===H.orientation?Z:W]=!0)}}var se=x._subplots,re=se.xaxis,ne=se.yaxis,Q=D.simpleMap(re,u),ee=D.simpleMap(ne,u),oe=Q.concat(ee),ce=E.background;re.length&&ne.length&&(ce=D.coerce(w,x,y,"plot_bgcolor"));var fe,le,pe,Me,Ae,be=E.combine(ce,x.paper_bgcolor);function ye(){Ae._traceIndices=(S[fe]||[]).map(function(Pt){return Pt._expandedIndex}),Ae._annIndices=[],Ae._shapeIndices=[],Ae._selectionIndices=[],Ae._imgIndices=[],Ae._subplotsWith=[],Ae._counterAxes=[],Ae._name=Ae._attr=fe,Ae._id=le}function we(pt,Pt){return D.coerce(Me,Ae,c,pt,Pt)}function ze(pt,Pt){return D.coerce2(Me,Ae,c,pt,Pt)}function Se(pt){return"x"===pt?ne:re}function Ce(pt,Pt){for(var zt="x"===pt?Q:ee,Ht=[],Lt=0;Lt<zt.length;Lt++){var tt=zt[Lt];tt===Pt||(w[tt]||{}).overlaying||Ht.push(h(tt))}return Ht}var ge={x:Se("x"),y:Se("y")},he=ge.x.concat(ge.y),_e={},Le=[];function Ie(){var pt=Me.matches;v.test(pt)&&-1===he.indexOf(pt)&&(_e[pt]=Me.type,Le=Object.keys(_e))}var De=k(w,x),je=f(De);for(A=0;A<oe.length;A++){le=h(fe=oe[A]),pe=fe.charAt(0),D.isPlainObject(w[fe])||(w[fe]={}),Me=w[fe],Ae=M.newContainer(x,fe,pe+"axis"),ye();var Oe={hasMinor:!0,letter:pe,font:x.font,outerTicks:Y[fe],showGrid:!G[fe],data:S[fe]||[],bgColor:be,calendar:x.calendar,automargin:!0,visibleDflt:"x"===pe&&!L[fe]&&O[fe]||"y"===pe&&!N[fe]&&R[fe],reverseDflt:"y"===pe&&(!j[fe]&&X[fe]||F[fe]),autotypenumbersDflt:I,splomStash:((x._splomAxes||{})[pe]||{})[le]};we("uirevision",x.uirevision),i(Me,Ae,we,Oe),s(Me,Ae,we,Oe,x);var ke=je&&pe===De.charAt(0),Be=ze("spikecolor",je?Ae.color:void 0),We=ze("spikethickness",je?1.5:void 0),Ge=ze("spikedash",je?"dot":void 0),Ke=ze("spikemode",je?"across":void 0),et=ze("spikesnap");we("showspikes",!!(ke||Be||We||Ge||Ke||et))||(delete Ae.spikecolor,delete Ae.spikethickness,delete Ae.spikedash,delete Ae.spikemode,delete Ae.spikesnap);var at=u(Me.overlaying),mt=[0,1];if(void 0!==x[at]){var ct=u(x[at].anchor);void 0!==x[ct]&&(mt=x[ct].domain)}o(Me,Ae,we,{letter:pe,counterAxes:ge[pe],overlayableAxes:Ce(pe,fe),grid:x.grid,overlayingDomain:mt}),we("title.standoff"),Ie(),Ae._input=Me}for(A=0;A<Le.length;){le=Le[A++],pe=(fe=u(le)).charAt(0),D.isPlainObject(w[fe])||(w[fe]={}),Me=w[fe],Ae=M.newContainer(x,fe,pe+"axis"),ye();var kt={letter:pe,font:x.font,outerTicks:Y[fe],showGrid:!G[fe],data:[],bgColor:be,calendar:x.calendar,automargin:!0,visibleDflt:!1,reverseDflt:!1,autotypenumbersDflt:I,splomStash:((x._splomAxes||{})[pe]||{})[le]};we("uirevision",x.uirevision),Ae.type=_e[le]||"linear",s(Me,Ae,we,kt,x),o(Me,Ae,we,{letter:pe,counterAxes:ge[pe],overlayableAxes:Ce(pe,fe),grid:x.grid}),we("fixedrange"),Ie(),Ae._input=Me}var Dt=_("rangeslider","handleDefaults"),Et=_("rangeselector","handleDefaults");for(A=0;A<Q.length;A++)Me=w[fe=Q[A]],Ae=x[fe],Dt(w,x,fe),"date"===Ae.type&&Et(Me,Ae,x,ee,Ae.calendar),we("fixedrange");for(A=0;A<ee.length;A++){Me=w[fe=ee[A]];var ht=x[u((Ae=x[fe]).anchor)];we("fixedrange",_("rangeslider","isVisible")(ht))}a.handleDefaults(w,x,{axIds:he.concat(Le).sort(l.idSort),axHasImage:F})}},92128:function(ae,B,r){"use strict";var D=r(84267).mix,E=r(22399),f=r(71828);ae.exports=function(k,M,y,c){var i=(c=c||{}).dfltColor;function s(w,x){return f.coerce2(k,M,c.attributes,w,x)}var a=s("linecolor",i),o=s("linewidth");y("showline",c.showLine||!!a||!!o)||(delete M.linecolor,delete M.linewidth);var l=s("gridcolor",D(i,c.bgColor,c.blend||E.lightFraction).toRgbString()),u=s("gridwidth"),h=s("griddash");if(y("showgrid",c.showGrid||!!l||!!u||!!h)||(delete M.gridcolor,delete M.gridwidth,delete M.griddash),c.hasMinor){var v=s("minor.gridcolor",D(M.gridcolor,c.bgColor,67).toRgbString()),p=s("minor.gridwidth",M.gridwidth||1),T=s("minor.griddash",M.griddash||"solid");y("minor.showgrid",!!v||!!p||!!T)||(delete M.minor.gridcolor,delete M.minor.gridwidth,delete M.minor.griddash)}if(!c.noZeroLine){var _=s("zerolinecolor",i),m=s("zerolinewidth");y("zeroline",c.showGrid||!!_||!!m)||(delete M.zerolinecolor,delete M.zerolinewidth)}}},52830:function(ae,B,r){"use strict";var D=r(92770),E=r(71828);ae.exports=function(f,k,M,y){var c,i,s,a,o,l,u=y.counterAxes||[],h=y.overlayableAxes||[],v=y.letter,p=y.grid,T=y.overlayingDomain;p&&(c=p._anchors[k._id],(i=p._domains[v][p._axisMap[k._id]])&&(s=p[v+"side"].split(" ")[0],a=p.domain[v]["right"===s||"top"===s?1:0])),i=i||[0,1],c=c||(D(f.position)?"free":u[0]||"free"),s=s||("x"===v?"bottom":"left"),a=a||0,o=0,l=!1;var _=E.coerce(f,k,{anchor:{valType:"enumerated",values:["free"].concat(u),dflt:c}},"anchor"),m=E.coerce(f,k,{side:{valType:"enumerated",values:"x"===v?["bottom","top"]:["left","right"],dflt:s}},"side");"free"===_&&("y"===v&&(M("autoshift")&&(a="left"===m?T[0]:T[1],l=!k.automargin||k.automargin,o="left"===m?-3:3),M("shift",o)),M("position",a)),M("automargin",l);var w=!1;if(h.length&&(w=E.coerce(f,k,{overlaying:{valType:"enumerated",values:[!1].concat(h),dflt:!1}},"overlaying")),!w){var x=M("domain",i);x[0]>x[1]-.000244140625&&(k.domain=i),E.noneOrAll(f.domain,k.domain,i),"sync"===k.tickmode&&(k.tickmode="auto")}return M("layer"),k}},89426:function(ae,B,r){"use strict";var D=r(59652);ae.exports=function(E,f,k,M,y){y||(y={});var c=y.tickSuffixDflt,i=D(E);k("tickprefix")&&k("showtickprefix",i),k("ticksuffix",c)&&k("showticksuffix",i)}},23608:function(ae,B,r){"use strict";var D=r(23074);ae.exports=function(E,f,k,M){var c=f.type||(f._template||{}).type||"-";k("minallowed"),k("maxallowed");var i,s=k("range");s||M.noInsiderange||"log"===c||(!(i=k("insiderange"))||null!==i[0]&&null!==i[1]||(f.insiderange=!1,i=void 0),i&&(s=k("range",i)));var a,o=f.getAutorangeDflt(s,M),l=k("autorange",o);!s||(null!==s[0]||null!==s[1])&&(null!==s[0]&&null!==s[1]||"reversed"!==l&&!0!==l)&&(null===s[0]||"min"!==l&&"max reversed"!==l)&&(null===s[1]||"max"!==l&&"min reversed"!==l)||(s=void 0,delete f.range,f.autorange=!0,a=!0),a||(l=k("autorange",o=f.getAutorangeDflt(s,M))),l&&(D(k,l,s),"linear"!==c&&"-"!==c||k("rangemode")),f.cleanRange()}},42449:function(ae,B,r){"use strict";var D=r(18783).FROM_BL;ae.exports=function(E,f,k){void 0===k&&(k=D[E.constraintoward||"center"]);var M=[E.r2l(E.range[0]),E.r2l(E.range[1])],y=M[0]+(M[1]-M[0])*k;E.range=E._input.range=[E.l2r(y+(M[0]-y)*f),E.l2r(y+(M[1]-y)*f)],E.setScale()}},21994:function(ae,B,r){"use strict";var D=r(39898),E=r(84096).g0,f=r(71828),k=f.numberFormat,M=r(92770),y=f.cleanNumber,c=f.ms2DateTime,i=f.dateTime2ms,s=f.ensureNumber,a=f.isArrayOrTypedArray,o=r(50606),l=o.FP_SAFE,u=o.BADNUM,h=o.LOG_CLIP,v=o.ONEWEEK,p=o.ONEDAY,T=o.ONEHOUR,_=o.ONEMIN,m=o.ONESEC,w=r(41675),x=r(85555),b=x.HOUR_PATTERN,A=x.WEEKDAY_PATTERN;function g(S){return Math.pow(10,S)}function I(S){return null!=S}ae.exports=function(S,O){O=O||{};var R=S._id||"x",L=R.charAt(0);function N(oe,ce){if(oe>0)return Math.log(oe)/Math.LN10;if(oe<=0&&ce&&S.range&&2===S.range.length){var fe=S.range[0],le=S.range[1];return.5*(fe+le-2*h*Math.abs(fe-le))}return u}function j(oe,ce,fe,le){if((le||{}).msUTC&&M(oe))return+oe;var pe=i(oe,fe||S.calendar);if(pe===u){if(!M(oe))return u;oe=+oe;var Me=Math.floor(10*f.mod(oe+.05,1)),Ae=Math.round(oe-Me/10);pe=i(new Date(Ae))+Me/10}return pe}function X(oe,ce,fe){return c(oe,ce,fe||S.calendar)}function F(oe){return S._categories[Math.round(oe)]}function Y(oe){if(I(oe)){if(void 0===S._categoriesMap&&(S._categoriesMap={}),void 0!==S._categoriesMap[oe])return S._categoriesMap[oe];S._categories.push("number"==typeof oe?String(oe):oe);var ce=S._categories.length-1;return S._categoriesMap[oe]=ce,ce}return u}function G(oe){if(S._categoriesMap)return S._categoriesMap[oe]}function H(oe){var ce=G(oe);return void 0!==ce?ce:M(oe)?+oe:void 0}function W(oe){return M(oe)?+oe:G(oe)}function Z(oe,ce,fe){return D.round(fe+ce*oe,2)}function se(oe,ce,fe){return(oe-fe)/ce}var re=function(oe){return M(oe)?Z(oe,S._m,S._b):u},ne=function(oe){return se(oe,S._m,S._b)};if(S.rangebreaks){var Q="y"===L;re=function(oe){if(!M(oe))return u;var ce=S._rangebreaks.length;if(!ce)return Z(oe,S._m,S._b);var fe=Q;S.range[0]>S.range[1]&&(fe=!fe);for(var le=fe?-1:1,pe=le*oe,Me=0,Ae=0;Ae<ce;Ae++){var be=le*S._rangebreaks[Ae].min,ye=le*S._rangebreaks[Ae].max;if(pe<be)break;if(!(pe>ye)){Me=pe<(be+ye)/2?Ae:Ae+1;break}Me=Ae+1}var we=S._B[Me]||0;return isFinite(we)?Z(oe,S._m2,we):0},ne=function(oe){var ce=S._rangebreaks.length;if(!ce)return se(oe,S._m,S._b);for(var fe=0,le=0;le<ce&&!(oe<S._rangebreaks[le].pmin);le++)oe>S._rangebreaks[le].pmax&&(fe=le+1);return se(oe,S._m2,S._B[fe])}}S.c2l="log"===S.type?N:s,S.l2c="log"===S.type?g:s,S.l2p=re,S.p2l=ne,S.c2p="log"===S.type?function(oe,ce){return re(N(oe,ce))}:re,S.p2c="log"===S.type?function(oe){return g(ne(oe))}:ne,-1!==["linear","-"].indexOf(S.type)?(S.d2r=S.r2d=S.d2c=S.r2c=S.d2l=S.r2l=y,S.c2d=S.c2r=S.l2d=S.l2r=s,S.d2p=S.r2p=function(oe){return S.l2p(y(oe))},S.p2d=S.p2r=ne,S.cleanPos=s):"log"===S.type?(S.d2r=S.d2l=function(oe,ce){return N(y(oe),ce)},S.r2d=S.r2c=function(oe){return g(y(oe))},S.d2c=S.r2l=y,S.c2d=S.l2r=s,S.c2r=N,S.l2d=g,S.d2p=function(oe,ce){return S.l2p(S.d2r(oe,ce))},S.p2d=function(oe){return g(ne(oe))},S.r2p=function(oe){return S.l2p(y(oe))},S.p2r=ne,S.cleanPos=s):"date"===S.type?(S.d2r=S.r2d=f.identity,S.d2c=S.r2c=S.d2l=S.r2l=j,S.c2d=S.c2r=S.l2d=S.l2r=X,S.d2p=S.r2p=function(oe,ce,fe){return S.l2p(j(oe,0,fe))},S.p2d=S.p2r=function(oe,ce,fe){return X(ne(oe),ce,fe)},S.cleanPos=function(oe){return f.cleanDate(oe,u,S.calendar)}):"category"===S.type?(S.d2c=S.d2l=Y,S.r2d=S.c2d=S.l2d=F,S.d2r=S.d2l_noadd=H,S.r2c=function(oe){var ce=W(oe);return void 0!==ce?ce:S.fraction2r(.5)},S.l2r=S.c2r=s,S.r2l=W,S.d2p=function(oe){return S.l2p(S.r2c(oe))},S.p2d=function(oe){return F(ne(oe))},S.r2p=S.d2p,S.p2r=ne,S.cleanPos=function(oe){return"string"==typeof oe&&""!==oe?oe:s(oe)}):"multicategory"===S.type&&(S.r2d=S.c2d=S.l2d=F,S.d2r=S.d2l_noadd=H,S.r2c=function(oe){var ce=H(oe);return void 0!==ce?ce:S.fraction2r(.5)},S.r2c_just_indices=G,S.l2r=S.c2r=s,S.r2l=H,S.d2p=function(oe){return S.l2p(S.r2c(oe))},S.p2d=function(oe){return F(ne(oe))},S.r2p=S.d2p,S.p2r=ne,S.cleanPos=function(oe){return Array.isArray(oe)||"string"==typeof oe&&""!==oe?oe:s(oe)},S.setupMultiCategory=function(oe){var ce,fe,le=S._traceIndices,pe=S._matchGroup;if(pe&&0===S._categories.length)for(var Me in pe)if(Me!==R){var Ae=O[w.id2name(Me)];le=le.concat(Ae._traceIndices)}var be=[[0,{}],[0,{}]],ye=[];for(ce=0;ce<le.length;ce++){var we=oe[le[ce]];if(L in we){var ze=we[L],Se=we._length||f.minRowLength(ze);if(a(ze[0])&&a(ze[1]))for(fe=0;fe<Se;fe++){var Ce=ze[0][fe],ge=ze[1][fe];I(Ce)&&I(ge)&&(ye.push([Ce,ge]),Ce in be[0][1]||(be[0][1][Ce]=be[0][0]++),ge in be[1][1]||(be[1][1][ge]=be[1][0]++))}}}for(ye.sort(function(he,_e){var Le=be[0][1],Ie=Le[he[0]]-Le[_e[0]];if(Ie)return Ie;var De=be[1][1];return De[he[1]]-De[_e[1]]}),ce=0;ce<ye.length;ce++)Y(ye[ce])}),S.fraction2r=function(oe){var ce=S.r2l(S.range[0]),fe=S.r2l(S.range[1]);return S.l2r(ce+oe*(fe-ce))},S.r2fraction=function(oe){var ce=S.r2l(S.range[0]),fe=S.r2l(S.range[1]);return(S.r2l(oe)-ce)/(fe-ce)},S.limitRange=function(oe){var ce=S.minallowed,fe=S.maxallowed;if(void 0!==ce||void 0!==fe){oe||(oe="range");var le=f.nestedProperty(S,oe).get(),pe=f.simpleMap(le,S.r2l),Me=pe[1]<pe[0];Me&&pe.reverse();var Ae=f.simpleMap([ce,fe],S.r2l);void 0!==ce&&pe[0]<Ae[0]&&(le[Me?1:0]=ce),void 0!==fe&&pe[1]>Ae[1]&&(le[Me?0:1]=fe)}},S.cleanRange=function(oe,ce){S._cleanRange(oe,ce),S.limitRange(oe)},S._cleanRange=function(oe,ce){ce||(ce={}),oe||(oe="range");var fe,le,pe=f.nestedProperty(S,oe).get();if(le=(le="date"===S.type?f.dfltRange(S.calendar):"y"===L?x.DFLTRANGEY:"realaxis"===S._name?[0,1]:ce.dfltRange||x.DFLTRANGEX).slice(),"tozero"!==S.rangemode&&"nonnegative"!==S.rangemode||(le[0]=0),pe&&2===pe.length){var Me=null===pe[0],Ae=null===pe[1];for("date"!==S.type||S.autorange||(pe[0]=f.cleanDate(pe[0],u,S.calendar),pe[1]=f.cleanDate(pe[1],u,S.calendar)),fe=0;fe<2;fe++)if("date"===S.type){if(!f.isDateTime(pe[fe],S.calendar)){S[oe]=le;break}if(S.r2l(pe[0])===S.r2l(pe[1])){var be=f.constrain(S.r2l(pe[0]),f.MIN_MS+1e3,f.MAX_MS-1e3);pe[0]=S.l2r(be-1e3),pe[1]=S.l2r(be+1e3);break}}else{if(!M(pe[fe])){if(Me||Ae||!M(pe[1-fe])){S[oe]=le;break}pe[fe]=pe[1-fe]*(fe?10:.1)}if(pe[fe]<-l?pe[fe]=-l:pe[fe]>l&&(pe[fe]=l),pe[0]===pe[1]){var ye=Math.max(1,Math.abs(1e-6*pe[0]));pe[0]-=ye,pe[1]+=ye}}}else f.nestedProperty(S,oe).set(le)},S.setScale=function(oe){var ce=O._size;if(S.overlaying){var fe=w.getFromId({_fullLayout:O},S.overlaying);S.domain=fe.domain}var le=oe&&S._r?"_r":"range",pe=S.calendar;S.cleanRange(le);var Me,Ae,be=S.r2l(S[le][0],pe),ye=S.r2l(S[le][1],pe),we="y"===L;if(we?(S._offset=ce.t+(1-S.domain[1])*ce.h,S._length=ce.h*(S.domain[1]-S.domain[0]),S._m=S._length/(be-ye),S._b=-S._m*ye):(S._offset=ce.l+S.domain[0]*ce.w,S._length=ce.w*(S.domain[1]-S.domain[0]),S._m=S._length/(ye-be),S._b=-S._m*be),S._rangebreaks=[],S._lBreaks=0,S._m2=0,S._B=[],S.rangebreaks&&(S._rangebreaks=S.locateBreaks(Math.min(be,ye),Math.max(be,ye)),S._rangebreaks.length)){for(Me=0;Me<S._rangebreaks.length;Me++)Ae=S._rangebreaks[Me],S._lBreaks+=Math.abs(Ae.max-Ae.min);var ze=we;be>ye&&(ze=!ze),ze&&S._rangebreaks.reverse();var Se=ze?-1:1;for(S._m2=Se*S._length/(Math.abs(ye-be)-S._lBreaks),S._B.push(-S._m2*(we?ye:be)),Me=0;Me<S._rangebreaks.length;Me++)S._B.push(S._B[S._B.length-1]-Se*S._m2*((Ae=S._rangebreaks[Me]).max-Ae.min));for(Me=0;Me<S._rangebreaks.length;Me++)(Ae=S._rangebreaks[Me]).pmin=re(Ae.min),Ae.pmax=re(Ae.max)}if(!isFinite(S._m)||!isFinite(S._b)||S._length<0)throw O._replotting=!1,new Error("Something went wrong with axis scaling")},S.maskBreaks=function(oe){var ce,fe,le,pe,Me,Ae=S.rangebreaks||[];Ae._cachedPatterns||(Ae._cachedPatterns=Ae.map(function(Ce){return Ce.enabled&&Ce.bounds?f.simpleMap(Ce.bounds,Ce.pattern?y:S.d2c):null})),Ae._cachedValues||(Ae._cachedValues=Ae.map(function(Ce){return Ce.enabled&&Ce.values?f.simpleMap(Ce.values,S.d2c).sort(f.sorterAsc):null}));for(var be=0;be<Ae.length;be++){var ye=Ae[be];if(ye.enabled)if(ye.bounds){switch(fe=(ce=Ae._cachedPatterns[be])[0],le=ce[1],ye.pattern){case A:pe=(Me=new Date(oe)).getUTCDay(),fe>le&&(le+=7,pe<fe&&(pe+=7));break;case b:pe=(Me=new Date(oe)).getUTCHours()+(Me.getUTCMinutes()/60+Me.getUTCSeconds()/3600+Me.getUTCMilliseconds()/36e5),fe>le&&(le+=24,pe<fe&&(pe+=24));break;case"":pe=oe}if(pe>=fe&&pe<le)return u}else for(var ze=Ae._cachedValues[be],Se=0;Se<ze.length;Se++)if(le=(fe=ze[Se])+ye.dvalue,oe>=fe&&oe<le)return u}return oe},S.locateBreaks=function(oe,ce){var fe,le,pe,Me,Ae=[];if(!S.rangebreaks)return Ae;var be=S.rangebreaks.slice().sort(function(De,je){return De.pattern===A&&je.pattern===b?-1:je.pattern===A&&De.pattern===b?1:0}),ye=function(De,je){if((De=f.constrain(De,oe,ce))!==(je=f.constrain(je,oe,ce))){for(var qe=!0,ve=0;ve<Ae.length;ve++){var Oe=Ae[ve];De<Oe.max&&je>=Oe.min&&(De<Oe.min&&(Oe.min=De),je>Oe.max&&(Oe.max=je),qe=!1)}qe&&Ae.push({min:De,max:je})}};for(fe=0;fe<be.length;fe++){var we=be[fe];if(we.enabled)if(we.bounds){var ze=oe,Se=ce;we.pattern&&(ze=Math.floor(ze)),pe=(le=f.simpleMap(we.bounds,we.pattern?y:S.r2l))[0],Me=le[1];var Ce,ge,he=new Date(ze);switch(we.pattern){case A:ge=v,Ce=(Me-pe+(Me<pe?7:0))*p,ze+=pe*p-(he.getUTCDay()*p+he.getUTCHours()*T+he.getUTCMinutes()*_+he.getUTCSeconds()*m+he.getUTCMilliseconds());break;case b:ge=p,Ce=(Me-pe+(Me<pe?24:0))*T,ze+=pe*T-(he.getUTCHours()*T+he.getUTCMinutes()*_+he.getUTCSeconds()*m+he.getUTCMilliseconds());break;default:ze=Math.min(le[0],le[1]),Ce=ge=(Se=Math.max(le[0],le[1]))-ze}for(var _e=ze;_e<Se;_e+=ge)ye(_e,_e+Ce)}else for(var Le=f.simpleMap(we.values,S.d2c),Ie=0;Ie<Le.length;Ie++)ye(pe=Le[Ie],Me=pe+we.dvalue)}return Ae.sort(function(De,je){return De.min-je.min}),Ae},S.makeCalcdata=function(oe,ce,fe){var le,pe,Me,Ae,be=S.type,ye="date"===be&&oe[ce+"calendar"];if(ce in oe){if(le=oe[ce],Ae=oe._length||f.minRowLength(le),f.isTypedArray(le)&&("linear"===be||"log"===be)){if(Ae===le.length)return le;if(le.subarray)return le.subarray(0,Ae)}if("multicategory"===be)return function(Se,Ce){for(var ge=new Array(Ce),he=0;he<Ce;he++)ge[he]=G([(Se[0]||[])[he],(Se[1]||[])[he]]);return ge}(le,Ae);for(pe=new Array(Ae),Me=0;Me<Ae;Me++)pe[Me]=S.d2c(le[Me],0,ye,fe)}else{var we=ce+"0"in oe?S.d2c(oe[ce+"0"],0,ye):0,ze=oe["d"+ce]?Number(oe["d"+ce]):1;for(le=oe[{x:"y",y:"x"}[ce]],Ae=oe._length||le.length,pe=new Array(Ae),Me=0;Me<Ae;Me++)pe[Me]=we+Me*ze}if(S.rangebreaks)for(Me=0;Me<Ae;Me++)pe[Me]=S.maskBreaks(pe[Me]);return pe},S.isValidRange=function(oe,ce){return Array.isArray(oe)&&2===oe.length&&(ce&&null===oe[0]||M(S.r2l(oe[0])))&&(ce&&null===oe[1]||M(S.r2l(oe[1])))},S.getAutorangeDflt=function(oe,ce){var fe=!S.isValidRange(oe,"nullOk");return fe&&ce&&ce.reverseDflt?fe="reversed":oe&&(null===oe[0]&&null===oe[1]?fe=!0:null===oe[0]&&null!==oe[1]?fe="min":null!==oe[0]&&null===oe[1]&&(fe="max")),fe},S.isReversed=function(){var oe=S.autorange;return"reversed"===oe||"min reversed"===oe||"max reversed"===oe},S.isPtWithinRange=function(oe,ce){var fe=S.c2l(oe[L],null,ce),le=S.r2l(S.range[0]),pe=S.r2l(S.range[1]);return le<pe?le<=fe&&fe<=pe:pe<=fe&&fe<=le},S._emptyCategories=function(){S._categories=[],S._categoriesMap={}},S.clearCalc=function(){var oe=S._matchGroup;if(oe){var ce=null,fe=null;for(var le in oe){var pe=O[w.id2name(le)];if(pe._categories){ce=pe._categories,fe=pe._categoriesMap;break}}ce&&fe?(S._categories=ce,S._categoriesMap=fe):S._emptyCategories()}else S._emptyCategories();if(S._initialCategories)for(var Me=0;Me<S._initialCategories.length;Me++)Y(S._initialCategories[Me])},S.sortByInitialCategories=function(){var oe=[];if(S._emptyCategories(),S._initialCategories)for(var ce=0;ce<S._initialCategories.length;ce++)Y(S._initialCategories[ce]);oe=oe.concat(S._traceIndices);var fe=S._matchGroup;for(var le in fe)if(R!==le){var pe=O[w.id2name(le)];pe._categories=S._categories,pe._categoriesMap=S._categoriesMap,oe=oe.concat(pe._traceIndices)}return oe};var ee=O._d3locale;"date"===S.type&&(S._dateFormat=ee?ee.timeFormat:E,S._extraFormat=O._extraFormat),S._separators=O.separators,S._numFormat=ee?ee.numberFormat:k,delete S._minDtick,delete S._forceTick0}},59652:function(ae){"use strict";ae.exports=function(B){var r=["showexponent","showtickprefix","showticksuffix"].filter(function(D){return void 0!==B[D]});if(r.every(function(D){return B[D]===B[r[0]]})||1===r.length)return B[r[0]]}},96115:function(ae,B,r){"use strict";var D=r(71828),E=r(7901).contrast,f=r(13838),k=r(59652),M=r(85501);function y(c,i){function s(a,o){return D.coerce(c,i,f.tickformatstops,a,o)}s("enabled")&&(s("dtickrange"),s("value"))}ae.exports=function(c,i,s,a,o){o||(o={});var l=s("labelalias");D.isPlainObject(l)||delete i.labelalias;var u=k(c);if(s("showticklabels")){var h=o.font||{},v=i.color,p=-1!==(i.ticklabelposition||"").indexOf("inside")?E(o.bgColor):v&&v!==f.color.dflt?v:h.color;if(D.coerceFont(s,"tickfont",{family:h.family,size:h.size,color:p}),o.noTicklabelstep||"multicategory"===a||"log"===a||s("ticklabelstep"),o.noAng||s("tickangle"),"category"!==a){var T=s("tickformat");M(c,i,{name:"tickformatstops",inclusionAttr:"enabled",handleItemDefaults:y}),i.tickformatstops.length||delete i.tickformatstops,o.noExp||T||"date"===a||(s("showexponent",u),s("exponentformat"),s("minexponent"),s("separatethousands"))}}}},38701:function(ae,B,r){"use strict";var D=r(71828),E=r(13838);ae.exports=function(f,k,M,y){var c=y.isMinor,i=c?f.minor||{}:f,s=c?k.minor:k,a=c?E.minor:E,o=c?"minor.":"",l=D.coerce2(i,s,a,"ticklen",c?.6*(k.ticklen||5):void 0),u=D.coerce2(i,s,a,"tickwidth",c?k.tickwidth||1:void 0),h=D.coerce2(i,s,a,"tickcolor",(c?k.tickcolor:void 0)||s.color);M(o+"ticks",!c&&y.outerTicks||l||u||h?"outside":"")||(delete s.ticklen,delete s.tickwidth,delete s.tickcolor)}},26218:function(ae,B,r){"use strict";var D=r(66287),E=r(71828).isArrayOrTypedArray;ae.exports=function(f,k,M,y,c){c||(c={});var i=c.isMinor,s=i?f.minor||{}:f,a=i?k.minor:k,o=i?"minor.":"";function l(_){var m=s[_];return void 0!==m?m:(a._template||{})[_]}var u=l("tick0"),h=l("dtick"),v=l("tickvals"),p=M(o+"tickmode",E(v)?"array":h?"linear":"auto");if("auto"===p||"sync"===p)M(o+"nticks");else if("linear"===p){var T=a.dtick=D.dtick(h,y);a.tick0=D.tick0(u,y,k.calendar,T)}else"multicategory"!==y&&(void 0===M(o+"tickvals")?a.tickmode="auto":i||M("ticktext"))}},66847:function(ae,B,r){"use strict";var D=r(39898),E=r(73972),f=r(71828),k=r(91424),M=r(89298);ae.exports=function(y,c,i,s){var a=y._fullLayout;if(0!==c.length){var o,l,u,h;s&&(o=s());var v=D.ease(i.easing);return y._transitionData._interruptCallbacks.push(function(){return window.cancelAnimationFrame(h),h=null,function(){for(var _={},m=0;m<c.length;m++){var w=c[m],b=w.plotinfo.yaxis;w.xr0&&(_[w.plotinfo.xaxis._name+".range"]=w.xr0.slice()),w.yr0&&(_[b._name+".range"]=w.yr0.slice())}return E.call("relayout",y,_).then(function(){for(var A=0;A<c.length;A++)p(c[A].plotinfo)})}()}),l=Date.now(),h=window.requestAnimationFrame(function _(){u=Date.now();for(var m=Math.min(1,(u-l)/i.duration),w=v(m),x=0;x<c.length;x++)T(c[x],w);u-l>i.duration?(function(){for(var b={},A=0;A<c.length;A++){var g=c[A],S=g.plotinfo.yaxis;g.xr1&&(b[g.plotinfo.xaxis._name+".range"]=g.xr1.slice()),g.yr1&&(b[S._name+".range"]=g.yr1.slice())}o&&o(),E.call("relayout",y,b).then(function(){for(var O=0;O<c.length;O++)p(c[O].plotinfo)})}(),h=window.cancelAnimationFrame(_)):h=window.requestAnimationFrame(_)}),Promise.resolve()}function p(_){var m=_.xaxis,w=_.yaxis;a._defs.select("#"+_.clipId+"> rect").call(k.setTranslate,0,0).call(k.setScale,1,1),_.plot.call(k.setTranslate,m._offset,w._offset).call(k.setScale,1,1);var x=_.plot.selectAll(".scatterlayer .trace");x.selectAll(".point").call(k.setPointGroupScale,1,1),x.selectAll(".textpoint").call(k.setTextPointsScale,1,1),x.call(k.hideOutsideRangePoints,_)}function T(_,m){var w=_.plotinfo,x=w.xaxis,b=w.yaxis,A=x._length,g=b._length,I=!!_.xr1,S=!!_.yr1,O=[];if(I){var R=f.simpleMap(_.xr0,x.r2l),L=f.simpleMap(_.xr1,x.r2l),N=R[1]-R[0],j=L[1]-L[0];O[0]=(R[0]*(1-m)+m*L[0]-R[0])/(R[1]-R[0])*A,O[2]=A*(1-m+m*j/N),x.range[0]=x.l2r(R[0]*(1-m)+m*L[0]),x.range[1]=x.l2r(R[1]*(1-m)+m*L[1])}else O[0]=0,O[2]=A;if(S){var X=f.simpleMap(_.yr0,b.r2l),F=f.simpleMap(_.yr1,b.r2l),Y=X[1]-X[0],G=F[1]-F[0];O[1]=(X[1]*(1-m)+m*F[1]-X[1])/(X[0]-X[1])*g,O[3]=g*(1-m+m*G/Y),b.range[0]=x.l2r(X[0]*(1-m)+m*F[0]),b.range[1]=b.l2r(X[1]*(1-m)+m*F[1])}else O[1]=0,O[3]=g;M.drawOne(y,x,{skipTitle:!0}),M.drawOne(y,b,{skipTitle:!0}),M.redrawComponents(y,[x._id,b._id]);var H=I?A/O[2]:1,W=S?g/O[3]:1,Q=x._offset-(I?O[0]/O[2]*A:0),ee=b._offset-(S?O[1]/O[3]*g:0);w.clipRect.call(k.setTranslate,I?O[0]:0,S?O[1]:0).call(k.setScale,1/H,1/W),w.plot.call(k.setTranslate,Q,ee).call(k.setScale,H,W),k.setPointGroupScale(w.zoomScalePts,1/H,1/W),k.setTextPointsScale(w.zoomScaleTxt,1/H,1/W)}M.redrawComponents(y)}},951:function(ae,B,r){"use strict";var D=r(73972).traceIs,E=r(4322);function f(M){return{v:"x",h:"y"}[M.orientation||"v"]}function k(M,y){var c=f(M),i=D(M,"box-violin"),s=D(M._fullInput||{},"candlestick");return i&&!s&&y===c&&void 0===M[c]&&void 0===M[c+"0"]}ae.exports=function(M,y,c,i){c("autotypenumbers",i.autotypenumbersDflt),"-"===c("type",(i.splomStash||{}).type)&&(function(s,a){if("-"===s.type){var o,l=s._id,u=l.charAt(0);-1!==l.indexOf("scene")&&(l=u);var h=function(b,A,g){for(var I=0;I<b.length;I++){var S=b[I];if("splom"===S.type&&S._length>0&&(S["_"+g+"axes"]||{})[A]||(S[g+"axis"]||g)===A&&(k(S,g)||(S[g]||[]).length||S[g+"0"]))return S}}(a,l,u);if(h)if("histogram"!==h.type||u!=={v:"y",h:"x"}[h.orientation||"v"]){var v=u+"calendar",p=h[v],T={noMultiCategory:!D(h,"cartesian")||D(h,"noMultiCategory")};if("box"===h.type&&h._hasPreCompStats&&u==={h:"x",v:"y"}[h.orientation||"v"]&&(T.noMultiCategory=!0),T.autotypenumbers=s.autotypenumbers,k(h,u)){var _=f(h),m=[];for(o=0;o<a.length;o++){var w=a[o];D(w,"box-violin")&&(w[u+"axis"]||u)===l&&(m.push(void 0!==w[_]?w[_][0]:void 0!==w.name?w.name:"text"),w[v]!==p&&(p=void 0))}s.type=E(m,p,T)}else if("splom"===h.type){var x=h.dimensions[h._axesDim[l]];x.visible&&(s.type=E(x.values,p,T))}else s.type=E(h[u]||[h[u+"0"]],p,T)}else s.type="linear"}}(y,i.data),"-"===y.type?y.type="linear":M.type=y.type)}},31137:function(ae,B,r){"use strict";var D=r(73972),E=r(71828);function f(c,i,s){var a,o,l,u=!1;if("data"===i.type)a=c._fullData[null!==i.traces?i.traces[0]:0];else{if("layout"!==i.type)return!1;a=c._fullLayout}return o=E.nestedProperty(a,i.prop).get(),(l=s[i.type]=s[i.type]||{}).hasOwnProperty(i.prop)&&l[i.prop]!==o&&(u=!0),l[i.prop]=o,{changed:u,value:o}}function k(c,i){var s=[],a=i[0],o={};if("string"==typeof a)o[a]=i[1];else{if(!E.isPlainObject(a))return s;o=a}return y(o,function(l,u,h){s.push({type:"layout",prop:l,value:h})},"",0),s}function M(c,i){var s,a,o,l,u=[];if(o=i[1],s=i[2],l={},"string"==typeof(a=i[0]))l[a]=o;else{if(!E.isPlainObject(a))return u;l=a,void 0===s&&(s=o)}return void 0===s&&(s=null),y(l,function(h,v,p){var T,_;if(Array.isArray(p)){_=p.slice();var m=Math.min(_.length,c.data.length);s&&(m=Math.min(m,s.length)),T=[];for(var w=0;w<m;w++)T[w]=s?s[w]:w}else _=p,T=s?s.slice():null;if(null===T)Array.isArray(_)&&(_=_[0]);else if(Array.isArray(T)){if(!Array.isArray(_)){var x=_;_=[];for(var b=0;b<T.length;b++)_[b]=x}_.length=Math.min(T.length,_.length)}u.push({type:"data",prop:h,traces:T,value:_})},"",0),u}function y(c,i,s,a){Object.keys(c).forEach(function(o){var l=c[o];if("_"!==o[0]){var u=s+(a>0?".":"")+o;E.isPlainObject(l)?y(l,i,u,a+1):i(u,o,l)}})}B.manageCommandObserver=function(c,i,s,a){var o={},l=!0;i&&i._commandObserver&&(o=i._commandObserver),o.cache||(o.cache={}),o.lookupTable={};var u=B.hasSimpleAPICommandBindings(c,s,o.lookupTable);if(i&&i._commandObserver){if(u)return o;if(i._commandObserver.remove)return i._commandObserver.remove(),i._commandObserver=null,o}if(u){f(c,u,o.cache),o.check=function(){if(l){var p=f(c,u,o.cache);return p.changed&&a&&void 0!==o.lookupTable[p.value]&&(o.disable(),Promise.resolve(a({value:p.value,type:u.type,prop:u.prop,traces:u.traces,index:o.lookupTable[p.value]})).then(o.enable,o.enable)),p.changed}};for(var h=["plotly_relayout","plotly_redraw","plotly_restyle","plotly_update","plotly_animatingframe","plotly_afterplot"],v=0;v<h.length;v++)c._internalOn(h[v],o.check);o.remove=function(){for(var p=0;p<h.length;p++)c._removeInternalListener(h[p],o.check)}}else E.log("Unable to automatically bind plot updates to API command"),o.lookupTable={},o.remove=function(){};return o.disable=function(){l=!1},o.enable=function(){l=!0},i&&(i._commandObserver=o),o},B.hasSimpleAPICommandBindings=function(c,i,s){var a,o,l=i.length;for(a=0;a<l;a++){var u,h=i[a],v=h.method,p=h.args;if(Array.isArray(p)||(p=[]),!v)return!1;var T=B.computeAPICommandBindings(c,v,p);if(1!==T.length)return!1;if(o){if((u=T[0]).type!==o.type||u.prop!==o.prop)return!1;if(Array.isArray(o.traces)){if(!Array.isArray(u.traces))return!1;u.traces.sort();for(var _=0;_<o.traces.length;_++)if(o.traces[_]!==u.traces[_])return!1}else if(u.prop!==o.prop)return!1}else o=T[0],Array.isArray(o.traces)&&o.traces.sort();var m=(u=T[0]).value;if(Array.isArray(m)){if(1!==m.length)return!1;m=m[0]}s&&(s[m]=a)}return o},B.executeAPICommand=function(c,i,s){if("skip"===i)return Promise.resolve();var a=D.apiMethodRegistry[i],o=[c];Array.isArray(s)||(s=[]);for(var l=0;l<s.length;l++)o.push(s[l]);return a.apply(null,o).catch(function(u){return E.warn("API call to Plotly."+i+" rejected.",u),Promise.reject(u)})},B.computeAPICommandBindings=function(c,i,s){var a,l;switch(Array.isArray(s)||(s=[]),i){case"restyle":a=M(c,s);break;case"relayout":a=k(0,s);break;case"update":a=M(c,[s[0],s[2]]).concat(k(0,[s[1]]));break;case"animate":l=s,a=Array.isArray(l[0])&&1===l[0].length&&-1!==["string","number"].indexOf(typeof l[0][0])?[{type:"layout",prop:"_currentFrame",value:l[0][0].toString()}]:[];break;default:a=[]}return a}},27670:function(ae,B,r){"use strict";var D=r(1426).extendFlat;B.Y=function(E,f){f=f||{};var k={valType:"info_array",editType:(E=E||{}).editType,items:[{valType:"number",min:0,max:1,editType:E.editType},{valType:"number",min:0,max:1,editType:E.editType}],dflt:[0,1]},M={x:D({},k,{}),y:D({},k,{}),editType:E.editType};return E.noGridCell||(M.row={valType:"integer",min:0,dflt:0,editType:E.editType},M.column={valType:"integer",min:0,dflt:0,editType:E.editType}),M},B.c=function(E,f,k,M){var y=M&&M.x||[0,1],c=M&&M.y||[0,1],i=f.grid;if(i){var s=k("domain.column");void 0!==s&&(s<i.columns?y=i._domains.x[s]:delete E.domain.column);var a=k("domain.row");void 0!==a&&(a<i.rows?c=i._domains.y[a]:delete E.domain.row)}var o=k("domain.x",y),l=k("domain.y",c);o[0]<o[1]||(E.domain.x=y.slice()),l[0]<l[1]||(E.domain.y=c.slice())}},41940:function(ae){"use strict";ae.exports=function(B){var r=B.editType,D=B.colorEditType;void 0===D&&(D=r);var E={family:{valType:"string",noBlank:!0,strict:!0,editType:r},size:{valType:"number",min:1,editType:r},color:{valType:"color",editType:D},editType:r};return B.autoSize&&(E.size.dflt="auto"),B.autoColor&&(E.color.dflt="auto"),B.arrayOk&&(E.family.arrayOk=!0,E.size.arrayOk=!0,E.color.arrayOk=!0),E}},31391:function(ae){"use strict";ae.exports={_isLinkedToArray:"frames_entry",group:{valType:"string"},name:{valType:"string"},traces:{valType:"any"},baseframe:{valType:"string"},data:{valType:"any"},layout:{valType:"any"}}},78776:function(ae,B){"use strict";B.projNames={airy:"airy",aitoff:"aitoff","albers usa":"albersUsa",albers:"albers",august:"august","azimuthal equal area":"azimuthalEqualArea","azimuthal equidistant":"azimuthalEquidistant",baker:"baker",bertin1953:"bertin1953",boggs:"boggs",bonne:"bonne",bottomley:"bottomley",bromley:"bromley",collignon:"collignon","conic conformal":"conicConformal","conic equal area":"conicEqualArea","conic equidistant":"conicEquidistant",craig:"craig",craster:"craster","cylindrical equal area":"cylindricalEqualArea","cylindrical stereographic":"cylindricalStereographic",eckert1:"eckert1",eckert2:"eckert2",eckert3:"eckert3",eckert4:"eckert4",eckert5:"eckert5",eckert6:"eckert6",eisenlohr:"eisenlohr","equal earth":"equalEarth",equirectangular:"equirectangular",fahey:"fahey","foucaut sinusoidal":"foucautSinusoidal",foucaut:"foucaut",ginzburg4:"ginzburg4",ginzburg5:"ginzburg5",ginzburg6:"ginzburg6",ginzburg8:"ginzburg8",ginzburg9:"ginzburg9",gnomonic:"gnomonic","gringorten quincuncial":"gringortenQuincuncial",gringorten:"gringorten",guyou:"guyou",hammer:"hammer",hill:"hill",homolosine:"homolosine",hufnagel:"hufnagel",hyperelliptical:"hyperelliptical",kavrayskiy7:"kavrayskiy7",lagrange:"lagrange",larrivee:"larrivee",laskowski:"laskowski",loximuthal:"loximuthal",mercator:"mercator",miller:"miller",mollweide:"mollweide","mt flat polar parabolic":"mtFlatPolarParabolic","mt flat polar quartic":"mtFlatPolarQuartic","mt flat polar sinusoidal":"mtFlatPolarSinusoidal","natural earth":"naturalEarth","natural earth1":"naturalEarth1","natural earth2":"naturalEarth2","nell hammer":"nellHammer",nicolosi:"nicolosi",orthographic:"orthographic",patterson:"patterson","peirce quincuncial":"peirceQuincuncial",polyconic:"polyconic","rectangular polyconic":"rectangularPolyconic",robinson:"robinson",satellite:"satellite","sinu mollweide":"sinuMollweide",sinusoidal:"sinusoidal",stereographic:"stereographic",times:"times","transverse mercator":"transverseMercator","van der grinten":"vanDerGrinten","van der grinten2":"vanDerGrinten2","van der grinten3":"vanDerGrinten3","van der grinten4":"vanDerGrinten4",wagner4:"wagner4",wagner6:"wagner6",wiechel:"wiechel","winkel tripel":"winkel3",winkel3:"winkel3"},B.axesNames=["lonaxis","lataxis"],B.lonaxisSpan={orthographic:180,"azimuthal equal area":360,"azimuthal equidistant":360,"conic conformal":180,gnomonic:160,stereographic:180,"transverse mercator":180,"*":360},B.lataxisSpan={"conic conformal":150,stereographic:179.5,"*":180},B.scopeDefaults={world:{lonaxisRange:[-180,180],lataxisRange:[-90,90],projType:"equirectangular",projRotate:[0,0,0]},usa:{lonaxisRange:[-180,-50],lataxisRange:[15,80],projType:"albers usa"},europe:{lonaxisRange:[-30,60],lataxisRange:[30,85],projType:"conic conformal",projRotate:[15,0,0],projParallels:[0,60]},asia:{lonaxisRange:[22,160],lataxisRange:[-15,55],projType:"mercator",projRotate:[0,0,0]},africa:{lonaxisRange:[-30,60],lataxisRange:[-40,40],projType:"mercator",projRotate:[0,0,0]},"north america":{lonaxisRange:[-180,-45],lataxisRange:[5,85],projType:"conic conformal",projRotate:[-100,0,0],projParallels:[29.5,45.5]},"south america":{lonaxisRange:[-100,-30],lataxisRange:[-60,15],projType:"mercator",projRotate:[0,0,0]}},B.clipPad=.001,B.precision=.1,B.landColor="#F0DC82",B.waterColor="#3399FF",B.locationmodeToLayer={"ISO-3":"countries","USA-states":"subunits","country names":"countries"},B.sphereSVG={type:"Sphere"},B.fillLayers={ocean:1,land:1,lakes:1},B.lineLayers={subunits:1,countries:1,coastlines:1,rivers:1,frame:1},B.layers=["bg","ocean","land","lakes","subunits","countries","coastlines","rivers","lataxis","lonaxis","frame","backplot","frontplot"],B.layersForChoropleth=["bg","ocean","land","subunits","countries","coastlines","lataxis","lonaxis","frame","backplot","rivers","lakes","frontplot"],B.layerNameToAdjective={ocean:"ocean",land:"land",lakes:"lake",subunits:"subunit",countries:"country",coastlines:"coastline",rivers:"river",frame:"frame"}},69082:function(ae,B,r){"use strict";var D=r(39898),E=r(27362),f=E.geoPath,k=E.geoDistance,M=r(65704),y=r(73972),c=r(71828),i=c.strTranslate,s=r(7901),a=r(91424),o=r(30211),l=r(74875),u=r(89298),h=r(71739).getAutoRange,v=r(28569),p=r(47322).prepSelect,T=r(47322).clearOutline,_=r(47322).selectOnClick,m=r(74455),w=r(78776),x=r(41327),b=r(90973),A=r(96892).zL;function g(O){this.id=O.id,this.graphDiv=O.graphDiv,this.container=O.container,this.topojsonURL=O.topojsonURL,this.isStatic=O.staticPlot,this.topojsonName=null,this.topojson=null,this.projection=null,this.scope=null,this.viewInitial=null,this.fitScale=null,this.bounds=null,this.midPt=null,this.hasChoropleth=!1,this.traceHash={},this.layers={},this.basePaths={},this.dataPaths={},this.dataPoints={},this.clipDef=null,this.clipRect=null,this.bgRect=null,this.makeFramework()}var I=g.prototype;function S(O,R){var L=w.clipPad,N=O[0]+L,j=O[1]-L,X=R[0]+L,F=R[1]-L;N>0&&j<0&&(j+=360);var Y=(j-N)/4;return{type:"Polygon",coordinates:[[[N,X],[N,F],[N+Y,F],[N+2*Y,F],[N+3*Y,F],[j,F],[j,X],[j-Y,X],[j-2*Y,X],[j-3*Y,X],[N,X]]]}}ae.exports=function(O){return new g(O)},I.plot=function(O,R,L,N){var j=this;if(N)return j.update(O,R,!0);j._geoCalcData=O,j._fullLayout=R;var X=R[this.id],F=[],Y=!1;for(var G in w.layerNameToAdjective)if("frame"!==G&&X["show"+G]){Y=!0;break}for(var H=!1,W=0;W<O.length;W++){var Z=O[0][0].trace;Z._geo=j,Z.locationmode&&(Y=!0);var se=Z.marker;if(se){var ne=se.angleref;(se.angle||"north"===ne||"previous"===ne)&&(H=!0)}}if(this._hasMarkerAngles=H,Y){var Q=b.getTopojsonName(X);null!==j.topojson&&Q===j.topojsonName||(j.topojsonName=Q,void 0===PlotlyGeoAssets.topojson[j.topojsonName]&&F.push(j.fetchTopojson()))}F=F.concat(x.fetchTraceGeoData(O)),L.push(new Promise(function(ee,oe){Promise.all(F).then(function(){j.topojson=PlotlyGeoAssets.topojson[j.topojsonName],j.update(O,R),ee()}).catch(oe)}))},I.fetchTopojson=function(){var O=this,R=b.getTopojsonPath(O.topojsonURL,O.topojsonName);return new Promise(function(L,N){D.json(R,function(j,X){if(j)return N(404===j.status?new Error(["plotly.js could not find topojson file at",R+".","Make sure the *topojsonURL* plot config option","is set properly."].join(" ")):new Error(["unexpected error while fetching topojson file at",R].join(" ")));PlotlyGeoAssets.topojson[O.topojsonName]=X,L()})})},I.update=function(O,R,L){var N=R[this.id];this.hasChoropleth=!1;for(var j=0;j<O.length;j++){var X=O[j],F=X[0].trace;"choropleth"===F.type&&(this.hasChoropleth=!0),!0===F.visible&&F._length>0&&F._module.calcGeoJSON(X,R)}if(!L){if(this.updateProjection(O,R))return;this.viewInitial&&this.scope===N.scope||this.saveViewInitial(N)}this.scope=N.scope,this.updateBaseLayers(R,N),this.updateDims(R,N),this.updateFx(R,N),l.generalUpdatePerTraceModule(this.graphDiv,this,O,N);var Y=this.layers.frontplot.select(".scatterlayer");this.dataPoints.point=Y.selectAll(".point"),this.dataPoints.text=Y.selectAll("text"),this.dataPaths.line=Y.selectAll(".js-line");var G=this.layers.backplot.select(".choroplethlayer");this.dataPaths.choropleth=G.selectAll("path"),this._render()},I.updateProjection=function(O,R){var L=this.graphDiv,N=R[this.id],j=R._size,X=N.domain,F=N.projection,Y=N.lonaxis,G=N.lataxis,H=Y._ax,W=G._ax,Z=this.projection=function(he){var _e=he.projection,Le=_e.type,Ie=w.projNames[Le];Ie="geo"+c.titleCase(Ie);for(var De=(E[Ie]||M[Ie])(),je=he._isSatellite?180*Math.acos(1/_e.distance)/Math.PI:he._isClipped?w.lonaxisSpan[Le]/2:null,qe=["center","rotate","parallels","clipExtent"],ve=function(Be){return Be?De:[]},Oe=0;Oe<qe.length;Oe++){var ke=qe[Oe];"function"!=typeof De[ke]&&(De[ke]=ve)}return De.isLonLatOverEdges=function(Be){if(null===De(Be))return!0;if(je){var We=De.rotate();return k(Be,[-We[0],-We[1]])>je*Math.PI/180}return!1},De.getPath=function(){return f().projection(De)},De.getBounds=function(Be){return De.getPath().bounds(Be)},De.precision(w.precision),he._isSatellite&&De.tilt(_e.tilt).distance(_e.distance),je&&De.clipAngle(je-w.clipPad),De}(N),se=[[j.l+j.w*X.x[0],j.t+j.h*(1-X.y[1])],[j.l+j.w*X.x[1],j.t+j.h*(1-X.y[0])]],re=N.center||{},ne=F.rotation||{},Q=Y.range||[],ee=G.range||[];if(N.fitbounds){H._length=se[1][0]-se[0][0],W._length=se[1][1]-se[0][1],H.range=h(L,H),W.range=h(L,W);var oe=(H.range[0]+H.range[1])/2,ce=(W.range[0]+W.range[1])/2;if(N._isScoped)re={lon:oe,lat:ce};else if(N._isClipped){re={lon:oe,lat:ce},ne={lon:oe,lat:ce,roll:ne.roll};var fe=F.type,le=w.lonaxisSpan[fe]/2||180,pe=w.lataxisSpan[fe]/2||90;Q=[oe-le,oe+le],ee=[ce-pe,ce+pe]}else re={lon:oe,lat:ce},ne={lon:oe,lat:ne.lat,roll:ne.roll}}Z.center([re.lon-ne.lon,re.lat-ne.lat]).rotate([-ne.lon,-ne.lat,ne.roll]).parallels(F.parallels);var Me=S(Q,ee);Z.fitExtent(se,Me);var Ae=this.bounds=Z.getBounds(Me),be=this.fitScale=Z.scale(),ye=Z.translate();if(N.fitbounds){var we=Z.getBounds(S(H.range,W.range)),ze=Math.min((Ae[1][0]-Ae[0][0])/(we[1][0]-we[0][0]),(Ae[1][1]-Ae[0][1])/(we[1][1]-we[0][1]));isFinite(ze)?Z.scale(ze*be):c.warn("Something went wrong during"+this.id+"fitbounds computations.")}else Z.scale(F.scale*be);var Se=this.midPt=[(Ae[0][0]+Ae[1][0])/2,(Ae[0][1]+Ae[1][1])/2];if(Z.translate([ye[0]+(Se[0]-ye[0]),ye[1]+(Se[1]-ye[1])]).clipExtent(Ae),N._isAlbersUsa){var Ce=Z([re.lon,re.lat]),ge=Z.translate();Z.translate([ge[0]-(Ce[0]-ge[0]),ge[1]-(Ce[1]-ge[1])])}},I.updateBaseLayers=function(O,R){var L=this,N=L.topojson,j=L.layers,X=L.basePaths;function F(Z){return"lonaxis"===Z||"lataxis"===Z}function Y(Z){return!!w.lineLayers[Z]}function G(Z){return!!w.fillLayers[Z]}var H=(this.hasChoropleth?w.layersForChoropleth:w.layers).filter(function(Z){return Y(Z)||G(Z)?R["show"+Z]:!F(Z)||R[Z].showgrid}),W=L.framework.selectAll(".layer").data(H,String);W.exit().each(function(Z){delete j[Z],delete X[Z],D.select(this).remove()}),W.enter().append("g").attr("class",function(Z){return"layer "+Z}).each(function(Z){var se=j[Z]=D.select(this);"bg"===Z?L.bgRect=se.append("rect").style("pointer-events","all"):F(Z)?X[Z]=se.append("path").style("fill","none"):"backplot"===Z?se.append("g").classed("choroplethlayer",!0):"frontplot"===Z?se.append("g").classed("scatterlayer",!0):Y(Z)?X[Z]=se.append("path").style("fill","none").style("stroke-miterlimit",2):G(Z)&&(X[Z]=se.append("path").style("stroke","none"))}),W.order(),W.each(function(Z){var se=X[Z],re=w.layerNameToAdjective[Z];"frame"===Z?se.datum(w.sphereSVG):Y(Z)||G(Z)?se.datum(A(N,N.objects[Z])):F(Z)&&se.datum(function(ne,Q,ee){var oe,ce,fe,le=Q[ne],pe=w.scopeDefaults[Q.scope];"lonaxis"===ne?(oe=pe.lonaxisRange,ce=pe.lataxisRange,fe=function(ge,he){return[ge,he]}):"lataxis"===ne&&(oe=pe.lataxisRange,ce=pe.lonaxisRange,fe=function(ge,he){return[he,ge]});var Me={type:"linear",range:[oe[0],oe[1]-1e-6],tick0:le.tick0,dtick:le.dtick};u.setConvert(Me,ee);var Ae=u.calcTicks(Me);Q.isScoped||"lonaxis"!==ne||Ae.pop();for(var be=Ae.length,ye=new Array(be),we=0;we<be;we++)for(var ze=Ae[we].x,Se=ye[we]=[],Ce=ce[0];Ce<ce[1]+2.5;Ce+=2.5)Se.push(fe(ze,Ce));return{type:"MultiLineString",coordinates:ye}}(Z,R,O)).call(s.stroke,R[Z].gridcolor).call(a.dashLine,R[Z].griddash,R[Z].gridwidth),Y(Z)?se.call(s.stroke,R[re+"color"]).call(a.dashLine,"",R[re+"width"]):G(Z)&&se.call(s.fill,R[re+"color"])})},I.updateDims=function(O,R){var L=this.bounds,N=(R.framewidth||0)/2,j=L[0][0]-N,X=L[0][1]-N,F=L[1][0]-j+N,Y=L[1][1]-X+N;a.setRect(this.clipRect,j,X,F,Y),this.bgRect.call(a.setRect,j,X,F,Y).call(s.fill,R.bgcolor),this.xaxis._offset=j,this.xaxis._length=F,this.yaxis._offset=X,this.yaxis._length=Y},I.updateFx=function(O,R){var L=this,N=L.graphDiv,j=L.bgRect,X=O.dragmode,F=O.clickmode;if(!L.isStatic){var Y={element:L.bgRect.node(),gd:N,plotinfo:{id:L.id,xaxis:L.xaxis,yaxis:L.yaxis,fillRangeItems:function(H,W){W.isRect?(H.range={})[L.id]=[G([W.xmin,W.ymin]),G([W.xmax,W.ymax])]:(H.lassoPoints={})[L.id]=W.map(G)}},xaxes:[L.xaxis],yaxes:[L.yaxis],subplot:L.id,clickFn:function(H){2===H&&T(N)}};"pan"===X?(j.node().onmousedown=null,j.call(m(L,R)),j.on("dblclick.zoom",function(){var H=L.viewInitial,W={};for(var Z in H)W[L.id+"."+Z]=H[Z];y.call("_guiRelayout",N,W),N.emit("plotly_doubleclick",null)}),N._context._scrollZoom.geo||j.on("wheel.zoom",null)):"select"!==X&&"lasso"!==X||(j.on(".zoom",null),Y.prepFn=function(H,W,Z){p(H,W,Z,Y,X)},v.init(Y)),j.on("mousemove",function(){var H=L.projection.invert(c.getPositionFromD3Event());if(!H)return v.unhover(N,D.event);L.xaxis.p2c=function(){return H[0]},L.yaxis.p2c=function(){return H[1]},o.hover(N,D.event,L.id)}),j.on("mouseout",function(){N._dragging||v.unhover(N,D.event)}),j.on("click",function(){"select"!==X&&"lasso"!==X&&(F.indexOf("select")>-1&&_(D.event,N,[L.xaxis],[L.yaxis],L.id,Y),F.indexOf("event")>-1&&o.click(N,D.event))})}function G(H){return L.projection.invert([H[0]+L.xaxis._offset,H[1]+L.yaxis._offset])}},I.makeFramework=function(){var O=this,R=O.graphDiv,L=R._fullLayout,N="clip"+L._uid+O.id;O.clipDef=L._clips.append("clipPath").attr("id",N),O.clipRect=O.clipDef.append("rect"),O.framework=D.select(O.container).append("g").attr("class","geo "+O.id).call(a.setClipUrl,N,R),O.project=function(j){var X=O.projection(j);return X?[X[0]-O.xaxis._offset,X[1]-O.yaxis._offset]:[null,null]},O.xaxis={_id:"x",c2p:function(j){return O.project(j)[0]}},O.yaxis={_id:"y",c2p:function(j){return O.project(j)[1]}},O.mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},u.setConvert(O.mockAxis,L)},I.saveViewInitial=function(O){var L=O.center||{},N=O.projection,j=N.rotation||{};this.viewInitial={fitbounds:O.fitbounds,"projection.scale":N.scale},c.extendFlat(this.viewInitial,O._isScoped?{"center.lon":L.lon,"center.lat":L.lat}:O._isClipped?{"projection.rotation.lon":j.lon,"projection.rotation.lat":j.lat}:{"center.lon":L.lon,"center.lat":L.lat,"projection.rotation.lon":j.lon})},I.render=function(O){this._hasMarkerAngles&&O?this.plot(this._geoCalcData,this._fullLayout,[],!0):this._render()},I._render=function(){var O,R=this.projection,L=R.getPath();function N(X){var F=R(X.lonlat);return F?i(F[0],F[1]):null}function j(X){return R.isLonLatOverEdges(X.lonlat)?"none":null}for(O in this.basePaths)this.basePaths[O].attr("d",L);for(O in this.dataPaths)this.dataPaths[O].attr("d",function(X){return L(X.geojson)});for(O in this.dataPoints)this.dataPoints[O].attr("display",j).attr("transform",N)}},44622:function(ae,B,r){"use strict";var D=r(27659).AU,E=r(71828).counterRegex,f=r(69082),k="geo",M=E(k),y={};y[k]={valType:"subplotid",dflt:k,editType:"calc"},ae.exports={attr:k,name:k,idRoot:k,idRegex:M,attrRegex:M,attributes:y,layoutAttributes:r(77519),supplyLayoutDefaults:r(82161),plot:function(c){for(var i=c._fullLayout,s=c.calcdata,a=i._subplots[k],o=0;o<a.length;o++){var l=a[o],u=D(s,k,l),h=i[l]._subplot;h||(h=f({id:l,graphDiv:c,container:i._geolayer.node(),topojsonURL:c._context.topojsonURL,staticPlot:c._context.staticPlot}),i[l]._subplot=h),h.plot(u,i,c._promises)}},updateFx:function(c){for(var i=c._fullLayout,s=i._subplots[k],a=0;a<s.length;a++){var o=i[s[a]];o._subplot.updateFx(i,o)}},clean:function(c,i,s,a){for(var o=a._subplots[k]||[],l=0;l<o.length;l++){var u=o[l],h=a[u]._subplot;!i[u]&&h&&(h.framework.remove(),h.clipDef.remove())}}}},77519:function(ae,B,r){"use strict";var D=r(22399),E=r(27670).Y,f=r(79952).P,k=r(78776),M=r(30962).overrideAll,y=r(78607),c={range:{valType:"info_array",items:[{valType:"number"},{valType:"number"}]},showgrid:{valType:"boolean",dflt:!1},tick0:{valType:"number",dflt:0},dtick:{valType:"number"},gridcolor:{valType:"color",dflt:D.lightLine},gridwidth:{valType:"number",min:0,dflt:1},griddash:f};(ae.exports=M({domain:E({name:"geo"},{}),fitbounds:{valType:"enumerated",values:[!1,"locations","geojson"],dflt:!1,editType:"plot"},resolution:{valType:"enumerated",values:[110,50],dflt:110,coerceNumber:!0},scope:{valType:"enumerated",values:y(k.scopeDefaults),dflt:"world"},projection:{type:{valType:"enumerated",values:y(k.projNames)},rotation:{lon:{valType:"number"},lat:{valType:"number"},roll:{valType:"number"}},tilt:{valType:"number",dflt:0},distance:{valType:"number",min:1.001,dflt:2},parallels:{valType:"info_array",items:[{valType:"number"},{valType:"number"}]},scale:{valType:"number",min:0,dflt:1}},center:{lon:{valType:"number"},lat:{valType:"number"}},visible:{valType:"boolean",dflt:!0},showcoastlines:{valType:"boolean"},coastlinecolor:{valType:"color",dflt:D.defaultLine},coastlinewidth:{valType:"number",min:0,dflt:1},showland:{valType:"boolean",dflt:!1},landcolor:{valType:"color",dflt:k.landColor},showocean:{valType:"boolean",dflt:!1},oceancolor:{valType:"color",dflt:k.waterColor},showlakes:{valType:"boolean",dflt:!1},lakecolor:{valType:"color",dflt:k.waterColor},showrivers:{valType:"boolean",dflt:!1},rivercolor:{valType:"color",dflt:k.waterColor},riverwidth:{valType:"number",min:0,dflt:1},showcountries:{valType:"boolean"},countrycolor:{valType:"color",dflt:D.defaultLine},countrywidth:{valType:"number",min:0,dflt:1},showsubunits:{valType:"boolean"},subunitcolor:{valType:"color",dflt:D.defaultLine},subunitwidth:{valType:"number",min:0,dflt:1},showframe:{valType:"boolean"},framecolor:{valType:"color",dflt:D.defaultLine},framewidth:{valType:"number",min:0,dflt:1},bgcolor:{valType:"color",dflt:D.background},lonaxis:c,lataxis:c},"plot","from-root")).uirevision={valType:"any",editType:"none"}},82161:function(ae,B,r){"use strict";var D=r(71828),E=r(49119),f=r(27659).NG,k=r(78776),M=r(77519),y=k.axesNames;function c(i,s,a,o){var l=f(o.fullData,"geo",o.id).map(function(ne){return ne._expandedIndex}),u=a("resolution"),h=a("scope"),v=k.scopeDefaults[h],p=a("projection.type",v.projType),T=s._isAlbersUsa="albers usa"===p;T&&(h=s.scope="usa");var _=s._isScoped="world"!==h,m=s._isSatellite="satellite"===p,w=s._isConic=-1!==p.indexOf("conic")||"albers"===p,x=s._isClipped=!!k.lonaxisSpan[p];if(!1===i.visible){var b=D.extendDeep({},s._template);b.showcoastlines=!1,b.showcountries=!1,b.showframe=!1,b.showlakes=!1,b.showland=!1,b.showocean=!1,b.showrivers=!1,b.showsubunits=!1,b.lonaxis&&(b.lonaxis.showgrid=!1),b.lataxis&&(b.lataxis.showgrid=!1),s._template=b}for(var A=a("visible"),g=0;g<y.length;g++){var I,S=y[g],O=[30,10][g];if(_)I=v[S+"Range"];else{var R=k[S+"Span"],L=(R[p]||R["*"])/2,N=a("projection.rotation."+S.substr(0,3),v.projRotate[g]);I=[N-L,N+L]}var j=a(S+".range",I);a(S+".tick0"),a(S+".dtick",O),a(S+".showgrid",!!A&&void 0)&&(a(S+".gridcolor"),a(S+".gridwidth"),a(S+".griddash")),s[S]._ax={type:"linear",_id:S.slice(0,3),_traceIndices:l,setScale:D.identity,c2l:D.identity,r2l:D.identity,autorange:!0,range:j.slice(),_m:1,_input:{}}}var X=s.lonaxis.range,F=s.lataxis.range,Y=X[0],G=X[1];Y>0&&G<0&&(G+=360);var H,W,Z,se=(Y+G)/2;if(!T){var re=_?v.projRotate:[se,0,0];H=a("projection.rotation.lon",re[0]),a("projection.rotation.lat",re[1]),a("projection.rotation.roll",re[2]),a("showcoastlines",!_&&A)&&(a("coastlinecolor"),a("coastlinewidth")),a("showocean",!!A&&void 0)&&a("oceancolor")}T?(W=-96.6,Z=38.7):(W=_?se:H,Z=(F[0]+F[1])/2),a("center.lon",W),a("center.lat",Z),m&&(a("projection.tilt"),a("projection.distance")),w&&a("projection.parallels",v.projParallels||[0,60]),a("projection.scale"),a("showland",!!A&&void 0)&&a("landcolor"),a("showlakes",!!A&&void 0)&&a("lakecolor"),a("showrivers",!!A&&void 0)&&(a("rivercolor"),a("riverwidth")),a("showcountries",_&&"usa"!==h&&A)&&(a("countrycolor"),a("countrywidth")),("usa"===h||"north america"===h&&50===u)&&(a("showsubunits",A),a("subunitcolor"),a("subunitwidth")),_||a("showframe",A)&&(a("framecolor"),a("framewidth")),a("bgcolor"),a("fitbounds")&&(delete s.projection.scale,_?(delete s.center.lon,delete s.center.lat):x?(delete s.center.lon,delete s.center.lat,delete s.projection.rotation.lon,delete s.projection.rotation.lat,delete s.lonaxis.range,delete s.lataxis.range):(delete s.center.lon,delete s.center.lat,delete s.projection.rotation.lon))}ae.exports=function(i,s,a){E(i,s,a,{type:"geo",attributes:M,handleDefaults:c,fullData:a,partition:"y"})}},74455:function(ae,B,r){"use strict";var D=r(39898),E=r(71828),f=r(73972),k=Math.PI/180,M=180/Math.PI,y={cursor:"pointer"},c={cursor:"auto"};function i(_,m){return D.behavior.zoom().translate(m.translate()).scale(m.scale())}function s(_,m,w){var x=_.id,b=_.graphDiv,A=b.layout,g=A[x],I=b._fullLayout,S=I[x],O={},R={};function L(N,j){O[x+"."+N]=E.nestedProperty(g,N).get(),f.call("_storeDirectGUIEdit",A,I._preGUI,O);var X=E.nestedProperty(S,N);X.get()!==j&&(X.set(j),E.nestedProperty(g,N).set(j),R[x+"."+N]=j)}w(L),L("projection.scale",m.scale()/_.fitScale),L("fitbounds",!1),b.emit("plotly_relayout",R)}function a(_,m){var w=i(0,m);function x(b){var A=m.invert(_.midPt);b("center.lon",A[0]),b("center.lat",A[1])}return w.on("zoomstart",function(){D.select(this).style(y)}).on("zoom",function(){m.scale(D.event.scale).translate(D.event.translate),_.render(!0);var b=m.invert(_.midPt);_.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":m.scale()/_.fitScale,"geo.center.lon":b[0],"geo.center.lat":b[1]})}).on("zoomend",function(){D.select(this).style(c),s(_,m,x)}),w}function o(_,m){var w,x,b,A,g,I,S,O,R,L=i(0,m);function N(X){return m.invert(X)}function j(X){var F=m.rotate(),Y=m.invert(_.midPt);X("projection.rotation.lon",-F[0]),X("center.lon",Y[0]),X("center.lat",Y[1])}return L.on("zoomstart",function(){D.select(this).style(y),w=D.mouse(this),x=m.rotate(),b=m.translate(),A=x,g=N(w)}).on("zoom",function(){if(I=D.mouse(this),function(Y){var G=N(Y);if(!G)return!0;var H=m(G);return Math.abs(H[0]-Y[0])>2||Math.abs(H[1]-Y[1])>2}(w))return L.scale(m.scale()),void L.translate(m.translate());m.scale(D.event.scale),m.translate([b[0],D.event.translate[1]]),g?N(I)&&(O=N(I),m.rotate(S=[A[0]+(O[0]-g[0]),x[1],x[2]]),A=S):g=N(w=I),R=!0,_.render(!0);var X=m.rotate(),F=m.invert(_.midPt);_.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":m.scale()/_.fitScale,"geo.center.lon":F[0],"geo.center.lat":F[1],"geo.projection.rotation.lon":-X[0]})}).on("zoomend",function(){D.select(this).style(c),R&&s(_,m,j)}),L}function l(_,m){var w,x={r:m.rotate(),k:m.scale()},b=i(0,m),A=function(O){for(var R=0,L=arguments.length,N=[];++R<L;)N.push(arguments[R]);var j=D.dispatch.apply(null,N);return j.of=function(X,F){return function(Y){var G;try{G=Y.sourceEvent=D.event,Y.target=O,D.event=Y,j[Y.type].apply(X,F)}finally{D.event=G}}},j}(b,"zoomstart","zoom","zoomend"),g=0,I=b.on;function S(O){var R=m.rotate();O("projection.rotation.lon",-R[0]),O("projection.rotation.lat",-R[1])}return b.on("zoomstart",function(){D.select(this).style(y);var O,R,L,N,j,X,F,Y,G,H,W,Z=D.mouse(this),se=m.rotate(),re=se,ne=m.translate(),Q=(R=.5*(O=se)[0]*k,L=.5*O[1]*k,N=.5*O[2]*k,j=Math.sin(R),X=Math.cos(R),F=Math.sin(L),Y=Math.cos(L),G=Math.sin(N),[X*Y*(H=Math.cos(N))+j*F*G,j*Y*H-X*F*G,X*F*H+j*Y*G,X*Y*G-j*F*H]);w=u(m,Z),I.call(b,"zoom",function(){var ee,oe,ce,fe,le,pe,Me,Ae,be,ye,he,we=D.mouse(this);if(m.scale(x.k=D.event.scale),w){if(u(m,we)){m.rotate(se).translate(ne);var ze=u(m,we),Se=function(he,_e){if(he&&_e){var Le=[(qe=he)[1]*(ve=_e)[2]-qe[2]*ve[1],qe[2]*ve[0]-qe[0]*ve[2],qe[0]*ve[1]-qe[1]*ve[0]],Ie=Math.sqrt(T(Le,Le)),De=.5*Math.acos(Math.max(-1,Math.min(1,T(he,_e)))),je=Math.sin(De)/Ie;return Ie&&[Math.cos(De),Le[2]*je,-Le[1]*je,Le[0]*je]}var qe,ve}(w,ze),Ce=(he=[(ce=(ee=Q)[0])*(Me=(oe=Se)[0])-(fe=ee[1])*(Ae=oe[1])-(le=ee[2])*(be=oe[2])-(pe=ee[3])*(ye=oe[3]),ce*Ae+fe*Me+le*ye-pe*be,ce*be-fe*ye+le*Me+pe*Ae,ce*ye+fe*be-le*Ae+pe*Me],[Math.atan2(2*(he[0]*he[1]+he[2]*he[3]),1-2*(he[1]*he[1]+he[2]*he[2]))*M,Math.asin(Math.max(-1,Math.min(1,2*(he[0]*he[2]-he[3]*he[1]))))*M,Math.atan2(2*(he[0]*he[3]+he[1]*he[2]),1-2*(he[2]*he[2]+he[3]*he[3]))*M]),ge=x.r=function(he,_e,Le){var Ie=p(_e,2,he[0]);Ie=p(Ie,1,he[1]),Ie=p(Ie,0,he[2]-Le[2]);var De,je,qe=_e[0],ve=_e[1],Oe=_e[2],ke=Ie[0],Be=Ie[1],We=Ie[2],Ge=Math.atan2(ve,qe)*M,Ke=Math.sqrt(qe*qe+ve*ve);Math.abs(Be)>Ke?(je=(Be>0?90:-90)-Ge,De=0):(je=Math.asin(Be/Ke)*M-Ge,De=Math.sqrt(Ke*Ke-Be*Be));var et=180-je-2*Ge,at=(Math.atan2(We,ke)-Math.atan2(Oe,De))*M,mt=(Math.atan2(We,ke)-Math.atan2(Oe,-De))*M;return h(Le[0],Le[1],je,at)<=h(Le[0],Le[1],et,mt)?[je,at,Le[2]]:[et,mt,Le[2]]}(Ce,w,re);isFinite(ge[0])&&isFinite(ge[1])&&isFinite(ge[2])||(ge=re),m.rotate(ge),re=ge}}else w=u(m,Z=we);A.of(this,arguments)({type:"zoom"})}),W=A.of(this,arguments),g++||W({type:"zoomstart"})}).on("zoomend",function(){var O;D.select(this).style(c),I.call(b,"zoom",null),O=A.of(this,arguments),--g||O({type:"zoomend"}),s(_,m,S)}).on("zoom.redraw",function(){_.render(!0);var O=m.rotate();_.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":m.scale()/_.fitScale,"geo.projection.rotation.lon":-O[0],"geo.projection.rotation.lat":-O[1]})}),D.rebind(b,A,"on")}function u(_,m){var x,b,A,g,w=_.invert(m);return w&&isFinite(w[0])&&isFinite(w[1])&&(b=(x=w)[0]*k,A=x[1]*k,[(g=Math.cos(A))*Math.cos(b),g*Math.sin(b),Math.sin(A)])}function h(_,m,w,x){var b=v(w-_),A=v(x-m);return Math.sqrt(b*b+A*A)}function v(_){return(_%360+540)%360-180}function p(_,m,w){var x=w*k,b=_.slice(),A=0===m?1:0,g=2===m?1:2,I=Math.cos(x),S=Math.sin(x);return b[A]=_[A]*I-_[g]*S,b[g]=_[g]*I+_[A]*S,b}function T(_,m){for(var w=0,x=0,b=_.length;x<b;++x)w+=_[x]*m[x];return w}ae.exports=function(_,m){return(m._isScoped?a:m._isClipped?l:o)(_,_.projection)}},27659:function(ae,B,r){"use strict";var D=r(73972),E=r(85555).SUBPLOT_PATTERN;B.AU=function(f,k,M){var y=D.subplotsRegistry[k];if(!y)return[];for(var c=y.attr,i=[],s=0;s<f.length;s++){var a=f[s];a[0].trace[c]===M&&i.push(a)}return i},B.a0=function(f,k){var M,y=[],c=[];if(!(M="string"==typeof k?D.getModule(k).plot:"function"==typeof k?k:k.plot))return[y,f];for(var i=0;i<f.length;i++){var s=f[i],a=s[0].trace;!0===a.visible&&0!==a._length&&(a._module&&a._module.plot===M?y.push(s):c.push(s))}return[y,c]},B.NG=function(f,k,M){if(!D.subplotsRegistry[k])return[];var y,c,i,s=D.subplotsRegistry[k].attr,a=[];if("gl2d"===k){var o=M.match(E);c="x"+o[1],i="y"+o[2]}for(var l=0;l<f.length;l++)y=f[l],"gl2d"===k&&D.traceIs(y,"gl2d")?y[s[0]]===c&&y[s[1]]===i&&a.push(y):y[s]===M&&a.push(y);return a}},75071:function(ae,B,r){"use strict";var D=r(16825),E=r(1195),f=r(48956),k=r(85555),M=r(38520);function y(c,i){this.element=c,this.plot=i,this.mouseListener=null,this.wheelListener=null,this.lastInputTime=Date.now(),this.lastPos=[0,0],this.boxEnabled=!1,this.boxInited=!1,this.boxStart=[0,0],this.boxEnd=[0,0],this.dragStart=[0,0]}ae.exports=function(c){var i=c.mouseContainer,s=c.glplot,a=new y(i,s);function o(){c.xaxis.autorange=!1,c.yaxis.autorange=!1}function l(u,h,v){var p,T,_=c.calcDataBox(),m=s.viewBox,w=a.lastPos[0],x=a.lastPos[1],b=k.MINDRAG*s.pixelRatio,A=k.MINZOOM*s.pixelRatio;function g(N,j,X){var F=Math.min(j,X),Y=Math.max(j,X);F!==Y?(_[N]=F,_[N+2]=Y,a.dataBox=_,c.setRanges(_)):(c.selectBox.selectBox=[0,0,1,1],c.glplot.setDirty())}switch(h*=s.pixelRatio,v=m[3]-m[1]-(v*=s.pixelRatio),c.fullLayout.dragmode){case"zoom":if(u){var I=h/(m[2]-m[0])*(_[2]-_[0])+_[0],S=v/(m[3]-m[1])*(_[3]-_[1])+_[1];a.boxInited||(a.boxStart[0]=I,a.boxStart[1]=S,a.dragStart[0]=h,a.dragStart[1]=v),a.boxEnd[0]=I,a.boxEnd[1]=S,a.boxInited=!0,a.boxEnabled||a.boxStart[0]===a.boxEnd[0]&&a.boxStart[1]===a.boxEnd[1]||(a.boxEnabled=!0);var O=Math.abs(a.dragStart[0]-h)<A,R=Math.abs(a.dragStart[1]-v)<A;if(!function(){for(var N=c.graphDiv._fullLayout._axisConstraintGroups,j=c.xaxis._id,X=c.yaxis._id,F=0;F<N.length;F++)if(-1!==N[F][j]){if(-1!==N[F][X])return!0;break}return!1}()||O&&R)O&&(a.boxEnd[0]=a.boxStart[0]),R&&(a.boxEnd[1]=a.boxStart[1]);else{p=a.boxEnd[0]-a.boxStart[0],T=a.boxEnd[1]-a.boxStart[1];var L=(_[3]-_[1])/(_[2]-_[0]);Math.abs(p*L)>Math.abs(T)?(a.boxEnd[1]=a.boxStart[1]+Math.abs(p)*L*(T>=0?1:-1),a.boxEnd[1]<_[1]?(a.boxEnd[1]=_[1],a.boxEnd[0]=a.boxStart[0]+(_[1]-a.boxStart[1])/Math.abs(L)):a.boxEnd[1]>_[3]&&(a.boxEnd[1]=_[3],a.boxEnd[0]=a.boxStart[0]+(_[3]-a.boxStart[1])/Math.abs(L))):(a.boxEnd[0]=a.boxStart[0]+Math.abs(T)/L*(p>=0?1:-1),a.boxEnd[0]<_[0]?(a.boxEnd[0]=_[0],a.boxEnd[1]=a.boxStart[1]+(_[0]-a.boxStart[0])*Math.abs(L)):a.boxEnd[0]>_[2]&&(a.boxEnd[0]=_[2],a.boxEnd[1]=a.boxStart[1]+(_[2]-a.boxStart[0])*Math.abs(L)))}}else a.boxEnabled?(T=a.boxStart[1]!==a.boxEnd[1],(p=a.boxStart[0]!==a.boxEnd[0])||T?(p&&(g(0,a.boxStart[0],a.boxEnd[0]),c.xaxis.autorange=!1),T&&(g(1,a.boxStart[1],a.boxEnd[1]),c.yaxis.autorange=!1),c.relayoutCallback()):c.glplot.setDirty(),a.boxEnabled=!1,a.boxInited=!1):a.boxInited&&(a.boxInited=!1);break;case"pan":a.boxEnabled=!1,a.boxInited=!1,u?(a.panning||(a.dragStart[0]=h,a.dragStart[1]=v),Math.abs(a.dragStart[0]-h)<b&&(h=a.dragStart[0]),Math.abs(a.dragStart[1]-v)<b&&(v=a.dragStart[1]),T=(x-v)*(_[3]-_[1])/(s.viewBox[3]-s.viewBox[1]),_[0]+=p=(w-h)*(_[2]-_[0])/(s.viewBox[2]-s.viewBox[0]),_[2]+=p,_[1]+=T,_[3]+=T,c.setRanges(_),a.panning=!0,a.lastInputTime=Date.now(),o(),c.cameraChanged(),c.handleAnnotations()):a.panning&&(a.panning=!1,c.relayoutCallback())}a.lastPos[0]=h,a.lastPos[1]=v}return a.mouseListener=D(i,l),i.addEventListener("touchstart",function(u){var h=f(u.changedTouches[0],i);l(0,h[0],h[1]),l(1,h[0],h[1]),u.preventDefault()},!!M&&{passive:!1}),i.addEventListener("touchmove",function(u){u.preventDefault();var h=f(u.changedTouches[0],i);l(1,h[0],h[1]),u.preventDefault()},!!M&&{passive:!1}),i.addEventListener("touchend",function(u){l(0,a.lastPos[0],a.lastPos[1]),u.preventDefault()},!!M&&{passive:!1}),a.wheelListener=E(i,function(u,h){if(!c.scrollZoom)return!1;var v=c.calcDataBox(),p=s.viewBox,T=a.lastPos[0],_=a.lastPos[1],m=Math.exp(5*h/(p[3]-p[1])),w=T/(p[2]-p[0])*(v[2]-v[0])+v[0],x=_/(p[3]-p[1])*(v[3]-v[1])+v[1];return v[0]=(v[0]-w)*m+w,v[2]=(v[2]-w)*m+w,v[1]=(v[1]-x)*m+x,v[3]=(v[3]-x)*m+x,c.setRanges(v),a.lastInputTime=Date.now(),o(),c.cameraChanged(),c.handleAnnotations(),c.relayoutCallback(),!0},!0),a}},82961:function(ae,B,r){"use strict";var D=r(89298),E=r(78614);function f(y){this.scene=y,this.gl=y.gl,this.pixelRatio=y.pixelRatio,this.screenBox=[0,0,1,1],this.viewBox=[0,0,1,1],this.dataBox=[-1,-1,1,1],this.borderLineEnable=[!1,!1,!1,!1],this.borderLineWidth=[1,1,1,1],this.borderLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.ticks=[[],[]],this.tickEnable=[!0,!0,!1,!1],this.tickPad=[15,15,15,15],this.tickAngle=[0,0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickMarkLength=[0,0,0,0],this.tickMarkWidth=[0,0,0,0],this.tickMarkColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labels=["x","y"],this.labelEnable=[!0,!0,!1,!1],this.labelAngle=[0,Math.PI/2,0,3*Math.PI/2],this.labelPad=[15,15,15,15],this.labelSize=[12,12],this.labelFont=["sans-serif","sans-serif"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.title="",this.titleEnable=!0,this.titleCenter=[0,0,0,0],this.titleAngle=0,this.titleColor=[0,0,0,1],this.titleFont="sans-serif",this.titleSize=18,this.gridLineEnable=[!0,!0],this.gridLineColor=[[0,0,0,.5],[0,0,0,.5]],this.gridLineWidth=[1,1],this.zeroLineEnable=[!0,!0],this.zeroLineWidth=[1,1],this.zeroLineColor=[[0,0,0,1],[0,0,0,1]],this.borderColor=[0,0,0,0],this.backgroundColor=[0,0,0,0],this.static=this.scene.staticPlot}var k=f.prototype,M=["xaxis","yaxis"];k.merge=function(y){var c,i,s,a,o,l,u,h,v,p,T;for(this.titleEnable=!1,this.backgroundColor=E(y.plot_bgcolor),p=0;p<2;++p){var _=(c=M[p]).charAt(0);for(s=(i=y[this.scene[c]._name]).title.text===this.scene.fullLayout._dfltTitle[_]?"":i.title.text,T=0;T<=2;T+=2)this.labelEnable[p+T]=!1,this.labels[p+T]=s,this.labelColor[p+T]=E(i.title.font.color),this.labelFont[p+T]=i.title.font.family,this.labelSize[p+T]=i.title.font.size,this.labelPad[p+T]=this.getLabelPad(c,i),this.tickEnable[p+T]=!1,this.tickColor[p+T]=E((i.tickfont||{}).color),this.tickAngle[p+T]="auto"===i.tickangle?0:Math.PI*-i.tickangle/180,this.tickPad[p+T]=this.getTickPad(i),this.tickMarkLength[p+T]=0,this.tickMarkWidth[p+T]=i.tickwidth||0,this.tickMarkColor[p+T]=E(i.tickcolor),this.borderLineEnable[p+T]=!1,this.borderLineColor[p+T]=E(i.linecolor),this.borderLineWidth[p+T]=i.linewidth||0;u=this.hasSharedAxis(i),o=this.hasAxisInDfltPos(c,i)&&!u,l=this.hasAxisInAltrPos(c,i)&&!u,a=i.mirror||!1,h=u?-1!==String(a).indexOf("all"):!!a,v=u?"allticks"===a:-1!==String(a).indexOf("ticks"),o?this.labelEnable[p]=!0:l&&(this.labelEnable[p+2]=!0),o?this.tickEnable[p]=i.showticklabels:l&&(this.tickEnable[p+2]=i.showticklabels),(o||h)&&(this.borderLineEnable[p]=i.showline),(l||h)&&(this.borderLineEnable[p+2]=i.showline),(o||v)&&(this.tickMarkLength[p]=this.getTickMarkLength(i)),(l||v)&&(this.tickMarkLength[p+2]=this.getTickMarkLength(i)),this.gridLineEnable[p]=i.showgrid,this.gridLineColor[p]=E(i.gridcolor),this.gridLineWidth[p]=i.gridwidth,this.zeroLineEnable[p]=i.zeroline,this.zeroLineColor[p]=E(i.zerolinecolor),this.zeroLineWidth[p]=i.zerolinewidth}},k.hasSharedAxis=function(y){var c=this.scene;return 0!==D.findSubplotsWithAxis(c.fullLayout._subplots.gl2d,y).indexOf(c.id)},k.hasAxisInDfltPos=function(y,c){var i=c.side;return"xaxis"===y?"bottom"===i:"yaxis"===y?"left"===i:void 0},k.hasAxisInAltrPos=function(y,c){var i=c.side;return"xaxis"===y?"top"===i:"yaxis"===y?"right"===i:void 0},k.getLabelPad=function(y,c){var i=1.5,s=c.title.font.size,a=c.showticklabels;return"xaxis"===y?"top"===c.side?s*(i+(a?1:0))-10:s*(i+(a?.5:0))-10:"yaxis"===y?"right"===c.side?10+s*(i+(a?1:.5)):10+s*(i+(a?.5:0)):void 0},k.getTickPad=function(y){return"outside"===y.ticks?10+y.ticklen:15},k.getTickMarkLength=function(y){if(!y.ticks)return 0;var c=y.ticklen;return"inside"===y.ticks?-c:c},ae.exports=function(y){return new f(y)}},4796:function(ae,B,r){"use strict";var D=r(30962).overrideAll,E=r(92918),f=r(10820),k=r(77922),M=r(85555),y=r(93612),c=r(528),i=r(27659).NG;B.name="gl2d",B.attr=["xaxis","yaxis"],B.idRoot=["x","y"],B.idRegex=M.idRegex,B.attrRegex=M.attrRegex,B.attributes=r(89502),B.supplyLayoutDefaults=function(s,a,o){a._has("cartesian")||y.supplyLayoutDefaults(s,a,o)},B.layoutAttrOverrides=D(y.layoutAttributes,"plot","from-root"),B.baseLayoutAttrOverrides=D({plot_bgcolor:f.plot_bgcolor,hoverlabel:c.hoverlabel},"plot","nested"),B.plot=function(s){for(var a=s._fullLayout,o=s._fullData,l=a._subplots.gl2d,u=0;u<l.length;u++){var h=l[u],v=a._plots[h],p=i(o,"gl2d",h),T=v._scene2d;void 0===T&&(T=new E({id:h,graphDiv:s,container:s.querySelector(".gl-container"),staticPlot:s._context.staticPlot,plotGlPixelRatio:s._context.plotGlPixelRatio},a),v._scene2d=T),T.plot(p,s.calcdata,a,s.layout)}},B.clean=function(s,a,o,l){for(var u=l._subplots.gl2d||[],h=0;h<u.length;h++){var v=u[h],p=l._plots[v];p._scene2d&&0===i(s,"gl2d",v).length&&(p._scene2d.destroy(),delete l._plots[v])}y.clean.apply(this,arguments)},B.drawFramework=function(s){s._context.staticPlot||y.drawFramework(s)},B.toSVG=function(s){for(var a=s._fullLayout,o=a._subplots.gl2d,l=0;l<o.length;l++){var u=a._plots[o[l]]._scene2d,h=u.toImage("png");a._glimages.append("svg:image").attr({xmlns:k.svg,"xlink:href":h,x:0,y:0,width:"100%",height:"100%",preserveAspectRatio:"none"}),u.destroy()}},B.updateFx=function(s){for(var a=s._fullLayout,o=a._subplots.gl2d,l=0;l<o.length;l++)a._plots[o[l]]._scene2d.updateFx(a.dragmode)}},92918:function(ae,B,r){"use strict";var D,E,f=r(73972),k=r(89298),M=r(30211),y=r(9330).gl_plot2d,c=r(9330).gl_spikes2d,i=r(9330).gl_select_box,s=r(40372),a=r(82961),o=r(75071),l=r(58617),u=r(99082),h=u.enforce,v=u.clean,p=r(71739).doAutoRange,T=r(64505),_=T.drawMode,m=T.selectMode,w=["xaxis","yaxis"],x=r(85555).SUBPLOT_PATTERN;function b(g,I){this.container=g.container,this.graphDiv=g.graphDiv,this.pixelRatio=g.plotGlPixelRatio||window.devicePixelRatio,this.id=g.id,this.staticPlot=!!g.staticPlot,this.scrollZoom=this.graphDiv._context._scrollZoom.cartesian,this.fullData=null,this.updateRefs(I),this.makeFramework(),this.stopped||(this.glplotOptions=a(this),this.glplotOptions.merge(I),this.glplot=y(this.glplotOptions),this.camera=o(this),this.traces={},this.spikes=c(this.glplot),this.selectBox=i(this.glplot,{innerFill:!1,outerFill:!0}),this.lastButtonState=0,this.pickResult=null,this.isMouseOver=!0,this.stopped=!1,this.redraw=this.draw.bind(this),this.redraw())}ae.exports=b;var A=b.prototype;A.makeFramework=function(){if(this.staticPlot){if(!(E||(D=document.createElement("canvas"),E=s({canvas:D,preserveDrawingBuffer:!1,premultipliedAlpha:!0,antialias:!0}))))throw new Error("Error creating static canvas/context for image server");this.canvas=D,this.gl=E}else{var g=this.container.querySelector(".gl-canvas-focus"),I=s({canvas:g,preserveDrawingBuffer:!0,premultipliedAlpha:!0});if(!I)return l(this),void(this.stopped=!0);this.canvas=g,this.gl=I}var S=this.canvas;S.style.width="100%",S.style.height="100%",S.style.position="absolute",S.style.top="0px",S.style.left="0px",S.style["pointer-events"]="none",this.updateSize(S);var O=this.svgContainer=document.createElementNS("http://www.w3.org/2000/svg","svg");O.style.position="absolute",O.style.top=O.style.left="0px",O.style.width=O.style.height="100%",O.style["z-index"]=20,O.style["pointer-events"]="none";var R=this.mouseContainer=document.createElement("div");R.style.position="absolute",R.style["pointer-events"]="auto",this.pickCanvas=this.container.querySelector(".gl-canvas-pick");var L=this.container;L.appendChild(O),L.appendChild(R);var N=this;R.addEventListener("mouseout",function(){N.isMouseOver=!1,N.unhover()}),R.addEventListener("mouseover",function(){N.isMouseOver=!0})},A.toImage=function(g){g||(g="png"),this.stopped=!0,this.staticPlot&&this.container.appendChild(D),this.updateSize(this.canvas);var I=this.glplot.gl,S=I.drawingBufferWidth,O=I.drawingBufferHeight;I.clearColor(1,1,1,0),I.clear(I.COLOR_BUFFER_BIT|I.DEPTH_BUFFER_BIT),this.glplot.setDirty(),this.glplot.draw(),I.bindFramebuffer(I.FRAMEBUFFER,null);var R=new Uint8Array(S*O*4);I.readPixels(0,0,S,O,I.RGBA,I.UNSIGNED_BYTE,R);for(var L=0,N=O-1;L<N;++L,--N)for(var j=0;j<S;++j)for(var X=0;X<4;++X){var F=R[4*(S*L+j)+X];R[4*(S*L+j)+X]=R[4*(S*N+j)+X],R[4*(S*N+j)+X]=F}var Y=document.createElement("canvas");Y.width=S,Y.height=O;var G,H=Y.getContext("2d",{willReadFrequently:!0}),W=H.createImageData(S,O);switch(W.data.set(R),H.putImageData(W,0,0),g){case"jpeg":G=Y.toDataURL("image/jpeg");break;case"webp":G=Y.toDataURL("image/webp");break;default:G=Y.toDataURL("image/png")}return this.staticPlot&&this.container.removeChild(D),G},A.updateSize=function(g){g||(g=this.canvas);var I=this.pixelRatio,S=this.fullLayout,R=S.height,L=0|Math.ceil(I*S.width),N=0|Math.ceil(I*R);return g.width===L&&g.height===N||(g.width=L,g.height=N),g},A.computeTickMarks=function(){this.xaxis.setScale(),this.yaxis.setScale();for(var g=[k.calcTicks(this.xaxis),k.calcTicks(this.yaxis)],I=0;I<2;++I)for(var S=0;S<g[I].length;++S)g[I][S].text=g[I][S].text+"";return g},A.updateRefs=function(g){this.fullLayout=g;var I=this.id.match(x),O="yaxis"+I[2];this.xaxis=this.fullLayout["xaxis"+I[1]],this.yaxis=this.fullLayout[O]},A.relayoutCallback=function(){var g=this.graphDiv,I=this.xaxis,S=this.yaxis,O=g.layout,R={},L=R[I._name+".range"]=I.range.slice(),N=R[S._name+".range"]=S.range.slice();R[I._name+".autorange"]=I.autorange,R[S._name+".autorange"]=S.autorange,f.call("_storeDirectGUIEdit",g.layout,g._fullLayout._preGUI,R);var j=O[I._name];j.range=L,j.autorange=I.autorange;var X=O[S._name];X.range=N,X.autorange=S.autorange,R.lastInputTime=this.camera.lastInputTime,g.emit("plotly_relayout",R)},A.cameraChanged=function(){var g=this.camera;this.glplot.setDataBox(this.calcDataBox());var I=this.computeTickMarks();(function(S,O){for(var R=0;R<2;++R){var L=S[R],N=O[R];if(L.length!==N.length)return!0;for(var j=0;j<L.length;++j)if(L[j].x!==N[j].x)return!0}return!1})(I,this.glplotOptions.ticks)&&(this.glplotOptions.ticks=I,this.glplotOptions.dataBox=g.dataBox,this.glplot.update(this.glplotOptions),this.handleAnnotations())},A.handleAnnotations=function(){for(var g=this.graphDiv,I=this.fullLayout.annotations,S=0;S<I.length;S++){var O=I[S];O.xref===this.xaxis._id&&O.yref===this.yaxis._id&&f.getComponentMethod("annotations","drawOne")(g,S)}},A.destroy=function(){if(this.glplot){var g=this.traces;g&&Object.keys(g).map(function(I){g[I].dispose(),delete g[I]}),this.glplot.dispose(),this.container.removeChild(this.svgContainer),this.container.removeChild(this.mouseContainer),this.fullData=null,this.glplot=null,this.stopped=!0,this.camera.mouseListener.enabled=!1,this.mouseContainer.removeEventListener("wheel",this.camera.wheelListener),this.camera=null}},A.plot=function(g,I,S){var O=this.glplot;this.updateRefs(S),this.xaxis.clearCalc(),this.yaxis.clearCalc(),this.updateTraces(g,I),this.updateFx(S.dragmode);var R=S.width,L=S.height;this.updateSize(this.canvas);var N=this.glplotOptions;N.merge(S),N.screenBox=[0,0,R,L];var j={_fullLayout:{_axisConstraintGroups:S._axisConstraintGroups,xaxis:this.xaxis,yaxis:this.yaxis,_size:S._size}};v(j,this.xaxis),v(j,this.yaxis);var X,F,Y=S._size,G=this.xaxis.domain,H=this.yaxis.domain;for(N.viewBox=[Y.l+G[0]*Y.w,Y.b+H[0]*Y.h,R-Y.r-(1-G[1])*Y.w,L-Y.t-(1-H[1])*Y.h],this.mouseContainer.style.width=Y.w*(G[1]-G[0])+"px",this.mouseContainer.style.height=Y.h*(H[1]-H[0])+"px",this.mouseContainer.height=Y.h*(H[1]-H[0]),this.mouseContainer.style.left=Y.l+G[0]*Y.w+"px",this.mouseContainer.style.top=Y.t+(1-H[1])*Y.h+"px",F=0;F<2;++F)(X=this[w[F]])._length=N.viewBox[F+2]-N.viewBox[F],p(this.graphDiv,X),X.setScale();h(j),N.ticks=this.computeTickMarks(),N.dataBox=this.calcDataBox(),N.merge(S),O.update(N),this.glplot.draw()},A.calcDataBox=function(){var g=this.xaxis,I=this.yaxis,S=g.range,O=I.range,R=g.r2l,L=I.r2l;return[R(S[0]),L(O[0]),R(S[1]),L(O[1])]},A.setRanges=function(g){var I=this.xaxis,S=this.yaxis,O=I.l2r,R=S.l2r;I.range=[O(g[0]),O(g[2])],S.range=[R(g[1]),R(g[3])]},A.updateTraces=function(g,I){var S,O,R,L=Object.keys(this.traces);this.fullData=g;e:for(S=0;S<L.length;S++){var N=L[S],j=this.traces[N];for(O=0;O<g.length;O++)if((R=g[O]).uid===N&&R.type===j.type)continue e;j.dispose(),delete this.traces[N]}for(S=0;S<g.length;S++){var X=I[S],F=this.traces[(R=g[S]).uid];F?F.update(R,X):(F=R._module.plot(this,R,X),this.traces[R.uid]=F)}this.glplot.objects.sort(function(Y,G){return Y._trace.index-G._trace.index})},A.updateFx=function(g){m(g)||_(g)?(this.pickCanvas.style["pointer-events"]="none",this.mouseContainer.style["pointer-events"]="none"):(this.pickCanvas.style["pointer-events"]="auto",this.mouseContainer.style["pointer-events"]="auto"),this.mouseContainer.style.cursor="pan"===g?"move":"zoom"===g?"crosshair":null},A.emitPointAction=function(g,I){for(var S,O=g.trace.uid,R=g.pointIndex,L=0;L<this.fullData.length;L++)this.fullData[L].uid===O&&(S=this.fullData[L]);var N={x:g.traceCoord[0],y:g.traceCoord[1],curveNumber:S.index,pointNumber:R,data:S._input,fullData:this.fullData,xaxis:this.xaxis,yaxis:this.yaxis};M.appendArrayPointValue(N,S,R),this.graphDiv.emit(I,{points:[N]})},A.draw=function(){if(!this.stopped){requestAnimationFrame(this.redraw);var g=this.glplot,I=this.camera,S=I.mouseListener,O=1===this.lastButtonState&&0===S.buttons,R=this.fullLayout;this.lastButtonState=S.buttons,this.cameraChanged();var L,N=S.x*g.pixelRatio,j=this.canvas.height-g.pixelRatio*S.y;if(I.boxEnabled&&"zoom"===R.dragmode){this.selectBox.enabled=!0;for(var X=this.selectBox.selectBox=[Math.min(I.boxStart[0],I.boxEnd[0]),Math.min(I.boxStart[1],I.boxEnd[1]),Math.max(I.boxStart[0],I.boxEnd[0]),Math.max(I.boxStart[1],I.boxEnd[1])],F=0;F<2;F++)I.boxStart[F]===I.boxEnd[F]&&(X[F]=g.dataBox[F],X[F+2]=g.dataBox[F+2]);g.setDirty()}else if(!I.panning&&this.isMouseOver){this.selectBox.enabled=!1;var Y=R._size,W=(L=g.pick(N/g.pixelRatio+Y.l+this.xaxis.domain[0]*Y.w,j/g.pixelRatio-(Y.t+(1-this.yaxis.domain[1])*Y.h)))&&L.object._trace.handlePick(L);if(W&&O&&this.emitPointAction(W,"plotly_click"),L&&"skip"!==L.object._trace.hoverinfo&&R.hovermode&&W&&(!this.lastPickResult||this.lastPickResult.traceUid!==W.trace.uid||this.lastPickResult.dataCoord[0]!==W.dataCoord[0]||this.lastPickResult.dataCoord[1]!==W.dataCoord[1])){var Z=W;this.lastPickResult={traceUid:W.trace?W.trace.uid:null,dataCoord:W.dataCoord.slice()},this.spikes.update({center:L.dataCoord}),Z.screenCoord=[((g.viewBox[2]-g.viewBox[0])*(L.dataCoord[0]-g.dataBox[0])/(g.dataBox[2]-g.dataBox[0])+g.viewBox[0])/g.pixelRatio,(this.canvas.height-(g.viewBox[3]-g.viewBox[1])*(L.dataCoord[1]-g.dataBox[1])/(g.dataBox[3]-g.dataBox[1])-g.viewBox[1])/g.pixelRatio],this.emitPointAction(W,"plotly_hover");var se=this.fullData[Z.trace.index]||{},re=Z.pointIndex,ne=M.castHoverinfo(se,R,re);if(ne&&"all"!==ne){var Q=ne.split("+");-1===Q.indexOf("x")&&(Z.traceCoord[0]=void 0),-1===Q.indexOf("y")&&(Z.traceCoord[1]=void 0),-1===Q.indexOf("z")&&(Z.traceCoord[2]=void 0),-1===Q.indexOf("text")&&(Z.textLabel=void 0),-1===Q.indexOf("name")&&(Z.name=void 0)}M.loneHover({x:Z.screenCoord[0],y:Z.screenCoord[1],xLabel:this.hoverFormatter("xaxis",Z.traceCoord[0]),yLabel:this.hoverFormatter("yaxis",Z.traceCoord[1]),zLabel:Z.traceCoord[2],text:Z.textLabel,name:Z.name,color:M.castHoverOption(se,re,"bgcolor")||Z.color,borderColor:M.castHoverOption(se,re,"bordercolor"),fontFamily:M.castHoverOption(se,re,"font.family"),fontSize:M.castHoverOption(se,re,"font.size"),fontColor:M.castHoverOption(se,re,"font.color"),nameLength:M.castHoverOption(se,re,"namelength"),textAlign:M.castHoverOption(se,re,"align")},{container:this.svgContainer,gd:this.graphDiv})}}L||this.unhover(),g.draw()}},A.unhover=function(){this.lastPickResult&&(this.spikes.update({}),this.lastPickResult=null,this.graphDiv.emit("plotly_unhover"),M.loneUnhover(this.svgContainer))},A.hoverFormatter=function(g,I){if(void 0!==I){var S=this[g];return k.tickText(S,S.c2l(I),"hover").text}}},58547:function(ae,B,r){"use strict";var D=r(30962).overrideAll,E=r(528),f=r(33539),k=r(27659).NG,M=r(71828),y=r(77922),c="gl3d",i="scene";B.name=c,B.attr=i,B.idRoot=i,B.idRegex=B.attrRegex=M.counterRegex("scene"),B.attributes=r(59084),B.layoutAttributes=r(65500),B.baseLayoutAttrOverrides=D({hoverlabel:E.hoverlabel},"plot","nested"),B.supplyLayoutDefaults=r(24682),B.plot=function(s){for(var a=s._fullLayout,o=s._fullData,l=a._subplots[c],u=0;u<l.length;u++){var h=l[u],v=k(o,c,h),p=a[h],T=p.camera,_=p._scene;_||(_=new f({id:h,graphDiv:s,container:s.querySelector(".gl-container"),staticPlot:s._context.staticPlot,plotGlPixelRatio:s._context.plotGlPixelRatio,camera:T},a),p._scene=_),_.viewInitial||(_.viewInitial={up:{x:T.up.x,y:T.up.y,z:T.up.z},eye:{x:T.eye.x,y:T.eye.y,z:T.eye.z},center:{x:T.center.x,y:T.center.y,z:T.center.z}}),_.plot(v,a,s.layout)}},B.clean=function(s,a,o,l){for(var u=l._subplots[c]||[],h=0;h<u.length;h++){var v=u[h];!a[v]&&l[v]._scene&&(l[v]._scene.destroy(),l._infolayer&&l._infolayer.selectAll(".annotation-"+v).remove())}},B.toSVG=function(s){for(var a=s._fullLayout,o=a._subplots[c],l=a._size,u=0;u<o.length;u++){var h=a[o[u]],v=h.domain,p=h._scene,T=p.toImage("png");a._glimages.append("svg:image").attr({xmlns:y.svg,"xlink:href":T,x:l.l+l.w*v.x[0],y:l.t+l.h*(1-v.y[1]),width:l.w*(v.x[1]-v.x[0]),height:l.h*(v.y[1]-v.y[0]),preserveAspectRatio:"none"}),p.destroy()}},B.cleanId=function(s){if(s.match(/^scene[0-9]*$/)){var a=s.substr(5);return"1"===a&&(a=""),i+a}},B.updateFx=function(s){for(var a=s._fullLayout,o=a._subplots[c],l=0;l<o.length;l++)a[o[l]]._scene.updateFx(a.dragmode,a.hovermode)}},59084:function(ae){"use strict";ae.exports={scene:{valType:"subplotid",dflt:"scene",editType:"calc+clearAxisTypes"}}},77894:function(ae,B,r){"use strict";var D=r(7901),E=r(13838),f=r(1426).extendFlat,k=r(30962).overrideAll;ae.exports=k({visible:E.visible,showspikes:{valType:"boolean",dflt:!0},spikesides:{valType:"boolean",dflt:!0},spikethickness:{valType:"number",min:0,dflt:2},spikecolor:{valType:"color",dflt:D.defaultLine},showbackground:{valType:"boolean",dflt:!1},backgroundcolor:{valType:"color",dflt:"rgba(204, 204, 204, 0.5)"},showaxeslabels:{valType:"boolean",dflt:!0},color:E.color,categoryorder:E.categoryorder,categoryarray:E.categoryarray,title:{text:E.title.text,font:E.title.font},type:f({},E.type,{values:["-","linear","log","date","category"]}),autotypenumbers:E.autotypenumbers,autorange:E.autorange,autorangeoptions:{minallowed:E.autorangeoptions.minallowed,maxallowed:E.autorangeoptions.maxallowed,clipmin:E.autorangeoptions.clipmin,clipmax:E.autorangeoptions.clipmax,include:E.autorangeoptions.include,editType:"plot"},rangemode:E.rangemode,minallowed:E.minallowed,maxallowed:E.maxallowed,range:f({},E.range,{items:[{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}}],anim:!1}),tickmode:E.minor.tickmode,nticks:E.nticks,tick0:E.tick0,dtick:E.dtick,tickvals:E.tickvals,ticktext:E.ticktext,ticks:E.ticks,mirror:E.mirror,ticklen:E.ticklen,tickwidth:E.tickwidth,tickcolor:E.tickcolor,showticklabels:E.showticklabels,labelalias:E.labelalias,tickfont:E.tickfont,tickangle:E.tickangle,tickprefix:E.tickprefix,showtickprefix:E.showtickprefix,ticksuffix:E.ticksuffix,showticksuffix:E.showticksuffix,showexponent:E.showexponent,exponentformat:E.exponentformat,minexponent:E.minexponent,separatethousands:E.separatethousands,tickformat:E.tickformat,tickformatstops:E.tickformatstops,hoverformat:E.hoverformat,showline:E.showline,linecolor:E.linecolor,linewidth:E.linewidth,showgrid:E.showgrid,gridcolor:f({},E.gridcolor,{dflt:"rgb(204, 204, 204)"}),gridwidth:E.gridwidth,zeroline:E.zeroline,zerolinecolor:E.zerolinecolor,zerolinewidth:E.zerolinewidth,_deprecated:{title:E._deprecated.title,titlefont:E._deprecated.titlefont}},"plot","from-root")},3277:function(ae,B,r){"use strict";var D=r(84267).mix,E=r(71828),f=r(44467),k=r(77894),M=r(951),y=r(71453),c=["xaxis","yaxis","zaxis"];ae.exports=function(i,s,a){var o,l;function u(p,T){return E.coerce(o,l,k,p,T)}for(var h=0;h<c.length;h++){var v=c[h];o=i[v]||{},(l=f.newContainer(s,v))._id=v[0]+a.scene,l._name=v,M(o,l,u,a),y(o,l,u,{font:a.font,letter:v[0],data:a.data,showGrid:!0,noTickson:!0,noTicklabelmode:!0,noTicklabelstep:!0,noTicklabelposition:!0,noTicklabeloverflow:!0,noInsiderange:!0,bgColor:a.bgColor,calendar:a.calendar},a.fullLayout),u("gridcolor",D(l.color,a.bgColor,72.72727272727273).toRgbString()),u("title.text",v[0]),l.setScale=E.noop,u("showspikes")&&(u("spikesides"),u("spikethickness"),u("spikecolor",l.color)),u("showaxeslabels"),u("showbackground")&&u("backgroundcolor")}}},30422:function(ae,B,r){"use strict";var D=r(78614),E=r(71828),f=["xaxis","yaxis","zaxis"];function k(){this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickSize=[12,12,12],this.tickAngle=[0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[18,18,18],this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont=["Open Sans","Open Sans","Open Sans"],this.labelSize=[20,20,20],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[30,30,30],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[10,10,10],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!0,!0,!0],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._defaultTickPad=this.tickPad.slice(),this._defaultLabelPad=this.labelPad.slice(),this._defaultLineTickLength=this.lineTickLength.slice()}k.prototype.merge=function(M,y){for(var c=this,i=0;i<3;++i){var s=y[f[i]];s.visible?(c.labels[i]=M._meta?E.templateString(s.title.text,M._meta):s.title.text,"font"in s.title&&(s.title.font.color&&(c.labelColor[i]=D(s.title.font.color)),s.title.font.family&&(c.labelFont[i]=s.title.font.family),s.title.font.size&&(c.labelSize[i]=s.title.font.size)),"showline"in s&&(c.lineEnable[i]=s.showline),"linecolor"in s&&(c.lineColor[i]=D(s.linecolor)),"linewidth"in s&&(c.lineWidth[i]=s.linewidth),"showgrid"in s&&(c.gridEnable[i]=s.showgrid),"gridcolor"in s&&(c.gridColor[i]=D(s.gridcolor)),"gridwidth"in s&&(c.gridWidth[i]=s.gridwidth),"log"===s.type?c.zeroEnable[i]=!1:"zeroline"in s&&(c.zeroEnable[i]=s.zeroline),"zerolinecolor"in s&&(c.zeroLineColor[i]=D(s.zerolinecolor)),"zerolinewidth"in s&&(c.zeroLineWidth[i]=s.zerolinewidth),c.lineTickEnable[i]=!(!("ticks"in s)||!s.ticks),"ticklen"in s&&(c.lineTickLength[i]=c._defaultLineTickLength[i]=s.ticklen),"tickcolor"in s&&(c.lineTickColor[i]=D(s.tickcolor)),"tickwidth"in s&&(c.lineTickWidth[i]=s.tickwidth),"tickangle"in s&&(c.tickAngle[i]="auto"===s.tickangle?-3600:Math.PI*-s.tickangle/180),"showticklabels"in s&&(c.tickEnable[i]=s.showticklabels),"tickfont"in s&&(s.tickfont.color&&(c.tickColor[i]=D(s.tickfont.color)),s.tickfont.family&&(c.tickFont[i]=s.tickfont.family),s.tickfont.size&&(c.tickSize[i]=s.tickfont.size)),"mirror"in s?-1!==["ticks","all","allticks"].indexOf(s.mirror)?(c.lineTickMirror[i]=!0,c.lineMirror[i]=!0):!0===s.mirror?(c.lineTickMirror[i]=!1,c.lineMirror[i]=!0):(c.lineTickMirror[i]=!1,c.lineMirror[i]=!1):c.lineMirror[i]=!1,"showbackground"in s&&!1!==s.showbackground?(c.backgroundEnable[i]=!0,c.backgroundColor[i]=D(s.backgroundcolor)):c.backgroundEnable[i]=!1):(c.tickEnable[i]=!1,c.labelEnable[i]=!1,c.lineEnable[i]=!1,c.lineTickEnable[i]=!1,c.gridEnable[i]=!1,c.zeroEnable[i]=!1,c.backgroundEnable[i]=!1)}},ae.exports=function(M,y){var c=new k;return c.merge(M,y),c}},24682:function(ae,B,r){"use strict";var D=r(71828),E=r(7901),f=r(73972),k=r(49119),M=r(3277),y=r(65500),c=r(27659).NG,i="gl3d";function s(a,o,l,u){for(var h=l("bgcolor"),v=E.combine(h,u.paper_bgcolor),p=["up","center","eye"],T=0;T<p.length;T++)l("camera."+p[T]+".x"),l("camera."+p[T]+".y"),l("camera."+p[T]+".z");l("camera.projection.type");var _=!!l("aspectratio.x")&&!!l("aspectratio.y")&&!!l("aspectratio.z"),m=l("aspectmode",_?"manual":"auto");_||(a.aspectratio=o.aspectratio={x:1,y:1,z:1},"manual"===m&&(o.aspectmode="auto"),a.aspectmode=o.aspectmode);var w=c(u.fullData,i,u.id);M(a,o,{font:u.font,scene:u.id,data:w,bgColor:v,calendar:u.calendar,autotypenumbersDflt:u.autotypenumbersDflt,fullLayout:u.fullLayout}),f.getComponentMethod("annotations3d","handleDefaults")(a,o,u);var x=u.getDfltFromLayout("dragmode");if(!1!==x&&!x)if(x="orbit",a.camera&&a.camera.up){var b=a.camera.up.x,A=a.camera.up.y,g=a.camera.up.z;0!==g&&(b&&A&&g?g/Math.sqrt(b*b+A*A+g*g)>.999&&(x="turntable"):x="turntable")}else x="turntable";l("dragmode",x),l("hovermode",u.getDfltFromLayout("hovermode"))}ae.exports=function(a,o,l){var u=o._basePlotModules.length>1;k(a,o,l,{type:i,attributes:y,handleDefaults:s,fullLayout:o,font:o.font,fullData:l,getDfltFromLayout:function(h){if(!u)return D.validate(a[h],y[h])?a[h]:void 0},autotypenumbersDflt:o.autotypenumbers,paper_bgcolor:o.paper_bgcolor,calendar:o.calendar})}},65500:function(ae,B,r){"use strict";var D=r(77894),E=r(27670).Y,f=r(1426).extendFlat,k=r(71828).counterRegex;function M(y,c,i){return{x:{valType:"number",dflt:y,editType:"camera"},y:{valType:"number",dflt:c,editType:"camera"},z:{valType:"number",dflt:i,editType:"camera"},editType:"camera"}}ae.exports={_arrayAttrRegexps:[k("scene",".annotations",!0)],bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"plot"},camera:{up:f(M(0,0,1),{}),center:f(M(0,0,0),{}),eye:f(M(1.25,1.25,1.25),{}),projection:{type:{valType:"enumerated",values:["perspective","orthographic"],dflt:"perspective",editType:"calc"},editType:"calc"},editType:"camera"},domain:E({name:"scene",editType:"plot"}),aspectmode:{valType:"enumerated",values:["auto","cube","data","manual"],dflt:"auto",editType:"plot",impliedEdits:{"aspectratio.x":void 0,"aspectratio.y":void 0,"aspectratio.z":void 0}},aspectratio:{x:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},y:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},z:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},editType:"plot",impliedEdits:{aspectmode:"manual"}},xaxis:D,yaxis:D,zaxis:D,dragmode:{valType:"enumerated",values:["orbit","turntable","zoom","pan",!1],editType:"plot"},hovermode:{valType:"enumerated",values:["closest",!1],dflt:"closest",editType:"modebar"},uirevision:{valType:"any",editType:"none"},editType:"plot",_deprecated:{cameraposition:{valType:"info_array",editType:"camera"}}}},13133:function(ae,B,r){"use strict";var D=r(78614),E=["xaxis","yaxis","zaxis"];function f(){this.enabled=[!0,!0,!0],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.drawSides=[!0,!0,!0],this.lineWidth=[1,1,1]}f.prototype.merge=function(k){for(var M=0;M<3;++M){var y=k[E[M]];y.visible?(this.enabled[M]=y.showspikes,this.colors[M]=D(y.spikecolor),this.drawSides[M]=y.spikesides,this.lineWidth[M]=y.spikethickness):(this.enabled[M]=!1,this.drawSides[M]=!1)}},ae.exports=function(k){var M=new f;return M.merge(k),M}},96085:function(ae,B,r){"use strict";ae.exports=function(M){for(var y=M.axesOptions,c=M.glplot.axesPixels,i=M.fullSceneLayout,s=[[],[],[]],a=0;a<3;++a){var o=i[f[a]];if(o._length=(c[a].hi-c[a].lo)*c[a].pixelsPerDataUnit/M.dataScale[a],Math.abs(o._length)===1/0||isNaN(o._length))s[a]=[];else{o._input_range=o.range.slice(),o.range[0]=c[a].lo/M.dataScale[a],o.range[1]=c[a].hi/M.dataScale[a],o._m=1/(M.dataScale[a]*c[a].pixelsPerDataUnit),o.range[0]===o.range[1]&&(o.range[0]-=1,o.range[1]+=1);var l=o.tickmode;if("auto"===o.tickmode){o.tickmode="linear";var u=o.nticks||E.constrain(o._length/40,4,9);D.autoTicks(o,Math.abs(o.range[1]-o.range[0])/u)}for(var h=D.calcTicks(o,{msUTC:!0}),v=0;v<h.length;++v)h[v].x=h[v].x*M.dataScale[a],"date"===o.type&&(h[v].text=h[v].text.replace(/\<br\>/g," "));s[a]=h,o.tickmode=l}}for(y.ticks=s,a=0;a<3;++a)for(k[a]=.5*(M.glplot.bounds[0][a]+M.glplot.bounds[1][a]),v=0;v<2;++v)y.bounds[v][a]=M.glplot.bounds[v][a];M.contourLevels=function(p){for(var T=new Array(3),_=0;_<3;++_){for(var m=p[_],w=new Array(m.length),x=0;x<m.length;++x)w[x]=m[x].x;T[_]=w}return T}(s)};var D=r(89298),E=r(71828),f=["xaxis","yaxis","zaxis"],k=[0,0,0]},63538:function(ae){"use strict";function B(r,D){var E,f,k=[0,0,0,0];for(E=0;E<4;++E)for(f=0;f<4;++f)k[f]+=r[4*E+f]*D[E];return k}ae.exports=function(r,D){return B(r.projection,B(r.view,B(r.model,[D[0],D[1],D[2],1])))}},33539:function(ae,B,r){"use strict";var D,E,f=r(9330).gl_plot3d,k=f.createCamera,M=f.createScene,y=r(40372),c=r(38520),i=r(73972),s=r(71828),a=s.preserveDrawingBuffer(),o=r(89298),l=r(30211),u=r(78614),h=r(58617),v=r(63538),p=r(30422),T=r(13133),_=r(96085),m=r(71739).applyAutorangeOptions,w=!1;function x(S,O){var R=document.createElement("div"),L=S.container;this.graphDiv=S.graphDiv;var N=document.createElementNS("http://www.w3.org/2000/svg","svg");N.style.position="absolute",N.style.top=N.style.left="0px",N.style.width=N.style.height="100%",N.style["z-index"]=20,N.style["pointer-events"]="none",R.appendChild(N),this.svgContainer=N,R.id=S.id,R.style.position="absolute",R.style.top=R.style.left="0px",R.style.width=R.style.height="100%",L.appendChild(R),this.fullLayout=O,this.id=S.id||"scene",this.fullSceneLayout=O[this.id],this.plotArgs=[[],{},{}],this.axesOptions=p(O,O[this.id]),this.spikeOptions=T(O[this.id]),this.container=R,this.staticMode=!!S.staticPlot,this.pixelRatio=this.pixelRatio||S.plotGlPixelRatio||2,this.dataScale=[1,1,1],this.contourLevels=[[],[],[]],this.convertAnnotations=i.getComponentMethod("annotations3d","convert"),this.drawAnnotations=i.getComponentMethod("annotations3d","draw"),this.initializeGLPlot()}var b=x.prototype;b.prepareOptions=function(){var S=this,O={canvas:S.canvas,gl:S.gl,glOptions:{preserveDrawingBuffer:a,premultipliedAlpha:!0,antialias:!0},container:S.container,axes:S.axesOptions,spikes:S.spikeOptions,pickRadius:10,snapToData:!0,autoScale:!0,autoBounds:!1,cameraObject:S.camera,pixelRatio:S.pixelRatio};if(S.staticMode){if(!(E||(D=document.createElement("canvas"),E=y({canvas:D,preserveDrawingBuffer:!0,premultipliedAlpha:!0,antialias:!0}))))throw new Error("error creating static canvas/context for image server");O.gl=E,O.canvas=D}return O};var A=!0;b.tryCreatePlot=function(){var S=this,O=S.prepareOptions(),R=!0;try{S.glplot=M(O)}catch{if(S.staticMode||!A||a)R=!1;else{s.warn(["webgl setup failed possibly due to","false preserveDrawingBuffer config.","The mobile/tablet device may not be detected by is-mobile module.","Enabling preserveDrawingBuffer in second attempt to create webgl scene..."].join(" "));try{a=O.glOptions.preserveDrawingBuffer=!0,S.glplot=M(O)}catch{a=O.glOptions.preserveDrawingBuffer=!1,R=!1}}}return A=!1,R},b.initializeGLCamera=function(){var S=this,O=S.fullSceneLayout.camera;S.camera=k(S.container,{center:[O.center.x,O.center.y,O.center.z],eye:[O.eye.x,O.eye.y,O.eye.z],up:[O.up.x,O.up.y,O.up.z],_ortho:"orthographic"===O.projection.type,zoomMin:.01,zoomMax:100,mode:"orbit"})},b.initializeGLPlot=function(){var S=this;if(S.initializeGLCamera(),!S.tryCreatePlot())return h(S);S.traces={},S.make4thDimension();var O=S.graphDiv,R=O.layout,L=function(){var j={};return S.isCameraChanged(R)&&(j[S.id+".camera"]=S.getCamera()),S.isAspectChanged(R)&&(j[S.id+".aspectratio"]=S.glplot.getAspectratio(),"manual"!==R[S.id].aspectmode&&(S.fullSceneLayout.aspectmode=R[S.id].aspectmode=j[S.id+".aspectmode"]="manual")),j},N=function(j){if(!1!==j.fullSceneLayout.dragmode){var X=L();j.saveLayout(R),j.graphDiv.emit("plotly_relayout",X)}};return S.glplot.canvas&&(S.glplot.canvas.addEventListener("mouseup",function(){N(S)}),S.glplot.canvas.addEventListener("touchstart",function(){w=!0}),S.glplot.canvas.addEventListener("wheel",function(j){if(O._context._scrollZoom.gl3d){if(S.camera._ortho){var X=j.deltaX>j.deltaY?1.1:.9090909090909091,F=S.glplot.getAspectratio();S.glplot.setAspectratio({x:X*F.x,y:X*F.y,z:X*F.z})}N(S)}},!!c&&{passive:!1}),S.glplot.canvas.addEventListener("mousemove",function(){if(!1!==S.fullSceneLayout.dragmode&&0!==S.camera.mouseListener.buttons){var j=L();S.graphDiv.emit("plotly_relayouting",j)}}),S.staticMode||S.glplot.canvas.addEventListener("webglcontextlost",function(j){O&&O.emit&&O.emit("plotly_webglcontextlost",{event:j,layer:S.id})},!1)),S.glplot.oncontextloss=function(){S.recoverContext()},S.glplot.onrender=function(){S.render()},!0},b.render=function(){var S,O=this,R=O.graphDiv,L=O.svgContainer,N=O.container.getBoundingClientRect();R._fullLayout._calcInverseTransform(R);var F=N.width*R._fullLayout._invScaleX,Y=N.height*R._fullLayout._invScaleY;L.setAttributeNS(null,"viewBox","0 0 "+F+" "+Y),L.setAttributeNS(null,"width",F),L.setAttributeNS(null,"height",Y),_(O),O.glplot.axes.update(O.axesOptions);for(var G=Object.keys(O.traces),H=null,W=O.glplot.selection,Z=0;Z<G.length;++Z)"skip"!==(S=O.traces[G[Z]]).data.hoverinfo&&S.handlePick(W)&&(H=S),S.setContourLevels&&S.setContourLevels();function se(ye,we,ze){var Se=O.fullSceneLayout[ye+"axis"];return"log"!==Se.type&&(we=Se.d2l(we)),o.hoverLabelText(Se,we,ze)}if(null!==H){var ne,re=v(O.glplot.cameraParams,W.dataCoordinate),Q=R._fullData[(S=H.data).index],ee=W.index,oe={xLabel:se("x",W.traceCoordinate[0],S.xhoverformat),yLabel:se("y",W.traceCoordinate[1],S.yhoverformat),zLabel:se("z",W.traceCoordinate[2],S.zhoverformat)},ce=l.castHoverinfo(Q,O.fullLayout,ee),fe=(ce||"").split("+"),le=ce&&"all"===ce;Q.hovertemplate||le||(-1===fe.indexOf("x")&&(oe.xLabel=void 0),-1===fe.indexOf("y")&&(oe.yLabel=void 0),-1===fe.indexOf("z")&&(oe.zLabel=void 0),-1===fe.indexOf("text")&&(W.textLabel=void 0),-1===fe.indexOf("name")&&(H.name=void 0));var pe=[];"cone"===S.type||"streamtube"===S.type?(oe.uLabel=se("x",W.traceCoordinate[3],S.uhoverformat),(le||-1!==fe.indexOf("u"))&&pe.push("u: "+oe.uLabel),oe.vLabel=se("y",W.traceCoordinate[4],S.vhoverformat),(le||-1!==fe.indexOf("v"))&&pe.push("v: "+oe.vLabel),oe.wLabel=se("z",W.traceCoordinate[5],S.whoverformat),(le||-1!==fe.indexOf("w"))&&pe.push("w: "+oe.wLabel),oe.normLabel=W.traceCoordinate[6].toPrecision(3),(le||-1!==fe.indexOf("norm"))&&pe.push("norm: "+oe.normLabel),"streamtube"===S.type&&(oe.divergenceLabel=W.traceCoordinate[7].toPrecision(3),(le||-1!==fe.indexOf("divergence"))&&pe.push("divergence: "+oe.divergenceLabel)),W.textLabel&&pe.push(W.textLabel),ne=pe.join("<br>")):"isosurface"===S.type||"volume"===S.type?(oe.valueLabel=o.hoverLabelText(O._mockAxis,O._mockAxis.d2l(W.traceCoordinate[3]),S.valuehoverformat),pe.push("value: "+oe.valueLabel),W.textLabel&&pe.push(W.textLabel),ne=pe.join("<br>")):ne=W.textLabel;var Me={x:W.traceCoordinate[0],y:W.traceCoordinate[1],z:W.traceCoordinate[2],data:Q._input,fullData:Q,curveNumber:Q.index,pointNumber:ee};l.appendArrayPointValue(Me,Q,ee),S._module.eventData&&(Me=Q._module.eventData(Me,W,Q,{},ee));var Ae={points:[Me]};if(O.fullSceneLayout.hovermode){var be=[];l.loneHover({trace:Q,x:(.5+.5*re[0]/re[3])*F,y:(.5-.5*re[1]/re[3])*Y,xLabel:oe.xLabel,yLabel:oe.yLabel,zLabel:oe.zLabel,text:ne,name:H.name,color:l.castHoverOption(Q,ee,"bgcolor")||H.color,borderColor:l.castHoverOption(Q,ee,"bordercolor"),fontFamily:l.castHoverOption(Q,ee,"font.family"),fontSize:l.castHoverOption(Q,ee,"font.size"),fontColor:l.castHoverOption(Q,ee,"font.color"),nameLength:l.castHoverOption(Q,ee,"namelength"),textAlign:l.castHoverOption(Q,ee,"align"),hovertemplate:s.castOption(Q,ee,"hovertemplate"),hovertemplateLabels:s.extendFlat({},Me,oe),eventData:[Me]},{container:L,gd:R,inOut_bbox:be}),Me.bbox=be[0]}R.emit(W.distance<5&&(W.buttons||w)?"plotly_click":"plotly_hover",Ae),this.oldEventData=Ae}else l.loneUnhover(L),this.oldEventData&&R.emit("plotly_unhover",this.oldEventData),this.oldEventData=void 0;O.drawAnnotations(O)},b.recoverContext=function(){var S=this;S.glplot.dispose();var O=function(){S.glplot.gl.isContextLost()?requestAnimationFrame(O):S.initializeGLPlot()?S.plot.apply(S,S.plotArgs):s.error("Catastrophic and unrecoverable WebGL error. Context lost.")};requestAnimationFrame(O)};var g=["xaxis","yaxis","zaxis"];function I(S,O,R){for(var L=S.fullSceneLayout,N=0;N<3;N++){var j=g[N],X=j.charAt(0),F=L[j],Y=O[X],G=O[X+"calendar"],H=O["_"+X+"length"];if(s.isArrayOrTypedArray(Y))for(var W,Z=0;Z<(H||Y.length);Z++)if(s.isArrayOrTypedArray(Y[Z]))for(var se=0;se<Y[Z].length;++se)W=F.d2l(Y[Z][se],0,G),!isNaN(W)&&isFinite(W)&&(R[0][N]=Math.min(R[0][N],W),R[1][N]=Math.max(R[1][N],W));else W=F.d2l(Y[Z],0,G),!isNaN(W)&&isFinite(W)&&(R[0][N]=Math.min(R[0][N],W),R[1][N]=Math.max(R[1][N],W));else R[0][N]=Math.min(R[0][N],0),R[1][N]=Math.max(R[1][N],H-1)}}b.plot=function(S,O,R){var L=this;if(L.plotArgs=[S,O,R],!L.glplot.contextLost){var N,j,X,F,Y,G,H=O[L.id],W=R[L.id];L.fullLayout=O,L.fullSceneLayout=H,L.axesOptions.merge(O,H),L.spikeOptions.merge(H),L.setViewport(H),L.updateFx(H.dragmode,H.hovermode),L.camera.enableWheel=L.graphDiv._context._scrollZoom.gl3d,L.glplot.setClearColor(u(H.bgcolor)),L.setConvert(Y),S?Array.isArray(S)||(S=[S]):S=[];var Z=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(X=0;X<S.length;++X)!0===(N=S[X]).visible&&0!==N._length&&I(this,N,Z);!function(je,qe){for(var ve=je.fullSceneLayout,Oe=ve.annotations||[],ke=0;ke<3;ke++)for(var Be=g[ke],We=Be.charAt(0),Ge=ve[Be],Ke=0;Ke<Oe.length;Ke++){var et=Oe[Ke];if(et.visible){var at=Ge.r2l(et[We]);!isNaN(at)&&isFinite(at)&&(qe[0][ke]=Math.min(qe[0][ke],at),qe[1][ke]=Math.max(qe[1][ke],at))}}}(this,Z);var se=[1,1,1];for(F=0;F<3;++F)se[F]=Z[1][F]===Z[0][F]?1:1/(Z[1][F]-Z[0][F]);for(L.dataScale=se,L.convertAnnotations(this),X=0;X<S.length;++X)!0===(N=S[X]).visible&&0!==N._length&&((j=L.traces[N.uid])?j.data.type===N.type?j.update(N):(j.dispose(),j=N._module.plot(this,N),L.traces[N.uid]=j):(j=N._module.plot(this,N),L.traces[N.uid]=j),j.name=N.name);var re=Object.keys(L.traces);e:for(X=0;X<re.length;++X){for(F=0;F<S.length;++F)if(S[F].uid===re[X]&&!0===S[F].visible&&0!==S[F]._length)continue e;(j=L.traces[re[X]]).dispose(),delete L.traces[re[X]]}L.glplot.objects.sort(function(je,qe){return je._trace.data.index-qe._trace.data.index});var ne,Q=[[0,0,0],[0,0,0]],ee=[],oe={};for(X=0;X<3;++X){var ce;if((G=(Y=H[g[X]]).type)in oe?(oe[G].acc*=se[X],oe[G].count+=1):oe[G]={acc:se[X],count:1},Y.autorange){Q[0][X]=1/0,Q[1][X]=-1/0;var fe=L.glplot.objects,le=L.fullSceneLayout.annotations||[],pe=Y._name.charAt(0);for(F=0;F<fe.length;F++){var Me=fe[F],Ae=Me.bounds,be=Me._trace.data._pad||0;Q[0][X]="ErrorBars"===Me.constructor.name&&Y._lowerLogErrorBound?Math.min(Q[0][X],Y._lowerLogErrorBound):Math.min(Q[0][X],Ae[0][X]/se[X]-be),Q[1][X]=Math.max(Q[1][X],Ae[1][X]/se[X]+be)}for(F=0;F<le.length;F++){var ye=le[F];if(ye.visible){var we=Y.r2l(ye[pe]);Q[0][X]=Math.min(Q[0][X],we),Q[1][X]=Math.max(Q[1][X],we)}}if("rangemode"in Y&&"tozero"===Y.rangemode&&(Q[0][X]=Math.min(Q[0][X],0),Q[1][X]=Math.max(Q[1][X],0)),Q[0][X]>Q[1][X])Q[0][X]=-1,Q[1][X]=1;else{var ze=Q[1][X]-Q[0][X];Q[0][X]-=ze/32,Q[1][X]+=ze/32}if(ce=m(ce=[Q[0][X],Q[1][X]],Y),Q[0][X]=ce[0],Q[1][X]=ce[1],Y.isReversed()){var Se=Q[0][X];Q[0][X]=Q[1][X],Q[1][X]=Se}}else Q[0][X]=Y.r2l((ce=Y.range)[0]),Q[1][X]=Y.r2l(ce[1]);Q[0][X]===Q[1][X]&&(Q[0][X]-=1,Q[1][X]+=1),ee[X]=Q[1][X]-Q[0][X],Y.range=[Q[0][X],Q[1][X]],Y.limitRange(),L.glplot.setBounds(X,{min:Y.range[0]*se[X],max:Y.range[1]*se[X]})}var Ce=H.aspectmode;if("cube"===Ce)ne=[1,1,1];else if("manual"===Ce){var ge=H.aspectratio;ne=[ge.x,ge.y,ge.z]}else{if("auto"!==Ce&&"data"!==Ce)throw new Error("scene.js aspectRatio was not one of the enumerated types");var he=[1,1,1];for(X=0;X<3;++X){var _e=oe[G=(Y=H[g[X]]).type];he[X]=Math.pow(_e.acc,1/_e.count)/se[X]}ne="data"===Ce||Math.max.apply(null,he)/Math.min.apply(null,he)<=4?he:[1,1,1]}H.aspectratio.x=W.aspectratio.x=ne[0],H.aspectratio.y=W.aspectratio.y=ne[1],H.aspectratio.z=W.aspectratio.z=ne[2],L.glplot.setAspectratio(H.aspectratio),L.viewInitial.aspectratio||(L.viewInitial.aspectratio={x:H.aspectratio.x,y:H.aspectratio.y,z:H.aspectratio.z}),L.viewInitial.aspectmode||(L.viewInitial.aspectmode=H.aspectmode);var Le=H.domain||null,Ie=O._size||null;if(Le&&Ie){var De=L.container.style;De.position="absolute",De.left=Ie.l+Le.x[0]*Ie.w+"px",De.top=Ie.t+(1-Le.y[1])*Ie.h+"px",De.width=Ie.w*(Le.x[1]-Le.x[0])+"px",De.height=Ie.h*(Le.y[1]-Le.y[0])+"px"}L.glplot.redraw()}},b.destroy=function(){var S=this;S.glplot&&(S.camera.mouseListener.enabled=!1,S.container.removeEventListener("wheel",S.camera.wheelListener),S.camera=null,S.glplot.dispose(),S.container.parentNode.removeChild(S.container),S.glplot=null)},b.getCamera=function(){var S,O=this;return O.camera.view.recalcMatrix(O.camera.view.lastT()),{up:{x:(S=O.camera).up[0],y:S.up[1],z:S.up[2]},center:{x:S.center[0],y:S.center[1],z:S.center[2]},eye:{x:S.eye[0],y:S.eye[1],z:S.eye[2]},projection:{type:!0===S._ortho?"orthographic":"perspective"}}},b.setViewport=function(S){var O,R=this,L=S.camera;R.camera.lookAt.apply(this,[[(O=L).eye.x,O.eye.y,O.eye.z],[O.center.x,O.center.y,O.center.z],[O.up.x,O.up.y,O.up.z]]),R.glplot.setAspectratio(S.aspectratio),"orthographic"===L.projection.type!==R.camera._ortho&&(R.glplot.redraw(),R.glplot.clearRGBA(),R.glplot.dispose(),R.initializeGLPlot())},b.isCameraChanged=function(S){var O=this.getCamera(),R=s.nestedProperty(S,this.id+".camera").get();var F,Y,G,H,W,Z,N=!1;if(void 0===R)N=!0;else{for(var j=0;j<3;j++)for(var X=0;X<3;X++)if(F=O,H=X,W=void 0,Z=void 0,Z=["x","y","z"],!(Y=R)[(W=["up","center","eye"])[G=j]]||F[W[G]][Z[H]]!==Y[W[G]][Z[H]]){N=!0;break}(!R.projection||O.projection&&O.projection.type!==R.projection.type)&&(N=!0)}return N},b.isAspectChanged=function(S){var O=this.glplot.getAspectratio(),R=s.nestedProperty(S,this.id+".aspectratio").get();return void 0===R||R.x!==O.x||R.y!==O.y||R.z!==O.z},b.saveLayout=function(S){var O,R,L,N,j,X,F=this,Y=F.fullLayout,G=F.isCameraChanged(S),H=F.isAspectChanged(S),W=G||H;if(W){var Z={};G&&(O=F.getCamera(),L=(R=s.nestedProperty(S,F.id+".camera")).get(),Z[F.id+".camera"]=L),H&&(N=F.glplot.getAspectratio(),X=(j=s.nestedProperty(S,F.id+".aspectratio")).get(),Z[F.id+".aspectratio"]=X),i.call("_storeDirectGUIEdit",S,Y._preGUI,Z),G&&(R.set(O),s.nestedProperty(Y,F.id+".camera").set(O)),H&&(j.set(N),s.nestedProperty(Y,F.id+".aspectratio").set(N),F.glplot.redraw())}return W},b.updateFx=function(S,O){var R=this,L=R.camera;if(L)if("orbit"===S)L.mode="orbit",L.keyBindingMode="rotate";else if("turntable"===S){L.up=[0,0,1],L.mode="turntable",L.keyBindingMode="rotate";var N=R.graphDiv,j=N._fullLayout,X=R.fullSceneLayout.camera,F=X.up.x,Y=X.up.y,G=X.up.z;if(G/Math.sqrt(F*F+Y*Y+G*G)<.999){var H=R.id+".camera.up",W={x:0,y:0,z:1},Z={};Z[H]=W;var se=N.layout;i.call("_storeDirectGUIEdit",se,j._preGUI,Z),X.up=W,s.nestedProperty(se,H).set(W)}}else L.keyBindingMode=S;R.fullSceneLayout.hovermode=O},b.toImage=function(S){var O=this;S||(S="png"),O.staticMode&&O.container.appendChild(D),O.glplot.redraw();var R=O.glplot.gl,L=R.drawingBufferWidth,N=R.drawingBufferHeight;R.bindFramebuffer(R.FRAMEBUFFER,null);var j=new Uint8Array(L*N*4);R.readPixels(0,0,L,N,R.RGBA,R.UNSIGNED_BYTE,j),function(H,W,Z){for(var se=0,re=Z-1;se<re;++se,--re)for(var ne=0;ne<W;++ne)for(var Q=0;Q<4;++Q){var ee=4*(W*se+ne)+Q,oe=4*(W*re+ne)+Q,ce=H[ee];H[ee]=H[oe],H[oe]=ce}}(j,L,N),function(H,W,Z){for(var se=0;se<Z;++se)for(var re=0;re<W;++re){var ne=4*(W*se+re),Q=H[ne+3];if(Q>0)for(var ee=255/Q,oe=0;oe<3;++oe)H[ne+oe]=Math.min(ee*H[ne+oe],255)}}(j,L,N);var X=document.createElement("canvas");X.width=L,X.height=N;var F,Y=X.getContext("2d",{willReadFrequently:!0}),G=Y.createImageData(L,N);switch(G.data.set(j),Y.putImageData(G,0,0),S){case"jpeg":F=X.toDataURL("image/jpeg");break;case"webp":F=X.toDataURL("image/webp");break;default:F=X.toDataURL("image/png")}return O.staticMode&&O.container.removeChild(D),F},b.setConvert=function(){for(var S=0;S<3;S++){var O=this.fullSceneLayout[g[S]];o.setConvert(O,this.fullLayout),O.setScale=s.noop}},b.make4thDimension=function(){var S=this,O=S.graphDiv._fullLayout;S._mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},o.setConvert(S._mockAxis,O)},ae.exports=x},90060:function(ae){"use strict";ae.exports=function(B,r,D,E){E=E||B.length;for(var f=new Array(E),k=0;k<E;k++)f[k]=[B[k],r[k],D[k]];return f}},10820:function(ae,B,r){"use strict";var D=r(41940),E=r(85594),f=r(22399),k=r(29241),M=r(53777),y=r(35025),c=r(1426).extendFlat,i=D({editType:"calc"});i.family.dflt='"Open Sans", verdana, arial, sans-serif',i.size.dflt=12,i.color.dflt=f.defaultLine,ae.exports={font:i,title:{text:{valType:"string",editType:"layoutstyle"},font:D({editType:"layoutstyle"}),xref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},yref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},x:{valType:"number",min:0,max:1,dflt:.5,editType:"layoutstyle"},y:{valType:"number",min:0,max:1,dflt:"auto",editType:"layoutstyle"},xanchor:{valType:"enumerated",dflt:"auto",values:["auto","left","center","right"],editType:"layoutstyle"},yanchor:{valType:"enumerated",dflt:"auto",values:["auto","top","middle","bottom"],editType:"layoutstyle"},pad:c(y({editType:"layoutstyle"}),{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},editType:"layoutstyle"},uniformtext:{mode:{valType:"enumerated",values:[!1,"hide","show"],dflt:!1,editType:"plot"},minsize:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"},autosize:{valType:"boolean",dflt:!1,editType:"none"},width:{valType:"number",min:10,dflt:700,editType:"plot"},height:{valType:"number",min:10,dflt:450,editType:"plot"},minreducedwidth:{valType:"number",min:2,dflt:64,editType:"plot"},minreducedheight:{valType:"number",min:2,dflt:64,editType:"plot"},margin:{l:{valType:"number",min:0,dflt:80,editType:"plot"},r:{valType:"number",min:0,dflt:80,editType:"plot"},t:{valType:"number",min:0,dflt:100,editType:"plot"},b:{valType:"number",min:0,dflt:80,editType:"plot"},pad:{valType:"number",min:0,dflt:0,editType:"plot"},autoexpand:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},computed:{valType:"any",editType:"none"},paper_bgcolor:{valType:"color",dflt:f.background,editType:"plot"},plot_bgcolor:{valType:"color",dflt:f.background,editType:"layoutstyle"},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},separators:{valType:"string",editType:"plot"},hidesources:{valType:"boolean",dflt:!1,editType:"plot"},showlegend:{valType:"boolean",editType:"legend"},colorway:{valType:"colorlist",dflt:f.defaults,editType:"calc"},datarevision:{valType:"any",editType:"calc"},uirevision:{valType:"any",editType:"none"},editrevision:{valType:"any",editType:"none"},selectionrevision:{valType:"any",editType:"none"},template:{valType:"any",editType:"calc"},newshape:k.newshape,activeshape:k.activeshape,newselection:M.newselection,activeselection:M.activeselection,meta:{valType:"any",arrayOk:!0,editType:"plot"},transition:c({},E.transition,{editType:"none"}),_deprecated:{title:{valType:"string",editType:"layoutstyle"},titlefont:D({editType:"layoutstyle"})}}},77734:function(ae,B,r){"use strict";var D=r(78607),E="1.10.1",f='\xa9 <a target="_blank" href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',k=['\xa9 <a target="_blank" href="https://carto.com/">Carto</a>',f].join(" "),M=['Map tiles by <a target="_blank" href="https://stamen.com">Stamen Design</a>','under <a target="_blank" href="https://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>',"|",'Data by <a target="_blank" href="https://openstreetmap.org">OpenStreetMap</a> contributors','under <a target="_blank" href="https://www.openstreetmap.org/copyright">ODbL</a>'].join(" "),y={"open-street-map":{id:"osm",version:8,sources:{"plotly-osm-tiles":{type:"raster",attribution:f,tiles:["https://a.tile.openstreetmap.org/{z}/{x}/{y}.png","https://b.tile.openstreetmap.org/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-osm-tiles",type:"raster",source:"plotly-osm-tiles",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"white-bg":{id:"white-bg",version:8,sources:{},layers:[{id:"white-bg",type:"background",paint:{"background-color":"#FFFFFF"},minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"carto-positron":{id:"carto-positron",version:8,sources:{"plotly-carto-positron":{type:"raster",attribution:k,tiles:["https://cartodb-basemaps-c.global.ssl.fastly.net/light_all/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-carto-positron",type:"raster",source:"plotly-carto-positron",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"carto-darkmatter":{id:"carto-darkmatter",version:8,sources:{"plotly-carto-darkmatter":{type:"raster",attribution:k,tiles:["https://cartodb-basemaps-c.global.ssl.fastly.net/dark_all/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-carto-darkmatter",type:"raster",source:"plotly-carto-darkmatter",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-terrain":{id:"stamen-terrain",version:8,sources:{"plotly-stamen-terrain":{type:"raster",attribution:M,tiles:["https://stamen-tiles.a.ssl.fastly.net/terrain/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-stamen-terrain",type:"raster",source:"plotly-stamen-terrain",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-toner":{id:"stamen-toner",version:8,sources:{"plotly-stamen-toner":{type:"raster",attribution:M,tiles:["https://stamen-tiles.a.ssl.fastly.net/toner/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-stamen-toner",type:"raster",source:"plotly-stamen-toner",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-watercolor":{id:"stamen-watercolor",version:8,sources:{"plotly-stamen-watercolor":{type:"raster",attribution:['Map tiles by <a target="_blank" href="https://stamen.com">Stamen Design</a>','under <a target="_blank" href="https://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>',"|",'Data by <a target="_blank" href="https://openstreetmap.org">OpenStreetMap</a> contributors','under <a target="_blank" href="https://creativecommons.org/licenses/by-sa/3.0">CC BY SA</a>'].join(" "),tiles:["https://stamen-tiles.a.ssl.fastly.net/watercolor/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-stamen-watercolor",type:"raster",source:"plotly-stamen-watercolor",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"}},c=D(y);ae.exports={requiredVersion:E,styleUrlPrefix:"mapbox://styles/mapbox/",styleUrlSuffix:"v9",styleValuesMapbox:["basic","streets","outdoors","light","dark","satellite","satellite-streets"],styleValueDflt:"basic",stylesNonMapbox:y,styleValuesNonMapbox:c,traceLayerPrefix:"plotly-trace-layer-",layoutLayerPrefix:"plotly-layout-layer-",wrongVersionErrorMsg:["Your custom plotly.js bundle is not using the correct mapbox-gl version","Please install mapbox-gl@"+E+"."].join("\n"),noAccessTokenErrorMsg:["Missing Mapbox access token.","Mapbox trace type require a Mapbox access token to be registered.","For example:","  Plotly.newPlot(gd, data, layout, { mapboxAccessToken: 'my-access-token' });","More info here: https://www.mapbox.com/help/define-access-token/"].join("\n"),missingStyleErrorMsg:["No valid mapbox style found, please set `mapbox.style` to one of:",c.join(", "),"or register a Mapbox access token to use a Mapbox-served style."].join("\n"),multipleTokensErrorMsg:["Set multiple mapbox access token across different mapbox subplot,","using first token found as mapbox-gl does not allow multipleaccess tokens on the same page."].join("\n"),mapOnErrorMsg:"Mapbox error.",mapboxLogo:{path0:"m 10.5,1.24 c -5.11,0 -9.25,4.15 -9.25,9.25 0,5.1 4.15,9.25 9.25,9.25 5.1,0 9.25,-4.15 9.25,-9.25 0,-5.11 -4.14,-9.25 -9.25,-9.25 z m 4.39,11.53 c -1.93,1.93 -4.78,2.31 -6.7,2.31 -0.7,0 -1.41,-0.05 -2.1,-0.16 0,0 -1.02,-5.64 2.14,-8.81 0.83,-0.83 1.95,-1.28 3.13,-1.28 1.27,0 2.49,0.51 3.39,1.42 1.84,1.84 1.89,4.75 0.14,6.52 z",path1:"M 10.5,-0.01 C 4.7,-0.01 0,4.7 0,10.49 c 0,5.79 4.7,10.5 10.5,10.5 5.8,0 10.5,-4.7 10.5,-10.5 C 20.99,4.7 16.3,-0.01 10.5,-0.01 Z m 0,19.75 c -5.11,0 -9.25,-4.15 -9.25,-9.25 0,-5.1 4.14,-9.26 9.25,-9.26 5.11,0 9.25,4.15 9.25,9.25 0,5.13 -4.14,9.26 -9.25,9.26 z",path2:"M 14.74,6.25 C 12.9,4.41 9.98,4.35 8.23,6.1 5.07,9.27 6.09,14.91 6.09,14.91 c 0,0 5.64,1.02 8.81,-2.14 C 16.64,11 16.59,8.09 14.74,6.25 Z m -2.27,4.09 -0.91,1.87 -0.9,-1.87 -1.86,-0.91 1.86,-0.9 0.9,-1.87 0.91,1.87 1.86,0.9 z",polygon:"11.56,12.21 10.66,10.34 8.8,9.43 10.66,8.53 11.56,6.66 12.47,8.53 14.33,9.43 12.47,10.34"},styleRules:{map:"overflow:hidden;position:relative;","missing-css":"display:none;",canary:"background-color:salmon;","ctrl-bottom-left":"position: absolute; pointer-events: none; z-index: 2; bottom: 0; left: 0;","ctrl-bottom-right":"position: absolute; pointer-events: none; z-index: 2; right: 0; bottom: 0;",ctrl:"clear: both; pointer-events: auto; transform: translate(0, 0);","ctrl-attrib.mapboxgl-compact .mapboxgl-ctrl-attrib-inner":"display: none;","ctrl-attrib.mapboxgl-compact:hover .mapboxgl-ctrl-attrib-inner":"display: block; margin-top:2px","ctrl-attrib.mapboxgl-compact:hover":"padding: 2px 24px 2px 4px; visibility: visible; margin-top: 6px;","ctrl-attrib.mapboxgl-compact::after":'content: ""; cursor: pointer; position: absolute; background-image: url(\'data:image/svg+xml;charset=utf-8,%3Csvg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"%3E %3Cpath fill="%23333333" fill-rule="evenodd" d="M4,10a6,6 0 1,0 12,0a6,6 0 1,0 -12,0 M9,7a1,1 0 1,0 2,0a1,1 0 1,0 -2,0 M9,10a1,1 0 1,1 2,0l0,3a1,1 0 1,1 -2,0"/%3E %3C/svg%3E\'); background-color: rgba(255, 255, 255, 0.5); width: 24px; height: 24px; box-sizing: border-box; border-radius: 12px;',"ctrl-attrib.mapboxgl-compact":"min-height: 20px; padding: 0; margin: 10px; position: relative; background-color: #fff; border-radius: 3px 12px 12px 3px;","ctrl-bottom-right > .mapboxgl-ctrl-attrib.mapboxgl-compact::after":"bottom: 0; right: 0","ctrl-bottom-left > .mapboxgl-ctrl-attrib.mapboxgl-compact::after":"bottom: 0; left: 0","ctrl-bottom-left .mapboxgl-ctrl":"margin: 0 0 10px 10px; float: left;","ctrl-bottom-right .mapboxgl-ctrl":"margin: 0 10px 10px 0; float: right;","ctrl-attrib":"color: rgba(0, 0, 0, 0.75); text-decoration: none; font-size: 12px","ctrl-attrib a":"color: rgba(0, 0, 0, 0.75); text-decoration: none; font-size: 12px","ctrl-attrib a:hover":"color: inherit; text-decoration: underline;","ctrl-attrib .mapbox-improve-map":"font-weight: bold; margin-left: 2px;","attrib-empty":"display: none;","ctrl-logo":'display:block; width: 21px; height: 21px; background-image: url(\'data:image/svg+xml;charset=utf-8,%3C?xml version="1.0" encoding="utf-8"?%3E %3Csvg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 21 21" style="enable-background:new 0 0 21 21;" xml:space="preserve"%3E%3Cg transform="translate(0,0.01)"%3E%3Cpath d="m 10.5,1.24 c -5.11,0 -9.25,4.15 -9.25,9.25 0,5.1 4.15,9.25 9.25,9.25 5.1,0 9.25,-4.15 9.25,-9.25 0,-5.11 -4.14,-9.25 -9.25,-9.25 z m 4.39,11.53 c -1.93,1.93 -4.78,2.31 -6.7,2.31 -0.7,0 -1.41,-0.05 -2.1,-0.16 0,0 -1.02,-5.64 2.14,-8.81 0.83,-0.83 1.95,-1.28 3.13,-1.28 1.27,0 2.49,0.51 3.39,1.42 1.84,1.84 1.89,4.75 0.14,6.52 z" style="opacity:0.9;fill:%23ffffff;enable-background:new" class="st0"/%3E%3Cpath d="M 10.5,-0.01 C 4.7,-0.01 0,4.7 0,10.49 c 0,5.79 4.7,10.5 10.5,10.5 5.8,0 10.5,-4.7 10.5,-10.5 C 20.99,4.7 16.3,-0.01 10.5,-0.01 Z m 0,19.75 c -5.11,0 -9.25,-4.15 -9.25,-9.25 0,-5.1 4.14,-9.26 9.25,-9.26 5.11,0 9.25,4.15 9.25,9.25 0,5.13 -4.14,9.26 -9.25,9.26 z" style="opacity:0.35;enable-background:new" class="st1"/%3E%3Cpath d="M 14.74,6.25 C 12.9,4.41 9.98,4.35 8.23,6.1 5.07,9.27 6.09,14.91 6.09,14.91 c 0,0 5.64,1.02 8.81,-2.14 C 16.64,11 16.59,8.09 14.74,6.25 Z m -2.27,4.09 -0.91,1.87 -0.9,-1.87 -1.86,-0.91 1.86,-0.9 0.9,-1.87 0.91,1.87 1.86,0.9 z" style="opacity:0.35;enable-background:new" class="st1"/%3E%3Cpolygon points="11.56,12.21 10.66,10.34 8.8,9.43 10.66,8.53 11.56,6.66 12.47,8.53 14.33,9.43 12.47,10.34 " style="opacity:0.9;fill:%23ffffff;enable-background:new" class="st0"/%3E%3C/g%3E%3C/svg%3E\')'}}},13056:function(ae,B,r){"use strict";var D=r(71828);ae.exports=function(E,f){var k=E.split(" "),M=k[0],y=k[1],c=D.isArrayOrTypedArray(f)?D.mean(f):f,i=.5+c/100,s=1.5+c/100,a=["",""],o=[0,0];switch(M){case"top":a[0]="top",o[1]=-s;break;case"bottom":a[0]="bottom",o[1]=s}switch(y){case"left":a[1]="right",o[0]=-i;break;case"right":a[1]="left",o[0]=i}return{anchor:a[0]&&a[1]?a.join("-"):a[0]?a[0]:a[1]?a[1]:"center",offset:o}}},50101:function(ae,B,r){"use strict";var D=r(44517),E=r(71828),f=E.strTranslate,k=E.strScale,M=r(27659).AU,y=r(77922),c=r(39898),i=r(91424),s=r(63893),a=r(10481),o="mapbox",l=B.constants=r(77734);function u(h){return"string"==typeof h&&(-1!==l.styleValuesMapbox.indexOf(h)||0===h.indexOf("mapbox://"))}B.name=o,B.attr="subplot",B.idRoot=o,B.idRegex=B.attrRegex=E.counterRegex(o),B.attributes={subplot:{valType:"subplotid",dflt:"mapbox",editType:"calc"}},B.layoutAttributes=r(23585),B.supplyLayoutDefaults=r(77882),B.plot=function(h){var v=h._fullLayout,p=h.calcdata,T=v._subplots[o];if(D.version!==l.requiredVersion)throw new Error(l.wrongVersionErrorMsg);var _=function(g,I){var S=g._fullLayout;if(""===g._context.mapboxAccessToken)return"";for(var O=[],R=[],L=!1,N=!1,j=0;j<I.length;j++){var X=S[I[j]],F=X.accesstoken;u(X.style)&&(F?E.pushUnique(O,F):(u(X._input.style)&&(E.error("Uses Mapbox map style, but did not set an access token."),L=!0),N=!0)),F&&E.pushUnique(R,F)}if(N){var Y=L?l.noAccessTokenErrorMsg:l.missingStyleErrorMsg;throw E.error(Y),new Error(Y)}return O.length?(O.length>1&&E.warn(l.multipleTokensErrorMsg),O[0]):(R.length&&E.log(["Listed mapbox access token(s)",R.join(","),"but did not use a Mapbox map style, ignoring token(s)."].join(" ")),"")}(h,T);D.accessToken=_;for(var m=0;m<T.length;m++){var w=T[m],x=M(p,o,w),b=v[w],A=b._subplot;A||(A=new a(h,w),v[w]._subplot=A),A.viewInitial||(A.viewInitial={center:E.extendFlat({},b.center),zoom:b.zoom,bearing:b.bearing,pitch:b.pitch}),A.plot(x,v,h._promises)}},B.clean=function(h,v,p,T){for(var _=T._subplots[o]||[],m=0;m<_.length;m++){var w=_[m];!v[w]&&T[w]._subplot&&T[w]._subplot.destroy()}},B.toSVG=function(h){for(var v=h._fullLayout,p=v._subplots[o],T=v._size,_=0;_<p.length;_++){var m=v[p[_]],w=m.domain,x=m._subplot.toImage("png");v._glimages.append("svg:image").attr({xmlns:y.svg,"xlink:href":x,x:T.l+T.w*w.x[0],y:T.t+T.h*(1-w.y[1]),width:T.w*(w.x[1]-w.x[0]),height:T.h*(w.y[1]-w.y[0]),preserveAspectRatio:"none"});var b=c.select(m._subplot.div);if(null!==b.select(".mapboxgl-ctrl-logo").node().offsetParent){var A=v._glimages.append("g");A.attr("transform",f(T.l+T.w*w.x[0]+10,T.t+T.h*(1-w.y[0])-31)),A.append("path").attr("d",l.mapboxLogo.path0).style({opacity:.9,fill:"#ffffff","enable-background":"new"}),A.append("path").attr("d",l.mapboxLogo.path1).style("opacity",.35).style("enable-background","new"),A.append("path").attr("d",l.mapboxLogo.path2).style("opacity",.35).style("enable-background","new"),A.append("polygon").attr("points",l.mapboxLogo.polygon).style({opacity:.9,fill:"#ffffff","enable-background":"new"})}var g=b.select(".mapboxgl-ctrl-attrib").text().replace("Improve this map",""),I=v._glimages.append("g"),S=I.append("text");S.text(g).classed("static-attribution",!0).attr({"font-size":12,"font-family":"Arial",color:"rgba(0, 0, 0, 0.75)","text-anchor":"end","data-unformatted":g});var O=i.bBox(S.node()),R=T.w*(w.x[1]-w.x[0]);if(O.width>R/2){var L=g.split("|").join("<br>");S.text(L).attr("data-unformatted",L).call(s.convertToTspans,h),O=i.bBox(S.node())}S.attr("transform",f(-3,8-O.height)),I.insert("rect",".static-attribution").attr({x:-O.width-6,y:-O.height-3,width:O.width+6,height:O.height+3,fill:"rgba(255, 255, 255, 0.75)"});var N=1;O.width+6>R&&(N=R/(O.width+6));var j=[T.l+T.w*w.x[1],T.t+T.h*(1-w.y[0])];I.attr("transform",f(j[0],j[1])+k(N))}},B.updateFx=function(h){for(var v=h._fullLayout,p=v._subplots[o],T=0;T<p.length;T++)v[p[T]]._subplot.updateFx(v)}},67911:function(ae,B,r){"use strict";var D=r(71828),E=r(63893).sanitizeHTML,f=r(13056),k=r(77734);function M(s,a){this.subplot=s,this.uid=s.uid+"-"+a,this.index=a,this.idSource="source-"+this.uid,this.idLayer=k.layoutLayerPrefix+this.uid,this.sourceType=null,this.source=null,this.layerType=null,this.below=null,this.visible=!1}var y=M.prototype;function c(s){if(!s.visible)return!1;var a=s.source;if(Array.isArray(a)&&a.length>0){for(var o=0;o<a.length;o++)if("string"!=typeof a[o]||0===a[o].length)return!1;return!0}return D.isPlainObject(a)||"string"==typeof a&&a.length>0}function i(s){var a={},o={};switch(s.type){case"circle":D.extendFlat(o,{"circle-radius":s.circle.radius,"circle-color":s.color,"circle-opacity":s.opacity});break;case"line":D.extendFlat(o,{"line-width":s.line.width,"line-color":s.color,"line-opacity":s.opacity,"line-dasharray":s.line.dash});break;case"fill":D.extendFlat(o,{"fill-color":s.color,"fill-outline-color":s.fill.outlinecolor,"fill-opacity":s.opacity});break;case"symbol":var l=s.symbol,u=f(l.textposition,l.iconsize);D.extendFlat(a,{"icon-image":l.icon+"-15","icon-size":l.iconsize/10,"text-field":l.text,"text-size":l.textfont.size,"text-anchor":u.anchor,"text-offset":u.offset,"symbol-placement":l.placement}),D.extendFlat(o,{"icon-color":s.color,"text-color":l.textfont.color,"text-opacity":s.opacity});break;case"raster":D.extendFlat(o,{"raster-fade-duration":0,"raster-opacity":s.opacity})}return{layout:a,paint:o}}y.update=function(s){this.visible?this.needsNewImage(s)?this.updateImage(s):this.needsNewSource(s)?(this.removeLayer(),this.updateSource(s),this.updateLayer(s)):this.needsNewLayer(s)?this.updateLayer(s):this.updateStyle(s):(this.updateSource(s),this.updateLayer(s)),this.visible=c(s)},y.needsNewImage=function(s){return this.subplot.map.getSource(this.idSource)&&"image"===this.sourceType&&"image"===s.sourcetype&&(this.source!==s.source||JSON.stringify(this.coordinates)!==JSON.stringify(s.coordinates))},y.needsNewSource=function(s){return this.sourceType!==s.sourcetype||JSON.stringify(this.source)!==JSON.stringify(s.source)||this.layerType!==s.type},y.needsNewLayer=function(s){return this.layerType!==s.type||this.below!==this.subplot.belowLookup["layout-"+this.index]},y.lookupBelow=function(){return this.subplot.belowLookup["layout-"+this.index]},y.updateImage=function(s){this.subplot.map.getSource(this.idSource).updateImage({url:s.source,coordinates:s.coordinates});var a=this.findFollowingMapboxLayerId(this.lookupBelow());null!==a&&this.subplot.map.moveLayer(this.idLayer,a)},y.updateSource=function(s){var l,u,h,v,p,a=this.subplot.map;if(a.getSource(this.idSource)&&a.removeSource(this.idSource),this.sourceType=s.sourcetype,this.source=s.source,c(s)){var o=(v=(l=s).source,p={type:h=l.sourcetype},"geojson"===h?u="data":"vector"===h?u="string"==typeof v?"url":"tiles":"raster"===h?(u="tiles",p.tileSize=256):"image"===h&&(u="url",p.coordinates=l.coordinates),p[u]=v,l.sourceattribution&&(p.attribution=E(l.sourceattribution)),p);a.addSource(this.idSource,o)}},y.findFollowingMapboxLayerId=function(s){if("traces"===s)for(var a=this.subplot.getMapLayers(),o=0;o<a.length;o++){var l=a[o].id;if("string"==typeof l&&0===l.indexOf(k.traceLayerPrefix)){s=l;break}}return s},y.updateLayer=function(s){var a=this.subplot,o=i(s),l=this.lookupBelow(),u=this.findFollowingMapboxLayerId(l);this.removeLayer(),c(s)&&a.addLayer({id:this.idLayer,source:this.idSource,"source-layer":s.sourcelayer||"",type:s.type,minzoom:s.minzoom,maxzoom:s.maxzoom,layout:o.layout,paint:o.paint},u),this.layerType=s.type,this.below=l},y.updateStyle=function(s){if(c(s)){var a=i(s);this.subplot.setOptions(this.idLayer,"setLayoutProperty",a.layout),this.subplot.setOptions(this.idLayer,"setPaintProperty",a.paint)}},y.removeLayer=function(){var s=this.subplot.map;s.getLayer(this.idLayer)&&s.removeLayer(this.idLayer)},y.dispose=function(){var s=this.subplot.map;s.getLayer(this.idLayer)&&s.removeLayer(this.idLayer),s.getSource(this.idSource)&&s.removeSource(this.idSource)},ae.exports=function(s,a,o){var l=new M(s,a);return l.update(o),l}},23585:function(ae,B,r){"use strict";var D=r(71828),E=r(7901).defaultLine,f=r(27670).Y,k=r(41940),M=r(82196).textposition,y=r(30962).overrideAll,c=r(44467).templatedArray,i=r(77734),s=k({});s.family.dflt="Open Sans Regular, Arial Unicode MS Regular",(ae.exports=y({_arrayAttrRegexps:[D.counterRegex("mapbox",".layers",!0)],domain:f({name:"mapbox"}),accesstoken:{valType:"string",noBlank:!0,strict:!0},style:{valType:"any",values:i.styleValuesMapbox.concat(i.styleValuesNonMapbox),dflt:i.styleValueDflt},center:{lon:{valType:"number",dflt:0},lat:{valType:"number",dflt:0}},zoom:{valType:"number",dflt:1},bearing:{valType:"number",dflt:0},pitch:{valType:"number",dflt:0},bounds:{west:{valType:"number"},east:{valType:"number"},south:{valType:"number"},north:{valType:"number"}},layers:c("layer",{visible:{valType:"boolean",dflt:!0},sourcetype:{valType:"enumerated",values:["geojson","vector","raster","image"],dflt:"geojson"},source:{valType:"any"},sourcelayer:{valType:"string",dflt:""},sourceattribution:{valType:"string"},type:{valType:"enumerated",values:["circle","line","fill","symbol","raster"],dflt:"circle"},coordinates:{valType:"any"},below:{valType:"string"},color:{valType:"color",dflt:E},opacity:{valType:"number",min:0,max:1,dflt:1},minzoom:{valType:"number",min:0,max:24,dflt:0},maxzoom:{valType:"number",min:0,max:24,dflt:24},circle:{radius:{valType:"number",dflt:15}},line:{width:{valType:"number",dflt:2},dash:{valType:"data_array"}},fill:{outlinecolor:{valType:"color",dflt:E}},symbol:{icon:{valType:"string",dflt:"marker"},iconsize:{valType:"number",dflt:10},text:{valType:"string",dflt:""},placement:{valType:"enumerated",values:["point","line","line-center"],dflt:"point"},textfont:s,textposition:D.extendFlat({},M,{arrayOk:!1})}})},"plot","from-root")).uirevision={valType:"any",editType:"none"}},77882:function(ae,B,r){"use strict";var D=r(71828),E=r(49119),f=r(85501),k=r(23585);function M(c,i,s,a){s("accesstoken",a.accessToken),s("style"),s("center.lon"),s("center.lat"),s("zoom"),s("bearing"),s("pitch");var o=s("bounds.west"),l=s("bounds.east"),u=s("bounds.south"),h=s("bounds.north");void 0!==o&&void 0!==l&&void 0!==u&&void 0!==h||delete i.bounds,f(c,i,{name:"layers",handleItemDefaults:y}),i._input=c}function y(c,i){function s(h,v){return D.coerce(c,i,k.layers,h,v)}if(s("visible")){var a,o=s("sourcetype"),l="raster"===o||"image"===o;s("source"),s("sourceattribution"),"vector"===o&&s("sourcelayer"),"image"===o&&s("coordinates"),l&&(a="raster");var u=s("type",a);l&&"raster"!==u&&(u=i.type="raster",D.log("Source types *raster* and *image* must drawn *raster* layer type.")),s("below"),s("color"),s("opacity"),s("minzoom"),s("maxzoom"),"circle"===u&&s("circle.radius"),"line"===u&&(s("line.width"),s("line.dash")),"fill"===u&&s("fill.outlinecolor"),"symbol"===u&&(s("symbol.icon"),s("symbol.iconsize"),s("symbol.text"),D.coerceFont(s,"symbol.textfont"),s("symbol.textposition"),s("symbol.placement"))}}ae.exports=function(c,i,s){E(c,i,s,{type:"mapbox",attributes:k,handleDefaults:M,partition:"y",accessToken:i._mapboxAccessToken})}},10481:function(ae,B,r){"use strict";var D=r(44517),E=r(71828),f=r(41327),k=r(73972),M=r(89298),y=r(28569),c=r(30211),i=r(64505),s=i.drawMode,a=i.selectMode,o=r(47322).prepSelect,l=r(47322).clearOutline,u=r(47322).clearSelectionsCache,h=r(47322).selectOnClick,v=r(77734),p=r(67911);function T(A,g){this.id=g,this.gd=A;var I=A._fullLayout,S=A._context;this.container=I._glcontainer.node(),this.isStatic=S.staticPlot,this.uid=I._uid+"-"+this.id,this.div=null,this.xaxis=null,this.yaxis=null,this.createFramework(I),this.map=null,this.accessToken=null,this.styleObj=null,this.traceHash={},this.layerList=[],this.belowLookup={},this.dragging=!1,this.wheeling=!1}var _=T.prototype;_.plot=function(A,g,I){var S,O=this;O.map&&g[O.id].accesstoken!==O.accessToken&&(O.map.remove(),O.map=null,O.styleObj=null,O.traceHash={},O.layerList=[]),S=new Promise(O.map?function(L,N){O.updateMap(A,g,L,N)}:function(L,N){O.createMap(A,g,L,N)}),I.push(S)},_.createMap=function(A,g,I,S){var O=this,R=g[O.id],L=O.styleObj=w(R.style);O.accessToken=R.accesstoken;var N=R.bounds,j=N?[[N.west,N.south],[N.east,N.north]]:null,X=O.map=new D.Map({container:O.div,style:L.style,center:b(R.center),zoom:R.zoom,bearing:R.bearing,pitch:R.pitch,maxBounds:j,interactive:!O.isStatic,preserveDrawingBuffer:O.isStatic,doubleClickZoom:!1,boxZoom:!1,attributionControl:!1}).addControl(new D.AttributionControl({compact:!0}));X._canvas.style.left="0px",X._canvas.style.top="0px",O.rejectOnError(S),O.isStatic||O.initFx(A,g);var F=[];F.push(new Promise(function(Y){X.once("load",Y)})),F=F.concat(f.fetchTraceGeoData(A)),Promise.all(F).then(function(){O.fillBelowLookup(A,g),O.updateData(A),O.updateLayout(g),O.resolveOnRender(I)}).catch(S)},_.updateMap=function(A,g,I,S){var O=this,R=O.map,L=g[this.id];O.rejectOnError(S);var N=[],j=w(L.style);JSON.stringify(O.styleObj)!==JSON.stringify(j)&&(O.styleObj=j,R.setStyle(j.style),O.traceHash={},N.push(new Promise(function(X){R.once("styledata",X)}))),N=N.concat(f.fetchTraceGeoData(A)),Promise.all(N).then(function(){O.fillBelowLookup(A,g),O.updateData(A),O.updateLayout(g),O.resolveOnRender(I)}).catch(S)},_.fillBelowLookup=function(A,g){var I,S,O=g[this.id].layers,R=this.belowLookup={},L=!1;for(I=0;I<A.length;I++){var N=A[I][0].trace,j=N._module;"string"==typeof N.below?S=N.below:j.getBelow&&(S=j.getBelow(N,this)),""===S&&(L=!0),R["trace-"+N.uid]=S||""}for(I=0;I<O.length;I++){var X=O[I];R["layout-"+I]=S="string"==typeof X.below?X.below:L?"traces":""}var F,Y,G={};for(F in R)G[S=R[F]]?G[S].push(F):G[S]=[F];for(S in G){var H=G[S];if(H.length>1)for(I=0;I<H.length;I++)0===(F=H[I]).indexOf("trace-")?(Y=F.split("trace-")[1],this.traceHash[Y]&&(this.traceHash[Y].below=null)):0===F.indexOf("layout-")&&(Y=F.split("layout-")[1],this.layerList[Y]&&(this.layerList[Y].below=null))}};var m={choroplethmapbox:0,densitymapbox:1,scattermapbox:2};function w(A){var g={};return E.isPlainObject(A)?(g.id=A.id,g.style=A):"string"==typeof A?(g.id=A,g.style=-1!==v.styleValuesMapbox.indexOf(A)?x(A):v.stylesNonMapbox[A]?v.stylesNonMapbox[A]:A):(g.id=v.styleValueDflt,g.style=x(v.styleValueDflt)),g.transition={duration:0,delay:0},g}function x(A){return v.styleUrlPrefix+A+"-"+v.styleUrlSuffix}function b(A){return[A.lon,A.lat]}_.updateData=function(A){var g,I,S,O,R=this.traceHash,L=A.slice().sort(function(Y,G){return m[Y[0].trace.type]-m[G[0].trace.type]});for(S=0;S<L.length;S++){var N=L[S],j=!1;(g=R[(I=N[0].trace).uid])&&(g.type===I.type?(g.update(N),j=!0):g.dispose()),!j&&I._module&&(R[I.uid]=I._module.plot(this,N))}var X=Object.keys(R);e:for(S=0;S<X.length;S++){var F=X[S];for(O=0;O<A.length;O++)if(F===(I=A[O][0].trace).uid)continue e;(g=R[F]).dispose(),delete R[F]}},_.updateLayout=function(A){var g=this.map,I=A[this.id];this.dragging||this.wheeling||(g.setCenter(b(I.center)),g.setZoom(I.zoom),g.setBearing(I.bearing),g.setPitch(I.pitch)),this.updateLayers(A),this.updateFramework(A),this.updateFx(A),this.map.resize(),this.gd._context._scrollZoom.mapbox?g.scrollZoom.enable():g.scrollZoom.disable()},_.resolveOnRender=function(A){var g=this.map;g.on("render",function I(){g.loaded()&&(g.off("render",I),setTimeout(A,10))})},_.rejectOnError=function(A){var g=this.map;function I(){A(new Error(v.mapOnErrorMsg))}g.once("error",I),g.once("style.error",I),g.once("source.error",I),g.once("tile.error",I),g.once("layer.error",I)},_.createFramework=function(A){var g=this,I=g.div=document.createElement("div");I.id=g.uid,I.style.position="absolute",g.container.appendChild(I),g.xaxis={_id:"x",c2p:function(S){return g.project(S).x}},g.yaxis={_id:"y",c2p:function(S){return g.project(S).y}},g.updateFramework(A),g.mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},M.setConvert(g.mockAxis,A)},_.initFx=function(A,g){var I=this,S=I.gd,O=I.map;function R(){c.loneUnhover(g._hoverlayer)}function L(){var N=I.getView();S.emit("plotly_relayouting",I.getViewEditsWithDerived(N))}O.on("moveend",function(N){if(I.map){var j=S._fullLayout;if(N.originalEvent||I.wheeling){var X=j[I.id];k.call("_storeDirectGUIEdit",S.layout,j._preGUI,I.getViewEdits(X));var F=I.getView();X._input.center=X.center=F.center,X._input.zoom=X.zoom=F.zoom,X._input.bearing=X.bearing=F.bearing,X._input.pitch=X.pitch=F.pitch,S.emit("plotly_relayout",I.getViewEditsWithDerived(F))}N.originalEvent&&"mouseup"===N.originalEvent.type?I.dragging=!1:I.wheeling&&(I.wheeling=!1),j._rehover&&j._rehover()}}),O.on("wheel",function(){I.wheeling=!0}),O.on("mousemove",function(N){var j=I.div.getBoundingClientRect(),X=[N.originalEvent.offsetX,N.originalEvent.offsetY];N.target.getBoundingClientRect=function(){return j},I.xaxis.p2c=function(){return O.unproject(X).lng},I.yaxis.p2c=function(){return O.unproject(X).lat},S._fullLayout._rehover=function(){S._fullLayout._hoversubplot===I.id&&S._fullLayout[I.id]&&c.hover(S,N,I.id)},c.hover(S,N,I.id),S._fullLayout._hoversubplot=I.id}),O.on("dragstart",function(){I.dragging=!0,R()}),O.on("zoomstart",R),O.on("mouseout",function(){S._fullLayout._hoversubplot=null}),O.on("drag",L),O.on("zoom",L),O.on("dblclick",function(){var N=S._fullLayout[I.id];k.call("_storeDirectGUIEdit",S.layout,S._fullLayout._preGUI,I.getViewEdits(N));var j=I.viewInitial;O.setCenter(b(j.center)),O.setZoom(j.zoom),O.setBearing(j.bearing),O.setPitch(j.pitch);var X=I.getView();N._input.center=N.center=X.center,N._input.zoom=N.zoom=X.zoom,N._input.bearing=N.bearing=X.bearing,N._input.pitch=N.pitch=X.pitch,S.emit("plotly_doubleclick",null),S.emit("plotly_relayout",I.getViewEditsWithDerived(X))}),I.clearOutline=function(){u(I.dragOptions),l(I.dragOptions.gd)},I.onClickInPanFn=function(N){return function(j){var X=S._fullLayout.clickmode;X.indexOf("select")>-1&&h(j.originalEvent,S,[I.xaxis],[I.yaxis],I.id,N),X.indexOf("event")>-1&&c.click(S,j.originalEvent)}}},_.updateFx=function(A){var g=this,I=g.map;if(!g.isStatic){var R=A.dragmode;g.dragOptions=E.extendDeep(g.dragOptions||{},{dragmode:A.dragmode,element:g.div,gd:g.gd,plotinfo:{id:g.id,domain:A[g.id].domain,xaxis:g.xaxis,yaxis:g.yaxis,fillRangeItems:function(j,X){X.isRect?(j.range={})[g.id]=[N([X.xmin,X.ymin]),N([X.xmax,X.ymax])]:(j.lassoPoints={})[g.id]=X.map(N)}},xaxes:[g.xaxis],yaxes:[g.yaxis],subplot:g.id}),I.off("click",g.onClickInPanHandler),a(R)||s(R)?(I.dragPan.disable(),I.on("zoomstart",g.clearOutline),g.dragOptions.prepFn=function(j,X,F){o(j,X,F,g.dragOptions,R)},y.init(g.dragOptions)):(I.dragPan.enable(),I.off("zoomstart",g.clearOutline),g.div.onmousedown=null,g.div.ontouchstart=null,g.div.removeEventListener("touchstart",g.div._ontouchstart),g.onClickInPanHandler=g.onClickInPanFn(g.dragOptions),I.on("click",g.onClickInPanHandler))}function N(j){var X=g.map.unproject(j);return[X.lng,X.lat]}},_.updateFramework=function(A){var g=A[this.id].domain,I=A._size,S=this.div.style;S.width=I.w*(g.x[1]-g.x[0])+"px",S.height=I.h*(g.y[1]-g.y[0])+"px",S.left=I.l+g.x[0]*I.w+"px",S.top=I.t+(1-g.y[1])*I.h+"px",this.xaxis._offset=I.l+g.x[0]*I.w,this.xaxis._length=I.w*(g.x[1]-g.x[0]),this.yaxis._offset=I.t+(1-g.y[1])*I.h,this.yaxis._length=I.h*(g.y[1]-g.y[0])},_.updateLayers=function(A){var g,I=A[this.id].layers,S=this.layerList;if(I.length!==S.length){for(g=0;g<S.length;g++)S[g].dispose();for(S=this.layerList=[],g=0;g<I.length;g++)S.push(p(this,g,I[g]))}else for(g=0;g<I.length;g++)S[g].update(I[g])},_.destroy=function(){this.map&&(this.map.remove(),this.map=null,this.container.removeChild(this.div))},_.toImage=function(){return this.map.stop(),this.map.getCanvas().toDataURL()},_.setOptions=function(A,g,I){for(var S in I)this.map[g](A,S,I[S])},_.getMapLayers=function(){return this.map.getStyle().layers},_.addLayer=function(A,g){var I=this.map;if("string"==typeof g){if(""===g)return void I.addLayer(A,g);for(var S=this.getMapLayers(),O=0;O<S.length;O++)if(g===S[O].id)return void I.addLayer(A,g);E.warn(["Trying to add layer with *below* value",g,"referencing a layer that does not exist","or that does not yet exist."].join(" "))}I.addLayer(A)},_.project=function(A){return this.map.project(new D.LngLat(A[0],A[1]))},_.getView=function(){var A=this.map,g=A.getCenter(),I={lon:g.lng,lat:g.lat},S=A.getCanvas(),O=parseInt(S.style.width),R=parseInt(S.style.height);return{center:I,zoom:A.getZoom(),bearing:A.getBearing(),pitch:A.getPitch(),_derived:{coordinates:[A.unproject([0,0]).toArray(),A.unproject([O,0]).toArray(),A.unproject([O,R]).toArray(),A.unproject([0,R]).toArray()]}}},_.getViewEdits=function(A){for(var g=this.id,I=["center","zoom","bearing","pitch"],S={},O=0;O<I.length;O++){var R=I[O];S[g+"."+R]=A[R]}return S},_.getViewEditsWithDerived=function(A){var g=this.id,I=this.getViewEdits(A);return I[g+"._derived"]=A._derived,I},ae.exports=T},35025:function(ae){"use strict";ae.exports=function(B){var r=B.editType;return{t:{valType:"number",dflt:0,editType:r},r:{valType:"number",dflt:0,editType:r},b:{valType:"number",dflt:0,editType:r},l:{valType:"number",dflt:0,editType:r},editType:r}}},74875:function(ae,B,r){"use strict";var D=r(39898),E=r(84096).Dq,f=r(60721).FF,k=r(92770),M=r(73972),y=r(86281),c=r(44467),i=r(71828),s=r(7901),a=r(50606).BADNUM,o=r(41675),l=r(51873).clearOutline,u=r(21479),h=r(85594),v=r(31391),p=r(27659).a0,T=i.relinkPrivateKeys,_=i._,m=ae.exports={};i.extendFlat(m,M),m.attributes=r(9012),m.attributes.type.values=m.allTypes,m.fontAttrs=r(41940),m.layoutAttributes=r(10820),m.fontWeight="normal";var w=m.transformsRegistry,x=r(31137);m.executeAPICommand=x.executeAPICommand,m.computeAPICommandBindings=x.computeAPICommandBindings,m.manageCommandObserver=x.manageCommandObserver,m.hasSimpleAPICommandBindings=x.hasSimpleAPICommandBindings,m.redrawText=function(G){return G=i.getGraphDiv(G),new Promise(function(H){setTimeout(function(){G._fullLayout&&(M.getComponentMethod("annotations","draw")(G),M.getComponentMethod("legend","draw")(G),M.getComponentMethod("colorbar","draw")(G),H(m.previousPromises(G)))},300)})},m.resize=function(G){var H;G=i.getGraphDiv(G);var W=new Promise(function(Z,se){G&&!i.isHidden(G)||se(new Error("Resize must be passed a displayed plot div element.")),G._redrawTimer&&clearTimeout(G._redrawTimer),G._resolveResize&&(H=G._resolveResize),G._resolveResize=Z,G._redrawTimer=setTimeout(function(){if(!G.layout||G.layout.width&&G.layout.height||i.isHidden(G))Z(G);else{delete G.layout.width,delete G.layout.height;var re=G.changed;G.autoplay=!0,M.call("relayout",G,{autosize:!0}).then(function(){G.changed=re,G._resolveResize===Z&&(delete G._resolveResize,Z(G))})}},100)});return H&&H(W),W},m.previousPromises=function(G){if((G._promises||[]).length)return Promise.all(G._promises).then(function(){G._promises=[]})},m.addLinks=function(G){if(G._context.showLink||G._context.showSources){var H=G._fullLayout,W=i.ensureSingle(H._paper,"text","js-plot-link-container",function(ee){ee.style({"font-family":'"Open Sans", Arial, sans-serif',"font-size":"12px",fill:s.defaultLine,"pointer-events":"all"}).each(function(){var oe=D.select(this);oe.append("tspan").classed("js-link-to-tool",!0),oe.append("tspan").classed("js-link-spacer",!0),oe.append("tspan").classed("js-sourcelinks",!0)})}),Z=W.node(),se={y:H._paper.attr("height")-9};document.body.contains(Z)&&Z.getComputedTextLength()>=H.width-20?(se["text-anchor"]="start",se.x=5):(se["text-anchor"]="end",se.x=H._paper.attr("width")-7),W.attr(se);var re=W.select(".js-link-to-tool"),ne=W.select(".js-link-spacer"),Q=W.select(".js-sourcelinks");G._context.showSources&&G._context.showSources(G),G._context.showLink&&function(ee,oe){oe.text("");var ce=oe.append("a").attr({"xlink:xlink:href":"#",class:"link--impt link--embedview","font-weight":"bold"}).text(ee._context.linkText+" "+String.fromCharCode(187));if(ee._context.sendData)ce.on("click",function(){m.sendDataToCloud(ee)});else{var fe=window.location.pathname.split("/"),le=window.location.search;ce.attr({"xlink:xlink:show":"new","xlink:xlink:href":"/"+fe[2].split(".")[0]+"/"+fe[1]+le})}}(G,re),ne.text(re.text()&&Q.text()?" - ":"")}},m.sendDataToCloud=function(G){var H=(window.PLOTLYENV||{}).BASE_URL||G._context.plotlyServerURL;if(H){G.emit("plotly_beforeexport");var W=D.select(G).append("div").attr("id","hiddenform").style("display","none"),Z=W.append("form").attr({action:H+"/external",method:"post",target:"_blank"});return Z.append("input").attr({type:"text",name:"data"}).node().value=m.graphJson(G,!1,"keepdata"),Z.node().submit(),W.remove(),G.emit("plotly_afterexport"),!1}};var b=["days","shortDays","months","shortMonths","periods","dateTime","date","time","decimal","thousands","grouping","currency"],A=["year","month","dayMonth","dayMonthYear"];function g(G,H){var W=G._context.locale;W||(W="en-US");var Z=!1,se={};function re(fe){for(var le=!0,pe=0;pe<H.length;pe++){var Me=H[pe];se[Me]||(fe[Me]?se[Me]=fe[Me]:le=!1)}le&&(Z=!0)}for(var ne=0;ne<2;ne++){for(var Q=G._context.locales,ee=0;ee<2;ee++){var oe=(Q[W]||{}).format;if(oe&&(re(oe),Z))break;Q=M.localeRegistry}var ce=W.split("-")[0];if(Z||ce===W)break;W=ce}return Z||re(M.localeRegistry.en.format),se}function I(G,H){var W={_fullLayout:H},Z="x"===G._id.charAt(0),se=G._mainAxis._anchorAxis,re="",ne="",Q="";if(se&&(Q=se._mainAxis._id,re=Z?G._id+Q:Q+G._id),!re||!H._plots[re]){re="";for(var ee=G._counterAxes,oe=0;oe<ee.length;oe++){var ce=ee[oe],fe=Z?G._id+ce:ce+G._id;ne||(ne=fe);var le=o.getFromId(W,ce);if(Q&&le.overlaying===Q){re=fe;break}}}return re||ne}function S(G){var H=G.transforms;if(Array.isArray(H)&&H.length)for(var W=0;W<H.length;W++){var Z=H[W],se=Z._module||w[Z.type];if(se&&se.makesData)return!0}return!1}function O(G,H,W,Z){for(var se=G.transforms,re=[G],ne=0;ne<se.length;ne++){var Q=se[ne],ee=w[Q.type];ee&&ee.transform&&(re=ee.transform(re,{transform:Q,fullTrace:G,fullData:H,layout:W,fullLayout:Z,transformIndex:ne}))}return re}function R(G){return"string"==typeof G&&"px"===G.substr(G.length-2)&&parseFloat(G)}function L(G){var H=G.margin;if(!G._size){var W=G._size={l:Math.round(H.l),r:Math.round(H.r),t:Math.round(H.t),b:Math.round(H.b),p:Math.round(H.pad)};W.w=Math.round(G.width)-W.l-W.r,W.h=Math.round(G.height)-W.t-W.b}G._pushmargin||(G._pushmargin={}),G._pushmarginIds||(G._pushmarginIds={}),G._reservedMargin||(G._reservedMargin={})}m.supplyDefaults=function(G,H){var We,Ge,W=H&&H.skipUpdateCalc,Z=G._fullLayout||{};if(Z._skipDefaults)delete Z._skipDefaults;else{var se,re=G._fullLayout={},ne=G.layout||{},Q=G._fullData||[],ee=G._fullData=[],oe=G.data||[],ce=G.calcdata||[],fe=G._context||{};G._transitionData||m.createTransitionData(G),re._dfltTitle={plot:_(G,"Click to enter Plot title"),x:_(G,"Click to enter X axis title"),y:_(G,"Click to enter Y axis title"),colorbar:_(G,"Click to enter Colorscale title"),annotation:_(G,"new text")},re._traceWord=_(G,"trace");var le=g(G,b);if(re._mapboxAccessToken=fe.mapboxAccessToken,Z._initialAutoSizeIsDone){var pe=Z.width,Me=Z.height;m.supplyLayoutGlobalDefaults(ne,re,le),ne.width||(re.width=pe),ne.height||(re.height=Me),m.sanitizeMargins(re)}else{m.supplyLayoutGlobalDefaults(ne,re,le);var Ae=!ne.width||!ne.height,be=re.autosize;Ae&&(be||fe.autosizable)?m.plotAutoSize(G,ne,re):Ae&&m.sanitizeMargins(re),!be&&Ae&&(ne.width=re.width,ne.height=re.height)}re._d3locale=((We=le).decimal=(Ge=re.separators).charAt(0),We.thousands=Ge.charAt(1),{numberFormat:function(Ke){try{Ke=f(We).format(i.adjustFormat(Ke))}catch{return i.warnBadFormat(Ke),i.noFormat}return Ke},timeFormat:E(We).utcFormat}),re._extraFormat=g(G,A),re._initialAutoSizeIsDone=!0,re._dataLength=oe.length,re._modules=[],re._visibleModules=[],re._basePlotModules=[];var we=re._subplots=function(){var We,Ge,Ke=M.collectableSubplotTypes,et={};if(!Ke){Ke=[];var at=M.subplotsRegistry;for(var mt in at){var ct=at[mt].attr;if(ct&&(Ke.push(mt),Array.isArray(ct)))for(Ge=0;Ge<ct.length;Ge++)i.pushUnique(Ke,ct[Ge])}}for(We=0;We<Ke.length;We++)et[Ke[We]]=[];return et}(),ze=re._splomAxes={x:{},y:{}},Se=re._splomSubplots={};re._splomGridDflt={},re._scatterStackOpts={},re._firstScatter={},re._alignmentOpts={},re._colorAxes={},re._requestRangeslider={},re._traceUids=function(We,Ge){var Ke,et,at=Ge.length,mt=[];for(Ke=0;Ke<We.length;Ke++){var ct=We[Ke]._fullInput;ct!==et&&mt.push(ct),et=ct}var kt=mt.length,Dt=new Array(at),Et={};function ht(zt,Ht){Dt[Ht]=zt,Et[zt]=1}function pt(zt,Ht){if(zt&&"string"==typeof zt&&!Et[zt])return ht(zt,Ht),!0}for(Ke=0;Ke<at;Ke++){var Pt=Ge[Ke].uid;"number"==typeof Pt&&(Pt=String(Pt)),pt(Pt,Ke)||Ke<kt&&pt(mt[Ke].uid,Ke)||ht(i.randstr(Et),Ke)}return Dt}(Q,oe),re._globalTransforms=(G._context||{}).globalTransforms,m.supplyDataDefaults(oe,ee,ne,re);var Ce=Object.keys(ze.x),ge=Object.keys(ze.y);if(Ce.length>1&&ge.length>1){for(M.getComponentMethod("grid","sizeDefaults")(ne,re),se=0;se<Ce.length;se++)i.pushUnique(we.xaxis,Ce[se]);for(se=0;se<ge.length;se++)i.pushUnique(we.yaxis,ge[se]);for(var he in Se)i.pushUnique(we.cartesian,he)}if(re._has=m._hasPlotType.bind(re),Q.length===ee.length)for(se=0;se<ee.length;se++)T(ee[se],Q[se]);m.supplyLayoutModuleDefaults(ne,re,ee,G._transitionData);var _e=re._visibleModules,Le=[];for(se=0;se<_e.length;se++){var Ie=_e[se].crossTraceDefaults;Ie&&i.pushUnique(Le,Ie)}for(se=0;se<Le.length;se++)Le[se](ee,re);re._hasOnlyLargeSploms=1===re._basePlotModules.length&&"splom"===re._basePlotModules[0].name&&Ce.length>15&&ge.length>15&&0===re.shapes.length&&0===re.images.length,m.linkSubplots(ee,re,Q,Z),m.cleanPlot(ee,re,Q,Z);var De=!(!Z._has||!Z._has("gl2d")),je=!(!re._has||!re._has("gl2d")),qe=!(!Z._has||!Z._has("cartesian"))||De,ve=!(!re._has||!re._has("cartesian"))||je;qe&&!ve?Z._bgLayer.remove():ve&&!qe&&(re._shouldCreateBgLayer=!0),Z._zoomlayer&&!G._dragging&&l({_fullLayout:Z}),function(We,Ge){var Ke,et=[];Ge.meta&&(Ke=Ge._meta={meta:Ge.meta,layout:{meta:Ge.meta}});for(var at=0;at<We.length;at++){var mt=We[at];mt.meta?et[mt.index]=mt._meta={meta:mt.meta}:Ge.meta&&(mt._meta={meta:Ge.meta}),Ge.meta&&(mt._meta.layout={meta:Ge.meta})}et.length&&(Ke||(Ke=Ge._meta={}),Ke.data=et)}(ee,re),T(re,Z),M.getComponentMethod("colorscale","crossTraceDefaults")(ee,re),re._preGUI||(re._preGUI={}),re._tracePreGUI||(re._tracePreGUI={});var Oe,ke=re._tracePreGUI,Be={};for(Oe in ke)Be[Oe]="old";for(se=0;se<ee.length;se++)Be[Oe=ee[se]._fullInput.uid]||(ke[Oe]={}),Be[Oe]="new";for(Oe in Be)"old"===Be[Oe]&&delete ke[Oe];L(re),M.getComponentMethod("rangeslider","makeData")(re),W||ce.length!==ee.length||m.supplyDefaultsUpdateCalc(ce,ee)}},m.supplyDefaultsUpdateCalc=function(G,H){for(var W=0;W<H.length;W++){var Z=H[W],se=(G[W]||[])[0];if(se&&se.trace){var re=se.trace;if(re._hasCalcTransform){var ne,Q,ee,oe=re._arrayAttrs;for(ne=0;ne<oe.length;ne++)ee=i.nestedProperty(re,Q=oe[ne]).get().slice(),i.nestedProperty(Z,Q).set(ee)}se.trace=Z}}},m.createTransitionData=function(G){G._transitionData||(G._transitionData={}),G._transitionData._frames||(G._transitionData._frames=[]),G._transitionData._frameHash||(G._transitionData._frameHash={}),G._transitionData._counter||(G._transitionData._counter=0),G._transitionData._interruptCallbacks||(G._transitionData._interruptCallbacks=[])},m._hasPlotType=function(G){var H,W=this._basePlotModules||[];for(H=0;H<W.length;H++)if(W[H].name===G)return!0;var Z=this._modules||[];for(H=0;H<Z.length;H++){var se=Z[H].name;if(se===G)return!0;var re=M.modules[se];if(re&&re.categories[G])return!0}return!1},m.cleanPlot=function(G,H,W,Z){var se,re,ne=Z._basePlotModules||[];for(se=0;se<ne.length;se++){var Q=ne[se];Q.clean&&Q.clean(G,H,W,Z)}var ee=Z._has&&Z._has("gl"),oe=H._has&&H._has("gl");ee&&!oe&&void 0!==Z._glcontainer&&(Z._glcontainer.selectAll(".gl-canvas").remove(),Z._glcontainer.selectAll(".no-webgl").remove(),Z._glcanvas=null);var ce=!!Z._infolayer;e:for(se=0;se<W.length;se++){var fe=W[se].uid;for(re=0;re<G.length;re++)if(fe===G[re].uid)continue e;ce&&Z._infolayer.select(".cb"+fe).remove()}},m.linkSubplots=function(G,H,W,Z){var se,re,ne=Z._plots||{},Q=H._plots={},ee=H._subplots,oe={_fullData:G,_fullLayout:H},ce=ee.cartesian.concat(ee.gl2d||[]);for(se=0;se<ce.length;se++){var fe,le=ce[se],pe=ne[le],Me=o.getFromId(oe,le,"x"),Ae=o.getFromId(oe,le,"y");for(pe?fe=Q[le]=pe:(fe=Q[le]={}).id=le,Me._counterAxes.push(Ae._id),Ae._counterAxes.push(Me._id),Me._subplotsWith.push(le),Ae._subplotsWith.push(le),fe.xaxis=Me,fe.yaxis=Ae,fe._hasClipOnAxisFalse=!1,re=0;re<G.length;re++){var be=G[re];if(be.xaxis===fe.xaxis._id&&be.yaxis===fe.yaxis._id&&!1===be.cliponaxis){fe._hasClipOnAxisFalse=!0;break}}}var ye,we=o.list(oe,null,!0);for(se=0;se<we.length;se++){var ze=null;(ye=we[se]).overlaying&&(ze=o.getFromId(oe,ye.overlaying))&&ze.overlaying&&(ye.overlaying=!1,ze=null),ye._mainAxis=ze||ye,ze&&(ye.domain=ze.domain.slice()),ye._anchorAxis="free"===ye.anchor?null:o.getFromId(oe,ye.anchor)}for(se=0;se<we.length;se++)if((ye=we[se])._counterAxes.sort(o.idSort),ye._subplotsWith.sort(i.subplotSort),ye._mainSubplot=I(ye,H),ye._counterAxes.length&&(ye.spikemode&&-1!==ye.spikemode.indexOf("across")||ye.automargin&&ye.mirror&&"free"!==ye.anchor||M.getComponentMethod("rangeslider","isVisible")(ye))){var Se=1,Ce=0;for(re=0;re<ye._counterAxes.length;re++){var ge=o.getFromId(oe,ye._counterAxes[re]);Se=Math.min(Se,ge.domain[0]),Ce=Math.max(Ce,ge.domain[1])}Se<Ce&&(ye._counterDomainMin=Se,ye._counterDomainMax=Ce)}},m.clearExpandedTraceDefaultColors=function(G){var H,W,Z;for(W=[],(H=G._module._colorAttrs)||(G._module._colorAttrs=H=[],y.crawl(G._module.attributes,function(se,re,ne,Q){W[Q]=re,W.length=Q+1,"color"===se.valType&&void 0===se.dflt&&H.push(W.join("."))})),Z=0;Z<H.length;Z++)i.nestedProperty(G,"_input."+H[Z]).get()||i.nestedProperty(G,H[Z]).set(null)},m.supplyDataDefaults=function(G,H,W,Z){var se,re,ne,Q=Z._modules,ee=Z._visibleModules,oe=Z._basePlotModules,ce=0,fe=0;function le(he){H.push(he);var _e=he._module;_e&&(i.pushUnique(Q,_e),!0===he.visible&&i.pushUnique(ee,_e),i.pushUnique(oe,he._module.basePlotModule),ce++,!1!==he._input.visible&&fe++)}Z._transformModules=[];var pe={},Me=[],be=c.traceTemplater((W.template||{}).data||{});for(se=0;se<G.length;se++){if((re=be.newTrace(ne=G[se])).uid=Z._traceUids[se],m.supplyTraceDefaults(ne,re,fe,Z,se),re.index=se,re._input=ne,re._expandedIndex=ce,re.transforms&&re.transforms.length)for(var ye=!1!==ne.visible&&!1===re.visible,we=O(re,H,W,Z),ze=0;ze<we.length;ze++){var Se=we[ze],Ce={_template:re._template,type:re.type,uid:re.uid+ze};ye&&!1===Se.visible&&delete Se.visible,m.supplyTraceDefaults(Se,Ce,ce,Z,se),T(Ce,Se),Ce.index=se,Ce._input=ne,Ce._fullInput=re,Ce._expandedIndex=ce,Ce._expandedInput=Se,le(Ce)}else re._fullInput=re,re._expandedInput=re,le(re);M.traceIs(re,"carpetAxis")&&(pe[re.carpet]=re),M.traceIs(re,"carpetDependent")&&Me.push(se)}for(se=0;se<Me.length;se++)if((re=H[Me[se]]).visible){var ge=pe[re.carpet];re._carpet=ge,ge&&ge.visible?(re.xaxis=ge.xaxis,re.yaxis=ge.yaxis):re.visible=!1}},m.supplyAnimationDefaults=function(G){var H;G=G||{};var W={};function Z(se,re){return i.coerce(G||{},W,h,se,re)}if(Z("mode"),Z("direction"),Z("fromcurrent"),Array.isArray(G.frame))for(W.frame=[],H=0;H<G.frame.length;H++)W.frame[H]=m.supplyAnimationFrameDefaults(G.frame[H]||{});else W.frame=m.supplyAnimationFrameDefaults(G.frame||{});if(Array.isArray(G.transition))for(W.transition=[],H=0;H<G.transition.length;H++)W.transition[H]=m.supplyAnimationTransitionDefaults(G.transition[H]||{});else W.transition=m.supplyAnimationTransitionDefaults(G.transition||{});return W},m.supplyAnimationFrameDefaults=function(G){var H={};function W(Z,se){return i.coerce(G||{},H,h.frame,Z,se)}return W("duration"),W("redraw"),H},m.supplyAnimationTransitionDefaults=function(G){var H={};function W(Z,se){return i.coerce(G||{},H,h.transition,Z,se)}return W("duration"),W("easing"),H},m.supplyFrameDefaults=function(G){var H={};function W(Z,se){return i.coerce(G,H,v,Z,se)}return W("group"),W("name"),W("traces"),W("baseframe"),W("data"),W("layout"),H},m.supplyTraceDefaults=function(G,H,W,Z,se){var re,ne=Z.colorway||s.defaults,Q=ne[W%ne.length];function ee(we,ze){return i.coerce(G,H,m.attributes,we,ze)}var oe=ee("visible");ee("type"),ee("name",Z._traceWord+" "+se),ee("uirevision",Z.uirevision);var ce=m.getModule(H);if(H._module=ce,ce){var fe=ce.basePlotModule,le=fe.attr,pe=fe.attributes;if(le&&pe){var Me=Z._subplots,Ae="";if(oe||"gl2d"!==fe.name){if(Array.isArray(le))for(re=0;re<le.length;re++){var be=le[re],ye=i.coerce(G,H,pe,be);Me[be]&&i.pushUnique(Me[be],ye),Ae+=ye}else Ae=i.coerce(G,H,pe,le);Me[fe.name]&&i.pushUnique(Me[fe.name],Ae)}}}return oe&&(ee("customdata"),ee("ids"),ee("meta"),M.traceIs(H,"showLegend")?(i.coerce(G,H,ce.attributes.showlegend?ce.attributes:m.attributes,"showlegend"),ee("legend"),ee("legendwidth"),ee("legendgroup"),ee("legendgrouptitle.text"),ee("legendrank"),H._dfltShowLegend=!0):H._dfltShowLegend=!1,ce&&ce.supplyDefaults(G,H,Q,Z),M.traceIs(H,"noOpacity")||ee("opacity"),M.traceIs(H,"notLegendIsolatable")&&(H.visible=!!H.visible),M.traceIs(H,"noHover")||(H.hovertemplate||i.coerceHoverinfo(G,H,Z),"parcats"!==H.type&&M.getComponentMethod("fx","supplyDefaults")(G,H,Q,Z)),ce&&ce.selectPoints&&ee("selectedpoints"),m.supplyTransformDefaults(G,H,Z)),H},m.hasMakesDataTransform=S,m.supplyTransformDefaults=function(G,H,W){if(H._length||S(G)){var Z=W._globalTransforms||[],se=W._transformModules||[];if(Array.isArray(G.transforms)||0!==Z.length)for(var ne=Z.concat(G.transforms||[]),Q=H.transforms=[],ee=0;ee<ne.length;ee++){var oe,ce=ne[ee],fe=ce.type,le=w[fe],pe=!(ce._module&&ce._module===le),Me=le&&"function"==typeof le.transform;le||i.warn("Unrecognized transform type "+fe+"."),le&&le.supplyDefaults&&(pe||Me)?((oe=le.supplyDefaults(ce,H,W,G)).type=fe,oe._module=le,i.pushUnique(se,le)):oe=i.extendFlat({},ce),Q.push(oe)}}},m.supplyLayoutGlobalDefaults=function(G,H,W){function Z(ce,fe){return i.coerce(G,H,m.layoutAttributes,ce,fe)}var se=G.template;i.isPlainObject(se)&&(H.template=se,H._template=se.layout,H._dataTemplate=se.data),Z("autotypenumbers");var re=i.coerceFont(Z,"font");i.coerceFont(Z,"title.font",i.extendFlat({},re,{size:Math.round(1.4*re.size)})),Z("title.text",H._dfltTitle.plot),Z("title.xref");var Q=Z("title.yref");Z("title.pad.t"),Z("title.pad.r"),Z("title.pad.b"),Z("title.pad.l");var ee=Z("title.automargin");Z("title.x"),Z("title.xanchor"),Z("title.y"),Z("title.yanchor"),ee&&("paper"===Q&&(0!==H.title.y&&(H.title.y=1),"auto"===H.title.yanchor&&(H.title.yanchor=0===H.title.y?"top":"bottom")),"container"===Q&&("auto"===H.title.y&&(H.title.y=1),"auto"===H.title.yanchor&&(H.title.yanchor=H.title.y<.5?"bottom":"top"))),Z("uniformtext.mode")&&Z("uniformtext.minsize"),Z("autosize",!(G.width&&G.height)),Z("width"),Z("height"),Z("minreducedwidth"),Z("minreducedheight"),Z("margin.l"),Z("margin.r"),Z("margin.t"),Z("margin.b"),Z("margin.pad"),Z("margin.autoexpand"),G.width&&G.height&&m.sanitizeMargins(H),M.getComponentMethod("grid","sizeDefaults")(G,H),Z("paper_bgcolor"),Z("separators",W.decimal+W.thousands),Z("hidesources"),Z("colorway"),Z("datarevision");var oe=Z("uirevision");Z("editrevision",oe),Z("selectionrevision",oe),M.getComponentMethod("modebar","supplyLayoutDefaults")(G,H),M.getComponentMethod("shapes","supplyDrawNewShapeDefaults")(G,H,Z),M.getComponentMethod("selections","supplyDrawNewSelectionDefaults")(G,H,Z),Z("meta"),i.isPlainObject(G.transition)&&(Z("transition.duration"),Z("transition.easing"),Z("transition.ordering")),M.getComponentMethod("calendars","handleDefaults")(G,H,"calendar"),M.getComponentMethod("fx","supplyLayoutGlobalDefaults")(G,H,Z),i.coerce(G,H,u,"scattermode")},m.plotAutoSize=function(G,H,W){var Z,se,re=G._context||{},ne=re.frameMargins,Q=i.isPlotDiv(G);if(Q&&G.emit("plotly_autosize"),re.fillFrame)Z=window.innerWidth,se=window.innerHeight,document.body.style.overflow="hidden";else{var ee=Q?window.getComputedStyle(G):{};if(Z=R(ee.width)||R(ee.maxWidth)||W.width,se=R(ee.height)||R(ee.maxHeight)||W.height,k(ne)&&ne>0){var oe=1-2*ne;Z=Math.round(oe*Z),se=Math.round(oe*se)}}var ce=m.layoutAttributes.width.min,fe=m.layoutAttributes.height.min;Z<ce&&(Z=ce),se<fe&&(se=fe);var le=!H.width&&Math.abs(W.width-Z)>1,pe=!H.height&&Math.abs(W.height-se)>1;(pe||le)&&(le&&(W.width=Z),pe&&(W.height=se)),G._initialAutoSize||(G._initialAutoSize={width:Z,height:se}),m.sanitizeMargins(W)},m.supplyLayoutModuleDefaults=function(G,H,W,Z){var se,re,ne,Q=M.componentsRegistry,ee=H._basePlotModules,oe=M.subplotsRegistry.cartesian;for(se in Q)(ne=Q[se]).includeBasePlot&&ne.includeBasePlot(G,H);for(var ce in ee.length||ee.push(oe),H._has("cartesian")&&(M.getComponentMethod("grid","contentDefaults")(G,H),oe.finalizeSubplots(G,H)),H._subplots)H._subplots[ce].sort(i.subplotSort);for(re=0;re<ee.length;re++)(ne=ee[re]).supplyLayoutDefaults&&ne.supplyLayoutDefaults(G,H,W);var fe=H._modules;for(re=0;re<fe.length;re++)(ne=fe[re]).supplyLayoutDefaults&&ne.supplyLayoutDefaults(G,H,W);var le=H._transformModules;for(re=0;re<le.length;re++)(ne=le[re]).supplyLayoutDefaults&&ne.supplyLayoutDefaults(G,H,W,Z);for(se in Q)(ne=Q[se]).supplyLayoutDefaults&&ne.supplyLayoutDefaults(G,H,W)},m.purge=function(G){var H=G._fullLayout||{};void 0!==H._glcontainer&&(H._glcontainer.selectAll(".gl-canvas").remove(),H._glcontainer.remove(),H._glcanvas=null),H._modeBar&&H._modeBar.destroy(),G._transitionData&&(G._transitionData._interruptCallbacks&&(G._transitionData._interruptCallbacks.length=0),G._transitionData._animationRaf&&window.cancelAnimationFrame(G._transitionData._animationRaf)),i.clearThrottle(),i.clearResponsive(G),delete G.data,delete G.layout,delete G._fullData,delete G._fullLayout,delete G.calcdata,delete G.empty,delete G.fid,delete G.undoqueue,delete G.undonum,delete G.autoplay,delete G.changed,delete G._promises,delete G._redrawTimer,delete G._hmlumcount,delete G._hmpixcount,delete G._transitionData,delete G._transitioning,delete G._initialAutoSize,delete G._transitioningWithDuration,delete G._dragging,delete G._dragged,delete G._dragdata,delete G._hoverdata,delete G._snapshotInProgress,delete G._editing,delete G._mouseDownTime,delete G._legendMouseDownTime,G.removeAllListeners&&G.removeAllListeners()},m.style=function(G){var H,W=G._fullLayout._visibleModules,Z=[];for(H=0;H<W.length;H++){var se=W[H];se.style&&i.pushUnique(Z,se.style)}for(H=0;H<Z.length;H++)Z[H](G)},m.sanitizeMargins=function(G){if(G&&G.margin){var H,W=G.width,Z=G.height,se=G.margin,ne=Z-(se.t+se.b);W-(se.l+se.r)<0&&(H=(W-1)/(se.l+se.r),se.l=Math.floor(H*se.l),se.r=Math.floor(H*se.r)),ne<0&&(H=(Z-1)/(se.t+se.b),se.t=Math.floor(H*se.t),se.b=Math.floor(H*se.b))}},m.clearAutoMarginIds=function(G){G._fullLayout._pushmarginIds={}},m.allowAutoMargin=function(G,H){G._fullLayout._pushmarginIds[H]=1},m.autoMargin=function(G,H,W){var Z=G._fullLayout,se=Z.width,re=Z.height,ne=Z.margin,ee=Z.minreducedheight,oe=i.constrain(se-ne.l-ne.r,2,Z.minreducedwidth),ce=i.constrain(re-ne.t-ne.b,2,ee),fe=Math.max(0,se-oe),le=Math.max(0,re-ce),pe=Z._pushmargin,Me=Z._pushmarginIds;if(!1!==ne.autoexpand){if(W){var Ae=W.pad;if(void 0===Ae&&(Ae=Math.min(12,ne.l,ne.r,ne.t,ne.b)),fe){var be=(W.l+W.r)/fe;be>1&&(W.l/=be,W.r/=be)}if(le){var ye=(W.t+W.b)/le;ye>1&&(W.t/=ye,W.b/=ye)}pe[H]={l:{val:void 0!==W.xl?W.xl:W.x,size:W.l+Ae},r:{val:void 0!==W.xr?W.xr:W.x,size:W.r+Ae},b:{val:void 0!==W.yb?W.yb:W.y,size:W.b+Ae},t:{val:void 0!==W.yt?W.yt:W.y,size:W.t+Ae}},Me[H]=1}else delete pe[H],delete Me[H];if(!Z._replotting)return m.doAutoMargin(G)}},m.doAutoMargin=function(G){var H=G._fullLayout,W=H.width,Z=H.height;H._size||(H._size={}),L(H);var se=H._size,re=H.margin,ne={t:0,b:0,l:0,r:0},Q=i.extendFlat({},se),ee=re.l,oe=re.r,ce=re.t,fe=re.b,le=H._pushmargin,pe=H._pushmarginIds,Me=H.minreducedwidth,Ae=H.minreducedheight;if(!1!==re.autoexpand){for(var be in le)pe[be]||delete le[be];var ye=G._fullLayout._reservedMargin;for(var we in ye)for(var ze in ye[we])ne[ze]=Math.max(ne[ze],ye[we][ze]);for(var Ce in le.base={l:{val:0,size:ee},r:{val:1,size:oe},t:{val:1,size:ce},b:{val:0,size:fe}},ne){var ge=0;for(var he in le)"base"!==he&&k(le[he][Ce].size)&&(ge=le[he][Ce].size>ge?le[he][Ce].size:ge);var _e=Math.max(0,re[Ce]-ge);ne[Ce]=Math.max(0,ne[Ce]-_e)}for(var Le in le){var Ie=le[Le].l||{},De=le[Le].b||{},je=Ie.val,qe=Ie.size,ve=De.val,Oe=De.size,ke=W-ne.r-ne.l,Be=Z-ne.t-ne.b;for(var We in le){if(k(qe)&&le[We].r){var Ge=le[We].r.val,Ke=le[We].r.size;if(Ge>je){var et=(qe*Ge+(Ke-ke)*je)/(Ge-je),at=(Ke*(1-je)+(qe-ke)*(1-Ge))/(Ge-je);et+at>ee+oe&&(ee=et,oe=at)}}if(k(Oe)&&le[We].t){var mt=le[We].t.val,ct=le[We].t.size;if(mt>ve){var kt=(Oe*mt+(ct-Be)*ve)/(mt-ve),Dt=(ct*(1-ve)+(Oe-Be)*(1-mt))/(mt-ve);kt+Dt>fe+ce&&(fe=kt,ce=Dt)}}}}}var it,Et=i.constrain(W-re.l-re.r,2,Me),ht=i.constrain(Z-re.t-re.b,2,Ae),pt=Math.max(0,W-Et),Pt=Math.max(0,Z-ht);if(pt){var zt=(ee+oe)/pt;zt>1&&(ee/=zt,oe/=zt)}if(Pt){var Ht=(fe+ce)/Pt;Ht>1&&(fe/=Ht,ce/=Ht)}if(se.l=Math.round(ee)+ne.l,se.r=Math.round(oe)+ne.r,se.t=Math.round(ce)+ne.t,se.b=Math.round(fe)+ne.b,se.p=Math.round(re.pad),se.w=Math.round(W)-se.l-se.r,se.h=Math.round(Z)-se.t-se.b,!H._replotting&&(m.didMarginChange(Q,se)||function(tt){if("_redrawFromAutoMarginCount"in tt._fullLayout)return!1;var it=o.list(tt,"",!0);for(var Je in it)if(it[Je].autoshift||it[Je].shift)return!0;return!1}(G))){"_redrawFromAutoMarginCount"in H?H._redrawFromAutoMarginCount++:H._redrawFromAutoMarginCount=1;var Lt=3*(1+Object.keys(pe).length);if(H._redrawFromAutoMarginCount<Lt)return M.call("_doPlot",G);H._size=Q,i.warn("Too many auto-margin redraws.")}it=o.list(G,"",!0),["_adjustTickLabelsOverflow","_hideCounterAxisInsideTickLabels"].forEach(function(Je){for(var ot=0;ot<it.length;ot++){var gt=it[ot][Je];gt&&gt()}})};var N=["l","r","t","b","p","w","h"];function j(G,H,W){var Z=!1,re=i.syncOrAsync([m.previousPromises,function(){if(G._transitionData)return G._transitioning=!1,function(ne){var Q=Promise.resolve();if(!ne)return Q;for(;ne.length;)Q=Q.then(ne.shift());return Q}(G._transitionData._interruptCallbacks)},W.prepareFn,m.rehover,m.reselect,function(){return G.emit("plotly_transitioning",[]),new Promise(function(ne){G._transitioning=!0,H.duration>0&&(G._transitioningWithDuration=!0),G._transitionData._interruptCallbacks.push(function(){Z=!0}),W.redraw&&G._transitionData._interruptCallbacks.push(function(){return M.call("redraw",G)}),G._transitionData._interruptCallbacks.push(function(){G.emit("plotly_transitioninterrupted",[])});var Q=0,ee=0;function oe(){return Q++,function(){var ce;ee++,Z||ee!==Q||(ce=ne,G._transitionData&&(function(fe){if(fe)for(;fe.length;)fe.shift()}(G._transitionData._interruptCallbacks),Promise.resolve().then(function(){if(W.redraw)return M.call("redraw",G)}).then(function(){G._transitioning=!1,G._transitioningWithDuration=!1,G.emit("plotly_transitioned",[])}).then(ce)))}}W.runFn(oe),setTimeout(oe())})}],G);return re&&re.then||(re=Promise.resolve()),re.then(function(){return G})}m.didMarginChange=function(G,H){for(var W=0;W<N.length;W++){var Z=N[W],se=G[Z],re=H[Z];if(!k(se)||Math.abs(re-se)>1)return!0}return!1},m.graphJson=function(G,H,W,Z,se,re){(se&&H&&!G._fullData||se&&!H&&!G._fullLayout)&&m.supplyDefaults(G);var Q=se?G._fullLayout:G.layout,ee=(G._transitionData||{})._frames;function oe(le,pe){if("function"==typeof le)return pe?"_function_":null;if(i.isPlainObject(le)){var Me,Ae={};return Object.keys(le).sort().forEach(function(be){if(-1===["_","["].indexOf(be.charAt(0)))if("function"!=typeof le[be]){if("keepdata"===W){if("src"===be.substr(be.length-3))return}else if("keepstream"===W){if("string"==typeof(Me=le[be+"src"])&&Me.indexOf(":")>0&&!i.isPlainObject(le.stream))return}else if("keepall"!==W&&"string"==typeof(Me=le[be+"src"])&&Me.indexOf(":")>0)return;Ae[be]=oe(le[be],pe)}else pe&&(Ae[be]="_function")}),Ae}return Array.isArray(le)?le.map(function(be){return oe(be,pe)}):i.isTypedArray(le)?i.simpleMap(le,i.identity):i.isJSDate(le)?i.ms2DateTimeLocal(+le):le}var ce={data:((se?G._fullData:G.data)||[]).map(function(le){var pe=oe(le);return H&&delete pe.fit,pe})};if(!H&&(ce.layout=oe(Q),se)){var fe=Q._size;ce.layout.computed={margin:{b:fe.b,l:fe.l,r:fe.r,t:fe.t}}}return ee&&(ce.frames=oe(ee)),re&&(ce.config=oe(G._context,!0)),"object"===Z?ce:JSON.stringify(ce)},m.modifyFrames=function(G,H){var W,Z,se,re=G._transitionData._frames,ne=G._transitionData._frameHash;for(W=0;W<H.length;W++)switch((Z=H[W]).type){case"replace":var Q=(re[Z.index]||{}).name,ee=(se=Z.value).name;re[Z.index]=ne[ee]=se,ee!==Q&&(delete ne[Q],ne[ee]=se);break;case"insert":ne[(se=Z.value).name]=se,re.splice(Z.index,0,se);break;case"delete":delete ne[(se=re[Z.index]).name],re.splice(Z.index,1)}return Promise.resolve()},m.computeFrame=function(G,H){var W,Z,se,re,ne=G._transitionData._frameHash;if(!H)throw new Error("computeFrame must be given a string frame name");var Q=ne[H.toString()];if(!Q)return!1;for(var ee=[Q],oe=[Q.name];Q.baseframe&&(Q=ne[Q.baseframe.toString()])&&-1===oe.indexOf(Q.name);)ee.push(Q),oe.push(Q.name);for(var ce={};Q=ee.pop();)if(Q.layout&&(ce.layout=m.extendLayout(ce.layout,Q.layout)),Q.data){if(ce.data||(ce.data=[]),!(Z=Q.traces))for(Z=[],W=0;W<Q.data.length;W++)Z[W]=W;for(ce.traces||(ce.traces=[]),W=0;W<Q.data.length;W++)null!=(se=Z[W])&&(-1===(re=ce.traces.indexOf(se))&&(ce.traces[re=ce.data.length]=se),ce.data[re]=m.extendTrace(ce.data[re],Q.data[W]))}return ce},m.recomputeFrameHash=function(G){for(var H=G._transitionData._frameHash={},W=G._transitionData._frames,Z=0;Z<W.length;Z++){var se=W[Z];se&&se.name&&(H[se.name]=se)}},m.extendObjectWithContainers=function(G,H,W){var Z,se,re,ne,Q,ee,oe,ce=i.extendDeepNoArrays({},H||{}),fe=i.expandObjectPaths(ce),le={};if(W&&W.length)for(re=0;re<W.length;re++)void 0===(se=(Z=i.nestedProperty(fe,W[re])).get())?i.nestedProperty(le,W[re]).set(null):(Z.set(null),i.nestedProperty(le,W[re]).set(se));if(G=i.extendDeepNoArrays(G||{},fe),W&&W.length)for(re=0;re<W.length;re++)if(ee=i.nestedProperty(le,W[re]).get()){for(oe=(Q=i.nestedProperty(G,W[re])).get(),Array.isArray(oe)||Q.set(oe=[]),ne=0;ne<ee.length;ne++){var pe=ee[ne];oe[ne]=null===pe?null:m.extendObjectWithContainers(oe[ne],pe)}Q.set(oe)}return G},m.dataArrayContainers=["transforms","dimensions"],m.layoutArrayContainers=M.layoutArrayContainers,m.extendTrace=function(G,H){return m.extendObjectWithContainers(G,H,m.dataArrayContainers)},m.extendLayout=function(G,H){return m.extendObjectWithContainers(G,H,m.layoutArrayContainers)},m.transition=function(G,H,W,Z,se,re){var ne={redraw:se.redraw},Q={},ee=[];return ne.prepareFn=function(){for(var oe=Array.isArray(H)?H.length:0,ce=Z.slice(0,oe),fe=0;fe<ce.length;fe++){var le=ce[fe],pe=G._fullData[le]._module;if(pe){if(pe.animatable){var Me=pe.basePlotModule.name;Q[Me]||(Q[Me]=[]),Q[Me].push(le)}G.data[ce[fe]]=m.extendTrace(G.data[ce[fe]],H[fe])}}var Ae=i.expandObjectPaths(i.extendDeepNoArrays({},W)),be=/^[xy]axis[0-9]*$/;for(var ye in Ae)be.test(ye)&&delete Ae[ye].range;m.extendLayout(G.layout,Ae),delete G.calcdata,m.supplyDefaults(G),m.doCalcdata(G);var we=i.expandObjectPaths(W);if(we){var ze=G._fullLayout._plots;for(var Se in ze){var Ce=ze[Se],ge=Ce.xaxis,he=Ce.yaxis,_e=ge.range.slice(),Le=he.range.slice(),Ie=null,De=null,je=null,qe=null;Array.isArray(we[ge._name+".range"])?Ie=we[ge._name+".range"].slice():Array.isArray((we[ge._name]||{}).range)&&(Ie=we[ge._name].range.slice()),Array.isArray(we[he._name+".range"])?De=we[he._name+".range"].slice():Array.isArray((we[he._name]||{}).range)&&(De=we[he._name].range.slice()),_e&&Ie&&(ge.r2l(_e[0])!==ge.r2l(Ie[0])||ge.r2l(_e[1])!==ge.r2l(Ie[1]))&&(je={xr0:_e,xr1:Ie}),Le&&De&&(he.r2l(Le[0])!==he.r2l(De[0])||he.r2l(Le[1])!==he.r2l(De[1]))&&(qe={yr0:Le,yr1:De}),(je||qe)&&ee.push(i.extendFlat({plotinfo:Ce},je,qe))}}return Promise.resolve()},ne.runFn=function(oe){var ce,fe,le=G._fullLayout._basePlotModules,pe=ee.length;if(W)for(fe=0;fe<le.length;fe++)le[fe].transitionAxes&&le[fe].transitionAxes(G,ee,re,oe);for(var Me in pe?((ce=i.extendFlat({},re)).duration=0,delete Q.cartesian):ce=re,Q){var Ae=Q[Me];G._fullData[Ae[0]]._module.basePlotModule.plot(G,Ae,ce,oe)}},j(G,re,ne)},m.transitionFromReact=function(G,H,W,Z){var se=G._fullLayout,re=se.transition,ne={},Q=[];return ne.prepareFn=function(){var ee=se._plots;for(var oe in ne.redraw=!1,"some"===H.anim&&(ne.redraw=!0),"some"===W.anim&&(ne.redraw=!0),ee){var ce=ee[oe],fe=ce.xaxis,le=ce.yaxis,pe=Z[fe._name].range.slice(),Me=Z[le._name].range.slice(),Ae=fe.range.slice(),be=le.range.slice();fe.setScale(),le.setScale();var ye=null,we=null;fe.r2l(pe[0])===fe.r2l(Ae[0])&&fe.r2l(pe[1])===fe.r2l(Ae[1])||(ye={xr0:pe,xr1:Ae}),le.r2l(Me[0])===le.r2l(be[0])&&le.r2l(Me[1])===le.r2l(be[1])||(we={yr0:Me,yr1:be}),(ye||we)&&Q.push(i.extendFlat({plotinfo:ce},ye,we))}return Promise.resolve()},ne.runFn=function(ee){for(var oe,ce,fe,le=G._fullData,pe=G._fullLayout._basePlotModules,Me=[],Ae=0;Ae<le.length;Ae++)Me.push(Ae);function be(){if(G._fullLayout)for(var we=0;we<pe.length;we++)pe[we].transitionAxes&&pe[we].transitionAxes(G,Q,oe,ee)}function ye(){if(G._fullLayout)for(var we=0;we<pe.length;we++)pe[we].plot(G,fe,ce,ee)}Q.length&&H.anim?"traces first"===re.ordering?(oe=i.extendFlat({},re,{duration:0}),fe=Me,ce=re,setTimeout(be,re.duration),ye()):(oe=re,fe=null,ce=i.extendFlat({},re,{duration:0}),setTimeout(ye,oe.duration),be()):Q.length?(oe=re,be()):H.anim&&(fe=Me,ce=re,ye())},j(G,re,ne)},m.doCalcdata=function(G,H){var W,Z,se,re,ne=o.list(G),Q=G._fullData,ee=G._fullLayout,oe=new Array(Q.length),ce=(G.calcdata||[]).slice();for(G.calcdata=oe,ee._numBoxes=0,ee._numViolins=0,ee._violinScaleGroupStats={},G._hmpixcount=0,G._hmlumcount=0,ee._piecolormap={},ee._sunburstcolormap={},ee._treemapcolormap={},ee._iciclecolormap={},ee._funnelareacolormap={},se=0;se<Q.length;se++)Array.isArray(H)&&-1===H.indexOf(se)&&(oe[se]=ce[se]);for(se=0;se<Q.length;se++)(W=Q[se])._arrayAttrs=y.findArrayAttributes(W),W._extremes={};var fe=ee._subplots.polar||[];for(se=0;se<fe.length;se++)ne.push(ee[fe[se]].radialaxis,ee[fe[se]].angularaxis);for(var le in ee._colorAxes){var pe=ee[le];!1!==pe.cauto&&(delete pe.cmin,delete pe.cmax)}var Me=!1;function Ae(we){if(Z=(W=Q[we])._module,!0===W.visible&&W.transforms){if(Z&&Z.calc){var ze=Z.calc(G,W);ze[0]&&ze[0].t&&ze[0].t._scene&&delete ze[0].t._scene.dirty}for(re=0;re<W.transforms.length;re++){var Se=W.transforms[re];(Z=w[Se.type])&&Z.calcTransform&&(W._hasCalcTransform=!0,Me=!0,Z.calcTransform(G,W,Se))}}}function be(we,ze){if(!!(Z=(W=Q[we])._module).isContainer===ze){var Se=[];if(!0===W.visible&&0!==W._length){delete W._indexToPoints;var Ce=W.transforms||[];for(re=Ce.length-1;re>=0;re--)if(Ce[re].enabled){W._indexToPoints=Ce[re]._indexToPoints;break}Z&&Z.calc&&(Se=Z.calc(G,W))}Array.isArray(Se)&&Se[0]||(Se=[{x:a,y:a}]),Se[0].t||(Se[0].t={}),Se[0].trace=W,oe[we]=Se}}for(F(ne,Q,ee),se=0;se<Q.length;se++)be(se,!0);for(se=0;se<Q.length;se++)Ae(se);for(Me&&F(ne,Q,ee),se=0;se<Q.length;se++)be(se,!0);for(se=0;se<Q.length;se++)be(se,!1);Y(G);var ye=function(we,ze){var Se,Ce,ge,he,_e,Le=[];function Ie(Je,ot,gt){var ft=ot._id.charAt(0);if("histogram2dcontour"===Je){var Ue=ot._counterAxes[0],$e=o.getFromId(ze,Ue),dt="x"===ft||"x"===Ue&&"category"===$e.type,ut="y"===ft||"y"===Ue&&"category"===$e.type;return function(At,wt){return 0===At||0===wt||dt&&At===gt[wt].length-1||ut&&wt===gt.length-1?-1:("y"===ft?wt:At)-1}}return function(At,wt){return"y"===ft?wt:At}}var De={min:function(Je){return i.aggNums(Math.min,null,Je)},max:function(Je){return i.aggNums(Math.max,null,Je)},sum:function(Je){return i.aggNums(function(ot,gt){return ot+gt},null,Je)},total:function(Je){return i.aggNums(function(ot,gt){return ot+gt},null,Je)},mean:function(Je){return i.mean(Je)},median:function(Je){return i.median(Je)}};function je(Je,ot){return Je[1]-ot[1]}function qe(Je,ot){return ot[1]-Je[1]}for(Se=0;Se<we.length;Se++){var ve=we[Se];if("category"===ve.type){var Oe=ve.categoryorder.match(X);if(Oe){var ke=Oe[1],Be=Oe[2],We=ve._id.charAt(0),Ge="x"===We,Ke=[];for(Ce=0;Ce<ve._categories.length;Ce++)Ke.push([ve._categories[Ce],[]]);for(Ce=0;Ce<ve._traceIndices.length;Ce++){var et=ve._traceIndices[Ce],at=ze._fullData[et];if(!0===at.visible){var mt=at.type;M.traceIs(at,"histogram")&&(delete at._xautoBinFinished,delete at._yautoBinFinished);var ct="splom"===mt,kt="scattergl"===mt,Dt=ze.calcdata[et];for(ge=0;ge<Dt.length;ge++){var Et,ht,pt=Dt[ge];if(ct){var Pt=at._axesDim[ve._id];if(!Ge){var zt=at._diag[Pt][0];zt&&(ve=ze._fullLayout[o.id2name(zt)])}var Ht=pt.trace.dimensions[Pt].values;for(he=0;he<Ht.length;he++)for(Et=ve._categoriesMap[Ht[he]],_e=0;_e<pt.trace.dimensions.length;_e++)_e!==Pt&&Ke[Et][1].push(pt.trace.dimensions[_e].values[he])}else if(kt){for(he=0;he<pt.t.x.length;he++)Ge?(Et=pt.t.x[he],ht=pt.t.y[he]):(Et=pt.t.y[he],ht=pt.t.x[he]),Ke[Et][1].push(ht);pt.t&&pt.t._scene&&delete pt.t._scene.dirty}else if(pt.hasOwnProperty("z")){var tt=Ie(at.type,ve,ht=pt.z);for(he=0;he<ht.length;he++)for(_e=0;_e<ht[he].length;_e++)(Et=tt(_e,he))+1&&Ke[Et][1].push(ht[he][_e])}else for(void 0===(Et=pt.p)&&(Et=pt[We]),void 0===(ht=pt.s)&&(ht=pt.v),void 0===ht&&(ht=Ge?pt.y:pt.x),Array.isArray(ht)||(ht=void 0===ht?[]:[ht]),he=0;he<ht.length;he++)Ke[Et][1].push(ht[he])}}}ve._categoriesValue=Ke;var it=[];for(Ce=0;Ce<Ke.length;Ce++)it.push([Ke[Ce][0],De[ke](Ke[Ce][1])]);it.sort("descending"===Be?qe:je),ve._categoriesAggregatedValue=it,ve._initialCategories=it.map(function(Je){return Je[0]}),Le=Le.concat(ve.sortByInitialCategories())}}}return Le}(ne,G);if(ye.length){for(ee._numBoxes=0,ee._numViolins=0,se=0;se<ye.length;se++)be(ye[se],!0);for(se=0;se<ye.length;se++)be(ye[se],!1);Y(G)}M.getComponentMethod("fx","calc")(G),M.getComponentMethod("errorbars","calc")(G)};var X=/(total|sum|min|max|mean|median) (ascending|descending)/;function F(G,H,W){var Z={};function se(ee){ee.clearCalc(),"multicategory"===ee.type&&ee.setupMultiCategory(H),Z[ee._id]=1}i.simpleMap(G,se);for(var re=W._axisMatchGroups||[],ne=0;ne<re.length;ne++)for(var Q in re[ne])Z[Q]||se(W[o.id2name(Q)])}function Y(G){var H,W,Z,se=G._fullLayout,re=se._visibleModules,ne={};for(W=0;W<re.length;W++){var Q=re[W],ee=Q.crossTraceCalc;if(ee){var oe=Q.basePlotModule.name;ne[oe]?i.pushUnique(ne[oe],ee):ne[oe]=[ee]}}for(Z in ne){var ce=ne[Z],fe=se._subplots[Z];if(Array.isArray(fe))for(H=0;H<fe.length;H++){var le=fe[H],pe="cartesian"===Z?se._plots[le]:se[le];for(W=0;W<ce.length;W++)ce[W](G,pe,le)}else for(W=0;W<ce.length;W++)ce[W](G)}}m.rehover=function(G){G._fullLayout._rehover&&G._fullLayout._rehover()},m.redrag=function(G){G._fullLayout._redrag&&G._fullLayout._redrag()},m.reselect=function(G){var H=G._fullLayout,W=(G.layout||{}).selections,Z=H._previousSelections;H._previousSelections=W;var se=H._reselect||JSON.stringify(W)!==JSON.stringify(Z);M.getComponentMethod("selections","reselect")(G,se)},m.generalUpdatePerTraceModule=function(G,H,W,Z){var se,re=H.traceHash,ne={};for(se=0;se<W.length;se++){var Q=W[se],ee=Q[0].trace;ee.visible&&(ne[ee.type]=ne[ee.type]||[],ne[ee.type].push(Q))}for(var oe in re)if(!ne[oe]){var ce=re[oe][0];ce[0].trace.visible=!1,ne[oe]=[ce]}for(var fe in ne){var le=ne[fe];le[0][0].trace._module.plot(G,H,i.filterVisible(le),Z)}H.traceHash=ne},m.plotBasePlot=function(G,H,W,Z,se){var re=M.getModule(G),ne=p(H.calcdata,re)[0];re.plot(H,ne,Z,se)},m.cleanBasePlot=function(G,H,W,Z,se){var re=se._has&&se._has(G),ne=W._has&&W._has(G);re&&!ne&&se["_"+G+"layer"].selectAll("g.trace").remove()}},9813:function(ae){"use strict";ae.exports={attr:"subplot",name:"polar",axisNames:["angularaxis","radialaxis"],axisName2dataArray:{angularaxis:"theta",radialaxis:"r"},layerNames:["draglayer","plotbg","backplot","angular-grid","radial-grid","frontplot","angular-line","radial-line","angular-axis","radial-axis"],radialDragBoxSize:50,angularDragBoxSize:30,cornerLen:25,cornerHalfWidth:2,MINDRAG:8,MINZOOM:20,OFFEDGE:20}},10869:function(ae,B,r){"use strict";var D=r(71828),E=r(61082).tester,f=D.findIndexOfMin,k=D.isAngleInsideSector,M=D.angleDelta,y=D.angleDist;function c(o,l,u,h){var v,p,T=h[0],_=h[1],m=s(Math.sin(l)-Math.sin(o)),w=s(Math.cos(l)-Math.cos(o)),x=Math.tan(u),b=s(1/x),A=m/w,g=_-A*T;return b?m&&w?p=x*(v=g/(x-A)):w?(v=_*b,p=_):(v=T,p=T*x):m&&w?(v=0,p=g):w?(v=0,p=_):v=p=NaN,[v,p]}function i(o,l,u,h){return D.isFullCircle([l,u])?function(v,p){var T,_=p.length,m=new Array(_+1);for(T=0;T<_;T++){var w=p[T];m[T]=[v*Math.cos(w),v*Math.sin(w)]}return m[T]=m[0].slice(),m}(o,h):function(v,p,T,_){var m,w,x=_.length,b=[];function A(X){return[v*Math.cos(X),v*Math.sin(X)]}function g(X,F,Y){return c(X,F,Y,A(X))}function I(X){return D.mod(X,x)}function S(X){return k(X,[p,T])}var O=f(_,function(X){return S(X)?y(X,p):1/0}),R=g(_[O],_[I(O-1)],p);for(b.push(R),m=O,w=0;w<x;m++,w++){var L=_[I(m)];if(!S(L))break;b.push(A(L))}var N=f(_,function(X){return S(X)?y(X,T):1/0}),j=g(_[N],_[I(N+1)],T);return b.push(j),b.push([0,0]),b.push(b[0].slice()),b}(o,l,u,h)}function s(o){return Math.abs(o)>1e-10?o:0}function a(o,l,u){l=l||0,u=u||0;for(var h=o.length,v=new Array(h),p=0;p<h;p++){var T=o[p];v[p]=[l+T[0],u-T[1]]}return v}ae.exports={isPtInsidePolygon:function(o,l,u,h,v){if(!k(l,h))return!1;var p,T;u[0]<u[1]?(p=u[0],T=u[1]):(p=u[1],T=u[0]);var _=E(i(p,h[0],h[1],v)),m=E(i(T,h[0],h[1],v)),w=[o*Math.cos(l),o*Math.sin(l)];return m.contains(w)&&!_.contains(w)},findPolygonOffset:function(o,l,u,h){for(var v=1/0,p=1/0,T=i(o,l,u,h),_=0;_<T.length;_++){var m=T[_];v=Math.min(v,m[0]),p=Math.min(p,-m[1])}return[v,p]},findEnclosingVertexAngles:function(o,l){var u=f(l,function(v){var p=M(v,o);return p>0?p:1/0}),h=D.mod(u+1,l.length);return[l[u],l[h]]},findIntersectionXY:c,findXYatLength:function(o,l,u,h){var v=-l*u,p=l*l+1,T=2*(l*v-u),m=Math.sqrt(T*T-4*p*(v*v+u*u-o*o)),w=(-T+m)/(2*p),x=(-T-m)/(2*p);return[[w,l*w+v+h],[x,l*x+v+h]]},clampTiny:s,pathPolygon:function(o,l,u,h,v,p){return"M"+a(i(o,l,u,h),v,p).join("L")},pathPolygonAnnulus:function(o,l,u,h,v,p,T){var _,m;o<l?(_=o,m=l):(_=l,m=o);var w=a(i(_,u,h,v),p,T);return"M"+a(i(m,u,h,v),p,T).reverse().join("L")+"M"+w.join("L")}}},23580:function(ae,B,r){"use strict";var D=r(27659).AU,E=r(71828).counterRegex,f=r(77997),k=r(9813),M=k.attr,y=k.name,c=E(y),i={};i[M]={valType:"subplotid",dflt:y,editType:"calc"},ae.exports={attr:M,name:y,idRoot:y,idRegex:c,attrRegex:c,attributes:i,layoutAttributes:r(73812),supplyLayoutDefaults:r(68993),plot:function(s){for(var a=s._fullLayout,o=s.calcdata,l=a._subplots[y],u=0;u<l.length;u++){var h=l[u],v=D(o,y,h),p=a[h]._subplot;p||(p=f(s,h),a[h]._subplot=p),p.plot(v,a,s._promises)}},clean:function(s,a,o,l){for(var u=l._subplots[y]||[],h=l._has&&l._has("gl"),v=a._has&&a._has("gl"),p=h&&!v,T=0;T<u.length;T++){var _=u[T],m=l[_]._subplot;if(!a[_]&&m)for(var w in m.framework.remove(),m.layers["radial-axis-title"].remove(),m.clipPaths)m.clipPaths[w].remove();p&&m._scene&&(m._scene.destroy(),m._scene=null)}},toSVG:r(93612).toSVG}},73812:function(ae,B,r){"use strict";var D=r(22399),E=r(13838),f=r(27670).Y,k=r(71828).extendFlat,M=r(30962).overrideAll,y=M({color:E.color,showline:k({},E.showline,{dflt:!0}),linecolor:E.linecolor,linewidth:E.linewidth,showgrid:k({},E.showgrid,{dflt:!0}),gridcolor:E.gridcolor,gridwidth:E.gridwidth,griddash:E.griddash},"plot","from-root"),c=M({tickmode:E.minor.tickmode,nticks:E.nticks,tick0:E.tick0,dtick:E.dtick,tickvals:E.tickvals,ticktext:E.ticktext,ticks:E.ticks,ticklen:E.ticklen,tickwidth:E.tickwidth,tickcolor:E.tickcolor,ticklabelstep:E.ticklabelstep,showticklabels:E.showticklabels,labelalias:E.labelalias,showtickprefix:E.showtickprefix,tickprefix:E.tickprefix,showticksuffix:E.showticksuffix,ticksuffix:E.ticksuffix,showexponent:E.showexponent,exponentformat:E.exponentformat,minexponent:E.minexponent,separatethousands:E.separatethousands,tickfont:E.tickfont,tickangle:E.tickangle,tickformat:E.tickformat,tickformatstops:E.tickformatstops,layer:E.layer},"plot","from-root"),i={visible:k({},E.visible,{dflt:!0}),type:k({},E.type,{values:["-","linear","log","date","category"]}),autotypenumbers:E.autotypenumbers,autorangeoptions:{minallowed:E.autorangeoptions.minallowed,maxallowed:E.autorangeoptions.maxallowed,clipmin:E.autorangeoptions.clipmin,clipmax:E.autorangeoptions.clipmax,include:E.autorangeoptions.include,editType:"plot"},autorange:k({},E.autorange,{editType:"plot"}),rangemode:{valType:"enumerated",values:["tozero","nonnegative","normal"],dflt:"tozero",editType:"calc"},minallowed:k({},E.minallowed,{editType:"plot"}),maxallowed:k({},E.maxallowed,{editType:"plot"}),range:k({},E.range,{items:[{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}}],editType:"plot"}),categoryorder:E.categoryorder,categoryarray:E.categoryarray,angle:{valType:"angle",editType:"plot"},side:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"clockwise",editType:"plot"},title:{text:k({},E.title.text,{editType:"plot",dflt:""}),font:k({},E.title.font,{editType:"plot"}),editType:"plot"},hoverformat:E.hoverformat,uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{title:E._deprecated.title,titlefont:E._deprecated.titlefont}};k(i,y,c);var s={visible:k({},E.visible,{dflt:!0}),type:{valType:"enumerated",values:["-","linear","category"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:E.autotypenumbers,categoryorder:E.categoryorder,categoryarray:E.categoryarray,thetaunit:{valType:"enumerated",values:["radians","degrees"],dflt:"degrees",editType:"calc"},period:{valType:"number",editType:"calc",min:0},direction:{valType:"enumerated",values:["counterclockwise","clockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"angle",editType:"calc"},hoverformat:E.hoverformat,uirevision:{valType:"any",editType:"none"},editType:"calc"};k(s,y,c),ae.exports={domain:f({name:"polar",editType:"plot"}),sector:{valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],dflt:[0,360],editType:"plot"},hole:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},bgcolor:{valType:"color",editType:"plot",dflt:D.background},radialaxis:i,angularaxis:s,gridshape:{valType:"enumerated",values:["circular","linear"],dflt:"circular",editType:"plot"},uirevision:{valType:"any",editType:"none"},editType:"calc"}},68993:function(ae,B,r){"use strict";var D=r(71828),E=r(7901),f=r(44467),k=r(49119),M=r(27659).NG,y=r(26218),c=r(38701),i=r(96115),s=r(89426),a=r(15258),o=r(92128),l=r(23074),u=r(4322),h=r(73812),v=r(12101),p=r(9813),T=p.axisNames;function _(w,x,b,A){var g=b("bgcolor");A.bgColor=E.combine(g,A.paper_bgcolor);var I=b("sector");b("hole");var S,O=M(A.fullData,p.name,A.id),R=A.layoutOut;function L(le,pe){return b(S+"."+le,pe)}for(var N=0;N<T.length;N++){D.isPlainObject(w[S=T[N]])||(w[S]={});var j=w[S],X=f.newContainer(x,S);X._id=X._name=S,X._attr=A.id+"."+S,X._traceIndices=O.map(function(le){return le._expandedIndex});var F=p.axisName2dataArray[S],Y=m(j,X,L,O,F,A);a(j,X,L,{axData:O,dataAttr:F});var G=L("visible");switch(v(X,x,R),L("uirevision",x.uirevision),X._m=1,S){case"radialaxis":L("minallowed"),L("maxallowed");var H,W=L("range"),Z=X.getAutorangeDflt(W),se=L("autorange",Z);!W||(null!==W[0]||null!==W[1])&&(null!==W[0]&&null!==W[1]||"reversed"!==se&&!0!==se)&&(null===W[0]||"min"!==se&&"max reversed"!==se)&&(null===W[1]||"max"!==se&&"min reversed"!==se)||(W=void 0,delete X.range,X.autorange=!0,H=!0),H||(se=L("autorange",Z=X.getAutorangeDflt(W))),j.autorange=se,se&&(l(L,se,W),"linear"!==Y&&"-"!==Y||L("rangemode"),X.isReversed()&&(X._m=-1)),X.cleanRange("range",{dfltRange:[0,1]});break;case"angularaxis":if("date"===Y){D.log("Polar plots do not support date angular axes yet.");for(var re=0;re<O.length;re++)O[re].visible=!1;Y=j.type=X.type="linear"}L("linear"===Y?"thetaunit":"period");var ne=L("direction");L("rotation",{counterclockwise:0,clockwise:90}[ne])}if(s(j,X,L,X.type,{tickSuffixDflt:"degrees"===X.thetaunit?"\xb0":void 0}),G){var Q,ee,oe,ce,fe=A.font||{};ee=(Q=L("color"))===j.color?Q:fe.color,oe=fe.size,ce=fe.family,y(j,X,L,X.type),i(j,X,L,X.type,{font:{color:ee,size:oe,family:ce}}),c(j,X,L,{outerTicks:!0}),o(j,X,L,{dfltColor:Q,bgColor:A.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:h[S]}),L("layer"),"radialaxis"===S&&(L("side"),L("angle",I[0]),L("title.text"),D.coerceFont(L,"title.font",{color:ee,size:D.bigFont(oe),family:ce}))}"category"!==Y&&L("hoverformat"),X._input=j}"category"===x.angularaxis.type&&b("gridshape")}function m(w,x,b,A,g,I){var S=b("autotypenumbers",I.autotypenumbersDflt);if("-"===b("type")){for(var O,R=0;R<A.length;R++)if(A[R].visible){O=A[R];break}O&&O[g]&&(x.type=u(O[g],"gregorian",{noMultiCategory:!0,autotypenumbers:S})),"-"===x.type?x.type="linear":w.type=x.type}return x.type}ae.exports=function(w,x,b){k(w,x,b,{type:p.name,attributes:h,handleDefaults:_,font:x.font,autotypenumbersDflt:x.autotypenumbers,paper_bgcolor:x.paper_bgcolor,fullData:b,layoutOut:x})}},77997:function(ae,B,r){"use strict";var D=r(39898),E=r(84267),f=r(73972),k=r(71828),M=k.strRotate,y=k.strTranslate,c=r(7901),i=r(91424),s=r(74875),a=r(89298),o=r(21994),l=r(12101),u=r(71739).doAutoRange,h=r(29323),v=r(28569),p=r(30211),T=r(92998),_=r(47322).prepSelect,m=r(47322).selectOnClick,w=r(47322).clearOutline,x=r(6964),b=r(33306),A=r(61549).redrawReglTraces,g=r(18783).MID_SHIFT,I=r(9813),S=r(10869),O=r(23893),R=O.smith,L=O.reactanceArc,N=O.resistanceArc,j=O.smithTransform,X=k._,F=k.mod,Y=k.deg2rad,G=k.rad2deg;function H(ne,Q,ee){this.isSmith=ee||!1,this.id=Q,this.gd=ne,this._hasClipOnAxisFalse=null,this.vangles=null,this.radialAxisAngle=null,this.traceHash={},this.layers={},this.clipPaths={},this.clipIds={},this.viewInitial={};var oe=ne._fullLayout;this.clipIds.forTraces="clip"+oe._uid+Q+"-for-traces",this.clipPaths.forTraces=oe._clips.append("clipPath").attr("id",this.clipIds.forTraces),this.clipPaths.forTraces.append("path"),this.framework=oe["_"+(ee?"smith":"polar")+"layer"].append("g").attr("class",Q),this.getHole=function(fe){return this.isSmith?0:fe.hole},this.getSector=function(fe){return this.isSmith?[0,360]:fe.sector},this.getRadial=function(fe){return this.isSmith?fe.realaxis:fe.radialaxis},this.getAngular=function(fe){return this.isSmith?fe.imaginaryaxis:fe.angularaxis},ee||(this.radialTickLayout=null,this.angularTickLayout=null)}var W=H.prototype;function Z(ne){var Q=ne.ticks+String(ne.ticklen)+String(ne.showticklabels);return"side"in ne&&(Q+=ne.side),Q}function se(ne,Q){return Q[k.findIndexOfMin(Q,function(ee){return k.angleDist(ne,ee)})]}function re(ne,Q,ee){return Q?(ne.attr("display",null),ne.attr(ee)):ne&&ne.attr("display","none"),ne}ae.exports=function(ne,Q,ee){return new H(ne,Q,ee)},W.plot=function(ne,Q){for(var ee=this,oe=Q[ee.id],ce=!1,fe=0;fe<ne.length;fe++)if(!1===ne[fe][0].trace.cliponaxis){ce=!0;break}ee._hasClipOnAxisFalse=ce,ee.updateLayers(Q,oe),ee.updateLayout(Q,oe),s.generalUpdatePerTraceModule(ee.gd,ee,ne,oe),ee.updateFx(Q,oe),ee.isSmith&&(delete oe.realaxis.range,delete oe.imaginaryaxis.range)},W.updateLayers=function(ne,Q){var ee=this,oe=ee.isSmith,ce=ee.layers,fe=ee.getRadial(Q),le=ee.getAngular(Q),pe=I.layerNames,Me=pe.indexOf("frontplot"),Ae=pe.slice(0,Me),be="below traces"===le.layer,ye="below traces"===fe.layer;be&&Ae.push("angular-line"),ye&&Ae.push("radial-line"),be&&Ae.push("angular-axis"),ye&&Ae.push("radial-axis"),Ae.push("frontplot"),be||Ae.push("angular-line"),ye||Ae.push("radial-line"),be||Ae.push("angular-axis"),ye||Ae.push("radial-axis");var we=(oe?"smith":"polar")+"sublayer",ze=ee.framework.selectAll("."+we).data(Ae,String);ze.enter().append("g").attr("class",function(Se){return we+" "+Se}).each(function(Se){var Ce=ce[Se]=D.select(this);switch(Se){case"frontplot":oe||Ce.append("g").classed("barlayer",!0),Ce.append("g").classed("scatterlayer",!0);break;case"backplot":Ce.append("g").classed("maplayer",!0);break;case"plotbg":ce.bg=Ce.append("path");break;case"radial-grid":case"angular-grid":Ce.style("fill","none");break;case"radial-line":Ce.append("line").style("fill","none");break;case"angular-line":Ce.append("path").style("fill","none")}}),ze.order()},W.updateLayout=function(ne,Q){var ee=this,oe=ee.layers,ce=ne._size,fe=ee.getRadial(Q),le=ee.getAngular(Q),pe=Q.domain.x,Me=Q.domain.y;ee.xOffset=ce.l+ce.w*pe[0],ee.yOffset=ce.t+ce.h*(1-Me[1]);var Ae=ee.xLength=ce.w*(pe[1]-pe[0]),be=ee.yLength=ce.h*(Me[1]-Me[0]),ye=ee.getSector(Q);ee.sectorInRad=ye.map(Y);var we,ze,Se,Ce,ge,mt,ct,kt,Dt,Et,ht,pt,Pt,zt,Ht,he=ee.sectorBBox=(Dt=(mt=ye)[1]-(kt=mt[0]),ht=(Et=F(kt,360))+Dt,pt=Math.cos(Y(Et)),Pt=Math.sin(Y(Et)),zt=Math.cos(Y(ht)),Ht=Math.sin(Y(ht)),ct=Et<=90&&ht>=90||Et>90&&ht>=450?1:Pt<=0&&Ht<=0?0:Math.max(Pt,Ht),[Et<=180&&ht>=180||Et>180&&ht>=540?-1:pt>=0&&zt>=0?0:Math.min(pt,zt),Et<=270&&ht>=270||Et>270&&ht>=630?-1:Pt>=0&&Ht>=0?0:Math.min(Pt,Ht),ht>=360?1:pt<=0&&zt<=0?0:Math.max(pt,zt),ct]),_e=he[2]-he[0],Ie=be/Ae,De=Math.abs((he[3]-he[1])/_e);Ie>De?(we=Ae,ge=(be-(ze=Ae*De))/ce.h/2,Se=[pe[0],pe[1]],Ce=[Me[0]+ge,Me[1]-ge]):(ze=be,ge=(Ae-(we=be/De))/ce.w/2,Se=[pe[0]+ge,pe[1]-ge],Ce=[Me[0],Me[1]]),ee.xLength2=we,ee.yLength2=ze,ee.xDomain2=Se,ee.yDomain2=Ce;var je,qe=ee.xOffset2=ce.l+ce.w*Se[0],ve=ee.yOffset2=ce.t+ce.h*(1-Ce[1]),Oe=ee.radius=we/_e,ke=ee.innerRadius=ee.getHole(Q)*Oe,Be=ee.cx=qe-Oe*he[0],We=ee.cy=ve+Oe*he[3],Ge=ee.cxx=Be-qe,Ke=ee.cyy=We-ve,et=fe.side;"counterclockwise"===et?(je=et,et="top"):"clockwise"===et&&(je=et,et="bottom"),ee.radialAxis=ee.mockAxis(ne,Q,fe,{_id:"x",side:et,_trueSide:je,domain:[ke/ce.w,Oe/ce.w]}),ee.angularAxis=ee.mockAxis(ne,Q,le,{side:"right",domain:[0,Math.PI],autorange:!1}),ee.doAutoRange(ne,Q),ee.updateAngularAxis(ne,Q),ee.updateRadialAxis(ne,Q),ee.updateRadialAxisTitle(ne,Q),ee.xaxis=ee.mockCartesianAxis(ne,Q,{_id:"x",domain:Se}),ee.yaxis=ee.mockCartesianAxis(ne,Q,{_id:"y",domain:Ce});var at=ee.pathSubplot();ee.clipPaths.forTraces.select("path").attr("d",at).attr("transform",y(Ge,Ke)),oe.frontplot.attr("transform",y(qe,ve)).call(i.setClipUrl,ee._hasClipOnAxisFalse?null:ee.clipIds.forTraces,ee.gd),oe.bg.attr("d",at).attr("transform",y(Be,We)).call(c.fill,Q.bgcolor)},W.mockAxis=function(ne,Q,ee,oe){var ce=k.extendFlat({},ee,oe);return l(ce,Q,ne),ce},W.mockCartesianAxis=function(ne,Q,ee){var oe=this,ce=oe.isSmith,fe=ee._id,le=k.extendFlat({type:"linear"},ee);o(le,ne);var pe={x:[0,2],y:[1,3]};return le.setRange=function(){var Me=oe.sectorBBox,Ae=pe[fe],be=oe.radialAxis._rl,ye=(be[1]-be[0])/(1-oe.getHole(Q));le.range=[Me[Ae[0]]*ye,Me[Ae[1]]*ye]},le.isPtWithinRange="x"!==fe||ce?function(){return!0}:function(Me){return oe.isPtInside(Me)},le.setRange(),le.setScale(),le},W.doAutoRange=function(ne,Q){var oe=this.gd,ce=this.radialAxis,fe=this.getRadial(Q);u(oe,ce);var le=ce.range;fe.range=le.slice(),fe._input.range=le.slice(),ce._rl=[ce.r2l(le[0],null,"gregorian"),ce.r2l(le[1],null,"gregorian")]},W.updateRadialAxis=function(ne,Q){var ee=this,oe=ee.gd,ce=ee.layers,fe=ee.radius,le=ee.innerRadius,pe=ee.cx,Me=ee.cy,Ae=ee.getRadial(Q),be=F(ee.getSector(Q)[0],360),ye=ee.radialAxis,we=le<fe,ze=ee.isSmith;ze||(ee.fillViewInitialKey("radialaxis.angle",Ae.angle),ee.fillViewInitialKey("radialaxis.range",ye.range.slice()),ye.setGeometry()),"auto"===ye.tickangle&&be>90&&be<=270&&(ye.tickangle=180);var Se=ze?function(ve){var Oe=j(ee,R([ve.x,0]));return y(Oe[0]-pe,Oe[1]-Me)}:function(ve){return y(ye.l2p(ve.x)+le,0)},Ce=ze?function(ve){return N(ee,ve.x,-1/0,1/0)}:function(ve){return ee.pathArc(ye.r2p(ve.x)+le)},ge=Z(Ae);if(ee.radialTickLayout!==ge&&(ce["radial-axis"].selectAll(".xtick").remove(),ee.radialTickLayout=ge),we){ye.setScale();var he=0,_e=ze?(ye.tickvals||[]).filter(function(ve){return ve>=0}).map(function(ve){return a.tickText(ye,ve,!0,!1)}):a.calcTicks(ye),Le=ze?_e:a.clipEnds(ye,_e),Ie=a.getTickSigns(ye)[2];ze&&(("top"===ye.ticks&&"bottom"===ye.side||"bottom"===ye.ticks&&"top"===ye.side)&&(Ie=-Ie),"top"===ye.ticks&&"top"===ye.side&&(he=-ye.ticklen),"bottom"===ye.ticks&&"bottom"===ye.side&&(he=ye.ticklen)),a.drawTicks(oe,ye,{vals:_e,layer:ce["radial-axis"],path:a.makeTickPath(ye,0,Ie),transFn:Se,crisp:!1}),a.drawGrid(oe,ye,{vals:Le,layer:ce["radial-grid"],path:Ce,transFn:k.noop,crisp:!1}),a.drawLabels(oe,ye,{vals:_e,layer:ce["radial-axis"],transFn:Se,labelFns:a.makeLabelFns(ye,he)})}var De=ee.radialAxisAngle=ee.vangles?G(se(Y(Ae.angle),ee.vangles)):Ae.angle,je=y(pe,Me),qe=je+M(-De);re(ce["radial-axis"],we&&(Ae.showticklabels||Ae.ticks),{transform:qe}),re(ce["radial-grid"],we&&Ae.showgrid,{transform:ze?"":je}),re(ce["radial-line"].select("line"),we&&Ae.showline,{x1:ze?-fe:le,y1:0,x2:fe,y2:0,transform:qe}).attr("stroke-width",Ae.linewidth).call(c.stroke,Ae.linecolor)},W.updateRadialAxisTitle=function(ne,Q,ee){if(!this.isSmith){var oe=this,ce=oe.gd,fe=oe.radius,le=oe.cx,pe=oe.cy,Me=oe.getRadial(Q),Ae=oe.id+"title",be=0;if(Me.title){var ye=i.bBox(oe.layers["radial-axis"].node()).height,we=Me.title.font.size,ze=Me.side;be="top"===ze?we:"counterclockwise"===ze?-(ye+.4*we):ye+.8*we}var Se=void 0!==ee?ee:oe.radialAxisAngle,Ce=Y(Se),ge=Math.cos(Ce),he=Math.sin(Ce),_e=le+fe/2*ge+be*he,Le=pe-fe/2*he+be*ge;oe.layers["radial-axis-title"]=T.draw(ce,Ae,{propContainer:Me,propName:oe.id+".radialaxis.title",placeholder:X(ce,"Click to enter radial axis title"),attributes:{x:_e,y:Le,"text-anchor":"middle"},transform:{rotate:-Se}})}},W.updateAngularAxis=function(ne,Q){var ee=this,oe=ee.gd,ce=ee.layers,fe=ee.radius,le=ee.innerRadius,pe=ee.cx,Me=ee.cy,Ae=ee.getAngular(Q),be=ee.angularAxis,ye=ee.isSmith;ye||(ee.fillViewInitialKey("angularaxis.rotation",Ae.rotation),be.setGeometry(),be.setScale());var we=ye?function(ve){var Oe=j(ee,R([0,ve.x]));return Math.atan2(Oe[0]-pe,Oe[1]-Me)-Math.PI/2}:function(ve){return be.t2g(ve.x)};"linear"===be.type&&"radians"===be.thetaunit&&(be.tick0=G(be.tick0),be.dtick=G(be.dtick));var ze=function(ve){return y(pe+fe*Math.cos(ve),Me-fe*Math.sin(ve))},Se=ye?function(ve){var Oe=j(ee,R([0,ve.x]));return y(Oe[0],Oe[1])}:function(ve){return ze(we(ve))},Ce=ye?function(ve){var Oe=j(ee,R([0,ve.x])),ke=Math.atan2(Oe[0]-pe,Oe[1]-Me)-Math.PI/2;return y(Oe[0],Oe[1])+M(-G(ke))}:function(ve){var Oe=we(ve);return ze(Oe)+M(-G(Oe))},ge=ye?function(ve){return L(ee,ve.x,0,1/0)}:function(ve){var Oe=we(ve),ke=Math.cos(Oe),Be=Math.sin(Oe);return"M"+[pe+le*ke,Me-le*Be]+"L"+[pe+fe*ke,Me-fe*Be]},he=a.makeLabelFns(be,0).labelStandoff,_e={xFn:function(ve){var Oe=we(ve);return Math.cos(Oe)*he},yFn:function(ve){var Oe=we(ve),ke=Math.sin(Oe)>0?.2:1;return-Math.sin(Oe)*(he+ve.fontSize*ke)+Math.abs(Math.cos(Oe))*(ve.fontSize*g)},anchorFn:function(ve){var Oe=we(ve),ke=Math.cos(Oe);return Math.abs(ke)<.1?"middle":ke>0?"start":"end"},heightFn:function(ve,Oe,ke){var Be=we(ve);return-.5*(1+Math.sin(Be))*ke}},Le=Z(Ae);ee.angularTickLayout!==Le&&(ce["angular-axis"].selectAll("."+be._id+"tick").remove(),ee.angularTickLayout=Le);var Ie,De=ye?[1/0].concat(be.tickvals||[]).map(function(ve){return a.tickText(be,ve,!0,!1)}):a.calcTicks(be);if(ye&&(De[0].text="\u221e",De[0].fontSize*=1.75),"linear"===Q.gridshape?(Ie=De.map(we),k.angleDelta(Ie[0],Ie[1])<0&&(Ie=Ie.slice().reverse())):Ie=null,ee.vangles=Ie,"category"===be.type&&(De=De.filter(function(ve){return k.isAngleInsideSector(we(ve),ee.sectorInRad)})),be.visible){var je="inside"===be.ticks?-1:1;a.drawTicks(oe,be,{vals:De,layer:ce["angular-axis"],path:"M"+je*((be.linewidth||1)/2)+",0h"+je*be.ticklen,transFn:Ce,crisp:!1}),a.drawGrid(oe,be,{vals:De,layer:ce["angular-grid"],path:ge,transFn:k.noop,crisp:!1}),a.drawLabels(oe,be,{vals:De,layer:ce["angular-axis"],repositionOnUpdate:!0,transFn:Se,labelFns:_e})}re(ce["angular-line"].select("path"),Ae.showline,{d:ee.pathSubplot(),transform:y(pe,Me)}).attr("stroke-width",Ae.linewidth).call(c.stroke,Ae.linecolor)},W.updateFx=function(ne,Q){this.gd._context.staticPlot||(!this.isSmith&&(this.updateAngularDrag(ne),this.updateRadialDrag(ne,Q,0),this.updateRadialDrag(ne,Q,1)),this.updateHoverAndMainDrag(ne))},W.updateHoverAndMainDrag=function(ne){var Q,ee,oe=this,ce=oe.isSmith,fe=oe.gd,pe=ne._zoomlayer,Me=I.MINZOOM,Ae=I.OFFEDGE,be=oe.radius,ye=oe.innerRadius,we=oe.cx,ze=oe.cy,Se=oe.cxx,Ce=oe.cyy,ge=oe.sectorInRad,he=oe.vangles,_e=oe.radialAxis,Le=S.clampTiny,Ie=S.findXYatLength,De=S.findEnclosingVertexAngles,je=I.cornerHalfWidth,qe=I.cornerLen/2,ve=h.makeDragger(oe.layers,"path","maindrag",!1===ne.dragmode?"none":"crosshair");D.select(ve).attr("d",oe.pathSubplot()).attr("transform",y(we,ze)),ve.onmousemove=function(ft){p.hover(fe,ft,oe.id),fe._fullLayout._lasthover=ve,fe._fullLayout._hoversubplot=oe.id},ve.onmouseout=function(ft){fe._dragging||v.unhover(fe,ft)};var Oe,ke,Be,We,Ge,Ke,et,at,mt,ct={element:ve,gd:fe,subplot:oe.id,plotinfo:{id:oe.id,xaxis:oe.xaxis,yaxis:oe.yaxis},xaxes:[oe.xaxis],yaxes:[oe.yaxis]};function kt(ft,Ue){return Math.sqrt(ft*ft+Ue*Ue)}function Dt(ft,Ue){return kt(ft-Se,Ue-Ce)}function Et(ft,Ue){return Math.atan2(Ce-Ue,ft-Se)}function ht(ft,Ue){return[ft*Math.cos(Ue),ft*Math.sin(-Ue)]}function pt(ft,Ue){if(0===ft)return oe.pathSector(2*je);var $e=qe/ft,dt=Ue-$e,ut=Ue+$e,At=Math.max(0,Math.min(ft,be)),wt=At-je,St=At+je;return"M"+ht(wt,dt)+"A"+[wt,wt]+" 0,0,0 "+ht(wt,ut)+"L"+ht(St,ut)+"A"+[St,St]+" 0,0,1 "+ht(St,dt)+"Z"}function Pt(ft,Ue,$e){if(0===ft)return oe.pathSector(2*je);var dt,ut,At=ht(ft,Ue),wt=ht(ft,$e),St=Le((At[0]+wt[0])/2),_t=Le((At[1]+wt[1])/2);if(St&&_t){var Rt=_t/St,bt=-1/Rt,Tt=Ie(je,Rt,St,_t);dt=Ie(qe,bt,Tt[0][0],Tt[0][1]),ut=Ie(qe,bt,Tt[1][0],Tt[1][1])}else{var It,Wt;_t?(It=qe,Wt=je):(It=je,Wt=qe),dt=[[St-It,_t-Wt],[St+It,_t-Wt]],ut=[[St-It,_t+Wt],[St+It,_t+Wt]]}return"M"+dt.join("L")+"L"+ut.reverse().join("L")+"Z"}function zt(ft,Ue){return Ue=Math.max(Math.min(Ue,be),ye),ft<Ae?ft=0:be-ft<Ae?ft=be:Ue<Ae?Ue=0:be-Ue<Ae&&(Ue=be),Math.abs(Ue-ft)>Me?(ft<Ue?(Be=ft,We=Ue):(Be=Ue,We=ft),!0):(Be=null,We=null,!1)}function Ht(ft,Ue){Ue=Ue||"M0,0Z",at.attr("d",ft=ft||Ge),mt.attr("d",Ue),h.transitionZoombox(at,mt,Ke,et),Ke=!0;var $e={};ot($e),fe.emit("plotly_relayouting",$e)}function Lt(ft,Ue){var $e,dt,ut=Oe+(ft*=Q),At=ke+(Ue*=ee),wt=Dt(Oe,ke),St=Math.min(Dt(ut,At),be),_t=Et(Oe,ke);zt(wt,St)&&($e=Ge+oe.pathSector(We),Be&&($e+=oe.pathSector(Be)),dt=pt(Be,_t)+pt(We,_t)),Ht($e,dt)}function tt(ft,Ue,$e,dt){var ut=S.findIntersectionXY($e,dt,$e,[ft-Se,Ce-Ue]);return kt(ut[0],ut[1])}function it(ft,Ue){var $e,dt,ut=Oe+ft,At=ke+Ue,wt=Et(Oe,ke),St=Et(ut,At),_t=De(wt,he),Rt=De(St,he);zt(tt(Oe,ke,_t[0],_t[1]),Math.min(tt(ut,At,Rt[0],Rt[1]),be))&&($e=Ge+oe.pathSector(We),Be&&($e+=oe.pathSector(Be)),dt=[Pt(Be,_t[0],_t[1]),Pt(We,_t[0],_t[1])].join(" ")),Ht($e,dt)}function Je(){if(h.removeZoombox(fe),null!==Be&&null!==We){var ft={};ot(ft),h.showDoubleClickNotifier(fe),f.call("_guiRelayout",fe,ft)}}function ot(ft){var Ue=_e._rl,$e=(Ue[1]-Ue[0])/(1-ye/be)/be;ft[oe.id+".radialaxis.range"]=[Ue[0]+(Be-ye)*$e,Ue[0]+(We-ye)*$e]}function gt(ft,Ue){var $e=fe._fullLayout.clickmode;if(h.removeZoombox(fe),2===ft){var dt={};for(var ut in oe.viewInitial)dt[oe.id+"."+ut]=oe.viewInitial[ut];fe.emit("plotly_doubleclick",null),f.call("_guiRelayout",fe,dt)}$e.indexOf("select")>-1&&1===ft&&m(Ue,fe,[oe.xaxis],[oe.yaxis],oe.id,ct),$e.indexOf("event")>-1&&p.click(fe,Ue,oe.id)}ct.prepFn=function(ft,Ue,$e){var dt=fe._fullLayout.dragmode,ut=ve.getBoundingClientRect();fe._fullLayout._calcInverseTransform(fe),Q=fe._fullLayout._invScaleX,ee=fe._fullLayout._invScaleY;var wt=k.apply3DTransform(fe._fullLayout._invTransform)(Ue-ut.left,$e-ut.top);if(Oe=wt[0],ke=wt[1],he){var St=S.findPolygonOffset(be,ge[0],ge[1],he);Oe+=Se+St[0],ke+=Ce+St[1]}switch(dt){case"zoom":ct.clickFn=gt,ce||(ct.moveFn=he?it:Lt,ct.doneFn=Je,Be=null,We=null,Ge=oe.pathSubplot(),Ke=!1,et=E(fe._fullLayout[oe.id].bgcolor).getLuminance(),(at=h.makeZoombox(pe,et,we,ze,Ge)).attr("fill-rule","evenodd"),mt=h.makeCorners(pe,we,ze),w(fe));break;case"select":case"lasso":_(ft,Ue,$e,ct,dt)}},v.init(ct)},W.updateRadialDrag=function(ne,Q,ee){var oe=this,ce=oe.gd,fe=oe.layers,le=oe.radius,pe=oe.innerRadius,Me=oe.cx,Ae=oe.cy,be=oe.radialAxis,ye=I.radialDragBoxSize,we=ye/2;if(be.visible){var ze,Se,Ce,ge=Y(oe.radialAxisAngle),he=be._rl,_e=he[0],Le=he[1],Ie=he[ee],De=.75*(he[1]-he[0])/(1-oe.getHole(Q))/le;ee?(ze=Me+(le+we)*Math.cos(ge),Se=Ae-(le+we)*Math.sin(ge),Ce="radialdrag"):(ze=Me+(pe-we)*Math.cos(ge),Se=Ae-(pe-we)*Math.sin(ge),Ce="radialdrag-inner");var je,qe,ve,Oe=h.makeRectDragger(fe,Ce,"crosshair",-we,-we,ye,ye),ke={element:Oe,gd:ce};!1===ne.dragmode&&(ke.dragmode=!1),re(D.select(Oe),be.visible&&pe<le,{transform:y(ze,Se)}),ke.prepFn=function(){je=null,qe=null,ve=null,ke.moveFn=Be,ke.doneFn=We,w(ce)},ke.clampFn=function(et,at){return Math.sqrt(et*et+at*at)<I.MINDRAG&&(et=0,at=0),[et,at]},v.init(ke)}function Be(et,at){if(je)je(et,at);else{var mt=[et,-at],ct=[Math.cos(ge),Math.sin(ge)],kt=Math.abs(k.dot(mt,ct)/Math.sqrt(k.dot(mt,mt)));isNaN(kt)||(je=kt<.5?Ge:Ke)}var Et,Dt={};Et=Dt,null!==qe?Et[oe.id+".radialaxis.angle"]=qe:null!==ve&&(Et[oe.id+".radialaxis.range["+ee+"]"]=ve),ce.emit("plotly_relayouting",Dt)}function We(){null!==qe?f.call("_guiRelayout",ce,oe.id+".radialaxis.angle",qe):null!==ve&&f.call("_guiRelayout",ce,oe.id+".radialaxis.range["+ee+"]",ve)}function Ge(et,at){if(0!==ee){qe=Math.atan2(Ae-(Se+at),ze+et-Me),oe.vangles&&(qe=se(qe,oe.vangles)),qe=G(qe);var kt=y(Me,Ae)+M(-qe);fe["radial-axis"].attr("transform",kt),fe["radial-line"].select("line").attr("transform",kt);var Dt=oe.gd._fullLayout;oe.updateRadialAxisTitle(Dt,Dt[oe.id],qe)}}function Ke(et,at){var mt=k.dot([et,-at],[Math.cos(ge),Math.sin(ge)]);if(ve=Ie-De*mt,De>0==(ee?ve>_e:ve<Le)){var ct=ce._fullLayout,kt=ct[oe.id];be.range[ee]=ve,be._rl[ee]=ve,oe.updateRadialAxis(ct,kt),oe.xaxis.setRange(),oe.xaxis.setScale(),oe.yaxis.setRange(),oe.yaxis.setScale();var Dt=!1;for(var Et in oe.traceHash){var ht=oe.traceHash[Et],pt=k.filterVisible(ht);ht[0][0].trace._module.plot(ce,oe,pt,kt),f.traceIs(Et,"gl")&&pt.length&&(Dt=!0)}Dt&&(b(ce),A(ce))}else ve=null}},W.updateAngularDrag=function(ne){var Q=this,ee=Q.gd,oe=Q.layers,ce=Q.radius,fe=Q.angularAxis,le=Q.cx,pe=Q.cy,Me=Q.cxx,Ae=Q.cyy,be=I.angularDragBoxSize,ye=h.makeDragger(oe,"path","angulardrag",!1===ne.dragmode?"none":"move"),we={element:ye,gd:ee};function ze(ke,Be){return Math.atan2(Ae+be-Be,ke-Me-be)}!1===ne.dragmode?we.dragmode=!1:D.select(ye).attr("d",Q.pathAnnulus(ce,ce+be)).attr("transform",y(le,pe)).call(x,"move");var Se,Ce,ge,he,_e,Le,Ie=oe.frontplot.select(".scatterlayer").selectAll(".trace"),De=Ie.selectAll(".point"),je=Ie.selectAll(".textpoint");function qe(ke,Be){var We=Q.gd._fullLayout,Ge=We[Q.id],Ke=ze(Se+ke*ne._invScaleX,Ce+Be*ne._invScaleY),et=G(Ke-Le);if(he=ge+et,oe.frontplot.attr("transform",y(Q.xOffset2,Q.yOffset2)+M([-et,Me,Ae])),Q.vangles){_e=Q.radialAxisAngle+et;var at=y(le,pe)+M(-et),mt=y(le,pe)+M(-_e);oe.bg.attr("transform",at),oe["radial-grid"].attr("transform",at),oe["radial-axis"].attr("transform",mt),oe["radial-line"].select("line").attr("transform",mt),Q.updateRadialAxisTitle(We,Ge,_e)}else Q.clipPaths.forTraces.select("path").attr("transform",y(Me,Ae)+M(et));De.each(function(){var pt=D.select(this),Pt=i.getTranslate(pt);pt.attr("transform",y(Pt.x,Pt.y)+M([et]))}),je.each(function(){var pt=D.select(this),Pt=pt.select("text"),zt=i.getTranslate(pt);pt.attr("transform",M([et,Pt.attr("x"),Pt.attr("y")])+y(zt.x,zt.y))}),fe.rotation=k.modHalf(he,360),Q.updateAngularAxis(We,Ge),Q._hasClipOnAxisFalse&&!k.isFullCircle(Q.sectorInRad)&&Ie.call(i.hideOutsideRangePoints,Q);var ct=!1;for(var kt in Q.traceHash)if(f.traceIs(kt,"gl")){var Dt=Q.traceHash[kt],Et=k.filterVisible(Dt);Dt[0][0].trace._module.plot(ee,Q,Et,Ge),Et.length&&(ct=!0)}ct&&(b(ee),A(ee));var ht={};ve(ht),ee.emit("plotly_relayouting",ht)}function ve(ke){ke[Q.id+".angularaxis.rotation"]=he,Q.vangles&&(ke[Q.id+".radialaxis.angle"]=_e)}function Oe(){je.select("text").attr("transform",null);var ke={};ve(ke),f.call("_guiRelayout",ee,ke)}we.prepFn=function(ke,Be,We){ge=ne[Q.id].angularaxis.rotation;var Ke=ye.getBoundingClientRect();Se=Be-Ke.left,Ce=We-Ke.top,ee._fullLayout._calcInverseTransform(ee);var et=k.apply3DTransform(ne._invTransform)(Se,Ce);Le=ze(Se=et[0],Ce=et[1]),we.moveFn=qe,we.doneFn=Oe,w(ee)},Q.vangles&&!k.isFullCircle(Q.sectorInRad)&&(we.prepFn=k.noop,x(D.select(ye),null)),v.init(we)},W.isPtInside=function(ne){if(this.isSmith)return!0;var Q=this.sectorInRad,ee=this.vangles,oe=this.angularAxis.c2g(ne.theta),ce=this.radialAxis,fe=ce.c2l(ne.r);return(ee?S.isPtInsidePolygon:k.isPtInsideSector)(fe,oe,ce._rl,Q,ee)},W.pathArc=function(ne){var Q=this.sectorInRad,ee=this.vangles;return(ee?S.pathPolygon:k.pathArc)(ne,Q[0],Q[1],ee)},W.pathSector=function(ne){var Q=this.sectorInRad,ee=this.vangles;return(ee?S.pathPolygon:k.pathSector)(ne,Q[0],Q[1],ee)},W.pathAnnulus=function(ne,Q){var ee=this.sectorInRad,oe=this.vangles;return(oe?S.pathPolygonAnnulus:k.pathAnnulus)(ne,Q,ee[0],ee[1],oe)},W.pathSubplot=function(){var ne=this.innerRadius,Q=this.radius;return ne?this.pathAnnulus(ne,Q):this.pathSector(Q)},W.fillViewInitialKey=function(ne,Q){ne in this.viewInitial||(this.viewInitial[ne]=Q)}},12101:function(ae,B,r){"use strict";var D=r(71828),E=r(21994),f=D.deg2rad,k=D.rad2deg;ae.exports=function(M,y,c){switch(E(M,c),M._id){case"x":case"radialaxis":a=y._subplot,(i=M).setGeometry=function(){var o=i._rl[0],l=i._rl[1],u=a.innerRadius,h=(a.radius-u)/(l-o),v=u/h,p=o>l?function(T){return T<=0}:function(T){return T>=0};i.c2g=function(T){var _=i.c2l(T)-o;return(p(_)?_:0)+v},i.g2c=function(T){return i.l2c(T+o-v)},i.g2p=function(T){return T*h},i.c2p=function(T){return i.g2p(i.c2g(T))}};break;case"angularaxis":!function(i,s){var a=i.type;if("linear"===a){var o=i.d2c,l=i.c2d;i.d2c=function(u,h){return v=o(u),"degrees"===h?f(v):v;var v},i.c2d=function(u,h){return l((v=u,"degrees"===h?k(v):v));var v}}i.makeCalcdata=function(u,h){var v,p,T=u[h],_=u._length,m=function(g){return i.d2c(g,u.thetaunit)};if(T){if(D.isTypedArray(T)&&"linear"===a){if(_===T.length)return T;if(T.subarray)return T.subarray(0,_)}for(v=new Array(_),p=0;p<_;p++)v[p]=m(T[p])}else{var w=h+"0",x="d"+h,b=w in u?m(u[w]):0,A=u[x]?m(u[x]):(i.period||2*Math.PI)/_;for(v=new Array(_),p=0;p<_;p++)v[p]=b+p*A}return v},i.setGeometry=function(){var u,h,v,p,T=s.sector,_=T.map(f),m={clockwise:-1,counterclockwise:1}[i.direction],w=f(i.rotation),x=function(I){return m*I+w},b=function(I){return(I-w)/m};switch(a){case"linear":h=u=D.identity,p=f,v=k,i.range=D.isFullCircle(_)?[T[0],T[0]+360]:_.map(b).map(k);break;case"category":var A=i._categories.length,g=i.period?Math.max(i.period,A):A;0===g&&(g=1),h=p=function(I){return 2*I*Math.PI/g},u=v=function(I){return I*g/Math.PI/2},i.range=[0,g]}i.c2g=function(I){return x(h(I))},i.g2c=function(I){return u(b(I))},i.t2g=function(I){return x(p(I))},i.g2t=function(I){return v(b(I))}}}(M,y)}var i,a}},39779:function(ae){"use strict";ae.exports={attr:"subplot",name:"smith",axisNames:["realaxis","imaginaryaxis"],axisName2dataArray:{imaginaryaxis:"imag",realaxis:"real"}}},23893:function(ae){"use strict";function B(f){return f<0?-1:f>0?1:0}function r(f){var k=f[0],M=f[1];if(!isFinite(k)||!isFinite(M))return[1,0];var y=(k+1)*(k+1)+M*M;return[(k*k+M*M-1)/y,2*M/y]}function D(f,k){return[k[0]*f.radius+f.cx,-k[1]*f.radius+f.cy]}function E(f,k){return k*f.radius}ae.exports={smith:r,reactanceArc:function(f,k,M,y){var c=D(f,r([M,k])),i=c[0],s=c[1],a=D(f,r([y,k])),o=a[0],l=a[1];if(0===k)return["M"+i+","+s,"L"+o+","+l].join(" ");var u=E(f,1/Math.abs(k));return["M"+i+","+s,"A"+u+","+u+" 0 0,"+(k<0?1:0)+" "+o+","+l].join(" ")},resistanceArc:function(f,k,M,y){var c=E(f,1/(k+1)),i=D(f,r([k,M])),s=i[0],a=i[1],o=D(f,r([k,y])),l=o[0],u=o[1];if(B(M)!==B(y)){var h=D(f,r([k,0]));return["M"+s+","+a,"A"+c+","+c+" 0 0,"+(0<M?0:1)+" "+h[0]+","+h[1],"A"+c+","+c+" 0 0,"+(y<0?0:1)+l+","+u].join(" ")}return["M"+s+","+a,"A"+c+","+c+" 0 0,"+(y<M?0:1)+" "+l+","+u].join(" ")},smithTransform:D}},7504:function(ae,B,r){"use strict";var D=r(27659).AU,E=r(71828).counterRegex,f=r(77997),k=r(39779),M=k.attr,y=k.name,c=E(y),i={};i[M]={valType:"subplotid",dflt:y,editType:"calc"},ae.exports={attr:M,name:y,idRoot:y,idRegex:c,attrRegex:c,attributes:i,layoutAttributes:r(33419),supplyLayoutDefaults:r(9558),plot:function(s){for(var a=s._fullLayout,o=s.calcdata,l=a._subplots[y],u=0;u<l.length;u++){var h=l[u],v=D(o,y,h),p=a[h]._subplot;p||(p=f(s,h,!0),a[h]._subplot=p),p.plot(v,a,s._promises)}},clean:function(s,a,o,l){for(var u=l._subplots[y]||[],h=0;h<u.length;h++){var v=u[h],p=l[v]._subplot;if(!a[v]&&p)for(var T in p.framework.remove(),p.clipPaths)p.clipPaths[T].remove()}},toSVG:r(93612).toSVG}},33419:function(ae,B,r){"use strict";var D=r(22399),E=r(13838),f=r(27670).Y,k=r(71828).extendFlat,M=r(30962).overrideAll,y=M({color:E.color,showline:k({},E.showline,{dflt:!0}),linecolor:E.linecolor,linewidth:E.linewidth,showgrid:k({},E.showgrid,{dflt:!0}),gridcolor:E.gridcolor,gridwidth:E.gridwidth,griddash:E.griddash},"plot","from-root"),c=M({ticklen:E.ticklen,tickwidth:k({},E.tickwidth,{dflt:2}),tickcolor:E.tickcolor,showticklabels:E.showticklabels,labelalias:E.labelalias,showtickprefix:E.showtickprefix,tickprefix:E.tickprefix,showticksuffix:E.showticksuffix,ticksuffix:E.ticksuffix,tickfont:E.tickfont,tickformat:E.tickformat,hoverformat:E.hoverformat,layer:E.layer},"plot","from-root"),i=k({visible:k({},E.visible,{dflt:!0}),tickvals:{dflt:[.2,.5,1,2,5],valType:"data_array",editType:"plot"},tickangle:k({},E.tickangle,{dflt:90}),ticks:{valType:"enumerated",values:["top","bottom",""],editType:"ticks"},side:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},editType:"calc"},y,c),s=k({visible:k({},E.visible,{dflt:!0}),tickvals:{valType:"data_array",editType:"plot"},ticks:E.ticks,editType:"calc"},y,c);ae.exports={domain:f({name:"smith",editType:"plot"}),bgcolor:{valType:"color",editType:"plot",dflt:D.background},realaxis:i,imaginaryaxis:s,editType:"calc"}},9558:function(ae,B,r){"use strict";var D,E,f,k=r(71828),M=r(7901),y=r(44467),c=r(49119),i=r(27659).NG,s=r(89426),a=r(96115),o=r(92128),l=r(21994),u=r(33419),h=r(39779),v=h.axisNames,p=(D=function(_){return _.slice().reverse().map(function(m){return-m}).concat([0]).concat(_)},E=String,f={},function(_){var m=E?E(_):_;if(m in f)return f[m];var w=D(_);return f[m]=w,w});function T(_,m,w,x){var b=w("bgcolor");x.bgColor=M.combine(b,x.paper_bgcolor);var A,g=i(x.fullData,h.name,x.id),I=x.layoutOut;function S(W,Z){return w(A+"."+W,Z)}for(var O=0;O<v.length;O++){k.isPlainObject(_[A=v[O]])||(_[A]={});var R=_[A],L=y.newContainer(m,A);L._id=L._name=A,L._attr=x.id+"."+A,L._traceIndices=g.map(function(W){return W._expandedIndex});var N=S("visible");if(L.type="linear",l(L,I),s(R,L,S,L.type),N){var j,X,F,Y,G="realaxis"===A;G&&S("side"),G?S("tickvals"):S("tickvals",p(m.realaxis.tickvals||u.realaxis.tickvals.dflt));var H=x.font||{};N&&(X=(j=S("color"))===R.color?j:H.color,F=H.size,Y=H.family),a(R,L,S,L.type,{noTicklabelstep:!0,noAng:!G,noExp:!0,font:{color:X,size:F,family:Y}}),k.coerce2(_,m,u,A+".ticklen"),k.coerce2(_,m,u,A+".tickwidth"),k.coerce2(_,m,u,A+".tickcolor",m.color),S("ticks")||(delete m[A].ticklen,delete m[A].tickwidth,delete m[A].tickcolor),o(R,L,S,{dfltColor:j,bgColor:x.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:u[A]}),S("layer")}S("hoverformat"),delete L.type,L._input=R}}ae.exports=function(_,m,w){c(_,m,w,{noUirevision:!0,type:h.name,attributes:u,handleDefaults:T,font:m.font,paper_bgcolor:m.paper_bgcolor,fullData:w,layoutOut:m})}},49119:function(ae,B,r){"use strict";var D=r(71828),E=r(44467),f=r(27670).c;ae.exports=function(k,M,y,c){var i,s,o=c.attributes,l=c.handleDefaults,u=c.partition||"x",h=M._subplots[c.type],v=h.length,p=v&&h[0].replace(/\d+$/,"");function T(x,b){return D.coerce(i,s,o,x,b)}for(var _=0;_<v;_++){var m=h[_];i=k[m]?k[m]:k[m]={},s=E.newContainer(M,m,p),c.noUirevision||T("uirevision",M.uirevision);var w={};w[u]=[_/v,(_+1)/v],f(s,M,T,w),c.id=m,l(i,s,T,c)}}},5386:function(ae,B,r){"use strict";function E(f){var k=f.description?" "+f.description:"",M=f.keys||[];if(M.length>0){for(var y=[],c=0;c<M.length;c++)y[c]="`"+M[c]+"`";k+="Finally, the template string has access to ",k=1===M.length?k+"variable "+y[0]:k+"variables "+y.slice(0,-1).join(", ")+" and "+y.slice(-1)+"."}return k}r(31562),B.fF=function(f,k){f=f||{},E(k=k||{});var M={valType:"string",dflt:"",editType:f.editType||"none"};return!1!==f.arrayOk&&(M.arrayOk=!0),M},B.si=function(f,k){f=f||{},E(k=k||{});var M={valType:"string",dflt:"",editType:f.editType||"calc"};return!1!==f.arrayOk&&(M.arrayOk=!0),M},B.R=function(f,k){return f=f||{},E(k=k||{}),{valType:"string",dflt:"",editType:f.editType||"arraydraw"}}},61639:function(ae,B,r){"use strict";var D=r(64380),E=r(27659).AU,f=r(71828).counterRegex,k="ternary";B.name=k;var M=B.attr="subplot";B.idRoot=k,B.idRegex=B.attrRegex=f(k),(B.attributes={})[M]={valType:"subplotid",dflt:"ternary",editType:"calc"},B.layoutAttributes=r(81367),B.supplyLayoutDefaults=r(25369),B.plot=function(y){for(var c=y._fullLayout,i=y.calcdata,s=c._subplots[k],a=0;a<s.length;a++){var o=s[a],l=E(i,k,o),u=c[o]._subplot;u||(u=new D({id:o,graphDiv:y,container:c._ternarylayer.node()},c),c[o]._subplot=u),u.plot(l,c,y._promises)}},B.clean=function(y,c,i,s){for(var a=s._subplots[k]||[],o=0;o<a.length;o++){var l=a[o],u=s[l]._subplot;!c[l]&&u&&(u.plotContainer.remove(),u.clipDef.remove(),u.clipDefRelative.remove(),u.layers["a-title"].remove(),u.layers["b-title"].remove(),u.layers["c-title"].remove())}}},81367:function(ae,B,r){"use strict";var D=r(22399),E=r(27670).Y,f=r(13838),k=r(30962).overrideAll,M=r(1426).extendFlat,y={title:{text:f.title.text,font:f.title.font},color:f.color,tickmode:f.minor.tickmode,nticks:M({},f.nticks,{dflt:6,min:1}),tick0:f.tick0,dtick:f.dtick,tickvals:f.tickvals,ticktext:f.ticktext,ticks:f.ticks,ticklen:f.ticklen,tickwidth:f.tickwidth,tickcolor:f.tickcolor,ticklabelstep:f.ticklabelstep,showticklabels:f.showticklabels,labelalias:f.labelalias,showtickprefix:f.showtickprefix,tickprefix:f.tickprefix,showticksuffix:f.showticksuffix,ticksuffix:f.ticksuffix,showexponent:f.showexponent,exponentformat:f.exponentformat,minexponent:f.minexponent,separatethousands:f.separatethousands,tickfont:f.tickfont,tickangle:f.tickangle,tickformat:f.tickformat,tickformatstops:f.tickformatstops,hoverformat:f.hoverformat,showline:M({},f.showline,{dflt:!0}),linecolor:f.linecolor,linewidth:f.linewidth,showgrid:M({},f.showgrid,{dflt:!0}),gridcolor:f.gridcolor,gridwidth:f.gridwidth,griddash:f.griddash,layer:f.layer,min:{valType:"number",dflt:0,min:0},_deprecated:{title:f._deprecated.title,titlefont:f._deprecated.titlefont}},c=ae.exports=k({domain:E({name:"ternary"}),bgcolor:{valType:"color",dflt:D.background},sum:{valType:"number",dflt:1,min:0},aaxis:y,baxis:y,caxis:y},"plot","from-root");c.uirevision={valType:"any",editType:"none"},c.aaxis.uirevision=c.baxis.uirevision=c.caxis.uirevision={valType:"any",editType:"none"}},25369:function(ae,B,r){"use strict";var D=r(7901),E=r(44467),f=r(71828),k=r(49119),M=r(96115),y=r(89426),c=r(38701),i=r(26218),s=r(92128),a=r(81367),o=["aaxis","baxis","caxis"];function l(h,v,p,T){var _,m,w,x=p("bgcolor"),b=p("sum");T.bgColor=D.combine(x,T.paper_bgcolor);for(var A=0;A<o.length;A++)m=h[_=o[A]]||{},(w=E.newContainer(v,_))._name=_,u(m,w,T,v);var g=v.aaxis,I=v.baxis,S=v.caxis;g.min+I.min+S.min>=b&&(g.min=0,I.min=0,S.min=0,h.aaxis&&delete h.aaxis.min,h.baxis&&delete h.baxis.min,h.caxis&&delete h.caxis.min)}function u(h,v,p,T){var _=a[v._name];function m(I,S){return f.coerce(h,v,_,I,S)}m("uirevision",T.uirevision),v.type="linear";var w=m("color"),x=w!==_.color.dflt?w:p.font.color,b=v._name.charAt(0).toUpperCase(),A="Component "+b,g=m("title.text",A);v._hovertitle=g===A?g:b,f.coerceFont(m,"title.font",{family:p.font.family,size:f.bigFont(p.font.size),color:x}),m("min"),i(h,v,m,"linear"),y(h,v,m,"linear"),M(h,v,m,"linear"),c(h,v,m,{outerTicks:!0}),m("showticklabels")&&(f.coerceFont(m,"tickfont",{family:p.font.family,size:p.font.size,color:x}),m("tickangle"),m("tickformat")),s(h,v,m,{dfltColor:w,bgColor:p.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:_}),m("hoverformat"),m("layer")}ae.exports=function(h,v,p){k(h,v,p,{type:"ternary",attributes:a,handleDefaults:l,font:v.font,paper_bgcolor:v.paper_bgcolor})}},64380:function(ae,B,r){"use strict";var D=r(39898),E=r(84267),f=r(73972),k=r(71828),M=k.strTranslate,y=k._,c=r(7901),i=r(91424),s=r(21994),a=r(1426).extendFlat,o=r(74875),l=r(89298),u=r(28569),h=r(30211),v=r(64505),p=v.freeMode,T=v.rectMode,_=r(92998),m=r(47322).prepSelect,w=r(47322).selectOnClick,x=r(47322).clearOutline,b=r(47322).clearSelectionsCache,A=r(85555);function g(F,Y){this.id=F.id,this.graphDiv=F.graphDiv,this.init(Y),this.makeFramework(Y),this.aTickLayout=null,this.bTickLayout=null,this.cTickLayout=null}ae.exports=g;var I=g.prototype;I.init=function(F){this.container=F._ternarylayer,this.defs=F._defs,this.layoutId=F._uid,this.traceHash={},this.layers={}},I.plot=function(F,Y){var G=this,H=Y[G.id],W=Y._size;G._hasClipOnAxisFalse=!1;for(var Z=0;Z<F.length;Z++)if(!1===F[Z][0].trace.cliponaxis){G._hasClipOnAxisFalse=!0;break}G.updateLayers(H),G.adjustLayout(H,W),o.generalUpdatePerTraceModule(G.graphDiv,G,F,H),G.layers.plotbg.select("path").call(c.fill,H.bgcolor)},I.makeFramework=function(F){var Y=this,G=Y.graphDiv,H=F[Y.id],W=Y.clipId="clip"+Y.layoutId+Y.id,Z=Y.clipIdRelative="clip-relative"+Y.layoutId+Y.id;Y.clipDef=k.ensureSingleById(F._clips,"clipPath",W,function(se){se.append("path").attr("d","M0,0Z")}),Y.clipDefRelative=k.ensureSingleById(F._clips,"clipPath",Z,function(se){se.append("path").attr("d","M0,0Z")}),Y.plotContainer=k.ensureSingle(Y.container,"g",Y.id),Y.updateLayers(H),i.setClipUrl(Y.layers.backplot,W,G),i.setClipUrl(Y.layers.grids,W,G)},I.updateLayers=function(F){var Y=this.layers,G=["draglayer","plotbg","backplot","grids"];"below traces"===F.aaxis.layer&&G.push("aaxis","aline"),"below traces"===F.baxis.layer&&G.push("baxis","bline"),"below traces"===F.caxis.layer&&G.push("caxis","cline"),G.push("frontplot"),"above traces"===F.aaxis.layer&&G.push("aaxis","aline"),"above traces"===F.baxis.layer&&G.push("baxis","bline"),"above traces"===F.caxis.layer&&G.push("caxis","cline");var H=this.plotContainer.selectAll("g.toplevel").data(G,String),W=["agrid","bgrid","cgrid"];H.enter().append("g").attr("class",function(Z){return"toplevel "+Z}).each(function(Z){var se=D.select(this);Y[Z]=se,"frontplot"===Z?se.append("g").classed("scatterlayer",!0):"backplot"===Z?se.append("g").classed("maplayer",!0):"plotbg"===Z?se.append("path").attr("d","M0,0Z"):"aline"===Z||"bline"===Z||"cline"===Z?se.append("path"):"grids"===Z&&W.forEach(function(re){Y[re]=se.append("g").classed("grid "+re,!0)})}),H.order()};var S=Math.sqrt(4/3);I.adjustLayout=function(F,Y){var G,H,W,Z,se,re,ne=this,Q=F.domain,ee=(Q.x[0]+Q.x[1])/2,oe=(Q.y[0]+Q.y[1])/2,ce=Q.x[1]-Q.x[0],fe=Q.y[1]-Q.y[0],le=ce*Y.w,pe=fe*Y.h,Me=F.sum,Ae=F.aaxis.min,be=F.baxis.min,ye=F.caxis.min;le>S*pe?W=(Z=pe)*S:Z=(W=le)/S,se=ce*W/le,re=fe*Z/pe,H=Y.t+Y.h*(1-oe)-Z/2,ne.x0=G=Y.l+Y.w*ee-W/2,ne.y0=H,ne.w=W,ne.h=Z,ne.sum=Me,ne.xaxis={type:"linear",range:[Ae+2*ye-Me,Me-Ae-2*be],domain:[ee-se/2,ee+se/2],_id:"x"},s(ne.xaxis,ne.graphDiv._fullLayout),ne.xaxis.setScale(),ne.xaxis.isPtWithinRange=function(je){return je.a>=ne.aaxis.range[0]&&je.a<=ne.aaxis.range[1]&&je.b>=ne.baxis.range[1]&&je.b<=ne.baxis.range[0]&&je.c>=ne.caxis.range[1]&&je.c<=ne.caxis.range[0]},ne.yaxis={type:"linear",range:[Ae,Me-be-ye],domain:[oe-re/2,oe+re/2],_id:"y"},s(ne.yaxis,ne.graphDiv._fullLayout),ne.yaxis.setScale(),ne.yaxis.isPtWithinRange=function(){return!0};var we=ne.yaxis.domain[0],ze=ne.aaxis=a({},F.aaxis,{range:[Ae,Me-be-ye],side:"left",tickangle:(+F.aaxis.tickangle||0)-30,domain:[we,we+re*S],anchor:"free",position:0,_id:"y",_length:W});s(ze,ne.graphDiv._fullLayout),ze.setScale();var Se=ne.baxis=a({},F.baxis,{range:[Me-Ae-ye,be],side:"bottom",domain:ne.xaxis.domain,anchor:"free",position:0,_id:"x",_length:W});s(Se,ne.graphDiv._fullLayout),Se.setScale();var Ce=ne.caxis=a({},F.caxis,{range:[Me-Ae-be,ye],side:"right",tickangle:(+F.caxis.tickangle||0)+30,domain:[we,we+re*S],anchor:"free",position:0,_id:"y",_length:W});s(Ce,ne.graphDiv._fullLayout),Ce.setScale();var ge="M"+G+","+(H+Z)+"h"+W+"l-"+W/2+",-"+Z+"Z";ne.clipDef.select("path").attr("d",ge),ne.layers.plotbg.select("path").attr("d",ge);var he="M0,"+Z+"h"+W+"l-"+W/2+",-"+Z+"Z";ne.clipDefRelative.select("path").attr("d",he);var _e=M(G,H);ne.plotContainer.selectAll(".scatterlayer,.maplayer").attr("transform",_e),ne.clipDefRelative.select("path").attr("transform",null);var Le=M(G-Se._offset,H+Z);ne.layers.baxis.attr("transform",Le),ne.layers.bgrid.attr("transform",Le);var Ie=M(G+W/2,H)+"rotate(30)"+M(0,-ze._offset);ne.layers.aaxis.attr("transform",Ie),ne.layers.agrid.attr("transform",Ie);var De=M(G+W/2,H)+"rotate(-30)"+M(0,-Ce._offset);ne.layers.caxis.attr("transform",De),ne.layers.cgrid.attr("transform",De),ne.drawAxes(!0),ne.layers.aline.select("path").attr("d",ze.showline?"M"+G+","+(H+Z)+"l"+W/2+",-"+Z:"M0,0").call(c.stroke,ze.linecolor||"#000").style("stroke-width",(ze.linewidth||0)+"px"),ne.layers.bline.select("path").attr("d",Se.showline?"M"+G+","+(H+Z)+"h"+W:"M0,0").call(c.stroke,Se.linecolor||"#000").style("stroke-width",(Se.linewidth||0)+"px"),ne.layers.cline.select("path").attr("d",Ce.showline?"M"+(G+W/2)+","+H+"l"+W/2+","+Z:"M0,0").call(c.stroke,Ce.linecolor||"#000").style("stroke-width",(Ce.linewidth||0)+"px"),ne.graphDiv._context.staticPlot||ne.initInteractions(),i.setClipUrl(ne.layers.frontplot,ne._hasClipOnAxisFalse?null:ne.clipId,ne.graphDiv)},I.drawAxes=function(F){var Y=this,G=Y.graphDiv,H=Y.id.substr(7)+"title",W=Y.layers,Z=Y.aaxis,se=Y.baxis,re=Y.caxis;if(Y.drawAx(Z),Y.drawAx(se),Y.drawAx(re),F){var ne=Math.max(Z.showticklabels?Z.tickfont.size/2:0,(re.showticklabels?.75*re.tickfont.size:0)+("outside"===re.ticks?.87*re.ticklen:0)),Q=(se.showticklabels?se.tickfont.size:0)+("outside"===se.ticks?se.ticklen:0)+3;W["a-title"]=_.draw(G,"a"+H,{propContainer:Z,propName:Y.id+".aaxis.title",placeholder:y(G,"Click to enter Component A title"),attributes:{x:Y.x0+Y.w/2,y:Y.y0-Z.title.font.size/3-ne,"text-anchor":"middle"}}),W["b-title"]=_.draw(G,"b"+H,{propContainer:se,propName:Y.id+".baxis.title",placeholder:y(G,"Click to enter Component B title"),attributes:{x:Y.x0-Q,y:Y.y0+Y.h+.83*se.title.font.size+Q,"text-anchor":"middle"}}),W["c-title"]=_.draw(G,"c"+H,{propContainer:re,propName:Y.id+".caxis.title",placeholder:y(G,"Click to enter Component C title"),attributes:{x:Y.x0+Y.w+Q,y:Y.y0+Y.h+.83*re.title.font.size+Q,"text-anchor":"middle"}})}},I.drawAx=function(F){var Y,G=this,H=G.graphDiv,W=F._name,Z=W.charAt(0),se=F._id,re=G.layers[W],ne=Z+"tickLayout",Q=(Y=F).ticks+String(Y.ticklen)+String(Y.showticklabels);G[ne]!==Q&&(re.selectAll("."+se+"tick").remove(),G[ne]=Q),F.setScale();var ee=l.calcTicks(F),oe=l.clipEnds(F,ee),ce=l.makeTransTickFn(F),fe=l.getTickSigns(F)[2],le=k.deg2rad(30),pe=fe*(F.linewidth||1)/2,Me=fe*F.ticklen,Ae=G.w,be=G.h,ye="b"===Z?"M0,"+pe+"l"+Math.sin(le)*Me+","+Math.cos(le)*Me:"M"+pe+",0l"+Math.cos(le)*Me+","+-Math.sin(le)*Me,we={a:"M0,0l"+be+",-"+Ae/2,b:"M0,0l-"+Ae/2+",-"+be,c:"M0,0l-"+be+","+Ae/2}[Z];l.drawTicks(H,F,{vals:"inside"===F.ticks?oe:ee,layer:re,path:ye,transFn:ce,crisp:!1}),l.drawGrid(H,F,{vals:oe,layer:G.layers[Z+"grid"],path:we,transFn:ce,crisp:!1}),l.drawLabels(H,F,{vals:ee,layer:re,transFn:ce,labelFns:l.makeLabelFns(F,0,30)})};var O=A.MINZOOM/2+.87,R="m-0.87,.5h"+O+"v3h-"+(O+5.2)+"l"+(O/2+2.6)+",-"+(.87*O+4.5)+"l2.6,1.5l-"+O/2+","+.87*O+"Z",L="m0.87,.5h-"+O+"v3h"+(O+5.2)+"l-"+(O/2+2.6)+",-"+(.87*O+4.5)+"l-2.6,1.5l"+O/2+","+.87*O+"Z",N="m0,1l"+O/2+","+.87*O+"l2.6,-1.5l-"+(O/2+2.6)+",-"+(.87*O+4.5)+"l-"+(O/2+2.6)+","+(.87*O+4.5)+"l2.6,1.5l"+O/2+",-"+.87*O+"Z",j=!0;function X(F){D.select(F).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}I.clearOutline=function(){b(this.dragOptions),x(this.dragOptions.gd)},I.initInteractions=function(){var F,Y,G,H,W,Z,se,re,ne,Q,ee,oe,ce=this,fe=ce.layers.plotbg.select("path").node(),le=ce.graphDiv,pe=le._fullLayout._zoomlayer;function Me(he){var _e={};return _e[ce.id+".aaxis.min"]=he.a,_e[ce.id+".baxis.min"]=he.b,_e[ce.id+".caxis.min"]=he.c,_e}function Ae(he,_e){var Le=le._fullLayout.clickmode;X(le),2===he&&(le.emit("plotly_doubleclick",null),f.call("_guiRelayout",le,Me({a:0,b:0,c:0}))),Le.indexOf("select")>-1&&1===he&&w(_e,le,[ce.xaxis],[ce.yaxis],ce.id,ce.dragOptions),Le.indexOf("event")>-1&&h.click(le,_e,ce.id)}function be(he,_e){return 1-_e/ce.h}function ye(he,_e){return 1-(he+(ce.h-_e)/Math.sqrt(3))/ce.w}function we(he,_e){return(he-(ce.h-_e)/Math.sqrt(3))/ce.w}function ze(he,_e){var Le=G+he*F,Ie=H+_e*Y,De=Math.max(0,Math.min(1,be(0,H),be(0,Ie))),je=Math.max(0,Math.min(1,ye(G,H),ye(Le,Ie))),qe=Math.max(0,Math.min(1,we(G,H),we(Le,Ie))),ve=(De/2+qe)*ce.w,Oe=(1-De/2-je)*ce.w,ke=(ve+Oe)/2,Be=Oe-ve,We=(1-De)*ce.h,Ge=We-Be/S;Be<A.MINZOOM?(se=W,ee.attr("d",ne),oe.attr("d","M0,0Z")):(se={a:W.a+De*Z,b:W.b+je*Z,c:W.c+qe*Z},ee.attr("d",ne+"M"+ve+","+We+"H"+Oe+"L"+ke+","+Ge+"L"+ve+","+We+"Z"),oe.attr("d","M"+G+","+H+"m0.5,0.5h5v-2h-5v-5h-2v5h-5v2h5v5h2ZM"+ve+","+We+R+"M"+Oe+","+We+L+"M"+ke+","+Ge+N)),Q||(ee.transition().style("fill",re>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),oe.transition().style("opacity",1).duration(200),Q=!0),le.emit("plotly_relayouting",Me(se))}function Se(){X(le),se!==W&&(f.call("_guiRelayout",le,Me(se)),j&&le.data&&le._context.showTips&&(k.notifier(y(le,"Double-click to zoom back out"),"long"),j=!1))}function Ce(he,_e){var Le=he/ce.xaxis._m,Ie=_e/ce.yaxis._m,De=[(se={a:W.a-Ie,b:W.b+(Le+Ie)/2,c:W.c-(Le-Ie)/2}).a,se.b,se.c].sort(k.sorterAsc),je=De.indexOf(se.a),qe=De.indexOf(se.b),ve=De.indexOf(se.c);De[0]<0&&(De[1]+De[0]/2<0?(De[2]+=De[0]+De[1],De[0]=De[1]=0):(De[2]+=De[0]/2,De[1]+=De[0]/2,De[0]=0),_e=(W.a-(se={a:De[je],b:De[qe],c:De[ve]}).a)*ce.yaxis._m,he=(W.c-se.c-W.b+se.b)*ce.xaxis._m);var Oe=M(ce.x0+he,ce.y0+_e);ce.plotContainer.selectAll(".scatterlayer,.maplayer").attr("transform",Oe);var ke=M(-he,-_e);ce.clipDefRelative.select("path").attr("transform",ke),ce.aaxis.range=[se.a,ce.sum-se.b-se.c],ce.baxis.range=[ce.sum-se.a-se.c,se.b],ce.caxis.range=[ce.sum-se.a-se.b,se.c],ce.drawAxes(!1),ce._hasClipOnAxisFalse&&ce.plotContainer.select(".scatterlayer").selectAll(".trace").call(i.hideOutsideRangePoints,ce),le.emit("plotly_relayouting",Me(se))}function ge(){f.call("_guiRelayout",le,Me(se))}this.dragOptions={element:fe,gd:le,plotinfo:{id:ce.id,domain:le._fullLayout[ce.id].domain,xaxis:ce.xaxis,yaxis:ce.yaxis},subplot:ce.id,prepFn:function(he,_e,Le){ce.dragOptions.xaxes=[ce.xaxis],ce.dragOptions.yaxes=[ce.yaxis],F=le._fullLayout._invScaleX,Y=le._fullLayout._invScaleY;var Ie=ce.dragOptions.dragmode=le._fullLayout.dragmode;ce.dragOptions.minDrag=p(Ie)?1:void 0,"zoom"===Ie?(ce.dragOptions.moveFn=ze,ce.dragOptions.clickFn=Ae,ce.dragOptions.doneFn=Se,function(De,je,qe){var ve=fe.getBoundingClientRect();G=je-ve.left,H=qe-ve.top,le._fullLayout._calcInverseTransform(le);var ke=k.apply3DTransform(le._fullLayout._invTransform)(G,H);G=ke[0],H=ke[1],se=W={a:ce.aaxis.range[0],b:ce.baxis.range[1],c:ce.caxis.range[1]},Z=ce.aaxis.range[1]-W.a,re=E(ce.graphDiv._fullLayout[ce.id].bgcolor).getLuminance(),ne="M0,"+ce.h+"L"+ce.w/2+", 0L"+ce.w+","+ce.h+"Z",Q=!1,ee=pe.append("path").attr("class","zoombox").attr("transform",M(ce.x0,ce.y0)).style({fill:re>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("d",ne),oe=pe.append("path").attr("class","zoombox-corners").attr("transform",M(ce.x0,ce.y0)).style({fill:c.background,stroke:c.defaultLine,"stroke-width":1,opacity:0}).attr("d","M0,0Z"),ce.clearOutline(le)}(0,_e,Le)):"pan"===Ie?(ce.dragOptions.moveFn=Ce,ce.dragOptions.clickFn=Ae,ce.dragOptions.doneFn=ge,se=W={a:ce.aaxis.range[0],b:ce.baxis.range[1],c:ce.caxis.range[1]},ce.clearOutline(le)):(T(Ie)||p(Ie))&&m(he,_e,Le,ce.dragOptions,Ie)}},fe.onmousemove=function(he){h.hover(le,he,ce.id),le._fullLayout._lasthover=fe,le._fullLayout._hoversubplot=ce.id},fe.onmouseout=function(he){le._dragging||u.unhover(le,he)},u.init(this.dragOptions)}},73972:function(ae,B,r){"use strict";var D=r(47769),E=r(64213),f=r(75138),k=r(41965),M=r(24401).addStyleRule,y=r(1426),c=r(9012),i=r(10820),s=y.extendFlat,a=y.extendDeepAll;function o(w){var x=w.name,b=w.categories,A=w.meta;if(B.modules[x])D.log("Type "+x+" already registered");else{B.subplotsRegistry[w.basePlotModule.name]||function(j){var X=j.name;if(B.subplotsRegistry[X])D.log("Plot type "+X+" already registered.");else for(var F in v(j),B.subplotsRegistry[X]=j,B.componentsRegistry)_(F,j.name)}(w.basePlotModule);for(var g={},I=0;I<b.length;I++)g[b[I]]=!0,B.allCategories[b[I]]=!0;for(var S in B.modules[x]={_module:w,categories:g},A&&Object.keys(A).length&&(B.modules[x].meta=A),B.allTypes.push(x),B.componentsRegistry)p(S,x);w.layoutAttributes&&s(B.traceLayoutAttributes,w.layoutAttributes);var O=w.basePlotModule,R=O.name;if("mapbox"===R){var L=O.constants.styleRules;for(var N in L)M(".js-plotly-plot .plotly .mapboxgl-"+N,L[N])}"geo"!==R&&"mapbox"!==R||void 0!==window.PlotlyGeoAssets||(window.PlotlyGeoAssets={topojson:{}})}}function l(w){if("string"!=typeof w.name)throw new Error("Component module *name* must be a string.");var x=w.name;for(var b in B.componentsRegistry[x]=w,w.layoutAttributes&&(w.layoutAttributes._isLinkedToArray&&f(B.layoutArrayContainers,x),v(w)),B.modules)p(x,b);for(var A in B.subplotsRegistry)_(x,A);for(var g in B.transformsRegistry)T(x,g);w.schema&&w.schema.layout&&a(i,w.schema.layout)}function u(w){if("string"!=typeof w.name)throw new Error("Transform module *name* must be a string.");var x="Transform module "+w.name,b="function"==typeof w.transform,A="function"==typeof w.calcTransform;if(!b&&!A)throw new Error(x+" is missing a *transform* or *calcTransform* method.");for(var g in b&&A&&D.log([x+" has both a *transform* and *calcTransform* methods.","Please note that all *transform* methods are executed","before all *calcTransform* methods."].join(" ")),k(w.attributes)||D.log(x+" registered without an *attributes* object."),"function"!=typeof w.supplyDefaults&&D.log(x+" registered without a *supplyDefaults* method."),B.transformsRegistry[w.name]=w,B.componentsRegistry)T(g,w.name)}function h(w){var x=w.name,b=x.split("-")[0],A=w.dictionary,g=w.format,I=A&&Object.keys(A).length,S=g&&Object.keys(g).length,O=B.localeRegistry,R=O[x];if(R||(O[x]=R={}),b!==x){var L=O[b];L||(O[b]=L={}),I&&L.dictionary===R.dictionary&&(L.dictionary=A),S&&L.format===R.format&&(L.format=g)}I&&(R.dictionary=A),S&&(R.format=g)}function v(w){if(w.layoutAttributes){var x=w.layoutAttributes._arrayAttrRegexps;if(x)for(var b=0;b<x.length;b++)f(B.layoutArrayRegexes,x[b])}}function p(w,x){var b=B.componentsRegistry[w].schema;if(b&&b.traces){var A=b.traces[x];A&&a(B.modules[x]._module.attributes,A)}}function T(w,x){var b=B.componentsRegistry[w].schema;if(b&&b.transforms){var A=b.transforms[x];A&&a(B.transformsRegistry[x].attributes,A)}}function _(w,x){var b=B.componentsRegistry[w].schema;if(b&&b.subplots){var A=B.subplotsRegistry[x],g=A.layoutAttributes,I="subplot"===A.attr?A.name:A.attr;Array.isArray(I)&&(I=I[0]);var S=b.subplots[I];g&&S&&a(g,S)}}function m(w){return"object"==typeof w&&(w=w.type),w}B.modules={},B.allCategories={},B.allTypes=[],B.subplotsRegistry={},B.transformsRegistry={},B.componentsRegistry={},B.layoutArrayContainers=[],B.layoutArrayRegexes=[],B.traceLayoutAttributes={},B.localeRegistry={},B.apiMethodRegistry={},B.collectableSubplotTypes=null,B.register=function(w){if(B.collectableSubplotTypes=null,!w)throw new Error("No argument passed to Plotly.register.");w&&!Array.isArray(w)&&(w=[w]);for(var x=0;x<w.length;x++){var b=w[x];if(!b)throw new Error("Invalid module was attempted to be registered!");switch(b.moduleType){case"trace":o(b);break;case"transform":u(b);break;case"component":l(b);break;case"locale":h(b);break;case"apiMethod":B.apiMethodRegistry[b.name]=b.fn;break;default:throw new Error("Invalid module was attempted to be registered!")}}},B.getModule=function(w){var x=B.modules[m(w)];return!!x&&x._module},B.traceIs=function(w,x){if("various"===(w=m(w)))return!1;var b=B.modules[w];return b||(w&&D.log("Unrecognized trace type "+w+"."),b=B.modules[c.type.dflt]),!!b.categories[x]},B.getTransformIndices=function(w,x){for(var b=[],A=w.transforms||[],g=0;g<A.length;g++)A[g].type===x&&b.push(g);return b},B.hasTransform=function(w,x){for(var b=w.transforms||[],A=0;A<b.length;A++)if(b[A].type===x)return!0;return!1},B.getComponentMethod=function(w,x){var b=B.componentsRegistry[w];return b&&b[x]||E},B.call=function(){var w=arguments[0],x=[].slice.call(arguments,1);return B.apiMethodRegistry[w].apply(null,x)}},61914:function(ae,B,r){"use strict";var D=r(73972),E=r(71828),f=E.extendFlat,k=E.extendDeep;function M(y){var c;switch(y){case"themes__thumb":c={autosize:!0,width:150,height:150,title:{text:""},showlegend:!1,margin:{l:5,r:5,t:5,b:5,pad:0},annotations:[]};break;case"thumbnail":c={title:{text:""},hidesources:!0,showlegend:!1,borderwidth:0,bordercolor:"",margin:{l:1,r:1,t:1,b:1,pad:0},annotations:[]};break;default:c={}}return c}ae.exports=function(y,c){var i,o=y.layout,l=k([],y.data),u=k({},o,M(c.tileClass)),h=y._context||{};if(c.width&&(u.width=c.width),c.height&&(u.height=c.height),"thumbnail"===c.tileClass||"themes__thumb"===c.tileClass){u.annotations=[];var v=Object.keys(u);for(i=0;i<v.length;i++)["xaxis","yaxis","zaxis"].indexOf(v[i].slice(0,5))>-1&&(u[v[i]].title={text:""});for(i=0;i<l.length;i++){var p=l[i];p.showscale=!1,p.marker&&(p.marker.showscale=!1),D.traceIs(p,"pie-like")&&(p.textposition="none")}}if(Array.isArray(c.annotations))for(i=0;i<c.annotations.length;i++)u.annotations.push(c.annotations[i]);var T=Object.keys(u).filter(function(b){return b.match(/^scene\d*$/)});if(T.length){var _={};for("thumbnail"===c.tileClass&&(_={title:{text:""},showaxeslabels:!1,showticklabels:!1,linetickenable:!1}),i=0;i<T.length;i++){var m=u[T[i]];m.xaxis||(m.xaxis={}),m.yaxis||(m.yaxis={}),m.zaxis||(m.zaxis={}),f(m.xaxis,_),f(m.yaxis,_),f(m.zaxis,_),m._scene=null}}var w=document.createElement("div");c.tileClass&&(w.className=c.tileClass);var x={gd:w,td:w,layout:u,data:l,config:{staticPlot:void 0===c.staticPlot||c.staticPlot,plotGlPixelRatio:void 0===c.plotGlPixelRatio?2:c.plotGlPixelRatio,displaylogo:c.displaylogo||!1,showLink:c.showLink||!1,showTips:c.showTips||!1,mapboxAccessToken:h.mapboxAccessToken}};return"transparent"!==c.setBackground&&(x.config.setBackground=c.setBackground||"opaque"),x.gd.defaultLayout=M(c.tileClass),x}},7239:function(ae,B,r){"use strict";var D=r(71828),E=r(403),f=r(22435),k=r(25095);ae.exports=function(M,y){var c;return D.isPlainObject(M)||(c=D.getGraphDiv(M)),(y=y||{}).format=y.format||"png",y.width=y.width||null,y.height=y.height||null,y.imageDataOnly=!0,new Promise(function(i,s){c&&c._snapshotInProgress&&s(new Error("Snapshotting already in progress.")),D.isIE()&&"svg"!==y.format&&s(new Error(k.MSG_IE_BAD_FORMAT)),c&&(c._snapshotInProgress=!0);var a=E(M,y),o=y.filename||M.fn||"newplot";o+="."+y.format.replace("-","."),a.then(function(l){return c&&(c._snapshotInProgress=!1),f(l,o,y.format)}).then(function(l){i(l)}).catch(function(l){c&&(c._snapshotInProgress=!1),s(l)})})}},22435:function(ae,B,r){"use strict";var D=r(71828),E=r(25095);ae.exports=function(f,k,M){var y=document.createElement("a"),c="download"in y;return new Promise(function(i,s){var a,o;return D.isIE()?(a=E.createBlob(f,"svg"),window.navigator.msSaveBlob(a,k),a=null,i(k)):c?(a=E.createBlob(f,M),o=E.createObjectURL(a),y.href=o,y.download=k,document.body.appendChild(y),y.click(),document.body.removeChild(y),E.revokeObjectURL(o),a=null,i(k)):D.isSafari()?(E.octetStream(("svg"===M?",":";base64,")+encodeURIComponent(f)),i(k)):void s(new Error("download error"))})}},25095:function(ae,B,r){"use strict";var D=r(73972);B.getDelay=function(f){return f._has&&(f._has("gl3d")||f._has("gl2d")||f._has("mapbox"))?500:0},B.getRedrawFunc=function(f){return function(){D.getComponentMethod("colorbar","draw")(f)}},B.encodeSVG=function(f){return"data:image/svg+xml,"+encodeURIComponent(f)},B.encodeJSON=function(f){return"data:application/json,"+encodeURIComponent(f)};var E=window.URL||window.webkitURL;B.createObjectURL=function(f){return E.createObjectURL(f)},B.revokeObjectURL=function(f){return E.revokeObjectURL(f)},B.createBlob=function(f,k){if("svg"===k)return new window.Blob([f],{type:"image/svg+xml;charset=utf-8"});if("full-json"===k)return new window.Blob([f],{type:"application/json;charset=utf-8"});var M=function(y){for(var c=y.length,i=new ArrayBuffer(c),s=new Uint8Array(i),a=0;a<c;a++)s[a]=y.charCodeAt(a);return i}(window.atob(f));return new window.Blob([M],{type:"image/"+k})},B.octetStream=function(f){document.location.href="data:application/octet-stream"+f},B.IMAGE_URL_PREFIX=/^data:image\/\w+;base64,/,B.MSG_IE_BAD_FORMAT="Sorry IE does not support downloading from canvas. Try {format:'svg'} instead."},44511:function(ae,B,r){"use strict";var D=r(25095),E={getDelay:D.getDelay,getRedrawFunc:D.getRedrawFunc,clone:r(61914),toSVG:r(5900),svgToImg:r(70942),toImage:r(56395),downloadImage:r(7239)};ae.exports=E},70942:function(ae,B,r){"use strict";var D=r(71828),E=r(15398).EventEmitter,f=r(25095);ae.exports=function(k){var M=k.emitter||new E,y=new Promise(function(c,i){var s=window.Image,a=k.svg,o=k.format||"png";if(D.isIE()&&"svg"!==o){var l=new Error(f.MSG_IE_BAD_FORMAT);return i(l),k.promise?y:M.emit("error",l)}var u,h,v=k.canvas,p=k.scale||1,m=p*(k.width||300),w=p*(k.height||150),x=v.getContext("2d",{willReadFrequently:!0}),b=new s;"svg"===o||D.isSafari()?h=f.encodeSVG(a):(u=f.createBlob(a,"svg"),h=f.createObjectURL(u)),v.width=m,v.height=w,b.onload=function(){var A;switch(u=null,f.revokeObjectURL(h),"svg"!==o&&x.drawImage(b,0,0,m,w),o){case"jpeg":A=v.toDataURL("image/jpeg");break;case"png":A=v.toDataURL("image/png");break;case"webp":A=v.toDataURL("image/webp");break;case"svg":A=h;break;default:var g="Image format is not jpeg, png, svg or webp.";if(i(new Error(g)),!k.promise)return M.emit("error",g)}c(A),k.promise||M.emit("success",A)},b.onerror=function(A){if(u=null,f.revokeObjectURL(h),i(A),!k.promise)return M.emit("error",A)},b.src=h});return k.promise?y:M}},56395:function(ae,B,r){"use strict";var D=r(15398).EventEmitter,E=r(73972),f=r(71828),k=r(25095),M=r(61914),y=r(5900),c=r(70942);ae.exports=function(i,s){var a=new D,o=M(i,{format:"png"}),l=o.gd;l.style.position="absolute",l.style.left="-5000px",document.body.appendChild(l);var u=k.getRedrawFunc(l);return E.call("_doPlot",l,o.data,o.layout,o.config).then(u).then(function(){var h=k.getDelay(l._fullLayout);setTimeout(function(){var v=y(l),p=document.createElement("canvas");p.id=f.randstr(),(a=c({format:s.format,width:l._fullLayout.width,height:l._fullLayout.height,canvas:p,emitter:a,svg:v})).clean=function(){l&&document.body.removeChild(l)}},h)}).catch(function(h){a.emit("error",h)}),a}},5900:function(ae,B,r){"use strict";var D=r(39898),E=r(71828),f=r(91424),k=r(7901),M=r(77922),y=/"/g,c="TOBESTRIPPED",i=new RegExp('("'+c+")|("+c+'")',"g");ae.exports=function(s,a,o){var l,u=s._fullLayout,h=u._paper,v=u._toppaper,p=u.width,T=u.height;h.insert("rect",":first-child").call(f.setRect,0,0,p,T).call(k.fill,u.paper_bgcolor);var _=u._basePlotModules||[];for(l=0;l<_.length;l++){var m=_[l];m.toSVG&&m.toSVG(s)}if(v){var w=v.node().childNodes,x=Array.prototype.slice.call(w);for(l=0;l<x.length;l++){var b=x[l];b.childNodes.length&&h.node().appendChild(b)}}u._draggers&&u._draggers.remove(),h.node().style.background="",h.selectAll("text").attr({"data-unformatted":null,"data-math":null}).each(function(){var g=D.select(this);if("hidden"!==this.style.visibility&&"none"!==this.style.display){g.style({visibility:null,display:null});var I=this.style.fontFamily;I&&-1!==I.indexOf('"')&&g.style("font-family",I.replace(y,c))}else g.remove()}),h.selectAll(".gradient_filled,.pattern_filled").each(function(){var g=D.select(this),I=this.style.fill;I&&-1!==I.indexOf("url(")&&g.style("fill",I.replace(y,c));var S=this.style.stroke;S&&-1!==S.indexOf("url(")&&g.style("stroke",S.replace(y,c))}),"pdf"!==a&&"eps"!==a||h.selectAll("#MathJax_SVG_glyphs path").attr("stroke-width",0),h.node().setAttributeNS(M.xmlns,"xmlns",M.svg),h.node().setAttributeNS(M.xmlns,"xmlns:xlink",M.xlink),"svg"===a&&o&&(h.attr("width",o*p),h.attr("height",o*T),h.attr("viewBox","0 0 "+p+" "+T));var g,I,S,A=(new window.XMLSerializer).serializeToString(h.node());return A=(A=(g=A,I=D.select("body").append("div").style({display:"none"}).html(""),S=g.replace(/(&[^;]*;)/gi,function(O){return"&lt;"===O?"&#60;":"&rt;"===O?"&#62;":-1!==O.indexOf("<")||-1!==O.indexOf(">")?"":I.html(O).text()}),I.remove(),A=S).replace(/&(?!\w+;|\#[0-9]+;| \#x[0-9A-F]+;)/g,"&amp;")).replace(i,"'"),E.isIE()&&(A=(A=(A=A.replace(/"/gi,"'")).replace(/(\('#)([^']*)('\))/gi,'("#$2")')).replace(/(\\')/gi,'"')),A}},75341:function(ae,B,r){"use strict";var D=r(71828);ae.exports=function(E,f){for(var k=0;k<E.length;k++)E[k].i=k;D.mergeArray(f.text,E,"tx"),D.mergeArray(f.hovertext,E,"htx");var M=f.marker;if(M){D.mergeArray(M.opacity,E,"mo",!0),D.mergeArray(M.color,E,"mc");var y=M.line;y&&(D.mergeArray(y.color,E,"mlc"),D.mergeArrayCastPositive(y.width,E,"mlw"))}}},1486:function(ae,B,r){"use strict";var D=r(82196),E=r(12663).axisHoverFormat,f=r(5386).fF,k=r(5386).si,M=r(50693),y=r(41940),c=r(97313),i=r(79952).u,s=r(1426).extendFlat,a=y({editType:"calc",arrayOk:!0,colorEditType:"style"}),o=s({},D.marker.line.width,{dflt:0}),l=s({width:o,editType:"calc"},M("marker.line")),u=s({line:l,editType:"calc"},M("marker"),{opacity:{valType:"number",arrayOk:!0,dflt:1,min:0,max:1,editType:"style"},pattern:i});ae.exports={x:D.x,x0:D.x0,dx:D.dx,y:D.y,y0:D.y0,dy:D.dy,xperiod:D.xperiod,yperiod:D.yperiod,xperiod0:D.xperiod0,yperiod0:D.yperiod0,xperiodalignment:D.xperiodalignment,yperiodalignment:D.yperiodalignment,xhoverformat:E("x"),yhoverformat:E("y"),text:D.text,texttemplate:k({editType:"plot"},{keys:c.eventDataKeys}),hovertext:D.hovertext,hovertemplate:f({},{keys:c.eventDataKeys}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"calc"},insidetextanchor:{valType:"enumerated",values:["end","middle","start"],dflt:"end",editType:"plot"},textangle:{valType:"angle",dflt:"auto",editType:"plot"},textfont:s({},a,{}),insidetextfont:s({},a,{}),outsidetextfont:s({},a,{}),constraintext:{valType:"enumerated",values:["inside","outside","both","none"],dflt:"both",editType:"calc"},cliponaxis:s({},D.cliponaxis,{}),orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},base:{valType:"any",dflt:null,arrayOk:!0,editType:"calc"},offset:{valType:"number",dflt:null,arrayOk:!0,editType:"calc"},width:{valType:"number",dflt:null,min:0,arrayOk:!0,editType:"calc"},marker:u,offsetgroup:D.offsetgroup,alignmentgroup:D.alignmentgroup,selected:{marker:{opacity:D.selected.marker.opacity,color:D.selected.marker.color,editType:"style"},textfont:D.selected.textfont,editType:"style"},unselected:{marker:{opacity:D.unselected.marker.opacity,color:D.unselected.marker.color,editType:"style"},textfont:D.unselected.textfont,editType:"style"},_deprecated:{bardir:{valType:"enumerated",editType:"calc",values:["v","h"]}}}},92290:function(ae,B,r){"use strict";var D=r(89298),E=r(42973),f=r(52075).hasColorscale,k=r(78803),M=r(75341),y=r(66279);ae.exports=function(c,i){var s,a,o,l,u,h,v=D.getFromId(c,i.xaxis||"x"),p=D.getFromId(c,i.yaxis||"y"),T={msUTC:!(!i.base&&0!==i.base)};"h"===i.orientation?(s=v.makeCalcdata(i,"x",T),o=p.makeCalcdata(i,"y"),l=E(i,p,"y",o),u=!!i.yperiodalignment,h="y"):(s=p.makeCalcdata(i,"y",T),o=v.makeCalcdata(i,"x"),l=E(i,v,"x",o),u=!!i.xperiodalignment,h="x"),a=l.vals;for(var _=Math.min(a.length,s.length),m=new Array(_),w=0;w<_;w++)m[w]={p:a[w],s:s[w]},u&&(m[w].orig_p=o[w],m[w][h+"End"]=l.ends[w],m[w][h+"Start"]=l.starts[w]),i.ids&&(m[w].id=String(i.ids[w]));return f(i,"marker")&&k(c,i,{vals:i.marker.color,containerStr:"marker",cLetter:"c"}),f(i,"marker.line")&&k(c,i,{vals:i.marker.line.color,containerStr:"marker.line",cLetter:"c"}),M(m,i),y(m,i),m}},97313:function(ae){"use strict";ae.exports={TEXTPAD:3,eventDataKeys:["value","label"]}},11661:function(ae,B,r){"use strict";var D=r(92770),E=r(71828).isArrayOrTypedArray,f=r(50606).BADNUM,k=r(73972),M=r(89298),y=r(99082).getAxisGroup,c=r(61546);function i(_,m,w,x,b){if(x.length){var A,g,I,S;switch(function(O,R){var L,N;for(L=0;L<R.length;L++){var j,X=R[L],F=X[0].trace,Y="funnel"===F.type?F._base:F.base,G="h"===F.orientation?F.xcalendar:F.ycalendar,H="category"===O.type||"multicategory"===O.type?function(){return null}:O.d2c;if(E(Y)){for(N=0;N<Math.min(Y.length,X.length);N++)j=H(Y[N],0,G),D(j)?(X[N].b=+j,X[N].hasB=1):X[N].b=0;for(;N<X.length;N++)X[N].b=0}else{j=H(Y,0,G);var W=D(j);for(j=W?j:0,N=0;N<X.length;N++)X[N].b=j,W&&(X[N].hasB=1)}}}(w,x),b.mode){case"overlay":s(m,w,x,b);break;case"group":for(A=[],g=[],I=0;I<x.length;I++)void 0===(S=x[I])[0].trace.offset?g.push(S):A.push(S);g.length&&(O=_,L=w,X=new c(g,{posAxis:R=m,sepNegVal:!1,overlapNoMerge:!(j=b).norm}),function(F,Y,G,H){for(var W=F._fullLayout,re=G.minDiff,ne=G.traces,Q=ne.length,ee=G.positions.length!==G.distinctPositions.length,oe=re*(1-H.gap),ce=y(W,Y._id)+ne[0][0].trace.orientation,fe=W._alignmentOpts[ce]||{},le=0;le<Q;le++){var pe,Me,Ae=ne[le],be=Ae[0].trace,we=Object.keys((fe[be.alignmentgroup]||{}).offsetGroups||{}).length,ze=(pe=we?oe/we:ee?oe/Q:oe)*(1-(H.groupgap||0));Me=we?((2*be._offsetIndex+1-we)*pe-ze)/2:ee?((2*le+1-Q)*pe-ze)/2:-ze/2;var Se=Ae[0].t;Se.barwidth=ze,Se.poffset=Me,Se.bargroupwidth=oe,Se.bardelta=re}G.binWidth=ne[0][0].t.barwidth/100,o(G),l(Y,G),u(Y,G,ee)}(O,R,X,j),function(F,Y){for(var G=F.traces,H=0;H<G.length;H++){var W=G[H];if(void 0===W[0].trace.base)for(var Z=new c([W],{posAxis:Y,sepNegVal:!0,overlapNoMerge:!0}),se=0;se<W.length;se++){var re=W[se];if(re.p!==f){var ne=Z.put(re.p,re.b+re.s);ne&&(re.b=ne)}}}}(X,R),j.norm?(v(X),p(L,X,j)):h(L,X)),A.length&&s(m,w,A,b);break;case"stack":case"relative":for(A=[],g=[],I=0;I<x.length;I++)void 0===(S=x[I])[0].trace.base?g.push(S):A.push(S);g.length&&function(O,R,L,N,j){var X=new c(N,{posAxis:R,sepNegVal:"relative"===j.mode,overlapNoMerge:!(j.norm||"stack"===j.mode||"relative"===j.mode)});a(R,X,j),function(W,Z,se){var re,ne,Q,ee,oe,ce,fe=T(W),le=Z.traces;for(ee=0;ee<le.length;ee++)if("funnel"===(ne=(re=le[ee])[0].trace).type)for(oe=0;oe<re.length;oe++)(ce=re[oe]).s!==f&&Z.put(ce.p,-.5*ce.s);for(ee=0;ee<le.length;ee++){Q="funnel"===(ne=(re=le[ee])[0].trace).type;var pe=[];for(oe=0;oe<re.length;oe++)if((ce=re[oe]).s!==f){var Me,Ae=Z.put(ce.p,Me=Q?ce.s:ce.s+ce.b),be=Ae+Me;ce.b=Ae,ce[fe]=be,se.norm||(pe.push(be),ce.hasB&&pe.push(Ae))}se.norm||(ne._extremes[W._id]=M.findExtremes(W,pe,{tozero:!0,padded:!0}))}}(L,X,j);for(var F=0;F<N.length;F++)for(var Y=N[F],G=0;G<Y.length;G++){var H=Y[G];H.s!==f&&H.b+H.s===X.get(H.p,H.s)&&(H._outmost=!0)}j.norm&&p(L,X,j)}(0,m,w,g,b),A.length&&s(m,w,A,b)}!function(O,R){var L,N,j,X=T(R),F={},Y=1/0,G=-1/0;for(L=0;L<O.length;L++)for(j=O[L],N=0;N<j.length;N++){var H=j[N].p;D(H)&&(Y=Math.min(Y,H),G=Math.max(G,H))}var W=1e4/(G-Y),Z=F.round=function(ce){return String(Math.round(W*(ce-Y)))};for(L=0;L<O.length;L++){(j=O[L])[0].t.extents=F;var se=j[0].t.poffset,re=Array.isArray(se);for(N=0;N<j.length;N++){var ne=j[N],Q=ne[X]-ne.w/2;if(D(Q)){var ee=ne[X]+ne.w/2,oe=Z(ne.p);F[oe]=F[oe]?[Math.min(Q,F[oe][0]),Math.max(ee,F[oe][1])]:[Q,ee]}ne.p0=ne.p+(re?se[N]:se),ne.p1=ne.p0+ne.w,ne.s0=ne.b,ne.s1=ne.s0+ne.s}}}(x,m)}var O,R,L,j,X}function s(_,m,w,x){for(var b=0;b<w.length;b++){var g=new c([w[b]],{posAxis:_,sepNegVal:!1,overlapNoMerge:!x.norm});a(_,g,x),x.norm?(v(g),p(m,g,x)):h(m,g)}}function a(_,m,w){for(var x=m.minDiff,b=m.traces,A=x*(1-w.gap),g=A*(1-(w.groupgap||0)),I=-g/2,S=0;S<b.length;S++){var O=b[S][0].t;O.barwidth=g,O.poffset=I,O.bargroupwidth=A,O.bardelta=x}m.binWidth=b[0][0].t.barwidth/100,o(m),l(_,m),u(_,m)}function o(_){var m,w,x=_.traces;for(m=0;m<x.length;m++){var b,A=x[m],g=A[0],I=g.trace,S=g.t,O=I._offset||I.offset,R=S.poffset;if(E(O)){for(b=Array.prototype.slice.call(O,0,A.length),w=0;w<b.length;w++)D(b[w])||(b[w]=R);for(w=b.length;w<A.length;w++)b.push(R);S.poffset=b}else void 0!==O&&(S.poffset=O);var L=I._width||I.width,N=S.barwidth;if(E(L)){var j=Array.prototype.slice.call(L,0,A.length);for(w=0;w<j.length;w++)D(j[w])||(j[w]=N);for(w=j.length;w<A.length;w++)j.push(N);if(S.barwidth=j,void 0===O){for(b=[],w=0;w<A.length;w++)b.push(R+(N-j[w])/2);S.poffset=b}}else void 0!==L&&(S.barwidth=L,void 0===O&&(S.poffset=R+(N-L)/2))}}function l(_,m){for(var w=m.traces,x=T(_),b=0;b<w.length;b++)for(var A=w[b],g=A[0].t,I=g.poffset,S=Array.isArray(I),O=g.barwidth,R=Array.isArray(O),L=0;L<A.length;L++){var N=A[L],j=N.w=R?O[L]:O;void 0===N.p&&(N.p=N[x],N["orig_"+x]=N[x]),N[x]=N.p+((S?I[L]:I)+j/2)}}function u(_,m,w){var x=m.traces,b=m.minDiff/2;M.minDtick(_,m.minDiff,m.distinctPositions[0],w);for(var A=0;A<x.length;A++){var g,I,S,O,R=x[A],L=R[0],N=L.trace,j=[];for(O=0;O<R.length;O++)I=(g=R[O]).p-b,j.push(I,S=g.p+b);if(N.width||N.offset){var X=L.t,F=X.poffset,Y=X.barwidth,G=Array.isArray(F),H=Array.isArray(Y);for(O=0;O<R.length;O++)S=(I=(g=R[O]).p+(G?F[O]:F))+(H?Y[O]:Y),j.push(I,S)}N._extremes[_._id]=M.findExtremes(_,j,{padded:!1})}}function h(_,m){for(var w=m.traces,x=T(_),b=0;b<w.length;b++){for(var A=w[b],g=A[0].trace,I="scatter"===g.type,S="v"===g.orientation,O=[],R=!1,L=0;L<A.length;L++){var N=A[L],j=I?0:N.b,X=I?S?N.y:N.x:j+N.s;N[x]=X,O.push(X),N.hasB&&O.push(j),N.hasB&&N.b||(R=!0)}g._extremes[_._id]=M.findExtremes(_,O,{tozero:R,padded:!0})}}function v(_){for(var m=_.traces,w=0;w<m.length;w++)for(var x=m[w],b=0;b<x.length;b++){var A=x[b];A.s!==f&&_.put(A.p,A.b+A.s)}}function p(_,m,w){var x=m.traces,b=T(_),A="fraction"===w.norm?1:100,g=A/1e9,I=_.l2c(_.c2l(0)),S="stack"===w.mode?A:I;function O(se){return D(_.c2l(se))&&(se<I-g||se>S+g||!D(I))}for(var R=0;R<x.length;R++){for(var L=x[R],N=L[0].trace,j=[],X=!1,F=!1,Y=0;Y<L.length;Y++){var G=L[Y];if(G.s!==f){var H=Math.abs(A/m.get(G.p,G.s));G.b*=H,G.s*=H;var W=G.b,Z=W+G.s;G[b]=Z,j.push(Z),F=F||O(Z),G.hasB&&(j.push(W),F=F||O(W)),G.hasB&&G.b||(X=!0)}}N._extremes[_._id]=M.findExtremes(_,j,{tozero:X,padded:F})}}function T(_){return _._id.charAt(0)}ae.exports={crossTraceCalc:function(_,m){for(var w=m.xaxis,x=m.yaxis,b=_._fullLayout,A=_._fullData,g=_.calcdata,I=[],S=[],O=0;O<A.length;O++){var R=A[O];if(!0===R.visible&&k.traceIs(R,"bar")&&R.xaxis===w._id&&R.yaxis===x._id&&("h"===R.orientation?I.push(g[O]):S.push(g[O]),R._computePh))for(var L=_.calcdata[O],N=0;N<L.length;N++)"function"==typeof L[N].ph0&&(L[N].ph0=L[N].ph0()),"function"==typeof L[N].ph1&&(L[N].ph1=L[N].ph1())}var j={xCat:"category"===w.type||"multicategory"===w.type,yCat:"category"===x.type||"multicategory"===x.type,mode:b.barmode,norm:b.barnorm,gap:b.bargap,groupgap:b.bargroupgap};i(_,w,x,S,j),i(_,x,w,I,j)},setGroupPositions:i}},90769:function(ae,B,r){"use strict";var D=r(71828),E=r(7901),f=r(73972),k=r(67513),M=r(73927),y=r(98340),c=r(26125),i=r(1486),s=D.coerceFont;function a(o,l,u,h,v,p){var T=!1!==(p=p||{}).moduleHasSelected,_=!1!==p.moduleHasUnselected,m=!1!==p.moduleHasConstrain,w=!1!==p.moduleHasCliponaxis,x=!1!==p.moduleHasTextangle,b=!1!==p.moduleHasInsideanchor,A=!!p.hasPathbar,g=Array.isArray(v)||"auto"===v,I=g||"inside"===v,S=g||"outside"===v;if(I||S){var O=s(h,"textfont",u.font),R=D.extendFlat({},O),L=!(o.textfont&&o.textfont.color);if(L&&delete R.color,s(h,"insidetextfont",R),A){var N=D.extendFlat({},O);L&&delete N.color,s(h,"pathbar.textfont",N)}S&&s(h,"outsidetextfont",O),T&&h("selected.textfont.color"),_&&h("unselected.textfont.color"),m&&h("constraintext"),w&&h("cliponaxis"),x&&h("textangle"),h("texttemplate")}I&&b&&h("insidetextanchor")}ae.exports={supplyDefaults:function(o,l,u,h){function v(m,w){return D.coerce(o,l,i,m,w)}if(k(o,l,h,v)){M(o,l,h,v),v("xhoverformat"),v("yhoverformat"),v("orientation",l.x&&!l.y?"h":"v"),v("base"),v("offset"),v("width"),v("text"),v("hovertext"),v("hovertemplate");var p=v("textposition");a(o,0,h,v,p,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),y(o,l,v,u,h);var T=(l.marker.line||{}).color,_=f.getComponentMethod("errorbars","supplyDefaults");_(o,l,T||E.defaultLine,{axis:"y"}),_(o,l,T||E.defaultLine,{axis:"x",inherit:"y"}),D.coerceSelectionMarkerOpacity(l,v)}else l.visible=!1},crossTraceDefaults:function(o,l){var h;function v(T){return D.coerce(h._input,h,i,T)}if("group"===l.barmode)for(var p=0;p<o.length;p++)"bar"===(h=o[p]).type&&c(h._input,h,l,v)},handleText:a}},58065:function(ae){"use strict";ae.exports=function(B,r,D){return B.x="xVal"in r?r.xVal:r.x,B.y="yVal"in r?r.yVal:r.y,r.xa&&(B.xaxis=r.xa),r.ya&&(B.yaxis=r.ya),"h"===D.orientation?(B.label=B.y,B.value=B.x):(B.label=B.x,B.value=B.y),B}},69383:function(ae,B,r){"use strict";var D=r(92770),E=r(84267),f=r(71828).isArrayOrTypedArray;B.coerceString=function(k,M,y){if("string"==typeof M){if(M||!k.noBlank)return M}else if(("number"==typeof M||!0===M)&&!k.strict)return String(M);return void 0!==y?y:k.dflt},B.coerceNumber=function(k,M,y){if(D(M)){M=+M;var c=k.min,i=k.max;if(!(void 0!==c&&M<c||void 0!==i&&M>i))return M}return void 0!==y?y:k.dflt},B.coerceColor=function(k,M,y){return E(M).isValid()?M:void 0!==y?y:k.dflt},B.coerceEnumerated=function(k,M,y){return k.coerceNumber&&(M=+M),-1!==k.values.indexOf(M)?M:void 0!==y?y:k.dflt},B.getValue=function(k,M){var y;return Array.isArray(k)?M<k.length&&(y=k[M]):y=k,y},B.getLineWidth=function(k,M){return 0<M.mlw?M.mlw:f(k.marker.line.width)?0:k.marker.line.width}},95423:function(ae,B,r){"use strict";var D=r(30211),E=r(73972),f=r(7901),k=r(71828).fillText,M=r(69383).getLineWidth,y=r(89298).hoverLabelText,c=r(50606).BADNUM;function i(a,o,l,u,h){var v,p,T,_,m,w,x,b=a.cd,A=b[0].trace,g=b[0].t,I="closest"===u,S="waterfall"===A.type,O=a.maxHoverDistance,R=a.maxSpikeDistance;"h"===A.orientation?(v=l,p=o,T="y",_="x",m=re,w=Z):(v=o,p=l,T="x",_="y",w=re,m=Z);var L=A[T+"period"],N=I||L;function j(pe){return F(pe,-1)}function X(pe){return F(pe,1)}function F(pe,Me){return pe[T]+Me*pe.w/2}function Y(pe){return pe[T+"End"]-pe[T+"Start"]}var G=I?j:L?function(pe){return pe.p-Y(pe)/2}:function(pe){return Math.min(j(pe),pe.p-g.bardelta/2)},H=I?X:L?function(pe){return pe.p+Y(pe)/2}:function(pe){return Math.max(X(pe),pe.p+g.bardelta/2)};function W(pe,Me,Ae){return h.finiteRange&&(Ae=0),D.inbox(pe-v,Me-v,Ae+Math.min(1,Math.abs(Me-pe)/x)-1)}function Z(pe){return W(G(pe),H(pe),O)}function se(pe){var Me=pe[_];if(S){var Ae=Math.abs(pe.rawS)||0;p>0?Me+=Ae:p<0&&(Me-=Ae)}return Me}function re(pe){var Me=p,Ae=pe.b,be=se(pe);return D.inbox(Ae-Me,be-Me,O+(be-Me)/(be-Ae)-1)}var ne=a[T+"a"],Q=a[_+"a"];x=Math.abs(ne.r2c(ne.range[1])-ne.r2c(ne.range[0]));var pe,Me,Ae,be,ee=D.getDistanceFunction(u,m,w,function(pe){return(m(pe)+w(pe))/2});if(D.getClosest(b,ee,a),!1!==a.index&&b[a.index].p!==c){N||(G=function(pe){return Math.min(j(pe),pe.p-g.bargroupwidth/2)},H=function(pe){return Math.max(X(pe),pe.p+g.bargroupwidth/2)});var oe=b[a.index],ce=A.base?oe.b+oe.s:oe.s;a[_+"0"]=a[_+"1"]=Q.c2p(oe[_],!0),a[_+"LabelVal"]=ce;var fe=g.extents[g.extents.round(oe.p)];return a[T+"0"]=ne.c2p(I?G(oe):fe[0],!0),a[T+"1"]=ne.c2p(I?H(oe):fe[1],!0),a[T+"LabelVal"]=void 0!==oe.orig_p?oe.orig_p:oe.p,a.labelLabel=y(ne,a[T+"LabelVal"],A[T+"hoverformat"]),a.valueLabel=y(Q,a[_+"LabelVal"],A[_+"hoverformat"]),a.baseLabel=y(Q,oe.b,A[_+"hoverformat"]),a.spikeDistance=(Me=p,Ae=(pe=oe).b,be=se(pe),(D.inbox(Ae-Me,be-Me,R+(be-Me)/(be-Ae)-1)+function(pe){return W(j(pe),X(pe),R)}(oe))/2),a[T+"Spike"]=ne.c2p(oe.p,!0),k(oe,A,a),a.hovertemplate=A.hovertemplate,a}}function s(a,o){var l=o.mcc||a.marker.color,u=o.mlcc||a.marker.line.color,h=M(a,o);return f.opacity(l)?l:f.opacity(u)&&h?u:void 0}ae.exports={hoverPoints:function(a,o,l,u,h){var v=i(a,o,l,u,h);if(v){var p=v.cd,T=p[0].trace,_=p[v.index];return v.color=s(T,_),E.getComponentMethod("errorbars","hoverInfo")(_,T,v),[v]}},hoverOnBars:i,getTraceColor:s}},60822:function(ae,B,r){"use strict";ae.exports={attributes:r(1486),layoutAttributes:r(43641),supplyDefaults:r(90769).supplyDefaults,crossTraceDefaults:r(90769).crossTraceDefaults,supplyLayoutDefaults:r(13957),calc:r(92290),crossTraceCalc:r(11661).crossTraceCalc,colorbar:r(4898),arraysToCalcdata:r(75341),plot:r(17295).plot,style:r(16688).style,styleOnSelect:r(16688).styleOnSelect,hoverPoints:r(95423).hoverPoints,eventData:r(58065),selectPoints:r(81974),moduleType:"trace",name:"bar",basePlotModule:r(93612),categories:["bar-like","cartesian","svg","bar","oriented","errorBarsOK","showLegend","zoomScale"],animatable:!0,meta:{}}},43641:function(ae){"use strict";ae.exports={barmode:{valType:"enumerated",values:["stack","group","overlay","relative"],dflt:"group",editType:"calc"},barnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},bargap:{valType:"number",min:0,max:1,editType:"calc"},bargroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},13957:function(ae,B,r){"use strict";var D=r(73972),E=r(89298),f=r(71828),k=r(43641);ae.exports=function(M,y,c){function i(T,_){return f.coerce(M,y,k,T,_)}for(var s=!1,a=!1,o=!1,l={},u=i("barmode"),h=0;h<c.length;h++){var v=c[h];if(D.traceIs(v,"bar")&&v.visible){if(s=!0,"group"===u){var p=v.xaxis+v.yaxis;l[p]&&(o=!0),l[p]=!0}v.visible&&"histogram"===v.type&&"category"!==E.getFromId({_fullLayout:y},v["v"===v.orientation?"xaxis":"yaxis"]).type&&(a=!0)}}s?("overlay"!==u&&i("barnorm"),i("bargap",a&&!o?0:.2),i("bargroupgap")):delete y.barmode}},17295:function(ae,B,r){"use strict";var D=r(39898),E=r(92770),f=r(71828),k=r(63893),M=r(7901),y=r(91424),c=r(73972),i=r(89298).tickText,s=r(72597),a=s.recordMinTextSize,o=s.clearMinTextSize,l=r(16688),u=r(69383),h=r(97313),v=r(1486),p=v.text,T=v.textposition,_=r(23469).appendArrayPointValue,m=h.TEXTPAD;function w(R){return R.id}function b(R,L){return R<L?1:-1}function A(R,L,N,j){var X;return!L.uniformtext.mode&&g(N)?(j&&(X=j()),R.transition().duration(N.duration).ease(N.easing).each("end",function(){X&&X()}).each("interrupt",function(){X&&X()})):R}function g(R){return R&&R.duration>0}function I(R){return"auto"===R?0:R}function S(R,L){var N=Math.PI/180*L,j=Math.abs(Math.sin(N)),X=Math.abs(Math.cos(N));return{x:R.width*X+R.height*j,y:R.width*j+R.height*X}}function O(R,L,N,j,X,F){var Y=!!F.isHorizontal,G=!!F.constrained,H=F.angle||0,W=F.anchor||"end",Z="end"===W,se="start"===W,re=((F.leftToRight||0)+1)/2,ne=1-re,Q=X.width,ee=X.height,oe=Math.abs(L-R),ce=Math.abs(j-N),fe=oe>2*m&&ce>2*m?m:0;oe-=2*fe,ce-=2*fe;var le=I(H);"auto"!==H||Q<=oe&&ee<=ce||!(Q>oe||ee>ce)||(Q>ce||ee>oe)&&Q<ee==oe<ce||(le+=90);var pe=S(X,le),Me=1;G&&(Me=Math.min(1,oe/pe.x,ce/pe.y));var Ae=X.left*ne+X.right*re,be=(X.top+X.bottom)/2,ye=(R+m)*ne+(L-m)*re,we=(N+j)/2,ze=0,Se=0;if(se||Z){var Ce=(Y?pe.x:pe.y)/2,ge=Y?b(R,L):b(N,j);Y?se?(ye=R+ge*fe,ze=-ge*Ce):(ye=L-ge*fe,ze=ge*Ce):se?(we=N+ge*fe,Se=-ge*Ce):(we=j-ge*fe,Se=ge*Ce)}return{textX:Ae,textY:be,targetX:ye,targetY:we,anchorX:ze,anchorY:Se,scale:Me,rotate:le}}ae.exports={plot:function(R,L,N,j,X,F){var Y=L.xaxis,G=L.yaxis,H=R._fullLayout,W=R._context.staticPlot;X||(X={mode:H.barmode,norm:H.barmode,gap:H.bargap,groupgap:H.bargroupgap},o("bar",H));var Z=f.makeTraceGroups(j,N,"trace bars").each(function(se){var re=D.select(this),ne=se[0].trace,oe="bar"===ne.type||"funnel"===ne.type,ce=0;"waterfall"===ne.type&&ne.connector.visible&&"between"===ne.connector.mode&&(ce=ne.connector.line.width/2);var fe="h"===ne.orientation,le=g(X),pe=f.ensureSingle(re,"g","points"),Me=function x(R){if(R.ids)return w}(ne),Ae=pe.selectAll("g.point").data(f.identity,Me);Ae.enter().append("g").classed("point",!0),Ae.exit().remove(),Ae.each(function(ye,we){var ze,Se,Be,We,Ge,Ke,et,at,mt,ct,Ce=D.select(this),ge=(We=Y,Ge=G,at=[],ct=(Ke=fe)?Ge:We,(et=[])[0]=(mt=Ke?We:Ge).c2p((Be=ye).s0,!0),at[0]=ct.c2p(Be.p0,!0),et[1]=mt.c2p(Be.s1,!0),at[1]=ct.c2p(Be.p1,!0),Ke?[et,at]:[at,et]),he=ge[0][0],_e=ge[0][1],Le=ge[1][0],Ie=ge[1][1],De=0==(fe?_e-he:Ie-Le);if(De&&oe&&u.getLineWidth(ne,ye)&&(De=!1),De||(De=!(E(he)&&E(_e)&&E(Le)&&E(Ie))),ye.isBlank=De,De&&(fe?_e=he:Ie=Le),ce&&!De&&(fe?(he-=b(he,_e)*ce,_e+=b(he,_e)*ce):(Le-=b(Le,Ie)*ce,Ie+=b(Le,Ie)*ce)),"waterfall"===ne.type){if(!De){var je=ne[ye.dir].marker;ze=je.line.width,Se=je.color}}else ze=u.getLineWidth(ne,ye),Se=ye.mc||ne.marker.color;function qe(Be){var We=D.round(ze/2%1,2);return 0===X.gap&&0===X.groupgap?D.round(Math.round(Be)-We,2):Be}if(!R._context.staticPlot){var ve=M.opacity(Se)<1||ze>.01?qe:function(Be,We,Ge){return Ge&&Be===We?Be:Math.abs(Be-We)>=2?qe(Be):Be>We?Math.ceil(Be):Math.floor(Be)};he=ve(he,_e,fe),_e=ve(_e,he,fe),Le=ve(Le,Ie,!fe),Ie=ve(Ie,Le,!fe)}var Oe=A(f.ensureSingle(Ce,"path"),H,X,F);if(Oe.style("vector-effect",W?"none":"non-scaling-stroke").attr("d",isNaN((_e-he)*(Ie-Le))||De&&R._context.staticPlot?"M0,0Z":"M"+he+","+Le+"V"+Ie+"H"+_e+"V"+Le+"Z").call(y.setClipUrl,L.layerClipId,R),!H.uniformtext.mode&&le){var ke=y.makePointStyleFns(ne);y.singlePointStyle(ye,Oe,ne,ke,R)}(function(Be,We,Ge,Ke,et,at,mt,ct,kt,Dt,Et){var ht,pt=We.xaxis,Pt=We.yaxis,zt=Be._fullLayout;function Ht(pn,en,nn){return f.ensureSingle(pn,"text").text(en).attr({class:"bartext bartext-"+ht,"text-anchor":"middle","data-notex":1}).call(y.font,nn).call(k.convertToTspans,Be)}var en,nn,fn,On,Un,Sn,Lt=Ke[0].trace,tt="h"===Lt.orientation,it=(nn=et,fn=pt,On=Pt,Un=(Sn=(en=Ke)[0].trace).texttemplate?function(on,vn,un,Tn,kn){var xn=vn[0].trace,Rn=f.castOption(xn,un,"texttemplate");if(!Rn)return"";var Hn,En,Wn,gr,lr="histogram"===xn.type,wr="waterfall"===xn.type,dr="funnel"===xn.type,mr="h"===xn.orientation;function Ir(yn){return i(gr,gr.c2l(yn),!0).text}mr?(Hn="y",En=kn,Wn="x",gr=Tn):(Hn="x",En=Tn,Wn="y",gr=kn);var tn=vn[un],bn={};bn.label=tn.p,bn.labelLabel=bn[Hn+"Label"]=i(En,En.c2l(tn.p),!0).text;var Cn=f.castOption(xn,tn.i,"text");(0===Cn||Cn)&&(bn.text=Cn),bn.value=tn.s,bn.valueLabel=bn[Wn+"Label"]=Ir(tn.s);var Bn={};_(Bn,xn,tn.i),(lr||void 0===Bn.x)&&(Bn.x=mr?bn.value:bn.label),(lr||void 0===Bn.y)&&(Bn.y=mr?bn.label:bn.value),(lr||void 0===Bn.xLabel)&&(Bn.xLabel=mr?bn.valueLabel:bn.labelLabel),(lr||void 0===Bn.yLabel)&&(Bn.yLabel=mr?bn.labelLabel:bn.valueLabel),wr&&(bn.delta=+tn.rawS||tn.s,bn.deltaLabel=Ir(bn.delta),bn.final=tn.v,bn.finalLabel=Ir(bn.final),bn.initial=bn.final-bn.delta,bn.initialLabel=Ir(bn.initial)),dr&&(bn.value=tn.s,bn.valueLabel=Ir(bn.value),bn.percentInitial=tn.begR,bn.percentInitialLabel=f.formatPercent(tn.begR),bn.percentPrevious=tn.difR,bn.percentPreviousLabel=f.formatPercent(tn.difR),bn.percentTotal=tn.sumR,bn.percenTotalLabel=f.formatPercent(tn.sumR));var sr=f.castOption(xn,tn.i,"customdata");return sr&&(bn.customdata=sr),f.texttemplateString(Rn,bn,on._d3locale,Bn,bn,xn._meta||{})}(zt,en,nn,fn,On):Sn.textinfo?function(on,vn,un,Tn){var kn=on[0].trace,xn="h"===kn.orientation,Rn="waterfall"===kn.type,Hn="funnel"===kn.type;function En(sr){return i(xn?un:Tn,+sr,!0).text}var Wn,wr=on[vn],dr=kn.textinfo.split("+"),mr=[],Ir=function(sr){return-1!==dr.indexOf(sr)};if(Ir("label")&&mr.push(i(xn?Tn:un,on[vn].p,!0).text),Ir("text")&&(0===(Wn=f.castOption(kn,wr.i,"text"))||Wn)&&mr.push(Wn),Rn){var qt=+wr.rawS||wr.s,tn=wr.v,bn=tn-qt;Ir("initial")&&mr.push(En(bn)),Ir("delta")&&mr.push(En(qt)),Ir("final")&&mr.push(En(tn))}if(Hn){Ir("value")&&mr.push(En(wr.s));var Cn=0;Ir("percent initial")&&Cn++,Ir("percent previous")&&Cn++,Ir("percent total")&&Cn++;var Bn=Cn>1;Ir("percent initial")&&(Wn=f.formatPercent(wr.begR),Bn&&(Wn+=" of initial"),mr.push(Wn)),Ir("percent previous")&&(Wn=f.formatPercent(wr.difR),Bn&&(Wn+=" of previous"),mr.push(Wn)),Ir("percent total")&&(Wn=f.formatPercent(wr.sumR),Bn&&(Wn+=" of total"),mr.push(Wn))}return mr.join("<br>")}(en,nn,fn,On):u.getValue(Sn.text,nn),u.coerceString(p,Un));ht=function(pn,en){var nn=u.getValue(pn.textposition,en);return u.coerceEnumerated(T,nn)}(Lt,et);var ot=Ke[et],gt=!("stack"===Dt.mode||"relative"===Dt.mode)||ot._outmost;if(it&&"none"!==ht&&(!ot.isBlank&&at!==mt&&ct!==kt||"auto"!==ht&&"inside"!==ht)){var ft=zt.font,Ue=l.getBarColor(Ke[et],Lt),$e=l.getInsideTextFont(Lt,et,ft,Ue),dt=l.getOutsideTextFont(Lt,et,ft),ut=Ge.datum();tt?"log"===pt.type&&ut.s0<=0&&(at=pt.range[0]<pt.range[1]?0:pt._length):"log"===Pt.type&&ut.s0<=0&&(ct=Pt.range[0]<Pt.range[1]?Pt._length:0);var At,wt,St,_t,Rt,bt=Math.abs(mt-at)-2*m,Tt=Math.abs(kt-ct)-2*m;if("outside"===ht&&(gt||ot.hasB||(ht="inside")),"auto"===ht&&(gt?(ht="inside",At=Ht(Ge,it,Rt=f.ensureUniformFontSize(Be,$e)),St=(wt=y.bBox(At.node())).width,_t=wt.height,St>0&&_t>0&&(St<=bt&&_t<=Tt||St<=Tt&&_t<=bt||(tt?bt>=St*(Tt/_t):Tt>=_t*(bt/St)))?ht="inside":(ht="outside",At.remove(),At=null)):ht="inside"),!At){var It=(At=Ht(Ge,it,Rt=f.ensureUniformFontSize(Be,"outside"===ht?dt:$e))).attr("transform");if(At.attr("transform",""),St=(wt=y.bBox(At.node())).width,_t=wt.height,At.attr("transform",It),St<=0||_t<=0)return void At.remove()}var Wt,$t=Lt.textangle;Wt="outside"===ht?function(pn,en,nn,fn,On,Un){var Sn,on=!!Un.isHorizontal,vn=!!Un.constrained,un=Un.angle||0,Tn=On.width,kn=On.height,xn=Math.abs(en-pn),Rn=Math.abs(fn-nn);Sn=on?Rn>2*m?m:0:xn>2*m?m:0;var Hn=1;vn&&(Hn=on?Math.min(1,Rn/kn):Math.min(1,xn/Tn));var En=I(un),Wn=S(On,En),gr=(on?Wn.x:Wn.y)/2,lr=(On.left+On.right)/2,wr=(On.top+On.bottom)/2,dr=(pn+en)/2,mr=(nn+fn)/2,Ir=0,qt=0,tn=on?b(en,pn):b(nn,fn);return on?(dr=en-tn*Sn,Ir=tn*gr):(mr=fn+tn*Sn,qt=-tn*gr),{textX:lr,textY:wr,targetX:dr,targetY:mr,anchorX:Ir,anchorY:qt,scale:Hn,rotate:En}}(at,mt,ct,kt,wt,{isHorizontal:tt,constrained:"both"===Lt.constraintext||"outside"===Lt.constraintext,angle:$t}):O(at,mt,ct,kt,wt,{isHorizontal:tt,constrained:"both"===Lt.constraintext||"inside"===Lt.constraintext,angle:$t,anchor:Lt.insidetextanchor}),Wt.fontSize=Rt.size,a("histogram"===Lt.type?"bar":Lt.type,Wt,zt),ot.transform=Wt;var Qt=A(At,zt,Dt,Et);f.setTransormAndDisplay(Qt,Wt)}else Ge.select("text").remove()})(R,L,Ce,se,we,he,_e,Le,Ie,X,F),L.layerClipId&&y.hideOutsideRangePoint(ye,Ce.select("text"),Y,G,ne.xcalendar,ne.ycalendar)}),y.setClipUrl(re,!1===ne.cliponaxis?null:L.layerClipId,R)});c.getComponentMethod("errorbars","plot")(R,Z,L,X)},toMoveInsideBar:O}},81974:function(ae){"use strict";function B(r,D,E,f,k){var M=D.c2p(f?r.s0:r.p0,!0),y=D.c2p(f?r.s1:r.p1,!0),c=E.c2p(f?r.p0:r.s0,!0),i=E.c2p(f?r.p1:r.s1,!0);return k?[(M+y)/2,(c+i)/2]:f?[y,(c+i)/2]:[(M+y)/2,i]}ae.exports=function(r,D){var E,f=r.cd,k=r.xaxis,M=r.yaxis,y=f[0].trace,c="funnel"===y.type,i="h"===y.orientation,s=[];if(!1===D)for(E=0;E<f.length;E++)f[E].selected=0;else for(E=0;E<f.length;E++){var a=f[E],o="ct"in a?a.ct:B(a,k,M,i,c);D.contains(o,!1,E,r)?(s.push({pointNumber:E,x:k.c2d(a.x),y:M.c2d(a.y)}),a.selected=1):a.selected=0}return s}},61546:function(ae,B,r){"use strict";ae.exports=E;var D=r(71828).distinctVals;function E(f,k){this.traces=f,this.sepNegVal=k.sepNegVal,this.overlapNoMerge=k.overlapNoMerge;for(var M=1/0,y=k.posAxis._id.charAt(0),c=[],i=0;i<f.length;i++){for(var s=f[i],a=0;a<s.length;a++){var o=s[a],l=o.p;void 0===l&&(l=o[y]),void 0!==l&&c.push(l)}s[0]&&s[0].width1&&(M=Math.min(s[0].width1,M))}this.positions=c;var u=D(c);this.distinctPositions=u.vals,this.minDiff=1===u.vals.length&&M!==1/0?M:Math.min(u.minDiff,M);var h=(k.posAxis||{}).type;"category"!==h&&"multicategory"!==h||(this.minDiff=1),this.binWidth=this.minDiff,this.bins={}}E.prototype.put=function(f,k){var M=this.getLabel(f,k),y=this.bins[M]||0;return this.bins[M]=y+k,y},E.prototype.get=function(f,k){var M=this.getLabel(f,k);return this.bins[M]||0},E.prototype.getLabel=function(f,k){return(k<0&&this.sepNegVal?"v":"^")+(this.overlapNoMerge?f:Math.round(f/this.binWidth))}},16688:function(ae,B,r){"use strict";var D=r(39898),E=r(7901),f=r(91424),k=r(71828),M=r(73972),y=r(72597).resizeText,c=r(1486),i=c.textfont,s=c.insidetextfont,a=c.outsidetextfont,o=r(69383);function l(w,x,b){f.pointStyle(w.selectAll("path"),x,b),u(w,x,b)}function u(w,x,b){w.selectAll("text").each(function(A){var g=D.select(this),I=k.ensureUniformFontSize(b,h(g,A,x,b));f.font(g,I)})}function h(w,x,b,A){var g=A._fullLayout.font,I=b.textfont;if(w.classed("bartext-inside")){var S=m(x,b);I=p(b,x.i,g,S)}else w.classed("bartext-outside")&&(I=T(b,x.i,g));return I}function v(w,x,b){return _(i,w.textfont,x,b)}function p(w,x,b,A){var g=v(w,x,b);return(void 0===w._input.textfont||void 0===w._input.textfont.color||Array.isArray(w.textfont.color)&&void 0===w.textfont.color[x])&&(g={color:E.contrast(A),family:g.family,size:g.size}),_(s,w.insidetextfont,x,g)}function T(w,x,b){var A=v(w,x,b);return _(a,w.outsidetextfont,x,A)}function _(w,x,b,A){var g=o.getValue((x=x||{}).family,b),I=o.getValue(x.size,b),S=o.getValue(x.color,b);return{family:o.coerceString(w.family,g,A.family),size:o.coerceNumber(w.size,I,A.size),color:o.coerceColor(w.color,S,A.color)}}function m(w,x){return"waterfall"===x.type?x[w.dir].marker.color:w.mcc||w.mc||x.marker.color}ae.exports={style:function(w){var x=D.select(w).selectAll("g.barlayer").selectAll("g.trace");y(w,x,"bar");var b=x.size(),A=w._fullLayout;x.style("opacity",function(g){return g[0].trace.opacity}).each(function(g){("stack"===A.barmode&&b>1||0===A.bargap&&0===A.bargroupgap&&!g[0].trace.marker.line.width)&&D.select(this).attr("shape-rendering","crispEdges")}),x.selectAll("g.points").each(function(g){l(D.select(this),g[0].trace,w)}),M.getComponentMethod("errorbars","style")(x)},styleTextPoints:u,styleOnSelect:function(w,x,b){var g,I,S,O,R,L,A=x[0].trace;A.selectedpoints?(I=A,S=w,f.selectedPointStyle((g=b).selectAll("path"),I),O=g.selectAll("text"),R=I,L=S,O.each(function(N){var j,X=D.select(this);if(N.selected){j=k.ensureUniformFontSize(L,h(X,N,R,L));var F=R.selected.textfont&&R.selected.textfont.color;F&&(j.color=F),f.font(X,j)}else f.selectedTextStyle(X,R)})):(l(b,A,w),M.getComponentMethod("errorbars","style")(b))},getInsideTextFont:p,getOutsideTextFont:T,getBarColor:m,resizeText:y}},98340:function(ae,B,r){"use strict";var D=r(7901),E=r(52075).hasColorscale,f=r(1586),k=r(71828).coercePattern;ae.exports=function(M,y,c,i,s){var a=c("marker.color",i),o=E(M,"marker");o&&f(M,y,s,c,{prefix:"marker.",cLetter:"c"}),c("marker.line.color",D.defaultLine),E(M,"marker.line")&&f(M,y,s,c,{prefix:"marker.line.",cLetter:"c"}),c("marker.line.width"),c("marker.opacity"),k(c,"marker.pattern",a,o),c("selected.marker.color"),c("unselected.marker.color")}},72597:function(ae,B,r){"use strict";var D=r(39898),E=r(71828);function f(k){return"_"+k+"Text_minsize"}ae.exports={recordMinTextSize:function(k,M,y){if(y.uniformtext.mode){var c=f(k),i=y.uniformtext.minsize,s=M.scale*M.fontSize;M.hide=s<i,y[c]=y[c]||1/0,M.hide||(y[c]=Math.min(y[c],Math.max(s,i)))}},clearMinTextSize:function(k,M){M[f(k)]=void 0},resizeText:function(k,M,y){var c=k._fullLayout,i=c["_"+y+"Text_minsize"];if(i){var s,a="hide"===c.uniformtext.mode;switch(y){case"funnelarea":case"pie":case"sunburst":s="g.slice";break;case"treemap":case"icicle":s="g.slice, g.pathbar";break;default:s="g.points > g.point"}M.selectAll(s).each(function(o){var l=o.transform;if(l){l.scale=a&&l.hide?0:i/l.fontSize;var u=D.select(this).select("text");E.setTransormAndDisplay(u,l)}})}}}},55023:function(ae,B,r){"use strict";var D=r(5386).fF,E=r(1426).extendFlat,f=r(81245),k=r(1486);ae.exports={r:f.r,theta:f.theta,r0:f.r0,dr:f.dr,theta0:f.theta0,dtheta:f.dtheta,thetaunit:f.thetaunit,base:E({},k.base,{}),offset:E({},k.offset,{}),width:E({},k.width,{}),text:E({},k.text,{}),hovertext:E({},k.hovertext,{}),marker:k.marker,hoverinfo:f.hoverinfo,hovertemplate:D(),selected:k.selected,unselected:k.unselected}},74692:function(ae,B,r){"use strict";var D=r(52075).hasColorscale,E=r(78803),f=r(75341),k=r(11661).setGroupPositions,M=r(66279),y=r(73972).traceIs,c=r(71828).extendFlat;ae.exports={calc:function(i,s){for(var a=i._fullLayout,o=s.subplot,u=a[o].angularaxis,h=a[o].radialaxis.makeCalcdata(s,"r"),v=u.makeCalcdata(s,"theta"),p=s._length,T=new Array(p),_=h,m=v,w=0;w<p;w++)T[w]={p:m[w],s:_[w]};function x(b){var A=s[b];void 0!==A&&(s["_"+b]=Array.isArray(A)?u.makeCalcdata(s,b):u.d2c(A,s.thetaunit))}return"linear"===u.type&&(x("width"),x("offset")),D(s,"marker")&&E(i,s,{vals:s.marker.color,containerStr:"marker",cLetter:"c"}),D(s,"marker.line")&&E(i,s,{vals:s.marker.line.color,containerStr:"marker.line",cLetter:"c"}),f(T,s),M(T,s),T},crossTraceCalc:function(i,s,a){for(var o=i.calcdata,l=[],u=0;u<o.length;u++){var h=o[u],v=h[0].trace;!0===v.visible&&y(v,"bar")&&v.subplot===a&&l.push(h)}var p=c({},s.radialaxis,{_id:"x"});k(i,s.angularaxis,p,l,{mode:s.barmode,norm:s.barnorm,gap:s.bargap,groupgap:s.bargroupgap})}}},6135:function(ae,B,r){"use strict";var D=r(71828),E=r(22184).handleRThetaDefaults,f=r(98340),k=r(55023);ae.exports=function(M,y,c,i){function s(a,o){return D.coerce(M,y,k,a,o)}E(M,y,i,s)?(s("thetaunit"),s("base"),s("offset"),s("width"),s("text"),s("hovertext"),s("hovertemplate"),f(M,y,s,c,i),D.coerceSelectionMarkerOpacity(y,s)):y.visible=!1}},27379:function(ae,B,r){"use strict";var D=r(30211),E=r(71828),f=r(95423).getTraceColor,k=E.fillText,M=r(59150).makeHoverPointText,y=r(10869).isPtInsidePolygon;ae.exports=function(c,i,s){var a=c.cd,o=a[0].trace,l=c.subplot,u=l.radialAxis,v=l.vangles,p=v?y:E.isPtInsideSector,T=c.maxHoverDistance,_=l.angularAxis._period||2*Math.PI,m=Math.abs(u.g2p(Math.sqrt(i*i+s*s))),w=Math.atan2(s,i);if(u.range[0]>u.range[1]&&(w+=Math.PI),D.getClosest(a,function(A){return p(m,w,[A.rp0,A.rp1],[A.thetag0,A.thetag1],v)?T+Math.min(1,Math.abs(A.thetag1-A.thetag0)/_)-1+(A.rp1-m)/(A.rp1-A.rp0)-1:1/0},c),!1!==c.index){var x=a[c.index];c.x0=c.x1=x.ct[0],c.y0=c.y1=x.ct[1];var b=E.extendFlat({},x,{r:x.s,theta:x.p});return k(x,o,c),M(b,o,l,c),c.hovertemplate=o.hovertemplate,c.color=f(o,x),c.xLabelVal=c.yLabelVal=void 0,x.s<0&&(c.idealAlign="left"),[c]}}},23381:function(ae,B,r){"use strict";ae.exports={moduleType:"trace",name:"barpolar",basePlotModule:r(23580),categories:["polar","bar","showLegend"],attributes:r(55023),layoutAttributes:r(40151),supplyDefaults:r(6135),supplyLayoutDefaults:r(19860),calc:r(74692).calc,crossTraceCalc:r(74692).crossTraceCalc,plot:r(60173),colorbar:r(4898),formatLabels:r(98608),style:r(16688).style,styleOnSelect:r(16688).styleOnSelect,hoverPoints:r(27379),selectPoints:r(81974),meta:{}}},40151:function(ae){"use strict";ae.exports={barmode:{valType:"enumerated",values:["stack","overlay"],dflt:"stack",editType:"calc"},bargap:{valType:"number",dflt:.1,min:0,max:1,editType:"calc"}}},19860:function(ae,B,r){"use strict";var D=r(71828),E=r(40151);ae.exports=function(f,k,M){var y,c={};function i(o,l){return D.coerce(f[y]||{},k[y],E,o,l)}for(var s=0;s<M.length;s++){var a=M[s];"barpolar"===a.type&&!0===a.visible&&(c[y=a.subplot]||(i("barmode"),i("bargap"),c[y]=1))}}},60173:function(ae,B,r){"use strict";var D=r(39898),E=r(92770),f=r(71828),k=r(91424),M=r(10869);ae.exports=function(y,c,i){var p,T,_,s=y._context.staticPlot,a=c.xaxis,o=c.yaxis,l=c.radialAxis,u=c.angularAxis,h=(T=(p=c).cxx,_=p.cyy,p.vangles?function(m,w,x,b){var A,g;f.angleDelta(x,b)>0?(A=x,g=b):(A=b,g=x);var I=[M.findEnclosingVertexAngles(A,p.vangles)[0],(A+g)/2,M.findEnclosingVertexAngles(g,p.vangles)[1]];return M.pathPolygonAnnulus(m,w,A,g,I,T,_)}:function(m,w,x,b){return f.pathAnnulus(m,w,x,b,T,_)}),v=c.layers.frontplot.select("g.barlayer");f.makeTraceGroups(v,i,"trace bars").each(function(){var p=D.select(this),T=f.ensureSingle(p,"g","points").selectAll("g.point").data(f.identity);T.enter().append("g").style("vector-effect",s?"none":"non-scaling-stroke").style("stroke-miterlimit",2).classed("point",!0),T.exit().remove(),T.each(function(_){var m,w=D.select(this),x=_.rp0=l.c2p(_.s0),b=_.rp1=l.c2p(_.s1),A=_.thetag0=u.c2g(_.p0),g=_.thetag1=u.c2g(_.p1);if(E(x)&&E(b)&&E(A)&&E(g)&&x!==b&&A!==g){var I=l.c2g(_.s1),S=(A+g)/2;_.ct=[a.c2p(I*Math.cos(S)),o.c2p(I*Math.sin(S))],m=h(x,b,A,g)}else m="M0,0Z";f.ensureSingle(w,"path").attr("d",m)}),k.setClipUrl(p,c._hasClipOnAxisFalse?c.clipIds.forTraces:null,y)})}},53522:function(ae,B,r){"use strict";var D=r(82196),E=r(1486),f=r(22399),k=r(12663).axisHoverFormat,M=r(5386).fF,y=r(1426).extendFlat,c=D.marker,i=c.line;ae.exports={y:{valType:"data_array",editType:"calc+clearAxisTypes"},x:{valType:"data_array",editType:"calc+clearAxisTypes"},x0:{valType:"any",editType:"calc+clearAxisTypes"},y0:{valType:"any",editType:"calc+clearAxisTypes"},dx:{valType:"number",editType:"calc"},dy:{valType:"number",editType:"calc"},xperiod:D.xperiod,yperiod:D.yperiod,xperiod0:D.xperiod0,yperiod0:D.yperiod0,xperiodalignment:D.xperiodalignment,yperiodalignment:D.yperiodalignment,xhoverformat:k("x"),yhoverformat:k("y"),name:{valType:"string",editType:"calc+clearAxisTypes"},q1:{valType:"data_array",editType:"calc+clearAxisTypes"},median:{valType:"data_array",editType:"calc+clearAxisTypes"},q3:{valType:"data_array",editType:"calc+clearAxisTypes"},lowerfence:{valType:"data_array",editType:"calc"},upperfence:{valType:"data_array",editType:"calc"},notched:{valType:"boolean",editType:"calc"},notchwidth:{valType:"number",min:0,max:.5,dflt:.25,editType:"calc"},notchspan:{valType:"data_array",editType:"calc"},boxpoints:{valType:"enumerated",values:["all","outliers","suspectedoutliers",!1],editType:"calc"},jitter:{valType:"number",min:0,max:1,editType:"calc"},pointpos:{valType:"number",min:-2,max:2,editType:"calc"},sdmultiple:{valType:"number",min:0,editType:"calc",dflt:1},sizemode:{valType:"enumerated",values:["quartiles","sd"],editType:"calc",dflt:"quartiles"},boxmean:{valType:"enumerated",values:[!0,"sd",!1],editType:"calc"},mean:{valType:"data_array",editType:"calc"},sd:{valType:"data_array",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},quartilemethod:{valType:"enumerated",values:["linear","exclusive","inclusive"],dflt:"linear",editType:"calc"},width:{valType:"number",min:0,dflt:0,editType:"calc"},marker:{outliercolor:{valType:"color",dflt:"rgba(0, 0, 0, 0)",editType:"style"},symbol:y({},c.symbol,{arrayOk:!1,editType:"plot"}),opacity:y({},c.opacity,{arrayOk:!1,dflt:1,editType:"style"}),angle:y({},c.angle,{arrayOk:!1,editType:"calc"}),size:y({},c.size,{arrayOk:!1,editType:"calc"}),color:y({},c.color,{arrayOk:!1,editType:"style"}),line:{color:y({},i.color,{arrayOk:!1,dflt:f.defaultLine,editType:"style"}),width:y({},i.width,{arrayOk:!1,dflt:0,editType:"style"}),outliercolor:{valType:"color",editType:"style"},outlierwidth:{valType:"number",min:0,dflt:1,editType:"style"},editType:"style"},editType:"plot"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,dflt:2,editType:"style"},editType:"plot"},fillcolor:D.fillcolor,whiskerwidth:{valType:"number",min:0,max:1,dflt:.5,editType:"calc"},showwhiskers:{valType:"boolean",editType:"calc"},offsetgroup:E.offsetgroup,alignmentgroup:E.alignmentgroup,selected:{marker:D.selected.marker,editType:"style"},unselected:{marker:D.unselected.marker,editType:"style"},text:y({},D.text,{}),hovertext:y({},D.hovertext,{}),hovertemplate:M({}),hoveron:{valType:"flaglist",flags:["boxes","points"],dflt:"boxes+points",editType:"style"}}},48518:function(ae,B,r){"use strict";var D=r(92770),E=r(89298),f=r(42973),k=r(71828),M=r(50606).BADNUM,y=k._;ae.exports=function(p,T){var _,m,w,x,b,A,g,I=p._fullLayout,S=E.getFromId(p,T.xaxis||"x"),O=E.getFromId(p,T.yaxis||"y"),R=[],L="violin"===T.type?"_numViolins":"_numBoxes";"h"===T.orientation?(w=S,x="x",b=O,A="y",g=!!T.yperiodalignment):(w=O,x="y",b=S,A="x",g=!!T.xperiodalignment);var N,j,X,F,Y,G,H=function(We,Ge,Ke,et){var at,mt=Ge+"0"in We;if(Ge in We||mt&&"d"+Ge in We){var ct=Ke.makeCalcdata(We,Ge);return[f(We,Ke,Ge,ct).vals,ct]}at=mt?We[Ge+"0"]:"name"in We&&("category"===Ke.type||D(We.name)&&-1!==["linear","log"].indexOf(Ke.type)||k.isDateTime(We.name)&&"date"===Ke.type)?We.name:et;for(var kt="multicategory"===Ke.type?Ke.r2c_just_indices(at):Ke.d2c(at,0,We[Ge+"calendar"]),Dt=We._length,Et=new Array(Dt),ht=0;ht<Dt;ht++)Et[ht]=kt;return[Et]}(T,A,b,I[L]),W=H[0],Z=H[1],se=k.distinctVals(W,b),re=se.vals,ne=se.minDiff/2,Q="all"===(T.boxpoints||T.points)?k.identity:function(We){return We.v<N.lf||We.v>N.uf};if(T._hasPreCompStats){var ee=T[x],oe=function(We){return w.d2c((T[We]||[])[_])},ce=1/0,fe=-1/0;for(_=0;_<T._length;_++){var le=W[_];if(D(le)){if((N={}).pos=N[A]=le,g&&Z&&(N.orig_p=Z[_]),N.q1=oe("q1"),N.med=oe("median"),N.q3=oe("q3"),j=[],ee&&k.isArrayOrTypedArray(ee[_]))for(m=0;m<ee[_].length;m++)(G=w.d2c(ee[_][m]))!==M&&(i(Y={v:G,i:[_,m]},T,[_,m]),j.push(Y));if(N.pts=j.sort(s),F=(X=N[x]=j.map(a)).length,N.med!==M&&N.q1!==M&&N.q3!==M&&N.med>=N.q1&&N.q3>=N.med){var pe=oe("lowerfence");N.lf=pe!==M&&pe<=N.q1?pe:o(N,X,F);var Me=oe("upperfence");N.uf=Me!==M&&Me>=N.q3?Me:l(N,X,F);var Ae=oe("mean");N.mean=Ae!==M?Ae:F?k.mean(X,F):(N.q1+N.q3)/2;var be=oe("sd");N.sd=Ae!==M&&be>=0?be:F?k.stdev(X,F,N.mean):N.q3-N.q1,N.lo=u(N),N.uo=h(N);var ye=oe("notchspan");ye=ye!==M&&ye>0?ye:v(N,F),N.ln=N.med-ye,N.un=N.med+ye;var we=N.lf,ze=N.uf;T.boxpoints&&X.length&&(we=Math.min(we,X[0]),ze=Math.max(ze,X[F-1])),T.notched&&(we=Math.min(we,N.ln),ze=Math.max(ze,N.un)),N.min=we,N.max=ze}else{var Se;k.warn(["Invalid input - make sure that q1 <= median <= q3","q1 = "+N.q1,"median = "+N.med,"q3 = "+N.q3].join("\n")),N.med=Se=N.med!==M?N.med:N.q1!==M?N.q3!==M?(N.q1+N.q3)/2:N.q1:N.q3!==M?N.q3:0,N.q1=N.q3=Se,N.lf=N.uf=Se,N.mean=N.sd=Se,N.ln=N.un=Se,N.min=N.max=Se}ce=Math.min(ce,N.min),fe=Math.max(fe,N.max),N.pts2=j.filter(Q),R.push(N)}}T._extremes[w._id]=E.findExtremes(w,[ce,fe],{padded:!0})}else{var Ce=w.makeCalcdata(T,x),ge=function(We,Ge){for(var Ke=We.length,et=new Array(Ke+1),at=0;at<Ke;at++)et[at]=We[at]-Ge;return et[Ke]=We[Ke-1]+Ge,et}(re,ne),he=re.length,_e=function(We){for(var Ge=new Array(We),Ke=0;Ke<We;Ke++)Ge[Ke]=[];return Ge}(he);for(_=0;_<T._length;_++)if(D(G=Ce[_])){var Le=k.findBin(W[_],ge);Le>=0&&Le<he&&(i(Y={v:G,i:_},T,_),_e[Le].push(Y))}var Ie=1/0,De=-1/0,je=T.quartilemethod,qe="exclusive"===je,ve="inclusive"===je;for(_=0;_<he;_++)if(_e[_].length>0){var Oe,ke;(N={}).pos=N[A]=re[_],j=N.pts=_e[_].sort(s),F=(X=N[x]=j.map(a)).length,N.min=X[0],N.max=X[F-1],N.mean=k.mean(X,F),N.sd=k.stdev(X,F,N.mean)*T.sdmultiple,N.med=k.interp(X,.5),F%2&&(qe||ve)?(qe?(Oe=X.slice(0,F/2),ke=X.slice(F/2+1)):ve&&(Oe=X.slice(0,F/2+1),ke=X.slice(F/2)),N.q1=k.interp(Oe,.5),N.q3=k.interp(ke,.5)):(N.q1=k.interp(X,.25),N.q3=k.interp(X,.75)),N.lf=o(N,X,F),N.uf=l(N,X,F),N.lo=u(N),N.uo=h(N);var Be=v(N,F);N.ln=N.med-Be,N.un=N.med+Be,Ie=Math.min(Ie,N.ln),De=Math.max(De,N.un),N.pts2=j.filter(Q),R.push(N)}T._extremes[w._id]=E.findExtremes(w,T.notched?Ce.concat([Ie,De]):Ce,{padded:!0})}return function(We,Ge){if(k.isArrayOrTypedArray(Ge.selectedpoints))for(var Ke=0;Ke<We.length;Ke++){for(var et=We[Ke].pts||[],at={},mt=0;mt<et.length;mt++)at[et[mt].i]=mt;k.tagSelected(et,Ge,at)}}(R,T),R.length>0?(R[0].t={num:I[L],dPos:ne,posLetter:A,valLetter:x,labels:{med:y(p,"median:"),min:y(p,"min:"),q1:y(p,"q1:"),q3:y(p,"q3:"),max:y(p,"max:"),mean:"sd"===T.boxmean||"sd"===T.sizemode?y(p,"mean \xb1 \u03c3:").replace("\u03c3",1===T.sdmultiple?"\u03c3":T.sdmultiple+"\u03c3"):y(p,"mean:"),lf:y(p,"lower fence:"),uf:y(p,"upper fence:")}},I[L]++,R):[{t:{empty:!0}}]};var c={text:"tx",hovertext:"htx"};function i(p,T,_){for(var m in c)k.isArrayOrTypedArray(T[m])&&(Array.isArray(_)?k.isArrayOrTypedArray(T[m][_[0]])&&(p[c[m]]=T[m][_[0]][_[1]]):p[c[m]]=T[m][_])}function s(p,T){return p.v-T.v}function a(p){return p.v}function o(p,T,_){return 0===_?p.q1:Math.min(p.q1,T[Math.min(k.findBin(2.5*p.q1-1.5*p.q3,T,!0)+1,_-1)])}function l(p,T,_){return 0===_?p.q3:Math.max(p.q3,T[Math.max(k.findBin(2.5*p.q3-1.5*p.q1,T),0)])}function u(p){return 4*p.q1-3*p.q3}function h(p){return 4*p.q3-3*p.q1}function v(p,T){return 0===T?0:1.57*(p.q3-p.q1)/Math.sqrt(T)}},37188:function(ae,B,r){"use strict";var D=r(89298),E=r(71828),f=r(99082).getAxisGroup,k=["v","h"];function M(y,c,i,s){var a,o,l,u=c.calcdata,h=c._fullLayout,v=s._id,p=v.charAt(0),T=[],_=0;for(a=0;a<i.length;a++)for(l=u[i[a]],o=0;o<l.length;o++)T.push(s.c2l(l[o].pos,!0)),_+=(l[o].pts2||[]).length;if(T.length){var m=E.distinctVals(T);"category"!==s.type&&"multicategory"!==s.type||(m.minDiff=1);var w=m.minDiff/2;D.minDtick(s,m.minDiff,m.vals[0],!0);var x=h["violin"===y?"_numViolins":"_numBoxes"],b="group"===h[y+"mode"]&&x>1,A=1-h[y+"gap"],g=1-h[y+"groupgap"];for(a=0;a<i.length;a++){var I,S,O,R,L,N,j=(l=u[i[a]])[0].trace,X=l[0].t,F=j.width,Y=j.side;if(F)I=S=R=F/2,O=0;else if(I=w,b){var G=f(h,s._id)+j.orientation,W=Object.keys(((h._alignmentOpts[G]||{})[j.alignmentgroup]||{}).offsetGroups||{}).length,Z=W||x;S=I*A*g/Z,O=2*I*(((W?j._offsetIndex:X.num)+.5)/Z-.5)*A,R=I*A/Z}else S=I*A*g,O=0,R=I;X.dPos=I,X.bPos=O,X.bdPos=S,X.wHover=R;var se,re,ne,Q,ee,oe,ce=O+S,fe=!!F;if("positive"===Y?(L=I*(F?1:.5),se=ce,N=se=O):"negative"===Y?(L=se=O,N=I*(F?1:.5),re=ce):(L=N=I,se=re=ce),(j.boxpoints||j.points)&&_>0){var le=j.pointpos,pe=j.jitter,Me=j.marker.size/2,Ae=0;le+pe>=0&&((Ae=ce*(le+pe))>L?(fe=!0,ee=Me,ne=Ae):Ae>se&&(ee=Me,ne=L)),Ae<=L&&(ne=L);var be=0;le-pe<=0&&((be=-ce*(le-pe))>N?(fe=!0,oe=Me,Q=be):be>re&&(oe=Me,Q=N)),be<=N&&(Q=N)}else ne=L,Q=N;var ye=new Array(l.length);for(o=0;o<l.length;o++)ye[o]=l[o].pos;j._extremes[v]=D.findExtremes(s,ye,{padded:fe,vpadminus:Q,vpadplus:ne,vpadLinearized:!0,ppadminus:{x:oe,y:ee}[p],ppadplus:{x:ee,y:oe}[p]})}}}ae.exports={crossTraceCalc:function(y,c){for(var i=y.calcdata,s=c.xaxis,a=c.yaxis,o=0;o<k.length;o++){for(var l=k[o],u="h"===l?a:s,h=[],v=0;v<i.length;v++){var p=i[v],_=p[0].trace;!0!==_.visible||"box"!==_.type&&"candlestick"!==_.type||p[0].t.empty||(_.orientation||"v")!==l||_.xaxis!==s._id||_.yaxis!==a._id||h.push(v)}M("box",y,h,u)}},setPositionOffset:M}},36411:function(ae,B,r){"use strict";var D=r(71828),E=r(73972),f=r(7901),k=r(73927),M=r(26125),y=r(4322),c=r(53522);function i(a,o,l,u){function h(Y){var G=0;return Y&&Y.length&&(G+=1,D.isArrayOrTypedArray(Y[0])&&Y[0].length&&(G+=1)),G}function v(Y){return D.validate(a[Y],c[Y])}var p,T=l("y"),_=l("x");if("box"===o.type){var m=l("q1"),w=l("median"),x=l("q3");o._hasPreCompStats=m&&m.length&&w&&w.length&&x&&x.length,p=Math.min(D.minRowLength(m),D.minRowLength(w),D.minRowLength(x))}var b,A,g=h(T),I=h(_),S=g&&D.minRowLength(T),O=I&&D.minRowLength(_),R=u.calendar,L={autotypenumbers:u.autotypenumbers};if(o._hasPreCompStats)switch(String(I)+String(g)){case"00":var N=v("x0")||v("dx");b=!v("y0")&&!v("dy")||N?"v":"h",A=p;break;case"10":b="v",A=Math.min(p,O);break;case"20":b="h",A=Math.min(p,_.length);break;case"01":b="h",A=Math.min(p,S);break;case"02":b="v",A=Math.min(p,T.length);break;case"12":b="v",A=Math.min(p,O,T.length);break;case"21":b="h",A=Math.min(p,_.length,S);break;case"11":A=0;break;case"22":var j,X=!1;for(j=0;j<_.length;j++)if("category"===y(_[j],R,L)){X=!0;break}if(X)b="v",A=Math.min(p,O,T.length);else{for(j=0;j<T.length;j++)if("category"===y(T[j],R,L)){X=!0;break}X?(b="h",A=Math.min(p,_.length,S)):(b="v",A=Math.min(p,O,T.length))}}else g>0?(b="v",A=I>0?Math.min(O,S):Math.min(S)):I>0?(b="h",A=Math.min(O)):A=0;if(A){o._length=A;var F=l("orientation",b);o._hasPreCompStats?"v"===F&&0===I?(l("x0",0),l("dx",1)):"h"===F&&0===g&&(l("y0",0),l("dy",1)):"v"===F&&0===I?l("x0"):"h"===F&&0===g&&l("y0"),E.getComponentMethod("calendars","handleTraceDefaults")(a,o,["x","y"],u)}else o.visible=!1}function s(a,o,l,u){var h=u.prefix,v=D.coerce2(a,o,c,"marker.outliercolor"),p=l("marker.line.outliercolor"),T="outliers";o._hasPreCompStats?T="all":(v||p)&&(T="suspectedoutliers");var _=l(h+"points",T);_?(l("jitter","all"===_?.3:0),l("pointpos","all"===_?-1.5:0),l("marker.symbol"),l("marker.opacity"),l("marker.size"),l("marker.angle"),l("marker.color",o.line.color),l("marker.line.color"),l("marker.line.width"),"suspectedoutliers"===_&&(l("marker.line.outliercolor",o.marker.color),l("marker.line.outlierwidth")),l("selected.marker.color"),l("unselected.marker.color"),l("selected.marker.size"),l("unselected.marker.size"),l("text"),l("hovertext")):delete o.marker;var m=l("hoveron");"all"!==m&&-1===m.indexOf("points")||l("hovertemplate"),D.coerceSelectionMarkerOpacity(o,l)}ae.exports={supplyDefaults:function(a,o,l,u){function h(A,g){return D.coerce(a,o,c,A,g)}if(i(a,o,h,u),!1!==o.visible){k(a,o,u,h),h("xhoverformat"),h("yhoverformat");var v=o._hasPreCompStats;v&&(h("lowerfence"),h("upperfence")),h("line.color",(a.marker||{}).color||l),h("line.width"),h("fillcolor",f.addOpacity(o.line.color,.5));var p=!1;if(v){var T=h("mean"),_=h("sd");T&&T.length&&(p=!0,_&&_.length&&(p="sd"))}h("whiskerwidth");var m,w=h("sizemode");"quartiles"===w&&(m=h("boxmean",p)),h("showwhiskers","quartiles"===w),"sd"!==w&&"sd"!==m||h("sdmultiple"),h("width"),h("quartilemethod");var x=!1;if(v){var b=h("notchspan");b&&b.length&&(x=!0)}else D.validate(a.notchwidth,c.notchwidth)&&(x=!0);h("notched",x)&&h("notchwidth"),s(a,o,h,{prefix:"box"})}},crossTraceDefaults:function(a,o){var u;function h(T){return D.coerce(u._input,u,c,T)}for(var v=0;v<a.length;v++){var p=(u=a[v]).type;"box"!==p&&"violin"!==p||"group"===o[p+"mode"]&&M(u._input,u,o,h)}},handleSampleDefaults:i,handlePointsDefaults:s}},74907:function(ae){"use strict";ae.exports=function(B,r){return r.hoverOnBox&&(B.hoverOnBox=r.hoverOnBox),"xVal"in r&&(B.x=r.xVal),"yVal"in r&&(B.y=r.yVal),r.xa&&(B.xaxis=r.xa),r.ya&&(B.yaxis=r.ya),B}},41868:function(ae,B,r){"use strict";var D=r(89298),E=r(71828),f=r(30211),k=r(7901),M=E.fillText;function y(i,s,a,o){var l,u,h,v,p,T,_,m,w,x,b,A,g,I,S=i.cd,O=i.xa,R=i.ya,L=S[0].trace,N=S[0].t,j="violin"===L.type,X=N.bdPos,F=N.wHover,Y=function(Se){return h.c2l(Se.pos)+N.bPos-h.c2l(T)};j&&"both"!==L.side?("positive"===L.side&&(w=function(Se){var Ce=Y(Se);return f.inbox(Ce,Ce+F,x)},A=X,g=0),"negative"===L.side&&(w=function(Se){var Ce=Y(Se);return f.inbox(Ce-F,Ce,x)},A=0,g=X)):(w=function(Se){var Ce=Y(Se);return f.inbox(Ce-F,Ce+F,x)},A=g=X),I=j?function(Se){return f.inbox(Se.span[0]-p,Se.span[1]-p,x)}:function(Se){return f.inbox(Se.min-p,Se.max-p,x)},"h"===L.orientation?(p=s,T=a,_=I,m=w,l="y",h=R,u="x",v=O):(p=a,T=s,_=w,m=I,l="x",h=O,u="y",v=R);var G=Math.min(1,X/Math.abs(h.r2c(h.range[1])-h.r2c(h.range[0])));function H(Se){return(_(Se)+m(Se))/2}x=i.maxHoverDistance-G,b=i.maxSpikeDistance-G;var W=f.getDistanceFunction(o,_,m,H);if(f.getClosest(S,W,i),!1===i.index)return[];var Z=S[i.index],se=L.line.color,re=(L.marker||{}).color;i.color=k.opacity(se)&&L.line.width?se:k.opacity(re)&&L.boxpoints?re:L.fillcolor,i[l+"0"]=h.c2p(Z.pos+N.bPos-g,!0),i[l+"1"]=h.c2p(Z.pos+N.bPos+A,!0),i[l+"LabelVal"]=void 0!==Z.orig_p?Z.orig_p:Z.pos;var ne=l+"Spike";i.spikeDistance=H(Z)*b/x,i[ne]=h.c2p(Z.pos,!0);var Q=L.boxmean||"sd"===L.sizemode||(L.meanline||{}).visible,ee=L.boxpoints||L.points,oe=ee&&Q?["max","uf","q3","med","mean","q1","lf","min"]:ee&&!Q?["max","uf","q3","med","q1","lf","min"]:!ee&&Q?["max","q3","med","mean","q1","min"]:["max","q3","med","q1","min"];L.orientation===(v.range[1]<v.range[0]?"v":"h")&&oe.reverse();for(var fe=i.spikeDistance,le=i[ne],pe=[],Me=0;Me<oe.length;Me++){var Ae=oe[Me];if(Ae in Z){var be=Z[Ae],ye=v.c2p(be,!0),we=E.extendFlat({},i);we.attr=Ae,we[u+"0"]=we[u+"1"]=ye,we[u+"LabelVal"]=be,we[u+"Label"]=(N.labels?N.labels[Ae]+" ":"")+D.hoverLabelText(v,be,L[u+"hoverformat"]),we.hoverOnBox=!0,"mean"!==Ae||!("sd"in Z)||"sd"!==L.boxmean&&"sd"!==L.sizemode||(we[u+"err"]=Z.sd),we.hovertemplate=!1,pe.push(we)}}i.name="",i.spikeDistance=void 0,i[ne]=void 0;for(var ze=0;ze<pe.length;ze++)"med"!==pe[ze].attr?(pe[ze].name="",pe[ze].spikeDistance=void 0,pe[ze][ne]=void 0):(pe[ze].spikeDistance=fe,pe[ze][ne]=le);return pe}function c(i,s,a){for(var o,l,u,h=i.cd,v=i.xa,p=i.ya,T=h[0].trace,_=v.c2p(s),m=p.c2p(a),w=f.quadrature(function(j){var X=Math.max(3,j.mrc||0);return Math.max(Math.abs(v.c2p(j.x)-_)-X,1-3/X)},function(j){var X=Math.max(3,j.mrc||0);return Math.max(Math.abs(p.c2p(j.y)-m)-X,1-3/X)}),x=!1,b=0;b<h.length;b++){l=h[b];for(var A=0;A<(l.pts||[]).length;A++){var g=w(u=l.pts[A]);g<=i.distance&&(i.distance=g,x=[b,A])}}if(!x)return!1;u=(l=h[x[0]]).pts[x[1]];var I=v.c2p(u.x,!0),S=p.c2p(u.y,!0),O=u.mrc||1;o=E.extendFlat({},i,{index:u.i,color:(T.marker||{}).color,name:T.name,x0:I-O,x1:I+O,y0:S-O,y1:S+O,spikeDistance:i.distance,hovertemplate:T.hovertemplate});var R,L=l.orig_p,N=void 0!==L?L:l.pos;return"h"===T.orientation?(R=p,o.xLabelVal=u.x,o.yLabelVal=N):(R=v,o.xLabelVal=N,o.yLabelVal=u.y),o[R._id.charAt(0)+"Spike"]=R.c2p(l.pos,!0),M(u,T,o),o}ae.exports={hoverPoints:function(i,s,a,o){var l,u=i.cd[0].trace.hoveron,h=[];return-1!==u.indexOf("boxes")&&(h=h.concat(y(i,s,a,o))),-1!==u.indexOf("points")&&(l=c(i,s,a)),"closest"===o?l?[l]:h:(l&&h.push(l),h)},hoverOnBoxes:y,hoverOnPoints:c}},83832:function(ae,B,r){"use strict";ae.exports={attributes:r(53522),layoutAttributes:r(40094),supplyDefaults:r(36411).supplyDefaults,crossTraceDefaults:r(36411).crossTraceDefaults,supplyLayoutDefaults:r(4199).supplyLayoutDefaults,calc:r(48518),crossTraceCalc:r(37188).crossTraceCalc,plot:r(86047).plot,style:r(58063).style,styleOnSelect:r(58063).styleOnSelect,hoverPoints:r(41868).hoverPoints,eventData:r(74907),selectPoints:r(24626),moduleType:"trace",name:"box",basePlotModule:r(93612),categories:["cartesian","svg","symbols","oriented","box-violin","showLegend","boxLayout","zoomScale"],meta:{}}},40094:function(ae){"use strict";ae.exports={boxmode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},boxgap:{valType:"number",min:0,max:1,dflt:.3,editType:"calc"},boxgroupgap:{valType:"number",min:0,max:1,dflt:.3,editType:"calc"}}},4199:function(ae,B,r){"use strict";var D=r(73972),E=r(71828),f=r(40094);function k(M,y,c,i,s){for(var a=s+"Layout",o=!1,l=0;l<c.length;l++)if(D.traceIs(c[l],a)){o=!0;break}o&&(i(s+"mode"),i(s+"gap"),i(s+"groupgap"))}ae.exports={supplyLayoutDefaults:function(M,y,c){k(0,0,c,function(i,s){return E.coerce(M,y,f,i,s)},"box")},_supply:k}},86047:function(ae,B,r){"use strict";var D=r(39898),E=r(71828),f=r(91424);function k(c,i,s,a,o){var l,u,h="h"===s.orientation,v=i.val,p=i.pos,T=!!p.rangebreaks,_=a.bPos,m=a.wdPos||0,w=a.bPosPxOffset||0,x=s.whiskerwidth||0,b=!1!==s.showwhiskers,A=s.notched||!1,g=A?1-2*s.notchwidth:1;Array.isArray(a.bdPos)?(l=a.bdPos[0],u=a.bdPos[1]):(l=a.bdPos,u=a.bdPos);var I=c.selectAll("path.box").data("violin"!==s.type||s.box.visible?E.identity:[]);I.enter().append("path").style("vector-effect",o?"none":"non-scaling-stroke").attr("class","box"),I.exit().remove(),I.each(function(S){if(S.empty)return D.select(this).attr("d","M0,0Z");var O=p.c2l(S.pos+_,!0),R=p.l2p(O-l)+w,L=p.l2p(O+u)+w,N=T?(R+L)/2:p.l2p(O)+w,j=s.whiskerwidth,X=T?R*j+(1-j)*N:p.l2p(O-m)+w,F=T?L*j+(1-j)*N:p.l2p(O+m)+w,Y=p.l2p(O-l*g)+w,G=p.l2p(O+u*g)+w,H="sd"===s.sizemode,W=v.c2p(H?S.mean-S.sd:S.q1,!0),Z=v.c2p(H?S.mean+S.sd:S.q3,!0),se=E.constrain(v.c2p(H?S.mean:S.med,!0),Math.min(W,Z)+1,Math.max(W,Z)-1),re=void 0===S.lf||!1===s.boxpoints||H,ne=v.c2p(re?S.min:S.lf,!0),Q=v.c2p(re?S.max:S.uf,!0),ee=v.c2p(S.ln,!0),oe=v.c2p(S.un,!0);h?D.select(this).attr("d","M"+se+","+Y+"V"+G+"M"+W+","+R+"V"+L+(A?"H"+ee+"L"+se+","+G+"L"+oe+","+L:"")+"H"+Z+"V"+R+(A?"H"+oe+"L"+se+","+Y+"L"+ee+","+R:"")+"Z"+(b?"M"+W+","+N+"H"+ne+"M"+Z+","+N+"H"+Q+(0===x?"":"M"+ne+","+X+"V"+F+"M"+Q+","+X+"V"+F):"")):D.select(this).attr("d","M"+Y+","+se+"H"+G+"M"+R+","+W+"H"+L+(A?"V"+ee+"L"+G+","+se+"L"+L+","+oe:"")+"V"+Z+"H"+R+(A?"V"+oe+"L"+Y+","+se+"L"+R+","+ee:"")+"Z"+(b?"M"+N+","+W+"V"+ne+"M"+N+","+Z+"V"+Q+(0===x?"":"M"+X+","+ne+"H"+F+"M"+X+","+Q+"H"+F):""))})}function M(c,i,s,a){var o=i.x,l=i.y,u=a.bdPos,h=a.bPos,v=s.boxpoints||s.points;E.seedPseudoRandom();var p=c.selectAll("g.points").data(v?function(_){return _.forEach(function(m){m.t=a,m.trace=s}),_}:[]);p.enter().append("g").attr("class","points"),p.exit().remove();var T=p.selectAll("path").data(function(_){var m,w,x=_.pts2,b=Math.max((_.max-_.min)/10,_.q3-_.q1),A=1e-9*b,g=.01*b,I=[],S=0;if(s.jitter){if(0===b)for(S=1,I=new Array(x.length),m=0;m<x.length;m++)I[m]=1;else for(m=0;m<x.length;m++){var O=Math.max(0,m-5),R=x[O].v,L=Math.min(x.length-1,m+5),N=x[L].v;"all"!==v&&(x[m].v<_.lf?N=Math.min(N,_.lf):R=Math.max(R,_.uf));var j=Math.sqrt(g*(L-O)/(N-R+A))||0;j=E.constrain(Math.abs(j),0,1),I.push(j),S=Math.max(j,S)}w=2*s.jitter/(S||1)}for(m=0;m<x.length;m++){var X=x[m],F=X.v,Y=s.jitter?w*I[m]*(E.pseudoRandom()-.5):0,G=_.pos+h+u*(s.pointpos+Y);"h"===s.orientation?(X.y=G,X.x=F):(X.x=G,X.y=F),"suspectedoutliers"===v&&F<_.uo&&F>_.lo&&(X.so=!0)}return x});T.enter().append("path").classed("point",!0),T.exit().remove(),T.call(f.translatePoints,o,l)}function y(c,i,s,a){var o,l,u=i.val,h=i.pos,v=!!h.rangebreaks,p=a.bPos,T=a.bPosPxOffset||0,_=s.boxmean||(s.meanline||{}).visible;Array.isArray(a.bdPos)?(o=a.bdPos[0],l=a.bdPos[1]):(o=a.bdPos,l=a.bdPos);var m=c.selectAll("path.mean").data("box"===s.type&&s.boxmean||"violin"===s.type&&s.box.visible&&s.meanline.visible?E.identity:[]);m.enter().append("path").attr("class","mean").style({fill:"none","vector-effect":"non-scaling-stroke"}),m.exit().remove(),m.each(function(w){var x=h.c2l(w.pos+p,!0),b=h.l2p(x-o)+T,A=h.l2p(x+l)+T,g=v?(b+A)/2:h.l2p(x)+T,I=u.c2p(w.mean,!0),S=u.c2p(w.mean-w.sd,!0),O=u.c2p(w.mean+w.sd,!0);"h"===s.orientation?D.select(this).attr("d","M"+I+","+b+"V"+A+("sd"===_?"m0,0L"+S+","+g+"L"+I+","+b+"L"+O+","+g+"Z":"")):D.select(this).attr("d","M"+b+","+I+"H"+A+("sd"===_?"m0,0L"+g+","+S+"L"+b+","+I+"L"+g+","+O+"Z":""))})}ae.exports={plot:function(c,i,s,a){var o=c._context.staticPlot,l=i.xaxis,u=i.yaxis;E.makeTraceGroups(a,s,"trace boxes").each(function(h){var v,p,T=D.select(this),_=h[0],m=_.t,w=_.trace;m.wdPos=m.bdPos*w.whiskerwidth,!0!==w.visible||m.empty?T.remove():("h"===w.orientation?(v=u,p=l):(v=l,p=u),k(T,{pos:v,val:p},w,m,o),M(T,{x:l,y:u},w,m),y(T,{pos:v,val:p},w,m))})},plotBoxAndWhiskers:k,plotPoints:M,plotBoxMean:y}},24626:function(ae){"use strict";ae.exports=function(B,r){var D,E,f=B.cd,k=B.xaxis,M=B.yaxis,y=[];if(!1===r)for(D=0;D<f.length;D++)for(E=0;E<(f[D].pts||[]).length;E++)f[D].pts[E].selected=0;else for(D=0;D<f.length;D++)for(E=0;E<(f[D].pts||[]).length;E++){var c=f[D].pts[E],i=k.c2p(c.x),s=M.c2p(c.y);r.contains([i,s],null,c.i,B)?(y.push({pointNumber:c.i,x:k.c2d(c.x),y:M.c2d(c.y)}),c.selected=1):c.selected=0}return y}},58063:function(ae,B,r){"use strict";var D=r(39898),E=r(7901),f=r(91424);ae.exports={style:function(k,M,y){var c=y||D.select(k).selectAll("g.trace.boxes");c.style("opacity",function(i){return i[0].trace.opacity}),c.each(function(i){var s=D.select(this),a=i[0].trace,o=a.line.width;function l(v,p,T,_){v.style("stroke-width",p+"px").call(E.stroke,T).call(E.fill,_)}var u=s.selectAll("path.box");if("candlestick"===a.type)u.each(function(v){if(!v.empty){var p=D.select(this),T=a[v.dir];l(p,T.line.width,T.line.color,T.fillcolor),p.style("opacity",a.selectedpoints&&!v.selected?.3:1)}});else{l(u,o,a.line.color,a.fillcolor),s.selectAll("path.mean").style({"stroke-width":o,"stroke-dasharray":2*o+"px,"+o+"px"}).call(E.stroke,a.line.color);var h=s.selectAll("path.point");f.pointStyle(h,a,k)}})},styleOnSelect:function(k,M,y){var c=M[0].trace,i=y.selectAll("path.point");c.selectedpoints?f.selectedPointStyle(i,c):f.pointStyle(i,c,k)}}},75343:function(ae,B,r){"use strict";var D=r(71828).extendFlat,E=r(12663).axisHoverFormat,f=r(2522),k=r(53522);function M(y){return{line:{color:D({},k.line.color,{dflt:y}),width:k.line.width,editType:"style"},fillcolor:k.fillcolor,editType:"style"}}ae.exports={xperiod:f.xperiod,xperiod0:f.xperiod0,xperiodalignment:f.xperiodalignment,xhoverformat:E("x"),yhoverformat:E("y"),x:f.x,open:f.open,high:f.high,low:f.low,close:f.close,line:{width:D({},k.line.width,{}),editType:"style"},increasing:M(f.increasing.line.color.dflt),decreasing:M(f.decreasing.line.color.dflt),text:f.text,hovertext:f.hovertext,whiskerwidth:D({},k.whiskerwidth,{dflt:0}),hoverlabel:f.hoverlabel}},41197:function(ae,B,r){"use strict";var D=r(71828),E=r(89298),f=r(42973),k=r(3485).calcCommon;function M(y,c,i,s){return{min:i,q1:Math.min(y,s),med:s,q3:Math.max(y,s),max:c}}ae.exports=function(y,c){var i=y._fullLayout,s=E.getFromId(y,c.xaxis),a=E.getFromId(y,c.yaxis),o=s.makeCalcdata(c,"x"),l=f(c,s,"x",o).vals,u=k(y,c,o,l,a,M);return u.length?(D.extendFlat(u[0].t,{num:i._numBoxes,dPos:D.distinctVals(l).minDiff/2,posLetter:"x",valLetter:"y"}),i._numBoxes++,u):[{t:{empty:!0}}]}},1026:function(ae,B,r){"use strict";var D=r(71828),E=r(7901),f=r(14555),k=r(73927),M=r(75343);function y(c,i,s,a){var o=s(a+".line.color");s(a+".line.width",i.line.width),s(a+".fillcolor",E.addOpacity(o,.5))}ae.exports=function(c,i,s,a){function o(l,u){return D.coerce(c,i,M,l,u)}f(c,i,o,a)?(k(c,i,a,o,{x:!0}),o("xhoverformat"),o("yhoverformat"),o("line.width"),y(0,i,o,"increasing"),y(0,i,o,"decreasing"),o("text"),o("hovertext"),o("whiskerwidth"),a._requestRangeslider[i.xaxis]=!0):i.visible=!1}},91815:function(ae,B,r){"use strict";ae.exports={moduleType:"trace",name:"candlestick",basePlotModule:r(93612),categories:["cartesian","svg","showLegend","candlestick","boxLayout"],meta:{},attributes:r(75343),layoutAttributes:r(40094),supplyLayoutDefaults:r(4199).supplyLayoutDefaults,crossTraceCalc:r(37188).crossTraceCalc,supplyDefaults:r(1026),calc:r(41197),plot:r(86047).plot,layerName:"boxlayer",style:r(58063).style,hoverPoints:r(66449).hoverPoints,selectPoints:r(67324)}},13145:function(ae,B,r){"use strict";var D=r(11500),E=r(44467);ae.exports=function(f,k,M,y,c){var i,s,a,o;y("a")||(y("da"),y("a0")),y("b")||(y("db"),y("b0")),i=f,s=k,a=M,o=c,["aaxis","baxis"].forEach(function(l){var u=l.charAt(0),h=i[l]||{},v=E.newContainer(s,l);D(h,v,{noTicklabelstep:!0,tickfont:"x",id:u+"axis",letter:u,font:s.font,name:l,data:i[u],calendar:s.calendar,dfltColor:o,bgColor:a.paper_bgcolor,autotypenumbersDflt:a.autotypenumbers,fullLayout:a}),v._categories=v._categories||[],i[l]||"-"===h.type||(i[l]={type:h.type})})}},402:function(ae,B,r){"use strict";var D=r(71828).isArrayOrTypedArray;function E(f,k){if(!D(f)||k>=10)return null;for(var M=1/0,y=-1/0,c=f.length,i=0;i<c;i++){var s=f[i];if(D(s)){var a=E(s,k+1);a&&(M=Math.min(a[0],M),y=Math.max(a[1],y))}else M=Math.min(s,M),y=Math.max(s,y)}return[M,y]}ae.exports=function(f){return E(f,0)}},99798:function(ae,B,r){"use strict";var D=r(41940),E=r(1928),f=r(22399),k=D({editType:"calc"});k.family.dflt='"Open Sans", verdana, arial, sans-serif',k.size.dflt=12,k.color.dflt=f.defaultLine,ae.exports={carpet:{valType:"string",editType:"calc"},x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},a:{valType:"data_array",editType:"calc"},a0:{valType:"number",dflt:0,editType:"calc"},da:{valType:"number",dflt:1,editType:"calc"},b:{valType:"data_array",editType:"calc"},b0:{valType:"number",dflt:0,editType:"calc"},db:{valType:"number",dflt:1,editType:"calc"},cheaterslope:{valType:"number",dflt:1,editType:"calc"},aaxis:E,baxis:E,font:k,color:{valType:"color",dflt:f.defaultLine,editType:"plot"},transforms:void 0}},4536:function(ae,B,r){"use strict";var D=r(71828).isArrayOrTypedArray;ae.exports=function(E,f,k,M){var y,c,i,s,a,o,l,u,h,v,p,T,_,m=D(k)?"a":"b",w=("a"===m?E.aaxis:E.baxis).smoothing,x="a"===m?E.a2i:E.b2j,b="a"===m?k:M,A="a"===m?M:k,g="a"===m?f.a.length:f.b.length,I="a"===m?f.b.length:f.a.length,S=Math.floor("a"===m?E.b2j(A):E.a2i(A)),O="a"===m?function(se){return E.evalxy([],se,S)}:function(se){return E.evalxy([],S,se)};w&&(i=Math.max(0,Math.min(I-2,S)),s=S-i,c="a"===m?function(se,re){return E.dxydi([],se,i,re,s)}:function(se,re){return E.dxydj([],i,se,s,re)});var R=x(b[0]),L=x(b[1]),N=R<L?1:-1,j=1e-8*(L-R),X=N>0?Math.floor:Math.ceil,F=N>0?Math.ceil:Math.floor,Y=N>0?Math.min:Math.max,G=N>0?Math.max:Math.min,H=X(R+j),W=F(L-j),Z=[[l=O(R)]];for(y=H;y*N<W*N;y+=N)a=[],p=G(R,y),_=(T=Y(L,y+N))-p,o=Math.max(0,Math.min(g-2,Math.floor(.5*(p+T)))),u=O(T),w&&(h=c(o,p-o),v=c(o,T-o),a.push([l[0]+h[0]/3*_,l[1]+h[1]/3*_]),a.push([u[0]-v[0]/3*_,u[1]-v[1]/3*_])),a.push(u),Z.push(a),l=u;return Z}},1928:function(ae,B,r){"use strict";var D=r(41940),E=r(22399),f=r(13838),k=r(12663).descriptionWithDates,M=r(30962).overrideAll,y=r(79952).P,c=r(1426).extendFlat;ae.exports={color:{valType:"color",editType:"calc"},smoothing:{valType:"number",dflt:1,min:0,max:1.3,editType:"calc"},title:{text:{valType:"string",dflt:"",editType:"calc"},font:D({editType:"calc"}),offset:{valType:"number",dflt:10,editType:"calc"},editType:"calc"},type:{valType:"enumerated",values:["-","linear","date","category"],dflt:"-",editType:"calc"},autotypenumbers:f.autotypenumbers,autorange:{valType:"enumerated",values:[!0,!1,"reversed"],dflt:!0,editType:"calc"},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"calc"},range:{valType:"info_array",editType:"calc",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}]},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},cheatertype:{valType:"enumerated",values:["index","value"],dflt:"value",editType:"calc"},tickmode:{valType:"enumerated",values:["linear","array"],dflt:"array",editType:"calc"},nticks:{valType:"integer",min:0,dflt:0,editType:"calc"},tickvals:{valType:"data_array",editType:"calc"},ticktext:{valType:"data_array",editType:"calc"},showticklabels:{valType:"enumerated",values:["start","end","both","none"],dflt:"start",editType:"calc"},labelalias:c({},f.labelalias,{editType:"calc"}),tickfont:D({editType:"calc"}),tickangle:{valType:"angle",dflt:"auto",editType:"calc"},tickprefix:{valType:"string",dflt:"",editType:"calc"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},ticksuffix:{valType:"string",dflt:"",editType:"calc"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"calc"},minexponent:{valType:"number",dflt:3,min:0,editType:"calc"},separatethousands:{valType:"boolean",dflt:!1,editType:"calc"},tickformat:{valType:"string",dflt:"",editType:"calc",description:k("tick label")},tickformatstops:M(f.tickformatstops,"calc","from-root"),categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},labelpadding:{valType:"integer",dflt:10,editType:"calc"},labelprefix:{valType:"string",editType:"calc"},labelsuffix:{valType:"string",dflt:"",editType:"calc"},showline:{valType:"boolean",dflt:!1,editType:"calc"},linecolor:{valType:"color",dflt:E.defaultLine,editType:"calc"},linewidth:{valType:"number",min:0,dflt:1,editType:"calc"},gridcolor:{valType:"color",editType:"calc"},gridwidth:{valType:"number",min:0,dflt:1,editType:"calc"},griddash:c({},y,{editType:"calc"}),showgrid:{valType:"boolean",dflt:!0,editType:"calc"},minorgridcount:{valType:"integer",min:0,dflt:0,editType:"calc"},minorgridwidth:{valType:"number",min:0,dflt:1,editType:"calc"},minorgriddash:c({},y,{editType:"calc"}),minorgridcolor:{valType:"color",dflt:E.lightLine,editType:"calc"},startline:{valType:"boolean",editType:"calc"},startlinecolor:{valType:"color",editType:"calc"},startlinewidth:{valType:"number",dflt:1,editType:"calc"},endline:{valType:"boolean",editType:"calc"},endlinewidth:{valType:"number",dflt:1,editType:"calc"},endlinecolor:{valType:"color",editType:"calc"},tick0:{valType:"number",min:0,dflt:0,editType:"calc"},dtick:{valType:"number",min:0,dflt:1,editType:"calc"},arraytick0:{valType:"integer",min:0,dflt:0,editType:"calc"},arraydtick:{valType:"integer",min:1,dflt:1,editType:"calc"},_deprecated:{title:{valType:"string",editType:"calc"},titlefont:D({editType:"calc"}),titleoffset:{valType:"number",dflt:10,editType:"calc"}},editType:"calc"}},11500:function(ae,B,r){"use strict";var D=r(99798),E=r(7901).addOpacity,f=r(73972),k=r(71828),M=r(26218),y=r(96115),c=r(89426),i=r(15258),s=r(21994),a=r(4322);ae.exports=function(o,l,u){var h=u.letter,v=u.font||{},p=D[h+"axis"];function T(N,j){return k.coerce(o,l,p,N,j)}function _(N,j){return k.coerce2(o,l,p,N,j)}u.name&&(l._name=u.name,l._id=u.name),T("autotypenumbers",u.autotypenumbersDflt);var m=T("type");"-"===m&&(u.data&&function(N,j){if("-"===N.type){var X=N._id.charAt(0);N.type=a(j,N[X+"calendar"],{autotypenumbers:N.autotypenumbers})}}(l,u.data),"-"===l.type?l.type="linear":m=o.type=l.type),T("smoothing"),T("cheatertype"),T("showticklabels"),T("labelprefix",h+" = "),T("labelsuffix"),T("showtickprefix"),T("showticksuffix"),T("separatethousands"),T("tickformat"),T("exponentformat"),T("minexponent"),T("showexponent"),T("categoryorder"),T("tickmode"),T("tickvals"),T("ticktext"),T("tick0"),T("dtick"),"array"===l.tickmode&&(T("arraytick0"),T("arraydtick")),T("labelpadding"),l._hovertitle=h,"date"===m&&f.getComponentMethod("calendars","handleDefaults")(o,l,"calendar",u.calendar),s(l,u.fullLayout),l.c2p=k.identity;var w=T("color",u.dfltColor),x=w===o.color?w:v.color;T("title.text")&&(k.coerceFont(T,"title.font",{family:v.family,size:k.bigFont(v.size),color:x}),T("title.offset")),T("tickangle"),T("autorange",!l.isValidRange(o.range))&&T("rangemode"),T("range"),l.cleanRange(),T("fixedrange"),M(o,l,T,m),c(o,l,T,m,u),y(o,l,T,m,u),i(o,l,T,{data:u.data,dataAttr:h});var b=_("gridcolor",E(w,.3)),A=_("gridwidth"),g=_("griddash"),I=T("showgrid");I||(delete l.gridcolor,delete l.gridwidth,delete l.griddash);var S=_("startlinecolor",w),O=_("startlinewidth",A);T("startline",l.showgrid||!!S||!!O)||(delete l.startlinecolor,delete l.startlinewidth);var R=_("endlinecolor",w),L=_("endlinewidth",A);return T("endline",l.showgrid||!!R||!!L)||(delete l.endlinecolor,delete l.endlinewidth),I?(T("minorgridcount"),T("minorgridwidth",A),T("minorgriddash",g),T("minorgridcolor",E(b,.06)),l.minorgridcount||(delete l.minorgridwidth,delete l.minorgriddash,delete l.minorgridcolor)):(delete l.gridcolor,delete l.gridwidth,delete l.griddash),"none"===l.showticklabels&&(delete l.tickfont,delete l.tickangle,delete l.showexponent,delete l.exponentformat,delete l.minexponent,delete l.tickformat,delete l.showticksuffix,delete l.showtickprefix),l.showticksuffix||delete l.ticksuffix,l.showtickprefix||delete l.tickprefix,T("tickmode"),l}},25281:function(ae,B,r){"use strict";var D=r(89298),E=r(71828).isArray1D,f=r(53824),k=r(402),M=r(20347),y=r(83311),c=r(44807),i=r(4742),s=r(72505),a=r(68296),o=r(11435);ae.exports=function(l,u){var h=D.getFromId(l,u.xaxis),v=D.getFromId(l,u.yaxis),p=u.aaxis,T=u.baxis,_=u.x,m=u.y,w=[];_&&E(_)&&w.push("x"),m&&E(m)&&w.push("y"),w.length&&a(u,p,T,"a","b",w);var x=u._a=u._a||u.a,b=u._b=u._b||u.b;_=u._x||u.x,m=u._y||u.y;var A={};u._cheater&&(_=f("index"===p.cheatertype?x.length:x,"index"===T.cheatertype?b.length:b,u.cheaterslope)),u._x=_=i(_),u._y=m=i(m),s(_,x,b),s(m,x,b),o(u),u.setScale();var S=k(_),O=k(m),R=.5*(S[1]-S[0]),L=.5*(S[1]+S[0]),N=.5*(O[1]-O[0]),j=.5*(O[1]+O[0]),X=1.3;return O=[j-N*X,j+N*X],u._extremes[h._id]=D.findExtremes(h,S=[L-R*X,L+R*X],{padded:!0}),u._extremes[v._id]=D.findExtremes(v,O,{padded:!0}),M(u,"a","b"),M(u,"b","a"),y(u,p),y(u,T),A.clipsegments=c(u._xctrl,u._yctrl,p,T),A.x=_,A.y=m,A.a=x,A.b=b,[A]}},44807:function(ae){"use strict";ae.exports=function(B,r,D,E){var f,k,M,y=[],c=!!D.smoothing,i=!!E.smoothing,s=B[0].length-1,a=B.length-1;for(f=0,k=[],M=[];f<=s;f++)k[f]=B[0][f],M[f]=r[0][f];for(y.push({x:k,y:M,bicubic:c}),f=0,k=[],M=[];f<=a;f++)k[f]=B[f][s],M[f]=r[f][s];for(y.push({x:k,y:M,bicubic:i}),f=s,k=[],M=[];f>=0;f--)k[s-f]=B[a][f],M[s-f]=r[a][f];for(y.push({x:k,y:M,bicubic:c}),f=a,k=[],M=[];f>=0;f--)k[a-f]=B[f][0],M[a-f]=r[f][0];return y.push({x:k,y:M,bicubic:i}),y}},20347:function(ae,B,r){"use strict";var D=r(89298),E=r(1426).extendFlat;ae.exports=function(f,k,M){var y,c,i,s,a,o,l,u,h,v,p,T,_,m,w=f["_"+k],x=f[k+"axis"],b=x._gridlines=[],A=x._minorgridlines=[],g=x._boundarylines=[],I=f["_"+M],S=f[M+"axis"];"array"===x.tickmode&&(x.tickvals=w.slice());var O=f._xctrl,R=f._yctrl,L=O[0].length,N=O.length,j=f._a.length,X=f._b.length;D.prepTicks(x),"array"===x.tickmode&&delete x.tickvals;var F=x.smoothing?3:1;function Y(H){var W,Z,se,re,ne,Q,ee,oe,ce,fe,le,pe,Me=[],Ae=[],be={};if("b"===k)for(Z=f.b2j(H),se=Math.floor(Math.max(0,Math.min(X-2,Z))),re=Z-se,be.length=X,be.crossLength=j,be.xy=function(ye){return f.evalxy([],ye,Z)},be.dxy=function(ye,we){return f.dxydi([],ye,se,we,re)},W=0;W<j;W++)Q=Math.min(j-2,W),ee=W-Q,oe=f.evalxy([],W,Z),S.smoothing&&W>0&&(ce=f.dxydi([],W-1,se,0,re),Me.push(ne[0]+ce[0]/3),Ae.push(ne[1]+ce[1]/3),fe=f.dxydi([],W-1,se,1,re),Me.push(oe[0]-fe[0]/3),Ae.push(oe[1]-fe[1]/3)),Me.push(oe[0]),Ae.push(oe[1]),ne=oe;else for(W=f.a2i(H),Q=Math.floor(Math.max(0,Math.min(j-2,W))),ee=W-Q,be.length=j,be.crossLength=X,be.xy=function(ye){return f.evalxy([],W,ye)},be.dxy=function(ye,we){return f.dxydj([],Q,ye,ee,we)},Z=0;Z<X;Z++)se=Math.min(X-2,Z),re=Z-se,oe=f.evalxy([],W,Z),S.smoothing&&Z>0&&(le=f.dxydj([],Q,Z-1,ee,0),Me.push(ne[0]+le[0]/3),Ae.push(ne[1]+le[1]/3),pe=f.dxydj([],Q,Z-1,ee,1),Me.push(oe[0]-pe[0]/3),Ae.push(oe[1]-pe[1]/3)),Me.push(oe[0]),Ae.push(oe[1]),ne=oe;return be.axisLetter=k,be.axis=x,be.crossAxis=S,be.value=H,be.constvar=M,be.index=u,be.x=Me,be.y=Ae,be.smoothing=S.smoothing,be}function G(H){var W,Z,se,re,ne,Q=[],ee=[],oe={};if(oe.length=w.length,oe.crossLength=I.length,"b"===k)for(se=Math.max(0,Math.min(X-2,H)),ne=Math.min(1,Math.max(0,H-se)),oe.xy=function(ce){return f.evalxy([],ce,H)},oe.dxy=function(ce,fe){return f.dxydi([],ce,se,fe,ne)},W=0;W<L;W++)Q[W]=O[H*F][W],ee[W]=R[H*F][W];else for(Z=Math.max(0,Math.min(j-2,H)),re=Math.min(1,Math.max(0,H-Z)),oe.xy=function(ce){return f.evalxy([],H,ce)},oe.dxy=function(ce,fe){return f.dxydj([],Z,ce,re,fe)},W=0;W<N;W++)Q[W]=O[W][H*F],ee[W]=R[W][H*F];return oe.axisLetter=k,oe.axis=x,oe.crossAxis=S,oe.value=w[H],oe.constvar=M,oe.index=H,oe.x=Q,oe.y=ee,oe.smoothing=S.smoothing,oe}if("array"===x.tickmode){for(s=5e-15,o=(a=[Math.floor((w.length-1-x.arraytick0)/x.arraydtick*(1+s)),Math.ceil(-x.arraytick0/x.arraydtick/(1+s))].sort(function(H,W){return H-W}))[0]-1,l=a[1]+1,u=o;u<l;u++)(c=x.arraytick0+x.arraydtick*u)<0||c>w.length-1||b.push(E(G(c),{color:x.gridcolor,width:x.gridwidth,dash:x.griddash}));for(u=o;u<l;u++)if(i=x.arraytick0+x.arraydtick*u,p=Math.min(i+x.arraydtick,w.length-1),!(i<0||i>w.length-1||p<0||p>w.length-1))for(T=w[i],_=w[p],y=0;y<x.minorgridcount;y++)(m=p-i)<=0||(v=T+(_-T)*(y+1)/(x.minorgridcount+1)*(x.arraydtick/m))<w[0]||v>w[w.length-1]||A.push(E(Y(v),{color:x.minorgridcolor,width:x.minorgridwidth,dash:x.minorgriddash}));x.startline&&g.push(E(G(0),{color:x.startlinecolor,width:x.startlinewidth})),x.endline&&g.push(E(G(w.length-1),{color:x.endlinecolor,width:x.endlinewidth}))}else{for(s=5e-15,o=(a=[Math.floor((w[w.length-1]-x.tick0)/x.dtick*(1+s)),Math.ceil((w[0]-x.tick0)/x.dtick/(1+s))].sort(function(H,W){return H-W}))[0],l=a[1],u=o;u<=l;u++)b.push(E(Y(h=x.tick0+x.dtick*u),{color:x.gridcolor,width:x.gridwidth,dash:x.griddash}));for(u=o-1;u<l+1;u++)for(h=x.tick0+x.dtick*u,y=0;y<x.minorgridcount;y++)(v=h+x.dtick*(y+1)/(x.minorgridcount+1))<w[0]||v>w[w.length-1]||A.push(E(Y(v),{color:x.minorgridcolor,width:x.minorgridwidth,dash:x.minorgriddash}));x.startline&&g.push(E(Y(w[0]),{color:x.startlinecolor,width:x.startlinewidth})),x.endline&&g.push(E(Y(w[w.length-1]),{color:x.endlinecolor,width:x.endlinewidth}))}}},83311:function(ae,B,r){"use strict";var D=r(89298),E=r(1426).extendFlat;ae.exports=function(f,k){var M,y,c,i=k._labels=[],s=k._gridlines;for(M=0;M<s.length;M++)c=s[M],-1!==["start","both"].indexOf(k.showticklabels)&&(y=D.tickText(k,c.value),E(y,{prefix:void 0,suffix:void 0,endAnchor:!0,xy:c.xy(0),dxy:c.dxy(0,0),axis:c.axis,length:c.crossAxis.length,font:c.axis.tickfont,isFirst:0===M,isLast:M===s.length-1}),i.push(y)),-1!==["end","both"].indexOf(k.showticklabels)&&(y=D.tickText(k,c.value),E(y,{endAnchor:!1,xy:c.xy(c.crossLength-1),dxy:c.dxy(c.crossLength-2,1),axis:c.axis,length:c.crossAxis.length,font:c.axis.tickfont,isFirst:0===M,isLast:M===s.length-1}),i.push(y))}},42048:function(ae){"use strict";ae.exports=function(B,r,D,E){var f=B[0]-r[0],k=B[1]-r[1],M=D[0]-r[0],y=D[1]-r[1],c=Math.pow(f*f+k*k,.25),i=Math.pow(M*M+y*y,.25),s=(i*i*f-c*c*M)*E,a=(i*i*k-c*c*y)*E,o=i*(c+i)*3,l=c*(c+i)*3;return[[r[0]+(o&&s/o),r[1]+(o&&a/o)],[r[0]-(l&&s/l),r[1]-(l&&a/l)]]}},53824:function(ae,B,r){"use strict";var D=r(71828).isArrayOrTypedArray;ae.exports=function(E,f,k){var M,y,c,i,s,a,o=[],l=D(E)?E.length:E,u=D(f)?f.length:f,h=D(E)?E:null,v=D(f)?f:null;h&&(c=(h.length-1)/(h[h.length-1]-h[0])/(l-1)),v&&(i=(v.length-1)/(v[v.length-1]-v[0])/(u-1));var p=1/0,T=-1/0;for(y=0;y<u;y++)for(o[y]=[],s=v?(v[y]-v[0])*i:y/(u-1),M=0;M<l;M++)a=(h?(h[M]-h[0])*c:M/(l-1))-s*k,p=Math.min(a,p),T=Math.max(a,T),o[y][M]=a;var _=1/(T-p),m=-p*_;for(y=0;y<u;y++)for(M=0;M<l;M++)o[y][M]=_*o[y][M]+m;return o}},45664:function(ae,B,r){"use strict";var D=r(42048),E=r(71828).ensureArray;function f(k,M,y){return[(2*(-.5*y[0]+1.5*M[0])+k[0])/3,(2*(-.5*y[1]+1.5*M[1])+k[1])/3]}ae.exports=function(k,M,y,c,i,s){var a,o,l,u,h,v,p,T,_,m,w=y[0].length,x=y.length,b=i?3*w-2:w,A=s?3*x-2:x;for(k=E(k,A),M=E(M,A),l=0;l<A;l++)k[l]=E(k[l],b),M[l]=E(M[l],b);for(o=0,u=0;o<x;o++,u+=s?3:1)for(h=k[u],v=M[u],p=y[o],T=c[o],a=0,l=0;a<w;a++,l+=i?3:1)h[l]=p[a],v[l]=T[a];if(i)for(o=0,u=0;o<x;o++,u+=s?3:1){for(a=1,l=3;a<w-1;a++,l+=3)_=D([y[o][a-1],c[o][a-1]],[y[o][a],c[o][a]],[y[o][a+1],c[o][a+1]],i),k[u][l-1]=_[0][0],M[u][l-1]=_[0][1],k[u][l+1]=_[1][0],M[u][l+1]=_[1][1];m=f([k[u][0],M[u][0]],[k[u][2],M[u][2]],[k[u][3],M[u][3]]),k[u][1]=m[0],M[u][1]=m[1],m=f([k[u][b-1],M[u][b-1]],[k[u][b-3],M[u][b-3]],[k[u][b-4],M[u][b-4]]),k[u][b-2]=m[0],M[u][b-2]=m[1]}if(s)for(l=0;l<b;l++){for(u=3;u<A-3;u+=3)_=D([k[u-3][l],M[u-3][l]],[k[u][l],M[u][l]],[k[u+3][l],M[u+3][l]],s),k[u-1][l]=_[0][0],M[u-1][l]=_[0][1],k[u+1][l]=_[1][0],M[u+1][l]=_[1][1];m=f([k[0][l],M[0][l]],[k[2][l],M[2][l]],[k[3][l],M[3][l]]),k[1][l]=m[0],M[1][l]=m[1],m=f([k[A-1][l],M[A-1][l]],[k[A-3][l],M[A-3][l]],[k[A-4][l],M[A-4][l]]),k[A-2][l]=m[0],M[A-2][l]=m[1]}if(i&&s)for(u=1;u<A;u+=(u+1)%3==0?2:1){for(l=3;l<b-3;l+=3)_=D([k[u][l-3],M[u][l-3]],[k[u][l],M[u][l]],[k[u][l+3],M[u][l+3]],i),k[u][l-1]=.5*(k[u][l-1]+_[0][0]),M[u][l-1]=.5*(M[u][l-1]+_[0][1]),k[u][l+1]=.5*(k[u][l+1]+_[1][0]),M[u][l+1]=.5*(M[u][l+1]+_[1][1]);m=f([k[u][0],M[u][0]],[k[u][2],M[u][2]],[k[u][3],M[u][3]]),k[u][1]=.5*(k[u][1]+m[0]),M[u][1]=.5*(M[u][1]+m[1]),m=f([k[u][b-1],M[u][b-1]],[k[u][b-3],M[u][b-3]],[k[u][b-4],M[u][b-4]]),k[u][b-2]=.5*(k[u][b-2]+m[0]),M[u][b-2]=.5*(M[u][b-2]+m[1])}return[k,M]}},35509:function(ae){"use strict";ae.exports={RELATIVE_CULL_TOLERANCE:1e-6}},54495:function(ae){"use strict";ae.exports=function(B,r,D){return r&&D?function(E,f,k,M,y){var c,o,l;E||(E=[]),f*=3,k*=3;var u=M*M,h=1-M,v=h*h,p=h*M*2,T=-3*v,_=3*(v-p),m=3*(p-u),w=3*u,x=y*y,b=x*y,A=1-y,g=A*A,I=g*A;for(l=0;l<B.length;l++)c=T*(o=B[l])[k][f]+_*o[k][f+1]+m*o[k][f+2]+w*o[k][f+3],E[l]=I*c+3*(g*y*(T*o[k+1][f]+_*o[k+1][f+1]+m*o[k+1][f+2]+w*o[k+1][f+3])+A*x*(T*o[k+2][f]+_*o[k+2][f+1]+m*o[k+2][f+2]+w*o[k+2][f+3]))+b*(T*o[k+3][f]+_*o[k+3][f+1]+m*o[k+3][f+2]+w*o[k+3][f+3]);return E}:r?function(E,f,k,M,y){var c,s,a;E||(E=[]),f*=3;var o=M*M,l=1-M,u=l*l,h=l*M*2,v=-3*u,p=3*(u-h),T=3*(h-o),_=3*o,m=1-y;for(s=0;s<B.length;s++)c=v*(a=B[s])[k][f]+p*a[k][f+1]+T*a[k][f+2]+_*a[k][f+3],E[s]=m*c+y*(v*a[k+1][f]+p*a[k+1][f+1]+T*a[k+1][f+2]+_*a[k+1][f+3]);return E}:D?function(E,f,k,M,y){var c,o,l;E||(E=[]),k*=3;var u=y*y,h=u*y,v=1-y,p=v*v,T=p*v;for(o=0;o<B.length;o++)c=(l=B[o])[k][f+1]-l[k][f],E[o]=T*c+3*(p*y*(l[k+1][f+1]-l[k+1][f])+v*u*(l[k+2][f+1]-l[k+2][f]))+h*(l[k+3][f+1]-l[k+3][f]);return E}:function(E,f,k,M,y){var c,s,a;E||(E=[]);var o=1-y;for(s=0;s<B.length;s++)c=(a=B[s])[k][f+1]-a[k][f],E[s]=o*c+y*(a[k+1][f+1]-a[k+1][f]);return E}}},73057:function(ae){"use strict";ae.exports=function(B,r,D){return r&&D?function(E,f,k,M,y){var c,o,l;E||(E=[]),f*=3,k*=3;var u=M*M,h=u*M,v=1-M,p=v*v,T=p*v,_=y*y,m=1-y,w=m*m,x=m*y*2,b=-3*w,A=3*(w-x),g=3*(x-_),I=3*_;for(l=0;l<B.length;l++)c=b*(o=B[l])[k][f]+A*o[k+1][f]+g*o[k+2][f]+I*o[k+3][f],E[l]=T*c+3*(p*M*(b*o[k][f+1]+A*o[k+1][f+1]+g*o[k+2][f+1]+I*o[k+3][f+1])+v*u*(b*o[k][f+2]+A*o[k+1][f+2]+g*o[k+2][f+2]+I*o[k+3][f+2]))+h*(b*o[k][f+3]+A*o[k+1][f+3]+g*o[k+2][f+3]+I*o[k+3][f+3]);return E}:r?function(E,f,k,M,y){var c,o,l;E||(E=[]),f*=3;var u=y*y,h=u*y,v=1-y,p=v*v,T=p*v;for(o=0;o<B.length;o++)c=(l=B[o])[k+1][f]-l[k][f],E[o]=T*c+3*(p*y*(l[k+1][f+1]-l[k][f+1])+v*u*(l[k+1][f+2]-l[k][f+2]))+h*(l[k+1][f+3]-l[k][f+3]);return E}:D?function(E,f,k,M,y){var c,s,a;E||(E=[]),k*=3;var o=1-M,l=y*y,u=1-y,h=u*u,v=u*y*2,p=-3*h,T=3*(h-v),_=3*(v-l),m=3*l;for(s=0;s<B.length;s++)c=p*(a=B[s])[k][f]+T*a[k+1][f]+_*a[k+2][f]+m*a[k+3][f],E[s]=o*c+M*(p*a[k][f+1]+T*a[k+1][f+1]+_*a[k+2][f+1]+m*a[k+3][f+1]);return E}:function(E,f,k,M,y){var c,s,a;E||(E=[]);var o=1-M;for(s=0;s<B.length;s++)c=(a=B[s])[k+1][f]-a[k][f],E[s]=o*c+M*(a[k+1][f+1]-a[k][f+1]);return E}}},20349:function(ae){"use strict";ae.exports=function(B,r,D,E,f){var k=r-2,M=D-2;return E&&f?function(y,c,i){var s,u,h;y||(y=[]);var v=Math.max(0,Math.min(Math.floor(c),k)),p=Math.max(0,Math.min(Math.floor(i),M)),T=Math.max(0,Math.min(1,c-v)),_=Math.max(0,Math.min(1,i-p));v*=3,p*=3;var m=T*T,w=m*T,x=1-T,b=x*x,A=b*x,g=_*_,I=g*_,S=1-_,O=S*S,R=O*S;for(h=0;h<B.length;h++)s=A*(u=B[h])[p][v]+3*(b*T*u[p][v+1]+x*m*u[p][v+2])+w*u[p][v+3],y[h]=R*s+3*(O*_*(A*u[p+1][v]+3*(b*T*u[p+1][v+1]+x*m*u[p+1][v+2])+w*u[p+1][v+3])+S*g*(A*u[p+2][v]+3*(b*T*u[p+2][v+1]+x*m*u[p+2][v+2])+w*u[p+2][v+3]))+I*(A*u[p+3][v]+3*(b*T*u[p+3][v+1]+x*m*u[p+3][v+2])+w*u[p+3][v+3]);return y}:E?function(y,c,i){y||(y=[]);var s,u,h,v=Math.max(0,Math.min(Math.floor(c),k)),p=Math.max(0,Math.min(Math.floor(i),M)),T=Math.max(0,Math.min(1,c-v)),_=Math.max(0,Math.min(1,i-p));v*=3;var m=T*T,w=m*T,x=1-T,b=x*x,A=b*x,g=1-_;for(u=0;u<B.length;u++)s=g*(h=B[u])[p][v]+_*h[p+1][v],y[u]=A*s+3*(b*T*(g*h[p][v+1]+_*h[p+1][v+1])+x*m*(g*h[p][v+2]+_*h[p+1][v+1]))+w*(g*h[p][v+3]+_*h[p+1][v+1]);return y}:f?function(y,c,i){y||(y=[]);var s,u,h,v=Math.max(0,Math.min(Math.floor(c),k)),p=Math.max(0,Math.min(Math.floor(i),M)),T=Math.max(0,Math.min(1,c-v)),_=Math.max(0,Math.min(1,i-p));p*=3;var m=_*_,w=m*_,x=1-_,b=x*x,A=b*x,g=1-T;for(u=0;u<B.length;u++)s=g*(h=B[u])[p][v]+T*h[p][v+1],y[u]=A*s+3*(b*_*(g*h[p+1][v]+T*h[p+1][v+1])+x*m*(g*h[p+2][v]+T*h[p+2][v+1]))+w*(g*h[p+3][v]+T*h[p+3][v+1]);return y}:function(y,c,i){y||(y=[]);var s,o,l,u=Math.max(0,Math.min(Math.floor(c),k)),h=Math.max(0,Math.min(Math.floor(i),M)),v=Math.max(0,Math.min(1,c-u)),p=Math.max(0,Math.min(1,i-h)),T=1-p,_=1-v;for(o=0;o<B.length;o++)s=_*(l=B[o])[h][u]+v*l[h][u+1],y[o]=T*s+p*(_*l[h+1][u]+v*l[h+1][u+1]);return y}}},92087:function(ae,B,r){"use strict";var D=r(71828),E=r(19237),f=r(13145),k=r(99798),M=r(22399);ae.exports=function(y,c,i,s){function a(l,u){return D.coerce(y,c,k,l,u)}c._clipPathId="clip"+c.uid+"carpet";var o=a("color",M.defaultLine);D.coerceFont(a,"font"),a("carpet"),f(y,c,s,a,o),c.a&&c.b?(c.a.length<3&&(c.aaxis.smoothing=0),c.b.length<3&&(c.baxis.smoothing=0),E(y,c,a)||(c.visible=!1),c._cheater&&a("cheaterslope")):c.visible=!1}},21462:function(ae,B,r){"use strict";ae.exports={attributes:r(99798),supplyDefaults:r(92087),plot:r(89740),calc:r(25281),animatable:!0,isContainer:!0,moduleType:"trace",name:"carpet",basePlotModule:r(93612),categories:["cartesian","svg","carpet","carpetAxis","notLegendIsolatable","noMultiCategory","noHover","noSortingByValue"],meta:{}}},22882:function(ae){"use strict";ae.exports=function(B,r){for(var D,E=B._fullData.length,f=0;f<E;f++){var k=B._fullData[f];if(k.index!==r.index&&"carpet"===k.type&&(D||(D=k),k.carpet===r.carpet))return k}return D}},67961:function(ae){"use strict";ae.exports=function(B,r,D){if(0===B.length)return"";var E,f=[],k=D?3:1;for(E=0;E<B.length;E+=k)f.push(B[E]+","+r[E]),D&&E<B.length-k&&(f.push("C"),f.push([B[E+1]+","+r[E+1],B[E+2]+","+r[E+2]+" "].join(" ")));return f.join(D?"":"L")}},27669:function(ae,B,r){"use strict";var D=r(71828).isArrayOrTypedArray;ae.exports=function(E,f,k){var M;for(D(E)?E.length>f.length&&(E=E.slice(0,f.length)):E=[],M=0;M<f.length;M++)E[M]=k(f[M]);return E}},11651:function(ae){"use strict";ae.exports=function(B,r,D,E,f,k){var M=f[0]*B.dpdx(r),y=f[1]*B.dpdy(D),c=1,i=1;if(k){var s=Math.sqrt(f[0]*f[0]+f[1]*f[1]),a=Math.sqrt(k[0]*k[0]+k[1]*k[1]);i=Math.max(0,(f[0]*k[0]+f[1]*k[1])/s/a)}var l=180*Math.atan2(y,M)/Math.PI;return l<-90?(l+=180,c=-c):l>90&&(l-=180,c=-c),{angle:l,flip:c,p:B.c2p(E,r,D),offsetMultplier:i}}},89740:function(ae,B,r){"use strict";var D=r(39898),E=r(91424),f=r(27669),k=r(67961),M=r(11651),y=r(63893),c=r(71828),i=c.strRotate,s=c.strTranslate,a=r(18783);function o(p,T,_,m,w,x,b){var A="const-"+w+"-lines",g=_.selectAll("."+A).data(x);g.enter().append("path").classed(A,!0).style("vector-effect",b?"none":"non-scaling-stroke"),g.each(function(I){var S=I,R=S.y,L=f([],S.x,p.c2p),N=f([],R,T.c2p),j="M"+k(L,N,S.smoothing);D.select(this).attr("d",j).style("stroke-width",S.width).style("stroke",S.color).style("stroke-dasharray",E.dashStyle(S.dash,S.width)).style("fill","none")}),g.exit().remove()}function l(p,T,_,m,w,x,b,A){var g=x.selectAll("text."+A).data(b);g.enter().append("text").classed(A,!0);var I=0,S={};return g.each(function(O,R){var L;if("auto"===O.axis.tickangle)L=M(m,T,_,O.xy,O.dxy);else{var N=(O.axis.tickangle+180)*Math.PI/180;L=M(m,T,_,O.xy,[Math.cos(N),Math.sin(N)])}R||(S={angle:L.angle,flip:L.flip});var j=(O.endAnchor?-1:1)*L.flip,X=D.select(this).attr({"text-anchor":j>0?"start":"end","data-notex":1}).call(E.font,O.font).text(O.text).call(y.convertToTspans,p),F=E.bBox(this);X.attr("transform",s(L.p[0],L.p[1])+i(L.angle)+s(O.axis.labelpadding*j,.3*F.height)),I=Math.max(I,F.width+O.axis.labelpadding)}),g.exit().remove(),S.maxExtent=I,S}ae.exports=function(p,T,_,m){var w=p._context.staticPlot,x=T.xaxis,b=T.yaxis,A=p._fullLayout._clips;c.makeTraceGroups(m,_,"trace").each(function(g){var I=D.select(this),S=g[0],O=S.trace,R=O.aaxis,L=O.baxis,N=c.ensureSingle(I,"g","minorlayer"),j=c.ensureSingle(I,"g","majorlayer"),X=c.ensureSingle(I,"g","boundarylayer"),F=c.ensureSingle(I,"g","labellayer");I.style("opacity",O.opacity),o(x,b,j,0,"a",R._gridlines,!0),o(x,b,j,0,"b",L._gridlines,!0),o(x,b,N,0,"a",R._minorgridlines,!0),o(x,b,N,0,"b",L._minorgridlines,!0),o(x,b,X,0,"a-boundary",R._boundarylines,w),o(x,b,X,0,"b-boundary",L._boundarylines,w);var H,W,Z,re,ne,Q,ee,oe,ce,fe,le,pe,Me,Ae,be,Y=l(p,x,b,O,0,F,R._labels,"a-label"),G=l(p,x,b,O,0,F,L._labels,"b-label");H=p,W=F,Z=O,re=x,ne=b,Q=Y,ee=G,pe=c.aggNums(Math.min,null,Z.a),Me=c.aggNums(Math.max,null,Z.a),Ae=c.aggNums(Math.min,null,Z.b),be=c.aggNums(Math.max,null,Z.b),fe=Z.ab2xy(oe=.5*(pe+Me),ce=Ae,!0),le=Z.dxyda_rough(oe,ce),void 0===Q.angle&&c.extendFlat(Q,M(Z,re,ne,fe,Z.dxydb_rough(oe,ce))),v(H,W,Z,0,fe,le,Z.aaxis,re,ne,Q,"a-title"),fe=Z.ab2xy(oe=pe,ce=.5*(Ae+be),!0),le=Z.dxydb_rough(oe,ce),void 0===ee.angle&&c.extendFlat(ee,M(Z,re,ne,fe,Z.dxyda_rough(oe,ce))),v(H,W,Z,0,fe,le,Z.baxis,re,ne,ee,"b-title"),function(H,W,Z,se,re){var ne,Q,ee,oe,ce=Z.select("#"+H._clipPathId);ce.size()||(ce=Z.append("clipPath").classed("carpetclip",!0));var fe=c.ensureSingle(ce,"path","carpetboundary"),le=W.clipsegments,pe=[];for(oe=0;oe<le.length;oe++)Q=f([],(ne=le[oe]).x,se.c2p),ee=f([],ne.y,re.c2p),pe.push(k(Q,ee,ne.bicubic));var Me="M"+pe.join("L")+"Z";ce.attr("id",H._clipPathId),fe.attr("d",Me)}(O,S,A,x,b)})};var u=a.LINE_SPACING,h=(1-a.MID_SHIFT)/u+1;function v(p,T,_,m,w,x,b,A,g,I,S){var O=[];b.title.text&&O.push(b.title.text);var R=T.selectAll("text."+S).data(O),L=I.maxExtent;R.enter().append("text").classed(S,!0),R.each(function(){var N=M(_,A,g,w,x);-1===["start","both"].indexOf(b.showticklabels)&&(L=0);var j=b.title.font.size;L+=j+b.title.offset;var X=(I.angle+(I.flip<0?180:0)-N.angle+450)%360,F=X>90&&X<270,Y=D.select(this);Y.text(b.title.text).call(y.convertToTspans,p),F&&(L=(-y.lineCount(Y)+h)*u*j-L),Y.attr("transform",s(N.p[0],N.p[1])+i(N.angle)+s(0,L)).attr("text-anchor","middle").call(E.font,b.title.font)}),R.exit().remove()}},11435:function(ae,B,r){"use strict";var D=r(35509),E=r(65888).findBin,f=r(45664),k=r(20349),M=r(54495),y=r(73057);ae.exports=function(c){var i=c._a,s=c._b,a=i.length,o=s.length,l=c.aaxis,u=c.baxis,h=i[0],v=i[a-1],p=s[0],T=s[o-1],_=i[i.length-1]-i[0],m=s[s.length-1]-s[0],w=_*D.RELATIVE_CULL_TOLERANCE,x=m*D.RELATIVE_CULL_TOLERANCE;h-=w,v+=w,p-=x,T+=x,c.isVisible=function(b,A){return b>h&&b<v&&A>p&&A<T},c.isOccluded=function(b,A){return b<h||b>v||A<p||A>T},c.setScale=function(){var g=f(c._xctrl,c._yctrl,c._x,c._y,l.smoothing,u.smoothing);c._xctrl=g[0],c._yctrl=g[1],c.evalxy=k([c._xctrl,c._yctrl],a,o,l.smoothing,u.smoothing),c.dxydi=M([c._xctrl,c._yctrl],l.smoothing,u.smoothing),c.dxydj=y([c._xctrl,c._yctrl],l.smoothing,u.smoothing)},c.i2a=function(b){var A=Math.max(0,Math.floor(b[0]),a-2),g=b[0]-A;return(1-g)*i[A]+g*i[A+1]},c.j2b=function(b){var A=Math.max(0,Math.floor(b[1]),a-2),g=b[1]-A;return(1-g)*s[A]+g*s[A+1]},c.ij2ab=function(b){return[c.i2a(b[0]),c.j2b(b[1])]},c.a2i=function(b){var A=Math.max(0,Math.min(E(b,i),a-2)),g=i[A];return Math.max(0,Math.min(a-1,A+(b-g)/(i[A+1]-g)))},c.b2j=function(b){var A=Math.max(0,Math.min(E(b,s),o-2)),g=s[A];return Math.max(0,Math.min(o-1,A+(b-g)/(s[A+1]-g)))},c.ab2ij=function(b){return[c.a2i(b[0]),c.b2j(b[1])]},c.i2c=function(b,A){return c.evalxy([],b,A)},c.ab2xy=function(b,A,g){if(!g&&(b<i[0]||b>i[a-1]|A<s[0]||A>s[o-1]))return[!1,!1];var I=c.a2i(b),S=c.b2j(A),O=c.evalxy([],I,S);if(g){var R,L,N,j,X=0,F=0,Y=[];b<i[0]?(R=0,L=0,X=(b-i[0])/(i[1]-i[0])):b>i[a-1]?(R=a-2,L=1,X=(b-i[a-1])/(i[a-1]-i[a-2])):L=I-(R=Math.max(0,Math.min(a-2,Math.floor(I)))),A<s[0]?(N=0,j=0,F=(A-s[0])/(s[1]-s[0])):A>s[o-1]?(N=o-2,j=1,F=(A-s[o-1])/(s[o-1]-s[o-2])):j=S-(N=Math.max(0,Math.min(o-2,Math.floor(S)))),X&&(c.dxydi(Y,R,N,L,j),O[0]+=Y[0]*X,O[1]+=Y[1]*X),F&&(c.dxydj(Y,R,N,L,j),O[0]+=Y[0]*F,O[1]+=Y[1]*F)}return O},c.c2p=function(b,A,g){return[A.c2p(b[0]),g.c2p(b[1])]},c.p2x=function(b,A,g){return[A.p2c(b[0]),g.p2c(b[1])]},c.dadi=function(b){var A=Math.max(0,Math.min(i.length-2,b));return i[A+1]-i[A]},c.dbdj=function(b){var A=Math.max(0,Math.min(s.length-2,b));return s[A+1]-s[A]},c.dxyda=function(b,A,g,I){var S=c.dxydi(null,b,A,g,I),O=c.dadi(b,g);return[S[0]/O,S[1]/O]},c.dxydb=function(b,A,g,I){var S=c.dxydj(null,b,A,g,I),O=c.dbdj(A,I);return[S[0]/O,S[1]/O]},c.dxyda_rough=function(b,A,g){var I=_*(g||.1),S=c.ab2xy(b+I,A,!0),O=c.ab2xy(b-I,A,!0);return[.5*(S[0]-O[0])/I,.5*(S[1]-O[1])/I]},c.dxydb_rough=function(b,A,g){var I=m*(g||.1),S=c.ab2xy(b,A+I,!0),O=c.ab2xy(b,A-I,!0);return[.5*(S[0]-O[0])/I,.5*(S[1]-O[1])/I]},c.dpdx=function(b){return b._m},c.dpdy=function(b){return b._m}}},72505:function(ae,B,r){"use strict";var D=r(71828);ae.exports=function(E,f,k){var M,y,c,i=[],s=[],a=E[0].length,o=E.length;var u,h,v,p,T,_,m,w,x,b,H,W,Z,se,re,g=0;for(M=0;M<a;M++)for(y=0;y<o;y++)void 0===E[y][M]&&(i.push(M),s.push(y),E[y][M]=(W=y,Z=void 0,se=void 0,re=void 0,se=0,re=0,(H=M)>0&&void 0!==(Z=E[W][H-1])&&(re++,se+=Z),H<a-1&&void 0!==(Z=E[W][H+1])&&(re++,se+=Z),W>0&&void 0!==(Z=E[W-1][H])&&(re++,se+=Z),W<o-1&&void 0!==(Z=E[W+1][H])&&(re++,se+=Z),se/Math.max(1,re))),g=Math.max(g,Math.abs(E[y][M]));if(!i.length)return E;var I=0,S=0,O=i.length;do{for(I=0,c=0;c<O;c++){y=s[c];var L,N,j,X,F,Y=0,G=0;0===(M=i[c])?(N=f[X=Math.min(a-1,2)],G+=(L=E[y][1])+(L-E[y][X])*(f[0]-(j=f[1]))/(j-N),Y++):M===a-1&&(N=f[X=Math.max(0,a-3)],G+=(L=E[y][a-2])+(L-E[y][X])*(f[a-1]-(j=f[a-2]))/(j-N),Y++),(0===M||M===a-1)&&y>0&&y<o-1&&(G+=((h=k[y]-k[y-1])*E[y+1][M]+(u=k[y+1]-k[y])*E[y-1][M])/(h+u),Y++),0===y?(N=k[F=Math.min(o-1,2)],G+=(L=E[1][M])+(L-E[F][M])*(k[0]-(j=k[1]))/(j-N),Y++):y===o-1&&(N=k[F=Math.max(0,o-3)],G+=(L=E[o-2][M])+(L-E[F][M])*(k[o-1]-(j=k[o-2]))/(j-N),Y++),(0===y||y===o-1)&&M>0&&M<a-1&&(G+=((h=f[M]-f[M-1])*E[y][M+1]+(u=f[M+1]-f[M])*E[y][M-1])/(h+u),Y++),Y?G/=Y:(w=(T=k[y+1]-k[y])*(_=k[y]-k[y-1])*(T+_),G=((m=(v=f[M+1]-f[M])*(p=f[M]-f[M-1])*(v+p))*(_*E[y+1][M]+T*E[y-1][M])+w*(p*E[y][M+1]+v*E[y][M-1]))/(w*(p+v)+m*(_+T))),I+=(b=(x=G-E[y][M])/g)*b,E[y][M]+=x*(1+(Y?0:.85))}I=Math.sqrt(I)}while(S++<100&&I>1e-5);return D.log("Smoother converged to",I,"after",S,"iterations"),E}},19237:function(ae,B,r){"use strict";var D=r(71828).isArray1D;ae.exports=function(E,f,k){var M=k("x"),y=M&&M.length,c=k("y"),i=c&&c.length;if(!y&&!i)return!1;if(f._cheater=!M,y&&!D(M)||i&&!D(c))f._length=null;else{var s=y?M.length:1/0;i&&(s=Math.min(s,c.length)),f.a&&f.a.length&&(s=Math.min(s,f.a.length)),f.b&&f.b.length&&(s=Math.min(s,f.b.length)),f._length=s}return!0}},69568:function(ae,B,r){"use strict";var D=r(5386).fF,E=r(19316),f=r(50693),k=r(9012),M=r(22399).defaultLine,y=r(1426).extendFlat,c=E.marker.line;ae.exports=y({locations:{valType:"data_array",editType:"calc"},locationmode:E.locationmode,z:{valType:"data_array",editType:"calc"},geojson:y({},E.geojson,{}),featureidkey:E.featureidkey,text:y({},E.text,{}),hovertext:y({},E.hovertext,{}),marker:{line:{color:y({},c.color,{dflt:M}),width:y({},c.width,{dflt:1}),editType:"calc"},opacity:{valType:"number",arrayOk:!0,min:0,max:1,dflt:1,editType:"style"},editType:"calc"},selected:{marker:{opacity:E.selected.marker.opacity,editType:"plot"},editType:"plot"},unselected:{marker:{opacity:E.unselected.marker.opacity,editType:"plot"},editType:"plot"},hoverinfo:y({},k.hoverinfo,{editType:"calc",flags:["location","z","text","name"]}),hovertemplate:D(),showlegend:y({},k.showlegend,{dflt:!1})},f("",{cLetter:"z",editTypeOverride:"calc"}))},38675:function(ae,B,r){"use strict";var D=r(92770),E=r(50606).BADNUM,f=r(78803),k=r(75225),M=r(66279);function y(c){return c&&"string"==typeof c}ae.exports=function(c,i){var s,a=i._length,o=new Array(a);s=i.geojson?function(p){return y(p)||D(p)}:y;for(var l=0;l<a;l++){var u=o[l]={},h=i.locations[l],v=i.z[l];s(h)&&D(v)?(u.loc=h,u.z=v):(u.loc=null,u.z=E),u.index=l}return k(o,i),f(c,i,{vals:i.z,containerStr:"",cLetter:"z"}),M(o,i),o}},61869:function(ae,B,r){"use strict";var D=r(71828),E=r(1586),f=r(69568);ae.exports=function(k,M,y,c){function i(u,h){return D.coerce(k,M,f,u,h)}var s=i("locations"),a=i("z");if(s&&s.length&&D.isArrayOrTypedArray(a)&&a.length){M._length=Math.min(s.length,a.length);var o,l=i("geojson");("string"==typeof l&&""!==l||D.isPlainObject(l))&&(o="geojson-id"),"geojson-id"===i("locationmode",o)&&i("featureidkey"),i("text"),i("hovertext"),i("hovertemplate"),i("marker.line.width")&&i("marker.line.color"),i("marker.opacity"),E(k,M,c,i,{prefix:"",cLetter:"z"}),D.coerceSelectionMarkerOpacity(M,i)}else M.visible=!1}},92069:function(ae){"use strict";ae.exports=function(B,r,D,E,f){B.location=r.location,B.z=r.z;var k=E[f];return k.fIn&&k.fIn.properties&&(B.properties=k.fIn.properties),B.ct=k.ct,B}},42300:function(ae,B,r){"use strict";var D=r(89298),E=r(69568),f=r(71828).fillText;ae.exports=function(k,M,y){var c,i,s,a,o=k.cd,l=o[0].trace,u=k.subplot,h=[M,y],v=[M+360,y];for(i=0;i<o.length;i++)if(a=!1,(c=o[i])._polygons){for(s=0;s<c._polygons.length;s++)c._polygons[s].contains(h)&&(a=!a),c._polygons[s].contains(v)&&(a=!a);if(a)break}if(a&&c)return k.x0=k.x1=k.xa.c2p(c.ct),k.y0=k.y1=k.ya.c2p(c.ct),k.index=c.index,k.location=c.loc,k.z=c.z,k.zLabel=D.tickText(u.mockAxis,u.mockAxis.c2l(c.z),"hover").text,k.hovertemplate=c.hovertemplate,function(p,T,_){if(!T.hovertemplate){var m=_.hi||T.hoverinfo,w=String(_.loc),x="all"===m?E.hoverinfo.flags:m.split("+"),b=-1!==x.indexOf("name"),A=-1!==x.indexOf("location"),g=-1!==x.indexOf("z"),I=-1!==x.indexOf("text"),S=[];!b&&A?p.nameOverride=w:(b&&(p.nameOverride=T.name),A&&S.push(w)),g&&S.push(p.zLabel),I&&f(_,T,S),p.extraText=S.join("<br>")}}(k,l,c),[k]}},51319:function(ae,B,r){"use strict";ae.exports={attributes:r(69568),supplyDefaults:r(61869),colorbar:r(61243),calc:r(38675),calcGeoJSON:r(99841).calcGeoJSON,plot:r(99841).plot,style:r(99636).style,styleOnSelect:r(99636).styleOnSelect,hoverPoints:r(42300),eventData:r(92069),selectPoints:r(81253),moduleType:"trace",name:"choropleth",basePlotModule:r(44622),categories:["geo","noOpacity","showLegend"],meta:{}}},99841:function(ae,B,r){"use strict";var D=r(39898),E=r(71828),f=r(41327),k=r(90973).getTopojsonFeatures,M=r(71739).findExtremes,y=r(99636).style;ae.exports={calcGeoJSON:function(c,i){for(var s=c[0].trace,a=i[s.geo],o=a._subplot,l=s.locationmode,u=s._length,h="geojson-id"===l?f.extractTraceFeature(c):k(s,o.topojson),v=[],p=[],T=0;T<u;T++){var _=c[T],m="geojson-id"===l?_.fOut:f.locationToFeature(l,_.loc,h);if(m){_.geojson=m,_.ct=m.properties.ct,_._polygons=f.feature2polygons(m);var w=f.computeBbox(m);v.push(w[0],w[2]),p.push(w[1],w[3])}else _.geojson=null}if("geojson"===a.fitbounds&&"geojson-id"===l){var x=f.computeBbox(f.getTraceGeojson(s));v=[x[0],x[2]],p=[x[1],x[3]]}var b={padded:!0};s._extremes.lon=M(a.lonaxis._ax,v,b),s._extremes.lat=M(a.lataxis._ax,p,b)},plot:function(c,i,s){var a=i.layers.backplot.select(".choroplethlayer");E.makeTraceGroups(a,s,"trace choropleth").each(function(o){var l=D.select(this).selectAll("path.choroplethlocation").data(E.identity);l.enter().append("path").classed("choroplethlocation",!0),l.exit().remove(),y(c,o)})}}},81253:function(ae){"use strict";ae.exports=function(B,r){var D,E,f,k,M,y=B.cd,c=B.xaxis,i=B.yaxis,s=[];if(!1===r)for(D=0;D<y.length;D++)y[D].selected=0;else for(D=0;D<y.length;D++)(f=(E=y[D]).ct)&&(k=c.c2p(f),M=i.c2p(f),r.contains([k,M],null,D,B)?(s.push({pointNumber:D,lon:f[0],lat:f[1]}),E.selected=1):E.selected=0);return s}},99636:function(ae,B,r){"use strict";var D=r(39898),E=r(7901),f=r(91424),k=r(21081);function M(y,c){var i=c[0].trace,s=c[0].node3.selectAll(".choroplethlocation"),a=i.marker||{},o=a.line||{},l=k.makeColorScaleFuncFromTrace(i);s.each(function(u){D.select(this).attr("fill",l(u.z)).call(E.stroke,u.mlc||o.color).call(f.dashLine,"",u.mlw||o.width||0).style("opacity",a.opacity)}),f.selectedPointStyle(s,i)}ae.exports={style:function(y,c){c&&M(0,c)},styleOnSelect:function(y,c){var s=c[0].trace;s.selectedpoints?f.selectedPointStyle(c[0].node3.selectAll(".choroplethlocation"),s):M(0,c)}}},64496:function(ae,B,r){"use strict";var D=r(69568),E=r(50693),f=r(5386).fF,k=r(9012),M=r(1426).extendFlat;ae.exports=M({locations:{valType:"data_array",editType:"calc"},z:{valType:"data_array",editType:"calc"},geojson:{valType:"any",editType:"calc"},featureidkey:M({},D.featureidkey,{}),below:{valType:"string",editType:"plot"},text:D.text,hovertext:D.hovertext,marker:{line:{color:M({},D.marker.line.color,{editType:"plot"}),width:M({},D.marker.line.width,{editType:"plot"}),editType:"calc"},opacity:M({},D.marker.opacity,{editType:"plot"}),editType:"calc"},selected:{marker:{opacity:M({},D.selected.marker.opacity,{editType:"plot"}),editType:"plot"},editType:"plot"},unselected:{marker:{opacity:M({},D.unselected.marker.opacity,{editType:"plot"}),editType:"plot"},editType:"plot"},hoverinfo:D.hoverinfo,hovertemplate:f({},{keys:["properties"]}),showlegend:M({},k.showlegend,{dflt:!1})},E("",{cLetter:"z",editTypeOverride:"calc"}))},82004:function(ae,B,r){"use strict";var D=r(92770),E=r(71828),f=r(21081),k=r(91424),M=r(18214).makeBlank,y=r(41327);function c(i){var s,a=i[0].trace,o=a._opts;if(a.selectedpoints){for(var l=k.makeSelectedPointStyleFns(a),u=0;u<i.length;u++){var h=i[u];h.fOut&&(h.fOut.properties.mo2=l.selectedOpacityFn(h))}s={type:"identity",property:"mo2"}}else s=E.isArrayOrTypedArray(a.marker.opacity)?{type:"identity",property:"mo"}:a.marker.opacity;return E.extendFlat(o.fill.paint,{"fill-opacity":s}),E.extendFlat(o.line.paint,{"line-opacity":s}),o}ae.exports={convert:function(i){var s=i[0].trace,a=!0===s.visible&&0!==s._length,o={layout:{visibility:"none"},paint:{}},l={layout:{visibility:"none"},paint:{}},u=s._opts={fill:o,line:l,geojson:M()};if(!a)return u;var h=y.extractTraceFeature(i);if(!h)return u;var v,p,T,_=f.makeColorScaleFuncFromTrace(s),m=s.marker,w=m.line||{};E.isArrayOrTypedArray(m.opacity)&&(v=function(S){var O=S.mo;return D(O)?+E.constrain(O,0,1):0}),E.isArrayOrTypedArray(w.color)&&(p=function(S){return S.mlc}),E.isArrayOrTypedArray(w.width)&&(T=function(S){return S.mlw});for(var x=0;x<i.length;x++){var b=i[x],A=b.fOut;if(A){var g=A.properties;g.fc=_(b.z),v&&(g.mo=v(b)),p&&(g.mlc=p(b)),T&&(g.mlw=T(b)),b.ct=g.ct,b._polygons=y.feature2polygons(A)}}var I=v?{type:"identity",property:"mo"}:m.opacity;return E.extendFlat(o.paint,{"fill-color":{type:"identity",property:"fc"},"fill-opacity":I}),E.extendFlat(l.paint,{"line-color":p?{type:"identity",property:"mlc"}:w.color,"line-width":T?{type:"identity",property:"mlw"}:w.width,"line-opacity":I}),o.layout.visibility="visible",l.layout.visibility="visible",u.geojson={type:"FeatureCollection",features:h},c(i),u},convertOnSelect:c}},22654:function(ae,B,r){"use strict";var D=r(71828),E=r(1586),f=r(64496);ae.exports=function(k,M,y,c){function i(l,u){return D.coerce(k,M,f,l,u)}var s=i("locations"),a=i("z"),o=i("geojson");D.isArrayOrTypedArray(s)&&s.length&&D.isArrayOrTypedArray(a)&&a.length&&("string"==typeof o&&""!==o||D.isPlainObject(o))?(i("featureidkey"),M._length=Math.min(s.length,a.length),i("below"),i("text"),i("hovertext"),i("hovertemplate"),i("marker.line.width")&&i("marker.line.color"),i("marker.opacity"),E(k,M,c,i,{prefix:"",cLetter:"z"}),D.coerceSelectionMarkerOpacity(M,i)):M.visible=!1}},57516:function(ae,B,r){"use strict";ae.exports={attributes:r(64496),supplyDefaults:r(22654),colorbar:r(61243),calc:r(38675),plot:r(7852),hoverPoints:r(42300),eventData:r(92069),selectPoints:r(81253),styleOnSelect:function(D,E){E&&E[0].trace._glTrace.updateOnSelect(E)},getBelow:function(D,E){for(var f=E.getMapLayers(),k=f.length-2;k>=0;k--){var M=f[k].id;if("string"==typeof M&&0===M.indexOf("water"))for(var y=k+1;y<f.length;y++)if("string"==typeof(M=f[y].id)&&-1===M.indexOf("plotly-"))return M}},moduleType:"trace",name:"choroplethmapbox",basePlotModule:r(50101),categories:["mapbox","gl","noOpacity","showLegend"],meta:{hr_name:"choropleth_mapbox"}}},7852:function(ae,B,r){"use strict";var D=r(82004).convert,E=r(82004).convertOnSelect,f=r(77734).traceLayerPrefix;function k(y,c){this.type="choroplethmapbox",this.subplot=y,this.uid=c,this.sourceId="source-"+c,this.layerList=[["fill",f+c+"-fill"],["line",f+c+"-line"]],this.below=null}var M=k.prototype;M.update=function(y){this._update(D(y)),y[0].trace._glTrace=this},M.updateOnSelect=function(y){this._update(E(y))},M._update=function(y){var c=this.subplot,i=this.layerList,s=c.belowLookup["trace-"+this.uid];c.map.getSource(this.sourceId).setData(y.geojson),s!==this.below&&(this._removeLayers(),this._addLayers(y,s),this.below=s);for(var a=0;a<i.length;a++){var o=i[a],u=o[1],h=y[o[0]];c.setOptions(u,"setLayoutProperty",h.layout),"visible"===h.layout.visibility&&c.setOptions(u,"setPaintProperty",h.paint)}},M._addLayers=function(y,c){for(var i=this.subplot,s=this.layerList,a=this.sourceId,o=0;o<s.length;o++){var l=s[o],u=l[0],h=y[u];i.addLayer({type:u,id:l[1],source:a,layout:h.layout,paint:h.paint},c)}},M._removeLayers=function(){for(var y=this.subplot.map,c=this.layerList,i=c.length-1;i>=0;i--)y.removeLayer(c[i][1])},M.dispose=function(){var y=this.subplot.map;this._removeLayers(),y.removeSource(this.sourceId)},ae.exports=function(y,c){var i=c[0].trace,s=new k(y,i.uid),a=s.sourceId,o=D(c),l=s.below=y.belowLookup["trace-"+i.uid];return y.map.addSource(a,{type:"geojson",data:o.geojson}),s._addLayers(o,l),c[0].trace._glTrace=s,s}},12674:function(ae,B,r){"use strict";var D=r(50693),E=r(12663).axisHoverFormat,f=r(5386).fF,k=r(2418),M=r(9012),y=r(1426).extendFlat,c={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},u:{valType:"data_array",editType:"calc"},v:{valType:"data_array",editType:"calc"},w:{valType:"data_array",editType:"calc"},sizemode:{valType:"enumerated",values:["scaled","absolute"],editType:"calc",dflt:"scaled"},sizeref:{valType:"number",editType:"calc",min:0},anchor:{valType:"enumerated",editType:"calc",values:["tip","tail","cm","center"],dflt:"cm"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertemplate:f({editType:"calc"},{keys:["norm"]}),uhoverformat:E("u",1),vhoverformat:E("v",1),whoverformat:E("w",1),xhoverformat:E("x"),yhoverformat:E("y"),zhoverformat:E("z"),showlegend:y({},M.showlegend,{dflt:!1})};y(c,D("",{colorAttr:"u/v/w norm",showScaleDflt:!0,editTypeOverride:"calc"})),["opacity","lightposition","lighting"].forEach(function(i){c[i]=k[i]}),c.hoverinfo=y({},M.hoverinfo,{editType:"calc",flags:["x","y","z","u","v","w","norm","text","name"],dflt:"x+y+z+norm+text+name"}),c.transforms=void 0,ae.exports=c},31371:function(ae,B,r){"use strict";var D=r(78803);ae.exports=function(E,f){for(var k=f.u,M=f.v,y=f.w,c=Math.min(f.x.length,f.y.length,f.z.length,k.length,M.length,y.length),i=-1/0,s=1/0,a=0;a<c;a++){var o=k[a],l=M[a],u=y[a],h=Math.sqrt(o*o+l*l+u*u);i=Math.max(i,h),s=Math.min(s,h)}f._len=c,f._normMax=i,D(E,f,{vals:[s,i],containerStr:"",cLetter:"c"})}},5453:function(ae,B,r){"use strict";var D=r(9330).gl_cone3d,E=r(9330).gl_cone3d.createConeMesh,f=r(71828).simpleMap,k=r(81697).parseColorScale,M=r(21081).extractOpts,y=r(90060);function c(u,h){this.scene=u,this.uid=h,this.mesh=null,this.data=null}var i=c.prototype;i.handlePick=function(u){if(u.object===this.mesh){var h=u.index=u.data.index,_=this.data.u[h],m=this.data.v[h],w=this.data.w[h];u.traceCoordinate=[this.data.x[h],this.data.y[h],this.data.z[h],_,m,w,Math.sqrt(_*_+m*m+w*w)];var x=this.data.hovertext||this.data.text;return Array.isArray(x)&&void 0!==x[h]?u.textLabel=x[h]:x&&(u.textLabel=x),!0}};var s={xaxis:0,yaxis:1,zaxis:2},a={tip:1,tail:0,cm:.25,center:.5},o={tip:1,tail:1,cm:.75,center:.5};function l(u,h){var v=u.fullSceneLayout,p=u.dataScale,T={};function _(b,A){var g=v[A],I=p[s[A]];return f(b,function(S){return g.d2l(S)*I})}T.vectors=y(_(h.u,"xaxis"),_(h.v,"yaxis"),_(h.w,"zaxis"),h._len),T.positions=y(_(h.x,"xaxis"),_(h.y,"yaxis"),_(h.z,"zaxis"),h._len);var m=M(h);T.colormap=k(h),T.vertexIntensityBounds=[m.min/h._normMax,m.max/h._normMax],T.coneOffset=a[h.anchor],T.coneSize="scaled"===h.sizemode?h.sizeref||.5:h.sizeref&&h._normMax?h.sizeref/h._normMax:.5;var w=D(T),x=h.lightposition;return w.lightPosition=[x.x,x.y,x.z],w.ambient=h.lighting.ambient,w.diffuse=h.lighting.diffuse,w.specular=h.lighting.specular,w.roughness=h.lighting.roughness,w.fresnel=h.lighting.fresnel,w.opacity=h.opacity,h._pad=o[h.anchor]*w.vectorScale*w.coneScale*h._normMax,w}i.update=function(u){this.data=u;var h=l(this.scene,u);this.mesh.update(h)},i.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()},ae.exports=function(u,h){var v=u.glplot.gl,p=l(u,h),T=E(v,p),_=new c(u,h.uid);return _.mesh=T,_.data=h,T._trace=_,u.glplot.add(T),_}},91750:function(ae,B,r){"use strict";var D=r(71828),E=r(1586),f=r(12674);ae.exports=function(k,M,y,c){function i(v,p){return D.coerce(k,M,f,v,p)}var s=i("u"),a=i("v"),o=i("w"),l=i("x"),u=i("y"),h=i("z");s&&s.length&&a&&a.length&&o&&o.length&&l&&l.length&&u&&u.length&&h&&h.length?(i("sizeref"),i("sizemode"),i("anchor"),i("lighting.ambient"),i("lighting.diffuse"),i("lighting.specular"),i("lighting.roughness"),i("lighting.fresnel"),i("lightposition.x"),i("lightposition.y"),i("lightposition.z"),E(k,M,c,i,{prefix:"",cLetter:"c"}),i("text"),i("hovertext"),i("hovertemplate"),i("uhoverformat"),i("vhoverformat"),i("whoverformat"),i("xhoverformat"),i("yhoverformat"),i("zhoverformat"),M._length=null):M.visible=!1}},98128:function(ae,B,r){"use strict";ae.exports={moduleType:"trace",name:"cone",basePlotModule:r(58547),categories:["gl3d","showLegend"],attributes:r(12674),supplyDefaults:r(91750),colorbar:{min:"cmin",max:"cmax"},calc:r(31371),plot:r(5453),eventData:function(D,E){return D.norm=E.traceCoordinate[6],D},meta:{}}},70600:function(ae,B,r){"use strict";var D=r(21606),E=r(82196),f=r(12663),k=f.axisHoverFormat,M=f.descriptionOnlyNumbers,y=r(50693),c=r(79952).P,i=r(41940),s=r(1426).extendFlat,a=r(74808),o=a.COMPARISON_OPS2,l=a.INTERVAL_OPS,u=E.line;ae.exports=s({z:D.z,x:D.x,x0:D.x0,dx:D.dx,y:D.y,y0:D.y0,dy:D.dy,xperiod:D.xperiod,yperiod:D.yperiod,xperiod0:E.xperiod0,yperiod0:E.yperiod0,xperiodalignment:D.xperiodalignment,yperiodalignment:D.yperiodalignment,text:D.text,hovertext:D.hovertext,transpose:D.transpose,xtype:D.xtype,ytype:D.ytype,xhoverformat:k("x"),yhoverformat:k("y"),zhoverformat:k("z",1),hovertemplate:D.hovertemplate,texttemplate:s({},D.texttemplate,{}),textfont:s({},D.textfont,{}),hoverongaps:D.hoverongaps,connectgaps:s({},D.connectgaps,{}),fillcolor:{valType:"color",editType:"calc"},autocontour:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"contours.start":void 0,"contours.end":void 0,"contours.size":void 0}},ncontours:{valType:"integer",dflt:15,min:1,editType:"calc"},contours:{type:{valType:"enumerated",values:["levels","constraint"],dflt:"levels",editType:"calc"},start:{valType:"number",dflt:null,editType:"plot",impliedEdits:{"^autocontour":!1}},end:{valType:"number",dflt:null,editType:"plot",impliedEdits:{"^autocontour":!1}},size:{valType:"number",dflt:null,min:0,editType:"plot",impliedEdits:{"^autocontour":!1}},coloring:{valType:"enumerated",values:["fill","heatmap","lines","none"],dflt:"fill",editType:"calc"},showlines:{valType:"boolean",dflt:!0,editType:"plot"},showlabels:{valType:"boolean",dflt:!1,editType:"plot"},labelfont:i({editType:"plot",colorEditType:"style"}),labelformat:{valType:"string",dflt:"",editType:"plot",description:M("contour label")},operation:{valType:"enumerated",values:[].concat(o).concat(l),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},editType:"calc",impliedEdits:{autocontour:!1}},line:{color:s({},u.color,{editType:"style+colorbars"}),width:{valType:"number",min:0,editType:"style+colorbars"},dash:c,smoothing:s({},u.smoothing,{}),editType:"plot"}},y("",{cLetter:"z",autoColorDflt:!1,editTypeOverride:"calc"}))},27529:function(ae,B,r){"use strict";var D=r(21081),E=r(90757),f=r(18670),k=r(53572);ae.exports=function(M,y){var c=E(M,y),i=c[0].z;f(y,i);var s,a=y.contours,o=D.extractOpts(y);if("heatmap"===a.coloring&&o.auto&&!1===y.autocontour){var l=a.start,u=k(a),h=a.size||1,v=Math.floor((u-l)/h)+1;isFinite(h)||(h=1,v=1);var p=l-h/2;s=[p,p+v*h]}else s=i;return D.calc(M,y,{vals:s,cLetter:"z"}),c}},20083:function(ae){"use strict";ae.exports=function(B,r){var D,E=B[0],f=E.z;switch(r.type){case"levels":var k=Math.min(f[0][0],f[0][1]);for(D=0;D<B.length;D++){var M=B[D];M.prefixBoundary=!M.edgepaths.length&&(k>M.level||M.starts.length&&k===M.level)}break;case"constraint":if(E.prefixBoundary=!1,E.edgepaths.length)return;var y=E.x.length,c=E.y.length,i=-1/0,s=1/0;for(D=0;D<c;D++)s=Math.min(s,f[D][0]),s=Math.min(s,f[D][y-1]),i=Math.max(i,f[D][0]),i=Math.max(i,f[D][y-1]);for(D=1;D<y-1;D++)s=Math.min(s,f[0][D]),s=Math.min(s,f[c-1][D]),i=Math.max(i,f[0][D]),i=Math.max(i,f[c-1][D]);var a,o,l=r.value;switch(r._operation){case">":l>i&&(E.prefixBoundary=!0);break;case"<":(l<s||E.starts.length&&l===s)&&(E.prefixBoundary=!0);break;case"[]":a=Math.min(l[0],l[1]),((o=Math.max(l[0],l[1]))<s||a>i||E.starts.length&&o===s)&&(E.prefixBoundary=!0);break;case"][":a=Math.min(l[0],l[1]),o=Math.max(l[0],l[1]),a<s&&o>i&&(E.prefixBoundary=!0)}}}},90654:function(ae,B,r){"use strict";var D=r(21081),E=r(86068),f=r(53572);ae.exports={min:"zmin",max:"zmax",calc:function(k,M,y){var c=M.contours,i=M.line,s=c.size||1,a=c.coloring,o=E(M,{isColorbar:!0});if("heatmap"===a){var l=D.extractOpts(M);y._fillgradient=l.reversescale?D.flipScale(l.colorscale):l.colorscale,y._zrange=[l.min,l.max]}else"fill"===a&&(y._fillcolor=o);y._line={color:"lines"===a?o:i.color,width:!1!==c.showlines?i.width:0,dash:i.dash},y._levels={start:c.start,end:f(c),size:s}}}},36914:function(ae){"use strict";ae.exports={BOTTOMSTART:[1,9,13,104,713],TOPSTART:[4,6,7,104,713],LEFTSTART:[8,12,14,208,1114],RIGHTSTART:[2,3,11,208,1114],NEWDELTA:[null,[-1,0],[0,-1],[-1,0],[1,0],null,[0,-1],[-1,0],[0,1],[0,1],null,[0,1],[1,0],[1,0],[0,-1]],CHOOSESADDLE:{104:[4,1],208:[2,8],713:[7,13],1114:[11,14]},SADDLEREMAINDER:{1:4,2:8,4:1,7:13,8:2,11:14,13:7,14:11},LABELDISTANCE:2,LABELINCREASE:10,LABELMIN:3,LABELMAX:10,LABELOPTIMIZER:{EDGECOST:1,ANGLECOST:1,NEIGHBORCOST:5,SAMELEVELFACTOR:10,SAMELEVELDISTANCE:5,MAXCOST:100,INITIALSEARCHPOINTS:10,ITERATIONS:5}}},83179:function(ae,B,r){"use strict";var D=r(92770),E=r(14523),f=r(7901),k=f.addOpacity,M=f.opacity,y=r(74808),c=y.CONSTRAINT_REDUCTION,i=y.COMPARISON_OPS2;ae.exports=function(s,a,o,l,u,h){var v,p,T,w,x,b,_=a.contours,m=o("contours.operation");_._operation=c[m],w=o,-1===i.indexOf((x=_).operation)?(w("contours.value",[0,1]),Array.isArray(x.value)?x.value.length>2?x.value=x.value.slice(2):0===x.length?x.value=[0,1]:x.length<2?(b=parseFloat(x.value[0]),x.value=[b,b+1]):x.value=[parseFloat(x.value[0]),parseFloat(x.value[1])]:D(x.value)&&(b=parseFloat(x.value),x.value=[b,b+1])):(w("contours.value",0),D(x.value)||(x.value=Array.isArray(x.value)?parseFloat(x.value[0]):0)),"="===m?v=_.showlines=!0:(v=o("contours.showlines"),T=o("fillcolor",k((s.line||{}).color||u,.5))),v&&(p=o("line.color",T&&M(T)?k(a.fillcolor,1):u),o("line.width",2),o("line.dash")),o("line.smoothing"),E(o,l,p,h)}},64237:function(ae,B,r){"use strict";var D=r(74808),E=r(92770);function f(y,c){var i,s=Array.isArray(c);function a(o){return E(o)?+o:null}return-1!==D.COMPARISON_OPS2.indexOf(y)?i=a(s?c[0]:c):-1!==D.INTERVAL_OPS.indexOf(y)?i=s?[a(c[0]),a(c[1])]:[a(c),a(c)]:-1!==D.SET_OPS.indexOf(y)&&(i=s?c.map(a):[a(c)]),i}function k(y){return function(c){c=f(y,c);var i=Math.min(c[0],c[1]),s=Math.max(c[0],c[1]);return{start:i,end:s,size:s-i}}}function M(y){return function(c){return{start:c=f(y,c),end:1/0,size:1/0}}}ae.exports={"[]":k("[]"),"][":k("]["),">":M(">"),"<":M("<"),"=":M("=")}},67217:function(ae){"use strict";ae.exports=function(B,r,D,E){var f=E("contours.start"),k=E("contours.end"),M=!1===f||!1===k,y=D("contours.size");!(M?r.autocontour=!0:D("autocontour",!1))&&y||D("ncontours")}},84857:function(ae,B,r){"use strict";var D=r(71828);function E(f){return D.extendFlat({},f,{edgepaths:D.extendDeep([],f.edgepaths),paths:D.extendDeep([],f.paths),starts:D.extendDeep([],f.starts)})}ae.exports=function(f,k){var M,y,c,i=function(o){return o.reverse()},s=function(o){return o};switch(k){case"=":case"<":return f;case">":for(1!==f.length&&D.warn("Contour data invalid for the specified inequality operation."),y=f[0],M=0;M<y.edgepaths.length;M++)y.edgepaths[M]=i(y.edgepaths[M]);for(M=0;M<y.paths.length;M++)y.paths[M]=i(y.paths[M]);for(M=0;M<y.starts.length;M++)y.starts[M]=i(y.starts[M]);return f;case"][":var a=i;i=s,s=a;case"[]":for(2!==f.length&&D.warn("Contour data invalid for the specified inequality range operation."),y=E(f[0]),c=E(f[1]),M=0;M<y.edgepaths.length;M++)y.edgepaths[M]=i(y.edgepaths[M]);for(M=0;M<y.paths.length;M++)y.paths[M]=i(y.paths[M]);for(M=0;M<y.starts.length;M++)y.starts[M]=i(y.starts[M]);for(;c.edgepaths.length;)y.edgepaths.push(s(c.edgepaths.shift()));for(;c.paths.length;)y.paths.push(s(c.paths.shift()));for(;c.starts.length;)y.starts.push(s(c.starts.shift()));return[y]}}},13031:function(ae,B,r){"use strict";var D=r(71828),E=r(67684),f=r(73927),k=r(83179),M=r(67217),y=r(8724),c=r(58623),i=r(70600);ae.exports=function(s,a,o,l){function u(v,p){return D.coerce(s,a,i,v,p)}if(E(s,a,u,l)){f(s,a,l,u),u("xhoverformat"),u("yhoverformat"),u("text"),u("hovertext"),u("hoverongaps"),u("hovertemplate");var h="constraint"===u("contours.type");u("connectgaps",D.isArray1D(a.z)),h?k(s,a,u,l,o):(M(s,a,u,function(v){return D.coerce2(s,a,i,v)}),y(s,a,u,l)),a.contours&&"heatmap"===a.contours.coloring&&c(u,l)}else a.visible=!1}},87558:function(ae,B,r){"use strict";var D=r(71828),E=r(64237),f=r(53572);ae.exports=function(k,M,y){for(var c="constraint"===k.type?E[k._operation](k.value):k,i=c.size,s=[],a=f(c),o=y.trace._carpetTrace,l=o?{xaxis:o.aaxis,yaxis:o.baxis,x:y.a,y:y.b}:{xaxis:M.xaxis,yaxis:M.yaxis,x:y.x,y:y.y},u=c.start;u<a;u+=i)if(s.push(D.extendFlat({level:u,crossings:{},starts:[],edgepaths:[],paths:[],z:y.z,smoothing:y.trace.line.smoothing},l)),s.length>1e3){D.warn("Too many contours, clipping at 1000",k);break}return s}},53572:function(ae){"use strict";ae.exports=function(B){return B.end+B.size/1e6}},81696:function(ae,B,r){"use strict";var D=r(71828),E=r(36914);function f(y,c,i,s){return Math.abs(y[0]-c[0])<i&&Math.abs(y[1]-c[1])<s}function k(y,c,i,s,a){var o,ce,le,pe,Me,l=c.join(","),u=y.crossings[l],h=(le=c,pe=0,Me=0,(ce=u)>20&&i?208===ce||1114===ce?pe=0===le[0]?1:-1:Me=0===le[1]?1:-1:-1!==E.BOTTOMSTART.indexOf(ce)?Me=1:-1!==E.LEFTSTART.indexOf(ce)?pe=1:-1!==E.TOPSTART.indexOf(ce)?Me=-1:pe=-1,[pe,Me]),v=[M(y,c,[-h[0],-h[1]])],p=y.z.length,T=y.z[0].length,_=c.slice(),m=h.slice();for(o=0;o<1e4;o++){if(u>20?y.crossings[l]=E.SADDLEREMAINDER[u=E.CHOOSESADDLE[u][(h[0]||h[1])<0?0:1]]:delete y.crossings[l],!(h=E.NEWDELTA[u])){D.log("Found bad marching index:",u,c,y.level);break}if(v.push(M(y,c,h)),c[0]+=h[0],c[1]+=h[1],l=c.join(","),f(v[v.length-1],v[v.length-2],s,a)&&v.pop(),c[0]===_[0]&&c[1]===_[1]&&h[0]===m[0]&&h[1]===m[1]||i&&(h[0]&&(c[0]<0||c[0]>T-2)||h[1]&&(c[1]<0||c[1]>p-2)))break;u=y.crossings[l]}1e4===o&&D.log("Infinite loop in contour?");var x,b,A,g,I,S,O,R,L,N,j,X,F,Y,G,H=f(v[0],v[v.length-1],s,a),W=0,Z=.2*y.smoothing,se=[],re=0;for(o=1;o<v.length;o++)Y=(X=v[o])[2]-(F=v[o-1])[2],G=X[3]-F[3],W+=O=Math.sqrt(Y*Y+G*G),se.push(O);var ne=W/se.length*Z;function Q(ce){return v[ce%v.length]}for(o=v.length-2;o>=re;o--)if((x=se[o])<ne){for(A=0,b=o-1;b>=re&&x+se[b]<ne;b--)x+=se[b];if(H&&o===v.length-2)for(A=0;A<b&&x+se[A]<ne;A++)x+=se[A];I=o-b+A+1,S=Math.floor((o+b+A+2)/2),g=H||o!==v.length-2?H||-1!==b?I%2?Q(S):[(Q(S)[0]+Q(S+1)[0])/2,(Q(S)[1]+Q(S+1)[1])/2]:v[0]:v[v.length-1],v.splice(b+1,o-b+1,g),o=b+1,A&&(re=A),H&&(o===v.length-2?v[A]=v[v.length-1]:0===o&&(v[v.length-1]=v[0]))}for(v.splice(0,re),o=0;o<v.length;o++)v[o].length=2;if(!(v.length<2))if(H)v.pop(),y.paths.push(v);else{i||D.log("Unclosed interior contour?",y.level,_.join(","),v.join("L"));var ee=!1;for(R=0;R<y.edgepaths.length;R++)if(N=y.edgepaths[R],!ee&&f(N[0],v[v.length-1],s,a)){v.pop(),ee=!0;var oe=!1;for(L=0;L<y.edgepaths.length;L++)if(f((j=y.edgepaths[L])[j.length-1],v[0],s,a)){oe=!0,v.shift(),y.edgepaths.splice(R,1),L===R?y.paths.push(v.concat(j)):(L>R&&L--,y.edgepaths[L]=j.concat(v,N));break}oe||(y.edgepaths[R]=v.concat(N))}for(R=0;R<y.edgepaths.length&&!ee;R++)f((N=y.edgepaths[R])[N.length-1],v[0],s,a)&&(v.shift(),y.edgepaths[R]=N.concat(v),ee=!0);ee||y.edgepaths.push(v)}}function M(y,c,i){var s=c[0]+Math.max(i[0],0),a=c[1]+Math.max(i[1],0),o=y.z[a][s],l=y.xaxis,u=y.yaxis;if(i[1]){var h=(y.level-o)/(y.z[a][s+1]-o),v=(1!==h?(1-h)*l.c2l(y.x[s]):0)+(0!==h?h*l.c2l(y.x[s+1]):0);return[l.c2p(l.l2c(v),!0),u.c2p(y.y[a],!0),s+h,a]}var p=(y.level-o)/(y.z[a+1][s]-o),T=(1!==p?(1-p)*u.c2l(y.y[a]):0)+(0!==p?p*u.c2l(y.y[a+1]):0);return[l.c2p(y.x[s],!0),u.c2p(u.l2c(T),!0),s,a+p]}ae.exports=function(y,c,i){var s,a,o,l;for(c=c||.01,i=i||.01,a=0;a<y.length;a++){for(o=y[a],l=0;l<o.starts.length;l++)k(o,o.starts[l],"edge",c,i);for(s=0;Object.keys(o.crossings).length&&s<1e4;)s++,k(o,Object.keys(o.crossings)[0].split(",").map(Number),void 0,c,i);1e4===s&&D.log("Infinite loop in contour?")}}},52421:function(ae,B,r){"use strict";var D=r(7901),E=r(46248);ae.exports=function(f,k,M,y,c){c||(c={}),c.isContour=!0;var i=E(f,k,M,y,c);return i&&i.forEach(function(s){var a=s.trace;"constraint"===a.contours.type&&(a.fillcolor&&D.opacity(a.fillcolor)?s.color=D.addOpacity(a.fillcolor,1):a.contours.showlines&&D.opacity(a.line.color)&&(s.color=D.addOpacity(a.line.color,1)))}),i}},99442:function(ae,B,r){"use strict";ae.exports={attributes:r(70600),supplyDefaults:r(13031),calc:r(27529),plot:r(29854).plot,style:r(84426),colorbar:r(90654),hoverPoints:r(52421),moduleType:"trace",name:"contour",basePlotModule:r(93612),categories:["cartesian","svg","2dMap","contour","showLegend"],meta:{}}},14523:function(ae,B,r){"use strict";var D=r(71828);ae.exports=function(E,f,k,M){if(M||(M={}),E("contours.showlabels")){var y=f.font;D.coerceFont(E,"contours.labelfont",{family:y.family,size:y.size,color:k}),E("contours.labelformat")}!1!==M.hasHover&&E("zhoverformat")}},86068:function(ae,B,r){"use strict";var D=r(39898),E=r(21081),f=r(53572);ae.exports=function(k){var M=k.contours,y=M.start,c=f(M),i=M.size||1,s=Math.floor((c-y)/i)+1,a="lines"===M.coloring?0:1,o=E.extractOpts(k);isFinite(i)||(i=1,s=1);var l,u,h=o.reversescale?E.flipScale(o.colorscale):o.colorscale,v=h.length,p=new Array(v),T=new Array(v),_=o.min,m=o.max;if("heatmap"===M.coloring){for(u=0;u<v;u++)p[u]=(l=h[u])[0]*(m-_)+_,T[u]=l[1];var w=D.extent([_,m,M.start,M.start+i*(s-1)]),x=w[_<m?0:1],b=w[_<m?1:0];x!==_&&(p.splice(0,0,x),T.splice(0,0,T[0])),b!==m&&(p.push(b),T.push(T[T.length-1]))}else{var A=k._input&&"number"==typeof k._input.zmin&&"number"==typeof k._input.zmax;for(A&&(y<=_||c>=m)&&(y<=_&&(y=_),c>=m&&(c=m),s=Math.floor((c-y)/i)+1,a=0),u=0;u<v;u++)p[u]=((l=h[u])[0]*(s+a-1)-a/2)*i+y,T[u]=l[1];(A||k.autocontour)&&(p[0]>_&&(p.unshift(_),T.unshift(T[0])),p[p.length-1]<m&&(p.push(m),T.push(T[T.length-1])))}return E.makeColorScaleFunc({domain:p,range:T},{noNumericCheck:!0})}},87678:function(ae,B,r){"use strict";var D=r(36914);function E(f,k){var M=(k[0][0]>f?0:1)+(k[0][1]>f?0:2)+(k[1][1]>f?0:4)+(k[1][0]>f?0:8);return 5===M||10===M?f>(k[0][0]+k[0][1]+k[1][0]+k[1][1])/4?5===M?713:1114:5===M?104:208:15===M?0:M}ae.exports=function(f){var k,M,y,c,i,s,a,o,l,u=f[0].z,h=u.length,v=u[0].length,p=2===h||2===v;for(M=0;M<h-1;M++)for(c=[],0===M&&(c=c.concat(D.BOTTOMSTART)),M===h-2&&(c=c.concat(D.TOPSTART)),k=0;k<v-1;k++)for(y=c.slice(),0===k&&(y=y.concat(D.LEFTSTART)),k===v-2&&(y=y.concat(D.RIGHTSTART)),i=k+","+M,s=[[u[M][k],u[M][k+1]],[u[M+1][k],u[M+1][k+1]]],l=0;l<f.length;l++)(a=E((o=f[l]).level,s))&&(o.crossings[i]=a,-1!==y.indexOf(a)&&(o.starts.push([k,M]),p&&-1!==y.indexOf(a,y.indexOf(a)+1)&&o.starts.push([k,M])))}},29854:function(ae,B,r){"use strict";var D=r(39898),E=r(71828),f=r(91424),k=r(21081),M=r(63893),y=r(89298),c=r(21994),i=r(50347),s=r(87678),a=r(81696),o=r(87558),l=r(84857),u=r(20083),h=r(36914),v=h.LABELOPTIMIZER;function p(m,w){var x,b,A,g,I,S,R="",L=0,N=m.edgepaths.map(function(H,W){return W}),j=!0;function X(H){return Math.abs(H[1]-w[2][1])<.01}function Y(H){return Math.abs(H[0]-w[2][0])<.01}for(;N.length;){for(S=f.smoothopen(m.edgepaths[L],m.smoothing),R+=j?S:S.replace(/^M/,"L"),N.splice(N.indexOf(L),1),x=m.edgepaths[L][m.edgepaths[L].length-1],g=-1,A=0;A<4;A++){if(!x){E.log("Missing end?",L,m);break}for(Math.abs(x[1]-w[0][1])<.01&&!Y(x)?b=w[1]:Math.abs(x[0]-w[0][0])<.01?b=w[0]:X(x)?b=w[3]:Y(x)&&(b=w[2]),I=0;I<m.edgepaths.length;I++){var G=m.edgepaths[I][0];Math.abs(x[0]-b[0])<.01?Math.abs(x[0]-G[0])<.01&&(G[1]-x[1])*(b[1]-G[1])>=0&&(b=G,g=I):Math.abs(x[1]-b[1])<.01?Math.abs(x[1]-G[1])<.01&&(G[0]-x[0])*(b[0]-G[0])>=0&&(b=G,g=I):E.log("endpt to newendpt is not vert. or horz.",x,b,G)}if(x=b,g>=0)break;R+="L"+b}if(g===m.edgepaths.length){E.log("unclosed perimeter path");break}(j=-1===N.indexOf(L=g))&&(L=N[0],R+="Z")}for(L=0;L<m.paths.length;L++)R+=f.smoothclosed(m.paths[L],m.smoothing);return R}function T(m,w,x,b){var A=w.width/2,g=w.height/2,I=m.x,S=m.y,O=m.theta,R=Math.cos(O)*A,L=Math.sin(O)*A,N=(I>b.center?b.right-I:I-b.left)/(R+Math.abs(Math.sin(O)*g)),j=(S>b.middle?b.bottom-S:S-b.top)/(Math.abs(L)+Math.cos(O)*g);if(N<1||j<1)return 1/0;var X=v.EDGECOST*(1/(N-1)+1/(j-1));X+=v.ANGLECOST*O*O;for(var F=I-R,Y=S-L,G=I+R,H=S+L,W=0;W<x.length;W++){var Z=x[W],se=Math.cos(Z.theta)*Z.width/2,re=Math.sin(Z.theta)*Z.width/2,ne=2*E.segmentDistance(F,Y,G,H,Z.x-se,Z.y-re,Z.x+se,Z.y+re)/(w.height+Z.height),Q=Z.level===w.level,ee=Q?v.SAMELEVELDISTANCE:1;if(ne<=ee)return 1/0;X+=v.NEIGHBORCOST*(Q?v.SAMELEVELFACTOR:1)/(ne-ee)}return X}function _(m){var w,x,b=m.trace._emptypoints,A=[],g=m.z.length,I=m.z[0].length,S=[];for(w=0;w<I;w++)S.push(1);for(w=0;w<g;w++)A.push(S.slice());for(w=0;w<b.length;w++)A[(x=b[w])[0]][x[1]]=0;return m.zmask=A,A}B.plot=function(m,w,x,b){var A=w.xaxis,g=w.yaxis;E.makeTraceGroups(b,x,"contour").each(function(I){var S=D.select(this),O=I[0],L=O.x,N=O.y,j=O.trace.contours,X=o(j,w,O),F=E.ensureSingle(S,"g","heatmapcoloring"),Y=[];"heatmap"===j.coloring&&(Y=[I]),i(m,w,Y,F),s(X),a(X);var Q,ee,oe,G=A.c2p(L[0],!0),H=A.c2p(L[L.length-1],!0),W=g.c2p(N[0],!0),Z=g.c2p(N[N.length-1],!0),se=[[G,Z],[H,Z],[H,W],[G,W]],re=X;"constraint"===j.type&&(re=l(X,j._operation)),Q=se,ee=j,(oe=E.ensureSingle(S,"g","contourbg").selectAll("path").data("fill"===ee.coloring?[0]:[])).enter().append("path"),oe.exit().remove(),oe.attr("d","M"+Q.join("L")+"Z").style("stroke","none"),function(ne,Q,ee,oe){var ce="fill"===oe.coloring||"constraint"===oe.type&&"="!==oe._operation,fe="M"+ee.join("L")+"Z";ce&&u(Q,oe);var le=E.ensureSingle(ne,"g","contourfill").selectAll("path").data(ce?Q:[]);le.enter().append("path"),le.exit().remove(),le.each(function(pe){var Me=(pe.prefixBoundary?fe:"")+p(pe,ee);Me?D.select(this).attr("d",Me).style("stroke","none"):D.select(this).remove()})}(S,re,se,j),function(ne,Q,ee,oe,ce){var fe=ee._context.staticPlot,le=E.ensureSingle(ne,"g","contourlines"),pe=!1!==ce.showlines,Me=ce.showlabels,Ae=pe&&Me,be=B.createLines(le,pe||Me,Q,fe),ye=B.createLineClip(le,Ae,ee,oe.trace.uid),we=ne.selectAll("g.contourlabels").data(Me?[0]:[]);if(we.exit().remove(),we.enter().append("g").classed("contourlabels",!0),Me){var ze=[],Se=[];E.clearLocationCache();var Ce=B.labelFormatter(ee,oe),ge=f.tester.append("text").attr("data-notex",1).call(f.font,ce.labelfont),he=Q[0].xaxis,_e=Q[0].yaxis,Le=he._length,Ie=_e._length,De=he.range,je=_e.range,qe=E.aggNums(Math.min,null,oe.x),ve=E.aggNums(Math.max,null,oe.x),Oe=E.aggNums(Math.min,null,oe.y),ke=E.aggNums(Math.max,null,oe.y),Be=Math.max(he.c2p(qe,!0),0),We=Math.min(he.c2p(ve,!0),Le),Ge=Math.max(_e.c2p(ke,!0),0),Ke=Math.min(_e.c2p(Oe,!0),Ie),et={};De[0]<De[1]?(et.left=Be,et.right=We):(et.left=We,et.right=Be),je[0]<je[1]?(et.top=Ge,et.bottom=Ke):(et.top=Ke,et.bottom=Ge),et.middle=(et.top+et.bottom)/2,et.center=(et.left+et.right)/2,ze.push([[et.left,et.top],[et.right,et.top],[et.right,et.bottom],[et.left,et.bottom]]);var at=Math.sqrt(Le*Le+Ie*Ie),mt=h.LABELDISTANCE*at/Math.max(1,Q.length/h.LABELINCREASE);be.each(function(ct){var kt=B.calcTextOpts(ct.level,Ce,ge,ee);D.select(this).selectAll("path").each(function(){var Dt=E.getVisibleSegment(this,et,kt.height/2);if(Dt&&!(Dt.len<(kt.width+kt.height)*h.LABELMIN))for(var Et=Math.min(Math.ceil(Dt.len/mt),h.LABELMAX),ht=0;ht<Et;ht++){var pt=B.findBestTextLocation(this,Dt,kt,Se,et);if(!pt)break;B.addLabelData(pt,kt,Se,ze)}})}),ge.remove(),B.drawLabels(we,Se,ee,ye,Ae?ze:null)}Me&&!pe&&be.remove()}(S,X,m,O,j),function(ne,Q,ee,oe,ce){var fe=oe.trace,pe="clip"+fe.uid,Me=ee._fullLayout._clips.selectAll("#"+pe).data(fe.connectgaps?[]:[0]);if(Me.enter().append("clipPath").classed("contourclip",!0).attr("id",pe),Me.exit().remove(),!1===fe.connectgaps){var Ae={level:.9,crossings:{},starts:[],edgepaths:[],paths:[],xaxis:Q.xaxis,yaxis:Q.yaxis,x:oe.x,y:oe.y,z:_(oe),smoothing:0};s([Ae]),a([Ae]),u([Ae],{type:"levels"}),E.ensureSingle(Me,"path","").attr("d",(Ae.prefixBoundary?"M"+ce.join("L")+"Z":"")+p(Ae,ce))}else pe=null;f.setClipUrl(ne,pe,ee)}(S,w,m,O,se)})},B.createLines=function(m,w,x,b){var A=x[0].smoothing,g=m.selectAll("g.contourlevel").data(w?x:[]);if(g.exit().remove(),g.enter().append("g").classed("contourlevel",!0),w){var I=g.selectAll("path.openline").data(function(O){return O.pedgepaths||O.edgepaths});I.exit().remove(),I.enter().append("path").classed("openline",!0),I.attr("d",function(O){return f.smoothopen(O,A)}).style("stroke-miterlimit",1).style("vector-effect",b?"none":"non-scaling-stroke");var S=g.selectAll("path.closedline").data(function(O){return O.ppaths||O.paths});S.exit().remove(),S.enter().append("path").classed("closedline",!0),S.attr("d",function(O){return f.smoothclosed(O,A)}).style("stroke-miterlimit",1).style("vector-effect",b?"none":"non-scaling-stroke")}return g},B.createLineClip=function(m,w,x,b){var A=w?"clipline"+b:null,g=x._fullLayout._clips.selectAll("#"+A).data(w?[0]:[]);return g.exit().remove(),g.enter().append("clipPath").classed("contourlineclip",!0).attr("id",A),f.setClipUrl(m,A,x),g},B.labelFormatter=function(m,w){var x=m._fullLayout,b=w.trace,A=b.contours,g={type:"linear",_id:"ycontour",showexponent:"all",exponentformat:"B"};if(A.labelformat)g.tickformat=A.labelformat,c(g,x);else{var I=k.extractOpts(b);if(I&&I.colorbar&&I.colorbar._axis)g=I.colorbar._axis;else{if("constraint"===A.type){var S=A.value;g.range=Array.isArray(S)?[S[0],S[S.length-1]]:[S,S]}else g.range=[A.start,A.end],g.nticks=(A.end-A.start)/A.size;g.range[0]===g.range[1]&&(g.range[1]+=g.range[0]||1),g.nticks||(g.nticks=1e3),c(g,x),y.prepTicks(g),g._tmin=null,g._tmax=null}}return function(O){return y.tickText(g,O).text}},B.calcTextOpts=function(m,w,x,b){var A=w(m);x.text(A).call(M.convertToTspans,b);var g=x.node(),I=f.bBox(g,!0);return{text:A,width:I.width,height:I.height,fontSize:+g.style["font-size"].replace("px",""),level:m,dy:(I.top+I.bottom)/2}},B.findBestTextLocation=function(m,w,x,b,A){var g,I,S,O,R,L=x.width;w.isClosed?(g=w.min+(I=w.len/v.INITIALSEARCHPOINTS)/2,S=w.max):(g=w.min+(I=(w.len-L)/(v.INITIALSEARCHPOINTS+1))+L/2,S=w.max-(I+L)/2);for(var N=1/0,j=0;j<v.ITERATIONS;j++){for(var X=g;X<S;X+=I){var F=E.getTextLocation(m,w.total,X,L),Y=T(F,x,b,A);Y<N&&(N=Y,R=F,O=X)}if(N>2*v.MAXCOST)break;j&&(I/=2),S=(g=O-I/2)+1.5*I}if(N<=v.MAXCOST)return R},B.addLabelData=function(m,w,x,b){var A=w.fontSize,g=w.width+A/3,I=Math.max(0,w.height-A/3),S=m.x,O=m.y,R=m.theta,L=Math.sin(R),N=Math.cos(R),j=function(F,Y){return[S+F*N-Y*L,O+F*L+Y*N]},X=[j(-g/2,-I/2),j(-g/2,I/2),j(g/2,I/2),j(g/2,-I/2)];x.push({text:w.text,x:S,y:O,dy:w.dy,theta:R,level:w.level,width:g,height:I}),b.push(X)},B.drawLabels=function(m,w,x,b,A){var g=m.selectAll("text").data(w,function(O){return O.text+","+O.x+","+O.y+","+O.theta});if(g.exit().remove(),g.enter().append("text").attr({"data-notex":1,"text-anchor":"middle"}).each(function(O){var R=O.x+Math.sin(O.theta)*O.dy,L=O.y-Math.cos(O.theta)*O.dy;D.select(this).text(O.text).attr({x:R,y:L,transform:"rotate("+180*O.theta/Math.PI+" "+R+" "+L+")"}).call(M.convertToTspans,x)}),A){for(var I="",S=0;S<A.length;S++)I+="M"+A[S].join("L")+"Z";E.ensureSingle(b,"path","").attr("d",I)}}},18670:function(ae,B,r){"use strict";var D=r(89298),E=r(71828);function f(k,M,y){var c={type:"linear",range:[k,M]};return D.autoTicks(c,(M-k)/(y||15)),c}ae.exports=function(k,M){var y=k.contours;if(k.autocontour){var c=k.zmin,i=k.zmax;(k.zauto||void 0===c)&&(c=E.aggNums(Math.min,null,M)),(k.zauto||void 0===i)&&(i=E.aggNums(Math.max,null,M));var s=f(c,i,k.ncontours);y.size=s.dtick,y.start=D.tickFirst(s),s.range.reverse(),y.end=D.tickFirst(s),y.start===c&&(y.start+=y.size),y.end===i&&(y.end-=y.size),y.start>y.end&&(y.start=y.end=(y.start+y.end)/2),k._input.contours||(k._input.contours={}),E.extendFlat(k._input.contours,{start:y.start,end:y.end,size:y.size}),k._input.autocontour=!0}else if("constraint"!==y.type){var a,o=y.start,l=y.end,u=k._input.contours;o>l&&(y.start=u.start=l,l=y.end=u.end=o,o=y.start),y.size>0||(a=o===l?1:f(o,l,k.ncontours).dtick,u.size=y.size=a)}}},84426:function(ae,B,r){"use strict";var D=r(39898),E=r(91424),f=r(70035),k=r(86068);ae.exports=function(M){var y=D.select(M).selectAll("g.contour");y.style("opacity",function(c){return c[0].trace.opacity}),y.each(function(c){var i=D.select(this),s=c[0].trace,a=s.contours,o=s.line,l=a.size||1,u=a.start,h="constraint"===a.type,v=!h&&"lines"===a.coloring,p=!h&&"fill"===a.coloring,T=v||p?k(s):null;i.selectAll("g.contourlevel").each(function(w){D.select(this).selectAll("path").call(E.lineGroupStyle,o.width,v?T(w.level):o.color,o.dash)});var _=a.labelfont;if(i.selectAll("g.contourlabels text").each(function(w){E.font(D.select(this),{family:_.family,size:_.size,color:_.color||(v?T(w.level):o.color)})}),h)i.selectAll("g.contourfill path").style("fill",s.fillcolor);else if(p){var m;i.selectAll("g.contourfill path").style("fill",function(w){return void 0===m&&(m=w.level),T(w.level+.5*l)}),void 0===m&&(m=u),i.selectAll("g.contourbg path").style("fill",T(m-.5*l))}}),f(M)}},8724:function(ae,B,r){"use strict";var D=r(1586),E=r(14523);ae.exports=function(f,k,M,y,c){var i,s=M("contours.coloring"),a="";"fill"===s&&(i=M("contours.showlines")),!1!==i&&("lines"!==s&&(a=M("line.color","#000")),M("line.width",.5),M("line.dash")),"none"!==s&&(!0!==f.showlegend&&(k.showlegend=!1),k._dfltShowLegend=!1,D(f,k,y,M,{prefix:"",cLetter:"z"})),M("line.smoothing"),E(M,y,a,c)}},88085:function(ae,B,r){"use strict";var D=r(21606),E=r(70600),f=r(50693),k=r(1426).extendFlat,M=E.contours;ae.exports=k({carpet:{valType:"string",editType:"calc"},z:D.z,a:D.x,a0:D.x0,da:D.dx,b:D.y,b0:D.y0,db:D.dy,text:D.text,hovertext:D.hovertext,transpose:D.transpose,atype:D.xtype,btype:D.ytype,fillcolor:E.fillcolor,autocontour:E.autocontour,ncontours:E.ncontours,contours:{type:M.type,start:M.start,end:M.end,size:M.size,coloring:{valType:"enumerated",values:["fill","lines","none"],dflt:"fill",editType:"calc"},showlines:M.showlines,showlabels:M.showlabels,labelfont:M.labelfont,labelformat:M.labelformat,operation:M.operation,value:M.value,editType:"calc",impliedEdits:{autocontour:!1}},line:{color:E.line.color,width:E.line.width,dash:E.line.dash,smoothing:E.line.smoothing,editType:"plot"},transforms:void 0},f("",{cLetter:"z",autoColorDflt:!1}))},59885:function(ae,B,r){"use strict";var D=r(78803),E=r(71828),f=r(68296),k=r(4742),M=r(824),y=r(43907),c=r(70769),i=r(75005),s=r(22882),a=r(18670);ae.exports=function(o,l){var u=l._carpetTrace=s(o,l);if(u&&u.visible&&"legendonly"!==u.visible){if(!l.a||!l.b){var h=o.data[u.index],v=o.data[l.index];v.a||(v.a=h.a),v.b||(v.b=h.b),i(v,l,l._defaultColor,o._fullLayout)}var p=function(T,_){var m,w,x,b,A,g,I,S=_._carpetTrace,O=S.aaxis,R=S.baxis;O._minDtick=0,R._minDtick=0,E.isArray1D(_.z)&&f(_,O,R,"a","b",["z"]),m=_._a=_._a||_.a,b=_._b=_._b||_.b,m=m?O.makeCalcdata(_,"_a"):[],b=b?R.makeCalcdata(_,"_b"):[],w=_.a0||0,x=_.da||1,A=_.b0||0,g=_.db||1,I=_._z=k(_._z||_.z,_.transpose),_._emptypoints=y(I),M(I,_._emptypoints);var L=E.maxRowLength(I),F={a:c(_,"scaled"===_.xtype?"":m,w,x,L,O),b:c(_,"scaled"===_.ytype?"":b,A,g,I.length,R),z:I};return"levels"===_.contours.type&&"none"!==_.contours.coloring&&D(T,_,{vals:I,containerStr:"",cLetter:"z"}),[F]}(o,l);return a(l,l._z),p}}},75005:function(ae,B,r){"use strict";var D=r(71828),E=r(67684),f=r(88085),k=r(83179),M=r(67217),y=r(8724);ae.exports=function(c,i,s,a){function o(l,u){return D.coerce(c,i,f,l,u)}if(o("carpet"),c.a&&c.b){if(!E(c,i,o,a,"a","b"))return void(i.visible=!1);o("text"),"constraint"===o("contours.type")?k(c,i,o,a,s,{hasHover:!1}):(M(c,i,o,function(l){return D.coerce2(c,i,f,l)}),y(c,i,o,a,{hasHover:!1}))}else i._defaultColor=s,i._length=null}},93740:function(ae,B,r){"use strict";ae.exports={attributes:r(88085),supplyDefaults:r(75005),colorbar:r(90654),calc:r(59885),plot:r(51048),style:r(84426),moduleType:"trace",name:"contourcarpet",basePlotModule:r(93612),categories:["cartesian","svg","carpet","contour","symbols","showLegend","hasLines","carpetDependent","noHover","noSortingByValue"],meta:{}}},51048:function(ae,B,r){"use strict";var D=r(39898),E=r(27669),f=r(67961),k=r(91424),M=r(71828),y=r(87678),c=r(81696),i=r(29854),s=r(36914),a=r(84857),o=r(87558),l=r(20083),u=r(22882),h=r(4536);function v(_,m,w){var x=_.getPointAtLength(m),b=_.getPointAtLength(w),A=b.x-x.x,g=b.y-x.y,I=Math.sqrt(A*A+g*g);return[A/I,g/I]}function p(_){var m=Math.sqrt(_[0]*_[0]+_[1]*_[1]);return[_[0]/m,_[1]/m]}function T(_,m){var w=Math.abs(_[0]*m[0]+_[1]*m[1]);return Math.sqrt(1-w*w)/w}ae.exports=function(_,m,w,x){var b=m.xaxis,A=m.yaxis;M.makeTraceGroups(x,w,"contour").each(function(g){var I=D.select(this),S=g[0],O=S.trace,R=O._carpetTrace=u(_,O),L=_.calcdata[R.index][0];if(R.visible&&"legendonly"!==R.visible){var N=S.a,j=S.b,X=O.contours,F=o(X,m,S),Y="constraint"===X.type,G=X._operation,H=Y?"="===G?"lines":"fill":X.coloring,W=[[N[0],j[j.length-1]],[N[N.length-1],j[j.length-1]],[N[N.length-1],j[0]],[N[0],j[0]]];y(F),c(F,1e-8*(N[N.length-1]-N[0]),1e-8*(j[j.length-1]-j[0]));var re,ne,Q,ee,oe=F;"constraint"===X.type&&(oe=a(F,G)),function(pe,Me){var Ae,be,ye,we,ze,Se,Ce,ge,he;for(Ae=0;Ae<pe.length;Ae++){for(ze=(we=pe[Ae]).pedgepaths=[],Se=we.ppaths=[],be=0;be<we.edgepaths.length;be++){for(he=we.edgepaths[be],Ce=[],ye=0;ye<he.length;ye++)Ce[ye]=Me(he[ye]);ze.push(Ce)}for(be=0;be<we.paths.length;be++){for(he=we.paths[be],ge=[],ye=0;ye<he.length;ye++)ge[ye]=Me(he[ye]);Se.push(ge)}}}(F,le);var ce=[];for(ee=L.clipsegments.length-1;ee>=0;ee--)ne=E([],(re=L.clipsegments[ee]).x,b.c2p),Q=E([],re.y,A.c2p),ne.reverse(),Q.reverse(),ce.push(f(ne,Q,re.bicubic));var fe="M"+ce.join("L")+"Z";(function(pe,Me,Ae,be,ye,we){var ze,Se,Ce,ge,he=M.ensureSingle(pe,"g","contourbg").selectAll("path").data("fill"!==we||ye?[]:[0]);he.enter().append("path"),he.exit().remove();var _e=[];for(ge=0;ge<Me.length;ge++)Se=E([],(ze=Me[ge]).x,Ae.c2p),Ce=E([],ze.y,be.c2p),_e.push(f(Se,Ce,ze.bicubic));he.attr("d","M"+_e.join("L")+"Z").style("stroke","none")})(I,L.clipsegments,b,A,Y,H),function(pe,Me,Ae,be,ye,we,ze,Se,Ce,ge,he){var _e="fill"===ge;_e&&l(ye,pe.contours);var Le=M.ensureSingle(Me,"g","contourfill").selectAll("path").data(_e?ye:[]);Le.enter().append("path"),Le.exit().remove(),Le.each(function(Ie){var De=(Ie.prefixBoundary?he:"")+function(je,qe,ve,Oe,ke,Be,We,Ge){var Ke,et,at,mt,ct,kt,Dt,Et="",ht=qe.edgepaths.map(function(ft,Ue){return Ue}),pt=!0,Pt=1e-4*Math.abs(ve[0][0]-ve[2][0]),zt=1e-4*Math.abs(ve[0][1]-ve[2][1]);function Ht(ft){return Math.abs(ft[1]-ve[0][1])<zt}function Lt(ft){return Math.abs(ft[1]-ve[2][1])<zt}function tt(ft){return Math.abs(ft[0]-ve[0][0])<Pt}function it(ft){return Math.abs(ft[0]-ve[2][0])<Pt}function Je(ft,Ue){var $e,dt,ut,At,wt="";for(Ht(ft)&&!it(ft)||Lt(ft)&&!tt(ft)?(At=ke.aaxis,ut=h(ke,Be,[ft[0],Ue[0]],.5*(ft[1]+Ue[1]))):(At=ke.baxis,ut=h(ke,Be,.5*(ft[0]+Ue[0]),[ft[1],Ue[1]])),$e=1;$e<ut.length;$e++)for(wt+=At.smoothing?"C":"L",dt=0;dt<ut[$e].length;dt++){var St=ut[$e][dt];wt+=[We.c2p(St[0]),Ge.c2p(St[1])]+" "}return wt}for(Ke=0,et=null;ht.length;){for(et&&(Et+=Je(et,qe.edgepaths[Ke][0])),Dt=k.smoothopen(qe.edgepaths[Ke].map(Oe),qe.smoothing),Et+=pt?Dt:Dt.replace(/^M/,"L"),ht.splice(ht.indexOf(Ke),1),et=qe.edgepaths[Ke][qe.edgepaths[Ke].length-1],ct=-1,mt=0;mt<4;mt++){if(!et){M.log("Missing end?",Ke,qe);break}for(Ht(et)&&!it(et)?at=ve[1]:tt(et)?at=ve[0]:Lt(et)?at=ve[3]:it(et)&&(at=ve[2]),kt=0;kt<qe.edgepaths.length;kt++){var gt=qe.edgepaths[kt][0];Math.abs(et[0]-at[0])<Pt?Math.abs(et[0]-gt[0])<Pt&&(gt[1]-et[1])*(at[1]-gt[1])>=0&&(at=gt,ct=kt):Math.abs(et[1]-at[1])<zt?Math.abs(et[1]-gt[1])<zt&&(gt[0]-et[0])*(at[0]-gt[0])>=0&&(at=gt,ct=kt):M.log("endpt to newendpt is not vert. or horz.",et,at,gt)}if(ct>=0)break;Et+=Je(et,at),et=at}if(ct===qe.edgepaths.length){M.log("unclosed perimeter path");break}(pt=-1===ht.indexOf(Ke=ct))&&(Ke=ht[0],Et+=Je(et,at)+"Z",et=null)}for(Ke=0;Ke<qe.paths.length;Ke++)Et+=k.smoothclosed(qe.paths[Ke].map(Oe),qe.smoothing);return Et}(0,Ie,we,ze,Se,Ce,Ae,be);De?D.select(this).attr("d",De).style("stroke","none"):D.select(this).remove()})}(O,I,b,A,oe,W,le,R,L,H,fe),function(pe,Me,Ae,be,ye,we,ze){var Se=Ae._context.staticPlot,Ce=M.ensureSingle(pe,"g","contourlines"),ge=!1!==ye.showlines,he=ye.showlabels,_e=ge&&he,Le=i.createLines(Ce,ge||he,Me,Se),Ie=i.createLineClip(Ce,_e,Ae,be.trace.uid),De=pe.selectAll("g.contourlabels").data(he?[0]:[]);if(De.exit().remove(),De.enter().append("g").classed("contourlabels",!0),he){var ve=we.xaxis._length,Oe=we.yaxis._length,ke=[[[0,0],[ve,0],[ve,Oe],[0,Oe]]],Be=[];M.clearLocationCache();var We=i.labelFormatter(Ae,be),Ge=k.tester.append("text").attr("data-notex",1).call(k.font,ye.labelfont),Ke={left:0,right:ve,center:ve/2,top:0,bottom:Oe,middle:Oe/2},et=Math.sqrt(ve*ve+Oe*Oe),at=s.LABELDISTANCE*et/Math.max(1,Me.length/s.LABELINCREASE);Le.each(function(mt){var ct=i.calcTextOpts(mt.level,We,Ge,Ae);D.select(this).selectAll("path").each(function(kt){var Et=M.getVisibleSegment(this,Ke,ct.height/2);if(Et&&(function(zt,Ht,Lt,tt,it,Je){for(var ot,gt=0;gt<Lt.pedgepaths.length;gt++)Ht===Lt.pedgepaths[gt]&&(ot=Lt.edgepaths[gt]);if(ot){var ft=it.a[0],Ue=it.a[it.a.length-1],$e=it.b[0],dt=it.b[it.b.length-1],ut=v(zt,0,1),At=v(zt,tt.total,tt.total-1),wt=_t(ot[0],ut),St=tt.total-_t(ot[ot.length-1],At);tt.min<wt&&(tt.min=wt),tt.max>St&&(tt.max=St),tt.len=tt.max-tt.min}function _t(Rt,bt){var Tt,It=0;return(Math.abs(Rt[0]-ft)<.1||Math.abs(Rt[0]-Ue)<.1)&&(Tt=p(it.dxydb_rough(Rt[0],Rt[1],.1)),It=Math.max(It,Je*T(bt,Tt)/2)),(Math.abs(Rt[1]-$e)<.1||Math.abs(Rt[1]-dt)<.1)&&(Tt=p(it.dxyda_rough(Rt[0],Rt[1],.1)),It=Math.max(It,Je*T(bt,Tt)/2)),It}}(this,kt,mt,Et,ze,ct.height),!(Et.len<(ct.width+ct.height)*s.LABELMIN)))for(var ht=Math.min(Math.ceil(Et.len/at),s.LABELMAX),pt=0;pt<ht;pt++){var Pt=i.findBestTextLocation(this,Et,ct,Be,Ke);if(!Pt)break;i.addLabelData(Pt,ct,Be,ke)}})}),Ge.remove(),i.drawLabels(De,Be,Ae,Ie,_e?ke:null)}he&&!ge&&Le.remove()}(I,F,_,S,X,m,R),k.setClipUrl(I,R._clipPathId,_)}function le(pe){var Me=R.ab2xy(pe[0],pe[1],!0);return[b.c2p(Me[0]),A.c2p(Me[1])]}})}},64096:function(ae,B,r){"use strict";var D=r(50693),E=r(5386).fF,f=r(9012),k=r(99181),M=r(1426).extendFlat;ae.exports=M({lon:k.lon,lat:k.lat,z:{valType:"data_array",editType:"calc"},radius:{valType:"number",editType:"plot",arrayOk:!0,min:1,dflt:30},below:{valType:"string",editType:"plot"},text:k.text,hovertext:k.hovertext,hoverinfo:M({},f.hoverinfo,{flags:["lon","lat","z","text","name"]}),hovertemplate:E(),showlegend:M({},f.showlegend,{dflt:!1})},D("",{cLetter:"z",editTypeOverride:"calc"}))},85070:function(ae,B,r){"use strict";var D=r(92770),E=r(71828).isArrayOrTypedArray,f=r(50606).BADNUM,k=r(78803),M=r(71828)._;ae.exports=function(y,c){for(var i=c._length,s=new Array(i),a=c.z,o=E(a)&&a.length,l=0;l<i;l++){var u=s[l]={},h=c.lon[l],v=c.lat[l];if(u.lonlat=D(h)&&D(v)?[+h,+v]:[f,f],o){var p=a[l];u.z=D(p)?p:f}}return k(y,c,{vals:o?a:[0,1],containerStr:"",cLetter:"z"}),i&&(s[0].t={labels:{lat:M(y,"lat:")+" ",lon:M(y,"lon:")+" "}}),s}},52414:function(ae,B,r){"use strict";var D=r(92770),E=r(71828),f=r(7901),k=r(21081),M=r(50606).BADNUM,y=r(18214).makeBlank;ae.exports=function(c){var i=c[0].trace,s=!0===i.visible&&0!==i._length,a=i._opts={heatmap:{layout:{visibility:"none"},paint:{}},geojson:y()};if(!s)return a;var o,l=[],u=i.z,h=i.radius,v=E.isArrayOrTypedArray(u)&&u.length,p=E.isArrayOrTypedArray(h);for(o=0;o<c.length;o++){var T=c[o],_=T.lonlat;if(_[0]!==M){var m={};if(v){var w=T.z;m.z=w!==M?w:0}p&&(m.r=D(h[o])&&h[o]>0?+h[o]:0),l.push({type:"Feature",geometry:{type:"Point",coordinates:_},properties:m})}}var x=k.extractOpts(i),b=x.reversescale?k.flipScale(x.colorscale):x.colorscale,A=b[0][1],g=["interpolate",["linear"],["heatmap-density"],0,f.opacity(A)<1?A:f.addOpacity(A,0)];for(o=1;o<b.length;o++)g.push(b[o][0],b[o][1]);return E.extendFlat(a.heatmap.paint,{"heatmap-weight":v?["interpolate",["linear"],["get","z"],x.min,0,x.max,1]:1/(x.max-x.min),"heatmap-color":g,"heatmap-radius":p?{type:"identity",property:"r"}:i.radius,"heatmap-opacity":i.opacity}),a.geojson={type:"FeatureCollection",features:l},a.heatmap.layout.visibility="visible",a}},79429:function(ae,B,r){"use strict";var D=r(71828),E=r(1586),f=r(64096);ae.exports=function(k,M,y,c){function i(l,u){return D.coerce(k,M,f,l,u)}var s=i("lon")||[],a=i("lat")||[],o=Math.min(s.length,a.length);o?(M._length=o,i("z"),i("radius"),i("below"),i("text"),i("hovertext"),i("hovertemplate"),E(k,M,c,i,{prefix:"",cLetter:"z"})):M.visible=!1}},62474:function(ae){"use strict";ae.exports=function(B,r){return B.lon=r.lon,B.lat=r.lat,B.z=r.z,B}},84684:function(ae,B,r){"use strict";var D=r(89298),E=r(28178).hoverPoints,f=r(28178).getExtraText;ae.exports=function(k,M,y){var c=E(k,M,y);if(c){var i=c[0],s=i.cd,a=s[0].trace,o=s[i.index];if(delete i.color,"z"in o){var l=i.subplot.mockAxis;i.z=o.z,i.zLabel=D.tickText(l,l.c2l(o.z),"hover").text}return i.extraText=f(a,o,s[0].t.labels),[i]}}},93814:function(ae,B,r){"use strict";ae.exports={attributes:r(64096),supplyDefaults:r(79429),colorbar:r(61243),formatLabels:r(15636),calc:r(85070),plot:r(7336),hoverPoints:r(84684),eventData:r(62474),getBelow:function(D,E){for(var f=E.getMapLayers(),k=0;k<f.length;k++){var M=f[k],y=M.id;if("symbol"===M.type&&"string"==typeof y&&-1===y.indexOf("plotly-"))return y}},moduleType:"trace",name:"densitymapbox",basePlotModule:r(50101),categories:["mapbox","gl","showLegend"],meta:{hr_name:"density_mapbox"}}},7336:function(ae,B,r){"use strict";var D=r(52414),E=r(77734).traceLayerPrefix;function f(M,y){this.type="densitymapbox",this.subplot=M,this.uid=y,this.sourceId="source-"+y,this.layerList=[["heatmap",E+y+"-heatmap"]],this.below=null}var k=f.prototype;k.update=function(M){var y=this.subplot,c=this.layerList,i=D(M),s=y.belowLookup["trace-"+this.uid];y.map.getSource(this.sourceId).setData(i.geojson),s!==this.below&&(this._removeLayers(),this._addLayers(i,s),this.below=s);for(var a=0;a<c.length;a++){var o=c[a],u=o[1],h=i[o[0]];y.setOptions(u,"setLayoutProperty",h.layout),"visible"===h.layout.visibility&&y.setOptions(u,"setPaintProperty",h.paint)}},k._addLayers=function(M,y){for(var c=this.subplot,i=this.layerList,s=this.sourceId,a=0;a<i.length;a++){var o=i[a],l=o[0],u=M[l];c.addLayer({type:l,id:o[1],source:s,layout:u.layout,paint:u.paint},y)}},k._removeLayers=function(){for(var M=this.subplot.map,y=this.layerList,c=y.length-1;c>=0;c--)M.removeLayer(y[c][1])},k.dispose=function(){var M=this.subplot.map;this._removeLayers(),M.removeSource(this.sourceId)},ae.exports=function(M,y){var c=y[0].trace,i=new f(M,c.uid),s=i.sourceId,a=D(y),o=i.below=M.belowLookup["trace-"+c.uid];return M.map.addSource(s,{type:"geojson",data:a.geojson}),i._addLayers(a,o),i}},49789:function(ae,B,r){"use strict";var D=r(71828);ae.exports=function(E,f){for(var k=0;k<E.length;k++)E[k].i=k;D.mergeArray(f.text,E,"tx"),D.mergeArray(f.hovertext,E,"htx");var M=f.marker;if(M){D.mergeArray(M.opacity,E,"mo"),D.mergeArray(M.color,E,"mc");var y=M.line;y&&(D.mergeArray(y.color,E,"mlc"),D.mergeArrayCastPositive(y.width,E,"mlw"))}}},1285:function(ae,B,r){"use strict";var D,E=r(1486),f=r(82196).line,k=r(9012),M=r(12663).axisHoverFormat,y=r(5386).fF,c=r(5386).si,i=r(18517),s=r(1426).extendFlat,a=r(7901);ae.exports={x:E.x,x0:E.x0,dx:E.dx,y:E.y,y0:E.y0,dy:E.dy,xperiod:E.xperiod,yperiod:E.yperiod,xperiod0:E.xperiod0,yperiod0:E.yperiod0,xperiodalignment:E.xperiodalignment,yperiodalignment:E.yperiodalignment,xhoverformat:M("x"),yhoverformat:M("y"),hovertext:E.hovertext,hovertemplate:y({},{keys:i.eventDataKeys}),hoverinfo:s({},k.hoverinfo,{flags:["name","x","y","text","percent initial","percent previous","percent total"]}),textinfo:{valType:"flaglist",flags:["label","text","percent initial","percent previous","percent total","value"],extras:["none"],editType:"plot",arrayOk:!1},texttemplate:c({editType:"plot"},{keys:i.eventDataKeys.concat(["label","value"])}),text:E.text,textposition:E.textposition,insidetextanchor:s({},E.insidetextanchor,{dflt:"middle"}),textangle:s({},E.textangle,{dflt:0}),textfont:E.textfont,insidetextfont:E.insidetextfont,outsidetextfont:E.outsidetextfont,constraintext:E.constraintext,cliponaxis:E.cliponaxis,orientation:s({},E.orientation,{}),offset:s({},E.offset,{arrayOk:!1}),width:s({},E.width,{arrayOk:!1}),marker:(D=s({},E.marker),delete D.pattern,D),connector:{fillcolor:{valType:"color",editType:"style"},line:{color:s({},f.color,{dflt:a.defaultLine}),width:s({},f.width,{dflt:0,editType:"plot"}),dash:f.dash,editType:"style"},visible:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},offsetgroup:E.offsetgroup,alignmentgroup:E.alignmentgroup}},9532:function(ae,B,r){"use strict";var D=r(89298),E=r(42973),f=r(49789),k=r(66279),M=r(50606).BADNUM;function y(c){return c===M?0:c}ae.exports=function(c,i){var s,a,o,l,u,h,v,p,T=D.getFromId(c,i.xaxis||"x"),_=D.getFromId(c,i.yaxis||"y");"h"===i.orientation?(s=T.makeCalcdata(i,"x"),o=_.makeCalcdata(i,"y"),l=E(i,_,"y",o),u=!!i.yperiodalignment,h="y"):(s=_.makeCalcdata(i,"y"),o=T.makeCalcdata(i,"x"),l=E(i,T,"x",o),u=!!i.xperiodalignment,h="x"),a=l.vals;var m,w=Math.min(a.length,s.length),x=new Array(w);for(i._base=[],v=0;v<w;v++){s[v]<0&&(s[v]=M);var b=!1;s[v]!==M&&v+1<w&&s[v+1]!==M&&(b=!0),p=x[v]={p:a[v],s:s[v],cNext:b},i._base[v]=-.5*p.s,u&&(x[v].orig_p=o[v],x[v][h+"End"]=l.ends[v],x[v][h+"Start"]=l.starts[v]),i.ids&&(p.id=String(i.ids[v])),0===v&&(x[0].vTotal=0),x[0].vTotal+=y(p.s),p.begR=y(p.s)/y(x[0].s)}for(v=0;v<w;v++)(p=x[v]).s!==M&&(p.sumR=p.s/x[0].vTotal,p.difR=void 0!==m?p.s/m:1,m=p.s);return f(x,i),k(x,i),x}},18517:function(ae){"use strict";ae.exports={eventDataKeys:["percentInitial","percentPrevious","percentTotal"]}},8984:function(ae,B,r){"use strict";var D=r(11661).setGroupPositions;ae.exports=function(E,f){var k,M,y=E._fullLayout,c=E._fullData,i=E.calcdata,s=f.xaxis,a=f.yaxis,o=[],l=[],u=[];for(M=0;M<c.length;M++){var h=c[M];!0===h.visible&&h.xaxis===s._id&&h.yaxis===a._id&&"funnel"===h.type&&(k=i[M],"h"===h.orientation?u.push(k):l.push(k),o.push(k))}var p={mode:y.funnelmode,norm:y.funnelnorm,gap:y.funnelgap,groupgap:y.funnelgroupgap};for(D(E,s,a,l,p),D(E,a,s,u,p),M=0;M<o.length;M++){k=o[M];for(var T=0;T<k.length;T++)T+1<k.length&&(k[T].nextP0=k[T+1].p0,k[T].nextS0=k[T+1].s0,k[T].nextP1=k[T+1].p1,k[T].nextS1=k[T+1].s1)}}},26199:function(ae,B,r){"use strict";var D=r(71828),E=r(26125),f=r(90769).handleText,k=r(67513),M=r(73927),y=r(1285),c=r(7901);ae.exports={supplyDefaults:function(i,s,a,o){function l(p,T){return D.coerce(i,s,y,p,T)}if(k(i,s,o,l)){M(i,s,o,l),l("xhoverformat"),l("yhoverformat"),l("orientation",s.y&&!s.x?"v":"h"),l("offset"),l("width");var u=l("text");l("hovertext"),l("hovertemplate");var h=l("textposition");f(i,s,o,l,h,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),"none"===s.textposition||s.texttemplate||l("textinfo",Array.isArray(u)?"text+value":"value");var v=l("marker.color",a);l("marker.line.color",c.defaultLine),l("marker.line.width"),l("connector.visible")&&(l("connector.fillcolor",(T=D.isArrayOrTypedArray(p=v)?"#000":p,c.addOpacity(T,.5*c.opacity(T)))),l("connector.line.width")&&(l("connector.line.color"),l("connector.line.dash")))}else s.visible=!1;var p,T},crossTraceDefaults:function(i,s){var a,o;function l(h){return D.coerce(o._input,o,y,h)}if("group"===s.funnelmode)for(var u=0;u<i.length;u++)a=(o=i[u])._input,E(a,o,s,l)}}},34598:function(ae){"use strict";ae.exports=function(B,r){return B.x="xVal"in r?r.xVal:r.x,B.y="yVal"in r?r.yVal:r.y,"percentInitial"in r&&(B.percentInitial=r.percentInitial),"percentPrevious"in r&&(B.percentPrevious=r.percentPrevious),"percentTotal"in r&&(B.percentTotal=r.percentTotal),r.xa&&(B.xaxis=r.xa),r.ya&&(B.yaxis=r.ya),B}},63341:function(ae,B,r){"use strict";var D=r(7901).opacity,E=r(95423).hoverOnBars,f=r(71828).formatPercent;ae.exports=function(k,M,y,c,i){var w,x,b,A,g,s=E(k,M,y,c,i);if(s){var a=s.cd,o=a[0].trace,u=a[s.index];s[("h"===o.orientation?"x":"y")+"LabelVal"]=u.s,s.percentInitial=u.begR,s.percentInitialLabel=f(u.begR,1),s.percentPrevious=u.difR,s.percentPreviousLabel=f(u.difR,1),s.percentTotal=u.sumR,s.percentTotalLabel=f(u.sumR,1);var h=u.hi||o.hoverinfo,v=[];if(h&&"none"!==h&&"skip"!==h){var p="all"===h,T=h.split("+"),_=function(m){return p||-1!==T.indexOf(m)};_("percent initial")&&v.push(s.percentInitialLabel+" of initial"),_("percent previous")&&v.push(s.percentPreviousLabel+" of previous"),_("percent total")&&v.push(s.percentTotalLabel+" of total")}return s.extraText=v.join("<br>"),s.color=(x=o.marker,A=(w=u).mlc||x.line.color,g=w.mlw||x.line.width,D(b=w.mc||x.color)?b:D(A)&&g?A:void 0),[s]}}},51759:function(ae,B,r){"use strict";ae.exports={attributes:r(1285),layoutAttributes:r(10440),supplyDefaults:r(26199).supplyDefaults,crossTraceDefaults:r(26199).crossTraceDefaults,supplyLayoutDefaults:r(93138),calc:r(9532),crossTraceCalc:r(8984),plot:r(80461),style:r(68266).style,hoverPoints:r(63341),eventData:r(34598),selectPoints:r(81974),moduleType:"trace",name:"funnel",basePlotModule:r(93612),categories:["bar-like","cartesian","svg","oriented","showLegend","zoomScale"],meta:{}}},10440:function(ae){"use strict";ae.exports={funnelmode:{valType:"enumerated",values:["stack","group","overlay"],dflt:"stack",editType:"calc"},funnelgap:{valType:"number",min:0,max:1,editType:"calc"},funnelgroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},93138:function(ae,B,r){"use strict";var D=r(71828),E=r(10440);ae.exports=function(f,k,M){var y=!1;function c(a,o){return D.coerce(f,k,E,a,o)}for(var i=0;i<M.length;i++){var s=M[i];if(s.visible&&"funnel"===s.type){y=!0;break}}y&&(c("funnelmode"),c("funnelgap",.2),c("funnelgroupgap"))}},80461:function(ae,B,r){"use strict";var D=r(39898),E=r(71828),f=r(91424),k=r(50606).BADNUM,M=r(17295),y=r(72597).clearMinTextSize;function c(i,s,a,o){var l=[],u=[],h=o?s:a,v=o?a:s;return l[0]=h.c2p(i.s0,!0),u[0]=v.c2p(i.p0,!0),l[1]=h.c2p(i.s1,!0),u[1]=v.c2p(i.p1,!0),l[2]=h.c2p(i.nextS0,!0),u[2]=v.c2p(i.nextP0,!0),l[3]=h.c2p(i.nextS1,!0),u[3]=v.c2p(i.nextP1,!0),o?[l,u]:[u,l]}ae.exports=function(i,s,a,o){var u,h,T,_,l=i._fullLayout;y("funnel",l),u=i,T=(h=s).xaxis,_=h.yaxis,E.makeTraceGroups(o,a,"trace bars").each(function(m){var w=D.select(this),x=m[0].trace,b=E.ensureSingle(w,"g","regions");if(x.connector&&x.connector.visible){var A="h"===x.orientation,g=b.selectAll("g.region").data(E.identity);g.enter().append("g").classed("region",!0),g.exit().remove();var I=g.size();g.each(function(S,O){if(O===I-1||S.cNext){var R=c(S,T,_,A),L=R[0],N=R[1],j="";L[0]!==k&&N[0]!==k&&L[1]!==k&&N[1]!==k&&L[2]!==k&&N[2]!==k&&L[3]!==k&&N[3]!==k&&(j+=A?"M"+L[0]+","+N[1]+"L"+L[2]+","+N[2]+"H"+L[3]+"L"+L[1]+","+N[1]+"Z":"M"+L[1]+","+N[1]+"L"+L[2]+","+N[3]+"V"+N[2]+"L"+L[1]+","+N[0]+"Z"),""===j&&(j="M0,0Z"),E.ensureSingle(D.select(this),"path").attr("d",j).call(f.setClipUrl,h.layerClipId,u)}})}else b.remove()}),function(u,h,v,p){var T=h.xaxis,_=h.yaxis;E.makeTraceGroups(p,v,"trace bars").each(function(m){var w=D.select(this),x=m[0].trace,b=E.ensureSingle(w,"g","lines");if(x.connector&&x.connector.visible&&x.connector.line.width){var A="h"===x.orientation,g=b.selectAll("g.line").data(E.identity);g.enter().append("g").classed("line",!0),g.exit().remove();var I=g.size();g.each(function(S,O){if(O===I-1||S.cNext){var R=c(S,T,_,A),L=R[0],N=R[1],j="";void 0!==L[3]&&void 0!==N[3]&&(A?(j+="M"+L[0]+","+N[1]+"L"+L[2]+","+N[2],j+="M"+L[1]+","+N[1]+"L"+L[3]+","+N[2]):(j+="M"+L[1]+","+N[1]+"L"+L[2]+","+N[3],j+="M"+L[1]+","+N[0]+"L"+L[2]+","+N[2])),""===j&&(j="M0,0Z"),E.ensureSingle(D.select(this),"path").attr("d",j).call(f.setClipUrl,h.layerClipId,u)}})}else b.remove()})}(i,s,a,o),M.plot(i,s,a,o,{mode:l.funnelmode,norm:l.funnelmode,gap:l.funnelgap,groupgap:l.funnelgroupgap})}},68266:function(ae,B,r){"use strict";var D=r(39898),E=r(91424),f=r(7901),k=r(37822).DESELECTDIM,M=r(16688),y=r(72597).resizeText,c=M.styleTextPoints;ae.exports={style:function(i,s,a){var o=a||D.select(i).selectAll("g.funnellayer").selectAll("g.trace");y(i,o,"funnel"),o.style("opacity",function(l){return l[0].trace.opacity}),o.each(function(l){var u=D.select(this),h=l[0].trace;u.selectAll(".point > path").each(function(v){if(!v.isBlank){var p=h.marker;D.select(this).call(f.fill,v.mc||p.color).call(f.stroke,v.mlc||p.line.color).call(E.dashLine,p.line.dash,v.mlw||p.line.width).style("opacity",h.selectedpoints&&!v.selected?k:1)}}),c(u,h,i),u.selectAll(".regions").each(function(){D.select(this).selectAll("path").style("stroke-width",0).call(f.fill,h.connector.fillcolor)}),u.selectAll(".lines").each(function(){var v=h.connector.line;E.lineGroupStyle(D.select(this).selectAll("path"),v.width,v.color,v.dash)})})}}},86807:function(ae,B,r){"use strict";var D=r(34e3),E=r(9012),f=r(27670).Y,k=r(5386).fF,M=r(5386).si,y=r(1426).extendFlat;ae.exports={labels:D.labels,label0:D.label0,dlabel:D.dlabel,values:D.values,marker:{colors:D.marker.colors,line:{color:y({},D.marker.line.color,{dflt:null}),width:y({},D.marker.line.width,{dflt:1}),editType:"calc"},pattern:D.marker.pattern,editType:"calc"},text:D.text,hovertext:D.hovertext,scalegroup:y({},D.scalegroup,{}),textinfo:y({},D.textinfo,{flags:["label","text","value","percent"]}),texttemplate:M({editType:"plot"},{keys:["label","color","value","text","percent"]}),hoverinfo:y({},E.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:k({},{keys:["label","color","value","text","percent"]}),textposition:y({},D.textposition,{values:["inside","none"],dflt:"inside"}),textfont:D.textfont,insidetextfont:D.insidetextfont,title:{text:D.title.text,font:D.title.font,position:y({},D.title.position,{values:["top left","top center","top right"],dflt:"top center"}),editType:"plot"},domain:f({name:"funnelarea",trace:!0,editType:"calc"}),aspectratio:{valType:"number",min:0,dflt:1,editType:"plot"},baseratio:{valType:"number",min:0,max:1,dflt:.333,editType:"plot"}}},6452:function(ae,B,r){"use strict";var D=r(74875);B.name="funnelarea",B.plot=function(E,f,k,M){D.plotBasePlot(B.name,E,f,k,M)},B.clean=function(E,f,k,M){D.cleanBasePlot(B.name,E,f,k,M)}},89574:function(ae,B,r){"use strict";var D=r(32354);ae.exports={calc:function(E,f){return D.calc(E,f)},crossTraceCalc:function(E){D.crossTraceCalc(E,{type:"funnelarea"})}}},86282:function(ae,B,r){"use strict";var D=r(71828),E=r(86807),f=r(27670).c,k=r(90769).handleText,M=r(37434).handleLabelsAndValues,y=r(37434).handleMarkerDefaults;ae.exports=function(c,i,s,a){function o(w,x){return D.coerce(c,i,E,w,x)}var l=o("labels"),u=o("values"),h=M(l,u),v=h.len;if(i._hasLabels=h.hasLabels,i._hasValues=h.hasValues,!i._hasLabels&&i._hasValues&&(o("label0"),o("dlabel")),v){i._length=v,y(c,i,a,o),o("scalegroup");var p,T=o("text"),_=o("texttemplate");if(_||(p=o("textinfo",Array.isArray(T)?"text+percent":"percent")),o("hovertext"),o("hovertemplate"),_||p&&"none"!==p){var m=o("textposition");k(c,i,a,o,m,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1})}f(i,a,o),o("title.text")&&(o("title.position"),D.coerceFont(o,"title.font",a.font)),o("aspectratio"),o("baseratio")}else i.visible=!1}},10421:function(ae,B,r){"use strict";ae.exports={moduleType:"trace",name:"funnelarea",basePlotModule:r(6452),categories:["pie-like","funnelarea","showLegend"],attributes:r(86807),layoutAttributes:r(80097),supplyDefaults:r(86282),supplyLayoutDefaults:r(57402),calc:r(89574).calc,crossTraceCalc:r(89574).crossTraceCalc,plot:r(79187),style:r(71858),styleOne:r(63463),meta:{}}},80097:function(ae,B,r){"use strict";var D=r(92774).hiddenlabels;ae.exports={hiddenlabels:D,funnelareacolorway:{valType:"colorlist",editType:"calc"},extendfunnelareacolors:{valType:"boolean",dflt:!0,editType:"calc"}}},57402:function(ae,B,r){"use strict";var D=r(71828),E=r(80097);ae.exports=function(f,k){function M(y,c){return D.coerce(f,k,E,y,c)}M("hiddenlabels"),M("funnelareacolorway",k.colorway),M("extendfunnelareacolors")}},79187:function(ae,B,r){"use strict";var D=r(39898),E=r(91424),f=r(71828),k=f.strScale,M=f.strTranslate,y=r(63893),c=r(17295).toMoveInsideBar,i=r(72597),s=i.recordMinTextSize,a=i.clearMinTextSize,o=r(53581),l=r(14575),u=l.attachFxHandlers,h=l.determineInsideTextFont,v=l.layoutAreas,p=l.prerenderTitles,T=l.positionTitleOutside,_=l.formatSliceLabel;function m(w,x){return"l"+(x[0]-w[0])+","+(x[1]-w[1])}ae.exports=function(w,x){var b=w._context.staticPlot,A=w._fullLayout;a("funnelarea",A),p(x,w),v(x,A._size),f.makeTraceGroups(A._funnelarealayer,x,"trace").each(function(g){var I=D.select(this),S=g[0],O=S.trace;(function(R){if(R.length){var L=R[0],N=L.trace,j=N.aspectratio,X=N.baseratio;X>.999&&(X=.999);var F,Y,G,H=Math.pow(X,2),W=L.vTotal,Z=W,se=W*H/(1-H)/W,re=[];for(re.push(Ce()),Y=R.length-1;Y>-1;Y--)(G=R[Y]).hidden||(se+=G.v/Z,re.push(Ce()));var Q=1/0,ee=-1/0;for(Y=0;Y<re.length;Y++)F=re[Y],Q=Math.min(Q,F[1]),ee=Math.max(ee,F[1]);for(Y=0;Y<re.length;Y++)re[Y][1]-=(ee+Q)/2;var ce=L.r,fe=(ee-Q)/2,le=ce/re[re.length-1][0],pe=ce/fe*j;for(L.r=pe*fe,Y=0;Y<re.length;Y++)re[Y][0]*=le,re[Y][1]*=pe;var Me,Ae,be=[-(F=re[0])[0],F[1]],ye=[F[0],F[1]],we=0;for(Y=R.length-1;Y>-1;Y--)if(!(G=R[Y]).hidden){var ze=re[we+=1][0],Se=re[we][1];G.TL=[-ze,Se],G.TR=[ze,Se],G.BL=be,G.BR=ye,G.pxmid=[.5*((Me=G.TR)[0]+(Ae=G.BR)[0]),.5*(Me[1]+Ae[1])],be=G.TL,ye=G.TR}}function Ce(){var ge,he={x:ge=Math.sqrt(se),y:-ge};return[he.x,he.y]}})(g),I.each(function(){var R=D.select(this).selectAll("g.slice").data(g);R.enter().append("g").classed("slice",!0),R.exit().remove(),R.each(function(N,j){if(N.hidden)D.select(this).selectAll("path,g").remove();else{N.pointNumber=N.i,N.curveNumber=O.index;var X=S.cx,F=S.cy,Y=D.select(this),G=Y.selectAll("path.surface").data([N]);G.enter().append("path").classed("surface",!0).style({"pointer-events":b?"none":"all"}),Y.call(u,w,g);var H="M"+(X+N.TR[0])+","+(F+N.TR[1])+m(N.TR,N.BR)+m(N.BR,N.BL)+m(N.BL,N.TL)+"Z";G.attr("d",H),_(w,N,S);var W=o.castOption(O.textposition,N.pts),Z=Y.selectAll("g.slicetext").data(N.text&&"none"!==W?[0]:[]);Z.enter().append("g").classed("slicetext",!0),Z.exit().remove(),Z.each(function(){var se=f.ensureSingle(D.select(this),"text","",function(le){le.attr("data-notex",1)}),re=f.ensureUniformFontSize(w,h(O,N,A.font));se.text(N.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(E.font,re).call(y.convertToTspans,w);var ne,Q,ee,oe=E.bBox(se.node()),ce=Math.min(N.BL[1],N.BR[1])+F,fe=Math.max(N.TL[1],N.TR[1])+F;Q=Math.max(N.TL[0],N.BL[0])+X,ee=Math.min(N.TR[0],N.BR[0])+X,(ne=c(Q,ee,ce,fe,oe,{isHorizontal:!0,constrained:!0,angle:0,anchor:"middle"})).fontSize=re.size,s(O.type,ne,A),g[j].transform=ne,f.setTransormAndDisplay(se,ne)})}});var L=D.select(this).selectAll("g.titletext").data(O.title.text?[0]:[]);L.enter().append("g").classed("titletext",!0),L.exit().remove(),L.each(function(){var N=f.ensureSingle(D.select(this),"text","",function(F){F.attr("data-notex",1)}),j=O.title.text;O._meta&&(j=f.templateString(j,O._meta)),N.text(j).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(E.font,O.title.font).call(y.convertToTspans,w);var X=T(S,A._size);N.attr("transform",M(X.x,X.y)+k(Math.min(1,X.scale))+M(X.tx,X.ty))})})})}},71858:function(ae,B,r){"use strict";var D=r(39898),E=r(63463),f=r(72597).resizeText;ae.exports=function(k){var M=k._fullLayout._funnelarealayer.selectAll(".trace");f(k,M,"funnelarea"),M.each(function(y){var c=y[0].trace,i=D.select(this);i.style({opacity:c.opacity}),i.selectAll("path.surface").each(function(s){D.select(this).call(E,s,c,k)})})}},21606:function(ae,B,r){"use strict";var D=r(82196),E=r(9012),f=r(41940),k=r(12663).axisHoverFormat,M=r(5386).fF,y=r(5386).si,c=r(50693),i=r(1426).extendFlat;ae.exports=i({z:{valType:"data_array",editType:"calc"},x:i({},D.x,{impliedEdits:{xtype:"array"}}),x0:i({},D.x0,{impliedEdits:{xtype:"scaled"}}),dx:i({},D.dx,{impliedEdits:{xtype:"scaled"}}),y:i({},D.y,{impliedEdits:{ytype:"array"}}),y0:i({},D.y0,{impliedEdits:{ytype:"scaled"}}),dy:i({},D.dy,{impliedEdits:{ytype:"scaled"}}),xperiod:i({},D.xperiod,{impliedEdits:{xtype:"scaled"}}),yperiod:i({},D.yperiod,{impliedEdits:{ytype:"scaled"}}),xperiod0:i({},D.xperiod0,{impliedEdits:{xtype:"scaled"}}),yperiod0:i({},D.yperiod0,{impliedEdits:{ytype:"scaled"}}),xperiodalignment:i({},D.xperiodalignment,{impliedEdits:{xtype:"scaled"}}),yperiodalignment:i({},D.yperiodalignment,{impliedEdits:{ytype:"scaled"}}),text:{valType:"data_array",editType:"calc"},hovertext:{valType:"data_array",editType:"calc"},transpose:{valType:"boolean",dflt:!1,editType:"calc"},xtype:{valType:"enumerated",values:["array","scaled"],editType:"calc+clearAxisTypes"},ytype:{valType:"enumerated",values:["array","scaled"],editType:"calc+clearAxisTypes"},zsmooth:{valType:"enumerated",values:["fast","best",!1],dflt:!1,editType:"calc"},hoverongaps:{valType:"boolean",dflt:!0,editType:"none"},connectgaps:{valType:"boolean",editType:"calc"},xgap:{valType:"number",dflt:0,min:0,editType:"plot"},ygap:{valType:"number",dflt:0,min:0,editType:"plot"},xhoverformat:k("x"),yhoverformat:k("y"),zhoverformat:k("z",1),hovertemplate:M(),texttemplate:y({arrayOk:!1,editType:"plot"},{keys:["x","y","z","text"]}),textfont:f({editType:"plot",autoSize:!0,autoColor:!0,colorEditType:"style"}),showlegend:i({},E.showlegend,{dflt:!1})},{transforms:void 0},c("",{cLetter:"z",autoColorDflt:!1}))},90757:function(ae,B,r){"use strict";var D=r(73972),E=r(71828),f=r(89298),k=r(42973),M=r(17562),y=r(78803),c=r(68296),i=r(4742),s=r(824),a=r(43907),o=r(70769),l=r(50606).BADNUM;function u(h){for(var v=[],p=h.length,T=0;T<p;T++){var _=h[T];_!==l&&v.push(_)}return v}ae.exports=function(h,v){var p,T,_,m,w,x,b,A,g,I,S,O=f.getFromId(h,v.xaxis||"x"),R=f.getFromId(h,v.yaxis||"y"),L=D.traceIs(v,"contour"),N=D.traceIs(v,"histogram"),j=D.traceIs(v,"gl2d"),X=L?"best":v.zsmooth;if(O._minDtick=0,R._minDtick=0,N)m=(S=M(h,v)).orig_x,p=S.x,T=S.x0,_=S.dx,A=S.orig_y,w=S.y,x=S.y0,b=S.dy,g=S.z;else{var F=v.z;E.isArray1D(F)?(c(v,O,R,"x","y",["z"]),p=v._x,w=v._y,F=v._z):(m=v.x?O.makeCalcdata(v,"x"):[],A=v.y?R.makeCalcdata(v,"y"):[],p=k(v,O,"x",m).vals,w=k(v,R,"y",A).vals,v._x=p,v._y=w),T=v.x0,_=v.dx,x=v.y0,b=v.dy,g=i(F,v,O,R)}function Y(ee){X=v._input.zsmooth=v.zsmooth=!1,E.warn('cannot use zsmooth: "fast": '+ee)}function G(ee){if(ee.length>1){var oe=(ee[ee.length-1]-ee[0])/(ee.length-1),ce=Math.abs(oe/100);for(I=0;I<ee.length-1;I++)if(Math.abs(ee[I+1]-ee[I]-oe)>ce)return!1}return!0}(O.rangebreaks||R.rangebreaks)&&(g=function(ee,oe,ce){for(var fe=[],le=-1,pe=0;pe<ce.length;pe++)if(oe[pe]!==l){fe[++le]=[];for(var Me=0;Me<ce[pe].length;Me++)ee[Me]!==l&&fe[le].push(ce[pe][Me])}return fe}(p,w,g),N||(p=u(p),w=u(w),v._x=p,v._y=w)),N||!L&&!v.connectgaps||(v._emptypoints=a(g),s(g,v._emptypoints)),v._islinear=!1,"log"===O.type||"log"===R.type?"fast"===X&&Y("log axis found"):G(p)?G(w)?v._islinear=!0:"fast"===X&&Y("y scale is not linear"):"fast"===X&&Y("x scale is not linear");var H=E.maxRowLength(g),W="scaled"===v.xtype?"":p,Z=o(v,W,T,_,H,O),se="scaled"===v.ytype?"":w,re=o(v,se,x,b,g.length,R);j||(v._extremes[O._id]=f.findExtremes(O,Z),v._extremes[R._id]=f.findExtremes(R,re));var ne={x:Z,y:re,z:g,text:v._text||v.text,hovertext:v._hovertext||v.hovertext};if(v.xperiodalignment&&m&&(ne.orig_x=m),v.yperiodalignment&&A&&(ne.orig_y=A),W&&W.length===Z.length-1&&(ne.xCenter=W),se&&se.length===re.length-1&&(ne.yCenter=se),N&&(ne.xRanges=S.xRanges,ne.yRanges=S.yRanges,ne.pts=S.pts),L||y(h,v,{vals:g,cLetter:"z"}),L&&v.contours&&"heatmap"===v.contours.coloring){var Q={type:"contour"===v.type?"heatmap":"histogram2d",xcalendar:v.xcalendar,ycalendar:v.ycalendar};ne.xfill=o(Q,W,T,_,H,O),ne.yfill=o(Q,se,x,b,g.length,R)}return[ne]}},4742:function(ae,B,r){"use strict";var D=r(92770),E=r(71828),f=r(50606).BADNUM;ae.exports=function(k,M,y,c){var i,s,a,o,l,u;function h(w){if(D(w))return+w}if(M&&M.transpose){for(i=0,l=0;l<k.length;l++)i=Math.max(i,k[l].length);if(0===i)return!1;a=function(w){return w.length},o=function(w,x,b){return(w[b]||[])[x]}}else i=k.length,a=function(w,x){return w[x].length},o=function(w,x,b){return(w[x]||[])[b]};function p(w){if(M&&"carpet"!==M.type&&"contourcarpet"!==M.type&&w&&"category"===w.type&&M["_"+w._id.charAt(0)].length){var x=w._id.charAt(0),b={},A=M["_"+x+"CategoryMap"]||M[x];for(l=0;l<A.length;l++)b[A[l]]=l;return function(g){var I=b[w._categories[g]];return I+1?I:f}}return E.identity}var T=p(y),_=p(c);c&&"category"===c.type&&(i=c._categories.length);var w,x,b,m=new Array(i);for(l=0;l<i;l++)for(s=y&&"category"===y.type?y._categories.length:a(k,l),m[l]=new Array(s),u=0;u<s;u++)m[l][u]=h((w=k,x=_(l),b=T(u),x===f||b===f?f:o(w,x,b)));return m}},61243:function(ae){"use strict";ae.exports={min:"zmin",max:"zmax"}},68296:function(ae,B,r){"use strict";var D=r(71828),E=r(50606).BADNUM,f=r(42973);ae.exports=function(k,M,y,c,i,s){var a=k._length,o=M.makeCalcdata(k,c),l=y.makeCalcdata(k,i);o=f(k,M,c,o).vals,l=f(k,y,i,l).vals;var u,h,v,p,T=k.text,_=void 0!==T&&D.isArray1D(T),m=k.hovertext,w=void 0!==m&&D.isArray1D(m),x=D.distinctVals(o),b=x.vals,A=D.distinctVals(l),g=A.vals,I=[],S=g.length,O=b.length;for(u=0;u<s.length;u++)I[u]=D.init2dArray(S,O);_&&(v=D.init2dArray(S,O)),w&&(p=D.init2dArray(S,O));var R=D.init2dArray(S,O);for(u=0;u<a;u++)if(o[u]!==E&&l[u]!==E){var L=D.findBin(o[u]+x.minDiff/2,b),N=D.findBin(l[u]+A.minDiff/2,g);for(h=0;h<s.length;h++)I[h][N][L]=k[s[h]][u],R[N][L]=u;_&&(v[N][L]=T[u]),w&&(p[N][L]=m[u])}for(k["_"+c]=b,k["_"+i]=g,h=0;h<s.length;h++)k["_"+s[h]]=I[h];_&&(k._text=v),w&&(k._hovertext=p),M&&"category"===M.type&&(k["_"+c+"CategoryMap"]=b.map(function(X){return M._categories[X]})),y&&"category"===y.type&&(k["_"+i+"CategoryMap"]=g.map(function(X){return y._categories[X]})),k._after2before=R}},76382:function(ae,B,r){"use strict";var D=r(71828),E=r(67684),f=r(58623),k=r(73927),M=r(49901),y=r(1586),c=r(21606);ae.exports=function(i,s,a,o){function l(u,h){return D.coerce(i,s,c,u,h)}E(i,s,l,o)?(k(i,s,o,l),l("xhoverformat"),l("yhoverformat"),l("text"),l("hovertext"),l("hovertemplate"),f(l,o),M(i,s,l,o),l("hoverongaps"),l("connectgaps",D.isArray1D(s.z)&&!1!==s.zsmooth),y(i,s,o,l,{prefix:"",cLetter:"z"})):s.visible=!1}},43907:function(ae,B,r){"use strict";var D=r(71828).maxRowLength;ae.exports=function(E){var f,k,M,y,c,i,s,a,o=[],l={},u=[],h=E[0],v=[],p=[0,0,0],T=D(E);for(k=0;k<E.length;k++)for(f=v,v=h,h=E[k+1]||[],M=0;M<T;M++)void 0===v[M]&&((i=(void 0!==v[M-1]?1:0)+(void 0!==v[M+1]?1:0)+(void 0!==f[M]?1:0)+(void 0!==h[M]?1:0))?(0===k&&i++,0===M&&i++,k===E.length-1&&i++,M===v.length-1&&i++,i<4&&(l[[k,M]]=[k,M,i]),o.push([k,M,i])):u.push([k,M]));for(;u.length;){for(s={},a=!1,c=u.length-1;c>=0;c--)(i=((l[[(k=(y=u[c])[0])-1,M=y[1]]]||p)[2]+(l[[k+1,M]]||p)[2]+(l[[k,M-1]]||p)[2]+(l[[k,M+1]]||p)[2])/20)&&(s[y]=[k,M,i],u.splice(c,1),a=!0);if(!a)throw"findEmpties iterated with no new neighbors";for(y in s)l[y]=s[y],o.push(s[y])}return o.sort(function(_,m){return m[2]-_[2]})}},46248:function(ae,B,r){"use strict";var D=r(30211),E=r(71828),f=r(89298),k=r(21081).extractOpts;ae.exports=function(M,y,c,i,s){s||(s={});var a,o,l,u,h=s.isContour,v=M.cd[0],p=v.trace,T=M.xa,_=M.ya,m=v.x,w=v.y,x=v.z,b=v.xCenter,A=v.yCenter,g=v.zmask,I=p.zhoverformat,S=m,O=w;if(!1!==M.index){try{l=Math.round(M.index[1]),u=Math.round(M.index[0])}catch{return void E.error("Error hovering on heatmap, pointNumber must be [row,col], found:",M.index)}if(l<0||l>=x[0].length||u<0||u>x.length)return}else{if(D.inbox(y-m[0],y-m[m.length-1],0)>0||D.inbox(c-w[0],c-w[w.length-1],0)>0)return;if(h){var R;for(S=[2*m[0]-m[1]],R=1;R<m.length;R++)S.push((m[R]+m[R-1])/2);for(S.push([2*m[m.length-1]-m[m.length-2]]),O=[2*w[0]-w[1]],R=1;R<w.length;R++)O.push((w[R]+w[R-1])/2);O.push([2*w[w.length-1]-w[w.length-2]])}l=Math.max(0,Math.min(S.length-2,E.findBin(y,S))),u=Math.max(0,Math.min(O.length-2,E.findBin(c,O)))}var L,N,j=T.c2p(m[l]),X=T.c2p(m[l+1]),F=_.c2p(w[u]),Y=_.c2p(w[u+1]);h?(X=j,a=(L=v.orig_x||m)[l],Y=F,o=(N=v.orig_y||w)[u]):(L=v.orig_x||b||m,N=v.orig_y||A||w,a=b?L[l]:(L[l]+L[l+1])/2,o=A?N[u]:(N[u]+N[u+1])/2,T&&"category"===T.type&&(a=m[l]),_&&"category"===_.type&&(o=w[u]),p.zsmooth&&(j=X=T.c2p(a),F=Y=_.c2p(o)));var G=x[u][l];if(g&&!g[u][l]&&(G=void 0),void 0!==G||p.hoverongaps){var H;Array.isArray(v.hovertext)&&Array.isArray(v.hovertext[u])?H=v.hovertext[u][l]:Array.isArray(v.text)&&Array.isArray(v.text[u])&&(H=v.text[u][l]);var W=k(p),se=f.tickText({type:"linear",range:[W.min,W.max],hoverformat:I,_separators:T._separators,_numFormat:T._numFormat},G,"hover").text;return[E.extendFlat(M,{index:p._after2before?p._after2before[u][l]:[u,l],distance:M.maxHoverDistance,spikeDistance:M.maxSpikeDistance,x0:j,x1:X,y0:F,y1:Y,xLabelVal:a,yLabelVal:o,zLabelVal:G,zLabel:se,text:H})]}}},92165:function(ae,B,r){"use strict";ae.exports={attributes:r(21606),supplyDefaults:r(76382),calc:r(90757),plot:r(50347),colorbar:r(61243),style:r(70035),hoverPoints:r(46248),moduleType:"trace",name:"heatmap",basePlotModule:r(93612),categories:["cartesian","svg","2dMap","showLegend"],meta:{}}},824:function(ae,B,r){"use strict";var D=r(71828),E=[[-1,0],[1,0],[0,-1],[0,1]];function f(M){return.5-.25*Math.min(1,.5*M)}function k(M,y,c){var i,s,a,o,l,u,h,v,p,T,_,m,w,x=0;for(o=0;o<y.length;o++){for(_=M[s=(i=y[o])[0]][a=i[1]],T=0,p=0,l=0;l<4;l++)(h=M[s+(u=E[l])[0]])&&void 0!==(v=h[a+u[1]])&&(0===T?m=w=v:(m=Math.min(m,v),w=Math.max(w,v)),p++,T+=v);if(0===p)throw"iterateInterp2d order is wrong: no defined neighbors";M[s][a]=T/p,void 0===_?p<4&&(x=1):(M[s][a]=(1+c)*M[s][a]-c*_,w>m&&(x=Math.max(x,Math.abs(M[s][a]-_)/(w-m))))}return x}ae.exports=function(M,y){var c,i=1;for(k(M,y),c=0;c<y.length&&!(y[c][2]<4);c++);for(y=y.slice(c),c=0;c<100&&i>.01;c++)i=k(M,y,f(i));return i>.01&&D.log("interp2d didn't converge quickly",i),M}},58623:function(ae,B,r){"use strict";var D=r(71828);ae.exports=function(E,f){E("texttemplate");var k=D.extendFlat({},f.font,{color:"auto",size:"auto"});D.coerceFont(E,"textfont",k)}},70769:function(ae,B,r){"use strict";var D=r(73972),E=r(71828).isArrayOrTypedArray;ae.exports=function(f,k,M,y,c,i){var s,a,o,l=[],u=D.traceIs(f,"contour"),h=D.traceIs(f,"histogram"),v=D.traceIs(f,"gl2d");if(E(k)&&k.length>1&&!h&&"category"!==i.type){var p=k.length;if(!(p<=c))return k.slice(0,u?c:c+1);if(u||v)l=k.slice(0,c);else if(1===c)l=[k[0]-.5,k[0]+.5];else{for(l=[1.5*k[0]-.5*k[1]],o=1;o<p;o++)l.push(.5*(k[o-1]+k[o]));l.push(1.5*k[p-1]-.5*k[p-2])}if(p<c){var T=l[l.length-1],_=T-l[l.length-2];for(o=p;o<c;o++)l.push(T+=_)}}else{var m=f[i._id.charAt(0)+"calendar"];for(s=h?i.r2c(M,0,m):E(k)&&1===k.length?k[0]:void 0===M?0:("log"===i.type?i.d2c:i.r2c)(M,0,m),a=y||1,o=u||v?0:-.5;o<c;o++)l.push(s+a*o)}return l}},50347:function(ae,B,r){"use strict";var D=r(39898),E=r(84267),f=r(73972),k=r(91424),M=r(89298),y=r(71828),c=r(63893),i=r(8225),s=r(7901),a=r(21081).extractOpts,o=r(21081).makeColorScaleFuncFromTrace,l=r(77922),u=r(18783).LINE_SPACING,h=r(3883),v=r(32396).STYLE,p="heatmap-label";function T(b){return b.selectAll("g."+p)}function _(b){T(b).remove()}function m(b,A){var g=A.length-2,I=y.constrain(y.findBin(b,A),0,g),S=A[I],R=y.constrain(I+(b-S)/(A[I+1]-S)-.5,0,g),L=Math.round(R),N=Math.abs(R-L);return R&&R!==g&&N?{bin0:L,frac:N,bin1:Math.round(L+N/(R-L))}:{bin0:L,bin1:L,frac:0}}function w(b,A){var g=A.length-1,I=y.constrain(y.findBin(b,A),0,g),S=A[I],O=(b-S)/(A[I+1]-S)||0;return O<=0?{bin0:I,bin1:I,frac:0}:O<.5?{bin0:I,bin1:I+1,frac:O}:{bin0:I+1,bin1:I,frac:1-O}}function x(b,A,g){b[A]=g[0],b[A+1]=g[1],b[A+2]=g[2],b[A+3]=Math.round(255*g[3])}ae.exports=function(b,A,g,I){var S=A.xaxis,O=A.yaxis;y.makeTraceGroups(I,g,"hm").each(function(R){var L,N,j,X,F,Y,G,H,W=D.select(this),Z=R[0],se=Z.trace,re=se.xgap||0,ne=se.ygap||0,Q=Z.z,ee=Z.x,oe=Z.y,ce=Z.xCenter,fe=Z.yCenter,le=f.traceIs(se,"contour"),pe=le?"best":se.zsmooth,Me=Q.length,Ae=y.maxRowLength(Q),be=!1,ye=!1;for(Y=0;void 0===L&&Y<ee.length-1;)L=S.c2p(ee[Y]),Y++;for(Y=ee.length-1;void 0===N&&Y>0;)N=S.c2p(ee[Y]),Y--;for(N<L&&(j=N,N=L,L=j,be=!0),Y=0;void 0===X&&Y<oe.length-1;)X=O.c2p(oe[Y]),Y++;for(Y=oe.length-1;void 0===F&&Y>0;)F=O.c2p(oe[Y]),Y--;F<X&&(j=X,X=F,F=j,ye=!0),le&&(ce=ee,fe=oe,ee=Z.xfill,oe=Z.yfill);var we="default";if(pe?we="best"===pe?"smooth":"fast":se._islinear&&0===re&&0===ne&&h()&&(we="fast"),"fast"!==we){var ze="best"===pe?0:.5;L=Math.max(-ze*S._length,L),N=Math.min((1+ze)*S._length,N),X=Math.max(-ze*O._length,X),F=Math.min((1+ze)*O._length,F)}var Se,Ce,ge=Math.round(N-L),he=Math.round(F-X);if(L>=S._length||N<=0||X>=O._length||F<=0)return W.selectAll("image").data([]).exit().remove(),void _(W);"fast"===we?(Se=Ae,Ce=Me):(Se=ge,Ce=he);var _e=document.createElement("canvas");_e.width=Se,_e.height=Ce;var Le,Ie,De=_e.getContext("2d",{willReadFrequently:!0}),je=o(se,{noNumericCheck:!0,returnArray:!0});"fast"===we?(Le=be?function(qt){return Ae-1-qt}:y.identity,Ie=ye?function(qt){return Me-1-qt}:y.identity):(Le=function(qt){return y.constrain(Math.round(S.c2p(ee[qt])-L),0,ge)},Ie=function(qt){return y.constrain(Math.round(O.c2p(oe[qt])-X),0,he)});var qe,ve,Oe,ke,Be=Ie(0),We=[Be,Be],Ge=be?0:1,Ke=ye?0:1,et=0,at=0,mt=0,ct=0;function kt(qt,tn){if(void 0!==qt){var bn=je(qt);return bn[0]=Math.round(bn[0]),bn[1]=Math.round(bn[1]),bn[2]=Math.round(bn[2]),et+=tn,at+=bn[0]*tn,mt+=bn[1]*tn,ct+=bn[2]*tn,bn}return[0,0,0,0]}function Dt(qt,tn,bn,Cn){var Bn=qt[bn.bin0];if(void 0===Bn)return kt(void 0,1);var yn=qt[bn.bin1],Zn=tn[bn.bin0],Xn=tn[bn.bin1];return kt(Bn+bn.frac*(yn-Bn||0)+Cn.frac*((Zn-Bn||0)+bn.frac*(void 0===yn?void 0===Xn?0:void 0===Zn?2*(Xn-Bn):2*(2*Xn-Zn-Bn)/3:void 0===Xn?void 0===Zn?0:2*(2*Bn-yn-Zn)/3:void 0===Zn?2*(2*Xn-yn-Bn)/3:Xn+Bn-yn-Zn)))}if("default"!==we){var Et,ht=0;try{Et=new Uint8Array(Se*Ce*4)}catch{Et=new Array(Se*Ce*4)}if("smooth"===we){var pt,Pt,zt,Ht=ce||ee,Lt=fe||oe,tt=new Array(Ht.length),it=new Array(Lt.length),Je=new Array(ge),ot=ce?w:m,gt=fe?w:m;for(Y=0;Y<Ht.length;Y++)tt[Y]=Math.round(S.c2p(Ht[Y])-L);for(Y=0;Y<Lt.length;Y++)it[Y]=Math.round(O.c2p(Lt[Y])-X);for(Y=0;Y<ge;Y++)Je[Y]=ot(Y,tt);for(G=0;G<he;G++)for(Pt=Q[(pt=gt(G,it)).bin0],zt=Q[pt.bin1],Y=0;Y<ge;Y++,ht+=4)x(Et,ht,ke=Dt(Pt,zt,Je[Y],pt))}else for(G=0;G<Me;G++)for(Oe=Q[G],We=Ie(G),Y=0;Y<Ae;Y++)ke=kt(Oe[Y],1),x(Et,ht=4*(We*Ae+Le(Y)),ke);var ft=De.createImageData(Se,Ce);try{ft.data.set(Et)}catch{var Ue=ft.data,$e=Ue.length;for(G=0;G<$e;G++)Ue[G]=Et[G]}De.putImageData(ft,0,0)}else{var dt=Math.floor(re/2),ut=Math.floor(ne/2);for(G=0;G<Me;G++)if(Oe=Q[G],We.reverse(),We[Ke]=Ie(G+1),We[0]!==We[1]&&void 0!==We[0]&&void 0!==We[1])for(qe=[ve=Le(0),ve],Y=0;Y<Ae;Y++)qe.reverse(),qe[Ge]=Le(Y+1),qe[0]!==qe[1]&&void 0!==qe[0]&&void 0!==qe[1]&&(ke=kt(Oe[Y],(qe[1]-qe[0])*(We[1]-We[0])),De.fillStyle="rgba("+ke.join(",")+")",De.fillRect(qe[0]+dt,We[0]+ut,qe[1]-qe[0]-re,We[1]-We[0]-ne))}at=Math.round(at/et),mt=Math.round(mt/et),ct=Math.round(ct/et);var At=E("rgb("+at+","+mt+","+ct+")");b._hmpixcount=(b._hmpixcount||0)+et,b._hmlumcount=(b._hmlumcount||0)+et*At.getLuminance();var wt=W.selectAll("image").data(R);wt.enter().append("svg:image").attr({xmlns:l.svg,preserveAspectRatio:"none"}),wt.attr({height:he,width:ge,x:L,y:X,"xlink:href":_e.toDataURL("image/png")}),"fast"!==we||pe||wt.attr("style",v),_(W);var St=se.texttemplate;if(St){var _t=a(se),Rt={type:"linear",range:[_t.min,_t.max],_separators:S._separators,_numFormat:S._numFormat},bt="histogram2dcontour"===se.type,Tt="contour"===se.type,It=Tt?Me-1:Me,Wt=Tt?1:0,$t=Tt?Ae-1:Ae,Qt=[];for(Y=Tt?1:0;Y<It;Y++){var pn;if(Tt)pn=Z.y[Y];else if(bt){if(0===Y||Y===Me-1)continue;pn=Z.y[Y]}else if(Z.yCenter)pn=Z.yCenter[Y];else{if(Y+1===Me&&void 0===Z.y[Y+1])continue;pn=(Z.y[Y]+Z.y[Y+1])/2}var en=Math.round(O.c2p(pn));if(!(0>en||en>O._length))for(G=Wt;G<$t;G++){var nn;if(Tt)nn=Z.x[G];else if(bt){if(0===G||G===Ae-1)continue;nn=Z.x[G]}else if(Z.xCenter)nn=Z.xCenter[G];else{if(G+1===Ae&&void 0===Z.x[G+1])continue;nn=(Z.x[G]+Z.x[G+1])/2}var fn=Math.round(S.c2p(nn));if(!(0>fn||fn>S._length)){var On=i({x:nn,y:pn},se,b._fullLayout);On.x=nn,On.y=pn;var Un=Z.z[Y][G];void 0===Un?(On.z="",On.zLabel=""):(On.z=Un,On.zLabel=M.tickText(Rt,Un,"hover").text);var Sn=Z.text&&Z.text[Y]&&Z.text[Y][G];void 0!==Sn&&!1!==Sn||(Sn=""),On.text=Sn;var on=y.texttemplateString(St,On,b._fullLayout._d3locale,On,se._meta||{});if(on){var vn=on.split("<br>"),un=vn.length,Tn=0;for(H=0;H<un;H++)Tn=Math.max(Tn,vn[H].length);Qt.push({l:un,c:Tn,t:on,x:fn,y:en,z:Un})}}}}var kn=se.textfont,xn=kn.family,Rn=kn.size,Hn=b._fullLayout.font.size;if(!Rn||"auto"===Rn){var En=1/0,Wn=1/0,gr=0,lr=0;for(H=0;H<Qt.length;H++){var wr=Qt[H];if(gr=Math.max(gr,wr.l),lr=Math.max(lr,wr.c),H<Qt.length-1){var dr=Qt[H+1],mr=Math.abs(dr.x-wr.x),Ir=Math.abs(dr.y-wr.y);mr&&(En=Math.min(En,mr)),Ir&&(Wn=Math.min(Wn,Ir))}}isFinite(En)&&isFinite(Wn)?(En-=re,Wn-=ne,En/=lr,Wn/=gr,En/=u/2,Wn/=u,Rn=Math.min(Math.floor(En),Math.floor(Wn),Hn)):Rn=Hn}if(Rn<=0||!isFinite(Rn))return;T(W).data(Qt).enter().append("g").classed(p,1).append("text").attr("text-anchor","middle").each(function(qt){var Cn,tn=D.select(this),bn=kn.color;bn&&"auto"!==bn||(bn=s.contrast("rgba("+je(qt.z).join()+")")),tn.attr("data-notex",1).call(c.positionText,(Cn=qt,Cn.x),function(Cn){return Cn.y-Rn*(Cn.l*u/2-1)}(qt)).call(k.font,xn,Rn,bn).text(qt.t).call(c.convertToTspans,b)})}})}},70035:function(ae,B,r){"use strict";var D=r(39898);ae.exports=function(E){D.select(E).selectAll(".hm image").style("opacity",function(f){return f.trace.opacity})}},49901:function(ae){"use strict";ae.exports=function(B,r,D){!1===D("zsmooth")&&(D("xgap"),D("ygap")),D("zhoverformat")}},67684:function(ae,B,r){"use strict";var D=r(92770),E=r(71828),f=r(73972);function k(M,y){var c=y(M);return"scaled"===(c?y(M+"type","array"):"scaled")&&(y(M+"0"),y("d"+M)),c}ae.exports=function(M,y,c,i,s,a){var o,l,u=c("z");if(s=s||"x",a=a||"y",void 0===u||!u.length)return 0;if(E.isArray1D(M.z)){o=c(s),l=c(a);var h=E.minRowLength(o),v=E.minRowLength(l);if(0===h||0===v)return 0;y._length=Math.min(h,v,u.length)}else{if(o=k(s,c),l=k(a,c),!function(p){for(var T,_=!0,m=!1,w=!1,x=0;x<p.length;x++){if(!E.isArrayOrTypedArray(T=p[x])){_=!1;break}T.length>0&&(m=!0);for(var b=0;b<T.length;b++)if(D(T[b])){w=!0;break}}return _&&m&&w}(u))return 0;c("transpose"),y._length=null}return"heatmapgl"===M.type||f.getComponentMethod("calendars","handleTraceDefaults")(M,y,[s,a],i),!0}},16063:function(ae,B,r){"use strict";for(var D=r(21606),E=r(50693),f=r(1426).extendFlat,k=r(30962).overrideAll,M=["z","x","x0","dx","y","y0","dy","text","transpose","xtype","ytype"],y={},c=0;c<M.length;c++){var i=M[c];y[i]=D[i]}y.zsmooth={valType:"enumerated",values:["fast",!1],dflt:"fast",editType:"calc"},f(y,E("",{cLetter:"z",autoColorDflt:!1})),ae.exports=k(y,"calc","nested")},59560:function(ae,B,r){"use strict";var D=r(9330).gl_heatmap2d,E=r(89298),f=r(78614);function k(y,c){this.scene=y,this.uid=c,this.type="heatmapgl",this.name="",this.hoverinfo="all",this.xData=[],this.yData=[],this.zData=[],this.textLabels=[],this.idToIndex=[],this.bounds=[0,0,0,0],this.options={zsmooth:"fast",z:[],x:[],y:[],shape:[0,0],colorLevels:[0],colorValues:[0,0,0,1]},this.heatmap=D(y.glplot,this.options),this.heatmap._trace=this}var M=k.prototype;M.handlePick=function(y){var c=this.options,i=c.shape,s=y.pointId,a=s%i[0],o=Math.floor(s/i[0]);return{trace:this,dataCoord:y.dataCoord,traceCoord:[c.x[a],c.y[o],c.z[s]],textLabel:this.textLabels[s],name:this.name,pointIndex:[o,a],hoverinfo:this.hoverinfo}},M.update=function(y,c){var i=c[0];this.index=y.index,this.name=y.name,this.hoverinfo=y.hoverinfo;var s=i.z;this.options.z=[].concat.apply([],s),this.options.shape=[s[0].length,s.length],this.options.x=i.x,this.options.y=i.y,this.options.zsmooth=y.zsmooth;var l=function(T){for(var _=T.colorscale,m=T.zmin,w=T.zmax,x=_.length,b=new Array(x),A=new Array(4*x),g=0;g<x;g++){var I=_[g],S=f(I[1]);b[g]=m+I[0]*(w-m);for(var O=0;O<4;O++)A[4*g+O]=S[O]}return{colorLevels:b,colorValues:A}}(y);this.options.colorLevels=l.colorLevels,this.options.colorValues=l.colorValues,this.textLabels=[].concat.apply([],y.text),this.heatmap.update(this.options);var u,h,v=this.scene.xaxis,p=this.scene.yaxis;!1===y.zsmooth&&(u={ppad:i.x[1]-i.x[0]},h={ppad:i.y[1]-i.y[0]}),y._extremes[v._id]=E.findExtremes(v,i.x,u),y._extremes[p._id]=E.findExtremes(p,i.y,h)},M.dispose=function(){this.heatmap.dispose()},ae.exports=function(y,c,i){var s=new k(y,c.uid);return s.update(c,i),s}},19600:function(ae,B,r){"use strict";var D=r(71828),E=r(67684),f=r(1586),k=r(16063);ae.exports=function(M,y,c,i){function s(a,o){return D.coerce(M,y,k,a,o)}E(M,y,s,i)?(s("text"),s("zsmooth"),f(M,y,i,s,{prefix:"",cLetter:"z"})):y.visible=!1}},3325:function(ae,B,r){"use strict";["*heatmapgl* trace is deprecated!","Please consider switching to the *heatmap* or *image* trace types.","Alternatively you could contribute/sponsor rewriting this trace type","based on cartesian features and using regl framework."].join(" "),ae.exports={attributes:r(16063),supplyDefaults:r(19600),colorbar:r(61243),calc:r(90757),plot:r(59560),moduleType:"trace",name:"heatmapgl",basePlotModule:r(4796),categories:["gl","gl2d","2dMap"],meta:{}}},7745:function(ae,B,r){"use strict";var D=r(1486),E=r(12663).axisHoverFormat,f=r(5386).fF,k=r(5386).si,M=r(41940),y=r(17656),c=r(72406),i=r(1426).extendFlat;ae.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},xhoverformat:E("x"),yhoverformat:E("y"),text:i({},D.text,{}),hovertext:i({},D.hovertext,{}),orientation:D.orientation,histfunc:{valType:"enumerated",values:["count","sum","avg","min","max"],dflt:"count",editType:"calc"},histnorm:{valType:"enumerated",values:["","percent","probability","density","probability density"],dflt:"",editType:"calc"},cumulative:{enabled:{valType:"boolean",dflt:!1,editType:"calc"},direction:{valType:"enumerated",values:["increasing","decreasing"],dflt:"increasing",editType:"calc"},currentbin:{valType:"enumerated",values:["include","exclude","half"],dflt:"include",editType:"calc"},editType:"calc"},nbinsx:{valType:"integer",min:0,dflt:0,editType:"calc"},xbins:y("x",!0),nbinsy:{valType:"integer",min:0,dflt:0,editType:"calc"},ybins:y("y",!0),autobinx:{valType:"boolean",dflt:null,editType:"calc"},autobiny:{valType:"boolean",dflt:null,editType:"calc"},bingroup:{valType:"string",dflt:"",editType:"calc"},hovertemplate:f({},{keys:c.eventDataKeys}),texttemplate:k({arrayOk:!1,editType:"plot"},{keys:["label","value"]}),textposition:i({},D.textposition,{arrayOk:!1}),textfont:M({arrayOk:!1,editType:"plot",colorEditType:"style"}),outsidetextfont:M({arrayOk:!1,editType:"plot",colorEditType:"style"}),insidetextfont:M({arrayOk:!1,editType:"plot",colorEditType:"style"}),insidetextanchor:D.insidetextanchor,textangle:D.textangle,cliponaxis:D.cliponaxis,constraintext:D.constraintext,marker:D.marker,offsetgroup:D.offsetgroup,alignmentgroup:D.alignmentgroup,selected:D.selected,unselected:D.unselected,_deprecated:{bardir:D._deprecated.bardir}}},42174:function(ae){"use strict";ae.exports=function(B,r){for(var D=B.length,E=0,f=0;f<D;f++)r[f]?(B[f]/=r[f],E+=B[f]):B[f]=null;return E}},17656:function(ae){"use strict";ae.exports=function(B,r){return{start:{valType:"any",editType:"calc"},end:{valType:"any",editType:"calc"},size:{valType:"any",editType:"calc"},editType:"calc"}}},59575:function(ae,B,r){"use strict";var D=r(92770);ae.exports={count:function(E,f,k){return k[E]++,1},sum:function(E,f,k,M){var y=M[f];return D(y)?(y=Number(y),k[E]+=y,y):0},avg:function(E,f,k,M,y){var c=M[f];return D(c)&&(c=Number(c),k[E]+=c,y[E]++),0},min:function(E,f,k,M){var y=M[f];if(D(y)){if(y=Number(y),!D(k[E]))return k[E]=y,y;if(k[E]>y){var c=y-k[E];return k[E]=y,c}}return 0},max:function(E,f,k,M){var y=M[f];if(D(y)){if(y=Number(y),!D(k[E]))return k[E]=y,y;if(k[E]<y){var c=y-k[E];return k[E]=y,c}}return 0}}},40965:function(ae,B,r){"use strict";var D=r(50606),E=D.ONEAVGYEAR,f=D.ONEAVGMONTH,k=D.ONEDAY,M=D.ONEHOUR,y=D.ONEMIN,c=D.ONESEC,i=r(89298).tickIncrement;function s(u,h,v,p){if(u*h<=0)return 1/0;for(var T=Math.abs(h-u),_="date"===v.type,m=a(T,_),w=0;w<10;w++){var x=a(80*m,_);if(m===x||!o(x,u,h,_,v,p))break;m=x}return m}function a(u,h){return h&&u>c?u>k?u>1.1*E?E:u>1.1*f?f:k:u>M?M:u>y?y:c:Math.pow(10,Math.floor(Math.log(u)/Math.LN10))}function o(u,h,v,p,T,_){if(p&&u>k){var m=l(h,T,_),w=l(v,T,_),x=u===E?0:1;return m[x]!==w[x]}return Math.floor(v/u)-Math.floor(h/u)>.1}function l(u,h,v){var p=h.c2d(u,E,v).split("-");return""===p[0]&&(p.unshift(),p[0]="-"+p[0]),p}ae.exports=function(u,h,v,p,T){var _,m,w=-1.1*h,x=-.1*h,b=u-x,A=v[0],g=v[1],I=Math.min(s(A+x,A+b,p,T),s(g+x,g+b,p,T)),S=Math.min(s(A+w,A+x,p,T),s(g+w,g+x,p,T));if(I>S&&S<Math.abs(g-A)/4e3?(_=I,m=!1):(_=Math.min(I,S),m=!0),"date"===p.type&&_>k){var O=_===E?1:6,R=_===E?"M12":"M1";return function(L,N){var j=p.c2d(L,E,T),X=j.indexOf("-",O);X>0&&(j=j.substr(0,X));var F=p.d2c(j,0,T);if(F<L){var Y=i(F,R,!1,T);(F+Y)/2<L+u&&(F=Y)}return N&&m?i(F,R,!0,T):F}}return function(L,N){var j=_*Math.round(L/_);return j+_/10<L&&j+.9*_<L+u&&(j+=_),N&&m&&(j-=_),j}}},72138:function(ae,B,r){"use strict";var D=r(92770),E=r(71828),f=r(73972),k=r(89298),M=r(75341),y=r(59575),c=r(36362),i=r(42174),s=r(40965);function a(o,l,u,h,v){var p,T,_,m,w,x,b,A=h+"bins",g=o._fullLayout,S=g._histogramBinOpts[l["_"+h+"bingroup"]],O="overlay"===g.barmode,R=function(ye){return u.r2c(ye,0,m)},L=function(ye){return u.c2r(ye,0,m)},N="date"===u.type?function(ye){return ye||0===ye?E.cleanDate(ye,null,m):null}:function(ye){return D(ye)?Number(ye):null};function j(ye,we,ze){we[ye+"Found"]?(we[ye]=N(we[ye]),null===we[ye]&&(we[ye]=ze[ye])):(x[ye]=we[ye]=ze[ye],E.nestedProperty(T[0],A+"."+ye).set(ze[ye]))}if(l["_"+h+"autoBinFinished"])delete l["_"+h+"autoBinFinished"];else{T=S.traces;var X=[],F=!0,Y=!1,G=!1;for(p=0;p<T.length;p++)if((_=T[p]).visible){var H=S.dirs[p];w=_["_"+H+"pos0"]=u.makeCalcdata(_,H),X=E.concat(X,w),delete _["_"+h+"autoBinFinished"],!0===l.visible&&(F?F=!1:(delete _._autoBin,_["_"+h+"autoBinFinished"]=1),f.traceIs(_,"2dMap")&&(Y=!0),"histogram2dcontour"===_.type&&(G=!0))}var W=k.autoBin(X,u,S.nbins,Y,m=T[0][h+"calendar"],S.sizeFound&&S.size),Z=T[0]._autoBin={};if(x=Z[S.dirs[0]]={},G&&(S.size||(W.start=L(k.tickIncrement(R(W.start),W.size,!0,m))),void 0===S.end&&(W.end=L(k.tickIncrement(R(W.end),W.size,!1,m)))),O&&!f.traceIs(l,"2dMap")&&0===W._dataSpan&&"category"!==u.type&&"multicategory"!==u.type&&""===l.bingroup&&void 0===l.xbins){if(v)return[W,w,!0];W=function(ye,we,ze,Se,Ce){var ge,he,_e,Le=ye._fullLayout,Ie=function(at,mt){for(var ct=mt.xaxis,kt=mt.yaxis,Dt=mt.orientation,Et=[],ht=at._fullData,pt=0;pt<ht.length;pt++){var Pt=ht[pt];"histogram"===Pt.type&&!0===Pt.visible&&Pt.orientation===Dt&&Pt.xaxis===ct&&Pt.yaxis===kt&&Et.push(Pt)}return Et}(ye,we),De=!1,je=1/0,qe=[we];for(ge=0;ge<Ie.length;ge++)if((he=Ie[ge])===we)De=!0;else if(De){var ve=a(ye,he,ze,Se,!0),Oe=ve[0],ke=ve[2];he["_"+Se+"autoBinFinished"]=1,he["_"+Se+"pos0"]=ve[1],ke?qe.push(he):je=Math.min(je,Oe.size)}else _e=Le._histogramBinOpts[he["_"+Se+"bingroup"]],je=Math.min(je,_e.size||he[Ce].size);var Be=new Array(qe.length);for(ge=0;ge<qe.length;ge++)for(var We=qe[ge]["_"+Se+"pos0"],Ge=0;Ge<We.length;Ge++)if(void 0!==We[Ge]){Be[ge]=We[Ge];break}for(isFinite(je)||(je=E.distinctVals(Be).minDiff),ge=0;ge<qe.length;ge++){var Ke=(he=qe[ge])[Se+"calendar"],et={start:ze.c2r(Be[ge]-je/2,0,Ke),end:ze.c2r(Be[ge]+je/2,0,Ke),size:je};he._input[Ce]=he[Ce]=et,(_e=Le._histogramBinOpts[he["_"+Se+"bingroup"]])&&E.extendFlat(_e,et)}return we[Ce]}(o,l,u,h,A)}(b=_.cumulative||{}).enabled&&"include"!==b.currentbin&&("decreasing"===b.direction?W.start=L(k.tickIncrement(R(W.start),W.size,!0,m)):W.end=L(k.tickIncrement(R(W.end),W.size,!1,m))),S.size=W.size,S.sizeFound||(x.size=W.size,E.nestedProperty(T[0],A+".size").set(W.size)),j("start",S,W),j("end",S,W)}w=l["_"+h+"pos0"],delete l["_"+h+"pos0"];var se=l._input[A]||{},re=E.extendFlat({},S),ne=S.start,Q=u.r2l(se.start),ee=void 0!==Q;if((S.startFound||ee)&&Q!==u.r2l(ne)){var oe=ee?Q:E.aggNums(Math.min,null,w),ce={type:"category"===u.type||"multicategory"===u.type?"linear":u.type,r2l:u.r2l,dtick:S.size,tick0:ne,calendar:m,range:[oe,k.tickIncrement(oe,S.size,!1,m)].map(u.l2r)},fe=k.tickFirst(ce);fe>u.r2l(oe)&&(fe=k.tickIncrement(fe,S.size,!0,m)),re.start=u.l2r(fe),ee||E.nestedProperty(l,A+".start").set(re.start)}var le=S.end,pe=u.r2l(se.end),Me=void 0!==pe;if((S.endFound||Me)&&pe!==u.r2l(le)){var Ae=Me?pe:E.aggNums(Math.max,null,w);re.end=u.l2r(Ae),Me||E.nestedProperty(l,A+".start").set(re.end)}var be="autobin"+h;return!1===l._input[be]&&(l._input[A]=E.extendFlat({},l[A]||{}),delete l._input[be],delete l[be]),[re,w]}ae.exports={calc:function(o,l){var u,h,v,p,T=[],_=[],m="h"===l.orientation,w=k.getFromId(o,m?l.yaxis:l.xaxis),x=m?"y":"x",b={x:"y",y:"x"}[x],A=l[x+"calendar"],g=l.cumulative,I=a(o,l,w,x),S=I[0],O=I[1],R="string"==typeof S.size,L=[],N=R?L:S,j=[],X=[],F=[],Y=0,G=l.histnorm,H=l.histfunc,W=-1!==G.indexOf("density");g.enabled&&W&&(G=G.replace(/ ?density$/,""),W=!1);var Z,se="max"===H||"min"===H?null:0,re=y.count,ne=c[G],Q=!1,ee=function(he){return w.r2c(he,0,A)};for(E.isArrayOrTypedArray(l[b])&&"count"!==H&&(Z=l[b],Q="avg"===H,re=y[H]),u=ee(S.start),v=ee(S.end)+(u-k.tickIncrement(u,S.size,!1,A))/1e6;u<v&&T.length<1e6&&(h=k.tickIncrement(u,S.size,!1,A),T.push((u+h)/2),_.push(se),F.push([]),L.push(u),W&&j.push(1/(h-u)),Q&&X.push(0),!(h<=u));)u=h;L.push(u),R||"date"!==w.type||(N={start:ee(N.start),end:ee(N.end),size:N.size}),o._fullLayout._roundFnOpts||(o._fullLayout._roundFnOpts={});var oe=l["_"+x+"bingroup"],ce={leftGap:1/0,rightGap:1/0};oe&&(o._fullLayout._roundFnOpts[oe]||(o._fullLayout._roundFnOpts[oe]=ce),ce=o._fullLayout._roundFnOpts[oe]);var fe,le=_.length,pe=!0,Me=ce.leftGap,Ae=ce.rightGap,be={};for(u=0;u<O.length;u++){var ye=O[u];(p=E.findBin(ye,N))>=0&&p<le&&(Y+=re(p,u,_,Z,X),pe&&F[p].length&&ye!==O[F[p][0]]&&(pe=!1),F[p].push(u),be[u]=p,Me=Math.min(Me,ye-L[p]),Ae=Math.min(Ae,L[p+1]-ye))}ce.leftGap=Me,ce.rightGap=Ae,pe||(fe=function(he,_e){return function(){var Le=o._fullLayout._roundFnOpts[oe];return s(Le.leftGap,Le.rightGap,L,w,A)(he,_e)}}),Q&&(Y=i(_,X)),ne&&ne(_,Y,j),g.enabled&&function(he,_e,Le){var Ie,De,je;function qe(Oe){je=he[Oe],he[Oe]/=2}function ve(Oe){he[Oe]=je+(De=he[Oe])/2,je+=De}if("half"===Le)if("increasing"===_e)for(qe(0),Ie=1;Ie<he.length;Ie++)ve(Ie);else for(qe(he.length-1),Ie=he.length-2;Ie>=0;Ie--)ve(Ie);else if("increasing"===_e){for(Ie=1;Ie<he.length;Ie++)he[Ie]+=he[Ie-1];"exclude"===Le&&(he.unshift(0),he.pop())}else{for(Ie=he.length-2;Ie>=0;Ie--)he[Ie]+=he[Ie+1];"exclude"===Le&&(he.push(0),he.shift())}}(_,g.direction,g.currentbin);var we=Math.min(T.length,_.length),ze=[],Se=0,Ce=we-1;for(u=0;u<we;u++)if(_[u]){Se=u;break}for(u=we-1;u>=Se;u--)if(_[u]){Ce=u;break}for(u=Se;u<=Ce;u++)if(D(T[u])&&D(_[u])){var ge={p:T[u],s:_[u],b:0};g.enabled||(ge.pts=F[u],pe?ge.ph0=ge.ph1=F[u].length?O[F[u][0]]:T[u]:(l._computePh=!0,ge.ph0=fe(L[u]),ge.ph1=fe(L[u+1],!0))),ze.push(ge)}return 1===ze.length&&(ze[0].width1=k.tickIncrement(ze[0].p,S.size,!1,A)-ze[0].p),M(ze,l),E.isArrayOrTypedArray(l.selectedpoints)&&E.tagSelected(ze,l,be),ze},calcAllAutoBins:a}},72406:function(ae){"use strict";ae.exports={eventDataKeys:["binNumber"]}},82222:function(ae,B,r){"use strict";var D=r(71828),E=r(41675),f=r(73972).traceIs,k=r(26125),M=D.nestedProperty,y=r(99082).getAxisGroup,c=[{aStr:{x:"xbins.start",y:"ybins.start"},name:"start"},{aStr:{x:"xbins.end",y:"ybins.end"},name:"end"},{aStr:{x:"xbins.size",y:"ybins.size"},name:"size"},{aStr:{x:"nbinsx",y:"nbinsy"},name:"nbins"}],i=["x","y"];ae.exports=function(s,a){var o,l,u,h,v,p,T,_=a._histogramBinOpts={},m=[],w={},x=[];function b(W,Z){return D.coerce(o._input,o,o._module.attributes,W,Z)}function A(W){return"v"===W.orientation?"x":"y"}function g(W,Z,se){var re=W.uid+"__"+se;Z||(Z=re);var ne=E.getFromTrace({_fullLayout:a},W,se).type,Q=W[se+"calendar"]||"",ee=_[Z],oe=!0;ee&&(ne===ee.axType&&Q===ee.calendar?(oe=!1,ee.traces.push(W),ee.dirs.push(se)):(Z=re,ne!==ee.axType&&D.warn(["Attempted to group the bins of trace",W.index,"set on a","type:"+ne,"axis","with bins on","type:"+ee.axType,"axis."].join(" ")),Q!==ee.calendar&&D.warn(["Attempted to group the bins of trace",W.index,"set with a",Q,"calendar","with bins",ee.calendar?"on a "+ee.calendar+" calendar":"w/o a set calendar"].join(" ")))),oe&&(_[Z]={traces:[W],dirs:[se],axType:ne,calendar:W[se+"calendar"]||""}),W["_"+se+"bingroup"]=Z}for(v=0;v<s.length;v++)f(o=s[v],"histogram")&&(m.push(o),delete o._xautoBinFinished,delete o._yautoBinFinished,f(o,"2dMap")||k(o._input,o,a,b));var I=a._alignmentOpts||{};for(v=0;v<m.length;v++){if(u="",!f(o=m[v],"2dMap")){if(h=A(o),"group"===a.barmode&&o.alignmentgroup){var O=y(a,o[h+"axis"])+o.orientation;(I[O]||{})[o.alignmentgroup]&&(u=O)}u||"overlay"===a.barmode||(u=y(a,o.xaxis)+y(a,o.yaxis)+A(o))}u?(w[u]||(w[u]=[]),w[u].push(o)):x.push(o)}for(u in w)if(1!==(l=w[u]).length){var R=!1;for(l.length&&(o=l[0],R=b("bingroup")),u=R||u,v=0;v<l.length;v++){var L=(o=l[v])._input.bingroup;L&&L!==u&&D.warn(["Trace",o.index,"must match","within bingroup",u+".","Ignoring its bingroup:",L,"setting."].join(" ")),o.bingroup=u,g(o,u,A(o))}}else x.push(l[0]);for(v=0;v<x.length;v++){o=x[v];var N=b("bingroup");if(f(o,"2dMap"))for(T=0;T<2;T++){var j=b((h=i[T])+"bingroup",N?N+"__"+h:null);g(o,j,h)}else g(o,N,A(o))}for(u in _){var X=_[u];for(l=X.traces,p=0;p<c.length;p++){var F,Y,G=c[p],H=G.name;if("nbins"!==H||!X.sizeFound){for(v=0;v<l.length;v++){if(void 0!==M((o=l[v])._input,F=G.aStr[h=X.dirs[v]]).get()){X[H]=b(F),X[H+"Found"]=!0;break}(Y=(o._autoBin||{})[h]||{})[H]&&M(o,F).set(Y[H])}if("start"===H||"end"===H)for(;v<l.length;v++)(o=l[v])["_"+h+"bingroup"]&&b(F,(Y=(o._autoBin||{})[h]||{})[H]);"nbins"!==H||X.sizeFound||X.nbinsFound||(o=l[0],X[H]=b(F))}}}}},11385:function(ae,B,r){"use strict";var D=r(73972),E=r(71828),f=r(7901),k=r(90769).handleText,M=r(98340),y=r(7745);ae.exports=function(c,i,s,a){function o(x,b){return E.coerce(c,i,y,x,b)}var l=o("x"),u=o("y");o("cumulative.enabled")&&(o("cumulative.direction"),o("cumulative.currentbin")),o("text");var h=o("textposition");k(c,i,a,o,h,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),o("hovertext"),o("hovertemplate"),o("xhoverformat"),o("yhoverformat");var v=o("orientation",u&&!l?"h":"v"),p="v"===v?"x":"y",T="v"===v?"y":"x",_=l&&u?Math.min(E.minRowLength(l)&&E.minRowLength(u)):E.minRowLength(i[p]||[]);if(_){i._length=_,D.getComponentMethod("calendars","handleTraceDefaults")(c,i,["x","y"],a),i[T]&&o("histfunc"),o("histnorm"),o("autobin"+p),M(c,i,o,s,a),E.coerceSelectionMarkerOpacity(i,o);var m=(i.marker.line||{}).color,w=D.getComponentMethod("errorbars","supplyDefaults");w(c,i,m||f.defaultLine,{axis:"y"}),w(c,i,m||f.defaultLine,{axis:"x",inherit:"y"})}else i.visible=!1}},84402:function(ae){"use strict";ae.exports=function(B,r,D,E,f){if(B.x="xVal"in r?r.xVal:r.x,B.y="yVal"in r?r.yVal:r.y,"zLabelVal"in r&&(B.z=r.zLabelVal),r.xa&&(B.xaxis=r.xa),r.ya&&(B.yaxis=r.ya),!(D.cumulative||{}).enabled){var k,M=Array.isArray(f)?E[0].pts[f[0]][f[1]]:E[f].pts;if(B.pointNumbers=M,B.binNumber=B.pointNumber,delete B.pointNumber,delete B.pointIndex,D._indexToPoints){k=[];for(var y=0;y<M.length;y++)k=k.concat(D._indexToPoints[M[y]])}else k=M;B.pointIndices=k}return B}},76440:function(ae,B,r){"use strict";var D=r(95423).hoverPoints,E=r(89298).hoverLabelText;ae.exports=function(f,k,M,y,c){var i=D(f,k,M,y,c);if(i){var s=(f=i[0]).cd[f.index],a=f.cd[0].trace;if(!a.cumulative.enabled){var o="h"===a.orientation?"y":"x";f[o+"Label"]=E(f[o+"a"],[s.ph0,s.ph1],a[o+"hoverformat"])}return i}}},36071:function(ae,B,r){"use strict";ae.exports={attributes:r(7745),layoutAttributes:r(43641),supplyDefaults:r(11385),crossTraceDefaults:r(82222),supplyLayoutDefaults:r(13957),calc:r(72138).calc,crossTraceCalc:r(11661).crossTraceCalc,plot:r(17295).plot,layerName:"barlayer",style:r(16688).style,styleOnSelect:r(16688).styleOnSelect,colorbar:r(4898),hoverPoints:r(76440),selectPoints:r(81974),eventData:r(84402),moduleType:"trace",name:"histogram",basePlotModule:r(93612),categories:["bar-like","cartesian","svg","bar","histogram","oriented","errorBarsOK","showLegend"],meta:{}}},36362:function(ae){"use strict";ae.exports={percent:function(B,r){for(var D=B.length,E=100/r,f=0;f<D;f++)B[f]*=E},probability:function(B,r){for(var D=B.length,E=0;E<D;E++)B[E]/=r},density:function(B,r,D,E){var f=B.length;E=E||1;for(var k=0;k<f;k++)B[k]*=D[k]*E},"probability density":function(B,r,D,E){var f=B.length;E&&(r/=E);for(var k=0;k<f;k++)B[k]*=D[k]/r}}},35361:function(ae,B,r){"use strict";var D=r(7745),E=r(17656),f=r(21606),k=r(9012),M=r(12663).axisHoverFormat,y=r(5386).fF,c=r(5386).si,i=r(50693),s=r(1426).extendFlat;ae.exports=s({x:D.x,y:D.y,z:{valType:"data_array",editType:"calc"},marker:{color:{valType:"data_array",editType:"calc"},editType:"calc"},histnorm:D.histnorm,histfunc:D.histfunc,nbinsx:D.nbinsx,xbins:E("x"),nbinsy:D.nbinsy,ybins:E("y"),autobinx:D.autobinx,autobiny:D.autobiny,bingroup:s({},D.bingroup,{}),xbingroup:s({},D.bingroup,{}),ybingroup:s({},D.bingroup,{}),xgap:f.xgap,ygap:f.ygap,zsmooth:f.zsmooth,xhoverformat:M("x"),yhoverformat:M("y"),zhoverformat:M("z",1),hovertemplate:y({},{keys:"z"}),texttemplate:c({arrayOk:!1,editType:"plot"},{keys:"z"}),textfont:f.textfont,showlegend:s({},k.showlegend,{dflt:!1})},i("",{cLetter:"z",autoColorDflt:!1}))},17562:function(ae,B,r){"use strict";var D=r(71828),E=r(89298),f=r(59575),k=r(36362),M=r(42174),y=r(40965),c=r(72138).calcAllAutoBins;function i(o,l,u,h){var v,p=new Array(o);if(h)for(v=0;v<o;v++)p[v]=1/(l[v+1]-l[v]);else{var T=1/u;for(v=0;v<o;v++)p[v]=T}return p}function s(o,l){return{start:o(l.start),end:o(l.end),size:l.size}}function a(o,l,u,h,v,p){var T,_=o.length-1,m=new Array(_),w=y(u,h,o,v,p);for(T=0;T<_;T++){var x=(l||[])[T];m[T]=void 0===x?[w(o[T]),w(o[T+1],!0)]:[x,x]}return m}ae.exports=function(o,l){var u,h,v,p,T=E.getFromId(o,l.xaxis),_=E.getFromId(o,l.yaxis),m=l.xcalendar,w=l.ycalendar,x=function(kt){return T.r2c(kt,0,m)},b=function(kt){return _.r2c(kt,0,w)},A=c(o,l,T,"x"),g=A[0],I=A[1],S=c(o,l,_,"y"),O=S[0],R=S[1],L=l._length;I.length>L&&I.splice(L,I.length-L),R.length>L&&R.splice(L,R.length-L);var N=[],j=[],X=[],F="string"==typeof g.size,Y="string"==typeof O.size,G=[],H=[],W=F?G:g,Z=Y?H:O,se=0,re=[],ne=[],Q=l.histnorm,ee=l.histfunc,oe=-1!==Q.indexOf("density"),ce="max"===ee||"min"===ee?null:0,fe=f.count,le=k[Q],pe=!1,Me=[],Ae=[],be="z"in l?l.z:"marker"in l&&Array.isArray(l.marker.color)?l.marker.color:"";be&&"count"!==ee&&(pe="avg"===ee,fe=f[ee]);var ye=g.size,we=x(g.start),ze=x(g.end)+(we-E.tickIncrement(we,ye,!1,m))/1e6;for(u=we;u<ze;u=E.tickIncrement(u,ye,!1,m))j.push(ce),G.push(u),pe&&X.push(0);G.push(u);var Ce=j.length,ge=(u-we)/Ce,he=T.c2r(we+ge/2,0,m),_e=O.size,Le=b(O.start),Ie=b(O.end)+(Le-E.tickIncrement(Le,_e,!1,w))/1e6;for(u=Le;u<Ie;u=E.tickIncrement(u,_e,!1,w)){N.push(j.slice()),H.push(u);var De=new Array(Ce);for(h=0;h<Ce;h++)De[h]=[];ne.push(De),pe&&re.push(X.slice())}H.push(u);var je=N.length,qe=(u-Le)/je,ve=_.c2r(Le+qe/2,0,w);oe&&(Me=i(j.length,W,ge,F),Ae=i(N.length,Z,qe,Y)),F||"date"!==T.type||(W=s(x,W)),Y||"date"!==_.type||(Z=s(b,Z));var Oe=!0,ke=!0,Be=new Array(Ce),We=new Array(je),Ge=1/0,Ke=1/0,et=1/0,at=1/0;for(u=0;u<L;u++){var mt=I[u],ct=R[u];v=D.findBin(mt,W),p=D.findBin(ct,Z),v>=0&&v<Ce&&p>=0&&p<je&&(se+=fe(v,u,N[p],be,re[p]),ne[p][v].push(u),Oe&&(void 0===Be[v]?Be[v]=mt:Be[v]!==mt&&(Oe=!1)),ke&&(void 0===We[p]?We[p]=ct:We[p]!==ct&&(ke=!1)),Ge=Math.min(Ge,mt-G[v]),Ke=Math.min(Ke,G[v+1]-mt),et=Math.min(et,ct-H[p]),at=Math.min(at,H[p+1]-ct))}if(pe)for(p=0;p<je;p++)se+=M(N[p],re[p]);if(le)for(p=0;p<je;p++)le(N[p],se,Me,Ae[p]);return{x:I,xRanges:a(G,Oe&&Be,Ge,Ke,T,m),x0:he,dx:ge,y:R,yRanges:a(H,ke&&We,et,at,_,w),y0:ve,dy:qe,z:N,pts:ne}}},93888:function(ae,B,r){"use strict";var D=r(71828),E=r(75238),f=r(49901),k=r(1586),M=r(58623),y=r(35361);ae.exports=function(c,i,s,a){function o(l,u){return D.coerce(c,i,y,l,u)}E(c,i,o,a),!1!==i.visible&&(f(c,i,o,a),k(c,i,a,o,{prefix:"",cLetter:"z"}),o("hovertemplate"),M(o,a),o("xhoverformat"),o("yhoverformat"))}},76128:function(ae,B,r){"use strict";var D=r(46248),E=r(89298).hoverLabelText;ae.exports=function(f,k,M,y,c){var i=D(f,k,M,y,c);if(i){var s=(f=i[0]).index,l=f.cd[0],u=l.trace,h=l.xRanges[s[1]],v=l.yRanges[s[0]];return f.xLabel=E(f.xa,[h[0],h[1]],u.xhoverformat),f.yLabel=E(f.ya,[v[0],v[1]],u.yhoverformat),i}}},43905:function(ae,B,r){"use strict";ae.exports={attributes:r(35361),supplyDefaults:r(93888),crossTraceDefaults:r(82222),calc:r(90757),plot:r(50347),layerName:"heatmaplayer",colorbar:r(61243),style:r(70035),hoverPoints:r(76128),eventData:r(84402),moduleType:"trace",name:"histogram2d",basePlotModule:r(93612),categories:["cartesian","svg","2dMap","histogram","showLegend"],meta:{}}},75238:function(ae,B,r){"use strict";var D=r(73972),E=r(71828);ae.exports=function(f,k,M,y){var c=M("x"),i=M("y"),s=E.minRowLength(c),a=E.minRowLength(i);s&&a?(k._length=Math.min(s,a),D.getComponentMethod("calendars","handleTraceDefaults")(f,k,["x","y"],y),(M("z")||M("marker.color"))&&M("histfunc"),M("histnorm"),M("autobinx"),M("autobiny")):k.visible=!1}},99066:function(ae,B,r){"use strict";var D=r(35361),E=r(70600),f=r(50693),k=r(12663).axisHoverFormat,M=r(1426).extendFlat;ae.exports=M({x:D.x,y:D.y,z:D.z,marker:D.marker,histnorm:D.histnorm,histfunc:D.histfunc,nbinsx:D.nbinsx,xbins:D.xbins,nbinsy:D.nbinsy,ybins:D.ybins,autobinx:D.autobinx,autobiny:D.autobiny,bingroup:D.bingroup,xbingroup:D.xbingroup,ybingroup:D.ybingroup,autocontour:E.autocontour,ncontours:E.ncontours,contours:E.contours,line:{color:E.line.color,width:M({},E.line.width,{dflt:.5}),dash:E.line.dash,smoothing:E.line.smoothing,editType:"plot"},xhoverformat:k("x"),yhoverformat:k("y"),zhoverformat:k("z",1),hovertemplate:D.hovertemplate,texttemplate:E.texttemplate,textfont:E.textfont},f("",{cLetter:"z",editTypeOverride:"calc"}))},62654:function(ae,B,r){"use strict";var D=r(71828),E=r(75238),f=r(67217),k=r(8724),M=r(58623),y=r(99066);ae.exports=function(c,i,s,a){function o(l,u){return D.coerce(c,i,y,l,u)}E(c,i,o,a),!1!==i.visible&&(f(c,i,o,function(l){return D.coerce2(c,i,y,l)}),k(c,i,o,a),o("xhoverformat"),o("yhoverformat"),o("hovertemplate"),i.contours&&"heatmap"===i.contours.coloring&&M(o,a))}},35902:function(ae,B,r){"use strict";ae.exports={attributes:r(99066),supplyDefaults:r(62654),crossTraceDefaults:r(82222),calc:r(27529),plot:r(29854).plot,layerName:"contourlayer",style:r(84426),colorbar:r(90654),hoverPoints:r(52421),moduleType:"trace",name:"histogram2dcontour",basePlotModule:r(93612),categories:["cartesian","svg","2dMap","contour","histogram","showLegend"],meta:{}}},46291:function(ae,B,r){"use strict";var D=r(5386).fF,E=r(5386).si,f=r(50693),k=r(27670).Y,M=r(34e3),y=r(57564),c=r(45802),i=r(43473),s=r(1426).extendFlat,a=r(79952).u;ae.exports={labels:y.labels,parents:y.parents,values:y.values,branchvalues:y.branchvalues,count:y.count,level:y.level,maxdepth:y.maxdepth,tiling:{orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"plot"},flip:c.tiling.flip,pad:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},marker:s({colors:y.marker.colors,line:y.marker.line,pattern:a,editType:"calc"},f("marker",{colorAttr:"colors",anim:!1})),leaf:y.leaf,pathbar:c.pathbar,text:M.text,textinfo:y.textinfo,texttemplate:E({editType:"plot"},{keys:i.eventDataKeys.concat(["label","value"])}),hovertext:M.hovertext,hoverinfo:y.hoverinfo,hovertemplate:D({},{keys:i.eventDataKeys}),textfont:M.textfont,insidetextfont:M.insidetextfont,outsidetextfont:c.outsidetextfont,textposition:c.textposition,sort:M.sort,root:y.root,domain:k({name:"icicle",trace:!0,editType:"calc"})}},96346:function(ae,B,r){"use strict";var D=r(74875);B.name="icicle",B.plot=function(E,f,k,M){D.plotBasePlot(B.name,E,f,k,M)},B.clean=function(E,f,k,M){D.cleanBasePlot(B.name,E,f,k,M)}},46584:function(ae,B,r){"use strict";var D=r(52147);B.y=function(E,f){return D.calc(E,f)},B.T=function(E){return D._runCrossTraceCalc("icicle",E)}},56524:function(ae,B,r){"use strict";var D=r(71828),E=r(46291),f=r(7901),k=r(27670).c,M=r(90769).handleText,y=r(97313).TEXTPAD,c=r(37434).handleMarkerDefaults,i=r(21081),s=i.hasColorscale,a=i.handleDefaults;ae.exports=function(o,l,u,h){function v(b,A){return D.coerce(o,l,E,b,A)}var p=v("labels"),T=v("parents");if(p&&p.length&&T&&T.length){var _=v("values");v(_&&_.length?"branchvalues":"count"),v("level"),v("maxdepth"),v("tiling.orientation"),v("tiling.flip"),v("tiling.pad");var m=v("text");v("texttemplate"),l.texttemplate||v("textinfo",Array.isArray(m)?"text+label":"label"),v("hovertext"),v("hovertemplate");var w=v("pathbar.visible");M(o,l,h,v,"auto",{hasPathbar:w,moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),v("textposition"),c(o,l,h,v);var x=l._hasColorscale=s(o,"marker","colors")||(o.marker||{}).coloraxis;x&&a(o,l,h,v,{prefix:"marker.",cLetter:"c"}),v("leaf.opacity",x?1:.7),l._hovered={marker:{line:{width:2,color:f.contrast(h.paper_bgcolor)}}},w&&(v("pathbar.thickness",l.pathbar.textfont.size+2*y),v("pathbar.side"),v("pathbar.edgeshape")),v("sort"),v("root.color"),k(l,h,v),l._length=null}else l.visible=!1}},90666:function(ae,B,r){"use strict";var D=r(39898),E=r(71828),f=r(91424),k=r(63893),M=r(21538),y=r(82454).styleOne,c=r(43473),i=r(2791),s=r(83523),a=r(24714).formatSliceLabel,o=!1;ae.exports=function(l,u,h,v,p){var T=p.width,_=p.height,m=p.viewX,w=p.viewY,x=p.pathSlice,b=p.toMoveInsideSlice,A=p.strTransform,g=p.hasTransition,I=p.handleSlicesExit,S=p.makeUpdateSliceInterpolator,O=p.makeUpdateTextInterpolator,R=p.prevEntry,L=l._context.staticPlot,N=l._fullLayout,j=u[0].trace,X=-1!==j.textposition.indexOf("left"),F=-1!==j.textposition.indexOf("right"),Y=-1!==j.textposition.indexOf("bottom"),G=M(h,[T,_],{flipX:j.tiling.flip.indexOf("x")>-1,flipY:j.tiling.flip.indexOf("y")>-1,orientation:j.tiling.orientation,pad:{inner:j.tiling.pad},maxDepth:j._maxDepth}).descendants(),H=1/0,W=-1/0;G.forEach(function(Q){var ee=Q.depth;ee>=j._maxDepth?(Q.x0=Q.x1=(Q.x0+Q.x1)/2,Q.y0=Q.y1=(Q.y0+Q.y1)/2):(H=Math.min(H,ee),W=Math.max(W,ee))}),v=v.data(G,i.getPtId),j._maxVisibleLayers=isFinite(W)?W-H+1:0,v.enter().append("g").classed("slice",!0),I(v,o,{},[T,_],x),v.order();var Z=null;if(g&&R){var se=i.getPtId(R);v.each(function(Q){null===Z&&i.getPtId(Q)===se&&(Z={x0:Q.x0,x1:Q.x1,y0:Q.y0,y1:Q.y1})})}var re=function(){return Z||{x0:0,x1:T,y0:0,y1:_}},ne=v;return g&&(ne=ne.transition().each("end",function(){var Q=D.select(this);i.setSliceCursor(Q,l,{hideOnRoot:!0,hideOnLeaves:!1,isTransitioning:!1})})),ne.each(function(Q){Q._x0=m(Q.x0),Q._x1=m(Q.x1),Q._y0=w(Q.y0),Q._y1=w(Q.y1),Q._hoverX=m(Q.x1-j.tiling.pad),Q._hoverY=w(Y?Q.y1-j.tiling.pad/2:Q.y0+j.tiling.pad/2);var ee=D.select(this),oe=E.ensureSingle(ee,"path","surface",function(pe){pe.style("pointer-events",L?"none":"all")});g?oe.transition().attrTween("d",function(pe){var Me=S(pe,o,re(),[T,_],{orientation:j.tiling.orientation,flipX:j.tiling.flip.indexOf("x")>-1,flipY:j.tiling.flip.indexOf("y")>-1});return function(Ae){return x(Me(Ae))}}):oe.attr("d",x),ee.call(s,h,l,u,{styleOne:y,eventDataKeys:c.eventDataKeys,transitionTime:c.CLICK_TRANSITION_TIME,transitionEasing:c.CLICK_TRANSITION_EASING}).call(i.setSliceCursor,l,{isTransitioning:l._transitioning}),oe.call(y,Q,j,l,{hovered:!1}),Q._text=Q.x0===Q.x1||Q.y0===Q.y1?"":a(Q,h,j,u,N)||"";var ce=E.ensureSingle(ee,"g","slicetext"),fe=E.ensureSingle(ce,"text","",function(pe){pe.attr("data-notex",1)}),le=E.ensureUniformFontSize(l,i.determineTextFont(j,Q,N.font));fe.text(Q._text||" ").classed("slicetext",!0).attr("text-anchor",F?"end":X?"start":"middle").call(f.font,le).call(k.convertToTspans,l),Q.textBB=f.bBox(fe.node()),Q.transform=b(Q,{fontSize:le.size}),Q.transform.fontSize=le.size,g?fe.transition().attrTween("transform",function(pe){var Me=O(pe,o,re(),[T,_]);return function(Ae){return A(Me(Ae))}}):fe.attr("transform",A(Q))}),Z}},69816:function(ae,B,r){"use strict";ae.exports={moduleType:"trace",name:"icicle",basePlotModule:r(96346),categories:[],animatable:!0,attributes:r(46291),layoutAttributes:r(92894),supplyDefaults:r(56524),supplyLayoutDefaults:r(21070),calc:r(46584).y,crossTraceCalc:r(46584).T,plot:r(85596),style:r(82454).style,colorbar:r(4898),meta:{}}},92894:function(ae){"use strict";ae.exports={iciclecolorway:{valType:"colorlist",editType:"calc"},extendiciclecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},21070:function(ae,B,r){"use strict";var D=r(71828),E=r(92894);ae.exports=function(f,k){function M(y,c){return D.coerce(f,k,E,y,c)}M("iciclecolorway",k.colorway),M("extendiciclecolors")}},21538:function(ae,B,r){"use strict";var D=r(674),E=r(14102);ae.exports=function(f,k,M){var y=M.flipX,c=M.flipY,i="h"===M.orientation,s=M.maxDepth,a=k[0],o=k[1];s&&(a=(f.height+1)*k[0]/Math.min(f.height+1,s),o=(f.height+1)*k[1]/Math.min(f.height+1,s));var l=D.partition().padding(M.pad.inner).size(i?[k[1],a]:[k[0],o])(f);return(i||y||c)&&E(l,k,{swapXY:i,flipX:y,flipY:c}),l}},85596:function(ae,B,r){"use strict";var D=r(80694),E=r(90666);ae.exports=function(f,k,M,y){return D(f,k,M,y,{type:"icicle",drawDescendants:E})}},82454:function(ae,B,r){"use strict";var D=r(39898),E=r(7901),f=r(71828),k=r(72597).resizeText,M=r(43467);function y(c,i,s,a){var l=!i.children,u=i.data.data.i,h=f.castOption(s,u,"marker.line.color")||E.defaultLine,v=f.castOption(s,u,"marker.line.width")||0;c.call(M,i,s,a).style("stroke-width",v).call(E.stroke,h).style("opacity",l?s.leaf.opacity:null)}ae.exports={style:function(c){var i=c._fullLayout._iciclelayer.selectAll(".trace");k(c,i,"icicle"),i.each(function(s){var a=D.select(this),o=s[0].trace;a.style("opacity",o.opacity),a.selectAll("path.surface").each(function(l){D.select(this).call(y,l,o,c)})})},styleOne:y}},17230:function(ae,B,r){"use strict";for(var D=r(9012),E=r(5386).fF,f=r(1426).extendFlat,k=r(51877).colormodel,M=["rgb","rgba","rgba256","hsl","hsla"],y=[],c=[],i=0;i<M.length;i++){var s=k[M[i]];y.push("For the `"+M[i]+"` colormodel, it is ["+(s.zminDflt||s.min).join(", ")+"]."),c.push("For the `"+M[i]+"` colormodel, it is ["+(s.zmaxDflt||s.max).join(", ")+"].")}ae.exports=f({source:{valType:"string",editType:"calc"},z:{valType:"data_array",editType:"calc"},colormodel:{valType:"enumerated",values:M,editType:"calc"},zsmooth:{valType:"enumerated",values:["fast",!1],dflt:!1,editType:"plot"},zmin:{valType:"info_array",items:[{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"}],editType:"calc"},zmax:{valType:"info_array",items:[{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"}],editType:"calc"},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dx:{valType:"number",dflt:1,editType:"calc"},dy:{valType:"number",dflt:1,editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"data_array",editType:"plot"},hoverinfo:f({},D.hoverinfo,{flags:["x","y","z","color","name","text"],dflt:"x+y+z+text+name"}),hovertemplate:E({},{keys:["z","color","colormodel"]}),transforms:void 0})},71113:function(ae,B,r){"use strict";var D=r(71828),E=r(51877),f=r(92770),k=r(89298),M=r(71828).maxRowLength,y=r(67395).A;function c(s,a,o,l){return function(u){return D.constrain((u-s)*a,o,l)}}function i(s,a){return function(o){return D.constrain(o,s,a)}}ae.exports=function(s,a){var o,l;if(a._hasZ)o=a.z.length,l=M(a.z);else if(a._hasSource){var u=y(a.source);o=u.height,l=u.width}var h,v=k.getFromId(s,a.xaxis||"x"),p=k.getFromId(s,a.yaxis||"y"),T=v.d2c(a.x0)-a.dx/2,_=p.d2c(a.y0)-a.dy/2,m=[T,T+l*a.dx],w=[_,_+o*a.dy];if(v&&"log"===v.type)for(h=0;h<l;h++)m.push(T+h*a.dx);if(p&&"log"===p.type)for(h=0;h<o;h++)w.push(_+h*a.dy);return a._extremes[v._id]=k.findExtremes(v,m),a._extremes[p._id]=k.findExtremes(p,w),a._scaler=function(x){var b=E.colormodel[x.colormodel],A=(b.colormodel||x.colormodel).length;x._sArray=[];for(var g=0;g<A;g++)x._sArray.push(b.min[g]!==x.zmin[g]||b.max[g]!==x.zmax[g]?c(x.zmin[g],(b.max[g]-b.min[g])/(x.zmax[g]-x.zmin[g]),b.min[g],b.max[g]):i(b.min[g],b.max[g]));return function(I){for(var S=I.slice(0,A),O=0;O<A;O++){var R=S[O];if(!f(R))return!1;S[O]=x._sArray[O](R)}return S}}(a),[{x0:T,y0:_,z:a.z,w:l,h:o}]}},51877:function(ae){"use strict";ae.exports={colormodel:{rgb:{min:[0,0,0],max:[255,255,255],fmt:function(B){return B.slice(0,3)},suffix:["","",""]},rgba:{min:[0,0,0,0],max:[255,255,255,1],fmt:function(B){return B.slice(0,4)},suffix:["","","",""]},rgba256:{colormodel:"rgba",zminDflt:[0,0,0,0],zmaxDflt:[255,255,255,255],min:[0,0,0,0],max:[255,255,255,1],fmt:function(B){return B.slice(0,4)},suffix:["","","",""]},hsl:{min:[0,0,0],max:[360,100,100],fmt:function(B){var r=B.slice(0,3);return r[1]=r[1]+"%",r[2]=r[2]+"%",r},suffix:["\xb0","%","%"]},hsla:{min:[0,0,0,0],max:[360,100,100,1],fmt:function(B){var r=B.slice(0,4);return r[1]=r[1]+"%",r[2]=r[2]+"%",r},suffix:["\xb0","%","%",""]}}}},13245:function(ae,B,r){"use strict";var D=r(71828),E=r(17230),f=r(51877),k=r(25095).IMAGE_URL_PREFIX;ae.exports=function(M,y){function c(a,o){return D.coerce(M,y,E,a,o)}c("source"),y.source&&!y.source.match(k)&&delete y.source,y._hasSource=!!y.source;var i,s=c("z");y._hasZ=!(void 0===s||!s.length||!s[0]||!s[0].length),y._hasZ||y._hasSource?(c("x0"),c("y0"),c("dx"),c("dy"),y._hasZ?(c("colormodel","rgb"),c("zmin",(i=f.colormodel[y.colormodel]).zminDflt||i.min),c("zmax",i.zmaxDflt||i.max)):y._hasSource&&(y.colormodel="rgba256",y.zmin=(i=f.colormodel[y.colormodel]).zminDflt,y.zmax=i.zmaxDflt),c("zsmooth"),c("text"),c("hovertext"),c("hovertemplate"),y._length=null):y.visible=!1}},30835:function(ae){"use strict";ae.exports=function(B,r){return"xVal"in r&&(B.x=r.xVal),"yVal"in r&&(B.y=r.yVal),r.xa&&(B.xaxis=r.xa),r.ya&&(B.yaxis=r.ya),B.color=r.color,B.colormodel=r.trace.colormodel,B.z||(B.z=r.color),B}},67395:function(ae,B,r){"use strict";var D=r(33575),E=r(25095).IMAGE_URL_PREFIX,f=r(12856).Buffer;B.A=function(k){var M=k.replace(E,""),y=new f(M,"base64");return D(y)}},28749:function(ae,B,r){"use strict";var D=r(30211),E=r(71828),f=r(51877);ae.exports=function(k,M,y){var c=k.cd[0],i=c.trace,s=k.xa,a=k.ya;if(!(D.inbox(M-c.x0,M-(c.x0+c.w*i.dx),0)>0||D.inbox(y-c.y0,y-(c.y0+c.h*i.dy),0)>0)){var o,l=Math.floor((M-c.x0)/i.dx),u=Math.floor(Math.abs(y-c.y0)/i.dy);if(i._hasZ?o=c.z[u][l]:i._hasSource&&(o=i._canvas.el.getContext("2d",{willReadFrequently:!0}).getImageData(l,u,1,1).data),o){var h,v=c.hi||i.hoverinfo;if(v){var p=v.split("+");-1!==p.indexOf("all")&&(p=["color"]),-1!==p.indexOf("color")&&(h=!0)}var T,_=f.colormodel[i.colormodel],m=_.colormodel||i.colormodel,w=m.length,x=i._scaler(o),b=_.suffix,A=[];(i.hovertemplate||h)&&(A.push("["+[x[0]+b[0],x[1]+b[1],x[2]+b[2]].join(", ")),4===w&&A.push(", "+x[3]+b[3]),A.push("]"),A=A.join(""),k.extraText=m.toUpperCase()+": "+A),Array.isArray(i.hovertext)&&Array.isArray(i.hovertext[u])?T=i.hovertext[u][l]:Array.isArray(i.text)&&Array.isArray(i.text[u])&&(T=i.text[u][l]);var g=a.c2p(c.y0+(u+.5)*i.dy),I=c.x0+(l+.5)*i.dx,S=c.y0+(u+.5)*i.dy,O="["+o.slice(0,i.colormodel.length).join(", ")+"]";return[E.extendFlat(k,{index:[u,l],x0:s.c2p(c.x0+l*i.dx),x1:s.c2p(c.x0+(l+1)*i.dx),y0:g,y1:g,color:x,xVal:I,xLabelVal:I,yVal:S,yLabelVal:S,zLabelVal:O,text:T,hovertemplateLabels:{zLabel:O,colorLabel:A,"color[0]Label":x[0]+b[0],"color[1]Label":x[1]+b[1],"color[2]Label":x[2]+b[2],"color[3]Label":x[3]+b[3]}})]}}}},94507:function(ae,B,r){"use strict";ae.exports={attributes:r(17230),supplyDefaults:r(13245),calc:r(71113),plot:r(60775),style:r(12826),hoverPoints:r(28749),eventData:r(30835),moduleType:"trace",name:"image",basePlotModule:r(93612),categories:["cartesian","svg","2dMap","noSortingByValue"],animatable:!1,meta:{}}},60775:function(ae,B,r){"use strict";var D=r(39898),E=r(71828),f=E.strTranslate,k=r(77922),M=r(51877),y=r(3883),c=r(32396).STYLE;ae.exports=function(i,s,a,o){var l=s.xaxis,u=s.yaxis,h=!i._context._exportedPlot&&y();E.makeTraceGroups(o,a,"im").each(function(v){var p=D.select(this),T=v[0],_=T.trace,m=("fast"===_.zsmooth||!1===_.zsmooth&&h)&&!_._hasZ&&_._hasSource&&"linear"===l.type&&"linear"===u.type;_._realImage=m;var w,x,b,A,g,I,S=T.z,O=T.x0,R=T.y0,L=T.w,N=T.h,j=_.dx,X=_.dy;for(I=0;void 0===w&&I<L;)w=l.c2p(O+I*j),I++;for(I=L;void 0===x&&I>0;)x=l.c2p(O+I*j),I--;for(I=0;void 0===A&&I<N;)A=u.c2p(R+I*X),I++;for(I=N;void 0===g&&I>0;)g=u.c2p(R+I*X),I--;x<w&&(b=x,x=w,w=b),g<A&&(b=A,A=g,g=b),m||(w=Math.max(-.5*l._length,w),x=Math.min(1.5*l._length,x),A=Math.max(-.5*u._length,A),g=Math.min(1.5*u._length,g));var F=Math.round(x-w),Y=Math.round(g-A);if(F<=0||Y<=0)p.selectAll("image").data([]).exit().remove();else{var G=p.selectAll("image").data([v]);G.enter().append("svg:image").attr({xmlns:k.svg,preserveAspectRatio:"none"}),G.exit().remove();var H=!1===_.zsmooth?c:"";if(m){var W=E.simpleMap(l.range,l.r2l),Z=E.simpleMap(u.range,u.r2l),se=W[1]<W[0],re=Z[1]>Z[0];if(se||re){var ne=w+F/2,Q=A+Y/2;H+="transform:"+f(ne+"px",Q+"px")+"scale("+(se?-1:1)+","+(re?-1:1)+")"+f(-ne+"px",-Q+"px")+";"}}G.attr("style",H);var ee=new Promise(function(ce){if(_._hasZ)ce();else if(_._hasSource)if(_._canvas&&_._canvas.el.width===L&&_._canvas.el.height===N&&_._canvas.source===_.source)ce();else{var fe=document.createElement("canvas");fe.width=L,fe.height=N;var le=fe.getContext("2d",{willReadFrequently:!0});_._image=_._image||new Image;var pe=_._image;pe.onload=function(){le.drawImage(pe,0,0),_._canvas={el:fe,source:_.source},ce()},pe.setAttribute("src",_.source)}}).then(function(){var ce;if(_._hasZ)ce=oe(function(pe,Me){return S[Me][pe]}).toDataURL("image/png");else if(_._hasSource)if(m)ce=_.source;else{var le=_._canvas.el.getContext("2d",{willReadFrequently:!0}).getImageData(0,0,L,N).data;ce=oe(function(pe,Me){var Ae=4*(Me*L+pe);return[le[Ae],le[Ae+1],le[Ae+2],le[Ae+3]]}).toDataURL("image/png")}G.attr({"xlink:href":ce,height:Y,width:F,x:w,y:A})});i._promises.push(ee)}function oe(ce){var fe=document.createElement("canvas");fe.width=F,fe.height=Y;var le,pe=fe.getContext("2d",{willReadFrequently:!0}),Me=function(_e){return E.constrain(Math.round(l.c2p(O+_e*j)-w),0,F)},Ae=function(_e){return E.constrain(Math.round(u.c2p(R+_e*X)-A),0,Y)},be=M.colormodel[_.colormodel],ye=be.colormodel||_.colormodel,we=be.fmt;for(I=0;I<T.w;I++){var ze=Me(I),Se=Me(I+1);if(Se!==ze&&!isNaN(Se)&&!isNaN(ze))for(var Ce=0;Ce<T.h;Ce++){var ge=Ae(Ce),he=Ae(Ce+1);he===ge||isNaN(he)||isNaN(ge)||!ce(I,Ce)||(le=_._scaler(ce(I,Ce)),pe.fillStyle=le?ye+"("+we(le).join(",")+")":"rgba(0,0,0,0)",pe.fillRect(ze,ge,Se-ze,he-ge))}}return fe}})}},12826:function(ae,B,r){"use strict";var D=r(39898);ae.exports=function(E){D.select(E).selectAll(".im image").style("opacity",function(f){return f[0].trace.opacity})}},54846:function(ae,B,r){"use strict";var D=r(1426).extendFlat,E=r(1426).extendDeep,f=r(30962).overrideAll,k=r(41940),M=r(22399),y=r(27670).Y,c=r(13838),i=r(44467).templatedArray,s=r(22372),a=r(12663).descriptionOnlyNumbers,o=k({editType:"plot",colorEditType:"plot"}),l={color:{valType:"color",editType:"plot"},line:{color:{valType:"color",dflt:M.defaultLine,editType:"plot"},width:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},thickness:{valType:"number",min:0,max:1,dflt:1,editType:"plot"},editType:"calc"},u={valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],editType:"plot"},h=i("step",E({},l,{range:u}));ae.exports={mode:{valType:"flaglist",editType:"calc",flags:["number","delta","gauge"],dflt:"number"},value:{valType:"number",editType:"calc",anim:!0},align:{valType:"enumerated",values:["left","center","right"],editType:"plot"},domain:y({name:"indicator",trace:!0,editType:"calc"}),title:{text:{valType:"string",editType:"plot"},align:{valType:"enumerated",values:["left","center","right"],editType:"plot"},font:D({},o,{}),editType:"plot"},number:{valueformat:{valType:"string",dflt:"",editType:"plot",description:a("value")},font:D({},o,{}),prefix:{valType:"string",dflt:"",editType:"plot"},suffix:{valType:"string",dflt:"",editType:"plot"},editType:"plot"},delta:{reference:{valType:"number",editType:"calc"},position:{valType:"enumerated",values:["top","bottom","left","right"],dflt:"bottom",editType:"plot"},relative:{valType:"boolean",editType:"plot",dflt:!1},valueformat:{valType:"string",editType:"plot",description:a("value")},increasing:{symbol:{valType:"string",dflt:s.INCREASING.SYMBOL,editType:"plot"},color:{valType:"color",dflt:s.INCREASING.COLOR,editType:"plot"},editType:"plot"},decreasing:{symbol:{valType:"string",dflt:s.DECREASING.SYMBOL,editType:"plot"},color:{valType:"color",dflt:s.DECREASING.COLOR,editType:"plot"},editType:"plot"},font:D({},o,{}),prefix:{valType:"string",dflt:"",editType:"plot"},suffix:{valType:"string",dflt:"",editType:"plot"},editType:"calc"},gauge:{shape:{valType:"enumerated",editType:"plot",dflt:"angular",values:["angular","bullet"]},bar:E({},l,{color:{dflt:"green"}}),bgcolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:M.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:1,editType:"plot"},axis:f({range:u,visible:D({},c.visible,{dflt:!0}),tickmode:c.minor.tickmode,nticks:c.nticks,tick0:c.tick0,dtick:c.dtick,tickvals:c.tickvals,ticktext:c.ticktext,ticks:D({},c.ticks,{dflt:"outside"}),ticklen:c.ticklen,tickwidth:c.tickwidth,tickcolor:c.tickcolor,ticklabelstep:c.ticklabelstep,showticklabels:c.showticklabels,labelalias:c.labelalias,tickfont:k({}),tickangle:c.tickangle,tickformat:c.tickformat,tickformatstops:c.tickformatstops,tickprefix:c.tickprefix,showtickprefix:c.showtickprefix,ticksuffix:c.ticksuffix,showticksuffix:c.showticksuffix,separatethousands:c.separatethousands,exponentformat:c.exponentformat,minexponent:c.minexponent,showexponent:c.showexponent,editType:"plot"},"plot"),steps:h,threshold:{line:{color:D({},l.line.color,{}),width:D({},l.line.width,{dflt:1}),editType:"plot"},thickness:D({},l.thickness,{dflt:.85}),value:{valType:"number",editType:"calc",dflt:!1},editType:"plot"},editType:"plot"}}},15970:function(ae,B,r){"use strict";var D=r(74875);B.name="indicator",B.plot=function(E,f,k,M){D.plotBasePlot(B.name,E,f,k,M)},B.clean=function(E,f,k,M){D.cleanBasePlot(B.name,E,f,k,M)}},24667:function(ae){"use strict";ae.exports={calc:function(B,r){var D=[],E=r.value;"number"!=typeof r._lastValue&&(r._lastValue=r.value);var f=r._lastValue,k=f;return r._hasDelta&&"number"==typeof r.delta.reference&&(k=r.delta.reference),D[0]={y:E,lastY:f,delta:E-k,relativeDelta:(E-k)/k},D}}},84577:function(ae){"use strict";ae.exports={defaultNumberFontSize:80,bulletNumberDomainSize:.25,bulletPadding:.025,innerRadius:.75,valueThickness:.5,titlePadding:5,horizontalPadding:10}},94425:function(ae,B,r){"use strict";var D=r(71828),E=r(54846),f=r(27670).c,k=r(44467),M=r(85501),y=r(84577),c=r(26218),i=r(38701),s=r(96115),a=r(89426);function o(l,u){function h(v,p){return D.coerce(l,u,E.gauge.steps,v,p)}h("color"),h("line.color"),h("line.width"),h("range"),h("thickness")}ae.exports={supplyDefaults:function(l,u,h,v){function p(R,L){return D.coerce(l,u,E,R,L)}f(u,v,p),p("mode"),u._hasNumber=-1!==u.mode.indexOf("number"),u._hasDelta=-1!==u.mode.indexOf("delta"),u._hasGauge=-1!==u.mode.indexOf("gauge");var T=p("value");u._range=[0,"number"==typeof T?1.5*T:1];var _,m,w,x,b,A,g=new Array(2);function I(R,L){return D.coerce(w,x,E.gauge,R,L)}function S(R,L){return D.coerce(b,A,E.gauge.axis,R,L)}if(u._hasNumber&&(p("number.valueformat"),p("number.font.color",v.font.color),p("number.font.family",v.font.family),p("number.font.size"),void 0===u.number.font.size&&(u.number.font.size=y.defaultNumberFontSize,g[0]=!0),p("number.prefix"),p("number.suffix"),_=u.number.font.size),u._hasDelta&&(p("delta.font.color",v.font.color),p("delta.font.family",v.font.family),p("delta.font.size"),void 0===u.delta.font.size&&(u.delta.font.size=(u._hasNumber?.5:1)*(_||y.defaultNumberFontSize),g[1]=!0),p("delta.reference",u.value),p("delta.relative"),p("delta.valueformat",u.delta.relative?"2%":""),p("delta.increasing.symbol"),p("delta.increasing.color"),p("delta.decreasing.symbol"),p("delta.decreasing.color"),p("delta.position"),p("delta.prefix"),p("delta.suffix"),m=u.delta.font.size),u._scaleNumbers=(!u._hasNumber||g[0])&&(!u._hasDelta||g[1])||!1,p("title.font.color",v.font.color),p("title.font.family",v.font.family),p("title.font.size",.25*(_||m||y.defaultNumberFontSize)),p("title.text"),u._hasGauge){(w=l.gauge)||(w={}),x=k.newContainer(u,"gauge"),I("shape"),(u._isBullet="bullet"===u.gauge.shape)||p("title.align","center"),(u._isAngular="angular"===u.gauge.shape)||p("align","center"),I("bgcolor",v.paper_bgcolor),I("borderwidth"),I("bordercolor"),I("bar.color"),I("bar.line.color"),I("bar.line.width"),I("bar.thickness",y.valueThickness*("bullet"===u.gauge.shape?.5:1)),M(w,x,{name:"steps",handleItemDefaults:o}),I("threshold.value"),I("threshold.thickness"),I("threshold.line.width"),I("threshold.line.color"),b={},w&&(b=w.axis||{}),A=k.newContainer(x,"axis"),S("visible"),u._range=S("range",u._range);var O={outerTicks:!0};c(b,A,S,"linear"),a(b,A,S,"linear",O),s(b,A,S,"linear",O),i(b,A,S,O)}else p("title.align","center"),p("align","center"),u._isAngular=u._isBullet=!1;u._length=null}}},15154:function(ae,B,r){"use strict";ae.exports={moduleType:"trace",name:"indicator",basePlotModule:r(15970),categories:["svg","noOpacity","noHover"],animatable:!0,attributes:r(54846),supplyDefaults:r(94425).supplyDefaults,calc:r(24667).calc,plot:r(75634),meta:{}}},75634:function(ae,B,r){"use strict";var D=r(39898),E=r(81684).sX,f=r(81684).k4,k=r(71828),M=k.strScale,y=k.strTranslate,c=k.rad2deg,i=r(18783).MID_SHIFT,s=r(91424),a=r(84577),o=r(63893),l=r(89298),u=r(71453),h=r(52830),v=r(13838),p=r(7901),T={left:"start",center:"middle",right:"end"},_={left:0,center:.5,right:1},m=/[yzafpn\xb5mkMGTPEZY]/;function w(S){return S&&S.duration>0}function x(S){S.each(function(O){p.stroke(D.select(this),O.line.color)}).each(function(O){p.fill(D.select(this),O.color)}).style("stroke-width",function(O){return O.line.width})}function b(S,O,R){var L=S._fullLayout,N=k.extendFlat({type:"linear",ticks:"outside",range:R,showline:!0},O),j={type:"linear",_id:"x"+O._id},X={letter:"x",font:L.font,noHover:!0,noTickson:!0};function F(Y,G){return k.coerce(N,j,v,Y,G)}return u(N,j,F,X,L),h(N,j,F,X),j}function A(S,O,R){return[Math.min(O/S.width,R/S.height),S,O+"x"+R]}function g(S,O,R,L){var N=document.createElementNS("http://www.w3.org/2000/svg","text"),j=D.select(N);return j.text(S).attr("x",0).attr("y",0).attr("text-anchor",R).attr("data-unformatted",S).call(o.convertToTspans,L).call(s.font,O),s.bBox(j.node())}function I(S,O,R,L,N,j){var X="_cache"+O;S[X]&&S[X].key===N||(S[X]={key:N,value:R});var F=k.aggNums(j,null,[S[X].value,L],2);return S[X].value=F,F}ae.exports=function(S,O,R,L){var N,j=S._fullLayout;w(R)&&L&&(N=L()),k.makeTraceGroups(j._indicatorlayer,O,"trace").each(function(X){var F,Y,G,H,W,Z=X[0].trace,se=D.select(this),re=Z._hasGauge,ne=Z._isAngular,Q=Z._isBullet,ee=Z.domain,oe={w:j._size.w*(ee.x[1]-ee.x[0]),h:j._size.h*(ee.y[1]-ee.y[0]),l:j._size.l+j._size.w*ee.x[0],r:j._size.r+j._size.w*(1-ee.x[1]),t:j._size.t+j._size.h*(1-ee.y[1]),b:j._size.b+j._size.h*ee.y[0]},ce=oe.l+oe.w/2,fe=oe.t+oe.h/2,le=Math.min(oe.w/2,oe.h),pe=a.innerRadius*le,Me=Z.align||"center";if(Y=fe,re){if(ne&&(F=ce,Y=fe+le/2,G=function(ge){return he=ge,[(_e=.9*pe)/Math.sqrt(he.width/2*(he.width/2)+he.height*he.height),he,_e];var he,_e}),Q){var Ae=a.bulletPadding,be=1-a.bulletNumberDomainSize+Ae;F=oe.l+(be+(1-be)*_[Me])*oe.w,G=function(ge){return A(ge,(a.bulletNumberDomainSize-Ae)*oe.w,oe.h)}}}else F=oe.l+_[Me]*oe.w,G=function(ge){return A(ge,oe.w,oe.h)};(function(ge,he,_e,Le){var Ie,De,je,qe=_e[0].trace,ve=Le.numbersX,Oe=Le.numbersY,ke=qe.align||"center",Be=T[ke],We=Le.transitionOpts,Ge=Le.onComplete,Ke=k.ensureSingle(he,"g","numbers"),et=[];qe._hasNumber&&et.push("number"),qe._hasDelta&&(et.push("delta"),"left"===qe.delta.position&&et.reverse());var at=Ke.selectAll("text").data(et);function mt(zt,Ht,Lt,tt){if(!zt.match("s")||Lt>=0==tt>=0||Ht(Lt).slice(-1).match(m)||Ht(tt).slice(-1).match(m))return Ht;var it=zt.slice().replace("s","f").replace(/\d+/,function(ot){return parseInt(ot)-1}),Je=b(ge,{tickformat:it});return function(ot){return Math.abs(ot)<1?l.tickText(Je,ot).text:Ht(ot)}}at.enter().append("text"),at.attr("text-anchor",function(){return Be}).attr("class",function(zt){return zt}).attr("x",null).attr("y",null).attr("dx",null).attr("dy",null),at.exit().remove();var ct,kt=qe.mode+qe.align;if(qe._hasDelta&&(ct=function(){var zt=b(ge,{tickformat:qe.delta.valueformat},qe._range);zt.setScale(),l.prepTicks(zt);var Ht=function(Ue){return l.tickText(zt,Ue).text},Lt=qe.delta.suffix,tt=qe.delta.prefix,it=function(Ue){return qe.delta.relative?Ue.relativeDelta:Ue.delta},Je=function(Ue,$e){return 0===Ue||"number"!=typeof Ue||isNaN(Ue)?"-":(Ue>0?qe.delta.increasing.symbol:qe.delta.decreasing.symbol)+tt+$e(Ue)+Lt},ot=function(Ue){return Ue.delta>=0?qe.delta.increasing.color:qe.delta.decreasing.color};void 0===qe._deltaLastValue&&(qe._deltaLastValue=it(_e[0]));var gt=Ke.select("text.delta");function ft(){gt.text(Je(it(_e[0]),Ht)).call(p.fill,ot(_e[0])).call(o.convertToTspans,ge)}return gt.call(s.font,qe.delta.font).call(p.fill,ot({delta:qe._deltaLastValue})),w(We)?gt.transition().duration(We.duration).ease(We.easing).tween("text",function(){var Ue=D.select(this),$e=it(_e[0]),dt=qe._deltaLastValue,ut=mt(qe.delta.valueformat,Ht,dt,$e),At=f(dt,$e);return qe._deltaLastValue=$e,function(wt){Ue.text(Je(At(wt),ut)),Ue.call(p.fill,ot({delta:At(wt)}))}}).each("end",function(){ft(),Ge&&Ge()}).each("interrupt",function(){ft(),Ge&&Ge()}):ft(),De=g(Je(it(_e[0]),Ht),qe.delta.font,Be,ge),gt}(),kt+=qe.delta.position+qe.delta.font.size+qe.delta.font.family+qe.delta.valueformat,kt+=qe.delta.increasing.symbol+qe.delta.decreasing.symbol,je=De),qe._hasNumber&&(function(){var zt=b(ge,{tickformat:qe.number.valueformat},qe._range);zt.setScale(),l.prepTicks(zt);var Ht=function(ot){return l.tickText(zt,ot).text},Lt=qe.number.suffix,tt=qe.number.prefix,it=Ke.select("text.number");function Je(){var ot="number"==typeof _e[0].y?tt+Ht(_e[0].y)+Lt:"-";it.text(ot).call(s.font,qe.number.font).call(o.convertToTspans,ge)}w(We)?it.transition().duration(We.duration).ease(We.easing).each("end",function(){Je(),Ge&&Ge()}).each("interrupt",function(){Je(),Ge&&Ge()}).attrTween("text",function(){var ot=D.select(this),gt=f(_e[0].lastY,_e[0].y);qe._lastValue=_e[0].y;var ft=mt(qe.number.valueformat,Ht,_e[0].lastY,_e[0].y);return function(Ue){ot.text(tt+ft(gt(Ue))+Lt)}}):Je(),Ie=g(tt+Ht(_e[0].y)+Lt,qe.number.font,Be,ge)}(),kt+=qe.number.font.size+qe.number.font.family+qe.number.valueformat+qe.number.suffix+qe.number.prefix,je=Ie),qe._hasDelta&&qe._hasNumber){var Dt,Et,ht=[(Ie.left+Ie.right)/2,(Ie.top+Ie.bottom)/2],pt=[(De.left+De.right)/2,(De.top+De.bottom)/2],Pt=.75*qe.delta.font.size;"left"===qe.delta.position&&(Dt=I(qe,"deltaPos",0,-1*(Ie.width*_[qe.align]+De.width*(1-_[qe.align])+Pt),kt,Math.min),Et=ht[1]-pt[1],je={width:Ie.width+De.width+Pt,height:Math.max(Ie.height,De.height),left:De.left+Dt,right:Ie.right,top:Math.min(Ie.top,De.top+Et),bottom:Math.max(Ie.bottom,De.bottom+Et)}),"right"===qe.delta.position&&(Dt=I(qe,"deltaPos",0,Ie.width*(1-_[qe.align])+De.width*_[qe.align]+Pt,kt,Math.max),Et=ht[1]-pt[1],je={width:Ie.width+De.width+Pt,height:Math.max(Ie.height,De.height),left:Ie.left,right:De.right+Dt,top:Math.min(Ie.top,De.top+Et),bottom:Math.max(Ie.bottom,De.bottom+Et)}),"bottom"===qe.delta.position&&(Dt=null,Et=De.height,je={width:Math.max(Ie.width,De.width),height:Ie.height+De.height,left:Math.min(Ie.left,De.left),right:Math.max(Ie.right,De.right),top:Ie.bottom-Ie.height,bottom:Ie.bottom+De.height}),"top"===qe.delta.position&&(Dt=null,Et=Ie.top,je={width:Math.max(Ie.width,De.width),height:Ie.height+De.height,left:Math.min(Ie.left,De.left),right:Math.max(Ie.right,De.right),top:Ie.bottom-Ie.height-De.height,bottom:Ie.bottom}),ct.attr({dx:Dt,dy:Et})}(qe._hasNumber||qe._hasDelta)&&Ke.attr("transform",function(){var Ht,zt=Le.numbersScaler(je),Lt=I(qe,"numbersScale",1,zt[0],kt+=zt[2],Math.min);qe._scaleNumbers||(Lt=1),qe._numbersTop=Lt*je.top+(Ht=qe._isAngular?Oe-Lt*je.bottom:Oe-Lt*(je.top+je.bottom)/2);var tt=je[ke];"center"===ke&&(tt=(je.left+je.right)/2);var it=ve-Lt*tt;return it=I(qe,"numbersTranslate",0,it,kt,Math.max),y(it,Ht)+M(Lt)})})(S,se,X,{numbersX:F,numbersY:Y,numbersScaler:G,transitionOpts:R,onComplete:N}),re&&(H={range:Z.gauge.axis.range,color:Z.gauge.bgcolor,line:{color:Z.gauge.bordercolor,width:0},thickness:1},W={range:Z.gauge.axis.range,color:"rgba(0, 0, 0, 0)",line:{color:Z.gauge.bordercolor,width:Z.gauge.borderwidth},thickness:1});var ye=se.selectAll("g.angular").data(ne?X:[]);ye.exit().remove();var we=se.selectAll("g.angularaxis").data(ne?X:[]);we.exit().remove(),ne&&function(ge,he,_e,Le){var Ie,De,je,qe,ve=_e[0].trace,Oe=Le.size,ke=Le.radius,Be=Le.innerRadius,We=Le.gaugeBg,Ge=Le.gaugeOutline,Ke=[Oe.l+Oe.w/2,Oe.t+Oe.h/2+ke/2],et=Le.gauge,at=Le.layer,mt=Le.transitionOpts,ct=Le.onComplete,kt=Math.PI/2;function Dt(wt){var St=ve.gauge.axis.range[0],_t=(wt-St)/(ve.gauge.axis.range[1]-St)*Math.PI-kt;return _t<-kt?-kt:_t>kt?kt:_t}function Et(wt){return D.svg.arc().innerRadius((Be+ke)/2-wt/2*(ke-Be)).outerRadius((Be+ke)/2+wt/2*(ke-Be)).startAngle(-kt)}function ht(wt){wt.attr("d",function(St){return Et(St.thickness).startAngle(Dt(St.range[0])).endAngle(Dt(St.range[1]))()})}et.enter().append("g").classed("angular",!0),et.attr("transform",y(Ke[0],Ke[1])),at.enter().append("g").classed("angularaxis",!0).classed("crisp",!0),at.selectAll("g.xangularaxistick,path,text").remove(),(Ie=b(ge,ve.gauge.axis)).type="linear",Ie.range=ve.gauge.axis.range,Ie._id="xangularaxis",Ie.ticklabeloverflow="allow",Ie.setScale();var pt=function(wt){return(Ie.range[0]-wt.x)/(Ie.range[1]-Ie.range[0])*Math.PI+Math.PI},Pt={},zt=l.makeLabelFns(Ie,0).labelStandoff;Pt.xFn=function(wt){var St=pt(wt);return Math.cos(St)*zt},Pt.yFn=function(wt){var St=pt(wt),_t=Math.sin(St)>0?.2:1;return-Math.sin(St)*(zt+wt.fontSize*_t)+Math.abs(Math.cos(St))*(wt.fontSize*i)},Pt.anchorFn=function(wt){var St=pt(wt),_t=Math.cos(St);return Math.abs(_t)<.1?"middle":_t>0?"start":"end"},Pt.heightFn=function(wt,St,_t){var Rt=pt(wt);return-.5*(1+Math.sin(Rt))*_t};var Ht=function(wt){return y(Ke[0]+ke*Math.cos(wt),Ke[1]-ke*Math.sin(wt))};je=function(wt){return Ht(pt(wt))},De=l.calcTicks(Ie),qe=l.getTickSigns(Ie)[2],Ie.visible&&(l.drawTicks(ge,Ie,{vals:De,layer:at,path:"M"+(qe="inside"===Ie.ticks?-1:1)*((Ie.linewidth||1)/2)+",0h"+qe*Ie.ticklen,transFn:function(wt){var St=pt(wt);return Ht(St)+"rotate("+-c(St)+")"}}),l.drawLabels(ge,Ie,{vals:De,layer:at,transFn:je,labelFns:Pt}));var tt=[We].concat(ve.gauge.steps),it=et.selectAll("g.bg-arc").data(tt);it.enter().append("g").classed("bg-arc",!0).append("path"),it.select("path").call(ht).call(x),it.exit().remove();var Je=Et(ve.gauge.bar.thickness),ot=et.selectAll("g.value-arc").data([ve.gauge.bar]);ot.enter().append("g").classed("value-arc",!0).append("path");var gt,ft,Ue,$e=ot.select("path");w(mt)?($e.transition().duration(mt.duration).ease(mt.easing).each("end",function(){ct&&ct()}).each("interrupt",function(){ct&&ct()}).attrTween("d",(gt=Je,ft=Dt(_e[0].lastY),Ue=Dt(_e[0].y),function(){var wt=E(ft,Ue);return function(St){return gt.endAngle(wt(St))()}})),ve._lastValue=_e[0].y):$e.attr("d","number"==typeof _e[0].y?Je.endAngle(Dt(_e[0].y)):"M0,0Z"),$e.call(x),ot.exit().remove(),tt=[];var dt=ve.gauge.threshold.value;(dt||0===dt)&&tt.push({range:[dt,dt],color:ve.gauge.threshold.color,line:{color:ve.gauge.threshold.line.color,width:ve.gauge.threshold.line.width},thickness:ve.gauge.threshold.thickness});var ut=et.selectAll("g.threshold-arc").data(tt);ut.enter().append("g").classed("threshold-arc",!0).append("path"),ut.select("path").call(ht).call(x),ut.exit().remove();var At=et.selectAll("g.gauge-outline").data([Ge]);At.enter().append("g").classed("gauge-outline",!0).append("path"),At.select("path").call(ht).call(x),At.exit().remove()}(S,0,X,{radius:le,innerRadius:pe,gauge:ye,layer:we,size:oe,gaugeBg:H,gaugeOutline:W,transitionOpts:R,onComplete:N});var ze=se.selectAll("g.bullet").data(Q?X:[]);ze.exit().remove();var Se=se.selectAll("g.bulletaxis").data(Q?X:[]);Se.exit().remove(),Q&&function(ge,he,_e,Le){var Ie,De,je,qe,ve,Oe=_e[0].trace,ke=Le.gauge,Be=Le.layer,We=Le.gaugeBg,Ge=Le.gaugeOutline,Ke=Le.size,et=Oe.domain,at=Le.transitionOpts,mt=Le.onComplete;ke.enter().append("g").classed("bullet",!0),ke.attr("transform",y(Ke.l,Ke.t)),Be.enter().append("g").classed("bulletaxis",!0).classed("crisp",!0),Be.selectAll("g.xbulletaxistick,path,text").remove();var ct=Ke.h,kt=Oe.gauge.bar.thickness*ct,Dt=et.x[0],Et=et.x[0]+(et.x[1]-et.x[0])*(Oe._hasNumber||Oe._hasDelta?1-a.bulletNumberDomainSize:1);function ht(it){it.attr("width",function(Je){return Math.max(0,Ie.c2p(Je.range[1])-Ie.c2p(Je.range[0]))}).attr("x",function(Je){return Ie.c2p(Je.range[0])}).attr("y",function(Je){return.5*(1-Je.thickness)*ct}).attr("height",function(Je){return Je.thickness*ct})}(Ie=b(ge,Oe.gauge.axis))._id="xbulletaxis",Ie.domain=[Dt,Et],Ie.setScale(),De=l.calcTicks(Ie),je=l.makeTransTickFn(Ie),qe=l.getTickSigns(Ie)[2],ve=Ke.t+Ke.h,Ie.visible&&(l.drawTicks(ge,Ie,{vals:"inside"===Ie.ticks?l.clipEnds(Ie,De):De,layer:Be,path:l.makeTickPath(Ie,ve,qe),transFn:je}),l.drawLabels(ge,Ie,{vals:De,layer:Be,transFn:je,labelFns:l.makeLabelFns(Ie,ve)}));var pt=[We].concat(Oe.gauge.steps),Pt=ke.selectAll("g.bg-bullet").data(pt);Pt.enter().append("g").classed("bg-bullet",!0).append("rect"),Pt.select("rect").call(ht).call(x),Pt.exit().remove();var zt=ke.selectAll("g.value-bullet").data([Oe.gauge.bar]);zt.enter().append("g").classed("value-bullet",!0).append("rect"),zt.select("rect").attr("height",kt).attr("y",(ct-kt)/2).call(x),w(at)?zt.select("rect").transition().duration(at.duration).ease(at.easing).each("end",function(){mt&&mt()}).each("interrupt",function(){mt&&mt()}).attr("width",Math.max(0,Ie.c2p(Math.min(Oe.gauge.axis.range[1],_e[0].y)))):zt.select("rect").attr("width","number"==typeof _e[0].y?Math.max(0,Ie.c2p(Math.min(Oe.gauge.axis.range[1],_e[0].y))):0),zt.exit().remove();var Ht=_e.filter(function(){return Oe.gauge.threshold.value||0===Oe.gauge.threshold.value}),Lt=ke.selectAll("g.threshold-bullet").data(Ht);Lt.enter().append("g").classed("threshold-bullet",!0).append("line"),Lt.select("line").attr("x1",Ie.c2p(Oe.gauge.threshold.value)).attr("x2",Ie.c2p(Oe.gauge.threshold.value)).attr("y1",(1-Oe.gauge.threshold.thickness)/2*ct).attr("y2",(1-(1-Oe.gauge.threshold.thickness)/2)*ct).call(p.stroke,Oe.gauge.threshold.line.color).style("stroke-width",Oe.gauge.threshold.line.width),Lt.exit().remove();var tt=ke.selectAll("g.gauge-outline").data([Ge]);tt.enter().append("g").classed("gauge-outline",!0).append("rect"),tt.select("rect").call(ht).call(x),tt.exit().remove()}(S,0,X,{gauge:ze,layer:Se,size:oe,gaugeBg:H,gaugeOutline:W,transitionOpts:R,onComplete:N});var Ce=se.selectAll("text.title").data(X);Ce.exit().remove(),Ce.enter().append("text").classed("title",!0),Ce.attr("text-anchor",function(){return Q?T.right:T[Z.title.align]}).text(Z.title.text).call(s.font,Z.title.font).call(o.convertToTspans,S),Ce.attr("transform",function(){var ge,he=oe.l+oe.w*_[Z.title.align],_e=a.titlePadding,Le=s.bBox(Ce.node());return re?(ne&&(ge=Z.gauge.axis.visible?s.bBox(we.node()).top-_e-Le.bottom:oe.t+oe.h/2-le/2-Le.bottom-_e),Q&&(ge=Y-(Le.top+Le.bottom)/2,he=oe.l-a.bulletPadding*oe.w)):ge=Z._numbersTop-_e-Le.bottom,y(he,ge)})})}},16249:function(ae,B,r){"use strict";var D=r(50693),E=r(12663).axisHoverFormat,f=r(5386).fF,k=r(2418),M=r(9012),y=r(1426).extendFlat,c=r(30962).overrideAll,i=ae.exports=c(y({x:{valType:"data_array"},y:{valType:"data_array"},z:{valType:"data_array"},value:{valType:"data_array"},isomin:{valType:"number"},isomax:{valType:"number"},surface:{show:{valType:"boolean",dflt:!0},count:{valType:"integer",dflt:2,min:1},fill:{valType:"number",min:0,max:1,dflt:1},pattern:{valType:"flaglist",flags:["A","B","C","D","E"],extras:["all","odd","even"],dflt:"all"}},spaceframe:{show:{valType:"boolean",dflt:!1},fill:{valType:"number",min:0,max:1,dflt:.15}},slices:{x:{show:{valType:"boolean",dflt:!1},locations:{valType:"data_array",dflt:[]},fill:{valType:"number",min:0,max:1,dflt:1}},y:{show:{valType:"boolean",dflt:!1},locations:{valType:"data_array",dflt:[]},fill:{valType:"number",min:0,max:1,dflt:1}},z:{show:{valType:"boolean",dflt:!1},locations:{valType:"data_array",dflt:[]},fill:{valType:"number",min:0,max:1,dflt:1}}},caps:{x:{show:{valType:"boolean",dflt:!0},fill:{valType:"number",min:0,max:1,dflt:1}},y:{show:{valType:"boolean",dflt:!0},fill:{valType:"number",min:0,max:1,dflt:1}},z:{show:{valType:"boolean",dflt:!0},fill:{valType:"number",min:0,max:1,dflt:1}}},text:{valType:"string",dflt:"",arrayOk:!0},hovertext:{valType:"string",dflt:"",arrayOk:!0},hovertemplate:f(),xhoverformat:E("x"),yhoverformat:E("y"),zhoverformat:E("z"),valuehoverformat:E("value",1),showlegend:y({},M.showlegend,{dflt:!1})},D("",{colorAttr:"`value`",showScaleDflt:!0,editTypeOverride:"calc"}),{opacity:k.opacity,lightposition:k.lightposition,lighting:k.lighting,flatshading:k.flatshading,contour:k.contour,hoverinfo:y({},M.hoverinfo)}),"calc","nested");i.flatshading.dflt=!0,i.lighting.facenormalsepsilon.dflt=0,i.x.editType=i.y.editType=i.z.editType=i.value.editType="calc+clearAxisTypes",i.transforms=void 0},56959:function(ae,B,r){"use strict";var D=r(78803),E=r(88489).processGrid,f=r(88489).filter;ae.exports=function(k,M){M._len=Math.min(M.x.length,M.y.length,M.z.length,M.value.length),M._x=f(M.x,M._len),M._y=f(M.y,M._len),M._z=f(M.z,M._len),M._value=f(M.value,M._len);var y=E(M);M._gridFill=y.fill,M._Xs=y.Xs,M._Ys=y.Ys,M._Zs=y.Zs,M._len=y.len;for(var c=1/0,i=-1/0,s=0;s<M._len;s++){var a=M._value[s];c=Math.min(c,a),i=Math.max(i,a)}M._minValues=c,M._maxValues=i,M._vMin=null==M.isomin?c:M.isomin,M._vMax=void 0===M.isomax||null===M.isomin?i:M.isomax,D(k,M,{vals:[M._vMin,M._vMax],containerStr:"",cLetter:"c"})}},22674:function(ae,B,r){"use strict";var D=r(9330).gl_mesh3d,E=r(81697).parseColorScale,f=r(78614),k=r(21081).extractOpts,M=r(90060),y=function(o,l){for(var u=l.length-1;u>0;u--){var h=Math.min(l[u],l[u-1]),v=Math.max(l[u],l[u-1]);if(v>h&&h<o&&o<=v)return{id:u,distRatio:(v-o)/(v-h)}}return{id:0,distRatio:0}};function c(o,l,u){this.scene=o,this.uid=u,this.mesh=l,this.name="",this.data=null,this.showContour=!1}var i=c.prototype;i.handlePick=function(o){if(o.object===this.mesh){var l=o.data.index,h=this.data._meshY[l],v=this.data._meshZ[l],p=this.data._Ys.length,T=this.data._Zs.length,_=y(this.data._meshX[l],this.data._Xs).id,m=y(h,this.data._Ys).id,w=y(v,this.data._Zs).id,x=o.index=w+T*m+T*p*_;o.traceCoordinate=[this.data._meshX[x],this.data._meshY[x],this.data._meshZ[x],this.data._value[x]];var b=this.data.hovertext||this.data.text;return Array.isArray(b)&&void 0!==b[x]?o.textLabel=b[x]:b&&(o.textLabel=b),!0}},i.update=function(o){var l=this.scene,u=l.fullSceneLayout;function h(T,_,m,w){return _.map(function(x){return T.d2l(x,0,w)*m})}this.data=a(o);var v={positions:M(h(u.xaxis,o._meshX,l.dataScale[0],o.xcalendar),h(u.yaxis,o._meshY,l.dataScale[1],o.ycalendar),h(u.zaxis,o._meshZ,l.dataScale[2],o.zcalendar)),cells:M(o._meshI,o._meshJ,o._meshK),lightPosition:[o.lightposition.x,o.lightposition.y,o.lightposition.z],ambient:o.lighting.ambient,diffuse:o.lighting.diffuse,specular:o.lighting.specular,roughness:o.lighting.roughness,fresnel:o.lighting.fresnel,vertexNormalsEpsilon:o.lighting.vertexnormalsepsilon,faceNormalsEpsilon:o.lighting.facenormalsepsilon,opacity:o.opacity,contourEnable:o.contour.show,contourColor:f(o.contour.color).slice(0,3),contourWidth:o.contour.width,useFacetNormals:o.flatshading},p=k(o);v.vertexIntensity=o._meshIntensity,v.vertexIntensityBounds=[p.min,p.max],v.colormap=E(o),this.mesh.update(v)},i.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};var s=["xyz","xzy","yxz","yzx","zxy","zyx"];function a(o){o._meshI=[],o._meshJ=[],o._meshK=[];var l,u,h,v,p,T,_,m=o.surface.show,w=o.spaceframe.show,x=o.surface.fill,b=o.spaceframe.fill,A=!1,g=!1,I=0,S=o._Xs,O=o._Ys,R=o._Zs,L=S.length,N=O.length,j=R.length,X=s.indexOf(o._gridFill.replace(/-/g,"").replace(/\+/g,"")),F=function(ke,Be,We){switch(X){case 5:return We+j*Be+j*N*ke;case 4:return We+j*ke+j*L*Be;case 3:return Be+N*We+N*j*ke;case 2:return Be+N*ke+N*L*We;case 1:return ke+L*We+L*j*Be;default:return ke+L*Be+L*N*We}},Y=o._minValues,G=o._maxValues,H=o._vMin,W=o._vMax;function Z(ke,Be,We){for(var Ge=T.length,Ke=u;Ke<Ge;Ke++)if(ke===h[Ke]&&Be===v[Ke]&&We===p[Ke])return Ke;return-1}function se(){u=l}function re(){h=[],v=[],p=[],T=[],l=0,se()}function ne(ke,Be,We,Ge){return h.push(ke),v.push(Be),p.push(We),T.push(Ge),++l-1}function Q(ke,Be,We){for(var Ge=[],Ke=0;Ke<ke.length;Ke++)Ge[Ke]=ke[Ke]*(1-We)+We*Be[Ke];return Ge}function ee(ke){_=ke}function oe(ke,Be){return"all"===ke||null===ke||ke.indexOf(Be)>-1}function ce(ke,Be){return null===ke?Be:ke}function fe(ke,Be,We){se();var Ke,et,Lt,tt,it,Je,ot,gt,ft,Ue,$e,dt,ut,At,wt,at=[Be],mt=[We];if(_>=1)at=[Be],mt=[We];else if(_>0){var ct=(tt=We,Ue=Q(gt=function(St,_t,Rt){for(var bt=[],Tt=0;Tt<St.length;Tt++)bt[Tt]=(St[Tt]+_t[Tt]+Rt[Tt])/3;return bt}(it=(Lt=Be)[0],Je=Lt[1],ot=Lt[2]),it,ft=Math.sqrt(1-_)),{xyzv:[[it,Je,$e=Q(gt,Je,ft)],[$e,Ue,it],[Je,ot,dt=Q(gt,ot,ft)],[dt,$e,Je],[ot,it,Ue],[Ue,dt,ot]],abc:[[ut=tt[0],At=tt[1],-1],[-1,-1,ut],[At,wt=tt[2],-1],[-1,-1,At],[wt,ut,-1],[-1,-1,wt]]});at=ct.xyzv,mt=ct.abc}for(var kt=0;kt<at.length;kt++){Be=at[kt],We=mt[kt];for(var Dt=[],Et=0;Et<3;Et++){var ht=Be[Et][0],pt=Be[Et][1],Pt=Be[Et][2],zt=Be[Et][3],Ht=We[Et]>-1?We[Et]:Z(ht,pt,Pt);Dt[Et]=Ht>-1?Ht:ne(ht,pt,Pt,ce(ke,zt))}Ke=Dt[1],et=Dt[2],o._meshI.push(Dt[0]),o._meshJ.push(Ke),o._meshK.push(et),++I}}function le(ke,Be,We,Ge){var Ke=ke[3];Ke<We&&(Ke=We),Ke>Ge&&(Ke=Ge);for(var et=(ke[3]-Ke)/(ke[3]-Be[3]+1e-9),at=[],mt=0;mt<4;mt++)at[mt]=(1-et)*ke[mt]+et*Be[mt];return at}function pe(ke,Be,We){return ke>=Be&&ke<=We}function Me(ke){var Be=.001*(W-H);return ke>=H-Be&&ke<=W+Be}function Ae(ke){for(var Be=[],We=0;We<4;We++){var Ge=ke[We];Be.push([o._x[Ge],o._y[Ge],o._z[Ge],o._value[Ge]])}return Be}var be=3;function ye(ke,Be,We,Ge,Ke,et){et||(et=1),We=[-1,-1,-1];var at=!1,mt=[pe(Be[0][3],Ge,Ke),pe(Be[1][3],Ge,Ke),pe(Be[2][3],Ge,Ke)];if(!mt[0]&&!mt[1]&&!mt[2])return!1;var ct=function(Dt,Et,ht){return Me(Et[0][3])&&Me(Et[1][3])&&Me(Et[2][3])?(fe(Dt,Et,ht),!0):et<be&&ye(Dt,Et,ht,H,W,++et)};if(mt[0]&&mt[1]&&mt[2])return ct(ke,Be,We)||at;var kt=!1;return[[0,1,2],[2,0,1],[1,2,0]].forEach(function(Dt){if(mt[Dt[0]]&&mt[Dt[1]]&&!mt[Dt[2]]){var Et=Be[Dt[0]],ht=Be[Dt[1]],pt=Be[Dt[2]],Pt=le(pt,Et,Ge,Ke),zt=le(pt,ht,Ge,Ke);at=ct(ke,[zt,Pt,Et],[-1,-1,We[Dt[0]]])||at,at=ct(ke,[Et,ht,zt],[We[Dt[0]],We[Dt[1]],-1])||at,kt=!0}}),kt||[[0,1,2],[1,2,0],[2,0,1]].forEach(function(Dt){if(mt[Dt[0]]&&!mt[Dt[1]]&&!mt[Dt[2]]){var Et=Be[Dt[0]],pt=Be[Dt[2]],Pt=le(Be[Dt[1]],Et,Ge,Ke),zt=le(pt,Et,Ge,Ke);at=ct(ke,[zt,Pt,Et],[-1,-1,We[Dt[0]]])||at,kt=!0}}),at}function we(ke,Be,We,Ge){var ct,kt,Dt,Et,Ke=!1,et=Ae(Be),at=[pe(et[0][3],We,Ge),pe(et[1][3],We,Ge),pe(et[2][3],We,Ge),pe(et[3][3],We,Ge)];if(!(at[0]||at[1]||at[2]||at[3]))return Ke;if(at[0]&&at[1]&&at[2]&&at[3])return g&&(ct=ke,kt=et,Dt=Be,(Et=function(ht,pt,Pt){fe(ct,[kt[ht],kt[pt],kt[Pt]],[Dt[ht],Dt[pt],Dt[Pt]])})(0,1,2),Et(3,0,1),Et(2,3,0),Ke=void Et(1,2,3)||Ke),Ke;var mt=!1;return[[0,1,2,3],[3,0,1,2],[2,3,0,1],[1,2,3,0]].forEach(function(ct){if(at[ct[0]]&&at[ct[1]]&&at[ct[2]]&&!at[ct[3]]){var kt=et[ct[0]],Dt=et[ct[1]],Et=et[ct[2]],ht=et[ct[3]];if(g)Ke=fe(ke,[kt,Dt,Et],[Be[ct[0]],Be[ct[1]],Be[ct[2]]])||Ke;else{var pt=le(ht,kt,We,Ge),Pt=le(ht,Dt,We,Ge),zt=le(ht,Et,We,Ge);Ke=fe(null,[pt,Pt,zt],[-1,-1,-1])||Ke}mt=!0}}),mt||([[0,1,2,3],[1,2,3,0],[2,3,0,1],[3,0,1,2],[0,2,3,1],[1,3,2,0]].forEach(function(ct){if(at[ct[0]]&&at[ct[1]]&&!at[ct[2]]&&!at[ct[3]]){var kt=et[ct[0]],Dt=et[ct[1]],Et=et[ct[2]],ht=et[ct[3]],pt=le(Et,kt,We,Ge),Pt=le(Et,Dt,We,Ge),zt=le(ht,Dt,We,Ge),Ht=le(ht,kt,We,Ge);g?(Ke=fe(ke,[kt,Ht,pt],[Be[ct[0]],-1,-1])||Ke,Ke=fe(ke,[Dt,Pt,zt],[Be[ct[1]],-1,-1])||Ke):(tt=[pt,Pt,zt,Ht],it=[-1,-1,-1,-1],(Je=function(ot,gt,ft){fe(null,[tt[ot],tt[gt],tt[ft]],[it[ot],it[gt],it[ft]])})(0,1,2),Ke=void Je(2,3,0)||Ke),mt=!0}var tt,it,Je}),mt||[[0,1,2,3],[1,2,3,0],[2,3,0,1],[3,0,1,2]].forEach(function(ct){if(at[ct[0]]&&!at[ct[1]]&&!at[ct[2]]&&!at[ct[3]]){var kt=et[ct[0]],Et=et[ct[2]],ht=et[ct[3]],pt=le(et[ct[1]],kt,We,Ge),Pt=le(Et,kt,We,Ge),zt=le(ht,kt,We,Ge);g?(Ke=fe(ke,[kt,pt,Pt],[Be[ct[0]],-1,-1])||Ke,Ke=fe(ke,[kt,Pt,zt],[Be[ct[0]],-1,-1])||Ke,Ke=fe(ke,[kt,zt,pt],[Be[ct[0]],-1,-1])||Ke):Ke=fe(null,[pt,Pt,zt],[-1,-1,-1])||Ke,mt=!0}})),Ke}function ze(ke,Be,We,Ge,Ke,et,at,mt,ct,kt,Dt){var Et=!1;return A&&(oe(ke,"A")&&(Et=we(null,[Be,We,Ge,et],kt,Dt)||Et),oe(ke,"B")&&(Et=we(null,[We,Ge,Ke,ct],kt,Dt)||Et),oe(ke,"C")&&(Et=we(null,[We,et,at,ct],kt,Dt)||Et),oe(ke,"D")&&(Et=we(null,[Ge,et,mt,ct],kt,Dt)||Et),oe(ke,"E")&&(Et=we(null,[We,Ge,et,ct],kt,Dt)||Et)),g&&(Et=we(ke,[We,Ge,et,ct],kt,Dt)||Et),Et}function Se(ke,Be,We,Ge,Ke,et,at,mt){return[!0===mt[0]||ye(ke,Ae([Be,We,Ge]),[Be,We,Ge],et,at),!0===mt[1]||ye(ke,Ae([Ge,Ke,Be]),[Ge,Ke,Be],et,at)]}function Ce(ke,Be,We,Ge,Ke,et,at,mt,ct){return mt?Se(ke,Be,We,Ke,Ge,et,at,ct):Se(ke,We,Ke,Ge,Be,et,at,ct)}function ge(ke,Be,We,Ge,Ke,et,at){var mt,ct,kt,Dt,Et=!1,ht=function(){Et=ye(ke,[mt,ct,kt],[-1,-1,-1],Ke,et)||Et,Et=ye(ke,[kt,Dt,mt],[-1,-1,-1],Ke,et)||Et},pt=at[0],Pt=at[1],zt=at[2];return pt&&(mt=Q(Ae([F(Be,We-0,Ge-0)])[0],Ae([F(Be-1,We-0,Ge-0)])[0],pt),ct=Q(Ae([F(Be,We-0,Ge-1)])[0],Ae([F(Be-1,We-0,Ge-1)])[0],pt),kt=Q(Ae([F(Be,We-1,Ge-1)])[0],Ae([F(Be-1,We-1,Ge-1)])[0],pt),Dt=Q(Ae([F(Be,We-1,Ge-0)])[0],Ae([F(Be-1,We-1,Ge-0)])[0],pt),ht()),Pt&&(mt=Q(Ae([F(Be-0,We,Ge-0)])[0],Ae([F(Be-0,We-1,Ge-0)])[0],Pt),ct=Q(Ae([F(Be-0,We,Ge-1)])[0],Ae([F(Be-0,We-1,Ge-1)])[0],Pt),kt=Q(Ae([F(Be-1,We,Ge-1)])[0],Ae([F(Be-1,We-1,Ge-1)])[0],Pt),Dt=Q(Ae([F(Be-1,We,Ge-0)])[0],Ae([F(Be-1,We-1,Ge-0)])[0],Pt),ht()),zt&&(mt=Q(Ae([F(Be-0,We-0,Ge)])[0],Ae([F(Be-0,We-0,Ge-1)])[0],zt),ct=Q(Ae([F(Be-0,We-1,Ge)])[0],Ae([F(Be-0,We-1,Ge-1)])[0],zt),kt=Q(Ae([F(Be-1,We-1,Ge)])[0],Ae([F(Be-1,We-1,Ge-1)])[0],zt),Dt=Q(Ae([F(Be-1,We-0,Ge)])[0],Ae([F(Be-1,We-0,Ge-1)])[0],zt),ht()),Et}function he(ke,Be,We,Ge,Ke,et,at,mt,ct,kt,Dt,Et){var ht=ke;return Et?(A&&"even"===ke&&(ht=null),ze(ht,Be,We,Ge,Ke,et,at,mt,ct,kt,Dt)):(A&&"odd"===ke&&(ht=null),ze(ht,ct,mt,at,et,Ke,Ge,We,Be,kt,Dt))}function _e(ke,Be,We,Ge,Ke){for(var et=[],at=0,mt=0;mt<Be.length;mt++)for(var ct=Be[mt],kt=1;kt<j;kt++)for(var Dt=1;Dt<N;Dt++)et.push(Ce(ke,F(ct,Dt-1,kt-1),F(ct,Dt-1,kt),F(ct,Dt,kt-1),F(ct,Dt,kt),We,Ge,(ct+Dt+kt)%2,Ke&&Ke[at]?Ke[at]:[])),at++;return et}function Le(ke,Be,We,Ge,Ke){for(var et=[],at=0,mt=0;mt<Be.length;mt++)for(var ct=Be[mt],kt=1;kt<L;kt++)for(var Dt=1;Dt<j;Dt++)et.push(Ce(ke,F(kt-1,ct,Dt-1),F(kt,ct,Dt-1),F(kt-1,ct,Dt),F(kt,ct,Dt),We,Ge,(kt+ct+Dt)%2,Ke&&Ke[at]?Ke[at]:[])),at++;return et}function Ie(ke,Be,We,Ge,Ke){for(var et=[],at=0,mt=0;mt<Be.length;mt++)for(var ct=Be[mt],kt=1;kt<N;kt++)for(var Dt=1;Dt<L;Dt++)et.push(Ce(ke,F(Dt-1,kt-1,ct),F(Dt-1,kt,ct),F(Dt,kt-1,ct),F(Dt,kt,ct),We,Ge,(Dt+kt+ct)%2,Ke&&Ke[at]?Ke[at]:[])),at++;return et}function De(ke,Be,We){for(var Ge=1;Ge<j;Ge++)for(var Ke=1;Ke<N;Ke++)for(var et=1;et<L;et++)he(ke,F(et-1,Ke-1,Ge-1),F(et-1,Ke-1,Ge),F(et-1,Ke,Ge-1),F(et-1,Ke,Ge),F(et,Ke-1,Ge-1),F(et,Ke-1,Ge),F(et,Ke,Ge-1),F(et,Ke,Ge),Be,We,(et+Ke+Ge)%2)}function je(ke,Be,We,Ge,Ke,et){for(var at=[],ct=0;ct<Be.length;ct++)for(var kt=Be[ct],Dt=1;Dt<j;Dt++)for(var Et=1;Et<N;Et++)at.push(ge(ke,kt,Et,Dt,We,Ge,Ke[ct]));return at}function qe(ke,Be,We,Ge,Ke,et){for(var at=[],ct=0;ct<Be.length;ct++)for(var kt=Be[ct],Dt=1;Dt<L;Dt++)for(var Et=1;Et<j;Et++)at.push(ge(ke,Dt,kt,Et,We,Ge,Ke[ct]));return at}function ve(ke,Be,We,Ge,Ke,et){for(var at=[],ct=0;ct<Be.length;ct++)for(var kt=Be[ct],Dt=1;Dt<N;Dt++)for(var Et=1;Et<L;Et++)at.push(ge(ke,Et,Dt,kt,We,Ge,Ke[ct]));return at}function Oe(ke,Be){for(var We=[],Ge=ke;Ge<Be;Ge++)We.push(Ge);return We}return function(){re(),function(){for(var ct=0;ct<L;ct++)for(var kt=0;kt<N;kt++)for(var Dt=0;Dt<j;Dt++){var Et=F(ct,kt,Dt);ne(o._x[Et],o._y[Et],o._z[Et],o._value[Et])}}();var ke=null;if(w&&b&&(ee(b),g=!0,De(ke,H,W),g=!1),m&&x){ee(x);for(var Be=o.surface.pattern,We=o.surface.count,Ge=0;Ge<We;Ge++){var Ke=1===We?.5:Ge/(We-1),et=(1-Ke)*H+Ke*W,at=Math.abs(et-Y)>Math.abs(et-G)?[Y,et]:[et,G];A=!0,De(Be,at[0],at[1]),A=!1}}var mt=[[Math.min(H,G),Math.max(H,G)],[Math.min(Y,W),Math.max(Y,W)]];["x","y","z"].forEach(function(ct){for(var kt=[],Dt=0;Dt<mt.length;Dt++){var Et=0,ht=mt[Dt][0],pt=mt[Dt][1],Pt=o.slices[ct];if(Pt.show&&Pt.fill){ee(Pt.fill);var zt=[],Ht=[],Lt=[];if(Pt.locations.length)for(var tt=0;tt<Pt.locations.length;tt++){var it=y(Pt.locations[tt],"x"===ct?S:"y"===ct?O:R);0===it.distRatio?zt.push(it.id):it.id>0&&(Ht.push(it.id),Lt.push("x"===ct?[it.distRatio,0,0]:"y"===ct?[0,it.distRatio,0]:[0,0,it.distRatio]))}else zt=Oe(1,"x"===ct?L-1:"y"===ct?N-1:j-1);Ht.length>0&&(kt[Et]="x"===ct?je(ke,Ht,ht,pt,Lt):"y"===ct?qe(ke,Ht,ht,pt,Lt):ve(ke,Ht,ht,pt,Lt),Et++),zt.length>0&&(kt[Et]="x"===ct?_e(ke,zt,ht,pt,kt[Et]):"y"===ct?Le(ke,zt,ht,pt,kt[Et]):Ie(ke,zt,ht,pt,kt[Et]),Et++)}var Je=o.caps[ct];Je.show&&Je.fill&&(ee(Je.fill),kt[Et]="x"===ct?_e(ke,[0,L-1],ht,pt,kt[Et]):"y"===ct?Le(ke,[0,N-1],ht,pt,kt[Et]):Ie(ke,[0,j-1],ht,pt,kt[Et]),Et++)}}),0===I&&re(),o._meshX=h,o._meshY=v,o._meshZ=p,o._meshIntensity=T,o._Xs=S,o._Ys=O,o._Zs=R}(),o}ae.exports={findNearestOnAxis:y,generateIsoMeshes:a,createIsosurfaceTrace:function(o,l){var h=D({gl:o.glplot.gl}),v=new c(o,h,l.uid);return h._trace=v,v.update(l),o.glplot.add(h),v}}},82738:function(ae,B,r){"use strict";var D=r(71828),E=r(73972),f=r(16249),k=r(1586);function M(y,c,i,s,a){var o=a("isomin"),l=a("isomax");null!=l&&null!=o&&o>l&&(c.isomin=null,c.isomax=null);var u=a("x"),h=a("y"),v=a("z"),p=a("value");u&&u.length&&h&&h.length&&v&&v.length&&p&&p.length?(E.getComponentMethod("calendars","handleTraceDefaults")(y,c,["x","y","z"],s),a("valuehoverformat"),["x","y","z"].forEach(function(T){a(T+"hoverformat");var _="caps."+T;a(_+".show")&&a(_+".fill");var m="slices."+T;a(m+".show")&&(a(m+".fill"),a(m+".locations"))}),a("spaceframe.show")&&a("spaceframe.fill"),a("surface.show")&&(a("surface.count"),a("surface.fill"),a("surface.pattern")),a("contour.show")&&(a("contour.color"),a("contour.width")),["text","hovertext","hovertemplate","lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lighting.vertexnormalsepsilon","lighting.facenormalsepsilon","lightposition.x","lightposition.y","lightposition.z","flatshading","opacity"].forEach(function(T){a(T)}),k(y,c,s,a,{prefix:"",cLetter:"c"}),c._length=null):c.visible=!1}ae.exports={supplyDefaults:function(y,c,i,s){M(y,c,0,s,function(a,o){return D.coerce(y,c,f,a,o)})},supplyIsoDefaults:M}},64943:function(ae,B,r){"use strict";ae.exports={attributes:r(16249),supplyDefaults:r(82738).supplyDefaults,calc:r(56959),colorbar:{min:"cmin",max:"cmax"},plot:r(22674).createIsosurfaceTrace,moduleType:"trace",name:"isosurface",basePlotModule:r(58547),categories:["gl3d","showLegend"],meta:{}}},2418:function(ae,B,r){"use strict";var D=r(50693),E=r(12663).axisHoverFormat,f=r(5386).fF,k=r(54532),M=r(9012),y=r(1426).extendFlat;ae.exports=y({x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},i:{valType:"data_array",editType:"calc"},j:{valType:"data_array",editType:"calc"},k:{valType:"data_array",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertemplate:f({editType:"calc"}),xhoverformat:E("x"),yhoverformat:E("y"),zhoverformat:E("z"),delaunayaxis:{valType:"enumerated",values:["x","y","z"],dflt:"z",editType:"calc"},alphahull:{valType:"number",dflt:-1,editType:"calc"},intensity:{valType:"data_array",editType:"calc"},intensitymode:{valType:"enumerated",values:["vertex","cell"],dflt:"vertex",editType:"calc"},color:{valType:"color",editType:"calc"},vertexcolor:{valType:"data_array",editType:"calc"},facecolor:{valType:"data_array",editType:"calc"},transforms:void 0},D("",{colorAttr:"`intensity`",showScaleDflt:!0,editTypeOverride:"calc"}),{opacity:k.opacity,flatshading:{valType:"boolean",dflt:!1,editType:"calc"},contour:{show:y({},k.contours.x.show,{}),color:k.contours.x.color,width:k.contours.x.width,editType:"calc"},lightposition:{x:y({},k.lightposition.x,{dflt:1e5}),y:y({},k.lightposition.y,{dflt:1e5}),z:y({},k.lightposition.z,{dflt:0}),editType:"calc"},lighting:y({vertexnormalsepsilon:{valType:"number",min:0,max:1,dflt:1e-12,editType:"calc"},facenormalsepsilon:{valType:"number",min:0,max:1,dflt:1e-6,editType:"calc"},editType:"calc"},k.lighting),hoverinfo:y({},M.hoverinfo,{editType:"calc"}),showlegend:y({},M.showlegend,{dflt:!1})})},82932:function(ae,B,r){"use strict";var D=r(78803);ae.exports=function(E,f){f.intensity&&D(E,f,{vals:f.intensity,containerStr:"",cLetter:"c"})}},91134:function(ae,B,r){"use strict";var D=r(9330).gl_mesh3d,E=r(9330).delaunay_triangulate,f=r(9330).alpha_shape,k=r(9330).convex_hull,M=r(81697).parseColorScale,y=r(78614),c=r(21081).extractOpts,i=r(90060);function s(v,p,T){this.scene=v,this.uid=T,this.mesh=p,this.name="",this.color="#fff",this.data=null,this.showContour=!1}var a=s.prototype;function o(v){for(var p=[],T=v.length,_=0;_<T;_++)p[_]=y(v[_]);return p}function l(v,p,T,_){for(var m=[],w=p.length,x=0;x<w;x++)m[x]=v.d2l(p[x],0,_)*T;return m}function u(v){for(var p=[],T=v.length,_=0;_<T;_++)p[_]=Math.round(v[_]);return p}function h(v,p){for(var T=v.length,_=0;_<T;_++)if(v[_]<=-.5||v[_]>=p-.5)return!1;return!0}a.handlePick=function(v){if(v.object===this.mesh){var p=v.index=v.data.index;v.traceCoordinate=v.data._cellCenter?v.data.dataCoordinate:[this.data.x[p],this.data.y[p],this.data.z[p]];var T=this.data.hovertext||this.data.text;return Array.isArray(T)&&void 0!==T[p]?v.textLabel=T[p]:T&&(v.textLabel=T),!0}},a.update=function(v){var p=this.scene,T=p.fullSceneLayout;this.data=v;var _,m=v.x.length,w=i(l(T.xaxis,v.x,p.dataScale[0],v.xcalendar),l(T.yaxis,v.y,p.dataScale[1],v.ycalendar),l(T.zaxis,v.z,p.dataScale[2],v.zcalendar));if(v.i&&v.j&&v.k){if(v.i.length!==v.j.length||v.j.length!==v.k.length||!h(v.i,m)||!h(v.j,m)||!h(v.k,m))return;_=i(u(v.i),u(v.j),u(v.k))}else _=0===v.alphahull?k(w):v.alphahull>0?f(v.alphahull,w):function(g,I){for(var S=["x","y","z"].indexOf(g),O=[],R=I.length,L=0;L<R;L++)O[L]=[I[L][(S+1)%3],I[L][(S+2)%3]];return E(O)}(v.delaunayaxis,w);var x={positions:w,cells:_,lightPosition:[v.lightposition.x,v.lightposition.y,v.lightposition.z],ambient:v.lighting.ambient,diffuse:v.lighting.diffuse,specular:v.lighting.specular,roughness:v.lighting.roughness,fresnel:v.lighting.fresnel,vertexNormalsEpsilon:v.lighting.vertexnormalsepsilon,faceNormalsEpsilon:v.lighting.facenormalsepsilon,opacity:v.opacity,contourEnable:v.contour.show,contourColor:y(v.contour.color).slice(0,3),contourWidth:v.contour.width,useFacetNormals:v.flatshading};if(v.intensity){var b=c(v);this.color="#fff";var A=v.intensitymode;x[A+"Intensity"]=v.intensity,x[A+"IntensityBounds"]=[b.min,b.max],x.colormap=M(v)}else v.vertexcolor?(this.color=v.vertexcolor[0],x.vertexColors=o(v.vertexcolor)):v.facecolor?(this.color=v.facecolor[0],x.cellColors=o(v.facecolor)):(this.color=v.color,x.meshColor=y(v.color));this.mesh.update(x)},a.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()},ae.exports=function(v,p){var _=D({gl:v.glplot.gl}),m=new s(v,_,p.uid);return _._trace=m,m.update(p),v.glplot.add(_),m}},58669:function(ae,B,r){"use strict";var D=r(73972),E=r(71828),f=r(1586),k=r(2418);ae.exports=function(M,y,c,i){function s(o,l){return E.coerce(M,y,k,o,l)}function a(o){var l=o.map(function(u){var h=s(u);return h&&E.isArrayOrTypedArray(h)?h:null});return l.every(function(u){return u&&u.length===l[0].length})&&l}a(["x","y","z"])?(a(["i","j","k"]),(!y.i||y.j&&y.k)&&(!y.j||y.k&&y.i)&&(!y.k||y.i&&y.j)?(D.getComponentMethod("calendars","handleTraceDefaults")(M,y,["x","y","z"],i),["lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lighting.vertexnormalsepsilon","lighting.facenormalsepsilon","lightposition.x","lightposition.y","lightposition.z","flatshading","alphahull","delaunayaxis","opacity"].forEach(function(o){s(o)}),s("contour.show")&&(s("contour.color"),s("contour.width")),"intensity"in M?(s("intensity"),s("intensitymode"),f(M,y,i,s,{prefix:"",cLetter:"c"})):(y.showscale=!1,"facecolor"in M?s("facecolor"):"vertexcolor"in M?s("vertexcolor"):s("color",c)),s("text"),s("hovertext"),s("hovertemplate"),s("xhoverformat"),s("yhoverformat"),s("zhoverformat"),y._length=null):y.visible=!1):y.visible=!1}},21164:function(ae,B,r){"use strict";ae.exports={attributes:r(2418),supplyDefaults:r(58669),calc:r(82932),colorbar:{min:"cmin",max:"cmax"},plot:r(91134),moduleType:"trace",name:"mesh3d",basePlotModule:r(58547),categories:["gl3d","showLegend"],meta:{}}},2522:function(ae,B,r){"use strict";var D=r(71828).extendFlat,E=r(82196),f=r(12663).axisHoverFormat,k=r(79952).P,M=r(77914),y=r(22372),c=y.INCREASING.COLOR,i=y.DECREASING.COLOR,s=E.line;function a(o){return{line:{color:D({},s.color,{dflt:o}),width:s.width,dash:k,editType:"style"},editType:"style"}}ae.exports={xperiod:E.xperiod,xperiod0:E.xperiod0,xperiodalignment:E.xperiodalignment,xhoverformat:f("x"),yhoverformat:f("y"),x:{valType:"data_array",editType:"calc+clearAxisTypes"},open:{valType:"data_array",editType:"calc"},high:{valType:"data_array",editType:"calc"},low:{valType:"data_array",editType:"calc"},close:{valType:"data_array",editType:"calc"},line:{width:D({},s.width,{}),dash:D({},k,{}),editType:"style"},increasing:a(c),decreasing:a(i),text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},tickwidth:{valType:"number",min:0,max:.5,dflt:.3,editType:"calc"},hoverlabel:D({},M.hoverlabel,{split:{valType:"boolean",dflt:!1,editType:"style"}})}},3485:function(ae,B,r){"use strict";var D=r(71828),E=D._,f=r(89298),k=r(42973),M=r(50606).BADNUM;function y(i,s,a,o){return{o:i,h:s,l:a,c:o}}function c(i,s,a,o,l,u){for(var h=l.makeCalcdata(s,"open"),v=l.makeCalcdata(s,"high"),p=l.makeCalcdata(s,"low"),T=l.makeCalcdata(s,"close"),_=Array.isArray(s.text),m=Array.isArray(s.hovertext),w=!0,x=null,b=!!s.xperiodalignment,A=[],g=0;g<o.length;g++){var I=o[g],S=h[g],O=v[g],R=p[g],L=T[g];if(I!==M&&S!==M&&O!==M&&R!==M&&L!==M){L===S?null!==x&&L!==x&&(w=L>x):w=L>S,x=L;var N=u(S,O,R,L);N.pos=I,N.yc=(S+L)/2,N.i=g,N.dir=w?"increasing":"decreasing",N.x=N.pos,N.y=[R,O],b&&(N.orig_p=a[g]),_&&(N.tx=s.text[g]),m&&(N.htx=s.hovertext[g]),A.push(N)}else A.push({pos:I,empty:!0})}return s._extremes[l._id]=f.findExtremes(l,D.concat(p,v),{padded:!0}),A.length&&(A[0].t={labels:{open:E(i,"open:")+" ",high:E(i,"high:")+" ",low:E(i,"low:")+" ",close:E(i,"close:")+" "}}),A}ae.exports={calc:function(i,s){var a=f.getFromId(i,s.xaxis),o=f.getFromId(i,s.yaxis),l=function(T,_,m){var w=m._minDiff;if(!w){var x,b=T._fullData,A=[];for(w=1/0,x=0;x<b.length;x++){var g=b[x];if("ohlc"===g.type&&!0===g.visible&&g.xaxis===_._id){A.push(g);var I=_.makeCalcdata(g,"x");g._origX=I;var S=k(m,_,"x",I).vals;g._xcalc=S;var O=D.distinctVals(S).minDiff;O&&isFinite(O)&&(w=Math.min(w,O))}}for(w===1/0&&(w=1),x=0;x<A.length;x++)A[x]._minDiff=w}return w*m.tickwidth}(i,a,s),u=s._minDiff;s._minDiff=null;var h=s._origX;s._origX=null;var v=s._xcalc;s._xcalc=null;var p=c(i,s,h,v,o,y);return s._extremes[a._id]=f.findExtremes(a,v,{vpad:u/2}),p.length?(D.extendFlat(p[0].t,{wHover:u/2,tickLen:l}),p):[{t:{empty:!0}}]},calcCommon:c}},16169:function(ae,B,r){"use strict";var D=r(71828),E=r(14555),f=r(73927),k=r(2522);function M(y,c,i,s){i(s+".line.color"),i(s+".line.width",c.line.width),i(s+".line.dash",c.line.dash)}ae.exports=function(y,c,i,s){function a(o,l){return D.coerce(y,c,k,o,l)}E(y,c,a,s)?(f(y,c,s,a,{x:!0}),a("xhoverformat"),a("yhoverformat"),a("line.width"),a("line.dash"),M(0,c,a,"increasing"),M(0,c,a,"decreasing"),a("text"),a("hovertext"),a("tickwidth"),s._requestRangeslider[c.xaxis]=!0):c.visible=!1}},66449:function(ae,B,r){"use strict";var D=r(89298),E=r(71828),f=r(30211),k=r(7901),M=r(71828).fillText,y=r(22372),c={increasing:y.INCREASING.SYMBOL,decreasing:y.DECREASING.SYMBOL};function i(o,l,u,h){var v,p,T=o.cd,_=o.xa,m=T[0].trace,w=T[0].t,x=m.type,b="ohlc"===x?"l":"min",A="ohlc"===x?"h":"max",g=w.bPos||0,I=function(H){return H.pos+g-l},S=w.bdPos||w.tickLen,O=w.wHover,R=Math.min(1,S/Math.abs(_.r2c(_.range[1])-_.r2c(_.range[0])));function L(H){var W=I(H);return f.inbox(W-O,W+O,v)}function N(H){var W=H[b],Z=H[A];return W===Z||f.inbox(W-u,Z-u,v)}function j(H){return(L(H)+N(H))/2}v=o.maxHoverDistance-R,p=o.maxSpikeDistance-R;var X=f.getDistanceFunction(h,L,N,j);if(f.getClosest(T,X,o),!1===o.index)return null;var F=T[o.index];if(F.empty)return null;var Y=m[F.dir],G=Y.line.color;return o.color=k.opacity(G)&&Y.line.width?G:Y.fillcolor,o.x0=_.c2p(F.pos+g-S,!0),o.x1=_.c2p(F.pos+g+S,!0),o.xLabelVal=void 0!==F.orig_p?F.orig_p:F.pos,o.spikeDistance=j(F)*p/v,o.xSpike=_.c2p(F.pos,!0),o}function s(o,l,u,h){var v=o.cd,p=o.ya,T=v[0].trace,_=v[0].t,m=[],w=i(o,l,u,h);if(!w)return[];var x=v[w.index].hi||T.hoverinfo,b=x.split("+");if("all"!==x&&-1===b.indexOf("y"))return[];for(var A=["high","open","close","low"],g={},I=0;I<A.length;I++){var S,O=A[I],R=T[O][w.index],L=p.c2p(R,!0);R in g?(S=g[R]).yLabel+="<br>"+_.labels[O]+D.hoverLabelText(p,R,T.yhoverformat):((S=E.extendFlat({},w)).y0=S.y1=L,S.yLabelVal=R,S.yLabel=_.labels[O]+D.hoverLabelText(p,R,T.yhoverformat),S.name="",m.push(S),g[R]=S)}return m}function a(o,l,u,h){var v=o.cd,p=o.ya,T=v[0].trace,_=v[0].t,m=i(o,l,u,h);if(!m)return[];var w=v[m.index],x=m.index=w.i,b=w.dir;function A(N){return _.labels[N]+D.hoverLabelText(p,T[N][x],T.yhoverformat)}var g=w.hi||T.hoverinfo,I=g.split("+"),S="all"===g,O=S||-1!==I.indexOf("y"),R=S||-1!==I.indexOf("text"),L=O?[A("open"),A("high"),A("low"),A("close")+"  "+c[b]]:[];return R&&M(w,T,L),m.extraText=L.join("<br>"),m.y0=m.y1=p.c2p(w.yc,!0),[m]}ae.exports={hoverPoints:function(o,l,u,h){return o.cd[0].trace.hoverlabel.split?s(o,l,u,h):a(o,l,u,h)},hoverSplit:s,hoverOnPoints:a}},54186:function(ae,B,r){"use strict";ae.exports={moduleType:"trace",name:"ohlc",basePlotModule:r(93612),categories:["cartesian","svg","showLegend"],meta:{},attributes:r(2522),supplyDefaults:r(16169),calc:r(3485).calc,plot:r(72314),style:r(53101),hoverPoints:r(66449).hoverPoints,selectPoints:r(67324)}},14555:function(ae,B,r){"use strict";var D=r(73972),E=r(71828);ae.exports=function(f,k,M,y){var c=M("x"),i=M("open"),s=M("high"),a=M("low"),o=M("close");if(M("hoverlabel.split"),D.getComponentMethod("calendars","handleTraceDefaults")(f,k,["x"],y),i&&s&&a&&o){var l=Math.min(i.length,s.length,a.length,o.length);return c&&(l=Math.min(l,E.minRowLength(c))),k._length=l,l}}},72314:function(ae,B,r){"use strict";var D=r(39898),E=r(71828);ae.exports=function(f,k,M,y){var c=k.yaxis,i=k.xaxis,s=!!i.rangebreaks;E.makeTraceGroups(y,M,"trace ohlc").each(function(a){var o=D.select(this),l=a[0],u=l.t;if(!0!==l.trace.visible||u.empty)o.remove();else{var h=u.tickLen,v=o.selectAll("path").data(E.identity);v.enter().append("path"),v.exit().remove(),v.attr("d",function(p){if(p.empty)return"M0,0Z";var T=i.c2p(p.pos-h,!0),_=i.c2p(p.pos+h,!0),m=s?(T+_)/2:i.c2p(p.pos,!0);return"M"+T+","+c.c2p(p.o,!0)+"H"+m+"M"+m+","+c.c2p(p.h,!0)+"V"+c.c2p(p.l,!0)+"M"+_+","+c.c2p(p.c,!0)+"H"+m})}})}},67324:function(ae){"use strict";ae.exports=function(B,r){var D,E=B.cd,f=B.xaxis,k=B.yaxis,M=[],y=E[0].t.bPos||0;if(!1===r)for(D=0;D<E.length;D++)E[D].selected=0;else for(D=0;D<E.length;D++){var c=E[D];r.contains([f.c2p(c.pos+y),k.c2p(c.yc)],null,c.i,B)?(M.push({pointNumber:c.i,x:f.c2d(c.pos),y:k.c2d(c.yc)}),c.selected=1):c.selected=0}return M}},53101:function(ae,B,r){"use strict";var D=r(39898),E=r(91424),f=r(7901);ae.exports=function(k,M,y){var c=y||D.select(k).selectAll("g.ohlclayer").selectAll("g.trace");c.style("opacity",function(i){return i[0].trace.opacity}),c.each(function(i){var s=i[0].trace;D.select(this).selectAll("path").each(function(a){if(!a.empty){var o=s[a.dir].line;D.select(this).style("fill","none").call(f.stroke,o.color).call(E.dashLine,o.dash,o.width).style("opacity",s.selectedpoints&&!a.selected?.3:1)}})})}},99506:function(ae,B,r){"use strict";var D=r(1426).extendFlat,E=r(9012),f=r(41940),k=r(50693),M=r(5386).fF,y=r(27670).Y,c=D({editType:"calc"},k("line",{editTypeOverride:"calc"}),{shape:{valType:"enumerated",values:["linear","hspline"],dflt:"linear",editType:"plot"},hovertemplate:M({editType:"plot",arrayOk:!1},{keys:["count","probability"]})});ae.exports={domain:y({name:"parcats",trace:!0,editType:"calc"}),hoverinfo:D({},E.hoverinfo,{flags:["count","probability"],editType:"plot",arrayOk:!1}),hoveron:{valType:"enumerated",values:["category","color","dimension"],dflt:"category",editType:"plot"},hovertemplate:M({editType:"plot",arrayOk:!1},{keys:["count","probability","category","categorycount","colorcount","bandcolorcount"]}),arrangement:{valType:"enumerated",values:["perpendicular","freeform","fixed"],dflt:"perpendicular",editType:"plot"},bundlecolors:{valType:"boolean",dflt:!0,editType:"plot"},sortpaths:{valType:"enumerated",values:["forward","backward"],dflt:"forward",editType:"plot"},labelfont:f({editType:"calc"}),tickfont:f({editType:"calc"}),dimensions:{_isLinkedToArray:"dimension",label:{valType:"string",editType:"calc"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},ticktext:{valType:"data_array",editType:"calc"},values:{valType:"data_array",dflt:[],editType:"calc"},displayindex:{valType:"integer",editType:"calc"},editType:"calc",visible:{valType:"boolean",dflt:!0,editType:"calc"}},line:c,counts:{valType:"number",min:0,dflt:1,arrayOk:!0,editType:"calc"},customdata:void 0,hoverlabel:void 0,ids:void 0,legend:void 0,legendgroup:void 0,legendrank:void 0,opacity:void 0,selectedpoints:void 0,showlegend:void 0}},27677:function(ae,B,r){"use strict";var D=r(27659).a0,E=r(45784),f="parcats";B.name=f,B.plot=function(k,M,y,c){var i=D(k.calcdata,f);i.length&&E(k,i[0],y,c)},B.clean=function(k,M,y,c){var i=c._has&&c._has("parcats"),s=M._has&&M._has("parcats");i&&!s&&c._paperdiv.selectAll(".parcats").remove()}},28699:function(ae,B,r){"use strict";var D=r(28984).wrap,E=r(52075).hasColorscale,f=r(78803),k=r(75744),M=r(91424),y=r(71828),c=r(92770);function i(o,l,u){o.valueInds.push(l),o.count+=u}function s(o,l,u){return{categoryInds:o,color:l,rawColor:u,valueInds:[],count:0}}function a(o,l,u){o.valueInds.push(l),o.count+=u}ae.exports=function(o,l){var u=y.filterVisible(l.dimensions);if(0===u.length)return[];var h,v,p,T=u.map(function(Z){var se;if("trace"===Z.categoryorder)se=null;else if("array"===Z.categoryorder)se=Z.categoryarray;else{se=k(Z.values);for(var re=!0,ne=0;ne<se.length;ne++)if(!c(se[ne])){re=!1;break}se.sort(re?y.sorterAsc:void 0),"category descending"===Z.categoryorder&&(se=se.reverse())}return function(Q,ee){ee=null==ee?[]:ee.map(function(be){return be});var oe={},ce={},fe=[];ee.forEach(function(be,ye){oe[be]=0,ce[be]=ye});for(var le=0;le<Q.length;le++){var pe,Me=Q[le];void 0===oe[Me]?(oe[Me]=1,pe=ee.push(Me)-1,ce[Me]=pe):(oe[Me]++,pe=ce[Me]),fe.push(pe)}var Ae=ee.map(function(be){return oe[be]});return{uniqueValues:ee,uniqueCounts:Ae,inds:fe}}(Z.values,se)});h=y.isArrayOrTypedArray(l.counts)?l.counts:[l.counts],function(Z){var se;if(function(ne){for(var Q=new Array(ne.length),ee=0;ee<ne.length;ee++){if(ne[ee]<0||ne[ee]>=ne.length||void 0!==Q[ne[ee]])return!1;Q[ne[ee]]=!0}return!0}(Z.map(function(ne){return ne.displayindex})))for(se=0;se<Z.length;se++)Z[se]._displayindex=Z[se].displayindex;else for(se=0;se<Z.length;se++)Z[se]._displayindex=se}(u),u.forEach(function(Z,se){!function(re,ne){re._categoryarray=ne.uniqueValues,re._ticktext=null==re.ticktext?[]:re.ticktext.slice();for(var Q=re._ticktext.length;Q<ne.uniqueValues.length;Q++)re._ticktext.push(ne.uniqueValues[Q])}(Z,T[se])});var _,m=l.line;m?(E(l,"line")&&f(o,l,{vals:l.line.color,containerStr:"line",cLetter:"c"}),_=M.tryColorscale(m)):_=y.identity;var w,x,b,A,g,I=u[0].values.length,S={},O=T.map(function(Z){return Z.inds});for(p=0,w=0;w<I;w++){var R=[];for(x=0;x<O.length;x++)R.push(O[x][w]);p+=v=h[w%h.length];var L=(b=w,A=void 0,g=void 0,y.isArrayOrTypedArray(m.color)?g=A=m.color[b%m.color.length]:A=m.color,{color:_(A),rawColor:g}),N=R+"-"+L.rawColor;void 0===S[N]&&(S[N]=s(R,L.color,L.rawColor)),a(S[N],w,v)}var j,Z,se,re,ne,X=u.map(function(Z,se){return{dimensionInd:se,containerInd:Z._index,displayInd:Z._displayindex,dimensionLabel:Z.label,count:p,categories:[],dragX:null}});for(w=0;w<I;w++)for(v=h[w%h.length],x=0;x<X.length;x++){var F=X[x].containerInd,Y=T[x].inds[w],G=X[x].categories;void 0===G[Y]&&(G[Y]={dimensionInd:x,categoryInd:j=Y,categoryValue:l.dimensions[F]._categoryarray[Y],displayInd:j,categoryLabel:l.dimensions[F]._ticktext[Y],valueInds:[],count:0,dragY:null}),i(G[Y],w,v)}return D((se=S,re=p,ne=(Z=X).map(function(Q){return Q.categories.length}).reduce(function(Q,ee){return Math.max(Q,ee)}),{dimensions:Z,paths:se,trace:void 0,maxCats:ne,count:re}))}},14647:function(ae,B,r){"use strict";var D=r(71828),E=r(52075).hasColorscale,f=r(1586),k=r(27670).c,M=r(85501),y=r(99506),c=r(94397);function i(s,a){function o(_,m){return D.coerce(s,a,y.dimensions,_,m)}var l=o("values"),u=o("visible");if(l&&l.length||(u=a.visible=!1),u){o("label"),o("displayindex",a._index);var h,v=s.categoryarray,p=Array.isArray(v)&&v.length>0;p&&(h="array");var T=o("categoryorder",h);"array"===T?(o("categoryarray"),o("ticktext")):(delete s.categoryarray,delete s.ticktext),p||"array"!==T||(a.categoryorder="trace")}}ae.exports=function(s,a,o,l){function u(_,m){return D.coerce(s,a,y,_,m)}var h=M(s,a,{name:"dimensions",handleItemDefaults:i}),v=function(_,m,w,x,b){b("line.shape"),b("line.hovertemplate");var A=b("line.color",x.colorway[0]);if(E(_,"line")&&D.isArrayOrTypedArray(A)){if(A.length)return b("line.colorscale"),f(_,m,x,b,{prefix:"line.",cLetter:"c"}),A.length;m.line.color=w}return 1/0}(s,a,o,l,u);k(a,l,u),Array.isArray(h)&&h.length||(a.visible=!1),c(a,h,"values",v),u("hoveron"),u("hovertemplate"),u("arrangement"),u("bundlecolors"),u("sortpaths"),u("counts");var p={family:l.font.family,size:Math.round(l.font.size),color:l.font.color};D.coerceFont(u,"labelfont",p);var T={family:l.font.family,size:Math.round(l.font.size/1.2),color:l.font.color};D.coerceFont(u,"tickfont",T)}},94873:function(ae,B,r){"use strict";ae.exports={attributes:r(99506),supplyDefaults:r(14647),calc:r(28699),plot:r(45784),colorbar:{container:"line",min:"cmin",max:"cmax"},moduleType:"trace",name:"parcats",basePlotModule:r(27677),categories:["noOpacity"],meta:{}}},45460:function(ae,B,r){"use strict";var D=r(39898),E=r(81684).k4,f=r(72391),k=r(30211),M=r(71828),y=M.strTranslate,c=r(91424),i=r(84267),s=r(63893);function a(re,ne,Q,ee){var oe=ne._context.staticPlot,ce=re.map(G.bind(0,ne,Q)),fe=ee.selectAll("g.parcatslayer").data([null]);fe.enter().append("g").attr("class","parcatslayer").style("pointer-events",oe?"none":"all");var le=fe.selectAll("g.trace.parcats").data(ce,o),pe=le.enter().append("g").attr("class","trace parcats");le.attr("transform",function(ge){return y(ge.x,ge.y)}),pe.append("g").attr("class","paths");var Me=le.select("g.paths").selectAll("path.path").data(function(ge){return ge.paths},o);Me.attr("fill",function(ge){return ge.model.color});var Ae=Me.enter().append("path").attr("class","path").attr("stroke-opacity",0).attr("fill",function(ge){return ge.model.color}).attr("fill-opacity",0);m(Ae),Me.attr("d",function(ge){return ge.svgD}),Ae.empty()||Me.sort(u),Me.exit().remove(),Me.on("mouseover",h).on("mouseout",v).on("click",_),pe.append("g").attr("class","dimensions");var be=le.select("g.dimensions").selectAll("g.dimension").data(function(ge){return ge.dimensions},o);be.enter().append("g").attr("class","dimension"),be.attr("transform",function(ge){return y(ge.x,0)}),be.exit().remove();var ye=be.selectAll("g.category").data(function(ge){return ge.categories},o),we=ye.enter().append("g").attr("class","category");ye.attr("transform",function(ge){return y(0,ge.y)}),we.append("rect").attr("class","catrect").attr("pointer-events","none"),ye.select("rect.catrect").attr("fill","none").attr("width",function(ge){return ge.width}).attr("height",function(ge){return ge.height}),x(we);var ze=ye.selectAll("rect.bandrect").data(function(ge){return ge.bands},o);ze.each(function(){M.raiseToTop(this)}),ze.attr("fill",function(ge){return ge.color});var Se=ze.enter().append("rect").attr("class","bandrect").attr("stroke-opacity",0).attr("fill",function(ge){return ge.color}).attr("fill-opacity",0);ze.attr("fill",function(ge){return ge.color}).attr("width",function(ge){return ge.width}).attr("height",function(ge){return ge.height}).attr("y",function(ge){return ge.y}).attr("cursor",function(ge){return"fixed"===ge.parcatsViewModel.arrangement?"default":"perpendicular"===ge.parcatsViewModel.arrangement?"ns-resize":"move"}),b(Se),ze.exit().remove(),we.append("text").attr("class","catlabel").attr("pointer-events","none");var Ce=ne._fullLayout.paper_bgcolor;ye.select("text.catlabel").attr("text-anchor",function(ge){return l(ge)?"start":"end"}).attr("alignment-baseline","middle").style("text-shadow",s.makeTextShadow(Ce)).style("fill","rgb(0, 0, 0)").attr("x",function(ge){return l(ge)?ge.width+5:-5}).attr("y",function(ge){return ge.height/2}).text(function(ge){return ge.model.categoryLabel}).each(function(ge){c.font(D.select(this),ge.parcatsViewModel.categorylabelfont),s.convertToTspans(D.select(this),ne)}),we.append("text").attr("class","dimlabel"),ye.select("text.dimlabel").attr("text-anchor","middle").attr("alignment-baseline","baseline").attr("cursor",function(ge){return"fixed"===ge.parcatsViewModel.arrangement?"default":"ew-resize"}).attr("x",function(ge){return ge.width/2}).attr("y",-5).text(function(ge,he){return 0===he?ge.parcatsViewModel.model.dimensions[ge.model.dimensionInd].dimensionLabel:null}).each(function(ge){c.font(D.select(this),ge.parcatsViewModel.labelfont)}),ye.selectAll("rect.bandrect").on("mouseover",O).on("mouseout",R),ye.exit().remove(),be.call(D.behavior.drag().origin(function(ge){return{x:ge.x,y:0}}).on("dragstart",L).on("drag",N).on("dragend",j)),le.each(function(ge){ge.traceSelection=D.select(this),ge.pathSelection=D.select(this).selectAll("g.paths").selectAll("path.path"),ge.dimensionSelection=D.select(this).selectAll("g.dimensions").selectAll("g.dimension")}),le.exit().remove()}function o(re){return re.key}function l(re){return re.model.dimensionInd===re.parcatsViewModel.dimensions[re.parcatsViewModel.dimensions.length-1].model.dimensionInd}function u(re,ne){return re.model.rawColor>ne.model.rawColor?1:re.model.rawColor<ne.model.rawColor?-1:0}function h(re){if(!re.parcatsViewModel.dragDimension&&-1===re.parcatsViewModel.hoverinfoItems.indexOf("skip")){M.raiseToTop(this),w(D.select(this));var ne=p(re),Q=T(re);if(re.parcatsViewModel.graphDiv.emit("plotly_hover",{points:ne,event:D.event,constraints:Q}),-1===re.parcatsViewModel.hoverinfoItems.indexOf("none")){var ee,oe,ce,fe=D.mouse(this)[0],le=re.parcatsViewModel.graphDiv,pe=re.parcatsViewModel.trace,Me=le._fullLayout,Ae=Me._paperdiv.node().getBoundingClientRect(),be=re.parcatsViewModel.graphDiv.getBoundingClientRect();for(ce=0;ce<re.leftXs.length-1;ce++)if(re.leftXs[ce]+re.dimWidths[ce]-2<=fe&&fe<=re.leftXs[ce+1]+2){var ye=re.parcatsViewModel.dimensions[ce];ee=(ye.x+ye.width+re.parcatsViewModel.dimensions[ce+1].x)/2,oe=(re.topYs[ce]+re.topYs[ce+1]+re.height)/2;break}var ze=re.parcatsViewModel.x+ee,Se=re.parcatsViewModel.y+oe,Ce=i.mostReadable(re.model.color,["black","white"]),ge=re.model.count,he=ge/re.parcatsViewModel.model.count,_e={countLabel:ge,probabilityLabel:he.toFixed(3)},Le=[];-1!==re.parcatsViewModel.hoverinfoItems.indexOf("count")&&Le.push(["Count:",_e.countLabel].join(" ")),-1!==re.parcatsViewModel.hoverinfoItems.indexOf("probability")&&Le.push(["P:",_e.probabilityLabel].join(" "));var Ie=Le.join("<br>"),De=D.mouse(le)[0];k.loneHover({trace:pe,x:ze-Ae.left+be.left,y:Se-Ae.top+be.top,text:Ie,color:re.model.color,borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontSize:10,fontColor:Ce,idealAlign:De<ze?"right":"left",hovertemplate:(pe.line||{}).hovertemplate,hovertemplateLabels:_e,eventData:[{data:pe._input,fullData:pe,count:ge,probability:he}]},{container:Me._hoverlayer.node(),outerContainer:Me._paper.node(),gd:le})}}}function v(re){if(!re.parcatsViewModel.dragDimension&&(m(D.select(this)),k.loneUnhover(re.parcatsViewModel.graphDiv._fullLayout._hoverlayer.node()),re.parcatsViewModel.pathSelection.sort(u),-1===re.parcatsViewModel.hoverinfoItems.indexOf("skip"))){var ne=p(re),Q=T(re);re.parcatsViewModel.graphDiv.emit("plotly_unhover",{points:ne,event:D.event,constraints:Q})}}function p(re){for(var ne=[],Q=X(re.parcatsViewModel),ee=0;ee<re.model.valueInds.length;ee++)ne.push({curveNumber:Q,pointNumber:re.model.valueInds[ee]});return ne}function T(re){for(var ne={},Q=re.parcatsViewModel.model.dimensions,ee=0;ee<Q.length;ee++){var oe=Q[ee];ne[oe.containerInd]=oe.categories[re.model.categoryInds[ee]].categoryValue}return void 0!==re.model.rawColor&&(ne.color=re.model.rawColor),ne}function _(re){if(-1===re.parcatsViewModel.hoverinfoItems.indexOf("skip")){var ne=p(re),Q=T(re);re.parcatsViewModel.graphDiv.emit("plotly_click",{points:ne,event:D.event,constraints:Q})}}function m(re){re.attr("fill",function(ne){return ne.model.color}).attr("fill-opacity",.6).attr("stroke","lightgray").attr("stroke-width",.2).attr("stroke-opacity",1)}function w(re){re.attr("fill-opacity",.8).attr("stroke",function(ne){return i.mostReadable(ne.model.color,["black","white"])}).attr("stroke-width",.3)}function x(re){re.select("rect.catrect").attr("stroke","black").attr("stroke-width",1).attr("stroke-opacity",1)}function b(re){re.attr("stroke","black").attr("stroke-width",.2).attr("stroke-opacity",1).attr("fill-opacity",1)}function A(re){var Q=re.categoryViewModel.model.dimensionInd,ee=re.categoryViewModel.model.categoryInd;return re.parcatsViewModel.pathSelection.filter(function(oe){return oe.model.categoryInds[Q]===ee&&oe.model.color===re.color})}function g(re,ne,Q){var ee=D.select(re).datum(),oe=ee.categoryViewModel.model,ce=ee.parcatsViewModel.graphDiv,fe=D.select(re.parentNode).selectAll("rect.bandrect"),le=[];fe.each(function(Me){A(Me).each(function(Ae){Array.prototype.push.apply(le,p(Ae))})});var pe={};pe[oe.dimensionInd]=oe.categoryValue,ce.emit(ne,{points:le,event:Q,constraints:pe})}function I(re,ne,Q){var ee=D.select(re).datum(),oe=ee.categoryViewModel.model,ce=ee.parcatsViewModel.graphDiv,fe=A(ee),le=[];fe.each(function(Me){Array.prototype.push.apply(le,p(Me))});var pe={};pe[oe.dimensionInd]=oe.categoryValue,void 0!==ee.rawColor&&(pe.color=ee.rawColor),ce.emit(ne,{points:le,event:Q,constraints:pe})}function S(re,ne,Q){re._fullLayout._calcInverseTransform(re);var ee,oe,ce=re._fullLayout._invScaleX,fe=re._fullLayout._invScaleY,le=D.select(Q.parentNode).select("rect.catrect"),pe=le.node().getBoundingClientRect(),Me=le.datum(),Ae=Me.parcatsViewModel,ye=Ae.trace,we=pe.top+pe.height/2;Ae.dimensions.length>1&&Ae.model.dimensions[Me.model.dimensionInd].displayInd===Ae.dimensions.length-1?(ee=pe.left,oe="left"):(ee=pe.left+pe.width,oe="right");var ze=Me.model.count,Se=Me.model.categoryLabel,Ce=ze/Me.parcatsViewModel.model.count,ge={countLabel:ze,categoryLabel:Se,probabilityLabel:Ce.toFixed(3)},he=[];-1!==Me.parcatsViewModel.hoverinfoItems.indexOf("count")&&he.push(["Count:",ge.countLabel].join(" ")),-1!==Me.parcatsViewModel.hoverinfoItems.indexOf("probability")&&he.push(["P("+ge.categoryLabel+"):",ge.probabilityLabel].join(" "));var _e=he.join("<br>");return{trace:ye,x:ce*(ee-ne.left),y:fe*(we-ne.top),text:_e,color:"lightgray",borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontSize:12,fontColor:"black",idealAlign:oe,hovertemplate:ye.hovertemplate,hovertemplateLabels:ge,eventData:[{data:ye._input,fullData:ye,count:ze,category:Se,probability:Ce}]}}function O(re){if(!re.parcatsViewModel.dragDimension&&-1===re.parcatsViewModel.hoverinfoItems.indexOf("skip")){if(D.mouse(this)[1]<-1)return;var ne,Q=re.parcatsViewModel.graphDiv,ee=Q._fullLayout,oe=ee._paperdiv.node().getBoundingClientRect(),ce=re.parcatsViewModel.hoveron,fe=this;"color"===ce?(w(Me=A(pe=D.select(le=fe).datum())),Me.each(function(){M.raiseToTop(this)}),D.select(le.parentNode).selectAll("rect.bandrect").filter(function(Ae){return Ae.color===pe.color}).each(function(){M.raiseToTop(this),D.select(this).attr("stroke","black").attr("stroke-width",1.5)}),I(fe,"plotly_hover",D.event)):(function(le){D.select(le.parentNode).selectAll("rect.bandrect").each(function(pe){var Me=A(pe);w(Me),Me.each(function(){M.raiseToTop(this)})}),D.select(le.parentNode).select("rect.catrect").attr("stroke","black").attr("stroke-width",2.5)}(fe),g(fe,"plotly_hover",D.event)),-1===re.parcatsViewModel.hoverinfoItems.indexOf("none")&&("category"===ce?ne=S(Q,oe,fe):"color"===ce?ne=function(le,pe,Me){le._fullLayout._calcInverseTransform(le);var Ae,be,ye=le._fullLayout._invScaleX,we=le._fullLayout._invScaleY,ze=Me.getBoundingClientRect(),Se=D.select(Me).datum(),Ce=Se.categoryViewModel,ge=Ce.parcatsViewModel,_e=ge.trace,Le=ze.y+ze.height/2;ge.dimensions.length>1&&ge.model.dimensions[Ce.model.dimensionInd].displayInd===ge.dimensions.length-1?(Ae=ze.left,be="left"):(Ae=ze.left+ze.width,be="right");var Ie=Ce.model.categoryLabel,De=Se.parcatsViewModel.model.count,je=0;Se.categoryViewModel.bands.forEach(function(at){at.color===Se.color&&(je+=at.count)});var qe=Ce.model.count,ve=0;ge.pathSelection.each(function(at){at.model.color===Se.color&&(ve+=at.model.count)});var Oe=je/De,ke=je/ve,Be=je/qe,We={countLabel:De,categoryLabel:Ie,probabilityLabel:Oe.toFixed(3)},Ge=[];-1!==Ce.parcatsViewModel.hoverinfoItems.indexOf("count")&&Ge.push(["Count:",We.countLabel].join(" ")),-1!==Ce.parcatsViewModel.hoverinfoItems.indexOf("probability")&&(Ge.push("P(color \u2229 "+Ie+"): "+We.probabilityLabel),Ge.push("P("+Ie+" | color): "+ke.toFixed(3)),Ge.push("P(color | "+Ie+"): "+Be.toFixed(3)));var Ke=Ge.join("<br>"),et=i.mostReadable(Se.color,["black","white"]);return{trace:_e,x:ye*(Ae-pe.left),y:we*(Le-pe.top),text:Ke,color:Se.color,borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontColor:et,fontSize:10,idealAlign:be,hovertemplate:_e.hovertemplate,hovertemplateLabels:We,eventData:[{data:_e._input,fullData:_e,category:Ie,count:De,probability:Oe,categorycount:qe,colorcount:ve,bandcolorcount:je}]}}(Q,oe,fe):"dimension"===ce&&(ne=function(le,pe,Me){var Ae=[];return D.select(Me.parentNode.parentNode).selectAll("g.category").select("rect.catrect").each(function(){Ae.push(S(le,pe,this))}),Ae}(Q,oe,fe)),ne&&k.loneHover(ne,{container:ee._hoverlayer.node(),outerContainer:ee._paper.node(),gd:Q}))}var le,pe,Me}function R(re){var ne=re.parcatsViewModel;ne.dragDimension||(m(ne.pathSelection),x(ne.dimensionSelection.selectAll("g.category")),b(ne.dimensionSelection.selectAll("g.category").selectAll("rect.bandrect")),k.loneUnhover(ne.graphDiv._fullLayout._hoverlayer.node()),ne.pathSelection.sort(u),-1!==ne.hoverinfoItems.indexOf("skip"))||("color"===re.parcatsViewModel.hoveron?I(this,"plotly_unhover",D.event):g(this,"plotly_unhover",D.event))}function L(re){"fixed"!==re.parcatsViewModel.arrangement&&(re.dragDimensionDisplayInd=re.model.displayInd,re.initialDragDimensionDisplayInds=re.parcatsViewModel.model.dimensions.map(function(ne){return ne.displayInd}),re.dragHasMoved=!1,re.dragCategoryDisplayInd=null,D.select(this).selectAll("g.category").select("rect.catrect").each(function(ne){var Q=D.mouse(this)[0],ee=D.mouse(this)[1];-2<=Q&&Q<=ne.width+2&&-2<=ee&&ee<=ne.height+2&&(re.dragCategoryDisplayInd=ne.model.displayInd,re.initialDragCategoryDisplayInds=re.model.categories.map(function(oe){return oe.displayInd}),ne.model.dragY=ne.y,M.raiseToTop(this.parentNode),D.select(this.parentNode).selectAll("rect.bandrect").each(function(oe){oe.y<ee&&ee<=oe.y+oe.height&&(re.potentialClickBand=this)}))}),re.parcatsViewModel.dragDimension=re,k.loneUnhover(re.parcatsViewModel.graphDiv._fullLayout._hoverlayer.node()))}function N(re){if("fixed"!==re.parcatsViewModel.arrangement&&(re.dragHasMoved=!0,null!==re.dragDimensionDisplayInd)){var ne=re.dragDimensionDisplayInd,Q=ne-1,ee=ne+1,oe=re.parcatsViewModel.dimensions[ne];if(null!==re.dragCategoryDisplayInd){var ce=oe.categories[re.dragCategoryDisplayInd];ce.model.dragY+=D.event.dy;var fe=ce.model.dragY,le=ce.model.displayInd,pe=oe.categories,Me=pe[le-1],Ae=pe[le+1];void 0!==Me&&fe<Me.y+Me.height/2&&(ce.model.displayInd=Me.model.displayInd,Me.model.displayInd=le),void 0!==Ae&&fe+ce.height>Ae.y+Ae.height/2&&(ce.model.displayInd=Ae.model.displayInd,Ae.model.displayInd=le),re.dragCategoryDisplayInd=ce.model.displayInd}if(null===re.dragCategoryDisplayInd||"freeform"===re.parcatsViewModel.arrangement){oe.model.dragX=D.event.x;var be=re.parcatsViewModel.dimensions[Q],ye=re.parcatsViewModel.dimensions[ee];void 0!==be&&oe.model.dragX<be.x+be.width&&(oe.model.displayInd=be.model.displayInd,be.model.displayInd=ne),void 0!==ye&&oe.model.dragX+oe.width>ye.x&&(oe.model.displayInd=ye.model.displayInd,ye.model.displayInd=re.dragDimensionDisplayInd),re.dragDimensionDisplayInd=oe.model.displayInd}Z(re.parcatsViewModel),W(re.parcatsViewModel),Y(re.parcatsViewModel),F(re.parcatsViewModel)}}function j(re){if("fixed"!==re.parcatsViewModel.arrangement&&null!==re.dragDimensionDisplayInd){D.select(this).selectAll("text").attr("font-weight","normal");var ne={},Q=X(re.parcatsViewModel),ee=re.parcatsViewModel.model.dimensions.map(function(Ae){return Ae.displayInd}),oe=re.initialDragDimensionDisplayInds.some(function(Ae,be){return Ae!==ee[be]});oe&&ee.forEach(function(Ae,be){ne["dimensions["+re.parcatsViewModel.model.dimensions[be].containerInd+"].displayindex"]=Ae});var ce=!1;if(null!==re.dragCategoryDisplayInd){var fe=re.model.categories.map(function(Ae){return Ae.displayInd});if(ce=re.initialDragCategoryDisplayInds.some(function(Ae,be){return Ae!==fe[be]})){var le=re.model.categories.slice().sort(function(Ae,be){return Ae.displayInd-be.displayInd}),pe=le.map(function(Ae){return Ae.categoryValue}),Me=le.map(function(Ae){return Ae.categoryLabel});ne["dimensions["+re.model.containerInd+"].categoryarray"]=[pe],ne["dimensions["+re.model.containerInd+"].ticktext"]=[Me],ne["dimensions["+re.model.containerInd+"].categoryorder"]="array"}}-1===re.parcatsViewModel.hoverinfoItems.indexOf("skip")&&!re.dragHasMoved&&re.potentialClickBand&&("color"===re.parcatsViewModel.hoveron?I(re.potentialClickBand,"plotly_click",D.event.sourceEvent):g(re.potentialClickBand,"plotly_click",D.event.sourceEvent)),re.model.dragX=null,null!==re.dragCategoryDisplayInd&&(re.parcatsViewModel.dimensions[re.dragDimensionDisplayInd].categories[re.dragCategoryDisplayInd].model.dragY=null,re.dragCategoryDisplayInd=null),re.dragDimensionDisplayInd=null,re.parcatsViewModel.dragDimension=null,re.dragHasMoved=null,re.potentialClickBand=null,Z(re.parcatsViewModel),W(re.parcatsViewModel),D.transition().duration(300).ease("cubic-in-out").each(function(){Y(re.parcatsViewModel,!0),F(re.parcatsViewModel,!0)}).each("end",function(){(oe||ce)&&f.restyle(re.parcatsViewModel.graphDiv,ne,[Q])})}}function X(re){for(var ne,Q=re.graphDiv._fullData,ee=0;ee<Q.length;ee++)if(re.key===Q[ee].uid){ne=ee;break}return ne}function F(re,ne){var Q;void 0===ne&&(ne=!1),re.pathSelection.data(function(ee){return ee.paths},o),(Q=re.pathSelection,ne?Q.transition():Q).attr("d",function(ee){return ee.svgD})}function Y(re,ne){function Q(fe){return ne?fe.transition():fe}void 0===ne&&(ne=!1),re.dimensionSelection.data(function(fe){return fe.dimensions},o);var ee=re.dimensionSelection.selectAll("g.category").data(function(fe){return fe.categories},o);Q(re.dimensionSelection).attr("transform",function(fe){return y(fe.x,0)}),Q(ee).attr("transform",function(fe){return y(0,fe.y)}),ee.select(".dimlabel").text(function(fe,le){return 0===le?fe.parcatsViewModel.model.dimensions[fe.model.dimensionInd].dimensionLabel:null}),ee.select(".catlabel").attr("text-anchor",function(fe){return l(fe)?"start":"end"}).attr("x",function(fe){return l(fe)?fe.width+5:-5}).each(function(fe){var le,pe;l(fe)?(le=fe.width+5,pe="start"):(le=-5,pe="end"),D.select(this).selectAll("tspan").attr("x",le).attr("text-anchor",pe)});var oe=ee.selectAll("rect.bandrect").data(function(fe){return fe.bands},o),ce=oe.enter().append("rect").attr("class","bandrect").attr("cursor","move").attr("stroke-opacity",0).attr("fill",function(fe){return fe.color}).attr("fill-opacity",0);oe.attr("fill",function(fe){return fe.color}).attr("width",function(fe){return fe.width}).attr("height",function(fe){return fe.height}).attr("y",function(fe){return fe.y}),b(ce),oe.each(function(){M.raiseToTop(this)}),oe.exit().remove()}function G(re,ne,Q){var ee,oe=Q[0],ce=ne.margin||{l:80,r:80,t:100,b:80},fe=oe.trace,le=fe.domain,pe=ne.width,Me=ne.height,Ae=Math.floor(pe*(le.x[1]-le.x[0])),be=Math.floor(Me*(le.y[1]-le.y[0])),ye=le.x[0]*pe+ce.l,we=ne.height-le.y[1]*ne.height+ce.t,ze=fe.line.shape;ee="all"===fe.hoverinfo?["count","probability"]:(fe.hoverinfo||"").split("+");var Se={trace:fe,key:fe.uid,model:oe,x:ye,y:we,width:Ae,height:be,hoveron:fe.hoveron,hoverinfoItems:ee,arrangement:fe.arrangement,bundlecolors:fe.bundlecolors,sortpaths:fe.sortpaths,labelfont:fe.labelfont,categorylabelfont:fe.tickfont,pathShape:ze,dragDimension:null,margin:ce,paths:[],dimensions:[],graphDiv:re,traceSelection:null,pathSelection:null,dimensionSelection:null};return oe.dimensions&&(Z(Se),W(Se)),Se}function H(re,ne,Q,ee,oe){var ce,fe,le=[],pe=[];for(fe=0;fe<Q.length-1;fe++)ce=E(Q[fe]+re[fe],re[fe+1]),le.push(ce(oe)),pe.push(ce(1-oe));var Me="M "+re[0]+","+ne[0];for(Me+="l"+Q[0]+",0 ",fe=1;fe<Q.length;fe++)Me+="C"+le[fe-1]+","+ne[fe-1]+" "+pe[fe-1]+","+ne[fe]+" "+re[fe]+","+ne[fe],Me+="l"+Q[fe]+",0 ";for(Me+="l0,"+ee+" ",Me+="l -"+Q[Q.length-1]+",0 ",fe=Q.length-2;fe>=0;fe--)Me+="C"+pe[fe]+","+(ne[fe+1]+ee)+" "+le[fe]+","+(ne[fe]+ee)+" "+(re[fe]+Q[fe])+","+(ne[fe]+ee),Me+="l-"+Q[fe]+",0 ";return Me+"Z"}function W(re){var ne=re.dimensions,Q=re.model,ee=ne.map(function(We){return We.categories.map(function(Ge){return Ge.y})}),oe=re.model.dimensions.map(function(We){return We.categories.map(function(Ge){return Ge.displayInd})}),ce=re.model.dimensions.map(function(We){return We.displayInd}),fe=re.dimensions.map(function(We){return We.model.dimensionInd}),le=ne.map(function(We){return We.x}),pe=ne.map(function(We){return We.width}),Me=[];for(var Ae in Q.paths)Q.paths.hasOwnProperty(Ae)&&Me.push(Q.paths[Ae]);function be(We){var Ge=We.categoryInds.map(function(Ke,et){return oe[et][Ke]});return fe.map(function(Ke){return Ge[Ke]})}Me.sort(function(We,Ge){var Ke=be(We),et=be(Ge);return"backward"===re.sortpaths&&(Ke.reverse(),et.reverse()),Ke.push(We.valueInds[0]),et.push(Ge.valueInds[0]),re.bundlecolors&&(Ke.unshift(We.rawColor),et.unshift(Ge.rawColor)),Ke<et?-1:Ke>et?1:0});for(var ye=new Array(Me.length),we=ne[0].model.count,ze=ne[0].categories.map(function(We){return We.height}).reduce(function(We,Ge){return We+Ge}),Se=0;Se<Me.length;Se++){var Ce,ge=Me[Se];Ce=we>0?ze*(ge.count/we):0;for(var he,_e=new Array(ee.length),Le=0;Le<ge.categoryInds.length;Le++){var De=oe[Le][ge.categoryInds[Le]],je=ce[Le];_e[je]=ee[je][De],ee[je][De]+=Ce;var qe=re.dimensions[je].categories[De],ve=qe.bands.length,Oe=qe.bands[ve-1];if(void 0===Oe||ge.rawColor!==Oe.rawColor){var ke=void 0===Oe?0:Oe.y+Oe.height;qe.bands.push({key:ke,color:ge.color,rawColor:ge.rawColor,height:Ce,width:qe.width,count:ge.count,y:ke,categoryViewModel:qe,parcatsViewModel:re})}else{var Be=qe.bands[ve-1];Be.height+=Ce,Be.count+=ge.count}}he=H(le,_e,pe,Ce,"hspline"===re.pathShape?.5:0),ye[Se]={key:ge.valueInds[0],model:ge,height:Ce,leftXs:le,topYs:_e,dimWidths:pe,svgD:he,parcatsViewModel:re}}re.paths=ye}function Z(re){var ne=re.model.dimensions.map(function(fe){return{displayInd:fe.displayInd,dimensionInd:fe.dimensionInd}});ne.sort(function(fe,le){return fe.displayInd-le.displayInd});var Q=[];for(var ee in ne)Q.push(se(re,re.model.dimensions[ne[ee].dimensionInd]));re.dimensions=Q}function se(re,ne){var Q,ee=re.model.dimensions.length;Q=40+(ee>1?(re.width-80-16)/(ee-1):0)*ne.displayInd;var ce,fe,le,Me,Ae=[],be=re.model.maxCats,ye=ne.categories.length,we=ne.count,ze=re.height-8*(be-1),Se=8*(be-ye)/2,Ce=ne.categories.map(function(ge){return{displayInd:ge.displayInd,categoryInd:ge.categoryInd}});for(Ce.sort(function(ge,he){return ge.displayInd-he.displayInd}),Me=0;Me<ye;Me++)le={key:(fe=ne.categories[Ce[Me].categoryInd]).valueInds[0],model:fe,width:16,height:ce=we>0?fe.count/we*ze:0,y:null!==fe.dragY?fe.dragY:Se,bands:[],parcatsViewModel:re},Se=Se+ce+8,Ae.push(le);return{key:ne.dimensionInd,x:null!==ne.dragX?ne.dragX:Q,y:0,width:16,model:ne,categories:Ae,parcatsViewModel:re,dragCategoryDisplayInd:null,dragDimensionDisplayInd:null,initialDragDimensionDisplayInds:null,initialDragCategoryDisplayInds:null,dragHasMoved:null,potentialClickBand:null}}ae.exports=function(re,ne,Q,ee){a(Q,re,ee,ne)}},45784:function(ae,B,r){"use strict";var D=r(45460);ae.exports=function(E,f,k,M){var y=E._fullLayout,i=y._size;D(E,y._paper,f,{width:i.w,height:i.h,margin:{t:i.t,r:i.r,b:i.b,l:i.l}},k,M)}},73362:function(ae,B,r){"use strict";var D=r(50693),E=r(13838),f=r(41940),k=r(27670).Y,M=r(1426).extendFlat,y=r(44467).templatedArray;ae.exports={domain:k({name:"parcoords",trace:!0,editType:"plot"}),labelangle:{valType:"angle",dflt:0,editType:"plot"},labelside:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},labelfont:f({editType:"plot"}),tickfont:f({editType:"plot"}),rangefont:f({editType:"plot"}),dimensions:y("dimension",{label:{valType:"string",editType:"plot"},tickvals:M({},E.tickvals,{editType:"plot"}),ticktext:M({},E.ticktext,{editType:"plot"}),tickformat:M({},E.tickformat,{editType:"plot"}),visible:{valType:"boolean",dflt:!0,editType:"plot"},range:{valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],editType:"plot"},constraintrange:{valType:"info_array",freeLength:!0,dimensions:"1-2",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},multiselect:{valType:"boolean",dflt:!0,editType:"plot"},values:{valType:"data_array",editType:"calc"},editType:"calc"}),line:M({editType:"calc"},D("line",{colorscaleDflt:"Viridis",autoColorDflt:!1,editTypeOverride:"calc"})),unselected:{line:{color:{valType:"color",dflt:"#7f7f7f",editType:"plot"},opacity:{valType:"number",min:0,max:1,dflt:"auto",editType:"plot"},editType:"plot"},editType:"plot"}}},57920:function(ae,B,r){"use strict";var D=r(25706),E=r(39898),f=r(28984).keyFun,k=r(28984).repeat,M=r(71828).sorterAsc,y=r(71828).strTranslate,c=D.bar.snapRatio;function i(S,O){return S*(1-c)+O*c}var s=D.bar.snapClose;function a(S,O){return S*(1-s)+O*s}function o(S,O,R,L){if(function(se,re){for(var ne=0;ne<re.length;ne++)if(se>=re[ne][0]&&se<=re[ne][1])return!0;return!1}(R,L))return R;var N=S?-1:1,j=0,X=O.length-1;if(N<0){var F=j;j=X,X=F}for(var Y=O[j],G=Y,H=j;N*H<N*X;H+=N){var W=H+N,Z=O[W];if(N*R<N*a(Y,Z))return i(Y,G);if(N*R<N*Z||W===X)return i(Z,Y);G=Y,Y=Z}}function l(S){S.attr("x",-D.bar.captureWidth/2).attr("width",D.bar.captureWidth)}function u(S){S.attr("visibility","visible").style("visibility","visible").attr("fill","yellow").attr("opacity",0)}function h(S){if(!S.brush.filterSpecified)return"0,"+S.height;for(var O,R,L,N=v(S.brush.filter.getConsolidated(),S.height),j=[0],X=N.length?N[0][0]:null,F=0;F<N.length;F++)R=(O=N[F])[1]-O[0],j.push(X),j.push(R),(L=F+1)<N.length&&(X=N[L][0]-O[1]);return j.push(S.height),j}function v(S,O){return S.map(function(R){return R.map(function(L){return Math.max(0,L*O)}).sort(M)})}function p(){E.select(document.body).style("cursor",null)}function T(S){S.attr("stroke-dasharray",h)}function _(S,O){var R=E.select(S).selectAll(".highlight, .highlight-shadow");T(O?R.transition().duration(D.bar.snapDuration).each("end",O):R)}function m(S,O){var R,L=S.brush,N=NaN,j={};if(L.filterSpecified){var X=S.height,F=L.filter.getConsolidated(),Y=v(F,X),G=NaN,H=NaN,W=NaN;for(R=0;R<=Y.length;R++){var Z=Y[R];if(Z&&Z[0]<=O&&O<=Z[1]){G=R;break}if(H=R?R-1:NaN,Z&&Z[0]>O){W=R;break}}if(N=G,isNaN(N)&&(N=isNaN(H)||isNaN(W)?isNaN(H)?W:H:O-Y[H][1]<Y[W][0]-O?H:W),!isNaN(N)){var se=Y[N],re=function(oe,ce){var fe=D.bar.handleHeight;if(!(ce>oe[1]+fe||ce<oe[0]-fe))return ce>=.9*oe[1]+.1*oe[0]?"n":ce<=.9*oe[0]+.1*oe[1]?"s":"ns"}(se,O);re&&(j.interval=F[N],j.intervalPix=se,j.region=re)}}if(S.ordinal&&!j.region){var ne=S.unitTickvals,Q=S.unitToPaddedPx.invert(O);for(R=0;R<ne.length;R++){var ee=[.25*ne[Math.max(R-1,0)]+.75*ne[R],.25*ne[Math.min(R+1,ne.length-1)]+.75*ne[R]];if(Q>=ee[0]&&Q<=ee[1]){j.clickableOrdinalRange=ee;break}}}return j}function w(S,O){E.event.sourceEvent.stopPropagation();var R=O.height-E.mouse(S)[1]-2*D.verticalPadding,L=O.brush.svgBrush;L.wasDragged=!0,L._dragging=!0,L.newExtent=L.grabbingBar?[R-L.grabPoint,R+L.barLength-L.grabPoint].map(O.unitToPaddedPx.invert):[L.startExtent,O.unitToPaddedPx.invert(R)].sort(M),O.brush.filterSpecified=!0,L.extent=L.stayingIntervals.concat([L.newExtent]),L.brushCallback(O),_(S.parentNode)}function x(S,O){var R=m(O,O.height-E.mouse(S)[1]-2*D.verticalPadding),L="crosshair";R.clickableOrdinalRange?L="pointer":R.region&&(L=R.region+"-resize"),E.select(document.body).style("cursor",L)}function b(S){S.on("mousemove",function(O){E.event.preventDefault(),O.parent.inBrushDrag||x(this,O)}).on("mouseleave",function(O){O.parent.inBrushDrag||p()}).call(E.behavior.drag().on("dragstart",function(O){!function(R,L){E.event.sourceEvent.stopPropagation();var N=L.height-E.mouse(R)[1]-2*D.verticalPadding,j=L.unitToPaddedPx.invert(N),X=L.brush,F=m(L,N),Y=F.interval,G=X.svgBrush;if(G.wasDragged=!1,G.grabbingBar="ns"===F.region,G.grabbingBar){var H=Y.map(L.unitToPaddedPx);G.grabPoint=N-H[0]-D.verticalPadding,G.barLength=H[1]-H[0]}G.clickableOrdinalRange=F.clickableOrdinalRange,G.stayingIntervals=L.multiselect&&X.filterSpecified?X.filter.getConsolidated():[],Y&&(G.stayingIntervals=G.stayingIntervals.filter(function(W){return W[0]!==Y[0]&&W[1]!==Y[1]})),G.startExtent=F.region?Y["s"===F.region?1:0]:j,L.parent.inBrushDrag=!0,G.brushStartCallback()}(this,O)}).on("drag",function(O){w(this,O)}).on("dragend",function(O){!function(R,L){var N=L.brush,j=N.filter,X=N.svgBrush;X._dragging||(x(R,L),w(R,L),L.brush.svgBrush.wasDragged=!1),X._dragging=!1,E.event.sourceEvent.stopPropagation();var F=X.grabbingBar;if(X.grabbingBar=!1,X.grabLocation=void 0,L.parent.inBrushDrag=!1,p(),!X.wasDragged)return X.wasDragged=void 0,X.clickableOrdinalRange?N.filterSpecified&&L.multiselect?X.extent.push(X.clickableOrdinalRange):(X.extent=[X.clickableOrdinalRange],N.filterSpecified=!0):F?(X.extent=X.stayingIntervals,0===X.extent.length&&g(N)):g(N),X.brushCallback(L),_(R.parentNode),void X.brushEndCallback(N.filterSpecified?j.getConsolidated():[]);var Y=function(){j.set(j.getConsolidated())};if(L.ordinal){var G=L.unitTickvals;G[G.length-1]<G[0]&&G.reverse(),X.newExtent=[o(0,G,X.newExtent[0],X.stayingIntervals),o(1,G,X.newExtent[1],X.stayingIntervals)];var H=X.newExtent[1]>X.newExtent[0];X.extent=X.stayingIntervals.concat(H?[X.newExtent]:[]),X.extent.length||g(N),X.brushCallback(L),H?_(R.parentNode,Y):(Y(),_(R.parentNode))}else Y();X.brushEndCallback(N.filterSpecified?j.getConsolidated():[])}(this,O)}))}function A(S,O){return S[0]-O[0]}function g(S){S.filterSpecified=!1,S.svgBrush.extent=[[-1/0,1/0]]}function I(S){for(var O,R=S.slice(),L=[],N=R.shift();N;){for(O=N.slice();(N=R.shift())&&N[0]<=O[1];)O[1]=Math.max(O[1],N[1]);L.push(O)}return 1===L.length&&L[0][0]>L[0][1]&&(L=[]),L}ae.exports={makeBrush:function(S,O,R,L,N,j){var X,Y,G,H,F=(H=[],{set:function(W){1===(H=W.map(function(Z){return Z.slice().sort(M)}).sort(A)).length&&H[0][0]===-1/0&&H[0][1]===1/0&&(H=[[0,-1]]),Y=I(H),G=H.reduce(function(Z,se){return[Math.min(Z[0],se[0]),Math.max(Z[1],se[1])]},[1/0,-1/0])},get:function(){return H.slice()},getConsolidated:function(){return Y},getBounds:function(){return G}});return F.set(R),{filter:F,filterSpecified:O,svgBrush:{extent:[],brushStartCallback:L,brushCallback:(X=N,function(Y){var G=Y.brush,W=G.svgBrush.extent.map(function(se){return se.slice()}).slice();G.filter.set(W),X()}),brushEndCallback:j}}},ensureAxisBrush:function(S,O,R){var L=S.selectAll("."+D.cn.axisBrush).data(k,f);L.enter().append("g").classed(D.cn.axisBrush,!0),function(N,j,X){var F=X._context.staticPlot,Y=N.selectAll(".background").data(k);Y.enter().append("rect").classed("background",!0).call(l).call(u).style("pointer-events",F?"none":"auto").attr("transform",y(0,D.verticalPadding)),Y.call(b).attr("height",function(W){return W.height-D.verticalPadding});var G=N.selectAll(".highlight-shadow").data(k);G.enter().append("line").classed("highlight-shadow",!0).attr("x",-D.bar.width/2).attr("stroke-width",D.bar.width+D.bar.strokeWidth).attr("stroke",j).attr("opacity",D.bar.strokeOpacity).attr("stroke-linecap","butt"),G.attr("y1",function(W){return W.height}).call(T);var H=N.selectAll(".highlight").data(k);H.enter().append("line").classed("highlight",!0).attr("x",-D.bar.width/2).attr("stroke-width",D.bar.width-D.bar.strokeWidth).attr("stroke",D.bar.fillColor).attr("opacity",D.bar.fillOpacity).attr("stroke-linecap","butt"),H.attr("y1",function(W){return W.height}).call(T)}(L,O,R)},cleanRanges:function(S,O){if(Array.isArray(S[0])?(S=S.map(function(L){return L.sort(M)}),S=O.multiselect?I(S.sort(A)):[S[0]]):S=[S.sort(M)],O.tickvals){var R=O.tickvals.slice().sort(M);if(!(S=S.map(function(L){var N=[o(0,R,L[0],[]),o(1,R,L[1],[])];if(N[1]>N[0])return N}).filter(function(L){return L})).length)return}return S.length>1?S:S[0]}}},71791:function(ae,B,r){"use strict";ae.exports={attributes:r(73362),supplyDefaults:r(3633),calc:r(24639),colorbar:{container:"line",min:"cmin",max:"cmax"},moduleType:"trace",name:"parcoords",basePlotModule:r(49351),categories:["gl","regl","noOpacity","noHover"],meta:{}}},49351:function(ae,B,r){"use strict";var D=r(39898),E=r(27659).a0,f=r(21341),k=r(77922);B.name="parcoords",B.plot=function(M){var y=E(M.calcdata,"parcoords")[0];y.length&&f(M,y)},B.clean=function(M,y,c,i){var s=i._has&&i._has("parcoords"),a=y._has&&y._has("parcoords");s&&!a&&(i._paperdiv.selectAll(".parcoords").remove(),i._glimages.selectAll("*").remove())},B.toSVG=function(M){var y=M._fullLayout._glimages,c=D.select(M).selectAll(".svg-container");c.filter(function(i,s){return s===c.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus").each(function(){var i=this,s=i.toDataURL("image/png");y.append("svg:image").attr({xmlns:k.svg,"xlink:href":s,preserveAspectRatio:"none",x:0,y:0,width:i.style.width,height:i.style.height})}),window.setTimeout(function(){D.selectAll("#filterBarPattern").attr("id","filterBarPattern")},60)}},24639:function(ae,B,r){"use strict";var D=r(71828).isArrayOrTypedArray,E=r(21081),f=r(28984).wrap;ae.exports=function(k,M){var y,c;return E.hasColorscale(M,"line")&&D(M.line.color)?(y=M.line.color,c=E.extractOpts(M.line).colorscale,E.calc(k,M,{vals:y,containerStr:"line",cLetter:"c"})):(y=function(i){for(var s=new Array(i),a=0;a<i;a++)s[a]=.5;return s}(M._length),c=[[0,M.line.color],[1,M.line.color]]),f({lineColor:y,cscale:c})}},25706:function(ae){"use strict";ae.exports={maxDimensionCount:60,overdrag:45,verticalPadding:2,tickDistance:50,canvasPixelRatio:1,blockLineCount:5e3,layers:["contextLineLayer","focusLineLayer","pickLineLayer"],axisTitleOffset:28,axisExtentOffset:10,bar:{width:4,captureWidth:10,fillColor:"magenta",fillOpacity:1,snapDuration:150,snapRatio:.25,snapClose:.01,strokeOpacity:1,strokeWidth:1,handleHeight:8,handleOpacity:1,handleOverlap:0},cn:{axisExtentText:"axis-extent-text",parcoordsLineLayers:"parcoords-line-layers",parcoordsLineLayer:"parcoords-lines",parcoords:"parcoords",parcoordsControlView:"parcoords-control-view",yAxis:"y-axis",axisOverlays:"axis-overlays",axis:"axis",axisHeading:"axis-heading",axisTitle:"axis-title",axisExtent:"axis-extent",axisExtentTop:"axis-extent-top",axisExtentTopText:"axis-extent-top-text",axisExtentBottom:"axis-extent-bottom",axisExtentBottomText:"axis-extent-bottom-text",axisBrush:"axis-brush"},id:{filterBarPattern:"filter-bar-pattern"}}},3633:function(ae,B,r){"use strict";var D=r(71828),E=r(52075).hasColorscale,f=r(1586),k=r(27670).c,M=r(85501),y=r(89298),c=r(73362),i=r(57920),s=r(25706).maxDimensionCount,a=r(94397);function o(l,u,h,v){function p(x,b){return D.coerce(l,u,c.dimensions,x,b)}var T=p("values"),_=p("visible");if(T&&T.length||(_=u.visible=!1),_){p("label"),p("tickvals"),p("ticktext"),p("tickformat");var m=p("range");u._ax={_id:"y",type:"linear",showexponent:"all",exponentformat:"B",range:m},y.setConvert(u._ax,v.layout),p("multiselect");var w=p("constraintrange");w&&(u.constraintrange=i.cleanRanges(w,u))}}ae.exports=function(l,u,h,v){function p(x,b){return D.coerce(l,u,c,x,b)}var T=l.dimensions;Array.isArray(T)&&T.length>s&&(D.log("parcoords traces support up to "+s+" dimensions at the moment"),T.splice(s));var _=M(l,u,{name:"dimensions",layout:v,handleItemDefaults:o}),m=function(x,b,A,g,I){var S=I("line.color",A);if(E(x,"line")&&D.isArrayOrTypedArray(S)){if(S.length)return I("line.colorscale"),f(x,b,g,I,{prefix:"line.",cLetter:"c"}),S.length;b.line.color=A}return 1/0}(l,u,h,v,p);k(u,v,p),Array.isArray(_)&&_.length||(u.visible=!1),a(u,_,"values",m);var w={family:v.font.family,size:Math.round(v.font.size/1.2),color:v.font.color};D.coerceFont(p,"labelfont",w),D.coerceFont(p,"tickfont",w),D.coerceFont(p,"rangefont",w),p("labelangle"),p("labelside"),p("unselected.line.color"),p("unselected.line.opacity")}},1602:function(ae,B,r){"use strict";var D=r(71828).isTypedArray;B.convertTypedArray=function(E){return D(E)?Array.prototype.slice.call(E):E},B.isOrdinal=function(E){return!!E.tickvals},B.isVisible=function(E){return E.visible||!("visible"in E)}},67618:function(ae,B,r){"use strict";var D=r(71791);D.plot=r(21341),ae.exports=D},83398:function(ae,B,r){"use strict";var D=r(56068),E=D(["precision highp float;\n#define GLSLIFY 1\n\nvarying vec4 fragColor;\n\nattribute vec4 p01_04, p05_08, p09_12, p13_16,\n               p17_20, p21_24, p25_28, p29_32,\n               p33_36, p37_40, p41_44, p45_48,\n               p49_52, p53_56, p57_60, colors;\n\nuniform mat4 dim0A, dim1A, dim0B, dim1B, dim0C, dim1C, dim0D, dim1D,\n             loA, hiA, loB, hiB, loC, hiC, loD, hiD;\n\nuniform vec2 resolution, viewBoxPos, viewBoxSize;\nuniform float maskHeight;\nuniform float drwLayer; // 0: context, 1: focus, 2: pick\nuniform vec4 contextColor;\nuniform sampler2D maskTexture, palette;\n\nbool isPick    = (drwLayer > 1.5);\nbool isContext = (drwLayer < 0.5);\n\nconst vec4 ZEROS = vec4(0.0, 0.0, 0.0, 0.0);\nconst vec4 UNITS = vec4(1.0, 1.0, 1.0, 1.0);\n\nfloat val(mat4 p, mat4 v) {\n    return dot(matrixCompMult(p, v) * UNITS, UNITS);\n}\n\nfloat axisY(float ratio, mat4 A, mat4 B, mat4 C, mat4 D) {\n    float y1 = val(A, dim0A) + val(B, dim0B) + val(C, dim0C) + val(D, dim0D);\n    float y2 = val(A, dim1A) + val(B, dim1B) + val(C, dim1C) + val(D, dim1D);\n    return y1 * (1.0 - ratio) + y2 * ratio;\n}\n\nint iMod(int a, int b) {\n    return a - b * (a / b);\n}\n\nbool fOutside(float p, float lo, float hi) {\n    return (lo < hi) && (lo > p || p > hi);\n}\n\nbool vOutside(vec4 p, vec4 lo, vec4 hi) {\n    return (\n        fOutside(p[0], lo[0], hi[0]) ||\n        fOutside(p[1], lo[1], hi[1]) ||\n        fOutside(p[2], lo[2], hi[2]) ||\n        fOutside(p[3], lo[3], hi[3])\n    );\n}\n\nbool mOutside(mat4 p, mat4 lo, mat4 hi) {\n    return (\n        vOutside(p[0], lo[0], hi[0]) ||\n        vOutside(p[1], lo[1], hi[1]) ||\n        vOutside(p[2], lo[2], hi[2]) ||\n        vOutside(p[3], lo[3], hi[3])\n    );\n}\n\nbool outsideBoundingBox(mat4 A, mat4 B, mat4 C, mat4 D) {\n    return mOutside(A, loA, hiA) ||\n           mOutside(B, loB, hiB) ||\n           mOutside(C, loC, hiC) ||\n           mOutside(D, loD, hiD);\n}\n\nbool outsideRasterMask(mat4 A, mat4 B, mat4 C, mat4 D) {\n    mat4 pnts[4];\n    pnts[0] = A;\n    pnts[1] = B;\n    pnts[2] = C;\n    pnts[3] = D;\n\n    for(int i = 0; i < 4; ++i) {\n        for(int j = 0; j < 4; ++j) {\n            for(int k = 0; k < 4; ++k) {\n                if(0 == iMod(\n                    int(255.0 * texture2D(maskTexture,\n                        vec2(\n                            (float(i * 2 + j / 2) + 0.5) / 8.0,\n                            (pnts[i][j][k] * (maskHeight - 1.0) + 1.0) / maskHeight\n                        ))[3]\n                    ) / int(pow(2.0, float(iMod(j * 4 + k, 8)))),\n                    2\n                )) return true;\n            }\n        }\n    }\n    return false;\n}\n\nvec4 position(bool isContext, float v, mat4 A, mat4 B, mat4 C, mat4 D) {\n    float x = 0.5 * sign(v) + 0.5;\n    float y = axisY(x, A, B, C, D);\n    float z = 1.0 - abs(v);\n\n    z += isContext ? 0.0 : 2.0 * float(\n        outsideBoundingBox(A, B, C, D) ||\n        outsideRasterMask(A, B, C, D)\n    );\n\n    return vec4(\n        2.0 * (vec2(x, y) * viewBoxSize + viewBoxPos) / resolution - 1.0,\n        z,\n        1.0\n    );\n}\n\nvoid main() {\n    mat4 A = mat4(p01_04, p05_08, p09_12, p13_16);\n    mat4 B = mat4(p17_20, p21_24, p25_28, p29_32);\n    mat4 C = mat4(p33_36, p37_40, p41_44, p45_48);\n    mat4 D = mat4(p49_52, p53_56, p57_60, ZEROS);\n\n    float v = colors[3];\n\n    gl_Position = position(isContext, v, A, B, C, D);\n\n    fragColor =\n        isContext ? vec4(contextColor) :\n        isPick ? vec4(colors.rgb, 1.0) : texture2D(palette, vec2(abs(v), 0.5));\n}\n"]),f=D(["precision highp float;\n#define GLSLIFY 1\n\nvarying vec4 fragColor;\n\nvoid main() {\n    gl_FragColor = fragColor;\n}\n"]),k=r(25706).maxDimensionCount,M=r(71828),c=new Uint8Array(4),i=new Uint8Array(4),s={shape:[256,1],format:"rgba",type:"uint8",mag:"nearest",min:"nearest"};function a(m,w,x,b,A){var g=m._gl;g.enable(g.SCISSOR_TEST),g.scissor(w,x,b,A),m.clear({color:[0,0,0,0],depth:1})}function o(m,w,x,b,A,g){var I=g.key;x.drawCompleted||(m.read({x:0,y:0,width:1,height:1,data:c}),x.drawCompleted=!0),function S(O){var R=Math.min(b,A-O*b);0===O&&(window.cancelAnimationFrame(x.currentRafs[I]),delete x.currentRafs[I],a(m,g.scissorX,g.scissorY,g.scissorWidth,g.viewBoxSize[1])),x.clearOnly||(g.count=2*R,g.offset=2*O*b,w(g),O*b+R<A&&(x.currentRafs[I]=window.requestAnimationFrame(function(){S(O+1)})),x.drawCompleted=!1)}(0)}function l(m,w){for(var x=new Array(256),b=0;b<256;b++)x[b]=m(b/255).concat(w);return x}function u(m,w){return(m>>>8*w)%256/255}function h(m,w,x){for(var b=new Array(8*w),A=0,g=0;g<w;g++)for(var I=0;I<2;I++)for(var S=0;S<4;S++){var O=4*m+S,R=x[64*g+O];63===O&&0===I&&(R*=-1),b[A++]=R}return b}function v(m){var w="0"+m;return w.substr(w.length-2)}function p(m){return m<k?"p"+v(m+1)+"_"+v(m+4):"colors"}function T(m,w,x,b,A,g,I,S,O,R,L,N,j,X){for(var F=[[],[]],Y=0;Y<64;Y++)F[0][Y]=Y===A?1:0,F[1][Y]=Y===g?1:0;var G=m.lines.canvasOverdrag*X,H=m.domain,W=m.canvasWidth*X,Z=m.canvasHeight*X,se=m.pad.l*X,re=m.pad.b*X,ne=m.layoutHeight*X,Q=m.layoutWidth*X,ee=m.deselectedLines.color,oe=m.deselectedLines.opacity;return M.extendFlat({key:L,resolution:[W,Z],viewBoxPos:[(I*=X)+G,S*=X],viewBoxSize:[O*=X,R*=X],i0:A,i1:g,dim0A:F[0].slice(0,16),dim0B:F[0].slice(16,32),dim0C:F[0].slice(32,48),dim0D:F[0].slice(48,64),dim1A:F[1].slice(0,16),dim1B:F[1].slice(16,32),dim1C:F[1].slice(32,48),dim1D:F[1].slice(48,64),drwLayer:N,contextColor:[ee[0]/255,ee[1]/255,ee[2]/255,"auto"!==oe?ee[3]*oe:Math.max(.00392156862745098,Math.pow(1/m.lines.color.length,.3333333333333333))],scissorX:(b===w?0:I+G)+(se-G)+Q*H.x[0],scissorWidth:(b===x?W-I+G:O+.5)+(b===w?I+G:0),scissorY:S+re+ne*H.y[0],scissorHeight:R,viewportX:se-G+Q*H.x[0],viewportY:re+ne*H.y[0],viewportWidth:W,viewportHeight:Z},j)}function _(m){var w=2047,x=Math.max(0,Math.floor(m[0]*w),0),b=Math.min(w,Math.ceil(m[1]*w),w);return[Math.min(x,b),Math.max(x,b)]}ae.exports=function(m,w){var x,A,g,I,S=w.context,O=w.pick,R=w.regl,L=R._gl,N=L.getParameter(L.ALIASED_LINE_WIDTH_RANGE),j=Math.max(N[0],Math.min(N[1],w.viewModel.plotGlPixelRatio)),X={currentRafs:{},drawCompleted:!0,clearOnly:!1},F=function(Z){for(var se={},re=0;re<=k;re+=4)se[p(re)]=Z.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)});return se}(R),Y=R.texture(s),G=[];W(w);var H=R({profile:!1,blend:{enable:S,func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:1,dstAlpha:1},equation:{rgb:"add",alpha:"add"},color:[0,0,0,0]},depth:{enable:!S,mask:!0,func:"less",range:[0,1]},cull:{enable:!0,face:"back"},scissor:{enable:!0,box:{x:R.prop("scissorX"),y:R.prop("scissorY"),width:R.prop("scissorWidth"),height:R.prop("scissorHeight")}},viewport:{x:R.prop("viewportX"),y:R.prop("viewportY"),width:R.prop("viewportWidth"),height:R.prop("viewportHeight")},dither:!1,vert:E,frag:f,primitive:"lines",lineWidth:j,attributes:F,uniforms:{resolution:R.prop("resolution"),viewBoxPos:R.prop("viewBoxPos"),viewBoxSize:R.prop("viewBoxSize"),dim0A:R.prop("dim0A"),dim1A:R.prop("dim1A"),dim0B:R.prop("dim0B"),dim1B:R.prop("dim1B"),dim0C:R.prop("dim0C"),dim1C:R.prop("dim1C"),dim0D:R.prop("dim0D"),dim1D:R.prop("dim1D"),loA:R.prop("loA"),hiA:R.prop("hiA"),loB:R.prop("loB"),hiB:R.prop("hiB"),loC:R.prop("loC"),hiC:R.prop("hiC"),loD:R.prop("loD"),hiD:R.prop("hiD"),palette:Y,contextColor:R.prop("contextColor"),maskTexture:R.prop("maskTexture"),drwLayer:R.prop("drwLayer"),maskHeight:R.prop("maskHeight")},offset:R.prop("offset"),count:R.prop("count")});function W(Z){x=Z.model,A=Z.viewModel.dimensions.slice(),g=A[0]?A[0].values.length:0;var se=x.lines,re=O?se.color.map(function(Q,ee){return ee/se.color.length}):se.color,ne=function(Q,ee,oe){for(var fe=new Array(Q*(k+4)),le=0,pe=0;pe<Q;pe++){for(var Me=0;Me<k;Me++)fe[le++]=Me<ee.length?ee[Me].paddedUnitValues[pe]:.5;fe[le++]=u(pe,2),fe[le++]=u(pe,1),fe[le++]=u(pe,0),fe[le++]=Math.max(1e-6,Math.min(.999999,oe[pe]))}return fe}(g,A,re);(function(Q,ee,oe){for(var ce=0;ce<=k;ce+=4)Q[p(ce)](h(ce/4,ee,oe))})(F,g,ne),S||O||(Y=R.texture(M.extendFlat({data:l(x.unitToColor,255)},s)))}return{render:function(Z,se,re){var ne,Q,ee,oe=Z.length,ce=1/0,fe=-1/0;for(ne=0;ne<oe;ne++)Z[ne].dim0.canvasX<ce&&(ce=Z[ne].dim0.canvasX,Q=ne),Z[ne].dim1.canvasX>fe&&(fe=Z[ne].dim1.canvasX,ee=ne);0===oe&&a(R,0,0,x.canvasWidth,x.canvasHeight);var le=function(ge){var he,_e,Le,Ie=[[],[]];for(Le=0;Le<64;Le++){var De=!ge&&Le<A.length?A[Le].brush.filter.getBounds():[-1/0,1/0];Ie[0][Le]=De[0],Ie[1][Le]=De[1]}var je=new Array(16384);for(he=0;he<16384;he++)je[he]=255;if(!ge)for(he=0;he<A.length;he++){var qe=he%8,ve=(he-qe)/8,Oe=Math.pow(2,qe),ke=A[he].brush.filter.get();if(!(ke.length<2)){var Be=_(ke[0])[1];for(_e=1;_e<ke.length;_e++){var We=_(ke[_e]);for(Le=Be+1;Le<We[0];Le++)je[8*Le+ve]&=~Oe;Be=Math.max(Be,We[1])}}}var Ge={shape:[8,2048],format:"alpha",type:"uint8",mag:"nearest",min:"nearest",data:je};return I?I(Ge):I=R.texture(Ge),{maskTexture:I,maskHeight:2048,loA:Ie[0].slice(0,16),loB:Ie[0].slice(16,32),loC:Ie[0].slice(32,48),loD:Ie[0].slice(48,64),hiA:Ie[1].slice(0,16),hiB:Ie[1].slice(16,32),hiC:Ie[1].slice(32,48),hiD:Ie[1].slice(48,64)}}(S);for(ne=0;ne<oe;ne++){var pe=Z[ne],Me=pe.dim0.crossfilterDimensionIndex,Ae=pe.dim1.crossfilterDimensionIndex,be=pe.canvasX,ye=pe.canvasY,we=be+pe.panelSizeX,ze=pe.plotGlPixelRatio;if(se||!G[Me]||G[Me][0]!==be||G[Me][1]!==we){G[Me]=[be,we];var Se=T(x,Q,ee,ne,Me,Ae,be,ye,pe.panelSizeX,pe.panelSizeY,pe.dim0.crossfilterDimensionIndex,S?0:O?2:1,le,ze);X.clearOnly=re,o(R,H,X,se?x.lines.blockLineCount:g,g,Se)}}},readPixel:function(Z,se){return R.read({x:Z,y:se,width:1,height:1,data:i}),i},readPixels:function(Z,se,re,ne){var Q=new Uint8Array(4*re*ne);return R.read({x:Z,y:se,width:re,height:ne,data:Q}),Q},destroy:function(){for(var Z in m.style["pointer-events"]="none",Y.destroy(),I&&I.destroy(),F)F[Z].destroy()},update:W}}},94397:function(ae){"use strict";ae.exports=function(B,r,D,E){var f,k;for(E||(E=1/0),f=0;f<r.length;f++)(k=r[f]).visible&&(E=Math.min(E,k[D].length));for(E===1/0&&(E=0),B._length=E,f=0;f<r.length;f++)(k=r[f]).visible&&(k._length=E);return E}},17171:function(ae,B,r){"use strict";var D=r(39898),E=r(71828),f=E.numberFormat,k=r(36652),M=r(89298),y=E.strRotate,c=E.strTranslate,i=r(63893),s=r(91424),a=r(21081),o=r(28984),l=o.keyFun,u=o.repeat,h=o.unwrap,v=r(1602),p=r(25706),T=r(57920),_=r(83398);function m(Y,G,H){return E.aggNums(Y,null,G,H)}function w(Y,G){return b(m(Math.min,Y,G),m(Math.max,Y,G))}function x(Y){var G=Y.range;return G?b(G[0],G[1]):w(Y.values,Y._length)}function b(Y,G){return!isNaN(Y)&&isFinite(Y)||(Y=0),!isNaN(G)&&isFinite(G)||(G=0),Y===G&&(0===Y?(Y-=1,G+=1):(Y*=.9,G*=1.1)),[Y,G]}function A(Y,G,H,W,Z){var se,re,ne=x(H);return W?D.scale.ordinal().domain(W.map((se=f(H.tickformat),re=Z,re?function(Q,ee){return re[ee]??se(Q)}:se))).range(W.map(function(Q){return Y-G+(Q-ne[0])/(ne[1]-ne[0])*(2*G-Y)})):D.scale.linear().domain(ne).range([Y-G,G])}function g(Y){if(Y.tickvals){var G=x(Y);return D.scale.ordinal().domain(Y.tickvals).range(Y.tickvals.map(function(H){return(H-G[0])/(G[1]-G[0])}))}}function I(Y){var G=Y.map(function(Z){return Z[0]}),H=Y.map(function(Z){var se=k(Z[1]);return D.rgb("rgb("+se[0]+","+se[1]+","+se[2]+")")}),W="rgb".split("").map(function(Z){return D.scale.linear().clamp(!0).domain(G).range(H.map((se=Z,function(re){return re[se]})));var se});return function(Z){return W.map(function(se){return se(Z)})}}function S(Y){return Y.dimensions.some(function(G){return G.brush.filterSpecified})}function O(Y,G,H){var W=h(G),Z=W.trace,se=v.convertTypedArray(W.lineColor),re=Z.line,ne={color:k(Z.unselected.line.color),opacity:Z.unselected.line.opacity},Q=a.extractOpts(re),ee=Q.reversescale?a.flipScale(W.cscale):W.cscale,oe=Z.domain,ce=Z.dimensions,fe=Y.width,le=Z.labelangle,pe=Z.labelside,Me=Z.labelfont,Ae=Z.tickfont,be=Z.rangefont,ye=E.extendDeepNoArrays({},re,{color:se.map(D.scale.linear().domain(x({values:se,range:[Q.min,Q.max],_length:Z._length}))),blockLineCount:p.blockLineCount,canvasOverdrag:p.overdrag*p.canvasPixelRatio}),we=Math.floor(fe*(oe.x[1]-oe.x[0])),ze=Math.floor(Y.height*(oe.y[1]-oe.y[0])),Se=Y.margin||{l:80,r:80,t:100,b:80},Ce=we,ge=ze;return{key:H,colCount:ce.filter(v.isVisible).length,dimensions:ce,tickDistance:p.tickDistance,unitToColor:I(ee),lines:ye,deselectedLines:ne,labelAngle:le,labelSide:pe,labelFont:Me,tickFont:Ae,rangeFont:be,layoutWidth:fe,layoutHeight:Y.height,domain:oe,translateX:oe.x[0]*fe,translateY:Y.height-oe.y[1]*Y.height,pad:Se,canvasWidth:Ce*p.canvasPixelRatio+2*ye.canvasOverdrag,canvasHeight:ge*p.canvasPixelRatio,width:Ce,height:ge,canvasPixelRatio:p.canvasPixelRatio}}function R(Y,G,H){var fe,le,W=H.width,Z=H.height,se=H.dimensions,re=H.canvasPixelRatio,ne=function(fe){return W*fe/Math.max(1,H.colCount-1)},Q=p.verticalPadding/Z,ee=(fe=Z,le=p.verticalPadding,D.scale.linear().range([le,fe-le])),oe={key:H.key,xScale:ne,model:H,inBrushDrag:!1},ce={};return oe.dimensions=se.filter(v.isVisible).map(function(fe,le){var De,je,pe=(De=fe,je=Q,D.scale.linear().domain(x(De)).range([je,1-je])),Me=ce[fe.label];ce[fe.label]=(Me||0)+1;var Ae=fe.label+(Me?"__"+Me:""),be=fe.constraintrange,ye=be&&be.length;ye&&!Array.isArray(be[0])&&(be=[be]);var we=ye?be.map(function(De){return De.map(pe)}):[[-1/0,1/0]],ze=fe.values;ze.length>fe._length&&(ze=ze.slice(0,fe._length));var Se,Ce=fe.tickvals;function ge(De,je){return{val:De,text:Se[je]}}function he(De,je){return De.val-je.val}if(Array.isArray(Ce)&&Ce.length){Se=fe.ticktext,Array.isArray(Se)&&Se.length?Se.length>Ce.length?Se=Se.slice(0,Ce.length):Ce.length>Se.length&&(Ce=Ce.slice(0,Se.length)):Se=Ce.map(f(fe.tickformat));for(var _e=1;_e<Ce.length;_e++)if(Ce[_e]<Ce[_e-1]){for(var Le=Ce.map(ge).sort(he),Ie=0;Ie<Ce.length;Ie++)Ce[Ie]=Le[Ie].val,Se[Ie]=Le[Ie].text;break}}else Ce=void 0;return ze=v.convertTypedArray(ze),{key:Ae,label:fe.label,tickFormat:fe.tickformat,tickvals:Ce,ticktext:Se,ordinal:v.isOrdinal(fe),multiselect:fe.multiselect,xIndex:le,crossfilterDimensionIndex:le,visibleIndex:fe._index,height:Z,values:ze,paddedUnitValues:ze.map(pe),unitTickvals:Ce&&Ce.map(pe),xScale:ne,x:ne(le),canvasX:ne(le)*re,unitToPaddedPx:ee,domainScale:A(Z,p.verticalPadding,fe,Ce,Se),ordinalScale:g(fe),parent:oe,model:H,brush:T.makeBrush(Y,ye,we,function(){Y.linePickActive(!1)},function(){var De=oe;De.focusLayer&&De.focusLayer.render(De.panels,!0);var je=S(De);!Y.contextShown()&&je?(De.contextLayer&&De.contextLayer.render(De.panels,!0),Y.contextShown(!0)):Y.contextShown()&&!je&&(De.contextLayer&&De.contextLayer.render(De.panels,!0,!0),Y.contextShown(!1))},function(De){if(oe.focusLayer.render(oe.panels,!0),oe.pickLayer&&oe.pickLayer.render(oe.panels,!0),Y.linePickActive(!0),G&&G.filterChanged){var je=pe.invert,qe=De.map(function(ve){return ve.map(je).sort(E.sorterAsc)}).sort(function(ve,Oe){return ve[0]-Oe[0]});G.filterChanged(oe.key,fe._index,qe)}})}}),oe}function L(Y){Y.classed(p.cn.axisExtentText,!0).attr("text-anchor","middle").style("cursor","default")}function N(Y,G){var W=Y*Math.PI/180;return{dir:"top"===G?1:-1,dx:Math.sin(W),dy:Math.cos(W),degrees:Y}}function j(Y,G,H){for(var W=G.panels||(G.panels=[]),Z=Y.data(),se=0;se<Z.length-1;se++){var re=W[se]||(W[se]={}),ne=Z[se],Q=Z[se+1];re.dim0=ne,re.dim1=Q,re.canvasX=ne.canvasX,re.panelSizeX=Q.canvasX-ne.canvasX,re.panelSizeY=G.model.canvasHeight,re.y=0,re.canvasY=0,re.plotGlPixelRatio=H}}function X(Y,G){return M.tickText(Y._ax,G,!1).text}function F(Y,G){if(Y.ordinal)return"";var H=Y.domainScale.domain();return X(Y.model.dimensions[Y.visibleIndex],H[G?H.length-1:0])}ae.exports=function(Y,G,H,W){var Z=Y._context.staticPlot,se=Y._fullLayout,re=se._toppaper,ne=se._glcontainer,Q=Y._context.plotGlPixelRatio,ee=Y._fullLayout.paper_bgcolor;!function(De){for(var je=0;je<De.length;je++)for(var qe=0;qe<De[je].length;qe++)for(var ve=De[je][qe].trace,Oe=ve.dimensions,ke=0;ke<Oe.length;ke++){var Be=Oe[ke].values,We=Oe[ke]._ax;We&&(We.range=We.range?b(We.range[0],We.range[1]):w(Be,ve._length),We.dtick||(We.dtick=.01*(Math.abs(We.range[1]-We.range[0])||1)),We.tickformat=Oe[ke].tickformat,M.calcTicks(We),We.cleanRange())}}(G);var oe,ce,fe=(oe=!0,ce=!1,{linePickActive:function(De){return arguments.length?oe=!!De:oe},contextShown:function(De){return arguments.length?ce=!!De:ce}}),le=G.filter(function(De){return h(De).trace.visible}).map(O.bind(0,H)).map(R.bind(0,fe,W));ne.each(function(De,je){return E.extendFlat(De,le[je])});var pe=ne.selectAll(".gl-canvas").each(function(De){De.viewModel=le[0],De.viewModel.plotGlPixelRatio=Q,De.viewModel.paperColor=ee,De.model=De.viewModel?De.viewModel.model:null}),Me=null;pe.filter(function(De){return De.pick}).style("pointer-events",Z?"none":"auto").on("mousemove",function(De){if(fe.linePickActive()&&De.lineLayer&&W&&W.hover){var je=D.event,qe=this.width,ve=this.height,Oe=D.mouse(this),ke=Oe[0],Be=Oe[1];if(ke<0||Be<0||ke>=qe||Be>=ve)return;var We=De.lineLayer.readPixel(ke,ve-1-Be),Ge=0!==We[3],Ke=Ge?We[2]+256*(We[1]+256*We[0]):null,et={x:ke,y:Be,clientX:je.clientX,clientY:je.clientY,dataIndex:De.model.key,curveNumber:Ke};Ke!==Me&&(Ge?W.hover(et):W.unhover&&W.unhover(et),Me=Ke)}}),pe.style("opacity",function(De){return De.pick?0:1}),re.style("background","rgba(255, 255, 255, 0)");var Ae=re.selectAll("."+p.cn.parcoords).data(le,l);Ae.exit().remove(),Ae.enter().append("g").classed(p.cn.parcoords,!0).style("shape-rendering","crispEdges").style("pointer-events","none"),Ae.attr("transform",function(De){return c(De.model.translateX,De.model.translateY)});var be=Ae.selectAll("."+p.cn.parcoordsControlView).data(u,l);be.enter().append("g").classed(p.cn.parcoordsControlView,!0),be.attr("transform",function(De){return c(De.model.pad.l,De.model.pad.t)});var ye=be.selectAll("."+p.cn.yAxis).data(function(De){return De.dimensions},l);ye.enter().append("g").classed(p.cn.yAxis,!0),be.each(function(De){j(ye,De,Q)}),pe.each(function(De){De.viewModel&&(!De.lineLayer||W?De.lineLayer=_(this,De):De.lineLayer.update(De),(De.key||0===De.key)&&(De.viewModel[De.key]=De.lineLayer),De.lineLayer.render(De.viewModel.panels,!De.context||W))}),ye.attr("transform",function(De){return c(De.xScale(De.xIndex),0)}),ye.call(D.behavior.drag().origin(function(De){return De}).on("drag",function(De){var je=De.parent;fe.linePickActive(!1),De.x=Math.max(-p.overdrag,Math.min(De.model.width+p.overdrag,D.event.x)),De.canvasX=De.x*De.model.canvasPixelRatio,ye.sort(function(qe,ve){return qe.x-ve.x}).each(function(qe,ve){qe.xIndex=ve,qe.x=De===qe?qe.x:qe.xScale(qe.xIndex),qe.canvasX=qe.x*qe.model.canvasPixelRatio}),j(ye,je,Q),ye.filter(function(qe){return 0!==Math.abs(De.xIndex-qe.xIndex)}).attr("transform",function(qe){return c(qe.xScale(qe.xIndex),0)}),D.select(this).attr("transform",c(De.x,0)),ye.each(function(qe,ve,Oe){Oe===De.parent.key&&(je.dimensions[ve]=qe)}),je.contextLayer&&je.contextLayer.render(je.panels,!1,!S(je)),je.focusLayer.render&&je.focusLayer.render(je.panels)}).on("dragend",function(De){var je=De.parent;De.x=De.xScale(De.xIndex),De.canvasX=De.x*De.model.canvasPixelRatio,j(ye,je,Q),D.select(this).attr("transform",function(qe){return c(qe.x,0)}),je.contextLayer&&je.contextLayer.render(je.panels,!1,!S(je)),je.focusLayer&&je.focusLayer.render(je.panels),je.pickLayer&&je.pickLayer.render(je.panels,!0),fe.linePickActive(!0),W&&W.axesMoved&&W.axesMoved(je.key,je.dimensions.map(function(qe){return qe.crossfilterDimensionIndex}))})),ye.exit().remove();var we=ye.selectAll("."+p.cn.axisOverlays).data(u,l);we.enter().append("g").classed(p.cn.axisOverlays,!0),we.selectAll("."+p.cn.axis).remove();var ze=we.selectAll("."+p.cn.axis).data(u,l);ze.enter().append("g").classed(p.cn.axis,!0),ze.each(function(De){var je=De.model.height/De.model.tickDistance,qe=De.domainScale,ve=qe.domain();D.select(this).call(D.svg.axis().orient("left").tickSize(4).outerTickSize(2).ticks(je,De.tickFormat).tickValues(De.ordinal?ve:null).tickFormat(function(Oe){return v.isOrdinal(De)?Oe:X(De.model.dimensions[De.visibleIndex],Oe)}).scale(qe)),s.font(ze.selectAll("text"),De.model.tickFont)}),ze.selectAll(".domain, .tick>line").attr("fill","none").attr("stroke","black").attr("stroke-opacity",.25).attr("stroke-width","1px"),ze.selectAll("text").style("text-shadow",i.makeTextShadow(ee)).style("cursor","default");var Se=we.selectAll("."+p.cn.axisHeading).data(u,l);Se.enter().append("g").classed(p.cn.axisHeading,!0);var Ce=Se.selectAll("."+p.cn.axisTitle).data(u,l);Ce.enter().append("text").classed(p.cn.axisTitle,!0).attr("text-anchor","middle").style("cursor","ew-resize").style("pointer-events",Z?"none":"auto"),Ce.text(function(De){return De.label}).each(function(De){var je=D.select(this);s.font(je,De.model.labelFont),i.convertToTspans(je,Y)}).attr("transform",function(De){var je=N(De.model.labelAngle,De.model.labelSide),qe=p.axisTitleOffset;return(je.dir>0?"":c(0,2*qe+De.model.height))+y(je.degrees)+c(-qe*je.dx,-qe*je.dy)}).attr("text-anchor",function(De){var je=N(De.model.labelAngle,De.model.labelSide);return 2*Math.abs(je.dx)>Math.abs(je.dy)?je.dir*je.dx<0?"start":"end":"middle"});var ge=we.selectAll("."+p.cn.axisExtent).data(u,l);ge.enter().append("g").classed(p.cn.axisExtent,!0);var he=ge.selectAll("."+p.cn.axisExtentTop).data(u,l);he.enter().append("g").classed(p.cn.axisExtentTop,!0),he.attr("transform",c(0,-p.axisExtentOffset));var _e=he.selectAll("."+p.cn.axisExtentTopText).data(u,l);_e.enter().append("text").classed(p.cn.axisExtentTopText,!0).call(L),_e.text(function(De){return F(De,!0)}).each(function(De){s.font(D.select(this),De.model.rangeFont)});var Le=ge.selectAll("."+p.cn.axisExtentBottom).data(u,l);Le.enter().append("g").classed(p.cn.axisExtentBottom,!0),Le.attr("transform",function(De){return c(0,De.model.height+p.axisExtentOffset)});var Ie=Le.selectAll("."+p.cn.axisExtentBottomText).data(u,l);Ie.enter().append("text").classed(p.cn.axisExtentBottomText,!0).attr("dy","0.75em").call(L),Ie.text(function(De){return F(De,!1)}).each(function(De){s.font(D.select(this),De.model.rangeFont)}),T.ensureAxisBrush(we,ee,Y)}},21341:function(ae,B,r){"use strict";var D=r(17171),E=r(79749),f=r(1602).isVisible,k={};function M(y,c,i){var s=c.indexOf(i),a=y.indexOf(s);return-1===a&&(a+=c.length),a}(ae.exports=function(y,c){var i=y._fullLayout;if(E(y,[],k)){var s={},a={},o={},l={},u=i._size;c.forEach(function(h,v){var p=h[0].trace;o[v]=p.index;var T=l[v]=p._fullInput.index;s[v]=y.data[T].dimensions,a[v]=y.data[T].dimensions.slice()}),D(y,c,{width:u.w,height:u.h,margin:{t:u.t,r:u.r,b:u.b,l:u.l}},{filterChanged:function(h,v,p){var T=a[h][v],_=p.map(function(g){return g.slice()}),m="dimensions["+v+"].constraintrange",w=i._tracePreGUI[y._fullData[o[h]]._fullInput.uid];void 0===w[m]&&(w[m]=T.constraintrange||null);var b=y._fullData[o[h]].dimensions[v];_.length?(1===_.length&&(_=_[0]),T.constraintrange=_,b.constraintrange=_.slice(),_=[_]):(delete T.constraintrange,delete b.constraintrange,_=null);var A={};A[m]=_,y.emit("plotly_restyle",[A,[l[h]]])},hover:function(h){y.emit("plotly_hover",h)},unhover:function(h){y.emit("plotly_unhover",h)},axesMoved:function(h,v){var T,_,p=(T=v,_=a[h].filter(f),function(m,w){return M(T,_,m)-M(T,_,w)});s[h].sort(p),a[h].filter(function(T){return!f(T)}).sort(function(T){return a[h].indexOf(T)}).forEach(function(T){s[h].splice(s[h].indexOf(T),1),s[h].splice(a[h].indexOf(T),0,T)}),y.emit("plotly_restyle",[{dimensions:[s[h]]},[l[h]]])}})}}).reglPrecompiled=k},34e3:function(ae,B,r){"use strict";var D=r(9012),E=r(27670).Y,f=r(41940),k=r(22399),M=r(5386).fF,y=r(5386).si,c=r(1426).extendFlat,i=r(79952).u,s=f({editType:"plot",arrayOk:!0,colorEditType:"plot"});ae.exports={labels:{valType:"data_array",editType:"calc"},label0:{valType:"number",dflt:0,editType:"calc"},dlabel:{valType:"number",dflt:1,editType:"calc"},values:{valType:"data_array",editType:"calc"},marker:{colors:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:k.defaultLine,arrayOk:!0,editType:"style"},width:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"style"},editType:"calc"},pattern:i,editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},scalegroup:{valType:"string",dflt:"",editType:"calc"},textinfo:{valType:"flaglist",flags:["label","text","value","percent"],extras:["none"],editType:"calc"},hoverinfo:c({},D.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:M({},{keys:["label","color","value","percent","text"]}),texttemplate:y({editType:"plot"},{keys:["label","color","value","percent","text"]}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"plot"},textfont:c({},s,{}),insidetextorientation:{valType:"enumerated",values:["horizontal","radial","tangential","auto"],dflt:"auto",editType:"plot"},insidetextfont:c({},s,{}),outsidetextfont:c({},s,{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},title:{text:{valType:"string",dflt:"",editType:"plot"},font:c({},s,{}),position:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"plot"},editType:"plot"},domain:E({name:"pie",trace:!0,editType:"calc"}),hole:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},sort:{valType:"boolean",dflt:!0,editType:"calc"},direction:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"angle",dflt:0,editType:"calc"},pull:{valType:"number",min:0,max:1,dflt:0,arrayOk:!0,editType:"calc"},_deprecated:{title:{valType:"string",dflt:"",editType:"calc"},titlefont:c({},s,{}),titleposition:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"calc"}}}},13584:function(ae,B,r){"use strict";var D=r(74875);B.name="pie",B.plot=function(E,f,k,M){D.plotBasePlot(B.name,E,f,k,M)},B.clean=function(E,f,k,M){D.cleanBasePlot(B.name,E,f,k,M)}},32354:function(ae,B,r){"use strict";var D=r(92770),E=r(84267),f=r(7901),k={};function M(c){return function(i,s){return!!i&&!!(i=E(i)).isValid()&&(i=f.addOpacity(i,i.getAlpha()),c[s]||(c[s]=i),i)}}function y(c,i){var s,a=JSON.stringify(c),o=i[a];if(!o){for(o=c.slice(),s=0;s<c.length;s++)o.push(E(c[s]).lighten(20).toHexString());for(s=0;s<c.length;s++)o.push(E(c[s]).darken(20).toHexString());i[a]=o}return o}ae.exports={calc:function(c,i){var s,a,o=[],l=c._fullLayout,u=l.hiddenlabels||[],h=i.labels,v=i.marker.colors||[],p=i.values,T=i._length,_=i._hasValues&&T;if(i.dlabel)for(h=new Array(T),s=0;s<T;s++)h[s]=String(i.label0+s*i.dlabel);var m={},w=M(l["_"+i.type+"colormap"]),x=0,b=!1;for(s=0;s<T;s++){var A,g,I;if(_){if(!D(A=p[s]))continue;A=+A}else A=1;void 0!==(g=h[s])&&""!==g||(g=s);var S=m[g=String(g)];void 0===S?(m[g]=o.length,(I=-1!==u.indexOf(g))||(x+=A),o.push({v:A,label:g,color:w(v[s],g),i:s,pts:[s],hidden:I})):(b=!0,(a=o[S]).v+=A,a.pts.push(s),a.hidden||(x+=A),!1===a.color&&v[s]&&(a.color=w(v[s],g)))}return o=o.filter(function(O){return O.v>=0}),("funnelarea"===i.type?b:i.sort)&&o.sort(function(O,R){return R.v-O.v}),o[0]&&(o[0].vTotal=x),o},crossTraceCalc:function(c,i){var s=(i||{}).type;s||(s="pie");var a=c._fullLayout,o=c.calcdata,l=a[s+"colorway"],u=a["_"+s+"colormap"];a["extend"+s+"colors"]&&(l=y(l,k));for(var h=0,v=0;v<o.length;v++){var p=o[v];if(p[0].trace.type===s)for(var T=0;T<p.length;T++){var _=p[T];!1===_.color&&(u[_.label]?_.color=u[_.label]:(u[_.label]=_.color=l[h%l.length],h++))}}},makePullColorFn:M,generateExtendedColors:y}},37434:function(ae,B,r){"use strict";var D=r(92770),E=r(71828),f=r(34e3),k=r(27670).c,M=r(90769).handleText,y=r(71828).coercePattern;function c(s,a){var o=Array.isArray(s),l=E.isArrayOrTypedArray(a),u=Math.min(o?s.length:1/0,l?a.length:1/0);if(isFinite(u)||(u=0),u&&l){for(var h,v=0;v<u;v++){var p=a[v];if(D(p)&&p>0){h=!0;break}}h||(u=0)}return{hasLabels:o,hasValues:l,len:u}}function i(s,a,o,l,u){l("marker.line.width")&&l("marker.line.color",u?void 0:o.paper_bgcolor);var h=l("marker.colors");y(l,"marker.pattern",h),s.marker&&!a.marker.pattern.fgcolor&&(a.marker.pattern.fgcolor=s.marker.colors),a.marker.pattern.bgcolor||(a.marker.pattern.bgcolor=o.paper_bgcolor)}ae.exports={handleLabelsAndValues:c,handleMarkerDefaults:i,supplyDefaults:function(s,a,o,l){function u(b,A){return E.coerce(s,a,f,b,A)}var h=c(u("labels"),u("values")),v=h.len;if(a._hasLabels=h.hasLabels,a._hasValues=h.hasValues,!a._hasLabels&&a._hasValues&&(u("label0"),u("dlabel")),v){a._length=v,i(s,a,l,u,!0),u("scalegroup");var p,T=u("text"),_=u("texttemplate");if(_||(p=u("textinfo",Array.isArray(T)?"text+percent":"percent")),u("hovertext"),u("hovertemplate"),_||p&&"none"!==p){var m=u("textposition");M(s,a,l,u,m,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),(Array.isArray(m)||"auto"===m||"outside"===m)&&u("automargin"),("inside"===m||"auto"===m||Array.isArray(m))&&u("insidetextorientation")}k(a,l,u);var w=u("hole");if(u("title.text")){var x=u("title.position",w?"middle center":"top center");w||"middle center"!==x||(a.title.position="top center"),E.coerceFont(u,"title.font",l.font)}u("sort"),u("direction"),u("rotation"),u("pull")}else a.visible=!1}}},20007:function(ae,B,r){"use strict";var D=r(23469).appendArrayMultiPointValues;ae.exports=function(E,f){var k={curveNumber:f.index,pointNumbers:E.pts,data:f._input,fullData:f,label:E.label,color:E.color,value:E.v,percent:E.percent,text:E.text,bbox:E.bbox,v:E.v};return 1===E.pts.length&&(k.pointNumber=k.i=E.pts[0]),D(k,f,E.pts),"funnelarea"===f.type&&(delete k.v,delete k.i),k}},22209:function(ae,B,r){"use strict";var D=r(91424),E=r(7901);ae.exports=function(f,k,M,y){var c=M.marker.pattern;c&&c.shape?D.pointStyle(f,M,y,k):E.fill(f,k.color)}},53581:function(ae,B,r){"use strict";var D=r(71828);function E(f){return-1!==f.indexOf("e")?f.replace(/[.]?0+e/,"e"):-1!==f.indexOf(".")?f.replace(/[.]?0+$/,""):f}B.formatPiePercent=function(f,k){var M=E((100*f).toPrecision(3));return D.numSeparate(M,k)+"%"},B.formatPieValue=function(f,k){var M=E(f.toPrecision(10));return D.numSeparate(M,k)},B.getFirstFilled=function(f,k){if(Array.isArray(f))for(var M=0;M<k.length;M++){var y=f[k[M]];if(y||0===y||""===y)return y}},B.castOption=function(f,k){return Array.isArray(f)?B.getFirstFilled(f,k):f||void 0},B.getRotationAngle=function(f){return("auto"===f?0:f)*Math.PI/180}},58810:function(ae,B,r){"use strict";ae.exports={attributes:r(34e3),supplyDefaults:r(37434).supplyDefaults,supplyLayoutDefaults:r(92097),layoutAttributes:r(92774),calc:r(32354).calc,crossTraceCalc:r(32354).crossTraceCalc,plot:r(14575).plot,style:r(68357),styleOne:r(63463),moduleType:"trace",name:"pie",basePlotModule:r(13584),categories:["pie-like","pie","showLegend"],meta:{}}},92774:function(ae){"use strict";ae.exports={hiddenlabels:{valType:"data_array",editType:"calc"},piecolorway:{valType:"colorlist",editType:"calc"},extendpiecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},92097:function(ae,B,r){"use strict";var D=r(71828),E=r(92774);ae.exports=function(f,k){function M(y,c){return D.coerce(f,k,E,y,c)}M("hiddenlabels"),M("piecolorway",k.colorway),M("extendpiecolors")}},14575:function(ae,B,r){"use strict";var D=r(39898),E=r(74875),f=r(30211),k=r(7901),M=r(91424),y=r(71828),c=y.strScale,i=y.strTranslate,s=r(63893),a=r(72597),o=a.recordMinTextSize,l=a.clearMinTextSize,u=r(97313).TEXTPAD,h=r(53581),v=r(20007),p=r(71828).isValidTextValue;function T(G,H,W){var Z=W[0],se=Z.cx,re=Z.cy,ne=Z.trace,Q="funnelarea"===ne.type;"_hasHoverLabel"in ne||(ne._hasHoverLabel=!1),"_hasHoverEvent"in ne||(ne._hasHoverEvent=!1),G.on("mouseover",function(ee){var oe=H._fullLayout,ce=H._fullData[ne.index];if(!H._dragging&&!1!==oe.hovermode){var fe=ce.hoverinfo;if(Array.isArray(fe)&&(fe=f.castHoverinfo({hoverinfo:[h.castOption(fe,ee.pts)],_module:ne._module},oe,0)),"all"===fe&&(fe="label+text+value+percent+name"),ce.hovertemplate||"none"!==fe&&"skip"!==fe&&fe){var le=ee.rInscribed||0,pe=se+ee.pxmid[0]*(1-le),Me=re+ee.pxmid[1]*(1-le),Ae=oe.separators,be=[];if(fe&&-1!==fe.indexOf("label")&&be.push(ee.label),ee.text=h.castOption(ce.hovertext||ce.text,ee.pts),fe&&-1!==fe.indexOf("text")){var ye=ee.text;y.isValidTextValue(ye)&&be.push(ye)}ee.value=ee.v,ee.valueLabel=h.formatPieValue(ee.v,Ae),fe&&-1!==fe.indexOf("value")&&be.push(ee.valueLabel),ee.percent=ee.v/Z.vTotal,ee.percentLabel=h.formatPiePercent(ee.percent,Ae),fe&&-1!==fe.indexOf("percent")&&be.push(ee.percentLabel);var we=ce.hoverlabel,ze=we.font,Se=[];f.loneHover({trace:ne,x0:pe-le*Z.r,x1:pe+le*Z.r,y:Me,_x0:Q?se+ee.TL[0]:pe-le*Z.r,_x1:Q?se+ee.TR[0]:pe+le*Z.r,_y0:Q?re+ee.TL[1]:Me-le*Z.r,_y1:Q?re+ee.BL[1]:Me+le*Z.r,text:be.join("<br>"),name:ce.hovertemplate||-1!==fe.indexOf("name")?ce.name:void 0,idealAlign:ee.pxmid[0]<0?"left":"right",color:h.castOption(we.bgcolor,ee.pts)||ee.color,borderColor:h.castOption(we.bordercolor,ee.pts),fontFamily:h.castOption(ze.family,ee.pts),fontSize:h.castOption(ze.size,ee.pts),fontColor:h.castOption(ze.color,ee.pts),nameLength:h.castOption(we.namelength,ee.pts),textAlign:h.castOption(we.align,ee.pts),hovertemplate:h.castOption(ce.hovertemplate,ee.pts),hovertemplateLabels:ee,eventData:[v(ee,ce)]},{container:oe._hoverlayer.node(),outerContainer:oe._paper.node(),gd:H,inOut_bbox:Se}),ee.bbox=Se[0],ne._hasHoverLabel=!0}ne._hasHoverEvent=!0,H.emit("plotly_hover",{points:[v(ee,ce)],event:D.event})}}),G.on("mouseout",function(ee){var oe=H._fullLayout,ce=H._fullData[ne.index],fe=D.select(this).datum();ne._hasHoverEvent&&(ee.originalEvent=D.event,H.emit("plotly_unhover",{points:[v(fe,ce)],event:D.event}),ne._hasHoverEvent=!1),ne._hasHoverLabel&&(f.loneUnhover(oe._hoverlayer.node()),ne._hasHoverLabel=!1)}),G.on("click",function(ee){H._dragging||!1===H._fullLayout.hovermode||(H._hoverdata=[v(ee,H._fullData[ne.index])],f.click(H,D.event))})}function _(G,H,W){var Z=h.castOption(G.insidetextfont.color,H.pts);!Z&&G._input.textfont&&(Z=h.castOption(G._input.textfont.color,H.pts));var se=h.castOption(G.insidetextfont.family,H.pts)||h.castOption(G.textfont.family,H.pts)||W.family,re=h.castOption(G.insidetextfont.size,H.pts)||h.castOption(G.textfont.size,H.pts)||W.size;return{color:Z||k.contrast(H.color),family:se,size:re}}function m(G,H){for(var W,Z,se=0;se<G.length;se++)if((Z=(W=G[se][0]).trace).title.text){var re=Z.title.text;Z._meta&&(re=y.templateString(re,Z._meta));var ne=M.tester.append("text").attr("data-notex",1).text(re).call(M.font,Z.title.font).call(s.convertToTspans,H),Q=M.bBox(ne.node(),!0);W.titleBox={width:Q.width,height:Q.height},ne.remove()}}function w(G,H,W){var Z=W.r||H.rpx1,se=H.rInscribed;if(H.startangle===H.stopangle)return{rCenter:1-se,scale:0,rotate:0,textPosAngle:0};var re,ne=H.ring,Q=1===ne&&Math.abs(H.startangle-H.stopangle)===2*Math.PI,ee=H.halfangle,oe=H.midangle,ce=W.trace.insidetextorientation,fe="horizontal"===ce,le="tangential"===ce,pe="radial"===ce,Me="auto"===ce,Ae=[];if(!Me){var be,ye=function(he,_e){if(Oe=(je=H).stopangle,(ve=je.startangle)>(qe=he)&&qe>Oe||ve<qe&&qe<Oe){var Le=Math.abs(he-H.startangle),Ie=Math.abs(he-H.stopangle),De=Le<Ie?Le:Ie;(re="tan"===_e?b(G,Z,ne,De,0):x(G,Z,ne,De,Math.PI/2)).textPosAngle=he,Ae.push(re)}var je,qe,ve,Oe};if(fe||le){for(be=4;be>=-4;be-=2)ye(Math.PI*be,"tan");for(be=4;be>=-4;be-=2)ye(Math.PI*(be+1),"tan")}if(fe||pe){for(be=4;be>=-4;be-=2)ye(Math.PI*(be+1.5),"rad");for(be=4;be>=-4;be-=2)ye(Math.PI*(be+.5),"rad")}}if(Q||Me||fe){var we=Math.sqrt(G.width*G.width+G.height*G.height);if((re={scale:se*Z*2/we,rCenter:1-se,rotate:0}).textPosAngle=(H.startangle+H.stopangle)/2,re.scale>=1)return re;Ae.push(re)}(Me||pe)&&((re=x(G,Z,ne,ee,oe)).textPosAngle=(H.startangle+H.stopangle)/2,Ae.push(re)),(Me||le)&&((re=b(G,Z,ne,ee,oe)).textPosAngle=(H.startangle+H.stopangle)/2,Ae.push(re));for(var ze=0,Se=0,Ce=0;Ce<Ae.length;Ce++){var ge=Ae[Ce].scale;if(Se<ge&&(Se=ge,ze=Ce),!Me&&Se>=1)break}return Ae[ze]}function x(G,H,W,Z,se){H=Math.max(0,H-2*u);var re=G.width/G.height,ne=I(re,Z,H,W);return{scale:2*ne/G.height,rCenter:A(re,ne/H),rotate:g(se)}}function b(G,H,W,Z,se){H=Math.max(0,H-2*u);var re=G.height/G.width,ne=I(re,Z,H,W);return{scale:2*ne/G.width,rCenter:A(re,ne/H),rotate:g(se+Math.PI/2)}}function A(G,H){return Math.cos(H)-G*H}function g(G){return(180/Math.PI*G+720)%180-90}function I(G,H,W,Z){var se=G+1/(2*Math.tan(H));return W*Math.min(1/(Math.sqrt(se*se+.5)+se),Z/(Math.sqrt(G*G+Z/2)+G))}function S(G,H){return G.v!==H.vTotal||H.trace.hole?Math.min(1/(1+1/Math.sin(G.halfangle)),G.ring/2):1}function O(G,H){var W=H.pxmid[0],Z=H.pxmid[1],se=G.width/2,re=G.height/2;return W<0&&(se*=-1),Z<0&&(re*=-1),{scale:1,rCenter:1,rotate:0,x:se+Math.abs(re)*(se>0?1:-1)/2,y:re/(1+W*W/(Z*Z)),outside:!0}}function R(G,H){var W,Z,se,re=G.trace,ne={x:G.cx,y:G.cy},Q={tx:0,ty:0};Q.ty+=re.title.font.size,se=N(re),-1!==re.title.position.indexOf("top")?(ne.y-=(1+se)*G.r,Q.ty-=G.titleBox.height):-1!==re.title.position.indexOf("bottom")&&(ne.y+=(1+se)*G.r);var ee,oe=G.r/(void 0===(ee=G.trace.aspectratio)?1:ee),ce=H.w*(re.domain.x[1]-re.domain.x[0])/2;return-1!==re.title.position.indexOf("left")?(ce+=oe,ne.x-=(1+se)*oe,Q.tx+=G.titleBox.width/2):-1!==re.title.position.indexOf("center")?ce*=2:-1!==re.title.position.indexOf("right")&&(ce+=oe,ne.x+=(1+se)*oe,Q.tx-=G.titleBox.width/2),W=ce/G.titleBox.width,Z=L(G,H)/G.titleBox.height,{x:ne.x,y:ne.y,scale:Math.min(W,Z),tx:Q.tx,ty:Q.ty}}function L(G,H){var W=G.trace;return Math.min(G.titleBox.height,H.h*(W.domain.y[1]-W.domain.y[0])/2)}function N(G){var H,W=G.pull;if(!W)return 0;if(Array.isArray(W))for(W=0,H=0;H<G.pull.length;H++)G.pull[H]>W&&(W=G.pull[H]);return W}function j(G,H){for(var W=[],Z=0;Z<G.length;Z++){var se=G[Z][0],re=se.trace,ne=re.domain,Q=H.w*(ne.x[1]-ne.x[0]),ee=H.h*(ne.y[1]-ne.y[0]);re.title.text&&"middle center"!==re.title.position&&(ee-=L(se,H));var ce=ee/2;"funnelarea"!==re.type||re.scalegroup||(ce/=re.aspectratio),se.r=Math.min(Q/2,ce)/(1+N(re)),se.cx=H.l+H.w*(re.domain.x[1]+re.domain.x[0])/2,se.cy=H.t+H.h*(1-re.domain.y[0])-ee/2,re.title.text&&-1!==re.title.position.indexOf("bottom")&&(se.cy-=L(se,H)),re.scalegroup&&-1===W.indexOf(re.scalegroup)&&W.push(re.scalegroup)}!function(fe,le){for(var pe,Me,Ae,be=0;be<le.length;be++){var ye=1/0,we=le[be];for(Me=0;Me<fe.length;Me++)if((Ae=(pe=fe[Me][0]).trace).scalegroup===we){var ze;if("pie"===Ae.type)ze=pe.r*pe.r;else if("funnelarea"===Ae.type){var Se,Ce;Ae.aspectratio>1?Ce=(Se=pe.r)/Ae.aspectratio:Se=(Ce=pe.r)*Ae.aspectratio,ze=(Se*=(1+Ae.baseratio)/2)*Ce}ye=Math.min(ye,ze/pe.vTotal)}for(Me=0;Me<fe.length;Me++)if((Ae=(pe=fe[Me][0]).trace).scalegroup===we){var ge=ye*pe.vTotal;"funnelarea"===Ae.type&&(ge/=(1+Ae.baseratio)/2,ge/=Ae.aspectratio),pe.r=Math.sqrt(ge)}}}(G,W)}function X(G,H){return[G*Math.sin(H),-G*Math.cos(H)]}function F(G,H,W){var ze,Z=G._fullLayout,se=W.trace,re=se.texttemplate,ne=se.textinfo;if(!re&&ne&&"none"!==ne){var Q,ee=ne.split("+"),oe=function(ze){return-1!==ee.indexOf(ze)},ce=oe("label"),fe=oe("text"),le=oe("value"),pe=oe("percent"),Me=Z.separators;if(Q=ce?[H.label]:[],fe){var Ae=h.getFirstFilled(se.text,H.pts);p(Ae)&&Q.push(Ae)}le&&Q.push(h.formatPieValue(H.v,Me)),pe&&Q.push(h.formatPiePercent(H.v/W.vTotal,Me)),H.text=Q.join("<br>")}if(re){var be=y.castOption(se,H.i,"texttemplate");if(be){var ye={label:(ze=H).label,value:ze.v,valueLabel:h.formatPieValue(ze.v,Z.separators),percent:ze.v/W.vTotal,percentLabel:h.formatPiePercent(ze.v/W.vTotal,Z.separators),color:ze.color,text:ze.text,customdata:y.castOption(se,ze.i,"customdata")},we=h.getFirstFilled(se.text,H.pts);(p(we)||""===we)&&(ye.text=we),H.text=y.texttemplateString(be,ye,G._fullLayout._d3locale,ye,se._meta||{})}else H.text=""}}function Y(G,H){var W=G.rotate*Math.PI/180,Z=Math.cos(W),se=Math.sin(W),re=(H.left+H.right)/2,ne=(H.top+H.bottom)/2;G.textX=re*Z-ne*se,G.textY=re*se+ne*Z,G.noCenter=!0}ae.exports={plot:function(G,H){var W=G._context.staticPlot,Z=G._fullLayout,se=Z._size;l("pie",Z),m(H,G),j(H,se);var re=y.makeTraceGroups(Z._pielayer,H,"trace").each(function(ne){var Q=D.select(this),ee=ne[0],oe=ee.trace;(function(ce){var fe,le,pe,Me=ce[0],Ae=Me.r,be=Me.trace,ye=h.getRotationAngle(be.rotation),we=2*Math.PI/Me.vTotal,ze="px0",Se="px1";if("counterclockwise"===be.direction){for(fe=0;fe<ce.length&&ce[fe].hidden;fe++);if(fe===ce.length)return;ye+=we*ce[fe].v,we*=-1,ze="px1",Se="px0"}for(pe=X(Ae,ye),fe=0;fe<ce.length;fe++)(le=ce[fe]).hidden||(le[ze]=pe,le.startangle=ye,le.pxmid=X(Ae,ye+=we*le.v/2),le.midangle=ye,pe=X(Ae,ye+=we*le.v/2),le.stopangle=ye,le[Se]=pe,le.largeArc=le.v>Me.vTotal/2?1:0,le.halfangle=Math.PI*Math.min(le.v/Me.vTotal,.5),le.ring=1-be.hole,le.rInscribed=S(le,Me))})(ne),Q.attr("stroke-linejoin","round"),Q.each(function(){var ce=D.select(this).selectAll("g.slice").data(ne);ce.enter().append("g").classed("slice",!0),ce.exit().remove();var fe=[[[],[]],[[],[]]],le=!1;ce.each(function(Se,Ce){if(Se.hidden)D.select(this).selectAll("path,g").remove();else{Se.pointNumber=Se.i,Se.curveNumber=oe.index,fe[Se.pxmid[1]<0?0:1][Se.pxmid[0]<0?0:1].push(Se);var ge=ee.cx,he=ee.cy,_e=D.select(this),Le=_e.selectAll("path.surface").data([Se]);if(Le.enter().append("path").classed("surface",!0).style({"pointer-events":W?"none":"all"}),_e.call(T,G,ne),oe.pull){var Ie=+h.castOption(oe.pull,Se.pts)||0;Ie>0&&(ge+=Ie*Se.pxmid[0],he+=Ie*Se.pxmid[1])}Se.cxFinal=ge,Se.cyFinal=he;var De=oe.hole;if(Se.v===ee.vTotal){var je="M"+(ge+Se.px0[0])+","+(he+Se.px0[1])+Be(Se.px0,Se.pxmid,!0,1)+Be(Se.pxmid,Se.px0,!0,1)+"Z";Le.attr("d",De?"M"+(ge+De*Se.px0[0])+","+(he+De*Se.px0[1])+Be(Se.px0,Se.pxmid,!1,De)+Be(Se.pxmid,Se.px0,!1,De)+"Z"+je:je)}else{var qe=Be(Se.px0,Se.px1,!0,1);if(De){var ve=1-De;Le.attr("d","M"+(ge+De*Se.px1[0])+","+(he+De*Se.px1[1])+Be(Se.px1,Se.px0,!1,De)+"l"+ve*Se.px0[0]+","+ve*Se.px0[1]+qe+"Z")}else Le.attr("d","M"+ge+","+he+"l"+Se.px0[0]+","+Se.px0[1]+qe+"Z")}F(G,Se,ee);var Oe=h.castOption(oe.textposition,Se.pts),ke=_e.selectAll("g.slicetext").data(Se.text&&"none"!==Oe?[0]:[]);ke.enter().append("g").classed("slicetext",!0),ke.exit().remove(),ke.each(function(){var Dt,Et,ht,We=y.ensureSingle(D.select(this),"text","",function(Dt){Dt.attr("data-notex",1)}),Ge=y.ensureUniformFontSize(G,"outside"===Oe?(ht=Z.font,{color:h.castOption((Dt=oe).outsidetextfont.color,(Et=Se).pts)||h.castOption(Dt.textfont.color,Et.pts)||ht.color,family:h.castOption(Dt.outsidetextfont.family,Et.pts)||h.castOption(Dt.textfont.family,Et.pts)||ht.family,size:h.castOption(Dt.outsidetextfont.size,Et.pts)||h.castOption(Dt.textfont.size,Et.pts)||ht.size}):_(oe,Se,Z.font));We.text(Se.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(M.font,Ge).call(s.convertToTspans,G);var Ke,et=M.bBox(We.node());if("outside"===Oe)Ke=O(et,Se);else if(Ke=w(et,Se,ee),"auto"===Oe&&Ke.scale<1){var at=y.ensureUniformFontSize(G,oe.outsidetextfont);We.call(M.font,at),Ke=O(et=M.bBox(We.node()),Se)}var mt=Ke.textPosAngle,ct=void 0===mt?Se.pxmid:X(ee.r,mt);if(Ke.targetX=ge+ct[0]*Ke.rCenter+(Ke.x||0),Ke.targetY=he+ct[1]*Ke.rCenter+(Ke.y||0),Y(Ke,et),Ke.outside){var kt=Ke.targetY;Se.yLabelMin=kt-et.height/2,Se.yLabelMid=kt,Se.yLabelMax=kt+et.height/2,Se.labelExtraX=0,Se.labelExtraY=0,le=!0}Ke.fontSize=Ge.size,o(oe.type,Ke,Z),ne[Ce].transform=Ke,y.setTransormAndDisplay(We,Ke)})}function Be(We,Ge,Ke,et){return"a"+et*ee.r+","+et*ee.r+" 0 "+Se.largeArc+(Ke?" 1 ":" 0 ")+et*(Ge[0]-We[0])+","+et*(Ge[1]-We[1])}});var Ce,pe=D.select(this).selectAll("g.titletext").data(oe.title.text?[0]:[]);if(pe.enter().append("g").classed("titletext",!0),pe.exit().remove(),pe.each(function(){var Se,he,_e,Ce=y.ensureSingle(D.select(this),"text","",function(he){he.attr("data-notex",1)}),ge=oe.title.text;oe._meta&&(ge=y.templateString(ge,oe._meta)),Ce.text(ge).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(M.font,oe.title.font).call(s.convertToTspans,G),Se="middle center"===oe.title.position?(he=ee,_e=Math.sqrt(he.titleBox.width*he.titleBox.width+he.titleBox.height*he.titleBox.height),{x:he.cx,y:he.cy,scale:he.trace.hole*he.r*2/_e,tx:0,ty:-he.titleBox.height/2+he.trace.title.font.size}):R(ee,se),Ce.attr("transform",i(Se.x,Se.y)+c(Math.min(1,Se.scale))+i(Se.tx,Se.ty))}),le&&function(Se,Ce){var ge,he,_e,Le,Ie,De,je,qe,ve,Oe,ke,Be,We;function Ge(mt,ct){return mt.pxmid[1]-ct.pxmid[1]}function Ke(mt,ct){return ct.pxmid[1]-mt.pxmid[1]}function et(mt,ct){ct||(ct={});var kt,Dt,Et,ht,pt=ct.labelExtraY+(he?ct.yLabelMax:ct.yLabelMin),Pt=he?mt.yLabelMin:mt.yLabelMax,zt=he?mt.yLabelMax:mt.yLabelMin,Ht=mt.cyFinal+Ie(mt.px0[1],mt.px1[1]),Lt=pt-Pt;if(Lt*je>0&&(mt.labelExtraY=Lt),Array.isArray(Ce.pull))for(Dt=0;Dt<Oe.length;Dt++)(Et=Oe[Dt])===mt||(h.castOption(Ce.pull,mt.pts)||0)>=(h.castOption(Ce.pull,Et.pts)||0)||((mt.pxmid[1]-Et.pxmid[1])*je>0?(Lt=Et.cyFinal+Ie(Et.px0[1],Et.px1[1])-Pt-mt.labelExtraY)*je>0&&(mt.labelExtraY+=Lt):(zt+mt.labelExtraY-Ht)*je>0&&(kt=3*De*Math.abs(Dt-Oe.indexOf(mt)),(ht=Et.cxFinal+Le(Et.px0[0],Et.px1[0])+kt-(mt.cxFinal+mt.pxmid[0])-mt.labelExtraX)*De>0&&(mt.labelExtraX+=ht)))}for(he=0;he<2;he++)for(_e=he?Ge:Ke,Ie=he?Math.max:Math.min,je=he?1:-1,ge=0;ge<2;ge++){for(Le=ge?Math.max:Math.min,De=ge?1:-1,(qe=Se[he][ge]).sort(_e),Oe=(ve=Se[1-he][ge]).concat(qe),Be=[],ke=0;ke<qe.length;ke++)void 0!==qe[ke].yLabelMid&&Be.push(qe[ke]);for(We=!1,ke=0;he&&ke<ve.length;ke++)if(void 0!==ve[ke].yLabelMid){We=ve[ke];break}for(ke=0;ke<Be.length;ke++){var at=ke&&Be[ke-1];We&&!ke&&(at=We),et(Be[ke],at)}}}(fe,oe),Ce=oe,ce.each(function(ge){var he=D.select(this);if(ge.labelExtraX||ge.labelExtraY){var _e=he.select("g.slicetext text");ge.transform.targetX+=ge.labelExtraX,ge.transform.targetY+=ge.labelExtraY,y.setTransormAndDisplay(_e,ge.transform);var Le=ge.cxFinal+ge.pxmid[0],Ie="M"+Le+","+(ge.cyFinal+ge.pxmid[1]),De=(ge.yLabelMax-ge.yLabelMin)*(ge.pxmid[0]<0?-1:1)/4;if(ge.labelExtraX){var je=ge.labelExtraX*ge.pxmid[1]/ge.pxmid[0],qe=ge.yLabelMid+ge.labelExtraY-(ge.cyFinal+ge.pxmid[1]);Math.abs(je)>Math.abs(qe)?Ie+="l"+qe*ge.pxmid[0]/ge.pxmid[1]+","+qe+"H"+(Le+ge.labelExtraX+De):Ie+="l"+ge.labelExtraX+","+je+"v"+(qe-je)+"h"+De}else Ie+="V"+(ge.yLabelMid+ge.labelExtraY)+"h"+De;y.ensureSingle(he,"path","textline").call(k.stroke,Ce.outsidetextfont.color).attr({"stroke-width":Math.min(2,Ce.outsidetextfont.size/8),d:Ie,fill:"none"})}else he.select("path.textline").remove()}),le&&oe.automargin){var Me=M.bBox(Q.node()),Ae=oe.domain,we=(se.w*(Ae.x[1]-Ae.x[0])*.5-ee.r)/se.w,ze=(se.h*(Ae.y[1]-Ae.y[0])*.5-ee.r)/se.h;E.autoMargin(G,"pie."+oe.uid+".automargin",{xl:Ae.x[0]-we,xr:Ae.x[1]+we,yb:Ae.y[0]-ze,yt:Ae.y[1]+ze,l:Math.max(ee.cx-ee.r-Me.left,0),r:Math.max(Me.right-(ee.cx+ee.r),0),b:Math.max(Me.bottom-(ee.cy+ee.r),0),t:Math.max(ee.cy-ee.r-Me.top,0),pad:5})}})});setTimeout(function(){re.selectAll("tspan").each(function(){var ne=D.select(this);ne.attr("dy")&&ne.attr("dy",ne.attr("dy"))})},0)},formatSliceLabel:F,transformInsideText:w,determineInsideTextFont:_,positionTitleOutside:R,prerenderTitles:m,layoutAreas:j,attachFxHandlers:T,computeTransform:Y}},68357:function(ae,B,r){"use strict";var D=r(39898),E=r(63463),f=r(72597).resizeText;ae.exports=function(k){var M=k._fullLayout._pielayer.selectAll(".trace");f(k,M,"pie"),M.each(function(y){var c=y[0].trace,i=D.select(this);i.style({opacity:c.opacity}),i.selectAll("path.surface").each(function(s){D.select(this).call(E,s,c,k)})})}},63463:function(ae,B,r){"use strict";var D=r(7901),E=r(53581).castOption,f=r(22209);ae.exports=function(k,M,y,c){var i=y.marker.line,s=E(i.color,M.pts)||D.defaultLine,a=E(i.width,M.pts)||0;k.call(f,M,y,c).style("stroke-width",a).call(D.stroke,s)}},10959:function(ae,B,r){"use strict";var D=r(82196);ae.exports={x:D.x,y:D.y,xy:{valType:"data_array",editType:"calc"},indices:{valType:"data_array",editType:"calc"},xbounds:{valType:"data_array",editType:"calc"},ybounds:{valType:"data_array",editType:"calc"},text:D.text,marker:{color:{valType:"color",arrayOk:!1,editType:"calc"},opacity:{valType:"number",min:0,max:1,dflt:1,arrayOk:!1,editType:"calc"},blend:{valType:"boolean",dflt:null,editType:"calc"},sizemin:{valType:"number",min:.1,max:2,dflt:.5,editType:"calc"},sizemax:{valType:"number",min:.1,dflt:20,editType:"calc"},border:{color:{valType:"color",arrayOk:!1,editType:"calc"},arearatio:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},editType:"calc"},editType:"calc"},transforms:void 0}},42743:function(ae,B,r){"use strict";var D=r(9330).gl_pointcloud2d,E=r(78614),f=r(71739).findExtremes,k=r(34603);function M(c,i){this.scene=c,this.uid=i,this.type="pointcloud",this.pickXData=[],this.pickYData=[],this.xData=[],this.yData=[],this.textLabels=[],this.color="rgb(0, 0, 0)",this.name="",this.hoverinfo="all",this.idToIndex=new Int32Array(0),this.bounds=[0,0,0,0],this.pointcloudOptions={positions:new Float32Array(0),idToIndex:this.idToIndex,sizemin:.5,sizemax:12,color:[0,0,0,1],areaRatio:1,borderColor:[0,0,0,1]},this.pointcloud=D(c.glplot,this.pointcloudOptions),this.pointcloud._trace=this}var y=M.prototype;y.handlePick=function(c){var i=this.idToIndex[c.pointId];return{trace:this,dataCoord:c.dataCoord,traceCoord:this.pickXYData?[this.pickXYData[2*i],this.pickXYData[2*i+1]]:[this.pickXData[i],this.pickYData[i]],textLabel:Array.isArray(this.textLabels)?this.textLabels[i]:this.textLabels,color:this.color,name:this.name,pointIndex:i,hoverinfo:this.hoverinfo}},y.update=function(c){this.index=c.index,this.textLabels=c.text,this.name=c.name,this.hoverinfo=c.hoverinfo,this.bounds=[1/0,1/0,-1/0,-1/0],this.updateFast(c),this.color=k(c,{})},y.updateFast=function(c){var i,s,a,o,l,u,h=this.xData=this.pickXData=c.x,v=this.yData=this.pickYData=c.y,p=this.pickXYData=c.xy,_=c.indices,m=this.bounds;if(p){if(a=p,i=p.length>>>1,c.xbounds&&c.ybounds)m[0]=c.xbounds[0],m[2]=c.xbounds[1],m[1]=c.ybounds[0],m[3]=c.ybounds[1];else for(u=0;u<i;u++)l=a[2*u+1],(o=a[2*u])<m[0]&&(m[0]=o),o>m[2]&&(m[2]=o),l<m[1]&&(m[1]=l),l>m[3]&&(m[3]=l);if(_)s=_;else for(s=new Int32Array(i),u=0;u<i;u++)s[u]=u}else for(i=h.length,a=new Float32Array(2*i),s=new Int32Array(i),u=0;u<i;u++)o=h[u],l=v[u],s[u]=u,a[2*u]=o,a[2*u+1]=l,o<m[0]&&(m[0]=o),o>m[2]&&(m[2]=o),l<m[1]&&(m[1]=l),l>m[3]&&(m[3]=l);this.idToIndex=s,this.pointcloudOptions.idToIndex=s,this.pointcloudOptions.positions=a;var w=E(c.marker.color),x=E(c.marker.border.color),b=c.opacity*c.marker.opacity;w[3]*=b,this.pointcloudOptions.color=w;var A=c.marker.blend;null===A&&(A=h.length<100||v.length<100),this.pointcloudOptions.blend=A,x[3]*=b,this.pointcloudOptions.borderColor=x;var g=c.marker.sizemin,I=Math.max(c.marker.sizemax,c.marker.sizemin);this.pointcloudOptions.sizeMin=g,this.pointcloudOptions.sizeMax=I,this.pointcloudOptions.areaRatio=c.marker.border.arearatio,this.pointcloud.update(this.pointcloudOptions);var S=this.scene.xaxis,O=this.scene.yaxis,R=I/2||.5;c._extremes[S._id]=f(S,[m[0],m[2]],{ppad:R}),c._extremes[O._id]=f(O,[m[1],m[3]],{ppad:R})},y.dispose=function(){this.pointcloud.dispose()},ae.exports=function(c,i){var s=new M(c,i.uid);return s.update(i),s}},33876:function(ae,B,r){"use strict";var D=r(71828),E=r(10959);ae.exports=function(f,k,M){function y(c,i){return D.coerce(f,k,E,c,i)}y("x"),y("y"),y("xbounds"),y("ybounds"),f.xy&&f.xy instanceof Float32Array&&(k.xy=f.xy),f.indices&&f.indices instanceof Int32Array&&(k.indices=f.indices),y("text"),y("marker.color",M),y("marker.opacity"),y("marker.blend"),y("marker.sizemin"),y("marker.sizemax"),y("marker.border.color",M),y("marker.border.arearatio"),k._length=null}},20593:function(ae,B,r){"use strict";["*pointcloud* trace is deprecated!","Please consider switching to the *scattergl* trace type."].join(" "),ae.exports={attributes:r(10959),supplyDefaults:r(33876),calc:r(36563),plot:r(42743),moduleType:"trace",name:"pointcloud",basePlotModule:r(4796),categories:["gl","gl2d","showLegend"],meta:{}}},39953:function(ae,B,r){"use strict";var D=r(41940),E=r(9012),f=r(22399),k=r(77914),M=r(27670).Y,y=r(5386).fF,c=r(50693),i=r(44467).templatedArray,s=r(12663).descriptionOnlyNumbers,a=r(1426).extendFlat,o=r(30962).overrideAll;(ae.exports=o({hoverinfo:a({},E.hoverinfo,{flags:[],arrayOk:!1}),hoverlabel:k.hoverlabel,domain:M({name:"sankey",trace:!0}),orientation:{valType:"enumerated",values:["v","h"],dflt:"h"},valueformat:{valType:"string",dflt:".3s",description:s("value")},valuesuffix:{valType:"string",dflt:""},arrangement:{valType:"enumerated",values:["snap","perpendicular","freeform","fixed"],dflt:"snap"},textfont:D({}),customdata:void 0,node:{label:{valType:"data_array",dflt:[]},groups:{valType:"info_array",impliedEdits:{x:[],y:[]},dimensions:2,freeLength:!0,dflt:[],items:{valType:"number",editType:"calc"}},x:{valType:"data_array",dflt:[]},y:{valType:"data_array",dflt:[]},color:{valType:"color",arrayOk:!0},customdata:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:f.defaultLine,arrayOk:!0},width:{valType:"number",min:0,dflt:.5,arrayOk:!0}},pad:{valType:"number",arrayOk:!1,min:0,dflt:20},thickness:{valType:"number",arrayOk:!1,min:1,dflt:20},hoverinfo:{valType:"enumerated",values:["all","none","skip"],dflt:"all"},hoverlabel:k.hoverlabel,hovertemplate:y({},{keys:["value","label"]})},link:{arrowlen:{valType:"number",min:0,dflt:0},label:{valType:"data_array",dflt:[]},color:{valType:"color",arrayOk:!0},customdata:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:f.defaultLine,arrayOk:!0},width:{valType:"number",min:0,dflt:0,arrayOk:!0}},source:{valType:"data_array",dflt:[]},target:{valType:"data_array",dflt:[]},value:{valType:"data_array",dflt:[]},hoverinfo:{valType:"enumerated",values:["all","none","skip"],dflt:"all"},hoverlabel:k.hoverlabel,hovertemplate:y({},{keys:["value","label"]}),colorscales:i("concentrationscales",{editType:"calc",label:{valType:"string",editType:"calc",dflt:""},cmax:{valType:"number",editType:"calc",dflt:1},cmin:{valType:"number",editType:"calc",dflt:0},colorscale:a(c().colorscale,{dflt:[[0,"white"],[1,"black"]]})})}},"calc","nested")).transforms=void 0},75536:function(ae,B,r){"use strict";var D=r(30962).overrideAll,E=r(27659).a0,f=r(60436),k=r(528),M=r(6964),y=r(28569),c=r(47322).prepSelect,i=r(71828),s=r(73972),a="sankey";function o(l,u){var h=l._fullData[u],v=l._fullLayout,p=v.dragmode,_=h._bgRect;if(_&&"pan"!==p&&"zoom"!==p){M(_,"pan"===v.dragmode?"move":"crosshair");var m={_id:"x",c2p:i.identity,_offset:h._sankey.translateX,_length:h._sankey.width},w={_id:"y",c2p:i.identity,_offset:h._sankey.translateY,_length:h._sankey.height},x={gd:l,element:_.node(),plotinfo:{id:u,xaxis:m,yaxis:w,fillRangeItems:i.noop},subplot:u,xaxes:[m],yaxes:[w],doneFnCompleted:function(b){var A,g=l._fullData[u],I=g.node.groups.slice(),S=[];function O(j){for(var X=g._sankey.graph.nodes,F=0;F<X.length;F++)if(X[F].pointNumber===j)return X[F]}for(var R=0;R<b.length;R++){var L=O(b[R].pointNumber);if(L)if(L.group){for(var N=0;N<L.childrenNodes.length;N++)S.push(L.childrenNodes[N].pointNumber);I[L.pointNumber-g.node._count]=!1}else S.push(L.pointNumber)}A=I.filter(Boolean).concat([S]),s.call("_guiRestyle",l,{"node.groups":[A]},u)},prepFn:function(b,A,g){c(b,A,g,x,p)}};y.init(x)}}B.name=a,B.baseLayoutAttrOverrides=D({hoverlabel:k.hoverlabel},"plot","nested"),B.plot=function(l){var u=E(l.calcdata,a)[0];f(l,u),B.updateFx(l)},B.clean=function(l,u,h,v){var p=v._has&&v._has(a),T=u._has&&u._has(a);p&&!T&&(v._paperdiv.selectAll(".sankey").remove(),v._paperdiv.selectAll(".bgsankey").remove())},B.updateFx=function(l){for(var u=0;u<l._fullData.length;u++)o(l,u)}},92930:function(ae,B,r){"use strict";var D=r(68664),E=r(71828),f=r(28984).wrap,k=E.isArrayOrTypedArray,M=E.isIndex,y=r(21081);ae.exports=function(c,i){var s=function(a){var o,l=a.node,u=a.link,h=[],v=k(u.color),p=k(u.customdata),T={},_={},m=u.colorscales.length;for(o=0;o<m;o++){var w=u.colorscales[o],x=y.extractScale(w,{cLetter:"c"}),b=y.makeColorScaleFunc(x);_[w.label]=b}var A=0;for(o=0;o<u.value.length;o++)u.source[o]>A&&(A=u.source[o]),u.target[o]>A&&(A=u.target[o]);var g,I=A+1;a.node._count=I;var S=a.node.groups,O={};for(o=0;o<S.length;o++){var R=S[o];for(g=0;g<R.length;g++){var L=R[g],N=I+o;O.hasOwnProperty(L)?E.warn("Node "+L+" is already part of a group."):O[L]=N}}var j={source:[],target:[]};for(o=0;o<u.value.length;o++){var X=u.value[o],F=u.source[o],Y=u.target[o];if(X>0&&M(F,I)&&M(Y,I)&&(!O.hasOwnProperty(F)||!O.hasOwnProperty(Y)||O[F]!==O[Y])){O.hasOwnProperty(Y)&&(Y=O[Y]),O.hasOwnProperty(F)&&(F=O[F]),T[F=+F]=T[Y=+Y]=!0;var G="";u.label&&u.label[o]&&(G=u.label[o]);var H=null;G&&_.hasOwnProperty(G)&&(H=_[G]),h.push({pointNumber:o,label:G,color:v?u.color[o]:u.color,customdata:p?u.customdata[o]:u.customdata,concentrationscale:H,source:F,target:Y,value:+X}),j.source.push(F),j.target.push(Y)}}var W=I+S.length,Z=k(l.color),se=k(l.customdata),re=[];for(o=0;o<W;o++)T[o]&&re.push({group:o>I-1,childrenNodes:[],pointNumber:o,label:l.label[o],color:Z?l.color[o]:l.color,customdata:se?l.customdata[o]:l.customdata});var Q=!1;return function(ee,oe,ce){for(var fe=E.init2dArray(ee,0),le=0;le<Math.min(oe.length,ce.length);le++)if(E.isIndex(oe[le],ee)&&E.isIndex(ce[le],ee)){if(oe[le]===ce[le])return!0;fe[oe[le]].push(ce[le])}return D(fe).components.some(function(pe){return pe.length>1})}(W,j.source,j.target)&&(Q=!0),{circular:Q,links:h,nodes:re,groups:S,groupLookup:O}}(i);return f({circular:s.circular,_nodes:s.nodes,_links:s.links,_groups:s.groups,_groupLookup:s.groupLookup})}},85247:function(ae){"use strict";ae.exports={nodeTextOffsetHorizontal:4,nodeTextOffsetVertical:3,nodePadAcross:10,sankeyIterations:50,forceIterations:5,forceTicksPerFrame:10,duration:500,ease:"linear",cn:{sankey:"sankey",sankeyLinks:"sankey-links",sankeyLink:"sankey-link",sankeyNodeSet:"sankey-node-set",sankeyNode:"sankey-node",nodeRect:"node-rect",nodeLabel:"node-label"}}},26857:function(ae,B,r){"use strict";var D=r(71828),E=r(39953),f=r(7901),k=r(84267),M=r(27670).c,y=r(38048),c=r(44467),i=r(85501);function s(a,o){function l(u,h){return D.coerce(a,o,E.link.colorscales,u,h)}l("label"),l("cmin"),l("cmax"),l("colorscale")}ae.exports=function(a,o,l,u){function h(I,S){return D.coerce(a,o,E,I,S)}var v=D.extendDeep(u.hoverlabel,a.hoverlabel),p=a.node,T=c.newContainer(o,"node");function _(I,S){return D.coerce(p,T,E.node,I,S)}_("label"),_("groups"),_("x"),_("y"),_("pad"),_("thickness"),_("line.color"),_("line.width"),_("hoverinfo",a.hoverinfo),y(p,T,_,v),_("hovertemplate");var m=u.colorway;_("color",T.label.map(function(I,S){return f.addOpacity(m[S%m.length],.8)})),_("customdata");var w=a.link||{},x=c.newContainer(o,"link");function b(I,S){return D.coerce(w,x,E.link,I,S)}b("label"),b("arrowlen"),b("source"),b("target"),b("value"),b("line.color"),b("line.width"),b("hoverinfo",a.hoverinfo),y(w,x,b,v),b("hovertemplate");var A,g=k(u.paper_bgcolor).getLuminance()<.333?"rgba(255, 255, 255, 0.6)":"rgba(0, 0, 0, 0.2)";b("color",D.repeat(g,x.value.length)),b("customdata"),i(w,x,{name:"colorscales",handleItemDefaults:s}),M(o,u,h),h("orientation"),h("valueformat"),h("valuesuffix"),T.x.length&&T.y.length&&(A="freeform"),h("arrangement",A),D.coerceFont(h,"textfont",D.extendFlat({},u.font)),o._length=null}},29396:function(ae,B,r){"use strict";ae.exports={attributes:r(39953),supplyDefaults:r(26857),calc:r(92930),plot:r(60436),moduleType:"trace",name:"sankey",basePlotModule:r(75536),selectPoints:r(84564),categories:["noOpacity"],meta:{}}},60436:function(ae,B,r){"use strict";var D=r(39898),E=r(71828),f=E.numberFormat,k=r(3393),M=r(30211),y=r(7901),c=r(85247).cn,i=E._;function s(w){return""!==w}function a(w,x){return w.filter(function(b){return b.key===x.traceId})}function o(w,x){D.select(w).select("path").style("fill-opacity",x),D.select(w).select("rect").style("fill-opacity",x)}function l(w){D.select(w).select("text.name").style("fill","black")}function u(w){return function(x){return-1!==w.node.sourceLinks.indexOf(x.link)||-1!==w.node.targetLinks.indexOf(x.link)}}function h(w){return function(x){return-1!==x.node.sourceLinks.indexOf(w.link)||-1!==x.node.targetLinks.indexOf(w.link)}}function v(w,x,b){x&&b&&a(b,x).selectAll("."+c.sankeyLink).filter(u(x)).call(T.bind(0,x,b,!1))}function p(w,x,b){x&&b&&a(b,x).selectAll("."+c.sankeyLink).filter(u(x)).call(_.bind(0,x,b,!1))}function T(w,x,b,A){var g=A.datum().link.label;A.style("fill-opacity",function(I){if(!I.link.concentrationscale)return.4}),g&&a(x,w).selectAll("."+c.sankeyLink).filter(function(I){return I.link.label===g}).style("fill-opacity",function(I){if(!I.link.concentrationscale)return.4}),b&&a(x,w).selectAll("."+c.sankeyNode).filter(h(w)).call(v)}function _(w,x,b,A){var g=A.datum().link.label;A.style("fill-opacity",function(I){return I.tinyColorAlpha}),g&&a(x,w).selectAll("."+c.sankeyLink).filter(function(I){return I.link.label===g}).style("fill-opacity",function(I){return I.tinyColorAlpha}),b&&a(x,w).selectAll(c.sankeyNode).filter(h(w)).call(p)}function m(w,x){var A=E.nestedProperty(w.hoverlabel||{},x).get();return!Array.isArray(A)&&A}ae.exports=function(w,x){for(var b=w._fullLayout,A=b._paper,g=b._size,I=0;I<w._fullData.length;I++)if(w._fullData[I].visible&&w._fullData[I].type===c.sankey&&!w._fullData[I]._viewInitial){var S=w._fullData[I].node;w._fullData[I]._viewInitial={node:{groups:S.groups.slice(),x:S.x.slice(),y:S.y.slice()}}}var O=i(w,"source:")+" ",R=i(w,"target:")+" ",L=i(w,"concentration:")+" ",N=i(w,"incoming flow count:")+" ",j=i(w,"outgoing flow count:")+" ";k(w,A,x,{width:g.w,height:g.h,margin:{t:g.t,r:g.r,b:g.b,l:g.l}},{linkEvents:{hover:function(X,F,Y){!1!==w._fullLayout.hovermode&&(D.select(X).call(T.bind(0,F,Y,!0)),"skip"!==F.link.trace.link.hoverinfo&&(F.link.fullData=F.link.trace,w.emit("plotly_hover",{event:D.event,points:[F.link]})))},follow:function(X,F){if(!1!==w._fullLayout.hovermode){var Y=F.link.trace.link;if("none"!==Y.hoverinfo&&"skip"!==Y.hoverinfo){for(var G=[],H=0,W=0;W<F.flow.links.length;W++){var Z=F.flow.links[W];if("closest"!==w._fullLayout.hovermode||F.link.pointNumber===Z.pointNumber){F.link.pointNumber===Z.pointNumber&&(H=W),Z.fullData=Z.trace,Y=F.link.trace.link;var se=ne(Z),re={valueLabel:f(F.valueFormat)(Z.value)+F.valueSuffix};G.push({x:se[0],y:se[1],name:re.valueLabel,text:[Z.label||"",O+Z.source.label,R+Z.target.label,Z.concentrationscale?L+f("%0.2f")(Z.flow.labelConcentration):""].filter(s).join("<br>"),color:m(Y,"bgcolor")||y.addOpacity(Z.color,1),borderColor:m(Y,"bordercolor"),fontFamily:m(Y,"font.family"),fontSize:m(Y,"font.size"),fontColor:m(Y,"font.color"),nameLength:m(Y,"namelength"),textAlign:m(Y,"align"),idealAlign:D.event.x<se[0]?"right":"left",hovertemplate:Y.hovertemplate,hovertemplateLabels:re,eventData:[Z]})}}M.loneHover(G,{container:b._hoverlayer.node(),outerContainer:b._paper.node(),gd:w,anchorIndex:H}).each(function(){F.link.concentrationscale||o(this,.65),l(this)})}}function ne(Q){var ee,oe;Q.circular?(ee=(Q.circularPathData.leftInnerExtent+Q.circularPathData.rightInnerExtent)/2,oe=Q.circularPathData.verticalFullExtent):(ee=(Q.source.x1+Q.target.x0)/2,oe=(Q.y0+Q.y1)/2);var ce=[ee,oe];return"v"===Q.trace.orientation&&ce.reverse(),ce[0]+=F.parent.translateX,ce[1]+=F.parent.translateY,ce}},unhover:function(X,F,Y){!1!==w._fullLayout.hovermode&&(D.select(X).call(_.bind(0,F,Y,!0)),"skip"!==F.link.trace.link.hoverinfo&&(F.link.fullData=F.link.trace,w.emit("plotly_unhover",{event:D.event,points:[F.link]})),M.loneUnhover(b._hoverlayer.node()))},select:function(X,F){var Y=F.link;Y.originalEvent=D.event,w._hoverdata=[Y],M.click(w,{target:!0})}},nodeEvents:{hover:function(X,F,Y){!1!==w._fullLayout.hovermode&&(D.select(X).call(v,F,Y),"skip"!==F.node.trace.node.hoverinfo&&(F.node.fullData=F.node.trace,w.emit("plotly_hover",{event:D.event,points:[F.node]})))},follow:function(X,F){if(!1!==w._fullLayout.hovermode){var Y=F.node.trace.node;if("none"!==Y.hoverinfo&&"skip"!==Y.hoverinfo){var G=D.select(X).select("."+c.nodeRect),H=w._fullLayout._paperdiv.node().getBoundingClientRect(),W=G.node().getBoundingClientRect(),Z=W.left-2-H.left,se=W.right+2-H.left,re=W.top+W.height/4-H.top,ne={valueLabel:f(F.valueFormat)(F.node.value)+F.valueSuffix};F.node.fullData=F.node.trace,w._fullLayout._calcInverseTransform(w);var Q=w._fullLayout._invScaleX,oe=M.loneHover({x0:Q*Z,x1:Q*se,y:w._fullLayout._invScaleY*re,name:f(F.valueFormat)(F.node.value)+F.valueSuffix,text:[F.node.label,N+F.node.targetLinks.length,j+F.node.sourceLinks.length].filter(s).join("<br>"),color:m(Y,"bgcolor")||F.tinyColorHue,borderColor:m(Y,"bordercolor"),fontFamily:m(Y,"font.family"),fontSize:m(Y,"font.size"),fontColor:m(Y,"font.color"),nameLength:m(Y,"namelength"),textAlign:m(Y,"align"),idealAlign:"left",hovertemplate:Y.hovertemplate,hovertemplateLabels:ne,eventData:[F.node]},{container:b._hoverlayer.node(),outerContainer:b._paper.node(),gd:w});o(oe,.85),l(oe)}}},unhover:function(X,F,Y){!1!==w._fullLayout.hovermode&&(D.select(X).call(p,F,Y),"skip"!==F.node.trace.node.hoverinfo&&(F.node.fullData=F.node.trace,w.emit("plotly_unhover",{event:D.event,points:[F.node]})),M.loneUnhover(b._hoverlayer.node()))},select:function(X,F,Y){var G=F.node;G.originalEvent=D.event,w._hoverdata=[G],D.select(X).call(p,F,Y),M.click(w,{target:!0})}}})}},3393:function(ae,B,r){"use strict";var D=r(49887),E=r(81684).k4,f=r(39898),k=r(30838),M=r(86781),y=r(85247),c=r(84267),i=r(7901),s=r(91424),a=r(71828),o=a.strTranslate,l=a.strRotate,u=r(28984),h=u.keyFun,v=u.repeat,p=u.unwrap,T=r(63893),_=r(73972),m=r(18783),w=m.CAP_SHIFT,x=m.LINE_SPACING;function b(W,Z,se){var re,ne=p(Z),Q=ne.trace,ee=Q.domain,oe="h"===Q.orientation,ce=Q.node.pad,fe=Q.node.thickness,le=W.width*(ee.x[1]-ee.x[0]),pe=W.height*(ee.y[1]-ee.y[0]),Me=ne._nodes,Ae=ne._links,be=ne.circular;(re=be?M.sankeyCircular().circularLinkGap(0):k.sankey()).iterations(y.sankeyIterations).size(oe?[le,pe]:[pe,le]).nodeWidth(fe).nodePadding(ce).nodeId(function(De){return De.pointNumber}).nodes(Me).links(Ae);var ye,we,ze,Se=re();for(var Ce in re.nodePadding()<ce&&a.warn("node.pad was reduced to ",re.nodePadding()," to fit within the figure."),ne._groupLookup){var ge,he=parseInt(ne._groupLookup[Ce]);for(ye=0;ye<Se.nodes.length;ye++)if(Se.nodes[ye].pointNumber===he){ge=Se.nodes[ye];break}if(ge){var _e={pointNumber:parseInt(Ce),x0:ge.x0,x1:ge.x1,y0:ge.y0,y1:ge.y1,partOfGroup:!0,sourceLinks:[],targetLinks:[]};Se.nodes.unshift(_e),ge.childrenNodes.unshift(_e)}}if(function(){for(ye=0;ye<Se.nodes.length;ye++){var De,je,qe=Se.nodes[ye],ve={};for(we=0;we<qe.targetLinks.length;we++)De=(je=qe.targetLinks[we]).source.pointNumber+":"+je.target.pointNumber,ve.hasOwnProperty(De)||(ve[De]=[]),ve[De].push(je);var Oe=Object.keys(ve);for(we=0;we<Oe.length;we++){var ke=ve[De=Oe[we]],Be=0,We={};for(ze=0;ze<ke.length;ze++)We[(je=ke[ze]).label]||(We[je.label]=0),We[je.label]+=je.value,Be+=je.value;for(ze=0;ze<ke.length;ze++)(je=ke[ze]).flow={value:Be,labelConcentration:We[je.label]/Be,concentration:je.value/Be,links:ke},je.concentrationscale&&(je.color=c(je.concentrationscale(je.flow.labelConcentration)))}var Ge=0;for(we=0;we<qe.sourceLinks.length;we++)Ge+=qe.sourceLinks[we].value;for(we=0;we<qe.sourceLinks.length;we++)(je=qe.sourceLinks[we]).concentrationOut=je.value/Ge;var Ke=0;for(we=0;we<qe.targetLinks.length;we++)Ke+=qe.targetLinks[we].value;for(we=0;we<qe.targetLinks.length;we++)(je=qe.targetLinks[we]).concenrationIn=je.value/Ke}}(),Q.node.x.length&&Q.node.y.length){for(ye=0;ye<Math.min(Q.node.x.length,Q.node.y.length,Se.nodes.length);ye++)if(Q.node.x[ye]&&Q.node.y[ye]){var Le=[Q.node.x[ye]*le,Q.node.y[ye]*pe];Se.nodes[ye].x0=Le[0]-fe/2,Se.nodes[ye].x1=Le[0]+fe/2;var Ie=Se.nodes[ye].y1-Se.nodes[ye].y0;Se.nodes[ye].y0=Le[1]-Ie/2,Se.nodes[ye].y1=Le[1]+Ie/2}"snap"===Q.arrangement&&function(De){var je,qe,ve=De.map(function(Ge,Ke){return{x0:Ge.x0,index:Ke}}).sort(function(Ge,Ke){return Ge.x0-Ke.x0}),Oe=[],ke=-1,Be=-1/0;for(ye=0;ye<ve.length;ye++){var We=De[ve[ye].index];We.x0>Be+fe&&(ke+=1,je=We.x0),Be=We.x0,Oe[ke]||(Oe[ke]=[]),Oe[ke].push(We),We.x0+=qe=je-We.x0,We.x1+=qe}return Oe}(Me=Se.nodes).forEach(function(De){var je,qe,ve,Oe=0,ke=De.length;for(De.sort(function(Be,We){return Be.y0-We.y0}),ve=0;ve<ke;++ve)(je=De[ve]).y0>=Oe||(qe=Oe-je.y0)>1e-6&&(je.y0+=qe,je.y1+=qe),Oe=je.y1+ce}),re.update(Se)}return{circular:be,key:se,trace:Q,guid:a.randstr(),horizontal:oe,width:le,height:pe,nodePad:Q.node.pad,nodeLineColor:Q.node.line.color,nodeLineWidth:Q.node.line.width,linkLineColor:Q.link.line.color,linkLineWidth:Q.link.line.width,linkArrowLength:Q.link.arrowlen,valueFormat:Q.valueformat,valueSuffix:Q.valuesuffix,textFont:Q.textfont,translateX:ee.x[0]*W.width+W.margin.l,translateY:W.height-ee.y[1]*W.height+W.margin.t,dragParallel:oe?pe:le,dragPerpendicular:oe?le:pe,arrangement:Q.arrangement,sankey:re,graph:Se,forceLayouts:{},interactionState:{dragInProgress:!1,hovered:!1}}}function A(W,Z,se){var re=c(Z.color),ne=Z.source.label+"|"+Z.target.label+"__"+se;return Z.trace=W.trace,Z.curveNumber=W.trace.index,{circular:W.circular,key:ne,traceId:W.key,pointNumber:Z.pointNumber,link:Z,tinyColorHue:i.tinyRGB(re),tinyColorAlpha:re.getAlpha(),linkPath:g,linkLineColor:W.linkLineColor,linkLineWidth:W.linkLineWidth,linkArrowLength:W.linkArrowLength,valueFormat:W.valueFormat,valueSuffix:W.valueSuffix,sankey:W.sankey,parent:W,interactionState:W.interactionState,flow:Z.flow}}function g(){return function(W){var we,ze,Se,Ce,Z=W.linkArrowLength;if(W.link.circular)return ze=Z,Se=(we=W.link).width/2,Ce=we.circularPathData,"top"===we.circularLinkType?"M "+(Ce.targetX-ze)+" "+(Ce.targetY+Se)+" L"+(Ce.rightInnerExtent-ze)+" "+(Ce.targetY+Se)+"A"+(Ce.rightLargeArcRadius+Se)+" "+(Ce.rightSmallArcRadius+Se)+" 0 0 1 "+(Ce.rightFullExtent-Se-ze)+" "+(Ce.targetY-Ce.rightSmallArcRadius)+"L"+(Ce.rightFullExtent-Se-ze)+" "+Ce.verticalRightInnerExtent+"A"+(Ce.rightLargeArcRadius+Se)+" "+(Ce.rightLargeArcRadius+Se)+" 0 0 1 "+(Ce.rightInnerExtent-ze)+" "+(Ce.verticalFullExtent-Se)+"L"+Ce.leftInnerExtent+" "+(Ce.verticalFullExtent-Se)+"A"+(Ce.leftLargeArcRadius+Se)+" "+(Ce.leftLargeArcRadius+Se)+" 0 0 1 "+(Ce.leftFullExtent+Se)+" "+Ce.verticalLeftInnerExtent+"L"+(Ce.leftFullExtent+Se)+" "+(Ce.sourceY-Ce.leftSmallArcRadius)+"A"+(Ce.leftLargeArcRadius+Se)+" "+(Ce.leftSmallArcRadius+Se)+" 0 0 1 "+Ce.leftInnerExtent+" "+(Ce.sourceY+Se)+"L"+Ce.sourceX+" "+(Ce.sourceY+Se)+"L"+Ce.sourceX+" "+(Ce.sourceY-Se)+"L"+Ce.leftInnerExtent+" "+(Ce.sourceY-Se)+"A"+(Ce.leftLargeArcRadius-Se)+" "+(Ce.leftSmallArcRadius-Se)+" 0 0 0 "+(Ce.leftFullExtent-Se)+" "+(Ce.sourceY-Ce.leftSmallArcRadius)+"L"+(Ce.leftFullExtent-Se)+" "+Ce.verticalLeftInnerExtent+"A"+(Ce.leftLargeArcRadius-Se)+" "+(Ce.leftLargeArcRadius-Se)+" 0 0 0 "+Ce.leftInnerExtent+" "+(Ce.verticalFullExtent+Se)+"L"+(Ce.rightInnerExtent-ze)+" "+(Ce.verticalFullExtent+Se)+"A"+(Ce.rightLargeArcRadius-Se)+" "+(Ce.rightLargeArcRadius-Se)+" 0 0 0 "+(Ce.rightFullExtent+Se-ze)+" "+Ce.verticalRightInnerExtent+"L"+(Ce.rightFullExtent+Se-ze)+" "+(Ce.targetY-Ce.rightSmallArcRadius)+"A"+(Ce.rightLargeArcRadius-Se)+" "+(Ce.rightSmallArcRadius-Se)+" 0 0 0 "+(Ce.rightInnerExtent-ze)+" "+(Ce.targetY-Se)+"L"+(Ce.targetX-ze)+" "+(Ce.targetY-Se)+(ze>0?"L"+Ce.targetX+" "+Ce.targetY:"")+"Z":"M "+(Ce.targetX-ze)+" "+(Ce.targetY-Se)+" L"+(Ce.rightInnerExtent-ze)+" "+(Ce.targetY-Se)+"A"+(Ce.rightLargeArcRadius+Se)+" "+(Ce.rightSmallArcRadius+Se)+" 0 0 0 "+(Ce.rightFullExtent-Se-ze)+" "+(Ce.targetY+Ce.rightSmallArcRadius)+"L"+(Ce.rightFullExtent-Se-ze)+" "+Ce.verticalRightInnerExtent+"A"+(Ce.rightLargeArcRadius+Se)+" "+(Ce.rightLargeArcRadius+Se)+" 0 0 0 "+(Ce.rightInnerExtent-ze)+" "+(Ce.verticalFullExtent+Se)+"L"+Ce.leftInnerExtent+" "+(Ce.verticalFullExtent+Se)+"A"+(Ce.leftLargeArcRadius+Se)+" "+(Ce.leftLargeArcRadius+Se)+" 0 0 0 "+(Ce.leftFullExtent+Se)+" "+Ce.verticalLeftInnerExtent+"L"+(Ce.leftFullExtent+Se)+" "+(Ce.sourceY+Ce.leftSmallArcRadius)+"A"+(Ce.leftLargeArcRadius+Se)+" "+(Ce.leftSmallArcRadius+Se)+" 0 0 0 "+Ce.leftInnerExtent+" "+(Ce.sourceY-Se)+"L"+Ce.sourceX+" "+(Ce.sourceY-Se)+"L"+Ce.sourceX+" "+(Ce.sourceY+Se)+"L"+Ce.leftInnerExtent+" "+(Ce.sourceY+Se)+"A"+(Ce.leftLargeArcRadius-Se)+" "+(Ce.leftSmallArcRadius-Se)+" 0 0 1 "+(Ce.leftFullExtent-Se)+" "+(Ce.sourceY+Ce.leftSmallArcRadius)+"L"+(Ce.leftFullExtent-Se)+" "+Ce.verticalLeftInnerExtent+"A"+(Ce.leftLargeArcRadius-Se)+" "+(Ce.leftLargeArcRadius-Se)+" 0 0 1 "+Ce.leftInnerExtent+" "+(Ce.verticalFullExtent-Se)+"L"+(Ce.rightInnerExtent-ze)+" "+(Ce.verticalFullExtent-Se)+"A"+(Ce.rightLargeArcRadius-Se)+" "+(Ce.rightLargeArcRadius-Se)+" 0 0 1 "+(Ce.rightFullExtent+Se-ze)+" "+Ce.verticalRightInnerExtent+"L"+(Ce.rightFullExtent+Se-ze)+" "+(Ce.targetY+Ce.rightSmallArcRadius)+"A"+(Ce.rightLargeArcRadius-Se)+" "+(Ce.rightSmallArcRadius-Se)+" 0 0 1 "+(Ce.rightInnerExtent-ze)+" "+(Ce.targetY+Se)+"L"+(Ce.targetX-ze)+" "+(Ce.targetY+Se)+(ze>0?"L"+Ce.targetX+" "+Ce.targetY:"")+"Z";var se=Math.abs((W.link.target.x0-W.link.source.x1)/2);Z>se&&(Z=se);var re=W.link.source.x1,ne=W.link.target.x0-Z,Q=E(re,ne),ee=Q(.5),oe=Q(.5),ce=W.link.y0-W.link.width/2,fe=W.link.y0+W.link.width/2,le=W.link.y1-W.link.width/2,pe=W.link.y1+W.link.width/2,ye=Z>0?"L"+(ne+Z)+","+(le+W.link.width/2):"";return"M"+re+","+ce+"C"+ee+","+ce+" "+oe+","+le+" "+ne+","+le+(ye+="L"+ne+","+pe)+"C"+oe+","+pe+" "+ee+","+fe+" "+re+","+fe+"Z"}}function I(W,Z){var se=c(Z.color),re=y.nodePadAcross,ne=W.nodePad/2;Z.dx=Z.x1-Z.x0,Z.dy=Z.y1-Z.y0;var Q=Z.dx,ee=Math.max(.5,Z.dy),oe="node_"+Z.pointNumber;return Z.group&&(oe=a.randstr()),Z.trace=W.trace,Z.curveNumber=W.trace.index,{index:Z.pointNumber,key:oe,partOfGroup:Z.partOfGroup||!1,group:Z.group,traceId:W.key,trace:W.trace,node:Z,nodePad:W.nodePad,nodeLineColor:W.nodeLineColor,nodeLineWidth:W.nodeLineWidth,textFont:W.textFont,size:W.horizontal?W.height:W.width,visibleWidth:Math.ceil(Q),visibleHeight:ee,zoneX:-re,zoneY:-ne,zoneWidth:Q+2*re,zoneHeight:ee+2*ne,labelY:W.horizontal?Z.dy/2+1:Z.dx/2+1,left:1===Z.originalLayer,sizeAcross:W.width,forceLayouts:W.forceLayouts,horizontal:W.horizontal,darkBackground:se.getBrightness()<=128,tinyColorHue:i.tinyRGB(se),tinyColorAlpha:se.getAlpha(),valueFormat:W.valueFormat,valueSuffix:W.valueSuffix,sankey:W.sankey,graph:W.graph,arrangement:W.arrangement,uniqueNodeLabelPathId:[W.guid,W.key,oe].join("_"),interactionState:W.interactionState,figure:W}}function S(W){W.attr("transform",function(Z){return o(Z.node.x0.toFixed(3),Z.node.y0.toFixed(3))})}function O(W){W.call(S)}function R(W,Z){W.call(O),Z.attr("d",g())}function L(W){W.attr("width",function(Z){return Z.node.x1-Z.node.x0}).attr("height",function(Z){return Z.visibleHeight})}function N(W){return W.link.width>1||W.linkLineWidth>0}function j(W){return o(W.translateX,W.translateY)+(W.horizontal?"matrix(1 0 0 1 0 0)":"matrix(0 1 1 0 0 0)")}function X(W,Z,se){W.on(".basic",null).on("mouseover.basic",function(re){re.interactionState.dragInProgress||re.partOfGroup||(se.hover(this,re,Z),re.interactionState.hovered=[this,re])}).on("mousemove.basic",function(re){re.interactionState.dragInProgress||re.partOfGroup||(se.follow(this,re),re.interactionState.hovered=[this,re])}).on("mouseout.basic",function(re){re.interactionState.dragInProgress||re.partOfGroup||(se.unhover(this,re,Z),re.interactionState.hovered=!1)}).on("click.basic",function(re){re.interactionState.hovered&&(se.unhover(this,re,Z),re.interactionState.hovered=!1),re.interactionState.dragInProgress||re.partOfGroup||se.select(this,re,Z)})}function F(W,Z,se,re){var ne=f.behavior.drag().origin(function(Q){return{x:Q.node.x0+Q.visibleWidth/2,y:Q.node.y0+Q.visibleHeight/2}}).on("dragstart",function(Q){if("fixed"!==Q.arrangement&&(a.ensureSingle(re._fullLayout._infolayer,"g","dragcover",function(oe){re._fullLayout._dragCover=oe}),a.raiseToTop(this),Q.interactionState.dragInProgress=Q.node,G(Q.node),Q.interactionState.hovered&&(se.nodeEvents.unhover.apply(0,Q.interactionState.hovered),Q.interactionState.hovered=!1),"snap"===Q.arrangement)){var ee=Q.traceId+"|"+Q.key;Q.forceLayouts[ee]?Q.forceLayouts[ee].alpha(1):function(oe,ce,fe,le){!function(Me){for(var Ae=0;Ae<Me.length;Ae++)Me[Ae].y=(Me[Ae].y0+Me[Ae].y1)/2,Me[Ae].x=(Me[Ae].x0+Me[Ae].x1)/2}(fe.graph.nodes);var Ae,be,ye,pe=fe.graph.nodes.filter(function(Me){return Me.originalX===fe.node.originalX}).filter(function(Me){return!Me.partOfGroup});fe.forceLayouts[ce]=D.forceSimulation(pe).alphaDecay(0).force("collide",D.forceCollide().radius(function(Me){return Me.dy/2+fe.nodePad/2}).strength(1).iterations(y.forceIterations)).force("constrain",(Ae=ce,be=pe,ye=fe,function(){for(var we=0,ze=0;ze<be.length;ze++){var Se=be[ze];Se===ye.interactionState.dragInProgress?(Se.x=Se.lastDraggedX,Se.y=Se.lastDraggedY):(Se.vx=(Se.originalX-Se.x)/y.forceTicksPerFrame,Se.y=Math.min(ye.size-Se.dy/2,Math.max(Se.dy/2,Se.y))),we=Math.max(we,Math.abs(Se.vx),Math.abs(Se.vy))}!ye.interactionState.dragInProgress&&we<.1&&ye.forceLayouts[Ae].alpha()>0&&ye.forceLayouts[Ae].alpha(0)})).stop()}(0,ee,Q),oe=W,ce=Z,fe=Q,le=ee,pe=re,window.requestAnimationFrame(function Me(){var Ae;for(Ae=0;Ae<y.forceTicksPerFrame;Ae++)fe.forceLayouts[le].tick();if(function(ye){for(var we=0;we<ye.length;we++)ye[we].y0=ye[we].y-ye[we].dy/2,ye[we].y1=ye[we].y0+ye[we].dy,ye[we].x0=ye[we].x-ye[we].dx/2,ye[we].x1=ye[we].x0+ye[we].dx}(fe.graph.nodes),fe.sankey.update(fe.graph),R(oe.filter(H(fe)),ce),fe.forceLayouts[le].alpha()>0)window.requestAnimationFrame(Me);else{var be=fe.node.originalX;fe.node.x0=be-fe.visibleWidth/2,fe.node.x1=be+fe.visibleWidth/2,Y(fe,pe)}})}var oe,ce,fe,le,pe}).on("drag",function(Q){if("fixed"!==Q.arrangement){var ee=f.event.x,oe=f.event.y;"snap"===Q.arrangement?(Q.node.x0=ee-Q.visibleWidth/2,Q.node.x1=ee+Q.visibleWidth/2,Q.node.y0=oe-Q.visibleHeight/2,Q.node.y1=oe+Q.visibleHeight/2):("freeform"===Q.arrangement&&(Q.node.x0=ee-Q.visibleWidth/2,Q.node.x1=ee+Q.visibleWidth/2),oe=Math.max(0,Math.min(Q.size-Q.visibleHeight/2,oe)),Q.node.y0=oe-Q.visibleHeight/2,Q.node.y1=oe+Q.visibleHeight/2),G(Q.node),"snap"!==Q.arrangement&&(Q.sankey.update(Q.graph),R(W.filter(H(Q)),Z))}}).on("dragend",function(Q){if("fixed"!==Q.arrangement){Q.interactionState.dragInProgress=!1;for(var ee=0;ee<Q.node.childrenNodes.length;ee++)Q.node.childrenNodes[ee].x=Q.node.x,Q.node.childrenNodes[ee].y=Q.node.y;"snap"!==Q.arrangement&&Y(Q,re)}});W.on(".drag",null).call(ne)}function Y(W,Z){for(var se=[],re=[],ne=0;ne<W.graph.nodes.length;ne++){var ee=(W.graph.nodes[ne].y0+W.graph.nodes[ne].y1)/2;se.push((W.graph.nodes[ne].x0+W.graph.nodes[ne].x1)/2/W.figure.width),re.push(ee/W.figure.height)}_.call("_guiRestyle",Z,{"node.x":[se],"node.y":[re]},W.trace.index).then(function(){Z._fullLayout._dragCover&&Z._fullLayout._dragCover.remove()})}function G(W){W.lastDraggedX=W.x0+W.dx/2,W.lastDraggedY=W.y0+W.dy/2}function H(W){return function(Z){return Z.node.originalX===W.node.originalX}}ae.exports=function(W,Z,se,re,ne){var Q=W._context.staticPlot,ee=!1;a.ensureSingle(W._fullLayout._infolayer,"g","first-render",function(){ee=!0});var oe=W._fullLayout._dragCover,ce=se.filter(function(we){return p(we).trace.visible}).map(b.bind(null,re)),fe=Z.selectAll("."+y.cn.sankey).data(ce,h);fe.exit().remove(),fe.enter().append("g").classed(y.cn.sankey,!0).style("box-sizing","content-box").style("position","absolute").style("left",0).style("shape-rendering","geometricPrecision").style("pointer-events",Q?"none":"auto").attr("transform",j),fe.each(function(we,ze){W._fullData[ze]._sankey=we;var Se="bgsankey-"+we.trace.uid+"-"+ze;a.ensureSingle(W._fullLayout._draggers,"rect",Se),W._fullData[ze]._bgRect=f.select("."+Se),W._fullData[ze]._bgRect.style("pointer-events",Q?"none":"all").attr("width",we.width).attr("height",we.height).attr("x",we.translateX).attr("y",we.translateY).classed("bgsankey",!0).style({fill:"transparent","stroke-width":0})}),fe.transition().ease(y.ease).duration(y.duration).attr("transform",j);var le=fe.selectAll("."+y.cn.sankeyLinks).data(v,h);le.enter().append("g").classed(y.cn.sankeyLinks,!0).style("fill","none");var pe=le.selectAll("."+y.cn.sankeyLink).data(function(we){return we.graph.links.filter(function(ze){return ze.value}).map(A.bind(null,we))},h);pe.enter().append("path").classed(y.cn.sankeyLink,!0).call(X,fe,ne.linkEvents),pe.style("stroke",function(we){return N(we)?i.tinyRGB(c(we.linkLineColor)):we.tinyColorHue}).style("stroke-opacity",function(we){return N(we)?i.opacity(we.linkLineColor):we.tinyColorAlpha}).style("fill",function(we){return we.tinyColorHue}).style("fill-opacity",function(we){return we.tinyColorAlpha}).style("stroke-width",function(we){return N(we)?we.linkLineWidth:1}).attr("d",g()),pe.style("opacity",function(){return W._context.staticPlot||ee||oe?1:0}).transition().ease(y.ease).duration(y.duration).style("opacity",1),pe.exit().transition().ease(y.ease).duration(y.duration).style("opacity",0).remove();var Me=fe.selectAll("."+y.cn.sankeyNodeSet).data(v,h);Me.enter().append("g").classed(y.cn.sankeyNodeSet,!0),Me.style("cursor",function(we){switch(we.arrangement){case"fixed":return"default";case"perpendicular":return"ns-resize";default:return"move"}});var Ae=Me.selectAll("."+y.cn.sankeyNode).data(function(we){var ze=we.graph.nodes;return function(Se){var Ce,ge=[];for(Ce=0;Ce<Se.length;Ce++)Se[Ce].originalX=(Se[Ce].x0+Se[Ce].x1)/2,Se[Ce].originalY=(Se[Ce].y0+Se[Ce].y1)/2,-1===ge.indexOf(Se[Ce].originalX)&&ge.push(Se[Ce].originalX);for(ge.sort(function(he,_e){return he-_e}),Ce=0;Ce<Se.length;Ce++)Se[Ce].originalLayerIndex=ge.indexOf(Se[Ce].originalX),Se[Ce].originalLayer=Se[Ce].originalLayerIndex/(ge.length-1)}(ze),ze.map(I.bind(null,we))},h);Ae.enter().append("g").classed(y.cn.sankeyNode,!0).call(S).style("opacity",function(we){return!W._context.staticPlot&&!ee||we.partOfGroup?0:1}),Ae.call(X,fe,ne.nodeEvents).call(F,pe,ne,W),Ae.transition().ease(y.ease).duration(y.duration).call(S).style("opacity",function(we){return we.partOfGroup?0:1}),Ae.exit().transition().ease(y.ease).duration(y.duration).style("opacity",0).remove();var be=Ae.selectAll("."+y.cn.nodeRect).data(v);be.enter().append("rect").classed(y.cn.nodeRect,!0).call(L),be.style("stroke-width",function(we){return we.nodeLineWidth}).style("stroke",function(we){return i.tinyRGB(c(we.nodeLineColor))}).style("stroke-opacity",function(we){return i.opacity(we.nodeLineColor)}).style("fill",function(we){return we.tinyColorHue}).style("fill-opacity",function(we){return we.tinyColorAlpha}),be.transition().ease(y.ease).duration(y.duration).call(L);var ye=Ae.selectAll("."+y.cn.nodeLabel).data(v);ye.enter().append("text").classed(y.cn.nodeLabel,!0).style("cursor","default"),ye.attr("data-notex",1).text(function(we){return we.node.label}).each(function(we){var ze=f.select(this);s.font(ze,we.textFont),T.convertToTspans(ze,W)}).style("text-shadow",T.makeTextShadow(W._fullLayout.paper_bgcolor)).attr("text-anchor",function(we){return we.horizontal&&we.left?"end":"start"}).attr("transform",function(we){var ze=f.select(this),Se=T.lineCount(ze),ge=we.nodeLineWidth/2+3,he=((we.horizontal?we.visibleHeight:we.visibleWidth)-we.textFont.size*((Se-1)*x-w))/2;we.horizontal&&(we.left?ge=-ge:ge+=we.visibleWidth);var _e=we.horizontal?"":"scale(-1,1)"+l(90);return o(we.horizontal?ge:he,we.horizontal?he:ge)+_e}),ye.transition().ease(y.ease).duration(y.duration)}},84564:function(ae){"use strict";ae.exports=function(B,r){for(var D=[],E=B.cd[0].trace,f=E._sankey.graph.nodes,k=0;k<f.length;k++){var M=f[k];if(!M.partOfGroup){var y=[(M.x0+M.x1)/2,(M.y0+M.y1)/2];"v"===E.orientation&&y.reverse(),r&&r.contains(y,!1,k,B)&&D.push({pointNumber:M.pointNumber})}}return D}},75225:function(ae,B,r){"use strict";var D=r(71828);ae.exports=function(E,f){for(var k=0;k<E.length;k++)E[k].i=k;D.mergeArray(f.text,E,"tx"),D.mergeArray(f.texttemplate,E,"txt"),D.mergeArray(f.hovertext,E,"htx"),D.mergeArray(f.customdata,E,"data"),D.mergeArray(f.textposition,E,"tp"),f.textfont&&(D.mergeArrayCastPositive(f.textfont.size,E,"ts"),D.mergeArray(f.textfont.color,E,"tc"),D.mergeArray(f.textfont.family,E,"tf"));var M=f.marker;if(M){D.mergeArrayCastPositive(M.size,E,"ms"),D.mergeArrayCastPositive(M.opacity,E,"mo"),D.mergeArray(M.symbol,E,"mx"),D.mergeArray(M.angle,E,"ma"),D.mergeArray(M.standoff,E,"mf"),D.mergeArray(M.color,E,"mc");var y=M.line;M.line&&(D.mergeArray(y.color,E,"mlc"),D.mergeArrayCastPositive(y.width,E,"mlw"));var c=M.gradient;c&&"none"!==c.type&&(D.mergeArray(c.type,E,"mgt"),D.mergeArray(c.color,E,"mgc"))}}},82196:function(ae,B,r){"use strict";var D=r(12663).axisHoverFormat,E=r(5386).si,f=r(5386).fF,k=r(50693),M=r(41940),y=r(79952).P,c=r(79952).u,i=r(91424),s=r(47581),a=r(1426).extendFlat;ae.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dx:{valType:"number",dflt:1,editType:"calc",anim:!0},y:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dy:{valType:"number",dflt:1,editType:"calc",anim:!0},xperiod:{valType:"any",dflt:0,editType:"calc"},yperiod:{valType:"any",dflt:0,editType:"calc"},xperiod0:{valType:"any",editType:"calc"},yperiod0:{valType:"any",editType:"calc"},xperiodalignment:{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"},yperiodalignment:{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"},xhoverformat:D("x"),yhoverformat:D("y"),offsetgroup:{valType:"string",dflt:"",editType:"calc"},alignmentgroup:{valType:"string",dflt:"",editType:"calc"},stackgroup:{valType:"string",dflt:"",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc"},groupnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},stackgaps:{valType:"enumerated",values:["infer zero","interpolate"],dflt:"infer zero",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},texttemplate:E({},{}),hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"],editType:"calc"},hoveron:{valType:"flaglist",flags:["points","fills"],editType:"style"},hovertemplate:f({},{keys:s.eventDataKeys}),line:{color:{valType:"color",editType:"style",anim:!0},width:{valType:"number",min:0,dflt:2,editType:"style",anim:!0},shape:{valType:"enumerated",values:["linear","spline","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},smoothing:{valType:"number",min:0,max:1.3,dflt:1,editType:"plot"},dash:a({},y,{editType:"style"}),backoff:{valType:"number",min:0,dflt:"auto",arrayOk:!0,editType:"plot"},simplify:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},cliponaxis:{valType:"boolean",dflt:!0,editType:"plot"},fill:{valType:"enumerated",values:["none","tozeroy","tozerox","tonexty","tonextx","toself","tonext"],editType:"calc"},fillcolor:{valType:"color",editType:"style",anim:!0},fillpattern:c,marker:a({symbol:{valType:"enumerated",values:i.symbolList,dflt:"circle",arrayOk:!0,editType:"style"},opacity:{valType:"number",min:0,max:1,arrayOk:!0,editType:"style",anim:!0},angle:{valType:"angle",dflt:0,arrayOk:!0,editType:"plot",anim:!1},angleref:{valType:"enumerated",values:["previous","up"],dflt:"up",editType:"plot",anim:!1},standoff:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"plot",anim:!0},size:{valType:"number",min:0,dflt:6,arrayOk:!0,editType:"calc",anim:!0},maxdisplayed:{valType:"number",min:0,dflt:0,editType:"plot"},sizeref:{valType:"number",dflt:1,editType:"calc"},sizemin:{valType:"number",min:0,dflt:0,editType:"calc"},sizemode:{valType:"enumerated",values:["diameter","area"],dflt:"diameter",editType:"calc"},line:a({width:{valType:"number",min:0,arrayOk:!0,editType:"style",anim:!0},editType:"calc"},k("marker.line",{anim:!0})),gradient:{type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],arrayOk:!0,dflt:"none",editType:"calc"},color:{valType:"color",arrayOk:!0,editType:"calc"},editType:"calc"},editType:"calc"},k("marker",{anim:!0})),selected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},unselected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"middle center",arrayOk:!0,editType:"calc"},textfont:M({editType:"calc",colorEditType:"style",arrayOk:!0})}},47761:function(ae,B,r){"use strict";var D=r(92770),E=r(71828),f=r(89298),k=r(42973),M=r(50606).BADNUM,y=r(34098),c=r(36922),i=r(75225),s=r(66279);function a(v,p,T,_,m,w,x){var b=p._length,A=v._fullLayout,g=T._id,I=_._id,S=A._firstScatter[u(p)]===p.uid,O=(h(p,A,T,_)||{}).orientation,R=p.fill;T._minDtick=0,_._minDtick=0;var L={padded:!0},N={padded:!0};x&&(L.ppad=N.ppad=x);var j=b<2||m[0]!==m[b-1]||w[0]!==w[b-1];j&&("tozerox"===R||"tonextx"===R&&(S||"h"===O))?L.tozero=!0:(p.error_y||{}).visible||"tonexty"!==R&&"tozeroy"!==R&&(y.hasMarkers(p)||y.hasText(p))||(L.padded=!1,L.ppad=0),j&&("tozeroy"===R||"tonexty"===R&&(S||"v"===O))?N.tozero=!0:"tonextx"!==R&&"tozerox"!==R||(N.padded=!1),g&&(p._extremes[g]=f.findExtremes(T,m,L)),I&&(p._extremes[I]=f.findExtremes(_,w,N))}function o(v,p){if(y.hasMarkers(v)){var T,_=v.marker,m=1.6*(v.marker.sizeref||1);if(T="area"===v.marker.sizemode?function(g){return Math.max(Math.sqrt((g||0)/m),3)}:function(g){return Math.max((g||0)/m,3)},E.isArrayOrTypedArray(_.size)){var w={type:"linear"};f.setConvert(w);for(var x=w.makeCalcdata(v.marker,"size"),b=new Array(p),A=0;A<p;A++)b[A]=T(x[A]);return b}return T(_.size)}}function l(v,p){var T=u(p),_=v._firstScatter;_[T]||(_[T]=p.uid)}function u(v){var p=v.stackgroup;return v.xaxis+v.yaxis+v.type+(p?"-"+p:"")}function h(v,p,T,_){var m=v.stackgroup;if(m){var w=p._scatterStackOpts[T._id+_._id][m],x="v"===w.orientation?_:T;return"linear"===x.type||"log"===x.type?w:void 0}}ae.exports={calc:function(v,p){var T,_,m,w,x,b,A=v._fullLayout,g=p._xA=f.getFromId(v,p.xaxis||"x","x"),I=p._yA=f.getFromId(v,p.yaxis||"y","y"),S=g.makeCalcdata(p,"x"),O=I.makeCalcdata(p,"y"),R=k(p,g,"x",S),L=k(p,I,"y",O),N=R.vals,j=L.vals,X=p._length,F=new Array(X),Y=p.ids,G=h(p,A,g,I),H=!1;l(A,p);var W,Z="x",se="y";G?(E.pushUnique(G.traceIndices,p._expandedIndex),(T="v"===G.orientation)?(se="s",W="x"):(Z="s",W="y"),x="interpolate"===G.stackgaps):a(v,p,g,I,N,j,o(p,X));var re=!!p.xperiodalignment,ne=!!p.yperiodalignment;for(_=0;_<X;_++){var Q=F[_]={},ee=D(N[_]),oe=D(j[_]);ee&&oe?(Q[Z]=N[_],Q[se]=j[_],re&&(Q.orig_x=S[_],Q.xEnd=R.ends[_],Q.xStart=R.starts[_]),ne&&(Q.orig_y=O[_],Q.yEnd=L.ends[_],Q.yStart=L.starts[_])):G&&(T?ee:oe)?(Q[W]=T?N[_]:j[_],Q.gap=!0,x?(Q.s=M,H=!0):Q.s=0):Q[Z]=Q[se]=M,Y&&(Q.id=String(Y[_]))}if(i(F,p),c(v,p),s(F,p),G){for(_=0;_<F.length;)F[_][W]===M?F.splice(_,1):_++;if(E.sort(F,function(pe,Me){return pe[W]-Me[W]||pe.i-Me.i}),H){for(_=0;_<F.length-1&&F[_].gap;)_++;for((b=F[_].s)||(b=F[_].s=0),m=0;m<_;m++)F[m].s=b;for(w=F.length-1;w>_&&F[w].gap;)w--;for(b=F[w].s,m=F.length-1;m>w;m--)F[m].s=b;for(;_<w;)if(F[++_].gap){for(m=_+1;F[m].gap;)m++;for(var ce=F[_-1][W],fe=F[_-1].s,le=(F[m].s-fe)/(F[m][W]-ce);_<m;)F[_].s=fe+(F[_][W]-ce)*le,_++}}}return F},calcMarkerSize:o,calcAxisExpansion:a,setFirstScatter:l,getStackOpts:h}},66279:function(ae,B,r){"use strict";var D=r(71828);ae.exports=function(E,f){D.isArrayOrTypedArray(f.selectedpoints)&&D.tagSelected(E,f)}},36922:function(ae,B,r){"use strict";var D=r(52075).hasColorscale,E=r(78803),f=r(34098);ae.exports=function(k,M){f.hasLines(M)&&D(M,"line")&&E(k,M,{vals:M.line.color,containerStr:"line",cLetter:"c"}),f.hasMarkers(M)&&(D(M,"marker")&&E(k,M,{vals:M.marker.color,containerStr:"marker",cLetter:"c"}),D(M,"marker.line")&&E(k,M,{vals:M.marker.line.color,containerStr:"marker.line",cLetter:"c"}))}},47581:function(ae){"use strict";ae.exports={PTS_LINESONLY:20,minTolerance:.2,toleranceGrowth:10,maxScreensAway:20,eventDataKeys:[]}},72626:function(ae,B,r){"use strict";var D=r(47761),E=r(11661).setGroupPositions;function f(k,M,y,c,i,s,a){i[c]=!0;var u,h,p,T,_,o={i:null,gap:!0,s:0};if(o[a]=y,k.splice(M,0,o),M&&y===k[M-1][a]){var l=k[M-1];o.s=l.s,o.i=l.i,o.gap=l.gap}else s&&(o.s=(p=a,T=(u=k)[(h=M)-1],(_=u[h+1])?T?T.s+(_.s-T.s)*(y-T[p])/(_[p]-T[p]):_.s:T.s));M||(k[0].t=k[1].t,k[0].trace=k[1].trace,delete k[1].t,delete k[1].trace)}ae.exports=function(k,M){"group"===k._fullLayout.scattermode&&function(W,Z){for(var se=Z.xaxis,re=Z.yaxis,ne=W._fullLayout,Q=W._fullData,ee=W.calcdata,oe=[],ce=[],fe=0;fe<Q.length;fe++){var le=Q[fe];!0===le.visible&&"scatter"===le.type&&le.xaxis===se._id&&le.yaxis===re._id&&("h"===le.orientation?oe.push(ee[fe]):"v"===le.orientation&&ce.push(ee[fe]))}var pe={mode:ne.scattermode,gap:ne.scattergap};E(W,se,re,ce,pe),E(W,re,se,oe,pe)}(k,M);var y=M.xaxis,c=M.yaxis,s=k._fullLayout._scatterStackOpts[y._id+c._id];if(s){var a,o,l,u,h,v,p,T,_,m,w,x,b,A,g,I=k.calcdata;for(var S in s){var O=(m=s[S]).traceIndices;if(O.length){for(w="interpolate"===m.stackgaps,x=m.groupnorm,"v"===m.orientation?(b="x",A="y"):(b="y",A="x"),g=new Array(O.length),a=0;a<g.length;a++)g[a]=!1;v=I[O[0]];var R=new Array(v.length);for(a=0;a<v.length;a++)R[a]=v[a][b];for(a=1;a<O.length;a++){for(h=I[O[a]],o=l=0;o<h.length;o++){for(p=h[o][b];p>R[l]&&l<R.length;l++)f(h,o,R[l],a,g,w,b),o++;if(p!==R[l]){for(u=0;u<a;u++)f(I[O[u]],l,p,u,g,w,b);R.splice(l,0,p)}l++}for(;l<R.length;l++)f(h,o,R[l],a,g,w,b),o++}var L=R.length;for(o=0;o<v.length;o++){for(T=v[o][A]=v[o].s,a=1;a<O.length;a++)(h=I[O[a]])[0].trace._rawLength=h[0].trace._length,h[0].trace._length=L,h[o][A]=T+=h[o].s;if(x)for(_=("fraction"===x?T:T/100)||1,a=0;a<O.length;a++){var N=I[O[a]][o];N[A]/=_,N.sNorm=N.s/_}}for(a=0;a<O.length;a++){var j=(h=I[O[a]])[0].trace,X=D.calcMarkerSize(j,j._rawLength),F=Array.isArray(X);if(X&&g[a]||F){var Y=X;for(X=new Array(L),o=0;o<L;o++)X[o]=h[o].gap?0:F?Y[h[o].i]:Y}var G=new Array(L),H=new Array(L);for(o=0;o<L;o++)G[o]=h[o].x,H[o]=h[o].y;D.calcAxisExpansion(k,j,y,c,G,H,X),h[0].t.orientation=m.orientation}}}}}},34936:function(ae,B,r){"use strict";var D=r(71828),E=r(26125),f=r(82196);ae.exports=function(k,M){var c,i;function s(h){return D.coerce(c._input,c,f,h)}if("group"===M.scattermode)for(i=0;i<k.length;i++)"scatter"===(c=k[i]).type&&E(c._input,c,M,s);for(i=0;i<k.length;i++){var a=k[i];if("scatter"===a.type){var o=a.fill;if("none"!==o&&"toself"!==o&&(a.opacity=void 0,"tonexty"===o||"tonextx"===o))for(var l=i-1;l>=0;l--){var u=k[l];if("scatter"===u.type&&u.xaxis===a.xaxis&&u.yaxis===a.yaxis){u.opacity=void 0;break}}}}}},17438:function(ae,B,r){"use strict";var D=r(71828),E=r(73972),f=r(82196),k=r(47581),M=r(34098),y=r(67513),c=r(73927),i=r(565),s=r(49508),a=r(11058),o=r(94039),l=r(82410),u=r(28908),h=r(71828).coercePattern;ae.exports=function(v,p,T,_){function m(O,R){return D.coerce(v,p,f,O,R)}var w=y(v,p,_,m);if(w||(p.visible=!1),p.visible){c(v,p,_,m),m("xhoverformat"),m("yhoverformat");var x=i(v,p,_,m);"group"===_.scattermode&&void 0===p.orientation&&m("orientation","v");var b=!x&&w<k.PTS_LINESONLY?"lines+markers":"lines";m("text"),m("hovertext"),m("mode",b),M.hasLines(p)&&(a(v,p,T,_,m,{backoff:!0}),o(v,p,m),m("connectgaps"),m("line.simplify")),M.hasMarkers(p)&&s(v,p,T,_,m,{gradient:!0}),M.hasText(p)&&(m("texttemplate"),l(v,p,_,m));var A=[];(M.hasMarkers(p)||M.hasText(p))&&(m("cliponaxis"),m("marker.maxdisplayed"),A.push("points")),m("fill",x?x.fillDflt:"none"),"none"!==p.fill&&(u(v,p,T,m),M.hasLines(p)||o(v,p,m),h(m,"fillpattern",p.fillcolor,!1));var g=(p.line||{}).color,I=(p.marker||{}).color;"tonext"!==p.fill&&"toself"!==p.fill||A.push("fills"),m("hoveron",A.join("+")||"points"),"fills"!==p.hoveron&&m("hovertemplate");var S=E.getComponentMethod("errorbars","supplyDefaults");S(v,p,g||I||T,{axis:"y"}),S(v,p,g||I||T,{axis:"x",inherit:"y"}),D.coerceSelectionMarkerOpacity(p,m)}}},28908:function(ae,B,r){"use strict";var D=r(7901),E=r(71828).isArrayOrTypedArray;ae.exports=function(f,k,M,y){var c=!1;if(k.marker){var i=k.marker.color,s=(k.marker.line||{}).color;i&&!E(i)?c=i:s&&!E(s)&&(c=s)}y("fillcolor",D.addOpacity((k.line||{}).color||c||M,.5))}},8225:function(ae,B,r){"use strict";var D=r(89298);ae.exports=function(E,f,k){var M={},y={_fullLayout:k},c=D.getFromTrace(y,f,"x"),i=D.getFromTrace(y,f,"y"),s=E.orig_x;void 0===s&&(s=E.x);var a=E.orig_y;return void 0===a&&(a=E.y),M.xLabel=D.tickText(c,c.c2l(s),!0).text,M.yLabel=D.tickText(i,i.c2l(a),!0).text,M}},34603:function(ae,B,r){"use strict";var D=r(7901),E=r(34098);ae.exports=function(f,k){var M,y;if("lines"===f.mode)return(M=f.line.color)&&D.opacity(M)?M:f.fillcolor;if("none"===f.mode)return f.fill?f.fillcolor:"";var c=k.mcc||(f.marker||{}).color,i=k.mlcc||((f.marker||{}).line||{}).color;return(y=c&&D.opacity(c)?c:i&&D.opacity(i)&&(k.mlw||((f.marker||{}).line||{}).width)?i:"")?D.opacity(y)<.3?D.addOpacity(y,.3):y:(M=(f.line||{}).color)&&D.opacity(M)&&E.hasLines(f)&&f.line.width?M:f.fillcolor}},26125:function(ae,B,r){"use strict";var D=r(99082).getAxisGroup;ae.exports=function(E,f,k,M){var y=f.orientation,i=D(k,f[{v:"x",h:"y"}[y]+"axis"])+y,s=k._alignmentOpts||{},a=M("alignmentgroup"),o=s[i];o||(o=s[i]={});var l=o[a];l?l.traces.push(f):l=o[a]={traces:[f],alignmentIndex:Object.keys(o).length,offsetGroups:{}};var u=M("offsetgroup"),h=l.offsetGroups,v=h[u];u&&(v||(v=h[u]={offsetIndex:Object.keys(h).length}),f._offsetIndex=v.offsetIndex)}},33720:function(ae,B,r){"use strict";var D=r(71828),E=r(30211),f=r(73972),k=r(34603),M=r(7901),y=D.fillText;ae.exports=function(c,i,s,a){var o=c.cd,l=o[0].trace,u=c.xa,h=c.ya,v=u.c2p(i),p=h.c2p(s),T=[v,p],_=l.hoveron||"",m=-1!==l.mode.indexOf("markers")?3:.5,w=!!l.xperiodalignment,x=!!l.yperiodalignment;if(-1!==_.indexOf("points")){var b=function(Ae){var be=Math.max(m,Ae.mrc||0),ye=u.c2p(Ae.x)-v,we=h.c2p(Ae.y)-p;return Math.max(Math.sqrt(ye*ye+we*we)-be,1-m/be)},A=E.getDistanceFunction(a,function(Ae){if(w){var be=u.c2p(Ae.xStart),ye=u.c2p(Ae.xEnd);return v>=Math.min(be,ye)&&v<=Math.max(be,ye)?0:1/0}var we=Math.max(3,Ae.mrc||0),ze=1-1/we,Se=Math.abs(u.c2p(Ae.x)-v);return Se<we?ze*Se/we:Se-we+ze},function(Ae){if(x){var be=h.c2p(Ae.yStart),ye=h.c2p(Ae.yEnd);return p>=Math.min(be,ye)&&p<=Math.max(be,ye)?0:1/0}var we=Math.max(3,Ae.mrc||0),ze=1-1/we,Se=Math.abs(h.c2p(Ae.y)-p);return Se<we?ze*Se/we:Se-we+ze},b);if(E.getClosest(o,A,c),!1!==c.index){var g=o[c.index],I=u.c2p(g.x,!0),S=h.c2p(g.y,!0),O=g.mrc||1;c.index=g.i;var R=o[0].t.orientation,L=R&&(g.sNorm||g.s),N="h"===R?L:void 0!==g.orig_x?g.orig_x:g.x,j="v"===R?L:void 0!==g.orig_y?g.orig_y:g.y;return D.extendFlat(c,{color:k(l,g),x0:I-O,x1:I+O,xLabelVal:N,y0:S-O,y1:S+O,yLabelVal:j,spikeDistance:b(g),hovertemplate:l.hovertemplate}),y(g,l,c),f.getComponentMethod("errorbars","hoverInfo")(g,l,c),[c]}}if(-1!==_.indexOf("fills")&&l._polygons){var X,F,Y,G,H,W,se,re,ne=l._polygons,Q=[],ee=!1,oe=1/0,ce=-1/0,fe=1/0,le=-1/0;for(X=0;X<ne.length;X++)(Y=ne[X]).contains(T)&&(ee=!ee,Q.push(Y),fe=Math.min(fe,Y.ymin),le=Math.max(le,Y.ymax));if(ee){var pe=((fe=Math.max(fe,0))+(le=Math.min(le,h._length)))/2;for(X=0;X<Q.length;X++)for(G=Q[X].pts,F=1;F<G.length;F++)(se=G[F-1][1])>pe!=(re=G[F][1])>=pe&&(W=G[F-1][0],re-se&&(H=W+(G[F][0]-W)*(pe-se)/(re-se),oe=Math.min(oe,H),ce=Math.max(ce,H)));oe=Math.max(oe,0),ce=Math.min(ce,u._length);var Me=M.defaultLine;return M.opacity(l.fillcolor)?Me=l.fillcolor:M.opacity((l.line||{}).color)&&(Me=l.line.color),D.extendFlat(c,{distance:c.maxHoverDistance,x0:oe,x1:ce,y0:pe,y1:pe,color:Me,hovertemplate:!1}),delete c.index,c.text=l.text&&!Array.isArray(l.text)?String(l.text):l.name,[c]}}}},67368:function(ae,B,r){"use strict";var D=r(34098);ae.exports={hasLines:D.hasLines,hasMarkers:D.hasMarkers,hasText:D.hasText,isBubble:D.isBubble,attributes:r(82196),layoutAttributes:r(21479),supplyDefaults:r(17438),crossTraceDefaults:r(34936),supplyLayoutDefaults:r(79334),calc:r(47761).calc,crossTraceCalc:r(72626),arraysToCalcdata:r(75225),plot:r(32663),colorbar:r(4898),formatLabels:r(8225),style:r(16296).style,styleOnSelect:r(16296).styleOnSelect,hoverPoints:r(33720),selectPoints:r(98002),animatable:!0,moduleType:"trace",name:"scatter",basePlotModule:r(93612),categories:["cartesian","svg","symbols","errorBarsOK","showLegend","scatter-like","zoomScale"],meta:{}}},21479:function(ae){"use strict";ae.exports={scattermode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},scattergap:{valType:"number",min:0,max:1,editType:"calc"}}},79334:function(ae,B,r){"use strict";var D=r(71828),E=r(21479);ae.exports=function(f,k){"group"===k.scattermode&&D.coerce(f,k,E,"scattergap","group"===k.barmode?k.bargap:.2)}},11058:function(ae,B,r){"use strict";var D=r(71828).isArrayOrTypedArray,E=r(52075).hasColorscale,f=r(1586);ae.exports=function(k,M,y,c,i,s){s||(s={});var a=(k.marker||{}).color;i("line.color",y),E(k,"line")?f(k,M,c,i,{prefix:"line.",cLetter:"c"}):i("line.color",!D(a)&&a||y),i("line.width"),s.noDash||i("line.dash"),s.backoff&&i("line.backoff")}},34621:function(ae,B,r){"use strict";var D=r(91424),E=r(50606),f=E.BADNUM,k=E.LOG_CLIP,M=k+.5,y=k-.5,c=r(71828),i=c.segmentsIntersect,s=c.constrain,a=r(47581);ae.exports=function(o,l){var u,h,v,p,T,_,m,w,x,b,A,g,I,S,O,R,L,N,j=l.trace||{},X=l.xaxis,F=l.yaxis,Y="log"===X.type,G="log"===F.type,H=X._length,W=F._length,Z=l.backoff,se=j.marker,re=l.connectGaps,ne=l.baseTolerance,Q=l.shape,ee="linear"===Q,oe=j.fill&&"none"!==j.fill,ce=[],fe=a.minTolerance,le=o.length,pe=new Array(le),Me=0;function Ae(Lt){var tt=o[Lt];if(!tt)return!1;var it=l.linearized?X.l2p(tt.x):X.c2p(tt.x),Je=l.linearized?F.l2p(tt.y):F.c2p(tt.y);if(it===f){if(Y&&(it=X.c2p(tt.x,!0)),it===f)return!1;G&&Je===f&&(it*=Math.abs(X._m*W*(X._m>0?M:y)/(F._m*H*(F._m>0?M:y)))),it*=1e3}if(Je===f){if(G&&(Je=F.c2p(tt.y,!0)),Je===f)return!1;Je*=1e3}return[it,Je]}function be(Lt,tt,it,Je){var ot=it-Lt,gt=Je-tt,ft=.5-Lt,Ue=.5-tt,$e=ot*ot+gt*gt,dt=ot*ft+gt*Ue;if(dt>0&&dt<$e){var ut=ft*gt-Ue*ot;if(ut*ut<$e)return!0}}function ye(Lt,tt){var it=Lt[0]/H,Je=Lt[1]/W,ot=Math.max(0,-it,it-1,-Je,Je-1);return ot&&void 0!==L&&be(it,Je,L,N)&&(ot=0),ot&&tt&&be(it,Je,tt[0]/H,tt[1]/W)&&(ot=0),(1+a.toleranceGrowth*ot)*ne}function we(Lt,tt){var it=Lt[0]-tt[0],Je=Lt[1]-tt[1];return Math.sqrt(it*it+Je*Je)}var ze,Se,Ce,ge,he,_e,Le,Ie=a.maxScreensAway,De=-H*Ie,je=H*(1+Ie),qe=-W*Ie,ve=W*(1+Ie),Oe=[[De,qe,je,qe],[je,qe,je,ve],[je,ve,De,ve],[De,ve,De,qe]];function ke(Lt){if(Lt[0]<De||Lt[0]>je||Lt[1]<qe||Lt[1]>ve)return[s(Lt[0],De,je),s(Lt[1],qe,ve)]}function Be(Lt,tt){return Lt[0]===tt[0]&&(Lt[0]===De||Lt[0]===je)||Lt[1]===tt[1]&&(Lt[1]===qe||Lt[1]===ve)||void 0}function We(Lt,tt,it){return function(Je,ot){var gt=ke(Je),ft=ke(ot),Ue=[];if(gt&&ft&&Be(gt,ft))return Ue;gt&&Ue.push(gt),ft&&Ue.push(ft);var $e=2*c.constrain((Je[Lt]+ot[Lt])/2,tt,it)-((gt||Je)[Lt]+(ft||ot)[Lt]);return $e&&((gt&&ft?$e>0==gt[Lt]>ft[Lt]?gt:ft:gt||ft)[Lt]+=$e),Ue}}function Ge(Lt){var tt=Lt[0],it=Lt[1],Je=tt===pe[Me-1][0],ot=it===pe[Me-1][1];if(!Je||!ot)if(Me>1){var gt=tt===pe[Me-2][0],ft=it===pe[Me-2][1];Je&&(tt===De||tt===je)&&gt?ft?Me--:pe[Me-1]=Lt:ot&&(it===qe||it===ve)&&ft?gt?Me--:pe[Me-1]=Lt:pe[Me++]=Lt}else pe[Me++]=Lt}function Ke(Lt){pe[Me-1][0]!==Lt[0]&&pe[Me-1][1]!==Lt[1]&&Ge([Ce,ge]),Ge(Lt),he=null,Ce=ge=0}"linear"===Q||"spline"===Q?Le=function(Lt,tt){for(var it=[],Je=0,ot=0;ot<4;ot++){var gt=Oe[ot],ft=i(Lt[0],Lt[1],tt[0],tt[1],gt[0],gt[1],gt[2],gt[3]);ft&&(!Je||Math.abs(ft.x-it[0][0])>1||Math.abs(ft.y-it[0][1])>1)&&(ft=[ft.x,ft.y],Je&&we(ft,Lt)<we(it[0],Lt)?it.unshift(ft):it.push(ft),Je++)}return it}:"hv"===Q||"vh"===Q?Le=function(Lt,tt){var it=[],Je=ke(Lt),ot=ke(tt);return Je&&ot&&Be(Je,ot)||(Je&&it.push(Je),ot&&it.push(ot)),it}:"hvh"===Q?Le=We(0,De,je):"vhv"===Q&&(Le=We(1,qe,ve));var et=c.isArrayOrTypedArray(se);function at(Lt){if(Lt&&Z&&(Lt.i=u,Lt.d=o,Lt.trace=j,Lt.marker=et?se[Lt.i]:se,Lt.backoff=Z),L=Lt[0]/H,N=Lt[1]/W,Se=Lt[1]<qe?qe:Lt[1]>ve?ve:0,(ze=Lt[0]<De?De:Lt[0]>je?je:0)||Se){if(Me)if(he){var tt=Le(he,Lt);tt.length>1&&(Ke(tt[0]),pe[Me++]=tt[1])}else _e=Le(pe[Me-1],Lt)[0],pe[Me++]=_e;else pe[Me++]=[ze||Lt[0],Se||Lt[1]];var it=pe[Me-1];ze&&Se&&(it[0]!==ze||it[1]!==Se)?(he&&(Ce!==ze&&ge!==Se?Ge(Ce&&ge?(gt=(ot=Lt)[0]-(Je=he)[0],ft=(ot[1]-Je[1])/gt,(Je[1]*ot[0]-ot[1]*Je[0])/gt>0?[ft>0?De:je,ve]:[ft>0?je:De,qe]):[Ce||ze,ge||Se]):Ce&&ge&&Ge([Ce,ge])),Ge([ze,Se])):Ce-ze&&ge-Se&&Ge([ze||Ce,Se||ge]),he=Lt,Ce=ze,ge=Se}else he&&Ke(Le(he,Lt)[0]),pe[Me++]=Lt;var Je,ot,gt,ft}for(u=0;u<le;u++)if(h=Ae(u)){for(Me=0,he=null,at(h),u++;u<le;u++){if(!(p=Ae(u))){if(re)continue;break}if(ee&&l.simplify){var mt=Ae(u+1);if(b=we(p,h),oe&&(0===Me||Me===le-1)||!(b<ye(p,mt)*fe)){for(w=[(p[0]-h[0])/b,(p[1]-h[1])/b],T=h,A=b,g=S=O=0,m=!1,v=p,u++;u<o.length;u++){if(_=mt,mt=Ae(u+1),!_){if(re)continue;break}if(R=(x=[_[0]-h[0],_[1]-h[1]])[0]*w[1]-x[1]*w[0],S=Math.min(S,R),(O=Math.max(O,R))-S>ye(_,mt))break;v=_,(I=x[0]*w[0]+x[1]*w[1])>A?(A=I,p=_,m=!1):I<g&&(g=I,T=_,m=!0)}if(m?(at(p),v!==T&&at(T)):(T!==h&&at(T),v!==p&&at(p)),at(v),u>=o.length||!_)break;at(_),h=_}}else at(p)}he&&Ge([Ce||he[0],ge||he[1]]),ce.push(pe.slice(0,Me))}var ct=Q.slice(Q.length-1);if(Z&&"h"!==ct&&"v"!==ct){for(var kt=!1,Dt=-1,Et=[],ht=0;ht<ce.length;ht++)for(var pt=0;pt<ce[ht].length-1;pt++){var Pt=ce[ht][pt],zt=ce[ht][pt+1],Ht=D.applyBackoff(zt,Pt);Ht[0]===zt[0]&&Ht[1]===zt[1]||(kt=!0),Et[Dt+1]||(Et[++Dt]=[Pt,[Ht[0],Ht[1]]])}return kt?Et:ce}return ce}},94039:function(ae){"use strict";ae.exports=function(B,r,D){"spline"===D("line.shape")&&D("line.smoothing")}},68687:function(ae){"use strict";var B={tonextx:1,tonexty:1,tonext:1};ae.exports=function(r,D,E){var f,k,M,y,c,i={},s=!1,a=-1,o=0,l=-1;for(k=0;k<E.length;k++)(M=(f=E[k][0].trace).stackgroup||"")?M in i?c=i[M]:(c=i[M]=o,o++):f.fill in B&&l>=0?c=l:(c=l=o,o++),c<a&&(s=!0),f._groupIndex=a=c;var u=E.slice();s&&u.sort(function(v,p){var T=v[0].trace,_=p[0].trace;return T._groupIndex-_._groupIndex||T.index-_.index});var h={};for(k=0;k<u.length;k++)M=(f=u[k][0].trace).stackgroup||"",!0===f.visible?(f._nexttrace=null,f.fill in B&&(f._prevtrace=(y=h[M])||null,y&&(y._nexttrace=f)),f._ownfill=f.fill&&("tozero"===f.fill.substr(0,6)||"toself"===f.fill||"to"===f.fill.substr(0,2)&&!f._prevtrace),h[M]=f):f._prevtrace=f._nexttrace=f._ownfill=null;return u}},39984:function(ae,B,r){"use strict";var D=r(92770);ae.exports=function(E,f){f||(f=2);var k=E.marker,M=k.sizeref||1,y=k.sizemin||0,c="area"===k.sizemode?function(i){return Math.sqrt(i/M)}:function(i){return i/M};return function(i){var s=c(i/f);return D(s)&&s>0?Math.max(s,y):0}}},4898:function(ae){"use strict";ae.exports={container:"marker",min:"cmin",max:"cmax"}},49508:function(ae,B,r){"use strict";var D=r(7901),E=r(52075).hasColorscale,f=r(1586),k=r(34098);ae.exports=function(M,y,c,i,s,a){var o=k.isBubble(M),l=(M.line||{}).color;a=a||{},l&&(c=l),s("marker.symbol"),s("marker.opacity",o?.7:1),s("marker.size"),a.noAngle||(s("marker.angle"),a.noAngleRef||s("marker.angleref"),a.noStandOff||s("marker.standoff")),s("marker.color",c),E(M,"marker")&&f(M,y,i,s,{prefix:"marker.",cLetter:"c"}),a.noSelect||(s("selected.marker.color"),s("unselected.marker.color"),s("selected.marker.size"),s("unselected.marker.size")),a.noLine||(s("marker.line.color",l&&!Array.isArray(l)&&y.marker.color!==l?l:o?D.background:D.defaultLine),E(M,"marker.line")&&f(M,y,i,s,{prefix:"marker.line.",cLetter:"c"}),s("marker.line.width",o?1:0)),o&&(s("marker.sizeref"),s("marker.sizemin"),s("marker.sizemode")),a.gradient&&"none"!==s("marker.gradient.type")&&s("marker.gradient.color")}},73927:function(ae,B,r){"use strict";var D=r(71828).dateTick0,E=r(50606).ONEWEEK;function f(k,M){return D(M,k%E==0?1:0)}ae.exports=function(k,M,y,c,i){if(i||(i={x:!0,y:!0}),i.x){var s=c("xperiod");s&&(c("xperiod0",f(s,M.xcalendar)),c("xperiodalignment"))}if(i.y){var a=c("yperiod");a&&(c("yperiod0",f(a,M.ycalendar)),c("yperiodalignment"))}}},32663:function(ae,B,r){"use strict";var D=r(39898),E=r(73972),f=r(71828),k=f.ensureSingle,M=f.identity,y=r(91424),c=r(34098),i=r(34621),s=r(68687),a=r(61082).tester;function o(l,u,h,v,p,T,_){var m,w=l._context.staticPlot;!function(Le,Ie,De,je,qe){var ve=De.xaxis,Oe=De.yaxis,ke=D.extent(f.simpleMap(ve.range,ve.r2c)),Be=D.extent(f.simpleMap(Oe.range,Oe.r2c)),We=je[0].trace;if(c.hasMarkers(We)){var Ge=We.marker.maxdisplayed;if(0!==Ge){var Ke=je.filter(function(ct){return ct.x>=ke[0]&&ct.x<=ke[1]&&ct.y>=Be[0]&&ct.y<=Be[1]}),et=Math.ceil(Ke.length/Ge),at=0;qe.forEach(function(ct,kt){var Dt=ct[0].trace;c.hasMarkers(Dt)&&Dt.marker.maxdisplayed>0&&kt<Ie&&at++});var mt=Math.round(at*et/3+Math.floor(at/3)*et/7.1);je.forEach(function(ct){delete ct.vis}),Ke.forEach(function(ct,kt){0===Math.round((kt+mt)%et)&&(ct.vis=!0)})}}}(0,u,h,v,p);var x=!!_&&_.duration>0;function b(Le){return x?Le.transition():Le}var A=h.xaxis,g=h.yaxis,I=v[0].trace,S=I.line,O=D.select(T),R=k(O,"g","errorbars"),L=k(O,"g","lines"),N=k(O,"g","points"),j=k(O,"g","text");if(E.getComponentMethod("errorbars","plot")(l,R,h,_),!0===I.visible){var X,F;b(O).style("opacity",I.opacity);var Y=I.fill.charAt(I.fill.length-1);"x"!==Y&&"y"!==Y&&(Y=""),v[0][h.isRangePlot?"nodeRangePlot3":"node3"]=O;var G,H,W="",Z=[],se=I._prevtrace;se&&(W=se._prevRevpath||"",F=se._nextFill,Z=se._polygons);var re,ne,Q,ee,oe,ce,fe,le="",pe="",Me=[],Ae=f.noop;if(X=I._ownFill,c.hasLines(I)||"none"!==I.fill){for(F&&F.datum(v),-1!==["hv","vh","hvh","vhv"].indexOf(S.shape)?(re=y.steps(S.shape),ne=y.steps(S.shape.split("").reverse().join(""))):re=ne="spline"===S.shape?function(Le){var Ie=Le[Le.length-1];return Le.length>1&&Le[0][0]===Ie[0]&&Le[0][1]===Ie[1]?y.smoothclosed(Le.slice(1),S.smoothing):y.smoothopen(Le,S.smoothing)}:function(Le){return"M"+Le.join("L")},Q=function(Le){return ne(Le.reverse())},Me=i(v,{xaxis:A,yaxis:g,trace:I,connectGaps:I.connectgaps,baseTolerance:Math.max(S.width||1,3)/4,shape:S.shape,backoff:S.backoff,simplify:S.simplify,fill:I.fill}),fe=I._polygons=new Array(Me.length),m=0;m<Me.length;m++)I._polygons[m]=a(Me[m]);Me.length&&(ee=Me[0][0],ce=(oe=Me[Me.length-1])[oe.length-1]),Ae=function(Le){return function(Ie){if(G=re(Ie),H=Q(Ie),le?Y?(le+="L"+G.substr(1),pe=H+"L"+pe.substr(1)):(le+="Z"+G,pe=H+"Z"+pe):(le=G,pe=H),c.hasLines(I)){var De=D.select(this);if(De.datum(v),Le)b(De.style("opacity",0).attr("d",G).call(y.lineGroupStyle)).style("opacity",1);else{var je=b(De);je.attr("d",G),y.singleLineStyle(v,je)}}}}}var be=L.selectAll(".js-line").data(Me);b(be.exit()).style("opacity",0).remove(),be.each(Ae(!1)),be.enter().append("path").classed("js-line",!0).style("vector-effect",w?"none":"non-scaling-stroke").call(y.lineGroupStyle).each(Ae(!0)),y.setClipUrl(be,h.layerClipId,l),Me.length?(X?(X.datum(v),ee&&ce&&(Y?("y"===Y?ee[1]=ce[1]=g.c2p(0,!0):"x"===Y&&(ee[0]=ce[0]=A.c2p(0,!0)),b(X).attr("d","M"+ce+"L"+ee+"L"+le.substr(1)).call(y.singleFillStyle,l)):b(X).attr("d",le+"Z").call(y.singleFillStyle,l))):F&&("tonext"===I.fill.substr(0,6)&&le&&W?("tonext"===I.fill?b(F).attr("d",le+"Z"+W+"Z").call(y.singleFillStyle,l):b(F).attr("d",le+"L"+W.substr(1)+"Z").call(y.singleFillStyle,l),I._polygons=I._polygons.concat(Z)):(we(F),I._polygons=null)),I._prevRevpath=pe,I._prevPolygons=fe):(X?we(X):F&&we(F),I._polygons=I._prevRevpath=I._prevPolygons=null),N.datum(v),j.datum(v),function(Le,Ie,De){var je,qe=De[0].trace,ve=c.hasMarkers(qe),Oe=c.hasText(qe),ke=function he(Le){if(Le.ids)return ge}(qe),Be=_e,We=_e;if(ve||Oe){var Ge=M,Ke=qe.stackgroup,et=Ke&&"infer zero"===l._fullLayout._scatterStackOpts[A._id+g._id][Ke].stackgaps;qe.marker.maxdisplayed||qe._needsCull?Ge=et?Se:ze:Ke&&!et&&(Ge=Ce),ve&&(Be=Ge),Oe&&(We=Ge)}var at,mt=(je=Le.selectAll("path.point").data(Be,ke)).enter().append("path").classed("point",!0);x&&mt.call(y.pointStyle,qe,l).call(y.translatePoints,A,g).style("opacity",0).transition().style("opacity",1),je.order(),ve&&(at=y.makePointStyleFns(qe)),je.each(function(ct){var kt=D.select(this),Dt=b(kt);y.translatePoint(ct,Dt,A,g)?(y.singlePointStyle(ct,Dt,qe,at,l),h.layerClipId&&y.hideOutsideRangePoint(ct,Dt,A,g,qe.xcalendar,qe.ycalendar),qe.customdata&&kt.classed("plotly-customdata",null!=ct.data)):Dt.remove()}),x?je.exit().transition().style("opacity",0).remove():je.exit().remove(),(je=Ie.selectAll("g").data(We,ke)).enter().append("g").classed("textpoint",!0).append("text"),je.order(),je.each(function(ct){var kt=D.select(this),Dt=b(kt.select("text"));y.translatePoint(ct,Dt,A,g)?h.layerClipId&&y.hideOutsideRangePoint(ct,kt,A,g,qe.xcalendar,qe.ycalendar):kt.remove()}),je.selectAll("text").call(y.textPointStyle,qe,l).each(function(ct){var kt=A.c2p(ct.x),Dt=g.c2p(ct.y);D.select(this).selectAll("tspan.line").each(function(){b(D.select(this)).attr({x:kt,y:Dt})})}),je.exit().remove()}(N,j,v);var ye=!1===I.cliponaxis?null:h.layerClipId;y.setClipUrl(N,ye,l),y.setClipUrl(j,ye,l)}function we(Le){b(Le).attr("d","M0,0Z")}function ze(Le){return Le.filter(function(Ie){return!Ie.gap&&Ie.vis})}function Se(Le){return Le.filter(function(Ie){return Ie.vis})}function Ce(Le){return Le.filter(function(Ie){return!Ie.gap})}function ge(Le){return Le.id}function _e(){return!1}}ae.exports=function(l,u,h,v,p,T){var _,m,A,I,w=!p,x=!!p&&p.duration>0,b=s(l,u,h);(_=v.selectAll("g.trace").data(b,function(A){return A[0].trace.uid})).enter().append("g").attr("class",function(A){return"trace scatter trace"+A[0].trace.uid}).style("stroke-miterlimit",2),_.order(),A=l,I=u,_.each(function(S){var O=k(D.select(this),"g","fills");y.setClipUrl(O,I.layerClipId,A);var R=S[0].trace,L=[];R._ownfill&&L.push("_ownFill"),R._nexttrace&&L.push("_nextFill");var N=O.selectAll("g").data(L,M);N.enter().append("g"),N.exit().each(function(j){R[j]=null}).remove(),N.order().each(function(j){R[j]=k(D.select(this),"path","js-fill")})}),x?(T&&(m=T()),D.transition().duration(p.duration).ease(p.easing).each("end",function(){m&&m()}).each("interrupt",function(){m&&m()}).each(function(){v.selectAll("g.trace").each(function(A,g){o(l,g,u,A,b,this,p)})})):_.each(function(A,g){o(l,g,u,A,b,this,p)}),w&&_.exit().remove(),v.selectAll("path:not([d])").remove()}},98002:function(ae,B,r){"use strict";var D=r(34098);ae.exports=function(E,f){var k,M,y,c,i=E.cd,s=E.xaxis,a=E.yaxis,o=[],l=i[0].trace;if(!D.hasMarkers(l)&&!D.hasText(l))return[];if(!1===f)for(k=0;k<i.length;k++)i[k].selected=0;else for(k=0;k<i.length;k++)y=s.c2p((M=i[k]).x),c=a.c2p(M.y),null!==M.i&&f.contains([y,c],!1,k,E)?(o.push({pointNumber:M.i,x:s.c2d(M.x),y:a.c2d(M.y)}),M.selected=1):M.selected=0;return o}},565:function(ae){"use strict";var B=["orientation","groupnorm","stackgaps"];ae.exports=function(r,D,E,f){var k=E._scatterStackOpts,M=f("stackgroup");if(M){var y=D.xaxis+D.yaxis,c=k[y];c||(c=k[y]={});var i=c[M],s=!1;i?i.traces.push(D):(i=c[M]={traceIndices:[],traces:[D]},s=!0);for(var a={orientation:D.x&&!D.y?"h":"v"},o=0;o<B.length;o++){var l=B[o],u=l+"Found";if(!i[u]){var h=void 0!==r[l],v="orientation"===l;if((h||s)&&(i[l]=f(l,a[l]),v&&(i.fillDflt="h"===i[l]?"tonextx":"tonexty"),h&&(i[u]=!0,!s&&(delete i.traces[0][l],v))))for(var p=0;p<i.traces.length-1;p++){var T=i.traces[p];T._input.fill!==T.fill&&(T.fill=i.fillDflt)}}}return i}}},16296:function(ae,B,r){"use strict";var D=r(39898),E=r(91424),f=r(73972);function k(y,c,i){E.pointStyle(y.selectAll("path.point"),c,i)}function M(y,c,i){E.textPointStyle(y.selectAll("text"),c,i)}ae.exports={style:function(y){var c=D.select(y).selectAll("g.trace.scatter");c.style("opacity",function(i){return i[0].trace.opacity}),c.selectAll("g.points").each(function(i){k(D.select(this),i.trace||i[0].trace,y)}),c.selectAll("g.text").each(function(i){M(D.select(this),i.trace||i[0].trace,y)}),c.selectAll("g.trace path.js-line").call(E.lineGroupStyle),c.selectAll("g.trace path.js-fill").call(E.fillGroupStyle,y),f.getComponentMethod("errorbars","style")(c)},stylePoints:k,styleText:M,styleOnSelect:function(y,c,i){var s=c[0].trace;s.selectedpoints?(E.selectedPointStyle(i.selectAll("path.point"),s),E.selectedTextStyle(i.selectAll("text"),s)):(k(i,s,y),M(i,s,y))}}},34098:function(ae,B,r){"use strict";var D=r(71828);ae.exports={hasLines:function(E){return E.visible&&E.mode&&-1!==E.mode.indexOf("lines")},hasMarkers:function(E){return E.visible&&(E.mode&&-1!==E.mode.indexOf("markers")||"splom"===E.type)},hasText:function(E){return E.visible&&E.mode&&-1!==E.mode.indexOf("text")},isBubble:function(E){return D.isPlainObject(E.marker)&&D.isArrayOrTypedArray(E.marker.size)}}},82410:function(ae,B,r){"use strict";var D=r(71828);ae.exports=function(E,f,k,M,y){y=y||{},M("textposition"),D.coerceFont(M,"textfont",y.font||k.font),y.noSelect||(M("selected.textfont.color"),M("unselected.textfont.color"))}},67513:function(ae,B,r){"use strict";var D=r(71828),E=r(73972);ae.exports=function(f,k,M,y){var c,i=y("x"),s=y("y");if(E.getComponentMethod("calendars","handleTraceDefaults")(f,k,["x","y"],M),i){var a=D.minRowLength(i);s?c=Math.min(a,D.minRowLength(s)):(c=a,y("y0"),y("dy"))}else{if(!s)return 0;c=D.minRowLength(s),y("x0"),y("dx")}return k._length=c,c}},44542:function(ae,B,r){"use strict";var D=r(82196),E=r(50693),f=r(12663).axisHoverFormat,k=r(5386).fF,M=r(5386).si,y=r(9012),c=r(29659),i=r(87381),s=r(1426).extendFlat,a=r(30962).overrideAll,o=r(78607),u=D.marker,h=u.line,v=s({width:D.line.width,dash:{valType:"enumerated",values:o(c),dflt:"solid"}},E("line")),p=ae.exports=a({x:D.x,y:D.y,z:{valType:"data_array"},text:s({},D.text,{}),texttemplate:M({},{}),hovertext:s({},D.hovertext,{}),hovertemplate:k(),xhoverformat:f("x"),yhoverformat:f("y"),zhoverformat:f("z"),mode:s({},D.mode,{dflt:"lines+markers"}),surfaceaxis:{valType:"enumerated",values:[-1,0,1,2],dflt:-1},surfacecolor:{valType:"color"},projection:{x:{show:{valType:"boolean",dflt:!1},opacity:{valType:"number",min:0,max:1,dflt:1},scale:{valType:"number",min:0,max:10,dflt:2/3}},y:{show:{valType:"boolean",dflt:!1},opacity:{valType:"number",min:0,max:1,dflt:1},scale:{valType:"number",min:0,max:10,dflt:2/3}},z:{show:{valType:"boolean",dflt:!1},opacity:{valType:"number",min:0,max:1,dflt:1},scale:{valType:"number",min:0,max:10,dflt:2/3}}},connectgaps:D.connectgaps,line:v,marker:s({symbol:{valType:"enumerated",values:o(i),dflt:"circle",arrayOk:!0},size:s({},u.size,{dflt:8}),sizeref:u.sizeref,sizemin:u.sizemin,sizemode:u.sizemode,opacity:s({},u.opacity,{arrayOk:!1}),colorbar:u.colorbar,line:s({width:s({},h.width,{arrayOk:!1})},E("marker.line"))},E("marker")),textposition:s({},D.textposition,{dflt:"top center"}),textfont:{color:D.textfont.color,size:D.textfont.size,family:s({},D.textfont.family,{arrayOk:!1})},opacity:y.opacity,hoverinfo:s({},y.hoverinfo)},"calc","nested");p.x.editType=p.y.editType=p.z.editType="calc+clearAxisTypes"},36563:function(ae,B,r){"use strict";var D=r(75225),E=r(36922);ae.exports=function(f,k){var M=[{x:!1,y:!1,trace:k,t:{}}];return D(M,k),E(f,k),M}},67336:function(ae,B,r){"use strict";var D=r(73972);function E(f,k,M,y){if(!k||!k.visible)return null;for(var c=D.getComponentMethod("errorbars","makeComputeError")(k),i=new Array(f.length),s=0;s<f.length;s++){var a=c(+f[s],s);if("log"===y.type){var o=y.c2l(f[s]),l=f[s]-a[0],u=f[s]+a[1];if(i[s]=[(y.c2l(l,!0)-o)*M,(y.c2l(u,!0)-o)*M],l>0){var h=y.c2l(l);y._lowerLogErrorBound||(y._lowerLogErrorBound=h),y._lowerErrorBound=Math.min(y._lowerLogErrorBound,h)}}else i[s]=[-a[0]*M,a[1]*M]}return i}ae.exports=function(f,k,M){var y=[E(f.x,f.error_x,k[0],M.xaxis),E(f.y,f.error_y,k[1],M.yaxis),E(f.z,f.error_z,k[2],M.zaxis)],c=function(u){for(var h=0;h<u.length;h++)if(u[h])return u[h].length;return 0}(y);if(0===c)return null;for(var i=new Array(c),s=0;s<c;s++){for(var a=[[0,0,0],[0,0,0]],o=0;o<3;o++)if(y[o])for(var l=0;l<2;l++)a[l][o]=y[o][s][l];i[s]=a}return i}},58925:function(ae,B,r){"use strict";var D=r(9330).gl_line3d,E=r(9330).gl_scatter3d,f=r(9330).gl_error3d,k=r(9330).gl_mesh3d,M=r(9330).delaunay_triangulate,y=r(71828),c=r(78614),i=r(81697).formatColor,s=r(39984),a=r(29659),o=r(87381),l=r(89298),u=r(23469).appendArrayPointValue,h=r(67336);function v(g,I){this.scene=g,this.uid=I,this.linePlot=null,this.scatterPlot=null,this.errorBars=null,this.textMarkers=null,this.delaunayMesh=null,this.color=null,this.mode="",this.dataPoints=[],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.textLabels=null,this.data=null}var p=v.prototype;function T(g){return null==g?0:g.indexOf("left")>-1?-1:g.indexOf("right")>-1?1:0}function _(g){return null==g?0:g.indexOf("top")>-1?-1:g.indexOf("bottom")>-1?1:0}function m(g,I){return I(4*g)}function w(g){return o[g]}function x(g,I,S,O,R){var L=null;if(y.isArrayOrTypedArray(g)){L=[];for(var N=0;N<I;N++)L[N]=void 0===g[N]?O:S(g[N],R)}else L=S(g,y.identity);return L}function b(g){if(y.isArrayOrTypedArray(g)){var I=g[0];return y.isArrayOrTypedArray(I)&&(g=I),"rgb("+g.slice(0,3).map(function(S){return Math.round(255*S)})+")"}return null}function A(g){return y.isArrayOrTypedArray(g)?4===g.length&&"number"==typeof g[0]?b(g):g.map(b):null}p.handlePick=function(g){if(g.object&&(g.object===this.linePlot||g.object===this.delaunayMesh||g.object===this.textMarkers||g.object===this.scatterPlot)){var I=g.index=g.data.index;return g.object.highlight&&g.object.highlight(null),this.scatterPlot&&(g.object=this.scatterPlot,this.scatterPlot.highlight(g.data)),g.textLabel="",this.textLabels&&(Array.isArray(this.textLabels)?(this.textLabels[I]||0===this.textLabels[I])&&(g.textLabel=this.textLabels[I]):g.textLabel=this.textLabels),g.traceCoordinate=[this.data.x[I],this.data.y[I],this.data.z[I]],!0}},p.update=function(g){var I,S,O,R,L=this.scene.glplot.gl,N=a.solid;this.data=g;var j=function(Y,G){var H,W,Z,se,re,ne,Q=[],ee=Y.fullSceneLayout,oe=Y.dataScale,ce=ee.xaxis,fe=ee.yaxis,le=ee.zaxis,pe=G.marker,Me=G.line,Ae=G.x||[],be=G.y||[],ye=G.z||[],we=Ae.length,ze=G.xcalendar,Se=G.ycalendar,Ce=G.zcalendar;for(re=0;re<we;re++)H=ce.d2l(Ae[re],0,ze)*oe[0],W=fe.d2l(be[re],0,Se)*oe[1],Z=le.d2l(ye[re],0,Ce)*oe[2],Q[re]=[H,W,Z];if(Array.isArray(G.text))ne=G.text;else if(void 0!==G.text)for(ne=new Array(we),re=0;re<we;re++)ne[re]=G.text;function ge(Ke,et){var at=ee[Ke];return l.tickText(at,at.d2l(et),!0).text}var he=G.texttemplate;if(he){var _e=Y.fullLayout._d3locale,Le=Array.isArray(he),Ie=Le?Math.min(he.length,we):we,De=Le?function(Ke){return he[Ke]}:function(){return he};for(ne=new Array(Ie),re=0;re<Ie;re++){var je={x:Ae[re],y:be[re],z:ye[re]},qe={xLabel:ge("xaxis",Ae[re]),yLabel:ge("yaxis",be[re]),zLabel:ge("zaxis",ye[re])},ve={};u(ve,G,re);var Oe=G._meta||{};ne[re]=y.texttemplateString(De(re),qe,_e,ve,je,Oe)}}if(se={position:Q,mode:G.mode,text:ne},"line"in G&&(se.lineColor=i(Me,1,we),se.lineWidth=Me.width,se.lineDashes=Me.dash),"marker"in G){var ke=s(G);se.scatterColor=i(pe,1,we),se.scatterSize=x(pe.size,we,m,20,ke),se.scatterMarker=x(pe.symbol,we,w,"\u25cf"),se.scatterLineWidth=pe.line.width,se.scatterLineColor=i(pe.line,1,we),se.scatterAngle=0}"textposition"in G&&(se.textOffset=function(Ke){var et=[0,0];if(Array.isArray(Ke))for(var at=0;at<Ke.length;at++)et[at]=[0,0],Ke[at]&&(et[at][0]=T(Ke[at]),et[at][1]=_(Ke[at]));else et[0]=T(Ke),et[1]=_(Ke);return et}(G.textposition),se.textColor=i(G.textfont,1,we),se.textSize=x(G.textfont.size,we,y.identity,12),se.textFont=G.textfont.family,se.textAngle=0);var Be=["x","y","z"];for(se.project=[!1,!1,!1],se.projectScale=[1,1,1],se.projectOpacity=[1,1,1],re=0;re<3;++re){var We=G.projection[Be[re]];(se.project[re]=We.show)&&(se.projectOpacity[re]=We.opacity,se.projectScale[re]=We.scale)}se.errorBounds=h(G,oe,ee);var Ge=function(Ke){for(var et=[0,0,0],at=[[0,0,0],[0,0,0],[0,0,0]],mt=[1,1,1],ct=0;ct<3;ct++){var kt=Ke[ct];kt&&!1!==kt.copy_zstyle&&!1!==Ke[2].visible&&(kt=Ke[2]),kt&&kt.visible&&(et[ct]=kt.width/2,at[ct]=c(kt.color),mt[ct]=kt.thickness)}return{capSize:et,color:at,lineWidth:mt}}([G.error_x,G.error_y,G.error_z]);return se.errorColor=Ge.color,se.errorLineWidth=Ge.lineWidth,se.errorCapSize=Ge.capSize,se.delaunayAxis=G.surfaceaxis,se.delaunayColor=c(G.surfacecolor),se}(this.scene,g);"mode"in j&&(this.mode=j.mode),"lineDashes"in j&&j.lineDashes in a&&(N=a[j.lineDashes]),this.color=A(j.scatterColor)||A(j.lineColor),this.dataPoints=j.position,I={gl:this.scene.glplot.gl,position:j.position,color:j.lineColor,lineWidth:j.lineWidth||1,dashes:N[0],dashScale:N[1],opacity:g.opacity,connectGaps:g.connectgaps},-1!==this.mode.indexOf("lines")?this.linePlot?this.linePlot.update(I):(this.linePlot=D(I),this.linePlot._trace=this,this.scene.glplot.add(this.linePlot)):this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose(),this.linePlot=null);var X=g.opacity;if(g.marker&&void 0!==g.marker.opacity&&(X*=g.marker.opacity),S={gl:this.scene.glplot.gl,position:j.position,color:j.scatterColor,size:j.scatterSize,glyph:j.scatterMarker,opacity:X,orthographic:!0,lineWidth:j.scatterLineWidth,lineColor:j.scatterLineColor,project:j.project,projectScale:j.projectScale,projectOpacity:j.projectOpacity},-1!==this.mode.indexOf("markers")?this.scatterPlot?this.scatterPlot.update(S):(this.scatterPlot=E(S),this.scatterPlot._trace=this,this.scatterPlot.highlightScale=1,this.scene.glplot.add(this.scatterPlot)):this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose(),this.scatterPlot=null),R={gl:this.scene.glplot.gl,position:j.position,glyph:j.text,color:j.textColor,size:j.textSize,angle:j.textAngle,alignment:j.textOffset,font:j.textFont,orthographic:!0,lineWidth:0,project:!1,opacity:g.opacity},this.textLabels=g.hovertext||g.text,-1!==this.mode.indexOf("text")?this.textMarkers?this.textMarkers.update(R):(this.textMarkers=E(R),this.textMarkers._trace=this,this.textMarkers.highlightScale=1,this.scene.glplot.add(this.textMarkers)):this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose(),this.textMarkers=null),O={gl:this.scene.glplot.gl,position:j.position,color:j.errorColor,error:j.errorBounds,lineWidth:j.errorLineWidth,capSize:j.errorCapSize,opacity:g.opacity},this.errorBars?j.errorBounds?this.errorBars.update(O):(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose(),this.errorBars=null):j.errorBounds&&(this.errorBars=f(O),this.errorBars._trace=this,this.scene.glplot.add(this.errorBars)),j.delaunayAxis>=0){var F=function(Y,G,H){var W,Z=(H+1)%3,se=(H+2)%3,re=[],ne=[];for(W=0;W<Y.length;++W){var Q=Y[W];!isNaN(Q[Z])&&isFinite(Q[Z])&&!isNaN(Q[se])&&isFinite(Q[se])&&(re.push([Q[Z],Q[se]]),ne.push(W))}var ee=M(re);for(W=0;W<ee.length;++W)for(var oe=ee[W],ce=0;ce<oe.length;++ce)oe[ce]=ne[oe[ce]];return{positions:Y,cells:ee,meshColor:G}}(j.position,j.delaunayColor,j.delaunayAxis);F.opacity=g.opacity,this.delaunayMesh?this.delaunayMesh.update(F):(F.gl=L,this.delaunayMesh=k(F),this.delaunayMesh._trace=this,this.scene.glplot.add(this.delaunayMesh))}else this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose(),this.delaunayMesh=null)},p.dispose=function(){this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose()),this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose()),this.errorBars&&(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose()),this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose()),this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose())},ae.exports=function(g,I){var S=new v(g,I.uid);return S.update(I),S}},21428:function(ae,B,r){"use strict";var D=r(73972),E=r(71828),f=r(34098),k=r(49508),M=r(11058),y=r(82410),c=r(44542);ae.exports=function(i,s,a,o){function l(w,x){return E.coerce(i,s,c,w,x)}var w,x,b,A,g,I,S,O;if(w=i,x=s,A=o,g=0,I=(b=l)("x"),S=b("y"),O=b("z"),D.getComponentMethod("calendars","handleTraceDefaults")(w,x,["x","y","z"],A),I&&S&&O&&(g=Math.min(I.length,S.length,O.length),x._length=x._xlength=x._ylength=x._zlength=g),g){l("text"),l("hovertext"),l("hovertemplate"),l("xhoverformat"),l("yhoverformat"),l("zhoverformat"),l("mode"),f.hasLines(s)&&(l("connectgaps"),M(i,s,a,o,l)),f.hasMarkers(s)&&k(i,s,a,o,l,{noSelect:!0,noAngle:!0}),f.hasText(s)&&(l("texttemplate"),y(i,s,o,l,{noSelect:!0}));var h=(s.line||{}).color,v=(s.marker||{}).color;l("surfaceaxis")>=0&&l("surfacecolor",h||v);for(var p=["x","y","z"],T=0;T<3;++T){var _="projection."+p[T];l(_+".show")&&(l(_+".opacity"),l(_+".scale"))}var m=D.getComponentMethod("errorbars","supplyDefaults");m(i,s,h||v||a,{axis:"z"}),m(i,s,h||v||a,{axis:"y",inherit:"z"}),m(i,s,h||v||a,{axis:"x",inherit:"z"})}else s.visible=!1}},13551:function(ae,B,r){"use strict";ae.exports={plot:r(58925),attributes:r(44542),markerSymbols:r(87381),supplyDefaults:r(21428),colorbar:[{container:"marker",min:"cmin",max:"cmax"},{container:"line",min:"cmin",max:"cmax"}],calc:r(36563),moduleType:"trace",name:"scatter3d",basePlotModule:r(58547),categories:["gl3d","symbols","showLegend","scatter-like"],meta:{}}},97001:function(ae,B,r){"use strict";var D=r(82196),E=r(9012),f=r(5386).fF,k=r(5386).si,M=r(50693),y=r(1426).extendFlat,c=D.marker,i=D.line,s=c.line;ae.exports={carpet:{valType:"string",editType:"calc"},a:{valType:"data_array",editType:"calc"},b:{valType:"data_array",editType:"calc"},mode:y({},D.mode,{dflt:"markers"}),text:y({},D.text,{}),texttemplate:k({editType:"plot"},{keys:["a","b","text"]}),hovertext:y({},D.hovertext,{}),line:{color:i.color,width:i.width,dash:i.dash,backoff:i.backoff,shape:y({},i.shape,{values:["linear","spline"]}),smoothing:i.smoothing,editType:"calc"},connectgaps:D.connectgaps,fill:y({},D.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:D.fillcolor,marker:y({symbol:c.symbol,opacity:c.opacity,maxdisplayed:c.maxdisplayed,angle:c.angle,angleref:c.angleref,standoff:c.standoff,size:c.size,sizeref:c.sizeref,sizemin:c.sizemin,sizemode:c.sizemode,line:y({width:s.width,editType:"calc"},M("marker.line")),gradient:c.gradient,editType:"calc"},M("marker")),textfont:D.textfont,textposition:D.textposition,selected:D.selected,unselected:D.unselected,hoverinfo:y({},E.hoverinfo,{flags:["a","b","text","name"]}),hoveron:D.hoveron,hovertemplate:f()}},34618:function(ae,B,r){"use strict";var D=r(92770),E=r(36922),f=r(75225),k=r(66279),M=r(47761).calcMarkerSize,y=r(22882);ae.exports=function(c,i){var s=i._carpetTrace=y(c,i);if(s&&s.visible&&"legendonly"!==s.visible){var a;i.xaxis=s.xaxis,i.yaxis=s.yaxis;var o,l,u=i._length,h=new Array(u),v=!1;for(a=0;a<u;a++)if(l=i.b[a],D(o=i.a[a])&&D(l)){var p=s.ab2xy(+o,+l,!0),T=s.isVisible(+o,+l);T||(v=!0),h[a]={x:p[0],y:p[1],a:o,b:l,vis:T}}else h[a]={x:!1,y:!1};return i._needsCull=v,h[0].carpet=s,h[0].trace=i,M(i,u),E(c,i),f(h,i),k(h,i),h}}},98965:function(ae,B,r){"use strict";var D=r(71828),E=r(47581),f=r(34098),k=r(49508),M=r(11058),y=r(94039),c=r(82410),i=r(28908),s=r(97001);ae.exports=function(a,o,l,u){function h(m,w){return D.coerce(a,o,s,m,w)}h("carpet"),o.xaxis="x",o.yaxis="y";var v=h("a"),p=h("b"),T=Math.min(v.length,p.length);if(T){o._length=T,h("text"),h("texttemplate"),h("hovertext"),h("mode",T<E.PTS_LINESONLY?"lines+markers":"lines"),f.hasLines(o)&&(M(a,o,l,u,h,{backoff:!0}),y(a,o,h),h("connectgaps")),f.hasMarkers(o)&&k(a,o,l,u,h,{gradient:!0}),f.hasText(o)&&c(a,o,u,h);var _=[];(f.hasMarkers(o)||f.hasText(o))&&(h("marker.maxdisplayed"),_.push("points")),h("fill"),"none"!==o.fill&&(i(a,o,l,h),f.hasLines(o)||y(a,o,h)),"tonext"!==o.fill&&"toself"!==o.fill||_.push("fills"),"fills"!==h("hoveron",_.join("+")||"points")&&h("hovertemplate"),D.coerceSelectionMarkerOpacity(o,h)}else o.visible=!1}},16165:function(ae){"use strict";ae.exports=function(B,r,D,E,f){var k=E[f];return B.a=k.a,B.b=k.b,B.y=k.y,B}},48953:function(ae){"use strict";ae.exports=function(B,r){var D={},E=r._carpet,f=E.ab2ij([B.a,B.b]),k=Math.floor(f[0]),M=f[0]-k,y=Math.floor(f[1]),i=E.evalxy([],k,y,M,f[1]-y);return D.yLabel=i[1].toFixed(3),D}},22931:function(ae,B,r){"use strict";var D=r(33720),E=r(71828).fillText;ae.exports=function(f,k,M,y){var c=D(f,k,M,y);if(c&&!1!==c[0].index){var i=c[0];if(void 0===i.index){var a=f.xa._length,o=a*(1-i.y0/f.ya._length)/2,l=a-o;return i.x0=Math.max(Math.min(i.x0,l),o),i.x1=Math.max(Math.min(i.x1,l),o),c}var u=i.cd[i.index];i.a=u.a,i.b=u.b,i.xLabelVal=void 0,i.yLabelVal=void 0;var h=i.trace,v=h._carpet,p=h._module.formatLabels(u,h);i.yLabel=p.yLabel,delete i.text;var T=[];if(!h.hovertemplate){var _=(u.hi||h.hoverinfo).split("+");-1!==_.indexOf("all")&&(_=["a","b","text"]),-1!==_.indexOf("a")&&m(v.aaxis,u.a),-1!==_.indexOf("b")&&m(v.baxis,u.b),T.push("y: "+i.yLabel),-1!==_.indexOf("text")&&E(u,h,T),i.extraText=T.join("<br>")}return c}function m(w,x){var b;b=w.labelprefix&&w.labelprefix.length>0?w.labelprefix.replace(/ = $/,""):w._hovertitle,T.push(b+": "+x.toFixed(3)+w.labelsuffix)}}},46858:function(ae,B,r){"use strict";ae.exports={attributes:r(97001),supplyDefaults:r(98965),colorbar:r(4898),formatLabels:r(48953),calc:r(34618),plot:r(1913),style:r(16296).style,styleOnSelect:r(16296).styleOnSelect,hoverPoints:r(22931),selectPoints:r(98002),eventData:r(16165),moduleType:"trace",name:"scattercarpet",basePlotModule:r(93612),categories:["svg","carpet","symbols","showLegend","carpetDependent","zoomScale"],meta:{}}},1913:function(ae,B,r){"use strict";var D=r(32663),E=r(89298),f=r(91424);ae.exports=function(k,M,y,c){var i,s,a,o=y[0][0].carpet,l=E.getFromId(k,o.xaxis||"x"),u=E.getFromId(k,o.yaxis||"y"),h={xaxis:l,yaxis:u,plot:M.plot};for(i=0;i<y.length;i++)(s=y[i][0].trace)._xA=l,s._yA=u;for(D(k,h,y,c),i=0;i<y.length;i++)a=c.selectAll("g.trace"+(s=y[i][0].trace).uid+" .js-line"),f.setClipUrl(a,y[i][0].carpet._clipPathId,k)}},19316:function(ae,B,r){"use strict";var D=r(5386).fF,E=r(5386).si,f=r(82196),k=r(9012),M=r(50693),y=r(79952).P,c=r(1426).extendFlat,i=r(30962).overrideAll,s=f.marker,a=f.line,o=s.line;ae.exports=i({lon:{valType:"data_array"},lat:{valType:"data_array"},locations:{valType:"data_array"},locationmode:{valType:"enumerated",values:["ISO-3","USA-states","country names","geojson-id"],dflt:"ISO-3"},geojson:{valType:"any",editType:"calc"},featureidkey:{valType:"string",editType:"calc",dflt:"id"},mode:c({},f.mode,{dflt:"markers"}),text:c({},f.text,{}),texttemplate:E({editType:"plot"},{keys:["lat","lon","location","text"]}),hovertext:c({},f.hovertext,{}),textfont:f.textfont,textposition:f.textposition,line:{color:a.color,width:a.width,dash:y},connectgaps:f.connectgaps,marker:c({symbol:s.symbol,opacity:s.opacity,angle:s.angle,angleref:c({},s.angleref,{values:["previous","up","north"]}),standoff:s.standoff,size:s.size,sizeref:s.sizeref,sizemin:s.sizemin,sizemode:s.sizemode,colorbar:s.colorbar,line:c({width:o.width},M("marker.line")),gradient:s.gradient},M("marker")),fill:{valType:"enumerated",values:["none","toself"],dflt:"none"},fillcolor:f.fillcolor,selected:f.selected,unselected:f.unselected,hoverinfo:c({},k.hoverinfo,{flags:["lon","lat","location","text","name"]}),hovertemplate:D()},"calc","nested")},84622:function(ae,B,r){"use strict";var D=r(92770),E=r(50606).BADNUM,f=r(36922),k=r(75225),M=r(66279),y=r(71828)._;function c(i){return i&&"string"==typeof i}ae.exports=function(i,s){var a,o=Array.isArray(s.locations),l=o?s.locations.length:s._length,u=new Array(l);a=s.geojson?function(m){return c(m)||D(m)}:c;for(var h=0;h<l;h++){var v=u[h]={};if(o){var p=s.locations[h];v.loc=a(p)?p:null}else{var T=s.lon[h],_=s.lat[h];v.lonlat=D(T)&&D(_)?[+T,+_]:[E,E]}}return k(u,s),f(i,s),M(u,s),l&&(u[0].t={labels:{lat:y(i,"lat:")+" ",lon:y(i,"lon:")+" "}}),u}},10659:function(ae,B,r){"use strict";var D=r(71828),E=r(34098),f=r(49508),k=r(11058),M=r(82410),y=r(28908),c=r(19316);ae.exports=function(i,s,a,o){function l(m,w){return D.coerce(i,s,c,m,w)}var u,h=l("locations");if(h&&h.length){var v,p=l("geojson");("string"==typeof p&&""!==p||D.isPlainObject(p))&&(v="geojson-id"),"geojson-id"===l("locationmode",v)&&l("featureidkey"),u=h.length}else{var T=l("lon")||[],_=l("lat")||[];u=Math.min(T.length,_.length)}u?(s._length=u,l("text"),l("hovertext"),l("hovertemplate"),l("mode"),E.hasLines(s)&&(k(i,s,a,o,l),l("connectgaps")),E.hasMarkers(s)&&f(i,s,a,o,l,{gradient:!0}),E.hasText(s)&&(l("texttemplate"),M(i,s,o,l)),l("fill"),"none"!==s.fill&&y(i,s,a,l),D.coerceSelectionMarkerOpacity(s,l)):s.visible=!1}},84084:function(ae){"use strict";ae.exports=function(B,r,D,E,f){B.lon=r.lon,B.lat=r.lat,B.location=r.loc?r.loc:null;var k=E[f];return k.fIn&&k.fIn.properties&&(B.properties=k.fIn.properties),B}},82719:function(ae,B,r){"use strict";var D=r(89298);ae.exports=function(E,f,k){var M={},y=k[f.geo]._subplot.mockAxis,c=E.lonlat;return M.lonLabel=D.tickText(y,y.c2l(c[0]),!0).text,M.latLabel=D.tickText(y,y.c2l(c[1]),!0).text,M}},14977:function(ae,B,r){"use strict";var D=r(30211),E=r(50606).BADNUM,f=r(34603),k=r(71828).fillText,M=r(19316);ae.exports=function(y,c,i){var s=y.cd,a=s[0].trace,o=y.xa,l=y.ya,u=y.subplot,h=u.projection.isLonLatOverEdges,v=u.project;if(D.getClosest(s,function(b){var A=b.lonlat;if(A[0]===E||h(A))return 1/0;var g=v(A),I=v([c,i]),S=Math.abs(g[0]-I[0]),O=Math.abs(g[1]-I[1]),R=Math.max(3,b.mrc||0);return Math.max(Math.sqrt(S*S+O*O)-R,1-3/R)},y),!1!==y.index){var p=s[y.index],T=p.lonlat,_=[o.c2p(T),l.c2p(T)],m=p.mrc||1;y.x0=_[0]-m,y.x1=_[0]+m,y.y0=_[1]-m,y.y1=_[1]+m,y.loc=p.loc,y.lon=T[0],y.lat=T[1];var w={};w[a.geo]={_subplot:u};var x=a._module.formatLabels(p,a,w);return y.lonLabel=x.lonLabel,y.latLabel=x.latLabel,y.color=f(a,p),y.extraText=function(b,A,g,I){if(!b.hovertemplate){var S=A.hi||b.hoverinfo,O="all"===S?M.hoverinfo.flags:S.split("+"),R=-1!==O.indexOf("location")&&Array.isArray(b.locations),L=-1!==O.indexOf("lon"),N=-1!==O.indexOf("lat"),j=-1!==O.indexOf("text"),X=[];return R?X.push(A.loc):L&&N?X.push("("+F(g.latLabel)+", "+F(g.lonLabel)+")"):L?X.push(I.lon+F(g.lonLabel)):N&&X.push(I.lat+F(g.latLabel)),j&&k(A,b,X),X.join("<br>")}function F(Y){return Y+"\xb0"}}(a,p,y,s[0].t.labels),y.hovertemplate=a.hovertemplate,[y]}}},17988:function(ae,B,r){"use strict";ae.exports={attributes:r(19316),supplyDefaults:r(10659),colorbar:r(4898),formatLabels:r(82719),calc:r(84622),calcGeoJSON:r(89171).calcGeoJSON,plot:r(89171).plot,style:r(33095),styleOnSelect:r(16296).styleOnSelect,hoverPoints:r(14977),eventData:r(84084),selectPoints:r(20548),moduleType:"trace",name:"scattergeo",basePlotModule:r(44622),categories:["geo","symbols","showLegend","scatter-like"],meta:{}}},89171:function(ae,B,r){"use strict";var D=r(39898),E=r(71828),f=r(90973).getTopojsonFeatures,k=r(18214),M=r(41327),y=r(71739).findExtremes,c=r(50606).BADNUM,i=r(47761).calcMarkerSize,s=r(34098),a=r(33095);ae.exports={calcGeoJSON:function(o,l){var u,h,v=o[0].trace,p=l[v.geo],T=p._subplot,_=v._length;if(Array.isArray(v.locations)){var m=v.locationmode,w="geojson-id"===m?M.extractTraceFeature(o):f(v,T.topojson);for(u=0;u<_;u++){h=o[u];var x="geojson-id"===m?h.fOut:M.locationToFeature(m,h.loc,w);h.lonlat=x?x.properties.ct:[c,c]}}var b,A,g={padded:!0};if("geojson"===p.fitbounds&&"geojson-id"===v.locationmode){var I=M.computeBbox(M.getTraceGeojson(v));b=[I[0],I[2]],A=[I[1],I[3]]}else{for(b=new Array(_),A=new Array(_),u=0;u<_;u++)b[u]=(h=o[u]).lonlat[0],A[u]=h.lonlat[1];g.ppad=i(v,_)}v._extremes.lon=y(p.lonaxis._ax,b,g),v._extremes.lat=y(p.lataxis._ax,A,g)},plot:function(o,l,u){var h=l.layers.frontplot.select(".scatterlayer"),v=E.makeTraceGroups(h,u,"trace scattergeo");function p(T,_){T.lonlat[0]===c&&D.select(_).remove()}v.selectAll("*").remove(),v.each(function(T){var _=D.select(this),m=T[0].trace;if(s.hasLines(m)||"none"!==m.fill){var w=k.calcTraceToLineCoords(T),x="none"!==m.fill?k.makePolygon(w):k.makeLine(w);_.selectAll("path.js-line").data([{geojson:x,trace:m}]).enter().append("path").classed("js-line",!0).style("stroke-miterlimit",2)}s.hasMarkers(m)&&_.selectAll("path.point").data(E.identity).enter().append("path").classed("point",!0).each(function(b){p(b,this)}),s.hasText(m)&&_.selectAll("g").data(E.identity).enter().append("g").append("text").each(function(b){p(b,this)}),a(o,T)})}}},20548:function(ae,B,r){"use strict";var D=r(34098),E=r(50606).BADNUM;ae.exports=function(f,k){var M,y,c,i,s,a=f.cd,o=f.xaxis,l=f.yaxis,u=[],h=a[0].trace;if(!D.hasMarkers(h)&&!D.hasText(h))return[];if(!1===k)for(s=0;s<a.length;s++)a[s].selected=0;else for(s=0;s<a.length;s++)(y=(M=a[s]).lonlat)[0]!==E&&(c=o.c2p(y),i=l.c2p(y),k.contains([c,i],null,s,f)?(u.push({pointNumber:s,lon:y[0],lat:y[1]}),M.selected=1):M.selected=0);return u}},33095:function(ae,B,r){"use strict";var D=r(39898),E=r(91424),f=r(7901),k=r(16296),M=k.stylePoints,y=k.styleText;ae.exports=function(c,i){var s,a,o,l;i&&(s=c,o=(a=i)[0].trace,(l=a[0].node3).style("opacity",a[0].trace.opacity),M(l,o,s),y(l,o,s),l.selectAll("path.js-line").style("fill","none").each(function(u){var h=D.select(this),v=u.trace,p=v.line||{};h.call(f.stroke,p.color).call(E.dashLine,p.dash||"",p.width||0),"none"!==v.fill&&h.call(f.fill,v.fillcolor)}))}},42341:function(ae,B,r){"use strict";var D=r(9012),E=r(82196),f=r(12663).axisHoverFormat,k=r(50693),M=r(78607),y=r(1426).extendFlat,c=r(30962).overrideAll,i=r(78232).DASHES,s=E.line,a=E.marker,o=a.line,l=ae.exports=c({x:E.x,x0:E.x0,dx:E.dx,y:E.y,y0:E.y0,dy:E.dy,xperiod:E.xperiod,yperiod:E.yperiod,xperiod0:E.xperiod0,yperiod0:E.yperiod0,xperiodalignment:E.xperiodalignment,yperiodalignment:E.yperiodalignment,xhoverformat:f("x"),yhoverformat:f("y"),text:E.text,hovertext:E.hovertext,textposition:E.textposition,textfont:E.textfont,mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"]},line:{color:s.color,width:s.width,shape:{valType:"enumerated",values:["linear","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},dash:{valType:"enumerated",values:M(i),dflt:"solid"}},marker:y({},k("marker"),{symbol:a.symbol,angle:a.angle,size:a.size,sizeref:a.sizeref,sizemin:a.sizemin,sizemode:a.sizemode,opacity:a.opacity,colorbar:a.colorbar,line:y({},k("marker.line"),{width:o.width})}),connectgaps:E.connectgaps,fill:y({},E.fill,{dflt:"none"}),fillcolor:E.fillcolor,selected:{marker:E.selected.marker,textfont:E.selected.textfont},unselected:{marker:E.unselected.marker,textfont:E.unselected.textfont},opacity:D.opacity},"calc","nested");l.x.editType=l.y.editType=l.x0.editType=l.y0.editType="calc+clearAxisTypes",l.hovertemplate=E.hovertemplate,l.texttemplate=E.texttemplate},72156:function(ae,B,r){"use strict";var D=r(20794);ae.exports={moduleType:"trace",name:"scattergl",basePlotModule:r(93612),categories:["gl","regl","cartesian","symbols","errorBarsOK","showLegend","scatter-like"],attributes:r(42341),supplyDefaults:r(47148),crossTraceDefaults:r(34936),colorbar:r(4898),formatLabels:r(68101),calc:r(45032),hoverPoints:D.hoverPoints,selectPoints:r(58147),meta:{}}},45032:function(ae,B,r){"use strict";var D=r(88294),E=r(71828),f=r(41675),k=r(71739).findExtremes,M=r(42973),y=r(47761),c=y.calcMarkerSize,i=y.calcAxisExpansion,s=y.setFirstScatter,a=r(36922),o=r(19635),l=r(38967),u=r(50606).BADNUM,h=r(78232).TOO_MANY_POINTS;function v(p,T,_){var m=p._extremes[T._id],w=k(T,_._bnds,{padded:!0});m.min=m.min.concat(w.min),m.max=m.max.concat(w.max)}ae.exports=function(p,T){var _,m=p._fullLayout,w=T._xA=f.getFromId(p,T.xaxis,"x"),x=T._yA=f.getFromId(p,T.yaxis,"y"),b=m._plots[T.xaxis+T.yaxis],A=T._length,g=A>=h,I=2*A,S={},O=w.makeCalcdata(T,"x"),R=x.makeCalcdata(T,"y"),L=M(T,w,"x",O),N=M(T,x,"y",R),j=L.vals,X=N.vals;T._x=j,T._y=X,T.xperiodalignment&&(T._origX=O,T._xStarts=L.starts,T._xEnds=L.ends),T.yperiodalignment&&(T._origY=R,T._yStarts=N.starts,T._yEnds=N.ends);var F=new Array(I),Y=new Array(A);for(_=0;_<A;_++)F[2*_]=j[_]===u?NaN:j[_],F[2*_+1]=X[_]===u?NaN:X[_],Y[_]=_;if("log"===w.type)for(_=0;_<I;_+=2)F[_]=w.c2l(F[_]);if("log"===x.type)for(_=1;_<I;_+=2)F[_]=x.c2l(F[_]);g&&"log"!==w.type&&"log"!==x.type?S.tree=D(F):S.ids=Y,a(p,T);var G,H=function(Z,se,re,ne,Q,ee){var oe=o.style(Z,re);if(oe.marker&&(oe.marker.positions=ne),oe.line&&ne.length>1&&E.extendFlat(oe.line,o.linePositions(Z,re,ne)),oe.errorX||oe.errorY){var ce=o.errorBarPositions(Z,re,ne,Q,ee);oe.errorX&&E.extendFlat(oe.errorX,ce.x),oe.errorY&&E.extendFlat(oe.errorY,ce.y)}return oe.text&&(E.extendFlat(oe.text,{positions:ne},o.textPosition(Z,re,oe.text,oe.marker)),E.extendFlat(oe.textSel,{positions:ne},o.textPosition(Z,re,oe.text,oe.markerSel)),E.extendFlat(oe.textUnsel,{positions:ne},o.textPosition(Z,re,oe.text,oe.markerUnsel))),oe}(p,0,T,F,j,X),W=l(p,b);return s(m,T),g?H.marker&&(G=H.marker.sizeAvg||Math.max(H.marker.size,3)):G=c(T,A),i(p,T,w,x,j,X,G),H.errorX&&v(T,w,H.errorX),H.errorY&&v(T,x,H.errorY),H.fill&&!W.fill2d&&(W.fill2d=!0),H.marker&&!W.scatter2d&&(W.scatter2d=!0),H.line&&!W.line2d&&(W.line2d=!0),!H.errorX&&!H.errorY||W.error2d||(W.error2d=!0),H.text&&!W.glText&&(W.glText=!0),H.marker&&(H.marker.snap=A),W.lineOptions.push(H.line),W.errorXOptions.push(H.errorX),W.errorYOptions.push(H.errorY),W.fillOptions.push(H.fill),W.markerOptions.push(H.marker),W.markerSelectedOptions.push(H.markerSel),W.markerUnselectedOptions.push(H.markerUnsel),W.textOptions.push(H.text),W.textSelectedOptions.push(H.textSel),W.textUnselectedOptions.push(H.textUnsel),W.selectBatch.push([]),W.unselectBatch.push([]),S._scene=W,S.index=W.count,S.x=j,S.y=X,S.positions=F,W.count++,[{x:!1,y:!1,t:S,trace:T}]}},78232:function(ae){"use strict";ae.exports={TOO_MANY_POINTS:1e5,SYMBOL_SDF_SIZE:200,SYMBOL_SIZE:20,SYMBOL_STROKE:1,DOT_RE:/-dot/,OPEN_RE:/-open/,DASHES:{solid:[1],dot:[1,1],dash:[4,1],longdash:[8,1],dashdot:[4,1,1,1],longdashdot:[8,1,1,1]}}},19635:function(ae,B,r){"use strict";var D=r(92770),E=r(82019),f=r(25075),k=r(73972),M=r(71828),y=r(91424),c=r(41675),i=r(81697).formatColor,s=r(34098),a=r(39984),o=r(68645),l=r(78232),u=r(37822).DESELECTDIM,h={start:1,left:1,end:-1,right:-1,middle:0,center:0,bottom:1,top:-1},v=r(23469).appendArrayPointValue;function p(O,R){var L,N=O._fullLayout,j=R._length,X=R.textfont,F=R.textposition,Y=Array.isArray(F)?F:[F],G=X.color,H=X.size,W=X.family,Z={},se=O._context.plotGlPixelRatio,re=R.texttemplate;if(re){Z.text=[];var ne=N._d3locale,Q=Array.isArray(re),ee=Q?Math.min(re.length,j):j,oe=Q?function(be){return re[be]}:function(){return re};for(L=0;L<ee;L++){var ce={i:L},fe=R._module.formatLabels(ce,R,N),le={};v(le,R,L);var pe=R._meta||{};Z.text.push(M.texttemplateString(oe(L),fe,ne,le,ce,pe))}}else Z.text=Array.isArray(R.text)&&R.text.length<j?R.text.slice():R.text;if(Array.isArray(Z.text))for(L=Z.text.length;L<j;L++)Z.text[L]="";for(Z.opacity=R.opacity,Z.font={},Z.align=[],Z.baseline=[],L=0;L<Y.length;L++){var Me=Y[L].split(/\s+/);switch(Me[1]){case"left":Z.align.push("right");break;case"right":Z.align.push("left");break;default:Z.align.push(Me[1])}switch(Me[0]){case"top":Z.baseline.push("bottom");break;case"bottom":Z.baseline.push("top");break;default:Z.baseline.push(Me[0])}}if(Array.isArray(G))for(Z.color=new Array(j),L=0;L<j;L++)Z.color[L]=G[L];else Z.color=G;if(M.isArrayOrTypedArray(H)||Array.isArray(W))for(Z.font=new Array(j),L=0;L<j;L++){var Ae=Z.font[L]={};Ae.size=(M.isTypedArray(H)?H[L]:Array.isArray(H)?D(H[L])?H[L]:0:H)*se,Ae.family=Array.isArray(W)?W[L]:W}else Z.font={size:H*se,family:W};return Z}function T(O,R){var L,N,j=R._length,X=R.marker,F={},Y=M.isArrayOrTypedArray(X.symbol),G=M.isArrayOrTypedArray(X.angle),H=M.isArrayOrTypedArray(X.color),W=M.isArrayOrTypedArray(X.line.color),Z=M.isArrayOrTypedArray(X.opacity),se=M.isArrayOrTypedArray(X.size),re=M.isArrayOrTypedArray(X.line.width);if(Y||(N=o.isOpenSymbol(X.symbol)),Y||H||W||Z||G){F.symbols=new Array(j),F.angles=new Array(j),F.colors=new Array(j),F.borderColors=new Array(j);var ne=X.symbol,Q=X.angle,ee=i(X,X.opacity,j),oe=i(X.line,X.opacity,j);if(!Array.isArray(oe[0])){var ce=oe;for(oe=Array(j),L=0;L<j;L++)oe[L]=ce}if(!Array.isArray(ee[0])){var fe=ee;for(ee=Array(j),L=0;L<j;L++)ee[L]=fe}if(!Array.isArray(ne)){var le=ne;for(ne=Array(j),L=0;L<j;L++)ne[L]=le}if(!Array.isArray(Q)){var pe=Q;for(Q=Array(j),L=0;L<j;L++)Q[L]=pe}for(F.symbols=ne,F.angles=Q,F.colors=ee,F.borderColors=oe,L=0;L<j;L++)Y&&(N=o.isOpenSymbol(X.symbol[L])),N&&(oe[L]=ee[L].slice(),ee[L]=ee[L].slice(),ee[L][3]=0);for(F.opacity=R.opacity,F.markers=new Array(j),L=0;L<j;L++)F.markers[L]=S({mx:F.symbols[L],ma:F.angles[L]},R)}else N?(F.color=f(X.color,"uint8"),F.color[3]=0,F.borderColor=f(X.color,"uint8")):(F.color=f(X.color,"uint8"),F.borderColor=f(X.line.color,"uint8")),F.opacity=R.opacity*X.opacity,F.marker=S({mx:X.symbol,ma:X.angle},R);var Me,Ae=a(R,1);if(se||re){var be,ye=F.sizes=new Array(j),we=F.borderSizes=new Array(j),ze=0;if(se){for(L=0;L<j;L++)ye[L]=Ae(X.size[L]),ze+=ye[L];be=ze/j}else for(Me=Ae(X.size),L=0;L<j;L++)ye[L]=Me;if(re)for(L=0;L<j;L++)we[L]=X.line.width[L];else for(Me=X.line.width,L=0;L<j;L++)we[L]=Me;F.sizeAvg=be}else F.size=Ae(X&&X.size||10),F.borderSizes=Ae(X.line.width);return F}function _(O,R,L){var j={};return L&&(L.marker&&L.marker.symbol?j=T(0,M.extendFlat({},R.marker,L.marker)):L.marker&&(L.marker.size&&(j.size=L.marker.size),L.marker.color&&(j.colors=L.marker.color),void 0!==L.marker.opacity&&(j.opacity=L.marker.opacity))),j}function m(O,R,L){var N={};if(!L)return N;if(L.textfont){var j={opacity:1,text:R.text,texttemplate:R.texttemplate,textposition:R.textposition,textfont:M.extendFlat({},R.textfont)};L.textfont&&M.extendFlat(j.textfont,L.textfont),N=p(O,j)}return N}function w(O,R,L){var N={capSize:2*R.width*L,lineWidth:R.thickness*L,color:R.color};return R.copy_ystyle&&(N=O.error_y),N}var x=l.SYMBOL_SDF_SIZE,b=l.SYMBOL_SIZE,A=l.SYMBOL_STROKE,g={},I=y.symbolFuncs[0](.05*b);function S(O,R){var L,N,j=O.mx;if("circle"===j)return null;var X=y.symbolNumber(j),F=y.symbolFuncs[X%100],Y=!!y.symbolNoDot[X%100],G=!!y.symbolNoFill[X%100],H=o.isDotSymbol(j);if(O.ma&&(j+="_"+O.ma),g[j])return g[j];var W=y.getMarkerAngle(O,R);return L=H&&!Y?F(1.1*b,W)+I:F(b,W),N=E(L,{w:x,h:x,viewBox:[-b,-b,b,b],stroke:G?A:-A}),g[j]=N,N||null}ae.exports={style:function(O,R){var L,N={marker:void 0,markerSel:void 0,markerUnsel:void 0,line:void 0,fill:void 0,errorX:void 0,errorY:void 0,text:void 0,textSel:void 0,textUnsel:void 0},j=O._context.plotGlPixelRatio;if(!0!==R.visible)return N;if(s.hasText(R)&&(N.text=p(O,R),N.textSel=m(O,R,R.selected),N.textUnsel=m(O,R,R.unselected)),s.hasMarkers(R)&&(N.marker=T(0,R),N.markerSel=_(0,R,R.selected),N.markerUnsel=_(0,R,R.unselected),!R.unselected&&M.isArrayOrTypedArray(R.marker.opacity))){var X=R.marker.opacity;for(N.markerUnsel.opacity=new Array(X.length),L=0;L<X.length;L++)N.markerUnsel.opacity[L]=u*X[L]}if(s.hasLines(R)){N.line={overlay:!0,thickness:R.line.width*j,color:R.line.color,opacity:R.opacity};var F=(l.DASHES[R.line.dash]||[1]).slice();for(L=0;L<F.length;++L)F[L]*=R.line.width*j;N.line.dashes=F}return R.error_x&&R.error_x.visible&&(N.errorX=w(R,R.error_x,j)),R.error_y&&R.error_y.visible&&(N.errorY=w(R,R.error_y,j)),R.fill&&"none"!==R.fill&&(N.fill={closed:!0,fill:R.fillcolor,thickness:0}),N},markerStyle:T,markerSelection:_,linePositions:function(O,R,L){var N,j,X=L.length,F=X/2;if(s.hasLines(R)&&F)if("hv"===R.line.shape){for(N=[],j=0;j<F-1;j++)isNaN(L[2*j])||isNaN(L[2*j+1])?N.push(NaN,NaN,NaN,NaN):(N.push(L[2*j],L[2*j+1]),isNaN(L[2*j+2])||isNaN(L[2*j+3])?N.push(NaN,NaN):N.push(L[2*j+2],L[2*j+1]));N.push(L[X-2],L[X-1])}else if("hvh"===R.line.shape){for(N=[],j=0;j<F-1;j++)if(isNaN(L[2*j])||isNaN(L[2*j+1])||isNaN(L[2*j+2])||isNaN(L[2*j+3]))isNaN(L[2*j])||isNaN(L[2*j+1])?N.push(NaN,NaN):N.push(L[2*j],L[2*j+1]),N.push(NaN,NaN);else{var Y=(L[2*j]+L[2*j+2])/2;N.push(L[2*j],L[2*j+1],Y,L[2*j+1],Y,L[2*j+3])}N.push(L[X-2],L[X-1])}else if("vhv"===R.line.shape){for(N=[],j=0;j<F-1;j++)if(isNaN(L[2*j])||isNaN(L[2*j+1])||isNaN(L[2*j+2])||isNaN(L[2*j+3]))isNaN(L[2*j])||isNaN(L[2*j+1])?N.push(NaN,NaN):N.push(L[2*j],L[2*j+1]),N.push(NaN,NaN);else{var G=(L[2*j+1]+L[2*j+3])/2;N.push(L[2*j],L[2*j+1],L[2*j],G,L[2*j+2],G)}N.push(L[X-2],L[X-1])}else if("vh"===R.line.shape){for(N=[],j=0;j<F-1;j++)isNaN(L[2*j])||isNaN(L[2*j+1])?N.push(NaN,NaN,NaN,NaN):(N.push(L[2*j],L[2*j+1]),isNaN(L[2*j+2])||isNaN(L[2*j+3])?N.push(NaN,NaN):N.push(L[2*j],L[2*j+3]));N.push(L[X-2],L[X-1])}else N=L;var H=!1;for(j=0;j<N.length;j++)if(isNaN(N[j])){H=!0;break}var W=H||N.length>l.TOO_MANY_POINTS||s.hasMarkers(R)?"rect":"round";if(H&&R.connectgaps){var Z=N[0],se=N[1];for(j=0;j<N.length;j+=2)isNaN(N[j])||isNaN(N[j+1])?(N[j]=Z,N[j+1]=se):(Z=N[j],se=N[j+1])}return{join:W,positions:N}},errorBarPositions:function(O,R,L,N,j){var X=k.getComponentMethod("errorbars","makeComputeError"),F=c.getFromId(O,R.xaxis,"x"),Y=c.getFromId(O,R.yaxis,"y"),G=L.length/2,H={};function W(Z,se){var re=se._id.charAt(0),ne=R["error_"+re];if(ne&&ne.visible&&("linear"===se.type||"log"===se.type)){for(var Q=X(ne),ee={x:0,y:1}[re],oe={x:[0,1,2,3],y:[2,3,0,1]}[re],ce=new Float64Array(4*G),fe=1/0,le=-1/0,pe=0,Me=0;pe<G;pe++,Me+=4){var Ae=Z[pe];if(D(Ae)){var be=L[2*pe+ee],ye=Q(Ae,pe),we=ye[0],ze=ye[1];if(D(we)&&D(ze)){var Ce=Ae+ze;ce[Me+oe[0]]=be-se.c2l(Ae-we),ce[Me+oe[1]]=se.c2l(Ce)-be,ce[Me+oe[2]]=0,ce[Me+oe[3]]=0,fe=Math.min(fe,Ae-we),le=Math.max(le,Ae+ze)}}}H[re]={positions:L,errors:ce,_bnds:[fe,le]}}}return W(N,F),W(j,Y),H},textPosition:function(O,R,L,N){var j,X=R._length,F={};if(s.hasMarkers(R)){var Y=L.font,G=L.align,H=L.baseline;for(F.offset=new Array(X),j=0;j<X;j++){var W=N.sizes?N.sizes[j]:N.size,Z=Array.isArray(Y)?Y[j].size:Y.size,se=Array.isArray(G)?G.length>1?G[j]:G[0]:G,re=Array.isArray(H)?H.length>1?H[j]:H[0]:H,Q=h[re],ee=W?W/.8+1:0;F.offset[j]=[h[se]*ee/Z,(-Q*ee-.5*Q)/Z]}}return F}}},47148:function(ae,B,r){"use strict";var D=r(71828),E=r(73972),f=r(68645),k=r(42341),M=r(47581),y=r(34098),c=r(67513),i=r(73927),s=r(49508),a=r(11058),o=r(28908),l=r(82410);ae.exports=function(u,h,v,p){function T(I,S){return D.coerce(u,h,k,I,S)}var _=!!u.marker&&f.isOpenSymbol(u.marker.symbol),m=y.isBubble(u),w=c(u,h,p,T);if(w){i(u,h,p,T),T("xhoverformat"),T("yhoverformat");var x=w<M.PTS_LINESONLY?"lines+markers":"lines";T("text"),T("hovertext"),T("hovertemplate"),T("mode",x),y.hasLines(h)&&(T("connectgaps"),a(u,h,v,p,T),T("line.shape")),y.hasMarkers(h)&&(s(u,h,v,p,T,{noAngleRef:!0,noStandOff:!0}),T("marker.line.width",_||m?1:0)),y.hasText(h)&&(T("texttemplate"),l(u,h,p,T));var b=(h.line||{}).color,A=(h.marker||{}).color;T("fill"),"none"!==h.fill&&o(u,h,v,T);var g=E.getComponentMethod("errorbars","supplyDefaults");g(u,h,b||A||v,{axis:"y"}),g(u,h,b||A||v,{axis:"x",inherit:"y"}),D.coerceSelectionMarkerOpacity(h,T)}else h.visible=!1}},5345:function(ae,B,r){"use strict";var D=r(71828),E=r(7901),f=r(37822).DESELECTDIM;ae.exports={styleTextSelection:function(k){var M,y,c=k[0],i=c.trace,s=c.t,a=s._scene,o=s.index,l=a.selectBatch[o],u=a.unselectBatch[o],h=a.textOptions[o],v=a.textSelectedOptions[o]||{},p=a.textUnselectedOptions[o]||{},T=D.extendFlat({},h);if(l.length||u.length){var _=v.color,m=p.color,w=h.color,x=Array.isArray(w);for(T.color=new Array(i._length),M=0;M<l.length;M++)T.color[y=l[M]]=_||(x?w[y]:w);for(M=0;M<u.length;M++){y=u[M];var b=x?w[y]:w;T.color[y]=m||(_?b:E.addOpacity(b,f))}}a.glText[o].update(T)}}},68101:function(ae,B,r){"use strict";var D=r(8225);ae.exports=function(E,f,k){var M=E.i;return"x"in E||(E.x=f._x[M]),"y"in E||(E.y=f._y[M]),D(E,f,k)}},68645:function(ae,B,r){"use strict";var D=r(78232);B.isOpenSymbol=function(E){return"string"==typeof E?D.OPEN_RE.test(E):E%200>100},B.isDotSymbol=function(E){return"string"==typeof E?D.DOT_RE.test(E):E>200}},20794:function(ae,B,r){"use strict";var D=r(73972),E=r(71828),f=r(34603);function k(M,y,c,i){var s=M.xa,a=M.ya,o=M.distance,l=M.dxy,u=M.index,h={pointNumber:u,x:y[u],y:c[u]};h.tx=Array.isArray(i.text)?i.text[u]:i.text,h.htx=Array.isArray(i.hovertext)?i.hovertext[u]:i.hovertext,h.data=Array.isArray(i.customdata)?i.customdata[u]:i.customdata,h.tp=Array.isArray(i.textposition)?i.textposition[u]:i.textposition;var v=i.textfont;v&&(h.ts=E.isArrayOrTypedArray(v.size)?v.size[u]:v.size,h.tc=Array.isArray(v.color)?v.color[u]:v.color,h.tf=Array.isArray(v.family)?v.family[u]:v.family);var p=i.marker;p&&(h.ms=E.isArrayOrTypedArray(p.size)?p.size[u]:p.size,h.mo=E.isArrayOrTypedArray(p.opacity)?p.opacity[u]:p.opacity,h.mx=E.isArrayOrTypedArray(p.symbol)?p.symbol[u]:p.symbol,h.ma=E.isArrayOrTypedArray(p.angle)?p.angle[u]:p.angle,h.mc=E.isArrayOrTypedArray(p.color)?p.color[u]:p.color);var T=p&&p.line;T&&(h.mlc=Array.isArray(T.color)?T.color[u]:T.color,h.mlw=E.isArrayOrTypedArray(T.width)?T.width[u]:T.width);var _=p&&p.gradient;_&&"none"!==_.type&&(h.mgt=Array.isArray(_.type)?_.type[u]:_.type,h.mgc=Array.isArray(_.color)?_.color[u]:_.color);var m=s.c2p(h.x,!0),w=a.c2p(h.y,!0),x=h.mrc||1,b=i.hoverlabel;b&&(h.hbg=Array.isArray(b.bgcolor)?b.bgcolor[u]:b.bgcolor,h.hbc=Array.isArray(b.bordercolor)?b.bordercolor[u]:b.bordercolor,h.hts=E.isArrayOrTypedArray(b.font.size)?b.font.size[u]:b.font.size,h.htc=Array.isArray(b.font.color)?b.font.color[u]:b.font.color,h.htf=Array.isArray(b.font.family)?b.font.family[u]:b.font.family,h.hnl=E.isArrayOrTypedArray(b.namelength)?b.namelength[u]:b.namelength);var A=i.hoverinfo;A&&(h.hi=Array.isArray(A)?A[u]:A);var g=i.hovertemplate;g&&(h.ht=Array.isArray(g)?g[u]:g);var I={};I[M.index]=h;var S=i._origX,O=i._origY,R=E.extendFlat({},M,{color:f(i,h),x0:m-x,x1:m+x,xLabelVal:S?S[u]:h.x,y0:w-x,y1:w+x,yLabelVal:O?O[u]:h.y,cd:I,distance:o,spikeDistance:l,hovertemplate:h.ht});return h.htx?R.text=h.htx:h.tx?R.text=h.tx:i.text&&(R.text=i.text),E.fillText(h,i,R),D.getComponentMethod("errorbars","hoverInfo")(h,i,R),R}ae.exports={hoverPoints:function(M,y,c,i){var s,a,o,l,u,h,v,p,T,_,m=M.cd,w=m[0].t,x=m[0].trace,b=M.xa,A=M.ya,g=w.x,I=w.y,S=b.c2p(y),O=A.c2p(c),R=M.distance;if(w.tree){var L=b.p2c(S-R),N=b.p2c(S+R),j=A.p2c(O-R),X=A.p2c(O+R);s="x"===i?w.tree.range(Math.min(L,N),Math.min(A._rl[0],A._rl[1]),Math.max(L,N),Math.max(A._rl[0],A._rl[1])):w.tree.range(Math.min(L,N),Math.min(j,X),Math.max(L,N),Math.max(j,X))}else s=w.ids;var F=R;if("x"===i){var Y=!!x.xperiodalignment,G=!!x.yperiodalignment;for(h=0;h<s.length;h++){if(l=g[a=s[h]],v=Math.abs(b.c2p(l)-S),Y){var H=b.c2p(x._xStarts[a]),W=b.c2p(x._xEnds[a]);v=S>=Math.min(H,W)&&S<=Math.max(H,W)?0:1/0}if(v<F){if(F=v,p=A.c2p(u=I[a])-O,G){var Z=A.c2p(x._yStarts[a]),se=A.c2p(x._yEnds[a]);p=O>=Math.min(Z,se)&&O<=Math.max(Z,se)?0:1/0}_=Math.sqrt(v*v+p*p),o=s[h]}}}else for(h=s.length-1;h>-1;h--)l=g[a=s[h]],u=I[a],v=b.c2p(l)-S,p=A.c2p(u)-O,(T=Math.sqrt(v*v+p*p))<F&&(F=_=T,o=a);return M.index=o,M.distance=F,M.dxy=_,void 0===o?[M]:[k(M,g,I,x)]},calcHover:k}},68868:function(ae,B,r){"use strict";var D=r(72156);D.plot=r(26787),ae.exports=D},26787:function(ae,B,r){"use strict";var D=r(11870),E=r(46075),f=r(3593),k=r(42505),M=r(71828),y=r(64505).selectMode,c=r(79749),i=r(34098),s=r(68687),a=r(5345).styleTextSelection,o={};function l(u,h,v,p){var T=u._size,g=T.w*p,I=T.h*p;return[T.l*p+h.domain[0]*g,T.b*p+v.domain[0]*I,u.width*p-T.r*p-(1-h.domain[1])*g,u.height*p-T.t*p-(1-v.domain[1])*I]}(ae.exports=function(u,h,v){if(v.length){var p,T,_=u._fullLayout,m=h._scene,w=h.xaxis,x=h.yaxis;if(m)if(c(u,["ANGLE_instanced_arrays","OES_element_index_uint"],o)){var b=m.count,A=_._glcanvas.data()[0].regl;if(s(u,h,v),m.dirty){if(!0===m.error2d&&(m.error2d=f(A)),!0===m.line2d&&(m.line2d=E(A)),!0===m.scatter2d&&(m.scatter2d=D(A)),!0===m.fill2d&&(m.fill2d=E(A)),!0===m.glText)for(m.glText=new Array(b),p=0;p<b;p++)m.glText[p]=new k(A);if(m.glText){if(b>m.glText.length){var g=b-m.glText.length;for(p=0;p<g;p++)m.glText.push(new k(A))}else b<m.glText.length&&m.glText.splice(b,m.glText.length-b).forEach(function(ce){ce.destroy()});for(p=0;p<b;p++)m.glText[p].update(m.textOptions[p])}if(m.line2d&&(m.line2d.update(m.lineOptions),m.lineOptions=m.lineOptions.map(function(ce){if(ce&&ce.positions){for(var fe=ce.positions,le=0;le<fe.length&&(isNaN(fe[le])||isNaN(fe[le+1]));)le+=2;for(var pe=fe.length-2;pe>le&&(isNaN(fe[pe])||isNaN(fe[pe+1]));)pe-=2;ce.positions=fe.slice(le,pe+2)}return ce}),m.line2d.update(m.lineOptions)),m.error2d){var S=(m.errorXOptions||[]).concat(m.errorYOptions||[]);m.error2d.update(S)}m.scatter2d&&m.scatter2d.update(m.markerOptions),m.fillOrder=M.repeat(null,b),m.fill2d&&(m.fillOptions=m.fillOptions.map(function(ce,fe){var le=v[fe];if(ce&&le&&le[0]&&le[0].trace){var pe,Me,Ae=le[0],be=Ae.trace,ye=Ae.t,we=m.lineOptions[fe],ze=[];be._ownfill&&ze.push(fe),be._nexttrace&&ze.push(fe+1),ze.length&&(m.fillOrder[fe]=ze);var Se,Ce,ge=[],he=we&&we.positions||ye.positions;if("tozeroy"===be.fill){for(Se=0;Se<he.length&&isNaN(he[Se+1]);)Se+=2;for(Ce=he.length-2;Ce>Se&&isNaN(he[Ce+1]);)Ce-=2;0!==he[Se+1]&&(ge=[he[Se],0]),ge=ge.concat(he.slice(Se,Ce+2)),0!==he[Ce+1]&&(ge=ge.concat([he[Ce],0]))}else if("tozerox"===be.fill){for(Se=0;Se<he.length&&isNaN(he[Se]);)Se+=2;for(Ce=he.length-2;Ce>Se&&isNaN(he[Ce]);)Ce-=2;0!==he[Se]&&(ge=[0,he[Se+1]]),ge=ge.concat(he.slice(Se,Ce+2)),0!==he[Ce]&&(ge=ge.concat([0,he[Ce+1]]))}else if("toself"===be.fill||"tonext"===be.fill){for(ge=[],pe=0,ce.splitNull=!0,Me=0;Me<he.length;Me+=2)(isNaN(he[Me])||isNaN(he[Me+1]))&&((ge=ge.concat(he.slice(pe,Me))).push(he[pe],he[pe+1]),ge.push(null,null),pe=Me+2);ge=ge.concat(he.slice(pe)),pe&&ge.push(he[pe],he[pe+1])}else{var _e=be._nexttrace;if(_e){var Le=m.lineOptions[fe+1];if(Le){var Ie=Le.positions;if("tonexty"===be.fill){for(ge=he.slice(),fe=Math.floor(Ie.length/2);fe--;){var De=Ie[2*fe],je=Ie[2*fe+1];isNaN(De)||isNaN(je)||ge.push(De,je)}ce.fill=_e.fillcolor}}}}if(be._prevtrace&&"tonext"===be._prevtrace.fill){var qe=m.lineOptions[fe-1].positions,ve=ge.length/2,Oe=[pe=ve];for(Me=0;Me<qe.length;Me+=2)(isNaN(qe[Me])||isNaN(qe[Me+1]))&&(Oe.push(Me/2+ve+1),pe=Me+2);ge=ge.concat(qe),ce.hole=Oe}return ce.fillmode=be.fill,ce.opacity=be.opacity,ce.positions=ge,ce}}),m.fill2d.update(m.fillOptions))}var R=y(_.dragmode),L=_.clickmode.indexOf("select")>-1;for(p=0;p<b;p++){var N=v[p][0],j=N.trace,X=N.t,F=X.index,Y=j._length,G=X.x,H=X.y;if(j.selectedpoints||R||L){if(R||(R=!0),j.selectedpoints){var W=m.selectBatch[F]=M.selIndices2selPoints(j),Z={};for(T=0;T<W.length;T++)Z[W[T]]=1;var se=[];for(T=0;T<Y;T++)Z[T]||se.push(T);m.unselectBatch[F]=se}var re=X.xpx=new Array(Y),ne=X.ypx=new Array(Y);for(T=0;T<Y;T++)re[T]=w.c2p(G[T]),ne[T]=x.c2p(H[T])}else X.xpx=X.ypx=null}if(R){if(m.select2d||(m.select2d=D(_._glcanvas.data()[1].regl)),m.scatter2d){var Q=new Array(b);for(p=0;p<b;p++)Q[p]=m.selectBatch[p].length||m.unselectBatch[p].length?m.markerUnselectedOptions[p]:{};m.scatter2d.update(Q)}m.select2d&&(m.select2d.update(m.markerOptions),m.select2d.update(m.markerSelectedOptions)),m.glText&&v.forEach(function(ce){i.hasText(((ce||[])[0]||{}).trace||{})&&a(ce)})}else m.scatter2d&&m.scatter2d.update(m.markerOptions);var ee={viewport:l(_,w,x,u._context.plotGlPixelRatio),range:[(w._rl||w.range)[0],(x._rl||x.range)[0],(w._rl||w.range)[1],(x._rl||x.range)[1]]},oe=M.repeat(ee,m.count);m.fill2d&&m.fill2d.update(oe),m.line2d&&m.line2d.update(oe),m.error2d&&m.error2d.update(oe.concat(oe)),m.scatter2d&&m.scatter2d.update(oe),m.select2d&&m.select2d.update(oe),m.glText&&m.glText.forEach(function(ce){ce.update(ee)})}else m.init()}}).reglPrecompiled=o},38967:function(ae,B,r){"use strict";var D=r(71828);ae.exports=function(E,f){var k=f._scene,M={count:0,dirty:!0,lineOptions:[],fillOptions:[],markerOptions:[],markerSelectedOptions:[],markerUnselectedOptions:[],errorXOptions:[],errorYOptions:[],textOptions:[],textSelectedOptions:[],textUnselectedOptions:[],selectBatch:[],unselectBatch:[]},y={fill2d:!1,scatter2d:!1,error2d:!1,line2d:!1,glText:!1,select2d:!1};return f._scene||((k=f._scene={}).init=function(){D.extendFlat(k,y,M)},k.init(),k.update=function(c){var i=D.repeat(c,k.count);if(k.fill2d&&k.fill2d.update(i),k.scatter2d&&k.scatter2d.update(i),k.line2d&&k.line2d.update(i),k.error2d&&k.error2d.update(i.concat(i)),k.select2d&&k.select2d.update(i),k.glText)for(var s=0;s<k.count;s++)k.glText[s].update(c)},k.draw=function(){for(var c=k.count,i=k.fill2d,s=k.error2d,a=k.line2d,o=k.scatter2d,l=k.glText,u=k.select2d,h=k.selectBatch,v=k.unselectBatch,p=0;p<c;p++){if(i&&k.fillOrder[p]&&i.draw(k.fillOrder[p]),a&&k.lineOptions[p]&&a.draw(p),s&&(k.errorXOptions[p]&&s.draw(p),k.errorYOptions[p]&&s.draw(p+c)),o&&k.markerOptions[p])if(v[p].length){var T=D.repeat([],k.count);T[p]=v[p],o.draw(T)}else h[p].length||o.draw(p);l[p]&&k.textOptions[p]&&l[p].render()}u&&u.draw(h),k.dirty=!1},k.destroy=function(){k.fill2d&&k.fill2d.destroy&&k.fill2d.destroy(),k.scatter2d&&k.scatter2d.destroy&&k.scatter2d.destroy(),k.error2d&&k.error2d.destroy&&k.error2d.destroy(),k.line2d&&k.line2d.destroy&&k.line2d.destroy(),k.select2d&&k.select2d.destroy&&k.select2d.destroy(),k.glText&&k.glText.forEach(function(c){c.destroy&&c.destroy()}),k.lineOptions=null,k.fillOptions=null,k.markerOptions=null,k.markerSelectedOptions=null,k.markerUnselectedOptions=null,k.errorXOptions=null,k.errorYOptions=null,k.textOptions=null,k.textSelectedOptions=null,k.textUnselectedOptions=null,k.selectBatch=null,k.unselectBatch=null,f._scene=null}),k.dirty||D.extendFlat(k,M),k}},58147:function(ae,B,r){"use strict";var D=r(34098),E=r(5345).styleTextSelection;ae.exports=function(f,k){var M=f.cd,y=f.xaxis,c=f.yaxis,i=[],s=M[0].trace,a=M[0].t,o=s._length,l=a.x,u=a.y,h=a._scene,v=a.index;if(!h)return i;var p=D.hasText(s),T=D.hasMarkers(s);if(!0!==s.visible||!T&&!p)return i;var m=[],w=[];if(!1!==k&&!k.degenerate)for(var x=0;x<o;x++)k.contains([a.xpx[x],a.ypx[x]],!1,x,f)?(m.push(x),i.push({pointNumber:x,x:y.c2d(l[x]),y:c.c2d(u[x])})):w.push(x);if(T){var b=h.scatter2d;if(m.length||w.length){if(!h.selectBatch[v].length&&!h.unselectBatch[v].length){var A=new Array(h.count);A[v]=h.markerUnselectedOptions[v],b.update.apply(b,A)}}else{var g=new Array(h.count);g[v]=h.markerOptions[v],b.update.apply(b,g)}}return h.selectBatch[v]=m,h.unselectBatch[v]=w,p&&E(M),i}},99181:function(ae,B,r){"use strict";var D=r(5386).fF,E=r(5386).si,f=r(19316),k=r(82196),M=r(23585),y=r(9012),c=r(50693),i=r(1426).extendFlat,s=r(30962).overrideAll,a=r(23585),o=f.line,l=f.marker;ae.exports=s({lon:f.lon,lat:f.lat,cluster:{enabled:{valType:"boolean"},maxzoom:i({},a.layers.maxzoom,{}),step:{valType:"number",arrayOk:!0,dflt:-1,min:-1},size:{valType:"number",arrayOk:!0,dflt:20,min:0},color:{valType:"color",arrayOk:!0},opacity:i({},l.opacity,{dflt:1})},mode:i({},k.mode,{dflt:"markers"}),text:i({},k.text,{}),texttemplate:E({editType:"plot"},{keys:["lat","lon","text"]}),hovertext:i({},k.hovertext,{}),line:{color:o.color,width:o.width},connectgaps:k.connectgaps,marker:i({symbol:{valType:"string",dflt:"circle",arrayOk:!0},angle:{valType:"number",dflt:"auto",arrayOk:!0},allowoverlap:{valType:"boolean",dflt:!1},opacity:l.opacity,size:l.size,sizeref:l.sizeref,sizemin:l.sizemin,sizemode:l.sizemode},c("marker")),fill:f.fill,fillcolor:k.fillcolor,textfont:M.layers.symbol.textfont,textposition:M.layers.symbol.textposition,below:{valType:"string"},selected:{marker:k.selected.marker},unselected:{marker:k.unselected.marker},hoverinfo:i({},y.hoverinfo,{flags:["lon","lat","text","name"]}),hovertemplate:D()},"calc","nested")},15790:function(ae,B,r){"use strict";var D=r(92770),E=r(71828),f=r(50606).BADNUM,k=r(18214),M=r(21081),y=r(91424),c=r(39984),i=r(34098),s=r(13056),a=r(23469).appendArrayPointValue,o=r(63893).NEWLINES,l=r(63893).BR_TAG_ALL;function u(_){return{type:_,geojson:k.makeBlank(),layout:{visibility:"none"},filter:null,paint:{}}}function h(_,m){return E.isArrayOrTypedArray(_)?m?function(w){return D(_[w])?+_[w]:0}:function(w){return _[w]}:_?function(){return _}:v}function v(){return""}function p(_){return _[0]===f}function T(_,m){var w;if(E.isArrayOrTypedArray(_)&&E.isArrayOrTypedArray(m)){w=["step",["get","point_count"],_[0]];for(var x=1;x<_.length;x++)w.push(m[x-1],_[x])}else w=_;return w}ae.exports=function(_,m){var w,x=m[0].trace,b=!0===x.visible&&0!==x._length,A="none"!==x.fill,g=i.hasLines(x),I=i.hasMarkers(x),S=i.hasText(x),O=I&&"circle"===x.marker.symbol,R=I&&"circle"!==x.marker.symbol,L=x.cluster&&x.cluster.enabled,N=u("fill"),j=u("line"),X=u("circle"),F=u("symbol"),Y={fill:N,line:j,circle:X,symbol:F};if(!b)return Y;if((A||g)&&(w=k.calcTraceToLineCoords(m)),A&&(N.geojson=k.makePolygon(w),N.layout.visibility="visible",E.extendFlat(N.paint,{"fill-color":x.fillcolor})),g&&(j.geojson=k.makeLine(w),j.layout.visibility="visible",E.extendFlat(j.paint,{"line-width":x.line.width,"line-color":x.line.color,"line-opacity":x.opacity})),O){var G=function(Z){var se,re,ne,Q,ee=Z[0].trace,oe=ee.marker,ce=ee.selectedpoints,fe=E.isArrayOrTypedArray(oe.color),le=E.isArrayOrTypedArray(oe.size),pe=E.isArrayOrTypedArray(oe.opacity);function Me(ge){return ee.opacity*ge}fe&&(re=M.hasColorscale(ee,"marker")?M.makeColorScaleFuncFromTrace(oe):E.identity),le&&(ne=c(ee)),pe&&(Q=function(ge){return Me(D(ge)?+E.constrain(ge,0,1):0)});var Ae,be,ye=[];for(se=0;se<Z.length;se++){var we=Z[se],ze=we.lonlat;if(!p(ze)){var Se={};re&&(Se.mcc=we.mcc=re(we.mc)),ne&&(Se.mrc=we.mrc=ne(we.ms)),Q&&(Se.mo=Q(we.mo)),ce&&(Se.selected=we.selected||0),ye.push({type:"Feature",id:se+1,geometry:{type:"Point",coordinates:ze},properties:Se})}}if(ce)for(Ae=y.makeSelectedPointStyleFns(ee),se=0;se<ye.length;se++){var Ce=ye[se].properties;Ae.selectedOpacityFn&&(Ce.mo=Me(Ae.selectedOpacityFn(Ce))),Ae.selectedColorFn&&(Ce.mcc=Ae.selectedColorFn(Ce)),Ae.selectedSizeFn&&(Ce.mrc=Ae.selectedSizeFn(Ce))}return{geojson:{type:"FeatureCollection",features:ye},mcc:fe||Ae&&Ae.selectedColorFn?{type:"identity",property:"mcc"}:oe.color,mrc:le||Ae&&Ae.selectedSizeFn?{type:"identity",property:"mrc"}:(be=oe.size,be/2),mo:pe||Ae&&Ae.selectedOpacityFn?{type:"identity",property:"mo"}:Me(oe.opacity)}}(m);X.geojson=G.geojson,X.layout.visibility="visible",L&&(X.filter=["!",["has","point_count"]],Y.cluster={type:"circle",filter:["has","point_count"],layout:{visibility:"visible"},paint:{"circle-color":T(x.cluster.color,x.cluster.step),"circle-radius":T(x.cluster.size,x.cluster.step),"circle-opacity":T(x.cluster.opacity,x.cluster.step)}},Y.clusterCount={type:"symbol",filter:["has","point_count"],paint:{},layout:{"text-field":"{point_count_abbreviated}","text-font":["Open Sans Regular","Arial Unicode MS Regular"],"text-size":12}}),E.extendFlat(X.paint,{"circle-color":G.mcc,"circle-radius":G.mrc,"circle-opacity":G.mo})}if(O&&L&&(X.filter=["!",["has","point_count"]]),(R||S)&&(F.geojson=function(Z,se){for(var re=se._fullLayout,ne=Z[0].trace,Q=ne.marker||{},ee=Q.symbol,oe=Q.angle,ce="circle"!==ee?h(ee):v,fe="auto"!==oe?h(oe,!0):v,le=i.hasText(ne)?h(ne.text):v,pe=[],Me=0;Me<Z.length;Me++){var Ae=Z[Me];if(!p(Ae.lonlat)){var be,ye=ne.texttemplate;if(ye){var we=Array.isArray(ye)?ye[Me]||"":ye,ze=ne._module.formatLabels(Ae,ne,re),Se={};a(Se,ne,Ae.i),be=E.texttemplateString(we,ze,re._d3locale,Se,Ae,ne._meta||{})}else be=le(Me);be&&(be=be.replace(o,"").replace(l,"\n")),pe.push({type:"Feature",geometry:{type:"Point",coordinates:Ae.lonlat},properties:{symbol:ce(Me),angle:fe(Me),text:be}})}}return{type:"FeatureCollection",features:pe}}(m,_),E.extendFlat(F.layout,{visibility:"visible","icon-image":"{symbol}-15","text-field":"{text}"}),R&&(E.extendFlat(F.layout,{"icon-size":x.marker.size/10}),"angle"in x.marker&&"auto"!==x.marker.angle&&E.extendFlat(F.layout,{"icon-rotate":{type:"identity",property:"angle"},"icon-rotation-alignment":"map"}),F.layout["icon-allow-overlap"]=x.marker.allowoverlap,E.extendFlat(F.paint,{"icon-opacity":x.opacity*x.marker.opacity,"icon-color":x.marker.color})),S)){var W=s(x.textposition,(x.marker||{}).size);E.extendFlat(F.layout,{"text-size":x.textfont.size,"text-anchor":W.anchor,"text-offset":W.offset,"text-font":x.textfont.family.split(", ")}),E.extendFlat(F.paint,{"text-color":x.textfont.color,"text-opacity":x.opacity})}return Y}},76645:function(ae,B,r){"use strict";var D=r(71828),E=r(34098),f=r(49508),k=r(11058),M=r(82410),y=r(28908),c=r(99181),i=["Metropolis Black Italic","Metropolis Black","Metropolis Bold Italic","Metropolis Bold","Metropolis Extra Bold Italic","Metropolis Extra Bold","Metropolis Extra Light Italic","Metropolis Extra Light","Metropolis Light Italic","Metropolis Light","Metropolis Medium Italic","Metropolis Medium","Metropolis Regular Italic","Metropolis Regular","Metropolis Semi Bold Italic","Metropolis Semi Bold","Metropolis Thin Italic","Metropolis Thin","Open Sans Bold Italic","Open Sans Bold","Open Sans Extra Bold Italic","Open Sans Extra Bold","Open Sans Italic","Open Sans Light Italic","Open Sans Light","Open Sans Regular","Open Sans Semibold Italic","Open Sans Semibold","Klokantech Noto Sans Bold","Klokantech Noto Sans CJK Bold","Klokantech Noto Sans CJK Regular","Klokantech Noto Sans Italic","Klokantech Noto Sans Regular"];ae.exports=function(s,a,o,l){function u(b,A){return D.coerce(s,a,c,b,A)}function h(b,A){return D.coerce2(s,a,c,b,A)}var A,g,I,S,O;if(A=a,I=(g=u)("lon")||[],S=g("lat")||[],O=Math.min(I.length,S.length),A._length=O,O){if(u("text"),u("texttemplate"),u("hovertext"),u("hovertemplate"),u("mode"),u("below"),E.hasLines(a)&&(k(s,a,o,l,u,{noDash:!0}),u("connectgaps")),E.hasMarkers(a)){f(s,a,o,l,u,{noLine:!0,noAngle:!0}),u("marker.allowoverlap"),u("marker.angle");var p=a.marker;"circle"!==p.symbol&&(D.isArrayOrTypedArray(p.size)&&(p.size=p.size[0]),D.isArrayOrTypedArray(p.color)&&(p.color=p.color[0]))}var T=h("cluster.maxzoom"),_=h("cluster.step"),m=h("cluster.color",a.marker&&a.marker.color||o),w=h("cluster.size"),x=h("cluster.opacity");u("cluster.enabled",!1!==T||!1!==_||!1!==m||!1!==w||!1!==x),E.hasText(a)&&M(s,a,l,u,{noSelect:!0,font:{family:-1!==i.indexOf(l.font.family)?l.font.family:"Open Sans Regular",size:l.font.size,color:l.font.color}}),u("fill"),"none"!==a.fill&&y(s,a,o,u),D.coerceSelectionMarkerOpacity(a,u)}else a.visible=!1}},53353:function(ae){"use strict";ae.exports=function(B,r){return B.lon=r.lon,B.lat=r.lat,B}},15636:function(ae,B,r){"use strict";var D=r(89298);ae.exports=function(E,f,k){var M={},y=k[f.subplot]._subplot.mockAxis,c=E.lonlat;return M.lonLabel=D.tickText(y,y.c2l(c[0]),!0).text,M.latLabel=D.tickText(y,y.c2l(c[1]),!0).text,M}},28178:function(ae,B,r){"use strict";var D=r(30211),E=r(71828),f=r(34603),k=E.fillText,M=r(50606).BADNUM,y=r(77734).traceLayerPrefix;function c(i,s,a){if(!i.hovertemplate){var o=(s.hi||i.hoverinfo).split("+"),l=-1!==o.indexOf("all"),u=-1!==o.indexOf("lon"),h=-1!==o.indexOf("lat"),v=s.lonlat,p=[];return l||u&&h?p.push("("+T(v[1])+", "+T(v[0])+")"):u?p.push(a.lon+T(v[0])):h&&p.push(a.lat+T(v[1])),(l||-1!==o.indexOf("text"))&&k(s,i,p),p.join("<br>")}function T(_){return _+"\xb0"}}ae.exports={hoverPoints:function(i,s,a){var o=i.cd,l=o[0].trace,u=i.xa,h=i.ya,v=i.subplot,p=[],_=l.cluster&&l.cluster.enabled;if(_){var m=v.map.queryRenderedFeatures(null,{layers:[y+l.uid+"-circle"]});p=m.map(function(N){return N.id})}var w=360*(s>=0?Math.floor((s+180)/360):Math.ceil((s-180)/360)),x=s-w;if(D.getClosest(o,function(N){var j=N.lonlat;if(j[0]===M||_&&-1===p.indexOf(N.i+1))return 1/0;var X=E.modHalf(j[0],360),F=j[1],Y=v.project([X,F]),G=Y.x-u.c2p([x,F]),H=Y.y-h.c2p([X,a]),W=Math.max(3,N.mrc||0);return Math.max(Math.sqrt(G*G+H*H)-W,1-3/W)},i),!1!==i.index){var b=o[i.index],A=b.lonlat,g=[E.modHalf(A[0],360)+w,A[1]],I=u.c2p(g),S=h.c2p(g),O=b.mrc||1;i.x0=I-O,i.x1=I+O,i.y0=S-O,i.y1=S+O;var R={};R[l.subplot]={_subplot:v};var L=l._module.formatLabels(b,l,R);return i.lonLabel=L.lonLabel,i.latLabel=L.latLabel,i.color=f(l,b),i.extraText=c(l,b,o[0].t.labels),i.hovertemplate=l.hovertemplate,[i]}},getExtraText:c}},20467:function(ae,B,r){"use strict";ae.exports={attributes:r(99181),supplyDefaults:r(76645),colorbar:r(4898),formatLabels:r(15636),calc:r(84622),plot:r(86951),hoverPoints:r(28178).hoverPoints,eventData:r(53353),selectPoints:r(86387),styleOnSelect:function(D,E){E&&E[0].trace._glTrace.update(E)},moduleType:"trace",name:"scattermapbox",basePlotModule:r(50101),categories:["mapbox","gl","symbols","showLegend","scatter-like"],meta:{}}},86951:function(ae,B,r){"use strict";var D=r(71828),E=r(15790),f=r(77734).traceLayerPrefix,k={cluster:["cluster","clusterCount","circle"],nonCluster:["fill","line","circle","symbol"]};function M(c,i,s,a){this.type="scattermapbox",this.subplot=c,this.uid=i,this.clusterEnabled=s,this.isHidden=a,this.sourceIds={fill:"source-"+i+"-fill",line:"source-"+i+"-line",circle:"source-"+i+"-circle",symbol:"source-"+i+"-symbol",cluster:"source-"+i+"-circle",clusterCount:"source-"+i+"-circle"},this.layerIds={fill:f+i+"-fill",line:f+i+"-line",circle:f+i+"-circle",symbol:f+i+"-symbol",cluster:f+i+"-cluster",clusterCount:f+i+"-cluster-count"},this.below=null}var y=M.prototype;y.addSource=function(c,i,s){var a={type:"geojson",data:i.geojson};s&&s.enabled&&D.extendFlat(a,{cluster:!0,clusterMaxZoom:s.maxzoom});var o=this.subplot.map.getSource(this.sourceIds[c]);o?o.setData(i.geojson):this.subplot.map.addSource(this.sourceIds[c],a)},y.setSourceData=function(c,i){this.subplot.map.getSource(this.sourceIds[c]).setData(i.geojson)},y.addLayer=function(c,i,s){var a={type:i.type,id:this.layerIds[c],source:this.sourceIds[c],layout:i.layout,paint:i.paint};i.filter&&(a.filter=i.filter);for(var o,l=this.layerIds[c],u=this.subplot.getMapLayers(),h=0;h<u.length;h++)if(u[h].id===l){o=!0;break}o?(this.subplot.setOptions(l,"setLayoutProperty",a.layout),"visible"===a.layout.visibility&&this.subplot.setOptions(l,"setPaintProperty",a.paint)):this.subplot.addLayer(a,s)},y.update=function(c){var i=c[0].trace,s=this.subplot,a=s.map,o=E(s.gd,c),l=s.belowLookup["trace-"+this.uid],u=!(!i.cluster||!i.cluster.enabled),h=!!this.clusterEnabled,v=this;function p(x){h?function(b){for(var A=k.cluster,g=A.length-1;g>=0;g--)a.removeLayer(v.layerIds[A[g]]);b||a.removeSource(v.sourceIds.circle)}(x):function(b){for(var A=k.nonCluster,g=A.length-1;g>=0;g--){var I=A[g];a.removeLayer(v.layerIds[I]),b||a.removeSource(v.sourceIds[I])}}(x)}function T(x){u?function(b){b||v.addSource("circle",o.circle,i.cluster);for(var A=k.cluster,g=0;g<A.length;g++){var I=A[g];v.addLayer(I,o[I],l)}}(x):function(b){for(var A=k.nonCluster,g=0;g<A.length;g++){var I=A[g],S=o[I];b||v.addSource(I,S),v.addLayer(I,S,l)}}(x)}var m=this.isHidden,w=!0!==i.visible;w?m||p():m?w||T():h!==u?(p(),T()):(this.below!==l&&(p(!0),T(!0)),function _(){for(var x=u?k.cluster:k.nonCluster,b=0;b<x.length;b++){var A=x[b],g=o[A];g&&(s.setOptions(v.layerIds[A],"setLayoutProperty",g.layout),"visible"===g.layout.visibility&&("cluster"!==A&&v.setSourceData(A,g),s.setOptions(v.layerIds[A],"setPaintProperty",g.paint)))}}()),this.clusterEnabled=u,this.isHidden=w,this.below=l,c[0].trace._glTrace=this},y.dispose=function(){for(var c=this.subplot.map,i=this.clusterEnabled?k.cluster:k.nonCluster,s=i.length-1;s>=0;s--){var a=i[s];c.removeLayer(this.layerIds[a]),c.removeSource(this.sourceIds[a])}},ae.exports=function(c,i){var s,a,o,l=i[0].trace,u=l.cluster&&l.cluster.enabled,v=new M(c,l.uid,u,!0!==l.visible),p=E(c.gd,i),T=v.below=c.belowLookup["trace-"+l.uid];if(u)for(v.addSource("circle",p.circle,l.cluster),s=0;s<k.cluster.length;s++)o=p[a=k.cluster[s]],v.addLayer(a,o,T);else for(s=0;s<k.nonCluster.length;s++)o=p[a=k.nonCluster[s]],v.addSource(a,o,l.cluster),v.addLayer(a,o,T);return i[0].trace._glTrace=v,v}},86387:function(ae,B,r){"use strict";var D=r(71828),E=r(34098),f=r(50606).BADNUM;ae.exports=function(k,M){var y,c=k.cd,i=k.xaxis,s=k.yaxis,a=[];if(!E.hasMarkers(c[0].trace))return[];if(!1===M)for(y=0;y<c.length;y++)c[y].selected=0;else for(y=0;y<c.length;y++){var l=c[y],u=l.lonlat;if(u[0]!==f){var h=[D.modHalf(u[0],360),u[1]],v=[i.c2p(h),s.c2p(h)];M.contains(v,null,y,k)?(a.push({pointNumber:y,lon:u[0],lat:u[1]}),l.selected=1):l.selected=0}}return a}},81245:function(ae,B,r){"use strict";var D=r(5386).fF,E=r(5386).si,f=r(1426).extendFlat,k=r(82196),M=r(9012),y=k.line;ae.exports={mode:k.mode,r:{valType:"data_array",editType:"calc+clearAxisTypes"},theta:{valType:"data_array",editType:"calc+clearAxisTypes"},r0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dr:{valType:"number",dflt:1,editType:"calc"},theta0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dtheta:{valType:"number",editType:"calc"},thetaunit:{valType:"enumerated",values:["radians","degrees","gradians"],dflt:"degrees",editType:"calc+clearAxisTypes"},text:k.text,texttemplate:E({editType:"plot"},{keys:["r","theta","text"]}),hovertext:k.hovertext,line:{color:y.color,width:y.width,dash:y.dash,backoff:y.backoff,shape:f({},y.shape,{values:["linear","spline"]}),smoothing:y.smoothing,editType:"calc"},connectgaps:k.connectgaps,marker:k.marker,cliponaxis:f({},k.cliponaxis,{dflt:!1}),textposition:k.textposition,textfont:k.textfont,fill:f({},k.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:k.fillcolor,hoverinfo:f({},M.hoverinfo,{flags:["r","theta","text","name"]}),hoveron:k.hoveron,hovertemplate:D(),selected:k.selected,unselected:k.unselected}},26442:function(ae,B,r){"use strict";var D=r(92770),E=r(50606).BADNUM,f=r(89298),k=r(36922),M=r(75225),y=r(66279),c=r(47761).calcMarkerSize;ae.exports=function(i,s){for(var a=i._fullLayout,o=s.subplot,l=a[o].radialaxis,u=a[o].angularaxis,h=l.makeCalcdata(s,"r"),v=u.makeCalcdata(s,"theta"),p=s._length,T=new Array(p),_=0;_<p;_++){var m=h[_],w=v[_],x=T[_]={};D(m)&&D(w)?(x.r=m,x.theta=w):x.r=E}var b=c(s,p);return s._extremes.x=f.findExtremes(l,h,{ppad:b}),k(i,s),M(T,s),y(T,s),T}},22184:function(ae,B,r){"use strict";var D=r(71828),E=r(34098),f=r(49508),k=r(11058),M=r(94039),y=r(82410),c=r(28908),i=r(47581).PTS_LINESONLY,s=r(81245);function a(o,l,u,h){var v,p=h("r"),T=h("theta");if(p)T?v=Math.min(p.length,T.length):(v=p.length,h("theta0"),h("dtheta"));else{if(!T)return 0;v=l.theta.length,h("r0"),h("dr")}return l._length=v,v}ae.exports={handleRThetaDefaults:a,supplyDefaults:function(o,l,u,h){function v(_,m){return D.coerce(o,l,s,_,m)}var p=a(0,l,0,v);if(p){v("thetaunit"),v("mode",p<i?"lines+markers":"lines"),v("text"),v("hovertext"),"fills"!==l.hoveron&&v("hovertemplate"),E.hasLines(l)&&(k(o,l,u,h,v,{backoff:!0}),M(o,l,v),v("connectgaps")),E.hasMarkers(l)&&f(o,l,u,h,v,{gradient:!0}),E.hasText(l)&&(v("texttemplate"),y(o,l,h,v));var T=[];(E.hasMarkers(l)||E.hasText(l))&&(v("cliponaxis"),v("marker.maxdisplayed"),T.push("points")),v("fill"),"none"!==l.fill&&(c(o,l,u,v),E.hasLines(l)||M(o,l,v)),"tonext"!==l.fill&&"toself"!==l.fill||T.push("fills"),v("hoveron",T.join("+")||"points"),D.coerceSelectionMarkerOpacity(l,v)}else l.visible=!1}}},98608:function(ae,B,r){"use strict";var D=r(71828),E=r(89298);ae.exports=function(f,k,M){var y,c,i={},s=M[k.subplot]._subplot;s?(y=s.radialAxis,c=s.angularAxis):(y=(s=M[k.subplot]).radialaxis,c=s.angularaxis);var a=y.c2l(f.r);i.rLabel=E.tickText(y,a,!0).text;var o="degrees"===c.thetaunit?D.rad2deg(f.theta):f.theta;return i.thetaLabel=E.tickText(c,o,!0).text,i}},59150:function(ae,B,r){"use strict";var D=r(33720);function E(f,k,M,y){var c=M.radialAxis,i=M.angularAxis;c._hovertitle="r",i._hovertitle="\u03b8";var s={};s[k.subplot]={_subplot:M};var a=k._module.formatLabels(f,k,s);y.rLabel=a.rLabel,y.thetaLabel=a.thetaLabel;var l=[];function u(v,p){l.push(v._hovertitle+": "+p)}if(!k.hovertemplate){var h=(f.hi||k.hoverinfo).split("+");-1!==h.indexOf("all")&&(h=["r","theta","text"]),-1!==h.indexOf("r")&&u(c,y.rLabel),-1!==h.indexOf("theta")&&u(i,y.thetaLabel),-1!==h.indexOf("text")&&y.text&&(l.push(y.text),delete y.text),y.extraText=l.join("<br>")}}ae.exports={hoverPoints:function(f,k,M,y){var c=D(f,k,M,y);if(c&&!1!==c[0].index){var i=c[0];if(void 0===i.index)return c;var s=f.subplot,a=i.cd[i.index],o=i.trace;if(s.isPtInside(a))return i.xLabelVal=void 0,i.yLabelVal=void 0,E(a,o,s,i),i.hovertemplate=o.hovertemplate,c}},makeHoverPointText:E}},91271:function(ae,B,r){"use strict";ae.exports={moduleType:"trace",name:"scatterpolar",basePlotModule:r(23580),categories:["polar","symbols","showLegend","scatter-like"],attributes:r(81245),supplyDefaults:r(22184).supplyDefaults,colorbar:r(4898),formatLabels:r(98608),calc:r(26442),plot:r(45162),style:r(16296).style,styleOnSelect:r(16296).styleOnSelect,hoverPoints:r(59150).hoverPoints,selectPoints:r(98002),meta:{}}},45162:function(ae,B,r){"use strict";var D=r(32663),E=r(50606).BADNUM;ae.exports=function(f,k,M){for(var y=k.layers.frontplot.select("g.scatterlayer"),c=k.xaxis,i=k.yaxis,s={xaxis:c,yaxis:i,plot:k.framework,layerClipId:k._hasClipOnAxisFalse?k.clipIds.forTraces:null},a=k.radialAxis,o=k.angularAxis,l=0;l<M.length;l++)for(var u=M[l],h=0;h<u.length;h++){0===h&&(u[0].trace._xA=c,u[0].trace._yA=i);var v=u[h],p=v.r;if(p===E)v.x=v.y=E;else{var T=a.c2g(p),_=o.c2g(v.theta);v.x=T*Math.cos(_),v.y=T*Math.sin(_)}}D(f,s,M,y)}},53286:function(ae,B,r){"use strict";var D=r(81245),E=r(42341),f=r(5386).si;ae.exports={mode:D.mode,r:D.r,theta:D.theta,r0:D.r0,dr:D.dr,theta0:D.theta0,dtheta:D.dtheta,thetaunit:D.thetaunit,text:D.text,texttemplate:f({editType:"plot"},{keys:["r","theta","text"]}),hovertext:D.hovertext,hovertemplate:D.hovertemplate,line:E.line,connectgaps:E.connectgaps,marker:E.marker,fill:E.fill,fillcolor:E.fillcolor,textposition:E.textposition,textfont:E.textfont,hoverinfo:D.hoverinfo,selected:D.selected,unselected:D.unselected}},65746:function(ae,B,r){"use strict";ae.exports={moduleType:"trace",name:"scatterpolargl",basePlotModule:r(23580),categories:["gl","regl","polar","symbols","showLegend","scatter-like"],attributes:r(53286),supplyDefaults:r(75485),colorbar:r(4898),formatLabels:r(46255),calc:r(37499),hoverPoints:r(29347).hoverPoints,selectPoints:r(58147),meta:{}}},37499:function(ae,B,r){"use strict";var D=r(36922),E=r(47761).calcMarkerSize,f=r(19635),k=r(89298),M=r(78232).TOO_MANY_POINTS;ae.exports=function(y,c){var i=y._fullLayout,s=c.subplot,a=i[s].radialaxis,o=i[s].angularaxis,l=c._r=a.makeCalcdata(c,"r"),u=c._theta=o.makeCalcdata(c,"theta"),h=c._length,v={};h<l.length&&(l=l.slice(0,h)),h<u.length&&(u=u.slice(0,h)),v.r=l,v.theta=u,D(y,c);var p,T=v.opts=f.style(y,c);return h<M?p=E(c,h):T.marker&&(p=2*(T.marker.sizeAvg||Math.max(T.marker.size,3))),c._extremes.x=k.findExtremes(a,l,{ppad:p}),[{x:!1,y:!1,t:v,trace:c}]}},75485:function(ae,B,r){"use strict";var D=r(71828),E=r(34098),f=r(22184).handleRThetaDefaults,k=r(49508),M=r(11058),y=r(82410),c=r(28908),i=r(47581).PTS_LINESONLY,s=r(53286);ae.exports=function(a,o,l,u){function h(p,T){return D.coerce(a,o,s,p,T)}var v=f(a,o,u,h);v?(h("thetaunit"),h("mode",v<i?"lines+markers":"lines"),h("text"),h("hovertext"),"fills"!==o.hoveron&&h("hovertemplate"),E.hasLines(o)&&(M(a,o,l,u,h),h("connectgaps")),E.hasMarkers(o)&&k(a,o,l,u,h,{noAngleRef:!0,noStandOff:!0}),E.hasText(o)&&(h("texttemplate"),y(a,o,u,h)),h("fill"),"none"!==o.fill&&c(a,o,l,h),D.coerceSelectionMarkerOpacity(o,h)):o.visible=!1}},46255:function(ae,B,r){"use strict";var D=r(98608);ae.exports=function(E,f,k){var M=E.i;return"r"in E||(E.r=f._r[M]),"theta"in E||(E.theta=f._theta[M]),D(E,f,k)}},29347:function(ae,B,r){"use strict";var D=r(20794),E=r(59150).makeHoverPointText;ae.exports={hoverPoints:function(f,k,M,y){var c=f.cd[0].t,i=c.r,s=c.theta,a=D.hoverPoints(f,k,M,y);if(a&&!1!==a[0].index){var o=a[0];if(void 0===o.index)return a;var l=f.subplot,u=o.cd[o.index],h=o.trace;if(u.r=i[o.index],u.theta=s[o.index],l.isPtInside(u))return o.xLabelVal=void 0,o.yLabelVal=void 0,E(u,h,l,o),a}}}},21461:function(ae,B,r){"use strict";var D=r(65746);D.plot=r(49741),ae.exports=D},49741:function(ae,B,r){"use strict";var D=r(88294),E=r(92770),f=r(26787),k=r(38967),M=r(19635),y=r(71828),c=r(78232).TOO_MANY_POINTS;ae.exports=function(i,s,a){if(a.length){var o=s.radialAxis,l=s.angularAxis,u=k(i,s);return a.forEach(function(h){if(h&&h[0]&&h[0].trace){var v,p=h[0],T=p.trace,_=p.t,m=T._length,w=_.r,x=_.theta,b=_.opts,A=w.slice(),g=x.slice();for(v=0;v<w.length;v++)s.isPtInside({r:w[v],theta:x[v]})||(A[v]=NaN,g[v]=NaN);var I=new Array(2*m),S=Array(m),O=Array(m);for(v=0;v<m;v++){var R,L,N=A[v];if(E(N)){var j=o.c2g(N),X=l.c2g(g[v],T.thetaunit);R=j*Math.cos(X),L=j*Math.sin(X)}else R=L=NaN;S[v]=I[2*v]=R,O[v]=I[2*v+1]=L}_.tree=D(I),b.marker&&m>=c&&(b.marker.cluster=_.tree),b.marker&&(b.markerSel.positions=b.markerUnsel.positions=b.marker.positions=I),b.line&&I.length>1&&y.extendFlat(b.line,M.linePositions(i,T,I)),b.text&&(y.extendFlat(b.text,{positions:I},M.textPosition(i,T,b.text,b.marker)),y.extendFlat(b.textSel,{positions:I},M.textPosition(i,T,b.text,b.markerSel)),y.extendFlat(b.textUnsel,{positions:I},M.textPosition(i,T,b.text,b.markerUnsel))),b.fill&&!u.fill2d&&(u.fill2d=!0),b.marker&&!u.scatter2d&&(u.scatter2d=!0),b.line&&!u.line2d&&(u.line2d=!0),b.text&&!u.glText&&(u.glText=!0),u.lineOptions.push(b.line),u.fillOptions.push(b.fill),u.markerOptions.push(b.marker),u.markerSelectedOptions.push(b.markerSel),u.markerUnselectedOptions.push(b.markerUnsel),u.textOptions.push(b.text),u.textSelectedOptions.push(b.textSel),u.textUnselectedOptions.push(b.textUnsel),u.selectBatch.push([]),u.unselectBatch.push([]),_.x=S,_.y=O,_.rawx=S,_.rawy=O,_.r=w,_.theta=x,_.positions=I,_._scene=u,_.index=u.count,u.count++}}),f(i,s,a)}},ae.exports.reglPrecompiled={}},48300:function(ae,B,r){"use strict";var D=r(5386).fF,E=r(5386).si,f=r(1426).extendFlat,k=r(82196),M=r(9012),y=k.line;ae.exports={mode:k.mode,real:{valType:"data_array",editType:"calc+clearAxisTypes"},imag:{valType:"data_array",editType:"calc+clearAxisTypes"},text:k.text,texttemplate:E({editType:"plot"},{keys:["real","imag","text"]}),hovertext:k.hovertext,line:{color:y.color,width:y.width,dash:y.dash,backoff:y.backoff,shape:f({},y.shape,{values:["linear","spline"]}),smoothing:y.smoothing,editType:"calc"},connectgaps:k.connectgaps,marker:k.marker,cliponaxis:f({},k.cliponaxis,{dflt:!1}),textposition:k.textposition,textfont:k.textfont,fill:f({},k.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:k.fillcolor,hoverinfo:f({},M.hoverinfo,{flags:["real","imag","text","name"]}),hoveron:k.hoveron,hovertemplate:D(),selected:k.selected,unselected:k.unselected}},30621:function(ae,B,r){"use strict";var D=r(92770),E=r(50606).BADNUM,f=r(36922),k=r(75225),M=r(66279),y=r(47761).calcMarkerSize;ae.exports=function(c,i){for(var s=c._fullLayout,a=i.subplot,l=s[a].imaginaryaxis,u=s[a].realaxis.makeCalcdata(i,"real"),h=l.makeCalcdata(i,"imag"),v=i._length,p=new Array(v),T=0;T<v;T++){var _=u[T],m=h[T],w=p[T]={};D(_)&&D(m)?(w.real=_,w.imag=m):w.real=E}return y(i,v),f(c,i),k(p,i),M(p,i),p}},65269:function(ae,B,r){"use strict";var D=r(71828),E=r(34098),f=r(49508),k=r(11058),M=r(94039),y=r(82410),c=r(28908),i=r(47581).PTS_LINESONLY,s=r(48300);ae.exports=function(a,o,l,u){function h(T,_){return D.coerce(a,o,s,T,_)}var _,w,x,b,A,v=(_=o,b=(w=h)("real"),A=w("imag"),b&&A&&(x=Math.min(b.length,A.length)),_._length=x,x);if(v){h("mode",v<i?"lines+markers":"lines"),h("text"),h("hovertext"),"fills"!==o.hoveron&&h("hovertemplate"),E.hasLines(o)&&(k(a,o,l,u,h,{backoff:!0}),M(a,o,h),h("connectgaps")),E.hasMarkers(o)&&f(a,o,l,u,h,{gradient:!0}),E.hasText(o)&&(h("texttemplate"),y(a,o,u,h));var p=[];(E.hasMarkers(o)||E.hasText(o))&&(h("cliponaxis"),h("marker.maxdisplayed"),p.push("points")),h("fill"),"none"!==o.fill&&(c(a,o,l,h),E.hasLines(o)||M(a,o,h)),"tonext"!==o.fill&&"toself"!==o.fill||p.push("fills"),h("hoveron",p.join("+")||"points"),D.coerceSelectionMarkerOpacity(o,h)}else o.visible=!1}},62047:function(ae,B,r){"use strict";var D=r(89298);ae.exports=function(E,f,k){var M={},y=k[f.subplot]._subplot;return M.realLabel=D.tickText(y.radialAxis,E.real,!0).text,M.imagLabel=D.tickText(y.angularAxis,E.imag,!0).text,M}},11350:function(ae,B,r){"use strict";var D=r(33720);function E(f,k,M,y){var c=M.radialAxis,i=M.angularAxis;c._hovertitle="real",i._hovertitle="imag";var s={};s[k.subplot]={_subplot:M};var a=k._module.formatLabels(f,k,s);y.realLabel=a.realLabel,y.imagLabel=a.imagLabel;var l=[];function u(v,p){l.push(v._hovertitle+": "+p)}if(!k.hovertemplate){var h=(f.hi||k.hoverinfo).split("+");-1!==h.indexOf("all")&&(h=["real","imag","text"]),-1!==h.indexOf("real")&&u(c,y.realLabel),-1!==h.indexOf("imag")&&u(i,y.imagLabel),-1!==h.indexOf("text")&&y.text&&(l.push(y.text),delete y.text),y.extraText=l.join("<br>")}}ae.exports={hoverPoints:function(f,k,M,y){var c=D(f,k,M,y);if(c&&!1!==c[0].index){var i=c[0];if(void 0===i.index)return c;var s=f.subplot,a=i.cd[i.index],o=i.trace;if(s.isPtInside(a))return i.xLabelVal=void 0,i.yLabelVal=void 0,E(a,o,s,i),i.hovertemplate=o.hovertemplate,c}},makeHoverPointText:E}},85956:function(ae,B,r){"use strict";ae.exports={moduleType:"trace",name:"scattersmith",basePlotModule:r(7504),categories:["smith","symbols","showLegend","scatter-like"],attributes:r(48300),supplyDefaults:r(65269),colorbar:r(4898),formatLabels:r(62047),calc:r(30621),plot:r(12480),style:r(16296).style,styleOnSelect:r(16296).styleOnSelect,hoverPoints:r(11350).hoverPoints,selectPoints:r(98002),meta:{}}},12480:function(ae,B,r){"use strict";var D=r(32663),E=r(50606).BADNUM,f=r(23893).smith;ae.exports=function(k,M,y){for(var c=M.layers.frontplot.select("g.scatterlayer"),i=M.xaxis,s=M.yaxis,a={xaxis:i,yaxis:s,plot:M.framework,layerClipId:M._hasClipOnAxisFalse?M.clipIds.forTraces:null},o=0;o<y.length;o++)for(var l=y[o],u=0;u<l.length;u++){0===u&&(l[0].trace._xA=i,l[0].trace._yA=s);var h=l[u],v=h.real;if(v===E)h.x=h.y=E;else{var p=f([v,h.imag]);h.x=p[0],h.y=p[1]}}D(k,a,y,c)}},50413:function(ae,B,r){"use strict";var D=r(5386).fF,E=r(5386).si,f=r(82196),k=r(9012),M=r(50693),y=r(79952).P,c=r(1426).extendFlat,i=f.marker,s=f.line,a=i.line;ae.exports={a:{valType:"data_array",editType:"calc"},b:{valType:"data_array",editType:"calc"},c:{valType:"data_array",editType:"calc"},sum:{valType:"number",dflt:0,min:0,editType:"calc"},mode:c({},f.mode,{dflt:"markers"}),text:c({},f.text,{}),texttemplate:E({editType:"plot"},{keys:["a","b","c","text"]}),hovertext:c({},f.hovertext,{}),line:{color:s.color,width:s.width,dash:y,backoff:s.backoff,shape:c({},s.shape,{values:["linear","spline"]}),smoothing:s.smoothing,editType:"calc"},connectgaps:f.connectgaps,cliponaxis:f.cliponaxis,fill:c({},f.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:f.fillcolor,marker:c({symbol:i.symbol,opacity:i.opacity,angle:i.angle,angleref:i.angleref,standoff:i.standoff,maxdisplayed:i.maxdisplayed,size:i.size,sizeref:i.sizeref,sizemin:i.sizemin,sizemode:i.sizemode,line:c({width:a.width,editType:"calc"},M("marker.line")),gradient:i.gradient,editType:"calc"},M("marker")),textfont:f.textfont,textposition:f.textposition,selected:f.selected,unselected:f.unselected,hoverinfo:c({},k.hoverinfo,{flags:["a","b","c","text","name"]}),hoveron:f.hoveron,hovertemplate:D()}},54337:function(ae,B,r){"use strict";var D=r(92770),E=r(36922),f=r(75225),k=r(66279),M=r(47761).calcMarkerSize,y=["a","b","c"],c={a:["b","c"],b:["a","c"],c:["a","b"]};ae.exports=function(i,s){var a,o,l,u,h,v,p=i._fullLayout[s.subplot].sum,T=s.sum||p,_={a:s.a,b:s.b,c:s.c};for(a=0;a<y.length;a++)if(!_[l=y[a]]){for(h=_[c[l][0]],v=_[c[l][1]],u=new Array(h.length),o=0;o<h.length;o++)u[o]=T-h[o]-v[o];_[l]=u}var m,w,x,b,I=s._length,S=new Array(I);for(a=0;a<I;a++)w=_.b[a],x=_.c[a],D(m=_.a[a])&&D(w)&&D(x)?(1!=(b=p/((m=+m)+(w=+w)+(x=+x)))&&(m*=b,w*=b,x*=b),S[a]={x:x-w,y:m,a:m,b:w,c:x}):S[a]={x:!1,y:!1};return M(s,I),E(i,s),f(S,s),k(S,s),S}},46008:function(ae,B,r){"use strict";var D=r(71828),E=r(47581),f=r(34098),k=r(49508),M=r(11058),y=r(94039),c=r(82410),i=r(28908),s=r(50413);ae.exports=function(a,o,l,u){function h(w,x){return D.coerce(a,o,s,w,x)}var v,p=h("a"),T=h("b"),_=h("c");if(p?(v=p.length,T?(v=Math.min(v,T.length),_&&(v=Math.min(v,_.length))):v=_?Math.min(v,_.length):0):T&&_&&(v=Math.min(T.length,_.length)),v){o._length=v,h("sum"),h("text"),h("hovertext"),"fills"!==o.hoveron&&h("hovertemplate"),h("mode",v<E.PTS_LINESONLY?"lines+markers":"lines"),f.hasLines(o)&&(M(a,o,l,u,h,{backoff:!0}),y(a,o,h),h("connectgaps")),f.hasMarkers(o)&&k(a,o,l,u,h,{gradient:!0}),f.hasText(o)&&(h("texttemplate"),c(a,o,u,h));var m=[];(f.hasMarkers(o)||f.hasText(o))&&(h("cliponaxis"),h("marker.maxdisplayed"),m.push("points")),h("fill"),"none"!==o.fill&&(i(a,o,l,h),f.hasLines(o)||y(a,o,h)),"tonext"!==o.fill&&"toself"!==o.fill||m.push("fills"),h("hoveron",m.join("+")||"points"),D.coerceSelectionMarkerOpacity(o,h)}else o.visible=!1}},4524:function(ae){"use strict";ae.exports=function(B,r,D,E,f){if(r.xa&&(B.xaxis=r.xa),r.ya&&(B.yaxis=r.ya),E[f]){var k=E[f];B.a=k.a,B.b=k.b,B.c=k.c}else B.a=r.a,B.b=r.b,B.c=r.c;return B}},93645:function(ae,B,r){"use strict";var D=r(89298);ae.exports=function(E,f,k){var M={},y=k[f.subplot]._subplot;return M.aLabel=D.tickText(y.aaxis,E.a,!0).text,M.bLabel=D.tickText(y.baxis,E.b,!0).text,M.cLabel=D.tickText(y.caxis,E.c,!0).text,M}},47250:function(ae,B,r){"use strict";var D=r(33720);ae.exports=function(E,f,k,M){var y=D(E,f,k,M);if(y&&!1!==y[0].index){var c=y[0];if(void 0===c.index){var s=E.xa._length,a=s*(1-c.y0/E.ya._length)/2,o=s-a;return c.x0=Math.max(Math.min(c.x0,o),a),c.x1=Math.max(Math.min(c.x1,o),a),y}var l=c.cd[c.index],u=c.trace,h=c.subplot;c.a=l.a,c.b=l.b,c.c=l.c,c.xLabelVal=void 0,c.yLabelVal=void 0;var v={};v[u.subplot]={_subplot:h};var p=u._module.formatLabels(l,u,v);c.aLabel=p.aLabel,c.bLabel=p.bLabel,c.cLabel=p.cLabel;var _=[];if(!u.hovertemplate){var m=(l.hi||u.hoverinfo).split("+");-1!==m.indexOf("all")&&(m=["a","b","c"]),-1!==m.indexOf("a")&&w(h.aaxis,c.aLabel),-1!==m.indexOf("b")&&w(h.baxis,c.bLabel),-1!==m.indexOf("c")&&w(h.caxis,c.cLabel)}return c.extraText=_.join("<br>"),c.hovertemplate=u.hovertemplate,y}function w(x,b){_.push(x._hovertitle+": "+b)}}},52979:function(ae,B,r){"use strict";ae.exports={attributes:r(50413),supplyDefaults:r(46008),colorbar:r(4898),formatLabels:r(93645),calc:r(54337),plot:r(7507),style:r(16296).style,styleOnSelect:r(16296).styleOnSelect,hoverPoints:r(47250),selectPoints:r(98002),eventData:r(4524),moduleType:"trace",name:"scatterternary",basePlotModule:r(61639),categories:["ternary","symbols","showLegend","scatter-like"],meta:{}}},7507:function(ae,B,r){"use strict";var D=r(32663);ae.exports=function(E,f,k){var M=f.plotContainer;M.select(".scatterlayer").selectAll("*").remove();for(var y=f.xaxis,c=f.yaxis,i={xaxis:y,yaxis:c,plot:M,layerClipId:f._hasClipOnAxisFalse?f.clipIdRelative:null},s=f.layers.frontplot.select("g.scatterlayer"),a=0;a<k.length;a++){var o=k[a];o.length&&(o[0].trace._xA=y,o[0].trace._yA=c)}D(E,i,k,s)}},46880:function(ae,B,r){"use strict";var D=r(82196),E=r(50693),f=r(12663).axisHoverFormat,k=r(5386).fF,M=r(42341),y=r(85555).idRegex,c=r(44467).templatedArray,i=r(1426).extendFlat,s=D.marker,a=s.line,o=i(E("marker.line",{editTypeOverride:"calc"}),{width:i({},a.width,{editType:"calc"}),editType:"calc"}),l=i(E("marker"),{symbol:s.symbol,angle:s.angle,size:i({},s.size,{editType:"markerSize"}),sizeref:s.sizeref,sizemin:s.sizemin,sizemode:s.sizemode,opacity:s.opacity,colorbar:s.colorbar,line:o,editType:"calc"});function u(h){return{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"subplotid",regex:y[h],editType:"plot"}}}l.color.editType=l.cmin.editType=l.cmax.editType="style",ae.exports={dimensions:c("dimension",{visible:{valType:"boolean",dflt:!0,editType:"calc"},label:{valType:"string",editType:"calc"},values:{valType:"data_array",editType:"calc+clearAxisTypes"},axis:{type:{valType:"enumerated",values:["linear","log","date","category"],editType:"calc+clearAxisTypes"},matches:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc+clearAxisTypes"},editType:"calc+clearAxisTypes"}),text:i({},M.text,{}),hovertext:i({},M.hovertext,{}),hovertemplate:k(),xhoverformat:f("x"),yhoverformat:f("y"),marker:l,xaxes:u("x"),yaxes:u("y"),diagonal:{visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},showupperhalf:{valType:"boolean",dflt:!0,editType:"calc"},showlowerhalf:{valType:"boolean",dflt:!0,editType:"calc"},selected:{marker:M.selected.marker,editType:"calc"},unselected:{marker:M.unselected.marker,editType:"calc"},opacity:M.opacity}},65017:function(ae,B,r){"use strict";var D=r(73972),E=r(83312);ae.exports={moduleType:"trace",name:"splom",categories:["gl","regl","cartesian","symbols","showLegend","scatter-like"],attributes:r(46880),supplyDefaults:r(25784),colorbar:r(4898),calc:r(87625),plot:r(79410),hoverPoints:r(8567).hoverPoints,selectPoints:r(8689),editStyle:r(28801),meta:{}},D.register(E)},16947:function(ae,B,r){"use strict";var D=r(46075),E=r(73972),f=r(79749),k=r(27659).a0,M=r(93612),y=r(41675).getFromId,c=r(89298).shouldShowZeroLine,i="splom",s={};function a(l,u,h){for(var p=u._visibleDims,T=h.viewOpts.ranges=new Array(h.matrixOptions.data.length),_=0;_<p.length;_++){var m=p[_],w=T[_]=new Array(4),x=y(l,u._diag[m][0]);x&&(w[0]=x.r2l(x.range[0]),w[2]=x.r2l(x.range[1]));var b=y(l,u._diag[m][1]);b&&(w[1]=b.r2l(b.range[0]),w[3]=b.r2l(b.range[1]))}h.selectBatch.length||h.unselectBatch.length?h.matrix.update({ranges:T},{ranges:T}):h.matrix.update({ranges:T})}function o(l){var u=l._fullLayout,h=u._glcanvas.data()[0].regl,v=u._splomGrid;v||(v=u._splomGrid=D(h)),v.update(function(p){var T,_=p._context.plotGlPixelRatio,m=p._fullLayout,w=m._size,x=[0,0,m.width*_,m.height*_],b={};function A(Z,se,re,ne,Q,ee){re*=_,ne*=_,Q*=_,ee*=_;var oe=se[Z+"color"],ce=se[Z+"width"],fe=String(oe+ce);fe in b?b[fe].data.push(NaN,NaN,re,ne,Q,ee):b[fe]={data:[re,ne,Q,ee],join:"rect",thickness:ce*_,color:oe,viewport:x,range:x,overlay:!1}}for(T in m._splomSubplots){var g,I,S=m._plots[T],O=S.xaxis,R=S.yaxis,L=O._gridVals,N=R._gridVals,j=O._offset,X=O._length,F=R._length,Y=w.b+R.domain[0]*w.h,G=-R._m,H=-G*R.r2l(R.range[0],R.calendar);if(O.showgrid)for(T=0;T<L.length;T++)g=j+O.l2p(L[T].x),A("grid",O,g,Y,g,Y+F);if(R.showgrid)for(T=0;T<N.length;T++)A("grid",R,j,I=Y+H+G*N[T].x,j+X,I);c(p,O,R)&&(g=j+O.l2p(0),A("zeroline",O,g,Y,g,Y+F)),c(p,R,O)&&A("zeroline",R,j,I=Y+H+0,j+X,I)}var W=[];for(T in b)W.push(b[T]);return W}(l))}ae.exports={name:i,attr:M.attr,attrRegex:M.attrRegex,layoutAttributes:M.layoutAttributes,supplyLayoutDefaults:M.supplyLayoutDefaults,drawFramework:M.drawFramework,plot:function(l){var u=l._fullLayout,h=E.getModule(i),v=k(l.calcdata,h)[0];f(l,["ANGLE_instanced_arrays","OES_element_index_uint"],s)&&(u._hasOnlyLargeSploms&&o(l),h.plot(l,{},v))},drag:function(l){var u=l.calcdata,h=l._fullLayout;h._hasOnlyLargeSploms&&o(l);for(var v=0;v<u.length;v++){var p=u[v][0].trace,T=h._splomScenes[p.uid];"splom"===p.type&&T&&T.matrix&&a(l,p,T)}},updateGrid:o,clean:function(l,u,h,v){var p,T={};if(v._splomScenes){for(p=0;p<l.length;p++){var _=l[p];"splom"===_.type&&(T[_.uid]=1)}for(p=0;p<h.length;p++){var m=h[p];if(!T[m.uid]){var w=v._splomScenes[m.uid];w&&w.destroy&&w.destroy(),v._splomScenes[m.uid]=null,delete v._splomScenes[m.uid]}}}0===Object.keys(v._splomScenes||{}).length&&delete v._splomScenes,v._splomGrid&&!u._hasOnlyLargeSploms&&v._hasOnlyLargeSploms&&(v._splomGrid.destroy(),v._splomGrid=null,delete v._splomGrid),M.clean(l,u,h,v)},updateFx:M.updateFx,toSVG:M.toSVG,reglPrecompiled:s}},87625:function(ae,B,r){"use strict";var D=r(71828),E=r(41675),f=r(47761).calcMarkerSize,k=r(47761).calcAxisExpansion,M=r(36922),y=r(19635).markerSelection,c=r(19635).markerStyle,i=r(10164),s=r(50606).BADNUM,a=r(78232).TOO_MANY_POINTS;ae.exports=function(o,l){var u,h,v,p,T,_,m=l.dimensions,w=l._length,x={},b=x.cdata=[],A=x.data=[],g=l._visibleDims=[];function I(O,R){for(var L=O.makeCalcdata({v:R.values,vcalendar:l.calendar},"v"),N=0;N<L.length;N++)L[N]=L[N]===s?NaN:L[N];b.push(L),A.push("log"===O.type?D.simpleMap(L,O.c2l):L)}for(u=0;u<m.length;u++)if((v=m[u]).visible){if(p=E.getFromId(o,l._diag[u][0]),T=E.getFromId(o,l._diag[u][1]),p&&T&&p.type!==T.type){D.log("Skipping splom dimension "+u+" with conflicting axis types");continue}p?(I(p,v),T&&"category"===T.type&&(T._categories=p._categories.slice())):I(T,v),g.push(u)}for(M(o,l),D.extendFlat(x,c(o,l)),_=b.length*w>a?x.sizeAvg||Math.max(x.size,3):f(l,w),h=0;h<g.length;h++)v=m[u=g[h]],p=E.getFromId(o,l._diag[u][0])||{},T=E.getFromId(o,l._diag[u][1])||{},k(o,l,p,T,b[h],b[h],_);var S=i(o,l);return S.matrix||(S.matrix=!0),S.matrixOptions=x,S.selectedOptions=y(o,l,l.selected),S.unselectedOptions=y(o,l,l.unselected),[{x:!1,y:!1,t:{},trace:l}]}},25784:function(ae,B,r){"use strict";var D=r(71828),E=r(85501),f=r(46880),k=r(34098),M=r(49508),y=r(94397),c=r(68645).isOpenSymbol;function i(s,a){function o(u,h){return D.coerce(s,a,f.dimensions,u,h)}o("label");var l=o("values");l&&l.length?o("visible"):a.visible=!1,o("axis.type"),o("axis.matches")}ae.exports=function(s,a,o,l){function u(w,x){return D.coerce(s,a,f,w,x)}var h=E(s,a,{name:"dimensions",handleItemDefaults:i}),v=u("diagonal.visible"),p=u("showupperhalf"),T=u("showlowerhalf");if(y(a,h,"values")&&(v||p||T)){u("text"),u("hovertext"),u("hovertemplate"),u("xhoverformat"),u("yhoverformat"),M(s,a,o,l,u,{noAngleRef:!0,noStandOff:!0});var _=c(a.marker.symbol),m=k.isBubble(a);u("marker.line.width",_||m?1:0),function(w,x,b,A){var g,I,S=x.dimensions,O=S.length,R=x.showupperhalf,L=x.showlowerhalf,N=x.diagonal.visible,j=new Array(O),X=new Array(O);for(g=0;g<O;g++){var F=g?g+1:"";j[g]="x"+F,X[g]="y"+F}var Y=A("xaxes",j),G=A("yaxes",X),H=x._diag=new Array(O);x._xaxes={},x._yaxes={};var W=[],Z=[];function se(pe,Me,Ae,be){if(pe){var ye=pe.charAt(0),we=b._splomAxes[ye];if(x["_"+ye+"axes"][pe]=1,be.push(pe),!(pe in we)){var ze=we[pe]={};Ae&&(ze.label=Ae.label||"",Ae.visible&&Ae.axis&&(Ae.axis.type&&(ze.type=Ae.axis.type),Ae.axis.matches&&(ze.matches=Me)))}}}var re=!N&&!L,ne=!N&&!R;for(x._axesDim={},g=0;g<O;g++){var Q=S[g],ee=0===g,oe=g===O-1,ce=ee&&re||oe&&ne?void 0:Y[g],fe=ee&&ne||oe&&re?void 0:G[g];se(ce,fe,Q,W),se(fe,ce,Q,Z),H[g]=[ce,fe],x._axesDim[ce]=g,x._axesDim[fe]=g}for(g=0;g<W.length;g++)for(I=0;I<Z.length;I++){var le=W[g]+Z[I];g>I&&R||g<I&&L?b._splomSubplots[le]=1:g!==I||!N&&L&&R||(b._splomSubplots[le]=1)}(!L||!N&&R&&L)&&(b._splomGridDflt.xside="bottom",b._splomGridDflt.yside="left")}(0,a,l,u),D.coerceSelectionMarkerOpacity(a,u)}else a.visible=!1}},28801:function(ae,B,r){"use strict";var D=r(71828),E=r(36922),f=r(19635).markerStyle;ae.exports=function(k,M){var y=M.trace,c=k._fullLayout._splomScenes[y.uid];if(c){E(k,y),D.extendFlat(c.matrixOptions,f(k,y));var i=D.extendFlat({},c.matrixOptions,c.viewOpts);c.matrix.update(i,null)}}},35948:function(ae,B){"use strict";B.getDimIndex=function(r,D){for(var E=D._id,f={x:0,y:1}[E.charAt(0)],k=r._visibleDims,M=0;M<k.length;M++)if(r._diag[k[M]][f]===E)return M;return!1}},8567:function(ae,B,r){"use strict";var D=r(35948),E=r(20794).calcHover;ae.exports={hoverPoints:function(f,k,M){var y=f.cd[0].trace,c=f.scene.matrixOptions.cdata,i=f.xa,s=f.ya,a=i.c2p(k),o=s.c2p(M),l=f.distance,u=D.getDimIndex(y,i),h=D.getDimIndex(y,s);if(!1===u||!1===h)return[f];for(var v,p,T=c[u],_=c[h],m=l,w=0;w<T.length;w++){var b=_[w],A=i.c2p(T[w])-a,g=s.c2p(b)-o,I=Math.sqrt(A*A+g*g);I<m&&(m=p=I,v=w)}return f.index=v,f.distance=m,f.dxy=p,void 0===v?[f]:[E(f,T,_,y)]}}},6419:function(ae,B,r){"use strict";var D=r(65017);D.basePlotModule=r(16947),ae.exports=D},79410:function(ae,B,r){"use strict";var D=r(60487),E=r(71828),f=r(41675),k=r(64505).selectMode;function M(y,c){var i,s,a,o,l,u=y._fullLayout,h=u._size,v=c.trace,p=c.t,T=u._splomScenes[v.uid],_=T.matrixOptions,m=_.cdata,w=u._glcanvas.data()[0].regl,x=u.dragmode;if(0!==m.length){_.lower=v.showupperhalf,_.upper=v.showlowerhalf,_.diagonal=v.diagonal.visible;var b=v._visibleDims,A=m.length,g=T.viewOpts={};for(g.ranges=new Array(A),g.domains=new Array(A),l=0;l<b.length;l++){a=b[l];var I=g.ranges[l]=new Array(4),S=g.domains[l]=new Array(4);(i=f.getFromId(y,v._diag[a][0]))&&(I[0]=i._rl[0],I[2]=i._rl[1],S[0]=i.domain[0],S[2]=i.domain[1]),(s=f.getFromId(y,v._diag[a][1]))&&(I[1]=s._rl[0],I[3]=s._rl[1],S[1]=s.domain[0],S[3]=s.domain[1])}var O=y._context.plotGlPixelRatio,R=h.l*O,L=h.b*O;g.viewport=[R,L,h.w*O+R,h.h*O+L],!0===T.matrix&&(T.matrix=D(w));var X=u.clickmode.indexOf("select")>-1,F=!0;if(k(x)||v.selectedpoints||X){var Y=v._length;if(v.selectedpoints){T.selectBatch=v.selectedpoints;var G=v.selectedpoints,H={};for(a=0;a<G.length;a++)H[G[a]]=!0;var W=[];for(a=0;a<Y;a++)H[a]||W.push(a);T.unselectBatch=W}var Z=p.xpx=new Array(A),se=p.ypx=new Array(A);for(l=0;l<b.length;l++){if(i=f.getFromId(y,v._diag[a=b[l]][0]))for(Z[l]=new Array(Y),o=0;o<Y;o++)Z[l][o]=i.c2p(m[l][o]);if(s=f.getFromId(y,v._diag[a][1]))for(se[l]=new Array(Y),o=0;o<Y;o++)se[l][o]=s.c2p(m[l][o])}if(T.selectBatch.length||T.unselectBatch.length){var re=E.extendFlat({},_,T.unselectedOptions,g),ne=E.extendFlat({},_,T.selectedOptions,g);T.matrix.update(re,ne),F=!1}}else p.xpx=p.ypx=null;if(F){var Q=E.extendFlat({},_,g);T.matrix.update(Q,null)}}}ae.exports=function(y,c,i){if(i.length)for(var s=0;s<i.length;s++)M(y,i[s][0])}},10164:function(ae,B,r){"use strict";var D=r(71828);ae.exports=function(E,f){var k=E._fullLayout,M=f.uid,y=k._splomScenes;y||(y=k._splomScenes={});var c={dirty:!0,selectBatch:[],unselectBatch:[]},i=y[f.uid];return i||((i=y[M]=D.extendFlat({},c,{matrix:!1,selectBatch:[],unselectBatch:[]})).draw=function(){i.matrix&&i.matrix.draw&&(i.selectBatch.length||i.unselectBatch.length?i.matrix.draw(i.unselectBatch,i.selectBatch):i.matrix.draw()),i.dirty=!1},i.destroy=function(){i.matrix&&i.matrix.destroy&&i.matrix.destroy(),i.matrixOptions=null,i.selectBatch=null,i.unselectBatch=null,i=null}),i.dirty||D.extendFlat(i,c),i}},8689:function(ae,B,r){"use strict";var D=r(71828),E=D.pushUnique,f=r(34098),k=r(35948);ae.exports=function(M,y){var c=M.cd,i=c[0].trace,s=c[0].t,a=M.scene,o=a.matrixOptions.cdata,l=M.xaxis,u=M.yaxis,h=[];if(!a)return h;var v=!f.hasMarkers(i)&&!f.hasText(i);if(!0!==i.visible||v)return h;var p=k.getDimIndex(i,l),T=k.getDimIndex(i,u);if(!1===p||!1===T)return h;var _=s.xpx[p],m=s.ypx[T],w=o[p],x=o[T],b=(M.scene.selectBatch||[]).slice(),A=[];if(!1!==y&&!y.degenerate)for(var g=0;g<w.length;g++)y.contains([_[g],m[g]],null,g,M)?(h.push({pointNumber:g,x:w[g],y:x[g]}),E(b,g)):-1!==b.indexOf(g)?E(b,g):A.push(g);var I=a.matrixOptions;return b.length||A.length?a.selectBatch.length||a.unselectBatch.length||a.matrix.update(a.unselectedOptions,D.extendFlat({},I,a.selectedOptions,a.viewOpts)):a.matrix.update(I,null),a.selectBatch=b,a.unselectBatch=A,h}},21850:function(ae,B,r){"use strict";var D=r(50693),E=r(12663).axisHoverFormat,f=r(5386).fF,k=r(2418),M=r(9012),y=r(1426).extendFlat,c={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},u:{valType:"data_array",editType:"calc"},v:{valType:"data_array",editType:"calc"},w:{valType:"data_array",editType:"calc"},starts:{x:{valType:"data_array",editType:"calc"},y:{valType:"data_array",editType:"calc"},z:{valType:"data_array",editType:"calc"},editType:"calc"},maxdisplayed:{valType:"integer",min:0,dflt:1e3,editType:"calc"},sizeref:{valType:"number",editType:"calc",min:0,dflt:1},text:{valType:"string",dflt:"",editType:"calc"},hovertext:{valType:"string",dflt:"",editType:"calc"},hovertemplate:f({editType:"calc"},{keys:["tubex","tubey","tubez","tubeu","tubev","tubew","norm","divergence"]}),uhoverformat:E("u",1),vhoverformat:E("v",1),whoverformat:E("w",1),xhoverformat:E("x"),yhoverformat:E("y"),zhoverformat:E("z"),showlegend:y({},M.showlegend,{dflt:!1})};y(c,D("",{colorAttr:"u/v/w norm",showScaleDflt:!0,editTypeOverride:"calc"})),["opacity","lightposition","lighting"].forEach(function(i){c[i]=k[i]}),c.hoverinfo=y({},M.hoverinfo,{editType:"calc",flags:["x","y","z","u","v","w","norm","divergence","text","name"],dflt:"x+y+z+norm+text+name"}),c.transforms=void 0,ae.exports=c},88489:function(ae,B,r){"use strict";var D=r(71828),E=r(78803);function f(y){var c,i,s,a,o,l,u,h,v,p,T,_,m=y._x,w=y._y,x=y._z,b=y._len,A=-1/0,g=1/0,I=-1/0,S=1/0,O=-1/0,R=1/0,L="";for(b&&(u=m[0],v=w[0],T=x[0]),b>1&&(h=m[b-1],p=w[b-1],_=x[b-1]),c=0;c<b;c++)A=Math.max(A,m[c]),g=Math.min(g,m[c]),I=Math.max(I,w[c]),S=Math.min(S,w[c]),O=Math.max(O,x[c]),R=Math.min(R,x[c]),a||m[c]===u||(a=!0,L+="x"),o||w[c]===v||(o=!0,L+="y"),l||x[c]===T||(l=!0,L+="z");a||(L+="x"),o||(L+="y"),l||(L+="z");var N=k(y._x),j=k(y._y),X=k(y._z);L=(L=(L=L.replace("x",(u>h?"-":"+")+"x")).replace("y",(v>p?"-":"+")+"y")).replace("z",(T>_?"-":"+")+"z");var F=function(){b=0,N=[],j=[],X=[]};(!b||b<N.length*j.length*X.length)&&F();var Y=function(ye){return"x"===ye?m:"y"===ye?w:x},G=function(ye){return"x"===ye?N:"y"===ye?j:X},H=function(ye){return ye[b-1]<ye[0]?-1:1},W=Y(L[1]),Z=Y(L[3]),se=Y(L[5]),re=G(L[1]).length,ne=G(L[3]).length,Q=G(L[5]).length,ee=!1,oe=function(ye,we,ze){return re*(ne*ye+we)+ze},ce=H(Y(L[1])),fe=H(Y(L[3])),le=H(Y(L[5]));for(c=0;c<Q-1;c++){for(i=0;i<ne-1;i++){for(s=0;s<re-1;s++){var pe=oe(c,i,s),Me=oe(c,i,s+1),Ae=oe(c,i+1,s),be=oe(c+1,i,s);if(W[pe]*ce<W[Me]*ce&&Z[pe]*fe<Z[Ae]*fe&&se[pe]*le<se[be]*le||(ee=!0),ee)break}if(ee)break}if(ee)break}return ee&&(D.warn("Encountered arbitrary coordinates! Unable to input data grid."),F()),{xMin:g,yMin:S,zMin:R,xMax:A,yMax:I,zMax:O,Xs:N,Ys:j,Zs:X,len:b,fill:L}}function k(y){return D.distinctVals(y).vals}function M(y,c){if(void 0===c&&(c=y.length),D.isTypedArray(y))return y.subarray(0,c);for(var i=[],s=0;s<c;s++)i[s]=+y[s];return i}ae.exports={calc:function(y,c){c._len=Math.min(c.u.length,c.v.length,c.w.length,c.x.length,c.y.length,c.z.length),c._u=M(c.u,c._len),c._v=M(c.v,c._len),c._w=M(c.w,c._len),c._x=M(c.x,c._len),c._y=M(c.y,c._len),c._z=M(c.z,c._len);var i=f(c);c._gridFill=i.fill,c._Xs=i.Xs,c._Ys=i.Ys,c._Zs=i.Zs,c._len=i.len;var s,a,o,l=0;c.starts&&(s=M(c.starts.x||[]),a=M(c.starts.y||[]),o=M(c.starts.z||[]),l=Math.min(s.length,a.length,o.length)),c._startsX=s||[],c._startsY=a||[],c._startsZ=o||[];var u,h=0,v=1/0;for(u=0;u<c._len;u++){var p=c._u[u],T=c._v[u],_=c._w[u],m=Math.sqrt(p*p+T*T+_*_);h=Math.max(h,m),v=Math.min(v,m)}for(E(y,c,{vals:[v,h],containerStr:"",cLetter:"c"}),u=0;u<l;u++){var w=s[u];i.xMax=Math.max(i.xMax,w),i.xMin=Math.min(i.xMin,w);var x=a[u];i.yMax=Math.max(i.yMax,x),i.yMin=Math.min(i.yMin,x);var b=o[u];i.zMax=Math.max(i.zMax,b),i.zMin=Math.min(i.zMin,b)}c._slen=l,c._normMax=h,c._xbnds=[i.xMin,i.xMax],c._ybnds=[i.yMin,i.yMax],c._zbnds=[i.zMin,i.zMax]},filter:M,processGrid:f}},90154:function(ae,B,r){"use strict";var D=r(9330).gl_streamtube3d,E=D.createTubeMesh,f=r(71828),k=r(81697).parseColorScale,M=r(21081).extractOpts,y=r(90060),c={xaxis:0,yaxis:1,zaxis:2};function i(u,h){this.scene=u,this.uid=h,this.mesh=null,this.data=null}var s=i.prototype;function a(u){var h=u.length;return h>2?u.slice(1,h-1):2===h?[(u[0]+u[1])/2]:u}function o(u){var h=u.length;return 1===h?[.5,.5]:[u[1]-u[0],u[h-1]-u[h-2]]}function l(u,h){var v=u.fullSceneLayout,p=u.dataScale,T=h._len,_={};function m(re,ne){var Q=v[ne],ee=p[c[ne]];return f.simpleMap(re,function(oe){return Q.d2l(oe)*ee})}if(_.vectors=y(m(h._u,"xaxis"),m(h._v,"yaxis"),m(h._w,"zaxis"),T),!T)return{positions:[],cells:[]};var w=m(h._Xs,"xaxis"),x=m(h._Ys,"yaxis"),b=m(h._Zs,"zaxis");if(_.meshgrid=[w,x,b],_.gridFill=h._gridFill,h._slen)_.startingPositions=y(m(h._startsX,"xaxis"),m(h._startsY,"yaxis"),m(h._startsZ,"zaxis"));else{for(var A=x[0],g=a(w),I=a(b),S=new Array(g.length*I.length),O=0,R=0;R<g.length;R++)for(var L=0;L<I.length;L++)S[O++]=[g[R],A,I[L]];_.startingPositions=S}_.colormap=k(h),_.tubeSize=h.sizeref,_.maxLength=h.maxdisplayed;var N=m(h._xbnds,"xaxis"),j=m(h._ybnds,"yaxis"),X=m(h._zbnds,"zaxis"),F=o(w),Y=o(x),G=o(b),W=D(_,[[N[0]-F[0],j[0]-Y[0],X[0]-G[0]],[N[1]+F[1],j[1]+Y[1],X[1]+G[1]]]),Z=M(h);W.vertexIntensityBounds=[Z.min/h._normMax,Z.max/h._normMax];var se=h.lightposition;return W.lightPosition=[se.x,se.y,se.z],W.ambient=h.lighting.ambient,W.diffuse=h.lighting.diffuse,W.specular=h.lighting.specular,W.roughness=h.lighting.roughness,W.fresnel=h.lighting.fresnel,W.opacity=h.opacity,h._pad=W.tubeScale*h.sizeref*2,W}s.handlePick=function(u){var h=this.scene.fullSceneLayout,v=this.scene.dataScale;function p(m,w){var b=v[c[w]];return h[w].l2c(m)/b}if(u.object===this.mesh){var T=u.data.position,_=u.data.velocity;return u.traceCoordinate=[p(T[0],"xaxis"),p(T[1],"yaxis"),p(T[2],"zaxis"),p(_[0],"xaxis"),p(_[1],"yaxis"),p(_[2],"zaxis"),u.data.intensity*this.data._normMax,u.data.divergence],u.textLabel=this.data.hovertext||this.data.text,!0}},s.update=function(u){this.data=u;var h=l(this.scene,u);this.mesh.update(h)},s.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()},ae.exports=function(u,h){var v=u.glplot.gl,p=l(u,h),T=E(v,p),_=new i(u,h.uid);return _.mesh=T,_.data=h,T._trace=_,u.glplot.add(T),_}},22459:function(ae,B,r){"use strict";var D=r(71828),E=r(1586),f=r(21850);ae.exports=function(k,M,y,c){function i(v,p){return D.coerce(k,M,f,v,p)}var s=i("u"),a=i("v"),o=i("w"),l=i("x"),u=i("y"),h=i("z");s&&s.length&&a&&a.length&&o&&o.length&&l&&l.length&&u&&u.length&&h&&h.length?(i("starts.x"),i("starts.y"),i("starts.z"),i("maxdisplayed"),i("sizeref"),i("lighting.ambient"),i("lighting.diffuse"),i("lighting.specular"),i("lighting.roughness"),i("lighting.fresnel"),i("lightposition.x"),i("lightposition.y"),i("lightposition.z"),E(k,M,c,i,{prefix:"",cLetter:"c"}),i("text"),i("hovertext"),i("hovertemplate"),i("uhoverformat"),i("vhoverformat"),i("whoverformat"),i("xhoverformat"),i("yhoverformat"),i("zhoverformat"),M._length=null):M.visible=!1}},61510:function(ae,B,r){"use strict";ae.exports={moduleType:"trace",name:"streamtube",basePlotModule:r(58547),categories:["gl3d","showLegend"],attributes:r(21850),supplyDefaults:r(22459),colorbar:{min:"cmin",max:"cmax"},calc:r(88489).calc,plot:r(90154),eventData:function(D,E){return D.tubex=D.x,D.tubey=D.y,D.tubez=D.z,D.tubeu=E.traceCoordinate[3],D.tubev=E.traceCoordinate[4],D.tubew=E.traceCoordinate[5],D.norm=E.traceCoordinate[6],D.divergence=E.traceCoordinate[7],delete D.x,delete D.y,delete D.z,D},meta:{}}},57564:function(ae,B,r){"use strict";var D=r(9012),E=r(5386).fF,f=r(5386).si,k=r(50693),M=r(27670).Y,y=r(34e3),c=r(7055),i=r(1426).extendFlat,s=r(79952).u;ae.exports={labels:{valType:"data_array",editType:"calc"},parents:{valType:"data_array",editType:"calc"},values:{valType:"data_array",editType:"calc"},branchvalues:{valType:"enumerated",values:["remainder","total"],dflt:"remainder",editType:"calc"},count:{valType:"flaglist",flags:["branches","leaves"],dflt:"leaves",editType:"calc"},level:{valType:"any",editType:"plot",anim:!0},maxdepth:{valType:"integer",editType:"plot",dflt:-1},marker:i({colors:{valType:"data_array",editType:"calc"},line:{color:i({},y.marker.line.color,{dflt:null}),width:i({},y.marker.line.width,{dflt:1}),editType:"calc"},pattern:s,editType:"calc"},k("marker",{colorAttr:"colors",anim:!1})),leaf:{opacity:{valType:"number",editType:"style",min:0,max:1},editType:"plot"},text:y.text,textinfo:{valType:"flaglist",flags:["label","text","value","current path","percent root","percent entry","percent parent"],extras:["none"],editType:"plot"},texttemplate:f({editType:"plot"},{keys:c.eventDataKeys.concat(["label","value"])}),hovertext:y.hovertext,hoverinfo:i({},D.hoverinfo,{flags:["label","text","value","name","current path","percent root","percent entry","percent parent"],dflt:"label+text+value+name"}),hovertemplate:E({},{keys:c.eventDataKeys}),textfont:y.textfont,insidetextorientation:y.insidetextorientation,insidetextfont:y.insidetextfont,outsidetextfont:i({},y.outsidetextfont,{}),rotation:{valType:"angle",dflt:0,editType:"plot"},sort:y.sort,root:{color:{valType:"color",editType:"calc",dflt:"rgba(0,0,0,0)"},editType:"calc"},domain:M({name:"sunburst",trace:!0,editType:"calc"})}},66888:function(ae,B,r){"use strict";var D=r(74875);B.name="sunburst",B.plot=function(E,f,k,M){D.plotBasePlot(B.name,E,f,k,M)},B.clean=function(E,f,k,M){D.cleanBasePlot(B.name,E,f,k,M)}},52147:function(ae,B,r){"use strict";var D=r(674),E=r(92770),f=r(71828),k=r(21081).makeColorScaleFuncFromTrace,M=r(32354).makePullColorFn,y=r(32354).generateExtendedColors,c=r(21081).calc,i=r(50606).ALMOST_EQUAL,s={},a={},o={};function l(u,h,v){var p=0,T=u.children;if(T){for(var _=T.length,m=0;m<_;m++)p+=l(T[m],h,v);v.branches&&p++}else v.leaves&&p++;return u.value=u.data.data.value=p,h._values||(h._values=[]),h._values[u.data.data.i]=p,p}B.calc=function(u,h){var v,p,T,_,m,w,x=u._fullLayout,b=h.ids,A=f.isArrayOrTypedArray(b),g=h.labels,I=h.parents,S=h.values,O=f.isArrayOrTypedArray(S),R=[],L={},N={},j=function(le){return le||"number"==typeof le},X=function(le){return!O||E(S[le])&&S[le]>=0};A?(v=Math.min(b.length,I.length),p=function(le){return j(b[le])&&X(le)},T=function(le){return String(b[le])}):(v=Math.min(g.length,I.length),p=function(le){return j(g[le])&&X(le)},T=function(le){return String(g[le])}),O&&(v=Math.min(v,S.length));for(var F=0;F<v;F++)if(p(F)){var Y=T(F),G=j(I[F])?String(I[F]):"",H={i:F,id:Y,pid:G,label:j(g[F])?String(g[F]):""};O&&(H.v=+S[F]),R.push(H),m=Y,L[_=G]?L[_].push(m):L[_]=[m],N[m]=1}if(L[""]){if(L[""].length>1){for(var W=f.randstr(),Z=0;Z<R.length;Z++)""===R[Z].pid&&(R[Z].pid=W);R.unshift({hasMultipleRoots:!0,id:W,pid:"",label:""})}}else{var se,re=[];for(se in L)N[se]||re.push(se);if(1!==re.length)return f.warn(["Multiple implied roots, cannot build",h.type,"hierarchy of",h.name+".","These roots include:",re.join(", ")].join(" "));R.unshift({hasImpliedRoot:!0,id:se=re[0],pid:"",label:se})}try{w=D.stratify().id(function(le){return le.id}).parentId(function(le){return le.pid})(R)}catch(le){return f.warn(["Failed to build",h.type,"hierarchy of",h.name+".","Error:",le.message].join(" "))}var ne=D.hierarchy(w),Q=!1;if(O)switch(h.branchvalues){case"remainder":ne.sum(function(le){return le.data.v});break;case"total":ne.each(function(le){var pe=le.data.data,Me=pe.v;if(le.children){var Ae=le.children.reduce(function(be,ye){return be+ye.data.data.v},0);if((pe.hasImpliedRoot||pe.hasMultipleRoots)&&(Me=Ae),Me<Ae*i)return Q=!0,f.warn(["Total value for node",le.data.data.id,"of",h.name,"is smaller than the sum of its children.","\nparent value =",Me,"\nchildren sum =",Ae].join(" "))}le.value=Me})}else l(ne,h,{branches:-1!==h.count.indexOf("branches"),leaves:-1!==h.count.indexOf("leaves")});if(!Q){var ee,oe;h.sort&&ne.sort(function(le,pe){return pe.value-le.value});var ce=h.marker.colors||[];return h._hasColorscale?(!!ce.length||(ce=O?h.values:h._values),c(u,h,{vals:ce,containerStr:"marker",cLetter:"c"}),oe=k(h.marker)):ee=M(x["_"+h.type+"colormap"]),ne.each(function(le){var pe=le.data.data;pe.color=h._hasColorscale?oe(ce[pe.i]):ee(ce[pe.i],pe.id)}),R[0].hierarchy=ne,R}},B._runCrossTraceCalc=function(u,h){var v=h._fullLayout,p=h.calcdata,T=v[u+"colorway"],_=v["_"+u+"colormap"];v["extend"+u+"colors"]&&(T=y(T,"icicle"===u?o:"treemap"===u?a:s));var m,w=0;function x(g){var I=g.data.data,S=I.id;!1===I.color&&(_[S]?I.color=_[S]:g.parent?g.parent.parent?I.color=g.parent.data.data.color:(_[S]=I.color=T[w%T.length],w++):I.color=m)}for(var b=0;b<p.length;b++){var A=p[b][0];A.trace.type===u&&A.hierarchy&&(m=A.trace.root.color,A.hierarchy.each(x))}},B.crossTraceCalc=function(u){return B._runCrossTraceCalc("sunburst",u)}},7055:function(ae){"use strict";ae.exports={CLICK_TRANSITION_TIME:750,CLICK_TRANSITION_EASING:"linear",eventDataKeys:["currentPath","root","entry","percentRoot","percentEntry","percentParent"]}},17094:function(ae,B,r){"use strict";var D=r(71828),E=r(57564),f=r(27670).c,k=r(90769).handleText,M=r(37434).handleMarkerDefaults,y=r(21081),c=y.hasColorscale,i=y.handleDefaults;ae.exports=function(s,a,o,l){function u(m,w){return D.coerce(s,a,E,m,w)}var h=u("labels"),v=u("parents");if(h&&h.length&&v&&v.length){var p=u("values");u(p&&p.length?"branchvalues":"count"),u("level"),u("maxdepth"),M(s,a,l,u);var T=a._hasColorscale=c(s,"marker","colors")||(s.marker||{}).coloraxis;T&&i(s,a,l,u,{prefix:"marker.",cLetter:"c"}),u("leaf.opacity",T?1:.7);var _=u("text");u("texttemplate"),a.texttemplate||u("textinfo",Array.isArray(_)?"text+label":"label"),u("hovertext"),u("hovertemplate"),k(s,a,l,u,"auto",{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),u("insidetextorientation"),u("sort"),u("rotation"),u("root.color"),f(a,l,u),a._length=null}else a.visible=!1}},43467:function(ae,B,r){"use strict";var D=r(91424),E=r(7901);ae.exports=function(f,k,M,y,c){var i=k.data.data,a=c||i.color;if(i.i>=0){k.i=i.i;var o=M.marker;o.pattern&&o.colors&&o.pattern.shape||(o.color=a,k.color=a),D.pointStyle(f,M,y,k)}else E.fill(f,a)}},83523:function(ae,B,r){"use strict";var D=r(39898),E=r(73972),f=r(23469).appendArrayPointValue,k=r(30211),M=r(71828),y=r(11086),c=r(2791),i=r(53581).formatPieValue;function s(a,o,l){for(var u=a.data.data,h={curveNumber:o.index,pointNumber:u.i,data:o._input,fullData:o},v=0;v<l.length;v++){var p=l[v];p in a&&(h[p]=a[p])}return"parentString"in a&&!c.isHierarchyRoot(a)&&(h.parent=a.parentString),f(h,o,u.i),h}ae.exports=function(a,o,l,u,h){var v=u[0],p=v.trace,T=v.hierarchy,_="sunburst"===p.type,m="treemap"===p.type||"icicle"===p.type;"_hasHoverLabel"in p||(p._hasHoverLabel=!1),"_hasHoverEvent"in p||(p._hasHoverEvent=!1),a.on("mouseover",function(w){var x=l._fullLayout;if(!l._dragging&&!1!==x.hovermode){var b,A=l._fullData[p.index],g=w.data.data,I=g.i,S=c.isHierarchyRoot(w),O=c.getParent(T,w),R=c.getValue(w),L=function(ce){return M.castOption(A,I,ce)},N=L("hovertemplate"),j=k.castHoverinfo(A,x,I),X=x.separators;if(N||j&&"none"!==j&&"skip"!==j){var F,Y;_&&(F=v.cx+w.pxmid[0]*(1-w.rInscribed),Y=v.cy+w.pxmid[1]*(1-w.rInscribed)),m&&(F=w._hoverX,Y=w._hoverY);var G,H={},W=[],Z=[],se=function(ce){return-1!==W.indexOf(ce)};j&&(W="all"===j?A._module.attributes.hoverinfo.flags:j.split("+")),H.label=g.label,se("label")&&H.label&&Z.push(H.label),g.hasOwnProperty("v")&&(H.value=g.v,H.valueLabel=i(H.value,X),se("value")&&Z.push(H.valueLabel)),H.currentPath=w.currentPath=c.getPath(w.data),se("current path")&&!S&&Z.push(H.currentPath);var re=[],ne=function(){-1===re.indexOf(G)&&(Z.push(G),re.push(G))};H.percentParent=w.percentParent=R/c.getValue(O),H.parent=w.parentString=c.getPtLabel(O),se("percent parent")&&(G=c.formatPercent(H.percentParent,X)+" of "+H.parent,ne()),H.percentEntry=w.percentEntry=R/c.getValue(o),H.entry=w.entry=c.getPtLabel(o),!se("percent entry")||S||w.onPathbar||(G=c.formatPercent(H.percentEntry,X)+" of "+H.entry,ne()),H.percentRoot=w.percentRoot=R/c.getValue(T),H.root=w.root=c.getPtLabel(T),se("percent root")&&!S&&(G=c.formatPercent(H.percentRoot,X)+" of "+H.root,ne()),H.text=L("hovertext")||L("text"),se("text")&&M.isValidTextValue(G=H.text)&&Z.push(G),b=[s(w,A,h.eventDataKeys)];var Q={trace:A,y:Y,_x0:w._x0,_x1:w._x1,_y0:w._y0,_y1:w._y1,text:Z.join("<br>"),name:N||se("name")?A.name:void 0,color:L("hoverlabel.bgcolor")||g.color,borderColor:L("hoverlabel.bordercolor"),fontFamily:L("hoverlabel.font.family"),fontSize:L("hoverlabel.font.size"),fontColor:L("hoverlabel.font.color"),nameLength:L("hoverlabel.namelength"),textAlign:L("hoverlabel.align"),hovertemplate:N,hovertemplateLabels:H,eventData:b};_&&(Q.x0=F-w.rInscribed*w.rpx1,Q.x1=F+w.rInscribed*w.rpx1,Q.idealAlign=w.pxmid[0]<0?"left":"right"),m&&(Q.x=F,Q.idealAlign=F<0?"left":"right");var ee=[];k.loneHover(Q,{container:x._hoverlayer.node(),outerContainer:x._paper.node(),gd:l,inOut_bbox:ee}),b[0].bbox=ee[0],p._hasHoverLabel=!0}if(m){var oe=a.select("path.surface");h.styleOne(oe,w,A,l,{hovered:!0})}p._hasHoverEvent=!0,l.emit("plotly_hover",{points:b||[s(w,A,h.eventDataKeys)],event:D.event})}}),a.on("mouseout",function(w){var x=l._fullLayout,b=l._fullData[p.index],A=D.select(this).datum();if(p._hasHoverEvent&&(w.originalEvent=D.event,l.emit("plotly_unhover",{points:[s(A,b,h.eventDataKeys)],event:D.event}),p._hasHoverEvent=!1),p._hasHoverLabel&&(k.loneUnhover(x._hoverlayer.node()),p._hasHoverLabel=!1),m){var g=a.select("path.surface");h.styleOne(g,A,b,l,{hovered:!1})}}),a.on("click",function(w){var x=l._fullLayout,b=l._fullData[p.index],A=_&&(c.isHierarchyRoot(w)||c.isLeaf(w)),g=c.getPtId(w),I=c.isEntry(w)?c.findEntryWithChild(T,g):c.findEntryWithLevel(T,g),S=c.getPtId(I),O={points:[s(w,b,h.eventDataKeys)],event:D.event};A||(O.nextLevel=S);var R=y.triggerHandler(l,"plotly_"+p.type+"click",O);if(!1!==R&&x.hovermode&&(l._hoverdata=[s(w,b,h.eventDataKeys)],k.click(l,D.event)),!A&&!1!==R&&!l._dragging&&!l._transitioning){E.call("_storeDirectGUIEdit",b,x._tracePreGUI[b.uid],{level:b.level});var L={data:[{level:S}],traces:[p.index]},N={frame:{redraw:!1,duration:h.transitionTime},transition:{duration:h.transitionTime,easing:h.transitionEasing},mode:"immediate",fromcurrent:!0};k.loneUnhover(x._hoverlayer.node()),E.call("animate",l,L,N)}})}},2791:function(ae,B,r){"use strict";var D=r(71828),E=r(7901),f=r(6964),k=r(53581);function M(y){return y.data.data.pid}B.findEntryWithLevel=function(y,c){var i;return c&&y.eachAfter(function(s){if(B.getPtId(s)===c)return i=s.copy()}),i||y},B.findEntryWithChild=function(y,c){var i;return y.eachAfter(function(s){for(var a=s.children||[],o=0;o<a.length;o++)if(B.getPtId(a[o])===c)return i=s.copy()}),i||y},B.isEntry=function(y){return!y.parent},B.isLeaf=function(y){return!y.children},B.getPtId=function(y){return y.data.data.id},B.getPtLabel=function(y){return y.data.data.label},B.getValue=function(y){return y.value},B.isHierarchyRoot=function(y){return""===M(y)},B.setSliceCursor=function(y,c,i){var s=i.isTransitioning;if(!s){var a=y.datum();s=i.hideOnRoot&&B.isHierarchyRoot(a)||i.hideOnLeaves&&B.isLeaf(a)}f(y,s?null:"pointer")},B.getInsideTextFontKey=function(y,c,i,s,a){var l=i.data.data.i;return D.castOption(c,l,((a||{}).onPathbar?"pathbar.textfont":"insidetextfont")+"."+y)||D.castOption(c,l,"textfont."+y)||s.size},B.getOutsideTextFontKey=function(y,c,i,s){var a=i.data.data.i;return D.castOption(c,a,"outsidetextfont."+y)||D.castOption(c,a,"textfont."+y)||s.size},B.isOutsideText=function(y,c){return!y._hasColorscale&&B.isHierarchyRoot(c)},B.determineTextFont=function(y,c,i,s){return B.isOutsideText(y,c)?{color:B.getOutsideTextFontKey("color",a=y,o=c,l=i),family:B.getOutsideTextFontKey("family",a,o,l),size:B.getOutsideTextFontKey("size",a,o,l)}:function(a,o,l,u){var v=o.data.data,p=v.i,T=D.castOption(a,p,((u||{}).onPathbar?"pathbar.textfont":"insidetextfont")+".color");return!T&&a._input.textfont&&(T=D.castOption(a._input,p,"textfont.color")),{color:T||E.contrast(v.color),family:B.getInsideTextFontKey("family",a,o,l,u),size:B.getInsideTextFontKey("size",a,o,l,u)}}(y,c,i,s);var a,o,l},B.hasTransition=function(y){return!!(y&&y.duration>0)},B.getMaxDepth=function(y){return y.maxdepth>=0?y.maxdepth:1/0},B.isHeader=function(y,c){return!(B.isLeaf(y)||y.depth===c._maxDepth-1)},B.getParent=function(y,c){return B.findEntryWithLevel(y,M(c))},B.listPath=function(y,c){var i=y.parent;if(!i)return[];var s=c?[i.data[c]]:[i];return B.listPath(i,c).concat(s)},B.getPath=function(y){return B.listPath(y,"label").join("/")+"/"},B.formatValue=k.formatPieValue,B.formatPercent=function(y,c){var i=D.formatPercent(y,0);return"0%"===i&&(i=k.formatPiePercent(y,c)),i}},87619:function(ae,B,r){"use strict";ae.exports={moduleType:"trace",name:"sunburst",basePlotModule:r(66888),categories:[],animatable:!0,attributes:r(57564),layoutAttributes:r(2654),supplyDefaults:r(17094),supplyLayoutDefaults:r(57034),calc:r(52147).calc,crossTraceCalc:r(52147).crossTraceCalc,plot:r(24714).plot,style:r(29969).style,colorbar:r(4898),meta:{}}},2654:function(ae){"use strict";ae.exports={sunburstcolorway:{valType:"colorlist",editType:"calc"},extendsunburstcolors:{valType:"boolean",dflt:!0,editType:"calc"}}},57034:function(ae,B,r){"use strict";var D=r(71828),E=r(2654);ae.exports=function(f,k){function M(y,c){return D.coerce(f,k,E,y,c)}M("sunburstcolorway",k.colorway),M("extendsunburstcolors")}},24714:function(ae,B,r){"use strict";var D=r(39898),E=r(674),f=r(81684).sX,k=r(91424),M=r(71828),y=r(63893),c=r(72597),i=c.recordMinTextSize,s=c.clearMinTextSize,a=r(14575),o=r(53581).getRotationAngle,l=a.computeTransform,u=a.transformInsideText,h=r(29969).styleOne,v=r(16688).resizeText,p=r(83523),T=r(7055),_=r(2791);function m(x,b,A,g){var I=x._context.staticPlot,S=x._fullLayout,O=!S.uniformtext.mode&&_.hasTransition(g),R=D.select(A).selectAll("g.slice"),L=b[0],N=L.trace,X=_.findEntryWithLevel(L.hierarchy,N.level),F=_.getMaxDepth(N),Y=S._size,G=N.domain,W=Y.h*(G.y[1]-G.y[0]),Z=.5*Math.min(Y.w*(G.x[1]-G.x[0]),W),se=L.cx=Y.l+Y.w*(G.x[1]+G.x[0])/2,re=L.cy=Y.t+Y.h*(1-G.y[0])-W/2;if(!X)return R.remove();var ne=null,Q={};O&&R.each(function(he){Q[_.getPtId(he)]={rpx0:he.rpx0,rpx1:he.rpx1,x0:he.x0,x1:he.x1,transform:he.transform},!ne&&_.isEntry(he)&&(ne=he)});var he,ee=(he=X,E.partition().size([2*Math.PI,he.height+1])(he)).descendants(),oe=X.height+1,ce=0,fe=F;L.hasMultipleRoots&&_.isHierarchyRoot(X)&&(ee=ee.slice(1),oe-=1,ce=1,fe+=1),ee=ee.filter(function(he){return he.y1<=fe});var le=o(N.rotation);le&&ee.forEach(function(he){he.x0+=le,he.x1+=le});var pe=Math.min(oe,F),Me=function(he){return(he-ce)/pe*Z},Ae=function(he,_e){return[he*Math.cos(_e),-he*Math.sin(_e)]},be=function(he){return M.pathAnnulus(he.rpx0,he.rpx1,he.x0,he.x1,se,re)},ye=function(he){return se+w(he)[0]*(he.transform.rCenter||0)+(he.transform.x||0)},we=function(he){return re+w(he)[1]*(he.transform.rCenter||0)+(he.transform.y||0)};(R=R.data(ee,_.getPtId)).enter().append("g").classed("slice",!0),O?R.exit().transition().each(function(){var he=D.select(this);he.select("path.surface").transition().attrTween("d",function(_e){var Le=function(Ie){var De,je=_.getPtId(Ie),qe=Q[je],ve=Q[_.getPtId(X)];if(ve){var Oe=(Ie.x1>ve.x1?2*Math.PI:0)+le;De=Ie.rpx1<ve.rpx1?{x0:Ie.x0,x1:Ie.x1,rpx0:0,rpx1:0}:{x0:Oe,x1:Oe,rpx0:Ie.rpx0,rpx1:Ie.rpx1}}else{var ke,Be=_.getPtId(Ie.parent);R.each(function(at){if(_.getPtId(at)===Be)return ke=at});var We,Ge=ke.children;Ge.forEach(function(at,mt){if(_.getPtId(at)===je)return We=mt});var Ke=Ge.length,et=f(ke.x0,ke.x1);De={rpx0:Z,rpx1:Z,x0:et(We/Ke),x1:et((We+1)/Ke)}}return f(qe,De)}(_e);return function(Ie){return be(Le(Ie))}}),he.select("g.slicetext").attr("opacity",0)}).remove():R.exit().remove(),R.order();var ze=null;if(O&&ne){var Se=_.getPtId(ne);R.each(function(he){null===ze&&_.getPtId(he)===Se&&(ze=he.x1)})}var Ce=R;function ge(he){var _e=he.parent,Le=Q[_.getPtId(_e)],Ie={};if(Le){var De=_e.children,je=De.indexOf(he),qe=De.length,ve=f(Le.x0,Le.x1);Ie.x0=ve(je/qe),Ie.x1=ve(je/qe)}else Ie.x0=Ie.x1=0;return Ie}O&&(Ce=Ce.transition().each("end",function(){var he=D.select(this);_.setSliceCursor(he,x,{hideOnRoot:!0,hideOnLeaves:!0,isTransitioning:!1})})),Ce.each(function(he){var Oe,_e=D.select(this),Le=M.ensureSingle(_e,"path","surface",function(Oe){Oe.style("pointer-events",I?"none":"all")});he.rpx0=Me(he.y0),he.rpx1=Me(he.y1),he.xmid=(he.x0+he.x1)/2,he.pxmid=Ae(he.rpx1,he.xmid),he.midangle=-(he.xmid-Math.PI/2),he.startangle=-(he.x0-Math.PI/2),he.stopangle=-(he.x1-Math.PI/2),he.halfangle=.5*Math.min(M.angleDelta(he.x0,he.x1)||Math.PI,Math.PI),he.ring=1-he.rpx0/he.rpx1,he.rInscribed=0===(Oe=he).rpx0&&M.isFullCircle([Oe.x0,Oe.x1])?1:Math.max(0,Math.min(1/(1+1/Math.sin(Oe.halfangle)),Oe.ring/2)),O?Le.transition().attrTween("d",function(Oe){var ke=function(Be){var We,Ge=Q[_.getPtId(Be)],Ke={x0:Be.x0,x1:Be.x1,rpx0:Be.rpx0,rpx1:Be.rpx1};if(Ge)We=Ge;else if(ne)if(Be.parent)if(ze){var et=(Be.x1>ze?2*Math.PI:0)+le;We={x0:et,x1:et}}else M.extendFlat(We={rpx0:Z,rpx1:Z},ge(Be));else We={rpx0:0,rpx1:0};else We={x0:le,x1:le};return f(We,Ke)}(Oe);return function(Be){return be(ke(Be))}}):Le.attr("d",be),_e.call(p,X,x,b,{eventDataKeys:T.eventDataKeys,transitionTime:T.CLICK_TRANSITION_TIME,transitionEasing:T.CLICK_TRANSITION_EASING}).call(_.setSliceCursor,x,{hideOnRoot:!0,hideOnLeaves:!0,isTransitioning:x._transitioning}),Le.call(h,he,N,x);var Ie=M.ensureSingle(_e,"g","slicetext"),De=M.ensureSingle(Ie,"text","",function(Oe){Oe.attr("data-notex",1)}),je=M.ensureUniformFontSize(x,_.determineTextFont(N,he,S.font));De.text(B.formatSliceLabel(he,X,N,b,S)).classed("slicetext",!0).attr("text-anchor","middle").call(k.font,je).call(y.convertToTspans,x);var qe=k.bBox(De.node());he.transform=u(qe,he,L),he.transform.targetX=ye(he),he.transform.targetY=we(he);var ve=function(Oe,ke){var Be=Oe.transform;return l(Be,ke),Be.fontSize=je.size,i(N.type,Be,S),M.getTextTransform(Be)};O?De.transition().attrTween("transform",function(Oe){var ke=function(Be){var We,Ge=Q[_.getPtId(Be)],Ke=Be.transform;if(Ge)We=Ge;else if(We={rpx1:Be.rpx1,transform:{textPosAngle:Ke.textPosAngle,scale:0,rotate:Ke.rotate,rCenter:Ke.rCenter,x:Ke.x,y:Ke.y}},ne)if(Be.parent)if(ze){var et=Be.x1>ze?2*Math.PI:0;We.x0=We.x1=et}else M.extendFlat(We,ge(Be));else We.x0=We.x1=le;else We.x0=We.x1=le;var at=f(We.transform.textPosAngle,Be.transform.textPosAngle),mt=f(We.rpx1,Be.rpx1),ct=f(We.x0,Be.x0),kt=f(We.x1,Be.x1),Dt=f(We.transform.scale,Ke.scale),Et=f(We.transform.rotate,Ke.rotate),ht=0===Ke.rCenter?3:0===We.transform.rCenter?1/3:1,pt=f(We.transform.rCenter,Ke.rCenter);return function(Pt){var zt=mt(Pt),Ht=ct(Pt),Lt=kt(Pt),tt=pt(Math.pow(Pt,ht)),it={pxmid:Ae(zt,(Ht+Lt)/2),rpx1:zt,transform:{textPosAngle:at(Pt),rCenter:tt,x:Ke.x,y:Ke.y}};return i(N.type,Ke,S),{transform:{targetX:ye(it),targetY:we(it),scale:Dt(Pt),rotate:Et(Pt),rCenter:tt}}}}(Oe);return function(Be){return ve(ke(Be),qe)}}):De.attr("transform",ve(he,qe))})}function w(x){return A=x.transform.textPosAngle,[(b=x.rpx1)*Math.sin(A),-b*Math.cos(A)];var b,A}B.plot=function(x,b,A,g){var I,S,O=x._fullLayout,R=O._sunburstlayer,L=!A,N=!O.uniformtext.mode&&_.hasTransition(A);s("sunburst",O),(I=R.selectAll("g.trace.sunburst").data(b,function(j){return j[0].trace.uid})).enter().append("g").classed("trace",!0).classed("sunburst",!0).attr("stroke-linejoin","round"),I.order(),N?(g&&(S=g()),D.transition().duration(A.duration).ease(A.easing).each("end",function(){S&&S()}).each("interrupt",function(){S&&S()}).each(function(){R.selectAll("g.trace").each(function(j){m(x,j,this,A)})})):(I.each(function(j){m(x,j,this,A)}),O.uniformtext.mode&&v(x,O._sunburstlayer.selectAll(".trace"),"sunburst")),L&&I.exit().remove()},B.formatSliceLabel=function(x,b,A,g,I){var S=A.texttemplate,O=A.textinfo;if(!(S||O&&"none"!==O))return"";var R=I.separators,N=x.data.data,j=g[0].hierarchy,X=_.isHierarchyRoot(x),F=_.getParent(j,x),Y=_.getValue(x);if(!S){var G,H=O.split("+"),W=function(fe){return-1!==H.indexOf(fe)},Z=[];if(W("label")&&N.label&&Z.push(N.label),N.hasOwnProperty("v")&&W("value")&&Z.push(_.formatValue(N.v,R)),!X){W("current path")&&Z.push(_.getPath(x.data));var se=0;W("percent parent")&&se++,W("percent entry")&&se++,W("percent root")&&se++;var re=se>1;if(se){var ne,Q=function(fe){G=_.formatPercent(ne,R),re&&(G+=" of "+fe),Z.push(G)};W("percent parent")&&!X&&(ne=Y/_.getValue(F),Q("parent")),W("percent entry")&&(ne=Y/_.getValue(b),Q("entry")),W("percent root")&&(ne=Y/_.getValue(j),Q("root"))}}return W("text")&&(G=M.castOption(A,N.i,"text"),M.isValidTextValue(G)&&Z.push(G)),Z.join("<br>")}var ee=M.castOption(A,N.i,"texttemplate");if(!ee)return"";var oe={};N.label&&(oe.label=N.label),N.hasOwnProperty("v")&&(oe.value=N.v,oe.valueLabel=_.formatValue(N.v,R)),oe.currentPath=_.getPath(x.data),X||(oe.percentParent=Y/_.getValue(F),oe.percentParentLabel=_.formatPercent(oe.percentParent,R),oe.parent=_.getPtLabel(F)),oe.percentEntry=Y/_.getValue(b),oe.percentEntryLabel=_.formatPercent(oe.percentEntry,R),oe.entry=_.getPtLabel(b),oe.percentRoot=Y/_.getValue(j),oe.percentRootLabel=_.formatPercent(oe.percentRoot,R),oe.root=_.getPtLabel(j),N.hasOwnProperty("color")&&(oe.color=N.color);var ce=M.castOption(A,N.i,"text");return(M.isValidTextValue(ce)||""===ce)&&(oe.text=ce),oe.customdata=M.castOption(A,N.i,"customdata"),M.texttemplateString(ee,oe,I._d3locale,oe,A._meta||{})}},29969:function(ae,B,r){"use strict";var D=r(39898),E=r(7901),f=r(71828),k=r(72597).resizeText,M=r(43467);function y(c,i,s,a){var l=!i.children,u=i.data.data.i,h=f.castOption(s,u,"marker.line.color")||E.defaultLine,v=f.castOption(s,u,"marker.line.width")||0;c.call(M,i,s,a).style("stroke-width",v).call(E.stroke,h).style("opacity",l?s.leaf.opacity:null)}ae.exports={style:function(c){var i=c._fullLayout._sunburstlayer.selectAll(".trace");k(c,i,"sunburst"),i.each(function(s){var a=D.select(this),o=s[0].trace;a.style("opacity",o.opacity),a.selectAll("path.surface").each(function(l){D.select(this).call(y,l,o,c)})})},styleOne:y}},54532:function(ae,B,r){"use strict";var D=r(7901),E=r(50693),f=r(12663).axisHoverFormat,k=r(5386).fF,M=r(9012),y=r(1426).extendFlat,c=r(30962).overrideAll;function i(a){return{show:{valType:"boolean",dflt:!1},start:{valType:"number",dflt:null,editType:"plot"},end:{valType:"number",dflt:null,editType:"plot"},size:{valType:"number",dflt:null,min:0,editType:"plot"},project:{x:{valType:"boolean",dflt:!1},y:{valType:"boolean",dflt:!1},z:{valType:"boolean",dflt:!1}},color:{valType:"color",dflt:D.defaultLine},usecolormap:{valType:"boolean",dflt:!1},width:{valType:"number",min:1,max:16,dflt:2},highlight:{valType:"boolean",dflt:!0},highlightcolor:{valType:"color",dflt:D.defaultLine},highlightwidth:{valType:"number",min:1,max:16,dflt:2}}}var s=ae.exports=c(y({z:{valType:"data_array"},x:{valType:"data_array"},y:{valType:"data_array"},text:{valType:"string",dflt:"",arrayOk:!0},hovertext:{valType:"string",dflt:"",arrayOk:!0},hovertemplate:k(),xhoverformat:f("x"),yhoverformat:f("y"),zhoverformat:f("z"),connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},surfacecolor:{valType:"data_array"}},E("",{colorAttr:"z or surfacecolor",showScaleDflt:!0,autoColorDflt:!1,editTypeOverride:"calc"}),{contours:{x:i(),y:i(),z:i()},hidesurface:{valType:"boolean",dflt:!1},lightposition:{x:{valType:"number",min:-1e5,max:1e5,dflt:10},y:{valType:"number",min:-1e5,max:1e5,dflt:1e4},z:{valType:"number",min:-1e5,max:1e5,dflt:0}},lighting:{ambient:{valType:"number",min:0,max:1,dflt:.8},diffuse:{valType:"number",min:0,max:1,dflt:.8},specular:{valType:"number",min:0,max:2,dflt:.05},roughness:{valType:"number",min:0,max:1,dflt:.5},fresnel:{valType:"number",min:0,max:5,dflt:.2}},opacity:{valType:"number",min:0,max:1,dflt:1},opacityscale:{valType:"any",editType:"calc"},_deprecated:{zauto:y({},E.zauto,{}),zmin:y({},E.zmin,{}),zmax:y({},E.zmax,{})},hoverinfo:y({},M.hoverinfo),showlegend:y({},M.showlegend,{dflt:!1})}),"calc","nested");s.x.editType=s.y.editType=s.z.editType="calc+clearAxisTypes",s.transforms=void 0},18396:function(ae,B,r){"use strict";var D=r(78803);ae.exports=function(E,f){D(E,f,f.surfacecolor?{vals:f.surfacecolor,containerStr:"",cLetter:"c"}:{vals:f.z,containerStr:"",cLetter:"c"})}},43768:function(ae,B,r){"use strict";var D=r(9330).gl_surface3d,E=r(9330).ndarray,f=r(9330).ndarray_linear_interpolate.d2,k=r(824),M=r(43907),y=r(71828).isArrayOrTypedArray,c=r(81697).parseColorScale,i=r(78614),s=r(21081).extractOpts;function a(A,g,I){this.scene=A,this.uid=I,this.surface=g,this.data=null,this.showContour=[!1,!1,!1],this.contourStart=[null,null,null],this.contourEnd=[null,null,null],this.contourSize=[0,0,0],this.minValues=[1/0,1/0,1/0],this.maxValues=[-1/0,-1/0,-1/0],this.dataScaleX=1,this.dataScaleY=1,this.refineData=!0,this.objectOffset=[0,0,0]}var o=a.prototype;o.getXat=function(A,g,I,S){var O=y(this.data.x)?y(this.data.x[0])?this.data.x[g][A]:this.data.x[A]:A;return void 0===I?O:S.d2l(O,0,I)},o.getYat=function(A,g,I,S){var O=y(this.data.y)?y(this.data.y[0])?this.data.y[g][A]:this.data.y[g]:g;return void 0===I?O:S.d2l(O,0,I)},o.getZat=function(A,g,I,S){var O=this.data.z[g][A];return null===O&&this.data.connectgaps&&this.data._interpolatedZ&&(O=this.data._interpolatedZ[g][A]),void 0===I?O:S.d2l(O,0,I)},o.handlePick=function(A){if(A.object===this.surface){var I=(A.data.index[1]-1)/this.dataScaleY-1,S=Math.max(Math.min(Math.round((A.data.index[0]-1)/this.dataScaleX-1),this.data.z[0].length-1),0),O=Math.max(Math.min(Math.round(I),this.data._ylength-1),0);A.index=[S,O],A.traceCoordinate=[this.getXat(S,O),this.getYat(S,O),this.getZat(S,O)],A.dataCoordinate=[this.getXat(S,O,this.data.xcalendar,this.scene.fullSceneLayout.xaxis),this.getYat(S,O,this.data.ycalendar,this.scene.fullSceneLayout.yaxis),this.getZat(S,O,this.data.zcalendar,this.scene.fullSceneLayout.zaxis)];for(var R=0;R<3;R++)null!=A.dataCoordinate[R]&&(A.dataCoordinate[R]*=this.scene.dataScale[R]);var L=this.data.hovertext||this.data.text;return A.textLabel=Array.isArray(L)&&L[O]&&void 0!==L[O][S]?L[O][S]:L||"",A.data.dataCoordinate=A.dataCoordinate.slice(),this.surface.highlight(A.data),this.scene.glplot.spikes.position=A.dataCoordinate,!0}};var l=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997,1009,1013,1019,1021,1031,1033,1039,1049,1051,1061,1063,1069,1087,1091,1093,1097,1103,1109,1117,1123,1129,1151,1153,1163,1171,1181,1187,1193,1201,1213,1217,1223,1229,1231,1237,1249,1259,1277,1279,1283,1289,1291,1297,1301,1303,1307,1319,1321,1327,1361,1367,1373,1381,1399,1409,1423,1427,1429,1433,1439,1447,1451,1453,1459,1471,1481,1483,1487,1489,1493,1499,1511,1523,1531,1543,1549,1553,1559,1567,1571,1579,1583,1597,1601,1607,1609,1613,1619,1621,1627,1637,1657,1663,1667,1669,1693,1697,1699,1709,1721,1723,1733,1741,1747,1753,1759,1777,1783,1787,1789,1801,1811,1823,1831,1847,1861,1867,1871,1873,1877,1879,1889,1901,1907,1913,1931,1933,1949,1951,1973,1979,1987,1993,1997,1999,2003,2011,2017,2027,2029,2039,2053,2063,2069,2081,2083,2087,2089,2099,2111,2113,2129,2131,2137,2141,2143,2153,2161,2179,2203,2207,2213,2221,2237,2239,2243,2251,2267,2269,2273,2281,2287,2293,2297,2309,2311,2333,2339,2341,2347,2351,2357,2371,2377,2381,2383,2389,2393,2399,2411,2417,2423,2437,2441,2447,2459,2467,2473,2477,2503,2521,2531,2539,2543,2549,2551,2557,2579,2591,2593,2609,2617,2621,2633,2647,2657,2659,2663,2671,2677,2683,2687,2689,2693,2699,2707,2711,2713,2719,2729,2731,2741,2749,2753,2767,2777,2789,2791,2797,2801,2803,2819,2833,2837,2843,2851,2857,2861,2879,2887,2897,2903,2909,2917,2927,2939,2953,2957,2963,2969,2971,2999];function u(A,g){if(A<g)return 0;for(var I=0;0===Math.floor(A%g);)A/=g,I++;return I}function h(A){for(var g=[],I=0;I<l.length;I++)g.push(u(A,l[I]));return g}function v(A){for(var g=h(A),I=A,S=0;S<l.length;S++)if(g[S]>0){I=l[S];break}return I}function p(A,g){if(!(A<1||g<1)){for(var I=h(A),S=h(g),O=1,R=0;R<l.length;R++)O*=Math.pow(l[R],Math.max(I[R],S[R]));return O}}o.calcXnums=function(A){var g,I=[];for(g=1;g<A;g++){var S=this.getXat(g-1,0),O=this.getXat(g,0);I[g-1]=O!==S&&null!=S&&null!=O?Math.abs(O-S):0}var R=0;for(g=1;g<A;g++)R+=I[g-1];for(g=1;g<A;g++)I[g-1]=0===I[g-1]?1:Math.round(R/I[g-1]);return I},o.calcYnums=function(A){var g,I=[];for(g=1;g<A;g++){var S=this.getYat(0,g-1),O=this.getYat(0,g);I[g-1]=O!==S&&null!=S&&null!=O?Math.abs(O-S):0}var R=0;for(g=1;g<A;g++)R+=I[g-1];for(g=1;g<A;g++)I[g-1]=0===I[g-1]?1:Math.round(R/I[g-1]);return I};var T=[1,2,4,6,12,24,36,48,60,120,180,240,360,720,840,1260],_=T[9],m=T[13];function w(A,g,I){var S=I[8]+I[2]*g[0]+I[5]*g[1];return A[0]=(I[6]+I[0]*g[0]+I[3]*g[1])/S,A[1]=(I[7]+I[1]*g[0]+I[4]*g[1])/S,A}function x(A,g,I){return function(S,O,R,L){for(var N=[0,0],j=S.shape[0],X=S.shape[1],F=0;F<j;F++)for(var Y=0;Y<X;Y++)R(N,[F,Y],L),S.set(F,Y,f(O,N[0],N[1]))}(A,g,w,I),A}function b(A,g){for(var I=!1,S=0;S<A.length;S++)if(g===A[S]){I=!0;break}!1===I&&A.push(g)}o.estimateScale=function(A,g){for(var I=1+function(O){if(0!==O.length){for(var R=1,L=0;L<O.length;L++)R=p(R,O[L]);return R}}(0===g?this.calcXnums(A):this.calcYnums(A));I<_;)I*=2;for(;I>m;)I--,I/=v(I),++I<_&&(I=m);var S=Math.round(I/A);return S>1?S:1},o.refineCoords=function(A){for(var g=this.dataScaleX,I=this.dataScaleY,S=A[0].shape[0],O=A[0].shape[1],R=0|Math.floor(A[0].shape[0]*g+1),L=0|Math.floor(A[0].shape[1]*I+1),N=1+S+1,j=1+O+1,X=E(new Float32Array(N*j),[N,j]),F=[1/g,0,0,0,1/I,0,0,0,1],Y=0;Y<A.length;++Y){this.surface.padField(X,A[Y]);var G=E(new Float32Array(R*L),[R,L]);x(G,X,F),A[Y]=G}},o.setContourLevels=function(){var A,g,S=[[],[],[]],O=[!1,!1,!1],R=!1;for(A=0;A<3;++A)if(this.showContour[A]&&(R=!0,this.contourSize[A]>0&&null!==this.contourStart[A]&&null!==this.contourEnd[A]&&this.contourEnd[A]>this.contourStart[A]))for(O[A]=!0,g=this.contourStart[A];g<this.contourEnd[A];g+=this.contourSize[A])b(S[A],g*this.scene.dataScale[A]);if(R){var L=[[],[],[]];for(A=0;A<3;++A)this.showContour[A]&&(L[A]=O[A]?S[A]:this.scene.contourLevels[A]);this.surface.update({levels:L})}},o.update=function(A){var g,I,S,O,R=this.scene,L=R.fullSceneLayout,N=this.surface,j=c(A),X=R.dataScale,F=A.z[0].length,Y=A._ylength,G=R.contourLevels;this.data=A;var H=[];for(g=0;g<3;g++)for(H[g]=[],I=0;I<F;I++)H[g][I]=[];for(I=0;I<F;I++)for(S=0;S<Y;S++)H[0][I][S]=this.getXat(I,S,A.xcalendar,L.xaxis),H[1][I][S]=this.getYat(I,S,A.ycalendar,L.yaxis),H[2][I][S]=this.getZat(I,S,A.zcalendar,L.zaxis);if(A.connectgaps)for(A._emptypoints=M(H[2]),k(H[2],A._emptypoints),A._interpolatedZ=[],I=0;I<F;I++)for(A._interpolatedZ[I]=[],S=0;S<Y;S++)A._interpolatedZ[I][S]=H[2][I][S];for(g=0;g<3;g++)for(I=0;I<F;I++)for(S=0;S<Y;S++)null==(O=H[g][I][S])?H[g][I][S]=NaN:O=H[g][I][S]*=X[g];for(g=0;g<3;g++)for(I=0;I<F;I++)for(S=0;S<Y;S++)null!=(O=H[g][I][S])&&(this.minValues[g]>O&&(this.minValues[g]=O),this.maxValues[g]<O&&(this.maxValues[g]=O));for(g=0;g<3;g++)this.objectOffset[g]=.5*(this.minValues[g]+this.maxValues[g]);for(g=0;g<3;g++)for(I=0;I<F;I++)for(S=0;S<Y;S++)null!=(O=H[g][I][S])&&(H[g][I][S]-=this.objectOffset[g]);var W=[E(new Float32Array(F*Y),[F,Y]),E(new Float32Array(F*Y),[F,Y]),E(new Float32Array(F*Y),[F,Y])];for(g=0;g<3;g++)for(I=0;I<F;I++)for(S=0;S<Y;S++)W[g].set(I,S,H[g][I][S]);H=[];var Z={colormap:j,levels:[[],[],[]],showContour:[!0,!0,!0],showSurface:!A.hidesurface,contourProject:[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],contourWidth:[1,1,1],contourColor:[[1,1,1,1],[1,1,1,1],[1,1,1,1]],contourTint:[1,1,1],dynamicColor:[[1,1,1,1],[1,1,1,1],[1,1,1,1]],dynamicWidth:[1,1,1],dynamicTint:[1,1,1],opacityscale:A.opacityscale,opacity:A.opacity},se=s(A);if(Z.intensityBounds=[se.min,se.max],A.surfacecolor){var re=E(new Float32Array(F*Y),[F,Y]);for(I=0;I<F;I++)for(S=0;S<Y;S++)re.set(I,S,A.surfacecolor[S][I]);W.push(re)}else Z.intensityBounds[0]*=X[2],Z.intensityBounds[1]*=X[2];(m<W[0].shape[0]||m<W[0].shape[1])&&(this.refineData=!1),!0===this.refineData&&(this.dataScaleX=this.estimateScale(W[0].shape[0],0),this.dataScaleY=this.estimateScale(W[0].shape[1],1),1===this.dataScaleX&&1===this.dataScaleY||this.refineCoords(W)),A.surfacecolor&&(Z.intensity=W.pop());var oe,ce,fe,ne=[!0,!0,!0],Q=["x","y","z"];for(g=0;g<3;++g){var ee=A.contours[Q[g]];ne[g]=ee.highlight,Z.showContour[g]=ee.show||ee.highlight,Z.showContour[g]&&(Z.contourProject[g]=[ee.project.x,ee.project.y,ee.project.z],ee.show?(this.showContour[g]=!0,Z.levels[g]=G[g],N.highlightColor[g]=Z.contourColor[g]=i(ee.color),N.highlightTint[g]=Z.contourTint[g]=ee.usecolormap?0:1,Z.contourWidth[g]=ee.width,this.contourStart[g]=ee.start,this.contourEnd[g]=ee.end,this.contourSize[g]=ee.size):(this.showContour[g]=!1,this.contourStart[g]=null,this.contourEnd[g]=null,this.contourSize[g]=0),ee.highlight&&(Z.dynamicColor[g]=i(ee.highlightcolor),Z.dynamicWidth[g]=ee.highlightwidth))}(ce=(oe=j)[0].rgb)[0]===(fe=oe[oe.length-1].rgb)[0]&&ce[1]===fe[1]&&ce[2]===fe[2]&&ce[3]===fe[3]&&(Z.vertexColor=!0),Z.objectOffset=this.objectOffset,Z.coords=W,N.update(Z),N.visible=A.visible,N.enableDynamic=ne,N.enableHighlight=ne,N.snapToData=!0,"lighting"in A&&(N.ambientLight=A.lighting.ambient,N.diffuseLight=A.lighting.diffuse,N.specularLight=A.lighting.specular,N.roughness=A.lighting.roughness,N.fresnel=A.lighting.fresnel),"lightposition"in A&&(N.lightPosition=[A.lightposition.x,A.lightposition.y,A.lightposition.z])},o.dispose=function(){this.scene.glplot.remove(this.surface),this.surface.dispose()},ae.exports=function(A,g){var S=D({gl:A.glplot.gl}),O=new a(A,S,g.uid);return S._trace=O,O.update(g),A.glplot.add(S),O}},91831:function(ae,B,r){"use strict";var D=r(73972),E=r(71828),f=r(1586),k=r(54532);function M(c,i,s,a){var o=a("opacityscale");"max"===o?i.opacityscale=[[0,.1],[1,1]]:"min"===o?i.opacityscale=[[0,1],[1,.1]]:"extremes"===o?i.opacityscale=function(l,u){for(var h=[],v=0;v<32;v++){var p=v/31,T=.1+.9*(1-Math.pow(Math.sin(1*p*Math.PI),2));h.push([p,Math.max(0,Math.min(1,T))])}return h}():function(l){var u=0;if(!Array.isArray(l)||l.length<2||!l[0]||!l[l.length-1]||0!=+l[0][0]||1!=+l[l.length-1][0])return!1;for(var h=0;h<l.length;h++){var v=l[h];if(2!==v.length||+v[0]<u)return!1;u=+v[0]}return!0}(o)||(i.opacityscale=void 0)}function y(c,i,s){i in c&&!(s in c)&&(c[s]=c[i])}ae.exports={supplyDefaults:function(c,i,s,a){var o,l;function u(b,A){return E.coerce(c,i,k,b,A)}var h=u("x"),v=u("y"),p=u("z");if(!p||!p.length||h&&h.length<1||v&&v.length<1)i.visible=!1;else{i._xlength=Array.isArray(h)&&E.isArrayOrTypedArray(h[0])?p.length:p[0].length,i._ylength=p.length,D.getComponentMethod("calendars","handleTraceDefaults")(c,i,["x","y","z"],a),u("text"),u("hovertext"),u("hovertemplate"),u("xhoverformat"),u("yhoverformat"),u("zhoverformat"),["lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lightposition.x","lightposition.y","lightposition.z","hidesurface","connectgaps","opacity"].forEach(function(b){u(b)});var T=u("surfacecolor"),_=["x","y","z"];for(o=0;o<3;++o){var m="contours."+_[o],w=u(m+".show"),x=u(m+".highlight");if(w||x)for(l=0;l<3;++l)u(m+".project."+_[l]);w&&(u(m+".color"),u(m+".width"),u(m+".usecolormap")),x&&(u(m+".highlightcolor"),u(m+".highlightwidth")),u(m+".start"),u(m+".end"),u(m+".size")}T||(y(c,"zmin","cmin"),y(c,"zmax","cmax"),y(c,"zauto","cauto")),f(c,i,a,u,{prefix:"",cLetter:"c"}),M(0,i,0,u),i._length=null}},opacityscaleDefaults:M}},93601:function(ae,B,r){"use strict";ae.exports={attributes:r(54532),supplyDefaults:r(91831).supplyDefaults,colorbar:{min:"cmin",max:"cmax"},calc:r(18396),plot:r(43768),moduleType:"trace",name:"surface",basePlotModule:r(58547),categories:["gl3d","2dMap","showLegend"],meta:{}}},44464:function(ae,B,r){"use strict";var D=r(50215),E=r(1426).extendFlat,f=r(30962).overrideAll,k=r(41940),M=r(27670).Y,y=r(12663).descriptionOnlyNumbers;(ae.exports=f({domain:M({name:"table",trace:!0}),columnwidth:{valType:"number",arrayOk:!0,dflt:null},columnorder:{valType:"data_array"},header:{values:{valType:"data_array",dflt:[]},format:{valType:"data_array",dflt:[],description:y("cell value")},prefix:{valType:"string",arrayOk:!0,dflt:null},suffix:{valType:"string",arrayOk:!0,dflt:null},height:{valType:"number",dflt:28},align:E({},D.align,{arrayOk:!0}),line:{width:{valType:"number",arrayOk:!0,dflt:1},color:{valType:"color",arrayOk:!0,dflt:"grey"}},fill:{color:{valType:"color",arrayOk:!0,dflt:"white"}},font:E({},k({arrayOk:!0}))},cells:{values:{valType:"data_array",dflt:[]},format:{valType:"data_array",dflt:[],description:y("cell value")},prefix:{valType:"string",arrayOk:!0,dflt:null},suffix:{valType:"string",arrayOk:!0,dflt:null},height:{valType:"number",dflt:20},align:E({},D.align,{arrayOk:!0}),line:{width:{valType:"number",arrayOk:!0,dflt:1},color:{valType:"color",arrayOk:!0,dflt:"grey"}},fill:{color:{valType:"color",arrayOk:!0,dflt:"white"}},font:E({},k({arrayOk:!0}))}},"calc","from-root")).transforms=void 0},99469:function(ae,B,r){"use strict";var D=r(27659).a0,E=r(36736),f="table";B.name=f,B.plot=function(k){var M=D(k.calcdata,f)[0];M.length&&E(k,M)},B.clean=function(k,M,y,c){var i=c._has&&c._has(f),s=M._has&&M._has(f);i&&!s&&c._paperdiv.selectAll(".table").remove()}},76333:function(ae,B,r){"use strict";var D=r(28984).wrap;ae.exports=function(){return D({})}},49850:function(ae){"use strict";ae.exports={cellPad:8,columnExtentOffset:10,columnTitleOffset:28,emptyHeaderHeight:16,latexCheck:/^\$.*\$$/,goldenRatio:1.618,lineBreaker:"<br>",maxDimensionCount:60,overdrag:45,releaseTransitionDuration:120,releaseTransitionEase:"cubic-out",scrollbarCaptureWidth:18,scrollbarHideDelay:1e3,scrollbarHideDuration:1e3,scrollbarOffset:5,scrollbarWidth:8,transitionDuration:100,transitionEase:"cubic-out",uplift:5,wrapSpacer:" ",wrapSplitCharacter:" ",cn:{table:"table",tableControlView:"table-control-view",scrollBackground:"scroll-background",yColumn:"y-column",columnBlock:"column-block",scrollAreaClip:"scroll-area-clip",scrollAreaClipRect:"scroll-area-clip-rect",columnBoundary:"column-boundary",columnBoundaryClippath:"column-boundary-clippath",columnBoundaryRect:"column-boundary-rect",columnCells:"column-cells",columnCell:"column-cell",cellRect:"cell-rect",cellText:"cell-text",cellTextHolder:"cell-text-holder",scrollbarKit:"scrollbar-kit",scrollbar:"scrollbar",scrollbarSlider:"scrollbar-slider",scrollbarGlyph:"scrollbar-glyph",scrollbarCaptureZone:"scrollbar-capture-zone"}}},51018:function(ae,B,r){"use strict";var D=r(49850),E=r(1426).extendFlat,f=r(92770);function k(o){if(Array.isArray(o)){for(var l=0,u=0;u<o.length;u++)l=Math.max(l,k(o[u]));return l}return o}function M(o,l){return o+l}function y(o){var l,u=o.slice(),h=1/0,v=0;for(l=0;l<u.length;l++)Array.isArray(u[l])||(u[l]=[u[l]]),h=Math.min(h,u[l].length),v=Math.max(v,u[l].length);if(h!==v)for(l=0;l<u.length;l++){var p=v-u[l].length;p&&(u[l]=u[l].concat(c(p)))}return u}function c(o){for(var l=new Array(o),u=0;u<o;u++)l[u]="";return l}function i(o){return o.calcdata.columns.reduce(function(l,u){return u.xIndex<o.xIndex?l+u.columnWidth:l},0)}function s(o,l){return Object.keys(o).map(function(u){return E({},o[u],{auxiliaryBlocks:l})})}function a(o,l){for(var u,h={},v=0,p=0,T={firstRowIndex:null,lastRowIndex:null,rows:[]},_=0,m=0,w=0;w<o.length;w++)T.rows.push({rowIndex:w,rowHeight:u=o[w]}),((p+=u)>=l||w===o.length-1)&&(h[v]=T,T.key=m++,T.firstRowIndex=_,T.lastRowIndex=w,T={firstRowIndex:null,lastRowIndex:null,rows:[]},v+=p,_=w+1,p=0);return h}ae.exports=function(o,l){var u=y(l.cells.values),h=function(X){return X.slice(l.header.values.length,X.length)},v=y(l.header.values);v.length&&!v[0].length&&(v[0]=[""],v=y(v));var p=v.concat(h(u).map(function(){return c((v[0]||[""]).length)})),T=l.domain,_=Math.floor(o._fullLayout._size.w*(T.x[1]-T.x[0])),m=Math.floor(o._fullLayout._size.h*(T.y[1]-T.y[0])),w=l.header.values.length?p[0].map(function(){return l.header.height}):[D.emptyHeaderHeight],x=u.length?u[0].map(function(){return l.cells.height}):[],b=w.reduce(M,0),A=a(x,m-b+D.uplift),g=s(a(w,b),[]),I=s(A,g),S={},O=l._fullInput.columnorder.concat(h(u.map(function(X,F){return F}))),R=p.map(function(X,F){var Y=Array.isArray(l.columnwidth)?l.columnwidth[Math.min(F,l.columnwidth.length-1)]:l.columnwidth;return f(Y)?Number(Y):1}),L=R.reduce(M,0);R=R.map(function(X){return X/L*_});var N=Math.max(k(l.header.line.width),k(l.cells.line.width)),j={key:l.uid+o._context.staticPlot,translateX:T.x[0]*o._fullLayout._size.w,translateY:o._fullLayout._size.h*(1-T.y[1]),size:o._fullLayout._size,width:_,maxLineWidth:N,height:m,columnOrder:O,groupHeight:m,rowBlocks:I,headerRowBlocks:g,scrollY:0,cells:E({},l.cells,{values:u}),headerCells:E({},l.header,{values:p}),gdColumns:p.map(function(X){return X[0]}),gdColumnsOriginalOrder:p.map(function(X){return X[0]}),prevPages:[0,0],scrollbarState:{scrollbarScrollInProgress:!1},columns:p.map(function(X,F){return S[X]=(S[X]||0)+1,{key:X+"__"+S[X],label:X,specIndex:F,xIndex:O[F],xScale:i,x:void 0,calcdata:void 0,columnWidth:R[F]}})};return j.columns.forEach(function(X){X.calcdata=j,X.x=i(X)}),j}},56269:function(ae,B,r){"use strict";var D=r(1426).extendFlat;B.splitToPanels=function(E){var f=[0,0],k=D({},E,{key:"header",type:"header",page:0,prevPages:f,currentRepaint:[null,null],dragHandle:!0,values:E.calcdata.headerCells.values[E.specIndex],rowBlocks:E.calcdata.headerRowBlocks,calcdata:D({},E.calcdata,{cells:E.calcdata.headerCells})});return[D({},E,{key:"cells1",type:"cells",page:0,prevPages:f,currentRepaint:[null,null],dragHandle:!1,values:E.calcdata.cells.values[E.specIndex],rowBlocks:E.calcdata.rowBlocks}),D({},E,{key:"cells2",type:"cells",page:1,prevPages:f,currentRepaint:[null,null],dragHandle:!1,values:E.calcdata.cells.values[E.specIndex],rowBlocks:E.calcdata.rowBlocks}),k]},B.splitToCells=function(E){var k,M,y,f=[y=(M=(k=E).rowBlocks[k.page])?M.rows[0].rowIndex:0,M?y+M.rows.length:0];return(E.values||[]).slice(f[0],f[1]).map(function(k,M){return{keyWithinBlock:M+("string"==typeof k&&k.match(/[<$&> ]/)?"_keybuster_"+Math.random():""),key:f[0]+M,column:E,calcdata:E.calcdata,page:E.page,rowBlocks:E.rowBlocks,value:k}})}},39754:function(ae,B,r){"use strict";var D=r(71828),E=r(44464),f=r(27670).c;ae.exports=function(k,M,y,c){function i(s,a){return D.coerce(k,M,E,s,a)}f(M,c,i),i("columnwidth"),i("header.values"),i("header.format"),i("header.align"),i("header.prefix"),i("header.suffix"),i("header.height"),i("header.line.width"),i("header.line.color"),i("header.fill.color"),D.coerceFont(i,"header.font",D.extendFlat({},c.font)),function(s,a){for(var l=s.header.values.length,u=(s.columnorder||[]).slice(0,l),h=u.slice().sort(function(T,_){return T-_}),v=u.map(function(T){return h.indexOf(T)}),p=v.length;p<l;p++)v.push(p);a("columnorder",v)}(M,i),i("cells.values"),i("cells.format"),i("cells.align"),i("cells.prefix"),i("cells.suffix"),i("cells.height"),i("cells.line.width"),i("cells.line.color"),i("cells.fill.color"),D.coerceFont(i,"cells.font",D.extendFlat({},c.font)),M._length=null}},96595:function(ae,B,r){"use strict";ae.exports={attributes:r(44464),supplyDefaults:r(39754),calc:r(76333),plot:r(36736),moduleType:"trace",name:"table",basePlotModule:r(99469),categories:["noOpacity"],meta:{}}},36736:function(ae,B,r){"use strict";var D=r(49850),E=r(39898),f=r(71828).numberFormat,k=r(28984),M=r(91424),y=r(63893),c=r(71828).raiseToTop,i=r(71828).strTranslate,s=r(71828).cancelTransition,a=r(51018),o=r(56269),l=r(7901);function u(W){return Math.ceil(W.calcdata.maxLineWidth/2)}function h(W,Z){return"clip"+W._fullLayout._uid+"_scrollAreaBottomClip_"+Z.key}function v(W,Z){return"clip"+W._fullLayout._uid+"_columnBoundaryClippath_"+Z.calcdata.key+"_"+Z.specIndex}function p(W){return[].concat.apply([],W.map(function(Z){return Z})).map(function(Z){return Z.__data__})}function T(W,Z,se){var re=W.selectAll("."+D.cn.scrollbarKit).data(k.repeat,k.keyFun);re.enter().append("g").classed(D.cn.scrollbarKit,!0).style("shape-rendering","geometricPrecision"),re.each(function(ce){var pe,fe=ce.scrollbarState;fe.totalHeight=F(pe=ce.rowBlocks,pe.length-1)+(pe.length?Y(pe[pe.length-1],1/0):1),fe.scrollableAreaHeight=ce.groupHeight-I(ce),fe.currentlyVisibleHeight=Math.min(fe.totalHeight,fe.scrollableAreaHeight),fe.ratio=fe.currentlyVisibleHeight/fe.totalHeight,fe.barLength=Math.max(fe.ratio*fe.currentlyVisibleHeight,D.goldenRatio*D.scrollbarWidth),fe.barWiggleRoom=fe.currentlyVisibleHeight-fe.barLength,fe.wiggleRoom=Math.max(0,fe.totalHeight-fe.scrollableAreaHeight),fe.topY=0===fe.barWiggleRoom?0:ce.scrollY/fe.wiggleRoom*fe.barWiggleRoom,fe.bottomY=fe.topY+fe.barLength,fe.dragMultiplier=fe.wiggleRoom/fe.barWiggleRoom}).attr("transform",function(ce){return i(ce.width+D.scrollbarWidth/2+D.scrollbarOffset,I(ce))});var ne=re.selectAll("."+D.cn.scrollbar).data(k.repeat,k.keyFun);ne.enter().append("g").classed(D.cn.scrollbar,!0);var Q=ne.selectAll("."+D.cn.scrollbarSlider).data(k.repeat,k.keyFun);Q.enter().append("g").classed(D.cn.scrollbarSlider,!0),Q.attr("transform",function(ce){return i(0,ce.scrollbarState.topY||0)});var ee=Q.selectAll("."+D.cn.scrollbarGlyph).data(k.repeat,k.keyFun);ee.enter().append("line").classed(D.cn.scrollbarGlyph,!0).attr("stroke","black").attr("stroke-width",D.scrollbarWidth).attr("stroke-linecap","round").attr("y1",D.scrollbarWidth/2),ee.attr("y2",function(ce){return ce.scrollbarState.barLength-D.scrollbarWidth/2}).attr("stroke-opacity",function(ce){return ce.columnDragInProgress||!ce.scrollbarState.barWiggleRoom||se?0:.4}),ee.transition().delay(0).duration(0),ee.transition().delay(D.scrollbarHideDelay).duration(D.scrollbarHideDuration).attr("stroke-opacity",0);var oe=ne.selectAll("."+D.cn.scrollbarCaptureZone).data(k.repeat,k.keyFun);oe.enter().append("line").classed(D.cn.scrollbarCaptureZone,!0).attr("stroke","white").attr("stroke-opacity",.01).attr("stroke-width",D.scrollbarCaptureWidth).attr("stroke-linecap","butt").attr("y1",0).on("mousedown",function(ce){var fe=E.event.y,le=this.getBoundingClientRect(),pe=ce.scrollbarState,Me=fe-le.top,Ae=E.scale.linear().domain([0,pe.scrollableAreaHeight]).range([0,pe.totalHeight]).clamp(!0);pe.topY<=Me&&Me<=pe.bottomY||O(Z,W,null,Ae(Me-pe.barLength/2))(ce)}).call(E.behavior.drag().origin(function(ce){return E.event.stopPropagation(),ce.scrollbarState.scrollbarScrollInProgress=!0,ce}).on("drag",O(Z,W)).on("dragend",function(){})),oe.attr("y2",function(ce){return ce.scrollbarState.scrollableAreaHeight}),Z._context.staticPlot&&(ee.remove(),oe.remove())}function _(W,Z,se,re){var le,Q=function(fe){var le=fe.selectAll("."+D.cn.columnCell).data(o.splitToCells,function(pe){return pe.keyWithinBlock});return le.enter().append("g").classed(D.cn.columnCell,!0),le.exit().remove(),le}(((le=se.selectAll("."+D.cn.columnCells).data(k.repeat,k.keyFun)).enter().append("g").classed(D.cn.columnCells,!0),le.exit().remove(),le));Q.each(function(le,pe){var Me=le.calcdata.cells.font,Ae=le.column.specIndex,be={size:x(Me.size,Ae,pe),color:x(Me.color,Ae,pe),family:x(Me.family,Ae,pe)};le.rowNumber=le.key,le.align=x(le.calcdata.cells.align,Ae,pe),le.cellBorderWidth=x(le.calcdata.cells.line.width,Ae,pe),le.font=be});var ee=function(fe){var le=fe.selectAll("."+D.cn.cellRect).data(k.repeat,function(pe){return pe.keyWithinBlock});return le.enter().append("rect").classed(D.cn.cellRect,!0),le}(Q);!function(fe){fe.attr("width",function(le){return le.column.columnWidth}).attr("stroke-width",function(le){return le.cellBorderWidth}).each(function(le){var pe=E.select(this);l.stroke(pe,x(le.calcdata.cells.line.color,le.column.specIndex,le.rowNumber)),l.fill(pe,x(le.calcdata.cells.fill.color,le.column.specIndex,le.rowNumber))})}(ee);var oe=function(fe){var le=fe.selectAll("."+D.cn.cellTextHolder).data(k.repeat,function(pe){return pe.keyWithinBlock});return le.enter().append("g").classed(D.cn.cellTextHolder,!0).style("shape-rendering","geometricPrecision"),le}(Q),ce=function(fe){var le=fe.selectAll("."+D.cn.cellText).data(k.repeat,function(pe){return pe.keyWithinBlock});return le.enter().append("text").classed(D.cn.cellText,!0).style("cursor",function(){return"auto"}).on("mousedown",function(){E.event.stopPropagation()}),le}(oe);(function(fe){fe.each(function(le){M.font(E.select(this),le.font)})})(ce),m(ce,Z,re,W),X(Q)}function m(W,Z,se,re){W.text(function(ne){var Q=ne.column.specIndex,ee=ne.rowNumber,oe=ne.value,ce="string"==typeof oe,fe=ce&&oe.match(/<br>/i),le=!ce||fe;ne.mayHaveMarkup=ce&&oe.match(/[<&>]/);var pe,Me="string"==typeof(pe=oe)&&pe.match(D.latexCheck);ne.latex=Me;var Ae,be,ye=Me?"":x(ne.calcdata.cells.prefix,Q,ee)||"",we=Me?"":x(ne.calcdata.cells.suffix,Q,ee)||"",ze=Me?null:x(ne.calcdata.cells.format,Q,ee)||null,Se=ye+(ze?f(ze)(ne.value):ne.value)+we;if(ne.wrappingNeeded=!ne.wrapped&&!le&&!Me&&(Ae=w(Se)),ne.cellHeightMayIncrease=fe||Me||ne.mayHaveMarkup||(void 0===Ae?w(Se):Ae),ne.needsConvertToTspans=ne.mayHaveMarkup||ne.wrappingNeeded||ne.latex,ne.wrappingNeeded){var Ce=(" "===D.wrapSplitCharacter?Se.replace(/<a href=/gi,"<a_href="):Se).split(D.wrapSplitCharacter),ge=" "===D.wrapSplitCharacter?Ce.map(function(he){return he.replace(/<a_href=/gi,"<a href=")}):Ce;ne.fragments=ge.map(function(he){return{text:he,width:null}}),ne.fragments.push({fragment:D.wrapSpacer,width:null}),be=ge.join(D.lineBreaker)+D.lineBreaker+D.wrapSpacer}else delete ne.fragments,be=Se;return be}).attr("dy",function(ne){return ne.needsConvertToTspans?0:"0.75em"}).each(function(ne){var Q=this,ee=E.select(Q);ne.needsConvertToTspans?y.convertToTspans(ee,re,(ne.wrappingNeeded?L:N)(se,Q,Z,re,ne)):E.select(Q.parentNode).attr("transform",function(ce){return i(j(ce),D.cellPad)}).attr("text-anchor",function(ce){return{left:"start",center:"middle",right:"end"}[ce.align]})})}function w(W){return-1!==W.indexOf(D.wrapSplitCharacter)}function x(W,Z,se){if(Array.isArray(W)){var re=W[Math.min(Z,W.length-1)];return Array.isArray(re)?re[Math.min(se,re.length-1)]:re}return W}function b(W,Z,se){W.transition().ease(D.releaseTransitionEase).duration(D.releaseTransitionDuration).attr("transform",i(Z.x,se))}function A(W){return"cells"===W.type}function g(W){return"header"===W.type}function I(W){return(W.rowBlocks.length?W.rowBlocks[0].auxiliaryBlocks:[]).reduce(function(Z,se){return Z+Y(se,1/0)},0)}function S(W,Z,se){var re=p(Z)[0];if(void 0!==re){var ne=re.rowBlocks,Q=re.calcdata,ee=F(ne,ne.length),oe=re.calcdata.groupHeight-I(re),ce=Q.scrollY=Math.max(0,Math.min(ee-oe,Q.scrollY)),fe=function(le,pe,Me){for(var Ae=[],be=0,ye=0;ye<le.length;ye++){for(var we=le[ye],ze=we.rows,Se=0,Ce=0;Ce<ze.length;Ce++)Se+=ze[Ce].rowHeight;we.allRowsHeight=Se,pe<be+Se&&pe+Me>be&&Ae.push(ye),be+=Se}return Ae}(ne,ce,oe);1===fe.length&&(fe[0]===ne.length-1?fe.unshift(fe[0]-1):fe.push(fe[0]+1)),fe[0]%2&&fe.reverse(),Z.each(function(le,pe){le.page=fe[pe],le.scrollY=ce}),Z.attr("transform",function(le){var pe=F(le.rowBlocks,le.page)-le.scrollY;return i(0,pe)}),W&&(R(W,se,Z,fe,re.prevPages,re,0),R(W,se,Z,fe,re.prevPages,re,1),T(se,W))}}function O(W,Z,se,re){return function(ne){var Q=ne.calcdata?ne.calcdata:ne,ee=Z.filter(function(le){return Q.key===le.key}),ce=Q.scrollY;Q.scrollY=void 0===re?Q.scrollY+(se||Q.scrollbarState.dragMultiplier)*E.event.dy:re;var fe=ee.selectAll("."+D.cn.yColumn).selectAll("."+D.cn.columnBlock).filter(A);return S(W,fe,ee),Q.scrollY===ce}}function R(W,Z,se,re,ne,Q,ee){re[ee]!==ne[ee]&&(clearTimeout(Q.currentRepaint[ee]),Q.currentRepaint[ee]=setTimeout(function(){var oe=se.filter(function(ce,fe){return fe===ee&&re[fe]!==ne[fe]});_(W,Z,oe,se),ne[ee]=re[ee]}))}function L(W,Z,se,re){return function(){var ne=E.select(Z.parentNode);ne.each(function(Q){var ee=Q.fragments;ne.selectAll("tspan.line").each(function(be,ye){ee[ye].width=this.getComputedTextLength()});var oe,ce,fe=ee[ee.length-1].width,le=ee.slice(0,-1),pe=[],Me=0,Ae=Q.column.columnWidth-2*D.cellPad;for(Q.value="";le.length;)Me+(ce=(oe=le.shift()).width+fe)>Ae&&(Q.value+=pe.join(D.wrapSpacer)+D.lineBreaker,pe=[],Me=0),pe.push(oe.text),Me+=ce;Me&&(Q.value+=pe.join(D.wrapSpacer)),Q.wrapped=!0}),ne.selectAll("tspan.line").remove(),m(ne.select("."+D.cn.cellText),se,W,re),E.select(Z.parentNode.parentNode).call(X)}}function N(W,Z,se,re,ne){return function(){if(!ne.settledY){var Q=E.select(Z.parentNode),ee=H(ne),oe=ne.key-ee.firstRowIndex,ce=ee.rows[oe].rowHeight,fe=ne.cellHeightMayIncrease?Z.parentNode.getBoundingClientRect().height+2*D.cellPad:ce,le=Math.max(fe,ce);le-ee.rows[oe].rowHeight&&(ee.rows[oe].rowHeight=le,W.selectAll("."+D.cn.columnCell).call(X),S(null,W.filter(A),0),T(se,re,!0)),Q.attr("transform",function(){var Me=this.parentNode.getBoundingClientRect(),Ae=E.select(this.parentNode).select("."+D.cn.cellRect).node().getBoundingClientRect(),be=this.transform.baseVal.consolidate(),ye=Ae.top-Me.top+(be?be.matrix.f:D.cellPad);return i(j(ne,E.select(this.parentNode).select("."+D.cn.cellTextHolder).node().getBoundingClientRect().width),ye)}),ne.settledY=!0}}}function j(W,Z){switch(W.align){case"left":default:return D.cellPad;case"right":return W.column.columnWidth-(Z||0)-D.cellPad;case"center":return(W.column.columnWidth-(Z||0))/2}}function X(W){W.attr("transform",function(Z){var se=Z.rowBlocks[0].auxiliaryBlocks.reduce(function(ne,Q){return ne+Y(Q,1/0)},0),re=Y(H(Z),Z.key);return i(0,re+se)}).selectAll("."+D.cn.cellRect).attr("height",function(Z){return(se=H(Z),re=Z.key,se.rows[re-se.firstRowIndex]).rowHeight;var se,re})}function F(W,Z){for(var se=0,re=Z-1;re>=0;re--)se+=G(W[re]);return se}function Y(W,Z){for(var se=0,re=0;re<W.rows.length&&W.rows[re].rowIndex<Z;re++)se+=W.rows[re].rowHeight;return se}function G(W){var Z=W.allRowsHeight;if(void 0!==Z)return Z;for(var se=0,re=0;re<W.rows.length;re++)se+=W.rows[re].rowHeight;return W.allRowsHeight=se,se}function H(W){return W.rowBlocks[W.page]}ae.exports=function(W,Z){var se=!W._context.staticPlot,re=W._fullLayout._paper.selectAll("."+D.cn.table).data(Z.map(function(we){var ze=k.unwrap(we).trace;return a(W,ze)}),k.keyFun);re.exit().remove(),re.enter().append("g").classed(D.cn.table,!0).attr("overflow","visible").style("box-sizing","content-box").style("position","absolute").style("left",0).style("overflow","visible").style("shape-rendering","crispEdges").style("pointer-events","all"),re.attr("width",function(we){return we.width+we.size.l+we.size.r}).attr("height",function(we){return we.height+we.size.t+we.size.b}).attr("transform",function(we){return i(we.translateX,we.translateY)});var ne=re.selectAll("."+D.cn.tableControlView).data(k.repeat,k.keyFun),Q=ne.enter().append("g").classed(D.cn.tableControlView,!0).style("box-sizing","content-box");if(se){var ee="onwheel"in document?"wheel":"mousewheel";Q.on("mousemove",function(we){ne.filter(function(ze){return we===ze}).call(T,W)}).on(ee,function(we){we.scrollbarState.wheeling||(we.scrollbarState.wheeling=!0,O(W,ne,null,we.scrollY+E.event.deltaY)(we)||(E.event.stopPropagation(),E.event.preventDefault()),we.scrollbarState.wheeling=!1)}).call(T,W,!0)}ne.attr("transform",function(we){return i(we.size.l,we.size.t)});var oe=ne.selectAll("."+D.cn.scrollBackground).data(k.repeat,k.keyFun);oe.enter().append("rect").classed(D.cn.scrollBackground,!0).attr("fill","none"),oe.attr("width",function(we){return we.width}).attr("height",function(we){return we.height}),ne.each(function(we){M.setClipUrl(E.select(this),h(W,we),W)});var ce=ne.selectAll("."+D.cn.yColumn).data(function(we){return we.columns},k.keyFun);ce.enter().append("g").classed(D.cn.yColumn,!0),ce.exit().remove(),ce.attr("transform",function(we){return i(we.x,0)}),se&&ce.call(E.behavior.drag().origin(function(we){return b(E.select(this),we,-D.uplift),c(this),we.calcdata.columnDragInProgress=!0,T(ne.filter(function(ze){return we.calcdata.key===ze.key}),W),we}).on("drag",function(we){var ze=E.select(this),Se=function(Ce){return(we===Ce?E.event.x:Ce.x)+Ce.columnWidth/2};we.x=Math.max(-D.overdrag,Math.min(we.calcdata.width+D.overdrag-we.columnWidth,E.event.x)),p(ce).filter(function(Ce){return Ce.calcdata.key===we.calcdata.key}).sort(function(Ce,ge){return Se(Ce)-Se(ge)}).forEach(function(Ce,ge){Ce.xIndex=ge,Ce.x=we===Ce?Ce.x:Ce.xScale(Ce)}),ce.filter(function(Ce){return we!==Ce}).transition().ease(D.transitionEase).duration(D.transitionDuration).attr("transform",function(Ce){return i(Ce.x,0)}),ze.call(s).attr("transform",i(we.x,-D.uplift))}).on("dragend",function(we){var Ce,ge,he,_e,ze=E.select(this),Se=we.calcdata;we.x=we.xScale(we),we.calcdata.columnDragInProgress=!1,b(ze,we,0),Ce=W,ge=Se,he=Se.columns.map(function(Ce){return Ce.xIndex}),_e=ge.gdColumnsOriginalOrder,ge.gdColumns.sort(function(Le,Ie){return he[_e.indexOf(Le)]-he[_e.indexOf(Ie)]}),ge.columnorder=he,Ce.emit("plotly_restyle")})),ce.each(function(we){M.setClipUrl(E.select(this),v(W,we),W)});var fe=ce.selectAll("."+D.cn.columnBlock).data(o.splitToPanels,k.keyFun);fe.enter().append("g").classed(D.cn.columnBlock,!0).attr("id",function(we){return we.key}),fe.style("cursor",function(we){return we.dragHandle?"ew-resize":we.calcdata.scrollbarState.barWiggleRoom?"ns-resize":"default"});var le=fe.filter(g),pe=fe.filter(A);se&&pe.call(E.behavior.drag().origin(function(we){return E.event.stopPropagation(),we}).on("drag",O(W,ne,-1)).on("dragend",function(){})),_(W,ne,le,fe),_(W,ne,pe,fe);var Me=ne.selectAll("."+D.cn.scrollAreaClip).data(k.repeat,k.keyFun);Me.enter().append("clipPath").classed(D.cn.scrollAreaClip,!0).attr("id",function(we){return h(W,we)});var Ae=Me.selectAll("."+D.cn.scrollAreaClipRect).data(k.repeat,k.keyFun);Ae.enter().append("rect").classed(D.cn.scrollAreaClipRect,!0).attr("x",-D.overdrag).attr("y",-D.uplift).attr("fill","none"),Ae.attr("width",function(we){return we.width+2*D.overdrag}).attr("height",function(we){return we.height+D.uplift}),ce.selectAll("."+D.cn.columnBoundary).data(k.repeat,k.keyFun).enter().append("g").classed(D.cn.columnBoundary,!0);var be=ce.selectAll("."+D.cn.columnBoundaryClippath).data(k.repeat,k.keyFun);be.enter().append("clipPath").classed(D.cn.columnBoundaryClippath,!0),be.attr("id",function(we){return v(W,we)});var ye=be.selectAll("."+D.cn.columnBoundaryRect).data(k.repeat,k.keyFun);ye.enter().append("rect").classed(D.cn.columnBoundaryRect,!0).attr("fill","none"),ye.attr("width",function(we){return we.columnWidth+2*u(we)}).attr("height",function(we){return we.calcdata.height+2*u(we)+D.uplift}).attr("x",function(we){return-u(we)}).attr("y",function(we){return-u(we)}),S(null,pe,ne)}},45802:function(ae,B,r){"use strict";var D=r(5386).fF,E=r(5386).si,f=r(50693),k=r(27670).Y,M=r(34e3),y=r(57564),c=r(43473),i=r(1426).extendFlat,s=r(79952).u;ae.exports={labels:y.labels,parents:y.parents,values:y.values,branchvalues:y.branchvalues,count:y.count,level:y.level,maxdepth:y.maxdepth,tiling:{packing:{valType:"enumerated",values:["squarify","binary","dice","slice","slice-dice","dice-slice"],dflt:"squarify",editType:"plot"},squarifyratio:{valType:"number",min:1,dflt:1,editType:"plot"},flip:{valType:"flaglist",flags:["x","y"],dflt:"",editType:"plot"},pad:{valType:"number",min:0,dflt:3,editType:"plot"},editType:"calc"},marker:i({pad:{t:{valType:"number",min:0,editType:"plot"},l:{valType:"number",min:0,editType:"plot"},r:{valType:"number",min:0,editType:"plot"},b:{valType:"number",min:0,editType:"plot"},editType:"calc"},colors:y.marker.colors,pattern:s,depthfade:{valType:"enumerated",values:[!0,!1,"reversed"],editType:"style"},line:y.marker.line,cornerradius:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},f("marker",{colorAttr:"colors",anim:!1})),pathbar:{visible:{valType:"boolean",dflt:!0,editType:"plot"},side:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},edgeshape:{valType:"enumerated",values:[">","<","|","/","\\"],dflt:">",editType:"plot"},thickness:{valType:"number",min:12,editType:"plot"},textfont:i({},M.textfont,{}),editType:"calc"},text:M.text,textinfo:y.textinfo,texttemplate:E({editType:"plot"},{keys:c.eventDataKeys.concat(["label","value"])}),hovertext:M.hovertext,hoverinfo:y.hoverinfo,hovertemplate:D({},{keys:c.eventDataKeys}),textfont:M.textfont,insidetextfont:M.insidetextfont,outsidetextfont:i({},M.outsidetextfont,{}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"top left",editType:"plot"},sort:M.sort,root:y.root,domain:k({name:"treemap",trace:!0,editType:"calc"})}},78018:function(ae,B,r){"use strict";var D=r(74875);B.name="treemap",B.plot=function(E,f,k,M){D.plotBasePlot(B.name,E,f,k,M)},B.clean=function(E,f,k,M){D.cleanBasePlot(B.name,E,f,k,M)}},65039:function(ae,B,r){"use strict";var D=r(52147);B.y=function(E,f){return D.calc(E,f)},B.T=function(E){return D._runCrossTraceCalc("treemap",E)}},43473:function(ae){"use strict";ae.exports={CLICK_TRANSITION_TIME:750,CLICK_TRANSITION_EASING:"poly",eventDataKeys:["currentPath","root","entry","percentRoot","percentEntry","percentParent"],gapWithPathbar:1}},91174:function(ae,B,r){"use strict";var D=r(71828),E=r(45802),f=r(7901),k=r(27670).c,M=r(90769).handleText,y=r(97313).TEXTPAD,c=r(37434).handleMarkerDefaults,i=r(21081),s=i.hasColorscale,a=i.handleDefaults;ae.exports=function(o,l,u,h){function v(A,g){return D.coerce(o,l,E,A,g)}var p=v("labels"),T=v("parents");if(p&&p.length&&T&&T.length){var _=v("values");v(_&&_.length?"branchvalues":"count"),v("level"),v("maxdepth"),"squarify"===v("tiling.packing")&&v("tiling.squarifyratio"),v("tiling.flip"),v("tiling.pad");var m=v("text");v("texttemplate"),l.texttemplate||v("textinfo",Array.isArray(m)?"text+label":"label"),v("hovertext"),v("hovertemplate");var w=v("pathbar.visible");M(o,l,h,v,"auto",{hasPathbar:w,moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),v("textposition");var x=-1!==l.textposition.indexOf("bottom");c(o,l,h,v),(l._hasColorscale=s(o,"marker","colors")||(o.marker||{}).coloraxis)?a(o,l,h,v,{prefix:"marker.",cLetter:"c"}):v("marker.depthfade",!(l.marker.colors||[]).length);var b=2*l.textfont.size;v("marker.pad.t",x?b/4:b),v("marker.pad.l",b/4),v("marker.pad.r",b/4),v("marker.pad.b",x?b:b/4),v("marker.cornerradius"),l._hovered={marker:{line:{width:2,color:f.contrast(h.paper_bgcolor)}}},w&&(v("pathbar.thickness",l.pathbar.textfont.size+2*y),v("pathbar.side"),v("pathbar.edgeshape")),v("sort"),v("root.color"),k(l,h,v),l._length=null}else l.visible=!1}},80694:function(ae,B,r){"use strict";var D=r(39898),E=r(2791),f=r(72597).clearMinTextSize,k=r(16688).resizeText,M=r(46650);ae.exports=function(y,c,i,s,a){var o,l,u=a.type,h=a.drawDescendants,v=y._fullLayout,p=v["_"+u+"layer"],T=!i;f(u,v),(o=p.selectAll("g.trace."+u).data(c,function(_){return _[0].trace.uid})).enter().append("g").classed("trace",!0).classed(u,!0),o.order(),!v.uniformtext.mode&&E.hasTransition(i)?(s&&(l=s()),D.transition().duration(i.duration).ease(i.easing).each("end",function(){l&&l()}).each("interrupt",function(){l&&l()}).each(function(){p.selectAll("g.trace").each(function(_){M(y,_,this,i,h)})})):(o.each(function(_){M(y,_,this,i,h)}),v.uniformtext.mode&&k(y,p.selectAll(".trace"),u)),T&&o.exit().remove()}},66209:function(ae,B,r){"use strict";var D=r(39898),E=r(71828),f=r(91424),k=r(63893),M=r(37210),y=r(96362).styleOne,c=r(43473),i=r(2791),s=r(83523),a=!0;ae.exports=function(o,l,u,h,v){var p=v.barDifY,T=v.width,_=v.height,m=v.viewX,w=v.viewY,x=v.pathSlice,b=v.toMoveInsideSlice,A=v.strTransform,g=v.hasTransition,I=v.handleSlicesExit,S=v.makeUpdateSliceInterpolator,O=v.makeUpdateTextInterpolator,R={},L=o._context.staticPlot,N=o._fullLayout,j=l[0],X=j.trace,F=j.hierarchy,Y=T/X._entryDepth,G=i.listPath(u.data,"id"),H=M(F.copy(),[T,_],{packing:"dice",pad:{inner:0,top:0,left:0,right:0,bottom:0}}).descendants();(H=H.filter(function(Z){var se=G.indexOf(Z.data.id);return-1!==se&&(Z.x0=Y*se,Z.x1=Y*(se+1),Z.y0=p,Z.y1=p+_,Z.onPathbar=!0,!0)})).reverse(),(h=h.data(H,i.getPtId)).enter().append("g").classed("pathbar",!0),I(h,a,R,[T,_],x),h.order();var W=h;g&&(W=W.transition().each("end",function(){var Z=D.select(this);i.setSliceCursor(Z,o,{hideOnRoot:!1,hideOnLeaves:!1,isTransitioning:!1})})),W.each(function(Z){Z._x0=m(Z.x0),Z._x1=m(Z.x1),Z._y0=w(Z.y0),Z._y1=w(Z.y1),Z._hoverX=m(Z.x1-Math.min(T,_)/2),Z._hoverY=w(Z.y1-_/2);var se=D.select(this),re=E.ensureSingle(se,"path","surface",function(oe){oe.style("pointer-events",L?"none":"all")});g?re.transition().attrTween("d",function(oe){var ce=S(oe,a,R,[T,_]);return function(fe){return x(ce(fe))}}):re.attr("d",x),se.call(s,u,o,l,{styleOne:y,eventDataKeys:c.eventDataKeys,transitionTime:c.CLICK_TRANSITION_TIME,transitionEasing:c.CLICK_TRANSITION_EASING}).call(i.setSliceCursor,o,{hideOnRoot:!1,hideOnLeaves:!1,isTransitioning:o._transitioning}),re.call(y,Z,X,o,{hovered:!1}),Z._text=(i.getPtLabel(Z)||"").split("<br>").join(" ")||"";var ne=E.ensureSingle(se,"g","slicetext"),Q=E.ensureSingle(ne,"text","",function(oe){oe.attr("data-notex",1)}),ee=E.ensureUniformFontSize(o,i.determineTextFont(X,Z,N.font,{onPathbar:!0}));Q.text(Z._text||" ").classed("slicetext",!0).attr("text-anchor","start").call(f.font,ee).call(k.convertToTspans,o),Z.textBB=f.bBox(Q.node()),Z.transform=b(Z,{fontSize:ee.size,onPathbar:!0}),Z.transform.fontSize=ee.size,g?Q.transition().attrTween("transform",function(oe){var ce=O(oe,a,R,[T,_]);return function(fe){return A(ce(fe))}}):Q.attr("transform",A(Z))})}},52583:function(ae,B,r){"use strict";var D=r(39898),E=r(71828),f=r(91424),k=r(63893),M=r(37210),y=r(96362).styleOne,c=r(43473),i=r(2791),s=r(83523),a=r(24714).formatSliceLabel,o=!1;ae.exports=function(l,u,h,v,p){var T=p.width,_=p.height,m=p.viewX,w=p.viewY,x=p.pathSlice,b=p.toMoveInsideSlice,A=p.strTransform,g=p.hasTransition,I=p.handleSlicesExit,S=p.makeUpdateSliceInterpolator,O=p.makeUpdateTextInterpolator,R=p.prevEntry,L=l._context.staticPlot,N=l._fullLayout,j=u[0].trace,X=-1!==j.textposition.indexOf("left"),F=-1!==j.textposition.indexOf("right"),Y=-1!==j.textposition.indexOf("bottom"),G=!Y&&!j.marker.pad.t||Y&&!j.marker.pad.b,H=M(h,[T,_],{packing:j.tiling.packing,squarifyratio:j.tiling.squarifyratio,flipX:j.tiling.flip.indexOf("x")>-1,flipY:j.tiling.flip.indexOf("y")>-1,pad:{inner:j.tiling.pad,top:j.marker.pad.t,left:j.marker.pad.l,right:j.marker.pad.r,bottom:j.marker.pad.b}}).descendants(),W=1/0,Z=-1/0;H.forEach(function(ee){var oe=ee.depth;oe>=j._maxDepth?(ee.x0=ee.x1=(ee.x0+ee.x1)/2,ee.y0=ee.y1=(ee.y0+ee.y1)/2):(W=Math.min(W,oe),Z=Math.max(Z,oe))}),v=v.data(H,i.getPtId),j._maxVisibleLayers=isFinite(Z)?Z-W+1:0,v.enter().append("g").classed("slice",!0),I(v,o,{},[T,_],x),v.order();var se=null;if(g&&R){var re=i.getPtId(R);v.each(function(ee){null===se&&i.getPtId(ee)===re&&(se={x0:ee.x0,x1:ee.x1,y0:ee.y0,y1:ee.y1})})}var ne=function(){return se||{x0:0,x1:T,y0:0,y1:_}},Q=v;return g&&(Q=Q.transition().each("end",function(){var ee=D.select(this);i.setSliceCursor(ee,l,{hideOnRoot:!0,hideOnLeaves:!1,isTransitioning:!1})})),Q.each(function(ee){var oe=i.isHeader(ee,j);ee._x0=m(ee.x0),ee._x1=m(ee.x1),ee._y0=w(ee.y0),ee._y1=w(ee.y1),ee._hoverX=m(ee.x1-j.marker.pad.r),ee._hoverY=w(Y?ee.y1-j.marker.pad.b/2:ee.y0+j.marker.pad.t/2);var ce=D.select(this),fe=E.ensureSingle(ce,"path","surface",function(Ae){Ae.style("pointer-events",L?"none":"all")});g?fe.transition().attrTween("d",function(Ae){var be=S(Ae,o,ne(),[T,_]);return function(ye){return x(be(ye))}}):fe.attr("d",x),ce.call(s,h,l,u,{styleOne:y,eventDataKeys:c.eventDataKeys,transitionTime:c.CLICK_TRANSITION_TIME,transitionEasing:c.CLICK_TRANSITION_EASING}).call(i.setSliceCursor,l,{isTransitioning:l._transitioning}),fe.call(y,ee,j,l,{hovered:!1}),ee._text=ee.x0===ee.x1||ee.y0===ee.y1?"":oe?G?"":i.getPtLabel(ee)||"":a(ee,h,j,u,N)||"";var le=E.ensureSingle(ce,"g","slicetext"),pe=E.ensureSingle(le,"text","",function(Ae){Ae.attr("data-notex",1)}),Me=E.ensureUniformFontSize(l,i.determineTextFont(j,ee,N.font));pe.text(ee._text||" ").classed("slicetext",!0).attr("text-anchor",F?"end":X||oe?"start":"middle").call(f.font,Me).call(k.convertToTspans,l),ee.textBB=f.bBox(pe.node()),ee.transform=b(ee,{fontSize:Me.size,isHeader:oe}),ee.transform.fontSize=Me.size,g?pe.transition().attrTween("transform",function(Ae){var be=O(Ae,o,ne(),[T,_]);return function(ye){return A(be(ye))}}):pe.attr("transform",A(ee))}),se}},14102:function(ae){"use strict";ae.exports=function B(r,D,E){var f;E.swapXY&&(f=r.x0,r.x0=r.y0,r.y0=f,f=r.x1,r.x1=r.y1,r.y1=f),E.flipX&&(f=r.x0,r.x0=D[0]-r.x1,r.x1=D[0]-f),E.flipY&&(f=r.y0,r.y0=D[1]-r.y1,r.y1=D[1]-f);var k=r.children;if(k)for(var M=0;M<k.length;M++)B(k[M],D,E)}},70954:function(ae,B,r){"use strict";ae.exports={moduleType:"trace",name:"treemap",basePlotModule:r(78018),categories:[],animatable:!0,attributes:r(45802),layoutAttributes:r(55479),supplyDefaults:r(91174),supplyLayoutDefaults:r(77182),calc:r(65039).y,crossTraceCalc:r(65039).T,plot:r(5893),style:r(96362).style,colorbar:r(4898),meta:{}}},55479:function(ae){"use strict";ae.exports={treemapcolorway:{valType:"colorlist",editType:"calc"},extendtreemapcolors:{valType:"boolean",dflt:!0,editType:"calc"}}},77182:function(ae,B,r){"use strict";var D=r(71828),E=r(55479);ae.exports=function(f,k){function M(y,c){return D.coerce(f,k,E,y,c)}M("treemapcolorway",k.colorway),M("extendtreemapcolors")}},37210:function(ae,B,r){"use strict";var D=r(674),E=r(14102);ae.exports=function(f,k,M){var y,c=M.flipX,i=M.flipY,s="dice-slice"===M.packing,a=M.pad[i?"bottom":"top"],o=M.pad[c?"right":"left"],l=M.pad[c?"left":"right"],u=M.pad[i?"top":"bottom"];s&&(y=o,o=a,a=y,y=l,l=u,u=y);var h=D.treemap().tile(function(v,p){switch(v){case"squarify":return D.treemapSquarify.ratio(p);case"binary":return D.treemapBinary;case"dice":return D.treemapDice;case"slice":return D.treemapSlice;default:return D.treemapSliceDice}}(M.packing,M.squarifyratio)).paddingInner(M.pad.inner).paddingLeft(o).paddingRight(l).paddingTop(a).paddingBottom(u).size(s?[k[1],k[0]]:k)(f);return(s||c||i)&&E(h,k,{swapXY:s,flipX:c,flipY:i}),h}},5893:function(ae,B,r){"use strict";var D=r(80694),E=r(52583);ae.exports=function(f,k,M,y){return D(f,k,M,y,{type:"treemap",drawDescendants:E})}},46650:function(ae,B,r){"use strict";var D=r(39898),E=r(81684).sX,f=r(2791),k=r(71828),M=r(97313).TEXTPAD,y=r(17295).toMoveInsideBar,c=r(72597).recordMinTextSize,i=r(43473),s=r(66209);function a(o){return f.isHierarchyRoot(o)?"":f.getPtId(o)}ae.exports=function(o,l,u,h,v){var p=o._fullLayout,T=l[0],_=T.trace,m="icicle"===_.type,w=T.hierarchy,x=f.findEntryWithLevel(w,_.level),b=D.select(u),A=b.selectAll("g.pathbar"),g=b.selectAll("g.slice");if(!x)return A.remove(),void g.remove();var I=f.isHierarchyRoot(x),S=!p.uniformtext.mode&&f.hasTransition(h),O=f.getMaxDepth(_),R=p._size,L=_.domain,N=R.w*(L.x[1]-L.x[0]),j=R.h*(L.y[1]-L.y[0]),X=N,F=_.pathbar.thickness,Y=_.marker.line.width+i.gapWithPathbar,G=_.pathbar.visible?_.pathbar.side.indexOf("bottom")>-1?j+Y:-(F+Y):0,H={x0:X,x1:X,y0:G,y1:G+F},W=function(ke,Be,We){var Ge=_.tiling.pad,Ke=function(ct){return ct-Ge<=Be.x0},et=function(ct){return ct+Ge>=Be.x1},at=function(ct){return ct-Ge<=Be.y0},mt=function(ct){return ct+Ge>=Be.y1};return ke.x0===Be.x0&&ke.x1===Be.x1&&ke.y0===Be.y0&&ke.y1===Be.y1?{x0:ke.x0,x1:ke.x1,y0:ke.y0,y1:ke.y1}:{x0:Ke(ke.x0-Ge)?0:et(ke.x0-Ge)?We[0]:ke.x0,x1:Ke(ke.x1+Ge)?0:et(ke.x1+Ge)?We[0]:ke.x1,y0:at(ke.y0-Ge)?0:mt(ke.y0-Ge)?We[1]:ke.y0,y1:at(ke.y1+Ge)?0:mt(ke.y1+Ge)?We[1]:ke.y1}},Z=null,se={},re={},ne=null,Q=function(ke,Be){return Be?se[a(ke)]:re[a(ke)]};T.hasMultipleRoots&&I&&O++,_._maxDepth=O,_._backgroundColor=p.paper_bgcolor,_._entryDepth=x.data.depth,_._atRootLevel=I;var ee=-N/2+R.l+R.w*(L.x[1]+L.x[0])/2,oe=-j/2+R.t+R.h*(1-(L.y[1]+L.y[0])/2),ce=function(ke){return ee+ke},fe=function(ke){return oe+ke},le=fe(0),pe=ce(0),Me=function(ke){return pe+ke},Ae=function(ke){return le+ke};function be(ke,Be){return ke+","+Be}var ye=Me(0),we=function(ke){ke.x=Math.max(ye,ke.x)},ze=_.pathbar.edgeshape,Se=_[m?"tiling":"marker"].pad,Ce=function(ke){return-1!==_.textposition.indexOf(ke)},ge=Ce("top"),he=Ce("left"),_e=Ce("right"),Le=Ce("bottom"),Ie=function(ke,Be){var We=ke.x0,Ge=ke.x1,Ke=ke.y0,et=ke.y1,at=ke.textBB,mt=ge||Be.isHeader&&!Le?"start":Le?"end":"middle",ct=Ce("right"),kt=Ce("left")||Be.onPathbar?-1:ct?1:0;if(Be.isHeader){if((We+=(m?Se:Se.l)-M)>=(Ge-=(m?Se:Se.r)-M)){var Dt=(We+Ge)/2;We=Dt,Ge=Dt}var Et;Le?Ke<(Et=et-(m?Se:Se.b))&&Et<et&&(Ke=Et):Ke<(Et=Ke+(m?Se:Se.t))&&Et<et&&(et=Et)}var ht=y(We,Ge,Ke,et,at,{isHorizontal:!1,constrained:!0,angle:0,anchor:mt,leftToRight:kt});return ht.fontSize=Be.fontSize,ht.targetX=ce(ht.targetX),ht.targetY=fe(ht.targetY),isNaN(ht.targetX)||isNaN(ht.targetY)?{}:(We!==Ge&&Ke!==et&&c(_.type,ht,p),{scale:ht.scale,rotate:ht.rotate,textX:ht.textX,textY:ht.textY,anchorX:ht.anchorX,anchorY:ht.anchorY,targetX:ht.targetX,targetY:ht.targetY})},De=function(ke,Be){for(var We,Ge=0,Ke=ke;!We&&Ge<O;)Ge++,(Ke=Ke.parent)?We=Q(Ke,Be):Ge=O;return We||{}},je=function(ke,Be,We,Ge,Ke){var et,at=Q(ke,Be);if(at)et=at;else if(Be)et=H;else if(Z)if(ke.parent){var mt=ne||We;mt&&!Be?et=W(ke,mt,Ge):k.extendFlat(et={},De(ke,Be))}else et=k.extendFlat({},ke),m&&("h"===Ke.orientation?Ke.flipX?et.x0=ke.x1:et.x1=0:Ke.flipY?et.y0=ke.y1:et.y1=0);else et={};return E(et,{x0:ke.x0,x1:ke.x1,y0:ke.y0,y1:ke.y1})},qe=function(ke,Be,We,Ge){var ct,Dt,Et,Ke=Q(ke,Be),et={},at=(ct=ke,Dt=We,Et=Ge,Be?se[a(w)]||H:ct.data.depth-x.data.depth<O?W(ct,re[_.level]||Dt,Et):{});k.extendFlat(et,{transform:Ie({x0:at.x0,x1:at.x1,y0:at.y0,y1:at.y1,textBB:ke.textBB,_text:ke._text},{isHeader:f.isHeader(ke,_)})}),Ke?et=Ke:ke.parent&&k.extendFlat(et,De(ke,Be));var mt=ke.transform;return ke.x0!==ke.x1&&ke.y0!==ke.y1&&c(_.type,mt,p),E(et,{transform:{scale:mt.scale,rotate:mt.rotate,textX:mt.textX,textY:mt.textY,anchorX:mt.anchorX,anchorY:mt.anchorY,targetX:mt.targetX,targetY:mt.targetY}})},ve=function(ke,Be,We,Ge,Ke){var et=Ge[0],at=Ge[1];S?ke.exit().transition().each(function(){var mt=D.select(this);mt.select("path.surface").transition().attrTween("d",function(ct){var kt=function(Dt,Et,ht,pt){var Pt,zt=Q(Dt,Et);if(Et)Pt=H;else{var Ht=Q(x,Et);Pt=Ht?W(Dt,Ht,pt):{}}return E(zt,Pt)}(ct,Be,0,[et,at]);return function(Dt){return Ke(kt(Dt))}}),mt.select("g.slicetext").attr("opacity",0)}).remove():ke.exit().remove()},Oe=function(ke){var Be=ke.transform;return ke.x0!==ke.x1&&ke.y0!==ke.y1&&c(_.type,Be,p),k.getTextTransform({textX:Be.textX,textY:Be.textY,anchorX:Be.anchorX,anchorY:Be.anchorY,targetX:Be.targetX,targetY:Be.targetY,scale:Be.scale,rotate:Be.rotate})};S&&(A.each(function(ke){se[a(ke)]={x0:ke.x0,x1:ke.x1,y0:ke.y0,y1:ke.y1},ke.transform&&(se[a(ke)].transform={textX:ke.transform.textX,textY:ke.transform.textY,anchorX:ke.transform.anchorX,anchorY:ke.transform.anchorY,targetX:ke.transform.targetX,targetY:ke.transform.targetY,scale:ke.transform.scale,rotate:ke.transform.rotate})}),g.each(function(ke){re[a(ke)]={x0:ke.x0,x1:ke.x1,y0:ke.y0,y1:ke.y1},ke.transform&&(re[a(ke)].transform={textX:ke.transform.textX,textY:ke.transform.textY,anchorX:ke.transform.anchorX,anchorY:ke.transform.anchorY,targetX:ke.transform.targetX,targetY:ke.transform.targetY,scale:ke.transform.scale,rotate:ke.transform.rotate}),!Z&&f.isEntry(ke)&&(Z=ke)})),ne=v(o,l,x,g,{width:N,height:j,viewX:ce,viewY:fe,pathSlice:function(ke){var Be=ce(ke.x0),We=ce(ke.x1),Ge=fe(ke.y0),Ke=fe(ke.y1),et=We-Be,at=Ke-Ge;if(!et||!at)return"";var ct=Math.min(_.marker.cornerradius||0,et/2,at/2);ct&&ke.data&&ke.data.data&&ke.data.data.label&&(ge&&(ct=Math.min(ct,Se.t)),he&&(ct=Math.min(ct,Se.l)),_e&&(ct=Math.min(ct,Se.r)),Le&&(ct=Math.min(ct,Se.b)));var kt=function(Dt,Et){return ct?"a"+be(ct,ct)+" 0 0 1 "+be(Dt,Et):""};return"M"+be(Be,Ge+ct)+kt(ct,-ct)+"L"+be(We-ct,Ge)+kt(ct,ct)+"L"+be(We,Ke-ct)+kt(-ct,ct)+"L"+be(Be+ct,Ke)+kt(-ct,-ct)+"Z"},toMoveInsideSlice:Ie,prevEntry:Z,makeUpdateSliceInterpolator:je,makeUpdateTextInterpolator:qe,handleSlicesExit:ve,hasTransition:S,strTransform:Oe}),_.pathbar.visible?s(o,l,x,A,{barDifY:G,width:X,height:F,viewX:Me,viewY:Ae,pathSlice:function(ke){var Be=Me(Math.max(Math.min(ke.x0,ke.x0),0)),We=Me(Math.min(Math.max(ke.x1,ke.x1),X)),Ge=Ae(ke.y0),Ke=Ae(ke.y1),et=F/2,at={},mt={};at.x=Be,mt.x=We,at.y=mt.y=(Ge+Ke)/2;var ct={x:Be,y:Ge},kt={x:We,y:Ge},Dt={x:We,y:Ke},Et={x:Be,y:Ke};return">"===ze?(ct.x-=et,kt.x-=et,Dt.x-=et,Et.x-=et):"/"===ze?(Dt.x-=et,Et.x-=et,at.x-=et/2,mt.x-=et/2):"\\"===ze?(ct.x-=et,kt.x-=et,at.x-=et/2,mt.x-=et/2):"<"===ze&&(at.x-=et,mt.x-=et),we(ct),we(Et),we(at),we(kt),we(Dt),we(mt),"M"+be(ct.x,ct.y)+"L"+be(kt.x,kt.y)+"L"+be(mt.x,mt.y)+"L"+be(Dt.x,Dt.y)+"L"+be(Et.x,Et.y)+"L"+be(at.x,at.y)+"Z"},toMoveInsideSlice:Ie,makeUpdateSliceInterpolator:je,makeUpdateTextInterpolator:qe,handleSlicesExit:ve,hasTransition:S,strTransform:Oe}):A.remove()}},96362:function(ae,B,r){"use strict";var D=r(39898),E=r(7901),f=r(71828),k=r(2791),M=r(72597).resizeText,y=r(43467);function c(i,s,a,o,l){var u,h,v=(l||{}).hovered,p=s.data.data,T=p.i,_=p.color,m=k.isHierarchyRoot(s),w=1;if(v)u=a._hovered.marker.line.color,h=a._hovered.marker.line.width;else if(m&&_===a.root.color)w=100,u="rgba(0,0,0,0)",h=0;else if(u=f.castOption(a,T,"marker.line.color")||E.defaultLine,h=f.castOption(a,T,"marker.line.width")||0,!a._hasColorscale&&!s.onPathbar){var x=a.marker.depthfade;if(x){var b,A=E.combine(E.addOpacity(a._backgroundColor,.75),_);if(!0===x){var g=k.getMaxDepth(a);b=isFinite(g)?k.isLeaf(s)?0:a._maxVisibleLayers-(s.data.depth-a._entryDepth):s.data.height+1}else b=s.data.depth-a._entryDepth,a._atRootLevel||b++;if(b>0)for(var I=0;I<b;I++)_=E.combine(E.addOpacity(A,.5*I/b),_)}}i.call(y,s,a,o,_).style("stroke-width",h).call(E.stroke,u).style("opacity",w)}ae.exports={style:function(i){var s=i._fullLayout._treemaplayer.selectAll(".trace");M(i,s,"treemap"),s.each(function(a){var o=D.select(this),l=a[0].trace;o.style("opacity",l.opacity),o.selectAll("path.surface").each(function(u){D.select(this).call(c,u,l,i,{hovered:!1})})})},styleOne:c}},68875:function(ae,B,r){"use strict";var D=r(53522),E=r(1426).extendFlat,f=r(12663).axisHoverFormat;ae.exports={y:D.y,x:D.x,x0:D.x0,y0:D.y0,xhoverformat:f("x"),yhoverformat:f("y"),name:E({},D.name,{}),orientation:E({},D.orientation,{}),bandwidth:{valType:"number",min:0,editType:"calc"},scalegroup:{valType:"string",dflt:"",editType:"calc"},scalemode:{valType:"enumerated",values:["width","count"],dflt:"width",editType:"calc"},spanmode:{valType:"enumerated",values:["soft","hard","manual"],dflt:"soft",editType:"calc"},span:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,dflt:2,editType:"style"},editType:"plot"},fillcolor:D.fillcolor,points:E({},D.boxpoints,{}),jitter:E({},D.jitter,{}),pointpos:E({},D.pointpos,{}),width:E({},D.width,{}),marker:D.marker,text:D.text,hovertext:D.hovertext,hovertemplate:D.hovertemplate,quartilemethod:D.quartilemethod,box:{visible:{valType:"boolean",dflt:!1,editType:"plot"},width:{valType:"number",min:0,max:1,dflt:.25,editType:"plot"},fillcolor:{valType:"color",editType:"style"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,editType:"style"},editType:"style"},editType:"plot"},meanline:{visible:{valType:"boolean",dflt:!1,editType:"plot"},color:{valType:"color",editType:"style"},width:{valType:"number",min:0,editType:"style"},editType:"plot"},side:{valType:"enumerated",values:["both","positive","negative"],dflt:"both",editType:"calc"},offsetgroup:D.offsetgroup,alignmentgroup:D.alignmentgroup,selected:D.selected,unselected:D.unselected,hoveron:{valType:"flaglist",flags:["violins","points","kde"],dflt:"violins+points+kde",extras:["all"],editType:"style"}}},38603:function(ae,B,r){"use strict";var D=r(71828),E=r(89298),f=r(48518),k=r(60168),M=r(50606).BADNUM;function y(i,s,a){var o=s.max-s.min;if(!o)return i.bandwidth?i.bandwidth:0;if(i.bandwidth)return Math.max(i.bandwidth,o/1e4);var h,l=a.length,u=D.stdev(a,l-1,s.mean);return Math.max((h=l,1.059*Math.min(u,(s.q3-s.q1)/1.349)*Math.pow(h,-.2)),o/100)}function c(i,s,a,o){var l,u=i.spanmode,h=i.span||[],p=[s.min-2*o,s.max+2*o];function T(m){var w=h[m],x="multicategory"===a.type?a.r2c(w):a.d2c(w,0,i[s.valLetter+"calendar"]);return x===M?p[m]:x}var _={type:"linear",range:l="soft"===u?p:"hard"===u?[s.min,s.max]:[T(0),T(1)]};return E.setConvert(_),_.cleanRange(),l}ae.exports=function(i,s){var a=f(i,s);if(a[0].t.empty)return a;for(var o=i._fullLayout,l=E.getFromId(i,s["h"===s.orientation?"xaxis":"yaxis"]),u=1/0,h=-1/0,v=0,p=0,T=0;T<a.length;T++){var _=a[T],m=_.pts.map(k.extractVal),w=_.bandwidth=y(s,_,m),x=_.span=c(s,_,l,w);if(_.min===_.max&&0===w)x=_.span=[_.min,_.max],_.density=[{v:1,t:x[0]}],_.bandwidth=w,v=Math.max(v,1);else{var b=x[1]-x[0],A=Math.ceil(b/(w/3)),g=b/A;if(!isFinite(g)||!isFinite(A))return D.error("Something went wrong with computing the violin span"),a[0].t.empty=!0,a;var I=k.makeKDE(_,s,m);_.density=new Array(A);for(var S=0,O=x[0];O<x[1]+g/2;S++,O+=g){var R=I(O);_.density[S]={v:R,t:O},v=Math.max(v,R)}}p=Math.max(p,m.length),u=Math.min(u,x[0]),h=Math.max(h,x[1])}var L=E.findExtremes(l,[u,h],{padded:!0});if(s._extremes[l._id]=L,s.width)a[0].t.maxKDE=v;else{var N=o._violinScaleGroupStats,j=s.scalegroup,X=N[j];X?(X.maxKDE=Math.max(X.maxKDE,v),X.maxCount=Math.max(X.maxCount,p)):N[j]={maxKDE:v,maxCount:p}}return a[0].t.labels.kde=D._(i,"kde:"),a}},86403:function(ae,B,r){"use strict";var D=r(37188).setPositionOffset,E=["v","h"];ae.exports=function(f,k){for(var M=f.calcdata,y=k.xaxis,c=k.yaxis,i=0;i<E.length;i++){for(var s=E[i],a="h"===s?c:y,o=[],l=0;l<M.length;l++){var u=M[l],v=u[0].trace;!0!==v.visible||"violin"!==v.type||u[0].t.empty||v.orientation!==s||v.xaxis!==y._id||v.yaxis!==c._id||o.push(l)}D("violin",f,o,a)}}},15899:function(ae,B,r){"use strict";var D=r(71828),E=r(7901),f=r(36411),k=r(68875);ae.exports=function(M,y,c,i){function s(b,A){return D.coerce(M,y,k,b,A)}function a(b,A){return D.coerce2(M,y,k,b,A)}if(f.handleSampleDefaults(M,y,s,i),!1!==y.visible){s("bandwidth"),s("side"),s("width")||(s("scalegroup",y.name),s("scalemode"));var o,l=s("span");Array.isArray(l)&&(o="manual"),s("spanmode",o);var u=s("line.color",(M.marker||{}).color||c),h=s("line.width"),v=s("fillcolor",E.addOpacity(y.line.color,.5));f.handlePointsDefaults(M,y,s,{prefix:""});var p=a("box.width"),T=a("box.fillcolor",v),_=a("box.line.color",u),m=a("box.line.width",h);s("box.visible",!!(p||T||_||m))||(y.box={visible:!1});var w=a("meanline.color",u),x=a("meanline.width",h);s("meanline.visible",!(!w&&!x))||(y.meanline={visible:!1}),s("quartilemethod")}}},60168:function(ae,B,r){"use strict";var D=r(71828),E=function(f){return 1/Math.sqrt(2*Math.PI)*Math.exp(-.5*f*f)};B.makeKDE=function(f,k,M){var y=M.length,c=E,i=f.bandwidth,s=1/(y*i);return function(a){for(var o=0,l=0;l<y;l++)o+=c((a-M[l])/i);return s*o}},B.getPositionOnKdePath=function(f,k,M){var y,c;"h"===k.orientation?(y="y",c="x"):(y="x",c="y");var i=D.findPointOnPath(f.path,M,c,{pathLength:f.pathLength}),s=f.posCenterPx,a=i[y];return[a,"both"===k.side?2*s-a:s]},B.getKdeValue=function(f,k,M){var y=f.pts.map(B.extractVal);return B.makeKDE(f,k,y)(M)/f.posDensityScale},B.extractVal=function(f){return f.v}},57634:function(ae,B,r){"use strict";var D=r(7901),E=r(71828),f=r(89298),k=r(41868),M=r(60168);ae.exports=function(y,c,i,s,a){a||(a={});var o,l,u=a.hoverLayer,h=y.cd,v=h[0].trace,p=v.hoveron,T=-1!==p.indexOf("violins"),_=-1!==p.indexOf("kde"),m=[];if(T||_){var w=k.hoverOnBoxes(y,c,i,s);if(_&&w.length>0){var x,b,A,g,I,S=y.xa,O=y.ya;"h"===v.orientation?(I=c,x="y",A=O,b="x",g=S):(I=i,x="x",A=S,b="y",g=O);var R=h[y.index];if(I>=R.span[0]&&I<=R.span[1]){var L=E.extendFlat({},y),N=g.c2p(I,!0),j=M.getKdeValue(R,v,I),X=M.getPositionOnKdePath(R,v,N),F=A._offset,Y=A._length;L[x+"0"]=X[0],L[x+"1"]=X[1],L[b+"0"]=L[b+"1"]=N,L[b+"Label"]=b+": "+f.hoverLabelText(g,I,v[b+"hoverformat"])+", "+h[0].t.labels.kde+" "+j.toFixed(3);for(var G=0,H=0;H<w.length;H++)if("med"===w[H].attr){G=H;break}L.spikeDistance=w[G].spikeDistance;var W=x+"Spike";L[W]=w[G][W],w[G].spikeDistance=void 0,w[G][W]=void 0,L.hovertemplate=!1,m.push(L),(l={})[x+"1"]=E.constrain(F+X[0],F,F+Y),l[x+"2"]=E.constrain(F+X[1],F,F+Y),l[b+"1"]=l[b+"2"]=g._offset+N}}T&&(m=m.concat(w))}-1!==p.indexOf("points")&&(o=k.hoverOnPoints(y,c,i));var Z=u.selectAll(".violinline-"+v.uid).data(l?[0]:[]);return Z.enter().append("line").classed("violinline-"+v.uid,!0).attr("stroke-width",1.5),Z.exit().remove(),Z.attr(l).call(D.stroke,y.color),"closest"===s?o?[o]:m:(o&&m.push(o),m)}},47462:function(ae,B,r){"use strict";ae.exports={attributes:r(68875),layoutAttributes:r(9228),supplyDefaults:r(15899),crossTraceDefaults:r(36411).crossTraceDefaults,supplyLayoutDefaults:r(33598),calc:r(38603),crossTraceCalc:r(86403),plot:r(28443),style:r(31847),styleOnSelect:r(16296).styleOnSelect,hoverPoints:r(57634),selectPoints:r(24626),moduleType:"trace",name:"violin",basePlotModule:r(93612),categories:["cartesian","svg","symbols","oriented","box-violin","showLegend","violinLayout","zoomScale"],meta:{}}},9228:function(ae,B,r){"use strict";var D=r(40094),E=r(71828).extendFlat;ae.exports={violinmode:E({},D.boxmode,{}),violingap:E({},D.boxgap,{}),violingroupgap:E({},D.boxgroupgap,{})}},33598:function(ae,B,r){"use strict";var D=r(71828),E=r(9228),f=r(4199);ae.exports=function(k,M,y){f._supply(k,M,y,function(c,i){return D.coerce(k,M,E,c,i)},"violin")}},28443:function(ae,B,r){"use strict";var D=r(39898),E=r(71828),f=r(91424),k=r(86047),M=r(34621),y=r(60168);ae.exports=function(c,i,s,a){var o=c._context.staticPlot,l=c._fullLayout,u=i.xaxis,h=i.yaxis;function v(p,T){var _=M(p,{xaxis:u,yaxis:h,trace:T,connectGaps:!0,baseTolerance:.75,shape:"spline",simplify:!0,linearized:!0});return f.smoothopen(_[0],1)}E.makeTraceGroups(a,s,"trace violins").each(function(p){var T=D.select(this),_=p[0],m=_.t,w=_.trace;if(!0!==w.visible||m.empty)T.remove();else{var x=m.bPos,b=m.bdPos,A=i[m.valLetter+"axis"],g=i[m.posLetter+"axis"],I="both"===w.side,S=I||"positive"===w.side,O=I||"negative"===w.side,R=T.selectAll("path.violin").data(E.identity);R.enter().append("path").style("vector-effect",o?"none":"non-scaling-stroke").attr("class","violin"),R.exit().remove(),R.each(function(H){var W,Z,se,re,ne,Q,ee,oe,ce=D.select(this),fe=H.density,le=fe.length,pe=g.c2l(H.pos+x,!0),Me=g.l2p(pe);if(w.width)W=m.maxKDE/b;else{var Ae=l._violinScaleGroupStats[w.scalegroup];W="count"===w.scalemode?Ae.maxKDE/b*(Ae.maxCount/H.pts.length):Ae.maxKDE/b}if(S){for(ee=new Array(le),ne=0;ne<le;ne++)(oe=ee[ne]={})[m.posLetter]=pe+fe[ne].v/W,oe[m.valLetter]=A.c2l(fe[ne].t,!0);Z=v(ee,w)}if(O){for(ee=new Array(le),Q=0,ne=le-1;Q<le;Q++,ne--)(oe=ee[Q]={})[m.posLetter]=pe-fe[ne].v/W,oe[m.valLetter]=A.c2l(fe[ne].t,!0);se=v(ee,w)}if(I)re=Z+"L"+se.substr(1)+"Z";else{var be=[Me,A.c2p(fe[0].t)],ye=[Me,A.c2p(fe[le-1].t)];"h"===w.orientation&&(be.reverse(),ye.reverse()),re=S?"M"+be+"L"+Z.substr(1)+"L"+ye:"M"+ye+"L"+se.substr(1)+"L"+be}ce.attr("d",re),H.posCenterPx=Me,H.posDensityScale=W*b,H.path=ce.node(),H.pathLength=H.path.getTotalLength()/(I?2:1)});var L,N,j,X=w.box,F=X.width,Y=(X.line||{}).width;I?(L=b*F,N=0):S?(L=[0,b*F/2],N=Y*{x:1,y:-1}[m.posLetter]):(L=[b*F/2,0],N=Y*{x:-1,y:1}[m.posLetter]),k.plotBoxAndWhiskers(T,{pos:g,val:A},w,{bPos:x,bdPos:L,bPosPxOffset:N}),k.plotBoxMean(T,{pos:g,val:A},w,{bPos:x,bdPos:L,bPosPxOffset:N}),!w.box.visible&&w.meanline.visible&&(j=E.identity);var G=T.selectAll("path.meanline").data(j||[]);G.enter().append("path").attr("class","meanline").style("fill","none").style("vector-effect",o?"none":"non-scaling-stroke"),G.exit().remove(),G.each(function(H){var W=A.c2p(H.mean,!0),Z=y.getPositionOnKdePath(H,w,W);D.select(this).attr("d","h"===w.orientation?"M"+W+","+Z[0]+"V"+Z[1]:"M"+Z[0]+","+W+"H"+Z[1])}),k.plotPoints(T,{x:u,y:h},w,m)}})}},31847:function(ae,B,r){"use strict";var D=r(39898),E=r(7901),f=r(16296).stylePoints;ae.exports=function(k){var M=D.select(k).selectAll("g.trace.violins");M.style("opacity",function(y){return y[0].trace.opacity}),M.each(function(y){var c=y[0].trace,i=D.select(this),s=c.box||{},a=s.line||{},o=c.meanline||{},l=o.width;i.selectAll("path.violin").style("stroke-width",c.line.width+"px").call(E.stroke,c.line.color).call(E.fill,c.fillcolor),i.selectAll("path.box").style("stroke-width",a.width+"px").call(E.stroke,a.color).call(E.fill,s.fillcolor);var u={"stroke-width":l+"px","stroke-dasharray":2*l+"px,"+l+"px"};i.selectAll("path.mean").style(u).call(E.stroke,o.color),i.selectAll("path.meanline").style(u).call(E.stroke,o.color),f(i,c,k)})}},16336:function(ae,B,r){"use strict";var D=r(50693),E=r(16249),f=r(54532),k=r(9012),M=r(1426).extendFlat,y=r(30962).overrideAll,c=ae.exports=y(M({x:E.x,y:E.y,z:E.z,value:E.value,isomin:E.isomin,isomax:E.isomax,surface:E.surface,spaceframe:{show:{valType:"boolean",dflt:!1},fill:{valType:"number",min:0,max:1,dflt:1}},slices:E.slices,caps:E.caps,text:E.text,hovertext:E.hovertext,xhoverformat:E.xhoverformat,yhoverformat:E.yhoverformat,zhoverformat:E.zhoverformat,valuehoverformat:E.valuehoverformat,hovertemplate:E.hovertemplate},D("",{colorAttr:"`value`",showScaleDflt:!0,editTypeOverride:"calc"}),{colorbar:E.colorbar,opacity:E.opacity,opacityscale:f.opacityscale,lightposition:E.lightposition,lighting:E.lighting,flatshading:E.flatshading,contour:E.contour,hoverinfo:M({},k.hoverinfo),showlegend:M({},k.showlegend,{dflt:!1})}),"calc","nested");c.x.editType=c.y.editType=c.z.editType=c.value.editType="calc+clearAxisTypes",c.transforms=void 0},64809:function(ae,B,r){"use strict";var D=r(9330).gl_mesh3d,E=r(81697).parseColorScale,f=r(78614),k=r(21081).extractOpts,M=r(90060),y=r(22674).findNearestOnAxis,c=r(22674).generateIsoMeshes;function i(a,o,l){this.scene=a,this.uid=l,this.mesh=o,this.name="",this.data=null,this.showContour=!1}var s=i.prototype;s.handlePick=function(a){if(a.object===this.mesh){var o=a.data.index,u=this.data._meshY[o],h=this.data._meshZ[o],v=this.data._Ys.length,p=this.data._Zs.length,T=y(this.data._meshX[o],this.data._Xs).id,_=y(u,this.data._Ys).id,m=y(h,this.data._Zs).id,w=a.index=m+p*_+p*v*T;a.traceCoordinate=[this.data._meshX[w],this.data._meshY[w],this.data._meshZ[w],this.data._value[w]];var x=this.data.hovertext||this.data.text;return Array.isArray(x)&&void 0!==x[w]?a.textLabel=x[w]:x&&(a.textLabel=x),!0}},s.update=function(a){var o=this.scene,l=o.fullSceneLayout;function u(p,T,_,m){return T.map(function(w){return p.d2l(w,0,m)*_})}this.data=c(a);var h={positions:M(u(l.xaxis,a._meshX,o.dataScale[0],a.xcalendar),u(l.yaxis,a._meshY,o.dataScale[1],a.ycalendar),u(l.zaxis,a._meshZ,o.dataScale[2],a.zcalendar)),cells:M(a._meshI,a._meshJ,a._meshK),lightPosition:[a.lightposition.x,a.lightposition.y,a.lightposition.z],ambient:a.lighting.ambient,diffuse:a.lighting.diffuse,specular:a.lighting.specular,roughness:a.lighting.roughness,fresnel:a.lighting.fresnel,vertexNormalsEpsilon:a.lighting.vertexnormalsepsilon,faceNormalsEpsilon:a.lighting.facenormalsepsilon,opacity:a.opacity,opacityscale:a.opacityscale,contourEnable:a.contour.show,contourColor:f(a.contour.color).slice(0,3),contourWidth:a.contour.width,useFacetNormals:a.flatshading},v=k(a);h.vertexIntensity=a._meshIntensity,h.vertexIntensityBounds=[v.min,v.max],h.colormap=E(a),this.mesh.update(h)},s.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()},ae.exports=function(a,o){var u=D({gl:a.glplot.gl}),h=new i(a,u,o.uid);return u._trace=h,h.update(o),a.glplot.add(u),h}},47651:function(ae,B,r){"use strict";var D=r(71828),E=r(16336),f=r(82738).supplyIsoDefaults,k=r(91831).opacityscaleDefaults;ae.exports=function(M,y,c,i){function s(a,o){return D.coerce(M,y,E,a,o)}f(M,y,c,i,s),k(M,y,i,s)}},17659:function(ae,B,r){"use strict";ae.exports={attributes:r(16336),supplyDefaults:r(47651),calc:r(56959),colorbar:{min:"cmin",max:"cmax"},plot:r(64809),moduleType:"trace",name:"volume",basePlotModule:r(58547),categories:["gl3d","showLegend"],meta:{}}},43037:function(ae,B,r){"use strict";var D=r(1486),E=r(82196).line,f=r(9012),k=r(12663).axisHoverFormat,M=r(5386).fF,y=r(5386).si,c=r(48334),i=r(1426).extendFlat,s=r(7901);function a(o){return{marker:{color:i({},D.marker.color,{arrayOk:!1,editType:"style"}),line:{color:i({},D.marker.line.color,{arrayOk:!1,editType:"style"}),width:i({},D.marker.line.width,{arrayOk:!1,editType:"style"}),editType:"style"},editType:"style"},editType:"style"}}ae.exports={measure:{valType:"data_array",dflt:[],editType:"calc"},base:{valType:"number",dflt:null,arrayOk:!1,editType:"calc"},x:D.x,x0:D.x0,dx:D.dx,y:D.y,y0:D.y0,dy:D.dy,xperiod:D.xperiod,yperiod:D.yperiod,xperiod0:D.xperiod0,yperiod0:D.yperiod0,xperiodalignment:D.xperiodalignment,yperiodalignment:D.yperiodalignment,xhoverformat:k("x"),yhoverformat:k("y"),hovertext:D.hovertext,hovertemplate:M({},{keys:c.eventDataKeys}),hoverinfo:i({},f.hoverinfo,{flags:["name","x","y","text","initial","delta","final"]}),textinfo:{valType:"flaglist",flags:["label","text","initial","delta","final"],extras:["none"],editType:"plot",arrayOk:!1},texttemplate:y({editType:"plot"},{keys:c.eventDataKeys.concat(["label"])}),text:D.text,textposition:D.textposition,insidetextanchor:D.insidetextanchor,textangle:D.textangle,textfont:D.textfont,insidetextfont:D.insidetextfont,outsidetextfont:D.outsidetextfont,constraintext:D.constraintext,cliponaxis:D.cliponaxis,orientation:D.orientation,offset:D.offset,width:D.width,increasing:a(),decreasing:a(),totals:a(),connector:{line:{color:i({},E.color,{dflt:s.defaultLine}),width:i({},E.width,{editType:"plot"}),dash:E.dash,editType:"plot"},mode:{valType:"enumerated",values:["spanning","between"],dflt:"between",editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},offsetgroup:D.offsetgroup,alignmentgroup:D.alignmentgroup}},52752:function(ae,B,r){"use strict";var D=r(89298),E=r(42973),f=r(71828).mergeArray,k=r(66279),M=r(50606).BADNUM;function y(i){return"a"===i||"absolute"===i}function c(i){return"t"===i||"total"===i}ae.exports=function(i,s){var a,o,l,u,h,v,p=D.getFromId(i,s.xaxis||"x"),T=D.getFromId(i,s.yaxis||"y");"h"===s.orientation?(a=p.makeCalcdata(s,"x"),l=T.makeCalcdata(s,"y"),u=E(s,T,"y",l),h=!!s.yperiodalignment,v="y"):(a=T.makeCalcdata(s,"y"),l=p.makeCalcdata(s,"x"),u=E(s,p,"x",l),h=!!s.xperiodalignment,v="x"),o=u.vals;for(var _,m=Math.min(o.length,a.length),w=new Array(m),x=0,b=!1,A=0;A<m;A++){var g=a[A]||0,I=!1;(a[A]!==M||c(s.measure[A])||y(s.measure[A]))&&A+1<m&&(a[A+1]!==M||c(s.measure[A+1])||y(s.measure[A+1]))&&(I=!0);var S=w[A]={i:A,p:o[A],s:g,rawS:g,cNext:I};y(s.measure[A])?(x=S.s,S.isSum=!0,S.dir="totals",S.s=x):c(s.measure[A])?(S.isSum=!0,S.dir="totals",S.s=x):(S.isSum=!1,S.dir=S.rawS<0?"decreasing":"increasing",S.s=x+(_=S.s),x+=_),"totals"===S.dir&&(b=!0),h&&(w[A].orig_p=l[A],w[A][v+"End"]=u.ends[A],w[A][v+"Start"]=u.starts[A]),s.ids&&(S.id=String(s.ids[A])),S.v=(s.base||0)+x}return w.length&&(w[0].hasTotals=b),f(s.text,w,"tx"),f(s.hovertext,w,"htx"),k(w,s),w}},48334:function(ae){"use strict";ae.exports={eventDataKeys:["initial","delta","final"]}},70766:function(ae,B,r){"use strict";var D=r(11661).setGroupPositions;ae.exports=function(E,f){var k,M,y=E._fullLayout,c=E._fullData,i=E.calcdata,s=f.xaxis,a=f.yaxis,o=[],l=[],u=[];for(M=0;M<c.length;M++){var h=c[M];!0===h.visible&&h.xaxis===s._id&&h.yaxis===a._id&&"waterfall"===h.type&&(k=i[M],"h"===h.orientation?u.push(k):l.push(k),o.push(k))}var v={mode:y.waterfallmode,norm:y.waterfallnorm,gap:y.waterfallgap,groupgap:y.waterfallgroupgap};for(D(E,s,a,l,v),D(E,a,s,u,v),M=0;M<o.length;M++){k=o[M];for(var p=0;p<k.length;p++){var T=k[p];!1===T.isSum&&(T.s0+=0===p?0:k[p-1].s),p+1<k.length&&(k[p].nextP0=k[p+1].p0,k[p].nextS0=k[p+1].s0)}}}},83266:function(ae,B,r){"use strict";var D=r(71828),E=r(26125),f=r(90769).handleText,k=r(67513),M=r(73927),y=r(43037),c=r(7901),i=r(22372),s=i.INCREASING.COLOR,a=i.DECREASING.COLOR;function o(l,u,h){l(u+".marker.color",h),l(u+".marker.line.color",c.defaultLine),l(u+".marker.line.width")}ae.exports={supplyDefaults:function(l,u,h,v){function p(_,m){return D.coerce(l,u,y,_,m)}if(k(l,u,v,p)){M(l,u,v,p),p("xhoverformat"),p("yhoverformat"),p("measure"),p("orientation",u.x&&!u.y?"h":"v"),p("base"),p("offset"),p("width"),p("text"),p("hovertext"),p("hovertemplate");var T=p("textposition");f(l,u,v,p,T,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),"none"!==u.textposition&&(p("texttemplate"),u.texttemplate||p("textinfo")),o(p,"increasing",s),o(p,"decreasing",a),o(p,"totals","#4499FF"),p("connector.visible")&&(p("connector.mode"),p("connector.line.width")&&(p("connector.line.color"),p("connector.line.dash")))}else u.visible=!1},crossTraceDefaults:function(l,u){var h,v;function p(_){return D.coerce(v._input,v,y,_)}if("group"===u.waterfallmode)for(var T=0;T<l.length;T++)h=(v=l[T])._input,E(h,v,u,p)}}},58593:function(ae){"use strict";ae.exports=function(B,r){return B.x="xVal"in r?r.xVal:r.x,B.y="yVal"in r?r.yVal:r.y,"initial"in r&&(B.initial=r.initial),"delta"in r&&(B.delta=r.delta),"final"in r&&(B.final=r.final),r.xa&&(B.xaxis=r.xa),r.ya&&(B.yaxis=r.ya),B}},61326:function(ae,B,r){"use strict";var D=r(89298).hoverLabelText,E=r(7901).opacity,f=r(95423).hoverOnBars,k=r(22372),M=k.INCREASING.SYMBOL,y=k.DECREASING.SYMBOL;ae.exports=function(c,i,s,a,o){var L,N,j,X,l=f(c,i,s,a,o);if(l){var u=l.cd,h=u[0].trace,v="h"===h.orientation,p=v?"x":"y",T=v?c.xa:c.ya,_=u[l.index],m=_.isSum?_.b+_.s:_.rawS;l.initial=_.b+_.s-m,l.delta=m,l.final=l.initial+l.delta;var w=S(Math.abs(l.delta));l.deltaLabel=m<0?"("+w+")":w,l.finalLabel=S(l.final),l.initialLabel=S(l.initial);var x=_.hi||h.hoverinfo,b=[];if(x&&"none"!==x&&"skip"!==x){var A="all"===x,g=x.split("+"),I=function(O){return A||-1!==g.indexOf(O)};_.isSum||(!I("final")||I(v?"x":"y")||b.push(l.finalLabel),I("delta")&&b.push(m<0?l.deltaLabel+" "+y:l.deltaLabel+" "+M),I("initial")&&b.push("Initial: "+l.initialLabel))}return b.length&&(l.extraText=b.join("<br>")),l.color=(j=(L=h[_.dir].marker).line.color,X=L.line.width,E(N=L.color)?N:E(j)&&X?j:void 0),[l]}function S(O){return D(T,O,h[p+"hoverformat"])}}},19990:function(ae,B,r){"use strict";ae.exports={attributes:r(43037),layoutAttributes:r(13494),supplyDefaults:r(83266).supplyDefaults,crossTraceDefaults:r(83266).crossTraceDefaults,supplyLayoutDefaults:r(5176),calc:r(52752),crossTraceCalc:r(70766),plot:r(30436),style:r(55750).style,hoverPoints:r(61326),eventData:r(58593),selectPoints:r(81974),moduleType:"trace",name:"waterfall",basePlotModule:r(93612),categories:["bar-like","cartesian","svg","oriented","showLegend","zoomScale"],meta:{}}},13494:function(ae){"use strict";ae.exports={waterfallmode:{valType:"enumerated",values:["group","overlay"],dflt:"group",editType:"calc"},waterfallgap:{valType:"number",min:0,max:1,editType:"calc"},waterfallgroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},5176:function(ae,B,r){"use strict";var D=r(71828),E=r(13494);ae.exports=function(f,k,M){var y=!1;function c(a,o){return D.coerce(f,k,E,a,o)}for(var i=0;i<M.length;i++){var s=M[i];if(s.visible&&"waterfall"===s.type){y=!0;break}}y&&(c("waterfallmode"),c("waterfallgap",.2),c("waterfallgroupgap"))}},30436:function(ae,B,r){"use strict";var D=r(39898),E=r(71828),f=r(91424),k=r(50606).BADNUM,M=r(17295),y=r(72597).clearMinTextSize;ae.exports=function(c,i,s,a){var l,u,p,T,o=c._fullLayout;y("waterfall",o),M.plot(c,i,s,a,{mode:o.waterfallmode,norm:o.waterfallmode,gap:o.waterfallgap,groupgap:o.waterfallgroupgap}),l=c,p=(u=i).xaxis,T=u.yaxis,E.makeTraceGroups(a,s,"trace bars").each(function(_){var m=D.select(this),w=_[0].trace,x=E.ensureSingle(m,"g","lines");if(w.connector&&w.connector.visible){var b="h"===w.orientation,A=w.connector.mode,g=x.selectAll("g.line").data(E.identity);g.enter().append("g").classed("line",!0),g.exit().remove();var I=g.size();g.each(function(S,O){if(O===I-1||S.cNext){var R=(F=p,Y=T,W=[],se=(G=b)?Y:F,(H=[])[0]=(Z=G?F:Y).c2p((X=S).s0,!0),W[0]=se.c2p(X.p0,!0),H[1]=Z.c2p(X.s1,!0),W[1]=se.c2p(X.p1,!0),H[2]=Z.c2p(X.nextS0,!0),W[2]=se.c2p(X.nextP0,!0),G?[H,W]:[W,H]),L=R[0],N=R[1],j="";L[0]!==k&&N[0]!==k&&L[1]!==k&&N[1]!==k&&("spanning"===A&&!S.isSum&&O>0&&(j+=b?"M"+L[0]+","+N[1]+"V"+N[0]:"M"+L[1]+","+N[0]+"H"+L[0]),"between"!==A&&(S.isSum||O<I-1)&&(j+=b?"M"+L[1]+","+N[0]+"V"+N[1]:"M"+L[0]+","+N[1]+"H"+L[1]),L[2]!==k&&N[2]!==k&&(j+=b?"M"+L[1]+","+N[1]+"V"+N[2]:"M"+L[1]+","+N[1]+"H"+L[2])),""===j&&(j="M0,0Z"),E.ensureSingle(D.select(this),"path").attr("d",j).call(f.setClipUrl,u.layerClipId,l)}var X,F,Y,G,H,W,Z,se})}else x.remove()})}},55750:function(ae,B,r){"use strict";var D=r(39898),E=r(91424),f=r(7901),k=r(37822).DESELECTDIM,M=r(16688),y=r(72597).resizeText,c=M.styleTextPoints;ae.exports={style:function(i,s,a){var o=a||D.select(i).selectAll("g.waterfalllayer").selectAll("g.trace");y(i,o,"waterfall"),o.style("opacity",function(l){return l[0].trace.opacity}),o.each(function(l){var u=D.select(this),h=l[0].trace;u.selectAll(".point > path").each(function(v){if(!v.isBlank){var p=h[v.dir].marker;D.select(this).call(f.fill,p.color).call(f.stroke,p.line.color).call(E.dashLine,p.line.dash,p.line.width).style("opacity",h.selectedpoints&&!v.selected?k:1)}}),c(u,h,i),u.selectAll(".lines").each(function(){var v=h.connector.line;E.lineGroupStyle(D.select(this).selectAll("path"),v.width,v.color,v.dash)})})}}},82887:function(ae,B,r){"use strict";var D=r(89298),E=r(71828),f=r(86281),k=r(79344).p,M=r(50606).BADNUM;B.moduleType="transform",B.name="aggregate";var y=B.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},aggregations:{_isLinkedToArray:"aggregation",target:{valType:"string",editType:"calc"},func:{valType:"enumerated",values:["count","sum","avg","median","mode","rms","stddev","min","max","first","last","change","range"],dflt:"first",editType:"calc"},funcmode:{valType:"enumerated",values:["sample","population"],dflt:"sample",editType:"calc"},enabled:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},editType:"calc"},c=y.aggregations;function i(l,u,h,v){if(v.enabled){for(var p=v.target,T=E.nestedProperty(u,p),_=T.get(),m=function(b,A){var I=A.d2c,S=A.c2d;switch(b.func){case"count":return s;case"first":return a;case"last":return o;case"sum":return function(O,R){for(var L=0,N=0;N<R.length;N++){var j=I(O[R[N]]);j!==M&&(L+=j)}return S(L)};case"avg":return function(O,R){for(var L=0,N=0,j=0;j<R.length;j++){var X=I(O[R[j]]);X!==M&&(L+=X,N++)}return N?S(L/N):M};case"min":return function(O,R){for(var L=1/0,N=0;N<R.length;N++){var j=I(O[R[N]]);j!==M&&(L=Math.min(L,j))}return L===1/0?M:S(L)};case"max":return function(O,R){for(var L=-1/0,N=0;N<R.length;N++){var j=I(O[R[N]]);j!==M&&(L=Math.max(L,j))}return L===-1/0?M:S(L)};case"range":return function(O,R){for(var L=1/0,N=-1/0,j=0;j<R.length;j++){var X=I(O[R[j]]);X!==M&&(L=Math.min(L,X),N=Math.max(N,X))}return N===-1/0||L===1/0?M:S(N-L)};case"change":return function(O,R){var L=I(O[R[0]]),N=I(O[R[R.length-1]]);return L===M||N===M?M:S(N-L)};case"median":return function(O,R){for(var L=[],N=0;N<R.length;N++){var j=I(O[R[N]]);j!==M&&L.push(j)}if(!L.length)return M;L.sort(E.sorterAsc);var X=(L.length-1)/2;return S((L[Math.floor(X)]+L[Math.ceil(X)])/2)};case"mode":return function(O,R){for(var L={},N=0,j=M,X=0;X<R.length;X++){var F=I(O[R[X]]);if(F!==M){var Y=L[F]=(L[F]||0)+1;Y>N&&(N=Y,j=F)}}return N?S(j):M};case"rms":return function(O,R){for(var L=0,N=0,j=0;j<R.length;j++){var X=I(O[R[j]]);X!==M&&(L+=X*X,N++)}return N?S(Math.sqrt(L/N)):M};case"stddev":return function(O,R){var L,N=0,j=0,X=1,F=M;for(L=0;L<R.length&&F===M;L++)F=I(O[R[L]]);if(F===M)return M;for(;L<R.length;L++){var Y=I(O[R[L]]);if(Y!==M){var G=Y-F;N+=G,j+=G*G,X++}}var H="sample"===b.funcmode?X-1:X;return H?Math.sqrt((j-N*N/X)/H):0}}}(v,D.getDataConversions(l,u,p,_)),w=new Array(h.length),x=0;x<h.length;x++)w[x]=m(_,h[x]);T.set(w),"count"===v.func&&E.pushUnique(u._arrayAttrs,p)}}function s(l,u){return u.length}function a(l,u){return l[u[0]]}function o(l,u){return l[u[u.length-1]]}B.supplyDefaults=function(l,u){var h,v={};function p(S,O){return E.coerce(l,v,y,S,O)}if(!p("enabled"))return v;var T=f.findArrayAttributes(u),_={};for(h=0;h<T.length;h++)_[T[h]]=1;var m=p("groups");if(!Array.isArray(m)){if(!_[m])return v.enabled=!1,v;_[m]=0}var w,x=l.aggregations||[],b=v.aggregations=new Array(x.length);function A(S,O){return E.coerce(x[h],w,c,S,O)}for(h=0;h<x.length;h++){w={_index:h};var g=A("target"),I=A("func");A("enabled")&&g&&(_[g]||"count"===I&&void 0===_[g])?("stddev"===I&&A("funcmode"),_[g]=0,b[h]=w):b[h]={enabled:!1,_index:h}}for(h=0;h<T.length;h++)_[T[h]]&&b.push({target:T[h],func:c.func.dflt,enabled:!0,_index:-1});return v},B.calcTransform=function(l,u,h){if(h.enabled){var v=h.groups,p=E.getTargetArray(u,{target:v});if(p){var T,_,m,x={},b={},A=[],g=k(u.transforms,h),I=p.length;for(u._length&&(I=Math.min(I,u._length)),T=0;T<I;T++)void 0===(m=x[_=p[T]])?(x[_]=A.length,A.push([T]),b[x[_]]=g(T)):(A[m].push(T),b[x[_]]=(b[x[_]]||[]).concat(g(T)));h._indexToPoints=b;var S=h.aggregations;for(T=0;T<S.length;T++)i(l,u,A,S[T]);"string"==typeof v&&i(l,u,A,{target:v,func:"first",enabled:!0}),u._length=A.length}}}},14382:function(ae,B,r){"use strict";var D=r(71828),E=r(73972),f=r(89298),k=r(79344).p,M=r(74808),y=M.COMPARISON_OPS,c=M.INTERVAL_OPS,i=M.SET_OPS;B.moduleType="transform",B.name="filter",B.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},operation:{valType:"enumerated",values:[].concat(y).concat(c).concat(i),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},preservegaps:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc"},B.supplyDefaults=function(s){var a={};function o(h,v){return D.coerce(s,a,B.attributes,h,v)}if(o("enabled")){var l=o("target");if(D.isArrayOrTypedArray(l)&&0===l.length)return a.enabled=!1,a;o("preservegaps"),o("operation"),o("value");var u=E.getComponentMethod("calendars","handleDefaults");u(s,a,"valuecalendar",null),u(s,a,"targetcalendar",null)}return a},B.calcTransform=function(s,a,o){if(o.enabled){var l=D.getTargetArray(a,o);if(l){var u=o.target,h=l.length;a._length&&(h=Math.min(h,a._length));var v=o.targetcalendar,p=a._arrayAttrs,T=o.preservegaps;if("string"==typeof u){var _=D.nestedProperty(a,u+"calendar").get();_&&(v=_)}var m,w,x=function(R,L,N){var j=R.operation,X=R.value,F=Array.isArray(X);function Y(Z){return-1!==Z.indexOf(j)}var G,H=function(Z){return L(Z,0,R.valuecalendar)},W=function(Z){return L(Z,0,N)};switch(Y(y)?G=H(F?X[0]:X):Y(c)?G=F?[H(X[0]),H(X[1])]:[H(X),H(X)]:Y(i)&&(G=F?X.map(H):[H(X)]),j){case"=":return function(Z){return W(Z)===G};case"!=":return function(Z){return W(Z)!==G};case"<":return function(Z){return W(Z)<G};case"<=":return function(Z){return W(Z)<=G};case">":return function(Z){return W(Z)>G};case">=":return function(Z){return W(Z)>=G};case"[]":return function(Z){var se=W(Z);return se>=G[0]&&se<=G[1]};case"()":return function(Z){var se=W(Z);return se>G[0]&&se<G[1]};case"[)":return function(Z){var se=W(Z);return se>=G[0]&&se<G[1]};case"(]":return function(Z){var se=W(Z);return se>G[0]&&se<=G[1]};case"][":return function(Z){var se=W(Z);return se<=G[0]||se>=G[1]};case")(":return function(Z){var se=W(Z);return se<G[0]||se>G[1]};case"](":return function(Z){var se=W(Z);return se<=G[0]||se>G[1]};case")[":return function(Z){var se=W(Z);return se<G[0]||se>=G[1]};case"{}":return function(Z){return-1!==G.indexOf(W(Z))};case"}{":return function(Z){return-1===G.indexOf(W(Z))}}}(o,f.getDataToCoordFunc(s,a,u,l),v),b={},A={},g=0;T?(m=function(R){b[R.astr]=D.extendDeep([],R.get()),R.set(new Array(h))},w=function(R,L){var N=b[R.astr][L];R.get()[L]=N}):(m=function(R){b[R.astr]=D.extendDeep([],R.get()),R.set([])},w=function(R,L){var N=b[R.astr][L];R.get().push(N)}),O(m);for(var I=k(a.transforms,o),S=0;S<h;S++)x(l[S])?(O(w,S),A[g++]=I(S)):T&&g++;o._indexToPoints=A,a._length=g}}function O(R,L){for(var N=0;N<p.length;N++)R(D.nestedProperty(a,p[N]),L)}}},43102:function(ae,B,r){"use strict";var D=r(71828),E=r(86281),f=r(74875),k=r(79344).p;function M(y,c){var i,s,a,o,l,u,h,v,p,T,_=c.transform,m=c.transformIndex,w=y.transforms[m].groups,x=k(y.transforms,_);if(!D.isArrayOrTypedArray(w)||0===w.length)return[y];var b=D.filterUnique(w),A=new Array(b.length),g=w.length,I=E.findArrayAttributes(y),S=_.styles||[],O={};for(i=0;i<S.length;i++)O[S[i].target]=S[i].value;_.styles&&(T=D.keyedContainer(_,"styles","target","value.name"));var R={},L={};for(i=0;i<b.length;i++){R[u=b[i]]=i,L[u]=0,(h=A[i]=D.extendDeepNoArrays({},y))._group=u,h.transforms[m]._indexToPoints={};var N=null;for(T&&(N=T.get(u)),h.name=N||""===N?N:D.templateString(_.nameformat,{trace:y.name,group:u}),v=h.transforms,h.transforms=[],s=0;s<v.length;s++)h.transforms[s]=D.extendDeepNoArrays({},v[s]);for(s=0;s<I.length;s++)D.nestedProperty(h,I[s]).set([])}for(a=0;a<I.length;a++){for(o=I[a],s=0,p=[];s<b.length;s++)p[s]=D.nestedProperty(A[s],o).get();for(l=D.nestedProperty(y,o).get(),s=0;s<g;s++)p[R[w[s]]].push(l[s])}for(s=0;s<g;s++)(h=A[R[w[s]]]).transforms[m]._indexToPoints[L[w[s]]]=x(s),L[w[s]]++;for(i=0;i<b.length;i++)u=b[i],f.clearExpandedTraceDefaultColors(h=A[i]),h=D.extendDeepNoArrays(h,O[u]||{});return A}B.moduleType="transform",B.name="groupby",B.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"data_array",dflt:[],editType:"calc"},nameformat:{valType:"string",editType:"calc"},styles:{_isLinkedToArray:"style",target:{valType:"string",editType:"calc"},value:{valType:"any",dflt:{},editType:"calc",_compareAsJSON:!0},editType:"calc"},editType:"calc"},B.supplyDefaults=function(y,c,i){var s,a={};function o(p,T){return D.coerce(y,a,B.attributes,p,T)}if(!o("enabled"))return a;o("groups"),o("nameformat",i._dataLength>1?"%{group} (%{trace})":"%{group}");var l=y.styles,u=a.styles=[];if(l)for(s=0;s<l.length;s++){var h=u[s]={};D.coerce(l[s],u[s],B.attributes.styles,"target");var v=D.coerce(l[s],u[s],B.attributes.styles,"value");D.isPlainObject(v)?h.value=D.extendDeep({},v):v&&delete h.value}return a},B.transform=function(y,c){var i,s,a,o=[];for(s=0;s<y.length;s++)for(i=M(y[s],c),a=0;a<i.length;a++)o.push(i[a]);return o}},79344:function(ae,B){"use strict";B.p=function(r,D){for(var E,f,k=0;k<r.length&&(E=r[k])!==D;k++)E._indexToPoints&&!1!==E.enabled&&(f=E._indexToPoints);return f?function(y){return f[y]}:function(y){return[y]}}},32275:function(ae,B,r){"use strict";var D=r(71828),E=r(89298),f=r(79344).p,k=r(50606).BADNUM;B.moduleType="transform",B.name="sort",B.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},order:{valType:"enumerated",values:["ascending","descending"],dflt:"ascending",editType:"calc"},editType:"calc"},B.supplyDefaults=function(M){var y={};function c(i,s){return D.coerce(M,y,B.attributes,i,s)}return c("enabled")&&(c("target"),c("order")),y},B.calcTransform=function(M,y,c){if(c.enabled){var i=D.getTargetArray(y,c);if(i){var s=c.target,a=i.length;y._length&&(a=Math.min(a,y._length));var o,l,u=y._arrayAttrs,h=function(w,x,b,A){var g,I=new Array(A),S=new Array(A);for(g=0;g<A;g++)I[g]={v:x[g],i:g};for(I.sort(function(O,R){switch(O.order){case"ascending":return function(L,N){var j=R(L.v),X=R(N.v);return j===k?1:X===k?-1:j-X};case"descending":return function(L,N){var j=R(L.v),X=R(N.v);return j===k?1:X===k?-1:X-j}}}(w,b)),g=0;g<A;g++)S[g]=I[g].i;return S}(c,i,E.getDataToCoordFunc(M,y,s,i),a),v=f(y.transforms,c),p={};for(o=0;o<u.length;o++){var T=D.nestedProperty(y,u[o]),_=T.get(),m=new Array(a);for(l=0;l<a;l++)m[l]=_[h[l]];T.set(m)}for(l=0;l<a;l++)p[l]=v(h[l]);c._indexToPoints=p,y._length=a}}}},11506:function(ae,B){"use strict";B.version="2.27.0"},9330:function(ae,B,r){var D,E=r(90386);D=function(){return function(){var f={7386:function(y,c,i){y.exports={alpha_shape:i(2350),convex_hull:i(5537),delaunay_triangulate:i(4419),gl_cone3d:i(1140),gl_error3d:i(3110),gl_heatmap2d:i(6386),gl_line3d:i(6086),gl_mesh3d:i(8116),gl_plot2d:i(2117),gl_plot3d:i(1059),gl_pointcloud2d:i(8271),gl_scatter3d:i(2182),gl_select_box:i(6623),gl_spikes2d:i(3050),gl_streamtube3d:i(7307),gl_surface3d:i(3754),ndarray:i(5050),ndarray_linear_interpolate:i(3581)}},2146:function(y,c,i){"use strict";function a(ve,Oe){return(a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ke,Be){return ke.__proto__=Be,ke})(ve,Oe)}function o(ve){if(void 0===ve)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ve}function l(ve){return(l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Oe){return Oe.__proto__||Object.getPrototypeOf(Oe)})(ve)}function u(ve){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Oe){return typeof Oe}:function(Oe){return Oe&&"function"==typeof Symbol&&Oe.constructor===Symbol&&Oe!==Symbol.prototype?"symbol":typeof Oe})(ve)}var h=i(3910),v=i(3187),p="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;c.lW=m,c.h2=50;var T=2147483647;function _(ve){if(ve>T)throw new RangeError('The value "'+ve+'" is invalid for option "size"');var Oe=new Uint8Array(ve);return Object.setPrototypeOf(Oe,m.prototype),Oe}function m(ve,Oe,ke){if("number"==typeof ve){if("string"==typeof Oe)throw new TypeError('The "string" argument must be of type string. Received type number');return b(ve)}return w(ve,Oe,ke)}function w(ve,Oe,ke){if("string"==typeof ve)return function(Ge,Ke){if("string"==typeof Ke&&""!==Ke||(Ke="utf8"),!m.isEncoding(Ke))throw new TypeError("Unknown encoding: "+Ke);var et=0|S(Ge,Ke),at=_(et),mt=at.write(Ge,Ke);return mt!==et&&(at=at.slice(0,mt)),at}(ve,Oe);if(ArrayBuffer.isView(ve))return function(Ge){if(Le(Ge,Uint8Array)){var Ke=new Uint8Array(Ge);return g(Ke.buffer,Ke.byteOffset,Ke.byteLength)}return A(Ge)}(ve);if(null==ve)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+u(ve));if(Le(ve,ArrayBuffer)||ve&&Le(ve.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Le(ve,SharedArrayBuffer)||ve&&Le(ve.buffer,SharedArrayBuffer)))return g(ve,Oe,ke);if("number"==typeof ve)throw new TypeError('The "value" argument must not be of type number. Received type number');var Be=ve.valueOf&&ve.valueOf();if(null!=Be&&Be!==ve)return m.from(Be,Oe,ke);var We=function(Ge){if(m.isBuffer(Ge)){var Ke=0|I(Ge.length),et=_(Ke);return 0===et.length||Ge.copy(et,0,0,Ke),et}return void 0!==Ge.length?"number"!=typeof Ge.length||Ie(Ge.length)?_(0):A(Ge):"Buffer"===Ge.type&&Array.isArray(Ge.data)?A(Ge.data):void 0}(ve);if(We)return We;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof ve[Symbol.toPrimitive])return m.from(ve[Symbol.toPrimitive]("string"),Oe,ke);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+u(ve))}function x(ve){if("number"!=typeof ve)throw new TypeError('"size" argument must be of type number');if(ve<0)throw new RangeError('The value "'+ve+'" is invalid for option "size"')}function b(ve){return x(ve),_(ve<0?0:0|I(ve))}function A(ve){for(var Oe=ve.length<0?0:0|I(ve.length),ke=_(Oe),Be=0;Be<Oe;Be+=1)ke[Be]=255&ve[Be];return ke}function g(ve,Oe,ke){if(Oe<0||ve.byteLength<Oe)throw new RangeError('"offset" is outside of buffer bounds');if(ve.byteLength<Oe+(ke||0))throw new RangeError('"length" is outside of buffer bounds');var Be;return Be=void 0===Oe&&void 0===ke?new Uint8Array(ve):void 0===ke?new Uint8Array(ve,Oe):new Uint8Array(ve,Oe,ke),Object.setPrototypeOf(Be,m.prototype),Be}function I(ve){if(ve>=T)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+T.toString(16)+" bytes");return 0|ve}function S(ve,Oe){if(m.isBuffer(ve))return ve.length;if(ArrayBuffer.isView(ve)||Le(ve,ArrayBuffer))return ve.byteLength;if("string"!=typeof ve)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+u(ve));var ke=ve.length,Be=arguments.length>2&&!0===arguments[2];if(!Be&&0===ke)return 0;for(var We=!1;;)switch(Oe){case"ascii":case"latin1":case"binary":return ke;case"utf8":case"utf-8":return ge(ve).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*ke;case"hex":return ke>>>1;case"base64":return he(ve).length;default:if(We)return Be?-1:ge(ve).length;Oe=(""+Oe).toLowerCase(),We=!0}}function O(ve,Oe,ke){var Be=!1;if((void 0===Oe||Oe<0)&&(Oe=0),Oe>this.length||((void 0===ke||ke>this.length)&&(ke=this.length),ke<=0)||(ke>>>=0)<=(Oe>>>=0))return"";for(ve||(ve="utf8");;)switch(ve){case"hex":return ne(this,Oe,ke);case"utf8":case"utf-8":return W(this,Oe,ke);case"ascii":return se(this,Oe,ke);case"latin1":case"binary":return re(this,Oe,ke);case"base64":return H(this,Oe,ke);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Q(this,Oe,ke);default:if(Be)throw new TypeError("Unknown encoding: "+ve);ve=(ve+"").toLowerCase(),Be=!0}}function R(ve,Oe,ke){var Be=ve[Oe];ve[Oe]=ve[ke],ve[ke]=Be}function L(ve,Oe,ke,Be,We){if(0===ve.length)return-1;if("string"==typeof ke?(Be=ke,ke=0):ke>2147483647?ke=2147483647:ke<-2147483648&&(ke=-2147483648),Ie(ke=+ke)&&(ke=We?0:ve.length-1),ke<0&&(ke=ve.length+ke),ke>=ve.length){if(We)return-1;ke=ve.length-1}else if(ke<0){if(!We)return-1;ke=0}if("string"==typeof Oe&&(Oe=m.from(Oe,Be)),m.isBuffer(Oe))return 0===Oe.length?-1:N(ve,Oe,ke,Be,We);if("number"==typeof Oe)return Oe&=255,"function"==typeof Uint8Array.prototype.indexOf?We?Uint8Array.prototype.indexOf.call(ve,Oe,ke):Uint8Array.prototype.lastIndexOf.call(ve,Oe,ke):N(ve,[Oe],ke,Be,We);throw new TypeError("val must be string, number or Buffer")}function N(ve,Oe,ke,Be,We){var Ge,Ke=1,et=ve.length,at=Oe.length;if(void 0!==Be&&("ucs2"===(Be=String(Be).toLowerCase())||"ucs-2"===Be||"utf16le"===Be||"utf-16le"===Be)){if(ve.length<2||Oe.length<2)return-1;Ke=2,et/=2,at/=2,ke/=2}function mt(Et,ht){return 1===Ke?Et[ht]:Et.readUInt16BE(ht*Ke)}if(We){var ct=-1;for(Ge=ke;Ge<et;Ge++)if(mt(ve,Ge)===mt(Oe,-1===ct?0:Ge-ct)){if(-1===ct&&(ct=Ge),Ge-ct+1===at)return ct*Ke}else-1!==ct&&(Ge-=Ge-ct),ct=-1}else for(ke+at>et&&(ke=et-at),Ge=ke;Ge>=0;Ge--){for(var kt=!0,Dt=0;Dt<at;Dt++)if(mt(ve,Ge+Dt)!==mt(Oe,Dt)){kt=!1;break}if(kt)return Ge}return-1}function j(ve,Oe,ke,Be){ke=Number(ke)||0;var We=ve.length-ke;Be?(Be=Number(Be))>We&&(Be=We):Be=We;var Ge,Ke=Oe.length;for(Be>Ke/2&&(Be=Ke/2),Ge=0;Ge<Be;++Ge){var et=parseInt(Oe.substr(2*Ge,2),16);if(Ie(et))return Ge;ve[ke+Ge]=et}return Ge}function X(ve,Oe,ke,Be){return _e(ge(Oe,ve.length-ke),ve,ke,Be)}function F(ve,Oe,ke,Be){return _e(function(We){for(var Ge=[],Ke=0;Ke<We.length;++Ke)Ge.push(255&We.charCodeAt(Ke));return Ge}(Oe),ve,ke,Be)}function Y(ve,Oe,ke,Be){return _e(he(Oe),ve,ke,Be)}function G(ve,Oe,ke,Be){return _e(function(We,Ge){for(var Ke,et,mt=[],ct=0;ct<We.length&&!((Ge-=2)<0);++ct)et=(Ke=We.charCodeAt(ct))>>8,mt.push(Ke%256),mt.push(et);return mt}(Oe,ve.length-ke),ve,ke,Be)}function H(ve,Oe,ke){return h.fromByteArray(0===Oe&&ke===ve.length?ve:ve.slice(Oe,ke))}function W(ve,Oe,ke){ke=Math.min(ve.length,ke);for(var Be=[],We=Oe;We<ke;){var Ge=ve[We],Ke=null,et=Ge>239?4:Ge>223?3:Ge>191?2:1;if(We+et<=ke){var at=void 0,mt=void 0,ct=void 0,kt=void 0;switch(et){case 1:Ge<128&&(Ke=Ge);break;case 2:128==(192&(at=ve[We+1]))&&(kt=(31&Ge)<<6|63&at)>127&&(Ke=kt);break;case 3:mt=ve[We+2],128==(192&(at=ve[We+1]))&&128==(192&mt)&&(kt=(15&Ge)<<12|(63&at)<<6|63&mt)>2047&&(kt<55296||kt>57343)&&(Ke=kt);break;case 4:mt=ve[We+2],ct=ve[We+3],128==(192&(at=ve[We+1]))&&128==(192&mt)&&128==(192&ct)&&(kt=(15&Ge)<<18|(63&at)<<12|(63&mt)<<6|63&ct)>65535&&kt<1114112&&(Ke=kt)}}null===Ke?(Ke=65533,et=1):Ke>65535&&(Be.push((Ke-=65536)>>>10&1023|55296),Ke=56320|1023&Ke),Be.push(Ke),We+=et}return function(Dt){var Et=Dt.length;if(Et<=Z)return String.fromCharCode.apply(String,Dt);for(var ht="",pt=0;pt<Et;)ht+=String.fromCharCode.apply(String,Dt.slice(pt,pt+=Z));return ht}(Be)}(m.TYPED_ARRAY_SUPPORT=function(){try{var ve=new Uint8Array(1),Oe={foo:function(){return 42}};return Object.setPrototypeOf(Oe,Uint8Array.prototype),Object.setPrototypeOf(ve,Oe),42===ve.foo()}catch{return!1}}())||typeof console>"u"||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(m.prototype,"parent",{enumerable:!0,get:function(){if(m.isBuffer(this))return this.buffer}}),Object.defineProperty(m.prototype,"offset",{enumerable:!0,get:function(){if(m.isBuffer(this))return this.byteOffset}}),m.poolSize=8192,m.from=function(ve,Oe,ke){return w(ve,Oe,ke)},Object.setPrototypeOf(m.prototype,Uint8Array.prototype),Object.setPrototypeOf(m,Uint8Array),m.alloc=function(ve,Oe,ke){return We=Oe,Ge=ke,x(Be=ve),Be<=0?_(Be):void 0!==We?"string"==typeof Ge?_(Be).fill(We,Ge):_(Be).fill(We):_(Be);var Be,We,Ge},m.allocUnsafe=function(ve){return b(ve)},m.allocUnsafeSlow=function(ve){return b(ve)},m.isBuffer=function(ve){return null!=ve&&!0===ve._isBuffer&&ve!==m.prototype},m.compare=function(ve,Oe){if(Le(ve,Uint8Array)&&(ve=m.from(ve,ve.offset,ve.byteLength)),Le(Oe,Uint8Array)&&(Oe=m.from(Oe,Oe.offset,Oe.byteLength)),!m.isBuffer(ve)||!m.isBuffer(Oe))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(ve===Oe)return 0;for(var ke=ve.length,Be=Oe.length,We=0,Ge=Math.min(ke,Be);We<Ge;++We)if(ve[We]!==Oe[We]){ke=ve[We],Be=Oe[We];break}return ke<Be?-1:Be<ke?1:0},m.isEncoding=function(ve){switch(String(ve).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},m.concat=function(ve,Oe){if(!Array.isArray(ve))throw new TypeError('"list" argument must be an Array of Buffers');if(0===ve.length)return m.alloc(0);var ke;if(void 0===Oe)for(Oe=0,ke=0;ke<ve.length;++ke)Oe+=ve[ke].length;var Be=m.allocUnsafe(Oe),We=0;for(ke=0;ke<ve.length;++ke){var Ge=ve[ke];if(Le(Ge,Uint8Array))We+Ge.length>Be.length?(m.isBuffer(Ge)||(Ge=m.from(Ge)),Ge.copy(Be,We)):Uint8Array.prototype.set.call(Be,Ge,We);else{if(!m.isBuffer(Ge))throw new TypeError('"list" argument must be an Array of Buffers');Ge.copy(Be,We)}We+=Ge.length}return Be},m.byteLength=S,m.prototype._isBuffer=!0,m.prototype.swap16=function(){var ve=this.length;if(ve%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var Oe=0;Oe<ve;Oe+=2)R(this,Oe,Oe+1);return this},m.prototype.swap32=function(){var ve=this.length;if(ve%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var Oe=0;Oe<ve;Oe+=4)R(this,Oe,Oe+3),R(this,Oe+1,Oe+2);return this},m.prototype.swap64=function(){var ve=this.length;if(ve%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var Oe=0;Oe<ve;Oe+=8)R(this,Oe,Oe+7),R(this,Oe+1,Oe+6),R(this,Oe+2,Oe+5),R(this,Oe+3,Oe+4);return this},m.prototype.toString=function(){var ve=this.length;return 0===ve?"":0===arguments.length?W(this,0,ve):O.apply(this,arguments)},m.prototype.toLocaleString=m.prototype.toString,m.prototype.equals=function(ve){if(!m.isBuffer(ve))throw new TypeError("Argument must be a Buffer");return this===ve||0===m.compare(this,ve)},m.prototype.inspect=function(){var ve="",Oe=c.h2;return ve=this.toString("hex",0,Oe).replace(/(.{2})/g,"$1 ").trim(),this.length>Oe&&(ve+=" ... "),"<Buffer "+ve+">"},p&&(m.prototype[p]=m.prototype.inspect),m.prototype.compare=function(ve,Oe,ke,Be,We){if(Le(ve,Uint8Array)&&(ve=m.from(ve,ve.offset,ve.byteLength)),!m.isBuffer(ve))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+u(ve));if(void 0===Oe&&(Oe=0),void 0===ke&&(ke=ve?ve.length:0),void 0===Be&&(Be=0),void 0===We&&(We=this.length),Oe<0||ke>ve.length||Be<0||We>this.length)throw new RangeError("out of range index");if(Be>=We&&Oe>=ke)return 0;if(Be>=We)return-1;if(Oe>=ke)return 1;if(this===ve)return 0;for(var Ge=(We>>>=0)-(Be>>>=0),Ke=(ke>>>=0)-(Oe>>>=0),et=Math.min(Ge,Ke),at=this.slice(Be,We),mt=ve.slice(Oe,ke),ct=0;ct<et;++ct)if(at[ct]!==mt[ct]){Ge=at[ct],Ke=mt[ct];break}return Ge<Ke?-1:Ke<Ge?1:0},m.prototype.includes=function(ve,Oe,ke){return-1!==this.indexOf(ve,Oe,ke)},m.prototype.indexOf=function(ve,Oe,ke){return L(this,ve,Oe,ke,!0)},m.prototype.lastIndexOf=function(ve,Oe,ke){return L(this,ve,Oe,ke,!1)},m.prototype.write=function(ve,Oe,ke,Be){if(void 0===Oe)Be="utf8",ke=this.length,Oe=0;else if(void 0===ke&&"string"==typeof Oe)Be=Oe,ke=this.length,Oe=0;else{if(!isFinite(Oe))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");Oe>>>=0,isFinite(ke)?(ke>>>=0,void 0===Be&&(Be="utf8")):(Be=ke,ke=void 0)}var We=this.length-Oe;if((void 0===ke||ke>We)&&(ke=We),ve.length>0&&(ke<0||Oe<0)||Oe>this.length)throw new RangeError("Attempt to write outside buffer bounds");Be||(Be="utf8");for(var Ge=!1;;)switch(Be){case"hex":return j(this,ve,Oe,ke);case"utf8":case"utf-8":return X(this,ve,Oe,ke);case"ascii":case"latin1":case"binary":return F(this,ve,Oe,ke);case"base64":return Y(this,ve,Oe,ke);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return G(this,ve,Oe,ke);default:if(Ge)throw new TypeError("Unknown encoding: "+Be);Be=(""+Be).toLowerCase(),Ge=!0}},m.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Z=4096;function se(ve,Oe,ke){var Be="";ke=Math.min(ve.length,ke);for(var We=Oe;We<ke;++We)Be+=String.fromCharCode(127&ve[We]);return Be}function re(ve,Oe,ke){var Be="";ke=Math.min(ve.length,ke);for(var We=Oe;We<ke;++We)Be+=String.fromCharCode(ve[We]);return Be}function ne(ve,Oe,ke){var Be=ve.length;(!Oe||Oe<0)&&(Oe=0),(!ke||ke<0||ke>Be)&&(ke=Be);for(var We="",Ge=Oe;Ge<ke;++Ge)We+=De[ve[Ge]];return We}function Q(ve,Oe,ke){for(var Be=ve.slice(Oe,ke),We="",Ge=0;Ge<Be.length-1;Ge+=2)We+=String.fromCharCode(Be[Ge]+256*Be[Ge+1]);return We}function ee(ve,Oe,ke){if(ve%1!=0||ve<0)throw new RangeError("offset is not uint");if(ve+Oe>ke)throw new RangeError("Trying to access beyond buffer length")}function oe(ve,Oe,ke,Be,We,Ge){if(!m.isBuffer(ve))throw new TypeError('"buffer" argument must be a Buffer instance');if(Oe>We||Oe<Ge)throw new RangeError('"value" argument is out of bounds');if(ke+Be>ve.length)throw new RangeError("Index out of range")}function ce(ve,Oe,ke,Be,We){we(Oe,Be,We,ve,ke,7);var Ge=Number(Oe&BigInt(4294967295));ve[ke++]=Ge,ve[ke++]=Ge>>=8,ve[ke++]=Ge>>=8,ve[ke++]=Ge>>=8;var Ke=Number(Oe>>BigInt(32)&BigInt(4294967295));return ve[ke++]=Ke,ve[ke++]=Ke>>=8,ve[ke++]=Ke>>=8,ve[ke++]=Ke>>=8,ke}function fe(ve,Oe,ke,Be,We){we(Oe,Be,We,ve,ke,7);var Ge=Number(Oe&BigInt(4294967295));ve[ke+7]=Ge,ve[ke+6]=Ge>>=8,ve[ke+5]=Ge>>=8,ve[ke+4]=Ge>>=8;var Ke=Number(Oe>>BigInt(32)&BigInt(4294967295));return ve[ke+3]=Ke,ve[ke+2]=Ke>>=8,ve[ke+1]=Ke>>=8,ve[ke]=Ke>>=8,ke+8}function le(ve,Oe,ke,Be,We,Ge){if(ke+Be>ve.length)throw new RangeError("Index out of range");if(ke<0)throw new RangeError("Index out of range")}function pe(ve,Oe,ke,Be,We){return Oe=+Oe,ke>>>=0,We||le(ve,0,ke,4),v.write(ve,Oe,ke,Be,23,4),ke+4}function Me(ve,Oe,ke,Be,We){return Oe=+Oe,ke>>>=0,We||le(ve,0,ke,8),v.write(ve,Oe,ke,Be,52,8),ke+8}m.prototype.slice=function(ve,Oe){var ke=this.length;(ve=~~ve)<0?(ve+=ke)<0&&(ve=0):ve>ke&&(ve=ke),(Oe=void 0===Oe?ke:~~Oe)<0?(Oe+=ke)<0&&(Oe=0):Oe>ke&&(Oe=ke),Oe<ve&&(Oe=ve);var Be=this.subarray(ve,Oe);return Object.setPrototypeOf(Be,m.prototype),Be},m.prototype.readUintLE=m.prototype.readUIntLE=function(ve,Oe,ke){ve>>>=0,Oe>>>=0,ke||ee(ve,Oe,this.length);for(var Be=this[ve],We=1,Ge=0;++Ge<Oe&&(We*=256);)Be+=this[ve+Ge]*We;return Be},m.prototype.readUintBE=m.prototype.readUIntBE=function(ve,Oe,ke){ve>>>=0,Oe>>>=0,ke||ee(ve,Oe,this.length);for(var Be=this[ve+--Oe],We=1;Oe>0&&(We*=256);)Be+=this[ve+--Oe]*We;return Be},m.prototype.readUint8=m.prototype.readUInt8=function(ve,Oe){return ve>>>=0,Oe||ee(ve,1,this.length),this[ve]},m.prototype.readUint16LE=m.prototype.readUInt16LE=function(ve,Oe){return ve>>>=0,Oe||ee(ve,2,this.length),this[ve]|this[ve+1]<<8},m.prototype.readUint16BE=m.prototype.readUInt16BE=function(ve,Oe){return ve>>>=0,Oe||ee(ve,2,this.length),this[ve]<<8|this[ve+1]},m.prototype.readUint32LE=m.prototype.readUInt32LE=function(ve,Oe){return ve>>>=0,Oe||ee(ve,4,this.length),(this[ve]|this[ve+1]<<8|this[ve+2]<<16)+16777216*this[ve+3]},m.prototype.readUint32BE=m.prototype.readUInt32BE=function(ve,Oe){return ve>>>=0,Oe||ee(ve,4,this.length),16777216*this[ve]+(this[ve+1]<<16|this[ve+2]<<8|this[ve+3])},m.prototype.readBigUInt64LE=je(function(ve){ze(ve>>>=0,"offset");var Oe=this[ve],ke=this[ve+7];void 0!==Oe&&void 0!==ke||Se(ve,this.length-8);var Be=Oe+this[++ve]*Math.pow(2,8)+this[++ve]*Math.pow(2,16)+this[++ve]*Math.pow(2,24),We=this[++ve]+this[++ve]*Math.pow(2,8)+this[++ve]*Math.pow(2,16)+ke*Math.pow(2,24);return BigInt(Be)+(BigInt(We)<<BigInt(32))}),m.prototype.readBigUInt64BE=je(function(ve){ze(ve>>>=0,"offset");var Oe=this[ve],ke=this[ve+7];void 0!==Oe&&void 0!==ke||Se(ve,this.length-8);var Be=Oe*Math.pow(2,24)+this[++ve]*Math.pow(2,16)+this[++ve]*Math.pow(2,8)+this[++ve],We=this[++ve]*Math.pow(2,24)+this[++ve]*Math.pow(2,16)+this[++ve]*Math.pow(2,8)+ke;return(BigInt(Be)<<BigInt(32))+BigInt(We)}),m.prototype.readIntLE=function(ve,Oe,ke){ve>>>=0,Oe>>>=0,ke||ee(ve,Oe,this.length);for(var Be=this[ve],We=1,Ge=0;++Ge<Oe&&(We*=256);)Be+=this[ve+Ge]*We;return Be>=(We*=128)&&(Be-=Math.pow(2,8*Oe)),Be},m.prototype.readIntBE=function(ve,Oe,ke){ve>>>=0,Oe>>>=0,ke||ee(ve,Oe,this.length);for(var Be=Oe,We=1,Ge=this[ve+--Be];Be>0&&(We*=256);)Ge+=this[ve+--Be]*We;return Ge>=(We*=128)&&(Ge-=Math.pow(2,8*Oe)),Ge},m.prototype.readInt8=function(ve,Oe){return ve>>>=0,Oe||ee(ve,1,this.length),128&this[ve]?-1*(255-this[ve]+1):this[ve]},m.prototype.readInt16LE=function(ve,Oe){ve>>>=0,Oe||ee(ve,2,this.length);var ke=this[ve]|this[ve+1]<<8;return 32768&ke?4294901760|ke:ke},m.prototype.readInt16BE=function(ve,Oe){ve>>>=0,Oe||ee(ve,2,this.length);var ke=this[ve+1]|this[ve]<<8;return 32768&ke?4294901760|ke:ke},m.prototype.readInt32LE=function(ve,Oe){return ve>>>=0,Oe||ee(ve,4,this.length),this[ve]|this[ve+1]<<8|this[ve+2]<<16|this[ve+3]<<24},m.prototype.readInt32BE=function(ve,Oe){return ve>>>=0,Oe||ee(ve,4,this.length),this[ve]<<24|this[ve+1]<<16|this[ve+2]<<8|this[ve+3]},m.prototype.readBigInt64LE=je(function(ve){ze(ve>>>=0,"offset");var Oe=this[ve],ke=this[ve+7];void 0!==Oe&&void 0!==ke||Se(ve,this.length-8);var Be=this[ve+4]+this[ve+5]*Math.pow(2,8)+this[ve+6]*Math.pow(2,16)+(ke<<24);return(BigInt(Be)<<BigInt(32))+BigInt(Oe+this[++ve]*Math.pow(2,8)+this[++ve]*Math.pow(2,16)+this[++ve]*Math.pow(2,24))}),m.prototype.readBigInt64BE=je(function(ve){ze(ve>>>=0,"offset");var Oe=this[ve],ke=this[ve+7];void 0!==Oe&&void 0!==ke||Se(ve,this.length-8);var Be=(Oe<<24)+this[++ve]*Math.pow(2,16)+this[++ve]*Math.pow(2,8)+this[++ve];return(BigInt(Be)<<BigInt(32))+BigInt(this[++ve]*Math.pow(2,24)+this[++ve]*Math.pow(2,16)+this[++ve]*Math.pow(2,8)+ke)}),m.prototype.readFloatLE=function(ve,Oe){return ve>>>=0,Oe||ee(ve,4,this.length),v.read(this,ve,!0,23,4)},m.prototype.readFloatBE=function(ve,Oe){return ve>>>=0,Oe||ee(ve,4,this.length),v.read(this,ve,!1,23,4)},m.prototype.readDoubleLE=function(ve,Oe){return ve>>>=0,Oe||ee(ve,8,this.length),v.read(this,ve,!0,52,8)},m.prototype.readDoubleBE=function(ve,Oe){return ve>>>=0,Oe||ee(ve,8,this.length),v.read(this,ve,!1,52,8)},m.prototype.writeUintLE=m.prototype.writeUIntLE=function(ve,Oe,ke,Be){ve=+ve,Oe>>>=0,ke>>>=0,Be||oe(this,ve,Oe,ke,Math.pow(2,8*ke)-1,0);var We=1,Ge=0;for(this[Oe]=255&ve;++Ge<ke&&(We*=256);)this[Oe+Ge]=ve/We&255;return Oe+ke},m.prototype.writeUintBE=m.prototype.writeUIntBE=function(ve,Oe,ke,Be){ve=+ve,Oe>>>=0,ke>>>=0,Be||oe(this,ve,Oe,ke,Math.pow(2,8*ke)-1,0);var We=ke-1,Ge=1;for(this[Oe+We]=255&ve;--We>=0&&(Ge*=256);)this[Oe+We]=ve/Ge&255;return Oe+ke},m.prototype.writeUint8=m.prototype.writeUInt8=function(ve,Oe,ke){return ve=+ve,Oe>>>=0,ke||oe(this,ve,Oe,1,255,0),this[Oe]=255&ve,Oe+1},m.prototype.writeUint16LE=m.prototype.writeUInt16LE=function(ve,Oe,ke){return ve=+ve,Oe>>>=0,ke||oe(this,ve,Oe,2,65535,0),this[Oe]=255&ve,this[Oe+1]=ve>>>8,Oe+2},m.prototype.writeUint16BE=m.prototype.writeUInt16BE=function(ve,Oe,ke){return ve=+ve,Oe>>>=0,ke||oe(this,ve,Oe,2,65535,0),this[Oe]=ve>>>8,this[Oe+1]=255&ve,Oe+2},m.prototype.writeUint32LE=m.prototype.writeUInt32LE=function(ve,Oe,ke){return ve=+ve,Oe>>>=0,ke||oe(this,ve,Oe,4,4294967295,0),this[Oe+3]=ve>>>24,this[Oe+2]=ve>>>16,this[Oe+1]=ve>>>8,this[Oe]=255&ve,Oe+4},m.prototype.writeUint32BE=m.prototype.writeUInt32BE=function(ve,Oe,ke){return ve=+ve,Oe>>>=0,ke||oe(this,ve,Oe,4,4294967295,0),this[Oe]=ve>>>24,this[Oe+1]=ve>>>16,this[Oe+2]=ve>>>8,this[Oe+3]=255&ve,Oe+4},m.prototype.writeBigUInt64LE=je(function(ve){return ce(this,ve,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))}),m.prototype.writeBigUInt64BE=je(function(ve){return fe(this,ve,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))}),m.prototype.writeIntLE=function(ve,Oe,ke,Be){if(ve=+ve,Oe>>>=0,!Be){var We=Math.pow(2,8*ke-1);oe(this,ve,Oe,ke,We-1,-We)}var Ge=0,Ke=1,et=0;for(this[Oe]=255&ve;++Ge<ke&&(Ke*=256);)ve<0&&0===et&&0!==this[Oe+Ge-1]&&(et=1),this[Oe+Ge]=(ve/Ke>>0)-et&255;return Oe+ke},m.prototype.writeIntBE=function(ve,Oe,ke,Be){if(ve=+ve,Oe>>>=0,!Be){var We=Math.pow(2,8*ke-1);oe(this,ve,Oe,ke,We-1,-We)}var Ge=ke-1,Ke=1,et=0;for(this[Oe+Ge]=255&ve;--Ge>=0&&(Ke*=256);)ve<0&&0===et&&0!==this[Oe+Ge+1]&&(et=1),this[Oe+Ge]=(ve/Ke>>0)-et&255;return Oe+ke},m.prototype.writeInt8=function(ve,Oe,ke){return ve=+ve,Oe>>>=0,ke||oe(this,ve,Oe,1,127,-128),ve<0&&(ve=255+ve+1),this[Oe]=255&ve,Oe+1},m.prototype.writeInt16LE=function(ve,Oe,ke){return ve=+ve,Oe>>>=0,ke||oe(this,ve,Oe,2,32767,-32768),this[Oe]=255&ve,this[Oe+1]=ve>>>8,Oe+2},m.prototype.writeInt16BE=function(ve,Oe,ke){return ve=+ve,Oe>>>=0,ke||oe(this,ve,Oe,2,32767,-32768),this[Oe]=ve>>>8,this[Oe+1]=255&ve,Oe+2},m.prototype.writeInt32LE=function(ve,Oe,ke){return ve=+ve,Oe>>>=0,ke||oe(this,ve,Oe,4,2147483647,-2147483648),this[Oe]=255&ve,this[Oe+1]=ve>>>8,this[Oe+2]=ve>>>16,this[Oe+3]=ve>>>24,Oe+4},m.prototype.writeInt32BE=function(ve,Oe,ke){return ve=+ve,Oe>>>=0,ke||oe(this,ve,Oe,4,2147483647,-2147483648),ve<0&&(ve=4294967295+ve+1),this[Oe]=ve>>>24,this[Oe+1]=ve>>>16,this[Oe+2]=ve>>>8,this[Oe+3]=255&ve,Oe+4},m.prototype.writeBigInt64LE=je(function(ve){return ce(this,ve,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),m.prototype.writeBigInt64BE=je(function(ve){return fe(this,ve,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),m.prototype.writeFloatLE=function(ve,Oe,ke){return pe(this,ve,Oe,!0,ke)},m.prototype.writeFloatBE=function(ve,Oe,ke){return pe(this,ve,Oe,!1,ke)},m.prototype.writeDoubleLE=function(ve,Oe,ke){return Me(this,ve,Oe,!0,ke)},m.prototype.writeDoubleBE=function(ve,Oe,ke){return Me(this,ve,Oe,!1,ke)},m.prototype.copy=function(ve,Oe,ke,Be){if(!m.isBuffer(ve))throw new TypeError("argument should be a Buffer");if(ke||(ke=0),Be||0===Be||(Be=this.length),Oe>=ve.length&&(Oe=ve.length),Oe||(Oe=0),Be>0&&Be<ke&&(Be=ke),Be===ke||0===ve.length||0===this.length)return 0;if(Oe<0)throw new RangeError("targetStart out of bounds");if(ke<0||ke>=this.length)throw new RangeError("Index out of range");if(Be<0)throw new RangeError("sourceEnd out of bounds");Be>this.length&&(Be=this.length),ve.length-Oe<Be-ke&&(Be=ve.length-Oe+ke);var We=Be-ke;return this===ve&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(Oe,ke,Be):Uint8Array.prototype.set.call(ve,this.subarray(ke,Be),Oe),We},m.prototype.fill=function(ve,Oe,ke,Be){if("string"==typeof ve){if("string"==typeof Oe?(Be=Oe,Oe=0,ke=this.length):"string"==typeof ke&&(Be=ke,ke=this.length),void 0!==Be&&"string"!=typeof Be)throw new TypeError("encoding must be a string");if("string"==typeof Be&&!m.isEncoding(Be))throw new TypeError("Unknown encoding: "+Be);if(1===ve.length){var We=ve.charCodeAt(0);("utf8"===Be&&We<128||"latin1"===Be)&&(ve=We)}}else"number"==typeof ve?ve&=255:"boolean"==typeof ve&&(ve=Number(ve));if(Oe<0||this.length<Oe||this.length<ke)throw new RangeError("Out of range index");if(ke<=Oe)return this;var Ge;if(Oe>>>=0,ke=void 0===ke?this.length:ke>>>0,ve||(ve=0),"number"==typeof ve)for(Ge=Oe;Ge<ke;++Ge)this[Ge]=ve;else{var Ke=m.isBuffer(ve)?ve:m.from(ve,Be),et=Ke.length;if(0===et)throw new TypeError('The value "'+ve+'" is invalid for argument "value"');for(Ge=0;Ge<ke-Oe;++Ge)this[Ge+Oe]=Ke[Ge%et]}return this};var Ae={};function be(ve,Oe,ke){Ae[ve]=function(Be){!function(ct,kt){if("function"!=typeof kt&&null!==kt)throw new TypeError("Super expression must either be null or a function");ct.prototype=Object.create(kt&&kt.prototype,{constructor:{value:ct,writable:!0,configurable:!0}}),Object.defineProperty(ct,"prototype",{writable:!1}),kt&&a(ct,kt)}(mt,Be);var We,Ge,Ke,et,at=(Ke=mt,et=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var ct,kt=l(Ke);if(et){var Dt=l(this).constructor;ct=Reflect.construct(kt,arguments,Dt)}else ct=kt.apply(this,arguments);return function(Et,ht){if(ht&&("object"===u(ht)||"function"==typeof ht))return ht;if(void 0!==ht)throw new TypeError("Derived constructors may only return object or undefined");return o(Et)}(this,ct)});function mt(){var ct;return function(kt,Dt){if(!(kt instanceof Dt))throw new TypeError("Cannot call a class as a function")}(this,mt),ct=at.call(this),Object.defineProperty(o(ct),"message",{value:Oe.apply(o(ct),arguments),writable:!0,configurable:!0}),ct.name="".concat(ct.name," [").concat(ve,"]"),delete ct.name,ct}return We=mt,(Ge=[{key:"code",get:function(){return ve},set:function(ct){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ct,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(ve,"]: ").concat(this.message)}}])&&function s(ve,Oe){for(var ke=0;ke<Oe.length;ke++){var Be=Oe[ke];Be.enumerable=Be.enumerable||!1,Be.configurable=!0,"value"in Be&&(Be.writable=!0),Object.defineProperty(ve,Be.key,Be)}}(We.prototype,Ge),Object.defineProperty(We,"prototype",{writable:!1}),mt}(ke)}function ye(ve){for(var Oe="",ke=ve.length,Be="-"===ve[0]?1:0;ke>=Be+4;ke-=3)Oe="_".concat(ve.slice(ke-3,ke)).concat(Oe);return"".concat(ve.slice(0,ke)).concat(Oe)}function we(ve,Oe,ke,Be,We,Ge){if(ve>ke||ve<Oe){var Ke,et="bigint"==typeof Oe?"n":"";throw Ke=Ge>3?0===Oe||Oe===BigInt(0)?">= 0".concat(et," and < 2").concat(et," ** ").concat(8*(Ge+1)).concat(et):">= -(2".concat(et," ** ").concat(8*(Ge+1)-1).concat(et,") and < 2 ** ")+"".concat(8*(Ge+1)-1).concat(et):">= ".concat(Oe).concat(et," and <= ").concat(ke).concat(et),new Ae.ERR_OUT_OF_RANGE("value",Ke,ve)}var at,mt,ct;at=Be,ct=Ge,ze(mt=We,"offset"),void 0!==at[mt]&&void 0!==at[mt+ct]||Se(mt,at.length-(ct+1))}function ze(ve,Oe){if("number"!=typeof ve)throw new Ae.ERR_INVALID_ARG_TYPE(Oe,"number",ve)}function Se(ve,Oe,ke){throw Math.floor(ve)!==ve?(ze(ve,ke),new Ae.ERR_OUT_OF_RANGE(ke||"offset","an integer",ve)):Oe<0?new Ae.ERR_BUFFER_OUT_OF_BOUNDS:new Ae.ERR_OUT_OF_RANGE(ke||"offset",">= ".concat(ke?1:0," and <= ").concat(Oe),ve)}be("ERR_BUFFER_OUT_OF_BOUNDS",function(ve){return ve?"".concat(ve," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),be("ERR_INVALID_ARG_TYPE",function(ve,Oe){return'The "'.concat(ve,'" argument must be of type number. Received type ').concat(u(Oe))},TypeError),be("ERR_OUT_OF_RANGE",function(ve,Oe,ke){var Be='The value of "'.concat(ve,'" is out of range.'),We=ke;return Number.isInteger(ke)&&Math.abs(ke)>Math.pow(2,32)?We=ye(String(ke)):"bigint"==typeof ke&&(We=String(ke),(ke>Math.pow(BigInt(2),BigInt(32))||ke<-Math.pow(BigInt(2),BigInt(32)))&&(We=ye(We)),We+="n"),Be+" It must be ".concat(Oe,". Received ").concat(We)},RangeError);var Ce=/[^+/0-9A-Za-z-_]/g;function ge(ve,Oe){var ke;Oe=Oe||1/0;for(var Be=ve.length,We=null,Ge=[],Ke=0;Ke<Be;++Ke){if((ke=ve.charCodeAt(Ke))>55295&&ke<57344){if(!We){if(ke>56319){(Oe-=3)>-1&&Ge.push(239,191,189);continue}if(Ke+1===Be){(Oe-=3)>-1&&Ge.push(239,191,189);continue}We=ke;continue}if(ke<56320){(Oe-=3)>-1&&Ge.push(239,191,189),We=ke;continue}ke=65536+(We-55296<<10|ke-56320)}else We&&(Oe-=3)>-1&&Ge.push(239,191,189);if(We=null,ke<128){if((Oe-=1)<0)break;Ge.push(ke)}else if(ke<2048){if((Oe-=2)<0)break;Ge.push(ke>>6|192,63&ke|128)}else if(ke<65536){if((Oe-=3)<0)break;Ge.push(ke>>12|224,ke>>6&63|128,63&ke|128)}else{if(!(ke<1114112))throw new Error("Invalid code point");if((Oe-=4)<0)break;Ge.push(ke>>18|240,ke>>12&63|128,ke>>6&63|128,63&ke|128)}}return Ge}function he(ve){return h.toByteArray(function(Oe){if((Oe=(Oe=Oe.split("=")[0]).trim().replace(Ce,"")).length<2)return"";for(;Oe.length%4!=0;)Oe+="=";return Oe}(ve))}function _e(ve,Oe,ke,Be){var We;for(We=0;We<Be&&!(We+ke>=Oe.length||We>=ve.length);++We)Oe[We+ke]=ve[We];return We}function Le(ve,Oe){return ve instanceof Oe||null!=ve&&null!=ve.constructor&&null!=ve.constructor.name&&ve.constructor.name===Oe.name}function Ie(ve){return ve!=ve}var De=function(){for(var ve="0123456789abcdef",Oe=new Array(256),ke=0;ke<16;++ke)for(var Be=16*ke,We=0;We<16;++We)Oe[Be+We]=ve[ke]+ve[We];return Oe}();function je(ve){return typeof BigInt>"u"?qe:ve}function qe(){throw new Error("BigInt not supported")}},2321:function(y){"use strict";y.exports=a,y.exports.isMobile=a,y.exports.default=a;var c=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,i=/CrOS/,s=/android|ipad|playbook|silk/i;function a(o){o||(o={});var l=o.ua;if(l||typeof navigator>"u"||(l=navigator.userAgent),l&&l.headers&&"string"==typeof l.headers["user-agent"]&&(l=l.headers["user-agent"]),"string"!=typeof l)return!1;var u=c.test(l)&&!i.test(l)||!!o.tablet&&s.test(l);return!u&&o.tablet&&o.featureDetect&&navigator&&navigator.maxTouchPoints>1&&-1!==l.indexOf("Macintosh")&&-1!==l.indexOf("Safari")&&(u=!0),u}},3910:function(y,c){"use strict";c.byteLength=function(v){var p=u(v),_=p[1];return 3*(p[0]+_)/4-_},c.toByteArray=function(v){var p,T,S,_=u(v),m=_[0],w=_[1],x=new a(3*(m+(S=w))/4-S),b=0,A=w>0?m-4:m;for(T=0;T<A;T+=4)p=s[v.charCodeAt(T)]<<18|s[v.charCodeAt(T+1)]<<12|s[v.charCodeAt(T+2)]<<6|s[v.charCodeAt(T+3)],x[b++]=p>>16&255,x[b++]=p>>8&255,x[b++]=255&p;return 2===w&&(p=s[v.charCodeAt(T)]<<2|s[v.charCodeAt(T+1)]>>4,x[b++]=255&p),1===w&&(p=s[v.charCodeAt(T)]<<10|s[v.charCodeAt(T+1)]<<4|s[v.charCodeAt(T+2)]>>2,x[b++]=p>>8&255,x[b++]=255&p),x},c.fromByteArray=function(v){for(var p,T=v.length,_=T%3,m=[],w=16383,x=0,b=T-_;x<b;x+=w)m.push(h(v,x,x+w>b?b:x+w));return 1===_?m.push(i[(p=v[T-1])>>2]+i[p<<4&63]+"=="):2===_&&m.push(i[(p=(v[T-2]<<8)+v[T-1])>>10]+i[p>>4&63]+i[p<<2&63]+"="),m.join("")};for(var i=[],s=[],a=typeof Uint8Array<"u"?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l=0;l<64;++l)i[l]=o[l],s[o.charCodeAt(l)]=l;function u(v){var p=v.length;if(p%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var T=v.indexOf("=");return-1===T&&(T=p),[T,T===p?0:4-T%4]}function h(v,p,T){for(var m,w=[],x=p;x<T;x+=3)w.push(i[(m=(v[x]<<16&16711680)+(v[x+1]<<8&65280)+(255&v[x+2]))>>18&63]+i[m>>12&63]+i[m>>6&63]+i[63&m]);return w.join("")}s["-".charCodeAt(0)]=62,s["_".charCodeAt(0)]=63},3187:function(y,c){c.read=function(i,s,a,o,l){var u,h,v=8*l-o-1,p=(1<<v)-1,T=p>>1,_=-7,m=a?l-1:0,w=a?-1:1,x=i[s+m];for(m+=w,u=x&(1<<-_)-1,x>>=-_,_+=v;_>0;u=256*u+i[s+m],m+=w,_-=8);for(h=u&(1<<-_)-1,u>>=-_,_+=o;_>0;h=256*h+i[s+m],m+=w,_-=8);if(0===u)u=1-T;else{if(u===p)return h?NaN:1/0*(x?-1:1);h+=Math.pow(2,o),u-=T}return(x?-1:1)*h*Math.pow(2,u-o)},c.write=function(i,s,a,o,l,u){var h,v,p,T=8*u-l-1,_=(1<<T)-1,m=_>>1,w=23===l?Math.pow(2,-24)-Math.pow(2,-77):0,x=o?0:u-1,b=o?1:-1,A=s<0||0===s&&1/s<0?1:0;for(s=Math.abs(s),isNaN(s)||s===1/0?(v=isNaN(s)?1:0,h=_):(h=Math.floor(Math.log(s)/Math.LN2),s*(p=Math.pow(2,-h))<1&&(h--,p*=2),(s+=h+m>=1?w/p:w*Math.pow(2,1-m))*p>=2&&(h++,p/=2),h+m>=_?(v=0,h=_):h+m>=1?(v=(s*p-1)*Math.pow(2,l),h+=m):(v=s*Math.pow(2,m-1)*Math.pow(2,l),h=0));l>=8;i[a+x]=255&v,x+=b,v/=256,l-=8);for(h=h<<l|v,T+=l;T>0;i[a+x]=255&h,x+=b,h/=256,T-=8);i[a+x-b]|=128*A}},1152:function(y,c,i){"use strict";y.exports=function(h){var v=(h=h||{}).eye||[0,0,1],p=h.center||[0,0,0],T=h.up||[0,1,0],_=h.distanceLimits||[0,1/0],m=h.mode||"turntable",w=s(),x=a(),b=o();return w.setDistanceLimits(_[0],_[1]),w.lookAt(0,v,p,T),x.setDistanceLimits(_[0],_[1]),x.lookAt(0,v,p,T),b.setDistanceLimits(_[0],_[1]),b.lookAt(0,v,p,T),new l({turntable:w,orbit:x,matrix:b},m)};var s=i(3440),a=i(7774),o=i(9298);function l(h,v){this._controllerNames=Object.keys(h),this._controllerList=this._controllerNames.map(function(p){return h[p]}),this._mode=v,this._active=h[v],this._active||(this._mode="turntable",this._active=h.turntable),this.modes=this._controllerNames,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}var u=l.prototype;u.flush=function(h){for(var v=this._controllerList,p=0;p<v.length;++p)v[p].flush(h)},u.idle=function(h){for(var v=this._controllerList,p=0;p<v.length;++p)v[p].idle(h)},u.lookAt=function(h,v,p,T){for(var _=this._controllerList,m=0;m<_.length;++m)_[m].lookAt(h,v,p,T)},u.rotate=function(h,v,p,T){for(var _=this._controllerList,m=0;m<_.length;++m)_[m].rotate(h,v,p,T)},u.pan=function(h,v,p,T){for(var _=this._controllerList,m=0;m<_.length;++m)_[m].pan(h,v,p,T)},u.translate=function(h,v,p,T){for(var _=this._controllerList,m=0;m<_.length;++m)_[m].translate(h,v,p,T)},u.setMatrix=function(h,v){for(var p=this._controllerList,T=0;T<p.length;++T)p[T].setMatrix(h,v)},u.setDistanceLimits=function(h,v){for(var p=this._controllerList,T=0;T<p.length;++T)p[T].setDistanceLimits(h,v)},u.setDistance=function(h,v){for(var p=this._controllerList,T=0;T<p.length;++T)p[T].setDistance(h,v)},u.recalcMatrix=function(h){this._active.recalcMatrix(h)},u.getDistance=function(h){return this._active.getDistance(h)},u.getDistanceLimits=function(h){return this._active.getDistanceLimits(h)},u.lastT=function(){return this._active.lastT()},u.setMode=function(h){if(h!==this._mode){var v=this._controllerNames.indexOf(h);if(!(v<0)){var p=this._active,T=this._controllerList[v],_=Math.max(p.lastT(),T.lastT());p.recalcMatrix(_),T.setMatrix(_,p.computedMatrix),this._active=T,this._mode=h,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}}},u.getMode=function(){return this._mode}},8126:function(y,c,i){"use strict";var s=typeof WeakMap>"u"?i(5346):WeakMap,a=i(5827),o=i(2944),l=new s;y.exports=function(u){var h=l.get(u),v=h&&(h._triangleBuffer.handle||h._triangleBuffer.buffer);if(!v||!u.isBuffer(v)){var p=a(u,new Float32Array([-1,-1,-1,4,4,-1]));(h=o(u,[{buffer:p,type:u.FLOAT,size:2}]))._triangleBuffer=p,l.set(u,h)}h.bind(),u.drawArrays(u.TRIANGLES,0,3),h.unbind()}},8008:function(y,c,i){var s=i(4930);y.exports=function(a,o,l){o="number"==typeof o?o:1,l=l||": ";var u=a.split(/\r?\n/),h=String(u.length+o-1).length;return u.map(function(v,p){var T=p+o,_=String(T).length;return s(T,h-_)+l+v}).join("\n")}},2153:function(y,c,i){"use strict";y.exports=function(o){var l=o.length;if(0===l)return[];if(1===l)return[0];for(var u=o[0].length,h=[o[0]],v=[0],p=1;p<l;++p)if(h.push(o[p]),a(h,u)){if(v.push(p),v.length===u+1)return v}else h.pop();return v};var s=i(417);function a(o,l){for(var u=new Array(l+1),h=0;h<o.length;++h)u[h]=o[h];for(h=0;h<=o.length;++h){for(var v=o.length;v<=l;++v){for(var p=new Array(l),T=0;T<l;++T)p[T]=Math.pow(v+1-h,T);u[v]=p}if(s.apply(void 0,u))return!0}return!1}},4653:function(y,c,i){"use strict";y.exports=function(o,l){return s(l).filter(function(u){for(var h=new Array(u.length),v=0;v<u.length;++v)h[v]=l[u[v]];return a(h)*o<1})};var s=i(4419),a=i(1778)},2350:function(y,c,i){y.exports=function(o,l){return a(s(o,l))};var s=i(4653),a=i(8691)},7896:function(y){y.exports=function(c){return atob(c)}},957:function(y,c,i){"use strict";y.exports=function(o,l){for(var u=l.length,h=new Array(u+1),v=0;v<u;++v){for(var p=new Array(u+1),T=0;T<=u;++T)p[T]=o[T][v];h[v]=p}for(h[u]=new Array(u+1),v=0;v<=u;++v)h[u][v]=1;var _=new Array(u+1);for(v=0;v<u;++v)_[v]=l[v];_[u]=1;var m=s(h,_),w=a(m[u+1]);0===w&&(w=1);var x=new Array(u+1);for(v=0;v<=u;++v)x[v]=a(m[v])/w;return x};var s=i(6606);function a(o){for(var l=0,u=0;u<o.length;++u)l+=o[u];return l}},1539:function(y,c,i){"use strict";var s=i(8524);y.exports=function(a,o){return s(a[0].mul(o[1]).add(o[0].mul(a[1])),a[1].mul(o[1]))}},8846:function(y){"use strict";y.exports=function(c,i){return c[0].mul(i[1]).cmp(i[0].mul(c[1]))}},9189:function(y,c,i){"use strict";var s=i(8524);y.exports=function(a,o){return s(a[0].mul(o[1]),a[1].mul(o[0]))}},5125:function(y,c,i){"use strict";var s=i(234),a=i(3218),o=i(5514),l=i(2813),u=i(8524),h=i(9189);y.exports=function v(p,T){if(s(p))return T?h(p,v(T)):[p[0].clone(),p[1].clone()];var _,m,w=0;if(a(p))_=p.clone();else if("string"==typeof p)_=l(p);else{if(0===p)return[o(0),o(1)];if(p===Math.floor(p))_=o(p);else{for(;p!==Math.floor(p);)p*=Math.pow(2,256),w-=256;_=o(p)}}if(s(T))_.mul(T[1]),m=T[0].clone();else if(a(T))m=T.clone();else if("string"==typeof T)m=l(T);else if(T)if(T===Math.floor(T))m=o(T);else{for(;T!==Math.floor(T);)T*=Math.pow(2,256),w+=256;m=o(T)}else m=o(1);return w>0?_=_.ushln(w):w<0&&(m=m.ushln(-w)),u(_,m)}},234:function(y,c,i){"use strict";var s=i(3218);y.exports=function(a){return Array.isArray(a)&&2===a.length&&s(a[0])&&s(a[1])}},4275:function(y,c,i){"use strict";var s=i(1928);y.exports=function(a){return a.cmp(new s(0))}},9958:function(y,c,i){"use strict";var s=i(4275);y.exports=function(a){var o=a.length,l=a.words,u=0;if(1===o)u=l[0];else if(2===o)u=l[0]+67108864*l[1];else for(var h=0;h<o;h++)u+=l[h]*Math.pow(67108864,h);return s(a)*u}},1112:function(y,c,i){"use strict";var s=i(8362),a=i(2288).countTrailingZeros;y.exports=function(o){var l=a(s.lo(o));if(l<32)return l;var u=a(s.hi(o));return u>20?52:u+32}},3218:function(y,c,i){"use strict";i(1928),y.exports=function(s){return s&&"object"==typeof s&&!!s.words}},5514:function(y,c,i){"use strict";var s=i(1928),a=i(8362);y.exports=function(o){var l=a.exponent(o);return l<52?new s(o):new s(o*Math.pow(2,52-l)).ushln(l-52)}},8524:function(y,c,i){"use strict";var s=i(5514),a=i(4275);y.exports=function(o,l){var u=a(o),h=a(l);if(0===u)return[s(0),s(1)];if(0===h)return[s(0),s(0)];h<0&&(o=o.neg(),l=l.neg());var v=o.gcd(l);return v.cmpn(1)?[o.div(v),l.div(v)]:[o,l]}},2813:function(y,c,i){"use strict";var s=i(1928);y.exports=function(a){return new s(a)}},3962:function(y,c,i){"use strict";var s=i(8524);y.exports=function(a,o){return s(a[0].mul(o[0]),a[1].mul(o[1]))}},4951:function(y,c,i){"use strict";var s=i(4275);y.exports=function(a){return s(a[0])*s(a[1])}},4354:function(y,c,i){"use strict";var s=i(8524);y.exports=function(a,o){return s(a[0].mul(o[1]).sub(a[1].mul(o[0])),a[1].mul(o[1]))}},7999:function(y,c,i){"use strict";var s=i(9958),a=i(1112);y.exports=function(o){var l=o[0],u=o[1];if(0===l.cmpn(0))return 0;var h=l.abs().divmod(u.abs()),p=s(h.div),T=h.mod,_=l.negative!==u.negative?-1:1;if(0===T.cmpn(0))return _*p;if(p){var m=a(p)+4;return _*(p+(x=s(T.ushln(m).divRound(u)))*Math.pow(2,-m))}var w=u.bitLength()-T.bitLength()+53,x=s(T.ushln(w).divRound(u));return w<1023?_*x*Math.pow(2,-w):_*(x*=Math.pow(2,-1023))*Math.pow(2,1023-w)}},5070:function(y){"use strict";function c(u,h,v,p,T){for(var _=T+1;p<=T;){var m=p+T>>>1,w=u[m];(void 0!==v?v(w,h):w-h)>=0?(_=m,T=m-1):p=m+1}return _}function i(u,h,v,p,T){for(var _=T+1;p<=T;){var m=p+T>>>1,w=u[m];(void 0!==v?v(w,h):w-h)>0?(_=m,T=m-1):p=m+1}return _}function s(u,h,v,p,T){for(var _=p-1;p<=T;){var m=p+T>>>1,w=u[m];(void 0!==v?v(w,h):w-h)<0?(_=m,p=m+1):T=m-1}return _}function a(u,h,v,p,T){for(var _=p-1;p<=T;){var m=p+T>>>1,w=u[m];(void 0!==v?v(w,h):w-h)<=0?(_=m,p=m+1):T=m-1}return _}function o(u,h,v,p,T){for(;p<=T;){var _=p+T>>>1,m=u[_],w=void 0!==v?v(m,h):m-h;if(0===w)return _;w<=0?p=_+1:T=_-1}return-1}function l(u,h,v,p,T,_){return"function"==typeof v?_(u,h,v,void 0===p?0:0|p,void 0===T?u.length-1:0|T):_(u,h,void 0,void 0===v?0:0|v,void 0===p?u.length-1:0|p)}y.exports={ge:function(u,h,v,p,T){return l(u,h,v,p,T,c)},gt:function(u,h,v,p,T){return l(u,h,v,p,T,i)},lt:function(u,h,v,p,T){return l(u,h,v,p,T,s)},le:function(u,h,v,p,T){return l(u,h,v,p,T,a)},eq:function(u,h,v,p,T){return l(u,h,v,p,T,o)}}},2288:function(y,c){"use strict";function i(a){var o=32;return(a&=-a)&&o--,65535&a&&(o-=16),16711935&a&&(o-=8),252645135&a&&(o-=4),858993459&a&&(o-=2),1431655765&a&&(o-=1),o}c.INT_BITS=32,c.INT_MAX=2147483647,c.INT_MIN=-2147483648,c.sign=function(a){return(a>0)-(a<0)},c.abs=function(a){var o=a>>31;return(a^o)-o},c.min=function(a,o){return o^(a^o)&-(a<o)},c.max=function(a,o){return a^(a^o)&-(a<o)},c.isPow2=function(a){return!(a&a-1||!a)},c.log2=function(a){var o,l;return o=(a>65535)<<4,o|=l=((a>>>=o)>255)<<3,o|=l=((a>>>=l)>15)<<2,(o|=l=((a>>>=l)>3)<<1)|(a>>>=l)>>1},c.log10=function(a){return a>=1e9?9:a>=1e8?8:a>=1e7?7:a>=1e6?6:a>=1e5?5:a>=1e4?4:a>=1e3?3:a>=100?2:a>=10?1:0},c.popCount=function(a){return 16843009*((a=(858993459&(a-=a>>>1&1431655765))+(a>>>2&858993459))+(a>>>4)&252645135)>>>24},c.countTrailingZeros=i,c.nextPow2=function(a){return a+=0===a,--a,a|=a>>>1,a|=a>>>2,a|=a>>>4,1+((a|=a>>>8)|a>>>16)},c.prevPow2=function(a){return a|=a>>>1,a|=a>>>2,a|=a>>>4,a|=a>>>8,(a|=a>>>16)-(a>>>1)},c.parity=function(a){return a^=a>>>16,a^=a>>>8,a^=a>>>4,27030>>>(a&=15)&1};var s=new Array(256);(function(a){for(var o=0;o<256;++o){var l=o,u=o,h=7;for(l>>>=1;l;l>>>=1)u<<=1,u|=1&l,--h;a[o]=u<<h&255}})(s),c.reverse=function(a){return s[255&a]<<24|s[a>>>8&255]<<16|s[a>>>16&255]<<8|s[a>>>24&255]},c.interleave2=function(a,o){return(a=1431655765&((a=858993459&((a=252645135&((a=16711935&((a&=65535)|a<<8))|a<<4))|a<<2))|a<<1))|(o=1431655765&((o=858993459&((o=252645135&((o=16711935&((o&=65535)|o<<8))|o<<4))|o<<2))|o<<1))<<1},c.deinterleave2=function(a,o){return(a=65535&((a=16711935&((a=252645135&((a=858993459&((a=a>>>o&1431655765)|a>>>1))|a>>>2))|a>>>4))|a>>>16))<<16>>16},c.interleave3=function(a,o,l){return a=1227133513&((a=3272356035&((a=251719695&((a=4278190335&((a&=1023)|a<<16))|a<<8))|a<<4))|a<<2),(a|=(o=1227133513&((o=3272356035&((o=251719695&((o=4278190335&((o&=1023)|o<<16))|o<<8))|o<<4))|o<<2))<<1)|(l=1227133513&((l=3272356035&((l=251719695&((l=4278190335&((l&=1023)|l<<16))|l<<8))|l<<4))|l<<2))<<2},c.deinterleave3=function(a,o){return(a=1023&((a=4278190335&((a=251719695&((a=3272356035&((a=a>>>o&1227133513)|a>>>2))|a>>>4))|a>>>8))|a>>>16))<<22>>22},c.nextCombination=function(a){var o=a|a-1;return o+1|(~o&-~o)-1>>>i(a)+1}},1928:function(y,c,i){!function(s,a){"use strict";function o(F,Y){if(!F)throw new Error(Y||"Assertion failed")}function l(F,Y){F.super_=Y;var G=function(){};G.prototype=Y.prototype,F.prototype=new G,F.prototype.constructor=F}function u(F,Y,G){if(u.isBN(F))return F;this.negative=0,this.words=null,this.length=0,this.red=null,null!==F&&("le"!==Y&&"be"!==Y||(G=Y,Y=10),this._init(F||0,Y||10,G||"be"))}var h;"object"==typeof s?s.exports=u:a.BN=u,u.BN=u,u.wordSize=26;try{h=typeof window<"u"&&void 0!==window.Buffer?window.Buffer:i(6601).Buffer}catch{}function v(F,Y){var G=F.charCodeAt(Y);return G>=65&&G<=70?G-55:G>=97&&G<=102?G-87:G-48&15}function p(F,Y,G){var H=v(F,G);return G-1>=Y&&(H|=v(F,G-1)<<4),H}function T(F,Y,G,H){for(var W=0,Z=Math.min(F.length,G),se=Y;se<Z;se++){var re=F.charCodeAt(se)-48;W*=H,W+=re>=49?re-49+10:re>=17?re-17+10:re}return W}u.isBN=function(F){return F instanceof u||null!==F&&"object"==typeof F&&F.constructor.wordSize===u.wordSize&&Array.isArray(F.words)},u.max=function(F,Y){return F.cmp(Y)>0?F:Y},u.min=function(F,Y){return F.cmp(Y)<0?F:Y},u.prototype._init=function(F,Y,G){if("number"==typeof F)return this._initNumber(F,Y,G);if("object"==typeof F)return this._initArray(F,Y,G);"hex"===Y&&(Y=16),o(Y===(0|Y)&&Y>=2&&Y<=36);var H=0;"-"===(F=F.toString().replace(/\s+/g,""))[0]&&(H++,this.negative=1),H<F.length&&(16===Y?this._parseHex(F,H,G):(this._parseBase(F,Y,H),"le"===G&&this._initArray(this.toArray(),Y,G)))},u.prototype._initNumber=function(F,Y,G){F<0&&(this.negative=1,F=-F),F<67108864?(this.words=[67108863&F],this.length=1):F<4503599627370496?(this.words=[67108863&F,F/67108864&67108863],this.length=2):(o(F<9007199254740992),this.words=[67108863&F,F/67108864&67108863,1],this.length=3),"le"===G&&this._initArray(this.toArray(),Y,G)},u.prototype._initArray=function(F,Y,G){if(o("number"==typeof F.length),F.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(F.length/3),this.words=new Array(this.length);for(var H=0;H<this.length;H++)this.words[H]=0;var W,Z,se=0;if("be"===G)for(H=F.length-1,W=0;H>=0;H-=3)this.words[W]|=(Z=F[H]|F[H-1]<<8|F[H-2]<<16)<<se&67108863,this.words[W+1]=Z>>>26-se&67108863,(se+=24)>=26&&(se-=26,W++);else if("le"===G)for(H=0,W=0;H<F.length;H+=3)this.words[W]|=(Z=F[H]|F[H+1]<<8|F[H+2]<<16)<<se&67108863,this.words[W+1]=Z>>>26-se&67108863,(se+=24)>=26&&(se-=26,W++);return this.strip()},u.prototype._parseHex=function(F,Y,G){this.length=Math.ceil((F.length-Y)/6),this.words=new Array(this.length);for(var H=0;H<this.length;H++)this.words[H]=0;var W,Z=0,se=0;if("be"===G)for(H=F.length-1;H>=Y;H-=2)W=p(F,Y,H)<<Z,this.words[se]|=67108863&W,Z>=18?(Z-=18,this.words[se+=1]|=W>>>26):Z+=8;else for(H=(F.length-Y)%2==0?Y+1:Y;H<F.length;H+=2)W=p(F,Y,H)<<Z,this.words[se]|=67108863&W,Z>=18?(Z-=18,this.words[se+=1]|=W>>>26):Z+=8;this.strip()},u.prototype._parseBase=function(F,Y,G){this.words=[0],this.length=1;for(var H=0,W=1;W<=67108863;W*=Y)H++;H--,W=W/Y|0;for(var Z=F.length-G,se=Z%H,re=Math.min(Z,Z-se)+G,ne=0,Q=G;Q<re;Q+=H)ne=T(F,Q,Q+H,Y),this.imuln(W),this.words[0]+ne<67108864?this.words[0]+=ne:this._iaddn(ne);if(0!==se){var ee=1;for(ne=T(F,Q,F.length,Y),Q=0;Q<se;Q++)ee*=Y;this.imuln(ee),this.words[0]+ne<67108864?this.words[0]+=ne:this._iaddn(ne)}this.strip()},u.prototype.copy=function(F){F.words=new Array(this.length);for(var Y=0;Y<this.length;Y++)F.words[Y]=this.words[Y];F.length=this.length,F.negative=this.negative,F.red=this.red},u.prototype.clone=function(){var F=new u(null);return this.copy(F),F},u.prototype._expand=function(F){for(;this.length<F;)this.words[this.length++]=0;return this},u.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},u.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},u.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var _=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],m=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],w=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function x(F,Y,G){G.negative=Y.negative^F.negative;var H=F.length+Y.length|0;G.length=H,H=H-1|0;var W=0|F.words[0],Z=0|Y.words[0],se=W*Z,ne=se/67108864|0;G.words[0]=67108863&se;for(var Q=1;Q<H;Q++){for(var ee=ne>>>26,oe=67108863&ne,ce=Math.min(Q,Y.length-1),fe=Math.max(0,Q-F.length+1);fe<=ce;fe++)ee+=(se=(W=0|F.words[Q-fe|0])*(Z=0|Y.words[fe])+oe)/67108864|0,oe=67108863&se;G.words[Q]=0|oe,ne=0|ee}return 0!==ne?G.words[Q]=0|ne:G.length--,G.strip()}u.prototype.toString=function(F,Y){var G;if(Y=0|Y||1,16===(F=F||10)||"hex"===F){G="";for(var H=0,W=0,Z=0;Z<this.length;Z++){var se=this.words[Z],re=(16777215&(se<<H|W)).toString(16);G=0!=(W=se>>>24-H&16777215)||Z!==this.length-1?_[6-re.length]+re+G:re+G,(H+=2)>=26&&(H-=26,Z--)}for(0!==W&&(G=W.toString(16)+G);G.length%Y!=0;)G="0"+G;return 0!==this.negative&&(G="-"+G),G}if(F===(0|F)&&F>=2&&F<=36){var ne=m[F],Q=w[F];G="";var ee=this.clone();for(ee.negative=0;!ee.isZero();){var oe=ee.modn(Q).toString(F);G=(ee=ee.idivn(Q)).isZero()?oe+G:_[ne-oe.length]+oe+G}for(this.isZero()&&(G="0"+G);G.length%Y!=0;)G="0"+G;return 0!==this.negative&&(G="-"+G),G}o(!1,"Base should be between 2 and 36")},u.prototype.toNumber=function(){var F=this.words[0];return 2===this.length?F+=67108864*this.words[1]:3===this.length&&1===this.words[2]?F+=4503599627370496+67108864*this.words[1]:this.length>2&&o(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-F:F},u.prototype.toJSON=function(){return this.toString(16)},u.prototype.toBuffer=function(F,Y){return o(void 0!==h),this.toArrayLike(h,F,Y)},u.prototype.toArray=function(F,Y){return this.toArrayLike(Array,F,Y)},u.prototype.toArrayLike=function(F,Y,G){var H=this.byteLength(),W=G||Math.max(1,H);o(H<=W,"byte array longer than desired length"),o(W>0,"Requested array length <= 0"),this.strip();var Z,se,re="le"===Y,ne=new F(W),Q=this.clone();if(re){for(se=0;!Q.isZero();se++)Z=Q.andln(255),Q.iushrn(8),ne[se]=Z;for(;se<W;se++)ne[se]=0}else{for(se=0;se<W-H;se++)ne[se]=0;for(se=0;!Q.isZero();se++)Z=Q.andln(255),Q.iushrn(8),ne[W-se-1]=Z}return ne},u.prototype._countBits=Math.clz32?function(F){return 32-Math.clz32(F)}:function(F){var Y=F,G=0;return Y>=4096&&(G+=13,Y>>>=13),Y>=64&&(G+=7,Y>>>=7),Y>=8&&(G+=4,Y>>>=4),Y>=2&&(G+=2,Y>>>=2),G+Y},u.prototype._zeroBits=function(F){if(0===F)return 26;var Y=F,G=0;return!(8191&Y)&&(G+=13,Y>>>=13),!(127&Y)&&(G+=7,Y>>>=7),!(15&Y)&&(G+=4,Y>>>=4),!(3&Y)&&(G+=2,Y>>>=2),!(1&Y)&&G++,G},u.prototype.bitLength=function(){var Y=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+Y},u.prototype.zeroBits=function(){if(this.isZero())return 0;for(var F=0,Y=0;Y<this.length;Y++){var G=this._zeroBits(this.words[Y]);if(F+=G,26!==G)break}return F},u.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},u.prototype.toTwos=function(F){return 0!==this.negative?this.abs().inotn(F).iaddn(1):this.clone()},u.prototype.fromTwos=function(F){return this.testn(F-1)?this.notn(F).iaddn(1).ineg():this.clone()},u.prototype.isNeg=function(){return 0!==this.negative},u.prototype.neg=function(){return this.clone().ineg()},u.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},u.prototype.iuor=function(F){for(;this.length<F.length;)this.words[this.length++]=0;for(var Y=0;Y<F.length;Y++)this.words[Y]=this.words[Y]|F.words[Y];return this.strip()},u.prototype.ior=function(F){return o(0==(this.negative|F.negative)),this.iuor(F)},u.prototype.or=function(F){return this.length>F.length?this.clone().ior(F):F.clone().ior(this)},u.prototype.uor=function(F){return this.length>F.length?this.clone().iuor(F):F.clone().iuor(this)},u.prototype.iuand=function(F){var Y;Y=this.length>F.length?F:this;for(var G=0;G<Y.length;G++)this.words[G]=this.words[G]&F.words[G];return this.length=Y.length,this.strip()},u.prototype.iand=function(F){return o(0==(this.negative|F.negative)),this.iuand(F)},u.prototype.and=function(F){return this.length>F.length?this.clone().iand(F):F.clone().iand(this)},u.prototype.uand=function(F){return this.length>F.length?this.clone().iuand(F):F.clone().iuand(this)},u.prototype.iuxor=function(F){var Y,G;this.length>F.length?(Y=this,G=F):(Y=F,G=this);for(var H=0;H<G.length;H++)this.words[H]=Y.words[H]^G.words[H];if(this!==Y)for(;H<Y.length;H++)this.words[H]=Y.words[H];return this.length=Y.length,this.strip()},u.prototype.ixor=function(F){return o(0==(this.negative|F.negative)),this.iuxor(F)},u.prototype.xor=function(F){return this.length>F.length?this.clone().ixor(F):F.clone().ixor(this)},u.prototype.uxor=function(F){return this.length>F.length?this.clone().iuxor(F):F.clone().iuxor(this)},u.prototype.inotn=function(F){o("number"==typeof F&&F>=0);var Y=0|Math.ceil(F/26),G=F%26;this._expand(Y),G>0&&Y--;for(var H=0;H<Y;H++)this.words[H]=67108863&~this.words[H];return G>0&&(this.words[H]=~this.words[H]&67108863>>26-G),this.strip()},u.prototype.notn=function(F){return this.clone().inotn(F)},u.prototype.setn=function(F,Y){o("number"==typeof F&&F>=0);var G=F/26|0,H=F%26;return this._expand(G+1),this.words[G]=Y?this.words[G]|1<<H:this.words[G]&~(1<<H),this.strip()},u.prototype.iadd=function(F){var Y,G,H;if(0!==this.negative&&0===F.negative)return this.negative=0,Y=this.isub(F),this.negative^=1,this._normSign();if(0===this.negative&&0!==F.negative)return F.negative=0,Y=this.isub(F),F.negative=1,Y._normSign();this.length>F.length?(G=this,H=F):(G=F,H=this);for(var W=0,Z=0;Z<H.length;Z++)this.words[Z]=67108863&(Y=(0|G.words[Z])+(0|H.words[Z])+W),W=Y>>>26;for(;0!==W&&Z<G.length;Z++)this.words[Z]=67108863&(Y=(0|G.words[Z])+W),W=Y>>>26;if(this.length=G.length,0!==W)this.words[this.length]=W,this.length++;else if(G!==this)for(;Z<G.length;Z++)this.words[Z]=G.words[Z];return this},u.prototype.add=function(F){var Y;return 0!==F.negative&&0===this.negative?(F.negative=0,Y=this.sub(F),F.negative^=1,Y):0===F.negative&&0!==this.negative?(this.negative=0,Y=F.sub(this),this.negative=1,Y):this.length>F.length?this.clone().iadd(F):F.clone().iadd(this)},u.prototype.isub=function(F){if(0!==F.negative){F.negative=0;var Y=this.iadd(F);return F.negative=1,Y._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(F),this.negative=1,this._normSign();var G,H,W=this.cmp(F);if(0===W)return this.negative=0,this.length=1,this.words[0]=0,this;W>0?(G=this,H=F):(G=F,H=this);for(var Z=0,se=0;se<H.length;se++)Z=(Y=(0|G.words[se])-(0|H.words[se])+Z)>>26,this.words[se]=67108863&Y;for(;0!==Z&&se<G.length;se++)Z=(Y=(0|G.words[se])+Z)>>26,this.words[se]=67108863&Y;if(0===Z&&se<G.length&&G!==this)for(;se<G.length;se++)this.words[se]=G.words[se];return this.length=Math.max(this.length,se),G!==this&&(this.negative=1),this.strip()},u.prototype.sub=function(F){return this.clone().isub(F)};var b=function(F,Y,G){var H,W,Z,se=F.words,re=Y.words,ne=G.words,Q=0,ee=0|se[0],oe=8191&ee,ce=ee>>>13,fe=0|se[1],le=8191&fe,pe=fe>>>13,Me=0|se[2],Ae=8191&Me,be=Me>>>13,ye=0|se[3],we=8191&ye,ze=ye>>>13,Se=0|se[4],Ce=8191&Se,ge=Se>>>13,he=0|se[5],_e=8191&he,Le=he>>>13,Ie=0|se[6],De=8191&Ie,je=Ie>>>13,qe=0|se[7],ve=8191&qe,Oe=qe>>>13,ke=0|se[8],Be=8191&ke,We=ke>>>13,Ge=0|se[9],Ke=8191&Ge,et=Ge>>>13,at=0|re[0],mt=8191&at,ct=at>>>13,kt=0|re[1],Dt=8191&kt,Et=kt>>>13,ht=0|re[2],pt=8191&ht,Pt=ht>>>13,zt=0|re[3],Ht=8191&zt,Lt=zt>>>13,tt=0|re[4],it=8191&tt,Je=tt>>>13,ot=0|re[5],gt=8191&ot,ft=ot>>>13,Ue=0|re[6],$e=8191&Ue,dt=Ue>>>13,ut=0|re[7],At=8191&ut,wt=ut>>>13,St=0|re[8],_t=8191&St,Rt=St>>>13,bt=0|re[9],Tt=8191&bt,It=bt>>>13;G.negative=F.negative^Y.negative,G.length=19;var Wt=(Q+(H=Math.imul(oe,mt))|0)+((8191&(W=(W=Math.imul(oe,ct))+Math.imul(ce,mt)|0))<<13)|0;Q=((Z=Math.imul(ce,ct))+(W>>>13)|0)+(Wt>>>26)|0,Wt&=67108863,H=Math.imul(le,mt),W=(W=Math.imul(le,ct))+Math.imul(pe,mt)|0,Z=Math.imul(pe,ct);var $t=(Q+(H=H+Math.imul(oe,Dt)|0)|0)+((8191&(W=(W=W+Math.imul(oe,Et)|0)+Math.imul(ce,Dt)|0))<<13)|0;Q=((Z=Z+Math.imul(ce,Et)|0)+(W>>>13)|0)+($t>>>26)|0,$t&=67108863,H=Math.imul(Ae,mt),W=(W=Math.imul(Ae,ct))+Math.imul(be,mt)|0,Z=Math.imul(be,ct),H=H+Math.imul(le,Dt)|0,W=(W=W+Math.imul(le,Et)|0)+Math.imul(pe,Dt)|0,Z=Z+Math.imul(pe,Et)|0;var Qt=(Q+(H=H+Math.imul(oe,pt)|0)|0)+((8191&(W=(W=W+Math.imul(oe,Pt)|0)+Math.imul(ce,pt)|0))<<13)|0;Q=((Z=Z+Math.imul(ce,Pt)|0)+(W>>>13)|0)+(Qt>>>26)|0,Qt&=67108863,H=Math.imul(we,mt),W=(W=Math.imul(we,ct))+Math.imul(ze,mt)|0,Z=Math.imul(ze,ct),H=H+Math.imul(Ae,Dt)|0,W=(W=W+Math.imul(Ae,Et)|0)+Math.imul(be,Dt)|0,Z=Z+Math.imul(be,Et)|0,H=H+Math.imul(le,pt)|0,W=(W=W+Math.imul(le,Pt)|0)+Math.imul(pe,pt)|0,Z=Z+Math.imul(pe,Pt)|0;var pn=(Q+(H=H+Math.imul(oe,Ht)|0)|0)+((8191&(W=(W=W+Math.imul(oe,Lt)|0)+Math.imul(ce,Ht)|0))<<13)|0;Q=((Z=Z+Math.imul(ce,Lt)|0)+(W>>>13)|0)+(pn>>>26)|0,pn&=67108863,H=Math.imul(Ce,mt),W=(W=Math.imul(Ce,ct))+Math.imul(ge,mt)|0,Z=Math.imul(ge,ct),H=H+Math.imul(we,Dt)|0,W=(W=W+Math.imul(we,Et)|0)+Math.imul(ze,Dt)|0,Z=Z+Math.imul(ze,Et)|0,H=H+Math.imul(Ae,pt)|0,W=(W=W+Math.imul(Ae,Pt)|0)+Math.imul(be,pt)|0,Z=Z+Math.imul(be,Pt)|0,H=H+Math.imul(le,Ht)|0,W=(W=W+Math.imul(le,Lt)|0)+Math.imul(pe,Ht)|0,Z=Z+Math.imul(pe,Lt)|0;var en=(Q+(H=H+Math.imul(oe,it)|0)|0)+((8191&(W=(W=W+Math.imul(oe,Je)|0)+Math.imul(ce,it)|0))<<13)|0;Q=((Z=Z+Math.imul(ce,Je)|0)+(W>>>13)|0)+(en>>>26)|0,en&=67108863,H=Math.imul(_e,mt),W=(W=Math.imul(_e,ct))+Math.imul(Le,mt)|0,Z=Math.imul(Le,ct),H=H+Math.imul(Ce,Dt)|0,W=(W=W+Math.imul(Ce,Et)|0)+Math.imul(ge,Dt)|0,Z=Z+Math.imul(ge,Et)|0,H=H+Math.imul(we,pt)|0,W=(W=W+Math.imul(we,Pt)|0)+Math.imul(ze,pt)|0,Z=Z+Math.imul(ze,Pt)|0,H=H+Math.imul(Ae,Ht)|0,W=(W=W+Math.imul(Ae,Lt)|0)+Math.imul(be,Ht)|0,Z=Z+Math.imul(be,Lt)|0,H=H+Math.imul(le,it)|0,W=(W=W+Math.imul(le,Je)|0)+Math.imul(pe,it)|0,Z=Z+Math.imul(pe,Je)|0;var nn=(Q+(H=H+Math.imul(oe,gt)|0)|0)+((8191&(W=(W=W+Math.imul(oe,ft)|0)+Math.imul(ce,gt)|0))<<13)|0;Q=((Z=Z+Math.imul(ce,ft)|0)+(W>>>13)|0)+(nn>>>26)|0,nn&=67108863,H=Math.imul(De,mt),W=(W=Math.imul(De,ct))+Math.imul(je,mt)|0,Z=Math.imul(je,ct),H=H+Math.imul(_e,Dt)|0,W=(W=W+Math.imul(_e,Et)|0)+Math.imul(Le,Dt)|0,Z=Z+Math.imul(Le,Et)|0,H=H+Math.imul(Ce,pt)|0,W=(W=W+Math.imul(Ce,Pt)|0)+Math.imul(ge,pt)|0,Z=Z+Math.imul(ge,Pt)|0,H=H+Math.imul(we,Ht)|0,W=(W=W+Math.imul(we,Lt)|0)+Math.imul(ze,Ht)|0,Z=Z+Math.imul(ze,Lt)|0,H=H+Math.imul(Ae,it)|0,W=(W=W+Math.imul(Ae,Je)|0)+Math.imul(be,it)|0,Z=Z+Math.imul(be,Je)|0,H=H+Math.imul(le,gt)|0,W=(W=W+Math.imul(le,ft)|0)+Math.imul(pe,gt)|0,Z=Z+Math.imul(pe,ft)|0;var fn=(Q+(H=H+Math.imul(oe,$e)|0)|0)+((8191&(W=(W=W+Math.imul(oe,dt)|0)+Math.imul(ce,$e)|0))<<13)|0;Q=((Z=Z+Math.imul(ce,dt)|0)+(W>>>13)|0)+(fn>>>26)|0,fn&=67108863,H=Math.imul(ve,mt),W=(W=Math.imul(ve,ct))+Math.imul(Oe,mt)|0,Z=Math.imul(Oe,ct),H=H+Math.imul(De,Dt)|0,W=(W=W+Math.imul(De,Et)|0)+Math.imul(je,Dt)|0,Z=Z+Math.imul(je,Et)|0,H=H+Math.imul(_e,pt)|0,W=(W=W+Math.imul(_e,Pt)|0)+Math.imul(Le,pt)|0,Z=Z+Math.imul(Le,Pt)|0,H=H+Math.imul(Ce,Ht)|0,W=(W=W+Math.imul(Ce,Lt)|0)+Math.imul(ge,Ht)|0,Z=Z+Math.imul(ge,Lt)|0,H=H+Math.imul(we,it)|0,W=(W=W+Math.imul(we,Je)|0)+Math.imul(ze,it)|0,Z=Z+Math.imul(ze,Je)|0,H=H+Math.imul(Ae,gt)|0,W=(W=W+Math.imul(Ae,ft)|0)+Math.imul(be,gt)|0,Z=Z+Math.imul(be,ft)|0,H=H+Math.imul(le,$e)|0,W=(W=W+Math.imul(le,dt)|0)+Math.imul(pe,$e)|0,Z=Z+Math.imul(pe,dt)|0;var On=(Q+(H=H+Math.imul(oe,At)|0)|0)+((8191&(W=(W=W+Math.imul(oe,wt)|0)+Math.imul(ce,At)|0))<<13)|0;Q=((Z=Z+Math.imul(ce,wt)|0)+(W>>>13)|0)+(On>>>26)|0,On&=67108863,H=Math.imul(Be,mt),W=(W=Math.imul(Be,ct))+Math.imul(We,mt)|0,Z=Math.imul(We,ct),H=H+Math.imul(ve,Dt)|0,W=(W=W+Math.imul(ve,Et)|0)+Math.imul(Oe,Dt)|0,Z=Z+Math.imul(Oe,Et)|0,H=H+Math.imul(De,pt)|0,W=(W=W+Math.imul(De,Pt)|0)+Math.imul(je,pt)|0,Z=Z+Math.imul(je,Pt)|0,H=H+Math.imul(_e,Ht)|0,W=(W=W+Math.imul(_e,Lt)|0)+Math.imul(Le,Ht)|0,Z=Z+Math.imul(Le,Lt)|0,H=H+Math.imul(Ce,it)|0,W=(W=W+Math.imul(Ce,Je)|0)+Math.imul(ge,it)|0,Z=Z+Math.imul(ge,Je)|0,H=H+Math.imul(we,gt)|0,W=(W=W+Math.imul(we,ft)|0)+Math.imul(ze,gt)|0,Z=Z+Math.imul(ze,ft)|0,H=H+Math.imul(Ae,$e)|0,W=(W=W+Math.imul(Ae,dt)|0)+Math.imul(be,$e)|0,Z=Z+Math.imul(be,dt)|0,H=H+Math.imul(le,At)|0,W=(W=W+Math.imul(le,wt)|0)+Math.imul(pe,At)|0,Z=Z+Math.imul(pe,wt)|0;var Un=(Q+(H=H+Math.imul(oe,_t)|0)|0)+((8191&(W=(W=W+Math.imul(oe,Rt)|0)+Math.imul(ce,_t)|0))<<13)|0;Q=((Z=Z+Math.imul(ce,Rt)|0)+(W>>>13)|0)+(Un>>>26)|0,Un&=67108863,H=Math.imul(Ke,mt),W=(W=Math.imul(Ke,ct))+Math.imul(et,mt)|0,Z=Math.imul(et,ct),H=H+Math.imul(Be,Dt)|0,W=(W=W+Math.imul(Be,Et)|0)+Math.imul(We,Dt)|0,Z=Z+Math.imul(We,Et)|0,H=H+Math.imul(ve,pt)|0,W=(W=W+Math.imul(ve,Pt)|0)+Math.imul(Oe,pt)|0,Z=Z+Math.imul(Oe,Pt)|0,H=H+Math.imul(De,Ht)|0,W=(W=W+Math.imul(De,Lt)|0)+Math.imul(je,Ht)|0,Z=Z+Math.imul(je,Lt)|0,H=H+Math.imul(_e,it)|0,W=(W=W+Math.imul(_e,Je)|0)+Math.imul(Le,it)|0,Z=Z+Math.imul(Le,Je)|0,H=H+Math.imul(Ce,gt)|0,W=(W=W+Math.imul(Ce,ft)|0)+Math.imul(ge,gt)|0,Z=Z+Math.imul(ge,ft)|0,H=H+Math.imul(we,$e)|0,W=(W=W+Math.imul(we,dt)|0)+Math.imul(ze,$e)|0,Z=Z+Math.imul(ze,dt)|0,H=H+Math.imul(Ae,At)|0,W=(W=W+Math.imul(Ae,wt)|0)+Math.imul(be,At)|0,Z=Z+Math.imul(be,wt)|0,H=H+Math.imul(le,_t)|0,W=(W=W+Math.imul(le,Rt)|0)+Math.imul(pe,_t)|0,Z=Z+Math.imul(pe,Rt)|0;var Sn=(Q+(H=H+Math.imul(oe,Tt)|0)|0)+((8191&(W=(W=W+Math.imul(oe,It)|0)+Math.imul(ce,Tt)|0))<<13)|0;Q=((Z=Z+Math.imul(ce,It)|0)+(W>>>13)|0)+(Sn>>>26)|0,Sn&=67108863,H=Math.imul(Ke,Dt),W=(W=Math.imul(Ke,Et))+Math.imul(et,Dt)|0,Z=Math.imul(et,Et),H=H+Math.imul(Be,pt)|0,W=(W=W+Math.imul(Be,Pt)|0)+Math.imul(We,pt)|0,Z=Z+Math.imul(We,Pt)|0,H=H+Math.imul(ve,Ht)|0,W=(W=W+Math.imul(ve,Lt)|0)+Math.imul(Oe,Ht)|0,Z=Z+Math.imul(Oe,Lt)|0,H=H+Math.imul(De,it)|0,W=(W=W+Math.imul(De,Je)|0)+Math.imul(je,it)|0,Z=Z+Math.imul(je,Je)|0,H=H+Math.imul(_e,gt)|0,W=(W=W+Math.imul(_e,ft)|0)+Math.imul(Le,gt)|0,Z=Z+Math.imul(Le,ft)|0,H=H+Math.imul(Ce,$e)|0,W=(W=W+Math.imul(Ce,dt)|0)+Math.imul(ge,$e)|0,Z=Z+Math.imul(ge,dt)|0,H=H+Math.imul(we,At)|0,W=(W=W+Math.imul(we,wt)|0)+Math.imul(ze,At)|0,Z=Z+Math.imul(ze,wt)|0,H=H+Math.imul(Ae,_t)|0,W=(W=W+Math.imul(Ae,Rt)|0)+Math.imul(be,_t)|0,Z=Z+Math.imul(be,Rt)|0;var on=(Q+(H=H+Math.imul(le,Tt)|0)|0)+((8191&(W=(W=W+Math.imul(le,It)|0)+Math.imul(pe,Tt)|0))<<13)|0;Q=((Z=Z+Math.imul(pe,It)|0)+(W>>>13)|0)+(on>>>26)|0,on&=67108863,H=Math.imul(Ke,pt),W=(W=Math.imul(Ke,Pt))+Math.imul(et,pt)|0,Z=Math.imul(et,Pt),H=H+Math.imul(Be,Ht)|0,W=(W=W+Math.imul(Be,Lt)|0)+Math.imul(We,Ht)|0,Z=Z+Math.imul(We,Lt)|0,H=H+Math.imul(ve,it)|0,W=(W=W+Math.imul(ve,Je)|0)+Math.imul(Oe,it)|0,Z=Z+Math.imul(Oe,Je)|0,H=H+Math.imul(De,gt)|0,W=(W=W+Math.imul(De,ft)|0)+Math.imul(je,gt)|0,Z=Z+Math.imul(je,ft)|0,H=H+Math.imul(_e,$e)|0,W=(W=W+Math.imul(_e,dt)|0)+Math.imul(Le,$e)|0,Z=Z+Math.imul(Le,dt)|0,H=H+Math.imul(Ce,At)|0,W=(W=W+Math.imul(Ce,wt)|0)+Math.imul(ge,At)|0,Z=Z+Math.imul(ge,wt)|0,H=H+Math.imul(we,_t)|0,W=(W=W+Math.imul(we,Rt)|0)+Math.imul(ze,_t)|0,Z=Z+Math.imul(ze,Rt)|0;var vn=(Q+(H=H+Math.imul(Ae,Tt)|0)|0)+((8191&(W=(W=W+Math.imul(Ae,It)|0)+Math.imul(be,Tt)|0))<<13)|0;Q=((Z=Z+Math.imul(be,It)|0)+(W>>>13)|0)+(vn>>>26)|0,vn&=67108863,H=Math.imul(Ke,Ht),W=(W=Math.imul(Ke,Lt))+Math.imul(et,Ht)|0,Z=Math.imul(et,Lt),H=H+Math.imul(Be,it)|0,W=(W=W+Math.imul(Be,Je)|0)+Math.imul(We,it)|0,Z=Z+Math.imul(We,Je)|0,H=H+Math.imul(ve,gt)|0,W=(W=W+Math.imul(ve,ft)|0)+Math.imul(Oe,gt)|0,Z=Z+Math.imul(Oe,ft)|0,H=H+Math.imul(De,$e)|0,W=(W=W+Math.imul(De,dt)|0)+Math.imul(je,$e)|0,Z=Z+Math.imul(je,dt)|0,H=H+Math.imul(_e,At)|0,W=(W=W+Math.imul(_e,wt)|0)+Math.imul(Le,At)|0,Z=Z+Math.imul(Le,wt)|0,H=H+Math.imul(Ce,_t)|0,W=(W=W+Math.imul(Ce,Rt)|0)+Math.imul(ge,_t)|0,Z=Z+Math.imul(ge,Rt)|0;var un=(Q+(H=H+Math.imul(we,Tt)|0)|0)+((8191&(W=(W=W+Math.imul(we,It)|0)+Math.imul(ze,Tt)|0))<<13)|0;Q=((Z=Z+Math.imul(ze,It)|0)+(W>>>13)|0)+(un>>>26)|0,un&=67108863,H=Math.imul(Ke,it),W=(W=Math.imul(Ke,Je))+Math.imul(et,it)|0,Z=Math.imul(et,Je),H=H+Math.imul(Be,gt)|0,W=(W=W+Math.imul(Be,ft)|0)+Math.imul(We,gt)|0,Z=Z+Math.imul(We,ft)|0,H=H+Math.imul(ve,$e)|0,W=(W=W+Math.imul(ve,dt)|0)+Math.imul(Oe,$e)|0,Z=Z+Math.imul(Oe,dt)|0,H=H+Math.imul(De,At)|0,W=(W=W+Math.imul(De,wt)|0)+Math.imul(je,At)|0,Z=Z+Math.imul(je,wt)|0,H=H+Math.imul(_e,_t)|0,W=(W=W+Math.imul(_e,Rt)|0)+Math.imul(Le,_t)|0,Z=Z+Math.imul(Le,Rt)|0;var Tn=(Q+(H=H+Math.imul(Ce,Tt)|0)|0)+((8191&(W=(W=W+Math.imul(Ce,It)|0)+Math.imul(ge,Tt)|0))<<13)|0;Q=((Z=Z+Math.imul(ge,It)|0)+(W>>>13)|0)+(Tn>>>26)|0,Tn&=67108863,H=Math.imul(Ke,gt),W=(W=Math.imul(Ke,ft))+Math.imul(et,gt)|0,Z=Math.imul(et,ft),H=H+Math.imul(Be,$e)|0,W=(W=W+Math.imul(Be,dt)|0)+Math.imul(We,$e)|0,Z=Z+Math.imul(We,dt)|0,H=H+Math.imul(ve,At)|0,W=(W=W+Math.imul(ve,wt)|0)+Math.imul(Oe,At)|0,Z=Z+Math.imul(Oe,wt)|0,H=H+Math.imul(De,_t)|0,W=(W=W+Math.imul(De,Rt)|0)+Math.imul(je,_t)|0,Z=Z+Math.imul(je,Rt)|0;var kn=(Q+(H=H+Math.imul(_e,Tt)|0)|0)+((8191&(W=(W=W+Math.imul(_e,It)|0)+Math.imul(Le,Tt)|0))<<13)|0;Q=((Z=Z+Math.imul(Le,It)|0)+(W>>>13)|0)+(kn>>>26)|0,kn&=67108863,H=Math.imul(Ke,$e),W=(W=Math.imul(Ke,dt))+Math.imul(et,$e)|0,Z=Math.imul(et,dt),H=H+Math.imul(Be,At)|0,W=(W=W+Math.imul(Be,wt)|0)+Math.imul(We,At)|0,Z=Z+Math.imul(We,wt)|0,H=H+Math.imul(ve,_t)|0,W=(W=W+Math.imul(ve,Rt)|0)+Math.imul(Oe,_t)|0,Z=Z+Math.imul(Oe,Rt)|0;var xn=(Q+(H=H+Math.imul(De,Tt)|0)|0)+((8191&(W=(W=W+Math.imul(De,It)|0)+Math.imul(je,Tt)|0))<<13)|0;Q=((Z=Z+Math.imul(je,It)|0)+(W>>>13)|0)+(xn>>>26)|0,xn&=67108863,H=Math.imul(Ke,At),W=(W=Math.imul(Ke,wt))+Math.imul(et,At)|0,Z=Math.imul(et,wt),H=H+Math.imul(Be,_t)|0,W=(W=W+Math.imul(Be,Rt)|0)+Math.imul(We,_t)|0,Z=Z+Math.imul(We,Rt)|0;var Rn=(Q+(H=H+Math.imul(ve,Tt)|0)|0)+((8191&(W=(W=W+Math.imul(ve,It)|0)+Math.imul(Oe,Tt)|0))<<13)|0;Q=((Z=Z+Math.imul(Oe,It)|0)+(W>>>13)|0)+(Rn>>>26)|0,Rn&=67108863,H=Math.imul(Ke,_t),W=(W=Math.imul(Ke,Rt))+Math.imul(et,_t)|0,Z=Math.imul(et,Rt);var Hn=(Q+(H=H+Math.imul(Be,Tt)|0)|0)+((8191&(W=(W=W+Math.imul(Be,It)|0)+Math.imul(We,Tt)|0))<<13)|0;Q=((Z=Z+Math.imul(We,It)|0)+(W>>>13)|0)+(Hn>>>26)|0,Hn&=67108863;var En=(Q+(H=Math.imul(Ke,Tt))|0)+((8191&(W=(W=Math.imul(Ke,It))+Math.imul(et,Tt)|0))<<13)|0;return Q=((Z=Math.imul(et,It))+(W>>>13)|0)+(En>>>26)|0,En&=67108863,ne[0]=Wt,ne[1]=$t,ne[2]=Qt,ne[3]=pn,ne[4]=en,ne[5]=nn,ne[6]=fn,ne[7]=On,ne[8]=Un,ne[9]=Sn,ne[10]=on,ne[11]=vn,ne[12]=un,ne[13]=Tn,ne[14]=kn,ne[15]=xn,ne[16]=Rn,ne[17]=Hn,ne[18]=En,0!==Q&&(ne[19]=Q,G.length++),G};function A(F,Y,G){return(new g).mulp(F,Y,G)}function g(F,Y){this.x=F,this.y=Y}Math.imul||(b=x),u.prototype.mulTo=function(F,Y){var H=this.length+F.length;return 10===this.length&&10===F.length?b(this,F,Y):H<63?x(this,F,Y):H<1024?function(W,Z,se){se.negative=Z.negative^W.negative,se.length=W.length+Z.length;for(var re=0,ne=0,Q=0;Q<se.length-1;Q++){var ee=ne;ne=0;for(var oe=67108863&re,ce=Math.min(Q,Z.length-1),fe=Math.max(0,Q-W.length+1);fe<=ce;fe++){var pe=(0|W.words[Q-fe])*(0|Z.words[fe]),Me=67108863&pe;oe=67108863&(Me=Me+oe|0),ne+=(ee=(ee=ee+(pe/67108864|0)|0)+(Me>>>26)|0)>>>26,ee&=67108863}se.words[Q]=oe,re=ee,ee=ne}return 0!==re?se.words[Q]=re:se.length--,se.strip()}(this,F,Y):A(this,F,Y)},g.prototype.makeRBT=function(F){for(var Y=new Array(F),G=u.prototype._countBits(F)-1,H=0;H<F;H++)Y[H]=this.revBin(H,G,F);return Y},g.prototype.revBin=function(F,Y,G){if(0===F||F===G-1)return F;for(var H=0,W=0;W<Y;W++)H|=(1&F)<<Y-W-1,F>>=1;return H},g.prototype.permute=function(F,Y,G,H,W,Z){for(var se=0;se<Z;se++)H[se]=Y[F[se]],W[se]=G[F[se]]},g.prototype.transform=function(F,Y,G,H,W,Z){this.permute(Z,F,Y,G,H,W);for(var se=1;se<W;se<<=1)for(var re=se<<1,ne=Math.cos(2*Math.PI/re),Q=Math.sin(2*Math.PI/re),ee=0;ee<W;ee+=re)for(var oe=ne,ce=Q,fe=0;fe<se;fe++){var le=G[ee+fe],pe=H[ee+fe],Me=G[ee+fe+se],Ae=H[ee+fe+se],be=oe*Me-ce*Ae;Ae=oe*Ae+ce*Me,G[ee+fe]=le+(Me=be),H[ee+fe]=pe+Ae,G[ee+fe+se]=le-Me,H[ee+fe+se]=pe-Ae,fe!==re&&(be=ne*oe-Q*ce,ce=ne*ce+Q*oe,oe=be)}},g.prototype.guessLen13b=function(F,Y){var G=1|Math.max(Y,F),H=1&G,W=0;for(G=G/2|0;G;G>>>=1)W++;return 1<<W+1+H},g.prototype.conjugate=function(F,Y,G){if(!(G<=1))for(var H=0;H<G/2;H++){var W=F[H];F[H]=F[G-H-1],F[G-H-1]=W,W=Y[H],Y[H]=-Y[G-H-1],Y[G-H-1]=-W}},g.prototype.normalize13b=function(F,Y){for(var G=0,H=0;H<Y/2;H++){var W=8192*Math.round(F[2*H+1]/Y)+Math.round(F[2*H]/Y)+G;F[H]=67108863&W,G=W<67108864?0:W/67108864|0}return F},g.prototype.convert13b=function(F,Y,G,H){for(var W=0,Z=0;Z<Y;Z++)G[2*Z]=8191&(W+=0|F[Z]),G[2*Z+1]=8191&(W>>>=13),W>>>=13;for(Z=2*Y;Z<H;++Z)G[Z]=0;o(0===W),o(0==(-8192&W))},g.prototype.stub=function(F){for(var Y=new Array(F),G=0;G<F;G++)Y[G]=0;return Y},g.prototype.mulp=function(F,Y,G){var H=2*this.guessLen13b(F.length,Y.length),W=this.makeRBT(H),Z=this.stub(H),se=new Array(H),re=new Array(H),ne=new Array(H),Q=new Array(H),ee=new Array(H),oe=new Array(H),ce=G.words;ce.length=H,this.convert13b(F.words,F.length,se,H),this.convert13b(Y.words,Y.length,Q,H),this.transform(se,Z,re,ne,H,W),this.transform(Q,Z,ee,oe,H,W);for(var fe=0;fe<H;fe++){var le=re[fe]*ee[fe]-ne[fe]*oe[fe];ne[fe]=re[fe]*oe[fe]+ne[fe]*ee[fe],re[fe]=le}return this.conjugate(re,ne,H),this.transform(re,ne,ce,Z,H,W),this.conjugate(ce,Z,H),this.normalize13b(ce,H),G.negative=F.negative^Y.negative,G.length=F.length+Y.length,G.strip()},u.prototype.mul=function(F){var Y=new u(null);return Y.words=new Array(this.length+F.length),this.mulTo(F,Y)},u.prototype.mulf=function(F){var Y=new u(null);return Y.words=new Array(this.length+F.length),A(this,F,Y)},u.prototype.imul=function(F){return this.clone().mulTo(F,this)},u.prototype.imuln=function(F){o("number"==typeof F),o(F<67108864);for(var Y=0,G=0;G<this.length;G++){var H=(0|this.words[G])*F,W=(67108863&H)+(67108863&Y);Y>>=26,Y+=H/67108864|0,Y+=W>>>26,this.words[G]=67108863&W}return 0!==Y&&(this.words[G]=Y,this.length++),this},u.prototype.muln=function(F){return this.clone().imuln(F)},u.prototype.sqr=function(){return this.mul(this)},u.prototype.isqr=function(){return this.imul(this.clone())},u.prototype.pow=function(F){var Y=function(Z){for(var se=new Array(Z.bitLength()),re=0;re<se.length;re++){var Q=re%26;se[re]=(Z.words[re/26|0]&1<<Q)>>>Q}return se}(F);if(0===Y.length)return new u(1);for(var G=this,H=0;H<Y.length&&0===Y[H];H++,G=G.sqr());if(++H<Y.length)for(var W=G.sqr();H<Y.length;H++,W=W.sqr())0!==Y[H]&&(G=G.mul(W));return G},u.prototype.iushln=function(F){o("number"==typeof F&&F>=0);var Y,G=F%26,H=(F-G)/26,W=67108863>>>26-G<<26-G;if(0!==G){var Z=0;for(Y=0;Y<this.length;Y++){var se=this.words[Y]&W;this.words[Y]=(0|this.words[Y])-se<<G|Z,Z=se>>>26-G}Z&&(this.words[Y]=Z,this.length++)}if(0!==H){for(Y=this.length-1;Y>=0;Y--)this.words[Y+H]=this.words[Y];for(Y=0;Y<H;Y++)this.words[Y]=0;this.length+=H}return this.strip()},u.prototype.ishln=function(F){return o(0===this.negative),this.iushln(F)},u.prototype.iushrn=function(F,Y,G){var H;o("number"==typeof F&&F>=0),H=Y?(Y-Y%26)/26:0;var W=F%26,Z=Math.min((F-W)/26,this.length),se=67108863^67108863>>>W<<W,re=G;if(H-=Z,H=Math.max(0,H),re){for(var ne=0;ne<Z;ne++)re.words[ne]=this.words[ne];re.length=Z}if(0!==Z)if(this.length>Z)for(this.length-=Z,ne=0;ne<this.length;ne++)this.words[ne]=this.words[ne+Z];else this.words[0]=0,this.length=1;var Q=0;for(ne=this.length-1;ne>=0&&(0!==Q||ne>=H);ne--){var ee=0|this.words[ne];this.words[ne]=Q<<26-W|ee>>>W,Q=ee&se}return re&&0!==Q&&(re.words[re.length++]=Q),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},u.prototype.ishrn=function(F,Y,G){return o(0===this.negative),this.iushrn(F,Y,G)},u.prototype.shln=function(F){return this.clone().ishln(F)},u.prototype.ushln=function(F){return this.clone().iushln(F)},u.prototype.shrn=function(F){return this.clone().ishrn(F)},u.prototype.ushrn=function(F){return this.clone().iushrn(F)},u.prototype.testn=function(F){o("number"==typeof F&&F>=0);var Y=F%26,G=(F-Y)/26;return!(this.length<=G||!(this.words[G]&1<<Y))},u.prototype.imaskn=function(F){o("number"==typeof F&&F>=0);var Y=F%26,G=(F-Y)/26;return o(0===this.negative,"imaskn works only with positive numbers"),this.length<=G?this:(0!==Y&&G++,this.length=Math.min(G,this.length),0!==Y&&(this.words[this.length-1]&=67108863^67108863>>>Y<<Y),this.strip())},u.prototype.maskn=function(F){return this.clone().imaskn(F)},u.prototype.iaddn=function(F){return o("number"==typeof F),o(F<67108864),F<0?this.isubn(-F):0!==this.negative?1===this.length&&(0|this.words[0])<F?(this.words[0]=F-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(F),this.negative=1,this):this._iaddn(F)},u.prototype._iaddn=function(F){this.words[0]+=F;for(var Y=0;Y<this.length&&this.words[Y]>=67108864;Y++)this.words[Y]-=67108864,Y===this.length-1?this.words[Y+1]=1:this.words[Y+1]++;return this.length=Math.max(this.length,Y+1),this},u.prototype.isubn=function(F){if(o("number"==typeof F),o(F<67108864),F<0)return this.iaddn(-F);if(0!==this.negative)return this.negative=0,this.iaddn(F),this.negative=1,this;if(this.words[0]-=F,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var Y=0;Y<this.length&&this.words[Y]<0;Y++)this.words[Y]+=67108864,this.words[Y+1]-=1;return this.strip()},u.prototype.addn=function(F){return this.clone().iaddn(F)},u.prototype.subn=function(F){return this.clone().isubn(F)},u.prototype.iabs=function(){return this.negative=0,this},u.prototype.abs=function(){return this.clone().iabs()},u.prototype._ishlnsubmul=function(F,Y,G){var H,W;this._expand(F.length+G);var se=0;for(H=0;H<F.length;H++){W=(0|this.words[H+G])+se;var re=(0|F.words[H])*Y;se=((W-=67108863&re)>>26)-(re/67108864|0),this.words[H+G]=67108863&W}for(;H<this.length-G;H++)se=(W=(0|this.words[H+G])+se)>>26,this.words[H+G]=67108863&W;if(0===se)return this.strip();for(o(-1===se),se=0,H=0;H<this.length;H++)se=(W=-(0|this.words[H])+se)>>26,this.words[H]=67108863&W;return this.negative=1,this.strip()},u.prototype._wordDiv=function(F,Y){var G,H=this.clone(),W=F,Z=0|W.words[W.length-1];0!=(G=26-this._countBits(Z))&&(W=W.ushln(G),H.iushln(G),Z=0|W.words[W.length-1]);var se,re=H.length-W.length;if("mod"!==Y){(se=new u(null)).length=re+1,se.words=new Array(se.length);for(var ne=0;ne<se.length;ne++)se.words[ne]=0}var Q=H.clone()._ishlnsubmul(W,1,re);0===Q.negative&&(H=Q,se&&(se.words[re]=1));for(var ee=re-1;ee>=0;ee--){var oe=67108864*(0|H.words[W.length+ee])+(0|H.words[W.length+ee-1]);for(oe=Math.min(oe/Z|0,67108863),H._ishlnsubmul(W,oe,ee);0!==H.negative;)oe--,H.negative=0,H._ishlnsubmul(W,1,ee),H.isZero()||(H.negative^=1);se&&(se.words[ee]=oe)}return se&&se.strip(),H.strip(),"div"!==Y&&0!==G&&H.iushrn(G),{div:se||null,mod:H}},u.prototype.divmod=function(F,Y,G){return o(!F.isZero()),this.isZero()?{div:new u(0),mod:new u(0)}:0!==this.negative&&0===F.negative?(Z=this.neg().divmod(F,Y),"mod"!==Y&&(H=Z.div.neg()),"div"!==Y&&(W=Z.mod.neg(),G&&0!==W.negative&&W.iadd(F)),{div:H,mod:W}):0===this.negative&&0!==F.negative?(Z=this.divmod(F.neg(),Y),"mod"!==Y&&(H=Z.div.neg()),{div:H,mod:Z.mod}):this.negative&F.negative?(Z=this.neg().divmod(F.neg(),Y),"div"!==Y&&(W=Z.mod.neg(),G&&0!==W.negative&&W.isub(F)),{div:Z.div,mod:W}):F.length>this.length||this.cmp(F)<0?{div:new u(0),mod:this}:1===F.length?"div"===Y?{div:this.divn(F.words[0]),mod:null}:"mod"===Y?{div:null,mod:new u(this.modn(F.words[0]))}:{div:this.divn(F.words[0]),mod:new u(this.modn(F.words[0]))}:this._wordDiv(F,Y);var H,W,Z},u.prototype.div=function(F){return this.divmod(F,"div",!1).div},u.prototype.mod=function(F){return this.divmod(F,"mod",!1).mod},u.prototype.umod=function(F){return this.divmod(F,"mod",!0).mod},u.prototype.divRound=function(F){var Y=this.divmod(F);if(Y.mod.isZero())return Y.div;var G=0!==Y.div.negative?Y.mod.isub(F):Y.mod,H=F.ushrn(1),W=F.andln(1),Z=G.cmp(H);return Z<0||1===W&&0===Z?Y.div:0!==Y.div.negative?Y.div.isubn(1):Y.div.iaddn(1)},u.prototype.modn=function(F){o(F<=67108863);for(var Y=67108864%F,G=0,H=this.length-1;H>=0;H--)G=(Y*G+(0|this.words[H]))%F;return G},u.prototype.idivn=function(F){o(F<=67108863);for(var Y=0,G=this.length-1;G>=0;G--){var H=(0|this.words[G])+67108864*Y;this.words[G]=H/F|0,Y=H%F}return this.strip()},u.prototype.divn=function(F){return this.clone().idivn(F)},u.prototype.egcd=function(F){o(0===F.negative),o(!F.isZero());var Y=this,G=F.clone();Y=0!==Y.negative?Y.umod(F):Y.clone();for(var H=new u(1),W=new u(0),Z=new u(0),se=new u(1),re=0;Y.isEven()&&G.isEven();)Y.iushrn(1),G.iushrn(1),++re;for(var ne=G.clone(),Q=Y.clone();!Y.isZero();){for(var ee=0,oe=1;!(Y.words[0]&oe)&&ee<26;++ee,oe<<=1);if(ee>0)for(Y.iushrn(ee);ee-- >0;)(H.isOdd()||W.isOdd())&&(H.iadd(ne),W.isub(Q)),H.iushrn(1),W.iushrn(1);for(var ce=0,fe=1;!(G.words[0]&fe)&&ce<26;++ce,fe<<=1);if(ce>0)for(G.iushrn(ce);ce-- >0;)(Z.isOdd()||se.isOdd())&&(Z.iadd(ne),se.isub(Q)),Z.iushrn(1),se.iushrn(1);Y.cmp(G)>=0?(Y.isub(G),H.isub(Z),W.isub(se)):(G.isub(Y),Z.isub(H),se.isub(W))}return{a:Z,b:se,gcd:G.iushln(re)}},u.prototype._invmp=function(F){o(0===F.negative),o(!F.isZero());var Y=this,G=F.clone();Y=0!==Y.negative?Y.umod(F):Y.clone();for(var H,W=new u(1),Z=new u(0),se=G.clone();Y.cmpn(1)>0&&G.cmpn(1)>0;){for(var re=0,ne=1;!(Y.words[0]&ne)&&re<26;++re,ne<<=1);if(re>0)for(Y.iushrn(re);re-- >0;)W.isOdd()&&W.iadd(se),W.iushrn(1);for(var Q=0,ee=1;!(G.words[0]&ee)&&Q<26;++Q,ee<<=1);if(Q>0)for(G.iushrn(Q);Q-- >0;)Z.isOdd()&&Z.iadd(se),Z.iushrn(1);Y.cmp(G)>=0?(Y.isub(G),W.isub(Z)):(G.isub(Y),Z.isub(W))}return(H=0===Y.cmpn(1)?W:Z).cmpn(0)<0&&H.iadd(F),H},u.prototype.gcd=function(F){if(this.isZero())return F.abs();if(F.isZero())return this.abs();var Y=this.clone(),G=F.clone();Y.negative=0,G.negative=0;for(var H=0;Y.isEven()&&G.isEven();H++)Y.iushrn(1),G.iushrn(1);for(;;){for(;Y.isEven();)Y.iushrn(1);for(;G.isEven();)G.iushrn(1);var W=Y.cmp(G);if(W<0){var Z=Y;Y=G,G=Z}else if(0===W||0===G.cmpn(1))break;Y.isub(G)}return G.iushln(H)},u.prototype.invm=function(F){return this.egcd(F).a.umod(F)},u.prototype.isEven=function(){return 0==(1&this.words[0])},u.prototype.isOdd=function(){return 1==(1&this.words[0])},u.prototype.andln=function(F){return this.words[0]&F},u.prototype.bincn=function(F){o("number"==typeof F);var Y=F%26,G=(F-Y)/26,H=1<<Y;if(this.length<=G)return this._expand(G+1),this.words[G]|=H,this;for(var W=H,Z=G;0!==W&&Z<this.length;Z++){var se=0|this.words[Z];W=(se+=W)>>>26,this.words[Z]=se&=67108863}return 0!==W&&(this.words[Z]=W,this.length++),this},u.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},u.prototype.cmpn=function(F){var Y,G=F<0;if(0!==this.negative&&!G)return-1;if(0===this.negative&&G)return 1;if(this.strip(),this.length>1)Y=1;else{G&&(F=-F),o(F<=67108863,"Number is too big");var H=0|this.words[0];Y=H===F?0:H<F?-1:1}return 0!==this.negative?0|-Y:Y},u.prototype.cmp=function(F){if(0!==this.negative&&0===F.negative)return-1;if(0===this.negative&&0!==F.negative)return 1;var Y=this.ucmp(F);return 0!==this.negative?0|-Y:Y},u.prototype.ucmp=function(F){if(this.length>F.length)return 1;if(this.length<F.length)return-1;for(var Y=0,G=this.length-1;G>=0;G--){var H=0|this.words[G],W=0|F.words[G];if(H!==W){H<W?Y=-1:H>W&&(Y=1);break}}return Y},u.prototype.gtn=function(F){return 1===this.cmpn(F)},u.prototype.gt=function(F){return 1===this.cmp(F)},u.prototype.gten=function(F){return this.cmpn(F)>=0},u.prototype.gte=function(F){return this.cmp(F)>=0},u.prototype.ltn=function(F){return-1===this.cmpn(F)},u.prototype.lt=function(F){return-1===this.cmp(F)},u.prototype.lten=function(F){return this.cmpn(F)<=0},u.prototype.lte=function(F){return this.cmp(F)<=0},u.prototype.eqn=function(F){return 0===this.cmpn(F)},u.prototype.eq=function(F){return 0===this.cmp(F)},u.red=function(F){return new j(F)},u.prototype.toRed=function(F){return o(!this.red,"Already a number in reduction context"),o(0===this.negative,"red works only with positives"),F.convertTo(this)._forceRed(F)},u.prototype.fromRed=function(){return o(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},u.prototype._forceRed=function(F){return this.red=F,this},u.prototype.forceRed=function(F){return o(!this.red,"Already a number in reduction context"),this._forceRed(F)},u.prototype.redAdd=function(F){return o(this.red,"redAdd works only with red numbers"),this.red.add(this,F)},u.prototype.redIAdd=function(F){return o(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,F)},u.prototype.redSub=function(F){return o(this.red,"redSub works only with red numbers"),this.red.sub(this,F)},u.prototype.redISub=function(F){return o(this.red,"redISub works only with red numbers"),this.red.isub(this,F)},u.prototype.redShl=function(F){return o(this.red,"redShl works only with red numbers"),this.red.shl(this,F)},u.prototype.redMul=function(F){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,F),this.red.mul(this,F)},u.prototype.redIMul=function(F){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,F),this.red.imul(this,F)},u.prototype.redSqr=function(){return o(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},u.prototype.redISqr=function(){return o(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},u.prototype.redSqrt=function(){return o(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},u.prototype.redInvm=function(){return o(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},u.prototype.redNeg=function(){return o(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},u.prototype.redPow=function(F){return o(this.red&&!F.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,F)};var I={k256:null,p224:null,p192:null,p25519:null};function S(F,Y){this.name=F,this.p=new u(Y,16),this.n=this.p.bitLength(),this.k=new u(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function O(){S.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function R(){S.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function L(){S.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function N(){S.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function j(F){if("string"==typeof F){var Y=u._prime(F);this.m=Y.p,this.prime=Y}else o(F.gtn(1),"modulus must be greater than 1"),this.m=F,this.prime=null}function X(F){j.call(this,F),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new u(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}S.prototype._tmp=function(){var F=new u(null);return F.words=new Array(Math.ceil(this.n/13)),F},S.prototype.ireduce=function(F){var Y,G=F;do{this.split(G,this.tmp),Y=(G=(G=this.imulK(G)).iadd(this.tmp)).bitLength()}while(Y>this.n);var H=Y<this.n?-1:G.ucmp(this.p);return 0===H?(G.words[0]=0,G.length=1):H>0?G.isub(this.p):void 0!==G.strip?G.strip():G._strip(),G},S.prototype.split=function(F,Y){F.iushrn(this.n,0,Y)},S.prototype.imulK=function(F){return F.imul(this.k)},l(O,S),O.prototype.split=function(F,Y){for(var G=4194303,H=Math.min(F.length,9),W=0;W<H;W++)Y.words[W]=F.words[W];if(Y.length=H,F.length<=9)return F.words[0]=0,void(F.length=1);var Z=F.words[9];for(Y.words[Y.length++]=Z&G,W=10;W<F.length;W++){var se=0|F.words[W];F.words[W-10]=(se&G)<<4|Z>>>22,Z=se}F.words[W-10]=Z>>>=22,F.length-=0===Z&&F.length>10?10:9},O.prototype.imulK=function(F){F.words[F.length]=0,F.words[F.length+1]=0,F.length+=2;for(var Y=0,G=0;G<F.length;G++){var H=0|F.words[G];F.words[G]=67108863&(Y+=977*H),Y=64*H+(Y/67108864|0)}return 0===F.words[F.length-1]&&(F.length--,0===F.words[F.length-1]&&F.length--),F},l(R,S),l(L,S),l(N,S),N.prototype.imulK=function(F){for(var Y=0,G=0;G<F.length;G++){var H=19*(0|F.words[G])+Y,W=67108863&H;H>>>=26,F.words[G]=W,Y=H}return 0!==Y&&(F.words[F.length++]=Y),F},u._prime=function(F){if(I[F])return I[F];var Y;if("k256"===F)Y=new O;else if("p224"===F)Y=new R;else if("p192"===F)Y=new L;else{if("p25519"!==F)throw new Error("Unknown prime "+F);Y=new N}return I[F]=Y,Y},j.prototype._verify1=function(F){o(0===F.negative,"red works only with positives"),o(F.red,"red works only with red numbers")},j.prototype._verify2=function(F,Y){o(0==(F.negative|Y.negative),"red works only with positives"),o(F.red&&F.red===Y.red,"red works only with red numbers")},j.prototype.imod=function(F){return this.prime?this.prime.ireduce(F)._forceRed(this):F.umod(this.m)._forceRed(this)},j.prototype.neg=function(F){return F.isZero()?F.clone():this.m.sub(F)._forceRed(this)},j.prototype.add=function(F,Y){this._verify2(F,Y);var G=F.add(Y);return G.cmp(this.m)>=0&&G.isub(this.m),G._forceRed(this)},j.prototype.iadd=function(F,Y){this._verify2(F,Y);var G=F.iadd(Y);return G.cmp(this.m)>=0&&G.isub(this.m),G},j.prototype.sub=function(F,Y){this._verify2(F,Y);var G=F.sub(Y);return G.cmpn(0)<0&&G.iadd(this.m),G._forceRed(this)},j.prototype.isub=function(F,Y){this._verify2(F,Y);var G=F.isub(Y);return G.cmpn(0)<0&&G.iadd(this.m),G},j.prototype.shl=function(F,Y){return this._verify1(F),this.imod(F.ushln(Y))},j.prototype.imul=function(F,Y){return this._verify2(F,Y),this.imod(F.imul(Y))},j.prototype.mul=function(F,Y){return this._verify2(F,Y),this.imod(F.mul(Y))},j.prototype.isqr=function(F){return this.imul(F,F.clone())},j.prototype.sqr=function(F){return this.mul(F,F)},j.prototype.sqrt=function(F){if(F.isZero())return F.clone();var Y=this.m.andln(3);if(o(Y%2==1),3===Y){var G=this.m.add(new u(1)).iushrn(2);return this.pow(F,G)}for(var H=this.m.subn(1),W=0;!H.isZero()&&0===H.andln(1);)W++,H.iushrn(1);o(!H.isZero());var Z=new u(1).toRed(this),se=Z.redNeg(),re=this.m.subn(1).iushrn(1),ne=this.m.bitLength();for(ne=new u(2*ne*ne).toRed(this);0!==this.pow(ne,re).cmp(se);)ne.redIAdd(se);for(var Q=this.pow(ne,H),ee=this.pow(F,H.addn(1).iushrn(1)),oe=this.pow(F,H),ce=W;0!==oe.cmp(Z);){for(var fe=oe,le=0;0!==fe.cmp(Z);le++)fe=fe.redSqr();o(le<ce);var pe=this.pow(Q,new u(1).iushln(ce-le-1));ee=ee.redMul(pe),Q=pe.redSqr(),oe=oe.redMul(Q),ce=le}return ee},j.prototype.invm=function(F){var Y=F._invmp(this.m);return 0!==Y.negative?(Y.negative=0,this.imod(Y).redNeg()):this.imod(Y)},j.prototype.pow=function(F,Y){if(Y.isZero())return new u(1).toRed(this);if(0===Y.cmpn(1))return F.clone();var G=new Array(16);G[0]=new u(1).toRed(this),G[1]=F;for(var H=2;H<G.length;H++)G[H]=this.mul(G[H-1],F);var W=G[0],Z=0,se=0,re=Y.bitLength()%26;for(0===re&&(re=26),H=Y.length-1;H>=0;H--){for(var ne=Y.words[H],Q=re-1;Q>=0;Q--){var ee=ne>>Q&1;W!==G[0]&&(W=this.sqr(W)),0!==ee||0!==Z?(Z<<=1,Z|=ee,(4==++se||0===H&&0===Q)&&(W=this.mul(W,G[Z]),se=0,Z=0)):se=0}re=26}return W},j.prototype.convertTo=function(F){var Y=F.umod(this.m);return Y===F?Y.clone():Y},j.prototype.convertFrom=function(F){var Y=F.clone();return Y.red=null,Y},u.mont=function(F){return new X(F)},l(X,j),X.prototype.convertTo=function(F){return this.imod(F.ushln(this.shift))},X.prototype.convertFrom=function(F){var Y=this.imod(F.mul(this.rinv));return Y.red=null,Y},X.prototype.imul=function(F,Y){if(F.isZero()||Y.isZero())return F.words[0]=0,F.length=1,F;var G=F.imul(Y),H=G.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),W=G.isub(H).iushrn(this.shift),Z=W;return W.cmp(this.m)>=0?Z=W.isub(this.m):W.cmpn(0)<0&&(Z=W.iadd(this.m)),Z._forceRed(this)},X.prototype.mul=function(F,Y){if(F.isZero()||Y.isZero())return new u(0)._forceRed(this);var G=F.mul(Y),H=G.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),W=G.isub(H).iushrn(this.shift),Z=W;return W.cmp(this.m)>=0?Z=W.isub(this.m):W.cmpn(0)<0&&(Z=W.iadd(this.m)),Z._forceRed(this)},X.prototype.invm=function(F){return this.imod(F._invmp(this.m).mul(this.r2))._forceRed(this)}}(y=i.nmd(y),this)},2692:function(y){"use strict";y.exports=function(c){var i,s,a,o=c.length,l=0;for(i=0;i<o;++i)l+=c[i].length;var u=new Array(l),h=0;for(i=0;i<o;++i){var v=c[i],p=v.length;for(s=0;s<p;++s){var T=u[h++]=new Array(p-1),_=0;for(a=0;a<p;++a)a!==s&&(T[_++]=v[a]);if(1&s){var m=T[1];T[1]=T[0],T[0]=m}}}return u}},2569:function(y,c,i){"use strict";y.exports=function(T,_,m){switch(arguments.length){case 1:return s=[],v(w=T,w,p,!0),s;case 2:return"function"==typeof _?v(T,T,_,!0):(s=[],v(T,_,p,!1),s);case 3:return v(T,_,m,!1);default:throw new Error("box-intersect: Invalid arguments")}var w};var s,a=i(5306),o=i(1390),l=i(2337);function u(T,_){for(var m=0;m<T;++m)if(!(_[m]<=_[m+T]))return!0;return!1}function h(T,_,m,w){for(var x=0,b=0,A=0,g=T.length;A<g;++A){var I=T[A];if(!u(_,I)){for(var S=0;S<2*_;++S)m[x++]=I[S];w[b++]=A}}return b}function v(T,_,m,w){var x=T.length,b=_.length;if(!(x<=0||b<=0)){var A=T[0].length>>>1;if(!(A<=0)){var g,I=a.mallocDouble(2*A*x),S=a.mallocInt32(x);if((x=h(T,A,I,S))>0){if(1===A&&w)o.init(x),g=o.sweepComplete(A,m,0,x,I,S,0,x,I,S);else{var O=a.mallocDouble(2*A*b),R=a.mallocInt32(b);(b=h(_,A,O,R))>0&&(o.init(x+b),g=1===A?o.sweepBipartite(A,m,0,x,I,S,0,b,O,R):l(A,m,w,x,I,S,b,O,R),a.free(O),a.free(R))}a.free(I),a.free(S)}return g}}}function p(T,_){s.push([T,_])}},7333:function(y,c){"use strict";function i(s){return s?function(a,o,l,u,h,v,p,T,_,m,w){return h-u>_-T?function(x,b,A,g,I,S,O,R,L,N,j){for(var X=2*x,F=g,Y=X*g;F<I;++F,Y+=X){var G=S[b+Y],H=S[b+Y+x],W=O[F];e:for(var Z=R,se=X*R;Z<L;++Z,se+=X){var Q=j[Z];if(!(N[b+se+x]<G||H<N[b+se])){for(var ee=b+1;ee<x;++ee)if(S[ee+x+Y]<N[ee+se]||N[ee+x+se]<S[ee+Y])continue e;var pe=A(W,Q);if(void 0!==pe)return pe}}}}(a,o,l,u,h,v,p,T,_,m,w):function(x,b,A,g,I,S,O,R,L,N,j){for(var X=2*x,F=R,Y=X*R;F<L;++F,Y+=X){var G=N[b+Y],H=N[b+Y+x],W=j[F];e:for(var Z=g,se=X*g;Z<I;++Z,se+=X){var Q=O[Z];if(!(H<S[b+se]||S[b+se+x]<G)){for(var ee=b+1;ee<x;++ee)if(S[ee+x+se]<N[ee+Y]||N[ee+x+Y]<S[ee+se])continue e;var pe=A(Q,W);if(void 0!==pe)return pe}}}}(a,o,l,u,h,v,p,T,_,m,w)}:function(a,o,l,u,h,v,p,T,_,m,w,x){return v-h>m-_?u?function(b,A,g,I,S,O,R,L,N,j,X){for(var F=2*b,Y=I,G=F*I;Y<S;++Y,G+=F){var H=O[A+G],W=O[A+G+b],Z=R[Y];e:for(var se=L,re=F*L;se<N;++se,re+=F){var ne=j[A+re],Q=X[se];if(!(ne<=H||W<ne)){for(var ee=A+1;ee<b;++ee)if(O[ee+b+G]<j[ee+re]||j[ee+b+re]<O[ee+G])continue e;var pe=g(Q,Z);if(void 0!==pe)return pe}}}}(a,o,l,h,v,p,T,_,m,w,x):function(b,A,g,I,S,O,R,L,N,j,X){for(var F=2*b,Y=I,G=F*I;Y<S;++Y,G+=F){var H=O[A+G],W=O[A+G+b],Z=R[Y];e:for(var se=L,re=F*L;se<N;++se,re+=F){var ne=j[A+re],Q=X[se];if(!(ne<H||W<ne)){for(var ee=A+1;ee<b;++ee)if(O[ee+b+G]<j[ee+re]||j[ee+b+re]<O[ee+G])continue e;var pe=g(Z,Q);if(void 0!==pe)return pe}}}}(a,o,l,h,v,p,T,_,m,w,x):u?function(b,A,g,I,S,O,R,L,N,j,X){for(var F=2*b,Y=L,G=F*L;Y<N;++Y,G+=F){var H=j[A+G],W=X[Y];e:for(var Z=I,se=F*I;Z<S;++Z,se+=F){var Q=R[Z];if(!(H<=O[A+se]||O[A+se+b]<H)){for(var ee=A+1;ee<b;++ee)if(O[ee+b+se]<j[ee+G]||j[ee+b+G]<O[ee+se])continue e;var pe=g(W,Q);if(void 0!==pe)return pe}}}}(a,o,l,h,v,p,T,_,m,w,x):function(b,A,g,I,S,O,R,L,N,j,X){for(var F=2*b,Y=L,G=F*L;Y<N;++Y,G+=F){var H=j[A+G],W=X[Y];e:for(var Z=I,se=F*I;Z<S;++Z,se+=F){var Q=R[Z];if(!(H<O[A+se]||O[A+se+b]<H)){for(var ee=A+1;ee<b;++ee)if(O[ee+b+se]<j[ee+G]||j[ee+b+G]<O[ee+se])continue e;var pe=g(Q,W);if(void 0!==pe)return pe}}}}(a,o,l,h,v,p,T,_,m,w,x)}}c.partial=i(!1),c.full=i(!0)},2337:function(y,c,i){"use strict";y.exports=function(F,Y,G,H,W,Z,se,re,ne){!function(We,Ge){var Ke=8*a.log2(Ge+1)*(We+1)|0,et=a.nextPow2(S*Ke);R.length<et&&(s.free(R),R=s.mallocInt32(et));var at=a.nextPow2(O*Ke);L.length<at&&(s.free(L),L=s.mallocDouble(at))}(F,H+se);var Q,ee=0,oe=2*F;for(N(ee++,0,0,H,0,se,G?16:0,-1/0,1/0),G||N(ee++,0,0,se,0,H,1,-1/0,1/0);ee>0;){var ce=(ee-=1)*S,fe=R[ce],le=R[ce+1],pe=R[ce+2],Me=R[ce+3],Ae=R[ce+4],be=R[ce+5],ye=ee*O,we=L[ye],ze=L[ye+1],Se=1&be,Ce=!!(16&be),ge=W,he=Z,_e=re,Le=ne;if(Se&&(ge=re,he=ne,_e=W,Le=Z),!(2&be&&le>=(pe=b(F,fe,le,pe,ge,he,ze))||4&be&&(le=A(F,fe,le,pe,ge,he,we))>=pe)){var Ie=pe-le,De=Ae-Me;if(Ce){if(F*Ie*(Ie+De)<m){if(void 0!==(Q=h.scanComplete(F,fe,Y,le,pe,ge,he,Me,Ae,_e,Le)))return Q;continue}}else{if(F*Math.min(Ie,De)<T){if(void 0!==(Q=l(F,fe,Y,Se,le,pe,ge,he,Me,Ae,_e,Le)))return Q;continue}if(F*Ie*De<_){if(void 0!==(Q=h.scanBipartite(F,fe,Y,Se,le,pe,ge,he,Me,Ae,_e,Le)))return Q;continue}}var je=w(F,fe,le,pe,ge,he,we,ze);if(le<je)if(F*(je-le)<T){if(void 0!==(Q=u(F,fe+1,Y,le,je,ge,he,Me,Ae,_e,Le)))return Q}else if(fe===F-2){if(void 0!==(Q=Se?h.sweepBipartite(F,Y,Me,Ae,_e,Le,le,je,ge,he):h.sweepBipartite(F,Y,le,je,ge,he,Me,Ae,_e,Le)))return Q}else N(ee++,fe+1,le,je,Me,Ae,Se,-1/0,1/0),N(ee++,fe+1,Me,Ae,le,je,1^Se,-1/0,1/0);if(je<pe){var qe=v(F,fe,Me,Ae,_e,Le),ve=_e[oe*qe+fe],Oe=x(F,fe,qe,Ae,_e,Le,ve);if(Oe<Ae&&N(ee++,fe,je,pe,Oe,Ae,(4|Se)+(Ce?16:0),ve,ze),Me<qe&&N(ee++,fe,je,pe,Me,qe,(2|Se)+(Ce?16:0),we,ve),qe+1===Oe){if(void 0!==(Q=Ce?X(F,fe,Y,je,pe,ge,he,qe,_e,Le[qe]):j(F,fe,Y,Se,je,pe,ge,he,qe,_e,Le[qe])))return Q}else if(qe<Oe){var ke;if(Ce){if(je<(ke=g(F,fe,je,pe,ge,he,ve))){var Be=x(F,fe,je,ke,ge,he,ve);if(fe===F-2){if(je<Be&&void 0!==(Q=h.sweepComplete(F,Y,je,Be,ge,he,qe,Oe,_e,Le))||Be<ke&&void 0!==(Q=h.sweepBipartite(F,Y,Be,ke,ge,he,qe,Oe,_e,Le)))return Q}else je<Be&&N(ee++,fe+1,je,Be,qe,Oe,16,-1/0,1/0),Be<ke&&(N(ee++,fe+1,Be,ke,qe,Oe,0,-1/0,1/0),N(ee++,fe+1,qe,Oe,Be,ke,1,-1/0,1/0))}}else je<(ke=Se?I(F,fe,je,pe,ge,he,ve):g(F,fe,je,pe,ge,he,ve))&&(fe===F-2?Q=Se?h.sweepBipartite(F,Y,qe,Oe,_e,Le,je,ke,ge,he):h.sweepBipartite(F,Y,je,ke,ge,he,qe,Oe,_e,Le):(N(ee++,fe+1,je,ke,qe,Oe,Se,-1/0,1/0),N(ee++,fe+1,qe,Oe,je,ke,1^Se,-1/0,1/0)))}}}}};var s=i(5306),a=i(2288),o=i(7333),l=o.partial,u=o.full,h=i(1390),v=i(2464),p=i(122),T=128,_=1<<22,m=1<<22,w=p("!(lo>=p0)&&!(p1>=hi)"),x=p("lo===p0"),b=p("lo<p0"),A=p("hi<=p0"),g=p("lo<=p0&&p0<=hi"),I=p("lo<p0&&p0<=hi"),S=6,O=2,R=s.mallocInt32(1024),L=s.mallocDouble(1024);function N(F,Y,G,H,W,Z,se,re,ne){var Q=S*F;R[Q]=Y,R[Q+1]=G,R[Q+2]=H,R[Q+3]=W,R[Q+4]=Z,R[Q+5]=se;var ee=O*F;L[ee]=re,L[ee+1]=ne}function j(F,Y,G,H,W,Z,se,re,ne,Q,ee){var oe=2*F,ce=ne*oe,fe=Q[ce+Y];e:for(var le=W,pe=W*oe;le<Z;++le,pe+=oe){var Me=se[pe+Y],Ae=se[pe+Y+F];if(!(fe<Me||Ae<fe||H&&fe===Me)){for(var be,ye=re[le],we=Y+1;we<F;++we)if(Me=se[pe+we],(Ae=se[pe+we+F])<Q[ce+we]||Q[ce+we+F]<Me)continue e;if(void 0!==(be=H?G(ee,ye):G(ye,ee)))return be}}}function X(F,Y,G,H,W,Z,se,re,ne,Q){var ee=2*F,oe=re*ee,ce=ne[oe+Y];e:for(var fe=H,le=H*ee;fe<W;++fe,le+=ee){var pe=se[fe];if(pe!==Q){var Me=Z[le+Y],Ae=Z[le+Y+F];if(!(ce<Me||Ae<ce)){for(var be=Y+1;be<F;++be)if(Me=Z[le+be],(Ae=Z[le+be+F])<ne[oe+be]||ne[oe+be+F]<Me)continue e;var ze=G(pe,Q);if(void 0!==ze)return ze}}}}},2464:function(y,c,i){"use strict";y.exports=function(l,u,h,v,p,T){if(v<=h+1)return h;for(var _=h,m=v,w=v+h>>>1,x=2*l,b=w,A=p[x*w+u];_<m;){if(m-_<a){o(l,u,_,m,p,T),A=p[x*w+u];break}var g=m-_,I=Math.random()*g+_|0,S=p[x*I+u],O=Math.random()*g+_|0,R=p[x*O+u],L=Math.random()*g+_|0,N=p[x*L+u];S<=R?N>=R?(b=O,A=R):S>=N?(b=I,A=S):(b=L,A=N):R>=N?(b=O,A=R):N>=S?(b=I,A=S):(b=L,A=N);for(var j=x*(m-1),X=x*b,F=0;F<x;++F,++j,++X){var Y=p[j];p[j]=p[X],p[X]=Y}var G=T[m-1];for(T[m-1]=T[b],T[b]=G,j=x*(m-1),X=x*(b=s(l,u,_,m-1,p,T,A)),F=0;F<x;++F,++j,++X)Y=p[j],p[j]=p[X],p[X]=Y;if(G=T[m-1],T[m-1]=T[b],T[b]=G,w<b){for(m=b-1;_<m&&p[x*(m-1)+u]===A;)m-=1;m+=1}else{if(!(b<w))break;for(_=b+1;_<m&&p[x*_+u]===A;)_+=1}}return s(l,u,h,w,p,T,p[x*w+u])};var s=i(122)("lo<p0"),a=8;function o(l,u,h,v,p,T){for(var _=2*l,m=_*(h+1)+u,w=h+1;w<v;++w,m+=_)for(var x=p[m],b=w,A=_*(w-1);b>h&&p[A+u]>x;--b,A-=_){for(var g=A,I=A+_,S=0;S<_;++S,++g,++I){var O=p[g];p[g]=p[I],p[I]=O}var R=T[b];T[b]=T[b-1],T[b-1]=R}}},122:function(y){"use strict";y.exports=function(i){return c[i]};var c={"lo===p0":function(i,s,a,o,l,u,h){for(var v=2*i,p=v*a,T=p,_=a,m=s,w=a;o>w;++w,p+=v)if(l[p+m]===h)if(_===w)_+=1,T+=v;else{for(var x=0;v>x;++x){var b=l[p+x];l[p+x]=l[T],l[T++]=b}var A=u[w];u[w]=u[_],u[_++]=A}return _},"lo<p0":function(i,s,a,o,l,u,h){for(var v=2*i,p=v*a,T=p,_=a,m=s,w=a;o>w;++w,p+=v)if(l[p+m]<h)if(_===w)_+=1,T+=v;else{for(var x=0;v>x;++x){var b=l[p+x];l[p+x]=l[T],l[T++]=b}var A=u[w];u[w]=u[_],u[_++]=A}return _},"lo<=p0":function(i,s,a,o,l,u,h){for(var v=2*i,p=v*a,T=p,_=a,m=i+s,w=a;o>w;++w,p+=v)if(l[p+m]<=h)if(_===w)_+=1,T+=v;else{for(var x=0;v>x;++x){var b=l[p+x];l[p+x]=l[T],l[T++]=b}var A=u[w];u[w]=u[_],u[_++]=A}return _},"hi<=p0":function(i,s,a,o,l,u,h){for(var v=2*i,p=v*a,T=p,_=a,m=i+s,w=a;o>w;++w,p+=v)if(l[p+m]<=h)if(_===w)_+=1,T+=v;else{for(var x=0;v>x;++x){var b=l[p+x];l[p+x]=l[T],l[T++]=b}var A=u[w];u[w]=u[_],u[_++]=A}return _},"lo<p0&&p0<=hi":function(i,s,a,o,l,u,h){for(var v=2*i,p=v*a,T=p,_=a,m=s,w=i+s,x=a;o>x;++x,p+=v)if(l[p+m]<h&&h<=l[p+w])if(_===x)_+=1,T+=v;else{for(var g=0;v>g;++g){var I=l[p+g];l[p+g]=l[T],l[T++]=I}var S=u[x];u[x]=u[_],u[_++]=S}return _},"lo<=p0&&p0<=hi":function(i,s,a,o,l,u,h){for(var v=2*i,p=v*a,T=p,_=a,m=s,w=i+s,x=a;o>x;++x,p+=v)if(l[p+m]<=h&&h<=l[p+w])if(_===x)_+=1,T+=v;else{for(var g=0;v>g;++g){var I=l[p+g];l[p+g]=l[T],l[T++]=I}var S=u[x];u[x]=u[_],u[_++]=S}return _},"!(lo>=p0)&&!(p1>=hi)":function(i,s,a,o,l,u,h,v){for(var p=2*i,T=p*a,_=T,m=a,w=s,x=i+s,b=a;o>b;++b,T+=p)if(!(l[T+w]>=h||v>=l[T+x]))if(m===b)m+=1,_+=p;else{for(var I=0;p>I;++I){var S=l[T+I];l[T+I]=l[_],l[_++]=S}var O=u[b];u[b]=u[m],u[m++]=O}return m}}},309:function(y){"use strict";y.exports=function(p,T){T<=4*c?i(0,T-1,p):v(0,T-1,p)};var c=32;function i(p,T,_){for(var m=2*(p+1),w=p+1;w<=T;++w){for(var x=_[m++],b=_[m++],A=w,g=m-2;A-- >p;){var I=_[g-2],S=_[g-1];if(I<x||I===x&&S<b)break;_[g]=I,_[g+1]=S,g-=2}_[g]=x,_[g+1]=b}}function s(p,T,_){var m=_[p*=2],w=_[p+1];_[p]=_[T*=2],_[p+1]=_[T+1],_[T]=m,_[T+1]=w}function a(p,T,_){_[p*=2]=_[T*=2],_[p+1]=_[T+1]}function o(p,T,_,m){_*=2;var w=m[p*=2],x=m[p+1];m[p]=m[T*=2],m[p+1]=m[T+1],m[T]=m[_],m[T+1]=m[_+1],m[_]=w,m[_+1]=x}function l(p,T,_,m,w){w[p*=2]=w[T*=2],w[T]=_,w[p+1]=w[T+1],w[T+1]=m}function u(p,T,_){var m=_[p*=2],w=_[T*=2];return!(m<w)&&(m!==w||_[p+1]>_[T+1])}function h(p,T,_,m){var w=m[p*=2];return w<T||w===T&&m[p+1]<_}function v(p,T,_){var m=(T-p+1)/6|0,w=p+m,x=T-m,b=p+T>>1,A=b-m,g=b+m,I=w,S=A,O=b,R=g,L=x,N=p+1,j=T-1,X=0;u(I,S,_)&&(X=I,I=S,S=X),u(R,L,_)&&(X=R,R=L,L=X),u(I,O,_)&&(X=I,I=O,O=X),u(S,O,_)&&(X=S,S=O,O=X),u(I,R,_)&&(X=I,I=R,R=X),u(O,R,_)&&(X=O,O=R,R=X),u(S,L,_)&&(X=S,S=L,L=X),u(S,O,_)&&(X=S,S=O,O=X),u(R,L,_)&&(X=R,R=L,L=X);for(var F=_[2*S],Y=_[2*S+1],G=_[2*R],H=_[2*R+1],W=2*I,Z=2*O,se=2*L,re=2*w,ne=2*b,Q=2*x,ee=0;ee<2;++ee){var ce=_[Z+ee],fe=_[se+ee];_[re+ee]=_[W+ee],_[ne+ee]=ce,_[Q+ee]=fe}a(A,p,_),a(g,T,_);for(var le=N;le<=j;++le)if(h(le,F,Y,_))le!==N&&s(le,N,_),++N;else if(!h(le,G,H,_))for(;;){if(h(j,G,H,_)){h(j,F,Y,_)?(o(le,N,j,_),++N,--j):(s(le,j,_),--j);break}if(--j<le)break}l(p,N-1,F,Y,_),l(T,j+1,G,H,_),N-2-p<=c?i(p,N-2,_):v(p,N-2,_),T-(j+2)<=c?i(j+2,T,_):v(j+2,T,_),j-N<=c?i(N,j,_):v(N,j,_)}},1390:function(y,c,i){"use strict";y.exports={init:function(A){var g=a.nextPow2(A);h.length<g&&(s.free(h),h=s.mallocInt32(g)),v.length<g&&(s.free(v),v=s.mallocInt32(g)),p.length<g&&(s.free(p),p=s.mallocInt32(g)),T.length<g&&(s.free(T),T=s.mallocInt32(g)),_.length<g&&(s.free(_),_=s.mallocInt32(g)),m.length<g&&(s.free(m),m=s.mallocInt32(g));var I=8*g;w.length<I&&(s.free(w),w=s.mallocDouble(I))},sweepBipartite:function(A,g,I,S,O,R,L,N,j,X){for(var F=0,Y=2*A,G=A-1,H=Y-1,W=I;W<S;++W){var Z=R[W],se=Y*W;w[F++]=O[se+G],w[F++]=-(Z+1),w[F++]=O[se+H],w[F++]=Z}for(W=L;W<N;++W){Z=X[W]+l;var re=Y*W;w[F++]=j[re+G],w[F++]=-Z,w[F++]=j[re+H],w[F++]=Z}var ne=F>>>1;o(w,ne);var Q=0,ee=0;for(W=0;W<ne;++W){var oe=0|w[2*W+1];if(oe>=l)x(p,T,ee--,oe=oe-l|0);else if(oe>=0)x(h,v,Q--,oe);else if(oe<=-l){oe=-oe-l|0;for(var ce=0;ce<Q;++ce)if(void 0!==(fe=g(h[ce],oe)))return fe;b(p,T,ee++,oe)}else{for(oe=-oe-1|0,ce=0;ce<ee;++ce){var fe;if(void 0!==(fe=g(oe,p[ce])))return fe}b(h,v,Q++,oe)}}},sweepComplete:function(A,g,I,S,O,R,L,N,j,X){for(var F=0,Y=2*A,G=A-1,H=Y-1,W=I;W<S;++W){var Z=R[W]+1<<1,se=Y*W;w[F++]=O[se+G],w[F++]=-Z,w[F++]=O[se+H],w[F++]=Z}for(W=L;W<N;++W){Z=X[W]+1<<1;var re=Y*W;w[F++]=j[re+G],w[F++]=1|-Z,w[F++]=j[re+H],w[F++]=1|Z}var ne=F>>>1;o(w,ne);var Q=0,ee=0,oe=0;for(W=0;W<ne;++W){var ce=0|w[2*W+1],fe=1&ce;if(W<ne-1&&ce>>1==w[2*W+3]>>1&&(fe=2,W+=1),ce<0){for(var le=-(ce>>1)-1,pe=0;pe<oe;++pe)if(void 0!==(Me=g(_[pe],le)))return Me;if(0!==fe)for(pe=0;pe<Q;++pe)if(void 0!==(Me=g(h[pe],le)))return Me;if(1!==fe)for(pe=0;pe<ee;++pe){var Me;if(void 0!==(Me=g(p[pe],le)))return Me}0===fe?b(h,v,Q++,le):1===fe?b(p,T,ee++,le):2===fe&&b(_,m,oe++,le)}else le=(ce>>1)-1,0===fe?x(h,v,Q--,le):1===fe?x(p,T,ee--,le):2===fe&&x(_,m,oe--,le)}},scanBipartite:function(A,g,I,S,O,R,L,N,j,X,F,Y){var G=0,H=2*A,W=g,Z=g+A,se=1,re=1;S?re=l:se=l;for(var ne=O;ne<R;++ne){var Q=ne+se,ee=H*ne;w[G++]=L[ee+W],w[G++]=-Q,w[G++]=L[ee+Z],w[G++]=Q}for(ne=j;ne<X;++ne)Q=ne+re,w[G++]=F[H*ne+W],w[G++]=-Q;var ce=G>>>1;o(w,ce);var fe=0;for(ne=0;ne<ce;++ne){var le=0|w[2*ne+1];if(le<0){var pe=!1;if((Q=-le)>=l?(pe=!S,Q-=l):(pe=!!S,Q-=1),pe)b(h,v,fe++,Q);else{var Me=Y[Q],Ae=H*Q,be=F[Ae+g+1],ye=F[Ae+g+1+A];e:for(var we=0;we<fe;++we){var ze=h[we],Se=H*ze;if(!(ye<L[Se+g+1]||L[Se+g+1+A]<be)){for(var Ce=g+2;Ce<A;++Ce)if(F[Ae+Ce+A]<L[Se+Ce]||L[Se+Ce+A]<F[Ae+Ce])continue e;var ge,he=N[ze];if(void 0!==(ge=S?I(Me,he):I(he,Me)))return ge}}}}else x(h,v,fe--,le-se)}},scanComplete:function(A,g,I,S,O,R,L,N,j,X,F){for(var Y=0,G=2*A,H=g,W=g+A,Z=S;Z<O;++Z){var se=Z+l,re=G*Z;w[Y++]=R[re+H],w[Y++]=-se,w[Y++]=R[re+W],w[Y++]=se}for(Z=N;Z<j;++Z)se=Z+1,w[Y++]=X[G*Z+H],w[Y++]=-se;var Q=Y>>>1;o(w,Q);var ee=0;for(Z=0;Z<Q;++Z){var oe=0|w[2*Z+1];if(oe<0)if((se=-oe)>=l)h[ee++]=se-l;else{var ce=F[se-=1],fe=G*se,le=X[fe+g+1],pe=X[fe+g+1+A];e:for(var Me=0;Me<ee;++Me){var Ae=h[Me],be=L[Ae];if(be===ce)break;var ye=G*Ae;if(!(pe<R[ye+g+1]||R[ye+g+1+A]<le)){for(var we=g+2;we<A;++we)if(X[fe+we+A]<R[ye+we]||R[ye+we+A]<X[fe+we])continue e;var ze=I(be,ce);if(void 0!==ze)return ze}}}else{for(se=oe-l,Me=ee-1;Me>=0;--Me)if(h[Me]===se){for(we=Me+1;we<ee;++we)h[we-1]=h[we];break}--ee}}}};var s=i(5306),a=i(2288),o=i(309),l=1<<28,u=1024,h=s.mallocInt32(u),v=s.mallocInt32(u),p=s.mallocInt32(u),T=s.mallocInt32(u),_=s.mallocInt32(u),m=s.mallocInt32(u),w=s.mallocDouble(8192);function x(A,g,I,S){var O=g[S],R=A[I-1];A[O]=R,g[R]=O}function b(A,g,I,S){A[I]=S,g[S]=I}},7761:function(y,c,i){"use strict";var s=i(9971),a=i(743),o=i(2161),l=i(7098);function u(p){return[Math.min(p[0],p[1]),Math.max(p[0],p[1])]}function h(p,T){return p[0]-T[0]||p[1]-T[1]}function v(p,T,_){return T in p?p[T]:_}y.exports=function(p,T,_){Array.isArray(T)?(_=_||{},T=T||[]):(_=T||{},T=[]);var m=!!v(_,"delaunay",!0),w=!!v(_,"interior",!0),x=!!v(_,"exterior",!0),b=!!v(_,"infinity",!1);if(!w&&!x||0===p.length)return[];var A=s(p,T);if(m||w!==x||b){for(var g=a(p.length,T.map(u).sort(h)),I=0;I<A.length;++I){var S=A[I];g.addTriangle(S[0],S[1],S[2])}return m&&o(p,g),x?w?b?l(g,0,b):g.cells():l(g,1,b):l(g,-1)}return A}},2161:function(y,c,i){"use strict";var s=i(2227)[4];function a(o,l,u,h,v,p){var T=l.opposite(h,v);if(!(T<0)){if(v<h){var _=h;h=v,v=_,_=p,p=T,T=_}l.isConstraint(h,v)||s(o[h],o[v],o[p],o[T])<0&&u.push(h,v)}}i(5070),y.exports=function(o,l){for(var u=[],h=o.length,v=l.stars,p=0;p<h;++p)for(var T=v[p],_=1;_<T.length;_+=2)if(!((b=T[_])<p||l.isConstraint(p,b))){for(var m=T[_-1],w=-1,x=1;x<T.length;x+=2)if(T[x-1]===b){w=T[x];break}w<0||s(o[p],o[b],o[m],o[w])<0&&u.push(p,b)}for(;u.length>0;){for(var b=u.pop(),A=(m=-1,w=-1,T=v[p=u.pop()],1);A<T.length;A+=2){var g=T[A-1],I=T[A];g===b?w=I:I===b&&(m=g)}m<0||w<0||s(o[p],o[b],o[m],o[w])>=0||(l.flip(p,b),a(o,l,u,m,p,w),a(o,l,u,p,w,m),a(o,l,u,w,b,m),a(o,l,u,b,m,w))}}},7098:function(y,c,i){"use strict";var s,a=i(5070);function o(u,h,v,p,T,_,m){this.cells=u,this.neighbor=h,this.flags=p,this.constraint=v,this.active=T,this.next=_,this.boundary=m}function l(u,h){return u[0]-h[0]||u[1]-h[1]||u[2]-h[2]}y.exports=function(u,h,v){var p=function(L,N){for(var j=L.cells(),X=j.length,F=0;F<X;++F){var Y=(oe=j[F])[0],G=oe[1],H=oe[2];G<H?G<Y&&(oe[0]=G,oe[1]=H,oe[2]=Y):H<Y&&(oe[0]=H,oe[1]=Y,oe[2]=G)}j.sort(l);var W=new Array(X);for(F=0;F<W.length;++F)W[F]=0;var Z=[],se=[],re=new Array(3*X),ne=new Array(3*X),Q=null;N&&(Q=[]);var ee=new o(j,re,ne,W,Z,se,Q);for(F=0;F<X;++F)for(var oe=j[F],ce=0;ce<3;++ce){var fe=re[3*F+ce]=ee.locate(G=oe[(ce+1)%3],Y=oe[ce],L.opposite(G,Y)),le=ne[3*F+ce]=L.isConstraint(Y,G);fe<0&&(le?se.push(F):(Z.push(F),W[F]=1),N&&Q.push([G,Y,-1]))}return ee}(u,v);if(0===h)return v?p.cells.concat(p.boundary):p.cells;for(var T=1,_=p.active,m=p.next,w=p.flags,x=p.cells,b=p.constraint,A=p.neighbor;_.length>0||m.length>0;){for(;_.length>0;){var g=_.pop();if(w[g]!==-T){w[g]=T;for(var I=0;I<3;++I){var S=A[3*g+I];S>=0&&0===w[S]&&(b[3*g+I]?m.push(S):(_.push(S),w[S]=T))}}}var O=m;m=_,_=O,m.length=0,T=-T}var R=function(L,N,j){for(var X=0,F=0;F<L.length;++F)N[F]===j&&(L[X++]=L[F]);return L.length=X,L}(x,w,h);return v?R.concat(p.boundary):R},o.prototype.locate=(s=[0,0,0],function(u,h,v){var p=u,T=h,_=v;return h<v?h<u&&(p=h,T=v,_=u):v<u&&(p=v,T=u,_=h),p<0?-1:(s[0]=p,s[1]=T,s[2]=_,a.eq(this.cells,s,l))})},9971:function(y,c,i){"use strict";var s=i(5070),a=i(417)[3];function o(m,w,x,b,A){this.a=m,this.b=w,this.idx=x,this.lowerIds=b,this.upperIds=A}function l(m,w,x,b){this.a=m,this.b=w,this.type=x,this.idx=b}function u(m,w){var x=m.a[0]-w.a[0]||m.a[1]-w.a[1]||m.type-w.type;return x||(0!==m.type&&(x=a(m.a,m.b,w.b))?x:m.idx-w.idx)}function h(m,w){return a(m.a,m.b,w)}function v(m,w,x,b,A){for(var g=s.lt(w,b,h),I=s.gt(w,b,h),S=g;S<I;++S){for(var O=w[S],R=O.lowerIds,L=R.length;L>1&&a(x[R[L-2]],x[R[L-1]],b)>0;)m.push([R[L-1],R[L-2],A]),L-=1;R.length=L,R.push(A);var N=O.upperIds;for(L=N.length;L>1&&a(x[N[L-2]],x[N[L-1]],b)<0;)m.push([N[L-2],N[L-1],A]),L-=1;N.length=L,N.push(A)}}function p(m,w){var x;return(x=m.a[0]<w.a[0]?a(m.a,m.b,w.a):a(w.b,w.a,m.a))?x:(x=w.b[0]<m.b[0]?a(m.a,m.b,w.b):a(w.b,w.a,m.b))||m.idx-w.idx}function T(m,w,x){var b=s.le(m,x,p),A=m[b],g=A.upperIds,I=g[g.length-1];A.upperIds=[I],m.splice(b+1,0,new o(x.a,x.b,x.idx,[I],g))}function _(m,w,x){var b=x.a;x.a=x.b,x.b=b;var A=s.eq(m,x,p);m[A-1].upperIds=m[A].upperIds,m.splice(A,1)}y.exports=function(m,w){for(var x=m.length,b=w.length,A=[],g=0;g<x;++g)A.push(new l(m[g],null,0,g));for(g=0;g<b;++g){var I=w[g],S=m[I[0]],O=m[I[1]];S[0]<O[0]?A.push(new l(S,O,2,g),new l(O,S,1,g)):S[0]>O[0]&&A.push(new l(O,S,2,g),new l(S,O,1,g))}A.sort(u);for(var R=A[0].a[0]-(1+Math.abs(A[0].a[0]))*Math.pow(2,-52),L=[new o([R,1],[R,0],-1,[],[],[],[])],N=[],j=(g=0,A.length);g<j;++g){var X=A[g],F=X.type;0===F?v(N,L,m,X.a,X.idx):2===F?T(L,0,X):_(L,0,X)}return N}},743:function(y,c,i){"use strict";var s=i(5070);function a(u,h){this.stars=u,this.edges=h}y.exports=function(u,h){for(var v=new Array(u),p=0;p<u;++p)v[p]=[];return new a(v,h)};var o=a.prototype;function l(u,h,v){for(var p=1,T=u.length;p<T;p+=2)if(u[p-1]===h&&u[p]===v)return u[p-1]=u[T-2],u[p]=u[T-1],void(u.length=T-2)}o.isConstraint=function(){var u=[0,0];function h(v,p){return v[0]-p[0]||v[1]-p[1]}return function(v,p){return u[0]=Math.min(v,p),u[1]=Math.max(v,p),s.eq(this.edges,u,h)>=0}}(),o.removeTriangle=function(u,h,v){var p=this.stars;l(p[u],h,v),l(p[h],v,u),l(p[v],u,h)},o.addTriangle=function(u,h,v){var p=this.stars;p[u].push(h,v),p[h].push(v,u),p[v].push(u,h)},o.opposite=function(u,h){for(var v=this.stars[h],p=1,T=v.length;p<T;p+=2)if(v[p]===u)return v[p-1];return-1},o.flip=function(u,h){var v=this.opposite(u,h),p=this.opposite(h,u);this.removeTriangle(u,h,v),this.removeTriangle(h,u,p),this.addTriangle(u,p,v),this.addTriangle(h,v,p)},o.edges=function(){for(var u=this.stars,h=[],v=0,p=u.length;v<p;++v)for(var T=u[v],_=0,m=T.length;_<m;_+=2)h.push([T[_],T[_+1]]);return h},o.cells=function(){for(var u=this.stars,h=[],v=0,p=u.length;v<p;++v)for(var T=u[v],_=0,m=T.length;_<m;_+=2){var w=T[_],x=T[_+1];v<Math.min(w,x)&&h.push([v,w,x])}return h}},9887:function(y){"use strict";y.exports=function(c){for(var i=1,s=1;s<c.length;++s)for(var a=0;a<s;++a)if(c[s]<c[a])i=-i;else if(c[a]===c[s])return 0;return i}},9243:function(y,c,i){"use strict";var s=i(3094),a=i(6606);function o(h,v){for(var p=0,T=h.length,_=0;_<T;++_)p+=h[_]*v[_];return p}function l(h){var v=h.length;if(0===v)return[];var p=s([h.length+1,h.length+1],1),T=s([h.length+1],1);p[v][v]=0;for(var _=0;_<v;++_){for(var m=0;m<=_;++m)p[m][_]=p[_][m]=2*o(h[_],h[m]);T[_]=o(h[_],h[_])}var w=a(p,T),x=0,b=w[v+1];for(_=0;_<b.length;++_)x+=b[_];var A=new Array(v);for(_=0;_<v;++_){b=w[_];var g=0;for(m=0;m<b.length;++m)g+=b[m];A[_]=g/x}return A}function u(h){if(0===h.length)return[];for(var v=h[0].length,p=s([v]),T=l(h),_=0;_<h.length;++_)for(var m=0;m<v;++m)p[m]+=h[_][m]*T[_];return p}u.barycenetric=l,y.exports=u},1778:function(y,c,i){y.exports=function(a){for(var o=s(a),l=0,u=0;u<a.length;++u)for(var h=a[u],v=0;v<o.length;++v)l+=Math.pow(h[v]-o[v],2);return Math.sqrt(l/a.length)};var s=i(9243)},197:function(y,c,i){"use strict";y.exports=function(I,S,O){var R,F,G,H;if(O){R=S;for(var L=new Array(S.length),N=0;N<S.length;++N){var j=S[N];L[N]=[j[0],j[1],O[N]]}S=L}for(var X=(G=!!O,void 0,A(S,H=w(F=I,[],m(F)),G),!!H);g(I,S,!!O);)X=!0;if(O&&X)for(R.length=0,O.length=0,N=0;N<S.length;++N)R.push([(j=S[N])[0],j[1]]),O.push(j[2]);return X};var s=i(1731),a=i(2569),o=i(4434),l=i(5125),u=i(8846),h=i(7999),v=i(2826),p=i(8551),T=i(5528);function _(I){var S=h(I);return[p(S,-1/0),p(S,1/0)]}function m(I){for(var S=new Array(I.length),O=0;O<I.length;++O){var R=I[O];S[O]=[p(R[0],-1/0),p(R[1],-1/0),p(R[0],1/0),p(R[1],1/0)]}return S}function w(I,S,O){for(var R=S.length,L=new s(R),N=[],j=0;j<S.length;++j){var X=S[j],F=_(X[0]),Y=_(X[1]);N.push([p(F[0],-1/0),p(Y[0],-1/0),p(F[1],1/0),p(Y[1],1/0)])}a(N,function(se,re){L.link(se,re)});var G=!0,H=new Array(R);for(j=0;j<R;++j)(Z=L.find(j))!==j&&(G=!1,I[Z]=[Math.min(I[j][0],I[Z][0]),Math.min(I[j][1],I[Z][1])]);if(G)return null;var W=0;for(j=0;j<R;++j){var Z;(Z=L.find(j))===j?(H[j]=W,I[W++]=I[j]):H[j]=-1}for(I.length=W,j=0;j<R;++j)H[j]<0&&(H[j]=H[L.find(j)]);return H}function x(I,S){return I[0]-S[0]||I[1]-S[1]}function b(I,S){return I[0]-S[0]||I[1]-S[1]||(I[2]<S[2]?-1:I[2]>S[2]?1:0)}function A(I,S,O){if(0!==I.length){if(S)for(var R=0;R<I.length;++R){var L=S[(j=I[R])[0]],N=S[j[1]];j[0]=Math.min(L,N),j[1]=Math.max(L,N)}else for(R=0;R<I.length;++R){var j;L=(j=I[R])[0],N=j[1],j[0]=Math.min(L,N),j[1]=Math.max(L,N)}I.sort(O?b:x);var X=1;for(R=1;R<I.length;++R){var F=I[R-1],Y=I[R];(Y[0]!==F[0]||Y[1]!==F[1]||O&&Y[2]!==F[2])&&(I[X++]=Y)}I.length=X}}function g(I,S,O){var F,Y,H,R=function(F,Y){for(var G=new Array(Y.length),H=0;H<Y.length;++H){var W=Y[H],Z=F[W[0]],se=F[W[1]];G[H]=[p(Math.min(Z[0],se[0]),-1/0),p(Math.min(Z[1],se[1]),-1/0),p(Math.max(Z[0],se[0]),1/0),p(Math.max(Z[1],se[1]),1/0)]}return G}(I,S),L=(F=I,Y=S,H=[],a(R,function(W,Z){var se=Y[W],re=Y[Z];se[0]!==re[0]&&se[0]!==re[1]&&se[1]!==re[0]&&se[1]!==re[1]&&o(F[se[0]],F[se[1]],F[re[0]],F[re[1]])&&H.push([W,Z])}),H),N=function(F,Y,G,H){var W=[];return a(G,H,function(Z,se){var re=Y[Z];if(re[0]!==se&&re[1]!==se){var ne=F[se];o(F[re[0]],F[re[1]],ne,ne)&&W.push([Z,se])}}),W}(I,S,R,m(I)),j=function(F,Y,G,H,W){var Z,se,re=F.map(function(ge){return[l(ge[0]),l(ge[1])]});for(Z=0;Z<G.length;++Z){var ne=G[Z],Q=ne[1],ee=Y[se=ne[0]],oe=Y[Q],ce=T(v(F[ee[0]]),v(F[ee[1]]),v(F[oe[0]]),v(F[oe[1]]));if(ce){var fe=F.length;F.push([h(ce[0]),h(ce[1])]),re.push(ce),H.push([se,fe],[Q,fe])}}for(H.sort(function(ge,he){if(ge[0]!==he[0])return ge[0]-he[0];var _e=re[ge[1]],Le=re[he[1]];return u(_e[0],Le[0])||u(_e[1],Le[1])}),Z=H.length-1;Z>=0;--Z){var le=Y[se=(Se=H[Z])[0]],pe=le[0],Me=le[1],Ae=F[pe],be=F[Me];if((Ae[0]-be[0]||Ae[1]-be[1])<0){var ye=pe;pe=Me,Me=ye}le[0]=pe;var we,ze=le[1]=Se[1];for(W&&(we=le[2]);Z>0&&H[Z-1][0]===se;){var Se,Ce=(Se=H[--Z])[1];Y.push(W?[ze,Ce,we]:[ze,Ce]),ze=Ce}Y.push(W?[ze,Me,we]:[ze,Me])}return re}(I,S,L,N,O),X=w(I,j);return A(S,X,O),!!X||L.length>0||N.length>0}},5528:function(y,c,i){"use strict";y.exports=function(T,_,m,w){var x=u(_,T),b=u(w,m),A=p(x,b);if(0===l(A))return null;var g=p(b,u(T,m)),I=a(g,A),S=v(x,I);return h(T,S)};var s=i(3962),a=i(9189),o=i(4354),l=i(4951),u=i(6695),h=i(7584),v=i(4469);function p(T,_){return o(s(T[0],_[1]),s(T[1],_[0]))}},5692:function(y){y.exports={jet:[{index:0,rgb:[0,0,131]},{index:.125,rgb:[0,60,170]},{index:.375,rgb:[5,255,255]},{index:.625,rgb:[255,255,0]},{index:.875,rgb:[250,0,0]},{index:1,rgb:[128,0,0]}],hsv:[{index:0,rgb:[255,0,0]},{index:.169,rgb:[253,255,2]},{index:.173,rgb:[247,255,2]},{index:.337,rgb:[0,252,4]},{index:.341,rgb:[0,252,10]},{index:.506,rgb:[1,249,255]},{index:.671,rgb:[2,0,253]},{index:.675,rgb:[8,0,253]},{index:.839,rgb:[255,0,251]},{index:.843,rgb:[255,0,245]},{index:1,rgb:[255,0,6]}],hot:[{index:0,rgb:[0,0,0]},{index:.3,rgb:[230,0,0]},{index:.6,rgb:[255,210,0]},{index:1,rgb:[255,255,255]}],spring:[{index:0,rgb:[255,0,255]},{index:1,rgb:[255,255,0]}],summer:[{index:0,rgb:[0,128,102]},{index:1,rgb:[255,255,102]}],autumn:[{index:0,rgb:[255,0,0]},{index:1,rgb:[255,255,0]}],winter:[{index:0,rgb:[0,0,255]},{index:1,rgb:[0,255,128]}],bone:[{index:0,rgb:[0,0,0]},{index:.376,rgb:[84,84,116]},{index:.753,rgb:[169,200,200]},{index:1,rgb:[255,255,255]}],copper:[{index:0,rgb:[0,0,0]},{index:.804,rgb:[255,160,102]},{index:1,rgb:[255,199,127]}],greys:[{index:0,rgb:[0,0,0]},{index:1,rgb:[255,255,255]}],yignbu:[{index:0,rgb:[8,29,88]},{index:.125,rgb:[37,52,148]},{index:.25,rgb:[34,94,168]},{index:.375,rgb:[29,145,192]},{index:.5,rgb:[65,182,196]},{index:.625,rgb:[127,205,187]},{index:.75,rgb:[199,233,180]},{index:.875,rgb:[237,248,217]},{index:1,rgb:[255,255,217]}],greens:[{index:0,rgb:[0,68,27]},{index:.125,rgb:[0,109,44]},{index:.25,rgb:[35,139,69]},{index:.375,rgb:[65,171,93]},{index:.5,rgb:[116,196,118]},{index:.625,rgb:[161,217,155]},{index:.75,rgb:[199,233,192]},{index:.875,rgb:[229,245,224]},{index:1,rgb:[247,252,245]}],yiorrd:[{index:0,rgb:[128,0,38]},{index:.125,rgb:[189,0,38]},{index:.25,rgb:[227,26,28]},{index:.375,rgb:[252,78,42]},{index:.5,rgb:[253,141,60]},{index:.625,rgb:[254,178,76]},{index:.75,rgb:[254,217,118]},{index:.875,rgb:[255,237,160]},{index:1,rgb:[255,255,204]}],bluered:[{index:0,rgb:[0,0,255]},{index:1,rgb:[255,0,0]}],rdbu:[{index:0,rgb:[5,10,172]},{index:.35,rgb:[106,137,247]},{index:.5,rgb:[190,190,190]},{index:.6,rgb:[220,170,132]},{index:.7,rgb:[230,145,90]},{index:1,rgb:[178,10,28]}],picnic:[{index:0,rgb:[0,0,255]},{index:.1,rgb:[51,153,255]},{index:.2,rgb:[102,204,255]},{index:.3,rgb:[153,204,255]},{index:.4,rgb:[204,204,255]},{index:.5,rgb:[255,255,255]},{index:.6,rgb:[255,204,255]},{index:.7,rgb:[255,153,255]},{index:.8,rgb:[255,102,204]},{index:.9,rgb:[255,102,102]},{index:1,rgb:[255,0,0]}],rainbow:[{index:0,rgb:[150,0,90]},{index:.125,rgb:[0,0,200]},{index:.25,rgb:[0,25,255]},{index:.375,rgb:[0,152,255]},{index:.5,rgb:[44,255,150]},{index:.625,rgb:[151,255,0]},{index:.75,rgb:[255,234,0]},{index:.875,rgb:[255,111,0]},{index:1,rgb:[255,0,0]}],portland:[{index:0,rgb:[12,51,131]},{index:.25,rgb:[10,136,186]},{index:.5,rgb:[242,211,56]},{index:.75,rgb:[242,143,56]},{index:1,rgb:[217,30,30]}],blackbody:[{index:0,rgb:[0,0,0]},{index:.2,rgb:[230,0,0]},{index:.4,rgb:[230,210,0]},{index:.7,rgb:[255,255,255]},{index:1,rgb:[160,200,255]}],earth:[{index:0,rgb:[0,0,130]},{index:.1,rgb:[0,180,180]},{index:.2,rgb:[40,210,40]},{index:.4,rgb:[230,230,50]},{index:.6,rgb:[120,70,20]},{index:1,rgb:[255,255,255]}],electric:[{index:0,rgb:[0,0,0]},{index:.15,rgb:[30,0,100]},{index:.4,rgb:[120,0,100]},{index:.6,rgb:[160,90,0]},{index:.8,rgb:[230,200,0]},{index:1,rgb:[255,250,220]}],alpha:[{index:0,rgb:[255,255,255,0]},{index:1,rgb:[255,255,255,1]}],viridis:[{index:0,rgb:[68,1,84]},{index:.13,rgb:[71,44,122]},{index:.25,rgb:[59,81,139]},{index:.38,rgb:[44,113,142]},{index:.5,rgb:[33,144,141]},{index:.63,rgb:[39,173,129]},{index:.75,rgb:[92,200,99]},{index:.88,rgb:[170,220,50]},{index:1,rgb:[253,231,37]}],inferno:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[31,12,72]},{index:.25,rgb:[85,15,109]},{index:.38,rgb:[136,34,106]},{index:.5,rgb:[186,54,85]},{index:.63,rgb:[227,89,51]},{index:.75,rgb:[249,140,10]},{index:.88,rgb:[249,201,50]},{index:1,rgb:[252,255,164]}],magma:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[28,16,68]},{index:.25,rgb:[79,18,123]},{index:.38,rgb:[129,37,129]},{index:.5,rgb:[181,54,122]},{index:.63,rgb:[229,80,100]},{index:.75,rgb:[251,135,97]},{index:.88,rgb:[254,194,135]},{index:1,rgb:[252,253,191]}],plasma:[{index:0,rgb:[13,8,135]},{index:.13,rgb:[75,3,161]},{index:.25,rgb:[125,3,168]},{index:.38,rgb:[168,34,150]},{index:.5,rgb:[203,70,121]},{index:.63,rgb:[229,107,93]},{index:.75,rgb:[248,148,65]},{index:.88,rgb:[253,195,40]},{index:1,rgb:[240,249,33]}],warm:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[172,0,187]},{index:.25,rgb:[219,0,170]},{index:.38,rgb:[255,0,130]},{index:.5,rgb:[255,63,74]},{index:.63,rgb:[255,123,0]},{index:.75,rgb:[234,176,0]},{index:.88,rgb:[190,228,0]},{index:1,rgb:[147,255,0]}],cool:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[116,0,218]},{index:.25,rgb:[98,74,237]},{index:.38,rgb:[68,146,231]},{index:.5,rgb:[0,204,197]},{index:.63,rgb:[0,247,146]},{index:.75,rgb:[0,255,88]},{index:.88,rgb:[40,255,8]},{index:1,rgb:[147,255,0]}],"rainbow-soft":[{index:0,rgb:[125,0,179]},{index:.1,rgb:[199,0,180]},{index:.2,rgb:[255,0,121]},{index:.3,rgb:[255,108,0]},{index:.4,rgb:[222,194,0]},{index:.5,rgb:[150,255,0]},{index:.6,rgb:[0,255,55]},{index:.7,rgb:[0,246,150]},{index:.8,rgb:[50,167,222]},{index:.9,rgb:[103,51,235]},{index:1,rgb:[124,0,186]}],bathymetry:[{index:0,rgb:[40,26,44]},{index:.13,rgb:[59,49,90]},{index:.25,rgb:[64,76,139]},{index:.38,rgb:[63,110,151]},{index:.5,rgb:[72,142,158]},{index:.63,rgb:[85,174,163]},{index:.75,rgb:[120,206,163]},{index:.88,rgb:[187,230,172]},{index:1,rgb:[253,254,204]}],cdom:[{index:0,rgb:[47,15,62]},{index:.13,rgb:[87,23,86]},{index:.25,rgb:[130,28,99]},{index:.38,rgb:[171,41,96]},{index:.5,rgb:[206,67,86]},{index:.63,rgb:[230,106,84]},{index:.75,rgb:[242,149,103]},{index:.88,rgb:[249,193,135]},{index:1,rgb:[254,237,176]}],chlorophyll:[{index:0,rgb:[18,36,20]},{index:.13,rgb:[25,63,41]},{index:.25,rgb:[24,91,59]},{index:.38,rgb:[13,119,72]},{index:.5,rgb:[18,148,80]},{index:.63,rgb:[80,173,89]},{index:.75,rgb:[132,196,122]},{index:.88,rgb:[175,221,162]},{index:1,rgb:[215,249,208]}],density:[{index:0,rgb:[54,14,36]},{index:.13,rgb:[89,23,80]},{index:.25,rgb:[110,45,132]},{index:.38,rgb:[120,77,178]},{index:.5,rgb:[120,113,213]},{index:.63,rgb:[115,151,228]},{index:.75,rgb:[134,185,227]},{index:.88,rgb:[177,214,227]},{index:1,rgb:[230,241,241]}],"freesurface-blue":[{index:0,rgb:[30,4,110]},{index:.13,rgb:[47,14,176]},{index:.25,rgb:[41,45,236]},{index:.38,rgb:[25,99,212]},{index:.5,rgb:[68,131,200]},{index:.63,rgb:[114,156,197]},{index:.75,rgb:[157,181,203]},{index:.88,rgb:[200,208,216]},{index:1,rgb:[241,237,236]}],"freesurface-red":[{index:0,rgb:[60,9,18]},{index:.13,rgb:[100,17,27]},{index:.25,rgb:[142,20,29]},{index:.38,rgb:[177,43,27]},{index:.5,rgb:[192,87,63]},{index:.63,rgb:[205,125,105]},{index:.75,rgb:[216,162,148]},{index:.88,rgb:[227,199,193]},{index:1,rgb:[241,237,236]}],oxygen:[{index:0,rgb:[64,5,5]},{index:.13,rgb:[106,6,15]},{index:.25,rgb:[144,26,7]},{index:.38,rgb:[168,64,3]},{index:.5,rgb:[188,100,4]},{index:.63,rgb:[206,136,11]},{index:.75,rgb:[220,174,25]},{index:.88,rgb:[231,215,44]},{index:1,rgb:[248,254,105]}],par:[{index:0,rgb:[51,20,24]},{index:.13,rgb:[90,32,35]},{index:.25,rgb:[129,44,34]},{index:.38,rgb:[159,68,25]},{index:.5,rgb:[182,99,19]},{index:.63,rgb:[199,134,22]},{index:.75,rgb:[212,171,35]},{index:.88,rgb:[221,210,54]},{index:1,rgb:[225,253,75]}],phase:[{index:0,rgb:[145,105,18]},{index:.13,rgb:[184,71,38]},{index:.25,rgb:[186,58,115]},{index:.38,rgb:[160,71,185]},{index:.5,rgb:[110,97,218]},{index:.63,rgb:[50,123,164]},{index:.75,rgb:[31,131,110]},{index:.88,rgb:[77,129,34]},{index:1,rgb:[145,105,18]}],salinity:[{index:0,rgb:[42,24,108]},{index:.13,rgb:[33,50,162]},{index:.25,rgb:[15,90,145]},{index:.38,rgb:[40,118,137]},{index:.5,rgb:[59,146,135]},{index:.63,rgb:[79,175,126]},{index:.75,rgb:[120,203,104]},{index:.88,rgb:[193,221,100]},{index:1,rgb:[253,239,154]}],temperature:[{index:0,rgb:[4,35,51]},{index:.13,rgb:[23,51,122]},{index:.25,rgb:[85,59,157]},{index:.38,rgb:[129,79,143]},{index:.5,rgb:[175,95,130]},{index:.63,rgb:[222,112,101]},{index:.75,rgb:[249,146,66]},{index:.88,rgb:[249,196,65]},{index:1,rgb:[232,250,91]}],turbidity:[{index:0,rgb:[34,31,27]},{index:.13,rgb:[65,50,41]},{index:.25,rgb:[98,69,52]},{index:.38,rgb:[131,89,57]},{index:.5,rgb:[161,112,59]},{index:.63,rgb:[185,140,66]},{index:.75,rgb:[202,174,88]},{index:.88,rgb:[216,209,126]},{index:1,rgb:[233,246,171]}],"velocity-blue":[{index:0,rgb:[17,32,64]},{index:.13,rgb:[35,52,116]},{index:.25,rgb:[29,81,156]},{index:.38,rgb:[31,113,162]},{index:.5,rgb:[50,144,169]},{index:.63,rgb:[87,173,176]},{index:.75,rgb:[149,196,189]},{index:.88,rgb:[203,221,211]},{index:1,rgb:[254,251,230]}],"velocity-green":[{index:0,rgb:[23,35,19]},{index:.13,rgb:[24,64,38]},{index:.25,rgb:[11,95,45]},{index:.38,rgb:[39,123,35]},{index:.5,rgb:[95,146,12]},{index:.63,rgb:[152,165,18]},{index:.75,rgb:[201,186,69]},{index:.88,rgb:[233,216,137]},{index:1,rgb:[255,253,205]}],cubehelix:[{index:0,rgb:[0,0,0]},{index:.07,rgb:[22,5,59]},{index:.13,rgb:[60,4,105]},{index:.2,rgb:[109,1,135]},{index:.27,rgb:[161,0,147]},{index:.33,rgb:[210,2,142]},{index:.4,rgb:[251,11,123]},{index:.47,rgb:[255,29,97]},{index:.53,rgb:[255,54,69]},{index:.6,rgb:[255,85,46]},{index:.67,rgb:[255,120,34]},{index:.73,rgb:[255,157,37]},{index:.8,rgb:[241,191,57]},{index:.87,rgb:[224,220,93]},{index:.93,rgb:[218,241,142]},{index:1,rgb:[227,253,198]}]}},9156:function(y,c,i){"use strict";var s=i(5692),a=i(3578);function o(h){return[h[0]/255,h[1]/255,h[2]/255,h[3]]}function l(h){for(var v,p="#",T=0;T<3;++T)p+=("00"+(v=(v=h[T]).toString(16))).substr(v.length);return p}function u(h){return"rgba("+h.join(",")+")"}y.exports=function(h){var v,p,T,_,m,w,x,b,A,g;if(h||(h={}),b=(h.nshades||72)-1,x=h.format||"hex",(w=h.colormap)||(w="jet"),"string"==typeof w){if(w=w.toLowerCase(),!s[w])throw Error(w+" not a supported colorscale");m=s[w]}else{if(!Array.isArray(w))throw Error("unsupported colormap option",w);m=w.slice()}if(m.length>b+1)throw new Error(w+" map requires nshades to be at least size "+m.length);A=Array.isArray(h.alpha)?2!==h.alpha.length?[1,1]:h.alpha.slice():"number"==typeof h.alpha?[h.alpha,h.alpha]:[1,1],v=m.map(function(L){return Math.round(L.index*b)}),A[0]=Math.min(Math.max(A[0],0),1),A[1]=Math.min(Math.max(A[1],0),1);var I=m.map(function(L,N){var j=m[N].index,X=m[N].rgb.slice();return 4===X.length&&X[3]>=0&&X[3]<=1||(X[3]=A[0]+(A[1]-A[0])*j),X}),S=[];for(g=0;g<v.length-1;++g){_=v[g+1]-v[g],p=I[g],T=I[g+1];for(var O=0;O<_;O++){var R=O/_;S.push([Math.round(a(p[0],T[0],R)),Math.round(a(p[1],T[1],R)),Math.round(a(p[2],T[2],R)),a(p[3],T[3],R)])}}return S.push(m[m.length-1].rgb.concat(A[1])),"hex"===x?S=S.map(l):"rgbaString"===x?S=S.map(u):"float"===x&&(S=S.map(o)),S}},9398:function(y,c,i){"use strict";y.exports=function(v,p,T,_){var m=s(p,T,_);if(0===m){var w=a(s(v,p,T)),x=a(s(v,p,_));if(w===x){if(0===w){var b=h(v,p,T);return b===h(v,p,_)?0:b?1:-1}return 0}return 0===x?w>0||h(v,p,_)?-1:1:0===w?x>0||h(v,p,T)?1:-1:a(x-w)}var A=s(v,p,T);return A>0?m>0&&s(v,p,_)>0?1:-1:A<0?m>0||s(v,p,_)>0?1:-1:s(v,p,_)>0||h(v,p,T)?1:-1};var s=i(417),a=i(7538),o=i(87),l=i(2019),u=i(9662);function h(v,p,T){var _=o(v[0],-p[0]),m=o(v[1],-p[1]),w=o(T[0],-p[0]),x=o(T[1],-p[1]),b=u(l(_,w),l(m,x));return b[b.length-1]>=0}},7538:function(y){"use strict";y.exports=function(c){return c<0?-1:c>0?1:0}},9209:function(y){y.exports=function(s,a){var o=s.length,l=s.length-a.length;if(l)return l;switch(o){case 0:return 0;case 1:return s[0]-a[0];case 2:return s[0]+s[1]-a[0]-a[1]||c(s[0],s[1])-c(a[0],a[1]);case 3:var u=s[0]+s[1],h=a[0]+a[1];if(l=u+s[2]-(h+a[2]))return l;var v=c(s[0],s[1]),p=c(a[0],a[1]);return c(v,s[2])-c(p,a[2])||c(v+s[2],u)-c(p+a[2],h);case 4:var T=s[0],_=s[1],m=s[2],w=s[3],x=a[0],b=a[1],A=a[2],g=a[3];return T+_+m+w-(x+b+A+g)||c(T,_,m,w)-c(x,b,A,g,x)||c(T+_,T+m,T+w,_+m,_+w,m+w)-c(x+b,x+A,x+g,b+A,b+g,A+g)||c(T+_+m,T+_+w,T+m+w,_+m+w)-c(x+b+A,x+b+g,x+A+g,b+A+g);default:for(var I=s.slice().sort(i),S=a.slice().sort(i),O=0;O<o;++O)if(l=I[O]-S[O])return l;return 0}};var c=Math.min;function i(s,a){return s-a}},1284:function(y,c,i){"use strict";var s=i(9209),a=i(9887);y.exports=function(o,l){return s(o,l)||a(o)-a(l)}},5537:function(y,c,i){"use strict";var s=i(8950),a=i(8722),o=i(3332);y.exports=function(l){var u=l.length;if(0===u)return[];if(1===u)return[[0]];var h=l[0].length;return 0===h?[]:1===h?s(l):2===h?a(l):o(l,h)}},8950:function(y){"use strict";y.exports=function(c){for(var i=0,s=0,a=1;a<c.length;++a)c[a][0]<c[i][0]&&(i=a),c[a][0]>c[s][0]&&(s=a);return i<s?[[i],[s]]:i>s?[[s],[i]]:[[i]]}},8722:function(y,c,i){"use strict";y.exports=function(a){var o=s(a),l=o.length;if(l<=2)return[];for(var u=new Array(l),h=o[l-1],v=0;v<l;++v){var p=o[v];u[v]=[h,p],h=p}return u};var s=i(3266)},3332:function(y,c,i){"use strict";y.exports=function(o,l){try{return s(o,!0)}catch{var u=a(o);if(u.length<=l)return[];var h=function(p,T){for(var _=p.length,m=new Array(_),w=0;w<T.length;++w)m[w]=p[T[w]];var x=T.length;for(w=0;w<_;++w)T.indexOf(w)<0&&(m[x++]=p[w]);return m}(o,u);return function(p,T){for(var _=p.length,m=T.length,w=0;w<_;++w)for(var x=p[w],b=0;b<x.length;++b){var A=x[b];if(A<m)x[b]=T[A];else{A-=m;for(var g=0;g<m;++g)A>=T[g]&&(A+=1);x[b]=A}}return p}(s(h,!0),u)}};var s=i(2183),a=i(2153)},9680:function(y){"use strict";y.exports=function(c,i,s,a,o,l){var u=o-1,h=o*o,v=u*u,p=(1+2*o)*v,T=o*v,_=h*(3-2*o),m=h*u;if(c.length){l||(l=new Array(c.length));for(var w=c.length-1;w>=0;--w)l[w]=p*c[w]+T*i[w]+_*s[w]+m*a[w];return l}return p*c+T*i+_*s+m*a},y.exports.derivative=function(c,i,s,a,o,l){var u=6*o*o-6*o,h=3*o*o-4*o+1,v=-6*o*o+6*o,p=3*o*o-2*o;if(c.length){l||(l=new Array(c.length));for(var T=c.length-1;T>=0;--T)l[T]=u*c[T]+h*i[T]+v*s[T]+p*a[T];return l}return u*c+h*i+v*s[T]+p*a}},4419:function(y,c,i){"use strict";var s=i(2183),a=i(1215);function o(u,h){this.point=u,this.index=h}function l(u,h){for(var v=u.point,p=h.point,T=v.length,_=0;_<T;++_){var m=p[_]-v[_];if(m)return m}return 0}y.exports=function(u,h){var v=u.length;if(0===v)return[];var p=u[0].length;if(p<1)return[];if(1===p)return function(j,X,F){if(1===j)return F?[[-1,0]]:[];var Y=X.map(function(se,re){return[se[0],re]});Y.sort(function(se,re){return se[0]-re[0]});for(var G=new Array(j-1),H=1;H<j;++H)G[H-1]=[Y[H-1][1],Y[H][1]];return F&&G.push([-1,G[0][1]],[G[j-1][1],-1]),G}(v,u,h);for(var T=new Array(v),_=1,m=0;m<v;++m){for(var w=u[m],x=new Array(p+1),b=0,A=0;A<p;++A){var g=w[A];x[A]=g,b+=g*g}x[p]=b,T[m]=new o(x,m),_=Math.max(b,_)}a(T,l),v=T.length;var I=new Array(v+p+1),S=new Array(v+p+1),O=(p+1)*(p+1)*_,R=new Array(p+1);for(m=0;m<=p;++m)R[m]=0;for(R[p]=O,I[0]=R.slice(),S[0]=-1,m=0;m<=p;++m)(x=R.slice())[m]=1,I[m+1]=x,S[m+1]=-1;for(m=0;m<v;++m){var L=T[m];I[m+p+1]=L.point,S[m+p+1]=L.index}var N=s(I,!1);if(N=N.filter(h?function(j){for(var X=0,F=0;F<=p;++F){var Y=S[j[F]];if(Y<0&&++X>=2)return!1;j[F]=Y}return!0}:function(j){for(var X=0;X<=p;++X){var F=S[j[X]];if(F<0)return!1;j[X]=F}return!0}),1&p)for(m=0;m<N.length;++m)x=(L=N[m])[0],L[0]=L[1],L[1]=x;return N}},8362:function(y){var c=!1;if(typeof Float64Array<"u"){var i=new Float64Array(1),s=new Uint32Array(i.buffer);i[0]=1,c=!0,1072693248===s[1]?(y.exports=function(o){return i[0]=o,[s[0],s[1]]},y.exports.pack=function(o,l){return s[0]=o,s[1]=l,i[0]},y.exports.lo=function(o){return i[0]=o,s[0]},y.exports.hi=function(o){return i[0]=o,s[1]}):1072693248===s[0]?(y.exports=function(o){return i[0]=o,[s[1],s[0]]},y.exports.pack=function(o,l){return s[1]=o,s[0]=l,i[0]},y.exports.lo=function(o){return i[0]=o,s[1]},y.exports.hi=function(o){return i[0]=o,s[0]}):c=!1}if(!c){var a=new Buffer(8);y.exports=function(o){return a.writeDoubleLE(o,0,!0),[a.readUInt32LE(0,!0),a.readUInt32LE(4,!0)]},y.exports.pack=function(o,l){return a.writeUInt32LE(o,0,!0),a.writeUInt32LE(l,4,!0),a.readDoubleLE(0,!0)},y.exports.lo=function(o){return a.writeDoubleLE(o,0,!0),a.readUInt32LE(0,!0)},y.exports.hi=function(o){return a.writeDoubleLE(o,0,!0),a.readUInt32LE(4,!0)}}y.exports.sign=function(o){return y.exports.hi(o)>>>31},y.exports.exponent=function(o){return(y.exports.hi(o)<<1>>>21)-1023},y.exports.fraction=function(o){var l=y.exports.lo(o),u=y.exports.hi(o),h=1048575&u;return 2146435072&u&&(h+=1048576),[l,h]},y.exports.denormalized=function(o){return!(2146435072&y.exports.hi(o))}},3094:function(y){"use strict";function c(i,s,a){var o=0|i[a];if(o<=0)return[];var l,u=new Array(o);if(a===i.length-1)for(l=0;l<o;++l)u[l]=s;else for(l=0;l<o;++l)u[l]=c(i,s,a+1);return u}y.exports=function(i,s){switch(void 0===s&&(s=0),typeof i){case"number":if(i>0)return function(a,o){var l,u;for(l=new Array(a),u=0;u<a;++u)l[u]=o;return l}(0|i,s);break;case"object":if("number"==typeof i.length)return c(i,s,0)}return[]}},8348:function(y,c,i){"use strict";y.exports=function(a,o){var l=a.length;if("number"!=typeof o){o=0;for(var u=0;u<l;++u){var h=a[u];o=Math.max(o,h[0],h[1])}o=1+(0|o)}o|=0;var v=new Array(o);for(u=0;u<o;++u)v[u]=[];for(u=0;u<l;++u)v[(h=a[u])[0]].push(h[1]),v[h[1]].push(h[0]);for(var p=0;p<o;++p)s(v[p],function(T,_){return T-_});return v};var s=i(1215)},5795:function(y){"use strict";y.exports=function(c,i,s){var a=i||0,o=s||1;return[[c[12]+c[0],c[13]+c[1],c[14]+c[2],c[15]+c[3]],[c[12]-c[0],c[13]-c[1],c[14]-c[2],c[15]-c[3]],[c[12]+c[4],c[13]+c[5],c[14]+c[6],c[15]+c[7]],[c[12]-c[4],c[13]-c[5],c[14]-c[6],c[15]-c[7]],[a*c[12]+c[8],a*c[13]+c[9],a*c[14]+c[10],a*c[15]+c[11]],[o*c[12]-c[8],o*c[13]-c[9],o*c[14]-c[10],o*c[15]-c[11]]]}},8444:function(y,c,i){"use strict";y.exports=function(v,p,T){switch(arguments.length){case 0:return new l([0],[0],0);case 1:return"number"==typeof v?new l(_=h(v),_,0):new l(v,h(v.length),0);case 2:var _;if("number"==typeof p)return new l(v,_=h(v.length),+p);T=0;case 3:if(v.length!==p.length)throw new Error("state and velocity lengths must match");return new l(v,p,T)}};var s=i(9680),a=i(5070);function o(v,p,T){return Math.min(p,Math.max(v,T))}function l(v,p,T){this.dimension=v.length,this.bounds=[new Array(this.dimension),new Array(this.dimension)];for(var _=0;_<this.dimension;++_)this.bounds[0][_]=-1/0,this.bounds[1][_]=1/0;this._state=v.slice().reverse(),this._velocity=p.slice().reverse(),this._time=[T],this._scratch=[v.slice(),v.slice(),v.slice(),v.slice(),v.slice()]}var u=l.prototype;function h(v){for(var p=new Array(v),T=0;T<v;++T)p[T]=0;return p}u.flush=function(v){var p=a.gt(this._time,v)-1;p<=0||(this._time.splice(0,p),this._state.splice(0,p*this.dimension),this._velocity.splice(0,p*this.dimension))},u.curve=function(v){var p=this._time,T=p.length,_=a.le(p,v),m=this._scratch[0],w=this._state,x=this._velocity,b=this.dimension,A=this.bounds;if(_<0)for(var g=b-1,I=0;I<b;++I,--g)m[I]=w[g];else if(_>=T-1){g=w.length-1;var S=v-p[T-1];for(I=0;I<b;++I,--g)m[I]=w[g]+S*x[g]}else{g=b*(_+1)-1;var O=p[_],R=p[_+1]-O||1,L=this._scratch[1],N=this._scratch[2],j=this._scratch[3],X=this._scratch[4],F=!0;for(I=0;I<b;++I,--g)L[I]=w[g],j[I]=x[g]*R,N[I]=w[g+b],X[I]=x[g+b]*R,F=F&&L[I]===N[I]&&j[I]===X[I]&&0===j[I];if(F)for(I=0;I<b;++I)m[I]=L[I];else s(L,j,N,X,(v-O)/R,m)}var Y=A[0],G=A[1];for(I=0;I<b;++I)m[I]=o(Y[I],G[I],m[I]);return m},u.dcurve=function(v){var p=this._time,T=p.length,_=a.le(p,v),m=this._scratch[0],w=this._state,x=this._velocity,b=this.dimension;if(_>=T-1)for(var A=w.length-1,g=0;g<b;++g,--A)m[g]=x[A];else{A=b*(_+1)-1;var I=p[_],S=p[_+1]-I||1,O=this._scratch[1],R=this._scratch[2],L=this._scratch[3],N=this._scratch[4],j=!0;for(g=0;g<b;++g,--A)O[g]=w[A],L[g]=x[A]*S,R[g]=w[A+b],N[g]=x[A+b]*S,j=j&&O[g]===R[g]&&L[g]===N[g]&&0===L[g];if(j)for(g=0;g<b;++g)m[g]=0;else for(s.derivative(O,L,R,N,(v-I)/S,m),g=0;g<b;++g)m[g]/=S}return m},u.lastT=function(){var v=this._time;return v[v.length-1]},u.stable=function(){for(var v=this._velocity,p=v.length,T=this.dimension-1;T>=0;--T)if(v[--p])return!1;return!0},u.jump=function(v){var p=this.lastT(),T=this.dimension;if(!(v<p||arguments.length!==T+1)){var _=this._state,m=this._velocity,w=_.length-this.dimension,x=this.bounds,b=x[0],A=x[1];this._time.push(p,v);for(var g=0;g<2;++g)for(var I=0;I<T;++I)_.push(_[w++]),m.push(0);for(this._time.push(v),I=T;I>0;--I)_.push(o(b[I-1],A[I-1],arguments[I])),m.push(0)}},u.push=function(v){var p=this.lastT(),T=this.dimension;if(!(v<p||arguments.length!==T+1)){var _=this._state,m=this._velocity,w=_.length-this.dimension,x=v-p,b=this.bounds,A=b[0],g=b[1],I=x>1e-6?1/x:0;this._time.push(v);for(var S=T;S>0;--S){var O=o(A[S-1],g[S-1],arguments[S]);_.push(O),m.push((O-_[w++])*I)}}},u.set=function(v){var p=this.dimension;if(!(v<this.lastT()||arguments.length!==p+1)){var T=this._state,_=this._velocity,m=this.bounds,w=m[0],x=m[1];this._time.push(v);for(var b=p;b>0;--b)T.push(o(w[b-1],x[b-1],arguments[b])),_.push(0)}},u.move=function(v){var p=this.lastT(),T=this.dimension;if(!(v<=p||arguments.length!==T+1)){var _=this._state,m=this._velocity,w=_.length-this.dimension,x=this.bounds,b=x[0],A=x[1],g=v-p,I=g>1e-6?1/g:0;this._time.push(v);for(var S=T;S>0;--S){var O=arguments[S];_.push(o(b[S-1],A[S-1],_[w++]+O)),m.push(O*I)}}},u.idle=function(v){var p=this.lastT();if(!(v<p)){var T=this.dimension,_=this._state,m=this._velocity,w=_.length-T,x=this.bounds,b=x[0],A=x[1],g=v-p;this._time.push(v);for(var I=T-1;I>=0;--I)_.push(o(b[I],A[I],_[w]+g*m[w])),m.push(0),w+=1}}},7080:function(y){"use strict";function c(w,x,b,A,g,I){this._color=w,this.key=x,this.value=b,this.left=A,this.right=g,this._count=I}function i(w){return new c(w._color,w.key,w.value,w.left,w.right,w._count)}function s(w,x){return new c(w,x.key,x.value,x.left,x.right,x._count)}function a(w){w._count=1+(w.left?w.left._count:0)+(w.right?w.right._count:0)}function o(w,x){this._compare=w,this.root=x}y.exports=function(w){return new o(w||m,null)};var l=o.prototype;function u(w,x){var b;return x.left&&(b=u(w,x.left))?b:(b=w(x.key,x.value))||(x.right?u(w,x.right):void 0)}function h(w,x,b,A){var g;return x(w,A.key)<=0&&(A.left&&(g=h(w,x,b,A.left))||(g=b(A.key,A.value)))?g:A.right?h(w,x,b,A.right):void 0}function v(w,x,b,A,g){var I,S=b(w,g.key),O=b(x,g.key);return S<=0&&(g.left&&(I=v(w,x,b,A,g.left))||O>0&&(I=A(g.key,g.value)))?I:O>0&&g.right?v(w,x,b,A,g.right):void 0}function p(w,x){this.tree=w,this._stack=x}Object.defineProperty(l,"keys",{get:function(){var w=[];return this.forEach(function(x,b){w.push(x)}),w}}),Object.defineProperty(l,"values",{get:function(){var w=[];return this.forEach(function(x,b){w.push(b)}),w}}),Object.defineProperty(l,"length",{get:function(){return this.root?this.root._count:0}}),l.insert=function(w,x){for(var b=this._compare,A=this.root,g=[],I=[];A;){var S=b(w,A.key);g.push(A),I.push(S),A=S<=0?A.left:A.right}g.push(new c(0,w,x,null,null,1));for(var O=g.length-2;O>=0;--O)A=g[O],g[O]=I[O]<=0?new c(A._color,A.key,A.value,g[O+1],A.right,A._count+1):new c(A._color,A.key,A.value,A.left,g[O+1],A._count+1);for(O=g.length-1;O>1;--O){var R=g[O-1];if(A=g[O],1===R._color||1===A._color)break;var L=g[O-2];if(L.left===R)if(R.left===A){if(!(N=L.right)||0!==N._color){L._color=0,L.left=R.right,R._color=1,R.right=L,g[O-2]=R,g[O-1]=A,a(L),a(R),O>=3&&((j=g[O-3]).left===L?j.left=R:j.right=R);break}R._color=1,L.right=s(1,N),L._color=0,O-=1}else{if(!(N=L.right)||0!==N._color){R.right=A.left,L._color=0,L.left=A.right,A._color=1,A.left=R,A.right=L,g[O-2]=A,g[O-1]=R,a(L),a(R),a(A),O>=3&&((j=g[O-3]).left===L?j.left=A:j.right=A);break}R._color=1,L.right=s(1,N),L._color=0,O-=1}else if(R.right===A){if(!(N=L.left)||0!==N._color){L._color=0,L.right=R.left,R._color=1,R.left=L,g[O-2]=R,g[O-1]=A,a(L),a(R),O>=3&&((j=g[O-3]).right===L?j.right=R:j.left=R);break}R._color=1,L.left=s(1,N),L._color=0,O-=1}else{var N;if(!(N=L.left)||0!==N._color){var j;R.left=A.right,L._color=0,L.right=A.left,A._color=1,A.right=R,A.left=L,g[O-2]=A,g[O-1]=R,a(L),a(R),a(A),O>=3&&((j=g[O-3]).right===L?j.right=A:j.left=A);break}R._color=1,L.left=s(1,N),L._color=0,O-=1}}return g[0]._color=1,new o(b,g[0])},l.forEach=function(w,x,b){if(this.root)switch(arguments.length){case 1:return u(w,this.root);case 2:return h(x,this._compare,w,this.root);case 3:return this._compare(x,b)>=0?void 0:v(x,b,this._compare,w,this.root)}},Object.defineProperty(l,"begin",{get:function(){for(var w=[],x=this.root;x;)w.push(x),x=x.left;return new p(this,w)}}),Object.defineProperty(l,"end",{get:function(){for(var w=[],x=this.root;x;)w.push(x),x=x.right;return new p(this,w)}}),l.at=function(w){if(w<0)return new p(this,[]);for(var x=this.root,b=[];;){if(b.push(x),x.left){if(w<x.left._count){x=x.left;continue}w-=x.left._count}if(!w)return new p(this,b);if(w-=1,!x.right||w>=x.right._count)break;x=x.right}return new p(this,[])},l.ge=function(w){for(var x=this._compare,b=this.root,A=[],g=0;b;){var I=x(w,b.key);A.push(b),I<=0&&(g=A.length),b=I<=0?b.left:b.right}return A.length=g,new p(this,A)},l.gt=function(w){for(var x=this._compare,b=this.root,A=[],g=0;b;){var I=x(w,b.key);A.push(b),I<0&&(g=A.length),b=I<0?b.left:b.right}return A.length=g,new p(this,A)},l.lt=function(w){for(var x=this._compare,b=this.root,A=[],g=0;b;){var I=x(w,b.key);A.push(b),I>0&&(g=A.length),b=I<=0?b.left:b.right}return A.length=g,new p(this,A)},l.le=function(w){for(var x=this._compare,b=this.root,A=[],g=0;b;){var I=x(w,b.key);A.push(b),I>=0&&(g=A.length),b=I<0?b.left:b.right}return A.length=g,new p(this,A)},l.find=function(w){for(var x=this._compare,b=this.root,A=[];b;){var g=x(w,b.key);if(A.push(b),0===g)return new p(this,A);b=g<=0?b.left:b.right}return new p(this,[])},l.remove=function(w){var x=this.find(w);return x?x.remove():this},l.get=function(w){for(var x=this._compare,b=this.root;b;){var A=x(w,b.key);if(0===A)return b.value;b=A<=0?b.left:b.right}};var T=p.prototype;function _(w,x){w.key=x.key,w.value=x.value,w.left=x.left,w.right=x.right,w._color=x._color,w._count=x._count}function m(w,x){return w<x?-1:w>x?1:0}Object.defineProperty(T,"valid",{get:function(){return this._stack.length>0}}),Object.defineProperty(T,"node",{get:function(){return this._stack.length>0?this._stack[this._stack.length-1]:null},enumerable:!0}),T.clone=function(){return new p(this.tree,this._stack.slice())},T.remove=function(){var w=this._stack;if(0===w.length)return this.tree;var x=new Array(w.length),b=w[w.length-1];x[x.length-1]=new c(b._color,b.key,b.value,b.left,b.right,b._count);for(var A=w.length-2;A>=0;--A)x[A]=(b=w[A]).left===w[A+1]?new c(b._color,b.key,b.value,x[A+1],b.right,b._count):new c(b._color,b.key,b.value,b.left,x[A+1],b._count);if((b=x[x.length-1]).left&&b.right){var g=x.length;for(b=b.left;b.right;)x.push(b),b=b.right;var I=x[g-1];for(x.push(new c(b._color,I.key,I.value,b.left,b.right,b._count)),x[g-1].key=b.key,x[g-1].value=b.value,A=x.length-2;A>=g;--A)x[A]=new c((b=x[A])._color,b.key,b.value,b.left,x[A+1],b._count);x[g-1].left=x[g]}if(0===(b=x[x.length-1])._color){var S=x[x.length-2];for(S.left===b?S.left=null:S.right===b&&(S.right=null),x.pop(),A=0;A<x.length;++A)x[A]._count--;return new o(this.tree._compare,x[0])}if(b.left||b.right){for(b.left?_(b,b.left):b.right&&_(b,b.right),b._color=1,A=0;A<x.length-1;++A)x[A]._count--;return new o(this.tree._compare,x[0])}if(1===x.length)return new o(this.tree._compare,null);for(A=0;A<x.length;++A)x[A]._count--;var O=x[x.length-2];return function(R){for(var L,N,j,X,F=R.length-1;F>=0;--F){if(L=R[F],0===F)return void(L._color=1);if((N=R[F-1]).left===L){if((j=N.right).right&&0===j.right._color)return X=(j=N.right=i(j)).right=i(j.right),N.right=j.left,j.left=N,j.right=X,j._color=N._color,L._color=1,N._color=1,X._color=1,a(N),a(j),F>1&&((Y=R[F-2]).left===N?Y.left=j:Y.right=j),void(R[F-1]=j);if(j.left&&0===j.left._color)return X=(j=N.right=i(j)).left=i(j.left),N.right=X.left,j.left=X.right,X.left=N,X.right=j,X._color=N._color,N._color=1,j._color=1,L._color=1,a(N),a(j),a(X),F>1&&((Y=R[F-2]).left===N?Y.left=X:Y.right=X),void(R[F-1]=X);if(1===j._color){if(0===N._color)return N._color=1,void(N.right=s(0,j));N.right=s(0,j);continue}j=i(j),N.right=j.left,j.left=N,j._color=N._color,N._color=0,a(N),a(j),F>1&&((Y=R[F-2]).left===N?Y.left=j:Y.right=j),R[F-1]=j,R[F]=N,F+1<R.length?R[F+1]=L:R.push(L),F+=2}else{if((j=N.left).left&&0===j.left._color)return X=(j=N.left=i(j)).left=i(j.left),N.left=j.right,j.right=N,j.left=X,j._color=N._color,L._color=1,N._color=1,X._color=1,a(N),a(j),F>1&&((Y=R[F-2]).right===N?Y.right=j:Y.left=j),void(R[F-1]=j);if(j.right&&0===j.right._color)return X=(j=N.left=i(j)).right=i(j.right),N.left=X.right,j.right=X.left,X.right=N,X.left=j,X._color=N._color,N._color=1,j._color=1,L._color=1,a(N),a(j),a(X),F>1&&((Y=R[F-2]).right===N?Y.right=X:Y.left=X),void(R[F-1]=X);if(1===j._color){if(0===N._color)return N._color=1,void(N.left=s(0,j));N.left=s(0,j);continue}var Y;j=i(j),N.left=j.right,j.right=N,j._color=N._color,N._color=0,a(N),a(j),F>1&&((Y=R[F-2]).right===N?Y.right=j:Y.left=j),R[F-1]=j,R[F]=N,F+1<R.length?R[F+1]=L:R.push(L),F+=2}}}(x),O.left===b?O.left=null:O.right=null,new o(this.tree._compare,x[0])},Object.defineProperty(T,"key",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].key},enumerable:!0}),Object.defineProperty(T,"value",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].value},enumerable:!0}),Object.defineProperty(T,"index",{get:function(){var w=0,x=this._stack;if(0===x.length){var b=this.tree.root;return b?b._count:0}x[x.length-1].left&&(w=x[x.length-1].left._count);for(var A=x.length-2;A>=0;--A)x[A+1]===x[A].right&&(++w,x[A].left&&(w+=x[A].left._count));return w},enumerable:!0}),T.next=function(){var w=this._stack;if(0!==w.length){var x=w[w.length-1];if(x.right)for(x=x.right;x;)w.push(x),x=x.left;else for(w.pop();w.length>0&&w[w.length-1].right===x;)x=w[w.length-1],w.pop()}},Object.defineProperty(T,"hasNext",{get:function(){var w=this._stack;if(0===w.length)return!1;if(w[w.length-1].right)return!0;for(var x=w.length-1;x>0;--x)if(w[x-1].left===w[x])return!0;return!1}}),T.update=function(w){var x=this._stack;if(0===x.length)throw new Error("Can't update empty node!");var b=new Array(x.length),A=x[x.length-1];b[b.length-1]=new c(A._color,A.key,w,A.left,A.right,A._count);for(var g=x.length-2;g>=0;--g)b[g]=(A=x[g]).left===x[g+1]?new c(A._color,A.key,A.value,b[g+1],A.right,A._count):new c(A._color,A.key,A.value,A.left,b[g+1],A._count);return new o(this.tree._compare,b[0])},T.prev=function(){var w=this._stack;if(0!==w.length){var x=w[w.length-1];if(x.left)for(x=x.left;x;)w.push(x),x=x.right;else for(w.pop();w.length>0&&w[w.length-1].left===x;)x=w[w.length-1],w.pop()}},Object.defineProperty(T,"hasPrev",{get:function(){var w=this._stack;if(0===w.length)return!1;if(w[w.length-1].left)return!0;for(var x=w.length-1;x>0;--x)if(w[x-1].right===w[x])return!0;return!1}})},7453:function(y,c,i){"use strict";y.exports=function(S,O){var R=new p(S);return R.update(O),R};var s=i(9557),a=i(1681),o=i(1011),l=i(2864),u=i(8468),h=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);function v(S,O){return S[0]=O[0],S[1]=O[1],S[2]=O[2],S}function p(S){this.gl=S,this.pixelRatio=1,this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.autoTicks=!0,this.tickSpacing=[1,1,1],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickSize=[12,12,12],this.tickAngle=[0,0,0],this.tickAlign=["auto","auto","auto"],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[10,10,10],this.lastCubeProps={cubeEdges:[0,0,0],axis:[0,0,0]},this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont="sans-serif",this.labelSize=[20,20,20],this.labelAngle=[0,0,0],this.labelAlign=["auto","auto","auto"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[10,10,10],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[0,0,0],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!1,!1,!1],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._firstInit=!0,this._text=null,this._lines=null,this._background=o(S)}var T=p.prototype;function _(){this.primalOffset=[0,0,0],this.primalMinor=[0,0,0],this.mirrorOffset=[0,0,0],this.mirrorMinor=[0,0,0]}T.update=function(S){function O(se,re,ne){if(ne in S){var Q,ee=S[ne],oe=this[ne];this[ne]=Q=(se?Array.isArray(ee)&&Array.isArray(ee[0]):Array.isArray(ee))?[re(ee[0]),re(ee[1]),re(ee[2])]:[re(ee),re(ee),re(ee)];for(var ce=0;ce<3;++ce)if(Q[ce]!==oe[ce])return!0}return!1}S=S||{};var R,L=O.bind(this,!1,Number),N=O.bind(this,!1,Boolean),j=O.bind(this,!1,String),X=O.bind(this,!0,function(se){if(Array.isArray(se)){if(3===se.length)return[+se[0],+se[1],+se[2],1];if(4===se.length)return[+se[0],+se[1],+se[2],+se[3]]}return[0,0,0,1]}),F=!1,Y=!1;if("bounds"in S)for(var G=S.bounds,H=0;H<2;++H)for(var W=0;W<3;++W)G[H][W]!==this.bounds[H][W]&&(Y=!0),this.bounds[H][W]=G[H][W];if("ticks"in S)for(R=S.ticks,F=!0,this.autoTicks=!1,H=0;H<3;++H)this.tickSpacing[H]=0;else L("tickSpacing")&&(this.autoTicks=!0,Y=!0);if(this._firstInit&&("ticks"in S||"tickSpacing"in S||(this.autoTicks=!0),Y=!0,F=!0,this._firstInit=!1),Y&&this.autoTicks&&(R=u.create(this.bounds,this.tickSpacing),F=!0),F){for(H=0;H<3;++H)R[H].sort(function(se,re){return se.x-re.x});u.equal(R,this.ticks)?F=!1:this.ticks=R}N("tickEnable"),j("tickFont")&&(F=!0),L("tickSize"),L("tickAngle"),L("tickPad"),X("tickColor");var Z=j("labels");j("labelFont")&&(Z=!0),N("labelEnable"),L("labelSize"),L("labelPad"),X("labelColor"),N("lineEnable"),N("lineMirror"),L("lineWidth"),X("lineColor"),N("lineTickEnable"),N("lineTickMirror"),L("lineTickLength"),L("lineTickWidth"),X("lineTickColor"),N("gridEnable"),L("gridWidth"),X("gridColor"),N("zeroEnable"),X("zeroLineColor"),L("zeroLineWidth"),N("backgroundEnable"),X("backgroundColor"),this._text?this._text&&(Z||F)&&this._text.update(this.bounds,this.labels,this.labelFont,this.ticks,this.tickFont):this._text=s(this.gl,this.bounds,this.labels,this.labelFont,this.ticks,this.tickFont),this._lines&&F&&(this._lines.dispose(),this._lines=null),this._lines||(this._lines=a(this.gl,this.bounds,this.ticks))};var m=[new _,new _,new _];function w(S,O,R,L,N){for(var j=S.primalOffset,X=S.primalMinor,F=S.mirrorOffset,Y=S.mirrorMinor,G=L[O],H=0;H<3;++H)if(O!==H){var W=j,Z=F,se=X,re=Y;G&1<<H&&(W=F,Z=j,se=Y,re=X),W[H]=R[0][H],Z[H]=R[1][H],N[H]>0?(se[H]=-1,re[H]=0):(se[H]=0,re[H]=1)}}var x=[0,0,0],b={model:h,view:h,projection:h,_ortho:!1};T.isOpaque=function(){return!0},T.isTransparent=function(){return!1},T.drawTransparent=function(S){};var A=[0,0,0],g=[0,0,0],I=[0,0,0];T.draw=function(S){for(var O=this.gl,R=(S=S||b).model||h,L=S.view||h,N=S.projection||h,j=this.bounds,X=S._ortho||!1,F=l(R,L,N,j,X),Y=F.cubeEdges,G=F.axis,re=(X?2:1)*this.pixelRatio*(N[3]*L[12]+N[7]*L[13]+N[11]*L[14]+N[15]*L[15])/O.drawingBufferHeight,ne=0;ne<3;++ne)this.lastCubeProps.cubeEdges[ne]=Y[ne],this.lastCubeProps.axis[ne]=G[ne];var Q=m;for(ne=0;ne<3;++ne)w(m[ne],ne,this.bounds,Y,G);O=this.gl;var ee,oe,ce,Ie,De,je,qe,ve,Oe,ke,Be,We,fe=x;for(ne=0;ne<3;++ne)fe[ne]=this.backgroundEnable[ne]?G[ne]:0;for(this._background.draw(R,L,N,j,fe,this.backgroundColor),this._lines.bind(R,L,N,this),ne=0;ne<3;++ne){var le=[0,0,0];le[ne]=G[ne]>0?j[1][ne]:j[0][ne];for(var pe=0;pe<2;++pe){var Me=(ne+1+pe)%3,Ae=(ne+1+(1^pe))%3;this.gridEnable[Me]&&this._lines.drawGrid(Me,Ae,this.bounds,le,this.gridColor[Me],this.gridWidth[Me]*this.pixelRatio)}for(pe=0;pe<2;++pe)Me=(ne+1+pe)%3,this.zeroEnable[Ae=(ne+1+(1^pe))%3]&&Math.min(j[0][Ae],j[1][Ae])<=0&&Math.max(j[0][Ae],j[1][Ae])>=0&&this._lines.drawZero(Me,Ae,this.bounds,le,this.zeroLineColor[Ae],this.zeroLineWidth[Ae]*this.pixelRatio)}for(ne=0;ne<3;++ne){this.lineEnable[ne]&&this._lines.drawAxisLine(ne,this.bounds,Q[ne].primalOffset,this.lineColor[ne],this.lineWidth[ne]*this.pixelRatio),this.lineMirror[ne]&&this._lines.drawAxisLine(ne,this.bounds,Q[ne].mirrorOffset,this.lineColor[ne],this.lineWidth[ne]*this.pixelRatio);var be=v(A,Q[ne].primalMinor),ye=v(g,Q[ne].mirrorMinor),we=this.lineTickLength;for(pe=0;pe<3;++pe){var ze=re/R[5*pe];be[pe]*=we[pe]*ze,ye[pe]*=we[pe]*ze}this.lineTickEnable[ne]&&this._lines.drawAxisTicks(ne,Q[ne].primalOffset,be,this.lineTickColor[ne],this.lineTickWidth[ne]*this.pixelRatio),this.lineTickMirror[ne]&&this._lines.drawAxisTicks(ne,Q[ne].mirrorOffset,ye,this.lineTickColor[ne],this.lineTickWidth[ne]*this.pixelRatio)}function Se(Ie){(ce=[0,0,0])[Ie]=1}for(this._lines.unbind(),this._text.bind(R,L,N,this.pixelRatio),ne=0;ne<3;++ne){var ge=Q[ne].primalMinor,he=Q[ne].mirrorMinor,_e=v(I,Q[ne].primalOffset);for(pe=0;pe<3;++pe)this.lineTickEnable[ne]&&(_e[pe]+=re*ge[pe]*Math.max(this.lineTickLength[pe],0)/R[5*pe]);var Le=[0,0,0];if(Le[ne]=1,this.tickEnable[ne]){for(-3600===this.tickAngle[ne]?(this.tickAngle[ne]=0,this.tickAlign[ne]="auto"):this.tickAlign[ne]=-1,ee[0]="auto"===(ee=[this.tickAlign[ne],.5,oe=1])[0]?0:parseInt(""+ee[0]),ce=[0,0,0],qe=void 0,ve=void 0,Oe=void 0,ke=void 0,Be=void 0,We=void 0,ke=(De=ge)[ve=((Ie=ne)+2)%3],Be=(je=he)[qe=(Ie+1)%3],We=je[ve],(Oe=De[qe])>0&&We>0||Oe>0&&We<0||Oe<0&&We>0||Oe<0&&We<0?Se(qe):(ke>0&&Be>0||ke>0&&Be<0||ke<0&&Be>0||ke<0&&Be<0)&&Se(ve),pe=0;pe<3;++pe)_e[pe]+=re*ge[pe]*this.tickPad[pe]/R[5*pe];this._text.drawTicks(ne,this.tickSize[ne],this.tickAngle[ne],_e,this.tickColor[ne],Le,ce,ee)}if(this.labelEnable[ne]){for(oe=0,ce=[0,0,0],this.labels[ne].length>4&&(Se(ne),oe=1),ee[0]="auto"===(ee=[this.labelAlign[ne],.5,oe])[0]?0:parseInt(""+ee[0]),pe=0;pe<3;++pe)_e[pe]+=re*ge[pe]*this.labelPad[pe]/R[5*pe];_e[ne]+=.5*(j[0][ne]+j[1][ne]),this._text.drawLabel(ne,this.labelSize[ne],this.labelAngle[ne],_e,this.labelColor[ne],[0,0,0],ce,ee)}}this._text.unbind()},T.dispose=function(){this._text.dispose(),this._lines.dispose(),this._background.dispose(),this._lines=null,this._text=null,this._background=null,this.gl=null}},1011:function(y,c,i){"use strict";y.exports=function(h){for(var v=[],p=[],T=0,_=0;_<3;++_)for(var m=(_+1)%3,w=(_+2)%3,x=[0,0,0],b=[0,0,0],A=-1;A<=1;A+=2){p.push(T,T+2,T+1,T+1,T+2,T+3),x[_]=A,b[_]=A;for(var g=-1;g<=1;g+=2){x[m]=g;for(var I=-1;I<=1;I+=2)x[w]=I,v.push(x[0],x[1],x[2],b[0],b[1],b[2]),T+=1}var S=m;m=w,w=S}var O=s(h,new Float32Array(v)),R=s(h,new Uint16Array(p),h.ELEMENT_ARRAY_BUFFER),L=a(h,[{buffer:O,type:h.FLOAT,size:3,offset:0,stride:24},{buffer:O,type:h.FLOAT,size:3,offset:12,stride:24}],R),N=o(h);return N.attributes.position.location=0,N.attributes.normal.location=1,new l(h,O,L,N)};var s=i(5827),a=i(2944),o=i(1943).bg;function l(h,v,p,T){this.gl=h,this.buffer=v,this.vao=p,this.shader=T}var u=l.prototype;u.draw=function(h,v,p,T,_,m){for(var w=!1,x=0;x<3;++x)w=w||_[x];if(w){var b=this.gl;b.enable(b.POLYGON_OFFSET_FILL),b.polygonOffset(1,2),this.shader.bind(),this.shader.uniforms={model:h,view:v,projection:p,bounds:T,enable:_,colors:m},this.vao.bind(),this.vao.draw(this.gl.TRIANGLES,36),this.vao.unbind(),b.disable(b.POLYGON_OFFSET_FILL)}},u.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()}},2864:function(y,c,i){"use strict";y.exports=function(g,I,S,O,R){a(u,I,g),a(u,S,u);for(var L=0,N=0;N<2;++N){p[2]=O[N][2];for(var j=0;j<2;++j){p[1]=O[j][1];for(var X=0;X<2;++X)p[0]=O[X][0],_(h[L],p,u),L+=1}}var F=-1;for(N=0;N<8;++N){for(var Y=h[N][3],G=0;G<3;++G)v[N][G]=h[N][G]/Y;R&&(v[N][2]*=-1),Y<0&&(F<0||v[N][2]<v[F][2])&&(F=N)}if(F<0){F=0;for(var H=0;H<3;++H){for(var W=(H+2)%3,Z=(H+1)%3,se=-1,re=-1,ne=0;ne<2;++ne){var Q=(oe=ne<<H)+(ne<<W)+(1-ne<<Z),ee=oe+(1-ne<<W)+(ne<<Z);l(v[oe],v[Q],v[ee],T)<0||(ne?se=1:re=1)}if(se<0||re<0)re>se&&(F|=1<<H);else{for(ne=0;ne<2;++ne){Q=(oe=ne<<H)+(ne<<W)+(1-ne<<Z);var oe,ce=w([h[oe],h[Q],h[ee=oe+(1-ne<<W)+(ne<<Z)],h[oe+(1<<W)+(1<<Z)]]);ne?se=ce:re=ce}re>se&&(F|=1<<H)}}}var fe=7^F,le=-1;for(N=0;N<8;++N)N!==F&&N!==fe&&(le<0||v[le][1]>v[N][1])&&(le=N);var pe=-1;for(N=0;N<3;++N)(Ae=le^1<<N)!==F&&Ae!==fe&&(pe<0&&(pe=Ae),(Z=v[Ae])[0]<v[pe][0]&&(pe=Ae));var Me=-1;for(N=0;N<3;++N){var Ae;(Ae=le^1<<N)!==F&&Ae!==fe&&Ae!==pe&&(Me<0&&(Me=Ae),(Z=v[Ae])[0]>v[Me][0]&&(Me=Ae))}var be=x;be[0]=be[1]=be[2]=0,be[s.log2(pe^le)]=le&pe,be[s.log2(le^Me)]=le&Me;var ye=7^Me;ye===F||ye===fe?be[s.log2(Me^(ye=7^pe))]=ye&Me:be[s.log2(pe^ye)]=ye&pe;var we=b,ze=F;for(H=0;H<3;++H)we[H]=ze&1<<H?-1:1;return A};var s=i(2288),a=i(104),o=i(4670),l=i(417),u=new Array(16),h=new Array(8),v=new Array(8),p=new Array(3),T=[0,0,0];function _(g,I,S){for(var O=0;O<4;++O){g[O]=S[12+O];for(var R=0;R<3;++R)g[O]+=I[R]*S[4*R+O]}}!function(){for(var g=0;g<8;++g)h[g]=[1,1,1,1],v[g]=[1,1,1]}();var m=[[0,0,1,0,0],[0,0,-1,1,0],[0,-1,0,1,0],[0,1,0,1,0],[-1,0,0,1,0],[1,0,0,1,0]];function w(g){for(var I=0;I<m.length;++I)if((g=o.positive(g,m[I])).length<3)return 0;var S=g[0],O=S[0]/S[3],R=S[1]/S[3],L=0;for(I=1;I+1<g.length;++I){var N=g[I],j=g[I+1];L+=Math.abs((N[0]/N[3]-O)*(j[1]/j[3]-R)-(N[1]/N[3]-R)*(j[0]/j[3]-O))}return L}var x=[1,1,1],b=[0,0,0],A={cubeEdges:x,axis:b}},1681:function(y,c,i){"use strict";y.exports=function(x,b,A){var g=[],I=[0,0,0],S=[0,0,0],O=[0,0,0],R=[0,0,0];g.push(0,0,1,0,1,1,0,0,-1,0,0,-1,0,1,1,0,1,-1);for(var L=0;L<3;++L){for(var N=g.length/3|0,j=0;j<A[L].length;++j){var X=+A[L][j].x;g.push(X,0,1,X,1,1,X,0,-1,X,0,-1,X,1,1,X,1,-1)}var F=g.length/3|0;I[L]=N,S[L]=F-N,N=g.length/3|0;for(var Y=0;Y<A[L].length;++Y)g.push(X=+A[L][Y].x,0,1,X,1,1,X,0,-1,X,0,-1,X,1,1,X,1,-1);F=g.length/3|0,O[L]=N,R[L]=F-N}var G=s(x,new Float32Array(g)),H=a(x,[{buffer:G,type:x.FLOAT,size:3,stride:0,offset:0}]),W=o(x);return W.attributes.position.location=0,new m(x,G,H,W,S,I,R,O)};var s=i(5827),a=i(2944),o=i(1943).j,l=[0,0,0],u=[0,0,0],h=[0,0,0],v=[0,0,0],p=[1,1];function T(x){return x[0]=x[1]=x[2]=0,x}function _(x,b){return x[0]=b[0],x[1]=b[1],x[2]=b[2],x}function m(x,b,A,g,I,S,O,R){this.gl=x,this.vertBuffer=b,this.vao=A,this.shader=g,this.tickCount=I,this.tickOffset=S,this.gridCount=O,this.gridOffset=R}var w=m.prototype;w.bind=function(x,b,A){this.shader.bind(),this.shader.uniforms.model=x,this.shader.uniforms.view=b,this.shader.uniforms.projection=A,p[0]=this.gl.drawingBufferWidth,p[1]=this.gl.drawingBufferHeight,this.shader.uniforms.screenShape=p,this.vao.bind()},w.unbind=function(){this.vao.unbind()},w.drawAxisLine=function(x,b,A,g,I){var S=T(u);this.shader.uniforms.majorAxis=u,S[x]=b[1][x]-b[0][x],this.shader.uniforms.minorAxis=S;var O,R=_(v,A);R[x]+=b[0][x],this.shader.uniforms.offset=R,this.shader.uniforms.lineWidth=I,this.shader.uniforms.color=g,(O=T(h))[(x+2)%3]=1,this.shader.uniforms.screenAxis=O,this.vao.draw(this.gl.TRIANGLES,6),(O=T(h))[(x+1)%3]=1,this.shader.uniforms.screenAxis=O,this.vao.draw(this.gl.TRIANGLES,6)},w.drawAxisTicks=function(x,b,A,g,I){if(this.tickCount[x]){var S=T(l);S[x]=1,this.shader.uniforms.majorAxis=S,this.shader.uniforms.offset=b,this.shader.uniforms.minorAxis=A,this.shader.uniforms.color=g,this.shader.uniforms.lineWidth=I;var O=T(h);O[x]=1,this.shader.uniforms.screenAxis=O,this.vao.draw(this.gl.TRIANGLES,this.tickCount[x],this.tickOffset[x])}},w.drawGrid=function(x,b,A,g,I,S){if(this.gridCount[x]){var O=T(u);O[b]=A[1][b]-A[0][b],this.shader.uniforms.minorAxis=O;var R=_(v,g);R[b]+=A[0][b],this.shader.uniforms.offset=R;var L=T(l);L[x]=1,this.shader.uniforms.majorAxis=L;var N=T(h);N[x]=1,this.shader.uniforms.screenAxis=N,this.shader.uniforms.lineWidth=S,this.shader.uniforms.color=I,this.vao.draw(this.gl.TRIANGLES,this.gridCount[x],this.gridOffset[x])}},w.drawZero=function(x,b,A,g,I,S){var O=T(u);this.shader.uniforms.majorAxis=O,O[x]=A[1][x]-A[0][x],this.shader.uniforms.minorAxis=O;var R=_(v,g);R[x]+=A[0][x],this.shader.uniforms.offset=R;var L=T(h);L[b]=1,this.shader.uniforms.screenAxis=L,this.shader.uniforms.lineWidth=S,this.shader.uniforms.color=I,this.vao.draw(this.gl.TRIANGLES,6)},w.dispose=function(){this.vao.dispose(),this.vertBuffer.dispose(),this.shader.dispose()}},1943:function(y,c,i){"use strict";var s=i(6832),a=i(5158),o=s(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position;\n\nuniform mat4 model, view, projection;\nuniform vec3 offset, majorAxis, minorAxis, screenAxis;\nuniform float lineWidth;\nuniform vec2 screenShape;\n\nvec3 project(vec3 p) {\n  vec4 pp = projection * view * model * vec4(p, 1.0);\n  return pp.xyz / max(pp.w, 0.0001);\n}\n\nvoid main() {\n  vec3 major = position.x * majorAxis;\n  vec3 minor = position.y * minorAxis;\n\n  vec3 vPosition = major + minor + offset;\n  vec3 pPosition = project(vPosition);\n  vec3 offset = project(vPosition + screenAxis * position.z);\n\n  vec2 screen = normalize((offset - pPosition).xy * screenShape) / screenShape;\n\n  gl_Position = vec4(pPosition + vec3(0.5 * screen * lineWidth, 0), 1.0);\n}\n"]),l=s(["precision highp float;\n#define GLSLIFY 1\n\nuniform vec4 color;\nvoid main() {\n  gl_FragColor = color;\n}"]);c.j=function(T){return a(T,o,l,null,[{name:"position",type:"vec3"}])};var u=s(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position;\n\nuniform mat4 model, view, projection;\nuniform vec3 offset, axis, alignDir, alignOpt;\nuniform float scale, angle, pixelScale;\nuniform vec2 resolution;\n\nvec3 project(vec3 p) {\n  vec4 pp = projection * view * model * vec4(p, 1.0);\n  return pp.xyz / max(pp.w, 0.0001);\n}\n\nfloat computeViewAngle(vec3 a, vec3 b) {\n  vec3 A = project(a);\n  vec3 B = project(b);\n\n  return atan(\n    (B.y - A.y) * resolution.y,\n    (B.x - A.x) * resolution.x\n  );\n}\n\nconst float PI = 3.141592;\nconst float TWO_PI = 2.0 * PI;\nconst float HALF_PI = 0.5 * PI;\nconst float ONE_AND_HALF_PI = 1.5 * PI;\n\nint option = int(floor(alignOpt.x + 0.001));\nfloat hv_ratio =       alignOpt.y;\nbool enableAlign =    (alignOpt.z != 0.0);\n\nfloat mod_angle(float a) {\n  return mod(a, PI);\n}\n\nfloat positive_angle(float a) {\n  return mod_angle((a < 0.0) ?\n    a + TWO_PI :\n    a\n  );\n}\n\nfloat look_upwards(float a) {\n  float b = positive_angle(a);\n  return ((b > HALF_PI) && (b <= ONE_AND_HALF_PI)) ?\n    b - PI :\n    b;\n}\n\nfloat look_horizontal_or_vertical(float a, float ratio) {\n  // ratio controls the ratio between being horizontal to (vertical + horizontal)\n  // if ratio is set to 0.5 then it is 50%, 50%.\n  // when using a higher ratio e.g. 0.75 the result would\n  // likely be more horizontal than vertical.\n\n  float b = positive_angle(a);\n\n  return\n    (b < (      ratio) * HALF_PI) ? 0.0 :\n    (b < (2.0 - ratio) * HALF_PI) ? -HALF_PI :\n    (b < (2.0 + ratio) * HALF_PI) ? 0.0 :\n    (b < (4.0 - ratio) * HALF_PI) ? HALF_PI :\n                                    0.0;\n}\n\nfloat roundTo(float a, float b) {\n  return float(b * floor((a + 0.5 * b) / b));\n}\n\nfloat look_round_n_directions(float a, int n) {\n  float b = positive_angle(a);\n  float div = TWO_PI / float(n);\n  float c = roundTo(b, div);\n  return look_upwards(c);\n}\n\nfloat applyAlignOption(float rawAngle, float delta) {\n  return\n    (option >  2) ? look_round_n_directions(rawAngle + delta, option) :       // option 3-n: round to n directions\n    (option == 2) ? look_horizontal_or_vertical(rawAngle + delta, hv_ratio) : // horizontal or vertical\n    (option == 1) ? rawAngle + delta :       // use free angle, and flip to align with one direction of the axis\n    (option == 0) ? look_upwards(rawAngle) : // use free angle, and stay upwards\n    (option ==-1) ? 0.0 :                    // useful for backward compatibility, all texts remains horizontal\n                    rawAngle;                // otherwise return back raw input angle\n}\n\nbool isAxisTitle = (axis.x == 0.0) &&\n                   (axis.y == 0.0) &&\n                   (axis.z == 0.0);\n\nvoid main() {\n  //Compute world offset\n  float axisDistance = position.z;\n  vec3 dataPosition = axisDistance * axis + offset;\n\n  float beta = angle; // i.e. user defined attributes for each tick\n\n  float axisAngle;\n  float clipAngle;\n  float flip;\n\n  if (enableAlign) {\n    axisAngle = (isAxisTitle) ? HALF_PI :\n                      computeViewAngle(dataPosition, dataPosition + axis);\n    clipAngle = computeViewAngle(dataPosition, dataPosition + alignDir);\n\n    axisAngle += (sin(axisAngle) < 0.0) ? PI : 0.0;\n    clipAngle += (sin(clipAngle) < 0.0) ? PI : 0.0;\n\n    flip = (dot(vec2(cos(axisAngle), sin(axisAngle)),\n                vec2(sin(clipAngle),-cos(clipAngle))) > 0.0) ? 1.0 : 0.0;\n\n    beta += applyAlignOption(clipAngle, flip * PI);\n  }\n\n  //Compute plane offset\n  vec2 planeCoord = position.xy * pixelScale;\n\n  mat2 planeXform = scale * mat2(\n     cos(beta), sin(beta),\n    -sin(beta), cos(beta)\n  );\n\n  vec2 viewOffset = 2.0 * planeXform * planeCoord / resolution;\n\n  //Compute clip position\n  vec3 clipPosition = project(dataPosition);\n\n  //Apply text offset in clip coordinates\n  clipPosition += vec3(viewOffset, 0.0);\n\n  //Done\n  gl_Position = vec4(clipPosition, 1.0);\n}"]),h=s(["precision highp float;\n#define GLSLIFY 1\n\nuniform vec4 color;\nvoid main() {\n  gl_FragColor = color;\n}"]);c.f=function(T){return a(T,u,h,null,[{name:"position",type:"vec3"}])};var v=s(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position;\nattribute vec3 normal;\n\nuniform mat4 model, view, projection;\nuniform vec3 enable;\nuniform vec3 bounds[2];\n\nvarying vec3 colorChannel;\n\nvoid main() {\n\n  vec3 signAxis = sign(bounds[1] - bounds[0]);\n\n  vec3 realNormal = signAxis * normal;\n\n  if(dot(realNormal, enable) > 0.0) {\n    vec3 minRange = min(bounds[0], bounds[1]);\n    vec3 maxRange = max(bounds[0], bounds[1]);\n    vec3 nPosition = mix(minRange, maxRange, 0.5 * (position + 1.0));\n    gl_Position = projection * view * model * vec4(nPosition, 1.0);\n  } else {\n    gl_Position = vec4(0,0,0,0);\n  }\n\n  colorChannel = abs(realNormal);\n}"]),p=s(["precision highp float;\n#define GLSLIFY 1\n\nuniform vec4 colors[3];\n\nvarying vec3 colorChannel;\n\nvoid main() {\n  gl_FragColor = colorChannel.x * colors[0] +\n                 colorChannel.y * colors[1] +\n                 colorChannel.z * colors[2];\n}"]);c.bg=function(T){return a(T,v,p,null,[{name:"position",type:"vec3"},{name:"normal",type:"vec3"}])}},9557:function(y,c,i){"use strict";y.exports=function(_,m,w,x,b,A){var g=s(_),I=a(_,[{buffer:g,size:3}]),S=l(_);S.attributes.position.location=0;var O=new v(_,S,g,I);return O.update(m,w,x,b,A),O};var s=i(5827),a=i(2944),o=i(875),l=i(1943).f,u=window||E.global||{},h=u.__TEXT_CACHE||{};function v(_,m,w,x){this.gl=_,this.shader=m,this.buffer=w,this.vao=x,this.tickOffset=this.tickCount=this.labelOffset=this.labelCount=null}u.__TEXT_CACHE={};var p=v.prototype,T=[0,0];p.bind=function(_,m,w,x){this.vao.bind(),this.shader.bind();var b=this.shader.uniforms;b.model=_,b.view=m,b.projection=w,b.pixelScale=x,T[0]=this.gl.drawingBufferWidth,T[1]=this.gl.drawingBufferHeight,this.shader.uniforms.resolution=T},p.unbind=function(){this.vao.unbind()},p.update=function(_,m,w,x,b){var A=[];function g(X,F,Y,G,H,W){var Z=h[Y];Z||(Z=h[Y]={});var se=Z[F];se||(se=Z[F]=function(pe,Me){try{return o(pe,Me)}catch(Ae){return console.warn('error vectorizing text:"'+pe+'" error:',Ae),{cells:[],positions:[]}}}(F,{triangles:!0,font:Y,textAlign:"center",textBaseline:"middle",lineSpacing:H,styletags:W}));for(var re=(G||12)/12,ne=se.positions,Q=se.cells,ee=0,oe=Q.length;ee<oe;++ee)for(var ce=Q[ee],fe=2;fe>=0;--fe){var le=ne[ce[fe]];A.push(re*le[0],-re*le[1],X)}}for(var I=[0,0,0],S=[0,0,0],O=[0,0,0],R=[0,0,0],L={breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0},N=0;N<3;++N){O[N]=A.length/3|0,g(.5*(_[0][N]+_[1][N]),m[N],w[N],12,1.25,L),R[N]=(A.length/3|0)-O[N],I[N]=A.length/3|0;for(var j=0;j<x[N].length;++j)x[N][j].text&&g(x[N][j].x,x[N][j].text,x[N][j].font||b,x[N][j].fontSize||12,1.25,L);S[N]=(A.length/3|0)-I[N]}this.buffer.update(A),this.tickOffset=I,this.tickCount=S,this.labelOffset=O,this.labelCount=R},p.drawTicks=function(_,m,w,x,b,A,g,I){this.tickCount[_]&&(this.shader.uniforms.axis=A,this.shader.uniforms.color=b,this.shader.uniforms.angle=w,this.shader.uniforms.scale=m,this.shader.uniforms.offset=x,this.shader.uniforms.alignDir=g,this.shader.uniforms.alignOpt=I,this.vao.draw(this.gl.TRIANGLES,this.tickCount[_],this.tickOffset[_]))},p.drawLabel=function(_,m,w,x,b,A,g,I){this.labelCount[_]&&(this.shader.uniforms.axis=A,this.shader.uniforms.color=b,this.shader.uniforms.angle=w,this.shader.uniforms.scale=m,this.shader.uniforms.offset=x,this.shader.uniforms.alignDir=g,this.shader.uniforms.alignOpt=I,this.vao.draw(this.gl.TRIANGLES,this.labelCount[_],this.labelOffset[_]))},p.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()}},8468:function(y,c){"use strict";function i(s,a){var o=s+"",l=o.indexOf("."),u=0;l>=0&&(u=o.length-l-1);var h=Math.pow(10,u),v=Math.round(s*a*h),p=v+"";if(p.indexOf("e")>=0)return p;var T=v/h,_=v%h;v<0?(T=0|-Math.ceil(T),_=0|-_):(T=0|Math.floor(T),_|=0);var m=""+T;if(v<0&&(m="-"+m),u){for(var w=""+_;w.length<u;)w="0"+w;return m+"."+w}return m}c.create=function(s,a){for(var o=[],l=0;l<3;++l){for(var u=[],h=0;h*a[l]<=s[1][l];++h)u.push({x:h*a[l],text:i(a[l],h)});for(h=-1;h*a[l]>=s[0][l];--h)u.push({x:h*a[l],text:i(a[l],h)});o.push(u)}return o},c.equal=function(s,a){for(var o=0;o<3;++o){if(s[o].length!==a[o].length)return!1;for(var l=0;l<s[o].length;++l){var u=s[o][l],h=a[o][l];if(u.x!==h.x||u.text!==h.text||u.font!==h.font||u.fontColor!==h.fontColor||u.fontSize!==h.fontSize||u.dx!==h.dx||u.dy!==h.dy)return!1}}return!0}},2771:function(y,c,i){"use strict";y.exports=function(A,g,I,S,O){var R=g.model||v,L=g.view||v,N=g.projection||v,j=g._ortho||!1,X=A.bounds,F=(O=O||o(R,L,N,X,j)).axis;l(p,L,R),l(p,N,p);for(var Y=x,G=0;G<3;++G)Y[G].lo=1/0,Y[G].hi=-1/0,Y[G].pixelsPerDataUnit=1/0;var H=s(u(p,p));u(p,p);for(var W=0;W<3;++W){var Z=(W+1)%3,se=(W+2)%3,re=b;e:for(G=0;G<2;++G){var ne=[];if(F[W]<0!=!!G){re[W]=X[G][W];for(var Q=0;Q<2;++Q){re[Z]=X[Q^G][Z];for(var ee=0;ee<2;++ee)re[se]=X[ee^Q^G][se],ne.push(re.slice())}var oe=j?5:4;for(Q=oe;Q===oe;++Q){if(0===ne.length)continue e;ne=a.positive(ne,H[Q])}for(Q=0;Q<ne.length;++Q){var ce=w(b,p,se=ne[Q],I,S);for(ee=0;ee<3;++ee)Y[ee].lo=Math.min(Y[ee].lo,se[ee]),Y[ee].hi=Math.max(Y[ee].hi,se[ee]),ee!==W&&(Y[ee].pixelsPerDataUnit=Math.min(Y[ee].pixelsPerDataUnit,Math.abs(ce[ee])))}}}}return Y};var s=i(5795),a=i(4670),o=i(2864),l=i(104),u=i(2142),h=i(6342),v=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),p=new Float32Array(16);function T(A,g,I){this.lo=A,this.hi=g,this.pixelsPerDataUnit=I}var _=[0,0,0,1],m=[0,0,0,1];function w(A,g,I,S,O){for(var R=0;R<3;++R){for(var L=_,N=m,j=0;j<3;++j)N[j]=L[j]=I[j];N[3]=L[3]=1,N[R]+=1,h(N,N,g),N[3]<0&&(A[R]=1/0),L[R]-=1,h(L,L,g),L[3]<0&&(A[R]=1/0);var X=(L[0]/L[3]-N[0]/N[3])*S,F=(L[1]/L[3]-N[1]/N[3])*O;A[R]=.25*Math.sqrt(X*X+F*F)}return A}var x=[new T(1/0,-1/0,1/0),new T(1/0,-1/0,1/0),new T(1/0,-1/0,1/0)],b=[0,0,0]},5827:function(y,c,i){"use strict";var s=i(5306),a=i(7498),o=i(5050),l=["uint8","uint8_clamped","uint16","uint32","int8","int16","int32","float32"];function u(T,_,m,w,x){this.gl=T,this.type=_,this.handle=m,this.length=w,this.usage=x}var h=u.prototype;function v(T,_,m,w,x,b){var A=x.length*x.BYTES_PER_ELEMENT;if(b<0)return T.bufferData(_,x,w),A;if(A+b>m)throw new Error("gl-buffer: If resizing buffer, must not specify offset");return T.bufferSubData(_,b,x),m}h.bind=function(){this.gl.bindBuffer(this.type,this.handle)},h.unbind=function(){this.gl.bindBuffer(this.type,null)},h.dispose=function(){this.gl.deleteBuffer(this.handle)},h.update=function(T,_){if("number"!=typeof _&&(_=-1),this.bind(),"object"==typeof T&&void 0!==T.shape){var m=T.dtype;if(l.indexOf(m)<0&&(m="float32"),this.type===this.gl.ELEMENT_ARRAY_BUFFER&&(m=gl.getExtension("OES_element_index_uint")&&"uint16"!==m?"uint32":"uint16"),m===T.dtype&&function(A,g){for(var I=1,S=g.length-1;S>=0;--S){if(g[S]!==I)return!1;I*=A[S]}return!0}(T.shape,T.stride))this.length=v(this.gl,this.type,this.length,this.usage,0===T.offset&&T.data.length===T.shape[0]?T.data:T.data.subarray(T.offset,T.shape[0]),_);else{var w=s.malloc(T.size,m),x=o(w,T.shape);a.assign(x,T),this.length=v(this.gl,this.type,this.length,this.usage,_<0?w:w.subarray(0,T.size),_),s.free(w)}}else if(Array.isArray(T)){var b;b=function p(T,_){for(var m=s.malloc(T.length,_),w=T.length,x=0;x<w;++x)m[x]=T[x];return m}(T,this.type===this.gl.ELEMENT_ARRAY_BUFFER?"uint16":"float32"),this.length=v(this.gl,this.type,this.length,this.usage,_<0?b:b.subarray(0,T.length),_),s.free(b)}else if("object"==typeof T&&"number"==typeof T.length)this.length=v(this.gl,this.type,this.length,this.usage,T,_);else{if("number"!=typeof T&&void 0!==T)throw new Error("gl-buffer: Invalid data type");if(_>=0)throw new Error("gl-buffer: Cannot specify offset when resizing buffer");(T|=0)<=0&&(T=1),this.gl.bufferData(this.type,0|T,this.usage),this.length=T}},y.exports=function(T,_,m,w){if(w=w||T.DYNAMIC_DRAW,(m=m||T.ARRAY_BUFFER)!==T.ARRAY_BUFFER&&m!==T.ELEMENT_ARRAY_BUFFER)throw new Error("gl-buffer: Invalid type for webgl buffer, must be either gl.ARRAY_BUFFER or gl.ELEMENT_ARRAY_BUFFER");if(w!==T.DYNAMIC_DRAW&&w!==T.STATIC_DRAW&&w!==T.STREAM_DRAW)throw new Error("gl-buffer: Invalid usage for buffer, must be either gl.DYNAMIC_DRAW, gl.STATIC_DRAW or gl.STREAM_DRAW");var x=T.createBuffer(),b=new u(T,m,x,0,w);return b.update(_),b}},1140:function(y,c,i){"use strict";var s=i(2858);y.exports=function(o,l){var u=o.positions,h=o.vectors,v={positions:[],vertexIntensity:[],vertexIntensityBounds:o.vertexIntensityBounds,vectors:[],cells:[],coneOffset:o.coneOffset,colormap:o.colormap};if(0===o.positions.length)return l&&(l[0]=[0,0,0],l[1]=[0,0,0]),v;for(var p=0,T=1/0,_=-1/0,m=1/0,w=-1/0,x=1/0,b=-1/0,A=null,g=null,I=[],S=1/0,O=!1,R=0;R<u.length;R++){var L=u[R];T=Math.min(L[0],T),_=Math.max(L[0],_),m=Math.min(L[1],m),w=Math.max(L[1],w),x=Math.min(L[2],x),b=Math.max(L[2],b);var N=h[R];if(s.length(N)>p&&(p=s.length(N)),R){var j=2*s.distance(A,L)/(s.length(g)+s.length(N));j?(S=Math.min(S,j),O=!1):O=!0}O||(A=L,g=N),I.push(N)}var F=[_,w,b];l&&(l[0]=[T,m,x],l[1]=F),0===p&&(p=1);var Y=1/p;isFinite(S)||(S=1),v.vectorScale=S;var G=o.coneSize||.5;o.absoluteConeSize&&(G=o.absoluteConeSize*Y),v.coneScale=G,R=0;for(var H=0;R<u.length;R++)for(var W=(L=u[R])[0],Z=L[1],se=L[2],re=I[R],ne=s.length(re)*Y,Q=0;Q<8;Q++){v.positions.push([W,Z,se,H++]),v.positions.push([W,Z,se,H++]),v.positions.push([W,Z,se,H++]),v.positions.push([W,Z,se,H++]),v.positions.push([W,Z,se,H++]),v.positions.push([W,Z,se,H++]),v.vectors.push(re),v.vectors.push(re),v.vectors.push(re),v.vectors.push(re),v.vectors.push(re),v.vectors.push(re),v.vertexIntensity.push(ne,ne,ne),v.vertexIntensity.push(ne,ne,ne);var ee=v.positions.length;v.cells.push([ee-6,ee-5,ee-4],[ee-3,ee-2,ee-1])}return v};var a=i(7234);y.exports.createMesh=i(5028),y.exports.createConeMesh=function(o,l){return y.exports.createMesh(o,l,{shaders:a,traceType:"cone"})}},5028:function(y,c,i){"use strict";var s=i(5158),a=i(5827),o=i(2944),l=i(8931),u=i(104),h=i(7437),v=i(5050),p=i(9156),T=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function _(w,x,b,A,g,I,S,O,R,L,N){this.gl=w,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=x,this.dirty=!0,this.triShader=b,this.pickShader=A,this.trianglePositions=g,this.triangleVectors=I,this.triangleColors=O,this.triangleUVs=R,this.triangleIds=S,this.triangleVAO=L,this.triangleCount=0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.traceType=N,this.tubeScale=1,this.coneScale=2,this.vectorScale=1,this.coneOffset=.25,this._model=T,this._view=T,this._projection=T,this._resolution=[1,1]}var m=_.prototype;m.isOpaque=function(){return this.opacity>=1},m.isTransparent=function(){return this.opacity<1},m.pickSlots=1,m.setPickBase=function(w){this.pickId=w},m.update=function(w){w=w||{};var x=this.gl;this.dirty=!0,"lightPosition"in w&&(this.lightPosition=w.lightPosition),"opacity"in w&&(this.opacity=w.opacity),"ambient"in w&&(this.ambientLight=w.ambient),"diffuse"in w&&(this.diffuseLight=w.diffuse),"specular"in w&&(this.specularLight=w.specular),"roughness"in w&&(this.roughness=w.roughness),"fresnel"in w&&(this.fresnel=w.fresnel),void 0!==w.tubeScale&&(this.tubeScale=w.tubeScale),void 0!==w.vectorScale&&(this.vectorScale=w.vectorScale),void 0!==w.coneScale&&(this.coneScale=w.coneScale),void 0!==w.coneOffset&&(this.coneOffset=w.coneOffset),w.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=x.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=x.LINEAR,this.texture.setPixels(function(ce){for(var fe=p({colormap:ce,nshades:256,format:"rgba"}),le=new Uint8Array(1024),pe=0;pe<256;++pe){for(var Me=fe[pe],Ae=0;Ae<3;++Ae)le[4*pe+Ae]=Me[Ae];le[4*pe+3]=255*Me[3]}return v(le,[256,256,4],[4,0,1])}(w.colormap)),this.texture.generateMipmap());var b=w.cells,A=w.positions,g=w.vectors;if(A&&b&&g){var I=[],S=[],O=[],R=[],L=[];this.cells=b,this.positions=A,this.vectors=g;var N=w.meshColor||[1,1,1,1],j=w.vertexIntensity,X=1/0,F=-1/0;if(j)if(w.vertexIntensityBounds)X=+w.vertexIntensityBounds[0],F=+w.vertexIntensityBounds[1];else for(var Y=0;Y<j.length;++Y){var G=j[Y];X=Math.min(X,G),F=Math.max(F,G)}else for(Y=0;Y<A.length;++Y)G=A[Y][2],X=Math.min(X,G),F=Math.max(F,G);for(this.intensity=j||function(ce){for(var fe=ce.length,le=new Array(fe),pe=0;pe<fe;++pe)le[pe]=ce[pe][2];return le}(A),this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],Y=0;Y<A.length;++Y)for(var H=A[Y],W=0;W<3;++W)!isNaN(H[W])&&isFinite(H[W])&&(this.bounds[0][W]=Math.min(this.bounds[0][W],H[W]),this.bounds[1][W]=Math.max(this.bounds[1][W],H[W]));var Z=0;e:for(Y=0;Y<b.length;++Y){var se=b[Y];if(3===se.length){for(W=0;W<3;++W){H=A[ne=se[W]];for(var re=0;re<3;++re)if(isNaN(H[re])||!isFinite(H[re]))continue e}for(W=0;W<3;++W){var ne;H=A[ne=se[2-W]],I.push(H[0],H[1],H[2],H[3]);var Q=g[ne];S.push(Q[0],Q[1],Q[2],Q[3]||0);var ee;O.push(N[0],N[1],N[2],3===N.length?1:N[3]),R.push((ee=j?[(j[ne]-X)/(F-X),0]:[(H[2]-X)/(F-X),0])[0],ee[1]),L.push(Y)}Z+=1}}this.triangleCount=Z,this.trianglePositions.update(I),this.triangleVectors.update(S),this.triangleColors.update(O),this.triangleUVs.update(R),this.triangleIds.update(new Uint32Array(L))}},m.drawTransparent=m.draw=function(w){for(var x=this.gl,b=(w=w||{}).model||T,A=w.view||T,g=w.projection||T,I=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],S=0;S<3;++S)I[0][S]=Math.max(I[0][S],this.clipBounds[0][S]),I[1][S]=Math.min(I[1][S],this.clipBounds[1][S]);var O={model:b,view:A,projection:g,inverseModel:T.slice(),clipBounds:I,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],opacity:this.opacity,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,texture:0};O.inverseModel=h(O.inverseModel,O.model),x.disable(x.CULL_FACE),this.texture.bind(0);var R=new Array(16);for(u(R,O.view,O.model),u(R,O.projection,R),h(R,R),S=0;S<3;++S)O.eyePosition[S]=R[12+S]/R[15];var L=R[15];for(S=0;S<3;++S)L+=this.lightPosition[S]*R[4*S+3];for(S=0;S<3;++S){for(var N=R[12+S],j=0;j<3;++j)N+=R[4*j+S]*this.lightPosition[j];O.lightPosition[S]=N/L}if(this.triangleCount>0){var X=this.triShader;X.bind(),X.uniforms=O,this.triangleVAO.bind(),x.drawArrays(x.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind()}},m.drawPick=function(w){for(var x=this.gl,b=(w=w||{}).model||T,A=w.view||T,g=w.projection||T,I=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],S=0;S<3;++S)I[0][S]=Math.max(I[0][S],this.clipBounds[0][S]),I[1][S]=Math.min(I[1][S],this.clipBounds[1][S]);this._model=[].slice.call(b),this._view=[].slice.call(A),this._projection=[].slice.call(g),this._resolution=[x.drawingBufferWidth,x.drawingBufferHeight];var O={model:b,view:A,projection:g,clipBounds:I,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,pickId:this.pickId/255},R=this.pickShader;R.bind(),R.uniforms=O,this.triangleCount>0&&(this.triangleVAO.bind(),x.drawArrays(x.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind())},m.pick=function(w){if(!w||w.id!==this.pickId)return null;var x=w.value[0]+256*w.value[1]+65536*w.value[2],b=this.cells[x],A=this.positions[b[1]].slice(0,3),g={position:A,dataCoordinate:A,index:Math.floor(b[1]/48)};return"cone"===this.traceType?g.index=Math.floor(b[1]/48):"streamtube"===this.traceType&&(g.intensity=this.intensity[b[1]],g.velocity=this.vectors[b[1]].slice(0,3),g.divergence=this.vectors[b[1]][3],g.index=x),g},m.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.pickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleVectors.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleIds.dispose()},y.exports=function(w,x,b){var A=b.shaders;1===arguments.length&&(w=(x=w).gl);var Y,G,g=((G=s(w,(Y=A).meshShader.vertex,Y.meshShader.fragment,null,Y.meshShader.attributes)).attributes.position.location=0,G.attributes.color.location=2,G.attributes.uv.location=3,G.attributes.vector.location=4,G),I=function(F,Y){var G=s(F,Y.pickShader.vertex,Y.pickShader.fragment,null,Y.pickShader.attributes);return G.attributes.position.location=0,G.attributes.id.location=1,G.attributes.vector.location=4,G}(w,A),S=l(w,v(new Uint8Array([255,255,255,255]),[1,1,4]));S.generateMipmap(),S.minFilter=w.LINEAR_MIPMAP_LINEAR,S.magFilter=w.LINEAR;var O=a(w),R=a(w),L=a(w),N=a(w),j=a(w),X=new _(w,S,g,I,O,R,j,L,N,o(w,[{buffer:O,type:w.FLOAT,size:4},{buffer:j,type:w.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:L,type:w.FLOAT,size:4},{buffer:N,type:w.FLOAT,size:2},{buffer:R,type:w.FLOAT,size:4}]),b.traceType||"cone");return X.update(x),X}},7234:function(y,c,i){var s=i(6832),a=s(["precision highp float;\n\nprecision highp float;\n#define GLSLIFY 1\n\nvec3 getOrthogonalVector(vec3 v) {\n  // Return up-vector for only-z vector.\n  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).\n  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.\n  // Assign z = 0, x = -b, y = a:\n  // a*-b + b*a + c*0 = -ba + ba + 0 = 0\n  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {\n    return normalize(vec3(-v.y, v.x, 0.0));\n  } else {\n    return normalize(vec3(0.0, v.z, -v.y));\n  }\n}\n\n// Calculate the cone vertex and normal at the given index.\n//\n// The returned vertex is for a cone with its top at origin and height of 1.0,\n// pointing in the direction of the vector attribute.\n//\n// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.\n// These vertices are used to make up the triangles of the cone by the following:\n//   segment + 0 top vertex\n//   segment + 1 perimeter vertex a+1\n//   segment + 2 perimeter vertex a\n//   segment + 3 center base vertex\n//   segment + 4 perimeter vertex a\n//   segment + 5 perimeter vertex a+1\n// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.\n// To go from index to segment, floor(index / 6)\n// To go from segment to angle, 2*pi * (segment/segmentCount)\n// To go from index to segment index, index - (segment*6)\n//\nvec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {\n\n  const float segmentCount = 8.0;\n\n  float index = rawIndex - floor(rawIndex /\n    (segmentCount * 6.0)) *\n    (segmentCount * 6.0);\n\n  float segment = floor(0.001 + index/6.0);\n  float segmentIndex = index - (segment*6.0);\n\n  normal = -normalize(d);\n\n  if (segmentIndex > 2.99 && segmentIndex < 3.01) {\n    return mix(vec3(0.0), -d, coneOffset);\n  }\n\n  float nextAngle = (\n    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||\n    (segmentIndex > 4.99 &&  segmentIndex < 5.01)\n  ) ? 1.0 : 0.0;\n  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);\n\n  vec3 v1 = mix(d, vec3(0.0), coneOffset);\n  vec3 v2 = v1 - d;\n\n  vec3 u = getOrthogonalVector(d);\n  vec3 v = normalize(cross(u, d));\n\n  vec3 x = u * cos(angle) * length(d)*0.25;\n  vec3 y = v * sin(angle) * length(d)*0.25;\n  vec3 v3 = v2 + x + y;\n  if (segmentIndex < 3.0) {\n    vec3 tx = u * sin(angle);\n    vec3 ty = v * -cos(angle);\n    vec3 tangent = tx + ty;\n    normal = normalize(cross(v3 - v1, tangent));\n  }\n\n  if (segmentIndex == 0.0) {\n    return mix(d, vec3(0.0), coneOffset);\n  }\n  return v3;\n}\n\nattribute vec3 vector;\nattribute vec4 color, position;\nattribute vec2 uv;\n\nuniform float vectorScale, coneScale, coneOffset;\nuniform mat4 model, view, projection, inverseModel;\nuniform vec3 eyePosition, lightPosition;\n\nvarying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  // Scale the vector magnitude to stay constant with\n  // model & view changes.\n  vec3 normal;\n  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector), position.w, coneOffset, normal);\n  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);\n\n  //Lighting geometry parameters\n  vec4 cameraCoordinate = view * conePosition;\n  cameraCoordinate.xyz /= cameraCoordinate.w;\n  f_lightDirection = lightPosition - cameraCoordinate.xyz;\n  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;\n  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);\n\n  // vec4 m_position  = model * vec4(conePosition, 1.0);\n  vec4 t_position  = view * conePosition;\n  gl_Position      = projection * t_position;\n\n  f_color          = color;\n  f_data           = conePosition.xyz;\n  f_position       = position.xyz;\n  f_uv             = uv;\n}\n"]),o=s(["#extension GL_OES_standard_derivatives : enable\n\nprecision highp float;\n#define GLSLIFY 1\n\nfloat beckmannDistribution(float x, float roughness) {\n  float NdotH = max(x, 0.0001);\n  float cos2Alpha = NdotH * NdotH;\n  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;\n  float roughness2 = roughness * roughness;\n  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;\n  return exp(tan2Alpha / roughness2) / denom;\n}\n\nfloat cookTorranceSpecular(\n  vec3 lightDirection,\n  vec3 viewDirection,\n  vec3 surfaceNormal,\n  float roughness,\n  float fresnel) {\n\n  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);\n  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);\n\n  //Half angle vector\n  vec3 H = normalize(lightDirection + viewDirection);\n\n  //Geometric term\n  float NdotH = max(dot(surfaceNormal, H), 0.0);\n  float VdotH = max(dot(viewDirection, H), 0.000001);\n  float LdotH = max(dot(lightDirection, H), 0.000001);\n  float G1 = (2.0 * NdotH * VdotN) / VdotH;\n  float G2 = (2.0 * NdotH * LdotN) / LdotH;\n  float G = min(1.0, min(G1, G2));\n  \n  //Distribution term\n  float D = beckmannDistribution(NdotH, roughness);\n\n  //Fresnel term\n  float F = pow(1.0 - VdotN, fresnel);\n\n  //Multiply terms and done\n  return  G * F * D / max(3.14159265 * VdotN, 0.000001);\n}\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 clipBounds[2];\nuniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;\nuniform sampler2D texture;\n\nvarying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;\n  vec3 N = normalize(f_normal);\n  vec3 L = normalize(f_lightDirection);\n  vec3 V = normalize(f_eyeDirection);\n\n  if(gl_FrontFacing) {\n    N = -N;\n  }\n\n  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));\n  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);\n\n  vec4 surfaceColor = f_color * texture2D(texture, f_uv);\n  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);\n\n  gl_FragColor = litColor * opacity;\n}\n"]),l=s(["precision highp float;\n\nprecision highp float;\n#define GLSLIFY 1\n\nvec3 getOrthogonalVector(vec3 v) {\n  // Return up-vector for only-z vector.\n  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).\n  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.\n  // Assign z = 0, x = -b, y = a:\n  // a*-b + b*a + c*0 = -ba + ba + 0 = 0\n  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {\n    return normalize(vec3(-v.y, v.x, 0.0));\n  } else {\n    return normalize(vec3(0.0, v.z, -v.y));\n  }\n}\n\n// Calculate the cone vertex and normal at the given index.\n//\n// The returned vertex is for a cone with its top at origin and height of 1.0,\n// pointing in the direction of the vector attribute.\n//\n// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.\n// These vertices are used to make up the triangles of the cone by the following:\n//   segment + 0 top vertex\n//   segment + 1 perimeter vertex a+1\n//   segment + 2 perimeter vertex a\n//   segment + 3 center base vertex\n//   segment + 4 perimeter vertex a\n//   segment + 5 perimeter vertex a+1\n// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.\n// To go from index to segment, floor(index / 6)\n// To go from segment to angle, 2*pi * (segment/segmentCount)\n// To go from index to segment index, index - (segment*6)\n//\nvec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {\n\n  const float segmentCount = 8.0;\n\n  float index = rawIndex - floor(rawIndex /\n    (segmentCount * 6.0)) *\n    (segmentCount * 6.0);\n\n  float segment = floor(0.001 + index/6.0);\n  float segmentIndex = index - (segment*6.0);\n\n  normal = -normalize(d);\n\n  if (segmentIndex > 2.99 && segmentIndex < 3.01) {\n    return mix(vec3(0.0), -d, coneOffset);\n  }\n\n  float nextAngle = (\n    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||\n    (segmentIndex > 4.99 &&  segmentIndex < 5.01)\n  ) ? 1.0 : 0.0;\n  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);\n\n  vec3 v1 = mix(d, vec3(0.0), coneOffset);\n  vec3 v2 = v1 - d;\n\n  vec3 u = getOrthogonalVector(d);\n  vec3 v = normalize(cross(u, d));\n\n  vec3 x = u * cos(angle) * length(d)*0.25;\n  vec3 y = v * sin(angle) * length(d)*0.25;\n  vec3 v3 = v2 + x + y;\n  if (segmentIndex < 3.0) {\n    vec3 tx = u * sin(angle);\n    vec3 ty = v * -cos(angle);\n    vec3 tangent = tx + ty;\n    normal = normalize(cross(v3 - v1, tangent));\n  }\n\n  if (segmentIndex == 0.0) {\n    return mix(d, vec3(0.0), coneOffset);\n  }\n  return v3;\n}\n\nattribute vec4 vector;\nattribute vec4 position;\nattribute vec4 id;\n\nuniform mat4 model, view, projection;\nuniform float vectorScale, coneScale, coneOffset;\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  vec3 normal;\n  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector.xyz), position.w, coneOffset, normal);\n  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);\n  gl_Position = projection * view * conePosition;\n  f_id        = id;\n  f_position  = position.xyz;\n}\n"]),u=s(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3  clipBounds[2];\nuniform float pickId;\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;\n\n  gl_FragColor = vec4(pickId, f_id.xyz);\n}"]);c.meshShader={vertex:a,fragment:o,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec3"}]},c.pickShader={vertex:l,fragment:u,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec3"}]}},1950:function(y){y.exports={0:"NONE",1:"ONE",2:"LINE_LOOP",3:"LINE_STRIP",4:"TRIANGLES",5:"TRIANGLE_STRIP",6:"TRIANGLE_FAN",256:"DEPTH_BUFFER_BIT",512:"NEVER",513:"LESS",514:"EQUAL",515:"LEQUAL",516:"GREATER",517:"NOTEQUAL",518:"GEQUAL",519:"ALWAYS",768:"SRC_COLOR",769:"ONE_MINUS_SRC_COLOR",770:"SRC_ALPHA",771:"ONE_MINUS_SRC_ALPHA",772:"DST_ALPHA",773:"ONE_MINUS_DST_ALPHA",774:"DST_COLOR",775:"ONE_MINUS_DST_COLOR",776:"SRC_ALPHA_SATURATE",1024:"STENCIL_BUFFER_BIT",1028:"FRONT",1029:"BACK",1032:"FRONT_AND_BACK",1280:"INVALID_ENUM",1281:"INVALID_VALUE",1282:"INVALID_OPERATION",1285:"OUT_OF_MEMORY",1286:"INVALID_FRAMEBUFFER_OPERATION",2304:"CW",2305:"CCW",2849:"LINE_WIDTH",2884:"CULL_FACE",2885:"CULL_FACE_MODE",2886:"FRONT_FACE",2928:"DEPTH_RANGE",2929:"DEPTH_TEST",2930:"DEPTH_WRITEMASK",2931:"DEPTH_CLEAR_VALUE",2932:"DEPTH_FUNC",2960:"STENCIL_TEST",2961:"STENCIL_CLEAR_VALUE",2962:"STENCIL_FUNC",2963:"STENCIL_VALUE_MASK",2964:"STENCIL_FAIL",2965:"STENCIL_PASS_DEPTH_FAIL",2966:"STENCIL_PASS_DEPTH_PASS",2967:"STENCIL_REF",2968:"STENCIL_WRITEMASK",2978:"VIEWPORT",3024:"DITHER",3042:"BLEND",3088:"SCISSOR_BOX",3089:"SCISSOR_TEST",3106:"COLOR_CLEAR_VALUE",3107:"COLOR_WRITEMASK",3317:"UNPACK_ALIGNMENT",3333:"PACK_ALIGNMENT",3379:"MAX_TEXTURE_SIZE",3386:"MAX_VIEWPORT_DIMS",3408:"SUBPIXEL_BITS",3410:"RED_BITS",3411:"GREEN_BITS",3412:"BLUE_BITS",3413:"ALPHA_BITS",3414:"DEPTH_BITS",3415:"STENCIL_BITS",3553:"TEXTURE_2D",4352:"DONT_CARE",4353:"FASTEST",4354:"NICEST",5120:"BYTE",5121:"UNSIGNED_BYTE",5122:"SHORT",5123:"UNSIGNED_SHORT",5124:"INT",5125:"UNSIGNED_INT",5126:"FLOAT",5386:"INVERT",5890:"TEXTURE",6401:"STENCIL_INDEX",6402:"DEPTH_COMPONENT",6406:"ALPHA",6407:"RGB",6408:"RGBA",6409:"LUMINANCE",6410:"LUMINANCE_ALPHA",7680:"KEEP",7681:"REPLACE",7682:"INCR",7683:"DECR",7936:"VENDOR",7937:"RENDERER",7938:"VERSION",9728:"NEAREST",9729:"LINEAR",9984:"NEAREST_MIPMAP_NEAREST",9985:"LINEAR_MIPMAP_NEAREST",9986:"NEAREST_MIPMAP_LINEAR",9987:"LINEAR_MIPMAP_LINEAR",10240:"TEXTURE_MAG_FILTER",10241:"TEXTURE_MIN_FILTER",10242:"TEXTURE_WRAP_S",10243:"TEXTURE_WRAP_T",10497:"REPEAT",10752:"POLYGON_OFFSET_UNITS",16384:"COLOR_BUFFER_BIT",32769:"CONSTANT_COLOR",32770:"ONE_MINUS_CONSTANT_COLOR",32771:"CONSTANT_ALPHA",32772:"ONE_MINUS_CONSTANT_ALPHA",32773:"BLEND_COLOR",32774:"FUNC_ADD",32777:"BLEND_EQUATION_RGB",32778:"FUNC_SUBTRACT",32779:"FUNC_REVERSE_SUBTRACT",32819:"UNSIGNED_SHORT_4_4_4_4",32820:"UNSIGNED_SHORT_5_5_5_1",32823:"POLYGON_OFFSET_FILL",32824:"POLYGON_OFFSET_FACTOR",32854:"RGBA4",32855:"RGB5_A1",32873:"TEXTURE_BINDING_2D",32926:"SAMPLE_ALPHA_TO_COVERAGE",32928:"SAMPLE_COVERAGE",32936:"SAMPLE_BUFFERS",32937:"SAMPLES",32938:"SAMPLE_COVERAGE_VALUE",32939:"SAMPLE_COVERAGE_INVERT",32968:"BLEND_DST_RGB",32969:"BLEND_SRC_RGB",32970:"BLEND_DST_ALPHA",32971:"BLEND_SRC_ALPHA",33071:"CLAMP_TO_EDGE",33170:"GENERATE_MIPMAP_HINT",33189:"DEPTH_COMPONENT16",33306:"DEPTH_STENCIL_ATTACHMENT",33635:"UNSIGNED_SHORT_5_6_5",33648:"MIRRORED_REPEAT",33901:"ALIASED_POINT_SIZE_RANGE",33902:"ALIASED_LINE_WIDTH_RANGE",33984:"TEXTURE0",33985:"TEXTURE1",33986:"TEXTURE2",33987:"TEXTURE3",33988:"TEXTURE4",33989:"TEXTURE5",33990:"TEXTURE6",33991:"TEXTURE7",33992:"TEXTURE8",33993:"TEXTURE9",33994:"TEXTURE10",33995:"TEXTURE11",33996:"TEXTURE12",33997:"TEXTURE13",33998:"TEXTURE14",33999:"TEXTURE15",34e3:"TEXTURE16",34001:"TEXTURE17",34002:"TEXTURE18",34003:"TEXTURE19",34004:"TEXTURE20",34005:"TEXTURE21",34006:"TEXTURE22",34007:"TEXTURE23",34008:"TEXTURE24",34009:"TEXTURE25",34010:"TEXTURE26",34011:"TEXTURE27",34012:"TEXTURE28",34013:"TEXTURE29",34014:"TEXTURE30",34015:"TEXTURE31",34016:"ACTIVE_TEXTURE",34024:"MAX_RENDERBUFFER_SIZE",34041:"DEPTH_STENCIL",34055:"INCR_WRAP",34056:"DECR_WRAP",34067:"TEXTURE_CUBE_MAP",34068:"TEXTURE_BINDING_CUBE_MAP",34069:"TEXTURE_CUBE_MAP_POSITIVE_X",34070:"TEXTURE_CUBE_MAP_NEGATIVE_X",34071:"TEXTURE_CUBE_MAP_POSITIVE_Y",34072:"TEXTURE_CUBE_MAP_NEGATIVE_Y",34073:"TEXTURE_CUBE_MAP_POSITIVE_Z",34074:"TEXTURE_CUBE_MAP_NEGATIVE_Z",34076:"MAX_CUBE_MAP_TEXTURE_SIZE",34338:"VERTEX_ATTRIB_ARRAY_ENABLED",34339:"VERTEX_ATTRIB_ARRAY_SIZE",34340:"VERTEX_ATTRIB_ARRAY_STRIDE",34341:"VERTEX_ATTRIB_ARRAY_TYPE",34342:"CURRENT_VERTEX_ATTRIB",34373:"VERTEX_ATTRIB_ARRAY_POINTER",34466:"NUM_COMPRESSED_TEXTURE_FORMATS",34467:"COMPRESSED_TEXTURE_FORMATS",34660:"BUFFER_SIZE",34661:"BUFFER_USAGE",34816:"STENCIL_BACK_FUNC",34817:"STENCIL_BACK_FAIL",34818:"STENCIL_BACK_PASS_DEPTH_FAIL",34819:"STENCIL_BACK_PASS_DEPTH_PASS",34877:"BLEND_EQUATION_ALPHA",34921:"MAX_VERTEX_ATTRIBS",34922:"VERTEX_ATTRIB_ARRAY_NORMALIZED",34930:"MAX_TEXTURE_IMAGE_UNITS",34962:"ARRAY_BUFFER",34963:"ELEMENT_ARRAY_BUFFER",34964:"ARRAY_BUFFER_BINDING",34965:"ELEMENT_ARRAY_BUFFER_BINDING",34975:"VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",35040:"STREAM_DRAW",35044:"STATIC_DRAW",35048:"DYNAMIC_DRAW",35632:"FRAGMENT_SHADER",35633:"VERTEX_SHADER",35660:"MAX_VERTEX_TEXTURE_IMAGE_UNITS",35661:"MAX_COMBINED_TEXTURE_IMAGE_UNITS",35663:"SHADER_TYPE",35664:"FLOAT_VEC2",35665:"FLOAT_VEC3",35666:"FLOAT_VEC4",35667:"INT_VEC2",35668:"INT_VEC3",35669:"INT_VEC4",35670:"BOOL",35671:"BOOL_VEC2",35672:"BOOL_VEC3",35673:"BOOL_VEC4",35674:"FLOAT_MAT2",35675:"FLOAT_MAT3",35676:"FLOAT_MAT4",35678:"SAMPLER_2D",35680:"SAMPLER_CUBE",35712:"DELETE_STATUS",35713:"COMPILE_STATUS",35714:"LINK_STATUS",35715:"VALIDATE_STATUS",35716:"INFO_LOG_LENGTH",35717:"ATTACHED_SHADERS",35718:"ACTIVE_UNIFORMS",35719:"ACTIVE_UNIFORM_MAX_LENGTH",35720:"SHADER_SOURCE_LENGTH",35721:"ACTIVE_ATTRIBUTES",35722:"ACTIVE_ATTRIBUTE_MAX_LENGTH",35724:"SHADING_LANGUAGE_VERSION",35725:"CURRENT_PROGRAM",36003:"STENCIL_BACK_REF",36004:"STENCIL_BACK_VALUE_MASK",36005:"STENCIL_BACK_WRITEMASK",36006:"FRAMEBUFFER_BINDING",36007:"RENDERBUFFER_BINDING",36048:"FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",36049:"FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",36050:"FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",36051:"FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",36053:"FRAMEBUFFER_COMPLETE",36054:"FRAMEBUFFER_INCOMPLETE_ATTACHMENT",36055:"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",36057:"FRAMEBUFFER_INCOMPLETE_DIMENSIONS",36061:"FRAMEBUFFER_UNSUPPORTED",36064:"COLOR_ATTACHMENT0",36096:"DEPTH_ATTACHMENT",36128:"STENCIL_ATTACHMENT",36160:"FRAMEBUFFER",36161:"RENDERBUFFER",36162:"RENDERBUFFER_WIDTH",36163:"RENDERBUFFER_HEIGHT",36164:"RENDERBUFFER_INTERNAL_FORMAT",36168:"STENCIL_INDEX8",36176:"RENDERBUFFER_RED_SIZE",36177:"RENDERBUFFER_GREEN_SIZE",36178:"RENDERBUFFER_BLUE_SIZE",36179:"RENDERBUFFER_ALPHA_SIZE",36180:"RENDERBUFFER_DEPTH_SIZE",36181:"RENDERBUFFER_STENCIL_SIZE",36194:"RGB565",36336:"LOW_FLOAT",36337:"MEDIUM_FLOAT",36338:"HIGH_FLOAT",36339:"LOW_INT",36340:"MEDIUM_INT",36341:"HIGH_INT",36346:"SHADER_COMPILER",36347:"MAX_VERTEX_UNIFORM_VECTORS",36348:"MAX_VARYING_VECTORS",36349:"MAX_FRAGMENT_UNIFORM_VECTORS",37440:"UNPACK_FLIP_Y_WEBGL",37441:"UNPACK_PREMULTIPLY_ALPHA_WEBGL",37442:"CONTEXT_LOST_WEBGL",37443:"UNPACK_COLORSPACE_CONVERSION_WEBGL",37444:"BROWSER_DEFAULT_WEBGL"}},6603:function(y,c,i){var s=i(1950);y.exports=function(a){return s[a]}},3110:function(y,c,i){"use strict";y.exports=function(_){var m=_.gl,w=s(m),x=a(m,[{buffer:w,type:m.FLOAT,size:3,offset:0,stride:40},{buffer:w,type:m.FLOAT,size:4,offset:12,stride:40},{buffer:w,type:m.FLOAT,size:3,offset:28,stride:40}]),b=o(m);b.attributes.position.location=0,b.attributes.color.location=1,b.attributes.offset.location=2;var A=new u(m,w,x,b);return A.update(_),A};var s=i(5827),a=i(2944),o=i(7667),l=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function u(_,m,w,x){this.gl=_,this.shader=x,this.buffer=m,this.vao=w,this.pixelRatio=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lineWidth=[1,1,1],this.capSize=[10,10,10],this.lineCount=[0,0,0],this.lineOffset=[0,0,0],this.opacity=1,this.hasAlpha=!1}var h=u.prototype;function v(_,m){for(var w=0;w<3;++w)_[0][w]=Math.min(_[0][w],m[w]),_[1][w]=Math.max(_[1][w],m[w])}h.isOpaque=function(){return!this.hasAlpha},h.isTransparent=function(){return this.hasAlpha},h.drawTransparent=h.draw=function(_){var m=this.gl,w=this.shader.uniforms;this.shader.bind();var x=w.view=_.view||l,b=w.projection=_.projection||l;w.model=_.model||l,w.clipBounds=this.clipBounds,w.opacity=this.opacity;var O=(_._ortho?2:1)*this.pixelRatio*(b[3]*x[12]+b[7]*x[13]+b[11]*x[14]+b[15]*x[15])/m.drawingBufferHeight;this.vao.bind();for(var R=0;R<3;++R)m.lineWidth(this.lineWidth[R]*this.pixelRatio),w.capSize=this.capSize[R]*O,this.lineCount[R]&&m.drawArrays(m.LINES,this.lineOffset[R],this.lineCount[R]);this.vao.unbind()};var p=function(){for(var _=new Array(3),m=0;m<3;++m){for(var w=[],x=1;x<=2;++x)for(var b=-1;b<=1;b+=2){var A=[0,0,0];A[(x+m)%3]=b,w.push(A)}_[m]=w}return _}();function T(_,m,w,x){for(var b=p[x],A=0;A<b.length;++A){var g=b[A];_.push(m[0],m[1],m[2],w[0],w[1],w[2],w[3],g[0],g[1],g[2])}return b.length}h.update=function(_){"lineWidth"in(_=_||{})&&(this.lineWidth=_.lineWidth,Array.isArray(this.lineWidth)||(this.lineWidth=[this.lineWidth,this.lineWidth,this.lineWidth])),"capSize"in _&&(this.capSize=_.capSize,Array.isArray(this.capSize)||(this.capSize=[this.capSize,this.capSize,this.capSize])),this.hasAlpha=!1,"opacity"in _&&(this.opacity=+_.opacity,this.opacity<1&&(this.hasAlpha=!0));var m=_.color||[[0,0,0],[0,0,0],[0,0,0]],w=_.position,x=_.error;if(Array.isArray(m[0])||(m=[m,m,m]),w&&x){var b=[],A=w.length,g=0;this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.lineCount=[0,0,0];for(var I=0;I<3;++I){this.lineOffset[I]=g;e:for(var S=0;S<A;++S){for(var O=w[S],R=0;R<3;++R)if(isNaN(O[R])||!isFinite(O[R]))continue e;var L,N=x[S],j=m[I];Array.isArray(j[0])&&(j=m[S]),3===j.length?j=[j[0],j[1],j[2],1]:4===j.length&&(j=[j[0],j[1],j[2],j[3]],!this.hasAlpha&&j[3]<1&&(this.hasAlpha=!0)),isNaN(N[0][I])||isNaN(N[1][I])||(N[0][I]<0&&((L=O.slice())[I]+=N[0][I],b.push(O[0],O[1],O[2],j[0],j[1],j[2],j[3],0,0,0,L[0],L[1],L[2],j[0],j[1],j[2],j[3],0,0,0),v(this.bounds,L),g+=2+T(b,L,j,I)),N[1][I]>0&&((L=O.slice())[I]+=N[1][I],b.push(O[0],O[1],O[2],j[0],j[1],j[2],j[3],0,0,0,L[0],L[1],L[2],j[0],j[1],j[2],j[3],0,0,0),v(this.bounds,L),g+=2+T(b,L,j,I)))}this.lineCount[I]=g-this.lineOffset[I]}this.buffer.update(b)}},h.dispose=function(){this.shader.dispose(),this.buffer.dispose(),this.vao.dispose()}},7667:function(y,c,i){"use strict";var s=i(6832),a=i(5158),o=s(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position, offset;\nattribute vec4 color;\nuniform mat4 model, view, projection;\nuniform float capSize;\nvarying vec4 fragColor;\nvarying vec3 fragPosition;\n\nvoid main() {\n  vec4 worldPosition  = model * vec4(position, 1.0);\n  worldPosition       = (worldPosition / worldPosition.w) + vec4(capSize * offset, 0.0);\n  gl_Position         = projection * view * worldPosition;\n  fragColor           = color;\n  fragPosition        = position;\n}"]),l=s(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 clipBounds[2];\nuniform float opacity;\nvarying vec3 fragPosition;\nvarying vec4 fragColor;\n\nvoid main() {\n  if (\n    outOfRange(clipBounds[0], clipBounds[1], fragPosition) ||\n    fragColor.a * opacity == 0.\n  ) discard;\n\n  gl_FragColor = opacity * fragColor;\n}"]);y.exports=function(u){return a(u,o,l,null,[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"offset",type:"vec3"}])}},4234:function(y,c,i){"use strict";var s=i(8931);y.exports=function(A,g,I,S){a||(a=A.FRAMEBUFFER_UNSUPPORTED,o=A.FRAMEBUFFER_INCOMPLETE_ATTACHMENT,l=A.FRAMEBUFFER_INCOMPLETE_DIMENSIONS,u=A.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT);var O=A.getExtension("WEBGL_draw_buffers");if(!h&&O&&function(Y,G){var H=Y.getParameter(G.MAX_COLOR_ATTACHMENTS_WEBGL);h=new Array(H+1);for(var W=0;W<=H;++W){for(var Z=new Array(H),se=0;se<W;++se)Z[se]=Y.COLOR_ATTACHMENT0+se;for(se=W;se<H;++se)Z[se]=Y.NONE;h[W]=Z}}(A,O),Array.isArray(g)&&(S=I,I=0|g[1],g=0|g[0]),"number"!=typeof g)throw new Error("gl-fbo: Missing shape parameter");var R=A.getParameter(A.MAX_RENDERBUFFER_SIZE);if(g<0||g>R||I<0||I>R)throw new Error("gl-fbo: Parameters are too large for FBO");var L=1;if("color"in(S=S||{})){if((L=Math.max(0|S.color,0))<0)throw new Error("gl-fbo: Must specify a nonnegative number of colors");if(L>1){if(!O)throw new Error("gl-fbo: Multiple draw buffer extension not supported");if(L>A.getParameter(O.MAX_COLOR_ATTACHMENTS_WEBGL))throw new Error("gl-fbo: Context does not support "+L+" draw buffers")}}var N=A.UNSIGNED_BYTE,j=A.getExtension("OES_texture_float");if(S.float&&L>0){if(!j)throw new Error("gl-fbo: Context does not support floating point textures");N=A.FLOAT}else S.preferFloat&&L>0&&j&&(N=A.FLOAT);var X=!0;"depth"in S&&(X=!!S.depth);var F=!1;return"stencil"in S&&(F=!!S.stencil),new w(A,g,I,N,L,X,F,O)};var a,o,l,u,h=null;function v(A){return[A.getParameter(A.FRAMEBUFFER_BINDING),A.getParameter(A.RENDERBUFFER_BINDING),A.getParameter(A.TEXTURE_BINDING_2D)]}function p(A,g){A.bindFramebuffer(A.FRAMEBUFFER,g[0]),A.bindRenderbuffer(A.RENDERBUFFER,g[1]),A.bindTexture(A.TEXTURE_2D,g[2])}function T(A){switch(A){case a:throw new Error("gl-fbo: Framebuffer unsupported");case o:throw new Error("gl-fbo: Framebuffer incomplete attachment");case l:throw new Error("gl-fbo: Framebuffer incomplete dimensions");case u:throw new Error("gl-fbo: Framebuffer incomplete missing attachment");default:throw new Error("gl-fbo: Framebuffer failed for unspecified reason")}}function _(A,g,I,S,O,R){if(!S)return null;var L=s(A,g,I,O,S);return L.magFilter=A.NEAREST,L.minFilter=A.NEAREST,L.mipSamples=1,L.bind(),A.framebufferTexture2D(A.FRAMEBUFFER,R,A.TEXTURE_2D,L.handle,0),L}function m(A,g,I,S,O){var R=A.createRenderbuffer();return A.bindRenderbuffer(A.RENDERBUFFER,R),A.renderbufferStorage(A.RENDERBUFFER,S,g,I),A.framebufferRenderbuffer(A.FRAMEBUFFER,O,A.RENDERBUFFER,R),R}function w(A,g,I,S,O,R,L,N){this.gl=A,this._shape=[0|g,0|I],this._destroyed=!1,this._ext=N,this.color=new Array(O);for(var j=0;j<O;++j)this.color[j]=null;this._color_rb=null,this.depth=null,this._depth_rb=null,this._colorType=S,this._useDepth=R,this._useStencil=L;var X=this,F=[0|g,0|I];Object.defineProperties(F,{0:{get:function(){return X._shape[0]},set:function(Y){return X.width=Y}},1:{get:function(){return X._shape[1]},set:function(Y){return X.height=Y}}}),this._shapeVector=F,function(Y){var G=v(Y.gl),H=Y.gl,W=Y.handle=H.createFramebuffer(),Z=Y._shape[0],se=Y._shape[1],re=Y.color.length,ne=Y._ext,Q=Y._useStencil,ee=Y._useDepth,oe=Y._colorType;H.bindFramebuffer(H.FRAMEBUFFER,W);for(var ce=0;ce<re;++ce)Y.color[ce]=_(H,Z,se,oe,H.RGBA,H.COLOR_ATTACHMENT0+ce);0===re?(Y._color_rb=m(H,Z,se,H.RGBA4,H.COLOR_ATTACHMENT0),ne&&ne.drawBuffersWEBGL(h[0])):re>1&&ne.drawBuffersWEBGL(h[re]);var fe=H.getExtension("WEBGL_depth_texture");fe?Q?Y.depth=_(H,Z,se,fe.UNSIGNED_INT_24_8_WEBGL,H.DEPTH_STENCIL,H.DEPTH_STENCIL_ATTACHMENT):ee&&(Y.depth=_(H,Z,se,H.UNSIGNED_SHORT,H.DEPTH_COMPONENT,H.DEPTH_ATTACHMENT)):ee&&Q?Y._depth_rb=m(H,Z,se,H.DEPTH_STENCIL,H.DEPTH_STENCIL_ATTACHMENT):ee?Y._depth_rb=m(H,Z,se,H.DEPTH_COMPONENT16,H.DEPTH_ATTACHMENT):Q&&(Y._depth_rb=m(H,Z,se,H.STENCIL_INDEX,H.STENCIL_ATTACHMENT));var le=H.checkFramebufferStatus(H.FRAMEBUFFER);if(le!==H.FRAMEBUFFER_COMPLETE){for(Y._destroyed=!0,H.bindFramebuffer(H.FRAMEBUFFER,null),H.deleteFramebuffer(Y.handle),Y.handle=null,Y.depth&&(Y.depth.dispose(),Y.depth=null),Y._depth_rb&&(H.deleteRenderbuffer(Y._depth_rb),Y._depth_rb=null),ce=0;ce<Y.color.length;++ce)Y.color[ce].dispose(),Y.color[ce]=null;Y._color_rb&&(H.deleteRenderbuffer(Y._color_rb),Y._color_rb=null),p(H,G),T(le)}p(H,G)}(this)}var x=w.prototype;function b(A,g,I){if(A._destroyed)throw new Error("gl-fbo: Can't resize destroyed FBO");if(A._shape[0]!==g||A._shape[1]!==I){var S=A.gl,O=S.getParameter(S.MAX_RENDERBUFFER_SIZE);if(g<0||g>O||I<0||I>O)throw new Error("gl-fbo: Can't resize FBO, invalid dimensions");A._shape[0]=g,A._shape[1]=I;for(var R=v(S),L=0;L<A.color.length;++L)A.color[L].shape=A._shape;A._color_rb&&(S.bindRenderbuffer(S.RENDERBUFFER,A._color_rb),S.renderbufferStorage(S.RENDERBUFFER,S.RGBA4,A._shape[0],A._shape[1])),A.depth&&(A.depth.shape=A._shape),A._depth_rb&&(S.bindRenderbuffer(S.RENDERBUFFER,A._depth_rb),A._useDepth&&A._useStencil?S.renderbufferStorage(S.RENDERBUFFER,S.DEPTH_STENCIL,A._shape[0],A._shape[1]):A._useDepth?S.renderbufferStorage(S.RENDERBUFFER,S.DEPTH_COMPONENT16,A._shape[0],A._shape[1]):A._useStencil&&S.renderbufferStorage(S.RENDERBUFFER,S.STENCIL_INDEX,A._shape[0],A._shape[1])),S.bindFramebuffer(S.FRAMEBUFFER,A.handle);var N=S.checkFramebufferStatus(S.FRAMEBUFFER);N!==S.FRAMEBUFFER_COMPLETE&&(A.dispose(),p(S,R),T(N)),p(S,R)}}Object.defineProperties(x,{shape:{get:function(){return this._destroyed?[0,0]:this._shapeVector},set:function(A){if(Array.isArray(A)||(A=[0|A,0|A]),2!==A.length)throw new Error("gl-fbo: Shape vector must be length 2");var g=0|A[0],I=0|A[1];return b(this,g,I),[g,I]},enumerable:!1},width:{get:function(){return this._destroyed?0:this._shape[0]},set:function(A){return b(this,A|=0,this._shape[1]),A},enumerable:!1},height:{get:function(){return this._destroyed?0:this._shape[1]},set:function(A){return b(this,this._shape[0],A|=0),A},enumerable:!1}}),x.bind=function(){if(!this._destroyed){var A=this.gl;A.bindFramebuffer(A.FRAMEBUFFER,this.handle),A.viewport(0,0,this._shape[0],this._shape[1])}},x.dispose=function(){if(!this._destroyed){this._destroyed=!0;var A=this.gl;A.deleteFramebuffer(this.handle),this.handle=null,this.depth&&(this.depth.dispose(),this.depth=null),this._depth_rb&&(A.deleteRenderbuffer(this._depth_rb),this._depth_rb=null);for(var g=0;g<this.color.length;++g)this.color[g].dispose(),this.color[g]=null;this._color_rb&&(A.deleteRenderbuffer(this._color_rb),this._color_rb=null)}}},3530:function(y,c,i){var s=i(8974).sprintf,a=i(6603),o=i(9365),l=i(8008);y.exports=function(u,h,v){"use strict";var p=o(h)||"of unknown name (see npm glsl-shader-name)",T="unknown type";void 0!==v&&(T=v===a.FRAGMENT_SHADER?"fragment":"vertex");for(var _=s("Error compiling %s shader %s:\n",T,p),m=s("%s%s",_,u),w=u.split("\n"),x={},b=0;b<w.length;b++){var A=w[b];if(""!==A&&"\0"!==A){var g=parseInt(A.split(":")[2]);if(isNaN(g))throw new Error(s("Could not parse error: %s",A));x[g]=A}}var I=l(h).split("\n");for(b=0;b<I.length;b++)if((x[b+3]||x[b+2]||x[b+1])&&(_+=I[b]+"\n",x[b+1])){var S=x[b+1];S=S.substr(S.split(":",3).join(":").length+1).trim(),_+=s("^^^ %s\n\n",S)}return{long:_.trim(),short:m.trim()}}},6386:function(y,c,i){"use strict";y.exports=function(m,w){var x=m.gl,b=new v(m,l(x,h.vertex,h.fragment),l(x,h.pickVertex,h.pickFragment),u(x),u(x),u(x),u(x));return b.update(w),m.addObject(b),b};var s=i(5070),a=i(9560),o=i(5306),l=i(5158),u=i(5827),h=i(1292);function v(m,w,x,b,A,g,I){this.plot=m,this.shader=w,this.pickShader=x,this.positionBuffer=b,this.weightBuffer=A,this.colorBuffer=g,this.idBuffer=I,this.xData=[],this.yData=[],this.shape=[0,0],this.bounds=[1/0,1/0,-1/0,-1/0],this.pickOffset=0}var p,m,w,T=v.prototype,_=[0,0,1,0,0,1,1,0,1,1,0,1];T.draw=(p=[1,0,0,0,1,0,0,0,1],function(){var m=this.plot,w=this.shader,x=this.bounds,b=this.numVertices;if(!(b<=0)){var A=m.gl,g=m.dataBox,S=x[3]-x[1],O=g[2]-g[0],R=g[3]-g[1];p[0]=2*(x[2]-x[0])/O,p[4]=2*S/R,p[6]=2*(x[0]-g[0])/O-1,p[7]=2*(x[1]-g[1])/R-1,w.bind();var L=w.uniforms;L.viewTransform=p,L.shape=this.shape;var N=w.attributes;this.positionBuffer.bind(),N.position.pointer(),this.weightBuffer.bind(),N.weight.pointer(A.UNSIGNED_BYTE,!1),this.colorBuffer.bind(),N.color.pointer(A.UNSIGNED_BYTE,!0),A.drawArrays(A.TRIANGLES,0,b)}}),T.drawPick=(m=[1,0,0,0,1,0,0,0,1],w=[0,0,0,0],function(x){var b=this.plot,A=this.pickShader,g=this.bounds,I=this.numVertices;if(!(I<=0)){var S=b.gl,O=b.dataBox,L=g[3]-g[1],N=O[2]-O[0],j=O[3]-O[1];m[0]=2*(g[2]-g[0])/N,m[4]=2*L/j,m[6]=2*(g[0]-O[0])/N-1,m[7]=2*(g[1]-O[1])/j-1;for(var X=0;X<4;++X)w[X]=x>>8*X&255;this.pickOffset=x,A.bind();var F=A.uniforms;F.viewTransform=m,F.pickOffset=w,F.shape=this.shape;var Y=A.attributes;return this.positionBuffer.bind(),Y.position.pointer(),this.weightBuffer.bind(),Y.weight.pointer(S.UNSIGNED_BYTE,!1),this.idBuffer.bind(),Y.pickId.pointer(S.UNSIGNED_BYTE,!1),S.drawArrays(S.TRIANGLES,0,I),x+this.shape[0]*this.shape[1]}}),T.pick=function(m,w,x){var b=this.pickOffset;if(x<b||x>=b+this.shape[0]*this.shape[1])return null;var g=x-b;return{object:this,pointId:g,dataCoord:[this.xData[g%this.shape[0]],this.yData[g/this.shape[0]|0]]}},T.update=function(m){var w=(m=m||{}).shape||[0,0],x=m.x||a(w[0]),b=m.y||a(w[1]),A=m.z||new Float32Array(w[0]*w[1]),g=!1!==m.zsmooth;this.xData=x,this.yData=b;var I,S,O,R,L=m.colorLevels||[0],N=m.colorValues||[0,0,0,1],j=L.length,X=this.bounds;g?(I=X[0]=x[0],S=X[1]=b[0],O=X[2]=x[x.length-1],R=X[3]=b[b.length-1]):(I=X[0]=x[0]+(x[1]-x[0])/2,S=X[1]=b[0]+(b[1]-b[0])/2,O=X[2]=x[x.length-1]+(x[x.length-1]-x[x.length-2])/2,R=X[3]=b[b.length-1]+(b[b.length-1]-b[b.length-2])/2);var F=1/(O-I),Y=1/(R-S),G=w[0],H=w[1];this.shape=[G,H];var W=(g?(G-1)*(H-1):G*H)*(_.length>>>1);this.numVertices=W;for(var Z=o.mallocUint8(4*W),se=o.mallocFloat32(2*W),re=o.mallocUint8(2*W),ne=o.mallocUint32(W),Q=0,ee=g?G-1:G,oe=g?H-1:H,ce=0;ce<oe;++ce){var fe,le;g?(fe=Y*(b[ce]-S),le=Y*(b[ce+1]-S)):(fe=ce<H-1?Y*(b[ce]-(b[ce+1]-b[ce])/2-S):Y*(b[ce]-(b[ce]-b[ce-1])/2-S),le=ce<H-1?Y*(b[ce]+(b[ce+1]-b[ce])/2-S):Y*(b[ce]+(b[ce]-b[ce-1])/2-S));for(var pe=0;pe<ee;++pe){var Me,Ae;g?(Me=F*(x[pe]-I),Ae=F*(x[pe+1]-I)):(Me=pe<G-1?F*(x[pe]-(x[pe+1]-x[pe])/2-I):F*(x[pe]-(x[pe]-x[pe-1])/2-I),Ae=pe<G-1?F*(x[pe]+(x[pe+1]-x[pe])/2-I):F*(x[pe]+(x[pe]-x[pe-1])/2-I));for(var be=0;be<_.length;be+=2){var ye,we,ze,Se,Ce=_[be],ge=_[be+1],he=A[g?(ce+ge)*G+(pe+Ce):ce*G+pe],_e=s.le(L,he);if(_e<0)ye=N[0],we=N[1],ze=N[2],Se=N[3];else if(_e===j-1)ye=N[4*j-4],we=N[4*j-3],ze=N[4*j-2],Se=N[4*j-1];else{var Le=(he-L[_e])/(L[_e+1]-L[_e]),Ie=1-Le,De=4*_e,je=4*(_e+1);ye=Ie*N[De]+Le*N[je],we=Ie*N[De+1]+Le*N[je+1],ze=Ie*N[De+2]+Le*N[je+2],Se=Ie*N[De+3]+Le*N[je+3]}Z[4*Q]=255*ye,Z[4*Q+1]=255*we,Z[4*Q+2]=255*ze,Z[4*Q+3]=255*Se,se[2*Q]=.5*Me+.5*Ae,se[2*Q+1]=.5*fe+.5*le,re[2*Q]=Ce,re[2*Q+1]=ge,ne[Q]=ce*G+pe,Q+=1}}}this.positionBuffer.update(se),this.weightBuffer.update(re),this.colorBuffer.update(Z),this.idBuffer.update(ne),o.free(se),o.free(Z),o.free(re),o.free(ne)},T.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.positionBuffer.dispose(),this.weightBuffer.dispose(),this.colorBuffer.dispose(),this.idBuffer.dispose(),this.plot.removeObject(this)}},1292:function(y,c,i){"use strict";var s=i(6832);y.exports={fragment:s(["precision lowp float;\n#define GLSLIFY 1\nvarying vec4 fragColor;\nvoid main() {\n  gl_FragColor = vec4(fragColor.rgb * fragColor.a, fragColor.a);\n}\n"]),vertex:s(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 position;\nattribute vec4 color;\nattribute vec2 weight;\n\nuniform vec2 shape;\nuniform mat3 viewTransform;\n\nvarying vec4 fragColor;\n\nvoid main() {\n  vec3 vPosition = viewTransform * vec3( position + (weight-.5)/(shape-1.) , 1.0);\n  fragColor = color;\n  gl_Position = vec4(vPosition.xy, 0, vPosition.z);\n}\n"]),pickFragment:s(["precision mediump float;\n#define GLSLIFY 1\n\nvarying vec4 fragId;\nvarying vec2 vWeight;\n\nuniform vec2 shape;\nuniform vec4 pickOffset;\n\nvoid main() {\n  vec2 d = step(.5, vWeight);\n  vec4 id = fragId + pickOffset;\n  id.x += d.x + d.y*shape.x;\n\n  id.y += floor(id.x / 256.0);\n  id.x -= floor(id.x / 256.0) * 256.0;\n\n  id.z += floor(id.y / 256.0);\n  id.y -= floor(id.y / 256.0) * 256.0;\n\n  id.w += floor(id.z / 256.0);\n  id.z -= floor(id.z / 256.0) * 256.0;\n\n  gl_FragColor = id/255.;\n}\n"]),pickVertex:s(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 position;\nattribute vec4 pickId;\nattribute vec2 weight;\n\nuniform vec2 shape;\nuniform mat3 viewTransform;\n\nvarying vec4 fragId;\nvarying vec2 vWeight;\n\nvoid main() {\n  vWeight = weight;\n\n  fragId = pickId;\n\n  vec3 vPosition = viewTransform * vec3( position + (weight-.5)/(shape-1.) , 1.0);\n  gl_Position = vec4(vPosition.xy, 0, vPosition.z);\n}\n"])}},248:function(y,c,i){var s=i(6832),a=i(5158),o=s(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position, nextPosition;\nattribute float arcLength, lineWidth;\nattribute vec4 color;\n\nuniform vec2 screenShape;\nuniform float pixelRatio;\nuniform mat4 model, view, projection;\n\nvarying vec4 fragColor;\nvarying vec3 worldPosition;\nvarying float pixelArcLength;\n\nvec4 project(vec3 p) {\n  return projection * view * model * vec4(p, 1.0);\n}\n\nvoid main() {\n  vec4 startPoint = project(position);\n  vec4 endPoint   = project(nextPosition);\n\n  vec2 A = startPoint.xy / startPoint.w;\n  vec2 B =   endPoint.xy /   endPoint.w;\n\n  float clipAngle = atan(\n    (B.y - A.y) * screenShape.y,\n    (B.x - A.x) * screenShape.x\n  );\n\n  vec2 offset = 0.5 * pixelRatio * lineWidth * vec2(\n    sin(clipAngle),\n    -cos(clipAngle)\n  ) / screenShape;\n\n  gl_Position = vec4(startPoint.xy + startPoint.w * offset, startPoint.zw);\n\n  worldPosition = position;\n  pixelArcLength = arcLength;\n  fragColor = color;\n}\n"]),l=s(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3      clipBounds[2];\nuniform sampler2D dashTexture;\nuniform float     dashScale;\nuniform float     opacity;\n\nvarying vec3    worldPosition;\nvarying float   pixelArcLength;\nvarying vec4    fragColor;\n\nvoid main() {\n  if (\n    outOfRange(clipBounds[0], clipBounds[1], worldPosition) ||\n    fragColor.a * opacity == 0.\n  ) discard;\n\n  float dashWeight = texture2D(dashTexture, vec2(dashScale * pixelArcLength, 0)).r;\n  if(dashWeight < 0.5) {\n    discard;\n  }\n  gl_FragColor = fragColor * opacity;\n}\n"]),u=s(["precision highp float;\n#define GLSLIFY 1\n\n#define FLOAT_MAX  1.70141184e38\n#define FLOAT_MIN  1.17549435e-38\n\n// https://github.com/mikolalysenko/glsl-read-float/blob/master/index.glsl\nvec4 packFloat(float v) {\n  float av = abs(v);\n\n  //Handle special cases\n  if(av < FLOAT_MIN) {\n    return vec4(0.0, 0.0, 0.0, 0.0);\n  } else if(v > FLOAT_MAX) {\n    return vec4(127.0, 128.0, 0.0, 0.0) / 255.0;\n  } else if(v < -FLOAT_MAX) {\n    return vec4(255.0, 128.0, 0.0, 0.0) / 255.0;\n  }\n\n  vec4 c = vec4(0,0,0,0);\n\n  //Compute exponent and mantissa\n  float e = floor(log2(av));\n  float m = av * pow(2.0, -e) - 1.0;\n\n  //Unpack mantissa\n  c[1] = floor(128.0 * m);\n  m -= c[1] / 128.0;\n  c[2] = floor(32768.0 * m);\n  m -= c[2] / 32768.0;\n  c[3] = floor(8388608.0 * m);\n\n  //Unpack exponent\n  float ebias = e + 127.0;\n  c[0] = floor(ebias / 2.0);\n  ebias -= c[0] * 2.0;\n  c[1] += floor(ebias) * 128.0;\n\n  //Unpack sign bit\n  c[0] += 128.0 * step(0.0, -v);\n\n  //Scale back to range\n  return c / 255.0;\n}\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform float pickId;\nuniform vec3 clipBounds[2];\n\nvarying vec3 worldPosition;\nvarying float pixelArcLength;\nvarying vec4 fragColor;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], worldPosition)) discard;\n\n  gl_FragColor = vec4(pickId/255.0, packFloat(pixelArcLength).xyz);\n}"]),h=[{name:"position",type:"vec3"},{name:"nextPosition",type:"vec3"},{name:"arcLength",type:"float"},{name:"lineWidth",type:"float"},{name:"color",type:"vec4"}];c.createShader=function(v){return a(v,o,l,null,h)},c.createPickShader=function(v){return a(v,o,u,null,h)}},6086:function(y,c,i){"use strict";y.exports=function(I){var S=I.gl||I.scene&&I.scene.gl,O=T(S);O.attributes.position.location=0,O.attributes.nextPosition.location=1,O.attributes.arcLength.location=2,O.attributes.lineWidth.location=3,O.attributes.color.location=4;var R=_(S);R.attributes.position.location=0,R.attributes.nextPosition.location=1,R.attributes.arcLength.location=2,R.attributes.lineWidth.location=3,R.attributes.color.location=4;for(var L=s(S),N=a(S,[{buffer:L,size:3,offset:0,stride:48},{buffer:L,size:3,offset:12,stride:48},{buffer:L,size:1,offset:24,stride:48},{buffer:L,size:1,offset:28,stride:48},{buffer:L,size:4,offset:32,stride:48}]),j=v(new Array(1024),[256,1,4]),X=0;X<1024;++X)j.data[X]=255;var F=o(S,j);F.wrap=S.REPEAT;var Y=new A(S,O,R,L,N,F);return Y.update(I),Y};var s=i(5827),a=i(2944),o=i(8931),l=new Uint8Array(4),u=new Float32Array(l.buffer),h=i(5070),v=i(5050),p=i(248),T=p.createShader,_=p.createPickShader,m=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function w(I,S){for(var O=0,R=0;R<3;++R){var L=I[R]-S[R];O+=L*L}return Math.sqrt(O)}function x(I){for(var S=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],O=0;O<3;++O)S[0][O]=Math.max(I[0][O],S[0][O]),S[1][O]=Math.min(I[1][O],S[1][O]);return S}function b(I,S,O,R){this.arcLength=I,this.position=S,this.index=O,this.dataCoordinate=R}function A(I,S,O,R,L,N){this.gl=I,this.shader=S,this.pickShader=O,this.buffer=R,this.vao=L,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.points=[],this.arcLength=[],this.vertexCount=0,this.bounds=[[0,0,0],[0,0,0]],this.pickId=0,this.lineWidth=1,this.texture=N,this.dashScale=1,this.opacity=1,this.hasAlpha=!1,this.dirty=!0,this.pixelRatio=1}var g=A.prototype;g.isTransparent=function(){return this.hasAlpha},g.isOpaque=function(){return!this.hasAlpha},g.pickSlots=1,g.setPickBase=function(I){this.pickId=I},g.drawTransparent=g.draw=function(I){if(this.vertexCount){var S=this.gl,O=this.shader,R=this.vao;O.bind(),O.uniforms={model:I.model||m,view:I.view||m,projection:I.projection||m,clipBounds:x(this.clipBounds),dashTexture:this.texture.bind(),dashScale:this.dashScale/this.arcLength[this.arcLength.length-1],opacity:this.opacity,screenShape:[S.drawingBufferWidth,S.drawingBufferHeight],pixelRatio:this.pixelRatio},R.bind(),R.draw(S.TRIANGLE_STRIP,this.vertexCount),R.unbind()}},g.drawPick=function(I){if(this.vertexCount){var S=this.gl,O=this.pickShader,R=this.vao;O.bind(),O.uniforms={model:I.model||m,view:I.view||m,projection:I.projection||m,pickId:this.pickId,clipBounds:x(this.clipBounds),screenShape:[S.drawingBufferWidth,S.drawingBufferHeight],pixelRatio:this.pixelRatio},R.bind(),R.draw(S.TRIANGLE_STRIP,this.vertexCount),R.unbind()}},g.update=function(I){var S,O;this.dirty=!0;var R=!!I.connectGaps;"dashScale"in I&&(this.dashScale=I.dashScale),this.hasAlpha=!1,"opacity"in I&&(this.opacity=+I.opacity,this.opacity<1&&(this.hasAlpha=!0));var L=[],N=[],j=[],X=0,F=0,Y=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],G=I.position||I.positions;if(G){var H=I.color||I.colors||[0,0,0,1],W=I.lineWidth||1,Z=!1;e:for(S=1;S<G.length;++S){var se,re,ne,Q=G[S-1],ee=G[S];for(N.push(X),j.push(Q.slice()),O=0;O<3;++O){if(isNaN(Q[O])||isNaN(ee[O])||!isFinite(Q[O])||!isFinite(ee[O])){if(!R&&L.length>0){for(var oe=0;oe<24;++oe)L.push(L[L.length-12]);F+=2,Z=!0}continue e}Y[0][O]=Math.min(Y[0][O],Q[O],ee[O]),Y[1][O]=Math.max(Y[1][O],Q[O],ee[O])}Array.isArray(H[0])?(se=H.length>S-1?H[S-1]:H.length>0?H[H.length-1]:[0,0,0,1],re=H.length>S?H[S]:H.length>0?H[H.length-1]:[0,0,0,1]):se=re=H,3===se.length&&(se=[se[0],se[1],se[2],1]),3===re.length&&(re=[re[0],re[1],re[2],1]),!this.hasAlpha&&se[3]<1&&(this.hasAlpha=!0),ne=Array.isArray(W)?W.length>S-1?W[S-1]:W.length>0?W[W.length-1]:[0,0,0,1]:W;var ce=X;if(X+=w(Q,ee),Z){for(O=0;O<2;++O)L.push(Q[0],Q[1],Q[2],ee[0],ee[1],ee[2],ce,ne,se[0],se[1],se[2],se[3]);F+=2,Z=!1}L.push(Q[0],Q[1],Q[2],ee[0],ee[1],ee[2],ce,ne,se[0],se[1],se[2],se[3],Q[0],Q[1],Q[2],ee[0],ee[1],ee[2],ce,-ne,se[0],se[1],se[2],se[3],ee[0],ee[1],ee[2],Q[0],Q[1],Q[2],X,-ne,re[0],re[1],re[2],re[3],ee[0],ee[1],ee[2],Q[0],Q[1],Q[2],X,ne,re[0],re[1],re[2],re[3]),F+=4}}if(this.buffer.update(L),N.push(X),j.push(G[G.length-1].slice()),this.bounds=Y,this.vertexCount=F,this.points=j,this.arcLength=N,"dashes"in I){var fe=I.dashes.slice();for(fe.unshift(0),S=1;S<fe.length;++S)fe[S]=fe[S-1]+fe[S];var le=v(new Array(1024),[256,1,4]);for(S=0;S<256;++S){for(O=0;O<4;++O)le.set(S,0,O,0);1&h.le(fe,fe[fe.length-1]*S/255)?le.set(S,0,0,0):le.set(S,0,0,255)}this.texture.setPixels(le)}},g.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()},g.pick=function(I){if(!I||I.id!==this.pickId)return null;var G,H,W,S=(G=I.value[0],H=I.value[1],W=I.value[2],l[0]=0,l[1]=W,l[2]=H,l[3]=G,u[0]),O=h.le(this.arcLength,S);if(O<0)return null;if(O===this.arcLength.length-1)return new b(this.arcLength[this.arcLength.length-1],this.points[this.points.length-1].slice(),O);for(var R=this.points[O],L=this.points[Math.min(O+1,this.points.length-1)],N=(S-this.arcLength[O])/(this.arcLength[O+1]-this.arcLength[O]),j=1-N,X=[0,0,0],F=0;F<3;++F)X[F]=j*R[F]+N*L[F];var Y=Math.min(N<.5?O:O+1,this.points.length-1);return new b(S,X,Y,this.points[Y])}},7332:function(y){y.exports=function(c){var i=new Float32Array(16);return i[0]=c[0],i[1]=c[1],i[2]=c[2],i[3]=c[3],i[4]=c[4],i[5]=c[5],i[6]=c[6],i[7]=c[7],i[8]=c[8],i[9]=c[9],i[10]=c[10],i[11]=c[11],i[12]=c[12],i[13]=c[13],i[14]=c[14],i[15]=c[15],i}},9823:function(y){y.exports=function(){var c=new Float32Array(16);return c[0]=1,c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[5]=1,c[6]=0,c[7]=0,c[8]=0,c[9]=0,c[10]=1,c[11]=0,c[12]=0,c[13]=0,c[14]=0,c[15]=1,c}},7787:function(y){y.exports=function(c){var i=c[0],s=c[1],a=c[2],o=c[3],l=c[4],u=c[5],h=c[6],v=c[7],p=c[8],T=c[9],_=c[10],m=c[11],w=c[12],x=c[13],b=c[14],A=c[15];return(i*u-s*l)*(_*A-m*b)-(i*h-a*l)*(T*A-m*x)+(i*v-o*l)*(T*b-_*x)+(s*h-a*u)*(p*A-m*w)-(s*v-o*u)*(p*b-_*w)+(a*v-o*h)*(p*x-T*w)}},5950:function(y){y.exports=function(c,i){var s=i[0],a=i[1],o=i[2],l=i[3],u=s+s,h=a+a,v=o+o,p=s*u,T=a*u,_=a*h,m=o*u,w=o*h,x=o*v,b=l*u,A=l*h,g=l*v;return c[0]=1-_-x,c[1]=T+g,c[2]=m-A,c[3]=0,c[4]=T-g,c[5]=1-p-x,c[6]=w+b,c[7]=0,c[8]=m+A,c[9]=w-b,c[10]=1-p-_,c[11]=0,c[12]=0,c[13]=0,c[14]=0,c[15]=1,c}},7280:function(y){y.exports=function(c,i,s){var a=i[0],o=i[1],l=i[2],u=i[3],h=a+a,v=o+o,p=l+l,T=a*h,_=a*v,m=a*p,w=o*v,x=o*p,b=l*p,A=u*h,g=u*v,I=u*p;return c[0]=1-(w+b),c[1]=_+I,c[2]=m-g,c[3]=0,c[4]=_-I,c[5]=1-(T+b),c[6]=x+A,c[7]=0,c[8]=m+g,c[9]=x-A,c[10]=1-(T+w),c[11]=0,c[12]=s[0],c[13]=s[1],c[14]=s[2],c[15]=1,c}},9947:function(y){y.exports=function(c){return c[0]=1,c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[5]=1,c[6]=0,c[7]=0,c[8]=0,c[9]=0,c[10]=1,c[11]=0,c[12]=0,c[13]=0,c[14]=0,c[15]=1,c}},7437:function(y){y.exports=function(c,i){var s=i[0],a=i[1],o=i[2],l=i[3],u=i[4],h=i[5],v=i[6],p=i[7],T=i[8],_=i[9],m=i[10],w=i[11],x=i[12],b=i[13],A=i[14],g=i[15],I=s*h-a*u,S=s*v-o*u,O=s*p-l*u,R=a*v-o*h,L=a*p-l*h,N=o*p-l*v,j=T*b-_*x,X=T*A-m*x,F=T*g-w*x,Y=_*A-m*b,G=_*g-w*b,H=m*g-w*A,W=I*H-S*G+O*Y+R*F-L*X+N*j;return W?(c[0]=(h*H-v*G+p*Y)*(W=1/W),c[1]=(o*G-a*H-l*Y)*W,c[2]=(b*N-A*L+g*R)*W,c[3]=(m*L-_*N-w*R)*W,c[4]=(v*F-u*H-p*X)*W,c[5]=(s*H-o*F+l*X)*W,c[6]=(A*O-x*N-g*S)*W,c[7]=(T*N-m*O+w*S)*W,c[8]=(u*G-h*F+p*j)*W,c[9]=(a*F-s*G-l*j)*W,c[10]=(x*L-b*O+g*I)*W,c[11]=(_*O-T*L-w*I)*W,c[12]=(h*X-u*Y-v*j)*W,c[13]=(s*Y-a*X+o*j)*W,c[14]=(b*S-x*R-A*I)*W,c[15]=(T*R-_*S+m*I)*W,c):null}},3012:function(y,c,i){var s=i(9947);y.exports=function(a,o,l,u){var h,v,p,T,_,m,w,x,b,A,g=o[0],I=o[1],S=o[2],O=u[0],R=u[1],L=u[2],N=l[0],j=l[1],X=l[2];return Math.abs(g-N)<1e-6&&Math.abs(I-j)<1e-6&&Math.abs(S-X)<1e-6?s(a):(w=g-N,x=I-j,b=S-X,h=R*(b*=A=1/Math.sqrt(w*w+x*x+b*b))-L*(x*=A),v=L*(w*=A)-O*b,p=O*x-R*w,(A=Math.sqrt(h*h+v*v+p*p))?(h*=A=1/A,v*=A,p*=A):(h=0,v=0,p=0),T=x*p-b*v,_=b*h-w*p,m=w*v-x*h,(A=Math.sqrt(T*T+_*_+m*m))?(T*=A=1/A,_*=A,m*=A):(T=0,_=0,m=0),a[0]=h,a[1]=T,a[2]=w,a[3]=0,a[4]=v,a[5]=_,a[6]=x,a[7]=0,a[8]=p,a[9]=m,a[10]=b,a[11]=0,a[12]=-(h*g+v*I+p*S),a[13]=-(T*g+_*I+m*S),a[14]=-(w*g+x*I+b*S),a[15]=1,a)}},104:function(y){y.exports=function(c,i,s){var a=i[0],o=i[1],l=i[2],u=i[3],h=i[4],v=i[5],p=i[6],T=i[7],_=i[8],m=i[9],w=i[10],x=i[11],b=i[12],A=i[13],g=i[14],I=i[15],S=s[0],O=s[1],R=s[2],L=s[3];return c[0]=S*a+O*h+R*_+L*b,c[1]=S*o+O*v+R*m+L*A,c[2]=S*l+O*p+R*w+L*g,c[3]=S*u+O*T+R*x+L*I,c[4]=(S=s[4])*a+(O=s[5])*h+(R=s[6])*_+(L=s[7])*b,c[5]=S*o+O*v+R*m+L*A,c[6]=S*l+O*p+R*w+L*g,c[7]=S*u+O*T+R*x+L*I,c[8]=(S=s[8])*a+(O=s[9])*h+(R=s[10])*_+(L=s[11])*b,c[9]=S*o+O*v+R*m+L*A,c[10]=S*l+O*p+R*w+L*g,c[11]=S*u+O*T+R*x+L*I,c[12]=(S=s[12])*a+(O=s[13])*h+(R=s[14])*_+(L=s[15])*b,c[13]=S*o+O*v+R*m+L*A,c[14]=S*l+O*p+R*w+L*g,c[15]=S*u+O*T+R*x+L*I,c}},5268:function(y){y.exports=function(c,i,s,a,o,l,u){var h=1/(i-s),v=1/(a-o),p=1/(l-u);return c[0]=-2*h,c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[5]=-2*v,c[6]=0,c[7]=0,c[8]=0,c[9]=0,c[10]=2*p,c[11]=0,c[12]=(i+s)*h,c[13]=(o+a)*v,c[14]=(u+l)*p,c[15]=1,c}},1120:function(y){y.exports=function(c,i,s,a,o){var l=1/Math.tan(i/2),u=1/(a-o);return c[0]=l/s,c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[5]=l,c[6]=0,c[7]=0,c[8]=0,c[9]=0,c[10]=(o+a)*u,c[11]=-1,c[12]=0,c[13]=0,c[14]=2*o*a*u,c[15]=0,c}},4422:function(y){y.exports=function(c,i,s,a){var o,l,u,h,v,p,T,_,m,w,x,b,A,g,I,S,O,R,L,N,j,X,F,Y,G=a[0],H=a[1],W=a[2],Z=Math.sqrt(G*G+H*H+W*W);return Math.abs(Z)<1e-6?null:(G*=Z=1/Z,H*=Z,W*=Z,o=Math.sin(s),u=1-(l=Math.cos(s)),v=i[1],p=i[2],T=i[3],m=i[5],w=i[6],x=i[7],A=i[9],g=i[10],I=i[11],L=G*H*u-W*o,N=H*H*u+l,j=W*H*u+G*o,X=G*W*u+H*o,F=H*W*u-G*o,Y=W*W*u+l,c[0]=(h=i[0])*(S=G*G*u+l)+(_=i[4])*(O=H*G*u+W*o)+(b=i[8])*(R=W*G*u-H*o),c[1]=v*S+m*O+A*R,c[2]=p*S+w*O+g*R,c[3]=T*S+x*O+I*R,c[4]=h*L+_*N+b*j,c[5]=v*L+m*N+A*j,c[6]=p*L+w*N+g*j,c[7]=T*L+x*N+I*j,c[8]=h*X+_*F+b*Y,c[9]=v*X+m*F+A*Y,c[10]=p*X+w*F+g*Y,c[11]=T*X+x*F+I*Y,i!==c&&(c[12]=i[12],c[13]=i[13],c[14]=i[14],c[15]=i[15]),c)}},6109:function(y){y.exports=function(c,i,s){var a=Math.sin(s),o=Math.cos(s),l=i[4],u=i[5],h=i[6],v=i[7],p=i[8],T=i[9],_=i[10],m=i[11];return i!==c&&(c[0]=i[0],c[1]=i[1],c[2]=i[2],c[3]=i[3],c[12]=i[12],c[13]=i[13],c[14]=i[14],c[15]=i[15]),c[4]=l*o+p*a,c[5]=u*o+T*a,c[6]=h*o+_*a,c[7]=v*o+m*a,c[8]=p*o-l*a,c[9]=T*o-u*a,c[10]=_*o-h*a,c[11]=m*o-v*a,c}},7115:function(y){y.exports=function(c,i,s){var a=Math.sin(s),o=Math.cos(s),l=i[0],u=i[1],h=i[2],v=i[3],p=i[8],T=i[9],_=i[10],m=i[11];return i!==c&&(c[4]=i[4],c[5]=i[5],c[6]=i[6],c[7]=i[7],c[12]=i[12],c[13]=i[13],c[14]=i[14],c[15]=i[15]),c[0]=l*o-p*a,c[1]=u*o-T*a,c[2]=h*o-_*a,c[3]=v*o-m*a,c[8]=l*a+p*o,c[9]=u*a+T*o,c[10]=h*a+_*o,c[11]=v*a+m*o,c}},5240:function(y){y.exports=function(c,i,s){var a=Math.sin(s),o=Math.cos(s),l=i[0],u=i[1],h=i[2],v=i[3],p=i[4],T=i[5],_=i[6],m=i[7];return i!==c&&(c[8]=i[8],c[9]=i[9],c[10]=i[10],c[11]=i[11],c[12]=i[12],c[13]=i[13],c[14]=i[14],c[15]=i[15]),c[0]=l*o+p*a,c[1]=u*o+T*a,c[2]=h*o+_*a,c[3]=v*o+m*a,c[4]=p*o-l*a,c[5]=T*o-u*a,c[6]=_*o-h*a,c[7]=m*o-v*a,c}},3668:function(y){y.exports=function(c,i,s){var a=s[0],o=s[1],l=s[2];return c[0]=i[0]*a,c[1]=i[1]*a,c[2]=i[2]*a,c[3]=i[3]*a,c[4]=i[4]*o,c[5]=i[5]*o,c[6]=i[6]*o,c[7]=i[7]*o,c[8]=i[8]*l,c[9]=i[9]*l,c[10]=i[10]*l,c[11]=i[11]*l,c[12]=i[12],c[13]=i[13],c[14]=i[14],c[15]=i[15],c}},998:function(y){y.exports=function(c,i,s){var a,o,l,u,h,v,p,T,_,m,w,x,b=s[0],A=s[1],g=s[2];return i===c?(c[12]=i[0]*b+i[4]*A+i[8]*g+i[12],c[13]=i[1]*b+i[5]*A+i[9]*g+i[13],c[14]=i[2]*b+i[6]*A+i[10]*g+i[14],c[15]=i[3]*b+i[7]*A+i[11]*g+i[15]):(o=i[1],l=i[2],u=i[3],h=i[4],v=i[5],p=i[6],T=i[7],_=i[8],m=i[9],w=i[10],x=i[11],c[0]=a=i[0],c[1]=o,c[2]=l,c[3]=u,c[4]=h,c[5]=v,c[6]=p,c[7]=T,c[8]=_,c[9]=m,c[10]=w,c[11]=x,c[12]=a*b+h*A+_*g+i[12],c[13]=o*b+v*A+m*g+i[13],c[14]=l*b+p*A+w*g+i[14],c[15]=u*b+T*A+x*g+i[15]),c}},2142:function(y){y.exports=function(c,i){if(c===i){var s=i[1],a=i[2],o=i[3],l=i[6],u=i[7],h=i[11];c[1]=i[4],c[2]=i[8],c[3]=i[12],c[4]=s,c[6]=i[9],c[7]=i[13],c[8]=a,c[9]=l,c[11]=i[14],c[12]=o,c[13]=u,c[14]=h}else c[0]=i[0],c[1]=i[4],c[2]=i[8],c[3]=i[12],c[4]=i[1],c[5]=i[5],c[6]=i[9],c[7]=i[13],c[8]=i[2],c[9]=i[6],c[10]=i[10],c[11]=i[14],c[12]=i[3],c[13]=i[7],c[14]=i[11],c[15]=i[15];return c}},4340:function(y,c,i){"use strict";var s=i(957),a=i(7309);function o(h,v){for(var p=[0,0,0,0],T=0;T<4;++T)for(var _=0;_<4;++_)p[_]+=h[4*T+_]*v[T];return p}function l(h,v,p,T,_){for(var m=o(T,o(p,o(v,[h[0],h[1],h[2],1]))),w=0;w<3;++w)m[w]/=m[3];return[.5*_[0]*(1+m[0]),.5*_[1]*(1-m[1])]}function u(h,v){for(var p=[0,0,0],T=0;T<h.length;++T)for(var _=h[T],m=v[T],w=0;w<3;++w)p[w]+=m*_[w];return p}y.exports=function(h,v,p,T,_,m){if(1===h.length)return[0,h[0].slice()];for(var w=new Array(h.length),x=0;x<h.length;++x)w[x]=l(h[x],p,T,_,m);var b=0,A=1/0;for(x=0;x<w.length;++x){for(var g=0,I=0;I<2;++I)g+=Math.pow(w[x][I]-v[I],2);g<A&&(A=g,b=x)}var S=function(R,L){if(2===R.length){for(var N=0,j=0,X=0;X<2;++X)N+=Math.pow(L[X]-R[0][X],2),j+=Math.pow(L[X]-R[1][X],2);return(N=Math.sqrt(N))+(j=Math.sqrt(j))<1e-6?[1,0]:[j/(N+j),N/(j+N)]}if(3===R.length){var F=[0,0];return a(R[0],R[1],R[2],L,F),s(R,F)}return[]}(w,v),O=0;for(x=0;x<3;++x){if(S[x]<-.001||S[x]>1.0001)return null;O+=S[x]}return Math.abs(O-1)>.001?null:[b,u(h,S),S]}},2056:function(y,c,i){var s=i(6832),a=s(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position, normal;\nattribute vec4 color;\nattribute vec2 uv;\n\nuniform mat4 model\n           , view\n           , projection\n           , inverseModel;\nuniform vec3 eyePosition\n           , lightPosition;\n\nvarying vec3 f_normal\n           , f_lightDirection\n           , f_eyeDirection\n           , f_data;\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvec4 project(vec3 p) {\n  return projection * view * model * vec4(p, 1.0);\n}\n\nvoid main() {\n  gl_Position      = project(position);\n\n  //Lighting geometry parameters\n  vec4 cameraCoordinate = view * vec4(position , 1.0);\n  cameraCoordinate.xyz /= cameraCoordinate.w;\n  f_lightDirection = lightPosition - cameraCoordinate.xyz;\n  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;\n  f_normal  = normalize((vec4(normal, 0.0) * inverseModel).xyz);\n\n  f_color          = color;\n  f_data           = position;\n  f_uv             = uv;\n}\n"]),o=s(["#extension GL_OES_standard_derivatives : enable\n\nprecision highp float;\n#define GLSLIFY 1\n\nfloat beckmannDistribution(float x, float roughness) {\n  float NdotH = max(x, 0.0001);\n  float cos2Alpha = NdotH * NdotH;\n  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;\n  float roughness2 = roughness * roughness;\n  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;\n  return exp(tan2Alpha / roughness2) / denom;\n}\n\nfloat cookTorranceSpecular(\n  vec3 lightDirection,\n  vec3 viewDirection,\n  vec3 surfaceNormal,\n  float roughness,\n  float fresnel) {\n\n  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);\n  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);\n\n  //Half angle vector\n  vec3 H = normalize(lightDirection + viewDirection);\n\n  //Geometric term\n  float NdotH = max(dot(surfaceNormal, H), 0.0);\n  float VdotH = max(dot(viewDirection, H), 0.000001);\n  float LdotH = max(dot(lightDirection, H), 0.000001);\n  float G1 = (2.0 * NdotH * VdotN) / VdotH;\n  float G2 = (2.0 * NdotH * LdotN) / LdotH;\n  float G = min(1.0, min(G1, G2));\n  \n  //Distribution term\n  float D = beckmannDistribution(NdotH, roughness);\n\n  //Fresnel term\n  float F = pow(1.0 - VdotN, fresnel);\n\n  //Multiply terms and done\n  return  G * F * D / max(3.14159265 * VdotN, 0.000001);\n}\n\n//#pragma glslify: beckmann = require(glsl-specular-beckmann) // used in gl-surface3d\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 clipBounds[2];\nuniform float roughness\n            , fresnel\n            , kambient\n            , kdiffuse\n            , kspecular;\nuniform sampler2D texture;\n\nvarying vec3 f_normal\n           , f_lightDirection\n           , f_eyeDirection\n           , f_data;\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  if (f_color.a == 0.0 ||\n    outOfRange(clipBounds[0], clipBounds[1], f_data)\n  ) discard;\n\n  vec3 N = normalize(f_normal);\n  vec3 L = normalize(f_lightDirection);\n  vec3 V = normalize(f_eyeDirection);\n\n  if(gl_FrontFacing) {\n    N = -N;\n  }\n\n  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));\n  //float specular = max(0.0, beckmann(L, V, N, roughness)); // used in gl-surface3d\n\n  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);\n\n  vec4 surfaceColor = vec4(f_color.rgb, 1.0) * texture2D(texture, f_uv);\n  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);\n\n  gl_FragColor = litColor * f_color.a;\n}\n"]),l=s(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position;\nattribute vec4 color;\nattribute vec2 uv;\n\nuniform mat4 model, view, projection;\n\nvarying vec4 f_color;\nvarying vec3 f_data;\nvarying vec2 f_uv;\n\nvoid main() {\n  gl_Position = projection * view * model * vec4(position, 1.0);\n  f_color = color;\n  f_data  = position;\n  f_uv    = uv;\n}"]),u=s(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 clipBounds[2];\nuniform sampler2D texture;\nuniform float opacity;\n\nvarying vec4 f_color;\nvarying vec3 f_data;\nvarying vec2 f_uv;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], f_data)) discard;\n\n  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;\n}"]),h=s(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nattribute vec3 position;\nattribute vec4 color;\nattribute vec2 uv;\nattribute float pointSize;\n\nuniform mat4 model, view, projection;\nuniform vec3 clipBounds[2];\n\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], position)) {\n\n    gl_Position = vec4(0.0, 0.0 ,0.0 ,0.0);\n  } else {\n    gl_Position = projection * view * model * vec4(position, 1.0);\n  }\n  gl_PointSize = pointSize;\n  f_color = color;\n  f_uv = uv;\n}"]),v=s(["precision highp float;\n#define GLSLIFY 1\n\nuniform sampler2D texture;\nuniform float opacity;\n\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  vec2 pointR = gl_PointCoord.xy - vec2(0.5, 0.5);\n  if(dot(pointR, pointR) > 0.25) {\n    discard;\n  }\n  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;\n}"]),p=s(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position;\nattribute vec4 id;\n\nuniform mat4 model, view, projection;\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  gl_Position = projection * view * model * vec4(position, 1.0);\n  f_id        = id;\n  f_position  = position;\n}"]),T=s(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3  clipBounds[2];\nuniform float pickId;\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;\n\n  gl_FragColor = vec4(pickId, f_id.xyz);\n}"]),_=s(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nattribute vec3  position;\nattribute float pointSize;\nattribute vec4  id;\n\nuniform mat4 model, view, projection;\nuniform vec3 clipBounds[2];\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], position)) {\n\n    gl_Position = vec4(0.0, 0.0, 0.0, 0.0);\n  } else {\n    gl_Position  = projection * view * model * vec4(position, 1.0);\n    gl_PointSize = pointSize;\n  }\n  f_id         = id;\n  f_position   = position;\n}"]),m=s(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position;\n\nuniform mat4 model, view, projection;\n\nvoid main() {\n  gl_Position = projection * view * model * vec4(position, 1.0);\n}"]),w=s(["precision highp float;\n#define GLSLIFY 1\n\nuniform vec3 contourColor;\n\nvoid main() {\n  gl_FragColor = vec4(contourColor, 1.0);\n}\n"]);c.meshShader={vertex:a,fragment:o,attributes:[{name:"position",type:"vec3"},{name:"normal",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},c.wireShader={vertex:l,fragment:u,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},c.pointShader={vertex:h,fragment:v,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"pointSize",type:"float"}]},c.pickShader={vertex:p,fragment:T,attributes:[{name:"position",type:"vec3"},{name:"id",type:"vec4"}]},c.pointPickShader={vertex:_,fragment:T,attributes:[{name:"position",type:"vec3"},{name:"pointSize",type:"float"},{name:"id",type:"vec4"}]},c.contourShader={vertex:m,fragment:w,attributes:[{name:"position",type:"vec3"}]}},8116:function(y,c,i){"use strict";var s=i(5158),a=i(5827),o=i(2944),l=i(8931),u=i(115),h=i(104),v=i(7437),p=i(5050),T=i(9156),_=i(7212),m=i(5306),w=i(2056),x=i(4340),b=w.meshShader,A=w.wireShader,g=w.pointShader,I=w.pickShader,S=w.pointPickShader,O=w.contourShader,R=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function L(H,W,Z,se,re,ne,Q,ee,oe,ce,fe,le,pe,Me,Ae,be,ye,we,ze,Se,Ce,ge,he,_e,Le,Ie,De){this.gl=H,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=W,this.dirty=!0,this.triShader=Z,this.lineShader=se,this.pointShader=re,this.pickShader=ne,this.pointPickShader=Q,this.contourShader=ee,this.trianglePositions=oe,this.triangleColors=fe,this.triangleNormals=pe,this.triangleUVs=le,this.triangleIds=ce,this.triangleVAO=Me,this.triangleCount=0,this.lineWidth=1,this.edgePositions=Ae,this.edgeColors=ye,this.edgeUVs=we,this.edgeIds=be,this.edgeVAO=ze,this.edgeCount=0,this.pointPositions=Se,this.pointColors=ge,this.pointUVs=he,this.pointSizes=_e,this.pointIds=Ce,this.pointVAO=Le,this.pointCount=0,this.contourLineWidth=1,this.contourPositions=Ie,this.contourVAO=De,this.contourCount=0,this.contourColor=[0,0,0],this.contourEnable=!0,this.pickVertex=!0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.hasAlpha=!1,this.opacityscale=!1,this._model=R,this._view=R,this._projection=R,this._resolution=[1,1]}var N=L.prototype;function j(H,W){if(!W||!W.length)return 1;for(var Z=0;Z<W.length;++Z){if(W.length<2)return 1;if(W[Z][0]===H)return W[Z][1];if(W[Z][0]>H&&Z>0){var se=(W[Z][0]-H)/(W[Z][0]-W[Z-1][0]);return W[Z][1]*(1-se)+se*W[Z-1][1]}}return 1}N.isOpaque=function(){return!this.hasAlpha},N.isTransparent=function(){return this.hasAlpha},N.pickSlots=1,N.setPickBase=function(H){this.pickId=H},N.highlight=function(H){if(H&&this.contourEnable){for(var W=_(this.cells,this.intensity,H.intensity),Z=W.cells,se=W.vertexIds,re=W.vertexWeights,ne=Z.length,Q=m.mallocFloat32(6*ne),ee=0,oe=0;oe<ne;++oe)for(var ce=Z[oe],fe=0;fe<2;++fe){var le=ce[0];2===ce.length&&(le=ce[fe]);for(var Ae=re[le],be=1-Ae,ye=this.positions[se[le][0]],we=this.positions[se[le][1]],ze=0;ze<3;++ze)Q[ee++]=Ae*ye[ze]+be*we[ze]}this.contourCount=ee/3|0,this.contourPositions.update(Q.subarray(0,ee)),m.free(Q)}else this.contourCount=0},N.update=function(H){H=H||{};var W=this.gl;this.dirty=!0,"contourEnable"in H&&(this.contourEnable=H.contourEnable),"contourColor"in H&&(this.contourColor=H.contourColor),"lineWidth"in H&&(this.lineWidth=H.lineWidth),"lightPosition"in H&&(this.lightPosition=H.lightPosition),this.hasAlpha=!1,"opacity"in H&&(this.opacity=H.opacity,this.opacity<1&&(this.hasAlpha=!0)),"opacityscale"in H&&(this.opacityscale=H.opacityscale,this.hasAlpha=!0),"ambient"in H&&(this.ambientLight=H.ambient),"diffuse"in H&&(this.diffuseLight=H.diffuse),"specular"in H&&(this.specularLight=H.specular),"roughness"in H&&(this.roughness=H.roughness),"fresnel"in H&&(this.fresnel=H.fresnel),H.texture?(this.texture.dispose(),this.texture=l(W,H.texture)):H.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=W.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=W.LINEAR,this.texture.setPixels(function(zt,Ht){for(var Lt=T({colormap:zt,nshades:256,format:"rgba"}),tt=new Uint8Array(1024),it=0;it<256;++it){for(var Je=Lt[it],ot=0;ot<3;++ot)tt[4*it+ot]=Je[ot];tt[4*it+3]=Ht?255*j(it/255,Ht):255*Je[3]}return p(tt,[256,256,4],[4,0,1])}(H.colormap,this.opacityscale)),this.texture.generateMipmap());var Z=H.cells,se=H.positions;if(se&&Z){var re=[],ne=[],Q=[],ee=[],oe=[],ce=[],fe=[],le=[],pe=[],Me=[],Ae=[],be=[],ye=[],we=[];this.cells=Z,this.positions=se;var ze=H.vertexNormals,Se=H.cellNormals,Ce=void 0===H.vertexNormalsEpsilon?1e-6:H.vertexNormalsEpsilon;H.useFacetNormals&&!Se&&(Se=u.faceNormals(Z,se,void 0===H.faceNormalsEpsilon?1e-6:H.faceNormalsEpsilon)),Se||ze||(ze=u.vertexNormals(Z,se,Ce));var he=H.vertexColors,_e=H.cellColors,Le=H.meshColor||[1,1,1,1],Ie=H.vertexUVs,De=H.vertexIntensity,je=H.cellUVs,qe=H.cellIntensity,ve=1/0,Oe=-1/0;if(!Ie&&!je)if(De)if(H.vertexIntensityBounds)ve=+H.vertexIntensityBounds[0],Oe=+H.vertexIntensityBounds[1];else for(var ke=0;ke<De.length;++ke){var Be=De[ke];ve=Math.min(ve,Be),Oe=Math.max(Oe,Be)}else if(qe)if(H.cellIntensityBounds)ve=+H.cellIntensityBounds[0],Oe=+H.cellIntensityBounds[1];else for(ke=0;ke<qe.length;++ke)Be=qe[ke],ve=Math.min(ve,Be),Oe=Math.max(Oe,Be);else for(ke=0;ke<se.length;++ke)Be=se[ke][2],ve=Math.min(ve,Be),Oe=Math.max(Oe,Be);this.intensity=De||qe||function(zt){for(var Ht=zt.length,Lt=new Array(Ht),tt=0;tt<Ht;++tt)Lt[tt]=zt[tt][2];return Lt}(se),this.pickVertex=!(qe||_e);var We=H.pointSizes,Ge=H.pointSize||1;for(this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],ke=0;ke<se.length;++ke)for(var Ke=se[ke],et=0;et<3;++et)!isNaN(Ke[et])&&isFinite(Ke[et])&&(this.bounds[0][et]=Math.min(this.bounds[0][et],Ke[et]),this.bounds[1][et]=Math.max(this.bounds[1][et],Ke[et]));var at=0,mt=0,ct=0;e:for(ke=0;ke<Z.length;++ke){var kt=Z[ke];switch(kt.length){case 1:for(Ke=se[Et=kt[0]],et=0;et<3;++et)if(isNaN(Ke[et])||!isFinite(Ke[et]))continue e;Me.push(Ke[0],Ke[1],Ke[2]),ht=he?he[Et]:_e?_e[ke]:Le,this.opacityscale&&De?ne.push(ht[0],ht[1],ht[2],this.opacity*j((De[Et]-ve)/(Oe-ve),this.opacityscale)):3===ht.length?Ae.push(ht[0],ht[1],ht[2],this.opacity):(Ae.push(ht[0],ht[1],ht[2],ht[3]*this.opacity),ht[3]<1&&(this.hasAlpha=!0)),be.push((pt=Ie?Ie[Et]:De?[(De[Et]-ve)/(Oe-ve),0]:je?je[ke]:qe?[(qe[ke]-ve)/(Oe-ve),0]:[(Ke[2]-ve)/(Oe-ve),0])[0],pt[1]),ye.push(We?We[Et]:Ge),we.push(ke),ct+=1;break;case 2:for(et=0;et<2;++et){Ke=se[Et=kt[et]];for(var Dt=0;Dt<3;++Dt)if(isNaN(Ke[Dt])||!isFinite(Ke[Dt]))continue e}for(et=0;et<2;++et)Ke=se[Et=kt[et]],ce.push(Ke[0],Ke[1],Ke[2]),ht=he?he[Et]:_e?_e[ke]:Le,this.opacityscale&&De?ne.push(ht[0],ht[1],ht[2],this.opacity*j((De[Et]-ve)/(Oe-ve),this.opacityscale)):3===ht.length?fe.push(ht[0],ht[1],ht[2],this.opacity):(fe.push(ht[0],ht[1],ht[2],ht[3]*this.opacity),ht[3]<1&&(this.hasAlpha=!0)),le.push((pt=Ie?Ie[Et]:De?[(De[Et]-ve)/(Oe-ve),0]:je?je[ke]:qe?[(qe[ke]-ve)/(Oe-ve),0]:[(Ke[2]-ve)/(Oe-ve),0])[0],pt[1]),pe.push(ke);mt+=1;break;case 3:for(et=0;et<3;++et)for(Ke=se[Et=kt[et]],Dt=0;Dt<3;++Dt)if(isNaN(Ke[Dt])||!isFinite(Ke[Dt]))continue e;for(et=0;et<3;++et){var Et,ht,pt,Pt;Ke=se[Et=kt[2-et]],re.push(Ke[0],Ke[1],Ke[2]),(ht=he?he[Et]:_e?_e[ke]:Le)?this.opacityscale&&De?ne.push(ht[0],ht[1],ht[2],this.opacity*j((De[Et]-ve)/(Oe-ve),this.opacityscale)):3===ht.length?ne.push(ht[0],ht[1],ht[2],this.opacity):(ne.push(ht[0],ht[1],ht[2],ht[3]*this.opacity),ht[3]<1&&(this.hasAlpha=!0)):ne.push(.5,.5,.5,1),ee.push((pt=Ie?Ie[Et]:De?[(De[Et]-ve)/(Oe-ve),0]:je?je[ke]:qe?[(qe[ke]-ve)/(Oe-ve),0]:[(Ke[2]-ve)/(Oe-ve),0])[0],pt[1]),Q.push((Pt=ze?ze[Et]:Se[ke])[0],Pt[1],Pt[2]),oe.push(ke)}at+=1}}this.pointCount=ct,this.edgeCount=mt,this.triangleCount=at,this.pointPositions.update(Me),this.pointColors.update(Ae),this.pointUVs.update(be),this.pointSizes.update(ye),this.pointIds.update(new Uint32Array(we)),this.edgePositions.update(ce),this.edgeColors.update(fe),this.edgeUVs.update(le),this.edgeIds.update(new Uint32Array(pe)),this.trianglePositions.update(re),this.triangleColors.update(ne),this.triangleUVs.update(ee),this.triangleNormals.update(Q),this.triangleIds.update(new Uint32Array(oe))}},N.drawTransparent=N.draw=function(H){for(var W=this.gl,Z=(H=H||{}).model||R,se=H.view||R,re=H.projection||R,ne=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],Q=0;Q<3;++Q)ne[0][Q]=Math.max(ne[0][Q],this.clipBounds[0][Q]),ne[1][Q]=Math.min(ne[1][Q],this.clipBounds[1][Q]);var ee={model:Z,view:se,projection:re,inverseModel:R.slice(),clipBounds:ne,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],contourColor:this.contourColor,texture:0};ee.inverseModel=v(ee.inverseModel,ee.model),W.disable(W.CULL_FACE),this.texture.bind(0);var oe=new Array(16);for(h(oe,ee.view,ee.model),h(oe,ee.projection,oe),v(oe,oe),Q=0;Q<3;++Q)ee.eyePosition[Q]=oe[12+Q]/oe[15];var ce,fe=oe[15];for(Q=0;Q<3;++Q)fe+=this.lightPosition[Q]*oe[4*Q+3];for(Q=0;Q<3;++Q){for(var le=oe[12+Q],pe=0;pe<3;++pe)le+=oe[4*pe+Q]*this.lightPosition[pe];ee.lightPosition[Q]=le/fe}this.triangleCount>0&&((ce=this.triShader).bind(),ce.uniforms=ee,this.triangleVAO.bind(),W.drawArrays(W.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind()),this.edgeCount>0&&this.lineWidth>0&&((ce=this.lineShader).bind(),ce.uniforms=ee,this.edgeVAO.bind(),W.lineWidth(this.lineWidth*this.pixelRatio),W.drawArrays(W.LINES,0,2*this.edgeCount),this.edgeVAO.unbind()),this.pointCount>0&&((ce=this.pointShader).bind(),ce.uniforms=ee,this.pointVAO.bind(),W.drawArrays(W.POINTS,0,this.pointCount),this.pointVAO.unbind()),this.contourEnable&&this.contourCount>0&&this.contourLineWidth>0&&((ce=this.contourShader).bind(),ce.uniforms=ee,this.contourVAO.bind(),W.drawArrays(W.LINES,0,this.contourCount),this.contourVAO.unbind())},N.drawPick=function(H){for(var W=this.gl,Z=(H=H||{}).model||R,se=H.view||R,re=H.projection||R,ne=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],Q=0;Q<3;++Q)ne[0][Q]=Math.max(ne[0][Q],this.clipBounds[0][Q]),ne[1][Q]=Math.min(ne[1][Q],this.clipBounds[1][Q]);this._model=[].slice.call(Z),this._view=[].slice.call(se),this._projection=[].slice.call(re),this._resolution=[W.drawingBufferWidth,W.drawingBufferHeight];var ee,oe={model:Z,view:se,projection:re,clipBounds:ne,pickId:this.pickId/255};(ee=this.pickShader).bind(),ee.uniforms=oe,this.triangleCount>0&&(this.triangleVAO.bind(),W.drawArrays(W.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind()),this.edgeCount>0&&(this.edgeVAO.bind(),W.lineWidth(this.lineWidth*this.pixelRatio),W.drawArrays(W.LINES,0,2*this.edgeCount),this.edgeVAO.unbind()),this.pointCount>0&&((ee=this.pointPickShader).bind(),ee.uniforms=oe,this.pointVAO.bind(),W.drawArrays(W.POINTS,0,this.pointCount),this.pointVAO.unbind())},N.pick=function(H){if(!H||H.id!==this.pickId)return null;for(var W=H.value[0]+256*H.value[1]+65536*H.value[2],Z=this.cells[W],se=this.positions,re=new Array(Z.length),ne=0;ne<Z.length;++ne)re[ne]=se[Z[ne]];var Q=H.coord[0],ee=H.coord[1];if(!this.pickVertex){var oe=this.positions[Z[0]],ce=this.positions[Z[1]],fe=this.positions[Z[2]];return{_cellCenter:!0,position:[Q,ee],index:W,cell:Z,cellId:W,intensity:this.intensity[W],dataCoordinate:[(oe[0]+ce[0]+fe[0])/3,(oe[1]+ce[1]+fe[1])/3,(oe[2]+ce[2]+fe[2])/3]}}var pe=x(re,[Q*this.pixelRatio,this._resolution[1]-ee*this.pixelRatio],this._model,this._view,this._projection,this._resolution);if(!pe)return null;var Me=pe[2],Ae=0;for(ne=0;ne<Z.length;++ne)Ae+=Me[ne]*this.intensity[Z[ne]];return{position:pe[1],index:Z[pe[0]],cell:Z,cellId:W,intensity:Ae,dataCoordinate:this.positions[Z[pe[0]]]}},N.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.lineShader.dispose(),this.pointShader.dispose(),this.pickShader.dispose(),this.pointPickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleNormals.dispose(),this.triangleIds.dispose(),this.edgeVAO.dispose(),this.edgePositions.dispose(),this.edgeColors.dispose(),this.edgeUVs.dispose(),this.edgeIds.dispose(),this.pointVAO.dispose(),this.pointPositions.dispose(),this.pointColors.dispose(),this.pointUVs.dispose(),this.pointSizes.dispose(),this.pointIds.dispose(),this.contourVAO.dispose(),this.contourPositions.dispose(),this.contourShader.dispose()},y.exports=function(H,W){if(1===arguments.length&&(H=(W=H).gl),!(H.getExtension("OES_standard_derivatives")||H.getExtension("MOZ_OES_standard_derivatives")||H.getExtension("WEBKIT_OES_standard_derivatives")))throw new Error("derivatives not supported");var ve,Z=((ve=s(H,b.vertex,b.fragment)).attributes.position.location=0,ve.attributes.color.location=2,ve.attributes.uv.location=3,ve.attributes.normal.location=4,ve),se=function(qe){var ve=s(qe,A.vertex,A.fragment);return ve.attributes.position.location=0,ve.attributes.color.location=2,ve.attributes.uv.location=3,ve}(H),re=function X(H){var W=s(H,g.vertex,g.fragment);return W.attributes.position.location=0,W.attributes.color.location=2,W.attributes.uv.location=3,W.attributes.pointSize.location=4,W}(H),ne=function F(H){var W=s(H,I.vertex,I.fragment);return W.attributes.position.location=0,W.attributes.id.location=1,W}(H),Q=function Y(H){var W=s(H,S.vertex,S.fragment);return W.attributes.position.location=0,W.attributes.id.location=1,W.attributes.pointSize.location=4,W}(H),ee=function G(H){var W=s(H,O.vertex,O.fragment);return W.attributes.position.location=0,W}(H),oe=l(H,p(new Uint8Array([255,255,255,255]),[1,1,4]));oe.generateMipmap(),oe.minFilter=H.LINEAR_MIPMAP_LINEAR,oe.magFilter=H.LINEAR;var ce=a(H),fe=a(H),le=a(H),pe=a(H),Me=a(H),Ae=o(H,[{buffer:ce,type:H.FLOAT,size:3},{buffer:Me,type:H.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:fe,type:H.FLOAT,size:4},{buffer:le,type:H.FLOAT,size:2},{buffer:pe,type:H.FLOAT,size:3}]),be=a(H),ye=a(H),we=a(H),ze=a(H),Se=o(H,[{buffer:be,type:H.FLOAT,size:3},{buffer:ze,type:H.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:ye,type:H.FLOAT,size:4},{buffer:we,type:H.FLOAT,size:2}]),Ce=a(H),ge=a(H),he=a(H),_e=a(H),Le=a(H),Ie=o(H,[{buffer:Ce,type:H.FLOAT,size:3},{buffer:Le,type:H.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:ge,type:H.FLOAT,size:4},{buffer:he,type:H.FLOAT,size:2},{buffer:_e,type:H.FLOAT,size:1}]),De=a(H),je=new L(H,oe,Z,se,re,ne,Q,ee,ce,Me,fe,le,pe,Ae,be,ze,ye,we,Se,Ce,Le,ge,he,_e,Ie,De,o(H,[{buffer:De,type:H.FLOAT,size:3}]));return je.update(W),je}},4554:function(y,c,i){"use strict";y.exports=function(p){var T=p.gl;return new l(p,s(T,[0,0,0,1,1,0,1,1]),a(T,o.boxVert,o.lineFrag))};var s=i(5827),a=i(5158),o=i(2709);function l(p,T,_){this.plot=p,this.vbo=T,this.shader=_}var u,h,v=l.prototype;v.bind=function(){var p=this.shader;this.vbo.bind(),this.shader.bind(),p.attributes.coord.pointer(),p.uniforms.screenBox=this.plot.screenBox},v.drawBox=(u=[0,0],h=[0,0],function(p,T,_,m,w){var b=this.shader,A=this.plot.gl;u[0]=p,u[1]=T,h[0]=_,h[1]=m,b.uniforms.lo=u,b.uniforms.hi=h,b.uniforms.color=w,A.drawArrays(A.TRIANGLE_STRIP,0,4)}),v.dispose=function(){this.vbo.dispose(),this.shader.dispose()}},3016:function(y,c,i){"use strict";y.exports=function(x){var b=x.gl;return new u(x,s(b),a(b,l.gridVert,l.gridFrag),a(b,l.tickVert,l.gridFrag))};var s=i(5827),a=i(5158),o=i(5070),l=i(2709);function u(x,b,A,g){this.plot=x,this.vbo=b,this.shader=A,this.tickShader=g,this.ticks=[[],[]]}function h(x,b){return x-b}var v,p,T,_,m,x,b,A,g,I,S,w=u.prototype;w.draw=(v=[0,0],p=[0,0],T=[0,0],function(){for(var x=this.plot,b=this.vbo,A=this.shader,g=this.ticks,I=x.gl,S=x._tickBounds,O=x.dataBox,R=x.viewBox,L=x.gridLineWidth,N=x.gridLineColor,j=x.gridLineEnable,X=x.pixelRatio,F=0;F<2;++F){var Y=S[F],H=.5*(O[F+2]+O[F]),W=O[F+2]-O[F];p[F]=2*(S[F+2]-Y)/W,v[F]=2*(Y-H)/W}A.bind(),b.bind(),A.attributes.dataCoord.pointer(),A.uniforms.dataShift=v,A.uniforms.dataScale=p;var Z=0;for(F=0;F<2;++F){T[0]=T[1]=0,T[F]=1,A.uniforms.dataAxis=T,A.uniforms.lineWidth=L[F]/(R[F+2]-R[F])*X,A.uniforms.color=N[F];var se=6*g[F].length;j[F]&&se&&I.drawArrays(I.TRIANGLES,Z,se),Z+=se}}),w.drawTickMarks=(x=[0,0],b=[0,0],A=[1,0],g=[0,1],I=[0,0],S=[0,0],function(){for(var O=this.plot,R=this.vbo,L=this.tickShader,N=this.ticks,j=O.gl,X=O._tickBounds,F=O.dataBox,Y=O.viewBox,G=O.pixelRatio,H=O.screenBox,W=H[2]-H[0],Z=H[3]-H[1],se=Y[2]-Y[0],re=Y[3]-Y[1],ne=0;ne<2;++ne){var Q=X[ne],oe=.5*(F[ne+2]+F[ne]),ce=F[ne+2]-F[ne];b[ne]=2*(X[ne+2]-Q)/ce,x[ne]=2*(Q-oe)/ce}b[0]*=se/W,x[0]*=se/W,b[1]*=re/Z,x[1]*=re/Z,L.bind(),R.bind(),L.attributes.dataCoord.pointer();var fe=L.uniforms;fe.dataShift=x,fe.dataScale=b;var le=O.tickMarkLength,pe=O.tickMarkWidth,Me=O.tickMarkColor,Ae=6*N[0].length,be=Math.min(o.ge(N[0],(F[0]-X[0])/(X[2]-X[0]),h),N[0].length),ye=Math.min(o.gt(N[0],(F[2]-X[0])/(X[2]-X[0]),h),N[0].length),we=0+6*be,ze=6*Math.max(0,ye-be),Se=Math.min(o.ge(N[1],(F[1]-X[1])/(X[3]-X[1]),h),N[1].length),Ce=Math.min(o.gt(N[1],(F[3]-X[1])/(X[3]-X[1]),h),N[1].length),ge=Ae+6*Se,he=6*Math.max(0,Ce-Se);I[0]=2*(Y[0]-le[1])/W-1,I[1]=(Y[3]+Y[1])/Z-1,S[0]=le[1]*G/W,S[1]=pe[1]*G/Z,he&&(fe.color=Me[1],fe.tickScale=S,fe.dataAxis=g,fe.screenOffset=I,j.drawArrays(j.TRIANGLES,ge,he)),I[0]=(Y[2]+Y[0])/W-1,I[1]=2*(Y[1]-le[0])/Z-1,S[0]=pe[0]*G/W,S[1]=le[0]*G/Z,ze&&(fe.color=Me[0],fe.tickScale=S,fe.dataAxis=A,fe.screenOffset=I,j.drawArrays(j.TRIANGLES,we,ze)),I[0]=2*(Y[2]+le[3])/W-1,I[1]=(Y[3]+Y[1])/Z-1,S[0]=le[3]*G/W,S[1]=pe[3]*G/Z,he&&(fe.color=Me[3],fe.tickScale=S,fe.dataAxis=g,fe.screenOffset=I,j.drawArrays(j.TRIANGLES,ge,he)),I[0]=(Y[2]+Y[0])/W-1,I[1]=2*(Y[3]+le[2])/Z-1,S[0]=pe[2]*G/W,S[1]=le[2]*G/Z,ze&&(fe.color=Me[2],fe.tickScale=S,fe.dataAxis=A,fe.screenOffset=I,j.drawArrays(j.TRIANGLES,we,ze))}),w.update=(_=[1,1,-1,-1,1,-1],m=[1,-1,1,1,-1,-1],function(x){for(var b=x.ticks,A=x.bounds,g=new Float32Array(18*(b[0].length+b[1].length)),I=0,S=[[],[]],O=0;O<2;++O)for(var R=S[O],L=b[O],N=A[O],j=A[O+2],X=0;X<L.length;++X){var F=(L[X].x-N)/(j-N);R.push(F);for(var Y=0;Y<6;++Y)g[I++]=F,g[I++]=_[Y],g[I++]=m[Y]}this.ticks=S,this.vbo.update(g)}),w.dispose=function(){this.vbo.dispose(),this.shader.dispose(),this.tickShader.dispose()}},1154:function(y,c,i){"use strict";y.exports=function(p){var T=p.gl;return new l(p,s(T,[-1,-1,-1,1,1,-1,1,1]),a(T,o.lineVert,o.lineFrag))};var s=i(5827),a=i(5158),o=i(2709);function l(p,T,_){this.plot=p,this.vbo=T,this.shader=_}var u,h,v=l.prototype;v.bind=function(){var p=this.shader;this.vbo.bind(),this.shader.bind(),p.attributes.coord.pointer(),p.uniforms.screenBox=this.plot.screenBox},v.drawLine=(u=[0,0],h=[0,0],function(p,T,_,m,w,x){var b=this.plot,A=this.shader,g=b.gl;u[0]=p,u[1]=T,h[0]=_,h[1]=m,A.uniforms.start=u,A.uniforms.end=h,A.uniforms.width=w*b.pixelRatio,A.uniforms.color=x,g.drawArrays(g.TRIANGLE_STRIP,0,4)}),v.dispose=function(){this.vbo.dispose(),this.shader.dispose()}},2709:function(y,c,i){"use strict";var s=i(6832),a=s(["precision lowp float;\n#define GLSLIFY 1\nuniform vec4 color;\nvoid main() {\n  gl_FragColor = vec4(color.xyz * color.w, color.w);\n}\n"]);y.exports={lineVert:s(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 coord;\n\nuniform vec4 screenBox;\nuniform vec2 start, end;\nuniform float width;\n\nvec2 perp(vec2 v) {\n  return vec2(v.y, -v.x);\n}\n\nvec2 screen(vec2 v) {\n  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;\n}\n\nvoid main() {\n  vec2 delta = normalize(perp(start - end));\n  vec2 offset = mix(start, end, 0.5 * (coord.y+1.0));\n  gl_Position = vec4(screen(offset + 0.5 * width * delta * coord.x), 0, 1);\n}\n"]),lineFrag:a,textVert:s(["#define GLSLIFY 1\nattribute vec3 textCoordinate;\n\nuniform vec2 dataScale, dataShift, dataAxis, screenOffset, textScale;\nuniform float angle;\n\nvoid main() {\n  float dataOffset  = textCoordinate.z;\n  vec2 glyphOffset  = textCoordinate.xy;\n  mat2 glyphMatrix = mat2(cos(angle), sin(angle), -sin(angle), cos(angle));\n  vec2 screenCoordinate = dataAxis * (dataScale * dataOffset + dataShift) +\n    glyphMatrix * glyphOffset * textScale + screenOffset;\n  gl_Position = vec4(screenCoordinate, 0, 1);\n}\n"]),textFrag:a,gridVert:s(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec3 dataCoord;\n\nuniform vec2 dataAxis, dataShift, dataScale;\nuniform float lineWidth;\n\nvoid main() {\n  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);\n  pos += 10.0 * dataCoord.y * vec2(dataAxis.y, -dataAxis.x) + dataCoord.z * lineWidth;\n  gl_Position = vec4(pos, 0, 1);\n}\n"]),gridFrag:a,boxVert:s(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 coord;\n\nuniform vec4 screenBox;\nuniform vec2 lo, hi;\n\nvec2 screen(vec2 v) {\n  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;\n}\n\nvoid main() {\n  gl_Position = vec4(screen(mix(lo, hi, coord)), 0, 1);\n}\n"]),tickVert:s(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec3 dataCoord;\n\nuniform vec2 dataAxis, dataShift, dataScale, screenOffset, tickScale;\n\nvoid main() {\n  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);\n  gl_Position = vec4(pos + tickScale*dataCoord.yz + screenOffset, 0, 1);\n}\n"])}},5613:function(y,c,i){"use strict";y.exports=function(b){var A=b.gl;return new h(b,s(A),a(A,u.textVert,u.textFrag))};var s=i(5827),a=i(5158),o=i(6946),l=i(5070),u=i(2709);function h(b,A,g){this.plot=b,this.vbo=A,this.shader=g,this.tickOffset=[[],[]],this.tickX=[[],[]],this.labelOffset=[0,0],this.labelCount=[0,0]}var v,p,T,_,m,w,b,A,x=h.prototype;x.drawTicks=(v=[0,0],p=[0,0],T=[0,0],function(b){var A=this.plot,g=this.shader,I=this.tickX[b],S=this.tickOffset[b],O=A.gl,R=A.viewBox,L=A.dataBox,N=A.screenBox,j=A.pixelRatio,X=A.tickEnable,F=A.tickPad,Y=A.tickColor,G=A.tickAngle,H=A.labelEnable,W=A.labelPad,Z=A.labelColor,se=A.labelAngle,re=this.labelOffset[b],ne=this.labelCount[b],Q=l.lt(I,L[b]),ee=l.le(I,L[b+2]);v[0]=v[1]=0,v[b]=1,p[b]=(R[2+b]+R[b])/(N[2+b]-N[b])-1;var oe=2/N[2+(1^b)]-N[1^b];p[1^b]=oe*R[1^b]-1,X[b]&&(p[1^b]-=oe*j*F[b],Q<ee&&S[ee]>S[Q]&&(g.uniforms.dataAxis=v,g.uniforms.screenOffset=p,g.uniforms.color=Y[b],g.uniforms.angle=G[b],O.drawArrays(O.TRIANGLES,S[Q],S[ee]-S[Q]))),H[b]&&ne&&(p[1^b]-=oe*j*W[b],g.uniforms.dataAxis=T,g.uniforms.screenOffset=p,g.uniforms.color=Z[b],g.uniforms.angle=se[b],O.drawArrays(O.TRIANGLES,re,ne)),p[1^b]=oe*R[2+(1^b)]-1,X[b+2]&&(p[1^b]+=oe*j*F[b+2],Q<ee&&S[ee]>S[Q]&&(g.uniforms.dataAxis=v,g.uniforms.screenOffset=p,g.uniforms.color=Y[b+2],g.uniforms.angle=G[b+2],O.drawArrays(O.TRIANGLES,S[Q],S[ee]-S[Q]))),H[b+2]&&ne&&(p[1^b]+=oe*j*W[b+2],g.uniforms.dataAxis=T,g.uniforms.screenOffset=p,g.uniforms.color=Z[b+2],g.uniforms.angle=se[b+2],O.drawArrays(O.TRIANGLES,re,ne))}),x.drawTitle=(b=[0,0],A=[0,0],function(){var g=this.plot,I=this.shader,S=g.gl,O=g.screenBox,R=g.titleCenter,L=g.titleAngle,N=g.titleColor,j=g.pixelRatio;if(this.titleCount){for(var X=0;X<2;++X)A[X]=2*(R[X]*j-O[X])/(O[2+X]-O[X])-1;I.bind(),I.uniforms.dataAxis=b,I.uniforms.screenOffset=A,I.uniforms.angle=L,I.uniforms.color=N,S.drawArrays(S.TRIANGLES,this.titleOffset,this.titleCount)}}),x.bind=(_=[0,0],m=[0,0],w=[0,0],function(){var b=this.plot,A=this.shader,g=b._tickBounds,I=b.dataBox,S=b.screenBox,O=b.viewBox;A.bind();for(var R=0;R<2;++R){var L=g[R],j=.5*(I[R+2]+I[R]),X=I[R+2]-I[R],Y=O[R+2]-O[R],H=S[R+2]-S[R];m[R]=2*(g[R+2]-L)/X*Y/H,_[R]=2*(L-j)/X*Y/H}w[1]=2*b.pixelRatio/(S[3]-S[1]),w[0]=w[1]*(S[3]-S[1])/(S[2]-S[0]),A.uniforms.dataScale=m,A.uniforms.dataShift=_,A.uniforms.textScale=w,this.vbo.bind(),A.attributes.textCoordinate.pointer()}),x.update=function(b){var A,g,I,S,O,R=[],L=b.ticks,N=b.bounds;for(O=0;O<2;++O){var j=[Math.floor(R.length/3)],X=[-1/0],F=L[O];for(A=0;A<F.length;++A){var Y=F[A],G=Y.x,W=Y.font||"sans-serif";S=Y.fontSize||12;for(var Z=1/(N[O+2]-N[O]),se=N[O],re=Y.text.split("\n"),ne=0;ne<re.length;ne++)for(I=o(W,re[ne]).data,g=0;g<I.length;g+=2)R.push(I[g]*S,-I[g+1]*S-ne*S*1.2,(G-se)*Z);j.push(Math.floor(R.length/3)),X.push(G)}this.tickOffset[O]=j,this.tickX[O]=X}for(O=0;O<2;++O){for(this.labelOffset[O]=Math.floor(R.length/3),I=o(b.labelFont[O],b.labels[O],{textAlign:"center"}).data,S=b.labelSize[O],A=0;A<I.length;A+=2)R.push(I[A]*S,-I[A+1]*S,0);this.labelCount[O]=Math.floor(R.length/3)-this.labelOffset[O]}for(this.titleOffset=Math.floor(R.length/3),I=o(b.titleFont,b.title).data,S=b.titleSize,A=0;A<I.length;A+=2)R.push(I[A]*S,-I[A+1]*S,0);this.titleCount=Math.floor(R.length/3)-this.titleOffset,this.vbo.update(R)},x.dispose=function(){this.vbo.dispose(),this.shader.dispose()}},2117:function(y,c,i){"use strict";y.exports=function(_){var m=_.gl,w=new h(m,s(m,[m.drawingBufferWidth,m.drawingBufferHeight]));return w.grid=a(w),w.text=o(w),w.line=l(w),w.box=u(w),w.update(_),w};var s=i(2611),a=i(3016),o=i(5613),l=i(1154),u=i(4554);function h(_,m){this.gl=_,this.pickBuffer=m,this.screenBox=[0,0,_.drawingBufferWidth,_.drawingBufferHeight],this.viewBox=[0,0,0,0],this.dataBox=[-10,-10,10,10],this.gridLineEnable=[!0,!0],this.gridLineWidth=[1,1],this.gridLineColor=[[0,0,0,1],[0,0,0,1]],this.pixelRatio=1,this.tickMarkLength=[0,0,0,0],this.tickMarkWidth=[0,0,0,0],this.tickMarkColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[15,15,15,15],this.tickAngle=[0,0,0,0],this.tickEnable=[!0,!0,!0,!0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[15,15,15,15],this.labelAngle=[0,Math.PI/2,0,3*Math.PI/2],this.labelEnable=[!0,!0,!0,!0],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.titleCenter=[0,0],this.titleEnable=!0,this.titleAngle=0,this.titleColor=[0,0,0,1],this.borderColor=[0,0,0,0],this.backgroundColor=[0,0,0,0],this.zeroLineEnable=[!0,!0],this.zeroLineWidth=[4,4],this.zeroLineColor=[[0,0,0,1],[0,0,0,1]],this.borderLineEnable=[!0,!0,!0,!0],this.borderLineWidth=[2,2,2,2],this.borderLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.grid=null,this.text=null,this.line=null,this.box=null,this.objects=[],this.overlays=[],this._tickBounds=[1/0,1/0,-1/0,-1/0],this.static=!1,this.dirty=!1,this.pickDirty=!1,this.pickDelay=120,this.pickRadius=10,this._pickTimeout=null,this._drawPick=this.drawPick.bind(this),this._depthCounter=0}var v=h.prototype;function p(_){for(var m=_.slice(),w=0;w<m.length;++w)m[w]=m[w].slice();return m}function T(_,m){return _.x-m.x}v.setDirty=function(){this.dirty=this.pickDirty=!0},v.setOverlayDirty=function(){this.dirty=!0},v.nextDepthValue=function(){return this._depthCounter++/65536},v.draw=function(){var _=this.gl,m=this.screenBox,w=this.viewBox,x=this.dataBox,b=this.pixelRatio,A=this.grid,g=this.line,I=this.text,S=this.objects;if(this._depthCounter=0,this.pickDirty&&(this._pickTimeout&&clearTimeout(this._pickTimeout),this.pickDirty=!1,this._pickTimeout=setTimeout(this._drawPick,this.pickDelay)),this.dirty){if(this.dirty=!1,_.bindFramebuffer(_.FRAMEBUFFER,null),_.enable(_.SCISSOR_TEST),_.disable(_.DEPTH_TEST),_.depthFunc(_.LESS),_.depthMask(!1),_.enable(_.BLEND),_.blendEquation(_.FUNC_ADD,_.FUNC_ADD),_.blendFunc(_.ONE,_.ONE_MINUS_SRC_ALPHA),this.borderColor){_.scissor(m[0],m[1],m[2]-m[0],m[3]-m[1]);var O=this.borderColor;_.clearColor(O[0]*O[3],O[1]*O[3],O[2]*O[3],O[3]),_.clear(_.COLOR_BUFFER_BIT|_.DEPTH_BUFFER_BIT)}_.scissor(w[0],w[1],w[2]-w[0],w[3]-w[1]),_.viewport(w[0],w[1],w[2]-w[0],w[3]-w[1]);var R=this.backgroundColor;_.clearColor(R[0]*R[3],R[1]*R[3],R[2]*R[3],R[3]),_.clear(_.COLOR_BUFFER_BIT),A.draw();var L=this.zeroLineEnable,N=this.zeroLineColor,j=this.zeroLineWidth;if(L[0]||L[1]){g.bind();for(var X=0;X<2;++X)if(L[X]&&x[X]<=0&&x[X+2]>=0){var F=m[X]-x[X]*(m[X+2]-m[X])/(x[X+2]-x[X]);0===X?g.drawLine(F,m[1],F,m[3],j[X],N[X]):g.drawLine(m[0],F,m[2],F,j[X],N[X])}}for(X=0;X<S.length;++X)S[X].draw();_.viewport(m[0],m[1],m[2]-m[0],m[3]-m[1]),_.scissor(m[0],m[1],m[2]-m[0],m[3]-m[1]),this.grid.drawTickMarks(),g.bind();var Y=this.borderLineEnable,G=this.borderLineWidth,H=this.borderLineColor;for(Y[1]&&g.drawLine(w[0],w[1]-.5*G[1]*b,w[0],w[3]+.5*G[3]*b,G[1],H[1]),Y[0]&&g.drawLine(w[0]-.5*G[0]*b,w[1],w[2]+.5*G[2]*b,w[1],G[0],H[0]),Y[3]&&g.drawLine(w[2],w[1]-.5*G[1]*b,w[2],w[3]+.5*G[3]*b,G[3],H[3]),Y[2]&&g.drawLine(w[0]-.5*G[0]*b,w[3],w[2]+.5*G[2]*b,w[3],G[2],H[2]),I.bind(),X=0;X<2;++X)I.drawTicks(X);this.titleEnable&&I.drawTitle();var W=this.overlays;for(X=0;X<W.length;++X)W[X].draw();_.disable(_.SCISSOR_TEST),_.disable(_.BLEND),_.depthMask(!0)}},v.drawPick=function(){if(!this.static){var _=this.pickBuffer;this._pickTimeout=null,_.begin();for(var m=1,w=this.objects,x=0;x<w.length;++x)m=w[x].drawPick(m);_.end()}},v.pick=function(_,m){if(!this.static){var w=this.pixelRatio,x=this.pickPixelRatio,b=this.viewBox,A=0|Math.round((_-b[0]/w)*x),g=0|Math.round((m-b[1]/w)*x),I=this.pickBuffer.query(A,g,this.pickRadius);if(!I)return null;for(var S=I.id+(I.value[0]<<8)+(I.value[1]<<16)+(I.value[2]<<24),O=this.objects,R=0;R<O.length;++R){var L=O[R].pick(A,g,S);if(L)return L}return null}},v.setScreenBox=function(_){var m=this.screenBox,w=this.pixelRatio;m[0]=0|Math.round(_[0]*w),m[1]=0|Math.round(_[1]*w),m[2]=0|Math.round(_[2]*w),m[3]=0|Math.round(_[3]*w),this.setDirty()},v.setDataBox=function(_){var m=this.dataBox;(m[0]!==_[0]||m[1]!==_[1]||m[2]!==_[2]||m[3]!==_[3])&&(m[0]=_[0],m[1]=_[1],m[2]=_[2],m[3]=_[3],this.setDirty())},v.setViewBox=function(_){var m=this.pixelRatio,w=this.viewBox;w[0]=0|Math.round(_[0]*m),w[1]=0|Math.round(_[1]*m),w[2]=0|Math.round(_[2]*m),w[3]=0|Math.round(_[3]*m);var x=this.pickPixelRatio;this.pickBuffer.shape=[0|Math.round((_[2]-_[0])*x),0|Math.round((_[3]-_[1])*x)],this.setDirty()},v.update=function(_){var m=this.gl;this.pixelRatio=(_=_||{}).pixelRatio||1;var w=this.pixelRatio;this.pickPixelRatio=Math.max(w,1),this.setScreenBox(_.screenBox||[0,0,m.drawingBufferWidth/w,m.drawingBufferHeight/w]),this.setViewBox(_.viewBox||[.125*(this.screenBox[2]-this.screenBox[0])/w,.125*(this.screenBox[3]-this.screenBox[1])/w,.875*(this.screenBox[2]-this.screenBox[0])/w,.875*(this.screenBox[3]-this.screenBox[1])/w]);var x=this.viewBox,b=(x[2]-x[0])/(x[3]-x[1]);this.setDataBox(_.dataBox||[-10,-10/b,10,10/b]),this.borderColor=!1!==_.borderColor&&(_.borderColor||[0,0,0,0]).slice(),this.backgroundColor=(_.backgroundColor||[0,0,0,0]).slice(),this.gridLineEnable=(_.gridLineEnable||[!0,!0]).slice(),this.gridLineWidth=(_.gridLineWidth||[1,1]).slice(),this.gridLineColor=p(_.gridLineColor||[[.5,.5,.5,1],[.5,.5,.5,1]]),this.zeroLineEnable=(_.zeroLineEnable||[!0,!0]).slice(),this.zeroLineWidth=(_.zeroLineWidth||[4,4]).slice(),this.zeroLineColor=p(_.zeroLineColor||[[0,0,0,1],[0,0,0,1]]),this.tickMarkLength=(_.tickMarkLength||[0,0,0,0]).slice(),this.tickMarkWidth=(_.tickMarkWidth||[0,0,0,0]).slice(),this.tickMarkColor=p(_.tickMarkColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.titleCenter=(_.titleCenter||[.5*(x[0]+x[2])/w,(x[3]+120)/w]).slice(),this.titleEnable=!("titleEnable"in _)||!!_.titleEnable,this.titleAngle=_.titleAngle||0,this.titleColor=(_.titleColor||[0,0,0,1]).slice(),this.labelPad=(_.labelPad||[15,15,15,15]).slice(),this.labelAngle=(_.labelAngle||[0,Math.PI/2,0,3*Math.PI/2]).slice(),this.labelEnable=(_.labelEnable||[!0,!0,!0,!0]).slice(),this.labelColor=p(_.labelColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.tickPad=(_.tickPad||[15,15,15,15]).slice(),this.tickAngle=(_.tickAngle||[0,0,0,0]).slice(),this.tickEnable=(_.tickEnable||[!0,!0,!0,!0]).slice(),this.tickColor=p(_.tickColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.borderLineEnable=(_.borderLineEnable||[!0,!0,!0,!0]).slice(),this.borderLineWidth=(_.borderLineWidth||[2,2,2,2]).slice(),this.borderLineColor=p(_.borderLineColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]);var A=_.ticks||[[],[]],g=this._tickBounds;g[0]=g[1]=1/0,g[2]=g[3]=-1/0;for(var I=0;I<2;++I){var S=A[I].slice(0);0!==S.length&&(S.sort(T),g[I]=Math.min(g[I],S[0].x),g[I+2]=Math.max(g[I+2],S[S.length-1].x))}this.grid.update({bounds:g,ticks:A}),this.text.update({bounds:g,ticks:A,labels:_.labels||["x","y"],labelSize:_.labelSize||[12,12],labelFont:_.labelFont||["sans-serif","sans-serif"],title:_.title||"",titleSize:_.titleSize||18,titleFont:_.titleFont||"sans-serif"}),this.static=!!_.static,this.setDirty()},v.dispose=function(){this.box.dispose(),this.grid.dispose(),this.text.dispose(),this.line.dispose();for(var _=this.objects.length-1;_>=0;--_)this.objects[_].dispose();for(this.objects.length=0,_=this.overlays.length-1;_>=0;--_)this.overlays[_].dispose();this.overlays.length=0,this.gl=null},v.addObject=function(_){this.objects.indexOf(_)<0&&(this.objects.push(_),this.setDirty())},v.removeObject=function(_){for(var m=this.objects,w=0;w<m.length;++w)if(m[w]===_){m.splice(w,1),this.setDirty();break}},v.addOverlay=function(_){this.overlays.indexOf(_)<0&&(this.overlays.push(_),this.setOverlayDirty())},v.removeOverlay=function(_){for(var m=this.overlays,w=0;w<m.length;++w)if(m[w]===_){m.splice(w,1),this.setOverlayDirty();break}}},4296:function(y,c,i){"use strict";y.exports=function(v,p){v=v||document.body;var T=[.01,1/0];"distanceLimits"in(p=p||{})&&(T[0]=p.distanceLimits[0],T[1]=p.distanceLimits[1]),"zoomMin"in p&&(T[0]=p.zoomMin),"zoomMax"in p&&(T[1]=p.zoomMax);var _=a({center:p.center||[0,0,0],up:p.up||[0,1,0],eye:p.eye||[0,0,10],mode:p.mode||"orbit",distanceLimits:T}),m=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],w=0,x=v.clientWidth,b=v.clientHeight,A={keyBindingMode:"rotate",enableWheel:!0,view:_,element:v,delay:p.delay||16,rotateSpeed:p.rotateSpeed||1,zoomSpeed:p.zoomSpeed||1,translateSpeed:p.translateSpeed||1,flipX:!!p.flipX,flipY:!!p.flipY,modes:_.modes,_ortho:p._ortho||p.projection&&"orthographic"===p.projection.type||!1,tick:function(){var g=s(),I=this.delay,S=g-2*I;_.idle(g-I),_.recalcMatrix(S),_.flush(g-(100+2*I));for(var O=!0,R=_.computedMatrix,L=0;L<16;++L)O=O&&m[L]===R[L],m[L]=R[L];var N=v.clientWidth===x&&v.clientHeight===b;return x=v.clientWidth,b=v.clientHeight,O?!N:(w=Math.exp(_.computedRadius[0]),!0)},lookAt:function(g,I,S){_.lookAt(_.lastT(),g,I,S)},rotate:function(g,I,S){_.rotate(_.lastT(),g,I,S)},pan:function(g,I,S){_.pan(_.lastT(),g,I,S)},translate:function(g,I,S){_.translate(_.lastT(),g,I,S)}};return Object.defineProperties(A,{matrix:{get:function(){return _.computedMatrix},set:function(g){return _.setMatrix(_.lastT(),g),_.computedMatrix},enumerable:!0},mode:{get:function(){return _.getMode()},set:function(g){var I=_.computedUp.slice(),S=_.computedEye.slice(),O=_.computedCenter.slice();if(_.setMode(g),"turntable"===g){var R=s();_._active.lookAt(R,S,O,I),_._active.lookAt(R+500,S,O,[0,0,1]),_._active.flush(R)}return _.getMode()},enumerable:!0},center:{get:function(){return _.computedCenter},set:function(g){return _.lookAt(_.lastT(),null,g),_.computedCenter},enumerable:!0},eye:{get:function(){return _.computedEye},set:function(g){return _.lookAt(_.lastT(),g),_.computedEye},enumerable:!0},up:{get:function(){return _.computedUp},set:function(g){return _.lookAt(_.lastT(),null,null,g),_.computedUp},enumerable:!0},distance:{get:function(){return w},set:function(g){return _.setDistance(_.lastT(),g),g},enumerable:!0},distanceLimits:{get:function(){return _.getDistanceLimits(T)},set:function(g){return _.setDistanceLimits(g),g},enumerable:!0}}),v.addEventListener("contextmenu",function(g){return g.preventDefault(),!1}),A._lastX=-1,A._lastY=-1,A._lastMods={shift:!1,control:!1,alt:!1,meta:!1},A.enableMouseListeners=function(){function g(I,S,O,R){var L=A.keyBindingMode;if(!1!==L){var N="rotate"===L,j="pan"===L,X="zoom"===L,F=!!R.control,Y=!!R.alt,G=!!R.shift,H=!!(1&I),W=!!(2&I),Z=!!(4&I),se=1/v.clientHeight,re=se*(S-A._lastX),ne=se*(O-A._lastY),Q=A.flipX?1:-1,ee=A.flipY?1:-1,oe=Math.PI*A.rotateSpeed,ce=s();if(-1!==A._lastX&&-1!==A._lastY&&((N&&H&&!F&&!Y&&!G||H&&!F&&!Y&&G)&&_.rotate(ce,Q*oe*re,-ee*oe*ne,0),(j&&H&&!F&&!Y&&!G||W||H&&F&&!Y&&!G)&&_.pan(ce,-A.translateSpeed*re*w,A.translateSpeed*ne*w,0),X&&H&&!F&&!Y&&!G||Z||H&&!F&&Y&&!G)){var fe=-A.zoomSpeed*ne/window.innerHeight*(ce-_.lastT())*100;_.pan(ce,0,0,w*(Math.exp(fe)-1))}return A._lastX=S,A._lastY=O,A._lastMods=R,!0}}A.mouseListener=o(v,g),v.addEventListener("touchstart",function(I){var S=u(I.changedTouches[0],v);g(0,S[0],S[1],A._lastMods),g(1,S[0],S[1],A._lastMods)},!!h&&{passive:!0}),v.addEventListener("touchmove",function(I){var S=u(I.changedTouches[0],v);g(1,S[0],S[1],A._lastMods),I.preventDefault()},!!h&&{passive:!1}),v.addEventListener("touchend",function(I){g(0,A._lastX,A._lastY,A._lastMods)},!!h&&{passive:!0}),A.wheelListener=l(v,function(I,S){if(!1!==A.keyBindingMode&&A.enableWheel){var O=A.flipX?1:-1,R=A.flipY?1:-1,L=s();if(Math.abs(I)>Math.abs(S))_.rotate(L,0,0,-I*O*Math.PI*A.rotateSpeed/window.innerWidth);else if(!A._ortho){var N=-A.zoomSpeed*R*S/window.innerHeight*(L-_.lastT())/20;_.pan(L,0,0,w*(Math.exp(N)-1))}}},!0)},A.enableMouseListeners(),A};var s=i(8161),a=i(1152),o=i(6145),l=i(6475),u=i(2565),h=i(5233)},8245:function(y,c,i){var s=i(6832),a=i(5158),o=s(["precision mediump float;\n#define GLSLIFY 1\nattribute vec2 position;\nvarying vec2 uv;\nvoid main() {\n  uv = position;\n  gl_Position = vec4(position, 0, 1);\n}"]),l=s(["precision mediump float;\n#define GLSLIFY 1\n\nuniform sampler2D accumBuffer;\nvarying vec2 uv;\n\nvoid main() {\n  vec4 accum = texture2D(accumBuffer, 0.5 * (uv + 1.0));\n  gl_FragColor = min(vec4(1,1,1,1), accum);\n}"]);y.exports=function(u){return a(u,o,l,null,[{name:"position",type:"vec2"}])}},1059:function(y,c,i){"use strict";var s=i(4296),a=i(7453),o=i(2771),l=i(6496),u=i(2611),h=i(4234),v=i(8126),p=i(6145),T=i(1120),_=i(5268),m=i(8245),w=i(2321)({tablet:!0,featureDetect:!0});function x(){this.mouse=[-1,-1],this.screen=null,this.distance=1/0,this.index=null,this.dataCoordinate=null,this.dataPosition=null,this.object=null,this.data=null}function b(g){var I=Math.round(Math.log(Math.abs(g))/Math.log(10));if(I<0){var S=Math.round(Math.pow(10,-I));return Math.ceil(g*S)/S}return I>0?(S=Math.round(Math.pow(10,I)),Math.ceil(g/S)*S):Math.ceil(g)}function A(g){return"boolean"!=typeof g||g}y.exports={createScene:function(g){(g=g||{}).camera=g.camera||{};var I=g.canvas;I||(I=document.createElement("canvas"),g.container?g.container.appendChild(I):document.body.appendChild(I));var S=g.gl;if(S||(g.glOptions&&(w=!!g.glOptions.preserveDrawingBuffer),S=function(ze,Se){var Ce=null;try{(Ce=ze.getContext("webgl",Se))||(Ce=ze.getContext("experimental-webgl",Se))}catch{return null}return Ce}(I,g.glOptions||{premultipliedAlpha:!0,antialias:!0,preserveDrawingBuffer:w})),!S)throw new Error("webgl not supported");var O=g.bounds||[[-10,-10,-10],[10,10,10]],R=new x,L=h(S,S.drawingBufferWidth,S.drawingBufferHeight,{preferFloat:!w}),N=m(S),j=g.cameraObject&&!0===g.cameraObject._ortho||g.camera.projection&&"orthographic"===g.camera.projection.type||!1,X={eye:g.camera.eye||[2,0,0],center:g.camera.center||[0,0,0],up:g.camera.up||[0,1,0],zoomMin:g.camera.zoomMax||.1,zoomMax:g.camera.zoomMin||100,mode:g.camera.mode||"turntable",_ortho:j},F=g.axes||{},Y=a(S,F);Y.enable=!F.disable;var H=l(S,g.spikes||{}),W=[],Z=[],se=[],re=[],ne=!0,Q=!0,ee={view:null,projection:new Array(16),model:new Array(16),_ortho:!1},oe=(Q=!0,[S.drawingBufferWidth,S.drawingBufferHeight]),ce=g.cameraObject||s(I,X),fe={gl:S,contextLost:!1,pixelRatio:g.pixelRatio||1,canvas:I,selection:R,camera:ce,axes:Y,axesPixels:null,spikes:H,bounds:O,objects:W,shape:oe,aspect:g.aspectRatio||[1,1,1],pickRadius:g.pickRadius||10,zNear:g.zNear||.01,zFar:g.zFar||1e3,fovy:g.fovy||Math.PI/4,clearColor:g.clearColor||[0,0,0,0],autoResize:A(g.autoResize),autoBounds:A(g.autoBounds),autoScale:!!g.autoScale,autoCenter:A(g.autoCenter),clipToBounds:A(g.clipToBounds),snapToData:!!g.snapToData,onselect:g.onselect||null,onrender:g.onrender||null,onclick:g.onclick||null,cameraParams:ee,oncontextloss:null,mouseListener:null,_stopped:!1,getAspectratio:function(){return{x:this.aspect[0],y:this.aspect[1],z:this.aspect[2]}},setAspectratio:function(ze){this.aspect[0]=ze.x,this.aspect[1]=ze.y,this.aspect[2]=ze.z,Q=!0},setBounds:function(ze,Se){this.bounds[0][ze]=Se.min,this.bounds[1][ze]=Se.max},setClearColor:function(ze){this.clearColor=ze},clearRGBA:function(){this.gl.clearColor(this.clearColor[0],this.clearColor[1],this.clearColor[2],this.clearColor[3]),this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT)}},le=[S.drawingBufferWidth/fe.pixelRatio|0,S.drawingBufferHeight/fe.pixelRatio|0];function pe(){if(!fe._stopped&&fe.autoResize){var ze=I.parentNode,Se=1,Ce=1;ze&&ze!==document.body?(Se=ze.clientWidth,Ce=ze.clientHeight):(Se=window.innerWidth,Ce=window.innerHeight);var ge=0|Math.ceil(Se*fe.pixelRatio),he=0|Math.ceil(Ce*fe.pixelRatio);if(ge!==I.width||he!==I.height){I.width=ge,I.height=he;var _e=I.style;_e.position=_e.position||"absolute",_e.left="0px",_e.top="0px",_e.width=Se+"px",_e.height=Ce+"px",ne=!0}}}function Me(){for(var ze=W.length,Se=re.length,Ce=0;Ce<Se;++Ce)se[Ce]=0;e:for(Ce=0;Ce<ze;++Ce){var ge=W[Ce],he=ge.pickSlots;if(he){for(var _e=0;_e<Se;++_e)if(se[_e]+he<255){Z[Ce]=_e,ge.setPickBase(se[_e]+1),se[_e]+=he;continue e}var Le=u(S,oe);Z[Ce]=Se,re.push(Le),se.push(he),ge.setPickBase(1),Se+=1}else Z[Ce]=-1}for(;Se>0&&0===se[Se-1];)se.pop(),re.pop().dispose()}function Ae(){if(fe.contextLost)return!0;S.isContextLost()&&(fe.contextLost=!0,fe.mouseListener.enabled=!1,fe.selection.object=null,fe.oncontextloss&&fe.oncontextloss())}fe.autoResize&&pe(),window.addEventListener("resize",pe),fe.update=function(ze){fe._stopped||(ze=ze||{},ne=!0,Q=!0)},fe.add=function(ze){fe._stopped||(ze.axes=Y,W.push(ze),Z.push(-1),ne=!0,Q=!0,Me())},fe.remove=function(ze){if(!fe._stopped){var Se=W.indexOf(ze);Se<0||(W.splice(Se,1),Z.pop(),ne=!0,Q=!0,Me())}},fe.dispose=function(){if(!fe._stopped&&(fe._stopped=!0,window.removeEventListener("resize",pe),I.removeEventListener("webglcontextlost",Ae),fe.mouseListener.enabled=!1,!fe.contextLost)){Y.dispose(),H.dispose();for(var ze=0;ze<W.length;++ze)W[ze].dispose();for(L.dispose(),ze=0;ze<re.length;++ze)re[ze].dispose();N.dispose(),S=null,Y=null,H=null,W=[]}},fe._mouseRotating=!1,fe._prevButtons=0,fe.enableMouseListeners=function(){fe.mouseListener=p(I,function(ze,Se,Ce){if(!fe._stopped){var ge=re.length,he=W.length,_e=R.object;R.distance=1/0,R.mouse[0]=Se,R.mouse[1]=Ce,R.object=null,R.screen=null,R.dataCoordinate=R.dataPosition=null;var Le=!1;if(ze&&fe._prevButtons)fe._mouseRotating=!0;else{fe._mouseRotating&&(Q=!0),fe._mouseRotating=!1;for(var Ie=0;Ie<ge;++Ie){var De=re[Ie].query(Se,le[1]-Ce-1,fe.pickRadius);if(De){if(De.distance>R.distance)continue;for(var je=0;je<he;++je){var qe=W[je];if(Z[je]===Ie){var ve=qe.pick(De);ve&&(R.buttons=ze,R.screen=De.coord,R.distance=De.distance,R.object=qe,R.index=ve.distance,R.dataPosition=ve.position,R.dataCoordinate=ve.dataCoordinate,R.data=ve,Le=!0)}}}}}_e&&_e!==R.object&&(_e.highlight&&_e.highlight(null),ne=!0),R.object&&(R.object.highlight&&R.object.highlight(R.data),ne=!0),(Le=Le||R.object!==_e)&&fe.onselect&&fe.onselect(R),1&ze&&!(1&fe._prevButtons)&&fe.onclick&&fe.onclick(R),fe._prevButtons=ze}})},I.addEventListener("webglcontextlost",Ae);var be=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],ye=[be[0].slice(),be[1].slice()];function we(){if(!Ae()){pe();var ze=fe.camera.tick();ee.view=fe.camera.matrix,ne=ne||ze,Q=Q||ze,Y.pixelRatio=fe.pixelRatio,H.pixelRatio=fe.pixelRatio;var Se=W.length,Ce=be[0],ge=be[1];Ce[0]=Ce[1]=Ce[2]=1/0,ge[0]=ge[1]=ge[2]=-1/0;for(var he=0;he<Se;++he){(Ge=W[he]).pixelRatio=fe.pixelRatio,Ge.axes=fe.axes,ne=ne||!!Ge.dirty,Q=Q||!!Ge.dirty;var _e=Ge.bounds;if(_e)for(var Le=_e[0],Ie=_e[1],De=0;De<3;++De)Ce[De]=Math.min(Ce[De],Le[De]),ge[De]=Math.max(ge[De],Ie[De])}var je=fe.bounds;if(fe.autoBounds)for(De=0;De<3;++De){if(ge[De]<Ce[De])Ce[De]=-1,ge[De]=1;else{Ce[De]===ge[De]&&(Ce[De]-=1,ge[De]+=1);var qe=.05*(ge[De]-Ce[De]);Ce[De]=Ce[De]-qe,ge[De]=ge[De]+qe}je[0][De]=Ce[De],je[1][De]=ge[De]}var ve=!1;for(De=0;De<3;++De)ve=ve||ye[0][De]!==je[0][De]||ye[1][De]!==je[1][De],ye[0][De]=je[0][De],ye[1][De]=je[1][De];if(Q=Q||ve,ne=ne||ve){if(ve){var Oe=[0,0,0];for(he=0;he<3;++he)Oe[he]=b((je[1][he]-je[0][he])/10);Y.update(Y.autoTicks?{bounds:je,tickSpacing:Oe}:{bounds:je})}var ke=S.drawingBufferWidth,Be=S.drawingBufferHeight;for(oe[0]=ke,oe[1]=Be,le[0]=0|Math.max(ke/fe.pixelRatio,1),le[1]=0|Math.max(Be/fe.pixelRatio,1),function(Ke,et){var at=Ke.bounds,mt=Ke.cameraParams,ct=mt.projection,kt=mt.model,ht=Ke.zNear,pt=Ke.zFar,Pt=Ke.fovy,zt=Ke.gl.drawingBufferWidth/Ke.gl.drawingBufferHeight;et?(_(ct,-zt,zt,-1,1,ht,pt),mt._ortho=!0):(T(ct,Pt,zt,ht,pt),mt._ortho=!1);for(var Ht=0;Ht<16;++Ht)kt[Ht]=0;kt[15]=1;var Lt=0;for(Ht=0;Ht<3;++Ht)Lt=Math.max(Lt,at[1][Ht]-at[0][Ht]);for(Ht=0;Ht<3;++Ht)kt[5*Ht]=Ke.autoScale?Ke.aspect[Ht]/(at[1][Ht]-at[0][Ht]):1/Lt,Ke.autoCenter&&(kt[12+Ht]=.5*-kt[5*Ht]*(at[0][Ht]+at[1][Ht]))}(fe,j),he=0;he<Se;++he)(Ge=W[he]).axesBounds=je,fe.clipToBounds&&(Ge.clipBounds=je);R.object&&(H.position=fe.snapToData?R.dataCoordinate:R.dataPosition,H.bounds=je),Q&&(Q=!1,function(){if(!Ae()){S.colorMask(!0,!0,!0,!0),S.depthMask(!0),S.disable(S.BLEND),S.enable(S.DEPTH_TEST),S.depthFunc(S.LEQUAL);for(var Ke=W.length,et=re.length,at=0;at<et;++at){var mt=re[at];mt.shape=le,mt.begin();for(var ct=0;ct<Ke;++ct)if(Z[ct]===at){var kt=W[ct];kt.drawPick&&(kt.pixelRatio=1,kt.drawPick(ee))}mt.end()}}}()),fe.axesPixels=o(fe.axes,ee,ke,Be),fe.onrender&&fe.onrender(),S.bindFramebuffer(S.FRAMEBUFFER,null),S.viewport(0,0,ke,Be),fe.clearRGBA(),S.depthMask(!0),S.colorMask(!0,!0,!0,!0),S.enable(S.DEPTH_TEST),S.depthFunc(S.LEQUAL),S.disable(S.BLEND),S.disable(S.CULL_FACE);var We=!1;for(Y.enable&&(We=We||Y.isTransparent(),Y.draw(ee)),H.axes=Y,R.object&&H.draw(ee),S.disable(S.CULL_FACE),he=0;he<Se;++he)(Ge=W[he]).axes=Y,Ge.pixelRatio=fe.pixelRatio,Ge.isOpaque&&Ge.isOpaque()&&Ge.draw(ee),Ge.isTransparent&&Ge.isTransparent()&&(We=!0);if(We){for(L.shape=oe,L.bind(),S.clear(S.DEPTH_BUFFER_BIT),S.colorMask(!1,!1,!1,!1),S.depthMask(!0),S.depthFunc(S.LESS),Y.enable&&Y.isTransparent()&&Y.drawTransparent(ee),he=0;he<Se;++he)(Ge=W[he]).isOpaque&&Ge.isOpaque()&&Ge.draw(ee);for(S.enable(S.BLEND),S.blendEquation(S.FUNC_ADD),S.blendFunc(S.ONE,S.ONE_MINUS_SRC_ALPHA),S.colorMask(!0,!0,!0,!0),S.depthMask(!1),S.clearColor(0,0,0,0),S.clear(S.COLOR_BUFFER_BIT),Y.isTransparent()&&Y.drawTransparent(ee),he=0;he<Se;++he){var Ge;(Ge=W[he]).isTransparent&&Ge.isTransparent()&&Ge.drawTransparent(ee)}S.bindFramebuffer(S.FRAMEBUFFER,null),S.blendFunc(S.ONE,S.ONE_MINUS_SRC_ALPHA),S.disable(S.DEPTH_TEST),N.bind(),L.color[0].bind(0),N.uniforms.accumBuffer=0,v(S),S.disable(S.BLEND)}for(ne=!1,he=0;he<Se;++he)W[he].dirty=!1}}}return fe.enableMouseListeners(),function ze(){fe._stopped||fe.contextLost||(we(),requestAnimationFrame(ze))}(),fe.redraw=function(){fe._stopped||(ne=!0,we())},fe},createCamera:s}},8023:function(y,c,i){var s=i(6832);c.pointVertex=s(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 position;\n\nuniform mat3 matrix;\nuniform float pointSize;\nuniform float pointCloud;\n\nhighp float rand(vec2 co) {\n  highp float a = 12.9898;\n  highp float b = 78.233;\n  highp float c = 43758.5453;\n  highp float d = dot(co.xy, vec2(a, b));\n  highp float e = mod(d, 3.14);\n  return fract(sin(e) * c);\n}\n\nvoid main() {\n  vec3 hgPosition = matrix * vec3(position, 1);\n  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);\n    // if we don't jitter the point size a bit, overall point cloud\n    // saturation 'jumps' on zooming, which is disturbing and confusing\n  gl_PointSize = pointSize * ((19.5 + rand(position)) / 20.0);\n  if(pointCloud != 0.0) { // pointCloud is truthy\n    // get the same square surface as circle would be\n    gl_PointSize *= 0.886;\n  }\n}"]),c.pointFragment=s(["precision mediump float;\n#define GLSLIFY 1\n\nuniform vec4 color, borderColor;\nuniform float centerFraction;\nuniform float pointCloud;\n\nvoid main() {\n  float radius;\n  vec4 baseColor;\n  if(pointCloud != 0.0) { // pointCloud is truthy\n    if(centerFraction == 1.0) {\n      gl_FragColor = color;\n    } else {\n      gl_FragColor = mix(borderColor, color, centerFraction);\n    }\n  } else {\n    radius = length(2.0 * gl_PointCoord.xy - 1.0);\n    if(radius > 1.0) {\n      discard;\n    }\n    baseColor = mix(borderColor, color, step(radius, centerFraction));\n    gl_FragColor = vec4(baseColor.rgb * baseColor.a, baseColor.a);\n  }\n}\n"]),c.pickVertex=s(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 position;\nattribute vec4 pickId;\n\nuniform mat3 matrix;\nuniform float pointSize;\nuniform vec4 pickOffset;\n\nvarying vec4 fragId;\n\nvoid main() {\n  vec3 hgPosition = matrix * vec3(position, 1);\n  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);\n  gl_PointSize = pointSize;\n\n  vec4 id = pickId + pickOffset;\n  id.y += floor(id.x / 256.0);\n  id.x -= floor(id.x / 256.0) * 256.0;\n\n  id.z += floor(id.y / 256.0);\n  id.y -= floor(id.y / 256.0) * 256.0;\n\n  id.w += floor(id.z / 256.0);\n  id.z -= floor(id.z / 256.0) * 256.0;\n\n  fragId = id;\n}\n"]),c.pickFragment=s(["precision mediump float;\n#define GLSLIFY 1\n\nvarying vec4 fragId;\n\nvoid main() {\n  float radius = length(2.0 * gl_PointCoord.xy - 1.0);\n  if(radius > 1.0) {\n    discard;\n  }\n  gl_FragColor = fragId / 255.0;\n}\n"])},8271:function(y,c,i){"use strict";var s=i(5158),a=i(5827),o=i(5306),l=i(8023);function u(T,_,m,w,x){this.plot=T,this.offsetBuffer=_,this.pickBuffer=m,this.shader=w,this.pickShader=x,this.sizeMin=.5,this.sizeMinCap=2,this.sizeMax=20,this.areaRatio=1,this.pointCount=0,this.color=[1,0,0,1],this.borderColor=[0,0,0,1],this.blend=!1,this.pickOffset=0,this.points=null}y.exports=function(T,_){var m=T.gl,w=new u(T,a(m),a(m),s(m,l.pointVertex,l.pointFragment),s(m,l.pickVertex,l.pickFragment));return w.update(_),T.addObject(w),w};var h,v,p=u.prototype;p.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.offsetBuffer.dispose(),this.pickBuffer.dispose(),this.plot.removeObject(this)},p.update=function(T){var _;function m(S,O){return S in T?T[S]:O}T=T||{},this.sizeMin=m("sizeMin",.5),this.sizeMax=m("sizeMax",20),this.color=m("color",[1,0,0,1]).slice(),this.areaRatio=m("areaRatio",1),this.borderColor=m("borderColor",[0,0,0,1]).slice(),this.blend=m("blend",!1);var w=T.positions.length>>>1,x=T.positions instanceof Float32Array,b=T.idToIndex instanceof Int32Array&&T.idToIndex.length>=w,A=T.positions,g=x?A:o.mallocFloat32(A.length),I=b?T.idToIndex:o.mallocInt32(w);if(x||g.set(A),!b)for(g.set(A),_=0;_<w;_++)I[_]=_;this.points=A,this.offsetBuffer.update(g),this.pickBuffer.update(I),x||o.free(g),b||o.free(I),this.pointCount=w,this.pickOffset=0},p.unifiedDraw=(h=[1,0,0,0,1,0,0,0,1],v=[0,0,0,0],function(T){var _=void 0!==T,m=_?this.pickShader:this.shader,w=this.plot.gl,x=this.plot.dataBox;if(0===this.pointCount)return T;var b=x[2]-x[0],A=x[3]-x[1],g=function(R,L){var N,j=0,X=R.length>>>1;for(N=0;N<X;N++){var F=R[2*N],Y=R[2*N+1];F>=L[0]&&F<=L[2]&&Y>=L[1]&&Y<=L[3]&&j++}return j}(this.points,x),I=this.plot.pickPixelRatio*Math.max(Math.min(this.sizeMinCap,this.sizeMin),Math.min(this.sizeMax,this.sizeMax/Math.pow(g,.33333)));h[0]=2/b,h[4]=2/A,h[6]=-2*x[0]/b-1,h[7]=-2*x[1]/A-1,this.offsetBuffer.bind(),m.bind(),m.attributes.position.pointer(),m.uniforms.matrix=h,m.uniforms.color=this.color,m.uniforms.borderColor=this.borderColor,m.uniforms.pointCloud=I<5,m.uniforms.pointSize=I,m.uniforms.centerFraction=Math.min(1,Math.max(0,Math.sqrt(1-this.areaRatio))),_&&(v[0]=255&T,v[1]=T>>8&255,v[2]=T>>16&255,v[3]=T>>24&255,this.pickBuffer.bind(),m.attributes.pickId.pointer(w.UNSIGNED_BYTE),m.uniforms.pickOffset=v,this.pickOffset=T);var S=w.getParameter(w.BLEND),O=w.getParameter(w.DITHER);return S&&!this.blend&&w.disable(w.BLEND),O&&w.disable(w.DITHER),w.drawArrays(w.POINTS,0,this.pointCount),S&&!this.blend&&w.enable(w.BLEND),O&&w.enable(w.DITHER),T+this.pointCount}),p.draw=p.unifiedDraw,p.drawPick=p.unifiedDraw,p.pick=function(T,_,m){var w=this.pickOffset;if(m<w||m>=w+this.pointCount)return null;var b=m-w,A=this.points;return{object:this,pointId:b,dataCoord:[A[2*b],A[2*b+1]]}}},6093:function(y){y.exports=function(c,i,s,a){var o,l,u,h,v,p=i[0],T=i[1],_=i[2],m=i[3],w=s[0],x=s[1],b=s[2],A=s[3];return(l=p*w+T*x+_*b+m*A)<0&&(l=-l,w=-w,x=-x,b=-b,A=-A),1-l>1e-6?(o=Math.acos(l),u=Math.sin(o),h=Math.sin((1-a)*o)/u,v=Math.sin(a*o)/u):(h=1-a,v=a),c[0]=h*p+v*w,c[1]=h*T+v*x,c[2]=h*_+v*b,c[3]=h*m+v*A,c}},8240:function(y){"use strict";y.exports=function(c){return c||0===c?c.toString():""}},4123:function(y,c,i){"use strict";var s=i(875);y.exports=function(o,l,u){var h=a[l];if(h||(h=a[l]={}),o in h)return h[o];var v={textAlign:"center",textBaseline:"middle",lineHeight:1,font:l,lineSpacing:1.25,styletags:{breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0},triangles:!0},p=s(o,v);v.triangles=!1;var T,_,m=s(o,v);if(u&&1!==u){for(T=0;T<p.positions.length;++T)for(_=0;_<p.positions[T].length;++_)p.positions[T][_]/=u;for(T=0;T<m.positions.length;++T)for(_=0;_<m.positions[T].length;++_)m.positions[T][_]/=u}var w=[[1/0,1/0],[-1/0,-1/0]],x=m.positions.length;for(T=0;T<x;++T){var b=m.positions[T];for(_=0;_<2;++_)w[0][_]=Math.min(w[0][_],b[_]),w[1][_]=Math.max(w[1][_],b[_])}return h[o]=[p,m,w]};var a={}},9282:function(y,c,i){var s=i(5158),a=i(6832),o=a(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nattribute vec3 position;\nattribute vec4 color;\nattribute vec2 glyph;\nattribute vec4 id;\n\nuniform vec4 highlightId;\nuniform float highlightScale;\nuniform mat4 model, view, projection;\nuniform vec3 clipBounds[2];\n\nvarying vec4 interpColor;\nvarying vec4 pickId;\nvarying vec3 dataCoordinate;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], position)) {\n\n    gl_Position = vec4(0,0,0,0);\n  } else {\n    float scale = 1.0;\n    if(distance(highlightId, id) < 0.0001) {\n      scale = highlightScale;\n    }\n\n    vec4 worldPosition = model * vec4(position, 1);\n    vec4 viewPosition = view * worldPosition;\n    viewPosition = viewPosition / viewPosition.w;\n    vec4 clipPosition = projection * (viewPosition + scale * vec4(glyph.x, -glyph.y, 0, 0));\n\n    gl_Position = clipPosition;\n    interpColor = color;\n    pickId = id;\n    dataCoordinate = position;\n  }\n}"]),l=a(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nattribute vec3 position;\nattribute vec4 color;\nattribute vec2 glyph;\nattribute vec4 id;\n\nuniform mat4 model, view, projection;\nuniform vec2 screenSize;\nuniform vec3 clipBounds[2];\nuniform float highlightScale, pixelRatio;\nuniform vec4 highlightId;\n\nvarying vec4 interpColor;\nvarying vec4 pickId;\nvarying vec3 dataCoordinate;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], position)) {\n\n    gl_Position = vec4(0,0,0,0);\n  } else {\n    float scale = pixelRatio;\n    if(distance(highlightId.bgr, id.bgr) < 0.001) {\n      scale *= highlightScale;\n    }\n\n    vec4 worldPosition = model * vec4(position, 1.0);\n    vec4 viewPosition = view * worldPosition;\n    vec4 clipPosition = projection * viewPosition;\n    clipPosition /= clipPosition.w;\n\n    gl_Position = clipPosition + vec4(screenSize * scale * vec2(glyph.x, -glyph.y), 0.0, 0.0);\n    interpColor = color;\n    pickId = id;\n    dataCoordinate = position;\n  }\n}"]),u=a(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nattribute vec3 position;\nattribute vec4 color;\nattribute vec2 glyph;\nattribute vec4 id;\n\nuniform float highlightScale;\nuniform vec4 highlightId;\nuniform vec3 axes[2];\nuniform mat4 model, view, projection;\nuniform vec2 screenSize;\nuniform vec3 clipBounds[2];\nuniform float scale, pixelRatio;\n\nvarying vec4 interpColor;\nvarying vec4 pickId;\nvarying vec3 dataCoordinate;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], position)) {\n\n    gl_Position = vec4(0,0,0,0);\n  } else {\n    float lscale = pixelRatio * scale;\n    if(distance(highlightId, id) < 0.0001) {\n      lscale *= highlightScale;\n    }\n\n    vec4 clipCenter   = projection * view * model * vec4(position, 1);\n    vec3 dataPosition = position + 0.5*lscale*(axes[0] * glyph.x + axes[1] * glyph.y) * clipCenter.w * screenSize.y;\n    vec4 clipPosition = projection * view * model * vec4(dataPosition, 1);\n\n    gl_Position = clipPosition;\n    interpColor = color;\n    pickId = id;\n    dataCoordinate = dataPosition;\n  }\n}\n"]),h=a(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 fragClipBounds[2];\nuniform float opacity;\n\nvarying vec4 interpColor;\nvarying vec3 dataCoordinate;\n\nvoid main() {\n  if (\n    outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate) ||\n    interpColor.a * opacity == 0.\n  ) discard;\n  gl_FragColor = interpColor * opacity;\n}\n"]),v=a(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 fragClipBounds[2];\nuniform float pickGroup;\n\nvarying vec4 pickId;\nvarying vec3 dataCoordinate;\n\nvoid main() {\n  if (outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate)) discard;\n\n  gl_FragColor = vec4(pickGroup, pickId.bgr);\n}"]),p=[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"glyph",type:"vec2"},{name:"id",type:"vec4"}],T={vertex:o,fragment:h,attributes:p},_={vertex:l,fragment:h,attributes:p},m={vertex:u,fragment:h,attributes:p},w={vertex:o,fragment:v,attributes:p},x={vertex:l,fragment:v,attributes:p},b={vertex:u,fragment:v,attributes:p};function A(g,I){var S=s(g,I),O=S.attributes;return O.position.location=0,O.color.location=1,O.glyph.location=2,O.id.location=3,S}c.createPerspective=function(g){return A(g,T)},c.createOrtho=function(g){return A(g,_)},c.createProject=function(g){return A(g,m)},c.createPickPerspective=function(g){return A(g,w)},c.createPickOrtho=function(g){return A(g,x)},c.createPickProject=function(g){return A(g,b)}},2182:function(y,c,i){"use strict";var s=i(3596),a=i(5827),o=i(2944),l=i(5306),u=i(104),h=i(9282),v=i(4123),p=i(8240),T=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function _(Z,se){var re=Z[0],ne=Z[1],Q=Z[2],ee=Z[3];return Z[0]=se[0]*re+se[4]*ne+se[8]*Q+se[12]*ee,Z[1]=se[1]*re+se[5]*ne+se[9]*Q+se[13]*ee,Z[2]=se[2]*re+se[6]*ne+se[10]*Q+se[14]*ee,Z[3]=se[3]*re+se[7]*ne+se[11]*Q+se[15]*ee,Z}function m(Z,se,re,ne){return _(ne,ne),_(ne,ne),_(ne,ne)}function w(Z,se){this.index=Z,this.dataCoordinate=this.position=se}function x(Z){return!0===Z||Z>1?1:Z}function b(Z,se,re,ne,Q,ee,oe,ce,fe,le,pe,Me){this.gl=Z,this.pixelRatio=1,this.shader=se,this.orthoShader=re,this.projectShader=ne,this.pointBuffer=Q,this.colorBuffer=ee,this.glyphBuffer=oe,this.idBuffer=ce,this.vao=fe,this.vertexCount=0,this.lineVertexCount=0,this.opacity=1,this.hasAlpha=!1,this.lineWidth=0,this.projectScale=[.6666666666666666,.6666666666666666,.6666666666666666],this.projectOpacity=[1,1,1],this.projectHasAlpha=!1,this.pickId=0,this.pickPerspectiveShader=le,this.pickOrthoShader=pe,this.pickProjectShader=Me,this.points=[],this._selectResult=new w(0,[0,0,0]),this.useOrtho=!0,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.axesProject=[!0,!0,!0],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.highlightId=[1,1,1,1],this.highlightScale=2,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.dirty=!0}y.exports=function(Z){var se=Z.gl,re=h.createPerspective(se),ne=h.createOrtho(se),Q=h.createProject(se),ee=h.createPickPerspective(se),oe=h.createPickOrtho(se),ce=h.createPickProject(se),fe=a(se),le=a(se),pe=a(se),Me=a(se),Ae=new b(se,re,ne,Q,fe,le,pe,Me,o(se,[{buffer:fe,size:3,type:se.FLOAT},{buffer:le,size:4,type:se.FLOAT},{buffer:pe,size:2,type:se.FLOAT},{buffer:Me,size:4,type:se.UNSIGNED_BYTE,normalized:!0}]),ee,oe,ce);return Ae.update(Z),Ae};var A=b.prototype;A.pickSlots=1,A.setPickBase=function(Z){this.pickId=Z},A.isTransparent=function(){if(this.hasAlpha)return!0;for(var Z=0;Z<3;++Z)if(this.axesProject[Z]&&this.projectHasAlpha)return!0;return!1},A.isOpaque=function(){if(!this.hasAlpha)return!0;for(var Z=0;Z<3;++Z)if(this.axesProject[Z]&&!this.projectHasAlpha)return!0;return!1};var g=[0,0],I=[0,0,0],S=[0,0,0],O=[0,0,0,1],R=[0,0,0,1],L=T.slice(),N=[0,0,0],j=[[0,0,0],[0,0,0]];function X(Z){return Z[0]=Z[1]=Z[2]=0,Z}function F(Z,se){return Z[0]=se[0],Z[1]=se[1],Z[2]=se[2],Z[3]=1,Z}function Y(Z,se,re,ne){return Z[0]=se[0],Z[1]=se[1],Z[2]=se[2],Z[re]=ne,Z}var G=[[-1e8,-1e8,-1e8],[1e8,1e8,1e8]];function H(Z,se,re,ne,Q,ee,oe){var ce=re.gl;if((ee===re.projectHasAlpha||oe)&&function(le,pe,Me,Ae){var be,ye=pe.axesProject,we=pe.gl,ze=le.uniforms,Se=Me.model||T,Ce=Me.view||T,ge=Me.projection||T,he=pe.axesBounds,_e=function(at){for(var mt=j,ct=0;ct<2;++ct)for(var kt=0;kt<3;++kt)mt[ct][kt]=Math.max(Math.min(at[ct][kt],1e8),-1e8);return mt}(pe.clipBounds);be=pe.axes&&pe.axes.lastCubeProps?pe.axes.lastCubeProps.axis:[1,1,1],g[0]=2/we.drawingBufferWidth,g[1]=2/we.drawingBufferHeight,le.bind(),ze.view=Ce,ze.projection=ge,ze.screenSize=g,ze.highlightId=pe.highlightId,ze.highlightScale=pe.highlightScale,ze.clipBounds=_e,ze.pickGroup=pe.pickId/255,ze.pixelRatio=Ae;for(var Le=0;Le<3;++Le)if(ye[Le]){ze.scale=pe.projectScale[Le],ze.opacity=pe.projectOpacity[Le];for(var Ie=L,De=0;De<16;++De)Ie[De]=0;for(De=0;De<4;++De)Ie[5*De]=1;Ie[5*Le]=0,Ie[12+Le]=be[Le]<0?he[0][Le]:he[1][Le],u(Ie,Se,Ie),ze.model=Ie;var je=(Le+1)%3,qe=(Le+2)%3,ve=X(I),Oe=X(S);ve[je]=1,Oe[qe]=1;var ke=m(0,0,0,F(O,ve)),Be=m(0,0,0,F(R,Oe));if(Math.abs(ke[1])>Math.abs(Be[1])){var We=ke;ke=Be,Be=We,We=ve,ve=Oe,Oe=We;var Ge=je;je=qe,qe=Ge}ke[0]<0&&(ve[je]=-1),Be[1]>0&&(Oe[qe]=-1);var Ke=0,et=0;for(De=0;De<4;++De)Ke+=Math.pow(Se[4*je+De],2),et+=Math.pow(Se[4*qe+De],2);ve[je]/=Math.sqrt(Ke),Oe[qe]/=Math.sqrt(et),ze.axes[0]=ve,ze.axes[1]=Oe,ze.fragClipBounds[0]=Y(N,_e[0],Le,-1e8),ze.fragClipBounds[1]=Y(N,_e[1],Le,1e8),pe.vao.bind(),pe.vao.draw(we.TRIANGLES,pe.vertexCount),pe.lineWidth>0&&(we.lineWidth(pe.lineWidth*Ae),pe.vao.draw(we.LINES,pe.lineVertexCount,pe.vertexCount)),pe.vao.unbind()}}(se,re,ne,Q),ee===re.hasAlpha||oe){Z.bind();var fe=Z.uniforms;fe.model=ne.model||T,fe.view=ne.view||T,fe.projection=ne.projection||T,g[0]=2/ce.drawingBufferWidth,g[1]=2/ce.drawingBufferHeight,fe.screenSize=g,fe.highlightId=re.highlightId,fe.highlightScale=re.highlightScale,fe.fragClipBounds=G,fe.clipBounds=re.axes.bounds,fe.opacity=re.opacity,fe.pickGroup=re.pickId/255,fe.pixelRatio=Q,re.vao.bind(),re.vao.draw(ce.TRIANGLES,re.vertexCount),re.lineWidth>0&&(ce.lineWidth(re.lineWidth*Q),re.vao.draw(ce.LINES,re.lineVertexCount,re.vertexCount)),re.vao.unbind()}}function W(Z,se,re,ne){var Q;Q=Array.isArray(Z)?se<Z.length?Z[se]:void 0:Z,Q=p(Q);var ee=!0;s(Q)&&(Q="\u25bc",ee=!1);var oe=v(Q,re,ne);return{mesh:oe[0],lines:oe[1],bounds:oe[2],visible:ee}}A.draw=function(Z){H(this.useOrtho?this.orthoShader:this.shader,this.projectShader,this,Z,this.pixelRatio,!1,!1)},A.drawTransparent=function(Z){H(this.useOrtho?this.orthoShader:this.shader,this.projectShader,this,Z,this.pixelRatio,!0,!1)},A.drawPick=function(Z){H(this.useOrtho?this.pickOrthoShader:this.pickPerspectiveShader,this.pickProjectShader,this,Z,1,!0,!0)},A.pick=function(Z){if(!Z||Z.id!==this.pickId)return null;var se=Z.value[2]+(Z.value[1]<<8)+(Z.value[0]<<16);if(se>=this.pointCount||se<0)return null;var re=this.points[se],ne=this._selectResult;ne.index=se;for(var Q=0;Q<3;++Q)ne.position[Q]=ne.dataCoordinate[Q]=re[Q];return ne},A.highlight=function(Z){if(Z){var se=Z.index;this.highlightId=[(255&se)/255,(se>>8&255)/255,(se>>16&255)/255,0]}else this.highlightId=[1,1,1,1]},A.update=function(Z){if("perspective"in(Z=Z||{})&&(this.useOrtho=!Z.perspective),"orthographic"in Z&&(this.useOrtho=!!Z.orthographic),"lineWidth"in Z&&(this.lineWidth=Z.lineWidth),"project"in Z)if(Array.isArray(Z.project))this.axesProject=Z.project;else{var se=!!Z.project;this.axesProject=[se,se,se]}if("projectScale"in Z)if(Array.isArray(Z.projectScale))this.projectScale=Z.projectScale.slice();else{var re=+Z.projectScale;this.projectScale=[re,re,re]}if(this.projectHasAlpha=!1,"projectOpacity"in Z){this.projectOpacity=Array.isArray(Z.projectOpacity)?Z.projectOpacity.slice():[re=+Z.projectOpacity,re,re];for(var ne=0;ne<3;++ne)this.projectOpacity[ne]=x(this.projectOpacity[ne]),this.projectOpacity[ne]<1&&(this.projectHasAlpha=!0)}this.hasAlpha=!1,"opacity"in Z&&(this.opacity=x(Z.opacity),this.opacity<1&&(this.hasAlpha=!0)),this.dirty=!0;var Q,ee,oe=Z.position,ce=Z.font||"normal",fe=Z.alignment||[0,0];if(2===fe.length)Q=fe[0],ee=fe[1];else for(Q=[],ee=[],ne=0;ne<fe.length;++ne)Q[ne]=fe[ne][0],ee[ne]=fe[ne][1];var le=[1/0,1/0,1/0],pe=[-1/0,-1/0,-1/0],Me=Z.glyph,Ae=Z.color,be=Z.size,ye=Z.angle,we=Z.lineColor,ze=-1,Se=0,Ce=0,ge=0;if(oe.length){ge=oe.length;e:for(ne=0;ne<ge;++ne){for(var he=oe[ne],_e=0;_e<3;++_e)if(isNaN(he[_e])||!isFinite(he[_e]))continue e;var Le=(mt=W(Me,ne,ce,this.pixelRatio)).mesh,Ie=mt.lines,De=mt.bounds;Se+=3*Le.cells.length,Ce+=2*Ie.edges.length}}var je=Se+Ce,qe=l.mallocFloat(3*je),ve=l.mallocFloat(4*je),Oe=l.mallocFloat(2*je),ke=l.mallocUint32(je);if(je>0){var Be=0,We=Se,Ge=[0,0,0,1],Ke=[0,0,0,1],et=Array.isArray(Ae)&&Array.isArray(Ae[0]),at=Array.isArray(we)&&Array.isArray(we[0]);e:for(ne=0;ne<ge;++ne){for(ze+=1,he=oe[ne],_e=0;_e<3;++_e){if(isNaN(he[_e])||!isFinite(he[_e]))continue e;pe[_e]=Math.max(pe[_e],he[_e]),le[_e]=Math.min(le[_e],he[_e])}Le=(mt=W(Me,ne,ce,this.pixelRatio)).mesh,Ie=mt.lines,De=mt.bounds;var mt,ct=mt.visible;if(ct)if(Array.isArray(Ae)){if(3===(kt=et?ne<Ae.length?Ae[ne]:[0,0,0,0]:Ae).length){for(_e=0;_e<3;++_e)Ge[_e]=kt[_e];Ge[3]=1}else if(4===kt.length){for(_e=0;_e<4;++_e)Ge[_e]=kt[_e];!this.hasAlpha&&kt[3]<1&&(this.hasAlpha=!0)}}else Ge[0]=Ge[1]=Ge[2]=0,Ge[3]=1;else Ge=[1,1,1,0];if(ct)if(Array.isArray(we)){var kt;if(3===(kt=at?ne<we.length?we[ne]:[0,0,0,0]:we).length){for(_e=0;_e<3;++_e)Ke[_e]=kt[_e];Ke[_e]=1}else if(4===kt.length){for(_e=0;_e<4;++_e)Ke[_e]=kt[_e];!this.hasAlpha&&kt[3]<1&&(this.hasAlpha=!0)}}else Ke[0]=Ke[1]=Ke[2]=0,Ke[3]=1;else Ke=[1,1,1,0];var Dt=.5;ct?Array.isArray(be)?Dt=ne<be.length?+be[ne]:12:be?Dt=+be:this.useOrtho&&(Dt=12):Dt=0;var Et=0;Array.isArray(ye)?Et=ne<ye.length?+ye[ne]:0:ye&&(Et=+ye);var ht=Math.cos(Et),pt=Math.sin(Et);for(he=oe[ne],_e=0;_e<3;++_e)pe[_e]=Math.max(pe[_e],he[_e]),le[_e]=Math.min(le[_e],he[_e]);var Pt=Q,zt=ee;Pt=0,Array.isArray(Q)?Pt=ne<Q.length?Q[ne]:0:Q&&(Pt=Q),zt=0,Array.isArray(ee)?zt=ne<ee.length?ee[ne]:0:ee&&(zt=ee);var Ht=[Pt*=Pt>0?1-De[0][0]:Pt<0?1+De[1][0]:1,zt*=zt>0?1-De[0][1]:zt<0?1+De[1][1]:1],Lt=Le.cells||[],tt=Le.positions||[];for(_e=0;_e<Lt.length;++_e)for(var it=Lt[_e],Je=0;Je<3;++Je){for(var ot=0;ot<3;++ot)qe[3*Be+ot]=he[ot];for(ot=0;ot<4;++ot)ve[4*Be+ot]=Ge[ot];ke[Be]=ze;var gt=tt[it[Je]];Oe[2*Be]=Dt*(ht*gt[0]-pt*gt[1]+Ht[0]),Oe[2*Be+1]=Dt*(pt*gt[0]+ht*gt[1]+Ht[1]),Be+=1}for(Lt=Ie.edges,tt=Ie.positions,_e=0;_e<Lt.length;++_e)for(it=Lt[_e],Je=0;Je<2;++Je){for(ot=0;ot<3;++ot)qe[3*We+ot]=he[ot];for(ot=0;ot<4;++ot)ve[4*We+ot]=Ke[ot];ke[We]=ze,Oe[2*We]=Dt*(ht*(gt=tt[it[Je]])[0]-pt*gt[1]+Ht[0]),Oe[2*We+1]=Dt*(pt*gt[0]+ht*gt[1]+Ht[1]),We+=1}}}this.bounds=[le,pe],this.points=oe,this.pointCount=oe.length,this.vertexCount=Se,this.lineVertexCount=Ce,this.pointBuffer.update(qe),this.colorBuffer.update(ve),this.glyphBuffer.update(Oe),this.idBuffer.update(ke),l.free(qe),l.free(ve),l.free(Oe),l.free(ke)},A.dispose=function(){this.shader.dispose(),this.orthoShader.dispose(),this.pickPerspectiveShader.dispose(),this.pickOrthoShader.dispose(),this.vao.dispose(),this.pointBuffer.dispose(),this.colorBuffer.dispose(),this.glyphBuffer.dispose(),this.idBuffer.dispose()}},1884:function(y,c,i){"use strict";var s=i(6832);c.boxVertex=s(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 vertex;\n\nuniform vec2 cornerA, cornerB;\n\nvoid main() {\n  gl_Position = vec4(mix(cornerA, cornerB, vertex), 0, 1);\n}\n"]),c.boxFragment=s(["precision mediump float;\n#define GLSLIFY 1\n\nuniform vec4 color;\n\nvoid main() {\n  gl_FragColor = color;\n}\n"])},6623:function(y,c,i){"use strict";var s=i(5158),a=i(5827),o=i(1884);function l(h,v,p){this.plot=h,this.boxBuffer=v,this.boxShader=p,this.enabled=!0,this.selectBox=[1/0,1/0,-1/0,-1/0],this.borderColor=[0,0,0,1],this.innerFill=!1,this.innerColor=[0,0,0,.25],this.outerFill=!0,this.outerColor=[0,0,0,.5],this.borderWidth=10}y.exports=function(h,v){var p=h.gl,T=new l(h,a(p,[0,0,0,1,1,0,1,1]),s(p,o.boxVertex,o.boxFragment));return T.update(v),h.addOverlay(T),T};var u=l.prototype;u.draw=function(){if(this.enabled){var h=this.plot,v=this.selectBox,p=this.borderWidth,T=this.innerColor,_=this.outerColor,m=this.borderColor,w=h.box,x=h.screenBox,b=h.dataBox,A=h.viewBox,g=h.pixelRatio,I=(v[0]-b[0])*(A[2]-A[0])/(b[2]-b[0])+A[0],S=(v[1]-b[1])*(A[3]-A[1])/(b[3]-b[1])+A[1],O=(v[2]-b[0])*(A[2]-A[0])/(b[2]-b[0])+A[0],R=(v[3]-b[1])*(A[3]-A[1])/(b[3]-b[1])+A[1];if(I=Math.max(I,A[0]),S=Math.max(S,A[1]),O=Math.min(O,A[2]),R=Math.min(R,A[3]),!(O<I||R<S)){w.bind();var L=x[2]-x[0],N=x[3]-x[1];if(this.outerFill&&(w.drawBox(0,0,L,S,_),w.drawBox(0,S,I,R,_),w.drawBox(0,R,L,N,_),w.drawBox(O,S,L,R,_)),this.innerFill&&w.drawBox(I,S,O,R,T),p>0){var j=p*g;w.drawBox(I-j,S-j,O+j,S+j,m),w.drawBox(I-j,R-j,O+j,R+j,m),w.drawBox(I-j,S-j,I+j,R+j,m),w.drawBox(O-j,S-j,O+j,R+j,m)}}}},u.update=function(h){this.innerFill=!!(h=h||{}).innerFill,this.outerFill=!!h.outerFill,this.innerColor=(h.innerColor||[0,0,0,.5]).slice(),this.outerColor=(h.outerColor||[0,0,0,.5]).slice(),this.borderColor=(h.borderColor||[0,0,0,1]).slice(),this.borderWidth=h.borderWidth||0,this.selectBox=(h.selectBox||this.selectBox).slice()},u.dispose=function(){this.boxBuffer.dispose(),this.boxShader.dispose(),this.plot.removeOverlay(this)}},2611:function(y,c,i){"use strict";y.exports=function(p,T){var _=T[0],m=T[1];return new h(p,s(p,_,m,{}),a.mallocUint8(_*m*4))};var s=i(4234),a=i(5306),o=i(5050),l=i(2288).nextPow2;function u(p,T,_,m,w){this.coord=[p,T],this.id=_,this.value=m,this.distance=w}function h(p,T,_){this.gl=p,this.fbo=T,this.buffer=_,this._readTimeout=null;var m=this;this._readCallback=function(){m.gl&&(T.bind(),p.readPixels(0,0,T.shape[0],T.shape[1],p.RGBA,p.UNSIGNED_BYTE,m.buffer),m._readTimeout=null)}}var v=h.prototype;Object.defineProperty(v,"shape",{get:function(){return this.gl?this.fbo.shape.slice():[0,0]},set:function(p){if(this.gl){this.fbo.shape=p;var T=this.fbo.shape[0],_=this.fbo.shape[1];if(_*T*4>this.buffer.length){a.free(this.buffer);for(var m=this.buffer=a.mallocUint8(l(_*T*4)),w=0;w<_*T*4;++w)m[w]=255}return p}}}),v.begin=function(){var p=this.gl;p&&(this.fbo.bind(),p.clearColor(1,1,1,1),p.clear(p.COLOR_BUFFER_BIT|p.DEPTH_BUFFER_BIT))},v.end=function(){var p=this.gl;p&&(p.bindFramebuffer(p.FRAMEBUFFER,null),this._readTimeout||clearTimeout(this._readTimeout),this._readTimeout=setTimeout(this._readCallback,1))},v.query=function(p,T,_){if(!this.gl)return null;var m=this.fbo.shape.slice();p|=0,T|=0,"number"!=typeof _&&(_=1);var w=0|Math.min(Math.max(p-_,0),m[0]),x=0|Math.min(Math.max(p+_,0),m[0]),b=0|Math.min(Math.max(T-_,0),m[1]),A=0|Math.min(Math.max(T+_,0),m[1]);if(x<=w||A<=b)return null;var g=[x-w,A-b],I=o(this.buffer,[g[0],g[1],4],[4,4*m[0],1],4*(w+m[0]*b)),S=function(L,N,j){for(var X=1e8,F=-1,Y=-1,G=L.shape[0],H=L.shape[1],W=0;W<G;W++)for(var Z=0;Z<H;Z++){var se=L.get(W,Z,0),re=L.get(W,Z,1),ne=L.get(W,Z,2),Q=L.get(W,Z,3);if(se<255||re<255||ne<255||Q<255){var ee=N-W,oe=j-Z,ce=ee*ee+oe*oe;ce<X&&(X=ce,F=W,Y=Z)}}return[F,Y,X]}(I.hi(g[0],g[1],1),_,_),O=S[0],R=S[1];return O<0||Math.pow(this.radius,2)<S[2]?null:new u(O+w|0,R+b|0,I.get(O,R,0),[I.get(O,R,1),I.get(O,R,2),I.get(O,R,3)],Math.sqrt(S[2]))},v.dispose=function(){this.gl&&(this.fbo.dispose(),a.free(this.buffer),this.gl=null,this._readTimeout&&clearTimeout(this._readTimeout))}},5158:function(y,c,i){"use strict";var s=i(9016),a=i(4280),o=i(3984),l=i(1628),u=i(2631),h=i(9068);function v(_){this.gl=_,this.gl.lastAttribCount=0,this._vref=this._fref=this._relink=this.vertShader=this.fragShader=this.program=this.attributes=this.uniforms=this.types=null}var p=v.prototype;function T(_,m){return _.name<m.name?-1:1}p.bind=function(){var _;this.program||this._relink();var m=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES),w=this.gl.lastAttribCount;if(m>w)for(_=w;_<m;_++)this.gl.enableVertexAttribArray(_);else if(w>m)for(_=m;_<w;_++)this.gl.disableVertexAttribArray(_);this.gl.lastAttribCount=m,this.gl.useProgram(this.program)},p.dispose=function(){for(var _=this.gl.lastAttribCount,m=0;m<_;m++)this.gl.disableVertexAttribArray(m);this.gl.lastAttribCount=0,this._fref&&this._fref.dispose(),this._vref&&this._vref.dispose(),this.attributes=this.types=this.vertShader=this.fragShader=this.program=this._relink=this._fref=this._vref=null},p.update=function(_,m,w,x){if(!m||1===arguments.length){var b=_;_=b.vertex,m=b.fragment,w=b.uniforms,x=b.attributes}var A=this,g=A.gl,I=A._vref;A._vref=l.shader(g,g.VERTEX_SHADER,_),I&&I.dispose(),A.vertShader=A._vref.shader;var S=this._fref;if(A._fref=l.shader(g,g.FRAGMENT_SHADER,m),S&&S.dispose(),A.fragShader=A._fref.shader,!w||!x){var O=g.createProgram();if(g.attachShader(O,A.fragShader),g.attachShader(O,A.vertShader),g.linkProgram(O),!g.getProgramParameter(O,g.LINK_STATUS)){var R=g.getProgramInfoLog(O);throw new h(R,"Error linking program:"+R)}w=w||u.uniforms(g,O),x=x||u.attributes(g,O),g.deleteProgram(O)}(x=x.slice()).sort(T);var L,N=[],j=[],X=[];for(L=0;L<x.length;++L){var F=x[L];if(F.type.indexOf("mat")>=0){for(var Y=0|F.type.charAt(F.type.length-1),G=new Array(Y),H=0;H<Y;++H)G[H]=X.length,j.push(F.name+"["+H+"]"),"number"==typeof F.location?X.push(F.location+H):Array.isArray(F.location)&&F.location.length===Y&&"number"==typeof F.location[H]?X.push(0|F.location[H]):X.push(-1);N.push({name:F.name,type:F.type,locations:G})}else N.push({name:F.name,type:F.type,locations:[X.length]}),j.push(F.name),X.push("number"==typeof F.location?0|F.location:-1)}var W=0;for(L=0;L<X.length;++L)if(X[L]<0){for(;X.indexOf(W)>=0;)W+=1;X[L]=W}var Z=new Array(w.length);function se(){A.program=l.program(g,A._vref,A._fref,j,X);for(var re=0;re<w.length;++re)Z[re]=g.getUniformLocation(A.program,w[re].name)}se(),A._relink=se,A.types={uniforms:o(w),attributes:o(x)},A.attributes=a(g,A,N,X),Object.defineProperty(A,"uniforms",s(g,A,w,Z))},y.exports=function(_,m,w,x,b){var A=new v(_);return A.update(m,w,x,b),A}},9068:function(y){function c(i,s,a){this.shortMessage=s||"",this.longMessage=a||"",this.rawError=i||"",this.message="gl-shader: "+(s||i||"")+(a?"\n"+a:""),this.stack=(new Error).stack}(c.prototype=new Error).name="GLError",c.prototype.constructor=c,y.exports=c},4280:function(y,c,i){"use strict";y.exports=function(v,p,T,_){for(var m={},w=0,x=T.length;w<x;++w){var b=T[w],A=b.name,g=b.type,I=b.locations;switch(g){case"bool":case"int":case"float":u(v,p,I[0],_,1,m,A);break;default:if(g.indexOf("vec")>=0){if((S=g.charCodeAt(g.length-1)-48)<2||S>4)throw new s("","Invalid data type for attribute "+A+": "+g);u(v,p,I[0],_,S,m,A)}else{if(!(g.indexOf("mat")>=0))throw new s("","Unknown data type for attribute "+A+": "+g);var S;if((S=g.charCodeAt(g.length-1)-48)<2||S>4)throw new s("","Invalid data type for attribute "+A+": "+g);h(v,p,I,_,S,m,A)}}}return m};var s=i(9068);function a(v,p,T,_,m,w){this._gl=v,this._wrapper=p,this._index=T,this._locations=_,this._dimension=m,this._constFunc=w}var o=a.prototype;o.pointer=function(v,p,T,_){var m=this,w=m._gl,x=m._locations[m._index];w.vertexAttribPointer(x,m._dimension,v||w.FLOAT,!!p,T||0,_||0),w.enableVertexAttribArray(x)},o.set=function(v,p,T,_){return this._constFunc(this._locations[this._index],v,p,T,_)},Object.defineProperty(o,"location",{get:function(){return this._locations[this._index]},set:function(v){return v!==this._locations[this._index]&&(this._locations[this._index]=0|v,this._wrapper.program=null),0|v}});var l=[function(v,p,T){return void 0===T.length?v.vertexAttrib1f(p,T):v.vertexAttrib1fv(p,T)},function(v,p,T,_){return void 0===T.length?v.vertexAttrib2f(p,T,_):v.vertexAttrib2fv(p,T)},function(v,p,T,_,m){return void 0===T.length?v.vertexAttrib3f(p,T,_,m):v.vertexAttrib3fv(p,T)},function(v,p,T,_,m,w){return void 0===T.length?v.vertexAttrib4f(p,T,_,m,w):v.vertexAttrib4fv(p,T)}];function u(v,p,T,_,m,w,x){var b=l[m],A=new a(v,p,T,_,m,b);Object.defineProperty(w,x,{set:function(g){return v.disableVertexAttribArray(_[T]),b(v,_[T],g),g},get:function(){return A},enumerable:!0})}function h(v,p,T,_,m,w,x){for(var b=new Array(m),A=new Array(m),g=0;g<m;++g)u(v,p,T[g],_,m,b,g),A[g]=b[g];Object.defineProperty(b,"location",{set:function(O){if(Array.isArray(O))for(var R=0;R<m;++R)A[R].location=O[R];else for(R=0;R<m;++R)A[R].location=O+R;return O},get:function(){for(var O=new Array(m),R=0;R<m;++R)O[R]=_[T[R]];return O},enumerable:!0}),b.pointer=function(O,R,L,N){O=O||v.FLOAT,R=!!R,L=L||m*m,N=N||0;for(var j=0;j<m;++j){var X=_[T[j]];v.vertexAttribPointer(X,m,O,R,L,N+j*m),v.enableVertexAttribArray(X)}};var I=new Array(m),S=v["vertexAttrib"+m+"fv"];Object.defineProperty(w,x,{set:function(O){for(var R=0;R<m;++R){var L=_[T[R]];if(v.disableVertexAttribArray(L),Array.isArray(O[0]))S.call(v,L,O[R]);else{for(var N=0;N<m;++N)I[N]=O[m*R+N];S.call(v,L,I)}}return O},get:function(){return b},enumerable:!0})}},9016:function(y,c,i){"use strict";var s=i(3984),a=i(9068);function o(u){return function(){return u}}function l(u,h){for(var v=new Array(u),p=0;p<u;++p)v[p]=h;return v}y.exports=function(u,h,v,p){function T(b){return function(A){for(var g=_("",b),I=0;I<g.length;++I){var S=g[I],O=S[0],R=S[1];if(p[R]){var L=A;if("string"==typeof O&&(0===O.indexOf(".")||0===O.indexOf("["))){var N=O;if(0===O.indexOf(".")&&(N=O.slice(1)),N.indexOf("]")===N.length-1){var j=N.indexOf("["),X=N.slice(0,j),F=N.slice(j+1,N.length-1);L=X?A[X][F]:A[F]}else L=A[N]}var Y,G=v[R].type;switch(G){case"bool":case"int":case"sampler2D":case"samplerCube":u.uniform1i(p[R],L);break;case"float":u.uniform1f(p[R],L);break;default:var H=G.indexOf("vec");if(!(0<=H&&H<=1&&G.length===4+H)){if(0===G.indexOf("mat")&&4===G.length){if((Y=G.charCodeAt(G.length-1)-48)<2||Y>4)throw new a("","Invalid uniform dimension type for matrix "+name+": "+G);u["uniformMatrix"+Y+"fv"](p[R],!1,L);break}throw new a("","Unknown uniform data type for "+name+": "+G)}if((Y=G.charCodeAt(G.length-1)-48)<2||Y>4)throw new a("","Invalid data type");switch(G.charAt(0)){case"b":case"i":u["uniform"+Y+"iv"](p[R],L);break;case"v":u["uniform"+Y+"fv"](p[R],L);break;default:throw new a("","Unrecognized data type for vector "+name+": "+G)}}}}}}function _(b,A){if("object"!=typeof A)return[[b,A]];var g=[];for(var I in A){var S=A[I],O=b;parseInt(I)+""===I?O+="["+I+"]":O+="."+I,"object"==typeof S?g.push.apply(g,_(O,S)):g.push([O,S])}return g}function m(b,A,g){if("object"==typeof g){var I=w(g);Object.defineProperty(b,A,{get:o(I),set:T(g),enumerable:!0,configurable:!1})}else p[g]?Object.defineProperty(b,A,{get:(S=g,function(O,R,L){return O.getUniform(R.program,L[S])}),set:T(g),enumerable:!0,configurable:!1}):b[A]=function(O){switch(O){case"bool":return!1;case"int":case"sampler2D":case"samplerCube":case"float":return 0;default:var R=O.indexOf("vec");if(0<=R&&R<=1&&O.length===4+R){if((L=O.charCodeAt(O.length-1)-48)<2||L>4)throw new a("","Invalid data type");return"b"===O.charAt(0)?l(L,!1):l(L,0)}if(0===O.indexOf("mat")&&4===O.length){var L;if((L=O.charCodeAt(O.length-1)-48)<2||L>4)throw new a("","Invalid uniform dimension type for matrix "+name+": "+O);return l(L*L,0)}throw new a("","Unknown uniform data type for "+name+": "+O)}}(v[g].type);var S}function w(b){var A;if(Array.isArray(b)){A=new Array(b.length);for(var g=0;g<b.length;++g)m(A,g,b[g])}else for(var I in A={},b)m(A,I,b[I]);return A}var x=s(v,!0);return{get:o(w(x)),set:T(x),enumerable:!0,configurable:!0}}},3984:function(y){"use strict";y.exports=function(c,i){for(var s={},a=0;a<c.length;++a)for(var o=c[a].name.split("."),l=s,u=0;u<o.length;++u){var h=o[u].split("[");if(h.length>1){h[0]in l||(l[h[0]]=[]),l=l[h[0]];for(var v=1;v<h.length;++v){var p=parseInt(h[v]);v<h.length-1||u<o.length-1?(p in l||(l[p]=v<h.length-1?[]:{}),l=l[p]):l[p]=i?a:c[a].type}}else u<o.length-1?(h[0]in l||(l[h[0]]={}),l=l[h[0]]):l[h[0]]=i?a:c[a].type}return s}},2631:function(y,c){"use strict";c.uniforms=function(o,l){for(var u=o.getProgramParameter(l,o.ACTIVE_UNIFORMS),h=[],v=0;v<u;++v){var p=o.getActiveUniform(l,v);if(p){var T=a(o,p.type);if(p.size>1)for(var _=0;_<p.size;++_)h.push({name:p.name.replace("[0]","["+_+"]"),type:T});else h.push({name:p.name,type:T})}}return h},c.attributes=function(o,l){for(var u=o.getProgramParameter(l,o.ACTIVE_ATTRIBUTES),h=[],v=0;v<u;++v){var p=o.getActiveAttrib(l,v);p&&h.push({name:p.name,type:a(o,p.type)})}return h};var i={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube"},s=null;function a(o,l){if(!s){var u=Object.keys(i);s={};for(var h=0;h<u.length;++h){var v=u[h];s[o[v]]=i[v]}}return s[l]}},1628:function(y,c,i){"use strict";c.shader=function(T,_,m){return p(T).getShaderReference(_,m)},c.program=function(T,_,m,w,x){return p(T).getProgram(_,m,w,x)};var s=i(9068),a=i(3530),o=new(typeof WeakMap>"u"?i(4037):WeakMap),l=0;function u(T,_,m,w,x,b,A){this.id=T,this.src=_,this.type=m,this.shader=w,this.count=b,this.programs=[],this.cache=A}function h(T){this.gl=T,this.shaders=[{},{}],this.programs={}}u.prototype.dispose=function(){if(0==--this.count){for(var T=this.cache,_=T.gl,m=this.programs,w=0,x=m.length;w<x;++w){var b=T.programs[m[w]];b&&(delete T.programs[w],_.deleteProgram(b))}_.deleteShader(this.shader),delete T.shaders[this.type===_.FRAGMENT_SHADER|0][this.src]}};var v=h.prototype;function p(T){var _=o.get(T);return _||(_=new h(T),o.set(T,_)),_}v.getShaderReference=function(T,_){var m=this.gl,w=this.shaders[T===m.FRAGMENT_SHADER|0],x=w[_];if(x&&m.isShader(x.shader))x.count+=1;else{var b=function(A,g,I){var S=A.createShader(g);if(A.shaderSource(S,I),A.compileShader(S),!A.getShaderParameter(S,A.COMPILE_STATUS)){var O=A.getShaderInfoLog(S);try{var R=a(O,I,g)}catch(L){throw console.warn("Failed to format compiler error: "+L),new s(O,"Error compiling shader:\n"+O)}throw new s(O,R.short,R.long)}return S}(m,T,_);x=w[_]=new u(l++,_,T,b,[],1,this)}return x},v.getProgram=function(T,_,m,w){var x=[T.id,_.id,m.join(":"),w.join(":")].join("@"),b=this.programs[x];return b&&this.gl.isProgram(b)||(this.programs[x]=b=function(A,g,I,S,O){var R=A.createProgram();A.attachShader(R,g),A.attachShader(R,I);for(var L=0;L<S.length;++L)A.bindAttribLocation(R,O[L],S[L]);if(A.linkProgram(R),!A.getProgramParameter(R,A.LINK_STATUS)){var N=A.getProgramInfoLog(R);throw new s(N,"Error linking program: "+N)}return R}(this.gl,T.shader,_.shader,m,w),T.programs.push(x),_.programs.push(x)),b}},3050:function(y){"use strict";function c(s){this.plot=s,this.enable=[!0,!0,!1,!1],this.width=[1,1,1,1],this.color=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.center=[1/0,1/0]}y.exports=function(s,a){var o=new c(s);return o.update(a),s.addOverlay(o),o};var i=c.prototype;i.update=function(s){this.enable=((s=s||{}).enable||[!0,!0,!1,!1]).slice(),this.width=(s.width||[1,1,1,1]).slice(),this.color=(s.color||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]).map(function(a){return a.slice()}),this.center=(s.center||[1/0,1/0]).slice(),this.plot.setOverlayDirty()},i.draw=function(){var s=this.enable,a=this.width,o=this.color,l=this.center,u=this.plot,h=u.line,v=u.dataBox,p=u.viewBox;if(h.bind(),v[0]<=l[0]&&l[0]<=v[2]&&v[1]<=l[1]&&l[1]<=v[3]){var T=p[0]+(l[0]-v[0])/(v[2]-v[0])*(p[2]-p[0]),_=p[1]+(l[1]-v[1])/(v[3]-v[1])*(p[3]-p[1]);s[0]&&h.drawLine(T,_,p[0],_,a[0],o[0]),s[1]&&h.drawLine(T,_,T,p[1],a[1],o[1]),s[2]&&h.drawLine(T,_,p[2],_,a[2],o[2]),s[3]&&h.drawLine(T,_,T,p[3],a[3],o[3])}},i.dispose=function(){this.plot.removeOverlay(this)}},3540:function(y,c,i){"use strict";var s=i(6832),a=i(5158),o=s(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec3 position, color;\nattribute float weight;\n\nuniform mat4 model, view, projection;\nuniform vec3 coordinates[3];\nuniform vec4 colors[3];\nuniform vec2 screenShape;\nuniform float lineWidth;\n\nvarying vec4 fragColor;\n\nvoid main() {\n  vec3 vertexPosition = mix(coordinates[0],\n    mix(coordinates[2], coordinates[1], 0.5 * (position + 1.0)), abs(position));\n\n  vec4 clipPos = projection * view * model * vec4(vertexPosition, 1.0);\n  vec2 clipOffset = (projection * view * model * vec4(color, 0.0)).xy;\n  vec2 delta = weight * clipOffset * screenShape;\n  vec2 lineOffset = normalize(vec2(delta.y, -delta.x)) / screenShape;\n\n  gl_Position   = vec4(clipPos.xy + clipPos.w * 0.5 * lineWidth * lineOffset, clipPos.z, clipPos.w);\n  fragColor     = color.x * colors[0] + color.y * colors[1] + color.z * colors[2];\n}\n"]),l=s(["precision mediump float;\n#define GLSLIFY 1\n\nvarying vec4 fragColor;\n\nvoid main() {\n  gl_FragColor = fragColor;\n}"]);y.exports=function(u){return a(u,o,l,null,[{name:"position",type:"vec3"},{name:"color",type:"vec3"},{name:"weight",type:"float"}])}},6496:function(y,c,i){"use strict";var s=i(5827),a=i(2944),o=i(3540);y.exports=function(_,m){var w=[];function x(S,O,R,L,N,j){var X=[S,O,R,0,0,0,1];X[L+3]=1,X[L]=N,w.push.apply(w,X),X[6]=-1,w.push.apply(w,X),X[L]=j,w.push.apply(w,X),w.push.apply(w,X),X[6]=1,w.push.apply(w,X),X[L]=N,w.push.apply(w,X)}x(0,0,0,0,0,1),x(0,0,0,1,0,1),x(0,0,0,2,0,1),x(1,0,0,1,-1,1),x(1,0,0,2,-1,1),x(0,1,0,0,-1,1),x(0,1,0,2,-1,1),x(0,0,1,0,-1,1),x(0,0,1,1,-1,1);var b=s(_,w),A=a(_,[{type:_.FLOAT,buffer:b,size:3,offset:0,stride:28},{type:_.FLOAT,buffer:b,size:3,offset:12,stride:28},{type:_.FLOAT,buffer:b,size:1,offset:24,stride:28}]),g=o(_);g.attributes.position.location=0,g.attributes.color.location=1,g.attributes.weight.location=2;var I=new u(_,b,A,g);return I.update(m),I};var l=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function u(_,m,w,x){this.gl=_,this.buffer=m,this.vao=w,this.shader=x,this.pixelRatio=1,this.bounds=[[-1e3,-1e3,-1e3],[1e3,1e3,1e3]],this.position=[0,0,0],this.lineWidth=[2,2,2],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.enabled=[!0,!0,!0],this.drawSides=[!0,!0,!0],this.axes=null}var h=u.prototype,v=[0,0,0],p=[0,0,0],T=[0,0];h.isTransparent=function(){return!1},h.drawTransparent=function(_){},h.draw=function(_){var m=this.gl,w=this.vao,x=this.shader;w.bind(),x.bind();var b,A=_.model||l,g=_.view||l,I=_.projection||l;this.axes&&(b=this.axes.lastCubeProps.axis);for(var S=v,O=p,R=0;R<3;++R)b&&b[R]<0?(S[R]=this.bounds[0][R],O[R]=this.bounds[1][R]):(S[R]=this.bounds[1][R],O[R]=this.bounds[0][R]);for(T[0]=m.drawingBufferWidth,T[1]=m.drawingBufferHeight,x.uniforms.model=A,x.uniforms.view=g,x.uniforms.projection=I,x.uniforms.coordinates=[this.position,S,O],x.uniforms.colors=this.colors,x.uniforms.screenShape=T,R=0;R<3;++R)x.uniforms.lineWidth=this.lineWidth[R]*this.pixelRatio,this.enabled[R]&&(w.draw(m.TRIANGLES,6,6*R),this.drawSides[R]&&w.draw(m.TRIANGLES,12,18+12*R));w.unbind()},h.update=function(_){_&&("bounds"in _&&(this.bounds=_.bounds),"position"in _&&(this.position=_.position),"lineWidth"in _&&(this.lineWidth=_.lineWidth),"colors"in _&&(this.colors=_.colors),"enabled"in _&&(this.enabled=_.enabled),"drawSides"in _&&(this.drawSides=_.drawSides))},h.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()}},9578:function(y,c,i){var s=i(6832),a=s(["precision highp float;\n\nprecision highp float;\n#define GLSLIFY 1\n\nvec3 getOrthogonalVector(vec3 v) {\n  // Return up-vector for only-z vector.\n  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).\n  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.\n  // Assign z = 0, x = -b, y = a:\n  // a*-b + b*a + c*0 = -ba + ba + 0 = 0\n  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {\n    return normalize(vec3(-v.y, v.x, 0.0));\n  } else {\n    return normalize(vec3(0.0, v.z, -v.y));\n  }\n}\n\n// Calculate the tube vertex and normal at the given index.\n//\n// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.\n//\n// Each tube segment is made up of a ring of vertices.\n// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.\n// The indexes of tube segments run from 0 to 8.\n//\nvec3 getTubePosition(vec3 d, float index, out vec3 normal) {\n  float segmentCount = 8.0;\n\n  float angle = 2.0 * 3.14159 * (index / segmentCount);\n\n  vec3 u = getOrthogonalVector(d);\n  vec3 v = normalize(cross(u, d));\n\n  vec3 x = u * cos(angle) * length(d);\n  vec3 y = v * sin(angle) * length(d);\n  vec3 v3 = x + y;\n\n  normal = normalize(v3);\n\n  return v3;\n}\n\nattribute vec4 vector;\nattribute vec4 color, position;\nattribute vec2 uv;\n\nuniform float vectorScale, tubeScale;\nuniform mat4 model, view, projection, inverseModel;\nuniform vec3 eyePosition, lightPosition;\n\nvarying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  // Scale the vector magnitude to stay constant with\n  // model & view changes.\n  vec3 normal;\n  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);\n  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);\n\n  //Lighting geometry parameters\n  vec4 cameraCoordinate = view * tubePosition;\n  cameraCoordinate.xyz /= cameraCoordinate.w;\n  f_lightDirection = lightPosition - cameraCoordinate.xyz;\n  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;\n  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);\n\n  // vec4 m_position  = model * vec4(tubePosition, 1.0);\n  vec4 t_position  = view * tubePosition;\n  gl_Position      = projection * t_position;\n\n  f_color          = color;\n  f_data           = tubePosition.xyz;\n  f_position       = position.xyz;\n  f_uv             = uv;\n}\n"]),o=s(["#extension GL_OES_standard_derivatives : enable\n\nprecision highp float;\n#define GLSLIFY 1\n\nfloat beckmannDistribution(float x, float roughness) {\n  float NdotH = max(x, 0.0001);\n  float cos2Alpha = NdotH * NdotH;\n  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;\n  float roughness2 = roughness * roughness;\n  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;\n  return exp(tan2Alpha / roughness2) / denom;\n}\n\nfloat cookTorranceSpecular(\n  vec3 lightDirection,\n  vec3 viewDirection,\n  vec3 surfaceNormal,\n  float roughness,\n  float fresnel) {\n\n  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);\n  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);\n\n  //Half angle vector\n  vec3 H = normalize(lightDirection + viewDirection);\n\n  //Geometric term\n  float NdotH = max(dot(surfaceNormal, H), 0.0);\n  float VdotH = max(dot(viewDirection, H), 0.000001);\n  float LdotH = max(dot(lightDirection, H), 0.000001);\n  float G1 = (2.0 * NdotH * VdotN) / VdotH;\n  float G2 = (2.0 * NdotH * LdotN) / LdotH;\n  float G = min(1.0, min(G1, G2));\n  \n  //Distribution term\n  float D = beckmannDistribution(NdotH, roughness);\n\n  //Fresnel term\n  float F = pow(1.0 - VdotN, fresnel);\n\n  //Multiply terms and done\n  return  G * F * D / max(3.14159265 * VdotN, 0.000001);\n}\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 clipBounds[2];\nuniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;\nuniform sampler2D texture;\n\nvarying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;\n  vec3 N = normalize(f_normal);\n  vec3 L = normalize(f_lightDirection);\n  vec3 V = normalize(f_eyeDirection);\n\n  if(gl_FrontFacing) {\n    N = -N;\n  }\n\n  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));\n  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);\n\n  vec4 surfaceColor = f_color * texture2D(texture, f_uv);\n  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);\n\n  gl_FragColor = litColor * opacity;\n}\n"]),l=s(["precision highp float;\n\nprecision highp float;\n#define GLSLIFY 1\n\nvec3 getOrthogonalVector(vec3 v) {\n  // Return up-vector for only-z vector.\n  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).\n  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.\n  // Assign z = 0, x = -b, y = a:\n  // a*-b + b*a + c*0 = -ba + ba + 0 = 0\n  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {\n    return normalize(vec3(-v.y, v.x, 0.0));\n  } else {\n    return normalize(vec3(0.0, v.z, -v.y));\n  }\n}\n\n// Calculate the tube vertex and normal at the given index.\n//\n// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.\n//\n// Each tube segment is made up of a ring of vertices.\n// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.\n// The indexes of tube segments run from 0 to 8.\n//\nvec3 getTubePosition(vec3 d, float index, out vec3 normal) {\n  float segmentCount = 8.0;\n\n  float angle = 2.0 * 3.14159 * (index / segmentCount);\n\n  vec3 u = getOrthogonalVector(d);\n  vec3 v = normalize(cross(u, d));\n\n  vec3 x = u * cos(angle) * length(d);\n  vec3 y = v * sin(angle) * length(d);\n  vec3 v3 = x + y;\n\n  normal = normalize(v3);\n\n  return v3;\n}\n\nattribute vec4 vector;\nattribute vec4 position;\nattribute vec4 id;\n\nuniform mat4 model, view, projection;\nuniform float tubeScale;\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  vec3 normal;\n  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);\n  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);\n\n  gl_Position = projection * view * tubePosition;\n  f_id        = id;\n  f_position  = position.xyz;\n}\n"]),u=s(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3  clipBounds[2];\nuniform float pickId;\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;\n\n  gl_FragColor = vec4(pickId, f_id.xyz);\n}"]);c.meshShader={vertex:a,fragment:o,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec4"}]},c.pickShader={vertex:l,fragment:u,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec4"}]}},7307:function(y,c,i){"use strict";var s=i(2858),a=i(4020),o=["xyz","xzy","yxz","yzx","zxy","zyx"],l=function(T,_){var m,w=T.length;for(m=0;m<w;m++){var x=T[m];if(x===_)return m;if(x>_)return m-1}return m},u=function(T,_,m){return T<_?_:T>m?m:T},h=function(T){var _=1/0;T.sort(function(b,A){return b-A});for(var m=T.length,w=1;w<m;w++){var x=Math.abs(T[w]-T[w-1]);x<_&&(_=x)}return _};y.exports=function(T,_){var m=T.startingPositions,w=T.maxLength||1e3,x=T.tubeSize||1,b=T.absoluteTubeSize,A=T.gridFill||"+x+y+z",g={};-1!==A.indexOf("-x")&&(g.reversedX=!0),-1!==A.indexOf("-y")&&(g.reversedY=!0),-1!==A.indexOf("-z")&&(g.reversedZ=!0),g.filled=o.indexOf(A.replace(/-/g,"").replace(/\+/g,""));var we,ze,Se,Ce,I=T.getVelocity||function(we){return function(ze,Se,Ce){var ge=Se.vectors,he=Se.meshgrid,_e=ze[0],Le=ze[1],Ie=ze[2],De=he[0].length,je=he[1].length,qe=he[2].length,ve=l(he[0],_e),Oe=l(he[1],Le),ke=l(he[2],Ie),Be=ve+1,We=Oe+1,Ge=ke+1;if(ve=u(ve,0,De-1),Be=u(Be,0,De-1),Oe=u(Oe,0,je-1),We=u(We,0,je-1),ke=u(ke,0,qe-1),Ge=u(Ge,0,qe-1),ve<0||Oe<0||ke<0||Be>De-1||We>je-1||Ge>qe-1)return s.create();var Ke,et,at,mt,ct,kt,Dt=he[0][ve],ht=he[1][Oe],Pt=he[2][ke],zt=(_e-Dt)/(he[0][Be]-Dt),Ht=(Le-ht)/(he[1][We]-ht),Lt=(Ie-Pt)/(he[2][Ge]-Pt);switch(isFinite(zt)||(zt=.5),isFinite(Ht)||(Ht=.5),isFinite(Lt)||(Lt=.5),Ce.reversedX&&(ve=De-1-ve,Be=De-1-Be),Ce.reversedY&&(Oe=je-1-Oe,We=je-1-We),Ce.reversedZ&&(ke=qe-1-ke,Ge=qe-1-Ge),Ce.filled){case 5:ct=ke,kt=Ge,at=Oe*qe,mt=We*qe,Ke=ve*qe*je,et=Be*qe*je;break;case 4:ct=ke,kt=Ge,Ke=ve*qe,et=Be*qe,at=Oe*qe*De,mt=We*qe*De;break;case 3:at=Oe,mt=We,ct=ke*je,kt=Ge*je,Ke=ve*je*qe,et=Be*je*qe;break;case 2:at=Oe,mt=We,Ke=ve*je,et=Be*je,ct=ke*je*De,kt=Ge*je*De;break;case 1:Ke=ve,et=Be,ct=ke*De,kt=Ge*De,at=Oe*De*qe,mt=We*De*qe;break;default:Ke=ve,et=Be,at=Oe*De,mt=We*De,ct=ke*De*je,kt=Ge*De*je}var tt=ge[Ke+at+ct],it=ge[Ke+at+kt],Je=ge[Ke+mt+ct],ot=ge[Ke+mt+kt],gt=ge[et+at+ct],ft=ge[et+at+kt],Ue=ge[et+mt+ct],$e=ge[et+mt+kt],dt=s.create(),ut=s.create(),At=s.create(),wt=s.create();s.lerp(dt,tt,gt,zt),s.lerp(ut,it,ft,zt),s.lerp(At,Je,Ue,zt),s.lerp(wt,ot,$e,zt);var St=s.create(),_t=s.create();s.lerp(St,dt,At,Ht),s.lerp(_t,ut,wt,Ht);var Rt=s.create();return s.lerp(Rt,St,_t,Lt),Rt}(we,T,g)},S=T.getDivergence||function(we,ze){var Se=s.create(),Ce=1e-4;s.add(Se,we,[Ce,0,0]);var ge=I(Se);s.subtract(ge,ge,ze),s.scale(ge,ge,1/Ce),s.add(Se,we,[0,Ce,0]);var he=I(Se);s.subtract(he,he,ze),s.scale(he,he,1/Ce),s.add(Se,we,[0,0,Ce]);var _e=I(Se);return s.subtract(_e,_e,ze),s.scale(_e,_e,1/Ce),s.add(Se,ge,he),s.add(Se,Se,_e),Se},O=[],R=_[0][0],L=_[0][1],N=_[0][2],j=_[1][0],X=_[1][1],F=_[1][2],G=10*s.distance(_[0],_[1])/w,H=G*G,W=1,Z=0,se=m.length;se>1&&(W=function(we){for(var ze=[],Se=[],Ce=[],ge={},he={},_e={},Le=we.length,Ie=0;Ie<Le;Ie++){var De=we[Ie],je=De[0],qe=De[1],ve=De[2];ge[je]||(ze.push(je),ge[je]=!0),he[qe]||(Se.push(qe),he[qe]=!0),_e[ve]||(Ce.push(ve),_e[ve]=!0)}var Oe=h(ze),ke=h(Se),Be=h(Ce),We=Math.min(Oe,ke,Be);return isFinite(We)?We:1}(m));for(var re=0;re<se;re++){var ne=s.create();s.copy(ne,m[re]);var Q=[ne],ee=[],oe=I(ne),ce=ne;ee.push(oe);var fe=[],le=S(ne,oe),pe=s.length(le);isFinite(pe)&&pe>Z&&(Z=pe),fe.push(pe),O.push({points:Q,velocities:ee,divergences:fe});for(var Me=0;Me<100*w&&Q.length<w&&(ze=void 0,Se=void 0,Ce=void 0,Se=(we=ne)[1],Ce=we[2],!((ze=we[0])<R||ze>j||Se<L||Se>X||Ce<N||Ce>F));){Me++;var Ae=s.clone(oe),be=s.squaredLength(Ae);if(0===be)break;be>H&&s.scale(Ae,Ae,G/Math.sqrt(be)),s.add(Ae,Ae,ne),oe=I(Ae),s.squaredDistance(ce,Ae)-H>-1e-4*H&&(Q.push(Ae),ce=Ae,ee.push(oe),le=S(Ae,oe),pe=s.length(le),isFinite(pe)&&pe>Z&&(Z=pe),fe.push(pe)),ne=Ae}}var ye=function(we,ze,Se,Ce){for(var ge=0,he=0;he<we.length;he++)for(var _e=we[he].velocities,Le=0;Le<_e.length;Le++)ge=Math.max(ge,s.length(_e[Le]));var Ie=we.map(function(Ke){return function(et,at,mt,ct){for(var kt=et.points,Dt=et.velocities,Et=et.divergences,ht=[],pt=[],Pt=[],zt=[],Ht=[],Lt=[],tt=0,it=0,Je=a.create(),ot=a.create(),gt=0;gt<kt.length;gt++){var ft=kt[gt],Ue=Dt[gt],$e=Et[gt];0===at&&($e=.05*mt),it=s.length(Ue)/ct,Je=a.create(),s.copy(Je,Ue),Je[3]=$e;for(var dt=0;dt<8;dt++)Ht[dt]=[ft[0],ft[1],ft[2],dt];if(zt.length>0)for(dt=0;dt<8;dt++){var ut=(dt+1)%8;ht.push(zt[dt],Ht[dt],Ht[ut],Ht[ut],zt[ut],zt[dt]),Pt.push(ot,Je,Je,Je,ot,ot),Lt.push(tt,it,it,it,tt,tt);var At=ht.length;pt.push([At-6,At-5,At-4],[At-3,At-2,At-1])}var wt=zt;zt=Ht,Ht=wt;var St=ot;ot=Je,Je=St;var _t=tt;tt=it,it=_t}return{positions:ht,cells:pt,vectors:Pt,vertexIntensity:Lt}}(Ke,Se,Ce,ge)}),De=[],je=[],qe=[],ve=[];for(he=0;he<Ie.length;he++){var Oe=Ie[he],ke=De.length;for(De=De.concat(Oe.positions),qe=qe.concat(Oe.vectors),ve=ve.concat(Oe.vertexIntensity),Le=0;Le<Oe.cells.length;Le++){var Be=Oe.cells[Le],We=[];je.push(We);for(var Ge=0;Ge<Be.length;Ge++)We.push(Be[Ge]+ke)}}return{positions:De,cells:je,vectors:qe,vertexIntensity:ve,colormap:ze}}(O,T.colormap,Z,W);return b?ye.tubeScale=b:(0===Z&&(Z=1),ye.tubeScale=.5*x*W/Z),ye};var v=i(9578),p=i(1140).createMesh;y.exports.createTubeMesh=function(T,_){return p(T,_,{shaders:v,traceType:"streamtube"})}},9054:function(y,c,i){var s=i(5158),a=i(6832),o=a(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec4 uv;\nattribute vec3 f;\nattribute vec3 normal;\n\nuniform vec3 objectOffset;\nuniform mat4 model, view, projection, inverseModel;\nuniform vec3 lightPosition, eyePosition;\nuniform sampler2D colormap;\n\nvarying float value, kill;\nvarying vec3 worldCoordinate;\nvarying vec2 planeCoordinate;\nvarying vec3 lightDirection, eyeDirection, surfaceNormal;\nvarying vec4 vColor;\n\nvoid main() {\n  vec3 localCoordinate = vec3(uv.zw, f.x);\n  worldCoordinate = objectOffset + localCoordinate;\n  vec4 worldPosition = model * vec4(worldCoordinate, 1.0);\n  vec4 clipPosition = projection * view * worldPosition;\n  gl_Position = clipPosition;\n  kill = f.y;\n  value = f.z;\n  planeCoordinate = uv.xy;\n\n  vColor = texture2D(colormap, vec2(value, value));\n\n  //Lighting geometry parameters\n  vec4 cameraCoordinate = view * worldPosition;\n  cameraCoordinate.xyz /= cameraCoordinate.w;\n  lightDirection = lightPosition - cameraCoordinate.xyz;\n  eyeDirection   = eyePosition - cameraCoordinate.xyz;\n  surfaceNormal  = normalize((vec4(normal,0) * inverseModel).xyz);\n}\n"]),l=a(["precision highp float;\n#define GLSLIFY 1\n\nfloat beckmannDistribution(float x, float roughness) {\n  float NdotH = max(x, 0.0001);\n  float cos2Alpha = NdotH * NdotH;\n  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;\n  float roughness2 = roughness * roughness;\n  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;\n  return exp(tan2Alpha / roughness2) / denom;\n}\n\nfloat beckmannSpecular(\n  vec3 lightDirection,\n  vec3 viewDirection,\n  vec3 surfaceNormal,\n  float roughness) {\n  return beckmannDistribution(dot(surfaceNormal, normalize(lightDirection + viewDirection)), roughness);\n}\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 lowerBound, upperBound;\nuniform float contourTint;\nuniform vec4 contourColor;\nuniform sampler2D colormap;\nuniform vec3 clipBounds[2];\nuniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;\nuniform float vertexColor;\n\nvarying float value, kill;\nvarying vec3 worldCoordinate;\nvarying vec3 lightDirection, eyeDirection, surfaceNormal;\nvarying vec4 vColor;\n\nvoid main() {\n  if (\n    kill > 0.0 ||\n    vColor.a == 0.0 ||\n    outOfRange(clipBounds[0], clipBounds[1], worldCoordinate)\n  ) discard;\n\n  vec3 N = normalize(surfaceNormal);\n  vec3 V = normalize(eyeDirection);\n  vec3 L = normalize(lightDirection);\n\n  if(gl_FrontFacing) {\n    N = -N;\n  }\n\n  float specular = max(beckmannSpecular(L, V, N, roughness), 0.);\n  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);\n\n  //decide how to interpolate color \u2014 in vertex or in fragment\n  vec4 surfaceColor =\n    step(vertexColor, .5) * texture2D(colormap, vec2(value, value)) +\n    step(.5, vertexColor) * vColor;\n\n  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);\n\n  gl_FragColor = mix(litColor, contourColor, contourTint) * opacity;\n}\n"]),u=a(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec4 uv;\nattribute float f;\n\nuniform vec3 objectOffset;\nuniform mat3 permutation;\nuniform mat4 model, view, projection;\nuniform float height, zOffset;\nuniform sampler2D colormap;\n\nvarying float value, kill;\nvarying vec3 worldCoordinate;\nvarying vec2 planeCoordinate;\nvarying vec3 lightDirection, eyeDirection, surfaceNormal;\nvarying vec4 vColor;\n\nvoid main() {\n  vec3 dataCoordinate = permutation * vec3(uv.xy, height);\n  worldCoordinate = objectOffset + dataCoordinate;\n  vec4 worldPosition = model * vec4(worldCoordinate, 1.0);\n\n  vec4 clipPosition = projection * view * worldPosition;\n  clipPosition.z += zOffset;\n\n  gl_Position = clipPosition;\n  value = f + objectOffset.z;\n  kill = -1.0;\n  planeCoordinate = uv.zw;\n\n  vColor = texture2D(colormap, vec2(value, value));\n\n  //Don't do lighting for contours\n  surfaceNormal   = vec3(1,0,0);\n  eyeDirection    = vec3(0,1,0);\n  lightDirection  = vec3(0,0,1);\n}\n"]),h=a(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec2 shape;\nuniform vec3 clipBounds[2];\nuniform float pickId;\n\nvarying float value, kill;\nvarying vec3 worldCoordinate;\nvarying vec2 planeCoordinate;\nvarying vec3 surfaceNormal;\n\nvec2 splitFloat(float v) {\n  float vh = 255.0 * v;\n  float upper = floor(vh);\n  float lower = fract(vh);\n  return vec2(upper / 255.0, floor(lower * 16.0) / 16.0);\n}\n\nvoid main() {\n  if ((kill > 0.0) ||\n      (outOfRange(clipBounds[0], clipBounds[1], worldCoordinate))) discard;\n\n  vec2 ux = splitFloat(planeCoordinate.x / shape.x);\n  vec2 uy = splitFloat(planeCoordinate.y / shape.y);\n  gl_FragColor = vec4(pickId, ux.x, uy.x, ux.y + (uy.y/16.0));\n}\n"]);c.createShader=function(v){var p=s(v,o,l,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return p.attributes.uv.location=0,p.attributes.f.location=1,p.attributes.normal.location=2,p},c.createPickShader=function(v){var p=s(v,o,h,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return p.attributes.uv.location=0,p.attributes.f.location=1,p.attributes.normal.location=2,p},c.createContourShader=function(v){var p=s(v,u,l,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return p.attributes.uv.location=0,p.attributes.f.location=1,p},c.createPickContourShader=function(v){var p=s(v,u,h,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return p.attributes.uv.location=0,p.attributes.f.location=1,p}},3754:function(y,c,i){"use strict";y.exports=function(le){var pe=le.gl,Me=g(pe),Ae=S(pe),be=I(pe),ye=O(pe),we=a(pe),ze=o(pe,[{buffer:we,size:4,stride:R,offset:0},{buffer:we,size:3,stride:R,offset:16},{buffer:we,size:3,stride:R,offset:28}]),Se=a(pe),Ce=o(pe,[{buffer:Se,size:4,stride:20,offset:0},{buffer:Se,size:1,stride:20,offset:16}]),ge=a(pe),he=o(pe,[{buffer:ge,size:2,type:pe.FLOAT}]),_e=l(pe,1,F,pe.RGBA,pe.UNSIGNED_BYTE);_e.minFilter=pe.LINEAR,_e.magFilter=pe.LINEAR;var Le=new Y(pe,[0,0],[[0,0,0],[0,0,0]],Me,Ae,we,ze,_e,be,ye,Se,Ce,ge,he,[0,0,0]),Ie={levels:[[],[],[]]};for(var De in le)Ie[De]=le[De];return Ie.colormap=Ie.colormap||"jet",Le.update(Ie),Le};var s=i(2288),a=i(5827),o=i(2944),l=i(8931),u=i(5306),h=i(9156),v=i(7498),p=i(7382),T=i(5050),_=i(4162),m=i(104),w=i(7437),x=i(5070),b=i(9144),A=i(9054),g=A.createShader,I=A.createContourShader,S=A.createPickShader,O=A.createPickContourShader,R=40,L=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],N=[[0,0],[0,1],[1,0],[1,1],[1,0],[0,1]],j=[[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]];function X(le,pe,Me,Ae,be){this.position=le,this.index=pe,this.uv=Me,this.level=Ae,this.dataCoordinate=be}!function(){for(var le=0;le<3;++le){var pe=j[le],Me=(le+2)%3;pe[(le+1)%3+0]=1,pe[Me+3]=1,pe[le+6]=1}}();var F=256;function Y(le,pe,Me,Ae,be,ye,we,ze,Se,Ce,ge,he,_e,Le,Ie){this.gl=le,this.shape=pe,this.bounds=Me,this.objectOffset=Ie,this.intensityBounds=[],this._shader=Ae,this._pickShader=be,this._coordinateBuffer=ye,this._vao=we,this._colorMap=ze,this._contourShader=Se,this._contourPickShader=Ce,this._contourBuffer=ge,this._contourVAO=he,this._contourOffsets=[[],[],[]],this._contourCounts=[[],[],[]],this._vertexCount=0,this._pickResult=new X([0,0,0],[0,0],[0,0],[0,0,0],[0,0,0]),this._dynamicBuffer=_e,this._dynamicVAO=Le,this._dynamicOffsets=[0,0,0],this._dynamicCounts=[0,0,0],this.contourWidth=[1,1,1],this.contourLevels=[[1],[1],[1]],this.contourTint=[0,0,0],this.contourColor=[[.5,.5,.5,1],[.5,.5,.5,1],[.5,.5,.5,1]],this.showContour=!0,this.showSurface=!0,this.enableHighlight=[!0,!0,!0],this.highlightColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.highlightTint=[1,1,1],this.highlightLevel=[-1,-1,-1],this.enableDynamic=[!0,!0,!0],this.dynamicLevel=[NaN,NaN,NaN],this.dynamicColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.dynamicTint=[1,1,1],this.dynamicWidth=[1,1,1],this.axesBounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.surfaceProject=[!1,!1,!1],this.contourProject=[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],this.colorBounds=[!1,!1],this._field=[T(u.mallocFloat(1024),[0,0]),T(u.mallocFloat(1024),[0,0]),T(u.mallocFloat(1024),[0,0])],this.pickId=1,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.snapToData=!1,this.pixelRatio=1,this.opacity=1,this.lightPosition=[10,1e4,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.vertexColor=0,this.dirty=!0}var G=Y.prototype;G.genColormap=function(le,pe){var Me=!1,Ae=p([h({colormap:le,nshades:F,format:"rgba"}).map(function(be,ye){var we=pe?function(ze,Se){if(!Se||!Se.length)return 1;for(var Ce=0;Ce<Se.length;++Ce){if(Se.length<2)return 1;if(Se[Ce][0]===ze)return Se[Ce][1];if(Se[Ce][0]>ze&&Ce>0){var ge=(Se[Ce][0]-ze)/(Se[Ce][0]-Se[Ce-1][0]);return Se[Ce][1]*(1-ge)+ge*Se[Ce-1][1]}}return 1}(ye/255,pe):be[3];return we<1&&(Me=!0),[be[0],be[1],be[2],255*we]})]);return v.divseq(Ae,255),this.hasAlphaScale=Me,Ae},G.isTransparent=function(){return this.opacity<1||this.hasAlphaScale},G.isOpaque=function(){return!this.isTransparent()},G.pickSlots=1,G.setPickBase=function(le){this.pickId=le};var H=[0,0,0],W={showSurface:!1,showContour:!1,projections:[L.slice(),L.slice(),L.slice()],clipBounds:[[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]]]};function Z(le,pe){var Me,Ae,be,ye=pe.axes&&pe.axes.lastCubeProps.axis||H,we=pe.showSurface,ze=pe.showContour;for(Me=0;Me<3;++Me)for(we=we||pe.surfaceProject[Me],Ae=0;Ae<3;++Ae)ze=ze||pe.contourProject[Me][Ae];for(Me=0;Me<3;++Me){var Se=W.projections[Me];for(Ae=0;Ae<16;++Ae)Se[Ae]=0;for(Ae=0;Ae<4;++Ae)Se[5*Ae]=1;Se[5*Me]=0,Se[12+Me]=pe.axesBounds[+(ye[Me]>0)][Me],m(Se,le.model,Se);var Ce=W.clipBounds[Me];for(be=0;be<2;++be)for(Ae=0;Ae<3;++Ae)Ce[be][Ae]=le.clipBounds[be][Ae];Ce[0][Me]=-1e8,Ce[1][Me]=1e8}return W.showSurface=we,W.showContour=ze,W}var se={model:L,view:L,projection:L,inverseModel:L.slice(),lowerBound:[0,0,0],upperBound:[0,0,0],colorMap:0,clipBounds:[[0,0,0],[0,0,0]],height:0,contourTint:0,contourColor:[0,0,0,1],permutation:[1,0,0,0,1,0,0,0,1],zOffset:-1e-4,objectOffset:[0,0,0],kambient:1,kdiffuse:1,kspecular:1,lightPosition:[1e3,1e3,1e3],eyePosition:[0,0,0],roughness:1,fresnel:1,opacity:1,vertexColor:0},re=L.slice(),ne=[1,0,0,0,1,0,0,0,1];function Q(le,pe){le=le||{};var Me=this.gl;Me.disable(Me.CULL_FACE),this._colorMap.bind(0);var Ae=se;Ae.model=le.model||L,Ae.view=le.view||L,Ae.projection=le.projection||L,Ae.lowerBound=[this.bounds[0][0],this.bounds[0][1],this.colorBounds[0]||this.bounds[0][2]],Ae.upperBound=[this.bounds[1][0],this.bounds[1][1],this.colorBounds[1]||this.bounds[1][2]],Ae.objectOffset=this.objectOffset,Ae.contourColor=this.contourColor[0],Ae.inverseModel=w(Ae.inverseModel,Ae.model);for(var be=0;be<2;++be)for(var ye=Ae.clipBounds[be],we=0;we<3;++we)ye[we]=Math.min(Math.max(this.clipBounds[be][we],-1e8),1e8);Ae.kambient=this.ambientLight,Ae.kdiffuse=this.diffuseLight,Ae.kspecular=this.specularLight,Ae.roughness=this.roughness,Ae.fresnel=this.fresnel,Ae.opacity=this.opacity,Ae.height=0,Ae.permutation=ne,Ae.vertexColor=this.vertexColor;var ze=re;for(m(ze,Ae.view,Ae.model),m(ze,Ae.projection,ze),w(ze,ze),be=0;be<3;++be)Ae.eyePosition[be]=ze[12+be]/ze[15];var Se=ze[15];for(be=0;be<3;++be)Se+=this.lightPosition[be]*ze[4*be+3];for(be=0;be<3;++be){var Ce=ze[12+be];for(we=0;we<3;++we)Ce+=ze[4*we+be]*this.lightPosition[we];Ae.lightPosition[be]=Ce/Se}var ge=Z(Ae,this);if(ge.showSurface){for(this._shader.bind(),this._shader.uniforms=Ae,this._vao.bind(),this.showSurface&&this._vertexCount&&this._vao.draw(Me.TRIANGLES,this._vertexCount),be=0;be<3;++be)this.surfaceProject[be]&&this.vertexCount&&(this._shader.uniforms.model=ge.projections[be],this._shader.uniforms.clipBounds=ge.clipBounds[be],this._vao.draw(Me.TRIANGLES,this._vertexCount));this._vao.unbind()}if(ge.showContour){var he=this._contourShader;Ae.kambient=1,Ae.kdiffuse=0,Ae.kspecular=0,Ae.opacity=1,he.bind(),he.uniforms=Ae;var _e=this._contourVAO;for(_e.bind(),be=0;be<3;++be)for(he.uniforms.permutation=j[be],Me.lineWidth(this.contourWidth[be]*this.pixelRatio),we=0;we<this.contourLevels[be].length;++we)we===this.highlightLevel[be]?(he.uniforms.contourColor=this.highlightColor[be],he.uniforms.contourTint=this.highlightTint[be]):0!==we&&we-1!==this.highlightLevel[be]||(he.uniforms.contourColor=this.contourColor[be],he.uniforms.contourTint=this.contourTint[be]),this._contourCounts[be][we]&&(he.uniforms.height=this.contourLevels[be][we],_e.draw(Me.LINES,this._contourCounts[be][we],this._contourOffsets[be][we]));for(be=0;be<3;++be)for(he.uniforms.model=ge.projections[be],he.uniforms.clipBounds=ge.clipBounds[be],we=0;we<3;++we)if(this.contourProject[be][we]){he.uniforms.permutation=j[we],Me.lineWidth(this.contourWidth[we]*this.pixelRatio);for(var Le=0;Le<this.contourLevels[we].length;++Le)Le===this.highlightLevel[we]?(he.uniforms.contourColor=this.highlightColor[we],he.uniforms.contourTint=this.highlightTint[we]):0!==Le&&Le-1!==this.highlightLevel[we]||(he.uniforms.contourColor=this.contourColor[we],he.uniforms.contourTint=this.contourTint[we]),this._contourCounts[we][Le]&&(he.uniforms.height=this.contourLevels[we][Le],_e.draw(Me.LINES,this._contourCounts[we][Le],this._contourOffsets[we][Le]))}for(_e.unbind(),(_e=this._dynamicVAO).bind(),be=0;be<3;++be)if(0!==this._dynamicCounts[be])for(he.uniforms.model=Ae.model,he.uniforms.clipBounds=Ae.clipBounds,he.uniforms.permutation=j[be],Me.lineWidth(this.dynamicWidth[be]*this.pixelRatio),he.uniforms.contourColor=this.dynamicColor[be],he.uniforms.contourTint=this.dynamicTint[be],he.uniforms.height=this.dynamicLevel[be],_e.draw(Me.LINES,this._dynamicCounts[be],this._dynamicOffsets[be]),we=0;we<3;++we)this.contourProject[we][be]&&(he.uniforms.model=ge.projections[we],he.uniforms.clipBounds=ge.clipBounds[we],_e.draw(Me.LINES,this._dynamicCounts[be],this._dynamicOffsets[be]));_e.unbind()}}G.draw=function(le){return Q.call(this,le,!1)},G.drawTransparent=function(le){return Q.call(this,le,!0)};var ee={model:L,view:L,projection:L,inverseModel:L,clipBounds:[[0,0,0],[0,0,0]],height:0,shape:[0,0],pickId:0,lowerBound:[0,0,0],upperBound:[0,0,0],zOffset:0,objectOffset:[0,0,0],permutation:[1,0,0,0,1,0,0,0,1],lightPosition:[0,0,0],eyePosition:[0,0,0]};function oe(le,pe){return Array.isArray(le)?[pe(le[0]),pe(le[1]),pe(le[2])]:[pe(le),pe(le),pe(le)]}function ce(le){return Array.isArray(le)?3===le.length?[le[0],le[1],le[2],1]:[le[0],le[1],le[2],le[3]]:[0,0,0,1]}function fe(le){if(Array.isArray(le)){if(Array.isArray(le))return[ce(le[0]),ce(le[1]),ce(le[2])];var pe=ce(le);return[pe.slice(),pe.slice(),pe.slice()]}}G.drawPick=function(le){le=le||{};var pe=this.gl;pe.disable(pe.CULL_FACE);var Me=ee;Me.model=le.model||L,Me.view=le.view||L,Me.projection=le.projection||L,Me.shape=this._field[2].shape,Me.pickId=this.pickId/255,Me.lowerBound=this.bounds[0],Me.upperBound=this.bounds[1],Me.objectOffset=this.objectOffset,Me.permutation=ne;for(var Ae=0;Ae<2;++Ae)for(var be=Me.clipBounds[Ae],ye=0;ye<3;++ye)be[ye]=Math.min(Math.max(this.clipBounds[Ae][ye],-1e8),1e8);var we=Z(Me,this);if(we.showSurface){for(this._pickShader.bind(),this._pickShader.uniforms=Me,this._vao.bind(),this._vao.draw(pe.TRIANGLES,this._vertexCount),Ae=0;Ae<3;++Ae)this.surfaceProject[Ae]&&(this._pickShader.uniforms.model=we.projections[Ae],this._pickShader.uniforms.clipBounds=we.clipBounds[Ae],this._vao.draw(pe.TRIANGLES,this._vertexCount));this._vao.unbind()}if(we.showContour){var ze=this._contourPickShader;ze.bind(),ze.uniforms=Me;var Se=this._contourVAO;for(Se.bind(),ye=0;ye<3;++ye)for(pe.lineWidth(this.contourWidth[ye]*this.pixelRatio),ze.uniforms.permutation=j[ye],Ae=0;Ae<this.contourLevels[ye].length;++Ae)this._contourCounts[ye][Ae]&&(ze.uniforms.height=this.contourLevels[ye][Ae],Se.draw(pe.LINES,this._contourCounts[ye][Ae],this._contourOffsets[ye][Ae]));for(Ae=0;Ae<3;++Ae)for(ze.uniforms.model=we.projections[Ae],ze.uniforms.clipBounds=we.clipBounds[Ae],ye=0;ye<3;++ye)if(this.contourProject[Ae][ye]){ze.uniforms.permutation=j[ye],pe.lineWidth(this.contourWidth[ye]*this.pixelRatio);for(var Ce=0;Ce<this.contourLevels[ye].length;++Ce)this._contourCounts[ye][Ce]&&(ze.uniforms.height=this.contourLevels[ye][Ce],Se.draw(pe.LINES,this._contourCounts[ye][Ce],this._contourOffsets[ye][Ce]))}Se.unbind()}},G.pick=function(le){if(!le||le.id!==this.pickId)return null;var pe=this._field[2].shape,Me=this._pickResult,Ae=pe[0]*(le.value[0]+(le.value[2]>>4)/16)/255,be=Math.floor(Ae),ye=Ae-be,we=pe[1]*(le.value[1]+(15&le.value[2])/16)/255,ze=Math.floor(we),Se=we-ze;be+=1,ze+=1;var Ce=Me.position;Ce[0]=Ce[1]=Ce[2]=0;for(var ge=0;ge<2;++ge)for(var he=ge?ye:1-ye,_e=0;_e<2;++_e)for(var Le=be+ge,Ie=ze+_e,De=he*(_e?Se:1-Se),je=0;je<3;++je)Ce[je]+=this._field[je].get(Le,Ie)*De;for(var qe=this._pickResult.level,ve=0;ve<3;++ve)if(qe[ve]=x.le(this.contourLevels[ve],Ce[ve]),qe[ve]<0)this.contourLevels[ve].length>0&&(qe[ve]=0);else if(qe[ve]<this.contourLevels[ve].length-1){var ke=this.contourLevels[ve][qe[ve]+1];Math.abs(this.contourLevels[ve][qe[ve]]-Ce[ve])>Math.abs(ke-Ce[ve])&&(qe[ve]+=1)}for(Me.index[0]=ye<.5?be:be+1,Me.index[1]=Se<.5?ze:ze+1,Me.uv[0]=Ae/pe[0],Me.uv[1]=we/pe[1],je=0;je<3;++je)Me.dataCoordinate[je]=this._field[je].get(Me.index[0],Me.index[1]);return Me},G.padField=function(le,pe){var Me=pe.shape.slice(),Ae=le.shape.slice();v.assign(le.lo(1,1).hi(Me[0],Me[1]),pe),v.assign(le.lo(1).hi(Me[0],1),pe.hi(Me[0],1)),v.assign(le.lo(1,Ae[1]-1).hi(Me[0],1),pe.lo(0,Me[1]-1).hi(Me[0],1)),v.assign(le.lo(0,1).hi(1,Me[1]),pe.hi(1)),v.assign(le.lo(Ae[0]-1,1).hi(1,Me[1]),pe.lo(Me[0]-1)),le.set(0,0,pe.get(0,0)),le.set(0,Ae[1]-1,pe.get(0,Me[1]-1)),le.set(Ae[0]-1,0,pe.get(Me[0]-1,0)),le.set(Ae[0]-1,Ae[1]-1,pe.get(Me[0]-1,Me[1]-1))},G.update=function(le){this.objectOffset=(le=le||{}).objectOffset||this.objectOffset,this.dirty=!0,"contourWidth"in le&&(this.contourWidth=oe(le.contourWidth,Number)),"showContour"in le&&(this.showContour=oe(le.showContour,Boolean)),"showSurface"in le&&(this.showSurface=!!le.showSurface),"contourTint"in le&&(this.contourTint=oe(le.contourTint,Boolean)),"contourColor"in le&&(this.contourColor=fe(le.contourColor)),"contourProject"in le&&(this.contourProject=oe(le.contourProject,function(vn){return oe(vn,Boolean)})),"surfaceProject"in le&&(this.surfaceProject=le.surfaceProject),"dynamicColor"in le&&(this.dynamicColor=fe(le.dynamicColor)),"dynamicTint"in le&&(this.dynamicTint=oe(le.dynamicTint,Number)),"dynamicWidth"in le&&(this.dynamicWidth=oe(le.dynamicWidth,Number)),"opacity"in le&&(this.opacity=le.opacity),"opacityscale"in le&&(this.opacityscale=le.opacityscale),"colorBounds"in le&&(this.colorBounds=le.colorBounds),"vertexColor"in le&&(this.vertexColor=le.vertexColor?1:0),"colormap"in le&&this._colorMap.setPixels(this.genColormap(le.colormap,this.opacityscale));var pe=le.field||le.coords&&le.coords[2]||null,Me=!1;if(pe||(pe=this._field[2].shape[0]||this._field[2].shape[2]?this._field[2].lo(1,1).hi(this._field[2].shape[0]-2,this._field[2].shape[1]-2):this._field[2].hi(0,0)),"field"in le||"coords"in le){var Ae=(pe.shape[0]+2)*(pe.shape[1]+2);Ae>this._field[2].data.length&&(u.freeFloat(this._field[2].data),this._field[2].data=u.mallocFloat(s.nextPow2(Ae))),this._field[2]=T(this._field[2].data,[pe.shape[0]+2,pe.shape[1]+2]),this.padField(this._field[2],pe),this.shape=pe.shape.slice();for(var be=this.shape,ye=0;ye<2;++ye)this._field[2].size>this._field[ye].data.length&&(u.freeFloat(this._field[ye].data),this._field[ye].data=u.mallocFloat(this._field[2].size)),this._field[ye]=T(this._field[ye].data,[be[0]+2,be[1]+2]);if(le.coords){var we=le.coords;if(!Array.isArray(we)||3!==we.length)throw new Error("gl-surface: invalid coordinates for x/y");for(ye=0;ye<2;++ye){var ze=we[ye];for(_e=0;_e<2;++_e)if(ze.shape[_e]!==be[_e])throw new Error("gl-surface: coords have incorrect shape");this.padField(this._field[ye],ze)}}else if(le.ticks){var Se=le.ticks;if(!Array.isArray(Se)||2!==Se.length)throw new Error("gl-surface: invalid ticks");for(ye=0;ye<2;++ye){var Ce=Se[ye];if((Array.isArray(Ce)||Ce.length)&&(Ce=T(Ce)),Ce.shape[0]!==be[ye])throw new Error("gl-surface: invalid tick length");var ge=T(Ce.data,be);ge.stride[ye]=Ce.stride[0],ge.stride[1^ye]=0,this.padField(this._field[ye],ge)}}else{for(ye=0;ye<2;++ye){var he=[0,0];he[ye]=1,this._field[ye]=T(this._field[ye].data,[be[0]+2,be[1]+2],he,0)}this._field[0].set(0,0,0);for(var _e=0;_e<be[0];++_e)this._field[0].set(_e+1,0,_e);for(this._field[0].set(be[0]+1,0,be[0]-1),this._field[1].set(0,0,0),_e=0;_e<be[1];++_e)this._field[1].set(0,_e+1,_e);this._field[1].set(0,be[1]+1,be[1]-1)}var Le=this._field,Ie=T(u.mallocFloat(3*Le[2].size*2),[3,be[0]+2,be[1]+2,2]);for(ye=0;ye<3;++ye)b(Ie.pick(ye),Le[ye],"mirror");var De=T(u.mallocFloat(3*Le[2].size),[be[0]+2,be[1]+2,3]);for(ye=0;ye<be[0]+2;++ye)for(_e=0;_e<be[1]+2;++_e){var je=Ie.get(0,ye,_e,0),qe=Ie.get(0,ye,_e,1),ve=Ie.get(1,ye,_e,0),Oe=Ie.get(1,ye,_e,1),ke=Ie.get(2,ye,_e,0),Be=Ie.get(2,ye,_e,1),We=ve*Be-Oe*ke,Ge=ke*qe-Be*je,Ke=je*Oe-qe*ve,et=Math.sqrt(We*We+Ge*Ge+Ke*Ke);et<1e-8?(et=Math.max(Math.abs(We),Math.abs(Ge),Math.abs(Ke)))<1e-8?(Ke=1,Ge=We=0,et=1):et=1/et:et=1/Math.sqrt(et),De.set(ye,_e,0,We*et),De.set(ye,_e,1,Ge*et),De.set(ye,_e,2,Ke*et)}u.free(Ie.data);var at=[1/0,1/0,1/0],mt=[-1/0,-1/0,-1/0],ct=1/0,kt=-1/0,Et=u.mallocFloat(s.nextPow2((be[0]-1)*(be[1]-1)*6*10)),ht=0,pt=0;for(ye=0;ye<be[0]-1;++ye)e:for(_e=0;_e<be[1]-1;++_e){for(var Pt=0;Pt<2;++Pt)for(var zt=0;zt<2;++zt)for(var Ht=0;Ht<3;++Ht){var Lt=this._field[Ht].get(1+ye+Pt,1+_e+zt);if(isNaN(Lt)||!isFinite(Lt))continue e}for(Ht=0;Ht<6;++Ht){var tt=ye+N[Ht][0],it=_e+N[Ht][1],Je=this._field[0].get(tt+1,it+1),ot=this._field[1].get(tt+1,it+1);Lt=this._field[2].get(tt+1,it+1),We=De.get(tt+1,it+1,0),Ge=De.get(tt+1,it+1,1),Ke=De.get(tt+1,it+1,2),le.intensity&&(gt=le.intensity.get(tt,it));var gt=le.intensity?le.intensity.get(tt,it):Lt+this.objectOffset[2];Et[ht++]=tt,Et[ht++]=it,Et[ht++]=Je,Et[ht++]=ot,Et[ht++]=Lt,Et[ht++]=0,Et[ht++]=gt,Et[ht++]=We,Et[ht++]=Ge,Et[ht++]=Ke,at[0]=Math.min(at[0],Je+this.objectOffset[0]),at[1]=Math.min(at[1],ot+this.objectOffset[1]),at[2]=Math.min(at[2],Lt+this.objectOffset[2]),ct=Math.min(ct,gt),mt[0]=Math.max(mt[0],Je+this.objectOffset[0]),mt[1]=Math.max(mt[1],ot+this.objectOffset[1]),mt[2]=Math.max(mt[2],Lt+this.objectOffset[2]),kt=Math.max(kt,gt),pt+=1}}for(le.intensityBounds&&(ct=+le.intensityBounds[0],kt=+le.intensityBounds[1]),ye=6;ye<ht;ye+=10)Et[ye]=(Et[ye]-ct)/(kt-ct);this._vertexCount=pt,this._coordinateBuffer.update(Et.subarray(0,ht)),u.freeFloat(Et),u.free(De.data),this.bounds=[at,mt],this.intensity=le.intensity||this._field[2],this.intensityBounds[0]===ct&&this.intensityBounds[1]===kt||(Me=!0),this.intensityBounds=[ct,kt]}if("levels"in le){var ft=le.levels;for(ft=Array.isArray(ft[0])?ft.slice():[[],[],ft],ye=0;ye<3;++ye)ft[ye]=ft[ye].slice(),ft[ye].sort(function(vn,un){return vn-un});for(ye=0;ye<3;++ye)for(_e=0;_e<ft[ye].length;++_e)ft[ye][_e]-=this.objectOffset[ye];e:for(ye=0;ye<3;++ye){if(ft[ye].length!==this.contourLevels[ye].length){Me=!0;break}for(_e=0;_e<ft[ye].length;++_e)if(ft[ye][_e]!==this.contourLevels[ye][_e]){Me=!0;break e}}this.contourLevels=ft}if(Me){Le=this._field,be=this.shape;for(var Ue=[],$e=0;$e<3;++$e){var dt=this.contourLevels[$e],ut=[],At=[],wt=[0,0,0];for(ye=0;ye<dt.length;++ye){var St=_(this._field[$e],dt[ye]);ut.push(Ue.length/5|0),pt=0;e:for(_e=0;_e<St.cells.length;++_e){var _t=St.cells[_e];for(Ht=0;Ht<2;++Ht){var Rt=St.positions[_t[Ht]],bt=Rt[0],Tt=0|Math.floor(bt),It=bt-Tt,Wt=Rt[1],$t=0|Math.floor(Wt),Qt=Wt-$t,pn=!1;t:for(var en=0;en<3;++en){wt[en]=0;var nn=($e+en+1)%3;for(Pt=0;Pt<2;++Pt){var fn=Pt?It:1-It;for(tt=0|Math.min(Math.max(Tt+Pt,0),be[0]),zt=0;zt<2;++zt){var On=zt?Qt:1-Qt;if(it=0|Math.min(Math.max($t+zt,0),be[1]),Lt=en<2?this._field[nn].get(tt,it):(this.intensity.get(tt,it)-this.intensityBounds[0])/(this.intensityBounds[1]-this.intensityBounds[0]),!isFinite(Lt)||isNaN(Lt)){pn=!0;break t}wt[en]+=fn*On*Lt}}}if(pn){if(Ht>0){for(var Sn=0;Sn<5;++Sn)Ue.pop();pt-=1}continue e}Ue.push(wt[0],wt[1],Rt[0],Rt[1],wt[2]),pt+=1}}At.push(pt)}this._contourOffsets[$e]=ut,this._contourCounts[$e]=At}var on=u.mallocFloat(Ue.length);for(ye=0;ye<Ue.length;++ye)on[ye]=Ue[ye];this._contourBuffer.update(on),u.freeFloat(on)}},G.dispose=function(){this._shader.dispose(),this._vao.dispose(),this._coordinateBuffer.dispose(),this._colorMap.dispose(),this._contourBuffer.dispose(),this._contourVAO.dispose(),this._contourShader.dispose(),this._contourPickShader.dispose(),this._dynamicBuffer.dispose(),this._dynamicVAO.dispose();for(var le=0;le<3;++le)u.freeFloat(this._field[le].data)},G.highlight=function(le){var pe,Me;if(!le)return this._dynamicCounts=[0,0,0],this.dyanamicLevel=[NaN,NaN,NaN],void(this.highlightLevel=[-1,-1,-1]);for(pe=0;pe<3;++pe)this.highlightLevel[pe]=this.enableHighlight[pe]?le.level[pe]:-1;for(Me=this.snapToData?le.dataCoordinate:le.position,pe=0;pe<3;++pe)Me[pe]-=this.objectOffset[pe];if(this.enableDynamic[0]&&Me[0]!==this.dynamicLevel[0]||this.enableDynamic[1]&&Me[1]!==this.dynamicLevel[1]||this.enableDynamic[2]&&Me[2]!==this.dynamicLevel[2]){for(var Ae=0,be=this.shape,ye=u.mallocFloat(12*be[0]*be[1]),we=0;we<3;++we)if(this.enableDynamic[we]){this.dynamicLevel[we]=Me[we];var ge=this._field[(we+1)%3],he=this._field[(we+2)%3],_e=_(this._field[we],Me[we]),Le=_e.cells,Ie=_e.positions;for(this._dynamicOffsets[we]=Ae,pe=0;pe<Le.length;++pe)for(var De=Le[pe],je=0;je<2;++je){var qe=Ie[De[je]],ve=+qe[0],Oe=0|ve,ke=0|Math.min(Oe+1,be[0]),Be=ve-Oe,We=1-Be,Ge=+qe[1],Ke=0|Ge,et=0|Math.min(Ke+1,be[1]),at=Ge-Ke,mt=1-at,ct=We*mt,kt=We*at,Dt=Be*mt,Et=Be*at,ht=ct*ge.get(Oe,Ke)+kt*ge.get(Oe,et)+Dt*ge.get(ke,Ke)+Et*ge.get(ke,et),pt=ct*he.get(Oe,Ke)+kt*he.get(Oe,et)+Dt*he.get(ke,Ke)+Et*he.get(ke,et);if(isNaN(ht)||isNaN(pt)){je&&(Ae-=1);break}ye[2*Ae+0]=ht,ye[2*Ae+1]=pt,Ae+=1}this._dynamicCounts[we]=Ae-this._dynamicOffsets[we]}else this.dynamicLevel[we]=NaN,this._dynamicCounts[we]=0;this._dynamicBuffer.update(ye.subarray(0,2*Ae)),u.freeFloat(ye)}}},8931:function(y,c,i){"use strict";var s=i(5050),a=i(7498),o=i(5306);y.exports=function(A){if(arguments.length<=1)throw new Error("gl-texture2d: Missing arguments for texture2d constructor");if(l||(l=[(S=A).LINEAR,S.NEAREST_MIPMAP_LINEAR,S.LINEAR_MIPMAP_NEAREST,S.LINEAR_MIPMAP_NEAREST],u=[S.NEAREST,S.LINEAR,S.NEAREST_MIPMAP_NEAREST,S.NEAREST_MIPMAP_LINEAR,S.LINEAR_MIPMAP_NEAREST,S.LINEAR_MIPMAP_LINEAR],h=[S.REPEAT,S.CLAMP_TO_EDGE,S.MIRRORED_REPEAT]),"number"==typeof arguments[1])return b(A,arguments[1],arguments[2],arguments[3]||A.RGBA,arguments[4]||A.UNSIGNED_BYTE);var S;if(Array.isArray(arguments[1]))return b(A,0|arguments[1][0],0|arguments[1][1],arguments[2]||A.RGBA,arguments[3]||A.UNSIGNED_BYTE);if("object"==typeof arguments[1]){var g=arguments[1],I=v(g)?g:g.raw;if(I)return function(S,O,R,L,N,j){var X=x(S);return S.texImage2D(S.TEXTURE_2D,0,N,N,j,O),new _(S,X,R,L,N,j)}(A,I,0|g.width,0|g.height,arguments[2]||A.RGBA,arguments[3]||A.UNSIGNED_BYTE);if(g.shape&&g.data&&g.stride)return function(S,O){var R=O.dtype,L=O.shape.slice(),N=S.getParameter(S.MAX_TEXTURE_SIZE);if(L[0]<0||L[0]>N||L[1]<0||L[1]>N)throw new Error("gl-texture2d: Invalid texture size");var j=w(L,O.stride.slice()),X=0;"float32"===R?X=S.FLOAT:"float64"===R?(X=S.FLOAT,j=!1,R="float32"):"uint8"===R?X=S.UNSIGNED_BYTE:(X=S.UNSIGNED_BYTE,j=!1,R="uint8");var F,Y,G=0;if(2===L.length)G=S.LUMINANCE,O=s(O.data,L=[L[0],L[1],1],[O.stride[0],O.stride[1],1],O.offset);else{if(3!==L.length)throw new Error("gl-texture2d: Invalid shape for texture");if(1===L[2])G=S.ALPHA;else if(2===L[2])G=S.LUMINANCE_ALPHA;else if(3===L[2])G=S.RGB;else{if(4!==L[2])throw new Error("gl-texture2d: Invalid shape for pixel coords");G=S.RGBA}}X!==S.FLOAT||S.getExtension("OES_texture_float")||(X=S.UNSIGNED_BYTE,j=!1);var H=O.size;if(j)F=0===O.offset&&O.data.length===H?O.data:O.data.subarray(O.offset,O.offset+H);else{var W=[L[2],L[2]*L[0],1];Y=o.malloc(H,R);var Z=s(Y,L,W,0);"float32"!==R&&"float64"!==R||X!==S.UNSIGNED_BYTE?a.assign(Z,O):p(Z,O),F=Y.subarray(0,H)}var se=x(S);return S.texImage2D(S.TEXTURE_2D,0,G,L[0],L[1],0,G,X,F),j||o.free(Y),new _(S,se,L[0],L[1],G,X)}(A,g)}throw new Error("gl-texture2d: Invalid arguments for texture2d constructor")};var l=null,u=null,h=null;function v(A){return typeof HTMLCanvasElement<"u"&&A instanceof HTMLCanvasElement||typeof HTMLImageElement<"u"&&A instanceof HTMLImageElement||typeof HTMLVideoElement<"u"&&A instanceof HTMLVideoElement||typeof ImageData<"u"&&A instanceof ImageData}var p=function(A,g){a.muls(A,g,255)};function T(A,g,I){var S=A.gl,O=S.getParameter(S.MAX_TEXTURE_SIZE);if(g<0||g>O||I<0||I>O)throw new Error("gl-texture2d: Invalid texture size");return A._shape=[g,I],A.bind(),S.texImage2D(S.TEXTURE_2D,0,A.format,g,I,0,A.format,A.type,null),A._mipLevels=[0],A}function _(A,g,I,S,O,R){this.gl=A,this.handle=g,this.format=O,this.type=R,this._shape=[I,S],this._mipLevels=[0],this._magFilter=A.NEAREST,this._minFilter=A.NEAREST,this._wrapS=A.CLAMP_TO_EDGE,this._wrapT=A.CLAMP_TO_EDGE,this._anisoSamples=1;var L=this,N=[this._wrapS,this._wrapT];Object.defineProperties(N,[{get:function(){return L._wrapS},set:function(X){return L.wrapS=X}},{get:function(){return L._wrapT},set:function(X){return L.wrapT=X}}]),this._wrapVector=N;var j=[this._shape[0],this._shape[1]];Object.defineProperties(j,[{get:function(){return L._shape[0]},set:function(X){return L.width=X}},{get:function(){return L._shape[1]},set:function(X){return L.height=X}}]),this._shapeVector=j}var m=_.prototype;function w(A,g){return 3===A.length?1===g[2]&&g[1]===A[0]*A[2]&&g[0]===A[2]:1===g[0]&&g[1]===A[0]}function x(A){var g=A.createTexture();return A.bindTexture(A.TEXTURE_2D,g),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_MIN_FILTER,A.NEAREST),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_MAG_FILTER,A.NEAREST),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_WRAP_S,A.CLAMP_TO_EDGE),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_WRAP_T,A.CLAMP_TO_EDGE),g}function b(A,g,I,S,O){var R=A.getParameter(A.MAX_TEXTURE_SIZE);if(g<0||g>R||I<0||I>R)throw new Error("gl-texture2d: Invalid texture shape");if(O===A.FLOAT&&!A.getExtension("OES_texture_float"))throw new Error("gl-texture2d: Floating point textures not supported on this platform");var L=x(A);return A.texImage2D(A.TEXTURE_2D,0,S,g,I,0,S,O,null),new _(A,L,g,I,S,O)}Object.defineProperties(m,{minFilter:{get:function(){return this._minFilter},set:function(A){this.bind();var g=this.gl;if(this.type===g.FLOAT&&l.indexOf(A)>=0&&(g.getExtension("OES_texture_float_linear")||(A=g.NEAREST)),u.indexOf(A)<0)throw new Error("gl-texture2d: Unknown filter mode "+A);return g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MIN_FILTER,A),this._minFilter=A}},magFilter:{get:function(){return this._magFilter},set:function(A){this.bind();var g=this.gl;if(this.type===g.FLOAT&&l.indexOf(A)>=0&&(g.getExtension("OES_texture_float_linear")||(A=g.NEAREST)),u.indexOf(A)<0)throw new Error("gl-texture2d: Unknown filter mode "+A);return g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MAG_FILTER,A),this._magFilter=A}},mipSamples:{get:function(){return this._anisoSamples},set:function(A){var g=this._anisoSamples;if(this._anisoSamples=0|Math.max(A,1),g!==this._anisoSamples){var I=this.gl.getExtension("EXT_texture_filter_anisotropic");I&&this.gl.texParameterf(this.gl.TEXTURE_2D,I.TEXTURE_MAX_ANISOTROPY_EXT,this._anisoSamples)}return this._anisoSamples}},wrapS:{get:function(){return this._wrapS},set:function(A){if(this.bind(),h.indexOf(A)<0)throw new Error("gl-texture2d: Unknown wrap mode "+A);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,A),this._wrapS=A}},wrapT:{get:function(){return this._wrapT},set:function(A){if(this.bind(),h.indexOf(A)<0)throw new Error("gl-texture2d: Unknown wrap mode "+A);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,A),this._wrapT=A}},wrap:{get:function(){return this._wrapVector},set:function(A){if(Array.isArray(A)||(A=[A,A]),2!==A.length)throw new Error("gl-texture2d: Must specify wrap mode for rows and columns");for(var g=0;g<2;++g)if(h.indexOf(A[g])<0)throw new Error("gl-texture2d: Unknown wrap mode "+A);this._wrapS=A[0],this._wrapT=A[1];var I=this.gl;return this.bind(),I.texParameteri(I.TEXTURE_2D,I.TEXTURE_WRAP_S,this._wrapS),I.texParameteri(I.TEXTURE_2D,I.TEXTURE_WRAP_T,this._wrapT),A}},shape:{get:function(){return this._shapeVector},set:function(A){if(Array.isArray(A)){if(2!==A.length)throw new Error("gl-texture2d: Invalid texture shape")}else A=[0|A,0|A];return T(this,0|A[0],0|A[1]),[0|A[0],0|A[1]]}},width:{get:function(){return this._shape[0]},set:function(A){return T(this,A|=0,this._shape[1]),A}},height:{get:function(){return this._shape[1]},set:function(A){return T(this,this._shape[0],A|=0),A}}}),m.bind=function(A){var g=this.gl;return void 0!==A&&g.activeTexture(g.TEXTURE0+(0|A)),g.bindTexture(g.TEXTURE_2D,this.handle),void 0!==A?0|A:g.getParameter(g.ACTIVE_TEXTURE)-g.TEXTURE0},m.dispose=function(){this.gl.deleteTexture(this.handle)},m.generateMipmap=function(){this.bind(),this.gl.generateMipmap(this.gl.TEXTURE_2D);for(var A=Math.min(this._shape[0],this._shape[1]),g=0;A>0;++g,A>>>=1)this._mipLevels.indexOf(g)<0&&this._mipLevels.push(g)},m.setPixels=function(A,g,I,S){var O=this.gl;this.bind(),Array.isArray(g)?(S=I,I=0|g[1],g=0|g[0]):(g=g||0,I=I||0),S=S||0;var R=v(A)?A:A.raw;if(R)this._mipLevels.indexOf(S)<0?(O.texImage2D(O.TEXTURE_2D,0,this.format,this.format,this.type,R),this._mipLevels.push(S)):O.texSubImage2D(O.TEXTURE_2D,S,g,I,this.format,this.type,R);else{if(!(A.shape&&A.stride&&A.data))throw new Error("gl-texture2d: Unsupported data type");if(A.shape.length<2||g+A.shape[1]>this._shape[1]>>>S||I+A.shape[0]>this._shape[0]>>>S||g<0||I<0)throw new Error("gl-texture2d: Texture dimensions are out of bounds");!function(L,N,j,X,F,Y,G,H){var W=H.dtype,Z=H.shape.slice();if(Z.length<2||Z.length>3)throw new Error("gl-texture2d: Invalid ndarray, must be 2d or 3d");var se=0,re=0,ne=w(Z,H.stride.slice());if("float32"===W?se=L.FLOAT:"float64"===W?(se=L.FLOAT,ne=!1,W="float32"):"uint8"===W?se=L.UNSIGNED_BYTE:(se=L.UNSIGNED_BYTE,ne=!1,W="uint8"),2===Z.length)re=L.LUMINANCE,H=s(H.data,Z=[Z[0],Z[1],1],[H.stride[0],H.stride[1],1],H.offset);else{if(3!==Z.length)throw new Error("gl-texture2d: Invalid shape for texture");if(1===Z[2])re=L.ALPHA;else if(2===Z[2])re=L.LUMINANCE_ALPHA;else if(3===Z[2])re=L.RGB;else{if(4!==Z[2])throw new Error("gl-texture2d: Invalid shape for pixel coords");re=L.RGBA}}if(re!==L.LUMINANCE&&re!==L.ALPHA||F!==L.LUMINANCE&&F!==L.ALPHA||(re=F),re!==F)throw new Error("gl-texture2d: Incompatible texture format for setPixels");var Q=H.size,ee=G.indexOf(X)<0;if(ee&&G.push(X),se===Y&&ne)0===H.offset&&H.data.length===Q?ee?L.texImage2D(L.TEXTURE_2D,X,F,Z[0],Z[1],0,F,Y,H.data):L.texSubImage2D(L.TEXTURE_2D,X,N,j,Z[0],Z[1],F,Y,H.data):ee?L.texImage2D(L.TEXTURE_2D,X,F,Z[0],Z[1],0,F,Y,H.data.subarray(H.offset,H.offset+Q)):L.texSubImage2D(L.TEXTURE_2D,X,N,j,Z[0],Z[1],F,Y,H.data.subarray(H.offset,H.offset+Q));else{var oe;oe=Y===L.FLOAT?o.mallocFloat32(Q):o.mallocUint8(Q);var ce=s(oe,Z,[Z[2],Z[2]*Z[0],1]);se===L.FLOAT&&Y===L.UNSIGNED_BYTE?p(ce,H):a.assign(ce,H),ee?L.texImage2D(L.TEXTURE_2D,X,F,Z[0],Z[1],0,F,Y,oe.subarray(0,Q)):L.texSubImage2D(L.TEXTURE_2D,X,N,j,Z[0],Z[1],F,Y,oe.subarray(0,Q)),Y===L.FLOAT?o.freeFloat32(oe):o.freeUint8(oe)}}(O,g,I,S,this.format,this.type,this._mipLevels,A)}}},3056:function(y){"use strict";y.exports=function(c,i,s){i?i.bind():c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,null);var a=0|c.getParameter(c.MAX_VERTEX_ATTRIBS);if(s){if(s.length>a)throw new Error("gl-vao: Too many vertex attributes");for(var o=0;o<s.length;++o){var l=s[o];if(l.buffer){var h=l.size||4,v=l.type||c.FLOAT,p=!!l.normalized,T=l.stride||0,_=l.offset||0;l.buffer.bind(),c.enableVertexAttribArray(o),c.vertexAttribPointer(o,h,v,p,T,_)}else{if("number"==typeof l)c.vertexAttrib1f(o,l);else if(1===l.length)c.vertexAttrib1f(o,l[0]);else if(2===l.length)c.vertexAttrib2f(o,l[0],l[1]);else if(3===l.length)c.vertexAttrib3f(o,l[0],l[1],l[2]);else{if(4!==l.length)throw new Error("gl-vao: Invalid vertex attribute");c.vertexAttrib4f(o,l[0],l[1],l[2],l[3])}c.disableVertexAttribArray(o)}}for(;o<a;++o)c.disableVertexAttribArray(o)}else for(c.bindBuffer(c.ARRAY_BUFFER,null),o=0;o<a;++o)c.disableVertexAttribArray(o)}},7220:function(y,c,i){"use strict";var s=i(3056);function a(o){this.gl=o,this._elements=null,this._attributes=null,this._elementsType=o.UNSIGNED_SHORT}a.prototype.bind=function(){s(this.gl,this._elements,this._attributes)},a.prototype.update=function(o,l,u){this._elements=l,this._attributes=o,this._elementsType=u||this.gl.UNSIGNED_SHORT},a.prototype.dispose=function(){},a.prototype.unbind=function(){},a.prototype.draw=function(o,l,u){u=u||0;var h=this.gl;this._elements?h.drawElements(o,l,this._elementsType,u):h.drawArrays(o,u,l)},y.exports=function(o){return new a(o)}},3778:function(y,c,i){"use strict";var s=i(3056);function a(l,u,h,v,p,T){this.location=l,this.dimension=u,this.a=h,this.b=v,this.c=p,this.d=T}function o(l,u,h){this.gl=l,this._ext=u,this.handle=h,this._attribs=[],this._useElements=!1,this._elementsType=l.UNSIGNED_SHORT}a.prototype.bind=function(l){switch(this.dimension){case 1:l.vertexAttrib1f(this.location,this.a);break;case 2:l.vertexAttrib2f(this.location,this.a,this.b);break;case 3:l.vertexAttrib3f(this.location,this.a,this.b,this.c);break;case 4:l.vertexAttrib4f(this.location,this.a,this.b,this.c,this.d)}},o.prototype.bind=function(){this._ext.bindVertexArrayOES(this.handle);for(var l=0;l<this._attribs.length;++l)this._attribs[l].bind(this.gl)},o.prototype.unbind=function(){this._ext.bindVertexArrayOES(null)},o.prototype.dispose=function(){this._ext.deleteVertexArrayOES(this.handle)},o.prototype.update=function(l,u,h){if(this.bind(),s(this.gl,u,l),this.unbind(),this._attribs.length=0,l)for(var v=0;v<l.length;++v){var p=l[v];"number"==typeof p?this._attribs.push(new a(v,1,p)):Array.isArray(p)&&this._attribs.push(new a(v,p.length,p[0],p[1],p[2],p[3]))}this._useElements=!!u,this._elementsType=h||this.gl.UNSIGNED_SHORT},o.prototype.draw=function(l,u,h){h=h||0;var v=this.gl;this._useElements?v.drawElements(l,u,this._elementsType,h):v.drawArrays(l,h,u)},y.exports=function(l,u){return new o(l,u,u.createVertexArrayOES())}},2944:function(y,c,i){"use strict";var s=i(3778),a=i(7220);function o(l){this.bindVertexArrayOES=l.bindVertexArray.bind(l),this.createVertexArrayOES=l.createVertexArray.bind(l),this.deleteVertexArrayOES=l.deleteVertexArray.bind(l)}y.exports=function(l,u,h,v){var p,T=l.createVertexArray?new o(l):l.getExtension("OES_vertex_array_object");return(p=T?s(l,T):a(l)).update(u,h,v),p}},2598:function(y){y.exports=function(c,i,s){return c[0]=i[0]+s[0],c[1]=i[1]+s[1],c[2]=i[2]+s[2],c}},5879:function(y,c,i){y.exports=function(l,u){var h=s(l[0],l[1],l[2]),v=s(u[0],u[1],u[2]);a(h,h),a(v,v);var p=o(h,v);return p>1?0:Math.acos(p)};var s=i(5415),a=i(899),o=i(9305)},8827:function(y){y.exports=function(c,i){return c[0]=Math.ceil(i[0]),c[1]=Math.ceil(i[1]),c[2]=Math.ceil(i[2]),c}},7622:function(y){y.exports=function(c){var i=new Float32Array(3);return i[0]=c[0],i[1]=c[1],i[2]=c[2],i}},8782:function(y){y.exports=function(c,i){return c[0]=i[0],c[1]=i[1],c[2]=i[2],c}},8501:function(y){y.exports=function(){var c=new Float32Array(3);return c[0]=0,c[1]=0,c[2]=0,c}},903:function(y){y.exports=function(c,i,s){var a=i[0],o=i[1],l=i[2],u=s[0],h=s[1],v=s[2];return c[0]=o*v-l*h,c[1]=l*u-a*v,c[2]=a*h-o*u,c}},5981:function(y,c,i){y.exports=i(8288)},8288:function(y){y.exports=function(c,i){var s=i[0]-c[0],a=i[1]-c[1],o=i[2]-c[2];return Math.sqrt(s*s+a*a+o*o)}},8629:function(y,c,i){y.exports=i(7979)},7979:function(y){y.exports=function(c,i,s){return c[0]=i[0]/s[0],c[1]=i[1]/s[1],c[2]=i[2]/s[2],c}},9305:function(y){y.exports=function(c,i){return c[0]*i[0]+c[1]*i[1]+c[2]*i[2]}},154:function(y){y.exports=1e-6},4932:function(y,c,i){y.exports=function(a,o){var l=a[0],u=a[1],h=a[2],v=o[0],p=o[1],T=o[2];return Math.abs(l-v)<=s*Math.max(1,Math.abs(l),Math.abs(v))&&Math.abs(u-p)<=s*Math.max(1,Math.abs(u),Math.abs(p))&&Math.abs(h-T)<=s*Math.max(1,Math.abs(h),Math.abs(T))};var s=i(154)},5777:function(y){y.exports=function(c,i){return c[0]===i[0]&&c[1]===i[1]&&c[2]===i[2]}},3306:function(y){y.exports=function(c,i){return c[0]=Math.floor(i[0]),c[1]=Math.floor(i[1]),c[2]=Math.floor(i[2]),c}},7447:function(y,c,i){y.exports=function(a,o,l,u,h,v){var p,T;for(o||(o=3),l||(l=0),T=u?Math.min(u*o+l,a.length):a.length,p=l;p<T;p+=o)s[0]=a[p],s[1]=a[p+1],s[2]=a[p+2],h(s,s,v),a[p]=s[0],a[p+1]=s[1],a[p+2]=s[2];return a};var s=i(8501)()},5415:function(y){y.exports=function(c,i,s){var a=new Float32Array(3);return a[0]=c,a[1]=i,a[2]=s,a}},2858:function(y,c,i){y.exports={EPSILON:i(154),create:i(8501),clone:i(7622),angle:i(5879),fromValues:i(5415),copy:i(8782),set:i(831),equals:i(4932),exactEquals:i(5777),add:i(2598),subtract:i(911),sub:i(8921),multiply:i(105),mul:i(5733),divide:i(7979),div:i(8629),min:i(3605),max:i(1716),floor:i(3306),ceil:i(8827),round:i(1624),scale:i(5685),scaleAndAdd:i(6722),distance:i(8288),dist:i(5981),squaredDistance:i(6403),sqrDist:i(5294),length:i(4693),len:i(1468),squaredLength:i(4337),sqrLen:i(3303),negate:i(435),inverse:i(2073),normalize:i(899),dot:i(9305),cross:i(903),lerp:i(1868),random:i(6660),transformMat4:i(3255),transformMat3:i(9908),transformQuat:i(6568),rotateX:i(392),rotateY:i(3222),rotateZ:i(3388),forEach:i(7447)}},2073:function(y){y.exports=function(c,i){return c[0]=1/i[0],c[1]=1/i[1],c[2]=1/i[2],c}},1468:function(y,c,i){y.exports=i(4693)},4693:function(y){y.exports=function(c){var i=c[0],s=c[1],a=c[2];return Math.sqrt(i*i+s*s+a*a)}},1868:function(y){y.exports=function(c,i,s,a){var o=i[0],l=i[1],u=i[2];return c[0]=o+a*(s[0]-o),c[1]=l+a*(s[1]-l),c[2]=u+a*(s[2]-u),c}},1716:function(y){y.exports=function(c,i,s){return c[0]=Math.max(i[0],s[0]),c[1]=Math.max(i[1],s[1]),c[2]=Math.max(i[2],s[2]),c}},3605:function(y){y.exports=function(c,i,s){return c[0]=Math.min(i[0],s[0]),c[1]=Math.min(i[1],s[1]),c[2]=Math.min(i[2],s[2]),c}},5733:function(y,c,i){y.exports=i(105)},105:function(y){y.exports=function(c,i,s){return c[0]=i[0]*s[0],c[1]=i[1]*s[1],c[2]=i[2]*s[2],c}},435:function(y){y.exports=function(c,i){return c[0]=-i[0],c[1]=-i[1],c[2]=-i[2],c}},899:function(y){y.exports=function(c,i){var s=i[0],a=i[1],o=i[2],l=s*s+a*a+o*o;return l>0&&(l=1/Math.sqrt(l),c[0]=i[0]*l,c[1]=i[1]*l,c[2]=i[2]*l),c}},6660:function(y){y.exports=function(c,i){i=i||1;var s=2*Math.random()*Math.PI,a=2*Math.random()-1,o=Math.sqrt(1-a*a)*i;return c[0]=Math.cos(s)*o,c[1]=Math.sin(s)*o,c[2]=a*i,c}},392:function(y){y.exports=function(c,i,s,a){var o=s[1],l=s[2],u=i[1]-o,h=i[2]-l,v=Math.sin(a),p=Math.cos(a);return c[0]=i[0],c[1]=o+u*p-h*v,c[2]=l+u*v+h*p,c}},3222:function(y){y.exports=function(c,i,s,a){var o=s[0],l=s[2],u=i[0]-o,h=i[2]-l,v=Math.sin(a),p=Math.cos(a);return c[0]=o+h*v+u*p,c[1]=i[1],c[2]=l+h*p-u*v,c}},3388:function(y){y.exports=function(c,i,s,a){var o=s[0],l=s[1],u=i[0]-o,h=i[1]-l,v=Math.sin(a),p=Math.cos(a);return c[0]=o+u*p-h*v,c[1]=l+u*v+h*p,c[2]=i[2],c}},1624:function(y){y.exports=function(c,i){return c[0]=Math.round(i[0]),c[1]=Math.round(i[1]),c[2]=Math.round(i[2]),c}},5685:function(y){y.exports=function(c,i,s){return c[0]=i[0]*s,c[1]=i[1]*s,c[2]=i[2]*s,c}},6722:function(y){y.exports=function(c,i,s,a){return c[0]=i[0]+s[0]*a,c[1]=i[1]+s[1]*a,c[2]=i[2]+s[2]*a,c}},831:function(y){y.exports=function(c,i,s,a){return c[0]=i,c[1]=s,c[2]=a,c}},5294:function(y,c,i){y.exports=i(6403)},3303:function(y,c,i){y.exports=i(4337)},6403:function(y){y.exports=function(c,i){var s=i[0]-c[0],a=i[1]-c[1],o=i[2]-c[2];return s*s+a*a+o*o}},4337:function(y){y.exports=function(c){var i=c[0],s=c[1],a=c[2];return i*i+s*s+a*a}},8921:function(y,c,i){y.exports=i(911)},911:function(y){y.exports=function(c,i,s){return c[0]=i[0]-s[0],c[1]=i[1]-s[1],c[2]=i[2]-s[2],c}},9908:function(y){y.exports=function(c,i,s){var a=i[0],o=i[1],l=i[2];return c[0]=a*s[0]+o*s[3]+l*s[6],c[1]=a*s[1]+o*s[4]+l*s[7],c[2]=a*s[2]+o*s[5]+l*s[8],c}},3255:function(y){y.exports=function(c,i,s){var a=i[0],o=i[1],l=i[2],u=s[3]*a+s[7]*o+s[11]*l+s[15];return c[0]=(s[0]*a+s[4]*o+s[8]*l+s[12])/(u=u||1),c[1]=(s[1]*a+s[5]*o+s[9]*l+s[13])/u,c[2]=(s[2]*a+s[6]*o+s[10]*l+s[14])/u,c}},6568:function(y){y.exports=function(c,i,s){var a=i[0],o=i[1],l=i[2],u=s[0],h=s[1],v=s[2],p=s[3],T=p*a+h*l-v*o,_=p*o+v*a-u*l,m=p*l+u*o-h*a,w=-u*a-h*o-v*l;return c[0]=T*p+w*-u+_*-v-m*-h,c[1]=_*p+w*-h+m*-u-T*-v,c[2]=m*p+w*-v+T*-h-_*-u,c}},3433:function(y){y.exports=function(c,i,s){return c[0]=i[0]+s[0],c[1]=i[1]+s[1],c[2]=i[2]+s[2],c[3]=i[3]+s[3],c}},1413:function(y){y.exports=function(c){var i=new Float32Array(4);return i[0]=c[0],i[1]=c[1],i[2]=c[2],i[3]=c[3],i}},3470:function(y){y.exports=function(c,i){return c[0]=i[0],c[1]=i[1],c[2]=i[2],c[3]=i[3],c}},5313:function(y){y.exports=function(){var c=new Float32Array(4);return c[0]=0,c[1]=0,c[2]=0,c[3]=0,c}},5446:function(y){y.exports=function(c,i){var s=i[0]-c[0],a=i[1]-c[1],o=i[2]-c[2],l=i[3]-c[3];return Math.sqrt(s*s+a*a+o*o+l*l)}},205:function(y){y.exports=function(c,i,s){return c[0]=i[0]/s[0],c[1]=i[1]/s[1],c[2]=i[2]/s[2],c[3]=i[3]/s[3],c}},4242:function(y){y.exports=function(c,i){return c[0]*i[0]+c[1]*i[1]+c[2]*i[2]+c[3]*i[3]}},5680:function(y){y.exports=function(c,i,s,a){var o=new Float32Array(4);return o[0]=c,o[1]=i,o[2]=s,o[3]=a,o}},4020:function(y,c,i){y.exports={create:i(5313),clone:i(1413),fromValues:i(5680),copy:i(3470),set:i(6453),add:i(3433),subtract:i(2705),multiply:i(746),divide:i(205),min:i(2170),max:i(3030),scale:i(5510),scaleAndAdd:i(4224),distance:i(5446),squaredDistance:i(1542),length:i(8177),squaredLength:i(9037),negate:i(6459),inverse:i(8057),normalize:i(381),dot:i(4242),lerp:i(8746),random:i(3770),transformMat4:i(6342),transformQuat:i(5022)}},8057:function(y){y.exports=function(c,i){return c[0]=1/i[0],c[1]=1/i[1],c[2]=1/i[2],c[3]=1/i[3],c}},8177:function(y){y.exports=function(c){var i=c[0],s=c[1],a=c[2],o=c[3];return Math.sqrt(i*i+s*s+a*a+o*o)}},8746:function(y){y.exports=function(c,i,s,a){var o=i[0],l=i[1],u=i[2],h=i[3];return c[0]=o+a*(s[0]-o),c[1]=l+a*(s[1]-l),c[2]=u+a*(s[2]-u),c[3]=h+a*(s[3]-h),c}},3030:function(y){y.exports=function(c,i,s){return c[0]=Math.max(i[0],s[0]),c[1]=Math.max(i[1],s[1]),c[2]=Math.max(i[2],s[2]),c[3]=Math.max(i[3],s[3]),c}},2170:function(y){y.exports=function(c,i,s){return c[0]=Math.min(i[0],s[0]),c[1]=Math.min(i[1],s[1]),c[2]=Math.min(i[2],s[2]),c[3]=Math.min(i[3],s[3]),c}},746:function(y){y.exports=function(c,i,s){return c[0]=i[0]*s[0],c[1]=i[1]*s[1],c[2]=i[2]*s[2],c[3]=i[3]*s[3],c}},6459:function(y){y.exports=function(c,i){return c[0]=-i[0],c[1]=-i[1],c[2]=-i[2],c[3]=-i[3],c}},381:function(y){y.exports=function(c,i){var s=i[0],a=i[1],o=i[2],l=i[3],u=s*s+a*a+o*o+l*l;return u>0&&(u=1/Math.sqrt(u),c[0]=s*u,c[1]=a*u,c[2]=o*u,c[3]=l*u),c}},3770:function(y,c,i){var s=i(381),a=i(5510);y.exports=function(o,l){return l=l||1,o[0]=Math.random(),o[1]=Math.random(),o[2]=Math.random(),o[3]=Math.random(),s(o,o),a(o,o,l),o}},5510:function(y){y.exports=function(c,i,s){return c[0]=i[0]*s,c[1]=i[1]*s,c[2]=i[2]*s,c[3]=i[3]*s,c}},4224:function(y){y.exports=function(c,i,s,a){return c[0]=i[0]+s[0]*a,c[1]=i[1]+s[1]*a,c[2]=i[2]+s[2]*a,c[3]=i[3]+s[3]*a,c}},6453:function(y){y.exports=function(c,i,s,a,o){return c[0]=i,c[1]=s,c[2]=a,c[3]=o,c}},1542:function(y){y.exports=function(c,i){var s=i[0]-c[0],a=i[1]-c[1],o=i[2]-c[2],l=i[3]-c[3];return s*s+a*a+o*o+l*l}},9037:function(y){y.exports=function(c){var i=c[0],s=c[1],a=c[2],o=c[3];return i*i+s*s+a*a+o*o}},2705:function(y){y.exports=function(c,i,s){return c[0]=i[0]-s[0],c[1]=i[1]-s[1],c[2]=i[2]-s[2],c[3]=i[3]-s[3],c}},6342:function(y){y.exports=function(c,i,s){var a=i[0],o=i[1],l=i[2],u=i[3];return c[0]=s[0]*a+s[4]*o+s[8]*l+s[12]*u,c[1]=s[1]*a+s[5]*o+s[9]*l+s[13]*u,c[2]=s[2]*a+s[6]*o+s[10]*l+s[14]*u,c[3]=s[3]*a+s[7]*o+s[11]*l+s[15]*u,c}},5022:function(y){y.exports=function(c,i,s){var a=i[0],o=i[1],l=i[2],u=s[0],h=s[1],v=s[2],p=s[3],T=p*a+h*l-v*o,_=p*o+v*a-u*l,m=p*l+u*o-h*a,w=-u*a-h*o-v*l;return c[0]=T*p+w*-u+_*-v-m*-h,c[1]=_*p+w*-h+m*-u-T*-v,c[2]=m*p+w*-v+T*-h-_*-u,c[3]=i[3],c}},9365:function(y,c,i){var s=i(8096),a=i(7896);y.exports=function(o){for(var l=Array.isArray(o)?o:s(o),u=0;u<l.length;u++){var h=l[u];if("preprocessor"===h.type){var v=h.data.match(/\#define\s+SHADER_NAME(_B64)?\s+(.+)$/);if(v&&v[2]){var T=v[2];return(v[1]?a(T):T).trim()}}}}},3193:function(y,c,i){y.exports=function(L){var N,j,X,F=0,Y=0,G=h,H=[],W=[],Z=1,se=0,re=0,ne=!1,Q=!1,ee="",oe=o,ce=s;"300 es"===(L=L||{}).version&&(oe=u,ce=l);var fe={},le={};for(F=0;F<oe.length;F++)fe[oe[F]]=!0;for(F=0;F<ce.length;F++)le[ce[F]]=!0;return function(_e){return W=[],null!==_e?function(Le){var Ie;for(F=0,Le.toString&&(Le=Le.toString()),ee+=Le.replace(/\r\n/g,"\n"),X=ee.length;N=ee[F],F<X;){switch(Ie=F,G){case p:F="/"===N&&"*"===j?(H.push(N),pe(H.join("")),G=h,F+1):(H.push(N),j=N,F+1);break;case T:case _:F="\r"!==N&&"\n"!==N||"\\"===j?(H.push(N),j=N,F+1):(pe(H.join("")),G=h,F);break;case m:F=we();break;case w:F="."===N||/[eE]/.test(N)?(H.push(N),G=x,j=N,F+1):"x"===N&&1===H.length&&"0"===H[0]?(G=O,H.push(N),j=N,F+1):/[^\d]/.test(N)?(pe(H.join("")),G=h,F):(H.push(N),j=N,F+1);break;case O:F=/[^a-fA-F0-9]/.test(N)?(pe(H.join("")),G=h,F):(H.push(N),j=N,F+1);break;case x:"f"===N&&(H.push(N),j=N,F+=1),F=/[eE]/.test(N)?(H.push(N),j=N,F+1):("-"!==N&&"+"!==N||!/[eE]/.test(j))&&/[^\d]/.test(N)?(pe(H.join("")),G=h,F):(H.push(N),j=N,F+1);break;case v:F=he();break;case I:F=/[^\s]/g.test(N)?(pe(H.join("")),G=h,F):(H.push(N),j=N,F+1);break;case h:H=H.length?[]:H,F="/"===j&&"*"===N?(re=Y+F-1,G=p,j=N,F+1):"/"===j&&"/"===N?(re=Y+F-1,G=T,j=N,F+1):"#"===N?(G=_,re=Y+F,F):/\s/.test(N)?(G=I,re=Y+F,F):(ne=/\d/.test(N),Q=/[^\w_]/.test(N),re=Y+F,G=ne?w:Q?m:v,F)}Ie!==F&&("\n"===ee[Ie]?(se=0,++Z):++se)}return Y+=F,ee=ee.slice(F),W}(_e):(H.length&&pe(H.join("")),G=S,pe("(eof)"),W)};function pe(_e){_e.length&&W.push({type:R[G],data:_e,position:re,line:Z,column:se})}function we(){if("."===j&&/\d/.test(N))return G=x,F;if("/"===j&&"*"===N)return G=p,F;if("/"===j&&"/"===N)return G=T,F;if("."===N&&H.length){for(;ze(H););return G=x,F}if(";"===N||")"===N||"("===N){if(H.length)for(;ze(H););return pe(N),G=h,F+1}var _e=2===H.length&&"="!==N;if(/[\w_\d\s]/.test(N)||_e){for(;ze(H););return G=h,F}return H.push(N),j=N,F+1}function ze(_e){for(var Le,Ie,De=0;;){if(Le=a.indexOf(_e.slice(0,_e.length+De).join("")),Ie=a[Le],-1===Le){if(De--+_e.length>0)continue;Ie=_e.slice(0,1).join("")}return pe(Ie),re+=Ie.length,(H=H.slice(Ie.length)).length}}function he(){if(/[^\d\w_]/.test(N)){var _e=H.join("");return G=le[_e]?g:fe[_e]?A:b,pe(H.join("")),G=h,F}return H.push(N),j=N,F+1}};var s=i(399),a=i(9746),o=i(9525),l=i(9458),u=i(3585),h=999,v=9999,p=0,T=1,_=2,m=3,w=4,x=5,b=6,A=7,g=8,I=9,S=10,O=11,R=["block-comment","line-comment","preprocessor","operator","integer","float","ident","builtin","keyword","whitespace","eof","integer"]},3585:function(y,c,i){var s=i(9525);s=s.slice().filter(function(a){return!/^(gl\_|texture)/.test(a)}),y.exports=s.concat(["gl_VertexID","gl_InstanceID","gl_Position","gl_PointSize","gl_FragCoord","gl_FrontFacing","gl_FragDepth","gl_PointCoord","gl_MaxVertexAttribs","gl_MaxVertexUniformVectors","gl_MaxVertexOutputVectors","gl_MaxFragmentInputVectors","gl_MaxVertexTextureImageUnits","gl_MaxCombinedTextureImageUnits","gl_MaxTextureImageUnits","gl_MaxFragmentUniformVectors","gl_MaxDrawBuffers","gl_MinProgramTexelOffset","gl_MaxProgramTexelOffset","gl_DepthRangeParameters","gl_DepthRange","trunc","round","roundEven","isnan","isinf","floatBitsToInt","floatBitsToUint","intBitsToFloat","uintBitsToFloat","packSnorm2x16","unpackSnorm2x16","packUnorm2x16","unpackUnorm2x16","packHalf2x16","unpackHalf2x16","outerProduct","transpose","determinant","inverse","texture","textureSize","textureProj","textureLod","textureOffset","texelFetch","texelFetchOffset","textureProjOffset","textureLodOffset","textureProjLod","textureProjLodOffset","textureGrad","textureGradOffset","textureProjGrad","textureProjGradOffset"])},9525:function(y){y.exports=["abs","acos","all","any","asin","atan","ceil","clamp","cos","cross","dFdx","dFdy","degrees","distance","dot","equal","exp","exp2","faceforward","floor","fract","gl_BackColor","gl_BackLightModelProduct","gl_BackLightProduct","gl_BackMaterial","gl_BackSecondaryColor","gl_ClipPlane","gl_ClipVertex","gl_Color","gl_DepthRange","gl_DepthRangeParameters","gl_EyePlaneQ","gl_EyePlaneR","gl_EyePlaneS","gl_EyePlaneT","gl_Fog","gl_FogCoord","gl_FogFragCoord","gl_FogParameters","gl_FragColor","gl_FragCoord","gl_FragData","gl_FragDepth","gl_FragDepthEXT","gl_FrontColor","gl_FrontFacing","gl_FrontLightModelProduct","gl_FrontLightProduct","gl_FrontMaterial","gl_FrontSecondaryColor","gl_LightModel","gl_LightModelParameters","gl_LightModelProducts","gl_LightProducts","gl_LightSource","gl_LightSourceParameters","gl_MaterialParameters","gl_MaxClipPlanes","gl_MaxCombinedTextureImageUnits","gl_MaxDrawBuffers","gl_MaxFragmentUniformComponents","gl_MaxLights","gl_MaxTextureCoords","gl_MaxTextureImageUnits","gl_MaxTextureUnits","gl_MaxVaryingFloats","gl_MaxVertexAttribs","gl_MaxVertexTextureImageUnits","gl_MaxVertexUniformComponents","gl_ModelViewMatrix","gl_ModelViewMatrixInverse","gl_ModelViewMatrixInverseTranspose","gl_ModelViewMatrixTranspose","gl_ModelViewProjectionMatrix","gl_ModelViewProjectionMatrixInverse","gl_ModelViewProjectionMatrixInverseTranspose","gl_ModelViewProjectionMatrixTranspose","gl_MultiTexCoord0","gl_MultiTexCoord1","gl_MultiTexCoord2","gl_MultiTexCoord3","gl_MultiTexCoord4","gl_MultiTexCoord5","gl_MultiTexCoord6","gl_MultiTexCoord7","gl_Normal","gl_NormalMatrix","gl_NormalScale","gl_ObjectPlaneQ","gl_ObjectPlaneR","gl_ObjectPlaneS","gl_ObjectPlaneT","gl_Point","gl_PointCoord","gl_PointParameters","gl_PointSize","gl_Position","gl_ProjectionMatrix","gl_ProjectionMatrixInverse","gl_ProjectionMatrixInverseTranspose","gl_ProjectionMatrixTranspose","gl_SecondaryColor","gl_TexCoord","gl_TextureEnvColor","gl_TextureMatrix","gl_TextureMatrixInverse","gl_TextureMatrixInverseTranspose","gl_TextureMatrixTranspose","gl_Vertex","greaterThan","greaterThanEqual","inversesqrt","length","lessThan","lessThanEqual","log","log2","matrixCompMult","max","min","mix","mod","normalize","not","notEqual","pow","radians","reflect","refract","sign","sin","smoothstep","sqrt","step","tan","texture2D","texture2DLod","texture2DProj","texture2DProjLod","textureCube","textureCubeLod","texture2DLodEXT","texture2DProjLodEXT","textureCubeLodEXT","texture2DGradEXT","texture2DProjGradEXT","textureCubeGradEXT"]},9458:function(y,c,i){var s=i(399);y.exports=s.slice().concat(["layout","centroid","smooth","case","mat2x2","mat2x3","mat2x4","mat3x2","mat3x3","mat3x4","mat4x2","mat4x3","mat4x4","uvec2","uvec3","uvec4","samplerCubeShadow","sampler2DArray","sampler2DArrayShadow","isampler2D","isampler3D","isamplerCube","isampler2DArray","usampler2D","usampler3D","usamplerCube","usampler2DArray","coherent","restrict","readonly","writeonly","resource","atomic_uint","noperspective","patch","sample","subroutine","common","partition","active","filter","image1D","image2D","image3D","imageCube","iimage1D","iimage2D","iimage3D","iimageCube","uimage1D","uimage2D","uimage3D","uimageCube","image1DArray","image2DArray","iimage1DArray","iimage2DArray","uimage1DArray","uimage2DArray","image1DShadow","image2DShadow","image1DArrayShadow","image2DArrayShadow","imageBuffer","iimageBuffer","uimageBuffer","sampler1DArray","sampler1DArrayShadow","isampler1D","isampler1DArray","usampler1D","usampler1DArray","isampler2DRect","usampler2DRect","samplerBuffer","isamplerBuffer","usamplerBuffer","sampler2DMS","isampler2DMS","usampler2DMS","sampler2DMSArray","isampler2DMSArray","usampler2DMSArray"])},399:function(y){y.exports=["precision","highp","mediump","lowp","attribute","const","uniform","varying","break","continue","do","for","while","if","else","in","out","inout","float","int","uint","void","bool","true","false","discard","return","mat2","mat3","mat4","vec2","vec3","vec4","ivec2","ivec3","ivec4","bvec2","bvec3","bvec4","sampler1D","sampler2D","sampler3D","samplerCube","sampler1DShadow","sampler2DShadow","struct","asm","class","union","enum","typedef","template","this","packed","goto","switch","default","inline","noinline","volatile","public","static","extern","external","interface","long","short","double","half","fixed","unsigned","input","output","hvec2","hvec3","hvec4","dvec2","dvec3","dvec4","fvec2","fvec3","fvec4","sampler2DRect","sampler3DRect","sampler2DRectShadow","sizeof","cast","namespace","using"]},9746:function(y){y.exports=["<<=",">>=","++","--","<<",">>","<=",">=","==","!=","&&","||","+=","-=","*=","/=","%=","&=","^^","^=","|=","(",")","[","]",".","!","~","*","/","%","+","-","<",">","&","^","|","?",":","=",",",";","{","}"]},8096:function(y,c,i){var s=i(3193);y.exports=function(a,o){var l=s(o),u=[];return(u=u.concat(l(a))).concat(l(null))}},6832:function(y){y.exports=function(c){"string"==typeof c&&(c=[c]);for(var i=[].slice.call(arguments,1),s=[],a=0;a<c.length-1;a++)s.push(c[a],i[a]||"");return s.push(c[a]),s.join("")}},5233:function(y,c,i){"use strict";var s=i(4846);y.exports=s&&function(){var a=!1;try{var o=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("test",null,o),window.removeEventListener("test",null,o)}catch{a=!1}return a}()},2183:function(y,c,i){"use strict";y.exports=function(T,_){var m=T.length;if(0===m)throw new Error("Must have at least d+1 points");var w=T[0].length;if(m<=w)throw new Error("Must input at least d+1 points");var x=T.slice(0,w+1),b=s.apply(void 0,x);if(0===b)throw new Error("Input not in general position");for(var A=new Array(w+1),g=0;g<=w;++g)A[g]=g;b<0&&(A[0]=1,A[1]=0);var I=new o(A,new Array(w+1),!1),S=I.adjacent,O=new Array(w+2);for(g=0;g<=w;++g){for(var R=A.slice(),L=0;L<=w;++L)L===g&&(R[L]=-1);var N=R[0];R[0]=R[1],R[1]=N;var j=new o(R,new Array(w+1),!0);S[g]=j,O[g]=j}for(O[w+1]=I,g=0;g<=w;++g){R=S[g].vertices;var X=S[g].adjacent;for(L=0;L<=w;++L){var F=R[L];if(F<0)X[L]=I;else for(var Y=0;Y<=w;++Y)S[Y].vertices.indexOf(F)<0&&(X[L]=S[Y])}}var G=new v(w,x,O),H=!!_;for(g=w+1;g<m;++g)G.insert(T[g],H);return G.boundary()};var s=i(417),a=i(8211).H;function o(T,_,m){this.vertices=T,this.adjacent=_,this.boundary=m,this.lastVisited=-1}function l(T,_,m){this.vertices=T,this.cell=_,this.index=m}function u(T,_){return a(T.vertices,_.vertices)}o.prototype.flip=function(){var T=this.vertices[0];this.vertices[0]=this.vertices[1],this.vertices[1]=T;var _=this.adjacent[0];this.adjacent[0]=this.adjacent[1],this.adjacent[1]=_};var h=[];function v(T,_,m){this.dimension=T,this.vertices=_,this.simplices=m,this.interior=m.filter(function(A){return!A.boundary}),this.tuple=new Array(T+1);for(var w=0;w<=T;++w)this.tuple[w]=this.vertices[w];var x,A,b=h[T];b||(b=h[T]=((x=s[T+1])||(x=s),A=x,function(){return A.apply(this,this.tuple)})),this.orient=b}var p=v.prototype;p.handleBoundaryDegeneracy=function(T,_){var m=this.dimension,w=this.vertices.length-1,x=this.tuple,b=this.vertices,A=[T];for(T.lastVisited=-w;A.length>0;)for(var g=(T=A.pop()).adjacent,I=0;I<=m;++I){var S=g[I];if(S.boundary&&!(S.lastVisited<=-w)){for(var O=S.vertices,R=0;R<=m;++R){var L=O[R];x[R]=L<0?_:b[L]}var N=this.orient();if(N>0)return S;S.lastVisited=-w,0===N&&A.push(S)}}return null},p.walk=function(T,_){var m=this.vertices.length-1,w=this.dimension,x=this.vertices,b=this.tuple,A=_?this.interior.length*Math.random()|0:this.interior.length-1,g=this.interior[A];e:for(;!g.boundary;){for(var I=g.vertices,S=g.adjacent,O=0;O<=w;++O)b[O]=x[I[O]];for(g.lastVisited=m,O=0;O<=w;++O){var R=S[O];if(!(R.lastVisited>=m)){var L=b[O];b[O]=T;var N=this.orient();if(b[O]=L,N<0){g=R;continue e}R.lastVisited=R.boundary?-m:m}}return}return g},p.addPeaks=function(T,_){var m=this.vertices.length-1,w=this.dimension,x=this.vertices,b=this.tuple,A=this.interior,g=this.simplices,I=[_];_.lastVisited=m,_.vertices[_.vertices.indexOf(-1)]=m,_.boundary=!1,A.push(_);for(var S=[];I.length>0;){var O=(_=I.pop()).vertices,R=_.adjacent,L=O.indexOf(m);if(!(L<0))for(var N=0;N<=w;++N)if(N!==L){var j=R[N];if(j.boundary&&!(j.lastVisited>=m)){var X=j.vertices;if(j.lastVisited!==-m){for(var F=0,Y=0;Y<=w;++Y)X[Y]<0?(F=Y,b[Y]=T):b[Y]=x[X[Y]];if(this.orient()>0){X[F]=m,j.boundary=!1,A.push(j),I.push(j),j.lastVisited=m;continue}j.lastVisited=-m}var G=j.adjacent,H=O.slice(),W=R.slice(),Z=new o(H,W,!0);g.push(Z);var se=G.indexOf(_);if(!(se<0))for(G[se]=Z,W[L]=j,H[N]=-1,W[N]=_,R[N]=Z,Z.flip(),Y=0;Y<=w;++Y){var re=H[Y];if(!(re<0||re===m)){for(var ne=new Array(w-1),Q=0,ee=0;ee<=w;++ee){var oe=H[ee];oe<0||ee===Y||(ne[Q++]=oe)}S.push(new l(ne,Z,Y))}}}}}for(S.sort(u),N=0;N+1<S.length;N+=2){var ce=S[N],fe=S[N+1];ce.index<0||fe.index<0||(ce.cell.adjacent[ce.index]=fe.cell,fe.cell.adjacent[fe.index]=ce.cell)}},p.insert=function(T,_){var m=this.vertices;m.push(T);var w=this.walk(T,_);if(w){for(var x=this.dimension,b=this.tuple,A=0;A<=x;++A){var g=w.vertices[A];b[A]=g<0?T:m[g]}var I=this.orient(b);I<0||(0!==I||(w=this.handleBoundaryDegeneracy(w,T)))&&this.addPeaks(T,w)}},p.boundary=function(){for(var T=this.dimension,_=[],m=this.simplices,w=m.length,x=0;x<w;++x){var b=m[x];if(b.boundary){for(var A=new Array(T),g=b.vertices,I=0,S=0,O=0;O<=T;++O)g[O]>=0?A[I++]=g[O]:S=1&O;if(S===(1&T)){var R=A[0];A[0]=A[1],A[1]=R}_.push(A)}}return _}},9014:function(y,c,i){"use strict";var s=i(5070);function a(I,S,O,R,L){this.mid=I,this.left=S,this.right=O,this.leftPoints=R,this.rightPoints=L,this.count=(S?S.count:0)+(O?O.count:0)+R.length}y.exports=function(I){return new A(I&&0!==I.length?b(I):null)};var o=a.prototype;function l(I,S){I.mid=S.mid,I.left=S.left,I.right=S.right,I.leftPoints=S.leftPoints,I.rightPoints=S.rightPoints,I.count=S.count}function u(I,S){var O=b(S);I.mid=O.mid,I.left=O.left,I.right=O.right,I.leftPoints=O.leftPoints,I.rightPoints=O.rightPoints,I.count=O.count}function h(I,S){var O=I.intervals([]);O.push(S),u(I,O)}function v(I,S){var O=I.intervals([]),R=O.indexOf(S);return R<0?0:(O.splice(R,1),u(I,O),1)}function p(I,S,O){for(var R=0;R<I.length&&I[R][0]<=S;++R){var L=O(I[R]);if(L)return L}}function T(I,S,O){for(var R=I.length-1;R>=0&&I[R][1]>=S;--R){var L=O(I[R]);if(L)return L}}function _(I,S){for(var O=0;O<I.length;++O){var R=S(I[O]);if(R)return R}}function m(I,S){return I-S}function w(I,S){return I[0]-S[0]||I[1]-S[1]}function x(I,S){return I[1]-S[1]||I[0]-S[0]}function b(I){if(0===I.length)return null;for(var S=[],O=0;O<I.length;++O)S.push(I[O][0],I[O][1]);S.sort(m);var R=S[S.length>>1],L=[],N=[],j=[];for(O=0;O<I.length;++O){var X=I[O];X[1]<R?L.push(X):R<X[0]?N.push(X):j.push(X)}var F=j,Y=j.slice();return F.sort(w),Y.sort(x),new a(R,b(L),b(N),F,Y)}function A(I){this.root=I}o.intervals=function(I){return I.push.apply(I,this.leftPoints),this.left&&this.left.intervals(I),this.right&&this.right.intervals(I),I},o.insert=function(I){var S=this.count-this.leftPoints.length;if(this.count+=1,I[1]<this.mid)this.left?4*(this.left.count+1)>3*(S+1)?h(this,I):this.left.insert(I):this.left=b([I]);else if(I[0]>this.mid)this.right?4*(this.right.count+1)>3*(S+1)?h(this,I):this.right.insert(I):this.right=b([I]);else{var O=s.ge(this.leftPoints,I,w),R=s.ge(this.rightPoints,I,x);this.leftPoints.splice(O,0,I),this.rightPoints.splice(R,0,I)}},o.remove=function(I){var S=this.count-this.leftPoints;if(I[1]<this.mid)return this.left?4*(this.right?this.right.count:0)>3*(S-1)?v(this,I):2===(N=this.left.remove(I))?(this.left=null,this.count-=1,1):(1===N&&(this.count-=1),N):0;if(I[0]>this.mid)return this.right?4*(this.left?this.left.count:0)>3*(S-1)?v(this,I):2===(N=this.right.remove(I))?(this.right=null,this.count-=1,1):(1===N&&(this.count-=1),N):0;if(1===this.count)return this.leftPoints[0]===I?2:0;if(1===this.leftPoints.length&&this.leftPoints[0]===I){if(this.left&&this.right){for(var O=this,R=this.left;R.right;)O=R,R=R.right;if(O===this)R.right=this.right;else{var L=this.left,N=this.right;O.count-=R.count,O.right=R.left,R.left=L,R.right=N}l(this,R),this.count=(this.left?this.left.count:0)+(this.right?this.right.count:0)+this.leftPoints.length}else l(this,this.left?this.left:this.right);return 1}for(L=s.ge(this.leftPoints,I,w);L<this.leftPoints.length&&this.leftPoints[L][0]===I[0];++L)if(this.leftPoints[L]===I)for(this.count-=1,this.leftPoints.splice(L,1),N=s.ge(this.rightPoints,I,x);N<this.rightPoints.length&&this.rightPoints[N][1]===I[1];++N)if(this.rightPoints[N]===I)return this.rightPoints.splice(N,1),1;return 0},o.queryPoint=function(I,S){return I<this.mid?this.left&&(O=this.left.queryPoint(I,S))?O:p(this.leftPoints,I,S):I>this.mid?this.right&&(O=this.right.queryPoint(I,S))?O:T(this.rightPoints,I,S):_(this.leftPoints,S);var O},o.queryInterval=function(I,S,O){var R;return I<this.mid&&this.left&&(R=this.left.queryInterval(I,S,O))||S>this.mid&&this.right&&(R=this.right.queryInterval(I,S,O))?R:S<this.mid?p(this.leftPoints,S,O):I>this.mid?T(this.rightPoints,I,O):_(this.leftPoints,O)};var g=A.prototype;g.insert=function(I){this.root?this.root.insert(I):this.root=new a(I[0],null,null,[I],[I])},g.remove=function(I){if(this.root){var S=this.root.remove(I);return 2===S&&(this.root=null),0!==S}return!1},g.queryPoint=function(I,S){if(this.root)return this.root.queryPoint(I,S)},g.queryInterval=function(I,S,O){if(I<=S&&this.root)return this.root.queryInterval(I,S,O)},Object.defineProperty(g,"count",{get:function(){return this.root?this.root.count:0}}),Object.defineProperty(g,"intervals",{get:function(){return this.root?this.root.intervals([]):[]}})},9560:function(y){"use strict";y.exports=function(c){for(var i=new Array(c),s=0;s<c;++s)i[s]=s;return i}},4846:function(y){y.exports=!0},4780:function(y){function c(i){return!!i.constructor&&"function"==typeof i.constructor.isBuffer&&i.constructor.isBuffer(i)}y.exports=function(i){return null!=i&&(c(i)||"function"==typeof(s=i).readFloatLE&&"function"==typeof s.slice&&c(s.slice(0,0))||!!i._isBuffer);var s}},3596:function(y){"use strict";y.exports=function(c){for(var i,s=c.length,a=0;a<s;a++)if(((i=c.charCodeAt(a))<9||i>13)&&32!==i&&133!==i&&160!==i&&5760!==i&&6158!==i&&(i<8192||i>8205)&&8232!==i&&8233!==i&&8239!==i&&8287!==i&&8288!==i&&12288!==i&&65279!==i)return!1;return!0}},3578:function(y){y.exports=function(c,i,s){return c*(1-s)+i*s}},7191:function(y,c,i){var s=i(4690),a=i(9823),o=i(7332),l=i(7787),u=i(7437),h=i(2142),v={length:i(4693),normalize:i(899),dot:i(9305),cross:i(903)},p=a(),T=a(),_=[0,0,0,0],m=[[0,0,0],[0,0,0],[0,0,0]],w=[0,0,0];function x(b,A,g,I,S){b[0]=A[0]*I+g[0]*S,b[1]=A[1]*I+g[1]*S,b[2]=A[2]*I+g[2]*S}y.exports=function(b,A,g,I,S,O){if(A||(A=[0,0,0]),g||(g=[0,0,0]),I||(I=[0,0,0]),S||(S=[0,0,0,1]),O||(O=[0,0,0,1]),!s(p,b)||(o(T,p),T[3]=0,T[7]=0,T[11]=0,T[15]=1,Math.abs(l(T)<1e-8)))return!1;var R,L,N,j,X,F,Y,ee,oe,G=p[3],H=p[7],W=p[11],Z=p[12],se=p[13],re=p[14],ne=p[15];if(0!==G||0!==H||0!==W){if(_[0]=G,_[1]=H,_[2]=W,_[3]=ne,!u(T,T))return!1;h(T,T),j=(L=_)[0],(R=S)[0]=(N=T)[0]*j+N[4]*(X=L[1])+N[8]*(F=L[2])+N[12]*(Y=L[3]),R[1]=N[1]*j+N[5]*X+N[9]*F+N[13]*Y,R[2]=N[2]*j+N[6]*X+N[10]*F+N[14]*Y,R[3]=N[3]*j+N[7]*X+N[11]*F+N[15]*Y}else S[0]=S[1]=S[2]=0,S[3]=1;if(A[0]=Z,A[1]=se,A[2]=re,(ee=m)[0][0]=(oe=p)[0],ee[0][1]=oe[1],ee[0][2]=oe[2],ee[1][0]=oe[4],ee[1][1]=oe[5],ee[1][2]=oe[6],ee[2][0]=oe[8],ee[2][1]=oe[9],ee[2][2]=oe[10],g[0]=v.length(m[0]),v.normalize(m[0],m[0]),I[0]=v.dot(m[0],m[1]),x(m[1],m[1],m[0],1,-I[0]),g[1]=v.length(m[1]),v.normalize(m[1],m[1]),I[0]/=g[1],I[1]=v.dot(m[0],m[2]),x(m[2],m[2],m[0],1,-I[1]),I[2]=v.dot(m[1],m[2]),x(m[2],m[2],m[1],1,-I[2]),g[2]=v.length(m[2]),v.normalize(m[2],m[2]),I[1]/=g[2],I[2]/=g[2],v.cross(w,m[1],m[2]),v.dot(m[0],w)<0)for(var Q=0;Q<3;Q++)g[Q]*=-1,m[Q][0]*=-1,m[Q][1]*=-1,m[Q][2]*=-1;return O[0]=.5*Math.sqrt(Math.max(1+m[0][0]-m[1][1]-m[2][2],0)),O[1]=.5*Math.sqrt(Math.max(1-m[0][0]+m[1][1]-m[2][2],0)),O[2]=.5*Math.sqrt(Math.max(1-m[0][0]-m[1][1]+m[2][2],0)),O[3]=.5*Math.sqrt(Math.max(1+m[0][0]+m[1][1]+m[2][2],0)),m[2][1]>m[1][2]&&(O[0]=-O[0]),m[0][2]>m[2][0]&&(O[1]=-O[1]),m[1][0]>m[0][1]&&(O[2]=-O[2]),!0}},4690:function(y){y.exports=function(c,i){var s=i[15];if(0===s)return!1;for(var a=1/s,o=0;o<16;o++)c[o]=i[o]*a;return!0}},7649:function(y,c,i){var s=i(1868),a=i(1102),o=i(7191),l=i(7787),u=i(1116),h=T(),v=T(),p=T();function T(){return{translate:_(),scale:_(1),skew:_(),perspective:[0,0,0,1],quaternion:[0,0,0,1]}}function _(m){return[m||0,m||0,m||0]}y.exports=function(m,w,x,b){if(0===l(w)||0===l(x))return!1;var A=o(w,h.translate,h.scale,h.skew,h.perspective,h.quaternion),g=o(x,v.translate,v.scale,v.skew,v.perspective,v.quaternion);return!(!A||!g||(s(p.translate,h.translate,v.translate,b),s(p.skew,h.skew,v.skew,b),s(p.scale,h.scale,v.scale,b),s(p.perspective,h.perspective,v.perspective,b),u(p.quaternion,h.quaternion,v.quaternion,b),a(m,p.translate,p.scale,p.skew,p.perspective,p.quaternion),0))}},1102:function(y,c,i){var s={identity:i(9947),translate:i(998),multiply:i(104),create:i(9823),scale:i(3668),fromRotationTranslation:i(7280)},a=(s.create(),s.create());y.exports=function(o,l,u,h,v,p){return s.identity(o),s.fromRotationTranslation(o,p,l),o[3]=v[0],o[7]=v[1],o[11]=v[2],o[15]=v[3],s.identity(a),0!==h[2]&&(a[9]=h[2],s.multiply(o,o,a)),0!==h[1]&&(a[9]=0,a[8]=h[1],s.multiply(o,o,a)),0!==h[0]&&(a[8]=0,a[4]=h[0],s.multiply(o,o,a)),s.scale(o,o,u),o}},9298:function(y,c,i){"use strict";var s=i(5070),a=i(7649),o=i(7437),l=i(6109),u=i(7115),h=i(5240),v=i(3012),p=i(998),T=(i(3668),i(899)),_=[0,0,0];function m(b){this._components=b.slice(),this._time=[0],this.prevMatrix=b.slice(),this.nextMatrix=b.slice(),this.computedMatrix=b.slice(),this.computedInverse=b.slice(),this.computedEye=[0,0,0],this.computedUp=[0,0,0],this.computedCenter=[0,0,0],this.computedRadius=[0],this._limits=[-1/0,1/0]}y.exports=function(b){return new m((b=b||{}).matrix||[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])};var w=m.prototype;w.recalcMatrix=function(b){var A=this._time,g=s.le(A,b),I=this.computedMatrix;if(!(g<0)){var S=this._components;if(g===A.length-1)for(var O=16*g,R=0;R<16;++R)I[R]=S[O++];else{var L=A[g+1]-A[g],N=(O=16*g,this.prevMatrix),j=!0;for(R=0;R<16;++R)N[R]=S[O++];var X=this.nextMatrix;for(R=0;R<16;++R)X[R]=S[O++],j=j&&N[R]===X[R];if(L<1e-6||j)for(R=0;R<16;++R)I[R]=N[R];else a(I,N,X,(b-A[g])/L)}var F=this.computedUp;F[0]=I[1],F[1]=I[5],F[2]=I[9],T(F,F);var Y=this.computedInverse;o(Y,I);var G=this.computedEye,H=Y[15];G[0]=Y[12]/H,G[1]=Y[13]/H,G[2]=Y[14]/H;var W=this.computedCenter,Z=Math.exp(this.computedRadius[0]);for(R=0;R<3;++R)W[R]=G[R]-I[2+4*R]*Z}},w.idle=function(b){if(!(b<this.lastT())){for(var A=this._components,g=A.length-16,I=0;I<16;++I)A.push(A[g++]);this._time.push(b)}},w.flush=function(b){var A=s.gt(this._time,b)-2;A<0||(this._time.splice(0,A),this._components.splice(0,16*A))},w.lastT=function(){return this._time[this._time.length-1]},w.lookAt=function(b,A,g,I){this.recalcMatrix(b),this.setMatrix(b,v(this.computedMatrix,A=A||this.computedEye,g=g||_,I=I||this.computedUp));for(var S=0,O=0;O<3;++O)S+=Math.pow(g[O]-A[O],2);S=Math.log(Math.sqrt(S)),this.computedRadius[0]=S},w.rotate=function(b,A,g,I){this.recalcMatrix(b);var S=this.computedInverse;A&&u(S,S,A),g&&l(S,S,g),I&&h(S,S,I),this.setMatrix(b,o(this.computedMatrix,S))};var x=[0,0,0];w.pan=function(b,A,g,I){x[0]=-(A||0),x[1]=-(g||0),x[2]=-(I||0),this.recalcMatrix(b);var S=this.computedInverse;p(S,S,x),this.setMatrix(b,o(S,S))},w.translate=function(b,A,g,I){x[0]=A||0,x[1]=g||0,x[2]=I||0,this.recalcMatrix(b);var S=this.computedMatrix;p(S,S,x),this.setMatrix(b,S)},w.setMatrix=function(b,A){if(!(b<this.lastT())){this._time.push(b);for(var g=0;g<16;++g)this._components.push(A[g])}},w.setDistance=function(b,A){this.computedRadius[0]=A},w.setDistanceLimits=function(b,A){var g=this._limits;g[0]=b,g[1]=A},w.getDistanceLimits=function(b){var A=this._limits;return b?(b[0]=A[0],b[1]=A[1],b):A}},3266:function(y,c,i){"use strict";y.exports=function(a){var o=a.length;if(o<3){for(var l=new Array(o),u=0;u<o;++u)l[u]=u;return 2===o&&a[0][0]===a[1][0]&&a[0][1]===a[1][1]?[0]:l}var h=new Array(o);for(u=0;u<o;++u)h[u]=u;h.sort(function(A,g){return a[A][0]-a[g][0]||a[A][1]-a[g][1]});var v=[h[0],h[1]],p=[h[0],h[1]];for(u=2;u<o;++u){for(var T=h[u],_=a[T],m=v.length;m>1&&s(a[v[m-2]],a[v[m-1]],_)<=0;)m-=1,v.pop();for(v.push(T),m=p.length;m>1&&s(a[p[m-2]],a[p[m-1]],_)>=0;)m-=1,p.pop();p.push(T)}l=new Array(p.length+v.length-2);for(var w=0,x=(u=0,v.length);u<x;++u)l[w++]=v[u];for(var b=p.length-2;b>0;--b)l[w++]=p[b];return l};var s=i(417)[3]},6145:function(y,c,i){"use strict";y.exports=function(a,o){o||(o=a,a=window);var l=0,u=0,h=0,v={shift:!1,alt:!1,control:!1,meta:!1},p=!1;function T(O){var R=!1;return"altKey"in O&&(R=R||O.altKey!==v.alt,v.alt=!!O.altKey),"shiftKey"in O&&(R=R||O.shiftKey!==v.shift,v.shift=!!O.shiftKey),"ctrlKey"in O&&(R=R||O.ctrlKey!==v.control,v.control=!!O.ctrlKey),"metaKey"in O&&(R=R||O.metaKey!==v.meta,v.meta=!!O.metaKey),R}function _(O,R){var L=s.x(R),N=s.y(R);"buttons"in R&&(O=0|R.buttons),(O!==l||L!==u||N!==h||T(R))&&(l=0|O,u=L||0,h=N||0,o&&o(l,u,h,v))}function m(O){_(0,O)}function w(){(l||u||h||v.shift||v.alt||v.meta||v.control)&&(u=h=0,l=0,v.shift=v.alt=v.control=v.meta=!1,o&&o(0,0,0,v))}function x(O){T(O)&&o&&o(l,u,h,v)}function b(O){0===s.buttons(O)?_(0,O):_(l,O)}function A(O){_(l|s.buttons(O),O)}function g(O){_(l&~s.buttons(O),O)}function I(){p||(p=!0,a.addEventListener("mousemove",b),a.addEventListener("mousedown",A),a.addEventListener("mouseup",g),a.addEventListener("mouseleave",m),a.addEventListener("mouseenter",m),a.addEventListener("mouseout",m),a.addEventListener("mouseover",m),a.addEventListener("blur",w),a.addEventListener("keyup",x),a.addEventListener("keydown",x),a.addEventListener("keypress",x),a!==window&&(window.addEventListener("blur",w),window.addEventListener("keyup",x),window.addEventListener("keydown",x),window.addEventListener("keypress",x)))}I();var S={element:a};return Object.defineProperties(S,{enabled:{get:function(){return p},set:function(O){O?I():p&&(p=!1,a.removeEventListener("mousemove",b),a.removeEventListener("mousedown",A),a.removeEventListener("mouseup",g),a.removeEventListener("mouseleave",m),a.removeEventListener("mouseenter",m),a.removeEventListener("mouseout",m),a.removeEventListener("mouseover",m),a.removeEventListener("blur",w),a.removeEventListener("keyup",x),a.removeEventListener("keydown",x),a.removeEventListener("keypress",x),a!==window&&(window.removeEventListener("blur",w),window.removeEventListener("keyup",x),window.removeEventListener("keydown",x),window.removeEventListener("keypress",x)))},enumerable:!0},buttons:{get:function(){return l},enumerable:!0},x:{get:function(){return u},enumerable:!0},y:{get:function(){return h},enumerable:!0},mods:{get:function(){return v},enumerable:!0}}),S};var s=i(4110)},2565:function(y){var c={left:0,top:0};y.exports=function(i,s,a){s=s||i.currentTarget||i.srcElement,Array.isArray(a)||(a=[0,0]);var o,l=i.clientX||0,u=i.clientY||0,h=(o=s)===window||o===document||o===document.body?c:o.getBoundingClientRect();return a[0]=l-h.left,a[1]=u-h.top,a}},4110:function(y,c){"use strict";function i(s){return s.target||s.srcElement||window}c.buttons=function(s){if("object"==typeof s){if("buttons"in s)return s.buttons;if("which"in s){if(2===(a=s.which))return 4;if(3===a)return 2;if(a>0)return 1<<a-1}else if("button"in s){var a;if(1===(a=s.button))return 4;if(2===a)return 2;if(a>=0)return 1<<a}}return 0},c.element=i,c.x=function(s){if("object"==typeof s){if("offsetX"in s)return s.offsetX;var a=i(s).getBoundingClientRect();return s.clientX-a.left}return 0},c.y=function(s){if("object"==typeof s){if("offsetY"in s)return s.offsetY;var a=i(s).getBoundingClientRect();return s.clientY-a.top}return 0}},6475:function(y,c,i){"use strict";var s=i(14);y.exports=function(a,o,l){"function"==typeof a&&(l=!!o,o=a,a=window);var u=s("ex",a),h=function(v){l&&v.preventDefault();var p=v.deltaX||0,T=v.deltaY||0,_=v.deltaZ||0,m=1;switch(v.deltaMode){case 1:m=u;break;case 2:m=window.innerHeight}if(T*=m,_*=m,(p*=m)||T||_)return o(p,T,_,v)};return a.addEventListener("wheel",h),h}},9284:function(y,c,i){"use strict";var s=i(5306);y.exports=function(o){function l(_){throw new Error("ndarray-extract-contour: "+_)}"object"!=typeof o&&l("Must specify arguments");var u=o.order;Array.isArray(u)||l("Must specify order");var _,m,w,g,h=o.arrayArguments||1;h<1&&l("Must have at least one array argument"),(o.scalarArguments||0)<0&&l("Scalar arg count must be > 0"),"function"!=typeof o.vertex&&l("Must specify vertex creation function"),"function"!=typeof o.cell&&l("Must specify cell creation function"),"function"!=typeof o.phase&&l("Must specify phase function");for(var v=o.getters||[],p=new Array(h),T=0;T<h;++T)p[T]=v.indexOf(T)>=0;return _=o.vertex,m=o.cell,w=o.phase,g=[p,u].join(","),(0,a[g])(_,m,w,s.mallocUint32,s.freeUint32)};var a={"false,0,1":function(o,l,u,h,v){return function(p,T,_,m){var w,x=0|p.shape[0],b=0|p.shape[1],A=p.data,I=0|p.stride[0],S=0|p.stride[1],O=0|p.offset,R=0|-I,L=0,N=0|-S,j=0,X=-I-S|0,F=0,Y=0|I,G=S-I*x|0,H=0,W=0,Z=0,se=2*x|0,re=h(se),ne=h(se),Q=0,ee=0,oe=-1,ce=-1,fe=0,le=0|-x,pe=0|x,Me=0,Ae=-x-1|0,be=x-1|0,ye=0,we=0,ze=0;for(H=0;H<x;++H)re[Q++]=u(A[O],T,_,m),O+=Y;if(O+=G,b>0){if(W=1,re[Q++]=u(A[O],T,_,m),O+=Y,x>0)for(H=1,ee=re[Q]=u(w=A[O],T,_,m),Me=re[Q+le],ye=re[Q+Ae],ee===(fe=re[Q+oe])&&ee===Me&&ee===ye||(o(H,W,w,L=A[O+R],j=A[O+N],F=A[O+X],ee,fe,Me,ye,T,_,m),we=ne[Q]=Z++),Q+=1,O+=Y,H=2;H<x;++H)ee=re[Q]=u(w=A[O],T,_,m),Me=re[Q+le],ye=re[Q+Ae],ee===(fe=re[Q+oe])&&ee===Me&&ee===ye||(o(H,W,w,L=A[O+R],j=A[O+N],F=A[O+X],ee,fe,Me,ye,T,_,m),we=ne[Q]=Z++,ye!==fe&&l(ne[Q+oe],we,F,L,ye,fe,T,_,m)),Q+=1,O+=Y;for(O+=G,Q=0,ze=oe,oe=ce,ce=ze,ze=le,le=pe,pe=ze,ze=Ae,Ae=be,be=ze,W=2;W<b;++W){if(re[Q++]=u(A[O],T,_,m),O+=Y,x>0)for(H=1,ee=re[Q]=u(w=A[O],T,_,m),Me=re[Q+le],ye=re[Q+Ae],ee===(fe=re[Q+oe])&&ee===Me&&ee===ye||(o(H,W,w,L=A[O+R],j=A[O+N],F=A[O+X],ee,fe,Me,ye,T,_,m),we=ne[Q]=Z++,ye!==Me&&l(ne[Q+le],we,j,F,Me,ye,T,_,m)),Q+=1,O+=Y,H=2;H<x;++H)ee=re[Q]=u(w=A[O],T,_,m),Me=re[Q+le],ye=re[Q+Ae],ee===(fe=re[Q+oe])&&ee===Me&&ee===ye||(o(H,W,w,L=A[O+R],j=A[O+N],F=A[O+X],ee,fe,Me,ye,T,_,m),we=ne[Q]=Z++,ye!==Me&&l(ne[Q+le],we,j,F,Me,ye,T,_,m),ye!==fe&&l(ne[Q+oe],we,F,L,ye,fe,T,_,m)),Q+=1,O+=Y;1&W&&(Q=0),ze=oe,oe=ce,ce=ze,ze=le,le=pe,pe=ze,ze=Ae,Ae=be,be=ze,O+=G}}v(ne),v(re)}},"false,1,0":function(o,l,u,h,v){return function(p,T,_,m){var w,x=0|p.shape[0],b=0|p.shape[1],A=p.data,I=0|p.stride[0],S=0|p.stride[1],O=0|p.offset,R=0|-I,L=0,N=0|-S,j=0,X=-I-S|0,F=0,Y=0|S,G=I-S*b|0,H=0,W=0,Z=0,se=2*b|0,re=h(se),ne=h(se),Q=0,ee=0,oe=-1,ce=-1,fe=0,le=0|-b,pe=0|b,Me=0,Ae=-b-1|0,be=b-1|0,ye=0,we=0,ze=0;for(W=0;W<b;++W)re[Q++]=u(A[O],T,_,m),O+=Y;if(O+=G,x>0){if(H=1,re[Q++]=u(A[O],T,_,m),O+=Y,b>0)for(W=1,ee=re[Q]=u(w=A[O],T,_,m),fe=re[Q+oe],ye=re[Q+Ae],ee===(Me=re[Q+le])&&ee===fe&&ee===ye||(o(H,W,w,L=A[O+R],j=A[O+N],F=A[O+X],ee,Me,fe,ye,T,_,m),we=ne[Q]=Z++),Q+=1,O+=Y,W=2;W<b;++W)ee=re[Q]=u(w=A[O],T,_,m),fe=re[Q+oe],ye=re[Q+Ae],ee===(Me=re[Q+le])&&ee===fe&&ee===ye||(o(H,W,w,L=A[O+R],j=A[O+N],F=A[O+X],ee,Me,fe,ye,T,_,m),we=ne[Q]=Z++,ye!==fe&&l(ne[Q+oe],we,j,F,fe,ye,T,_,m)),Q+=1,O+=Y;for(O+=G,Q=0,ze=le,le=pe,pe=ze,ze=oe,oe=ce,ce=ze,ze=Ae,Ae=be,be=ze,H=2;H<x;++H){if(re[Q++]=u(A[O],T,_,m),O+=Y,b>0)for(W=1,ee=re[Q]=u(w=A[O],T,_,m),fe=re[Q+oe],ye=re[Q+Ae],ee===(Me=re[Q+le])&&ee===fe&&ee===ye||(o(H,W,w,L=A[O+R],j=A[O+N],F=A[O+X],ee,Me,fe,ye,T,_,m),we=ne[Q]=Z++,ye!==Me&&l(ne[Q+le],we,F,L,ye,Me,T,_,m)),Q+=1,O+=Y,W=2;W<b;++W)ee=re[Q]=u(w=A[O],T,_,m),fe=re[Q+oe],ye=re[Q+Ae],ee===(Me=re[Q+le])&&ee===fe&&ee===ye||(o(H,W,w,L=A[O+R],j=A[O+N],F=A[O+X],ee,Me,fe,ye,T,_,m),we=ne[Q]=Z++,ye!==fe&&l(ne[Q+oe],we,j,F,fe,ye,T,_,m),ye!==Me&&l(ne[Q+le],we,F,L,ye,Me,T,_,m)),Q+=1,O+=Y;1&H&&(Q=0),ze=le,le=pe,pe=ze,ze=oe,oe=ce,ce=ze,ze=Ae,Ae=be,be=ze,O+=G}}v(ne),v(re)}}}},9144:function(y,c,i){"use strict";var s=i(3094),a={zero:function(x,b,A,g){var I=x[0];g|=0;var S=0,O=A[0];for(S=0;S<I;++S)b[g]=0,g+=O},fdTemplate1:function(x,b,A,g,I,S,O){var R=x[0],L=A[0],N=-1*L,j=L;g|=0,O|=0;var X=0,F=L,Y=S[0];for(X=0;X<R;++X)I[O]=.5*(b[g+N]-b[g+j]),g+=F,O+=Y},fdTemplate2:function(x,b,A,g,I,S,O,R,L,N){var j=x[0],X=x[1],F=A[0],Y=A[1],H=S[1],Z=L[1],se=-1*F,re=F,ne=-1*Y,Q=Y;g|=0,O|=0,N|=0;var ee=0,oe=0,ce=Y,fe=F-X*Y,le=H,pe=S[0]-X*H,Me=Z,Ae=L[0]-X*Z;for(oe=0;oe<j;++oe){for(ee=0;ee<X;++ee)I[O]=.5*(b[g+se]-b[g+re]),R[N]=.5*(b[g+ne]-b[g+Q]),g+=ce,O+=le,N+=Me;g+=fe,O+=pe,N+=Ae}}},o={cdiff:function(x){var b={};return function(A,g,I){var S=A.dtype,O=A.order,R=g.dtype,L=g.order,N=I.dtype,j=I.order,X=[S,O.join(),R,L.join(),N,j.join()].join(),F=b[X];return F||(b[X]=F=x([S,O,R,L,N,j])),F(A.shape.slice(0),A.data,A.stride,0|A.offset,g.data,g.stride,0|g.offset,I.data,I.stride,0|I.offset)}},zero:function(x){var b={};return function(A){var g=A.dtype,I=A.order,S=[g,I.join()].join(),O=b[S];return O||(b[S]=O=x([g,I])),O(A.shape.slice(0),A.data,A.stride,0|A.offset)}},fdTemplate1:function(x){var b={};return function(A,g){var I=A.dtype,S=A.order,O=g.dtype,R=g.order,L=[I,S.join(),O,R.join()].join(),N=b[L];return N||(b[L]=N=x([I,S,O,R])),N(A.shape.slice(0),A.data,A.stride,0|A.offset,g.data,g.stride,0|g.offset)}},fdTemplate2:function(x){var b={};return function(A,g,I){var S=A.dtype,O=A.order,R=g.dtype,L=g.order,N=I.dtype,j=I.order,X=[S,O.join(),R,L.join(),N,j.join()].join(),F=b[X];return F||(b[X]=F=x([S,O,R,L,N,j])),F(A.shape.slice(0),A.data,A.stride,0|A.offset,g.data,g.stride,0|g.offset,I.data,I.stride,0|I.offset)}}};function l(x){return(0,o[x.funcName])(u.bind(void 0,x))}function u(x){return a[x.funcName]}function h(x){return l({funcName:x.funcName})}var v={},p={},T=h({funcName:"cdiff"}),_=h({funcName:"zero"});function m(x){return x in v?v[x]:v[x]=h({funcName:"fdTemplate"+x})}function w(x,b,A,g){return function(I,S){var O=S.shape.slice();return O[0]>2&&O[1]>2&&g(S.pick(-1,-1).lo(1,1).hi(O[0]-2,O[1]-2),I.pick(-1,-1,0).lo(1,1).hi(O[0]-2,O[1]-2),I.pick(-1,-1,1).lo(1,1).hi(O[0]-2,O[1]-2)),O[1]>2&&(A(S.pick(0,-1).lo(1).hi(O[1]-2),I.pick(0,-1,1).lo(1).hi(O[1]-2)),b(I.pick(0,-1,0).lo(1).hi(O[1]-2))),O[1]>2&&(A(S.pick(O[0]-1,-1).lo(1).hi(O[1]-2),I.pick(O[0]-1,-1,1).lo(1).hi(O[1]-2)),b(I.pick(O[0]-1,-1,0).lo(1).hi(O[1]-2))),O[0]>2&&(A(S.pick(-1,0).lo(1).hi(O[0]-2),I.pick(-1,0,0).lo(1).hi(O[0]-2)),b(I.pick(-1,0,1).lo(1).hi(O[0]-2))),O[0]>2&&(A(S.pick(-1,O[1]-1).lo(1).hi(O[0]-2),I.pick(-1,O[1]-1,0).lo(1).hi(O[0]-2)),b(I.pick(-1,O[1]-1,1).lo(1).hi(O[0]-2))),I.set(0,0,0,0),I.set(0,0,1,0),I.set(O[0]-1,0,0,0),I.set(O[0]-1,0,1,0),I.set(0,O[1]-1,0,0),I.set(0,O[1]-1,1,0),I.set(O[0]-1,O[1]-1,0,0),I.set(O[0]-1,O[1]-1,1,0),I}}y.exports=function(x,b,A){return Array.isArray(A)||(A=s(b.dimension,"string"==typeof A?A:"clamp")),0===b.size?x:0===b.dimension?(x.set(0),x):function(g){var I=g.join();if(L=p[I])return L;for(var S=g.length,O=[T,_],R=1;R<=S;++R)O.push(m(R));var L=w.apply(void 0,O);return p[I]=L,L}(A)(x,b)}},3581:function(y){"use strict";function c(o,l){var u=Math.floor(l),h=l-u,p=0<=u+1&&u+1<o.shape[0];return(1-h)*(0<=u&&u<o.shape[0]?+o.get(u):0)+h*(p?+o.get(u+1):0)}function i(o,l,u){var h=Math.floor(l),v=l-h,p=0<=h&&h<o.shape[0],T=0<=h+1&&h+1<o.shape[0],_=Math.floor(u),m=u-_,w=0<=_&&_<o.shape[1],x=0<=_+1&&_+1<o.shape[1],b=p&&w?o.get(h,_):0,A=p&&x?o.get(h,_+1):0;return(1-m)*((1-v)*b+v*(T&&w?o.get(h+1,_):0))+m*((1-v)*A+v*(T&&x?o.get(h+1,_+1):0))}function s(o,l,u,h){var v=Math.floor(l),p=l-v,T=0<=v&&v<o.shape[0],_=0<=v+1&&v+1<o.shape[0],m=Math.floor(u),w=u-m,x=0<=m&&m<o.shape[1],b=0<=m+1&&m+1<o.shape[1],A=Math.floor(h),g=h-A,I=0<=A&&A<o.shape[2],S=0<=A+1&&A+1<o.shape[2],O=T&&x&&I?o.get(v,m,A):0,R=T&&b&&I?o.get(v,m+1,A):0,L=_&&x&&I?o.get(v+1,m,A):0,N=_&&b&&I?o.get(v+1,m+1,A):0,j=T&&x&&S?o.get(v,m,A+1):0,X=T&&b&&S?o.get(v,m+1,A+1):0;return(1-g)*((1-w)*((1-p)*O+p*L)+w*((1-p)*R+p*N))+g*((1-w)*((1-p)*j+p*(_&&x&&S?o.get(v+1,m,A+1):0))+w*((1-p)*X+p*(_&&b&&S?o.get(v+1,m+1,A+1):0)))}function a(o){var l,u,h=0|o.shape.length,v=new Array(h),p=new Array(h),T=new Array(h),_=new Array(h);for(l=0;l<h;++l)u=+arguments[l+1],v[l]=Math.floor(u),p[l]=u-v[l],T[l]=0<=v[l]&&v[l]<o.shape[l],_[l]=0<=v[l]+1&&v[l]+1<o.shape[l];var m,w,x,b=0;e:for(l=0;l<1<<h;++l){for(w=1,x=o.offset,m=0;m<h;++m)if(l&1<<m){if(!_[m])continue e;w*=p[m],x+=o.stride[m]*(v[m]+1)}else{if(!T[m])continue e;w*=1-p[m],x+=o.stride[m]*v[m]}b+=w*o.data[x]}return b}y.exports=function(o,l,u,h){switch(o.shape.length){case 0:return 0;case 1:return c(o,l);case 2:return i(o,l,u);case 3:return s(o,l,u,h);default:return a.apply(void 0,arguments)}},y.exports.d1=c,y.exports.d2=i,y.exports.d3=s},7498:function(y,c){"use strict";var i={"float64,2,1,0":function(){return function(u,h,v,p,T){var _=u[0],m=u[1],w=u[2],b=v[1],A=v[2];p|=0;var g=0,I=0,S=0,O=A,R=b-w*A,L=v[0]-m*b;for(S=0;S<_;++S){for(I=0;I<m;++I){for(g=0;g<w;++g)h[p]/=T,p+=O;p+=R}p+=L}}},"uint8,2,0,1,float64,2,1,0":function(){return function(u,h,v,p,T,_,m,w){for(var x=u[0],b=u[1],A=u[2],g=v[0],I=v[1],S=v[2],O=_[0],R=_[1],L=_[2],N=p|=0,j=m|=0,X=0|u[0];X>0;){X<64?(x=X,X=0):(x=64,X-=64);for(var F=0|u[1];F>0;){F<64?(b=F,F=0):(b=64,F-=64),p=N+X*g+F*I,m=j+X*O+F*R;var Y=0,G=0,H=0,W=S,Z=g-A*S,se=I-x*g,re=L,ne=O-A*L,Q=R-x*O;for(H=0;H<b;++H){for(G=0;G<x;++G){for(Y=0;Y<A;++Y)h[p]=T[m]*w,p+=W,m+=re;p+=Z,m+=ne}p+=se,m+=Q}}}}},"float32,1,0,float32,1,0":function(){return function(u,h,v,p,T,_,m){var w=u[0],x=u[1],A=v[1],I=_[1];p|=0,m|=0;var S=0,O=0,R=A,L=v[0]-x*A,N=I,j=_[0]-x*I;for(O=0;O<w;++O){for(S=0;S<x;++S)h[p]=T[m],p+=R,m+=N;p+=L,m+=j}}},"float32,1,0,float32,0,1":function(){return function(u,h,v,p,T,_,m){for(var w=u[0],x=u[1],b=v[0],A=v[1],g=_[0],I=_[1],S=p|=0,O=m|=0,R=0|u[1];R>0;){R<64?(x=R,R=0):(x=64,R-=64);for(var L=0|u[0];L>0;){L<64?(w=L,L=0):(w=64,L-=64),p=S+R*A+L*b,m=O+R*I+L*g;var N=0,j=0,X=A,F=b-x*A,Y=I,G=g-x*I;for(j=0;j<w;++j){for(N=0;N<x;++N)h[p]=T[m],p+=X,m+=Y;p+=F,m+=G}}}}},"uint8,2,0,1,uint8,1,2,0":function(){return function(u,h,v,p,T,_,m){for(var w=u[0],x=u[1],b=u[2],A=v[0],g=v[1],I=v[2],S=_[0],O=_[1],R=_[2],L=p|=0,N=m|=0,j=0|u[2];j>0;){j<64?(b=j,j=0):(b=64,j-=64);for(var X=0|u[0];X>0;){X<64?(w=X,X=0):(w=64,X-=64);for(var F=0|u[1];F>0;){F<64?(x=F,F=0):(x=64,F-=64),p=L+j*I+X*A+F*g,m=N+j*R+X*S+F*O;var Y=0,G=0,H=0,W=I,Z=A-b*I,se=g-w*A,re=R,ne=S-b*R,Q=O-w*S;for(H=0;H<x;++H){for(G=0;G<w;++G){for(Y=0;Y<b;++Y)h[p]=T[m],p+=W,m+=re;p+=Z,m+=ne}p+=se,m+=Q}}}}}},"uint8,2,0,1,array,2,0,1":function(){return function(u,h,v,p,T,_,m){var w=u[0],x=u[1],b=u[2],A=v[0],I=v[2],S=_[0],R=_[2];p|=0,m|=0;var L=0,N=0,j=0,X=I,F=A-b*I,Y=v[1]-w*A,G=R,H=S-b*R,W=_[1]-w*S;for(j=0;j<x;++j){for(N=0;N<w;++N){for(L=0;L<b;++L)h[p]=T[m],p+=X,m+=G;p+=F,m+=H}p+=Y,m+=W}}}},s=function(u,h){var v=h.join(",");return(0,i[v])()},a={mul:function(u){var h={};return function(v,p,T){var _=v.dtype,m=v.order,w=p.dtype,x=p.order,b=T.dtype,A=T.order,g=[_,m.join(),w,x.join(),b,A.join()].join(),I=h[g];return I||(h[g]=I=u([_,m,w,x,b,A])),I(v.shape.slice(0),v.data,v.stride,0|v.offset,p.data,p.stride,0|p.offset,T.data,T.stride,0|T.offset)}},muls:function(u){var h={};return function(v,p,T){var _=v.dtype,m=v.order,w=p.dtype,x=p.order,b=[_,m.join(),w,x.join()].join(),A=h[b];return A||(h[b]=A=u([_,m,w,x])),A(v.shape.slice(0),v.data,v.stride,0|v.offset,p.data,p.stride,0|p.offset,T)}},mulseq:function(u){var h={};return function(v,p){var T=v.dtype,_=v.order,m=[T,_.join()].join(),w=h[m];return w||(h[m]=w=u([T,_])),w(v.shape.slice(0),v.data,v.stride,0|v.offset,p)}},div:function(u){var h={};return function(v,p,T){var _=v.dtype,m=v.order,w=p.dtype,x=p.order,b=T.dtype,A=T.order,g=[_,m.join(),w,x.join(),b,A.join()].join(),I=h[g];return I||(h[g]=I=u([_,m,w,x,b,A])),I(v.shape.slice(0),v.data,v.stride,0|v.offset,p.data,p.stride,0|p.offset,T.data,T.stride,0|T.offset)}},divs:function(u){var h={};return function(v,p,T){var _=v.dtype,m=v.order,w=p.dtype,x=p.order,b=[_,m.join(),w,x.join()].join(),A=h[b];return A||(h[b]=A=u([_,m,w,x])),A(v.shape.slice(0),v.data,v.stride,0|v.offset,p.data,p.stride,0|p.offset,T)}},divseq:function(u){var h={};return function(v,p){var T=v.dtype,_=v.order,m=[T,_.join()].join(),w=h[m];return w||(h[m]=w=u([T,_])),w(v.shape.slice(0),v.data,v.stride,0|v.offset,p)}},assign:function(u){var h={};return function(v,p){var T=v.dtype,_=v.order,m=p.dtype,w=p.order,x=[T,_.join(),m,w.join()].join(),b=h[x];return b||(h[x]=b=u([T,_,m,w])),b(v.shape.slice(0),v.data,v.stride,0|v.offset,p.data,p.stride,0|p.offset)}}};function o(u){return(0,a[(h={funcName:u.funcName}).funcName])(s.bind(void 0,h));var h}var l={mul:"*",div:"/"};(function(){for(var u in l)c[u]=o({funcName:u}),c[u+"s"]=o({funcName:u+"s"}),c[u+"seq"]=o({funcName:u+"seq"})})(),c.assign=o({funcName:"assign"})},7382:function(y,c,i){"use strict";var s=i(5050),a=i(9262);y.exports=function(o,l){for(var u=[],h=o,v=1;Array.isArray(h);)u.push(h.length),v*=h.length,h=h[0];return 0===u.length?s():(l||(l=s(new Float64Array(v),u)),a(l,o),l)}},9262:function(y){"use strict";var c,i;y.exports=(c=function(){return function(c,i,s,a,o){var l=c[0],u=c[1],h=c[2],p=s[1],T=s[2],_=[0,0,0];a|=0;var m=0,w=0,x=0,b=T,A=p-h*T,g=s[0]-u*p;for(x=0;x<l;++x){for(w=0;w<u;++w){for(m=0;m<h;++m){var I,S=o;for(I=0;I<_.length-1;++I)S=S[_[I]];i[a]=S[_[_.length-1]],a+=b,++_[2]}a+=A,_[2]-=h,++_[1]}a+=g,_[1]-=u,++_[0]}}}.bind(void 0,{funcName:"convert"}),i={},function(s,a){var o=s.dtype,l=s.order,u=[o,l.join()].join(),h=i[u];return h||(i[u]=h=c([o,l])),h(s.shape.slice(0),s.data,s.stride,0|s.offset,a)})},8139:function(y,c,i){"use strict";var s=i(5306);function a(h){return"uint32"===h?[s.mallocUint32,s.freeUint32]:null}var o={"uint32,1,0":function(h,v){return function(p,T,_,m,w,x,b,A,g,I,S){var O,R,L,N,j,X,F,Y,G=p*w+m,H=h(A);for(O=p+1;O<=T;++O){for(R=O,L=G+=w,j=0,X=G,N=0;N<A;++N)H[j++]=_[X],X+=g;e:for(;R-- >p;){j=0,X=L-w;t:for(N=0;N<A;++N){if((F=_[X])<(Y=H[j]))break e;if(F>Y)break t;X+=I,j+=S}for(j=L,X=L-w,N=0;N<A;++N)_[j]=_[X],j+=g,X+=g;L-=w}for(j=L,X=0,N=0;N<A;++N)_[j]=H[X++],j+=g}v(H)}}},l={"uint32,1,0":function(h,v,p){return function T(_,m,w,x,b,A,g,I,S,O,R){var L,N,X,F,Y,G,H,W,Z,se,re,ne,Q,ee,oe,ce,fe,le,pe,Me,Ae,be,ye,we,ze=(m-_+1)/6|0,Se=_+ze,Ce=m-ze,ge=_+m>>1,he=ge-ze,_e=ge+ze,Le=Se,Ie=he,De=ge,je=_e,qe=Ce,ve=_+1,Oe=m-1,ke=!0,Be=0,We=0,Ge=0,Ke=I,et=v(Ke),at=v(Ke);se=b*Le,re=b*Ie,we=x;e:for(Z=0;Z<I;++Z){if((Ge=w[G=se+we]-w[H=re+we])>0){N=Le,Le=Ie,Ie=N;break e}if(Ge<0)break e;we+=O}se=b*je,re=b*qe,we=x;e:for(Z=0;Z<I;++Z){if((Ge=w[G=se+we]-w[H=re+we])>0){N=je,je=qe,qe=N;break e}if(Ge<0)break e;we+=O}se=b*Le,re=b*De,we=x;e:for(Z=0;Z<I;++Z){if((Ge=w[G=se+we]-w[H=re+we])>0){N=Le,Le=De,De=N;break e}if(Ge<0)break e;we+=O}se=b*Ie,re=b*De,we=x;e:for(Z=0;Z<I;++Z){if((Ge=w[G=se+we]-w[H=re+we])>0){N=Ie,Ie=De,De=N;break e}if(Ge<0)break e;we+=O}se=b*Le,re=b*je,we=x;e:for(Z=0;Z<I;++Z){if((Ge=w[G=se+we]-w[H=re+we])>0){N=Le,Le=je,je=N;break e}if(Ge<0)break e;we+=O}se=b*De,re=b*je,we=x;e:for(Z=0;Z<I;++Z){if((Ge=w[G=se+we]-w[H=re+we])>0){N=De,De=je,je=N;break e}if(Ge<0)break e;we+=O}se=b*Ie,re=b*qe,we=x;e:for(Z=0;Z<I;++Z){if((Ge=w[G=se+we]-w[H=re+we])>0){N=Ie,Ie=qe,qe=N;break e}if(Ge<0)break e;we+=O}se=b*Ie,re=b*De,we=x;e:for(Z=0;Z<I;++Z){if((Ge=w[G=se+we]-w[H=re+we])>0){N=Ie,Ie=De,De=N;break e}if(Ge<0)break e;we+=O}se=b*je,re=b*qe,we=x;e:for(Z=0;Z<I;++Z){if((Ge=w[G=se+we]-w[H=re+we])>0){N=je,je=qe,qe=N;break e}if(Ge<0)break e;we+=O}for(se=b*Le,re=b*Ie,ne=b*De,Q=b*je,ee=b*qe,oe=b*Se,ce=b*ge,fe=b*Ce,ye=0,we=x,Z=0;Z<I;++Z)G=se+we,W=ne+we,le=Q+we,pe=ee+we,Me=oe+we,Ae=ce+we,be=fe+we,et[ye]=w[H=re+we],at[ye]=w[le],ke=ke&&et[ye]===at[ye],X=w[W],F=w[pe],w[Me]=w[G],w[Ae]=X,w[be]=F,++ye,we+=S;for(se=b*he,re=b*_,we=x,Z=0;Z<I;++Z)w[G=se+we]=w[H=re+we],we+=S;for(se=b*_e,re=b*m,we=x,Z=0;Z<I;++Z)w[G=se+we]=w[H=re+we],we+=S;if(ke)for(Y=ve;Y<=Oe;++Y){for(G=x+Y*b,ye=0,Z=0;Z<I&&0==(Ge=w[G]-et[ye]);++Z)ye+=R,G+=O;if(0!==Ge)if(Ge<0){if(Y!==ve)for(se=b*Y,re=b*ve,we=x,Z=0;Z<I;++Z)L=w[G=se+we],w[G]=w[H=re+we],w[H]=L,we+=S;++ve}else for(;;){for(G=x+Oe*b,ye=0,Z=0;Z<I&&0==(Ge=w[G]-et[ye]);++Z)ye+=R,G+=O;if(!(Ge>0)){if(Ge<0){for(se=b*Y,re=b*ve,ne=b*Oe,we=x,Z=0;Z<I;++Z)W=ne+we,L=w[G=se+we],w[G]=w[H=re+we],w[H]=w[W],w[W]=L,we+=S;++ve,--Oe;break}for(se=b*Y,re=b*Oe,we=x,Z=0;Z<I;++Z)L=w[G=se+we],w[G]=w[H=re+we],w[H]=L,we+=S;--Oe;break}Oe--}}else for(Y=ve;Y<=Oe;++Y){for(G=x+Y*b,ye=0,Z=0;Z<I&&0==(Be=w[G]-et[ye]);++Z)ye+=R,G+=O;if(Be<0){if(Y!==ve)for(se=b*Y,re=b*ve,we=x,Z=0;Z<I;++Z)L=w[G=se+we],w[G]=w[H=re+we],w[H]=L,we+=S;++ve}else{for(G=x+Y*b,ye=0,Z=0;Z<I&&0==(We=w[G]-at[ye]);++Z)ye+=R,G+=O;if(We>0)for(;;){for(G=x+Oe*b,ye=0,Z=0;Z<I&&0==(Ge=w[G]-at[ye]);++Z)ye+=R,G+=O;if(!(Ge>0)){for(G=x+Oe*b,ye=0,Z=0;Z<I&&0==(Ge=w[G]-et[ye]);++Z)ye+=R,G+=O;if(Ge<0){for(se=b*Y,re=b*ve,ne=b*Oe,we=x,Z=0;Z<I;++Z)W=ne+we,L=w[G=se+we],w[G]=w[H=re+we],w[H]=w[W],w[W]=L,we+=S;++ve,--Oe}else{for(se=b*Y,re=b*Oe,we=x,Z=0;Z<I;++Z)L=w[G=se+we],w[G]=w[H=re+we],w[H]=L,we+=S;--Oe}break}if(--Oe<Y)break}}}for(se=b*_,re=b*(ve-1),ye=0,we=x,Z=0;Z<I;++Z)w[G=se+we]=w[H=re+we],w[H]=et[ye],++ye,we+=S;for(se=b*m,re=b*(Oe+1),ye=0,we=x,Z=0;Z<I;++Z)w[G=se+we]=w[H=re+we],w[H]=at[ye],++ye,we+=S;if(ve-2-_<=32?h(_,ve-2,w,x,b,A,g,I,S,O,R):T(_,ve-2,w,x,b,A,g,I,S,O,R),m-(Oe+2)<=32?h(Oe+2,m,w,x,b,A,g,I,S,O,R):T(Oe+2,m,w,x,b,A,g,I,S,O,R),ke)return p(et),void p(at);if(ve<Se&&Oe>Ce){e:for(;;){for(G=x+ve*b,ye=0,we=x,Z=0;Z<I;++Z){if(w[G]!==et[ye])break e;++ye,G+=S}++ve}e:for(;;){for(G=x+Oe*b,ye=0,we=x,Z=0;Z<I;++Z){if(w[G]!==at[ye])break e;++ye,G+=S}--Oe}for(Y=ve;Y<=Oe;++Y){for(G=x+Y*b,ye=0,Z=0;Z<I&&0==(Be=w[G]-et[ye]);++Z)ye+=R,G+=O;if(0===Be){if(Y!==ve)for(se=b*Y,re=b*ve,we=x,Z=0;Z<I;++Z)L=w[G=se+we],w[G]=w[H=re+we],w[H]=L,we+=S;++ve}else{for(G=x+Y*b,ye=0,Z=0;Z<I&&0==(We=w[G]-at[ye]);++Z)ye+=R,G+=O;if(0===We)for(;;){for(G=x+Oe*b,ye=0,Z=0;Z<I&&0==(Ge=w[G]-at[ye]);++Z)ye+=R,G+=O;if(0!==Ge){for(G=x+Oe*b,ye=0,Z=0;Z<I&&0==(Ge=w[G]-et[ye]);++Z)ye+=R,G+=O;if(Ge<0){for(se=b*Y,re=b*ve,ne=b*Oe,we=x,Z=0;Z<I;++Z)W=ne+we,L=w[G=se+we],w[G]=w[H=re+we],w[H]=w[W],w[W]=L,we+=S;++ve,--Oe}else{for(se=b*Y,re=b*Oe,we=x,Z=0;Z<I;++Z)L=w[G=se+we],w[G]=w[H=re+we],w[H]=L,we+=S;--Oe}break}if(--Oe<Y)break}}}}p(et),p(at),Oe-ve<=32?h(ve,Oe,w,x,b,A,g,I,S,O,R):T(ve,Oe,w,x,b,A,g,I,S,O,R)}}},u={"uint32,1,0":function(h,v){return function(p){var T=p.data,_=0|p.offset,m=p.shape,w=p.stride,x=0|w[0],b=0|m[0],A=0|w[1],g=0|m[1],I=A,S=A;b<=32?h(0,b-1,T,_,x,A,b,g,I,S,1):v(0,b-1,T,_,x,A,b,g,I,S,1)}}};y.exports=function(h,v){var w,x,b,A,g,p=[v,h].join(","),T=u[p],_=(w=h,b=a(x=v),A=[x,w].join(","),g=o[A],b?g(b[0],b[1]):g()),m=function(w,x,b){var A=a(x),g=[x,w].join(","),I=l[g];return w.length>1&&A?I(b,A[0],A[1]):I(b)}(h,v,_);return T(_,m)}},8729:function(y,c,i){"use strict";var s=i(8139),a={};y.exports=function(o){var l=o.order,u=o.dtype,h=[l,u].join(":"),v=a[h];return v||(a[h]=v=s(l,u)),v(o),o}},5050:function(y,c,i){var s=i(4780),a=typeof Float64Array<"u";function o(p,T){return p[0]-T[0]}function l(){var p,T=this.stride,_=new Array(T.length);for(p=0;p<_.length;++p)_[p]=[Math.abs(T[p]),p];_.sort(o);var m=new Array(_.length);for(p=0;p<m.length;++p)m[p]=_[p][1];return m}var u={T:function(p){function T(m){this.data=m}var _=T.prototype;return _.dtype=p,_.index=function(){return-1},_.size=0,_.dimension=-1,_.shape=_.stride=_.order=[],_.lo=_.hi=_.transpose=_.step=function(){return new T(this.data)},_.get=_.set=function(){},_.pick=function(){return null},function(m){return new T(m)}},0:function(p,T){function _(w,x){this.data=w,this.offset=x}var m=_.prototype;return m.dtype=p,m.index=function(){return this.offset},m.dimension=0,m.size=1,m.shape=m.stride=m.order=[],m.lo=m.hi=m.transpose=m.step=function(){return new _(this.data,this.offset)},m.pick=function(){return T(this.data)},m.valueOf=m.get=function(){return"generic"===p?this.data.get(this.offset):this.data[this.offset]},m.set=function(w){return"generic"===p?this.data.set(this.offset,w):this.data[this.offset]=w},function(w,x,b,A){return new _(w,A)}},1:function(p,T,_){function m(x,b,A,g){this.data=x,this.shape=[b],this.stride=[A],this.offset=0|g}var w=m.prototype;return w.dtype=p,w.dimension=1,Object.defineProperty(w,"size",{get:function(){return this.shape[0]}}),w.order=[0],w.set=function(x,b){return"generic"===p?this.data.set(this.offset+this.stride[0]*x,b):this.data[this.offset+this.stride[0]*x]=b},w.get=function(x){return"generic"===p?this.data.get(this.offset+this.stride[0]*x):this.data[this.offset+this.stride[0]*x]},w.index=function(x){return this.offset+this.stride[0]*x},w.hi=function(x){return new m(this.data,"number"!=typeof x||x<0?this.shape[0]:0|x,this.stride[0],this.offset)},w.lo=function(x){var b=this.offset,A=0,g=this.shape[0],I=this.stride[0];return"number"==typeof x&&x>=0&&(b+=I*(A=0|x),g-=A),new m(this.data,g,I,b)},w.step=function(x){var b=this.shape[0],A=this.stride[0],g=this.offset,I=0,S=Math.ceil;return"number"==typeof x&&((I=0|x)<0?(g+=A*(b-1),b=S(-b/I)):b=S(b/I),A*=I),new m(this.data,b,A,g)},w.transpose=function(x){return new m(this.data,this.shape[x=void 0===x?0:0|x],this.stride[x],this.offset)},w.pick=function(x){var b=[],A=[],g=this.offset;return"number"==typeof x&&x>=0?g=g+this.stride[0]*x|0:(b.push(this.shape[0]),A.push(this.stride[0])),(0,T[b.length+1])(this.data,b,A,g)},function(x,b,A,g){return new m(x,b[0],A[0],g)}},2:function(p,T,_){function m(x,b,A,g,I,S){this.data=x,this.shape=[b,A],this.stride=[g,I],this.offset=0|S}var w=m.prototype;return w.dtype=p,w.dimension=2,Object.defineProperty(w,"size",{get:function(){return this.shape[0]*this.shape[1]}}),Object.defineProperty(w,"order",{get:function(){return Math.abs(this.stride[0])>Math.abs(this.stride[1])?[1,0]:[0,1]}}),w.set=function(x,b,A){return"generic"===p?this.data.set(this.offset+this.stride[0]*x+this.stride[1]*b,A):this.data[this.offset+this.stride[0]*x+this.stride[1]*b]=A},w.get=function(x,b){return"generic"===p?this.data.get(this.offset+this.stride[0]*x+this.stride[1]*b):this.data[this.offset+this.stride[0]*x+this.stride[1]*b]},w.index=function(x,b){return this.offset+this.stride[0]*x+this.stride[1]*b},w.hi=function(x,b){return new m(this.data,"number"!=typeof x||x<0?this.shape[0]:0|x,"number"!=typeof b||b<0?this.shape[1]:0|b,this.stride[0],this.stride[1],this.offset)},w.lo=function(x,b){var A=this.offset,g=0,I=this.shape[0],S=this.shape[1],O=this.stride[0],R=this.stride[1];return"number"==typeof x&&x>=0&&(A+=O*(g=0|x),I-=g),"number"==typeof b&&b>=0&&(A+=R*(g=0|b),S-=g),new m(this.data,I,S,O,R,A)},w.step=function(x,b){var A=this.shape[0],g=this.shape[1],I=this.stride[0],S=this.stride[1],O=this.offset,R=0,L=Math.ceil;return"number"==typeof x&&((R=0|x)<0?(O+=I*(A-1),A=L(-A/R)):A=L(A/R),I*=R),"number"==typeof b&&((R=0|b)<0?(O+=S*(g-1),g=L(-g/R)):g=L(g/R),S*=R),new m(this.data,A,g,I,S,O)},w.transpose=function(x,b){var A=this.shape,g=this.stride;return new m(this.data,A[x=void 0===x?0:0|x],A[b=void 0===b?1:0|b],g[x],g[b],this.offset)},w.pick=function(x,b){var A=[],g=[],I=this.offset;return"number"==typeof x&&x>=0?I=I+this.stride[0]*x|0:(A.push(this.shape[0]),g.push(this.stride[0])),"number"==typeof b&&b>=0?I=I+this.stride[1]*b|0:(A.push(this.shape[1]),g.push(this.stride[1])),(0,T[A.length+1])(this.data,A,g,I)},function(x,b,A,g){return new m(x,b[0],b[1],A[0],A[1],g)}},3:function(p,T,_){function m(x,b,A,g,I,S,O,R){this.data=x,this.shape=[b,A,g],this.stride=[I,S,O],this.offset=0|R}var w=m.prototype;return w.dtype=p,w.dimension=3,Object.defineProperty(w,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]}}),Object.defineProperty(w,"order",{get:function(){var x=Math.abs(this.stride[0]),b=Math.abs(this.stride[1]),A=Math.abs(this.stride[2]);return x>b?b>A?[2,1,0]:x>A?[1,2,0]:[1,0,2]:x>A?[2,0,1]:A>b?[0,1,2]:[0,2,1]}}),w.set=function(x,b,A,g){return"generic"===p?this.data.set(this.offset+this.stride[0]*x+this.stride[1]*b+this.stride[2]*A,g):this.data[this.offset+this.stride[0]*x+this.stride[1]*b+this.stride[2]*A]=g},w.get=function(x,b,A){return"generic"===p?this.data.get(this.offset+this.stride[0]*x+this.stride[1]*b+this.stride[2]*A):this.data[this.offset+this.stride[0]*x+this.stride[1]*b+this.stride[2]*A]},w.index=function(x,b,A){return this.offset+this.stride[0]*x+this.stride[1]*b+this.stride[2]*A},w.hi=function(x,b,A){return new m(this.data,"number"!=typeof x||x<0?this.shape[0]:0|x,"number"!=typeof b||b<0?this.shape[1]:0|b,"number"!=typeof A||A<0?this.shape[2]:0|A,this.stride[0],this.stride[1],this.stride[2],this.offset)},w.lo=function(x,b,A){var g=this.offset,I=0,S=this.shape[0],O=this.shape[1],R=this.shape[2],L=this.stride[0],N=this.stride[1],j=this.stride[2];return"number"==typeof x&&x>=0&&(g+=L*(I=0|x),S-=I),"number"==typeof b&&b>=0&&(g+=N*(I=0|b),O-=I),"number"==typeof A&&A>=0&&(g+=j*(I=0|A),R-=I),new m(this.data,S,O,R,L,N,j,g)},w.step=function(x,b,A){var g=this.shape[0],I=this.shape[1],S=this.shape[2],O=this.stride[0],R=this.stride[1],L=this.stride[2],N=this.offset,j=0,X=Math.ceil;return"number"==typeof x&&((j=0|x)<0?(N+=O*(g-1),g=X(-g/j)):g=X(g/j),O*=j),"number"==typeof b&&((j=0|b)<0?(N+=R*(I-1),I=X(-I/j)):I=X(I/j),R*=j),"number"==typeof A&&((j=0|A)<0?(N+=L*(S-1),S=X(-S/j)):S=X(S/j),L*=j),new m(this.data,g,I,S,O,R,L,N)},w.transpose=function(x,b,A){var g=this.shape,I=this.stride;return new m(this.data,g[x=void 0===x?0:0|x],g[b=void 0===b?1:0|b],g[A=void 0===A?2:0|A],I[x],I[b],I[A],this.offset)},w.pick=function(x,b,A){var g=[],I=[],S=this.offset;return"number"==typeof x&&x>=0?S=S+this.stride[0]*x|0:(g.push(this.shape[0]),I.push(this.stride[0])),"number"==typeof b&&b>=0?S=S+this.stride[1]*b|0:(g.push(this.shape[1]),I.push(this.stride[1])),"number"==typeof A&&A>=0?S=S+this.stride[2]*A|0:(g.push(this.shape[2]),I.push(this.stride[2])),(0,T[g.length+1])(this.data,g,I,S)},function(x,b,A,g){return new m(x,b[0],b[1],b[2],A[0],A[1],A[2],g)}},4:function(p,T,_){function m(x,b,A,g,I,S,O,R,L,N){this.data=x,this.shape=[b,A,g,I],this.stride=[S,O,R,L],this.offset=0|N}var w=m.prototype;return w.dtype=p,w.dimension=4,Object.defineProperty(w,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]*this.shape[3]}}),Object.defineProperty(w,"order",{get:_}),w.set=function(x,b,A,g,I){return"generic"===p?this.data.set(this.offset+this.stride[0]*x+this.stride[1]*b+this.stride[2]*A+this.stride[3]*g,I):this.data[this.offset+this.stride[0]*x+this.stride[1]*b+this.stride[2]*A+this.stride[3]*g]=I},w.get=function(x,b,A,g){return"generic"===p?this.data.get(this.offset+this.stride[0]*x+this.stride[1]*b+this.stride[2]*A+this.stride[3]*g):this.data[this.offset+this.stride[0]*x+this.stride[1]*b+this.stride[2]*A+this.stride[3]*g]},w.index=function(x,b,A,g){return this.offset+this.stride[0]*x+this.stride[1]*b+this.stride[2]*A+this.stride[3]*g},w.hi=function(x,b,A,g){return new m(this.data,"number"!=typeof x||x<0?this.shape[0]:0|x,"number"!=typeof b||b<0?this.shape[1]:0|b,"number"!=typeof A||A<0?this.shape[2]:0|A,"number"!=typeof g||g<0?this.shape[3]:0|g,this.stride[0],this.stride[1],this.stride[2],this.stride[3],this.offset)},w.lo=function(x,b,A,g){var I=this.offset,S=0,O=this.shape[0],R=this.shape[1],L=this.shape[2],N=this.shape[3],j=this.stride[0],X=this.stride[1],F=this.stride[2],Y=this.stride[3];return"number"==typeof x&&x>=0&&(I+=j*(S=0|x),O-=S),"number"==typeof b&&b>=0&&(I+=X*(S=0|b),R-=S),"number"==typeof A&&A>=0&&(I+=F*(S=0|A),L-=S),"number"==typeof g&&g>=0&&(I+=Y*(S=0|g),N-=S),new m(this.data,O,R,L,N,j,X,F,Y,I)},w.step=function(x,b,A,g){var I=this.shape[0],S=this.shape[1],O=this.shape[2],R=this.shape[3],L=this.stride[0],N=this.stride[1],j=this.stride[2],X=this.stride[3],F=this.offset,Y=0,G=Math.ceil;return"number"==typeof x&&((Y=0|x)<0?(F+=L*(I-1),I=G(-I/Y)):I=G(I/Y),L*=Y),"number"==typeof b&&((Y=0|b)<0?(F+=N*(S-1),S=G(-S/Y)):S=G(S/Y),N*=Y),"number"==typeof A&&((Y=0|A)<0?(F+=j*(O-1),O=G(-O/Y)):O=G(O/Y),j*=Y),"number"==typeof g&&((Y=0|g)<0?(F+=X*(R-1),R=G(-R/Y)):R=G(R/Y),X*=Y),new m(this.data,I,S,O,R,L,N,j,X,F)},w.transpose=function(x,b,A,g){var I=this.shape,S=this.stride;return new m(this.data,I[x=void 0===x?0:0|x],I[b=void 0===b?1:0|b],I[A=void 0===A?2:0|A],I[g=void 0===g?3:0|g],S[x],S[b],S[A],S[g],this.offset)},w.pick=function(x,b,A,g){var I=[],S=[],O=this.offset;return"number"==typeof x&&x>=0?O=O+this.stride[0]*x|0:(I.push(this.shape[0]),S.push(this.stride[0])),"number"==typeof b&&b>=0?O=O+this.stride[1]*b|0:(I.push(this.shape[1]),S.push(this.stride[1])),"number"==typeof A&&A>=0?O=O+this.stride[2]*A|0:(I.push(this.shape[2]),S.push(this.stride[2])),"number"==typeof g&&g>=0?O=O+this.stride[3]*g|0:(I.push(this.shape[3]),S.push(this.stride[3])),(0,T[I.length+1])(this.data,I,S,O)},function(x,b,A,g){return new m(x,b[0],b[1],b[2],b[3],A[0],A[1],A[2],A[3],g)}},5:function(p,T,_){function m(x,b,A,g,I,S,O,R,L,N,j,X){this.data=x,this.shape=[b,A,g,I,S],this.stride=[O,R,L,N,j],this.offset=0|X}var w=m.prototype;return w.dtype=p,w.dimension=5,Object.defineProperty(w,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]*this.shape[3]*this.shape[4]}}),Object.defineProperty(w,"order",{get:_}),w.set=function(x,b,A,g,I,S){return"generic"===p?this.data.set(this.offset+this.stride[0]*x+this.stride[1]*b+this.stride[2]*A+this.stride[3]*g+this.stride[4]*I,S):this.data[this.offset+this.stride[0]*x+this.stride[1]*b+this.stride[2]*A+this.stride[3]*g+this.stride[4]*I]=S},w.get=function(x,b,A,g,I){return"generic"===p?this.data.get(this.offset+this.stride[0]*x+this.stride[1]*b+this.stride[2]*A+this.stride[3]*g+this.stride[4]*I):this.data[this.offset+this.stride[0]*x+this.stride[1]*b+this.stride[2]*A+this.stride[3]*g+this.stride[4]*I]},w.index=function(x,b,A,g,I){return this.offset+this.stride[0]*x+this.stride[1]*b+this.stride[2]*A+this.stride[3]*g+this.stride[4]*I},w.hi=function(x,b,A,g,I){return new m(this.data,"number"!=typeof x||x<0?this.shape[0]:0|x,"number"!=typeof b||b<0?this.shape[1]:0|b,"number"!=typeof A||A<0?this.shape[2]:0|A,"number"!=typeof g||g<0?this.shape[3]:0|g,"number"!=typeof I||I<0?this.shape[4]:0|I,this.stride[0],this.stride[1],this.stride[2],this.stride[3],this.stride[4],this.offset)},w.lo=function(x,b,A,g,I){var S=this.offset,O=0,R=this.shape[0],L=this.shape[1],N=this.shape[2],j=this.shape[3],X=this.shape[4],F=this.stride[0],Y=this.stride[1],G=this.stride[2],H=this.stride[3],W=this.stride[4];return"number"==typeof x&&x>=0&&(S+=F*(O=0|x),R-=O),"number"==typeof b&&b>=0&&(S+=Y*(O=0|b),L-=O),"number"==typeof A&&A>=0&&(S+=G*(O=0|A),N-=O),"number"==typeof g&&g>=0&&(S+=H*(O=0|g),j-=O),"number"==typeof I&&I>=0&&(S+=W*(O=0|I),X-=O),new m(this.data,R,L,N,j,X,F,Y,G,H,W,S)},w.step=function(x,b,A,g,I){var S=this.shape[0],O=this.shape[1],R=this.shape[2],L=this.shape[3],N=this.shape[4],j=this.stride[0],X=this.stride[1],F=this.stride[2],Y=this.stride[3],G=this.stride[4],H=this.offset,W=0,Z=Math.ceil;return"number"==typeof x&&((W=0|x)<0?(H+=j*(S-1),S=Z(-S/W)):S=Z(S/W),j*=W),"number"==typeof b&&((W=0|b)<0?(H+=X*(O-1),O=Z(-O/W)):O=Z(O/W),X*=W),"number"==typeof A&&((W=0|A)<0?(H+=F*(R-1),R=Z(-R/W)):R=Z(R/W),F*=W),"number"==typeof g&&((W=0|g)<0?(H+=Y*(L-1),L=Z(-L/W)):L=Z(L/W),Y*=W),"number"==typeof I&&((W=0|I)<0?(H+=G*(N-1),N=Z(-N/W)):N=Z(N/W),G*=W),new m(this.data,S,O,R,L,N,j,X,F,Y,G,H)},w.transpose=function(x,b,A,g,I){var S=this.shape,O=this.stride;return new m(this.data,S[x=void 0===x?0:0|x],S[b=void 0===b?1:0|b],S[A=void 0===A?2:0|A],S[g=void 0===g?3:0|g],S[I=void 0===I?4:0|I],O[x],O[b],O[A],O[g],O[I],this.offset)},w.pick=function(x,b,A,g,I){var S=[],O=[],R=this.offset;return"number"==typeof x&&x>=0?R=R+this.stride[0]*x|0:(S.push(this.shape[0]),O.push(this.stride[0])),"number"==typeof b&&b>=0?R=R+this.stride[1]*b|0:(S.push(this.shape[1]),O.push(this.stride[1])),"number"==typeof A&&A>=0?R=R+this.stride[2]*A|0:(S.push(this.shape[2]),O.push(this.stride[2])),"number"==typeof g&&g>=0?R=R+this.stride[3]*g|0:(S.push(this.shape[3]),O.push(this.stride[3])),"number"==typeof I&&I>=0?R=R+this.stride[4]*I|0:(S.push(this.shape[4]),O.push(this.stride[4])),(0,T[S.length+1])(this.data,S,O,R)},function(x,b,A,g){return new m(x,b[0],b[1],b[2],b[3],b[4],A[0],A[1],A[2],A[3],A[4],g)}}};function h(p,T){var _=-1===T?"T":String(T),m=u[_];return-1===T?m(p):0===T?m(p,v[p][0]):m(p,v[p],l)}var v={generic:[],buffer:[],array:[],float32:[],float64:[],int8:[],int16:[],int32:[],uint8_clamped:[],uint8:[],uint16:[],uint32:[],bigint64:[],biguint64:[]};y.exports=function(p,T,_,m){if(void 0===p)return(0,v.array[0])([]);"number"==typeof p&&(p=[p]),void 0===T&&(T=[p.length]);var w=T.length;if(void 0===_){_=new Array(w);for(var x=w-1,b=1;x>=0;--x)_[x]=b,b*=T[x]}if(void 0===m)for(m=0,x=0;x<w;++x)_[x]<0&&(m-=(T[x]-1)*_[x]);for(var A=function(I){if(s(I))return"buffer";if(a)switch(Object.prototype.toString.call(I)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8ClampedArray]":return"uint8_clamped";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object BigInt64Array]":return"bigint64";case"[object BigUint64Array]":return"biguint64"}return Array.isArray(I)?"array":"generic"}(p),g=v[A];g.length<=w+1;)g.push(h(A,g.length-1));return(0,g[w+1])(p,T,_,m)}},8551:function(y,c,i){"use strict";var s=i(8362),a=Math.pow(2,-1074),o=-1>>>0;y.exports=function(l,u){if(isNaN(l)||isNaN(u))return NaN;if(l===u)return l;if(0===l)return u<0?-a:a;var h=s.hi(l),v=s.lo(l);return u>l==l>0?v===o?(h+=1,v=0):v+=1:0===v?(v=o,h-=1):v-=1,s.pack(v,h)}},115:function(y,c){c.vertexNormals=function(i,s,a){for(var o=s.length,l=new Array(o),u=void 0===a?1e-6:a,h=0;h<o;++h)l[h]=[0,0,0];for(h=0;h<i.length;++h)for(var v=i[h],T=v[v.length-1],_=v[0],m=0;m<v.length;++m){for(var w=s[T],x=s[T=_],b=s[_=v[(m+1)%v.length]],A=new Array(3),g=0,I=new Array(3),S=0,O=0;O<3;++O)A[O]=w[O]-x[O],g+=A[O]*A[O],I[O]=b[O]-x[O],S+=I[O]*I[O];if(g*S>u){var R=l[T],L=1/Math.sqrt(g*S);for(O=0;O<3;++O){var N=(O+1)%3,j=(O+2)%3;R[O]+=L*(I[N]*A[j]-I[j]*A[N])}}}for(h=0;h<o;++h){R=l[h];var X=0;for(O=0;O<3;++O)X+=R[O]*R[O];if(X>u)for(L=1/Math.sqrt(X),O=0;O<3;++O)R[O]*=L;else for(O=0;O<3;++O)R[O]=0}return l},c.faceNormals=function(i,s,a){for(var o=i.length,l=new Array(o),u=void 0===a?1e-6:a,h=0;h<o;++h){for(var v=i[h],p=new Array(3),T=0;T<3;++T)p[T]=s[v[T]];var _=new Array(3),m=new Array(3);for(T=0;T<3;++T)_[T]=p[1][T]-p[0][T],m[T]=p[2][T]-p[0][T];var w=new Array(3),x=0;for(T=0;T<3;++T){var b=(T+1)%3,A=(T+2)%3;w[T]=_[b]*m[A]-_[A]*m[b],x+=w[T]*w[T]}for(x=x>u?1/Math.sqrt(x):0,T=0;T<3;++T)w[T]*=x;l[h]=w}return l}},567:function(y){"use strict";y.exports=function(c,i,s,a,o,l,u,h,v,p){var T=i+l+p;if(_>0){var _=Math.sqrt(T+1);c[0]=.5*(u-v)/_,c[1]=.5*(h-a)/_,c[2]=.5*(s-l)/_,c[3]=.5*_}else{var m=Math.max(i,l,p);_=Math.sqrt(2*m-T+1),i>=m?(c[0]=.5*_,c[1]=.5*(o+s)/_,c[2]=.5*(h+a)/_,c[3]=.5*(u-v)/_):l>=m?(c[0]=.5*(s+o)/_,c[1]=.5*_,c[2]=.5*(v+u)/_,c[3]=.5*(h-a)/_):(c[0]=.5*(a+h)/_,c[1]=.5*(u+v)/_,c[2]=.5*_,c[3]=.5*(s-o)/_)}return c}},7774:function(y,c,i){"use strict";y.exports=function(m){var w=(m=m||{}).center||[0,0,0],x=m.rotation||[0,0,0,1],b=m.radius||1;w=[].slice.call(w,0,3),p(x=[].slice.call(x,0,4),x);var A=new T(x,w,Math.log(b));return A.setDistanceLimits(m.zoomMin,m.zoomMax),("eye"in m||"up"in m)&&A.lookAt(0,m.eye,m.center,m.up),A};var s=i(8444),a=i(3012),o=i(5950),l=i(7437),u=i(567);function h(m,w,x){return Math.sqrt(Math.pow(m,2)+Math.pow(w,2)+Math.pow(x,2))}function v(m,w,x,b){return Math.sqrt(Math.pow(m,2)+Math.pow(w,2)+Math.pow(x,2)+Math.pow(b,2))}function p(m,w){var x=w[0],b=w[1],A=w[2],g=w[3],I=v(x,b,A,g);I>1e-6?(m[0]=x/I,m[1]=b/I,m[2]=A/I,m[3]=g/I):(m[0]=m[1]=m[2]=0,m[3]=1)}function T(m,w,x){this.radius=s([x]),this.center=s(w),this.rotation=s(m),this.computedRadius=this.radius.curve(0),this.computedCenter=this.center.curve(0),this.computedRotation=this.rotation.curve(0),this.computedUp=[.1,0,0],this.computedEye=[.1,0,0],this.computedMatrix=[.1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.recalcMatrix(0)}var _=T.prototype;_.lastT=function(){return Math.max(this.radius.lastT(),this.center.lastT(),this.rotation.lastT())},_.recalcMatrix=function(m){this.radius.curve(m),this.center.curve(m),this.rotation.curve(m);var w=this.computedRotation;p(w,w);var x=this.computedMatrix;o(x,w);var b=this.computedCenter,A=this.computedEye,g=this.computedUp,I=Math.exp(this.computedRadius[0]);A[0]=b[0]+I*x[2],A[1]=b[1]+I*x[6],A[2]=b[2]+I*x[10],g[0]=x[1],g[1]=x[5],g[2]=x[9];for(var S=0;S<3;++S){for(var O=0,R=0;R<3;++R)O+=x[S+4*R]*A[R];x[12+S]=-O}},_.getMatrix=function(m,w){this.recalcMatrix(m);var x=this.computedMatrix;if(w){for(var b=0;b<16;++b)w[b]=x[b];return w}return x},_.idle=function(m){this.center.idle(m),this.radius.idle(m),this.rotation.idle(m)},_.flush=function(m){this.center.flush(m),this.radius.flush(m),this.rotation.flush(m)},_.pan=function(m,w,x,b){w=w||0,x=x||0,b=b||0,this.recalcMatrix(m);var A=this.computedMatrix,g=A[1],I=A[5],S=A[9],O=h(g,I,S),R=A[0],L=A[4],N=A[8],j=R*(g/=O)+L*(I/=O)+N*(S/=O),X=h(R-=g*j,L-=I*j,N-=S*j),F=A[2],Y=A[6],G=A[10],H=F*g+Y*I+G*S,W=F*(R/=X)+Y*(L/=X)+G*(N/=X),Z=h(F-=H*g+W*R,Y-=H*I+W*L,G-=H*S+W*N);F/=Z,Y/=Z,G/=Z,this.center.move(m,R*w+g*x,L*w+I*x,N*w+S*x);var Q=Math.exp(this.computedRadius[0]);Q=Math.max(1e-4,Q+b),this.radius.set(m,Math.log(Q))},_.rotate=function(m,w,x,b){this.recalcMatrix(m);var A=this.computedMatrix,N=A[2],j=A[6],X=A[10],F=(w=w||0)*A[0]+(x=x||0)*A[1],Y=w*A[4]+x*A[5],G=w*A[8]+x*A[9],H=-(j*G-X*Y),W=-(X*F-N*G),Z=-(N*Y-j*F),se=Math.sqrt(Math.max(0,1-Math.pow(H,2)-Math.pow(W,2)-Math.pow(Z,2))),re=v(H,W,Z,se);re>1e-6?(H/=re,W/=re,Z/=re,se/=re):(H=W=Z=0,se=1);var ne=this.computedRotation,Q=ne[0],ee=ne[1],oe=ne[2],ce=ne[3],fe=Q*se+ce*H+ee*Z-oe*W,le=ee*se+ce*W+oe*H-Q*Z,pe=oe*se+ce*Z+Q*W-ee*H,Me=ce*se-Q*H-ee*W-oe*Z;if(b){H=N,W=j,Z=X;var Ae=Math.sin(b)/h(H,W,Z);H*=Ae,W*=Ae,Z*=Ae,Me=Me*(se=Math.cos(w))-(fe=fe*se+Me*H+le*Z-pe*W)*H-(le=le*se+Me*W+pe*H-fe*Z)*W-(pe=pe*se+Me*Z+fe*W-le*H)*Z}var be=v(fe,le,pe,Me);be>1e-6?(fe/=be,le/=be,pe/=be,Me/=be):(fe=le=pe=0,Me=1),this.rotation.set(m,fe,le,pe,Me)},_.lookAt=function(m,w,x,b){this.recalcMatrix(m);var A=this.computedMatrix;a(A,w=w||this.computedEye,x=x||this.computedCenter,b=b||this.computedUp);var g=this.computedRotation;u(g,A[0],A[1],A[2],A[4],A[5],A[6],A[8],A[9],A[10]),p(g,g),this.rotation.set(m,g[0],g[1],g[2],g[3]);for(var I=0,S=0;S<3;++S)I+=Math.pow(x[S]-w[S],2);this.radius.set(m,.5*Math.log(Math.max(I,1e-6))),this.center.set(m,x[0],x[1],x[2])},_.translate=function(m,w,x,b){this.center.move(m,w||0,x||0,b||0)},_.setMatrix=function(m,w){var x=this.computedRotation;u(x,w[0],w[1],w[2],w[4],w[5],w[6],w[8],w[9],w[10]),p(x,x),this.rotation.set(m,x[0],x[1],x[2],x[3]);var b=this.computedMatrix;l(b,w);var A=b[15];if(Math.abs(A)>1e-6){var g=b[12]/A,I=b[13]/A,S=b[14]/A;this.recalcMatrix(m);var O=Math.exp(this.computedRadius[0]);this.center.set(m,g-b[2]*O,I-b[6]*O,S-b[10]*O),this.radius.idle(m)}else this.center.idle(m),this.radius.idle(m)},_.setDistance=function(m,w){w>0&&this.radius.set(m,Math.log(w))},_.setDistanceLimits=function(m,w){m=m>0?Math.log(m):-1/0,w=w>0?Math.log(w):1/0,w=Math.max(w,m),this.radius.bounds[0][0]=m,this.radius.bounds[1][0]=w},_.getDistanceLimits=function(m){var w=this.radius.bounds;return m?(m[0]=Math.exp(w[0][0]),m[1]=Math.exp(w[1][0]),m):[Math.exp(w[0][0]),Math.exp(w[1][0])]},_.toJSON=function(){return this.recalcMatrix(this.lastT()),{center:this.computedCenter.slice(),rotation:this.computedRotation.slice(),distance:Math.log(this.computedRadius[0]),zoomMin:this.radius.bounds[0][0],zoomMax:this.radius.bounds[1][0]}},_.fromJSON=function(m){var w=this.lastT(),x=m.center;x&&this.center.set(w,x[0],x[1],x[2]);var b=m.rotation;b&&this.rotation.set(w,b[0],b[1],b[2],b[3]);var A=m.distance;A&&A>0&&this.radius.set(w,Math.log(A)),this.setDistanceLimits(m.zoomMin,m.zoomMax)}},4930:function(y,c,i){"use strict";var s=i(6184);y.exports=function(a,o,l){return s(l=void 0!==l?l+"":" ",o)+a}},4405:function(y){y.exports=function(c,i){i||(i=[0,""]),c=String(c);var s=parseFloat(c,10);return i[0]=s,i[1]=c.match(/[\d.\-\+]*\s*(.*)/)[1]||"",i}},4166:function(y,c,i){"use strict";y.exports=function(a,o){for(var l=0|o.length,u=a.length,h=[new Array(l),new Array(l)],v=0;v<l;++v)h[0][v]=[],h[1][v]=[];for(v=0;v<u;++v){var p=a[v];h[0][p[0]].push(p),h[1][p[1]].push(p)}var S,T=[];for(v=0;v<l;++v)h[0][v].length+h[1][v].length===0&&T.push([v]);function _(I,S){var O=h[S][I[S]];O.splice(O.indexOf(I),1)}function m(I,S,O){for(var R,L,N,j=0;j<2;++j)if(h[j][S].length>0){R=h[j][S][0],N=j;break}L=R[1^N];for(var X=0;X<2;++X)for(var F=h[X][S],Y=0;Y<F.length;++Y){var G=F[Y],H=G[1^X];s(o[I],o[S],o[L],o[H])>0&&(R=G,L=H,N=X)}return O||R&&_(R,N),L}function w(I,S){var O=h[S][I][0],R=[I];_(O,S);for(var L=O[1^S];;){for(;L!==I;)R.push(L),L=m(R[R.length-2],L,!1);if(h[0][I].length+h[1][I].length===0)break;var N=R[R.length-1],j=I,X=R[1],F=m(N,j,!0);if(s(o[N],o[j],o[X],o[F])<0)break;R.push(I),L=m(N,j)}return R}for(v=0;v<l;++v)for(var b=0;b<2;++b){for(var A=[];h[b][v].length>0;){var g=w(v,b);(S=g)[1]===S[S.length-1]?A.push.apply(A,g):(A.length>0&&T.push(A),A=g)}A.length>0&&T.push(A)}return T};var s=i(9398)},3959:function(y,c,i){"use strict";y.exports=function(a,o){for(var l=s(a,o.length),u=new Array(o.length),h=new Array(o.length),v=[],p=0;p<o.length;++p){var T=l[p].length;h[p]=T,u[p]=!0,T<=1&&v.push(p)}for(;v.length>0;){u[b=v.pop()]=!1;var _=l[b];for(p=0;p<_.length;++p){var m=_[p];0==--h[m]&&v.push(m)}}var w=new Array(o.length),x=[];for(p=0;p<o.length;++p)if(u[p]){var b=x.length;w[p]=b,x.push(o[p])}else w[p]=-1;var A=[];for(p=0;p<a.length;++p){var g=a[p];u[g[0]]&&u[g[1]]&&A.push([w[g[0]],w[g[1]]])}return[A,x]};var s=i(8348)},8040:function(y,c,i){"use strict";y.exports=function(T,_){for(var m=v(T,_),w=(_=m[1]).length,x=s(T=m[0],_.length),b=0;b<w;++b)if(x[b].length%2==1)throw new Error("planar-graph-to-polyline: graph must be manifold");var A=a(T,_),g=(A=A.filter(function(ze){for(var Se=ze.length,Ce=[0],ge=0;ge<Se;++ge){var he=_[ze[ge]],_e=_[ze[(ge+1)%Se]],Le=l(-he[0],he[1]),Ie=l(-he[0],_e[1]),De=l(_e[0],he[1]),je=l(_e[0],_e[1]);Ce=u(Ce,u(u(Le,Ie),u(De,je)))}return Ce[Ce.length-1]>0})).length,I=new Array(g),S=new Array(g);for(b=0;b<g;++b){I[b]=b;var O=new Array(g),R=A[b].map(function(ze){return _[ze]}),L=o([R]),N=0;e:for(var j=0;j<g;++j)if(O[j]=0,b!==j){for(var X=(ye=A[j]).length,F=0;F<X;++F){var Y=L(_[ye[F]]);if(0!==Y){Y<0&&(O[j]=1,N+=1);continue e}}O[j]=1,N+=1}S[b]=[N,b,O]}for(S.sort(function(ze,Se){return Se[0]-ze[0]}),b=0;b<g;++b){var G=(O=S[b])[1],H=O[2];for(j=0;j<g;++j)H[j]&&(I[j]=G)}var W=function(ze){for(var Se=new Array(ze),Ce=0;Ce<ze;++Ce)Se[Ce]=[];return Se}(g);for(b=0;b<g;++b)W[b].push(I[b]),W[I[b]].push(b);var Z={},se=p(w,!1);for(b=0;b<g;++b)for(X=(ye=A[b]).length,j=0;j<X;++j){var re=ye[j],ne=ye[(j+1)%X],Q=Math.min(re,ne)+":"+Math.max(re,ne);if(Q in Z){var ee=Z[Q];W[ee].push(b),W[b].push(ee),se[re]=se[ne]=!0}else Z[Q]=b}function oe(ze){for(var Se=ze.length,Ce=0;Ce<Se;++Ce)if(!se[ze[Ce]])return!1;return!0}var ce=[],fe=p(g,-1);for(b=0;b<g;++b)I[b]!==b||oe(A[b])?fe[b]=-1:(ce.push(b),fe[b]=0);for(m=[];ce.length>0;){var le=ce.pop(),pe=W[le];h(pe,function(ze,Se){return ze-Se});var Me,Ae=pe.length,be=fe[le];for(0===be&&(Me=[ye=A[le]]),b=0;b<Ae;++b){var ye,we=pe[b];fe[we]>=0||(fe[we]=1^be,ce.push(we),0===be&&(oe(ye=A[we])||(ye.reverse(),Me.push(ye))))}0===be&&m.push(Me)}return m};var s=i(8348),a=i(4166),o=i(211),l=i(9660),u=i(9662),h=i(1215),v=i(3959);function p(T,_){for(var m=new Array(T),w=0;w<T;++w)m[w]=_;return m}},211:function(y,c,i){y.exports=function(p){for(var T=p.length,_=[],m=[],w=0;w<T;++w)for(var x=p[w],b=x.length,A=b-1,g=0;g<b;A=g++){var I=x[A],S=x[g];I[0]===S[0]?m.push([I,S]):_.push([I,S])}if(0===_.length)return 0===m.length?v:(O=h(m),function(N){return O(N[0],N[1])?0:1});var O,N,j,R=a(_),L=(N=R.slabs,j=R.coordinates,function(X){var F=l.le(j,X[0]);if(F<0)return 1;var Y=N[F];if(!Y){if(!(F>0&&j[F]===X[0]))return 1;Y=N[F-1]}for(var G=1;Y;){var H=Y.key,W=s(X,H[0],H[1]);if(H[0][0]<H[1][0])if(W<0)Y=Y.left;else{if(!(W>0))return 0;G=-1,Y=Y.right}else if(W>0)Y=Y.left;else{if(!(W<0))return 0;G=1,Y=Y.right}}return G});return 0===m.length?L:function(N,j){return function(X){return N(X[0],X[1])?0:j(X)}}(h(m),L)};var s=i(417)[3],a=i(4385),o=i(9014),l=i(5070);function u(){return!0}function h(p){for(var T={},_=0;_<p.length;++_){var m=p[_],w=m[0][0],x=m[0][1],b=m[1][1],A=[Math.min(x,b),Math.max(x,b)];w in T?T[w].push(A):T[w]=[A]}var O,g={},I=Object.keys(T);for(_=0;_<I.length;++_)g[I[_]]=o(T[I[_]]);return O=g,function(R,L){var N=O[R];return!!N&&!!N.queryPoint(L,u)}}function v(p){return 1}},7309:function(y){"use strict";var c=new Float64Array(4),i=new Float64Array(4),s=new Float64Array(4);y.exports=function(a,o,l,u,h){c.length<u.length&&(c=new Float64Array(u.length),i=new Float64Array(u.length),s=new Float64Array(u.length));for(var v=0;v<u.length;++v)c[v]=a[v]-u[v],i[v]=o[v]-a[v],s[v]=l[v]-a[v];var p=0,T=0,_=0,m=0,w=0,x=0;for(v=0;v<u.length;++v){var b=i[v],A=s[v],g=c[v];p+=b*b,T+=b*A,_+=A*A,m+=g*b,w+=g*A,x+=g*g}var I,S,O,R,L,N=Math.abs(p*_-T*T),j=T*w-_*m,X=T*m-p*w;if(j+X<=N)if(j<0)X<0&&m<0?(X=0,-m>=p?(j=1,I=p+2*m+x):I=m*(j=-m/p)+x):(j=0,w>=0?(X=0,I=x):-w>=_?(X=1,I=_+2*w+x):I=w*(X=-w/_)+x);else if(X<0)X=0,m>=0?(j=0,I=x):-m>=p?(j=1,I=p+2*m+x):I=m*(j=-m/p)+x;else{var F=1/N;I=(j*=F)*(p*j+T*(X*=F)+2*m)+X*(T*j+_*X+2*w)+x}else j<0?(O=_+w)>(S=T+m)?(R=O-S)>=(L=p-2*T+_)?(j=1,X=0,I=p+2*m+x):I=(j=R/L)*(p*j+T*(X=1-j)+2*m)+X*(T*j+_*X+2*w)+x:(j=0,O<=0?(X=1,I=_+2*w+x):w>=0?(X=0,I=x):I=w*(X=-w/_)+x):X<0?(O=p+m)>(S=T+w)?(R=O-S)>=(L=p-2*T+_)?(X=1,j=0,I=_+2*w+x):I=(j=1-(X=R/L))*(p*j+T*X+2*m)+X*(T*j+_*X+2*w)+x:(X=0,O<=0?(j=1,I=p+2*m+x):m>=0?(j=0,I=x):I=m*(j=-m/p)+x):(R=_+w-T-m)<=0?(j=0,X=1,I=_+2*w+x):R>=(L=p-2*T+_)?(j=1,X=0,I=p+2*m+x):I=(j=R/L)*(p*j+T*(X=1-j)+2*m)+X*(T*j+_*X+2*w)+x;var Y=1-j-X;for(v=0;v<u.length;++v)h[v]=Y*a[v]+j*o[v]+X*l[v];return I<0?0:I}},1116:function(y,c,i){y.exports=i(6093)},7584:function(y,c,i){"use strict";var s=i(1539);y.exports=function(a,o){for(var l=a.length,u=new Array(l),h=0;h<l;++h)u[h]=s(a[h],o[h]);return u}},2826:function(y,c,i){"use strict";y.exports=function(a){for(var o=new Array(a.length),l=0;l<a.length;++l)o[l]=s(a[l]);return o};var s=i(5125)},4469:function(y,c,i){"use strict";var s=i(5125),a=i(3962);y.exports=function(o,l){for(var u=s(l),h=o.length,v=new Array(h),p=0;p<h;++p)v[p]=a(o[p],u);return v}},6695:function(y,c,i){"use strict";var s=i(4354);y.exports=function(a,o){for(var l=a.length,u=new Array(l),h=0;h<l;++h)u[h]=s(a[h],o[h]);return u}},7037:function(y,c,i){"use strict";var s=i(9209),a=i(1284),o=i(9887);y.exports=function(l){l.sort(a);for(var u=l.length,h=0,v=0;v<u;++v){var p=l[v],T=o(p);if(0!==T){if(h>0){var _=l[h-1];if(0===s(p,_)&&o(_)!==T){h-=1;continue}}l[h++]=p}}return l.length=h,l}},6184:function(y){"use strict";var c,i="";y.exports=function(s,a){if("string"!=typeof s)throw new TypeError("expected a string");if(1===a)return s;if(2===a)return s+s;var o=s.length*a;if(c!==s||void 0===c)c=s,i="";else if(i.length>=o)return i.substr(0,o);for(;o>i.length&&a>1;)1&a&&(i+=s),a>>=1,s+=s;return i=(i+=s).substr(0,o)}},8161:function(y,c,i){y.exports=i.g.performance&&i.g.performance.now?function(){return performance.now()}:Date.now||function(){return+new Date}},402:function(y){"use strict";y.exports=function(c){for(var i=c.length,s=c[c.length-1],a=i,o=i-2;o>=0;--o){var l=s;(v=(h=c[o])-((s=l+h)-l))&&(c[--a]=s,s=v)}var u=0;for(o=a;o<i;++o){var h,v;(v=(h=s)-((s=(l=c[o])+h)-l))&&(c[u++]=v)}return c[u++]=s,c.length=u,c}},8167:function(y,c,i){"use strict";var s=i(9660),a=i(9662),o=i(8289),l=i(402);function u(w,x,b,A){return function(g){return A(w(b(g[0][0],g[1][1]),b(-g[0][1],g[1][0])))}}function h(w,x,b,A){return function(g){return A(w(x(w(b(g[1][1],g[2][2]),b(-g[1][2],g[2][1])),g[0][0]),w(x(w(b(g[1][0],g[2][2]),b(-g[1][2],g[2][0])),-g[0][1]),x(w(b(g[1][0],g[2][1]),b(-g[1][1],g[2][0])),g[0][2]))))}}function v(w,x,b,A){return function(g){return A(w(w(x(w(x(w(b(g[2][2],g[3][3]),b(-g[2][3],g[3][2])),g[1][1]),w(x(w(b(g[2][1],g[3][3]),b(-g[2][3],g[3][1])),-g[1][2]),x(w(b(g[2][1],g[3][2]),b(-g[2][2],g[3][1])),g[1][3]))),g[0][0]),x(w(x(w(b(g[2][2],g[3][3]),b(-g[2][3],g[3][2])),g[1][0]),w(x(w(b(g[2][0],g[3][3]),b(-g[2][3],g[3][0])),-g[1][2]),x(w(b(g[2][0],g[3][2]),b(-g[2][2],g[3][0])),g[1][3]))),-g[0][1])),w(x(w(x(w(b(g[2][1],g[3][3]),b(-g[2][3],g[3][1])),g[1][0]),w(x(w(b(g[2][0],g[3][3]),b(-g[2][3],g[3][0])),-g[1][1]),x(w(b(g[2][0],g[3][1]),b(-g[2][1],g[3][0])),g[1][3]))),g[0][2]),x(w(x(w(b(g[2][1],g[3][2]),b(-g[2][2],g[3][1])),g[1][0]),w(x(w(b(g[2][0],g[3][2]),b(-g[2][2],g[3][0])),-g[1][1]),x(w(b(g[2][0],g[3][1]),b(-g[2][1],g[3][0])),g[1][2]))),-g[0][3]))))}}function p(w,x,b,A){return function(g){return A(w(w(x(w(w(x(w(x(w(b(g[3][3],g[4][4]),b(-g[3][4],g[4][3])),g[2][2]),w(x(w(b(g[3][2],g[4][4]),b(-g[3][4],g[4][2])),-g[2][3]),x(w(b(g[3][2],g[4][3]),b(-g[3][3],g[4][2])),g[2][4]))),g[1][1]),x(w(x(w(b(g[3][3],g[4][4]),b(-g[3][4],g[4][3])),g[2][1]),w(x(w(b(g[3][1],g[4][4]),b(-g[3][4],g[4][1])),-g[2][3]),x(w(b(g[3][1],g[4][3]),b(-g[3][3],g[4][1])),g[2][4]))),-g[1][2])),w(x(w(x(w(b(g[3][2],g[4][4]),b(-g[3][4],g[4][2])),g[2][1]),w(x(w(b(g[3][1],g[4][4]),b(-g[3][4],g[4][1])),-g[2][2]),x(w(b(g[3][1],g[4][2]),b(-g[3][2],g[4][1])),g[2][4]))),g[1][3]),x(w(x(w(b(g[3][2],g[4][3]),b(-g[3][3],g[4][2])),g[2][1]),w(x(w(b(g[3][1],g[4][3]),b(-g[3][3],g[4][1])),-g[2][2]),x(w(b(g[3][1],g[4][2]),b(-g[3][2],g[4][1])),g[2][3]))),-g[1][4]))),g[0][0]),x(w(w(x(w(x(w(b(g[3][3],g[4][4]),b(-g[3][4],g[4][3])),g[2][2]),w(x(w(b(g[3][2],g[4][4]),b(-g[3][4],g[4][2])),-g[2][3]),x(w(b(g[3][2],g[4][3]),b(-g[3][3],g[4][2])),g[2][4]))),g[1][0]),x(w(x(w(b(g[3][3],g[4][4]),b(-g[3][4],g[4][3])),g[2][0]),w(x(w(b(g[3][0],g[4][4]),b(-g[3][4],g[4][0])),-g[2][3]),x(w(b(g[3][0],g[4][3]),b(-g[3][3],g[4][0])),g[2][4]))),-g[1][2])),w(x(w(x(w(b(g[3][2],g[4][4]),b(-g[3][4],g[4][2])),g[2][0]),w(x(w(b(g[3][0],g[4][4]),b(-g[3][4],g[4][0])),-g[2][2]),x(w(b(g[3][0],g[4][2]),b(-g[3][2],g[4][0])),g[2][4]))),g[1][3]),x(w(x(w(b(g[3][2],g[4][3]),b(-g[3][3],g[4][2])),g[2][0]),w(x(w(b(g[3][0],g[4][3]),b(-g[3][3],g[4][0])),-g[2][2]),x(w(b(g[3][0],g[4][2]),b(-g[3][2],g[4][0])),g[2][3]))),-g[1][4]))),-g[0][1])),w(x(w(w(x(w(x(w(b(g[3][3],g[4][4]),b(-g[3][4],g[4][3])),g[2][1]),w(x(w(b(g[3][1],g[4][4]),b(-g[3][4],g[4][1])),-g[2][3]),x(w(b(g[3][1],g[4][3]),b(-g[3][3],g[4][1])),g[2][4]))),g[1][0]),x(w(x(w(b(g[3][3],g[4][4]),b(-g[3][4],g[4][3])),g[2][0]),w(x(w(b(g[3][0],g[4][4]),b(-g[3][4],g[4][0])),-g[2][3]),x(w(b(g[3][0],g[4][3]),b(-g[3][3],g[4][0])),g[2][4]))),-g[1][1])),w(x(w(x(w(b(g[3][1],g[4][4]),b(-g[3][4],g[4][1])),g[2][0]),w(x(w(b(g[3][0],g[4][4]),b(-g[3][4],g[4][0])),-g[2][1]),x(w(b(g[3][0],g[4][1]),b(-g[3][1],g[4][0])),g[2][4]))),g[1][3]),x(w(x(w(b(g[3][1],g[4][3]),b(-g[3][3],g[4][1])),g[2][0]),w(x(w(b(g[3][0],g[4][3]),b(-g[3][3],g[4][0])),-g[2][1]),x(w(b(g[3][0],g[4][1]),b(-g[3][1],g[4][0])),g[2][3]))),-g[1][4]))),g[0][2]),w(x(w(w(x(w(x(w(b(g[3][2],g[4][4]),b(-g[3][4],g[4][2])),g[2][1]),w(x(w(b(g[3][1],g[4][4]),b(-g[3][4],g[4][1])),-g[2][2]),x(w(b(g[3][1],g[4][2]),b(-g[3][2],g[4][1])),g[2][4]))),g[1][0]),x(w(x(w(b(g[3][2],g[4][4]),b(-g[3][4],g[4][2])),g[2][0]),w(x(w(b(g[3][0],g[4][4]),b(-g[3][4],g[4][0])),-g[2][2]),x(w(b(g[3][0],g[4][2]),b(-g[3][2],g[4][0])),g[2][4]))),-g[1][1])),w(x(w(x(w(b(g[3][1],g[4][4]),b(-g[3][4],g[4][1])),g[2][0]),w(x(w(b(g[3][0],g[4][4]),b(-g[3][4],g[4][0])),-g[2][1]),x(w(b(g[3][0],g[4][1]),b(-g[3][1],g[4][0])),g[2][4]))),g[1][2]),x(w(x(w(b(g[3][1],g[4][2]),b(-g[3][2],g[4][1])),g[2][0]),w(x(w(b(g[3][0],g[4][2]),b(-g[3][2],g[4][0])),-g[2][1]),x(w(b(g[3][0],g[4][1]),b(-g[3][1],g[4][0])),g[2][2]))),-g[1][4]))),-g[0][3]),x(w(w(x(w(x(w(b(g[3][2],g[4][3]),b(-g[3][3],g[4][2])),g[2][1]),w(x(w(b(g[3][1],g[4][3]),b(-g[3][3],g[4][1])),-g[2][2]),x(w(b(g[3][1],g[4][2]),b(-g[3][2],g[4][1])),g[2][3]))),g[1][0]),x(w(x(w(b(g[3][2],g[4][3]),b(-g[3][3],g[4][2])),g[2][0]),w(x(w(b(g[3][0],g[4][3]),b(-g[3][3],g[4][0])),-g[2][2]),x(w(b(g[3][0],g[4][2]),b(-g[3][2],g[4][0])),g[2][3]))),-g[1][1])),w(x(w(x(w(b(g[3][1],g[4][3]),b(-g[3][3],g[4][1])),g[2][0]),w(x(w(b(g[3][0],g[4][3]),b(-g[3][3],g[4][0])),-g[2][1]),x(w(b(g[3][0],g[4][1]),b(-g[3][1],g[4][0])),g[2][3]))),g[1][2]),x(w(x(w(b(g[3][1],g[4][2]),b(-g[3][2],g[4][1])),g[2][0]),w(x(w(b(g[3][0],g[4][2]),b(-g[3][2],g[4][0])),-g[2][1]),x(w(b(g[3][0],g[4][1]),b(-g[3][1],g[4][0])),g[2][2]))),-g[1][3]))),g[0][4])))))}}function T(w){return(2===w?u:3===w?h:4===w?v:5===w?p:void 0)(a,o,s,l)}var _=[function(){return[0]},function(w){return[w[0][0]]}];function m(w,x,b,A,g,I,S,O){return function(R){switch(R.length){case 0:return w(R);case 1:return x(R);case 2:return b(R);case 3:return A(R);case 4:return g(R);case 5:return I(R)}var L=S[R.length];return L||(L=S[R.length]=O(R.length)),L(R)}}!function(){for(;_.length<6;)_.push(T(_.length));y.exports=m.apply(void 0,_.concat([_,T]));for(var w=0;w<_.length;++w)y.exports[w]=_[w]}()},9130:function(y,c,i){"use strict";var s=i(9660),a=i(9662);y.exports=function(o,l){for(var u=s(o[0],l[0]),h=1;h<o.length;++h)u=a(u,s(o[h],l[h]));return u}},2227:function(y,c,i){"use strict";var s=i(9660),a=i(9662),o=i(4078),l=i(8289);function u(x){return(3===x?h:4===x?v:5===x?p:T)(a,o,s,l)}function h(x,b,A,g){return function(I,S,O){var R=A(I[0],I[0]),L=g(R,S[0]),N=g(R,O[0]),j=A(S[0],S[0]),X=g(j,I[0]),F=g(j,O[0]),Y=A(O[0],O[0]),G=g(Y,I[0]),H=g(Y,S[0]),W=x(b(H,F),b(X,L)),Z=b(G,N),se=b(W,Z);return se[se.length-1]}}function v(x,b,A,g){return function(I,S,O,R){var L=x(A(I[0],I[0]),A(I[1],I[1])),N=g(L,S[0]),j=g(L,O[0]),X=g(L,R[0]),F=x(A(S[0],S[0]),A(S[1],S[1])),Y=g(F,I[0]),G=g(F,O[0]),H=g(F,R[0]),W=x(A(O[0],O[0]),A(O[1],O[1])),Z=g(W,I[0]),se=g(W,S[0]),re=g(W,R[0]),ne=x(A(R[0],R[0]),A(R[1],R[1])),Q=g(ne,I[0]),ee=g(ne,S[0]),oe=g(ne,O[0]),ce=x(x(g(b(oe,re),S[1]),x(g(b(ee,H),-O[1]),g(b(se,G),R[1]))),x(g(b(ee,H),I[1]),x(g(b(Q,X),-S[1]),g(b(Y,N),R[1])))),fe=x(x(g(b(oe,re),I[1]),x(g(b(Q,X),-O[1]),g(b(Z,j),R[1]))),x(g(b(se,G),I[1]),x(g(b(Z,j),-S[1]),g(b(Y,N),O[1])))),le=b(ce,fe);return le[le.length-1]}}function p(x,b,A,g){return function(I,S,O,R,L){var N=x(A(I[0],I[0]),x(A(I[1],I[1]),A(I[2],I[2]))),j=g(N,S[0]),X=g(N,O[0]),F=g(N,R[0]),Y=g(N,L[0]),G=x(A(S[0],S[0]),x(A(S[1],S[1]),A(S[2],S[2]))),H=g(G,I[0]),W=g(G,O[0]),Z=g(G,R[0]),se=g(G,L[0]),re=x(A(O[0],O[0]),x(A(O[1],O[1]),A(O[2],O[2]))),ne=g(re,I[0]),Q=g(re,S[0]),ee=g(re,R[0]),oe=g(re,L[0]),ce=x(A(R[0],R[0]),x(A(R[1],R[1]),A(R[2],R[2]))),fe=g(ce,I[0]),le=g(ce,S[0]),pe=g(ce,O[0]),Me=g(ce,L[0]),Ae=x(A(L[0],L[0]),x(A(L[1],L[1]),A(L[2],L[2]))),be=g(Ae,I[0]),ye=g(Ae,S[0]),we=g(Ae,O[0]),ze=g(Ae,R[0]),Se=x(x(x(g(x(g(b(ze,Me),O[1]),x(g(b(we,oe),-R[1]),g(b(pe,ee),L[1]))),S[2]),x(g(x(g(b(ze,Me),S[1]),x(g(b(ye,se),-R[1]),g(b(le,Z),L[1]))),-O[2]),g(x(g(b(we,oe),S[1]),x(g(b(ye,se),-O[1]),g(b(Q,W),L[1]))),R[2]))),x(g(x(g(b(pe,ee),S[1]),x(g(b(le,Z),-O[1]),g(b(Q,W),R[1]))),-L[2]),x(g(x(g(b(ze,Me),S[1]),x(g(b(ye,se),-R[1]),g(b(le,Z),L[1]))),I[2]),g(x(g(b(ze,Me),I[1]),x(g(b(be,Y),-R[1]),g(b(fe,F),L[1]))),-S[2])))),x(x(g(x(g(b(ye,se),I[1]),x(g(b(be,Y),-S[1]),g(b(H,j),L[1]))),R[2]),x(g(x(g(b(le,Z),I[1]),x(g(b(fe,F),-S[1]),g(b(H,j),R[1]))),-L[2]),g(x(g(b(pe,ee),S[1]),x(g(b(le,Z),-O[1]),g(b(Q,W),R[1]))),I[2]))),x(g(x(g(b(pe,ee),I[1]),x(g(b(fe,F),-O[1]),g(b(ne,X),R[1]))),-S[2]),x(g(x(g(b(le,Z),I[1]),x(g(b(fe,F),-S[1]),g(b(H,j),R[1]))),O[2]),g(x(g(b(Q,W),I[1]),x(g(b(ne,X),-S[1]),g(b(H,j),O[1]))),-R[2]))))),Ce=x(x(x(g(x(g(b(ze,Me),O[1]),x(g(b(we,oe),-R[1]),g(b(pe,ee),L[1]))),I[2]),g(x(g(b(ze,Me),I[1]),x(g(b(be,Y),-R[1]),g(b(fe,F),L[1]))),-O[2])),x(g(x(g(b(we,oe),I[1]),x(g(b(be,Y),-O[1]),g(b(ne,X),L[1]))),R[2]),g(x(g(b(pe,ee),I[1]),x(g(b(fe,F),-O[1]),g(b(ne,X),R[1]))),-L[2]))),x(x(g(x(g(b(we,oe),S[1]),x(g(b(ye,se),-O[1]),g(b(Q,W),L[1]))),I[2]),g(x(g(b(we,oe),I[1]),x(g(b(be,Y),-O[1]),g(b(ne,X),L[1]))),-S[2])),x(g(x(g(b(ye,se),I[1]),x(g(b(be,Y),-S[1]),g(b(H,j),L[1]))),O[2]),g(x(g(b(Q,W),I[1]),x(g(b(ne,X),-S[1]),g(b(H,j),O[1]))),-L[2])))),ge=b(Se,Ce);return ge[ge.length-1]}}function T(x,b,A,g){return function(I,S,O,R,L,N){var j=x(x(A(I[0],I[0]),A(I[1],I[1])),x(A(I[2],I[2]),A(I[3],I[3]))),X=g(j,S[0]),F=g(j,O[0]),Y=g(j,R[0]),G=g(j,L[0]),H=g(j,N[0]),W=x(x(A(S[0],S[0]),A(S[1],S[1])),x(A(S[2],S[2]),A(S[3],S[3]))),Z=g(W,I[0]),se=g(W,O[0]),re=g(W,R[0]),ne=g(W,L[0]),Q=g(W,N[0]),ee=x(x(A(O[0],O[0]),A(O[1],O[1])),x(A(O[2],O[2]),A(O[3],O[3]))),oe=g(ee,I[0]),ce=g(ee,S[0]),fe=g(ee,R[0]),le=g(ee,L[0]),pe=g(ee,N[0]),Me=x(x(A(R[0],R[0]),A(R[1],R[1])),x(A(R[2],R[2]),A(R[3],R[3]))),Ae=g(Me,I[0]),be=g(Me,S[0]),ye=g(Me,O[0]),we=g(Me,L[0]),ze=g(Me,N[0]),Se=x(x(A(L[0],L[0]),A(L[1],L[1])),x(A(L[2],L[2]),A(L[3],L[3]))),Ce=g(Se,I[0]),ge=g(Se,S[0]),he=g(Se,O[0]),_e=g(Se,R[0]),Le=g(Se,N[0]),Ie=x(x(A(N[0],N[0]),A(N[1],N[1])),x(A(N[2],N[2]),A(N[3],N[3]))),De=g(Ie,I[0]),je=g(Ie,S[0]),qe=g(Ie,O[0]),ve=g(Ie,R[0]),Oe=g(Ie,L[0]),ke=x(x(x(g(x(x(g(x(g(b(Oe,Le),R[1]),x(g(b(ve,ze),-L[1]),g(b(_e,we),N[1]))),O[2]),g(x(g(b(Oe,Le),O[1]),x(g(b(qe,pe),-L[1]),g(b(he,le),N[1]))),-R[2])),x(g(x(g(b(ve,ze),O[1]),x(g(b(qe,pe),-R[1]),g(b(ye,fe),N[1]))),L[2]),g(x(g(b(_e,we),O[1]),x(g(b(he,le),-R[1]),g(b(ye,fe),L[1]))),-N[2]))),S[3]),x(g(x(x(g(x(g(b(Oe,Le),R[1]),x(g(b(ve,ze),-L[1]),g(b(_e,we),N[1]))),S[2]),g(x(g(b(Oe,Le),S[1]),x(g(b(je,Q),-L[1]),g(b(ge,ne),N[1]))),-R[2])),x(g(x(g(b(ve,ze),S[1]),x(g(b(je,Q),-R[1]),g(b(be,re),N[1]))),L[2]),g(x(g(b(_e,we),S[1]),x(g(b(ge,ne),-R[1]),g(b(be,re),L[1]))),-N[2]))),-O[3]),g(x(x(g(x(g(b(Oe,Le),O[1]),x(g(b(qe,pe),-L[1]),g(b(he,le),N[1]))),S[2]),g(x(g(b(Oe,Le),S[1]),x(g(b(je,Q),-L[1]),g(b(ge,ne),N[1]))),-O[2])),x(g(x(g(b(qe,pe),S[1]),x(g(b(je,Q),-O[1]),g(b(ce,se),N[1]))),L[2]),g(x(g(b(he,le),S[1]),x(g(b(ge,ne),-O[1]),g(b(ce,se),L[1]))),-N[2]))),R[3]))),x(x(g(x(x(g(x(g(b(ve,ze),O[1]),x(g(b(qe,pe),-R[1]),g(b(ye,fe),N[1]))),S[2]),g(x(g(b(ve,ze),S[1]),x(g(b(je,Q),-R[1]),g(b(be,re),N[1]))),-O[2])),x(g(x(g(b(qe,pe),S[1]),x(g(b(je,Q),-O[1]),g(b(ce,se),N[1]))),R[2]),g(x(g(b(ye,fe),S[1]),x(g(b(be,re),-O[1]),g(b(ce,se),R[1]))),-N[2]))),-L[3]),g(x(x(g(x(g(b(_e,we),O[1]),x(g(b(he,le),-R[1]),g(b(ye,fe),L[1]))),S[2]),g(x(g(b(_e,we),S[1]),x(g(b(ge,ne),-R[1]),g(b(be,re),L[1]))),-O[2])),x(g(x(g(b(he,le),S[1]),x(g(b(ge,ne),-O[1]),g(b(ce,se),L[1]))),R[2]),g(x(g(b(ye,fe),S[1]),x(g(b(be,re),-O[1]),g(b(ce,se),R[1]))),-L[2]))),N[3])),x(g(x(x(g(x(g(b(Oe,Le),R[1]),x(g(b(ve,ze),-L[1]),g(b(_e,we),N[1]))),S[2]),g(x(g(b(Oe,Le),S[1]),x(g(b(je,Q),-L[1]),g(b(ge,ne),N[1]))),-R[2])),x(g(x(g(b(ve,ze),S[1]),x(g(b(je,Q),-R[1]),g(b(be,re),N[1]))),L[2]),g(x(g(b(_e,we),S[1]),x(g(b(ge,ne),-R[1]),g(b(be,re),L[1]))),-N[2]))),I[3]),g(x(x(g(x(g(b(Oe,Le),R[1]),x(g(b(ve,ze),-L[1]),g(b(_e,we),N[1]))),I[2]),g(x(g(b(Oe,Le),I[1]),x(g(b(De,H),-L[1]),g(b(Ce,G),N[1]))),-R[2])),x(g(x(g(b(ve,ze),I[1]),x(g(b(De,H),-R[1]),g(b(Ae,Y),N[1]))),L[2]),g(x(g(b(_e,we),I[1]),x(g(b(Ce,G),-R[1]),g(b(Ae,Y),L[1]))),-N[2]))),-S[3])))),x(x(x(g(x(x(g(x(g(b(Oe,Le),S[1]),x(g(b(je,Q),-L[1]),g(b(ge,ne),N[1]))),I[2]),g(x(g(b(Oe,Le),I[1]),x(g(b(De,H),-L[1]),g(b(Ce,G),N[1]))),-S[2])),x(g(x(g(b(je,Q),I[1]),x(g(b(De,H),-S[1]),g(b(Z,X),N[1]))),L[2]),g(x(g(b(ge,ne),I[1]),x(g(b(Ce,G),-S[1]),g(b(Z,X),L[1]))),-N[2]))),R[3]),g(x(x(g(x(g(b(ve,ze),S[1]),x(g(b(je,Q),-R[1]),g(b(be,re),N[1]))),I[2]),g(x(g(b(ve,ze),I[1]),x(g(b(De,H),-R[1]),g(b(Ae,Y),N[1]))),-S[2])),x(g(x(g(b(je,Q),I[1]),x(g(b(De,H),-S[1]),g(b(Z,X),N[1]))),R[2]),g(x(g(b(be,re),I[1]),x(g(b(Ae,Y),-S[1]),g(b(Z,X),R[1]))),-N[2]))),-L[3])),x(g(x(x(g(x(g(b(_e,we),S[1]),x(g(b(ge,ne),-R[1]),g(b(be,re),L[1]))),I[2]),g(x(g(b(_e,we),I[1]),x(g(b(Ce,G),-R[1]),g(b(Ae,Y),L[1]))),-S[2])),x(g(x(g(b(ge,ne),I[1]),x(g(b(Ce,G),-S[1]),g(b(Z,X),L[1]))),R[2]),g(x(g(b(be,re),I[1]),x(g(b(Ae,Y),-S[1]),g(b(Z,X),R[1]))),-L[2]))),N[3]),g(x(x(g(x(g(b(ve,ze),O[1]),x(g(b(qe,pe),-R[1]),g(b(ye,fe),N[1]))),S[2]),g(x(g(b(ve,ze),S[1]),x(g(b(je,Q),-R[1]),g(b(be,re),N[1]))),-O[2])),x(g(x(g(b(qe,pe),S[1]),x(g(b(je,Q),-O[1]),g(b(ce,se),N[1]))),R[2]),g(x(g(b(ye,fe),S[1]),x(g(b(be,re),-O[1]),g(b(ce,se),R[1]))),-N[2]))),I[3]))),x(x(g(x(x(g(x(g(b(ve,ze),O[1]),x(g(b(qe,pe),-R[1]),g(b(ye,fe),N[1]))),I[2]),g(x(g(b(ve,ze),I[1]),x(g(b(De,H),-R[1]),g(b(Ae,Y),N[1]))),-O[2])),x(g(x(g(b(qe,pe),I[1]),x(g(b(De,H),-O[1]),g(b(oe,F),N[1]))),R[2]),g(x(g(b(ye,fe),I[1]),x(g(b(Ae,Y),-O[1]),g(b(oe,F),R[1]))),-N[2]))),-S[3]),g(x(x(g(x(g(b(ve,ze),S[1]),x(g(b(je,Q),-R[1]),g(b(be,re),N[1]))),I[2]),g(x(g(b(ve,ze),I[1]),x(g(b(De,H),-R[1]),g(b(Ae,Y),N[1]))),-S[2])),x(g(x(g(b(je,Q),I[1]),x(g(b(De,H),-S[1]),g(b(Z,X),N[1]))),R[2]),g(x(g(b(be,re),I[1]),x(g(b(Ae,Y),-S[1]),g(b(Z,X),R[1]))),-N[2]))),O[3])),x(g(x(x(g(x(g(b(qe,pe),S[1]),x(g(b(je,Q),-O[1]),g(b(ce,se),N[1]))),I[2]),g(x(g(b(qe,pe),I[1]),x(g(b(De,H),-O[1]),g(b(oe,F),N[1]))),-S[2])),x(g(x(g(b(je,Q),I[1]),x(g(b(De,H),-S[1]),g(b(Z,X),N[1]))),O[2]),g(x(g(b(ce,se),I[1]),x(g(b(oe,F),-S[1]),g(b(Z,X),O[1]))),-N[2]))),-R[3]),g(x(x(g(x(g(b(ye,fe),S[1]),x(g(b(be,re),-O[1]),g(b(ce,se),R[1]))),I[2]),g(x(g(b(ye,fe),I[1]),x(g(b(Ae,Y),-O[1]),g(b(oe,F),R[1]))),-S[2])),x(g(x(g(b(be,re),I[1]),x(g(b(Ae,Y),-S[1]),g(b(Z,X),R[1]))),O[2]),g(x(g(b(ce,se),I[1]),x(g(b(oe,F),-S[1]),g(b(Z,X),O[1]))),-R[2]))),N[3]))))),Be=x(x(x(g(x(x(g(x(g(b(Oe,Le),R[1]),x(g(b(ve,ze),-L[1]),g(b(_e,we),N[1]))),O[2]),g(x(g(b(Oe,Le),O[1]),x(g(b(qe,pe),-L[1]),g(b(he,le),N[1]))),-R[2])),x(g(x(g(b(ve,ze),O[1]),x(g(b(qe,pe),-R[1]),g(b(ye,fe),N[1]))),L[2]),g(x(g(b(_e,we),O[1]),x(g(b(he,le),-R[1]),g(b(ye,fe),L[1]))),-N[2]))),I[3]),x(g(x(x(g(x(g(b(Oe,Le),R[1]),x(g(b(ve,ze),-L[1]),g(b(_e,we),N[1]))),I[2]),g(x(g(b(Oe,Le),I[1]),x(g(b(De,H),-L[1]),g(b(Ce,G),N[1]))),-R[2])),x(g(x(g(b(ve,ze),I[1]),x(g(b(De,H),-R[1]),g(b(Ae,Y),N[1]))),L[2]),g(x(g(b(_e,we),I[1]),x(g(b(Ce,G),-R[1]),g(b(Ae,Y),L[1]))),-N[2]))),-O[3]),g(x(x(g(x(g(b(Oe,Le),O[1]),x(g(b(qe,pe),-L[1]),g(b(he,le),N[1]))),I[2]),g(x(g(b(Oe,Le),I[1]),x(g(b(De,H),-L[1]),g(b(Ce,G),N[1]))),-O[2])),x(g(x(g(b(qe,pe),I[1]),x(g(b(De,H),-O[1]),g(b(oe,F),N[1]))),L[2]),g(x(g(b(he,le),I[1]),x(g(b(Ce,G),-O[1]),g(b(oe,F),L[1]))),-N[2]))),R[3]))),x(x(g(x(x(g(x(g(b(ve,ze),O[1]),x(g(b(qe,pe),-R[1]),g(b(ye,fe),N[1]))),I[2]),g(x(g(b(ve,ze),I[1]),x(g(b(De,H),-R[1]),g(b(Ae,Y),N[1]))),-O[2])),x(g(x(g(b(qe,pe),I[1]),x(g(b(De,H),-O[1]),g(b(oe,F),N[1]))),R[2]),g(x(g(b(ye,fe),I[1]),x(g(b(Ae,Y),-O[1]),g(b(oe,F),R[1]))),-N[2]))),-L[3]),g(x(x(g(x(g(b(_e,we),O[1]),x(g(b(he,le),-R[1]),g(b(ye,fe),L[1]))),I[2]),g(x(g(b(_e,we),I[1]),x(g(b(Ce,G),-R[1]),g(b(Ae,Y),L[1]))),-O[2])),x(g(x(g(b(he,le),I[1]),x(g(b(Ce,G),-O[1]),g(b(oe,F),L[1]))),R[2]),g(x(g(b(ye,fe),I[1]),x(g(b(Ae,Y),-O[1]),g(b(oe,F),R[1]))),-L[2]))),N[3])),x(g(x(x(g(x(g(b(Oe,Le),O[1]),x(g(b(qe,pe),-L[1]),g(b(he,le),N[1]))),S[2]),g(x(g(b(Oe,Le),S[1]),x(g(b(je,Q),-L[1]),g(b(ge,ne),N[1]))),-O[2])),x(g(x(g(b(qe,pe),S[1]),x(g(b(je,Q),-O[1]),g(b(ce,se),N[1]))),L[2]),g(x(g(b(he,le),S[1]),x(g(b(ge,ne),-O[1]),g(b(ce,se),L[1]))),-N[2]))),I[3]),g(x(x(g(x(g(b(Oe,Le),O[1]),x(g(b(qe,pe),-L[1]),g(b(he,le),N[1]))),I[2]),g(x(g(b(Oe,Le),I[1]),x(g(b(De,H),-L[1]),g(b(Ce,G),N[1]))),-O[2])),x(g(x(g(b(qe,pe),I[1]),x(g(b(De,H),-O[1]),g(b(oe,F),N[1]))),L[2]),g(x(g(b(he,le),I[1]),x(g(b(Ce,G),-O[1]),g(b(oe,F),L[1]))),-N[2]))),-S[3])))),x(x(x(g(x(x(g(x(g(b(Oe,Le),S[1]),x(g(b(je,Q),-L[1]),g(b(ge,ne),N[1]))),I[2]),g(x(g(b(Oe,Le),I[1]),x(g(b(De,H),-L[1]),g(b(Ce,G),N[1]))),-S[2])),x(g(x(g(b(je,Q),I[1]),x(g(b(De,H),-S[1]),g(b(Z,X),N[1]))),L[2]),g(x(g(b(ge,ne),I[1]),x(g(b(Ce,G),-S[1]),g(b(Z,X),L[1]))),-N[2]))),O[3]),g(x(x(g(x(g(b(qe,pe),S[1]),x(g(b(je,Q),-O[1]),g(b(ce,se),N[1]))),I[2]),g(x(g(b(qe,pe),I[1]),x(g(b(De,H),-O[1]),g(b(oe,F),N[1]))),-S[2])),x(g(x(g(b(je,Q),I[1]),x(g(b(De,H),-S[1]),g(b(Z,X),N[1]))),O[2]),g(x(g(b(ce,se),I[1]),x(g(b(oe,F),-S[1]),g(b(Z,X),O[1]))),-N[2]))),-L[3])),x(g(x(x(g(x(g(b(he,le),S[1]),x(g(b(ge,ne),-O[1]),g(b(ce,se),L[1]))),I[2]),g(x(g(b(he,le),I[1]),x(g(b(Ce,G),-O[1]),g(b(oe,F),L[1]))),-S[2])),x(g(x(g(b(ge,ne),I[1]),x(g(b(Ce,G),-S[1]),g(b(Z,X),L[1]))),O[2]),g(x(g(b(ce,se),I[1]),x(g(b(oe,F),-S[1]),g(b(Z,X),O[1]))),-L[2]))),N[3]),g(x(x(g(x(g(b(_e,we),O[1]),x(g(b(he,le),-R[1]),g(b(ye,fe),L[1]))),S[2]),g(x(g(b(_e,we),S[1]),x(g(b(ge,ne),-R[1]),g(b(be,re),L[1]))),-O[2])),x(g(x(g(b(he,le),S[1]),x(g(b(ge,ne),-O[1]),g(b(ce,se),L[1]))),R[2]),g(x(g(b(ye,fe),S[1]),x(g(b(be,re),-O[1]),g(b(ce,se),R[1]))),-L[2]))),I[3]))),x(x(g(x(x(g(x(g(b(_e,we),O[1]),x(g(b(he,le),-R[1]),g(b(ye,fe),L[1]))),I[2]),g(x(g(b(_e,we),I[1]),x(g(b(Ce,G),-R[1]),g(b(Ae,Y),L[1]))),-O[2])),x(g(x(g(b(he,le),I[1]),x(g(b(Ce,G),-O[1]),g(b(oe,F),L[1]))),R[2]),g(x(g(b(ye,fe),I[1]),x(g(b(Ae,Y),-O[1]),g(b(oe,F),R[1]))),-L[2]))),-S[3]),g(x(x(g(x(g(b(_e,we),S[1]),x(g(b(ge,ne),-R[1]),g(b(be,re),L[1]))),I[2]),g(x(g(b(_e,we),I[1]),x(g(b(Ce,G),-R[1]),g(b(Ae,Y),L[1]))),-S[2])),x(g(x(g(b(ge,ne),I[1]),x(g(b(Ce,G),-S[1]),g(b(Z,X),L[1]))),R[2]),g(x(g(b(be,re),I[1]),x(g(b(Ae,Y),-S[1]),g(b(Z,X),R[1]))),-L[2]))),O[3])),x(g(x(x(g(x(g(b(he,le),S[1]),x(g(b(ge,ne),-O[1]),g(b(ce,se),L[1]))),I[2]),g(x(g(b(he,le),I[1]),x(g(b(Ce,G),-O[1]),g(b(oe,F),L[1]))),-S[2])),x(g(x(g(b(ge,ne),I[1]),x(g(b(Ce,G),-S[1]),g(b(Z,X),L[1]))),O[2]),g(x(g(b(ce,se),I[1]),x(g(b(oe,F),-S[1]),g(b(Z,X),O[1]))),-L[2]))),-R[3]),g(x(x(g(x(g(b(ye,fe),S[1]),x(g(b(be,re),-O[1]),g(b(ce,se),R[1]))),I[2]),g(x(g(b(ye,fe),I[1]),x(g(b(Ae,Y),-O[1]),g(b(oe,F),R[1]))),-S[2])),x(g(x(g(b(be,re),I[1]),x(g(b(Ae,Y),-S[1]),g(b(Z,X),R[1]))),O[2]),g(x(g(b(ce,se),I[1]),x(g(b(oe,F),-S[1]),g(b(Z,X),O[1]))),-R[2]))),L[3]))))),We=b(ke,Be);return We[We.length-1]}}var _=[function(){return 0},function(){return 0},function(){return 0}];function m(x){var b=_[x.length];return b||(b=_[x.length]=u(x.length)),b.apply(void 0,x)}function w(x,b,A,g,I,S,O,R){return function(L,N,j,X,F,Y){switch(arguments.length){case 0:case 1:return 0;case 2:return g(L,N);case 3:return I(L,N,j);case 4:return S(L,N,j,X);case 5:return O(L,N,j,X,F);case 6:return R(L,N,j,X,F,Y)}for(var G=new Array(arguments.length),H=0;H<arguments.length;++H)G[H]=arguments[H];return x(G)}}!function(){for(;_.length<=6;)_.push(u(_.length));y.exports=w.apply(void 0,[m].concat(_));for(var x=0;x<=6;++x)y.exports[x]=_[x]}()},6606:function(y,c,i){"use strict";var s=i(8167);function a(_){return(2===_?o:3===_?l:4===_?u:5===_?h:v)(_<6?s[_]:s)}function o(_){return function(m,w){return[_([[+w[0],+m[0][1]],[+w[1],+m[1][1]]]),_([[+m[0][0],+w[0]],[+m[1][0],+w[1]]]),_(m)]}}function l(_){return function(m,w){return[_([[+w[0],+m[0][1],+m[0][2]],[+w[1],+m[1][1],+m[1][2]],[+w[2],+m[2][1],+m[2][2]]]),_([[+m[0][0],+w[0],+m[0][2]],[+m[1][0],+w[1],+m[1][2]],[+m[2][0],+w[2],+m[2][2]]]),_([[+m[0][0],+m[0][1],+w[0]],[+m[1][0],+m[1][1],+w[1]],[+m[2][0],+m[2][1],+w[2]]]),_(m)]}}function u(_){return function(m,w){return[_([[+w[0],+m[0][1],+m[0][2],+m[0][3]],[+w[1],+m[1][1],+m[1][2],+m[1][3]],[+w[2],+m[2][1],+m[2][2],+m[2][3]],[+w[3],+m[3][1],+m[3][2],+m[3][3]]]),_([[+m[0][0],+w[0],+m[0][2],+m[0][3]],[+m[1][0],+w[1],+m[1][2],+m[1][3]],[+m[2][0],+w[2],+m[2][2],+m[2][3]],[+m[3][0],+w[3],+m[3][2],+m[3][3]]]),_([[+m[0][0],+m[0][1],+w[0],+m[0][3]],[+m[1][0],+m[1][1],+w[1],+m[1][3]],[+m[2][0],+m[2][1],+w[2],+m[2][3]],[+m[3][0],+m[3][1],+w[3],+m[3][3]]]),_([[+m[0][0],+m[0][1],+m[0][2],+w[0]],[+m[1][0],+m[1][1],+m[1][2],+w[1]],[+m[2][0],+m[2][1],+m[2][2],+w[2]],[+m[3][0],+m[3][1],+m[3][2],+w[3]]]),_(m)]}}function h(_){return function(m,w){return[_([[+w[0],+m[0][1],+m[0][2],+m[0][3],+m[0][4]],[+w[1],+m[1][1],+m[1][2],+m[1][3],+m[1][4]],[+w[2],+m[2][1],+m[2][2],+m[2][3],+m[2][4]],[+w[3],+m[3][1],+m[3][2],+m[3][3],+m[3][4]],[+w[4],+m[4][1],+m[4][2],+m[4][3],+m[4][4]]]),_([[+m[0][0],+w[0],+m[0][2],+m[0][3],+m[0][4]],[+m[1][0],+w[1],+m[1][2],+m[1][3],+m[1][4]],[+m[2][0],+w[2],+m[2][2],+m[2][3],+m[2][4]],[+m[3][0],+w[3],+m[3][2],+m[3][3],+m[3][4]],[+m[4][0],+w[4],+m[4][2],+m[4][3],+m[4][4]]]),_([[+m[0][0],+m[0][1],+w[0],+m[0][3],+m[0][4]],[+m[1][0],+m[1][1],+w[1],+m[1][3],+m[1][4]],[+m[2][0],+m[2][1],+w[2],+m[2][3],+m[2][4]],[+m[3][0],+m[3][1],+w[3],+m[3][3],+m[3][4]],[+m[4][0],+m[4][1],+w[4],+m[4][3],+m[4][4]]]),_([[+m[0][0],+m[0][1],+m[0][2],+w[0],+m[0][4]],[+m[1][0],+m[1][1],+m[1][2],+w[1],+m[1][4]],[+m[2][0],+m[2][1],+m[2][2],+w[2],+m[2][4]],[+m[3][0],+m[3][1],+m[3][2],+w[3],+m[3][4]],[+m[4][0],+m[4][1],+m[4][2],+w[4],+m[4][4]]]),_([[+m[0][0],+m[0][1],+m[0][2],+m[0][3],+w[0]],[+m[1][0],+m[1][1],+m[1][2],+m[1][3],+w[1]],[+m[2][0],+m[2][1],+m[2][2],+m[2][3],+w[2]],[+m[3][0],+m[3][1],+m[3][2],+m[3][3],+w[3]],[+m[4][0],+m[4][1],+m[4][2],+m[4][3],+w[4]]]),_(m)]}}function v(_){return function(m,w){return[_([[+w[0],+m[0][1],+m[0][2],+m[0][3],+m[0][4],+m[0][5]],[+w[1],+m[1][1],+m[1][2],+m[1][3],+m[1][4],+m[1][5]],[+w[2],+m[2][1],+m[2][2],+m[2][3],+m[2][4],+m[2][5]],[+w[3],+m[3][1],+m[3][2],+m[3][3],+m[3][4],+m[3][5]],[+w[4],+m[4][1],+m[4][2],+m[4][3],+m[4][4],+m[4][5]],[+w[5],+m[5][1],+m[5][2],+m[5][3],+m[5][4],+m[5][5]]]),_([[+m[0][0],+w[0],+m[0][2],+m[0][3],+m[0][4],+m[0][5]],[+m[1][0],+w[1],+m[1][2],+m[1][3],+m[1][4],+m[1][5]],[+m[2][0],+w[2],+m[2][2],+m[2][3],+m[2][4],+m[2][5]],[+m[3][0],+w[3],+m[3][2],+m[3][3],+m[3][4],+m[3][5]],[+m[4][0],+w[4],+m[4][2],+m[4][3],+m[4][4],+m[4][5]],[+m[5][0],+w[5],+m[5][2],+m[5][3],+m[5][4],+m[5][5]]]),_([[+m[0][0],+m[0][1],+w[0],+m[0][3],+m[0][4],+m[0][5]],[+m[1][0],+m[1][1],+w[1],+m[1][3],+m[1][4],+m[1][5]],[+m[2][0],+m[2][1],+w[2],+m[2][3],+m[2][4],+m[2][5]],[+m[3][0],+m[3][1],+w[3],+m[3][3],+m[3][4],+m[3][5]],[+m[4][0],+m[4][1],+w[4],+m[4][3],+m[4][4],+m[4][5]],[+m[5][0],+m[5][1],+w[5],+m[5][3],+m[5][4],+m[5][5]]]),_([[+m[0][0],+m[0][1],+m[0][2],+w[0],+m[0][4],+m[0][5]],[+m[1][0],+m[1][1],+m[1][2],+w[1],+m[1][4],+m[1][5]],[+m[2][0],+m[2][1],+m[2][2],+w[2],+m[2][4],+m[2][5]],[+m[3][0],+m[3][1],+m[3][2],+w[3],+m[3][4],+m[3][5]],[+m[4][0],+m[4][1],+m[4][2],+w[4],+m[4][4],+m[4][5]],[+m[5][0],+m[5][1],+m[5][2],+w[5],+m[5][4],+m[5][5]]]),_([[+m[0][0],+m[0][1],+m[0][2],+m[0][3],+w[0],+m[0][5]],[+m[1][0],+m[1][1],+m[1][2],+m[1][3],+w[1],+m[1][5]],[+m[2][0],+m[2][1],+m[2][2],+m[2][3],+w[2],+m[2][5]],[+m[3][0],+m[3][1],+m[3][2],+m[3][3],+w[3],+m[3][5]],[+m[4][0],+m[4][1],+m[4][2],+m[4][3],+w[4],+m[4][5]],[+m[5][0],+m[5][1],+m[5][2],+m[5][3],+w[5],+m[5][5]]]),_([[+m[0][0],+m[0][1],+m[0][2],+m[0][3],+m[0][4],+w[0]],[+m[1][0],+m[1][1],+m[1][2],+m[1][3],+m[1][4],+w[1]],[+m[2][0],+m[2][1],+m[2][2],+m[2][3],+m[2][4],+w[2]],[+m[3][0],+m[3][1],+m[3][2],+m[3][3],+m[3][4],+w[3]],[+m[4][0],+m[4][1],+m[4][2],+m[4][3],+m[4][4],+w[4]],[+m[5][0],+m[5][1],+m[5][2],+m[5][3],+m[5][4],+w[5]]]),_(m)]}}var p=[function(){return[[0]]},function(_,m){return[[m[0]],[_[0][0]]]}];function T(_,m,w,x,b,A,g,I){return function(S,O){switch(S.length){case 0:return _(S,O);case 1:return m(S,O);case 2:return w(S,O);case 3:return x(S,O);case 4:return b(S,O);case 5:return A(S,O)}var R=g[S.length];return R||(R=g[S.length]=I(S.length)),R(S,O)}}!function(){for(;p.length<6;)p.push(a(p.length));y.exports=T.apply(void 0,p.concat([p,a]));for(var _=0;_<6;++_)y.exports[_]=p[_]}()},417:function(y,c,i){"use strict";var s=i(9660),a=i(9662),o=i(8289),l=i(4078);function u(b,A,g,I){return function(S,O,R){var L=b(b(A(O[1],R[0]),A(-R[1],O[0])),b(A(S[1],O[0]),A(-O[1],S[0]))),N=b(A(S[1],R[0]),A(-R[1],S[0])),j=I(L,N);return j[j.length-1]}}function h(b,A,g,I){return function(S,O,R,L){var N=b(b(g(b(A(R[1],L[0]),A(-L[1],R[0])),O[2]),b(g(b(A(O[1],L[0]),A(-L[1],O[0])),-R[2]),g(b(A(O[1],R[0]),A(-R[1],O[0])),L[2]))),b(g(b(A(O[1],L[0]),A(-L[1],O[0])),S[2]),b(g(b(A(S[1],L[0]),A(-L[1],S[0])),-O[2]),g(b(A(S[1],O[0]),A(-O[1],S[0])),L[2])))),j=b(b(g(b(A(R[1],L[0]),A(-L[1],R[0])),S[2]),b(g(b(A(S[1],L[0]),A(-L[1],S[0])),-R[2]),g(b(A(S[1],R[0]),A(-R[1],S[0])),L[2]))),b(g(b(A(O[1],R[0]),A(-R[1],O[0])),S[2]),b(g(b(A(S[1],R[0]),A(-R[1],S[0])),-O[2]),g(b(A(S[1],O[0]),A(-O[1],S[0])),R[2])))),X=I(N,j);return X[X.length-1]}}function v(b,A,g,I){return function(S,O,R,L,N){var j=b(b(b(g(b(g(b(A(L[1],N[0]),A(-N[1],L[0])),R[2]),b(g(b(A(R[1],N[0]),A(-N[1],R[0])),-L[2]),g(b(A(R[1],L[0]),A(-L[1],R[0])),N[2]))),O[3]),b(g(b(g(b(A(L[1],N[0]),A(-N[1],L[0])),O[2]),b(g(b(A(O[1],N[0]),A(-N[1],O[0])),-L[2]),g(b(A(O[1],L[0]),A(-L[1],O[0])),N[2]))),-R[3]),g(b(g(b(A(R[1],N[0]),A(-N[1],R[0])),O[2]),b(g(b(A(O[1],N[0]),A(-N[1],O[0])),-R[2]),g(b(A(O[1],R[0]),A(-R[1],O[0])),N[2]))),L[3]))),b(g(b(g(b(A(R[1],L[0]),A(-L[1],R[0])),O[2]),b(g(b(A(O[1],L[0]),A(-L[1],O[0])),-R[2]),g(b(A(O[1],R[0]),A(-R[1],O[0])),L[2]))),-N[3]),b(g(b(g(b(A(L[1],N[0]),A(-N[1],L[0])),O[2]),b(g(b(A(O[1],N[0]),A(-N[1],O[0])),-L[2]),g(b(A(O[1],L[0]),A(-L[1],O[0])),N[2]))),S[3]),g(b(g(b(A(L[1],N[0]),A(-N[1],L[0])),S[2]),b(g(b(A(S[1],N[0]),A(-N[1],S[0])),-L[2]),g(b(A(S[1],L[0]),A(-L[1],S[0])),N[2]))),-O[3])))),b(b(g(b(g(b(A(O[1],N[0]),A(-N[1],O[0])),S[2]),b(g(b(A(S[1],N[0]),A(-N[1],S[0])),-O[2]),g(b(A(S[1],O[0]),A(-O[1],S[0])),N[2]))),L[3]),b(g(b(g(b(A(O[1],L[0]),A(-L[1],O[0])),S[2]),b(g(b(A(S[1],L[0]),A(-L[1],S[0])),-O[2]),g(b(A(S[1],O[0]),A(-O[1],S[0])),L[2]))),-N[3]),g(b(g(b(A(R[1],L[0]),A(-L[1],R[0])),O[2]),b(g(b(A(O[1],L[0]),A(-L[1],O[0])),-R[2]),g(b(A(O[1],R[0]),A(-R[1],O[0])),L[2]))),S[3]))),b(g(b(g(b(A(R[1],L[0]),A(-L[1],R[0])),S[2]),b(g(b(A(S[1],L[0]),A(-L[1],S[0])),-R[2]),g(b(A(S[1],R[0]),A(-R[1],S[0])),L[2]))),-O[3]),b(g(b(g(b(A(O[1],L[0]),A(-L[1],O[0])),S[2]),b(g(b(A(S[1],L[0]),A(-L[1],S[0])),-O[2]),g(b(A(S[1],O[0]),A(-O[1],S[0])),L[2]))),R[3]),g(b(g(b(A(O[1],R[0]),A(-R[1],O[0])),S[2]),b(g(b(A(S[1],R[0]),A(-R[1],S[0])),-O[2]),g(b(A(S[1],O[0]),A(-O[1],S[0])),R[2]))),-L[3]))))),X=b(b(b(g(b(g(b(A(L[1],N[0]),A(-N[1],L[0])),R[2]),b(g(b(A(R[1],N[0]),A(-N[1],R[0])),-L[2]),g(b(A(R[1],L[0]),A(-L[1],R[0])),N[2]))),S[3]),g(b(g(b(A(L[1],N[0]),A(-N[1],L[0])),S[2]),b(g(b(A(S[1],N[0]),A(-N[1],S[0])),-L[2]),g(b(A(S[1],L[0]),A(-L[1],S[0])),N[2]))),-R[3])),b(g(b(g(b(A(R[1],N[0]),A(-N[1],R[0])),S[2]),b(g(b(A(S[1],N[0]),A(-N[1],S[0])),-R[2]),g(b(A(S[1],R[0]),A(-R[1],S[0])),N[2]))),L[3]),g(b(g(b(A(R[1],L[0]),A(-L[1],R[0])),S[2]),b(g(b(A(S[1],L[0]),A(-L[1],S[0])),-R[2]),g(b(A(S[1],R[0]),A(-R[1],S[0])),L[2]))),-N[3]))),b(b(g(b(g(b(A(R[1],N[0]),A(-N[1],R[0])),O[2]),b(g(b(A(O[1],N[0]),A(-N[1],O[0])),-R[2]),g(b(A(O[1],R[0]),A(-R[1],O[0])),N[2]))),S[3]),g(b(g(b(A(R[1],N[0]),A(-N[1],R[0])),S[2]),b(g(b(A(S[1],N[0]),A(-N[1],S[0])),-R[2]),g(b(A(S[1],R[0]),A(-R[1],S[0])),N[2]))),-O[3])),b(g(b(g(b(A(O[1],N[0]),A(-N[1],O[0])),S[2]),b(g(b(A(S[1],N[0]),A(-N[1],S[0])),-O[2]),g(b(A(S[1],O[0]),A(-O[1],S[0])),N[2]))),R[3]),g(b(g(b(A(O[1],R[0]),A(-R[1],O[0])),S[2]),b(g(b(A(S[1],R[0]),A(-R[1],S[0])),-O[2]),g(b(A(S[1],O[0]),A(-O[1],S[0])),R[2]))),-N[3])))),F=I(j,X);return F[F.length-1]}}function p(b){return(3===b?u:4===b?h:v)(a,s,o,l)}var T=p(3),_=p(4),m=[function(){return 0},function(){return 0},function(b,A){return A[0]-b[0]},function(b,A,g){var I,S=(b[1]-g[1])*(A[0]-g[0]),O=(b[0]-g[0])*(A[1]-g[1]),R=S-O;if(S>0){if(O<=0)return R;I=S+O}else{if(!(S<0)||O>=0)return R;I=-(S+O)}var L=33306690738754716e-32*I;return R>=L||R<=-L?R:T(b,A,g)},function(b,A,g,I){var S=b[0]-I[0],O=A[0]-I[0],R=g[0]-I[0],L=b[1]-I[1],N=A[1]-I[1],j=g[1]-I[1],X=b[2]-I[2],F=A[2]-I[2],Y=g[2]-I[2],G=O*j,H=R*N,W=R*L,Z=S*j,se=S*N,re=O*L,ne=X*(G-H)+F*(W-Z)+Y*(se-re),Q=7771561172376103e-31*((Math.abs(G)+Math.abs(H))*Math.abs(X)+(Math.abs(W)+Math.abs(Z))*Math.abs(F)+(Math.abs(se)+Math.abs(re))*Math.abs(Y));return ne>Q||-ne>Q?ne:_(b,A,g,I)}];function w(b){var A=m[b.length];return A||(A=m[b.length]=p(b.length)),A.apply(void 0,b)}function x(b,A,g,I,S,O,R){return function(L,N,j,X,F){switch(arguments.length){case 0:case 1:return 0;case 2:return I(L,N);case 3:return S(L,N,j);case 4:return O(L,N,j,X);case 5:return R(L,N,j,X,F)}for(var Y=new Array(arguments.length),G=0;G<arguments.length;++G)Y[G]=arguments[G];return b(Y)}}!function(){for(;m.length<=5;)m.push(p(m.length));y.exports=x.apply(void 0,[w].concat(m));for(var b=0;b<=5;++b)y.exports[b]=m[b]}()},2019:function(y,c,i){"use strict";var s=i(9662),a=i(8289);y.exports=function(o,l){if(1===o.length)return a(l,o[0]);if(1===l.length)return a(o,l[0]);if(0===o.length||0===l.length)return[0];var u=[0];if(o.length<l.length)for(var h=0;h<o.length;++h)u=s(u,a(l,o[h]));else for(h=0;h<l.length;++h)u=s(u,a(o,l[h]));return u}},8289:function(y,c,i){"use strict";var s=i(9660),a=i(87);y.exports=function(o,l){var u=o.length;if(1===u){var h=s(o[0],l);return h[0]?h:[h[1]]}var v=new Array(2*u),p=[.1,.1],T=[.1,.1],_=0;s(o[0],l,p),p[0]&&(v[_++]=p[0]);for(var m=1;m<u;++m){s(o[m],l,T),a(p[1],T[0],p),p[0]&&(v[_++]=p[0]);var x=T[1],b=p[1],A=x+b,g=b-(A-x);p[1]=A,g&&(v[_++]=g)}return p[1]&&(v[_++]=p[1]),0===_&&(v[_++]=0),v.length=_,v}},4434:function(y,c,i){"use strict";y.exports=function(a,o,l,u){var h=s(a,l,u),v=s(o,l,u);if(h>0&&v>0||h<0&&v<0)return!1;var p=s(l,a,o),T=s(u,a,o);return!(p>0&&T>0||p<0&&T<0)&&(0!==h||0!==v||0!==p||0!==T||function(_,m,w,x){for(var b=0;b<2;++b){var A=_[b],g=m[b],I=Math.min(A,g),S=Math.max(A,g),O=w[b],R=x[b],L=Math.min(O,R);if(Math.max(O,R)<I||S<L)return!1}return!0}(a,o,l,u))};var s=i(417)[3]},4078:function(y){"use strict";y.exports=function(c,i){var L,N,j,X,F,s=0|c.length,a=0|i.length;if(1===s&&1===a)return(F=(L=c[0])-((j=L+(N=-i[0]))-(X=j-L))+(N-X))?[F,j]:[j];var o,l,u=new Array(s+a),h=0,v=0,p=0,T=Math.abs,_=c[v],m=T(_),w=-i[p],x=T(w);m<x?(l=_,(v+=1)<s&&(m=T(_=c[v]))):(l=w,(p+=1)<a&&(x=T(w=-i[p]))),v<s&&m<x||p>=a?(o=_,(v+=1)<s&&(m=T(_=c[v]))):(o=w,(p+=1)<a&&(x=T(w=-i[p])));for(var b,A,g=o+l,I=g-o,S=l-I,O=S,R=g;v<s&&p<a;)m<x?(o=_,(v+=1)<s&&(m=T(_=c[v]))):(o=w,(p+=1)<a&&(x=T(w=-i[p]))),(S=(l=O)-(I=(g=o+l)-o))&&(u[h++]=S),O=R-((b=R+g)-(A=b-R))+(g-A),R=b;for(;v<s;)(S=(l=O)-(I=(g=(o=_)+l)-o))&&(u[h++]=S),O=R-((b=R+g)-(A=b-R))+(g-A),R=b,(v+=1)<s&&(_=c[v]);for(;p<a;)(S=(l=O)-(I=(g=(o=w)+l)-o))&&(u[h++]=S),O=R-((b=R+g)-(A=b-R))+(g-A),R=b,(p+=1)<a&&(w=-i[p]);return O&&(u[h++]=O),R&&(u[h++]=R),h||(u[h++]=0),u.length=h,u}},9662:function(y){"use strict";y.exports=function(c,i){var L,N,j,X,F,s=0|c.length,a=0|i.length;if(1===s&&1===a)return(F=(L=c[0])-((j=L+(N=i[0]))-(X=j-L))+(N-X))?[F,j]:[j];var o,l,u=new Array(s+a),h=0,v=0,p=0,T=Math.abs,_=c[v],m=T(_),w=i[p],x=T(w);m<x?(l=_,(v+=1)<s&&(m=T(_=c[v]))):(l=w,(p+=1)<a&&(x=T(w=i[p]))),v<s&&m<x||p>=a?(o=_,(v+=1)<s&&(m=T(_=c[v]))):(o=w,(p+=1)<a&&(x=T(w=i[p])));for(var b,A,g=o+l,I=g-o,S=l-I,O=S,R=g;v<s&&p<a;)m<x?(o=_,(v+=1)<s&&(m=T(_=c[v]))):(o=w,(p+=1)<a&&(x=T(w=i[p]))),(S=(l=O)-(I=(g=o+l)-o))&&(u[h++]=S),O=R-((b=R+g)-(A=b-R))+(g-A),R=b;for(;v<s;)(S=(l=O)-(I=(g=(o=_)+l)-o))&&(u[h++]=S),O=R-((b=R+g)-(A=b-R))+(g-A),R=b,(v+=1)<s&&(_=c[v]);for(;p<a;)(S=(l=O)-(I=(g=(o=w)+l)-o))&&(u[h++]=S),O=R-((b=R+g)-(A=b-R))+(g-A),R=b,(p+=1)<a&&(w=i[p]);return O&&(u[h++]=O),R&&(u[h++]=R),h||(u[h++]=0),u.length=h,u}},8691:function(y,c,i){"use strict";y.exports=function(o){return a(s(o))};var s=i(2692),a=i(7037)},7212:function(y,c,i){"use strict";y.exports=function(u,h,v,p){if(v=v||0,void 0===p&&(p=function(g){for(var I=g.length,S=0,O=0;O<I;++O)S=0|Math.max(S,g[O].length);return S-1}(u)),0===u.length||p<1)return{cells:[],vertexIds:[],vertexWeights:[]};var T=function(g,I){for(var S=g.length,O=a.mallocUint8(S),R=0;R<S;++R)O[R]=g[R]<I|0;return O}(h,+v),_=function(g,I){for(var S=g.length,R=a.mallocUint32(2*(I*(I+1)/2*S|0)),L=0,N=0;N<S;++N)for(var j=g[N],X=(I=j.length,0);X<I;++X)for(var F=0;F<X;++F){var Y=j[F],G=j[X];R[L++]=0|Math.min(Y,G),R[L++]=0|Math.max(Y,G)}o(s(R,[L/2|0,2]));var H=2;for(N=2;N<L;N+=2)R[N-2]===R[N]&&R[N-1]===R[N+1]||(R[H++]=R[N],R[H++]=R[N+1]);return s(R,[H/2|0,2])}(u,p),m=function(g,I,S,O){for(var R=g.data,L=g.shape[0],N=a.mallocDouble(L),j=0,X=0;X<L;++X){var F=R[2*X],Y=R[2*X+1];if(S[F]!==S[Y]){var G=I[F],H=I[Y];R[2*j]=F,R[2*j+1]=Y,N[j++]=(H-O)/(H-G)}}return g.shape[0]=j,s(N,[j])}(_,h,T,+v),w=function(g,I){var S=a.mallocInt32(2*I),O=g.shape[0],R=g.data;S[0]=0;for(var L=0,N=0;N<O;++N){var j=R[2*N];if(j!==L){for(S[2*L+1]=N;++L<j;)S[2*L]=N,S[2*L+1]=N;S[2*L]=N}}for(S[2*L+1]=O;++L<I;)S[2*L]=S[2*L+1]=O;return S}(_,0|h.length),x=l(p)(u,_.data,w,T),b=function(g){for(var I=0|g.shape[0],S=g.data,O=new Array(I),R=0;R<I;++R)O[R]=[S[2*R],S[2*R+1]];return O}(_),A=[].slice.call(m.data,0,m.shape[0]);return a.free(T),a.free(_.data),a.free(m.data),a.free(w),{cells:x,vertexIds:b,vertexWeights:A}};var s=i(5050),a=i(5306),o=i(8729),l=i(1168)},1168:function(y){"use strict";y.exports=function(i){return c[i]()};var c=[function(){return function(i,s,a,o){for(var l=i.length,u=0;u<l;++u);return[]}},function(){function i(s,a,o,l){for(var u=0|Math.min(o,l),h=0|Math.max(o,l),v=s[2*u],p=s[2*u+1];v<p;){var T=v+p>>1,_=a[2*T+1];if(_===h)return T;h<_?p=T:v=T+1}return v}return function(s,a,o,l){for(var u=s.length,h=[],v=0;v<u;++v){var p=s[v];if(2===p.length){var T=(l[p[0]]<<0)+(l[p[1]]<<1);if(0===T||3===T)continue;switch(T){case 0:case 3:break;case 1:h.push([i(o,a,p[0],p[1])]);break;case 2:h.push([i(o,a,p[1],p[0])])}}}return h}},function(){function i(s,a,o,l){for(var u=0|Math.min(o,l),h=0|Math.max(o,l),v=s[2*u],p=s[2*u+1];v<p;){var T=v+p>>1,_=a[2*T+1];if(_===h)return T;h<_?p=T:v=T+1}return v}return function(s,a,o,l){for(var u=s.length,h=[],v=0;v<u;++v){var p=s[v],T=p.length;if(3===T){if(0==(_=(l[p[0]]<<0)+(l[p[1]]<<1)+(l[p[2]]<<2))||7===_)continue;switch(_){case 0:case 7:break;case 1:h.push([i(o,a,p[0],p[2]),i(o,a,p[0],p[1])]);break;case 2:h.push([i(o,a,p[1],p[0]),i(o,a,p[1],p[2])]);break;case 3:h.push([i(o,a,p[0],p[2]),i(o,a,p[1],p[2])]);break;case 4:h.push([i(o,a,p[2],p[1]),i(o,a,p[2],p[0])]);break;case 5:h.push([i(o,a,p[2],p[1]),i(o,a,p[0],p[1])]);break;case 6:h.push([i(o,a,p[1],p[0]),i(o,a,p[2],p[0])])}}else if(2===T){var _;if(0==(_=(l[p[0]]<<0)+(l[p[1]]<<1))||3===_)continue;switch(_){case 0:case 3:break;case 1:h.push([i(o,a,p[0],p[1])]);break;case 2:h.push([i(o,a,p[1],p[0])])}}}return h}},function(){function i(s,a,o,l){for(var u=0|Math.min(o,l),h=0|Math.max(o,l),v=s[2*u],p=s[2*u+1];v<p;){var T=v+p>>1,_=a[2*T+1];if(_===h)return T;h<_?p=T:v=T+1}return v}return function(s,a,o,l){for(var u=s.length,h=[],v=0;v<u;++v){var p=s[v],T=p.length;if(4===T){if(0==(_=(l[p[0]]<<0)+(l[p[1]]<<1)+(l[p[2]]<<2)+(l[p[3]]<<3))||15===_)continue;switch(_){case 0:case 15:break;case 1:h.push([i(o,a,p[0],p[1]),i(o,a,p[0],p[2]),i(o,a,p[0],p[3])]);break;case 2:h.push([i(o,a,p[1],p[2]),i(o,a,p[1],p[0]),i(o,a,p[1],p[3])]);break;case 3:h.push([i(o,a,p[1],p[2]),i(o,a,p[0],p[2]),i(o,a,p[0],p[3])],[i(o,a,p[1],p[3]),i(o,a,p[1],p[2]),i(o,a,p[0],p[3])]);break;case 4:h.push([i(o,a,p[2],p[0]),i(o,a,p[2],p[1]),i(o,a,p[2],p[3])]);break;case 5:h.push([i(o,a,p[0],p[1]),i(o,a,p[2],p[1]),i(o,a,p[0],p[3])],[i(o,a,p[2],p[1]),i(o,a,p[2],p[3]),i(o,a,p[0],p[3])]);break;case 6:h.push([i(o,a,p[2],p[0]),i(o,a,p[1],p[0]),i(o,a,p[1],p[3])],[i(o,a,p[2],p[3]),i(o,a,p[2],p[0]),i(o,a,p[1],p[3])]);break;case 7:h.push([i(o,a,p[0],p[3]),i(o,a,p[1],p[3]),i(o,a,p[2],p[3])]);break;case 8:h.push([i(o,a,p[3],p[1]),i(o,a,p[3],p[0]),i(o,a,p[3],p[2])]);break;case 9:h.push([i(o,a,p[3],p[1]),i(o,a,p[0],p[1]),i(o,a,p[0],p[2])],[i(o,a,p[3],p[2]),i(o,a,p[3],p[1]),i(o,a,p[0],p[2])]);break;case 10:h.push([i(o,a,p[1],p[0]),i(o,a,p[3],p[0]),i(o,a,p[1],p[2])],[i(o,a,p[3],p[0]),i(o,a,p[3],p[2]),i(o,a,p[1],p[2])]);break;case 11:h.push([i(o,a,p[1],p[2]),i(o,a,p[0],p[2]),i(o,a,p[3],p[2])]);break;case 12:h.push([i(o,a,p[3],p[0]),i(o,a,p[2],p[0]),i(o,a,p[2],p[1])],[i(o,a,p[3],p[1]),i(o,a,p[3],p[0]),i(o,a,p[2],p[1])]);break;case 13:h.push([i(o,a,p[0],p[1]),i(o,a,p[2],p[1]),i(o,a,p[3],p[1])]);break;case 14:h.push([i(o,a,p[2],p[0]),i(o,a,p[1],p[0]),i(o,a,p[3],p[0])])}}else if(3===T){if(0==(_=(l[p[0]]<<0)+(l[p[1]]<<1)+(l[p[2]]<<2))||7===_)continue;switch(_){case 0:case 7:break;case 1:h.push([i(o,a,p[0],p[2]),i(o,a,p[0],p[1])]);break;case 2:h.push([i(o,a,p[1],p[0]),i(o,a,p[1],p[2])]);break;case 3:h.push([i(o,a,p[0],p[2]),i(o,a,p[1],p[2])]);break;case 4:h.push([i(o,a,p[2],p[1]),i(o,a,p[2],p[0])]);break;case 5:h.push([i(o,a,p[2],p[1]),i(o,a,p[0],p[1])]);break;case 6:h.push([i(o,a,p[1],p[0]),i(o,a,p[2],p[0])])}}else if(2===T){var _;if(0==(_=(l[p[0]]<<0)+(l[p[1]]<<1))||3===_)continue;switch(_){case 0:case 3:break;case 1:h.push([i(o,a,p[0],p[1])]);break;case 2:h.push([i(o,a,p[1],p[0])])}}}return h}}]},8211:function(y,c,i){"use strict";i(2288),i(1731),c.H=function(s,a){var o=s.length,l=s.length-a.length,u=Math.min;if(l)return l;switch(o){case 0:return 0;case 1:return s[0]-a[0];case 2:return(p=s[0]+s[1]-a[0]-a[1])||u(s[0],s[1])-u(a[0],a[1]);case 3:var h=s[0]+s[1],v=a[0]+a[1];if(p=h+s[2]-(v+a[2]))return p;var p,T=u(s[0],s[1]),_=u(a[0],a[1]);return(p=u(T,s[2])-u(_,a[2]))||u(T+s[2],h)-u(_+a[2],v);default:var m=s.slice(0);m.sort();var w=a.slice(0);w.sort();for(var x=0;x<o;++x)if(l=m[x]-w[x])return l;return 0}}},9392:function(y,c){"use strict";function i(a){var o=32;return(a&=-a)&&o--,65535&a&&(o-=16),16711935&a&&(o-=8),252645135&a&&(o-=4),858993459&a&&(o-=2),1431655765&a&&(o-=1),o}c.INT_BITS=32,c.INT_MAX=2147483647,c.INT_MIN=-2147483648,c.sign=function(a){return(a>0)-(a<0)},c.abs=function(a){var o=a>>31;return(a^o)-o},c.min=function(a,o){return o^(a^o)&-(a<o)},c.max=function(a,o){return a^(a^o)&-(a<o)},c.isPow2=function(a){return!(a&a-1||!a)},c.log2=function(a){var o,l;return o=(a>65535)<<4,o|=l=((a>>>=o)>255)<<3,o|=l=((a>>>=l)>15)<<2,(o|=l=((a>>>=l)>3)<<1)|(a>>>=l)>>1},c.log10=function(a){return a>=1e9?9:a>=1e8?8:a>=1e7?7:a>=1e6?6:a>=1e5?5:a>=1e4?4:a>=1e3?3:a>=100?2:a>=10?1:0},c.popCount=function(a){return 16843009*((a=(858993459&(a-=a>>>1&1431655765))+(a>>>2&858993459))+(a>>>4)&252645135)>>>24},c.countTrailingZeros=i,c.nextPow2=function(a){return a+=0===a,--a,a|=a>>>1,a|=a>>>2,a|=a>>>4,1+((a|=a>>>8)|a>>>16)},c.prevPow2=function(a){return a|=a>>>1,a|=a>>>2,a|=a>>>4,a|=a>>>8,(a|=a>>>16)-(a>>>1)},c.parity=function(a){return a^=a>>>16,a^=a>>>8,a^=a>>>4,27030>>>(a&=15)&1};var s=new Array(256);(function(a){for(var o=0;o<256;++o){var l=o,u=o,h=7;for(l>>>=1;l;l>>>=1)u<<=1,u|=1&l,--h;a[o]=u<<h&255}})(s),c.reverse=function(a){return s[255&a]<<24|s[a>>>8&255]<<16|s[a>>>16&255]<<8|s[a>>>24&255]},c.interleave2=function(a,o){return(a=1431655765&((a=858993459&((a=252645135&((a=16711935&((a&=65535)|a<<8))|a<<4))|a<<2))|a<<1))|(o=1431655765&((o=858993459&((o=252645135&((o=16711935&((o&=65535)|o<<8))|o<<4))|o<<2))|o<<1))<<1},c.deinterleave2=function(a,o){return(a=65535&((a=16711935&((a=252645135&((a=858993459&((a=a>>>o&1431655765)|a>>>1))|a>>>2))|a>>>4))|a>>>16))<<16>>16},c.interleave3=function(a,o,l){return a=1227133513&((a=3272356035&((a=251719695&((a=4278190335&((a&=1023)|a<<16))|a<<8))|a<<4))|a<<2),(a|=(o=1227133513&((o=3272356035&((o=251719695&((o=4278190335&((o&=1023)|o<<16))|o<<8))|o<<4))|o<<2))<<1)|(l=1227133513&((l=3272356035&((l=251719695&((l=4278190335&((l&=1023)|l<<16))|l<<8))|l<<4))|l<<2))<<2},c.deinterleave3=function(a,o){return(a=1023&((a=4278190335&((a=251719695&((a=3272356035&((a=a>>>o&1227133513)|a>>>2))|a>>>4))|a>>>8))|a>>>16))<<22>>22},c.nextCombination=function(a){var o=a|a-1;return o+1|(~o&-~o)-1>>>i(a)+1}},6656:function(y,c,i){"use strict";var s=i(9392),a=i(9521);function o(_,m){var w=_.length,x=_.length-m.length,b=Math.min;if(x)return x;switch(w){case 0:return 0;case 1:return _[0]-m[0];case 2:return(I=_[0]+_[1]-m[0]-m[1])||b(_[0],_[1])-b(m[0],m[1]);case 3:var A=_[0]+_[1],g=m[0]+m[1];if(I=A+_[2]-(g+m[2]))return I;var I,S=b(_[0],_[1]),O=b(m[0],m[1]);return(I=b(S,_[2])-b(O,m[2]))||b(S+_[2],A)-b(O+m[2],g);default:var R=_.slice(0);R.sort();var L=m.slice(0);L.sort();for(var N=0;N<w;++N)if(x=R[N]-L[N])return x;return 0}}function l(_,m){return o(_[0],m[0])}function u(_,m){if(m){for(var w=_.length,x=new Array(w),b=0;b<w;++b)x[b]=[_[b],m[b]];for(x.sort(l),b=0;b<w;++b)_[b]=x[b][0],m[b]=x[b][1];return _}return _.sort(o),_}function h(_){if(0===_.length)return[];for(var m=1,w=_.length,x=1;x<w;++x){var b=_[x];if(o(b,_[x-1])){if(x===m){m++;continue}_[m++]=b}}return _.length=m,_}function v(_,m){for(var w=0,x=_.length-1,b=-1;w<=x;){var A=w+x>>1,g=o(_[A],m);g<=0?(0===g&&(b=A),w=A+1):g>0&&(x=A-1)}return b}function p(_,m){for(var w=new Array(_.length),x=0,b=w.length;x<b;++x)w[x]=[];for(var A=[],g=(x=0,m.length);x<g;++x)for(var I=m[x],S=I.length,O=1,R=1<<S;O<R;++O){A.length=s.popCount(O);for(var L=0,N=0;N<S;++N)O&1<<N&&(A[L++]=I[N]);var j=v(_,A);if(!(j<0))for(;w[j++].push(x),!(j>=_.length||0!==o(_[j],A)););}return w}function T(_,m){if(m<0)return[];for(var w=[],x=(1<<m+1)-1,b=0;b<_.length;++b)for(var A=_[b],g=x;g<1<<A.length;g=s.nextCombination(g)){for(var I=new Array(m+1),S=0,O=0;O<A.length;++O)g&1<<O&&(I[S++]=A[O]);w.push(I)}return u(w)}c.dimension=function(_){for(var m=0,w=Math.max,x=0,b=_.length;x<b;++x)m=w(m,_[x].length);return m-1},c.countVertices=function(_){for(var m=-1,w=Math.max,x=0,b=_.length;x<b;++x)for(var A=_[x],g=0,I=A.length;g<I;++g)m=w(m,A[g]);return m+1},c.cloneCells=function(_){for(var m=new Array(_.length),w=0,x=_.length;w<x;++w)m[w]=_[w].slice(0);return m},c.compareCells=o,c.normalize=u,c.unique=h,c.findCell=v,c.incidence=p,c.dual=function(_,m){if(!m)return p(h(T(_,0)),_);for(var w=new Array(m),x=0;x<m;++x)w[x]=[];x=0;for(var b=_.length;x<b;++x)for(var A=_[x],g=0,I=A.length;g<I;++g)w[A[g]].push(x);return w},c.explode=function(_){for(var m=[],w=0,x=_.length;w<x;++w)for(var b=_[w],A=0|b.length,g=1,I=1<<A;g<I;++g){for(var S=[],O=0;O<A;++O)g>>>O&1&&S.push(b[O]);m.push(S)}return u(m)},c.skeleton=T,c.boundary=function(_){for(var m=[],w=0,x=_.length;w<x;++w)for(var b=_[w],A=0,g=b.length;A<g;++A){for(var I=new Array(b.length-1),S=0,O=0;S<g;++S)S!==A&&(I[O++]=b[S]);m.push(I)}return u(m)},c.connectedComponents=function(_,m){return m?function(w,x){for(var b=new a(x),A=0;A<w.length;++A)for(var g=w[A],I=0;I<g.length;++I)for(var S=I+1;S<g.length;++S)b.link(g[I],g[S]);var O=[],R=b.ranks;for(A=0;A<R.length;++A)R[A]=-1;for(A=0;A<w.length;++A){var L=b.find(w[A][0]);R[L]<0?(R[L]=O.length,O.push([w[A].slice(0)])):O[R[L]].push(w[A].slice(0))}return O}(_,m):function(w){for(var x=h(u(T(w,0))),b=new a(x.length),A=0;A<w.length;++A)for(var g=w[A],I=0;I<g.length;++I)for(var S=v(x,[g[I]]),O=I+1;O<g.length;++O)b.link(S,v(x,[g[O]]));var R=[],L=b.ranks;for(A=0;A<L.length;++A)L[A]=-1;for(A=0;A<w.length;++A){var N=b.find(v(x,[w[A][0]]));L[N]<0?(L[N]=R.length,R.push([w[A].slice(0)])):R[L[N]].push(w[A].slice(0))}return R}(_)}},9521:function(y){"use strict";function c(i){this.roots=new Array(i),this.ranks=new Array(i);for(var s=0;s<i;++s)this.roots[s]=s,this.ranks[s]=0}y.exports=c,c.prototype.length=function(){return this.roots.length},c.prototype.makeSet=function(){var i=this.roots.length;return this.roots.push(i),this.ranks.push(0),i},c.prototype.find=function(i){for(var s=this.roots;s[i]!==i;){var a=s[i];s[i]=s[a],i=a}return i},c.prototype.link=function(i,s){var a=this.find(i),o=this.find(s);if(a!==o){var l=this.ranks,u=this.roots,h=l[a],v=l[o];h<v?u[a]=o:v<h?u[o]=a:(u[o]=a,++l[a])}}},8243:function(y,c,i){"use strict";y.exports=function(o,l,u){for(var h=l.length,v=o.length,p=new Array(h),T=new Array(h),_=new Array(h),m=new Array(h),w=0;w<h;++w)p[w]=T[w]=-1,_[w]=1/0,m[w]=!1;for(w=0;w<v;++w){var x=o[w];if(2!==x.length)throw new Error("Input must be a graph");var b=x[1],A=x[0];T[A]=-1!==T[A]?-2:b,p[b]=-1!==p[b]?-2:A}function g(re){if(m[re])return 1/0;var Q,ee,oe=p[re],ce=T[re];return oe<0||ce<0?1/0:(Q=l[oe],ee=l[ce],Math.abs(s(l[re],Q,ee))/Math.sqrt(Math.pow(Q[0]-ee[0],2)+Math.pow(Q[1]-ee[1],2)))}function I(re,ne){var Q=F[re],ee=F[ne];F[re]=ee,F[ne]=Q,Y[Q]=ne,Y[ee]=re}function S(re){return _[F[re]]}function O(re){return 1&re?re-1>>1:(re>>1)-1}function R(re){for(var ne=S(re);;){var Q=ne,ee=2*re+1,oe=2*(re+1),ce=re;if(ee<G){var fe=S(ee);fe<Q&&(ce=ee,Q=fe)}if(oe<G&&S(oe)<Q&&(ce=oe),ce===re)return re;I(re,ce),re=ce}}function L(re){for(var ne=S(re);re>0;){var Q=O(re);if(!(Q>=0&&ne<S(Q)))return re;I(re,Q),re=Q}}function N(){if(G>0){var re=F[0];return I(0,G-1),G-=1,R(0),re}return-1}function j(re,ne){var Q=F[re];return _[Q]===ne?re:(_[Q]=-1/0,L(re),N(),_[Q]=ne,L((G+=1)-1))}function X(re){if(!m[re]){m[re]=!0;var ne=p[re],Q=T[re];p[Q]>=0&&(p[Q]=ne),T[ne]>=0&&(T[ne]=Q),Y[ne]>=0&&j(Y[ne],g(ne)),Y[Q]>=0&&j(Y[Q],g(Q))}}var F=[],Y=new Array(h);for(w=0;w<h;++w)(_[w]=g(w))<1/0?(Y[w]=F.length,F.push(w)):Y[w]=-1;var G=F.length;for(w=G>>1;w>=0;--w)R(w);for(;;){var H=N();if(H<0||_[H]>u)break;X(H)}var W=[];for(w=0;w<h;++w)m[w]||(Y[w]=W.length,W.push(l[w].slice()));function Z(re,ne){if(re[ne]<0)return ne;var Q=ne,ee=ne;do{var oe=re[ee];if(!m[ee]||oe<0||oe===ee||(oe=re[ee=oe],!m[ee]||oe<0||oe===ee))break;ee=oe,Q=re[Q]}while(Q!==ee);for(var ce=ne;ce!==ee;ce=re[ce])re[ce]=ee;return ee}var se=[];return o.forEach(function(re){var ne=Z(p,re[0]),Q=Z(T,re[1]);if(ne>=0&&Q>=0&&ne!==Q){var ee=Y[ne],oe=Y[Q];ee!==oe&&se.push([ee,oe])}}),a.unique(a.normalize(se)),{positions:W,edges:se}};var s=i(417),a=i(6656)},6638:function(y,c,i){"use strict";y.exports=function(o,l){var u,h,v,p;if(l[0][0]<l[1][0])u=l[0],h=l[1];else{if(!(l[0][0]>l[1][0]))return a(l,o);u=l[1],h=l[0]}if(o[0][0]<o[1][0])v=o[0],p=o[1];else{if(!(o[0][0]>o[1][0]))return-a(o,l);v=o[1],p=o[0]}var T=s(u,h,p),_=s(u,h,v);if(T<0){if(_<=0)return T}else if(T>0){if(_>=0)return T}else if(_)return _;if(T=s(p,v,h),_=s(p,v,u),T<0){if(_<=0)return T}else if(T>0){if(_>=0)return T}else if(_)return _;return h[0]-p[0]};var s=i(417);function a(o,l){var u,h,v,p;if(l[0][0]<l[1][0])u=l[0],h=l[1];else{if(!(l[0][0]>l[1][0])){var T=Math.min(o[0][1],o[1][1]),_=Math.max(o[0][1],o[1][1]),m=Math.min(l[0][1],l[1][1]),w=Math.max(l[0][1],l[1][1]);return _<m?_-m:T>w?T-w:_-w}u=l[1],h=l[0]}o[0][1]<o[1][1]?(v=o[0],p=o[1]):(v=o[1],p=o[0]);var x=s(h,u,v);return x||(x=s(h,u,p))||p-h}},4385:function(y,c,i){"use strict";y.exports=function(_){for(var m=_.length,w=2*m,x=new Array(w),b=0;b<m;++b){var A=_[b],g=A[0][0]<A[1][0];x[2*b]=new T(A[0][0],A,g,b),x[2*b+1]=new T(A[1][0],A,!g,b)}x.sort(function(X,F){var Y=X.x-F.x;return Y||(Y=X.create-F.create)||Math.min(X.segment[0][1],X.segment[1][1])-Math.min(F.segment[0][1],F.segment[1][1])});var I=a(l),S=[],O=[],R=[];for(b=0;b<w;){for(var L=x[b].x,N=[];b<w;){var j=x[b];if(j.x!==L)break;b+=1,j.segment[0][0]===j.x&&j.segment[1][0]===j.x?j.create&&(j.segment[0][1]<j.segment[1][1]?(N.push(new p(j.segment[0][1],j.index,!0,!0)),N.push(new p(j.segment[1][1],j.index,!1,!1))):(N.push(new p(j.segment[1][1],j.index,!0,!1)),N.push(new p(j.segment[0][1],j.index,!1,!0)))):I=j.create?I.insert(j.segment,j.index):I.remove(j.segment)}S.push(I.root),O.push(L),R.push(N)}return new u(S,O,R)};var s=i(5070),a=i(7080),o=i(417),l=i(6638);function u(_,m,w){this.slabs=_,this.coordinates=m,this.horizontal=w}function h(_,m){return _.y-m}function v(_,m){for(var w=null;_;){var x,b,A=_.key;A[0][0]<A[1][0]?(x=A[0],b=A[1]):(x=A[1],b=A[0]);var g=o(x,b,m);if(g<0)_=_.left;else if(g>0)if(m[0]!==A[1][0])w=_,_=_.right;else{if(I=v(_.right,m))return I;_=_.left}else{if(m[0]!==A[1][0])return _;var I;if(I=v(_.right,m))return I;_=_.left}}return w}function p(_,m,w,x){this.y=_,this.index=m,this.start=w,this.closed=x}function T(_,m,w,x){this.x=_,this.segment=m,this.create=w,this.index=x}u.prototype.castUp=function(_){var m=s.le(this.coordinates,_[0]);if(m<0)return-1;var w=v(this.slabs[m],_),x=-1;if(w&&(x=w.value),this.coordinates[m]===_[0]){var b=null;if(w&&(b=w.key),m>0){var A=v(this.slabs[m-1],_);A&&(b?l(A.key,b)>0&&(b=A.key,x=A.value):(x=A.value,b=A.key))}var g=this.horizontal[m];if(g.length>0){var I=s.ge(g,_[1],h);if(I<g.length){var S=g[I];if(_[1]===S.y){if(S.closed)return S.index;for(;I<g.length-1&&g[I+1].y===_[1];)if((S=g[I+=1]).closed)return S.index;if(S.y===_[1]&&!S.start){if((I+=1)>=g.length)return x;S=g[I]}}if(S.start)if(b){var O=o(b[0],b[1],[_[0],S.y]);b[0][0]>b[1][0]&&(O=-O),O>0&&(x=S.index)}else x=S.index;else S.y!==_[1]&&(x=S.index)}}}return x}},4670:function(y,c,i){"use strict";var s=i(9130),a=i(9662);function o(u,h){var v=a(s(u,h),[h[h.length-1]]);return v[v.length-1]}function l(u,h,v,p){var T=-h/(p-h);T<0?T=0:T>1&&(T=1);for(var _=1-T,m=u.length,w=new Array(m),x=0;x<m;++x)w[x]=T*u[x]+_*v[x];return w}y.exports=function(u,h){for(var v=[],p=[],T=o(u[u.length-1],h),_=u[u.length-1],m=u[0],w=0;w<u.length;++w,_=m){var x=o(m=u[w],h);if(T<0&&x>0||T>0&&x<0){var b=l(_,x,m,T);v.push(b),p.push(b.slice())}x<0?p.push(m.slice()):x>0?v.push(m.slice()):(v.push(m.slice()),p.push(m.slice())),T=x}return{positive:v,negative:p}},y.exports.positive=function(u,h){for(var v=[],p=o(u[u.length-1],h),T=u[u.length-1],_=u[0],m=0;m<u.length;++m,T=_){var w=o(_=u[m],h);(p<0&&w>0||p>0&&w<0)&&v.push(l(T,w,_,p)),w>=0&&v.push(_.slice()),p=w}return v},y.exports.negative=function(u,h){for(var v=[],p=o(u[u.length-1],h),T=u[u.length-1],_=u[0],m=0;m<u.length;++m,T=_){var w=o(_=u[m],h);(p<0&&w>0||p>0&&w<0)&&v.push(l(T,w,_,p)),w<=0&&v.push(_.slice()),p=w}return v}},8974:function(y,c,i){var s;!function(){"use strict";var a={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function o(h){return function(v,p){var T,_,m,w,x,b,A,g,I,S=1,O=v.length,R="";for(_=0;_<O;_++)if("string"==typeof v[_])R+=v[_];else if("object"==typeof v[_]){if((w=v[_]).keys)for(T=p[S],m=0;m<w.keys.length;m++){if(null==T)throw new Error(o('[sprintf] Cannot access property "%s" of undefined value "%s"',w.keys[m],w.keys[m-1]));T=T[w.keys[m]]}else T=w.param_no?p[w.param_no]:p[S++];if(a.not_type.test(w.type)&&a.not_primitive.test(w.type)&&T instanceof Function&&(T=T()),a.numeric_arg.test(w.type)&&"number"!=typeof T&&isNaN(T))throw new TypeError(o("[sprintf] expecting number but found %T",T));switch(a.number.test(w.type)&&(g=T>=0),w.type){case"b":T=parseInt(T,10).toString(2);break;case"c":T=String.fromCharCode(parseInt(T,10));break;case"d":case"i":T=parseInt(T,10);break;case"j":T=JSON.stringify(T,null,w.width?parseInt(w.width):0);break;case"e":T=w.precision?parseFloat(T).toExponential(w.precision):parseFloat(T).toExponential();break;case"f":T=w.precision?parseFloat(T).toFixed(w.precision):parseFloat(T);break;case"g":T=w.precision?String(Number(T.toPrecision(w.precision))):parseFloat(T);break;case"o":T=(parseInt(T,10)>>>0).toString(8);break;case"s":T=String(T),T=w.precision?T.substring(0,w.precision):T;break;case"t":T=String(!!T),T=w.precision?T.substring(0,w.precision):T;break;case"T":T=Object.prototype.toString.call(T).slice(8,-1).toLowerCase(),T=w.precision?T.substring(0,w.precision):T;break;case"u":T=parseInt(T,10)>>>0;break;case"v":T=T.valueOf(),T=w.precision?T.substring(0,w.precision):T;break;case"x":T=(parseInt(T,10)>>>0).toString(16);break;case"X":T=(parseInt(T,10)>>>0).toString(16).toUpperCase()}a.json.test(w.type)?R+=T:(!a.number.test(w.type)||g&&!w.sign?I="":(I=g?"+":"-",T=T.toString().replace(a.sign,"")),b=w.pad_char?"0"===w.pad_char?"0":w.pad_char.charAt(1):" ",A=w.width-(I+T).length,x=w.width&&A>0?b.repeat(A):"",R+=w.align?I+T+x:"0"===b?I+x+T:x+I+T)}return R}(function(v){if(u[v])return u[v];for(var p,T=v,_=[],m=0;T;){if(null!==(p=a.text.exec(T)))_.push(p[0]);else if(null!==(p=a.modulo.exec(T)))_.push("%");else{if(null===(p=a.placeholder.exec(T)))throw new SyntaxError("[sprintf] unexpected placeholder");if(p[2]){m|=1;var w=[],x=p[2],b=[];if(null===(b=a.key.exec(x)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(w.push(b[1]);""!==(x=x.substring(b[0].length));)if(null!==(b=a.key_access.exec(x)))w.push(b[1]);else{if(null===(b=a.index_access.exec(x)))throw new SyntaxError("[sprintf] failed to parse named argument key");w.push(b[1])}p[2]=w}else m|=2;if(3===m)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");_.push({placeholder:p[0],param_no:p[1],keys:p[2],sign:p[3],pad_char:p[4],align:p[5],width:p[6],precision:p[7],type:p[8]})}T=T.substring(p[0].length)}return u[v]=_}(h),arguments)}function l(h,v){return o.apply(null,[h].concat(v||[]))}var u=Object.create(null);c.sprintf=o,c.vsprintf=l,typeof window<"u"&&(window.sprintf=o,window.vsprintf=l,void 0===(s=function(){return{sprintf:o,vsprintf:l}}.call(c,i,c,y))||(y.exports=s))}()},4162:function(y,c,i){"use strict";y.exports=function(u,h){if(u.dimension<=0)return{positions:[],cells:[]};if(1===u.dimension)return function(T,_){for(var m=a(T,_),w=m.length,x=new Array(w),b=new Array(w),A=0;A<w;++A)x[A]=[m[A]],b[A]=[A];return{positions:x,cells:b}}(u,h);var v=u.order.join()+"-"+u.dtype,p=l[v];return h=+h||0,p||(p=l[v]=function(T,_){var w=o[T.length+"d"];if(w)return w(s,T,_)}(u.order,u.dtype)),p(u,h)};var s=i(9284),a=i(9584),o={"2d":function(u,h,v){var p=u({order:h,scalarArguments:3,getters:"generic"===v?[0]:void 0,phase:function(T,_,m,w){return T>w|0},vertex:function(T,_,m,w,x,b,A,g,I,S,O,R,L){var N=(A<<0)+(g<<1)+(I<<2)+(S<<3)|0;if(0!==N&&15!==N)switch(N){case 0:case 15:O.push([T-.5,_-.5]);break;case 1:O.push([T-.25-.25*(w+m-2*L)/(m-w),_-.25-.25*(x+m-2*L)/(m-x)]);break;case 2:O.push([T-.75-.25*(-w-m+2*L)/(w-m),_-.25-.25*(b+w-2*L)/(w-b)]);break;case 3:O.push([T-.5,_-.5-.5*(x+m+b+w-4*L)/(m-x+w-b)]);break;case 4:O.push([T-.25-.25*(b+x-2*L)/(x-b),_-.75-.25*(-x-m+2*L)/(x-m)]);break;case 5:O.push([T-.5-.5*(w+m+b+x-4*L)/(m-w+x-b),_-.5]);break;case 6:O.push([T-.5-.25*(-w-m+b+x)/(w-m+x-b),_-.5-.25*(-x-m+b+w)/(x-m+w-b)]);break;case 7:O.push([T-.75-.25*(b+x-2*L)/(x-b),_-.75-.25*(b+w-2*L)/(w-b)]);break;case 8:O.push([T-.75-.25*(-b-x+2*L)/(b-x),_-.75-.25*(-b-w+2*L)/(b-w)]);break;case 9:O.push([T-.5-.25*(w+m+-b-x)/(m-w+b-x),_-.5-.25*(x+m+-b-w)/(m-x+b-w)]);break;case 10:O.push([T-.5-.5*(-w-m-b-x+4*L)/(w-m+b-x),_-.5]);break;case 11:O.push([T-.25-.25*(-b-x+2*L)/(b-x),_-.75-.25*(x+m-2*L)/(m-x)]);break;case 12:O.push([T-.5,_-.5-.5*(-x-m-b-w+4*L)/(x-m+b-w)]);break;case 13:O.push([T-.75-.25*(w+m-2*L)/(m-w),_-.25-.25*(-b-w+2*L)/(b-w)]);break;case 14:O.push([T-.25-.25*(-w-m+2*L)/(w-m),_-.25-.25*(-x-m+2*L)/(x-m)])}},cell:function(T,_,m,w,x,b,A,g,I){g.push(x?[T,_]:[_,T])}});return function(T,_){var m=[],w=[];return p(T,m,w,_),{positions:m,cells:w}}}},l={}},6946:function(y,c,i){"use strict";y.exports=function l(u,h,v){v=v||{};var p=o[u];p||(p=o[u]={" ":{data:new Float32Array(0),shape:.2}});var T=p[h];if(!T)if(h.length<=1||!/\d/.test(h))T=p[h]=function(R){for(var L=R.cells,N=R.positions,j=new Float32Array(6*L.length),X=0,F=0,Y=0;Y<L.length;++Y)for(var G=L[Y],H=0;H<3;++H){var W=N[G[H]];j[X++]=W[0],j[X++]=W[1]+1.4,F=Math.max(W[0],F)}return{data:j,shape:F}}(s(h,{triangles:!0,font:u,textAlign:v.textAlign||"left",textBaseline:"alphabetic",styletags:{breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0}}));else{for(var _=h.split(/(\d|\s)/),m=new Array(_.length),w=0,x=0,b=0;b<_.length;++b)m[b]=l(u,_[b]),w+=m[b].data.length,x+=m[b].shape,b>0&&(x+=.02);var A=new Float32Array(w),g=0,I=-.5*x;for(b=0;b<m.length;++b){for(var S=m[b].data,O=0;O<S.length;O+=2)A[g++]=S[O]+I,A[g++]=S[O+1];I+=m[b].shape+.02}T=p[h]={data:A,shape:x}}return T};var s=i(875),a=window||E.global||{},o=a.__TEXT_CACHE||{};a.__TEXT_CACHE={}},14:function(y,c,i){"use strict";var s=i(4405);y.exports=l;var a=96;function o(u,h){var v=s(getComputedStyle(u).getPropertyValue(h));return v[0]*l(v[1],u)}function l(u,h){switch(h=h||document.body,u=(u||"px").trim().toLowerCase(),h!==window&&h!==document||(h=document.body),u){case"%":return h.clientHeight/100;case"ch":case"ex":return function(v,p){var T=document.createElement("div");T.style["font-size"]="128"+v,p.appendChild(T);var _=o(T,"font-size")/128;return p.removeChild(T),_}(u,h);case"em":return o(h,"font-size");case"rem":return o(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return a;case"cm":return a/2.54;case"mm":return a/25.4;case"pt":return a/72;case"pc":return a/6}return 1}},3440:function(y,c,i){"use strict";y.exports=function(x){var b=(x=x||{}).center||[0,0,0],A=x.up||[0,1,0],g=x.right||T(A),I=x.radius||1,S=x.theta||0,O=x.phi||0;if(b=[].slice.call(b,0,3),A=[].slice.call(A,0,3),u(A,A),g=[].slice.call(g,0,3),u(g,g),"eye"in x){var R=x.eye,L=[R[0]-b[0],R[1]-b[1],R[2]-b[2]];l(g,L,A),v(g[0],g[1],g[2])<1e-6?g=T(A):u(g,g),I=v(L[0],L[1],L[2]);var N=h(A,L)/I,j=h(g,L)/I;O=Math.acos(N),S=Math.acos(j)}return I=Math.log(I),new _(x.zoomMin,x.zoomMax,b,A,g,I,S,O)};var s=i(8444),a=i(7437),o=i(4422),l=i(903),u=i(899),h=i(9305);function v(x,b,A){return Math.sqrt(Math.pow(x,2)+Math.pow(b,2)+Math.pow(A,2))}function p(x){return Math.min(1,Math.max(-1,x))}function T(x){var b=Math.abs(x[0]),A=Math.abs(x[1]),g=Math.abs(x[2]),I=[0,0,0];b>Math.max(A,g)?I[2]=1:A>Math.max(b,g)?I[0]=1:I[1]=1;for(var S=0,O=0,R=0;R<3;++R)S+=x[R]*x[R],O+=I[R]*x[R];for(R=0;R<3;++R)I[R]-=O/S*x[R];return u(I,I),I}function _(x,b,A,g,I,S,O,R){this.center=s(A),this.up=s(g),this.right=s(I),this.radius=s([S]),this.angle=s([O,R]),this.angle.bounds=[[-1/0,-Math.PI/2],[1/0,Math.PI/2]],this.setDistanceLimits(x,b),this.computedCenter=this.center.curve(0),this.computedUp=this.up.curve(0),this.computedRight=this.right.curve(0),this.computedRadius=this.radius.curve(0),this.computedAngle=this.angle.curve(0),this.computedToward=[0,0,0],this.computedEye=[0,0,0],this.computedMatrix=new Array(16);for(var L=0;L<16;++L)this.computedMatrix[L]=.5;this.recalcMatrix(0)}var m=_.prototype;m.setDistanceLimits=function(x,b){x=x>0?Math.log(x):-1/0,b=b>0?Math.log(b):1/0,b=Math.max(b,x),this.radius.bounds[0][0]=x,this.radius.bounds[1][0]=b},m.getDistanceLimits=function(x){var b=this.radius.bounds[0];return x?(x[0]=Math.exp(b[0][0]),x[1]=Math.exp(b[1][0]),x):[Math.exp(b[0][0]),Math.exp(b[1][0])]},m.recalcMatrix=function(x){this.center.curve(x),this.up.curve(x),this.right.curve(x),this.radius.curve(x),this.angle.curve(x);for(var b=this.computedUp,A=this.computedRight,g=0,I=0,S=0;S<3;++S)I+=b[S]*A[S],g+=b[S]*b[S];var O=Math.sqrt(g),R=0;for(S=0;S<3;++S)A[S]-=b[S]*I/g,R+=A[S]*A[S],b[S]/=O;var L=Math.sqrt(R);for(S=0;S<3;++S)A[S]/=L;var N=this.computedToward;l(N,b,A),u(N,N);var j=Math.exp(this.computedRadius[0]),X=this.computedAngle[0],F=this.computedAngle[1],Y=Math.cos(X),G=Math.sin(X),H=Math.cos(F),W=Math.sin(F),Z=this.computedCenter,se=Y*H,re=G*H,ne=W,Q=-Y*W,ee=-G*W,oe=H,ce=this.computedEye,fe=this.computedMatrix;for(S=0;S<3;++S){var le=se*A[S]+re*N[S]+ne*b[S];fe[4*S+1]=Q*A[S]+ee*N[S]+oe*b[S],fe[4*S+2]=le,fe[4*S+3]=0}var pe=fe[1],Me=fe[5],Ae=fe[9],be=fe[2],ye=fe[6],we=fe[10],ze=Me*we-Ae*ye,Se=Ae*be-pe*we,Ce=pe*ye-Me*be,ge=v(ze,Se,Ce);for(Se/=ge,Ce/=ge,fe[0]=ze/=ge,fe[4]=Se,fe[8]=Ce,S=0;S<3;++S)ce[S]=Z[S]+fe[2+4*S]*j;for(S=0;S<3;++S){R=0;for(var he=0;he<3;++he)R+=fe[S+4*he]*ce[he];fe[12+S]=-R}fe[15]=1},m.getMatrix=function(x,b){this.recalcMatrix(x);var A=this.computedMatrix;if(b){for(var g=0;g<16;++g)b[g]=A[g];return b}return A};var w=[0,0,0];m.rotate=function(x,b,A,g){if(this.angle.move(x,b,A),g){this.recalcMatrix(x);var I=this.computedMatrix;w[0]=I[2],w[1]=I[6],w[2]=I[10];for(var S=this.computedUp,O=this.computedRight,R=this.computedToward,L=0;L<3;++L)I[4*L]=S[L],I[4*L+1]=O[L],I[4*L+2]=R[L];for(o(I,I,g,w),L=0;L<3;++L)S[L]=I[4*L],O[L]=I[4*L+1];this.up.set(x,S[0],S[1],S[2]),this.right.set(x,O[0],O[1],O[2])}},m.pan=function(x,b,A,g){b=b||0,A=A||0,g=g||0,this.recalcMatrix(x);var I=this.computedMatrix,S=(Math.exp(this.computedRadius[0]),I[1]),O=I[5],R=I[9],L=v(S,O,R),N=I[0],j=I[4],X=I[8],F=N*(S/=L)+j*(O/=L)+X*(R/=L),Y=v(N-=S*F,j-=O*F,X-=R*F),G=(N/=Y)*b+S*A,H=(j/=Y)*b+O*A,W=(X/=Y)*b+R*A;this.center.move(x,G,H,W);var Z=Math.exp(this.computedRadius[0]);Z=Math.max(1e-4,Z+g),this.radius.set(x,Math.log(Z))},m.translate=function(x,b,A,g){this.center.move(x,b||0,A||0,g||0)},m.setMatrix=function(x,b,A,g){var I=1;"number"==typeof A&&(I=0|A),(I<0||I>3)&&(I=1);var S=(I+2)%3;b||(this.recalcMatrix(x),b=this.computedMatrix);var O=b[I],R=b[I+4],L=b[I+8];if(g){var N=Math.abs(O),j=Math.abs(R),X=Math.abs(L),F=Math.max(N,j,X);N===F?(O=O<0?-1:1,R=L=0):X===F?(L=L<0?-1:1,O=R=0):(R=R<0?-1:1,O=L=0)}else{var Y=v(O,R,L);O/=Y,R/=Y,L/=Y}var G,H,W=b[S],Z=b[S+4],se=b[S+8],re=W*O+Z*R+se*L,ne=v(W-=O*re,Z-=R*re,se-=L*re),Q=R*(se/=ne)-L*(Z/=ne),ee=L*(W/=ne)-O*se,oe=O*Z-R*W,ce=v(Q,ee,oe);if(Q/=ce,ee/=ce,oe/=ce,this.center.jump(x,De,je,qe),this.radius.idle(x),this.up.jump(x,O,R,L),this.right.jump(x,W,Z,se),2===I){var fe=b[1],le=b[5],pe=b[9];G=ze<0?-Math.PI/2:Math.PI/2,H=Math.atan2(fe*Q+le*ee+pe*oe,fe*W+le*Z+pe*se)}else{var be=b[2],ye=b[6],we=b[10],ze=be*O+ye*R+we*L,Se=be*W+ye*Z+we*se,Ce=be*Q+ye*ee+we*oe;G=Math.asin(p(ze)),H=Math.atan2(Ce,Se)}this.angle.jump(x,H,G),this.recalcMatrix(x);var ge=b[2],he=b[6],_e=b[10],Le=this.computedMatrix;a(Le,b);var Ie=Le[15],De=Le[12]/Ie,je=Le[13]/Ie,qe=Le[14]/Ie,ve=Math.exp(this.computedRadius[0]);this.center.jump(x,De-ge*ve,je-he*ve,qe-_e*ve)},m.lastT=function(){return Math.max(this.center.lastT(),this.up.lastT(),this.right.lastT(),this.radius.lastT(),this.angle.lastT())},m.idle=function(x){this.center.idle(x),this.up.idle(x),this.right.idle(x),this.radius.idle(x),this.angle.idle(x)},m.flush=function(x){this.center.flush(x),this.up.flush(x),this.right.flush(x),this.radius.flush(x),this.angle.flush(x)},m.setDistance=function(x,b){b>0&&this.radius.set(x,Math.log(b))},m.lookAt=function(x,b,A,g){this.recalcMatrix(x),b=b||this.computedEye,A=A||this.computedCenter;var I=(g=g||this.computedUp)[0],S=g[1],O=g[2],R=v(I,S,O);if(!(R<1e-6)){I/=R,S/=R,O/=R;var L=b[0]-A[0],N=b[1]-A[1],j=b[2]-A[2],X=v(L,N,j);if(!(X<1e-6)){L/=X,N/=X,j/=X;var F=this.computedRight,Y=F[0],G=F[1],H=F[2],W=I*Y+S*G+O*H,Z=v(Y-=W*I,G-=W*S,H-=W*O);if(!(Z<.01&&(Z=v(Y=S*j-O*N,G=O*L-I*j,H=I*N-S*L))<1e-6)){Y/=Z,G/=Z,H/=Z,this.up.set(x,I,S,O),this.right.set(x,Y,G,H),this.center.set(x,A[0],A[1],A[2]),this.radius.set(x,Math.log(X));var se=S*H-O*G,re=O*Y-I*H,ne=I*G-S*Y,Q=v(se,re,ne),oe=Y*L+G*N+H*j,ce=(se/=Q)*L+(re/=Q)*N+(ne/=Q)*j,fe=Math.asin(p(I*L+S*N+O*j)),le=Math.atan2(ce,oe),pe=this.angle._state,Me=pe[pe.length-1],Ae=pe[pe.length-2];Me%=2*Math.PI;var be=Math.abs(Me+2*Math.PI-le),ye=Math.abs(Me-le),we=Math.abs(Me-2*Math.PI-le);be<ye&&(Me+=2*Math.PI),we<ye&&(Me-=2*Math.PI),this.angle.jump(this.angle.lastT(),Me,Ae),this.angle.set(x,le,fe)}}}}},9660:function(y){"use strict";y.exports=function(i,s,a){var o=i*s,l=c*i,u=l-(l-i),h=i-u,v=c*s,p=v-(v-s),T=s-p,_=h*T-(o-u*p-h*p-u*T);return a?(a[0]=_,a[1]=o,a):[_,o]};var c=+(Math.pow(2,27)+1)},87:function(y){"use strict";y.exports=function(c,i,s){var a=c+i,o=a-c,l=i-o,u=c-(a-o);return s?(s[0]=u+l,s[1]=a,s):[u+l,a]}},5306:function(y,c,i){"use strict";var s=i(2288),a=i(3094),o=i(2146).lW;i.g.__TYPEDARRAY_POOL||(i.g.__TYPEDARRAY_POOL={UINT8:a([32,0]),UINT16:a([32,0]),UINT32:a([32,0]),BIGUINT64:a([32,0]),INT8:a([32,0]),INT16:a([32,0]),INT32:a([32,0]),BIGINT64:a([32,0]),FLOAT:a([32,0]),DOUBLE:a([32,0]),DATA:a([32,0]),UINT8C:a([32,0]),BUFFER:a([32,0])});var l=typeof Uint8ClampedArray<"u",u=typeof BigUint64Array<"u",h=typeof BigInt64Array<"u",v=i.g.__TYPEDARRAY_POOL;v.UINT8C||(v.UINT8C=a([32,0])),v.BIGUINT64||(v.BIGUINT64=a([32,0])),v.BIGINT64||(v.BIGINT64=a([32,0])),v.BUFFER||(v.BUFFER=a([32,0]));var p=v.DATA,T=v.BUFFER;function _(F){if(F){var G=s.log2(F.length||F.byteLength);p[G].push(F)}}function m(F){F=s.nextPow2(F);var Y=s.log2(F),G=p[Y];return G.length>0?G.pop():new ArrayBuffer(F)}function w(F){return new Uint8Array(m(F),0,F)}function x(F){return new Uint16Array(m(2*F),0,F)}function b(F){return new Uint32Array(m(4*F),0,F)}function A(F){return new Int8Array(m(F),0,F)}function g(F){return new Int16Array(m(2*F),0,F)}function I(F){return new Int32Array(m(4*F),0,F)}function S(F){return new Float32Array(m(4*F),0,F)}function O(F){return new Float64Array(m(8*F),0,F)}function R(F){return l?new Uint8ClampedArray(m(F),0,F):w(F)}function L(F){return u?new BigUint64Array(m(8*F),0,F):null}function N(F){return h?new BigInt64Array(m(8*F),0,F):null}function j(F){return new DataView(m(F),0,F)}function X(F){F=s.nextPow2(F);var Y=s.log2(F),G=T[Y];return G.length>0?G.pop():new o(F)}c.free=function(F){if(o.isBuffer(F))T[s.log2(F.length)].push(F);else{if("[object ArrayBuffer]"!==Object.prototype.toString.call(F)&&(F=F.buffer),!F)return;var G=0|s.log2(F.length||F.byteLength);p[G].push(F)}},c.freeUint8=c.freeUint16=c.freeUint32=c.freeBigUint64=c.freeInt8=c.freeInt16=c.freeInt32=c.freeBigInt64=c.freeFloat32=c.freeFloat=c.freeFloat64=c.freeDouble=c.freeUint8Clamped=c.freeDataView=function(F){_(F.buffer)},c.freeArrayBuffer=_,c.freeBuffer=function(F){T[s.log2(F.length)].push(F)},c.malloc=function(F,Y){if(void 0===Y||"arraybuffer"===Y)return m(F);switch(Y){case"uint8":return w(F);case"uint16":return x(F);case"uint32":return b(F);case"int8":return A(F);case"int16":return g(F);case"int32":return I(F);case"float":case"float32":return S(F);case"double":case"float64":return O(F);case"uint8_clamped":return R(F);case"bigint64":return N(F);case"biguint64":return L(F);case"buffer":return X(F);case"data":case"dataview":return j(F);default:return null}return null},c.mallocArrayBuffer=m,c.mallocUint8=w,c.mallocUint16=x,c.mallocUint32=b,c.mallocInt8=A,c.mallocInt16=g,c.mallocInt32=I,c.mallocFloat32=c.mallocFloat=S,c.mallocFloat64=c.mallocDouble=O,c.mallocUint8Clamped=R,c.mallocBigUint64=L,c.mallocBigInt64=N,c.mallocDataView=j,c.mallocBuffer=X,c.clearCache=function(){for(var F=0;F<32;++F)v.UINT8[F].length=0,v.UINT16[F].length=0,v.UINT32[F].length=0,v.INT8[F].length=0,v.INT16[F].length=0,v.INT32[F].length=0,v.FLOAT[F].length=0,v.DOUBLE[F].length=0,v.BIGUINT64[F].length=0,v.BIGINT64[F].length=0,v.UINT8C[F].length=0,p[F].length=0,T[F].length=0}},1731:function(y){"use strict";function c(s){this.roots=new Array(s),this.ranks=new Array(s);for(var a=0;a<s;++a)this.roots[a]=a,this.ranks[a]=0}y.exports=c;var i=c.prototype;Object.defineProperty(i,"length",{get:function(){return this.roots.length}}),i.makeSet=function(){var s=this.roots.length;return this.roots.push(s),this.ranks.push(0),s},i.find=function(s){for(var a=s,o=this.roots;o[s]!==s;)s=o[s];for(;o[a]!==s;){var l=o[a];o[a]=s,a=l}return s},i.link=function(s,a){var o=this.find(s),l=this.find(a);if(o!==l){var u=this.ranks,h=this.roots,v=u[o],p=u[l];v<p?h[o]=l:p<v?h[l]=o:(h[l]=o,++u[o])}}},1215:function(y){"use strict";y.exports=function(c,i,s){return 0===c.length?c:i?(s||c.sort(i),function(a,o){for(var l=1,u=a.length,h=a[0],v=a[0],p=1;p<u;++p)if(v=h,o(h=a[p],v)){if(p===l){l++;continue}a[l++]=h}return a.length=l,a}(c,i)):(s||c.sort(),function(a){for(var o=1,l=a.length,u=a[0],h=a[0],v=1;v<l;++v,h=u)if(h=u,(u=a[v])!==h){if(v===o){o++;continue}a[o++]=u}return a.length=o,a}(c))}},875:function(y,c,i){"use strict";y.exports=function(l,u){return"object"==typeof u&&null!==u||(u={}),s(l,u.canvas||a,u.context||o,u)};var s=i(712),a=null,o=null;typeof document<"u"&&((a=document.createElement("canvas")).width=8192,a.height=1024,o=a.getContext("2d"))},712:function(y,c,i){y.exports=function(L,N,j,X){var F=64,Y=1.25,G={breaklines:!1,bolds:!1,italics:!1,subscripts:!1,superscripts:!1};return X&&(X.size&&X.size>0&&(F=X.size),X.lineSpacing&&X.lineSpacing>0&&(Y=X.lineSpacing),X.styletags&&X.styletags.breaklines&&(G.breaklines=!!X.styletags.breaklines),X.styletags&&X.styletags.bolds&&(G.bolds=!!X.styletags.bolds),X.styletags&&X.styletags.italics&&(G.italics=!!X.styletags.italics),X.styletags&&X.styletags.subscripts&&(G.subscripts=!!X.styletags.subscripts),X.styletags&&X.styletags.superscripts&&(G.superscripts=!!X.styletags.superscripts)),j.font=[X.fontStyle,X.fontVariant,X.fontWeight,F+"px",X.font].filter(function(H){return H}).join(" "),j.textAlign="start",j.textBaseline="alphabetic",j.direction="ltr",R(function(H,W,Z,se,re,ne){Z=(Z=Z.replace(/\n/g,"")).replace(/\<br\>/g,!0===ne.breaklines?"\n":" ");var Q="",ee=[];for(le=0;le<Z.length;++le)ee[le]=Q;!0===ne.bolds&&(ee=I(v,p,Z,ee)),!0===ne.italics&&(ee=I(T,_,Z,ee)),!0===ne.superscripts&&(ee=I(m,x,Z,ee)),!0===ne.subscripts&&(ee=I(b,g,Z,ee));var oe=[],ce="";for(le=0;le<Z.length;++le)null!==ee[le]&&(ce+=Z[le],oe.push(ee[le]));var fe,le,pe,Me,Ae,be=ce.split("\n"),ye=be.length,we=Math.round(re*se),ze=se,Se=2*se,Ce=0,ge=ye*we+Se;H.height<ge&&(H.height=ge),W.fillStyle="#000",W.fillRect(0,0,H.width,H.height),W.fillStyle="#fff";var he=0,_e="";function Le(){if(""!==_e){var Be=W.measureText(_e).width;W.fillText(_e,ze+pe,Se+Me),pe+=Be}}function Ie(){return Math.round(Ae)+"px "}function De(Be,We){var Ge=""+W.font;if(!0===ne.subscripts){var Ke=Be.indexOf(A),et=We.indexOf(A),at=Ke>-1?parseInt(Be[1+Ke]):0,mt=et>-1?parseInt(We[1+et]):0;at!==mt&&(Ge=Ge.replace(Ie(),"?px "),Ae*=Math.pow(.75,mt-at),Ge=Ge.replace("?px ",Ie())),Me+=.25*we*(mt-at)}if(!0===ne.superscripts){var ct=Be.indexOf(w),kt=We.indexOf(w),Dt=ct>-1?parseInt(Be[1+ct]):0,Et=kt>-1?parseInt(We[1+kt]):0;Dt!==Et&&(Ge=Ge.replace(Ie(),"?px "),Ae*=Math.pow(.75,Et-Dt),Ge=Ge.replace("?px ",Ie())),Me-=.25*we*(Et-Dt)}if(!0===ne.bolds){var ht=Be.indexOf(p)>-1,pt=We.indexOf(p)>-1;!ht&&pt&&(Ge=Pt?Ge.replace("italic ","italic bold "):"bold "+Ge),ht&&!pt&&(Ge=Ge.replace("bold ",""))}if(!0===ne.italics){var Pt=Be.indexOf(_)>-1,zt=We.indexOf(_)>-1;!Pt&&zt&&(Ge="italic "+Ge),Pt&&!zt&&(Ge=Ge.replace("italic ",""))}W.font=Ge}for(fe=0;fe<ye;++fe){var je=be[fe]+"\n";for(pe=0,Me=fe*we,Ae=se,_e="",le=0;le<je.length;++le){var qe=le+he<oe.length?oe[le+he]:oe[oe.length-1];Q===qe?_e+=je[le]:(Le(),_e=je[le],void 0!==qe&&(De(Q,qe),Q=qe))}Le(),he+=je.length;var ve=0|Math.round(pe+2*ze);Ce<ve&&(Ce=ve)}var Oe=Ce,ke=Se+we*ye;return a(W.getImageData(0,0,Oe,ke).data,[ke,Oe,4]).pick(-1,-1,0).transpose(1,0)}(N,j,L,F,Y,G),X,F)},y.exports.processPixels=R;var s=i(4162),a=i(5050),o=i(8243),l=i(197),u=i(7761),h=i(8040),v="b",p="b|",T="i",_="i|",m="sup",w="+",x="+1",b="sub",A="-",g="-1";function I(L,N,j,X){for(var F="<"+L+">",Y="</"+L+">",G=F.length,H=Y.length,W=N[0]===w||N[0]===A,Z=0,se=-H;Z>-1&&-1!==(Z=j.indexOf(F,Z))&&-1!==(se=j.indexOf(Y,Z+G))&&!(se<=Z);){for(var re=Z;re<se+H;++re)if(re<Z+G||re>=se)X[re]=null,j=j.substr(0,re)+" "+j.substr(re+1);else if(null!==X[re]){var ne=X[re].indexOf(N[0]);-1===ne?X[re]+=N:W&&(X[re]=X[re].substr(0,ne+1)+(1+parseInt(X[re][ne+1]))+X[re].substr(ne+2))}var Q=Z+G,ee=j.substr(Q,se-Q).indexOf(F);Z=-1!==ee?ee:se+H}return X}function O(L,N,j,X){var F=function S(L,N){var j=s(L,128);return N?o(j.cells,j.positions,.25):{edges:j.cells,positions:j.positions}}(L,X),Y=function(fe,le,pe){for(var Me=le.textAlign||"start",Ae=le.textBaseline||"alphabetic",be=[1<<30,1<<30],ye=[0,0],we=fe.length,ze=0;ze<we;++ze)for(var Se=fe[ze],Ce=0;Ce<2;++Ce)be[Ce]=0|Math.min(be[Ce],Se[Ce]),ye[Ce]=0|Math.max(ye[Ce],Se[Ce]);var ge=0;switch(Me){case"center":ge=-.5*(be[0]+ye[0]);break;case"right":case"end":ge=-ye[0];break;case"left":case"start":ge=-be[0];break;default:throw new Error("vectorize-text: Unrecognized textAlign: '"+Me+"'")}var he=0;switch(Ae){case"hanging":case"top":he=-be[1];break;case"middle":he=-.5*(be[1]+ye[1]);break;case"alphabetic":case"ideographic":he=-3*pe;break;case"bottom":he=-ye[1];break;default:throw new Error("vectorize-text: Unrecoginized textBaseline: '"+Ae+"'")}var _e=1/pe;return"lineHeight"in le?_e*=+le.lineHeight:"width"in le?_e=le.width/(ye[0]-be[0]):"height"in le&&(_e=le.height/(ye[1]-be[1])),fe.map(function(Le){return[_e*(Le[0]+ge),_e*(Le[1]+he)]})}(F.positions,N,j),G=F.edges,H="ccw"===N.orientation;if(l(Y,G),N.polygons||N.polygon||N.polyline){for(var W=h(G,Y),Z=new Array(W.length),se=0;se<W.length;++se){for(var re=W[se],ne=new Array(re.length),Q=0;Q<re.length;++Q){for(var ee=re[Q],oe=new Array(ee.length),ce=0;ce<ee.length;++ce)oe[ce]=Y[ee[ce]].slice();H&&oe.reverse(),ne[Q]=oe}Z[se]=ne}return Z}return N.triangles||N.triangulate||N.triangle?{cells:u(Y,G,{delaunay:!1,exterior:!1,interior:!0}),positions:Y}:{edges:G,positions:Y}}function R(L,N,j){try{return O(L,N,j,!0)}catch{}try{return O(L,N,j,!1)}catch{}return N.polygons||N.polyline||N.polygon?[]:N.triangles||N.triangulate||N.triangle?{cells:[],positions:[]}:{edges:[],positions:[]}}},5346:function(y){!function(){"use strict";if(typeof ses>"u"||!ses.ok||ses.ok()){typeof ses<"u"&&(ses.weakMapPermitHostObjects=b);var c=!1;if("function"==typeof WeakMap){var i=WeakMap;if(!(typeof navigator<"u"&&/Firefox/.test(navigator.userAgent))){var s=new i,a=Object.freeze({});if(s.set(a,1),1===s.get(a))return void(y.exports=WeakMap);c=!0}}var o=Object.getOwnPropertyNames,l=Object.defineProperty,u=Object.isExtensible,h="weakmap:",v=h+"ident:"+Math.random()+"___";if(typeof crypto<"u"&&"function"==typeof crypto.getRandomValues&&"function"==typeof ArrayBuffer&&"function"==typeof Uint8Array){var p=new ArrayBuffer(25),T=new Uint8Array(p);crypto.getRandomValues(T),v=h+"rand:"+Array.prototype.map.call(T,function(O){return(O%36).toString(36)}).join("")+"___"}if(l(Object,"getOwnPropertyNames",{value:function(O){return o(O).filter(A)}}),"getPropertyNames"in Object){var _=Object.getPropertyNames;l(Object,"getPropertyNames",{value:function(O){return _(O).filter(A)}})}!function(){var O=Object.freeze;l(Object,"freeze",{value:function(N){return g(N),O(N)}});var R=Object.seal;l(Object,"seal",{value:function(N){return g(N),R(N)}});var L=Object.preventExtensions;l(Object,"preventExtensions",{value:function(N){return g(N),L(N)}})}();var m=!1,w=0,x=function(){this instanceof x||S();var O=[],R=[],L=w++;return Object.create(x.prototype,{get___:{value:I(function(N,j){var X,F=g(N);return F?L in F?F[L]:j:(X=O.indexOf(N))>=0?R[X]:j})},has___:{value:I(function(N){var j=g(N);return j?L in j:O.indexOf(N)>=0})},set___:{value:I(function(N,j){var X,F=g(N);return F?F[L]=j:(X=O.indexOf(N))>=0?R[X]=j:(R[X=O.length]=j,O[X]=N),this})},delete___:{value:I(function(N){var j,X,F=g(N);return F?L in F&&delete F[L]:!((j=O.indexOf(N))<0||(X=O.length-1,O[j]=void 0,R[j]=R[X],O[j]=O[X],O.length=X,R.length=X,0))})}})};x.prototype=Object.create(Object.prototype,{get:{value:function(O,R){return this.get___(O,R)},writable:!0,configurable:!0},has:{value:function(O){return this.has___(O)},writable:!0,configurable:!0},set:{value:function(O,R){return this.set___(O,R)},writable:!0,configurable:!0},delete:{value:function(O){return this.delete___(O)},writable:!0,configurable:!0}}),"function"==typeof i?function(){function O(){this instanceof x||S();var R,L=new i,N=void 0,j=!1;return R=c?function(X,F){return L.set(X,F),L.has(X)||(N||(N=new x),N.set(X,F)),this}:function(X,F){if(j)try{L.set(X,F)}catch{N||(N=new x),N.set___(X,F)}else L.set(X,F);return this},Object.create(x.prototype,{get___:{value:I(function(X,F){return N?L.has(X)?L.get(X):N.get___(X,F):L.get(X,F)})},has___:{value:I(function(X){return L.has(X)||!!N&&N.has___(X)})},set___:{value:I(R)},delete___:{value:I(function(X){var F=!!L.delete(X);return N&&N.delete___(X)||F})},permitHostObjects___:{value:I(function(X){if(X!==b)throw new Error("bogus call to permitHostObjects___");j=!0})}})}c&&typeof Proxy<"u"&&(Proxy=void 0),O.prototype=x.prototype,y.exports=O,Object.defineProperty(WeakMap.prototype,"constructor",{value:WeakMap,enumerable:!1,configurable:!0,writable:!0})}():(typeof Proxy<"u"&&(Proxy=void 0),y.exports=x)}function b(O){O.permitHostObjects___&&O.permitHostObjects___(b)}function A(O){return!(O.substr(0,8)==h&&"___"===O.substr(O.length-3))}function g(O){if(O!==Object(O))throw new TypeError("Not an object: "+O);var R=O[v];if(R&&R.key===O)return R;if(u(O)){R={key:O};try{return l(O,v,{value:R,writable:!1,enumerable:!1,configurable:!1}),R}catch{return}}}function I(O){return O.prototype=null,Object.freeze(O)}function S(){m||typeof console>"u"||(m=!0,console.warn("WeakMap should be invoked as new WeakMap(), not WeakMap(). This will be an error in the future."))}}()},9222:function(y,c,i){var s=i(7178);y.exports=function(){var a={};return function(o){if(("object"!=typeof o||null===o)&&"function"!=typeof o)throw new Error("Weakmap-shim: Key must be object");var l=o.valueOf(a);return l&&l.identity===a?l:s(o,a)}}},7178:function(y){y.exports=function(c,i){var s={identity:i},a=c.valueOf;return Object.defineProperty(c,"valueOf",{value:function(o){return o!==i?a.apply(this,arguments):s},writable:!0}),s}},4037:function(y,c,i){var s=i(9222);y.exports=function(){var a=s();return{get:function(o,l){var u=a(o);return u.hasOwnProperty("value")?u.value:l},set:function(o,l){return a(o).value=l,this},has:function(o){return"value"in a(o)},delete:function(o){return delete a(o).value}}}},6183:function(y){"use strict";var c,i;y.exports=(c=function(){return function(c,i,s,a,o,l){var u=c[0],h=s[0],v=[0],p=h;a|=0;var T=0,_=h;for(T=0;T<u;++T){var m=i[a]-l,w=i[a+p]-l;m>=0!=w>=0&&o.push(v[0]+.5+.5*(m+w)/(m-w)),a+=_,++v[0]}}}.bind(void 0,{funcName:"zeroCrossings"}),i={},function(s,a,o){var l=s.dtype,u=s.order,h=[l,u.join()].join(),v=i[h];return v||(i[h]=v=c([l,u])),v(s.shape.slice(0),s.data,s.stride,0|s.offset,a,o)})},9584:function(y,c,i){"use strict";y.exports=function(a,o){var l=[];return o=+o||0,s(a.hi(a.shape[0]-1),l,o),l};var s=i(6183)},6601:function(){}},k={};function M(y){var c=k[y];if(void 0!==c)return c.exports;var i=k[y]={id:y,loaded:!1,exports:{}};return f[y].call(i.exports,i,i.exports,M),i.loaded=!0,i.exports}return M.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch{if("object"==typeof window)return window}}(),M.nmd=function(y){return y.paths=[],y.children||(y.children=[]),y},M(7386)}()},ae.exports=D()},12856:function(ae,B,r){"use strict";function E(ge,he){return(E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(_e,Le){return _e.__proto__=Le,_e})(ge,he)}function f(ge){if(void 0===ge)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ge}function k(ge){return(k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(he){return he.__proto__||Object.getPrototypeOf(he)})(ge)}function M(ge){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(he){return typeof he}:function(he){return he&&"function"==typeof Symbol&&he.constructor===Symbol&&he!==Symbol.prototype?"symbol":typeof he})(ge)}var y=r(95341),c=r(95280),i="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;B.Buffer=o,B.SlowBuffer=function(ge){return+ge!=ge&&(ge=0),o.alloc(+ge)},B.INSPECT_MAX_BYTES=50;var s=2147483647;function a(ge){if(ge>s)throw new RangeError('The value "'+ge+'" is invalid for option "size"');var he=new Uint8Array(ge);return Object.setPrototypeOf(he,o.prototype),he}function o(ge,he,_e){if("number"==typeof ge){if("string"==typeof he)throw new TypeError('The "string" argument must be of type string. Received type number');return h(ge)}return l(ge,he,_e)}function l(ge,he,_e){if("string"==typeof ge)return function(De,je){if("string"==typeof je&&""!==je||(je="utf8"),!o.isEncoding(je))throw new TypeError("Unknown encoding: "+je);var qe=0|_(De,je),ve=a(qe),Oe=ve.write(De,je);return Oe!==qe&&(ve=ve.slice(0,Oe)),ve}(ge,he);if(ArrayBuffer.isView(ge))return function(De){if(ye(De,Uint8Array)){var je=new Uint8Array(De);return p(je.buffer,je.byteOffset,je.byteLength)}return v(De)}(ge);if(null==ge)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+M(ge));if(ye(ge,ArrayBuffer)||ge&&ye(ge.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ye(ge,SharedArrayBuffer)||ge&&ye(ge.buffer,SharedArrayBuffer)))return p(ge,he,_e);if("number"==typeof ge)throw new TypeError('The "value" argument must not be of type number. Received type number');var Le=ge.valueOf&&ge.valueOf();if(null!=Le&&Le!==ge)return o.from(Le,he,_e);var Ie=function(De){if(o.isBuffer(De)){var je=0|T(De.length),qe=a(je);return 0===qe.length||De.copy(qe,0,0,je),qe}return void 0!==De.length?"number"!=typeof De.length||we(De.length)?a(0):v(De):"Buffer"===De.type&&Array.isArray(De.data)?v(De.data):void 0}(ge);if(Ie)return Ie;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof ge[Symbol.toPrimitive])return o.from(ge[Symbol.toPrimitive]("string"),he,_e);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+M(ge))}function u(ge){if("number"!=typeof ge)throw new TypeError('"size" argument must be of type number');if(ge<0)throw new RangeError('The value "'+ge+'" is invalid for option "size"')}function h(ge){return u(ge),a(ge<0?0:0|T(ge))}function v(ge){for(var he=ge.length<0?0:0|T(ge.length),_e=a(he),Le=0;Le<he;Le+=1)_e[Le]=255&ge[Le];return _e}function p(ge,he,_e){if(he<0||ge.byteLength<he)throw new RangeError('"offset" is outside of buffer bounds');if(ge.byteLength<he+(_e||0))throw new RangeError('"length" is outside of buffer bounds');var Le;return Le=void 0===he&&void 0===_e?new Uint8Array(ge):void 0===_e?new Uint8Array(ge,he):new Uint8Array(ge,he,_e),Object.setPrototypeOf(Le,o.prototype),Le}function T(ge){if(ge>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|ge}function _(ge,he){if(o.isBuffer(ge))return ge.length;if(ArrayBuffer.isView(ge)||ye(ge,ArrayBuffer))return ge.byteLength;if("string"!=typeof ge)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+M(ge));var _e=ge.length,Le=arguments.length>2&&!0===arguments[2];if(!Le&&0===_e)return 0;for(var Ie=!1;;)switch(he){case"ascii":case"latin1":case"binary":return _e;case"utf8":case"utf-8":return Me(ge).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*_e;case"hex":return _e>>>1;case"base64":return Ae(ge).length;default:if(Ie)return Le?-1:Me(ge).length;he=(""+he).toLowerCase(),Ie=!0}}function m(ge,he,_e){var Le=!1;if((void 0===he||he<0)&&(he=0),he>this.length||((void 0===_e||_e>this.length)&&(_e=this.length),_e<=0)||(_e>>>=0)<=(he>>>=0))return"";for(ge||(ge="utf8");;)switch(ge){case"hex":return F(this,he,_e);case"utf8":case"utf-8":return L(this,he,_e);case"ascii":return j(this,he,_e);case"latin1":case"binary":return X(this,he,_e);case"base64":return R(this,he,_e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Y(this,he,_e);default:if(Le)throw new TypeError("Unknown encoding: "+ge);ge=(ge+"").toLowerCase(),Le=!0}}function w(ge,he,_e){var Le=ge[he];ge[he]=ge[_e],ge[_e]=Le}function x(ge,he,_e,Le,Ie){if(0===ge.length)return-1;if("string"==typeof _e?(Le=_e,_e=0):_e>2147483647?_e=2147483647:_e<-2147483648&&(_e=-2147483648),we(_e=+_e)&&(_e=Ie?0:ge.length-1),_e<0&&(_e=ge.length+_e),_e>=ge.length){if(Ie)return-1;_e=ge.length-1}else if(_e<0){if(!Ie)return-1;_e=0}if("string"==typeof he&&(he=o.from(he,Le)),o.isBuffer(he))return 0===he.length?-1:b(ge,he,_e,Le,Ie);if("number"==typeof he)return he&=255,"function"==typeof Uint8Array.prototype.indexOf?Ie?Uint8Array.prototype.indexOf.call(ge,he,_e):Uint8Array.prototype.lastIndexOf.call(ge,he,_e):b(ge,[he],_e,Le,Ie);throw new TypeError("val must be string, number or Buffer")}function b(ge,he,_e,Le,Ie){var De,je=1,qe=ge.length,ve=he.length;if(void 0!==Le&&("ucs2"===(Le=String(Le).toLowerCase())||"ucs-2"===Le||"utf16le"===Le||"utf-16le"===Le)){if(ge.length<2||he.length<2)return-1;je=2,qe/=2,ve/=2,_e/=2}function Oe(Ge,Ke){return 1===je?Ge[Ke]:Ge.readUInt16BE(Ke*je)}if(Ie){var ke=-1;for(De=_e;De<qe;De++)if(Oe(ge,De)===Oe(he,-1===ke?0:De-ke)){if(-1===ke&&(ke=De),De-ke+1===ve)return ke*je}else-1!==ke&&(De-=De-ke),ke=-1}else for(_e+ve>qe&&(_e=qe-ve),De=_e;De>=0;De--){for(var Be=!0,We=0;We<ve;We++)if(Oe(ge,De+We)!==Oe(he,We)){Be=!1;break}if(Be)return De}return-1}function A(ge,he,_e,Le){_e=Number(_e)||0;var Ie=ge.length-_e;Le?(Le=Number(Le))>Ie&&(Le=Ie):Le=Ie;var De,je=he.length;for(Le>je/2&&(Le=je/2),De=0;De<Le;++De){var qe=parseInt(he.substr(2*De,2),16);if(we(qe))return De;ge[_e+De]=qe}return De}function g(ge,he,_e,Le){return be(Me(he,ge.length-_e),ge,_e,Le)}function I(ge,he,_e,Le){return be(function(Ie){for(var De=[],je=0;je<Ie.length;++je)De.push(255&Ie.charCodeAt(je));return De}(he),ge,_e,Le)}function S(ge,he,_e,Le){return be(Ae(he),ge,_e,Le)}function O(ge,he,_e,Le){return be(function(Ie,De){for(var je,qe,Oe=[],ke=0;ke<Ie.length&&!((De-=2)<0);++ke)qe=(je=Ie.charCodeAt(ke))>>8,Oe.push(je%256),Oe.push(qe);return Oe}(he,ge.length-_e),ge,_e,Le)}function R(ge,he,_e){return y.fromByteArray(0===he&&_e===ge.length?ge:ge.slice(he,_e))}function L(ge,he,_e){_e=Math.min(ge.length,_e);for(var Le=[],Ie=he;Ie<_e;){var De=ge[Ie],je=null,qe=De>239?4:De>223?3:De>191?2:1;if(Ie+qe<=_e){var ve=void 0,Oe=void 0,ke=void 0,Be=void 0;switch(qe){case 1:De<128&&(je=De);break;case 2:128==(192&(ve=ge[Ie+1]))&&(Be=(31&De)<<6|63&ve)>127&&(je=Be);break;case 3:Oe=ge[Ie+2],128==(192&(ve=ge[Ie+1]))&&128==(192&Oe)&&(Be=(15&De)<<12|(63&ve)<<6|63&Oe)>2047&&(Be<55296||Be>57343)&&(je=Be);break;case 4:Oe=ge[Ie+2],ke=ge[Ie+3],128==(192&(ve=ge[Ie+1]))&&128==(192&Oe)&&128==(192&ke)&&(Be=(15&De)<<18|(63&ve)<<12|(63&Oe)<<6|63&ke)>65535&&Be<1114112&&(je=Be)}}null===je?(je=65533,qe=1):je>65535&&(Le.push((je-=65536)>>>10&1023|55296),je=56320|1023&je),Le.push(je),Ie+=qe}return function(We){var Ge=We.length;if(Ge<=N)return String.fromCharCode.apply(String,We);for(var Ke="",et=0;et<Ge;)Ke+=String.fromCharCode.apply(String,We.slice(et,et+=N));return Ke}(Le)}B.kMaxLength=s,(o.TYPED_ARRAY_SUPPORT=function(){try{var ge=new Uint8Array(1),he={foo:function(){return 42}};return Object.setPrototypeOf(he,Uint8Array.prototype),Object.setPrototypeOf(ge,he),42===ge.foo()}catch{return!1}}())||typeof console>"u"||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}}),o.poolSize=8192,o.from=function(ge,he,_e){return l(ge,he,_e)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array),o.alloc=function(ge,he,_e){return Ie=he,De=_e,u(Le=ge),Le<=0?a(Le):void 0!==Ie?"string"==typeof De?a(Le).fill(Ie,De):a(Le).fill(Ie):a(Le);var Le,Ie,De},o.allocUnsafe=function(ge){return h(ge)},o.allocUnsafeSlow=function(ge){return h(ge)},o.isBuffer=function(ge){return null!=ge&&!0===ge._isBuffer&&ge!==o.prototype},o.compare=function(ge,he){if(ye(ge,Uint8Array)&&(ge=o.from(ge,ge.offset,ge.byteLength)),ye(he,Uint8Array)&&(he=o.from(he,he.offset,he.byteLength)),!o.isBuffer(ge)||!o.isBuffer(he))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(ge===he)return 0;for(var _e=ge.length,Le=he.length,Ie=0,De=Math.min(_e,Le);Ie<De;++Ie)if(ge[Ie]!==he[Ie]){_e=ge[Ie],Le=he[Ie];break}return _e<Le?-1:Le<_e?1:0},o.isEncoding=function(ge){switch(String(ge).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(ge,he){if(!Array.isArray(ge))throw new TypeError('"list" argument must be an Array of Buffers');if(0===ge.length)return o.alloc(0);var _e;if(void 0===he)for(he=0,_e=0;_e<ge.length;++_e)he+=ge[_e].length;var Le=o.allocUnsafe(he),Ie=0;for(_e=0;_e<ge.length;++_e){var De=ge[_e];if(ye(De,Uint8Array))Ie+De.length>Le.length?(o.isBuffer(De)||(De=o.from(De)),De.copy(Le,Ie)):Uint8Array.prototype.set.call(Le,De,Ie);else{if(!o.isBuffer(De))throw new TypeError('"list" argument must be an Array of Buffers');De.copy(Le,Ie)}Ie+=De.length}return Le},o.byteLength=_,o.prototype._isBuffer=!0,o.prototype.swap16=function(){var ge=this.length;if(ge%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var he=0;he<ge;he+=2)w(this,he,he+1);return this},o.prototype.swap32=function(){var ge=this.length;if(ge%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var he=0;he<ge;he+=4)w(this,he,he+3),w(this,he+1,he+2);return this},o.prototype.swap64=function(){var ge=this.length;if(ge%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var he=0;he<ge;he+=8)w(this,he,he+7),w(this,he+1,he+6),w(this,he+2,he+5),w(this,he+3,he+4);return this},o.prototype.toString=function(){var ge=this.length;return 0===ge?"":0===arguments.length?L(this,0,ge):m.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(ge){if(!o.isBuffer(ge))throw new TypeError("Argument must be a Buffer");return this===ge||0===o.compare(this,ge)},o.prototype.inspect=function(){var ge="",he=B.INSPECT_MAX_BYTES;return ge=this.toString("hex",0,he).replace(/(.{2})/g,"$1 ").trim(),this.length>he&&(ge+=" ... "),"<Buffer "+ge+">"},i&&(o.prototype[i]=o.prototype.inspect),o.prototype.compare=function(ge,he,_e,Le,Ie){if(ye(ge,Uint8Array)&&(ge=o.from(ge,ge.offset,ge.byteLength)),!o.isBuffer(ge))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+M(ge));if(void 0===he&&(he=0),void 0===_e&&(_e=ge?ge.length:0),void 0===Le&&(Le=0),void 0===Ie&&(Ie=this.length),he<0||_e>ge.length||Le<0||Ie>this.length)throw new RangeError("out of range index");if(Le>=Ie&&he>=_e)return 0;if(Le>=Ie)return-1;if(he>=_e)return 1;if(this===ge)return 0;for(var De=(Ie>>>=0)-(Le>>>=0),je=(_e>>>=0)-(he>>>=0),qe=Math.min(De,je),ve=this.slice(Le,Ie),Oe=ge.slice(he,_e),ke=0;ke<qe;++ke)if(ve[ke]!==Oe[ke]){De=ve[ke],je=Oe[ke];break}return De<je?-1:je<De?1:0},o.prototype.includes=function(ge,he,_e){return-1!==this.indexOf(ge,he,_e)},o.prototype.indexOf=function(ge,he,_e){return x(this,ge,he,_e,!0)},o.prototype.lastIndexOf=function(ge,he,_e){return x(this,ge,he,_e,!1)},o.prototype.write=function(ge,he,_e,Le){if(void 0===he)Le="utf8",_e=this.length,he=0;else if(void 0===_e&&"string"==typeof he)Le=he,_e=this.length,he=0;else{if(!isFinite(he))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");he>>>=0,isFinite(_e)?(_e>>>=0,void 0===Le&&(Le="utf8")):(Le=_e,_e=void 0)}var Ie=this.length-he;if((void 0===_e||_e>Ie)&&(_e=Ie),ge.length>0&&(_e<0||he<0)||he>this.length)throw new RangeError("Attempt to write outside buffer bounds");Le||(Le="utf8");for(var De=!1;;)switch(Le){case"hex":return A(this,ge,he,_e);case"utf8":case"utf-8":return g(this,ge,he,_e);case"ascii":case"latin1":case"binary":return I(this,ge,he,_e);case"base64":return S(this,ge,he,_e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,ge,he,_e);default:if(De)throw new TypeError("Unknown encoding: "+Le);Le=(""+Le).toLowerCase(),De=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var N=4096;function j(ge,he,_e){var Le="";_e=Math.min(ge.length,_e);for(var Ie=he;Ie<_e;++Ie)Le+=String.fromCharCode(127&ge[Ie]);return Le}function X(ge,he,_e){var Le="";_e=Math.min(ge.length,_e);for(var Ie=he;Ie<_e;++Ie)Le+=String.fromCharCode(ge[Ie]);return Le}function F(ge,he,_e){var Le=ge.length;(!he||he<0)&&(he=0),(!_e||_e<0||_e>Le)&&(_e=Le);for(var Ie="",De=he;De<_e;++De)Ie+=ze[ge[De]];return Ie}function Y(ge,he,_e){for(var Le=ge.slice(he,_e),Ie="",De=0;De<Le.length-1;De+=2)Ie+=String.fromCharCode(Le[De]+256*Le[De+1]);return Ie}function G(ge,he,_e){if(ge%1!=0||ge<0)throw new RangeError("offset is not uint");if(ge+he>_e)throw new RangeError("Trying to access beyond buffer length")}function H(ge,he,_e,Le,Ie,De){if(!o.isBuffer(ge))throw new TypeError('"buffer" argument must be a Buffer instance');if(he>Ie||he<De)throw new RangeError('"value" argument is out of bounds');if(_e+Le>ge.length)throw new RangeError("Index out of range")}function W(ge,he,_e,Le,Ie){ce(he,Le,Ie,ge,_e,7);var De=Number(he&BigInt(4294967295));ge[_e++]=De,ge[_e++]=De>>=8,ge[_e++]=De>>=8,ge[_e++]=De>>=8;var je=Number(he>>BigInt(32)&BigInt(4294967295));return ge[_e++]=je,ge[_e++]=je>>=8,ge[_e++]=je>>=8,ge[_e++]=je>>=8,_e}function Z(ge,he,_e,Le,Ie){ce(he,Le,Ie,ge,_e,7);var De=Number(he&BigInt(4294967295));ge[_e+7]=De,ge[_e+6]=De>>=8,ge[_e+5]=De>>=8,ge[_e+4]=De>>=8;var je=Number(he>>BigInt(32)&BigInt(4294967295));return ge[_e+3]=je,ge[_e+2]=je>>=8,ge[_e+1]=je>>=8,ge[_e]=je>>=8,_e+8}function se(ge,he,_e,Le,Ie,De){if(_e+Le>ge.length)throw new RangeError("Index out of range");if(_e<0)throw new RangeError("Index out of range")}function re(ge,he,_e,Le,Ie){return he=+he,_e>>>=0,Ie||se(ge,0,_e,4),c.write(ge,he,_e,Le,23,4),_e+4}function ne(ge,he,_e,Le,Ie){return he=+he,_e>>>=0,Ie||se(ge,0,_e,8),c.write(ge,he,_e,Le,52,8),_e+8}o.prototype.slice=function(ge,he){var _e=this.length;(ge=~~ge)<0?(ge+=_e)<0&&(ge=0):ge>_e&&(ge=_e),(he=void 0===he?_e:~~he)<0?(he+=_e)<0&&(he=0):he>_e&&(he=_e),he<ge&&(he=ge);var Le=this.subarray(ge,he);return Object.setPrototypeOf(Le,o.prototype),Le},o.prototype.readUintLE=o.prototype.readUIntLE=function(ge,he,_e){ge>>>=0,he>>>=0,_e||G(ge,he,this.length);for(var Le=this[ge],Ie=1,De=0;++De<he&&(Ie*=256);)Le+=this[ge+De]*Ie;return Le},o.prototype.readUintBE=o.prototype.readUIntBE=function(ge,he,_e){ge>>>=0,he>>>=0,_e||G(ge,he,this.length);for(var Le=this[ge+--he],Ie=1;he>0&&(Ie*=256);)Le+=this[ge+--he]*Ie;return Le},o.prototype.readUint8=o.prototype.readUInt8=function(ge,he){return ge>>>=0,he||G(ge,1,this.length),this[ge]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(ge,he){return ge>>>=0,he||G(ge,2,this.length),this[ge]|this[ge+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(ge,he){return ge>>>=0,he||G(ge,2,this.length),this[ge]<<8|this[ge+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(ge,he){return ge>>>=0,he||G(ge,4,this.length),(this[ge]|this[ge+1]<<8|this[ge+2]<<16)+16777216*this[ge+3]},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(ge,he){return ge>>>=0,he||G(ge,4,this.length),16777216*this[ge]+(this[ge+1]<<16|this[ge+2]<<8|this[ge+3])},o.prototype.readBigUInt64LE=Se(function(ge){fe(ge>>>=0,"offset");var he=this[ge],_e=this[ge+7];void 0!==he&&void 0!==_e||le(ge,this.length-8);var Le=he+this[++ge]*Math.pow(2,8)+this[++ge]*Math.pow(2,16)+this[++ge]*Math.pow(2,24),Ie=this[++ge]+this[++ge]*Math.pow(2,8)+this[++ge]*Math.pow(2,16)+_e*Math.pow(2,24);return BigInt(Le)+(BigInt(Ie)<<BigInt(32))}),o.prototype.readBigUInt64BE=Se(function(ge){fe(ge>>>=0,"offset");var he=this[ge],_e=this[ge+7];void 0!==he&&void 0!==_e||le(ge,this.length-8);var Le=he*Math.pow(2,24)+this[++ge]*Math.pow(2,16)+this[++ge]*Math.pow(2,8)+this[++ge],Ie=this[++ge]*Math.pow(2,24)+this[++ge]*Math.pow(2,16)+this[++ge]*Math.pow(2,8)+_e;return(BigInt(Le)<<BigInt(32))+BigInt(Ie)}),o.prototype.readIntLE=function(ge,he,_e){ge>>>=0,he>>>=0,_e||G(ge,he,this.length);for(var Le=this[ge],Ie=1,De=0;++De<he&&(Ie*=256);)Le+=this[ge+De]*Ie;return Le>=(Ie*=128)&&(Le-=Math.pow(2,8*he)),Le},o.prototype.readIntBE=function(ge,he,_e){ge>>>=0,he>>>=0,_e||G(ge,he,this.length);for(var Le=he,Ie=1,De=this[ge+--Le];Le>0&&(Ie*=256);)De+=this[ge+--Le]*Ie;return De>=(Ie*=128)&&(De-=Math.pow(2,8*he)),De},o.prototype.readInt8=function(ge,he){return ge>>>=0,he||G(ge,1,this.length),128&this[ge]?-1*(255-this[ge]+1):this[ge]},o.prototype.readInt16LE=function(ge,he){ge>>>=0,he||G(ge,2,this.length);var _e=this[ge]|this[ge+1]<<8;return 32768&_e?4294901760|_e:_e},o.prototype.readInt16BE=function(ge,he){ge>>>=0,he||G(ge,2,this.length);var _e=this[ge+1]|this[ge]<<8;return 32768&_e?4294901760|_e:_e},o.prototype.readInt32LE=function(ge,he){return ge>>>=0,he||G(ge,4,this.length),this[ge]|this[ge+1]<<8|this[ge+2]<<16|this[ge+3]<<24},o.prototype.readInt32BE=function(ge,he){return ge>>>=0,he||G(ge,4,this.length),this[ge]<<24|this[ge+1]<<16|this[ge+2]<<8|this[ge+3]},o.prototype.readBigInt64LE=Se(function(ge){fe(ge>>>=0,"offset");var he=this[ge],_e=this[ge+7];void 0!==he&&void 0!==_e||le(ge,this.length-8);var Le=this[ge+4]+this[ge+5]*Math.pow(2,8)+this[ge+6]*Math.pow(2,16)+(_e<<24);return(BigInt(Le)<<BigInt(32))+BigInt(he+this[++ge]*Math.pow(2,8)+this[++ge]*Math.pow(2,16)+this[++ge]*Math.pow(2,24))}),o.prototype.readBigInt64BE=Se(function(ge){fe(ge>>>=0,"offset");var he=this[ge],_e=this[ge+7];void 0!==he&&void 0!==_e||le(ge,this.length-8);var Le=(he<<24)+this[++ge]*Math.pow(2,16)+this[++ge]*Math.pow(2,8)+this[++ge];return(BigInt(Le)<<BigInt(32))+BigInt(this[++ge]*Math.pow(2,24)+this[++ge]*Math.pow(2,16)+this[++ge]*Math.pow(2,8)+_e)}),o.prototype.readFloatLE=function(ge,he){return ge>>>=0,he||G(ge,4,this.length),c.read(this,ge,!0,23,4)},o.prototype.readFloatBE=function(ge,he){return ge>>>=0,he||G(ge,4,this.length),c.read(this,ge,!1,23,4)},o.prototype.readDoubleLE=function(ge,he){return ge>>>=0,he||G(ge,8,this.length),c.read(this,ge,!0,52,8)},o.prototype.readDoubleBE=function(ge,he){return ge>>>=0,he||G(ge,8,this.length),c.read(this,ge,!1,52,8)},o.prototype.writeUintLE=o.prototype.writeUIntLE=function(ge,he,_e,Le){ge=+ge,he>>>=0,_e>>>=0,Le||H(this,ge,he,_e,Math.pow(2,8*_e)-1,0);var Ie=1,De=0;for(this[he]=255&ge;++De<_e&&(Ie*=256);)this[he+De]=ge/Ie&255;return he+_e},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(ge,he,_e,Le){ge=+ge,he>>>=0,_e>>>=0,Le||H(this,ge,he,_e,Math.pow(2,8*_e)-1,0);var Ie=_e-1,De=1;for(this[he+Ie]=255&ge;--Ie>=0&&(De*=256);)this[he+Ie]=ge/De&255;return he+_e},o.prototype.writeUint8=o.prototype.writeUInt8=function(ge,he,_e){return ge=+ge,he>>>=0,_e||H(this,ge,he,1,255,0),this[he]=255&ge,he+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(ge,he,_e){return ge=+ge,he>>>=0,_e||H(this,ge,he,2,65535,0),this[he]=255&ge,this[he+1]=ge>>>8,he+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(ge,he,_e){return ge=+ge,he>>>=0,_e||H(this,ge,he,2,65535,0),this[he]=ge>>>8,this[he+1]=255&ge,he+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(ge,he,_e){return ge=+ge,he>>>=0,_e||H(this,ge,he,4,4294967295,0),this[he+3]=ge>>>24,this[he+2]=ge>>>16,this[he+1]=ge>>>8,this[he]=255&ge,he+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(ge,he,_e){return ge=+ge,he>>>=0,_e||H(this,ge,he,4,4294967295,0),this[he]=ge>>>24,this[he+1]=ge>>>16,this[he+2]=ge>>>8,this[he+3]=255&ge,he+4},o.prototype.writeBigUInt64LE=Se(function(ge){return W(this,ge,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeBigUInt64BE=Se(function(ge){return Z(this,ge,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeIntLE=function(ge,he,_e,Le){if(ge=+ge,he>>>=0,!Le){var Ie=Math.pow(2,8*_e-1);H(this,ge,he,_e,Ie-1,-Ie)}var De=0,je=1,qe=0;for(this[he]=255&ge;++De<_e&&(je*=256);)ge<0&&0===qe&&0!==this[he+De-1]&&(qe=1),this[he+De]=(ge/je>>0)-qe&255;return he+_e},o.prototype.writeIntBE=function(ge,he,_e,Le){if(ge=+ge,he>>>=0,!Le){var Ie=Math.pow(2,8*_e-1);H(this,ge,he,_e,Ie-1,-Ie)}var De=_e-1,je=1,qe=0;for(this[he+De]=255&ge;--De>=0&&(je*=256);)ge<0&&0===qe&&0!==this[he+De+1]&&(qe=1),this[he+De]=(ge/je>>0)-qe&255;return he+_e},o.prototype.writeInt8=function(ge,he,_e){return ge=+ge,he>>>=0,_e||H(this,ge,he,1,127,-128),ge<0&&(ge=255+ge+1),this[he]=255&ge,he+1},o.prototype.writeInt16LE=function(ge,he,_e){return ge=+ge,he>>>=0,_e||H(this,ge,he,2,32767,-32768),this[he]=255&ge,this[he+1]=ge>>>8,he+2},o.prototype.writeInt16BE=function(ge,he,_e){return ge=+ge,he>>>=0,_e||H(this,ge,he,2,32767,-32768),this[he]=ge>>>8,this[he+1]=255&ge,he+2},o.prototype.writeInt32LE=function(ge,he,_e){return ge=+ge,he>>>=0,_e||H(this,ge,he,4,2147483647,-2147483648),this[he]=255&ge,this[he+1]=ge>>>8,this[he+2]=ge>>>16,this[he+3]=ge>>>24,he+4},o.prototype.writeInt32BE=function(ge,he,_e){return ge=+ge,he>>>=0,_e||H(this,ge,he,4,2147483647,-2147483648),ge<0&&(ge=4294967295+ge+1),this[he]=ge>>>24,this[he+1]=ge>>>16,this[he+2]=ge>>>8,this[he+3]=255&ge,he+4},o.prototype.writeBigInt64LE=Se(function(ge){return W(this,ge,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),o.prototype.writeBigInt64BE=Se(function(ge){return Z(this,ge,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),o.prototype.writeFloatLE=function(ge,he,_e){return re(this,ge,he,!0,_e)},o.prototype.writeFloatBE=function(ge,he,_e){return re(this,ge,he,!1,_e)},o.prototype.writeDoubleLE=function(ge,he,_e){return ne(this,ge,he,!0,_e)},o.prototype.writeDoubleBE=function(ge,he,_e){return ne(this,ge,he,!1,_e)},o.prototype.copy=function(ge,he,_e,Le){if(!o.isBuffer(ge))throw new TypeError("argument should be a Buffer");if(_e||(_e=0),Le||0===Le||(Le=this.length),he>=ge.length&&(he=ge.length),he||(he=0),Le>0&&Le<_e&&(Le=_e),Le===_e||0===ge.length||0===this.length)return 0;if(he<0)throw new RangeError("targetStart out of bounds");if(_e<0||_e>=this.length)throw new RangeError("Index out of range");if(Le<0)throw new RangeError("sourceEnd out of bounds");Le>this.length&&(Le=this.length),ge.length-he<Le-_e&&(Le=ge.length-he+_e);var Ie=Le-_e;return this===ge&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(he,_e,Le):Uint8Array.prototype.set.call(ge,this.subarray(_e,Le),he),Ie},o.prototype.fill=function(ge,he,_e,Le){if("string"==typeof ge){if("string"==typeof he?(Le=he,he=0,_e=this.length):"string"==typeof _e&&(Le=_e,_e=this.length),void 0!==Le&&"string"!=typeof Le)throw new TypeError("encoding must be a string");if("string"==typeof Le&&!o.isEncoding(Le))throw new TypeError("Unknown encoding: "+Le);if(1===ge.length){var Ie=ge.charCodeAt(0);("utf8"===Le&&Ie<128||"latin1"===Le)&&(ge=Ie)}}else"number"==typeof ge?ge&=255:"boolean"==typeof ge&&(ge=Number(ge));if(he<0||this.length<he||this.length<_e)throw new RangeError("Out of range index");if(_e<=he)return this;var De;if(he>>>=0,_e=void 0===_e?this.length:_e>>>0,ge||(ge=0),"number"==typeof ge)for(De=he;De<_e;++De)this[De]=ge;else{var je=o.isBuffer(ge)?ge:o.from(ge,Le),qe=je.length;if(0===qe)throw new TypeError('The value "'+ge+'" is invalid for argument "value"');for(De=0;De<_e-he;++De)this[De+he]=je[De%qe]}return this};var Q={};function ee(ge,he,_e){Q[ge]=function(Le){!function(ke,Be){if("function"!=typeof Be&&null!==Be)throw new TypeError("Super expression must either be null or a function");ke.prototype=Object.create(Be&&Be.prototype,{constructor:{value:ke,writable:!0,configurable:!0}}),Object.defineProperty(ke,"prototype",{writable:!1}),Be&&E(ke,Be)}(Oe,Le);var Ie,De,je,qe,ve=(je=Oe,qe=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var ke,Be=k(je);if(qe){var We=k(this).constructor;ke=Reflect.construct(Be,arguments,We)}else ke=Be.apply(this,arguments);return function(Ge,Ke){if(Ke&&("object"===M(Ke)||"function"==typeof Ke))return Ke;if(void 0!==Ke)throw new TypeError("Derived constructors may only return object or undefined");return f(Ge)}(this,ke)});function Oe(){var ke;return function(Be,We){if(!(Be instanceof We))throw new TypeError("Cannot call a class as a function")}(this,Oe),ke=ve.call(this),Object.defineProperty(f(ke),"message",{value:he.apply(f(ke),arguments),writable:!0,configurable:!0}),ke.name="".concat(ke.name," [").concat(ge,"]"),delete ke.name,ke}return Ie=Oe,(De=[{key:"code",get:function(){return ge},set:function(ke){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ke,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(ge,"]: ").concat(this.message)}}])&&function D(ge,he){for(var _e=0;_e<he.length;_e++){var Le=he[_e];Le.enumerable=Le.enumerable||!1,Le.configurable=!0,"value"in Le&&(Le.writable=!0),Object.defineProperty(ge,(Ie=function(De,je){if("object"!==M(De)||null===De)return De;var qe=De[Symbol.toPrimitive];if(void 0!==qe){var ve=qe.call(De,"string");if("object"!==M(ve))return ve;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(De)}(Le.key),"symbol"===M(Ie)?Ie:String(Ie)),Le)}var Ie}(Ie.prototype,De),Object.defineProperty(Ie,"prototype",{writable:!1}),Oe}(_e)}function oe(ge){for(var he="",_e=ge.length,Le="-"===ge[0]?1:0;_e>=Le+4;_e-=3)he="_".concat(ge.slice(_e-3,_e)).concat(he);return"".concat(ge.slice(0,_e)).concat(he)}function ce(ge,he,_e,Le,Ie,De){if(ge>_e||ge<he){var je,qe="bigint"==typeof he?"n":"";throw je=De>3?0===he||he===BigInt(0)?">= 0".concat(qe," and < 2").concat(qe," ** ").concat(8*(De+1)).concat(qe):">= -(2".concat(qe," ** ").concat(8*(De+1)-1).concat(qe,") and < 2 ** ")+"".concat(8*(De+1)-1).concat(qe):">= ".concat(he).concat(qe," and <= ").concat(_e).concat(qe),new Q.ERR_OUT_OF_RANGE("value",je,ge)}var ve,Oe,ke;ve=Le,ke=De,fe(Oe=Ie,"offset"),void 0!==ve[Oe]&&void 0!==ve[Oe+ke]||le(Oe,ve.length-(ke+1))}function fe(ge,he){if("number"!=typeof ge)throw new Q.ERR_INVALID_ARG_TYPE(he,"number",ge)}function le(ge,he,_e){throw Math.floor(ge)!==ge?(fe(ge,_e),new Q.ERR_OUT_OF_RANGE(_e||"offset","an integer",ge)):he<0?new Q.ERR_BUFFER_OUT_OF_BOUNDS:new Q.ERR_OUT_OF_RANGE(_e||"offset",">= ".concat(_e?1:0," and <= ").concat(he),ge)}ee("ERR_BUFFER_OUT_OF_BOUNDS",function(ge){return ge?"".concat(ge," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),ee("ERR_INVALID_ARG_TYPE",function(ge,he){return'The "'.concat(ge,'" argument must be of type number. Received type ').concat(M(he))},TypeError),ee("ERR_OUT_OF_RANGE",function(ge,he,_e){var Le='The value of "'.concat(ge,'" is out of range.'),Ie=_e;return Number.isInteger(_e)&&Math.abs(_e)>Math.pow(2,32)?Ie=oe(String(_e)):"bigint"==typeof _e&&(Ie=String(_e),(_e>Math.pow(BigInt(2),BigInt(32))||_e<-Math.pow(BigInt(2),BigInt(32)))&&(Ie=oe(Ie)),Ie+="n"),Le+" It must be ".concat(he,". Received ").concat(Ie)},RangeError);var pe=/[^+/0-9A-Za-z-_]/g;function Me(ge,he){var _e;he=he||1/0;for(var Le=ge.length,Ie=null,De=[],je=0;je<Le;++je){if((_e=ge.charCodeAt(je))>55295&&_e<57344){if(!Ie){if(_e>56319){(he-=3)>-1&&De.push(239,191,189);continue}if(je+1===Le){(he-=3)>-1&&De.push(239,191,189);continue}Ie=_e;continue}if(_e<56320){(he-=3)>-1&&De.push(239,191,189),Ie=_e;continue}_e=65536+(Ie-55296<<10|_e-56320)}else Ie&&(he-=3)>-1&&De.push(239,191,189);if(Ie=null,_e<128){if((he-=1)<0)break;De.push(_e)}else if(_e<2048){if((he-=2)<0)break;De.push(_e>>6|192,63&_e|128)}else if(_e<65536){if((he-=3)<0)break;De.push(_e>>12|224,_e>>6&63|128,63&_e|128)}else{if(!(_e<1114112))throw new Error("Invalid code point");if((he-=4)<0)break;De.push(_e>>18|240,_e>>12&63|128,_e>>6&63|128,63&_e|128)}}return De}function Ae(ge){return y.toByteArray(function(he){if((he=(he=he.split("=")[0]).trim().replace(pe,"")).length<2)return"";for(;he.length%4!=0;)he+="=";return he}(ge))}function be(ge,he,_e,Le){var Ie;for(Ie=0;Ie<Le&&!(Ie+_e>=he.length||Ie>=ge.length);++Ie)he[Ie+_e]=ge[Ie];return Ie}function ye(ge,he){return ge instanceof he||null!=ge&&null!=ge.constructor&&null!=ge.constructor.name&&ge.constructor.name===he.name}function we(ge){return ge!=ge}var ze=function(){for(var ge="0123456789abcdef",he=new Array(256),_e=0;_e<16;++_e)for(var Le=16*_e,Ie=0;Ie<16;++Ie)he[Le+Ie]=ge[_e]+ge[Ie];return he}();function Se(ge){return typeof BigInt>"u"?Ce:ge}function Ce(){throw new Error("BigInt not supported")}},35791:function(ae){"use strict";ae.exports=E,ae.exports.isMobile=E,ae.exports.default=E;var B=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,r=/CrOS/,D=/android|ipad|playbook|silk/i;function E(f){f||(f={});var k=f.ua;if(k||typeof navigator>"u"||(k=navigator.userAgent),k&&k.headers&&"string"==typeof k.headers["user-agent"]&&(k=k.headers["user-agent"]),"string"!=typeof k)return!1;var M=B.test(k)&&!r.test(k)||!!f.tablet&&D.test(k);return!M&&f.tablet&&f.featureDetect&&navigator&&navigator.maxTouchPoints>1&&-1!==k.indexOf("Macintosh")&&-1!==k.indexOf("Safari")&&(M=!0),M}},86781:function(ae,B,r){"use strict";r.r(B),r.d(B,{sankeyCenter:function(){return a},sankeyCircular:function(){return R},sankeyJustify:function(){return s},sankeyLeft:function(){return c},sankeyRight:function(){return i}});var D=r(33064),E=r(15140),f=r(45879),k=r(2502),M=r.n(k);function y(be){return be.target.depth}function c(be){return be.depth}function i(be,ye){return ye-1-be.height}function s(be,ye){return be.sourceLinks.length?be.depth:ye-1}function a(be){return be.targetLinks.length?be.depth:be.sourceLinks.length?(0,D.VV)(be.sourceLinks,y)-1:0}function o(be){return function(){return be}}var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(be){return typeof be}:function(be){return be&&"function"==typeof Symbol&&be.constructor===Symbol&&be!==Symbol.prototype?"symbol":typeof be};function u(be,ye){return v(be.source,ye.source)||be.index-ye.index}function h(be,ye){return v(be.target,ye.target)||be.index-ye.index}function v(be,ye){return be.partOfCycle===ye.partOfCycle?be.y0-ye.y0:"top"===be.circularLinkType||"bottom"===ye.circularLinkType?-1:1}function p(be){return be.value}function T(be){return(be.y0+be.y1)/2}function _(be){return T(be.source)}function m(be){return T(be.target)}function w(be){return be.index}function x(be){return be.nodes}function b(be){return be.links}function A(be,ye){var we=be.get(ye);if(!we)throw new Error("missing: "+ye);return we}function g(be,ye){return ye(be)}var I=25,S=10,O=.3;function R(){var be,ye,we=0,ze=0,Se=1,Ce=1,ge=24,he=w,_e=s,Le=x,Ie=b,De=32,je=2,qe=null;function ve(){var ke={nodes:Le.apply(null,arguments),links:Ie.apply(null,arguments)};(function(We){We.nodes.forEach(function(Ke,et){Ke.index=et,Ke.sourceLinks=[],Ke.targetLinks=[]});var Ge=(0,E.UI)(We.nodes,he);We.links.forEach(function(Ke,et){Ke.index=et;var at=Ke.source,mt=Ke.target;"object"!==(void 0===at?"undefined":l(at))&&(at=Ke.source=A(Ge,at)),"object"!==(void 0===mt?"undefined":l(mt))&&(mt=Ke.target=A(Ge,mt)),at.sourceLinks.push(Ke),mt.targetLinks.push(Ke)})})(ke),function(We,Ge,Ke){var et=0;if(null===Ke){for(var at=[],mt=0;mt<We.links.length;mt++){var ct=We.links[mt],kt=ct.source.index,Dt=ct.target.index;at[kt]||(at[kt]=[]),at[Dt]||(at[Dt]=[]),-1===at[kt].indexOf(Dt)&&at[kt].push(Dt)}var Et=M()(at);Et.sort(function(Pt,zt){return Pt.length-zt.length});var ht={};for(mt=0;mt<Et.length;mt++){var pt=Et[mt].slice(-2);ht[pt[0]]||(ht[pt[0]]={}),ht[pt[0]][pt[1]]=!0}We.links.forEach(function(Pt){var zt=Pt.target.index,Ht=Pt.source.index;zt===Ht||ht[Ht]&&ht[Ht][zt]?(Pt.circular=!0,Pt.circularLinkID=et,et+=1):Pt.circular=!1})}else We.links.forEach(function(Pt){Pt.source[Ke]<Pt.target[Ke]?Pt.circular=!1:(Pt.circular=!0,Pt.circularLinkID=et,et+=1)})}(ke,0,qe),ke.nodes.forEach(function(Ge){Ge.partOfCycle=!1,Ge.value=Math.max((0,D.Sm)(Ge.sourceLinks,p),(0,D.Sm)(Ge.targetLinks,p)),Ge.sourceLinks.forEach(function(Ke){Ke.circular&&(Ge.partOfCycle=!0,Ge.circularLinkType=Ke.circularLinkType)}),Ge.targetLinks.forEach(function(Ke){Ke.circular&&(Ge.partOfCycle=!0,Ge.circularLinkType=Ke.circularLinkType)})}),function(We){var Ge,Ke,et;for(Ge=We.nodes,Ke=[],et=0;Ge.length;++et,Ge=Ke,Ke=[])Ge.forEach(function(at){at.depth=et,at.sourceLinks.forEach(function(mt){Ke.indexOf(mt.target)<0&&!mt.circular&&Ke.push(mt.target)})});for(Ge=We.nodes,Ke=[],et=0;Ge.length;++et,Ge=Ke,Ke=[])Ge.forEach(function(at){at.height=et,at.targetLinks.forEach(function(mt){Ke.indexOf(mt.source)<0&&!mt.circular&&Ke.push(mt.source)})});We.nodes.forEach(function(at){at.column=Math.floor(_e.call(null,at,et))})}(ke),L(ke,he),function(We,Ge,Ke){var et=(0,E.b1)().key(function(Dt){return Dt.column}).sortKeys(D.j2).entries(We.nodes).map(function(Dt){return Dt.values});(function(Dt){if(ye){var Et=1/0;et.forEach(function(zt){var Ht=Ce*ye/(zt.length+1);Et=Ht<Et?Ht:Et}),be=Et}var ht=(0,D.VV)(et,function(zt){return(Ce-ze-(zt.length-1)*be)/(0,D.Sm)(zt,p)});ht*=O,We.links.forEach(function(zt){zt.width=zt.value*ht});var zt,Ht,Lt,tt,it,Je,pt=(Ht=0,Lt=0,tt=0,it=0,Je=(0,D.Fp)((zt=We).nodes,function(ot){return ot.column}),zt.links.forEach(function(ot){ot.circular&&("top"==ot.circularLinkType?Ht+=ot.width:Lt+=ot.width,0==ot.target.column&&(it+=ot.width),ot.source.column==Je&&(tt+=ot.width))}),{top:Ht=Ht>0?Ht+I+S:Ht,bottom:Lt=Lt>0?Lt+I+S:Lt,left:it=it>0?it+I+S:it,right:tt=tt>0?tt+I+S:tt}),Pt=function(zt,Ht){var Lt=(0,D.Fp)(zt.nodes,function(gt){return gt.column}),tt=Se-we,it=Ce-ze,Je=tt/(tt+Ht.right+Ht.left),ot=it/(it+Ht.top+Ht.bottom);return we=we*Je+Ht.left,Se=0==Ht.right?Se:Se*Je,ze=ze*ot+Ht.top,Ce*=ot,zt.nodes.forEach(function(gt){gt.x0=we+gt.column*((Se-we-ge)/Lt),gt.x1=gt.x0+ge}),ot}(We,pt);ht*=Pt,We.links.forEach(function(zt){zt.width=zt.value*ht}),et.forEach(function(zt){var Ht=zt.length;zt.forEach(function(Lt,tt){Lt.depth==et.length-1&&1==Ht||0==Lt.depth&&1==Ht?(Lt.y0=Ce/2-Lt.value*ht,Lt.y1=Lt.y0+Lt.value*ht):Lt.partOfCycle?0==j(Lt,Dt)?(Lt.y0=Ce/2+tt,Lt.y1=Lt.y0+Lt.value*ht):"top"==Lt.circularLinkType?(Lt.y0=ze+tt,Lt.y1=Lt.y0+Lt.value*ht):(Lt.y0=Ce-Lt.value*ht-tt,Lt.y1=Lt.y0+Lt.value*ht):0==pt.top||0==pt.bottom?(Lt.y0=(Ce-ze)/Ht*tt,Lt.y1=Lt.y0+Lt.value*ht):(Lt.y0=(Ce-ze)/2-Ht/2+tt,Lt.y1=Lt.y0+Lt.value*ht)})})})(Ke),kt();for(var at=1,mt=Ge;mt>0;--mt)ct(at*=.99,Ke),kt();function ct(Dt,Et){var ht=et.length;et.forEach(function(pt){var Pt=pt.length,zt=pt[0].depth;pt.forEach(function(Ht){var Lt;if((Ht.sourceLinks.length||Ht.targetLinks.length)&&!(Ht.partOfCycle&&j(Ht,Et)>0))if(0==zt&&1==Pt)Ht.y0=Ce/2-(Lt=Ht.y1-Ht.y0)/2,Ht.y1=Ce/2+Lt/2;else if(zt==ht-1&&1==Pt)Ht.y0=Ce/2-(Lt=Ht.y1-Ht.y0)/2,Ht.y1=Ce/2+Lt/2;else{var tt=(0,D.J6)(Ht.sourceLinks,m),it=(0,D.J6)(Ht.targetLinks,_),Je=((tt&&it?(tt+it)/2:tt||it)-T(Ht))*Dt;Ht.y0+=Je,Ht.y1+=Je}})})}function kt(){et.forEach(function(Dt){var Et,ht,pt,Pt=ze,zt=Dt.length;for(Dt.sort(v),pt=0;pt<zt;++pt)(ht=Pt-(Et=Dt[pt]).y0)>0&&(Et.y0+=ht,Et.y1+=ht),Pt=Et.y1+be;if((ht=Pt-be-Ce)>0)for(Pt=Et.y0-=ht,Et.y1-=ht,pt=zt-2;pt>=0;--pt)(ht=(Et=Dt[pt]).y1+be-Pt)>0&&(Et.y0-=ht,Et.y1-=ht),Pt=Et.y0})}}(ke,De,he),Oe(ke);for(var Be=0;Be<4;Be++)fe(ke,Ce,he),le(ke,0,he),oe(ke,ze,Ce,he),fe(ke,Ce,he),le(ke,0,he);return function(We,Ge,Ke){var et=We.nodes,at=We.links,mt=!1,ct=!1;if(at.forEach(function(Et){"top"==Et.circularLinkType?mt=!0:"bottom"==Et.circularLinkType&&(ct=!0)}),0==mt||0==ct){var kt=(0,D.VV)(et,function(Et){return Et.y0}),Dt=(Ke-Ge)/((0,D.Fp)(et,function(Et){return Et.y1})-kt);et.forEach(function(Et){var ht=(Et.y1-Et.y0)*Dt;Et.y0=(Et.y0-kt)*Dt,Et.y1=Et.y0+ht}),at.forEach(function(Et){Et.y0=(Et.y0-kt)*Dt,Et.y1=(Et.y1-kt)*Dt,Et.width=Et.width*Dt})}}(ke,ze,Ce),Y(ke,je,Ce,he),ke}function Oe(ke){ke.nodes.forEach(function(Be){Be.sourceLinks.sort(h),Be.targetLinks.sort(u)}),ke.nodes.forEach(function(Be){var We=Be.y0,Ge=We,Ke=Be.y1,et=Ke;Be.sourceLinks.forEach(function(at){at.circular?(at.y0=Ke-at.width/2,Ke-=at.width):(at.y0=We+at.width/2,We+=at.width)}),Be.targetLinks.forEach(function(at){at.circular?(at.y1=et-at.width/2,et-=at.width):(at.y1=Ge+at.width/2,Ge+=at.width)})})}return ve.nodeId=function(ke){return arguments.length?(he="function"==typeof ke?ke:o(ke),ve):he},ve.nodeAlign=function(ke){return arguments.length?(_e="function"==typeof ke?ke:o(ke),ve):_e},ve.nodeWidth=function(ke){return arguments.length?(ge=+ke,ve):ge},ve.nodePadding=function(ke){return arguments.length?(be=+ke,ve):be},ve.nodes=function(ke){return arguments.length?(Le="function"==typeof ke?ke:o(ke),ve):Le},ve.links=function(ke){return arguments.length?(Ie="function"==typeof ke?ke:o(ke),ve):Ie},ve.size=function(ke){return arguments.length?(we=ze=0,Se=+ke[0],Ce=+ke[1],ve):[Se-we,Ce-ze]},ve.extent=function(ke){return arguments.length?(we=+ke[0][0],Se=+ke[1][0],ze=+ke[0][1],Ce=+ke[1][1],ve):[[we,ze],[Se,Ce]]},ve.iterations=function(ke){return arguments.length?(De=+ke,ve):De},ve.circularLinkGap=function(ke){return arguments.length?(je=+ke,ve):je},ve.nodePaddingRatio=function(ke){return arguments.length?(ye=+ke,ve):ye},ve.sortNodes=function(ke){return arguments.length?(qe=ke,ve):qe},ve.update=function(ke){return L(ke,he),Oe(ke),ke.links.forEach(function(Be){Be.circular&&(Be.circularLinkType=Be.y0+Be.y1<Ce?"top":"bottom",Be.source.circularLinkType=Be.circularLinkType,Be.target.circularLinkType=Be.circularLinkType)}),fe(ke,Ce,he,!1),le(ke,0,he),Y(ke,je,Ce,he),ke},ve}function L(be,ye){var we=0,ze=0;be.links.forEach(function(Se){Se.circular&&(Se.circularLinkType=Se.source.circularLinkType||Se.target.circularLinkType?Se.source.circularLinkType?Se.source.circularLinkType:Se.target.circularLinkType:we<ze?"top":"bottom","top"==Se.circularLinkType?we+=1:ze+=1,be.nodes.forEach(function(Ce){g(Ce,ye)!=g(Se.source,ye)&&g(Ce,ye)!=g(Se.target,ye)||(Ce.circularLinkType=Se.circularLinkType)}))}),be.links.forEach(function(Se){Se.circular&&(Se.source.circularLinkType==Se.target.circularLinkType&&(Se.circularLinkType=Se.source.circularLinkType),Ae(Se,ye)&&(Se.circularLinkType=Se.source.circularLinkType))})}function N(be){var ye=Math.abs(be.y1-be.y0),we=Math.abs(be.target.x0-be.source.x1);return Math.atan(we/ye)}function j(be,ye){var we=0;be.sourceLinks.forEach(function(Se){we=Se.circular&&!Ae(Se,ye)?we+1:we});var ze=0;return be.targetLinks.forEach(function(Se){ze=Se.circular&&!Ae(Se,ye)?ze+1:ze}),we+ze}function X(be){var we=0;be.source.sourceLinks.forEach(function(Ce){we=Ce.circular?we+1:we});var Se=0;return be.target.targetLinks.forEach(function(Ce){Se=Ce.circular?Se+1:Se}),!(we>1||Se>1)}function F(be,ye,we){return be.sort(G),be.forEach(function(ze,Se){var Ce,ge,he=0;if(Ae(ze,we)&&X(ze))ze.circularPathData.verticalBuffer=he+ze.width/2;else{for(var _e=0;_e<Se;_e++)if(!((Ce=be[Se]).source.column<(ge=be[_e]).target.column||Ce.target.column>ge.source.column)){var Le=be[_e].circularPathData.verticalBuffer+be[_e].width/2+ye;he=Le>he?Le:he}ze.circularPathData.verticalBuffer=he+ze.width/2}}),be}function Y(be,ye,we,ze){var Se=(0,D.VV)(be.links,function(Ce){return Ce.source.y0});be.links.forEach(function(Ce){Ce.circular&&(Ce.circularPathData={})}),F(be.links.filter(function(Ce){return"top"==Ce.circularLinkType}),ye,ze),F(be.links.filter(function(Ce){return"bottom"==Ce.circularLinkType}),ye,ze),be.links.forEach(function(Ce){if(Ce.circular){if(Ce.circularPathData.arcRadius=Ce.width+S,Ce.circularPathData.leftNodeBuffer=5,Ce.circularPathData.rightNodeBuffer=5,Ce.circularPathData.sourceWidth=Ce.source.x1-Ce.source.x0,Ce.circularPathData.sourceX=Ce.source.x0+Ce.circularPathData.sourceWidth,Ce.circularPathData.targetX=Ce.target.x0,Ce.circularPathData.sourceY=Ce.y0,Ce.circularPathData.targetY=Ce.y1,Ae(Ce,ze)&&X(Ce))Ce.circularPathData.leftSmallArcRadius=S+Ce.width/2,Ce.circularPathData.leftLargeArcRadius=S+Ce.width/2,Ce.circularPathData.rightSmallArcRadius=S+Ce.width/2,Ce.circularPathData.rightLargeArcRadius=S+Ce.width/2,"bottom"==Ce.circularLinkType?(Ce.circularPathData.verticalFullExtent=Ce.source.y1+I+Ce.circularPathData.verticalBuffer,Ce.circularPathData.verticalLeftInnerExtent=Ce.circularPathData.verticalFullExtent-Ce.circularPathData.leftLargeArcRadius,Ce.circularPathData.verticalRightInnerExtent=Ce.circularPathData.verticalFullExtent-Ce.circularPathData.rightLargeArcRadius):(Ce.circularPathData.verticalFullExtent=Ce.source.y0-I-Ce.circularPathData.verticalBuffer,Ce.circularPathData.verticalLeftInnerExtent=Ce.circularPathData.verticalFullExtent+Ce.circularPathData.leftLargeArcRadius,Ce.circularPathData.verticalRightInnerExtent=Ce.circularPathData.verticalFullExtent+Ce.circularPathData.rightLargeArcRadius);else{var ge=Ce.source.column,he=Ce.circularLinkType,_e=be.links.filter(function(De){return De.source.column==ge&&De.circularLinkType==he});_e.sort("bottom"==Ce.circularLinkType?W:H);var Le=0;_e.forEach(function(De,je){De.circularLinkID==Ce.circularLinkID&&(Ce.circularPathData.leftSmallArcRadius=S+Ce.width/2+Le,Ce.circularPathData.leftLargeArcRadius=S+Ce.width/2+je*ye+Le),Le+=De.width}),ge=Ce.target.column,(_e=be.links.filter(function(De){return De.target.column==ge&&De.circularLinkType==he})).sort("bottom"==Ce.circularLinkType?se:Z),Le=0,_e.forEach(function(De,je){De.circularLinkID==Ce.circularLinkID&&(Ce.circularPathData.rightSmallArcRadius=S+Ce.width/2+Le,Ce.circularPathData.rightLargeArcRadius=S+Ce.width/2+je*ye+Le),Le+=De.width}),"bottom"==Ce.circularLinkType?(Ce.circularPathData.verticalFullExtent=Math.max(we,Ce.source.y1,Ce.target.y1)+I+Ce.circularPathData.verticalBuffer,Ce.circularPathData.verticalLeftInnerExtent=Ce.circularPathData.verticalFullExtent-Ce.circularPathData.leftLargeArcRadius,Ce.circularPathData.verticalRightInnerExtent=Ce.circularPathData.verticalFullExtent-Ce.circularPathData.rightLargeArcRadius):(Ce.circularPathData.verticalFullExtent=Se-I-Ce.circularPathData.verticalBuffer,Ce.circularPathData.verticalLeftInnerExtent=Ce.circularPathData.verticalFullExtent+Ce.circularPathData.leftLargeArcRadius,Ce.circularPathData.verticalRightInnerExtent=Ce.circularPathData.verticalFullExtent+Ce.circularPathData.rightLargeArcRadius)}Ce.circularPathData.leftInnerExtent=Ce.circularPathData.sourceX+Ce.circularPathData.leftNodeBuffer,Ce.circularPathData.rightInnerExtent=Ce.circularPathData.targetX-Ce.circularPathData.rightNodeBuffer,Ce.circularPathData.leftFullExtent=Ce.circularPathData.sourceX+Ce.circularPathData.leftLargeArcRadius+Ce.circularPathData.leftNodeBuffer,Ce.circularPathData.rightFullExtent=Ce.circularPathData.targetX-Ce.circularPathData.rightLargeArcRadius-Ce.circularPathData.rightNodeBuffer}if(Ce.circular)Ce.path="top"==(De=Ce).circularLinkType?"M"+De.circularPathData.sourceX+" "+De.circularPathData.sourceY+" L"+De.circularPathData.leftInnerExtent+" "+De.circularPathData.sourceY+" A"+De.circularPathData.leftLargeArcRadius+" "+De.circularPathData.leftSmallArcRadius+" 0 0 0 "+De.circularPathData.leftFullExtent+" "+(De.circularPathData.sourceY-De.circularPathData.leftSmallArcRadius)+" L"+De.circularPathData.leftFullExtent+" "+De.circularPathData.verticalLeftInnerExtent+" A"+De.circularPathData.leftLargeArcRadius+" "+De.circularPathData.leftLargeArcRadius+" 0 0 0 "+De.circularPathData.leftInnerExtent+" "+De.circularPathData.verticalFullExtent+" L"+De.circularPathData.rightInnerExtent+" "+De.circularPathData.verticalFullExtent+" A"+De.circularPathData.rightLargeArcRadius+" "+De.circularPathData.rightLargeArcRadius+" 0 0 0 "+De.circularPathData.rightFullExtent+" "+De.circularPathData.verticalRightInnerExtent+" L"+De.circularPathData.rightFullExtent+" "+(De.circularPathData.targetY-De.circularPathData.rightSmallArcRadius)+" A"+De.circularPathData.rightLargeArcRadius+" "+De.circularPathData.rightSmallArcRadius+" 0 0 0 "+De.circularPathData.rightInnerExtent+" "+De.circularPathData.targetY+" L"+De.circularPathData.targetX+" "+De.circularPathData.targetY:"M"+De.circularPathData.sourceX+" "+De.circularPathData.sourceY+" L"+De.circularPathData.leftInnerExtent+" "+De.circularPathData.sourceY+" A"+De.circularPathData.leftLargeArcRadius+" "+De.circularPathData.leftSmallArcRadius+" 0 0 1 "+De.circularPathData.leftFullExtent+" "+(De.circularPathData.sourceY+De.circularPathData.leftSmallArcRadius)+" L"+De.circularPathData.leftFullExtent+" "+De.circularPathData.verticalLeftInnerExtent+" A"+De.circularPathData.leftLargeArcRadius+" "+De.circularPathData.leftLargeArcRadius+" 0 0 1 "+De.circularPathData.leftInnerExtent+" "+De.circularPathData.verticalFullExtent+" L"+De.circularPathData.rightInnerExtent+" "+De.circularPathData.verticalFullExtent+" A"+De.circularPathData.rightLargeArcRadius+" "+De.circularPathData.rightLargeArcRadius+" 0 0 1 "+De.circularPathData.rightFullExtent+" "+De.circularPathData.verticalRightInnerExtent+" L"+De.circularPathData.rightFullExtent+" "+(De.circularPathData.targetY+De.circularPathData.rightSmallArcRadius)+" A"+De.circularPathData.rightLargeArcRadius+" "+De.circularPathData.rightSmallArcRadius+" 0 0 1 "+De.circularPathData.rightInnerExtent+" "+De.circularPathData.targetY+" L"+De.circularPathData.targetX+" "+De.circularPathData.targetY;else{var Ie=(0,f.h5)().source(function(De){return[De.source.x0+(De.source.x1-De.source.x0),De.y0]}).target(function(De){return[De.target.x0,De.y1]});Ce.path=Ie(Ce)}var De})}function G(be,ye){return re(be)==re(ye)?"bottom"==be.circularLinkType?W(be,ye):H(be,ye):re(ye)-re(be)}function H(be,ye){return be.y0-ye.y0}function W(be,ye){return ye.y0-be.y0}function Z(be,ye){return be.y1-ye.y1}function se(be,ye){return ye.y1-be.y1}function re(be){return be.target.column-be.source.column}function ne(be){return be.target.x0-be.source.x1}function Q(be,ye){var we=N(be),ze=ne(ye)/Math.tan(we);return"up"==Me(be)?be.y1+ze:be.y1-ze}function ee(be,ye){var we=N(be),ze=ne(ye)/Math.tan(we);return"up"==Me(be)?be.y1-ze:be.y1+ze}function oe(be,ye,we,ze){be.links.forEach(function(Se){if(!Se.circular&&Se.target.column-Se.source.column>1){var Ce=Se.source.column+1,ge=Se.target.column-1,he=1,_e=ge-Ce+1;for(he=1;Ce<=ge;Ce++,he++)be.nodes.forEach(function(Le){if(Le.column==Ce){var Ie,De=he/(_e+1),je=Math.pow(1-De,3),qe=3*De*Math.pow(1-De,2),ve=3*Math.pow(De,2)*(1-De),Oe=Math.pow(De,3),ke=je*Se.y0+qe*Se.y0+ve*Se.y1+Oe*Se.y1,Be=ke-Se.width/2,We=ke+Se.width/2;Be>Le.y0&&Be<Le.y1?(Ie=Le.y1-Be+10,Le=ce(Le,Ie="bottom"==Le.circularLinkType?Ie:-Ie,ye,we),be.nodes.forEach(function(Ge){var Ke,et;g(Ge,ze)!=g(Le,ze)&&Ge.column==Le.column&&((Ke=Le).y0>(et=Ge).y0&&Ke.y0<et.y1||Ke.y1>et.y0&&Ke.y1<et.y1||Ke.y0<et.y0&&Ke.y1>et.y1)&&ce(Ge,Ie,ye,we)})):(We>Le.y0&&We<Le.y1||Be<Le.y0&&We>Le.y1)&&(Le=ce(Le,Ie=We-Le.y0+10,ye,we),be.nodes.forEach(function(Ge){g(Ge,ze)!=g(Le,ze)&&Ge.column==Le.column&&Ge.y0<Le.y1&&Ge.y1>Le.y1&&ce(Ge,Ie,ye,we)}))}})}})}function ce(be,ye,we,ze){return be.y0+ye>=we&&be.y1+ye<=ze&&(be.y0=be.y0+ye,be.y1=be.y1+ye,be.targetLinks.forEach(function(Se){Se.y1=Se.y1+ye}),be.sourceLinks.forEach(function(Se){Se.y0=Se.y0+ye})),be}function fe(be,ye,we,ze){be.nodes.forEach(function(Se){ze&&Se.y+(Se.y1-Se.y0)>ye&&(Se.y=Se.y-(Se.y+(Se.y1-Se.y0)-ye));var Ce=be.links.filter(function(_e){return g(_e.source,we)==g(Se,we)}),ge=Ce.length;ge>1&&Ce.sort(function(_e,Le){if(!_e.circular&&!Le.circular){if(_e.target.column==Le.target.column||!pe(_e,Le))return _e.y1-Le.y1;if(_e.target.column>Le.target.column){var Ie=ee(Le,_e);return _e.y1-Ie}if(Le.target.column>_e.target.column)return ee(_e,Le)-Le.y1}return _e.circular&&!Le.circular?"top"==_e.circularLinkType?-1:1:Le.circular&&!_e.circular?"top"==Le.circularLinkType?1:-1:_e.circular&&Le.circular?_e.circularLinkType===Le.circularLinkType&&"top"==_e.circularLinkType?_e.target.column===Le.target.column?_e.target.y1-Le.target.y1:Le.target.column-_e.target.column:_e.circularLinkType===Le.circularLinkType&&"bottom"==_e.circularLinkType?_e.target.column===Le.target.column?Le.target.y1-_e.target.y1:_e.target.column-Le.target.column:"top"==_e.circularLinkType?-1:1:void 0});var he=Se.y0;Ce.forEach(function(_e){_e.y0=he+_e.width/2,he+=_e.width}),Ce.forEach(function(_e,Le){if("bottom"==_e.circularLinkType){for(var Ie=Le+1,De=0;Ie<ge;Ie++)De+=Ce[Ie].width;_e.y0=Se.y1-De-_e.width/2}})})}function le(be,ye,we){be.nodes.forEach(function(ze){var Se=be.links.filter(function(he){return g(he.target,we)==g(ze,we)}),Ce=Se.length;Ce>1&&Se.sort(function(he,_e){if(!he.circular&&!_e.circular){if(he.source.column==_e.source.column||!pe(he,_e))return he.y0-_e.y0;if(_e.source.column<he.source.column){var Le=Q(_e,he);return he.y0-Le}if(he.source.column<_e.source.column)return Q(he,_e)-_e.y0}return he.circular&&!_e.circular?"top"==he.circularLinkType?-1:1:_e.circular&&!he.circular?"top"==_e.circularLinkType?1:-1:he.circular&&_e.circular?he.circularLinkType===_e.circularLinkType&&"top"==he.circularLinkType?he.source.column===_e.source.column?he.source.y1-_e.source.y1:he.source.column-_e.source.column:he.circularLinkType===_e.circularLinkType&&"bottom"==he.circularLinkType?he.source.column===_e.source.column?he.source.y1-_e.source.y1:_e.source.column-he.source.column:"top"==he.circularLinkType?-1:1:void 0});var ge=ze.y0;Se.forEach(function(he){he.y1=ge+he.width/2,ge+=he.width}),Se.forEach(function(he,_e){if("bottom"==he.circularLinkType){for(var Le=_e+1,Ie=0;Le<Ce;Le++)Ie+=Se[Le].width;he.y1=ze.y1-Ie-he.width/2}})})}function pe(be,ye){return Me(be)==Me(ye)}function Me(be){return be.y0-be.y1>0?"up":"down"}function Ae(be,ye){return g(be.source,ye)==g(be.target,ye)}},30838:function(ae,B,r){"use strict";r.r(B),r.d(B,{sankey:function(){return w},sankeyCenter:function(){return c},sankeyJustify:function(){return y},sankeyLeft:function(){return k},sankeyLinkHorizontal:function(){return g},sankeyRight:function(){return M}});var D=r(33064),E=r(15140);function f(I){return I.target.depth}function k(I){return I.depth}function M(I,S){return S-1-I.height}function y(I,S){return I.sourceLinks.length?I.depth:S-1}function c(I){return I.targetLinks.length?I.depth:I.sourceLinks.length?(0,D.VV)(I.sourceLinks,f)-1:0}function i(I){return function(){return I}}function s(I,S){return o(I.source,S.source)||I.index-S.index}function a(I,S){return o(I.target,S.target)||I.index-S.index}function o(I,S){return I.y0-S.y0}function l(I){return I.value}function u(I){return(I.y0+I.y1)/2}function h(I){return u(I.source)*I.value}function v(I){return u(I.target)*I.value}function p(I){return I.index}function T(I){return I.nodes}function _(I){return I.links}function m(I,S){var O=I.get(S);if(!O)throw new Error("missing: "+S);return O}function w(){var I=0,S=0,O=1,R=1,L=24,N=8,j=p,X=y,F=T,Y=_,G=32;function H(){var Z={nodes:F.apply(null,arguments),links:Y.apply(null,arguments)};return function(se){se.nodes.forEach(function(ne,Q){ne.index=Q,ne.sourceLinks=[],ne.targetLinks=[]});var re=(0,E.UI)(se.nodes,j);se.links.forEach(function(ne,Q){ne.index=Q;var ee=ne.source,oe=ne.target;"object"!=typeof ee&&(ee=ne.source=m(re,ee)),"object"!=typeof oe&&(oe=ne.target=m(re,oe)),ee.sourceLinks.push(ne),oe.targetLinks.push(ne)})}(Z),Z.nodes.forEach(function(re){re.value=Math.max((0,D.Sm)(re.sourceLinks,l),(0,D.Sm)(re.targetLinks,l))}),function(se){var re,ne,Q;for(re=se.nodes,ne=[],Q=0;re.length;++Q,re=ne,ne=[])re.forEach(function(oe){oe.depth=Q,oe.sourceLinks.forEach(function(ce){ne.indexOf(ce.target)<0&&ne.push(ce.target)})});for(re=se.nodes,ne=[],Q=0;re.length;++Q,re=ne,ne=[])re.forEach(function(oe){oe.height=Q,oe.targetLinks.forEach(function(ce){ne.indexOf(ce.source)<0&&ne.push(ce.source)})});var ee=(O-I-L)/(Q-1);se.nodes.forEach(function(oe){oe.x1=(oe.x0=I+Math.max(0,Math.min(Q-1,Math.floor(X.call(null,oe,Q))))*ee)+L})}(Z),function(se){var re=(0,E.b1)().key(function(fe){return fe.x0}).sortKeys(D.j2).entries(se.nodes).map(function(fe){return fe.values});(function(){var fe=(0,D.Fp)(re,function(Me){return Me.length}),le=.6666666666666666*(R-S)/(fe-1);N>le&&(N=le);var pe=(0,D.VV)(re,function(Me){return(R-S-(Me.length-1)*N)/(0,D.Sm)(Me,l)});re.forEach(function(Me){Me.forEach(function(Ae,be){Ae.y1=(Ae.y0=be)+Ae.value*pe})}),se.links.forEach(function(Me){Me.width=Me.value*pe})})(),ce();for(var ne=1,Q=G;Q>0;--Q)oe(ne*=.99),ce(),ee(ne),ce();function ee(fe){re.forEach(function(le){le.forEach(function(pe){if(pe.targetLinks.length){var Me=((0,D.Sm)(pe.targetLinks,h)/(0,D.Sm)(pe.targetLinks,l)-u(pe))*fe;pe.y0+=Me,pe.y1+=Me}})})}function oe(fe){re.slice().reverse().forEach(function(le){le.forEach(function(pe){if(pe.sourceLinks.length){var Me=((0,D.Sm)(pe.sourceLinks,v)/(0,D.Sm)(pe.sourceLinks,l)-u(pe))*fe;pe.y0+=Me,pe.y1+=Me}})})}function ce(){re.forEach(function(fe){var le,pe,Me,Ae=S,be=fe.length;for(fe.sort(o),Me=0;Me<be;++Me)(pe=Ae-(le=fe[Me]).y0)>0&&(le.y0+=pe,le.y1+=pe),Ae=le.y1+N;if((pe=Ae-N-R)>0)for(Ae=le.y0-=pe,le.y1-=pe,Me=be-2;Me>=0;--Me)(pe=(le=fe[Me]).y1+N-Ae)>0&&(le.y0-=pe,le.y1-=pe),Ae=le.y0})}}(Z),W(Z),Z}function W(Z){Z.nodes.forEach(function(se){se.sourceLinks.sort(a),se.targetLinks.sort(s)}),Z.nodes.forEach(function(se){var re=se.y0,ne=re;se.sourceLinks.forEach(function(Q){Q.y0=re+Q.width/2,re+=Q.width}),se.targetLinks.forEach(function(Q){Q.y1=ne+Q.width/2,ne+=Q.width})})}return H.update=function(Z){return W(Z),Z},H.nodeId=function(Z){return arguments.length?(j="function"==typeof Z?Z:i(Z),H):j},H.nodeAlign=function(Z){return arguments.length?(X="function"==typeof Z?Z:i(Z),H):X},H.nodeWidth=function(Z){return arguments.length?(L=+Z,H):L},H.nodePadding=function(Z){return arguments.length?(N=+Z,H):N},H.nodes=function(Z){return arguments.length?(F="function"==typeof Z?Z:i(Z),H):F},H.links=function(Z){return arguments.length?(Y="function"==typeof Z?Z:i(Z),H):Y},H.size=function(Z){return arguments.length?(I=S=0,O=+Z[0],R=+Z[1],H):[O-I,R-S]},H.extent=function(Z){return arguments.length?(I=+Z[0][0],O=+Z[1][0],S=+Z[0][1],R=+Z[1][1],H):[[I,S],[O,R]]},H.iterations=function(Z){return arguments.length?(G=+Z,H):G},H}var x=r(45879);function b(I){return[I.source.x1,I.y0]}function A(I){return[I.target.x0,I.y1]}function g(){return(0,x.h5)().source(b).target(A)}},39898:function(ae,B,r){var D,E;(function(){var f={version:"3.8.0"},k=[].slice,M=function(U){return k.call(U)},y=self.document;function c(U){return U&&(U.ownerDocument||U.document||U).documentElement}function i(U){return U&&(U.ownerDocument&&U.ownerDocument.defaultView||U.document&&U||U.defaultView)}if(y)try{M(y.documentElement.childNodes)}catch{M=function(ie){for(var de=ie.length,Te=new Array(de);de--;)Te[de]=ie[de];return Te}}if(Date.now||(Date.now=function(){return+new Date}),y)try{y.createElement("DIV").style.setProperty("opacity",0,"")}catch{var s=this.Element.prototype,a=s.setAttribute,o=s.setAttributeNS,l=this.CSSStyleDeclaration.prototype,u=l.setProperty;s.setAttribute=function(ie,de){a.call(this,ie,de+"")},s.setAttributeNS=function(ie,de,Te){o.call(this,ie,de,Te+"")},l.setProperty=function(ie,de,Te){u.call(this,ie,de+"",Te)}}function h(U,ie){return U<ie?-1:U>ie?1:U>=ie?0:NaN}function v(U){return null===U?NaN:+U}function p(U){return!isNaN(U)}function T(U){return{left:function(ie,de,Te,Ee){for(arguments.length<3&&(Te=0),arguments.length<4&&(Ee=ie.length);Te<Ee;){var Fe=Te+Ee>>>1;U(ie[Fe],de)<0?Te=Fe+1:Ee=Fe}return Te},right:function(ie,de,Te,Ee){for(arguments.length<3&&(Te=0),arguments.length<4&&(Ee=ie.length);Te<Ee;){var Fe=Te+Ee>>>1;U(ie[Fe],de)>0?Ee=Fe:Te=Fe+1}return Te}}}f.ascending=h,f.descending=function(U,ie){return ie<U?-1:ie>U?1:ie>=U?0:NaN},f.min=function(U,ie){var de,Te,Ee=-1,Fe=U.length;if(1===arguments.length){for(;++Ee<Fe;)if(null!=(Te=U[Ee])&&Te>=Te){de=Te;break}for(;++Ee<Fe;)null!=(Te=U[Ee])&&de>Te&&(de=Te)}else{for(;++Ee<Fe;)if(null!=(Te=ie.call(U,U[Ee],Ee))&&Te>=Te){de=Te;break}for(;++Ee<Fe;)null!=(Te=ie.call(U,U[Ee],Ee))&&de>Te&&(de=Te)}return de},f.max=function(U,ie){var de,Te,Ee=-1,Fe=U.length;if(1===arguments.length){for(;++Ee<Fe;)if(null!=(Te=U[Ee])&&Te>=Te){de=Te;break}for(;++Ee<Fe;)null!=(Te=U[Ee])&&Te>de&&(de=Te)}else{for(;++Ee<Fe;)if(null!=(Te=ie.call(U,U[Ee],Ee))&&Te>=Te){de=Te;break}for(;++Ee<Fe;)null!=(Te=ie.call(U,U[Ee],Ee))&&Te>de&&(de=Te)}return de},f.extent=function(U,ie){var de,Te,Ee,Fe=-1,Ye=U.length;if(1===arguments.length){for(;++Fe<Ye;)if(null!=(Te=U[Fe])&&Te>=Te){de=Ee=Te;break}for(;++Fe<Ye;)null!=(Te=U[Fe])&&(de>Te&&(de=Te),Ee<Te&&(Ee=Te))}else{for(;++Fe<Ye;)if(null!=(Te=ie.call(U,U[Fe],Fe))&&Te>=Te){de=Ee=Te;break}for(;++Fe<Ye;)null!=(Te=ie.call(U,U[Fe],Fe))&&(de>Te&&(de=Te),Ee<Te&&(Ee=Te))}return[de,Ee]},f.sum=function(U,ie){var de,Te=0,Ee=U.length,Fe=-1;if(1===arguments.length)for(;++Fe<Ee;)p(de=+U[Fe])&&(Te+=de);else for(;++Fe<Ee;)p(de=+ie.call(U,U[Fe],Fe))&&(Te+=de);return Te},f.mean=function(U,ie){var de,Te=0,Ee=U.length,Fe=-1,Ye=Ee;if(1===arguments.length)for(;++Fe<Ee;)p(de=v(U[Fe]))?Te+=de:--Ye;else for(;++Fe<Ee;)p(de=v(ie.call(U,U[Fe],Fe)))?Te+=de:--Ye;if(Ye)return Te/Ye},f.quantile=function(U,ie){var de=(U.length-1)*ie+1,Te=Math.floor(de),Ee=+U[Te-1],Fe=de-Te;return Fe?Ee+Fe*(U[Te]-Ee):Ee},f.median=function(U,ie){var de,Te=[],Ee=U.length,Fe=-1;if(1===arguments.length)for(;++Fe<Ee;)p(de=v(U[Fe]))&&Te.push(de);else for(;++Fe<Ee;)p(de=v(ie.call(U,U[Fe],Fe)))&&Te.push(de);if(Te.length)return f.quantile(Te.sort(h),.5)},f.variance=function(U,ie){var de,Te,Ee=U.length,Fe=0,Ye=0,Xe=-1,Qe=0;if(1===arguments.length)for(;++Xe<Ee;)p(de=v(U[Xe]))&&(Ye+=(Te=de-Fe)*(de-(Fe+=Te/++Qe)));else for(;++Xe<Ee;)p(de=v(ie.call(U,U[Xe],Xe)))&&(Ye+=(Te=de-Fe)*(de-(Fe+=Te/++Qe)));if(Qe>1)return Ye/(Qe-1)},f.deviation=function(){var U=f.variance.apply(this,arguments);return U&&Math.sqrt(U)};var _=T(h);function m(U){return U.length}f.bisectLeft=_.left,f.bisect=f.bisectRight=_.right,f.bisector=function(U){return T(1===U.length?function(ie,de){return h(U(ie),de)}:U)},f.shuffle=function(U,ie,de){(Fe=arguments.length)<3&&(de=U.length,Fe<2&&(ie=0));for(var Te,Ee,Fe=de-ie;Fe;)Ee=Math.random()*Fe--|0,Te=U[Fe+ie],U[Fe+ie]=U[Ee+ie],U[Ee+ie]=Te;return U},f.permute=function(U,ie){for(var de=ie.length,Te=new Array(de);de--;)Te[de]=U[ie[de]];return Te},f.pairs=function(U){for(var ie=0,de=U.length-1,Te=U[0],Ee=new Array(de<0?0:de);ie<de;)Ee[ie]=[Te,Te=U[++ie]];return Ee},f.transpose=function(U){if(!(Ee=U.length))return[];for(var ie=-1,de=f.min(U,m),Te=new Array(de);++ie<de;)for(var Ee,Fe=-1,Ye=Te[ie]=new Array(Ee);++Fe<Ee;)Ye[Fe]=U[Fe][ie];return Te},f.zip=function(){return f.transpose(arguments)},f.keys=function(U){var ie=[];for(var de in U)ie.push(de);return ie},f.values=function(U){var ie=[];for(var de in U)ie.push(U[de]);return ie},f.entries=function(U){var ie=[];for(var de in U)ie.push({key:de,value:U[de]});return ie},f.merge=function(U){for(var ie,de,Te,Ee=U.length,Fe=-1,Ye=0;++Fe<Ee;)Ye+=U[Fe].length;for(de=new Array(Ye);--Ee>=0;)for(ie=(Te=U[Ee]).length;--ie>=0;)de[--Ye]=Te[ie];return de};var w=Math.abs;function x(U,ie){for(var de in ie)Object.defineProperty(U.prototype,de,{value:ie[de],enumerable:!1})}function b(){this._=Object.create(null)}f.range=function(U,ie,de){if(arguments.length<3&&(de=1,arguments.length<2&&(ie=U,U=0)),(ie-U)/de==1/0)throw new Error("infinite range");var Te,Ee=[],Fe=function(Xe){for(var Qe=1;Xe*Qe%1;)Qe*=10;return Qe}(w(de)),Ye=-1;if(U*=Fe,ie*=Fe,(de*=Fe)<0)for(;(Te=U+de*++Ye)>ie;)Ee.push(Te/Fe);else for(;(Te=U+de*++Ye)<ie;)Ee.push(Te/Fe);return Ee},f.map=function(U,ie){var de=new b;if(U instanceof b)U.forEach(function(Xe,Qe){de.set(Xe,Qe)});else if(Array.isArray(U)){var Te,Ee=-1,Fe=U.length;if(1===arguments.length)for(;++Ee<Fe;)de.set(Ee,U[Ee]);else for(;++Ee<Fe;)de.set(ie.call(U,Te=U[Ee],Ee),Te)}else for(var Ye in U)de.set(Ye,U[Ye]);return de};var A="__proto__",g="\0";function I(U){return(U+="")===A||U[0]===g?g+U:U}function S(U){return(U+="")[0]===g?U.slice(1):U}function O(U){return I(U)in this._}function R(U){return(U=I(U))in this._&&delete this._[U]}function L(){var U=[];for(var ie in this._)U.push(S(ie));return U}function N(){var U=0;for(var ie in this._)++U;return U}function j(){for(var U in this._)return!1;return!0}function X(){this._=Object.create(null)}function F(U){return U}function Y(U,ie,de){return function(){var Te=de.apply(ie,arguments);return Te===ie?U:Te}}function G(U,ie){if(ie in U)return ie;ie=ie.charAt(0).toUpperCase()+ie.slice(1);for(var de=0,Te=H.length;de<Te;++de){var Ee=H[de]+ie;if(Ee in U)return Ee}}x(b,{has:O,get:function(U){return this._[I(U)]},set:function(U,ie){return this._[I(U)]=ie},remove:R,keys:L,values:function(){var U=[];for(var ie in this._)U.push(this._[ie]);return U},entries:function(){var U=[];for(var ie in this._)U.push({key:S(ie),value:this._[ie]});return U},size:N,empty:j,forEach:function(U){for(var ie in this._)U.call(this,S(ie),this._[ie])}}),f.nest=function(){var U,ie,de={},Te=[],Ee=[];function Fe(Xe,Qe,nt){if(nt>=Te.length)return ie?ie.call(de,Qe):U?Qe.sort(U):Qe;for(var lt,xt,Mt,jt,Vt=-1,Bt=Qe.length,Xt=Te[nt++],Ut=new b;++Vt<Bt;)(jt=Ut.get(lt=Xt(xt=Qe[Vt])))?jt.push(xt):Ut.set(lt,[xt]);return Xe?(xt=Xe(),Mt=function(mn,sn){xt.set(mn,Fe(Xe,sn,nt))}):(xt={},Mt=function(mn,sn){xt[mn]=Fe(Xe,sn,nt)}),Ut.forEach(Mt),xt}function Ye(Xe,Qe){if(Qe>=Te.length)return Xe;var nt=[],lt=Ee[Qe++];return Xe.forEach(function(xt,Mt){nt.push({key:xt,values:Ye(Mt,Qe)})}),lt?nt.sort(function(xt,Mt){return lt(xt.key,Mt.key)}):nt}return de.map=function(Xe,Qe){return Fe(Qe,Xe,0)},de.entries=function(Xe){return Ye(Fe(f.map,Xe,0),0)},de.key=function(Xe){return Te.push(Xe),de},de.sortKeys=function(Xe){return Ee[Te.length-1]=Xe,de},de.sortValues=function(Xe){return U=Xe,de},de.rollup=function(Xe){return ie=Xe,de},de},f.set=function(U){var ie=new X;if(U)for(var de=0,Te=U.length;de<Te;++de)ie.add(U[de]);return ie},x(X,{has:O,add:function(U){return this._[I(U+="")]=!0,U},remove:R,values:L,size:N,empty:j,forEach:function(U){for(var ie in this._)U.call(this,S(ie))}}),f.behavior={},f.rebind=function(U,ie){for(var de,Te=1,Ee=arguments.length;++Te<Ee;)U[de=arguments[Te]]=Y(U,ie,ie[de]);return U};var H=["webkit","ms","moz","Moz","o","O"];function W(){}function Z(){}function se(U){var ie=[],de=new b;function Te(){for(var Ee,Fe=ie,Ye=-1,Xe=Fe.length;++Ye<Xe;)(Ee=Fe[Ye].on)&&Ee.apply(this,arguments);return U}return Te.on=function(Ee,Fe){var Ye,Xe=de.get(Ee);return arguments.length<2?Xe&&Xe.on:(Xe&&(Xe.on=null,ie=ie.slice(0,Ye=ie.indexOf(Xe)).concat(ie.slice(Ye+1)),de.remove(Ee)),Fe&&ie.push(de.set(Ee,{on:Fe})),U)},Te}function re(){f.event.preventDefault()}function ne(){for(var U,ie=f.event;U=ie.sourceEvent;)ie=U;return ie}function Q(U){for(var ie=new Z,de=0,Te=arguments.length;++de<Te;)ie[arguments[de]]=se(ie);return ie.of=function(Ee,Fe){return function(Ye){try{var Xe=Ye.sourceEvent=f.event;Ye.target=U,f.event=Ye,ie[Ye.type].apply(Ee,Fe)}finally{f.event=Xe}}},ie}f.dispatch=function(){for(var U=new Z,ie=-1,de=arguments.length;++ie<de;)U[arguments[ie]]=se(U);return U},Z.prototype.on=function(U,ie){var de=U.indexOf("."),Te="";if(de>=0&&(Te=U.slice(de+1),U=U.slice(0,de)),U)return arguments.length<2?this[U].on(Te):this[U].on(Te,ie);if(2===arguments.length){if(null==ie)for(U in this)this.hasOwnProperty(U)&&this[U].on(Te,null);return this}},f.event=null,f.requote=function(U){return U.replace(ee,"\\$&")};var ee=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,oe={}.__proto__?function(U,ie){U.__proto__=ie}:function(U,ie){for(var de in ie)U[de]=ie[de]};function ce(U){return oe(U,Me),U}var fe=function(U,ie){return ie.querySelector(U)},le=function(U,ie){return ie.querySelectorAll(U)},pe=function(U,ie){var de=U.matches||U[G(U,"matchesSelector")];return(pe=function(Te,Ee){return de.call(Te,Ee)})(U,ie)};"function"==typeof Sizzle&&(fe=function(U,ie){return Sizzle(U,ie)[0]||null},le=Sizzle,pe=Sizzle.matchesSelector),f.selection=function(){return f.select(y.documentElement)};var Me=f.selection.prototype=[];function Ae(U){return"function"==typeof U?U:function(){return fe(U,this)}}function be(U){return"function"==typeof U?U:function(){return le(U,this)}}Me.select=function(U){var ie,de,Te,Ee,Fe=[];U=Ae(U);for(var Ye=-1,Xe=this.length;++Ye<Xe;){Fe.push(ie=[]),ie.parentNode=(Te=this[Ye]).parentNode;for(var Qe=-1,nt=Te.length;++Qe<nt;)(Ee=Te[Qe])?(ie.push(de=U.call(Ee,Ee.__data__,Qe,Ye)),de&&"__data__"in Ee&&(de.__data__=Ee.__data__)):ie.push(null)}return ce(Fe)},Me.selectAll=function(U){var ie,de,Te=[];U=be(U);for(var Ee=-1,Fe=this.length;++Ee<Fe;)for(var Ye=this[Ee],Xe=-1,Qe=Ye.length;++Xe<Qe;)(de=Ye[Xe])&&(Te.push(ie=M(U.call(de,de.__data__,Xe,Ee))),ie.parentNode=de);return ce(Te)};var ye="http://www.w3.org/1999/xhtml",we={svg:"http://www.w3.org/2000/svg",xhtml:ye,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ze(U,ie){return U=f.ns.qualify(U),null==ie?U.local?function(){this.removeAttributeNS(U.space,U.local)}:function(){this.removeAttribute(U)}:"function"==typeof ie?U.local?function(){var de=ie.apply(this,arguments);null==de?this.removeAttributeNS(U.space,U.local):this.setAttributeNS(U.space,U.local,de)}:function(){var de=ie.apply(this,arguments);null==de?this.removeAttribute(U):this.setAttribute(U,de)}:U.local?function(){this.setAttributeNS(U.space,U.local,ie)}:function(){this.setAttribute(U,ie)}}function Se(U){return U.trim().replace(/\s+/g," ")}function Ce(U){return new RegExp("(?:^|\\s+)"+f.requote(U)+"(?:\\s+|$)","g")}function ge(U){return(U+"").trim().split(/^|\s+/)}function he(U,ie){var de=(U=ge(U).map(_e)).length;return"function"==typeof ie?function(){for(var Te=-1,Ee=ie.apply(this,arguments);++Te<de;)U[Te](this,Ee)}:function(){for(var Te=-1;++Te<de;)U[Te](this,ie)}}function _e(U){var ie=Ce(U);return function(de,Te){if(Ee=de.classList)return Te?Ee.add(U):Ee.remove(U);var Ee=de.getAttribute("class")||"";Te?(ie.lastIndex=0,ie.test(Ee)||de.setAttribute("class",Se(Ee+" "+U))):de.setAttribute("class",Se(Ee.replace(ie," ")))}}function Le(U,ie,de){return null==ie?function(){this.style.removeProperty(U)}:"function"==typeof ie?function(){var Te=ie.apply(this,arguments);null==Te?this.style.removeProperty(U):this.style.setProperty(U,Te,de)}:function(){this.style.setProperty(U,ie,de)}}function Ie(U,ie){return null==ie?function(){delete this[U]}:"function"==typeof ie?function(){var de=ie.apply(this,arguments);null==de?delete this[U]:this[U]=de}:function(){this[U]=ie}}function De(U){return"function"==typeof U?U:(U=f.ns.qualify(U)).local?function(){return this.ownerDocument.createElementNS(U.space,U.local)}:function(){var ie=this.ownerDocument,de=this.namespaceURI;return de===ye&&ie.documentElement.namespaceURI===ye?ie.createElement(U):ie.createElementNS(de,U)}}function je(){var U=this.parentNode;U&&U.removeChild(this)}function qe(U){return{__data__:U}}function ve(U){return function(){return pe(this,U)}}function Oe(U){return arguments.length||(U=h),function(ie,de){return ie&&de?U(ie.__data__,de.__data__):!ie-!de}}function ke(U,ie){for(var de=0,Te=U.length;de<Te;de++)for(var Ee,Fe=U[de],Ye=0,Xe=Fe.length;Ye<Xe;Ye++)(Ee=Fe[Ye])&&ie(Ee,Ye,de);return U}function Be(U){return oe(U,We),U}f.ns={prefix:we,qualify:function(U){var ie=U.indexOf(":"),de=U;return ie>=0&&"xmlns"!==(de=U.slice(0,ie))&&(U=U.slice(ie+1)),we.hasOwnProperty(de)?{space:we[de],local:U}:U}},Me.attr=function(U,ie){if(arguments.length<2){if("string"==typeof U){var de=this.node();return(U=f.ns.qualify(U)).local?de.getAttributeNS(U.space,U.local):de.getAttribute(U)}for(ie in U)this.each(ze(ie,U[ie]));return this}return this.each(ze(U,ie))},Me.classed=function(U,ie){if(arguments.length<2){if("string"==typeof U){var de=this.node(),Te=(U=ge(U)).length,Ee=-1;if(ie=de.classList){for(;++Ee<Te;)if(!ie.contains(U[Ee]))return!1}else for(ie=de.getAttribute("class");++Ee<Te;)if(!Ce(U[Ee]).test(ie))return!1;return!0}for(ie in U)this.each(he(ie,U[ie]));return this}return this.each(he(U,ie))},Me.style=function(U,ie,de){var Te=arguments.length;if(Te<3){if("string"!=typeof U){for(de in Te<2&&(ie=""),U)this.each(Le(de,U[de],ie));return this}if(Te<2){var Ee=this.node();return i(Ee).getComputedStyle(Ee,null).getPropertyValue(U)}de=""}return this.each(Le(U,ie,de))},Me.property=function(U,ie){if(arguments.length<2){if("string"==typeof U)return this.node()[U];for(ie in U)this.each(Ie(ie,U[ie]));return this}return this.each(Ie(U,ie))},Me.text=function(U){return arguments.length?this.each("function"==typeof U?function(){var ie=U.apply(this,arguments);this.textContent=ie??""}:null==U?function(){this.textContent=""}:function(){this.textContent=U}):this.node().textContent},Me.html=function(U){return arguments.length?this.each("function"==typeof U?function(){var ie=U.apply(this,arguments);this.innerHTML=ie??""}:null==U?function(){this.innerHTML=""}:function(){this.innerHTML=U}):this.node().innerHTML},Me.append=function(U){return U=De(U),this.select(function(){return this.appendChild(U.apply(this,arguments))})},Me.insert=function(U,ie){return U=De(U),ie=Ae(ie),this.select(function(){return this.insertBefore(U.apply(this,arguments),ie.apply(this,arguments)||null)})},Me.remove=function(){return this.each(je)},Me.data=function(U,ie){var de,Te,Ee=-1,Fe=this.length;if(!arguments.length){for(U=new Array(Fe=(de=this[0]).length);++Ee<Fe;)(Te=de[Ee])&&(U[Ee]=Te.__data__);return U}function Ye(lt,xt){var Mt,jt,Vt,Bt=lt.length,Xt=xt.length,Ut=Math.min(Bt,Xt),mn=new Array(Xt),sn=new Array(Xt),rn=new Array(Bt);if(ie){var In,Pn=new b,tr=new Array(Bt);for(Mt=-1;++Mt<Bt;)(jt=lt[Mt])&&(Pn.has(In=ie.call(jt,jt.__data__,Mt))?rn[Mt]=jt:Pn.set(In,jt),tr[Mt]=In);for(Mt=-1;++Mt<Xt;)(jt=Pn.get(In=ie.call(xt,Vt=xt[Mt],Mt)))?!0!==jt&&(mn[Mt]=jt,jt.__data__=Vt):sn[Mt]=qe(Vt),Pn.set(In,!0);for(Mt=-1;++Mt<Bt;)Mt in tr&&!0!==Pn.get(tr[Mt])&&(rn[Mt]=lt[Mt])}else{for(Mt=-1;++Mt<Ut;)Vt=xt[Mt],(jt=lt[Mt])?(jt.__data__=Vt,mn[Mt]=jt):sn[Mt]=qe(Vt);for(;Mt<Xt;++Mt)sn[Mt]=qe(xt[Mt]);for(;Mt<Bt;++Mt)rn[Mt]=lt[Mt]}sn.update=mn,sn.parentNode=mn.parentNode=rn.parentNode=lt.parentNode,Xe.push(sn),Qe.push(mn),nt.push(rn)}var Xe=Be([]),Qe=ce([]),nt=ce([]);if("function"==typeof U)for(;++Ee<Fe;)Ye(de=this[Ee],U.call(de,de.parentNode.__data__,Ee));else for(;++Ee<Fe;)Ye(de=this[Ee],U);return Qe.enter=function(){return Xe},Qe.exit=function(){return nt},Qe},Me.datum=function(U){return arguments.length?this.property("__data__",U):this.property("__data__")},Me.filter=function(U){var ie,de,Te,Ee=[];"function"!=typeof U&&(U=ve(U));for(var Fe=0,Ye=this.length;Fe<Ye;Fe++){Ee.push(ie=[]),ie.parentNode=(de=this[Fe]).parentNode;for(var Xe=0,Qe=de.length;Xe<Qe;Xe++)(Te=de[Xe])&&U.call(Te,Te.__data__,Xe,Fe)&&ie.push(Te)}return ce(Ee)},Me.order=function(){for(var U=-1,ie=this.length;++U<ie;)for(var de,Te=this[U],Ee=Te.length-1,Fe=Te[Ee];--Ee>=0;)(de=Te[Ee])&&(Fe&&Fe!==de.nextSibling&&Fe.parentNode.insertBefore(de,Fe),Fe=de);return this},Me.sort=function(U){U=Oe.apply(this,arguments);for(var ie=-1,de=this.length;++ie<de;)this[ie].sort(U);return this.order()},Me.each=function(U){return ke(this,function(ie,de,Te){U.call(ie,ie.__data__,de,Te)})},Me.call=function(U){var ie=M(arguments);return U.apply(ie[0]=this,ie),this},Me.empty=function(){return!this.node()},Me.node=function(){for(var U=0,ie=this.length;U<ie;U++)for(var de=this[U],Te=0,Ee=de.length;Te<Ee;Te++){var Fe=de[Te];if(Fe)return Fe}return null},Me.size=function(){var U=0;return ke(this,function(){++U}),U};var We=[];function Ge(U,ie,de){var Te="__on"+U,Ee=U.indexOf("."),Fe=et;Ee>0&&(U=U.slice(0,Ee));var Ye=Ke.get(U);function Xe(){var Qe=this[Te];Qe&&(this.removeEventListener(U,Qe,Qe.$),delete this[Te])}return Ye&&(U=Ye,Fe=at),Ee?ie?function(){var Qe=Fe(ie,M(arguments));Xe.call(this),this.addEventListener(U,this[Te]=Qe,Qe.$=de),Qe._=ie}:Xe:ie?W:function(){var Qe,nt=new RegExp("^__on([^.]+)"+f.requote(U)+"$");for(var lt in this)if(Qe=lt.match(nt)){var xt=this[lt];this.removeEventListener(Qe[1],xt,xt.$),delete this[lt]}}}f.selection.enter=Be,f.selection.enter.prototype=We,We.append=Me.append,We.empty=Me.empty,We.node=Me.node,We.call=Me.call,We.size=Me.size,We.select=function(U){for(var ie,de,Te,Ee,Fe,Ye=[],Xe=-1,Qe=this.length;++Xe<Qe;){Te=(Ee=this[Xe]).update,Ye.push(ie=[]),ie.parentNode=Ee.parentNode;for(var nt=-1,lt=Ee.length;++nt<lt;)(Fe=Ee[nt])?(ie.push(Te[nt]=de=U.call(Ee.parentNode,Fe.__data__,nt,Xe)),de.__data__=Fe.__data__):ie.push(null)}return ce(Ye)},We.insert=function(U,ie){var de,Te,Ee;return arguments.length<2&&(de=this,ie=function(Fe,Ye,Xe){var Qe,nt=de[Xe].update,lt=nt.length;for(Xe!=Ee&&(Ee=Xe,Te=0),Ye>=Te&&(Te=Ye+1);!(Qe=nt[Te])&&++Te<lt;);return Qe}),Me.insert.call(this,U,ie)},f.select=function(U){var ie;return"string"==typeof U?(ie=[fe(U,y)]).parentNode=y.documentElement:(ie=[U]).parentNode=c(U),ce([ie])},f.selectAll=function(U){var ie;return"string"==typeof U?(ie=M(le(U,y))).parentNode=y.documentElement:(ie=M(U)).parentNode=null,ce([ie])},Me.on=function(U,ie,de){var Te=arguments.length;if(Te<3){if("string"!=typeof U){for(de in Te<2&&(ie=!1),U)this.each(Ge(de,U[de],ie));return this}if(Te<2)return(Te=this.node()["__on"+U])&&Te._;de=!1}return this.each(Ge(U,ie,de))};var Ke=f.map({mouseenter:"mouseover",mouseleave:"mouseout"});function et(U,ie){return function(de){var Te=f.event;f.event=de,ie[0]=this.__data__;try{U.apply(this,ie)}finally{f.event=Te}}}function at(U,ie){var de=et(U,ie);return function(Te){var Fe=Te.relatedTarget;Fe&&(Fe===this||8&Fe.compareDocumentPosition(this))||de.call(this,Te)}}y&&Ke.forEach(function(U){"on"+U in y&&Ke.remove(U)});var mt,ct=0;function kt(U){var ie=".dragsuppress-"+ ++ct,de="click"+ie,Te=f.select(i(U)).on("touchmove"+ie,re).on("dragstart"+ie,re).on("selectstart"+ie,re);if(null==mt&&(mt=!("onselectstart"in U)&&G(U.style,"userSelect")),mt){var Ee=c(U).style,Fe=Ee[mt];Ee[mt]="none"}return function(Ye){if(Te.on(ie,null),mt&&(Ee[mt]=Fe),Ye){var Xe=function(){Te.on(de,null)};Te.on(de,function(){re(),Xe()},!0),setTimeout(Xe,0)}}}f.mouse=function(U){return Et(U,ne())};var Dt=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function Et(U,ie){ie.changedTouches&&(ie=ie.changedTouches[0]);var de=U.ownerSVGElement||U;if(de.createSVGPoint){var Te=de.createSVGPoint();if(Dt<0){var Ee=i(U);if(Ee.scrollX||Ee.scrollY){var Fe=(de=f.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"))[0][0].getScreenCTM();Dt=!(Fe.f||Fe.e),de.remove()}}return Dt?(Te.x=ie.pageX,Te.y=ie.pageY):(Te.x=ie.clientX,Te.y=ie.clientY),[(Te=Te.matrixTransform(U.getScreenCTM().inverse())).x,Te.y]}var Ye=U.getBoundingClientRect();return[ie.clientX-Ye.left-U.clientLeft,ie.clientY-Ye.top-U.clientTop]}function ht(){return f.event.changedTouches[0].identifier}f.touch=function(U,ie,de){if(arguments.length<3&&(de=ie,ie=ne().changedTouches),ie)for(var Te,Ee=0,Fe=ie.length;Ee<Fe;++Ee)if((Te=ie[Ee]).identifier===de)return Et(U,Te)},f.behavior.drag=function(){var U=Q(Ee,"drag","dragstart","dragend"),ie=null,de=Fe(W,f.mouse,i,"mousemove","mouseup"),Te=Fe(ht,f.touch,F,"touchmove","touchend");function Ee(){this.on("mousedown.drag",de).on("touchstart.drag",Te)}function Fe(Ye,Xe,Qe,nt,lt){return function(){var xt,jt=f.event.target.correspondingElement||f.event.target,Vt=this.parentNode,Bt=U.of(this,arguments),Xt=0,Ut=Ye(),mn=".drag"+(null==Ut?"":"-"+Ut),sn=f.select(Qe(jt)).on(nt+mn,function(){var Pn,tr,rr=Xe(Vt,Ut);rr&&(Xt|=(Pn=rr[0]-In[0])|(tr=rr[1]-In[1]),In=rr,Bt({type:"drag",x:rr[0]+xt[0],y:rr[1]+xt[1],dx:Pn,dy:tr}))}).on(lt+mn,function(){Xe(Vt,Ut)&&(sn.on(nt+mn,null).on(lt+mn,null),rn(Xt),Bt({type:"dragend"}))}),rn=kt(jt),In=Xe(Vt,Ut);xt=ie?[(xt=ie.apply(this,arguments)).x-In[0],xt.y-In[1]]:[0,0],Bt({type:"dragstart"})}}return Ee.origin=function(Ye){return arguments.length?(ie=Ye,Ee):ie},f.rebind(Ee,U,"on")},f.touches=function(U,ie){return arguments.length<2&&(ie=ne().touches),ie?M(ie).map(function(de){var Te=Et(U,de);return Te.identifier=de.identifier,Te}):[]};var pt=1e-6,Pt=pt*pt,zt=Math.PI,Ht=2*zt,Lt=Ht-pt,tt=zt/2,it=zt/180,Je=180/zt;function ot(U){return U>1?tt:U<-1?-tt:Math.asin(U)}function gt(U){return((U=Math.exp(U))+1/U)/2}var ft=Math.SQRT2;f.interpolateZoom=function(U,ie){var de,Te,Ee=U[0],Fe=U[1],Ye=U[2],nt=ie[2],lt=ie[0]-Ee,xt=ie[1]-Fe,Mt=lt*lt+xt*xt;if(Mt<Pt)Te=Math.log(nt/Ye)/ft,de=function(mn){return[Ee+mn*lt,Fe+mn*xt,Ye*Math.exp(ft*mn*Te)]};else{var jt=Math.sqrt(Mt),Vt=(nt*nt-Ye*Ye+4*Mt)/(2*Ye*2*jt),Bt=(nt*nt-Ye*Ye-4*Mt)/(2*nt*2*jt),Xt=Math.log(Math.sqrt(Vt*Vt+1)-Vt),Ut=Math.log(Math.sqrt(Bt*Bt+1)-Bt);Te=(Ut-Xt)/ft,de=function(mn){var sn,tr,rn=mn*Te,In=gt(Xt),Pn=Ye/(2*jt)*(In*(sn=ft*rn+Xt,((sn=Math.exp(2*sn))-1)/(sn+1))-(tr=Xt,((tr=Math.exp(tr))-1/tr)/2));return[Ee+Pn*lt,Fe+Pn*xt,Ye*In/gt(ft*rn+Xt)]}}return de.duration=1e3*Te,de},f.behavior.zoom=function(){var U,ie,de,Te,Ee,Fe,Ye,Xe,Qe,nt={x:0,y:0,k:1},lt=[960,500],xt=dt,Mt=250,jt=0,Vt="mousedown.zoom",Bt="mousemove.zoom",Xt="mouseup.zoom",Ut="touchstart.zoom",mn=Q(sn,"zoomstart","zoom","zoomend");function sn(cr){cr.on(Vt,Sr).on($e+".zoom",qr).on("dblclick.zoom",oi).on(Ut,Rr)}function rn(cr){return[(cr[0]-nt.x)/nt.k,(cr[1]-nt.y)/nt.k]}function In(cr){nt.k=Math.max(xt[0],Math.min(xt[1],cr))}function Pn(cr,Ar){var Nr;nt.x+=cr[0]-(Ar=[(Nr=Ar)[0]*nt.k+nt.x,Nr[1]*nt.k+nt.y])[0],nt.y+=cr[1]-Ar[1]}function tr(cr,Ar,Nr,Wr){cr.__chart__={x:nt.x,y:nt.y,k:nt.k},In(Math.pow(2,Wr)),Pn(ie=Ar,Nr),cr=f.select(cr),Mt>0&&(cr=cr.transition().duration(Mt)),cr.call(sn.event)}function rr(){Ye&&Ye.domain(Fe.range().map(function(cr){return(cr-nt.x)/nt.k}).map(Fe.invert)),Qe&&Qe.domain(Xe.range().map(function(cr){return(cr-nt.y)/nt.k}).map(Xe.invert))}function pr(cr){jt++||cr({type:"zoomstart"})}function yr(cr){rr(),cr({type:"zoom",scale:nt.k,translate:[nt.x,nt.y]})}function Er(cr){--jt||(cr({type:"zoomend"}),ie=null)}function Sr(){var cr=this,Ar=mn.of(cr,arguments),Nr=0,Wr=f.select(i(cr)).on(Bt,function(){Nr=1,Pn(f.mouse(cr),ti),yr(Ar)}).on(Xt,function(){Wr.on(Bt,null).on(Xt,null),ci(Nr),Er(Ar)}),ti=rn(f.mouse(cr)),ci=kt(cr);Pa.call(cr),pr(Ar)}function Rr(){var cr,Ar=this,Nr=mn.of(Ar,arguments),Wr={},ti=0,ci=".zoom-"+f.event.changedTouches[0].identifier,Li="touchmove"+ci,ro="touchend"+ci,fo=[],Ai=f.select(Ar),Ji=kt(Ar);function Vo(){var Ui=f.touches(Ar);return cr=nt.k,Ui.forEach(function(ki){ki.identifier in Wr&&(Wr[ki.identifier]=rn(ki))}),Ui}function _a(){var Ui=f.event.target;f.select(Ui).on(Li,Zo).on(ro,oa),fo.push(Ui);for(var ki=f.event.changedTouches,ho=0,Pi=ki.length;ho<Pi;++ho)Wr[ki[ho].identifier]=null;var po=Vo(),ja=Date.now();if(1===po.length){if(ja-Ee<500){var pi=po[0];tr(Ar,pi,Wr[pi.identifier],Math.floor(Math.log(nt.k)/Math.LN2)+1),re()}Ee=ja}else if(po.length>1){var Hi=po[1],il=(pi=po[0])[0]-Hi[0],go=pi[1]-Hi[1];ti=il*il+go*go}}function Zo(){var Ui,ki,ho,Pi,po=f.touches(Ar);Pa.call(Ar);for(var ja=0,pi=po.length;ja<pi;++ja,Pi=null)if(Pi=Wr[(ho=po[ja]).identifier]){if(ki)break;Ui=ho,ki=Pi}if(Pi){var Hi=(Hi=ho[0]-Ui[0])*Hi+(Hi=ho[1]-Ui[1])*Hi,il=ti&&Math.sqrt(Hi/ti);Ui=[(Ui[0]+ho[0])/2,(Ui[1]+ho[1])/2],ki=[(ki[0]+Pi[0])/2,(ki[1]+Pi[1])/2],In(il*cr)}Ee=null,Pn(Ui,ki),yr(Nr)}function oa(){if(f.event.touches.length){for(var Ui=f.event.changedTouches,ki=0,ho=Ui.length;ki<ho;++ki)delete Wr[Ui[ki].identifier];for(var Pi in Wr)return void Vo()}f.selectAll(fo).on(ci,null),Ai.on(Vt,Sr).on(Ut,Rr),Ji(),Er(Nr)}_a(),pr(Nr),Ai.on(Vt,null).on(Ut,_a)}function qr(){var cr=mn.of(this,arguments);Te?clearTimeout(Te):(Pa.call(this),U=rn(ie=de||f.mouse(this)),pr(cr)),Te=setTimeout(function(){Te=null,Er(cr)},50),re(),In(Math.pow(2,.002*Ue())*nt.k),Pn(ie,U),yr(cr)}function oi(){var cr=f.mouse(this),Ar=Math.log(nt.k)/Math.LN2;tr(this,cr,rn(cr),f.event.shiftKey?Math.ceil(Ar)-1:Math.floor(Ar)+1)}return $e||($e="onwheel"in y?(Ue=function(){return-f.event.deltaY*(f.event.deltaMode?120:1)},"wheel"):"onmousewheel"in y?(Ue=function(){return f.event.wheelDelta},"mousewheel"):(Ue=function(){return-f.event.detail},"MozMousePixelScroll")),sn.event=function(cr){cr.each(function(){var Ar=mn.of(this,arguments),Nr=nt;eu?f.select(this).transition().each("start.zoom",function(){nt=this.__chart__||{x:0,y:0,k:1},pr(Ar)}).tween("zoom:zoom",function(){var Wr=lt[0],ci=ie?ie[0]:Wr/2,Li=ie?ie[1]:lt[1]/2,ro=f.interpolateZoom([(ci-nt.x)/nt.k,(Li-nt.y)/nt.k,Wr/nt.k],[(ci-Nr.x)/Nr.k,(Li-Nr.y)/Nr.k,Wr/Nr.k]);return function(fo){var Ai=ro(fo),Ji=Wr/Ai[2];this.__chart__=nt={x:ci-Ai[0]*Ji,y:Li-Ai[1]*Ji,k:Ji},yr(Ar)}}).each("interrupt.zoom",function(){Er(Ar)}).each("end.zoom",function(){Er(Ar)}):(this.__chart__=nt,pr(Ar),yr(Ar),Er(Ar))})},sn.translate=function(cr){return arguments.length?(nt={x:+cr[0],y:+cr[1],k:nt.k},rr(),sn):[nt.x,nt.y]},sn.scale=function(cr){return arguments.length?(nt={x:nt.x,y:nt.y,k:null},In(+cr),rr(),sn):nt.k},sn.scaleExtent=function(cr){return arguments.length?(xt=null==cr?dt:[+cr[0],+cr[1]],sn):xt},sn.center=function(cr){return arguments.length?(de=cr&&[+cr[0],+cr[1]],sn):de},sn.size=function(cr){return arguments.length?(lt=cr&&[+cr[0],+cr[1]],sn):lt},sn.duration=function(cr){return arguments.length?(Mt=+cr,sn):Mt},sn.x=function(cr){return arguments.length?(Ye=cr,Fe=cr.copy(),nt={x:0,y:0,k:1},sn):Ye},sn.y=function(cr){return arguments.length?(Qe=cr,Xe=cr.copy(),nt={x:0,y:0,k:1},sn):Qe},f.rebind(sn,mn,"on")};var Ue,$e,dt=[0,1/0];function ut(){}function At(U,ie,de){return this instanceof At?(this.h=+U,this.s=+ie,void(this.l=+de)):arguments.length<2?U instanceof At?new At(U.h,U.s,U.l):Tn(""+U,kn,At):new At(U,ie,de)}f.color=ut,ut.prototype.toString=function(){return this.rgb()+""},f.hsl=At;var wt=At.prototype=new ut;function St(U,ie,de){var Te,Ee;function Fe(Ye){return Math.round(255*((Xe=Ye)>360?Xe-=360:Xe<0&&(Xe+=360),Xe<60?Te+(Ee-Te)*Xe/60:Xe<180?Ee:Xe<240?Te+(Ee-Te)*(240-Xe)/60:Te));var Xe}return U=isNaN(U)?0:(U%=360)<0?U+360:U,ie=isNaN(ie)||ie<0?0:ie>1?1:ie,Te=2*(de=de<0?0:de>1?1:de)-(Ee=de<=.5?de*(1+ie):de+ie-de*ie),new Un(Fe(U+120),Fe(U),Fe(U-120))}function _t(U,ie,de){return this instanceof _t?(this.h=+U,this.c=+ie,void(this.l=+de)):arguments.length<2?U instanceof _t?new _t(U.h,U.c,U.l):(Te=U instanceof Tt?U.l:(U=xn((U=f.rgb(U)).r,U.g,U.b)).l,Ee=U.a,Fe=U.b,Te>0?new _t(Math.atan2(Fe,Ee)*Je,Math.sqrt(Ee*Ee+Fe*Fe),Te):new _t(NaN,NaN,Te)):new _t(U,ie,de);var Te,Ee,Fe}wt.brighter=function(U){return U=Math.pow(.7,arguments.length?U:1),new At(this.h,this.s,this.l/U)},wt.darker=function(U){return U=Math.pow(.7,arguments.length?U:1),new At(this.h,this.s,U*this.l)},wt.rgb=function(){return St(this.h,this.s,this.l)},f.hcl=_t;var Rt=_t.prototype=new ut;function bt(U,ie,de){return isNaN(U)&&(U=0),isNaN(ie)&&(ie=0),new Tt(de,Math.cos(U*=it)*ie,Math.sin(U)*ie)}function Tt(U,ie,de){return this instanceof Tt?(this.l=+U,this.a=+ie,void(this.b=+de)):arguments.length<2?U instanceof Tt?new Tt(U.l,U.a,U.b):U instanceof _t?bt(U.h,U.c,U.l):xn((U=Un(U)).r,U.g,U.b):new Tt(U,ie,de)}Rt.brighter=function(U){return new _t(this.h,this.c,Math.min(100,this.l+It*(arguments.length?U:1)))},Rt.darker=function(U){return new _t(this.h,this.c,Math.max(0,this.l-It*(arguments.length?U:1)))},Rt.rgb=function(){return bt(this.h,this.c,this.l).rgb()},f.lab=Tt;var It=18,Wt=.95047,$t=1,Qt=1.08883,pn=Tt.prototype=new ut;function en(U,ie,de){var Te=(U+16)/116,Ee=Te+ie/500,Fe=Te-de/200;return new Un(On(3.2404542*(Ee=nn(Ee)*Wt)-1.5371385*(Te=nn(Te)*$t)-.4985314*(Fe=nn(Fe)*Qt)),On(-.969266*Ee+1.8760108*Te+.041556*Fe),On(.0556434*Ee-.2040259*Te+1.0572252*Fe))}function nn(U){return U>.206893034?U*U*U:(U-.13793103448275862)/7.787037}function fn(U){return U>.008856?Math.pow(U,.3333333333333333):7.787037*U+.13793103448275862}function On(U){return Math.round(255*(U<=.00304?12.92*U:1.055*Math.pow(U,.4166666666666667)-.055))}function Un(U,ie,de){return this instanceof Un?(this.r=~~U,this.g=~~ie,void(this.b=~~de)):arguments.length<2?U instanceof Un?new Un(U.r,U.g,U.b):Tn(""+U,Un,St):new Un(U,ie,de)}function Sn(U){return new Un(U>>16,U>>8&255,255&U)}function on(U){return Sn(U)+""}pn.brighter=function(U){return new Tt(Math.min(100,this.l+It*(arguments.length?U:1)),this.a,this.b)},pn.darker=function(U){return new Tt(Math.max(0,this.l-It*(arguments.length?U:1)),this.a,this.b)},pn.rgb=function(){return en(this.l,this.a,this.b)},f.rgb=Un;var vn=Un.prototype=new ut;function un(U){return U<16?"0"+Math.max(0,U).toString(16):Math.min(255,U).toString(16)}function Tn(U,ie,de){var Te,Ee,Fe,Ye=0,Xe=0,Qe=0;if(Te=/([a-z]+)\((.*)\)/.exec(U=U.toLowerCase()))switch(Ee=Te[2].split(","),Te[1]){case"hsl":return de(parseFloat(Ee[0]),parseFloat(Ee[1])/100,parseFloat(Ee[2])/100);case"rgb":return ie(Hn(Ee[0]),Hn(Ee[1]),Hn(Ee[2]))}return(Fe=En.get(U))?ie(Fe.r,Fe.g,Fe.b):(null==U||"#"!==U.charAt(0)||isNaN(Fe=parseInt(U.slice(1),16))||(4===U.length?(Ye=(3840&Fe)>>4,Ye|=Ye>>4,Xe=240&Fe,Xe|=Xe>>4,Qe=15&Fe,Qe|=Qe<<4):7===U.length&&(Ye=(16711680&Fe)>>16,Xe=(65280&Fe)>>8,Qe=255&Fe)),ie(Ye,Xe,Qe))}function kn(U,ie,de){var Te,Ee,Fe=Math.min(U/=255,ie/=255,de/=255),Ye=Math.max(U,ie,de),Xe=Ye-Fe,Qe=(Ye+Fe)/2;return Xe?(Ee=Qe<.5?Xe/(Ye+Fe):Xe/(2-Ye-Fe),Te=U==Ye?(ie-de)/Xe+(ie<de?6:0):ie==Ye?(de-U)/Xe+2:(U-ie)/Xe+4,Te*=60):(Te=NaN,Ee=Qe>0&&Qe<1?0:Te),new At(Te,Ee,Qe)}function xn(U,ie,de){var Te=fn((.4124564*(U=Rn(U))+.3575761*(ie=Rn(ie))+.1804375*(de=Rn(de)))/Wt),Ee=fn((.2126729*U+.7151522*ie+.072175*de)/$t);return Tt(116*Ee-16,500*(Te-Ee),200*(Ee-fn((.0193339*U+.119192*ie+.9503041*de)/Qt)))}function Rn(U){return(U/=255)<=.04045?U/12.92:Math.pow((U+.055)/1.055,2.4)}function Hn(U){var ie=parseFloat(U);return"%"===U.charAt(U.length-1)?Math.round(2.55*ie):ie}vn.brighter=function(U){U=Math.pow(.7,arguments.length?U:1);var ie=this.r,de=this.g,Te=this.b;return ie||de||Te?(ie&&ie<30&&(ie=30),de&&de<30&&(de=30),Te&&Te<30&&(Te=30),new Un(Math.min(255,ie/U),Math.min(255,de/U),Math.min(255,Te/U))):new Un(30,30,30)},vn.darker=function(U){return new Un((U=Math.pow(.7,arguments.length?U:1))*this.r,U*this.g,U*this.b)},vn.hsl=function(){return kn(this.r,this.g,this.b)},vn.toString=function(){return"#"+un(this.r)+un(this.g)+un(this.b)};var En=f.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});function Wn(U){return"function"==typeof U?U:function(){return U}}function gr(U){return function(ie,de,Te){return 2===arguments.length&&"function"==typeof de&&(Te=de,de=null),lr(ie,de,U,Te)}}function lr(U,ie,de,Te){var lt,Ee={},Fe=f.dispatch("beforesend","progress","load","error"),Ye={},Xe=new XMLHttpRequest,Qe=null;function nt(){var lt,Mt,jt,xt=Xe.status;if(!xt&&((jt=(Mt=Xe).responseType)&&"text"!==jt?Mt.response:Mt.responseText)||xt>=200&&xt<300||304===xt){try{lt=de.call(Ee,Xe)}catch(Mt){return void Fe.error.call(Ee,Mt)}Fe.load.call(Ee,lt)}else Fe.error.call(Ee,Xe)}return self.XDomainRequest&&!("withCredentials"in Xe)&&/^(http(s)?:)?\/\//.test(U)&&(Xe=new XDomainRequest),"onload"in Xe?Xe.onload=Xe.onerror=nt:Xe.onreadystatechange=function(){Xe.readyState>3&&nt()},Xe.onprogress=function(lt){var xt=f.event;f.event=lt;try{Fe.progress.call(Ee,Xe)}finally{f.event=xt}},Ee.header=function(lt,xt){return lt=(lt+"").toLowerCase(),arguments.length<2?Ye[lt]:(null==xt?delete Ye[lt]:Ye[lt]=xt+"",Ee)},Ee.mimeType=function(lt){return arguments.length?(ie=null==lt?null:lt+"",Ee):ie},Ee.responseType=function(lt){return arguments.length?(Qe=lt,Ee):Qe},Ee.response=function(lt){return de=lt,Ee},["get","post"].forEach(function(lt){Ee[lt]=function(){return Ee.send.apply(Ee,[lt].concat(M(arguments)))}}),Ee.send=function(lt,xt,Mt){if(2===arguments.length&&"function"==typeof xt&&(Mt=xt,xt=null),Xe.open(lt,U,!0),null==ie||"accept"in Ye||(Ye.accept=ie+",*/*"),Xe.setRequestHeader)for(var jt in Ye)Xe.setRequestHeader(jt,Ye[jt]);return null!=ie&&Xe.overrideMimeType&&Xe.overrideMimeType(ie),null!=Qe&&(Xe.responseType=Qe),null!=Mt&&Ee.on("error",Mt).on("load",function(Vt){Mt(null,Vt)}),Fe.beforesend.call(Ee,Xe),Xe.send(xt??null),Ee},Ee.abort=function(){return Xe.abort(),Ee},f.rebind(Ee,Fe,"on"),null==Te?Ee:Ee.get(1===(lt=Te).length?function(xt,Mt){lt(null==xt?Mt:null)}:lt)}En.forEach(function(U,ie){En.set(U,Sn(ie))}),f.functor=Wn,f.xhr=gr(F),f.dsv=function(U,ie){var de=new RegExp('["'+U+"\n]"),Te=U.charCodeAt(0);function Ee(nt,lt,xt){arguments.length<3&&(xt=lt,lt=null);var Mt=lr(nt,ie,null==lt?Fe:Ye(lt),xt);return Mt.row=function(jt){return arguments.length?Mt.response(null==(lt=jt)?Fe:Ye(jt)):lt},Mt}function Fe(nt){return Ee.parse(nt.responseText)}function Ye(nt){return function(lt){return Ee.parse(lt.responseText,nt)}}function Xe(nt){return nt.map(Qe).join(U)}function Qe(nt){return de.test(nt)?'"'+nt.replace(/\"/g,'""')+'"':nt}return Ee.parse=function(nt,lt){var xt;return Ee.parseRows(nt,function(Mt,jt){if(xt)return xt(Mt,jt-1);var Vt=function(Bt){for(var Xt={},Ut=Mt.length,mn=0;mn<Ut;++mn)Xt[Mt[mn]]=Bt[mn];return Xt};xt=lt?function(Bt,Xt){return lt(Vt(Bt),Xt)}:Vt})},Ee.parseRows=function(nt,lt){var xt,Mt,jt={},Vt={},Bt=[],Xt=nt.length,Ut=0,mn=0;function sn(){if(Ut>=Xt)return Vt;if(Mt)return Mt=!1,jt;var In=Ut;if(34===nt.charCodeAt(In)){for(var Pn=In;Pn++<Xt;)if(34===nt.charCodeAt(Pn)){if(34!==nt.charCodeAt(Pn+1))break;++Pn}return Ut=Pn+2,13===(tr=nt.charCodeAt(Pn+1))?(Mt=!0,10===nt.charCodeAt(Pn+2)&&++Ut):10===tr&&(Mt=!0),nt.slice(In+1,Pn).replace(/""/g,'"')}for(;Ut<Xt;){var tr,rr=1;if(10===(tr=nt.charCodeAt(Ut++)))Mt=!0;else if(13===tr)Mt=!0,10===nt.charCodeAt(Ut)&&(++Ut,++rr);else if(tr!==Te)continue;return nt.slice(In,Ut-rr)}return nt.slice(In)}for(;(xt=sn())!==Vt;){for(var rn=[];xt!==jt&&xt!==Vt;)rn.push(xt),xt=sn();lt&&null==(rn=lt(rn,mn++))||Bt.push(rn)}return Bt},Ee.format=function(nt){if(Array.isArray(nt[0]))return Ee.formatRows(nt);var lt=new X,xt=[];return nt.forEach(function(Mt){for(var jt in Mt)lt.has(jt)||xt.push(lt.add(jt))}),[xt.map(Qe).join(U)].concat(nt.map(function(Mt){return xt.map(function(jt){return Qe(Mt[jt])}).join(U)})).join("\n")},Ee.formatRows=function(nt){return nt.map(Xe).join("\n")},Ee},f.csv=f.dsv(",","text/csv"),f.tsv=f.dsv("\t","text/tab-separated-values");var wr,dr,mr,Ir,qt=this[G(this,"requestAnimationFrame")]||function(U){setTimeout(U,17)};function tn(U,ie,de){var Te=arguments.length;Te<2&&(ie=0),Te<3&&(de=Date.now());var Ee={c:U,t:de+ie,n:null};return dr?dr.n=Ee:wr=Ee,dr=Ee,mr||(Ir=clearTimeout(Ir),mr=1,qt(bn)),Ee}function bn(){var U=Cn(),ie=Bn()-U;ie>24?(isFinite(ie)&&(clearTimeout(Ir),Ir=setTimeout(bn,ie)),mr=0):(mr=1,qt(bn))}function Cn(){for(var U=Date.now(),ie=wr;ie;)U>=ie.t&&ie.c(U-ie.t)&&(ie.c=null),ie=ie.n;return U}function Bn(){for(var U,ie=wr,de=1/0;ie;)ie.c?(ie.t<de&&(de=ie.t),ie=(U=ie).n):ie=U?U.n=ie.n:wr=ie.n;return dr=U,de}function sr(U){return U[0]}function yn(U){return U[1]}function Zn(U){for(var ie,de,Te,Ee=U.length,Fe=[0,1],Ye=2,Xe=2;Xe<Ee;Xe++){for(;Ye>1&&((de=U[Fe[Ye-1]])[0]-(ie=U[Fe[Ye-2]])[0])*((Te=U[Xe])[1]-ie[1])-(de[1]-ie[1])*(Te[0]-ie[0])<=0;)--Ye;Fe[Ye++]=Xe}return Fe.slice(0,Ye)}function Xn(U,ie){return U[0]-ie[0]||U[1]-ie[1]}f.timer=function(){tn.apply(this,arguments)},f.timer.flush=function(){Cn(),Bn()},f.round=function(U,ie){return ie?Math.round(U*(ie=Math.pow(10,ie)))/ie:Math.round(U)},f.geom={},f.geom.hull=function(U){var ie=sr,de=yn;if(arguments.length)return Te(U);function Te(Ee){if(Ee.length<3)return[];var Fe,Ye=Wn(ie),Xe=Wn(de),Qe=Ee.length,nt=[],lt=[];for(Fe=0;Fe<Qe;Fe++)nt.push([+Ye.call(this,Ee[Fe],Fe),+Xe.call(this,Ee[Fe],Fe),Fe]);for(nt.sort(Xn),Fe=0;Fe<Qe;Fe++)lt.push([nt[Fe][0],-nt[Fe][1]]);var xt=Zn(nt),Mt=Zn(lt),jt=Mt[0]===xt[0],Vt=Mt[Mt.length-1]===xt[xt.length-1],Bt=[];for(Fe=xt.length-1;Fe>=0;--Fe)Bt.push(Ee[nt[xt[Fe]][2]]);for(Fe=+jt;Fe<Mt.length-Vt;++Fe)Bt.push(Ee[nt[Mt[Fe]][2]]);return Bt}return Te.x=function(Ee){return arguments.length?(ie=Ee,Te):ie},Te.y=function(Ee){return arguments.length?(de=Ee,Te):de},Te},f.geom.polygon=function(U){return oe(U,Jt),U};var Jt=f.geom.polygon.prototype=[];function Nn(U,ie,de){return(de[0]-ie[0])*(U[1]-ie[1])<(de[1]-ie[1])*(U[0]-ie[0])}function Ft(U,ie,de,Te){var Ee=U[0],Fe=de[0],Ye=ie[0]-Ee,Xe=Te[0]-Fe,Qe=U[1],nt=de[1],lt=ie[1]-Qe,xt=Te[1]-nt,Mt=(Xe*(Qe-nt)-xt*(Ee-Fe))/(xt*Ye-Xe*lt);return[Ee+Mt*Ye,Qe+Mt*lt]}function an(U){var ie=U[0],de=U[U.length-1];return!(ie[0]-de[0]||ie[1]-de[1])}Jt.area=function(){for(var U,ie=-1,de=this.length,Te=this[de-1],Ee=0;++ie<de;)Ee+=(U=Te)[1]*(Te=this[ie])[0]-U[0]*Te[1];return.5*Ee},Jt.centroid=function(U){var ie,de,Te=-1,Ee=this.length,Fe=0,Ye=0,Xe=this[Ee-1];for(arguments.length||(U=-1/(6*this.area()));++Te<Ee;)Fe+=((ie=Xe)[0]+(Xe=this[Te])[0])*(de=ie[0]*Xe[1]-Xe[0]*ie[1]),Ye+=(ie[1]+Xe[1])*de;return[Fe*U,Ye*U]},Jt.clip=function(U){for(var ie,de,Te,Ee,Fe,Ye,Xe=an(U),Qe=-1,nt=this.length-an(this),lt=this[nt-1];++Qe<nt;){for(ie=U.slice(),U.length=0,Ee=this[Qe],Fe=ie[(Te=ie.length-Xe)-1],de=-1;++de<Te;)Nn(Ye=ie[de],lt,Ee)?(Nn(Fe,lt,Ee)||U.push(Ft(Fe,Ye,lt,Ee)),U.push(Ye)):Nn(Fe,lt,Ee)&&U.push(Ft(Fe,Ye,lt,Ee)),Fe=Ye;Xe&&U.push(U[0]),lt=Ee}return U};var hn,Dn,Ln,Vn,Mn,ln=[],cn=[];function wn(){uo(this),this.edge=this.site=this.circle=null}function An(U){var ie=ln.pop()||new wn;return ie.site=U,ie}function Gn(U){Or(U),Ln.remove(U),ln.push(U),uo(U)}function Yn(U){var ie=U.circle,de=ie.x,Te=ie.cy,Ee={x:de,y:Te},Fe=U.P,Ye=U.N,Xe=[U];Gn(U);for(var Qe=Fe;Qe.circle&&w(de-Qe.circle.x)<pt&&w(Te-Qe.circle.cy)<pt;)Fe=Qe.P,Xe.unshift(Qe),Gn(Qe),Qe=Fe;Xe.unshift(Qe),Or(Qe);for(var nt=Ye;nt.circle&&w(de-nt.circle.x)<pt&&w(Te-nt.circle.cy)<pt;)Ye=nt.N,Xe.push(nt),Gn(nt),nt=Ye;Xe.push(nt),Or(nt);var lt,xt=Xe.length;for(lt=1;lt<xt;++lt)Fr((nt=Xe[lt]).edge,(Qe=Xe[lt-1]).site,nt.site,Ee);(nt=Xe[xt-1]).edge=nr((Qe=Xe[0]).site,nt.site,null,Ee),Mr(Qe),Mr(nt)}function hr(U){for(var ie,de,Te,Ee,Fe=U.x,Ye=U.y,Xe=Ln._;Xe;)if((Te=ir(Xe,Ye)-Fe)>pt)Xe=Xe.L;else{if(!((Ee=Fe-_r(Xe,Ye))>pt)){Te>-pt?(ie=Xe.P,de=Xe):Ee>-pt?(ie=Xe,de=Xe.N):ie=de=Xe;break}if(!Xe.R){ie=Xe;break}Xe=Xe.R}var Qe=An(U);if(Ln.insert(ie,Qe),ie||de){if(ie===de)return Or(ie),de=An(ie.site),Ln.insert(Qe,de),Qe.edge=de.edge=nr(ie.site,Qe.site),Mr(ie),void Mr(de);if(de){Or(ie),Or(de);var nt=ie.site,lt=nt.x,xt=nt.y,Mt=U.x-lt,jt=U.y-xt,Vt=de.site,Bt=Vt.x-lt,Xt=Vt.y-xt,Ut=2*(Mt*Xt-jt*Bt),mn=Mt*Mt+jt*jt,sn=Bt*Bt+Xt*Xt,rn={x:(Xt*mn-jt*sn)/Ut+lt,y:(Mt*sn-Bt*mn)/Ut+xt};Fr(de.edge,nt,Vt,rn),Qe.edge=nr(nt,U,null,rn),de.edge=nr(U,Vt,null,rn),Mr(ie),Mr(de)}else Qe.edge=nr(ie.site,Qe.site)}}function ir(U,ie){var de=U.site,Te=de.x,Ee=de.y,Fe=Ee-ie;if(!Fe)return Te;var Ye=U.P;if(!Ye)return-1/0;var Xe=(de=Ye.site).x,Qe=de.y,nt=Qe-ie;if(!nt)return Xe;var lt=Xe-Te,xt=1/Fe-1/nt,Mt=lt/nt;return xt?(-Mt+Math.sqrt(Mt*Mt-2*xt*(lt*lt/(-2*nt)-Qe+nt/2+Ee-Fe/2)))/xt+Te:(Te+Xe)/2}function _r(U,ie){var de=U.N;if(de)return ir(de,ie);var Te=U.site;return Te.y===ie?Te.x:1/0}function ur(U){this.site=U,this.edges=[]}function or(U,ie){return ie.angle-U.angle}function Tr(){uo(this),this.x=this.y=this.arc=this.site=this.cy=null}function Mr(U){var ie=U.P,de=U.N;if(ie&&de){var Te=ie.site,Ee=U.site,Fe=de.site;if(Te!==Fe){var Ye=Ee.x,Xe=Ee.y,Qe=Te.x-Ye,nt=Te.y-Xe,lt=Fe.x-Ye,xt=2*(Qe*(Xt=Fe.y-Xe)-nt*lt);if(!(xt>=-Pt)){var Mt=Qe*Qe+nt*nt,jt=lt*lt+Xt*Xt,Vt=(Xt*Mt-nt*jt)/xt,Bt=(Qe*jt-lt*Mt)/xt,Xt=Bt+Xe,Ut=cn.pop()||new Tr;Ut.arc=U,Ut.site=Ee,Ut.x=Vt+Ye,Ut.y=Xt+Math.sqrt(Vt*Vt+Bt*Bt),Ut.cy=Xt,U.circle=Ut;for(var mn=null,sn=Mn._;sn;)if(Ut.y<sn.y||Ut.y===sn.y&&Ut.x<=sn.x){if(!sn.L){mn=sn.P;break}sn=sn.L}else{if(!sn.R){mn=sn;break}sn=sn.R}Mn.insert(mn,Ut),mn||(Vn=Ut)}}}}function Or(U){var ie=U.circle;ie&&(ie.P||(Vn=ie.N),Mn.remove(ie),cn.push(ie),uo(ie),U.circle=null)}function Qn(U,ie){var de=U.b;if(de)return!0;var Te,Ee,Fe=U.a,Ye=ie[0][0],Xe=ie[1][0],Qe=ie[0][1],nt=ie[1][1],lt=U.l,xt=U.r,Mt=lt.x,jt=lt.y,Vt=xt.x,Bt=xt.y,Xt=(Mt+Vt)/2;if(Bt===jt){if(Xt<Ye||Xt>=Xe)return;if(Mt>Vt){if(Fe){if(Fe.y>=nt)return}else Fe={x:Xt,y:Qe};de={x:Xt,y:nt}}else{if(Fe){if(Fe.y<Qe)return}else Fe={x:Xt,y:nt};de={x:Xt,y:Qe}}}else if(Ee=(jt+Bt)/2-(Te=(Mt-Vt)/(Bt-jt))*Xt,Te<-1||Te>1)if(Mt>Vt){if(Fe){if(Fe.y>=nt)return}else Fe={x:(Qe-Ee)/Te,y:Qe};de={x:(nt-Ee)/Te,y:nt}}else{if(Fe){if(Fe.y<Qe)return}else Fe={x:(nt-Ee)/Te,y:nt};de={x:(Qe-Ee)/Te,y:Qe}}else if(jt<Bt){if(Fe){if(Fe.x>=Xe)return}else Fe={x:Ye,y:Te*Ye+Ee};de={x:Xe,y:Te*Xe+Ee}}else{if(Fe){if(Fe.x<Ye)return}else Fe={x:Xe,y:Te*Xe+Ee};de={x:Ye,y:Te*Ye+Ee}}return U.a=Fe,U.b=de,!0}function Yr(U,ie){this.l=U,this.r=ie,this.a=this.b=null}function nr(U,ie,de,Te){var Ee=new Yr(U,ie);return hn.push(Ee),de&&Fr(Ee,U,ie,de),Te&&Fr(Ee,ie,U,Te),Dn[U.i].edges.push(new ri(Ee,U,ie)),Dn[ie.i].edges.push(new ri(Ee,ie,U)),Ee}function Fr(U,ie,de,Te){U.a||U.b?U.l===de?U.b=Te:U.a=Te:(U.a=Te,U.l=ie,U.r=de)}function ri(U,ie,de){var Te=U.a,Ee=U.b;this.edge=U,this.site=ie,this.angle=de?Math.atan2(de.y-ie.y,de.x-ie.x):U.l===ie?Math.atan2(Ee.x-Te.x,Te.y-Ee.y):Math.atan2(Te.x-Ee.x,Ee.y-Te.y)}function $i(){this._=null}function uo(U){U.U=U.C=U.L=U.R=U.P=U.N=null}function to(U,ie){var de=ie,Te=ie.R,Ee=de.U;Ee?Ee.L===de?Ee.L=Te:Ee.R=Te:U._=Te,Te.U=Ee,de.U=Te,de.R=Te.L,de.R&&(de.R.U=de),Te.L=de}function oo(U,ie){var de=ie,Te=ie.L,Ee=de.U;Ee?Ee.L===de?Ee.L=Te:Ee.R=Te:U._=Te,Te.U=Ee,de.U=Te,de.L=Te.R,de.L&&(de.L.U=de),Te.R=de}function Qi(U){for(;U.L;)U=U.L;return U}function Io(U,ie){var de,Te,Ee,Fe=U.sort(Ys).pop();for(hn=[],Dn=new Array(U.length),Ln=new $i,Mn=new $i;;)if(Ee=Vn,Fe&&(!Ee||Fe.y<Ee.y||Fe.y===Ee.y&&Fe.x<Ee.x))Fe.x===de&&Fe.y===Te||(Dn[Fe.i]=new ur(Fe),hr(Fe),de=Fe.x,Te=Fe.y),Fe=U.pop();else{if(!Ee)break;Yn(Ee.arc)}ie&&(function(Xe){for(var Qe,nt,lt,xt,Mt,jt=hn,Vt=(nt=Xe[0][0],lt=Xe[0][1],xt=Xe[1][0],Mt=Xe[1][1],function(Xt){var Ut,mn=Xt.a,sn=Xt.b,rn=mn.x,In=mn.y,Pn=0,tr=1,rr=sn.x-rn,pr=sn.y-In;if(Ut=nt-rn,rr||!(Ut>0)){if(Ut/=rr,rr<0){if(Ut<Pn)return;Ut<tr&&(tr=Ut)}else if(rr>0){if(Ut>tr)return;Ut>Pn&&(Pn=Ut)}if(Ut=xt-rn,rr||!(Ut<0)){if(Ut/=rr,rr<0){if(Ut>tr)return;Ut>Pn&&(Pn=Ut)}else if(rr>0){if(Ut<Pn)return;Ut<tr&&(tr=Ut)}if(Ut=lt-In,pr||!(Ut>0)){if(Ut/=pr,pr<0){if(Ut<Pn)return;Ut<tr&&(tr=Ut)}else if(pr>0){if(Ut>tr)return;Ut>Pn&&(Pn=Ut)}if(Ut=Mt-In,pr||!(Ut<0)){if(Ut/=pr,pr<0){if(Ut>tr)return;Ut>Pn&&(Pn=Ut)}else if(pr>0){if(Ut<Pn)return;Ut<tr&&(tr=Ut)}return Pn>0&&(Xt.a={x:rn+Pn*rr,y:In+Pn*pr}),tr<1&&(Xt.b={x:rn+tr*rr,y:In+tr*pr}),Xt}}}}}),Bt=jt.length;Bt--;)(!Qn(Qe=jt[Bt],Xe)||!Vt(Qe)||w(Qe.a.x-Qe.b.x)<pt&&w(Qe.a.y-Qe.b.y)<pt)&&(Qe.a=Qe.b=null,jt.splice(Bt,1))}(ie),function(Xe){for(var Qe,nt,lt,xt,Mt,jt,Vt,Bt,Xt,Ut,mn=Xe[0][0],sn=Xe[1][0],rn=Xe[0][1],In=Xe[1][1],Pn=Dn,tr=Pn.length;tr--;)if((Mt=Pn[tr])&&Mt.prepare())for(Bt=(Vt=Mt.edges).length,jt=0;jt<Bt;)lt=(Ut=Vt[jt].end()).x,xt=Ut.y,Qe=(Xt=Vt[++jt%Bt].start()).x,nt=Xt.y,(w(lt-Qe)>pt||w(xt-nt)>pt)&&(Vt.splice(jt,0,new ri((rr=Mt.site,pr=Ut,yr=w(lt-mn)<pt&&In-xt>pt?{x:mn,y:w(Qe-mn)<pt?nt:In}:w(xt-In)<pt&&sn-lt>pt?{x:w(nt-In)<pt?Qe:sn,y:In}:w(lt-sn)<pt&&xt-rn>pt?{x:sn,y:w(Qe-sn)<pt?nt:rn}:w(xt-rn)<pt&&lt-mn>pt?{x:w(nt-rn)<pt?Qe:mn,y:rn}:null,Er=void 0,(Er=new Yr(rr,null)).a=pr,Er.b=yr,hn.push(Er),Er),Mt.site,null)),++Bt);var rr,pr,yr,Er}(ie));var Ye={cells:Dn,edges:hn};return Ln=Mn=hn=Dn=null,Ye}function Ys(U,ie){return ie.y-U.y||ie.x-U.x}ur.prototype.prepare=function(){for(var U,ie=this.edges,de=ie.length;de--;)(U=ie[de].edge).b&&U.a||ie.splice(de,1);return ie.sort(or),ie.length},ri.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},$i.prototype={insert:function(U,ie){var de,Te,Ee;if(U){if(ie.P=U,ie.N=U.N,U.N&&(U.N.P=ie),U.N=ie,U.R){for(U=U.R;U.L;)U=U.L;U.L=ie}else U.R=ie;de=U}else this._?(U=Qi(this._),ie.P=null,ie.N=U,U.P=U.L=ie,de=U):(ie.P=ie.N=null,this._=ie,de=null);for(ie.L=ie.R=null,ie.U=de,ie.C=!0,U=ie;de&&de.C;)de===(Te=de.U).L?(Ee=Te.R)&&Ee.C?(de.C=Ee.C=!1,Te.C=!0,U=Te):(U===de.R&&(to(this,de),de=(U=de).U),de.C=!1,Te.C=!0,oo(this,Te)):(Ee=Te.L)&&Ee.C?(de.C=Ee.C=!1,Te.C=!0,U=Te):(U===de.L&&(oo(this,de),de=(U=de).U),de.C=!1,Te.C=!0,to(this,Te)),de=U.U;this._.C=!1},remove:function(U){U.N&&(U.N.P=U.P),U.P&&(U.P.N=U.N),U.N=U.P=null;var ie,de,Te,Ee=U.U,Fe=U.L,Ye=U.R;if(de=Fe?Ye?Qi(Ye):Fe:Ye,Ee?Ee.L===U?Ee.L=de:Ee.R=de:this._=de,Fe&&Ye?(Te=de.C,de.C=U.C,de.L=Fe,Fe.U=de,de!==Ye?(Ee=de.U,de.U=U.U,Ee.L=U=de.R,de.R=Ye,Ye.U=de):(de.U=Ee,Ee=de,U=de.R)):(Te=U.C,U=de),U&&(U.U=Ee),!Te)if(U&&U.C)U.C=!1;else{do{if(U===this._)break;if(U===Ee.L){if((ie=Ee.R).C&&(ie.C=!1,Ee.C=!0,to(this,Ee),ie=Ee.R),ie.L&&ie.L.C||ie.R&&ie.R.C){ie.R&&ie.R.C||(ie.L.C=!1,ie.C=!0,oo(this,ie),ie=Ee.R),ie.C=Ee.C,Ee.C=ie.R.C=!1,to(this,Ee),U=this._;break}}else if((ie=Ee.L).C&&(ie.C=!1,Ee.C=!0,oo(this,Ee),ie=Ee.L),ie.L&&ie.L.C||ie.R&&ie.R.C){ie.L&&ie.L.C||(ie.R.C=!1,ie.C=!0,to(this,ie),ie=Ee.L),ie.C=Ee.C,Ee.C=ie.L.C=!1,oo(this,Ee),U=this._;break}ie.C=!0,U=Ee,Ee=Ee.U}while(!U.C);U&&(U.C=!1)}}},f.geom.voronoi=function(U){var ie=sr,de=yn,Te=ie,Ee=de,Fe=di;if(U)return Ye(U);function Ye(Qe){var nt=new Array(Qe.length),lt=Fe[0][0],xt=Fe[0][1],Mt=Fe[1][0],jt=Fe[1][1];return Io(Xe(Qe),Fe).cells.forEach(function(Vt,Bt){var Xt=Vt.edges,Ut=Vt.site;(nt[Bt]=Xt.length?Xt.map(function(mn){var sn=mn.start();return[sn.x,sn.y]}):Ut.x>=lt&&Ut.x<=Mt&&Ut.y>=xt&&Ut.y<=jt?[[lt,jt],[Mt,jt],[Mt,xt],[lt,xt]]:[]).point=Qe[Bt]}),nt}function Xe(Qe){return Qe.map(function(nt,lt){return{x:Math.round(Te(nt,lt)/pt)*pt,y:Math.round(Ee(nt,lt)/pt)*pt,i:lt}})}return Ye.links=function(Qe){return Io(Xe(Qe)).edges.filter(function(nt){return nt.l&&nt.r}).map(function(nt){return{source:Qe[nt.l.i],target:Qe[nt.r.i]}})},Ye.triangles=function(Qe){var nt=[];return Io(Xe(Qe)).cells.forEach(function(lt,xt){for(var Mt,jt,Vt,Bt,Xt=lt.site,Ut=lt.edges.sort(or),mn=-1,sn=Ut.length,rn=Ut[sn-1].edge,In=rn.l===Xt?rn.r:rn.l;++mn<sn;)Mt=In,In=(rn=Ut[mn].edge).l===Xt?rn.r:rn.l,xt<Mt.i&&xt<In.i&&((jt=Xt).x-(Bt=In).x)*((Vt=Mt).y-jt.y)-(jt.x-Vt.x)*(Bt.y-jt.y)<0&&nt.push([Qe[xt],Qe[Mt.i],Qe[In.i]])}),nt},Ye.x=function(Qe){return arguments.length?(Te=Wn(ie=Qe),Ye):ie},Ye.y=function(Qe){return arguments.length?(Ee=Wn(de=Qe),Ye):de},Ye.clipExtent=function(Qe){return arguments.length?(Fe=Qe??di,Ye):Fe===di?null:Fe},Ye.size=function(Qe){return arguments.length?Ye.clipExtent(Qe&&[[0,0],Qe]):Fe===di?null:Fe&&Fe[1]},Ye};var di=[[-1e6,-1e6],[1e6,1e6]];function Fs(U){return U.x}function tc(U){return U.y}function ca(U,ie,de,Te,Ee,Fe){if(!U(ie,de,Te,Ee,Fe)){var Ye=.5*(de+Ee),Xe=.5*(Te+Fe),Qe=ie.nodes;Qe[0]&&ca(U,Qe[0],de,Te,Ye,Xe),Qe[1]&&ca(U,Qe[1],Ye,Te,Ee,Xe),Qe[2]&&ca(U,Qe[2],de,Xe,Ye,Fe),Qe[3]&&ca(U,Qe[3],Ye,Xe,Ee,Fe)}}function lu(U,ie){U=f.rgb(U),ie=f.rgb(ie);var de=U.r,Te=U.g,Ee=U.b,Fe=ie.r-de,Ye=ie.g-Te,Xe=ie.b-Ee;return function(Qe){return"#"+un(Math.round(de+Fe*Qe))+un(Math.round(Te+Ye*Qe))+un(Math.round(Ee+Xe*Qe))}}function nf(U,ie){var de,Te={},Ee={};for(de in U)de in ie?Te[de]=Cs(U[de],ie[de]):Ee[de]=U[de];for(de in ie)de in U||(Ee[de]=ie[de]);return function(Fe){for(de in Te)Ee[de]=Te[de](Fe);return Ee}}function ji(U,ie){return U=+U,ie=+ie,function(de){return U*(1-de)+ie*de}}function Rf(U,ie){var de,Te,Ee,Fe=uu.lastIndex=$r.lastIndex=0,Ye=-1,Xe=[],Qe=[];for(U+="",ie+="";(de=uu.exec(U))&&(Te=$r.exec(ie));)(Ee=Te.index)>Fe&&(Ee=ie.slice(Fe,Ee),Xe[Ye]?Xe[Ye]+=Ee:Xe[++Ye]=Ee),(de=de[0])===(Te=Te[0])?Xe[Ye]?Xe[Ye]+=Te:Xe[++Ye]=Te:(Xe[++Ye]=null,Qe.push({i:Ye,x:ji(de,Te)})),Fe=$r.lastIndex;return Fe<ie.length&&(Ee=ie.slice(Fe),Xe[Ye]?Xe[Ye]+=Ee:Xe[++Ye]=Ee),Xe.length<2?Qe[0]?(ie=Qe[0].x,function(nt){return ie(nt)+""}):function(){return ie}:(ie=Qe.length,function(nt){for(var lt,xt=0;xt<ie;++xt)Xe[(lt=Qe[xt]).i]=lt.x(nt);return Xe.join("")})}f.geom.delaunay=function(U){return f.geom.voronoi().triangles(U)},f.geom.quadtree=function(U,ie,de,Te,Ee){var Fe,Ye=sr,Xe=yn;if(Fe=arguments.length)return Ye=Fs,Xe=tc,3===Fe&&(Ee=de,Te=ie,de=ie=0),Qe(U);function Qe(nt){var lt,xt,Mt,jt,Vt,Bt,Xt,Ut,mn,sn=Wn(Ye),rn=Wn(Xe);if(null!=ie)Bt=ie,Xt=de,Ut=Te,mn=Ee;else if(Ut=mn=-(Bt=Xt=1/0),xt=[],Mt=[],Vt=nt.length,Fe)for(jt=0;jt<Vt;++jt)(lt=nt[jt]).x<Bt&&(Bt=lt.x),lt.y<Xt&&(Xt=lt.y),lt.x>Ut&&(Ut=lt.x),lt.y>mn&&(mn=lt.y),xt.push(lt.x),Mt.push(lt.y);else for(jt=0;jt<Vt;++jt){var In=+sn(lt=nt[jt],jt),Pn=+rn(lt,jt);In<Bt&&(Bt=In),Pn<Xt&&(Xt=Pn),In>Ut&&(Ut=In),Pn>mn&&(mn=Pn),xt.push(In),Mt.push(Pn)}var tr=Ut-Bt,rr=mn-Xt;function pr(Sr,Rr,qr,oi,cr,Ar,Nr,Wr){if(!isNaN(qr)&&!isNaN(oi))if(Sr.leaf){var ti=Sr.x,ci=Sr.y;if(null!=ti)if(w(ti-qr)+w(ci-oi)<.01)yr(Sr,Rr,qr,oi,cr,Ar,Nr,Wr);else{var Li=Sr.point;Sr.x=Sr.y=Sr.point=null,yr(Sr,Li,ti,ci,cr,Ar,Nr,Wr),yr(Sr,Rr,qr,oi,cr,Ar,Nr,Wr)}else Sr.x=qr,Sr.y=oi,Sr.point=Rr}else yr(Sr,Rr,qr,oi,cr,Ar,Nr,Wr)}function yr(Sr,Rr,qr,oi,cr,Ar,Nr,Wr){var ti=.5*(cr+Nr),ci=.5*(Ar+Wr),Li=qr>=ti,ro=oi>=ci,fo=ro<<1|Li;Sr.leaf=!1,Li?cr=ti:Nr=ti,ro?Ar=ci:Wr=ci,pr(Sr=Sr.nodes[fo]||(Sr.nodes[fo]={leaf:!0,nodes:[],point:null,x:null,y:null}),Rr,qr,oi,cr,Ar,Nr,Wr)}tr>rr?mn=Xt+tr:Ut=Bt+rr;var Er={leaf:!0,nodes:[],point:null,x:null,y:null,add:function(Sr){pr(Er,Sr,+sn(Sr,++jt),+rn(Sr,jt),Bt,Xt,Ut,mn)},visit:function(Sr){ca(Sr,Er,Bt,Xt,Ut,mn)},find:function(Sr){return qr=Sr[0],oi=Sr[1],ci=1/0,function Li(ro,fo,Ai,Ji,Vo){if(!(fo>Nr||Ai>Wr||Ji<cr||Vo<Ar)){if(_a=ro.point){var _a,Zo=qr-ro.x,oa=oi-ro.y,Ui=Zo*Zo+oa*oa;if(Ui<ci){var ki=Math.sqrt(ci=Ui);cr=qr-ki,Ar=oi-ki,Nr=qr+ki,Wr=oi+ki,ti=_a}}for(var ho=ro.nodes,Pi=.5*(fo+Ji),po=.5*(Ai+Vo),ja=(oi>=po)<<1|qr>=Pi,pi=ja+4;ja<pi;++ja)if(ro=ho[3&ja])switch(3&ja){case 0:Li(ro,fo,Ai,Pi,po);break;case 1:Li(ro,Pi,Ai,Ji,po);break;case 2:Li(ro,fo,po,Pi,Vo);break;case 3:Li(ro,Pi,po,Ji,Vo)}}}(Er,cr=Bt,Ar=Xt,Nr=Ut,Wr=mn),ti;var qr,oi,cr,Ar,Nr,Wr,ti,ci}};if(jt=-1,null==ie){for(;++jt<Vt;)pr(Er,nt[jt],xt[jt],Mt[jt],Bt,Xt,Ut,mn);--jt}else nt.forEach(Er.add);return xt=Mt=nt=lt=null,Er}return Qe.x=function(nt){return arguments.length?(Ye=nt,Qe):Ye},Qe.y=function(nt){return arguments.length?(Xe=nt,Qe):Xe},Qe.extent=function(nt){return arguments.length?(null==nt?ie=de=Te=Ee=null:(ie=+nt[0][0],de=+nt[0][1],Te=+nt[1][0],Ee=+nt[1][1]),Qe):null==ie?null:[[ie,de],[Te,Ee]]},Qe.size=function(nt){return arguments.length?(null==nt?ie=de=Te=Ee=null:(ie=de=0,Te=+nt[0],Ee=+nt[1]),Qe):null==ie?null:[Te-ie,Ee-de]},Qe},f.interpolateRgb=lu,f.interpolateObject=nf,f.interpolateNumber=ji,f.interpolateString=Rf;var uu=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,$r=new RegExp(uu.source,"g");function Cs(U,ie){for(var de,Te=f.interpolators.length;--Te>=0&&!(de=f.interpolators[Te](U,ie)););return de}function jo(U,ie){var de,Te=[],Ee=[],Fe=U.length,Ye=ie.length,Xe=Math.min(U.length,ie.length);for(de=0;de<Xe;++de)Te.push(Cs(U[de],ie[de]));for(;de<Fe;++de)Ee[de]=U[de];for(;de<Ye;++de)Ee[de]=ie[de];return function(Qe){for(de=0;de<Xe;++de)Ee[de]=Te[de](Qe);return Ee}}f.interpolate=Cs,f.interpolators=[function(U,ie){var de=typeof ie;return("string"===de?En.has(ie.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(ie)?lu:Rf:ie instanceof ut?lu:Array.isArray(ie)?jo:"object"===de&&isNaN(ie)?nf:ji)(U,ie)}],f.interpolateArray=jo;var cu=function(){return F},Vi=f.map({linear:cu,poly:function(U){return function(ie){return Math.pow(ie,U)}},quad:function(){return Xs},cubic:function(){return Wl},sin:function(){return Dl},exp:function(){return Il},circle:function(){return nc},elastic:function(U,ie){var de;return arguments.length<2&&(ie=.45),arguments.length?de=ie/Ht*Math.asin(1/U):(U=1,de=ie/4),function(Te){return 1+U*Math.pow(2,-10*Te)*Math.sin((Te-de)*Ht/ie)}},back:function(U){return U||(U=1.70158),function(ie){return ie*ie*((U+1)*ie-U)}},bounce:function(){return zs}}),Zs=f.map({in:F,out:Wa,"in-out":El,"out-in":function(U){return El(Wa(U))}});function Wa(U){return function(ie){return 1-U(1-ie)}}function El(U){return function(ie){return.5*(ie<.5?U(2*ie):2-U(2-2*ie))}}function Xs(U){return U*U}function Wl(U){return U*U*U}function Cl(U){if(U<=0)return 0;if(U>=1)return 1;var ie=U*U,de=ie*U;return 4*(U<.5?de:3*(U-ie)+de-.75)}function Dl(U){return 1-Math.cos(U*tt)}function Il(U){return Math.pow(2,10*(U-1))}function nc(U){return 1-Math.sqrt(1-U*U)}function zs(U){return U<.36363636363636365?7.5625*U*U:U<.7272727272727273?7.5625*(U-=.5454545454545454)*U+.75:U<.9090909090909091?7.5625*(U-=.8181818181818182)*U+.9375:7.5625*(U-=.9545454545454546)*U+.984375}function rf(U,ie){return ie-=U,function(de){return Math.round(U+ie*de)}}function Mc(U){var ie,de,Te,Ee=[U.a,U.b],Fe=[U.c,U.d],Ye=rc(Ee),Xe=af(Ee,Fe),Qe=rc(((ie=Fe)[0]+=(Te=-Xe)*(de=Ee)[0],ie[1]+=Te*de[1],ie))||0;Ee[0]*Fe[1]<Fe[0]*Ee[1]&&(Ee[0]*=-1,Ee[1]*=-1,Ye*=-1,Xe*=-1),this.rotate=(Ye?Math.atan2(Ee[1],Ee[0]):Math.atan2(-Fe[0],Fe[1]))*Je,this.translate=[U.e,U.f],this.scale=[Ye,Qe],this.skew=Qe?Math.atan2(Xe,Qe)*Je:0}function af(U,ie){return U[0]*ie[0]+U[1]*ie[1]}function rc(U){var ie=Math.sqrt(af(U,U));return ie&&(U[0]/=ie,U[1]/=ie),ie}f.ease=function(U){var ie,de=U.indexOf("-"),Te=de>=0?U.slice(0,de):U,Ee=de>=0?U.slice(de+1):"in";return Te=Vi.get(Te)||cu,Ee=Zs.get(Ee)||F,ie=Ee(Te.apply(null,k.call(arguments,1))),function(Fe){return Fe<=0?0:Fe>=1?1:ie(Fe)}},f.interpolateHcl=function(U,ie){U=f.hcl(U),ie=f.hcl(ie);var de=U.h,Te=U.c,Ee=U.l,Fe=ie.h-de,Ye=ie.c-Te,Xe=ie.l-Ee;return isNaN(Ye)&&(Ye=0,Te=isNaN(Te)?ie.c:Te),isNaN(Fe)?(Fe=0,de=isNaN(de)?ie.h:de):Fe>180?Fe-=360:Fe<-180&&(Fe+=360),function(Qe){return bt(de+Fe*Qe,Te+Ye*Qe,Ee+Xe*Qe)+""}},f.interpolateHsl=function(U,ie){U=f.hsl(U),ie=f.hsl(ie);var de=U.h,Te=U.s,Ee=U.l,Fe=ie.h-de,Ye=ie.s-Te,Xe=ie.l-Ee;return isNaN(Ye)&&(Ye=0,Te=isNaN(Te)?ie.s:Te),isNaN(Fe)?(Fe=0,de=isNaN(de)?ie.h:de):Fe>180?Fe-=360:Fe<-180&&(Fe+=360),function(Qe){return St(de+Fe*Qe,Te+Ye*Qe,Ee+Xe*Qe)+""}},f.interpolateLab=function(U,ie){U=f.lab(U),ie=f.lab(ie);var de=U.l,Te=U.a,Ee=U.b,Fe=ie.l-de,Ye=ie.a-Te,Xe=ie.b-Ee;return function(Qe){return en(de+Fe*Qe,Te+Ye*Qe,Ee+Xe*Qe)+""}},f.interpolateRound=rf,f.transform=function(U){var ie=y.createElementNS(f.ns.prefix.svg,"g");return(f.transform=function(de){if(null!=de){ie.setAttribute("transform",de);var Te=ie.transform.baseVal.consolidate()}return new Mc(Te?Te.matrix:$l)})(U)},Mc.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var $l={a:1,b:0,c:0,d:1,e:0,f:0};function fu(U){return U.length?U.pop()+",":""}function $a(U,ie){var Ee,Fe,Ye,de=[],Te=[];return U=f.transform(U),ie=f.transform(ie),function(Ee,Fe,Ye,Xe){if(Ee[0]!==Fe[0]||Ee[1]!==Fe[1]){var Qe=Ye.push("translate(",null,",",null,")");Xe.push({i:Qe-4,x:ji(Ee[0],Fe[0])},{i:Qe-2,x:ji(Ee[1],Fe[1])})}else(Fe[0]||Fe[1])&&Ye.push("translate("+Fe+")")}(U.translate,ie.translate,de,Te),Ye=de,(Ee=U.rotate)!==(Fe=ie.rotate)?(Ee-Fe>180?Fe+=360:Fe-Ee>180&&(Ee+=360),Te.push({i:Ye.push(fu(Ye)+"rotate(",null,")")-2,x:ji(Ee,Fe)})):Fe&&Ye.push(fu(Ye)+"rotate("+Fe+")"),function(Ee,Fe,Ye,Xe){Ee!==Fe?Xe.push({i:Ye.push(fu(Ye)+"skewX(",null,")")-2,x:ji(Ee,Fe)}):Fe&&Ye.push(fu(Ye)+"skewX("+Fe+")")}(U.skew,ie.skew,de,Te),function(Ee,Fe,Ye,Xe){if(Ee[0]!==Fe[0]||Ee[1]!==Fe[1]){var Qe=Ye.push(fu(Ye)+"scale(",null,",",null,")");Xe.push({i:Qe-4,x:ji(Ee[0],Fe[0])},{i:Qe-2,x:ji(Ee[1],Fe[1])})}else 1===Fe[0]&&1===Fe[1]||Ye.push(fu(Ye)+"scale("+Fe+")")}(U.scale,ie.scale,de,Te),U=ie=null,function(Ee){for(var Fe,Ye=-1,Xe=Te.length;++Ye<Xe;)de[(Fe=Te[Ye]).i]=Fe.x(Ee);return de.join("")}}function Yl(U,ie){return ie=(ie-=U=+U)||1/ie,function(de){return(de-U)/ie}}function Hr(U,ie){return ie=(ie-=U=+U)||1/ie,function(de){return Math.max(0,Math.min(1,(de-U)/ie))}}function Ru(U){for(var ie=U.source,de=U.target,Te=function(Ye,Xe){if(Ye===Xe)return Ye;for(var Qe=Br(Ye),nt=Br(Xe),lt=Qe.pop(),xt=nt.pop(),Mt=null;lt===xt;)Mt=lt,lt=Qe.pop(),xt=nt.pop();return Mt}(ie,de),Ee=[ie];ie!==Te;)Ee.push(ie=ie.parent);for(var Fe=Ee.length;de!==Te;)Ee.splice(Fe,0,de),de=de.parent;return Ee}function Br(U){for(var ie=[],de=U.parent;null!=de;)ie.push(U),U=de,de=de.parent;return ie.push(U),ie}function du(U){U.fixed|=2}function is(U){U.fixed&=-7}function Bs(U){U.fixed|=4,U.px=U.x,U.py=U.y}function Js(U){U.fixed&=-5}function cl(U,ie,de){var Te=0,Ee=0;if(U.charge=0,!U.leaf)for(var Fe,Ye=U.nodes,Xe=Ye.length,Qe=-1;++Qe<Xe;)null!=(Fe=Ye[Qe])&&(cl(Fe,ie,de),U.charge+=Fe.charge,Te+=Fe.charge*Fe.cx,Ee+=Fe.charge*Fe.cy);if(U.point){U.leaf||(U.point.x+=Math.random()-.5,U.point.y+=Math.random()-.5);var nt=ie*de[U.point.index];U.charge+=U.pointCharge=nt,Te+=nt*U.point.x,Ee+=nt*U.point.y}U.cx=Te/U.charge,U.cy=Ee/U.charge}f.interpolateTransform=$a,f.layout={},f.layout.bundle=function(){return function(U){for(var ie=[],de=-1,Te=U.length;++de<Te;)ie.push(Ru(U[de]));return ie}},f.layout.chord=function(){var U,ie,de,Te,Ee,Fe,Ye,Xe={},Qe=0;function nt(){var xt,Mt,jt,Vt,Bt,Xt={},Ut=[],mn=f.range(Te),sn=[];for(U=[],ie=[],xt=0,Vt=-1;++Vt<Te;){for(Mt=0,Bt=-1;++Bt<Te;)Mt+=de[Vt][Bt];Ut.push(Mt),sn.push(f.range(Te)),xt+=Mt}for(Ee&&mn.sort(function(Er,Sr){return Ee(Ut[Er],Ut[Sr])}),Fe&&sn.forEach(function(Er,Sr){Er.sort(function(Rr,qr){return Fe(de[Sr][Rr],de[Sr][qr])})}),xt=(Ht-Qe*Te)/xt,Mt=0,Vt=-1;++Vt<Te;){for(jt=Mt,Bt=-1;++Bt<Te;){var rn=mn[Vt],In=sn[rn][Bt],Pn=de[rn][In],tr=Mt,rr=Mt+=Pn*xt;Xt[rn+"-"+In]={index:rn,subindex:In,startAngle:tr,endAngle:rr,value:Pn}}ie[rn]={index:rn,startAngle:jt,endAngle:Mt,value:Ut[rn]},Mt+=Qe}for(Vt=-1;++Vt<Te;)for(Bt=Vt-1;++Bt<Te;){var pr=Xt[Vt+"-"+Bt],yr=Xt[Bt+"-"+Vt];(pr.value||yr.value)&&U.push(pr.value<yr.value?{source:yr,target:pr}:{source:pr,target:yr})}Ye&&lt()}function lt(){U.sort(function(xt,Mt){return Ye((xt.source.value+xt.target.value)/2,(Mt.source.value+Mt.target.value)/2)})}return Xe.matrix=function(xt){return arguments.length?(Te=(de=xt)&&de.length,U=ie=null,Xe):de},Xe.padding=function(xt){return arguments.length?(Qe=xt,U=ie=null,Xe):Qe},Xe.sortGroups=function(xt){return arguments.length?(Ee=xt,U=ie=null,Xe):Ee},Xe.sortSubgroups=function(xt){return arguments.length?(Fe=xt,U=null,Xe):Fe},Xe.sortChords=function(xt){return arguments.length?(Ye=xt,U&&lt(),Xe):Ye},Xe.chords=function(){return U||nt(),U},Xe.groups=function(){return ie||nt(),ie},Xe},f.layout.force=function(){var U,ie,de,Te,Ee,Fe,Ye={},Xe=f.dispatch("start","tick","end"),Qe=[1,1],nt=.9,lt=sf,xt=Fa,Mt=-30,jt=Yi,Vt=.1,Bt=.64,Xt=[],Ut=[];function mn(rn){return function(In,Pn,tr,rr){if(In.point!==rn){var pr=In.cx-rn.x,yr=In.cy-rn.y,Er=rr-Pn,Sr=pr*pr+yr*yr;if(Er*Er/Bt<Sr){if(Sr<jt){var Rr=In.charge/Sr;rn.px-=pr*Rr,rn.py-=yr*Rr}return!0}In.point&&Sr&&Sr<jt&&(rn.px-=pr*(Rr=In.pointCharge/Sr),rn.py-=yr*Rr)}return!In.charge}}function sn(rn){rn.px=f.event.x,rn.py=f.event.y,Ye.resume()}return Ye.tick=function(){if((de*=.99)<.005)return U=null,Xe.end({type:"end",alpha:de=0}),!0;var rn,In,Pn,tr,rr,pr,yr,Er,Sr,Rr=Xt.length,qr=Ut.length;for(In=0;In<qr;++In)tr=(Pn=Ut[In]).source,(pr=(Er=(rr=Pn.target).x-tr.x)*Er+(Sr=rr.y-tr.y)*Sr)&&(Er*=pr=de*Ee[In]*((pr=Math.sqrt(pr))-Te[In])/pr,Sr*=pr,rr.x-=Er*(yr=tr.weight+rr.weight?tr.weight/(tr.weight+rr.weight):.5),rr.y-=Sr*yr,tr.x+=Er*(yr=1-yr),tr.y+=Sr*yr);if((yr=de*Vt)&&(Er=Qe[0]/2,Sr=Qe[1]/2,In=-1,yr))for(;++In<Rr;)(Pn=Xt[In]).x+=(Er-Pn.x)*yr,Pn.y+=(Sr-Pn.y)*yr;if(Mt)for(cl(rn=f.geom.quadtree(Xt),de,Fe),In=-1;++In<Rr;)(Pn=Xt[In]).fixed||rn.visit(mn(Pn));for(In=-1;++In<Rr;)(Pn=Xt[In]).fixed?(Pn.x=Pn.px,Pn.y=Pn.py):(Pn.x-=(Pn.px-(Pn.px=Pn.x))*nt,Pn.y-=(Pn.py-(Pn.py=Pn.y))*nt);Xe.tick({type:"tick",alpha:de})},Ye.nodes=function(rn){return arguments.length?(Xt=rn,Ye):Xt},Ye.links=function(rn){return arguments.length?(Ut=rn,Ye):Ut},Ye.size=function(rn){return arguments.length?(Qe=rn,Ye):Qe},Ye.linkDistance=function(rn){return arguments.length?(lt="function"==typeof rn?rn:+rn,Ye):lt},Ye.distance=Ye.linkDistance,Ye.linkStrength=function(rn){return arguments.length?(xt="function"==typeof rn?rn:+rn,Ye):xt},Ye.friction=function(rn){return arguments.length?(nt=+rn,Ye):nt},Ye.charge=function(rn){return arguments.length?(Mt="function"==typeof rn?rn:+rn,Ye):Mt},Ye.chargeDistance=function(rn){return arguments.length?(jt=rn*rn,Ye):Math.sqrt(jt)},Ye.gravity=function(rn){return arguments.length?(Vt=+rn,Ye):Vt},Ye.theta=function(rn){return arguments.length?(Bt=rn*rn,Ye):Math.sqrt(Bt)},Ye.alpha=function(rn){return arguments.length?(rn=+rn,de?rn>0?de=rn:(U.c=null,U.t=NaN,U=null,Xe.end({type:"end",alpha:de=0})):rn>0&&(Xe.start({type:"start",alpha:de=rn}),U=tn(Ye.tick)),Ye):de},Ye.start=function(){var rn,In,Pn,tr=Xt.length,rr=Ut.length,pr=Qe[0],yr=Qe[1];for(rn=0;rn<tr;++rn)(Pn=Xt[rn]).index=rn,Pn.weight=0;for(rn=0;rn<rr;++rn)"number"==typeof(Pn=Ut[rn]).source&&(Pn.source=Xt[Pn.source]),"number"==typeof Pn.target&&(Pn.target=Xt[Pn.target]),++Pn.source.weight,++Pn.target.weight;for(rn=0;rn<tr;++rn)Pn=Xt[rn],isNaN(Pn.x)&&(Pn.x=Er("x",pr)),isNaN(Pn.y)&&(Pn.y=Er("y",yr)),isNaN(Pn.px)&&(Pn.px=Pn.x),isNaN(Pn.py)&&(Pn.py=Pn.y);if(Te=[],"function"==typeof lt)for(rn=0;rn<rr;++rn)Te[rn]=+lt.call(this,Ut[rn],rn);else for(rn=0;rn<rr;++rn)Te[rn]=lt;if(Ee=[],"function"==typeof xt)for(rn=0;rn<rr;++rn)Ee[rn]=+xt.call(this,Ut[rn],rn);else for(rn=0;rn<rr;++rn)Ee[rn]=xt;if(Fe=[],"function"==typeof Mt)for(rn=0;rn<tr;++rn)Fe[rn]=+Mt.call(this,Xt[rn],rn);else for(rn=0;rn<tr;++rn)Fe[rn]=Mt;function Er(Sr,Rr){if(!In){for(In=new Array(tr),Ar=0;Ar<tr;++Ar)In[Ar]=[];for(Ar=0;Ar<rr;++Ar){var qr=Ut[Ar];In[qr.source.index].push(qr.target),In[qr.target.index].push(qr.source)}}for(var oi,cr=In[rn],Ar=-1,Nr=cr.length;++Ar<Nr;)if(!isNaN(oi=cr[Ar][Sr]))return oi;return Math.random()*Rr}return Ye.resume()},Ye.resume=function(){return Ye.alpha(.1)},Ye.stop=function(){return Ye.alpha(0)},Ye.drag=function(){if(ie||(ie=f.behavior.drag().origin(F).on("dragstart.force",du).on("drag.force",sn).on("dragend.force",is)),!arguments.length)return ie;this.on("mouseover.force",Bs).on("mouseout.force",Js).call(ie)},f.rebind(Ye,Xe,"on")};var sf=20,Fa=1,Yi=1/0;function Qo(U,ie){return f.rebind(U,ie,"sort","children","value"),U.nodes=U,U.links=Sc,U}function os(U,ie){for(var de=[U];null!=(U=de.pop());)if(ie(U),(Ee=U.children)&&(Te=Ee.length))for(var Te,Ee;--Te>=0;)de.push(Ee[Te])}function Mi(U,ie){for(var de=[U],Te=[];null!=(U=de.pop());)if(Te.push(U),(Fe=U.children)&&(Ee=Fe.length))for(var Ee,Fe,Ye=-1;++Ye<Ee;)de.push(Fe[Ye]);for(;null!=(U=Te.pop());)ie(U)}function Ks(U){return U.children}function Ac(U){return U.value}function hu(U,ie){return ie.value-U.value}function Sc(U){return f.merge(U.map(function(ie){return(ie.children||[]).map(function(de){return{source:ie,target:de}})}))}f.layout.hierarchy=function(){var U=hu,ie=Ks,de=Ac;function Te(Ee){var Fe,Ye=[Ee],Xe=[];for(Ee.depth=0;null!=(Fe=Ye.pop());)if(Xe.push(Fe),(nt=ie.call(Te,Fe,Fe.depth))&&(Qe=nt.length)){for(var Qe,nt,lt;--Qe>=0;)Ye.push(lt=nt[Qe]),lt.parent=Fe,lt.depth=Fe.depth+1;de&&(Fe.value=0),Fe.children=nt}else de&&(Fe.value=+de.call(Te,Fe,Fe.depth)||0),delete Fe.children;return Mi(Ee,function(xt){var Mt,jt;U&&(Mt=xt.children)&&Mt.sort(U),de&&(jt=xt.parent)&&(jt.value+=xt.value)}),Xe}return Te.sort=function(Ee){return arguments.length?(U=Ee,Te):U},Te.children=function(Ee){return arguments.length?(ie=Ee,Te):ie},Te.value=function(Ee){return arguments.length?(de=Ee,Te):de},Te.revalue=function(Ee){return de&&(os(Ee,function(Fe){Fe.children&&(Fe.value=0)}),Mi(Ee,function(Fe){var Ye;Fe.children||(Fe.value=+de.call(Te,Fe,Fe.depth)||0),(Ye=Fe.parent)&&(Ye.value+=Fe.value)})),Ee},Te},f.layout.partition=function(){var U=f.layout.hierarchy(),ie=[1,1];function de(Fe,Ye,Xe,Qe){var nt=Fe.children;if(Fe.x=Ye,Fe.y=Fe.depth*Qe,Fe.dx=Xe,Fe.dy=Qe,nt&&(lt=nt.length)){var lt,xt,Mt,jt=-1;for(Xe=Fe.value?Xe/Fe.value:0;++jt<lt;)de(xt=nt[jt],Ye,Mt=xt.value*Xe,Qe),Ye+=Mt}}function Te(Fe){var Ye=Fe.children,Xe=0;if(Ye&&(Qe=Ye.length))for(var Qe,nt=-1;++nt<Qe;)Xe=Math.max(Xe,Te(Ye[nt]));return 1+Xe}function Ee(Fe,Ye){var Xe=U.call(this,Fe,Ye);return de(Xe[0],0,ie[0],ie[1]/Te(Xe[0])),Xe}return Ee.size=function(Fe){return arguments.length?(ie=Fe,Ee):ie},Qo(Ee,U)},f.layout.pie=function(){var U=Number,ie=Qs,de=0,Te=Ht,Ee=0;function Fe(Ye){var Xe,Qe=Ye.length,nt=Ye.map(function(mn,sn){return+U.call(Fe,mn,sn)}),lt=+("function"==typeof de?de.apply(this,arguments):de),xt=("function"==typeof Te?Te.apply(this,arguments):Te)-lt,Mt=Math.min(Math.abs(xt)/Qe,+("function"==typeof Ee?Ee.apply(this,arguments):Ee)),jt=Mt*(xt<0?-1:1),Vt=f.sum(nt),Bt=Vt?(xt-Qe*jt)/Vt:0,Xt=f.range(Qe),Ut=[];return null!=ie&&Xt.sort(ie===Qs?function(mn,sn){return nt[sn]-nt[mn]}:function(mn,sn){return ie(Ye[mn],Ye[sn])}),Xt.forEach(function(mn){Ut[mn]={data:Ye[mn],value:Xe=nt[mn],startAngle:lt,endAngle:lt+=Xe*Bt+jt,padAngle:Mt}}),Ut}return Fe.value=function(Ye){return arguments.length?(U=Ye,Fe):U},Fe.sort=function(Ye){return arguments.length?(ie=Ye,Fe):ie},Fe.startAngle=function(Ye){return arguments.length?(de=Ye,Fe):de},Fe.endAngle=function(Ye){return arguments.length?(Te=Ye,Fe):Te},Fe.padAngle=function(Ye){return arguments.length?(Ee=Ye,Fe):Ee},Fe};var Qs={};function fl(U){return U.x}function Zl(U){return U.y}function pu(U,ie,de){U.y0=ie,U.y=de}f.layout.stack=function(){var U=F,ie=dl,de=xs,Te=pu,Ee=fl,Fe=Zl;function Ye(Xe,Qe){if(!(Mt=Xe.length))return Xe;var nt=Xe.map(function(mn,sn){return U.call(Ye,mn,sn)}),lt=nt.map(function(mn){return mn.map(function(sn,rn){return[Ee.call(Ye,sn,rn),Fe.call(Ye,sn,rn)]})}),xt=ie.call(Ye,lt,Qe);nt=f.permute(nt,xt),lt=f.permute(lt,xt);var Mt,jt,Vt,Bt,Xt=de.call(Ye,lt,Qe),Ut=nt[0].length;for(Vt=0;Vt<Ut;++Vt)for(Te.call(Ye,nt[0][Vt],Bt=Xt[Vt],lt[0][Vt][1]),jt=1;jt<Mt;++jt)Te.call(Ye,nt[jt][Vt],Bt+=lt[jt-1][Vt][1],lt[jt][Vt][1]);return Xe}return Ye.values=function(Xe){return arguments.length?(U=Xe,Ye):U},Ye.order=function(Xe){return arguments.length?(ie="function"==typeof Xe?Xe:el.get(Xe)||dl,Ye):ie},Ye.offset=function(Xe){return arguments.length?(de="function"==typeof Xe?Xe:tl.get(Xe)||xs,Ye):de},Ye.x=function(Xe){return arguments.length?(Ee=Xe,Ye):Ee},Ye.y=function(Xe){return arguments.length?(Fe=Xe,Ye):Fe},Ye.out=function(Xe){return arguments.length?(Te=Xe,Ye):Te},Ye};var el=f.map({"inside-out":function(U){var ie,de,Te=U.length,Ee=U.map(Lu),Fe=U.map(Ds),Ye=f.range(Te).sort(function(xt,Mt){return Ee[xt]-Ee[Mt]}),Xe=0,Qe=0,nt=[],lt=[];for(ie=0;ie<Te;++ie)de=Ye[ie],Xe<Qe?(Xe+=Fe[de],nt.push(de)):(Qe+=Fe[de],lt.push(de));return lt.reverse().concat(nt)},reverse:function(U){return f.range(U.length).reverse()},default:dl}),tl=f.map({silhouette:function(U){var ie,de,Te,Ee=U.length,Fe=U[0].length,Ye=[],Xe=0,Qe=[];for(de=0;de<Fe;++de){for(ie=0,Te=0;ie<Ee;ie++)Te+=U[ie][de][1];Te>Xe&&(Xe=Te),Ye.push(Te)}for(de=0;de<Fe;++de)Qe[de]=(Xe-Ye[de])/2;return Qe},wiggle:function(U){var ie,de,Te,Ee,Fe,Ye,Xe,Qe,nt,lt=U.length,xt=U[0],Mt=xt.length,jt=[];for(jt[0]=Qe=nt=0,de=1;de<Mt;++de){for(ie=0,Ee=0;ie<lt;++ie)Ee+=U[ie][de][1];for(ie=0,Fe=0,Xe=xt[de][0]-xt[de-1][0];ie<lt;++ie){for(Te=0,Ye=(U[ie][de][1]-U[ie][de-1][1])/(2*Xe);Te<ie;++Te)Ye+=(U[Te][de][1]-U[Te][de-1][1])/Xe;Fe+=Ye*U[ie][de][1]}jt[de]=Qe-=Ee?Fe/Ee*Xe:0,Qe<nt&&(nt=Qe)}for(de=0;de<Mt;++de)jt[de]-=nt;return jt},expand:function(U){var ie,de,Te,Ee=U.length,Fe=U[0].length,Ye=1/Ee,Xe=[];for(de=0;de<Fe;++de){for(ie=0,Te=0;ie<Ee;ie++)Te+=U[ie][de][1];if(Te)for(ie=0;ie<Ee;ie++)U[ie][de][1]/=Te;else for(ie=0;ie<Ee;ie++)U[ie][de][1]=Ye}for(de=0;de<Fe;++de)Xe[de]=0;return Xe},zero:xs});function dl(U){return f.range(U.length)}function xs(U){for(var ie=-1,de=U[0].length,Te=[];++ie<de;)Te[ie]=0;return Te}function Lu(U){for(var ie,de=1,Te=0,Ee=U[0][1],Fe=U.length;de<Fe;++de)(ie=U[de][1])>Ee&&(Te=de,Ee=ie);return Te}function Ds(U){return U.reduce(lf,0)}function lf(U,ie){return U+ie[1]}function kc(U,ie){return ic(U,Math.ceil(Math.log(ie.length)/Math.LN2+1))}function ic(U,ie){for(var de=-1,Te=+U[0],Ee=(U[1]-Te)/ie,Fe=[];++de<=ie;)Fe[de]=Ee*de+Te;return Fe}function Ol(U){return[f.min(U),f.max(U)]}function as(U,ie){return U.value-ie.value}function Xl(U,ie){var de=U._pack_next;U._pack_next=ie,ie._pack_prev=U,ie._pack_next=de,de._pack_prev=ie}function oc(U,ie){U._pack_next=ie,ie._pack_prev=U}function gu(U,ie){var de=ie.x-U.x,Te=ie.y-U.y,Ee=U.r+ie.r;return.999*Ee*Ee>de*de+Te*Te}function Jl(U){if((ie=U.children)&&(Qe=ie.length)){var ie,de,Te,Ee,Fe,Ye,Xe,Qe,nt=1/0,lt=-1/0,xt=1/0,Mt=-1/0;if(ie.forEach(Nu),(de=ie[0]).x=-de.r,de.y=0,sn(de),Qe>1&&((Te=ie[1]).x=Te.r,Te.y=0,sn(Te),Qe>2))for(Pl(de,Te,Ee=ie[2]),sn(Ee),Xl(de,Ee),de._pack_prev=Ee,Xl(Ee,Te),Te=de._pack_next,Fe=3;Fe<Qe;Fe++){Pl(de,Te,Ee=ie[Fe]);var jt=0,Vt=1,Bt=1;for(Ye=Te._pack_next;Ye!==Te;Ye=Ye._pack_next,Vt++)if(gu(Ye,Ee)){jt=1;break}if(1==jt)for(Xe=de._pack_prev;Xe!==Ye._pack_prev&&!gu(Xe,Ee);Xe=Xe._pack_prev,Bt++);jt?(Vt<Bt||Vt==Bt&&Te.r<de.r?oc(de,Te=Ye):oc(de=Xe,Te),Fe--):(Xl(de,Ee),Te=Ee,sn(Ee))}var Xt=(nt+lt)/2,Ut=(xt+Mt)/2,mn=0;for(Fe=0;Fe<Qe;Fe++)(Ee=ie[Fe]).x-=Xt,Ee.y-=Ut,mn=Math.max(mn,Ee.r+Math.sqrt(Ee.x*Ee.x+Ee.y*Ee.y));U.r=mn,ie.forEach(mu)}function sn(rn){nt=Math.min(rn.x-rn.r,nt),lt=Math.max(rn.x+rn.r,lt),xt=Math.min(rn.y-rn.r,xt),Mt=Math.max(rn.y+rn.r,Mt)}}function Nu(U){U._pack_next=U._pack_prev=U}function mu(U){delete U._pack_next,delete U._pack_prev}function no(U,ie,de,Te){var Ee=U.children;if(U.x=ie+=Te*U.x,U.y=de+=Te*U.y,U.r*=Te,Ee)for(var Fe=-1,Ye=Ee.length;++Fe<Ye;)no(Ee[Fe],ie,de,Te)}function Pl(U,ie,de){var Te=U.r+de.r,Ee=ie.x-U.x,Fe=ie.y-U.y;if(Te&&(Ee||Fe)){var Ye=ie.r+de.r,Xe=Ee*Ee+Fe*Fe,Qe=.5+((Te*=Te)-(Ye*=Ye))/(2*Xe),nt=Math.sqrt(Math.max(0,2*Ye*(Te+Xe)-(Te-=Xe)*Te-Ye*Ye))/(2*Xe);de.x=U.x+Qe*Ee+nt*Fe,de.y=U.y+Qe*Fe-nt*Ee}else de.x=U.x+Te,de.y=U.y}function hl(U,ie){return U.parent==ie.parent?1:2}function pa(U){var ie=U.children;return ie.length?ie[0]:U.t}function hi(U){var ie,de=U.children;return(ie=de.length)?de[ie-1]:U.t}function Zi(U,ie,de){var Te=de/(ie.i-U.i);ie.c-=Te,ie.s+=de,U.c+=Te,ie.z+=de,ie.m+=de}function Rl(U,ie,de){return U.a.parent===ie.parent?U.a:de}function pl(U){var ie=U.children;return ie&&ie.length?pl(ie[0]):U}function Xi(U){var ie,de=U.children;return de&&(ie=de.length)?Xi(de[ie-1]):U}function Fu(U){return{x:U.x,y:U.y,dx:U.dx,dy:U.dy}}function ml(U,ie){var de=U.x+ie[3],Te=U.y+ie[0],Ee=U.dx-ie[1]-ie[3],Fe=U.dy-ie[0]-ie[2];return Ee<0&&(de+=Ee/2,Ee=0),Fe<0&&(Te+=Fe/2,Fe=0),{x:de,y:Te,dx:Ee,dy:Fe}}function jr(U){var ie=U[0],de=U[U.length-1];return ie<de?[ie,de]:[de,ie]}function $o(U){return U.rangeExtent?U.rangeExtent():jr(U.range())}function Ei(U,ie,de,Te){var Ee=de(U[0],U[1]),Fe=Te(ie[0],ie[1]);return function(Ye){return Fe(Ee(Ye))}}function Oo(U,ie){var de,Te=0,Ee=U.length-1,Fe=U[Te],Ye=U[Ee];return Ye<Fe&&(de=Te,Te=Ee,Ee=de,de=Fe,Fe=Ye,Ye=de),U[Te]=ie.floor(Fe),U[Ee]=ie.ceil(Ye),U}function Di(U){return U?{floor:function(ie){return Math.floor(ie/U)*U},ceil:function(ie){return Math.ceil(ie/U)*U}}:Is}f.layout.histogram=function(){var U=!0,ie=Number,de=Ol,Te=kc;function Ee(Fe,Ye){for(var Xe,Qe,nt=[],lt=Fe.map(ie,this),xt=de.call(this,lt,Ye),Mt=Te.call(this,xt,lt,Ye),jt=(Ye=-1,lt.length),Vt=Mt.length-1,Bt=U?1:1/jt;++Ye<Vt;)(Xe=nt[Ye]=[]).dx=Mt[Ye+1]-(Xe.x=Mt[Ye]),Xe.y=0;if(Vt>0)for(Ye=-1;++Ye<jt;)(Qe=lt[Ye])>=xt[0]&&Qe<=xt[1]&&((Xe=nt[f.bisect(Mt,Qe,1,Vt)-1]).y+=Bt,Xe.push(Fe[Ye]));return nt}return Ee.value=function(Fe){return arguments.length?(ie=Fe,Ee):ie},Ee.range=function(Fe){return arguments.length?(de=Wn(Fe),Ee):de},Ee.bins=function(Fe){return arguments.length?(Te="number"==typeof Fe?function(Ye){return ic(Ye,Fe)}:Wn(Fe),Ee):Te},Ee.frequency=function(Fe){return arguments.length?(U=!!Fe,Ee):U},Ee},f.layout.pack=function(){var U,ie=f.layout.hierarchy().sort(as),de=0,Te=[1,1];function Ee(Fe,Ye){var Xe=ie.call(this,Fe,Ye),Qe=Xe[0],nt=Te[0],lt=Te[1],xt=null==U?Math.sqrt:"function"==typeof U?U:function(){return U};if(Qe.x=Qe.y=0,Mi(Qe,function(jt){jt.r=+xt(jt.value)}),Mi(Qe,Jl),de){var Mt=de*(U?1:Math.max(2*Qe.r/nt,2*Qe.r/lt))/2;Mi(Qe,function(jt){jt.r+=Mt}),Mi(Qe,Jl),Mi(Qe,function(jt){jt.r-=Mt})}return no(Qe,nt/2,lt/2,U?1:1/Math.max(2*Qe.r/nt,2*Qe.r/lt)),Xe}return Ee.size=function(Fe){return arguments.length?(Te=Fe,Ee):Te},Ee.radius=function(Fe){return arguments.length?(U=null==Fe||"function"==typeof Fe?Fe:+Fe,Ee):U},Ee.padding=function(Fe){return arguments.length?(de=+Fe,Ee):de},Qo(Ee,ie)},f.layout.tree=function(){var U=f.layout.hierarchy().sort(null).value(null),ie=hl,de=[1,1],Te=null;function Ee(Qe,nt){var lt=U.call(this,Qe,nt),xt=lt[0],Mt=function(sn){for(var rn,In={A:null,children:[sn]},Pn=[In];null!=(rn=Pn.pop());)for(var tr,rr=rn.children,pr=0,yr=rr.length;pr<yr;++pr)Pn.push((rr[pr]=tr={_:rr[pr],parent:rn,children:(tr=rr[pr].children)&&tr.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:pr}).a=tr);return In.children[0]}(xt);if(Mi(Mt,Fe),Mt.parent.m=-Mt.z,os(Mt,Ye),Te)os(xt,Xe);else{var jt=xt,Vt=xt,Bt=xt;os(xt,function(sn){sn.x<jt.x&&(jt=sn),sn.x>Vt.x&&(Vt=sn),sn.depth>Bt.depth&&(Bt=sn)});var Xt=ie(jt,Vt)/2-jt.x,Ut=de[0]/(Vt.x+ie(Vt,jt)/2+Xt),mn=de[1]/(Bt.depth||1);os(xt,function(sn){sn.x=(sn.x+Xt)*Ut,sn.y=sn.depth*mn})}return lt}function Fe(Qe){var nt=Qe.children,lt=Qe.parent.children,xt=Qe.i?lt[Qe.i-1]:null;if(nt.length){!function(jt){for(var Vt,Bt=0,Xt=0,Ut=jt.children,mn=Ut.length;--mn>=0;)(Vt=Ut[mn]).z+=Bt,Vt.m+=Bt,Bt+=Vt.s+(Xt+=Vt.c)}(Qe);var Mt=(nt[0].z+nt[nt.length-1].z)/2;xt?(Qe.z=xt.z+ie(Qe._,xt._),Qe.m=Qe.z-Mt):Qe.z=Mt}else xt&&(Qe.z=xt.z+ie(Qe._,xt._));Qe.parent.A=function(jt,Vt,Bt){if(Vt){for(var Xt,Ut=jt,mn=jt,sn=Vt,rn=Ut.parent.children[0],In=Ut.m,Pn=mn.m,tr=sn.m,rr=rn.m;sn=hi(sn),Ut=pa(Ut),sn&&Ut;)rn=pa(rn),(mn=hi(mn)).a=jt,(Xt=sn.z+tr-Ut.z-In+ie(sn._,Ut._))>0&&(Zi(Rl(sn,jt,Bt),jt,Xt),In+=Xt,Pn+=Xt),tr+=sn.m,In+=Ut.m,rr+=rn.m,Pn+=mn.m;sn&&!hi(mn)&&(mn.t=sn,mn.m+=tr-Pn),Ut&&!pa(rn)&&(rn.t=Ut,rn.m+=In-rr,Bt=jt)}return Bt}(Qe,xt,Qe.parent.A||lt[0])}function Ye(Qe){Qe._.x=Qe.z+Qe.parent.m,Qe.m+=Qe.parent.m}function Xe(Qe){Qe.x*=de[0],Qe.y=Qe.depth*de[1]}return Ee.separation=function(Qe){return arguments.length?(ie=Qe,Ee):ie},Ee.size=function(Qe){return arguments.length?(Te=null==(de=Qe)?Xe:null,Ee):Te?null:de},Ee.nodeSize=function(Qe){return arguments.length?(Te=null==(de=Qe)?null:Xe,Ee):Te?de:null},Qo(Ee,U)},f.layout.cluster=function(){var U=f.layout.hierarchy().sort(null).value(null),ie=hl,de=[1,1],Te=!1;function Ee(Fe,Ye){var Xe,Qe=U.call(this,Fe,Ye),nt=Qe[0],lt=0;Mi(nt,function(Bt){var Ut,Xt=Bt.children;Xt&&Xt.length?(Bt.x=(Ut=Xt).reduce(function(mn,sn){return mn+sn.x},0)/Ut.length,Bt.y=function(Ut){return 1+f.max(Ut,function(mn){return mn.y})}(Xt)):(Bt.x=Xe?lt+=ie(Bt,Xe):0,Bt.y=0,Xe=Bt)});var xt=pl(nt),Mt=Xi(nt),jt=xt.x-ie(xt,Mt)/2,Vt=Mt.x+ie(Mt,xt)/2;return Mi(nt,Te?function(Bt){Bt.x=(Bt.x-nt.x)*de[0],Bt.y=(nt.y-Bt.y)*de[1]}:function(Bt){Bt.x=(Bt.x-jt)/(Vt-jt)*de[0],Bt.y=(1-(nt.y?Bt.y/nt.y:1))*de[1]}),Qe}return Ee.separation=function(Fe){return arguments.length?(ie=Fe,Ee):ie},Ee.size=function(Fe){return arguments.length?(Te=null==(de=Fe),Ee):Te?null:de},Ee.nodeSize=function(Fe){return arguments.length?(Te=null!=(de=Fe),Ee):Te?de:null},Qo(Ee,U)},f.layout.treemap=function(){var U,ie=f.layout.hierarchy(),de=Math.round,Te=[1,1],Ee=null,Fe=Fu,Ye=!1,Xe="squarify",Qe=.5*(1+Math.sqrt(5));function nt(Bt,Xt){for(var Ut,mn,sn=-1,rn=Bt.length;++sn<rn;)mn=(Ut=Bt[sn]).value*(Xt<0?0:Xt),Ut.area=isNaN(mn)||mn<=0?0:mn}function lt(Bt){var Xt=Bt.children;if(Xt&&Xt.length){var Ut,mn,sn,rn=Fe(Bt),In=[],Pn=Xt.slice(),tr=1/0,rr="slice"===Xe?rn.dx:"dice"===Xe?rn.dy:"slice-dice"===Xe?1&Bt.depth?rn.dy:rn.dx:Math.min(rn.dx,rn.dy);for(nt(Pn,rn.dx*rn.dy/Bt.value),In.area=0;(sn=Pn.length)>0;)In.push(Ut=Pn[sn-1]),In.area+=Ut.area,"squarify"!==Xe||(mn=Mt(In,rr))<=tr?(Pn.pop(),tr=mn):(In.area-=In.pop().area,jt(In,rr,rn,!1),rr=Math.min(rn.dx,rn.dy),In.length=In.area=0,tr=1/0);In.length&&(jt(In,rr,rn,!0),In.length=In.area=0),Xt.forEach(lt)}}function xt(Bt){var Xt=Bt.children;if(Xt&&Xt.length){var Ut,mn=Fe(Bt),sn=Xt.slice(),rn=[];for(nt(sn,mn.dx*mn.dy/Bt.value),rn.area=0;Ut=sn.pop();)rn.push(Ut),rn.area+=Ut.area,null!=Ut.z&&(jt(rn,Ut.z?mn.dx:mn.dy,mn,!sn.length),rn.length=rn.area=0);Xt.forEach(xt)}}function Mt(Bt,Xt){for(var Ut,mn=Bt.area,sn=0,rn=1/0,In=-1,Pn=Bt.length;++In<Pn;)(Ut=Bt[In].area)&&(Ut<rn&&(rn=Ut),Ut>sn&&(sn=Ut));return Xt*=Xt,(mn*=mn)?Math.max(Xt*sn*Qe/mn,mn/(Xt*rn*Qe)):1/0}function jt(Bt,Xt,Ut,mn){var sn,rn=-1,In=Bt.length,Pn=Ut.x,tr=Ut.y,rr=Xt?de(Bt.area/Xt):0;if(Xt==Ut.dx){for((mn||rr>Ut.dy)&&(rr=Ut.dy);++rn<In;)(sn=Bt[rn]).x=Pn,sn.y=tr,sn.dy=rr,Pn+=sn.dx=Math.min(Ut.x+Ut.dx-Pn,rr?de(sn.area/rr):0);sn.z=!0,sn.dx+=Ut.x+Ut.dx-Pn,Ut.y+=rr,Ut.dy-=rr}else{for((mn||rr>Ut.dx)&&(rr=Ut.dx);++rn<In;)(sn=Bt[rn]).x=Pn,sn.y=tr,sn.dx=rr,tr+=sn.dy=Math.min(Ut.y+Ut.dy-tr,rr?de(sn.area/rr):0);sn.z=!1,sn.dy+=Ut.y+Ut.dy-tr,Ut.x+=rr,Ut.dx-=rr}}function Vt(Bt){var Xt=U||ie(Bt),Ut=Xt[0];return Ut.x=Ut.y=0,Ut.value?(Ut.dx=Te[0],Ut.dy=Te[1]):Ut.dx=Ut.dy=0,U&&ie.revalue(Ut),nt([Ut],Ut.dx*Ut.dy/Ut.value),(U?xt:lt)(Ut),Ye&&(U=Xt),Xt}return Vt.size=function(Bt){return arguments.length?(Te=Bt,Vt):Te},Vt.padding=function(Bt){if(!arguments.length)return Ee;var Ut;return Fe=null==(Ee=Bt)?Fu:"function"==(Ut=typeof Bt)?function(mn){var sn=Bt.call(Vt,mn,mn.depth);return null==sn?Fu(mn):ml(mn,"number"==typeof sn?[sn,sn,sn,sn]:sn)}:("number"===Ut&&(Bt=[Bt,Bt,Bt,Bt]),function Xt(mn){return ml(mn,Bt)}),Vt},Vt.round=function(Bt){return arguments.length?(de=Bt?Math.round:Number,Vt):de!=Number},Vt.sticky=function(Bt){return arguments.length?(Ye=Bt,U=null,Vt):Ye},Vt.ratio=function(Bt){return arguments.length?(Qe=Bt,Vt):Qe},Vt.mode=function(Bt){return arguments.length?(Xe=Bt+"",Vt):Xe},Qo(Vt,ie)},f.random={normal:function(U,ie){var de=arguments.length;return de<2&&(ie=1),de<1&&(U=0),function(){var Te,Ee,Fe;do{Fe=(Te=2*Math.random()-1)*Te+(Ee=2*Math.random()-1)*Ee}while(!Fe||Fe>1);return U+ie*Te*Math.sqrt(-2*Math.log(Fe)/Fe)}},logNormal:function(){var U=f.random.normal.apply(f,arguments);return function(){return Math.exp(U())}},bates:function(U){var ie=f.random.irwinHall(U);return function(){return ie()/U}},irwinHall:function(U){return function(){for(var ie=0,de=0;de<U;de++)ie+=Math.random();return ie}}},f.scale={};var Is={floor:F,ceil:F};function ga(U,ie,de,Te){var Ee=[],Fe=[],Ye=0,Xe=Math.min(U.length,ie.length)-1;for(U[Xe]<U[0]&&(U=U.slice().reverse(),ie=ie.slice().reverse());++Ye<=Xe;)Ee.push(de(U[Ye-1],U[Ye])),Fe.push(Te(ie[Ye-1],ie[Ye]));return function(Qe){var nt=f.bisect(U,Qe,1,Xe)-1;return Fe[nt](Ee[nt](Qe))}}function ea(U,ie,de,Te){var Ee,Fe;function Ye(){var Qe=Math.min(U.length,ie.length)>2?ga:Ei,nt=Te?Hr:Yl;return Ee=Qe(U,ie,nt,de),Fe=Qe(ie,U,nt,Cs),Xe}function Xe(Qe){return Ee(Qe)}return Xe.invert=function(Qe){return Fe(Qe)},Xe.domain=function(Qe){return arguments.length?(U=Qe.map(Number),Ye()):U},Xe.range=function(Qe){return arguments.length?(ie=Qe,Ye()):ie},Xe.rangeRound=function(Qe){return Xe.range(Qe).interpolate(rf)},Xe.clamp=function(Qe){return arguments.length?(Te=Qe,Ye()):Te},Xe.interpolate=function(Qe){return arguments.length?(de=Qe,Ye()):de},Xe.ticks=function(Qe){return za(U,Qe)},Xe.tickFormat=function(Qe,nt){return d3_scale_linearTickFormat(U,Qe,nt)},Xe.nice=function(Qe){return ta(U,Qe),Ye()},Xe.copy=function(){return ea(U,ie,de,Te)},Ye()}function Ma(U,ie){return f.rebind(U,ie,"range","rangeRound","interpolate","clamp")}function ta(U,ie){return Oo(U,Di(fa(U,ie)[2])),Oo(U,Di(fa(U,ie)[2])),U}function fa(U,ie){null==ie&&(ie=10);var de=jr(U),Te=de[1]-de[0],Ee=Math.pow(10,Math.floor(Math.log(Te/ie)/Math.LN10)),Fe=ie/Te*Ee;return Fe<=.15?Ee*=10:Fe<=.35?Ee*=5:Fe<=.75&&(Ee*=2),de[0]=Math.ceil(de[0]/Ee)*Ee,de[1]=Math.floor(de[1]/Ee)*Ee+.5*Ee,de[2]=Ee,de}function za(U,ie){return f.range.apply(f,fa(U,ie))}function ao(U,ie,de,Te){function Ee(Xe){return(de?Math.log(Xe<0?0:Xe):-Math.log(Xe>0?0:-Xe))/Math.log(ie)}function Fe(Xe){return de?Math.pow(ie,Xe):-Math.pow(ie,-Xe)}function Ye(Xe){return U(Ee(Xe))}return Ye.invert=function(Xe){return Fe(U.invert(Xe))},Ye.domain=function(Xe){return arguments.length?(de=Xe[0]>=0,U.domain((Te=Xe.map(Number)).map(Ee)),Ye):Te},Ye.base=function(Xe){return arguments.length?(ie=+Xe,U.domain(Te.map(Ee)),Ye):ie},Ye.nice=function(){var Xe=Oo(Te.map(Ee),de?Math:Gr);return U.domain(Xe),Te=Xe.map(Fe),Ye},Ye.ticks=function(){var Xe=jr(Te),Qe=[],nt=Xe[0],lt=Xe[1],xt=Math.floor(Ee(nt)),Mt=Math.ceil(Ee(lt)),jt=ie%1?2:ie;if(isFinite(Mt-xt)){if(de){for(;xt<Mt;xt++)for(var Vt=1;Vt<jt;Vt++)Qe.push(Fe(xt)*Vt);Qe.push(Fe(xt))}else for(Qe.push(Fe(xt));xt++<Mt;)for(Vt=jt-1;Vt>0;Vt--)Qe.push(Fe(xt)*Vt);for(xt=0;Qe[xt]<nt;xt++);for(Mt=Qe.length;Qe[Mt-1]>lt;Mt--);Qe=Qe.slice(xt,Mt)}return Qe},Ye.copy=function(){return ao(U.copy(),ie,de,Te)},Ma(Ye,U)}f.scale.linear=function(){return ea([0,1],[0,1],Cs,!1)},f.scale.log=function(){return ao(f.scale.linear().domain([0,1]),10,!0,[1,10])};var Gr={floor:function(U){return-Math.ceil(-U)},ceil:function(U){return-Math.floor(-U)}};function ii(U,ie,de){var Te=Ni(ie),Ee=Ni(1/ie);function Fe(Ye){return U(Te(Ye))}return Fe.invert=function(Ye){return Ee(U.invert(Ye))},Fe.domain=function(Ye){return arguments.length?(U.domain((de=Ye.map(Number)).map(Te)),Fe):de},Fe.ticks=function(Ye){return za(de,Ye)},Fe.tickFormat=function(Ye,Xe){return d3_scale_linearTickFormat(de,Ye,Xe)},Fe.nice=function(Ye){return Fe.domain(ta(de,Ye))},Fe.exponent=function(Ye){return arguments.length?(Te=Ni(ie=Ye),Ee=Ni(1/ie),U.domain(de.map(Te)),Fe):ie},Fe.copy=function(){return ii(U.copy(),ie,de)},Ma(Fe,U)}function Ni(U){return function(ie){return ie<0?-Math.pow(-ie,U):Math.pow(ie,U)}}function Yo(U,ie){var de,Te,Ee;function Fe(Xe){return Te[((de.get(Xe)||("range"===ie.t?de.set(Xe,U.push(Xe)):NaN))-1)%Te.length]}function Ye(Xe,Qe){return f.range(U.length).map(function(nt){return Xe+Qe*nt})}return Fe.domain=function(Xe){if(!arguments.length)return U;U=[],de=new b;for(var Qe,nt=-1,lt=Xe.length;++nt<lt;)de.has(Qe=Xe[nt])||de.set(Qe,U.push(Qe));return Fe[ie.t].apply(Fe,ie.a)},Fe.range=function(Xe){return arguments.length?(Te=Xe,Ee=0,ie={t:"range",a:arguments},Fe):Te},Fe.rangePoints=function(Xe,Qe){arguments.length<2&&(Qe=0);var nt=Xe[0],lt=Xe[1],xt=U.length<2?(nt=(nt+lt)/2,0):(lt-nt)/(U.length-1+Qe);return Te=Ye(nt+xt*Qe/2,xt),Ee=0,ie={t:"rangePoints",a:arguments},Fe},Fe.rangeRoundPoints=function(Xe,Qe){arguments.length<2&&(Qe=0);var nt=Xe[0],lt=Xe[1],xt=U.length<2?(nt=lt=Math.round((nt+lt)/2),0):(lt-nt)/(U.length-1+Qe)|0;return Te=Ye(nt+Math.round(xt*Qe/2+(lt-nt-(U.length-1+Qe)*xt)/2),xt),Ee=0,ie={t:"rangeRoundPoints",a:arguments},Fe},Fe.rangeBands=function(Xe,Qe,nt){arguments.length<2&&(Qe=0),arguments.length<3&&(nt=Qe);var lt=Xe[1]<Xe[0],xt=Xe[lt-0],Mt=(Xe[1-lt]-xt)/(U.length-Qe+2*nt);return Te=Ye(xt+Mt*nt,Mt),lt&&Te.reverse(),Ee=Mt*(1-Qe),ie={t:"rangeBands",a:arguments},Fe},Fe.rangeRoundBands=function(Xe,Qe,nt){arguments.length<2&&(Qe=0),arguments.length<3&&(nt=Qe);var lt=Xe[1]<Xe[0],xt=Xe[lt-0],Mt=Xe[1-lt],jt=Math.floor((Mt-xt)/(U.length-Qe+2*nt));return Te=Ye(xt+Math.round((Mt-xt-(U.length-Qe)*jt)/2),jt),lt&&Te.reverse(),Ee=Math.round(jt*(1-Qe)),ie={t:"rangeRoundBands",a:arguments},Fe},Fe.rangeBand=function(){return Ee},Fe.rangeExtent=function(){return jr(ie.a[0])},Fe.copy=function(){return Yo(U,ie)},Fe.domain(U)}f.scale.pow=function(){return ii(f.scale.linear(),1,[0,1])},f.scale.sqrt=function(){return f.scale.pow().exponent(.5)},f.scale.ordinal=function(){return Yo([],{t:"range",a:[[]]})},f.scale.category10=function(){return f.scale.ordinal().range(Ll)},f.scale.category20=function(){return f.scale.ordinal().range(co)},f.scale.category20b=function(){return f.scale.ordinal().range(Po)},f.scale.category20c=function(){return f.scale.ordinal().range(Lr)};var Ll=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(on),co=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(on),Po=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(on),Lr=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(on);function Ro(U,ie){var de;function Te(){var Fe=0,Ye=ie.length;for(de=[];++Fe<Ye;)de[Fe-1]=f.quantile(U,Fe/Ye);return Ee}function Ee(Fe){if(!isNaN(Fe=+Fe))return ie[f.bisect(de,Fe)]}return Ee.domain=function(Fe){return arguments.length?(U=Fe.map(v).filter(p).sort(h),Te()):U},Ee.range=function(Fe){return arguments.length?(ie=Fe,Te()):ie},Ee.quantiles=function(){return de},Ee.invertExtent=function(Fe){return(Fe=ie.indexOf(Fe))<0?[NaN,NaN]:[Fe>0?de[Fe-1]:U[0],Fe<de.length?de[Fe]:U[U.length-1]]},Ee.copy=function(){return Ro(U,ie)},Te()}function nl(U,ie,de){var Te,Ee;function Fe(Xe){return de[Math.max(0,Math.min(Ee,Math.floor(Te*(Xe-U))))]}function Ye(){return Te=de.length/(ie-U),Ee=de.length-1,Fe}return Fe.domain=function(Xe){return arguments.length?(U=+Xe[0],ie=+Xe[Xe.length-1],Ye()):[U,ie]},Fe.range=function(Xe){return arguments.length?(de=Xe,Ye()):de},Fe.invertExtent=function(Xe){return[Xe=(Xe=de.indexOf(Xe))<0?NaN:Xe/Te+U,Xe+1/Te]},Fe.copy=function(){return nl(U,ie,de)},Ye()}function vi(U,ie){function de(Te){if(Te<=Te)return ie[f.bisect(U,Te)]}return de.domain=function(Te){return arguments.length?(U=Te,de):U},de.range=function(Te){return arguments.length?(ie=Te,de):ie},de.invertExtent=function(Te){return Te=ie.indexOf(Te),[U[Te-1],U[Te]]},de.copy=function(){return vi(U,ie)},de}function js(U){function ie(de){return+de}return ie.invert=ie,ie.domain=ie.range=function(de){return arguments.length?(U=de.map(ie),ie):U},ie.ticks=function(de){return za(U,de)},ie.tickFormat=function(de,Te){return d3_scale_linearTickFormat(U,de,Te)},ie.copy=function(){return js(U)},ie}function Nl(){return 0}f.scale.quantile=function(){return Ro([],[])},f.scale.quantize=function(){return nl(0,1,[0,1])},f.scale.threshold=function(){return vi([.5],[0,1])},f.scale.identity=function(){return js([0,1])},f.svg={},f.svg.arc=function(){var U=Dr,ie=Ya,de=Nl,Te=ss,Ee=Vs,Fe=ls,Ye=na;function Xe(){var nt=Math.max(0,+U.apply(this,arguments)),lt=Math.max(0,+ie.apply(this,arguments)),xt=Ee.apply(this,arguments)-tt,Mt=Fe.apply(this,arguments)-tt,jt=Math.abs(Mt-xt),Vt=xt>Mt?0:1;if(lt<nt&&(Bt=lt,lt=nt,nt=Bt),jt>=Lt)return Qe(lt,Vt)+(nt?Qe(nt,1-Vt):"")+"Z";var Bt,Xt,Ut,mn,sn,rn,In,Pn,tr,rr,pr,yr,Er=0,Sr=0,Rr=[];if((mn=(+Ye.apply(this,arguments)||0)/2)&&(Ut=Te===ss?Math.sqrt(nt*nt+lt*lt):+Te.apply(this,arguments),Vt||(Sr*=-1),lt&&(Sr=ot(Ut/lt*Math.sin(mn))),nt&&(Er=ot(Ut/nt*Math.sin(mn)))),lt){sn=lt*Math.cos(xt+Sr),rn=lt*Math.sin(xt+Sr),In=lt*Math.cos(Mt-Sr),Pn=lt*Math.sin(Mt-Sr);var qr=Math.abs(Mt-xt-2*Sr)<=zt?0:1;if(Sr&&Os(sn,rn,In,Pn)===Vt^qr){var oi=(xt+Mt)/2;sn=lt*Math.cos(oi),rn=lt*Math.sin(oi),In=Pn=null}}else sn=rn=0;if(nt){tr=nt*Math.cos(Mt-Er),rr=nt*Math.sin(Mt-Er),pr=nt*Math.cos(xt+Er),yr=nt*Math.sin(xt+Er);var cr=Math.abs(xt-Mt+2*Er)<=zt?0:1;if(Er&&Os(tr,rr,pr,yr)===1-Vt^cr){var Ar=(xt+Mt)/2;tr=nt*Math.cos(Ar),rr=nt*Math.sin(Ar),pr=yr=null}}else tr=rr=0;if(jt>pt&&(Bt=Math.min(Math.abs(lt-nt)/2,+de.apply(this,arguments)))>.001){Xt=nt<lt^Vt?0:1;var Nr=Bt,Wr=Bt;if(jt<zt){var ti=null==pr?[tr,rr]:null==In?[sn,rn]:Ft([sn,rn],[pr,yr],[In,Pn],[tr,rr]),ci=sn-ti[0],Li=rn-ti[1],ro=In-ti[0],fo=Pn-ti[1],Ai=1/Math.sin(Math.acos((ci*ro+Li*fo)/(Math.sqrt(ci*ci+Li*Li)*Math.sqrt(ro*ro+fo*fo)))/2),Ji=Math.sqrt(ti[0]*ti[0]+ti[1]*ti[1]);Wr=Math.min(Bt,(nt-Ji)/(Ai-1)),Nr=Math.min(Bt,(lt-Ji)/(Ai+1))}if(null!=In){var Vo=ma(null==pr?[tr,rr]:[pr,yr],[sn,rn],lt,Nr,Vt),_a=ma([In,Pn],[tr,rr],lt,Nr,Vt);Bt===Nr?Rr.push("M",Vo[0],"A",Nr,",",Nr," 0 0,",Xt," ",Vo[1],"A",lt,",",lt," 0 ",1-Vt^Os(Vo[1][0],Vo[1][1],_a[1][0],_a[1][1]),",",Vt," ",_a[1],"A",Nr,",",Nr," 0 0,",Xt," ",_a[0]):Rr.push("M",Vo[0],"A",Nr,",",Nr," 0 1,",Xt," ",_a[0])}else Rr.push("M",sn,",",rn);if(null!=pr){var Zo=ma([sn,rn],[pr,yr],nt,-Wr,Vt),oa=ma([tr,rr],null==In?[sn,rn]:[In,Pn],nt,-Wr,Vt);Bt===Wr?Rr.push("L",oa[0],"A",Wr,",",Wr," 0 0,",Xt," ",oa[1],"A",nt,",",nt," 0 ",Vt^Os(oa[1][0],oa[1][1],Zo[1][0],Zo[1][1]),",",1-Vt," ",Zo[1],"A",Wr,",",Wr," 0 0,",Xt," ",Zo[0]):Rr.push("L",oa[0],"A",Wr,",",Wr," 0 0,",Xt," ",Zo[0])}else Rr.push("L",tr,",",rr)}else Rr.push("M",sn,",",rn),null!=In&&Rr.push("A",lt,",",lt," 0 ",qr,",",Vt," ",In,",",Pn),Rr.push("L",tr,",",rr),null!=pr&&Rr.push("A",nt,",",nt," 0 ",cr,",",1-Vt," ",pr,",",yr);return Rr.push("Z"),Rr.join("")}function Qe(nt,lt){return"M0,"+nt+"A"+nt+","+nt+" 0 1,"+lt+" 0,"+-nt+"A"+nt+","+nt+" 0 1,"+lt+" 0,"+nt}return Xe.innerRadius=function(nt){return arguments.length?(U=Wn(nt),Xe):U},Xe.outerRadius=function(nt){return arguments.length?(ie=Wn(nt),Xe):ie},Xe.cornerRadius=function(nt){return arguments.length?(de=Wn(nt),Xe):de},Xe.padRadius=function(nt){return arguments.length?(Te=nt==ss?ss:Wn(nt),Xe):Te},Xe.startAngle=function(nt){return arguments.length?(Ee=Wn(nt),Xe):Ee},Xe.endAngle=function(nt){return arguments.length?(Fe=Wn(nt),Xe):Fe},Xe.padAngle=function(nt){return arguments.length?(Ye=Wn(nt),Xe):Ye},Xe.centroid=function(){var nt=(+U.apply(this,arguments)+ +ie.apply(this,arguments))/2,lt=(+Ee.apply(this,arguments)+ +Fe.apply(this,arguments))/2-tt;return[Math.cos(lt)*nt,Math.sin(lt)*nt]},Xe};var ss="auto";function Dr(U){return U.innerRadius}function Ya(U){return U.outerRadius}function Vs(U){return U.startAngle}function ls(U){return U.endAngle}function na(U){return U&&U.padAngle}function Os(U,ie,de,Te){return(U-de)*ie-(ie-Te)*U>0?0:1}function ma(U,ie,de,Te,Ee){var Fe=U[0]-ie[0],Ye=U[1]-ie[1],Xe=(Ee?Te:-Te)/Math.sqrt(Fe*Fe+Ye*Ye),Qe=Xe*Ye,nt=-Xe*Fe,lt=U[0]+Qe,xt=U[1]+nt,Mt=ie[0]+Qe,jt=ie[1]+nt,Vt=(lt+Mt)/2,Bt=(xt+jt)/2,Xt=Mt-lt,Ut=jt-xt,mn=Xt*Xt+Ut*Ut,sn=de-Te,rn=lt*jt-Mt*xt,In=(Ut<0?-1:1)*Math.sqrt(Math.max(0,sn*sn*mn-rn*rn)),Pn=(rn*Ut-Xt*In)/mn,tr=(-rn*Xt-Ut*In)/mn,rr=(rn*Ut+Xt*In)/mn,pr=(-rn*Xt+Ut*In)/mn,yr=Pn-Vt,Er=tr-Bt,Sr=rr-Vt,Rr=pr-Bt;return yr*yr+Er*Er>Sr*Sr+Rr*Rr&&(Pn=rr,tr=pr),[[Pn-Qe,tr-nt],[Pn*de/sn,tr*de/sn]]}function ra(){return!0}function us(U){var ie=sr,de=yn,Te=ra,Ee=ai,Fe=Ee.key,Ye=.7;function Xe(Qe){var nt,lt=[],xt=[],Mt=-1,jt=Qe.length,Vt=Wn(ie),Bt=Wn(de);function Xt(){lt.push("M",Ee(U(xt),Ye))}for(;++Mt<jt;)Te.call(this,nt=Qe[Mt],Mt)?xt.push([+Vt.call(this,nt,Mt),+Bt.call(this,nt,Mt)]):xt.length&&(Xt(),xt=[]);return xt.length&&Xt(),lt.length?lt.join(""):null}return Xe.x=function(Qe){return arguments.length?(ie=Qe,Xe):ie},Xe.y=function(Qe){return arguments.length?(de=Qe,Xe):de},Xe.defined=function(Qe){return arguments.length?(Te=Qe,Xe):Te},Xe.interpolate=function(Qe){return arguments.length?(Fe="function"==typeof Qe?Ee=Qe:(Ee=bs.get(Qe)||ai).key,Xe):Fe},Xe.tension=function(Qe){return arguments.length?(Ye=Qe,Xe):Ye},Xe}f.svg.line=function(){return us(F)};var bs=f.map({linear:ai,"linear-closed":vu,step:function(U){for(var ie=0,de=U.length,Te=U[0],Ee=[Te[0],",",Te[1]];++ie<de;)Ee.push("H",(Te[0]+(Te=U[ie])[0])/2,"V",Te[1]);return de>1&&Ee.push("H",Te[0]),Ee.join("")},"step-before":Fl,"step-after":da,basis:va,"basis-open":function(U){if(U.length<4)return ai(U);for(var ie,de=[],Te=-1,Ee=U.length,Fe=[0],Ye=[0];++Te<3;)Fe.push((ie=U[Te])[0]),Ye.push(ie[1]);for(de.push(Lo(Fi,Fe)+","+Lo(Fi,Ye)),--Te;++Te<Ee;)ie=U[Te],Fe.shift(),Fe.push(ie[0]),Ye.shift(),Ye.push(ie[1]),wi(de,Fe,Ye);return de.join("")},"basis-closed":function(U){for(var ie,de,Te=-1,Ee=U.length,Fe=Ee+4,Ye=[],Xe=[];++Te<4;)Ye.push((de=U[Te%Ee])[0]),Xe.push(de[1]);for(ie=[Lo(Fi,Ye),",",Lo(Fi,Xe)],--Te;++Te<Fe;)de=U[Te%Ee],Ye.shift(),Ye.push(de[0]),Xe.shift(),Xe.push(de[1]),wi(ie,Ye,Xe);return ie.join("")},bundle:function(U,ie){var de=U.length-1;if(de)for(var Te,Ee,Fe=U[0][0],Ye=U[0][1],Xe=U[de][0]-Fe,Qe=U[de][1]-Ye,nt=-1;++nt<=de;)(Te=U[nt])[0]=ie*Te[0]+(1-ie)*(Fe+(Ee=nt/de)*Xe),Te[1]=ie*Te[1]+(1-ie)*(Ye+Ee*Qe);return va(U)},cardinal:function(U,ie){return U.length<3?ai(U):U[0]+Ii(U,zl(U,ie))},"cardinal-open":function(U,ie){return U.length<4?ai(U):U[1]+Ii(U.slice(1,-1),zl(U,ie))},"cardinal-closed":function(U,ie){return U.length<3?vu(U):U[0]+Ii((U.push(U[0]),U),zl([U[U.length-2]].concat(U,[U[1]]),ie))},monotone:function(U){return U.length<3?ai(U):U[0]+Ii(U,function(ie){for(var de,Te,Ee,Fe,Ye=[],Xe=function(lt){for(var xt=0,Mt=lt.length-1,jt=[],Vt=lt[0],Bt=lt[1],Xt=jt[0]=Za(Vt,Bt);++xt<Mt;)jt[xt]=(Xt+(Xt=Za(Vt=Bt,Bt=lt[xt+1])))/2;return jt[xt]=Xt,jt}(ie),Qe=-1,nt=ie.length-1;++Qe<nt;)de=Za(ie[Qe],ie[Qe+1]),w(de)<pt?Xe[Qe]=Xe[Qe+1]=0:(Fe=(Te=Xe[Qe]/de)*Te+(Ee=Xe[Qe+1]/de)*Ee)>9&&(Fe=3*de/Math.sqrt(Fe),Xe[Qe]=Fe*Te,Xe[Qe+1]=Fe*Ee);for(Qe=-1;++Qe<=nt;)Fe=(ie[Math.min(nt,Qe+1)][0]-ie[Math.max(0,Qe-1)][0])/(6*(1+Xe[Qe]*Xe[Qe])),Ye.push([Fe||0,Xe[Qe]*Fe||0]);return Ye}(U))}});function ai(U){return U.length>1?U.join("L"):U+"Z"}function vu(U){return U.join("L")+"Z"}function Fl(U){for(var ie=0,de=U.length,Te=U[0],Ee=[Te[0],",",Te[1]];++ie<de;)Ee.push("V",(Te=U[ie])[1],"H",Te[0]);return Ee.join("")}function da(U){for(var ie=0,de=U.length,Te=U[0],Ee=[Te[0],",",Te[1]];++ie<de;)Ee.push("H",(Te=U[ie])[0],"V",Te[1]);return Ee.join("")}function Ii(U,ie){if(ie.length<1||U.length!=ie.length&&U.length!=ie.length+2)return ai(U);var de=U.length!=ie.length,Te="",Ee=U[0],Fe=U[1],Ye=ie[0],Xe=Ye,Qe=1;if(de&&(Te+="Q"+(Fe[0]-2*Ye[0]/3)+","+(Fe[1]-2*Ye[1]/3)+","+Fe[0]+","+Fe[1],Ee=U[1],Qe=2),ie.length>1){Fe=U[Qe],Qe++,Te+="C"+(Ee[0]+Ye[0])+","+(Ee[1]+Ye[1])+","+(Fe[0]-(Xe=ie[1])[0])+","+(Fe[1]-Xe[1])+","+Fe[0]+","+Fe[1];for(var nt=2;nt<ie.length;nt++,Qe++)Te+="S"+((Fe=U[Qe])[0]-(Xe=ie[nt])[0])+","+(Fe[1]-Xe[1])+","+Fe[0]+","+Fe[1]}if(de){var lt=U[Qe];Te+="Q"+(Fe[0]+2*Xe[0]/3)+","+(Fe[1]+2*Xe[1]/3)+","+lt[0]+","+lt[1]}return Te}function zl(U,ie){for(var de,Te=[],Ee=(1-ie)/2,Fe=U[0],Ye=U[1],Xe=1,Qe=U.length;++Xe<Qe;)de=Fe,Fe=Ye,Te.push([Ee*((Ye=U[Xe])[0]-de[0]),Ee*(Ye[1]-de[1])]);return Te}function va(U){if(U.length<3)return ai(U);var ie=1,de=U.length,Te=U[0],Ee=Te[0],Fe=Te[1],Ye=[Ee,Ee,Ee,(Te=U[1])[0]],Xe=[Fe,Fe,Fe,Te[1]],Qe=[Ee,",",Fe,"L",Lo(Fi,Ye),",",Lo(Fi,Xe)];for(U.push(U[de-1]);++ie<=de;)Te=U[ie],Ye.shift(),Ye.push(Te[0]),Xe.shift(),Xe.push(Te[1]),wi(Qe,Ye,Xe);return U.pop(),Qe.push("L",Te),Qe.join("")}function Lo(U,ie){return U[0]*ie[0]+U[1]*ie[1]+U[2]*ie[2]+U[3]*ie[3]}bs.forEach(function(U,ie){ie.key=U,ie.closed=/-closed$/.test(U)});var bo=[0,2/3,1/3,0],uf=[0,1/3,2/3,0],Fi=[0,1/6,2/3,1/6];function wi(U,ie,de){U.push("C",Lo(bo,ie),",",Lo(bo,de),",",Lo(uf,ie),",",Lo(uf,de),",",Lo(Fi,ie),",",Lo(Fi,de))}function Za(U,ie){return(ie[1]-U[1])/(ie[0]-U[0])}function Ba(U){for(var ie,de,Te,Ee=-1,Fe=U.length;++Ee<Fe;)de=(ie=U[Ee])[0],Te=ie[1]-tt,ie[0]=de*Math.cos(Te),ie[1]=de*Math.sin(Te);return U}function cs(U){var ie=sr,de=sr,Te=0,Ee=yn,Fe=ra,Ye=ai,Xe=Ye.key,Qe=Ye,nt="L",lt=.7;function xt(Mt){var jt,Vt,Bt,Xt=[],Ut=[],mn=[],sn=-1,rn=Mt.length,In=Wn(ie),Pn=Wn(Te),tr=ie===de?function(){return Vt}:Wn(de),rr=Te===Ee?function(){return Bt}:Wn(Ee);function pr(){Xt.push("M",Ye(U(mn),lt),nt,Qe(U(Ut.reverse()),lt),"Z")}for(;++sn<rn;)Fe.call(this,jt=Mt[sn],sn)?(Ut.push([Vt=+In.call(this,jt,sn),Bt=+Pn.call(this,jt,sn)]),mn.push([+tr.call(this,jt,sn),+rr.call(this,jt,sn)])):Ut.length&&(pr(),Ut=[],mn=[]);return Ut.length&&pr(),Xt.length?Xt.join(""):null}return xt.x=function(Mt){return arguments.length?(ie=de=Mt,xt):de},xt.x0=function(Mt){return arguments.length?(ie=Mt,xt):ie},xt.x1=function(Mt){return arguments.length?(de=Mt,xt):de},xt.y=function(Mt){return arguments.length?(Te=Ee=Mt,xt):Ee},xt.y0=function(Mt){return arguments.length?(Te=Mt,xt):Te},xt.y1=function(Mt){return arguments.length?(Ee=Mt,xt):Ee},xt.defined=function(Mt){return arguments.length?(Fe=Mt,xt):Fe},xt.interpolate=function(Mt){return arguments.length?(Xe="function"==typeof Mt?Ye=Mt:(Ye=bs.get(Mt)||ai).key,Qe=Ye.reverse||Ye,nt=Ye.closed?"M":"L",xt):Xe},xt.tension=function(Mt){return arguments.length?(lt=Mt,xt):lt},xt}function fs(U){return U.source}function rl(U){return U.target}function Kl(U){return U.radius}function ia(U){return[U.x,U.y]}function Oa(){return 64}function Kr(){return"circle"}function ei(U){var ie=Math.sqrt(U/zt);return"M0,"+ie+"A"+ie+","+ie+" 0 1,1 0,"+-ie+"A"+ie+","+ie+" 0 1,1 0,"+ie+"Z"}f.svg.line.radial=function(){var U=us(Ba);return U.radius=U.x,delete U.x,U.angle=U.y,delete U.y,U},Fl.reverse=da,da.reverse=Fl,f.svg.area=function(){return cs(F)},f.svg.area.radial=function(){var U=cs(Ba);return U.radius=U.x,delete U.x,U.innerRadius=U.x0,delete U.x0,U.outerRadius=U.x1,delete U.x1,U.angle=U.y,delete U.y,U.startAngle=U.y0,delete U.y0,U.endAngle=U.y1,delete U.y1,U},f.svg.chord=function(){var U=fs,ie=rl,de=Kl,Te=Vs,Ee=ls;function Fe(nt,lt){var xt,Mt,jt=Ye(this,U,nt,lt),Vt=Ye(this,ie,nt,lt);return"M"+jt.p0+Xe(jt.r,jt.p1,jt.a1-jt.a0)+((xt=jt).a0==(Mt=Vt).a0&&xt.a1==Mt.a1?Qe(0,0,0,jt.p0):Qe(0,0,0,Vt.p0)+Xe(Vt.r,Vt.p1,Vt.a1-Vt.a0)+Qe(0,0,0,jt.p0))+"Z"}function Ye(nt,lt,xt,Mt){var jt=lt.call(nt,xt,Mt),Vt=de.call(nt,jt,Mt),Bt=Te.call(nt,jt,Mt)-tt,Xt=Ee.call(nt,jt,Mt)-tt;return{r:Vt,a0:Bt,a1:Xt,p0:[Vt*Math.cos(Bt),Vt*Math.sin(Bt)],p1:[Vt*Math.cos(Xt),Vt*Math.sin(Xt)]}}function Xe(nt,lt,xt){return"A"+nt+","+nt+" 0 "+ +(xt>zt)+",1 "+lt}function Qe(nt,lt,xt,Mt){return"Q 0,0 "+Mt}return Fe.radius=function(nt){return arguments.length?(de=Wn(nt),Fe):de},Fe.source=function(nt){return arguments.length?(U=Wn(nt),Fe):U},Fe.target=function(nt){return arguments.length?(ie=Wn(nt),Fe):ie},Fe.startAngle=function(nt){return arguments.length?(Te=Wn(nt),Fe):Te},Fe.endAngle=function(nt){return arguments.length?(Ee=Wn(nt),Fe):Ee},Fe},f.svg.diagonal=function(){var U=fs,ie=rl,de=ia;function Te(Ee,Fe){var Ye=U.call(this,Ee,Fe),Xe=ie.call(this,Ee,Fe),Qe=(Ye.y+Xe.y)/2,nt=[Ye,{x:Ye.x,y:Qe},{x:Xe.x,y:Qe},Xe];return"M"+(nt=nt.map(de))[0]+"C"+nt[1]+" "+nt[2]+" "+nt[3]}return Te.source=function(Ee){return arguments.length?(U=Wn(Ee),Te):U},Te.target=function(Ee){return arguments.length?(ie=Wn(Ee),Te):ie},Te.projection=function(Ee){return arguments.length?(de=Ee,Te):de},Te},f.svg.diagonal.radial=function(){var U=f.svg.diagonal(),ie=ia,de=U.projection;return U.projection=function(Te){return arguments.length?de((Ee=ie=Te,function(){var Fe=Ee.apply(this,arguments),Ye=Fe[0],Xe=Fe[1]-tt;return[Ye*Math.cos(Xe),Ye*Math.sin(Xe)]})):ie;var Ee},U},f.svg.symbol=function(){var U=Kr,ie=Oa;function de(Te,Ee){return(zu.get(U.call(this,Te,Ee))||ei)(ie.call(this,Te,Ee))}return de.type=function(Te){return arguments.length?(U=Wn(Te),de):U},de.size=function(Te){return arguments.length?(ie=Wn(Te),de):ie},de};var zu=f.map({circle:ei,cross:function(U){var ie=Math.sqrt(U/5)/2;return"M"+-3*ie+","+-ie+"H"+-ie+"V"+-3*ie+"H"+ie+"V"+-ie+"H"+3*ie+"V"+ie+"H"+ie+"V"+3*ie+"H"+-ie+"V"+ie+"H"+-3*ie+"Z"},diamond:function(U){var ie=Math.sqrt(U/(2*Ql)),de=ie*Ql;return"M0,"+-ie+"L"+de+",0 0,"+ie+" "+-de+",0Z"},square:function(U){var ie=Math.sqrt(U)/2;return"M"+-ie+","+-ie+"L"+ie+","+-ie+" "+ie+","+ie+" "+-ie+","+ie+"Z"},"triangle-down":function(U){var ie=Math.sqrt(U/Xa),de=ie*Xa/2;return"M0,"+de+"L"+ie+","+-de+" "+-ie+","+-de+"Z"},"triangle-up":function(U){var ie=Math.sqrt(U/Xa),de=ie*Xa/2;return"M0,"+-de+"L"+ie+","+de+" "+-ie+","+de+"Z"}});f.svg.symbolTypes=zu.keys();var Xa=Math.sqrt(3),Ql=Math.tan(30*it);Me.transition=function(U){for(var ie,de,Te=eu||++ya,Ee=Bl(U),Fe=[],Ye=tu||{time:Date.now(),ease:Cl,delay:0,duration:250},Xe=-1,Qe=this.length;++Xe<Qe;){Fe.push(ie=[]);for(var nt=this[Xe],lt=-1,xt=nt.length;++lt<xt;)(de=nt[lt])&&nu(de,lt,Ee,Te,Ye),ie.push(de)}return Ra(Fe,Ee,Te)},Me.interrupt=function(U){return this.each(null==U?Pa:Bu(Bl(U)))};var Pa=Bu(Bl());function Bu(U){return function(){var ie,de,Te;(ie=this[U])&&(Te=ie[de=ie.active])&&(Te.timer.c=null,Te.timer.t=NaN,--ie.count?delete ie[de]:delete this[U],ie.active+=.5,Te.event&&Te.event.interrupt.call(this,this.__data__,Te.index))}}function Ra(U,ie,de){return oe(U,li),U.namespace=ie,U.id=de,U}var eu,tu,li=[],ya=0;function vl(U,ie,de,Te){var Ee=U.id,Fe=U.namespace;return ke(U,"function"==typeof de?function(Ye,Xe,Qe){Ye[Fe][Ee].tween.set(ie,Te(de.call(Ye,Ye.__data__,Xe,Qe)))}:(de=Te(de),function(Ye){Ye[Fe][Ee].tween.set(ie,de)}))}function ws(U){return null==U&&(U=""),function(){this.textContent=U}}function Bl(U){return null==U?"__transition__":"__transition_"+U+"__"}function nu(U,ie,de,Te,Ee){var Fe,Ye,Xe,Qe,nt,lt=U[de]||(U[de]={active:0,count:0}),xt=lt[Te];function Mt(Vt){var Bt=lt.active,Xt=lt[Bt];for(var Ut in Xt&&(Xt.timer.c=null,Xt.timer.t=NaN,--lt.count,delete lt[Bt],Xt.event&&Xt.event.interrupt.call(U,U.__data__,Xt.index)),lt)if(+Ut<Te){var mn=lt[Ut];mn.timer.c=null,mn.timer.t=NaN,--lt.count,delete lt[Ut]}Ye.c=jt,tn(function(){return Ye.c&&jt(Vt||1)&&(Ye.c=null,Ye.t=NaN),1},0,Fe),lt.active=Te,xt.event&&xt.event.start.call(U,U.__data__,ie),nt=[],xt.tween.forEach(function(sn,rn){(rn=rn.call(U,U.__data__,ie))&&nt.push(rn)}),Qe=xt.ease,Xe=xt.duration}function jt(Vt){for(var Bt=Vt/Xe,Xt=Qe(Bt),Ut=nt.length;Ut>0;)nt[--Ut].call(U,Xt);if(Bt>=1)return xt.event&&xt.event.end.call(U,U.__data__,ie),--lt.count?delete lt[Te]:delete U[de],1}xt||(Ye=tn(function(Vt){var Bt=xt.delay;if(Ye.t=Bt+Fe,Bt<=Vt)return Mt(Vt-Bt);Ye.c=Mt},0,Fe=Ee.time),xt=lt[Te]={tween:new b,time:Fe,timer:Ye,delay:Ee.delay,duration:Ee.duration,ease:Ee.ease,index:ie},Ee=null,++lt.count)}li.call=Me.call,li.empty=Me.empty,li.node=Me.node,li.size=Me.size,f.transition=function(U,ie){return U&&U.transition?eu?U.transition(ie):U:f.selection().transition(U)},f.transition.prototype=li,li.select=function(U){var ie,de,Te,Ee=this.id,Fe=this.namespace,Ye=[];U=Ae(U);for(var Xe=-1,Qe=this.length;++Xe<Qe;){Ye.push(ie=[]);for(var nt=this[Xe],lt=-1,xt=nt.length;++lt<xt;)(Te=nt[lt])&&(de=U.call(Te,Te.__data__,lt,Xe))?("__data__"in Te&&(de.__data__=Te.__data__),nu(de,lt,Fe,Ee,Te[Fe][Ee]),ie.push(de)):ie.push(null)}return Ra(Ye,Fe,Ee)},li.selectAll=function(U){var ie,de,Te,Ee,Fe,Ye=this.id,Xe=this.namespace,Qe=[];U=be(U);for(var nt=-1,lt=this.length;++nt<lt;)for(var xt=this[nt],Mt=-1,jt=xt.length;++Mt<jt;)if(Te=xt[Mt]){Fe=Te[Xe][Ye],de=U.call(Te,Te.__data__,Mt,nt),Qe.push(ie=[]);for(var Vt=-1,Bt=de.length;++Vt<Bt;)(Ee=de[Vt])&&nu(Ee,Vt,Xe,Ye,Fe),ie.push(Ee)}return Ra(Qe,Xe,Ye)},li.filter=function(U){var ie,de,Te=[];"function"!=typeof U&&(U=ve(U));for(var Ee=0,Fe=this.length;Ee<Fe;Ee++){Te.push(ie=[]);for(var Ye,Xe=0,Qe=(Ye=this[Ee]).length;Xe<Qe;Xe++)(de=Ye[Xe])&&U.call(de,de.__data__,Xe,Ee)&&ie.push(de)}return Ra(Te,this.namespace,this.id)},li.tween=function(U,ie){var de=this.id,Te=this.namespace;return arguments.length<2?this.node()[Te][de].tween.get(U):ke(this,null==ie?function(Ee){Ee[Te][de].tween.remove(U)}:function(Ee){Ee[Te][de].tween.set(U,ie)})},li.attr=function(U,ie){if(arguments.length<2){for(ie in U)this.attr(ie,U[ie]);return this}var de="transform"==U?$a:Cs,Te=f.ns.qualify(U);function Ee(){this.removeAttribute(Te)}function Fe(){this.removeAttributeNS(Te.space,Te.local)}return vl(this,"attr."+U,ie,Te.local?function(Ye){return null==Ye?Fe:(Ye+="",function(){var Xe,Qe=this.getAttributeNS(Te.space,Te.local);return Qe!==Ye&&(Xe=de(Qe,Ye),function(nt){this.setAttributeNS(Te.space,Te.local,Xe(nt))})})}:function(Ye){return null==Ye?Ee:(Ye+="",function(){var Xe,Qe=this.getAttribute(Te);return Qe!==Ye&&(Xe=de(Qe,Ye),function(nt){this.setAttribute(Te,Xe(nt))})})})},li.attrTween=function(U,ie){var de=f.ns.qualify(U);return this.tween("attr."+U,de.local?function(Te,Ee){var Fe=ie.call(this,Te,Ee,this.getAttributeNS(de.space,de.local));return Fe&&function(Ye){this.setAttributeNS(de.space,de.local,Fe(Ye))}}:function(Te,Ee){var Fe=ie.call(this,Te,Ee,this.getAttribute(de));return Fe&&function(Ye){this.setAttribute(de,Fe(Ye))}})},li.style=function(U,ie,de){var Te=arguments.length;if(Te<3){if("string"!=typeof U){for(de in Te<2&&(ie=""),U)this.style(de,U[de],ie);return this}de=""}function Ee(){this.style.removeProperty(U)}return vl(this,"style."+U,ie,function(Fe){return null==Fe?Ee:(Fe+="",function(){var Ye,Xe=i(this).getComputedStyle(this,null).getPropertyValue(U);return Xe!==Fe&&(Ye=Cs(Xe,Fe),function(Qe){this.style.setProperty(U,Ye(Qe),de)})})})},li.styleTween=function(U,ie,de){return arguments.length<3&&(de=""),this.tween("style."+U,function(Te,Ee){var Fe=ie.call(this,Te,Ee,i(this).getComputedStyle(this,null).getPropertyValue(U));return Fe&&function(Ye){this.style.setProperty(U,Fe(Ye),de)}})},li.text=function(U){return vl(this,"text",U,ws)},li.remove=function(){var U=this.namespace;return this.each("end.transition",function(){var ie;this[U].count<2&&(ie=this.parentNode)&&ie.removeChild(this)})},li.ease=function(U){var ie=this.id,de=this.namespace;return arguments.length<1?this.node()[de][ie].ease:("function"!=typeof U&&(U=f.ease.apply(f,arguments)),ke(this,function(Te){Te[de][ie].ease=U}))},li.delay=function(U){var ie=this.id,de=this.namespace;return arguments.length<1?this.node()[de][ie].delay:ke(this,"function"==typeof U?function(Te,Ee,Fe){Te[de][ie].delay=+U.call(Te,Te.__data__,Ee,Fe)}:(U=+U,function(Te){Te[de][ie].delay=U}))},li.duration=function(U){var ie=this.id,de=this.namespace;return arguments.length<1?this.node()[de][ie].duration:ke(this,"function"==typeof U?function(Te,Ee,Fe){Te[de][ie].duration=Math.max(1,U.call(Te,Te.__data__,Ee,Fe))}:(U=Math.max(1,U),function(Te){Te[de][ie].duration=U}))},li.each=function(U,ie){var de=this.id,Te=this.namespace;if(arguments.length<2){var Ee=tu,Fe=eu;try{eu=de,ke(this,function(Ye,Xe,Qe){tu=Ye[Te][de],U.call(Ye,Ye.__data__,Xe,Qe)})}finally{tu=Ee,eu=Fe}}else ke(this,function(Ye){var Xe=Ye[Te][de];(Xe.event||(Xe.event=f.dispatch("start","end","interrupt"))).on(U,ie)});return this},li.transition=function(){for(var U,ie,de,Te=this.id,Ee=++ya,Fe=this.namespace,Ye=[],Xe=0,Qe=this.length;Xe<Qe;Xe++){Ye.push(U=[]);for(var nt,lt=0,xt=(nt=this[Xe]).length;lt<xt;lt++)(ie=nt[lt])&&nu(ie,lt,Fe,Ee,{time:(de=ie[Fe][Te]).time,ease:de.ease,delay:de.delay+de.duration,duration:de.duration}),U.push(ie)}return Ra(Ye,Fe,Ee)},f.svg.axis=function(){var U,ie=f.scale.linear(),de=yu,Te=6,Ee=6,Fe=3,Ye=[10],Xe=null;function Qe(nt){nt.each(function(){var lt,xt=f.select(this),Mt=this.__chart__||ie,jt=this.__chart__=ie.copy(),Vt=Xe??(jt.ticks?jt.ticks.apply(jt,Ye):jt.domain()),Bt=U??(jt.tickFormat?jt.tickFormat.apply(jt,Ye):F),Xt=xt.selectAll(".tick").data(Vt,jt),Ut=Xt.enter().insert("g",".domain").attr("class","tick").style("opacity",pt),mn=f.transition(Xt.exit()).style("opacity",pt).remove(),sn=f.transition(Xt.order()).style("opacity",1),rn=Math.max(Te,0)+Fe,In=$o(jt),Pn=xt.selectAll(".domain").data([0]),tr=(Pn.enter().append("path").attr("class","domain"),f.transition(Pn));Ut.append("line"),Ut.append("text");var rr,pr,yr,Er,Sr=Ut.select("line"),Rr=sn.select("line"),qr=Xt.select("text").text(Bt),oi=Ut.select("text"),cr=sn.select("text"),Ar="top"===de||"left"===de?-1:1;if("bottom"===de||"top"===de?(lt=V,rr="x",yr="y",pr="x2",Er="y2",qr.attr("dy",Ar<0?"0em":".71em").style("text-anchor","middle"),tr.attr("d","M"+In[0]+","+Ar*Ee+"V0H"+In[1]+"V"+Ar*Ee)):(lt=$,rr="y",yr="x",pr="y2",Er="x2",qr.attr("dy",".32em").style("text-anchor",Ar<0?"end":"start"),tr.attr("d","M"+Ar*Ee+","+In[0]+"H0V"+In[1]+"H"+Ar*Ee)),Sr.attr(Er,Ar*Te),oi.attr(yr,Ar*rn),Rr.attr(pr,0).attr(Er,Ar*Te),cr.attr(rr,0).attr(yr,Ar*rn),jt.rangeBand){var Nr=jt,Wr=Nr.rangeBand()/2;Mt=jt=function(ti){return Nr(ti)+Wr}}else Mt.rangeBand?Mt=jt:mn.call(lt,jt,Mt);Ut.call(lt,Mt,jt),sn.call(lt,jt,jt)})}return Qe.scale=function(nt){return arguments.length?(ie=nt,Qe):ie},Qe.orient=function(nt){return arguments.length?(de=nt in jl?nt+"":yu,Qe):de},Qe.ticks=function(){return arguments.length?(Ye=M(arguments),Qe):Ye},Qe.tickValues=function(nt){return arguments.length?(Xe=nt,Qe):Xe},Qe.tickFormat=function(nt){return arguments.length?(U=nt,Qe):U},Qe.tickSize=function(nt){var lt=arguments.length;return lt?(Te=+nt,Ee=+arguments[lt-1],Qe):Te},Qe.innerTickSize=function(nt){return arguments.length?(Te=+nt,Qe):Te},Qe.outerTickSize=function(nt){return arguments.length?(Ee=+nt,Qe):Ee},Qe.tickPadding=function(nt){return arguments.length?(Fe=+nt,Qe):Fe},Qe.tickSubdivide=function(){return arguments.length&&Qe},Qe};var yu="bottom",jl={top:1,right:1,bottom:1,left:1};function V(U,ie,de){U.attr("transform",function(Te){var Ee=ie(Te);return"translate("+(isFinite(Ee)?Ee:de(Te))+",0)"})}function $(U,ie,de){U.attr("transform",function(Te){var Ee=ie(Te);return"translate(0,"+(isFinite(Ee)?Ee:de(Te))+")"})}f.svg.brush=function(){var U,ie,de=Q(lt,"brushstart","brush","brushend"),Te=null,Ee=null,Fe=[0,0],Ye=[0,0],Xe=!0,Qe=!0,nt=te[0];function lt(Bt){Bt.each(function(){var Xt=f.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",Vt).on("touchstart.brush",Vt),Ut=Xt.selectAll(".background").data([0]);Ut.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),Xt.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var mn=Xt.selectAll(".resize").data(nt,F);mn.exit().remove(),mn.enter().append("g").attr("class",function(Pn){return"resize "+Pn}).style("cursor",function(Pn){return q[Pn]}).append("rect").attr("x",function(Pn){return/[ew]$/.test(Pn)?-3:null}).attr("y",function(Pn){return/^[ns]/.test(Pn)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),mn.style("display",lt.empty()?"none":null);var sn,rn=f.transition(Xt),In=f.transition(Ut);Te&&(sn=$o(Te),In.attr("x",sn[0]).attr("width",sn[1]-sn[0]),Mt(rn)),Ee&&(sn=$o(Ee),In.attr("y",sn[0]).attr("height",sn[1]-sn[0]),jt(rn)),xt(rn)})}function xt(Bt){Bt.selectAll(".resize").attr("transform",function(Xt){return"translate("+Fe[+/e$/.test(Xt)]+","+Ye[+/^s/.test(Xt)]+")"})}function Mt(Bt){Bt.select(".extent").attr("x",Fe[0]),Bt.selectAll(".extent,.n>rect,.s>rect").attr("width",Fe[1]-Fe[0])}function jt(Bt){Bt.select(".extent").attr("y",Ye[0]),Bt.selectAll(".extent,.e>rect,.w>rect").attr("height",Ye[1]-Ye[0])}function Vt(){var Bt,Xt,Ut=this,mn=f.select(f.event.target),sn=de.of(Ut,arguments),rn=f.select(Ut),In=mn.datum(),Pn=!/^(n|s)$/.test(In)&&Te,tr=!/^(e|w)$/.test(In)&&Ee,rr=mn.classed("extent"),pr=kt(Ut),yr=f.mouse(Ut),Er=f.select(i(Ut)).on("keydown.brush",function(){32==f.event.keyCode&&(rr||(Bt=null,yr[0]-=Fe[1],yr[1]-=Ye[1],rr=2),re())}).on("keyup.brush",function(){32==f.event.keyCode&&2==rr&&(yr[0]+=Fe[1],yr[1]+=Ye[1],rr=0,re())});if(f.event.changedTouches?Er.on("touchmove.brush",qr).on("touchend.brush",cr):Er.on("mousemove.brush",qr).on("mouseup.brush",cr),rn.interrupt().selectAll("*").interrupt(),rr)yr[0]=Fe[0]-yr[0],yr[1]=Ye[0]-yr[1];else if(In){var Sr=+/w$/.test(In),Rr=+/^n/.test(In);Xt=[Fe[1-Sr]-yr[0],Ye[1-Rr]-yr[1]],yr[0]=Fe[Sr],yr[1]=Ye[Rr]}else f.event.altKey&&(Bt=yr.slice());function qr(){var Ar=f.mouse(Ut),Nr=!1;Xt&&(Ar[0]+=Xt[0],Ar[1]+=Xt[1]),rr||(f.event.altKey?(Bt||(Bt=[(Fe[0]+Fe[1])/2,(Ye[0]+Ye[1])/2]),yr[0]=Fe[+(Ar[0]<Bt[0])],yr[1]=Ye[+(Ar[1]<Bt[1])]):Bt=null),Pn&&oi(Ar,Te,0)&&(Mt(rn),Nr=!0),tr&&oi(Ar,Ee,1)&&(jt(rn),Nr=!0),Nr&&(xt(rn),sn({type:"brush",mode:rr?"move":"resize"}))}function oi(Ar,Nr,Wr){var ti,ci,Li=$o(Nr),ro=Li[0],fo=Li[1],Ai=yr[Wr],Ji=Wr?Ye:Fe,Vo=Ji[1]-Ji[0];if(rr&&(ro-=Ai,fo-=Vo+Ai),ti=(Wr?Qe:Xe)?Math.max(ro,Math.min(fo,Ar[Wr])):Ar[Wr],rr?ci=(ti+=Ai)+Vo:(Bt&&(Ai=Math.max(ro,Math.min(fo,2*Bt[Wr]-ti))),Ai<ti?(ci=ti,ti=Ai):ci=Ai),Ji[0]!=ti||Ji[1]!=ci)return Wr?ie=null:U=null,Ji[0]=ti,Ji[1]=ci,!0}function cr(){qr(),rn.style("pointer-events","all").selectAll(".resize").style("display",lt.empty()?"none":null),f.select("body").style("cursor",null),Er.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),pr(),sn({type:"brushend"})}rn.style("pointer-events","none").selectAll(".resize").style("display",null),f.select("body").style("cursor",mn.style("cursor")),sn({type:"brushstart"}),qr()}return lt.event=function(Bt){Bt.each(function(){var Xt=de.of(this,arguments),Ut={x:Fe,y:Ye,i:U,j:ie},mn=this.__chart__||Ut;this.__chart__=Ut,eu?f.select(this).transition().each("start.brush",function(){U=mn.i,ie=mn.j,Fe=mn.x,Ye=mn.y,Xt({type:"brushstart"})}).tween("brush:brush",function(){var sn=jo(Fe,Ut.x),rn=jo(Ye,Ut.y);return U=ie=null,function(In){Fe=Ut.x=sn(In),Ye=Ut.y=rn(In),Xt({type:"brush",mode:"resize"})}}).each("end.brush",function(){U=Ut.i,ie=Ut.j,Xt({type:"brush",mode:"resize"}),Xt({type:"brushend"})}):(Xt({type:"brushstart"}),Xt({type:"brush",mode:"resize"}),Xt({type:"brushend"}))})},lt.x=function(Bt){return arguments.length?(nt=te[!(Te=Bt)<<1|!Ee],lt):Te},lt.y=function(Bt){return arguments.length?(nt=te[!Te<<1|!(Ee=Bt)],lt):Ee},lt.clamp=function(Bt){return arguments.length?(Te&&Ee?(Xe=!!Bt[0],Qe=!!Bt[1]):Te?Xe=!!Bt:Ee&&(Qe=!!Bt),lt):Te&&Ee?[Xe,Qe]:Te?Xe:Ee?Qe:null},lt.extent=function(Bt){var Xt,Ut,mn,sn,rn;return arguments.length?(Te&&(Xt=Bt[0],Ut=Bt[1],Ee&&(Xt=Xt[0],Ut=Ut[0]),U=[Xt,Ut],Te.invert&&(Xt=Te(Xt),Ut=Te(Ut)),Ut<Xt&&(rn=Xt,Xt=Ut,Ut=rn),Xt==Fe[0]&&Ut==Fe[1]||(Fe=[Xt,Ut])),Ee&&(mn=Bt[0],sn=Bt[1],Te&&(mn=mn[1],sn=sn[1]),ie=[mn,sn],Ee.invert&&(mn=Ee(mn),sn=Ee(sn)),sn<mn&&(rn=mn,mn=sn,sn=rn),mn==Ye[0]&&sn==Ye[1]||(Ye=[mn,sn])),lt):(Te&&(U?(Xt=U[0],Ut=U[1]):(Xt=Fe[0],Ut=Fe[1],Te.invert&&(Xt=Te.invert(Xt),Ut=Te.invert(Ut)),Ut<Xt&&(rn=Xt,Xt=Ut,Ut=rn))),Ee&&(ie?(mn=ie[0],sn=ie[1]):(mn=Ye[0],sn=Ye[1],Ee.invert&&(mn=Ee.invert(mn),sn=Ee.invert(sn)),sn<mn&&(rn=mn,mn=sn,sn=rn))),Te&&Ee?[[Xt,mn],[Ut,sn]]:Te?[Xt,Ut]:Ee&&[mn,sn])},lt.clear=function(){return lt.empty()||(Fe=[0,0],Ye=[0,0],U=ie=null),lt},lt.empty=function(){return!!Te&&Fe[0]==Fe[1]||!!Ee&&Ye[0]==Ye[1]},f.rebind(lt,de,"on")};var q={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},te=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];function xe(U){return JSON.parse(U.responseText)}function Pe(U){var ie=y.createRange();return ie.selectNode(y.body),ie.createContextualFragment(U.responseText)}f.text=gr(function(U){return U.responseText}),f.json=function(U,ie){return lr(U,"application/json",xe,ie)},f.html=function(U,ie){return lr(U,"text/html",Pe,ie)},f.xml=gr(function(U){return U.responseXML}),void 0===(E="function"==typeof(D=f)?D.call(B,r,B,ae):D)||(ae.exports=E)}).apply(self)},88294:function(ae,B,r){"use strict";ae.exports=r(62849)},62849:function(ae,B,r){"use strict";var D=r(91358),E=r(53435),f=r(18863),k=r(21527),M=r(71299),y=r(46775),c=r(30120),i=r(64941),s=r(90660),a=r(27084);function o(l,u){for(var h=u[0],v=u[1],p=1/(u[2]-h),T=1/(u[3]-v),_=new Array(l.length),m=0,w=l.length/2;m<w;m++)_[2*m]=E((l[2*m]-h)*p,0,1),_[2*m+1]=E((l[2*m+1]-v)*T,0,1);return _}ae.exports=function(l,u){u||(u={}),l=c(l,"float64"),u=M(u,{bounds:"range bounds dataBox databox",maxDepth:"depth maxDepth maxdepth level maxLevel maxlevel levels",dtype:"type dtype format out dst output destination"});var h=y(u.maxDepth,255),v=y(u.bounds,k(l,2));v[0]===v[2]&&v[2]++,v[1]===v[3]&&v[3]++;var p,T=o(l,v),_=l.length>>>1;u.dtype||(u.dtype="array"),"string"==typeof u.dtype?p=new(s(u.dtype))(_):u.dtype&&(p=u.dtype,Array.isArray(p)&&(p.length=_));for(var m=0;m<_;++m)p[m]=m;var w=[],x=[],b=[],A=[];!function j(X,F,Y,G,H,W){if(!G.length)return null;var Z=w[H]||(w[H]=[]),se=b[H]||(b[H]=[]),re=x[H]||(x[H]=[]),ne=Z.length;if(++H>h||W>1073741824){for(var Q=0;Q<G.length;Q++)Z.push(G[Q]),se.push(W),re.push(null,null,null,null);return ne}if(Z.push(G[0]),se.push(W),G.length<=1)return re.push(null,null,null,null),ne;for(var ee=.5*Y,oe=X+ee,ce=F+ee,fe=[],le=[],pe=[],Me=[],Ae=1,be=G.length;Ae<be;Ae++){var ye=G[Ae],ze=T[2*ye+1];T[2*ye]<oe?ze<ce?fe.push(ye):le.push(ye):ze<ce?pe.push(ye):Me.push(ye)}return re.push(j(X,F,ee,fe,H,W<<=2),j(X,ce,ee,le,H,W+1),j(oe,F,ee,pe,H,W+2),j(oe,ce,ee,Me,H,W+3)),ne}(0,0,1,p,0,1);for(var g=0,I=0;I<w.length;I++){var S=w[I];if(p.set)p.set(S,g);else for(var O=0,R=S.length;O<R;O++)p[O+g]=S[O];var L=g+w[I].length;A[I]=[g,L],g=L}return p.range=function(){for(var j,X=[],F=arguments.length;F--;)X[F]=arguments[F];if(i(X[X.length-1])){var Y=X.pop();X.length||null==Y.x&&null==Y.l&&null==Y.left||(X=[Y],j={}),j=M(Y,{level:"level maxLevel",d:"d diam diameter r radius px pxSize pixel pixelSize maxD size minSize",lod:"lod details ranges offsets"})}else j={};X.length||(X=v);var G,H=f.apply(void 0,X),W=[Math.min(H.x,H.x+H.width),Math.min(H.y,H.y+H.height),Math.max(H.x,H.x+H.width),Math.max(H.y,H.y+H.height)],Z=W[0],se=W[1],re=W[2],ne=W[3],Q=o([Z,se,re,ne],v),ee=Q[0],oe=Q[1],ce=Q[2],fe=Q[3],le=y(j.level,w.length);if(null!=j.d&&("number"==typeof j.d?G=[j.d,j.d]:j.d.length&&(G=j.d),le=Math.min(Math.max(Math.ceil(-a(Math.abs(G[0])/(v[2]-v[0]))),Math.ceil(-a(Math.abs(G[1])/(v[3]-v[1])))),le)),le=Math.min(le,w.length),j.lod)return function(Me,Ae,be,ye,we){for(var ze=[],Se=0;Se<we;Se++){var Ce=b[Se],ge=A[Se][0],he=N(Me,Ae,Se),_e=N(be,ye,Se),Le=D.ge(Ce,he),Ie=D.gt(Ce,_e,Le,Ce.length-1);ze[Se]=[Le+ge,Ie+ge]}return ze}(ee,oe,ce,fe,le);var pe=[];return function Me(Ae,be,ye,we,ze,Se){if(null!==ze&&null!==Se&&!(ee>Ae+ye||oe>be+ye||ce<Ae||fe<be||we>=le||ze===Se)){var Ce=w[we];void 0===Se&&(Se=Ce.length);for(var ge=ze;ge<Se;ge++){var he=Ce[ge],_e=l[2*he],Le=l[2*he+1];_e>=Z&&_e<=re&&Le>=se&&Le<=ne&&pe.push(he)}var Ie=x[we],De=Ie[4*ze+0],je=Ie[4*ze+1],qe=Ie[4*ze+2],ve=Ie[4*ze+3],Oe=function(We,Ge){for(var Ke=null,et=0;null===Ke;)if(Ke=We[4*Ge+et],++et>We.length)return null;return Ke}(Ie,ze+1),ke=.5*ye,Be=we+1;Me(Ae,be,ke,Be,De,je||qe||ve||Oe),Me(Ae,be+ke,ke,Be,je,qe||ve||Oe),Me(Ae+ke,be,ke,Be,qe,ve||Oe),Me(Ae+ke,be+ke,ke,Be,ve,Oe)}}(0,0,1,0,0,1),pe},p;function N(j,X,F){for(var Y=1,G=.5,H=.5,W=.5,Z=0;Z<F;Z++)Y<<=2,Y+=j<G?X<H?0:1:X<H?2:3,W*=.5,G+=j<G?-W:W,H+=X<H?-W:W;return Y}}},30774:function(ae,B,r){"use strict";Object.defineProperty(B,"__esModule",{value:!0});var D=r(60302),E=6378137;function f(y){var c=0;if(y&&y.length>0){c+=Math.abs(k(y[0]));for(var i=1;i<y.length;i++)c-=Math.abs(k(y[i]))}return c}function k(y){var c,i,s,a,o,l,u=0,h=y.length;if(h>2){for(l=0;l<h;l++)l===h-2?(s=h-2,a=h-1,o=0):l===h-1?(s=h-1,a=0,o=1):(s=l,a=l+1,o=l+2),c=y[s],i=y[a],u+=(M(y[o][0])-M(c[0]))*Math.sin(M(i[1]));u=u*E*E/2}return u}function M(y){return y*Math.PI/180}B.default=function(y){return D.geomReduce(y,function(c,i){return c+function(s){var a,o=0;switch(s.type){case"Polygon":return f(s.coordinates);case"MultiPolygon":for(a=0;a<s.coordinates.length;a++)o+=f(s.coordinates[a]);return o;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0}return 0}(i)},0)}},23132:function(ae,B){"use strict";function r(l,u,h){void 0===h&&(h={});var v={type:"Feature"};return(0===h.id||h.id)&&(v.id=h.id),h.bbox&&(v.bbox=h.bbox),v.properties=u||{},v.geometry=l,v}function D(l,u,h){if(void 0===h&&(h={}),!l)throw new Error("coordinates is required");if(!Array.isArray(l))throw new Error("coordinates must be an Array");if(l.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!o(l[0])||!o(l[1]))throw new Error("coordinates must contain numbers");return r({type:"Point",coordinates:l},u,h)}function E(l,u,h){void 0===h&&(h={});for(var v=0,p=l;v<p.length;v++){var T=p[v];if(T.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var _=0;_<T[T.length-1].length;_++)if(T[T.length-1][_]!==T[0][_])throw new Error("First and last Position are not equivalent.")}return r({type:"Polygon",coordinates:l},u,h)}function f(l,u,h){if(void 0===h&&(h={}),l.length<2)throw new Error("coordinates must be an array of two or more positions");return r({type:"LineString",coordinates:l},u,h)}function k(l,u){void 0===u&&(u={});var h={type:"FeatureCollection"};return u.id&&(h.id=u.id),u.bbox&&(h.bbox=u.bbox),h.features=l,h}function M(l,u,h){return void 0===h&&(h={}),r({type:"MultiLineString",coordinates:l},u,h)}function y(l,u,h){return void 0===h&&(h={}),r({type:"MultiPoint",coordinates:l},u,h)}function c(l,u,h){return void 0===h&&(h={}),r({type:"MultiPolygon",coordinates:l},u,h)}function i(l,u){void 0===u&&(u="kilometers");var h=B.factors[u];if(!h)throw new Error(u+" units is invalid");return l*h}function s(l,u){void 0===u&&(u="kilometers");var h=B.factors[u];if(!h)throw new Error(u+" units is invalid");return l/h}function a(l){return l%(2*Math.PI)*180/Math.PI}function o(l){return!isNaN(l)&&null!==l&&!Array.isArray(l)}Object.defineProperty(B,"__esModule",{value:!0}),B.earthRadius=6371008.8,B.factors={centimeters:100*B.earthRadius,centimetres:100*B.earthRadius,degrees:B.earthRadius/111325,feet:3.28084*B.earthRadius,inches:39.37*B.earthRadius,kilometers:B.earthRadius/1e3,kilometres:B.earthRadius/1e3,meters:B.earthRadius,metres:B.earthRadius,miles:B.earthRadius/1609.344,millimeters:1e3*B.earthRadius,millimetres:1e3*B.earthRadius,nauticalmiles:B.earthRadius/1852,radians:1,yards:1.0936*B.earthRadius},B.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/B.earthRadius,yards:1.0936133},B.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},B.feature=r,B.geometry=function(l,u,h){switch(void 0===h&&(h={}),l){case"Point":return D(u).geometry;case"LineString":return f(u).geometry;case"Polygon":return E(u).geometry;case"MultiPoint":return y(u).geometry;case"MultiLineString":return M(u).geometry;case"MultiPolygon":return c(u).geometry;default:throw new Error(l+" is invalid")}},B.point=D,B.points=function(l,u,h){return void 0===h&&(h={}),k(l.map(function(v){return D(v,u)}),h)},B.polygon=E,B.polygons=function(l,u,h){return void 0===h&&(h={}),k(l.map(function(v){return E(v,u)}),h)},B.lineString=f,B.lineStrings=function(l,u,h){return void 0===h&&(h={}),k(l.map(function(v){return f(v,u)}),h)},B.featureCollection=k,B.multiLineString=M,B.multiPoint=y,B.multiPolygon=c,B.geometryCollection=function(l,u,h){return void 0===h&&(h={}),r({type:"GeometryCollection",geometries:l},u,h)},B.round=function(l,u){if(void 0===u&&(u=0),u&&!(u>=0))throw new Error("precision must be a positive number");var h=Math.pow(10,u||0);return Math.round(l*h)/h},B.radiansToLength=i,B.lengthToRadians=s,B.lengthToDegrees=function(l,u){return a(s(l,u))},B.bearingToAzimuth=function(l){var u=l%360;return u<0&&(u+=360),u},B.radiansToDegrees=a,B.degreesToRadians=function(l){return l%360*Math.PI/180},B.convertLength=function(l,u,h){if(void 0===u&&(u="kilometers"),void 0===h&&(h="kilometers"),!(l>=0))throw new Error("length must be a positive number");return i(s(l,u),h)},B.convertArea=function(l,u,h){if(void 0===u&&(u="meters"),void 0===h&&(h="kilometers"),!(l>=0))throw new Error("area must be a positive number");var v=B.areaFactors[u];if(!v)throw new Error("invalid original units");var p=B.areaFactors[h];if(!p)throw new Error("invalid final units");return l/v*p},B.isNumber=o,B.isObject=function(l){return!!l&&l.constructor===Object},B.validateBBox=function(l){if(!l)throw new Error("bbox is required");if(!Array.isArray(l))throw new Error("bbox must be an Array");if(4!==l.length&&6!==l.length)throw new Error("bbox must be an Array of 4 or 6 numbers");l.forEach(function(u){if(!o(u))throw new Error("bbox must only contain numbers")})},B.validateId=function(l){if(!l)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof l))throw new Error("id must be a number or a string")}},60302:function(ae,B,r){"use strict";Object.defineProperty(B,"__esModule",{value:!0});var D=r(23132);function E(s,a,o){if(null!==s)for(var l,u,h,v,p,T,_,m,w=0,x=0,b=s.type,A="FeatureCollection"===b,g="Feature"===b,I=A?s.features.length:1,S=0;S<I;S++){p=(m=!!(_=A?s.features[S].geometry:g?s.geometry:s)&&"GeometryCollection"===_.type)?_.geometries.length:1;for(var O=0;O<p;O++){var R=0,L=0;if(null!==(v=m?_.geometries[O]:_)){T=v.coordinates;var N=v.type;switch(w=!o||"Polygon"!==N&&"MultiPolygon"!==N?0:1,N){case null:break;case"Point":if(!1===a(T,x,S,R,L))return!1;x++,R++;break;case"LineString":case"MultiPoint":for(l=0;l<T.length;l++){if(!1===a(T[l],x,S,R,L))return!1;x++,"MultiPoint"===N&&R++}"LineString"===N&&R++;break;case"Polygon":case"MultiLineString":for(l=0;l<T.length;l++){for(u=0;u<T[l].length-w;u++){if(!1===a(T[l][u],x,S,R,L))return!1;x++}"MultiLineString"===N&&R++,"Polygon"===N&&L++}"Polygon"===N&&R++;break;case"MultiPolygon":for(l=0;l<T.length;l++){for(L=0,u=0;u<T[l].length;u++){for(h=0;h<T[l][u].length-w;h++){if(!1===a(T[l][u][h],x,S,R,L))return!1;x++}L++}R++}break;case"GeometryCollection":for(l=0;l<v.geometries.length;l++)if(!1===E(v.geometries[l],a,o))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function f(s,a){var o;switch(s.type){case"FeatureCollection":for(o=0;o<s.features.length&&!1!==a(s.features[o].properties,o);o++);break;case"Feature":a(s.properties,0)}}function k(s,a){if("Feature"===s.type)a(s,0);else if("FeatureCollection"===s.type)for(var o=0;o<s.features.length&&!1!==a(s.features[o],o);o++);}function M(s,a){var o,l,u,h,v,p,T,_,m,w,x=0,b="FeatureCollection"===s.type,A="Feature"===s.type,g=b?s.features.length:1;for(o=0;o<g;o++){for(_=b?s.features[o].properties:A?s.properties:{},m=b?s.features[o].bbox:A?s.bbox:void 0,w=b?s.features[o].id:A?s.id:void 0,v=(T=!!(p=b?s.features[o].geometry:A?s.geometry:s)&&"GeometryCollection"===p.type)?p.geometries.length:1,u=0;u<v;u++)if(null!==(h=T?p.geometries[u]:p))switch(h.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===a(h,x,_,m,w))return!1;break;case"GeometryCollection":for(l=0;l<h.geometries.length;l++)if(!1===a(h.geometries[l],x,_,m,w))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===a(null,x,_,m,w))return!1;x++}}function y(s,a){M(s,function(o,l,u,h,v){var p,T=null===o?null:o.type;switch(T){case null:case"Point":case"LineString":case"Polygon":return!1!==a(D.feature(o,u,{bbox:h,id:v}),l,0)&&void 0}switch(T){case"MultiPoint":p="Point";break;case"MultiLineString":p="LineString";break;case"MultiPolygon":p="Polygon"}for(var _=0;_<o.coordinates.length;_++)if(!1===a(D.feature({type:p,coordinates:o.coordinates[_]},u),l,_))return!1})}function c(s,a){y(s,function(o,l,u){var h=0;if(o.geometry){var v=o.geometry.type;if("Point"!==v&&"MultiPoint"!==v){var p,T=0,_=0,m=0;return!1!==E(o,function(w,x,b,A,g){if(void 0===p||l>T||A>_||g>m)return p=w,T=l,_=A,m=g,void(h=0);var I=D.lineString([p,w],o.properties);if(!1===a(I,l,u,g,h))return!1;h++,p=w})&&void 0}}})}function i(s,a){if(!s)throw new Error("geojson is required");y(s,function(o,l,u){if(null!==o.geometry){var v=o.geometry.coordinates;switch(o.geometry.type){case"LineString":if(!1===a(o,l,u,0,0))return!1;break;case"Polygon":for(var p=0;p<v.length;p++)if(!1===a(D.lineString(v[p],o.properties),l,u,p))return!1}}})}B.coordEach=E,B.coordReduce=function(s,a,o,l){var u=o;return E(s,function(h,v,p,T,_){u=0===v&&void 0===o?h:a(u,h,v,p,T,_)},l),u},B.propEach=f,B.propReduce=function(s,a,o){var l=o;return f(s,function(u,h){l=0===h&&void 0===o?u:a(l,u,h)}),l},B.featureEach=k,B.featureReduce=function(s,a,o){var l=o;return k(s,function(u,h){l=0===h&&void 0===o?u:a(l,u,h)}),l},B.coordAll=function(s){var a=[];return E(s,function(o){a.push(o)}),a},B.geomEach=M,B.geomReduce=function(s,a,o){var l=o;return M(s,function(u,h,v,p,T){l=0===h&&void 0===o?u:a(l,u,h,v,p,T)}),l},B.flattenEach=y,B.flattenReduce=function(s,a,o){var l=o;return y(s,function(u,h,v){l=0===h&&0===v&&void 0===o?u:a(l,u,h,v)}),l},B.segmentEach=c,B.segmentReduce=function(s,a,o){var l=o,u=!1;return c(s,function(h,v,p,T,_){l=!1===u&&void 0===o?h:a(l,h,v,p,T,_),u=!0}),l},B.lineEach=i,B.lineReduce=function(s,a,o){var l=o;return i(s,function(u,h,v,p){l=0===h&&void 0===o?u:a(l,u,h,v,p)}),l},B.findSegment=function(s,a){if(!D.isObject(a=a||{}))throw new Error("options is invalid");var o,l=a.featureIndex||0,u=a.multiFeatureIndex||0,h=a.geometryIndex||0,v=a.segmentIndex||0,p=a.properties;switch(s.type){case"FeatureCollection":l<0&&(l=s.features.length+l),p=p||s.features[l].properties,o=s.features[l].geometry;break;case"Feature":p=p||s.properties,o=s.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":o=s;break;default:throw new Error("geojson is invalid")}if(null===o)return null;var T=o.coordinates;switch(o.type){case"Point":case"MultiPoint":return null;case"LineString":return v<0&&(v=T.length+v-1),D.lineString([T[v],T[v+1]],p,a);case"Polygon":return h<0&&(h=T.length+h),v<0&&(v=T[h].length+v-1),D.lineString([T[h][v],T[h][v+1]],p,a);case"MultiLineString":return u<0&&(u=T.length+u),v<0&&(v=T[u].length+v-1),D.lineString([T[u][v],T[u][v+1]],p,a);case"MultiPolygon":return u<0&&(u=T.length+u),h<0&&(h=T[u].length+h),v<0&&(v=T[u][h].length-v-1),D.lineString([T[u][h][v],T[u][h][v+1]],p,a)}throw new Error("geojson is invalid")},B.findPoint=function(s,a){if(!D.isObject(a=a||{}))throw new Error("options is invalid");var o,l=a.featureIndex||0,u=a.multiFeatureIndex||0,h=a.geometryIndex||0,v=a.coordIndex||0,p=a.properties;switch(s.type){case"FeatureCollection":l<0&&(l=s.features.length+l),p=p||s.features[l].properties,o=s.features[l].geometry;break;case"Feature":p=p||s.properties,o=s.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":o=s;break;default:throw new Error("geojson is invalid")}if(null===o)return null;var T=o.coordinates;switch(o.type){case"Point":return D.point(T,p,a);case"MultiPoint":return u<0&&(u=T.length+u),D.point(T[u],p,a);case"LineString":return v<0&&(v=T.length+v),D.point(T[v],p,a);case"Polygon":return h<0&&(h=T.length+h),v<0&&(v=T[h].length+v),D.point(T[h][v],p,a);case"MultiLineString":return u<0&&(u=T.length+u),v<0&&(v=T[u].length+v),D.point(T[u][v],p,a);case"MultiPolygon":return u<0&&(u=T.length+u),h<0&&(h=T[u].length+h),v<0&&(v=T[u][h].length-v),D.point(T[u][h][v],p,a)}throw new Error("geojson is invalid")}},85268:function(ae,B,r){"use strict";Object.defineProperty(B,"__esModule",{value:!0});var D=r(27138);function E(f){var k=[1/0,1/0,-1/0,-1/0];return D.coordEach(f,function(M){k[0]>M[0]&&(k[0]=M[0]),k[1]>M[1]&&(k[1]=M[1]),k[2]<M[0]&&(k[2]=M[0]),k[3]<M[1]&&(k[3]=M[1])}),k}E.default=E,B.default=E},94228:function(ae,B){"use strict";function r(l,u,h){void 0===h&&(h={});var v={type:"Feature"};return(0===h.id||h.id)&&(v.id=h.id),h.bbox&&(v.bbox=h.bbox),v.properties=u||{},v.geometry=l,v}function D(l,u,h){if(void 0===h&&(h={}),!l)throw new Error("coordinates is required");if(!Array.isArray(l))throw new Error("coordinates must be an Array");if(l.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!o(l[0])||!o(l[1]))throw new Error("coordinates must contain numbers");return r({type:"Point",coordinates:l},u,h)}function E(l,u,h){void 0===h&&(h={});for(var v=0,p=l;v<p.length;v++){var T=p[v];if(T.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var _=0;_<T[T.length-1].length;_++)if(T[T.length-1][_]!==T[0][_])throw new Error("First and last Position are not equivalent.")}return r({type:"Polygon",coordinates:l},u,h)}function f(l,u,h){if(void 0===h&&(h={}),l.length<2)throw new Error("coordinates must be an array of two or more positions");return r({type:"LineString",coordinates:l},u,h)}function k(l,u){void 0===u&&(u={});var h={type:"FeatureCollection"};return u.id&&(h.id=u.id),u.bbox&&(h.bbox=u.bbox),h.features=l,h}function M(l,u,h){return void 0===h&&(h={}),r({type:"MultiLineString",coordinates:l},u,h)}function y(l,u,h){return void 0===h&&(h={}),r({type:"MultiPoint",coordinates:l},u,h)}function c(l,u,h){return void 0===h&&(h={}),r({type:"MultiPolygon",coordinates:l},u,h)}function i(l,u){void 0===u&&(u="kilometers");var h=B.factors[u];if(!h)throw new Error(u+" units is invalid");return l*h}function s(l,u){void 0===u&&(u="kilometers");var h=B.factors[u];if(!h)throw new Error(u+" units is invalid");return l/h}function a(l){return l%(2*Math.PI)*180/Math.PI}function o(l){return!isNaN(l)&&null!==l&&!Array.isArray(l)}Object.defineProperty(B,"__esModule",{value:!0}),B.earthRadius=6371008.8,B.factors={centimeters:100*B.earthRadius,centimetres:100*B.earthRadius,degrees:B.earthRadius/111325,feet:3.28084*B.earthRadius,inches:39.37*B.earthRadius,kilometers:B.earthRadius/1e3,kilometres:B.earthRadius/1e3,meters:B.earthRadius,metres:B.earthRadius,miles:B.earthRadius/1609.344,millimeters:1e3*B.earthRadius,millimetres:1e3*B.earthRadius,nauticalmiles:B.earthRadius/1852,radians:1,yards:1.0936*B.earthRadius},B.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/B.earthRadius,yards:1.0936133},B.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},B.feature=r,B.geometry=function(l,u,h){switch(void 0===h&&(h={}),l){case"Point":return D(u).geometry;case"LineString":return f(u).geometry;case"Polygon":return E(u).geometry;case"MultiPoint":return y(u).geometry;case"MultiLineString":return M(u).geometry;case"MultiPolygon":return c(u).geometry;default:throw new Error(l+" is invalid")}},B.point=D,B.points=function(l,u,h){return void 0===h&&(h={}),k(l.map(function(v){return D(v,u)}),h)},B.polygon=E,B.polygons=function(l,u,h){return void 0===h&&(h={}),k(l.map(function(v){return E(v,u)}),h)},B.lineString=f,B.lineStrings=function(l,u,h){return void 0===h&&(h={}),k(l.map(function(v){return f(v,u)}),h)},B.featureCollection=k,B.multiLineString=M,B.multiPoint=y,B.multiPolygon=c,B.geometryCollection=function(l,u,h){return void 0===h&&(h={}),r({type:"GeometryCollection",geometries:l},u,h)},B.round=function(l,u){if(void 0===u&&(u=0),u&&!(u>=0))throw new Error("precision must be a positive number");var h=Math.pow(10,u||0);return Math.round(l*h)/h},B.radiansToLength=i,B.lengthToRadians=s,B.lengthToDegrees=function(l,u){return a(s(l,u))},B.bearingToAzimuth=function(l){var u=l%360;return u<0&&(u+=360),u},B.radiansToDegrees=a,B.degreesToRadians=function(l){return l%360*Math.PI/180},B.convertLength=function(l,u,h){if(void 0===u&&(u="kilometers"),void 0===h&&(h="kilometers"),!(l>=0))throw new Error("length must be a positive number");return i(s(l,u),h)},B.convertArea=function(l,u,h){if(void 0===u&&(u="meters"),void 0===h&&(h="kilometers"),!(l>=0))throw new Error("area must be a positive number");var v=B.areaFactors[u];if(!v)throw new Error("invalid original units");var p=B.areaFactors[h];if(!p)throw new Error("invalid final units");return l/v*p},B.isNumber=o,B.isObject=function(l){return!!l&&l.constructor===Object},B.validateBBox=function(l){if(!l)throw new Error("bbox is required");if(!Array.isArray(l))throw new Error("bbox must be an Array");if(4!==l.length&&6!==l.length)throw new Error("bbox must be an Array of 4 or 6 numbers");l.forEach(function(u){if(!o(u))throw new Error("bbox must only contain numbers")})},B.validateId=function(l){if(!l)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof l))throw new Error("id must be a number or a string")}},27138:function(ae,B,r){"use strict";Object.defineProperty(B,"__esModule",{value:!0});var D=r(94228);function E(s,a,o){if(null!==s)for(var l,u,h,v,p,T,_,m,w=0,x=0,b=s.type,A="FeatureCollection"===b,g="Feature"===b,I=A?s.features.length:1,S=0;S<I;S++){p=(m=!!(_=A?s.features[S].geometry:g?s.geometry:s)&&"GeometryCollection"===_.type)?_.geometries.length:1;for(var O=0;O<p;O++){var R=0,L=0;if(null!==(v=m?_.geometries[O]:_)){T=v.coordinates;var N=v.type;switch(w=!o||"Polygon"!==N&&"MultiPolygon"!==N?0:1,N){case null:break;case"Point":if(!1===a(T,x,S,R,L))return!1;x++,R++;break;case"LineString":case"MultiPoint":for(l=0;l<T.length;l++){if(!1===a(T[l],x,S,R,L))return!1;x++,"MultiPoint"===N&&R++}"LineString"===N&&R++;break;case"Polygon":case"MultiLineString":for(l=0;l<T.length;l++){for(u=0;u<T[l].length-w;u++){if(!1===a(T[l][u],x,S,R,L))return!1;x++}"MultiLineString"===N&&R++,"Polygon"===N&&L++}"Polygon"===N&&R++;break;case"MultiPolygon":for(l=0;l<T.length;l++){for(L=0,u=0;u<T[l].length;u++){for(h=0;h<T[l][u].length-w;h++){if(!1===a(T[l][u][h],x,S,R,L))return!1;x++}L++}R++}break;case"GeometryCollection":for(l=0;l<v.geometries.length;l++)if(!1===E(v.geometries[l],a,o))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function f(s,a){var o;switch(s.type){case"FeatureCollection":for(o=0;o<s.features.length&&!1!==a(s.features[o].properties,o);o++);break;case"Feature":a(s.properties,0)}}function k(s,a){if("Feature"===s.type)a(s,0);else if("FeatureCollection"===s.type)for(var o=0;o<s.features.length&&!1!==a(s.features[o],o);o++);}function M(s,a){var o,l,u,h,v,p,T,_,m,w,x=0,b="FeatureCollection"===s.type,A="Feature"===s.type,g=b?s.features.length:1;for(o=0;o<g;o++){for(_=b?s.features[o].properties:A?s.properties:{},m=b?s.features[o].bbox:A?s.bbox:void 0,w=b?s.features[o].id:A?s.id:void 0,v=(T=!!(p=b?s.features[o].geometry:A?s.geometry:s)&&"GeometryCollection"===p.type)?p.geometries.length:1,u=0;u<v;u++)if(null!==(h=T?p.geometries[u]:p))switch(h.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===a(h,x,_,m,w))return!1;break;case"GeometryCollection":for(l=0;l<h.geometries.length;l++)if(!1===a(h.geometries[l],x,_,m,w))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===a(null,x,_,m,w))return!1;x++}}function y(s,a){M(s,function(o,l,u,h,v){var p,T=null===o?null:o.type;switch(T){case null:case"Point":case"LineString":case"Polygon":return!1!==a(D.feature(o,u,{bbox:h,id:v}),l,0)&&void 0}switch(T){case"MultiPoint":p="Point";break;case"MultiLineString":p="LineString";break;case"MultiPolygon":p="Polygon"}for(var _=0;_<o.coordinates.length;_++)if(!1===a(D.feature({type:p,coordinates:o.coordinates[_]},u),l,_))return!1})}function c(s,a){y(s,function(o,l,u){var h=0;if(o.geometry){var v=o.geometry.type;if("Point"!==v&&"MultiPoint"!==v){var p,T=0,_=0,m=0;return!1!==E(o,function(w,x,b,A,g){if(void 0===p||l>T||A>_||g>m)return p=w,T=l,_=A,m=g,void(h=0);var I=D.lineString([p,w],o.properties);if(!1===a(I,l,u,g,h))return!1;h++,p=w})&&void 0}}})}function i(s,a){if(!s)throw new Error("geojson is required");y(s,function(o,l,u){if(null!==o.geometry){var v=o.geometry.coordinates;switch(o.geometry.type){case"LineString":if(!1===a(o,l,u,0,0))return!1;break;case"Polygon":for(var p=0;p<v.length;p++)if(!1===a(D.lineString(v[p],o.properties),l,u,p))return!1}}})}B.coordEach=E,B.coordReduce=function(s,a,o,l){var u=o;return E(s,function(h,v,p,T,_){u=0===v&&void 0===o?h:a(u,h,v,p,T,_)},l),u},B.propEach=f,B.propReduce=function(s,a,o){var l=o;return f(s,function(u,h){l=0===h&&void 0===o?u:a(l,u,h)}),l},B.featureEach=k,B.featureReduce=function(s,a,o){var l=o;return k(s,function(u,h){l=0===h&&void 0===o?u:a(l,u,h)}),l},B.coordAll=function(s){var a=[];return E(s,function(o){a.push(o)}),a},B.geomEach=M,B.geomReduce=function(s,a,o){var l=o;return M(s,function(u,h,v,p,T){l=0===h&&void 0===o?u:a(l,u,h,v,p,T)}),l},B.flattenEach=y,B.flattenReduce=function(s,a,o){var l=o;return y(s,function(u,h,v){l=0===h&&0===v&&void 0===o?u:a(l,u,h,v)}),l},B.segmentEach=c,B.segmentReduce=function(s,a,o){var l=o,u=!1;return c(s,function(h,v,p,T,_){l=!1===u&&void 0===o?h:a(l,h,v,p,T,_),u=!0}),l},B.lineEach=i,B.lineReduce=function(s,a,o){var l=o;return i(s,function(u,h,v,p){l=0===h&&void 0===o?u:a(l,u,h,v,p)}),l},B.findSegment=function(s,a){if(!D.isObject(a=a||{}))throw new Error("options is invalid");var o,l=a.featureIndex||0,u=a.multiFeatureIndex||0,h=a.geometryIndex||0,v=a.segmentIndex||0,p=a.properties;switch(s.type){case"FeatureCollection":l<0&&(l=s.features.length+l),p=p||s.features[l].properties,o=s.features[l].geometry;break;case"Feature":p=p||s.properties,o=s.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":o=s;break;default:throw new Error("geojson is invalid")}if(null===o)return null;var T=o.coordinates;switch(o.type){case"Point":case"MultiPoint":return null;case"LineString":return v<0&&(v=T.length+v-1),D.lineString([T[v],T[v+1]],p,a);case"Polygon":return h<0&&(h=T.length+h),v<0&&(v=T[h].length+v-1),D.lineString([T[h][v],T[h][v+1]],p,a);case"MultiLineString":return u<0&&(u=T.length+u),v<0&&(v=T[u].length+v-1),D.lineString([T[u][v],T[u][v+1]],p,a);case"MultiPolygon":return u<0&&(u=T.length+u),h<0&&(h=T[u].length+h),v<0&&(v=T[u][h].length-v-1),D.lineString([T[u][h][v],T[u][h][v+1]],p,a)}throw new Error("geojson is invalid")},B.findPoint=function(s,a){if(!D.isObject(a=a||{}))throw new Error("options is invalid");var o,l=a.featureIndex||0,u=a.multiFeatureIndex||0,h=a.geometryIndex||0,v=a.coordIndex||0,p=a.properties;switch(s.type){case"FeatureCollection":l<0&&(l=s.features.length+l),p=p||s.features[l].properties,o=s.features[l].geometry;break;case"Feature":p=p||s.properties,o=s.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":o=s;break;default:throw new Error("geojson is invalid")}if(null===o)return null;var T=o.coordinates;switch(o.type){case"Point":return D.point(T,p,a);case"MultiPoint":return u<0&&(u=T.length+u),D.point(T[u],p,a);case"LineString":return v<0&&(v=T.length+v),D.point(T[v],p,a);case"Polygon":return h<0&&(h=T.length+h),v<0&&(v=T[h].length+v),D.point(T[h][v],p,a);case"MultiLineString":return u<0&&(u=T.length+u),v<0&&(v=T[u].length+v),D.point(T[u][v],p,a);case"MultiPolygon":return u<0&&(u=T.length+u),h<0&&(h=T[u].length+h),v<0&&(v=T[u][h].length-v),D.point(T[u][h][v],p,a)}throw new Error("geojson is invalid")}},29261:function(ae,B,r){"use strict";Object.defineProperty(B,"__esModule",{value:!0});var D=r(88553),E=r(64182);B.default=function(f,k){void 0===k&&(k={});var M=0,y=0,c=0;return D.coordEach(f,function(i){M+=i[0],y+=i[1],c++}),E.point([M/c,y/c],k.properties)}},64182:function(ae,B){"use strict";function r(l,u,h){void 0===h&&(h={});var v={type:"Feature"};return(0===h.id||h.id)&&(v.id=h.id),h.bbox&&(v.bbox=h.bbox),v.properties=u||{},v.geometry=l,v}function D(l,u,h){return void 0===h&&(h={}),r({type:"Point",coordinates:l},u,h)}function E(l,u,h){void 0===h&&(h={});for(var v=0,p=l;v<p.length;v++){var T=p[v];if(T.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var _=0;_<T[T.length-1].length;_++)if(T[T.length-1][_]!==T[0][_])throw new Error("First and last Position are not equivalent.")}return r({type:"Polygon",coordinates:l},u,h)}function f(l,u,h){if(void 0===h&&(h={}),l.length<2)throw new Error("coordinates must be an array of two or more positions");return r({type:"LineString",coordinates:l},u,h)}function k(l,u){void 0===u&&(u={});var h={type:"FeatureCollection"};return u.id&&(h.id=u.id),u.bbox&&(h.bbox=u.bbox),h.features=l,h}function M(l,u,h){return void 0===h&&(h={}),r({type:"MultiLineString",coordinates:l},u,h)}function y(l,u,h){return void 0===h&&(h={}),r({type:"MultiPoint",coordinates:l},u,h)}function c(l,u,h){return void 0===h&&(h={}),r({type:"MultiPolygon",coordinates:l},u,h)}function i(l,u){void 0===u&&(u="kilometers");var h=B.factors[u];if(!h)throw new Error(u+" units is invalid");return l*h}function s(l,u){void 0===u&&(u="kilometers");var h=B.factors[u];if(!h)throw new Error(u+" units is invalid");return l/h}function a(l){return l%(2*Math.PI)*180/Math.PI}function o(l){return!isNaN(l)&&null!==l&&!Array.isArray(l)&&!/^\s*$/.test(l)}Object.defineProperty(B,"__esModule",{value:!0}),B.earthRadius=6371008.8,B.factors={centimeters:100*B.earthRadius,centimetres:100*B.earthRadius,degrees:B.earthRadius/111325,feet:3.28084*B.earthRadius,inches:39.37*B.earthRadius,kilometers:B.earthRadius/1e3,kilometres:B.earthRadius/1e3,meters:B.earthRadius,metres:B.earthRadius,miles:B.earthRadius/1609.344,millimeters:1e3*B.earthRadius,millimetres:1e3*B.earthRadius,nauticalmiles:B.earthRadius/1852,radians:1,yards:B.earthRadius/1.0936},B.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/B.earthRadius,yards:.91441111923921},B.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},B.feature=r,B.geometry=function(l,u,h){switch(void 0===h&&(h={}),l){case"Point":return D(u).geometry;case"LineString":return f(u).geometry;case"Polygon":return E(u).geometry;case"MultiPoint":return y(u).geometry;case"MultiLineString":return M(u).geometry;case"MultiPolygon":return c(u).geometry;default:throw new Error(l+" is invalid")}},B.point=D,B.points=function(l,u,h){return void 0===h&&(h={}),k(l.map(function(v){return D(v,u)}),h)},B.polygon=E,B.polygons=function(l,u,h){return void 0===h&&(h={}),k(l.map(function(v){return E(v,u)}),h)},B.lineString=f,B.lineStrings=function(l,u,h){return void 0===h&&(h={}),k(l.map(function(v){return f(v,u)}),h)},B.featureCollection=k,B.multiLineString=M,B.multiPoint=y,B.multiPolygon=c,B.geometryCollection=function(l,u,h){return void 0===h&&(h={}),r({type:"GeometryCollection",geometries:l},u,h)},B.round=function(l,u){if(void 0===u&&(u=0),u&&!(u>=0))throw new Error("precision must be a positive number");var h=Math.pow(10,u||0);return Math.round(l*h)/h},B.radiansToLength=i,B.lengthToRadians=s,B.lengthToDegrees=function(l,u){return a(s(l,u))},B.bearingToAzimuth=function(l){var u=l%360;return u<0&&(u+=360),u},B.radiansToDegrees=a,B.degreesToRadians=function(l){return l%360*Math.PI/180},B.convertLength=function(l,u,h){if(void 0===u&&(u="kilometers"),void 0===h&&(h="kilometers"),!(l>=0))throw new Error("length must be a positive number");return i(s(l,u),h)},B.convertArea=function(l,u,h){if(void 0===u&&(u="meters"),void 0===h&&(h="kilometers"),!(l>=0))throw new Error("area must be a positive number");var v=B.areaFactors[u];if(!v)throw new Error("invalid original units");var p=B.areaFactors[h];if(!p)throw new Error("invalid final units");return l/v*p},B.isNumber=o,B.isObject=function(l){return!!l&&l.constructor===Object},B.validateBBox=function(l){if(!l)throw new Error("bbox is required");if(!Array.isArray(l))throw new Error("bbox must be an Array");if(4!==l.length&&6!==l.length)throw new Error("bbox must be an Array of 4 or 6 numbers");l.forEach(function(u){if(!o(u))throw new Error("bbox must only contain numbers")})},B.validateId=function(l){if(!l)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof l))throw new Error("id must be a number or a string")},B.radians2degrees=function(){throw new Error("method has been renamed to `radiansToDegrees`")},B.degrees2radians=function(){throw new Error("method has been renamed to `degreesToRadians`")},B.distanceToDegrees=function(){throw new Error("method has been renamed to `lengthToDegrees`")},B.distanceToRadians=function(){throw new Error("method has been renamed to `lengthToRadians`")},B.radiansToDistance=function(){throw new Error("method has been renamed to `radiansToLength`")},B.bearingToAngle=function(){throw new Error("method has been renamed to `bearingToAzimuth`")},B.convertDistance=function(){throw new Error("method has been renamed to `convertLength`")}},88553:function(ae,B,r){"use strict";Object.defineProperty(B,"__esModule",{value:!0});var D=r(64182);function E(s,a,o){if(null!==s)for(var l,u,h,v,p,T,_,m,w=0,x=0,b=s.type,A="FeatureCollection"===b,g="Feature"===b,I=A?s.features.length:1,S=0;S<I;S++){p=(m=!!(_=A?s.features[S].geometry:g?s.geometry:s)&&"GeometryCollection"===_.type)?_.geometries.length:1;for(var O=0;O<p;O++){var R=0,L=0;if(null!==(v=m?_.geometries[O]:_)){T=v.coordinates;var N=v.type;switch(w=!o||"Polygon"!==N&&"MultiPolygon"!==N?0:1,N){case null:break;case"Point":if(!1===a(T,x,S,R,L))return!1;x++,R++;break;case"LineString":case"MultiPoint":for(l=0;l<T.length;l++){if(!1===a(T[l],x,S,R,L))return!1;x++,"MultiPoint"===N&&R++}"LineString"===N&&R++;break;case"Polygon":case"MultiLineString":for(l=0;l<T.length;l++){for(u=0;u<T[l].length-w;u++){if(!1===a(T[l][u],x,S,R,L))return!1;x++}"MultiLineString"===N&&R++,"Polygon"===N&&L++}"Polygon"===N&&R++;break;case"MultiPolygon":for(l=0;l<T.length;l++){for(L=0,u=0;u<T[l].length;u++){for(h=0;h<T[l][u].length-w;h++){if(!1===a(T[l][u][h],x,S,R,L))return!1;x++}L++}R++}break;case"GeometryCollection":for(l=0;l<v.geometries.length;l++)if(!1===E(v.geometries[l],a,o))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function f(s,a){var o;switch(s.type){case"FeatureCollection":for(o=0;o<s.features.length&&!1!==a(s.features[o].properties,o);o++);break;case"Feature":a(s.properties,0)}}function k(s,a){if("Feature"===s.type)a(s,0);else if("FeatureCollection"===s.type)for(var o=0;o<s.features.length&&!1!==a(s.features[o],o);o++);}function M(s,a){var o,l,u,h,v,p,T,_,m,w,x=0,b="FeatureCollection"===s.type,A="Feature"===s.type,g=b?s.features.length:1;for(o=0;o<g;o++){for(_=b?s.features[o].properties:A?s.properties:{},m=b?s.features[o].bbox:A?s.bbox:void 0,w=b?s.features[o].id:A?s.id:void 0,v=(T=!!(p=b?s.features[o].geometry:A?s.geometry:s)&&"GeometryCollection"===p.type)?p.geometries.length:1,u=0;u<v;u++)if(null!==(h=T?p.geometries[u]:p))switch(h.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===a(h,x,_,m,w))return!1;break;case"GeometryCollection":for(l=0;l<h.geometries.length;l++)if(!1===a(h.geometries[l],x,_,m,w))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===a(null,x,_,m,w))return!1;x++}}function y(s,a){M(s,function(o,l,u,h,v){var p,T=null===o?null:o.type;switch(T){case null:case"Point":case"LineString":case"Polygon":return!1!==a(D.feature(o,u,{bbox:h,id:v}),l,0)&&void 0}switch(T){case"MultiPoint":p="Point";break;case"MultiLineString":p="LineString";break;case"MultiPolygon":p="Polygon"}for(var _=0;_<o.coordinates.length;_++)if(!1===a(D.feature({type:p,coordinates:o.coordinates[_]},u),l,_))return!1})}function c(s,a){y(s,function(o,l,u){var h=0;if(o.geometry){var v=o.geometry.type;if("Point"!==v&&"MultiPoint"!==v){var p,T=0,_=0,m=0;return!1!==E(o,function(w,x,b,A,g){if(void 0===p||l>T||A>_||g>m)return p=w,T=l,_=A,m=g,void(h=0);var I=D.lineString([p,w],o.properties);if(!1===a(I,l,u,g,h))return!1;h++,p=w})&&void 0}}})}function i(s,a){if(!s)throw new Error("geojson is required");y(s,function(o,l,u){if(null!==o.geometry){var v=o.geometry.coordinates;switch(o.geometry.type){case"LineString":if(!1===a(o,l,u,0,0))return!1;break;case"Polygon":for(var p=0;p<v.length;p++)if(!1===a(D.lineString(v[p],o.properties),l,u,p))return!1}}})}B.coordEach=E,B.coordReduce=function(s,a,o,l){var u=o;return E(s,function(h,v,p,T,_){u=0===v&&void 0===o?h:a(u,h,v,p,T,_)},l),u},B.propEach=f,B.propReduce=function(s,a,o){var l=o;return f(s,function(u,h){l=0===h&&void 0===o?u:a(l,u,h)}),l},B.featureEach=k,B.featureReduce=function(s,a,o){var l=o;return k(s,function(u,h){l=0===h&&void 0===o?u:a(l,u,h)}),l},B.coordAll=function(s){var a=[];return E(s,function(o){a.push(o)}),a},B.geomEach=M,B.geomReduce=function(s,a,o){var l=o;return M(s,function(u,h,v,p,T){l=0===h&&void 0===o?u:a(l,u,h,v,p,T)}),l},B.flattenEach=y,B.flattenReduce=function(s,a,o){var l=o;return y(s,function(u,h,v){l=0===h&&0===v&&void 0===o?u:a(l,u,h,v)}),l},B.segmentEach=c,B.segmentReduce=function(s,a,o){var l=o,u=!1;return c(s,function(h,v,p,T,_){l=!1===u&&void 0===o?h:a(l,h,v,p,T,_),u=!0}),l},B.lineEach=i,B.lineReduce=function(s,a,o){var l=o;return i(s,function(u,h,v,p){l=0===h&&void 0===o?u:a(l,u,h,v,p)}),l},B.findSegment=function(s,a){if(!D.isObject(a=a||{}))throw new Error("options is invalid");var o,l=a.featureIndex||0,u=a.multiFeatureIndex||0,h=a.geometryIndex||0,v=a.segmentIndex||0,p=a.properties;switch(s.type){case"FeatureCollection":l<0&&(l=s.features.length+l),p=p||s.features[l].properties,o=s.features[l].geometry;break;case"Feature":p=p||s.properties,o=s.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":o=s;break;default:throw new Error("geojson is invalid")}if(null===o)return null;var T=o.coordinates;switch(o.type){case"Point":case"MultiPoint":return null;case"LineString":return v<0&&(v=T.length+v-1),D.lineString([T[v],T[v+1]],p,a);case"Polygon":return h<0&&(h=T.length+h),v<0&&(v=T[h].length+v-1),D.lineString([T[h][v],T[h][v+1]],p,a);case"MultiLineString":return u<0&&(u=T.length+u),v<0&&(v=T[u].length+v-1),D.lineString([T[u][v],T[u][v+1]],p,a);case"MultiPolygon":return u<0&&(u=T.length+u),h<0&&(h=T[u].length+h),v<0&&(v=T[u][h].length-v-1),D.lineString([T[u][h][v],T[u][h][v+1]],p,a)}throw new Error("geojson is invalid")},B.findPoint=function(s,a){if(!D.isObject(a=a||{}))throw new Error("options is invalid");var o,l=a.featureIndex||0,u=a.multiFeatureIndex||0,h=a.geometryIndex||0,v=a.coordIndex||0,p=a.properties;switch(s.type){case"FeatureCollection":l<0&&(l=s.features.length+l),p=p||s.features[l].properties,o=s.features[l].geometry;break;case"Feature":p=p||s.properties,o=s.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":o=s;break;default:throw new Error("geojson is invalid")}if(null===o)return null;var T=o.coordinates;switch(o.type){case"Point":return D.point(T,p,a);case"MultiPoint":return u<0&&(u=T.length+u),D.point(T[u],p,a);case"LineString":return v<0&&(v=T.length+v),D.point(T[v],p,a);case"Polygon":return h<0&&(h=T.length+h),v<0&&(v=T[h].length+v),D.point(T[h][v],p,a);case"MultiLineString":return u<0&&(u=T.length+u),v<0&&(v=T[u].length+v),D.point(T[u][v],p,a);case"MultiPolygon":return u<0&&(u=T.length+u),h<0&&(h=T[u].length+h),v<0&&(v=T[u][h].length-v),D.point(T[u][h][v],p,a)}throw new Error("geojson is invalid")}},65185:function(ae){ae.exports=function(B){var r=0,D=0,E=0,f=0;return B.map(function(k){var M=(k=k.slice())[0],y=M.toUpperCase();if(M!=y)switch(k[0]=y,M){case"a":k[6]+=E,k[7]+=f;break;case"v":k[1]+=f;break;case"h":k[1]+=E;break;default:for(var c=1;c<k.length;)k[c++]+=E,k[c++]+=f}switch(y){case"Z":E=r,f=D;break;case"H":E=k[1];break;case"V":f=k[1];break;case"M":E=r=k[1],f=D=k[2];break;default:E=k[k.length-2],f=k[k.length-1]}return k})}},21527:function(ae){"use strict";ae.exports=function(B,r){if(!B||null==B.length)throw Error("Argument should be an array");r=null==r?1:Math.floor(r);for(var D=Array(2*r),E=0;E<r;E++){for(var f=-1/0,k=1/0,M=E,y=B.length;M<y;M+=r)B[M]>f&&(f=B[M]),B[M]<k&&(k=B[M]);D[E]=k,D[r+E]=f}return D}},6851:function(ae){"use strict";ae.exports=function(B,r,D){if("function"==typeof Array.prototype.findIndex)return B.findIndex(r,D);if("function"!=typeof r)throw new TypeError("predicate must be a function");var E=Object(B),f=E.length;if(0===f)return-1;for(var k=0;k<f;k++)if(r.call(D,E[k],k,E))return k;return-1}},54:function(ae,B,r){"use strict";var D=r(21527);ae.exports=function(E,f,k){if(!E||null==E.length)throw Error("Argument should be an array");null==f&&(f=1),null==k&&(k=D(E,f));for(var M=0;M<f;M++){var y=k[f+M],c=k[M],i=M,s=E.length;if(y===1/0&&c===-1/0)for(i=M;i<s;i+=f)E[i]=E[i]===y?1:E[i]===c?0:.5;else if(y===1/0)for(i=M;i<s;i+=f)E[i]=E[i]===y?1:0;else if(c===-1/0)for(i=M;i<s;i+=f)E[i]=E[i]===c?0:1;else{var a=y-c;for(i=M;i<s;i+=f)isNaN(E[i])||(E[i]=0===a?.5:(E[i]-c)/a)}}return E}},57471:function(ae){ae.exports=function(B,r){var D="number"==typeof B,E="number"==typeof r;D&&!E?(r=B,B=0):D||E||(B=0,r=0);var f=(r|=0)-(B|=0);if(f<0)throw new Error("array length must be positive");for(var k=new Array(f),M=0,y=B;M<f;M++,y++)k[M]=y;return k}},32791:function(ae,B,r){"use strict";var D=r(90386);function E(F){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Y){return typeof Y}:function(Y){return Y&&"function"==typeof Symbol&&Y.constructor===Symbol&&Y!==Symbol.prototype?"symbol":typeof Y})(F)}var f,k,M=r(79616).codes,y=M.ERR_AMBIGUOUS_ARGUMENT,c=M.ERR_INVALID_ARG_TYPE,i=M.ERR_INVALID_ARG_VALUE,s=M.ERR_INVALID_RETURN_VALUE,a=M.ERR_MISSING_ARGS,o=r(73894),l=r(43827).inspect,u=r(43827).types,h=u.isPromise,v=u.isRegExp,p=Object.assign?Object.assign:r(73523).assign,T=Object.is?Object.is:r(64003);function _(){var F=r(74061);f=F.isDeepEqual,k=F.isDeepStrictEqual}var m=!1,w=ae.exports=g,x={};function b(F){throw F.message instanceof Error?F.message:new o(F)}function A(F,Y,G,H){if(!G){var W=!1;if(0===Y)W=!0,H="No value argument passed to `assert.ok()`";else if(H instanceof Error)throw H;var Z=new o({actual:G,expected:!0,message:H,operator:"==",stackStartFn:F});throw Z.generatedMessage=W,Z}}function g(){for(var F=arguments.length,Y=new Array(F),G=0;G<F;G++)Y[G]=arguments[G];A.apply(void 0,[g,Y.length].concat(Y))}w.fail=function F(Y,G,H,W,Z){var se,re=arguments.length;if(0===re?se="Failed":1===re?(H=Y,Y=void 0):(!1===m&&(m=!0,(D.emitWarning?D.emitWarning:console.warn.bind(console))("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")),2===re&&(W="!=")),H instanceof Error)throw H;var ne={actual:Y,expected:G,operator:void 0===W?"fail":W,stackStartFn:Z||F};void 0!==H&&(ne.message=H);var Q=new o(ne);throw se&&(Q.message=se,Q.generatedMessage=!0),Q},w.AssertionError=o,w.ok=g,w.equal=function F(Y,G,H){if(arguments.length<2)throw new a("actual","expected");Y!=G&&b({actual:Y,expected:G,message:H,operator:"==",stackStartFn:F})},w.notEqual=function F(Y,G,H){if(arguments.length<2)throw new a("actual","expected");Y==G&&b({actual:Y,expected:G,message:H,operator:"!=",stackStartFn:F})},w.deepEqual=function F(Y,G,H){if(arguments.length<2)throw new a("actual","expected");void 0===f&&_(),f(Y,G)||b({actual:Y,expected:G,message:H,operator:"deepEqual",stackStartFn:F})},w.notDeepEqual=function F(Y,G,H){if(arguments.length<2)throw new a("actual","expected");void 0===f&&_(),f(Y,G)&&b({actual:Y,expected:G,message:H,operator:"notDeepEqual",stackStartFn:F})},w.deepStrictEqual=function F(Y,G,H){if(arguments.length<2)throw new a("actual","expected");void 0===f&&_(),k(Y,G)||b({actual:Y,expected:G,message:H,operator:"deepStrictEqual",stackStartFn:F})},w.notDeepStrictEqual=function F(Y,G,H){if(arguments.length<2)throw new a("actual","expected");void 0===f&&_(),k(Y,G)&&b({actual:Y,expected:G,message:H,operator:"notDeepStrictEqual",stackStartFn:F})},w.strictEqual=function F(Y,G,H){if(arguments.length<2)throw new a("actual","expected");T(Y,G)||b({actual:Y,expected:G,message:H,operator:"strictEqual",stackStartFn:F})},w.notStrictEqual=function F(Y,G,H){if(arguments.length<2)throw new a("actual","expected");T(Y,G)&&b({actual:Y,expected:G,message:H,operator:"notStrictEqual",stackStartFn:F})};var I=function F(Y,G,H){var W=this;(function(Z,se){if(!(Z instanceof se))throw new TypeError("Cannot call a class as a function")})(this,F),G.forEach(function(Z){Z in Y&&(W[Z]=void 0!==H&&"string"==typeof H[Z]&&v(Y[Z])&&Y[Z].test(H[Z])?H[Z]:Y[Z])})};function S(F,Y,G,H){if("function"!=typeof Y){if(v(Y))return Y.test(F);if(2===arguments.length)throw new c("expected",["Function","RegExp"],Y);if("object"!==E(F)||null===F){var W=new o({actual:F,expected:Y,message:G,operator:"deepStrictEqual",stackStartFn:H});throw W.operator=H.name,W}var Z=Object.keys(Y);if(Y instanceof Error)Z.push("name","message");else if(0===Z.length)throw new i("error",Y,"may not be an empty object");return void 0===f&&_(),Z.forEach(function(se){"string"==typeof F[se]&&v(Y[se])&&Y[se].test(F[se])||function(re,ne,Q,ee,oe,ce){if(!(Q in re)||!k(re[Q],ne[Q])){if(!ee){var fe=new I(re,oe),le=new I(ne,oe,re),pe=new o({actual:fe,expected:le,operator:"deepStrictEqual",stackStartFn:ce});throw pe.actual=re,pe.expected=ne,pe.operator=ce.name,pe}b({actual:re,expected:ne,message:ee,operator:ce.name,stackStartFn:ce})}}(F,Y,se,G,Z,H)}),!0}return void 0!==Y.prototype&&F instanceof Y||!Error.isPrototypeOf(Y)&&!0===Y.call({},F)}function O(F){if("function"!=typeof F)throw new c("fn","Function",F);try{F()}catch(Y){return Y}return x}function R(F){return h(F)||null!==F&&"object"===E(F)&&"function"==typeof F.then&&"function"==typeof F.catch}function L(F){return Promise.resolve().then(function(){var Y;if("function"==typeof F){if(!R(Y=F()))throw new s("instance of Promise","promiseFn",Y)}else{if(!R(F))throw new c("promiseFn",["Function","Promise"],F);Y=F}return Promise.resolve().then(function(){return Y}).then(function(){return x}).catch(function(G){return G})})}function N(F,Y,G,H){if("string"==typeof G){if(4===arguments.length)throw new c("error",["Object","Error","Function","RegExp"],G);if("object"===E(Y)&&null!==Y){if(Y.message===G)throw new y("error/message",'The error message "'.concat(Y.message,'" is identical to the message.'))}else if(Y===G)throw new y("error/message",'The error "'.concat(Y,'" is identical to the message.'));H=G,G=void 0}else if(null!=G&&"object"!==E(G)&&"function"!=typeof G)throw new c("error",["Object","Error","Function","RegExp"],G);if(Y===x){var W="";G&&G.name&&(W+=" (".concat(G.name,")")),W+=H?": ".concat(H):".",b({actual:void 0,expected:G,operator:F.name,message:"Missing expected ".concat("rejects"===F.name?"rejection":"exception").concat(W),stackStartFn:F})}if(G&&!S(Y,G,H,F))throw Y}function j(F,Y,G,H){if(Y!==x){if("string"==typeof G&&(H=G,G=void 0),!G||S(Y,G)){var W=H?": ".concat(H):".";b({actual:Y,expected:G,operator:F.name,message:"Got unwanted ".concat("doesNotReject"===F.name?"rejection":"exception").concat(W,"\n")+'Actual message: "'.concat(Y&&Y.message,'"'),stackStartFn:F})}throw Y}}function X(){for(var F=arguments.length,Y=new Array(F),G=0;G<F;G++)Y[G]=arguments[G];A.apply(void 0,[X,Y.length].concat(Y))}w.throws=function F(Y){for(var G=arguments.length,H=new Array(G>1?G-1:0),W=1;W<G;W++)H[W-1]=arguments[W];N.apply(void 0,[F,O(Y)].concat(H))},w.rejects=function F(Y){for(var G=arguments.length,H=new Array(G>1?G-1:0),W=1;W<G;W++)H[W-1]=arguments[W];return L(Y).then(function(Z){return N.apply(void 0,[F,Z].concat(H))})},w.doesNotThrow=function F(Y){for(var G=arguments.length,H=new Array(G>1?G-1:0),W=1;W<G;W++)H[W-1]=arguments[W];j.apply(void 0,[F,O(Y)].concat(H))},w.doesNotReject=function F(Y){for(var G=arguments.length,H=new Array(G>1?G-1:0),W=1;W<G;W++)H[W-1]=arguments[W];return L(Y).then(function(Z){return j.apply(void 0,[F,Z].concat(H))})},w.ifError=function F(Y){if(null!=Y){var G="ifError got unwanted exception: ";"object"===E(Y)&&"string"==typeof Y.message?G+=0===Y.message.length&&Y.constructor?Y.constructor.name:Y.message:G+=l(Y);var H=new o({actual:Y,expected:null,operator:"ifError",message:G,stackStartFn:F}),W=Y.stack;if("string"==typeof W){var Z=W.split("\n");Z.shift();for(var se=H.stack.split("\n"),re=0;re<Z.length;re++){var ne=se.indexOf(Z[re]);if(-1!==ne){se=se.slice(0,ne);break}}H.stack="".concat(se.join("\n"),"\n").concat(Z.join("\n"))}throw H}},w.strict=p(X,w,{equal:w.strictEqual,deepEqual:w.deepStrictEqual,notEqual:w.notStrictEqual,notDeepEqual:w.notDeepStrictEqual}),w.strict.strict=w.strict},73894:function(ae,B,r){"use strict";var D=r(90386);function E(b,A,g){return A in b?Object.defineProperty(b,A,{value:g,enumerable:!0,configurable:!0,writable:!0}):b[A]=g,b}function k(b,A){return!A||"object"!==a(A)&&"function"!=typeof A?M(b):A}function M(b){if(void 0===b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}function y(b){var A="function"==typeof Map?new Map:void 0;return y=function(g){if(null===g||-1===Function.toString.call(g).indexOf("[native code]"))return g;if("function"!=typeof g)throw new TypeError("Super expression must either be null or a function");if(void 0!==A){if(A.has(g))return A.get(g);A.set(g,S)}function S(){return c(g,arguments,s(this).constructor)}return S.prototype=Object.create(g.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),i(S,g)},y(b)}function c(b,A,g){return(c=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}()?Reflect.construct:function(I,S,O){var R=[null];R.push.apply(R,S);var L=new(Function.bind.apply(I,R));return O&&i(L,O.prototype),L}).apply(null,arguments)}function i(b,A){return(i=Object.setPrototypeOf||function(g,I){return g.__proto__=I,g})(b,A)}function s(b){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(A){return A.__proto__||Object.getPrototypeOf(A)})(b)}function a(b){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(A){return typeof A}:function(A){return A&&"function"==typeof Symbol&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A})(b)}var o=r(43827).inspect,l=r(79616).codes.ERR_INVALID_ARG_TYPE;function u(b,A,g){return(void 0===g||g>b.length)&&(g=b.length),b.substring(g-A.length,g)===A}var h="",v="",p="",T="",_={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"};function m(b){var A=Object.keys(b),g=Object.create(Object.getPrototypeOf(b));return A.forEach(function(I){g[I]=b[I]}),Object.defineProperty(g,"message",{value:b.message}),g}function w(b){return o(b,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}var x=function(b){function A(S){var O;if(function(se,re){if(!(se instanceof re))throw new TypeError("Cannot call a class as a function")}(this,A),"object"!==a(S)||null===S)throw new l("options","Object",S);var R=S.message,L=S.operator,N=S.stackStartFn,j=S.actual,X=S.expected,F=Error.stackTraceLimit;if(Error.stackTraceLimit=0,null!=R)O=k(this,s(A).call(this,String(R)));else if(D.stderr&&D.stderr.isTTY&&(D.stderr&&D.stderr.getColorDepth&&1!==D.stderr.getColorDepth()?(h="\x1b[34m",v="\x1b[32m",T="\x1b[39m",p="\x1b[31m"):(h="",v="",T="",p="")),"object"===a(j)&&null!==j&&"object"===a(X)&&null!==X&&"stack"in j&&j instanceof Error&&"stack"in X&&X instanceof Error&&(j=m(j),X=m(X)),"deepStrictEqual"===L||"strictEqual"===L)O=k(this,s(A).call(this,function(se,re,ne){var Q="",ee="",oe=0,ce="",fe=!1,le=w(se),pe=le.split("\n"),Me=w(re).split("\n"),Ae=0,be="";if("strictEqual"===ne&&"object"===a(se)&&"object"===a(re)&&null!==se&&null!==re&&(ne="strictEqualObject"),1===pe.length&&1===Me.length&&pe[0]!==Me[0]){var ye=pe[0].length+Me[0].length;if(ye<=10){if(!("object"===a(se)&&null!==se||"object"===a(re)&&null!==re||0===se&&0===re))return"".concat(_[ne],"\n\n")+"".concat(pe[0]," !== ").concat(Me[0],"\n")}else if("strictEqualObject"!==ne&&ye<(D.stderr&&D.stderr.isTTY?D.stderr.columns:80)){for(;pe[0][Ae]===Me[0][Ae];)Ae++;Ae>2&&(be="\n  ".concat(function(qe,ve){if(ve=Math.floor(ve),0==qe.length||0==ve)return"";var Oe=qe.length*ve;for(ve=Math.floor(Math.log(ve)/Math.log(2));ve;)qe+=qe,ve--;return qe+qe.substring(0,Oe-qe.length)}(" ",Ae),"^"),Ae=0)}}for(var we=pe[pe.length-1],ze=Me[Me.length-1];we===ze&&(Ae++<2?ce="\n  ".concat(we).concat(ce):Q=we,pe.pop(),Me.pop(),0!==pe.length&&0!==Me.length);)we=pe[pe.length-1],ze=Me[Me.length-1];var Se=Math.max(pe.length,Me.length);if(0===Se){var Ce=le.split("\n");if(Ce.length>30)for(Ce[26]="".concat(h,"...").concat(T);Ce.length>27;)Ce.pop();return"".concat(_.notIdentical,"\n\n").concat(Ce.join("\n"),"\n")}Ae>3&&(ce="\n".concat(h,"...").concat(T).concat(ce),fe=!0),""!==Q&&(ce="\n  ".concat(Q).concat(ce),Q="");var ge=0,he=_[ne]+"\n".concat(v,"+ actual").concat(T," ").concat(p,"- expected").concat(T),_e=" ".concat(h,"...").concat(T," Lines skipped");for(Ae=0;Ae<Se;Ae++){var Le=Ae-oe;if(pe.length<Ae+1)Le>1&&Ae>2&&(Le>4?(ee+="\n".concat(h,"...").concat(T),fe=!0):Le>3&&(ee+="\n  ".concat(Me[Ae-2]),ge++),ee+="\n  ".concat(Me[Ae-1]),ge++),oe=Ae,Q+="\n".concat(p,"-").concat(T," ").concat(Me[Ae]),ge++;else if(Me.length<Ae+1)Le>1&&Ae>2&&(Le>4?(ee+="\n".concat(h,"...").concat(T),fe=!0):Le>3&&(ee+="\n  ".concat(pe[Ae-2]),ge++),ee+="\n  ".concat(pe[Ae-1]),ge++),oe=Ae,ee+="\n".concat(v,"+").concat(T," ").concat(pe[Ae]),ge++;else{var Ie=Me[Ae],De=pe[Ae],je=De!==Ie&&(!u(De,",")||De.slice(0,-1)!==Ie);je&&u(Ie,",")&&Ie.slice(0,-1)===De&&(je=!1,De+=","),je?(Le>1&&Ae>2&&(Le>4?(ee+="\n".concat(h,"...").concat(T),fe=!0):Le>3&&(ee+="\n  ".concat(pe[Ae-2]),ge++),ee+="\n  ".concat(pe[Ae-1]),ge++),oe=Ae,ee+="\n".concat(v,"+").concat(T," ").concat(De),Q+="\n".concat(p,"-").concat(T," ").concat(Ie),ge+=2):(ee+=Q,Q="",1!==Le&&0!==Ae||(ee+="\n  ".concat(De),ge++))}if(ge>20&&Ae<Se-2)return"".concat(he).concat(_e,"\n").concat(ee,"\n").concat(h,"...").concat(T).concat(Q,"\n")+"".concat(h,"...").concat(T)}return"".concat(he).concat(fe?_e:"","\n").concat(ee).concat(Q).concat(ce).concat(be)}(j,X,L)));else if("notDeepStrictEqual"===L||"notStrictEqual"===L){var Y=_[L],G=w(j).split("\n");if("notStrictEqual"===L&&"object"===a(j)&&null!==j&&(Y=_.notStrictEqualObject),G.length>30)for(G[26]="".concat(h,"...").concat(T);G.length>27;)G.pop();O=k(this,1===G.length?s(A).call(this,"".concat(Y," ").concat(G[0])):s(A).call(this,"".concat(Y,"\n\n").concat(G.join("\n"),"\n")))}else{var H=w(j),W="",Z=_[L];"notDeepEqual"===L||"notEqual"===L?(H="".concat(_[L],"\n\n").concat(H)).length>1024&&(H="".concat(H.slice(0,1021),"...")):(W="".concat(w(X)),H.length>512&&(H="".concat(H.slice(0,509),"...")),W.length>512&&(W="".concat(W.slice(0,509),"...")),"deepEqual"===L||"equal"===L?H="".concat(Z,"\n\n").concat(H,"\n\nshould equal\n\n"):W=" ".concat(L," ").concat(W)),O=k(this,s(A).call(this,"".concat(H).concat(W)))}return Error.stackTraceLimit=F,O.generatedMessage=!R,Object.defineProperty(M(O),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),O.code="ERR_ASSERTION",O.actual=j,O.expected=X,O.operator=L,Error.captureStackTrace&&Error.captureStackTrace(M(O),N),O.name="AssertionError",k(O)}var I;return function(S,O){if("function"!=typeof O&&null!==O)throw new TypeError("Super expression must either be null or a function");S.prototype=Object.create(O&&O.prototype,{constructor:{value:S,writable:!0,configurable:!0}}),O&&i(S,O)}(A,b),I=[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:o.custom,value:function(S,O){return o(this,function(R){for(var L=1;L<arguments.length;L++){var N=null!=arguments[L]?arguments[L]:{},j=Object.keys(N);"function"==typeof Object.getOwnPropertySymbols&&(j=j.concat(Object.getOwnPropertySymbols(N).filter(function(X){return Object.getOwnPropertyDescriptor(N,X).enumerable}))),j.forEach(function(X){E(R,X,N[X])})}return R}({},O,{customInspect:!1,depth:0}))}}],I&&function f(b,A){for(var g=0;g<A.length;g++){var I=A[g];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(b,I.key,I)}}(A.prototype,I),A}(y(Error));ae.exports=x},79616:function(ae,B,r){"use strict";function D(s){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(s)}function E(s){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(s)}function f(s,a){return(f=Object.setPrototypeOf||function(o,l){return o.__proto__=l,o})(s,a)}var k,M,y={};function c(s,a,o){o||(o=Error);var l=function(u){function h(v,p,T){var _,m,w,x;return function(m,w){if(!(m instanceof w))throw new TypeError("Cannot call a class as a function")}(this,h),(_=function(m,w){return!w||"object"!==D(w)&&"function"!=typeof w?function(x){if(void 0===x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x}(m):w}(this,E(h).call(this,(m=v,w=p,x=T,"string"==typeof a?a:a(m,w,x))))).code=s,_}return function(v,p){if("function"!=typeof p&&null!==p)throw new TypeError("Super expression must either be null or a function");v.prototype=Object.create(p&&p.prototype,{constructor:{value:v,writable:!0,configurable:!0}}),p&&f(v,p)}(h,u),h}(o);y[s]=l}function i(s,a){if(Array.isArray(s)){var o=s.length;return s=s.map(function(l){return String(l)}),o>2?"one of ".concat(a," ").concat(s.slice(0,o-1).join(", "),", or ")+s[o-1]:2===o?"one of ".concat(a," ").concat(s[0]," or ").concat(s[1]):"of ".concat(a," ").concat(s[0])}return"of ".concat(a," ").concat(String(s))}c("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),c("ERR_INVALID_ARG_TYPE",function(s,a,o){var l,h,v,p,_,w;if(void 0===k&&(k=r(32791)),k("string"==typeof s,"'name' must be a string"),"string"==typeof a&&("not ","not "===a.substr(0,4))?(l="must not be",a=a.replace(/^not /,"")):l="must be",_=s," argument",(void 0===w||w>_.length)&&(w=_.length)," argument"===_.substring(w-9,w))h="The ".concat(s," ").concat(l," ").concat(i(a,"type"));else{var T=("number"!=typeof p&&(p=0),p+1>(v=s).length||-1===v.indexOf(".",p)?"argument":"property");h='The "'.concat(s,'" ').concat(T," ").concat(l," ").concat(i(a,"type"))}return h+". Received type ".concat(D(o))},TypeError),c("ERR_INVALID_ARG_VALUE",function(s,a){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"is invalid";void 0===M&&(M=r(43827));var l=M.inspect(a);return l.length>128&&(l="".concat(l.slice(0,128),"...")),"The argument '".concat(s,"' ").concat(o,". Received ").concat(l)},TypeError,RangeError),c("ERR_INVALID_RETURN_VALUE",function(s,a,o){var l;return l=o&&o.constructor&&o.constructor.name?"instance of ".concat(o.constructor.name):"type ".concat(D(o)),"Expected ".concat(s,' to be returned from the "').concat(a,'"')+" function but got ".concat(l,".")},TypeError),c("ERR_MISSING_ARGS",function(){for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];void 0===k&&(k=r(32791)),k(a.length>0,"At least one arg needs to be specified");var l="The ",u=a.length;switch(a=a.map(function(h){return'"'.concat(h,'"')}),u){case 1:l+="".concat(a[0]," argument");break;case 2:l+="".concat(a[0]," and ").concat(a[1]," arguments");break;default:l+=a.slice(0,u-1).join(", "),l+=", and ".concat(a[u-1]," arguments")}return"".concat(l," must be specified")},TypeError),ae.exports.codes=y},74061:function(ae,B,r){"use strict";function D(oe,ce){return function(fe){if(Array.isArray(fe))return fe}(oe)||function(fe,le){var pe=[],Me=!0,Ae=!1,be=void 0;try{for(var ye,we=fe[Symbol.iterator]();!(Me=(ye=we.next()).done)&&(pe.push(ye.value),!le||pe.length!==le);Me=!0);}catch(ze){Ae=!0,be=ze}finally{try{Me||null==we.return||we.return()}finally{if(Ae)throw be}}return pe}(oe,ce)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function E(oe){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(ce){return typeof ce}:function(ce){return ce&&"function"==typeof Symbol&&ce.constructor===Symbol&&ce!==Symbol.prototype?"symbol":typeof ce})(oe)}var f=void 0!==/a/g.flags,k=function(oe){var ce=[];return oe.forEach(function(fe){return ce.push(fe)}),ce},M=function(oe){var ce=[];return oe.forEach(function(fe,le){return ce.push([le,fe])}),ce},y=Object.is?Object.is:r(64003),c=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},i=Number.isNaN?Number.isNaN:r(15567);function s(oe){return oe.call.bind(oe)}var a=s(Object.prototype.hasOwnProperty),o=s(Object.prototype.propertyIsEnumerable),l=s(Object.prototype.toString),u=r(43827).types,h=u.isAnyArrayBuffer,v=u.isArrayBufferView,p=u.isDate,T=u.isMap,_=u.isRegExp,m=u.isSet,w=u.isNativeError,x=u.isBoxedPrimitive,b=u.isNumberObject,A=u.isStringObject,g=u.isBooleanObject,I=u.isBigIntObject,S=u.isSymbolObject,O=u.isFloat32Array,R=u.isFloat64Array;function L(oe){if(0===oe.length||oe.length>10)return!0;for(var ce=0;ce<oe.length;ce++){var fe=oe.charCodeAt(ce);if(fe<48||fe>57)return!0}return 10===oe.length&&oe>=Math.pow(2,32)}function N(oe){return Object.keys(oe).filter(L).concat(c(oe).filter(Object.prototype.propertyIsEnumerable.bind(oe)))}function j(oe,ce){if(oe===ce)return 0;for(var fe=oe.length,le=ce.length,pe=0,Me=Math.min(fe,le);pe<Me;++pe)if(oe[pe]!==ce[pe]){fe=oe[pe],le=ce[pe];break}return fe<le?-1:le<fe?1:0}var X=0,F=1,Y=2,G=3;function H(oe,ce,fe,le){if(oe===ce)return 0!==oe||!fe||y(oe,ce);if(fe){if("object"!==E(oe))return"number"==typeof oe&&i(oe)&&i(ce);if("object"!==E(ce)||null===oe||null===ce||Object.getPrototypeOf(oe)!==Object.getPrototypeOf(ce))return!1}else{if(null===oe||"object"!==E(oe))return(null===ce||"object"!==E(ce))&&oe==ce;if(null===ce||"object"!==E(ce))return!1}var pe,Me,Ae,be,ge,he,ye=l(oe);if(ye!==l(ce))return!1;if(Array.isArray(oe)){if(oe.length!==ce.length)return!1;var we=N(oe),ze=N(ce);return we.length===ze.length&&Z(oe,ce,fe,le,F,we)}if("[object Object]"===ye&&(!T(oe)&&T(ce)||!m(oe)&&m(ce)))return!1;if(p(oe)){if(!p(ce)||Date.prototype.getTime.call(oe)!==Date.prototype.getTime.call(ce))return!1}else if(_(oe)){if(!_(ce)||(Ae=oe,be=ce,!(f?Ae.source===be.source&&Ae.flags===be.flags:RegExp.prototype.toString.call(Ae)===RegExp.prototype.toString.call(be))))return!1}else if(w(oe)||oe instanceof Error){if(oe.message!==ce.message||oe.name!==ce.name)return!1}else{if(v(oe)){if(fe||!O(oe)&&!R(oe)){if((ge=oe).byteLength!==(he=ce).byteLength||0!==j(new Uint8Array(ge.buffer,ge.byteOffset,ge.byteLength),new Uint8Array(he.buffer,he.byteOffset,he.byteLength)))return!1}else if(!function(ge,he){if(ge.byteLength!==he.byteLength)return!1;for(var _e=0;_e<ge.byteLength;_e++)if(ge[_e]!==he[_e])return!1;return!0}(oe,ce))return!1;var Se=N(oe),Ce=N(ce);return Se.length===Ce.length&&Z(oe,ce,fe,le,X,Se)}if(m(oe))return!(!m(ce)||oe.size!==ce.size)&&Z(oe,ce,fe,le,Y);if(T(oe))return!(!T(ce)||oe.size!==ce.size)&&Z(oe,ce,fe,le,G);if(h(oe)){if((pe=oe).byteLength!==(Me=ce).byteLength||0!==j(new Uint8Array(pe),new Uint8Array(Me)))return!1}else if(x(oe)&&!function(ge,he){return b(ge)?b(he)&&y(Number.prototype.valueOf.call(ge),Number.prototype.valueOf.call(he)):A(ge)?A(he)&&String.prototype.valueOf.call(ge)===String.prototype.valueOf.call(he):g(ge)?g(he)&&Boolean.prototype.valueOf.call(ge)===Boolean.prototype.valueOf.call(he):I(ge)?I(he)&&BigInt.prototype.valueOf.call(ge)===BigInt.prototype.valueOf.call(he):S(he)&&Symbol.prototype.valueOf.call(ge)===Symbol.prototype.valueOf.call(he)}(oe,ce))return!1}return Z(oe,ce,fe,le,X)}function W(oe,ce){return ce.filter(function(fe){return o(oe,fe)})}function Z(oe,ce,fe,le,pe,Me){if(5===arguments.length){Me=Object.keys(oe);var Ae=Object.keys(ce);if(Me.length!==Ae.length)return!1}for(var be=0;be<Me.length;be++)if(!a(ce,Me[be]))return!1;if(fe&&5===arguments.length){var ye=c(oe);if(0!==ye.length){var we=0;for(be=0;be<ye.length;be++){var ze=ye[be];if(o(oe,ze)){if(!o(ce,ze))return!1;Me.push(ze),we++}else if(o(ce,ze))return!1}var Se=c(ce);if(ye.length!==Se.length&&W(ce,Se).length!==we)return!1}else{var Ce=c(ce);if(0!==Ce.length&&0!==W(ce,Ce).length)return!1}}if(0===Me.length&&(pe===X||pe===F&&0===oe.length||0===oe.size))return!0;if(void 0===le)le={val1:new Map,val2:new Map,position:0};else{var ge=le.val1.get(oe);if(void 0!==ge){var he=le.val2.get(ce);if(void 0!==he)return ge===he}le.position++}le.val1.set(oe,le.position),le.val2.set(ce,le.position);var _e=function(Le,Ie,De,je,qe,ve){var Oe=0;if(ve===Y){if(!function(Ge,Ke,et,at){for(var mt=null,ct=k(Ge),kt=0;kt<ct.length;kt++){var Dt=ct[kt];if("object"===E(Dt)&&null!==Dt)null===mt&&(mt=new Set),mt.add(Dt);else if(!Ke.has(Dt)){if(et||!ne(Ge,Ke,Dt))return!1;null===mt&&(mt=new Set),mt.add(Dt)}}if(null!==mt){for(var Et=k(Ke),ht=0;ht<Et.length;ht++){var pt=Et[ht];if("object"===E(pt)&&null!==pt){if(!se(mt,pt,et,at))return!1}else if(!et&&!Ge.has(pt)&&!se(mt,pt,et,at))return!1}return 0===mt.size}return!0}(Le,Ie,De,qe))return!1}else if(ve===G){if(!function(Ge,Ke,et,at){for(var mt=null,ct=M(Ge),kt=0;kt<ct.length;kt++){var Dt=D(ct[kt],2),Et=Dt[0],ht=Dt[1];if("object"===E(Et)&&null!==Et)null===mt&&(mt=new Set),mt.add(Et);else{var pt=Ke.get(Et);if(void 0===pt&&!Ke.has(Et)||!H(ht,pt,et,at)){if(et||!Q(Ge,Ke,Et,ht,at))return!1;null===mt&&(mt=new Set),mt.add(Et)}}}if(null!==mt){for(var Pt=M(Ke),zt=0;zt<Pt.length;zt++){var Ht=D(Pt[zt],2),Lt=(Et=Ht[0],Ht[1]);if("object"===E(Et)&&null!==Et){if(!ee(mt,Ge,Et,Lt,et,at))return!1}else if(!(et||Ge.has(Et)&&H(Ge.get(Et),Lt,!1,at)||ee(mt,Ge,Et,Lt,!1,at)))return!1}return 0===mt.size}return!0}(Le,Ie,De,qe))return!1}else if(ve===F)for(;Oe<Le.length;Oe++){if(!a(Le,Oe)){if(a(Ie,Oe))return!1;for(var ke=Object.keys(Le);Oe<ke.length;Oe++){var Be=ke[Oe];if(!a(Ie,Be)||!H(Le[Be],Ie[Be],De,qe))return!1}return ke.length===Object.keys(Ie).length}if(!a(Ie,Oe)||!H(Le[Oe],Ie[Oe],De,qe))return!1}for(Oe=0;Oe<je.length;Oe++){var We=je[Oe];if(!H(Le[We],Ie[We],De,qe))return!1}return!0}(oe,ce,fe,Me,le,pe);return le.val1.delete(oe),le.val2.delete(ce),_e}function se(oe,ce,fe,le){for(var pe=k(oe),Me=0;Me<pe.length;Me++){var Ae=pe[Me];if(H(ce,Ae,fe,le))return oe.delete(Ae),!0}return!1}function re(oe){switch(E(oe)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":oe=+oe;case"number":if(i(oe))return!1}return!0}function ne(oe,ce,fe){var le=re(fe);return le??(ce.has(le)&&!oe.has(le))}function Q(oe,ce,fe,le,pe){var Me=re(fe);if(null!=Me)return Me;var Ae=ce.get(Me);return!(void 0===Ae&&!ce.has(Me)||!H(le,Ae,!1,pe))&&!oe.has(Me)&&H(le,Ae,!1,pe)}function ee(oe,ce,fe,le,pe,Me){for(var Ae=k(oe),be=0;be<Ae.length;be++){var ye=Ae[be];if(H(fe,ye,pe,Me)&&H(le,ce.get(ye),pe,Me))return oe.delete(ye),!0}return!1}ae.exports={isDeepEqual:function(oe,ce){return H(oe,ce,!1)},isDeepStrictEqual:function(oe,ce){return H(oe,ce,!0)}}},95341:function(ae,B){"use strict";B.byteLength=function(c){var i=M(c),a=i[1];return 3*(i[0]+a)/4-a},B.toByteArray=function(c){var i,s,_,a=M(c),o=a[0],l=a[1],u=new E(3*(o+(_=l))/4-_),h=0,v=l>0?o-4:o;for(s=0;s<v;s+=4)i=D[c.charCodeAt(s)]<<18|D[c.charCodeAt(s+1)]<<12|D[c.charCodeAt(s+2)]<<6|D[c.charCodeAt(s+3)],u[h++]=i>>16&255,u[h++]=i>>8&255,u[h++]=255&i;return 2===l&&(i=D[c.charCodeAt(s)]<<2|D[c.charCodeAt(s+1)]>>4,u[h++]=255&i),1===l&&(i=D[c.charCodeAt(s)]<<10|D[c.charCodeAt(s+1)]<<4|D[c.charCodeAt(s+2)]>>2,u[h++]=i>>8&255,u[h++]=255&i),u},B.fromByteArray=function(c){for(var i,s=c.length,a=s%3,o=[],l=16383,u=0,h=s-a;u<h;u+=l)o.push(y(c,u,u+l>h?h:u+l));return 1===a?o.push(r[(i=c[s-1])>>2]+r[i<<4&63]+"=="):2===a&&o.push(r[(i=(c[s-2]<<8)+c[s-1])>>10]+r[i>>4&63]+r[i<<2&63]+"="),o.join("")};for(var r=[],D=[],E=typeof Uint8Array<"u"?Uint8Array:Array,f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",k=0;k<64;++k)r[k]=f[k],D[f.charCodeAt(k)]=k;function M(c){var i=c.length;if(i%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var s=c.indexOf("=");return-1===s&&(s=i),[s,s===i?0:4-s%4]}function y(c,i,s){for(var o,l=[],u=i;u<s;u+=3)l.push(r[(o=(c[u]<<16&16711680)+(c[u+1]<<8&65280)+(255&c[u+2]))>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return l.join("")}D["-".charCodeAt(0)]=62,D["_".charCodeAt(0)]=63},91358:function(ae){"use strict";function B(M,y,c,i,s){for(var a=s+1;i<=s;){var o=i+s>>>1,l=M[o];(void 0!==c?c(l,y):l-y)>=0?(a=o,s=o-1):i=o+1}return a}function r(M,y,c,i,s){for(var a=s+1;i<=s;){var o=i+s>>>1,l=M[o];(void 0!==c?c(l,y):l-y)>0?(a=o,s=o-1):i=o+1}return a}function D(M,y,c,i,s){for(var a=i-1;i<=s;){var o=i+s>>>1,l=M[o];(void 0!==c?c(l,y):l-y)<0?(a=o,i=o+1):s=o-1}return a}function E(M,y,c,i,s){for(var a=i-1;i<=s;){var o=i+s>>>1,l=M[o];(void 0!==c?c(l,y):l-y)<=0?(a=o,i=o+1):s=o-1}return a}function f(M,y,c,i,s){for(;i<=s;){var a=i+s>>>1,o=M[a],l=void 0!==c?c(o,y):o-y;if(0===l)return a;l<=0?i=a+1:s=a-1}return-1}function k(M,y,c,i,s,a){return"function"==typeof c?a(M,y,c,void 0===i?0:0|i,void 0===s?M.length-1:0|s):a(M,y,void 0,void 0===c?0:0|c,void 0===i?M.length-1:0|i)}ae.exports={ge:function(M,y,c,i,s){return k(M,y,c,i,s,B)},gt:function(M,y,c,i,s){return k(M,y,c,i,s,r)},lt:function(M,y,c,i,s){return k(M,y,c,i,s,D)},le:function(M,y,c,i,s){return k(M,y,c,i,s,E)},eq:function(M,y,c,i,s){return k(M,y,c,i,s,f)}}},13547:function(ae,B){"use strict";function r(E){var f=32;return(E&=-E)&&f--,65535&E&&(f-=16),16711935&E&&(f-=8),252645135&E&&(f-=4),858993459&E&&(f-=2),1431655765&E&&(f-=1),f}B.INT_BITS=32,B.INT_MAX=2147483647,B.INT_MIN=-2147483648,B.sign=function(E){return(E>0)-(E<0)},B.abs=function(E){var f=E>>31;return(E^f)-f},B.min=function(E,f){return f^(E^f)&-(E<f)},B.max=function(E,f){return E^(E^f)&-(E<f)},B.isPow2=function(E){return!(E&E-1||!E)},B.log2=function(E){var f,k;return f=(E>65535)<<4,f|=k=((E>>>=f)>255)<<3,f|=k=((E>>>=k)>15)<<2,(f|=k=((E>>>=k)>3)<<1)|(E>>>=k)>>1},B.log10=function(E){return E>=1e9?9:E>=1e8?8:E>=1e7?7:E>=1e6?6:E>=1e5?5:E>=1e4?4:E>=1e3?3:E>=100?2:E>=10?1:0},B.popCount=function(E){return 16843009*((E=(858993459&(E-=E>>>1&1431655765))+(E>>>2&858993459))+(E>>>4)&252645135)>>>24},B.countTrailingZeros=r,B.nextPow2=function(E){return E+=0===E,--E,E|=E>>>1,E|=E>>>2,E|=E>>>4,1+((E|=E>>>8)|E>>>16)},B.prevPow2=function(E){return E|=E>>>1,E|=E>>>2,E|=E>>>4,E|=E>>>8,(E|=E>>>16)-(E>>>1)},B.parity=function(E){return E^=E>>>16,E^=E>>>8,E^=E>>>4,27030>>>(E&=15)&1};var D=new Array(256);(function(E){for(var f=0;f<256;++f){var k=f,M=f,y=7;for(k>>>=1;k;k>>>=1)M<<=1,M|=1&k,--y;E[f]=M<<y&255}})(D),B.reverse=function(E){return D[255&E]<<24|D[E>>>8&255]<<16|D[E>>>16&255]<<8|D[E>>>24&255]},B.interleave2=function(E,f){return(E=1431655765&((E=858993459&((E=252645135&((E=16711935&((E&=65535)|E<<8))|E<<4))|E<<2))|E<<1))|(f=1431655765&((f=858993459&((f=252645135&((f=16711935&((f&=65535)|f<<8))|f<<4))|f<<2))|f<<1))<<1},B.deinterleave2=function(E,f){return(E=65535&((E=16711935&((E=252645135&((E=858993459&((E=E>>>f&1431655765)|E>>>1))|E>>>2))|E>>>4))|E>>>16))<<16>>16},B.interleave3=function(E,f,k){return E=1227133513&((E=3272356035&((E=251719695&((E=4278190335&((E&=1023)|E<<16))|E<<8))|E<<4))|E<<2),(E|=(f=1227133513&((f=3272356035&((f=251719695&((f=4278190335&((f&=1023)|f<<16))|f<<8))|f<<4))|f<<2))<<1)|(k=1227133513&((k=3272356035&((k=251719695&((k=4278190335&((k&=1023)|k<<16))|k<<8))|k<<4))|k<<2))<<2},B.deinterleave3=function(E,f){return(E=1023&((E=4278190335&((E=251719695&((E=3272356035&((E=E>>>f&1227133513)|E>>>2))|E>>>4))|E>>>8))|E>>>16))<<22>>22},B.nextCombination=function(E){var f=E|E-1;return f+1|(~f&-~f)-1>>>r(E)+1}},44781:function(ae,B,r){"use strict";var D=r(53435);ae.exports=function(M,y){y||(y={});var c,i,s,a,o,l,h,p,T,_=null==y.cutoff?.25:y.cutoff,m=null==y.radius?8:y.radius,w=y.channel||0;if(ArrayBuffer.isView(M)||Array.isArray(M)){if(!y.width||!y.height)throw Error("For raw data width and height should be provided by options");c=y.width,i=y.height,a=M,l=y.stride?y.stride:Math.floor(M.length/c/i)}else window.HTMLCanvasElement&&M instanceof window.HTMLCanvasElement?(a=(h=M).getContext("2d").getImageData(0,0,c=h.width,i=h.height).data,l=4):window.CanvasRenderingContext2D&&M instanceof window.CanvasRenderingContext2D?(c=(h=M.canvas).width,a=M.getImageData(0,0,c,i=h.height).data,l=4):window.ImageData&&M instanceof window.ImageData&&(c=M.width,i=M.height,a=M.data,l=4);if(s=Math.max(c,i),window.Uint8ClampedArray&&a instanceof window.Uint8ClampedArray||window.Uint8Array&&a instanceof window.Uint8Array)for(o=a,a=Array(c*i),p=0,T=o.length;p<T;p++)a[p]=o[p*l+w]/255;else if(1!==l)throw Error("Raw data can have only 1 value per pixel");var x=Array(c*i),b=Array(c*i),A=Array(s),g=Array(s),I=Array(s+1),S=Array(s);for(p=0,T=c*i;p<T;p++){var O=a[p];x[p]=1===O?0:0===O?E:Math.pow(Math.max(0,.5-O),2),b[p]=1===O?E:0===O?0:Math.pow(Math.max(0,O-.5),2)}f(x,c,i,A,g,S,I),f(b,c,i,A,g,S,I);var R=window.Float32Array?new Float32Array(c*i):new Array(c*i);for(p=0,T=c*i;p<T;p++)R[p]=D(1-((x[p]-b[p])/m+_),0,1);return R};var E=1e20;function f(M,y,c,i,s,a,o){for(var l=0;l<y;l++){for(var u=0;u<c;u++)i[u]=M[u*y+l];for(k(i,s,a,o,c),u=0;u<c;u++)M[u*y+l]=s[u]}for(u=0;u<c;u++){for(l=0;l<y;l++)i[l]=M[u*y+l];for(k(i,s,a,o,y),l=0;l<y;l++)M[u*y+l]=Math.sqrt(s[l])}}function k(M,y,c,i,s){c[0]=0,i[0]=-E,i[1]=+E;for(var a=1,o=0;a<s;a++){for(var l=(M[a]+a*a-(M[c[o]]+c[o]*c[o]))/(2*a-2*c[o]);l<=i[o];)o--,l=(M[a]+a*a-(M[c[o]]+c[o]*c[o]))/(2*a-2*c[o]);c[++o]=a,i[o]=l,i[o+1]=+E}for(a=0,o=0;a<s;a++){for(;i[o+1]<a;)o++;y[a]=(a-c[o])*(a-c[o])+M[c[o]]}}},6614:function(ae,B,r){"use strict";var D=r(68318),E=r(68222),f=E(D("String.prototype.indexOf"));ae.exports=function(k,M){var y=D(k,!!M);return"function"==typeof y&&f(k,".prototype.")>-1?E(y):y}},68222:function(ae,B,r){"use strict";var D=r(77575),E=r(68318),f=E("%Function.prototype.apply%"),k=E("%Function.prototype.call%"),M=E("%Reflect.apply%",!0)||D.call(k,f),y=E("%Object.getOwnPropertyDescriptor%",!0),c=E("%Object.defineProperty%",!0),i=E("%Math.max%");if(c)try{c({},"a",{value:1})}catch{c=null}ae.exports=function(a){var o=M(D,k,arguments);return y&&c&&y(o,"length").configurable&&c(o,"length",{value:1+i(0,a.length-(arguments.length-1))}),o};var s=function(){return M(D,f,arguments)};c?c(ae.exports,"apply",{value:s}):ae.exports.apply=s},53435:function(ae){ae.exports=function(B,r,D){return r<D?B<r?r:B>D?D:B:B<D?D:B>r?r:B}},6475:function(ae,B,r){"use strict";var D=r(53435);function E(f,k){null==k&&(k=!0);var M=f[0],y=f[1],c=f[2],i=f[3];return null==i&&(i=k?1:255),k&&(M*=255,y*=255,c*=255,i*=255),16777216*(M=255&D(M,0,255))+((y=255&D(y,0,255))<<16)+((c=255&D(c,0,255))<<8)+(255&D(i,0,255))}ae.exports=E,ae.exports.to=E,ae.exports.from=function(f,k){var M=(f=+f)>>>24,y=(16711680&f)>>>16,c=(65280&f)>>>8,i=255&f;return!1===k?[M,y,c,i]:[M/255,y/255,c/255,i/255]}},76857:function(ae){"use strict";ae.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},25075:function(ae,B,r){"use strict";var D=r(36652),E=r(53435),f=r(90660);ae.exports=function(k,M){"float"!==M&&M||(M="array"),"uint"===M&&(M="uint8"),"uint_clamped"===M&&(M="uint8_clamped");var i,y=new(f(M))(4),c="uint8"!==M&&"uint8_clamped"!==M;return k.length&&"string"!=typeof k||((k=D(k))[0]/=255,k[1]/=255,k[2]/=255),(i=k)instanceof Uint8Array||i instanceof Uint8ClampedArray||Array.isArray(i)&&(i[0]>1||0===i[0])&&(i[1]>1||0===i[1])&&(i[2]>1||0===i[2])&&(!i[3]||i[3]>1)?(y[0]=k[0],y[1]=k[1],y[2]=k[2],y[3]=null!=k[3]?k[3]:255,c&&(y[0]/=255,y[1]/=255,y[2]/=255,y[3]/=255),y):(c?(y[0]=k[0],y[1]=k[1],y[2]=k[2],y[3]=null!=k[3]?k[3]:1):(y[0]=E(Math.floor(255*k[0]),0,255),y[1]=E(Math.floor(255*k[1]),0,255),y[2]=E(Math.floor(255*k[2]),0,255),y[3]=null==k[3]?255:E(Math.floor(255*k[3]),0,255)),y)}},90736:function(ae,B,r){"use strict";var D=r(76857),E=r(10973),f=r(46775);ae.exports=function(M){var y,c,i=[],s=1;if("string"==typeof M)if(D[M])i=D[M].slice(),c="rgb";else if("transparent"===M)s=0,c="rgb",i=[0,0,0];else if(/^#[A-Fa-f0-9]+$/.test(M)){var a=M.slice(1);s=1,(u=a.length)<=4?(i=[parseInt(a[0]+a[0],16),parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16)],4===u&&(s=parseInt(a[3]+a[3],16)/255)):(i=[parseInt(a[0]+a[1],16),parseInt(a[2]+a[3],16),parseInt(a[4]+a[5],16)],8===u&&(s=parseInt(a[6]+a[7],16)/255)),i[0]||(i[0]=0),i[1]||(i[1]=0),i[2]||(i[2]=0),c="rgb"}else if(y=/^((?:rgb|hs[lvb]|hwb|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms)a?)\s*\(([^\)]*)\)/.exec(M)){var o=y[1],l="rgb"===o;c=a=o.replace(/a$/,"");var u="cmyk"===a?4:"gray"===a?1:3;i=y[2].trim().split(/\s*,\s*/).map(function(v,p){if(/%$/.test(v))return p===u?parseFloat(v)/100:"rgb"===a?255*parseFloat(v)/100:parseFloat(v);if("h"===a[p]){if(/deg$/.test(v))return parseFloat(v);if(void 0!==k[v])return k[v]}return parseFloat(v)}),o===a&&i.push(1),s=l||void 0===i[u]?1:i[u],i=i.slice(0,u)}else M.length>10&&/[0-9](?:\s|\/)/.test(M)&&(i=M.match(/([0-9]+)/g).map(function(v){return parseFloat(v)}),c=M.match(/([a-z])/gi).join("").toLowerCase());else if(isNaN(M))if(E(M)){var h=f(M.r,M.red,M.R,null);null!==h?(c="rgb",i=[h,f(M.g,M.green,M.G),f(M.b,M.blue,M.B)]):(c="hsl",i=[f(M.h,M.hue,M.H),f(M.s,M.saturation,M.S),f(M.l,M.lightness,M.L,M.b,M.brightness)]),s=f(M.a,M.alpha,M.opacity,1),null!=M.opacity&&(s/=100)}else(Array.isArray(M)||r.g.ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(M))&&(i=[M[0],M[1],M[2]],c="rgb",s=4===M.length?M[3]:1);else c="rgb",i=[M>>>16,(65280&M)>>>8,255&M];return{space:c,values:i,alpha:s}};var k={red:0,orange:60,yellow:120,green:180,blue:240,purple:300}},36652:function(ae,B,r){"use strict";var D=r(90736),E=r(80009),f=r(53435);ae.exports=function(k){var M,y=D(k);return y.space?((M=Array(3))[0]=f(y.values[0],0,255),M[1]=f(y.values[1],0,255),M[2]=f(y.values[2],0,255),"h"===y.space[0]&&(M=E.rgb(M)),M.push(f(y.alpha,0,1)),M):[]}},80009:function(ae,B,r){"use strict";var D=r(6866);ae.exports={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(E){var f,k,M,y,c,i=E[0]/360,s=E[1]/100,a=E[2]/100;if(0===s)return[c=255*a,c,c];f=2*a-(k=a<.5?a*(1+s):a+s-a*s),y=[0,0,0];for(var o=0;o<3;o++)(M=i+.3333333333333333*-(o-1))<0?M++:M>1&&M--,y[o]=255*(c=6*M<1?f+6*(k-f)*M:2*M<1?k:3*M<2?f+(k-f)*(.6666666666666666-M)*6:f);return y}},D.hsl=function(E){var f,k,M=E[0]/255,y=E[1]/255,c=E[2]/255,i=Math.min(M,y,c),s=Math.max(M,y,c),a=s-i;return s===i?f=0:M===s?f=(y-c)/a:y===s?f=2+(c-M)/a:c===s&&(f=4+(M-y)/a),(f=Math.min(60*f,360))<0&&(f+=360),k=(i+s)/2,[f,100*(s===i?0:k<=.5?a/(s+i):a/(2-s-i)),100*k]}},6866:function(ae){"use strict";ae.exports={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]}},24138:function(ae){ae.exports={AFG:"afghan",ALA:"\\b\\wland",ALB:"albania",DZA:"algeria",ASM:"^(?=.*americ).*samoa",AND:"andorra",AGO:"angola",AIA:"anguill?a",ATA:"antarctica",ATG:"antigua",ARG:"argentin",ARM:"armenia",ABW:"^(?!.*bonaire).*\\baruba",AUS:"australia",AUT:"^(?!.*hungary).*austria|\\baustri.*\\bemp",AZE:"azerbaijan",BHS:"bahamas",BHR:"bahrain",BGD:"bangladesh|^(?=.*east).*paki?stan",BRB:"barbados",BLR:"belarus|byelo",BEL:"^(?!.*luxem).*belgium",BLZ:"belize|^(?=.*british).*honduras",BEN:"benin|dahome",BMU:"bermuda",BTN:"bhutan",BOL:"bolivia",BES:"^(?=.*bonaire).*eustatius|^(?=.*carib).*netherlands|\\bbes.?islands",BIH:"herzegovina|bosnia",BWA:"botswana|bechuana",BVT:"bouvet",BRA:"brazil",IOT:"british.?indian.?ocean",BRN:"brunei",BGR:"bulgaria",BFA:"burkina|\\bfaso|upper.?volta",BDI:"burundi",CPV:"verde",KHM:"cambodia|kampuchea|khmer",CMR:"cameroon",CAN:"canada",CYM:"cayman",CAF:"\\bcentral.african.republic",TCD:"\\bchad",CHL:"\\bchile",CHN:"^(?!.*\\bmac)(?!.*\\bhong)(?!.*\\btai)(?!.*\\brep).*china|^(?=.*peo)(?=.*rep).*china",CXR:"christmas",CCK:"\\bcocos|keeling",COL:"colombia",COM:"comoro",COG:"^(?!.*\\bdem)(?!.*\\bd[\\.]?r)(?!.*kinshasa)(?!.*zaire)(?!.*belg)(?!.*l.opoldville)(?!.*free).*\\bcongo",COK:"\\bcook",CRI:"costa.?rica",CIV:"ivoire|ivory",HRV:"croatia",CUB:"\\bcuba",CUW:"^(?!.*bonaire).*\\bcura(c|\xe7)ao",CYP:"cyprus",CSK:"czechoslovakia",CZE:"^(?=.*rep).*czech|czechia|bohemia",COD:"\\bdem.*congo|congo.*\\bdem|congo.*\\bd[\\.]?r|\\bd[\\.]?r.*congo|belgian.?congo|congo.?free.?state|kinshasa|zaire|l.opoldville|drc|droc|rdc",DNK:"denmark",DJI:"djibouti",DMA:"dominica(?!n)",DOM:"dominican.rep",ECU:"ecuador",EGY:"egypt",SLV:"el.?salvador",GNQ:"guine.*eq|eq.*guine|^(?=.*span).*guinea",ERI:"eritrea",EST:"estonia",ETH:"ethiopia|abyssinia",FLK:"falkland|malvinas",FRO:"faroe|faeroe",FJI:"fiji",FIN:"finland",FRA:"^(?!.*\\bdep)(?!.*martinique).*france|french.?republic|\\bgaul",GUF:"^(?=.*french).*guiana",PYF:"french.?polynesia|tahiti",ATF:"french.?southern",GAB:"gabon",GMB:"gambia",GEO:"^(?!.*south).*georgia",DDR:"german.?democratic.?republic|democratic.?republic.*germany|east.germany",DEU:"^(?!.*east).*germany|^(?=.*\\bfed.*\\brep).*german",GHA:"ghana|gold.?coast",GIB:"gibraltar",GRC:"greece|hellenic|hellas",GRL:"greenland",GRD:"grenada",GLP:"guadeloupe",GUM:"\\bguam",GTM:"guatemala",GGY:"guernsey",GIN:"^(?!.*eq)(?!.*span)(?!.*bissau)(?!.*portu)(?!.*new).*guinea",GNB:"bissau|^(?=.*portu).*guinea",GUY:"guyana|british.?guiana",HTI:"haiti",HMD:"heard.*mcdonald",VAT:"holy.?see|vatican|papal.?st",HND:"^(?!.*brit).*honduras",HKG:"hong.?kong",HUN:"^(?!.*austr).*hungary",ISL:"iceland",IND:"india(?!.*ocea)",IDN:"indonesia",IRN:"\\biran|persia",IRQ:"\\biraq|mesopotamia",IRL:"(^ireland)|(^republic.*ireland)",IMN:"^(?=.*isle).*\\bman",ISR:"israel",ITA:"italy",JAM:"jamaica",JPN:"japan",JEY:"jersey",JOR:"jordan",KAZ:"kazak",KEN:"kenya|british.?east.?africa|east.?africa.?prot",KIR:"kiribati",PRK:"^(?=.*democrat|people|north|d.*p.*.r).*\\bkorea|dprk|korea.*(d.*p.*r)",KWT:"kuwait",KGZ:"kyrgyz|kirghiz",LAO:"\\blaos?\\b",LVA:"latvia",LBN:"lebanon",LSO:"lesotho|basuto",LBR:"liberia",LBY:"libya",LIE:"liechtenstein",LTU:"lithuania",LUX:"^(?!.*belg).*luxem",MAC:"maca(o|u)",MDG:"madagascar|malagasy",MWI:"malawi|nyasa",MYS:"malaysia",MDV:"maldive",MLI:"\\bmali\\b",MLT:"\\bmalta",MHL:"marshall",MTQ:"martinique",MRT:"mauritania",MUS:"mauritius",MYT:"\\bmayotte",MEX:"\\bmexic",FSM:"fed.*micronesia|micronesia.*fed",MCO:"monaco",MNG:"mongolia",MNE:"^(?!.*serbia).*montenegro",MSR:"montserrat",MAR:"morocco|\\bmaroc",MOZ:"mozambique",MMR:"myanmar|burma",NAM:"namibia",NRU:"nauru",NPL:"nepal",NLD:"^(?!.*\\bant)(?!.*\\bcarib).*netherlands",ANT:"^(?=.*\\bant).*(nether|dutch)",NCL:"new.?caledonia",NZL:"new.?zealand",NIC:"nicaragua",NER:"\\bniger(?!ia)",NGA:"nigeria",NIU:"niue",NFK:"norfolk",MNP:"mariana",NOR:"norway",OMN:"\\boman|trucial",PAK:"^(?!.*east).*paki?stan",PLW:"palau",PSE:"palestin|\\bgaza|west.?bank",PAN:"panama",PNG:"papua|new.?guinea",PRY:"paraguay",PER:"peru",PHL:"philippines",PCN:"pitcairn",POL:"poland",PRT:"portugal",PRI:"puerto.?rico",QAT:"qatar",KOR:"^(?!.*d.*p.*r)(?!.*democrat)(?!.*people)(?!.*north).*\\bkorea(?!.*d.*p.*r)",MDA:"moldov|b(a|e)ssarabia",REU:"r(e|\xe9)union",ROU:"r(o|u|ou)mania",RUS:"\\brussia|soviet.?union|u\\.?s\\.?s\\.?r|socialist.?republics",RWA:"rwanda",BLM:"barth(e|\xe9)lemy",SHN:"helena",KNA:"kitts|\\bnevis",LCA:"\\blucia",MAF:"^(?=.*collectivity).*martin|^(?=.*france).*martin(?!ique)|^(?=.*french).*martin(?!ique)",SPM:"miquelon",VCT:"vincent",WSM:"^(?!.*amer).*samoa",SMR:"san.?marino",STP:"\\bs(a|\xe3)o.?tom(e|\xe9)",SAU:"\\bsa\\w*.?arabia",SEN:"senegal",SRB:"^(?!.*monte).*serbia",SYC:"seychell",SLE:"sierra",SGP:"singapore",SXM:"^(?!.*martin)(?!.*saba).*maarten",SVK:"^(?!.*cze).*slovak",SVN:"slovenia",SLB:"solomon",SOM:"somali",ZAF:"south.africa|s\\\\..?africa",SGS:"south.?georgia|sandwich",SSD:"\\bs\\w*.?sudan",ESP:"spain",LKA:"sri.?lanka|ceylon",SDN:"^(?!.*\\bs(?!u)).*sudan",SUR:"surinam|dutch.?guiana",SJM:"svalbard",SWZ:"swaziland",SWE:"sweden",CHE:"switz|swiss",SYR:"syria",TWN:"taiwan|taipei|formosa|^(?!.*peo)(?=.*rep).*china",TJK:"tajik",THA:"thailand|\\bsiam",MKD:"macedonia|fyrom",TLS:"^(?=.*leste).*timor|^(?=.*east).*timor",TGO:"togo",TKL:"tokelau",TON:"tonga",TTO:"trinidad|tobago",TUN:"tunisia",TUR:"turkey",TKM:"turkmen",TCA:"turks",TUV:"tuvalu",UGA:"uganda",UKR:"ukrain",ARE:"emirates|^u\\.?a\\.?e\\.?$|united.?arab.?em",GBR:"united.?kingdom|britain|^u\\.?k\\.?$",TZA:"tanzania",USA:"united.?states\\b(?!.*islands)|\\bu\\.?s\\.?a\\.?\\b|^\\s*u\\.?s\\.?\\b(?!.*islands)",UMI:"minor.?outlying.?is",URY:"uruguay",UZB:"uzbek",VUT:"vanuatu|new.?hebrides",VEN:"venezuela",VNM:"^(?!.*republic).*viet.?nam|^(?=.*socialist).*viet.?nam",VGB:"^(?=.*\\bu\\.?\\s?k).*virgin|^(?=.*brit).*virgin|^(?=.*kingdom).*virgin",VIR:"^(?=.*\\bu\\.?\\s?s).*virgin|^(?=.*states).*virgin",WLF:"futuna|wallis",ESH:"western.sahara",YEM:"^(?!.*arab)(?!.*north)(?!.*sana)(?!.*peo)(?!.*dem)(?!.*south)(?!.*aden)(?!.*\\bp\\.?d\\.?r).*yemen",YMD:"^(?=.*peo).*yemen|^(?!.*rep)(?=.*dem).*yemen|^(?=.*south).*yemen|^(?=.*aden).*yemen|^(?=.*\\bp\\.?d\\.?r).*yemen",YUG:"yugoslavia",ZMB:"zambia|northern.?rhodesia",EAZ:"zanzibar",ZWE:"zimbabwe|^(?!.*northern).*rhodesia"}},72791:function(ae,B,r){"use strict";ae.exports={parse:r(41004),stringify:r(53313)}},63625:function(ae,B,r){"use strict";var D=r(40402);ae.exports={isSize:function(E){return/^[\d\.]/.test(E)||-1!==E.indexOf("/")||-1!==D.indexOf(E)}}},41004:function(ae,B,r){"use strict";var D=r(90448),E=r(38732),f=r(41901),k=r(15659),M=r(96209),y=r(83794),c=r(99011),i=r(63625).isSize;ae.exports=a;var s=a.cache={};function a(l){if("string"!=typeof l)throw new Error("Font argument must be a string.");if(s[l])return s[l];if(""===l)throw new Error("Cannot parse an empty string.");if(-1!==f.indexOf(l))return s[l]={system:l};for(var u,h={style:"normal",variant:"normal",weight:"normal",stretch:"normal",lineHeight:"normal",size:"1rem",family:["serif"]},v=c(l,/\s+/);u=v.shift();){if(-1!==E.indexOf(u))return["style","variant","weight","stretch"].forEach(function(T){h[T]=u}),s[l]=h;if(-1===M.indexOf(u))if("normal"!==u&&"small-caps"!==u)if(-1===y.indexOf(u)){if(-1===k.indexOf(u)){if(i(u)){var p=c(u,"/");if(h.size=p[0],null!=p[1]?h.lineHeight=o(p[1]):"/"===v[0]&&(v.shift(),h.lineHeight=o(v.shift())),!v.length)throw new Error("Missing required font-family.");return h.family=c(v.join(" "),/\s*,\s*/).map(D),s[l]=h}throw new Error("Unknown or unsupported font token: "+u)}h.weight=u}else h.stretch=u;else h.variant=u;else h.style=u}throw new Error("Missing required font-size.")}function o(l){var u=parseFloat(l);return u.toString()===l?u:l}},53313:function(ae,B,r){"use strict";var D=r(71299),E=r(63625).isSize,f=l(r(38732)),k=l(r(41901)),M=l(r(15659)),y=l(r(96209)),c=l(r(83794)),i={normal:1,"small-caps":1},s={serif:1,"sans-serif":1,monospace:1,cursive:1,fantasy:1,"system-ui":1},a="serif";function o(u,h){if(u&&!h[u]&&!f[u])throw Error("Unknown keyword `"+u+"`");return u}function l(u){for(var h={},v=0;v<u.length;v++)h[u[v]]=1;return h}ae.exports=function(u){if((u=D(u,{style:"style fontstyle fontStyle font-style slope distinction",variant:"variant font-variant fontVariant fontvariant var capitalization",weight:"weight w font-weight fontWeight fontweight",stretch:"stretch font-stretch fontStretch fontstretch width",size:"size s font-size fontSize fontsize height em emSize",lineHeight:"lh line-height lineHeight lineheight leading",family:"font family fontFamily font-family fontfamily type typeface face",system:"system reserved default global"})).system)return u.system&&o(u.system,k),u.system;if(o(u.style,y),o(u.variant,i),o(u.weight,M),o(u.stretch,c),null==u.size&&(u.size="1rem"),"number"==typeof u.size&&(u.size+="px"),!E)throw Error("Bad size value `"+u.size+"`");u.family||(u.family=a),Array.isArray(u.family)&&(u.family.length||(u.family=[a]),u.family=u.family.map(function(v){return s[v]?v:'"'+v+'"'}).join(", "));var h=[];return h.push(u.style),u.variant!==u.style&&h.push(u.variant),u.weight!==u.variant&&u.weight!==u.style&&h.push(u.weight),u.stretch!==u.weight&&u.stretch!==u.variant&&u.stretch!==u.style&&h.push(u.stretch),h.push(u.size+(null==u.lineHeight||"normal"===u.lineHeight||u.lineHeight+""=="1"?"":"/"+u.lineHeight)),h.push(u.family),h.filter(Boolean).join(" ")}},55174:function(ae,B,r){"use strict";var D,E=r(24582),f=r(10424),k=r(82527),M=r(19012),y=r(21780),c=r(16906),i=Function.prototype.bind,s=Object.defineProperty,a=Object.prototype.hasOwnProperty;D=function(o,l,u){var h,v=f(l)&&k(l.value);return delete(h=M(l)).writable,delete h.value,h.get=function(){return!u.overwriteDefinition&&a.call(this,o)?v:(l.value=i.call(v,u.resolveContext?u.resolveContext(this):this),s(this,o,l),this[o])},h},ae.exports=function(o){var l=y(arguments[1]);return E(l.resolveContext)&&k(l.resolveContext),c(o,function(u,h){return D(h,u,l)})}},62072:function(ae,B,r){"use strict";var D=r(24582),E=r(84985),f=r(95879),k=r(21780),M=r(66741),y=ae.exports=function(c,i){var s,a,o,l,u;return arguments.length<2||"string"!=typeof c?(l=i,i=c,c=null):l=arguments[2],D(c)?(s=M.call(c,"c"),a=M.call(c,"e"),o=M.call(c,"w")):(s=o=!0,a=!1),u={value:i,configurable:s,enumerable:a,writable:o},l?f(k(l),u):u};y.gs=function(c,i,s){var a,o,l,u;return"string"!=typeof c?(l=s,s=i,i=c,c=null):l=arguments[3],D(i)?E(i)?D(s)?E(s)||(l=s,s=void 0):s=void 0:(l=i,i=s=void 0):i=void 0,D(c)?(a=M.call(c,"c"),o=M.call(c,"e")):(a=!0,o=!1),u={get:i,set:s,configurable:a,enumerable:o},l?f(k(l),u):u}},33064:function(ae,B,r){"use strict";function D(l,u){return l<u?-1:l>u?1:l>=u?0:NaN}var E,f;function M(l,u){var h,v,p=l.length,T=-1;if(null==u){for(;++T<p;)if(null!=(h=l[T])&&h>=h)for(v=h;++T<p;)null!=(h=l[T])&&h>v&&(v=h)}else for(;++T<p;)if(null!=(h=u(l[T],T,l))&&h>=h)for(v=h;++T<p;)null!=(h=u(l[T],T,l))&&h>v&&(v=h);return v}function y(l){return null===l?NaN:+l}function c(l,u){var h,v=l.length,p=v,T=-1,_=0;if(null==u)for(;++T<v;)isNaN(h=y(l[T]))?--p:_+=h;else for(;++T<v;)isNaN(h=y(u(l[T],T,l)))?--p:_+=h;if(p)return _/p}function i(l){for(var u,h,v,p=l.length,T=-1,_=0;++T<p;)_+=l[T].length;for(h=new Array(_);--p>=0;)for(u=(v=l[p]).length;--u>=0;)h[--_]=v[u];return h}function s(l,u){var h,v,p=l.length,T=-1;if(null==u){for(;++T<p;)if(null!=(h=l[T])&&h>=h)for(v=h;++T<p;)null!=(h=l[T])&&v>h&&(v=h)}else for(;++T<p;)if(null!=(h=u(l[T],T,l))&&h>=h)for(v=h;++T<p;)null!=(h=u(l[T],T,l))&&v>h&&(v=h);return v}function a(l,u,h){l=+l,u=+u,h=(p=arguments.length)<2?(u=l,l=0,1):p<3?1:+h;for(var v=-1,p=0|Math.max(0,Math.ceil((u-l)/h)),T=new Array(p);++v<p;)T[v]=l+v*h;return T}function o(l,u){var h,v=l.length,p=-1,T=0;if(null==u)for(;++p<v;)(h=+l[p])&&(T+=h);else for(;++p<v;)(h=+u(l[p],p,l))&&(T+=h);return T}r.d(B,{j2:function(){return D},Fp:function(){return M},J6:function(){return c},TS:function(){return i},VV:function(){return s},w6:function(){return a},Sm:function(){return o}}),1===(E=D).length&&(f=E,E=function(l,u){return D(f(l),u)}),Math.sqrt(50),Math.sqrt(10),Math.sqrt(2)},15140:function(ae,B,r){"use strict";r.d(B,{UI:function(){return k},b1:function(){return M}});var D="$";function E(){}function f(l,u){var h=new E;if(l instanceof E)l.each(function(m,w){h.set(w,m)});else if(Array.isArray(l)){var v,p=-1,T=l.length;if(null==u)for(;++p<T;)h.set(p,l[p]);else for(;++p<T;)h.set(u(v=l[p],p,l),v)}else if(l)for(var _ in l)h.set(_,l[_]);return h}E.prototype=f.prototype={constructor:E,has:function(l){return D+l in this},get:function(l){return this[D+l]},set:function(l,u){return this[D+l]=u,this},remove:function(l){var u=D+l;return u in this&&delete this[u]},clear:function(){for(var l in this)l[0]===D&&delete this[l]},keys:function(){var l=[];for(var u in this)u[0]===D&&l.push(u.slice(1));return l},values:function(){var l=[];for(var u in this)u[0]===D&&l.push(this[u]);return l},entries:function(){var l=[];for(var u in this)u[0]===D&&l.push({key:u.slice(1),value:this[u]});return l},size:function(){var l=0;for(var u in this)u[0]===D&&++l;return l},empty:function(){for(var l in this)if(l[0]===D)return!1;return!0},each:function(l){for(var u in this)u[0]===D&&l(this[u],u.slice(1),this)}};var k=f;function M(){var l,u,h,v=[],p=[];function T(m,w,x,b){if(w>=v.length)return null!=l&&m.sort(l),null!=u?u(m):m;for(var A,g,I,S=-1,O=m.length,R=v[w++],L=k(),N=x();++S<O;)(I=L.get(A=R(g=m[S])+""))?I.push(g):L.set(A,[g]);return L.each(function(j,X){b(N,X,T(j,w,x,b))}),N}function _(m,w){if(++w>v.length)return m;var x,b=p[w-1];return null!=u&&w>=v.length?x=m.entries():(x=[],m.each(function(A,g){x.push({key:g,values:_(A,w)})})),null!=b?x.sort(function(A,g){return b(A.key,g.key)}):x}return h={object:function(m){return T(m,0,y,c)},map:function(m){return T(m,0,i,s)},entries:function(m){return _(T(m,0,i,s),0)},key:function(m){return v.push(m),h},sortKeys:function(m){return p[v.length-1]=m,h},sortValues:function(m){return l=m,h},rollup:function(m){return u=m,h}}}function y(){return{}}function c(l,u,h){l[u]=h}function i(){return k()}function s(l,u,h){l.set(u,h)}function a(){}var o=k.prototype;a.prototype=function(l,u){var h=new a;if(l instanceof a)l.each(function(T){h.add(T)});else if(l){var v=-1,p=l.length;if(null==u)for(;++v<p;)h.add(l[v]);else for(;++v<p;)h.add(u(l[v],v,l))}return h}.prototype={constructor:a,has:o.has,add:function(l){return this[D+(l+="")]=l,this},remove:o.remove,clear:o.clear,values:o.keys,size:o.size,empty:o.empty,each:o.each}},49887:function(ae,B,r){"use strict";function D(ye,we){var ze;function Se(){var Ce,ge,he=ze.length,_e=0,Le=0;for(Ce=0;Ce<he;++Ce)_e+=(ge=ze[Ce]).x,Le+=ge.y;for(_e=_e/he-ye,Le=Le/he-we,Ce=0;Ce<he;++Ce)(ge=ze[Ce]).x-=_e,ge.y-=Le}return null==ye&&(ye=0),null==we&&(we=0),Se.initialize=function(Ce){ze=Ce},Se.x=function(Ce){return arguments.length?(ye=+Ce,Se):ye},Se.y=function(Ce){return arguments.length?(we=+Ce,Se):we},Se}function E(ye){return function(){return ye}}function f(){return 1e-6*(Math.random()-.5)}function k(ye,we,ze,Se){if(isNaN(we)||isNaN(ze))return ye;var Ce,ge,he,_e,Le,Ie,De,je,qe,ve=ye._root,Oe={data:Se},ke=ye._x0,Be=ye._y0,We=ye._x1,Ge=ye._y1;if(!ve)return ye._root=Oe,ye;for(;ve.length;)if((Ie=we>=(ge=(ke+We)/2))?ke=ge:We=ge,(De=ze>=(he=(Be+Ge)/2))?Be=he:Ge=he,Ce=ve,!(ve=ve[je=De<<1|Ie]))return Ce[je]=Oe,ye;if(_e=+ye._x.call(null,ve.data),Le=+ye._y.call(null,ve.data),we===_e&&ze===Le)return Oe.next=ve,Ce?Ce[je]=Oe:ye._root=Oe,ye;do{Ce=Ce?Ce[je]=new Array(4):ye._root=new Array(4),(Ie=we>=(ge=(ke+We)/2))?ke=ge:We=ge,(De=ze>=(he=(Be+Ge)/2))?Be=he:Ge=he}while((je=De<<1|Ie)==(qe=(Le>=he)<<1|_e>=ge));return Ce[qe]=ve,Ce[je]=Oe,ye}function M(ye,we,ze,Se,Ce){this.node=ye,this.x0=we,this.y0=ze,this.x1=Se,this.y1=Ce}function y(ye){return ye[0]}function c(ye){return ye[1]}function i(ye,we,ze){var Se=new s(we??y,ze??c,NaN,NaN,NaN,NaN);return null==ye?Se:Se.addAll(ye)}function s(ye,we,ze,Se,Ce,ge){this._x=ye,this._y=we,this._x0=ze,this._y0=Se,this._x1=Ce,this._y1=ge,this._root=void 0}function a(ye){for(var we={data:ye.data},ze=we;ye=ye.next;)ze=ze.next={data:ye.data};return we}r.r(B),r.d(B,{forceCenter:function(){return D},forceCollide:function(){return h},forceLink:function(){return _},forceManyBody:function(){return pe},forceRadial:function(){return Me},forceSimulation:function(){return le},forceX:function(){return Ae},forceY:function(){return be}});var o=i.prototype=s.prototype;function l(ye){return ye.x+ye.vx}function u(ye){return ye.y+ye.vy}function h(ye){var we,ze,Se=1,Ce=1;function ge(){for(var Le,Ie,De,je,qe,ve,Oe,ke=we.length,Be=0;Be<Ce;++Be)for(Ie=i(we,l,u).visitAfter(he),Le=0;Le<ke;++Le)Oe=(ve=ze[(De=we[Le]).index])*ve,je=De.x+De.vx,qe=De.y+De.vy,Ie.visit(We);function We(Ge,Ke,et,at,mt){var ct=Ge.data,kt=Ge.r,Dt=ve+kt;if(!ct)return Ke>je+Dt||at<je-Dt||et>qe+Dt||mt<qe-Dt;if(ct.index>De.index){var Et=je-ct.x-ct.vx,ht=qe-ct.y-ct.vy,pt=Et*Et+ht*ht;pt<Dt*Dt&&(0===Et&&(pt+=(Et=f())*Et),0===ht&&(pt+=(ht=f())*ht),pt=(Dt-(pt=Math.sqrt(pt)))/pt*Se,De.vx+=(Et*=pt)*(Dt=(kt*=kt)/(Oe+kt)),De.vy+=(ht*=pt)*Dt,ct.vx-=Et*(Dt=1-Dt),ct.vy-=ht*Dt)}}}function he(Le){if(Le.data)return Le.r=ze[Le.data.index];for(var Ie=Le.r=0;Ie<4;++Ie)Le[Ie]&&Le[Ie].r>Le.r&&(Le.r=Le[Ie].r)}function _e(){if(we){var Le,Ie,De=we.length;for(ze=new Array(De),Le=0;Le<De;++Le)ze[(Ie=we[Le]).index]=+ye(Ie,Le,we)}}return"function"!=typeof ye&&(ye=E(null==ye?1:+ye)),ge.initialize=function(Le){we=Le,_e()},ge.iterations=function(Le){return arguments.length?(Ce=+Le,ge):Ce},ge.strength=function(Le){return arguments.length?(Se=+Le,ge):Se},ge.radius=function(Le){return arguments.length?(ye="function"==typeof Le?Le:E(+Le),_e(),ge):ye},ge}o.copy=function(){var ye,we,ze=new s(this._x,this._y,this._x0,this._y0,this._x1,this._y1),Se=this._root;if(!Se)return ze;if(!Se.length)return ze._root=a(Se),ze;for(ye=[{source:Se,target:ze._root=new Array(4)}];Se=ye.pop();)for(var Ce=0;Ce<4;++Ce)(we=Se.source[Ce])&&(we.length?ye.push({source:we,target:Se.target[Ce]=new Array(4)}):Se.target[Ce]=a(we));return ze},o.add=function(ye){var we=+this._x.call(null,ye),ze=+this._y.call(null,ye);return k(this.cover(we,ze),we,ze,ye)},o.addAll=function(ye){var we,ze,Se,Ce,ge=ye.length,he=new Array(ge),_e=new Array(ge),Le=1/0,Ie=1/0,De=-1/0,je=-1/0;for(ze=0;ze<ge;++ze)isNaN(Se=+this._x.call(null,we=ye[ze]))||isNaN(Ce=+this._y.call(null,we))||(he[ze]=Se,_e[ze]=Ce,Se<Le&&(Le=Se),Se>De&&(De=Se),Ce<Ie&&(Ie=Ce),Ce>je&&(je=Ce));if(Le>De||Ie>je)return this;for(this.cover(Le,Ie).cover(De,je),ze=0;ze<ge;++ze)k(this,he[ze],_e[ze],ye[ze]);return this},o.cover=function(ye,we){if(isNaN(ye=+ye)||isNaN(we=+we))return this;var ze=this._x0,Se=this._y0,Ce=this._x1,ge=this._y1;if(isNaN(ze))Ce=(ze=Math.floor(ye))+1,ge=(Se=Math.floor(we))+1;else{for(var he,_e,Le=Ce-ze,Ie=this._root;ze>ye||ye>=Ce||Se>we||we>=ge;)switch(_e=(we<Se)<<1|ye<ze,(he=new Array(4))[_e]=Ie,Ie=he,Le*=2,_e){case 0:Ce=ze+Le,ge=Se+Le;break;case 1:ze=Ce-Le,ge=Se+Le;break;case 2:Ce=ze+Le,Se=ge-Le;break;case 3:ze=Ce-Le,Se=ge-Le}this._root&&this._root.length&&(this._root=Ie)}return this._x0=ze,this._y0=Se,this._x1=Ce,this._y1=ge,this},o.data=function(){var ye=[];return this.visit(function(we){if(!we.length)do{ye.push(we.data)}while(we=we.next)}),ye},o.extent=function(ye){return arguments.length?this.cover(+ye[0][0],+ye[0][1]).cover(+ye[1][0],+ye[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},o.find=function(ye,we,ze){var Se,Ce,ge,he,_e,Le,Ie,De=this._x0,je=this._y0,qe=this._x1,ve=this._y1,Oe=[],ke=this._root;for(ke&&Oe.push(new M(ke,De,je,qe,ve)),null==ze?ze=1/0:(De=ye-ze,je=we-ze,qe=ye+ze,ve=we+ze,ze*=ze);Le=Oe.pop();)if(!(!(ke=Le.node)||(Ce=Le.x0)>qe||(ge=Le.y0)>ve||(he=Le.x1)<De||(_e=Le.y1)<je))if(ke.length){var Be=(Ce+he)/2,We=(ge+_e)/2;Oe.push(new M(ke[3],Be,We,he,_e),new M(ke[2],Ce,We,Be,_e),new M(ke[1],Be,ge,he,We),new M(ke[0],Ce,ge,Be,We)),(Ie=(we>=We)<<1|ye>=Be)&&(Le=Oe[Oe.length-1],Oe[Oe.length-1]=Oe[Oe.length-1-Ie],Oe[Oe.length-1-Ie]=Le)}else{var Ge=ye-+this._x.call(null,ke.data),Ke=we-+this._y.call(null,ke.data),et=Ge*Ge+Ke*Ke;if(et<ze){var at=Math.sqrt(ze=et);De=ye-at,je=we-at,qe=ye+at,ve=we+at,Se=ke.data}}return Se},o.remove=function(ye){if(isNaN(ge=+this._x.call(null,ye))||isNaN(he=+this._y.call(null,ye)))return this;var we,ze,Se,Ce,ge,he,_e,Le,Ie,De,je,qe,ve=this._root,Oe=this._x0,ke=this._y0,Be=this._x1,We=this._y1;if(!ve)return this;if(ve.length)for(;;){if((Ie=ge>=(_e=(Oe+Be)/2))?Oe=_e:Be=_e,(De=he>=(Le=(ke+We)/2))?ke=Le:We=Le,we=ve,!(ve=ve[je=De<<1|Ie]))return this;if(!ve.length)break;(we[je+1&3]||we[je+2&3]||we[je+3&3])&&(ze=we,qe=je)}for(;ve.data!==ye;)if(Se=ve,!(ve=ve.next))return this;return(Ce=ve.next)&&delete ve.next,Se?(Ce?Se.next=Ce:delete Se.next,this):we?(Ce?we[je]=Ce:delete we[je],(ve=we[0]||we[1]||we[2]||we[3])&&ve===(we[3]||we[2]||we[1]||we[0])&&!ve.length&&(ze?ze[qe]=ve:this._root=ve),this):(this._root=Ce,this)},o.removeAll=function(ye){for(var we=0,ze=ye.length;we<ze;++we)this.remove(ye[we]);return this},o.root=function(){return this._root},o.size=function(){var ye=0;return this.visit(function(we){if(!we.length)do{++ye}while(we=we.next)}),ye},o.visit=function(ye){var we,ze,Se,Ce,ge,he,_e=[],Le=this._root;for(Le&&_e.push(new M(Le,this._x0,this._y0,this._x1,this._y1));we=_e.pop();)if(!ye(Le=we.node,Se=we.x0,Ce=we.y0,ge=we.x1,he=we.y1)&&Le.length){var Ie=(Se+ge)/2,De=(Ce+he)/2;(ze=Le[3])&&_e.push(new M(ze,Ie,De,ge,he)),(ze=Le[2])&&_e.push(new M(ze,Se,De,Ie,he)),(ze=Le[1])&&_e.push(new M(ze,Ie,Ce,ge,De)),(ze=Le[0])&&_e.push(new M(ze,Se,Ce,Ie,De))}return this},o.visitAfter=function(ye){var we,ze=[],Se=[];for(this._root&&ze.push(new M(this._root,this._x0,this._y0,this._x1,this._y1));we=ze.pop();){var Ce=we.node;if(Ce.length){var ge,he=we.x0,_e=we.y0,Le=we.x1,Ie=we.y1,De=(he+Le)/2,je=(_e+Ie)/2;(ge=Ce[0])&&ze.push(new M(ge,he,_e,De,je)),(ge=Ce[1])&&ze.push(new M(ge,De,_e,Le,je)),(ge=Ce[2])&&ze.push(new M(ge,he,je,De,Ie)),(ge=Ce[3])&&ze.push(new M(ge,De,je,Le,Ie))}Se.push(we)}for(;we=Se.pop();)ye(we.node,we.x0,we.y0,we.x1,we.y1);return this},o.x=function(ye){return arguments.length?(this._x=ye,this):this._x},o.y=function(ye){return arguments.length?(this._y=ye,this):this._y};var v=r(15140);function p(ye){return ye.index}function T(ye,we){var ze=ye.get(we);if(!ze)throw new Error("missing: "+we);return ze}function _(ye){var we,ze,Se,Ce,ge,he=p,_e=function(Oe){return 1/Math.min(Ce[Oe.source.index],Ce[Oe.target.index])},Le=E(30),Ie=1;function De(Oe){for(var ke=0,Be=ye.length;ke<Ie;++ke)for(var We,Ge,Ke,et,at,mt,ct,kt=0;kt<Be;++kt)Ge=(We=ye[kt]).source,et=(Ke=We.target).x+Ke.vx-Ge.x-Ge.vx||f(),at=Ke.y+Ke.vy-Ge.y-Ge.vy||f(),et*=mt=((mt=Math.sqrt(et*et+at*at))-ze[kt])/mt*Oe*we[kt],at*=mt,Ke.vx-=et*(ct=ge[kt]),Ke.vy-=at*ct,Ge.vx+=et*(ct=1-ct),Ge.vy+=at*ct}function je(){if(Se){var Oe,ke,Be=Se.length,We=ye.length,Ge=(0,v.UI)(Se,he);for(Oe=0,Ce=new Array(Be);Oe<We;++Oe)(ke=ye[Oe]).index=Oe,"object"!=typeof ke.source&&(ke.source=T(Ge,ke.source)),"object"!=typeof ke.target&&(ke.target=T(Ge,ke.target)),Ce[ke.source.index]=(Ce[ke.source.index]||0)+1,Ce[ke.target.index]=(Ce[ke.target.index]||0)+1;for(Oe=0,ge=new Array(We);Oe<We;++Oe)ge[Oe]=Ce[(ke=ye[Oe]).source.index]/(Ce[ke.source.index]+Ce[ke.target.index]);we=new Array(We),qe(),ze=new Array(We),ve()}}function qe(){if(Se)for(var Oe=0,ke=ye.length;Oe<ke;++Oe)we[Oe]=+_e(ye[Oe],Oe,ye)}function ve(){if(Se)for(var Oe=0,ke=ye.length;Oe<ke;++Oe)ze[Oe]=+Le(ye[Oe],Oe,ye)}return null==ye&&(ye=[]),De.initialize=function(Oe){Se=Oe,je()},De.links=function(Oe){return arguments.length?(ye=Oe,je(),De):ye},De.id=function(Oe){return arguments.length?(he=Oe,De):he},De.iterations=function(Oe){return arguments.length?(Ie=+Oe,De):Ie},De.strength=function(Oe){return arguments.length?(_e="function"==typeof Oe?Oe:E(+Oe),qe(),De):_e},De.distance=function(Oe){return arguments.length?(Le="function"==typeof Oe?Oe:E(+Oe),ve(),De):Le},De}var m={value:function(){}};function w(){for(var ye,we=0,ze=arguments.length,Se={};we<ze;++we){if(!(ye=arguments[we]+"")||ye in Se||/[\s.]/.test(ye))throw new Error("illegal type: "+ye);Se[ye]=[]}return new x(Se)}function x(ye){this._=ye}function b(ye,we){for(var ze,Se=0,Ce=ye.length;Se<Ce;++Se)if((ze=ye[Se]).name===we)return ze.value}function A(ye,we,ze){for(var Se=0,Ce=ye.length;Se<Ce;++Se)if(ye[Se].name===we){ye[Se]=m,ye=ye.slice(0,Se).concat(ye.slice(Se+1));break}return null!=ze&&ye.push({name:we,value:ze}),ye}x.prototype=w.prototype={constructor:x,on:function(ye,we){var ze,Se,Ce=this._,ge=(Se=Ce,(ye+"").trim().split(/^|\s+/).map(function(Le){var Ie="",De=Le.indexOf(".");if(De>=0&&(Ie=Le.slice(De+1),Le=Le.slice(0,De)),Le&&!Se.hasOwnProperty(Le))throw new Error("unknown type: "+Le);return{type:Le,name:Ie}})),he=-1,_e=ge.length;if(!(arguments.length<2)){if(null!=we&&"function"!=typeof we)throw new Error("invalid callback: "+we);for(;++he<_e;)if(ze=(ye=ge[he]).type)Ce[ze]=A(Ce[ze],ye.name,we);else if(null==we)for(ze in Ce)Ce[ze]=A(Ce[ze],ye.name,null);return this}for(;++he<_e;)if((ze=(ye=ge[he]).type)&&(ze=b(Ce[ze],ye.name)))return ze},copy:function(){var ye={},we=this._;for(var ze in we)ye[ze]=we[ze].slice();return new x(ye)},call:function(ye,we){if((ze=arguments.length-2)>0)for(var ze,Se,Ce=new Array(ze),ge=0;ge<ze;++ge)Ce[ge]=arguments[ge+2];if(!this._.hasOwnProperty(ye))throw new Error("unknown type: "+ye);for(ge=0,ze=(Se=this._[ye]).length;ge<ze;++ge)Se[ge].value.apply(we,Ce)},apply:function(ye,we,ze){if(!this._.hasOwnProperty(ye))throw new Error("unknown type: "+ye);for(var Se=this._[ye],Ce=0,ge=Se.length;Ce<ge;++Ce)Se[Ce].value.apply(we,ze)}};var g,I,S=w,O=0,R=0,L=0,N=1e3,j=0,X=0,F=0,Y="object"==typeof performance&&performance.now?performance:Date,G="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(ye){setTimeout(ye,17)};function H(){return X||(G(W),X=Y.now()+F)}function W(){X=0}function Z(){this._call=this._time=this._next=null}function se(ye,we,ze){var Se=new Z;return Se.restart(ye,we,ze),Se}function re(){X=(j=Y.now())+F,O=R=0;try{!function(){H(),++O;for(var ye,we=g;we;)(ye=X-we._time)>=0&&we._call.call(null,ye),we=we._next;--O}()}finally{O=0,function(){for(var ye,we,ze=g,Se=1/0;ze;)ze._call?(Se>ze._time&&(Se=ze._time),ye=ze,ze=ze._next):(we=ze._next,ze._next=null,ze=ye?ye._next=we:g=we);I=ye,Q(Se)}(),X=0}}function ne(){var ye=Y.now(),we=ye-j;we>N&&(F-=we,j=ye)}function Q(ye){O||(R&&(R=clearTimeout(R)),ye-X>24?(ye<1/0&&(R=setTimeout(re,ye-Y.now()-F)),L&&(L=clearInterval(L))):(L||(j=Y.now(),L=setInterval(ne,N)),O=1,G(re)))}function ee(ye){return ye.x}function oe(ye){return ye.y}Z.prototype=se.prototype={constructor:Z,restart:function(ye,we,ze){if("function"!=typeof ye)throw new TypeError("callback is not a function");ze=(null==ze?H():+ze)+(null==we?0:+we),this._next||I===this||(I?I._next=this:g=this,I=this),this._call=ye,this._time=ze,Q()},stop:function(){this._call&&(this._call=null,this._time=1/0,Q())}};var ce=10,fe=Math.PI*(3-Math.sqrt(5));function le(ye){var we,ze=1,Se=.001,Ce=1-Math.pow(Se,1/300),ge=0,he=.6,_e=(0,v.UI)(),Le=se(De),Ie=S("tick","end");function De(){je(),Ie.call("tick",we),ze<Se&&(Le.stop(),Ie.call("end",we))}function je(Oe){var ke,Be,We=ye.length;void 0===Oe&&(Oe=1);for(var Ge=0;Ge<Oe;++Ge)for(ze+=(ge-ze)*Ce,_e.each(function(Ke){Ke(ze)}),ke=0;ke<We;++ke)null==(Be=ye[ke]).fx?Be.x+=Be.vx*=he:(Be.x=Be.fx,Be.vx=0),null==Be.fy?Be.y+=Be.vy*=he:(Be.y=Be.fy,Be.vy=0);return we}function qe(){for(var Oe,ke=0,Be=ye.length;ke<Be;++ke){if((Oe=ye[ke]).index=ke,null!=Oe.fx&&(Oe.x=Oe.fx),null!=Oe.fy&&(Oe.y=Oe.fy),isNaN(Oe.x)||isNaN(Oe.y)){var We=ce*Math.sqrt(ke),Ge=ke*fe;Oe.x=We*Math.cos(Ge),Oe.y=We*Math.sin(Ge)}(isNaN(Oe.vx)||isNaN(Oe.vy))&&(Oe.vx=Oe.vy=0)}}function ve(Oe){return Oe.initialize&&Oe.initialize(ye),Oe}return null==ye&&(ye=[]),qe(),we={tick:je,restart:function(){return Le.restart(De),we},stop:function(){return Le.stop(),we},nodes:function(Oe){return arguments.length?(ye=Oe,qe(),_e.each(ve),we):ye},alpha:function(Oe){return arguments.length?(ze=+Oe,we):ze},alphaMin:function(Oe){return arguments.length?(Se=+Oe,we):Se},alphaDecay:function(Oe){return arguments.length?(Ce=+Oe,we):+Ce},alphaTarget:function(Oe){return arguments.length?(ge=+Oe,we):ge},velocityDecay:function(Oe){return arguments.length?(he=1-Oe,we):1-he},force:function(Oe,ke){return arguments.length>1?(null==ke?_e.remove(Oe):_e.set(Oe,ve(ke)),we):_e.get(Oe)},find:function(Oe,ke,Be){var We,Ge,Ke,et,at,mt=0,ct=ye.length;for(null==Be?Be=1/0:Be*=Be,mt=0;mt<ct;++mt)(Ke=(We=Oe-(et=ye[mt]).x)*We+(Ge=ke-et.y)*Ge)<Be&&(at=et,Be=Ke);return at},on:function(Oe,ke){return arguments.length>1?(Ie.on(Oe,ke),we):Ie.on(Oe)}}}function pe(){var ye,we,ze,Se,Ce=E(-30),ge=1,he=1/0,_e=.81;function Le(qe){var ve,Oe=ye.length,ke=i(ye,ee,oe).visitAfter(De);for(ze=qe,ve=0;ve<Oe;++ve)we=ye[ve],ke.visit(je)}function Ie(){if(ye){var qe,ve,Oe=ye.length;for(Se=new Array(Oe),qe=0;qe<Oe;++qe)Se[(ve=ye[qe]).index]=+Ce(ve,qe,ye)}}function De(qe){var ve,Oe,ke,Be,We,Ge=0,Ke=0;if(qe.length){for(ke=Be=We=0;We<4;++We)(ve=qe[We])&&(Oe=Math.abs(ve.value))&&(Ge+=ve.value,Ke+=Oe,ke+=Oe*ve.x,Be+=Oe*ve.y);qe.x=ke/Ke,qe.y=Be/Ke}else{(ve=qe).x=ve.data.x,ve.y=ve.data.y;do{Ge+=Se[ve.data.index]}while(ve=ve.next)}qe.value=Ge}function je(qe,ve,Oe,ke){if(!qe.value)return!0;var Be=qe.x-we.x,We=qe.y-we.y,Ge=ke-ve,Ke=Be*Be+We*We;if(Ge*Ge/_e<Ke)return Ke<he&&(0===Be&&(Ke+=(Be=f())*Be),0===We&&(Ke+=(We=f())*We),Ke<ge&&(Ke=Math.sqrt(ge*Ke)),we.vx+=Be*qe.value*ze/Ke,we.vy+=We*qe.value*ze/Ke),!0;if(!(qe.length||Ke>=he)){(qe.data!==we||qe.next)&&(0===Be&&(Ke+=(Be=f())*Be),0===We&&(Ke+=(We=f())*We),Ke<ge&&(Ke=Math.sqrt(ge*Ke)));do{qe.data!==we&&(we.vx+=Be*(Ge=Se[qe.data.index]*ze/Ke),we.vy+=We*Ge)}while(qe=qe.next)}}return Le.initialize=function(qe){ye=qe,Ie()},Le.strength=function(qe){return arguments.length?(Ce="function"==typeof qe?qe:E(+qe),Ie(),Le):Ce},Le.distanceMin=function(qe){return arguments.length?(ge=qe*qe,Le):Math.sqrt(ge)},Le.distanceMax=function(qe){return arguments.length?(he=qe*qe,Le):Math.sqrt(he)},Le.theta=function(qe){return arguments.length?(_e=qe*qe,Le):Math.sqrt(_e)},Le}function Me(ye,we,ze){var Se,Ce,ge,he=E(.1);function _e(Ie){for(var De=0,je=Se.length;De<je;++De){var qe=Se[De],ve=qe.x-we||1e-6,Oe=qe.y-ze||1e-6,ke=Math.sqrt(ve*ve+Oe*Oe),Be=(ge[De]-ke)*Ce[De]*Ie/ke;qe.vx+=ve*Be,qe.vy+=Oe*Be}}function Le(){if(Se){var Ie,De=Se.length;for(Ce=new Array(De),ge=new Array(De),Ie=0;Ie<De;++Ie)ge[Ie]=+ye(Se[Ie],Ie,Se),Ce[Ie]=isNaN(ge[Ie])?0:+he(Se[Ie],Ie,Se)}}return"function"!=typeof ye&&(ye=E(+ye)),null==we&&(we=0),null==ze&&(ze=0),_e.initialize=function(Ie){Se=Ie,Le()},_e.strength=function(Ie){return arguments.length?(he="function"==typeof Ie?Ie:E(+Ie),Le(),_e):he},_e.radius=function(Ie){return arguments.length?(ye="function"==typeof Ie?Ie:E(+Ie),Le(),_e):ye},_e.x=function(Ie){return arguments.length?(we=+Ie,_e):we},_e.y=function(Ie){return arguments.length?(ze=+Ie,_e):ze},_e}function Ae(ye){var we,ze,Se,Ce=E(.1);function ge(_e){for(var Le,Ie=0,De=we.length;Ie<De;++Ie)(Le=we[Ie]).vx+=(Se[Ie]-Le.x)*ze[Ie]*_e}function he(){if(we){var _e,Le=we.length;for(ze=new Array(Le),Se=new Array(Le),_e=0;_e<Le;++_e)ze[_e]=isNaN(Se[_e]=+ye(we[_e],_e,we))?0:+Ce(we[_e],_e,we)}}return"function"!=typeof ye&&(ye=E(null==ye?0:+ye)),ge.initialize=function(_e){we=_e,he()},ge.strength=function(_e){return arguments.length?(Ce="function"==typeof _e?_e:E(+_e),he(),ge):Ce},ge.x=function(_e){return arguments.length?(ye="function"==typeof _e?_e:E(+_e),he(),ge):ye},ge}function be(ye){var we,ze,Se,Ce=E(.1);function ge(_e){for(var Le,Ie=0,De=we.length;Ie<De;++Ie)(Le=we[Ie]).vy+=(Se[Ie]-Le.y)*ze[Ie]*_e}function he(){if(we){var _e,Le=we.length;for(ze=new Array(Le),Se=new Array(Le),_e=0;_e<Le;++_e)ze[_e]=isNaN(Se[_e]=+ye(we[_e],_e,we))?0:+Ce(we[_e],_e,we)}}return"function"!=typeof ye&&(ye=E(null==ye?0:+ye)),ge.initialize=function(_e){we=_e,he()},ge.strength=function(_e){return arguments.length?(Ce="function"==typeof _e?_e:E(+_e),he(),ge):Ce},ge.y=function(_e){return arguments.length?(ye="function"==typeof _e?_e:E(+_e),he(),ge):ye},ge}},60721:function(ae,B,r){"use strict";function D(h,v){if((p=(h=v?h.toExponential(v-1):h.toExponential()).indexOf("e"))<0)return null;var p,T=h.slice(0,p);return[T.length>1?T[0]+T.slice(2):T,+h.slice(p+1)]}r.d(B,{WU:function(){return a},FF:function(){return u}});var E,f=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function k(h){if(!(v=f.exec(h)))throw new Error("invalid format: "+h);var v;return new M({fill:v[1],align:v[2],sign:v[3],symbol:v[4],zero:v[5],width:v[6],comma:v[7],precision:v[8]&&v[8].slice(1),trim:v[9],type:v[10]})}function M(h){this.fill=void 0===h.fill?" ":h.fill+"",this.align=void 0===h.align?">":h.align+"",this.sign=void 0===h.sign?"-":h.sign+"",this.symbol=void 0===h.symbol?"":h.symbol+"",this.zero=!!h.zero,this.width=void 0===h.width?void 0:+h.width,this.comma=!!h.comma,this.precision=void 0===h.precision?void 0:+h.precision,this.trim=!!h.trim,this.type=void 0===h.type?"":h.type+""}function y(h,v){var p=D(h,v);if(!p)return h+"";var T=p[0],_=p[1];return _<0?"0."+new Array(-_).join("0")+T:T.length>_+1?T.slice(0,_+1)+"."+T.slice(_+1):T+new Array(_-T.length+2).join("0")}k.prototype=M.prototype,M.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var c={"%":function(h,v){return(100*h).toFixed(v)},b:function(h){return Math.round(h).toString(2)},c:function(h){return h+""},d:function(h){return Math.abs(h=Math.round(h))>=1e21?h.toLocaleString("en").replace(/,/g,""):h.toString(10)},e:function(h,v){return h.toExponential(v)},f:function(h,v){return h.toFixed(v)},g:function(h,v){return h.toPrecision(v)},o:function(h){return Math.round(h).toString(8)},p:function(h,v){return y(100*h,v)},r:y,s:function(h,v){var p=D(h,v);if(!p)return h+"";var T=p[0],_=p[1],m=_-(E=3*Math.max(-8,Math.min(8,Math.floor(_/3))))+1,w=T.length;return m===w?T:m>w?T+new Array(m-w+1).join("0"):m>0?T.slice(0,m)+"."+T.slice(m):"0."+new Array(1-m).join("0")+D(h,Math.max(0,v+m-1))[0]},X:function(h){return Math.round(h).toString(16).toUpperCase()},x:function(h){return Math.round(h).toString(16)}};function i(h){return h}var s,a,o=Array.prototype.map,l=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function u(h){var v,p,S,T=void 0===h.grouping||void 0===h.thousands?i:(v=o.call(h.grouping,Number),p=h.thousands+"",function(S,O){for(var R=S.length,L=[],N=0,j=v[0],X=0;R>0&&j>0&&(X+j+1>O&&(j=Math.max(1,O-X)),L.push(S.substring(R-=j,R+j)),!((X+=j+1)>O));)j=v[N=(N+1)%v.length];return L.reverse().join(p)}),_=void 0===h.currency?"":h.currency[0]+"",m=void 0===h.currency?"":h.currency[1]+"",w=void 0===h.decimal?".":h.decimal+"",x=void 0===h.numerals?i:(S=o.call(h.numerals,String),function(O){return O.replace(/[0-9]/g,function(R){return S[+R]})}),b=void 0===h.percent?"%":h.percent+"",A=void 0===h.minus?"-":h.minus+"",g=void 0===h.nan?"NaN":h.nan+"";function I(S){var O=(S=k(S)).fill,R=S.align,L=S.sign,N=S.symbol,j=S.zero,X=S.width,F=S.comma,Y=S.precision,G=S.trim,H=S.type;"n"===H?(F=!0,H="g"):c[H]||(void 0===Y&&(Y=12),G=!0,H="g"),(j||"0"===O&&"="===R)&&(j=!0,O="0",R="=");var W="$"===N?_:"#"===N&&/[boxX]/.test(H)?"0"+H.toLowerCase():"",Z="$"===N?m:/[%p]/.test(H)?b:"",se=c[H],re=/[defgprs%]/.test(H);function ne(Q){var ee,oe,ce,fe=W,le=Z;if("c"===H)le=se(Q)+le,Q="";else{var pe=(Q=+Q)<0||1/Q<0;if(Q=isNaN(Q)?g:se(Math.abs(Q),Y),G&&(Q=function(be){e:for(var ye,we=be.length,ze=1,Se=-1;ze<we;++ze)switch(be[ze]){case".":Se=ye=ze;break;case"0":0===Se&&(Se=ze),ye=ze;break;default:if(!+be[ze])break e;Se>0&&(Se=0)}return Se>0?be.slice(0,Se)+be.slice(ye+1):be}(Q)),pe&&0==+Q&&"+"!==L&&(pe=!1),fe=(pe?"("===L?L:A:"-"===L||"("===L?"":L)+fe,le=("s"===H?l[8+E/3]:"")+le+(pe&&"("===L?")":""),re)for(ee=-1,oe=Q.length;++ee<oe;)if(48>(ce=Q.charCodeAt(ee))||ce>57){le=(46===ce?w+Q.slice(ee+1):Q.slice(ee))+le,Q=Q.slice(0,ee);break}}F&&!j&&(Q=T(Q,1/0));var Me=fe.length+Q.length+le.length,Ae=Me<X?new Array(X-Me+1).join(O):"";switch(F&&j&&(Q=T(Ae+Q,Ae.length?X-le.length:1/0),Ae=""),R){case"<":Q=fe+Q+le+Ae;break;case"=":Q=fe+Ae+Q+le;break;case"^":Q=Ae.slice(0,Me=Ae.length>>1)+fe+Q+le+Ae.slice(Me);break;default:Q=Ae+fe+Q+le}return x(Q)}return Y=void 0===Y?6:/[gprs]/.test(H)?Math.max(1,Math.min(21,Y)):Math.max(0,Math.min(20,Y)),ne.toString=function(){return S+""},ne}return{format:I,formatPrefix:function(S,O){var R,L=I(((S=k(S)).type="f",S)),N=3*Math.max(-8,Math.min(8,Math.floor((R=O,((R=D(Math.abs(R)))?R[1]:NaN)/3)))),j=Math.pow(10,-N),X=l[8+N/3];return function(F){return L(j*F)+X}}}}s=u({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),a=s.format},65704:function(ae,B,r){"use strict";r.r(B),r.d(B,{geoAiry:function(){return F},geoAiryRaw:function(){return X},geoAitoff:function(){return G},geoAitoffRaw:function(){return Y},geoArmadillo:function(){return W},geoArmadilloRaw:function(){return H},geoAugust:function(){return se},geoAugustRaw:function(){return Z},geoBaker:function(){return ee},geoBakerRaw:function(){return Q},geoBerghaus:function(){return fe},geoBerghausRaw:function(){return ce},geoBertin1953:function(){return ze},geoBertin1953Raw:function(){return we},geoBoggs:function(){return De},geoBoggsRaw:function(){return Ie},geoBonne:function(){return ke},geoBonneRaw:function(){return Oe},geoBottomley:function(){return We},geoBottomleyRaw:function(){return Be},geoBromley:function(){return Ke},geoBromleyRaw:function(){return Ge},geoChamberlin:function(){return pt},geoChamberlinAfrica:function(){return ht},geoChamberlinRaw:function(){return Dt},geoCollignon:function(){return zt},geoCollignonRaw:function(){return Pt},geoCraig:function(){return Lt},geoCraigRaw:function(){return Ht},geoCraster:function(){return Je},geoCrasterRaw:function(){return it},geoCylindricalEqualArea:function(){return gt},geoCylindricalEqualAreaRaw:function(){return ot},geoCylindricalStereographic:function(){return Ue},geoCylindricalStereographicRaw:function(){return ft},geoEckert1:function(){return dt},geoEckert1Raw:function(){return $e},geoEckert2:function(){return At},geoEckert2Raw:function(){return ut},geoEckert3:function(){return St},geoEckert3Raw:function(){return wt},geoEckert4:function(){return Rt},geoEckert4Raw:function(){return _t},geoEckert5:function(){return Tt},geoEckert5Raw:function(){return bt},geoEckert6:function(){return Wt},geoEckert6Raw:function(){return It},geoEisenlohr:function(){return pn},geoEisenlohrRaw:function(){return Qt},geoFahey:function(){return fn},geoFaheyRaw:function(){return nn},geoFoucaut:function(){return Un},geoFoucautRaw:function(){return On},geoFoucautSinusoidal:function(){return on},geoFoucautSinusoidalRaw:function(){return Sn},geoGilbert:function(){return xn},geoGingery:function(){return Wn},geoGingeryRaw:function(){return Rn},geoGinzburg4:function(){return wr},geoGinzburg4Raw:function(){return lr},geoGinzburg5:function(){return mr},geoGinzburg5Raw:function(){return dr},geoGinzburg6:function(){return qt},geoGinzburg6Raw:function(){return Ir},geoGinzburg8:function(){return bn},geoGinzburg8Raw:function(){return tn},geoGinzburg9:function(){return Bn},geoGinzburg9Raw:function(){return Cn},geoGringorten:function(){return Zn},geoGringortenQuincuncial:function(){return Yo},geoGringortenRaw:function(){return yn},geoGuyou:function(){return Ft},geoGuyouRaw:function(){return Nn},geoHammer:function(){return Ae},geoHammerRaw:function(){return pe},geoHammerRetroazimuthal:function(){return Ln},geoHammerRetroazimuthalRaw:function(){return hn},geoHealpix:function(){return hr},geoHealpixRaw:function(){return wn},geoHill:function(){return _r},geoHillRaw:function(){return ir},geoHomolosine:function(){return Qn},geoHomolosineRaw:function(){return Or},geoHufnagel:function(){return nr},geoHufnagelRaw:function(){return Yr},geoHyperelliptical:function(){return uo},geoHyperellipticalRaw:function(){return $i},geoInterrupt:function(){return Qi},geoInterruptedBoggs:function(){return Ys},geoInterruptedHomolosine:function(){return Fs},geoInterruptedMollweide:function(){return ca},geoInterruptedMollweideHemispheres:function(){return nf},geoInterruptedQuarticAuthalic:function(){return fl},geoInterruptedSinuMollweide:function(){return Rf},geoInterruptedSinusoidal:function(){return $r},geoKavrayskiy7:function(){return jo},geoKavrayskiy7Raw:function(){return Cs},geoLagrange:function(){return Vi},geoLagrangeRaw:function(){return cu},geoLarrivee:function(){return El},geoLarriveeRaw:function(){return Wa},geoLaskowski:function(){return Wl},geoLaskowskiRaw:function(){return Xs},geoLittrow:function(){return Dl},geoLittrowRaw:function(){return Cl},geoLoximuthal:function(){return nc},geoLoximuthalRaw:function(){return Il},geoMiller:function(){return rf},geoMillerRaw:function(){return zs},geoModifiedStereographic:function(){return is},geoModifiedStereographicAlaska:function(){return Yl},geoModifiedStereographicGs48:function(){return Hr},geoModifiedStereographicGs50:function(){return Ru},geoModifiedStereographicLee:function(){return du},geoModifiedStereographicMiller:function(){return Br},geoModifiedStereographicRaw:function(){return Mc},geoMollweide:function(){return he},geoMollweideRaw:function(){return ge},geoMtFlatPolarParabolic:function(){return sf},geoMtFlatPolarParabolicRaw:function(){return cl},geoMtFlatPolarQuartic:function(){return Yi},geoMtFlatPolarQuarticRaw:function(){return Fa},geoMtFlatPolarSinusoidal:function(){return os},geoMtFlatPolarSinusoidalRaw:function(){return Qo},geoNaturalEarth:function(){return Mi.Z},geoNaturalEarth2:function(){return Ac},geoNaturalEarth2Raw:function(){return Ks},geoNaturalEarthRaw:function(){return Mi.K},geoNellHammer:function(){return Sc},geoNellHammerRaw:function(){return hu},geoNicolosi:function(){return pu},geoNicolosiRaw:function(){return Zl},geoPatterson:function(){return as},geoPattersonRaw:function(){return Ol},geoPeirceQuincuncial:function(){return Ll},geoPierceQuincuncial:function(){return Ll},geoPolyconic:function(){return oc},geoPolyconicRaw:function(){return Xl},geoPolyhedral:function(){return Pl},geoPolyhedralButterfly:function(){return Xi},geoPolyhedralCollignon:function(){return jr},geoPolyhedralWaterman:function(){return $o},geoProject:function(){return ga},geoQuantize:function(){return co},geoQuincuncial:function(){return Ni},geoRectangularPolyconic:function(){return Lr},geoRectangularPolyconicRaw:function(){return Po},geoRobinson:function(){return vi},geoRobinsonRaw:function(){return nl},geoSatellite:function(){return Nl},geoSatelliteRaw:function(){return js},geoSinuMollweide:function(){return Mr},geoSinuMollweideRaw:function(){return Tr},geoSinusoidal:function(){return ve},geoSinusoidalRaw:function(){return qe},geoStitch:function(){return Lo},geoTimes:function(){return uf},geoTimesRaw:function(){return bo},geoTwoPointAzimuthal:function(){return Ba},geoTwoPointAzimuthalRaw:function(){return wi},geoTwoPointAzimuthalUsa:function(){return Za},geoTwoPointEquidistant:function(){return rl},geoTwoPointEquidistantRaw:function(){return cs},geoTwoPointEquidistantUsa:function(){return fs},geoVanDerGrinten:function(){return ia},geoVanDerGrinten2:function(){return Kr},geoVanDerGrinten2Raw:function(){return Oa},geoVanDerGrinten3:function(){return zu},geoVanDerGrinten3Raw:function(){return ei},geoVanDerGrinten4:function(){return Ql},geoVanDerGrinten4Raw:function(){return Xa},geoVanDerGrintenRaw:function(){return Kl},geoWagner:function(){return Bu},geoWagner4:function(){return ya},geoWagner4Raw:function(){return li},geoWagner6:function(){return ws},geoWagner6Raw:function(){return vl},geoWagner7:function(){return Ra},geoWagnerRaw:function(){return Pa},geoWiechel:function(){return nu},geoWiechelRaw:function(){return Bl},geoWinkel3:function(){return jl},geoWinkel3Raw:function(){return yu}});var D=r(15002),E=Math.abs,f=Math.atan,k=Math.atan2,M=Math.cos,y=Math.exp,c=Math.floor,i=Math.log,s=Math.max,a=Math.min,o=Math.pow,l=Math.round,u=Math.sign||function(V){return V>0?1:V<0?-1:0},h=Math.sin,v=Math.tan,p=1e-6,T=1e-12,_=Math.PI,m=_/2,w=_/4,x=Math.SQRT1_2,b=L(2),A=L(_),g=2*_,I=180/_,S=_/180;function O(V){return V>1?m:V<-1?-m:Math.asin(V)}function R(V){return V>1?0:V<-1?_:Math.acos(V)}function L(V){return V>0?Math.sqrt(V):0}function N(V){return(y(V)-y(-V))/2}function j(V){return(y(V)+y(-V))/2}function X(V){var $=v(V/2),q=2*i(M(V/2))/($*$);function te(xe,Pe){var U=M(xe),ie=M(Pe),de=h(Pe),Te=ie*U,Ee=-((1-Te?i((1+Te)/2)/(1-Te):-.5)+q/(1+Te));return[Ee*ie*h(xe),Ee*de]}return te.invert=function(xe,Pe){var U,ie=L(xe*xe+Pe*Pe),de=-V/2,Te=50;if(!ie)return[0,0];do{var Ee=de/2,Fe=M(Ee),Ye=h(Ee),Xe=Ye/Fe,Qe=-i(E(Fe));de-=U=(2/Xe*Qe-q*Xe-ie)/(-Qe/(Ye*Ye)+1-q/(2*Fe*Fe))*(Fe<0?.7:1)}while(E(U)>p&&--Te>0);var nt=h(de);return[k(xe*nt,ie*M(de)),O(Pe*nt/ie)]},te}function F(){var V=m,$=(0,D.r)(X),q=$(V);return q.radius=function(te){return arguments.length?$(V=te*S):V*I},q.scale(179.976).clipAngle(147)}function Y(V,$){var xe,q=M($),te=(xe=R(q*M(V/=2)))?xe/Math.sin(xe):1;return[2*q*h(V)*te,h($)*te]}function G(){return(0,D.Z)(Y).scale(152.63)}function H(V){var $=h(V),q=M(V),te=V>=0?1:-1,xe=v(te*V),Pe=(1+$-q)/2;function U(ie,de){var Te=M(de),Ee=M(ie/=2);return[(1+Te)*h(ie),(te*de>-k(Ee,xe)-.001?0:10*-te)+Pe+h(de)*q-(1+Te)*$*Ee]}return U.invert=function(ie,de){var Te=0,Ee=0,Fe=50;do{var Ye=M(Te),Xe=h(Te),Qe=M(Ee),nt=h(Ee),lt=1+Qe,xt=lt*Xe-ie,Mt=Pe+nt*q-lt*$*Ye-de,jt=lt*Ye/2,Vt=-Xe*nt,Bt=$*lt*Xe/2,Xt=q*Qe+$*Ye*nt,Ut=Vt*Bt-Xt*jt,mn=(Mt*Vt-xt*Xt)/Ut/2,sn=(xt*Bt-Mt*jt)/Ut;E(sn)>2&&(sn/=2),Te-=mn,Ee-=sn}while((E(mn)>p||E(sn)>p)&&--Fe>0);return te*Ee>-k(M(Te),xe)-.001?[2*Te,Ee]:null},U}function W(){var V=20*S,$=V>=0?1:-1,q=v($*V),te=(0,D.r)(H),xe=te(V),Pe=xe.stream;return xe.parallel=function(U){return arguments.length?(q=v(($=(V=U*S)>=0?1:-1)*V),te(V)):V*I},xe.stream=function(U){var ie=xe.rotate(),de=Pe(U),Te=(xe.rotate([0,0]),Pe(U)),Ee=xe.precision();return xe.rotate(ie),de.sphere=function(){Te.polygonStart(),Te.lineStart();for(var Fe=-180*$;$*Fe<180;Fe+=90*$)Te.point(Fe,90*$);if(V)for(;$*(Fe-=3*$*Ee)>=-180;)Te.point(Fe,$*-k(M(Fe*S/2),q)*I);Te.lineEnd(),Te.polygonEnd()},de},xe.scale(218.695).center([0,28.0974])}function Z(V,$){var q=v($/2),te=L(1-q*q),xe=1+te*M(V/=2),Pe=h(V)*te/xe,U=q/xe,ie=Pe*Pe,de=U*U;return[1.3333333333333333*Pe*(3+ie-3*de),1.3333333333333333*U*(3+3*ie-de)]}function se(){return(0,D.Z)(Z).scale(66.1603)}Y.invert=function(V,$){if(!(V*V+4*$*$>_*_+p)){var q=V,te=$,xe=25;do{var Pe,U=h(q),ie=h(q/2),de=M(q/2),Te=h(te),Ee=M(te),Fe=h(2*te),Ye=Te*Te,Xe=Ee*Ee,Qe=ie*ie,nt=1-Xe*de*de,lt=nt?R(Ee*de)*L(Pe=1/nt):Pe=0,xt=2*lt*Ee*ie-V,Mt=lt*Te-$,jt=Pe*(Xe*Qe+lt*Ee*de*Ye),Vt=Pe*(.5*U*Fe-2*lt*Te*ie),Bt=.25*Pe*(Fe*ie-lt*Te*Xe*U),Xt=Pe*(Ye*de+lt*Qe*Ee),Ut=Vt*Bt-Xt*jt;if(!Ut)break;var mn=(Mt*Vt-xt*Xt)/Ut,sn=(xt*Bt-Mt*jt)/Ut;q-=mn,te-=sn}while((E(mn)>p||E(sn)>p)&&--xe>0);return[q,te]}},Z.invert=function(V,$){if($*=.375,!(V*=.375)&&E($)>1)return null;var Te,q=1+V*V+$*$,te=L((q-L(q*q-4*$*$))/2),xe=O(te)/3,Pe=te?(Te=E($/te),i(Te+L(Te*Te-1))/3):function(Te){return i(Te+L(Te*Te+1))}(E(V))/3,U=M(xe),ie=j(Pe),de=ie*ie-U*U;return[2*u(V)*k(N(Pe)*U,.25-de),2*u($)*k(ie*h(xe),.25+de)]};var re=L(8),ne=i(1+b);function Q(V,$){var q=E($);return q<w?[V,i(v(w+$/2))]:[V*M(q)*(2*b-1/h(q)),u($)*(2*b*(q-w)-i(v(q/2)))]}function ee(){return(0,D.Z)(Q).scale(112.314)}Q.invert=function(V,$){if((te=E($))<ne)return[V,2*f(y($))-m];var q,te,xe=w,Pe=25;do{var U=M(xe/2),ie=v(xe/2);xe-=q=(re*(xe-w)-i(ie)-te)/(re-U*U/(2*ie))}while(E(q)>T&&--Pe>0);return[V/(M(xe)*(re-1/h(xe))),u($)*xe]};var oe=r(17889);function ce(V){var $=2*_/V;function q(te,xe){var Pe=(0,oe.N)(te,xe);if(E(te)>m){var U=k(Pe[1],Pe[0]),ie=L(Pe[0]*Pe[0]+Pe[1]*Pe[1]),de=$*l((U-m)/$)+m,Te=k(h(U-=de),2-M(U));U=de+O(_/ie*h(Te))-Te,Pe[0]=ie*M(U),Pe[1]=ie*h(U)}return Pe}return q.invert=function(te,xe){var Pe=L(te*te+xe*xe);if(Pe>m){var U=k(xe,te),ie=$*l((U-m)/$)+m,de=U>ie?-1:1,Te=Pe*M(ie-U),Ee=1/v(de*R((Te-_)/L(_*(_-2*Te)+Pe*Pe)));U=ie+2*f((Ee+de*L(Ee*Ee-3))/3),te=Pe*M(U),xe=Pe*h(U)}return oe.N.invert(te,xe)},q}function fe(){var V=5,$=(0,D.r)(ce),q=$(V),te=q.stream,xe=.01,Pe=-M(xe*S),U=h(xe*S);return q.lobes=function(ie){return arguments.length?$(V=+ie):V},q.stream=function(ie){var de=q.rotate(),Te=te(ie),Ee=(q.rotate([0,0]),te(ie));return q.rotate(de),Te.sphere=function(){Ee.polygonStart(),Ee.lineStart();for(var Fe=0,Ye=360/V,Xe=2*_/V,Qe=90-180/V,nt=m;Fe<V;++Fe,Qe-=Ye,nt-=Xe)Ee.point(k(U*M(nt),Pe)*I,O(U*h(nt))*I),Qe<-90?(Ee.point(-90,-180-Qe-xe),Ee.point(-90,-180-Qe+xe)):(Ee.point(90,Qe+xe),Ee.point(90,Qe-xe));Ee.lineEnd(),Ee.polygonEnd()},Te},q.scale(87.8076).center([0,17.1875]).clipAngle(179.999)}var le=r(12956);function pe(V,$){if(arguments.length<2&&($=V),1===$)return le.l;if($===1/0)return Me;function q(te,xe){var Pe=(0,le.l)(te/$,xe);return Pe[0]*=V,Pe}return q.invert=function(te,xe){var Pe=le.l.invert(te/V,xe);return Pe[0]*=$,Pe},q}function Me(V,$){return[V*M($)/M($/=2),2*h($)]}function Ae(){var V=2,$=(0,D.r)(pe),q=$(V);return q.coefficient=function(te){return arguments.length?$(V=+te):V},q.scale(169.529)}function be(V,$,q){var te,xe,Pe,U=100;q=void 0===q?0:+q,$=+$;do{(xe=V(q))===(Pe=V(q+p))&&(Pe=xe+p),q-=te=-1*p*(xe-$)/(xe-Pe)}while(U-- >0&&E(te)>p);return U<0?NaN:q}function ye(V,$,q){return void 0===$&&($=40),void 0===q&&(q=T),function(te,xe,Pe,U){var ie,de,Te;Pe=void 0===Pe?0:+Pe,U=void 0===U?0:+U;for(var Ee=0;Ee<$;Ee++){var Fe=V(Pe,U),Ye=Fe[0]-te,Xe=Fe[1]-xe;if(E(Ye)<q&&E(Xe)<q)break;var Qe=Ye*Ye+Xe*Xe;if(Qe>ie)Pe-=de/=2,U-=Te/=2;else{ie=Qe;var nt=(Pe>0?-1:1)*q,lt=(U>0?-1:1)*q,xt=V(Pe+nt,U),Mt=V(Pe,U+lt),jt=(xt[0]-Fe[0])/nt,Vt=(xt[1]-Fe[1])/nt,Bt=(Mt[0]-Fe[0])/lt,Xt=(Mt[1]-Fe[1])/lt,Ut=Xt*jt-Vt*Bt,mn=(E(Ut)<.5?.5:1)/Ut;if(Pe+=de=(Xe*Bt-Ye*Xt)*mn,U+=Te=(Ye*Vt-Xe*jt)*mn,E(de)<q&&E(Te)<q)break}}return[Pe,U]}}function we(){var V=pe(1.68,2);function $(q,te){if(q+te<-1.4){var xe=(q-te+1.6)*(q+te+1.4)/8;q+=xe,te-=.8*xe*h(te+_/2)}var Pe=V(q,te),U=(1-M(q*te))/12;return Pe[1]<0&&(Pe[0]*=1+U),Pe[1]>0&&(Pe[1]*=1+U/1.5*Pe[0]*Pe[0]),Pe}return $.invert=ye($),$}function ze(){return(0,D.Z)(we()).rotate([-16.5,-42]).scale(176.57).center([7.93,.09])}function Se(V,$){var q,te=V*h($),xe=30;do{$-=q=($+h($)-te)/(1+M($))}while(E(q)>p&&--xe>0);return $/2}function Ce(V,$,q){function te(xe,Pe){return[V*xe*M(Pe=Se(q,Pe)),$*h(Pe)]}return te.invert=function(xe,Pe){return Pe=O(Pe/$),[xe/(V*M(Pe)),O((2*Pe+h(2*Pe))/q)]},te}Me.invert=function(V,$){var q=2*O($/2);return[V*M(q/2)/M(q),q]};var ge=Ce(b/m,b,_);function he(){return(0,D.Z)(ge).scale(169.529)}var _e=2.00276,Le=1.11072;function Ie(V,$){var q=Se(_,$);return[_e*V/(1/M($)+Le/M(q)),($+b*h(q))/_e]}function De(){return(0,D.Z)(Ie).scale(160.857)}function je(V){var $=0,q=(0,D.r)(V),te=q($);return te.parallel=function(xe){return arguments.length?q($=xe*S):$*I},te}function qe(V,$){return[V*M($),$]}function ve(){return(0,D.Z)(qe).scale(152.63)}function Oe(V){if(!V)return qe;var $=1/v(V);function q(te,xe){var Pe=$+V-xe,U=Pe&&te*M(xe)/Pe;return[Pe*h(U),$-Pe*M(U)]}return q.invert=function(te,xe){var Pe=L(te*te+(xe=$-xe)*xe),U=$+V-Pe;return[Pe/M(U)*k(te,xe),U]},q}function ke(){return je(Oe).scale(123.082).center([0,26.1441]).parallel(45)}function Be(V){function $(q,te){var xe=m-te,Pe=xe&&q*V*h(xe)/xe;return[xe*h(Pe)/V,m-xe*M(Pe)]}return $.invert=function(q,te){var xe=q*V,Pe=m-te,U=L(xe*xe+Pe*Pe),ie=k(xe,Pe);return[(U?U/h(U):1)*ie/V,m-U]},$}function We(){var V=.5,$=(0,D.r)(Be),q=$(V);return q.fraction=function(te){return arguments.length?$(V=+te):V},q.scale(158.837)}Ie.invert=function(V,$){var q,te,xe=_e*$,Pe=$<0?-w:w,U=25;do{te=xe-b*h(Pe),Pe-=q=(h(2*Pe)+2*Pe-_*h(te))/(2*M(2*Pe)+2+_*M(te)*b*M(Pe))}while(E(q)>p&&--U>0);return te=xe-b*h(Pe),[V*(1/M(te)+Le/M(Pe))/_e,te]},qe.invert=function(V,$){return[V/M($),$]};var Ge=Ce(1,4/_,_);function Ke(){return(0,D.Z)(Ge).scale(152.63)}var et=r(66624),at=r(49386);function mt(V,$,q,te,xe,Pe){var U,ie=M(Pe);if(E(V)>1||E(Pe)>1)U=R(q*xe+$*te*ie);else{var de=h(V/2),Te=h(Pe/2);U=2*O(L(de*de+$*te*Te*Te))}return E(U)>p?[U,k(te*h(Pe),$*xe-q*te*ie)]:[0,0]}function ct(V,$,q){return R((V*V+$*$-q*q)/(2*V*$))}function kt(V){return V-2*_*c((V+_)/(2*_))}function Dt(V,$,q){for(var te,xe=[[V[0],V[1],h(V[1]),M(V[1])],[$[0],$[1],h($[1]),M($[1])],[q[0],q[1],h(q[1]),M(q[1])]],Pe=xe[2],U=0;U<3;++U,Pe=te)Pe.v=mt((te=xe[U])[1]-Pe[1],Pe[3],Pe[2],te[3],te[2],te[0]-Pe[0]),Pe.point=[0,0];var ie=ct(xe[0].v[0],xe[2].v[0],xe[1].v[0]),de=ct(xe[0].v[0],xe[1].v[0],xe[2].v[0]),Te=_-ie;xe[2].point[1]=0,xe[0].point[0]=-(xe[1].point[0]=xe[0].v[0]/2);var Ee=[xe[2].point[0]=xe[0].point[0]+xe[2].v[0]*M(ie),2*(xe[0].point[1]=xe[1].point[1]=xe[2].v[0]*h(ie))];return function(Fe,Ye){var Xe,Qe=h(Ye),nt=M(Ye),lt=new Array(3);for(Xe=0;Xe<3;++Xe){var xt=xe[Xe];if(lt[Xe]=mt(Ye-xt[1],xt[3],xt[2],nt,Qe,Fe-xt[0]),!lt[Xe][0])return xt.point;lt[Xe][1]=kt(lt[Xe][1]-xt.v[1])}var Mt=Ee.slice();for(Xe=0;Xe<3;++Xe){var Vt=ct(xe[Xe].v[0],lt[Xe][0],lt[2==Xe?0:Xe+1][0]);lt[Xe][1]<0&&(Vt=-Vt),Xe?1==Xe?(Mt[0]-=lt[Xe][0]*M(Vt=de-Vt),Mt[1]-=lt[Xe][0]*h(Vt)):(Mt[0]+=lt[Xe][0]*M(Vt=Te-Vt),Mt[1]+=lt[Xe][0]*h(Vt)):(Mt[0]+=lt[Xe][0]*M(Vt),Mt[1]-=lt[Xe][0]*h(Vt))}return Mt[0]/=3,Mt[1]/=3,Mt}}function Et(V){return V[0]*=S,V[1]*=S,V}function ht(){return pt([0,22],[45,22],[22.5,-22]).scale(380).center([22.5,2])}function pt(V,$,q){var te=(0,et.Z)({type:"MultiPoint",coordinates:[V,$,q]}),xe=[-te[0],-te[1]],Pe=(0,at.Z)(xe),U=Dt(Et(Pe(V)),Et(Pe($)),Et(Pe(q)));U.invert=ye(U);var ie=(0,D.Z)(U).rotate(xe),de=ie.center;return delete ie.rotate,ie.center=function(Te){return arguments.length?de(Pe(Te)):Pe.invert(de())},ie.clipAngle(90)}function Pt(V,$){var q=L(1-h($));return[2/A*V*q,A*(1-q)]}function zt(){return(0,D.Z)(Pt).scale(95.6464).center([0,30])}function Ht(V){var $=v(V);function q(te,xe){return[te,(te?te/h(te):1)*(h(xe)*M(te)-$*M(xe))]}return q.invert=$?function(te,xe){te&&(xe*=h(te)/te);var Pe=M(te);return[te,2*k(L(Pe*Pe+$*$-xe*xe)-Pe,$-xe)]}:function(te,xe){return[te,O(te?xe*v(te)/te:xe)]},q}function Lt(){return je(Ht).scale(249.828).clipAngle(90)}Pt.invert=function(V,$){var q=(q=$/A-1)*q;return[q>0?V*L(_/q)/2:0,O(1-q)]};var tt=L(3);function it(V,$){return[tt*V*(2*M(2*$/3)-1)/A,tt*A*h($/3)]}function Je(){return(0,D.Z)(it).scale(156.19)}function ot(V){var $=M(V);function q(te,xe){return[te*$,h(xe)/$]}return q.invert=function(te,xe){return[te/$,O(xe*$)]},q}function gt(){return je(ot).parallel(38.58).scale(195.044)}function ft(V){var $=M(V);function q(te,xe){return[te*$,(1+$)*v(xe/2)]}return q.invert=function(te,xe){return[te/$,2*f(xe/(1+$))]},q}function Ue(){return je(ft).scale(124.75)}function $e(V,$){var q=L(8/(3*_));return[q*V*(1-E($)/_),q*$]}function dt(){return(0,D.Z)($e).scale(165.664)}function ut(V,$){var q=L(4-3*h(E($)));return[2/L(6*_)*V*q,u($)*L(2*_/3)*(2-q)]}function At(){return(0,D.Z)(ut).scale(165.664)}function wt(V,$){var q=L(_*(4+_));return[2/q*V*(1+L(1-4*$*$/(_*_))),4/q*$]}function St(){return(0,D.Z)(wt).scale(180.739)}function _t(V,$){var q=(2+m)*h($);$/=2;for(var te=0,xe=1/0;te<10&&E(xe)>p;te++){var Pe=M($);$-=xe=($+h($)*(Pe+2)-q)/(2*Pe*(1+Pe))}return[2/L(_*(4+_))*V*(1+M($)),2*L(_/(4+_))*h($)]}function Rt(){return(0,D.Z)(_t).scale(180.739)}function bt(V,$){return[V*(1+M($))/L(2+_),2*$/L(2+_)]}function Tt(){return(0,D.Z)(bt).scale(173.044)}function It(V,$){for(var q=(1+m)*h($),te=0,xe=1/0;te<10&&E(xe)>p;te++)$-=xe=($+h($)-q)/(1+M($));return q=L(2+_),[V*(1+M($))/q,2*$/q]}function Wt(){return(0,D.Z)(It).scale(173.044)}it.invert=function(V,$){var q=3*O($/(tt*A));return[A*V/(tt*(2*M(2*q/3)-1)),q]},$e.invert=function(V,$){var q=L(8/(3*_)),te=$/q;return[V/(q*(1-E(te)/_)),te]},ut.invert=function(V,$){var q=2-E($)/L(2*_/3);return[V*L(6*_)/(2*q),u($)*O((4-q*q)/3)]},wt.invert=function(V,$){var q=L(_*(4+_))/2;return[V*q/(1+L(1-$*$*(4+_)/(4*_))),$*q/2]},_t.invert=function(V,$){var q=$*L((4+_)/_)/2,te=O(q),xe=M(te);return[V/(2/L(_*(4+_))*(1+xe)),O((te+q*(xe+2))/(2+m))]},bt.invert=function(V,$){var q=L(2+_),te=$*q/2;return[q*V/(1+M(te)),te]},It.invert=function(V,$){var q=1+m,te=L(q/2);return[2*V*te/(1+M($*=te)),O(($+h($))/q)]};var $t=3+2*b;function Qt(V,$){var q=h(V/=2),te=M(V),xe=L(M($)),Pe=M($/=2),U=h($)/(Pe+b*te*xe),ie=L(2/(1+U*U)),de=L((b*Pe+(te+q)*xe)/(b*Pe+(te-q)*xe));return[$t*(ie*(de-1/de)-2*i(de)),$t*(ie*U*(de+1/de)-2*f(U))]}function pn(){return(0,D.Z)(Qt).scale(62.5271)}Qt.invert=function(V,$){if(!(q=Z.invert(V/1.2,1.065*$)))return null;var q,te=q[0],xe=q[1],Pe=20;V/=$t,$/=$t;do{var U=te/2,ie=xe/2,de=h(U),Te=M(U),Ee=h(ie),Fe=M(ie),Ye=M(xe),Xe=L(Ye),Qe=Ee/(Fe+b*Te*Xe),nt=Qe*Qe,lt=L(2/(1+nt)),xt=(b*Fe+(Te+de)*Xe)/(b*Fe+(Te-de)*Xe),Mt=L(xt),jt=Mt-1/Mt,Vt=Mt+1/Mt,Bt=lt*jt-2*i(Mt)-V,Xt=lt*Qe*Vt-2*f(Qe)-$,Ut=Ee&&x*Xe*de*nt/Ee,mn=(b*Te*Fe+Xe)/(2*(Fe+b*Te*Xe)*(Fe+b*Te*Xe)*Xe),sn=-.5*Qe*lt*lt*lt,rn=sn*Ut,In=sn*mn,Pn=(Pn=2*Fe+b*Xe*(Te-de))*Pn*Mt,tr=(b*Te*Fe*Xe+Ye)/Pn,rr=-b*de*Ee/(Xe*Pn),pr=jt*rn-2*tr/Mt+lt*(tr+tr/xt),yr=jt*In-2*rr/Mt+lt*(rr+rr/xt),Er=Qe*Vt*rn-2*Ut/(1+nt)+lt*Vt*Ut+lt*Qe*(tr-tr/xt),Sr=Qe*Vt*In-2*mn/(1+nt)+lt*Vt*mn+lt*Qe*(rr-rr/xt),Rr=yr*Er-Sr*pr;if(!Rr)break;var qr=(Xt*yr-Bt*Sr)/Rr,oi=(Bt*Er-Xt*pr)/Rr;te-=qr,xe=s(-m,a(m,xe-oi))}while((E(qr)>p||E(oi)>p)&&--Pe>0);return E(E(xe)-m)<p?[0,xe]:Pe&&[te,xe]};var en=M(35*S);function nn(V,$){var q=v($/2);return[V*en*L(1-q*q),(1+en)*q]}function fn(){return(0,D.Z)(nn).scale(137.152)}function On(V,$){var q=$/2,te=M(q);return[2*V/A*M($)*te*te,A*v(q)]}function Un(){return(0,D.Z)(On).scale(135.264)}function Sn(V){var $=1-V,q=xe(_,0)[0]-xe(-_,0)[0],te=L(2*(xe(0,m)[1]-xe(0,-m)[1])/q);function xe(ie,de){var Te=M(de),Ee=h(de);return[Te/($+V*Te)*ie,$*de+V*Ee]}function Pe(ie,de){var Te=xe(ie,de);return[Te[0]*te,Te[1]/te]}function U(ie){return Pe(0,ie)[1]}return Pe.invert=function(ie,de){var Te=be(U,de);return[ie/te*(V+$/M(Te)),Te]},Pe}function on(){var V=.5,$=(0,D.r)(Sn),q=$(V);return q.alpha=function(te){return arguments.length?$(V=+te):V},q.scale(168.725)}nn.invert=function(V,$){var q=$/(1+en);return[V&&V/(en*L(1-q*q)),2*f(q)]},On.invert=function(V,$){var q=f($/A),te=M(q),xe=2*q;return[V*A/2/(M(xe)*te*te),xe]};var vn=r(57962),un=r(97492);function Tn(V){return[V[0]/2,O(v(V[1]/2*S))*I]}function kn(V){return[2*V[0],2*f(h(V[1]*S))*I]}function xn(V){null==V&&(V=vn.Z);var $=V(),q=(0,un.Z)().scale(I).precision(0).clipAngle(null).translate([0,0]);function te(Pe){return $(Tn(Pe))}function xe(Pe){te[Pe]=function(){return arguments.length?($[Pe].apply($,arguments),te):$[Pe]()}}return $.invert&&(te.invert=function(Pe){return kn($.invert(Pe))}),te.stream=function(Pe){var U=$.stream(Pe),ie=q.stream({point:function(de,Te){U.point(de/2,O(v(-Te/2*S))*I)},lineStart:function(){U.lineStart()},lineEnd:function(){U.lineEnd()},polygonStart:function(){U.polygonStart()},polygonEnd:function(){U.polygonEnd()}});return ie.sphere=U.sphere,ie},te.rotate=function(Pe){return arguments.length?(q.rotate(Pe),te):q.rotate()},te.center=function(Pe){return arguments.length?($.center(Tn(Pe)),te):kn($.center())},xe("angle"),xe("clipAngle"),xe("clipExtent"),xe("fitExtent"),xe("fitHeight"),xe("fitSize"),xe("fitWidth"),xe("scale"),xe("translate"),xe("precision"),te.scale(249.5)}function Rn(V,$){var q=2*_/$,te=V*V;function xe(Pe,U){var ie=(0,oe.N)(Pe,U),de=ie[0],Te=ie[1],Ee=de*de+Te*Te;if(Ee>te){var Fe=L(Ee),Ye=k(Te,de),Xe=q*l(Ye/q),Qe=Ye-Xe,nt=V*M(Qe),lt=(V*h(Qe)-Qe*h(nt))/(m-nt),xt=Hn(Qe,lt),Mt=(_-V)/En(xt,nt,_);de=Fe;var jt,Vt=50;do{de-=jt=(V+En(xt,nt,de)*Mt-Fe)/(xt(de)*Mt)}while(E(jt)>p&&--Vt>0);Te=Qe*h(de),de<m&&(Te-=lt*(de-m));var Bt=h(Xe),Xt=M(Xe);ie[0]=de*Xt-Te*Bt,ie[1]=de*Bt+Te*Xt}return ie}return xe.invert=function(Pe,U){var ie=Pe*Pe+U*U;if(ie>te){var de=L(ie),Te=k(U,Pe),Ee=q*l(Te/q),Fe=Te-Ee;Pe=de*M(Fe),U=de*h(Fe);for(var Ye=Pe-m,Xe=h(Pe),Qe=U/Xe,nt=Pe<m?1/0:0,lt=10;;){var xt=V*h(Qe),Mt=V*M(Qe),jt=h(Mt),Vt=m-Mt,Bt=(xt-Qe*jt)/Vt,Xt=Hn(Qe,Bt);if(E(nt)<T||! --lt)break;Qe-=nt=(Qe*Xe-Bt*Ye-U)/(Xe-2*Ye*(Vt*(Mt+Qe*xt*M(Mt)-jt)-xt*(xt-Qe*jt))/(Vt*Vt))}Pe=(de=V+En(Xt,Mt,Pe)*(_-V)/En(Xt,Mt,_))*M(Te=Ee+Qe),U=de*h(Te)}return oe.N.invert(Pe,U)},xe}function Hn(V,$){return function(q){var te=V*M(q);return q<m&&(te-=$),L(1+te*te)}}function En(V,$,q){for(var te=(q-$)/50,xe=V($)+V(q),Pe=1,U=$;Pe<50;++Pe)xe+=2*V(U+=te);return.5*xe*te}function Wn(){var V=6,$=30*S,q=M($),te=h($),xe=(0,D.r)(Rn),Pe=xe($,V),U=Pe.stream,ie=-M(.01*S),de=h(.01*S);return Pe.radius=function(Te){return arguments.length?(q=M($=Te*S),te=h($),xe($,V)):$*I},Pe.lobes=function(Te){return arguments.length?xe($,V=+Te):V},Pe.stream=function(Te){var Ee=Pe.rotate(),Fe=U(Te),Ye=(Pe.rotate([0,0]),U(Te));return Pe.rotate(Ee),Fe.sphere=function(){Ye.polygonStart(),Ye.lineStart();for(var Xe=0,Qe=2*_/V,nt=0;Xe<V;++Xe,nt-=Qe)Ye.point(k(de*M(nt),ie)*I,O(de*h(nt))*I),Ye.point(k(te*M(nt-Qe/2),q)*I,O(te*h(nt-Qe/2))*I);Ye.lineEnd(),Ye.polygonEnd()},Fe},Pe.rotate([90,-40]).scale(91.7095).clipAngle(179.999)}function gr(V,$,q,te,xe,Pe,U,ie){function de(Te,Ee){if(!Ee)return[V*Te/_,0];var Fe=Ee*Ee,Ye=V+Fe*($+Fe*(q+Fe*te)),Xe=Ee*(xe-1+Fe*(Pe-ie+Fe*U)),Qe=(Ye*Ye+Xe*Xe)/(2*Xe),nt=Te*O(Ye/Qe)/_;return[Qe*h(nt),Ee*(1+Fe*ie)+Qe*(1-M(nt))]}return arguments.length<8&&(ie=0),de.invert=function(Te,Ee){var Fe,Ye,Xe=_*Te/V,Qe=Ee,nt=50;do{var lt=Qe*Qe,xt=V+lt*($+lt*(q+lt*te)),Mt=Qe*(xe-1+lt*(Pe-ie+lt*U)),jt=xt*xt+Mt*Mt,Vt=2*Mt,Bt=jt/Vt,Xt=Bt*Bt,Ut=O(xt/Bt)/_,mn=Xe*Ut,sn=xt*xt,rn=(2*$+lt*(4*q+6*lt*te))*Qe,In=xe+lt*(3*Pe+5*lt*U),Pn=(2*(xt*rn+Mt*(In-1))*Vt-jt*(2*(In-1)))/(Vt*Vt),tr=M(mn),rr=h(mn),pr=Bt*tr,yr=Bt*rr,Er=Xe/_*(1/L(1-sn/Xt))*(rn*Bt-xt*Pn)/Xt,Sr=yr-Te,Rr=Qe*(1+lt*ie)+Bt-pr-Ee,qr=Pn*rr+pr*Er,oi=pr*Ut,cr=1+Pn-(Pn*tr-yr*Er),Ar=yr*Ut,Nr=qr*Ar-cr*oi;if(!Nr)break;Xe-=Fe=(Rr*qr-Sr*cr)/Nr,Qe-=Ye=(Sr*Ar-Rr*oi)/Nr}while((E(Fe)>p||E(Ye)>p)&&--nt>0);return[Xe,Qe]},de}var lr=gr(2.8284,-1.6988,.75432,-.18071,1.76003,-.38914,.042555);function wr(){return(0,D.Z)(lr).scale(149.995)}var dr=gr(2.583819,-.835827,.170354,-.038094,1.543313,-.411435,.082742);function mr(){return(0,D.Z)(dr).scale(153.93)}var Ir=gr(5/6*_,-.62636,-.0344,0,1.3493,-.05524,0,.045);function qt(){return(0,D.Z)(Ir).scale(130.945)}function tn(V,$){var q=V*V,te=$*$;return[V*(1-.162388*te)*(.87-952426e-9*q*q),$*(1+te/12)]}function bn(){return(0,D.Z)(tn).scale(131.747)}tn.invert=function(V,$){var q,te=V,xe=$,Pe=50;do{var U=xe*xe;xe-=q=(xe*(1+U/12)-$)/(1+U/4)}while(E(q)>p&&--Pe>0);Pe=50,V/=1-.162388*U;do{var ie=(ie=te*te)*ie;te-=q=(te*(.87-952426e-9*ie)-V)/(.87-.00476213*ie)}while(E(q)>p&&--Pe>0);return[te,xe]};var Cn=gr(2.6516,-.76534,.19123,-.047094,1.36289,-.13965,.031762);function Bn(){return(0,D.Z)(Cn).scale(131.087)}function sr(V){var $=V(m,0)[0]-V(-m,0)[0];function q(te,xe){var Pe=te>0?-.5:.5,U=V(te+Pe*_,xe);return U[0]-=Pe*$,U}return V.invert&&(q.invert=function(te,xe){var Pe=te>0?-.5:.5,U=V.invert(te+Pe*$,xe),ie=U[0]-Pe*_;return ie<-_?ie+=2*_:ie>_&&(ie-=2*_),U[0]=ie,U}),q}function yn(V,$){var q=u(V),te=u($),xe=M($),Pe=M(V)*xe,U=h(V)*xe,ie=h(te*$);V=E(k(U,ie)),$=O(Pe),E(V-m)>p&&(V%=m);var de=function(Te,Ee){if(Ee===m)return[0,0];var Fe,Ye,Xe=h(Ee),Qe=Xe*Xe,nt=Qe*Qe,lt=1+nt,xt=1+3*nt,Mt=1-nt,jt=O(1/L(lt)),Vt=Mt+Qe*lt*jt,Bt=(1-Xe)/Vt,Xt=L(Bt),Ut=Bt*lt,mn=L(Ut),sn=Xt*Mt;if(0===Te)return[0,-(sn+Qe*mn)];var rn,In=M(Ee),Pn=1/In,tr=2*Xe*In,rr=(-Vt*In-(-3*Qe+jt*xt)*tr*(1-Xe))/(Vt*Vt),pr=-Pn*tr,yr=-Pn*(Qe*lt*rr+Bt*xt*tr),Er=-2*Pn*(Mt*(.5*rr/Xt)-2*Qe*Xt*tr),Sr=4*Te/_;if(Te>.222*_||Ee<_/4&&Te>.175*_){if(Fe=(sn+Qe*L(Ut*(1+nt)-sn*sn))/(1+nt),Te>_/4)return[Fe,Fe];var Rr=Fe,qr=.5*Fe;Fe=.5*(qr+Rr),Ye=50;do{var oi=Fe*(Er+pr*L(Ut-Fe*Fe))+yr*O(Fe/mn)-Sr;if(!oi)break;oi<0?qr=Fe:Rr=Fe,Fe=.5*(qr+Rr)}while(E(Rr-qr)>p&&--Ye>0)}else{Fe=p,Ye=25;do{var cr=Fe*Fe,Ar=L(Ut-cr),Nr=Er+pr*Ar,Wr=Fe*Nr+yr*O(Fe/mn)-Sr;Fe-=rn=Ar?Wr/(Nr+(yr-pr*cr)/Ar):0}while(E(rn)>p&&--Ye>0)}return[Fe,-sn-Qe*L(Ut-Fe*Fe)]}(V>_/4?m-V:V,$);return V>_/4&&(ie=de[0],de[0]=-de[1],de[1]=-ie),de[0]*=q,de[1]*=-te,de}function Zn(){return(0,D.Z)(sr(yn)).scale(239.75)}function Xn(V,$){var q,te,xe,Pe,U,ie;if($<p)return[(Pe=h(V))-(q=$*(V-Pe*(te=M(V)))/4)*te,te+q*Pe,1-$*Pe*Pe/2,V-q];if($>=1-p)return q=(1-$)/4,xe=1/(te=j(V)),[(Pe=((ie=y(2*(ie=V)))-1)/(ie+1))+q*((U=te*N(V))-V)/(te*te),xe-q*Pe*xe*(U-V),xe+q*Pe*xe*(U+V),2*f(y(V))-m+q*(U-V)/te];var de=[1,0,0,0,0,0,0,0,0],Te=[L($),0,0,0,0,0,0,0,0],Ee=0;for(te=L(1-$),U=1;E(Te[Ee]/de[Ee])>p&&Ee<8;)q=de[Ee++],Te[Ee]=(q-te)/2,de[Ee]=(q+te)/2,te=L(q*te),U*=2;xe=U*de[Ee]*V;do{xe=(O(Pe=Te[Ee]*h(te=xe)/de[Ee])+xe)/2}while(--Ee);return[h(xe),Pe=M(xe),Pe/M(xe-te),xe]}function Jt(V,$){if(!$)return V;if(1===$)return i(v(V/2+w));for(var q=1,te=L(1-$),xe=L($),Pe=0;E(xe)>p;Pe++){if(V%_){var U=f(te*v(V)/q);U<0&&(U+=_),V+=U+~~(V/_)*_}else V+=V;xe=(q+te)/2,te=L(q*te),xe=((q=xe)-te)/2}return V/(o(2,Pe)*q)}function Nn(V,$){var Te,Ee,Fe,Ye,Xe,q=(b-1)/(b+1),te=L(1-q*q),xe=Jt(m,te*te),Pe=i(v(_/4+E($)/2)),U=y(-1*Pe)/L(q),ie=(Te=U*M(-1*V),Ye=(Ee=U*h(-1*V))+1,[.5*((Te>=0?m:-m)-k(Xe=1-(Fe=Te*Te)-Ee*Ee,2*Te)),-.25*i(Xe*Xe+4*Fe)+.5*i(Ye*Ye+Fe)]),de=function(Te,Ee,Fe){var Ye=E(Te),Xe=N(E(Ee));if(Ye){var Qe=1/h(Ye),nt=1/(v(Ye)*v(Ye)),lt=-(nt+Fe*(Xe*Xe*Qe*Qe)-1+Fe),xt=(-lt+L(lt*lt-(Fe-1)*nt*4))/2;return[Jt(f(1/L(xt)),Fe)*u(Te),Jt(f(L((xt/nt-1)/Fe)),1-Fe)*u(Ee)]}return[0,Jt(f(Xe),1-Fe)*u(Ee)]}(ie[0],ie[1],te*te);return[-de[1],($>=0?1:-1)*(.5*xe-de[0])]}function Ft(){return(0,D.Z)(sr(Nn)).scale(151.496)}yn.invert=function(V,$){E(V)>1&&(V=2*u(V)-V),E($)>1&&($=2*u($)-$);var q=u(V),te=u($),xe=-q*V,Pe=-te*$,U=Pe/xe<1,ie=function(Fe,Ye){for(var Xe=0,Qe=1,nt=.5,lt=50;;){var xt=nt*nt,Mt=L(nt),jt=O(1/L(1+xt)),Vt=1-xt+nt*(1+xt)*jt,Bt=(1-Mt)/Vt,Xt=L(Bt),Ut=Bt*(1+xt),mn=Xt*(1-xt),sn=L(Ut-Fe*Fe),rn=Ye+mn+nt*sn;if(E(Qe-Xe)<T||0==--lt||0===rn)break;rn>0?Xe=nt:Qe=nt,nt=.5*(Xe+Qe)}if(!lt)return null;var In=O(Mt),Pn=M(In),tr=1/Pn,rr=2*Mt*Pn,pr=(-Vt*Pn-(-3*nt+jt*(1+3*xt))*rr*(1-Mt))/(Vt*Vt);return[_/4*(Fe*(-2*tr*(.5*pr/Xt*(1-xt)-2*nt*Xt*rr)+-tr*rr*sn)+-tr*(nt*(1+xt)*pr+Bt*(1+3*xt)*rr)*O(Fe/L(Ut))),In]}(U?Pe:xe,U?xe:Pe),de=ie[0],Te=ie[1],Ee=M(Te);return U&&(de=-m-de),[q*(k(h(de)*Ee,-h(Te))+_),te*O(M(de)*Ee)]},Nn.invert=function(V,$){var q,te,xe,Pe,U,ie,Ye,Xe,Qe,de=(b-1)/(b+1),Te=L(1-de*de),Ee=(te=-V,xe=Te*Te,(q=.5*Jt(m,Te*Te)-$)?(Pe=Xn(q,xe),te?(ie=(U=Xn(te,1-xe))[1]*U[1]+xe*Pe[0]*Pe[0]*U[0]*U[0],[[Pe[0]*U[2]/ie,Pe[1]*Pe[2]*U[0]*U[1]/ie],[Pe[1]*U[1]/ie,-Pe[0]*Pe[2]*U[0]*U[2]/ie],[Pe[2]*U[1]*U[2]/ie,-xe*Pe[0]*Pe[1]*U[0]/ie]]):[[Pe[0],0],[Pe[1],0],[Pe[2],0]]):[[0,(U=Xn(te,1-xe))[0]/U[1]],[1/U[1],0],[U[2]/U[1],0]]),Fe=[((Ye=Ee[0])[0]*(Xe=Ee[1])[0]+Ye[1]*Xe[1])/(Qe=Xe[0]*Xe[0]+Xe[1]*Xe[1]),(Ye[1]*Xe[0]-Ye[0]*Xe[1])/Qe];return[k(Fe[1],Fe[0])/-1,2*f(y(-.5*i(de*Fe[0]*Fe[0]+de*Fe[1]*Fe[1])))-m]};var an=r(7613);function hn(V){var $=h(V),q=M(V),te=Dn(V);function xe(Pe,U){var ie=te(Pe,U);Pe=ie[0];var de=h(U=ie[1]),Te=M(U),Ee=M(Pe),Fe=R($*de+q*Te*Ee),Ye=h(Fe),Xe=E(Ye)>p?Fe/Ye:1;return[Xe*q*h(Pe),(E(Pe)>m?Xe:-Xe)*($*Te-q*de*Ee)]}return te.invert=Dn(-V),xe.invert=function(Pe,U){var ie=L(Pe*Pe+U*U),de=-h(ie),Te=M(ie),Ee=ie*Te,Fe=-U*de,Ye=ie*$,Xe=L(Ee*Ee+Fe*Fe-Ye*Ye),Qe=k(Ee*Ye+Fe*Xe,Fe*Ye-Ee*Xe),nt=(ie>m?-1:1)*k(Pe*de,ie*M(Qe)*Te+U*h(Qe)*de);return te.invert(nt,Qe)},xe}function Dn(V){var $=h(V),q=M(V);return function(te,xe){var Pe=M(xe),U=M(te)*Pe,ie=h(te)*Pe,de=h(xe);return[k(ie,U*q-de*$),O(de*q+U*$)]}}function Ln(){var V=0,$=(0,D.r)(hn),q=$(V),te=q.rotate,xe=q.stream,Pe=(0,an.Z)();return q.parallel=function(U){if(!arguments.length)return V*I;var ie=q.rotate();return $(V=U*S).rotate(ie)},q.rotate=function(U){return arguments.length?(te.call(q,[U[0],U[1]-V*I]),Pe.center([-U[0],-U[1]]),q):((U=te.call(q))[1]+=V*I,U)},q.stream=function(U){return(U=xe(U)).sphere=function(){U.polygonStart();var ie,de=Pe.radius(89.99)().coordinates[0],Te=de.length-1,Ee=-1;for(U.lineStart();++Ee<Te;)U.point((ie=de[Ee])[0],ie[1]);for(U.lineEnd(),Te=(de=Pe.radius(90.01)().coordinates[0]).length-1,U.lineStart();--Ee>=0;)U.point((ie=de[Ee])[0],ie[1]);U.lineEnd(),U.polygonEnd()},U},q.scale(79.4187).parallel(45).clipAngle(179.999)}var Vn=r(33064),Mn=r(72736),ln=O(1-1/3)*I,cn=ot(0);function wn(V){var $=ln*S,q=Pt(_,$)[0]-Pt(-_,$)[0],te=cn(0,$)[1],xe=Pt(0,$)[1],Pe=A-xe,U=g/V,ie=4/g,de=te+Pe*Pe*4/g;function Te(Ee,Fe){var Ye,Xe=E(Fe);if(Xe>$){var Qe=a(V-1,s(0,c((Ee+_)/U)));(Ye=Pt(Ee+=_*(V-1)/V-Qe*U,Xe))[0]=Ye[0]*g/q-g*(V-1)/(2*V)+Qe*g/V,Ye[1]=te+4*(Ye[1]-xe)*Pe/g,Fe<0&&(Ye[1]=-Ye[1])}else Ye=cn(Ee,Fe);return Ye[0]*=ie,Ye[1]/=de,Ye}return Te.invert=function(Ee,Fe){Ee/=ie;var Ye=E(Fe*=de);if(Ye>te){var Xe=a(V-1,s(0,c((Ee+_)/U))),Qe=Pt.invert(Ee=(Ee+_*(V-1)/V-Xe*U)*q/g,.25*(Ye-te)*g/Pe+xe);return Qe[0]-=_*(V-1)/V-Xe*U,Fe<0&&(Qe[1]=-Qe[1]),Qe}return cn.invert(Ee,Fe)},Te}function An(V,$){return[V,1&$?90-p:ln]}function Gn(V,$){return[V,1&$?-90+p:-ln]}function Yn(V){return[V[0]*(1-p),V[1]]}function hr(){var V=4,$=(0,D.r)(wn),q=$(V),te=q.stream;return q.lobes=function(xe){return arguments.length?$(V=+xe):V},q.stream=function(xe){var Pe=q.rotate(),U=te(xe),ie=(q.rotate([0,0]),te(xe));return q.rotate(Pe),U.sphere=function(){var de,Te;(0,Mn.Z)((Te=[].concat((0,Vn.w6)(-180,180+(de=180/V)/2,de).map(An),(0,Vn.w6)(180,-180-de/2,-de).map(Gn)),{type:"Polygon",coordinates:[180===de?Te.map(Yn):Te]}),ie)},U},q.scale(239.75)}function ir(V){var $,q=1+V,te=O(h(1/q)),xe=2*L(_/($=_+4*te*q)),Pe=.5*xe*(q+L(V*(2+V))),U=V*V,ie=q*q;function de(Te,Ee){var Fe,Ye,Xe=1-h(Ee);if(Xe&&Xe<2){var Qe,nt=m-Ee,lt=25;do{var xt=h(nt),Mt=M(nt),jt=te+k(xt,q-Mt),Vt=1+ie-2*q*Mt;nt-=Qe=(nt-U*te-q*xt+Vt*jt-.5*Xe*$)/(2*q*xt*jt)}while(E(Qe)>T&&--lt>0);Fe=xe*L(Vt),Ye=Te*jt/_}else Fe=xe*(V+Xe),Ye=Te*te/_;return[Fe*h(Ye),Pe-Fe*M(Ye)]}return de.invert=function(Te,Ee){var Fe=Te*Te+(Ee-=Pe)*Ee,Ye=(1+ie-Fe/(xe*xe))/(2*q),Xe=R(Ye),Qe=h(Xe),nt=te+k(Qe,q-Ye);return[O(Te/L(Fe))*_/nt,O(1-2*(Xe-U*te-q*Qe+(1+ie-2*q*Ye)*nt)/$)]},de}function _r(){var V=1,$=(0,D.r)(ir),q=$(V);return q.ratio=function(te){return arguments.length?$(V=+te):V},q.scale(167.774).center([0,18.67])}var ur=.7109889596207567,or=.0528035274542;function Tr(V,$){return $>-ur?((V=ge(V,$))[1]+=or,V):qe(V,$)}function Mr(){return(0,D.Z)(Tr).rotate([-20,-55]).scale(164.263).center([0,-5.4036])}function Or(V,$){return E($)>ur?((V=ge(V,$))[1]-=$>0?or:-or,V):qe(V,$)}function Qn(){return(0,D.Z)(Or).scale(152.63)}function Yr(V,$,q,te){var xe=L(4*_/(2*q+(1+V-$/2)*h(2*q)+(V+$)/2*h(4*q)+$/2*h(6*q))),Pe=L(te*h(q)*L((1+V*M(2*q)+$*M(4*q))/(1+V+$))),U=q*de(1);function ie(Fe){return L(1+V*M(2*Fe)+$*M(4*Fe))}function de(Fe){var Ye=Fe*q;return(2*Ye+(1+V-$/2)*h(2*Ye)+(V+$)/2*h(4*Ye)+$/2*h(6*Ye))/q}function Te(Fe){return ie(Fe)*h(Fe)}var Ee=function(Fe,Ye){var Xe=q*be(de,U*h(Ye)/q,Ye/_);isNaN(Xe)&&(Xe=q*u(Ye));var Qe=xe*ie(Xe);return[Qe*Pe*Fe/_*M(Xe),Qe/Pe*h(Xe)]};return Ee.invert=function(Fe,Ye){var Xe=be(Te,Ye*Pe/xe);return[Fe*_/(M(Xe)*xe*Pe*ie(Xe)),O(q*de(Xe/q)/U)]},0===q&&(xe=L(te/_),(Ee=function(Fe,Ye){return[Fe*xe,h(Ye)/xe]}).invert=function(Fe,Ye){return[Fe/xe,O(Ye*xe)]}),Ee}function nr(){var V=1,$=0,q=45*S,te=2,xe=(0,D.r)(Yr),Pe=xe(V,$,q,te);return Pe.a=function(U){return arguments.length?xe(V=+U,$,q,te):V},Pe.b=function(U){return arguments.length?xe(V,$=+U,q,te):$},Pe.psiMax=function(U){return arguments.length?xe(V,$,q=+U*S,te):q*I},Pe.ratio=function(U){return arguments.length?xe(V,$,q,te=+U):te},Pe.scale(180.739)}function Fr(V,$,q,te,xe,Pe,U,ie,de,Te,Ee){if(Ee.nanEncountered)return NaN;var Fe,Ye,Xe,Qe,nt,lt,xt,Mt,jt,Vt;if(Ye=V($+.25*(Fe=q-$)),Xe=V(q-.25*Fe),isNaN(Ye))Ee.nanEncountered=!0;else{if(!isNaN(Xe))return Vt=((lt=(Qe=Fe*(te+4*Ye+xe)/12)+(nt=Fe*(xe+4*Xe+Pe)/12))-U)/15,Te>de?(Ee.maxDepthCount++,lt+Vt):Math.abs(Vt)<ie?lt+Vt:(Mt=Fr(V,$,xt=$+.5*Fe,te,Ye,xe,Qe,.5*ie,de,Te+1,Ee),isNaN(Mt)?(Ee.nanEncountered=!0,NaN):(jt=Fr(V,xt,q,xe,Xe,Pe,nt,.5*ie,de,Te+1,Ee),isNaN(jt)?(Ee.nanEncountered=!0,NaN):Mt+jt));Ee.nanEncountered=!0}}function ri(V,$,q,te,xe){void 0===te&&(te=1e-8),void 0===xe&&(xe=20);var Pe=V($),U=V(.5*($+q)),ie=V(q);return Fr(V,$,q,Pe,U,ie,(Pe+4*U+ie)*(q-$)/6,te,xe,1,{maxDepthCount:0,nanEncountered:!1})}function $i(V,$,q){function te(Xe){return V+(1-V)*o(1-o(Xe,$),1/$)}function xe(Xe){return ri(te,0,Xe,1e-4)}for(var Pe=1/xe(1),U=1e3,ie=1.00000001*Pe,de=[],Te=0;Te<=U;Te++)de.push(xe(Te/U)*ie);function Ee(Xe){var Qe=0,nt=U,lt=500;do{de[lt]>Xe?nt=lt:Qe=lt,lt=Qe+nt>>1}while(lt>Qe);var xt=de[lt+1]-de[lt];return xt&&(xt=(Xe-de[lt+1])/xt),(lt+1+xt)/U}var Fe=2*Ee(1)/_*Pe/q,Ye=function(Xe,Qe){var nt=Ee(E(h(Qe))),lt=te(nt)*Xe;return nt/=Fe,[lt,Qe>=0?nt:-nt]};return Ye.invert=function(Xe,Qe){var nt;return E(Qe*=Fe)<1&&(nt=u(Qe)*O(xe(E(Qe))*Pe)),[Xe/te(E(Qe)),nt]},Ye}function uo(){var V=0,$=2.5,q=1.183136,te=(0,D.r)($i),xe=te(V,$,q);return xe.alpha=function(Pe){return arguments.length?te(V=+Pe,$,q):V},xe.k=function(Pe){return arguments.length?te(V,$=+Pe,q):$},xe.gamma=function(Pe){return arguments.length?te(V,$,q=+Pe):q},xe.scale(152.63)}function to(V,$){return E(V[0]-$[0])<p&&E(V[1]-$[1])<p}function oo(V,$){for(var q,te,xe,Pe=-1,U=V.length,ie=V[0],de=[];++Pe<U;){te=((q=V[Pe])[0]-ie[0])/$,xe=(q[1]-ie[1])/$;for(var Te=0;Te<$;++Te)de.push([ie[0]+Te*te,ie[1]+Te*xe]);ie=q}return de.push(q),de}function Qi(V,$,q){var te,xe;function Pe(de,Te){for(var Ee=Te<0?-1:1,Fe=$[+(Te<0)],Ye=0,Xe=Fe.length-1;Ye<Xe&&de>Fe[Ye][2][0];++Ye);var Qe=V(de-Fe[Ye][1][0],Te);return Qe[0]+=V(Fe[Ye][1][0],Ee*Te>Ee*Fe[Ye][0][1]?Fe[Ye][0][1]:Te)[0],Qe}q?Pe.invert=q(Pe):V.invert&&(Pe.invert=function(de,Te){for(var Ee=xe[+(Te<0)],Fe=$[+(Te<0)],Ye=0,Xe=Ee.length;Ye<Xe;++Ye){var Qe=Ee[Ye];if(Qe[0][0]<=de&&de<Qe[1][0]&&Qe[0][1]<=Te&&Te<Qe[1][1]){var nt=V.invert(de-V(Fe[Ye][1][0],0)[0],Te);return nt[0]+=Fe[Ye][1][0],to(Pe(nt[0],nt[1]),[de,Te])?nt:null}}});var U=(0,D.Z)(Pe),ie=U.stream;return U.stream=function(de){var Te=U.rotate(),Ee=ie(de),Fe=(U.rotate([0,0]),ie(de));return U.rotate(Te),Ee.sphere=function(){(0,Mn.Z)(te,Fe)},Ee},U.lobes=function(de){return arguments.length?(te=function(Te){var Ee,Fe,Xe,Qe,lt,xt=[],Mt=Te[0].length;for(lt=0;lt<Mt;++lt)Fe=(Ee=Te[0][lt])[0][0],xt.push(oo([[Fe+p,Ee[0][1]+p],[Fe+p,(Xe=Ee[1][1])-p],[(Qe=Ee[2][0])-p,Xe-p],[Qe-p,Ee[2][1]+p]],30));for(lt=Te[1].length-1;lt>=0;--lt)Fe=(Ee=Te[1][lt])[0][0],xt.push(oo([[(Qe=Ee[2][0])-p,Ee[2][1]-p],[Qe-p,(Xe=Ee[1][1])+p],[Fe+p,Xe+p],[Fe+p,Ee[0][1]-p]],30));return{type:"Polygon",coordinates:[(0,Vn.TS)(xt)]}}(de),$=de.map(function(Te){return Te.map(function(Ee){return[[Ee[0][0]*S,Ee[0][1]*S],[Ee[1][0]*S,Ee[1][1]*S],[Ee[2][0]*S,Ee[2][1]*S]]})}),xe=$.map(function(Te){return Te.map(function(Ee){var Fe,Ye=V(Ee[0][0],Ee[0][1])[0],Xe=V(Ee[2][0],Ee[2][1])[0],Qe=V(Ee[1][0],Ee[0][1])[1],nt=V(Ee[1][0],Ee[1][1])[1];return Qe>nt&&(Fe=Qe,Qe=nt,nt=Fe),[[Ye,Qe],[Xe,nt]]})}),U):$.map(function(Te){return Te.map(function(Ee){return[[Ee[0][0]*I,Ee[0][1]*I],[Ee[1][0]*I,Ee[1][1]*I],[Ee[2][0]*I,Ee[2][1]*I]]})})},null!=$&&U.lobes($),U}Tr.invert=function(V,$){return $>-ur?ge.invert(V,$-or):qe.invert(V,$)},Or.invert=function(V,$){return E($)>ur?ge.invert(V,$+($>0?or:-or)):qe.invert(V,$)};var Io=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function Ys(){return Qi(Ie,Io).scale(160.857)}var di=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function Fs(){return Qi(Or,di).scale(152.63)}var tc=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function ca(){return Qi(ge,tc).scale(169.529)}var lu=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];function nf(){return Qi(ge,lu).scale(169.529).rotate([20,0])}var ji=[[[[-180,35],[-30,90],[0,35]],[[0,35],[30,90],[180,35]]],[[[-180,-10],[-102,-90],[-65,-10]],[[-65,-10],[5,-90],[77,-10]],[[77,-10],[103,-90],[180,-10]]]];function Rf(){return Qi(Tr,ji,ye).rotate([-20,-55]).scale(164.263).center([0,-5.4036])}var uu=[[[[-180,0],[-110,90],[-40,0]],[[-40,0],[0,90],[40,0]],[[40,0],[110,90],[180,0]]],[[[-180,0],[-110,-90],[-40,0]],[[-40,0],[0,-90],[40,0]],[[40,0],[110,-90],[180,0]]]];function $r(){return Qi(qe,uu).scale(152.63).rotate([-20,0])}function Cs(V,$){return[3/g*V*L(_*_/3-$*$),$]}function jo(){return(0,D.Z)(Cs).scale(158.837)}function cu(V){function $(q,te){if(E(E(te)-m)<p)return[0,te<0?-2:2];var xe=h(te),Pe=o((1+xe)/(1-xe),V/2),U=.5*(Pe+1/Pe)+M(q*=V);return[2*h(q)/U,(Pe-1/Pe)/U]}return $.invert=function(q,te){var xe=E(te);if(E(xe-2)<p)return q?null:[0,u(te)*m];if(xe>2)return null;var Pe=(q/=2)*q,U=(te/=2)*te,ie=2*te/(1+Pe+U);return ie=o((1+ie)/(1-ie),1/V),[k(2*q,1-Pe-U)/V,O((ie-1)/(ie+1))]},$}function Vi(){var V=.5,$=(0,D.r)(cu),q=$(V);return q.spacing=function(te){return arguments.length?$(V=+te):V},q.scale(124.75)}Cs.invert=function(V,$){return[g/3*V/L(_*_/3-$*$),$]};var Zs=_/b;function Wa(V,$){return[V*(1+L(M($)))/2,$/(M($/2)*M(V/6))]}function El(){return(0,D.Z)(Wa).scale(97.2672)}function Xs(V,$){var q=V*V,te=$*$;return[V*(.975534+te*(-.0143059*q-.119161+-.0547009*te)),$*(1.00384+q*(.0802894+-.02855*te+199025e-9*q)+te*(.0998909+-.0491032*te))]}function Wl(){return(0,D.Z)(Xs).scale(139.98)}function Cl(V,$){return[h(V)/M($),v($)*M(V)]}function Dl(){return(0,D.Z)(Cl).scale(144.049).clipAngle(89.999)}function Il(V){var $=M(V),q=v(w+V/2);function te(xe,Pe){var U=Pe-V,ie=E(U)<p?xe*$:E(ie=w+Pe/2)<p||E(E(ie)-m)<p?0:xe*U/i(v(ie)/q);return[ie,U]}return te.invert=function(xe,Pe){var U,ie=Pe+V;return[E(Pe)<p?xe/$:E(U=w+ie/2)<p||E(E(U)-m)<p?0:xe*i(v(U)/q)/Pe,ie]},te}function nc(){return je(Il).parallel(40).scale(158.837)}function zs(V,$){return[V,1.25*i(v(w+.4*$))]}function rf(){return(0,D.Z)(zs).scale(108.318)}function Mc(V){var $=V.length-1;function q(te,xe){for(var Pe,U=M(xe),ie=2/(1+U*M(te)),de=ie*U*h(te),Te=ie*h(xe),Ee=$,Fe=V[Ee],Ye=Fe[0],Xe=Fe[1];--Ee>=0;)Ye=(Fe=V[Ee])[0]+de*(Pe=Ye)-Te*Xe,Xe=Fe[1]+de*Xe+Te*Pe;return[Ye=de*(Pe=Ye)-Te*Xe,Xe=de*Xe+Te*Pe]}return q.invert=function(te,xe){var Pe=20,U=te,ie=xe;do{for(var de,Te=$,Ee=V[Te],Fe=Ee[0],Ye=Ee[1],Xe=0,Qe=0;--Te>=0;)Xe=Fe+U*(de=Xe)-ie*Qe,Qe=Ye+U*Qe+ie*de,Fe=(Ee=V[Te])[0]+U*(de=Fe)-ie*Ye,Ye=Ee[1]+U*Ye+ie*de;var nt,lt,xt=(Xe=Fe+U*(de=Xe)-ie*Qe)*Xe+(Qe=Ye+U*Qe+ie*de)*Qe;U-=nt=((Fe=U*(de=Fe)-ie*Ye-te)*Xe+(Ye=U*Ye+ie*de-xe)*Qe)/xt,ie-=lt=(Ye*Xe-Fe*Qe)/xt}while(E(nt)+E(lt)>p*p&&--Pe>0);if(Pe){var Mt=L(U*U+ie*ie),jt=2*f(.5*Mt),Vt=h(jt);return[k(U*Vt,Mt*M(jt)),Mt?O(ie*Vt/Mt):0]}},q}Wa.invert=function(V,$){var q=E(V),te=E($),xe=p,Pe=m;te<Zs?Pe*=te/Zs:xe+=6*R(Zs/te);for(var U=0;U<25;U++){var ie=h(Pe),de=L(M(Pe)),Te=h(Pe/2),Ee=M(Pe/2),Fe=h(xe/6),Ye=M(xe/6),Xe=.5*xe*(1+de)-q,Qe=Pe/(Ee*Ye)-te,nt=de?-.25*xe*ie/de:0,lt=.5*(1+de),xt=(1+.5*Pe*Te/Ee)/(Ee*Ye),Mt=Pe/Ee*(Fe/6)/(Ye*Ye),jt=nt*Mt-xt*lt,Vt=(Xe*Mt-Qe*lt)/jt,Bt=(Qe*nt-Xe*xt)/jt;if(Pe-=Vt,xe-=Bt,E(Vt)<p&&E(Bt)<p)break}return[V<0?-xe:xe,$<0?-Pe:Pe]},Xs.invert=function(V,$){var q=u(V)*_,te=$/2,xe=50;do{var Pe=q*q,U=te*te,ie=q*te,de=q*(.975534+U*(-.0143059*Pe-.119161+-.0547009*U))-V,Te=te*(1.00384+Pe*(.0802894+-.02855*U+199025e-9*Pe)+U*(.0998909+-.0491032*U))-$,Ee=.975534-U*(.119161+3*Pe*.0143059+.0547009*U),Fe=-ie*(.238322+.2188036*U+.0286118*Pe),Ye=ie*(.1605788+7961e-7*Pe+-.0571*U),Xe=1.00384+Pe*(.0802894+199025e-9*Pe)+U*(3*(.0998909-.02855*Pe)-.245516*U),Qe=Fe*Ye-Xe*Ee,nt=(Te*Fe-de*Xe)/Qe,lt=(de*Ye-Te*Ee)/Qe;q-=nt,te-=lt}while((E(nt)>p||E(lt)>p)&&--xe>0);return xe&&[q,te]},Cl.invert=function(V,$){var q=V*V,te=$*$+1,xe=q+te,Pe=V?x*L((xe-L(xe*xe-4*q))/q):1/L(te);return[O(V*Pe),u($)*R(Pe)]},zs.invert=function(V,$){return[V,2.5*f(y(.8*$))-.625*_]};var af=[[.9972523,0],[.0052513,-.0041175],[.0074606,.0048125],[-.0153783,-.1968253],[.0636871,-.1408027],[.3660976,-.2937382]],rc=[[.98879,0],[0,0],[-.050909,0],[0,0],[.075528,0]],$l=[[.984299,0],[.0211642,.0037608],[-.1036018,-.0575102],[-.0329095,-.0320119],[.0499471,.1223335],[.026046,.0899805],[7388e-7,-.1435792],[.0075848,-.1334108],[-.0216473,.0776645],[-.0225161,.0853673]],fu=[[.9245,0],[0,0],[.01943,0]],$a=[[.721316,0],[0,0],[-.00881625,-.00617325]];function Yl(){return is(af,[152,-64]).scale(1400).center([-160.908,62.4864]).clipAngle(30).angle(7.8)}function Hr(){return is(rc,[95,-38]).scale(1e3).clipAngle(55).center([-96.5563,38.8675])}function Ru(){return is($l,[120,-45]).scale(359.513).clipAngle(55).center([-117.474,53.0628])}function Br(){return is(fu,[-20,-18]).scale(209.091).center([20,16.7214]).clipAngle(82)}function du(){return is($a,[165,10]).scale(250).clipAngle(130).center([-165,-10])}function is(V,$){var q=(0,D.Z)(Mc(V)).rotate($).clipAngle(90),te=(0,at.Z)($),xe=q.center;return delete q.rotate,q.center=function(Pe){return arguments.length?xe(te(Pe)):te.invert(xe())},q}var Bs=L(6),Js=L(7);function cl(V,$){var q=O(7*h($)/(3*Bs));return[Bs*V*(2*M(2*q/3)-1)/Js,9*h(q/3)/Js]}function sf(){return(0,D.Z)(cl).scale(164.859)}function Fa(V,$){for(var q,te=(1+x)*h($),xe=$,Pe=0;Pe<25&&(xe-=q=(h(xe/2)+h(xe)-te)/(.5*M(xe/2)+M(xe)),!(E(q)<p));Pe++);return[V*(1+2*M(xe)/M(xe/2))/(3*b),2*L(3)*h(xe/2)/L(2+b)]}function Yi(){return(0,D.Z)(Fa).scale(188.209)}function Qo(V,$){for(var q,te=L(6/(4+_)),xe=(1+_/4)*h($),Pe=$/2,U=0;U<25&&(Pe-=q=(Pe/2+h(Pe)-xe)/(.5+M(Pe)),!(E(q)<p));U++);return[te*(.5+M(Pe))*V/1.5,te*Pe]}function os(){return(0,D.Z)(Qo).scale(166.518)}cl.invert=function(V,$){var q=3*O($*Js/9);return[V*Js/(Bs*(2*M(2*q/3)-1)),O(3*h(q)*Bs/7)]},Fa.invert=function(V,$){var q=$*L(2+b)/(2*L(3)),te=2*O(q);return[3*b*V/(1+2*M(te)/M(te/2)),O((q+h(te))/(1+x))]},Qo.invert=function(V,$){var q=L(6/(4+_)),te=$/q;return E(E(te)-m)<p&&(te=te<0?-m:m),[1.5*V/(q*(.5+M(te))),O((te/2+h(te))/(1+_/4))]};var Mi=r(26867);function Ks(V,$){var q=$*$,te=q*q,xe=q*te;return[V*(.84719-.13063*q+xe*xe*(.05494*q-.04515-.02326*te+.00331*xe)),$*(1.01183+te*te*(.01926*q-.02625-.00396*te))]}function Ac(){return(0,D.Z)(Ks).scale(175.295)}function hu(V,$){return[V*(1+M($))/2,2*($-v($/2))]}function Sc(){return(0,D.Z)(hu).scale(152.63)}Ks.invert=function(V,$){var q,te,xe,Pe,U=$,ie=25;do{U-=q=(U*(1.01183+(xe=(te=U*U)*te)*xe*(.01926*te-.02625-.00396*xe))-$)/(1.01183+xe*xe*(.21186*te-.23625+-.05148*xe))}while(E(q)>T&&--ie>0);return[V/(.84719-.13063*(te=U*U)+(Pe=te*(xe=te*te))*Pe*(.05494*te-.04515-.02326*xe+.00331*Pe)),U]},hu.invert=function(V,$){for(var q=$/2,te=0,xe=1/0;te<10&&E(xe)>p;++te){var Pe=M($/2);$-=xe=($-v($/2)-q)/(1-.5/(Pe*Pe))}return[2*V/(1+M($)),$]};var Qs=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];function fl(){return Qi(pe(1/0),Qs).rotate([20,0]).scale(152.63)}function Zl(V,$){var q=h($),te=M($),xe=u(V);if(0===V||E($)===m)return[0,$];if(0===$)return[V,0];if(E(V)===m)return[V*te,m*q];var Pe=_/(2*V)-2*V/_,U=2*$/_,ie=(1-U*U)/(q-U),de=Pe*Pe,Te=ie*ie,Ee=1+de/Te,Fe=1+Te/de,Ye=(Pe*q/ie-Pe/2)/Ee,Xe=(Te*q/de+ie/2)/Fe,Qe=Xe*Xe-(Te*q*q/de+ie*q-1)/Fe;return[m*(Ye+L(Ye*Ye+te*te/Ee)*xe),m*(Xe+L(Qe<0?0:Qe)*u(-$*Pe)*xe)]}function pu(){return(0,D.Z)(Zl).scale(127.267)}Zl.invert=function(V,$){var q=(V/=m)*V,te=q+($/=m)*$,xe=_*_;return[V?(te-1+L((1-te)*(1-te)+4*q))/(2*V)*m:0,be(function(Pe){return te*(_*h(Pe)-2*Pe)*_+4*Pe*Pe*($-h(Pe))+2*_*Pe-xe*$},0)]};var el=1.0148,tl=.23185,dl=-.14499,xs=.02406,Lu=el,Ds=5*tl,lf=7*dl,kc=9*xs,ic=1.790857183;function Ol(V,$){var q=$*$;return[V,$*(el+q*q*(tl+q*(dl+xs*q)))]}function as(){return(0,D.Z)(Ol).scale(139.319)}function Xl(V,$){if(E($)<p)return[V,0];var q=v($),te=V*h($);return[h(te)/q,$+(1-M(te))/q]}function oc(){return(0,D.Z)(Xl).scale(103.74)}Ol.invert=function(V,$){$>ic?$=ic:$<-1.790857183&&($=-1.790857183);var q,te=$;do{var xe=te*te;te-=q=(te*(el+xe*xe*(tl+xe*(dl+xs*xe)))-$)/(Lu+xe*xe*(Ds+xe*(lf+kc*xe)))}while(E(q)>p);return[V,te]},Xl.invert=function(V,$){if(E($)<p)return[V,0];var q,te=V*V+$*$,xe=.5*$,Pe=10;do{var U=v(xe),ie=1/M(xe),de=te-2*$*xe+xe*xe;xe-=q=(U*de+2*(xe-$))/(2+de*ie*ie+2*(xe-$)*U)}while(E(q)>p&&--Pe>0);return U=v(xe),[(E($)<E(xe+1/U)?O(V*U):u($)*u(V)*(R(E(V*U))+m))/h(xe),xe]};var gu=r(77338),Jl=r(83074);function Nu(V,$){return[V[0]*$[0]+V[1]*$[3],V[0]*$[1]+V[1]*$[4],V[0]*$[2]+V[1]*$[5]+V[2],V[3]*$[0]+V[4]*$[3],V[3]*$[1]+V[4]*$[4],V[3]*$[2]+V[4]*$[5]+V[5]]}function mu(V,$){return[V[0]-$[0],V[1]-$[1]]}function no(V){return L(V[0]*V[0]+V[1]*V[1])}function Pl(V,$,q){function te(ie,de){var Te,Ee=$(ie,de),Fe=Ee.project([ie*I,de*I]);return(Te=Ee.transform)?[Te[0]*Fe[0]+Te[1]*Fe[1]+Te[2],-(Te[3]*Fe[0]+Te[4]*Fe[1]+Te[5])]:(Fe[1]=-Fe[1],Fe)}function xe(ie,de){var lt,xt,Te=ie.project.invert,Ee=ie.transform,Fe=de;if(Ee&&(Fe=[(Ee=[(xt=1/((lt=Ee)[0]*lt[4]-lt[1]*lt[3]))*lt[4],-xt*lt[1],xt*(lt[1]*lt[5]-lt[2]*lt[4]),-xt*lt[3],xt*lt[0],xt*(lt[2]*lt[3]-lt[0]*lt[5])])[0]*Fe[0]+Ee[1]*Fe[1]+Ee[2],Ee[3]*Fe[0]+Ee[4]*Fe[1]+Ee[5]]),Te&&ie===function(lt){return $(lt[0]*S,lt[1]*S)}(Ye=Te(Fe)))return Ye;for(var Ye,Xe=ie.children,Qe=0,nt=Xe&&Xe.length;Qe<nt;++Qe)if(Ye=xe(Xe[Qe],de))return Ye}(function ie(de,Te){if(de.edges=function(Bt){for(var Xt=Bt.length,Ut=[],mn=Bt[Xt-1],sn=0;sn<Xt;++sn)Ut.push([mn,mn=Bt[sn]]);return Ut}(de.face),Te.face){var Ee=de.shared=function(Bt,Xt){for(var Ut,mn,sn=Bt.length,rn=null,In=0;In<sn;++In){Ut=Bt[In];for(var Pn=Xt.length;--Pn>=0;)if(Ut[0]===(mn=Xt[Pn])[0]&&Ut[1]===mn[1]){if(rn)return[rn,Ut];rn=Ut}}}(de.face,Te.face),Fe=(nt=Ee.map(Te.project),lt=Ee.map(de.project),xt=mu(nt[1],nt[0]),Mt=mu(lt[1],lt[0]),jt=k((Bt=xt)[0]*(Xt=Mt)[1]-Bt[1]*Xt[0],Bt[0]*Xt[0]+Bt[1]*Xt[1]),Vt=no(xt)/no(Mt),Nu([1,0,nt[0][0],0,1,nt[0][1]],Nu([Vt,0,0,0,Vt,0],Nu([M(jt),h(jt),0,-h(jt),M(jt),0],[1,0,-lt[0][0],0,1,-lt[0][1]]))));de.transform=Te.transform?Nu(Te.transform,Fe):Fe;for(var Ye=Te.edges,Xe=0,Qe=Ye.length;Xe<Qe;++Xe)pa(Ee[0],Ye[Xe][1])&&pa(Ee[1],Ye[Xe][0])&&(Ye[Xe]=de),pa(Ee[0],Ye[Xe][0])&&pa(Ee[1],Ye[Xe][1])&&(Ye[Xe]=de);for(Xe=0,Qe=(Ye=de.edges).length;Xe<Qe;++Xe)pa(Ee[0],Ye[Xe][0])&&pa(Ee[1],Ye[Xe][1])&&(Ye[Xe]=Te),pa(Ee[0],Ye[Xe][1])&&pa(Ee[1],Ye[Xe][0])&&(Ye[Xe]=Te)}else de.transform=Te.transform;var Bt,Xt,nt,lt,xt,Mt,jt,Vt;return de.children&&de.children.forEach(function(Bt){ie(Bt,de)}),de})(V,{transform:null}),hi(V)&&(te.invert=function(ie,de){var Te=xe(V,[ie,-de]);return Te&&(Te[0]*=S,Te[1]*=S,Te)});var Pe=(0,D.Z)(te),U=Pe.stream;return Pe.stream=function(ie){var de=Pe.rotate(),Te=U(ie),Ee=(Pe.rotate([0,0]),U(ie));return Pe.rotate(de),Te.sphere=function(){Ee.polygonStart(),Ee.lineStart(),hl(Ee,V),Ee.lineEnd(),Ee.polygonEnd()},Te},Pe.angle(null==q?-30:q*I)}function hl(V,$,q){var te,xe,Pe=$.edges,U=Pe.length,ie={type:"MultiPoint",coordinates:$.face},de=$.face.filter(function(nt){return 90!==E(nt[1])}),Te=(0,gu.Z)({type:"MultiPoint",coordinates:de}),Ee=!1,Fe=-1,Ye=Te[1][0]-Te[0][0],Xe=180===Ye||360===Ye?[(Te[0][0]+Te[1][0])/2,(Te[0][1]+Te[1][1])/2]:(0,et.Z)(ie);if(q)for(;++Fe<U&&Pe[Fe]!==q;);++Fe;for(var Qe=0;Qe<U;++Qe)xe=Pe[(Qe+Fe)%U],Array.isArray(xe)?(Ee||(V.point((te=(0,Jl.Z)(xe[0],Xe)(p))[0],te[1]),Ee=!0),V.point((te=(0,Jl.Z)(xe[1],Xe)(p))[0],te[1])):(Ee=!1,xe!==q&&hl(V,xe,$))}function pa(V,$){return V&&$&&V[0]===$[0]&&V[1]===$[1]}function hi(V){return V.project.invert||V.children&&V.children.some(hi)}var Zi=r(98936),Rl=[[0,90],[-90,0],[0,0],[90,0],[180,0],[0,-90]],pl=[[0,2,1],[0,3,2],[5,1,2],[5,2,3],[0,1,4],[0,4,3],[5,4,1],[5,3,4]].map(function(V){return V.map(function($){return Rl[$]})});function Xi(V){V=V||function(q){var te=(0,et.Z)({type:"MultiPoint",coordinates:q});return(0,Zi.Z)().scale(1).translate([0,0]).rotate([-te[0],-te[1]])};var $=pl.map(function(q){return{face:q,project:V(q)}});return[-1,0,0,1,0,1,4,5].forEach(function(q,te){var xe=$[q];xe&&(xe.children||(xe.children=[])).push($[te])}),Pl($[0],function(q,te){return $[q<-_/2?te<0?6:4:q<0?te<0?2:0:q<_/2?te<0?3:1:te<0?7:5]}).angle(-30).scale(101.858).center([0,45])}var Fu=2/L(3);function ml(V,$){var q=Pt(V,$);return[q[0]*Fu,q[1]]}function jr(V){V=V||function(q){var te=(0,et.Z)({type:"MultiPoint",coordinates:q});return(0,D.Z)(ml).translate([0,0]).scale(1).rotate(te[1]>0?[-te[0],0]:[180-te[0],180])};var $=pl.map(function(q){return{face:q,project:V(q)}});return[-1,0,0,1,0,1,4,5].forEach(function(q,te){var xe=$[q];xe&&(xe.children||(xe.children=[])).push($[te])}),Pl($[0],function(q,te){return $[q<-_/2?te<0?6:4:q<0?te<0?2:0:q<_/2?te<0?3:1:te<0?7:5]}).angle(-30).scale(121.906).center([0,48.5904])}function $o(V){V=V||function(Pe){var U=6===Pe.length?(0,et.Z)({type:"MultiPoint",coordinates:Pe}):Pe[0];return(0,Zi.Z)().scale(1).translate([0,0]).rotate([-U[0],-U[1]])};var $=pl.map(function(Pe){for(var U,ie=Pe.map(Di),de=ie.length,Te=ie[de-1],Ee=[],Fe=0;Fe<de;++Fe)Ee.push(Oo([.9486832980505138*Te[0]+.31622776601683794*(U=ie[Fe])[0],.9486832980505138*Te[1]+.31622776601683794*U[1],.9486832980505138*Te[2]+.31622776601683794*U[2]]),Oo([.9486832980505138*U[0]+.31622776601683794*Te[0],.9486832980505138*U[1]+.31622776601683794*Te[1],.9486832980505138*U[2]+.31622776601683794*Te[2]])),Te=U;return Ee}),q=[],te=[-1,0,0,1,0,1,4,5];$.forEach(function(Pe,U){for(var ie,de,Te=pl[U],Ee=Te.length,Fe=q[U]=[],Ye=0;Ye<Ee;++Ye)$.push([Te[Ye],Pe[(2*Ye+2)%(2*Ee)],Pe[(2*Ye+1)%(2*Ee)]]),te.push(U),Fe.push((ie=Di(Pe[(2*Ye+2)%(2*Ee)]),de=Di(Pe[(2*Ye+1)%(2*Ee)]),[ie[1]*de[2]-ie[2]*de[1],ie[2]*de[0]-ie[0]*de[2],ie[0]*de[1]-ie[1]*de[0]]))});var xe=$.map(function(Pe){return{project:V(Pe),face:Pe}});return te.forEach(function(Pe,U){var ie=xe[Pe];ie&&(ie.children||(ie.children=[])).push(xe[U])}),Pl(xe[0],function(Pe,U){var ie=M(U),de=[ie*M(Pe),ie*h(Pe),h(U)],Te=Pe<-_/2?U<0?6:4:Pe<0?U<0?2:0:Pe<_/2?U<0?3:1:U<0?7:5,Ee=q[Te];return xe[Ei(Ee[0],de)<0?8+3*Te:Ei(Ee[1],de)<0?8+3*Te+1:Ei(Ee[2],de)<0?8+3*Te+2:Te]}).angle(-30).scale(110.625).center([0,45])}function Ei(V,$){for(var q=0,te=V.length,xe=0;q<te;++q)xe+=V[q]*$[q];return xe}function Oo(V){return[k(V[1],V[0])*I,O(s(-1,a(1,V[2])))*I]}function Di(V){var $=V[0]*S,q=V[1]*S,te=M(q);return[te*M($),te*h($),h(q)]}function Is(){}function ga(V,$){var q,te=$.stream;if(!te)throw new Error("invalid projection");switch(V&&V.type){case"Feature":q=Ma;break;case"FeatureCollection":q=ea;break;default:q=ta}return q(V,te)}function ea(V,$){return{type:"FeatureCollection",features:V.features.map(function(q){return Ma(q,$)})}}function Ma(V,$){return{type:"Feature",id:V.id,properties:V.properties,geometry:ta(V.geometry,$)}}function ta(V,$){if(!V)return null;if("GeometryCollection"===V.type)return xe=$,{type:"GeometryCollection",geometries:V.geometries.map(function(Pe){return ta(Pe,xe)})};var xe,q;switch(V.type){case"Point":case"MultiPoint":q=ao;break;case"LineString":case"MultiLineString":q=Gr;break;case"Polygon":case"MultiPolygon":case"Sphere":q=ii;break;default:return null}return(0,Mn.Z)(V,$(q)),q.result()}ml.invert=function(V,$){return Pt.invert(V/Fu,$)};var fa=[],za=[],ao={point:function(V,$){fa.push([V,$])},result:function(){var V=fa.length?fa.length<2?{type:"Point",coordinates:fa[0]}:{type:"MultiPoint",coordinates:fa}:null;return fa=[],V}},Gr={lineStart:Is,point:function(V,$){fa.push([V,$])},lineEnd:function(){fa.length&&(za.push(fa),fa=[])},result:function(){var V=za.length?za.length<2?{type:"LineString",coordinates:za[0]}:{type:"MultiLineString",coordinates:za}:null;return za=[],V}},ii={polygonStart:Is,lineStart:Is,point:function(V,$){fa.push([V,$])},lineEnd:function(){var V=fa.length;if(V){do{fa.push(fa[0].slice())}while(++V<4);za.push(fa),fa=[]}},polygonEnd:Is,result:function(){if(!za.length)return null;var V=[],$=[];return za.forEach(function(q){!function(te){if((xe=te.length)<4)return!1;for(var xe,Pe=0,U=te[xe-1][1]*te[0][0]-te[xe-1][0]*te[0][1];++Pe<xe;)U+=te[Pe-1][1]*te[Pe][0]-te[Pe-1][0]*te[Pe][1];return U<=0}(q)?$.push(q):V.push([q])}),$.forEach(function(q){var te=q[0];V.some(function(xe){if(function(Pe,U){for(var ie=U[0],de=U[1],Te=!1,Ee=0,Fe=Pe.length,Ye=Fe-1;Ee<Fe;Ye=Ee++){var Xe=Pe[Ee],Qe=Xe[0],nt=Xe[1],lt=Pe[Ye],Mt=lt[1];nt>de^Mt>de&&ie<(lt[0]-Qe)*(de-nt)/(Mt-nt)+Qe&&(Te=!Te)}return Te}(xe[0],te))return xe.push(q),!0})||V.push([q])}),za=[],V.length?V.length>1?{type:"MultiPolygon",coordinates:V}:{type:"Polygon",coordinates:V[0]}:null}};function Ni(V){var $=V(m,0)[0]-V(-m,0)[0];function q(te,xe){var Pe=E(te)<m,U=V(Pe?te:te>0?te-_:te+_,xe),ie=(U[0]-U[1])*x,de=(U[0]+U[1])*x;if(Pe)return[ie,de];var Te=$*x,Ee=ie>0^de>0?-1:1;return[Ee*ie-u(de)*Te,Ee*de-u(ie)*Te]}return V.invert&&(q.invert=function(te,xe){var Pe=(te+xe)*x,U=(xe-te)*x,ie=E(Pe)<.5*$&&E(U)<.5*$;if(!ie){var de=$*x,Te=Pe>0^U>0?-1:1,Ee=-Te*te+(U>0?1:-1)*de,Fe=-Te*xe+(Pe>0?1:-1)*de;Pe=(-Ee-Fe)*x,U=(Ee-Fe)*x}var Ye=V.invert(Pe,U);return ie||(Ye[0]+=Pe>0?_:-_),Ye}),(0,D.Z)(q).rotate([-90,-90,45]).clipAngle(179.999)}function Yo(){return Ni(yn).scale(176.423)}function Ll(){return Ni(Nn).scale(111.48)}function co(V,$){if(!(0<=($=+$)&&$<=20))throw new Error("invalid digits");function q(Te){var Ee=Te.length,Fe=2,Ye=new Array(Ee);for(Ye[0]=+Te[0].toFixed($),Ye[1]=+Te[1].toFixed($);Fe<Ee;)Ye[Fe]=Te[Fe],++Fe;return Ye}function te(Te){return Te.map(q)}function xe(Te){for(var Ee=q(Te[0]),Fe=[Ee],Ye=1;Ye<Te.length;Ye++){var Xe=q(Te[Ye]);(Xe.length>2||Xe[0]!=Ee[0]||Xe[1]!=Ee[1])&&(Fe.push(Xe),Ee=Xe)}return 1===Fe.length&&Te.length>1&&Fe.push(q(Te[Te.length-1])),Fe}function Pe(Te){return Te.map(xe)}function U(Te){if(null==Te)return Te;var Ee;switch(Te.type){case"GeometryCollection":Ee={type:"GeometryCollection",geometries:Te.geometries.map(U)};break;case"Point":Ee={type:"Point",coordinates:q(Te.coordinates)};break;case"MultiPoint":Ee={type:Te.type,coordinates:te(Te.coordinates)};break;case"LineString":Ee={type:Te.type,coordinates:xe(Te.coordinates)};break;case"MultiLineString":case"Polygon":Ee={type:Te.type,coordinates:Pe(Te.coordinates)};break;case"MultiPolygon":Ee={type:"MultiPolygon",coordinates:Te.coordinates.map(Pe)};break;default:return Te}return null!=Te.bbox&&(Ee.bbox=Te.bbox),Ee}function ie(Te){var Ee={type:"Feature",properties:Te.properties,geometry:U(Te.geometry)};return null!=Te.id&&(Ee.id=Te.id),null!=Te.bbox&&(Ee.bbox=Te.bbox),Ee}if(null!=V)switch(V.type){case"Feature":return ie(V);case"FeatureCollection":var de={type:"FeatureCollection",features:V.features.map(ie)};return null!=V.bbox&&(de.bbox=V.bbox),de;default:return U(V)}return V}function Po(V){var $=h(V);function q(te,xe){var Pe=$?v(te*$/2)/$:te/2;if(!xe)return[2*Pe,-V];var U=2*f(Pe*h(xe)),ie=1/v(xe);return[h(U)*ie,xe+(1-M(U))*ie-V]}return q.invert=function(te,xe){if(E(xe+=V)<p)return[$?2*f($*te/2)/$:te,0];var Pe,U=te*te+xe*xe,ie=0,de=10;do{var Te=v(ie),Ee=1/M(ie),Fe=U-2*xe*ie+ie*ie;ie-=Pe=(Te*Fe+2*(ie-xe))/(2+Fe*Ee*Ee+2*(ie-xe)*Te)}while(E(Pe)>p&&--de>0);var Ye=te*(Te=v(ie)),Xe=v(E(xe)<E(ie+1/Te)?.5*O(Ye):.5*R(Ye)+_/4)/h(ie);return[$?2*f($*Xe)/$:2*Xe,ie]},q}function Lr(){return je(Po).scale(131.215)}var Ro=[[.9986,-.062],[1,0],[.9986,.062],[.9954,.124],[.99,.186],[.9822,.248],[.973,.31],[.96,.372],[.9427,.434],[.9216,.4958],[.8962,.5571],[.8679,.6176],[.835,.6769],[.7986,.7346],[.7597,.7903],[.7186,.8435],[.6732,.8936],[.6213,.9394],[.5722,.9761],[.5322,1]];function nl(V,$){var q,te=a(18,36*E($)/_),xe=c(te),Pe=te-xe,U=(q=Ro[xe])[0],ie=q[1],de=(q=Ro[++xe])[0],Te=q[1],Ee=(q=Ro[a(19,++xe)])[0],Fe=q[1];return[V*(de+Pe*(Ee-U)/2+Pe*Pe*(Ee-2*de+U)/2),($>0?m:-m)*(Te+Pe*(Fe-ie)/2+Pe*Pe*(Fe-2*Te+ie)/2)]}function vi(){return(0,D.Z)(nl).scale(152.63)}function js(V,$){var q=function(U){function ie(de,Te){var Ee=M(Te),Fe=(U-1)/(U-Ee*M(de));return[Fe*Ee*h(de),Fe*h(Te)]}return ie.invert=function(de,Te){var Ee=de*de+Te*Te,Fe=L(Ee),Ye=(U-L(1-Ee*(U+1)/(U-1)))/((U-1)/Fe+Fe/(U-1));return[k(de*Ye,Fe*L(1-Ye*Ye)),Fe?O(Te*Ye/Fe):0]},ie}(V);if(!$)return q;var te=M($),xe=h($);function Pe(U,ie){var de=q(U,ie),Te=de[1],Ee=Te*xe/(V-1)+te;return[de[0]*te/Ee,Te/Ee]}return Pe.invert=function(U,ie){var de=(V-1)/(V-1-ie*xe);return q.invert(de*U,de*ie*te)},Pe}function Nl(){var V=2,$=0,q=(0,D.r)(js),te=q(V,$);return te.distance=function(xe){return arguments.length?q(V=+xe,$):V},te.tilt=function(xe){return arguments.length?q(V,$=xe*S):$*I},te.scale(432.147).clipAngle(R(1/V)*I-1e-6)}Ro.forEach(function(V){V[1]*=1.0144}),nl.invert=function(V,$){var q=$/m,te=90*q,xe=a(18,E(te/5)),Pe=s(0,c(xe));do{var U=Ro[Pe][1],ie=Ro[Pe+1][1],de=Ro[a(19,Pe+2)][1],Te=de-U,Ee=de-2*ie+U,Fe=2*(E(q)-ie)/Te,Ye=Ee/Te,Xe=Fe*(1-Ye*Fe*(1-2*Ye*Fe));if(Xe>=0||1===Pe){te=($>=0?5:-5)*(Xe+xe);var Qe,nt=50;do{Xe=(xe=a(18,E(te)/5))-(Pe=c(xe)),U=Ro[Pe][1],ie=Ro[Pe+1][1],de=Ro[a(19,Pe+2)][1],te-=(Qe=($>=0?m:-m)*(ie+Xe*(de-U)/2+Xe*Xe*(de-2*ie+U)/2)-$)*I}while(E(Qe)>T&&--nt>0);break}}while(--Pe>=0);var lt=Ro[Pe][0],xt=Ro[Pe+1][0],Mt=Ro[a(19,Pe+2)][0];return[V/(xt+Xe*(Mt-lt)/2+Xe*Xe*(Mt-2*xt+lt)/2),te*S]};var ss=1e-4,Dr=1e4,Ya=-180,Vs=Ya+ss,ls=180,na=ls-ss,Os=-90,ma=Os+ss,ra=90,us=ra-ss;function bs(V){return V.length>0}function ai(V){return V===Os||V===ra?[0,V]:[Ya,($=V,Math.floor($*Dr)/Dr)];var $}function vu(V){var $=V[0],q=V[1],te=!1;return $<=Vs?($=Ya,te=!0):$>=na&&($=ls,te=!0),q<=ma?(q=Os,te=!0):q>=us&&(q=ra,te=!0),te?[$,q]:V}function Fl(V){return V.map(vu)}function da(V,$,q){for(var te=0,xe=V.length;te<xe;++te){var Pe=V[te].slice();q.push({index:-1,polygon:$,ring:Pe});for(var U=0,ie=Pe.length;U<ie;++U){var de=Pe[U],Te=de[0],Ee=de[1];if(Te<=Vs||Te>=na||Ee<=ma||Ee>=us){Pe[U]=vu(de);for(var Fe=U+1;Fe<ie;++Fe){var Ye=Pe[Fe],Xe=Ye[0],Qe=Ye[1];if(Xe>Vs&&Xe<na&&Qe>ma&&Qe<us)break}if(Fe===U+1)continue;if(U){var nt={index:-1,polygon:$,ring:Pe.slice(0,U+1)};nt.ring[nt.ring.length-1]=ai(Ee),q[q.length-1]=nt}else q.pop();if(Fe>=ie)break;q.push({index:-1,polygon:$,ring:Pe=Pe.slice(Fe-1)}),Pe[0]=ai(Pe[0][1]),U=-1,ie=Pe.length}}}}function Ii(V){var $,q,te,xe,Pe,U,ie=V.length,de={},Te={};for($=0;$<ie;++$)(te=(q=V[$]).ring[0])[0]!==(Pe=q.ring[q.ring.length-1])[0]||te[1]!==Pe[1]?(q.index=$,de[te]=Te[Pe]=q):(q.polygon.push(q.ring),V[$]=null);for($=0;$<ie;++$)if(q=V[$]){if(xe=Te[te=q.ring[0]],U=de[Pe=q.ring[q.ring.length-1]],delete de[te],delete Te[Pe],te[0]===Pe[0]&&te[1]===Pe[1]){q.polygon.push(q.ring);continue}xe?(delete Te[te],delete de[xe.ring[0]],xe.ring.pop(),V[xe.index]=null,q={index:-1,polygon:xe.polygon,ring:xe.ring.concat(q.ring)},xe===U?q.polygon.push(q.ring):(q.index=ie++,V.push(de[q.ring[0]]=Te[q.ring[q.ring.length-1]]=q))):U?(delete de[Pe],delete Te[U.ring[U.ring.length-1]],q.ring.pop(),q={index:ie++,polygon:U.polygon,ring:q.ring.concat(U.ring)},V[U.index]=null,V.push(de[q.ring[0]]=Te[q.ring[q.ring.length-1]]=q)):(q.ring.push(q.ring[0]),q.polygon.push(q.ring))}}function zl(V){var $={type:"Feature",geometry:va(V.geometry)};return null!=V.id&&($.id=V.id),null!=V.bbox&&($.bbox=V.bbox),null!=V.properties&&($.properties=V.properties),$}function va(V){if(null==V)return V;var $,q,te,xe;switch(V.type){case"GeometryCollection":$={type:"GeometryCollection",geometries:V.geometries.map(va)};break;case"Point":$={type:"Point",coordinates:vu(V.coordinates)};break;case"MultiPoint":case"LineString":$={type:V.type,coordinates:Fl(V.coordinates)};break;case"MultiLineString":$={type:"MultiLineString",coordinates:V.coordinates.map(Fl)};break;case"Polygon":var Pe=[];da(V.coordinates,Pe,q=[]),Ii(q),$={type:"Polygon",coordinates:Pe};break;case"MultiPolygon":q=[],te=-1,xe=V.coordinates.length;for(var U=new Array(xe);++te<xe;)da(V.coordinates[te],U[te]=[],q);Ii(q),$={type:"MultiPolygon",coordinates:U.filter(bs)};break;default:return V}return null!=V.bbox&&($.bbox=V.bbox),$}function Lo(V){if(null==V)return V;switch(V.type){case"Feature":return zl(V);case"FeatureCollection":var $={type:"FeatureCollection",features:V.features.map(zl)};return null!=V.bbox&&($.bbox=V.bbox),$;default:return va(V)}}function bo(V,$){var q=v($/2),te=h(w*q);return[V*(.74482-.34588*te*te),1.70711*q]}function uf(){return(0,D.Z)(bo).scale(146.153)}function Fi(V,$,q){var te=(0,Jl.Z)($,q),xe=te(.5),Pe=(0,at.Z)([-xe[0],-xe[1]])($),U=te.distance/2,ie=-O(h(Pe[1]*S)/h(U)),de=[-xe[0],-xe[1],-(Pe[0]>0?_-ie:ie)*I],Te=(0,D.Z)(V(U)).rotate(de),Ee=(0,at.Z)(de),Fe=Te.center;return delete Te.rotate,Te.center=function(Ye){return arguments.length?Fe(Ee(Ye)):Ee.invert(Fe())},Te.clipAngle(90)}function wi(V){var $=M(V);function q(te,xe){var Pe=(0,Zi.M)(te,xe);return Pe[0]*=$,Pe}return q.invert=function(te,xe){return Zi.M.invert(te/$,xe)},q}function Za(){return Ba([-158,21.5],[-77,39]).clipAngle(60).scale(400)}function Ba(V,$){return Fi(wi,V,$)}function cs(V){if(!(V*=2))return oe.N;var $=-V/2,q=-$,te=V*V,xe=v(q),Pe=.5/h(q);function U(ie,de){var Te=R(M(de)*M(ie-$)),Ee=R(M(de)*M(ie-q));return[((Te*=Te)-(Ee*=Ee))/(2*V),(de<0?-1:1)*L(4*te*Ee-(te-Te+Ee)*(te-Te+Ee))/(2*V)]}return U.invert=function(ie,de){var Te,Ee,Fe=de*de,Ye=M(L(Fe+(Te=ie+$)*Te)),Xe=M(L(Fe+(Te=ie+q)*Te));return[k(Ee=Ye-Xe,Te=(Ye+Xe)*xe),(de<0?-1:1)*R(L(Te*Te+Ee*Ee)*Pe)]},U}function fs(){return rl([-158,21.5],[-77,39]).clipAngle(130).scale(122.571)}function rl(V,$){return Fi(cs,V,$)}function Kl(V,$){if(E($)<p)return[V,0];var q=E($/m),te=O(q);if(E(V)<p||E(E($)-m)<p)return[0,u($)*_*v(te/2)];var xe=M(te),Pe=E(_/V-V/_)/2,U=Pe*Pe,ie=xe/(q+xe-1),de=ie*(2/q-1),Te=de*de,Ee=Te+U,Fe=ie-Te,Ye=U+ie;return[u(V)*_*(Pe*Fe+L(U*Fe*Fe-Ee*(ie*ie-Te)))/Ee,u($)*_*(de*Ye-Pe*L((U+1)*Ee-Ye*Ye))/Ee]}function ia(){return(0,D.Z)(Kl).scale(79.4183)}function Oa(V,$){if(E($)<p)return[V,0];var q=E($/m),te=O(q);if(E(V)<p||E(E($)-m)<p)return[0,u($)*_*v(te/2)];var xe=M(te),Pe=E(_/V-V/_)/2,U=Pe*Pe,ie=xe*(L(1+U)-Pe*xe)/(1+U*q*q);return[u(V)*_*ie,u($)*_*L(1-ie*(2*Pe+ie))]}function Kr(){return(0,D.Z)(Oa).scale(79.4183)}function ei(V,$){if(E($)<p)return[V,0];var q=$/m,te=O(q);if(E(V)<p||E(E($)-m)<p)return[0,_*v(te/2)];var xe=(_/V-V/_)/2,Pe=q/(1+M(te));return[_*(u(V)*L(xe*xe+1-Pe*Pe)-xe),_*Pe]}function zu(){return(0,D.Z)(ei).scale(79.4183)}function Xa(V,$){if(!$)return[V,0];var q=E($);if(!V||q===m)return[0,$];var te=q/m,xe=te*te,Pe=(8*te-xe*(xe+2)-5)/(2*xe*(te-1)),U=Pe*Pe,ie=te*Pe,de=xe+U+2*ie,Te=te+3*Pe,Ee=V/m,Fe=Ee+1/Ee,Ye=u(E(V)-m)*L(Fe*Fe-4),Xe=Ye*Ye,Qe=(Ye*(de+U-1)+2*L(de*(xe+U*Xe-1)+(1-xe)*(xe*(Te*Te+4*U)+12*ie*U+4*U*U)))/(4*de+Xe);return[u(V)*m*Qe,u($)*m*L(1+Ye*E(Qe)-Qe*Qe)]}function Ql(){return(0,D.Z)(Xa).scale(127.16)}function Pa(V,$,q,te){var xe=_/3;V=s(V,p),$=s($,p),V=a(V,m),$=a($,_-p),q=s(q,0),q=a(q,100-p);var Pe=(te=s(te,p))/100,U=R((q/100+1)*M(xe))/xe,ie=h(V)/h(U*m),de=$/_,Te=L(Pe*h(V/2)/h($/2));return function(Ee,Fe,Ye,Xe,Qe){function nt(lt,xt){var Mt=Ye*h(Xe*xt),jt=L(1-Mt*Mt),Vt=L(2/(1+jt*M(lt*=Qe)));return[Ee*jt*Vt*h(lt),Fe*Mt*Vt]}return nt.invert=function(lt,xt){var Mt=lt/Ee,jt=xt/Fe,Vt=L(Mt*Mt+jt*jt),Bt=2*O(Vt/2);return[k(lt*v(Bt),Ee*Vt)/Qe,Vt&&O(xt*h(Bt)/(Fe*Ye*Vt))/Xe]},nt}(Te/L(de*ie*U),1/(Te*L(de*ie*U)),ie,U,de)}function Bu(){var V=65*S,$=60*S,q=20,te=200,xe=(0,D.r)(Pa),Pe=xe(V,$,q,te);return Pe.poleline=function(U){return arguments.length?xe(V=+U*S,$,q,te):V*I},Pe.parallels=function(U){return arguments.length?xe(V,$=+U*S,q,te):$*I},Pe.inflation=function(U){return arguments.length?xe(V,$,q=+U,te):q},Pe.ratio=function(U){return arguments.length?xe(V,$,q,te=+U):te},Pe.scale(163.775)}function Ra(){return Bu().poleline(65).parallels(60).inflation(0).ratio(200).scale(172.633)}bo.invert=function(V,$){var q=$/1.70711,te=h(w*q);return[V/(.74482-.34588*te*te),2*f(q)]},Kl.invert=function(V,$){if(E($)<p)return[V,0];if(E(V)<p)return[0,m*h(2*f($/_))];var q=(V/=_)*V,te=($/=_)*$,xe=q+te,Pe=xe*xe,U=-E($)*(1+xe),ie=U-2*te+q,de=-2*U+1+2*te+Pe,Te=te/de+(2*ie*ie*ie/(de*de*de)-9*U*ie/(de*de))/27,Ee=(U-ie*ie/(3*de))/de,Fe=2*L(-Ee/3),Ye=R(3*Te/(Ee*Fe))/3;return[_*(xe-1+L(1+2*(q-te)+Pe))/(2*V),u($)*_*(-Fe*M(Ye+_/3)-ie/(3*de))]},Oa.invert=function(V,$){if(!V)return[0,m*h(2*f($/_))];var q=E(V/_),te=(1-q*q-($/=_)*$)/(2*q),xe=L(te*te+1);return[u(V)*_*(xe-te),u($)*m*h(2*k(L((1-2*te*q)*(te+xe)-q),L(xe+te+q)))]},ei.invert=function(V,$){if(!$)return[V,0];var q=$/_,te=(_*_*(1-q*q)-V*V)/(2*_*V);return[V?_*(u(V)*L(te*te+1)-te):0,m*h(2*f(q))]},Xa.invert=function(V,$){var q;if(!V||!$)return[V,$];$/=_;var te=u(V)*V/m,xe=(te*te-1+4*$*$)/E(te),Pe=xe*xe,U=2*$,ie=50;do{var de=U*U,Te=(8*U-de*(de+2)-5)/(2*de*(U-1)),Ee=(3*U-de*U-10)/(2*de*U),Fe=Te*Te,Ye=U*Te,Xe=U+Te,Qe=Xe*Xe,nt=U+3*Te,lt=-2*Xe*(4*Ye*Fe+(1-4*de+3*de*de)*(1+Ee)+Fe*(14*de-6-Pe+(8*de-8-2*Pe)*Ee)+Ye*(12*de-8+(10*de-10-Pe)*Ee)),xt=L(Qe*(de+Fe*Pe-1)+(1-de)*(de*(nt*nt+4*Fe)+Fe*(12*Ye+4*Fe)));U-=q=(xe*(Qe+Fe-1)+2*xt-te*(4*Qe+Pe))/(xe*(2*Te*Ee+2*Xe*(1+Ee))+lt/xt-8*Xe*(xe*(-1+Fe+Qe)+2*xt)*(1+Ee)/(Pe+4*Qe))}while(q>p&&--ie>0);return[u(V)*(L(xe*xe+4)+xe)*_/4,m*U]};var eu=4*_+3*L(3),tu=2*L(2*_*L(3)/eu),li=Ce(tu*L(3)/_,tu,eu/6);function ya(){return(0,D.Z)(li).scale(176.84)}function vl(V,$){return[V*L(1-3*$*$/(_*_)),$]}function ws(){return(0,D.Z)(vl).scale(152.63)}function Bl(V,$){var q=M($),te=M(V)*q,xe=1-te,Pe=M(V=k(h(V)*q,-h($))),U=h(V);return[U*(q=L(1-te*te))-Pe*xe,-Pe*q-U*xe]}function nu(){return(0,D.Z)(Bl).rotate([0,-90,45]).scale(124.75).clipAngle(179.999)}function yu(V,$){var q=Y(V,$);return[(q[0]+V/m)/2,(q[1]+$)/2]}function jl(){return(0,D.Z)(yu).scale(158.837)}vl.invert=function(V,$){return[V/L(1-3*$*$/(_*_)),$]},Bl.invert=function(V,$){var q=(V*V+$*$)/-2,te=L(-q*(2+q)),xe=$*q+V*te,Pe=V*q-$*te,U=L(Pe*Pe+xe*xe);return[k(te*xe,U*(1+q)),U?-O(te*Pe/U):0]},yu.invert=function(V,$){var q=V,te=$,xe=25;do{var Pe,U=M(te),ie=h(te),de=h(2*te),Te=ie*ie,Ee=U*U,Fe=h(q),Ye=M(q/2),Xe=h(q/2),Qe=Xe*Xe,nt=1-Ee*Ye*Ye,lt=nt?R(U*Ye)*L(Pe=1/nt):Pe=0,xt=.5*(2*lt*U*Xe+q/m)-V,Mt=.5*(lt*ie+te)-$,jt=.5*Pe*(Ee*Qe+lt*U*Ye*Te)+.5/m,Vt=Pe*(Fe*de/4-lt*ie*Xe),Bt=.125*Pe*(de*Xe-lt*ie*Ee*Fe),Xt=.5*Pe*(Te*Ye+lt*Qe*U)+.5,Ut=Vt*Bt-Xt*jt,mn=(Mt*Vt-xt*Xt)/Ut,sn=(xt*Bt-Mt*jt)/Ut;q-=mn,te-=sn}while((E(mn)>p||E(sn)>p)&&--xe>0);return[q,te]}},33940:function(ae,B,r){"use strict";function D(){return new E}function E(){this.reset()}r.d(B,{Z:function(){return D}}),E.prototype={constructor:E,reset:function(){this.s=this.t=0},add:function(M){k(f,M,this.t),k(this,f.s,this.s),this.s?this.t+=f.t:this.s=f.t},valueOf:function(){return this.s}};var f=new E;function k(M,y,c){var i=M.s=y+c,s=i-y;M.t=y-(i-s)+(c-s)}},97860:function(ae,B,r){"use strict";r.d(B,{L9:function(){return a},ZP:function(){return T},gL:function(){return l}});var D,E,f,k,M,y=r(33940),c=r(39695),i=r(73182),s=r(72736),a=(0,y.Z)(),o=(0,y.Z)(),l={point:i.Z,lineStart:i.Z,lineEnd:i.Z,polygonStart:function(){a.reset(),l.lineStart=u,l.lineEnd=h},polygonEnd:function(){var _=+a;o.add(_<0?c.BZ+_:_),this.lineStart=this.lineEnd=this.point=i.Z},sphere:function(){o.add(c.BZ)}};function u(){l.point=v}function h(){p(D,E)}function v(_,m){l.point=p,D=_,E=m,f=_*=c.uR,k=(0,c.mC)(m=(m*=c.uR)/2+c.pu),M=(0,c.O$)(m)}function p(_,m){m=(m*=c.uR)/2+c.pu;var w=(_*=c.uR)-f,x=w>=0?1:-1,b=x*w,A=(0,c.mC)(m),g=(0,c.O$)(m),I=M*g,S=k*A+I*(0,c.mC)(b),O=I*x*(0,c.O$)(b);a.add((0,c.fv)(O,S)),f=_,k=A,M=g}function T(_){return o.reset(),(0,s.Z)(_,l),2*o}},77338:function(ae,B,r){"use strict";r.d(B,{Z:function(){return R}});var D,E,f,k,M,y,c,i,s,a,o=r(33940),l=r(97860),u=r(7620),h=r(39695),v=r(72736),p=(0,o.Z)(),T={point:_,lineStart:w,lineEnd:x,polygonStart:function(){T.point=b,T.lineStart=A,T.lineEnd=g,p.reset(),l.gL.polygonStart()},polygonEnd:function(){l.gL.polygonEnd(),T.point=_,T.lineStart=w,T.lineEnd=x,l.L9<0?(D=-(f=180),E=-(k=90)):p>h.Ho?k=90:p<-h.Ho&&(E=-90),a[0]=D,a[1]=f},sphere:function(){D=-(f=180),E=-(k=90)}};function _(L,N){s.push(a=[D=L,f=L]),N<E&&(E=N),N>k&&(k=N)}function m(L,N){var j=(0,u.Og)([L*h.uR,N*h.uR]);if(i){var X=(0,u.T5)(i,j),Y=(0,u.T5)([X[1],-X[0],0],X);(0,u.iJ)(Y),Y=(0,u.Y1)(Y);var G,H=L-M,W=H>0?1:-1,Z=Y[0]*h.RW*W,se=(0,h.Wn)(H)>180;se^(W*M<Z&&Z<W*L)?(G=Y[1]*h.RW)>k&&(k=G):se^(W*M<(Z=(Z+360)%360-180)&&Z<W*L)?(G=-Y[1]*h.RW)<E&&(E=G):(N<E&&(E=N),N>k&&(k=N)),se?L<M?I(D,L)>I(D,f)&&(f=L):I(L,f)>I(D,f)&&(D=L):f>=D?(L<D&&(D=L),L>f&&(f=L)):L>M?I(D,L)>I(D,f)&&(f=L):I(L,f)>I(D,f)&&(D=L)}else s.push(a=[D=L,f=L]);N<E&&(E=N),N>k&&(k=N),i=j,M=L}function w(){T.point=m}function x(){a[0]=D,a[1]=f,T.point=_,i=null}function b(L,N){if(i){var j=L-M;p.add((0,h.Wn)(j)>180?j+(j>0?360:-360):j)}else y=L,c=N;l.gL.point(L,N),m(L,N)}function A(){l.gL.lineStart()}function g(){b(y,c),l.gL.lineEnd(),(0,h.Wn)(p)>h.Ho&&(D=-(f=180)),a[0]=D,a[1]=f,i=null}function I(L,N){return(N-=L)<0?N+360:N}function S(L,N){return L[0]-N[0]}function O(L,N){return L[0]<=L[1]?L[0]<=N&&N<=L[1]:N<L[0]||L[1]<N}function R(L){var N,j,X,F,Y,G,H;if(k=f=-(D=E=1/0),s=[],(0,v.Z)(L,T),j=s.length){for(s.sort(S),N=1,Y=[X=s[0]];N<j;++N)O(X,(F=s[N])[0])||O(X,F[1])?(I(X[0],F[1])>I(X[0],X[1])&&(X[1]=F[1]),I(F[0],X[1])>I(X[0],X[1])&&(X[0]=F[0])):Y.push(X=F);for(G=-1/0,N=0,X=Y[j=Y.length-1];N<=j;X=F,++N)(H=I(X[1],(F=Y[N])[0]))>G&&(G=H,D=F[0],f=X[1])}return s=a=null,D===1/0||E===1/0?[[NaN,NaN],[NaN,NaN]]:[[D,E],[f,k]]}},7620:function(ae,B,r){"use strict";r.d(B,{Og:function(){return f},T:function(){return c},T5:function(){return M},Y1:function(){return E},iJ:function(){return i},j9:function(){return k},s0:function(){return y}});var D=r(39695);function E(s){return[(0,D.fv)(s[1],s[0]),(0,D.ZR)(s[2])]}function f(s){var a=s[0],o=s[1],l=(0,D.mC)(o);return[l*(0,D.mC)(a),l*(0,D.O$)(a),(0,D.O$)(o)]}function k(s,a){return s[0]*a[0]+s[1]*a[1]+s[2]*a[2]}function M(s,a){return[s[1]*a[2]-s[2]*a[1],s[2]*a[0]-s[0]*a[2],s[0]*a[1]-s[1]*a[0]]}function y(s,a){s[0]+=a[0],s[1]+=a[1],s[2]+=a[2]}function c(s,a){return[s[0]*a,s[1]*a,s[2]*a]}function i(s){var a=(0,D._b)(s[0]*s[0]+s[1]*s[1]+s[2]*s[2]);s[0]/=a,s[1]/=a,s[2]/=a}},66624:function(ae,B,r){"use strict";r.d(B,{Z:function(){return j}});var D,E,f,k,M,y,c,i,s,a,o,l,u,h,v,p,T=r(39695),_=r(73182),m=r(72736),w={sphere:_.Z,point:x,lineStart:A,lineEnd:S,polygonStart:function(){w.lineStart=O,w.lineEnd=R},polygonEnd:function(){w.lineStart=A,w.lineEnd=S}};function x(X,F){X*=T.uR;var Y=(0,T.mC)(F*=T.uR);b(Y*(0,T.mC)(X),Y*(0,T.O$)(X),(0,T.O$)(F))}function b(X,F,Y){++D,f+=(X-f)/D,k+=(F-k)/D,M+=(Y-M)/D}function A(){w.point=g}function g(X,F){X*=T.uR;var Y=(0,T.mC)(F*=T.uR);h=Y*(0,T.mC)(X),v=Y*(0,T.O$)(X),p=(0,T.O$)(F),w.point=I,b(h,v,p)}function I(X,F){X*=T.uR;var Y=(0,T.mC)(F*=T.uR),G=Y*(0,T.mC)(X),H=Y*(0,T.O$)(X),W=(0,T.O$)(F),Z=(0,T.fv)((0,T._b)((Z=v*W-p*H)*Z+(Z=p*G-h*W)*Z+(Z=h*H-v*G)*Z),h*G+v*H+p*W);E+=Z,y+=Z*(h+(h=G)),c+=Z*(v+(v=H)),i+=Z*(p+(p=W)),b(h,v,p)}function S(){w.point=x}function O(){w.point=L}function R(){N(l,u),w.point=x}function L(X,F){l=X,u=F,X*=T.uR,F*=T.uR,w.point=N;var Y=(0,T.mC)(F);h=Y*(0,T.mC)(X),v=Y*(0,T.O$)(X),p=(0,T.O$)(F),b(h,v,p)}function N(X,F){X*=T.uR;var Y=(0,T.mC)(F*=T.uR),G=Y*(0,T.mC)(X),H=Y*(0,T.O$)(X),W=(0,T.O$)(F),Z=v*W-p*H,se=p*G-h*W,re=h*H-v*G,ne=(0,T._b)(Z*Z+se*se+re*re),Q=(0,T.ZR)(ne),ee=ne&&-Q/ne;s+=ee*Z,a+=ee*se,o+=ee*re,E+=Q,y+=Q*(h+(h=G)),c+=Q*(v+(v=H)),i+=Q*(p+(p=W)),b(h,v,p)}function j(X){D=E=f=k=M=y=c=i=s=a=o=0,(0,m.Z)(X,w);var F=s,Y=a,G=o,H=F*F+Y*Y+G*G;return H<T.aW&&(F=y,Y=c,G=i,E<T.Ho&&(F=f,Y=k,G=M),(H=F*F+Y*Y+G*G)<T.aW)?[NaN,NaN]:[(0,T.fv)(Y,F)*T.RW,(0,T.ZR)(G/(0,T._b)(H))*T.RW]}},7613:function(ae,B,r){"use strict";r.d(B,{m:function(){return M},Z:function(){return c}});var D=r(7620);function E(i){return function(){return i}}var f=r(39695),k=r(49386);function M(i,s,a,o,l,u){if(a){var h=(0,f.mC)(s),v=(0,f.O$)(s),p=o*a;null==l?(l=s+o*f.BZ,u=s-p/2):(l=y(h,l),u=y(h,u),(o>0?l<u:l>u)&&(l+=o*f.BZ));for(var T,_=l;o>0?_>u:_<u;_-=p)T=(0,D.Y1)([h,-v*(0,f.mC)(_),-v*(0,f.O$)(_)]),i.point(T[0],T[1])}}function y(i,s){(s=(0,D.Og)(s))[0]-=i,(0,D.iJ)(s);var a=(0,f.Kh)(-s[1]);return((-s[2]<0?-a:a)+f.BZ-f.Ho)%f.BZ}function c(){var i,s,a=E([0,0]),o=E(90),l=E(6),u={point:function(v,p){i.push(v=s(v,p)),v[0]*=f.RW,v[1]*=f.RW}};function h(){var v=a.apply(this,arguments),p=o.apply(this,arguments)*f.uR,T=l.apply(this,arguments)*f.uR;return i=[],s=(0,k.I)(-v[0]*f.uR,-v[1]*f.uR,0).invert,M(u,p,T,1),v={type:"Polygon",coordinates:[i]},i=s=null,v}return h.center=function(v){return arguments.length?(a="function"==typeof v?v:E([+v[0],+v[1]]),h):a},h.radius=function(v){return arguments.length?(o="function"==typeof v?v:E(+v),h):o},h.precision=function(v){return arguments.length?(l="function"==typeof v?v:E(+v),h):l},h}},87070:function(ae,B,r){"use strict";var D=r(97023),E=r(39695);B.Z=(0,D.Z)(function(){return!0},function(f){var k,M=NaN,y=NaN,c=NaN;return{lineStart:function(){f.lineStart(),k=1},point:function(i,s){var l,u,h,v,p,T,_,a=i>0?E.pi:-E.pi,o=(0,E.Wn)(i-M);(0,E.Wn)(o-E.pi)<E.Ho?(f.point(M,y=(y+s)/2>0?E.ou:-E.ou),f.point(c,y),f.lineEnd(),f.lineStart(),f.point(a,y),f.point(i,y),k=0):c!==a&&o>=E.pi&&((0,E.Wn)(M-c)<E.Ho&&(M-=c*E.Ho),(0,E.Wn)(i-a)<E.Ho&&(i-=a*E.Ho),u=y,v=s,_=(0,E.O$)((l=M)-(h=i)),y=(0,E.Wn)(_)>E.Ho?(0,E.z4)(((0,E.O$)(u)*(T=(0,E.mC)(v))*(0,E.O$)(h)-(0,E.O$)(v)*(p=(0,E.mC)(u))*(0,E.O$)(l))/(p*T*_)):(u+v)/2,f.point(c,y),f.lineEnd(),f.lineStart(),f.point(a,y),k=0),f.point(M=i,y=s),c=a},lineEnd:function(){f.lineEnd(),M=y=NaN},clean:function(){return 2-k}}},function(f,k,M,y){var c;if(null==f)y.point(-E.pi,c=M*E.ou),y.point(0,c),y.point(E.pi,c),y.point(E.pi,0),y.point(E.pi,-c),y.point(0,-c),y.point(-E.pi,-c),y.point(-E.pi,0),y.point(-E.pi,c);else if((0,E.Wn)(f[0]-k[0])>E.Ho){var i=f[0]<k[0]?E.pi:-E.pi;y.point(-i,c=M*i/2),y.point(0,c),y.point(i,c)}else y.point(k[0],k[1])},[-E.pi,-E.ou])},85272:function(ae,B,r){"use strict";r.d(B,{Z:function(){return E}});var D=r(73182);function E(){var f,k=[];return{point:function(M,y,c){f.push([M,y,c])},lineStart:function(){k.push(f=[])},lineEnd:D.Z,rejoin:function(){k.length>1&&k.push(k.pop().concat(k.shift()))},result:function(){var M=k;return k=[],f=null,M}}}},1457:function(ae,B,r){"use strict";r.d(B,{Z:function(){return y}});var D=r(7620),E=r(7613),f=r(39695),k=r(67108),M=r(97023);function y(c){var i=(0,f.mC)(c),s=6*f.uR,a=i>0,o=(0,f.Wn)(i)>f.Ho;function l(v,p){return(0,f.mC)(v)*(0,f.mC)(p)>i}function u(v,p,T){var _=(0,D.Og)(v),m=(0,D.Og)(p),w=[1,0,0],x=(0,D.T5)(_,m),b=(0,D.j9)(x,x),A=x[0],g=b-A*A;if(!g)return!T&&v;var I=i*b/g,S=-i*A/g,O=(0,D.T5)(w,x),R=(0,D.T)(w,I),L=(0,D.T)(x,S);(0,D.s0)(R,L);var N=O,j=(0,D.j9)(R,N),X=(0,D.j9)(N,N),F=j*j-X*((0,D.j9)(R,R)-1);if(!(F<0)){var Y=(0,f._b)(F),G=(0,D.T)(N,(-j-Y)/X);if((0,D.s0)(G,R),G=(0,D.Y1)(G),!T)return G;var H,W=v[0],Z=p[0],se=v[1],re=p[1];Z<W&&(H=W,W=Z,Z=H);var ne=Z-W,Q=(0,f.Wn)(ne-f.pi)<f.Ho;if(!Q&&re<se&&(H=se,se=re,re=H),Q||ne<f.Ho?Q?se+re>0^G[1]<((0,f.Wn)(G[0]-W)<f.Ho?se:re):se<=G[1]&&G[1]<=re:ne>f.pi^(W<=G[0]&&G[0]<=Z)){var ee=(0,D.T)(N,(-j+Y)/X);return(0,D.s0)(ee,R),[G,(0,D.Y1)(ee)]}}}function h(v,p){var T=a?c:f.pi-c,_=0;return v<-T?_|=1:v>T&&(_|=2),p<-T?_|=4:p>T&&(_|=8),_}return(0,M.Z)(l,function(v){var p,T,_,m,w;return{lineStart:function(){m=_=!1,w=1},point:function(x,b){var A,g=[x,b],I=l(x,b),S=a?I?0:h(x,b):I?h(x+(x<0?f.pi:-f.pi),b):0;if(!p&&(m=_=I)&&v.lineStart(),I!==_&&(!(A=u(p,g))||(0,k.Z)(p,A)||(0,k.Z)(g,A))&&(g[2]=1),I!==_)w=0,I?(v.lineStart(),A=u(g,p),v.point(A[0],A[1])):(A=u(p,g),v.point(A[0],A[1],2),v.lineEnd()),p=A;else if(o&&p&&a^I){var O;S&T||!(O=u(g,p,!0))||(w=0,a?(v.lineStart(),v.point(O[0][0],O[0][1]),v.point(O[1][0],O[1][1]),v.lineEnd()):(v.point(O[1][0],O[1][1]),v.lineEnd(),v.lineStart(),v.point(O[0][0],O[0][1],3)))}!I||p&&(0,k.Z)(p,g)||v.point(g[0],g[1]),p=g,_=I,T=S},lineEnd:function(){_&&v.lineEnd(),p=null},clean:function(){return w|(m&&_)<<1}}},function(v,p,T,_){(0,E.m)(_,c,s,T,v,p)},a?[0,-c]:[-f.pi,c-f.pi])}},97023:function(ae,B,r){"use strict";r.d(B,{Z:function(){return y}});var D=r(85272),E=r(46225),f=r(39695),k=r(23071),M=r(33064);function y(s,a,o,l){return function(u){var h,v,p,T=a(u),_=(0,D.Z)(),m=a(_),w=!1,x={point:b,lineStart:g,lineEnd:I,polygonStart:function(){x.point=S,x.lineStart=O,x.lineEnd=R,v=[],h=[]},polygonEnd:function(){x.point=b,x.lineStart=g,x.lineEnd=I,v=(0,M.TS)(v);var L=(0,k.Z)(h,l);v.length?(w||(u.polygonStart(),w=!0),(0,E.Z)(v,i,L,o,u)):L&&(w||(u.polygonStart(),w=!0),u.lineStart(),o(null,null,1,u),u.lineEnd()),w&&(u.polygonEnd(),w=!1),v=h=null},sphere:function(){u.polygonStart(),u.lineStart(),o(null,null,1,u),u.lineEnd(),u.polygonEnd()}};function b(L,N){s(L,N)&&u.point(L,N)}function A(L,N){T.point(L,N)}function g(){x.point=A,T.lineStart()}function I(){x.point=b,T.lineEnd()}function S(L,N){p.push([L,N]),m.point(L,N)}function O(){m.lineStart(),p=[]}function R(){S(p[0][0],p[0][1]),m.lineEnd();var L,N,j,X,F=m.clean(),Y=_.result(),G=Y.length;if(p.pop(),h.push(p),p=null,G)if(1&F){if((N=(j=Y[0]).length-1)>0){for(w||(u.polygonStart(),w=!0),u.lineStart(),L=0;L<N;++L)u.point((X=j[L])[0],X[1]);u.lineEnd()}}else G>1&&2&F&&Y.push(Y.pop().concat(Y.shift())),v.push(Y.filter(c))}return x}}function c(s){return s.length>1}function i(s,a){return((s=s.x)[0]<0?s[1]-f.ou-f.Ho:f.ou-s[1])-((a=a.x)[0]<0?a[1]-f.ou-f.Ho:f.ou-a[1])}},87605:function(ae,B,r){"use strict";r.d(B,{Z:function(){return c}});var D=r(39695),E=r(85272),f=r(46225),k=r(33064),M=1e9,y=-M;function c(i,s,a,o){function l(T,_){return i<=T&&T<=a&&s<=_&&_<=o}function u(T,_,m,w){var x=0,b=0;if(null==T||(x=h(T,m))!==(b=h(_,m))||p(T,_)<0^m>0)do{w.point(0===x||3===x?i:a,x>1?o:s)}while((x=(x+m+4)%4)!==b);else w.point(_[0],_[1])}function h(T,_){return(0,D.Wn)(T[0]-i)<D.Ho?_>0?0:3:(0,D.Wn)(T[0]-a)<D.Ho?_>0?2:1:(0,D.Wn)(T[1]-s)<D.Ho?_>0?1:0:_>0?3:2}function v(T,_){return p(T.x,_.x)}function p(T,_){var m=h(T,1),w=h(_,1);return m!==w?m-w:0===m?_[1]-T[1]:1===m?T[0]-_[0]:2===m?T[1]-_[1]:_[0]-T[0]}return function(T){var _,m,w,x,b,A,g,I,S,O,R,L=T,N=(0,E.Z)(),j={point:X,lineStart:function(){j.point=F,m&&m.push(w=[]),O=!0,S=!1,g=I=NaN},lineEnd:function(){_&&(F(x,b),A&&S&&N.rejoin(),_.push(N.result())),j.point=X,S&&L.lineEnd()},polygonStart:function(){L=N,_=[],m=[],R=!0},polygonEnd:function(){var Y=function(){for(var W=0,Z=0,se=m.length;Z<se;++Z)for(var re,ne,Q=m[Z],ee=1,oe=Q.length,ce=Q[0],fe=ce[0],le=ce[1];ee<oe;++ee)re=fe,ne=le,fe=(ce=Q[ee])[0],le=ce[1],ne<=o?le>o&&(fe-re)*(o-ne)>(le-ne)*(i-re)&&++W:le<=o&&(fe-re)*(o-ne)<(le-ne)*(i-re)&&--W;return W}(),G=R&&Y,H=(_=(0,k.TS)(_)).length;(G||H)&&(T.polygonStart(),G&&(T.lineStart(),u(null,null,1,T),T.lineEnd()),H&&(0,f.Z)(_,v,Y,u,T),T.polygonEnd()),L=T,_=m=w=null}};function X(Y,G){l(Y,G)&&L.point(Y,G)}function F(Y,G){var H=l(Y,G);if(m&&w.push([Y,G]),O)x=Y,b=G,A=H,O=!1,H&&(L.lineStart(),L.point(Y,G));else if(H&&S)L.point(Y,G);else{var W=[g=Math.max(y,Math.min(M,g)),I=Math.max(y,Math.min(M,I))],Z=[Y=Math.max(y,Math.min(M,Y)),G=Math.max(y,Math.min(M,G))];!function(se,re,ne,Q,ee,oe){var ce,fe=se[0],le=se[1],pe=0,Me=1,Ae=re[0]-fe,be=re[1]-le;if(ce=ne-fe,Ae||!(ce>0)){if(ce/=Ae,Ae<0){if(ce<pe)return;ce<Me&&(Me=ce)}else if(Ae>0){if(ce>Me)return;ce>pe&&(pe=ce)}if(ce=ee-fe,Ae||!(ce<0)){if(ce/=Ae,Ae<0){if(ce>Me)return;ce>pe&&(pe=ce)}else if(Ae>0){if(ce<pe)return;ce<Me&&(Me=ce)}if(ce=Q-le,be||!(ce>0)){if(ce/=be,be<0){if(ce<pe)return;ce<Me&&(Me=ce)}else if(be>0){if(ce>Me)return;ce>pe&&(pe=ce)}if(ce=oe-le,be||!(ce<0)){if(ce/=be,be<0){if(ce>Me)return;ce>pe&&(pe=ce)}else if(be>0){if(ce<pe)return;ce<Me&&(Me=ce)}return pe>0&&(se[0]=fe+pe*Ae,se[1]=le+pe*be),Me<1&&(re[0]=fe+Me*Ae,re[1]=le+Me*be),!0}}}}}(W,Z,i,s,a,o)?H&&(L.lineStart(),L.point(Y,G),R=!1):(S||(L.lineStart(),L.point(W[0],W[1])),L.point(Z[0],Z[1]),H||L.lineEnd(),R=!1)}g=Y,I=G,S=H}return j}}},46225:function(ae,B,r){"use strict";r.d(B,{Z:function(){return k}});var D=r(67108),E=r(39695);function f(y,c,i,s){this.x=y,this.z=c,this.o=i,this.e=s,this.v=!1,this.n=this.p=null}function k(y,c,i,s,a){var o,l,u=[],h=[];if(y.forEach(function(w){if(!((x=w.length-1)<=0)){var x,b,A=w[0],g=w[x];if((0,D.Z)(A,g)){if(!A[2]&&!g[2]){for(a.lineStart(),o=0;o<x;++o)a.point((A=w[o])[0],A[1]);return void a.lineEnd()}g[0]+=2*E.Ho}u.push(b=new f(A,w,null,!0)),h.push(b.o=new f(A,null,b,!1)),u.push(b=new f(g,w,null,!1)),h.push(b.o=new f(g,null,b,!0))}}),u.length){for(h.sort(c),M(u),M(h),o=0,l=h.length;o<l;++o)h[o].e=i=!i;for(var v,p,T=u[0];;){for(var _=T,m=!0;_.v;)if((_=_.n)===T)return;v=_.z,a.lineStart();do{if(_.v=_.o.v=!0,_.e){if(m)for(o=0,l=v.length;o<l;++o)a.point((p=v[o])[0],p[1]);else s(_.x,_.n.x,1,a);_=_.n}else{if(m)for(o=(v=_.p.z).length-1;o>=0;--o)a.point((p=v[o])[0],p[1]);else s(_.x,_.p.x,-1,a);_=_.p}v=(_=_.o).z,m=!m}while(!_.v);a.lineEnd()}}}function M(y){if(c=y.length){for(var c,i,s=0,a=y[0];++s<c;)a.n=i=y[s],i.p=a,a=i;a.n=i=y[0],i.p=a}}},96059:function(ae,B,r){"use strict";function D(E,f){function k(M,y){return M=E(M,y),f(M[0],M[1])}return E.invert&&f.invert&&(k.invert=function(M,y){return(M=f.invert(M,y))&&E.invert(M[0],M[1])}),k}r.d(B,{Z:function(){return D}})},8593:function(ae,B,r){"use strict";function D(E){return E}r.d(B,{Z:function(){return D}})},27362:function(ae,B,r){"use strict";r.r(B),r.d(B,{geoAlbers:function(){return St},geoAlbersUsa:function(){return Rt},geoArea:function(){return D.ZP},geoAzimuthalEqualArea:function(){return bt.Z},geoAzimuthalEqualAreaRaw:function(){return bt.l},geoAzimuthalEquidistant:function(){return Tt.Z},geoAzimuthalEquidistantRaw:function(){return Tt.N},geoBounds:function(){return E.Z},geoCentroid:function(){return f.Z},geoCircle:function(){return k.Z},geoClipAntimeridian:function(){return M.Z},geoClipCircle:function(){return y.Z},geoClipExtent:function(){return i},geoClipRectangle:function(){return c.Z},geoConicConformal:function(){return nn},geoConicConformalRaw:function(){return en},geoConicEqualArea:function(){return wt},geoConicEqualAreaRaw:function(){return At},geoConicEquidistant:function(){return Un},geoConicEquidistantRaw:function(){return On},geoContains:function(){return Y},geoDistance:function(){return I},geoEqualEarth:function(){return xn},geoEqualEarthRaw:function(){return kn},geoEquirectangular:function(){return fn.Z},geoEquirectangularRaw:function(){return fn.k},geoGnomonic:function(){return Rn.Z},geoGnomonicRaw:function(){return Rn.M},geoGraticule:function(){return Z},geoGraticule10:function(){return se},geoIdentity:function(){return En},geoInterpolate:function(){return oe.Z},geoLength:function(){return b},geoMercator:function(){return $t},geoMercatorRaw:function(){return Wt},geoNaturalEarth1:function(){return Wn.Z},geoNaturalEarth1Raw:function(){return Wn.K},geoOrthographic:function(){return gr.Z},geoOrthographicRaw:function(){return gr.I},geoPath:function(){return $e},geoProjection:function(){return dt.Z},geoProjectionMutator:function(){return dt.r},geoRotation:function(){return It.Z},geoStereographic:function(){return dr},geoStereographicRaw:function(){return wr},geoStream:function(){return p.Z},geoTransform:function(){return Hn.Z},geoTransverseMercator:function(){return Ir},geoTransverseMercatorRaw:function(){return mr}});var D=r(97860),E=r(77338),f=r(66624),k=r(7613),M=r(87070),y=r(1457),c=r(87605);function i(){var qt,tn,bn,Cn=0,Bn=0,sr=960,yn=500;return bn={stream:function(Zn){return qt&&tn===Zn?qt:qt=(0,c.Z)(Cn,Bn,sr,yn)(tn=Zn)},extent:function(Zn){return arguments.length?(Cn=+Zn[0][0],Bn=+Zn[0][1],sr=+Zn[1][0],yn=+Zn[1][1],qt=tn=null,bn):[[Cn,Bn],[sr,yn]]}}}var s,a,o,l=r(23071),u=r(33940),h=r(39695),v=r(73182),p=r(72736),T=(0,u.Z)(),_={sphere:v.Z,point:v.Z,lineStart:function(){_.point=w,_.lineEnd=m},lineEnd:v.Z,polygonStart:v.Z,polygonEnd:v.Z};function m(){_.point=_.lineEnd=v.Z}function w(qt,tn){s=qt*=h.uR,a=(0,h.O$)(tn*=h.uR),o=(0,h.mC)(tn),_.point=x}function x(qt,tn){qt*=h.uR;var bn=(0,h.O$)(tn*=h.uR),Cn=(0,h.mC)(tn),Bn=(0,h.Wn)(qt-s),sr=(0,h.mC)(Bn),yn=Cn*(0,h.O$)(Bn),Zn=o*bn-a*Cn*sr,Xn=a*bn+o*Cn*sr;T.add((0,h.fv)((0,h._b)(yn*yn+Zn*Zn),Xn)),s=qt,a=bn,o=Cn}function b(qt){return T.reset(),(0,p.Z)(qt,_),+T}var A=[null,null],g={type:"LineString",coordinates:A};function I(qt,tn){return A[0]=qt,A[1]=tn,b(g)}var S={Feature:function(qt,tn){return R(qt.geometry,tn)},FeatureCollection:function(qt,tn){for(var bn=qt.features,Cn=-1,Bn=bn.length;++Cn<Bn;)if(R(bn[Cn].geometry,tn))return!0;return!1}},O={Sphere:function(){return!0},Point:function(qt,tn){return L(qt.coordinates,tn)},MultiPoint:function(qt,tn){for(var bn=qt.coordinates,Cn=-1,Bn=bn.length;++Cn<Bn;)if(L(bn[Cn],tn))return!0;return!1},LineString:function(qt,tn){return N(qt.coordinates,tn)},MultiLineString:function(qt,tn){for(var bn=qt.coordinates,Cn=-1,Bn=bn.length;++Cn<Bn;)if(N(bn[Cn],tn))return!0;return!1},Polygon:function(qt,tn){return j(qt.coordinates,tn)},MultiPolygon:function(qt,tn){for(var bn=qt.coordinates,Cn=-1,Bn=bn.length;++Cn<Bn;)if(j(bn[Cn],tn))return!0;return!1},GeometryCollection:function(qt,tn){for(var bn=qt.geometries,Cn=-1,Bn=bn.length;++Cn<Bn;)if(R(bn[Cn],tn))return!0;return!1}};function R(qt,tn){return!(!qt||!O.hasOwnProperty(qt.type))&&O[qt.type](qt,tn)}function L(qt,tn){return 0===I(qt,tn)}function N(qt,tn){for(var bn,Cn,Bn,sr=0,yn=qt.length;sr<yn;sr++){if(0===(Cn=I(qt[sr],tn))||sr>0&&(Bn=I(qt[sr],qt[sr-1]))>0&&bn<=Bn&&Cn<=Bn&&(bn+Cn-Bn)*(1-Math.pow((bn-Cn)/Bn,2))<h.aW*Bn)return!0;bn=Cn}return!1}function j(qt,tn){return!!(0,l.Z)(qt.map(X),F(tn))}function X(qt){return(qt=qt.map(F)).pop(),qt}function F(qt){return[qt[0]*h.uR,qt[1]*h.uR]}function Y(qt,tn){return(qt&&S.hasOwnProperty(qt.type)?S[qt.type]:R)(qt,tn)}var G=r(33064);function H(qt,tn,bn){var Cn=(0,G.w6)(qt,tn-h.Ho,bn).concat(tn);return function(Bn){return Cn.map(function(sr){return[Bn,sr]})}}function W(qt,tn,bn){var Cn=(0,G.w6)(qt,tn-h.Ho,bn).concat(tn);return function(Bn){return Cn.map(function(sr){return[sr,Bn]})}}function Z(){var qt,tn,bn,Cn,Bn,sr,yn,Zn,Xn,Jt,Nn,Ft,an=10,hn=an,Dn=90,Ln=360,Vn=2.5;function Mn(){return{type:"MultiLineString",coordinates:ln()}}function ln(){return(0,G.w6)((0,h.mD)(Cn/Dn)*Dn,bn,Dn).map(Nn).concat((0,G.w6)((0,h.mD)(Zn/Ln)*Ln,yn,Ln).map(Ft)).concat((0,G.w6)((0,h.mD)(tn/an)*an,qt,an).filter(function(cn){return(0,h.Wn)(cn%Dn)>h.Ho}).map(Xn)).concat((0,G.w6)((0,h.mD)(sr/hn)*hn,Bn,hn).filter(function(cn){return(0,h.Wn)(cn%Ln)>h.Ho}).map(Jt))}return Mn.lines=function(){return ln().map(function(cn){return{type:"LineString",coordinates:cn}})},Mn.outline=function(){return{type:"Polygon",coordinates:[Nn(Cn).concat(Ft(yn).slice(1),Nn(bn).reverse().slice(1),Ft(Zn).reverse().slice(1))]}},Mn.extent=function(cn){return arguments.length?Mn.extentMajor(cn).extentMinor(cn):Mn.extentMinor()},Mn.extentMajor=function(cn){return arguments.length?(Zn=+cn[0][1],yn=+cn[1][1],(Cn=+cn[0][0])>(bn=+cn[1][0])&&(cn=Cn,Cn=bn,bn=cn),Zn>yn&&(cn=Zn,Zn=yn,yn=cn),Mn.precision(Vn)):[[Cn,Zn],[bn,yn]]},Mn.extentMinor=function(cn){return arguments.length?(sr=+cn[0][1],Bn=+cn[1][1],(tn=+cn[0][0])>(qt=+cn[1][0])&&(cn=tn,tn=qt,qt=cn),sr>Bn&&(cn=sr,sr=Bn,Bn=cn),Mn.precision(Vn)):[[tn,sr],[qt,Bn]]},Mn.step=function(cn){return arguments.length?Mn.stepMajor(cn).stepMinor(cn):Mn.stepMinor()},Mn.stepMajor=function(cn){return arguments.length?(Dn=+cn[0],Ln=+cn[1],Mn):[Dn,Ln]},Mn.stepMinor=function(cn){return arguments.length?(an=+cn[0],hn=+cn[1],Mn):[an,hn]},Mn.precision=function(cn){return arguments.length?(Vn=+cn,Xn=H(sr,Bn,90),Jt=W(tn,qt,Vn),Nn=H(Zn,yn,90),Ft=W(Cn,bn,Vn),Mn):Vn},Mn.extentMajor([[-180,-90+h.Ho],[180,90-h.Ho]]).extentMinor([[-180,-80-h.Ho],[180,80+h.Ho]])}function se(){return Z()()}var re,ne,Q,ee,oe=r(83074),ce=r(8593),fe=(0,u.Z)(),le=(0,u.Z)(),pe={point:v.Z,lineStart:v.Z,lineEnd:v.Z,polygonStart:function(){pe.lineStart=Me,pe.lineEnd=ye},polygonEnd:function(){pe.lineStart=pe.lineEnd=pe.point=v.Z,fe.add((0,h.Wn)(le)),le.reset()},result:function(){var qt=fe/2;return fe.reset(),qt}};function Me(){pe.point=Ae}function Ae(qt,tn){pe.point=be,re=Q=qt,ne=ee=tn}function be(qt,tn){le.add(ee*qt-Q*tn),Q=qt,ee=tn}function ye(){be(re,ne)}var we,ze,Se,Ce,ge=pe,he=r(3559),_e=0,Le=0,Ie=0,De=0,je=0,qe=0,ve=0,Oe=0,ke=0,Be={point:We,lineStart:Ge,lineEnd:at,polygonStart:function(){Be.lineStart=mt,Be.lineEnd=ct},polygonEnd:function(){Be.point=We,Be.lineStart=Ge,Be.lineEnd=at},result:function(){var qt=ke?[ve/ke,Oe/ke]:qe?[De/qe,je/qe]:Ie?[_e/Ie,Le/Ie]:[NaN,NaN];return _e=Le=Ie=De=je=qe=ve=Oe=ke=0,qt}};function We(qt,tn){_e+=qt,Le+=tn,++Ie}function Ge(){Be.point=Ke}function Ke(qt,tn){Be.point=et,We(Se=qt,Ce=tn)}function et(qt,tn){var bn=qt-Se,Cn=tn-Ce,Bn=(0,h._b)(bn*bn+Cn*Cn);De+=Bn*(Se+qt)/2,je+=Bn*(Ce+tn)/2,qe+=Bn,We(Se=qt,Ce=tn)}function at(){Be.point=We}function mt(){Be.point=kt}function ct(){Dt(we,ze)}function kt(qt,tn){Be.point=Dt,We(we=Se=qt,ze=Ce=tn)}function Dt(qt,tn){var bn=qt-Se,Cn=tn-Ce,Bn=(0,h._b)(bn*bn+Cn*Cn);De+=Bn*(Se+qt)/2,je+=Bn*(Ce+tn)/2,qe+=Bn,ve+=(Bn=Ce*qt-Se*tn)*(Se+qt),Oe+=Bn*(Ce+tn),ke+=3*Bn,We(Se=qt,Ce=tn)}var Et=Be;function ht(qt){this._context=qt}ht.prototype={_radius:4.5,pointRadius:function(qt){return this._radius=qt,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(qt,tn){switch(this._point){case 0:this._context.moveTo(qt,tn),this._point=1;break;case 1:this._context.lineTo(qt,tn);break;default:this._context.moveTo(qt+this._radius,tn),this._context.arc(qt,tn,this._radius,0,h.BZ)}},result:v.Z};var pt,Pt,zt,Ht,Lt,tt=(0,u.Z)(),it={point:v.Z,lineStart:function(){it.point=Je},lineEnd:function(){pt&&ot(Pt,zt),it.point=v.Z},polygonStart:function(){pt=!0},polygonEnd:function(){pt=null},result:function(){var qt=+tt;return tt.reset(),qt}};function Je(qt,tn){it.point=ot,Pt=Ht=qt,zt=Lt=tn}function ot(qt,tn){tt.add((0,h._b)((Ht-=qt)*Ht+(Lt-=tn)*Lt)),Ht=qt,Lt=tn}var gt=it;function ft(){this._string=[]}function Ue(qt){return"m0,"+qt+"a"+qt+","+qt+" 0 1,1 0,"+-2*qt+"a"+qt+","+qt+" 0 1,1 0,"+2*qt+"z"}function $e(qt,tn){var bn,Cn,Bn=4.5;function sr(yn){return yn&&("function"==typeof Bn&&Cn.pointRadius(+Bn.apply(this,arguments)),(0,p.Z)(yn,bn(Cn))),Cn.result()}return sr.area=function(yn){return(0,p.Z)(yn,bn(ge)),ge.result()},sr.measure=function(yn){return(0,p.Z)(yn,bn(gt)),gt.result()},sr.bounds=function(yn){return(0,p.Z)(yn,bn(he.Z)),he.Z.result()},sr.centroid=function(yn){return(0,p.Z)(yn,bn(Et)),Et.result()},sr.projection=function(yn){return arguments.length?(bn=null==yn?(qt=null,ce.Z):(qt=yn).stream,sr):qt},sr.context=function(yn){return arguments.length?(Cn=null==yn?(tn=null,new ft):new ht(tn=yn),"function"!=typeof Bn&&Cn.pointRadius(Bn),sr):tn},sr.pointRadius=function(yn){return arguments.length?(Bn="function"==typeof yn?yn:(Cn.pointRadius(+yn),+yn),sr):Bn},sr.projection(qt).context(tn)}ft.prototype={_radius:4.5,_circle:Ue(4.5),pointRadius:function(qt){return(qt=+qt)!==this._radius&&(this._radius=qt,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(qt,tn){switch(this._point){case 0:this._string.push("M",qt,",",tn),this._point=1;break;case 1:this._string.push("L",qt,",",tn);break;default:null==this._circle&&(this._circle=Ue(this._radius)),this._string.push("M",qt,",",tn,this._circle)}},result:function(){if(this._string.length){var qt=this._string.join("");return this._string=[],qt}return null}};var dt=r(15002);function ut(qt){var tn=0,bn=h.pi/3,Cn=(0,dt.r)(qt),Bn=Cn(tn,bn);return Bn.parallels=function(sr){return arguments.length?Cn(tn=sr[0]*h.uR,bn=sr[1]*h.uR):[tn*h.RW,bn*h.RW]},Bn}function At(qt,tn){var bn=(0,h.O$)(qt),Cn=(bn+(0,h.O$)(tn))/2;if((0,h.Wn)(Cn)<h.Ho)return function(Zn){var Xn=(0,h.mC)(Zn);function Jt(Nn,Ft){return[Nn*Xn,(0,h.O$)(Ft)/Xn]}return Jt.invert=function(Nn,Ft){return[Nn/Xn,(0,h.ZR)(Ft*Xn)]},Jt}(qt);var Bn=1+bn*(2*Cn-bn),sr=(0,h._b)(Bn)/Cn;function yn(Zn,Xn){var Jt=(0,h._b)(Bn-2*Cn*(0,h.O$)(Xn))/Cn;return[Jt*(0,h.O$)(Zn*=Cn),sr-Jt*(0,h.mC)(Zn)]}return yn.invert=function(Zn,Xn){var Jt=sr-Xn,Nn=(0,h.fv)(Zn,(0,h.Wn)(Jt))*(0,h.Xx)(Jt);return Jt*Cn<0&&(Nn-=h.pi*(0,h.Xx)(Zn)*(0,h.Xx)(Jt)),[Nn/Cn,(0,h.ZR)((Bn-(Zn*Zn+Jt*Jt)*Cn*Cn)/(2*Cn))]},yn}function wt(){return ut(At).scale(155.424).center([0,33.6442])}function St(){return wt().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}var _t=r(47589);function Rt(){var qt,tn,bn,Cn,Bn,sr,yn=St(),Zn=wt().rotate([154,0]).center([-2,58.5]).parallels([55,65]),Xn=wt().rotate([157,0]).center([-3,19.9]).parallels([8,18]),Jt={point:function(an,hn){sr=[an,hn]}};function Nn(an){var hn=an[0],Dn=an[1];return sr=null,bn.point(hn,Dn),sr||(Cn.point(hn,Dn),sr)||(Bn.point(hn,Dn),sr)}function Ft(){return qt=tn=null,Nn}return Nn.invert=function(an){var hn=yn.scale(),Dn=yn.translate(),Ln=(an[0]-Dn[0])/hn,Vn=(an[1]-Dn[1])/hn;return(Vn>=.12&&Vn<.234&&Ln>=-.425&&Ln<-.214?Zn:Vn>=.166&&Vn<.234&&Ln>=-.214&&Ln<-.115?Xn:yn).invert(an)},Nn.stream=function(an){return qt&&tn===an?qt:(hn=[yn.stream(tn=an),Zn.stream(an),Xn.stream(an)],Dn=hn.length,qt={point:function(Ln,Vn){for(var Mn=-1;++Mn<Dn;)hn[Mn].point(Ln,Vn)},sphere:function(){for(var Ln=-1;++Ln<Dn;)hn[Ln].sphere()},lineStart:function(){for(var Ln=-1;++Ln<Dn;)hn[Ln].lineStart()},lineEnd:function(){for(var Ln=-1;++Ln<Dn;)hn[Ln].lineEnd()},polygonStart:function(){for(var Ln=-1;++Ln<Dn;)hn[Ln].polygonStart()},polygonEnd:function(){for(var Ln=-1;++Ln<Dn;)hn[Ln].polygonEnd()}});var hn,Dn},Nn.precision=function(an){return arguments.length?(yn.precision(an),Zn.precision(an),Xn.precision(an),Ft()):yn.precision()},Nn.scale=function(an){return arguments.length?(yn.scale(an),Zn.scale(.35*an),Xn.scale(an),Nn.translate(yn.translate())):yn.scale()},Nn.translate=function(an){if(!arguments.length)return yn.translate();var hn=yn.scale(),Dn=+an[0],Ln=+an[1];return bn=yn.translate(an).clipExtent([[Dn-.455*hn,Ln-.238*hn],[Dn+.455*hn,Ln+.238*hn]]).stream(Jt),Cn=Zn.translate([Dn-.307*hn,Ln+.201*hn]).clipExtent([[Dn-.425*hn+h.Ho,Ln+.12*hn+h.Ho],[Dn-.214*hn-h.Ho,Ln+.234*hn-h.Ho]]).stream(Jt),Bn=Xn.translate([Dn-.205*hn,Ln+.212*hn]).clipExtent([[Dn-.214*hn+h.Ho,Ln+.166*hn+h.Ho],[Dn-.115*hn-h.Ho,Ln+.234*hn-h.Ho]]).stream(Jt),Ft()},Nn.fitExtent=function(an,hn){return(0,_t.qg)(Nn,an,hn)},Nn.fitSize=function(an,hn){return(0,_t.mF)(Nn,an,hn)},Nn.fitWidth=function(an,hn){return(0,_t.V6)(Nn,an,hn)},Nn.fitHeight=function(an,hn){return(0,_t.rf)(Nn,an,hn)},Nn.scale(1070)}var bt=r(12956),Tt=r(17889),It=r(49386);function Wt(qt,tn){return[qt,(0,h.cM)((0,h.OR)((h.ou+tn)/2))]}function $t(){return Qt(Wt).scale(961/h.BZ)}function Qt(qt){var tn,bn,Cn,Bn=(0,dt.Z)(qt),sr=Bn.center,yn=Bn.scale,Zn=Bn.translate,Xn=Bn.clipExtent,Jt=null;function Nn(){var Ft=h.pi*yn(),an=Bn((0,It.Z)(Bn.rotate()).invert([0,0]));return Xn(null==Jt?[[an[0]-Ft,an[1]-Ft],[an[0]+Ft,an[1]+Ft]]:qt===Wt?[[Math.max(an[0]-Ft,Jt),tn],[Math.min(an[0]+Ft,bn),Cn]]:[[Jt,Math.max(an[1]-Ft,tn)],[bn,Math.min(an[1]+Ft,Cn)]])}return Bn.scale=function(Ft){return arguments.length?(yn(Ft),Nn()):yn()},Bn.translate=function(Ft){return arguments.length?(Zn(Ft),Nn()):Zn()},Bn.center=function(Ft){return arguments.length?(sr(Ft),Nn()):sr()},Bn.clipExtent=function(Ft){return arguments.length?(null==Ft?Jt=tn=bn=Cn=null:(Jt=+Ft[0][0],tn=+Ft[0][1],bn=+Ft[1][0],Cn=+Ft[1][1]),Nn()):null==Jt?null:[[Jt,tn],[bn,Cn]]},Nn()}function pn(qt){return(0,h.OR)((h.ou+qt)/2)}function en(qt,tn){var bn=(0,h.mC)(qt),Cn=qt===tn?(0,h.O$)(qt):(0,h.cM)(bn/(0,h.mC)(tn))/(0,h.cM)(pn(tn)/pn(qt)),Bn=bn*(0,h.sQ)(pn(qt),Cn)/Cn;if(!Cn)return Wt;function sr(yn,Zn){Bn>0?Zn<-h.ou+h.Ho&&(Zn=-h.ou+h.Ho):Zn>h.ou-h.Ho&&(Zn=h.ou-h.Ho);var Xn=Bn/(0,h.sQ)(pn(Zn),Cn);return[Xn*(0,h.O$)(Cn*yn),Bn-Xn*(0,h.mC)(Cn*yn)]}return sr.invert=function(yn,Zn){var Xn=Bn-Zn,Jt=(0,h.Xx)(Cn)*(0,h._b)(yn*yn+Xn*Xn),Nn=(0,h.fv)(yn,(0,h.Wn)(Xn))*(0,h.Xx)(Xn);return Xn*Cn<0&&(Nn-=h.pi*(0,h.Xx)(yn)*(0,h.Xx)(Xn)),[Nn/Cn,2*(0,h.z4)((0,h.sQ)(Bn/Jt,1/Cn))-h.ou]},sr}function nn(){return ut(en).scale(109.5).parallels([30,30])}Wt.invert=function(qt,tn){return[qt,2*(0,h.z4)((0,h.Qq)(tn))-h.ou]};var fn=r(97492);function On(qt,tn){var bn=(0,h.mC)(qt),Cn=qt===tn?(0,h.O$)(qt):(bn-(0,h.mC)(tn))/(tn-qt),Bn=bn/Cn+qt;if((0,h.Wn)(Cn)<h.Ho)return fn.k;function sr(yn,Zn){var Xn=Bn-Zn,Jt=Cn*yn;return[Xn*(0,h.O$)(Jt),Bn-Xn*(0,h.mC)(Jt)]}return sr.invert=function(yn,Zn){var Xn=Bn-Zn,Jt=(0,h.fv)(yn,(0,h.Wn)(Xn))*(0,h.Xx)(Xn);return Xn*Cn<0&&(Jt-=h.pi*(0,h.Xx)(yn)*(0,h.Xx)(Xn)),[Jt/Cn,Bn-(0,h.Xx)(Cn)*(0,h._b)(yn*yn+Xn*Xn)]},sr}function Un(){return ut(On).scale(131.154).center([0,13.9389])}var Sn=1.340264,on=-.081106,vn=893e-6,un=.003796,Tn=(0,h._b)(3)/2;function kn(qt,tn){var bn=(0,h.ZR)(Tn*(0,h.O$)(tn)),Cn=bn*bn,Bn=Cn*Cn*Cn;return[qt*(0,h.mC)(bn)/(Tn*(Sn+3*on*Cn+Bn*(7*vn+9*un*Cn))),bn*(Sn+on*Cn+Bn*(vn+un*Cn))]}function xn(){return(0,dt.Z)(kn).scale(177.158)}kn.invert=function(qt,tn){for(var bn,Cn=tn,Bn=Cn*Cn,sr=Bn*Bn*Bn,yn=0;yn<12&&(sr=(Bn=(Cn-=bn=(Cn*(Sn+on*Bn+sr*(vn+un*Bn))-tn)/(Sn+3*on*Bn+sr*(7*vn+9*un*Bn)))*Cn)*Bn*Bn,!((0,h.Wn)(bn)<h.aW));++yn);return[Tn*qt*(Sn+3*on*Bn+sr*(7*vn+9*un*Bn))/(0,h.mC)(Cn),(0,h.ZR)((0,h.O$)(Cn)/Tn)]};var Rn=r(98936),Hn=r(64684);function En(){var qt,tn,bn,Cn,Bn,sr,yn,Zn=1,Xn=0,Jt=0,Nn=1,Ft=1,an=0,hn=null,Dn=1,Ln=1,Vn=(0,Hn.l)({point:function(wn,An){var Gn=cn([wn,An]);this.stream.point(Gn[0],Gn[1])}}),Mn=ce.Z;function ln(){return Dn=Zn*Nn,Ln=Zn*Ft,sr=yn=null,cn}function cn(wn){var An=wn[0]*Dn,Gn=wn[1]*Ln;if(an){var Yn=Gn*qt-An*tn;An=An*qt+Gn*tn,Gn=Yn}return[An+Xn,Gn+Jt]}return cn.invert=function(wn){var An=wn[0]-Xn,Gn=wn[1]-Jt;if(an){var Yn=Gn*qt+An*tn;An=An*qt-Gn*tn,Gn=Yn}return[An/Dn,Gn/Ln]},cn.stream=function(wn){return sr&&yn===wn?sr:sr=Vn(Mn(yn=wn))},cn.postclip=function(wn){return arguments.length?(Mn=wn,hn=bn=Cn=Bn=null,ln()):Mn},cn.clipExtent=function(wn){return arguments.length?(Mn=null==wn?(hn=bn=Cn=Bn=null,ce.Z):(0,c.Z)(hn=+wn[0][0],bn=+wn[0][1],Cn=+wn[1][0],Bn=+wn[1][1]),ln()):null==hn?null:[[hn,bn],[Cn,Bn]]},cn.scale=function(wn){return arguments.length?(Zn=+wn,ln()):Zn},cn.translate=function(wn){return arguments.length?(Xn=+wn[0],Jt=+wn[1],ln()):[Xn,Jt]},cn.angle=function(wn){return arguments.length?(tn=(0,h.O$)(an=wn%360*h.uR),qt=(0,h.mC)(an),ln()):an*h.RW},cn.reflectX=function(wn){return arguments.length?(Nn=wn?-1:1,ln()):Nn<0},cn.reflectY=function(wn){return arguments.length?(Ft=wn?-1:1,ln()):Ft<0},cn.fitExtent=function(wn,An){return(0,_t.qg)(cn,wn,An)},cn.fitSize=function(wn,An){return(0,_t.mF)(cn,wn,An)},cn.fitWidth=function(wn,An){return(0,_t.V6)(cn,wn,An)},cn.fitHeight=function(wn,An){return(0,_t.rf)(cn,wn,An)},cn}var Wn=r(26867),gr=r(57962),lr=r(25382);function wr(qt,tn){var bn=(0,h.mC)(tn),Cn=1+(0,h.mC)(qt)*bn;return[bn*(0,h.O$)(qt)/Cn,(0,h.O$)(tn)/Cn]}function dr(){return(0,dt.Z)(wr).scale(250).clipAngle(142)}function mr(qt,tn){return[(0,h.cM)((0,h.OR)((h.ou+tn)/2)),-qt]}function Ir(){var qt=Qt(mr),tn=qt.center,bn=qt.rotate;return qt.center=function(Cn){return arguments.length?tn([-Cn[1],Cn[0]]):[(Cn=tn())[1],-Cn[0]]},qt.rotate=function(Cn){return arguments.length?bn([Cn[0],Cn[1],Cn.length>2?Cn[2]+90:90]):[(Cn=bn())[0],Cn[1],Cn[2]-90]},bn([0,0,90]).scale(159.155)}wr.invert=(0,lr.O)(function(qt){return 2*(0,h.z4)(qt)}),mr.invert=function(qt,tn){return[-tn,2*(0,h.z4)((0,h.Qq)(qt))-h.ou]}},83074:function(ae,B,r){"use strict";r.d(B,{Z:function(){return E}});var D=r(39695);function E(f,k){var M=f[0]*D.uR,y=f[1]*D.uR,c=k[0]*D.uR,i=k[1]*D.uR,s=(0,D.mC)(y),a=(0,D.O$)(y),o=(0,D.mC)(i),l=(0,D.O$)(i),u=s*(0,D.mC)(M),h=s*(0,D.O$)(M),v=o*(0,D.mC)(c),p=o*(0,D.O$)(c),T=2*(0,D.ZR)((0,D._b)((0,D.Jy)(i-y)+s*o*(0,D.Jy)(c-M))),_=(0,D.O$)(T),m=T?function(w){var x=(0,D.O$)(w*=T)/_,b=(0,D.O$)(T-w)/_,A=b*u+x*v,g=b*h+x*p,I=b*a+x*l;return[(0,D.fv)(g,A)*D.RW,(0,D.fv)(I,(0,D._b)(A*A+g*g))*D.RW]}:function(){return[M*D.RW,y*D.RW]};return m.distance=T,m}},39695:function(ae,B,r){"use strict";r.d(B,{BZ:function(){return y},Ho:function(){return D},Jy:function(){return A},Kh:function(){return x},O$:function(){return T},OR:function(){return w},Qq:function(){return h},RW:function(){return c},Wn:function(){return s},Xx:function(){return _},ZR:function(){return b},_b:function(){return m},aW:function(){return E},cM:function(){return v},fv:function(){return o},mC:function(){return l},mD:function(){return u},ou:function(){return k},pi:function(){return f},pu:function(){return M},sQ:function(){return p},uR:function(){return i},z4:function(){return a}});var D=1e-6,E=1e-12,f=Math.PI,k=f/2,M=f/4,y=2*f,c=180/f,i=f/180,s=Math.abs,a=Math.atan,o=Math.atan2,l=Math.cos,u=Math.ceil,h=Math.exp,v=Math.log,p=Math.pow,T=Math.sin,_=Math.sign||function(g){return g>0?1:g<0?-1:0},m=Math.sqrt,w=Math.tan;function x(g){return g>1?0:g<-1?f:Math.acos(g)}function b(g){return g>1?k:g<-1?-k:Math.asin(g)}function A(g){return(g=T(g/2))*g}},73182:function(ae,B,r){"use strict";function D(){}r.d(B,{Z:function(){return D}})},3559:function(ae,B,r){"use strict";var D=r(73182),E=1/0,f=E,k=-E,M=k;B.Z={point:function(c,i){c<E&&(E=c),c>k&&(k=c),i<f&&(f=i),i>M&&(M=i)},lineStart:D.Z,lineEnd:D.Z,polygonStart:D.Z,polygonEnd:D.Z,result:function(){var c=[[E,f],[k,M]];return k=M=-(f=E=1/0),c}}},67108:function(ae,B,r){"use strict";r.d(B,{Z:function(){return E}});var D=r(39695);function E(f,k){return(0,D.Wn)(f[0]-k[0])<D.Ho&&(0,D.Wn)(f[1]-k[1])<D.Ho}},23071:function(ae,B,r){"use strict";r.d(B,{Z:function(){return y}});var D=r(33940),E=r(7620),f=r(39695),k=(0,D.Z)();function M(c){return(0,f.Wn)(c[0])<=f.pi?c[0]:(0,f.Xx)(c[0])*(((0,f.Wn)(c[0])+f.pi)%f.BZ-f.pi)}function y(c,i){var s=M(i),a=i[1],o=(0,f.O$)(a),l=[(0,f.O$)(s),-(0,f.mC)(s),0],u=0,h=0;k.reset(),1===o?a=f.ou+f.Ho:-1===o&&(a=-f.ou-f.Ho);for(var v=0,p=c.length;v<p;++v)if(_=(T=c[v]).length)for(var T,_,m=T[_-1],w=M(m),x=m[1]/2+f.pu,b=(0,f.O$)(x),A=(0,f.mC)(x),g=0;g<_;++g,w=S,b=R,A=L,m=I){var I=T[g],S=M(I),O=I[1]/2+f.pu,R=(0,f.O$)(O),L=(0,f.mC)(O),N=S-w,j=N>=0?1:-1,X=j*N,F=X>f.pi,Y=b*R;if(k.add((0,f.fv)(Y*j*(0,f.O$)(X),A*L+Y*(0,f.mC)(X))),u+=F?N+j*f.BZ:N,F^w>=s^S>=s){var G=(0,E.T5)((0,E.Og)(m),(0,E.Og)(I));(0,E.iJ)(G);var H=(0,E.T5)(l,G);(0,E.iJ)(H);var W=(F^N>=0?-1:1)*(0,f.ZR)(H[2]);(a>W||a===W&&(G[0]||G[1]))&&(h+=F^N>=0?1:-1)}}return(u<-f.Ho||u<f.Ho&&k<-f.Ho)^1&h}},25382:function(ae,B,r){"use strict";r.d(B,{O:function(){return f},W:function(){return E}});var D=r(39695);function E(k){return function(M,y){var c=(0,D.mC)(M),i=(0,D.mC)(y),s=k(c*i);return[s*i*(0,D.O$)(M),s*(0,D.O$)(y)]}}function f(k){return function(M,y){var c=(0,D._b)(M*M+y*y),i=k(c),s=(0,D.O$)(i),a=(0,D.mC)(i);return[(0,D.fv)(M*s,c*a),(0,D.ZR)(c&&y*s/c)]}}},12956:function(ae,B,r){"use strict";r.d(B,{Z:function(){return M},l:function(){return k}});var D=r(39695),E=r(25382),f=r(15002),k=(0,E.W)(function(y){return(0,D._b)(2/(1+y))});function M(){return(0,f.Z)(k).scale(124.75).clipAngle(179.999)}k.invert=(0,E.O)(function(y){return 2*(0,D.ZR)(y/2)})},17889:function(ae,B,r){"use strict";r.d(B,{N:function(){return k},Z:function(){return M}});var D=r(39695),E=r(25382),f=r(15002),k=(0,E.W)(function(y){return(y=(0,D.Kh)(y))&&y/(0,D.O$)(y)});function M(){return(0,f.Z)(k).scale(79.4188).clipAngle(179.999)}k.invert=(0,E.O)(function(y){return y})},97492:function(ae,B,r){"use strict";r.d(B,{Z:function(){return f},k:function(){return E}});var D=r(15002);function E(k,M){return[k,M]}function f(){return(0,D.Z)(E).scale(152.63)}E.invert=E},47589:function(ae,B,r){"use strict";r.d(B,{V6:function(){return y},mF:function(){return M},qg:function(){return k},rf:function(){return c}});var D=r(72736),E=r(3559);function f(i,s,a){var o=i.clipExtent&&i.clipExtent();return i.scale(150).translate([0,0]),null!=o&&i.clipExtent(null),(0,D.Z)(a,i.stream(E.Z)),s(E.Z.result()),null!=o&&i.clipExtent(o),i}function k(i,s,a){return f(i,function(o){var l=s[1][0]-s[0][0],u=s[1][1]-s[0][1],h=Math.min(l/(o[1][0]-o[0][0]),u/(o[1][1]-o[0][1])),v=+s[0][0]+(l-h*(o[1][0]+o[0][0]))/2,p=+s[0][1]+(u-h*(o[1][1]+o[0][1]))/2;i.scale(150*h).translate([v,p])},a)}function M(i,s,a){return k(i,[[0,0],s],a)}function y(i,s,a){return f(i,function(o){var l=+s,u=l/(o[1][0]-o[0][0]),h=(l-u*(o[1][0]+o[0][0]))/2,v=-u*o[0][1];i.scale(150*u).translate([h,v])},a)}function c(i,s,a){return f(i,function(o){var l=+s,u=l/(o[1][1]-o[0][1]),h=-u*o[0][0],v=(l-u*(o[1][1]+o[0][1]))/2;i.scale(150*u).translate([h,v])},a)}},98936:function(ae,B,r){"use strict";r.d(B,{M:function(){return k},Z:function(){return M}});var D=r(39695),E=r(25382),f=r(15002);function k(y,c){var i=(0,D.mC)(c),s=(0,D.mC)(y)*i;return[i*(0,D.O$)(y)/s,(0,D.O$)(c)/s]}function M(){return(0,f.Z)(k).scale(144.049).clipAngle(60)}k.invert=(0,E.O)(D.z4)},15002:function(ae,B,r){"use strict";r.d(B,{Z:function(){return T},r:function(){return _}});var D=r(87070),E=r(1457),f=r(87605),k=r(96059),M=r(8593),y=r(39695),c=r(49386),i=r(64684),s=r(47589),a=r(7620),o=16,l=(0,y.mC)(30*y.uR);function u(m,w){return+w?function(x,b){function A(g,I,S,O,R,L,N,j,X,F,Y,G,H,W){var Z=N-g,se=j-I,re=Z*Z+se*se;if(re>4*b&&H--){var ne=O+F,Q=R+Y,ee=L+G,oe=(0,y._b)(ne*ne+Q*Q+ee*ee),ce=(0,y.ZR)(ee/=oe),fe=(0,y.Wn)((0,y.Wn)(ee)-1)<y.Ho||(0,y.Wn)(S-X)<y.Ho?(S+X)/2:(0,y.fv)(Q,ne),le=x(fe,ce),pe=le[0],Me=le[1],Ae=pe-g,be=Me-I,ye=se*Ae-Z*be;(ye*ye/re>b||(0,y.Wn)((Z*Ae+se*be)/re-.5)>.3||O*F+R*Y+L*G<l)&&(A(g,I,S,O,R,L,pe,Me,fe,ne/=oe,Q/=oe,ee,H,W),W.point(pe,Me),A(pe,Me,fe,ne,Q,ee,N,j,X,F,Y,G,H,W))}}return function(g){var I,S,O,R,L,N,j,X,F,Y,G,H,W={point:Z,lineStart:se,lineEnd:ne,polygonStart:function(){g.polygonStart(),W.lineStart=Q},polygonEnd:function(){g.polygonEnd(),W.lineStart=se}};function Z(ce,fe){ce=x(ce,fe),g.point(ce[0],ce[1])}function se(){X=NaN,W.point=re,g.lineStart()}function re(ce,fe){var le=(0,a.Og)([ce,fe]),pe=x(ce,fe);A(X,F,j,Y,G,H,X=pe[0],F=pe[1],j=ce,Y=le[0],G=le[1],H=le[2],o,g),g.point(X,F)}function ne(){W.point=Z,g.lineEnd()}function Q(){se(),W.point=ee,W.lineEnd=oe}function ee(ce,fe){re(I=ce,fe),S=X,O=F,R=Y,L=G,N=H,W.point=re}function oe(){A(X,F,j,Y,G,H,S,O,I,R,L,N,o,g),W.lineEnd=ne,ne()}return W}}(m,w):(x=m,(0,i.l)({point:function(b,A){b=x(b,A),this.stream.point(b[0],b[1])}}));var x}var h=(0,i.l)({point:function(m,w){this.stream.point(m*y.uR,w*y.uR)}});function v(m,w,x,b,A){function g(I,S){return[w+m*(I*=b),x-m*(S*=A)]}return g.invert=function(I,S){return[(I-w)/m*b,(x-S)/m*A]},g}function p(m,w,x,b,A,g){var I=(0,y.mC)(g),S=(0,y.O$)(g),O=I*m,R=S*m,L=I/m,N=S/m,j=(S*x-I*w)/m,X=(S*w+I*x)/m;function F(Y,G){return[O*(Y*=b)-R*(G*=A)+w,x-R*Y-O*G]}return F.invert=function(Y,G){return[b*(L*Y-N*G+j),A*(X-N*Y-L*G)]},F}function T(m){return _(function(){return m})()}function _(m){var w,x,b,A,g,I,S,O,R,L,N=150,j=480,X=250,F=0,Y=0,G=0,H=0,W=0,Z=0,se=1,re=1,ne=null,Q=D.Z,ee=null,oe=M.Z,ce=.5;function fe(Ae){return O(Ae[0]*y.uR,Ae[1]*y.uR)}function le(Ae){return(Ae=O.invert(Ae[0],Ae[1]))&&[Ae[0]*y.RW,Ae[1]*y.RW]}function pe(){var Ae=p(N,0,0,se,re,Z).apply(null,w(F,Y)),be=(Z?p:v)(N,j-Ae[0],X-Ae[1],se,re,Z);return x=(0,c.I)(G,H,W),S=(0,k.Z)(w,be),O=(0,k.Z)(x,S),I=u(S,ce),Me()}function Me(){return R=L=null,fe}return fe.stream=function(Ae){return R&&L===Ae?R:R=h((be=x,(0,i.l)({point:function(ye,we){var ze=be(ye,we);return this.stream.point(ze[0],ze[1])}}))(Q(I(oe(L=Ae)))));var be},fe.preclip=function(Ae){return arguments.length?(Q=Ae,ne=void 0,Me()):Q},fe.postclip=function(Ae){return arguments.length?(oe=Ae,ee=b=A=g=null,Me()):oe},fe.clipAngle=function(Ae){return arguments.length?(Q=+Ae?(0,E.Z)(ne=Ae*y.uR):(ne=null,D.Z),Me()):ne*y.RW},fe.clipExtent=function(Ae){return arguments.length?(oe=null==Ae?(ee=b=A=g=null,M.Z):(0,f.Z)(ee=+Ae[0][0],b=+Ae[0][1],A=+Ae[1][0],g=+Ae[1][1]),Me()):null==ee?null:[[ee,b],[A,g]]},fe.scale=function(Ae){return arguments.length?(N=+Ae,pe()):N},fe.translate=function(Ae){return arguments.length?(j=+Ae[0],X=+Ae[1],pe()):[j,X]},fe.center=function(Ae){return arguments.length?(F=Ae[0]%360*y.uR,Y=Ae[1]%360*y.uR,pe()):[F*y.RW,Y*y.RW]},fe.rotate=function(Ae){return arguments.length?(G=Ae[0]%360*y.uR,H=Ae[1]%360*y.uR,W=Ae.length>2?Ae[2]%360*y.uR:0,pe()):[G*y.RW,H*y.RW,W*y.RW]},fe.angle=function(Ae){return arguments.length?(Z=Ae%360*y.uR,pe()):Z*y.RW},fe.reflectX=function(Ae){return arguments.length?(se=Ae?-1:1,pe()):se<0},fe.reflectY=function(Ae){return arguments.length?(re=Ae?-1:1,pe()):re<0},fe.precision=function(Ae){return arguments.length?(I=u(S,ce=Ae*Ae),Me()):(0,y._b)(ce)},fe.fitExtent=function(Ae,be){return(0,s.qg)(fe,Ae,be)},fe.fitSize=function(Ae,be){return(0,s.mF)(fe,Ae,be)},fe.fitWidth=function(Ae,be){return(0,s.V6)(fe,Ae,be)},fe.fitHeight=function(Ae,be){return(0,s.rf)(fe,Ae,be)},function(){return w=m.apply(this,arguments),fe.invert=w.invert&&le,pe()}}},26867:function(ae,B,r){"use strict";r.d(B,{K:function(){return f},Z:function(){return k}});var D=r(15002),E=r(39695);function f(M,y){var c=y*y,i=c*c;return[M*(.8707-.131979*c+i*(i*(.003971*c-.001529*i)-.013791)),y*(1.007226+c*(.015085+i*(.028874*c-.044475-.005916*i)))]}function k(){return(0,D.Z)(f).scale(175.295)}f.invert=function(M,y){var c,i=y,s=25;do{var a=i*i,o=a*a;i-=c=(i*(1.007226+a*(.015085+o*(.028874*a-.044475-.005916*o)))-y)/(1.007226+a*(.045255+o*(.259866*a-.311325-.06507600000000001*o)))}while((0,E.Wn)(c)>E.Ho&&--s>0);return[M/(.8707+(a=i*i)*(a*(a*a*a*(.003971-.001529*a)-.013791)-.131979)),i]}},57962:function(ae,B,r){"use strict";r.d(B,{I:function(){return k},Z:function(){return M}});var D=r(39695),E=r(25382),f=r(15002);function k(y,c){return[(0,D.mC)(c)*(0,D.O$)(y),(0,D.O$)(c)]}function M(){return(0,f.Z)(k).scale(249.5).clipAngle(90+D.Ho)}k.invert=(0,E.O)(D.ZR)},49386:function(ae,B,r){"use strict";r.d(B,{I:function(){return k},Z:function(){return i}});var D=r(96059),E=r(39695);function f(s,a){return[(0,E.Wn)(s)>E.pi?s+Math.round(-s/E.BZ)*E.BZ:s,a]}function k(s,a,o){return(s%=E.BZ)?a||o?(0,D.Z)(y(s),c(a,o)):y(s):a||o?c(a,o):f}function M(s){return function(a,o){return[(a+=s)>E.pi?a-E.BZ:a<-E.pi?a+E.BZ:a,o]}}function y(s){var a=M(s);return a.invert=M(-s),a}function c(s,a){var o=(0,E.mC)(s),l=(0,E.O$)(s),u=(0,E.mC)(a),h=(0,E.O$)(a);function v(p,T){var _=(0,E.mC)(T),m=(0,E.mC)(p)*_,w=(0,E.O$)(p)*_,x=(0,E.O$)(T),b=x*o+m*l;return[(0,E.fv)(w*u-b*h,m*o-x*l),(0,E.ZR)(b*u+w*h)]}return v.invert=function(p,T){var _=(0,E.mC)(T),m=(0,E.mC)(p)*_,w=(0,E.O$)(p)*_,x=(0,E.O$)(T),b=x*u-w*h;return[(0,E.fv)(w*u+x*h,m*o+b*l),(0,E.ZR)(b*o-m*l)]},v}function i(s){function a(o){return(o=s(o[0]*E.uR,o[1]*E.uR))[0]*=E.RW,o[1]*=E.RW,o}return s=k(s[0]*E.uR,s[1]*E.uR,s.length>2?s[2]*E.uR:0),a.invert=function(o){return(o=s.invert(o[0]*E.uR,o[1]*E.uR))[0]*=E.RW,o[1]*=E.RW,o},a}f.invert=f},72736:function(ae,B,r){"use strict";function D(c,i){c&&f.hasOwnProperty(c.type)&&f[c.type](c,i)}r.d(B,{Z:function(){return y}});var E={Feature:function(c,i){D(c.geometry,i)},FeatureCollection:function(c,i){for(var s=c.features,a=-1,o=s.length;++a<o;)D(s[a].geometry,i)}},f={Sphere:function(c,i){i.sphere()},Point:function(c,i){i.point((c=c.coordinates)[0],c[1],c[2])},MultiPoint:function(c,i){for(var s=c.coordinates,a=-1,o=s.length;++a<o;)i.point((c=s[a])[0],c[1],c[2])},LineString:function(c,i){k(c.coordinates,i,0)},MultiLineString:function(c,i){for(var s=c.coordinates,a=-1,o=s.length;++a<o;)k(s[a],i,0)},Polygon:function(c,i){M(c.coordinates,i)},MultiPolygon:function(c,i){for(var s=c.coordinates,a=-1,o=s.length;++a<o;)M(s[a],i)},GeometryCollection:function(c,i){for(var s=c.geometries,a=-1,o=s.length;++a<o;)D(s[a],i)}};function k(c,i,s){var a,o=-1,l=c.length-s;for(i.lineStart();++o<l;)i.point((a=c[o])[0],a[1],a[2]);i.lineEnd()}function M(c,i){var s=-1,a=c.length;for(i.polygonStart();++s<a;)k(c[s],i,1);i.polygonEnd()}function y(c,i){c&&E.hasOwnProperty(c.type)?E[c.type](c,i):D(c,i)}},64684:function(ae,B,r){"use strict";function D(k){return{stream:E(k)}}function E(k){return function(M){var y=new f;for(var c in k)y[c]=k[c];return y.stream=M,y}}function f(){}r.d(B,{Z:function(){return D},l:function(){return E}}),f.prototype={constructor:f,point:function(k,M){this.stream.point(k,M)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}}},674:function(ae,B,r){"use strict";function D(he,_e){return he.parent===_e.parent?1:2}function E(he,_e){return he+_e.x}function f(he,_e){return Math.max(he,_e.y)}function k(){var he=D,_e=1,Le=1,Ie=!1;function De(je){var qe,ve=0;je.eachAfter(function(Ge){var et,Ke=Ge.children;Ke?(Ge.x=(et=Ke).reduce(E,0)/et.length,Ge.y=function(et){return 1+et.reduce(f,0)}(Ke)):(Ge.x=qe?ve+=he(Ge,qe):0,Ge.y=0,qe=Ge)});var Oe=function(Ge){for(var Ke;Ke=Ge.children;)Ge=Ke[0];return Ge}(je),ke=function(Ge){for(var Ke;Ke=Ge.children;)Ge=Ke[Ke.length-1];return Ge}(je),Be=Oe.x-he(Oe,ke)/2,We=ke.x+he(ke,Oe)/2;return je.eachAfter(Ie?function(Ge){Ge.x=(Ge.x-je.x)*_e,Ge.y=(je.y-Ge.y)*Le}:function(Ge){Ge.x=(Ge.x-Be)/(We-Be)*_e,Ge.y=(1-(je.y?Ge.y/je.y:1))*Le})}return De.separation=function(je){return arguments.length?(he=je,De):he},De.size=function(je){return arguments.length?(Ie=!1,_e=+je[0],Le=+je[1],De):Ie?null:[_e,Le]},De.nodeSize=function(je){return arguments.length?(Ie=!0,_e=+je[0],Le=+je[1],De):Ie?[_e,Le]:null},De}function M(he){var _e=0,Le=he.children,Ie=Le&&Le.length;if(Ie)for(;--Ie>=0;)_e+=Le[Ie].value;else _e=1;he.value=_e}function y(he,_e){var Le,Ie,De,je,qe,ve=new a(he),Oe=+he.value&&(ve.value=he.value),ke=[ve];for(null==_e&&(_e=c);Le=ke.pop();)if(Oe&&(Le.value=+Le.data.value),(De=_e(Le.data))&&(qe=De.length))for(Le.children=new Array(qe),je=qe-1;je>=0;--je)ke.push(Ie=Le.children[je]=new a(De[je])),Ie.parent=Le,Ie.depth=Le.depth+1;return ve.eachBefore(s)}function c(he){return he.children}function i(he){he.data=he.data.data}function s(he){var _e=0;do{he.height=_e}while((he=he.parent)&&he.height<++_e)}function a(he){this.data=he,this.depth=this.height=0,this.parent=null}r.r(B),r.d(B,{cluster:function(){return k},hierarchy:function(){return y},pack:function(){return N},packEnclose:function(){return l},packSiblings:function(){return I},partition:function(){return H},stratify:function(){return Q},tree:function(){return Me},treemap:function(){return ze},treemapBinary:function(){return Se},treemapDice:function(){return G},treemapResquarify:function(){return ge},treemapSlice:function(){return Ae},treemapSliceDice:function(){return Ce},treemapSquarify:function(){return we}}),a.prototype=y.prototype={constructor:a,count:function(){return this.eachAfter(M)},each:function(he){var _e,Le,Ie,De,je=this,qe=[je];do{for(_e=qe.reverse(),qe=[];je=_e.pop();)if(he(je),Le=je.children)for(Ie=0,De=Le.length;Ie<De;++Ie)qe.push(Le[Ie])}while(qe.length);return this},eachAfter:function(he){for(var _e,Le,Ie,De=this,je=[De],qe=[];De=je.pop();)if(qe.push(De),_e=De.children)for(Le=0,Ie=_e.length;Le<Ie;++Le)je.push(_e[Le]);for(;De=qe.pop();)he(De);return this},eachBefore:function(he){for(var _e,Le,Ie=this,De=[Ie];Ie=De.pop();)if(he(Ie),_e=Ie.children)for(Le=_e.length-1;Le>=0;--Le)De.push(_e[Le]);return this},sum:function(he){return this.eachAfter(function(_e){for(var Le=+he(_e.data)||0,Ie=_e.children,De=Ie&&Ie.length;--De>=0;)Le+=Ie[De].value;_e.value=Le})},sort:function(he){return this.eachBefore(function(_e){_e.children&&_e.children.sort(he)})},path:function(he){for(var _e=this,Le=function(je,qe){if(je===qe)return je;var ve=je.ancestors(),Oe=qe.ancestors(),ke=null;for(je=ve.pop(),qe=Oe.pop();je===qe;)ke=je,je=ve.pop(),qe=Oe.pop();return ke}(_e,he),Ie=[_e];_e!==Le;)Ie.push(_e=_e.parent);for(var De=Ie.length;he!==Le;)Ie.splice(De,0,he),he=he.parent;return Ie},ancestors:function(){for(var he=this,_e=[he];he=he.parent;)_e.push(he);return _e},descendants:function(){var he=[];return this.each(function(_e){he.push(_e)}),he},leaves:function(){var he=[];return this.eachBefore(function(_e){_e.children||he.push(_e)}),he},links:function(){var he=this,_e=[];return he.each(function(Le){Le!==he&&_e.push({source:Le.parent,target:Le})}),_e},copy:function(){return y(this).eachBefore(i)}};var o=Array.prototype.slice;function l(he){for(var _e,Le,Ie=0,De=(he=function(qe){for(var ve,Oe,ke=qe.length;ke;)Oe=Math.random()*ke--|0,ve=qe[ke],qe[ke]=qe[Oe],qe[Oe]=ve;return qe}(o.call(he))).length,je=[];Ie<De;)_e=he[Ie],Le&&v(Le,_e)?++Ie:(Le=T(je=u(je,_e)),Ie=0);return Le}function u(he,_e){var Le,Ie;if(p(_e,he))return[_e];for(Le=0;Le<he.length;++Le)if(h(_e,he[Le])&&p(_(he[Le],_e),he))return[he[Le],_e];for(Le=0;Le<he.length-1;++Le)for(Ie=Le+1;Ie<he.length;++Ie)if(h(_(he[Le],he[Ie]),_e)&&h(_(he[Le],_e),he[Ie])&&h(_(he[Ie],_e),he[Le])&&p(m(he[Le],he[Ie],_e),he))return[he[Le],he[Ie],_e];throw new Error}function h(he,_e){var Le=he.r-_e.r,Ie=_e.x-he.x,De=_e.y-he.y;return Le<0||Le*Le<Ie*Ie+De*De}function v(he,_e){var Le=he.r-_e.r+1e-6,Ie=_e.x-he.x,De=_e.y-he.y;return Le>0&&Le*Le>Ie*Ie+De*De}function p(he,_e){for(var Le=0;Le<_e.length;++Le)if(!v(he,_e[Le]))return!1;return!0}function T(he){switch(he.length){case 1:return{x:(_e=he[0]).x,y:_e.y,r:_e.r};case 2:return _(he[0],he[1]);case 3:return m(he[0],he[1],he[2])}var _e}function _(he,_e){var Le=he.x,Ie=he.y,De=he.r,je=_e.x,qe=_e.y,ve=_e.r,Oe=je-Le,ke=qe-Ie,Be=ve-De,We=Math.sqrt(Oe*Oe+ke*ke);return{x:(Le+je+Oe/We*Be)/2,y:(Ie+qe+ke/We*Be)/2,r:(We+De+ve)/2}}function m(he,_e,Le){var Ie=he.x,De=he.y,je=he.r,qe=_e.x,ve=_e.y,Oe=_e.r,ke=Le.x,Be=Le.y,We=Le.r,Ge=Ie-qe,Ke=Ie-ke,et=De-ve,at=De-Be,mt=Oe-je,ct=We-je,kt=Ie*Ie+De*De-je*je,Dt=kt-qe*qe-ve*ve+Oe*Oe,Et=kt-ke*ke-Be*Be+We*We,ht=Ke*et-Ge*at,pt=(et*Et-at*Dt)/(2*ht)-Ie,Pt=(at*mt-et*ct)/ht,zt=(Ke*Dt-Ge*Et)/(2*ht)-De,Ht=(Ge*ct-Ke*mt)/ht,Lt=Pt*Pt+Ht*Ht-1,tt=2*(je+pt*Pt+zt*Ht),it=pt*pt+zt*zt-je*je,Je=-(Lt?(tt+Math.sqrt(tt*tt-4*Lt*it))/(2*Lt):it/tt);return{x:Ie+pt+Pt*Je,y:De+zt+Ht*Je,r:Je}}function w(he,_e,Le){var Ie,De,je,qe,ve=he.x-_e.x,Oe=he.y-_e.y,ke=ve*ve+Oe*Oe;ke?(De=_e.r+Le.r,qe=he.r+Le.r,(De*=De)>(qe*=qe)?(Ie=(ke+qe-De)/(2*ke),je=Math.sqrt(Math.max(0,qe/ke-Ie*Ie)),Le.x=he.x-Ie*ve-je*Oe,Le.y=he.y-Ie*Oe+je*ve):(Ie=(ke+De-qe)/(2*ke),je=Math.sqrt(Math.max(0,De/ke-Ie*Ie)),Le.x=_e.x+Ie*ve-je*Oe,Le.y=_e.y+Ie*Oe+je*ve)):(Le.x=_e.x+Le.r,Le.y=_e.y)}function x(he,_e){var Le=he.r+_e.r-1e-6,Ie=_e.x-he.x,De=_e.y-he.y;return Le>0&&Le*Le>Ie*Ie+De*De}function b(he){var _e=he._,Le=he.next._,Ie=_e.r+Le.r,De=(_e.x*Le.r+Le.x*_e.r)/Ie,je=(_e.y*Le.r+Le.y*_e.r)/Ie;return De*De+je*je}function A(he){this._=he,this.next=null,this.previous=null}function g(he){if(!(De=he.length))return 0;var _e,Le,Ie,De,je,qe,ve,Oe,ke,Be,We;if((_e=he[0]).x=0,_e.y=0,!(De>1))return _e.r;if(_e.x=-(Le=he[1]).r,Le.x=_e.r,Le.y=0,!(De>2))return _e.r+Le.r;w(Le,_e,Ie=he[2]),_e=new A(_e),Le=new A(Le),Ie=new A(Ie),_e.next=Ie.previous=Le,Le.next=_e.previous=Ie,Ie.next=Le.previous=_e;e:for(ve=3;ve<De;++ve){w(_e._,Le._,Ie=he[ve]),Ie=new A(Ie),Oe=Le.next,ke=_e.previous,Be=Le._.r,We=_e._.r;do{if(Be<=We){if(x(Oe._,Ie._)){_e.next=Le=Oe,Le.previous=_e,--ve;continue e}Be+=Oe._.r,Oe=Oe.next}else{if(x(ke._,Ie._)){(_e=ke).next=Le,Le.previous=_e,--ve;continue e}We+=ke._.r,ke=ke.previous}}while(Oe!==ke.next);for(Ie.previous=_e,Ie.next=Le,_e.next=Le.previous=Le=Ie,je=b(_e);(Ie=Ie.next)!==Le;)(qe=b(Ie))<je&&(_e=Ie,je=qe);Le=_e.next}for(_e=[Le._],Ie=Le;(Ie=Ie.next)!==Le;)_e.push(Ie._);for(Ie=l(_e),ve=0;ve<De;++ve)(_e=he[ve]).x-=Ie.x,_e.y-=Ie.y;return Ie.r}function I(he){return g(he),he}function S(he){if("function"!=typeof he)throw new Error;return he}function O(){return 0}function R(he){return function(){return he}}function L(he){return Math.sqrt(he.value)}function N(){var he=null,_e=1,Le=1,Ie=O;function De(je){return je.x=_e/2,je.y=Le/2,he?je.eachBefore(j(he)).eachAfter(X(Ie,.5)).eachBefore(F(1)):je.eachBefore(j(L)).eachAfter(X(O,1)).eachAfter(X(Ie,je.r/Math.min(_e,Le))).eachBefore(F(Math.min(_e,Le)/(2*je.r))),je}return De.radius=function(je){return arguments.length?(he=null==(qe=je)?null:S(qe),De):he;var qe},De.size=function(je){return arguments.length?(_e=+je[0],Le=+je[1],De):[_e,Le]},De.padding=function(je){return arguments.length?(Ie="function"==typeof je?je:R(+je),De):Ie},De}function j(he){return function(_e){_e.children||(_e.r=Math.max(0,+he(_e)||0))}}function X(he,_e){return function(Le){if(Ie=Le.children){var Ie,De,je,qe=Ie.length,ve=he(Le)*_e||0;if(ve)for(De=0;De<qe;++De)Ie[De].r+=ve;if(je=g(Ie),ve)for(De=0;De<qe;++De)Ie[De].r-=ve;Le.r=je+ve}}}function F(he){return function(_e){var Le=_e.parent;_e.r*=he,Le&&(_e.x=Le.x+he*_e.x,_e.y=Le.y+he*_e.y)}}function Y(he){he.x0=Math.round(he.x0),he.y0=Math.round(he.y0),he.x1=Math.round(he.x1),he.y1=Math.round(he.y1)}function G(he,_e,Le,Ie,De){for(var je,qe=he.children,ve=-1,Oe=qe.length,ke=he.value&&(Ie-_e)/he.value;++ve<Oe;)(je=qe[ve]).y0=Le,je.y1=De,je.x0=_e,je.x1=_e+=je.value*ke}function H(){var he=1,_e=1,Le=0,Ie=!1;function De(je){var ve,Oe,qe=je.height+1;return je.x0=je.y0=Le,je.x1=he,je.y1=_e/qe,je.eachBefore((ve=_e,Oe=qe,function(ke){ke.children&&G(ke,ke.x0,ve*(ke.depth+1)/Oe,ke.x1,ve*(ke.depth+2)/Oe);var Be=ke.x0,We=ke.y0,Ge=ke.x1-Le,Ke=ke.y1-Le;Ge<Be&&(Be=Ge=(Be+Ge)/2),Ke<We&&(We=Ke=(We+Ke)/2),ke.x0=Be,ke.y0=We,ke.x1=Ge,ke.y1=Ke})),Ie&&je.eachBefore(Y),je}return De.round=function(je){return arguments.length?(Ie=!!je,De):Ie},De.size=function(je){return arguments.length?(he=+je[0],_e=+je[1],De):[he,_e]},De.padding=function(je){return arguments.length?(Le=+je,De):Le},De}var W="$",Z={depth:-1},se={};function re(he){return he.id}function ne(he){return he.parentId}function Q(){var he=re,_e=ne;function Le(Ie){var De,je,qe,ve,Oe,ke,Be,We=Ie.length,Ge=new Array(We),Ke={};for(je=0;je<We;++je)Oe=Ge[je]=new a(De=Ie[je]),null!=(ke=he(De,je,Ie))&&(ke+="")&&(Ke[Be=W+(Oe.id=ke)]=Be in Ke?se:Oe);for(je=0;je<We;++je)if(Oe=Ge[je],null!=(ke=_e(Ie[je],je,Ie))&&(ke+="")){if(!(ve=Ke[W+ke]))throw new Error("missing: "+ke);if(ve===se)throw new Error("ambiguous: "+ke);ve.children?ve.children.push(Oe):ve.children=[Oe],Oe.parent=ve}else{if(qe)throw new Error("multiple roots");qe=Oe}if(!qe)throw new Error("no root");if(qe.parent=Z,qe.eachBefore(function(et){et.depth=et.parent.depth+1,--We}).eachBefore(s),qe.parent=null,We>0)throw new Error("cycle");return qe}return Le.id=function(Ie){return arguments.length?(he=S(Ie),Le):he},Le.parentId=function(Ie){return arguments.length?(_e=S(Ie),Le):_e},Le}function ee(he,_e){return he.parent===_e.parent?1:2}function oe(he){var _e=he.children;return _e?_e[0]:he.t}function ce(he){var _e=he.children;return _e?_e[_e.length-1]:he.t}function fe(he,_e,Le){var Ie=Le/(_e.i-he.i);_e.c-=Ie,_e.s+=Le,he.c+=Ie,_e.z+=Le,_e.m+=Le}function le(he,_e,Le){return he.a.parent===_e.parent?he.a:Le}function pe(he,_e){this._=he,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=_e}function Me(){var he=ee,_e=1,Le=1,Ie=null;function De(Oe){var ke=function(ct){for(var kt,Dt,Et,ht,pt,Pt=new pe(ct,0),zt=[Pt];kt=zt.pop();)if(Et=kt._.children)for(kt.children=new Array(pt=Et.length),ht=pt-1;ht>=0;--ht)zt.push(Dt=kt.children[ht]=new pe(Et[ht],ht)),Dt.parent=kt;return(Pt.parent=new pe(null,0)).children=[Pt],Pt}(Oe);if(ke.eachAfter(je),ke.parent.m=-ke.z,ke.eachBefore(qe),Ie)Oe.eachBefore(ve);else{var Be=Oe,We=Oe,Ge=Oe;Oe.eachBefore(function(ct){ct.x<Be.x&&(Be=ct),ct.x>We.x&&(We=ct),ct.depth>Ge.depth&&(Ge=ct)});var Ke=Be===We?1:he(Be,We)/2,et=Ke-Be.x,at=_e/(We.x+Ke+et),mt=Le/(Ge.depth||1);Oe.eachBefore(function(ct){ct.x=(ct.x+et)*at,ct.y=ct.depth*mt})}return Oe}function je(Oe){var ke=Oe.children,Be=Oe.parent.children,We=Oe.i?Be[Oe.i-1]:null;if(ke){!function(Ke){for(var et,at=0,mt=0,ct=Ke.children,kt=ct.length;--kt>=0;)(et=ct[kt]).z+=at,et.m+=at,at+=et.s+(mt+=et.c)}(Oe);var Ge=(ke[0].z+ke[ke.length-1].z)/2;We?(Oe.z=We.z+he(Oe._,We._),Oe.m=Oe.z-Ge):Oe.z=Ge}else We&&(Oe.z=We.z+he(Oe._,We._));Oe.parent.A=function(Ke,et,at){if(et){for(var mt,ct=Ke,kt=Ke,Dt=et,Et=ct.parent.children[0],ht=ct.m,pt=kt.m,Pt=Dt.m,zt=Et.m;Dt=ce(Dt),ct=oe(ct),Dt&&ct;)Et=oe(Et),(kt=ce(kt)).a=Ke,(mt=Dt.z+Pt-ct.z-ht+he(Dt._,ct._))>0&&(fe(le(Dt,Ke,at),Ke,mt),ht+=mt,pt+=mt),Pt+=Dt.m,ht+=ct.m,zt+=Et.m,pt+=kt.m;Dt&&!ce(kt)&&(kt.t=Dt,kt.m+=Pt-pt),ct&&!oe(Et)&&(Et.t=ct,Et.m+=ht-zt,at=Ke)}return at}(Oe,We,Oe.parent.A||Be[0])}function qe(Oe){Oe._.x=Oe.z+Oe.parent.m,Oe.m+=Oe.parent.m}function ve(Oe){Oe.x*=_e,Oe.y=Oe.depth*Le}return De.separation=function(Oe){return arguments.length?(he=Oe,De):he},De.size=function(Oe){return arguments.length?(Ie=!1,_e=+Oe[0],Le=+Oe[1],De):Ie?null:[_e,Le]},De.nodeSize=function(Oe){return arguments.length?(Ie=!0,_e=+Oe[0],Le=+Oe[1],De):Ie?[_e,Le]:null},De}function Ae(he,_e,Le,Ie,De){for(var je,qe=he.children,ve=-1,Oe=qe.length,ke=he.value&&(De-Le)/he.value;++ve<Oe;)(je=qe[ve]).x0=_e,je.x1=Ie,je.y0=Le,je.y1=Le+=je.value*ke}pe.prototype=Object.create(a.prototype);var be=(1+Math.sqrt(5))/2;function ye(he,_e,Le,Ie,De,je){for(var qe,ve,Oe,ke,Be,We,Ge,Ke,et,at,mt,ct=[],kt=_e.children,Dt=0,Et=0,ht=kt.length,pt=_e.value;Dt<ht;){Oe=De-Le,ke=je-Ie;do{Be=kt[Et++].value}while(!Be&&Et<ht);for(We=Ge=Be,mt=Be*Be*(at=Math.max(ke/Oe,Oe/ke)/(pt*he)),et=Math.max(Ge/mt,mt/We);Et<ht;++Et){if(Be+=ve=kt[Et].value,ve<We&&(We=ve),ve>Ge&&(Ge=ve),mt=Be*Be*at,(Ke=Math.max(Ge/mt,mt/We))>et){Be-=ve;break}et=Ke}ct.push(qe={value:Be,dice:Oe<ke,children:kt.slice(Dt,Et)}),qe.dice?G(qe,Le,Ie,De,pt?Ie+=ke*Be/pt:je):Ae(qe,Le,Ie,pt?Le+=Oe*Be/pt:De,je),pt-=Be,Dt=Et}return ct}var we=function he(_e){function Le(Ie,De,je,qe,ve){ye(_e,Ie,De,je,qe,ve)}return Le.ratio=function(Ie){return he((Ie=+Ie)>1?Ie:1)},Le}(be);function ze(){var he=we,_e=!1,Le=1,Ie=1,De=[0],je=O,qe=O,ve=O,Oe=O,ke=O;function Be(Ge){return Ge.x0=Ge.y0=0,Ge.x1=Le,Ge.y1=Ie,Ge.eachBefore(We),De=[0],_e&&Ge.eachBefore(Y),Ge}function We(Ge){var Ke=De[Ge.depth],et=Ge.x0+Ke,at=Ge.y0+Ke,mt=Ge.x1-Ke,ct=Ge.y1-Ke;mt<et&&(et=mt=(et+mt)/2),ct<at&&(at=ct=(at+ct)/2),Ge.x0=et,Ge.y0=at,Ge.x1=mt,Ge.y1=ct,Ge.children&&(Ke=De[Ge.depth+1]=je(Ge)/2,et+=ke(Ge)-Ke,at+=qe(Ge)-Ke,(mt-=ve(Ge)-Ke)<et&&(et=mt=(et+mt)/2),(ct-=Oe(Ge)-Ke)<at&&(at=ct=(at+ct)/2),he(Ge,et,at,mt,ct))}return Be.round=function(Ge){return arguments.length?(_e=!!Ge,Be):_e},Be.size=function(Ge){return arguments.length?(Le=+Ge[0],Ie=+Ge[1],Be):[Le,Ie]},Be.tile=function(Ge){return arguments.length?(he=S(Ge),Be):he},Be.padding=function(Ge){return arguments.length?Be.paddingInner(Ge).paddingOuter(Ge):Be.paddingInner()},Be.paddingInner=function(Ge){return arguments.length?(je="function"==typeof Ge?Ge:R(+Ge),Be):je},Be.paddingOuter=function(Ge){return arguments.length?Be.paddingTop(Ge).paddingRight(Ge).paddingBottom(Ge).paddingLeft(Ge):Be.paddingTop()},Be.paddingTop=function(Ge){return arguments.length?(qe="function"==typeof Ge?Ge:R(+Ge),Be):qe},Be.paddingRight=function(Ge){return arguments.length?(ve="function"==typeof Ge?Ge:R(+Ge),Be):ve},Be.paddingBottom=function(Ge){return arguments.length?(Oe="function"==typeof Ge?Ge:R(+Ge),Be):Oe},Be.paddingLeft=function(Ge){return arguments.length?(ke="function"==typeof Ge?Ge:R(+Ge),Be):ke},Be}function Se(he,_e,Le,Ie,De){var je,qe,ve=he.children,Oe=ve.length,ke=new Array(Oe+1);for(ke[0]=qe=je=0;je<Oe;++je)ke[je+1]=qe+=ve[je].value;!function Be(We,Ge,Ke,et,at,mt,ct){if(We>=Ge-1){var kt=ve[We];return kt.x0=et,kt.y0=at,kt.x1=mt,void(kt.y1=ct)}for(var Dt=ke[We],Et=Ke/2+Dt,ht=We+1,pt=Ge-1;ht<pt;){var Pt=ht+pt>>>1;ke[Pt]<Et?ht=Pt+1:pt=Pt}Et-ke[ht-1]<ke[ht]-Et&&We+1<ht&&--ht;var zt=ke[ht]-Dt,Ht=Ke-zt;if(mt-et>ct-at){var Lt=(et*Ht+mt*zt)/Ke;Be(We,ht,zt,et,at,Lt,ct),Be(ht,Ge,Ht,Lt,at,mt,ct)}else{var tt=(at*Ht+ct*zt)/Ke;Be(We,ht,zt,et,at,mt,tt),Be(ht,Ge,Ht,et,tt,mt,ct)}}(0,Oe,he.value,_e,Le,Ie,De)}function Ce(he,_e,Le,Ie,De){(1&he.depth?Ae:G)(he,_e,Le,Ie,De)}var ge=function he(_e){function Le(Ie,De,je,qe,ve){if((Oe=Ie._squarify)&&Oe.ratio===_e)for(var Oe,ke,Be,We,Ge,Ke=-1,et=Oe.length,at=Ie.value;++Ke<et;){for(Be=(ke=Oe[Ke]).children,We=ke.value=0,Ge=Be.length;We<Ge;++We)ke.value+=Be[We].value;ke.dice?G(ke,De,je,qe,je+=(ve-je)*ke.value/at):Ae(ke,De,je,De+=(qe-De)*ke.value/at,ve),at-=ke.value}else Ie._squarify=Oe=ye(_e,Ie,De,je,qe,ve),Oe.ratio=_e}return Le.ratio=function(Ie){return he((Ie=+Ie)>1?Ie:1)},Le}(be)},45879:function(ae,B,r){"use strict";r.d(B,{h5:function(){return v}});var D=Math.PI,E=2*D,f=1e-6,k=E-f;function M(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function y(){return new M}M.prototype=y.prototype={constructor:M,moveTo:function(p,T){this._+="M"+(this._x0=this._x1=+p)+","+(this._y0=this._y1=+T)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(p,T){this._+="L"+(this._x1=+p)+","+(this._y1=+T)},quadraticCurveTo:function(p,T,_,m){this._+="Q"+ +p+","+ +T+","+(this._x1=+_)+","+(this._y1=+m)},bezierCurveTo:function(p,T,_,m,w,x){this._+="C"+ +p+","+ +T+","+ +_+","+ +m+","+(this._x1=+w)+","+(this._y1=+x)},arcTo:function(p,T,_,m,w){var x=this._x1,b=this._y1,A=(_=+_)-(p=+p),g=(m=+m)-(T=+T),I=x-p,S=b-T,O=I*I+S*S;if((w=+w)<0)throw new Error("negative radius: "+w);if(null===this._x1)this._+="M"+(this._x1=p)+","+(this._y1=T);else if(O>f)if(Math.abs(S*A-g*I)>f&&w){var R=_-x,L=m-b,N=A*A+g*g,j=R*R+L*L,X=Math.sqrt(N),F=Math.sqrt(O),Y=w*Math.tan((D-Math.acos((N+O-j)/(2*X*F)))/2),G=Y/F,H=Y/X;Math.abs(G-1)>f&&(this._+="L"+(p+G*I)+","+(T+G*S)),this._+="A"+w+","+w+",0,0,"+ +(S*R>I*L)+","+(this._x1=p+H*A)+","+(this._y1=T+H*g)}else this._+="L"+(this._x1=p)+","+(this._y1=T)},arc:function(p,T,_,m,w,x){p=+p,T=+T,x=!!x;var b=(_=+_)*Math.cos(m),A=_*Math.sin(m),g=p+b,I=T+A,S=1^x,O=x?m-w:w-m;if(_<0)throw new Error("negative radius: "+_);null===this._x1?this._+="M"+g+","+I:(Math.abs(this._x1-g)>f||Math.abs(this._y1-I)>f)&&(this._+="L"+g+","+I),_&&(O<0&&(O=O%E+E),O>k?this._+="A"+_+","+_+",0,1,"+S+","+(p-b)+","+(T-A)+"A"+_+","+_+",0,1,"+S+","+(this._x1=g)+","+(this._y1=I):O>f&&(this._+="A"+_+","+_+",0,"+ +(O>=D)+","+S+","+(this._x1=p+_*Math.cos(w))+","+(this._y1=T+_*Math.sin(w))))},rect:function(p,T,_,m){this._+="M"+(this._x0=this._x1=+p)+","+(this._y0=this._y1=+T)+"h"+ +_+"v"+ +m+"h"+-_+"Z"},toString:function(){return this._}};var c=y,i=Array.prototype.slice;function s(p){return function(){return p}}function a(p){return p[0]}function o(p){return p[1]}function l(p){return p.source}function u(p){return p.target}function h(p,T,_,m,w){p.moveTo(T,_),p.bezierCurveTo(T=(T+m)/2,_,T,w,m,w)}function v(){return function(p){var T=l,_=u,m=a,w=o,x=null;function b(){var A,g=i.call(arguments),I=T.apply(this,g),S=_.apply(this,g);if(x||(x=A=c()),p(x,+m.apply(this,(g[0]=I,g)),+w.apply(this,g),+m.apply(this,(g[0]=S,g)),+w.apply(this,g)),A)return x=null,A+""||null}return b.source=function(A){return arguments.length?(T=A,b):T},b.target=function(A){return arguments.length?(_=A,b):_},b.x=function(A){return arguments.length?(m="function"==typeof A?A:s(+A),b):m},b.y=function(A){return arguments.length?(w="function"==typeof A?A:s(+A),b):w},b.context=function(A){return arguments.length?(x=A??null,b):x},b}(h)}},84096:function(ae,B,r){"use strict";r.d(B,{i$:function(){return l},Dq:function(){return a},g0:function(){return u}});var D=r(58176),E=r(48480),f=r(59879),k=r(82301),M=r(34823),y=r(79791);function c(ht){if(0<=ht.y&&ht.y<100){var pt=new Date(-1,ht.m,ht.d,ht.H,ht.M,ht.S,ht.L);return pt.setFullYear(ht.y),pt}return new Date(ht.y,ht.m,ht.d,ht.H,ht.M,ht.S,ht.L)}function i(ht){if(0<=ht.y&&ht.y<100){var pt=new Date(Date.UTC(-1,ht.m,ht.d,ht.H,ht.M,ht.S,ht.L));return pt.setUTCFullYear(ht.y),pt}return new Date(Date.UTC(ht.y,ht.m,ht.d,ht.H,ht.M,ht.S,ht.L))}function s(ht,pt,Pt){return{y:ht,m:pt,d:Pt,H:0,M:0,S:0,L:0}}function a(ht){var pt=ht.dateTime,Pt=ht.date,zt=ht.time,Ht=ht.periods,Lt=ht.days,tt=ht.shortDays,it=ht.months,Je=ht.shortMonths,ot=w(Ht),gt=x(Ht),ft=w(Lt),Ue=x(Lt),$e=w(tt),dt=x(tt),ut=w(it),At=x(it),wt=w(Je),St=x(Je),_t={a:function($t){return tt[$t.getDay()]},A:function($t){return Lt[$t.getDay()]},b:function($t){return Je[$t.getMonth()]},B:function($t){return it[$t.getMonth()]},c:null,d:Q,e:Q,f:le,H:ee,I:oe,j:ce,L:fe,m:pe,M:Me,p:function($t){return Ht[+($t.getHours()>=12)]},q:function($t){return 1+~~($t.getMonth()/3)},Q:Dt,s:Et,S:Ae,u:be,U:ye,V:we,w:ze,W:Se,x:null,X:null,y:Ce,Y:ge,Z:he,"%":kt},Rt={a:function($t){return tt[$t.getUTCDay()]},A:function($t){return Lt[$t.getUTCDay()]},b:function($t){return Je[$t.getUTCMonth()]},B:function($t){return it[$t.getUTCMonth()]},c:null,d:_e,e:_e,f:qe,H:Le,I:Ie,j:De,L:je,m:ve,M:Oe,p:function($t){return Ht[+($t.getUTCHours()>=12)]},q:function($t){return 1+~~($t.getUTCMonth()/3)},Q:Dt,s:Et,S:ke,u:Be,U:We,V:Ge,w:Ke,W:et,x:null,X:null,y:at,Y:mt,Z:ct,"%":kt},bt={a:function($t,Qt,pn){var en=$e.exec(Qt.slice(pn));return en?($t.w=dt[en[0].toLowerCase()],pn+en[0].length):-1},A:function($t,Qt,pn){var en=ft.exec(Qt.slice(pn));return en?($t.w=Ue[en[0].toLowerCase()],pn+en[0].length):-1},b:function($t,Qt,pn){var en=wt.exec(Qt.slice(pn));return en?($t.m=St[en[0].toLowerCase()],pn+en[0].length):-1},B:function($t,Qt,pn){var en=ut.exec(Qt.slice(pn));return en?($t.m=At[en[0].toLowerCase()],pn+en[0].length):-1},c:function($t,Qt,pn){return Wt($t,pt,Qt,pn)},d:X,e:X,f:Z,H:Y,I:Y,j:F,L:W,m:j,M:G,p:function($t,Qt,pn){var en=ot.exec(Qt.slice(pn));return en?($t.p=gt[en[0].toLowerCase()],pn+en[0].length):-1},q:N,Q:re,s:ne,S:H,u:A,U:g,V:I,w:b,W:S,x:function($t,Qt,pn){return Wt($t,Pt,Qt,pn)},X:function($t,Qt,pn){return Wt($t,zt,Qt,pn)},y:R,Y:O,Z:L,"%":se};function Tt($t,Qt){return function(pn){var en,nn,fn,On=[],Un=-1,Sn=0,on=$t.length;for(pn instanceof Date||(pn=new Date(+pn));++Un<on;)37===$t.charCodeAt(Un)&&(On.push($t.slice(Sn,Un)),null!=(nn=h[en=$t.charAt(++Un)])?en=$t.charAt(++Un):nn="e"===en?" ":"0",(fn=Qt[en])&&(en=fn(pn,nn)),On.push(en),Sn=Un+1);return On.push($t.slice(Sn,Un)),On.join("")}}function It($t,Qt){return function(pn){var en,nn,fn=s(1900,void 0,1);if(Wt(fn,$t,pn+="",0)!=pn.length)return null;if("Q"in fn)return new Date(fn.Q);if("s"in fn)return new Date(1e3*fn.s+("L"in fn?fn.L:0));if(Qt&&!("Z"in fn)&&(fn.Z=0),"p"in fn&&(fn.H=fn.H%12+12*fn.p),void 0===fn.m&&(fn.m="q"in fn?fn.q:0),"V"in fn){if(fn.V<1||fn.V>53)return null;"w"in fn||(fn.w=1),"Z"in fn?(nn=(en=i(s(fn.y,0,1))).getUTCDay(),en=nn>4||0===nn?D.l6.ceil(en):(0,D.l6)(en),en=E.Z.offset(en,7*(fn.V-1)),fn.y=en.getUTCFullYear(),fn.m=en.getUTCMonth(),fn.d=en.getUTCDate()+(fn.w+6)%7):(nn=(en=c(s(fn.y,0,1))).getDay(),en=nn>4||0===nn?f.wA.ceil(en):(0,f.wA)(en),en=k.Z.offset(en,7*(fn.V-1)),fn.y=en.getFullYear(),fn.m=en.getMonth(),fn.d=en.getDate()+(fn.w+6)%7)}else("W"in fn||"U"in fn)&&("w"in fn||(fn.w="u"in fn?fn.u%7:"W"in fn?1:0),nn="Z"in fn?i(s(fn.y,0,1)).getUTCDay():c(s(fn.y,0,1)).getDay(),fn.m=0,fn.d="W"in fn?(fn.w+6)%7+7*fn.W-(nn+5)%7:fn.w+7*fn.U-(nn+6)%7);return"Z"in fn?(fn.H+=fn.Z/100|0,fn.M+=fn.Z%100,i(fn)):c(fn)}}function Wt($t,Qt,pn,en){for(var nn,fn,On=0,Un=Qt.length,Sn=pn.length;On<Un;){if(en>=Sn)return-1;if(37===(nn=Qt.charCodeAt(On++))){if(nn=Qt.charAt(On++),!(fn=bt[nn in h?Qt.charAt(On++):nn])||(en=fn($t,pn,en))<0)return-1}else if(nn!=pn.charCodeAt(en++))return-1}return en}return _t.x=Tt(Pt,_t),_t.X=Tt(zt,_t),_t.c=Tt(pt,_t),Rt.x=Tt(Pt,Rt),Rt.X=Tt(zt,Rt),Rt.c=Tt(pt,Rt),{format:function($t){var Qt=Tt($t+="",_t);return Qt.toString=function(){return $t},Qt},parse:function($t){var Qt=It($t+="",!1);return Qt.toString=function(){return $t},Qt},utcFormat:function($t){var Qt=Tt($t+="",Rt);return Qt.toString=function(){return $t},Qt},utcParse:function($t){var Qt=It($t+="",!0);return Qt.toString=function(){return $t},Qt}}}var o,l,u,h={"-":"",_:" ",0:"0"},v=/^\s*\d+/,p=/^%/,T=/[\\^$*+?|[\]().{}]/g;function _(ht,pt,Pt){var zt=ht<0?"-":"",Ht=(zt?-ht:ht)+"",Lt=Ht.length;return zt+(Lt<Pt?new Array(Pt-Lt+1).join(pt)+Ht:Ht)}function m(ht){return ht.replace(T,"\\$&")}function w(ht){return new RegExp("^(?:"+ht.map(m).join("|")+")","i")}function x(ht){for(var pt={},Pt=-1,zt=ht.length;++Pt<zt;)pt[ht[Pt].toLowerCase()]=Pt;return pt}function b(ht,pt,Pt){var zt=v.exec(pt.slice(Pt,Pt+1));return zt?(ht.w=+zt[0],Pt+zt[0].length):-1}function A(ht,pt,Pt){var zt=v.exec(pt.slice(Pt,Pt+1));return zt?(ht.u=+zt[0],Pt+zt[0].length):-1}function g(ht,pt,Pt){var zt=v.exec(pt.slice(Pt,Pt+2));return zt?(ht.U=+zt[0],Pt+zt[0].length):-1}function I(ht,pt,Pt){var zt=v.exec(pt.slice(Pt,Pt+2));return zt?(ht.V=+zt[0],Pt+zt[0].length):-1}function S(ht,pt,Pt){var zt=v.exec(pt.slice(Pt,Pt+2));return zt?(ht.W=+zt[0],Pt+zt[0].length):-1}function O(ht,pt,Pt){var zt=v.exec(pt.slice(Pt,Pt+4));return zt?(ht.y=+zt[0],Pt+zt[0].length):-1}function R(ht,pt,Pt){var zt=v.exec(pt.slice(Pt,Pt+2));return zt?(ht.y=+zt[0]+(+zt[0]>68?1900:2e3),Pt+zt[0].length):-1}function L(ht,pt,Pt){var zt=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(pt.slice(Pt,Pt+6));return zt?(ht.Z=zt[1]?0:-(zt[2]+(zt[3]||"00")),Pt+zt[0].length):-1}function N(ht,pt,Pt){var zt=v.exec(pt.slice(Pt,Pt+1));return zt?(ht.q=3*zt[0]-3,Pt+zt[0].length):-1}function j(ht,pt,Pt){var zt=v.exec(pt.slice(Pt,Pt+2));return zt?(ht.m=zt[0]-1,Pt+zt[0].length):-1}function X(ht,pt,Pt){var zt=v.exec(pt.slice(Pt,Pt+2));return zt?(ht.d=+zt[0],Pt+zt[0].length):-1}function F(ht,pt,Pt){var zt=v.exec(pt.slice(Pt,Pt+3));return zt?(ht.m=0,ht.d=+zt[0],Pt+zt[0].length):-1}function Y(ht,pt,Pt){var zt=v.exec(pt.slice(Pt,Pt+2));return zt?(ht.H=+zt[0],Pt+zt[0].length):-1}function G(ht,pt,Pt){var zt=v.exec(pt.slice(Pt,Pt+2));return zt?(ht.M=+zt[0],Pt+zt[0].length):-1}function H(ht,pt,Pt){var zt=v.exec(pt.slice(Pt,Pt+2));return zt?(ht.S=+zt[0],Pt+zt[0].length):-1}function W(ht,pt,Pt){var zt=v.exec(pt.slice(Pt,Pt+3));return zt?(ht.L=+zt[0],Pt+zt[0].length):-1}function Z(ht,pt,Pt){var zt=v.exec(pt.slice(Pt,Pt+6));return zt?(ht.L=Math.floor(zt[0]/1e3),Pt+zt[0].length):-1}function se(ht,pt,Pt){var zt=p.exec(pt.slice(Pt,Pt+1));return zt?Pt+zt[0].length:-1}function re(ht,pt,Pt){var zt=v.exec(pt.slice(Pt));return zt?(ht.Q=+zt[0],Pt+zt[0].length):-1}function ne(ht,pt,Pt){var zt=v.exec(pt.slice(Pt));return zt?(ht.s=+zt[0],Pt+zt[0].length):-1}function Q(ht,pt){return _(ht.getDate(),pt,2)}function ee(ht,pt){return _(ht.getHours(),pt,2)}function oe(ht,pt){return _(ht.getHours()%12||12,pt,2)}function ce(ht,pt){return _(1+k.Z.count((0,M.Z)(ht),ht),pt,3)}function fe(ht,pt){return _(ht.getMilliseconds(),pt,3)}function le(ht,pt){return fe(ht,pt)+"000"}function pe(ht,pt){return _(ht.getMonth()+1,pt,2)}function Me(ht,pt){return _(ht.getMinutes(),pt,2)}function Ae(ht,pt){return _(ht.getSeconds(),pt,2)}function be(ht){var pt=ht.getDay();return 0===pt?7:pt}function ye(ht,pt){return _(f.OM.count((0,M.Z)(ht)-1,ht),pt,2)}function we(ht,pt){var Pt=ht.getDay();return ht=Pt>=4||0===Pt?(0,f.bL)(ht):f.bL.ceil(ht),_(f.bL.count((0,M.Z)(ht),ht)+(4===(0,M.Z)(ht).getDay()),pt,2)}function ze(ht){return ht.getDay()}function Se(ht,pt){return _(f.wA.count((0,M.Z)(ht)-1,ht),pt,2)}function Ce(ht,pt){return _(ht.getFullYear()%100,pt,2)}function ge(ht,pt){return _(ht.getFullYear()%1e4,pt,4)}function he(ht){var pt=ht.getTimezoneOffset();return(pt>0?"-":(pt*=-1,"+"))+_(pt/60|0,"0",2)+_(pt%60,"0",2)}function _e(ht,pt){return _(ht.getUTCDate(),pt,2)}function Le(ht,pt){return _(ht.getUTCHours(),pt,2)}function Ie(ht,pt){return _(ht.getUTCHours()%12||12,pt,2)}function De(ht,pt){return _(1+E.Z.count((0,y.Z)(ht),ht),pt,3)}function je(ht,pt){return _(ht.getUTCMilliseconds(),pt,3)}function qe(ht,pt){return je(ht,pt)+"000"}function ve(ht,pt){return _(ht.getUTCMonth()+1,pt,2)}function Oe(ht,pt){return _(ht.getUTCMinutes(),pt,2)}function ke(ht,pt){return _(ht.getUTCSeconds(),pt,2)}function Be(ht){var pt=ht.getUTCDay();return 0===pt?7:pt}function We(ht,pt){return _(D.Ox.count((0,y.Z)(ht)-1,ht),pt,2)}function Ge(ht,pt){var Pt=ht.getUTCDay();return ht=Pt>=4||0===Pt?(0,D.hB)(ht):D.hB.ceil(ht),_(D.hB.count((0,y.Z)(ht),ht)+(4===(0,y.Z)(ht).getUTCDay()),pt,2)}function Ke(ht){return ht.getUTCDay()}function et(ht,pt){return _(D.l6.count((0,y.Z)(ht)-1,ht),pt,2)}function at(ht,pt){return _(ht.getUTCFullYear()%100,pt,2)}function mt(ht,pt){return _(ht.getUTCFullYear()%1e4,pt,4)}function ct(){return"+0000"}function kt(){return"%"}function Dt(ht){return+ht}function Et(ht){return Math.floor(+ht/1e3)}o=a({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),l=o.format,u=o.utcFormat},82301:function(ae,B,r){"use strict";r.d(B,{a:function(){return k}});var D=r(30052),E=r(54263),f=(0,D.Z)(function(M){M.setHours(0,0,0,0)},function(M,y){M.setDate(M.getDate()+y)},function(M,y){return(y-M-(y.getTimezoneOffset()-M.getTimezoneOffset())*E.yB)/E.UD},function(M){return M.getDate()-1});B.Z=f;var k=f.range},54263:function(ae,B,r){"use strict";r.d(B,{UD:function(){return k},Y2:function(){return f},Ym:function(){return D},iM:function(){return M},yB:function(){return E}});var D=1e3,E=6e4,f=36e5,k=864e5,M=6048e5},81041:function(ae,B,r){"use strict";r.r(B),r.d(B,{timeDay:function(){return v.Z},timeDays:function(){return v.a},timeFriday:function(){return p.mC},timeFridays:function(){return p.b$},timeHour:function(){return u},timeHours:function(){return h},timeInterval:function(){return D.Z},timeMillisecond:function(){return f},timeMilliseconds:function(){return k},timeMinute:function(){return a},timeMinutes:function(){return o},timeMonday:function(){return p.wA},timeMondays:function(){return p.bJ},timeMonth:function(){return _},timeMonths:function(){return m},timeSaturday:function(){return p.EY},timeSaturdays:function(){return p.Ff},timeSecond:function(){return c},timeSeconds:function(){return i},timeSunday:function(){return p.OM},timeSundays:function(){return p.vm},timeThursday:function(){return p.bL},timeThursdays:function(){return p.$t},timeTuesday:function(){return p.sy},timeTuesdays:function(){return p.aU},timeWednesday:function(){return p.zg},timeWednesdays:function(){return p.Ld},timeWeek:function(){return p.OM},timeWeeks:function(){return p.vm},timeYear:function(){return w.Z},timeYears:function(){return w.g},utcDay:function(){return O.Z},utcDays:function(){return O.y},utcFriday:function(){return R.QQ},utcFridays:function(){return R.fz},utcHour:function(){return I},utcHours:function(){return S},utcMillisecond:function(){return f},utcMilliseconds:function(){return k},utcMinute:function(){return b},utcMinutes:function(){return A},utcMonday:function(){return R.l6},utcMondays:function(){return R.$3},utcMonth:function(){return N},utcMonths:function(){return j},utcSaturday:function(){return R.g4},utcSaturdays:function(){return R.Q_},utcSecond:function(){return c},utcSeconds:function(){return i},utcSunday:function(){return R.Ox},utcSundays:function(){return R.SU},utcThursday:function(){return R.hB},utcThursdays:function(){return R.xj},utcTuesday:function(){return R.J1},utcTuesdays:function(){return R.DK},utcWednesday:function(){return R.b3},utcWednesdays:function(){return R.uy},utcWeek:function(){return R.Ox},utcWeeks:function(){return R.SU},utcYear:function(){return X.Z},utcYears:function(){return X.D}});var D=r(30052),E=(0,D.Z)(function(){},function(F,Y){F.setTime(+F+Y)},function(F,Y){return Y-F});E.every=function(F){return F=Math.floor(F),isFinite(F)&&F>0?F>1?(0,D.Z)(function(Y){Y.setTime(Math.floor(Y/F)*F)},function(Y,G){Y.setTime(+Y+G*F)},function(Y,G){return(G-Y)/F}):E:null};var f=E,k=E.range,M=r(54263),y=(0,D.Z)(function(F){F.setTime(F-F.getMilliseconds())},function(F,Y){F.setTime(+F+Y*M.Ym)},function(F,Y){return(Y-F)/M.Ym},function(F){return F.getUTCSeconds()}),c=y,i=y.range,s=(0,D.Z)(function(F){F.setTime(F-F.getMilliseconds()-F.getSeconds()*M.Ym)},function(F,Y){F.setTime(+F+Y*M.yB)},function(F,Y){return(Y-F)/M.yB},function(F){return F.getMinutes()}),a=s,o=s.range,l=(0,D.Z)(function(F){F.setTime(F-F.getMilliseconds()-F.getSeconds()*M.Ym-F.getMinutes()*M.yB)},function(F,Y){F.setTime(+F+Y*M.Y2)},function(F,Y){return(Y-F)/M.Y2},function(F){return F.getHours()}),u=l,h=l.range,v=r(82301),p=r(59879),T=(0,D.Z)(function(F){F.setDate(1),F.setHours(0,0,0,0)},function(F,Y){F.setMonth(F.getMonth()+Y)},function(F,Y){return Y.getMonth()-F.getMonth()+12*(Y.getFullYear()-F.getFullYear())},function(F){return F.getMonth()}),_=T,m=T.range,w=r(34823),x=(0,D.Z)(function(F){F.setUTCSeconds(0,0)},function(F,Y){F.setTime(+F+Y*M.yB)},function(F,Y){return(Y-F)/M.yB},function(F){return F.getUTCMinutes()}),b=x,A=x.range,g=(0,D.Z)(function(F){F.setUTCMinutes(0,0,0)},function(F,Y){F.setTime(+F+Y*M.Y2)},function(F,Y){return(Y-F)/M.Y2},function(F){return F.getUTCHours()}),I=g,S=g.range,O=r(48480),R=r(58176),L=(0,D.Z)(function(F){F.setUTCDate(1),F.setUTCHours(0,0,0,0)},function(F,Y){F.setUTCMonth(F.getUTCMonth()+Y)},function(F,Y){return Y.getUTCMonth()-F.getUTCMonth()+12*(Y.getUTCFullYear()-F.getUTCFullYear())},function(F){return F.getUTCMonth()}),N=L,j=L.range,X=r(79791)},30052:function(ae,B,r){"use strict";r.d(B,{Z:function(){return f}});var D=new Date,E=new Date;function f(k,M,y,c){function i(s){return k(s=0===arguments.length?new Date:new Date(+s)),s}return i.floor=function(s){return k(s=new Date(+s)),s},i.ceil=function(s){return k(s=new Date(s-1)),M(s,1),k(s),s},i.round=function(s){var a=i(s),o=i.ceil(s);return s-a<o-s?a:o},i.offset=function(s,a){return M(s=new Date(+s),null==a?1:Math.floor(a)),s},i.range=function(s,a,o){var l,u=[];if(s=i.ceil(s),o=null==o?1:Math.floor(o),!(s<a&&o>0))return u;do{u.push(l=new Date(+s)),M(s,o),k(s)}while(l<s&&s<a);return u},i.filter=function(s){return f(function(a){if(a>=a)for(;k(a),!s(a);)a.setTime(a-1)},function(a,o){if(a>=a)if(o<0)for(;++o<=0;)for(;M(a,-1),!s(a););else for(;--o>=0;)for(;M(a,1),!s(a););})},y&&(i.count=function(s,a){return D.setTime(+s),E.setTime(+a),k(D),k(E),Math.floor(y(D,E))},i.every=function(s){return s=Math.floor(s),isFinite(s)&&s>0?s>1?i.filter(c?function(a){return c(a)%s==0}:function(a){return i.count(0,a)%s==0}):i:null}),i}},48480:function(ae,B,r){"use strict";r.d(B,{y:function(){return k}});var D=r(30052),E=r(54263),f=(0,D.Z)(function(M){M.setUTCHours(0,0,0,0)},function(M,y){M.setUTCDate(M.getUTCDate()+y)},function(M,y){return(y-M)/E.UD},function(M){return M.getUTCDate()-1});B.Z=f;var k=f.range},58176:function(ae,B,r){"use strict";r.d(B,{$3:function(){return l},DK:function(){return u},J1:function(){return y},Ox:function(){return k},QQ:function(){return s},Q_:function(){return T},SU:function(){return o},b3:function(){return c},fz:function(){return p},g4:function(){return a},hB:function(){return i},l6:function(){return M},uy:function(){return h},xj:function(){return v}});var D=r(30052),E=r(54263);function f(_){return(0,D.Z)(function(m){m.setUTCDate(m.getUTCDate()-(m.getUTCDay()+7-_)%7),m.setUTCHours(0,0,0,0)},function(m,w){m.setUTCDate(m.getUTCDate()+7*w)},function(m,w){return(w-m)/E.iM})}var k=f(0),M=f(1),y=f(2),c=f(3),i=f(4),s=f(5),a=f(6),o=k.range,l=M.range,u=y.range,h=c.range,v=i.range,p=s.range,T=a.range},79791:function(ae,B,r){"use strict";r.d(B,{D:function(){return f}});var D=r(30052),E=(0,D.Z)(function(k){k.setUTCMonth(0,1),k.setUTCHours(0,0,0,0)},function(k,M){k.setUTCFullYear(k.getUTCFullYear()+M)},function(k,M){return M.getUTCFullYear()-k.getUTCFullYear()},function(k){return k.getUTCFullYear()});E.every=function(k){return isFinite(k=Math.floor(k))&&k>0?(0,D.Z)(function(M){M.setUTCFullYear(Math.floor(M.getUTCFullYear()/k)*k),M.setUTCMonth(0,1),M.setUTCHours(0,0,0,0)},function(M,y){M.setUTCFullYear(M.getUTCFullYear()+y*k)}):null},B.Z=E;var f=E.range},59879:function(ae,B,r){"use strict";r.d(B,{$t:function(){return v},EY:function(){return a},Ff:function(){return T},Ld:function(){return h},OM:function(){return k},aU:function(){return u},b$:function(){return p},bJ:function(){return l},bL:function(){return i},mC:function(){return s},sy:function(){return y},vm:function(){return o},wA:function(){return M},zg:function(){return c}});var D=r(30052),E=r(54263);function f(_){return(0,D.Z)(function(m){m.setDate(m.getDate()-(m.getDay()+7-_)%7),m.setHours(0,0,0,0)},function(m,w){m.setDate(m.getDate()+7*w)},function(m,w){return(w-m-(w.getTimezoneOffset()-m.getTimezoneOffset())*E.yB)/E.iM})}var k=f(0),M=f(1),y=f(2),c=f(3),i=f(4),s=f(5),a=f(6),o=k.range,l=M.range,u=y.range,h=c.range,v=i.range,p=s.range,T=a.range},34823:function(ae,B,r){"use strict";r.d(B,{g:function(){return f}});var D=r(30052),E=(0,D.Z)(function(k){k.setMonth(0,1),k.setHours(0,0,0,0)},function(k,M){k.setFullYear(k.getFullYear()+M)},function(k,M){return M.getFullYear()-k.getFullYear()},function(k){return k.getFullYear()});E.every=function(k){return isFinite(k=Math.floor(k))&&k>0?(0,D.Z)(function(M){M.setFullYear(Math.floor(M.getFullYear()/k)*k),M.setMonth(0,1),M.setHours(0,0,0,0)},function(M,y){M.setFullYear(M.getFullYear()+y*k)}):null},B.Z=E;var f=E.range},17045:function(ae,B,r){"use strict";var D=r(8709),E="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),f=Object.prototype.toString,k=Array.prototype.concat,M=Object.defineProperty,y=r(55622)(),c=M&&y,i=function(a,o,l,u){if(o in a)if(!0===u){if(a[o]===l)return}else if("function"!=typeof(h=u)||"[object Function]"!==f.call(h)||!u())return;var h;c?M(a,o,{configurable:!0,enumerable:!1,value:l,writable:!0}):a[o]=l},s=function(a,o){var l=arguments.length>2?arguments[2]:{},u=D(o);E&&(u=k.call(u,Object.getOwnPropertySymbols(o)));for(var h=0;h<u.length;h+=1)i(a,u[h],o[u[h]],l[u[h]])};s.supportsDescriptors=!!c,ae.exports=s},46775:function(ae){ae.exports=function(){for(var B=0;B<arguments.length;B++)if(void 0!==arguments[B])return arguments[B]}},53545:function(ae){"use strict";ae.exports=D;var B=(D.canvas=document.createElement("canvas")).getContext("2d"),r=E([32,126]);function D(f,k){Array.isArray(f)&&(f=f.join(", "));var M,y={},c=16,i=.05;k&&(2===k.length&&"number"==typeof k[0]?M=E(k):Array.isArray(k)?M=k:(k.o?M=E(k.o):k.pairs&&(M=k.pairs),k.fontSize&&(c=k.fontSize),null!=k.threshold&&(i=k.threshold))),M||(M=r),B.font=c+"px "+f;for(var s=0;s<M.length;s++){var a=M[s],o=B.measureText(a[0]).width+B.measureText(a[1]).width,l=B.measureText(a).width;Math.abs(o-l)>c*i&&(y[a]=(l-o)/c*1e3)}return y}function E(f){for(var k=[],M=f[0];M<=f[1];M++)for(var y=String.fromCharCode(M),c=f[0];c<f[1];c++){var i=y+String.fromCharCode(c);k.push(i)}return k}D.createPairs=E,D.ascii=r},31457:function(ae,B,r){var D=r(65185),E=r(18625),f={M:"moveTo",C:"bezierCurveTo"};ae.exports=function(k,M){k.beginPath(),E(D(M)).forEach(function(y){var c=y[0],i=y.slice(1);k[f[c]].apply(k,i)}),k.closePath()}},90660:function(ae){ae.exports=function(B){switch(B){case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"uint8":return Uint8Array;case"uint16":return Uint16Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;case"array":return Array;case"uint8_clamped":return Uint8ClampedArray}}},12129:function(ae){"use strict";function B(r,D,E){var f=0|r[E];if(f<=0)return[];var k,M=new Array(f);if(E===r.length-1)for(k=0;k<f;++k)M[k]=D;else for(k=0;k<f;++k)M[k]=B(r,D,E+1);return M}ae.exports=function(r,D){switch(void 0===D&&(D=0),typeof r){case"number":if(r>0)return function(E,f){var k,M;for(k=new Array(E),M=0;M<E;++M)k[M]=f;return k}(0|r,D);break;case"object":if("number"==typeof r.length)return B(r,D,0)}return[]}},11474:function(ae){"use strict";function B(I,S,O){O=O||2;var R,L,N,j,X,F,Y,G=S&&S.length,H=G?S[0]*O:I.length,W=r(I,0,H,O,!0),Z=[];if(!W||W.next===W.prev)return Z;if(G&&(W=function(re,ne,Q,ee){var oe,ce,fe,le=[];for(oe=0,ce=ne.length;oe<ce;oe++)(fe=r(re,ne[oe]*ee,oe<ce-1?ne[oe+1]*ee:re.length,ee,!1))===fe.next&&(fe.steiner=!0),le.push(o(fe));for(le.sort(c),oe=0;oe<le.length;oe++)i(le[oe],Q),Q=D(Q,Q.next);return Q}(I,S,W,O)),I.length>80*O){R=N=I[0],L=j=I[1];for(var se=O;se<H;se+=O)(X=I[se])<R&&(R=X),(F=I[se+1])<L&&(L=F),X>N&&(N=X),F>j&&(j=F);Y=0!==(Y=Math.max(N-R,j-L))?1/Y:0}return E(W,Z,O,R,L,Y),Z}function r(I,S,O,R,L){var N,j;if(L===g(I,S,O,R)>0)for(N=S;N<O;N+=R)j=x(N,I[N],I[N+1],j);else for(N=O-R;N>=S;N-=R)j=x(N,I[N],I[N+1],j);return j&&v(j,j.next)&&(b(j),j=j.next),j}function D(I,S){if(!I)return I;S||(S=I);var O,R=I;do{if(O=!1,R.steiner||!v(R,R.next)&&0!==h(R.prev,R,R.next))R=R.next;else{if(b(R),(R=S=R.prev)===R.next)break;O=!0}}while(O||R!==S);return S}function E(I,S,O,R,L,N,j){if(I){!j&&N&&function(G,H,W,Z){var se=G;do{null===se.z&&(se.z=a(se.x,se.y,H,W,Z)),se.prevZ=se.prev,se.nextZ=se.next,se=se.next}while(se!==G);se.prevZ.nextZ=null,se.prevZ=null,function(re){var ne,Q,ee,oe,ce,fe,le,pe,Me=1;do{for(Q=re,re=null,ce=null,fe=0;Q;){for(fe++,ee=Q,le=0,ne=0;ne<Me&&(le++,ee=ee.nextZ);ne++);for(pe=Me;le>0||pe>0&&ee;)0!==le&&(0===pe||!ee||Q.z<=ee.z)?(oe=Q,Q=Q.nextZ,le--):(oe=ee,ee=ee.nextZ,pe--),ce?ce.nextZ=oe:re=oe,oe.prevZ=ce,ce=oe;Q=ee}ce.nextZ=null,Me*=2}while(fe>1)}(se)}(I,R,L,N);for(var X,F,Y=I;I.prev!==I.next;)if(X=I.prev,F=I.next,N?k(I,R,L,N):f(I))S.push(X.i/O),S.push(I.i/O),S.push(F.i/O),b(I),I=F.next,Y=F.next;else if((I=F)===Y){j?1===j?E(I=M(D(I),S,O),S,O,R,L,N,2):2===j&&y(I,S,O,R,L,N):E(D(I),S,O,R,L,N,1);break}}}function f(I){var S=I.prev,O=I,R=I.next;if(h(S,O,R)>=0)return!1;for(var L=I.next.next;L!==I.prev;){if(l(S.x,S.y,O.x,O.y,R.x,R.y,L.x,L.y)&&h(L.prev,L,L.next)>=0)return!1;L=L.next}return!0}function k(I,S,O,R){var L=I.prev,N=I,j=I.next;if(h(L,N,j)>=0)return!1;for(var Y=L.x>N.x?L.x>j.x?L.x:j.x:N.x>j.x?N.x:j.x,G=L.y>N.y?L.y>j.y?L.y:j.y:N.y>j.y?N.y:j.y,H=a(L.x<N.x?L.x<j.x?L.x:j.x:N.x<j.x?N.x:j.x,L.y<N.y?L.y<j.y?L.y:j.y:N.y<j.y?N.y:j.y,S,O,R),W=a(Y,G,S,O,R),Z=I.prevZ,se=I.nextZ;Z&&Z.z>=H&&se&&se.z<=W;){if(Z!==I.prev&&Z!==I.next&&l(L.x,L.y,N.x,N.y,j.x,j.y,Z.x,Z.y)&&h(Z.prev,Z,Z.next)>=0||(Z=Z.prevZ,se!==I.prev&&se!==I.next&&l(L.x,L.y,N.x,N.y,j.x,j.y,se.x,se.y)&&h(se.prev,se,se.next)>=0))return!1;se=se.nextZ}for(;Z&&Z.z>=H;){if(Z!==I.prev&&Z!==I.next&&l(L.x,L.y,N.x,N.y,j.x,j.y,Z.x,Z.y)&&h(Z.prev,Z,Z.next)>=0)return!1;Z=Z.prevZ}for(;se&&se.z<=W;){if(se!==I.prev&&se!==I.next&&l(L.x,L.y,N.x,N.y,j.x,j.y,se.x,se.y)&&h(se.prev,se,se.next)>=0)return!1;se=se.nextZ}return!0}function M(I,S,O){var R=I;do{var L=R.prev,N=R.next.next;!v(L,N)&&p(L,R,R.next,N)&&m(L,N)&&m(N,L)&&(S.push(L.i/O),S.push(R.i/O),S.push(N.i/O),b(R),b(R.next),R=I=N),R=R.next}while(R!==I);return D(R)}function y(I,S,O,R,L,N){var j=I;do{for(var X=j.next.next;X!==j.prev;){if(j.i!==X.i&&u(j,X)){var F=w(j,X);return j=D(j,j.next),F=D(F,F.next),E(j,S,O,R,L,N),void E(F,S,O,R,L,N)}X=X.next}j=j.next}while(j!==I)}function c(I,S){return I.x-S.x}function i(I,S){if(S=function(R,L){var N,j=L,X=R.x,F=R.y,Y=-1/0;do{if(F<=j.y&&F>=j.next.y&&j.next.y!==j.y){var G=j.x+(F-j.y)*(j.next.x-j.x)/(j.next.y-j.y);if(G<=X&&G>Y){if(Y=G,G===X){if(F===j.y)return j;if(F===j.next.y)return j.next}N=j.x<j.next.x?j:j.next}}j=j.next}while(j!==L);if(!N)return null;if(X===Y)return N;var H,W=N,Z=N.x,se=N.y,re=1/0;j=N;do{X>=j.x&&j.x>=Z&&X!==j.x&&l(F<se?X:Y,F,Z,se,F<se?Y:X,F,j.x,j.y)&&(H=Math.abs(F-j.y)/(X-j.x),m(j,R)&&(H<re||H===re&&(j.x>N.x||j.x===N.x&&s(N,j)))&&(N=j,re=H)),j=j.next}while(j!==W);return N}(I,S)){var O=w(S,I);D(S,S.next),D(O,O.next)}}function s(I,S){return h(I.prev,I,S.prev)<0&&h(S.next,I,I.next)<0}function a(I,S,O,R,L){return(I=1431655765&((I=858993459&((I=252645135&((I=16711935&((I=32767*(I-O)*L)|I<<8))|I<<4))|I<<2))|I<<1))|(S=1431655765&((S=858993459&((S=252645135&((S=16711935&((S=32767*(S-R)*L)|S<<8))|S<<4))|S<<2))|S<<1))<<1}function o(I){var S=I,O=I;do{(S.x<O.x||S.x===O.x&&S.y<O.y)&&(O=S),S=S.next}while(S!==I);return O}function l(I,S,O,R,L,N,j,X){return(L-j)*(S-X)-(I-j)*(N-X)>=0&&(I-j)*(R-X)-(O-j)*(S-X)>=0&&(O-j)*(N-X)-(L-j)*(R-X)>=0}function u(I,S){return I.next.i!==S.i&&I.prev.i!==S.i&&!function(O,R){var L=O;do{if(L.i!==O.i&&L.next.i!==O.i&&L.i!==R.i&&L.next.i!==R.i&&p(L,L.next,O,R))return!0;L=L.next}while(L!==O);return!1}(I,S)&&(m(I,S)&&m(S,I)&&function(O,R){var L=O,N=!1,j=(O.x+R.x)/2,X=(O.y+R.y)/2;do{L.y>X!=L.next.y>X&&L.next.y!==L.y&&j<(L.next.x-L.x)*(X-L.y)/(L.next.y-L.y)+L.x&&(N=!N),L=L.next}while(L!==O);return N}(I,S)&&(h(I.prev,I,S.prev)||h(I,S.prev,S))||v(I,S)&&h(I.prev,I,I.next)>0&&h(S.prev,S,S.next)>0)}function h(I,S,O){return(S.y-I.y)*(O.x-S.x)-(S.x-I.x)*(O.y-S.y)}function v(I,S){return I.x===S.x&&I.y===S.y}function p(I,S,O,R){var L=_(h(I,S,O)),N=_(h(I,S,R)),j=_(h(O,R,I)),X=_(h(O,R,S));return L!==N&&j!==X||!(0!==L||!T(I,O,S))||!(0!==N||!T(I,R,S))||!(0!==j||!T(O,I,R))||!(0!==X||!T(O,S,R))}function T(I,S,O){return S.x<=Math.max(I.x,O.x)&&S.x>=Math.min(I.x,O.x)&&S.y<=Math.max(I.y,O.y)&&S.y>=Math.min(I.y,O.y)}function _(I){return I>0?1:I<0?-1:0}function m(I,S){return h(I.prev,I,I.next)<0?h(I,S,I.next)>=0&&h(I,I.prev,S)>=0:h(I,S,I.prev)<0||h(I,I.next,S)<0}function w(I,S){var O=new A(I.i,I.x,I.y),R=new A(S.i,S.x,S.y),L=I.next,N=S.prev;return I.next=S,S.prev=I,O.next=L,L.prev=O,R.next=O,O.prev=R,N.next=R,R.prev=N,R}function x(I,S,O,R){var L=new A(I,S,O);return R?(L.next=R.next,L.prev=R,R.next.prev=L,R.next=L):(L.prev=L,L.next=L),L}function b(I){I.next.prev=I.prev,I.prev.next=I.next,I.prevZ&&(I.prevZ.nextZ=I.nextZ),I.nextZ&&(I.nextZ.prevZ=I.prevZ)}function A(I,S,O){this.i=I,this.x=S,this.y=O,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function g(I,S,O,R){for(var L=0,N=S,j=O-R;N<O;N+=R)L+=(I[j]-I[N])*(I[N+1]+I[j+1]),j=N;return L}ae.exports=B,ae.exports.default=B,B.deviation=function(I,S,O,R){var L=S&&S.length,j=Math.abs(g(I,0,L?S[0]*O:I.length,O));if(L)for(var X=0,F=S.length;X<F;X++)j-=Math.abs(g(I,S[X]*O,X<F-1?S[X+1]*O:I.length,O));var H=0;for(X=0;X<R.length;X+=3){var W=R[X]*O,Z=R[X+1]*O,se=R[X+2]*O;H+=Math.abs((I[W]-I[se])*(I[Z+1]-I[W+1])-(I[W]-I[Z])*(I[se+1]-I[W+1]))}return 0===j&&0===H?0:Math.abs((H-j)/j)},B.flatten=function(I){for(var S=I[0][0].length,O={vertices:[],holes:[],dimensions:S},R=0,L=0;L<I.length;L++){for(var N=0;N<I[L].length;N++)for(var j=0;j<S;j++)O.vertices.push(I[L][N][j]);L>0&&O.holes.push(R+=I[L-1].length)}return O}},2502:function(ae,B,r){var D=r(68664);ae.exports=function(E,f){var k,M=[],y=[],c=[],i={},s=[];function a(m){c[m]=!1,i.hasOwnProperty(m)&&Object.keys(i[m]).forEach(function(w){delete i[m][w],c[w]&&a(w)})}function o(m){var w,x,b=!1;for(y.push(m),c[m]=!0,w=0;w<s[m].length;w++)(x=s[m][w])===k?(l(k,y),b=!0):c[x]||(b=o(x));if(b)a(m);else for(w=0;w<s[m].length;w++){var A=i[x=s[m][w]];A||(i[x]=A={}),A[x]=!0}return y.pop(),b}function l(m,w){var x=[].concat(w).concat(m);f?f(o):M.push(x)}function u(m){!function(O){for(var R=0;R<E.length;R++)R<O&&(E[R]=[]),E[R]=E[R].filter(function(L){return L>=O})}(m);for(var w,x=D(E).components.filter(function(O){return O.length>1}),b=1/0,A=0;A<x.length;A++)for(var g=0;g<x[A].length;g++)x[A][g]<b&&(b=x[A][g],w=A);var I=x[w];return!!I&&{leastVertex:b,adjList:E.map(function(O,R){return-1===I.indexOf(R)?[]:O.filter(function(L){return-1!==I.indexOf(L)})})}}k=0;for(var h=E.length;k<h;){var v=u(k);if(k=v.leastVertex,s=v.adjList){for(var p=0;p<s.length;p++)for(var T=0;T<s[p].length;T++){var _=s[p][T];c[+_]=!1,i[_]={}}o(k),k+=1}else k=h}return f?void 0:M}},16134:function(ae,B,r){"use strict";var D=r(36672);ae.exports=function(){return D(this).length=0,this}},4892:function(ae,B,r){"use strict";ae.exports=r(64404)()?Array.from:r(49441)},64404:function(ae){"use strict";ae.exports=function(){var B,r,D=Array.from;return"function"==typeof D&&!(!(r=D(B=["raz","dwa"]))||r===B||"dwa"!==r[1])}},49441:function(ae,B,r){"use strict";var D=r(8260).iterator,E=r(73051),f=r(33717),k=r(35976),M=r(78513),y=r(36672),c=r(95296),i=r(87963),s=Array.isArray,a=Function.prototype.call,o={configurable:!0,enumerable:!0,writable:!0,value:null},l=Object.defineProperty;ae.exports=function(u){var h,v,p,T,_,m,w,x,b,A,g=arguments[1],I=arguments[2];if(u=Object(y(u)),c(g)&&M(g),this&&this!==Array&&f(this))h=this;else{if(!g){if(E(u))return 1!==(_=u.length)?Array.apply(null,u):((T=new Array(1))[0]=u[0],T);if(s(u)){for(T=new Array(_=u.length),v=0;v<_;++v)T[v]=u[v];return T}}T=[]}if(!s(u))if(void 0!==(b=u[D])){for(w=M(b).call(u),h&&(T=new h),x=w.next(),v=0;!x.done;)A=g?a.call(g,I,x.value,v):x.value,h?(o.value=A,l(T,v,o)):T[v]=A,x=w.next(),++v;_=v}else if(i(u)){for(_=u.length,h&&(T=new h),v=0,p=0;v<_;++v)A=u[v],v+1<_&&(m=A.charCodeAt(0))>=55296&&m<=56319&&(A+=u[++v]),A=g?a.call(g,I,A,p):A,h?(o.value=A,l(T,p,o)):T[p]=A,++p;_=p}if(void 0===_)for(_=k(u.length),h&&(T=new h(_)),v=0;v<_;++v)A=g?a.call(g,I,u[v],v):u[v],h?(o.value=A,l(T,v,o)):T[v]=A;return h&&(o.value=null,T.length=_),T}},73051:function(ae){"use strict";var B=Object.prototype.toString,r=B.call(function(){return arguments}());ae.exports=function(D){return B.call(D)===r}},33717:function(ae){"use strict";var B=Object.prototype.toString,r=RegExp.prototype.test.bind(/^[object [A-Za-z0-9]*Function]$/);ae.exports=function(D){return"function"==typeof D&&r(B.call(D))}},52345:function(ae){"use strict";ae.exports=function(){}},9953:function(ae,B,r){"use strict";ae.exports=r(90436)()?Math.sign:r(6069)},90436:function(ae){"use strict";ae.exports=function(){var B=Math.sign;return"function"==typeof B&&1===B(10)&&-1===B(-20)}},6069:function(ae){"use strict";ae.exports=function(B){return B=Number(B),isNaN(B)||0===B?B:B>0?1:-1}},56247:function(ae,B,r){"use strict";var D=r(9953),E=Math.abs,f=Math.floor;ae.exports=function(k){return isNaN(k)?0:0!==(k=Number(k))&&isFinite(k)?D(k)*f(E(k)):k}},35976:function(ae,B,r){"use strict";var D=r(56247),E=Math.max;ae.exports=function(f){return E(0,D(f))}},67260:function(ae,B,r){"use strict";var D=r(78513),E=r(36672),f=Function.prototype.bind,k=Function.prototype.call,M=Object.keys,y=Object.prototype.propertyIsEnumerable;ae.exports=function(c,i){return function(s,a){var o,l=arguments[2],u=arguments[3];return s=Object(E(s)),D(a),o=M(s),u&&o.sort("function"==typeof u?f.call(u,s):void 0),"function"!=typeof c&&(c=o[c]),k.call(c,o,function(h,v){return y.call(s,h)?k.call(a,l,s[h],h,s,v):i})}}},95879:function(ae,B,r){"use strict";ae.exports=r(73583)()?Object.assign:r(34205)},73583:function(ae){"use strict";ae.exports=function(){var B,r=Object.assign;return"function"==typeof r&&(r(B={foo:"raz"},{bar:"dwa"},{trzy:"trzy"}),B.foo+B.bar+B.trzy==="razdwatrzy")}},34205:function(ae,B,r){"use strict";var D=r(68700),E=r(36672),f=Math.max;ae.exports=function(k,M){var y,c,i,s=f(arguments.length,2);for(k=Object(E(k)),i=function(a){try{k[a]=M[a]}catch(o){y||(y=o)}},c=1;c<s;++c)D(M=arguments[c]).forEach(i);if(void 0!==y)throw y;return k}},19012:function(ae,B,r){"use strict";var D=r(4892),E=r(95879),f=r(36672);ae.exports=function(k){var M=Object(f(k)),y=arguments[1],c=Object(arguments[2]);if(M!==k&&!y)return M;var i={};return y?D(y,function(s){(c.ensure||s in k)&&(i[s]=k[s])}):E(i,k),i}},52818:function(ae,B,r){"use strict";var D,E,f,k,M=Object.create;r(33247)()||(D=r(51882)),ae.exports=D?1!==D.level?M:(E={},f={},k={configurable:!1,enumerable:!1,writable:!0,value:void 0},Object.getOwnPropertyNames(Object.prototype).forEach(function(y){f[y]="__proto__"!==y?k:{configurable:!0,enumerable:!1,writable:!0,value:void 0}}),Object.defineProperties(E,f),Object.defineProperty(D,"nullPolyfill",{configurable:!1,enumerable:!1,writable:!1,value:E}),function(y,c){return M(null===y?E:y,c)}):M},96437:function(ae,B,r){"use strict";ae.exports=r(67260)("forEach")},99611:function(ae,B,r){"use strict";var D=r(95296),E={function:!0,object:!0};ae.exports=function(f){return D(f)&&E[typeof f]||!1}},95296:function(ae,B,r){"use strict";var D=r(52345)();ae.exports=function(E){return E!==D&&null!==E}},68700:function(ae,B,r){"use strict";ae.exports=r(13895)()?Object.keys:r(25217)},13895:function(ae){"use strict";ae.exports=function(){try{return Object.keys("primitive"),!0}catch{return!1}}},25217:function(ae,B,r){"use strict";var D=r(95296),E=Object.keys;ae.exports=function(f){return E(D(f)?Object(f):f)}},16906:function(ae,B,r){"use strict";var D=r(78513),E=r(96437),f=Function.prototype.call;ae.exports=function(k,M){var y={},c=arguments[2];return D(M),E(k,function(i,s,a,o){y[s]=f.call(M,c,i,s,a,o)}),y}},21780:function(ae,B,r){"use strict";var D=r(95296),E=Array.prototype.forEach,f=Object.create;ae.exports=function(k){var M=f(null);return E.call(arguments,function(y){D(y)&&function(c,i){var s;for(s in c)i[s]=c[s]}(Object(y),M)}),M}},1496:function(ae,B,r){"use strict";ae.exports=r(33247)()?Object.setPrototypeOf:r(51882)},33247:function(ae){"use strict";var B=Object.create,r=Object.getPrototypeOf,D={};ae.exports=function(){var E=Object.setPrototypeOf;return"function"==typeof E&&r(E((arguments[0]||B)(null),D))===D}},51882:function(ae,B,r){"use strict";var D,E,f,k,M=r(99611),y=r(36672),c=Object.prototype.isPrototypeOf,i=Object.defineProperty,s={configurable:!0,enumerable:!1,writable:!0,value:void 0};D=function(a,o){if(y(a),null===o||M(o))return a;throw new TypeError("Prototype must be null or an object")},ae.exports=(E=function(){var a,o=Object.create(null),l={},u=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__");if(u){try{(a=u.set).call(o,l)}catch{}if(Object.getPrototypeOf(o)===l)return{set:a,level:2}}return o.__proto__=l,Object.getPrototypeOf(o)===l?{level:2}:((o={}).__proto__=l,Object.getPrototypeOf(o)===l&&{level:1})}())?(2===E.level?E.set?(k=E.set,f=function(a,o){return k.call(D(a,o),o),a}):f=function(a,o){return D(a,o).__proto__=o,a}:f=function a(o,l){var u;return D(o,l),(u=c.call(a.nullPolyfill,o))&&delete a.nullPolyfill.__proto__,null===l&&(l=a.nullPolyfill),o.__proto__=l,u&&i(a.nullPolyfill,"__proto__",s),o},Object.defineProperty(f,"level",{configurable:!1,enumerable:!1,writable:!1,value:E.level})):null,r(52818)},78513:function(ae){"use strict";ae.exports=function(B){if("function"!=typeof B)throw new TypeError(B+" is not a function");return B}},98976:function(ae,B,r){"use strict";var D=r(99611);ae.exports=function(E){if(!D(E))throw new TypeError(E+" is not an Object");return E}},36672:function(ae,B,r){"use strict";var D=r(95296);ae.exports=function(E){if(!D(E))throw new TypeError("Cannot use null or undefined");return E}},66741:function(ae,B,r){"use strict";ae.exports=r(17557)()?String.prototype.contains:r(60381)},17557:function(ae){"use strict";var B="razdwatrzy";ae.exports=function(){return"function"==typeof B.contains&&!0===B.contains("dwa")&&!1===B.contains("foo")}},60381:function(ae){"use strict";var B=String.prototype.indexOf;ae.exports=function(r){return B.call(this,r,arguments[1])>-1}},87963:function(ae){"use strict";var B=Object.prototype.toString,r=B.call("");ae.exports=function(D){return"string"==typeof D||D&&"object"==typeof D&&(D instanceof String||B.call(D)===r)||!1}},43043:function(ae){"use strict";var B=Object.create(null),r=Math.random;ae.exports=function(){var D;do{D=r().toString(36).slice(2)}while(B[D]);return D}},32411:function(ae,B,r){"use strict";var D,E=r(1496),f=r(66741),k=r(62072),M=r(8260),y=r(95426),c=Object.defineProperty;D=ae.exports=function(i,s){if(!(this instanceof D))throw new TypeError("Constructor requires 'new'");y.call(this,i),s=s?f.call(s,"key+value")?"key+value":f.call(s,"key")?"key":"value":"value",c(this,"__kind__",k("",s))},E&&E(D,y),delete D.prototype.constructor,D.prototype=Object.create(y.prototype,{_resolve:k(function(i){return"value"===this.__kind__?this.__list__[i]:"key+value"===this.__kind__?[i,this.__list__[i]]:i})}),c(D.prototype,M.toStringTag,k("c","Array Iterator"))},27515:function(ae,B,r){"use strict";var D=r(73051),E=r(78513),f=r(87963),k=r(66661),M=Array.isArray,y=Function.prototype.call,c=Array.prototype.some;ae.exports=function(i,s){var a,o,l,u,h,v,p,T,_=arguments[2];if(M(i)||D(i)?a="array":f(i)?a="string":i=k(i),E(s),l=function(){u=!0},"array"!==a)if("string"!==a)for(o=i.next();!o.done;){if(y.call(s,_,o.value,l),u)return;o=i.next()}else for(v=i.length,h=0;h<v&&(p=i[h],h+1<v&&(T=p.charCodeAt(0))>=55296&&T<=56319&&(p+=i[++h]),y.call(s,_,p,l),!u);++h);else c.call(i,function(m){return y.call(s,_,m,l),u})}},66661:function(ae,B,r){"use strict";var D=r(73051),E=r(87963),f=r(32411),k=r(259),M=r(58095),y=r(8260).iterator;ae.exports=function(c){return"function"==typeof M(c)[y]?c[y]():D(c)?new f(c):E(c)?new k(c):new f(c)}},95426:function(ae,B,r){"use strict";var D,E=r(16134),f=r(95879),k=r(78513),M=r(36672),y=r(62072),c=r(55174),i=r(8260),s=Object.defineProperty,a=Object.defineProperties;ae.exports=D=function(o,l){if(!(this instanceof D))throw new TypeError("Constructor requires 'new'");a(this,{__list__:y("w",M(o)),__context__:y("w",l),__nextIndex__:y("w",0)}),l&&(k(l.on),l.on("_add",this._onAdd),l.on("_delete",this._onDelete),l.on("_clear",this._onClear))},delete D.prototype.constructor,a(D.prototype,f({_next:y(function(){var o;if(this.__list__)return this.__redo__&&void 0!==(o=this.__redo__.shift())?o:this.__nextIndex__<this.__list__.length?this.__nextIndex__++:void this._unBind()}),next:y(function(){return this._createResult(this._next())}),_createResult:y(function(o){return void 0===o?{done:!0,value:void 0}:{done:!1,value:this._resolve(o)}}),_resolve:y(function(o){return this.__list__[o]}),_unBind:y(function(){this.__list__=null,delete this.__redo__,this.__context__&&(this.__context__.off("_add",this._onAdd),this.__context__.off("_delete",this._onDelete),this.__context__.off("_clear",this._onClear),this.__context__=null)}),toString:y(function(){return"[object "+(this[i.toStringTag]||"Object")+"]"})},c({_onAdd:y(function(o){o>=this.__nextIndex__||(++this.__nextIndex__,this.__redo__?(this.__redo__.forEach(function(l,u){l>=o&&(this.__redo__[u]=++l)},this),this.__redo__.push(o)):s(this,"__redo__",y("c",[o])))}),_onDelete:y(function(o){var l;o>=this.__nextIndex__||(--this.__nextIndex__,this.__redo__&&(-1!==(l=this.__redo__.indexOf(o))&&this.__redo__.splice(l,1),this.__redo__.forEach(function(u,h){u>o&&(this.__redo__[h]=--u)},this)))}),_onClear:y(function(){this.__redo__&&E.call(this.__redo__),this.__nextIndex__=0})}))),s(D.prototype,i.iterator,y(function(){return this}))},35940:function(ae,B,r){"use strict";var D=r(73051),E=r(95296),f=r(87963),k=r(8260).iterator,M=Array.isArray;ae.exports=function(y){return!(!E(y)||!M(y)&&!f(y)&&!D(y)&&"function"!=typeof y[k])}},259:function(ae,B,r){"use strict";var D,E=r(1496),f=r(62072),k=r(8260),M=r(95426),y=Object.defineProperty;D=ae.exports=function(c){if(!(this instanceof D))throw new TypeError("Constructor requires 'new'");c=String(c),M.call(this,c),y(this,"__length__",f("",c.length))},E&&E(D,M),delete D.prototype.constructor,D.prototype=Object.create(M.prototype,{_next:f(function(){if(this.__list__)return this.__nextIndex__<this.__length__?this.__nextIndex__++:void this._unBind()}),_resolve:f(function(c){var i,s=this.__list__[c];return this.__nextIndex__===this.__length__?s:(i=s.charCodeAt(0))>=55296&&i<=56319?s+this.__list__[this.__nextIndex__++]:s})}),y(D.prototype,k.toStringTag,f("c","String Iterator"))},58095:function(ae,B,r){"use strict";var D=r(35940);ae.exports=function(E){if(!D(E))throw new TypeError(E+" is not iterable");return E}},73523:function(ae){"use strict";function B(r,D){if(null==r)throw new TypeError("Cannot convert first argument to object");for(var E=Object(r),f=1;f<arguments.length;f++){var k=arguments[f];if(null!=k)for(var M=Object.keys(Object(k)),y=0,c=M.length;y<c;y++){var i=M[y],s=Object.getOwnPropertyDescriptor(k,i);void 0!==s&&s.enumerable&&(E[i]=k[i])}}return E}ae.exports={assign:B,polyfill:function(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:B})}}},8260:function(ae,B,r){"use strict";ae.exports=r(69711)()?r(94908).Symbol:r(18415)},69711:function(ae,B,r){"use strict";var D=r(94908),E={object:!0,symbol:!0};ae.exports=function(){var f,k=D.Symbol;if("function"!=typeof k)return!1;f=k("test symbol");try{String(f)}catch{return!1}return!!E[typeof k.iterator]&&!!E[typeof k.toPrimitive]&&!!E[typeof k.toStringTag]}},82276:function(ae){"use strict";ae.exports=function(B){return!!B&&("symbol"==typeof B||!!B.constructor&&"Symbol"===B.constructor.name&&"Symbol"===B[B.constructor.toStringTag])}},29366:function(ae,B,r){"use strict";var D=r(62072),f=Object.defineProperty,k=Object.prototype,M=(0,Object.create)(null);ae.exports=function(y){for(var c,i,s=0;M[y+(s||"")];)++s;return M[y+=s||""]=!0,f(k,c="@@"+y,D.gs(null,function(a){i||(i=!0,f(this,c,D(a)),i=!1)})),c}},92842:function(ae,B,r){"use strict";var D=r(62072),E=r(94908).Symbol;ae.exports=function(f){return Object.defineProperties(f,{hasInstance:D("",E&&E.hasInstance||f("hasInstance")),isConcatSpreadable:D("",E&&E.isConcatSpreadable||f("isConcatSpreadable")),iterator:D("",E&&E.iterator||f("iterator")),match:D("",E&&E.match||f("match")),replace:D("",E&&E.replace||f("replace")),search:D("",E&&E.search||f("search")),species:D("",E&&E.species||f("species")),split:D("",E&&E.split||f("split")),toPrimitive:D("",E&&E.toPrimitive||f("toPrimitive")),toStringTag:D("",E&&E.toStringTag||f("toStringTag")),unscopables:D("",E&&E.unscopables||f("unscopables"))})}},13304:function(ae,B,r){"use strict";var D=r(62072),E=r(53308),f=Object.create(null);ae.exports=function(k){return Object.defineProperties(k,{for:D(function(M){return f[M]?f[M]:f[M]=k(String(M))}),keyFor:D(function(M){var y;for(y in E(M),f)if(f[y]===M)return y})})}},18415:function(ae,B,r){"use strict";var D,E,f,k=r(62072),M=r(53308),y=r(94908).Symbol,c=r(29366),i=r(92842),s=r(13304),a=Object.create,o=Object.defineProperties,l=Object.defineProperty;if("function"==typeof y)try{String(y()),f=!0}catch{}else y=null;E=function(u){if(this instanceof E)throw new TypeError("Symbol is not a constructor");return D(u)},ae.exports=D=function u(h){var v;if(this instanceof u)throw new TypeError("Symbol is not a constructor");return f?y(h):(v=a(E.prototype),h=void 0===h?"":String(h),o(v,{__description__:k("",h),__name__:k("",c(h))}))},i(D),s(D),o(E.prototype,{constructor:k(D),toString:k("",function(){return this.__name__})}),o(D.prototype,{toString:k(function(){return"Symbol ("+M(this).__description__+")"}),valueOf:k(function(){return M(this)})}),l(D.prototype,D.toPrimitive,k("",function(){var u=M(this);return"symbol"==typeof u?u:u.toString()})),l(D.prototype,D.toStringTag,k("c","Symbol")),l(E.prototype,D.toStringTag,k("c",D.prototype[D.toStringTag])),l(E.prototype,D.toPrimitive,k("c",D.prototype[D.toPrimitive]))},53308:function(ae,B,r){"use strict";var D=r(82276);ae.exports=function(E){if(!D(E))throw new TypeError(E+" is not a symbol");return E}},83522:function(ae,B,r){"use strict";ae.exports=r(96402)()?WeakMap:r(329)},96402:function(ae){"use strict";ae.exports=function(){var B,r;if("function"!=typeof WeakMap)return!1;try{B=new WeakMap([[r={},"one"],[{},"two"],[{},"three"]])}catch{return!1}return"[object WeakMap]"===String(B)&&"function"==typeof B.set&&B.set({},1)===B&&"function"==typeof B.delete&&"function"==typeof B.has&&"one"===B.get(r)}},96416:function(ae){"use strict";ae.exports="function"==typeof WeakMap&&"[object WeakMap]"===Object.prototype.toString.call(new WeakMap)},329:function(ae,B,r){"use strict";var D,E=r(95296),f=r(1496),k=r(98976),M=r(36672),y=r(43043),c=r(62072),i=r(66661),s=r(27515),a=r(8260).toStringTag,o=r(96416),l=Array.isArray,u=Object.defineProperty,h=Object.prototype.hasOwnProperty,v=Object.getPrototypeOf;ae.exports=D=function(){var p,T=arguments[0];if(!(this instanceof D))throw new TypeError("Constructor requires 'new'");return p=o&&f&&WeakMap!==D?f(new WeakMap,v(this)):this,E(T)&&(l(T)||(T=i(T))),u(p,"__weakMapData__",c("c","$weakMap$"+y())),T&&s(T,function(_){M(_),p.set(_[0],_[1])}),p},o&&(f&&f(D,WeakMap),D.prototype=Object.create(WeakMap.prototype,{constructor:c(D)})),Object.defineProperties(D.prototype,{delete:c(function(p){return!!h.call(k(p),this.__weakMapData__)&&(delete p[this.__weakMapData__],!0)}),get:c(function(p){if(h.call(k(p),this.__weakMapData__))return p[this.__weakMapData__]}),has:c(function(p){return h.call(k(p),this.__weakMapData__)}),set:c(function(p,T){return u(k(p),this.__weakMapData__,c("c",T)),this}),toString:c(function(){return"[object WeakMap]"})}),u(D.prototype,a,c("c","WeakMap"))},15398:function(ae){"use strict";var B,r="object"==typeof Reflect?Reflect:null,D=r&&"function"==typeof r.apply?r.apply:function(h,v,p){return Function.prototype.apply.call(h,v,p)};B=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(h){return Object.getOwnPropertyNames(h).concat(Object.getOwnPropertySymbols(h))}:function(h){return Object.getOwnPropertyNames(h)};var E=Number.isNaN||function(h){return h!=h};function f(){f.init.call(this)}ae.exports=f,ae.exports.once=function(h,v){return new Promise(function(p,T){function _(w){h.removeListener(v,m),T(w)}function m(){"function"==typeof h.removeListener&&h.removeListener("error",_),p([].slice.call(arguments))}var w;u(h,v,m,{once:!0}),"error"!==v&&("function"==typeof(w=h).on&&u(w,"error",_,{once:!0}))})},f.EventEmitter=f,f.prototype._events=void 0,f.prototype._eventsCount=0,f.prototype._maxListeners=void 0;var k=10;function M(h){if("function"!=typeof h)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof h)}function y(h){return void 0===h._maxListeners?f.defaultMaxListeners:h._maxListeners}function c(h,v,p,T){var _,m,w;if(M(p),void 0===(m=h._events)?(m=h._events=Object.create(null),h._eventsCount=0):(void 0!==m.newListener&&(h.emit("newListener",v,p.listener?p.listener:p),m=h._events),w=m[v]),void 0===w)w=m[v]=p,++h._eventsCount;else if("function"==typeof w?w=m[v]=T?[p,w]:[w,p]:T?w.unshift(p):w.push(p),(_=y(h))>0&&w.length>_&&!w.warned){w.warned=!0;var b=new Error("Possible EventEmitter memory leak detected. "+w.length+" "+String(v)+" listeners added. Use emitter.setMaxListeners() to increase limit");b.name="MaxListenersExceededWarning",b.emitter=h,b.type=v,b.count=w.length,console&&console.warn&&console.warn(b)}return h}function i(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function s(h,v,p){var T={fired:!1,wrapFn:void 0,target:h,type:v,listener:p},_=i.bind(T);return _.listener=p,T.wrapFn=_,_}function a(h,v,p){var T=h._events;if(void 0===T)return[];var _=T[v];return void 0===_?[]:"function"==typeof _?p?[_.listener||_]:[_]:p?function(m){for(var w=new Array(m.length),x=0;x<w.length;++x)w[x]=m[x].listener||m[x];return w}(_):l(_,_.length)}function o(h){var v=this._events;if(void 0!==v){var p=v[h];if("function"==typeof p)return 1;if(void 0!==p)return p.length}return 0}function l(h,v){for(var p=new Array(v),T=0;T<v;++T)p[T]=h[T];return p}function u(h,v,p,T){if("function"==typeof h.on)T.once?h.once(v,p):h.on(v,p);else{if("function"!=typeof h.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof h);h.addEventListener(v,function _(m){T.once&&h.removeEventListener(v,_),p(m)})}}Object.defineProperty(f,"defaultMaxListeners",{enumerable:!0,get:function(){return k},set:function(h){if("number"!=typeof h||h<0||E(h))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+h+".");k=h}}),f.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},f.prototype.setMaxListeners=function(h){if("number"!=typeof h||h<0||E(h))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+h+".");return this._maxListeners=h,this},f.prototype.getMaxListeners=function(){return y(this)},f.prototype.emit=function(h){for(var v=[],p=1;p<arguments.length;p++)v.push(arguments[p]);var T="error"===h,_=this._events;if(void 0!==_)T=T&&void 0===_.error;else if(!T)return!1;if(T){var m;if(v.length>0&&(m=v[0]),m instanceof Error)throw m;var w=new Error("Unhandled error."+(m?" ("+m.message+")":""));throw w.context=m,w}var x=_[h];if(void 0===x)return!1;if("function"==typeof x)D(x,this,v);else{var b=x.length,A=l(x,b);for(p=0;p<b;++p)D(A[p],this,v)}return!0},f.prototype.on=f.prototype.addListener=function(h,v){return c(this,h,v,!1)},f.prototype.prependListener=function(h,v){return c(this,h,v,!0)},f.prototype.once=function(h,v){return M(v),this.on(h,s(this,h,v)),this},f.prototype.prependOnceListener=function(h,v){return M(v),this.prependListener(h,s(this,h,v)),this},f.prototype.off=f.prototype.removeListener=function(h,v){var p,T,_,m,w;if(M(v),void 0===(T=this._events))return this;if(void 0===(p=T[h]))return this;if(p===v||p.listener===v)0==--this._eventsCount?this._events=Object.create(null):(delete T[h],T.removeListener&&this.emit("removeListener",h,p.listener||v));else if("function"!=typeof p){for(_=-1,m=p.length-1;m>=0;m--)if(p[m]===v||p[m].listener===v){w=p[m].listener,_=m;break}if(_<0)return this;0===_?p.shift():function(x,b){for(;b+1<x.length;b++)x[b]=x[b+1];x.pop()}(p,_),1===p.length&&(T[h]=p[0]),void 0!==T.removeListener&&this.emit("removeListener",h,w||v)}return this},f.prototype.removeAllListeners=function(h){var v,p,T;if(void 0===(p=this._events))return this;if(void 0===p.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==p[h]&&(0==--this._eventsCount?this._events=Object.create(null):delete p[h]),this;if(0===arguments.length){var _,m=Object.keys(p);for(T=0;T<m.length;++T)"removeListener"!==(_=m[T])&&this.removeAllListeners(_);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(v=p[h]))this.removeListener(h,v);else if(void 0!==v)for(T=v.length-1;T>=0;T--)this.removeListener(h,v[T]);return this},f.prototype.listeners=function(h){return a(this,h,!0)},f.prototype.rawListeners=function(h){return a(this,h,!1)},f.listenerCount=function(h,v){return"function"==typeof h.listenerCount?h.listenerCount(v):o.call(h,v)},f.prototype.listenerCount=o,f.prototype.eventNames=function(){return this._eventsCount>0?B(this._events):[]}},60774:function(ae){var B=function(){if("object"==typeof self&&self)return self;if("object"==typeof window&&window)return window;throw new Error("Unable to resolve global `this`")};ae.exports=function(){if(this)return this;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch{return B()}try{return __global__||B()}finally{delete Object.prototype.__global__}}()},94908:function(ae,B,r){"use strict";ae.exports=r(51152)()?globalThis:r(60774)},51152:function(ae){"use strict";ae.exports=function(){return"object"==typeof globalThis&&!!globalThis&&globalThis.Array===Array}},92770:function(ae,B,r){"use strict";var D=r(18546);ae.exports=function(E){var f=typeof E;if("string"===f){var k=E;if(0==(E=+E)&&D(k))return!1}else if("number"!==f)return!1;return E-E<1}},30120:function(ae,B,r){var D=r(90660);ae.exports=function(E,f,k){if(!E)throw new TypeError("must specify data as first parameter");if(k=0|+(k||0),Array.isArray(E)&&E[0]&&"number"==typeof E[0][0]){var M,y,c,i,s=E[0].length,a=E.length*s;f&&"string"!=typeof f||(f=new(D(f||"float32"))(a+k));var o=f.length-k;if(a!==o)throw new Error("source length "+a+" ("+s+"x"+E.length+") does not match destination length "+o);for(M=0,c=k;M<E.length;M++)for(y=0;y<s;y++)f[c++]=null===E[M][y]?NaN:E[M][y]}else if(f&&"string"!=typeof f)f.set(E,k);else{var l=D(f||"float32");if(Array.isArray(E)||"array"===f)for(M=0,c=k,i=(f=new l(E.length+k)).length;c<i;c++,M++)f[c]=null===E[M]?NaN:E[M];else 0===k?f=new l(E):(f=new l(E.length+k)).set(E,k)}return f}},68016:function(ae,B,r){"use strict";var D=r(53313),E=[32,126];ae.exports=function(f){var k=(f=f||{}).shape?f.shape:f.canvas?[f.canvas.width,f.canvas.height]:[512,512],M=f.canvas||document.createElement("canvas"),y=f.font,c="number"==typeof f.step?[f.step,f.step]:f.step||[32,32],i=f.chars||E;if(y&&"string"!=typeof y&&(y=D(y)),Array.isArray(i)){if(2===i.length&&"number"==typeof i[0]&&"number"==typeof i[1]){for(var s=[],a=i[0],o=0;a<=i[1];a++)s[o++]=String.fromCharCode(a);i=s}}else i=String(i).split("");k=k.slice(),M.width=k[0],M.height=k[1];var l=M.getContext("2d");l.fillStyle="#000",l.fillRect(0,0,M.width,M.height),l.font=y,l.textAlign="center",l.textBaseline="middle",l.fillStyle="#fff";var u=c[0]/2,h=c[1]/2;for(a=0;a<i.length;a++)l.fillText(i[a],u,h),(u+=c[0])>k[0]-c[0]/2&&(u=c[0]/2,h+=c[1]);return M}},32879:function(ae){"use strict";function B(f,k){k||(k={}),("string"==typeof f||Array.isArray(f))&&(k.family=f);var M=Array.isArray(k.family)?k.family.join(", "):k.family;if(!M)throw Error("`family` must be defined");var y=k.size||k.fontSize||k.em||48,i=(f=[k.style||k.fontStyle||"",k.weight||k.fontWeight||"",y].join(" ")+"px "+M,k.origin||"top");if(B.cache[M]&&y<=B.cache[M].em)return r(B.cache[M],i);var s=k.canvas||B.canvas,a=s.getContext("2d"),o={upper:void 0!==k.upper?k.upper:"H",lower:void 0!==k.lower?k.lower:"x",descent:void 0!==k.descent?k.descent:"p",ascent:void 0!==k.ascent?k.ascent:"h",tittle:void 0!==k.tittle?k.tittle:"i",overshoot:void 0!==k.overshoot?k.overshoot:"O"},l=Math.ceil(1.5*y);s.height=l,s.width=.5*l,a.font=f;var u="H",h={top:0};a.clearRect(0,0,l,l),a.textBaseline="top",a.fillStyle="black",a.fillText(u,0,0);var v=D(a.getImageData(0,0,l,l));a.clearRect(0,0,l,l),a.textBaseline="bottom",a.fillText(u,0,l);var p=D(a.getImageData(0,0,l,l));h.lineHeight=h.bottom=l-p+v,a.clearRect(0,0,l,l),a.textBaseline="alphabetic",a.fillText(u,0,l);var T=l-D(a.getImageData(0,0,l,l))-1+v;h.baseline=h.alphabetic=T,a.clearRect(0,0,l,l),a.textBaseline="middle",a.fillText(u,0,.5*l);var _=D(a.getImageData(0,0,l,l));h.median=h.middle=l-_-1+v-.5*l,a.clearRect(0,0,l,l),a.textBaseline="hanging",a.fillText(u,0,.5*l);var m=D(a.getImageData(0,0,l,l));h.hanging=l-m-1+v-.5*l,a.clearRect(0,0,l,l),a.textBaseline="ideographic",a.fillText(u,0,l);var w=D(a.getImageData(0,0,l,l));if(h.ideographic=l-w-1+v,o.upper&&(a.clearRect(0,0,l,l),a.textBaseline="top",a.fillText(o.upper,0,0),h.upper=D(a.getImageData(0,0,l,l)),h.capHeight=h.baseline-h.upper),o.lower&&(a.clearRect(0,0,l,l),a.textBaseline="top",a.fillText(o.lower,0,0),h.lower=D(a.getImageData(0,0,l,l)),h.xHeight=h.baseline-h.lower),o.tittle&&(a.clearRect(0,0,l,l),a.textBaseline="top",a.fillText(o.tittle,0,0),h.tittle=D(a.getImageData(0,0,l,l))),o.ascent&&(a.clearRect(0,0,l,l),a.textBaseline="top",a.fillText(o.ascent,0,0),h.ascent=D(a.getImageData(0,0,l,l))),o.descent&&(a.clearRect(0,0,l,l),a.textBaseline="top",a.fillText(o.descent,0,0),h.descent=E(a.getImageData(0,0,l,l))),o.overshoot){a.clearRect(0,0,l,l),a.textBaseline="top",a.fillText(o.overshoot,0,0);var x=E(a.getImageData(0,0,l,l));h.overshoot=x-T}for(var b in h)h[b]/=y;return h.em=y,B.cache[M]=h,r(h,i)}function r(f,k){var M={};for(var y in"string"==typeof k&&(k=f[k]),f)"em"!==y&&(M[y]=f[y]-k);return M}function D(f){for(var k=f.height,M=f.data,y=3;y<M.length;y+=4)if(0!==M[y])return Math.floor(.25*(y-3)/k)}function E(f){for(var k=f.height,M=f.data,y=M.length-1;y>0;y-=4)if(0!==M[y])return Math.floor(.25*(y-3)/k)}ae.exports=B,B.canvas=document.createElement("canvas"),B.cache={}},31353:function(ae,B,r){"use strict";var D=r(85395),E=Object.prototype.toString,f=Object.prototype.hasOwnProperty;ae.exports=function(k,M,y){if(!D(M))throw new TypeError("iterator must be a function");var c;arguments.length>=3&&(c=y),"[object Array]"===E.call(k)?function(i,s,a){for(var o=0,l=i.length;o<l;o++)f.call(i,o)&&(null==a?s(i[o],o,i):s.call(a,i[o],o,i))}(k,M,c):"string"==typeof k?function(i,s,a){for(var o=0,l=i.length;o<l;o++)null==a?s(i.charAt(o),o,i):s.call(a,i.charAt(o),o,i)}(k,M,c):function(i,s,a){for(var o in i)f.call(i,o)&&(null==a?s(i[o],o,i):s.call(a,i[o],o,i))}(k,M,c)}},73047:function(ae){"use strict";var B=Array.prototype.slice,r=Object.prototype.toString;ae.exports=function(D){var E=this;if("function"!=typeof E||"[object Function]"!==r.call(E))throw new TypeError("Function.prototype.bind called on incompatible "+E);for(var f,k=B.call(arguments,1),M=Math.max(0,E.length-k.length),y=[],c=0;c<M;c++)y.push("$"+c);if(f=Function("binder","return function ("+y.join(",")+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof f){var s=E.apply(this,k.concat(B.call(arguments)));return Object(s)===s?s:this}return E.apply(D,k.concat(B.call(arguments)))}),E.prototype){var i=function(){};i.prototype=E.prototype,f.prototype=new i,i.prototype=null}return f}},77575:function(ae,B,r){"use strict";var D=r(73047);ae.exports=Function.prototype.bind||D},86249:function(ae){ae.exports=function(B,r){if("string"!=typeof B)throw new TypeError("must specify type string");if(r=r||{},typeof document>"u"&&!r.canvas)return null;var D=r.canvas||document.createElement("canvas");"number"==typeof r.width&&(D.width=r.width),"number"==typeof r.height&&(D.height=r.height);var E,f=r;try{var k=[B];0===B.indexOf("webgl")&&k.push("experimental-"+B);for(var M=0;M<k.length;M++)if(E=D.getContext(k[M],f))return E}catch{E=null}return E||null}},68318:function(ae,B,r){"use strict";var D,E=SyntaxError,f=Function,k=TypeError,M=function(O){try{return f('"use strict"; return ('+O+").constructor;")()}catch{}},y=Object.getOwnPropertyDescriptor;if(y)try{y({},"")}catch{y=null}var c=function(){throw new k},i=y?function(){try{return c}catch{try{return y(arguments,"callee").get}catch{return c}}}():c,s=r(57877)(),a=Object.getPrototypeOf||function(O){return O.__proto__},o={},l=typeof Uint8Array>"u"?D:a(Uint8Array),u={"%AggregateError%":typeof AggregateError>"u"?D:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?D:ArrayBuffer,"%ArrayIteratorPrototype%":s?a([][Symbol.iterator]()):D,"%AsyncFromSyncIteratorPrototype%":D,"%AsyncFunction%":o,"%AsyncGenerator%":o,"%AsyncGeneratorFunction%":o,"%AsyncIteratorPrototype%":o,"%Atomics%":typeof Atomics>"u"?D:Atomics,"%BigInt%":typeof BigInt>"u"?D:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?D:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?D:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?D:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?D:Float32Array,"%Float64Array%":typeof Float64Array>"u"?D:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?D:FinalizationRegistry,"%Function%":f,"%GeneratorFunction%":o,"%Int8Array%":typeof Int8Array>"u"?D:Int8Array,"%Int16Array%":typeof Int16Array>"u"?D:Int16Array,"%Int32Array%":typeof Int32Array>"u"?D:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":s?a(a([][Symbol.iterator]())):D,"%JSON%":"object"==typeof JSON?JSON:D,"%Map%":typeof Map>"u"?D:Map,"%MapIteratorPrototype%":typeof Map<"u"&&s?a((new Map)[Symbol.iterator]()):D,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?D:Promise,"%Proxy%":typeof Proxy>"u"?D:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?D:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?D:Set,"%SetIteratorPrototype%":typeof Set<"u"&&s?a((new Set)[Symbol.iterator]()):D,"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?D:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":s?a(""[Symbol.iterator]()):D,"%Symbol%":s?Symbol:D,"%SyntaxError%":E,"%ThrowTypeError%":i,"%TypedArray%":l,"%TypeError%":k,"%Uint8Array%":typeof Uint8Array>"u"?D:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?D:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?D:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?D:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?D:WeakMap,"%WeakRef%":typeof WeakRef>"u"?D:WeakRef,"%WeakSet%":typeof WeakSet>"u"?D:WeakSet};try{null.error}catch(O){var h=a(a(O));u["%Error.prototype%"]=h}var v=function O(R){var L;if("%AsyncFunction%"===R)L=M("async function () {}");else if("%GeneratorFunction%"===R)L=M("function* () {}");else if("%AsyncGeneratorFunction%"===R)L=M("async function* () {}");else if("%AsyncGenerator%"===R){var N=O("%AsyncGeneratorFunction%");N&&(L=N.prototype)}else if("%AsyncIteratorPrototype%"===R){var j=O("%AsyncGenerator%");j&&(L=a(j.prototype))}return u[R]=L,L},p={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},T=r(77575),_=r(35065),m=T.call(Function.call,Array.prototype.concat),w=T.call(Function.apply,Array.prototype.splice),x=T.call(Function.call,String.prototype.replace),b=T.call(Function.call,String.prototype.slice),A=T.call(Function.call,RegExp.prototype.exec),g=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,I=/\\(\\)?/g,S=function(O,R){var L,N=O;if(_(p,N)&&(N="%"+(L=p[N])[0]+"%"),_(u,N)){var j=u[N];if(j===o&&(j=v(N)),void 0===j&&!R)throw new k("intrinsic "+O+" exists, but is not available. Please file an issue!");return{alias:L,name:N,value:j}}throw new E("intrinsic "+O+" does not exist!")};ae.exports=function(O,R){if("string"!=typeof O||0===O.length)throw new k("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof R)throw new k('"allowMissing" argument must be a boolean');if(null===A(/^%?[^%]*%?$/,O))throw new E("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var L=function(Q){var ee=b(Q,0,1),oe=b(Q,-1);if("%"===ee&&"%"!==oe)throw new E("invalid intrinsic syntax, expected closing `%`");if("%"===oe&&"%"!==ee)throw new E("invalid intrinsic syntax, expected opening `%`");var ce=[];return x(Q,g,function(fe,le,pe,Me){ce[ce.length]=pe?x(Me,I,"$1"):le||fe}),ce}(O),N=L.length>0?L[0]:"",j=S("%"+N+"%",R),X=j.name,F=j.value,Y=!1,G=j.alias;G&&(N=G[0],w(L,m([0,1],G)));for(var H=1,W=!0;H<L.length;H+=1){var Z=L[H],se=b(Z,0,1),re=b(Z,-1);if(('"'===se||"'"===se||"`"===se||'"'===re||"'"===re||"`"===re)&&se!==re)throw new E("property names with quotes must have matching quotes");if("constructor"!==Z&&W||(Y=!0),_(u,X="%"+(N+="."+Z)+"%"))F=u[X];else if(null!=F){if(!(Z in F)){if(!R)throw new k("base intrinsic for "+O+" exists, but the property is not available.");return}if(y&&H+1>=L.length){var ne=y(F,Z);F=(W=!!ne)&&"get"in ne&&!("originalValue"in ne.get)?ne.get:F[Z]}else W=_(F,Z),F=F[Z];W&&!Y&&(u[X]=F)}}return F}},85400:function(ae){ae.exports=function(B,r){var D=r[0],E=r[1],f=r[2],k=r[3],M=r[4],y=r[5],c=r[6],i=r[7],s=r[8],a=r[9],o=r[10],l=r[11],u=r[12],h=r[13],v=r[14],p=r[15];return B[0]=y*(o*p-l*v)-a*(c*p-i*v)+h*(c*l-i*o),B[1]=-(E*(o*p-l*v)-a*(f*p-k*v)+h*(f*l-k*o)),B[2]=E*(c*p-i*v)-y*(f*p-k*v)+h*(f*i-k*c),B[3]=-(E*(c*l-i*o)-y*(f*l-k*o)+a*(f*i-k*c)),B[4]=-(M*(o*p-l*v)-s*(c*p-i*v)+u*(c*l-i*o)),B[5]=D*(o*p-l*v)-s*(f*p-k*v)+u*(f*l-k*o),B[6]=-(D*(c*p-i*v)-M*(f*p-k*v)+u*(f*i-k*c)),B[7]=D*(c*l-i*o)-M*(f*l-k*o)+s*(f*i-k*c),B[8]=M*(a*p-l*h)-s*(y*p-i*h)+u*(y*l-i*a),B[9]=-(D*(a*p-l*h)-s*(E*p-k*h)+u*(E*l-k*a)),B[10]=D*(y*p-i*h)-M*(E*p-k*h)+u*(E*i-k*y),B[11]=-(D*(y*l-i*a)-M*(E*l-k*a)+s*(E*i-k*y)),B[12]=-(M*(a*v-o*h)-s*(y*v-c*h)+u*(y*o-c*a)),B[13]=D*(a*v-o*h)-s*(E*v-f*h)+u*(E*o-f*a),B[14]=-(D*(y*v-c*h)-M*(E*v-f*h)+u*(E*c-f*y)),B[15]=D*(y*o-c*a)-M*(E*o-f*a)+s*(E*c-f*y),B}},42331:function(ae){ae.exports=function(B){var r=new Float32Array(16);return r[0]=B[0],r[1]=B[1],r[2]=B[2],r[3]=B[3],r[4]=B[4],r[5]=B[5],r[6]=B[6],r[7]=B[7],r[8]=B[8],r[9]=B[9],r[10]=B[10],r[11]=B[11],r[12]=B[12],r[13]=B[13],r[14]=B[14],r[15]=B[15],r}},31042:function(ae){ae.exports=function(B,r){return B[0]=r[0],B[1]=r[1],B[2]=r[2],B[3]=r[3],B[4]=r[4],B[5]=r[5],B[6]=r[6],B[7]=r[7],B[8]=r[8],B[9]=r[9],B[10]=r[10],B[11]=r[11],B[12]=r[12],B[13]=r[13],B[14]=r[14],B[15]=r[15],B}},11902:function(ae){ae.exports=function(){var B=new Float32Array(16);return B[0]=1,B[1]=0,B[2]=0,B[3]=0,B[4]=0,B[5]=1,B[6]=0,B[7]=0,B[8]=0,B[9]=0,B[10]=1,B[11]=0,B[12]=0,B[13]=0,B[14]=0,B[15]=1,B}},89887:function(ae){ae.exports=function(B){var r=B[0],D=B[1],E=B[2],f=B[3],k=B[4],M=B[5],y=B[6],c=B[7],i=B[8],s=B[9],a=B[10],o=B[11],l=B[12],u=B[13],h=B[14],v=B[15];return(r*M-D*k)*(a*v-o*h)-(r*y-E*k)*(s*v-o*u)+(r*c-f*k)*(s*h-a*u)+(D*y-E*M)*(i*v-o*l)-(D*c-f*M)*(i*h-a*l)+(E*c-f*y)*(i*u-s*l)}},27812:function(ae){ae.exports=function(B,r){var D=r[0],E=r[1],f=r[2],k=r[3],M=D+D,y=E+E,c=f+f,i=D*M,s=E*M,a=E*y,o=f*M,l=f*y,u=f*c,h=k*M,v=k*y,p=k*c;return B[0]=1-a-u,B[1]=s+p,B[2]=o-v,B[3]=0,B[4]=s-p,B[5]=1-i-u,B[6]=l+h,B[7]=0,B[8]=o+v,B[9]=l-h,B[10]=1-i-a,B[11]=0,B[12]=0,B[13]=0,B[14]=0,B[15]=1,B}},34045:function(ae){ae.exports=function(B,r,D){var E,f,k,M=D[0],y=D[1],c=D[2],i=Math.sqrt(M*M+y*y+c*c);return Math.abs(i)<1e-6?null:(M*=i=1/i,y*=i,c*=i,E=Math.sin(r),k=1-(f=Math.cos(r)),B[0]=M*M*k+f,B[1]=y*M*k+c*E,B[2]=c*M*k-y*E,B[3]=0,B[4]=M*y*k-c*E,B[5]=y*y*k+f,B[6]=c*y*k+M*E,B[7]=0,B[8]=M*c*k+y*E,B[9]=y*c*k-M*E,B[10]=c*c*k+f,B[11]=0,B[12]=0,B[13]=0,B[14]=0,B[15]=1,B)}},45973:function(ae){ae.exports=function(B,r,D){var E=r[0],f=r[1],k=r[2],M=r[3],y=E+E,c=f+f,i=k+k,s=E*y,a=E*c,o=E*i,l=f*c,u=f*i,h=k*i,v=M*y,p=M*c,T=M*i;return B[0]=1-(l+h),B[1]=a+T,B[2]=o-p,B[3]=0,B[4]=a-T,B[5]=1-(s+h),B[6]=u+v,B[7]=0,B[8]=o+p,B[9]=u-v,B[10]=1-(s+l),B[11]=0,B[12]=D[0],B[13]=D[1],B[14]=D[2],B[15]=1,B}},81472:function(ae){ae.exports=function(B,r){return B[0]=r[0],B[1]=0,B[2]=0,B[3]=0,B[4]=0,B[5]=r[1],B[6]=0,B[7]=0,B[8]=0,B[9]=0,B[10]=r[2],B[11]=0,B[12]=0,B[13]=0,B[14]=0,B[15]=1,B}},14669:function(ae){ae.exports=function(B,r){return B[0]=1,B[1]=0,B[2]=0,B[3]=0,B[4]=0,B[5]=1,B[6]=0,B[7]=0,B[8]=0,B[9]=0,B[10]=1,B[11]=0,B[12]=r[0],B[13]=r[1],B[14]=r[2],B[15]=1,B}},75262:function(ae){ae.exports=function(B,r){var D=Math.sin(r),E=Math.cos(r);return B[0]=1,B[1]=0,B[2]=0,B[3]=0,B[4]=0,B[5]=E,B[6]=D,B[7]=0,B[8]=0,B[9]=-D,B[10]=E,B[11]=0,B[12]=0,B[13]=0,B[14]=0,B[15]=1,B}},331:function(ae){ae.exports=function(B,r){var D=Math.sin(r),E=Math.cos(r);return B[0]=E,B[1]=0,B[2]=-D,B[3]=0,B[4]=0,B[5]=1,B[6]=0,B[7]=0,B[8]=D,B[9]=0,B[10]=E,B[11]=0,B[12]=0,B[13]=0,B[14]=0,B[15]=1,B}},11049:function(ae){ae.exports=function(B,r){var D=Math.sin(r),E=Math.cos(r);return B[0]=E,B[1]=D,B[2]=0,B[3]=0,B[4]=-D,B[5]=E,B[6]=0,B[7]=0,B[8]=0,B[9]=0,B[10]=1,B[11]=0,B[12]=0,B[13]=0,B[14]=0,B[15]=1,B}},75195:function(ae){ae.exports=function(B,r,D,E,f,k,M){var y=1/(D-r),c=1/(f-E),i=1/(k-M);return B[0]=2*k*y,B[1]=0,B[2]=0,B[3]=0,B[4]=0,B[5]=2*k*c,B[6]=0,B[7]=0,B[8]=(D+r)*y,B[9]=(f+E)*c,B[10]=(M+k)*i,B[11]=-1,B[12]=0,B[13]=0,B[14]=M*k*2*i,B[15]=0,B}},71551:function(ae){ae.exports=function(B){return B[0]=1,B[1]=0,B[2]=0,B[3]=0,B[4]=0,B[5]=1,B[6]=0,B[7]=0,B[8]=0,B[9]=0,B[10]=1,B[11]=0,B[12]=0,B[13]=0,B[14]=0,B[15]=1,B}},79576:function(ae,B,r){ae.exports={create:r(11902),clone:r(42331),copy:r(31042),identity:r(71551),transpose:r(88654),invert:r(95874),adjoint:r(85400),determinant:r(89887),multiply:r(91362),translate:r(31283),scale:r(10789),rotate:r(65074),rotateX:r(35545),rotateY:r(94918),rotateZ:r(15692),fromRotation:r(34045),fromRotationTranslation:r(45973),fromScaling:r(81472),fromTranslation:r(14669),fromXRotation:r(75262),fromYRotation:r(331),fromZRotation:r(11049),fromQuat:r(27812),frustum:r(75195),perspective:r(7864),perspectiveFromFieldOfView:r(35279),ortho:r(60378),lookAt:r(65551),str:r(6726)}},95874:function(ae){ae.exports=function(B,r){var D=r[0],E=r[1],f=r[2],k=r[3],M=r[4],y=r[5],c=r[6],i=r[7],s=r[8],a=r[9],o=r[10],l=r[11],u=r[12],h=r[13],v=r[14],p=r[15],T=D*y-E*M,_=D*c-f*M,m=D*i-k*M,w=E*c-f*y,x=E*i-k*y,b=f*i-k*c,A=s*h-a*u,g=s*v-o*u,I=s*p-l*u,S=a*v-o*h,O=a*p-l*h,R=o*p-l*v,L=T*R-_*O+m*S+w*I-x*g+b*A;return L?(B[0]=(y*R-c*O+i*S)*(L=1/L),B[1]=(f*O-E*R-k*S)*L,B[2]=(h*b-v*x+p*w)*L,B[3]=(o*x-a*b-l*w)*L,B[4]=(c*I-M*R-i*g)*L,B[5]=(D*R-f*I+k*g)*L,B[6]=(v*m-u*b-p*_)*L,B[7]=(s*b-o*m+l*_)*L,B[8]=(M*O-y*I+i*A)*L,B[9]=(E*I-D*O-k*A)*L,B[10]=(u*x-h*m+p*T)*L,B[11]=(a*m-s*x-l*T)*L,B[12]=(y*g-M*S-c*A)*L,B[13]=(D*S-E*g+f*A)*L,B[14]=(h*_-u*w-v*T)*L,B[15]=(s*w-a*_+o*T)*L,B):null}},65551:function(ae,B,r){var D=r(71551);ae.exports=function(E,f,k,M){var y,c,i,s,a,o,l,u,h,v,p=f[0],T=f[1],_=f[2],m=M[0],w=M[1],x=M[2],b=k[0],A=k[1],g=k[2];return Math.abs(p-b)<1e-6&&Math.abs(T-A)<1e-6&&Math.abs(_-g)<1e-6?D(E):(l=p-b,u=T-A,h=_-g,y=w*(h*=v=1/Math.sqrt(l*l+u*u+h*h))-x*(u*=v),c=x*(l*=v)-m*h,i=m*u-w*l,(v=Math.sqrt(y*y+c*c+i*i))?(y*=v=1/v,c*=v,i*=v):(y=0,c=0,i=0),s=u*i-h*c,a=h*y-l*i,o=l*c-u*y,(v=Math.sqrt(s*s+a*a+o*o))?(s*=v=1/v,a*=v,o*=v):(s=0,a=0,o=0),E[0]=y,E[1]=s,E[2]=l,E[3]=0,E[4]=c,E[5]=a,E[6]=u,E[7]=0,E[8]=i,E[9]=o,E[10]=h,E[11]=0,E[12]=-(y*p+c*T+i*_),E[13]=-(s*p+a*T+o*_),E[14]=-(l*p+u*T+h*_),E[15]=1,E)}},91362:function(ae){ae.exports=function(B,r,D){var E=r[0],f=r[1],k=r[2],M=r[3],y=r[4],c=r[5],i=r[6],s=r[7],a=r[8],o=r[9],l=r[10],u=r[11],h=r[12],v=r[13],p=r[14],T=r[15],_=D[0],m=D[1],w=D[2],x=D[3];return B[0]=_*E+m*y+w*a+x*h,B[1]=_*f+m*c+w*o+x*v,B[2]=_*k+m*i+w*l+x*p,B[3]=_*M+m*s+w*u+x*T,B[4]=(_=D[4])*E+(m=D[5])*y+(w=D[6])*a+(x=D[7])*h,B[5]=_*f+m*c+w*o+x*v,B[6]=_*k+m*i+w*l+x*p,B[7]=_*M+m*s+w*u+x*T,B[8]=(_=D[8])*E+(m=D[9])*y+(w=D[10])*a+(x=D[11])*h,B[9]=_*f+m*c+w*o+x*v,B[10]=_*k+m*i+w*l+x*p,B[11]=_*M+m*s+w*u+x*T,B[12]=(_=D[12])*E+(m=D[13])*y+(w=D[14])*a+(x=D[15])*h,B[13]=_*f+m*c+w*o+x*v,B[14]=_*k+m*i+w*l+x*p,B[15]=_*M+m*s+w*u+x*T,B}},60378:function(ae){ae.exports=function(B,r,D,E,f,k,M){var y=1/(r-D),c=1/(E-f),i=1/(k-M);return B[0]=-2*y,B[1]=0,B[2]=0,B[3]=0,B[4]=0,B[5]=-2*c,B[6]=0,B[7]=0,B[8]=0,B[9]=0,B[10]=2*i,B[11]=0,B[12]=(r+D)*y,B[13]=(f+E)*c,B[14]=(M+k)*i,B[15]=1,B}},7864:function(ae){ae.exports=function(B,r,D,E,f){var k=1/Math.tan(r/2),M=1/(E-f);return B[0]=k/D,B[1]=0,B[2]=0,B[3]=0,B[4]=0,B[5]=k,B[6]=0,B[7]=0,B[8]=0,B[9]=0,B[10]=(f+E)*M,B[11]=-1,B[12]=0,B[13]=0,B[14]=2*f*E*M,B[15]=0,B}},35279:function(ae){ae.exports=function(B,r,D,E){var f=Math.tan(r.upDegrees*Math.PI/180),k=Math.tan(r.downDegrees*Math.PI/180),M=Math.tan(r.leftDegrees*Math.PI/180),y=Math.tan(r.rightDegrees*Math.PI/180),c=2/(M+y),i=2/(f+k);return B[0]=c,B[1]=0,B[2]=0,B[3]=0,B[4]=0,B[5]=i,B[6]=0,B[7]=0,B[8]=-(M-y)*c*.5,B[9]=(f-k)*i*.5,B[10]=E/(D-E),B[11]=-1,B[12]=0,B[13]=0,B[14]=E*D/(D-E),B[15]=0,B}},65074:function(ae){ae.exports=function(B,r,D,E){var f,k,M,y,c,i,s,a,o,l,u,h,v,p,T,_,m,w,x,b,A,g,I,S,O=E[0],R=E[1],L=E[2],N=Math.sqrt(O*O+R*R+L*L);return Math.abs(N)<1e-6?null:(O*=N=1/N,R*=N,L*=N,f=Math.sin(D),M=1-(k=Math.cos(D)),c=r[1],i=r[2],s=r[3],o=r[5],l=r[6],u=r[7],v=r[9],p=r[10],T=r[11],x=O*R*M-L*f,b=R*R*M+k,A=L*R*M+O*f,g=O*L*M+R*f,I=R*L*M-O*f,S=L*L*M+k,B[0]=(y=r[0])*(_=O*O*M+k)+(a=r[4])*(m=R*O*M+L*f)+(h=r[8])*(w=L*O*M-R*f),B[1]=c*_+o*m+v*w,B[2]=i*_+l*m+p*w,B[3]=s*_+u*m+T*w,B[4]=y*x+a*b+h*A,B[5]=c*x+o*b+v*A,B[6]=i*x+l*b+p*A,B[7]=s*x+u*b+T*A,B[8]=y*g+a*I+h*S,B[9]=c*g+o*I+v*S,B[10]=i*g+l*I+p*S,B[11]=s*g+u*I+T*S,r!==B&&(B[12]=r[12],B[13]=r[13],B[14]=r[14],B[15]=r[15]),B)}},35545:function(ae){ae.exports=function(B,r,D){var E=Math.sin(D),f=Math.cos(D),k=r[4],M=r[5],y=r[6],c=r[7],i=r[8],s=r[9],a=r[10],o=r[11];return r!==B&&(B[0]=r[0],B[1]=r[1],B[2]=r[2],B[3]=r[3],B[12]=r[12],B[13]=r[13],B[14]=r[14],B[15]=r[15]),B[4]=k*f+i*E,B[5]=M*f+s*E,B[6]=y*f+a*E,B[7]=c*f+o*E,B[8]=i*f-k*E,B[9]=s*f-M*E,B[10]=a*f-y*E,B[11]=o*f-c*E,B}},94918:function(ae){ae.exports=function(B,r,D){var E=Math.sin(D),f=Math.cos(D),k=r[0],M=r[1],y=r[2],c=r[3],i=r[8],s=r[9],a=r[10],o=r[11];return r!==B&&(B[4]=r[4],B[5]=r[5],B[6]=r[6],B[7]=r[7],B[12]=r[12],B[13]=r[13],B[14]=r[14],B[15]=r[15]),B[0]=k*f-i*E,B[1]=M*f-s*E,B[2]=y*f-a*E,B[3]=c*f-o*E,B[8]=k*E+i*f,B[9]=M*E+s*f,B[10]=y*E+a*f,B[11]=c*E+o*f,B}},15692:function(ae){ae.exports=function(B,r,D){var E=Math.sin(D),f=Math.cos(D),k=r[0],M=r[1],y=r[2],c=r[3],i=r[4],s=r[5],a=r[6],o=r[7];return r!==B&&(B[8]=r[8],B[9]=r[9],B[10]=r[10],B[11]=r[11],B[12]=r[12],B[13]=r[13],B[14]=r[14],B[15]=r[15]),B[0]=k*f+i*E,B[1]=M*f+s*E,B[2]=y*f+a*E,B[3]=c*f+o*E,B[4]=i*f-k*E,B[5]=s*f-M*E,B[6]=a*f-y*E,B[7]=o*f-c*E,B}},10789:function(ae){ae.exports=function(B,r,D){var E=D[0],f=D[1],k=D[2];return B[0]=r[0]*E,B[1]=r[1]*E,B[2]=r[2]*E,B[3]=r[3]*E,B[4]=r[4]*f,B[5]=r[5]*f,B[6]=r[6]*f,B[7]=r[7]*f,B[8]=r[8]*k,B[9]=r[9]*k,B[10]=r[10]*k,B[11]=r[11]*k,B[12]=r[12],B[13]=r[13],B[14]=r[14],B[15]=r[15],B}},6726:function(ae){ae.exports=function(B){return"mat4("+B[0]+", "+B[1]+", "+B[2]+", "+B[3]+", "+B[4]+", "+B[5]+", "+B[6]+", "+B[7]+", "+B[8]+", "+B[9]+", "+B[10]+", "+B[11]+", "+B[12]+", "+B[13]+", "+B[14]+", "+B[15]+")"}},31283:function(ae){ae.exports=function(B,r,D){var E,f,k,M,y,c,i,s,a,o,l,u,h=D[0],v=D[1],p=D[2];return r===B?(B[12]=r[0]*h+r[4]*v+r[8]*p+r[12],B[13]=r[1]*h+r[5]*v+r[9]*p+r[13],B[14]=r[2]*h+r[6]*v+r[10]*p+r[14],B[15]=r[3]*h+r[7]*v+r[11]*p+r[15]):(f=r[1],k=r[2],M=r[3],y=r[4],c=r[5],i=r[6],s=r[7],a=r[8],o=r[9],l=r[10],u=r[11],B[0]=E=r[0],B[1]=f,B[2]=k,B[3]=M,B[4]=y,B[5]=c,B[6]=i,B[7]=s,B[8]=a,B[9]=o,B[10]=l,B[11]=u,B[12]=E*h+y*v+a*p+r[12],B[13]=f*h+c*v+o*p+r[13],B[14]=k*h+i*v+l*p+r[14],B[15]=M*h+s*v+u*p+r[15]),B}},88654:function(ae){ae.exports=function(B,r){if(B===r){var D=r[1],E=r[2],f=r[3],k=r[6],M=r[7],y=r[11];B[1]=r[4],B[2]=r[8],B[3]=r[12],B[4]=D,B[6]=r[9],B[7]=r[13],B[8]=E,B[9]=k,B[11]=r[14],B[12]=f,B[13]=M,B[14]=y}else B[0]=r[0],B[1]=r[4],B[2]=r[8],B[3]=r[12],B[4]=r[1],B[5]=r[5],B[6]=r[9],B[7]=r[13],B[8]=r[2],B[9]=r[6],B[10]=r[10],B[11]=r[14],B[12]=r[3],B[13]=r[7],B[14]=r[11],B[15]=r[15];return B}},42505:function(ae,B,r){"use strict";var D=r(72791),E=r(71299),f=r(98580),k=r(12018),M=r(83522),y=r(25075),c=r(68016),i=r(58404),s=r(18863),a=r(10973),o=r(25677),l=r(75686),u=r(53545),h=r(56131),v=r(32879),p=r(30120),T=r(13547).nextPow2,_=new M,m=!1;if(document.body){var w=document.body.appendChild(document.createElement("div"));w.style.font="italic small-caps bold condensed 16px/2 cursive",getComputedStyle(w).fontStretch&&(m=!0),document.body.removeChild(w)}var x=function(b){var A;this.gl="function"==typeof(A=b)&&A._gl&&A.prop&&A.texture&&A.buffer?(b={regl:b}).regl._gl:k(b),this.shader=_.get(this.gl),this.regl=this.shader?this.shader.regl:b.regl||f({gl:this.gl}),this.charBuffer=this.regl.buffer({type:"uint8",usage:"stream"}),this.sizeBuffer=this.regl.buffer({type:"float",usage:"stream"}),this.shader||(this.shader=this.createShader(),_.set(this.gl,this.shader)),this.batch=[],this.fontSize=[],this.font=[],this.fontAtlas=[],this.draw=this.shader.draw.bind(this),this.render=function(){this.regl._refresh(),this.draw(this.batch)},this.canvas=this.gl.canvas,this.update(a(b)?b:{})};x.prototype.createShader=function(){var b=this.regl,A=b({blend:{enable:!0,color:[0,0,0,1],func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},stencil:{enable:!1},depth:{enable:!1},count:b.prop("count"),offset:b.prop("offset"),attributes:{charOffset:{offset:4,stride:8,buffer:b.this("sizeBuffer")},width:{offset:0,stride:8,buffer:b.this("sizeBuffer")},char:b.this("charBuffer"),position:b.this("position")},uniforms:{atlasSize:function(g,I){return[I.atlas.width,I.atlas.height]},atlasDim:function(g,I){return[I.atlas.cols,I.atlas.rows]},atlas:function(g,I){return I.atlas.texture},charStep:function(g,I){return I.atlas.step},em:function(g,I){return I.atlas.em},color:b.prop("color"),opacity:b.prop("opacity"),viewport:b.this("viewportArray"),scale:b.this("scale"),align:b.prop("align"),baseline:b.prop("baseline"),translate:b.this("translate"),positionOffset:b.prop("positionOffset")},primitive:"points",viewport:b.this("viewport"),vert:"\n\t\t\tprecision highp float;\n\t\t\tattribute float width, charOffset, char;\n\t\t\tattribute vec2 position;\n\t\t\tuniform float fontSize, charStep, em, align, baseline;\n\t\t\tuniform vec4 viewport;\n\t\t\tuniform vec4 color;\n\t\t\tuniform vec2 atlasSize, atlasDim, scale, translate, positionOffset;\n\t\t\tvarying vec2 charCoord, charId;\n\t\t\tvarying float charWidth;\n\t\t\tvarying vec4 fontColor;\n\t\t\tvoid main () {\n\t\t\t\tvec2 offset = floor(em * (vec2(align + charOffset, baseline)\n\t\t\t\t\t+ vec2(positionOffset.x, -positionOffset.y)))\n\t\t\t\t\t/ (viewport.zw * scale.xy);\n\n\t\t\t\tvec2 position = (position + translate) * scale;\n\t\t\t\tposition += offset * scale;\n\n\t\t\t\tcharCoord = position * viewport.zw + viewport.xy;\n\n\t\t\t\tgl_Position = vec4(position * 2. - 1., 0, 1);\n\n\t\t\t\tgl_PointSize = charStep;\n\n\t\t\t\tcharId.x = mod(char, atlasDim.x);\n\t\t\t\tcharId.y = floor(char / atlasDim.x);\n\n\t\t\t\tcharWidth = width * em;\n\n\t\t\t\tfontColor = color / 255.;\n\t\t\t}",frag:"\n\t\t\tprecision highp float;\n\t\t\tuniform float fontSize, charStep, opacity;\n\t\t\tuniform vec2 atlasSize;\n\t\t\tuniform vec4 viewport;\n\t\t\tuniform sampler2D atlas;\n\t\t\tvarying vec4 fontColor;\n\t\t\tvarying vec2 charCoord, charId;\n\t\t\tvarying float charWidth;\n\n\t\t\tfloat lightness(vec4 color) {\n\t\t\t\treturn color.r * 0.299 + color.g * 0.587 + color.b * 0.114;\n\t\t\t}\n\n\t\t\tvoid main () {\n\t\t\t\tvec2 uv = gl_FragCoord.xy - charCoord + charStep * .5;\n\t\t\t\tfloat halfCharStep = floor(charStep * .5 + .5);\n\n\t\t\t\t// invert y and shift by 1px (FF expecially needs that)\n\t\t\t\tuv.y = charStep - uv.y;\n\n\t\t\t\t// ignore points outside of character bounding box\n\t\t\t\tfloat halfCharWidth = ceil(charWidth * .5);\n\t\t\t\tif (floor(uv.x) > halfCharStep + halfCharWidth ||\n\t\t\t\t\tfloor(uv.x) < halfCharStep - halfCharWidth) return;\n\n\t\t\t\tuv += charId * charStep;\n\t\t\t\tuv = uv / atlasSize;\n\n\t\t\t\tvec4 color = fontColor;\n\t\t\t\tvec4 mask = texture2D(atlas, uv);\n\n\t\t\t\tfloat maskY = lightness(mask);\n\t\t\t\t// float colorY = lightness(color);\n\t\t\t\tcolor.a *= maskY;\n\t\t\t\tcolor.a *= opacity;\n\n\t\t\t\t// color.a += .1;\n\n\t\t\t\t// antialiasing, see yiq color space y-channel formula\n\t\t\t\t// color.rgb += (1. - color.rgb) * (1. - mask.rgb);\n\n\t\t\t\tgl_FragColor = color;\n\t\t\t}"});return{regl:b,draw:A,atlas:{}}},x.prototype.update=function(b){var A=this;if("string"==typeof b)b={text:b};else if(!b)return;null!=(b=E(b,{position:"position positions coord coords coordinates",font:"font fontFace fontface typeface cssFont css-font family fontFamily",fontSize:"fontSize fontsize size font-size",text:"text texts chars characters value values symbols",align:"align alignment textAlign textbaseline",baseline:"baseline textBaseline textbaseline",direction:"dir direction textDirection",color:"color colour fill fill-color fillColor textColor textcolor",kerning:"kerning kern",range:"range dataBox",viewport:"vp viewport viewBox viewbox viewPort",opacity:"opacity alpha transparency visible visibility opaque",offset:"offset positionOffset padding shift indent indentation"},!0)).opacity&&(this.opacity=Array.isArray(b.opacity)?b.opacity.map(function(_e){return parseFloat(_e)}):parseFloat(b.opacity)),null!=b.viewport&&(this.viewport=s(b.viewport),this.viewportArray=[this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height]),null==this.viewport&&(this.viewport={x:0,y:0,width:this.gl.drawingBufferWidth,height:this.gl.drawingBufferHeight},this.viewportArray=[this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height]),null!=b.kerning&&(this.kerning=b.kerning),null!=b.offset&&("number"==typeof b.offset&&(b.offset=[b.offset,0]),this.positionOffset=p(b.offset)),b.direction&&(this.direction=b.direction),b.range&&(this.range=b.range,this.scale=[1/(b.range[2]-b.range[0]),1/(b.range[3]-b.range[1])],this.translate=[-b.range[0],-b.range[1]]),b.scale&&(this.scale=b.scale),b.translate&&(this.translate=b.translate),this.scale||(this.scale=[1/this.viewport.width,1/this.viewport.height]),this.translate||(this.translate=[0,0]),this.font.length||b.font||(b.font=x.baseFontSize+"px sans-serif");var g,I=!1,S=!1;if(b.font&&(Array.isArray(b.font)?b.font:[b.font]).forEach(function(_e,Le){if("string"==typeof _e)try{_e=D.parse(_e)}catch{_e=D.parse(x.baseFontSize+"px "+_e)}else _e=D.parse(D.stringify(_e));var Ie=D.stringify({size:x.baseFontSize,family:_e.family,stretch:m?_e.stretch:void 0,variant:_e.variant,weight:_e.weight,style:_e.style}),De=o(_e.size),je=Math.round(De[0]*l(De[1]));if(je!==A.fontSize[Le]&&(S=!0,A.fontSize[Le]=je),!(A.font[Le]&&Ie==A.font[Le].baseString||(I=!0,A.font[Le]=x.fonts[Ie],A.font[Le]))){var qe=_e.family.join(", "),ve=[_e.style];_e.style!=_e.variant&&ve.push(_e.variant),_e.variant!=_e.weight&&ve.push(_e.weight),m&&_e.weight!=_e.stretch&&ve.push(_e.stretch),A.font[Le]={baseString:Ie,family:qe,weight:_e.weight,stretch:_e.stretch,style:_e.style,variant:_e.variant,width:{},kerning:{},metrics:v(qe,{origin:"top",fontSize:x.baseFontSize,fontStyle:ve.join(" ")})},x.fonts[Ie]=A.font[Le]}}),(I||S)&&this.font.forEach(function(_e,Le){var Ie=D.stringify({size:A.fontSize[Le],family:_e.family,stretch:m?_e.stretch:void 0,variant:_e.variant,weight:_e.weight,style:_e.style});A.fontAtlas[Le]=A.shader.atlas[Ie],A.fontAtlas[Le]||(A.shader.atlas[Ie]=A.fontAtlas[Le]={fontString:Ie,step:2*Math.ceil(A.fontSize[Le]*_e.metrics.bottom*.5),em:A.fontSize[Le],cols:0,rows:0,height:0,width:0,chars:[],ids:{},texture:A.regl.texture()}),null==b.text&&(b.text=A.text)}),"string"==typeof b.text&&b.position&&b.position.length>2){for(var O=Array(.5*b.position.length),R=0;R<O.length;R++)O[R]=b.text;b.text=O}if(null!=b.text||I){if(this.textOffsets=[0],Array.isArray(b.text)){this.count=b.text[0].length,this.counts=[this.count];for(var L=1;L<b.text.length;L++)this.textOffsets[L]=this.textOffsets[L-1]+b.text[L-1].length,this.count+=b.text[L].length,this.counts.push(b.text[L].length);this.text=b.text.join("")}else this.text=b.text,this.count=this.text.length,this.counts=[this.count];g=[],this.font.forEach(function(_e,Le){x.atlasContext.font=_e.baseString;for(var Ie=A.fontAtlas[Le],De=0;De<A.text.length;De++){var je=A.text.charAt(De);if(null==Ie.ids[je]&&(Ie.ids[je]=Ie.chars.length,Ie.chars.push(je),g.push(je)),null==_e.width[je]&&(_e.width[je]=x.atlasContext.measureText(je).width/x.baseFontSize,A.kerning)){var qe=[];for(var ve in _e.width)qe.push(ve+je,je+ve);h(_e.kerning,u(_e.family,{pairs:qe}))}}})}if(b.position)if(b.position.length>2){for(var N=!b.position[0].length,j=i.mallocFloat(2*this.count),X=0,F=0;X<this.counts.length;X++){var Y=this.counts[X];if(N)for(var G=0;G<Y;G++)j[F++]=b.position[2*X],j[F++]=b.position[2*X+1];else for(var H=0;H<Y;H++)j[F++]=b.position[X][0],j[F++]=b.position[X][1]}this.position.call?this.position({type:"float",data:j}):this.position=this.regl.buffer({type:"float",data:j}),i.freeFloat(j)}else this.position.destroy&&this.position.destroy(),this.position={constant:b.position};if(b.text||I){var W=i.mallocUint8(this.count),Z=i.mallocFloat(2*this.count);this.textWidth=[];for(var se=0,re=0;se<this.counts.length;se++){for(var ne=this.counts[se],Q=this.font[se]||this.font[0],ee=this.fontAtlas[se]||this.fontAtlas[0],oe=0;oe<ne;oe++){var ce=this.text.charAt(re),fe=this.text.charAt(re-1);if(W[re]=ee.ids[ce],Z[2*re]=Q.width[ce],oe){var Me=Z[2*re-1]+.5*Z[2*re-2]+.5*Z[2*re];if(this.kerning){var Ae=Q.kerning[fe+ce];Ae&&(Me+=.001*Ae)}Z[2*re+1]=Me}else Z[2*re+1]=.5*Z[2*re];re++}this.textWidth.push(Z.length?.5*Z[2*re-2]+Z[2*re-1]:0)}b.align||(b.align=this.align),this.charBuffer({data:W,type:"uint8",usage:"stream"}),this.sizeBuffer({data:Z,type:"float",usage:"stream"}),i.freeUint8(W),i.freeFloat(Z),g.length&&this.font.forEach(function(_e,Le){var Ie=A.fontAtlas[Le],De=Ie.step,je=Math.floor(x.maxAtlasSize/De),qe=Math.min(je,Ie.chars.length),ve=Math.ceil(Ie.chars.length/qe),Oe=T(qe*De),ke=T(ve*De);Ie.width=Oe,Ie.height=ke,Ie.rows=ve,Ie.cols=qe,Ie.em&&Ie.texture({data:c({canvas:x.atlasCanvas,font:Ie.fontString,chars:Ie.chars,shape:[Oe,ke],step:[De,De]})})})}if(b.align&&(this.align=b.align,this.alignOffset=this.textWidth.map(function(_e,Le){var Ie=Array.isArray(A.align)?A.align.length>1?A.align[Le]:A.align[0]:A.align;if("number"==typeof Ie)return Ie;switch(Ie){case"right":case"end":return-_e;case"center":case"centre":case"middle":return.5*-_e}return 0})),null==this.baseline&&null==b.baseline&&(b.baseline=0),null!=b.baseline&&(this.baseline=b.baseline,Array.isArray(this.baseline)||(this.baseline=[this.baseline]),this.baselineOffset=this.baseline.map(function(_e,Le){var Ie=(A.font[Le]||A.font[0]).metrics,De=0;return-1*((De+=.5*Ie.bottom)+("number"==typeof _e?_e-Ie.baseline:-Ie[_e]))})),null!=b.color)if(b.color||(b.color="transparent"),"string"!=typeof b.color&&isNaN(b.color)){var be;if("number"==typeof b.color[0]&&b.color.length>this.counts.length){var ye=b.color.length;be=i.mallocUint8(ye);for(var we=(b.color.subarray||b.color.slice).bind(b.color),ze=0;ze<ye;ze+=4)be.set(y(we(ze,ze+4),"uint8"),ze)}else{var Se=b.color.length;be=i.mallocUint8(4*Se);for(var Ce=0;Ce<Se;Ce++)be.set(y(b.color[Ce]||0,"uint8"),4*Ce)}this.color=be}else this.color=y(b.color,"uint8");if(b.position||b.text||b.color||b.baseline||b.align||b.font||b.offset||b.opacity)if(this.color.length>4||this.baselineOffset.length>1||this.align&&this.align.length>1||this.fontAtlas.length>1||this.positionOffset.length>2){var ge=Math.max(.5*this.position.length||0,.25*this.color.length||0,this.baselineOffset.length||0,this.alignOffset.length||0,this.font.length||0,this.opacity.length||0,.5*this.positionOffset.length||0);this.batch=Array(ge);for(var he=0;he<this.batch.length;he++)this.batch[he]={count:this.counts.length>1?this.counts[he]:this.counts[0],offset:this.textOffsets.length>1?this.textOffsets[he]:this.textOffsets[0],color:this.color?this.color.length<=4?this.color:this.color.subarray(4*he,4*he+4):[0,0,0,255],opacity:Array.isArray(this.opacity)?this.opacity[he]:this.opacity,baseline:null!=this.baselineOffset[he]?this.baselineOffset[he]:this.baselineOffset[0],align:this.align?null!=this.alignOffset[he]?this.alignOffset[he]:this.alignOffset[0]:0,atlas:this.fontAtlas[he]||this.fontAtlas[0],positionOffset:this.positionOffset.length>2?this.positionOffset.subarray(2*he,2*he+2):this.positionOffset}}else this.batch=this.count?[{count:this.count,offset:0,color:this.color||[0,0,0,255],opacity:Array.isArray(this.opacity)?this.opacity[0]:this.opacity,baseline:this.baselineOffset[0],align:this.alignOffset?this.alignOffset[0]:0,atlas:this.fontAtlas[0],positionOffset:this.positionOffset}]:[]},x.prototype.destroy=function(){},x.prototype.kerning=!0,x.prototype.position={constant:new Float32Array(2)},x.prototype.translate=null,x.prototype.scale=null,x.prototype.font=null,x.prototype.text="",x.prototype.positionOffset=[0,0],x.prototype.opacity=1,x.prototype.color=new Uint8Array([0,0,0,255]),x.prototype.alignOffset=[0,0],x.maxAtlasSize=1024,x.atlasCanvas=document.createElement("canvas"),x.atlasContext=x.atlasCanvas.getContext("2d",{alpha:!1}),x.baseFontSize=64,x.fonts={},ae.exports=x},12018:function(ae,B,r){"use strict";var D=r(71299);function E(M){if(M.container)if(M.container==document.body)document.body.style.width||(M.canvas.width=M.width||M.pixelRatio*r.g.innerWidth),document.body.style.height||(M.canvas.height=M.height||M.pixelRatio*r.g.innerHeight);else{var y=M.container.getBoundingClientRect();M.canvas.width=M.width||y.right-y.left,M.canvas.height=M.height||y.bottom-y.top}}function f(M){return"function"==typeof M.getContext&&"width"in M&&"height"in M}function k(){var M=document.createElement("canvas");return M.style.position="absolute",M.style.top=0,M.style.left=0,M}ae.exports=function(M){var y,i;if(M?"string"==typeof M&&(M={container:M}):M={},(M=f(M)||"string"==typeof(y=M).nodeName&&"function"==typeof y.appendChild&&"function"==typeof y.getBoundingClientRect?{container:M}:(i=M,"function"==typeof i.drawArrays||"function"==typeof i.drawElements?{gl:M}:D(M,{container:"container target element el canvas holder parent parentNode wrapper use ref root node",gl:"gl context webgl glContext",attrs:"attributes attrs contextAttributes",pixelRatio:"pixelRatio pxRatio px ratio pxratio pixelratio",width:"w width",height:"h height"},!0))).pixelRatio||(M.pixelRatio=r.g.pixelRatio||1),M.gl)return M.gl;if(M.canvas&&(M.container=M.canvas.parentNode),M.container){if("string"==typeof M.container){var c=document.querySelector(M.container);if(!c)throw Error("Element "+M.container+" is not found");M.container=c}f(M.container)?(M.canvas=M.container,M.container=M.canvas.parentNode):M.canvas||(M.canvas=k(),M.container.appendChild(M.canvas),E(M))}else if(!M.canvas){if(typeof document>"u")throw Error("Not DOM environment. Use headless-gl.");M.container=document.body||document.documentElement,M.canvas=k(),M.container.appendChild(M.canvas),E(M)}return M.gl||["webgl","experimental-webgl","webgl-experimental"].some(function(i){try{M.gl=M.canvas.getContext(i,M.attrs)}catch{}return M.gl}),M.gl}},56068:function(ae){ae.exports=function(B){"string"==typeof B&&(B=[B]);for(var r=[].slice.call(arguments,1),D=[],E=0;E<B.length-1;E++)D.push(B[E],r[E]||"");return D.push(B[E]),D.join("")}},40383:function(ae,B,r){"use strict";var D=r(68318)("%Object.getOwnPropertyDescriptor%",!0);if(D)try{D([],"length")}catch{D=null}ae.exports=D},57035:function(ae,B,r){"use strict";var D,E=r(54404);D="function"==typeof r.g.matchMedia?!r.g.matchMedia("(hover: none)").matches:E,ae.exports=D},38520:function(ae,B,r){"use strict";var D=r(54404);ae.exports=D&&function(){var E=!1;try{var f=Object.defineProperty({},"passive",{get:function(){E=!0}});window.addEventListener("test",null,f),window.removeEventListener("test",null,f)}catch{E=!1}return E}()},55622:function(ae,B,r){"use strict";var D=r(68318)("%Object.defineProperty%",!0),E=function(){if(D)try{return D({},"a",{value:1}),!0}catch{return!1}return!1};E.hasArrayLengthDefineBug=function(){if(!E())return null;try{return 1!==D([],"length",{value:1}).length}catch{return!0}},ae.exports=E},57877:function(ae,B,r){"use strict";var D=typeof Symbol<"u"&&Symbol,E=r(35638);ae.exports=function(){return"function"==typeof D&&"function"==typeof Symbol&&"symbol"==typeof D("foo")&&"symbol"==typeof Symbol("bar")&&E()}},35638:function(ae){"use strict";ae.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var B={},r=Symbol("test"),D=Object(r);if("string"==typeof r||"[object Symbol]"!==Object.prototype.toString.call(r)||"[object Symbol]"!==Object.prototype.toString.call(D))return!1;for(r in B[r]=42,B)return!1;if("function"==typeof Object.keys&&0!==Object.keys(B).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(B).length)return!1;var E=Object.getOwnPropertySymbols(B);if(1!==E.length||E[0]!==r||!Object.prototype.propertyIsEnumerable.call(B,r))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var f=Object.getOwnPropertyDescriptor(B,r);if(42!==f.value||!0!==f.enumerable)return!1}return!0}},84543:function(ae,B,r){"use strict";var D=r(35638);ae.exports=function(){return D()&&!!Symbol.toStringTag}},35065:function(ae,B,r){"use strict";var D=r(77575);ae.exports=D.call(Function.call,Object.prototype.hasOwnProperty)},95280:function(ae,B){B.read=function(r,D,E,f,k){var M,y,c=8*k-f-1,i=(1<<c)-1,s=i>>1,a=-7,o=E?k-1:0,l=E?-1:1,u=r[D+o];for(o+=l,M=u&(1<<-a)-1,u>>=-a,a+=c;a>0;M=256*M+r[D+o],o+=l,a-=8);for(y=M&(1<<-a)-1,M>>=-a,a+=f;a>0;y=256*y+r[D+o],o+=l,a-=8);if(0===M)M=1-s;else{if(M===i)return y?NaN:1/0*(u?-1:1);y+=Math.pow(2,f),M-=s}return(u?-1:1)*y*Math.pow(2,M-f)},B.write=function(r,D,E,f,k,M){var y,c,i,s=8*M-k-1,a=(1<<s)-1,o=a>>1,l=23===k?Math.pow(2,-24)-Math.pow(2,-77):0,u=f?0:M-1,h=f?1:-1,v=D<0||0===D&&1/D<0?1:0;for(D=Math.abs(D),isNaN(D)||D===1/0?(c=isNaN(D)?1:0,y=a):(y=Math.floor(Math.log(D)/Math.LN2),D*(i=Math.pow(2,-y))<1&&(y--,i*=2),(D+=y+o>=1?l/i:l*Math.pow(2,1-o))*i>=2&&(y++,i/=2),y+o>=a?(c=0,y=a):y+o>=1?(c=(D*i-1)*Math.pow(2,k),y+=o):(c=D*Math.pow(2,o-1)*Math.pow(2,k),y=0));k>=8;r[E+u]=255&c,u+=h,c/=256,k-=8);for(y=y<<k|c,s+=k;s>0;r[E+u]=255&y,u+=h,y/=256,s-=8);r[E+u-h]|=128*v}},42018:function(ae){ae.exports="function"==typeof Object.create?function(B,r){r&&(B.super_=r,B.prototype=Object.create(r.prototype,{constructor:{value:B,enumerable:!1,writable:!0,configurable:!0}}))}:function(B,r){if(r){B.super_=r;var D=function(){};D.prototype=r.prototype,B.prototype=new D,B.prototype.constructor=B}}},47216:function(ae,B,r){"use strict";var D=r(84543)(),E=r(6614)("Object.prototype.toString"),f=function(y){return!(D&&y&&"object"==typeof y&&Symbol.toStringTag in y)&&"[object Arguments]"===E(y)},k=function(y){return!!f(y)||null!==y&&"object"==typeof y&&"number"==typeof y.length&&y.length>=0&&"[object Array]"!==E(y)&&"[object Function]"===E(y.callee)},M=function(){return f(arguments)}();f.isLegacyArguments=k,ae.exports=M?f:k},54404:function(ae){ae.exports=!0},85395:function(ae){"use strict";var B,r,D=Function.prototype.toString,E="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof E&&"function"==typeof Object.defineProperty)try{B=Object.defineProperty({},"length",{get:function(){throw r}}),r={},E(function(){throw 42},null,B)}catch(o){o!==r&&(E=null)}else E=null;var f=/^\s*class\b/,k=function(o){try{var l=D.call(o);return f.test(l)}catch{return!1}},M=function(o){try{return!k(o)&&(D.call(o),!0)}catch{return!1}},y=Object.prototype.toString,c="function"==typeof Symbol&&!!Symbol.toStringTag,i=!(0 in[,]),s=function(){return!1};if("object"==typeof document){var a=document.all;y.call(a)===y.call(document.all)&&(s=function(o){if((i||!o)&&(void 0===o||"object"==typeof o))try{var l=y.call(o);return("[object HTMLAllCollection]"===l||"[object HTML document.all class]"===l||"[object HTMLCollection]"===l||"[object Object]"===l)&&null==o("")}catch{}return!1})}ae.exports=E?function(o){if(s(o))return!0;if(!o||"function"!=typeof o&&"object"!=typeof o)return!1;try{E(o,null,B)}catch(l){if(l!==r)return!1}return!k(o)&&M(o)}:function(o){if(s(o))return!0;if(!o||"function"!=typeof o&&"object"!=typeof o)return!1;if(c)return M(o);if(k(o))return!1;var l=y.call(o);return!("[object Function]"!==l&&"[object GeneratorFunction]"!==l&&!/^\[object HTML/.test(l))&&M(o)}},65481:function(ae,B,r){"use strict";var D,E=Object.prototype.toString,f=Function.prototype.toString,k=/^\s*(?:function)?\*/,M=r(84543)(),y=Object.getPrototypeOf;ae.exports=function(c){if("function"!=typeof c)return!1;if(k.test(f.call(c)))return!0;if(!M)return"[object GeneratorFunction]"===E.call(c);if(!y)return!1;if(void 0===D){var i=function(){if(!M)return!1;try{return Function("return function*() {}")()}catch{}}();D=!!i&&y(i)}return y(c)===D}},62683:function(ae){"use strict";ae.exports=typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion))},64274:function(ae){"use strict";ae.exports=function(B){return B!=B}},15567:function(ae,B,r){"use strict";var D=r(68222),E=r(17045),f=r(64274),k=r(14922),M=r(22442),y=D(k(),Number);E(y,{getPolyfill:k,implementation:f,shim:M}),ae.exports=y},14922:function(ae,B,r){"use strict";var D=r(64274);ae.exports=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:D}},22442:function(ae,B,r){"use strict";var D=r(17045),E=r(14922);ae.exports=function(){var f=E();return D(Number,{isNaN:f},{isNaN:function(){return Number.isNaN!==f}}),f}},64941:function(ae){"use strict";ae.exports=function(B){var r=typeof B;return null!==B&&("object"===r||"function"===r)}},10973:function(ae){"use strict";var B=Object.prototype.toString;ae.exports=function(r){var D;return"[object Object]"===B.call(r)&&(null===(D=Object.getPrototypeOf(r))||D===Object.getPrototypeOf({}))}},18546:function(ae){"use strict";ae.exports=function(B){for(var r,D=B.length,E=0;E<D;E++)if(((r=B.charCodeAt(E))<9||r>13)&&32!==r&&133!==r&&160!==r&&5760!==r&&6158!==r&&(r<8192||r>8205)&&8232!==r&&8233!==r&&8239!==r&&8287!==r&&8288!==r&&12288!==r&&65279!==r)return!1;return!0}},89546:function(ae){"use strict";ae.exports=function(B){return"string"==typeof B&&(B=B.trim(),!!(/^[mzlhvcsqta]\s*[-+.0-9][^mlhvzcsqta]+/i.test(B)&&/[\dz]$/i.test(B)&&B.length>4))}},9187:function(ae,B,r){"use strict";var D=r(31353),E=r(72077),f=r(6614),k=f("Object.prototype.toString"),M=r(84543)(),y=r(40383),c=typeof globalThis>"u"?r.g:globalThis,i=E(),s=f("Array.prototype.indexOf",!0)||function(u,h){for(var v=0;v<u.length;v+=1)if(u[v]===h)return v;return-1},a=f("String.prototype.slice"),o={},l=Object.getPrototypeOf;M&&y&&l&&D(i,function(u){var h=new c[u];if(Symbol.toStringTag in h){var v=l(h),p=y(v,Symbol.toStringTag);if(!p){var T=l(v);p=y(T,Symbol.toStringTag)}o[u]=p.get}}),ae.exports=function(u){if(!u||"object"!=typeof u)return!1;if(!M||!(Symbol.toStringTag in u)){var h=a(k(u),8,-1);return s(i,h)>-1}return!!y&&(v=u,p=!1,D(o,function(T,_){if(!p)try{p=T.call(v)===_}catch{}}),p);var v,p}},44517:function(ae){ae.exports=function(){"use strict";var B,r,D;function E(f,k){if(B)if(r){var M="var sharedChunk = {}; ("+B+")(sharedChunk); ("+r+")(sharedChunk);",y={};B(y),(D=k(y)).workerUrl=window.URL.createObjectURL(new Blob([M],{type:"text/javascript"}))}else r=k;else B=k}return E(0,function(f){function k(C,z){return C(z={exports:{}},z.exports),z.exports}var M="1.10.1",y=c;function c(C,z,K,me){this.cx=3*C,this.bx=3*(K-C)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*z,this.by=3*(me-z)-this.cy,this.ay=1-this.cy-this.by,this.p1x=C,this.p1y=me,this.p2x=K,this.p2y=me}c.prototype.sampleCurveX=function(C){return((this.ax*C+this.bx)*C+this.cx)*C},c.prototype.sampleCurveY=function(C){return((this.ay*C+this.by)*C+this.cy)*C},c.prototype.sampleCurveDerivativeX=function(C){return(3*this.ax*C+2*this.bx)*C+this.cx},c.prototype.solveCurveX=function(C,z){var K,me,Re,Ve,Ze;for(void 0===z&&(z=1e-6),Re=C,Ze=0;Ze<8;Ze++){if(Ve=this.sampleCurveX(Re)-C,Math.abs(Ve)<z)return Re;var st=this.sampleCurveDerivativeX(Re);if(Math.abs(st)<1e-6)break;Re-=Ve/st}if((Re=C)<(K=0))return K;if(Re>(me=1))return me;for(;K<me;){if(Ve=this.sampleCurveX(Re),Math.abs(Ve-C)<z)return Re;C>Ve?K=Re:me=Re,Re=.5*(me-K)+K}return Re},c.prototype.solve=function(C,z){return this.sampleCurveY(this.solveCurveX(C,z))};var i=s;function s(C,z){this.x=C,this.y=z}function a(C,z,K,me){var Re=new y(C,z,K,me);return function(Ve){return Re.solve(Ve)}}s.prototype={clone:function(){return new s(this.x,this.y)},add:function(C){return this.clone()._add(C)},sub:function(C){return this.clone()._sub(C)},multByPoint:function(C){return this.clone()._multByPoint(C)},divByPoint:function(C){return this.clone()._divByPoint(C)},mult:function(C){return this.clone()._mult(C)},div:function(C){return this.clone()._div(C)},rotate:function(C){return this.clone()._rotate(C)},rotateAround:function(C,z){return this.clone()._rotateAround(C,z)},matMult:function(C){return this.clone()._matMult(C)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(C){return this.x===C.x&&this.y===C.y},dist:function(C){return Math.sqrt(this.distSqr(C))},distSqr:function(C){var z=C.x-this.x,K=C.y-this.y;return z*z+K*K},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(C){return Math.atan2(this.y-C.y,this.x-C.x)},angleWith:function(C){return this.angleWithSep(C.x,C.y)},angleWithSep:function(C,z){return Math.atan2(this.x*z-this.y*C,this.x*C+this.y*z)},_matMult:function(C){var K=C[2]*this.x+C[3]*this.y;return this.x=C[0]*this.x+C[1]*this.y,this.y=K,this},_add:function(C){return this.x+=C.x,this.y+=C.y,this},_sub:function(C){return this.x-=C.x,this.y-=C.y,this},_mult:function(C){return this.x*=C,this.y*=C,this},_div:function(C){return this.x/=C,this.y/=C,this},_multByPoint:function(C){return this.x*=C.x,this.y*=C.y,this},_divByPoint:function(C){return this.x/=C.x,this.y/=C.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var C=this.y;return this.y=this.x,this.x=-C,this},_rotate:function(C){var z=Math.cos(C),K=Math.sin(C),Re=K*this.x+z*this.y;return this.x=z*this.x-K*this.y,this.y=Re,this},_rotateAround:function(C,z){var K=Math.cos(C),me=Math.sin(C),Ve=z.y+me*(this.x-z.x)+K*(this.y-z.y);return this.x=z.x+K*(this.x-z.x)-me*(this.y-z.y),this.y=Ve,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},s.convert=function(C){return C instanceof s?C:Array.isArray(C)?new s(C[0],C[1]):C};var o=a(.25,.1,.25,1);function l(C,z,K){return Math.min(K,Math.max(z,C))}function u(C,z,K){var me=K-z,Re=((C-z)%me+me)%me+z;return Re===z?K:Re}function h(C){for(var z=[],K=arguments.length-1;K-- >0;)z[K]=arguments[K+1];for(var me=0,Re=z;me<Re.length;me+=1){var Ve=Re[me];for(var Ze in Ve)C[Ze]=Ve[Ze]}return C}var v=1;function p(){return v++}function T(){return function C(z){return z?(z^16*Math.random()>>z/4).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,C)}()}function _(C){return!!C&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(C)}function m(C,z){C.forEach(function(K){z[K]&&(z[K]=z[K].bind(z))})}function w(C,z){return-1!==C.indexOf(z,C.length-z.length)}function x(C,z,K){var me={};for(var Re in C)me[Re]=z.call(K||this,C[Re],Re,C);return me}function b(C,z,K){var me={};for(var Re in C)z.call(K||this,C[Re],Re,C)&&(me[Re]=C[Re]);return me}function A(C){return Array.isArray(C)?C.map(A):"object"==typeof C&&C?x(C,A):C}var g={};function I(C){g[C]||(typeof console<"u"&&console.warn(C),g[C]=!0)}function S(C,z,K){return(K.y-C.y)*(z.x-C.x)>(z.y-C.y)*(K.x-C.x)}function O(C){for(var z=0,K=0,me=C.length,Re=me-1,Ve=void 0,Ze=void 0;K<me;Re=K++)z+=((Ze=C[Re]).x-(Ve=C[K]).x)*(Ve.y+Ze.y);return z}function R(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function L(C){var z={};if(C.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,function(me,Re,Ve,Ze){var st=Ve||Ze;return z[Re]=!st||st.toLowerCase(),""}),z["max-age"]){var K=parseInt(z["max-age"],10);isNaN(K)?delete z["max-age"]:z["max-age"]=K}return z}var N=null;function j(C){if(null==N){var z=C.navigator?C.navigator.userAgent:null;N=!!C.safari||!(!z||!(/\b(iPad|iPhone|iPod)\b/.test(z)||z.match("Safari")&&!z.match("Chrome")))}return N}function X(C){try{var z=self[C];return z.setItem("_mapbox_test_",1),z.removeItem("_mapbox_test_"),!0}catch{return!1}}var F,Y,G,H,W=self.performance&&self.performance.now?self.performance.now.bind(self.performance):Date.now.bind(Date),Z=self.requestAnimationFrame||self.mozRequestAnimationFrame||self.webkitRequestAnimationFrame||self.msRequestAnimationFrame,se=self.cancelAnimationFrame||self.mozCancelAnimationFrame||self.webkitCancelAnimationFrame||self.msCancelAnimationFrame,re={now:W,frame:function(C){var z=Z(C);return{cancel:function(){return se(z)}}},getImageData:function(C,z){void 0===z&&(z=0);var K=self.document.createElement("canvas"),me=K.getContext("2d");if(!me)throw new Error("failed to create canvas 2d context");return K.width=C.width,K.height=C.height,me.drawImage(C,0,0,C.width,C.height),me.getImageData(-z,-z,C.width+2*z,C.height+2*z)},resolveURL:function(C){return F||(F=self.document.createElement("a")),F.href=C,F.href},hardwareConcurrency:self.navigator.hardwareConcurrency||4,get devicePixelRatio(){return self.devicePixelRatio},get prefersReducedMotion(){return!!self.matchMedia&&(null==Y&&(Y=self.matchMedia("(prefers-reduced-motion: reduce)")),Y.matches)}},ne={API_URL:"https://api.mapbox.com",get EVENTS_URL(){return this.API_URL?0===this.API_URL.indexOf("https://api.mapbox.cn")?"https://events.mapbox.cn/events/v2":0===this.API_URL.indexOf("https://api.mapbox.com")?"https://events.mapbox.com/events/v2":null:null},FEEDBACK_URL:"https://apps.mapbox.com/feedback",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},Q={supported:!1,testSupport:function(C){!ee&&H&&(oe?ce(C):G=C)}},ee=!1,oe=!1;function ce(C){var z=C.createTexture();C.bindTexture(C.TEXTURE_2D,z);try{if(C.texImage2D(C.TEXTURE_2D,0,C.RGBA,C.RGBA,C.UNSIGNED_BYTE,H),C.isContextLost())return;Q.supported=!0}catch{}C.deleteTexture(z),ee=!0}self.document&&((H=self.document.createElement("img")).onload=function(){G&&ce(G),G=null,oe=!0},H.onerror=function(){ee=!0,G=null},H.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");var fe="01",le=function(C,z){this._transformRequestFn=C,this._customAccessToken=z,this._createSkuToken()};function pe(C){return 0===C.indexOf("mapbox:")}le.prototype._createSkuToken=function(){var C=function(){for(var z="",K=0;K<10;K++)z+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",fe,z].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=C.token,this._skuTokenExpiresAt=C.tokenExpiresAt},le.prototype._isSkuTokenExpired=function(){return Date.now()>this._skuTokenExpiresAt},le.prototype.transformRequest=function(C,z){return this._transformRequestFn&&this._transformRequestFn(C,z)||{url:C}},le.prototype.normalizeStyleURL=function(C,z){if(!pe(C))return C;var K=ye(C);return K.path="/styles/v1"+K.path,this._makeAPIURL(K,this._customAccessToken||z)},le.prototype.normalizeGlyphsURL=function(C,z){if(!pe(C))return C;var K=ye(C);return K.path="/fonts/v1"+K.path,this._makeAPIURL(K,this._customAccessToken||z)},le.prototype.normalizeSourceURL=function(C,z){if(!pe(C))return C;var K=ye(C);return K.path="/v4/"+K.authority+".json",K.params.push("secure"),this._makeAPIURL(K,this._customAccessToken||z)},le.prototype.normalizeSpriteURL=function(C,z,K,me){var Re=ye(C);return pe(C)?(Re.path="/styles/v1"+Re.path+"/sprite"+z+K,this._makeAPIURL(Re,this._customAccessToken||me)):(Re.path+=""+z+K,we(Re))},le.prototype.normalizeTileURL=function(C,z){if(this._isSkuTokenExpired()&&this._createSkuToken(),C&&!pe(C))return C;var K=ye(C);K.path=K.path.replace(/(\.(png|jpg)\d*)(?=$)/,(re.devicePixelRatio>=2||512===z?"@2x":"")+(Q.supported?".webp":"$1")),K.path=K.path.replace(/^.+\/v4\//,"/"),K.path="/v4"+K.path;var Ve=this._customAccessToken||function(Ze){for(var st=0,vt=Ze;st<vt.length;st+=1){var Ct=vt[st].match(/^access_token=(.*)$/);if(Ct)return Ct[1]}return null}(K.params)||ne.ACCESS_TOKEN;return ne.REQUIRE_ACCESS_TOKEN&&Ve&&this._skuToken&&K.params.push("sku="+this._skuToken),this._makeAPIURL(K,Ve)},le.prototype.canonicalizeTileURL=function(C,z){var K=ye(C);if(!K.path.match(/(^\/v4\/)/)||!K.path.match(/\.[\w]+$/))return C;var me="mapbox://tiles/";me+=K.path.replace("/v4/","");var Re=K.params;return z&&(Re=Re.filter(function(Ve){return!Ve.match(/^access_token=/)})),Re.length&&(me+="?"+Re.join("&")),me},le.prototype.canonicalizeTileset=function(C,z){for(var K=!!z&&pe(z),me=[],Re=0,Ve=C.tiles||[];Re<Ve.length;Re+=1){var Ze=Ve[Re];Ae(Ze)?me.push(this.canonicalizeTileURL(Ze,K)):me.push(Ze)}return me},le.prototype._makeAPIURL=function(C,z){var K="See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes",me=ye(ne.API_URL);if(C.protocol=me.protocol,C.authority=me.authority,"/"!==me.path&&(C.path=""+me.path+C.path),!ne.REQUIRE_ACCESS_TOKEN)return we(C);if(!(z=z||ne.ACCESS_TOKEN))throw new Error("An API access token is required to use Mapbox GL. "+K);if("s"===z[0])throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+K);return C.params=C.params.filter(function(Re){return-1===Re.indexOf("access_token")}),C.params.push("access_token="+z),we(C)};var Me=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;function Ae(C){return Me.test(C)}var be=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function ye(C){var z=C.match(be);if(!z)throw new Error("Unable to parse URL object");return{protocol:z[1],authority:z[2],path:z[3]||"/",params:z[4]?z[4].split("&"):[]}}function we(C){var z=C.params.length?"?"+C.params.join("&"):"";return C.protocol+"://"+C.authority+C.path+z}var ze="mapbox.eventData";function Se(C){if(!C)return null;var K=C.split(".");if(!K||3!==K.length)return null;try{return JSON.parse(decodeURIComponent(self.atob(K[1]).split("").map(function(me){return"%"+("00"+me.charCodeAt(0).toString(16)).slice(-2)}).join("")))}catch{return null}}var Ce=function(C){this.type=C,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null};Ce.prototype.getStorageKey=function(C){var z,me=Se(ne.ACCESS_TOKEN);return z=me&&me.u?self.btoa(encodeURIComponent(me.u).replace(/%([0-9A-F]{2})/g,function(Re,Ve){return String.fromCharCode(+("0x"+Ve))})):ne.ACCESS_TOKEN||"",C?ze+"."+C+":"+z:ze+":"+z},Ce.prototype.fetchEventData=function(){var C=X("localStorage"),z=this.getStorageKey(),K=this.getStorageKey("uuid");if(C)try{var me=self.localStorage.getItem(z);me&&(this.eventData=JSON.parse(me));var Re=self.localStorage.getItem(K);Re&&(this.anonId=Re)}catch{I("Unable to read from LocalStorage")}},Ce.prototype.saveEventData=function(){var C=X("localStorage"),z=this.getStorageKey(),K=this.getStorageKey("uuid");if(C)try{self.localStorage.setItem(K,this.anonId),Object.keys(this.eventData).length>=1&&self.localStorage.setItem(z,JSON.stringify(this.eventData))}catch{I("Unable to write to LocalStorage")}},Ce.prototype.processRequests=function(C){},Ce.prototype.postEvent=function(C,z,K,me){var Re=this;if(ne.EVENTS_URL){var Ve=ye(ne.EVENTS_URL);Ve.params.push("access_token="+(me||ne.ACCESS_TOKEN||""));var Ze={event:this.type,created:new Date(C).toISOString(),sdkIdentifier:"mapbox-gl-js",sdkVersion:M,skuId:fe,userId:this.anonId},st=z?h(Ze,z):Ze,vt={url:we(Ve),headers:{"Content-Type":"text/plain"},body:JSON.stringify([st])};this.pendingRequest=zt(vt,function(Ct){Re.pendingRequest=null,K(Ct),Re.saveEventData(),Re.processRequests(me)})}},Ce.prototype.queueRequest=function(C,z){this.queue.push(C),this.processRequests(z)};var ge,he,_e=function(C){function z(){C.call(this,"map.load"),this.success={},this.skuToken=""}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype.postMapLoadEvent=function(K,me,Re,Ve){this.skuToken=Re,(ne.EVENTS_URL&&Ve||ne.ACCESS_TOKEN&&Array.isArray(K)&&K.some(function(Ze){return pe(Ze)||Ae(Ze)}))&&this.queueRequest({id:me,timestamp:Date.now()},Ve)},z.prototype.processRequests=function(K){var me=this;if(!this.pendingRequest&&0!==this.queue.length){var Re=this.queue.shift(),Ve=Re.id,Ze=Re.timestamp;Ve&&this.success[Ve]||(this.anonId||this.fetchEventData(),_(this.anonId)||(this.anonId=T()),this.postEvent(Ze,{skuToken:this.skuToken},function(st){st||Ve&&(me.success[Ve]=!0)},K))}},z}(Ce),Le=function(C){function z(K){C.call(this,"appUserTurnstile"),this._customAccessToken=K}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype.postTurnstileEvent=function(K,me){ne.EVENTS_URL&&ne.ACCESS_TOKEN&&Array.isArray(K)&&K.some(function(Re){return pe(Re)||Ae(Re)})&&this.queueRequest(Date.now(),me)},z.prototype.processRequests=function(K){var me=this;if(!this.pendingRequest&&0!==this.queue.length){this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();var Re=Se(ne.ACCESS_TOKEN),Ve=Re?Re.u:ne.ACCESS_TOKEN,Ze=Ve!==this.eventData.tokenU;_(this.anonId)||(this.anonId=T(),Ze=!0);var st=this.queue.shift();if(this.eventData.lastSuccess){var vt=new Date(this.eventData.lastSuccess),Ct=new Date(st),Ot=(st-this.eventData.lastSuccess)/864e5;Ze=Ze||Ot>=1||Ot<-1||vt.getDate()!==Ct.getDate()}else Ze=!0;if(!Ze)return this.processRequests();this.postEvent(st,{"enabled.telemetry":!1},function(Gt){Gt||(me.eventData.lastSuccess=st,me.eventData.tokenU=Ve)},K)}},z}(Ce),Ie=new Le,De=Ie.postTurnstileEvent.bind(Ie),je=new _e,qe=je.postMapLoadEvent.bind(je),ve="mapbox-tiles",Oe=500,ke=50,Be=42e4;function We(){self.caches&&!ge&&(ge=self.caches.open(ve))}function Ke(C){var z=C.indexOf("?");return z<0?C:C.slice(0,z)}var at,mt=1/0;function ct(){return null==at&&(at=self.OffscreenCanvas&&new self.OffscreenCanvas(1,1).getContext("2d")&&"function"==typeof self.createImageBitmap),at}var kt={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};"function"==typeof Object.freeze&&Object.freeze(kt);var Dt=function(C){function z(K,me,Re){401===me&&Ae(Re)&&(K+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"),C.call(this,K),this.status=me,this.url=Re,this.name=this.constructor.name,this.message=K}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype.toString=function(){return this.name+": "+this.message+" ("+this.status+"): "+this.url},z}(Error),Et=R()?function(){return self.worker&&self.worker.referrer}:function(){return("blob:"===self.location.protocol?self.parent:self).location.href};function ht(C,z){var K,me=new self.AbortController,Re=new self.Request(C.url,{method:C.method||"GET",body:C.body,credentials:C.credentials,headers:C.headers,referrer:Et(),signal:me.signal}),Ve=!1,Ze=!1,st=(K=Re.url).indexOf("sku=")>0&&Ae(K);"json"===C.type&&Re.headers.set("Accept","application/json");var vt=function(Ot,Gt,Kt){if(!Ze){if(Ot&&"SecurityError"!==Ot.message&&I(Ot),Gt&&Kt)return Ct(Gt);var Yt=Date.now();self.fetch(Re).then(function(gn){if(gn.ok){var _n=st?gn.clone():null;return Ct(gn,_n,Yt)}return z(new Dt(gn.statusText,gn.status,C.url))}).catch(function(gn){20!==gn.code&&z(new Error(gn.message))})}},Ct=function(Ot,Gt,Kt){("arrayBuffer"===C.type?Ot.arrayBuffer():"json"===C.type?Ot.json():Ot.text()).then(function(Yt){Ze||(Gt&&Kt&&function Ge(C,z,K){if(We(),ge){var me={status:z.status,statusText:z.statusText,headers:new self.Headers};z.headers.forEach(function(Ve,Ze){return me.headers.set(Ze,Ve)});var Re=L(z.headers.get("Cache-Control")||"");Re["no-store"]||(Re["max-age"]&&me.headers.set("Expires",new Date(K+1e3*Re["max-age"]).toUTCString()),new Date(me.headers.get("Expires")).getTime()-K<Be||function(Ve,Ze){if(void 0===he)try{new Response(new ReadableStream),he=!0}catch{he=!1}he?Ze(Ve.body):Ve.blob().then(Ze)}(z,function(Ve){var Ze=new self.Response(Ve,me);We(),ge&&ge.then(function(st){return st.put(Ke(C.url),Ze)}).catch(function(st){return I(st.message)})}))}}(Re,Gt,Kt),Ve=!0,z(null,Yt,Ot.headers.get("Cache-Control"),Ot.headers.get("Expires")))}).catch(function(Yt){Ze||z(new Error(Yt.message))})};return st?function et(C,z){if(We(),!ge)return z(null);var K=Ke(C.url);ge.then(function(me){me.match(K).then(function(Re){var Ve=function(Ze){if(!Ze)return!1;var st=new Date(Ze.headers.get("Expires")||0),vt=L(Ze.headers.get("Cache-Control")||"");return st>Date.now()&&!vt["no-cache"]}(Re);me.delete(K),Ve&&me.put(K,Re.clone()),z(null,Re,Ve)}).catch(z)}).catch(z)}(Re,vt):vt(null,null),{cancel:function(){Ze=!0,Ve||me.abort()}}}var Ht,Lt,pt=function(C,z){if(!(/^file:/.test(K=C.url)||/^file:/.test(Et())&&!/^\w+:/.test(K))){if(self.fetch&&self.Request&&self.AbortController&&self.Request.prototype.hasOwnProperty("signal"))return ht(C,z);if(R()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",C,z,void 0,!0)}var K;return function(me,Re){var Ve=new self.XMLHttpRequest;for(var Ze in Ve.open(me.method||"GET",me.url,!0),"arrayBuffer"===me.type&&(Ve.responseType="arraybuffer"),me.headers)Ve.setRequestHeader(Ze,me.headers[Ze]);return"json"===me.type&&(Ve.responseType="text",Ve.setRequestHeader("Accept","application/json")),Ve.withCredentials="include"===me.credentials,Ve.onerror=function(){Re(new Error(Ve.statusText))},Ve.onload=function(){if((Ve.status>=200&&Ve.status<300||0===Ve.status)&&null!==Ve.response){var st=Ve.response;if("json"===me.type)try{st=JSON.parse(Ve.response)}catch(vt){return Re(vt)}Re(null,st,Ve.getResponseHeader("Cache-Control"),Ve.getResponseHeader("Expires"))}else Re(new Dt(Ve.statusText,Ve.status,me.url))},Ve.send(me.body),{cancel:function(){return Ve.abort()}}}(C,z)},Pt=function(C,z){return pt(h(C,{type:"arrayBuffer"}),z)},zt=function(C,z){return pt(h(C,{method:"POST"}),z)};Ht=[],Lt=0;var tt=function(C,z){if(Q.supported&&(C.headers||(C.headers={}),C.headers.accept="image/webp,*/*"),Lt>=ne.MAX_PARALLEL_IMAGE_REQUESTS){var K={requestParameters:C,callback:z,cancelled:!1,cancel:function(){this.cancelled=!0}};return Ht.push(K),K}Lt++;var me=!1,Re=function(){if(!me)for(me=!0,Lt--;Ht.length&&Lt<ne.MAX_PARALLEL_IMAGE_REQUESTS;){var Ze=Ht.shift();Ze.cancelled||(Ze.cancel=tt(Ze.requestParameters,Ze.callback).cancel)}},Ve=Pt(C,function(Ze,st,vt,Ct){var Gt,Kt;Re(),Ze?z(Ze):st&&(ct()?(Gt=z,Kt=new self.Blob([new Uint8Array(st)],{type:"image/png"}),self.createImageBitmap(Kt).then(function(Yt){Gt(null,Yt)}).catch(function(Yt){Gt(new Error("Could not load image because of "+Yt.message+". Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))})):function(Ot,Gt,Kt,Yt){var gn=new self.Image,_n=self.URL;gn.onload=function(){Gt(null,gn),_n.revokeObjectURL(gn.src)},gn.onerror=function(){return Gt(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))};var Fn=new self.Blob([new Uint8Array(Ot)],{type:"image/png"});gn.cacheControl=Kt,gn.expires=Yt,gn.src=Ot.byteLength?_n.createObjectURL(Fn):"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII="}(st,z,vt,Ct))});return{cancel:function(){Ve.cancel(),Re()}}};function it(C,z,K){K[C]&&-1!==K[C].indexOf(z)||(K[C]=K[C]||[],K[C].push(z))}function Je(C,z,K){if(K&&K[C]){var me=K[C].indexOf(z);-1!==me&&K[C].splice(me,1)}}var ot=function(C,z){void 0===z&&(z={}),h(this,z),this.type=C},gt=function(C){function z(K,me){void 0===me&&(me={}),C.call(this,"error",h({error:K},me))}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z}(ot),ft=function(){};ft.prototype.on=function(C,z){return this._listeners=this._listeners||{},it(C,z,this._listeners),this},ft.prototype.off=function(C,z){return Je(C,z,this._listeners),Je(C,z,this._oneTimeListeners),this},ft.prototype.once=function(C,z){return this._oneTimeListeners=this._oneTimeListeners||{},it(C,z,this._oneTimeListeners),this},ft.prototype.fire=function(C,z){"string"==typeof C&&(C=new ot(C,z||{}));var K=C.type;if(this.listens(K)){C.target=this;for(var me=0,Re=this._listeners&&this._listeners[K]?this._listeners[K].slice():[];me<Re.length;me+=1)Re[me].call(this,C);for(var Ve=0,Ze=this._oneTimeListeners&&this._oneTimeListeners[K]?this._oneTimeListeners[K].slice():[];Ve<Ze.length;Ve+=1){var st=Ze[Ve];Je(K,st,this._oneTimeListeners),st.call(this,C)}var vt=this._eventedParent;vt&&(h(C,"function"==typeof this._eventedParentData?this._eventedParentData():this._eventedParentData),vt.fire(C))}else C instanceof gt&&console.error(C.error);return this},ft.prototype.listens=function(C){return this._listeners&&this._listeners[C]&&this._listeners[C].length>0||this._oneTimeListeners&&this._oneTimeListeners[C]&&this._oneTimeListeners[C].length>0||this._eventedParent&&this._eventedParent.listens(C)},ft.prototype.setEventedParent=function(C,z){return this._eventedParent=C,this._eventedParentData=z,this};var Ue={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},expression_name:{type:"enum",values:{let:{group:"Variable binding"},var:{group:"Variable binding"},literal:{group:"Types"},array:{group:"Types"},at:{group:"Lookup"},in:{group:"Lookup"},"index-of":{group:"Lookup"},slice:{group:"Lookup"},case:{group:"Decision"},match:{group:"Decision"},coalesce:{group:"Decision"},step:{group:"Ramps, scales, curves"},interpolate:{group:"Ramps, scales, curves"},"interpolate-hcl":{group:"Ramps, scales, curves"},"interpolate-lab":{group:"Ramps, scales, curves"},ln2:{group:"Math"},pi:{group:"Math"},e:{group:"Math"},typeof:{group:"Types"},string:{group:"Types"},number:{group:"Types"},boolean:{group:"Types"},object:{group:"Types"},collator:{group:"Types"},format:{group:"Types"},image:{group:"Types"},"number-format":{group:"Types"},"to-string":{group:"Types"},"to-number":{group:"Types"},"to-boolean":{group:"Types"},"to-rgba":{group:"Color"},"to-color":{group:"Types"},rgb:{group:"Color"},rgba:{group:"Color"},get:{group:"Lookup"},has:{group:"Lookup"},length:{group:"Lookup"},properties:{group:"Feature data"},"feature-state":{group:"Feature data"},"geometry-type":{group:"Feature data"},id:{group:"Feature data"},zoom:{group:"Zoom"},"heatmap-density":{group:"Heatmap"},"line-progress":{group:"Feature data"},accumulated:{group:"Feature data"},"+":{group:"Math"},"*":{group:"Math"},"-":{group:"Math"},"/":{group:"Math"},"%":{group:"Math"},"^":{group:"Math"},sqrt:{group:"Math"},log10:{group:"Math"},ln:{group:"Math"},log2:{group:"Math"},sin:{group:"Math"},cos:{group:"Math"},tan:{group:"Math"},asin:{group:"Math"},acos:{group:"Math"},atan:{group:"Math"},min:{group:"Math"},max:{group:"Math"},round:{group:"Math"},abs:{group:"Math"},ceil:{group:"Math"},floor:{group:"Math"},distance:{group:"Math"},"==":{group:"Decision"},"!=":{group:"Decision"},">":{group:"Decision"},"<":{group:"Decision"},">=":{group:"Decision"},"<=":{group:"Decision"},all:{group:"Decision"},any:{group:"Decision"},"!":{group:"Decision"},within:{group:"Decision"},"is-supported-script":{group:"String"},upcase:{group:"String"},downcase:{group:"String"},concat:{group:"String"},"resolved-locale":{group:"String"}}},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}},$e=function(C,z,K,me){this.message=(C?C+": ":"")+K,me&&(this.identifier=me),null!=z&&z.__line__&&(this.line=z.__line__)};function dt(C){var K=C.value;return K?[new $e(C.key,K,"constants have been deprecated as of v8")]:[]}function ut(C){for(var z=[],K=arguments.length-1;K-- >0;)z[K]=arguments[K+1];for(var me=0,Re=z;me<Re.length;me+=1){var Ve=Re[me];for(var Ze in Ve)C[Ze]=Ve[Ze]}return C}function At(C){return C instanceof Number||C instanceof String||C instanceof Boolean?C.valueOf():C}function wt(C){if(Array.isArray(C))return C.map(wt);if(C instanceof Object&&!(C instanceof Number||C instanceof String||C instanceof Boolean)){var z={};for(var K in C)z[K]=wt(C[K]);return z}return At(C)}var St=function(C){function z(K,me){C.call(this,me),this.message=me,this.key=K}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z}(Error),_t=function(C,z){void 0===z&&(z=[]),this.parent=C,this.bindings={};for(var K=0,me=z;K<me.length;K+=1){var Re=me[K];this.bindings[Re[0]]=Re[1]}};_t.prototype.concat=function(C){return new _t(this,C)},_t.prototype.get=function(C){if(this.bindings[C])return this.bindings[C];if(this.parent)return this.parent.get(C);throw new Error(C+" not found in scope.")},_t.prototype.has=function(C){return!!this.bindings[C]||!!this.parent&&this.parent.has(C)};var Rt={kind:"null"},bt={kind:"number"},Tt={kind:"string"},It={kind:"boolean"},Wt={kind:"color"},$t={kind:"object"},Qt={kind:"value"},pn={kind:"collator"},en={kind:"formatted"},nn={kind:"resolvedImage"};function fn(C,z){return{kind:"array",itemType:C,N:z}}function On(C){if("array"===C.kind){var z=On(C.itemType);return"number"==typeof C.N?"array<"+z+", "+C.N+">":"value"===C.itemType.kind?"array":"array<"+z+">"}return C.kind}var Un=[Rt,bt,Tt,It,Wt,en,$t,fn(Qt),nn];function Sn(C,z){if("error"===z.kind)return null;if("array"===C.kind){if("array"===z.kind&&(0===z.N&&"value"===z.itemType.kind||!Sn(C.itemType,z.itemType))&&("number"!=typeof C.N||C.N===z.N))return null}else{if(C.kind===z.kind)return null;if("value"===C.kind)for(var K=0,me=Un;K<me.length;K+=1)if(!Sn(me[K],z))return null}return"Expected "+On(C)+" but found "+On(z)+" instead."}function on(C,z){return z.some(function(K){return K.kind===C.kind})}function vn(C,z){return z.some(function(K){return"null"===K?null===C:"array"===K?Array.isArray(C):"object"===K?C&&!Array.isArray(C)&&"object"==typeof C:K===typeof C})}var Tn=k(function(C,z){var K={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function me(vt){return(vt=Math.round(vt))<0?0:vt>255?255:vt}function Ve(vt){return me("%"===vt[vt.length-1]?parseFloat(vt)/100*255:parseInt(vt))}function Ze(vt){return function Re(vt){return vt<0?0:vt>1?1:vt}("%"===vt[vt.length-1]?parseFloat(vt)/100:parseFloat(vt))}function st(vt,Ct,Ot){return Ot<0?Ot+=1:Ot>1&&(Ot-=1),6*Ot<1?vt+(Ct-vt)*Ot*6:2*Ot<1?Ct:3*Ot<2?vt+(Ct-vt)*(2/3-Ot)*6:vt}try{z.parseCSSColor=function(vt){var Ct,Ot=vt.replace(/ /g,"").toLowerCase();if(Ot in K)return K[Ot].slice();if("#"===Ot[0])return 4===Ot.length?(Ct=parseInt(Ot.substr(1),16))>=0&&Ct<=4095?[(3840&Ct)>>4|(3840&Ct)>>8,240&Ct|(240&Ct)>>4,15&Ct|(15&Ct)<<4,1]:null:7===Ot.length&&(Ct=parseInt(Ot.substr(1),16))>=0&&Ct<=16777215?[(16711680&Ct)>>16,(65280&Ct)>>8,255&Ct,1]:null;var Gt=Ot.indexOf("("),Kt=Ot.indexOf(")");if(-1!==Gt&&Kt+1===Ot.length){var Yt=Ot.substr(0,Gt),gn=Ot.substr(Gt+1,Kt-(Gt+1)).split(","),_n=1;switch(Yt){case"rgba":if(4!==gn.length)return null;_n=Ze(gn.pop());case"rgb":return 3!==gn.length?null:[Ve(gn[0]),Ve(gn[1]),Ve(gn[2]),_n];case"hsla":if(4!==gn.length)return null;_n=Ze(gn.pop());case"hsl":if(3!==gn.length)return null;var Fn=(parseFloat(gn[0])%360+360)%360/360,zn=Ze(gn[1]),$n=Ze(gn[2]),Jn=$n<=.5?$n*(zn+1):$n+zn-$n*zn,fr=2*$n-Jn;return[me(255*st(fr,Jn,Fn+1/3)),me(255*st(fr,Jn,Fn)),me(255*st(fr,Jn,Fn-1/3)),_n];default:return null}}return null}}catch{}}).parseCSSColor,kn=function(C,z,K,me){void 0===me&&(me=1),this.r=C,this.g=z,this.b=K,this.a=me};kn.parse=function(C){if(C){if(C instanceof kn)return C;if("string"==typeof C){var z=Tn(C);if(z)return new kn(z[0]/255*z[3],z[1]/255*z[3],z[2]/255*z[3],z[3])}}},kn.prototype.toString=function(){var C=this.toArray(),K=C[1],me=C[2],Re=C[3];return"rgba("+Math.round(C[0])+","+Math.round(K)+","+Math.round(me)+","+Re+")"},kn.prototype.toArray=function(){var C=this,Re=C.a;return 0===Re?[0,0,0,0]:[255*C.r/Re,255*C.g/Re,255*C.b/Re,Re]},kn.black=new kn(0,0,0,1),kn.white=new kn(1,1,1,1),kn.transparent=new kn(0,0,0,0),kn.red=new kn(1,0,0,1);var xn=function(C,z,K){this.sensitivity=C?z?"variant":"case":z?"accent":"base",this.locale=K,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})};xn.prototype.compare=function(C,z){return this.collator.compare(C,z)},xn.prototype.resolvedLocale=function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale};var Rn=function(C,z,K,me,Re){this.text=C,this.image=z,this.scale=K,this.fontStack=me,this.textColor=Re},Hn=function(C){this.sections=C};Hn.fromString=function(C){return new Hn([new Rn(C,null,null,null,null)])},Hn.prototype.isEmpty=function(){return 0===this.sections.length||!this.sections.some(function(C){return 0!==C.text.length||C.image&&0!==C.image.name.length})},Hn.factory=function(C){return C instanceof Hn?C:Hn.fromString(C)},Hn.prototype.toString=function(){return 0===this.sections.length?"":this.sections.map(function(C){return C.text}).join("")},Hn.prototype.serialize=function(){for(var C=["format"],z=0,K=this.sections;z<K.length;z+=1){var me=K[z];if(me.image)C.push(["image",me.image.name]);else{C.push(me.text);var Re={};me.fontStack&&(Re["text-font"]=["literal",me.fontStack.split(",")]),me.scale&&(Re["font-scale"]=me.scale),me.textColor&&(Re["text-color"]=["rgba"].concat(me.textColor.toArray())),C.push(Re)}}return C};var En=function(C){this.name=C.name,this.available=C.available};function Wn(C,z,K,me){return"number"==typeof C&&C>=0&&C<=255&&"number"==typeof z&&z>=0&&z<=255&&"number"==typeof K&&K>=0&&K<=255?void 0===me||"number"==typeof me&&me>=0&&me<=1?null:"Invalid rgba value ["+[C,z,K,me].join(", ")+"]: 'a' must be between 0 and 1.":"Invalid rgba value ["+("number"==typeof me?[C,z,K,me]:[C,z,K]).join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}function gr(C){if(null===C||"string"==typeof C||"boolean"==typeof C||"number"==typeof C||C instanceof kn||C instanceof xn||C instanceof Hn||C instanceof En)return!0;if(Array.isArray(C)){for(var z=0,K=C;z<K.length;z+=1)if(!gr(K[z]))return!1;return!0}if("object"==typeof C){for(var me in C)if(!gr(C[me]))return!1;return!0}return!1}function lr(C){if(null===C)return Rt;if("string"==typeof C)return Tt;if("boolean"==typeof C)return It;if("number"==typeof C)return bt;if(C instanceof kn)return Wt;if(C instanceof xn)return pn;if(C instanceof Hn)return en;if(C instanceof En)return nn;if(Array.isArray(C)){for(var z,K=C.length,me=0,Re=C;me<Re.length;me+=1){var Ve=lr(Re[me]);if(z){if(z===Ve)continue;z=Qt;break}z=Ve}return fn(z||Qt,K)}return $t}function wr(C){var z=typeof C;return null===C?"":"string"===z||"number"===z||"boolean"===z?String(C):C instanceof kn||C instanceof Hn||C instanceof En?C.toString():JSON.stringify(C)}En.prototype.toString=function(){return this.name},En.fromString=function(C){return C?new En({name:C,available:!1}):null},En.prototype.serialize=function(){return["image",this.name]};var dr=function(C,z){this.type=C,this.value=z};dr.parse=function(C,z){if(2!==C.length)return z.error("'literal' expression requires exactly one argument, but found "+(C.length-1)+" instead.");if(!gr(C[1]))return z.error("invalid value");var K=C[1],me=lr(K),Re=z.expectedType;return"array"!==me.kind||0!==me.N||!Re||"array"!==Re.kind||"number"==typeof Re.N&&0!==Re.N||(me=Re),new dr(me,K)},dr.prototype.evaluate=function(){return this.value},dr.prototype.eachChild=function(){},dr.prototype.outputDefined=function(){return!0},dr.prototype.serialize=function(){return"array"===this.type.kind||"object"===this.type.kind?["literal",this.value]:this.value instanceof kn?["rgba"].concat(this.value.toArray()):this.value instanceof Hn?this.value.serialize():this.value};var mr=function(C){this.name="ExpressionEvaluationError",this.message=C};mr.prototype.toJSON=function(){return this.message};var Ir={string:Tt,number:bt,boolean:It,object:$t},qt=function(C,z){this.type=C,this.args=z};qt.parse=function(C,z){if(C.length<2)return z.error("Expected at least one argument.");var K,me=1,Re=C[0];if("array"===Re){var Ve,Ze;if(C.length>2){var st=C[1];if("string"!=typeof st||!(st in Ir)||"object"===st)return z.error('The item type argument of "array" must be one of string, number, boolean',1);Ve=Ir[st],me++}else Ve=Qt;if(C.length>3){if(null!==C[2]&&("number"!=typeof C[2]||C[2]<0||C[2]!==Math.floor(C[2])))return z.error('The length argument to "array" must be a positive integer literal',2);Ze=C[2],me++}K=fn(Ve,Ze)}else K=Ir[Re];for(var vt=[];me<C.length;me++){var Ct=z.parse(C[me],me,Qt);if(!Ct)return null;vt.push(Ct)}return new qt(K,vt)},qt.prototype.evaluate=function(C){for(var z=0;z<this.args.length;z++){var K=this.args[z].evaluate(C);if(!Sn(this.type,lr(K)))return K;if(z===this.args.length-1)throw new mr("Expected value to be of type "+On(this.type)+", but found "+On(lr(K))+" instead.")}return null},qt.prototype.eachChild=function(C){this.args.forEach(C)},qt.prototype.outputDefined=function(){return this.args.every(function(C){return C.outputDefined()})},qt.prototype.serialize=function(){var C=this.type,z=[C.kind];if("array"===C.kind){var K=C.itemType;if("string"===K.kind||"number"===K.kind||"boolean"===K.kind){z.push(K.kind);var me=C.N;("number"==typeof me||this.args.length>1)&&z.push(me)}}return z.concat(this.args.map(function(Re){return Re.serialize()}))};var tn=function(C){this.type=en,this.sections=C};tn.parse=function(C,z){if(C.length<2)return z.error("Expected at least one argument.");var K=C[1];if(!Array.isArray(K)&&"object"==typeof K)return z.error("First argument must be an image or text section.");for(var me=[],Re=!1,Ve=1;Ve<=C.length-1;++Ve){var Ze=C[Ve];if(Re&&"object"==typeof Ze&&!Array.isArray(Ze)){Re=!1;var st=null;if(Ze["font-scale"]&&!(st=z.parse(Ze["font-scale"],1,bt)))return null;var vt=null;if(Ze["text-font"]&&!(vt=z.parse(Ze["text-font"],1,fn(Tt))))return null;var Ct=null;if(Ze["text-color"]&&!(Ct=z.parse(Ze["text-color"],1,Wt)))return null;var Ot=me[me.length-1];Ot.scale=st,Ot.font=vt,Ot.textColor=Ct}else{var Gt=z.parse(C[Ve],1,Qt);if(!Gt)return null;var Kt=Gt.type.kind;if("string"!==Kt&&"value"!==Kt&&"null"!==Kt&&"resolvedImage"!==Kt)return z.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");Re=!0,me.push({content:Gt,scale:null,font:null,textColor:null})}}return new tn(me)},tn.prototype.evaluate=function(C){return new Hn(this.sections.map(function(z){var K=z.content.evaluate(C);return lr(K)===nn?new Rn("",K,null,null,null):new Rn(wr(K),null,z.scale?z.scale.evaluate(C):null,z.font?z.font.evaluate(C).join(","):null,z.textColor?z.textColor.evaluate(C):null)}))},tn.prototype.eachChild=function(C){for(var z=0,K=this.sections;z<K.length;z+=1){var me=K[z];C(me.content),me.scale&&C(me.scale),me.font&&C(me.font),me.textColor&&C(me.textColor)}},tn.prototype.outputDefined=function(){return!1},tn.prototype.serialize=function(){for(var C=["format"],z=0,K=this.sections;z<K.length;z+=1){var me=K[z];C.push(me.content.serialize());var Re={};me.scale&&(Re["font-scale"]=me.scale.serialize()),me.font&&(Re["text-font"]=me.font.serialize()),me.textColor&&(Re["text-color"]=me.textColor.serialize()),C.push(Re)}return C};var bn=function(C){this.type=nn,this.input=C};bn.parse=function(C,z){if(2!==C.length)return z.error("Expected two arguments.");var K=z.parse(C[1],1,Tt);return K?new bn(K):z.error("No image name provided.")},bn.prototype.evaluate=function(C){var z=this.input.evaluate(C),K=En.fromString(z);return K&&C.availableImages&&(K.available=C.availableImages.indexOf(z)>-1),K},bn.prototype.eachChild=function(C){C(this.input)},bn.prototype.outputDefined=function(){return!1},bn.prototype.serialize=function(){return["image",this.input.serialize()]};var Cn={"to-boolean":It,"to-color":Wt,"to-number":bt,"to-string":Tt},Bn=function(C,z){this.type=C,this.args=z};Bn.parse=function(C,z){if(C.length<2)return z.error("Expected at least one argument.");var K=C[0];if(("to-boolean"===K||"to-string"===K)&&2!==C.length)return z.error("Expected one argument.");for(var me=Cn[K],Re=[],Ve=1;Ve<C.length;Ve++){var Ze=z.parse(C[Ve],Ve,Qt);if(!Ze)return null;Re.push(Ze)}return new Bn(me,Re)},Bn.prototype.evaluate=function(C){if("boolean"===this.type.kind)return!!this.args[0].evaluate(C);if("color"===this.type.kind){for(var z,K,me=0,Re=this.args;me<Re.length;me+=1){if(K=null,(z=Re[me].evaluate(C))instanceof kn)return z;if("string"==typeof z){var Ve=C.parseColor(z);if(Ve)return Ve}else if(Array.isArray(z)&&!(K=z.length<3||z.length>4?"Invalid rbga value "+JSON.stringify(z)+": expected an array containing either three or four numeric values.":Wn(z[0],z[1],z[2],z[3])))return new kn(z[0]/255,z[1]/255,z[2]/255,z[3])}throw new mr(K||"Could not parse color from value '"+("string"==typeof z?z:String(JSON.stringify(z)))+"'")}if("number"===this.type.kind){for(var Ze=null,st=0,vt=this.args;st<vt.length;st+=1){if(null===(Ze=vt[st].evaluate(C)))return 0;var Ct=Number(Ze);if(!isNaN(Ct))return Ct}throw new mr("Could not convert "+JSON.stringify(Ze)+" to number.")}return"formatted"===this.type.kind?Hn.fromString(wr(this.args[0].evaluate(C))):"resolvedImage"===this.type.kind?En.fromString(wr(this.args[0].evaluate(C))):wr(this.args[0].evaluate(C))},Bn.prototype.eachChild=function(C){this.args.forEach(C)},Bn.prototype.outputDefined=function(){return this.args.every(function(C){return C.outputDefined()})},Bn.prototype.serialize=function(){if("formatted"===this.type.kind)return new tn([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if("resolvedImage"===this.type.kind)return new bn(this.args[0]).serialize();var C=["to-"+this.type.kind];return this.eachChild(function(z){C.push(z.serialize())}),C};var sr=["Unknown","Point","LineString","Polygon"],yn=function(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null};yn.prototype.id=function(){return this.feature&&"id"in this.feature?this.feature.id:null},yn.prototype.geometryType=function(){return this.feature?"number"==typeof this.feature.type?sr[this.feature.type]:this.feature.type:null},yn.prototype.geometry=function(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null},yn.prototype.canonicalID=function(){return this.canonical},yn.prototype.properties=function(){return this.feature&&this.feature.properties||{}},yn.prototype.parseColor=function(C){var z=this._parseColorCache[C];return z||(z=this._parseColorCache[C]=kn.parse(C)),z};var Zn=function(C,z,K,me){this.name=C,this.type=z,this._evaluate=K,this.args=me};Zn.prototype.evaluate=function(C){return this._evaluate(C,this.args)},Zn.prototype.eachChild=function(C){this.args.forEach(C)},Zn.prototype.outputDefined=function(){return!1},Zn.prototype.serialize=function(){return[this.name].concat(this.args.map(function(C){return C.serialize()}))},Zn.parse=function(C,z){var K,me=C[0],Re=Zn.definitions[me];if(!Re)return z.error('Unknown expression "'+me+'". If you wanted a literal array, use ["literal", [...]].',0);for(var Ve=Array.isArray(Re)?Re[0]:Re.type,Ze=Array.isArray(Re)?[[Re[1],Re[2]]]:Re.overloads,st=Ze.filter(function(gi){var Jr=gi[0];return!Array.isArray(Jr)||Jr.length===C.length-1}),vt=null,Ct=0,Ot=st;Ct<Ot.length;Ct+=1){var Gt=Ot[Ct],Kt=Gt[0],Yt=Gt[1];vt=new Mr(z.registry,z.path,null,z.scope);for(var gn=[],_n=!1,Fn=1;Fn<C.length;Fn++){var zn=C[Fn],$n=Array.isArray(Kt)?Kt[Fn-1]:Kt.type,Jn=vt.parse(zn,1+gn.length,$n);if(!Jn){_n=!0;break}gn.push(Jn)}if(!_n)if(Array.isArray(Kt)&&Kt.length!==gn.length)vt.error("Expected "+Kt.length+" arguments, but found "+gn.length+" instead.");else{for(var fr=0;fr<gn.length;fr++){var vr=Array.isArray(Kt)?Kt[fr]:Kt.type,xr=gn[fr];vt.concat(fr+1).checkSubtype(vr,xr.type)}if(0===vt.errors.length)return new Zn(me,Ve,Yt,gn)}}if(1===st.length)(K=z.errors).push.apply(K,vt.errors);else{for(var Pr=(st.length?st:Ze).map(function(gi){return Jr=gi[0],Array.isArray(Jr)?"("+Jr.map(On).join(", ")+")":"("+On(Jr.type)+"...)";var Jr}).join(" | "),kr=[],Vr=1;Vr<C.length;Vr++){var Zr=z.parse(C[Vr],1+kr.length);if(!Zr)return null;kr.push(On(Zr.type))}z.error("Expected arguments of type "+Pr+", but found ("+kr.join(", ")+") instead.")}return null},Zn.register=function(C,z){for(var K in Zn.definitions=z,z)C[K]=Zn};var Xn=function(C,z,K){this.type=pn,this.locale=K,this.caseSensitive=C,this.diacriticSensitive=z};Xn.parse=function(C,z){if(2!==C.length)return z.error("Expected one argument.");var K=C[1];if("object"!=typeof K||Array.isArray(K))return z.error("Collator options argument must be an object.");var me=z.parse(void 0!==K["case-sensitive"]&&K["case-sensitive"],1,It);if(!me)return null;var Re=z.parse(void 0!==K["diacritic-sensitive"]&&K["diacritic-sensitive"],1,It);if(!Re)return null;var Ve=null;return K.locale&&!(Ve=z.parse(K.locale,1,Tt))?null:new Xn(me,Re,Ve)},Xn.prototype.evaluate=function(C){return new xn(this.caseSensitive.evaluate(C),this.diacriticSensitive.evaluate(C),this.locale?this.locale.evaluate(C):null)},Xn.prototype.eachChild=function(C){C(this.caseSensitive),C(this.diacriticSensitive),this.locale&&C(this.locale)},Xn.prototype.outputDefined=function(){return!1},Xn.prototype.serialize=function(){var C={};return C["case-sensitive"]=this.caseSensitive.serialize(),C["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(C.locale=this.locale.serialize()),["collator",C]};var Jt=8192;function Nn(C,z){C[0]=Math.min(C[0],z[0]),C[1]=Math.min(C[1],z[1]),C[2]=Math.max(C[2],z[0]),C[3]=Math.max(C[3],z[1])}function Ft(C,z){return!(C[0]<=z[0]||C[2]>=z[2]||C[1]<=z[1]||C[3]>=z[3])}function an(C,z){var me=(180+C[0])/360,Re=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+C[1]*Math.PI/360)))/360,Ve=Math.pow(2,z.z);return[Math.round(me*Ve*Jt),Math.round(Re*Ve*Jt)]}function hn(C,z,K){return z[1]>C[1]!=K[1]>C[1]&&C[0]<(K[0]-z[0])*(C[1]-z[1])/(K[1]-z[1])+z[0]}function Dn(C,z){for(var K=!1,me=0,Re=z.length;me<Re;me++)for(var Ve=z[me],Ze=0,st=Ve.length;Ze<st-1;Ze++){if(void 0,void 0,void 0,void 0,(Gt=(vt=C)[0]-(Ct=Ve[Ze])[0])*(gn=vt[1]-(Ot=Ve[Ze+1])[1])-(Yt=vt[0]-Ot[0])*(Kt=vt[1]-Ct[1])==0&&Gt*Yt<=0&&Kt*gn<=0)return!1;hn(C,Ve[Ze],Ve[Ze+1])&&(K=!K)}var vt,Ct,Ot,Gt,Kt,Yt,gn;return K}function Ln(C,z){for(var K=0;K<z.length;K++)if(Dn(C,z[K]))return!0;return!1}function Vn(C,z,K,me){var vt=me[0]-K[0],Ct=me[1]-K[1],Ot=(C[0]-K[0])*Ct-vt*(C[1]-K[1]),Gt=(z[0]-K[0])*Ct-vt*(z[1]-K[1]);return Ot>0&&Gt<0||Ot<0&&Gt>0}function Mn(C,z,K){for(var me=0,Re=K;me<Re.length;me+=1)for(var Ve=Re[me],Ze=0;Ze<Ve.length-1;++Ze)if(void 0,void 0,(Gt=[(Ot=Ve[Ze+1])[0]-(Ct=Ve[Ze])[0],Ot[1]-Ct[1]])[0]*(Kt=[(vt=z)[0]-(st=C)[0],vt[1]-st[1]])[1]-Gt[1]*Kt[0]!=0&&Vn(st,vt,Ct,Ot)&&Vn(Ct,Ot,st,vt))return!0;var st,vt,Ct,Ot,Gt,Kt;return!1}function ln(C,z){for(var K=0;K<C.length;++K)if(!Dn(C[K],z))return!1;for(var me=0;me<C.length-1;++me)if(Mn(C[me],C[me+1],z))return!1;return!0}function cn(C,z){for(var K=0;K<z.length;K++)if(ln(C,z[K]))return!0;return!1}function wn(C,z,K){for(var me=[],Re=0;Re<C.length;Re++){for(var Ve=[],Ze=0;Ze<C[Re].length;Ze++){var st=an(C[Re][Ze],K);Nn(z,st),Ve.push(st)}me.push(Ve)}return me}function An(C,z,K){for(var me=[],Re=0;Re<C.length;Re++){var Ve=wn(C[Re],z,K);me.push(Ve)}return me}function Gn(C,z,K,me){if(C[0]<K[0]||C[0]>K[2]){var Re=.5*me,Ve=C[0]-K[0]>Re?-me:K[0]-C[0]>Re?me:0;0===Ve&&(Ve=C[0]-K[2]>Re?-me:K[2]-C[0]>Re?me:0),C[0]+=Ve}Nn(z,C)}function Yn(C,z,K,me){for(var Re=Math.pow(2,me.z)*Jt,Ve=[me.x*Jt,me.y*Jt],Ze=[],st=0,vt=C;st<vt.length;st+=1)for(var Ct=0,Ot=vt[st];Ct<Ot.length;Ct+=1){var Gt=Ot[Ct],Kt=[Gt.x+Ve[0],Gt.y+Ve[1]];Gn(Kt,z,K,Re),Ze.push(Kt)}return Ze}function hr(C,z,K,me){for(var Re=Math.pow(2,me.z)*Jt,Ve=[me.x*Jt,me.y*Jt],Ze=[],st=0,vt=C;st<vt.length;st+=1){for(var Ct=[],Ot=0,Gt=vt[st];Ot<Gt.length;Ot+=1){var Kt=Gt[Ot],Yt=[Kt.x+Ve[0],Kt.y+Ve[1]];Nn(z,Yt),Ct.push(Yt)}Ze.push(Ct)}if(z[2]-z[0]<=Re/2){($n=z)[0]=$n[1]=1/0,$n[2]=$n[3]=-1/0;for(var gn=0,_n=Ze;gn<_n.length;gn+=1)for(var Fn=0,zn=_n[gn];Fn<zn.length;Fn+=1)Gn(zn[Fn],z,K,Re)}var $n;return Ze}var ir=function(C,z){this.type=It,this.geojson=C,this.geometries=z};function _r(C){if(C instanceof Zn&&("get"===C.name&&1===C.args.length||"feature-state"===C.name||"has"===C.name&&1===C.args.length||"properties"===C.name||"geometry-type"===C.name||"id"===C.name||/^filter-/.test(C.name))||C instanceof ir)return!1;var z=!0;return C.eachChild(function(K){z&&!_r(K)&&(z=!1)}),z}function ur(C){if(C instanceof Zn&&"feature-state"===C.name)return!1;var z=!0;return C.eachChild(function(K){z&&!ur(K)&&(z=!1)}),z}function or(C,z){if(C instanceof Zn&&z.indexOf(C.name)>=0)return!1;var K=!0;return C.eachChild(function(me){K&&!or(me,z)&&(K=!1)}),K}ir.parse=function(C,z){if(2!==C.length)return z.error("'within' expression requires exactly one argument, but found "+(C.length-1)+" instead.");if(gr(C[1])){var K=C[1];if("FeatureCollection"===K.type)for(var me=0;me<K.features.length;++me){var Re=K.features[me].geometry.type;if("Polygon"===Re||"MultiPolygon"===Re)return new ir(K,K.features[me].geometry)}else if("Feature"===K.type){var Ve=K.geometry.type;if("Polygon"===Ve||"MultiPolygon"===Ve)return new ir(K,K.geometry)}else if("Polygon"===K.type||"MultiPolygon"===K.type)return new ir(K,K)}return z.error("'within' expression requires valid geojson object that contains polygon geometry type.")},ir.prototype.evaluate=function(C){if(null!=C.geometry()&&null!=C.canonicalID()){if("Point"===C.geometryType())return function(z,K){var me=[1/0,1/0,-1/0,-1/0],Re=[1/0,1/0,-1/0,-1/0],Ve=z.canonicalID();if("Polygon"===K.type){var Ze=wn(K.coordinates,Re,Ve),st=Yn(z.geometry(),me,Re,Ve);if(!Ft(me,Re))return!1;for(var vt=0,Ct=st;vt<Ct.length;vt+=1)if(!Dn(Ct[vt],Ze))return!1}if("MultiPolygon"===K.type){var Ot=An(K.coordinates,Re,Ve),Gt=Yn(z.geometry(),me,Re,Ve);if(!Ft(me,Re))return!1;for(var Kt=0,Yt=Gt;Kt<Yt.length;Kt+=1)if(!Ln(Yt[Kt],Ot))return!1}return!0}(C,this.geometries);if("LineString"===C.geometryType())return function(z,K){var me=[1/0,1/0,-1/0,-1/0],Re=[1/0,1/0,-1/0,-1/0],Ve=z.canonicalID();if("Polygon"===K.type){var Ze=wn(K.coordinates,Re,Ve),st=hr(z.geometry(),me,Re,Ve);if(!Ft(me,Re))return!1;for(var vt=0,Ct=st;vt<Ct.length;vt+=1)if(!ln(Ct[vt],Ze))return!1}if("MultiPolygon"===K.type){var Ot=An(K.coordinates,Re,Ve),Gt=hr(z.geometry(),me,Re,Ve);if(!Ft(me,Re))return!1;for(var Kt=0,Yt=Gt;Kt<Yt.length;Kt+=1)if(!cn(Yt[Kt],Ot))return!1}return!0}(C,this.geometries)}return!1},ir.prototype.eachChild=function(){},ir.prototype.outputDefined=function(){return!0},ir.prototype.serialize=function(){return["within",this.geojson]};var Tr=function(C,z){this.type=z.type,this.name=C,this.boundExpression=z};Tr.parse=function(C,z){if(2!==C.length||"string"!=typeof C[1])return z.error("'var' expression requires exactly one string literal argument.");var K=C[1];return z.scope.has(K)?new Tr(K,z.scope.get(K)):z.error('Unknown variable "'+K+'". Make sure "'+K+'" has been bound in an enclosing "let" expression before using it.',1)},Tr.prototype.evaluate=function(C){return this.boundExpression.evaluate(C)},Tr.prototype.eachChild=function(){},Tr.prototype.outputDefined=function(){return!1},Tr.prototype.serialize=function(){return["var",this.name]};var Mr=function(C,z,K,me,Re){void 0===z&&(z=[]),void 0===me&&(me=new _t),void 0===Re&&(Re=[]),this.registry=C,this.path=z,this.key=z.map(function(Ve){return"["+Ve+"]"}).join(""),this.scope=me,this.errors=Re,this.expectedType=K};function Or(C){if(C instanceof Tr)return Or(C.boundExpression);if(C instanceof Zn&&"error"===C.name||C instanceof Xn||C instanceof ir)return!1;var z=C instanceof Bn||C instanceof qt,K=!0;return C.eachChild(function(me){K=z?K&&Or(me):K&&me instanceof dr}),!!K&&_r(C)&&or(C,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}function Qn(C,z){for(var K,Re=C.length-1,Ve=0,Ze=Re,st=0;Ve<=Ze;)if((K=C[st=Math.floor((Ve+Ze)/2)])<=z){if(st===Re||z<C[st+1])return st;Ve=st+1}else{if(!(K>z))throw new mr("Input is not a number.");Ze=st-1}return 0}Mr.prototype.parse=function(C,z,K,me,Re){return void 0===Re&&(Re={}),z?this.concat(z,K,me)._parse(C,Re):this._parse(C,Re)},Mr.prototype._parse=function(C,z){function K(Ct,Ot,Gt){return"assert"===Gt?new qt(Ot,[Ct]):"coerce"===Gt?new Bn(Ot,[Ct]):Ct}if(null!==C&&"string"!=typeof C&&"boolean"!=typeof C&&"number"!=typeof C||(C=["literal",C]),Array.isArray(C)){if(0===C.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var me=C[0];if("string"!=typeof me)return this.error("Expression name must be a string, but found "+typeof me+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var Re=this.registry[me];if(Re){var Ve=Re.parse(C,this);if(!Ve)return null;if(this.expectedType){var Ze=this.expectedType,st=Ve.type;if("string"!==Ze.kind&&"number"!==Ze.kind&&"boolean"!==Ze.kind&&"object"!==Ze.kind&&"array"!==Ze.kind||"value"!==st.kind)if("color"!==Ze.kind&&"formatted"!==Ze.kind&&"resolvedImage"!==Ze.kind||"value"!==st.kind&&"string"!==st.kind){if(this.checkSubtype(Ze,st))return null}else Ve=K(Ve,Ze,z.typeAnnotation||"coerce");else Ve=K(Ve,Ze,z.typeAnnotation||"assert")}if(!(Ve instanceof dr)&&"resolvedImage"!==Ve.type.kind&&Or(Ve)){var vt=new yn;try{Ve=new dr(Ve.type,Ve.evaluate(vt))}catch(Ct){return this.error(Ct.message),null}}return Ve}return this.error('Unknown expression "'+me+'". If you wanted a literal array, use ["literal", [...]].',0)}return this.error(void 0===C?"'undefined' value invalid. Use null instead.":"object"==typeof C?'Bare objects invalid. Use ["literal", {...}] instead.':"Expected an array, but found "+typeof C+" instead.")},Mr.prototype.concat=function(C,z,K){var me="number"==typeof C?this.path.concat(C):this.path,Re=K?this.scope.concat(K):this.scope;return new Mr(this.registry,me,z||null,Re,this.errors)},Mr.prototype.error=function(C){for(var z=[],K=arguments.length-1;K-- >0;)z[K]=arguments[K+1];var me=""+this.key+z.map(function(Re){return"["+Re+"]"}).join("");this.errors.push(new St(me,C))},Mr.prototype.checkSubtype=function(C,z){var K=Sn(C,z);return K&&this.error(K),K};var Yr=function(C,z,K){this.type=C,this.input=z,this.labels=[],this.outputs=[];for(var me=0,Re=K;me<Re.length;me+=1){var Ve=Re[me],st=Ve[1];this.labels.push(Ve[0]),this.outputs.push(st)}};function nr(C,z,K){return C*(1-K)+z*K}Yr.parse=function(C,z){if(C.length-1<4)return z.error("Expected at least 4 arguments, but found only "+(C.length-1)+".");if((C.length-1)%2!=0)return z.error("Expected an even number of arguments.");var K=z.parse(C[1],1,bt);if(!K)return null;var me=[],Re=null;z.expectedType&&"value"!==z.expectedType.kind&&(Re=z.expectedType);for(var Ve=1;Ve<C.length;Ve+=2){var Ze=1===Ve?-1/0:C[Ve],st=C[Ve+1],vt=Ve,Ct=Ve+1;if("number"!=typeof Ze)return z.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',vt);if(me.length&&me[me.length-1][0]>=Ze)return z.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',vt);var Ot=z.parse(st,Ct,Re);if(!Ot)return null;Re=Re||Ot.type,me.push([Ze,Ot])}return new Yr(Re,K,me)},Yr.prototype.evaluate=function(C){var z=this.labels,K=this.outputs;if(1===z.length)return K[0].evaluate(C);var me=this.input.evaluate(C);if(me<=z[0])return K[0].evaluate(C);var Re=z.length;return me>=z[Re-1]?K[Re-1].evaluate(C):K[Qn(z,me)].evaluate(C)},Yr.prototype.eachChild=function(C){C(this.input);for(var z=0,K=this.outputs;z<K.length;z+=1)C(K[z])},Yr.prototype.outputDefined=function(){return this.outputs.every(function(C){return C.outputDefined()})},Yr.prototype.serialize=function(){for(var C=["step",this.input.serialize()],z=0;z<this.labels.length;z++)z>0&&C.push(this.labels[z]),C.push(this.outputs[z].serialize());return C};var Fr=Object.freeze({__proto__:null,number:nr,color:function(C,z,K){return new kn(nr(C.r,z.r,K),nr(C.g,z.g,K),nr(C.b,z.b,K),nr(C.a,z.a,K))},array:function(C,z,K){return C.map(function(me,Re){return nr(me,z[Re],K)})}}),to=4/29,oo=6/29,Qi=3*oo*oo,Io=oo*oo*oo,Ys=Math.PI/180,di=180/Math.PI;function Fs(C){return C>Io?Math.pow(C,.3333333333333333):C/Qi+to}function tc(C){return C>oo?C*C*C:Qi*(C-to)}function ca(C){return 255*(C<=.0031308?12.92*C:1.055*Math.pow(C,.4166666666666667)-.055)}function lu(C){return(C/=255)<=.04045?C/12.92:Math.pow((C+.055)/1.055,2.4)}function nf(C){var z=lu(C.r),K=lu(C.g),me=lu(C.b),Re=Fs((.4124564*z+.3575761*K+.1804375*me)/.95047),Ve=Fs((.2126729*z+.7151522*K+.072175*me)/1);return{l:116*Ve-16,a:500*(Re-Ve),b:200*(Ve-Fs((.0193339*z+.119192*K+.9503041*me)/1.08883)),alpha:C.a}}function ji(C){var z=(C.l+16)/116,K=isNaN(C.a)?z:z+C.a/500,me=isNaN(C.b)?z:z-C.b/200;return z=1*tc(z),K=.95047*tc(K),me=1.08883*tc(me),new kn(ca(3.2404542*K-1.5371385*z-.4985314*me),ca(-.969266*K+1.8760108*z+.041556*me),ca(.0556434*K-.2040259*z+1.0572252*me),C.alpha)}function Rf(C,z,K){var me=z-C;return C+K*(me>180||me<-180?me-360*Math.round(me/360):me)}var uu={forward:nf,reverse:ji,interpolate:function(C,z,K){return{l:nr(C.l,z.l,K),a:nr(C.a,z.a,K),b:nr(C.b,z.b,K),alpha:nr(C.alpha,z.alpha,K)}}},$r={forward:function(C){var z=nf(C),K=z.l,me=z.a,Re=z.b,Ve=Math.atan2(Re,me)*di;return{h:Ve<0?Ve+360:Ve,c:Math.sqrt(me*me+Re*Re),l:K,alpha:C.a}},reverse:function(C){var z=C.h*Ys,K=C.c;return ji({l:C.l,a:Math.cos(z)*K,b:Math.sin(z)*K,alpha:C.alpha})},interpolate:function(C,z,K){return{h:Rf(C.h,z.h,K),c:nr(C.c,z.c,K),l:nr(C.l,z.l,K),alpha:nr(C.alpha,z.alpha,K)}}},Cs=Object.freeze({__proto__:null,lab:uu,hcl:$r}),jo=function(C,z,K,me,Re){this.type=C,this.operator=z,this.interpolation=K,this.input=me,this.labels=[],this.outputs=[];for(var Ve=0,Ze=Re;Ve<Ze.length;Ve+=1){var st=Ze[Ve],Ct=st[1];this.labels.push(st[0]),this.outputs.push(Ct)}};function cu(C,z,K,me){var Re=me-K,Ve=C-K;return 0===Re?0:1===z?Ve/Re:(Math.pow(z,Ve)-1)/(Math.pow(z,Re)-1)}jo.interpolationFactor=function(C,z,K,me){var Re=0;if("exponential"===C.name)Re=cu(z,C.base,K,me);else if("linear"===C.name)Re=cu(z,1,K,me);else if("cubic-bezier"===C.name){var Ve=C.controlPoints;Re=new y(Ve[0],Ve[1],Ve[2],Ve[3]).solve(cu(z,1,K,me))}return Re},jo.parse=function(C,z){var K=C[0],me=C[1],Re=C[2],Ve=C.slice(3);if(!Array.isArray(me)||0===me.length)return z.error("Expected an interpolation type expression.",1);if("linear"===me[0])me={name:"linear"};else if("exponential"===me[0]){var Ze=me[1];if("number"!=typeof Ze)return z.error("Exponential interpolation requires a numeric base.",1,1);me={name:"exponential",base:Ze}}else{if("cubic-bezier"!==me[0])return z.error("Unknown interpolation type "+String(me[0]),1,0);var st=me.slice(1);if(4!==st.length||st.some(function(Fn){return"number"!=typeof Fn||Fn<0||Fn>1}))return z.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);me={name:"cubic-bezier",controlPoints:st}}if(C.length-1<4)return z.error("Expected at least 4 arguments, but found only "+(C.length-1)+".");if((C.length-1)%2!=0)return z.error("Expected an even number of arguments.");if(!(Re=z.parse(Re,2,bt)))return null;var vt=[],Ct=null;"interpolate-hcl"===K||"interpolate-lab"===K?Ct=Wt:z.expectedType&&"value"!==z.expectedType.kind&&(Ct=z.expectedType);for(var Ot=0;Ot<Ve.length;Ot+=2){var Gt=Ve[Ot],Kt=Ve[Ot+1],Yt=Ot+3,gn=Ot+4;if("number"!=typeof Gt)return z.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',Yt);if(vt.length&&vt[vt.length-1][0]>=Gt)return z.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',Yt);var _n=z.parse(Kt,gn,Ct);if(!_n)return null;Ct=Ct||_n.type,vt.push([Gt,_n])}return"number"===Ct.kind||"color"===Ct.kind||"array"===Ct.kind&&"number"===Ct.itemType.kind&&"number"==typeof Ct.N?new jo(Ct,K,me,Re,vt):z.error("Type "+On(Ct)+" is not interpolatable.")},jo.prototype.evaluate=function(C){var z=this.labels,K=this.outputs;if(1===z.length)return K[0].evaluate(C);var me=this.input.evaluate(C);if(me<=z[0])return K[0].evaluate(C);var Re=z.length;if(me>=z[Re-1])return K[Re-1].evaluate(C);var Ve=Qn(z,me),vt=jo.interpolationFactor(this.interpolation,me,z[Ve],z[Ve+1]),Ct=K[Ve].evaluate(C),Ot=K[Ve+1].evaluate(C);return"interpolate"===this.operator?Fr[this.type.kind.toLowerCase()](Ct,Ot,vt):"interpolate-hcl"===this.operator?$r.reverse($r.interpolate($r.forward(Ct),$r.forward(Ot),vt)):uu.reverse(uu.interpolate(uu.forward(Ct),uu.forward(Ot),vt))},jo.prototype.eachChild=function(C){C(this.input);for(var z=0,K=this.outputs;z<K.length;z+=1)C(K[z])},jo.prototype.outputDefined=function(){return this.outputs.every(function(C){return C.outputDefined()})},jo.prototype.serialize=function(){var C;C="linear"===this.interpolation.name?["linear"]:"exponential"===this.interpolation.name?1===this.interpolation.base?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);for(var z=[this.operator,C,this.input.serialize()],K=0;K<this.labels.length;K++)z.push(this.labels[K],this.outputs[K].serialize());return z};var Vi=function(C,z){this.type=C,this.args=z};Vi.parse=function(C,z){if(C.length<2)return z.error("Expectected at least one argument.");var K=null,me=z.expectedType;me&&"value"!==me.kind&&(K=me);for(var Re=[],Ve=0,Ze=C.slice(1);Ve<Ze.length;Ve+=1){var vt=z.parse(Ze[Ve],1+Re.length,K,void 0,{typeAnnotation:"omit"});if(!vt)return null;K=K||vt.type,Re.push(vt)}var Ct=me&&Re.some(function(Ot){return Sn(me,Ot.type)});return new Vi(Ct?Qt:K,Re)},Vi.prototype.evaluate=function(C){for(var z,K=null,me=0,Re=0,Ve=this.args;Re<Ve.length&&(me++,(K=Ve[Re].evaluate(C))&&K instanceof En&&!K.available&&(z||(z=K.name),K=null,me===this.args.length&&(K=z)),null===K);Re+=1);return K},Vi.prototype.eachChild=function(C){this.args.forEach(C)},Vi.prototype.outputDefined=function(){return this.args.every(function(C){return C.outputDefined()})},Vi.prototype.serialize=function(){var C=["coalesce"];return this.eachChild(function(z){C.push(z.serialize())}),C};var Zs=function(C,z){this.type=z.type,this.bindings=[].concat(C),this.result=z};Zs.prototype.evaluate=function(C){return this.result.evaluate(C)},Zs.prototype.eachChild=function(C){for(var z=0,K=this.bindings;z<K.length;z+=1)C(K[z][1]);C(this.result)},Zs.parse=function(C,z){if(C.length<4)return z.error("Expected at least 3 arguments, but found "+(C.length-1)+" instead.");for(var K=[],me=1;me<C.length-1;me+=2){var Re=C[me];if("string"!=typeof Re)return z.error("Expected string, but found "+typeof Re+" instead.",me);if(/[^a-zA-Z0-9_]/.test(Re))return z.error("Variable names must contain only alphanumeric characters or '_'.",me);var Ve=z.parse(C[me+1],me+1);if(!Ve)return null;K.push([Re,Ve])}var Ze=z.parse(C[C.length-1],C.length-1,z.expectedType,K);return Ze?new Zs(K,Ze):null},Zs.prototype.outputDefined=function(){return this.result.outputDefined()},Zs.prototype.serialize=function(){for(var C=["let"],z=0,K=this.bindings;z<K.length;z+=1){var me=K[z];C.push(me[0],me[1].serialize())}return C.push(this.result.serialize()),C};var Wa=function(C,z,K){this.type=C,this.index=z,this.input=K};Wa.parse=function(C,z){if(3!==C.length)return z.error("Expected 2 arguments, but found "+(C.length-1)+" instead.");var K=z.parse(C[1],1,bt),me=z.parse(C[2],2,fn(z.expectedType||Qt));return K&&me?new Wa(me.type.itemType,K,me):null},Wa.prototype.evaluate=function(C){var z=this.index.evaluate(C),K=this.input.evaluate(C);if(z<0)throw new mr("Array index out of bounds: "+z+" < 0.");if(z>=K.length)throw new mr("Array index out of bounds: "+z+" > "+(K.length-1)+".");if(z!==Math.floor(z))throw new mr("Array index must be an integer, but found "+z+" instead.");return K[z]},Wa.prototype.eachChild=function(C){C(this.index),C(this.input)},Wa.prototype.outputDefined=function(){return!1},Wa.prototype.serialize=function(){return["at",this.index.serialize(),this.input.serialize()]};var El=function(C,z){this.type=It,this.needle=C,this.haystack=z};El.parse=function(C,z){if(3!==C.length)return z.error("Expected 2 arguments, but found "+(C.length-1)+" instead.");var K=z.parse(C[1],1,Qt),me=z.parse(C[2],2,Qt);return K&&me?on(K.type,[It,Tt,bt,Rt,Qt])?new El(K,me):z.error("Expected first argument to be of type boolean, string, number or null, but found "+On(K.type)+" instead"):null},El.prototype.evaluate=function(C){var z=this.needle.evaluate(C),K=this.haystack.evaluate(C);if(!K)return!1;if(!vn(z,["boolean","string","number","null"]))throw new mr("Expected first argument to be of type boolean, string, number or null, but found "+On(lr(z))+" instead.");if(!vn(K,["string","array"]))throw new mr("Expected second argument to be of type array or string, but found "+On(lr(K))+" instead.");return K.indexOf(z)>=0},El.prototype.eachChild=function(C){C(this.needle),C(this.haystack)},El.prototype.outputDefined=function(){return!0},El.prototype.serialize=function(){return["in",this.needle.serialize(),this.haystack.serialize()]};var Xs=function(C,z,K){this.type=bt,this.needle=C,this.haystack=z,this.fromIndex=K};Xs.parse=function(C,z){if(C.length<=2||C.length>=5)return z.error("Expected 3 or 4 arguments, but found "+(C.length-1)+" instead.");var K=z.parse(C[1],1,Qt),me=z.parse(C[2],2,Qt);if(!K||!me)return null;if(!on(K.type,[It,Tt,bt,Rt,Qt]))return z.error("Expected first argument to be of type boolean, string, number or null, but found "+On(K.type)+" instead");if(4===C.length){var Re=z.parse(C[3],3,bt);return Re?new Xs(K,me,Re):null}return new Xs(K,me)},Xs.prototype.evaluate=function(C){var z=this.needle.evaluate(C),K=this.haystack.evaluate(C);if(!vn(z,["boolean","string","number","null"]))throw new mr("Expected first argument to be of type boolean, string, number or null, but found "+On(lr(z))+" instead.");if(!vn(K,["string","array"]))throw new mr("Expected second argument to be of type array or string, but found "+On(lr(K))+" instead.");if(this.fromIndex){var me=this.fromIndex.evaluate(C);return K.indexOf(z,me)}return K.indexOf(z)},Xs.prototype.eachChild=function(C){C(this.needle),C(this.haystack),this.fromIndex&&C(this.fromIndex)},Xs.prototype.outputDefined=function(){return!1},Xs.prototype.serialize=function(){if(null!=this.fromIndex&&void 0!==this.fromIndex){var C=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),C]}return["index-of",this.needle.serialize(),this.haystack.serialize()]};var Wl=function(C,z,K,me,Re,Ve){this.inputType=C,this.type=z,this.input=K,this.cases=me,this.outputs=Re,this.otherwise=Ve};Wl.parse=function(C,z){if(C.length<5)return z.error("Expected at least 4 arguments, but found only "+(C.length-1)+".");if(C.length%2!=1)return z.error("Expected an even number of arguments.");var K,me;z.expectedType&&"value"!==z.expectedType.kind&&(me=z.expectedType);for(var Re={},Ve=[],Ze=2;Ze<C.length-1;Ze+=2){var st=C[Ze],vt=C[Ze+1];Array.isArray(st)||(st=[st]);var Ct=z.concat(Ze);if(0===st.length)return Ct.error("Expected at least one branch label.");for(var Ot=0,Gt=st;Ot<Gt.length;Ot+=1){var Kt=Gt[Ot];if("number"!=typeof Kt&&"string"!=typeof Kt)return Ct.error("Branch labels must be numbers or strings.");if("number"==typeof Kt&&Math.abs(Kt)>Number.MAX_SAFE_INTEGER)return Ct.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if("number"==typeof Kt&&Math.floor(Kt)!==Kt)return Ct.error("Numeric branch labels must be integer values.");if(K){if(Ct.checkSubtype(K,lr(Kt)))return null}else K=lr(Kt);if(void 0!==Re[String(Kt)])return Ct.error("Branch labels must be unique.");Re[String(Kt)]=Ve.length}var Yt=z.parse(vt,Ze,me);if(!Yt)return null;me=me||Yt.type,Ve.push(Yt)}var gn=z.parse(C[1],1,Qt);if(!gn)return null;var _n=z.parse(C[C.length-1],C.length-1,me);return _n?"value"!==gn.type.kind&&z.concat(1).checkSubtype(K,gn.type)?null:new Wl(K,me,gn,Re,Ve,_n):null},Wl.prototype.evaluate=function(C){var z=this.input.evaluate(C);return(lr(z)===this.inputType&&this.outputs[this.cases[z]]||this.otherwise).evaluate(C)},Wl.prototype.eachChild=function(C){C(this.input),this.outputs.forEach(C),C(this.otherwise)},Wl.prototype.outputDefined=function(){return this.outputs.every(function(C){return C.outputDefined()})&&this.otherwise.outputDefined()},Wl.prototype.serialize=function(){for(var C=this,z=["match",this.input.serialize()],K=[],me={},Re=0,Ve=Object.keys(this.cases).sort();Re<Ve.length;Re+=1){var Ze=Ve[Re];void 0===(Gt=me[this.cases[Ze]])?(me[this.cases[Ze]]=K.length,K.push([this.cases[Ze],[Ze]])):K[Gt][1].push(Ze)}for(var st=function(Yt){return"number"===C.inputType.kind?Number(Yt):Yt},vt=0,Ct=K;vt<Ct.length;vt+=1){var Ot=Ct[vt],Gt=Ot[0],Kt=Ot[1];z.push(1===Kt.length?st(Kt[0]):Kt.map(st)),z.push(this.outputs[outputIndex$1].serialize())}return z.push(this.otherwise.serialize()),z};var Cl=function(C,z,K){this.type=C,this.branches=z,this.otherwise=K};Cl.parse=function(C,z){if(C.length<4)return z.error("Expected at least 3 arguments, but found only "+(C.length-1)+".");if(C.length%2!=0)return z.error("Expected an odd number of arguments.");var K;z.expectedType&&"value"!==z.expectedType.kind&&(K=z.expectedType);for(var me=[],Re=1;Re<C.length-1;Re+=2){var Ve=z.parse(C[Re],Re,It);if(!Ve)return null;var Ze=z.parse(C[Re+1],Re+1,K);if(!Ze)return null;me.push([Ve,Ze]),K=K||Ze.type}var st=z.parse(C[C.length-1],C.length-1,K);return st?new Cl(K,me,st):null},Cl.prototype.evaluate=function(C){for(var z=0,K=this.branches;z<K.length;z+=1){var me=K[z],Ve=me[1];if(me[0].evaluate(C))return Ve.evaluate(C)}return this.otherwise.evaluate(C)},Cl.prototype.eachChild=function(C){for(var z=0,K=this.branches;z<K.length;z+=1){var me=K[z],Ve=me[1];C(me[0]),C(Ve)}C(this.otherwise)},Cl.prototype.outputDefined=function(){return this.branches.every(function(C){return C[1].outputDefined()})&&this.otherwise.outputDefined()},Cl.prototype.serialize=function(){var C=["case"];return this.eachChild(function(z){C.push(z.serialize())}),C};var Dl=function(C,z,K,me){this.type=C,this.input=z,this.beginIndex=K,this.endIndex=me};function Il(C,z){return"=="===C||"!="===C?"boolean"===z.kind||"string"===z.kind||"number"===z.kind||"null"===z.kind||"value"===z.kind:"string"===z.kind||"number"===z.kind||"value"===z.kind}function nc(C,z,K,me){return 0===me.compare(z,K)}function zs(C,z,K){var me="=="!==C&&"!="!==C;return function(){function Re(Ve,Ze,st){this.type=It,this.lhs=Ve,this.rhs=Ze,this.collator=st,this.hasUntypedArgument="value"===Ve.type.kind||"value"===Ze.type.kind}return Re.parse=function(Ve,Ze){if(3!==Ve.length&&4!==Ve.length)return Ze.error("Expected two or three arguments.");var st=Ve[0],vt=Ze.parse(Ve[1],1,Qt);if(!vt)return null;if(!Il(st,vt.type))return Ze.concat(1).error('"'+st+"\" comparisons are not supported for type '"+On(vt.type)+"'.");var Ct=Ze.parse(Ve[2],2,Qt);if(!Ct)return null;if(!Il(st,Ct.type))return Ze.concat(2).error('"'+st+"\" comparisons are not supported for type '"+On(Ct.type)+"'.");if(vt.type.kind!==Ct.type.kind&&"value"!==vt.type.kind&&"value"!==Ct.type.kind)return Ze.error("Cannot compare types '"+On(vt.type)+"' and '"+On(Ct.type)+"'.");me&&("value"===vt.type.kind&&"value"!==Ct.type.kind?vt=new qt(Ct.type,[vt]):"value"!==vt.type.kind&&"value"===Ct.type.kind&&(Ct=new qt(vt.type,[Ct])));var Ot=null;if(4===Ve.length){if("string"!==vt.type.kind&&"string"!==Ct.type.kind&&"value"!==vt.type.kind&&"value"!==Ct.type.kind)return Ze.error("Cannot use collator to compare non-string types.");if(!(Ot=Ze.parse(Ve[3],3,pn)))return null}return new Re(vt,Ct,Ot)},Re.prototype.evaluate=function(Ve){var Ze=this.lhs.evaluate(Ve),st=this.rhs.evaluate(Ve);if(me&&this.hasUntypedArgument){var vt=lr(Ze),Ct=lr(st);if(vt.kind!==Ct.kind||"string"!==vt.kind&&"number"!==vt.kind)throw new mr('Expected arguments for "'+C+'" to be (string, string) or (number, number), but found ('+vt.kind+", "+Ct.kind+") instead.")}if(this.collator&&!me&&this.hasUntypedArgument){var Ot=lr(Ze),Gt=lr(st);if("string"!==Ot.kind||"string"!==Gt.kind)return z(Ve,Ze,st)}return this.collator?K(Ve,Ze,st,this.collator.evaluate(Ve)):z(Ve,Ze,st)},Re.prototype.eachChild=function(Ve){Ve(this.lhs),Ve(this.rhs),this.collator&&Ve(this.collator)},Re.prototype.outputDefined=function(){return!0},Re.prototype.serialize=function(){var Ve=[C];return this.eachChild(function(Ze){Ve.push(Ze.serialize())}),Ve},Re}()}Dl.parse=function(C,z){if(C.length<=2||C.length>=5)return z.error("Expected 3 or 4 arguments, but found "+(C.length-1)+" instead.");var K=z.parse(C[1],1,Qt),me=z.parse(C[2],2,bt);if(!K||!me)return null;if(!on(K.type,[fn(Qt),Tt,Qt]))return z.error("Expected first argument to be of type array or string, but found "+On(K.type)+" instead");if(4===C.length){var Re=z.parse(C[3],3,bt);return Re?new Dl(K.type,K,me,Re):null}return new Dl(K.type,K,me)},Dl.prototype.evaluate=function(C){var z=this.input.evaluate(C),K=this.beginIndex.evaluate(C);if(!vn(z,["string","array"]))throw new mr("Expected first argument to be of type array or string, but found "+On(lr(z))+" instead.");if(this.endIndex){var me=this.endIndex.evaluate(C);return z.slice(K,me)}return z.slice(K)},Dl.prototype.eachChild=function(C){C(this.input),C(this.beginIndex),this.endIndex&&C(this.endIndex)},Dl.prototype.outputDefined=function(){return!1},Dl.prototype.serialize=function(){if(null!=this.endIndex&&void 0!==this.endIndex){var C=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),C]}return["slice",this.input.serialize(),this.beginIndex.serialize()]};var rf=zs("==",function(C,z,K){return z===K},nc),Mc=zs("!=",function(C,z,K){return z!==K},function(C,z,K,me){return!nc(0,z,K,me)}),af=zs("<",function(C,z,K){return z<K},function(C,z,K,me){return me.compare(z,K)<0}),rc=zs(">",function(C,z,K){return z>K},function(C,z,K,me){return me.compare(z,K)>0}),$l=zs("<=",function(C,z,K){return z<=K},function(C,z,K,me){return me.compare(z,K)<=0}),fu=zs(">=",function(C,z,K){return z>=K},function(C,z,K,me){return me.compare(z,K)>=0}),$a=function(C,z,K,me,Re){this.type=Tt,this.number=C,this.locale=z,this.currency=K,this.minFractionDigits=me,this.maxFractionDigits=Re};$a.parse=function(C,z){if(3!==C.length)return z.error("Expected two arguments.");var K=z.parse(C[1],1,bt);if(!K)return null;var me=C[2];if("object"!=typeof me||Array.isArray(me))return z.error("NumberFormat options argument must be an object.");var Re=null;if(me.locale&&!(Re=z.parse(me.locale,1,Tt)))return null;var Ve=null;if(me.currency&&!(Ve=z.parse(me.currency,1,Tt)))return null;var Ze=null;if(me["min-fraction-digits"]&&!(Ze=z.parse(me["min-fraction-digits"],1,bt)))return null;var st=null;return me["max-fraction-digits"]&&!(st=z.parse(me["max-fraction-digits"],1,bt))?null:new $a(K,Re,Ve,Ze,st)},$a.prototype.evaluate=function(C){return new Intl.NumberFormat(this.locale?this.locale.evaluate(C):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(C):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(C):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(C):void 0}).format(this.number.evaluate(C))},$a.prototype.eachChild=function(C){C(this.number),this.locale&&C(this.locale),this.currency&&C(this.currency),this.minFractionDigits&&C(this.minFractionDigits),this.maxFractionDigits&&C(this.maxFractionDigits)},$a.prototype.outputDefined=function(){return!1},$a.prototype.serialize=function(){var C={};return this.locale&&(C.locale=this.locale.serialize()),this.currency&&(C.currency=this.currency.serialize()),this.minFractionDigits&&(C["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(C["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),C]};var Yl=function(C){this.type=bt,this.input=C};Yl.parse=function(C,z){if(2!==C.length)return z.error("Expected 1 argument, but found "+(C.length-1)+" instead.");var K=z.parse(C[1],1);return K?"array"!==K.type.kind&&"string"!==K.type.kind&&"value"!==K.type.kind?z.error("Expected argument of type string or array, but found "+On(K.type)+" instead."):new Yl(K):null},Yl.prototype.evaluate=function(C){var z=this.input.evaluate(C);if("string"==typeof z||Array.isArray(z))return z.length;throw new mr("Expected value to be of type string or array, but found "+On(lr(z))+" instead.")},Yl.prototype.eachChild=function(C){C(this.input)},Yl.prototype.outputDefined=function(){return!1},Yl.prototype.serialize=function(){var C=["length"];return this.eachChild(function(z){C.push(z.serialize())}),C};var Hr={"==":rf,"!=":Mc,">":rc,"<":af,">=":fu,"<=":$l,array:qt,at:Wa,boolean:qt,case:Cl,coalesce:Vi,collator:Xn,format:tn,image:bn,in:El,"index-of":Xs,interpolate:jo,"interpolate-hcl":jo,"interpolate-lab":jo,length:Yl,let:Zs,literal:dr,match:Wl,number:qt,"number-format":$a,object:qt,slice:Dl,step:Yr,string:qt,"to-boolean":Bn,"to-color":Bn,"to-number":Bn,"to-string":Bn,var:Tr,within:ir};function Ru(C,z){var K=z[0],me=z[1],Re=z[2],Ve=z[3];K=K.evaluate(C),me=me.evaluate(C),Re=Re.evaluate(C);var Ze=Ve?Ve.evaluate(C):1,st=Wn(K,me,Re,Ze);if(st)throw new mr(st);return new kn(K/255*Ze,me/255*Ze,Re/255*Ze,Ze)}function Br(C,z){return C in z}function du(C,z){var K=z[C];return void 0===K?null:K}function is(C){return{type:C}}function Bs(C){return{result:"success",value:C}}function Js(C){return{result:"error",value:C}}function cl(C){return"data-driven"===C["property-type"]||"cross-faded-data-driven"===C["property-type"]}function sf(C){return!!C.expression&&C.expression.parameters.indexOf("zoom")>-1}function Fa(C){return!!C.expression&&C.expression.interpolated}function Yi(C){return C instanceof Number?"number":C instanceof String?"string":C instanceof Boolean?"boolean":Array.isArray(C)?"array":null===C?"null":typeof C}function Qo(C){return"object"==typeof C&&null!==C&&!Array.isArray(C)}function os(C){return C}function Mi(C,z){var K,me,Re,Ve="color"===z.type,Ze=C.stops&&"object"==typeof C.stops[0][0],vt=Ze||!(Ze||void 0!==C.property),Ct=C.type||(Fa(z)?"exponential":"interval");if(Ve&&((C=ut({},C)).stops&&(C.stops=C.stops.map(function(kr){return[kr[0],kn.parse(kr[1])]})),C.default=kn.parse(C.default?C.default:z.default)),C.colorSpace&&"rgb"!==C.colorSpace&&!Cs[C.colorSpace])throw new Error("Unknown color space: "+C.colorSpace);if("exponential"===Ct)K=Sc;else if("interval"===Ct)K=hu;else if("categorical"===Ct){K=Ac,me=Object.create(null);for(var Ot=0,Gt=C.stops;Ot<Gt.length;Ot+=1){var Kt=Gt[Ot];me[Kt[0]]=Kt[1]}Re=typeof C.stops[0][0]}else{if("identity"!==Ct)throw new Error('Unknown function type "'+Ct+'"');K=Qs}if(Ze){for(var Yt={},gn=[],_n=0;_n<C.stops.length;_n++){var Fn=C.stops[_n],zn=Fn[0].zoom;void 0===Yt[zn]&&(Yt[zn]={zoom:zn,type:C.type,property:C.property,default:C.default,stops:[]},gn.push(zn)),Yt[zn].stops.push([Fn[0].value,Fn[1]])}for(var $n=[],Jn=0,fr=gn;Jn<fr.length;Jn+=1){var vr=fr[Jn];$n.push([Yt[vr].zoom,Mi(Yt[vr],z)])}var xr={name:"linear"};return{kind:"composite",interpolationType:xr,interpolationFactor:jo.interpolationFactor.bind(void 0,xr),zoomStops:$n.map(function(kr){return kr[0]}),evaluate:function(kr,Vr){var Zr=kr.zoom;return Sc({stops:$n,base:C.base},z,Zr).evaluate(Zr,Vr)}}}if(vt){var Pr="exponential"===Ct?{name:"exponential",base:void 0!==C.base?C.base:1}:null;return{kind:"camera",interpolationType:Pr,interpolationFactor:jo.interpolationFactor.bind(void 0,Pr),zoomStops:C.stops.map(function(kr){return kr[0]}),evaluate:function(kr){return K(C,z,kr.zoom,me,Re)}}}return{kind:"source",evaluate:function(kr,Vr){var Zr=Vr&&Vr.properties?Vr.properties[C.property]:void 0;return void 0===Zr?Ks(C.default,z.default):K(C,z,Zr,me,Re)}}}function Ks(C,z,K){return void 0!==C?C:void 0!==z?z:void 0!==K?K:void 0}function Ac(C,z,K,me,Re){return Ks(typeof K===Re?me[K]:void 0,C.default,z.default)}function hu(C,z,K){if("number"!==Yi(K))return Ks(C.default,z.default);var me=C.stops.length;if(1===me||K<=C.stops[0][0])return C.stops[0][1];if(K>=C.stops[me-1][0])return C.stops[me-1][1];var Re=Qn(C.stops.map(function(Ve){return Ve[0]}),K);return C.stops[Re][1]}function Sc(C,z,K){var me=void 0!==C.base?C.base:1;if("number"!==Yi(K))return Ks(C.default,z.default);var Re=C.stops.length;if(1===Re||K<=C.stops[0][0])return C.stops[0][1];if(K>=C.stops[Re-1][0])return C.stops[Re-1][1];var Kt,Yt,_n,Fn,Ve=Qn(C.stops.map(function(Gt){return Gt[0]}),K),Ze=(Kt=me,Fn=K-(Yt=C.stops[Ve][0]),0==(_n=C.stops[Ve+1][0]-Yt)?0:1===Kt?Fn/_n:(Math.pow(Kt,Fn)-1)/(Math.pow(Kt,_n)-1)),st=C.stops[Ve][1],vt=C.stops[Ve+1][1],Ct=Fr[z.type]||os;if(C.colorSpace&&"rgb"!==C.colorSpace){var Ot=Cs[C.colorSpace];Ct=function(Gt,Kt){return Ot.reverse(Ot.interpolate(Ot.forward(Gt),Ot.forward(Kt),Ze))}}return"function"==typeof st.evaluate?{evaluate:function(){for(var Gt=[],Kt=arguments.length;Kt--;)Gt[Kt]=arguments[Kt];var Yt=st.evaluate.apply(void 0,Gt),gn=vt.evaluate.apply(void 0,Gt);if(void 0!==Yt&&void 0!==gn)return Ct(Yt,gn,Ze)}}:Ct(st,vt,Ze)}function Qs(C,z,K){return"color"===z.type?K=kn.parse(K):"formatted"===z.type?K=Hn.fromString(K.toString()):"resolvedImage"===z.type?K=En.fromString(K.toString()):Yi(K)===z.type||"enum"===z.type&&z.values[K]||(K=void 0),Ks(K,C.default,z.default)}Zn.register(Hr,{error:[{kind:"error"},[Tt],function(C,z){throw new mr(z[0].evaluate(C))}],typeof:[Tt,[Qt],function(C,z){return On(lr(z[0].evaluate(C)))}],"to-rgba":[fn(bt,4),[Wt],function(C,z){return z[0].evaluate(C).toArray()}],rgb:[Wt,[bt,bt,bt],Ru],rgba:[Wt,[bt,bt,bt,bt],Ru],has:{type:It,overloads:[[[Tt],function(C,z){return Br(z[0].evaluate(C),C.properties())}],[[Tt,$t],function(C,z){var me=z[1];return Br(z[0].evaluate(C),me.evaluate(C))}]]},get:{type:Qt,overloads:[[[Tt],function(C,z){return du(z[0].evaluate(C),C.properties())}],[[Tt,$t],function(C,z){var me=z[1];return du(z[0].evaluate(C),me.evaluate(C))}]]},"feature-state":[Qt,[Tt],function(C,z){return du(z[0].evaluate(C),C.featureState||{})}],properties:[$t,[],function(C){return C.properties()}],"geometry-type":[Tt,[],function(C){return C.geometryType()}],id:[Qt,[],function(C){return C.id()}],zoom:[bt,[],function(C){return C.globals.zoom}],"heatmap-density":[bt,[],function(C){return C.globals.heatmapDensity||0}],"line-progress":[bt,[],function(C){return C.globals.lineProgress||0}],accumulated:[Qt,[],function(C){return void 0===C.globals.accumulated?null:C.globals.accumulated}],"+":[bt,is(bt),function(C,z){for(var K=0,me=0,Re=z;me<Re.length;me+=1)K+=Re[me].evaluate(C);return K}],"*":[bt,is(bt),function(C,z){for(var K=1,me=0,Re=z;me<Re.length;me+=1)K*=Re[me].evaluate(C);return K}],"-":{type:bt,overloads:[[[bt,bt],function(C,z){var me=z[1];return z[0].evaluate(C)-me.evaluate(C)}],[[bt],function(C,z){return-z[0].evaluate(C)}]]},"/":[bt,[bt,bt],function(C,z){var me=z[1];return z[0].evaluate(C)/me.evaluate(C)}],"%":[bt,[bt,bt],function(C,z){var me=z[1];return z[0].evaluate(C)%me.evaluate(C)}],ln2:[bt,[],function(){return Math.LN2}],pi:[bt,[],function(){return Math.PI}],e:[bt,[],function(){return Math.E}],"^":[bt,[bt,bt],function(C,z){var me=z[1];return Math.pow(z[0].evaluate(C),me.evaluate(C))}],sqrt:[bt,[bt],function(C,z){return Math.sqrt(z[0].evaluate(C))}],log10:[bt,[bt],function(C,z){return Math.log(z[0].evaluate(C))/Math.LN10}],ln:[bt,[bt],function(C,z){return Math.log(z[0].evaluate(C))}],log2:[bt,[bt],function(C,z){return Math.log(z[0].evaluate(C))/Math.LN2}],sin:[bt,[bt],function(C,z){return Math.sin(z[0].evaluate(C))}],cos:[bt,[bt],function(C,z){return Math.cos(z[0].evaluate(C))}],tan:[bt,[bt],function(C,z){return Math.tan(z[0].evaluate(C))}],asin:[bt,[bt],function(C,z){return Math.asin(z[0].evaluate(C))}],acos:[bt,[bt],function(C,z){return Math.acos(z[0].evaluate(C))}],atan:[bt,[bt],function(C,z){return Math.atan(z[0].evaluate(C))}],min:[bt,is(bt),function(C,z){return Math.min.apply(Math,z.map(function(K){return K.evaluate(C)}))}],max:[bt,is(bt),function(C,z){return Math.max.apply(Math,z.map(function(K){return K.evaluate(C)}))}],abs:[bt,[bt],function(C,z){return Math.abs(z[0].evaluate(C))}],round:[bt,[bt],function(C,z){var K=z[0].evaluate(C);return K<0?-Math.round(-K):Math.round(K)}],floor:[bt,[bt],function(C,z){return Math.floor(z[0].evaluate(C))}],ceil:[bt,[bt],function(C,z){return Math.ceil(z[0].evaluate(C))}],"filter-==":[It,[Tt,Qt],function(C,z){var K=z[0],me=z[1];return C.properties()[K.value]===me.value}],"filter-id-==":[It,[Qt],function(C,z){var K=z[0];return C.id()===K.value}],"filter-type-==":[It,[Tt],function(C,z){var K=z[0];return C.geometryType()===K.value}],"filter-<":[It,[Tt,Qt],function(C,z){var K=z[0],me=z[1],Re=C.properties()[K.value],Ve=me.value;return typeof Re==typeof Ve&&Re<Ve}],"filter-id-<":[It,[Qt],function(C,z){var K=z[0],me=C.id(),Re=K.value;return typeof me==typeof Re&&me<Re}],"filter->":[It,[Tt,Qt],function(C,z){var K=z[0],me=z[1],Re=C.properties()[K.value],Ve=me.value;return typeof Re==typeof Ve&&Re>Ve}],"filter-id->":[It,[Qt],function(C,z){var K=z[0],me=C.id(),Re=K.value;return typeof me==typeof Re&&me>Re}],"filter-<=":[It,[Tt,Qt],function(C,z){var K=z[0],me=z[1],Re=C.properties()[K.value],Ve=me.value;return typeof Re==typeof Ve&&Re<=Ve}],"filter-id-<=":[It,[Qt],function(C,z){var K=z[0],me=C.id(),Re=K.value;return typeof me==typeof Re&&me<=Re}],"filter->=":[It,[Tt,Qt],function(C,z){var K=z[0],me=z[1],Re=C.properties()[K.value],Ve=me.value;return typeof Re==typeof Ve&&Re>=Ve}],"filter-id->=":[It,[Qt],function(C,z){var K=z[0],me=C.id(),Re=K.value;return typeof me==typeof Re&&me>=Re}],"filter-has":[It,[Qt],function(C,z){return z[0].value in C.properties()}],"filter-has-id":[It,[],function(C){return null!==C.id()&&void 0!==C.id()}],"filter-type-in":[It,[fn(Tt)],function(C,z){return z[0].value.indexOf(C.geometryType())>=0}],"filter-id-in":[It,[fn(Qt)],function(C,z){return z[0].value.indexOf(C.id())>=0}],"filter-in-small":[It,[Tt,fn(Qt)],function(C,z){var K=z[0];return z[1].value.indexOf(C.properties()[K.value])>=0}],"filter-in-large":[It,[Tt,fn(Qt)],function(C,z){var K=z[0],me=z[1];return function(Re,Ve,Ze,st){for(;Ze<=st;){var vt=Ze+st>>1;if(Ve[vt]===Re)return!0;Ve[vt]>Re?st=vt-1:Ze=vt+1}return!1}(C.properties()[K.value],me.value,0,me.value.length-1)}],all:{type:It,overloads:[[[It,It],function(C,z){var me=z[1];return z[0].evaluate(C)&&me.evaluate(C)}],[is(It),function(C,z){for(var K=0,me=z;K<me.length;K+=1)if(!me[K].evaluate(C))return!1;return!0}]]},any:{type:It,overloads:[[[It,It],function(C,z){var me=z[1];return z[0].evaluate(C)||me.evaluate(C)}],[is(It),function(C,z){for(var K=0,me=z;K<me.length;K+=1)if(me[K].evaluate(C))return!0;return!1}]]},"!":[It,[It],function(C,z){return!z[0].evaluate(C)}],"is-supported-script":[It,[Tt],function(C,z){var me=C.globals&&C.globals.isSupportedScript;return!me||me(z[0].evaluate(C))}],upcase:[Tt,[Tt],function(C,z){return z[0].evaluate(C).toUpperCase()}],downcase:[Tt,[Tt],function(C,z){return z[0].evaluate(C).toLowerCase()}],concat:[Tt,is(Qt),function(C,z){return z.map(function(K){return wr(K.evaluate(C))}).join("")}],"resolved-locale":[Tt,[pn],function(C,z){return z[0].evaluate(C).resolvedLocale()}]});var fl=function(C,z){var K;this.expression=C,this._warningHistory={},this._evaluator=new yn,this._defaultValue=z?"color"===(K=z).type&&Qo(K.default)?new kn(0,0,0,0):"color"===K.type?kn.parse(K.default)||null:void 0===K.default?null:K.default:null,this._enumValues=z&&"enum"===z.type?z.values:null};function Zl(C){return Array.isArray(C)&&C.length>0&&"string"==typeof C[0]&&C[0]in Hr}function pu(C,z){var Re,Ve,K=new Mr(Hr,[],z?(Ve={color:Wt,string:Tt,number:bt,enum:Tt,boolean:It,formatted:en,resolvedImage:nn},"array"===(Re=z).type?fn(Ve[Re.value]||Qt,Re.length):Ve[Re.type]):void 0),me=K.parse(C,void 0,void 0,void 0,z&&"string"===z.type?{typeAnnotation:"coerce"}:void 0);return me?Bs(new fl(me,z)):Js(K.errors)}fl.prototype.evaluateWithoutErrorHandling=function(C,z,K,me,Re,Ve){return this._evaluator.globals=C,this._evaluator.feature=z,this._evaluator.featureState=K,this._evaluator.canonical=me,this._evaluator.availableImages=Re||null,this._evaluator.formattedSection=Ve,this.expression.evaluate(this._evaluator)},fl.prototype.evaluate=function(C,z,K,me,Re,Ve){this._evaluator.globals=C,this._evaluator.feature=z||null,this._evaluator.featureState=K||null,this._evaluator.canonical=me,this._evaluator.availableImages=Re||null,this._evaluator.formattedSection=Ve||null;try{var Ze=this.expression.evaluate(this._evaluator);if(null==Ze||"number"==typeof Ze&&Ze!=Ze)return this._defaultValue;if(this._enumValues&&!(Ze in this._enumValues))throw new mr("Expected value to be one of "+Object.keys(this._enumValues).map(function(st){return JSON.stringify(st)}).join(", ")+", but found "+JSON.stringify(Ze)+" instead.");return Ze}catch(st){return this._warningHistory[st.message]||(this._warningHistory[st.message]=!0,typeof console<"u"&&console.warn(st.message)),this._defaultValue}};var el=function(C,z){this.kind=C,this._styleExpression=z,this.isStateDependent="constant"!==C&&!ur(z.expression)};el.prototype.evaluateWithoutErrorHandling=function(C,z,K,me,Re,Ve){return this._styleExpression.evaluateWithoutErrorHandling(C,z,K,me,Re,Ve)},el.prototype.evaluate=function(C,z,K,me,Re,Ve){return this._styleExpression.evaluate(C,z,K,me,Re,Ve)};var tl=function(C,z,K,me){this.kind=C,this.zoomStops=K,this._styleExpression=z,this.isStateDependent="camera"!==C&&!ur(z.expression),this.interpolationType=me};function dl(C,z){if("error"===(C=pu(C,z)).result)return C;var K=C.value.expression,me=_r(K);if(!me&&!cl(z))return Js([new St("","data expressions not supported")]);var Re=or(K,["zoom"]);if(!Re&&!sf(z))return Js([new St("","zoom expressions not supported")]);var Ve=Lu(K);return Ve||Re?Ve instanceof St?Js([Ve]):Ve instanceof jo&&!Fa(z)?Js([new St("",'"interpolate" expressions cannot be used with this property')]):Bs(Ve?new tl(me?"camera":"composite",C.value,Ve.labels,Ve instanceof jo?Ve.interpolation:void 0):new el(me?"constant":"source",C.value)):Js([new St("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}tl.prototype.evaluateWithoutErrorHandling=function(C,z,K,me,Re,Ve){return this._styleExpression.evaluateWithoutErrorHandling(C,z,K,me,Re,Ve)},tl.prototype.evaluate=function(C,z,K,me,Re,Ve){return this._styleExpression.evaluate(C,z,K,me,Re,Ve)},tl.prototype.interpolationFactor=function(C,z,K){return this.interpolationType?jo.interpolationFactor(this.interpolationType,C,z,K):0};var xs=function(C,z){this._parameters=C,this._specification=z,ut(this,Mi(this._parameters,this._specification))};function Lu(C){var z=null;if(C instanceof Zs)z=Lu(C.result);else if(C instanceof Vi)for(var K=0,me=C.args;K<me.length&&!(z=Lu(me[K]));K+=1);else(C instanceof Yr||C instanceof jo)&&C.input instanceof Zn&&"zoom"===C.input.name&&(z=C);return z instanceof St||C.eachChild(function(Ve){var Ze=Lu(Ve);Ze instanceof St?z=Ze:!z&&Ze?z=new St("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):z&&Ze&&z!==Ze&&(z=new St("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),z}function Ds(C){var z=C.key,K=C.value,me=C.valueSpec||{},Re=C.objectElementValidators||{},Ve=C.style,Ze=C.styleSpec,st=[],vt=Yi(K);if("object"!==vt)return[new $e(z,K,"object expected, "+vt+" found")];for(var Ct in K){var Ot=Ct.split(".")[0],Gt=me[Ot]||me["*"],Kt=void 0;if(Re[Ot])Kt=Re[Ot];else if(me[Ot])Kt=Di;else if(Re["*"])Kt=Re["*"];else{if(!me["*"]){st.push(new $e(z,K[Ct],'unknown property "'+Ct+'"'));continue}Kt=Di}st=st.concat(Kt({key:(z&&z+".")+Ct,value:K[Ct],valueSpec:Gt,style:Ve,styleSpec:Ze,object:K,objectKey:Ct},K))}for(var Yt in me)Re[Yt]||me[Yt].required&&void 0===me[Yt].default&&void 0===K[Yt]&&st.push(new $e(z,K,'missing required property "'+Yt+'"'));return st}function lf(C){var z=C.value,K=C.valueSpec,me=C.style,Re=C.styleSpec,Ve=C.key,Ze=C.arrayElementValidator||Di;if("array"!==Yi(z))return[new $e(Ve,z,"array expected, "+Yi(z)+" found")];if(K.length&&z.length!==K.length)return[new $e(Ve,z,"array length "+K.length+" expected, length "+z.length+" found")];if(K["min-length"]&&z.length<K["min-length"])return[new $e(Ve,z,"array length at least "+K["min-length"]+" expected, length "+z.length+" found")];var st={type:K.value,values:K.values};Re.$version<7&&(st.function=K.function),"object"===Yi(K.value)&&(st=K.value);for(var vt=[],Ct=0;Ct<z.length;Ct++)vt=vt.concat(Ze({array:z,arrayIndex:Ct,value:z[Ct],valueSpec:st,style:me,styleSpec:Re,key:Ve+"["+Ct+"]"}));return vt}function kc(C){var z=C.key,K=C.value,me=C.valueSpec,Re=Yi(K);return"number"===Re&&K!=K&&(Re="NaN"),"number"!==Re?[new $e(z,K,"number expected, "+Re+" found")]:"minimum"in me&&K<me.minimum?[new $e(z,K,K+" is less than the minimum value "+me.minimum)]:"maximum"in me&&K>me.maximum?[new $e(z,K,K+" is greater than the maximum value "+me.maximum)]:[]}function ic(C){var z,K,me,Re=C.valueSpec,Ve=At(C.value.type),Ze={},st="categorical"!==Ve&&void 0===C.value.property,vt=!st,Ct="array"===Yi(C.value.stops)&&"array"===Yi(C.value.stops[0])&&"object"===Yi(C.value.stops[0][0]),Ot=Ds({key:C.key,value:C.value,valueSpec:C.styleSpec.function,style:C.style,styleSpec:C.styleSpec,objectElementValidators:{stops:function(Yt){if("identity"===Ve)return[new $e(Yt.key,Yt.value,'identity function may not have a "stops" property')];var gn=[],_n=Yt.value;return gn=gn.concat(lf({key:Yt.key,value:_n,valueSpec:Yt.valueSpec,style:Yt.style,styleSpec:Yt.styleSpec,arrayElementValidator:Gt})),"array"===Yi(_n)&&0===_n.length&&gn.push(new $e(Yt.key,_n,"array must have at least one stop")),gn},default:function(Yt){return Di({key:Yt.key,value:Yt.value,valueSpec:Re,style:Yt.style,styleSpec:Yt.styleSpec})}}});return"identity"===Ve&&st&&Ot.push(new $e(C.key,C.value,'missing required property "property"')),"identity"===Ve||C.value.stops||Ot.push(new $e(C.key,C.value,'missing required property "stops"')),"exponential"===Ve&&C.valueSpec.expression&&!Fa(C.valueSpec)&&Ot.push(new $e(C.key,C.value,"exponential functions not supported")),C.styleSpec.$version>=8&&(vt&&!cl(C.valueSpec)?Ot.push(new $e(C.key,C.value,"property functions not supported")):st&&!sf(C.valueSpec)&&Ot.push(new $e(C.key,C.value,"zoom functions not supported"))),"categorical"!==Ve&&!Ct||void 0!==C.value.property||Ot.push(new $e(C.key,C.value,'"property" property is required')),Ot;function Gt(Yt){var gn=[],_n=Yt.value,Fn=Yt.key;if("array"!==Yi(_n))return[new $e(Fn,_n,"array expected, "+Yi(_n)+" found")];if(2!==_n.length)return[new $e(Fn,_n,"array length 2 expected, length "+_n.length+" found")];if(Ct){if("object"!==Yi(_n[0]))return[new $e(Fn,_n,"object expected, "+Yi(_n[0])+" found")];if(void 0===_n[0].zoom)return[new $e(Fn,_n,"object stop key must have zoom")];if(void 0===_n[0].value)return[new $e(Fn,_n,"object stop key must have value")];if(me&&me>At(_n[0].zoom))return[new $e(Fn,_n[0].zoom,"stop zoom values must appear in ascending order")];At(_n[0].zoom)!==me&&(me=At(_n[0].zoom),K=void 0,Ze={}),gn=gn.concat(Ds({key:Fn+"[0]",value:_n[0],valueSpec:{zoom:{}},style:Yt.style,styleSpec:Yt.styleSpec,objectElementValidators:{zoom:kc,value:Kt}}))}else gn=gn.concat(Kt({key:Fn+"[0]",value:_n[0],valueSpec:{},style:Yt.style,styleSpec:Yt.styleSpec},_n));return Zl(wt(_n[1]))?gn.concat([new $e(Fn+"[1]",_n[1],"expressions are not allowed in function stops.")]):gn.concat(Di({key:Fn+"[1]",value:_n[1],valueSpec:Re,style:Yt.style,styleSpec:Yt.styleSpec}))}function Kt(Yt,gn){var _n=Yi(Yt.value),Fn=At(Yt.value),zn=null!==Yt.value?Yt.value:gn;if(z){if(_n!==z)return[new $e(Yt.key,zn,_n+" stop domain type must match previous stop domain type "+z)]}else z=_n;if("number"!==_n&&"string"!==_n&&"boolean"!==_n)return[new $e(Yt.key,zn,"stop domain value must be a number, string, or boolean")];if("number"!==_n&&"categorical"!==Ve){var $n="number expected, "+_n+" found";return cl(Re)&&void 0===Ve&&($n+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new $e(Yt.key,zn,$n)]}return"categorical"!==Ve||"number"!==_n||isFinite(Fn)&&Math.floor(Fn)===Fn?"categorical"!==Ve&&"number"===_n&&void 0!==K&&Fn<K?[new $e(Yt.key,zn,"stop domain values must appear in ascending order")]:(K=Fn,"categorical"===Ve&&Fn in Ze?[new $e(Yt.key,zn,"stop domain values must be unique")]:(Ze[Fn]=!0,[])):[new $e(Yt.key,zn,"integer expected, found "+Fn)]}}function Ol(C){var z=("property"===C.expressionContext?dl:pu)(wt(C.value),C.valueSpec);if("error"===z.result)return z.value.map(function(me){return new $e(""+C.key+me.key,C.value,me.message)});var K=z.value.expression||z.value._styleExpression.expression;if("property"===C.expressionContext&&"text-font"===C.propertyKey&&!K.outputDefined())return[new $e(C.key,C.value,'Invalid data expression for "'+C.propertyKey+'". Output values must be contained as literals within the expression.')];if("property"===C.expressionContext&&"layout"===C.propertyType&&!ur(K))return[new $e(C.key,C.value,'"feature-state" data expressions are not supported with layout properties.')];if("filter"===C.expressionContext&&!ur(K))return[new $e(C.key,C.value,'"feature-state" data expressions are not supported with filters.')];if(C.expressionContext&&0===C.expressionContext.indexOf("cluster")){if(!or(K,["zoom","feature-state"]))return[new $e(C.key,C.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if("cluster-initial"===C.expressionContext&&!_r(K))return[new $e(C.key,C.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function as(C){var z=C.key,K=C.value,me=C.valueSpec,Re=[];return Array.isArray(me.values)?-1===me.values.indexOf(At(K))&&Re.push(new $e(z,K,"expected one of ["+me.values.join(", ")+"], "+JSON.stringify(K)+" found")):-1===Object.keys(me.values).indexOf(At(K))&&Re.push(new $e(z,K,"expected one of ["+Object.keys(me.values).join(", ")+"], "+JSON.stringify(K)+" found")),Re}function Xl(C){if(!0===C||!1===C)return!0;if(!Array.isArray(C)||0===C.length)return!1;switch(C[0]){case"has":return C.length>=2&&"$id"!==C[1]&&"$type"!==C[1];case"in":return C.length>=3&&("string"!=typeof C[1]||Array.isArray(C[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3!==C.length||Array.isArray(C[1])||Array.isArray(C[2]);case"any":case"all":for(var z=0,K=C.slice(1);z<K.length;z+=1){var me=K[z];if(!Xl(me)&&"boolean"!=typeof me)return!1}return!0;default:return!0}}xs.deserialize=function(C){return new xs(C._parameters,C._specification)},xs.serialize=function(C){return{_parameters:C._parameters,_specification:C._specification}};var oc={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function gu(C){if(null==C)return{filter:function(){return!0},needGeometry:!1};Xl(C)||(C=mu(C));var z=pu(C,oc);if("error"===z.result)throw new Error(z.value.map(function(K){return K.key+": "+K.message}).join(", "));return{filter:function(K,me,Re){return z.value.evaluate(K,me,{},Re)},needGeometry:Nu(C)}}function Jl(C,z){return C<z?-1:C>z?1:0}function Nu(C){if(!Array.isArray(C))return!1;if("within"===C[0])return!0;for(var z=1;z<C.length;z++)if(Nu(C[z]))return!0;return!1}function mu(C){if(!C)return!0;var z,K=C[0];return C.length<=1?"any"!==K:"=="===K?no(C[1],C[2],"=="):"!="===K?pa(no(C[1],C[2],"==")):"<"===K||">"===K||"<="===K||">="===K?no(C[1],C[2],K):"any"===K?(z=C.slice(1),["any"].concat(z.map(mu))):"all"===K?["all"].concat(C.slice(1).map(mu)):"none"===K?["all"].concat(C.slice(1).map(mu).map(pa)):"in"===K?Pl(C[1],C.slice(2)):"!in"===K?pa(Pl(C[1],C.slice(2))):"has"===K?hl(C[1]):"!has"===K?pa(hl(C[1])):"within"!==K||C}function no(C,z,K){switch(C){case"$type":return["filter-type-"+K,z];case"$id":return["filter-id-"+K,z];default:return["filter-"+K,C,z]}}function Pl(C,z){if(0===z.length)return!1;switch(C){case"$type":return["filter-type-in",["literal",z]];case"$id":return["filter-id-in",["literal",z]];default:return z.length>200&&!z.some(function(K){return typeof K!=typeof z[0]})?["filter-in-large",C,["literal",z.sort(Jl)]]:["filter-in-small",C,["literal",z]]}}function hl(C){switch(C){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",C]}}function pa(C){return["!",C]}function hi(C){return Xl(wt(C.value))?Ol(ut({},C,{expressionContext:"filter",valueSpec:{value:"boolean"}})):Zi(C)}function Zi(C){var z=C.value,K=C.key;if("array"!==Yi(z))return[new $e(K,z,"array expected, "+Yi(z)+" found")];var me,Re=C.styleSpec,Ve=[];if(z.length<1)return[new $e(K,z,"filter array must have at least 1 element")];switch(Ve=Ve.concat(as({key:K+"[0]",value:z[0],valueSpec:Re.filter_operator,style:C.style,styleSpec:C.styleSpec})),At(z[0])){case"<":case"<=":case">":case">=":z.length>=2&&"$type"===At(z[1])&&Ve.push(new $e(K,z,'"$type" cannot be use with operator "'+z[0]+'"'));case"==":case"!=":3!==z.length&&Ve.push(new $e(K,z,'filter array for operator "'+z[0]+'" must have 3 elements'));case"in":case"!in":z.length>=2&&"string"!==(me=Yi(z[1]))&&Ve.push(new $e(K+"[1]",z[1],"string expected, "+me+" found"));for(var Ze=2;Ze<z.length;Ze++)me=Yi(z[Ze]),"$type"===At(z[1])?Ve=Ve.concat(as({key:K+"["+Ze+"]",value:z[Ze],valueSpec:Re.geometry_type,style:C.style,styleSpec:C.styleSpec})):"string"!==me&&"number"!==me&&"boolean"!==me&&Ve.push(new $e(K+"["+Ze+"]",z[Ze],"string, number, or boolean expected, "+me+" found"));break;case"any":case"all":case"none":for(var st=1;st<z.length;st++)Ve=Ve.concat(Zi({key:K+"["+st+"]",value:z[st],style:C.style,styleSpec:C.styleSpec}));break;case"has":case"!has":me=Yi(z[1]),2!==z.length?Ve.push(new $e(K,z,'filter array for "'+z[0]+'" operator must have 2 elements')):"string"!==me&&Ve.push(new $e(K+"[1]",z[1],"string expected, "+me+" found"));break;case"within":me=Yi(z[1]),2!==z.length?Ve.push(new $e(K,z,'filter array for "'+z[0]+'" operator must have 2 elements')):"object"!==me&&Ve.push(new $e(K+"[1]",z[1],"object expected, "+me+" found"))}return Ve}function Rl(C,z){var K=C.key,me=C.style,Re=C.styleSpec,Ve=C.value,Ze=C.objectKey,st=Re[z+"_"+C.layerType];if(!st)return[];var vt=Ze.match(/^(.*)-transition$/);if("paint"===z&&vt&&st[vt[1]]&&st[vt[1]].transition)return Di({key:K,value:Ve,valueSpec:Re.transition,style:me,styleSpec:Re});var Ct,Ot=C.valueSpec||st[Ze];if(!Ot)return[new $e(K,Ve,'unknown property "'+Ze+'"')];if("string"===Yi(Ve)&&cl(Ot)&&!Ot.tokens&&(Ct=/^{([^}]+)}$/.exec(Ve)))return[new $e(K,Ve,'"'+Ze+'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": '+JSON.stringify(Ct[1])+" }`.")];var Gt=[];return"symbol"===C.layerType&&("text-field"===Ze&&me&&!me.glyphs&&Gt.push(new $e(K,Ve,'use of "text-field" requires a style "glyphs" property')),"text-font"===Ze&&Qo(wt(Ve))&&"identity"===At(Ve.type)&&Gt.push(new $e(K,Ve,'"text-font" does not support identity functions'))),Gt.concat(Di({key:C.key,value:Ve,valueSpec:Ot,style:me,styleSpec:Re,expressionContext:"property",propertyType:z,propertyKey:Ze}))}function pl(C){return Rl(C,"paint")}function Xi(C){return Rl(C,"layout")}function Fu(C){var z=[],K=C.value,me=C.key,Re=C.style,Ve=C.styleSpec;K.type||K.ref||z.push(new $e(me,K,'either "type" or "ref" is required'));var Ze,st=At(K.type),vt=At(K.ref);if(K.id)for(var Ct=At(K.id),Ot=0;Ot<C.arrayIndex;Ot++){var Gt=Re.layers[Ot];At(Gt.id)===Ct&&z.push(new $e(me,K.id,'duplicate layer id "'+K.id+'", previously used at line '+Gt.id.__line__))}if("ref"in K)["type","source","source-layer","filter","layout"].forEach(function(gn){gn in K&&z.push(new $e(me,K[gn],'"'+gn+'" is prohibited for ref layers'))}),Re.layers.forEach(function(gn){At(gn.id)===vt&&(Ze=gn)}),Ze?Ze.ref?z.push(new $e(me,K.ref,"ref cannot reference another ref layer")):st=At(Ze.type):z.push(new $e(me,K.ref,'ref layer "'+vt+'" not found'));else if("background"!==st)if(K.source){var Kt=Re.sources&&Re.sources[K.source],Yt=Kt&&At(Kt.type);Kt?"vector"===Yt&&"raster"===st?z.push(new $e(me,K.source,'layer "'+K.id+'" requires a raster source')):"raster"===Yt&&"raster"!==st?z.push(new $e(me,K.source,'layer "'+K.id+'" requires a vector source')):"vector"!==Yt||K["source-layer"]?"raster-dem"===Yt&&"hillshade"!==st?z.push(new $e(me,K.source,"raster-dem source can only be used with layer type 'hillshade'.")):"line"!==st||!K.paint||!K.paint["line-gradient"]||"geojson"===Yt&&Kt.lineMetrics||z.push(new $e(me,K,'layer "'+K.id+'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.')):z.push(new $e(me,K,'layer "'+K.id+'" must specify a "source-layer"')):z.push(new $e(me,K.source,'source "'+K.source+'" not found'))}else z.push(new $e(me,K,'missing required property "source"'));return z=z.concat(Ds({key:me,value:K,valueSpec:Ve.layer,style:C.style,styleSpec:C.styleSpec,objectElementValidators:{"*":function(){return[]},type:function(){return Di({key:me+".type",value:K.type,valueSpec:Ve.layer.type,style:C.style,styleSpec:C.styleSpec,object:K,objectKey:"type"})},filter:hi,layout:function(gn){return Ds({layer:K,key:gn.key,value:gn.value,style:gn.style,styleSpec:gn.styleSpec,objectElementValidators:{"*":function(_n){return Xi(ut({layerType:st},_n))}}})},paint:function(gn){return Ds({layer:K,key:gn.key,value:gn.value,style:gn.style,styleSpec:gn.styleSpec,objectElementValidators:{"*":function(_n){return pl(ut({layerType:st},_n))}}})}}}))}function ml(C){var z=C.value,K=C.key,me=Yi(z);return"string"!==me?[new $e(K,z,"string expected, "+me+" found")]:[]}var jr={promoteId:function(C){var z=C.key,K=C.value;if("string"===Yi(K))return ml({key:z,value:K});var me=[];for(var Re in K)me.push.apply(me,ml({key:z+"."+Re,value:K[Re]}));return me}};function $o(C){var z=C.value,K=C.key,me=C.styleSpec,Re=C.style;if(!z.type)return[new $e(K,z,'"type" is required')];var Ve,Ze=At(z.type);switch(Ze){case"vector":case"raster":case"raster-dem":return Ds({key:K,value:z,valueSpec:me["source_"+Ze.replace("-","_")],style:C.style,styleSpec:me,objectElementValidators:jr});case"geojson":if(Ve=Ds({key:K,value:z,valueSpec:me.source_geojson,style:Re,styleSpec:me,objectElementValidators:jr}),z.cluster)for(var st in z.clusterProperties){var vt=z.clusterProperties[st],Ct=vt[0],Gt="string"==typeof Ct?[Ct,["accumulated"],["get",st]]:Ct;Ve.push.apply(Ve,Ol({key:K+"."+st+".map",value:vt[1],expressionContext:"cluster-map"})),Ve.push.apply(Ve,Ol({key:K+"."+st+".reduce",value:Gt,expressionContext:"cluster-reduce"}))}return Ve;case"video":return Ds({key:K,value:z,valueSpec:me.source_video,style:Re,styleSpec:me});case"image":return Ds({key:K,value:z,valueSpec:me.source_image,style:Re,styleSpec:me});case"canvas":return[new $e(K,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return as({key:K+".type",value:z.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:Re,styleSpec:me})}}function Ei(C){var z=C.value,K=C.styleSpec,me=K.light,Re=C.style,Ve=[],Ze=Yi(z);if(void 0===z)return Ve;if("object"!==Ze)return Ve.concat([new $e("light",z,"object expected, "+Ze+" found")]);for(var st in z){var vt=st.match(/^(.*)-transition$/);Ve=Ve.concat(vt&&me[vt[1]]&&me[vt[1]].transition?Di({key:st,value:z[st],valueSpec:K.transition,style:Re,styleSpec:K}):me[st]?Di({key:st,value:z[st],valueSpec:me[st],style:Re,styleSpec:K}):[new $e(st,z[st],'unknown property "'+st+'"')])}return Ve}var Oo={"*":function(){return[]},array:lf,boolean:function(C){var z=C.value,K=C.key,me=Yi(z);return"boolean"!==me?[new $e(K,z,"boolean expected, "+me+" found")]:[]},number:kc,color:function(C){var z=C.key,K=C.value,me=Yi(K);return"string"!==me?[new $e(z,K,"color expected, "+me+" found")]:null===Tn(K)?[new $e(z,K,'color expected, "'+K+'" found')]:[]},constants:dt,enum:as,filter:hi,function:ic,layer:Fu,object:Ds,source:$o,light:Ei,string:ml,formatted:function(C){return 0===ml(C).length?[]:Ol(C)},resolvedImage:function(C){return 0===ml(C).length?[]:Ol(C)}};function Di(C){var z=C.value,K=C.valueSpec,me=C.styleSpec;return K.expression&&Qo(At(z))?ic(C):K.expression&&Zl(wt(z))?Ol(C):K.type&&Oo[K.type]?Oo[K.type](C):Ds(ut({},C,{valueSpec:K.type?me[K.type]:K}))}function Is(C){var z=C.value,K=C.key,me=ml(C);return me.length||(-1===z.indexOf("{fontstack}")&&me.push(new $e(K,z,'"glyphs" url must include a "{fontstack}" token')),-1===z.indexOf("{range}")&&me.push(new $e(K,z,'"glyphs" url must include a "{range}" token'))),me}function ga(C,z){void 0===z&&(z=Ue);var K=[];return K=K.concat(Di({key:"",value:C,valueSpec:z.$root,styleSpec:z,style:C,objectElementValidators:{glyphs:Is,"*":function(){return[]}}})),C.constants&&(K=K.concat(dt({key:"constants",value:C.constants,style:C,styleSpec:z}))),ea(K)}function ea(C){return[].concat(C).sort(function(z,K){return z.line-K.line})}function Ma(C){return function(){for(var z=[],K=arguments.length;K--;)z[K]=arguments[K];return ea(C.apply(this,z))}}ga.source=Ma($o),ga.light=Ma(Ei),ga.layer=Ma(Fu),ga.filter=Ma(hi),ga.paintProperty=Ma(pl),ga.layoutProperty=Ma(Xi);var ta=ga,fa=ta.light,za=ta.paintProperty,ao=ta.layoutProperty;function Gr(C,z){var K=!1;if(z&&z.length)for(var me=0,Re=z;me<Re.length;me+=1)C.fire(new gt(new Error(Re[me].message))),K=!0;return K}var ii=Yo,Ni=3;function Yo(C,z,K){var me=this.cells=[];if(C instanceof ArrayBuffer){this.arrayBuffer=C;var Re=new Int32Array(this.arrayBuffer);C=Re[0],this.d=(z=Re[1])+2*(K=Re[2]);for(var Ve=0;Ve<this.d*this.d;Ve++){var Ze=Re[Ni+Ve],st=Re[Ni+Ve+1];me.push(Ze===st?null:Re.subarray(Ze,st))}var Ct=Re[Ni+me.length+1];this.keys=Re.subarray(Re[Ni+me.length],Ct),this.bboxes=Re.subarray(Ct),this.insert=this._insertReadonly}else{this.d=z+2*K;for(var Ot=0;Ot<this.d*this.d;Ot++)me.push([]);this.keys=[],this.bboxes=[]}this.n=z,this.extent=C,this.padding=K,this.scale=z/C,this.uid=0;var Gt=K/z*C;this.min=-Gt,this.max=C+Gt}Yo.prototype.insert=function(C,z,K,me,Re){this._forEachCell(z,K,me,Re,this._insertCell,this.uid++),this.keys.push(C),this.bboxes.push(z),this.bboxes.push(K),this.bboxes.push(me),this.bboxes.push(Re)},Yo.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},Yo.prototype._insertCell=function(C,z,K,me,Re,Ve){this.cells[Re].push(Ve)},Yo.prototype.query=function(C,z,K,me,Re){var Ve=this.min,Ze=this.max;if(C<=Ve&&z<=Ve&&Ze<=K&&Ze<=me&&!Re)return Array.prototype.slice.call(this.keys);var st=[];return this._forEachCell(C,z,K,me,this._queryCell,st,{},Re),st},Yo.prototype._queryCell=function(C,z,K,me,Re,Ve,Ze,st){var vt=this.cells[Re];if(null!==vt)for(var Ct=this.keys,Ot=this.bboxes,Gt=0;Gt<vt.length;Gt++){var Kt=vt[Gt];if(void 0===Ze[Kt]){var Yt=4*Kt;(st?st(Ot[Yt+0],Ot[Yt+1],Ot[Yt+2],Ot[Yt+3]):C<=Ot[Yt+2]&&z<=Ot[Yt+3]&&K>=Ot[Yt+0]&&me>=Ot[Yt+1])?(Ze[Kt]=!0,Ve.push(Ct[Kt])):Ze[Kt]=!1}}},Yo.prototype._forEachCell=function(C,z,K,me,Re,Ve,Ze,st){for(var vt=this._convertToCellCoord(C),Ct=this._convertToCellCoord(z),Ot=this._convertToCellCoord(K),Gt=this._convertToCellCoord(me),Kt=vt;Kt<=Ot;Kt++)for(var Yt=Ct;Yt<=Gt;Yt++){var gn=this.d*Yt+Kt;if((!st||st(this._convertFromCellCoord(Kt),this._convertFromCellCoord(Yt),this._convertFromCellCoord(Kt+1),this._convertFromCellCoord(Yt+1)))&&Re.call(this,C,z,K,me,gn,Ve,Ze,st))return}},Yo.prototype._convertFromCellCoord=function(C){return(C-this.padding)/this.scale},Yo.prototype._convertToCellCoord=function(C){return Math.max(0,Math.min(this.d-1,Math.floor(C*this.scale)+this.padding))},Yo.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var C=this.cells,z=Ni+this.cells.length+1+1,K=0,me=0;me<this.cells.length;me++)K+=this.cells[me].length;var Re=new Int32Array(z+K+this.keys.length+this.bboxes.length);Re[0]=this.extent,Re[1]=this.n,Re[2]=this.padding;for(var Ve=z,Ze=0;Ze<C.length;Ze++){var st=C[Ze];Re[Ni+Ze]=Ve,Re.set(st,Ve),Ve+=st.length}return Re[Ni+C.length]=Ve,Re.set(this.keys,Ve),Re[Ni+C.length+1]=Ve+=this.keys.length,Re.set(this.bboxes,Ve),Ve+=this.bboxes.length,Re.buffer};var Ll=self.ImageData,co=self.ImageBitmap,Po={};function Lr(C,z,K){void 0===K&&(K={}),Object.defineProperty(z,"_classRegistryKey",{value:C,writeable:!1}),Po[C]={klass:z,omit:K.omit||[],shallow:K.shallow||[]}}for(var Ro in Lr("Object",Object),ii.serialize=function(C,z){var K=C.toArrayBuffer();return z&&z.push(K),{buffer:K}},ii.deserialize=function(C){return new ii(C.buffer)},Lr("Grid",ii),Lr("Color",kn),Lr("Error",Error),Lr("ResolvedImage",En),Lr("StylePropertyFunction",xs),Lr("StyleExpression",fl,{omit:["_evaluator"]}),Lr("ZoomDependentExpression",tl),Lr("ZoomConstantExpression",el),Lr("CompoundExpression",Zn,{omit:["_evaluate"]}),Hr)Hr[Ro]._classRegistryKey||Lr("Expression_"+Ro,Hr[Ro]);function nl(C){return C&&typeof ArrayBuffer<"u"&&(C instanceof ArrayBuffer||C.constructor&&"ArrayBuffer"===C.constructor.name)}function vi(C){return co&&C instanceof co}function js(C,z){if(null==C||"boolean"==typeof C||"number"==typeof C||"string"==typeof C||C instanceof Boolean||C instanceof Number||C instanceof String||C instanceof Date||C instanceof RegExp)return C;if(nl(C)||vi(C))return z&&z.push(C),C;if(ArrayBuffer.isView(C)){var K=C;return z&&z.push(K.buffer),K}if(C instanceof Ll)return z&&z.push(C.data.buffer),C;if(Array.isArray(C)){for(var me=[],Re=0,Ve=C;Re<Ve.length;Re+=1)me.push(js(Ve[Re],z));return me}if("object"==typeof C){var st=C.constructor,vt=st._classRegistryKey;if(!vt)throw new Error("can't serialize object of unregistered class");var Ct=st.serialize?st.serialize(C,z):{};if(!st.serialize){for(var Ot in C)if(C.hasOwnProperty(Ot)&&!(Po[vt].omit.indexOf(Ot)>=0)){var Gt=C[Ot];Ct[Ot]=Po[vt].shallow.indexOf(Ot)>=0?Gt:js(Gt,z)}C instanceof Error&&(Ct.message=C.message)}if(Ct.$name)throw new Error("$name property is reserved for worker serialization logic.");return"Object"!==vt&&(Ct.$name=vt),Ct}throw new Error("can't serialize object of type "+typeof C)}function Nl(C){if(null==C||"boolean"==typeof C||"number"==typeof C||"string"==typeof C||C instanceof Boolean||C instanceof Number||C instanceof String||C instanceof Date||C instanceof RegExp||nl(C)||vi(C)||ArrayBuffer.isView(C)||C instanceof Ll)return C;if(Array.isArray(C))return C.map(Nl);if("object"==typeof C){var z=C.$name||"Object",K=Po[z].klass;if(!K)throw new Error("can't deserialize unregistered class "+z);if(K.deserialize)return K.deserialize(C);for(var me=Object.create(K.prototype),Re=0,Ve=Object.keys(C);Re<Ve.length;Re+=1){var Ze=Ve[Re];if("$name"!==Ze){var st=C[Ze];me[Ze]=Po[z].shallow.indexOf(Ze)>=0?st:Nl(st)}}return me}throw new Error("can't deserialize object of type "+typeof C)}var ss=function(){this.first=!0};ss.prototype.update=function(C,z){var K=Math.floor(C);return this.first?(this.first=!1,this.lastIntegerZoom=K,this.lastIntegerZoomTime=0,this.lastZoom=C,this.lastFloorZoom=K,!0):(this.lastFloorZoom>K?(this.lastIntegerZoom=K+1,this.lastIntegerZoomTime=z):this.lastFloorZoom<K&&(this.lastIntegerZoom=K,this.lastIntegerZoomTime=z),C!==this.lastZoom&&(this.lastZoom=C,this.lastFloorZoom=K,!0))};var Dr={"Latin-1 Supplement":function(C){return C>=128&&C<=255},Arabic:function(C){return C>=1536&&C<=1791},"Arabic Supplement":function(C){return C>=1872&&C<=1919},"Arabic Extended-A":function(C){return C>=2208&&C<=2303},"Hangul Jamo":function(C){return C>=4352&&C<=4607},"Unified Canadian Aboriginal Syllabics":function(C){return C>=5120&&C<=5759},Khmer:function(C){return C>=6016&&C<=6143},"Unified Canadian Aboriginal Syllabics Extended":function(C){return C>=6320&&C<=6399},"General Punctuation":function(C){return C>=8192&&C<=8303},"Letterlike Symbols":function(C){return C>=8448&&C<=8527},"Number Forms":function(C){return C>=8528&&C<=8591},"Miscellaneous Technical":function(C){return C>=8960&&C<=9215},"Control Pictures":function(C){return C>=9216&&C<=9279},"Optical Character Recognition":function(C){return C>=9280&&C<=9311},"Enclosed Alphanumerics":function(C){return C>=9312&&C<=9471},"Geometric Shapes":function(C){return C>=9632&&C<=9727},"Miscellaneous Symbols":function(C){return C>=9728&&C<=9983},"Miscellaneous Symbols and Arrows":function(C){return C>=11008&&C<=11263},"CJK Radicals Supplement":function(C){return C>=11904&&C<=12031},"Kangxi Radicals":function(C){return C>=12032&&C<=12255},"Ideographic Description Characters":function(C){return C>=12272&&C<=12287},"CJK Symbols and Punctuation":function(C){return C>=12288&&C<=12351},Hiragana:function(C){return C>=12352&&C<=12447},Katakana:function(C){return C>=12448&&C<=12543},Bopomofo:function(C){return C>=12544&&C<=12591},"Hangul Compatibility Jamo":function(C){return C>=12592&&C<=12687},Kanbun:function(C){return C>=12688&&C<=12703},"Bopomofo Extended":function(C){return C>=12704&&C<=12735},"CJK Strokes":function(C){return C>=12736&&C<=12783},"Katakana Phonetic Extensions":function(C){return C>=12784&&C<=12799},"Enclosed CJK Letters and Months":function(C){return C>=12800&&C<=13055},"CJK Compatibility":function(C){return C>=13056&&C<=13311},"CJK Unified Ideographs Extension A":function(C){return C>=13312&&C<=19903},"Yijing Hexagram Symbols":function(C){return C>=19904&&C<=19967},"CJK Unified Ideographs":function(C){return C>=19968&&C<=40959},"Yi Syllables":function(C){return C>=40960&&C<=42127},"Yi Radicals":function(C){return C>=42128&&C<=42191},"Hangul Jamo Extended-A":function(C){return C>=43360&&C<=43391},"Hangul Syllables":function(C){return C>=44032&&C<=55215},"Hangul Jamo Extended-B":function(C){return C>=55216&&C<=55295},"Private Use Area":function(C){return C>=57344&&C<=63743},"CJK Compatibility Ideographs":function(C){return C>=63744&&C<=64255},"Arabic Presentation Forms-A":function(C){return C>=64336&&C<=65023},"Vertical Forms":function(C){return C>=65040&&C<=65055},"CJK Compatibility Forms":function(C){return C>=65072&&C<=65103},"Small Form Variants":function(C){return C>=65104&&C<=65135},"Arabic Presentation Forms-B":function(C){return C>=65136&&C<=65279},"Halfwidth and Fullwidth Forms":function(C){return C>=65280&&C<=65519}};function Ya(C){for(var z=0,K=C;z<K.length;z+=1)if(Vs(K[z].charCodeAt(0)))return!0;return!1}function Vs(C){return!(746!==C&&747!==C&&(C<4352||!(Dr["Bopomofo Extended"](C)||Dr.Bopomofo(C)||Dr["CJK Compatibility Forms"](C)&&!(C>=65097&&C<=65103)||Dr["CJK Compatibility Ideographs"](C)||Dr["CJK Compatibility"](C)||Dr["CJK Radicals Supplement"](C)||Dr["CJK Strokes"](C)||!(!Dr["CJK Symbols and Punctuation"](C)||C>=12296&&C<=12305||C>=12308&&C<=12319||12336===C)||Dr["CJK Unified Ideographs Extension A"](C)||Dr["CJK Unified Ideographs"](C)||Dr["Enclosed CJK Letters and Months"](C)||Dr["Hangul Compatibility Jamo"](C)||Dr["Hangul Jamo Extended-A"](C)||Dr["Hangul Jamo Extended-B"](C)||Dr["Hangul Jamo"](C)||Dr["Hangul Syllables"](C)||Dr.Hiragana(C)||Dr["Ideographic Description Characters"](C)||Dr.Kanbun(C)||Dr["Kangxi Radicals"](C)||Dr["Katakana Phonetic Extensions"](C)||Dr.Katakana(C)&&12540!==C||!(!Dr["Halfwidth and Fullwidth Forms"](C)||65288===C||65289===C||65293===C||C>=65306&&C<=65310||65339===C||65341===C||65343===C||C>=65371&&C<=65503||65507===C||C>=65512&&C<=65519)||!(!Dr["Small Form Variants"](C)||C>=65112&&C<=65118||C>=65123&&C<=65126)||Dr["Unified Canadian Aboriginal Syllabics"](C)||Dr["Unified Canadian Aboriginal Syllabics Extended"](C)||Dr["Vertical Forms"](C)||Dr["Yijing Hexagram Symbols"](C)||Dr["Yi Syllables"](C)||Dr["Yi Radicals"](C))))}function ls(C){return!(Vs(C)||(z=C,Dr["Latin-1 Supplement"](z)&&(167===z||169===z||174===z||177===z||188===z||189===z||190===z||215===z||247===z)||Dr["General Punctuation"](z)&&(8214===z||8224===z||8225===z||8240===z||8241===z||8251===z||8252===z||8258===z||8263===z||8264===z||8265===z||8273===z)||Dr["Letterlike Symbols"](z)||Dr["Number Forms"](z)||Dr["Miscellaneous Technical"](z)&&(z>=8960&&z<=8967||z>=8972&&z<=8991||z>=8996&&z<=9e3||9003===z||z>=9085&&z<=9114||z>=9150&&z<=9165||9167===z||z>=9169&&z<=9179||z>=9186&&z<=9215)||Dr["Control Pictures"](z)&&9251!==z||Dr["Optical Character Recognition"](z)||Dr["Enclosed Alphanumerics"](z)||Dr["Geometric Shapes"](z)||Dr["Miscellaneous Symbols"](z)&&!(z>=9754&&z<=9759)||Dr["Miscellaneous Symbols and Arrows"](z)&&(z>=11026&&z<=11055||z>=11088&&z<=11097||z>=11192&&z<=11243)||Dr["CJK Symbols and Punctuation"](z)||Dr.Katakana(z)||Dr["Private Use Area"](z)||Dr["CJK Compatibility Forms"](z)||Dr["Small Form Variants"](z)||Dr["Halfwidth and Fullwidth Forms"](z)||8734===z||8756===z||8757===z||z>=9984&&z<=10087||z>=10102&&z<=10131||65532===z||65533===z));var z}function na(C){return Dr.Arabic(C)||Dr["Arabic Supplement"](C)||Dr["Arabic Extended-A"](C)||Dr["Arabic Presentation Forms-A"](C)||Dr["Arabic Presentation Forms-B"](C)}function Os(C){return C>=1424&&C<=2303||Dr["Arabic Presentation Forms-A"](C)||Dr["Arabic Presentation Forms-B"](C)}function ma(C,z){return!(!z&&Os(C)||C>=2304&&C<=3583||C>=3840&&C<=4255||Dr.Khmer(C))}function ra(C){for(var z=0,K=C;z<K.length;z+=1)if(Os(K[z].charCodeAt(0)))return!0;return!1}var us="deferred",bs="loading",ai="loaded",Fl=null,da="unavailable",Ii=null,zl=function(C){C&&"string"==typeof C&&C.indexOf("NetworkError")>-1&&(da="error"),Fl&&Fl(C)};function va(){Lo.fire(new ot("pluginStateChange",{pluginStatus:da,pluginURL:Ii}))}var Lo=new ft,bo=function(){return da},uf=function(){if(da!==us||!Ii)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");da=bs,va(),Ii&&Pt({url:Ii},function(C){C?zl(C):(da=ai,va())})},Fi={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:function(){return da===ai||null!=Fi.applyArabicShaping},isLoading:function(){return da===bs},setState:function(C){da=C.pluginStatus,Ii=C.pluginURL},isParsed:function(){return null!=Fi.applyArabicShaping&&null!=Fi.processBidirectionalText&&null!=Fi.processStyledBidirectionalText},getPluginURL:function(){return Ii}},wi=function(C,z){this.zoom=C,z?(this.now=z.now,this.fadeDuration=z.fadeDuration,this.zoomHistory=z.zoomHistory,this.transition=z.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new ss,this.transition={})};wi.prototype.isSupportedScript=function(C){return function(z,K){for(var me=0,Re=z;me<Re.length;me+=1)if(!ma(Re[me].charCodeAt(0),K))return!1;return!0}(C,Fi.isLoaded())},wi.prototype.crossFadingFactor=function(){return 0===this.fadeDuration?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)},wi.prototype.getCrossfadeParameters=function(){var C=this.zoom,z=C-Math.floor(C),K=this.crossFadingFactor();return C>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:z+(1-z)*K}:{fromScale:.5,toScale:1,t:1-(1-K)*z}};var Za=function(C,z){this.property=C,this.value=z,this.expression=function(K,me){if(Qo(K))return new xs(K,me);if(Zl(K)){var Re=dl(K,me);if("error"===Re.result)throw new Error(Re.value.map(function(Ze){return Ze.key+": "+Ze.message}).join(", "));return Re.value}var Ve=K;return"string"==typeof K&&"color"===me.type&&(Ve=kn.parse(K)),{kind:"constant",evaluate:function(){return Ve}}}(void 0===z?C.specification.default:z,C.specification)};Za.prototype.isDataDriven=function(){return"source"===this.expression.kind||"composite"===this.expression.kind},Za.prototype.possiblyEvaluate=function(C,z,K){return this.property.possiblyEvaluate(this,C,z,K)};var Ba=function(C){this.property=C,this.value=new Za(C,void 0)};Ba.prototype.transitioned=function(C,z){return new fs(this.property,this.value,z,h({},C.transition,this.transition),C.now)},Ba.prototype.untransitioned=function(){return new fs(this.property,this.value,null,{},0)};var cs=function(C){this._properties=C,this._values=Object.create(C.defaultTransitionablePropertyValues)};cs.prototype.getValue=function(C){return A(this._values[C].value.value)},cs.prototype.setValue=function(C,z){this._values.hasOwnProperty(C)||(this._values[C]=new Ba(this._values[C].property)),this._values[C].value=new Za(this._values[C].property,null===z?void 0:A(z))},cs.prototype.getTransition=function(C){return A(this._values[C].transition)},cs.prototype.setTransition=function(C,z){this._values.hasOwnProperty(C)||(this._values[C]=new Ba(this._values[C].property)),this._values[C].transition=A(z)||void 0},cs.prototype.serialize=function(){for(var C={},z=0,K=Object.keys(this._values);z<K.length;z+=1){var me=K[z],Re=this.getValue(me);void 0!==Re&&(C[me]=Re);var Ve=this.getTransition(me);void 0!==Ve&&(C[me+"-transition"]=Ve)}return C},cs.prototype.transitioned=function(C,z){for(var K=new rl(this._properties),me=0,Re=Object.keys(this._values);me<Re.length;me+=1){var Ve=Re[me];K._values[Ve]=this._values[Ve].transitioned(C,z._values[Ve])}return K},cs.prototype.untransitioned=function(){for(var C=new rl(this._properties),z=0,K=Object.keys(this._values);z<K.length;z+=1){var me=K[z];C._values[me]=this._values[me].untransitioned()}return C};var fs=function(C,z,K,me,Re){this.property=C,this.value=z,this.begin=Re+me.delay||0,this.end=this.begin+me.duration||0,C.specification.transition&&(me.delay||me.duration)&&(this.prior=K)};fs.prototype.possiblyEvaluate=function(C,z,K){var me=C.now||0,Re=this.value.possiblyEvaluate(C,z,K),Ve=this.prior;if(Ve){if(me>this.end)return this.prior=null,Re;if(this.value.isDataDriven())return this.prior=null,Re;if(me<this.begin)return Ve.possiblyEvaluate(C,z,K);var Ze=(me-this.begin)/(this.end-this.begin);return this.property.interpolate(Ve.possiblyEvaluate(C,z,K),Re,function(st){if(st<=0)return 0;if(st>=1)return 1;var vt=st*st,Ct=vt*st;return 4*(st<.5?Ct:3*(st-vt)+Ct-.75)}(Ze))}return Re};var rl=function(C){this._properties=C,this._values=Object.create(C.defaultTransitioningPropertyValues)};rl.prototype.possiblyEvaluate=function(C,z,K){for(var me=new Oa(this._properties),Re=0,Ve=Object.keys(this._values);Re<Ve.length;Re+=1){var Ze=Ve[Re];me._values[Ze]=this._values[Ze].possiblyEvaluate(C,z,K)}return me},rl.prototype.hasTransition=function(){for(var C=0,z=Object.keys(this._values);C<z.length;C+=1)if(this._values[z[C]].prior)return!0;return!1};var Kl=function(C){this._properties=C,this._values=Object.create(C.defaultPropertyValues)};Kl.prototype.getValue=function(C){return A(this._values[C].value)},Kl.prototype.setValue=function(C,z){this._values[C]=new Za(this._values[C].property,null===z?void 0:A(z))},Kl.prototype.serialize=function(){for(var C={},z=0,K=Object.keys(this._values);z<K.length;z+=1){var me=K[z],Re=this.getValue(me);void 0!==Re&&(C[me]=Re)}return C},Kl.prototype.possiblyEvaluate=function(C,z,K){for(var me=new Oa(this._properties),Re=0,Ve=Object.keys(this._values);Re<Ve.length;Re+=1){var Ze=Ve[Re];me._values[Ze]=this._values[Ze].possiblyEvaluate(C,z,K)}return me};var ia=function(C,z,K){this.property=C,this.value=z,this.parameters=K};ia.prototype.isConstant=function(){return"constant"===this.value.kind},ia.prototype.constantOr=function(C){return"constant"===this.value.kind?this.value.value:C},ia.prototype.evaluate=function(C,z,K,me){return this.property.evaluate(this.value,this.parameters,C,z,K,me)};var Oa=function(C){this._properties=C,this._values=Object.create(C.defaultPossiblyEvaluatedValues)};Oa.prototype.get=function(C){return this._values[C]};var Kr=function(C){this.specification=C};Kr.prototype.possiblyEvaluate=function(C,z){return C.expression.evaluate(z)},Kr.prototype.interpolate=function(C,z,K){var me=Fr[this.specification.type];return me?me(C,z,K):C};var ei=function(C,z){this.specification=C,this.overrides=z};ei.prototype.possiblyEvaluate=function(C,z,K,me){return new ia(this,"constant"===C.expression.kind||"camera"===C.expression.kind?{kind:"constant",value:C.expression.evaluate(z,null,{},K,me)}:C.expression,z)},ei.prototype.interpolate=function(C,z,K){if("constant"!==C.value.kind||"constant"!==z.value.kind)return C;if(void 0===C.value.value||void 0===z.value.value)return new ia(this,{kind:"constant",value:void 0},C.parameters);var me=Fr[this.specification.type];return me?new ia(this,{kind:"constant",value:me(C.value.value,z.value.value,K)},C.parameters):C},ei.prototype.evaluate=function(C,z,K,me,Re,Ve){return"constant"===C.kind?C.value:C.evaluate(z,K,me,Re,Ve)};var zu=function(C){function z(){C.apply(this,arguments)}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype.possiblyEvaluate=function(K,me,Re,Ve){if(void 0===K.value)return new ia(this,{kind:"constant",value:void 0},me);if("constant"===K.expression.kind){var Ze=K.expression.evaluate(me,null,{},Re,Ve),st="resolvedImage"===K.property.specification.type&&"string"!=typeof Ze?Ze.name:Ze,vt=this._calculate(st,st,st,me);return new ia(this,{kind:"constant",value:vt},me)}if("camera"===K.expression.kind){var Ct=this._calculate(K.expression.evaluate({zoom:me.zoom-1}),K.expression.evaluate({zoom:me.zoom}),K.expression.evaluate({zoom:me.zoom+1}),me);return new ia(this,{kind:"constant",value:Ct},me)}return new ia(this,K.expression,me)},z.prototype.evaluate=function(K,me,Re,Ve,Ze,st){if("source"===K.kind){var vt=K.evaluate(me,Re,Ve,Ze,st);return this._calculate(vt,vt,vt,me)}return"composite"===K.kind?this._calculate(K.evaluate({zoom:Math.floor(me.zoom)-1},Re,Ve),K.evaluate({zoom:Math.floor(me.zoom)},Re,Ve),K.evaluate({zoom:Math.floor(me.zoom)+1},Re,Ve),me):K.value},z.prototype._calculate=function(K,me,Re,Ve){return Ve.zoom>Ve.zoomHistory.lastIntegerZoom?{from:K,to:me}:{from:Re,to:me}},z.prototype.interpolate=function(K){return K},z}(ei),Xa=function(C){this.specification=C};Xa.prototype.possiblyEvaluate=function(C,z,K,me){if(void 0!==C.value){if("constant"===C.expression.kind){var Re=C.expression.evaluate(z,null,{},K,me);return this._calculate(Re,Re,Re,z)}return this._calculate(C.expression.evaluate(new wi(Math.floor(z.zoom-1),z)),C.expression.evaluate(new wi(Math.floor(z.zoom),z)),C.expression.evaluate(new wi(Math.floor(z.zoom+1),z)),z)}},Xa.prototype._calculate=function(C,z,K,me){return me.zoom>me.zoomHistory.lastIntegerZoom?{from:C,to:z}:{from:K,to:z}},Xa.prototype.interpolate=function(C){return C};var Ql=function(C){this.specification=C};Ql.prototype.possiblyEvaluate=function(C,z,K,me){return!!C.expression.evaluate(z,null,{},K,me)},Ql.prototype.interpolate=function(){return!1};var Pa=function(C){for(var z in this.properties=C,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[],C){var K=C[z];K.specification.overridable&&this.overridableProperties.push(z);var me=this.defaultPropertyValues[z]=new Za(K,void 0),Re=this.defaultTransitionablePropertyValues[z]=new Ba(K);this.defaultTransitioningPropertyValues[z]=Re.untransitioned(),this.defaultPossiblyEvaluatedValues[z]=me.possiblyEvaluate({})}};Lr("DataDrivenProperty",ei),Lr("DataConstantProperty",Kr),Lr("CrossFadedDataDrivenProperty",zu),Lr("CrossFadedProperty",Xa),Lr("ColorRampProperty",Ql);var Bu="-transition",Ra=function(C){function z(K,me){if(C.call(this),this.id=K.id,this.type=K.type,this._featureFilter={filter:function(){return!0},needGeometry:!1},"custom"!==K.type&&(this.metadata=K.metadata,this.minzoom=K.minzoom,this.maxzoom=K.maxzoom,"background"!==K.type&&(this.source=K.source,this.sourceLayer=K["source-layer"],this.filter=K.filter),me.layout&&(this._unevaluatedLayout=new Kl(me.layout)),me.paint)){for(var Re in this._transitionablePaint=new cs(me.paint),K.paint)this.setPaintProperty(Re,K.paint[Re],{validate:!1});for(var Ve in K.layout)this.setLayoutProperty(Ve,K.layout[Ve],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new Oa(me.paint)}}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype.getCrossfadeParameters=function(){return this._crossfadeParameters},z.prototype.getLayoutProperty=function(K){return"visibility"===K?this.visibility:this._unevaluatedLayout.getValue(K)},z.prototype.setLayoutProperty=function(K,me,Re){void 0===Re&&(Re={}),null!=me&&this._validate(ao,"layers."+this.id+".layout."+K,K,me,Re)||("visibility"!==K?this._unevaluatedLayout.setValue(K,me):this.visibility=me)},z.prototype.getPaintProperty=function(K){return w(K,Bu)?this._transitionablePaint.getTransition(K.slice(0,-11)):this._transitionablePaint.getValue(K)},z.prototype.setPaintProperty=function(K,me,Re){if(void 0===Re&&(Re={}),null!=me&&this._validate(za,"layers."+this.id+".paint."+K,K,me,Re))return!1;if(w(K,Bu))return this._transitionablePaint.setTransition(K.slice(0,-11),me||void 0),!1;var Ze=this._transitionablePaint._values[K],st="cross-faded-data-driven"===Ze.property.specification["property-type"],vt=Ze.value.isDataDriven(),Ct=Ze.value;this._transitionablePaint.setValue(K,me),this._handleSpecialPaintPropertyUpdate(K);var Ot=this._transitionablePaint._values[K].value;return Ot.isDataDriven()||vt||st||this._handleOverridablePaintPropertyUpdate(K,Ct,Ot)},z.prototype._handleSpecialPaintPropertyUpdate=function(K){},z.prototype._handleOverridablePaintPropertyUpdate=function(K,me,Re){return!1},z.prototype.isHidden=function(K){return!!(this.minzoom&&K<this.minzoom)||!!(this.maxzoom&&K>=this.maxzoom)||"none"===this.visibility},z.prototype.updateTransitions=function(K){this._transitioningPaint=this._transitionablePaint.transitioned(K,this._transitioningPaint)},z.prototype.hasTransition=function(){return this._transitioningPaint.hasTransition()},z.prototype.recalculate=function(K,me){K.getCrossfadeParameters&&(this._crossfadeParameters=K.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(K,void 0,me)),this.paint=this._transitioningPaint.possiblyEvaluate(K,void 0,me)},z.prototype.serialize=function(){var K={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(K.layout=K.layout||{},K.layout.visibility=this.visibility),b(K,function(me,Re){return!(void 0===me||"layout"===Re&&!Object.keys(me).length||"paint"===Re&&!Object.keys(me).length)})},z.prototype._validate=function(K,me,Re,Ve,Ze){return void 0===Ze&&(Ze={}),(!Ze||!1!==Ze.validate)&&Gr(this,K.call(ta,{key:me,layerType:this.type,objectKey:Re,value:Ve,styleSpec:Ue,style:{glyphs:!0,sprite:!0}}))},z.prototype.is3D=function(){return!1},z.prototype.isTileClipped=function(){return!1},z.prototype.hasOffscreenPass=function(){return!1},z.prototype.resize=function(){},z.prototype.isStateDependent=function(){for(var K in this.paint._values){var me=this.paint.get(K);if(me instanceof ia&&cl(me.property.specification)&&("source"===me.value.kind||"composite"===me.value.kind)&&me.value.isStateDependent)return!0}return!1},z}(ft),eu={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},tu=function(C,z){this._structArray=C,this._pos1=z*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},li=function(){this.isTransferred=!1,this.capacity=-1,this.resize(0)};function ya(C,z){void 0===z&&(z=1);var K=0,me=0;return{members:C.map(function(Re){var Ze=eu[Re.type].BYTES_PER_ELEMENT,st=K=vl(K,Math.max(z,Ze)),vt=Re.components||1;return me=Math.max(me,Ze),K+=Ze*vt,{name:Re.name,type:Re.type,components:vt,offset:st}}),size:vl(K,Math.max(me,z)),alignment:z}}function vl(C,z){return Math.ceil(C/z)*z}li.serialize=function(C,z){return C._trim(),z&&(C.isTransferred=!0,z.push(C.arrayBuffer)),{length:C.length,arrayBuffer:C.arrayBuffer}},li.deserialize=function(C){var z=Object.create(this.prototype);return z.arrayBuffer=C.arrayBuffer,z.length=C.length,z.capacity=C.arrayBuffer.byteLength/z.bytesPerElement,z._refreshViews(),z},li.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},li.prototype.clear=function(){this.length=0},li.prototype.resize=function(C){this.reserve(C),this.length=C},li.prototype.reserve=function(C){if(C>this.capacity){this.capacity=Math.max(C,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var z=this.uint8;this._refreshViews(),z&&this.uint8.set(z)}},li.prototype._refreshViews=function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")};var ws=function(C){function z(){C.apply(this,arguments)}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},z.prototype.emplaceBack=function(K,me){var Re=this.length;return this.resize(Re+1),this.emplace(Re,K,me)},z.prototype.emplace=function(K,me,Re){var Ve=2*K;return this.int16[Ve+0]=me,this.int16[Ve+1]=Re,K},z}(li);ws.prototype.bytesPerElement=4,Lr("StructArrayLayout2i4",ws);var Bl=function(C){function z(){C.apply(this,arguments)}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},z.prototype.emplaceBack=function(K,me,Re,Ve){var Ze=this.length;return this.resize(Ze+1),this.emplace(Ze,K,me,Re,Ve)},z.prototype.emplace=function(K,me,Re,Ve,Ze){var st=4*K;return this.int16[st+0]=me,this.int16[st+1]=Re,this.int16[st+2]=Ve,this.int16[st+3]=Ze,K},z}(li);Bl.prototype.bytesPerElement=8,Lr("StructArrayLayout4i8",Bl);var nu=function(C){function z(){C.apply(this,arguments)}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},z.prototype.emplaceBack=function(K,me,Re,Ve,Ze,st){var vt=this.length;return this.resize(vt+1),this.emplace(vt,K,me,Re,Ve,Ze,st)},z.prototype.emplace=function(K,me,Re,Ve,Ze,st,vt){var Ct=6*K;return this.int16[Ct+0]=me,this.int16[Ct+1]=Re,this.int16[Ct+2]=Ve,this.int16[Ct+3]=Ze,this.int16[Ct+4]=st,this.int16[Ct+5]=vt,K},z}(li);nu.prototype.bytesPerElement=12,Lr("StructArrayLayout2i4i12",nu);var yu=function(C){function z(){C.apply(this,arguments)}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},z.prototype.emplaceBack=function(K,me,Re,Ve,Ze,st){var vt=this.length;return this.resize(vt+1),this.emplace(vt,K,me,Re,Ve,Ze,st)},z.prototype.emplace=function(K,me,Re,Ve,Ze,st,vt){var Ct=4*K,Ot=8*K;return this.int16[Ct+0]=me,this.int16[Ct+1]=Re,this.uint8[Ot+4]=Ve,this.uint8[Ot+5]=Ze,this.uint8[Ot+6]=st,this.uint8[Ot+7]=vt,K},z}(li);yu.prototype.bytesPerElement=8,Lr("StructArrayLayout2i4ub8",yu);var jl=function(C){function z(){C.apply(this,arguments)}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},z.prototype.emplaceBack=function(K,me,Re,Ve,Ze,st,vt,Ct,Ot,Gt){var Kt=this.length;return this.resize(Kt+1),this.emplace(Kt,K,me,Re,Ve,Ze,st,vt,Ct,Ot,Gt)},z.prototype.emplace=function(K,me,Re,Ve,Ze,st,vt,Ct,Ot,Gt,Kt){var Yt=9*K,gn=18*K;return this.uint16[Yt+0]=me,this.uint16[Yt+1]=Re,this.uint16[Yt+2]=Ve,this.uint16[Yt+3]=Ze,this.uint16[Yt+4]=st,this.uint16[Yt+5]=vt,this.uint16[Yt+6]=Ct,this.uint16[Yt+7]=Ot,this.uint8[gn+16]=Gt,this.uint8[gn+17]=Kt,K},z}(li);jl.prototype.bytesPerElement=18,Lr("StructArrayLayout8ui2ub18",jl);var V=function(C){function z(){C.apply(this,arguments)}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},z.prototype.emplaceBack=function(K,me,Re,Ve,Ze,st,vt,Ct,Ot,Gt,Kt,Yt){var gn=this.length;return this.resize(gn+1),this.emplace(gn,K,me,Re,Ve,Ze,st,vt,Ct,Ot,Gt,Kt,Yt)},z.prototype.emplace=function(K,me,Re,Ve,Ze,st,vt,Ct,Ot,Gt,Kt,Yt,gn){var _n=12*K;return this.int16[_n+0]=me,this.int16[_n+1]=Re,this.int16[_n+2]=Ve,this.int16[_n+3]=Ze,this.uint16[_n+4]=st,this.uint16[_n+5]=vt,this.uint16[_n+6]=Ct,this.uint16[_n+7]=Ot,this.int16[_n+8]=Gt,this.int16[_n+9]=Kt,this.int16[_n+10]=Yt,this.int16[_n+11]=gn,K},z}(li);V.prototype.bytesPerElement=24,Lr("StructArrayLayout4i4ui4i24",V);var $=function(C){function z(){C.apply(this,arguments)}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},z.prototype.emplaceBack=function(K,me,Re){var Ve=this.length;return this.resize(Ve+1),this.emplace(Ve,K,me,Re)},z.prototype.emplace=function(K,me,Re,Ve){var Ze=3*K;return this.float32[Ze+0]=me,this.float32[Ze+1]=Re,this.float32[Ze+2]=Ve,K},z}(li);$.prototype.bytesPerElement=12,Lr("StructArrayLayout3f12",$);var q=function(C){function z(){C.apply(this,arguments)}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)},z.prototype.emplaceBack=function(K){var me=this.length;return this.resize(me+1),this.emplace(me,K)},z.prototype.emplace=function(K,me){return this.uint32[1*K+0]=me,K},z}(li);q.prototype.bytesPerElement=4,Lr("StructArrayLayout1ul4",q);var te=function(C){function z(){C.apply(this,arguments)}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},z.prototype.emplaceBack=function(K,me,Re,Ve,Ze,st,vt,Ct,Ot){var Gt=this.length;return this.resize(Gt+1),this.emplace(Gt,K,me,Re,Ve,Ze,st,vt,Ct,Ot)},z.prototype.emplace=function(K,me,Re,Ve,Ze,st,vt,Ct,Ot,Gt){var Kt=10*K,Yt=5*K;return this.int16[Kt+0]=me,this.int16[Kt+1]=Re,this.int16[Kt+2]=Ve,this.int16[Kt+3]=Ze,this.int16[Kt+4]=st,this.int16[Kt+5]=vt,this.uint32[Yt+3]=Ct,this.uint16[Kt+8]=Ot,this.uint16[Kt+9]=Gt,K},z}(li);te.prototype.bytesPerElement=20,Lr("StructArrayLayout6i1ul2ui20",te);var xe=function(C){function z(){C.apply(this,arguments)}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},z.prototype.emplaceBack=function(K,me,Re,Ve,Ze,st){var vt=this.length;return this.resize(vt+1),this.emplace(vt,K,me,Re,Ve,Ze,st)},z.prototype.emplace=function(K,me,Re,Ve,Ze,st,vt){var Ct=6*K;return this.int16[Ct+0]=me,this.int16[Ct+1]=Re,this.int16[Ct+2]=Ve,this.int16[Ct+3]=Ze,this.int16[Ct+4]=st,this.int16[Ct+5]=vt,K},z}(li);xe.prototype.bytesPerElement=12,Lr("StructArrayLayout2i2i2i12",xe);var Pe=function(C){function z(){C.apply(this,arguments)}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},z.prototype.emplaceBack=function(K,me,Re,Ve,Ze){var st=this.length;return this.resize(st+1),this.emplace(st,K,me,Re,Ve,Ze)},z.prototype.emplace=function(K,me,Re,Ve,Ze,st){var vt=4*K,Ct=8*K;return this.float32[vt+0]=me,this.float32[vt+1]=Re,this.float32[vt+2]=Ve,this.int16[Ct+6]=Ze,this.int16[Ct+7]=st,K},z}(li);Pe.prototype.bytesPerElement=16,Lr("StructArrayLayout2f1f2i16",Pe);var U=function(C){function z(){C.apply(this,arguments)}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},z.prototype.emplaceBack=function(K,me,Re,Ve){var Ze=this.length;return this.resize(Ze+1),this.emplace(Ze,K,me,Re,Ve)},z.prototype.emplace=function(K,me,Re,Ve,Ze){var st=12*K,vt=3*K;return this.uint8[st+0]=me,this.uint8[st+1]=Re,this.float32[vt+1]=Ve,this.float32[vt+2]=Ze,K},z}(li);U.prototype.bytesPerElement=12,Lr("StructArrayLayout2ub2f12",U);var ie=function(C){function z(){C.apply(this,arguments)}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},z.prototype.emplaceBack=function(K,me,Re){var Ve=this.length;return this.resize(Ve+1),this.emplace(Ve,K,me,Re)},z.prototype.emplace=function(K,me,Re,Ve){var Ze=3*K;return this.uint16[Ze+0]=me,this.uint16[Ze+1]=Re,this.uint16[Ze+2]=Ve,K},z}(li);ie.prototype.bytesPerElement=6,Lr("StructArrayLayout3ui6",ie);var de=function(C){function z(){C.apply(this,arguments)}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},z.prototype.emplaceBack=function(K,me,Re,Ve,Ze,st,vt,Ct,Ot,Gt,Kt,Yt,gn,_n,Fn,zn,$n){var Jn=this.length;return this.resize(Jn+1),this.emplace(Jn,K,me,Re,Ve,Ze,st,vt,Ct,Ot,Gt,Kt,Yt,gn,_n,Fn,zn,$n)},z.prototype.emplace=function(K,me,Re,Ve,Ze,st,vt,Ct,Ot,Gt,Kt,Yt,gn,_n,Fn,zn,$n,Jn){var fr=24*K,vr=12*K,xr=48*K;return this.int16[fr+0]=me,this.int16[fr+1]=Re,this.uint16[fr+2]=Ve,this.uint16[fr+3]=Ze,this.uint32[vr+2]=st,this.uint32[vr+3]=vt,this.uint32[vr+4]=Ct,this.uint16[fr+10]=Ot,this.uint16[fr+11]=Gt,this.uint16[fr+12]=Kt,this.float32[vr+7]=Yt,this.float32[vr+8]=gn,this.uint8[xr+36]=_n,this.uint8[xr+37]=Fn,this.uint8[xr+38]=zn,this.uint32[vr+10]=$n,this.int16[fr+22]=Jn,K},z}(li);de.prototype.bytesPerElement=48,Lr("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",de);var Te=function(C){function z(){C.apply(this,arguments)}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},z.prototype.emplaceBack=function(K,me,Re,Ve,Ze,st,vt,Ct,Ot,Gt,Kt,Yt,gn,_n,Fn,zn,$n,Jn,fr,vr,xr,Pr,kr,Vr,Zr,gi,Jr,fi){var ni=this.length;return this.resize(ni+1),this.emplace(ni,K,me,Re,Ve,Ze,st,vt,Ct,Ot,Gt,Kt,Yt,gn,_n,Fn,zn,$n,Jn,fr,vr,xr,Pr,kr,Vr,Zr,gi,Jr,fi)},z.prototype.emplace=function(K,me,Re,Ve,Ze,st,vt,Ct,Ot,Gt,Kt,Yt,gn,_n,Fn,zn,$n,Jn,fr,vr,xr,Pr,kr,Vr,Zr,gi,Jr,fi,ni){var Xr=34*K,zi=17*K;return this.int16[Xr+0]=me,this.int16[Xr+1]=Re,this.int16[Xr+2]=Ve,this.int16[Xr+3]=Ze,this.int16[Xr+4]=st,this.int16[Xr+5]=vt,this.int16[Xr+6]=Ct,this.int16[Xr+7]=Ot,this.uint16[Xr+8]=Gt,this.uint16[Xr+9]=Kt,this.uint16[Xr+10]=Yt,this.uint16[Xr+11]=gn,this.uint16[Xr+12]=_n,this.uint16[Xr+13]=Fn,this.uint16[Xr+14]=zn,this.uint16[Xr+15]=$n,this.uint16[Xr+16]=Jn,this.uint16[Xr+17]=fr,this.uint16[Xr+18]=vr,this.uint16[Xr+19]=xr,this.uint16[Xr+20]=Pr,this.uint16[Xr+21]=kr,this.uint16[Xr+22]=Vr,this.uint32[zi+12]=Zr,this.float32[zi+13]=gi,this.float32[zi+14]=Jr,this.float32[zi+15]=fi,this.float32[zi+16]=ni,K},z}(li);Te.prototype.bytesPerElement=68,Lr("StructArrayLayout8i15ui1ul4f68",Te);var Ee=function(C){function z(){C.apply(this,arguments)}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},z.prototype.emplaceBack=function(K){var me=this.length;return this.resize(me+1),this.emplace(me,K)},z.prototype.emplace=function(K,me){return this.float32[1*K+0]=me,K},z}(li);Ee.prototype.bytesPerElement=4,Lr("StructArrayLayout1f4",Ee);var Fe=function(C){function z(){C.apply(this,arguments)}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},z.prototype.emplaceBack=function(K,me,Re){var Ve=this.length;return this.resize(Ve+1),this.emplace(Ve,K,me,Re)},z.prototype.emplace=function(K,me,Re,Ve){var Ze=3*K;return this.int16[Ze+0]=me,this.int16[Ze+1]=Re,this.int16[Ze+2]=Ve,K},z}(li);Fe.prototype.bytesPerElement=6,Lr("StructArrayLayout3i6",Fe);var Ye=function(C){function z(){C.apply(this,arguments)}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},z.prototype.emplaceBack=function(K,me,Re){var Ve=this.length;return this.resize(Ve+1),this.emplace(Ve,K,me,Re)},z.prototype.emplace=function(K,me,Re,Ve){var st=4*K;return this.uint32[2*K+0]=me,this.uint16[st+2]=Re,this.uint16[st+3]=Ve,K},z}(li);Ye.prototype.bytesPerElement=8,Lr("StructArrayLayout1ul2ui8",Ye);var Xe=function(C){function z(){C.apply(this,arguments)}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},z.prototype.emplaceBack=function(K,me){var Re=this.length;return this.resize(Re+1),this.emplace(Re,K,me)},z.prototype.emplace=function(K,me,Re){var Ve=2*K;return this.uint16[Ve+0]=me,this.uint16[Ve+1]=Re,K},z}(li);Xe.prototype.bytesPerElement=4,Lr("StructArrayLayout2ui4",Xe);var Qe=function(C){function z(){C.apply(this,arguments)}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},z.prototype.emplaceBack=function(K){var me=this.length;return this.resize(me+1),this.emplace(me,K)},z.prototype.emplace=function(K,me){return this.uint16[1*K+0]=me,K},z}(li);Qe.prototype.bytesPerElement=2,Lr("StructArrayLayout1ui2",Qe);var nt=function(C){function z(){C.apply(this,arguments)}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},z.prototype.emplaceBack=function(K,me){var Re=this.length;return this.resize(Re+1),this.emplace(Re,K,me)},z.prototype.emplace=function(K,me,Re){var Ve=2*K;return this.float32[Ve+0]=me,this.float32[Ve+1]=Re,K},z}(li);nt.prototype.bytesPerElement=8,Lr("StructArrayLayout2f8",nt);var lt=function(C){function z(){C.apply(this,arguments)}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},z.prototype.emplaceBack=function(K,me,Re,Ve){var Ze=this.length;return this.resize(Ze+1),this.emplace(Ze,K,me,Re,Ve)},z.prototype.emplace=function(K,me,Re,Ve,Ze){var st=4*K;return this.float32[st+0]=me,this.float32[st+1]=Re,this.float32[st+2]=Ve,this.float32[st+3]=Ze,K},z}(li);lt.prototype.bytesPerElement=16,Lr("StructArrayLayout4f16",lt);var xt=function(C){function z(){C.apply(this,arguments)}C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z;var K={anchorPointX:{configurable:!0},anchorPointY:{configurable:!0},x1:{configurable:!0},y1:{configurable:!0},x2:{configurable:!0},y2:{configurable:!0},featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0},anchorPoint:{configurable:!0}};return K.anchorPointX.get=function(){return this._structArray.int16[this._pos2+0]},K.anchorPointY.get=function(){return this._structArray.int16[this._pos2+1]},K.x1.get=function(){return this._structArray.int16[this._pos2+2]},K.y1.get=function(){return this._structArray.int16[this._pos2+3]},K.x2.get=function(){return this._structArray.int16[this._pos2+4]},K.y2.get=function(){return this._structArray.int16[this._pos2+5]},K.featureIndex.get=function(){return this._structArray.uint32[this._pos4+3]},K.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+8]},K.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+9]},K.anchorPoint.get=function(){return new i(this.anchorPointX,this.anchorPointY)},Object.defineProperties(z.prototype,K),z}(tu);xt.prototype.size=20;var Mt=function(C){function z(){C.apply(this,arguments)}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype.get=function(K){return new xt(this,K)},z}(te);Lr("CollisionBoxArray",Mt);var jt=function(C){function z(){C.apply(this,arguments)}C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z;var K={anchorX:{configurable:!0},anchorY:{configurable:!0},glyphStartIndex:{configurable:!0},numGlyphs:{configurable:!0},vertexStartIndex:{configurable:!0},lineStartIndex:{configurable:!0},lineLength:{configurable:!0},segment:{configurable:!0},lowerSize:{configurable:!0},upperSize:{configurable:!0},lineOffsetX:{configurable:!0},lineOffsetY:{configurable:!0},writingMode:{configurable:!0},placedOrientation:{configurable:!0},hidden:{configurable:!0},crossTileID:{configurable:!0},associatedIconIndex:{configurable:!0}};return K.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},K.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},K.glyphStartIndex.get=function(){return this._structArray.uint16[this._pos2+2]},K.numGlyphs.get=function(){return this._structArray.uint16[this._pos2+3]},K.vertexStartIndex.get=function(){return this._structArray.uint32[this._pos4+2]},K.lineStartIndex.get=function(){return this._structArray.uint32[this._pos4+3]},K.lineLength.get=function(){return this._structArray.uint32[this._pos4+4]},K.segment.get=function(){return this._structArray.uint16[this._pos2+10]},K.lowerSize.get=function(){return this._structArray.uint16[this._pos2+11]},K.upperSize.get=function(){return this._structArray.uint16[this._pos2+12]},K.lineOffsetX.get=function(){return this._structArray.float32[this._pos4+7]},K.lineOffsetY.get=function(){return this._structArray.float32[this._pos4+8]},K.writingMode.get=function(){return this._structArray.uint8[this._pos1+36]},K.placedOrientation.get=function(){return this._structArray.uint8[this._pos1+37]},K.placedOrientation.set=function(me){this._structArray.uint8[this._pos1+37]=me},K.hidden.get=function(){return this._structArray.uint8[this._pos1+38]},K.hidden.set=function(me){this._structArray.uint8[this._pos1+38]=me},K.crossTileID.get=function(){return this._structArray.uint32[this._pos4+10]},K.crossTileID.set=function(me){this._structArray.uint32[this._pos4+10]=me},K.associatedIconIndex.get=function(){return this._structArray.int16[this._pos2+22]},Object.defineProperties(z.prototype,K),z}(tu);jt.prototype.size=48;var Vt=function(C){function z(){C.apply(this,arguments)}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype.get=function(K){return new jt(this,K)},z}(de);Lr("PlacedSymbolArray",Vt);var Bt=function(C){function z(){C.apply(this,arguments)}C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z;var K={anchorX:{configurable:!0},anchorY:{configurable:!0},rightJustifiedTextSymbolIndex:{configurable:!0},centerJustifiedTextSymbolIndex:{configurable:!0},leftJustifiedTextSymbolIndex:{configurable:!0},verticalPlacedTextSymbolIndex:{configurable:!0},placedIconSymbolIndex:{configurable:!0},verticalPlacedIconSymbolIndex:{configurable:!0},key:{configurable:!0},textBoxStartIndex:{configurable:!0},textBoxEndIndex:{configurable:!0},verticalTextBoxStartIndex:{configurable:!0},verticalTextBoxEndIndex:{configurable:!0},iconBoxStartIndex:{configurable:!0},iconBoxEndIndex:{configurable:!0},verticalIconBoxStartIndex:{configurable:!0},verticalIconBoxEndIndex:{configurable:!0},featureIndex:{configurable:!0},numHorizontalGlyphVertices:{configurable:!0},numVerticalGlyphVertices:{configurable:!0},numIconVertices:{configurable:!0},numVerticalIconVertices:{configurable:!0},useRuntimeCollisionCircles:{configurable:!0},crossTileID:{configurable:!0},textBoxScale:{configurable:!0},textOffset0:{configurable:!0},textOffset1:{configurable:!0},collisionCircleDiameter:{configurable:!0}};return K.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},K.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},K.rightJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+2]},K.centerJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+3]},K.leftJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+4]},K.verticalPlacedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+5]},K.placedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+6]},K.verticalPlacedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+7]},K.key.get=function(){return this._structArray.uint16[this._pos2+8]},K.textBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+9]},K.textBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+10]},K.verticalTextBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+11]},K.verticalTextBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+12]},K.iconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+13]},K.iconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+14]},K.verticalIconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+15]},K.verticalIconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+16]},K.featureIndex.get=function(){return this._structArray.uint16[this._pos2+17]},K.numHorizontalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+18]},K.numVerticalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+19]},K.numIconVertices.get=function(){return this._structArray.uint16[this._pos2+20]},K.numVerticalIconVertices.get=function(){return this._structArray.uint16[this._pos2+21]},K.useRuntimeCollisionCircles.get=function(){return this._structArray.uint16[this._pos2+22]},K.crossTileID.get=function(){return this._structArray.uint32[this._pos4+12]},K.crossTileID.set=function(me){this._structArray.uint32[this._pos4+12]=me},K.textBoxScale.get=function(){return this._structArray.float32[this._pos4+13]},K.textOffset0.get=function(){return this._structArray.float32[this._pos4+14]},K.textOffset1.get=function(){return this._structArray.float32[this._pos4+15]},K.collisionCircleDiameter.get=function(){return this._structArray.float32[this._pos4+16]},Object.defineProperties(z.prototype,K),z}(tu);Bt.prototype.size=68;var Xt=function(C){function z(){C.apply(this,arguments)}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype.get=function(K){return new Bt(this,K)},z}(Te);Lr("SymbolInstanceArray",Xt);var Ut=function(C){function z(){C.apply(this,arguments)}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype.getoffsetX=function(K){return this.float32[1*K+0]},z}(Ee);Lr("GlyphOffsetArray",Ut);var mn=function(C){function z(){C.apply(this,arguments)}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype.getx=function(K){return this.int16[3*K+0]},z.prototype.gety=function(K){return this.int16[3*K+1]},z.prototype.gettileUnitDistanceFromAnchor=function(K){return this.int16[3*K+2]},z}(Fe);Lr("SymbolLineVertexArray",mn);var sn=function(C){function z(){C.apply(this,arguments)}C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z;var K={featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0}};return K.featureIndex.get=function(){return this._structArray.uint32[this._pos4+0]},K.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+2]},K.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+3]},Object.defineProperties(z.prototype,K),z}(tu);sn.prototype.size=8;var rn=function(C){function z(){C.apply(this,arguments)}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype.get=function(K){return new sn(this,K)},z}(Ye);Lr("FeatureIndexArray",rn);var In=ya([{name:"a_pos",components:2,type:"Int16"}],4).members,Pn=function(C){void 0===C&&(C=[]),this.segments=C};function tr(C,z){return 256*(C=l(Math.floor(C),0,255))+l(Math.floor(z),0,255)}Pn.prototype.prepareSegment=function(C,z,K,me){var Re=this.segments[this.segments.length-1];return C>Pn.MAX_VERTEX_ARRAY_LENGTH&&I("Max vertices per segment is "+Pn.MAX_VERTEX_ARRAY_LENGTH+": bucket requested "+C),(!Re||Re.vertexLength+C>Pn.MAX_VERTEX_ARRAY_LENGTH||Re.sortKey!==me)&&(Re={vertexOffset:z.length,primitiveOffset:K.length,vertexLength:0,primitiveLength:0},void 0!==me&&(Re.sortKey=me),this.segments.push(Re)),Re},Pn.prototype.get=function(){return this.segments},Pn.prototype.destroy=function(){for(var C=0,z=this.segments;C<z.length;C+=1){var K=z[C];for(var me in K.vaos)K.vaos[me].destroy()}},Pn.simpleSegment=function(C,z,K,me){return new Pn([{vertexOffset:C,primitiveOffset:z,vertexLength:K,primitiveLength:me,vaos:{},sortKey:0}])},Pn.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Lr("SegmentVector",Pn);var rr=ya([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint8"},{name:"a_pixel_ratio_to",components:1,type:"Uint8"}]),pr=k(function(C){C.exports=function(z,K){var me,Re,Ve,Ze,st,vt,Ct,Ot;for(Re=z.length-(me=3&z.length),Ve=K,st=3432918353,vt=461845907,Ot=0;Ot<Re;)Ct=255&z.charCodeAt(Ot)|(255&z.charCodeAt(++Ot))<<8|(255&z.charCodeAt(++Ot))<<16|(255&z.charCodeAt(++Ot))<<24,++Ot,Ve=27492+(65535&(Ze=5*(65535&(Ve=(Ve^=Ct=(65535&(Ct=(Ct=(65535&Ct)*st+(((Ct>>>16)*st&65535)<<16)&4294967295)<<15|Ct>>>17))*vt+(((Ct>>>16)*vt&65535)<<16)&4294967295)<<13|Ve>>>19))+((5*(Ve>>>16)&65535)<<16)&4294967295))+((58964+(Ze>>>16)&65535)<<16);switch(Ct=0,me){case 3:Ct^=(255&z.charCodeAt(Ot+2))<<16;case 2:Ct^=(255&z.charCodeAt(Ot+1))<<8;case 1:Ve^=Ct=(65535&(Ct=(Ct=(65535&(Ct^=255&z.charCodeAt(Ot)))*st+(((Ct>>>16)*st&65535)<<16)&4294967295)<<15|Ct>>>17))*vt+(((Ct>>>16)*vt&65535)<<16)&4294967295}return Ve^=z.length,Ve=2246822507*(65535&(Ve^=Ve>>>16))+((2246822507*(Ve>>>16)&65535)<<16)&4294967295,Ve=3266489909*(65535&(Ve^=Ve>>>13))+((3266489909*(Ve>>>16)&65535)<<16)&4294967295,(Ve^=Ve>>>16)>>>0}}),yr=k(function(C){C.exports=function(z,K){for(var me,Re=z.length,Ve=K^Re,Ze=0;Re>=4;)me=1540483477*(65535&(me=255&z.charCodeAt(Ze)|(255&z.charCodeAt(++Ze))<<8|(255&z.charCodeAt(++Ze))<<16|(255&z.charCodeAt(++Ze))<<24))+((1540483477*(me>>>16)&65535)<<16),Ve=1540483477*(65535&Ve)+((1540483477*(Ve>>>16)&65535)<<16)^(me=1540483477*(65535&(me^=me>>>24))+((1540483477*(me>>>16)&65535)<<16)),Re-=4,++Ze;switch(Re){case 3:Ve^=(255&z.charCodeAt(Ze+2))<<16;case 2:Ve^=(255&z.charCodeAt(Ze+1))<<8;case 1:Ve=1540483477*(65535&(Ve^=255&z.charCodeAt(Ze)))+((1540483477*(Ve>>>16)&65535)<<16)}return Ve=1540483477*(65535&(Ve^=Ve>>>13))+((1540483477*(Ve>>>16)&65535)<<16),(Ve^=Ve>>>15)>>>0}}),Er=pr,Rr=yr;Er.murmur3=pr,Er.murmur2=Rr;var qr=function(){this.ids=[],this.positions=[],this.indexed=!1};qr.prototype.add=function(C,z,K,me){this.ids.push(cr(C)),this.positions.push(z,K,me)},qr.prototype.getPositions=function(C){for(var z=cr(C),K=0,me=this.ids.length-1;K<me;){var Re=K+me>>1;this.ids[Re]>=z?me=Re:K=Re+1}for(var Ve=[];this.ids[K]===z;)Ve.push({index:this.positions[3*K],start:this.positions[3*K+1],end:this.positions[3*K+2]}),K++;return Ve},qr.serialize=function(C,z){var K=new Float64Array(C.ids),me=new Uint32Array(C.positions);return Ar(K,me,0,K.length-1),z&&z.push(K.buffer,me.buffer),{ids:K,positions:me}},qr.deserialize=function(C){var z=new qr;return z.ids=C.ids,z.positions=C.positions,z.indexed=!0,z};var oi=Math.pow(2,53)-1;function cr(C){var z=+C;return!isNaN(z)&&z<=oi?z:Er(String(C))}function Ar(C,z,K,me){for(;K<me;){for(var Re=C[K+me>>1],Ve=K-1,Ze=me+1;;){do{Ve++}while(C[Ve]<Re);do{Ze--}while(C[Ze]>Re);if(Ve>=Ze)break;Nr(C,Ve,Ze),Nr(z,3*Ve,3*Ze),Nr(z,3*Ve+1,3*Ze+1),Nr(z,3*Ve+2,3*Ze+2)}Ze-K<me-Ze?(Ar(C,z,K,Ze),K=Ze+1):(Ar(C,z,Ze+1,me),me=Ze)}}function Nr(C,z,K){var me=C[z];C[z]=C[K],C[K]=me}Lr("FeaturePositionMap",qr);var Wr=function(C,z){this.gl=C.gl,this.location=z},ti=function(C){function z(K,me){C.call(this,K,me),this.current=0}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype.set=function(K){this.current!==K&&(this.current=K,this.gl.uniform1i(this.location,K))},z}(Wr),ci=function(C){function z(K,me){C.call(this,K,me),this.current=0}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype.set=function(K){this.current!==K&&(this.current=K,this.gl.uniform1f(this.location,K))},z}(Wr),Li=function(C){function z(K,me){C.call(this,K,me),this.current=[0,0]}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype.set=function(K){K[0]===this.current[0]&&K[1]===this.current[1]||(this.current=K,this.gl.uniform2f(this.location,K[0],K[1]))},z}(Wr),ro=function(C){function z(K,me){C.call(this,K,me),this.current=[0,0,0]}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype.set=function(K){K[0]===this.current[0]&&K[1]===this.current[1]&&K[2]===this.current[2]||(this.current=K,this.gl.uniform3f(this.location,K[0],K[1],K[2]))},z}(Wr),fo=function(C){function z(K,me){C.call(this,K,me),this.current=[0,0,0,0]}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype.set=function(K){K[0]===this.current[0]&&K[1]===this.current[1]&&K[2]===this.current[2]&&K[3]===this.current[3]||(this.current=K,this.gl.uniform4f(this.location,K[0],K[1],K[2],K[3]))},z}(Wr),Ai=function(C){function z(K,me){C.call(this,K,me),this.current=kn.transparent}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype.set=function(K){K.r===this.current.r&&K.g===this.current.g&&K.b===this.current.b&&K.a===this.current.a||(this.current=K,this.gl.uniform4f(this.location,K.r,K.g,K.b,K.a))},z}(Wr),Ji=new Float32Array(16),Vo=function(C){function z(K,me){C.call(this,K,me),this.current=Ji}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype.set=function(K){if(K[12]!==this.current[12]||K[0]!==this.current[0])return this.current=K,void this.gl.uniformMatrix4fv(this.location,!1,K);for(var me=1;me<16;me++)if(K[me]!==this.current[me]){this.current=K,this.gl.uniformMatrix4fv(this.location,!1,K);break}},z}(Wr);function _a(C){return[tr(255*C.r,255*C.g),tr(255*C.b,255*C.a)]}var Zo=function(C,z,K){this.value=C,this.uniformNames=z.map(function(me){return"u_"+me}),this.type=K};Zo.prototype.setUniform=function(C,z,K){C.set(K.constantOr(this.value))},Zo.prototype.getBinding=function(C,z,K){return"color"===this.type?new Ai(C,z):new ci(C,z)};var oa=function(C,z){this.uniformNames=z.map(function(K){return"u_"+K}),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1};oa.prototype.setConstantPatternPositions=function(C,z){this.pixelRatioFrom=z.pixelRatio,this.pixelRatioTo=C.pixelRatio,this.patternFrom=z.tlbr,this.patternTo=C.tlbr},oa.prototype.setUniform=function(C,z,K,me){var Re="u_pattern_to"===me?this.patternTo:"u_pattern_from"===me?this.patternFrom:"u_pixel_ratio_to"===me?this.pixelRatioTo:"u_pixel_ratio_from"===me?this.pixelRatioFrom:null;Re&&C.set(Re)},oa.prototype.getBinding=function(C,z,K){return"u_pattern"===K.substr(0,9)?new fo(C,z):new ci(C,z)};var Ui=function(C,z,K,me){this.expression=C,this.type=K,this.maxValue=0,this.paintVertexAttributes=z.map(function(Re){return{name:"a_"+Re,type:"Float32",components:"color"===K?2:1,offset:0}}),this.paintVertexArray=new me};Ui.prototype.populatePaintArray=function(C,z,K,me,Re){var Ve=this.paintVertexArray.length,Ze=this.expression.evaluate(new wi(0),z,{},me,[],Re);this.paintVertexArray.resize(C),this._setPaintValue(Ve,C,Ze)},Ui.prototype.updatePaintArray=function(C,z,K,me){var Re=this.expression.evaluate({zoom:0},K,me);this._setPaintValue(C,z,Re)},Ui.prototype._setPaintValue=function(C,z,K){if("color"===this.type)for(var me=_a(K),Re=C;Re<z;Re++)this.paintVertexArray.emplace(Re,me[0],me[1]);else{for(var Ve=C;Ve<z;Ve++)this.paintVertexArray.emplace(Ve,K);this.maxValue=Math.max(this.maxValue,Math.abs(K))}},Ui.prototype.upload=function(C){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=C.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},Ui.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()};var ki=function(C,z,K,me,Re,Ve){this.expression=C,this.uniformNames=z.map(function(Ze){return"u_"+Ze+"_t"}),this.type=K,this.useIntegerZoom=me,this.zoom=Re,this.maxValue=0,this.paintVertexAttributes=z.map(function(Ze){return{name:"a_"+Ze,type:"Float32",components:"color"===K?4:2,offset:0}}),this.paintVertexArray=new Ve};ki.prototype.populatePaintArray=function(C,z,K,me,Re){var Ve=this.expression.evaluate(new wi(this.zoom),z,{},me,[],Re),Ze=this.expression.evaluate(new wi(this.zoom+1),z,{},me,[],Re),st=this.paintVertexArray.length;this.paintVertexArray.resize(C),this._setPaintValue(st,C,Ve,Ze)},ki.prototype.updatePaintArray=function(C,z,K,me){var Re=this.expression.evaluate({zoom:this.zoom},K,me),Ve=this.expression.evaluate({zoom:this.zoom+1},K,me);this._setPaintValue(C,z,Re,Ve)},ki.prototype._setPaintValue=function(C,z,K,me){if("color"===this.type)for(var Re=_a(K),Ve=_a(me),Ze=C;Ze<z;Ze++)this.paintVertexArray.emplace(Ze,Re[0],Re[1],Ve[0],Ve[1]);else{for(var st=C;st<z;st++)this.paintVertexArray.emplace(st,K,me);this.maxValue=Math.max(this.maxValue,Math.abs(K),Math.abs(me))}},ki.prototype.upload=function(C){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=C.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},ki.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},ki.prototype.setUniform=function(C,z){var K=this.useIntegerZoom?Math.floor(z.zoom):z.zoom,me=l(this.expression.interpolationFactor(K,this.zoom,this.zoom+1),0,1);C.set(me)},ki.prototype.getBinding=function(C,z,K){return new ci(C,z)};var ho=function(C,z,K,me,Re,Ve){this.expression=C,this.type=z,this.useIntegerZoom=K,this.zoom=me,this.layerId=Ve,this.zoomInPaintVertexArray=new Re,this.zoomOutPaintVertexArray=new Re};ho.prototype.populatePaintArray=function(C,z,K){var me=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(C),this.zoomOutPaintVertexArray.resize(C),this._setPaintValues(me,C,z.patterns&&z.patterns[this.layerId],K)},ho.prototype.updatePaintArray=function(C,z,K,me,Re){this._setPaintValues(C,z,K.patterns&&K.patterns[this.layerId],Re)},ho.prototype._setPaintValues=function(C,z,K,me){if(me&&K){var st=me[K.min],vt=me[K.mid],Ct=me[K.max];if(st&&vt&&Ct)for(var Ot=C;Ot<z;Ot++)this.zoomInPaintVertexArray.emplace(Ot,vt.tl[0],vt.tl[1],vt.br[0],vt.br[1],st.tl[0],st.tl[1],st.br[0],st.br[1],vt.pixelRatio,st.pixelRatio),this.zoomOutPaintVertexArray.emplace(Ot,vt.tl[0],vt.tl[1],vt.br[0],vt.br[1],Ct.tl[0],Ct.tl[1],Ct.br[0],Ct.br[1],vt.pixelRatio,Ct.pixelRatio)}},ho.prototype.upload=function(C){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=C.createVertexBuffer(this.zoomInPaintVertexArray,rr.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=C.createVertexBuffer(this.zoomOutPaintVertexArray,rr.members,this.expression.isStateDependent))},ho.prototype.destroy=function(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()};var Pi=function(C,z,K,me){this.binders={},this.layoutAttributes=me,this._buffers=[];var Re=[];for(var Ve in C.paint._values)if(K(Ve)){var Ze=C.paint.get(Ve);if(Ze instanceof ia&&cl(Ze.property.specification)){var st=ja(Ve,C.type),vt=Ze.value,Ct=Ze.property.specification.type,Ot=Ze.property.useIntegerZoom,Gt=Ze.property.specification["property-type"],Kt="cross-faded"===Gt||"cross-faded-data-driven"===Gt;if("constant"===vt.kind)this.binders[Ve]=Kt?new oa(vt.value,st):new Zo(vt.value,st,Ct),Re.push("/u_"+Ve);else if("source"===vt.kind||Kt){var Yt=pi(Ve,Ct,"source");this.binders[Ve]=Kt?new ho(vt,Ct,Ot,z,Yt,C.id):new Ui(vt,st,Ct,Yt),Re.push("/a_"+Ve)}else{var gn=pi(Ve,Ct,"composite");this.binders[Ve]=new ki(vt,st,Ct,Ot,z,gn),Re.push("/z_"+Ve)}}}this.cacheKey=Re.sort().join("")};Pi.prototype.getMaxValue=function(C){var z=this.binders[C];return z instanceof Ui||z instanceof ki?z.maxValue:0},Pi.prototype.populatePaintArrays=function(C,z,K,me,Re){for(var Ve in this.binders){var Ze=this.binders[Ve];(Ze instanceof Ui||Ze instanceof ki||Ze instanceof ho)&&Ze.populatePaintArray(C,z,K,me,Re)}},Pi.prototype.setConstantPatternPositions=function(C,z){for(var K in this.binders){var me=this.binders[K];me instanceof oa&&me.setConstantPatternPositions(C,z)}},Pi.prototype.updatePaintArrays=function(C,z,K,me,Re){var Ve=!1;for(var Ze in C)for(var st=0,vt=z.getPositions(Ze);st<vt.length;st+=1){var Ct=vt[st],Ot=K.feature(Ct.index);for(var Gt in this.binders){var Kt=this.binders[Gt];if((Kt instanceof Ui||Kt instanceof ki||Kt instanceof ho)&&!0===Kt.expression.isStateDependent){var Yt=me.paint.get(Gt);Kt.expression=Yt.value,Kt.updatePaintArray(Ct.start,Ct.end,Ot,C[Ze],Re),Ve=!0}}}return Ve},Pi.prototype.defines=function(){var C=[];for(var z in this.binders){var K=this.binders[z];(K instanceof Zo||K instanceof oa)&&C.push.apply(C,K.uniformNames.map(function(me){return"#define HAS_UNIFORM_"+me}))}return C},Pi.prototype.getPaintVertexBuffers=function(){return this._buffers},Pi.prototype.getUniforms=function(C,z){var K=[];for(var me in this.binders){var Re=this.binders[me];if(Re instanceof Zo||Re instanceof oa||Re instanceof ki)for(var Ve=0,Ze=Re.uniformNames;Ve<Ze.length;Ve+=1){var st=Ze[Ve];if(z[st]){var vt=Re.getBinding(C,z[st],st);K.push({name:st,property:me,binding:vt})}}}return K},Pi.prototype.setUniforms=function(C,z,K,me){for(var Re=0,Ve=z;Re<Ve.length;Re+=1){var Ze=Ve[Re],st=Ze.name,vt=Ze.property;this.binders[vt].setUniform(Ze.binding,me,K.get(vt),st)}},Pi.prototype.updatePaintBuffers=function(C){for(var z in this._buffers=[],this.binders){var K=this.binders[z];if(C&&K instanceof ho){var me=2===C.fromScale?K.zoomInPaintVertexBuffer:K.zoomOutPaintVertexBuffer;me&&this._buffers.push(me)}else(K instanceof Ui||K instanceof ki)&&K.paintVertexBuffer&&this._buffers.push(K.paintVertexBuffer)}},Pi.prototype.upload=function(C){for(var z in this.binders){var K=this.binders[z];(K instanceof Ui||K instanceof ki||K instanceof ho)&&K.upload(C)}this.updatePaintBuffers()},Pi.prototype.destroy=function(){for(var C in this.binders){var z=this.binders[C];(z instanceof Ui||z instanceof ki||z instanceof ho)&&z.destroy()}};var po=function(C,z,K,me){void 0===me&&(me=function(){return!0}),this.programConfigurations={};for(var Re=0,Ve=z;Re<Ve.length;Re+=1){var Ze=Ve[Re];this.programConfigurations[Ze.id]=new Pi(Ze,K,me,C)}this.needsUpload=!1,this._featureMap=new qr,this._bufferOffset=0};function ja(C,z){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[C]||[C.replace(z+"-","").replace(/-/g,"_")]}function pi(C,z,K){var Re={"line-pattern":{source:jl,composite:jl},"fill-pattern":{source:jl,composite:jl},"fill-extrusion-pattern":{source:jl,composite:jl}}[C];return Re&&Re[K]||{color:{source:nt,composite:lt},number:{source:Ee,composite:nt}}[z][K]}po.prototype.populatePaintArrays=function(C,z,K,me,Re,Ve){for(var Ze in this.programConfigurations)this.programConfigurations[Ze].populatePaintArrays(C,z,me,Re,Ve);void 0!==z.id&&this._featureMap.add(z.id,K,this._bufferOffset,C),this._bufferOffset=C,this.needsUpload=!0},po.prototype.updatePaintArrays=function(C,z,K,me){for(var Re=0,Ve=K;Re<Ve.length;Re+=1){var Ze=Ve[Re];this.needsUpload=this.programConfigurations[Ze.id].updatePaintArrays(C,this._featureMap,z,Ze,me)||this.needsUpload}},po.prototype.get=function(C){return this.programConfigurations[C]},po.prototype.upload=function(C){if(this.needsUpload){for(var z in this.programConfigurations)this.programConfigurations[z].upload(C);this.needsUpload=!1}},po.prototype.destroy=function(){for(var C in this.programConfigurations)this.programConfigurations[C].destroy()},Lr("ConstantBinder",Zo),Lr("CrossFadedConstantBinder",oa),Lr("SourceExpressionBinder",Ui),Lr("CrossFadedCompositeBinder",ho),Lr("CompositeExpressionBinder",ki),Lr("ProgramConfiguration",Pi,{omit:["_buffers"]}),Lr("ProgramConfigurationSet",po);var Hi=8192,go=(15,{min:-1*Math.pow(2,14),max:Math.pow(2,14)-1});function Ps(C){for(var z=Hi/C.extent,K=C.loadGeometry(),me=0;me<K.length;me++)for(var Re=K[me],Ve=0;Ve<Re.length;Ve++){var Ze=Re[Ve];Ze.x=Math.round(Ze.x*z),Ze.y=Math.round(Ze.y*z),(Ze.x<go.min||Ze.x>go.max||Ze.y<go.min||Ze.y>go.max)&&(I("Geometry exceeds allowed extent, reduce your vector tile buffer size"),Ze.x=l(Ze.x,go.min,go.max),Ze.y=l(Ze.y,go.min,go.max))}return K}function Uo(C,z,K,me,Re){C.emplaceBack(2*z+(me+1)/2,2*K+(Re+1)/2)}var No=function(C){this.zoom=C.zoom,this.overscaling=C.overscaling,this.layers=C.layers,this.layerIds=this.layers.map(function(z){return z.id}),this.index=C.index,this.hasPattern=!1,this.layoutVertexArray=new ws,this.indexArray=new ie,this.segments=new Pn,this.programConfigurations=new po(In,C.layers,C.zoom),this.stateDependentLayerIds=this.layers.filter(function(z){return z.isStateDependent()}).map(function(z){return z.id})};function Ho(C,z){for(var K=0;K<C.length;K++)if(Ec(z,C[K]))return!0;for(var me=0;me<z.length;me++)if(Ec(C,z[me]))return!0;return!!_u(C,z)}function ud(C,z,K){return!!Ec(C,z)||!!ih(z,C,K)}function dp(C,z){if(1===C.length)return oh(z,C[0]);for(var K=0;K<z.length;K++)for(var me=z[K],Re=0;Re<me.length;Re++)if(Ec(C,me[Re]))return!0;for(var Ve=0;Ve<C.length;Ve++)if(oh(z,C[Ve]))return!0;for(var Ze=0;Ze<z.length;Ze++)if(_u(C,z[Ze]))return!0;return!1}function ng(C,z,K){if(C.length>1){if(_u(C,z))return!0;for(var me=0;me<z.length;me++)if(ih(z[me],C,K))return!0}for(var Re=0;Re<C.length;Re++)if(ih(C[Re],z,K))return!0;return!1}function _u(C,z){if(0===C.length||0===z.length)return!1;for(var K=0;K<C.length-1;K++)for(var me=C[K],Re=C[K+1],Ve=0;Ve<z.length-1;Ve++)if(Lf(me,Re,z[Ve],z[Ve+1]))return!0;return!1}function Lf(C,z,K,me){return S(C,K,me)!==S(z,K,me)&&S(C,z,K)!==S(C,z,me)}function ih(C,z,K){var me=K*K;if(1===z.length)return C.distSqr(z[0])<me;for(var Re=1;Re<z.length;Re++)if(cf(C,z[Re-1],z[Re])<me)return!0;return!1}function cf(C,z,K){var me=z.distSqr(K);if(0===me)return C.distSqr(z);var Re=((C.x-z.x)*(K.x-z.x)+(C.y-z.y)*(K.y-z.y))/me;return C.distSqr(Re<0?z:Re>1?K:K.sub(z)._mult(Re)._add(z))}function oh(C,z){for(var K,me,Re,Ve=!1,Ze=0;Ze<C.length;Ze++)for(var st=0,vt=(K=C[Ze]).length-1;st<K.length;vt=st++)(me=K[st]).y>z.y!=(Re=K[vt]).y>z.y&&z.x<(Re.x-me.x)*(z.y-me.y)/(Re.y-me.y)+me.x&&(Ve=!Ve);return Ve}function Ec(C,z){for(var K=!1,me=0,Re=C.length-1;me<C.length;Re=me++){var Ve=C[me],Ze=C[Re];Ve.y>z.y!=Ze.y>z.y&&z.x<(Ze.x-Ve.x)*(z.y-Ve.y)/(Ze.y-Ve.y)+Ve.x&&(K=!K)}return K}function ah(C,z,K){var me=K[0],Re=K[2];if(C.x<me.x&&z.x<me.x||C.x>Re.x&&z.x>Re.x||C.y<me.y&&z.y<me.y||C.y>Re.y&&z.y>Re.y)return!1;var Ve=S(C,z,K[0]);return Ve!==S(C,z,K[1])||Ve!==S(C,z,K[2])||Ve!==S(C,z,K[3])}function xi(C,z,K){var me=z.paint.get(C).value;return"constant"===me.kind?me.value:K.programConfigurations.get(z.id).getMaxValue(C)}function sh(C){return Math.sqrt(C[0]*C[0]+C[1]*C[1])}function rg(C,z,K,me,Re){if(!z[0]&&!z[1])return C;var Ve=i.convert(z)._mult(Re);"viewport"===K&&Ve._rotate(-me);for(var Ze=[],st=0;st<C.length;st++)Ze.push(C[st].sub(Ve));return Ze}No.prototype.populate=function(C,z,K){var me=this.layers[0],Re=[],Ve=null;"circle"===me.type&&(Ve=me.layout.get("circle-sort-key"));for(var Ze=0,st=C;Ze<st.length;Ze+=1){var vt=st[Ze],Ct=vt.feature,Ot=vt.id,Gt=vt.index,Kt=vt.sourceLayerIndex,Yt=this.layers[0]._featureFilter.needGeometry,gn={type:Ct.type,id:Ot,properties:Ct.properties,geometry:Yt?Ps(Ct):[]};if(this.layers[0]._featureFilter.filter(new wi(this.zoom),gn,K)){Yt||(gn.geometry=Ps(Ct));var _n=Ve?Ve.evaluate(gn,{},K):void 0;Re.push({id:Ot,properties:Ct.properties,type:Ct.type,sourceLayerIndex:Kt,index:Gt,geometry:gn.geometry,patterns:{},sortKey:_n})}}Ve&&Re.sort(function(Vr,Zr){return Vr.sortKey-Zr.sortKey});for(var zn=0,$n=Re;zn<$n.length;zn+=1){var Jn=$n[zn],vr=Jn.geometry,xr=Jn.index,Pr=Jn.sourceLayerIndex,kr=C[xr].feature;this.addFeature(Jn,vr,xr,K),z.featureIndex.insert(kr,vr,xr,Pr,this.index)}},No.prototype.update=function(C,z,K){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(C,z,this.stateDependentLayers,K)},No.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},No.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},No.prototype.upload=function(C){this.uploaded||(this.layoutVertexBuffer=C.createVertexBuffer(this.layoutVertexArray,In),this.indexBuffer=C.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(C),this.uploaded=!0},No.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},No.prototype.addFeature=function(C,z,K,me){for(var Re=0,Ve=z;Re<Ve.length;Re+=1)for(var Ze=0,st=Ve[Re];Ze<st.length;Ze+=1){var vt=st[Ze],Ct=vt.x,Ot=vt.y;if(!(Ct<0||Ct>=Hi||Ot<0||Ot>=Hi)){var Gt=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,C.sortKey),Kt=Gt.vertexLength;Uo(this.layoutVertexArray,Ct,Ot,-1,-1),Uo(this.layoutVertexArray,Ct,Ot,1,-1),Uo(this.layoutVertexArray,Ct,Ot,1,1),Uo(this.layoutVertexArray,Ct,Ot,-1,1),this.indexArray.emplaceBack(Kt,Kt+1,Kt+2),this.indexArray.emplaceBack(Kt,Kt+3,Kt+2),Gt.vertexLength+=4,Gt.primitiveLength+=2}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,C,K,{},me)},Lr("CircleBucket",No,{omit:["layers"]});var i_=new Pa({"circle-sort-key":new ei(Ue.layout_circle["circle-sort-key"])}),o_={paint:new Pa({"circle-radius":new ei(Ue.paint_circle["circle-radius"]),"circle-color":new ei(Ue.paint_circle["circle-color"]),"circle-blur":new ei(Ue.paint_circle["circle-blur"]),"circle-opacity":new ei(Ue.paint_circle["circle-opacity"]),"circle-translate":new Kr(Ue.paint_circle["circle-translate"]),"circle-translate-anchor":new Kr(Ue.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new Kr(Ue.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new Kr(Ue.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new ei(Ue.paint_circle["circle-stroke-width"]),"circle-stroke-color":new ei(Ue.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new ei(Ue.paint_circle["circle-stroke-opacity"])}),layout:i_},Vl=typeof Float32Array<"u"?Float32Array:Array;function hp(C){return C[0]=1,C[1]=0,C[2]=0,C[3]=0,C[4]=0,C[5]=1,C[6]=0,C[7]=0,C[8]=0,C[9]=0,C[10]=1,C[11]=0,C[12]=0,C[13]=0,C[14]=0,C[15]=1,C}function Nf(C,z,K){var me=z[0],Re=z[1],Ve=z[2],Ze=z[3],st=z[4],vt=z[5],Ct=z[6],Ot=z[7],Gt=z[8],Kt=z[9],Yt=z[10],gn=z[11],_n=z[12],Fn=z[13],zn=z[14],$n=z[15],Jn=K[0],fr=K[1],vr=K[2],xr=K[3];return C[0]=Jn*me+fr*st+vr*Gt+xr*_n,C[1]=Jn*Re+fr*vt+vr*Kt+xr*Fn,C[2]=Jn*Ve+fr*Ct+vr*Yt+xr*zn,C[3]=Jn*Ze+fr*Ot+vr*gn+xr*$n,C[4]=(Jn=K[4])*me+(fr=K[5])*st+(vr=K[6])*Gt+(xr=K[7])*_n,C[5]=Jn*Re+fr*vt+vr*Kt+xr*Fn,C[6]=Jn*Ve+fr*Ct+vr*Yt+xr*zn,C[7]=Jn*Ze+fr*Ot+vr*gn+xr*$n,C[8]=(Jn=K[8])*me+(fr=K[9])*st+(vr=K[10])*Gt+(xr=K[11])*_n,C[9]=Jn*Re+fr*vt+vr*Kt+xr*Fn,C[10]=Jn*Ve+fr*Ct+vr*Yt+xr*zn,C[11]=Jn*Ze+fr*Ot+vr*gn+xr*$n,C[12]=(Jn=K[12])*me+(fr=K[13])*st+(vr=K[14])*Gt+(xr=K[15])*_n,C[13]=Jn*Re+fr*vt+vr*Kt+xr*Fn,C[14]=Jn*Ve+fr*Ct+vr*Yt+xr*zn,C[15]=Jn*Ze+fr*Ot+vr*gn+xr*$n,C}Math.hypot||(Math.hypot=function(){for(var C=arguments,z=0,K=arguments.length;K--;)z+=C[K]*C[K];return Math.sqrt(z)});var pp,C,a_=Nf;function gp(C,z,K){var me=z[0],Re=z[1],Ve=z[2],Ze=z[3];return C[0]=K[0]*me+K[4]*Re+K[8]*Ve+K[12]*Ze,C[1]=K[1]*me+K[5]*Re+K[9]*Ve+K[13]*Ze,C[2]=K[2]*me+K[6]*Re+K[10]*Ve+K[14]*Ze,C[3]=K[3]*me+K[7]*Re+K[11]*Ve+K[15]*Ze,C}pp=new Vl(3),Vl!=Float32Array&&(pp[0]=0,pp[1]=0,pp[2]=0),C=new Vl(4),Vl!=Float32Array&&(C[0]=0,C[1]=0,C[2]=0,C[3]=0);var Cr=(function(){var C=new Vl(2);Vl!=Float32Array&&(C[0]=0,C[1]=0)}(),function(C){function z(K){C.call(this,K,o_)}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype.createBucket=function(K){return new No(K)},z.prototype.queryRadius=function(K){var me=K;return xi("circle-radius",this,me)+xi("circle-stroke-width",this,me)+sh(this.paint.get("circle-translate"))},z.prototype.queryIntersectsFeature=function(K,me,Re,Ve,Ze,st,vt,Ct){for(var Ot=rg(K,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),st.angle,vt),Gt=this.paint.get("circle-radius").evaluate(me,Re)+this.paint.get("circle-stroke-width").evaluate(me,Re),Kt="map"===this.paint.get("circle-pitch-alignment"),Yt=Kt?Ot:function(Pr,kr){return Pr.map(function(Vr){return so(Vr,kr)})}(Ot,Ct),gn=Kt?Gt*vt:Gt,_n=0,Fn=Ve;_n<Fn.length;_n+=1)for(var zn=0,$n=Fn[_n];zn<$n.length;zn+=1){var Jn=$n[zn],fr=Kt?Jn:so(Jn,Ct),vr=gn,xr=gp([],[Jn.x,Jn.y,0,1],Ct);if("viewport"===this.paint.get("circle-pitch-scale")&&"map"===this.paint.get("circle-pitch-alignment")?vr*=xr[3]/st.cameraToCenterDistance:"map"===this.paint.get("circle-pitch-scale")&&"viewport"===this.paint.get("circle-pitch-alignment")&&(vr*=st.cameraToCenterDistance/xr[3]),ud(Yt,fr,vr))return!0}return!1},z}(Ra));function so(C,z){var K=gp([],[C.x,C.y,0,1],z);return new i(K[0]/K[3],K[1]/K[3])}var xu=function(C){function z(){C.apply(this,arguments)}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z}(No);function ru(C,z,K,me){var Re=z.width,Ve=z.height;if(me){if(me instanceof Uint8ClampedArray)me=new Uint8Array(me.buffer);else if(me.length!==Re*Ve*K)throw new RangeError("mismatched image size")}else me=new Uint8Array(Re*Ve*K);return C.width=Re,C.height=Ve,C.data=me,C}function Rs(C,z,K){var me=z.width,Re=z.height;if(me!==C.width||Re!==C.height){var Ve=ru({},{width:me,height:Re},K);mp(C,Ve,{x:0,y:0},{x:0,y:0},{width:Math.min(C.width,me),height:Math.min(C.height,Re)},K),C.width=me,C.height=Re,C.data=Ve.data}}function mp(C,z,K,me,Re,Ve){if(0===Re.width||0===Re.height)return z;if(Re.width>C.width||Re.height>C.height||K.x>C.width-Re.width||K.y>C.height-Re.height)throw new RangeError("out of range source coordinates for image copy");if(Re.width>z.width||Re.height>z.height||me.x>z.width-Re.width||me.y>z.height-Re.height)throw new RangeError("out of range destination coordinates for image copy");for(var Ze=C.data,st=z.data,vt=0;vt<Re.height;vt++)for(var Ct=((K.y+vt)*C.width+K.x)*Ve,Ot=((me.y+vt)*z.width+me.x)*Ve,Gt=0;Gt<Re.width*Ve;Gt++)st[Ot+Gt]=Ze[Ct+Gt];return z}Lr("HeatmapBucket",xu,{omit:["layers"]});var ju=function(C,z){ru(this,C,1,z)};ju.prototype.resize=function(C){Rs(this,C,1)},ju.prototype.clone=function(){return new ju({width:this.width,height:this.height},new Uint8Array(this.data))},ju.copy=function(C,z,K,me,Re){mp(C,z,K,me,Re,1)};var xa=function(C,z){ru(this,C,4,z)};xa.prototype.resize=function(C){Rs(this,C,4)},xa.prototype.replace=function(C,z){z?this.data.set(C):this.data=C instanceof Uint8ClampedArray?new Uint8Array(C.buffer):C},xa.prototype.clone=function(){return new xa({width:this.width,height:this.height},new Uint8Array(this.data))},xa.copy=function(C,z,K,me,Re){mp(C,z,K,me,Re,4)},Lr("AlphaImage",ju),Lr("RGBAImage",xa);var ig={paint:new Pa({"heatmap-radius":new ei(Ue.paint_heatmap["heatmap-radius"]),"heatmap-weight":new ei(Ue.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new Kr(Ue.paint_heatmap["heatmap-intensity"]),"heatmap-color":new Ql(Ue.paint_heatmap["heatmap-color"]),"heatmap-opacity":new Kr(Ue.paint_heatmap["heatmap-opacity"])})};function vp(C,z){for(var K=new Uint8Array(1024),me={},Re=0,Ve=0;Re<256;Re++,Ve+=4){me[z]=Re/255;var Ze=C.evaluate(me);K[Ve+0]=Math.floor(255*Ze.r/Ze.a),K[Ve+1]=Math.floor(255*Ze.g/Ze.a),K[Ve+2]=Math.floor(255*Ze.b/Ze.a),K[Ve+3]=Math.floor(255*Ze.a)}return new xa({width:256,height:1},K)}var u_=function(C){function z(K){C.call(this,K,ig),this._updateColorRamp()}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype.createBucket=function(K){return new xu(K)},z.prototype._handleSpecialPaintPropertyUpdate=function(K){"heatmap-color"===K&&this._updateColorRamp()},z.prototype._updateColorRamp=function(){this.colorRamp=vp(this._transitionablePaint._values["heatmap-color"].value.expression,"heatmapDensity"),this.colorRampTexture=null},z.prototype.resize=function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)},z.prototype.queryRadius=function(){return 0},z.prototype.queryIntersectsFeature=function(){return!1},z.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("heatmap-opacity")&&"none"!==this.visibility},z}(Ra),gw={paint:new Pa({"hillshade-illumination-direction":new Kr(Ue.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new Kr(Ue.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new Kr(Ue.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new Kr(Ue.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new Kr(Ue.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new Kr(Ue.paint_hillshade["hillshade-accent-color"])})},vv=function(C){function z(K){C.call(this,K,gw)}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("hillshade-exaggeration")&&"none"!==this.visibility},z}(Ra),ol=ya([{name:"a_pos",components:2,type:"Int16"}],4).members,Vu=Cc,yv=Cc;function Cc(C,z,K){K=K||2;var me,Re,Ve,Ze,st,vt,Ct,Ot=z&&z.length,Gt=Ot?z[0]*K:C.length,Kt=ac(C,0,Gt,K,!0),Yt=[];if(!Kt||Kt.next===Kt.prev)return Yt;if(Ot&&(Kt=function(_n,Fn,zn,$n){var Jn,fr,vr,xr=[];for(Jn=0,fr=Fn.length;Jn<fr;Jn++)(vr=ac(_n,Fn[Jn]*$n,Jn<fr-1?Fn[Jn+1]*$n:_n.length,$n,!1))===vr.next&&(vr.steiner=!0),xr.push(lg(vr));for(xr.sort(_v),Jn=0;Jn<xr.length;Jn++)sg(xr[Jn],zn),zn=ff(zn,zn.next);return zn}(C,z,Kt,K)),C.length>80*K){me=Ve=C[0],Re=Ze=C[1];for(var gn=K;gn<Gt;gn+=K)(st=C[gn])<me&&(me=st),(vt=C[gn+1])<Re&&(Re=vt),st>Ve&&(Ve=st),vt>Ze&&(Ze=vt);Ct=0!==(Ct=Math.max(Ve-me,Ze-Re))?1/Ct:0}return cd(Kt,Yt,K,me,Re,Ct),Yt}function ac(C,z,K,me,Re){var Ve,Ze;if(Re===cg(C,z,K,me)>0)for(Ve=z;Ve<K;Ve+=me)Ze=Sa(Ve,C[Ve],C[Ve+1],Ze);else for(Ve=K-me;Ve>=z;Ve-=me)Ze=Sa(Ve,C[Ve],C[Ve+1],Ze);return Ze&&lh(Ze,Ze.next)&&(uh(Ze),Ze=Ze.next),Ze}function ff(C,z){if(!C)return C;z||(z=C);var K,me=C;do{if(K=!1,me.steiner||!lh(me,me.next)&&0!==Aa(me.prev,me,me.next))me=me.next;else{if(uh(me),(me=z=me.prev)===me.next)break;K=!0}}while(K||me!==z);return z}function cd(C,z,K,me,Re,Ve,Ze){if(C){!Ze&&Ve&&function(Ot,Gt,Kt,Yt){var gn=Ot;do{null===gn.z&&(gn.z=yp(gn.x,gn.y,Gt,Kt,Yt)),gn.prevZ=gn.prev,gn.nextZ=gn.next,gn=gn.next}while(gn!==Ot);gn.prevZ.nextZ=null,gn.prevZ=null,function(_n){var Fn,zn,$n,Jn,fr,vr,xr,Pr,kr=1;do{for(zn=_n,_n=null,fr=null,vr=0;zn;){for(vr++,$n=zn,xr=0,Fn=0;Fn<kr&&(xr++,$n=$n.nextZ);Fn++);for(Pr=kr;xr>0||Pr>0&&$n;)0!==xr&&(0===Pr||!$n||zn.z<=$n.z)?(Jn=zn,zn=zn.nextZ,xr--):(Jn=$n,$n=$n.nextZ,Pr--),fr?fr.nextZ=Jn:_n=Jn,Jn.prevZ=fr,fr=Jn;zn=$n}fr.nextZ=null,kr*=2}while(vr>1)}(gn)}(C,me,Re,Ve);for(var st,vt,Ct=C;C.prev!==C.next;)if(st=C.prev,vt=C.next,Ve?f_(C,me,Re,Ve):c_(C))z.push(st.i/K),z.push(C.i/K),z.push(vt.i/K),uh(C),C=vt.next,Ct=vt.next;else if((C=vt)===Ct){Ze?1===Ze?cd(C=og(ff(C),z,K),z,K,me,Re,Ve,2):2===Ze&&ag(C,z,K,me,Re,Ve):cd(ff(C),z,K,me,Re,Ve,1);break}}}function c_(C){var z=C.prev,K=C,me=C.next;if(Aa(z,K,me)>=0)return!1;for(var Re=C.next.next;Re!==C.prev;){if(Ff(z.x,z.y,K.x,K.y,me.x,me.y,Re.x,Re.y)&&Aa(Re.prev,Re,Re.next)>=0)return!1;Re=Re.next}return!0}function f_(C,z,K,me){var Re=C.prev,Ve=C,Ze=C.next;if(Aa(Re,Ve,Ze)>=0)return!1;for(var Ct=Re.x>Ve.x?Re.x>Ze.x?Re.x:Ze.x:Ve.x>Ze.x?Ve.x:Ze.x,Ot=Re.y>Ve.y?Re.y>Ze.y?Re.y:Ze.y:Ve.y>Ze.y?Ve.y:Ze.y,Gt=yp(Re.x<Ve.x?Re.x<Ze.x?Re.x:Ze.x:Ve.x<Ze.x?Ve.x:Ze.x,Re.y<Ve.y?Re.y<Ze.y?Re.y:Ze.y:Ve.y<Ze.y?Ve.y:Ze.y,z,K,me),Kt=yp(Ct,Ot,z,K,me),Yt=C.prevZ,gn=C.nextZ;Yt&&Yt.z>=Gt&&gn&&gn.z<=Kt;){if(Yt!==C.prev&&Yt!==C.next&&Ff(Re.x,Re.y,Ve.x,Ve.y,Ze.x,Ze.y,Yt.x,Yt.y)&&Aa(Yt.prev,Yt,Yt.next)>=0||(Yt=Yt.prevZ,gn!==C.prev&&gn!==C.next&&Ff(Re.x,Re.y,Ve.x,Ve.y,Ze.x,Ze.y,gn.x,gn.y)&&Aa(gn.prev,gn,gn.next)>=0))return!1;gn=gn.nextZ}for(;Yt&&Yt.z>=Gt;){if(Yt!==C.prev&&Yt!==C.next&&Ff(Re.x,Re.y,Ve.x,Ve.y,Ze.x,Ze.y,Yt.x,Yt.y)&&Aa(Yt.prev,Yt,Yt.next)>=0)return!1;Yt=Yt.prevZ}for(;gn&&gn.z<=Kt;){if(gn!==C.prev&&gn!==C.next&&Ff(Re.x,Re.y,Ve.x,Ve.y,Ze.x,Ze.y,gn.x,gn.y)&&Aa(gn.prev,gn,gn.next)>=0)return!1;gn=gn.nextZ}return!0}function og(C,z,K){var me=C;do{var Re=me.prev,Ve=me.next.next;!lh(Re,Ve)&&_p(Re,me,me.next,Ve)&&Ts(Re,Ve)&&Ts(Ve,Re)&&(z.push(Re.i/K),z.push(me.i/K),z.push(Ve.i/K),uh(me),uh(me.next),me=C=Ve),me=me.next}while(me!==C);return ff(me)}function ag(C,z,K,me,Re,Ve){var Ze=C;do{for(var st=Ze.next.next;st!==Ze.prev;){if(Ze.i!==st.i&&xv(Ze,st)){var vt=df(Ze,st);return Ze=ff(Ze,Ze.next),vt=ff(vt,vt.next),cd(Ze,z,K,me,Re,Ve),void cd(vt,z,K,me,Re,Ve)}st=st.next}Ze=Ze.next}while(Ze!==C)}function _v(C,z){return C.x-z.x}function sg(C,z){if(z=function(me,Re){var Ve,Ze=Re,st=me.x,vt=me.y,Ct=-1/0;do{if(vt<=Ze.y&&vt>=Ze.next.y&&Ze.next.y!==Ze.y){var Ot=Ze.x+(vt-Ze.y)*(Ze.next.x-Ze.x)/(Ze.next.y-Ze.y);if(Ot<=st&&Ot>Ct){if(Ct=Ot,Ot===st){if(vt===Ze.y)return Ze;if(vt===Ze.next.y)return Ze.next}Ve=Ze.x<Ze.next.x?Ze:Ze.next}}Ze=Ze.next}while(Ze!==Re);if(!Ve)return null;if(st===Ct)return Ve;var Gt,Kt=Ve,Yt=Ve.x,gn=Ve.y,_n=1/0;Ze=Ve;do{st>=Ze.x&&Ze.x>=Yt&&st!==Ze.x&&Ff(vt<gn?st:Ct,vt,Yt,gn,vt<gn?Ct:st,vt,Ze.x,Ze.y)&&(Gt=Math.abs(vt-Ze.y)/(st-Ze.x),Ts(Ze,me)&&(Gt<_n||Gt===_n&&(Ze.x>Ve.x||Ze.x===Ve.x&&d_(Ve,Ze)))&&(Ve=Ze,_n=Gt)),Ze=Ze.next}while(Ze!==Kt);return Ve}(C,z)){var K=df(z,C);ff(z,z.next),ff(K,K.next)}}function d_(C,z){return Aa(C.prev,C,z.prev)<0&&Aa(z.next,C,C.next)<0}function yp(C,z,K,me,Re){return(C=1431655765&((C=858993459&((C=252645135&((C=16711935&((C=32767*(C-K)*Re)|C<<8))|C<<4))|C<<2))|C<<1))|(z=1431655765&((z=858993459&((z=252645135&((z=16711935&((z=32767*(z-me)*Re)|z<<8))|z<<4))|z<<2))|z<<1))<<1}function lg(C){var z=C,K=C;do{(z.x<K.x||z.x===K.x&&z.y<K.y)&&(K=z),z=z.next}while(z!==C);return K}function Ff(C,z,K,me,Re,Ve,Ze,st){return(Re-Ze)*(z-st)-(C-Ze)*(Ve-st)>=0&&(C-Ze)*(me-st)-(K-Ze)*(z-st)>=0&&(K-Ze)*(Ve-st)-(Re-Ze)*(me-st)>=0}function xv(C,z){return C.next.i!==z.i&&C.prev.i!==z.i&&!function(K,me){var Re=K;do{if(Re.i!==K.i&&Re.next.i!==K.i&&Re.i!==me.i&&Re.next.i!==me.i&&_p(Re,Re.next,K,me))return!0;Re=Re.next}while(Re!==K);return!1}(C,z)&&(Ts(C,z)&&Ts(z,C)&&function(K,me){var Re=K,Ve=!1,Ze=(K.x+me.x)/2,st=(K.y+me.y)/2;do{Re.y>st!=Re.next.y>st&&Re.next.y!==Re.y&&Ze<(Re.next.x-Re.x)*(st-Re.y)/(Re.next.y-Re.y)+Re.x&&(Ve=!Ve),Re=Re.next}while(Re!==K);return Ve}(C,z)&&(Aa(C.prev,C,z.prev)||Aa(C,z.prev,z))||lh(C,z)&&Aa(C.prev,C,C.next)>0&&Aa(z.prev,z,z.next)>0)}function Aa(C,z,K){return(z.y-C.y)*(K.x-z.x)-(z.x-C.x)*(K.y-z.y)}function lh(C,z){return C.x===z.x&&C.y===z.y}function _p(C,z,K,me){var Re=bp(Aa(C,z,K)),Ve=bp(Aa(C,z,me)),Ze=bp(Aa(K,me,C)),st=bp(Aa(K,me,z));return Re!==Ve&&Ze!==st||!(0!==Re||!xp(C,K,z))||!(0!==Ve||!xp(C,me,z))||!(0!==Ze||!xp(K,C,me))||!(0!==st||!xp(K,z,me))}function xp(C,z,K){return z.x<=Math.max(C.x,K.x)&&z.x>=Math.min(C.x,K.x)&&z.y<=Math.max(C.y,K.y)&&z.y>=Math.min(C.y,K.y)}function bp(C){return C>0?1:C<0?-1:0}function Ts(C,z){return Aa(C.prev,C,C.next)<0?Aa(C,z,C.next)>=0&&Aa(C,C.prev,z)>=0:Aa(C,z,C.prev)<0||Aa(C,C.next,z)<0}function df(C,z){var K=new ug(C.i,C.x,C.y),me=new ug(z.i,z.x,z.y),Re=C.next,Ve=z.prev;return C.next=z,z.prev=C,K.next=Re,Re.prev=K,me.next=K,K.prev=me,Ve.next=me,me.prev=Ve,me}function Sa(C,z,K,me){var Re=new ug(C,z,K);return me?(Re.next=me.next,Re.prev=me,me.next.prev=Re,me.next=Re):(Re.prev=Re,Re.next=Re),Re}function uh(C){C.next.prev=C.prev,C.prev.next=C.next,C.prevZ&&(C.prevZ.nextZ=C.nextZ),C.nextZ&&(C.nextZ.prevZ=C.prevZ)}function ug(C,z,K){this.i=C,this.x=z,this.y=K,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function cg(C,z,K,me){for(var Re=0,Ve=z,Ze=K-me;Ve<K;Ve+=me)Re+=(C[Ze]-C[Ve])*(C[Ve+1]+C[Ze+1]),Ze=Ve;return Re}function h_(C,z,K,me,Re){fg(C,z,K||0,me||C.length-1,Re||wp)}function fg(C,z,K,me,Re){for(;me>K;){if(me-K>600){var Ve=me-K+1,Ze=z-K+1,st=Math.log(Ve),vt=.5*Math.exp(2*st/3),Ct=.5*Math.sqrt(st*vt*(Ve-vt)/Ve)*(Ze-Ve/2<0?-1:1);fg(C,z,Math.max(K,Math.floor(z-Ze*vt/Ve+Ct)),Math.min(me,Math.floor(z+(Ve-Ze)*vt/Ve+Ct)),Re)}var Ot=C[z],Gt=K,Kt=me;for(fd(C,K,z),Re(C[me],Ot)>0&&fd(C,K,me);Gt<Kt;){for(fd(C,Gt,Kt),Gt++,Kt--;Re(C[Gt],Ot)<0;)Gt++;for(;Re(C[Kt],Ot)>0;)Kt--}0===Re(C[K],Ot)?fd(C,K,Kt):fd(C,++Kt,me),Kt<=z&&(K=Kt+1),z<=Kt&&(me=Kt-1)}}function fd(C,z,K){var me=C[z];C[z]=C[K],C[K]=me}function wp(C,z){return C<z?-1:C>z?1:0}function sc(C,z){var K=C.length;if(K<=1)return[C];for(var me,Re,Ve=[],Ze=0;Ze<K;Ze++){var st=O(C[Ze]);0!==st&&(C[Ze].area=Math.abs(st),void 0===Re&&(Re=st<0),Re===st<0?(me&&Ve.push(me),me=[C[Ze]]):me.push(C[Ze]))}if(me&&Ve.push(me),z>1)for(var vt=0;vt<Ve.length;vt++)Ve[vt].length<=z||(h_(Ve[vt],z,1,Ve[vt].length-1,p_),Ve[vt]=Ve[vt].slice(0,z));return Ve}function p_(C,z){return z.area-C.area}function dd(C,z,K){for(var me=K.patternDependencies,Re=!1,Ve=0,Ze=z;Ve<Ze.length;Ve+=1){var st=Ze[Ve].paint.get(C+"-pattern");st.isConstant()||(Re=!0);var vt=st.constantOr(null);vt&&(Re=!0,me[vt.to]=!0,me[vt.from]=!0)}return Re}function hd(C,z,K,me,Re){for(var Ve=Re.patternDependencies,Ze=0,st=z;Ze<st.length;Ze+=1){var vt=st[Ze],Ct=vt.paint.get(C+"-pattern").value;if("constant"!==Ct.kind){var Ot=Ct.evaluate({zoom:me-1},K,{},Re.availableImages),Gt=Ct.evaluate({zoom:me},K,{},Re.availableImages),Kt=Ct.evaluate({zoom:me+1},K,{},Re.availableImages);Gt=Gt&&Gt.name?Gt.name:Gt,Kt=Kt&&Kt.name?Kt.name:Kt,Ve[Ot=Ot&&Ot.name?Ot.name:Ot]=!0,Ve[Gt]=!0,Ve[Kt]=!0,K.patterns[vt.id]={min:Ot,mid:Gt,max:Kt}}}return K}Cc.deviation=function(C,z,K,me){var Re=z&&z.length,Ze=Math.abs(cg(C,0,Re?z[0]*K:C.length,K));if(Re)for(var st=0,vt=z.length;st<vt;st++)Ze-=Math.abs(cg(C,z[st]*K,st<vt-1?z[st+1]*K:C.length,K));var Gt=0;for(st=0;st<me.length;st+=3){var Kt=me[st]*K,Yt=me[st+1]*K,gn=me[st+2]*K;Gt+=Math.abs((C[Kt]-C[gn])*(C[Yt+1]-C[Kt+1])-(C[Kt]-C[Yt])*(C[gn+1]-C[Kt+1]))}return 0===Ze&&0===Gt?0:Math.abs((Gt-Ze)/Ze)},Cc.flatten=function(C){for(var z=C[0][0].length,K={vertices:[],holes:[],dimensions:z},me=0,Re=0;Re<C.length;Re++){for(var Ve=0;Ve<C[Re].length;Ve++)for(var Ze=0;Ze<z;Ze++)K.vertices.push(C[Re][Ve][Ze]);Re>0&&K.holes.push(me+=C[Re-1].length)}return K},Vu.default=yv;var Ul=function(C){this.zoom=C.zoom,this.overscaling=C.overscaling,this.layers=C.layers,this.layerIds=this.layers.map(function(z){return z.id}),this.index=C.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new ws,this.indexArray=new ie,this.indexArray2=new Xe,this.programConfigurations=new po(ol,C.layers,C.zoom),this.segments=new Pn,this.segments2=new Pn,this.stateDependentLayerIds=this.layers.filter(function(z){return z.isStateDependent()}).map(function(z){return z.id})};Ul.prototype.populate=function(C,z,K){this.hasPattern=dd("fill",this.layers,z);for(var me=this.layers[0].layout.get("fill-sort-key"),Re=[],Ve=0,Ze=C;Ve<Ze.length;Ve+=1){var st=Ze[Ve],vt=st.feature,Ct=st.id,Ot=st.index,Gt=st.sourceLayerIndex,Kt=this.layers[0]._featureFilter.needGeometry,Yt={type:vt.type,id:Ct,properties:vt.properties,geometry:Kt?Ps(vt):[]};if(this.layers[0]._featureFilter.filter(new wi(this.zoom),Yt,K)){Kt||(Yt.geometry=Ps(vt));var gn=me?me.evaluate(Yt,{},K,z.availableImages):void 0;Re.push({id:Ct,properties:vt.properties,type:vt.type,sourceLayerIndex:Gt,index:Ot,geometry:Yt.geometry,patterns:{},sortKey:gn})}}me&&Re.sort(function(Vr,Zr){return Vr.sortKey-Zr.sortKey});for(var Fn=0,zn=Re;Fn<zn.length;Fn+=1){var $n=zn[Fn],fr=$n.geometry,vr=$n.index,xr=$n.sourceLayerIndex;if(this.hasPattern){var Pr=hd("fill",this.layers,$n,this.zoom,z);this.patternFeatures.push(Pr)}else this.addFeature($n,fr,vr,K,{});z.featureIndex.insert(C[vr].feature,fr,vr,xr,this.index)}},Ul.prototype.update=function(C,z,K){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(C,z,this.stateDependentLayers,K)},Ul.prototype.addFeatures=function(C,z,K){for(var me=0,Re=this.patternFeatures;me<Re.length;me+=1){var Ve=Re[me];this.addFeature(Ve,Ve.geometry,Ve.index,z,K)}},Ul.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},Ul.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Ul.prototype.upload=function(C){this.uploaded||(this.layoutVertexBuffer=C.createVertexBuffer(this.layoutVertexArray,ol),this.indexBuffer=C.createIndexBuffer(this.indexArray),this.indexBuffer2=C.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(C),this.uploaded=!0},Ul.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())},Ul.prototype.addFeature=function(C,z,K,me,Re){for(var Ve=0,Ze=sc(z,500);Ve<Ze.length;Ve+=1){for(var st=Ze[Ve],vt=0,Ct=0,Ot=st;Ct<Ot.length;Ct+=1)vt+=Ot[Ct].length;for(var Gt=this.segments.prepareSegment(vt,this.layoutVertexArray,this.indexArray),Kt=Gt.vertexLength,Yt=[],gn=[],_n=0,Fn=st;_n<Fn.length;_n+=1){var zn=Fn[_n];if(0!==zn.length){zn!==st[0]&&gn.push(Yt.length/2);var $n=this.segments2.prepareSegment(zn.length,this.layoutVertexArray,this.indexArray2),Jn=$n.vertexLength;this.layoutVertexArray.emplaceBack(zn[0].x,zn[0].y),this.indexArray2.emplaceBack(Jn+zn.length-1,Jn),Yt.push(zn[0].x),Yt.push(zn[0].y);for(var fr=1;fr<zn.length;fr++)this.layoutVertexArray.emplaceBack(zn[fr].x,zn[fr].y),this.indexArray2.emplaceBack(Jn+fr-1,Jn+fr),Yt.push(zn[fr].x),Yt.push(zn[fr].y);$n.vertexLength+=zn.length,$n.primitiveLength+=zn.length}}for(var vr=Vu(Yt,gn),xr=0;xr<vr.length;xr+=3)this.indexArray.emplaceBack(Kt+vr[xr],Kt+vr[xr+1],Kt+vr[xr+2]);Gt.vertexLength+=vt,Gt.primitiveLength+=vr.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,C,K,Re,me)},Lr("FillBucket",Ul,{omit:["layers","patternFeatures"]});var dg=new Pa({"fill-sort-key":new ei(Ue.layout_fill["fill-sort-key"])}),bv={paint:new Pa({"fill-antialias":new Kr(Ue.paint_fill["fill-antialias"]),"fill-opacity":new ei(Ue.paint_fill["fill-opacity"]),"fill-color":new ei(Ue.paint_fill["fill-color"]),"fill-outline-color":new ei(Ue.paint_fill["fill-outline-color"]),"fill-translate":new Kr(Ue.paint_fill["fill-translate"]),"fill-translate-anchor":new Kr(Ue.paint_fill["fill-translate-anchor"]),"fill-pattern":new zu(Ue.paint_fill["fill-pattern"])}),layout:dg},wv=function(C){function z(K){C.call(this,K,bv)}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype.recalculate=function(K,me){C.prototype.recalculate.call(this,K,me);var Re=this.paint._values["fill-outline-color"];"constant"===Re.value.kind&&void 0===Re.value.value&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])},z.prototype.createBucket=function(K){return new Ul(K)},z.prototype.queryRadius=function(){return sh(this.paint.get("fill-translate"))},z.prototype.queryIntersectsFeature=function(K,me,Re,Ve,Ze,st,vt){return dp(rg(K,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),st.angle,vt),Ve)},z.prototype.isTileClipped=function(){return!0},z}(Ra),Tv=ya([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4).members,zf=lc;function lc(C,z,K,me,Re){this.properties={},this.extent=K,this.type=0,this._pbf=C,this._geometry=-1,this._keys=me,this._values=Re,C.readFields(g_,this,z)}function g_(C,z,K){1==C?z.id=K.readVarint():2==C?function(me,Re){for(var Ve=me.readVarint()+me.pos;me.pos<Ve;){var Ze=Re._keys[me.readVarint()],st=Re._values[me.readVarint()];Re.properties[Ze]=st}}(K,z):3==C?z.type=K.readVarint():4==C&&(z._geometry=K.pos)}function mw(C){for(var z,K,me=0,Re=0,Ve=C.length,Ze=Ve-1;Re<Ve;Ze=Re++)me+=((K=C[Ze]).x-(z=C[Re]).x)*(z.y+K.y);return me}lc.types=["Unknown","Point","LineString","Polygon"],lc.prototype.loadGeometry=function(){var C=this._pbf;C.pos=this._geometry;for(var z,K=C.readVarint()+C.pos,me=1,Re=0,Ve=0,Ze=0,st=[];C.pos<K;){if(Re<=0){var vt=C.readVarint();me=7&vt,Re=vt>>3}if(Re--,1===me||2===me)Ve+=C.readSVarint(),Ze+=C.readSVarint(),1===me&&(z&&st.push(z),z=[]),z.push(new i(Ve,Ze));else{if(7!==me)throw new Error("unknown command "+me);z&&z.push(z[0].clone())}}return z&&st.push(z),st},lc.prototype.bbox=function(){var C=this._pbf;C.pos=this._geometry;for(var z=C.readVarint()+C.pos,K=1,me=0,Re=0,Ve=0,Ze=1/0,st=-1/0,vt=1/0,Ct=-1/0;C.pos<z;){if(me<=0){var Ot=C.readVarint();K=7&Ot,me=Ot>>3}if(me--,1===K||2===K)(Re+=C.readSVarint())<Ze&&(Ze=Re),Re>st&&(st=Re),(Ve+=C.readSVarint())<vt&&(vt=Ve),Ve>Ct&&(Ct=Ve);else if(7!==K)throw new Error("unknown command "+K)}return[Ze,vt,st,Ct]},lc.prototype.toGeoJSON=function(C,z,K){var me,Re,Ve=this.extent*Math.pow(2,K),Ze=this.extent*C,st=this.extent*z,vt=this.loadGeometry(),Ct=lc.types[this.type];function Ot(Yt){for(var gn=0;gn<Yt.length;gn++){var _n=Yt[gn];Yt[gn]=[360*(_n.x+Ze)/Ve-180,360/Math.PI*Math.atan(Math.exp((180-360*(_n.y+st)/Ve)*Math.PI/180))-90]}}switch(this.type){case 1:var Gt=[];for(me=0;me<vt.length;me++)Gt[me]=vt[me][0];Ot(vt=Gt);break;case 2:for(me=0;me<vt.length;me++)Ot(vt[me]);break;case 3:for(vt=function(Yt){var gn=Yt.length;if(gn<=1)return[Yt];for(var _n,Fn,zn=[],$n=0;$n<gn;$n++){var Jn=mw(Yt[$n]);0!==Jn&&(void 0===Fn&&(Fn=Jn<0),Fn===Jn<0?(_n&&zn.push(_n),_n=[Yt[$n]]):_n.push(Yt[$n]))}return _n&&zn.push(_n),zn}(vt),me=0;me<vt.length;me++)for(Re=0;Re<vt[me].length;Re++)Ot(vt[me][Re])}1===vt.length?vt=vt[0]:Ct="Multi"+Ct;var Kt={type:"Feature",geometry:{type:Ct,coordinates:vt},properties:this.properties};return"id"in this&&(Kt.id=this.id),Kt};var Tp=m_;function m_(C,z){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=C,this._keys=[],this._values=[],this._features=[],C.readFields(v_,this,z),this.length=this._features.length}function v_(C,z,K){15===C?z.version=K.readVarint():1===C?z.name=K.readString():5===C?z.extent=K.readVarint():2===C?z._features.push(K.pos):3===C?z._keys.push(K.readString()):4===C&&z._values.push(function(me){for(var Re=null,Ve=me.readVarint()+me.pos;me.pos<Ve;){var Ze=me.readVarint()>>3;Re=1===Ze?me.readString():2===Ze?me.readFloat():3===Ze?me.readDouble():4===Ze?me.readVarint64():5===Ze?me.readVarint():6===Ze?me.readSVarint():7===Ze?me.readBoolean():null}return Re}(K))}function y_(C,z,K){if(3===C){var me=new Tp(K,K.readVarint()+K.pos);me.length&&(z[me.name]=me)}}m_.prototype.feature=function(C){if(C<0||C>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[C];var z=this._pbf.readVarint()+this._pbf.pos;return new zf(this._pbf,z,this.extent,this._keys,this._values)};var ch={VectorTile:function(C,z){this.layers=C.readFields(y_,{},z)},VectorTileFeature:zf,VectorTileLayer:Tp},vw=ch.VectorTileFeature.types,fh=Math.pow(2,13);function Dc(C,z,K,me,Re,Ve,Ze,st){C.emplaceBack(z,K,2*Math.floor(me*fh)+Ze,Re*fh*2,Ve*fh*2,Math.round(st))}var Uu=function(C){this.zoom=C.zoom,this.overscaling=C.overscaling,this.layers=C.layers,this.layerIds=this.layers.map(function(z){return z.id}),this.index=C.index,this.hasPattern=!1,this.layoutVertexArray=new nu,this.indexArray=new ie,this.programConfigurations=new po(Tv,C.layers,C.zoom),this.segments=new Pn,this.stateDependentLayerIds=this.layers.filter(function(z){return z.isStateDependent()}).map(function(z){return z.id})};function dh(C,z){return C.x===z.x&&(C.x<0||C.x>Hi)||C.y===z.y&&(C.y<0||C.y>Hi)}Uu.prototype.populate=function(C,z,K){this.features=[],this.hasPattern=dd("fill-extrusion",this.layers,z);for(var me=0,Re=C;me<Re.length;me+=1){var Ve=Re[me],Ze=Ve.feature,st=Ve.id,vt=Ve.index,Ct=Ve.sourceLayerIndex,Ot=this.layers[0]._featureFilter.needGeometry,Gt={type:Ze.type,id:st,properties:Ze.properties,geometry:Ot?Ps(Ze):[]};if(this.layers[0]._featureFilter.filter(new wi(this.zoom),Gt,K)){var Kt={id:st,sourceLayerIndex:Ct,index:vt,geometry:Ot?Gt.geometry:Ps(Ze),properties:Ze.properties,type:Ze.type,patterns:{}};void 0!==Ze.id&&(Kt.id=Ze.id),this.hasPattern?this.features.push(hd("fill-extrusion",this.layers,Kt,this.zoom,z)):this.addFeature(Kt,Kt.geometry,vt,K,{}),z.featureIndex.insert(Ze,Kt.geometry,vt,Ct,this.index,!0)}}},Uu.prototype.addFeatures=function(C,z,K){for(var me=0,Re=this.features;me<Re.length;me+=1){var Ve=Re[me];this.addFeature(Ve,Ve.geometry,Ve.index,z,K)}},Uu.prototype.update=function(C,z,K){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(C,z,this.stateDependentLayers,K)},Uu.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},Uu.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Uu.prototype.upload=function(C){this.uploaded||(this.layoutVertexBuffer=C.createVertexBuffer(this.layoutVertexArray,Tv),this.indexBuffer=C.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(C),this.uploaded=!0},Uu.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Uu.prototype.addFeature=function(C,z,K,me,Re){for(var Ve=0,Ze=sc(z,500);Ve<Ze.length;Ve+=1){for(var st=Ze[Ve],vt=0,Ct=0,Ot=st;Ct<Ot.length;Ct+=1)vt+=Ot[Ct].length;for(var Gt=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),Kt=0,Yt=st;Kt<Yt.length;Kt+=1){var gn=Yt[Kt];if(0!==gn.length&&!((zi=gn).every(function(Ti){return Ti.x<0})||zi.every(function(Ti){return Ti.x>Hi})||zi.every(function(Ti){return Ti.y<0})||zi.every(function(Ti){return Ti.y>Hi})))for(var _n=0,Fn=0;Fn<gn.length;Fn++){var zn=gn[Fn];if(Fn>=1){var $n=gn[Fn-1];if(!dh(zn,$n)){Gt.vertexLength+4>Pn.MAX_VERTEX_ARRAY_LENGTH&&(Gt=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));var Jn=zn.sub($n)._perp()._unit(),fr=$n.dist(zn);_n+fr>32768&&(_n=0),Dc(this.layoutVertexArray,zn.x,zn.y,Jn.x,Jn.y,0,0,_n),Dc(this.layoutVertexArray,zn.x,zn.y,Jn.x,Jn.y,0,1,_n),Dc(this.layoutVertexArray,$n.x,$n.y,Jn.x,Jn.y,0,0,_n+=fr),Dc(this.layoutVertexArray,$n.x,$n.y,Jn.x,Jn.y,0,1,_n);var vr=Gt.vertexLength;this.indexArray.emplaceBack(vr,vr+2,vr+1),this.indexArray.emplaceBack(vr+1,vr+2,vr+3),Gt.vertexLength+=4,Gt.primitiveLength+=2}}}}if(Gt.vertexLength+vt>Pn.MAX_VERTEX_ARRAY_LENGTH&&(Gt=this.segments.prepareSegment(vt,this.layoutVertexArray,this.indexArray)),"Polygon"===vw[C.type]){for(var xr=[],Pr=[],kr=Gt.vertexLength,Vr=0,Zr=st;Vr<Zr.length;Vr+=1){var gi=Zr[Vr];if(0!==gi.length){gi!==st[0]&&Pr.push(xr.length/2);for(var Jr=0;Jr<gi.length;Jr++){var fi=gi[Jr];Dc(this.layoutVertexArray,fi.x,fi.y,0,0,1,1,0),xr.push(fi.x),xr.push(fi.y)}}}for(var ni=Vu(xr,Pr),Xr=0;Xr<ni.length;Xr+=3)this.indexArray.emplaceBack(kr+ni[Xr],kr+ni[Xr+2],kr+ni[Xr+1]);Gt.primitiveLength+=ni.length/3,Gt.vertexLength+=vt}}var zi;this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,C,K,Re,me)},Lr("FillExtrusionBucket",Uu,{omit:["layers","features"]});var hg={paint:new Pa({"fill-extrusion-opacity":new Kr(Ue["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new ei(Ue["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new Kr(Ue["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new Kr(Ue["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new zu(Ue["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new ei(Ue["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new ei(Ue["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new Kr(Ue["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})},Mp=function(C){function z(K){C.call(this,K,hg)}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype.createBucket=function(K){return new Uu(K)},z.prototype.queryRadius=function(){return sh(this.paint.get("fill-extrusion-translate"))},z.prototype.is3D=function(){return!0},z.prototype.queryIntersectsFeature=function(K,me,Re,Ve,Ze,st,vt,Ct){var Ot=rg(K,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),st.angle,vt),Gt=this.paint.get("fill-extrusion-height").evaluate(me,Re),Kt=this.paint.get("fill-extrusion-base").evaluate(me,Re),Yt=function(_n,Fn,zn,$n){for(var Jn=[],fr=0,vr=_n;fr<vr.length;fr+=1){var xr=vr[fr],Pr=[xr.x,xr.y,0,1];gp(Pr,Pr,Fn),Jn.push(new i(Pr[0]/Pr[3],Pr[1]/Pr[3]))}return Jn}(Ot,Ct),gn=function(_n,Fn,zn,$n){for(var Jn=[],fr=[],vr=$n[8]*Fn,xr=$n[9]*Fn,Pr=$n[10]*Fn,kr=$n[11]*Fn,Vr=$n[8]*zn,Zr=$n[9]*zn,gi=$n[10]*zn,Jr=$n[11]*zn,fi=0,ni=_n;fi<ni.length;fi+=1){for(var Xr=[],zi=[],Ti=0,vo=ni[fi];Ti<vo.length;Ti+=1){var si=vo[Ti],eo=si.x,wo=si.y,To=$n[0]*eo+$n[4]*wo+$n[12],yo=$n[1]*eo+$n[5]*wo+$n[13],_o=$n[2]*eo+$n[6]*wo+$n[14],ba=$n[3]*eo+$n[7]*wo+$n[15],Mo=_o+Pr,Qa=ba+kr,hs=To+Vr,ps=yo+Zr,Us=_o+gi,gs=ba+Jr,Na=new i((To+vr)/Qa,(yo+xr)/Qa);Na.z=Mo/Qa,Xr.push(Na);var es=new i(hs/gs,ps/gs);es.z=Us/gs,zi.push(es)}Jn.push(Xr),fr.push(zi)}return[Jn,fr]}(Ve,Kt,Gt,Ct);return function(_n,Fn,zn){var $n=1/0;dp(zn,Fn)&&($n=pg(zn,Fn[0]));for(var Jn=0;Jn<Fn.length;Jn++)for(var fr=Fn[Jn],vr=_n[Jn],xr=0;xr<fr.length-1;xr++){var Pr=fr[xr],Zr=[Pr,fr[xr+1],vr[xr+1],vr[xr],Pr];Ho(zn,Zr)&&($n=Math.min($n,pg(zn,Zr)))}return $n!==1/0&&$n}(gn[0],gn[1],Yt)},z}(Ra);function Ap(C,z){return C.x*z.x+C.y*z.y}function pg(C,z){if(1===C.length){for(var K,me=0,Re=z[me++];!K||Re.equals(K);)if(!(K=z[me++]))return 1/0;for(;me<z.length;me++){var Ve=z[me],Ze=C[0],st=K.sub(Re),vt=Ve.sub(Re),Ct=Ze.sub(Re),Ot=Ap(st,st),Gt=Ap(st,vt),Kt=Ap(vt,vt),Yt=Ap(Ct,st),gn=Ap(Ct,vt),_n=Ot*Kt-Gt*Gt,Fn=(Kt*Yt-Gt*gn)/_n,zn=(Ot*gn-Gt*Yt)/_n,Jn=Re.z*(1-Fn-zn)+K.z*Fn+Ve.z*zn;if(isFinite(Jn))return Jn}return 1/0}for(var fr=1/0,vr=0,xr=z;vr<xr.length;vr+=1)fr=Math.min(fr,xr[vr].z);return fr}var gg=ya([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4).members,__=ch.VectorTileFeature.types,uc=Math.cos(Math.PI/180*37.5),Mv=Math.pow(2,14)/.5,Ms=function(C){this.zoom=C.zoom,this.overscaling=C.overscaling,this.layers=C.layers,this.layerIds=this.layers.map(function(z){return z.id}),this.index=C.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new yu,this.indexArray=new ie,this.programConfigurations=new po(gg,C.layers,C.zoom),this.segments=new Pn,this.stateDependentLayerIds=this.layers.filter(function(z){return z.isStateDependent()}).map(function(z){return z.id})};Ms.prototype.populate=function(C,z,K){this.hasPattern=dd("line",this.layers,z);for(var me=this.layers[0].layout.get("line-sort-key"),Re=[],Ve=0,Ze=C;Ve<Ze.length;Ve+=1){var st=Ze[Ve],vt=st.feature,Ct=st.id,Ot=st.index,Gt=st.sourceLayerIndex,Kt=this.layers[0]._featureFilter.needGeometry,Yt={type:vt.type,id:Ct,properties:vt.properties,geometry:Kt?Ps(vt):[]};if(this.layers[0]._featureFilter.filter(new wi(this.zoom),Yt,K)){Kt||(Yt.geometry=Ps(vt));var gn=me?me.evaluate(Yt,{},K):void 0;Re.push({id:Ct,properties:vt.properties,type:vt.type,sourceLayerIndex:Gt,index:Ot,geometry:Yt.geometry,patterns:{},sortKey:gn})}}me&&Re.sort(function(Vr,Zr){return Vr.sortKey-Zr.sortKey});for(var Fn=0,zn=Re;Fn<zn.length;Fn+=1){var $n=zn[Fn],fr=$n.geometry,vr=$n.index,xr=$n.sourceLayerIndex;if(this.hasPattern){var Pr=hd("line",this.layers,$n,this.zoom,z);this.patternFeatures.push(Pr)}else this.addFeature($n,fr,vr,K,{});z.featureIndex.insert(C[vr].feature,fr,vr,xr,this.index)}},Ms.prototype.update=function(C,z,K){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(C,z,this.stateDependentLayers,K)},Ms.prototype.addFeatures=function(C,z,K){for(var me=0,Re=this.patternFeatures;me<Re.length;me+=1){var Ve=Re[me];this.addFeature(Ve,Ve.geometry,Ve.index,z,K)}},Ms.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},Ms.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Ms.prototype.upload=function(C){this.uploaded||(this.layoutVertexBuffer=C.createVertexBuffer(this.layoutVertexArray,gg),this.indexBuffer=C.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(C),this.uploaded=!0},Ms.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Ms.prototype.addFeature=function(C,z,K,me,Re){for(var Ve=this.layers[0].layout,Ze=Ve.get("line-join").evaluate(C,{}),st=Ve.get("line-cap"),vt=Ve.get("line-miter-limit"),Ct=Ve.get("line-round-limit"),Ot=0,Gt=z;Ot<Gt.length;Ot+=1)this.addLine(Gt[Ot],C,Ze,st,vt,Ct);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,C,K,Re,me)},Ms.prototype.addLine=function(C,z,K,me,Re,Ve){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,z.properties&&z.properties.hasOwnProperty("mapbox_clip_start")&&z.properties.hasOwnProperty("mapbox_clip_end")){this.clipStart=+z.properties.mapbox_clip_start,this.clipEnd=+z.properties.mapbox_clip_end;for(var Ze=0;Ze<C.length-1;Ze++)this.totalDistance+=C[Ze].dist(C[Ze+1]);this.updateScaledDistance()}for(var st="Polygon"===__[z.type],vt=C.length;vt>=2&&C[vt-1].equals(C[vt-2]);)vt--;for(var Ct=0;Ct<vt-1&&C[Ct].equals(C[Ct+1]);)Ct++;if(!(vt<(st?3:2))){"bevel"===K&&(Re=1.05);var Ot,Gt=this.overscaling<=16?15*Hi/(512*this.overscaling):0,Kt=this.segments.prepareSegment(10*vt,this.layoutVertexArray,this.indexArray),Yt=void 0,gn=void 0,_n=void 0,Fn=void 0;this.e1=this.e2=-1,st&&(Fn=C[Ct].sub(Ot=C[vt-2])._unit()._perp());for(var zn=Ct;zn<vt;zn++)if(!(gn=zn===vt-1?st?C[Ct+1]:void 0:C[zn+1])||!C[zn].equals(gn)){Fn&&(_n=Fn),Ot&&(Yt=Ot),Ot=C[zn],Fn=gn?gn.sub(Ot)._unit()._perp():_n;var $n=(_n=_n||Fn).add(Fn);0===$n.x&&0===$n.y||$n._unit();var Jn=_n.x*Fn.x+_n.y*Fn.y,fr=$n.x*Fn.x+$n.y*Fn.y,vr=0!==fr?1/fr:1/0,xr=2*Math.sqrt(2-2*fr),Pr=fr<uc&&Yt&&gn,kr=_n.x*Fn.y-_n.y*Fn.x>0;if(Pr&&zn>Ct){var Vr=Ot.dist(Yt);if(Vr>2*Gt){var Zr=Ot.sub(Ot.sub(Yt)._mult(Gt/Vr)._round());this.updateDistance(Yt,Zr),this.addCurrentVertex(Zr,_n,0,0,Kt),Yt=Zr}}var gi=Yt&&gn,Jr=gi?K:st?"butt":me;if(gi&&"round"===Jr&&(vr<Ve?Jr="miter":vr<=2&&(Jr="fakeround")),"miter"===Jr&&vr>Re&&(Jr="bevel"),"bevel"===Jr&&(vr>2&&(Jr="flipbevel"),vr<Re&&(Jr="miter")),Yt&&this.updateDistance(Yt,Ot),"miter"===Jr)$n._mult(vr),this.addCurrentVertex(Ot,$n,0,0,Kt);else if("flipbevel"===Jr){if(vr>100)$n=Fn.mult(-1);else{var fi=vr*_n.add(Fn).mag()/_n.sub(Fn).mag();$n._perp()._mult(fi*(kr?-1:1))}this.addCurrentVertex(Ot,$n,0,0,Kt),this.addCurrentVertex(Ot,$n.mult(-1),0,0,Kt)}else if("bevel"===Jr||"fakeround"===Jr){var ni=-Math.sqrt(vr*vr-1),Xr=kr?ni:0,zi=kr?0:ni;if(Yt&&this.addCurrentVertex(Ot,_n,Xr,zi,Kt),"fakeround"===Jr)for(var Ti=Math.round(180*xr/Math.PI/20),vo=1;vo<Ti;vo++){var si=vo/Ti;if(.5!==si){var eo=si-.5;si+=si*eo*(si-1)*((1.0904+Jn*(Jn*(3.55645-1.43519*Jn)-3.2452))*eo*eo+(.848013+Jn*(.215638*Jn-1.06021)))}var wo=Fn.sub(_n)._mult(si)._add(_n)._unit()._mult(kr?-1:1);this.addHalfVertex(Ot,wo.x,wo.y,!1,kr,0,Kt)}gn&&this.addCurrentVertex(Ot,Fn,-Xr,-zi,Kt)}else if("butt"===Jr)this.addCurrentVertex(Ot,$n,0,0,Kt);else if("square"===Jr){var To=Yt?1:-1;this.addCurrentVertex(Ot,$n,To,To,Kt)}else"round"===Jr&&(Yt&&(this.addCurrentVertex(Ot,_n,0,0,Kt),this.addCurrentVertex(Ot,_n,1,1,Kt,!0)),gn&&(this.addCurrentVertex(Ot,Fn,-1,-1,Kt,!0),this.addCurrentVertex(Ot,Fn,0,0,Kt)));if(Pr&&zn<vt-1){var yo=Ot.dist(gn);if(yo>2*Gt){var _o=Ot.add(gn.sub(Ot)._mult(Gt/yo)._round());this.updateDistance(Ot,_o),this.addCurrentVertex(_o,Fn,0,0,Kt),Ot=_o}}}}},Ms.prototype.addCurrentVertex=function(C,z,K,me,Re,Ve){void 0===Ve&&(Ve=!1);var vt=z.y*me-z.x,Ct=-z.y-z.x*me;this.addHalfVertex(C,z.x+z.y*K,z.y-z.x*K,Ve,!1,K,Re),this.addHalfVertex(C,vt,Ct,Ve,!0,-me,Re),this.distance>Mv/2&&0===this.totalDistance&&(this.distance=0,this.addCurrentVertex(C,z,K,me,Re,Ve))},Ms.prototype.addHalfVertex=function(C,z,K,me,Re,Ve,Ze){var Ct=.5*this.scaledDistance;this.layoutVertexArray.emplaceBack((C.x<<1)+(me?1:0),(C.y<<1)+(Re?1:0),Math.round(63*z)+128,Math.round(63*K)+128,1+(0===Ve?0:Ve<0?-1:1)|(63&Ct)<<2,Ct>>6);var Ot=Ze.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,Ot),Ze.primitiveLength++),Re?this.e2=Ot:this.e1=Ot},Ms.prototype.updateScaledDistance=function(){this.scaledDistance=this.totalDistance>0?(this.clipStart+(this.clipEnd-this.clipStart)*this.distance/this.totalDistance)*(Mv-1):this.distance},Ms.prototype.updateDistance=function(C,z){this.distance+=C.dist(z),this.updateScaledDistance()},Lr("LineBucket",Ms,{omit:["layers","patternFeatures"]});var mg=new Pa({"line-cap":new Kr(Ue.layout_line["line-cap"]),"line-join":new ei(Ue.layout_line["line-join"]),"line-miter-limit":new Kr(Ue.layout_line["line-miter-limit"]),"line-round-limit":new Kr(Ue.layout_line["line-round-limit"]),"line-sort-key":new ei(Ue.layout_line["line-sort-key"])}),vg={paint:new Pa({"line-opacity":new ei(Ue.paint_line["line-opacity"]),"line-color":new ei(Ue.paint_line["line-color"]),"line-translate":new Kr(Ue.paint_line["line-translate"]),"line-translate-anchor":new Kr(Ue.paint_line["line-translate-anchor"]),"line-width":new ei(Ue.paint_line["line-width"]),"line-gap-width":new ei(Ue.paint_line["line-gap-width"]),"line-offset":new ei(Ue.paint_line["line-offset"]),"line-blur":new ei(Ue.paint_line["line-blur"]),"line-dasharray":new Xa(Ue.paint_line["line-dasharray"]),"line-pattern":new zu(Ue.paint_line["line-pattern"]),"line-gradient":new Ql(Ue.paint_line["line-gradient"])}),layout:mg},Sp=function(C){function z(){C.apply(this,arguments)}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype.possiblyEvaluate=function(K,me){return me=new wi(Math.floor(me.zoom),{now:me.now,fadeDuration:me.fadeDuration,zoomHistory:me.zoomHistory,transition:me.transition}),C.prototype.possiblyEvaluate.call(this,K,me)},z.prototype.evaluate=function(K,me,Re,Ve){return me=h({},me,{zoom:Math.floor(me.zoom)}),C.prototype.evaluate.call(this,K,me,Re,Ve)},z}(ei),kp=new Sp(vg.paint.properties["line-width"].specification);kp.useIntegerZoom=!0;var x_=function(C){function z(K){C.call(this,K,vg)}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype._handleSpecialPaintPropertyUpdate=function(K){"line-gradient"===K&&this._updateGradient()},z.prototype._updateGradient=function(){this.gradient=vp(this._transitionablePaint._values["line-gradient"].value.expression,"lineProgress"),this.gradientTexture=null},z.prototype.recalculate=function(K,me){C.prototype.recalculate.call(this,K,me),this.paint._values["line-floorwidth"]=kp.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,K)},z.prototype.createBucket=function(K){return new Ms(K)},z.prototype.queryRadius=function(K){var me=K,Re=yg(xi("line-width",this,me),xi("line-gap-width",this,me)),Ve=xi("line-offset",this,me);return Re/2+Math.abs(Ve)+sh(this.paint.get("line-translate"))},z.prototype.queryIntersectsFeature=function(K,me,Re,Ve,Ze,st,vt){var Ct=rg(K,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),st.angle,vt),Ot=vt/2*yg(this.paint.get("line-width").evaluate(me,Re),this.paint.get("line-gap-width").evaluate(me,Re)),Gt=this.paint.get("line-offset").evaluate(me,Re);return Gt&&(Ve=function(Kt,Yt){for(var gn=[],_n=new i(0,0),Fn=0;Fn<Kt.length;Fn++){for(var zn=Kt[Fn],$n=[],Jn=0;Jn<zn.length;Jn++){var vr=zn[Jn],xr=zn[Jn+1],Pr=0===Jn?_n:vr.sub(zn[Jn-1])._unit()._perp(),kr=Jn===zn.length-1?_n:xr.sub(vr)._unit()._perp(),Vr=Pr._add(kr)._unit();Vr._mult(1/(Vr.x*kr.x+Vr.y*kr.y)),$n.push(Vr._mult(Yt)._add(vr))}gn.push($n)}return gn}(Ve,Gt*vt)),function(Kt,Yt,gn){for(var _n=0;_n<Yt.length;_n++){var Fn=Yt[_n];if(Kt.length>=3)for(var zn=0;zn<Fn.length;zn++)if(Ec(Kt,Fn[zn]))return!0;if(ng(Kt,Fn,gn))return!0}return!1}(Ct,Ve,Ot)},z.prototype.isTileClipped=function(){return!0},z}(Ra);function yg(C,z){return z>0?z+2*C:C}var Ep=ya([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),Av=ya([{name:"a_projected_pos",components:3,type:"Float32"}],4),Sv=(ya([{name:"a_fade_opacity",components:1,type:"Uint32"}],4),ya([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}])),kv=(ya([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]),ya([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4)),Cp=ya([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function Bf(C,z,K){return C.sections.forEach(function(me){var Re,Ze,st;me.text=(Re=me.text,Ze=K,"uppercase"===(st=z.layout.get("text-transform").evaluate(Ze,{}))?Re=Re.toLocaleUpperCase():"lowercase"===st&&(Re=Re.toLocaleLowerCase()),Fi.applyArabicShaping&&(Re=Fi.applyArabicShaping(Re)),Re)}),C}ya([{name:"triangle",components:3,type:"Uint16"}]),ya([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),ya([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),ya([{type:"Float32",name:"offsetX"}]),ya([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);var hh={"!":"\ufe15","#":"\uff03",$:"\uff04","%":"\uff05","&":"\uff06","(":"\ufe35",")":"\ufe36","*":"\uff0a","+":"\uff0b",",":"\ufe10","-":"\ufe32",".":"\u30fb","/":"\uff0f",":":"\ufe13",";":"\ufe14","<":"\ufe3f","=":"\uff1d",">":"\ufe40","?":"\ufe16","@":"\uff20","[":"\ufe47","\\":"\uff3c","]":"\ufe48","^":"\uff3e",_:"\ufe33","`":"\uff40","{":"\ufe37","|":"\u2015","}":"\ufe38","~":"\uff5e","\xa2":"\uffe0","\xa3":"\uffe1","\xa5":"\uffe5","\xa6":"\uffe4","\xac":"\uffe2","\xaf":"\uffe3","\u2013":"\ufe32","\u2014":"\ufe31","\u2018":"\ufe43","\u2019":"\ufe44","\u201c":"\ufe41","\u201d":"\ufe42","\u2026":"\ufe19","\u2027":"\u30fb","\u20a9":"\uffe6","\u3001":"\ufe11","\u3002":"\ufe12","\u3008":"\ufe3f","\u3009":"\ufe40","\u300a":"\ufe3d","\u300b":"\ufe3e","\u300c":"\ufe41","\u300d":"\ufe42","\u300e":"\ufe43","\u300f":"\ufe44","\u3010":"\ufe3b","\u3011":"\ufe3c","\u3014":"\ufe39","\u3015":"\ufe3a","\u3016":"\ufe17","\u3017":"\ufe18","\uff01":"\ufe15","\uff08":"\ufe35","\uff09":"\ufe36","\uff0c":"\ufe10","\uff0d":"\ufe32","\uff0e":"\u30fb","\uff1a":"\ufe13","\uff1b":"\ufe14","\uff1c":"\ufe3f","\uff1e":"\ufe40","\uff1f":"\ufe16","\uff3b":"\ufe47","\uff3d":"\ufe48","\uff3f":"\ufe33","\uff5b":"\ufe37","\uff5c":"\u2015","\uff5d":"\ufe38","\uff5f":"\ufe35","\uff60":"\ufe36","\uff61":"\ufe12","\uff62":"\ufe41","\uff63":"\ufe42"},Ja=24,_g=function(C,z,K,me,Re){var Ve,Ze,st=8*Re-me-1,vt=(1<<st)-1,Ct=vt>>1,Ot=-7,Gt=K?Re-1:0,Kt=K?-1:1,Yt=C[z+Gt];for(Gt+=Kt,Ve=Yt&(1<<-Ot)-1,Yt>>=-Ot,Ot+=st;Ot>0;Ve=256*Ve+C[z+Gt],Gt+=Kt,Ot-=8);for(Ze=Ve&(1<<-Ot)-1,Ve>>=-Ot,Ot+=me;Ot>0;Ze=256*Ze+C[z+Gt],Gt+=Kt,Ot-=8);if(0===Ve)Ve=1-Ct;else{if(Ve===vt)return Ze?NaN:1/0*(Yt?-1:1);Ze+=Math.pow(2,me),Ve-=Ct}return(Yt?-1:1)*Ze*Math.pow(2,Ve-me)},pd=function(C,z,K,me,Re,Ve){var Ze,st,vt,Ct=8*Ve-Re-1,Ot=(1<<Ct)-1,Gt=Ot>>1,Kt=23===Re?Math.pow(2,-24)-Math.pow(2,-77):0,Yt=me?0:Ve-1,gn=me?1:-1,_n=z<0||0===z&&1/z<0?1:0;for(z=Math.abs(z),isNaN(z)||z===1/0?(st=isNaN(z)?1:0,Ze=Ot):(Ze=Math.floor(Math.log(z)/Math.LN2),z*(vt=Math.pow(2,-Ze))<1&&(Ze--,vt*=2),(z+=Ze+Gt>=1?Kt/vt:Kt*Math.pow(2,1-Gt))*vt>=2&&(Ze++,vt/=2),Ze+Gt>=Ot?(st=0,Ze=Ot):Ze+Gt>=1?(st=(z*vt-1)*Math.pow(2,Re),Ze+=Gt):(st=z*Math.pow(2,Gt-1)*Math.pow(2,Re),Ze=0));Re>=8;C[K+Yt]=255&st,Yt+=gn,st/=256,Re-=8);for(Ze=Ze<<Re|st,Ct+=Re;Ct>0;C[K+Yt]=255&Ze,Yt+=gn,Ze/=256,Ct-=8);C[K+Yt-gn]|=128*_n},Dp=Oi;function Oi(C){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(C)?C:new Uint8Array(C||0),this.pos=0,this.type=0,this.length=this.buf.length}Oi.Varint=0,Oi.Fixed64=1,Oi.Bytes=2,Oi.Fixed32=5;var xg=4294967296,Va=1/xg,Ip=typeof TextDecoder>"u"?null:new TextDecoder("utf8");function Ic(C){return C.type===Oi.Bytes?C.readVarint()+C.pos:C.pos+1}function hf(C,z,K){var me=z<=16383?1:z<=2097151?2:z<=268435455?3:Math.floor(Math.log(z)/(7*Math.LN2));K.realloc(me);for(var Re=K.pos-1;Re>=C;Re--)K.buf[Re+me]=K.buf[Re]}function gd(C,z){for(var K=0;K<C.length;K++)z.writeVarint(C[K])}function md(C,z){for(var K=0;K<C.length;K++)z.writeSVarint(C[K])}function vd(C,z){for(var K=0;K<C.length;K++)z.writeFloat(C[K])}function Ev(C,z){for(var K=0;K<C.length;K++)z.writeDouble(C[K])}function bg(C,z){for(var K=0;K<C.length;K++)z.writeBoolean(C[K])}function yd(C,z){for(var K=0;K<C.length;K++)z.writeFixed32(C[K])}function yw(C,z){for(var K=0;K<C.length;K++)z.writeSFixed32(C[K])}function b_(C,z){for(var K=0;K<C.length;K++)z.writeFixed64(C[K])}function _w(C,z){for(var K=0;K<C.length;K++)z.writeSFixed64(C[K])}function wg(C,z){return(C[z]|C[z+1]<<8|C[z+2]<<16)+16777216*C[z+3]}function ph(C,z,K){C[K]=z,C[K+1]=z>>>8,C[K+2]=z>>>16,C[K+3]=z>>>24}function w_(C,z){return(C[z]|C[z+1]<<8|C[z+2]<<16)+(C[z+3]<<24)}Oi.prototype={destroy:function(){this.buf=null},readFields:function(C,z,K){for(K=K||this.length;this.pos<K;){var me=this.readVarint(),Re=me>>3,Ve=this.pos;this.type=7&me,C(Re,z,this),this.pos===Ve&&this.skip(me)}return z},readMessage:function(C,z){return this.readFields(C,z,this.readVarint()+this.pos)},readFixed32:function(){var C=wg(this.buf,this.pos);return this.pos+=4,C},readSFixed32:function(){var C=w_(this.buf,this.pos);return this.pos+=4,C},readFixed64:function(){var C=wg(this.buf,this.pos)+wg(this.buf,this.pos+4)*xg;return this.pos+=8,C},readSFixed64:function(){var C=wg(this.buf,this.pos)+w_(this.buf,this.pos+4)*xg;return this.pos+=8,C},readFloat:function(){var C=_g(this.buf,this.pos,!0,23,4);return this.pos+=4,C},readDouble:function(){var C=_g(this.buf,this.pos,!0,52,8);return this.pos+=8,C},readVarint:function(C){var z,K,me=this.buf;return z=127&(K=me[this.pos++]),K<128?z:(z|=(127&(K=me[this.pos++]))<<7,K<128?z:(z|=(127&(K=me[this.pos++]))<<14,K<128?z:(z|=(127&(K=me[this.pos++]))<<21,K<128?z:function(Re,Ve,Ze){var st,vt,Ct=Ze.buf;if(st=(112&(vt=Ct[Ze.pos++]))>>4,vt<128||(st|=(127&(vt=Ct[Ze.pos++]))<<3,vt<128)||(st|=(127&(vt=Ct[Ze.pos++]))<<10,vt<128)||(st|=(127&(vt=Ct[Ze.pos++]))<<17,vt<128)||(st|=(127&(vt=Ct[Ze.pos++]))<<24,vt<128)||(st|=(1&(vt=Ct[Ze.pos++]))<<31,vt<128))return function jf(C,z,K){return K?4294967296*z+(C>>>0):4294967296*(z>>>0)+(C>>>0)}(Re,st,Ve);throw new Error("Expected varint not more than 10 bytes")}(z|=(15&(K=me[this.pos]))<<28,C,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var C=this.readVarint();return C%2==1?(C+1)/-2:C/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var C=this.readVarint()+this.pos,z=this.pos;return this.pos=C,C-z>=12&&Ip?Ip.decode(this.buf.subarray(z,C)):function(K,me,Re){for(var Ve="",Ze=me;Ze<Re;){var st,vt,Ct,Ot=K[Ze],Gt=null,Kt=Ot>239?4:Ot>223?3:Ot>191?2:1;if(Ze+Kt>Re)break;1===Kt?Ot<128&&(Gt=Ot):2===Kt?128==(192&(st=K[Ze+1]))&&(Gt=(31&Ot)<<6|63&st)<=127&&(Gt=null):3===Kt?(vt=K[Ze+2],128==(192&(st=K[Ze+1]))&&128==(192&vt)&&((Gt=(15&Ot)<<12|(63&st)<<6|63&vt)<=2047||Gt>=55296&&Gt<=57343)&&(Gt=null)):4===Kt&&(vt=K[Ze+2],Ct=K[Ze+3],128==(192&(st=K[Ze+1]))&&128==(192&vt)&&128==(192&Ct)&&((Gt=(15&Ot)<<18|(63&st)<<12|(63&vt)<<6|63&Ct)<=65535||Gt>=1114112)&&(Gt=null)),null===Gt?(Gt=65533,Kt=1):Gt>65535&&(Gt-=65536,Ve+=String.fromCharCode(Gt>>>10&1023|55296),Gt=56320|1023&Gt),Ve+=String.fromCharCode(Gt),Ze+=Kt}return Ve}(this.buf,z,C)},readBytes:function(){var C=this.readVarint()+this.pos,z=this.buf.subarray(this.pos,C);return this.pos=C,z},readPackedVarint:function(C,z){if(this.type!==Oi.Bytes)return C.push(this.readVarint(z));var K=Ic(this);for(C=C||[];this.pos<K;)C.push(this.readVarint(z));return C},readPackedSVarint:function(C){if(this.type!==Oi.Bytes)return C.push(this.readSVarint());var z=Ic(this);for(C=C||[];this.pos<z;)C.push(this.readSVarint());return C},readPackedBoolean:function(C){if(this.type!==Oi.Bytes)return C.push(this.readBoolean());var z=Ic(this);for(C=C||[];this.pos<z;)C.push(this.readBoolean());return C},readPackedFloat:function(C){if(this.type!==Oi.Bytes)return C.push(this.readFloat());var z=Ic(this);for(C=C||[];this.pos<z;)C.push(this.readFloat());return C},readPackedDouble:function(C){if(this.type!==Oi.Bytes)return C.push(this.readDouble());var z=Ic(this);for(C=C||[];this.pos<z;)C.push(this.readDouble());return C},readPackedFixed32:function(C){if(this.type!==Oi.Bytes)return C.push(this.readFixed32());var z=Ic(this);for(C=C||[];this.pos<z;)C.push(this.readFixed32());return C},readPackedSFixed32:function(C){if(this.type!==Oi.Bytes)return C.push(this.readSFixed32());var z=Ic(this);for(C=C||[];this.pos<z;)C.push(this.readSFixed32());return C},readPackedFixed64:function(C){if(this.type!==Oi.Bytes)return C.push(this.readFixed64());var z=Ic(this);for(C=C||[];this.pos<z;)C.push(this.readFixed64());return C},readPackedSFixed64:function(C){if(this.type!==Oi.Bytes)return C.push(this.readSFixed64());var z=Ic(this);for(C=C||[];this.pos<z;)C.push(this.readSFixed64());return C},skip:function(C){var z=7&C;if(z===Oi.Varint)for(;this.buf[this.pos++]>127;);else if(z===Oi.Bytes)this.pos=this.readVarint()+this.pos;else if(z===Oi.Fixed32)this.pos+=4;else{if(z!==Oi.Fixed64)throw new Error("Unimplemented type: "+z);this.pos+=8}},writeTag:function(C,z){this.writeVarint(C<<3|z)},realloc:function(C){for(var z=this.length||16;z<this.pos+C;)z*=2;if(z!==this.length){var K=new Uint8Array(z);K.set(this.buf),this.buf=K,this.length=z}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(C){this.realloc(4),ph(this.buf,C,this.pos),this.pos+=4},writeSFixed32:function(C){this.realloc(4),ph(this.buf,C,this.pos),this.pos+=4},writeFixed64:function(C){this.realloc(8),ph(this.buf,-1&C,this.pos),ph(this.buf,Math.floor(C*Va),this.pos+4),this.pos+=8},writeSFixed64:function(C){this.realloc(8),ph(this.buf,-1&C,this.pos),ph(this.buf,Math.floor(C*Va),this.pos+4),this.pos+=8},writeVarint:function(C){(C=+C||0)>268435455||C<0?function(z,K){var me,Re,Ve,st;if(z>=0?(me=z%4294967296|0,Re=z/4294967296|0):(Re=~(-z/4294967296),4294967295^(me=~(-z%4294967296))?me=me+1|0:(me=0,Re=Re+1|0)),z>=0x10000000000000000||z<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");K.realloc(10),Ve=me,(st=K).buf[st.pos++]=127&Ve|128,Ve>>>=7,st.buf[st.pos++]=127&Ve|128,Ve>>>=7,st.buf[st.pos++]=127&Ve|128,Ve>>>=7,st.buf[st.pos++]=127&Ve|128,st.buf[st.pos]=127&(Ve>>>=7),function(Ve,Ze){var st=(7&Ve)<<4;Ze.buf[Ze.pos++]|=st|((Ve>>>=3)?128:0),Ve&&(Ze.buf[Ze.pos++]=127&Ve|((Ve>>>=7)?128:0),Ve&&(Ze.buf[Ze.pos++]=127&Ve|((Ve>>>=7)?128:0),Ve&&(Ze.buf[Ze.pos++]=127&Ve|((Ve>>>=7)?128:0),Ve&&(Ze.buf[Ze.pos++]=127&Ve|((Ve>>>=7)?128:0),Ve&&(Ze.buf[Ze.pos++]=127&Ve)))))}(Re,K)}(C,this):(this.realloc(4),this.buf[this.pos++]=127&C|(C>127?128:0),C<=127||(this.buf[this.pos++]=127&(C>>>=7)|(C>127?128:0),C<=127||(this.buf[this.pos++]=127&(C>>>=7)|(C>127?128:0),C<=127||(this.buf[this.pos++]=C>>>7&127))))},writeSVarint:function(C){this.writeVarint(C<0?2*-C-1:2*C)},writeBoolean:function(C){this.writeVarint(!!C)},writeString:function(C){C=String(C),this.realloc(4*C.length),this.pos++;var z=this.pos;this.pos=function(me,Re,Ve){for(var Ze,st,vt=0;vt<Re.length;vt++){if((Ze=Re.charCodeAt(vt))>55295&&Ze<57344){if(!st){Ze>56319||vt+1===Re.length?(me[Ve++]=239,me[Ve++]=191,me[Ve++]=189):st=Ze;continue}if(Ze<56320){me[Ve++]=239,me[Ve++]=191,me[Ve++]=189,st=Ze;continue}Ze=st-55296<<10|Ze-56320|65536,st=null}else st&&(me[Ve++]=239,me[Ve++]=191,me[Ve++]=189,st=null);Ze<128?me[Ve++]=Ze:(Ze<2048?me[Ve++]=Ze>>6|192:(Ze<65536?me[Ve++]=Ze>>12|224:(me[Ve++]=Ze>>18|240,me[Ve++]=Ze>>12&63|128),me[Ve++]=Ze>>6&63|128),me[Ve++]=63&Ze|128)}return Ve}(this.buf,C,this.pos);var K=this.pos-z;K>=128&&hf(z,K,this),this.pos=z-1,this.writeVarint(K),this.pos+=K},writeFloat:function(C){this.realloc(4),pd(this.buf,C,this.pos,!0,23,4),this.pos+=4},writeDouble:function(C){this.realloc(8),pd(this.buf,C,this.pos,!0,52,8),this.pos+=8},writeBytes:function(C){var z=C.length;this.writeVarint(z),this.realloc(z);for(var K=0;K<z;K++)this.buf[this.pos++]=C[K]},writeRawMessage:function(C,z){this.pos++;var K=this.pos;C(z,this);var me=this.pos-K;me>=128&&hf(K,me,this),this.pos=K-1,this.writeVarint(me),this.pos+=me},writeMessage:function(C,z,K){this.writeTag(C,Oi.Bytes),this.writeRawMessage(z,K)},writePackedVarint:function(C,z){z.length&&this.writeMessage(C,gd,z)},writePackedSVarint:function(C,z){z.length&&this.writeMessage(C,md,z)},writePackedBoolean:function(C,z){z.length&&this.writeMessage(C,bg,z)},writePackedFloat:function(C,z){z.length&&this.writeMessage(C,vd,z)},writePackedDouble:function(C,z){z.length&&this.writeMessage(C,Ev,z)},writePackedFixed32:function(C,z){z.length&&this.writeMessage(C,yd,z)},writePackedSFixed32:function(C,z){z.length&&this.writeMessage(C,yw,z)},writePackedFixed64:function(C,z){z.length&&this.writeMessage(C,b_,z)},writePackedSFixed64:function(C,z){z.length&&this.writeMessage(C,_w,z)},writeBytesField:function(C,z){this.writeTag(C,Oi.Bytes),this.writeBytes(z)},writeFixed32Field:function(C,z){this.writeTag(C,Oi.Fixed32),this.writeFixed32(z)},writeSFixed32Field:function(C,z){this.writeTag(C,Oi.Fixed32),this.writeSFixed32(z)},writeFixed64Field:function(C,z){this.writeTag(C,Oi.Fixed64),this.writeFixed64(z)},writeSFixed64Field:function(C,z){this.writeTag(C,Oi.Fixed64),this.writeSFixed64(z)},writeVarintField:function(C,z){this.writeTag(C,Oi.Varint),this.writeVarint(z)},writeSVarintField:function(C,z){this.writeTag(C,Oi.Varint),this.writeSVarint(z)},writeStringField:function(C,z){this.writeTag(C,Oi.Bytes),this.writeString(z)},writeFloatField:function(C,z){this.writeTag(C,Oi.Fixed32),this.writeFloat(z)},writeDoubleField:function(C,z){this.writeTag(C,Oi.Fixed64),this.writeDouble(z)},writeBooleanField:function(C,z){this.writeVarintField(C,!!z)}};var Cv=3;function xw(C,z,K){1===C&&K.readMessage(_d,z)}function _d(C,z,K){if(3===C){var me=K.readMessage(T_,{}),Ze=me.width,st=me.height,vt=me.left,Ct=me.top,Ot=me.advance;z.push({id:me.id,bitmap:new ju({width:Ze+2*Cv,height:st+2*Cv},me.bitmap),metrics:{width:Ze,height:st,left:vt,top:Ct,advance:Ot}})}}function T_(C,z,K){1===C?z.id=K.readVarint():2===C?z.bitmap=K.readBytes():3===C?z.width=K.readVarint():4===C?z.height=K.readVarint():5===C?z.left=K.readSVarint():6===C?z.top=K.readSVarint():7===C&&(z.advance=K.readVarint())}var Dv=Cv;function ds(C){for(var z=0,K=0,me=0,Re=C;me<Re.length;me+=1){var Ve=Re[me];z+=Ve.w*Ve.h,K=Math.max(K,Ve.w)}C.sort(function(_n,Fn){return Fn.h-_n.h});for(var Ze=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(z/.95)),K),h:1/0}],st=0,vt=0,Ct=0,Ot=C;Ct<Ot.length;Ct+=1)for(var Gt=Ot[Ct],Kt=Ze.length-1;Kt>=0;Kt--){var Yt=Ze[Kt];if(!(Gt.w>Yt.w||Gt.h>Yt.h)){if(Gt.x=Yt.x,Gt.y=Yt.y,vt=Math.max(vt,Gt.y+Gt.h),st=Math.max(st,Gt.x+Gt.w),Gt.w===Yt.w&&Gt.h===Yt.h){var gn=Ze.pop();Kt<Ze.length&&(Ze[Kt]=gn)}else Gt.h===Yt.h?(Yt.x+=Gt.w,Yt.w-=Gt.w):Gt.w===Yt.w?(Yt.y+=Gt.h,Yt.h-=Gt.h):(Ze.push({x:Yt.x+Gt.w,y:Yt.y,w:Yt.w-Gt.w,h:Gt.h}),Yt.y+=Gt.h,Yt.h-=Gt.h);break}}return{w:st,h:vt,fill:z/(st*vt)||0}}var pf=function(C,z){var K=z.pixelRatio,me=z.version,Re=z.stretchX,Ve=z.stretchY,Ze=z.content;this.paddedRect=C,this.pixelRatio=K,this.stretchX=Re,this.stretchY=Ve,this.content=Ze,this.version=me},gh={tl:{configurable:!0},br:{configurable:!0},tlbr:{configurable:!0},displaySize:{configurable:!0}};gh.tl.get=function(){return[this.paddedRect.x+1,this.paddedRect.y+1]},gh.br.get=function(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]},gh.tlbr.get=function(){return this.tl.concat(this.br)},gh.displaySize.get=function(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]},Object.defineProperties(pf.prototype,gh);var al=function(C,z){var K={},me={};this.haveRenderCallbacks=[];var Re=[];this.addImages(C,K,Re),this.addImages(z,me,Re);var Ve=ds(Re),vt=new xa({width:Ve.w||1,height:Ve.h||1});for(var Ct in C){var Ot=C[Ct],Gt=K[Ct].paddedRect;xa.copy(Ot.data,vt,{x:0,y:0},{x:Gt.x+1,y:Gt.y+1},Ot.data)}for(var Kt in z){var Yt=z[Kt],gn=me[Kt].paddedRect,_n=gn.x+1,Fn=gn.y+1,zn=Yt.data.width,$n=Yt.data.height;xa.copy(Yt.data,vt,{x:0,y:0},{x:_n,y:Fn},Yt.data),xa.copy(Yt.data,vt,{x:0,y:$n-1},{x:_n,y:Fn-1},{width:zn,height:1}),xa.copy(Yt.data,vt,{x:0,y:0},{x:_n,y:Fn+$n},{width:zn,height:1}),xa.copy(Yt.data,vt,{x:zn-1,y:0},{x:_n-1,y:Fn},{width:1,height:$n}),xa.copy(Yt.data,vt,{x:0,y:0},{x:_n+zn,y:Fn},{width:1,height:$n})}this.image=vt,this.iconPositions=K,this.patternPositions=me};al.prototype.addImages=function(C,z,K){for(var me in C){var Re=C[me],Ve={x:0,y:0,w:Re.data.width+2,h:Re.data.height+2};K.push(Ve),z[me]=new pf(Ve,Re),Re.hasRenderCallback&&this.haveRenderCallbacks.push(me)}},al.prototype.patchUpdatedImages=function(C,z){for(var K in C.dispatchRenderCallbacks(this.haveRenderCallbacks),C.updatedImages)this.patchUpdatedImage(this.iconPositions[K],C.getImage(K),z),this.patchUpdatedImage(this.patternPositions[K],C.getImage(K),z)},al.prototype.patchUpdatedImage=function(C,z,K){if(C&&z&&C.version!==z.version){C.version=z.version;var me=C.tl;K.update(z.data,void 0,{x:me[0],y:me[1]})}},Lr("ImagePosition",pf),Lr("ImageAtlas",al);var As={horizontal:1,vertical:2,horizontalOnly:3},Oc=function(){this.scale=1,this.fontStack="",this.imageName=null};Oc.forText=function(C,z){var K=new Oc;return K.scale=C||1,K.fontStack=z,K},Oc.forImage=function(C){var z=new Oc;return z.imageName=C,z};var Ua=function(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null};function Op(C,z,K,me,Re,Ve,Ze,st,vt,Ct,Ot,Gt,Kt,Yt,gn,_n){var Fn,zn=Ua.fromFeature(C,Re);Gt===As.vertical&&zn.verticalizePunctuation();var $n=Fi.processBidirectionalText,Jn=Fi.processStyledBidirectionalText;if($n&&1===zn.sections.length){Fn=[];for(var fr=0,vr=$n(zn.toString(),Pp(zn,Ct,Ve,z,me,Yt,gn));fr<vr.length;fr+=1){var xr=vr[fr],Pr=new Ua;Pr.text=xr,Pr.sections=zn.sections;for(var kr=0;kr<xr.length;kr++)Pr.sectionIndex.push(0);Fn.push(Pr)}}else if(Jn){Fn=[];for(var Vr=0,Zr=Jn(zn.text,zn.sectionIndex,Pp(zn,Ct,Ve,z,me,Yt,gn));Vr<Zr.length;Vr+=1){var gi=Zr[Vr],Jr=new Ua;Jr.text=gi[0],Jr.sectionIndex=gi[1],Jr.sections=zn.sections,Fn.push(Jr)}}else Fn=function(Xr,zi){for(var Ti=[],vo=Xr.text,si=0,eo=0,wo=zi;eo<wo.length;eo+=1){var To=wo[eo];Ti.push(Xr.substring(si,To)),si=To}return si<vo.length&&Ti.push(Xr.substring(si,vo.length)),Ti}(zn,Pp(zn,Ct,Ve,z,me,Yt,gn));var fi=[],ni={positionedLines:fi,text:zn.toString(),top:Ot[1],bottom:Ot[1],left:Ot[0],right:Ot[0],writingMode:Gt,iconsInText:!1,verticalizable:!1};return function(Xr,zi,Ti,vo,si,eo,wo,To,yo,_o,ba,Mo){for(var Qa=0,hs=-17,ps=0,Us=0,gs="right"===To?1:"left"===To?0:.5,Na=0,es=0,Ea=si;es<Ea.length;es+=1){var Ca=Ea[es];Ca.trim();var bi=Ca.getMaxScale(),Ki=(bi-1)*Ja,ha={positionedGlyphs:[],lineOffset:0};Xr.positionedLines[Na]=ha;var Ao=ha.positionedGlyphs,aa=0;if(Ca.length()){for(var Eo=0;Eo<Ca.length();Eo++){var io=Ca.getSection(Eo),Co=Ca.getSectionIndex(Eo),ms=Ca.getCharCode(Eo),Hs=0,Ss=null,wu=null,fc=null,Ga=Ja,qu=!(yo===As.horizontal||!ba&&!Vs(ms)||ba&&(Tg[ms]||na(ms)));if(io.imageName){var Tu=vo[io.imageName];if(!Tu)continue;fc=io.imageName,Xr.iconsInText=Xr.iconsInText||!0,wu=Tu.paddedRect;var Mu=Tu.displaySize;io.scale=io.scale*Ja/Mo,Hs=Ki+(Ja-Mu[1]*io.scale),Ga=(Ss={width:Mu[0],height:Mu[1],left:1,top:-Dv,advance:qu?Mu[1]:Mu[0]}).advance;var Gf=qu?Mu[0]*io.scale-Ja*bi:Mu[1]*io.scale-Ja*bi;Gf>0&&Gf>aa&&(aa=Gf)}else{var Wp=Ti[io.fontStack],Gl=Wp&&Wp[ms];if(Gl&&Gl.rect)wu=Gl.rect,Ss=Gl.metrics;else{var mf=zi[io.fontStack],Eh=mf&&mf[ms];if(!Eh)continue;Ss=Eh.metrics}Hs=(bi-io.scale)*Ja}qu?(Xr.verticalizable=!0,Ao.push({glyph:ms,imageName:fc,x:Qa,y:hs+Hs,vertical:qu,scale:io.scale,fontStack:io.fontStack,sectionIndex:Co,metrics:Ss,rect:wu}),Qa+=Ga*io.scale+_o):(Ao.push({glyph:ms,imageName:fc,x:Qa,y:hs+Hs,vertical:qu,scale:io.scale,fontStack:io.fontStack,sectionIndex:Co,metrics:Ss,rect:wu}),Qa+=Ss.advance*io.scale+_o)}0!==Ao.length&&(ps=Math.max(Qa-_o,ps),S_(Ao,0,Ao.length-1,gs,aa)),Qa=0;var Fg=eo*bi+aa;ha.lineOffset=Math.max(aa,Ki),hs+=Fg,Us=Math.max(Fg,Us),++Na}else hs+=eo,++Na}var Ch=hs- -17,zg=Ag(wo),Bg=zg.horizontalAlign,kd=zg.verticalAlign;(function(jg,Dh,qf,Ed,Cd,Au,dc,Ih,Oh){var $p,Dd=(Dh-qf)*Cd;$p=Au!==dc?-Ih*Ed- -17:(-Ed*Oh+.5)*dc;for(var Id=0,Yp=jg;Id<Yp.length;Id+=1)for(var Bc=0,Wf=Yp[Id].positionedGlyphs;Bc<Wf.length;Bc+=1){var Zp=Wf[Bc];Zp.x+=Dd,Zp.y+=$p}})(Xr.positionedLines,gs,Bg,kd,ps,Us,eo,Ch,si.length),Xr.top+=-kd*Ch,Xr.bottom=Xr.top+Ch,Xr.left+=-Bg*ps,Xr.right=Xr.left+ps}(ni,z,K,me,Fn,Ze,st,vt,Gt,Ct,Kt,_n),!function(Xr){for(var zi=0,Ti=Xr;zi<Ti.length;zi+=1)if(0!==Ti[zi].positionedGlyphs.length)return!1;return!0}(fi)&&ni}Ua.fromFeature=function(C,z){for(var K=new Ua,me=0;me<C.sections.length;me++){var Re=C.sections[me];Re.image?K.addImageSection(Re):K.addTextSection(Re,z)}return K},Ua.prototype.length=function(){return this.text.length},Ua.prototype.getSection=function(C){return this.sections[this.sectionIndex[C]]},Ua.prototype.getSectionIndex=function(C){return this.sectionIndex[C]},Ua.prototype.getCharCode=function(C){return this.text.charCodeAt(C)},Ua.prototype.verticalizePunctuation=function(){this.text=function(C){for(var z="",K=0;K<C.length;K++){var me=C.charCodeAt(K+1)||null,Re=C.charCodeAt(K-1)||null;me&&ls(me)&&!hh[C[K+1]]||Re&&ls(Re)&&!hh[C[K-1]]||!hh[C[K]]?z+=C[K]:z+=hh[C[K]]}return z}(this.text)},Ua.prototype.trim=function(){for(var C=0,z=0;z<this.text.length&&Tg[this.text.charCodeAt(z)];z++)C++;for(var K=this.text.length,me=this.text.length-1;me>=0&&me>=C&&Tg[this.text.charCodeAt(me)];me--)K--;this.text=this.text.substring(C,K),this.sectionIndex=this.sectionIndex.slice(C,K)},Ua.prototype.substring=function(C,z){var K=new Ua;return K.text=this.text.substring(C,z),K.sectionIndex=this.sectionIndex.slice(C,z),K.sections=this.sections,K},Ua.prototype.toString=function(){return this.text},Ua.prototype.getMaxScale=function(){var C=this;return this.sectionIndex.reduce(function(z,K){return Math.max(z,C.sections[K].scale)},0)},Ua.prototype.addTextSection=function(C,z){this.text+=C.text,this.sections.push(Oc.forText(C.scale,C.fontStack||z));for(var K=this.sections.length-1,me=0;me<C.text.length;++me)this.sectionIndex.push(K)},Ua.prototype.addImageSection=function(C){var z=C.image?C.image.name:"";if(0!==z.length){var K=this.getNextImageSectionCharCode();K?(this.text+=String.fromCharCode(K),this.sections.push(Oc.forImage(z)),this.sectionIndex.push(this.sections.length-1)):I("Reached maximum number of images 6401")}else I("Can't add FormattedSection with an empty image.")},Ua.prototype.getNextImageSectionCharCode=function(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)};var Tg={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},_l={};function M_(C,z,K,me,Re,Ve){if(z.imageName){var Ze=me[z.imageName];return Ze?Ze.displaySize[0]*z.scale*Ja/Ve+Re:0}var st=K[z.fontStack],vt=st&&st[C];return vt?vt.metrics.advance*z.scale+Re:0}function Hl(C,z,K,me){var Re=Math.pow(C-z,2);return me?C<z?Re/2:2*Re:Re+Math.abs(K)*K}function Mg(C,z,K){var me=0;return 10===C&&(me-=1e4),K&&(me+=150),40!==C&&65288!==C||(me+=50),41!==z&&65289!==z||(me+=50),me}function Vf(C,z,K,me,Re,Ve){for(var Ze=null,st=Hl(z,K,Re,Ve),vt=0,Ct=me;vt<Ct.length;vt+=1){var Ot=Ct[vt],Gt=Hl(z-Ot.x,K,Re,Ve)+Ot.badness;Gt<=st&&(Ze=Ot,st=Gt)}return{index:C,x:z,priorBreak:Ze,badness:st}}function A_(C){return C?A_(C.priorBreak).concat(C.index):[]}function Pp(C,z,K,me,Re,Ve,Ze){if("point"!==Ve)return[];if(!C)return[];for(var st=[],vt=function(Fn,zn,$n,Jn,fr,vr){for(var xr=0,Pr=0;Pr<Fn.length();Pr++){var kr=Fn.getSection(Pr);xr+=M_(Fn.getCharCode(Pr),kr,Jn,fr,zn,vr)}return xr/Math.max(1,Math.ceil(xr/$n))}(C,z,K,me,Re,Ze),Ct=C.text.indexOf("\u200b")>=0,Ot=0,Gt=0;Gt<C.length();Gt++){var Kt=C.getSection(Gt),Yt=C.getCharCode(Gt);if(Tg[Yt]||(Ot+=M_(Yt,Kt,me,Re,z,Ze)),Gt<C.length()-1){var gn=!((_n=Yt)<11904||!(Dr["Bopomofo Extended"](_n)||Dr.Bopomofo(_n)||Dr["CJK Compatibility Forms"](_n)||Dr["CJK Compatibility Ideographs"](_n)||Dr["CJK Compatibility"](_n)||Dr["CJK Radicals Supplement"](_n)||Dr["CJK Strokes"](_n)||Dr["CJK Symbols and Punctuation"](_n)||Dr["CJK Unified Ideographs Extension A"](_n)||Dr["CJK Unified Ideographs"](_n)||Dr["Enclosed CJK Letters and Months"](_n)||Dr["Halfwidth and Fullwidth Forms"](_n)||Dr.Hiragana(_n)||Dr["Ideographic Description Characters"](_n)||Dr["Kangxi Radicals"](_n)||Dr["Katakana Phonetic Extensions"](_n)||Dr.Katakana(_n)||Dr["Vertical Forms"](_n)||Dr["Yi Radicals"](_n)||Dr["Yi Syllables"](_n)));(_l[Yt]||gn||Kt.imageName)&&st.push(Vf(Gt+1,Ot,vt,st,Mg(Yt,C.getCharCode(Gt+1),gn&&Ct),!1))}}var _n;return A_(Vf(C.length(),Ot,vt,st,0,!0))}function Ag(C){var z=.5,K=.5;switch(C){case"right":case"top-right":case"bottom-right":z=1;break;case"left":case"top-left":case"bottom-left":z=0}switch(C){case"bottom":case"bottom-right":case"bottom-left":K=1;break;case"top":case"top-right":case"top-left":K=0}return{horizontalAlign:z,verticalAlign:K}}function S_(C,z,K,me,Re){if(me||Re)for(var Ve=C[K],st=(C[K].x+Ve.metrics.advance*Ve.scale)*me,vt=z;vt<=K;vt++)C[vt].x-=st,C[vt].y+=Re}function Iv(C,z,K,me,Re,Ve){var Ze,st=C.image;if(st.content){var vt=st.content,Ct=st.pixelRatio||1;Ze=[vt[0]/Ct,vt[1]/Ct,st.displaySize[0]-vt[2]/Ct,st.displaySize[1]-vt[3]/Ct]}var Ot,Gt,Kt,Yt,gn=z.left*Ve,_n=z.right*Ve;"width"===K||"both"===K?(Yt=Re[0]+gn-me[3],Gt=Re[0]+_n+me[1]):Gt=(Yt=Re[0]+(gn+_n-st.displaySize[0])/2)+st.displaySize[0];var Fn=z.top*Ve,zn=z.bottom*Ve;return"height"===K||"both"===K?(Ot=Re[1]+Fn-me[0],Kt=Re[1]+zn+me[2]):Kt=(Ot=Re[1]+(Fn+zn-st.displaySize[1])/2)+st.displaySize[1],{image:st,top:Ot,right:Gt,bottom:Kt,left:Yt,collisionPadding:Ze}}_l[10]=!0,_l[32]=!0,_l[38]=!0,_l[40]=!0,_l[41]=!0,_l[43]=!0,_l[45]=!0,_l[47]=!0,_l[173]=!0,_l[183]=!0,_l[8203]=!0,_l[8208]=!0,_l[8211]=!0,_l[8231]=!0;var bd=function(C){function z(K,me,Re,Ve){C.call(this,K,me),this.angle=Re,void 0!==Ve&&(this.segment=Ve)}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype.clone=function(){return new z(this.x,this.y,this.angle,this.segment)},z}(i);Lr("Anchor",bd);var Hu=128;function Sg(C,z){var K=z.expression;if("constant"===K.kind)return{kind:"constant",layoutSize:K.evaluate(new wi(C+1))};if("source"===K.kind)return{kind:"source"};for(var me=K.zoomStops,Re=K.interpolationType,Ve=0;Ve<me.length&&me[Ve]<=C;)Ve++;for(var Ze=Ve=Math.max(0,Ve-1);Ze<me.length&&me[Ze]<C+1;)Ze++;Ze=Math.min(me.length-1,Ze);var st=me[Ve],vt=me[Ze];return"composite"===K.kind?{kind:"composite",minZoom:st,maxZoom:vt,interpolationType:Re}:{kind:"camera",minZoom:st,maxZoom:vt,minSize:K.evaluate(new wi(st)),maxSize:K.evaluate(new wi(vt)),interpolationType:Re}}function Rp(C,z,K){var me=z.uSize,Ve=K.lowerSize;return"source"===C.kind?Ve/Hu:"composite"===C.kind?nr(Ve/Hu,K.upperSize/Hu,z.uSizeT):me}function mh(C,z){var K=0,me=0;if("constant"===C.kind)me=C.layoutSize;else if("source"!==C.kind){var Re=C.interpolationType,st=Re?l(jo.interpolationFactor(Re,z,C.minZoom,C.maxZoom),0,1):0;"camera"===C.kind?me=nr(C.minSize,C.maxSize,st):K=st}return{uSizeT:K,uSize:me}}var k_=Object.freeze({__proto__:null,getSizeData:Sg,evaluateSizeForFeature:Rp,evaluateSizeForZoom:mh,SIZE_PACK_FACTOR:Hu});function vh(C,z,K,me,Re){if(void 0===z.segment)return!0;for(var Ve=z,Ze=z.segment+1,st=0;st>-K/2;){if(--Ze<0)return!1;st-=C[Ze].dist(Ve),Ve=C[Ze]}st+=C[Ze].dist(C[Ze+1]),Ze++;for(var vt=[],Ct=0;st<K/2;){var Gt=C[Ze],Kt=C[Ze+1];if(!Kt)return!1;var Yt=C[Ze-1].angleTo(Gt)-Gt.angleTo(Kt);for(Yt=Math.abs((Yt+3*Math.PI)%(2*Math.PI)-Math.PI),vt.push({distance:st,angleDelta:Yt}),Ct+=Yt;st-vt[0].distance>me;)Ct-=vt.shift().angleDelta;if(Ct>Re)return!1;Ze++,st+=Gt.dist(Kt)}return!0}function Ov(C){for(var z=0,K=0;K<C.length-1;K++)z+=C[K].dist(C[K+1]);return z}function yh(C,z,K){return C?.6*z*K:0}function Pv(C,z){return Math.max(C?C.right-C.left:0,z?z.right-z.left:0)}function Rv(C,z,K,me,Re,Ve){for(var Ze=yh(K,Re,Ve),st=Pv(K,me)*Ve,vt=0,Ct=Ov(C)/2,Ot=0;Ot<C.length-1;Ot++){var Gt=C[Ot],Kt=C[Ot+1],Yt=Gt.dist(Kt);if(vt+Yt>Ct){var gn=(Ct-vt)/Yt,_n=nr(Gt.x,Kt.x,gn),Fn=nr(Gt.y,Kt.y,gn),zn=new bd(_n,Fn,Kt.angleTo(Gt),Ot);return zn._round(),!Ze||vh(C,zn,st,Ze,z)?zn:void 0}vt+=Yt}}function kg(C,z,K,me,Re,Ve,Ze,st,vt){var Ct=yh(me,Ve,Ze),Ot=Pv(me,Re),Gt=Ot*Ze,Kt=0===C[0].x||C[0].x===vt||0===C[0].y||C[0].y===vt;return z-Gt<z/4&&(z=Gt+z/4),_h(C,Kt?z/2*st%z:(Ot/2+2*Ve)*Ze*st%z,z,Ct,K,Gt,Kt,!1,vt)}function _h(C,z,K,me,Re,Ve,Ze,st,vt){for(var Ct=Ve/2,Ot=Ov(C),Gt=0,Kt=z-K,Yt=[],gn=0;gn<C.length-1;gn++){for(var _n=C[gn],Fn=C[gn+1],zn=_n.dist(Fn),$n=Fn.angleTo(_n);Kt+K<Gt+zn;){var Jn=((Kt+=K)-Gt)/zn,fr=nr(_n.x,Fn.x,Jn),vr=nr(_n.y,Fn.y,Jn);if(fr>=0&&fr<vt&&vr>=0&&vr<vt&&Kt-Ct>=0&&Kt+Ct<=Ot){var xr=new bd(fr,vr,$n,gn);xr._round(),me&&!vh(C,xr,Ve,me,Re)||Yt.push(xr)}}Gt+=zn}return st||Yt.length||Ze||(Yt=_h(C,Gt/2,K,me,Re,Ve,Ze,!0,vt)),Yt}function Eg(C,z,K,me,Re){for(var Ve=[],Ze=0;Ze<C.length;Ze++)for(var st=C[Ze],vt=void 0,Ct=0;Ct<st.length-1;Ct++){var Ot=st[Ct],Gt=st[Ct+1];Ot.x<z&&Gt.x<z||(Ot.x<z?Ot=new i(z,Ot.y+(z-Ot.x)/(Gt.x-Ot.x)*(Gt.y-Ot.y))._round():Gt.x<z&&(Gt=new i(z,Ot.y+(z-Ot.x)/(Gt.x-Ot.x)*(Gt.y-Ot.y))._round()),Ot.y<K&&Gt.y<K||(Ot.y<K?Ot=new i(Ot.x+(K-Ot.y)/(Gt.y-Ot.y)*(Gt.x-Ot.x),K)._round():Gt.y<K&&(Gt=new i(Ot.x+(K-Ot.y)/(Gt.y-Ot.y)*(Gt.x-Ot.x),K)._round()),Ot.x>=me&&Gt.x>=me||(Ot.x>=me?Ot=new i(me,Ot.y+(me-Ot.x)/(Gt.x-Ot.x)*(Gt.y-Ot.y))._round():Gt.x>=me&&(Gt=new i(me,Ot.y+(me-Ot.x)/(Gt.x-Ot.x)*(Gt.y-Ot.y))._round()),Ot.y>=Re&&Gt.y>=Re||(Ot.y>=Re?Ot=new i(Ot.x+(Re-Ot.y)/(Gt.y-Ot.y)*(Gt.x-Ot.x),Re)._round():Gt.y>=Re&&(Gt=new i(Ot.x+(Re-Ot.y)/(Gt.y-Ot.y)*(Gt.x-Ot.x),Re)._round()),vt&&Ot.equals(vt[vt.length-1])||Ve.push(vt=[Ot]),vt.push(Gt)))))}return Ve}var wd=1;function Lv(C,z,K,me){var Re=[],Ve=C.image,Ze=Ve.pixelRatio,st=Ve.paddedRect.w-2*wd,vt=Ve.paddedRect.h-2*wd,Ct=C.right-C.left,Ot=C.bottom-C.top,Gt=Ve.stretchX||[[0,st]],Kt=Ve.stretchY||[[0,vt]],Yt=function(eo,wo){return eo+wo[1]-wo[0]},gn=Gt.reduce(Yt,0),_n=Kt.reduce(Yt,0),Fn=st-gn,zn=vt-_n,$n=0,Jn=gn,fr=0,vr=_n,xr=0,Pr=Fn,kr=0,Vr=zn;if(Ve.content&&me){var Zr=Ve.content;$n=Pc(Gt,0,Zr[0]),fr=Pc(Kt,0,Zr[1]),Jn=Pc(Gt,Zr[0],Zr[2]),vr=Pc(Kt,Zr[1],Zr[3]),xr=Zr[0]-$n,kr=Zr[1]-fr,Pr=Zr[2]-Zr[0]-Jn,Vr=Zr[3]-Zr[1]-vr}var gi=function(eo,wo,To,yo){var _o=Lp(eo.stretch-$n,Jn,Ct,C.left),ba=Cg(eo.fixed-xr,Pr,eo.stretch,gn),Mo=Lp(wo.stretch-fr,vr,Ot,C.top),Qa=Cg(wo.fixed-kr,Vr,wo.stretch,_n),hs=Lp(To.stretch-$n,Jn,Ct,C.left),ps=Cg(To.fixed-xr,Pr,To.stretch,gn),Us=Lp(yo.stretch-fr,vr,Ot,C.top),gs=Cg(yo.fixed-kr,Vr,yo.stretch,_n),Na=new i(_o,Mo),es=new i(hs,Mo),Ea=new i(hs,Us),Ca=new i(_o,Us),bi=new i(ba/Ze,Qa/Ze),Ki=new i(ps/Ze,gs/Ze),ha=z*Math.PI/180;if(ha){var Ao=Math.sin(ha),aa=Math.cos(ha),Eo=[aa,-Ao,Ao,aa];Na._matMult(Eo),es._matMult(Eo),Ca._matMult(Eo),Ea._matMult(Eo)}var io=eo.stretch+eo.fixed,ms=wo.stretch+wo.fixed;return{tl:Na,tr:es,bl:Ca,br:Ea,tex:{x:Ve.paddedRect.x+wd+io,y:Ve.paddedRect.y+wd+ms,w:To.stretch+To.fixed-io,h:yo.stretch+yo.fixed-ms},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:bi,pixelOffsetBR:Ki,minFontScaleX:Pr/Ze/Ct,minFontScaleY:Vr/Ze/Ot,isSDF:K}};if(me&&(Ve.stretchX||Ve.stretchY))for(var Jr=Td(Gt,Fn,gn),fi=Td(Kt,zn,_n),ni=0;ni<Jr.length-1;ni++)for(var Xr=Jr[ni],zi=Jr[ni+1],Ti=0;Ti<fi.length-1;Ti++)Re.push(gi(Xr,fi[Ti],zi,fi[Ti+1]));else Re.push(gi({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:st+1},{fixed:0,stretch:vt+1}));return Re}function Pc(C,z,K){for(var me=0,Re=0,Ve=C;Re<Ve.length;Re+=1){var Ze=Ve[Re];me+=Math.max(z,Math.min(K,Ze[1]))-Math.max(z,Math.min(K,Ze[0]))}return me}function Td(C,z,K){for(var me=[{fixed:-wd,stretch:0}],Re=0,Ve=C;Re<Ve.length;Re+=1){var Ze=Ve[Re],st=Ze[0],vt=Ze[1],Ct=me[me.length-1];me.push({fixed:st-Ct.stretch,stretch:Ct.stretch}),me.push({fixed:st-Ct.stretch,stretch:Ct.stretch+(vt-st)})}return me.push({fixed:z+wd,stretch:K}),me}function Lp(C,z,K,me){return C/z*K+me}function Cg(C,z,K,me){return C-z*K/me}var xh=function(C,z,K,me,Re,Ve,Ze,st,vt,Ct){if(this.boxStartIndex=C.length,vt){var Ot=Ve.top,Gt=Ve.bottom,Kt=Ve.collisionPadding;Kt&&(Ot-=Kt[1],Gt+=Kt[3]);var Yt=Gt-Ot;Yt>0&&(Yt=Math.max(10,Yt),this.circleDiameter=Yt)}else{var gn=Ve.top*Ze-st,_n=Ve.bottom*Ze+st,Fn=Ve.left*Ze-st,zn=Ve.right*Ze+st,$n=Ve.collisionPadding;if($n&&(Fn-=$n[0]*Ze,gn-=$n[1]*Ze,zn+=$n[2]*Ze,_n+=$n[3]*Ze),Ct){var Jn=new i(Fn,gn),fr=new i(zn,gn),vr=new i(Fn,_n),xr=new i(zn,_n),Pr=Ct*Math.PI/180;Jn._rotate(Pr),fr._rotate(Pr),vr._rotate(Pr),xr._rotate(Pr),Fn=Math.min(Jn.x,fr.x,vr.x,xr.x),zn=Math.max(Jn.x,fr.x,vr.x,xr.x),gn=Math.min(Jn.y,fr.y,vr.y,xr.y),_n=Math.max(Jn.y,fr.y,vr.y,xr.y)}C.emplaceBack(z.x,z.y,Fn,gn,zn,_n,K,me,Re)}this.boxEndIndex=C.length},Md=function(C,z){if(void 0===C&&(C=[]),void 0===z&&(z=bw),this.data=C,this.length=this.data.length,this.compare=z,this.length>0)for(var K=(this.length>>1)-1;K>=0;K--)this._down(K)};function bw(C,z){return C<z?-1:C>z?1:0}function E_(C,z,K){void 0===z&&(z=1),void 0===K&&(K=!1);for(var me=1/0,Re=1/0,Ve=-1/0,Ze=-1/0,st=C[0],vt=0;vt<st.length;vt++){var Ct=st[vt];(!vt||Ct.x<me)&&(me=Ct.x),(!vt||Ct.y<Re)&&(Re=Ct.y),(!vt||Ct.x>Ve)&&(Ve=Ct.x),(!vt||Ct.y>Ze)&&(Ze=Ct.y)}var Kt=Math.min(Ve-me,Ze-Re),Yt=Kt/2,gn=new Md([],C_);if(0===Kt)return new i(me,Re);for(var _n=me;_n<Ve;_n+=Kt)for(var Fn=Re;Fn<Ze;Fn+=Kt)gn.push(new Ad(_n+Yt,Fn+Yt,Yt,C));for(var zn=function(fr){for(var vr=0,xr=0,Pr=0,kr=fr[0],Vr=0,Zr=kr.length,gi=Zr-1;Vr<Zr;gi=Vr++){var Jr=kr[Vr],fi=kr[gi],ni=Jr.x*fi.y-fi.x*Jr.y;xr+=(Jr.x+fi.x)*ni,Pr+=(Jr.y+fi.y)*ni,vr+=3*ni}return new Ad(xr/vr,Pr/vr,0,fr)}(C),$n=gn.length;gn.length;){var Jn=gn.pop();(Jn.d>zn.d||!zn.d)&&(zn=Jn,K&&console.log("found best %d after %d probes",Math.round(1e4*Jn.d)/1e4,$n)),Jn.max-zn.d<=z||(gn.push(new Ad(Jn.p.x-(Yt=Jn.h/2),Jn.p.y-Yt,Yt,C)),gn.push(new Ad(Jn.p.x+Yt,Jn.p.y-Yt,Yt,C)),gn.push(new Ad(Jn.p.x-Yt,Jn.p.y+Yt,Yt,C)),gn.push(new Ad(Jn.p.x+Yt,Jn.p.y+Yt,Yt,C)),$n+=4)}return K&&(console.log("num probes: "+$n),console.log("best distance: "+zn.d)),zn.p}function C_(C,z){return z.max-C.max}function Ad(C,z,K,me){this.p=new i(C,z),this.h=K,this.d=function(Re,Ve){for(var Ze=!1,st=1/0,vt=0;vt<Ve.length;vt++)for(var Ct=Ve[vt],Ot=0,Gt=Ct.length,Kt=Gt-1;Ot<Gt;Kt=Ot++){var Yt=Ct[Ot],gn=Ct[Kt];Yt.y>Re.y!=gn.y>Re.y&&Re.x<(gn.x-Yt.x)*(Re.y-Yt.y)/(gn.y-Yt.y)+Yt.x&&(Ze=!Ze),st=Math.min(st,cf(Re,Yt,gn))}return(Ze?1:-1)*Math.sqrt(st)}(this.p,me),this.max=this.d+this.h*Math.SQRT2}Md.prototype.push=function(C){this.data.push(C),this.length++,this._up(this.length-1)},Md.prototype.pop=function(){if(0!==this.length){var C=this.data[0],z=this.data.pop();return this.length--,this.length>0&&(this.data[0]=z,this._down(0)),C}},Md.prototype.peek=function(){return this.data[0]},Md.prototype._up=function(C){for(var z=this.data,K=this.compare,me=z[C];C>0;){var Re=C-1>>1,Ve=z[Re];if(K(me,Ve)>=0)break;z[C]=Ve,C=Re}z[C]=me},Md.prototype._down=function(C){for(var z=this.data,K=this.compare,me=this.length>>1,Re=z[C];C<me;){var Ve=1+(C<<1),Ze=z[Ve],st=Ve+1;if(st<this.length&&K(z[st],Ze)<0&&(Ve=st,Ze=z[st]),K(Ze,Re)>=0)break;z[C]=Ze,C=Ve}z[C]=Re};var Np=Number.POSITIVE_INFINITY;function Nv(C,z){return z[1]!==Np?function(K,me,Re){var Ve=0,Ze=0;switch(me=Math.abs(me),Re=Math.abs(Re),K){case"top-right":case"top-left":case"top":Ze=Re-7;break;case"bottom-right":case"bottom-left":case"bottom":Ze=7-Re}switch(K){case"top-right":case"bottom-right":case"right":Ve=-me;break;case"top-left":case"bottom-left":case"left":Ve=me}return[Ve,Ze]}(C,z[0],z[1]):function(K,me){var Re=0,Ve=0;me<0&&(me=0);var Ze=me/Math.sqrt(2);switch(K){case"top-right":case"top-left":Ve=Ze-7;break;case"bottom-right":case"bottom-left":Ve=7-Ze;break;case"bottom":Ve=7-me;break;case"top":Ve=me-7}switch(K){case"top-right":case"bottom-right":Re=-Ze;break;case"top-left":case"bottom-left":Re=Ze;break;case"left":Re=me;break;case"right":Re=-me}return[Re,Ve]}(C,z[0])}function Fp(C){switch(C){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}var Lc=32640;function D_(C,z,K,me,Re,Ve,Ze,st,vt,Ct,Ot,Gt,Kt,Yt,gn){var _n=function(fr,vr,xr,Pr,kr,Vr,Zr,gi){for(var Jr=Pr.layout.get("text-rotate").evaluate(Vr,{})*Math.PI/180,fi=[],ni=0,Xr=vr.positionedLines;ni<Xr.length;ni+=1)for(var zi=Xr[ni],Ti=0,vo=zi.positionedGlyphs;Ti<vo.length;Ti+=1){var si=vo[Ti];if(si.rect){var eo=si.rect||{},wo=Dv+1,To=!0,yo=1,_o=0,ba=(kr||gi)&&si.vertical,Mo=si.metrics.advance*si.scale/2;if(gi&&vr.verticalizable&&(_o=zi.lineOffset/2-(si.imageName?-(Ja-si.metrics.width*si.scale)/2:(si.scale-1)*Ja)),si.imageName){var ps=Zr[si.imageName];To=ps.sdf,wo=1/(yo=ps.pixelRatio)}var Us=kr?[si.x+Mo,si.y]:[0,0],gs=kr?[0,0]:[si.x+Mo+xr[0],si.y+xr[1]-_o],Na=[0,0];ba&&(Na=gs,gs=[0,0]);var es=(si.metrics.left-wo)*si.scale-Mo+gs[0],Ea=(-si.metrics.top-wo)*si.scale+gs[1],Ca=es+eo.w*si.scale/yo,bi=Ea+eo.h*si.scale/yo,Ki=new i(es,Ea),ha=new i(Ca,Ea),Ao=new i(es,bi),aa=new i(Ca,bi);if(ba){var Eo=new i(-Mo,Mo- -17),io=-Math.PI/2,Co=Ja/2-Mo,Hs=new i(22-Co,-(si.imageName?Co:0)),Ss=new(Function.prototype.bind.apply(i,[null].concat(Na)));Ki._rotateAround(io,Eo)._add(Hs)._add(Ss),ha._rotateAround(io,Eo)._add(Hs)._add(Ss),Ao._rotateAround(io,Eo)._add(Hs)._add(Ss),aa._rotateAround(io,Eo)._add(Hs)._add(Ss)}if(Jr){var wu=Math.sin(Jr),fc=Math.cos(Jr),Ga=[fc,-wu,wu,fc];Ki._matMult(Ga),ha._matMult(Ga),Ao._matMult(Ga),aa._matMult(Ga)}var qu=new i(0,0),Tu=new i(0,0);fi.push({tl:Ki,tr:ha,bl:Ao,br:aa,tex:eo,writingMode:vr.writingMode,glyphOffset:Us,sectionIndex:si.sectionIndex,isSDF:To,pixelOffsetTL:qu,pixelOffsetBR:Tu,minFontScaleX:0,minFontScaleY:0})}}return fi}(0,K,st,Re,Ve,Ze,me,C.allowVerticalPlacement),Fn=C.textSizeData,zn=null;"source"===Fn.kind?(zn=[Hu*Re.layout.get("text-size").evaluate(Ze,{})])[0]>Lc&&I(C.layerIds[0]+': Value for "text-size" is >= 255. Reduce your "text-size".'):"composite"===Fn.kind&&((zn=[Hu*Yt.compositeTextSizes[0].evaluate(Ze,{},gn),Hu*Yt.compositeTextSizes[1].evaluate(Ze,{},gn)])[0]>Lc||zn[1]>Lc)&&I(C.layerIds[0]+': Value for "text-size" is >= 255. Reduce your "text-size".'),C.addSymbols(C.text,_n,zn,st,Ve,Ze,Ct,z,vt.lineStartIndex,vt.lineLength,Kt,gn);for(var $n=0,Jn=Ot;$n<Jn.length;$n+=1)Gt[Jn[$n]]=C.text.placedSymbolArray.length-1;return 4*_n.length}function Fv(C){for(var z in C)return C[z];return null}function I_(C,z,K,me){var Re=C.compareText;if(z in Re){for(var Ve=Re[z],Ze=Ve.length-1;Ze>=0;Ze--)if(me.dist(Ve[Ze])<K)return!0}else Re[z]=[];return Re[z].push(me),!1}var Dg=ch.VectorTileFeature.types,ww=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function Ig(C,z,K,me,Re,Ve,Ze,st,vt,Ct,Ot,Gt,Kt){var Yt=st?Math.min(Lc,Math.round(st[0])):0,gn=st?Math.min(Lc,Math.round(st[1])):0;C.emplaceBack(z,K,Math.round(32*me),Math.round(32*Re),Ve,Ze,(Yt<<1)+(vt?1:0),gn,16*Ct,16*Ot,256*Gt,256*Kt)}function bh(C,z,K){C.emplaceBack(z.x,z.y,K),C.emplaceBack(z.x,z.y,K),C.emplaceBack(z.x,z.y,K),C.emplaceBack(z.x,z.y,K)}function Tw(C){for(var z=0,K=C.sections;z<K.length;z+=1)if(ra(K[z].text))return!0;return!1}var wh=function(C){this.layoutVertexArray=new V,this.indexArray=new ie,this.programConfigurations=C,this.segments=new Pn,this.dynamicLayoutVertexArray=new $,this.opacityVertexArray=new q,this.placedSymbolArray=new Vt};wh.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length&&0===this.indexArray.length&&0===this.dynamicLayoutVertexArray.length&&0===this.opacityVertexArray.length},wh.prototype.upload=function(C,z,K,me){this.isEmpty()||(K&&(this.layoutVertexBuffer=C.createVertexBuffer(this.layoutVertexArray,Ep.members),this.indexBuffer=C.createIndexBuffer(this.indexArray,z),this.dynamicLayoutVertexBuffer=C.createVertexBuffer(this.dynamicLayoutVertexArray,Av.members,!0),this.opacityVertexBuffer=C.createVertexBuffer(this.opacityVertexArray,ww,!0),this.opacityVertexBuffer.itemSize=1),(K||me)&&this.programConfigurations.upload(C))},wh.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())},Lr("SymbolBuffers",wh);var Bp=function(C,z,K){this.layoutVertexArray=new C,this.layoutAttributes=z,this.indexArray=new K,this.segments=new Pn,this.collisionVertexArray=new U};Bp.prototype.upload=function(C){this.layoutVertexBuffer=C.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=C.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=C.createVertexBuffer(this.collisionVertexArray,Sv.members,!0)},Bp.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())},Lr("CollisionBuffers",Bp);var mo=function(C){this.collisionBoxArray=C.collisionBoxArray,this.zoom=C.zoom,this.overscaling=C.overscaling,this.layers=C.layers,this.layerIds=this.layers.map(function(Ze){return Ze.id}),this.index=C.index,this.pixelRatio=C.pixelRatio,this.sourceLayerIndex=C.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=hp([]),this.placementViewportMatrix=hp([]);var z=this.layers[0]._unevaluatedLayout._values;this.textSizeData=Sg(this.zoom,z["text-size"]),this.iconSizeData=Sg(this.zoom,z["icon-size"]);var K=this.layers[0].layout,me=K.get("symbol-sort-key"),Re=K.get("symbol-z-order");this.sortFeaturesByKey="viewport-y"!==Re&&void 0!==me.constantOr(1),this.sortFeaturesByY=("viewport-y"===Re||"auto"===Re&&!this.sortFeaturesByKey)&&(K.get("text-allow-overlap")||K.get("icon-allow-overlap")||K.get("text-ignore-placement")||K.get("icon-ignore-placement")),"point"===K.get("symbol-placement")&&(this.writingModes=K.get("text-writing-mode").map(function(Ze){return As[Ze]})),this.stateDependentLayerIds=this.layers.filter(function(Ze){return Ze.isStateDependent()}).map(function(Ze){return Ze.id}),this.sourceID=C.sourceID};mo.prototype.createArrays=function(){this.text=new wh(new po(Ep.members,this.layers,this.zoom,function(C){return/^text/.test(C)})),this.icon=new wh(new po(Ep.members,this.layers,this.zoom,function(C){return/^icon/.test(C)})),this.glyphOffsetArray=new Ut,this.lineVertexArray=new mn,this.symbolInstances=new Xt},mo.prototype.calculateGlyphDependencies=function(C,z,K,me,Re){for(var Ve=0;Ve<C.length;Ve++)if(z[C.charCodeAt(Ve)]=!0,(K||me)&&Re){var Ze=hh[C.charAt(Ve)];Ze&&(z[Ze.charCodeAt(0)]=!0)}},mo.prototype.populate=function(C,z,K){var me=this.layers[0],Re=me.layout,Ve=Re.get("text-font"),Ze=Re.get("text-field"),st=Re.get("icon-image"),vt=("constant"!==Ze.value.kind||Ze.value.value instanceof Hn&&!Ze.value.value.isEmpty()||Ze.value.value.toString().length>0)&&("constant"!==Ve.value.kind||Ve.value.value.length>0),Ct="constant"!==st.value.kind||!!st.value.value||Object.keys(st.parameters).length>0,Ot=Re.get("symbol-sort-key");if(this.features=[],vt||Ct){for(var Gt=z.iconDependencies,Kt=z.glyphDependencies,Yt=z.availableImages,gn=new wi(this.zoom),_n=0,Fn=C;_n<Fn.length;_n+=1){var zn=Fn[_n],$n=zn.feature,Jn=zn.id,fr=zn.index,vr=zn.sourceLayerIndex,xr=me._featureFilter.needGeometry,Pr={type:$n.type,id:Jn,properties:$n.properties,geometry:xr?Ps($n):[]};if(me._featureFilter.filter(gn,Pr,K)){xr||(Pr.geometry=Ps($n));var kr=void 0;if(vt){var Vr=me.getValueAndResolveTokens("text-field",Pr,K,Yt),Zr=Hn.factory(Vr);Tw(Zr)&&(this.hasRTLText=!0),(!this.hasRTLText||"unavailable"===bo()||this.hasRTLText&&Fi.isParsed())&&(kr=Bf(Zr,me,Pr))}var gi=void 0;if(Ct){var Jr=me.getValueAndResolveTokens("icon-image",Pr,K,Yt);gi=Jr instanceof En?Jr:En.fromString(Jr)}if(kr||gi){var fi=this.sortFeaturesByKey?Ot.evaluate(Pr,{},K):void 0,ni={id:Jn,text:kr,icon:gi,index:fr,sourceLayerIndex:vr,geometry:Ps($n),properties:$n.properties,type:Dg[$n.type],sortKey:fi};if(this.features.push(ni),gi&&(Gt[gi.name]=!0),kr){var Xr=Ve.evaluate(Pr,{},K).join(","),zi="map"===Re.get("text-rotation-alignment")&&"point"!==Re.get("symbol-placement");this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(As.vertical)>=0;for(var Ti=0,vo=kr.sections;Ti<vo.length;Ti+=1){var si=vo[Ti];if(si.image)Gt[si.image.name]=!0;else{var eo=Ya(kr.toString()),wo=si.fontStack||Xr,To=Kt[wo]=Kt[wo]||{};this.calculateGlyphDependencies(si.text,To,zi,this.allowVerticalPlacement,eo)}}}}}}"line"===Re.get("symbol-placement")&&(this.features=function(yo){var _o={},ba={},Mo=[],Qa=0;function hs(aa){Mo.push(yo[aa]),Qa++}function ps(aa,Eo,io){var Co=ba[aa];return delete ba[aa],ba[Eo]=Co,Mo[Co].geometry[0].pop(),Mo[Co].geometry[0]=Mo[Co].geometry[0].concat(io[0]),Co}function Us(aa,Eo,io){var Co=_o[Eo];return delete _o[Eo],_o[aa]=Co,Mo[Co].geometry[0].shift(),Mo[Co].geometry[0]=io[0].concat(Mo[Co].geometry[0]),Co}function gs(aa,Eo,io){var Co=io?Eo[0][Eo[0].length-1]:Eo[0][0];return aa+":"+Co.x+":"+Co.y}for(var Na=0;Na<yo.length;Na++){var es=yo[Na],Ea=es.geometry,Ca=es.text?es.text.toString():null;if(Ca){var bi=gs(Ca,Ea),Ki=gs(Ca,Ea,!0);if(bi in ba&&Ki in _o&&ba[bi]!==_o[Ki]){var ha=Us(bi,Ki,Ea),Ao=ps(bi,Ki,Mo[ha].geometry);delete _o[bi],delete ba[Ki],ba[gs(Ca,Mo[Ao].geometry,!0)]=Ao,Mo[ha].geometry=null}else bi in ba?ps(bi,Ki,Ea):Ki in _o?Us(bi,Ki,Ea):(hs(Na),_o[bi]=Qa-1,ba[Ki]=Qa-1)}else hs(Na)}return Mo.filter(function(aa){return aa.geometry})}(this.features)),this.sortFeaturesByKey&&this.features.sort(function(yo,_o){return yo.sortKey-_o.sortKey})}},mo.prototype.update=function(C,z,K){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(C,z,this.layers,K),this.icon.programConfigurations.updatePaintArrays(C,z,this.layers,K))},mo.prototype.isEmpty=function(){return 0===this.symbolInstances.length&&!this.hasRTLText},mo.prototype.uploadPending=function(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload},mo.prototype.upload=function(C){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(C),this.iconCollisionBox.upload(C)),this.text.upload(C,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(C,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0},mo.prototype.destroyDebugData=function(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()},mo.prototype.destroy=function(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()},mo.prototype.addToLineVertexArray=function(C,z){var K=this.lineVertexArray.length;if(void 0!==C.segment){for(var me=C.dist(z[C.segment+1]),Re=C.dist(z[C.segment]),Ve={},Ze=C.segment+1;Ze<z.length;Ze++)Ve[Ze]={x:z[Ze].x,y:z[Ze].y,tileUnitDistanceFromAnchor:me},Ze<z.length-1&&(me+=z[Ze+1].dist(z[Ze]));for(var st=C.segment||0;st>=0;st--)Ve[st]={x:z[st].x,y:z[st].y,tileUnitDistanceFromAnchor:Re},st>0&&(Re+=z[st-1].dist(z[st]));for(var vt=0;vt<z.length;vt++){var Ct=Ve[vt];this.lineVertexArray.emplaceBack(Ct.x,Ct.y,Ct.tileUnitDistanceFromAnchor)}}return{lineStartIndex:K,lineLength:this.lineVertexArray.length-K}},mo.prototype.addSymbols=function(C,z,K,me,Re,Ve,Ze,st,vt,Ct,Ot,Gt){for(var Kt=C.indexArray,Yt=C.layoutVertexArray,gn=C.segments.prepareSegment(4*z.length,Yt,Kt,Ve.sortKey),_n=this.glyphOffsetArray.length,Fn=gn.vertexLength,zn=this.allowVerticalPlacement&&Ze===As.vertical?Math.PI/2:0,$n=Ve.text&&Ve.text.sections,Jn=0;Jn<z.length;Jn++){var fr=z[Jn],vr=fr.tl,xr=fr.tr,Pr=fr.bl,kr=fr.br,Vr=fr.tex,Zr=fr.pixelOffsetTL,gi=fr.pixelOffsetBR,Jr=fr.minFontScaleX,fi=fr.minFontScaleY,ni=fr.glyphOffset,Xr=fr.isSDF,zi=fr.sectionIndex,Ti=gn.vertexLength,vo=ni[1];Ig(Yt,st.x,st.y,vr.x,vo+vr.y,Vr.x,Vr.y,K,Xr,Zr.x,Zr.y,Jr,fi),Ig(Yt,st.x,st.y,xr.x,vo+xr.y,Vr.x+Vr.w,Vr.y,K,Xr,gi.x,Zr.y,Jr,fi),Ig(Yt,st.x,st.y,Pr.x,vo+Pr.y,Vr.x,Vr.y+Vr.h,K,Xr,Zr.x,gi.y,Jr,fi),Ig(Yt,st.x,st.y,kr.x,vo+kr.y,Vr.x+Vr.w,Vr.y+Vr.h,K,Xr,gi.x,gi.y,Jr,fi),bh(C.dynamicLayoutVertexArray,st,zn),Kt.emplaceBack(Ti,Ti+1,Ti+2),Kt.emplaceBack(Ti+1,Ti+2,Ti+3),gn.vertexLength+=4,gn.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(ni[0]),Jn!==z.length-1&&zi===z[Jn+1].sectionIndex||C.programConfigurations.populatePaintArrays(Yt.length,Ve,Ve.index,{},Gt,$n&&$n[zi])}C.placedSymbolArray.emplaceBack(st.x,st.y,_n,this.glyphOffsetArray.length-_n,Fn,vt,Ct,st.segment,K?K[0]:0,K?K[1]:0,me[0],me[1],Ze,0,!1,0,Ot)},mo.prototype._addCollisionDebugVertex=function(C,z,K,me,Re,Ve){return z.emplaceBack(0,0),C.emplaceBack(K.x,K.y,me,Re,Math.round(Ve.x),Math.round(Ve.y))},mo.prototype.addCollisionDebugVertices=function(C,z,K,me,Re,Ve,Ze){var st=Re.segments.prepareSegment(4,Re.layoutVertexArray,Re.indexArray),vt=st.vertexLength,Ct=Re.layoutVertexArray,Ot=Re.collisionVertexArray,Gt=Ze.anchorX,Kt=Ze.anchorY;this._addCollisionDebugVertex(Ct,Ot,Ve,Gt,Kt,new i(C,z)),this._addCollisionDebugVertex(Ct,Ot,Ve,Gt,Kt,new i(K,z)),this._addCollisionDebugVertex(Ct,Ot,Ve,Gt,Kt,new i(K,me)),this._addCollisionDebugVertex(Ct,Ot,Ve,Gt,Kt,new i(C,me)),st.vertexLength+=4;var Yt=Re.indexArray;Yt.emplaceBack(vt,vt+1),Yt.emplaceBack(vt+1,vt+2),Yt.emplaceBack(vt+2,vt+3),Yt.emplaceBack(vt+3,vt),st.primitiveLength+=4},mo.prototype.addDebugCollisionBoxes=function(C,z,K,me){for(var Re=C;Re<z;Re++){var Ve=this.collisionBoxArray.get(Re);this.addCollisionDebugVertices(Ve.x1,Ve.y1,Ve.x2,Ve.y2,me?this.textCollisionBox:this.iconCollisionBox,Ve.anchorPoint,K)}},mo.prototype.generateCollisionDebugBuffers=function(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new Bp(xe,kv.members,Xe),this.iconCollisionBox=new Bp(xe,kv.members,Xe);for(var C=0;C<this.symbolInstances.length;C++){var z=this.symbolInstances.get(C);this.addDebugCollisionBoxes(z.textBoxStartIndex,z.textBoxEndIndex,z,!0),this.addDebugCollisionBoxes(z.verticalTextBoxStartIndex,z.verticalTextBoxEndIndex,z,!0),this.addDebugCollisionBoxes(z.iconBoxStartIndex,z.iconBoxEndIndex,z,!1),this.addDebugCollisionBoxes(z.verticalIconBoxStartIndex,z.verticalIconBoxEndIndex,z,!1)}},mo.prototype._deserializeCollisionBoxesForSymbol=function(C,z,K,me,Re,Ve,Ze,st,vt){for(var Ct={},Ot=z;Ot<K;Ot++){var Gt=C.get(Ot);Ct.textBox={x1:Gt.x1,y1:Gt.y1,x2:Gt.x2,y2:Gt.y2,anchorPointX:Gt.anchorPointX,anchorPointY:Gt.anchorPointY},Ct.textFeatureIndex=Gt.featureIndex;break}for(var Kt=me;Kt<Re;Kt++){var Yt=C.get(Kt);Ct.verticalTextBox={x1:Yt.x1,y1:Yt.y1,x2:Yt.x2,y2:Yt.y2,anchorPointX:Yt.anchorPointX,anchorPointY:Yt.anchorPointY},Ct.verticalTextFeatureIndex=Yt.featureIndex;break}for(var gn=Ve;gn<Ze;gn++){var _n=C.get(gn);Ct.iconBox={x1:_n.x1,y1:_n.y1,x2:_n.x2,y2:_n.y2,anchorPointX:_n.anchorPointX,anchorPointY:_n.anchorPointY},Ct.iconFeatureIndex=_n.featureIndex;break}for(var Fn=st;Fn<vt;Fn++){var zn=C.get(Fn);Ct.verticalIconBox={x1:zn.x1,y1:zn.y1,x2:zn.x2,y2:zn.y2,anchorPointX:zn.anchorPointX,anchorPointY:zn.anchorPointY},Ct.verticalIconFeatureIndex=zn.featureIndex;break}return Ct},mo.prototype.deserializeCollisionBoxes=function(C){this.collisionArrays=[];for(var z=0;z<this.symbolInstances.length;z++){var K=this.symbolInstances.get(z);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(C,K.textBoxStartIndex,K.textBoxEndIndex,K.verticalTextBoxStartIndex,K.verticalTextBoxEndIndex,K.iconBoxStartIndex,K.iconBoxEndIndex,K.verticalIconBoxStartIndex,K.verticalIconBoxEndIndex))}},mo.prototype.hasTextData=function(){return this.text.segments.get().length>0},mo.prototype.hasIconData=function(){return this.icon.segments.get().length>0},mo.prototype.hasDebugData=function(){return this.textCollisionBox&&this.iconCollisionBox},mo.prototype.hasTextCollisionBoxData=function(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0},mo.prototype.hasIconCollisionBoxData=function(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0},mo.prototype.addIndicesForPlacedSymbol=function(C,z){for(var K=C.placedSymbolArray.get(z),me=K.vertexStartIndex+4*K.numGlyphs,Re=K.vertexStartIndex;Re<me;Re+=4)C.indexArray.emplaceBack(Re,Re+1,Re+2),C.indexArray.emplaceBack(Re+1,Re+2,Re+3)},mo.prototype.getSortedSymbolIndexes=function(C){if(this.sortedAngle===C&&void 0!==this.symbolInstanceIndexes)return this.symbolInstanceIndexes;for(var z=Math.sin(C),K=Math.cos(C),me=[],Re=[],Ve=[],Ze=0;Ze<this.symbolInstances.length;++Ze){Ve.push(Ze);var st=this.symbolInstances.get(Ze);me.push(0|Math.round(z*st.anchorX+K*st.anchorY)),Re.push(st.featureIndex)}return Ve.sort(function(vt,Ct){return me[vt]-me[Ct]||Re[Ct]-Re[vt]}),Ve},mo.prototype.addToSortKeyRanges=function(C,z){var K=this.sortKeyRanges[this.sortKeyRanges.length-1];K&&K.sortKey===z?K.symbolInstanceEnd=C+1:this.sortKeyRanges.push({sortKey:z,symbolInstanceStart:C,symbolInstanceEnd:C+1})},mo.prototype.sortFeatures=function(C){var z=this;if(this.sortFeaturesByY&&this.sortedAngle!==C&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(C),this.sortedAngle=C,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(var K=0,me=this.symbolInstanceIndexes;K<me.length;K+=1){var Ve=this.symbolInstances.get(me[K]);this.featureSortOrder.push(Ve.featureIndex),[Ve.rightJustifiedTextSymbolIndex,Ve.centerJustifiedTextSymbolIndex,Ve.leftJustifiedTextSymbolIndex].forEach(function(Ze,st,vt){Ze>=0&&vt.indexOf(Ze)===st&&z.addIndicesForPlacedSymbol(z.text,Ze)}),Ve.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,Ve.verticalPlacedTextSymbolIndex),Ve.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,Ve.placedIconSymbolIndex),Ve.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,Ve.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}},Lr("SymbolBucket",mo,{omit:["layers","collisionBoxArray","features","compareText"]}),mo.MAX_GLYPHS=65535,mo.addDynamicAttributes=bh;var Mw=new Pa({"symbol-placement":new Kr(Ue.layout_symbol["symbol-placement"]),"symbol-spacing":new Kr(Ue.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new Kr(Ue.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new ei(Ue.layout_symbol["symbol-sort-key"]),"symbol-z-order":new Kr(Ue.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new Kr(Ue.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new Kr(Ue.layout_symbol["icon-ignore-placement"]),"icon-optional":new Kr(Ue.layout_symbol["icon-optional"]),"icon-rotation-alignment":new Kr(Ue.layout_symbol["icon-rotation-alignment"]),"icon-size":new ei(Ue.layout_symbol["icon-size"]),"icon-text-fit":new Kr(Ue.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new Kr(Ue.layout_symbol["icon-text-fit-padding"]),"icon-image":new ei(Ue.layout_symbol["icon-image"]),"icon-rotate":new ei(Ue.layout_symbol["icon-rotate"]),"icon-padding":new Kr(Ue.layout_symbol["icon-padding"]),"icon-keep-upright":new Kr(Ue.layout_symbol["icon-keep-upright"]),"icon-offset":new ei(Ue.layout_symbol["icon-offset"]),"icon-anchor":new ei(Ue.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new Kr(Ue.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new Kr(Ue.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new Kr(Ue.layout_symbol["text-rotation-alignment"]),"text-field":new ei(Ue.layout_symbol["text-field"]),"text-font":new ei(Ue.layout_symbol["text-font"]),"text-size":new ei(Ue.layout_symbol["text-size"]),"text-max-width":new ei(Ue.layout_symbol["text-max-width"]),"text-line-height":new Kr(Ue.layout_symbol["text-line-height"]),"text-letter-spacing":new ei(Ue.layout_symbol["text-letter-spacing"]),"text-justify":new ei(Ue.layout_symbol["text-justify"]),"text-radial-offset":new ei(Ue.layout_symbol["text-radial-offset"]),"text-variable-anchor":new Kr(Ue.layout_symbol["text-variable-anchor"]),"text-anchor":new ei(Ue.layout_symbol["text-anchor"]),"text-max-angle":new Kr(Ue.layout_symbol["text-max-angle"]),"text-writing-mode":new Kr(Ue.layout_symbol["text-writing-mode"]),"text-rotate":new ei(Ue.layout_symbol["text-rotate"]),"text-padding":new Kr(Ue.layout_symbol["text-padding"]),"text-keep-upright":new Kr(Ue.layout_symbol["text-keep-upright"]),"text-transform":new ei(Ue.layout_symbol["text-transform"]),"text-offset":new ei(Ue.layout_symbol["text-offset"]),"text-allow-overlap":new Kr(Ue.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new Kr(Ue.layout_symbol["text-ignore-placement"]),"text-optional":new Kr(Ue.layout_symbol["text-optional"])}),Og={paint:new Pa({"icon-opacity":new ei(Ue.paint_symbol["icon-opacity"]),"icon-color":new ei(Ue.paint_symbol["icon-color"]),"icon-halo-color":new ei(Ue.paint_symbol["icon-halo-color"]),"icon-halo-width":new ei(Ue.paint_symbol["icon-halo-width"]),"icon-halo-blur":new ei(Ue.paint_symbol["icon-halo-blur"]),"icon-translate":new Kr(Ue.paint_symbol["icon-translate"]),"icon-translate-anchor":new Kr(Ue.paint_symbol["icon-translate-anchor"]),"text-opacity":new ei(Ue.paint_symbol["text-opacity"]),"text-color":new ei(Ue.paint_symbol["text-color"],{runtimeType:Wt,getOverride:function(C){return C.textColor},hasOverride:function(C){return!!C.textColor}}),"text-halo-color":new ei(Ue.paint_symbol["text-halo-color"]),"text-halo-width":new ei(Ue.paint_symbol["text-halo-width"]),"text-halo-blur":new ei(Ue.paint_symbol["text-halo-blur"]),"text-translate":new Kr(Ue.paint_symbol["text-translate"]),"text-translate-anchor":new Kr(Ue.paint_symbol["text-translate-anchor"])}),layout:Mw},Nc=function(C){this.type=C.property.overrides?C.property.overrides.runtimeType:Rt,this.defaultValue=C};Nc.prototype.evaluate=function(C){if(C.formattedSection){var z=this.defaultValue.property.overrides;if(z&&z.hasOverride(C.formattedSection))return z.getOverride(C.formattedSection)}return C.feature&&C.featureState?this.defaultValue.evaluate(C.feature,C.featureState):this.defaultValue.property.specification.default},Nc.prototype.eachChild=function(C){this.defaultValue.isConstant()||C(this.defaultValue.value._styleExpression.expression)},Nc.prototype.outputDefined=function(){return!1},Nc.prototype.serialize=function(){return null},Lr("FormatSectionOverride",Nc,{omit:["defaultValue"]});var jp=function(C){function z(K){C.call(this,K,Og)}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype.recalculate=function(K,me){if(C.prototype.recalculate.call(this,K,me),"auto"===this.layout.get("icon-rotation-alignment")&&(this.layout._values["icon-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-rotation-alignment")&&(this.layout._values["text-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-pitch-alignment")&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),"auto"===this.layout.get("icon-pitch-alignment")&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),"point"===this.layout.get("symbol-placement")){var Re=this.layout.get("text-writing-mode");if(Re){for(var Ve=[],Ze=0,st=Re;Ze<st.length;Ze+=1){var vt=st[Ze];Ve.indexOf(vt)<0&&Ve.push(vt)}this.layout._values["text-writing-mode"]=Ve}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()},z.prototype.getValueAndResolveTokens=function(K,me,Re,Ve){var vt,Ze=this.layout.get(K).evaluate(me,{},Re,Ve),st=this._unevaluatedLayout._values[K];return st.isDataDriven()||Zl(st.value)||!Ze?Ze:(vt=me.properties,Ze.replace(/{([^{}]+)}/g,function(Ot,Gt){return Gt in vt?String(vt[Gt]):""}))},z.prototype.createBucket=function(K){return new mo(K)},z.prototype.queryRadius=function(){return 0},z.prototype.queryIntersectsFeature=function(){return!1},z.prototype._setPaintOverrides=function(){for(var K=0,me=Og.paint.overridableProperties;K<me.length;K+=1){var Re=me[K];if(z.hasPaintOverride(this.layout,Re)){var Ve,Ze=this.paint.get(Re),st=new Nc(Ze),vt=new fl(st,Ze.property.specification);Ve="constant"===Ze.value.kind||"source"===Ze.value.kind?new el("source",vt):new tl("composite",vt,Ze.value.zoomStops,Ze.value._interpolationType),this.paint._values[Re]=new ia(Ze.property,Ve,Ze.parameters)}}},z.prototype._handleOverridablePaintPropertyUpdate=function(K,me,Re){return!(!this.layout||me.isDataDriven()||Re.isDataDriven())&&z.hasPaintOverride(this.layout,K)},z.hasPaintOverride=function(K,me){var Re=K.get("text-field"),Ve=Og.paint.properties[me],Ze=!1,st=function(Ot){for(var Gt=0,Kt=Ot;Gt<Kt.length;Gt+=1)if(Ve.overrides&&Ve.overrides.hasOverride(Kt[Gt]))return void(Ze=!0)};if("constant"===Re.value.kind&&Re.value.value instanceof Hn)st(Re.value.value.sections);else if("source"===Re.value.kind){var vt=function(Ot){Ze||(Ot instanceof dr&&lr(Ot.value)===en?st(Ot.value.sections):Ot instanceof tn?st(Ot.sections):Ot.eachChild(vt))},Ct=Re.value;Ct._styleExpression&&vt(Ct._styleExpression.expression)}return Ze},z}(Ra),zv={paint:new Pa({"background-color":new Kr(Ue.paint_background["background-color"]),"background-pattern":new Xa(Ue.paint_background["background-pattern"]),"background-opacity":new Kr(Ue.paint_background["background-opacity"])})},Bv=function(C){function z(K){C.call(this,K,zv)}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z}(Ra),jv={paint:new Pa({"raster-opacity":new Kr(Ue.paint_raster["raster-opacity"]),"raster-hue-rotate":new Kr(Ue.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new Kr(Ue.paint_raster["raster-brightness-min"]),"raster-brightness-max":new Kr(Ue.paint_raster["raster-brightness-max"]),"raster-saturation":new Kr(Ue.paint_raster["raster-saturation"]),"raster-contrast":new Kr(Ue.paint_raster["raster-contrast"]),"raster-resampling":new Kr(Ue.paint_raster["raster-resampling"]),"raster-fade-duration":new Kr(Ue.paint_raster["raster-fade-duration"])})},Sd=function(C){function z(K){C.call(this,K,jv)}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z}(Ra),Vv=function(C){function z(K){C.call(this,K,{}),this.implementation=K}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype.is3D=function(){return"3d"===this.implementation.renderingMode},z.prototype.hasOffscreenPass=function(){return void 0!==this.implementation.prerender},z.prototype.recalculate=function(){},z.prototype.updateTransitions=function(){},z.prototype.hasTransition=function(){},z.prototype.serialize=function(){},z.prototype.onAdd=function(K){this.implementation.onAdd&&this.implementation.onAdd(K,K.painter.context.gl)},z.prototype.onRemove=function(K){this.implementation.onRemove&&this.implementation.onRemove(K,K.painter.context.gl)},z}(Ra),Uv={circle:Cr,heatmap:u_,hillshade:vv,fill:wv,"fill-extrusion":Mp,line:x_,symbol:jp,background:Bv,raster:Sd},Th=self.HTMLImageElement,Mh=self.HTMLCanvasElement,Fc=self.HTMLVideoElement,Hv=self.ImageData,Vp=self.ImageBitmap,Uf=function(C,z,K,me){this.context=C,this.format=K,this.texture=C.gl.createTexture(),this.update(z,me)};Uf.prototype.update=function(C,z,K){var me=C.width,Re=C.height,Ve=!(this.size&&this.size[0]===me&&this.size[1]===Re||K),Ze=this.context,st=Ze.gl;if(this.useMipmap=!(!z||!z.useMipmap),st.bindTexture(st.TEXTURE_2D,this.texture),Ze.pixelStoreUnpackFlipY.set(!1),Ze.pixelStoreUnpack.set(1),Ze.pixelStoreUnpackPremultiplyAlpha.set(this.format===st.RGBA&&(!z||!1!==z.premultiply)),Ve)this.size=[me,Re],C instanceof Th||C instanceof Mh||C instanceof Fc||C instanceof Hv||Vp&&C instanceof Vp?st.texImage2D(st.TEXTURE_2D,0,this.format,this.format,st.UNSIGNED_BYTE,C):st.texImage2D(st.TEXTURE_2D,0,this.format,me,Re,0,this.format,st.UNSIGNED_BYTE,C.data);else{var vt=K||{x:0,y:0},Ct=vt.x,Ot=vt.y;C instanceof Th||C instanceof Mh||C instanceof Fc||C instanceof Hv||Vp&&C instanceof Vp?st.texSubImage2D(st.TEXTURE_2D,0,Ct,Ot,st.RGBA,st.UNSIGNED_BYTE,C):st.texSubImage2D(st.TEXTURE_2D,0,Ct,Ot,me,Re,st.RGBA,st.UNSIGNED_BYTE,C.data)}this.useMipmap&&this.isSizePowerOfTwo()&&st.generateMipmap(st.TEXTURE_2D)},Uf.prototype.bind=function(C,z,K){var me=this.context.gl;me.bindTexture(me.TEXTURE_2D,this.texture),K!==me.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(K=me.LINEAR),C!==this.filter&&(me.texParameteri(me.TEXTURE_2D,me.TEXTURE_MAG_FILTER,C),me.texParameteri(me.TEXTURE_2D,me.TEXTURE_MIN_FILTER,K||C),this.filter=C),z!==this.wrap&&(me.texParameteri(me.TEXTURE_2D,me.TEXTURE_WRAP_S,z),me.texParameteri(me.TEXTURE_2D,me.TEXTURE_WRAP_T,z),this.wrap=z)},Uf.prototype.isSizePowerOfTwo=function(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0},Uf.prototype.destroy=function(){this.context.gl.deleteTexture(this.texture),this.texture=null};var Up=function(C){var z=this;this._callback=C,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=function(){z._triggered=!1,z._callback()})};Up.prototype.trigger=function(){var C=this;this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(function(){C._triggered=!1,C._callback()},0))},Up.prototype.remove=function(){delete this._channel,this._callback=function(){}};var gf=function(C,z,K){this.target=C,this.parent=z,this.mapId=K,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},m(["receive","process"],this),this.invoker=new Up(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=R()?C:self};function Gv(C,z,K){var me=2*Math.PI*6378137/256/Math.pow(2,K);return[C*me-2*Math.PI*6378137/2,z*me-2*Math.PI*6378137/2]}gf.prototype.send=function(C,z,K,me,Re){var Ve=this;void 0===Re&&(Re=!1);var Ze=Math.round(1e18*Math.random()).toString(36).substring(0,10);K&&(this.callbacks[Ze]=K);var st=j(this.globalScope)?void 0:[];return this.target.postMessage({id:Ze,type:C,hasCallback:!!K,targetMapId:me,mustQueue:Re,sourceMapId:this.mapId,data:js(z,st)},st),{cancel:function(){K&&delete Ve.callbacks[Ze],Ve.target.postMessage({id:Ze,type:"<cancel>",targetMapId:me,sourceMapId:Ve.mapId})}}},gf.prototype.receive=function(C){var z=C.data,K=z.id;if(K&&(!z.targetMapId||this.mapId===z.targetMapId))if("<cancel>"===z.type){delete this.tasks[K];var me=this.cancelCallbacks[K];delete this.cancelCallbacks[K],me&&me()}else R()||z.mustQueue?(this.tasks[K]=z,this.taskQueue.push(K),this.invoker.trigger()):this.processTask(K,z)},gf.prototype.process=function(){if(this.taskQueue.length){var C=this.taskQueue.shift(),z=this.tasks[C];delete this.tasks[C],this.taskQueue.length&&this.invoker.trigger(),z&&this.processTask(C,z)}},gf.prototype.processTask=function(C,z){var K=this;if("<response>"===z.type){var me=this.callbacks[C];delete this.callbacks[C],me&&(z.error?me(Nl(z.error)):me(null,Nl(z.data)))}else{var Re=!1,Ve=j(this.globalScope)?void 0:[],Ze=z.hasCallback?function(Ot,Gt){Re=!0,delete K.cancelCallbacks[C],K.target.postMessage({id:C,type:"<response>",sourceMapId:K.mapId,error:Ot?js(Ot):null,data:js(Gt,Ve)},Ve)}:function(Ot){Re=!0},st=null,vt=Nl(z.data);if(this.parent[z.type])st=this.parent[z.type](z.sourceMapId,vt,Ze);else if(this.parent.getWorkerSource){var Ct=z.type.split(".");st=this.parent.getWorkerSource(z.sourceMapId,Ct[0],vt.source)[Ct[1]](vt,Ze)}else Ze(new Error("Could not find function "+z.type));!Re&&st&&st.cancel&&(this.cancelCallbacks[C]=st.cancel)}},gf.prototype.remove=function(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)};var La=function(C,z){C&&(z?this.setSouthWest(C).setNorthEast(z):4===C.length?this.setSouthWest([C[0],C[1]]).setNorthEast([C[2],C[3]]):this.setSouthWest(C[0]).setNorthEast(C[1]))};La.prototype.setNorthEast=function(C){return this._ne=C instanceof Fo?new Fo(C.lng,C.lat):Fo.convert(C),this},La.prototype.setSouthWest=function(C){return this._sw=C instanceof Fo?new Fo(C.lng,C.lat):Fo.convert(C),this},La.prototype.extend=function(C){var z,K,me=this._sw,Re=this._ne;if(C instanceof Fo)z=C,K=C;else{if(!(C instanceof La))return Array.isArray(C)?4===C.length||C.every(Array.isArray)?this.extend(La.convert(C)):this.extend(Fo.convert(C)):this;if(K=C._ne,!(z=C._sw)||!K)return this}return me||Re?(me.lng=Math.min(z.lng,me.lng),me.lat=Math.min(z.lat,me.lat),Re.lng=Math.max(K.lng,Re.lng),Re.lat=Math.max(K.lat,Re.lat)):(this._sw=new Fo(z.lng,z.lat),this._ne=new Fo(K.lng,K.lat)),this},La.prototype.getCenter=function(){return new Fo((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},La.prototype.getSouthWest=function(){return this._sw},La.prototype.getNorthEast=function(){return this._ne},La.prototype.getNorthWest=function(){return new Fo(this.getWest(),this.getNorth())},La.prototype.getSouthEast=function(){return new Fo(this.getEast(),this.getSouth())},La.prototype.getWest=function(){return this._sw.lng},La.prototype.getSouth=function(){return this._sw.lat},La.prototype.getEast=function(){return this._ne.lng},La.prototype.getNorth=function(){return this._ne.lat},La.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},La.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},La.prototype.isEmpty=function(){return!(this._sw&&this._ne)},La.prototype.contains=function(C){var z=Fo.convert(C),K=z.lng,me=z.lat,Ve=this._sw.lng<=K&&K<=this._ne.lng;return this._sw.lng>this._ne.lng&&(Ve=this._sw.lng>=K&&K>=this._ne.lng),this._sw.lat<=me&&me<=this._ne.lat&&Ve},La.convert=function(C){return!C||C instanceof La?C:new La(C)};var qv=6371008.8,Fo=function(C,z){if(isNaN(C)||isNaN(z))throw new Error("Invalid LngLat object: ("+C+", "+z+")");if(this.lng=+C,this.lat=+z,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};Fo.prototype.wrap=function(){return new Fo(u(this.lng,-180,180),this.lat)},Fo.prototype.toArray=function(){return[this.lng,this.lat]},Fo.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},Fo.prototype.distanceTo=function(C){var z=Math.PI/180,K=this.lat*z,me=C.lat*z,Re=Math.sin(K)*Math.sin(me)+Math.cos(K)*Math.cos(me)*Math.cos((C.lng-this.lng)*z);return qv*Math.acos(Math.min(Re,1))},Fo.prototype.toBounds=function(C){void 0===C&&(C=0);var z=360*C/40075017,K=z/Math.cos(Math.PI/180*this.lat);return new La(new Fo(this.lng-K,this.lat-z),new Fo(this.lng+K,this.lat+z))},Fo.convert=function(C){if(C instanceof Fo)return C;if(Array.isArray(C)&&(2===C.length||3===C.length))return new Fo(Number(C[0]),Number(C[1]));if(!Array.isArray(C)&&"object"==typeof C&&null!==C)return new Fo(Number("lng"in C?C.lng:C.lon),Number(C.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")};var Wv=2*Math.PI*qv;function $v(C){return Wv*Math.cos(C*Math.PI/180)}function xl(C){return(180+C)/360}function Hp(C){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+C*Math.PI/360)))/360}function Pg(C,z){return C/$v(z)}function Ah(C){return 360/Math.PI*Math.atan(Math.exp((180-360*C)*Math.PI/180))-90}var Ha=function(C,z,K){void 0===K&&(K=0),this.x=+C,this.y=+z,this.z=+K};Ha.fromLngLat=function(C,z){void 0===z&&(z=0);var K=Fo.convert(C);return new Ha(xl(K.lng),Hp(K.lat),Pg(z,K.lat))},Ha.prototype.toLngLat=function(){return new Fo(360*this.x-180,Ah(this.y))},Ha.prototype.toAltitude=function(){return this.z*$v(Ah(this.y))},Ha.prototype.meterInMercatorCoordinateUnits=function(){return 1/Wv*(C=Ah(this.y),1/Math.cos(C*Math.PI/180));var C};var Gu=function(C,z,K){this.z=C,this.x=z,this.y=K,this.key=Sh(0,C,C,z,K)};Gu.prototype.equals=function(C){return this.z===C.z&&this.x===C.x&&this.y===C.y},Gu.prototype.url=function(C,z){var K,me,Re,Ve,Ze,st=(me=this.y,Re=this.z,Ve=Gv(256*(K=this.x),256*(me=Math.pow(2,Re)-me-1),Re),Ze=Gv(256*(K+1),256*(me+1),Re),Ve[0]+","+Ve[1]+","+Ze[0]+","+Ze[1]),vt=function(Ct,Ot,Gt){for(var Kt,Yt="",gn=Ct;gn>0;gn--)Yt+=(Ot&(Kt=1<<gn-1)?1:0)+(Gt&Kt?2:0);return Yt}(this.z,this.x,this.y);return C[(this.x+this.y)%C.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String("tms"===z?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",vt).replace("{bbox-epsg-3857}",st)},Gu.prototype.getTilePoint=function(C){var z=Math.pow(2,this.z);return new i((C.x*z-this.x)*Hi,(C.y*z-this.y)*Hi)},Gu.prototype.toString=function(){return this.z+"/"+this.x+"/"+this.y};var Rg=function(C,z){this.wrap=C,this.canonical=z,this.key=Sh(C,z.z,z.z,z.x,z.y)},ka=function(C,z,K,me,Re){this.overscaledZ=C,this.wrap=z,this.canonical=new Gu(K,+me,+Re),this.key=Sh(z,C,K,me,Re)};function Sh(C,z,K,me,Re){(C*=2)<0&&(C=-1*C-1);var Ve=1<<K;return(Ve*Ve*C+Ve*Re+me).toString(36)+K.toString(36)+z.toString(36)}ka.prototype.equals=function(C){return this.overscaledZ===C.overscaledZ&&this.wrap===C.wrap&&this.canonical.equals(C.canonical)},ka.prototype.scaledTo=function(C){var z=this.canonical.z-C;return C>this.canonical.z?new ka(C,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new ka(C,this.wrap,C,this.canonical.x>>z,this.canonical.y>>z)},ka.prototype.calculateScaledKey=function(C,z){var K=this.canonical.z-C;return C>this.canonical.z?Sh(this.wrap*+z,C,this.canonical.z,this.canonical.x,this.canonical.y):Sh(this.wrap*+z,C,C,this.canonical.x>>K,this.canonical.y>>K)},ka.prototype.isChildOf=function(C){if(C.wrap!==this.wrap)return!1;var z=this.canonical.z-C.canonical.z;return 0===C.overscaledZ||C.overscaledZ<this.overscaledZ&&C.canonical.x===this.canonical.x>>z&&C.canonical.y===this.canonical.y>>z},ka.prototype.children=function(C){if(this.overscaledZ>=C)return[new ka(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var z=this.canonical.z+1,K=2*this.canonical.x,me=2*this.canonical.y;return[new ka(z,this.wrap,z,K,me),new ka(z,this.wrap,z,K+1,me),new ka(z,this.wrap,z,K,me+1),new ka(z,this.wrap,z,K+1,me+1)]},ka.prototype.isLessThan=function(C){return this.wrap<C.wrap||!(this.wrap>C.wrap)&&(this.overscaledZ<C.overscaledZ||!(this.overscaledZ>C.overscaledZ)&&(this.canonical.x<C.canonical.x||!(this.canonical.x>C.canonical.x)&&this.canonical.y<C.canonical.y))},ka.prototype.wrapped=function(){return new ka(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)},ka.prototype.unwrapTo=function(C){return new ka(this.overscaledZ,C,this.canonical.z,this.canonical.x,this.canonical.y)},ka.prototype.overscaleFactor=function(){return Math.pow(2,this.overscaledZ-this.canonical.z)},ka.prototype.toUnwrapped=function(){return new Rg(this.wrap,this.canonical)},ka.prototype.toString=function(){return this.overscaledZ+"/"+this.canonical.x+"/"+this.canonical.y},ka.prototype.getTilePoint=function(C){return this.canonical.getTilePoint(new Ha(C.x-this.wrap,C.y))},Lr("CanonicalTileID",Gu),Lr("OverscaledTileID",ka,{omit:["posMatrix"]});var cc=function(C,z,K){if(this.uid=C,z.height!==z.width)throw new RangeError("DEM tiles must be square");if(K&&"mapbox"!==K&&"terrarium"!==K)return I('"'+K+'" is not a valid encoding type. Valid types include "mapbox" and "terrarium".');this.stride=z.height;var me=this.dim=z.height-2;this.data=new Uint32Array(z.data.buffer),this.encoding=K||"mapbox";for(var Re=0;Re<me;Re++)this.data[this._idx(-1,Re)]=this.data[this._idx(0,Re)],this.data[this._idx(me,Re)]=this.data[this._idx(me-1,Re)],this.data[this._idx(Re,-1)]=this.data[this._idx(Re,0)],this.data[this._idx(Re,me)]=this.data[this._idx(Re,me-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(me,-1)]=this.data[this._idx(me-1,0)],this.data[this._idx(-1,me)]=this.data[this._idx(0,me-1)],this.data[this._idx(me,me)]=this.data[this._idx(me-1,me-1)]};cc.prototype.get=function(C,z){var K=new Uint8Array(this.data.buffer),me=4*this._idx(C,z);return("terrarium"===this.encoding?this._unpackTerrarium:this._unpackMapbox)(K[me],K[me+1],K[me+2])},cc.prototype.getUnpackVector=function(){return"terrarium"===this.encoding?[256,1,.00390625,32768]:[6553.6,25.6,.1,1e4]},cc.prototype._idx=function(C,z){if(C<-1||C>=this.dim+1||z<-1||z>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(z+1)*this.stride+(C+1)},cc.prototype._unpackMapbox=function(C,z,K){return(256*C*256+256*z+K)/10-1e4},cc.prototype._unpackTerrarium=function(C,z,K){return 256*C+z+K/256-32768},cc.prototype.getPixels=function(){return new xa({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))},cc.prototype.backfillBorder=function(C,z,K){if(this.dim!==C.dim)throw new Error("dem dimension mismatch");var me=z*this.dim,Re=z*this.dim+this.dim,Ve=K*this.dim,Ze=K*this.dim+this.dim;switch(z){case-1:me=Re-1;break;case 1:Re=me+1}switch(K){case-1:Ve=Ze-1;break;case 1:Ze=Ve+1}for(var st=-z*this.dim,vt=-K*this.dim,Ct=Ve;Ct<Ze;Ct++)for(var Ot=me;Ot<Re;Ot++)this.data[this._idx(Ot,Ct)]=C.data[this._idx(Ot+st,Ct+vt)]},Lr("DEMData",cc);var Gp=function(C){this._stringToNumber={},this._numberToString=[];for(var z=0;z<C.length;z++){var K=C[z];this._stringToNumber[K]=z,this._numberToString[z]=K}};Gp.prototype.encode=function(C){return this._stringToNumber[C]},Gp.prototype.decode=function(C){return this._numberToString[C]};var kh=function(C,z,K,me,Re){this.type="Feature",this._vectorTileFeature=C,C._z=z,C._x=K,C._y=me,this.properties=C.properties,this.id=Re},Lg={geometry:{configurable:!0}};Lg.geometry.get=function(){return void 0===this._geometry&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},Lg.geometry.set=function(C){this._geometry=C},kh.prototype.toJSON=function(){var C={geometry:this.geometry};for(var z in this)"_geometry"!==z&&"_vectorTileFeature"!==z&&(C[z]=this[z]);return C},Object.defineProperties(kh.prototype,Lg);var Hf=function(){this.state={},this.stateChanges={},this.deletedStates={}};Hf.prototype.updateState=function(C,z,K){var me=String(z);if(this.stateChanges[C]=this.stateChanges[C]||{},this.stateChanges[C][me]=this.stateChanges[C][me]||{},h(this.stateChanges[C][me],K),null===this.deletedStates[C])for(var Re in this.deletedStates[C]={},this.state[C])Re!==me&&(this.deletedStates[C][Re]=null);else if(this.deletedStates[C]&&null===this.deletedStates[C][me])for(var Ve in this.deletedStates[C][me]={},this.state[C][me])K[Ve]||(this.deletedStates[C][me][Ve]=null);else for(var Ze in K)this.deletedStates[C]&&this.deletedStates[C][me]&&null===this.deletedStates[C][me][Ze]&&delete this.deletedStates[C][me][Ze]},Hf.prototype.removeFeatureState=function(C,z,K){if(null!==this.deletedStates[C]){var me=String(z);if(this.deletedStates[C]=this.deletedStates[C]||{},K&&void 0!==z)null!==this.deletedStates[C][me]&&(this.deletedStates[C][me]=this.deletedStates[C][me]||{},this.deletedStates[C][me][K]=null);else if(void 0!==z)if(this.stateChanges[C]&&this.stateChanges[C][me])for(K in this.deletedStates[C][me]={},this.stateChanges[C][me])this.deletedStates[C][me][K]=null;else this.deletedStates[C][me]=null;else this.deletedStates[C]=null}},Hf.prototype.getState=function(C,z){var K=String(z),Ve=h({},(this.state[C]||{})[K],(this.stateChanges[C]||{})[K]);if(null===this.deletedStates[C])return{};if(this.deletedStates[C]){var Ze=this.deletedStates[C][z];if(null===Ze)return{};for(var st in Ze)delete Ve[st]}return Ve},Hf.prototype.initializeTileState=function(C,z){C.setFeatureState(this.state,z)},Hf.prototype.coalesceChanges=function(C,z){var K={};for(var me in this.stateChanges){this.state[me]=this.state[me]||{};var Re={};for(var Ve in this.stateChanges[me])this.state[me][Ve]||(this.state[me][Ve]={}),h(this.state[me][Ve],this.stateChanges[me][Ve]),Re[Ve]=this.state[me][Ve];K[me]=Re}for(var Ze in this.deletedStates){this.state[Ze]=this.state[Ze]||{};var st={};if(null===this.deletedStates[Ze])for(var vt in this.state[Ze])st[vt]={},this.state[Ze][vt]={};else for(var Ct in this.deletedStates[Ze]){if(null===this.deletedStates[Ze][Ct])this.state[Ze][Ct]={};else for(var Ot=0,Gt=Object.keys(this.deletedStates[Ze][Ct]);Ot<Gt.length;Ot+=1)delete this.state[Ze][Ct][Gt[Ot]];st[Ct]=this.state[Ze][Ct]}K[Ze]=K[Ze]||{},h(K[Ze],st)}if(this.stateChanges={},this.deletedStates={},0!==Object.keys(K).length)for(var Yt in C)C[Yt].setFeatureState(K,z)};var zc=function(C,z){this.tileID=C,this.x=C.canonical.x,this.y=C.canonical.y,this.z=C.canonical.z,this.grid=new ii(Hi,16,0),this.grid3D=new ii(Hi,16,0),this.featureIndexArray=new rn,this.promoteId=z};function Yv(C,z,K,me,Re){return x(C,function(Ve,Ze){var st=z instanceof Oa?z.get(Ze):null;return st&&st.evaluate?st.evaluate(K,me,Re):st})}function qp(C){for(var z=1/0,K=1/0,me=-1/0,Re=-1/0,Ve=0,Ze=C;Ve<Ze.length;Ve+=1){var st=Ze[Ve];z=Math.min(z,st.x),K=Math.min(K,st.y),me=Math.max(me,st.x),Re=Math.max(Re,st.y)}return{minX:z,minY:K,maxX:me,maxY:Re}}function Ng(C,z){return z-C}zc.prototype.insert=function(C,z,K,me,Re,Ve){var Ze=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(K,me,Re);for(var st=Ve?this.grid3D:this.grid,vt=0;vt<z.length;vt++){for(var Ct=z[vt],Ot=[1/0,1/0,-1/0,-1/0],Gt=0;Gt<Ct.length;Gt++){var Kt=Ct[Gt];Ot[0]=Math.min(Ot[0],Kt.x),Ot[1]=Math.min(Ot[1],Kt.y),Ot[2]=Math.max(Ot[2],Kt.x),Ot[3]=Math.max(Ot[3],Kt.y)}Ot[0]<Hi&&Ot[1]<Hi&&Ot[2]>=0&&Ot[3]>=0&&st.insert(Ze,Ot[0],Ot[1],Ot[2],Ot[3])}},zc.prototype.loadVTLayers=function(){return this.vtLayers||(this.vtLayers=new ch.VectorTile(new Dp(this.rawTileData)).layers,this.sourceLayerCoder=new Gp(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers},zc.prototype.query=function(C,z,K,me){var Re=this;this.loadVTLayers();for(var Ve=C.params||{},Ze=Hi/C.tileSize/C.scale,st=gu(Ve.filter),vt=C.queryGeometry,Ct=C.queryPadding*Ze,Ot=qp(vt),Gt=this.grid.query(Ot.minX-Ct,Ot.minY-Ct,Ot.maxX+Ct,Ot.maxY+Ct),Kt=qp(C.cameraQueryGeometry),Yt=0,gn=this.grid3D.query(Kt.minX-Ct,Kt.minY-Ct,Kt.maxX+Ct,Kt.maxY+Ct,function(fr,vr,xr,Pr){return function(kr,Vr,Zr,gi,Jr){for(var fi=0,ni=kr;fi<ni.length;fi+=1){var Xr=ni[fi];if(Vr<=Xr.x&&Zr<=Xr.y&&gi>=Xr.x&&Jr>=Xr.y)return!0}var zi=[new i(Vr,Zr),new i(Vr,Jr),new i(gi,Jr),new i(gi,Zr)];if(kr.length>2)for(var Ti=0,vo=zi;Ti<vo.length;Ti+=1)if(Ec(kr,vo[Ti]))return!0;for(var si=0;si<kr.length-1;si++)if(ah(kr[si],kr[si+1],zi))return!0;return!1}(C.cameraQueryGeometry,fr-Ct,vr-Ct,xr+Ct,Pr+Ct)});Yt<gn.length;Yt+=1)Gt.push(gn[Yt]);Gt.sort(Ng);for(var Fn,zn={},$n=function(fr){var vr=Gt[fr];if(vr!==Fn){Fn=vr;var xr=Re.featureIndexArray.get(vr),Pr=null;Re.loadMatchingFeature(zn,xr.bucketIndex,xr.sourceLayerIndex,xr.featureIndex,st,Ve.layers,Ve.availableImages,z,K,me,function(kr,Vr,Zr){return Pr||(Pr=Ps(kr)),Vr.queryIntersectsFeature(vt,kr,Zr,Pr,Re.z,C.transform,Ze,C.pixelPosMatrix)})}},Jn=0;Jn<Gt.length;Jn++)$n(Jn);return zn},zc.prototype.loadMatchingFeature=function(C,z,K,me,Re,Ve,Ze,st,vt,Ct,Ot){var Gt=this.bucketLayerIDs[z];if(!Ve||function(Pr,kr){for(var Vr=0;Vr<Pr.length;Vr++)if(kr.indexOf(Pr[Vr])>=0)return!0;return!1}(Ve,Gt)){var Kt=this.sourceLayerCoder.decode(K),Yt=this.vtLayers[Kt].feature(me);if(Re.filter(new wi(this.tileID.overscaledZ),Yt))for(var gn=this.getId(Yt,Kt),_n=0;_n<Gt.length;_n++){var Fn=Gt[_n];if(!(Ve&&Ve.indexOf(Fn)<0)){var zn=st[Fn];if(zn){var $n={};void 0!==gn&&Ct&&($n=Ct.getState(zn.sourceLayer||"_geojsonTileLayer",gn));var Jn=vt[Fn];Jn.paint=Yv(Jn.paint,zn.paint,Yt,$n,Ze),Jn.layout=Yv(Jn.layout,zn.layout,Yt,$n,Ze);var fr=!Ot||Ot(Yt,zn,$n);if(fr){var vr=new kh(Yt,this.z,this.x,this.y,gn);vr.layer=Jn;var xr=C[Fn];void 0===xr&&(xr=C[Fn]=[]),xr.push({featureIndex:me,feature:vr,intersectionZ:fr})}}}}}},zc.prototype.lookupSymbolFeatures=function(C,z,K,me,Re,Ve,Ze,st){var vt={};this.loadVTLayers();for(var Ct=gu(Re),Ot=0,Gt=C;Ot<Gt.length;Ot+=1)this.loadMatchingFeature(vt,K,me,Gt[Ot],Ct,Ve,Ze,st,z);return vt},zc.prototype.hasLayer=function(C){for(var z=0,K=this.bucketLayerIDs;z<K.length;z+=1)for(var me=0,Re=K[z];me<Re.length;me+=1)if(C===Re[me])return!0;return!1},zc.prototype.getId=function(C,z){var K=C.id;return this.promoteId&&"boolean"==typeof(K=C.properties["string"==typeof this.promoteId?this.promoteId:this.promoteId[z]])&&(K=Number(K)),K},Lr("FeatureIndex",zc,{omit:["rawTileData","sourceLayerCoder"]});var Ka=function(C,z){this.tileID=C,this.uid=p(),this.uses=0,this.tileSize=z,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.expiredRequestCount=0,this.state="loading"};Ka.prototype.registerFadeDuration=function(C){var z=C+this.timeAdded;z<re.now()||this.fadeEndTime&&z<this.fadeEndTime||(this.fadeEndTime=z)},Ka.prototype.wasRequested=function(){return"errored"===this.state||"loaded"===this.state||"reloading"===this.state},Ka.prototype.loadVectorData=function(C,z,K){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",C){for(var me in C.featureIndex&&(this.latestFeatureIndex=C.featureIndex,C.rawTileData?(this.latestRawTileData=C.rawTileData,this.latestFeatureIndex.rawTileData=C.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=C.collisionBoxArray,this.buckets=function(Ct,Ot){var Gt={};if(!Ot)return Gt;for(var Kt=function(){var _n=gn[Yt],Fn=_n.layerIds.map(function(fr){return Ot.getLayer(fr)}).filter(Boolean);if(0!==Fn.length){_n.layers=Fn,_n.stateDependentLayerIds&&(_n.stateDependentLayers=_n.stateDependentLayerIds.map(function(fr){return Fn.filter(function(vr){return vr.id===fr})[0]}));for(var zn=0,$n=Fn;zn<$n.length;zn+=1)Gt[$n[zn].id]=_n}},Yt=0,gn=Ct;Yt<gn.length;Yt+=1)Kt();return Gt}(C.buckets,z.style),this.hasSymbolBuckets=!1,this.buckets){var Re=this.buckets[me];if(Re instanceof mo){if(this.hasSymbolBuckets=!0,!K)break;Re.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(var Ve in this.buckets){var Ze=this.buckets[Ve];if(Ze instanceof mo&&Ze.hasRTLText){this.hasRTLText=!0,Fi.isLoading()||Fi.isLoaded()||"deferred"!==bo()||uf();break}}for(var st in this.queryPadding=0,this.buckets){var vt=this.buckets[st];this.queryPadding=Math.max(this.queryPadding,z.style.getLayer(st).queryRadius(vt))}C.imageAtlas&&(this.imageAtlas=C.imageAtlas),C.glyphAtlasImage&&(this.glyphAtlasImage=C.glyphAtlasImage)}else this.collisionBoxArray=new Mt},Ka.prototype.unloadVectorData=function(){for(var C in this.buckets)this.buckets[C].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"},Ka.prototype.getBucket=function(C){return this.buckets[C.id]},Ka.prototype.upload=function(C){for(var z in this.buckets){var K=this.buckets[z];K.uploadPending()&&K.upload(C)}var me=C.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new Uf(C,this.imageAtlas.image,me.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new Uf(C,this.glyphAtlasImage,me.ALPHA),this.glyphAtlasImage=null)},Ka.prototype.prepare=function(C){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(C,this.imageAtlasTexture)},Ka.prototype.queryRenderedFeatures=function(C,z,K,me,Re,Ve,Ze,st,vt,Ct){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:me,cameraQueryGeometry:Re,scale:Ve,tileSize:this.tileSize,pixelPosMatrix:Ct,transform:st,params:Ze,queryPadding:this.queryPadding*vt},C,z,K):{}},Ka.prototype.querySourceFeatures=function(C,z){var K=this.latestFeatureIndex;if(K&&K.rawTileData){var me=K.loadVTLayers(),Re=z?z.sourceLayer:"",Ve=me._geojsonTileLayer||me[Re];if(Ve)for(var Ze=gu(z&&z.filter),st=this.tileID.canonical,vt=st.z,Ct=st.x,Ot=st.y,Gt={z:vt,x:Ct,y:Ot},Kt=0;Kt<Ve.length;Kt++){var Yt=Ve.feature(Kt);if(Ze.filter(new wi(this.tileID.overscaledZ),Yt)){var gn=K.getId(Yt,Re),_n=new kh(Yt,vt,Ct,Ot,gn);_n.tile=Gt,C.push(_n)}}}},Ka.prototype.hasData=function(){return"loaded"===this.state||"reloading"===this.state||"expired"===this.state},Ka.prototype.patternsLoaded=function(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length},Ka.prototype.setExpiryData=function(C){var z=this.expirationTime;if(C.cacheControl){var K=L(C.cacheControl);K["max-age"]&&(this.expirationTime=Date.now()+1e3*K["max-age"])}else C.expires&&(this.expirationTime=new Date(C.expires).getTime());if(this.expirationTime){var me=Date.now(),Re=!1;if(this.expirationTime>me)Re=!1;else if(z)if(this.expirationTime<z)Re=!0;else{var Ve=this.expirationTime-z;Ve?this.expirationTime=me+Math.max(Ve,3e4):Re=!0}else Re=!0;Re?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}},Ka.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-(new Date).getTime(),Math.pow(2,31)-1)},Ka.prototype.setFeatureState=function(C,z){if(this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData&&0!==Object.keys(C).length){var K=this.latestFeatureIndex.loadVTLayers();for(var me in this.buckets)if(z.style.hasLayer(me)){var Re=this.buckets[me],Ve=Re.layers[0].sourceLayer||"_geojsonTileLayer",Ze=K[Ve],st=C[Ve];if(Ze&&st&&0!==Object.keys(st).length){Re.update(st,Ze,this.imageAtlas&&this.imageAtlas.patternPositions||{});var vt=z&&z.style&&z.style.getLayer(me);vt&&(this.queryPadding=Math.max(this.queryPadding,vt.queryRadius(Re)))}}}},Ka.prototype.holdingForFade=function(){return void 0!==this.symbolFadeHoldUntil},Ka.prototype.symbolFadeFinished=function(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<re.now()},Ka.prototype.clearFadeHold=function(){this.symbolFadeHoldUntil=void 0},Ka.prototype.setHoldDuration=function(C){this.symbolFadeHoldUntil=re.now()+C},Ka.prototype.setDependencies=function(C,z){for(var K={},me=0,Re=z;me<Re.length;me+=1)K[Re[me]]=!0;this.dependencies[C]=K},Ka.prototype.hasDependency=function(C,z){for(var K=0,me=C;K<me.length;K+=1){var Ve=this.dependencies[me[K]];if(Ve)for(var Ze=0,st=z;Ze<st.length;Ze+=1)if(Ve[st[Ze]])return!0}return!1};var bu=self.performance,Zv=function(C){this._marks={start:[C.url,"start"].join("#"),end:[C.url,"end"].join("#"),measure:C.url.toString()},bu.mark(this._marks.start)};Zv.prototype.finish=function(){bu.mark(this._marks.end);var C=bu.getEntriesByName(this._marks.measure);return 0===C.length&&(bu.measure(this._marks.measure,this._marks.start,this._marks.end),C=bu.getEntriesByName(this._marks.measure),bu.clearMarks(this._marks.start),bu.clearMarks(this._marks.end),bu.clearMeasures(this._marks.measure)),C},f.Actor=gf,f.AlphaImage=ju,f.CanonicalTileID=Gu,f.CollisionBoxArray=Mt,f.Color=kn,f.DEMData=cc,f.DataConstantProperty=Kr,f.DictionaryCoder=Gp,f.EXTENT=Hi,f.ErrorEvent=gt,f.EvaluationParameters=wi,f.Event=ot,f.Evented=ft,f.FeatureIndex=zc,f.FillBucket=Ul,f.FillExtrusionBucket=Uu,f.ImageAtlas=al,f.ImagePosition=pf,f.LineBucket=Ms,f.LngLat=Fo,f.LngLatBounds=La,f.MercatorCoordinate=Ha,f.ONE_EM=Ja,f.OverscaledTileID=ka,f.Point=i,f.Point$1=i,f.Properties=Pa,f.Protobuf=Dp,f.RGBAImage=xa,f.RequestManager=le,f.RequestPerformance=Zv,f.ResourceType=kt,f.SegmentVector=Pn,f.SourceFeatureState=Hf,f.StructArrayLayout1ui2=Qe,f.StructArrayLayout2f1f2i16=Pe,f.StructArrayLayout2i4=ws,f.StructArrayLayout3ui6=ie,f.StructArrayLayout4i8=Bl,f.SymbolBucket=mo,f.Texture=Uf,f.Tile=Ka,f.Transitionable=cs,f.Uniform1f=ci,f.Uniform1i=ti,f.Uniform2f=Li,f.Uniform3f=ro,f.Uniform4f=fo,f.UniformColor=Ai,f.UniformMatrix4f=Vo,f.UnwrappedTileID=Rg,f.ValidationError=$e,f.WritingMode=As,f.ZoomHistory=ss,f.add=function(C,z,K){return C[0]=z[0]+K[0],C[1]=z[1]+K[1],C[2]=z[2]+K[2],C},f.addDynamicAttributes=bh,f.asyncAll=function(C,z,K){if(!C.length)return K(null,[]);var me=C.length,Re=new Array(C.length),Ve=null;C.forEach(function(Ze,st){z(Ze,function(vt,Ct){vt&&(Ve=vt),Re[st]=Ct,0==--me&&K(Ve,Re)})})},f.bezier=a,f.bindAll=m,f.browser=re,f.cacheEntryPossiblyAdded=function(C){++mt>ke&&(C.getActor().send("enforceCacheSizeLimit",Oe),mt=0)},f.clamp=l,f.clearTileCache=function(C){var z=self.caches.delete(ve);C&&z.catch(C).then(function(){return C()})},f.clipLine=Eg,f.clone=function(C){var z=new Vl(16);return z[0]=C[0],z[1]=C[1],z[2]=C[2],z[3]=C[3],z[4]=C[4],z[5]=C[5],z[6]=C[6],z[7]=C[7],z[8]=C[8],z[9]=C[9],z[10]=C[10],z[11]=C[11],z[12]=C[12],z[13]=C[13],z[14]=C[14],z[15]=C[15],z},f.clone$1=A,f.clone$2=function(C){var z=new Vl(3);return z[0]=C[0],z[1]=C[1],z[2]=C[2],z},f.collisionCircleLayout=Cp,f.config=ne,f.create=function(){var C=new Vl(16);return Vl!=Float32Array&&(C[1]=0,C[2]=0,C[3]=0,C[4]=0,C[6]=0,C[7]=0,C[8]=0,C[9]=0,C[11]=0,C[12]=0,C[13]=0,C[14]=0),C[0]=1,C[5]=1,C[10]=1,C[15]=1,C},f.create$1=function(){var C=new Vl(9);return Vl!=Float32Array&&(C[1]=0,C[2]=0,C[3]=0,C[5]=0,C[6]=0,C[7]=0),C[0]=1,C[4]=1,C[8]=1,C},f.create$2=function(){var C=new Vl(4);return Vl!=Float32Array&&(C[1]=0,C[2]=0),C[0]=1,C[3]=1,C},f.createCommonjsModule=k,f.createExpression=pu,f.createLayout=ya,f.createStyleLayer=function(C){return"custom"===C.type?new Vv(C):new Uv[C.type](C)},f.cross=function(C,z,K){var me=z[0],Re=z[1],Ve=z[2],Ze=K[0],st=K[1],vt=K[2];return C[0]=Re*vt-Ve*st,C[1]=Ve*Ze-me*vt,C[2]=me*st-Re*Ze,C},f.deepEqual=function C(z,K){if(Array.isArray(z)){if(!Array.isArray(K)||z.length!==K.length)return!1;for(var me=0;me<z.length;me++)if(!C(z[me],K[me]))return!1;return!0}if("object"==typeof z&&null!==z&&null!==K){if("object"!=typeof K||Object.keys(z).length!==Object.keys(K).length)return!1;for(var Re in z)if(!C(z[Re],K[Re]))return!1;return!0}return z===K},f.dot=function(C,z){return C[0]*z[0]+C[1]*z[1]+C[2]*z[2]},f.dot$1=function(C,z){return C[0]*z[0]+C[1]*z[1]+C[2]*z[2]+C[3]*z[3]},f.ease=o,f.emitValidationErrors=Gr,f.endsWith=w,f.enforceCacheSizeLimit=function(C){We(),ge&&ge.then(function(z){z.keys().then(function(K){for(var me=0;me<K.length-C;me++)z.delete(K[me])})})},f.evaluateSizeForFeature=Rp,f.evaluateSizeForZoom=mh,f.evaluateVariableOffset=Nv,f.evented=Lo,f.extend=h,f.featureFilter=gu,f.filterObject=b,f.fromRotation=function(C,z){var K=Math.sin(z),me=Math.cos(z);return C[0]=me,C[1]=K,C[2]=0,C[3]=-K,C[4]=me,C[5]=0,C[6]=0,C[7]=0,C[8]=1,C},f.getAnchorAlignment=Ag,f.getAnchorJustification=Fp,f.getArrayBuffer=Pt,f.getImage=tt,f.getJSON=function(C,z){return pt(h(C,{type:"json"}),z)},f.getRTLTextPluginStatus=bo,f.getReferrer=Et,f.getVideo=function(C,z){var K,me,Re=self.document.createElement("video");Re.muted=!0,Re.onloadstart=function(){z(null,Re)};for(var Ve=0;Ve<C.length;Ve++){var Ze=self.document.createElement("source");K=C[Ve],me=void 0,(me=self.document.createElement("a")).href=K,me.protocol===self.document.location.protocol&&me.host===self.document.location.host||(Re.crossOrigin="Anonymous"),Ze.src=C[Ve],Re.appendChild(Ze)}return{cancel:function(){}}},f.identity=hp,f.invert=function(C,z){var K=z[0],me=z[1],Re=z[2],Ve=z[3],Ze=z[4],st=z[5],vt=z[6],Ct=z[7],Ot=z[8],Gt=z[9],Kt=z[10],Yt=z[11],gn=z[12],_n=z[13],Fn=z[14],zn=z[15],$n=K*st-me*Ze,Jn=K*vt-Re*Ze,fr=K*Ct-Ve*Ze,vr=me*vt-Re*st,xr=me*Ct-Ve*st,Pr=Re*Ct-Ve*vt,kr=Ot*_n-Gt*gn,Vr=Ot*Fn-Kt*gn,Zr=Ot*zn-Yt*gn,gi=Gt*Fn-Kt*_n,Jr=Gt*zn-Yt*_n,fi=Kt*zn-Yt*Fn,ni=$n*fi-Jn*Jr+fr*gi+vr*Zr-xr*Vr+Pr*kr;return ni?(C[0]=(st*fi-vt*Jr+Ct*gi)*(ni=1/ni),C[1]=(Re*Jr-me*fi-Ve*gi)*ni,C[2]=(_n*Pr-Fn*xr+zn*vr)*ni,C[3]=(Kt*xr-Gt*Pr-Yt*vr)*ni,C[4]=(vt*Zr-Ze*fi-Ct*Vr)*ni,C[5]=(K*fi-Re*Zr+Ve*Vr)*ni,C[6]=(Fn*fr-gn*Pr-zn*Jn)*ni,C[7]=(Ot*Pr-Kt*fr+Yt*Jn)*ni,C[8]=(Ze*Jr-st*Zr+Ct*kr)*ni,C[9]=(me*Zr-K*Jr-Ve*kr)*ni,C[10]=(gn*xr-_n*fr+zn*$n)*ni,C[11]=(Gt*fr-Ot*xr-Yt*$n)*ni,C[12]=(st*Vr-Ze*gi-vt*kr)*ni,C[13]=(K*gi-me*Vr+Re*kr)*ni,C[14]=(_n*Jn-gn*vr-Fn*$n)*ni,C[15]=(Ot*vr-Gt*Jn+Kt*$n)*ni,C):null},f.isChar=Dr,f.isMapboxURL=pe,f.keysDifference=function(C,z){var K=[];for(var me in C)me in z||K.push(me);return K},f.makeRequest=pt,f.mapObject=x,f.mercatorXfromLng=xl,f.mercatorYfromLat=Hp,f.mercatorZfromAltitude=Pg,f.mul=a_,f.multiply=Nf,f.mvt=ch,f.normalize=function(C,z){var K=z[0],me=z[1],Re=z[2],Ve=K*K+me*me+Re*Re;return Ve>0&&(Ve=1/Math.sqrt(Ve)),C[0]=z[0]*Ve,C[1]=z[1]*Ve,C[2]=z[2]*Ve,C},f.number=nr,f.offscreenCanvasSupported=ct,f.ortho=function(C,z,K,me,Re,Ve,Ze){var st=1/(z-K),vt=1/(me-Re),Ct=1/(Ve-Ze);return C[0]=-2*st,C[1]=0,C[2]=0,C[3]=0,C[4]=0,C[5]=-2*vt,C[6]=0,C[7]=0,C[8]=0,C[9]=0,C[10]=2*Ct,C[11]=0,C[12]=(z+K)*st,C[13]=(Re+me)*vt,C[14]=(Ze+Ve)*Ct,C[15]=1,C},f.parseGlyphPBF=function(C){return new Dp(C).readFields(xw,[])},f.pbf=Dp,f.performSymbolLayout=function(C,z,K,me,Re,Ve,Ze){C.createArrays(),C.tilePixelRatio=Hi/(512*C.overscaling),C.compareText={},C.iconsNeedLinear=!1;var vt=C.layers[0].layout,Ct=C.layers[0]._unevaluatedLayout._values,Ot={};if("composite"===C.textSizeData.kind){var Gt=C.textSizeData,Yt=Gt.maxZoom;Ot.compositeTextSizes=[Ct["text-size"].possiblyEvaluate(new wi(Gt.minZoom),Ze),Ct["text-size"].possiblyEvaluate(new wi(Yt),Ze)]}if("composite"===C.iconSizeData.kind){var gn=C.iconSizeData,Fn=gn.maxZoom;Ot.compositeIconSizes=[Ct["icon-size"].possiblyEvaluate(new wi(gn.minZoom),Ze),Ct["icon-size"].possiblyEvaluate(new wi(Fn),Ze)]}Ot.layoutTextSize=Ct["text-size"].possiblyEvaluate(new wi(C.zoom+1),Ze),Ot.layoutIconSize=Ct["icon-size"].possiblyEvaluate(new wi(C.zoom+1),Ze),Ot.textMaxSize=Ct["text-size"].possiblyEvaluate(new wi(18));for(var zn=vt.get("text-line-height")*Ja,$n="map"===vt.get("text-rotation-alignment")&&"point"!==vt.get("symbol-placement"),Jn=vt.get("text-keep-upright"),fr=vt.get("text-size"),vr=function(){var kr=Pr[xr],Vr=vt.get("text-font").evaluate(kr,{},Ze).join(","),Zr=fr.evaluate(kr,{},Ze),gi=Ot.layoutTextSize.evaluate(kr,{},Ze),Jr=Ot.layoutIconSize.evaluate(kr,{},Ze),fi={horizontal:{},vertical:void 0},ni=kr.text,Xr=[0,0];if(ni){var zi=ni.toString(),Ti=vt.get("text-letter-spacing").evaluate(kr,{},Ze)*Ja,vo=function(bi){for(var Ki=0,ha=bi;Ki<ha.length;Ki+=1)if(Ao=ha[Ki].charCodeAt(0),Dr.Arabic(Ao)||Dr["Arabic Supplement"](Ao)||Dr["Arabic Extended-A"](Ao)||Dr["Arabic Presentation Forms-A"](Ao)||Dr["Arabic Presentation Forms-B"](Ao))return!1;var Ao;return!0}(zi)?Ti:0,si=vt.get("text-anchor").evaluate(kr,{},Ze),eo=vt.get("text-variable-anchor");if(!eo){var wo=vt.get("text-radial-offset").evaluate(kr,{},Ze);Xr=wo?Nv(si,[wo*Ja,Np]):vt.get("text-offset").evaluate(kr,{},Ze).map(function(bi){return bi*Ja})}var To=$n?"center":vt.get("text-justify").evaluate(kr,{},Ze),yo=vt.get("symbol-placement"),_o="point"===yo?vt.get("text-max-width").evaluate(kr,{},Ze)*Ja:0,ba=function(){C.allowVerticalPlacement&&Ya(zi)&&(fi.vertical=Op(ni,z,K,Re,Vr,_o,zn,si,"left",vo,Xr,As.vertical,!0,yo,gi,Zr))};if(!$n&&eo){for(var Mo="auto"===To?eo.map(function(bi){return Fp(bi)}):[To],Qa=!1,hs=0;hs<Mo.length;hs++){var ps=Mo[hs];if(!fi.horizontal[ps])if(Qa)fi.horizontal[ps]=fi.horizontal[0];else{var Us=Op(ni,z,K,Re,Vr,_o,zn,"center",ps,vo,Xr,As.horizontal,!1,yo,gi,Zr);Us&&(fi.horizontal[ps]=Us,Qa=1===Us.positionedLines.length)}}ba()}else{"auto"===To&&(To=Fp(si));var gs=Op(ni,z,K,Re,Vr,_o,zn,si,To,vo,Xr,As.horizontal,!1,yo,gi,Zr);gs&&(fi.horizontal[To]=gs),ba(),Ya(zi)&&$n&&Jn&&(fi.vertical=Op(ni,z,K,Re,Vr,_o,zn,si,To,vo,Xr,As.vertical,!1,yo,gi,Zr))}}var bi,Ki,Ao,ms,Ss,Na=void 0,es=!1;if(kr.icon&&kr.icon.name){var Ea=me[kr.icon.name];Ea&&(bi=Re[kr.icon.name],Ki=vt.get("icon-offset").evaluate(kr,{},Ze),Ao=Ag(vt.get("icon-anchor").evaluate(kr,{},Ze)),Na={image:bi,top:Ss=Ki[1]-bi.displaySize[1]*Ao.verticalAlign,bottom:Ss+bi.displaySize[1],left:ms=Ki[0]-bi.displaySize[0]*Ao.horizontalAlign,right:ms+bi.displaySize[0]},es=Ea.sdf,void 0===C.sdfIcons?C.sdfIcons=Ea.sdf:C.sdfIcons!==Ea.sdf&&I("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(Ea.pixelRatio!==C.pixelRatio||0!==vt.get("icon-rotate").constantOr(1))&&(C.iconsNeedLinear=!0))}var Ca=Fv(fi.horizontal)||fi.vertical;C.iconsInText=!!Ca&&Ca.iconsInText,(Ca||Na)&&function(bi,Ki,ha,Ao,aa,Eo,io,Co,ms,Hs,Ss){var wu=Eo.textMaxSize.evaluate(Ki,{});void 0===wu&&(wu=io);var fc,Ga=bi.layers[0].layout,qu=Ga.get("icon-offset").evaluate(Ki,{},Ss),Tu=Fv(ha.horizontal),Gf=io/24,Wp=bi.tilePixelRatio*Gf,Gl=bi.tilePixelRatio*wu/24,mf=bi.tilePixelRatio*Co,Eh=bi.tilePixelRatio*Ga.get("symbol-spacing"),Xv=Ga.get("text-padding")*bi.tilePixelRatio,Fg=Ga.get("icon-padding")*bi.tilePixelRatio,Ch=Ga.get("text-max-angle")/180*Math.PI,zg="map"===Ga.get("text-rotation-alignment")&&"point"!==Ga.get("symbol-placement"),Bg="map"===Ga.get("icon-rotation-alignment")&&"point"!==Ga.get("symbol-placement"),kd=Ga.get("symbol-placement"),jg=Eh/2,Dh=Ga.get("icon-text-fit");Ao&&"none"!==Dh&&(bi.allowVerticalPlacement&&ha.vertical&&(fc=Iv(Ao,ha.vertical,Dh,Ga.get("icon-text-fit-padding"),qu,Gf)),Tu&&(Ao=Iv(Ao,Tu,Dh,Ga.get("icon-text-fit-padding"),qu,Gf)));var qf=function(Gg,Rh){Rh.x<0||Rh.x>=Hi||Rh.y<0||Rh.y>=Hi||function(zo,Wu,P_,jc,Kp,Qv,Qp,hc,e0,Od,qg,Wg,$f,Pd,Rd,$g,t0,n0,e1,Yg,bl,Yf,R_,Su,L_){var r0,vf,Zf,ku,Ld,yf=zo.addToLineVertexArray(Wu,P_),Lh=0,t1=0,o0=0,Nh=0,Gs=-1,_f=-1,$u={},n1=Er(""),Zg=0,a0=0;if(void 0===hc._unevaluatedLayout.getValue("text-radial-offset")?(Zg=(r0=hc.layout.get("text-offset").evaluate(bl,{},Su).map(function(bf){return bf*Ja}))[0],a0=r0[1]):(Zg=hc.layout.get("text-radial-offset").evaluate(bl,{},Su)*Ja,a0=Np),zo.allowVerticalPlacement&&jc.vertical){var Xf=hc.layout.get("text-rotate").evaluate(bl,{},Su)+90;ku=new xh(e0,Wu,Od,qg,Wg,jc.vertical,$f,Pd,Rd,Xf),Qp&&(Ld=new xh(e0,Wu,Od,qg,Wg,Qp,t0,n0,Rd,Xf))}if(Kp){var Xg=hc.layout.get("icon-rotate").evaluate(bl,{}),r1="none"!==hc.layout.get("icon-text-fit"),s0=Lv(Kp,Xg,R_,r1),Nd=Qp?Lv(Qp,Xg,R_,r1):void 0;Zf=new xh(e0,Wu,Od,qg,Wg,Kp,t0,n0,!1,Xg),Lh=4*s0.length;var i1=zo.iconSizeData,Fd=null;"source"===i1.kind?(Fd=[Hu*hc.layout.get("icon-size").evaluate(bl,{})])[0]>Lc&&I(zo.layerIds[0]+': Value for "icon-size" is >= 255. Reduce your "icon-size".'):"composite"===i1.kind&&((Fd=[Hu*Yf.compositeIconSizes[0].evaluate(bl,{},Su),Hu*Yf.compositeIconSizes[1].evaluate(bl,{},Su)])[0]>Lc||Fd[1]>Lc)&&I(zo.layerIds[0]+': Value for "icon-size" is >= 255. Reduce your "icon-size".'),zo.addSymbols(zo.icon,s0,Fd,Yg,e1,bl,!1,Wu,yf.lineStartIndex,yf.lineLength,-1,Su),Gs=zo.icon.placedSymbolArray.length-1,Nd&&(t1=4*Nd.length,zo.addSymbols(zo.icon,Nd,Fd,Yg,e1,bl,As.vertical,Wu,yf.lineStartIndex,yf.lineLength,-1,Su),_f=zo.icon.placedSymbolArray.length-1)}for(var xf in jc.horizontal){var Jg=jc.horizontal[xf];if(!vf){n1=Er(Jg.text);var Aw=hc.layout.get("text-rotate").evaluate(bl,{},Su);vf=new xh(e0,Wu,Od,qg,Wg,Jg,$f,Pd,Rd,Aw)}var Kg=1===Jg.positionedLines.length;if(o0+=D_(zo,Wu,Jg,Qv,hc,Rd,bl,$g,yf,jc.vertical?As.horizontal:As.horizontalOnly,Kg?Object.keys(jc.horizontal):[xf],$u,Gs,Yf,Su),Kg)break}jc.vertical&&(Nh+=D_(zo,Wu,jc.vertical,Qv,hc,Rd,bl,$g,yf,As.vertical,["vertical"],$u,_f,Yf,Su));var F_=vf?vf.boxStartIndex:zo.collisionBoxArray.length,Sw=vf?vf.boxEndIndex:zo.collisionBoxArray.length,kw=ku?ku.boxStartIndex:zo.collisionBoxArray.length,l0=ku?ku.boxEndIndex:zo.collisionBoxArray.length,z_=Zf?Zf.boxStartIndex:zo.collisionBoxArray.length,Qg=Zf?Zf.boxEndIndex:zo.collisionBoxArray.length,em=Ld?Ld.boxStartIndex:zo.collisionBoxArray.length,zd=Ld?Ld.boxEndIndex:zo.collisionBoxArray.length,Eu=-1,Bd=function(bf,Jf){return bf&&bf.circleDiameter?Math.max(bf.circleDiameter,Jf):Jf};Eu=Bd(vf,Eu),Eu=Bd(ku,Eu),Eu=Bd(Zf,Eu);var jd=(Eu=Bd(Ld,Eu))>-1?1:0;jd&&(Eu*=L_/Ja),zo.glyphOffsetArray.length>=mo.MAX_GLYPHS&&I("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),void 0!==bl.sortKey&&zo.addToSortKeyRanges(zo.symbolInstances.length,bl.sortKey),zo.symbolInstances.emplaceBack(Wu.x,Wu.y,$u.right>=0?$u.right:-1,$u.center>=0?$u.center:-1,$u.left>=0?$u.left:-1,$u.vertical||-1,Gs,_f,n1,F_,Sw,kw,l0,z_,Qg,em,zd,Od,o0,Nh,Lh,t1,jd,0,$f,Zg,a0,Eu)}(bi,Rh,Gg,ha,Ao,aa,fc,bi.layers[0],bi.collisionBoxArray,Ki.index,Ki.sourceLayerIndex,bi.index,Wp,Xv,zg,ms,mf,Fg,Bg,qu,Ki,Eo,Hs,Ss,io)};if("line"===kd)for(var Ed=0,Cd=Eg(Ki.geometry,0,0,Hi,Hi);Ed<Cd.length;Ed+=1)for(var Au=Cd[Ed],dc=0,Ih=kg(Au,Eh,Ch,ha.vertical||Tu,Ao,24,Gl,bi.overscaling,Hi);dc<Ih.length;dc+=1){var Oh=Ih[dc];Tu&&I_(bi,Tu.text,jg,Oh)||qf(Au,Oh)}else if("line-center"===kd)for(var Dd=0,$p=Ki.geometry;Dd<$p.length;Dd+=1){var Id=$p[Dd];if(Id.length>1){var Yp=Rv(Id,Ch,ha.vertical||Tu,Ao,24,Gl);Yp&&qf(Id,Yp)}}else if("Polygon"===Ki.type)for(var Bc=0,Wf=sc(Ki.geometry,0);Bc<Wf.length;Bc+=1){var Zp=Wf[Bc],O_=E_(Zp,16);qf(Zp[0],new bd(O_.x,O_.y,0))}else if("LineString"===Ki.type)for(var Xp=0,Jv=Ki.geometry;Xp<Jv.length;Xp+=1){var Vg=Jv[Xp];qf(Vg,new bd(Vg[0].x,Vg[0].y,0))}else if("Point"===Ki.type)for(var Ug=0,Kv=Ki.geometry;Ug<Kv.length;Ug+=1)for(var Jp=0,Ph=Kv[Ug];Jp<Ph.length;Jp+=1){var Hg=Ph[Jp];qf([Hg],new bd(Hg.x,Hg.y,0))}}(C,kr,fi,Na,me,Ot,gi,Jr,Xr,es,Ze)},xr=0,Pr=C.features;xr<Pr.length;xr+=1)vr();Ve&&C.generateCollisionDebugBuffers()},f.perspective=function(C,z,K,me,Re){var Ve,Ze=1/Math.tan(z/2);return C[0]=Ze/K,C[1]=0,C[2]=0,C[3]=0,C[4]=0,C[5]=Ze,C[6]=0,C[7]=0,C[8]=0,C[9]=0,C[11]=-1,C[12]=0,C[13]=0,C[15]=0,null!=Re&&Re!==1/0?(C[10]=(Re+me)*(Ve=1/(me-Re)),C[14]=2*Re*me*Ve):(C[10]=-1,C[14]=-2*me),C},f.pick=function(C,z){for(var K={},me=0;me<z.length;me++){var Re=z[me];Re in C&&(K[Re]=C[Re])}return K},f.plugin=Fi,f.polygonIntersectsPolygon=Ho,f.postMapLoadEvent=qe,f.postTurnstileEvent=De,f.potpack=ds,f.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],f.register=Lr,f.registerForPluginStateChange=function(C){return C({pluginStatus:da,pluginURL:Ii}),Lo.on("pluginStateChange",C),C},f.rotate=function(C,z,K){var me=z[0],Re=z[1],Ve=z[2],Ze=z[3],st=Math.sin(K),vt=Math.cos(K);return C[0]=me*vt+Ve*st,C[1]=Re*vt+Ze*st,C[2]=me*-st+Ve*vt,C[3]=Re*-st+Ze*vt,C},f.rotateX=function(C,z,K){var me=Math.sin(K),Re=Math.cos(K),Ve=z[4],Ze=z[5],st=z[6],vt=z[7],Ct=z[8],Ot=z[9],Gt=z[10],Kt=z[11];return z!==C&&(C[0]=z[0],C[1]=z[1],C[2]=z[2],C[3]=z[3],C[12]=z[12],C[13]=z[13],C[14]=z[14],C[15]=z[15]),C[4]=Ve*Re+Ct*me,C[5]=Ze*Re+Ot*me,C[6]=st*Re+Gt*me,C[7]=vt*Re+Kt*me,C[8]=Ct*Re-Ve*me,C[9]=Ot*Re-Ze*me,C[10]=Gt*Re-st*me,C[11]=Kt*Re-vt*me,C},f.rotateZ=function(C,z,K){var me=Math.sin(K),Re=Math.cos(K),Ve=z[0],Ze=z[1],st=z[2],vt=z[3],Ct=z[4],Ot=z[5],Gt=z[6],Kt=z[7];return z!==C&&(C[8]=z[8],C[9]=z[9],C[10]=z[10],C[11]=z[11],C[12]=z[12],C[13]=z[13],C[14]=z[14],C[15]=z[15]),C[0]=Ve*Re+Ct*me,C[1]=Ze*Re+Ot*me,C[2]=st*Re+Gt*me,C[3]=vt*Re+Kt*me,C[4]=Ct*Re-Ve*me,C[5]=Ot*Re-Ze*me,C[6]=Gt*Re-st*me,C[7]=Kt*Re-vt*me,C},f.scale=function(C,z,K){var me=K[0],Re=K[1],Ve=K[2];return C[0]=z[0]*me,C[1]=z[1]*me,C[2]=z[2]*me,C[3]=z[3]*me,C[4]=z[4]*Re,C[5]=z[5]*Re,C[6]=z[6]*Re,C[7]=z[7]*Re,C[8]=z[8]*Ve,C[9]=z[9]*Ve,C[10]=z[10]*Ve,C[11]=z[11]*Ve,C[12]=z[12],C[13]=z[13],C[14]=z[14],C[15]=z[15],C},f.scale$1=function(C,z,K){return C[0]=z[0]*K,C[1]=z[1]*K,C[2]=z[2]*K,C[3]=z[3]*K,C},f.scale$2=function(C,z,K){return C[0]=z[0]*K,C[1]=z[1]*K,C[2]=z[2]*K,C},f.setCacheLimits=function(C,z){Oe=C,ke=z},f.setRTLTextPlugin=function(C,z,K){if(void 0===K&&(K=!1),da===us||da===bs||da===ai)throw new Error("setRTLTextPlugin cannot be called multiple times.");Ii=re.resolveURL(C),da=us,Fl=z,va(),K||uf()},f.sphericalToCartesian=function(C){var z=C[0],K=C[1],me=C[2];return K+=90,K*=Math.PI/180,me*=Math.PI/180,{x:z*Math.cos(K)*Math.sin(me),y:z*Math.sin(K)*Math.sin(me),z:z*Math.cos(me)}},f.sqrLen=function(C){var z=C[0],K=C[1];return z*z+K*K},f.styleSpec=Ue,f.sub=function(C,z,K){return C[0]=z[0]-K[0],C[1]=z[1]-K[1],C[2]=z[2]-K[2],C},f.symbolSize=k_,f.transformMat3=function(C,z,K){var me=z[0],Re=z[1],Ve=z[2];return C[0]=me*K[0]+Re*K[3]+Ve*K[6],C[1]=me*K[1]+Re*K[4]+Ve*K[7],C[2]=me*K[2]+Re*K[5]+Ve*K[8],C},f.transformMat4=gp,f.translate=function(C,z,K){var me,Re,Ve,Ze,st,vt,Ct,Ot,Gt,Kt,Yt,gn,_n=K[0],Fn=K[1],zn=K[2];return z===C?(C[12]=z[0]*_n+z[4]*Fn+z[8]*zn+z[12],C[13]=z[1]*_n+z[5]*Fn+z[9]*zn+z[13],C[14]=z[2]*_n+z[6]*Fn+z[10]*zn+z[14],C[15]=z[3]*_n+z[7]*Fn+z[11]*zn+z[15]):(Re=z[1],Ve=z[2],Ze=z[3],st=z[4],vt=z[5],Ct=z[6],Ot=z[7],Gt=z[8],Kt=z[9],Yt=z[10],gn=z[11],C[0]=me=z[0],C[1]=Re,C[2]=Ve,C[3]=Ze,C[4]=st,C[5]=vt,C[6]=Ct,C[7]=Ot,C[8]=Gt,C[9]=Kt,C[10]=Yt,C[11]=gn,C[12]=me*_n+st*Fn+Gt*zn+z[12],C[13]=Re*_n+vt*Fn+Kt*zn+z[13],C[14]=Ve*_n+Ct*Fn+Yt*zn+z[14],C[15]=Ze*_n+Ot*Fn+gn*zn+z[15]),C},f.triggerPluginCompletionEvent=zl,f.uniqueId=p,f.validateCustomStyleLayer=function(C){var z=[],K=C.id;return void 0===K&&z.push({message:"layers."+K+': missing required property "id"'}),void 0===C.render&&z.push({message:"layers."+K+': missing required method "render"'}),C.renderingMode&&"2d"!==C.renderingMode&&"3d"!==C.renderingMode&&z.push({message:"layers."+K+': property "renderingMode" must be either "2d" or "3d"'}),z},f.validateLight=fa,f.validateStyle=ta,f.values=function(C){var z=[];for(var K in C)z.push(C[K]);return z},f.vectorTile=ch,f.version=M,f.warnOnce=I,f.webpSupported=Q,f.window=self,f.wrap=u}),E(0,function(f){function k(tt){var it=typeof tt;if("number"===it||"boolean"===it||"string"===it||null==tt)return JSON.stringify(tt);if(Array.isArray(tt)){for(var Je="[",ot=0,gt=tt;ot<gt.length;ot+=1)Je+=k(gt[ot])+",";return Je+"]"}for(var ft=Object.keys(tt).sort(),Ue="{",$e=0;$e<ft.length;$e++)Ue+=JSON.stringify(ft[$e])+":"+k(tt[ft[$e]])+",";return Ue+"}"}function M(tt){for(var it="",Je=0,ot=f.refProperties;Je<ot.length;Je+=1)it+="/"+k(tt[ot[Je]]);return it}var y=function(tt){this.keyCache={},tt&&this.replace(tt)};y.prototype.replace=function(tt){this._layerConfigs={},this._layers={},this.update(tt,[])},y.prototype.update=function(tt,it){for(var Je=this,ot=0,gt=tt;ot<gt.length;ot+=1){var ft=gt[ot];this._layerConfigs[ft.id]=ft;var Ue=this._layers[ft.id]=f.createStyleLayer(ft);Ue._featureFilter=f.featureFilter(Ue.filter),this.keyCache[ft.id]&&delete this.keyCache[ft.id]}for(var $e=0,dt=it;$e<dt.length;$e+=1){var ut=dt[$e];delete this.keyCache[ut],delete this._layerConfigs[ut],delete this._layers[ut]}this.familiesBySource={};for(var At=0,wt=function(Wt,$t){for(var Qt={},pn=0;pn<Wt.length;pn++){var en=$t&&$t[Wt[pn].id]||M(Wt[pn]);$t&&($t[Wt[pn].id]=en);var nn=Qt[en];nn||(nn=Qt[en]=[]),nn.push(Wt[pn])}var fn=[];for(var On in Qt)fn.push(Qt[On]);return fn}(f.values(this._layerConfigs),this.keyCache);At<wt.length;At+=1){var St=wt[At].map(function(Wt){return Je._layers[Wt.id]}),_t=St[0];if("none"!==_t.visibility){var Rt=_t.source||"",bt=this.familiesBySource[Rt];bt||(bt=this.familiesBySource[Rt]={});var Tt=_t.sourceLayer||"_geojsonTileLayer",It=bt[Tt];It||(It=bt[Tt]=[]),It.push(St)}}};var c=function(tt){var it={},Je=[];for(var ot in tt){var gt=tt[ot],ft=it[ot]={};for(var Ue in gt){var $e=gt[+Ue];if($e&&0!==$e.bitmap.width&&0!==$e.bitmap.height){var dt={x:0,y:0,w:$e.bitmap.width+2,h:$e.bitmap.height+2};Je.push(dt),ft[Ue]={rect:dt,metrics:$e.metrics}}}}var ut=f.potpack(Je),St=new f.AlphaImage({width:ut.w||1,height:ut.h||1});for(var _t in tt){var Rt=tt[_t];for(var bt in Rt){var Tt=Rt[+bt];if(Tt&&0!==Tt.bitmap.width&&0!==Tt.bitmap.height){var It=it[_t][bt].rect;f.AlphaImage.copy(Tt.bitmap,St,{x:0,y:0},{x:It.x+1,y:It.y+1},Tt.bitmap)}}}this.image=St,this.positions=it};f.register("GlyphAtlas",c);var i=function(tt){this.tileID=new f.OverscaledTileID(tt.tileID.overscaledZ,tt.tileID.wrap,tt.tileID.canonical.z,tt.tileID.canonical.x,tt.tileID.canonical.y),this.uid=tt.uid,this.zoom=tt.zoom,this.pixelRatio=tt.pixelRatio,this.tileSize=tt.tileSize,this.source=tt.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=tt.showCollisionBoxes,this.collectResourceTiming=!!tt.collectResourceTiming,this.returnDependencies=!!tt.returnDependencies,this.promoteId=tt.promoteId};function s(tt,it,Je){for(var ot=new f.EvaluationParameters(it),gt=0,ft=tt;gt<ft.length;gt+=1)ft[gt].recalculate(ot,Je)}function a(tt,it){var Je=f.getArrayBuffer(tt.request,function(ot,gt,ft,Ue){ot?it(ot):gt&&it(null,{vectorTile:new f.vectorTile.VectorTile(new f.pbf(gt)),rawData:gt,cacheControl:ft,expires:Ue})});return function(){Je.cancel(),it()}}i.prototype.parse=function(tt,it,Je,ot,gt){var ft=this;this.status="parsing",this.data=tt,this.collisionBoxArray=new f.CollisionBoxArray;var Ue=new f.DictionaryCoder(Object.keys(tt.layers).sort()),$e=new f.FeatureIndex(this.tileID,this.promoteId);$e.bucketLayerIDs=[];var dt,ut,At,wt,St={},_t={featureIndex:$e,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:Je},Rt=it.familiesBySource[this.source];for(var bt in Rt){var Tt=tt.layers[bt];if(Tt){1===Tt.version&&f.warnOnce('Vector tile source "'+this.source+'" layer "'+bt+'" does not use vector tile spec v2 and therefore may have some rendering errors.');for(var It=Ue.encode(bt),Wt=[],$t=0;$t<Tt.length;$t++){var Qt=Tt.feature($t),pn=$e.getId(Qt,bt);Wt.push({feature:Qt,id:pn,index:$t,sourceLayerIndex:It})}for(var en=0,nn=Rt[bt];en<nn.length;en+=1){var fn=nn[en],On=fn[0];On.minzoom&&this.zoom<Math.floor(On.minzoom)||On.maxzoom&&this.zoom>=On.maxzoom||"none"!==On.visibility&&(s(fn,this.zoom,Je),(St[On.id]=On.createBucket({index:$e.bucketLayerIDs.length,layers:fn,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:It,sourceID:this.source})).populate(Wt,_t,this.tileID.canonical),$e.bucketLayerIDs.push(fn.map(function(un){return un.id})))}}}var Un=f.mapObject(_t.glyphDependencies,function(un){return Object.keys(un).map(Number)});Object.keys(Un).length?ot.send("getGlyphs",{uid:this.uid,stacks:Un},function(un,Tn){dt||(dt=un,ut=Tn,vn.call(ft))}):ut={};var Sn=Object.keys(_t.iconDependencies);Sn.length?ot.send("getImages",{icons:Sn,source:this.source,tileID:this.tileID,type:"icons"},function(un,Tn){dt||(dt=un,At=Tn,vn.call(ft))}):At={};var on=Object.keys(_t.patternDependencies);function vn(){if(dt)return gt(dt);if(ut&&At&&wt){var un=new c(ut),Tn=new f.ImageAtlas(At,wt);for(var kn in St){var xn=St[kn];xn instanceof f.SymbolBucket?(s(xn.layers,this.zoom,Je),f.performSymbolLayout(xn,ut,un.positions,At,Tn.iconPositions,this.showCollisionBoxes,this.tileID.canonical)):xn.hasPattern&&(xn instanceof f.LineBucket||xn instanceof f.FillBucket||xn instanceof f.FillExtrusionBucket)&&(s(xn.layers,this.zoom,Je),xn.addFeatures(_t,this.tileID.canonical,Tn.patternPositions))}this.status="done",gt(null,{buckets:f.values(St).filter(function(Rn){return!Rn.isEmpty()}),featureIndex:$e,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:un.image,imageAtlas:Tn,glyphMap:this.returnDependencies?ut:null,iconMap:this.returnDependencies?At:null,glyphPositions:this.returnDependencies?un.positions:null})}}on.length?ot.send("getImages",{icons:on,source:this.source,tileID:this.tileID,type:"patterns"},function(un,Tn){dt||(dt=un,wt=Tn,vn.call(ft))}):wt={},vn.call(this)};var o=function(tt,it,Je,ot){this.actor=tt,this.layerIndex=it,this.availableImages=Je,this.loadVectorData=ot||a,this.loading={},this.loaded={}};o.prototype.loadTile=function(tt,it){var Je=this,ot=tt.uid;this.loading||(this.loading={});var gt=!!(tt&&tt.request&&tt.request.collectResourceTiming)&&new f.RequestPerformance(tt.request),ft=this.loading[ot]=new i(tt);ft.abort=this.loadVectorData(tt,function(Ue,$e){if(delete Je.loading[ot],Ue||!$e)return ft.status="done",Je.loaded[ot]=ft,it(Ue);var dt=$e.rawData,ut={};$e.expires&&(ut.expires=$e.expires),$e.cacheControl&&(ut.cacheControl=$e.cacheControl);var At={};if(gt){var wt=gt.finish();wt&&(At.resourceTiming=JSON.parse(JSON.stringify(wt)))}ft.vectorTile=$e.vectorTile,ft.parse($e.vectorTile,Je.layerIndex,Je.availableImages,Je.actor,function(St,_t){if(St||!_t)return it(St);it(null,f.extend({rawTileData:dt.slice(0)},_t,ut,At))}),Je.loaded=Je.loaded||{},Je.loaded[ot]=ft})},o.prototype.reloadTile=function(tt,it){var Je=this,ot=this.loaded,gt=tt.uid,ft=this;if(ot&&ot[gt]){var Ue=ot[gt];Ue.showCollisionBoxes=tt.showCollisionBoxes;var $e=function(dt,ut){var At=Ue.reloadCallback;At&&(delete Ue.reloadCallback,Ue.parse(Ue.vectorTile,ft.layerIndex,Je.availableImages,ft.actor,At)),it(dt,ut)};"parsing"===Ue.status?Ue.reloadCallback=$e:"done"===Ue.status&&(Ue.vectorTile?Ue.parse(Ue.vectorTile,this.layerIndex,this.availableImages,this.actor,$e):$e())}},o.prototype.abortTile=function(tt,it){var Je=this.loading,ot=tt.uid;Je&&Je[ot]&&Je[ot].abort&&(Je[ot].abort(),delete Je[ot]),it()},o.prototype.removeTile=function(tt,it){var Je=this.loaded,ot=tt.uid;Je&&Je[ot]&&delete Je[ot],it()};var l=f.window.ImageBitmap,u=function(){this.loaded={}};u.prototype.loadTile=function(tt,it){var Je=tt.uid,ot=tt.encoding,gt=tt.rawImageData,ft=l&&gt instanceof l?this.getImageData(gt):gt,Ue=new f.DEMData(Je,ft,ot);this.loaded=this.loaded||{},this.loaded[Je]=Ue,it(null,Ue)},u.prototype.getImageData=function(tt){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(tt.width,tt.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=tt.width,this.offscreenCanvas.height=tt.height,this.offscreenCanvasContext.drawImage(tt,0,0,tt.width,tt.height);var it=this.offscreenCanvasContext.getImageData(-1,-1,tt.width+2,tt.height+2);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new f.RGBAImage({width:it.width,height:it.height},it.data)},u.prototype.removeTile=function(tt){var it=this.loaded,Je=tt.uid;it&&it[Je]&&delete it[Je]};var h=function tt(it,Je){var ot,gt=it&&it.type;if("FeatureCollection"===gt)for(ot=0;ot<it.features.length;ot++)tt(it.features[ot],Je);else if("GeometryCollection"===gt)for(ot=0;ot<it.geometries.length;ot++)tt(it.geometries[ot],Je);else if("Feature"===gt)tt(it.geometry,Je);else if("Polygon"===gt)v(it.coordinates,Je);else if("MultiPolygon"===gt)for(ot=0;ot<it.coordinates.length;ot++)v(it.coordinates[ot],Je);return it};function v(tt,it){if(0!==tt.length){p(tt[0],it);for(var Je=1;Je<tt.length;Je++)p(tt[Je],!it)}}function p(tt,it){for(var Je=0,ot=0,gt=tt.length,ft=gt-1;ot<gt;ft=ot++)Je+=(tt[ot][0]-tt[ft][0])*(tt[ft][1]+tt[ot][1]);Je>=0!=!!it&&tt.reverse()}var T=f.vectorTile.VectorTileFeature.prototype.toGeoJSON,_=function(tt){this._feature=tt,this.extent=f.EXTENT,this.type=tt.type,this.properties=tt.tags,"id"in tt&&!isNaN(tt.id)&&(this.id=parseInt(tt.id,10))};_.prototype.loadGeometry=function(){if(1===this._feature.type){for(var tt=[],it=0,Je=this._feature.geometry;it<Je.length;it+=1){var ot=Je[it];tt.push([new f.Point$1(ot[0],ot[1])])}return tt}for(var gt=[],ft=0,Ue=this._feature.geometry;ft<Ue.length;ft+=1){for(var $e=[],dt=0,ut=Ue[ft];dt<ut.length;dt+=1){var At=ut[dt];$e.push(new f.Point$1(At[0],At[1]))}gt.push($e)}return gt},_.prototype.toGeoJSON=function(tt,it,Je){return T.call(this,tt,it,Je)};var m=function(tt){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=f.EXTENT,this.length=tt.length,this._features=tt};m.prototype.feature=function(tt){return new _(this._features[tt])};var w=f.vectorTile.VectorTileFeature,x=b;function b(tt,it){this.options=it||{},this.features=tt,this.length=tt.length}function A(tt,it){this.id="number"==typeof tt.id?tt.id:void 0,this.type=tt.type,this.rawGeometry=1===tt.type?[tt.geometry]:tt.geometry,this.properties=tt.tags,this.extent=it||4096}b.prototype.feature=function(tt){return new A(this.features[tt],this.options.extent)},A.prototype.loadGeometry=function(){var tt=this.rawGeometry;this.geometry=[];for(var it=0;it<tt.length;it++){for(var Je=tt[it],ot=[],gt=0;gt<Je.length;gt++)ot.push(new f.Point$1(Je[gt][0],Je[gt][1]));this.geometry.push(ot)}return this.geometry},A.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var tt=this.geometry,it=1/0,Je=-1/0,ot=1/0,gt=-1/0,ft=0;ft<tt.length;ft++)for(var Ue=tt[ft],$e=0;$e<Ue.length;$e++){var dt=Ue[$e];it=Math.min(it,dt.x),Je=Math.max(Je,dt.x),ot=Math.min(ot,dt.y),gt=Math.max(gt,dt.y)}return[it,ot,Je,gt]},A.prototype.toGeoJSON=w.prototype.toGeoJSON;var g=R,O=x;function R(tt){var it=new f.pbf;return function(Je,ot){for(var gt in Je.layers)ot.writeMessage(3,L,Je.layers[gt])}(tt,it),it.finish()}function L(tt,it){var Je;it.writeVarintField(15,tt.version||1),it.writeStringField(1,tt.name||""),it.writeVarintField(5,tt.extent||4096);var ot={keys:[],values:[],keycache:{},valuecache:{}};for(Je=0;Je<tt.length;Je++)ot.feature=tt.feature(Je),it.writeMessage(2,N,ot);var gt=ot.keys;for(Je=0;Je<gt.length;Je++)it.writeStringField(3,gt[Je]);var ft=ot.values;for(Je=0;Je<ft.length;Je++)it.writeMessage(4,G,ft[Je])}function N(tt,it){var Je=tt.feature;void 0!==Je.id&&it.writeVarintField(1,Je.id),it.writeMessage(2,j,tt),it.writeVarintField(3,Je.type),it.writeMessage(4,Y,Je)}function j(tt,it){var Je=tt.feature,ot=tt.keys,gt=tt.values,ft=tt.keycache,Ue=tt.valuecache;for(var $e in Je.properties){var dt=ft[$e];void 0===dt&&(ot.push($e),ft[$e]=dt=ot.length-1),it.writeVarint(dt);var ut=Je.properties[$e],At=typeof ut;"string"!==At&&"boolean"!==At&&"number"!==At&&(ut=JSON.stringify(ut));var wt=At+":"+ut,St=Ue[wt];void 0===St&&(gt.push(ut),Ue[wt]=St=gt.length-1),it.writeVarint(St)}}function X(tt,it){return(it<<3)+(7&tt)}function F(tt){return tt<<1^tt>>31}function Y(tt,it){for(var Je=tt.loadGeometry(),ot=tt.type,gt=0,ft=0,Ue=Je.length,$e=0;$e<Ue;$e++){var dt=Je[$e],ut=1;1===ot&&(ut=dt.length),it.writeVarint(X(1,ut));for(var At=3===ot?dt.length-1:dt.length,wt=0;wt<At;wt++){1===wt&&1!==ot&&it.writeVarint(X(2,At-1));var St=dt[wt].x-gt,_t=dt[wt].y-ft;it.writeVarint(F(St)),it.writeVarint(F(_t)),gt+=St,ft+=_t}3===ot&&it.writeVarint(X(7,1))}}function G(tt,it){var Je=typeof tt;"string"===Je?it.writeStringField(1,tt):"boolean"===Je?it.writeBooleanField(7,tt):"number"===Je&&(tt%1!=0?it.writeDoubleField(3,tt):tt<0?it.writeSVarintField(6,tt):it.writeVarintField(5,tt))}function H(tt,it,Je,ot,gt,ft){if(!(gt-ot<=Je)){var Ue=ot+gt>>1;W(tt,it,Ue,ot,gt,ft%2),H(tt,it,Je,ot,Ue-1,ft+1),H(tt,it,Je,Ue+1,gt,ft+1)}}function W(tt,it,Je,ot,gt,ft){for(;gt>ot;){if(gt-ot>600){var Ue=gt-ot+1,$e=Je-ot+1,dt=Math.log(Ue),ut=.5*Math.exp(2*dt/3),At=.5*Math.sqrt(dt*ut*(Ue-ut)/Ue)*($e-Ue/2<0?-1:1);W(tt,it,Je,Math.max(ot,Math.floor(Je-$e*ut/Ue+At)),Math.min(gt,Math.floor(Je+(Ue-$e)*ut/Ue+At)),ft)}var wt=it[2*Je+ft],St=ot,_t=gt;for(Z(tt,it,ot,Je),it[2*gt+ft]>wt&&Z(tt,it,ot,gt);St<_t;){for(Z(tt,it,St,_t),St++,_t--;it[2*St+ft]<wt;)St++;for(;it[2*_t+ft]>wt;)_t--}it[2*ot+ft]===wt?Z(tt,it,ot,_t):Z(tt,it,++_t,gt),_t<=Je&&(ot=_t+1),Je<=_t&&(gt=_t-1)}}function Z(tt,it,Je,ot){se(tt,Je,ot),se(it,2*Je,2*ot),se(it,2*Je+1,2*ot+1)}function se(tt,it,Je){var ot=tt[it];tt[it]=tt[Je],tt[Je]=ot}function re(tt,it,Je,ot){var gt=tt-Je,ft=it-ot;return gt*gt+ft*ft}g.fromVectorTileJs=R,g.fromGeojsonVt=function(tt,it){it=it||{};var Je={};for(var ot in tt)Je[ot]=new x(tt[ot].features,it),Je[ot].name=ot,Je[ot].version=it.version,Je[ot].extent=it.extent;return R({layers:Je})},g.GeoJSONWrapper=O;var ne=function(tt){return tt[0]},Q=function(tt){return tt[1]},ee=function(tt,it,Je,ot,gt){void 0===it&&(it=ne),void 0===Je&&(Je=Q),void 0===ot&&(ot=64),void 0===gt&&(gt=Float64Array),this.nodeSize=ot,this.points=tt;for(var ft=tt.length<65536?Uint16Array:Uint32Array,Ue=this.ids=new ft(tt.length),$e=this.coords=new gt(2*tt.length),dt=0;dt<tt.length;dt++)Ue[dt]=dt,$e[2*dt]=it(tt[dt]),$e[2*dt+1]=Je(tt[dt]);H(Ue,$e,ot,0,Ue.length-1,0)};ee.prototype.range=function(tt,it,Je,ot){return function(gt,ft,Ue,$e,dt,ut,At){for(var wt,St,_t=[0,gt.length-1,0],Rt=[];_t.length;){var bt=_t.pop(),Tt=_t.pop(),It=_t.pop();if(Tt-It<=At)for(var Wt=It;Wt<=Tt;Wt++)St=ft[2*Wt+1],(wt=ft[2*Wt])>=Ue&&wt<=dt&&St>=$e&&St<=ut&&Rt.push(gt[Wt]);else{var $t=Math.floor((It+Tt)/2);St=ft[2*$t+1],(wt=ft[2*$t])>=Ue&&wt<=dt&&St>=$e&&St<=ut&&Rt.push(gt[$t]);var Qt=(bt+1)%2;(0===bt?Ue<=wt:$e<=St)&&(_t.push(It),_t.push($t-1),_t.push(Qt)),(0===bt?dt>=wt:ut>=St)&&(_t.push($t+1),_t.push(Tt),_t.push(Qt))}}return Rt}(this.ids,this.coords,tt,it,Je,ot,this.nodeSize)},ee.prototype.within=function(tt,it,Je){return function(ot,gt,ft,Ue,$e,dt){for(var ut=[0,ot.length-1,0],At=[],wt=$e*$e;ut.length;){var St=ut.pop(),_t=ut.pop(),Rt=ut.pop();if(_t-Rt<=dt)for(var bt=Rt;bt<=_t;bt++)re(gt[2*bt],gt[2*bt+1],ft,Ue)<=wt&&At.push(ot[bt]);else{var Tt=Math.floor((Rt+_t)/2),It=gt[2*Tt],Wt=gt[2*Tt+1];re(It,Wt,ft,Ue)<=wt&&At.push(ot[Tt]);var $t=(St+1)%2;(0===St?ft-$e<=It:Ue-$e<=Wt)&&(ut.push(Rt),ut.push(Tt-1),ut.push($t)),(0===St?ft+$e>=It:Ue+$e>=Wt)&&(ut.push(Tt+1),ut.push(_t),ut.push($t))}}return At}(this.ids,this.coords,tt,it,Je,this.nodeSize)};var oe={minZoom:0,maxZoom:16,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(tt){return tt}},ce=function(tt){this.options=ye(Object.create(oe),tt),this.trees=new Array(this.options.maxZoom+1)};function fe(tt,it,Je,ot,gt){return{x:tt,y:it,zoom:1/0,id:Je,parentId:-1,numPoints:ot,properties:gt}}function le(tt,it){var Je=tt.geometry.coordinates,gt=Je[1];return{x:Ae(Je[0]),y:be(gt),zoom:1/0,index:it,parentId:-1}}function pe(tt){return{type:"Feature",id:tt.id,properties:Me(tt),geometry:{type:"Point",coordinates:[(ot=tt.x,360*(ot-.5)),(it=tt.y,Je=(180-360*it)*Math.PI/180,360*Math.atan(Math.exp(Je))/Math.PI-90)]}};var it,Je,ot}function Me(tt){var it=tt.numPoints,Je=it>=1e4?Math.round(it/1e3)+"k":it>=1e3?Math.round(it/100)/10+"k":it;return ye(ye({},tt.properties),{cluster:!0,cluster_id:tt.id,point_count:it,point_count_abbreviated:Je})}function Ae(tt){return tt/360+.5}function be(tt){var it=Math.sin(tt*Math.PI/180),Je=.5-.25*Math.log((1+it)/(1-it))/Math.PI;return Je<0?0:Je>1?1:Je}function ye(tt,it){for(var Je in it)tt[Je]=it[Je];return tt}function we(tt){return tt.x}function ze(tt){return tt.y}function Se(tt,it,Je,ot){for(var gt,ft=ot,Ue=Je-it>>1,$e=Je-it,dt=tt[it],ut=tt[it+1],At=tt[Je],wt=tt[Je+1],St=it+3;St<Je;St+=3){var _t=Ce(tt[St],tt[St+1],dt,ut,At,wt);if(_t>ft)gt=St,ft=_t;else if(_t===ft){var Rt=Math.abs(St-Ue);Rt<$e&&(gt=St,$e=Rt)}}ft>ot&&(gt-it>3&&Se(tt,it,gt,ot),tt[gt+2]=ft,Je-gt>3&&Se(tt,gt,Je,ot))}function Ce(tt,it,Je,ot,gt,ft){var Ue=gt-Je,$e=ft-ot;if(0!==Ue||0!==$e){var dt=((tt-Je)*Ue+(it-ot)*$e)/(Ue*Ue+$e*$e);dt>1?(Je=gt,ot=ft):dt>0&&(Je+=Ue*dt,ot+=$e*dt)}return(Ue=tt-Je)*Ue+($e=it-ot)*$e}function ge(tt,it,Je,ot){var gt={id:void 0===tt?null:tt,type:it,geometry:Je,tags:ot,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(ft){var Ue=ft.geometry,$e=ft.type;if("Point"===$e||"MultiPoint"===$e||"LineString"===$e)he(ft,Ue);else if("Polygon"===$e||"MultiLineString"===$e)for(var dt=0;dt<Ue.length;dt++)he(ft,Ue[dt]);else if("MultiPolygon"===$e)for(dt=0;dt<Ue.length;dt++)for(var ut=0;ut<Ue[dt].length;ut++)he(ft,Ue[dt][ut])}(gt),gt}function he(tt,it){for(var Je=0;Je<it.length;Je+=3)tt.minX=Math.min(tt.minX,it[Je]),tt.minY=Math.min(tt.minY,it[Je+1]),tt.maxX=Math.max(tt.maxX,it[Je]),tt.maxY=Math.max(tt.maxY,it[Je+1])}function _e(tt,it,Je,ot){if(it.geometry){var gt=it.geometry.coordinates,ft=it.geometry.type,Ue=Math.pow(Je.tolerance/((1<<Je.maxZoom)*Je.extent),2),$e=[],dt=it.id;if(Je.promoteId?dt=it.properties[Je.promoteId]:Je.generateId&&(dt=ot||0),"Point"===ft)Le(gt,$e);else if("MultiPoint"===ft)for(var ut=0;ut<gt.length;ut++)Le(gt[ut],$e);else if("LineString"===ft)Ie(gt,$e,Ue,!1);else if("MultiLineString"===ft){if(Je.lineMetrics){for(ut=0;ut<gt.length;ut++)Ie(gt[ut],$e=[],Ue,!1),tt.push(ge(dt,"LineString",$e,it.properties));return}De(gt,$e,Ue,!1)}else if("Polygon"===ft)De(gt,$e,Ue,!0);else{if("MultiPolygon"!==ft){if("GeometryCollection"===ft){for(ut=0;ut<it.geometry.geometries.length;ut++)_e(tt,{id:dt,geometry:it.geometry.geometries[ut],properties:it.properties},Je,ot);return}throw new Error("Input data is not a valid GeoJSON object.")}for(ut=0;ut<gt.length;ut++){var At=[];De(gt[ut],At,Ue,!0),$e.push(At)}}tt.push(ge(dt,ft,$e,it.properties))}}function Le(tt,it){it.push(je(tt[0])),it.push(qe(tt[1])),it.push(0)}function Ie(tt,it,Je,ot){for(var gt,ft,Ue=0,$e=0;$e<tt.length;$e++){var dt=je(tt[$e][0]),ut=qe(tt[$e][1]);it.push(dt),it.push(ut),it.push(0),$e>0&&(Ue+=ot?(gt*ut-dt*ft)/2:Math.sqrt(Math.pow(dt-gt,2)+Math.pow(ut-ft,2))),gt=dt,ft=ut}var At=it.length-3;it[2]=1,Se(it,0,At,Je),it[At+2]=1,it.size=Math.abs(Ue),it.start=0,it.end=it.size}function De(tt,it,Je,ot){for(var gt=0;gt<tt.length;gt++){var ft=[];Ie(tt[gt],ft,Je,ot),it.push(ft)}}function je(tt){return tt/360+.5}function qe(tt){var it=Math.sin(tt*Math.PI/180),Je=.5-.25*Math.log((1+it)/(1-it))/Math.PI;return Je<0?0:Je>1?1:Je}function ve(tt,it,Je,ot,gt,ft,Ue,$e){if(ot/=it,ft>=(Je/=it)&&Ue<ot)return tt;if(Ue<Je||ft>=ot)return null;for(var dt=[],ut=0;ut<tt.length;ut++){var At=tt[ut],wt=At.geometry,St=At.type,_t=0===gt?At.minX:At.minY,Rt=0===gt?At.maxX:At.maxY;if(_t>=Je&&Rt<ot)dt.push(At);else if(!(Rt<Je||_t>=ot)){var bt=[];if("Point"===St||"MultiPoint"===St)Oe(wt,bt,Je,ot,gt);else if("LineString"===St)ke(wt,bt,Je,ot,gt,!1,$e.lineMetrics);else if("MultiLineString"===St)We(wt,bt,Je,ot,gt,!1);else if("Polygon"===St)We(wt,bt,Je,ot,gt,!0);else if("MultiPolygon"===St)for(var Tt=0;Tt<wt.length;Tt++){var It=[];We(wt[Tt],It,Je,ot,gt,!0),It.length&&bt.push(It)}if(bt.length){if($e.lineMetrics&&"LineString"===St){for(Tt=0;Tt<bt.length;Tt++)dt.push(ge(At.id,St,bt[Tt],At.tags));continue}"LineString"!==St&&"MultiLineString"!==St||(1===bt.length?(St="LineString",bt=bt[0]):St="MultiLineString"),"Point"!==St&&"MultiPoint"!==St||(St=3===bt.length?"Point":"MultiPoint"),dt.push(ge(At.id,St,bt,At.tags))}}}return dt.length?dt:null}function Oe(tt,it,Je,ot,gt){for(var ft=0;ft<tt.length;ft+=3){var Ue=tt[ft+gt];Ue>=Je&&Ue<=ot&&(it.push(tt[ft]),it.push(tt[ft+1]),it.push(tt[ft+2]))}}function ke(tt,it,Je,ot,gt,ft,Ue){for(var $e,dt,ut=Be(tt),At=0===gt?Ke:et,wt=tt.start,St=0;St<tt.length-3;St+=3){var _t=tt[St],Rt=tt[St+1],bt=tt[St+2],Tt=tt[St+3],It=tt[St+4],Wt=0===gt?_t:Rt,$t=0===gt?Tt:It,Qt=!1;Ue&&($e=Math.sqrt(Math.pow(_t-Tt,2)+Math.pow(Rt-It,2))),Wt<Je?$t>Je&&(dt=At(ut,_t,Rt,Tt,It,Je),Ue&&(ut.start=wt+$e*dt)):Wt>ot?$t<ot&&(dt=At(ut,_t,Rt,Tt,It,ot),Ue&&(ut.start=wt+$e*dt)):Ge(ut,_t,Rt,bt),$t<Je&&Wt>=Je&&(dt=At(ut,_t,Rt,Tt,It,Je),Qt=!0),$t>ot&&Wt<=ot&&(dt=At(ut,_t,Rt,Tt,It,ot),Qt=!0),!ft&&Qt&&(Ue&&(ut.end=wt+$e*dt),it.push(ut),ut=Be(tt)),Ue&&(wt+=$e)}var pn=tt.length-3;_t=tt[pn],Rt=tt[pn+1],bt=tt[pn+2],(Wt=0===gt?_t:Rt)>=Je&&Wt<=ot&&Ge(ut,_t,Rt,bt),pn=ut.length-3,ft&&pn>=3&&(ut[pn]!==ut[0]||ut[pn+1]!==ut[1])&&Ge(ut,ut[0],ut[1],ut[2]),ut.length&&it.push(ut)}function Be(tt){var it=[];return it.size=tt.size,it.start=tt.start,it.end=tt.end,it}function We(tt,it,Je,ot,gt,ft){for(var Ue=0;Ue<tt.length;Ue++)ke(tt[Ue],it,Je,ot,gt,ft,!1)}function Ge(tt,it,Je,ot){tt.push(it),tt.push(Je),tt.push(ot)}function Ke(tt,it,Je,ot,gt,ft){var Ue=(ft-it)/(ot-it);return tt.push(ft),tt.push(Je+(gt-Je)*Ue),tt.push(1),Ue}function et(tt,it,Je,ot,gt,ft){var Ue=(ft-Je)/(gt-Je);return tt.push(it+(ot-it)*Ue),tt.push(ft),tt.push(1),Ue}function at(tt,it){for(var Je=[],ot=0;ot<tt.length;ot++){var gt,ft=tt[ot],Ue=ft.type;if("Point"===Ue||"MultiPoint"===Ue||"LineString"===Ue)gt=mt(ft.geometry,it);else if("MultiLineString"===Ue||"Polygon"===Ue){gt=[];for(var $e=0;$e<ft.geometry.length;$e++)gt.push(mt(ft.geometry[$e],it))}else if("MultiPolygon"===Ue)for(gt=[],$e=0;$e<ft.geometry.length;$e++){for(var dt=[],ut=0;ut<ft.geometry[$e].length;ut++)dt.push(mt(ft.geometry[$e][ut],it));gt.push(dt)}Je.push(ge(ft.id,Ue,gt,ft.tags))}return Je}function mt(tt,it){var Je=[];Je.size=tt.size,void 0!==tt.start&&(Je.start=tt.start,Je.end=tt.end);for(var ot=0;ot<tt.length;ot+=3)Je.push(tt[ot]+it,tt[ot+1],tt[ot+2]);return Je}function ct(tt,it){if(tt.transformed)return tt;var Je,ot,gt,ft=1<<tt.z,Ue=tt.x,$e=tt.y;for(Je=0;Je<tt.features.length;Je++){var dt=tt.features[Je],ut=dt.geometry,At=dt.type;if(dt.geometry=[],1===At)for(ot=0;ot<ut.length;ot+=2)dt.geometry.push(kt(ut[ot],ut[ot+1],it,ft,Ue,$e));else for(ot=0;ot<ut.length;ot++){var wt=[];for(gt=0;gt<ut[ot].length;gt+=2)wt.push(kt(ut[ot][gt],ut[ot][gt+1],it,ft,Ue,$e));dt.geometry.push(wt)}}return tt.transformed=!0,tt}function kt(tt,it,Je,ot,gt,ft){return[Math.round(Je*(tt*ot-gt)),Math.round(Je*(it*ot-ft))]}function Dt(tt,it,Je,ot,gt){for(var ft=it===gt.maxZoom?0:gt.tolerance/((1<<it)*gt.extent),Ue={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:Je,y:ot,z:it,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},$e=0;$e<tt.length;$e++){Ue.numFeatures++,Et(Ue,tt[$e],ft,gt);var dt=tt[$e].minX,ut=tt[$e].minY,At=tt[$e].maxX,wt=tt[$e].maxY;dt<Ue.minX&&(Ue.minX=dt),ut<Ue.minY&&(Ue.minY=ut),At>Ue.maxX&&(Ue.maxX=At),wt>Ue.maxY&&(Ue.maxY=wt)}return Ue}function Et(tt,it,Je,ot){var gt=it.geometry,ft=it.type,Ue=[];if("Point"===ft||"MultiPoint"===ft)for(var $e=0;$e<gt.length;$e+=3)Ue.push(gt[$e]),Ue.push(gt[$e+1]),tt.numPoints++,tt.numSimplified++;else if("LineString"===ft)ht(Ue,gt,tt,Je,!1,!1);else if("MultiLineString"===ft||"Polygon"===ft)for($e=0;$e<gt.length;$e++)ht(Ue,gt[$e],tt,Je,"Polygon"===ft,0===$e);else if("MultiPolygon"===ft)for(var dt=0;dt<gt.length;dt++){var ut=gt[dt];for($e=0;$e<ut.length;$e++)ht(Ue,ut[$e],tt,Je,!0,0===$e)}if(Ue.length){var At=it.tags||null;if("LineString"===ft&&ot.lineMetrics){for(var wt in At={},it.tags)At[wt]=it.tags[wt];At.mapbox_clip_start=gt.start/gt.size,At.mapbox_clip_end=gt.end/gt.size}var St={geometry:Ue,type:"Polygon"===ft||"MultiPolygon"===ft?3:"LineString"===ft||"MultiLineString"===ft?2:1,tags:At};null!==it.id&&(St.id=it.id),tt.features.push(St)}}function ht(tt,it,Je,ot,gt,ft){var Ue=ot*ot;if(ot>0&&it.size<(gt?Ue:ot))Je.numPoints+=it.length/3;else{for(var $e=[],dt=0;dt<it.length;dt+=3)(0===ot||it[dt+2]>Ue)&&(Je.numSimplified++,$e.push(it[dt]),$e.push(it[dt+1])),Je.numPoints++;gt&&function(ut,At){for(var wt=0,St=0,_t=ut.length,Rt=_t-2;St<_t;Rt=St,St+=2)wt+=(ut[St]-ut[Rt])*(ut[St+1]+ut[Rt+1]);if(wt>0===At)for(St=0,_t=ut.length;St<_t/2;St+=2){var bt=ut[St],Tt=ut[St+1];ut[St]=ut[_t-2-St],ut[St+1]=ut[_t-1-St],ut[_t-2-St]=bt,ut[_t-1-St]=Tt}}($e,ft),tt.push($e)}}function pt(tt,it){var Je=(it=this.options=function(gt,ft){for(var Ue in ft)gt[Ue]=ft[Ue];return gt}(Object.create(this.options),it)).debug;if(Je&&console.time("preprocess data"),it.maxZoom<0||it.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(it.promoteId&&it.generateId)throw new Error("promoteId and generateId cannot be used together.");var gt,ft,Ue,$e,dt,ut,ot=function(gt,ft){var Ue=[];if("FeatureCollection"===gt.type)for(var $e=0;$e<gt.features.length;$e++)_e(Ue,gt.features[$e],ft,$e);else _e(Ue,"Feature"===gt.type?gt:{geometry:gt},ft);return Ue}(tt,it);this.tiles={},this.tileCoords=[],Je&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",it.indexMaxZoom,it.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),(gt=ot,ft=it,Ue=ft.buffer/ft.extent,$e=gt,dt=ve(gt,1,-1-Ue,Ue,0,-1,2,ft),ut=ve(gt,1,1-Ue,2+Ue,0,-1,2,ft),(dt||ut)&&($e=ve(gt,1,-Ue,1+Ue,0,-1,2,ft)||[],dt&&($e=at(dt,1).concat($e)),ut&&($e=$e.concat(at(ut,-1)))),ot=$e).length&&this.splitTile(ot,0,0,0),Je&&(ot.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function Pt(tt,it,Je){return 32*((1<<tt)*Je+it)+tt}function zt(tt,it){var Je=tt.tileID.canonical;if(!this._geoJSONIndex)return it(null,null);var ot=this._geoJSONIndex.getTile(Je.z,Je.x,Je.y);if(!ot)return it(null,null);var gt=new m(ot.features),ft=g(gt);0===ft.byteOffset&&ft.byteLength===ft.buffer.byteLength||(ft=new Uint8Array(ft)),it(null,{vectorTile:gt,rawData:ft.buffer})}ce.prototype.load=function(tt){var it=this.options,Je=it.log,ot=it.minZoom,gt=it.maxZoom,ft=it.nodeSize;Je&&console.time("total time");var Ue="prepare "+tt.length+" points";Je&&console.time(Ue),this.points=tt;for(var $e=[],dt=0;dt<tt.length;dt++)tt[dt].geometry&&$e.push(le(tt[dt],dt));this.trees[gt+1]=new ee($e,we,ze,ft,Float32Array),Je&&console.timeEnd(Ue);for(var ut=gt;ut>=ot;ut--){var At=+Date.now();$e=this._cluster($e,ut),this.trees[ut]=new ee($e,we,ze,ft,Float32Array),Je&&console.log("z%d: %d clusters in %dms",ut,$e.length,+Date.now()-At)}return Je&&console.timeEnd("total time"),this},ce.prototype.getClusters=function(tt,it){var Je=((tt[0]+180)%360+360)%360-180,ot=Math.max(-90,Math.min(90,tt[1])),gt=180===tt[2]?180:((tt[2]+180)%360+360)%360-180,ft=Math.max(-90,Math.min(90,tt[3]));if(tt[2]-tt[0]>=360)Je=-180,gt=180;else if(Je>gt){var Ue=this.getClusters([Je,ot,180,ft],it),$e=this.getClusters([-180,ot,gt,ft],it);return Ue.concat($e)}for(var dt=this.trees[this._limitZoom(it)],ut=[],At=0,wt=dt.range(Ae(Je),be(ft),Ae(gt),be(ot));At<wt.length;At+=1){var _t=dt.points[wt[At]];ut.push(_t.numPoints?pe(_t):this.points[_t.index])}return ut},ce.prototype.getChildren=function(tt){var it=this._getOriginId(tt),Je=this._getOriginZoom(tt),ot="No cluster with the specified id.",gt=this.trees[Je];if(!gt)throw new Error(ot);var ft=gt.points[it];if(!ft)throw new Error(ot);for(var Ue=this.options.radius/(this.options.extent*Math.pow(2,Je-1)),$e=[],dt=0,ut=gt.within(ft.x,ft.y,Ue);dt<ut.length;dt+=1){var wt=gt.points[ut[dt]];wt.parentId===tt&&$e.push(wt.numPoints?pe(wt):this.points[wt.index])}if(0===$e.length)throw new Error(ot);return $e},ce.prototype.getLeaves=function(tt,it,Je){var ot=[];return this._appendLeaves(ot,tt,it=it||10,Je=Je||0,0),ot},ce.prototype.getTile=function(tt,it,Je){var ot=this.trees[this._limitZoom(tt)],gt=Math.pow(2,tt),ft=this.options,$e=ft.radius/ft.extent,dt=(Je-$e)/gt,ut=(Je+1+$e)/gt,At={features:[]};return this._addTileFeatures(ot.range((it-$e)/gt,dt,(it+1+$e)/gt,ut),ot.points,it,Je,gt,At),0===it&&this._addTileFeatures(ot.range(1-$e/gt,dt,1,ut),ot.points,gt,Je,gt,At),it===gt-1&&this._addTileFeatures(ot.range(0,dt,$e/gt,ut),ot.points,-1,Je,gt,At),At.features.length?At:null},ce.prototype.getClusterExpansionZoom=function(tt){for(var it=this._getOriginZoom(tt)-1;it<=this.options.maxZoom;){var Je=this.getChildren(tt);if(it++,1!==Je.length)break;tt=Je[0].properties.cluster_id}return it},ce.prototype._appendLeaves=function(tt,it,Je,ot,gt){for(var ft=0,Ue=this.getChildren(it);ft<Ue.length;ft+=1){var $e=Ue[ft],dt=$e.properties;if(dt&&dt.cluster?gt+dt.point_count<=ot?gt+=dt.point_count:gt=this._appendLeaves(tt,dt.cluster_id,Je,ot,gt):gt<ot?gt++:tt.push($e),tt.length===Je)break}return gt},ce.prototype._addTileFeatures=function(tt,it,Je,ot,gt,ft){for(var Ue=0,$e=tt;Ue<$e.length;Ue+=1){var dt=it[$e[Ue]],ut=dt.numPoints,At={type:1,geometry:[[Math.round(this.options.extent*(dt.x*gt-Je)),Math.round(this.options.extent*(dt.y*gt-ot))]],tags:ut?Me(dt):this.points[dt.index].properties},wt=void 0;ut?wt=dt.id:this.options.generateId?wt=dt.index:this.points[dt.index].id&&(wt=this.points[dt.index].id),void 0!==wt&&(At.id=wt),ft.features.push(At)}},ce.prototype._limitZoom=function(tt){return Math.max(this.options.minZoom,Math.min(tt,this.options.maxZoom+1))},ce.prototype._cluster=function(tt,it){for(var Je=[],ot=this.options,Ue=ot.reduce,$e=ot.radius/(ot.extent*Math.pow(2,it)),dt=0;dt<tt.length;dt++){var ut=tt[dt];if(!(ut.zoom<=it)){ut.zoom=it;for(var At=this.trees[it+1],wt=At.within(ut.x,ut.y,$e),St=ut.numPoints||1,_t=ut.x*St,Rt=ut.y*St,bt=Ue&&St>1?this._map(ut,!0):null,Tt=(dt<<5)+(it+1)+this.points.length,It=0,Wt=wt;It<Wt.length;It+=1){var Qt=At.points[Wt[It]];if(!(Qt.zoom<=it)){Qt.zoom=it;var pn=Qt.numPoints||1;_t+=Qt.x*pn,Rt+=Qt.y*pn,St+=pn,Qt.parentId=Tt,Ue&&(bt||(bt=this._map(ut,!0)),Ue(bt,this._map(Qt)))}}1===St?Je.push(ut):(ut.parentId=Tt,Je.push(fe(_t/St,Rt/St,Tt,St,bt)))}}return Je},ce.prototype._getOriginId=function(tt){return tt-this.points.length>>5},ce.prototype._getOriginZoom=function(tt){return(tt-this.points.length)%32},ce.prototype._map=function(tt,it){if(tt.numPoints)return it?ye({},tt.properties):tt.properties;var Je=this.points[tt.index].properties,ot=this.options.map(Je);return it&&ot===Je?ye({},ot):ot},pt.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},pt.prototype.splitTile=function(tt,it,Je,ot,gt,ft,Ue){for(var $e=[tt,it,Je,ot],dt=this.options,ut=dt.debug;$e.length;){ot=$e.pop(),Je=$e.pop(),it=$e.pop(),tt=$e.pop();var At=1<<it,wt=Pt(it,Je,ot),St=this.tiles[wt];if(!St&&(ut>1&&console.time("creation"),St=this.tiles[wt]=Dt(tt,it,Je,ot,dt),this.tileCoords.push({z:it,x:Je,y:ot}),ut)){ut>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",it,Je,ot,St.numFeatures,St.numPoints,St.numSimplified),console.timeEnd("creation"));var _t="z"+it;this.stats[_t]=(this.stats[_t]||0)+1,this.total++}if(St.source=tt,gt){if(it===dt.maxZoom||it===gt)continue;var Rt=1<<gt-it;if(Je!==Math.floor(ft/Rt)||ot!==Math.floor(Ue/Rt))continue}else if(it===dt.indexMaxZoom||St.numPoints<=dt.indexMaxPoints)continue;if(St.source=null,0!==tt.length){ut>1&&console.time("clipping");var bt,Tt,It,Wt,$t,Qt,pn=.5*dt.buffer/dt.extent,en=.5-pn,nn=.5+pn,fn=1+pn;bt=Tt=It=Wt=null,$t=ve(tt,At,Je-pn,Je+nn,0,St.minX,St.maxX,dt),Qt=ve(tt,At,Je+en,Je+fn,0,St.minX,St.maxX,dt),tt=null,$t&&(bt=ve($t,At,ot-pn,ot+nn,1,St.minY,St.maxY,dt),Tt=ve($t,At,ot+en,ot+fn,1,St.minY,St.maxY,dt),$t=null),Qt&&(It=ve(Qt,At,ot-pn,ot+nn,1,St.minY,St.maxY,dt),Wt=ve(Qt,At,ot+en,ot+fn,1,St.minY,St.maxY,dt),Qt=null),ut>1&&console.timeEnd("clipping"),$e.push(bt||[],it+1,2*Je,2*ot),$e.push(Tt||[],it+1,2*Je,2*ot+1),$e.push(It||[],it+1,2*Je+1,2*ot),$e.push(Wt||[],it+1,2*Je+1,2*ot+1)}}},pt.prototype.getTile=function(tt,it,Je){var ot=this.options,gt=ot.extent,ft=ot.debug;if(tt<0||tt>24)return null;var Ue=1<<tt,$e=Pt(tt,it=(it%Ue+Ue)%Ue,Je);if(this.tiles[$e])return ct(this.tiles[$e],gt);ft>1&&console.log("drilling down to z%d-%d-%d",tt,it,Je);for(var dt,ut=tt,At=it,wt=Je;!dt&&ut>0;)ut--,At=Math.floor(At/2),wt=Math.floor(wt/2),dt=this.tiles[Pt(ut,At,wt)];return dt&&dt.source?(ft>1&&console.log("found parent tile z%d-%d-%d",ut,At,wt),ft>1&&console.time("drilling down"),this.splitTile(dt.source,ut,At,wt,tt,it,Je),ft>1&&console.timeEnd("drilling down"),this.tiles[$e]?ct(this.tiles[$e],gt):null):null};var Ht=function(tt){function it(Je,ot,gt,ft){tt.call(this,Je,ot,gt,zt),ft&&(this.loadGeoJSON=ft)}return tt&&(it.__proto__=tt),(it.prototype=Object.create(tt&&tt.prototype)).constructor=it,it.prototype.loadData=function(Je,ot){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),this._pendingCallback=ot,this._pendingLoadDataParams=Je,this._state&&"Idle"!==this._state?this._state="NeedsLoadData":(this._state="Coalescing",this._loadData())},it.prototype._loadData=function(){var Je=this;if(this._pendingCallback&&this._pendingLoadDataParams){var ot=this._pendingCallback,gt=this._pendingLoadDataParams;delete this._pendingCallback,delete this._pendingLoadDataParams;var ft=!!(gt&&gt.request&&gt.request.collectResourceTiming)&&new f.RequestPerformance(gt.request);this.loadGeoJSON(gt,function(Ue,$e){if(Ue||!$e)return ot(Ue);if("object"!=typeof $e)return ot(new Error("Input data given to '"+gt.source+"' is not a valid GeoJSON object."));h($e,!0);try{Je._geoJSONIndex=gt.cluster?new ce(function(At){var wt=At.superclusterOptions,St=At.clusterProperties;if(!St||!wt)return wt;for(var _t={},Rt={},bt={accumulated:null,zoom:0},Tt={properties:null},It=Object.keys(St),Wt=0,$t=It;Wt<$t.length;Wt+=1){var Qt=$t[Wt],pn=St[Qt],en=pn[0],fn=f.createExpression(pn[1]),On=f.createExpression("string"==typeof en?[en,["accumulated"],["get",Qt]]:en);_t[Qt]=fn.value,Rt[Qt]=On.value}return wt.map=function(Un){Tt.properties=Un;for(var Sn={},on=0,vn=It;on<vn.length;on+=1){var un=vn[on];Sn[un]=_t[un].evaluate(bt,Tt)}return Sn},wt.reduce=function(Un,Sn){Tt.properties=Sn;for(var on=0,vn=It;on<vn.length;on+=1){var un=vn[on];bt.accumulated=Un[un],Un[un]=Rt[un].evaluate(bt,Tt)}},wt}(gt)).load($e.features):new pt(At=$e,gt.geojsonVtOptions)}catch(At){return ot(At)}var At;Je.loaded={};var dt={};if(ft){var ut=ft.finish();ut&&(dt.resourceTiming={},dt.resourceTiming[gt.source]=JSON.parse(JSON.stringify(ut)))}ot(null,dt)})}},it.prototype.coalesce=function(){"Coalescing"===this._state?this._state="Idle":"NeedsLoadData"===this._state&&(this._state="Coalescing",this._loadData())},it.prototype.reloadTile=function(Je,ot){var gt=this.loaded;return gt&&gt[Je.uid]?tt.prototype.reloadTile.call(this,Je,ot):this.loadTile(Je,ot)},it.prototype.loadGeoJSON=function(Je,ot){if(Je.request)f.getJSON(Je.request,ot);else{if("string"!=typeof Je.data)return ot(new Error("Input data given to '"+Je.source+"' is not a valid GeoJSON object."));try{return ot(null,JSON.parse(Je.data))}catch{return ot(new Error("Input data given to '"+Je.source+"' is not a valid GeoJSON object."))}}},it.prototype.removeSource=function(Je,ot){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),ot()},it.prototype.getClusterExpansionZoom=function(Je,ot){try{ot(null,this._geoJSONIndex.getClusterExpansionZoom(Je.clusterId))}catch(gt){ot(gt)}},it.prototype.getClusterChildren=function(Je,ot){try{ot(null,this._geoJSONIndex.getChildren(Je.clusterId))}catch(gt){ot(gt)}},it.prototype.getClusterLeaves=function(Je,ot){try{ot(null,this._geoJSONIndex.getLeaves(Je.clusterId,Je.limit,Je.offset))}catch(gt){ot(gt)}},it}(o),Lt=function(tt){var it=this;this.self=tt,this.actor=new f.Actor(tt,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:o,geojson:Ht},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=function(Je,ot){if(it.workerSourceTypes[Je])throw new Error('Worker source with name "'+Je+'" already registered.');it.workerSourceTypes[Je]=ot},this.self.registerRTLTextPlugin=function(Je){if(f.plugin.isParsed())throw new Error("RTL text plugin already registered.");f.plugin.applyArabicShaping=Je.applyArabicShaping,f.plugin.processBidirectionalText=Je.processBidirectionalText,f.plugin.processStyledBidirectionalText=Je.processStyledBidirectionalText}};return Lt.prototype.setReferrer=function(tt,it){this.referrer=it},Lt.prototype.setImages=function(tt,it,Je){for(var ot in this.availableImages[tt]=it,this.workerSources[tt]){var gt=this.workerSources[tt][ot];for(var ft in gt)gt[ft].availableImages=it}Je()},Lt.prototype.setLayers=function(tt,it,Je){this.getLayerIndex(tt).replace(it),Je()},Lt.prototype.updateLayers=function(tt,it,Je){this.getLayerIndex(tt).update(it.layers,it.removedIds),Je()},Lt.prototype.loadTile=function(tt,it,Je){this.getWorkerSource(tt,it.type,it.source).loadTile(it,Je)},Lt.prototype.loadDEMTile=function(tt,it,Je){this.getDEMWorkerSource(tt,it.source).loadTile(it,Je)},Lt.prototype.reloadTile=function(tt,it,Je){this.getWorkerSource(tt,it.type,it.source).reloadTile(it,Je)},Lt.prototype.abortTile=function(tt,it,Je){this.getWorkerSource(tt,it.type,it.source).abortTile(it,Je)},Lt.prototype.removeTile=function(tt,it,Je){this.getWorkerSource(tt,it.type,it.source).removeTile(it,Je)},Lt.prototype.removeDEMTile=function(tt,it){this.getDEMWorkerSource(tt,it.source).removeTile(it)},Lt.prototype.removeSource=function(tt,it,Je){if(this.workerSources[tt]&&this.workerSources[tt][it.type]&&this.workerSources[tt][it.type][it.source]){var ot=this.workerSources[tt][it.type][it.source];delete this.workerSources[tt][it.type][it.source],void 0!==ot.removeSource?ot.removeSource(it,Je):Je()}},Lt.prototype.loadWorkerSource=function(tt,it,Je){try{this.self.importScripts(it.url),Je()}catch(ot){Je(ot.toString())}},Lt.prototype.syncRTLPluginState=function(tt,it,Je){try{f.plugin.setState(it);var ot=f.plugin.getPluginURL();if(f.plugin.isLoaded()&&!f.plugin.isParsed()&&null!=ot){this.self.importScripts(ot);var gt=f.plugin.isParsed();Je(gt?void 0:new Error("RTL Text Plugin failed to import scripts from "+ot),gt)}}catch(ft){Je(ft.toString())}},Lt.prototype.getAvailableImages=function(tt){var it=this.availableImages[tt];return it||(it=[]),it},Lt.prototype.getLayerIndex=function(tt){var it=this.layerIndexes[tt];return it||(it=this.layerIndexes[tt]=new y),it},Lt.prototype.getWorkerSource=function(tt,it,Je){var ot=this;return this.workerSources[tt]||(this.workerSources[tt]={}),this.workerSources[tt][it]||(this.workerSources[tt][it]={}),this.workerSources[tt][it][Je]||(this.workerSources[tt][it][Je]=new this.workerSourceTypes[it]({send:function(ft,Ue,$e){ot.actor.send(ft,Ue,$e,tt)}},this.getLayerIndex(tt),this.getAvailableImages(tt))),this.workerSources[tt][it][Je]},Lt.prototype.getDEMWorkerSource=function(tt,it){return this.demWorkerSources[tt]||(this.demWorkerSources[tt]={}),this.demWorkerSources[tt][it]||(this.demWorkerSources[tt][it]=new u),this.demWorkerSources[tt][it]},Lt.prototype.enforceCacheSizeLimit=function(tt,it){f.enforceCacheSizeLimit(it)},typeof WorkerGlobalScope<"u"&&void 0!==f.window&&f.window instanceof WorkerGlobalScope&&(f.window.worker=new Lt(f.window)),Lt}),E(0,function(f){var k=f.createCommonjsModule(function(V){function $(xe){return!q(xe)}function q(xe){return typeof window<"u"&&typeof document<"u"?Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray?Function.prototype&&Function.prototype.bind?Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions?"JSON"in window&&"parse"in JSON&&"stringify"in JSON?function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var U,ie,de=new Blob([""],{type:"text/javascript"}),Te=URL.createObjectURL(de);try{ie=new Worker(Te),U=!0}catch{U=!1}return ie&&ie.terminate(),URL.revokeObjectURL(Te),U}()?"Uint8ClampedArray"in window?ArrayBuffer.isView?function(){var U=document.createElement("canvas");U.width=U.height=1;var ie=U.getContext("2d");if(!ie)return!1;var de=ie.getImageData(0,0,1,1);return de&&de.width===U.width}()?(void 0===te[Pe=xe&&xe.failIfMajorPerformanceCaveat]&&(te[Pe]=function(U){var Te,Ee,Fe,ie=(Te=U,Ee=document.createElement("canvas"),(Fe=Object.create($.webGLContextAttributes)).failIfMajorPerformanceCaveat=Te,Ee.probablySupportsContext?Ee.probablySupportsContext("webgl",Fe)||Ee.probablySupportsContext("experimental-webgl",Fe):Ee.supportsContext?Ee.supportsContext("webgl",Fe)||Ee.supportsContext("experimental-webgl",Fe):Ee.getContext("webgl",Fe)||Ee.getContext("experimental-webgl",Fe));if(!ie)return!1;var de=ie.createShader(ie.VERTEX_SHADER);return!(!de||ie.isContextLost())&&(ie.shaderSource(de,"void main() {}"),ie.compileShader(de),!0===ie.getShaderParameter(de,ie.COMPILE_STATUS))}(Pe)),te[Pe]?void 0:"insufficient WebGL support"):"insufficient Canvas/getImageData support":"insufficient ArrayBuffer support":"insufficient Uint8ClampedArray support":"insufficient worker support":"insufficient JSON support":"insufficient Object support":"insufficient Function support":"insufficent Array support":"not a browser";var Pe}V.exports?V.exports=$:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=$,window.mapboxgl.notSupportedReason=q);var te={};$.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0}}),M={create:function(V,$,q){var te=f.window.document.createElement(V);return void 0!==$&&(te.className=$),q&&q.appendChild(te),te},createNS:function(V,$){return f.window.document.createElementNS(V,$)}},y=f.window.document.documentElement.style;function c(V){if(!y)return V[0];for(var $=0;$<V.length;$++)if(V[$]in y)return V[$];return V[0]}var i,s=c(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]);M.disableDrag=function(){y&&s&&(i=y[s],y[s]="none")},M.enableDrag=function(){y&&s&&(y[s]=i)};var a=c(["transform","WebkitTransform"]);M.setTransform=function(V,$){V.style[a]=$};var o=!1;try{var l=Object.defineProperty({},"passive",{get:function(){o=!0}});f.window.addEventListener("test",l,l),f.window.removeEventListener("test",l,l)}catch{o=!1}M.addEventListener=function(V,$,q,te){void 0===te&&(te={}),V.addEventListener($,q,"passive"in te&&o?te:te.capture)},M.removeEventListener=function(V,$,q,te){void 0===te&&(te={}),V.removeEventListener($,q,"passive"in te&&o?te:te.capture)};var u=function(V){V.preventDefault(),V.stopPropagation(),f.window.removeEventListener("click",u,!0)};function h(V){var $=V.userImage;return!!($&&$.render&&$.render())&&(V.data.replace(new Uint8Array($.data.buffer)),!0)}M.suppressClick=function(){f.window.addEventListener("click",u,!0),f.window.setTimeout(function(){f.window.removeEventListener("click",u,!0)},0)},M.mousePos=function(V,$){var q=V.getBoundingClientRect();return new f.Point($.clientX-q.left-V.clientLeft,$.clientY-q.top-V.clientTop)},M.touchPos=function(V,$){for(var q=V.getBoundingClientRect(),te=[],xe=0;xe<$.length;xe++)te.push(new f.Point($[xe].clientX-q.left-V.clientLeft,$[xe].clientY-q.top-V.clientTop));return te},M.mouseButton=function(V){return void 0!==f.window.InstallTrigger&&2===V.button&&V.ctrlKey&&f.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:V.button},M.remove=function(V){V.parentNode&&V.parentNode.removeChild(V)};var v=function(V){function $(){V.call(this),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new f.RGBAImage({width:1,height:1}),this.dirty=!0}return V&&($.__proto__=V),($.prototype=Object.create(V&&V.prototype)).constructor=$,$.prototype.isLoaded=function(){return this.loaded},$.prototype.setLoaded=function(q){if(this.loaded!==q&&(this.loaded=q,q)){for(var te=0,xe=this.requestors;te<xe.length;te+=1){var Pe=xe[te];this._notify(Pe.ids,Pe.callback)}this.requestors=[]}},$.prototype.getImage=function(q){return this.images[q]},$.prototype.addImage=function(q,te){this._validate(q,te)&&(this.images[q]=te)},$.prototype._validate=function(q,te){var xe=!0;return this._validateStretch(te.stretchX,te.data&&te.data.width)||(this.fire(new f.ErrorEvent(new Error('Image "'+q+'" has invalid "stretchX" value'))),xe=!1),this._validateStretch(te.stretchY,te.data&&te.data.height)||(this.fire(new f.ErrorEvent(new Error('Image "'+q+'" has invalid "stretchY" value'))),xe=!1),this._validateContent(te.content,te)||(this.fire(new f.ErrorEvent(new Error('Image "'+q+'" has invalid "content" value'))),xe=!1),xe},$.prototype._validateStretch=function(q,te){if(!q)return!0;for(var xe=0,Pe=0,U=q;Pe<U.length;Pe+=1){var ie=U[Pe];if(ie[0]<xe||ie[1]<ie[0]||te<ie[1])return!1;xe=ie[1]}return!0},$.prototype._validateContent=function(q,te){return!(q&&(4!==q.length||q[0]<0||te.data.width<q[0]||q[1]<0||te.data.height<q[1]||q[2]<0||te.data.width<q[2]||q[3]<0||te.data.height<q[3]||q[2]<q[0]||q[3]<q[1]))},$.prototype.updateImage=function(q,te){te.version=this.images[q].version+1,this.images[q]=te,this.updatedImages[q]=!0},$.prototype.removeImage=function(q){var te=this.images[q];delete this.images[q],delete this.patterns[q],te.userImage&&te.userImage.onRemove&&te.userImage.onRemove()},$.prototype.listImages=function(){return Object.keys(this.images)},$.prototype.getImages=function(q,te){var xe=!0;if(!this.isLoaded())for(var Pe=0,U=q;Pe<U.length;Pe+=1)this.images[U[Pe]]||(xe=!1);this.isLoaded()||xe?this._notify(q,te):this.requestors.push({ids:q,callback:te})},$.prototype._notify=function(q,te){for(var xe={},Pe=0,U=q;Pe<U.length;Pe+=1){var ie=U[Pe];this.images[ie]||this.fire(new f.Event("styleimagemissing",{id:ie}));var de=this.images[ie];de?xe[ie]={data:de.data.clone(),pixelRatio:de.pixelRatio,sdf:de.sdf,version:de.version,stretchX:de.stretchX,stretchY:de.stretchY,content:de.content,hasRenderCallback:!(!de.userImage||!de.userImage.render)}:f.warnOnce('Image "'+ie+'" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.')}te(null,xe)},$.prototype.getPixelSize=function(){var q=this.atlasImage;return{width:q.width,height:q.height}},$.prototype.getPattern=function(q){var te=this.patterns[q],xe=this.getImage(q);if(!xe)return null;if(te&&te.position.version===xe.version)return te.position;if(te)te.position.version=xe.version;else{var Pe={w:xe.data.width+2,h:xe.data.height+2,x:0,y:0},U=new f.ImagePosition(Pe,xe);this.patterns[q]={bin:Pe,position:U}}return this._updatePatternAtlas(),this.patterns[q].position},$.prototype.bind=function(q){var te=q.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new f.Texture(q,this.atlasImage,te.RGBA),this.atlasTexture.bind(te.LINEAR,te.CLAMP_TO_EDGE)},$.prototype._updatePatternAtlas=function(){var q=[];for(var te in this.patterns)q.push(this.patterns[te].bin);var xe=f.potpack(q),Pe=xe.w,U=xe.h,ie=this.atlasImage;for(var de in ie.resize({width:Pe||1,height:U||1}),this.patterns){var Te=this.patterns[de].bin,Ee=Te.x+1,Fe=Te.y+1,Ye=this.images[de].data,Xe=Ye.width,Qe=Ye.height;f.RGBAImage.copy(Ye,ie,{x:0,y:0},{x:Ee,y:Fe},{width:Xe,height:Qe}),f.RGBAImage.copy(Ye,ie,{x:0,y:Qe-1},{x:Ee,y:Fe-1},{width:Xe,height:1}),f.RGBAImage.copy(Ye,ie,{x:0,y:0},{x:Ee,y:Fe+Qe},{width:Xe,height:1}),f.RGBAImage.copy(Ye,ie,{x:Xe-1,y:0},{x:Ee-1,y:Fe},{width:1,height:Qe}),f.RGBAImage.copy(Ye,ie,{x:0,y:0},{x:Ee+Xe,y:Fe},{width:1,height:Qe})}this.dirty=!0},$.prototype.beginFrame=function(){this.callbackDispatchedThisFrame={}},$.prototype.dispatchRenderCallbacks=function(q){for(var te=0,xe=q;te<xe.length;te+=1){var Pe=xe[te];if(!this.callbackDispatchedThisFrame[Pe]){this.callbackDispatchedThisFrame[Pe]=!0;var U=this.images[Pe];h(U)&&this.updateImage(Pe,U)}}},$}(f.Evented),p=m,T=m,_=1e20;function m(V,$,q,te,xe,Pe){this.fontSize=V||24,this.buffer=void 0===$?3:$,this.cutoff=te||.25,this.fontFamily=xe||"sans-serif",this.fontWeight=Pe||"normal",this.radius=q||8;var U=this.size=this.fontSize+2*this.buffer;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=U,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(U*U),this.gridInner=new Float64Array(U*U),this.f=new Float64Array(U),this.d=new Float64Array(U),this.z=new Float64Array(U+1),this.v=new Int16Array(U),this.middle=Math.round(U/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function w(V,$,q,te,xe,Pe,U){for(var ie=0;ie<$;ie++){for(var de=0;de<q;de++)te[de]=V[de*$+ie];for(x(te,xe,Pe,U,q),de=0;de<q;de++)V[de*$+ie]=xe[de]}for(de=0;de<q;de++){for(ie=0;ie<$;ie++)te[ie]=V[de*$+ie];for(x(te,xe,Pe,U,$),ie=0;ie<$;ie++)V[de*$+ie]=Math.sqrt(xe[ie])}}function x(V,$,q,te,xe){q[0]=0,te[0]=-_,te[1]=+_;for(var Pe=1,U=0;Pe<xe;Pe++){for(var ie=(V[Pe]+Pe*Pe-(V[q[U]]+q[U]*q[U]))/(2*Pe-2*q[U]);ie<=te[U];)U--,ie=(V[Pe]+Pe*Pe-(V[q[U]]+q[U]*q[U]))/(2*Pe-2*q[U]);q[++U]=Pe,te[U]=ie,te[U+1]=+_}for(Pe=0,U=0;Pe<xe;Pe++){for(;te[U+1]<Pe;)U++;$[Pe]=(Pe-q[U])*(Pe-q[U])+V[q[U]]}}m.prototype.draw=function(V){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(V,this.buffer,this.middle);for(var $=this.ctx.getImageData(0,0,this.size,this.size),q=new Uint8ClampedArray(this.size*this.size),te=0;te<this.size*this.size;te++){var xe=$.data[4*te+3]/255;this.gridOuter[te]=1===xe?0:0===xe?_:Math.pow(Math.max(0,.5-xe),2),this.gridInner[te]=1===xe?_:0===xe?0:Math.pow(Math.max(0,xe-.5),2)}for(w(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),w(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),te=0;te<this.size*this.size;te++)q[te]=Math.max(0,Math.min(255,Math.round(255-255*((this.gridOuter[te]-this.gridInner[te])/this.radius+this.cutoff))));return q},p.default=T;var b=function(V,$){this.requestManager=V,this.localIdeographFontFamily=$,this.entries={}};b.prototype.setURL=function(V){this.url=V},b.prototype.getGlyphs=function(V,$){var q=this,te=[];for(var xe in V)for(var Pe=0,U=V[xe];Pe<U.length;Pe+=1)te.push({stack:xe,id:U[Pe]});f.asyncAll(te,function(de,Te){var Ee=de.stack,Fe=de.id,Ye=q.entries[Ee];Ye||(Ye=q.entries[Ee]={glyphs:{},requests:{},ranges:{}});var Xe=Ye.glyphs[Fe];if(void 0===Xe){if(Xe=q._tinySDF(Ye,Ee,Fe))return Ye.glyphs[Fe]=Xe,void Te(null,{stack:Ee,id:Fe,glyph:Xe});var Qe=Math.floor(Fe/256);if(256*Qe>65535)Te(new Error("glyphs > 65535 not supported"));else if(Ye.ranges[Qe])Te(null,{stack:Ee,id:Fe,glyph:Xe});else{var nt=Ye.requests[Qe];nt||(nt=Ye.requests[Qe]=[],b.loadGlyphRange(Ee,Qe,q.url,q.requestManager,function(lt,xt){if(xt){for(var Mt in xt)q._doesCharSupportLocalGlyph(+Mt)||(Ye.glyphs[+Mt]=xt[+Mt]);Ye.ranges[Qe]=!0}for(var jt=0,Vt=nt;jt<Vt.length;jt+=1)(0,Vt[jt])(lt,xt);delete Ye.requests[Qe]})),nt.push(function(lt,xt){lt?Te(lt):xt&&Te(null,{stack:Ee,id:Fe,glyph:xt[Fe]||null})})}}else Te(null,{stack:Ee,id:Fe,glyph:Xe})},function(de,Te){if(de)$(de);else if(Te){for(var Ee={},Fe=0,Ye=Te;Fe<Ye.length;Fe+=1){var Xe=Ye[Fe],Qe=Xe.stack,nt=Xe.id,lt=Xe.glyph;(Ee[Qe]||(Ee[Qe]={}))[nt]=lt&&{id:lt.id,bitmap:lt.bitmap.clone(),metrics:lt.metrics}}$(null,Ee)}})},b.prototype._doesCharSupportLocalGlyph=function(V){return!!this.localIdeographFontFamily&&(f.isChar["CJK Unified Ideographs"](V)||f.isChar["Hangul Syllables"](V)||f.isChar.Hiragana(V)||f.isChar.Katakana(V))},b.prototype._tinySDF=function(V,$,q){var te=this.localIdeographFontFamily;if(te&&this._doesCharSupportLocalGlyph(q)){var xe=V.tinySDF;if(!xe){var Pe="400";/bold/i.test($)?Pe="900":/medium/i.test($)?Pe="500":/light/i.test($)&&(Pe="200"),xe=V.tinySDF=new b.TinySDF(24,3,8,.25,te,Pe)}return{id:q,bitmap:new f.AlphaImage({width:30,height:30},xe.draw(String.fromCharCode(q))),metrics:{width:24,height:24,left:0,top:-8,advance:24}}}},b.loadGlyphRange=function(V,$,q,te,xe){var Pe=256*$,U=Pe+255,ie=te.transformRequest(te.normalizeGlyphsURL(q).replace("{fontstack}",V).replace("{range}",Pe+"-"+U),f.ResourceType.Glyphs);f.getArrayBuffer(ie,function(de,Te){if(de)xe(de);else if(Te){for(var Ee={},Fe=0,Ye=f.parseGlyphPBF(Te);Fe<Ye.length;Fe+=1){var Xe=Ye[Fe];Ee[Xe.id]=Xe}xe(null,Ee)}})},b.TinySDF=p;var A=function(){this.specification=f.styleSpec.light.position};A.prototype.possiblyEvaluate=function(V,$){return f.sphericalToCartesian(V.expression.evaluate($))},A.prototype.interpolate=function(V,$,q){return{x:f.number(V.x,$.x,q),y:f.number(V.y,$.y,q),z:f.number(V.z,$.z,q)}};var g=new f.Properties({anchor:new f.DataConstantProperty(f.styleSpec.light.anchor),position:new A,color:new f.DataConstantProperty(f.styleSpec.light.color),intensity:new f.DataConstantProperty(f.styleSpec.light.intensity)}),S=function(V){function $(q){V.call(this),this._transitionable=new f.Transitionable(g),this.setLight(q),this._transitioning=this._transitionable.untransitioned()}return V&&($.__proto__=V),($.prototype=Object.create(V&&V.prototype)).constructor=$,$.prototype.getLight=function(){return this._transitionable.serialize()},$.prototype.setLight=function(q,te){if(void 0===te&&(te={}),!this._validate(f.validateLight,q,te))for(var xe in q){var Pe=q[xe];f.endsWith(xe,"-transition")?this._transitionable.setTransition(xe.slice(0,-11),Pe):this._transitionable.setValue(xe,Pe)}},$.prototype.updateTransitions=function(q){this._transitioning=this._transitionable.transitioned(q,this._transitioning)},$.prototype.hasTransition=function(){return this._transitioning.hasTransition()},$.prototype.recalculate=function(q){this.properties=this._transitioning.possiblyEvaluate(q)},$.prototype._validate=function(q,te,xe){return(!xe||!1!==xe.validate)&&f.emitValidationErrors(this,q.call(f.validateStyle,f.extend({value:te,style:{glyphs:!0,sprite:!0},styleSpec:f.styleSpec})))},$}(f.Evented),O=function(V,$){this.width=V,this.height=$,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}};O.prototype.getDash=function(V,$){var q=V.join(",")+String($);return this.dashEntry[q]||(this.dashEntry[q]=this.addDash(V,$)),this.dashEntry[q]},O.prototype.getDashRanges=function(V,$,q){var te=[],xe=V.length%2==1?-V[V.length-1]*q:0,Pe=V[0]*q,U=!0;te.push({left:xe,right:Pe,isDash:U,zeroLength:0===V[0]});for(var ie=V[0],de=1;de<V.length;de++){var Te=V[de];xe=ie*q,Pe=(ie+=Te)*q,te.push({left:xe,right:Pe,isDash:U=!U,zeroLength:0===Te})}return te},O.prototype.addRoundDash=function(V,$,q){for(var te=$/2,xe=-q;xe<=q;xe++)for(var U=this.width*(this.nextRow+q+xe),ie=0,de=V[ie],Te=0;Te<this.width;Te++){Te/de.right>1&&(de=V[++ie]);var Ee=Math.abs(Te-de.left),Fe=Math.abs(Te-de.right),Ye=Math.min(Ee,Fe),Xe=void 0,Qe=xe/q*(te+1);if(de.isDash){var nt=te-Math.abs(Qe);Xe=Math.sqrt(Ye*Ye+nt*nt)}else Xe=te-Math.sqrt(Ye*Ye+Qe*Qe);this.data[U+Te]=Math.max(0,Math.min(255,Xe+128))}},O.prototype.addRegularDash=function(V){for(var $=V.length-1;$>=0;--$){var q=V[$],te=V[$+1];q.zeroLength?V.splice($,1):te&&te.isDash===q.isDash&&(te.left=q.left,V.splice($,1))}var xe=V[0],Pe=V[V.length-1];xe.isDash===Pe.isDash&&(xe.left=Pe.left-this.width,Pe.right=xe.right+this.width);for(var U=this.width*this.nextRow,ie=0,de=V[ie],Te=0;Te<this.width;Te++){Te/de.right>1&&(de=V[++ie]);var Ee=Math.abs(Te-de.left),Fe=Math.abs(Te-de.right),Ye=Math.min(Ee,Fe);this.data[U+Te]=Math.max(0,Math.min(255,(de.isDash?Ye:-Ye)+128))}},O.prototype.addDash=function(V,$){var q=$?7:0,te=2*q+1;if(this.nextRow+te>this.height)return f.warnOnce("LineAtlas out of space"),null;for(var xe=0,Pe=0;Pe<V.length;Pe++)xe+=V[Pe];if(0!==xe){var U=this.width/xe,ie=this.getDashRanges(V,this.width,U);$?this.addRoundDash(ie,U,q):this.addRegularDash(ie)}var de={y:(this.nextRow+q+.5)/this.height,height:2*q/this.height,width:xe};return this.nextRow+=te,this.dirty=!0,de},O.prototype.bind=function(V){var $=V.gl;this.texture?($.bindTexture($.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,$.texSubImage2D($.TEXTURE_2D,0,0,0,this.width,this.height,$.ALPHA,$.UNSIGNED_BYTE,this.data))):(this.texture=$.createTexture(),$.bindTexture($.TEXTURE_2D,this.texture),$.texParameteri($.TEXTURE_2D,$.TEXTURE_WRAP_S,$.REPEAT),$.texParameteri($.TEXTURE_2D,$.TEXTURE_WRAP_T,$.REPEAT),$.texParameteri($.TEXTURE_2D,$.TEXTURE_MIN_FILTER,$.LINEAR),$.texParameteri($.TEXTURE_2D,$.TEXTURE_MAG_FILTER,$.LINEAR),$.texImage2D($.TEXTURE_2D,0,$.ALPHA,this.width,this.height,0,$.ALPHA,$.UNSIGNED_BYTE,this.data))};var R=function V($,q){this.workerPool=$,this.actors=[],this.currentActor=0,this.id=f.uniqueId();for(var te=this.workerPool.acquire(this.id),xe=0;xe<te.length;xe++){var U=new V.Actor(te[xe],q,this.id);U.name="Worker "+xe,this.actors.push(U)}};function L(V,$,q){var te=function(xe,Pe){if(xe)return q(xe);if(Pe){var U=f.pick(f.extend(Pe,V),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);Pe.vector_layers&&(U.vectorLayers=Pe.vector_layers,U.vectorLayerIds=U.vectorLayers.map(function(ie){return ie.id})),U.tiles=$.canonicalizeTileset(U,V.url),q(null,U)}};return V.url?f.getJSON($.transformRequest($.normalizeSourceURL(V.url),f.ResourceType.Source),te):f.browser.frame(function(){return te(null,V)})}R.prototype.broadcast=function(V,$,q){f.asyncAll(this.actors,function(te,xe){te.send(V,$,xe)},q=q||function(){})},R.prototype.getActor=function(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]},R.prototype.remove=function(){this.actors.forEach(function(V){V.remove()}),this.actors=[],this.workerPool.release(this.id)},R.Actor=f.Actor;var N=function(V,$,q){this.bounds=f.LngLatBounds.convert(this.validateBounds(V)),this.minzoom=$||0,this.maxzoom=q||24};N.prototype.validateBounds=function(V){return Array.isArray(V)&&4===V.length?[Math.max(-180,V[0]),Math.max(-90,V[1]),Math.min(180,V[2]),Math.min(90,V[3])]:[-180,-90,180,90]},N.prototype.contains=function(V){var $=Math.pow(2,V.z),q=Math.floor(f.mercatorXfromLng(this.bounds.getWest())*$),te=Math.floor(f.mercatorYfromLat(this.bounds.getNorth())*$),xe=Math.ceil(f.mercatorXfromLng(this.bounds.getEast())*$),Pe=Math.ceil(f.mercatorYfromLat(this.bounds.getSouth())*$);return V.x>=q&&V.x<xe&&V.y>=te&&V.y<Pe};var j=function(V){function $(q,te,xe,Pe){if(V.call(this),this.id=q,this.dispatcher=xe,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,f.extend(this,f.pick(te,["url","scheme","tileSize","promoteId"])),this._options=f.extend({type:"vector"},te),this._collectResourceTiming=te.collectResourceTiming,512!==this.tileSize)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(Pe)}return V&&($.__proto__=V),($.prototype=Object.create(V&&V.prototype)).constructor=$,$.prototype.load=function(){var q=this;this._loaded=!1,this.fire(new f.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=L(this._options,this.map._requestManager,function(te,xe){q._tileJSONRequest=null,q._loaded=!0,te?q.fire(new f.ErrorEvent(te)):xe&&(f.extend(q,xe),xe.bounds&&(q.tileBounds=new N(xe.bounds,q.minzoom,q.maxzoom)),f.postTurnstileEvent(xe.tiles,q.map._requestManager._customAccessToken),f.postMapLoadEvent(xe.tiles,q.map._getMapId(),q.map._requestManager._skuToken,q.map._requestManager._customAccessToken),q.fire(new f.Event("data",{dataType:"source",sourceDataType:"metadata"})),q.fire(new f.Event("data",{dataType:"source",sourceDataType:"content"})))})},$.prototype.loaded=function(){return this._loaded},$.prototype.hasTile=function(q){return!this.tileBounds||this.tileBounds.contains(q.canonical)},$.prototype.onAdd=function(q){this.map=q,this.load()},$.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},$.prototype.serialize=function(){return f.extend({},this._options)},$.prototype.loadTile=function(q,te){var xe=this.map._requestManager.normalizeTileURL(q.tileID.canonical.url(this.tiles,this.scheme)),Pe={request:this.map._requestManager.transformRequest(xe,f.ResourceType.Tile),uid:q.uid,tileID:q.tileID,zoom:q.tileID.overscaledZ,tileSize:this.tileSize*q.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:f.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};function U(ie,de){return delete q.request,q.aborted?te(null):ie&&404!==ie.status?te(ie):(de&&de.resourceTiming&&(q.resourceTiming=de.resourceTiming),this.map._refreshExpiredTiles&&de&&q.setExpiryData(de),q.loadVectorData(de,this.map.painter),f.cacheEntryPossiblyAdded(this.dispatcher),te(null),void(q.reloadCallback&&(this.loadTile(q,q.reloadCallback),q.reloadCallback=null)))}Pe.request.collectResourceTiming=this._collectResourceTiming,q.actor&&"expired"!==q.state?"loading"===q.state?q.reloadCallback=te:q.request=q.actor.send("reloadTile",Pe,U.bind(this)):(q.actor=this.dispatcher.getActor(),q.request=q.actor.send("loadTile",Pe,U.bind(this)))},$.prototype.abortTile=function(q){q.request&&(q.request.cancel(),delete q.request),q.actor&&q.actor.send("abortTile",{uid:q.uid,type:this.type,source:this.id},void 0)},$.prototype.unloadTile=function(q){q.unloadVectorData(),q.actor&&q.actor.send("removeTile",{uid:q.uid,type:this.type,source:this.id},void 0)},$.prototype.hasTransition=function(){return!1},$}(f.Evented),X=function(V){function $(q,te,xe,Pe){V.call(this),this.id=q,this.dispatcher=xe,this.setEventedParent(Pe),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=f.extend({type:"raster"},te),f.extend(this,f.pick(te,["url","scheme","tileSize"]))}return V&&($.__proto__=V),($.prototype=Object.create(V&&V.prototype)).constructor=$,$.prototype.load=function(){var q=this;this._loaded=!1,this.fire(new f.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=L(this._options,this.map._requestManager,function(te,xe){q._tileJSONRequest=null,q._loaded=!0,te?q.fire(new f.ErrorEvent(te)):xe&&(f.extend(q,xe),xe.bounds&&(q.tileBounds=new N(xe.bounds,q.minzoom,q.maxzoom)),f.postTurnstileEvent(xe.tiles),f.postMapLoadEvent(xe.tiles,q.map._getMapId(),q.map._requestManager._skuToken),q.fire(new f.Event("data",{dataType:"source",sourceDataType:"metadata"})),q.fire(new f.Event("data",{dataType:"source",sourceDataType:"content"})))})},$.prototype.loaded=function(){return this._loaded},$.prototype.onAdd=function(q){this.map=q,this.load()},$.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},$.prototype.serialize=function(){return f.extend({},this._options)},$.prototype.hasTile=function(q){return!this.tileBounds||this.tileBounds.contains(q.canonical)},$.prototype.loadTile=function(q,te){var xe=this,Pe=this.map._requestManager.normalizeTileURL(q.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);q.request=f.getImage(this.map._requestManager.transformRequest(Pe,f.ResourceType.Tile),function(U,ie){if(delete q.request,q.aborted)q.state="unloaded",te(null);else if(U)q.state="errored",te(U);else if(ie){xe.map._refreshExpiredTiles&&q.setExpiryData(ie),delete ie.cacheControl,delete ie.expires;var de=xe.map.painter.context,Te=de.gl;q.texture=xe.map.painter.getTileTexture(ie.width),q.texture?q.texture.update(ie,{useMipmap:!0}):(q.texture=new f.Texture(de,ie,Te.RGBA,{useMipmap:!0}),q.texture.bind(Te.LINEAR,Te.CLAMP_TO_EDGE,Te.LINEAR_MIPMAP_NEAREST),de.extTextureFilterAnisotropic&&Te.texParameterf(Te.TEXTURE_2D,de.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,de.extTextureFilterAnisotropicMax)),q.state="loaded",f.cacheEntryPossiblyAdded(xe.dispatcher),te(null)}})},$.prototype.abortTile=function(q,te){q.request&&(q.request.cancel(),delete q.request),te()},$.prototype.unloadTile=function(q,te){q.texture&&this.map.painter.saveTileTexture(q.texture),te()},$.prototype.hasTransition=function(){return!1},$}(f.Evented),F=function(V){function $(q,te,xe,Pe){V.call(this,q,te,xe,Pe),this.type="raster-dem",this.maxzoom=22,this._options=f.extend({type:"raster-dem"},te),this.encoding=te.encoding||"mapbox"}return V&&($.__proto__=V),($.prototype=Object.create(V&&V.prototype)).constructor=$,$.prototype.serialize=function(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}},$.prototype.loadTile=function(q,te){var xe=this.map._requestManager.normalizeTileURL(q.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);function Pe(U,ie){U&&(q.state="errored",te(U)),ie&&(q.dem=ie,q.needsHillshadePrepare=!0,q.state="loaded",te(null))}q.request=f.getImage(this.map._requestManager.transformRequest(xe,f.ResourceType.Tile),function(U,ie){if(delete q.request,q.aborted)q.state="unloaded",te(null);else if(U)q.state="errored",te(U);else if(ie){this.map._refreshExpiredTiles&&q.setExpiryData(ie),delete ie.cacheControl,delete ie.expires;var de=f.window.ImageBitmap&&ie instanceof f.window.ImageBitmap&&f.offscreenCanvasSupported()?ie:f.browser.getImageData(ie,1),Te={uid:q.uid,coord:q.tileID,source:this.id,rawImageData:de,encoding:this.encoding};q.actor&&"expired"!==q.state||(q.actor=this.dispatcher.getActor(),q.actor.send("loadDEMTile",Te,Pe.bind(this)))}}.bind(this)),q.neighboringTiles=this._getNeighboringTiles(q.tileID)},$.prototype._getNeighboringTiles=function(q){var te=q.canonical,xe=Math.pow(2,te.z),Pe=(te.x-1+xe)%xe,U=0===te.x?q.wrap-1:q.wrap,ie=(te.x+1+xe)%xe,de=te.x+1===xe?q.wrap+1:q.wrap,Te={};return Te[new f.OverscaledTileID(q.overscaledZ,U,te.z,Pe,te.y).key]={backfilled:!1},Te[new f.OverscaledTileID(q.overscaledZ,de,te.z,ie,te.y).key]={backfilled:!1},te.y>0&&(Te[new f.OverscaledTileID(q.overscaledZ,U,te.z,Pe,te.y-1).key]={backfilled:!1},Te[new f.OverscaledTileID(q.overscaledZ,q.wrap,te.z,te.x,te.y-1).key]={backfilled:!1},Te[new f.OverscaledTileID(q.overscaledZ,de,te.z,ie,te.y-1).key]={backfilled:!1}),te.y+1<xe&&(Te[new f.OverscaledTileID(q.overscaledZ,U,te.z,Pe,te.y+1).key]={backfilled:!1},Te[new f.OverscaledTileID(q.overscaledZ,q.wrap,te.z,te.x,te.y+1).key]={backfilled:!1},Te[new f.OverscaledTileID(q.overscaledZ,de,te.z,ie,te.y+1).key]={backfilled:!1}),Te},$.prototype.unloadTile=function(q){q.demTexture&&this.map.painter.saveTileTexture(q.demTexture),q.fbo&&(q.fbo.destroy(),delete q.fbo),q.dem&&delete q.dem,delete q.neighboringTiles,q.state="unloaded",q.actor&&q.actor.send("removeDEMTile",{uid:q.uid,source:this.id})},$}(X),Y=function(V){function $(q,te,xe,Pe){V.call(this),this.id=q,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._loaded=!1,this.actor=xe.getActor(),this.setEventedParent(Pe),this._data=te.data,this._options=f.extend({},te),this._collectResourceTiming=te.collectResourceTiming,this._resourceTiming=[],void 0!==te.maxzoom&&(this.maxzoom=te.maxzoom),te.type&&(this.type=te.type),te.attribution&&(this.attribution=te.attribution),this.promoteId=te.promoteId;var U=f.EXTENT/this.tileSize;this.workerOptions=f.extend({source:this.id,cluster:te.cluster||!1,geojsonVtOptions:{buffer:(void 0!==te.buffer?te.buffer:128)*U,tolerance:(void 0!==te.tolerance?te.tolerance:.375)*U,extent:f.EXTENT,maxZoom:this.maxzoom,lineMetrics:te.lineMetrics||!1,generateId:te.generateId||!1},superclusterOptions:{maxZoom:void 0!==te.clusterMaxZoom?Math.min(te.clusterMaxZoom,this.maxzoom-1):this.maxzoom-1,extent:f.EXTENT,radius:(te.clusterRadius||50)*U,log:!1,generateId:te.generateId||!1},clusterProperties:te.clusterProperties},te.workerOptions)}return V&&($.__proto__=V),($.prototype=Object.create(V&&V.prototype)).constructor=$,$.prototype.load=function(){var q=this;this.fire(new f.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(te){if(te)q.fire(new f.ErrorEvent(te));else{var xe={dataType:"source",sourceDataType:"metadata"};q._collectResourceTiming&&q._resourceTiming&&q._resourceTiming.length>0&&(xe.resourceTiming=q._resourceTiming,q._resourceTiming=[]),q.fire(new f.Event("data",xe))}})},$.prototype.onAdd=function(q){this.map=q,this.load()},$.prototype.setData=function(q){var te=this;return this._data=q,this.fire(new f.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(xe){if(xe)te.fire(new f.ErrorEvent(xe));else{var Pe={dataType:"source",sourceDataType:"content"};te._collectResourceTiming&&te._resourceTiming&&te._resourceTiming.length>0&&(Pe.resourceTiming=te._resourceTiming,te._resourceTiming=[]),te.fire(new f.Event("data",Pe))}}),this},$.prototype.getClusterExpansionZoom=function(q,te){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:q,source:this.id},te),this},$.prototype.getClusterChildren=function(q,te){return this.actor.send("geojson.getClusterChildren",{clusterId:q,source:this.id},te),this},$.prototype.getClusterLeaves=function(q,te,xe,Pe){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:q,limit:te,offset:xe},Pe),this},$.prototype._updateWorkerData=function(q){var te=this;this._loaded=!1;var xe=f.extend({},this.workerOptions),Pe=this._data;"string"==typeof Pe?(xe.request=this.map._requestManager.transformRequest(f.browser.resolveURL(Pe),f.ResourceType.Source),xe.request.collectResourceTiming=this._collectResourceTiming):xe.data=JSON.stringify(Pe),this.actor.send(this.type+".loadData",xe,function(U,ie){te._removed||ie&&ie.abandoned||(te._loaded=!0,ie&&ie.resourceTiming&&ie.resourceTiming[te.id]&&(te._resourceTiming=ie.resourceTiming[te.id].slice(0)),te.actor.send(te.type+".coalesce",{source:xe.source},null),q(U))})},$.prototype.loaded=function(){return this._loaded},$.prototype.loadTile=function(q,te){var xe=this,Pe=q.actor?"reloadTile":"loadTile";q.actor=this.actor,q.request=this.actor.send(Pe,{type:this.type,uid:q.uid,tileID:q.tileID,zoom:q.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:f.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId},function(ie,de){return delete q.request,q.unloadVectorData(),q.aborted?te(null):ie?te(ie):(q.loadVectorData(de,xe.map.painter,"reloadTile"===Pe),te(null))})},$.prototype.abortTile=function(q){q.request&&(q.request.cancel(),delete q.request),q.aborted=!0},$.prototype.unloadTile=function(q){q.unloadVectorData(),this.actor.send("removeTile",{uid:q.uid,type:this.type,source:this.id})},$.prototype.onRemove=function(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})},$.prototype.serialize=function(){return f.extend({},this._options,{type:this.type,data:this._data})},$.prototype.hasTransition=function(){return!1},$}(f.Evented),G=f.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]),H=function(V){function $(q,te,xe,Pe){V.call(this),this.id=q,this.dispatcher=xe,this.coordinates=te.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(Pe),this.options=te}return V&&($.__proto__=V),($.prototype=Object.create(V&&V.prototype)).constructor=$,$.prototype.load=function(q,te){var xe=this;this._loaded=!1,this.fire(new f.Event("dataloading",{dataType:"source"})),this.url=this.options.url,f.getImage(this.map._requestManager.transformRequest(this.url,f.ResourceType.Image),function(Pe,U){xe._loaded=!0,Pe?xe.fire(new f.ErrorEvent(Pe)):U&&(xe.image=U,q&&(xe.coordinates=q),te&&te(),xe._finishLoading())})},$.prototype.loaded=function(){return this._loaded},$.prototype.updateImage=function(q){var te=this;return this.image&&q.url?(this.options.url=q.url,this.load(q.coordinates,function(){te.texture=null}),this):this},$.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new f.Event("data",{dataType:"source",sourceDataType:"metadata"})))},$.prototype.onAdd=function(q){this.map=q,this.load()},$.prototype.setCoordinates=function(q){var te=this;this.coordinates=q;var xe=q.map(f.MercatorCoordinate.fromLngLat);this.tileID=function(U){for(var ie=1/0,de=1/0,Te=-1/0,Ee=-1/0,Fe=0,Ye=U;Fe<Ye.length;Fe+=1){var Xe=Ye[Fe];ie=Math.min(ie,Xe.x),de=Math.min(de,Xe.y),Te=Math.max(Te,Xe.x),Ee=Math.max(Ee,Xe.y)}var lt=Math.max(Te-ie,Ee-de),xt=Math.max(0,Math.floor(-Math.log(lt)/Math.LN2)),Mt=Math.pow(2,xt);return new f.CanonicalTileID(xt,Math.floor((ie+Te)/2*Mt),Math.floor((de+Ee)/2*Mt))}(xe),this.minzoom=this.maxzoom=this.tileID.z;var Pe=xe.map(function(U){return te.tileID.getTilePoint(U)._round()});return this._boundsArray=new f.StructArrayLayout4i8,this._boundsArray.emplaceBack(Pe[0].x,Pe[0].y,0,0),this._boundsArray.emplaceBack(Pe[1].x,Pe[1].y,f.EXTENT,0),this._boundsArray.emplaceBack(Pe[3].x,Pe[3].y,0,f.EXTENT),this._boundsArray.emplaceBack(Pe[2].x,Pe[2].y,f.EXTENT,f.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new f.Event("data",{dataType:"source",sourceDataType:"content"})),this},$.prototype.prepare=function(){if(0!==Object.keys(this.tiles).length&&this.image){var q=this.map.painter.context,te=q.gl;for(var xe in this.boundsBuffer||(this.boundsBuffer=q.createVertexBuffer(this._boundsArray,G.members)),this.boundsSegments||(this.boundsSegments=f.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new f.Texture(q,this.image,te.RGBA),this.texture.bind(te.LINEAR,te.CLAMP_TO_EDGE)),this.tiles){var Pe=this.tiles[xe];"loaded"!==Pe.state&&(Pe.state="loaded",Pe.texture=this.texture)}}},$.prototype.loadTile=function(q,te){this.tileID&&this.tileID.equals(q.tileID.canonical)?(this.tiles[String(q.tileID.wrap)]=q,q.buckets={},te(null)):(q.state="errored",te(null))},$.prototype.serialize=function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}},$.prototype.hasTransition=function(){return!1},$}(f.Evented),W=function(V){function $(q,te,xe,Pe){V.call(this,q,te,xe,Pe),this.roundZoom=!0,this.type="video",this.options=te}return V&&($.__proto__=V),($.prototype=Object.create(V&&V.prototype)).constructor=$,$.prototype.load=function(){var q=this;this._loaded=!1;var te=this.options;this.urls=[];for(var xe=0,Pe=te.urls;xe<Pe.length;xe+=1)this.urls.push(this.map._requestManager.transformRequest(Pe[xe],f.ResourceType.Source).url);f.getVideo(this.urls,function(ie,de){q._loaded=!0,ie?q.fire(new f.ErrorEvent(ie)):de&&(q.video=de,q.video.loop=!0,q.video.addEventListener("playing",function(){q.map.triggerRepaint()}),q.map&&q.video.play(),q._finishLoading())})},$.prototype.pause=function(){this.video&&this.video.pause()},$.prototype.play=function(){this.video&&this.video.play()},$.prototype.seek=function(q){if(this.video){var te=this.video.seekable;q<te.start(0)||q>te.end(0)?this.fire(new f.ErrorEvent(new f.ValidationError("sources."+this.id,null,"Playback for this video can be set only between the "+te.start(0)+" and "+te.end(0)+"-second mark."))):this.video.currentTime=q}},$.prototype.getVideo=function(){return this.video},$.prototype.onAdd=function(q){this.map||(this.map=q,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},$.prototype.prepare=function(){if(!(0===Object.keys(this.tiles).length||this.video.readyState<2)){var q=this.map.painter.context,te=q.gl;for(var xe in this.boundsBuffer||(this.boundsBuffer=q.createVertexBuffer(this._boundsArray,G.members)),this.boundsSegments||(this.boundsSegments=f.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(te.LINEAR,te.CLAMP_TO_EDGE),te.texSubImage2D(te.TEXTURE_2D,0,0,0,te.RGBA,te.UNSIGNED_BYTE,this.video)):(this.texture=new f.Texture(q,this.video,te.RGBA),this.texture.bind(te.LINEAR,te.CLAMP_TO_EDGE)),this.tiles){var Pe=this.tiles[xe];"loaded"!==Pe.state&&(Pe.state="loaded",Pe.texture=this.texture)}}},$.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},$.prototype.hasTransition=function(){return this.video&&!this.video.paused},$}(H),Z=function(V){function $(q,te,xe,Pe){V.call(this,q,te,xe,Pe),te.coordinates?Array.isArray(te.coordinates)&&4===te.coordinates.length&&!te.coordinates.some(function(U){return!Array.isArray(U)||2!==U.length||U.some(function(ie){return"number"!=typeof ie})})||this.fire(new f.ErrorEvent(new f.ValidationError("sources."+q,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new f.ErrorEvent(new f.ValidationError("sources."+q,null,'missing required property "coordinates"'))),te.animate&&"boolean"!=typeof te.animate&&this.fire(new f.ErrorEvent(new f.ValidationError("sources."+q,null,'optional "animate" property must be a boolean value'))),te.canvas?"string"==typeof te.canvas||te.canvas instanceof f.window.HTMLCanvasElement||this.fire(new f.ErrorEvent(new f.ValidationError("sources."+q,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new f.ErrorEvent(new f.ValidationError("sources."+q,null,'missing required property "canvas"'))),this.options=te,this.animate=void 0===te.animate||te.animate}return V&&($.__proto__=V),($.prototype=Object.create(V&&V.prototype)).constructor=$,$.prototype.load=function(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof f.window.HTMLCanvasElement?this.options.canvas:f.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new f.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())},$.prototype.getCanvas=function(){return this.canvas},$.prototype.onAdd=function(q){this.map=q,this.load(),this.canvas&&this.animate&&this.play()},$.prototype.onRemove=function(){this.pause()},$.prototype.prepare=function(){var q=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,q=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,q=!0),!this._hasInvalidDimensions()&&0!==Object.keys(this.tiles).length){var te=this.map.painter.context,xe=te.gl;for(var Pe in this.boundsBuffer||(this.boundsBuffer=te.createVertexBuffer(this._boundsArray,G.members)),this.boundsSegments||(this.boundsSegments=f.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(q||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new f.Texture(te,this.canvas,xe.RGBA,{premultiply:!0}),this.tiles){var U=this.tiles[Pe];"loaded"!==U.state&&(U.state="loaded",U.texture=this.texture)}}},$.prototype.serialize=function(){return{type:"canvas",coordinates:this.coordinates}},$.prototype.hasTransition=function(){return this._playing},$.prototype._hasInvalidDimensions=function(){for(var q=0,te=[this.canvas.width,this.canvas.height];q<te.length;q+=1){var xe=te[q];if(isNaN(xe)||xe<=0)return!0}return!1},$}(H),se={vector:j,raster:X,"raster-dem":F,geojson:Y,video:W,image:H,canvas:Z};function re(V,$){var q=f.identity([]);return f.translate(q,q,[1,1,0]),f.scale(q,q,[.5*V.width,.5*V.height,1]),f.multiply(q,q,V.calculatePosMatrix($.toUnwrapped()))}function ne(V,$,q,te,xe,Pe){var U=function(nt,lt,xt){if(nt)for(var Mt=0,jt=nt;Mt<jt.length;Mt+=1){var Vt=lt[jt[Mt]];if(Vt&&Vt.source===xt&&"fill-extrusion"===Vt.type)return!0}else for(var Bt in lt){var Xt=lt[Bt];if(Xt.source===xt&&"fill-extrusion"===Xt.type)return!0}return!1}(xe&&xe.layers,$,V.id),ie=Pe.maxPitchScaleFactor(),de=V.tilesIn(te,ie,U);de.sort(Q);for(var Te=[],Ee=0,Fe=de;Ee<Fe.length;Ee+=1){var Ye=Fe[Ee];Te.push({wrappedTileID:Ye.tileID.wrapped().key,queryResults:Ye.tile.queryRenderedFeatures($,q,V._state,Ye.queryGeometry,Ye.cameraQueryGeometry,Ye.scale,xe,Pe,ie,re(V.transform,Ye.tileID))})}var Xe=function(nt){for(var lt={},xt={},Mt=0,jt=nt;Mt<jt.length;Mt+=1){var Vt=jt[Mt],Bt=Vt.queryResults,Xt=Vt.wrappedTileID,Ut=xt[Xt]=xt[Xt]||{};for(var mn in Bt)for(var sn=Bt[mn],rn=Ut[mn]=Ut[mn]||{},In=lt[mn]=lt[mn]||[],Pn=0,tr=sn;Pn<tr.length;Pn+=1){var rr=tr[Pn];rn[rr.featureIndex]||(rn[rr.featureIndex]=!0,In.push(rr))}}return lt}(Te);for(var Qe in Xe)Xe[Qe].forEach(function(nt){var lt=nt.feature,xt=V.getFeatureState(lt.layer["source-layer"],lt.id);lt.source=lt.layer.source,lt.layer["source-layer"]&&(lt.sourceLayer=lt.layer["source-layer"]),lt.state=xt});return Xe}function Q(V,$){var q=V.tileID,te=$.tileID;return q.overscaledZ-te.overscaledZ||q.canonical.y-te.canonical.y||q.wrap-te.wrap||q.canonical.x-te.canonical.x}var ee=function(V,$){this.max=V,this.onRemove=$,this.reset()};ee.prototype.reset=function(){for(var V in this.data)for(var $=0,q=this.data[V];$<q.length;$+=1){var te=q[$];te.timeout&&clearTimeout(te.timeout),this.onRemove(te.value)}return this.data={},this.order=[],this},ee.prototype.add=function(V,$,q){var te=this,xe=V.wrapped().key;void 0===this.data[xe]&&(this.data[xe]=[]);var Pe={value:$,timeout:void 0};if(void 0!==q&&(Pe.timeout=setTimeout(function(){te.remove(V,Pe)},q)),this.data[xe].push(Pe),this.order.push(xe),this.order.length>this.max){var U=this._getAndRemoveByKey(this.order[0]);U&&this.onRemove(U)}return this},ee.prototype.has=function(V){return V.wrapped().key in this.data},ee.prototype.getAndRemove=function(V){return this.has(V)?this._getAndRemoveByKey(V.wrapped().key):null},ee.prototype._getAndRemoveByKey=function(V){var $=this.data[V].shift();return $.timeout&&clearTimeout($.timeout),0===this.data[V].length&&delete this.data[V],this.order.splice(this.order.indexOf(V),1),$.value},ee.prototype.getByKey=function(V){var $=this.data[V];return $?$[0].value:null},ee.prototype.get=function(V){return this.has(V)?this.data[V.wrapped().key][0].value:null},ee.prototype.remove=function(V,$){if(!this.has(V))return this;var q=V.wrapped().key,te=void 0===$?0:this.data[q].indexOf($),xe=this.data[q][te];return this.data[q].splice(te,1),xe.timeout&&clearTimeout(xe.timeout),0===this.data[q].length&&delete this.data[q],this.onRemove(xe.value),this.order.splice(this.order.indexOf(q),1),this},ee.prototype.setMaxSize=function(V){for(this.max=V;this.order.length>this.max;){var $=this._getAndRemoveByKey(this.order[0]);$&&this.onRemove($)}return this},ee.prototype.filter=function(V){var $=[];for(var q in this.data)for(var te=0,xe=this.data[q];te<xe.length;te+=1){var Pe=xe[te];V(Pe.value)||$.push(Pe)}for(var U=0,ie=$;U<ie.length;U+=1){var de=ie[U];this.remove(de.value.tileID,de)}};var oe=function(V,$,q){this.context=V;var te=V.gl;this.buffer=te.createBuffer(),this.dynamicDraw=!!q,this.context.unbindVAO(),V.bindElementBuffer.set(this.buffer),te.bufferData(te.ELEMENT_ARRAY_BUFFER,$.arrayBuffer,this.dynamicDraw?te.DYNAMIC_DRAW:te.STATIC_DRAW),this.dynamicDraw||delete $.arrayBuffer};oe.prototype.bind=function(){this.context.bindElementBuffer.set(this.buffer)},oe.prototype.updateData=function(V){var $=this.context.gl;this.context.unbindVAO(),this.bind(),$.bufferSubData($.ELEMENT_ARRAY_BUFFER,0,V.arrayBuffer)},oe.prototype.destroy=function(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)};var ce={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},fe=function(V,$,q,te){this.length=$.length,this.attributes=q,this.itemSize=$.bytesPerElement,this.dynamicDraw=te,this.context=V;var xe=V.gl;this.buffer=xe.createBuffer(),V.bindVertexBuffer.set(this.buffer),xe.bufferData(xe.ARRAY_BUFFER,$.arrayBuffer,this.dynamicDraw?xe.DYNAMIC_DRAW:xe.STATIC_DRAW),this.dynamicDraw||delete $.arrayBuffer};fe.prototype.bind=function(){this.context.bindVertexBuffer.set(this.buffer)},fe.prototype.updateData=function(V){var $=this.context.gl;this.bind(),$.bufferSubData($.ARRAY_BUFFER,0,V.arrayBuffer)},fe.prototype.enableAttributes=function(V,$){for(var q=0;q<this.attributes.length;q++){var xe=$.attributes[this.attributes[q].name];void 0!==xe&&V.enableVertexAttribArray(xe)}},fe.prototype.setVertexAttribPointers=function(V,$,q){for(var te=0;te<this.attributes.length;te++){var xe=this.attributes[te],Pe=$.attributes[xe.name];void 0!==Pe&&V.vertexAttribPointer(Pe,xe.components,V[ce[xe.type]],!1,this.itemSize,xe.offset+this.itemSize*(q||0))}},fe.prototype.destroy=function(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)};var le=function(V){this.gl=V.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1};le.prototype.get=function(){return this.current},le.prototype.set=function(V){},le.prototype.getDefault=function(){return this.default},le.prototype.setDefault=function(){this.set(this.default)};var pe=function(V){function $(){V.apply(this,arguments)}return V&&($.__proto__=V),($.prototype=Object.create(V&&V.prototype)).constructor=$,$.prototype.getDefault=function(){return f.Color.transparent},$.prototype.set=function(q){var te=this.current;(q.r!==te.r||q.g!==te.g||q.b!==te.b||q.a!==te.a||this.dirty)&&(this.gl.clearColor(q.r,q.g,q.b,q.a),this.current=q,this.dirty=!1)},$}(le),Me=function(V){function $(){V.apply(this,arguments)}return V&&($.__proto__=V),($.prototype=Object.create(V&&V.prototype)).constructor=$,$.prototype.getDefault=function(){return 1},$.prototype.set=function(q){(q!==this.current||this.dirty)&&(this.gl.clearDepth(q),this.current=q,this.dirty=!1)},$}(le),Ae=function(V){function $(){V.apply(this,arguments)}return V&&($.__proto__=V),($.prototype=Object.create(V&&V.prototype)).constructor=$,$.prototype.getDefault=function(){return 0},$.prototype.set=function(q){(q!==this.current||this.dirty)&&(this.gl.clearStencil(q),this.current=q,this.dirty=!1)},$}(le),be=function(V){function $(){V.apply(this,arguments)}return V&&($.__proto__=V),($.prototype=Object.create(V&&V.prototype)).constructor=$,$.prototype.getDefault=function(){return[!0,!0,!0,!0]},$.prototype.set=function(q){var te=this.current;(q[0]!==te[0]||q[1]!==te[1]||q[2]!==te[2]||q[3]!==te[3]||this.dirty)&&(this.gl.colorMask(q[0],q[1],q[2],q[3]),this.current=q,this.dirty=!1)},$}(le),ye=function(V){function $(){V.apply(this,arguments)}return V&&($.__proto__=V),($.prototype=Object.create(V&&V.prototype)).constructor=$,$.prototype.getDefault=function(){return!0},$.prototype.set=function(q){(q!==this.current||this.dirty)&&(this.gl.depthMask(q),this.current=q,this.dirty=!1)},$}(le),we=function(V){function $(){V.apply(this,arguments)}return V&&($.__proto__=V),($.prototype=Object.create(V&&V.prototype)).constructor=$,$.prototype.getDefault=function(){return 255},$.prototype.set=function(q){(q!==this.current||this.dirty)&&(this.gl.stencilMask(q),this.current=q,this.dirty=!1)},$}(le),ze=function(V){function $(){V.apply(this,arguments)}return V&&($.__proto__=V),($.prototype=Object.create(V&&V.prototype)).constructor=$,$.prototype.getDefault=function(){return{func:this.gl.ALWAYS,ref:0,mask:255}},$.prototype.set=function(q){var te=this.current;(q.func!==te.func||q.ref!==te.ref||q.mask!==te.mask||this.dirty)&&(this.gl.stencilFunc(q.func,q.ref,q.mask),this.current=q,this.dirty=!1)},$}(le),Se=function(V){function $(){V.apply(this,arguments)}return V&&($.__proto__=V),($.prototype=Object.create(V&&V.prototype)).constructor=$,$.prototype.getDefault=function(){var q=this.gl;return[q.KEEP,q.KEEP,q.KEEP]},$.prototype.set=function(q){var te=this.current;(q[0]!==te[0]||q[1]!==te[1]||q[2]!==te[2]||this.dirty)&&(this.gl.stencilOp(q[0],q[1],q[2]),this.current=q,this.dirty=!1)},$}(le),Ce=function(V){function $(){V.apply(this,arguments)}return V&&($.__proto__=V),($.prototype=Object.create(V&&V.prototype)).constructor=$,$.prototype.getDefault=function(){return!1},$.prototype.set=function(q){if(q!==this.current||this.dirty){var te=this.gl;q?te.enable(te.STENCIL_TEST):te.disable(te.STENCIL_TEST),this.current=q,this.dirty=!1}},$}(le),ge=function(V){function $(){V.apply(this,arguments)}return V&&($.__proto__=V),($.prototype=Object.create(V&&V.prototype)).constructor=$,$.prototype.getDefault=function(){return[0,1]},$.prototype.set=function(q){var te=this.current;(q[0]!==te[0]||q[1]!==te[1]||this.dirty)&&(this.gl.depthRange(q[0],q[1]),this.current=q,this.dirty=!1)},$}(le),he=function(V){function $(){V.apply(this,arguments)}return V&&($.__proto__=V),($.prototype=Object.create(V&&V.prototype)).constructor=$,$.prototype.getDefault=function(){return!1},$.prototype.set=function(q){if(q!==this.current||this.dirty){var te=this.gl;q?te.enable(te.DEPTH_TEST):te.disable(te.DEPTH_TEST),this.current=q,this.dirty=!1}},$}(le),_e=function(V){function $(){V.apply(this,arguments)}return V&&($.__proto__=V),($.prototype=Object.create(V&&V.prototype)).constructor=$,$.prototype.getDefault=function(){return this.gl.LESS},$.prototype.set=function(q){(q!==this.current||this.dirty)&&(this.gl.depthFunc(q),this.current=q,this.dirty=!1)},$}(le),Le=function(V){function $(){V.apply(this,arguments)}return V&&($.__proto__=V),($.prototype=Object.create(V&&V.prototype)).constructor=$,$.prototype.getDefault=function(){return!1},$.prototype.set=function(q){if(q!==this.current||this.dirty){var te=this.gl;q?te.enable(te.BLEND):te.disable(te.BLEND),this.current=q,this.dirty=!1}},$}(le),Ie=function(V){function $(){V.apply(this,arguments)}return V&&($.__proto__=V),($.prototype=Object.create(V&&V.prototype)).constructor=$,$.prototype.getDefault=function(){var q=this.gl;return[q.ONE,q.ZERO]},$.prototype.set=function(q){var te=this.current;(q[0]!==te[0]||q[1]!==te[1]||this.dirty)&&(this.gl.blendFunc(q[0],q[1]),this.current=q,this.dirty=!1)},$}(le),De=function(V){function $(){V.apply(this,arguments)}return V&&($.__proto__=V),($.prototype=Object.create(V&&V.prototype)).constructor=$,$.prototype.getDefault=function(){return f.Color.transparent},$.prototype.set=function(q){var te=this.current;(q.r!==te.r||q.g!==te.g||q.b!==te.b||q.a!==te.a||this.dirty)&&(this.gl.blendColor(q.r,q.g,q.b,q.a),this.current=q,this.dirty=!1)},$}(le),je=function(V){function $(){V.apply(this,arguments)}return V&&($.__proto__=V),($.prototype=Object.create(V&&V.prototype)).constructor=$,$.prototype.getDefault=function(){return this.gl.FUNC_ADD},$.prototype.set=function(q){(q!==this.current||this.dirty)&&(this.gl.blendEquation(q),this.current=q,this.dirty=!1)},$}(le),qe=function(V){function $(){V.apply(this,arguments)}return V&&($.__proto__=V),($.prototype=Object.create(V&&V.prototype)).constructor=$,$.prototype.getDefault=function(){return!1},$.prototype.set=function(q){if(q!==this.current||this.dirty){var te=this.gl;q?te.enable(te.CULL_FACE):te.disable(te.CULL_FACE),this.current=q,this.dirty=!1}},$}(le),ve=function(V){function $(){V.apply(this,arguments)}return V&&($.__proto__=V),($.prototype=Object.create(V&&V.prototype)).constructor=$,$.prototype.getDefault=function(){return this.gl.BACK},$.prototype.set=function(q){(q!==this.current||this.dirty)&&(this.gl.cullFace(q),this.current=q,this.dirty=!1)},$}(le),Oe=function(V){function $(){V.apply(this,arguments)}return V&&($.__proto__=V),($.prototype=Object.create(V&&V.prototype)).constructor=$,$.prototype.getDefault=function(){return this.gl.CCW},$.prototype.set=function(q){(q!==this.current||this.dirty)&&(this.gl.frontFace(q),this.current=q,this.dirty=!1)},$}(le),ke=function(V){function $(){V.apply(this,arguments)}return V&&($.__proto__=V),($.prototype=Object.create(V&&V.prototype)).constructor=$,$.prototype.getDefault=function(){return null},$.prototype.set=function(q){(q!==this.current||this.dirty)&&(this.gl.useProgram(q),this.current=q,this.dirty=!1)},$}(le),Be=function(V){function $(){V.apply(this,arguments)}return V&&($.__proto__=V),($.prototype=Object.create(V&&V.prototype)).constructor=$,$.prototype.getDefault=function(){return this.gl.TEXTURE0},$.prototype.set=function(q){(q!==this.current||this.dirty)&&(this.gl.activeTexture(q),this.current=q,this.dirty=!1)},$}(le),We=function(V){function $(){V.apply(this,arguments)}return V&&($.__proto__=V),($.prototype=Object.create(V&&V.prototype)).constructor=$,$.prototype.getDefault=function(){var q=this.gl;return[0,0,q.drawingBufferWidth,q.drawingBufferHeight]},$.prototype.set=function(q){var te=this.current;(q[0]!==te[0]||q[1]!==te[1]||q[2]!==te[2]||q[3]!==te[3]||this.dirty)&&(this.gl.viewport(q[0],q[1],q[2],q[3]),this.current=q,this.dirty=!1)},$}(le),Ge=function(V){function $(){V.apply(this,arguments)}return V&&($.__proto__=V),($.prototype=Object.create(V&&V.prototype)).constructor=$,$.prototype.getDefault=function(){return null},$.prototype.set=function(q){if(q!==this.current||this.dirty){var te=this.gl;te.bindFramebuffer(te.FRAMEBUFFER,q),this.current=q,this.dirty=!1}},$}(le),Ke=function(V){function $(){V.apply(this,arguments)}return V&&($.__proto__=V),($.prototype=Object.create(V&&V.prototype)).constructor=$,$.prototype.getDefault=function(){return null},$.prototype.set=function(q){if(q!==this.current||this.dirty){var te=this.gl;te.bindRenderbuffer(te.RENDERBUFFER,q),this.current=q,this.dirty=!1}},$}(le),et=function(V){function $(){V.apply(this,arguments)}return V&&($.__proto__=V),($.prototype=Object.create(V&&V.prototype)).constructor=$,$.prototype.getDefault=function(){return null},$.prototype.set=function(q){if(q!==this.current||this.dirty){var te=this.gl;te.bindTexture(te.TEXTURE_2D,q),this.current=q,this.dirty=!1}},$}(le),at=function(V){function $(){V.apply(this,arguments)}return V&&($.__proto__=V),($.prototype=Object.create(V&&V.prototype)).constructor=$,$.prototype.getDefault=function(){return null},$.prototype.set=function(q){if(q!==this.current||this.dirty){var te=this.gl;te.bindBuffer(te.ARRAY_BUFFER,q),this.current=q,this.dirty=!1}},$}(le),mt=function(V){function $(){V.apply(this,arguments)}return V&&($.__proto__=V),($.prototype=Object.create(V&&V.prototype)).constructor=$,$.prototype.getDefault=function(){return null},$.prototype.set=function(q){var te=this.gl;te.bindBuffer(te.ELEMENT_ARRAY_BUFFER,q),this.current=q,this.dirty=!1},$}(le),ct=function(V){function $(q){V.call(this,q),this.vao=q.extVertexArrayObject}return V&&($.__proto__=V),($.prototype=Object.create(V&&V.prototype)).constructor=$,$.prototype.getDefault=function(){return null},$.prototype.set=function(q){this.vao&&(q!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(q),this.current=q,this.dirty=!1)},$}(le),kt=function(V){function $(){V.apply(this,arguments)}return V&&($.__proto__=V),($.prototype=Object.create(V&&V.prototype)).constructor=$,$.prototype.getDefault=function(){return 4},$.prototype.set=function(q){if(q!==this.current||this.dirty){var te=this.gl;te.pixelStorei(te.UNPACK_ALIGNMENT,q),this.current=q,this.dirty=!1}},$}(le),Dt=function(V){function $(){V.apply(this,arguments)}return V&&($.__proto__=V),($.prototype=Object.create(V&&V.prototype)).constructor=$,$.prototype.getDefault=function(){return!1},$.prototype.set=function(q){if(q!==this.current||this.dirty){var te=this.gl;te.pixelStorei(te.UNPACK_PREMULTIPLY_ALPHA_WEBGL,q),this.current=q,this.dirty=!1}},$}(le),Et=function(V){function $(){V.apply(this,arguments)}return V&&($.__proto__=V),($.prototype=Object.create(V&&V.prototype)).constructor=$,$.prototype.getDefault=function(){return!1},$.prototype.set=function(q){if(q!==this.current||this.dirty){var te=this.gl;te.pixelStorei(te.UNPACK_FLIP_Y_WEBGL,q),this.current=q,this.dirty=!1}},$}(le),ht=function(V){function $(q,te){V.call(this,q),this.context=q,this.parent=te}return V&&($.__proto__=V),($.prototype=Object.create(V&&V.prototype)).constructor=$,$.prototype.getDefault=function(){return null},$}(le),pt=function(V){function $(){V.apply(this,arguments)}return V&&($.__proto__=V),($.prototype=Object.create(V&&V.prototype)).constructor=$,$.prototype.setDirty=function(){this.dirty=!0},$.prototype.set=function(q){if(q!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var te=this.gl;te.framebufferTexture2D(te.FRAMEBUFFER,te.COLOR_ATTACHMENT0,te.TEXTURE_2D,q,0),this.current=q,this.dirty=!1}},$}(ht),Pt=function(V){function $(){V.apply(this,arguments)}return V&&($.__proto__=V),($.prototype=Object.create(V&&V.prototype)).constructor=$,$.prototype.set=function(q){if(q!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var te=this.gl;te.framebufferRenderbuffer(te.FRAMEBUFFER,te.DEPTH_ATTACHMENT,te.RENDERBUFFER,q),this.current=q,this.dirty=!1}},$}(ht),zt=function(V,$,q,te){this.context=V,this.width=$,this.height=q;var Pe=this.framebuffer=V.gl.createFramebuffer();this.colorAttachment=new pt(V,Pe),te&&(this.depthAttachment=new Pt(V,Pe))};zt.prototype.destroy=function(){var V=this.context.gl,$=this.colorAttachment.get();if($&&V.deleteTexture($),this.depthAttachment){var q=this.depthAttachment.get();q&&V.deleteRenderbuffer(q)}V.deleteFramebuffer(this.framebuffer)};var Ht=function(V,$,q){this.func=V,this.mask=$,this.range=q};Ht.ReadOnly=!1,Ht.ReadWrite=!0,Ht.disabled=new Ht(519,Ht.ReadOnly,[0,1]);var tt=function(V,$,q,te,xe,Pe){this.test=V,this.ref=$,this.mask=q,this.fail=te,this.depthFail=xe,this.pass=Pe};tt.disabled=new tt({func:519,mask:0},0,0,7680,7680,7680);var it=function(V,$,q){this.blendFunction=V,this.blendColor=$,this.mask=q};it.disabled=new it(it.Replace=[1,0],f.Color.transparent,[!1,!1,!1,!1]),it.unblended=new it(it.Replace,f.Color.transparent,[!0,!0,!0,!0]),it.alphaBlended=new it([1,771],f.Color.transparent,[!0,!0,!0,!0]);var Je=function(V,$,q){this.enable=V,this.mode=$,this.frontFace=q};Je.disabled=new Je(!1,1029,2305),Je.backCCW=new Je(!0,1029,2305);var ot=function(V){this.gl=V,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new pe(this),this.clearDepth=new Me(this),this.clearStencil=new Ae(this),this.colorMask=new be(this),this.depthMask=new ye(this),this.stencilMask=new we(this),this.stencilFunc=new ze(this),this.stencilOp=new Se(this),this.stencilTest=new Ce(this),this.depthRange=new ge(this),this.depthTest=new he(this),this.depthFunc=new _e(this),this.blend=new Le(this),this.blendFunc=new Ie(this),this.blendColor=new De(this),this.blendEquation=new je(this),this.cullFace=new qe(this),this.cullFaceSide=new ve(this),this.frontFace=new Oe(this),this.program=new ke(this),this.activeTexture=new Be(this),this.viewport=new We(this),this.bindFramebuffer=new Ge(this),this.bindRenderbuffer=new Ke(this),this.bindTexture=new et(this),this.bindVertexBuffer=new at(this),this.bindElementBuffer=new mt(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new ct(this),this.pixelStoreUnpack=new kt(this),this.pixelStoreUnpackPremultiplyAlpha=new Dt(this),this.pixelStoreUnpackFlipY=new Et(this),this.extTextureFilterAnisotropic=V.getExtension("EXT_texture_filter_anisotropic")||V.getExtension("MOZ_EXT_texture_filter_anisotropic")||V.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=V.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=V.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(V.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=V.getExtension("EXT_color_buffer_half_float")),this.extTimerQuery=V.getExtension("EXT_disjoint_timer_query")};ot.prototype.setDefault=function(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()},ot.prototype.setDirty=function(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0},ot.prototype.createIndexBuffer=function(V,$){return new oe(this,V,$)},ot.prototype.createVertexBuffer=function(V,$,q){return new fe(this,V,$,q)},ot.prototype.createRenderbuffer=function(V,$,q){var te=this.gl,xe=te.createRenderbuffer();return this.bindRenderbuffer.set(xe),te.renderbufferStorage(te.RENDERBUFFER,V,$,q),this.bindRenderbuffer.set(null),xe},ot.prototype.createFramebuffer=function(V,$,q){return new zt(this,V,$,q)},ot.prototype.clear=function(V){var $=V.color,q=V.depth,te=this.gl,xe=0;$&&(xe|=te.COLOR_BUFFER_BIT,this.clearColor.set($),this.colorMask.set([!0,!0,!0,!0])),void 0!==q&&(xe|=te.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(q),this.depthMask.set(!0)),te.clear(xe)},ot.prototype.setCullFace=function(V){!1===V.enable?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(V.mode),this.frontFace.set(V.frontFace))},ot.prototype.setDepthMode=function(V){V.func!==this.gl.ALWAYS||V.mask?(this.depthTest.set(!0),this.depthFunc.set(V.func),this.depthMask.set(V.mask),this.depthRange.set(V.range)):this.depthTest.set(!1)},ot.prototype.setStencilMode=function(V){V.test.func!==this.gl.ALWAYS||V.mask?(this.stencilTest.set(!0),this.stencilMask.set(V.mask),this.stencilOp.set([V.fail,V.depthFail,V.pass]),this.stencilFunc.set({func:V.test.func,ref:V.ref,mask:V.test.mask})):this.stencilTest.set(!1)},ot.prototype.setColorMode=function(V){f.deepEqual(V.blendFunction,it.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(V.blendFunction),this.blendColor.set(V.blendColor)),this.colorMask.set(V.mask)},ot.prototype.unbindVAO=function(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)};var gt=function(V){function $(q,te,xe){var Pe=this;V.call(this),this.id=q,this.dispatcher=xe,this.on("data",function(U){"source"===U.dataType&&"metadata"===U.sourceDataType&&(Pe._sourceLoaded=!0),Pe._sourceLoaded&&!Pe._paused&&"source"===U.dataType&&"content"===U.sourceDataType&&(Pe.reload(),Pe.transform&&Pe.update(Pe.transform))}),this.on("error",function(){Pe._sourceErrored=!0}),this._source=function(U,ie,de,Te){var Ee=new se[ie.type](U,ie,de,Te);if(Ee.id!==U)throw new Error("Expected Source id to be "+U+" instead of "+Ee.id);return f.bindAll(["load","abort","unload","serialize","prepare"],Ee),Ee}(q,te,xe,this),this._tiles={},this._cache=new ee(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new f.SourceFeatureState}return V&&($.__proto__=V),($.prototype=Object.create(V&&V.prototype)).constructor=$,$.prototype.onAdd=function(q){this.map=q,this._maxTileCacheSize=q?q._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(q)},$.prototype.onRemove=function(q){this._source&&this._source.onRemove&&this._source.onRemove(q)},$.prototype.loaded=function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(var q in this._tiles){var te=this._tiles[q];if("loaded"!==te.state&&"errored"!==te.state)return!1}return!0},$.prototype.getSource=function(){return this._source},$.prototype.pause=function(){this._paused=!0},$.prototype.resume=function(){if(this._paused){var q=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,q&&this.reload(),this.transform&&this.update(this.transform)}},$.prototype._loadTile=function(q,te){return this._source.loadTile(q,te)},$.prototype._unloadTile=function(q){if(this._source.unloadTile)return this._source.unloadTile(q,function(){})},$.prototype._abortTile=function(q){if(this._source.abortTile)return this._source.abortTile(q,function(){})},$.prototype.serialize=function(){return this._source.serialize()},$.prototype.prepare=function(q){for(var te in this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null),this._tiles){var xe=this._tiles[te];xe.upload(q),xe.prepare(this.map.style.imageManager)}},$.prototype.getIds=function(){return f.values(this._tiles).map(function(q){return q.tileID}).sort(ft).map(function(q){return q.key})},$.prototype.getRenderableIds=function(q){var te=this,xe=[];for(var Pe in this._tiles)this._isIdRenderable(Pe,q)&&xe.push(this._tiles[Pe]);return q?xe.sort(function(U,ie){var de=U.tileID,Te=ie.tileID,Ee=new f.Point(de.canonical.x,de.canonical.y)._rotate(te.transform.angle),Fe=new f.Point(Te.canonical.x,Te.canonical.y)._rotate(te.transform.angle);return de.overscaledZ-Te.overscaledZ||Fe.y-Ee.y||Fe.x-Ee.x}).map(function(U){return U.tileID.key}):xe.map(function(U){return U.tileID}).sort(ft).map(function(U){return U.key})},$.prototype.hasRenderableParent=function(q){var te=this.findLoadedParent(q,0);return!!te&&this._isIdRenderable(te.tileID.key)},$.prototype._isIdRenderable=function(q,te){return this._tiles[q]&&this._tiles[q].hasData()&&!this._coveredTiles[q]&&(te||!this._tiles[q].holdingForFade())},$.prototype.reload=function(){if(this._paused)this._shouldReloadOnResume=!0;else for(var q in this._cache.reset(),this._tiles)"errored"!==this._tiles[q].state&&this._reloadTile(q,"reloading")},$.prototype._reloadTile=function(q,te){var xe=this._tiles[q];xe&&("loading"!==xe.state&&(xe.state=te),this._loadTile(xe,this._tileLoaded.bind(this,xe,q,te)))},$.prototype._tileLoaded=function(q,te,xe,Pe){if(Pe)return q.state="errored",void(404!==Pe.status?this._source.fire(new f.ErrorEvent(Pe,{tile:q})):this.update(this.transform));q.timeAdded=f.browser.now(),"expired"===xe&&(q.refreshedUponExpiration=!0),this._setTileReloadTimer(te,q),"raster-dem"===this.getSource().type&&q.dem&&this._backfillDEM(q),this._state.initializeTileState(q,this.map?this.map.painter:null),this._source.fire(new f.Event("data",{dataType:"source",tile:q,coord:q.tileID}))},$.prototype._backfillDEM=function(q){for(var te=this.getRenderableIds(),xe=0;xe<te.length;xe++){var Pe=te[xe];if(q.neighboringTiles&&q.neighboringTiles[Pe]){var U=this.getTileByID(Pe);ie(q,U),ie(U,q)}}function ie(de,Te){de.needsHillshadePrepare=!0;var Ee=Te.tileID.canonical.x-de.tileID.canonical.x,Fe=Te.tileID.canonical.y-de.tileID.canonical.y,Ye=Math.pow(2,de.tileID.canonical.z),Xe=Te.tileID.key;0===Ee&&0===Fe||Math.abs(Fe)>1||(Math.abs(Ee)>1&&(1===Math.abs(Ee+Ye)?Ee+=Ye:1===Math.abs(Ee-Ye)&&(Ee-=Ye)),Te.dem&&de.dem&&(de.dem.backfillBorder(Te.dem,Ee,Fe),de.neighboringTiles&&de.neighboringTiles[Xe]&&(de.neighboringTiles[Xe].backfilled=!0)))}},$.prototype.getTile=function(q){return this.getTileByID(q.key)},$.prototype.getTileByID=function(q){return this._tiles[q]},$.prototype._retainLoadedChildren=function(q,te,xe,Pe){for(var U in this._tiles){var ie=this._tiles[U];if(!(Pe[U]||!ie.hasData()||ie.tileID.overscaledZ<=te||ie.tileID.overscaledZ>xe)){for(var de=ie.tileID;ie&&ie.tileID.overscaledZ>te+1;){var Te=ie.tileID.scaledTo(ie.tileID.overscaledZ-1);(ie=this._tiles[Te.key])&&ie.hasData()&&(de=Te)}for(var Ee=de;Ee.overscaledZ>te;)if(q[(Ee=Ee.scaledTo(Ee.overscaledZ-1)).key]){Pe[de.key]=de;break}}}},$.prototype.findLoadedParent=function(q,te){if(q.key in this._loadedParentTiles){var xe=this._loadedParentTiles[q.key];return xe&&xe.tileID.overscaledZ>=te?xe:null}for(var Pe=q.overscaledZ-1;Pe>=te;Pe--){var U=q.scaledTo(Pe),ie=this._getLoadedTile(U);if(ie)return ie}},$.prototype._getLoadedTile=function(q){var te=this._tiles[q.key];return te&&te.hasData()?te:this._cache.getByKey(q.wrapped().key)},$.prototype.updateCacheSize=function(q){var te=(Math.ceil(q.width/this._source.tileSize)+1)*(Math.ceil(q.height/this._source.tileSize)+1),xe=Math.floor(5*te),Pe="number"==typeof this._maxTileCacheSize?Math.min(this._maxTileCacheSize,xe):xe;this._cache.setMaxSize(Pe)},$.prototype.handleWrapJump=function(q){var xe=Math.round((q-(void 0===this._prevLng?q:this._prevLng))/360);if(this._prevLng=q,xe){var Pe={};for(var U in this._tiles){var ie=this._tiles[U];ie.tileID=ie.tileID.unwrapTo(ie.tileID.wrap+xe),Pe[ie.tileID.key]=ie}for(var de in this._tiles=Pe,this._timers)clearTimeout(this._timers[de]),delete this._timers[de];for(var Te in this._tiles)this._setTileReloadTimer(Te,this._tiles[Te])}},$.prototype.update=function(q){var te=this;if(this.transform=q,this._sourceLoaded&&!this._paused){var xe;this.updateCacheSize(q),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used?this._source.tileID?xe=q.getVisibleUnwrappedCoordinates(this._source.tileID).map(function(Ut){return new f.OverscaledTileID(Ut.canonical.z,Ut.wrap,Ut.canonical.z,Ut.canonical.x,Ut.canonical.y)}):(xe=q.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(xe=xe.filter(function(Ut){return te._source.hasTile(Ut)}))):xe=[];var Pe=q.coveringZoomLevel(this._source),U=Math.max(Pe-$.maxOverzooming,this._source.minzoom),ie=Math.max(Pe+$.maxUnderzooming,this._source.minzoom),de=this._updateRetainedTiles(xe,Pe);if(Ue(this._source.type)){for(var Te={},Ee={},Fe=0,Ye=Object.keys(de);Fe<Ye.length;Fe+=1){var Xe=Ye[Fe],Qe=de[Xe],nt=this._tiles[Xe];if(nt&&!(nt.fadeEndTime&&nt.fadeEndTime<=f.browser.now())){var lt=this.findLoadedParent(Qe,U);lt&&(this._addTile(lt.tileID),Te[lt.tileID.key]=lt.tileID),Ee[Xe]=Qe}}for(var xt in this._retainLoadedChildren(Ee,Pe,ie,de),Te)de[xt]||(this._coveredTiles[xt]=!0,de[xt]=Te[xt])}for(var Mt in de)this._tiles[Mt].clearFadeHold();for(var jt=0,Vt=f.keysDifference(this._tiles,de);jt<Vt.length;jt+=1){var Bt=Vt[jt],Xt=this._tiles[Bt];Xt.hasSymbolBuckets&&!Xt.holdingForFade()?Xt.setHoldDuration(this.map._fadeDuration):Xt.hasSymbolBuckets&&!Xt.symbolFadeFinished()||this._removeTile(Bt)}this._updateLoadedParentTileCache()}},$.prototype.releaseSymbolFadeTiles=function(){for(var q in this._tiles)this._tiles[q].holdingForFade()&&this._removeTile(q)},$.prototype._updateRetainedTiles=function(q,te){for(var xe={},Pe={},U=Math.max(te-$.maxOverzooming,this._source.minzoom),ie=Math.max(te+$.maxUnderzooming,this._source.minzoom),de={},Te=0,Ee=q;Te<Ee.length;Te+=1){var Fe=Ee[Te],Ye=this._addTile(Fe);xe[Fe.key]=Fe,Ye.hasData()||te<this._source.maxzoom&&(de[Fe.key]=Fe)}this._retainLoadedChildren(de,te,ie,xe);for(var Xe=0,Qe=q;Xe<Qe.length;Xe+=1){var nt=Qe[Xe],lt=this._tiles[nt.key];if(!lt.hasData()){if(te+1>this._source.maxzoom){var xt=nt.children(this._source.maxzoom)[0],Mt=this.getTile(xt);if(Mt&&Mt.hasData()){xe[xt.key]=xt;continue}}else{var jt=nt.children(this._source.maxzoom);if(xe[jt[0].key]&&xe[jt[1].key]&&xe[jt[2].key]&&xe[jt[3].key])continue}for(var Vt=lt.wasRequested(),Bt=nt.overscaledZ-1;Bt>=U;--Bt){var Xt=nt.scaledTo(Bt);if(Pe[Xt.key]||(Pe[Xt.key]=!0,!(lt=this.getTile(Xt))&&Vt&&(lt=this._addTile(Xt)),lt&&(xe[Xt.key]=Xt,Vt=lt.wasRequested(),lt.hasData())))break}}}return xe},$.prototype._updateLoadedParentTileCache=function(){for(var q in this._loadedParentTiles={},this._tiles){for(var te=[],xe=void 0,Pe=this._tiles[q].tileID;Pe.overscaledZ>0;){if(Pe.key in this._loadedParentTiles){xe=this._loadedParentTiles[Pe.key];break}te.push(Pe.key);var U=Pe.scaledTo(Pe.overscaledZ-1);if(xe=this._getLoadedTile(U))break;Pe=U}for(var ie=0,de=te;ie<de.length;ie+=1)this._loadedParentTiles[de[ie]]=xe}},$.prototype._addTile=function(q){var te=this._tiles[q.key];if(te)return te;(te=this._cache.getAndRemove(q))&&(this._setTileReloadTimer(q.key,te),te.tileID=q,this._state.initializeTileState(te,this.map?this.map.painter:null),this._cacheTimers[q.key]&&(clearTimeout(this._cacheTimers[q.key]),delete this._cacheTimers[q.key],this._setTileReloadTimer(q.key,te)));var xe=!!te;return xe||(te=new f.Tile(q,this._source.tileSize*q.overscaleFactor()),this._loadTile(te,this._tileLoaded.bind(this,te,q.key,te.state))),te?(te.uses++,this._tiles[q.key]=te,xe||this._source.fire(new f.Event("dataloading",{tile:te,coord:te.tileID,dataType:"source"})),te):null},$.prototype._setTileReloadTimer=function(q,te){var xe=this;q in this._timers&&(clearTimeout(this._timers[q]),delete this._timers[q]);var Pe=te.getExpiryTimeout();Pe&&(this._timers[q]=setTimeout(function(){xe._reloadTile(q,"expired"),delete xe._timers[q]},Pe))},$.prototype._removeTile=function(q){var te=this._tiles[q];te&&(te.uses--,delete this._tiles[q],this._timers[q]&&(clearTimeout(this._timers[q]),delete this._timers[q]),te.uses>0||(te.hasData()&&"reloading"!==te.state?this._cache.add(te.tileID,te,te.getExpiryTimeout()):(te.aborted=!0,this._abortTile(te),this._unloadTile(te))))},$.prototype.clearTiles=function(){for(var q in this._shouldReloadOnResume=!1,this._paused=!1,this._tiles)this._removeTile(q);this._cache.reset()},$.prototype.tilesIn=function(q,te,xe){var Pe=this,U=[],ie=this.transform;if(!ie)return U;for(var de=xe?ie.getCameraQueryGeometry(q):q,Te=q.map(function(Bt){return ie.pointCoordinate(Bt)}),Ee=de.map(function(Bt){return ie.pointCoordinate(Bt)}),Fe=this.getIds(),Ye=1/0,Xe=1/0,Qe=-1/0,nt=-1/0,lt=0,xt=Ee;lt<xt.length;lt+=1){var Mt=xt[lt];Ye=Math.min(Ye,Mt.x),Xe=Math.min(Xe,Mt.y),Qe=Math.max(Qe,Mt.x),nt=Math.max(nt,Mt.y)}for(var jt=function(Bt){var Xt=Pe._tiles[Fe[Bt]];if(!Xt.holdingForFade()){var Ut=Xt.tileID,mn=Math.pow(2,ie.zoom-Xt.tileID.overscaledZ),sn=te*Xt.queryPadding*f.EXTENT/Xt.tileSize/mn,rn=[Ut.getTilePoint(new f.MercatorCoordinate(Ye,Xe)),Ut.getTilePoint(new f.MercatorCoordinate(Qe,nt))];if(rn[0].x-sn<f.EXTENT&&rn[0].y-sn<f.EXTENT&&rn[1].x+sn>=0&&rn[1].y+sn>=0){var In=Te.map(function(tr){return Ut.getTilePoint(tr)}),Pn=Ee.map(function(tr){return Ut.getTilePoint(tr)});U.push({tile:Xt,tileID:Ut,queryGeometry:In,cameraQueryGeometry:Pn,scale:mn})}}},Vt=0;Vt<Fe.length;Vt++)jt(Vt);return U},$.prototype.getVisibleCoordinates=function(q){for(var te=this,xe=this.getRenderableIds(q).map(function(de){return te._tiles[de].tileID}),Pe=0,U=xe;Pe<U.length;Pe+=1){var ie=U[Pe];ie.posMatrix=this.transform.calculatePosMatrix(ie.toUnwrapped())}return xe},$.prototype.hasTransition=function(){if(this._source.hasTransition())return!0;if(Ue(this._source.type))for(var q in this._tiles){var te=this._tiles[q];if(void 0!==te.fadeEndTime&&te.fadeEndTime>=f.browser.now())return!0}return!1},$.prototype.setFeatureState=function(q,te,xe){this._state.updateState(q=q||"_geojsonTileLayer",te,xe)},$.prototype.removeFeatureState=function(q,te,xe){this._state.removeFeatureState(q=q||"_geojsonTileLayer",te,xe)},$.prototype.getFeatureState=function(q,te){return this._state.getState(q=q||"_geojsonTileLayer",te)},$.prototype.setDependencies=function(q,te,xe){var Pe=this._tiles[q];Pe&&Pe.setDependencies(te,xe)},$.prototype.reloadTilesForDependencies=function(q,te){for(var xe in this._tiles)this._tiles[xe].hasDependency(q,te)&&this._reloadTile(xe,"reloading");this._cache.filter(function(Pe){return!Pe.hasDependency(q,te)})},$}(f.Evented);function ft(V,$){var q=Math.abs(2*V.wrap)-+(V.wrap<0),te=Math.abs(2*$.wrap)-+($.wrap<0);return V.overscaledZ-$.overscaledZ||te-q||$.canonical.y-V.canonical.y||$.canonical.x-V.canonical.x}function Ue(V){return"raster"===V||"image"===V||"video"===V}function $e(){return new f.window.Worker(jl.workerUrl)}gt.maxOverzooming=10,gt.maxUnderzooming=3;var dt="mapboxgl_preloaded_worker_pool",ut=function(){this.active={}};ut.prototype.acquire=function(V){if(!this.workers)for(this.workers=[];this.workers.length<ut.workerCount;)this.workers.push(new $e);return this.active[V]=!0,this.workers.slice()},ut.prototype.release=function(V){delete this.active[V],0===this.numActive()&&(this.workers.forEach(function($){$.terminate()}),this.workers=null)},ut.prototype.isPreloaded=function(){return!!this.active[dt]},ut.prototype.numActive=function(){return Object.keys(this.active).length};var At,wt=Math.floor(f.browser.hardwareConcurrency/2);function St(){return At||(At=new ut),At}function _t(V,$){var q={};for(var te in V)"ref"!==te&&(q[te]=V[te]);return f.refProperties.forEach(function(xe){xe in $&&(q[xe]=$[xe])}),q}function Rt(V){V=V.slice();for(var $=Object.create(null),q=0;q<V.length;q++)$[V[q].id]=V[q];for(var te=0;te<V.length;te++)"ref"in V[te]&&(V[te]=_t(V[te],$[V[te].ref]));return V}ut.workerCount=Math.max(Math.min(wt,6),1);var bt={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function Tt(V,$,q){q.push({command:bt.addSource,args:[V,$[V]]})}function It(V,$,q){$.push({command:bt.removeSource,args:[V]}),q[V]=!0}function Wt(V,$,q,te){It(V,q,te),Tt(V,$,q)}function $t(V,$,q){var te;for(te in V[q])if(V[q].hasOwnProperty(te)&&"data"!==te&&!f.deepEqual(V[q][te],$[q][te]))return!1;for(te in $[q])if($[q].hasOwnProperty(te)&&"data"!==te&&!f.deepEqual(V[q][te],$[q][te]))return!1;return!0}function Qt(V,$,q,te,xe,Pe){var U;for(U in $=$||{},V=V||{})V.hasOwnProperty(U)&&(f.deepEqual(V[U],$[U])||q.push({command:Pe,args:[te,U,$[U],xe]}));for(U in $)$.hasOwnProperty(U)&&!V.hasOwnProperty(U)&&(f.deepEqual(V[U],$[U])||q.push({command:Pe,args:[te,U,$[U],xe]}))}function pn(V){return V.id}function en(V,$){return V[$.id]=$,V}var fn=function(V,$){this.reset(V,$)};fn.prototype.reset=function(V,$){this.points=V||[],this._distances=[0];for(var q=1;q<this.points.length;q++)this._distances[q]=this._distances[q-1]+this.points[q].dist(this.points[q-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min($||0,.5*this.length),this.paddedLength=this.length-2*this.padding},fn.prototype.lerp=function(V){if(1===this.points.length)return this.points[0];V=f.clamp(V,0,1);for(var $=1,q=this._distances[$],te=V*this.paddedLength+this.padding;q<te&&$<this._distances.length;)q=this._distances[++$];var xe=$-1,Pe=this._distances[xe],U=q-Pe,ie=U>0?(te-Pe)/U:0;return this.points[xe].mult(1-ie).add(this.points[$].mult(ie))};var On=function(V,$,q){var te=this.boxCells=[],xe=this.circleCells=[];this.xCellCount=Math.ceil(V/q),this.yCellCount=Math.ceil($/q);for(var Pe=0;Pe<this.xCellCount*this.yCellCount;Pe++)te.push([]),xe.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=V,this.height=$,this.xScale=this.xCellCount/V,this.yScale=this.yCellCount/$,this.boxUid=0,this.circleUid=0};function Un(V,$,q,te,xe){var Pe=f.create();return $?(f.scale(Pe,Pe,[1/xe,1/xe,1]),q||f.rotateZ(Pe,Pe,te.angle)):f.multiply(Pe,te.labelPlaneMatrix,V),Pe}function Sn(V,$,q,te,xe){if($){var Pe=f.clone(V);return f.scale(Pe,Pe,[xe,xe,1]),q||f.rotateZ(Pe,Pe,-te.angle),Pe}return te.glCoordMatrix}function on(V,$){var q=[V.x,V.y,0,1];lr(q,q,$);var te=q[3];return{point:new f.Point(q[0]/te,q[1]/te),signedDistanceFromCamera:te}}function vn(V,$){return.5+V/$*.5}function un(V,$){var q=V[0]/V[3],te=V[1]/V[3];return q>=-$[0]&&q<=$[0]&&te>=-$[1]&&te<=$[1]}function Tn(V,$,q,te,xe,Pe,U,ie){var de=te?V.textSizeData:V.iconSizeData,Te=f.evaluateSizeForZoom(de,q.transform.zoom),Ee=[256/q.width*2+1,256/q.height*2+1],Fe=te?V.text.dynamicLayoutVertexArray:V.icon.dynamicLayoutVertexArray;Fe.clear();for(var Ye=V.lineVertexArray,Xe=te?V.text.placedSymbolArray:V.icon.placedSymbolArray,Qe=q.transform.width/q.transform.height,nt=!1,lt=0;lt<Xe.length;lt++){var xt=Xe.get(lt);if(xt.hidden||xt.writingMode===f.WritingMode.vertical&&!nt)gr(xt.numGlyphs,Fe);else{nt=!1;var Mt=[xt.anchorX,xt.anchorY,0,1];if(f.transformMat4(Mt,Mt,$),un(Mt,Ee)){var Vt=vn(q.transform.cameraToCenterDistance,Mt[3]),Bt=f.evaluateSizeForFeature(de,Te,xt),Xt=U?Bt/Vt:Bt*Vt,Ut=new f.Point(xt.anchorX,xt.anchorY),mn=on(Ut,xe).point,sn={},rn=Rn(xt,Xt,!1,ie,$,xe,Pe,V.glyphOffsetArray,Ye,Fe,mn,Ut,sn,Qe);nt=rn.useVertical,(rn.notEnoughRoom||nt||rn.needsFlipping&&Rn(xt,Xt,!0,ie,$,xe,Pe,V.glyphOffsetArray,Ye,Fe,mn,Ut,sn,Qe).notEnoughRoom)&&gr(xt.numGlyphs,Fe)}else gr(xt.numGlyphs,Fe)}}te?V.text.dynamicLayoutVertexBuffer.updateData(Fe):V.icon.dynamicLayoutVertexBuffer.updateData(Fe)}function kn(V,$,q,te,xe,Pe,U,ie,de,Te,Ee){var Fe=ie.glyphStartIndex+ie.numGlyphs,Ye=ie.lineStartIndex,Xe=ie.lineStartIndex+ie.lineLength,Qe=$.getoffsetX(ie.glyphStartIndex),nt=$.getoffsetX(Fe-1),lt=En(V*Qe,q,te,xe,Pe,U,ie.segment,Ye,Xe,de,Te,Ee);if(!lt)return null;var xt=En(V*nt,q,te,xe,Pe,U,ie.segment,Ye,Xe,de,Te,Ee);return xt?{first:lt,last:xt}:null}function xn(V,$,q,te){return V===f.WritingMode.horizontal&&Math.abs(q.y-$.y)>Math.abs(q.x-$.x)*te?{useVertical:!0}:(V===f.WritingMode.vertical?$.y<q.y:$.x>q.x)?{needsFlipping:!0}:null}function Rn(V,$,q,te,xe,Pe,U,ie,de,Te,Ee,Fe,Ye,Xe){var Qe,nt=$/24,lt=V.lineOffsetX*nt,xt=V.lineOffsetY*nt;if(V.numGlyphs>1){var Mt=V.glyphStartIndex+V.numGlyphs,jt=V.lineStartIndex,Vt=V.lineStartIndex+V.lineLength,Bt=kn(nt,ie,lt,xt,q,Ee,Fe,V,de,Pe,Ye);if(!Bt)return{notEnoughRoom:!0};var Xt=on(Bt.first.point,U).point,Ut=on(Bt.last.point,U).point;if(te&&!q){var mn=xn(V.writingMode,Xt,Ut,Xe);if(mn)return mn}Qe=[Bt.first];for(var sn=V.glyphStartIndex+1;sn<Mt-1;sn++)Qe.push(En(nt*ie.getoffsetX(sn),lt,xt,q,Ee,Fe,V.segment,jt,Vt,de,Pe,Ye));Qe.push(Bt.last)}else{if(te&&!q){var rn=on(Fe,xe).point,In=V.lineStartIndex+V.segment+1,Pn=new f.Point(de.getx(In),de.gety(In)),tr=on(Pn,xe),rr=tr.signedDistanceFromCamera>0?tr.point:Hn(Fe,Pn,rn,1,xe),pr=xn(V.writingMode,rn,rr,Xe);if(pr)return pr}var yr=En(nt*ie.getoffsetX(V.glyphStartIndex),lt,xt,q,Ee,Fe,V.segment,V.lineStartIndex,V.lineStartIndex+V.lineLength,de,Pe,Ye);if(!yr)return{notEnoughRoom:!0};Qe=[yr]}for(var Er=0,Sr=Qe;Er<Sr.length;Er+=1){var Rr=Sr[Er];f.addDynamicAttributes(Te,Rr.point,Rr.angle)}return{}}function Hn(V,$,q,te,xe){var Pe=on(V.add(V.sub($)._unit()),xe).point,U=q.sub(Pe);return q.add(U._mult(te/U.mag()))}function En(V,$,q,te,xe,Pe,U,ie,de,Te,Ee,Fe){var Ye=te?V-$:V+$,Xe=Ye>0?1:-1,Qe=0;te&&(Xe*=-1,Qe=Math.PI),Xe<0&&(Qe+=Math.PI);for(var nt=Xe>0?ie+U:ie+U+1,lt=xe,xt=xe,Mt=0,jt=0,Vt=Math.abs(Ye),Bt=[];Mt+jt<=Vt;){if((nt+=Xe)<ie||nt>=de)return null;if(xt=lt,Bt.push(lt),void 0===(lt=Fe[nt])){var Xt=new f.Point(Te.getx(nt),Te.gety(nt)),Ut=on(Xt,Ee);if(Ut.signedDistanceFromCamera>0)lt=Fe[nt]=Ut.point;else{var mn=nt-Xe;lt=Hn(0===Mt?Pe:new f.Point(Te.getx(mn),Te.gety(mn)),Xt,xt,Vt-Mt+1,Ee)}}Mt+=jt,jt=xt.dist(lt)}var sn=(Vt-Mt)/jt,rn=lt.sub(xt),In=rn.mult(sn)._add(xt);In._add(rn._unit()._perp()._mult(q*Xe));var Pn=Qe+Math.atan2(lt.y-xt.y,lt.x-xt.x);return Bt.push(In),{point:In,angle:Pn,path:Bt}}On.prototype.keysLength=function(){return this.boxKeys.length+this.circleKeys.length},On.prototype.insert=function(V,$,q,te,xe){this._forEachCell($,q,te,xe,this._insertBoxCell,this.boxUid++),this.boxKeys.push(V),this.bboxes.push($),this.bboxes.push(q),this.bboxes.push(te),this.bboxes.push(xe)},On.prototype.insertCircle=function(V,$,q,te){this._forEachCell($-te,q-te,$+te,q+te,this._insertCircleCell,this.circleUid++),this.circleKeys.push(V),this.circles.push($),this.circles.push(q),this.circles.push(te)},On.prototype._insertBoxCell=function(V,$,q,te,xe,Pe){this.boxCells[xe].push(Pe)},On.prototype._insertCircleCell=function(V,$,q,te,xe,Pe){this.circleCells[xe].push(Pe)},On.prototype._query=function(V,$,q,te,xe,Pe){if(q<0||V>this.width||te<0||$>this.height)return!xe&&[];var U=[];if(V<=0&&$<=0&&this.width<=q&&this.height<=te){if(xe)return!0;for(var ie=0;ie<this.boxKeys.length;ie++)U.push({key:this.boxKeys[ie],x1:this.bboxes[4*ie],y1:this.bboxes[4*ie+1],x2:this.bboxes[4*ie+2],y2:this.bboxes[4*ie+3]});for(var de=0;de<this.circleKeys.length;de++){var Te=this.circles[3*de],Ee=this.circles[3*de+1],Fe=this.circles[3*de+2];U.push({key:this.circleKeys[de],x1:Te-Fe,y1:Ee-Fe,x2:Te+Fe,y2:Ee+Fe})}return Pe?U.filter(Pe):U}return this._forEachCell(V,$,q,te,this._queryCell,U,{hitTest:xe,seenUids:{box:{},circle:{}}},Pe),xe?U.length>0:U},On.prototype._queryCircle=function(V,$,q,te,xe){var Pe=V-q,U=V+q,ie=$-q,de=$+q;if(U<0||Pe>this.width||de<0||ie>this.height)return!te&&[];var Te=[];return this._forEachCell(Pe,ie,U,de,this._queryCellCircle,Te,{hitTest:te,circle:{x:V,y:$,radius:q},seenUids:{box:{},circle:{}}},xe),te?Te.length>0:Te},On.prototype.query=function(V,$,q,te,xe){return this._query(V,$,q,te,!1,xe)},On.prototype.hitTest=function(V,$,q,te,xe){return this._query(V,$,q,te,!0,xe)},On.prototype.hitTestCircle=function(V,$,q,te){return this._queryCircle(V,$,q,!0,te)},On.prototype._queryCell=function(V,$,q,te,xe,Pe,U,ie){var de=U.seenUids,Te=this.boxCells[xe];if(null!==Te)for(var Ee=this.bboxes,Fe=0,Ye=Te;Fe<Ye.length;Fe+=1){var Xe=Ye[Fe];if(!de.box[Xe]){de.box[Xe]=!0;var Qe=4*Xe;if(V<=Ee[Qe+2]&&$<=Ee[Qe+3]&&q>=Ee[Qe+0]&&te>=Ee[Qe+1]&&(!ie||ie(this.boxKeys[Xe]))){if(U.hitTest)return Pe.push(!0),!0;Pe.push({key:this.boxKeys[Xe],x1:Ee[Qe],y1:Ee[Qe+1],x2:Ee[Qe+2],y2:Ee[Qe+3]})}}}var nt=this.circleCells[xe];if(null!==nt)for(var lt=this.circles,xt=0,Mt=nt;xt<Mt.length;xt+=1){var jt=Mt[xt];if(!de.circle[jt]){de.circle[jt]=!0;var Vt=3*jt;if(this._circleAndRectCollide(lt[Vt],lt[Vt+1],lt[Vt+2],V,$,q,te)&&(!ie||ie(this.circleKeys[jt]))){if(U.hitTest)return Pe.push(!0),!0;var Bt=lt[Vt],Xt=lt[Vt+1],Ut=lt[Vt+2];Pe.push({key:this.circleKeys[jt],x1:Bt-Ut,y1:Xt-Ut,x2:Bt+Ut,y2:Xt+Ut})}}}},On.prototype._queryCellCircle=function(V,$,q,te,xe,Pe,U,ie){var de=U.circle,Te=U.seenUids,Ee=this.boxCells[xe];if(null!==Ee)for(var Fe=this.bboxes,Ye=0,Xe=Ee;Ye<Xe.length;Ye+=1){var Qe=Xe[Ye];if(!Te.box[Qe]){Te.box[Qe]=!0;var nt=4*Qe;if(this._circleAndRectCollide(de.x,de.y,de.radius,Fe[nt+0],Fe[nt+1],Fe[nt+2],Fe[nt+3])&&(!ie||ie(this.boxKeys[Qe])))return Pe.push(!0),!0}}var lt=this.circleCells[xe];if(null!==lt)for(var xt=this.circles,Mt=0,jt=lt;Mt<jt.length;Mt+=1){var Vt=jt[Mt];if(!Te.circle[Vt]){Te.circle[Vt]=!0;var Bt=3*Vt;if(this._circlesCollide(xt[Bt],xt[Bt+1],xt[Bt+2],de.x,de.y,de.radius)&&(!ie||ie(this.circleKeys[Vt])))return Pe.push(!0),!0}}},On.prototype._forEachCell=function(V,$,q,te,xe,Pe,U,ie){for(var de=this._convertToXCellCoord(V),Te=this._convertToYCellCoord($),Ee=this._convertToXCellCoord(q),Fe=this._convertToYCellCoord(te),Ye=de;Ye<=Ee;Ye++)for(var Xe=Te;Xe<=Fe;Xe++)if(xe.call(this,V,$,q,te,this.xCellCount*Xe+Ye,Pe,U,ie))return},On.prototype._convertToXCellCoord=function(V){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(V*this.xScale)))},On.prototype._convertToYCellCoord=function(V){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(V*this.yScale)))},On.prototype._circlesCollide=function(V,$,q,te,xe,Pe){var U=te-V,ie=xe-$,de=q+Pe;return de*de>U*U+ie*ie},On.prototype._circleAndRectCollide=function(V,$,q,te,xe,Pe,U){var ie=(Pe-te)/2,de=Math.abs(V-(te+ie));if(de>ie+q)return!1;var Te=(U-xe)/2,Ee=Math.abs($-(xe+Te));if(Ee>Te+q)return!1;if(de<=ie||Ee<=Te)return!0;var Fe=de-ie,Ye=Ee-Te;return Fe*Fe+Ye*Ye<=q*q};var Wn=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function gr(V,$){for(var q=0;q<V;q++){var te=$.length;$.resize(te+4),$.float32.set(Wn,3*te)}}function lr(V,$,q){var te=$[0],xe=$[1];return V[0]=q[0]*te+q[4]*xe+q[12],V[1]=q[1]*te+q[5]*xe+q[13],V[3]=q[3]*te+q[7]*xe+q[15],V}var wr=100,dr=function(V,$,q){void 0===$&&($=new On(V.width+200,V.height+200,25)),void 0===q&&(q=new On(V.width+200,V.height+200,25)),this.transform=V,this.grid=$,this.ignoredGrid=q,this.pitchfactor=Math.cos(V._pitch)*V.cameraToCenterDistance,this.screenRightBoundary=V.width+wr,this.screenBottomBoundary=V.height+wr,this.gridRightBoundary=V.width+200,this.gridBottomBoundary=V.height+200};function mr(V,$,q){return $*(f.EXTENT/(V.tileSize*Math.pow(2,q-V.tileID.overscaledZ)))}dr.prototype.placeCollisionBox=function(V,$,q,te,xe){var Pe=this.projectAndGetPerspectiveRatio(te,V.anchorPointX,V.anchorPointY),U=q*Pe.perspectiveRatio,ie=V.x1*U+Pe.point.x,de=V.y1*U+Pe.point.y,Te=V.x2*U+Pe.point.x,Ee=V.y2*U+Pe.point.y;return!this.isInsideGrid(ie,de,Te,Ee)||!$&&this.grid.hitTest(ie,de,Te,Ee,xe)?{box:[],offscreen:!1}:{box:[ie,de,Te,Ee],offscreen:this.isOffscreen(ie,de,Te,Ee)}},dr.prototype.placeCollisionCircles=function(V,$,q,te,xe,Pe,U,ie,de,Te,Ee,Fe,Ye){var Xe=[],Qe=new f.Point($.anchorX,$.anchorY),nt=on(Qe,Pe),lt=vn(this.transform.cameraToCenterDistance,nt.signedDistanceFromCamera),xt=(Te?xe/lt:xe*lt)/f.ONE_EM,Mt=on(Qe,U).point,jt=kn(xt,te,$.lineOffsetX*xt,$.lineOffsetY*xt,!1,Mt,Qe,$,q,U,{}),Vt=!1,Bt=!1,Xt=!0;if(jt){for(var Ut=.5*Fe*lt+Ye,mn=new f.Point(-100,-100),sn=new f.Point(this.screenRightBoundary,this.screenBottomBoundary),rn=new fn,In=jt.first,Pn=jt.last,tr=[],rr=In.path.length-1;rr>=1;rr--)tr.push(In.path[rr]);for(var pr=1;pr<Pn.path.length;pr++)tr.push(Pn.path[pr]);var yr=2.5*Ut;if(ie){var Er=tr.map(function(Zo){return on(Zo,ie)});tr=Er.some(function(Zo){return Zo.signedDistanceFromCamera<=0})?[]:Er.map(function(Zo){return Zo.point})}var Sr=[];if(tr.length>0){for(var Rr=tr[0].clone(),qr=tr[0].clone(),oi=1;oi<tr.length;oi++)Rr.x=Math.min(Rr.x,tr[oi].x),Rr.y=Math.min(Rr.y,tr[oi].y),qr.x=Math.max(qr.x,tr[oi].x),qr.y=Math.max(qr.y,tr[oi].y);Sr=Rr.x>=mn.x&&qr.x<=sn.x&&Rr.y>=mn.y&&qr.y<=sn.y?[tr]:qr.x<mn.x||Rr.x>sn.x||qr.y<mn.y||Rr.y>sn.y?[]:f.clipLine([tr],mn.x,mn.y,sn.x,sn.y)}for(var cr=0,Ar=Sr;cr<Ar.length;cr+=1){var Wr;rn.reset(Ar[cr],.25*Ut),Wr=rn.length<=.5*Ut?1:Math.ceil(rn.paddedLength/yr)+1;for(var ti=0;ti<Wr;ti++){var ci=ti/Math.max(Wr-1,1),Li=rn.lerp(ci),ro=Li.x+wr,fo=Li.y+wr;Xe.push(ro,fo,Ut,0);var Ai=ro-Ut,Ji=fo-Ut,Vo=ro+Ut,_a=fo+Ut;if(Xt=Xt&&this.isOffscreen(Ai,Ji,Vo,_a),Bt=Bt||this.isInsideGrid(Ai,Ji,Vo,_a),!V&&this.grid.hitTestCircle(ro,fo,Ut,Ee)&&(Vt=!0,!de))return{circles:[],offscreen:!1,collisionDetected:Vt}}}}return{circles:!de&&Vt||!Bt?[]:Xe,offscreen:Xt,collisionDetected:Vt}},dr.prototype.queryRenderedSymbols=function(V){if(0===V.length||0===this.grid.keysLength()&&0===this.ignoredGrid.keysLength())return{};for(var $=[],q=1/0,te=1/0,xe=-1/0,Pe=-1/0,U=0,ie=V;U<ie.length;U+=1){var de=ie[U],Te=new f.Point(de.x+wr,de.y+wr);q=Math.min(q,Te.x),te=Math.min(te,Te.y),xe=Math.max(xe,Te.x),Pe=Math.max(Pe,Te.y),$.push(Te)}for(var Ee={},Fe={},Ye=0,Xe=this.grid.query(q,te,xe,Pe).concat(this.ignoredGrid.query(q,te,xe,Pe));Ye<Xe.length;Ye+=1){var Qe=Xe[Ye],nt=Qe.key;if(void 0===Ee[nt.bucketInstanceId]&&(Ee[nt.bucketInstanceId]={}),!Ee[nt.bucketInstanceId][nt.featureIndex]){var lt=[new f.Point(Qe.x1,Qe.y1),new f.Point(Qe.x2,Qe.y1),new f.Point(Qe.x2,Qe.y2),new f.Point(Qe.x1,Qe.y2)];f.polygonIntersectsPolygon($,lt)&&(Ee[nt.bucketInstanceId][nt.featureIndex]=!0,void 0===Fe[nt.bucketInstanceId]&&(Fe[nt.bucketInstanceId]=[]),Fe[nt.bucketInstanceId].push(nt.featureIndex))}}return Fe},dr.prototype.insertCollisionBox=function(V,$,q,te,xe){($?this.ignoredGrid:this.grid).insert({bucketInstanceId:q,featureIndex:te,collisionGroupID:xe},V[0],V[1],V[2],V[3])},dr.prototype.insertCollisionCircles=function(V,$,q,te,xe){for(var Pe=$?this.ignoredGrid:this.grid,U={bucketInstanceId:q,featureIndex:te,collisionGroupID:xe},ie=0;ie<V.length;ie+=4)Pe.insertCircle(U,V[ie],V[ie+1],V[ie+2])},dr.prototype.projectAndGetPerspectiveRatio=function(V,$,q){var te=[$,q,0,1];return lr(te,te,V),{point:new f.Point((te[0]/te[3]+1)/2*this.transform.width+wr,(-te[1]/te[3]+1)/2*this.transform.height+wr),perspectiveRatio:.5+this.transform.cameraToCenterDistance/te[3]*.5}},dr.prototype.isOffscreen=function(V,$,q,te){return q<wr||V>=this.screenRightBoundary||te<wr||$>this.screenBottomBoundary},dr.prototype.isInsideGrid=function(V,$,q,te){return q>=0&&V<this.gridRightBoundary&&te>=0&&$<this.gridBottomBoundary},dr.prototype.getViewportMatrix=function(){var V=f.identity([]);return f.translate(V,V,[-100,-100,0]),V};var Ir=function(V,$,q,te){this.opacity=V?Math.max(0,Math.min(1,V.opacity+(V.placed?$:-$))):te&&q?1:0,this.placed=q};Ir.prototype.isHidden=function(){return 0===this.opacity&&!this.placed};var qt=function(V,$,q,te,xe){this.text=new Ir(V?V.text:null,$,q,xe),this.icon=new Ir(V?V.icon:null,$,te,xe)};qt.prototype.isHidden=function(){return this.text.isHidden()&&this.icon.isHidden()};var tn=function(V,$,q){this.text=V,this.icon=$,this.skipFade=q},bn=function(){this.invProjMatrix=f.create(),this.viewportMatrix=f.create(),this.circles=[]},Cn=function(V,$,q,te,xe){this.bucketInstanceId=V,this.featureIndex=$,this.sourceLayerIndex=q,this.bucketIndex=te,this.tileID=xe},Bn=function(V){this.crossSourceCollisions=V,this.maxGroupID=0,this.collisionGroups={}};function sr(V,$,q,te,xe){var Pe=f.getAnchorAlignment(V),U=-(Pe.horizontalAlign-.5)*$,ie=-(Pe.verticalAlign-.5)*q,de=f.evaluateVariableOffset(V,te);return new f.Point(U+de[0]*xe,ie+de[1]*xe)}function yn(V,$,q,te,xe,Pe){var U=V.x1,ie=V.x2,de=V.y1,Te=V.y2,Ee=V.anchorPointX,Fe=V.anchorPointY,Ye=new f.Point($,q);return te&&Ye._rotate(xe?Pe:-Pe),{x1:U+Ye.x,y1:de+Ye.y,x2:ie+Ye.x,y2:Te+Ye.y,anchorPointX:Ee,anchorPointY:Fe}}Bn.prototype.get=function(V){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[V]){var $=++this.maxGroupID;this.collisionGroups[V]={ID:$,predicate:function(q){return q.collisionGroupID===$}}}return this.collisionGroups[V]};var Zn=function(V,$,q,te){this.transform=V.clone(),this.collisionIndex=new dr(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=$,this.retainedQueryData={},this.collisionGroups=new Bn(q),this.collisionCircleArrays={},this.prevPlacement=te,te&&(te.prevPlacement=void 0),this.placedOrientations={}};function Xn(V,$,q,te,xe){V.emplaceBack($?1:0,q?1:0,te||0,xe||0),V.emplaceBack($?1:0,q?1:0,te||0,xe||0),V.emplaceBack($?1:0,q?1:0,te||0,xe||0),V.emplaceBack($?1:0,q?1:0,te||0,xe||0)}Zn.prototype.getBucketParts=function(V,$,q,te){var xe=q.getBucket($),Pe=q.latestFeatureIndex;if(xe&&Pe&&$.id===xe.layerIds[0]){var U=q.collisionBoxArray,ie=xe.layers[0].layout,de=Math.pow(2,this.transform.zoom-q.tileID.overscaledZ),Te=q.tileSize/f.EXTENT,Ee=this.transform.calculatePosMatrix(q.tileID.toUnwrapped()),Fe="map"===ie.get("text-pitch-alignment"),Ye="map"===ie.get("text-rotation-alignment"),Xe=mr(q,1,this.transform.zoom),Qe=Un(Ee,Fe,Ye,this.transform,Xe),nt=null;if(Fe){var lt=Sn(Ee,Fe,Ye,this.transform,Xe);nt=f.multiply([],this.transform.labelPlaneMatrix,lt)}this.retainedQueryData[xe.bucketInstanceId]=new Cn(xe.bucketInstanceId,Pe,xe.sourceLayerIndex,xe.index,q.tileID);var xt={bucket:xe,layout:ie,posMatrix:Ee,textLabelPlaneMatrix:Qe,labelToScreenMatrix:nt,scale:de,textPixelRatio:Te,holdingForFade:q.holdingForFade(),collisionBoxArray:U,partiallyEvaluatedTextSize:f.evaluateSizeForZoom(xe.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(xe.sourceID)};if(te)for(var Mt=0,jt=xe.sortKeyRanges;Mt<jt.length;Mt+=1){var Vt=jt[Mt];V.push({sortKey:Vt.sortKey,symbolInstanceStart:Vt.symbolInstanceStart,symbolInstanceEnd:Vt.symbolInstanceEnd,parameters:xt})}else V.push({symbolInstanceStart:0,symbolInstanceEnd:xe.symbolInstances.length,parameters:xt})}},Zn.prototype.attemptAnchorPlacement=function(V,$,q,te,xe,Pe,U,ie,de,Te,Ee,Fe,Ye,Xe,Qe){var nt,lt=[Fe.textOffset0,Fe.textOffset1],xt=sr(V,q,te,lt,xe),Mt=this.collisionIndex.placeCollisionBox(yn($,xt.x,xt.y,Pe,U,this.transform.angle),Ee,ie,de,Te.predicate);if(!Qe||0!==this.collisionIndex.placeCollisionBox(yn(Qe,xt.x,xt.y,Pe,U,this.transform.angle),Ee,ie,de,Te.predicate).box.length)return Mt.box.length>0?(this.prevPlacement&&this.prevPlacement.variableOffsets[Fe.crossTileID]&&this.prevPlacement.placements[Fe.crossTileID]&&this.prevPlacement.placements[Fe.crossTileID].text&&(nt=this.prevPlacement.variableOffsets[Fe.crossTileID].anchor),this.variableOffsets[Fe.crossTileID]={textOffset:lt,width:q,height:te,anchor:V,textBoxScale:xe,prevAnchor:nt},this.markUsedJustification(Ye,V,Fe,Xe),Ye.allowVerticalPlacement&&(this.markUsedOrientation(Ye,Xe,Fe),this.placedOrientations[Fe.crossTileID]=Xe),{shift:xt,placedGlyphBoxes:Mt}):void 0},Zn.prototype.placeLayerBucketPart=function(V,$,q){var te=this,xe=V.parameters,Pe=xe.bucket,U=xe.layout,ie=xe.posMatrix,de=xe.textLabelPlaneMatrix,Te=xe.labelToScreenMatrix,Ee=xe.textPixelRatio,Fe=xe.holdingForFade,Ye=xe.collisionBoxArray,Xe=xe.partiallyEvaluatedTextSize,Qe=xe.collisionGroup,nt=U.get("text-optional"),lt=U.get("icon-optional"),xt=U.get("text-allow-overlap"),Mt=U.get("icon-allow-overlap"),jt="map"===U.get("text-rotation-alignment"),Vt="map"===U.get("text-pitch-alignment"),Bt="none"!==U.get("icon-text-fit"),Xt="viewport-y"===U.get("symbol-z-order"),Ut=xt&&(Mt||!Pe.hasIconData()||lt),mn=Mt&&(xt||!Pe.hasTextData()||nt);!Pe.collisionArrays&&Ye&&Pe.deserializeCollisionBoxes(Ye);var sn=function(pr,yr){if(!$[pr.crossTileID])if(Fe)te.placements[pr.crossTileID]=new tn(!1,!1,!1);else{var Er,Sr=!1,Rr=!1,qr=!0,oi=null,cr={box:null,offscreen:null},Ar={box:null,offscreen:null},Nr=null,Wr=null,ti=0,ci=0,Li=0;yr.textFeatureIndex?ti=yr.textFeatureIndex:pr.useRuntimeCollisionCircles&&(ti=pr.featureIndex),yr.verticalTextFeatureIndex&&(ci=yr.verticalTextFeatureIndex);var ro=yr.textBox;if(ro){var fo=function(Uo){var No=f.WritingMode.horizontal;if(Pe.allowVerticalPlacement&&!Uo&&te.prevPlacement){var Ho=te.prevPlacement.placedOrientations[pr.crossTileID];Ho&&(te.placedOrientations[pr.crossTileID]=Ho,te.markUsedOrientation(Pe,No=Ho,pr))}return No},Ai=function(Uo,No){if(Pe.allowVerticalPlacement&&pr.numVerticalGlyphVertices>0&&yr.verticalTextBox)for(var Ho=0,ud=Pe.writingModes;Ho<ud.length&&(ud[Ho]===f.WritingMode.vertical?(cr=No(),Ar=cr):cr=Uo(),!(cr&&cr.box&&cr.box.length));Ho+=1);else cr=Uo()};if(U.get("text-variable-anchor")){var Ji=U.get("text-variable-anchor");if(te.prevPlacement&&te.prevPlacement.variableOffsets[pr.crossTileID]){var Vo=te.prevPlacement.variableOffsets[pr.crossTileID];Ji.indexOf(Vo.anchor)>0&&(Ji=Ji.filter(function(Uo){return Uo!==Vo.anchor})).unshift(Vo.anchor)}var _a=function(Uo,No,Ho){for(var ud=Uo.x2-Uo.x1,dp=Uo.y2-Uo.y1,ng=pr.textBoxScale,_u=Bt&&!Mt?No:null,Lf={box:[],offscreen:!1},ih=xt?2*Ji.length:Ji.length,cf=0;cf<ih;++cf){var ah=te.attemptAnchorPlacement(Ji[cf%Ji.length],Uo,ud,dp,ng,jt,Vt,Ee,ie,Qe,cf>=Ji.length,pr,Pe,Ho,_u);if(ah&&(Lf=ah.placedGlyphBoxes)&&Lf.box&&Lf.box.length){Sr=!0,oi=ah.shift;break}}return Lf};Ai(function(){return _a(ro,yr.iconBox,f.WritingMode.horizontal)},function(){var Uo=yr.verticalTextBox;return Pe.allowVerticalPlacement&&!(cr&&cr.box&&cr.box.length)&&pr.numVerticalGlyphVertices>0&&Uo?_a(Uo,yr.verticalIconBox,f.WritingMode.vertical):{box:null,offscreen:null}}),cr&&(Sr=cr.box,qr=cr.offscreen);var Zo=fo(cr&&cr.box);if(!Sr&&te.prevPlacement){var oa=te.prevPlacement.variableOffsets[pr.crossTileID];oa&&(te.variableOffsets[pr.crossTileID]=oa,te.markUsedJustification(Pe,oa.anchor,pr,Zo))}}else{var Ui=function(Uo,No){var Ho=te.collisionIndex.placeCollisionBox(Uo,xt,Ee,ie,Qe.predicate);return Ho&&Ho.box&&Ho.box.length&&(te.markUsedOrientation(Pe,No,pr),te.placedOrientations[pr.crossTileID]=No),Ho};Ai(function(){return Ui(ro,f.WritingMode.horizontal)},function(){var Uo=yr.verticalTextBox;return Pe.allowVerticalPlacement&&pr.numVerticalGlyphVertices>0&&Uo?Ui(Uo,f.WritingMode.vertical):{box:null,offscreen:null}}),fo(cr&&cr.box&&cr.box.length)}}if(Sr=(Er=cr)&&Er.box&&Er.box.length>0,qr=Er&&Er.offscreen,pr.useRuntimeCollisionCircles){var ki=Pe.text.placedSymbolArray.get(pr.centerJustifiedTextSymbolIndex),ho=f.evaluateSizeForFeature(Pe.textSizeData,Xe,ki),Pi=U.get("text-padding");Nr=te.collisionIndex.placeCollisionCircles(xt,ki,Pe.lineVertexArray,Pe.glyphOffsetArray,ho,ie,de,Te,q,Vt,Qe.predicate,pr.collisionCircleDiameter,Pi),Sr=xt||Nr.circles.length>0&&!Nr.collisionDetected,qr=qr&&Nr.offscreen}if(yr.iconFeatureIndex&&(Li=yr.iconFeatureIndex),yr.iconBox){var ja=function(Uo){var No=Bt&&oi?yn(Uo,oi.x,oi.y,jt,Vt,te.transform.angle):Uo;return te.collisionIndex.placeCollisionBox(No,Mt,Ee,ie,Qe.predicate)};Rr=Ar&&Ar.box&&Ar.box.length&&yr.verticalIconBox?(Wr=ja(yr.verticalIconBox)).box.length>0:(Wr=ja(yr.iconBox)).box.length>0,qr=qr&&Wr.offscreen}var pi=nt||0===pr.numHorizontalGlyphVertices&&0===pr.numVerticalGlyphVertices,Hi=lt||0===pr.numIconVertices;if(pi||Hi?Hi?pi||(Rr=Rr&&Sr):Sr=Rr&&Sr:Rr=Sr=Rr&&Sr,Sr&&Er&&Er.box&&te.collisionIndex.insertCollisionBox(Er.box,U.get("text-ignore-placement"),Pe.bucketInstanceId,Ar&&Ar.box&&ci?ci:ti,Qe.ID),Rr&&Wr&&te.collisionIndex.insertCollisionBox(Wr.box,U.get("icon-ignore-placement"),Pe.bucketInstanceId,Li,Qe.ID),Nr&&(Sr&&te.collisionIndex.insertCollisionCircles(Nr.circles,U.get("text-ignore-placement"),Pe.bucketInstanceId,ti,Qe.ID),q)){var il=Pe.bucketInstanceId,go=te.collisionCircleArrays[il];void 0===go&&(go=te.collisionCircleArrays[il]=new bn);for(var Ps=0;Ps<Nr.circles.length;Ps+=4)go.circles.push(Nr.circles[Ps+0]),go.circles.push(Nr.circles[Ps+1]),go.circles.push(Nr.circles[Ps+2]),go.circles.push(Nr.collisionDetected?1:0)}te.placements[pr.crossTileID]=new tn(Sr||Ut,Rr||mn,qr||Pe.justReloaded),$[pr.crossTileID]=!0}};if(Xt)for(var rn=Pe.getSortedSymbolIndexes(this.transform.angle),In=rn.length-1;In>=0;--In){var Pn=rn[In];sn(Pe.symbolInstances.get(Pn),Pe.collisionArrays[Pn])}else for(var tr=V.symbolInstanceStart;tr<V.symbolInstanceEnd;tr++)sn(Pe.symbolInstances.get(tr),Pe.collisionArrays[tr]);if(q&&Pe.bucketInstanceId in this.collisionCircleArrays){var rr=this.collisionCircleArrays[Pe.bucketInstanceId];f.invert(rr.invProjMatrix,ie),rr.viewportMatrix=this.collisionIndex.getViewportMatrix()}Pe.justReloaded=!1},Zn.prototype.markUsedJustification=function(V,$,q,te){var xe;xe=te===f.WritingMode.vertical?q.verticalPlacedTextSymbolIndex:{left:q.leftJustifiedTextSymbolIndex,center:q.centerJustifiedTextSymbolIndex,right:q.rightJustifiedTextSymbolIndex}[f.getAnchorJustification($)];for(var U=0,ie=[q.leftJustifiedTextSymbolIndex,q.centerJustifiedTextSymbolIndex,q.rightJustifiedTextSymbolIndex,q.verticalPlacedTextSymbolIndex];U<ie.length;U+=1){var de=ie[U];de>=0&&(V.text.placedSymbolArray.get(de).crossTileID=xe>=0&&de!==xe?0:q.crossTileID)}},Zn.prototype.markUsedOrientation=function(V,$,q){for(var te=$===f.WritingMode.horizontal||$===f.WritingMode.horizontalOnly?$:0,xe=$===f.WritingMode.vertical?$:0,Pe=0,U=[q.leftJustifiedTextSymbolIndex,q.centerJustifiedTextSymbolIndex,q.rightJustifiedTextSymbolIndex];Pe<U.length;Pe+=1)V.text.placedSymbolArray.get(U[Pe]).placedOrientation=te;q.verticalPlacedTextSymbolIndex&&(V.text.placedSymbolArray.get(q.verticalPlacedTextSymbolIndex).placedOrientation=xe)},Zn.prototype.commit=function(V){this.commitTime=V,this.zoomAtLastRecencyCheck=this.transform.zoom;var $=this.prevPlacement,q=!1;this.prevZoomAdjustment=$?$.zoomAdjustment(this.transform.zoom):0;var te=$?$.symbolFadeChange(V):1,xe=$?$.opacities:{},Pe=$?$.variableOffsets:{},U=$?$.placedOrientations:{};for(var ie in this.placements){var de=this.placements[ie],Te=xe[ie];Te?(this.opacities[ie]=new qt(Te,te,de.text,de.icon),q=q||de.text!==Te.text.placed||de.icon!==Te.icon.placed):(this.opacities[ie]=new qt(null,te,de.text,de.icon,de.skipFade),q=q||de.text||de.icon)}for(var Ee in xe){var Fe=xe[Ee];if(!this.opacities[Ee]){var Ye=new qt(Fe,te,!1,!1);Ye.isHidden()||(this.opacities[Ee]=Ye,q=q||Fe.text.placed||Fe.icon.placed)}}for(var Xe in Pe)this.variableOffsets[Xe]||!this.opacities[Xe]||this.opacities[Xe].isHidden()||(this.variableOffsets[Xe]=Pe[Xe]);for(var Qe in U)this.placedOrientations[Qe]||!this.opacities[Qe]||this.opacities[Qe].isHidden()||(this.placedOrientations[Qe]=U[Qe]);q?this.lastPlacementChangeTime=V:"number"!=typeof this.lastPlacementChangeTime&&(this.lastPlacementChangeTime=$?$.lastPlacementChangeTime:V)},Zn.prototype.updateLayerOpacities=function(V,$){for(var q={},te=0,xe=$;te<xe.length;te+=1){var Pe=xe[te],U=Pe.getBucket(V);U&&Pe.latestFeatureIndex&&V.id===U.layerIds[0]&&this.updateBucketOpacities(U,q,Pe.collisionBoxArray)}},Zn.prototype.updateBucketOpacities=function(V,$,q){var te=this;V.hasTextData()&&V.text.opacityVertexArray.clear(),V.hasIconData()&&V.icon.opacityVertexArray.clear(),V.hasIconCollisionBoxData()&&V.iconCollisionBox.collisionVertexArray.clear(),V.hasTextCollisionBoxData()&&V.textCollisionBox.collisionVertexArray.clear();var xe=V.layers[0].layout,Pe=new qt(null,0,!1,!1,!0),U=xe.get("text-allow-overlap"),ie=xe.get("icon-allow-overlap"),de=xe.get("text-variable-anchor"),Te="map"===xe.get("text-rotation-alignment"),Ee="map"===xe.get("text-pitch-alignment"),Fe="none"!==xe.get("icon-text-fit"),Ye=new qt(null,0,U&&(ie||!V.hasIconData()||xe.get("icon-optional")),ie&&(U||!V.hasTextData()||xe.get("text-optional")),!0);!V.collisionArrays&&q&&(V.hasIconCollisionBoxData()||V.hasTextCollisionBoxData())&&V.deserializeCollisionBoxes(q);for(var Xe=function(xt,Mt,jt){for(var Vt=0;Vt<Mt/4;Vt++)xt.opacityVertexArray.emplaceBack(jt)},Qe=function(xt){var Mt=V.symbolInstances.get(xt),jt=Mt.numHorizontalGlyphVertices,Vt=Mt.numVerticalGlyphVertices,Bt=Mt.crossTileID,Ut=te.opacities[Bt];$[Bt]?Ut=Pe:Ut||(te.opacities[Bt]=Ut=Ye),$[Bt]=!0;var sn=Mt.numIconVertices>0,rn=te.placedOrientations[Mt.crossTileID],In=rn===f.WritingMode.vertical,Pn=rn===f.WritingMode.horizontal||rn===f.WritingMode.horizontalOnly;if(jt>0||Vt>0){var tr=Vn(Ut.text);Xe(V.text,jt,In?Mn:tr),Xe(V.text,Vt,Pn?Mn:tr);var yr=Ut.text.isHidden();[Mt.rightJustifiedTextSymbolIndex,Mt.centerJustifiedTextSymbolIndex,Mt.leftJustifiedTextSymbolIndex].forEach(function(Li){Li>=0&&(V.text.placedSymbolArray.get(Li).hidden=yr||In?1:0)}),Mt.verticalPlacedTextSymbolIndex>=0&&(V.text.placedSymbolArray.get(Mt.verticalPlacedTextSymbolIndex).hidden=yr||Pn?1:0);var Er=te.variableOffsets[Mt.crossTileID];Er&&te.markUsedJustification(V,Er.anchor,Mt,rn);var Sr=te.placedOrientations[Mt.crossTileID];Sr&&(te.markUsedJustification(V,"left",Mt,Sr),te.markUsedOrientation(V,Sr,Mt))}if(sn){var Rr=Vn(Ut.icon),qr=!(Fe&&Mt.verticalPlacedIconSymbolIndex&&In);Mt.placedIconSymbolIndex>=0&&(Xe(V.icon,Mt.numIconVertices,qr?Rr:Mn),V.icon.placedSymbolArray.get(Mt.placedIconSymbolIndex).hidden=Ut.icon.isHidden()),Mt.verticalPlacedIconSymbolIndex>=0&&(Xe(V.icon,Mt.numVerticalIconVertices,qr?Mn:Rr),V.icon.placedSymbolArray.get(Mt.verticalPlacedIconSymbolIndex).hidden=Ut.icon.isHidden())}if(V.hasIconCollisionBoxData()||V.hasTextCollisionBoxData()){var Ar=V.collisionArrays[xt];if(Ar){var Nr=new f.Point(0,0);if(Ar.textBox||Ar.verticalTextBox){var Wr=!0;if(de){var ti=te.variableOffsets[Bt];ti?(Nr=sr(ti.anchor,ti.width,ti.height,ti.textOffset,ti.textBoxScale),Te&&Nr._rotate(Ee?te.transform.angle:-te.transform.angle)):Wr=!1}Ar.textBox&&Xn(V.textCollisionBox.collisionVertexArray,Ut.text.placed,!Wr||In,Nr.x,Nr.y),Ar.verticalTextBox&&Xn(V.textCollisionBox.collisionVertexArray,Ut.text.placed,!Wr||Pn,Nr.x,Nr.y)}var ci=!(Pn||!Ar.verticalIconBox);Ar.iconBox&&Xn(V.iconCollisionBox.collisionVertexArray,Ut.icon.placed,ci,Fe?Nr.x:0,Fe?Nr.y:0),Ar.verticalIconBox&&Xn(V.iconCollisionBox.collisionVertexArray,Ut.icon.placed,!ci,Fe?Nr.x:0,Fe?Nr.y:0)}}},nt=0;nt<V.symbolInstances.length;nt++)Qe(nt);if(V.sortFeatures(this.transform.angle),this.retainedQueryData[V.bucketInstanceId]&&(this.retainedQueryData[V.bucketInstanceId].featureSortOrder=V.featureSortOrder),V.hasTextData()&&V.text.opacityVertexBuffer&&V.text.opacityVertexBuffer.updateData(V.text.opacityVertexArray),V.hasIconData()&&V.icon.opacityVertexBuffer&&V.icon.opacityVertexBuffer.updateData(V.icon.opacityVertexArray),V.hasIconCollisionBoxData()&&V.iconCollisionBox.collisionVertexBuffer&&V.iconCollisionBox.collisionVertexBuffer.updateData(V.iconCollisionBox.collisionVertexArray),V.hasTextCollisionBoxData()&&V.textCollisionBox.collisionVertexBuffer&&V.textCollisionBox.collisionVertexBuffer.updateData(V.textCollisionBox.collisionVertexArray),V.bucketInstanceId in this.collisionCircleArrays){var lt=this.collisionCircleArrays[V.bucketInstanceId];V.placementInvProjMatrix=lt.invProjMatrix,V.placementViewportMatrix=lt.viewportMatrix,V.collisionCircleArray=lt.circles,delete this.collisionCircleArrays[V.bucketInstanceId]}},Zn.prototype.symbolFadeChange=function(V){return 0===this.fadeDuration?1:(V-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment},Zn.prototype.zoomAdjustment=function(V){return Math.max(0,(this.transform.zoom-V)/1.5)},Zn.prototype.hasTransitions=function(V){return this.stale||V-this.lastPlacementChangeTime<this.fadeDuration},Zn.prototype.stillRecent=function(V,$){var q=this.zoomAtLastRecencyCheck===$?1-this.zoomAdjustment($):1;return this.zoomAtLastRecencyCheck=$,this.commitTime+this.fadeDuration*q>V},Zn.prototype.setStale=function(){this.stale=!0};var Jt=Math.pow(2,25),Nn=Math.pow(2,24),Ft=Math.pow(2,17),an=Math.pow(2,16),hn=Math.pow(2,9),Dn=Math.pow(2,8),Ln=Math.pow(2,1);function Vn(V){if(0===V.opacity&&!V.placed)return 0;if(1===V.opacity&&V.placed)return 4294967295;var $=V.placed?1:0,q=Math.floor(127*V.opacity);return q*Jt+$*Nn+q*Ft+$*an+q*hn+$*Dn+q*Ln+$}var Mn=0,ln=function(V){this._sortAcrossTiles="viewport-y"!==V.layout.get("symbol-z-order")&&void 0!==V.layout.get("symbol-sort-key").constantOr(1),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]};ln.prototype.continuePlacement=function(V,$,q,te,xe){for(var Pe=this._bucketParts;this._currentTileIndex<V.length;)if($.getBucketParts(Pe,te,V[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,xe())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,Pe.sort(function(de,Te){return de.sortKey-Te.sortKey}));this._currentPartIndex<Pe.length;)if($.placeLayerBucketPart(Pe[this._currentPartIndex],this._seenCrossTileIDs,q),this._currentPartIndex++,xe())return!0;return!1};var cn=function(V,$,q,te,xe,Pe,U){this.placement=new Zn(V,xe,Pe,U),this._currentPlacementIndex=$.length-1,this._forceFullPlacement=q,this._showCollisionBoxes=te,this._done=!1};cn.prototype.isDone=function(){return this._done},cn.prototype.continuePlacement=function(V,$,q){for(var te=this,xe=f.browser.now(),Pe=function(){var de=f.browser.now()-xe;return!te._forceFullPlacement&&de>2};this._currentPlacementIndex>=0;){var U=$[V[this._currentPlacementIndex]],ie=this.placement.collisionIndex.transform.zoom;if("symbol"===U.type&&(!U.minzoom||U.minzoom<=ie)&&(!U.maxzoom||U.maxzoom>ie)){if(this._inProgressLayer||(this._inProgressLayer=new ln(U)),this._inProgressLayer.continuePlacement(q[U.source],this.placement,this._showCollisionBoxes,U,Pe))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0},cn.prototype.commit=function(V){return this.placement.commit(V),this.placement};var wn=512/f.EXTENT/2,An=function(V,$,q){this.tileID=V,this.indexedSymbolInstances={},this.bucketInstanceId=q;for(var te=0;te<$.length;te++){var xe=$.get(te),Pe=xe.key;this.indexedSymbolInstances[Pe]||(this.indexedSymbolInstances[Pe]=[]),this.indexedSymbolInstances[Pe].push({crossTileID:xe.crossTileID,coord:this.getScaledCoordinates(xe,V)})}};An.prototype.getScaledCoordinates=function(V,$){var te=wn/Math.pow(2,$.canonical.z-this.tileID.canonical.z);return{x:Math.floor(($.canonical.x*f.EXTENT+V.anchorX)*te),y:Math.floor(($.canonical.y*f.EXTENT+V.anchorY)*te)}},An.prototype.findMatches=function(V,$,q){for(var te=this.tileID.canonical.z<$.canonical.z?1:Math.pow(2,this.tileID.canonical.z-$.canonical.z),xe=0;xe<V.length;xe++){var Pe=V.get(xe);if(!Pe.crossTileID){var U=this.indexedSymbolInstances[Pe.key];if(U)for(var ie=this.getScaledCoordinates(Pe,$),de=0,Te=U;de<Te.length;de+=1){var Ee=Te[de];if(Math.abs(Ee.coord.x-ie.x)<=te&&Math.abs(Ee.coord.y-ie.y)<=te&&!q[Ee.crossTileID]){q[Ee.crossTileID]=!0,Pe.crossTileID=Ee.crossTileID;break}}}}};var Gn=function(){this.maxCrossTileID=0};Gn.prototype.generate=function(){return++this.maxCrossTileID};var Yn=function(){this.indexes={},this.usedCrossTileIDs={},this.lng=0};Yn.prototype.handleWrapJump=function(V){var $=Math.round((V-this.lng)/360);if(0!==$)for(var q in this.indexes){var te=this.indexes[q],xe={};for(var Pe in te){var U=te[Pe];U.tileID=U.tileID.unwrapTo(U.tileID.wrap+$),xe[U.tileID.key]=U}this.indexes[q]=xe}this.lng=V},Yn.prototype.addBucket=function(V,$,q){if(this.indexes[V.overscaledZ]&&this.indexes[V.overscaledZ][V.key]){if(this.indexes[V.overscaledZ][V.key].bucketInstanceId===$.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(V.overscaledZ,this.indexes[V.overscaledZ][V.key])}for(var te=0;te<$.symbolInstances.length;te++)$.symbolInstances.get(te).crossTileID=0;this.usedCrossTileIDs[V.overscaledZ]||(this.usedCrossTileIDs[V.overscaledZ]={});var xe=this.usedCrossTileIDs[V.overscaledZ];for(var Pe in this.indexes){var U=this.indexes[Pe];if(Number(Pe)>V.overscaledZ)for(var ie in U){var de=U[ie];de.tileID.isChildOf(V)&&de.findMatches($.symbolInstances,V,xe)}else{var Te=U[V.scaledTo(Number(Pe)).key];Te&&Te.findMatches($.symbolInstances,V,xe)}}for(var Ee=0;Ee<$.symbolInstances.length;Ee++){var Fe=$.symbolInstances.get(Ee);Fe.crossTileID||(Fe.crossTileID=q.generate(),xe[Fe.crossTileID]=!0)}return void 0===this.indexes[V.overscaledZ]&&(this.indexes[V.overscaledZ]={}),this.indexes[V.overscaledZ][V.key]=new An(V,$.symbolInstances,$.bucketInstanceId),!0},Yn.prototype.removeBucketCrossTileIDs=function(V,$){for(var q in $.indexedSymbolInstances)for(var te=0,xe=$.indexedSymbolInstances[q];te<xe.length;te+=1)delete this.usedCrossTileIDs[V][xe[te].crossTileID]},Yn.prototype.removeStaleBuckets=function(V){var $=!1;for(var q in this.indexes){var te=this.indexes[q];for(var xe in te)V[te[xe].bucketInstanceId]||(this.removeBucketCrossTileIDs(q,te[xe]),delete te[xe],$=!0)}return $};var hr=function(){this.layerIndexes={},this.crossTileIDs=new Gn,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}};hr.prototype.addLayer=function(V,$,q){var te=this.layerIndexes[V.id];void 0===te&&(te=this.layerIndexes[V.id]=new Yn);var xe=!1,Pe={};te.handleWrapJump(q);for(var U=0,ie=$;U<ie.length;U+=1){var de=ie[U],Te=de.getBucket(V);Te&&V.id===Te.layerIds[0]&&(Te.bucketInstanceId||(Te.bucketInstanceId=++this.maxBucketInstanceId),te.addBucket(de.tileID,Te,this.crossTileIDs)&&(xe=!0),Pe[Te.bucketInstanceId]=!0)}return te.removeStaleBuckets(Pe)&&(xe=!0),xe},hr.prototype.pruneUnusedLayers=function(V){var $={};for(var q in V.forEach(function(te){$[te]=!0}),this.layerIndexes)$[q]||delete this.layerIndexes[q]};var ir=function(V,$){return f.emitValidationErrors(V,$&&$.filter(function(q){return"source.canvas"!==q.identifier}))},_r=f.pick(bt,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),ur=f.pick(bt,["setCenter","setZoom","setBearing","setPitch"]),or=function(){var V={},$=f.styleSpec.$version;for(var q in f.styleSpec.$root){var xe,te=f.styleSpec.$root[q];te.required&&null!=(xe="version"===q?$:"array"===te.type?[]:{})&&(V[q]=xe)}return V}(),Tr=function(V){function $(q,te){var xe=this;void 0===te&&(te={}),V.call(this),this.map=q,this.dispatcher=new R(St(),this),this.imageManager=new v,this.imageManager.setEventedParent(this),this.glyphManager=new b(q._requestManager,te.localIdeographFontFamily),this.lineAtlas=new O(256,512),this.crossTileSymbolIndex=new hr,this._layers={},this._serializedLayers={},this._order=[],this.sourceCaches={},this.zoomHistory=new f.ZoomHistory,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",f.getReferrer());var Pe=this;this._rtlTextPluginCallback=$.registerForPluginStateChange(function(U){Pe.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:U.pluginStatus,pluginURL:U.pluginURL},function(de,Te){if(f.triggerPluginCompletionEvent(de),Te&&Te.every(function(Fe){return Fe}))for(var Ee in Pe.sourceCaches)Pe.sourceCaches[Ee].reload()})}),this.on("data",function(U){if("source"===U.dataType&&"metadata"===U.sourceDataType){var ie=xe.sourceCaches[U.sourceId];if(ie){var de=ie.getSource();if(de&&de.vectorLayerIds)for(var Te in xe._layers){var Ee=xe._layers[Te];Ee.source===de.id&&xe._validateLayer(Ee)}}}})}return V&&($.__proto__=V),($.prototype=Object.create(V&&V.prototype)).constructor=$,$.prototype.loadURL=function(q,te){var xe=this;void 0===te&&(te={}),this.fire(new f.Event("dataloading",{dataType:"style"}));var Pe="boolean"==typeof te.validate?te.validate:!f.isMapboxURL(q);q=this.map._requestManager.normalizeStyleURL(q,te.accessToken);var U=this.map._requestManager.transformRequest(q,f.ResourceType.Style);this._request=f.getJSON(U,function(ie,de){xe._request=null,ie?xe.fire(new f.ErrorEvent(ie)):de&&xe._load(de,Pe)})},$.prototype.loadJSON=function(q,te){var xe=this;void 0===te&&(te={}),this.fire(new f.Event("dataloading",{dataType:"style"})),this._request=f.browser.frame(function(){xe._request=null,xe._load(q,!1!==te.validate)})},$.prototype.loadEmpty=function(){this.fire(new f.Event("dataloading",{dataType:"style"})),this._load(or,!1)},$.prototype._load=function(q,te){if(!te||!ir(this,f.validateStyle(q))){for(var xe in this._loaded=!0,this.stylesheet=q,q.sources)this.addSource(xe,q.sources[xe],{validate:!1});q.sprite?this._loadSprite(q.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(q.glyphs);var Pe=Rt(this.stylesheet.layers);this._order=Pe.map(function(Te){return Te.id}),this._layers={},this._serializedLayers={};for(var U=0,ie=Pe;U<ie.length;U+=1){var de=ie[U];(de=f.createStyleLayer(de)).setEventedParent(this,{layer:{id:de.id}}),this._layers[de.id]=de,this._serializedLayers[de.id]=de.serialize()}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new S(this.stylesheet.light),this.fire(new f.Event("data",{dataType:"style"})),this.fire(new f.Event("style.load"))}},$.prototype._loadSprite=function(q){var te=this;this._spriteRequest=function(xe,Pe,U){var ie,de,Te,Ee=f.browser.devicePixelRatio>1?"@2x":"",Fe=f.getJSON(Pe.transformRequest(Pe.normalizeSpriteURL(xe,Ee,".json"),f.ResourceType.SpriteJSON),function(Qe,nt){Fe=null,Te||(Te=Qe,ie=nt,Xe())}),Ye=f.getImage(Pe.transformRequest(Pe.normalizeSpriteURL(xe,Ee,".png"),f.ResourceType.SpriteImage),function(Qe,nt){Ye=null,Te||(Te=Qe,de=nt,Xe())});function Xe(){if(Te)U(Te);else if(ie&&de){var Qe=f.browser.getImageData(de),nt={};for(var lt in ie){var xt=ie[lt],Mt=xt.width,jt=xt.height,Vt=xt.x,Bt=xt.y,Xt=xt.sdf,Ut=xt.pixelRatio,mn=xt.stretchX,sn=xt.stretchY,rn=xt.content,In=new f.RGBAImage({width:Mt,height:jt});f.RGBAImage.copy(Qe,In,{x:Vt,y:Bt},{x:0,y:0},{width:Mt,height:jt}),nt[lt]={data:In,pixelRatio:Ut,sdf:Xt,stretchX:mn,stretchY:sn,content:rn}}U(null,nt)}}return{cancel:function(){Fe&&(Fe.cancel(),Fe=null),Ye&&(Ye.cancel(),Ye=null)}}}(q,this.map._requestManager,function(xe,Pe){if(te._spriteRequest=null,xe)te.fire(new f.ErrorEvent(xe));else if(Pe)for(var U in Pe)te.imageManager.addImage(U,Pe[U]);te.imageManager.setLoaded(!0),te._availableImages=te.imageManager.listImages(),te.dispatcher.broadcast("setImages",te._availableImages),te.fire(new f.Event("data",{dataType:"style"}))})},$.prototype._validateLayer=function(q){var te=this.sourceCaches[q.source];if(te){var xe=q.sourceLayer;if(xe){var Pe=te.getSource();("geojson"===Pe.type||Pe.vectorLayerIds&&-1===Pe.vectorLayerIds.indexOf(xe))&&this.fire(new f.ErrorEvent(new Error('Source layer "'+xe+'" does not exist on source "'+Pe.id+'" as specified by style layer "'+q.id+'"')))}}},$.prototype.loaded=function(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(var q in this.sourceCaches)if(!this.sourceCaches[q].loaded())return!1;return!!this.imageManager.isLoaded()},$.prototype._serializeLayers=function(q){for(var te=[],xe=0,Pe=q;xe<Pe.length;xe+=1){var ie=this._layers[Pe[xe]];"custom"!==ie.type&&te.push(ie.serialize())}return te},$.prototype.hasTransitions=function(){if(this.light&&this.light.hasTransition())return!0;for(var q in this.sourceCaches)if(this.sourceCaches[q].hasTransition())return!0;for(var te in this._layers)if(this._layers[te].hasTransition())return!0;return!1},$.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},$.prototype.update=function(q){if(this._loaded){var te=this._changed;if(this._changed){var xe=Object.keys(this._updatedLayers),Pe=Object.keys(this._removedLayers);for(var U in(xe.length||Pe.length)&&this._updateWorkerLayers(xe,Pe),this._updatedSources){var ie=this._updatedSources[U];"reload"===ie?this._reloadSource(U):"clear"===ie&&this._clearSource(U)}for(var de in this._updateTilesForChangedImages(),this._updatedPaintProps)this._layers[de].updateTransitions(q);this.light.updateTransitions(q),this._resetUpdates()}for(var Te in this.sourceCaches)this.sourceCaches[Te].used=!1;for(var Ee=0,Fe=this._order;Ee<Fe.length;Ee+=1){var Xe=this._layers[Fe[Ee]];Xe.recalculate(q,this._availableImages),!Xe.isHidden(q.zoom)&&Xe.source&&(this.sourceCaches[Xe.source].used=!0)}this.light.recalculate(q),this.z=q.zoom,te&&this.fire(new f.Event("data",{dataType:"style"}))}},$.prototype._updateTilesForChangedImages=function(){var q=Object.keys(this._changedImages);if(q.length){for(var te in this.sourceCaches)this.sourceCaches[te].reloadTilesForDependencies(["icons","patterns"],q);this._changedImages={}}},$.prototype._updateWorkerLayers=function(q,te){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(q),removedIds:te})},$.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}},$.prototype.setState=function(q){var te=this;if(this._checkLoaded(),ir(this,f.validateStyle(q)))return!1;(q=f.clone$1(q)).layers=Rt(q.layers);var xe=function nn(V,$){if(!V)return[{command:bt.setStyle,args:[$]}];var q=[];try{if(!f.deepEqual(V.version,$.version))return[{command:bt.setStyle,args:[$]}];f.deepEqual(V.center,$.center)||q.push({command:bt.setCenter,args:[$.center]}),f.deepEqual(V.zoom,$.zoom)||q.push({command:bt.setZoom,args:[$.zoom]}),f.deepEqual(V.bearing,$.bearing)||q.push({command:bt.setBearing,args:[$.bearing]}),f.deepEqual(V.pitch,$.pitch)||q.push({command:bt.setPitch,args:[$.pitch]}),f.deepEqual(V.sprite,$.sprite)||q.push({command:bt.setSprite,args:[$.sprite]}),f.deepEqual(V.glyphs,$.glyphs)||q.push({command:bt.setGlyphs,args:[$.glyphs]}),f.deepEqual(V.transition,$.transition)||q.push({command:bt.setTransition,args:[$.transition]}),f.deepEqual(V.light,$.light)||q.push({command:bt.setLight,args:[$.light]});var te={},xe=[];!function(U,ie,de,Te){var Ee;for(Ee in ie=ie||{},U=U||{})U.hasOwnProperty(Ee)&&(ie.hasOwnProperty(Ee)||It(Ee,de,Te));for(Ee in ie)ie.hasOwnProperty(Ee)&&(U.hasOwnProperty(Ee)?f.deepEqual(U[Ee],ie[Ee])||("geojson"===U[Ee].type&&"geojson"===ie[Ee].type&&$t(U,ie,Ee)?de.push({command:bt.setGeoJSONSourceData,args:[Ee,ie[Ee].data]}):Wt(Ee,ie,de,Te)):Tt(Ee,ie,de))}(V.sources,$.sources,xe,te);var Pe=[];V.layers&&V.layers.forEach(function(U){te[U.source]?q.push({command:bt.removeLayer,args:[U.id]}):Pe.push(U)}),q=q.concat(xe),function(U,ie,de){ie=ie||[];var Te,Ee,Fe,Ye,Xe,Qe,nt,lt=(U=U||[]).map(pn),xt=ie.map(pn),Mt=U.reduce(en,{}),jt=ie.reduce(en,{}),Vt=lt.slice(),Bt=Object.create(null);for(Te=0,Ee=0;Te<lt.length;Te++)jt.hasOwnProperty(Fe=lt[Te])?Ee++:(de.push({command:bt.removeLayer,args:[Fe]}),Vt.splice(Vt.indexOf(Fe,Ee),1));for(Te=0,Ee=0;Te<xt.length;Te++)Vt[Vt.length-1-Te]!==(Fe=xt[xt.length-1-Te])&&(Mt.hasOwnProperty(Fe)?(de.push({command:bt.removeLayer,args:[Fe]}),Vt.splice(Vt.lastIndexOf(Fe,Vt.length-Ee),1)):Ee++,de.push({command:bt.addLayer,args:[jt[Fe],Qe=Vt[Vt.length-Te]]}),Vt.splice(Vt.length-Te,0,Fe),Bt[Fe]=!0);for(Te=0;Te<xt.length;Te++)if(Ye=Mt[Fe=xt[Te]],Xe=jt[Fe],!Bt[Fe]&&!f.deepEqual(Ye,Xe))if(f.deepEqual(Ye.source,Xe.source)&&f.deepEqual(Ye["source-layer"],Xe["source-layer"])&&f.deepEqual(Ye.type,Xe.type)){for(nt in Qt(Ye.layout,Xe.layout,de,Fe,null,bt.setLayoutProperty),Qt(Ye.paint,Xe.paint,de,Fe,null,bt.setPaintProperty),f.deepEqual(Ye.filter,Xe.filter)||de.push({command:bt.setFilter,args:[Fe,Xe.filter]}),f.deepEqual(Ye.minzoom,Xe.minzoom)&&f.deepEqual(Ye.maxzoom,Xe.maxzoom)||de.push({command:bt.setLayerZoomRange,args:[Fe,Xe.minzoom,Xe.maxzoom]}),Ye)Ye.hasOwnProperty(nt)&&"layout"!==nt&&"paint"!==nt&&"filter"!==nt&&"metadata"!==nt&&"minzoom"!==nt&&"maxzoom"!==nt&&(0===nt.indexOf("paint.")?Qt(Ye[nt],Xe[nt],de,Fe,nt.slice(6),bt.setPaintProperty):f.deepEqual(Ye[nt],Xe[nt])||de.push({command:bt.setLayerProperty,args:[Fe,nt,Xe[nt]]}));for(nt in Xe)Xe.hasOwnProperty(nt)&&!Ye.hasOwnProperty(nt)&&"layout"!==nt&&"paint"!==nt&&"filter"!==nt&&"metadata"!==nt&&"minzoom"!==nt&&"maxzoom"!==nt&&(0===nt.indexOf("paint.")?Qt(Ye[nt],Xe[nt],de,Fe,nt.slice(6),bt.setPaintProperty):f.deepEqual(Ye[nt],Xe[nt])||de.push({command:bt.setLayerProperty,args:[Fe,nt,Xe[nt]]}))}else de.push({command:bt.removeLayer,args:[Fe]}),Qe=Vt[Vt.lastIndexOf(Fe)+1],de.push({command:bt.addLayer,args:[Xe,Qe]})}(Pe,$.layers,q)}catch(U){console.warn("Unable to compute style diff:",U),q=[{command:bt.setStyle,args:[$]}]}return q}(this.serialize(),q).filter(function(U){return!(U.command in ur)});if(0===xe.length)return!1;var Pe=xe.filter(function(U){return!(U.command in _r)});if(Pe.length>0)throw new Error("Unimplemented: "+Pe.map(function(U){return U.command}).join(", ")+".");return xe.forEach(function(U){"setTransition"!==U.command&&te[U.command].apply(te,U.args)}),this.stylesheet=q,!0},$.prototype.addImage=function(q,te){if(this.getImage(q))return this.fire(new f.ErrorEvent(new Error("An image with this name already exists.")));this.imageManager.addImage(q,te),this._availableImages=this.imageManager.listImages(),this._changedImages[q]=!0,this._changed=!0,this.fire(new f.Event("data",{dataType:"style"}))},$.prototype.updateImage=function(q,te){this.imageManager.updateImage(q,te)},$.prototype.getImage=function(q){return this.imageManager.getImage(q)},$.prototype.removeImage=function(q){if(!this.getImage(q))return this.fire(new f.ErrorEvent(new Error("No image with this name exists.")));this.imageManager.removeImage(q),this._availableImages=this.imageManager.listImages(),this._changedImages[q]=!0,this._changed=!0,this.fire(new f.Event("data",{dataType:"style"}))},$.prototype.listImages=function(){return this._checkLoaded(),this.imageManager.listImages()},$.prototype.addSource=function(q,te,xe){var Pe=this;if(void 0===xe&&(xe={}),this._checkLoaded(),void 0!==this.sourceCaches[q])throw new Error("There is already a source with this ID");if(!te.type)throw new Error("The type property must be defined, but the only the following properties were given: "+Object.keys(te).join(", ")+".");if(!(["vector","raster","geojson","video","image"].indexOf(te.type)>=0&&this._validate(f.validateStyle.source,"sources."+q,te,null,xe))){this.map&&this.map._collectResourceTiming&&(te.collectResourceTiming=!0);var U=this.sourceCaches[q]=new gt(q,te,this.dispatcher);U.style=this,U.setEventedParent(this,function(){return{isSourceLoaded:Pe.loaded(),source:U.serialize(),sourceId:q}}),U.onAdd(this.map),this._changed=!0}},$.prototype.removeSource=function(q){if(this._checkLoaded(),void 0===this.sourceCaches[q])throw new Error("There is no source with this ID");for(var te in this._layers)if(this._layers[te].source===q)return this.fire(new f.ErrorEvent(new Error('Source "'+q+'" cannot be removed while layer "'+te+'" is using it.')));var xe=this.sourceCaches[q];delete this.sourceCaches[q],delete this._updatedSources[q],xe.fire(new f.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:q})),xe.setEventedParent(null),xe.clearTiles(),xe.onRemove&&xe.onRemove(this.map),this._changed=!0},$.prototype.setGeoJSONSourceData=function(q,te){this._checkLoaded(),this.sourceCaches[q].getSource().setData(te),this._changed=!0},$.prototype.getSource=function(q){return this.sourceCaches[q]&&this.sourceCaches[q].getSource()},$.prototype.addLayer=function(q,te,xe){void 0===xe&&(xe={}),this._checkLoaded();var Pe=q.id;if(this.getLayer(Pe))this.fire(new f.ErrorEvent(new Error('Layer with id "'+Pe+'" already exists on this map')));else{var U;if("custom"===q.type){if(ir(this,f.validateCustomStyleLayer(q)))return;U=f.createStyleLayer(q)}else{if("object"==typeof q.source&&(this.addSource(Pe,q.source),q=f.clone$1(q),q=f.extend(q,{source:Pe})),this._validate(f.validateStyle.layer,"layers."+Pe,q,{arrayIndex:-1},xe))return;U=f.createStyleLayer(q),this._validateLayer(U),U.setEventedParent(this,{layer:{id:Pe}}),this._serializedLayers[U.id]=U.serialize()}var ie=te?this._order.indexOf(te):this._order.length;if(te&&-1===ie)this.fire(new f.ErrorEvent(new Error('Layer with id "'+te+'" does not exist on this map.')));else{if(this._order.splice(ie,0,Pe),this._layerOrderChanged=!0,this._layers[Pe]=U,this._removedLayers[Pe]&&U.source&&"custom"!==U.type){var de=this._removedLayers[Pe];delete this._removedLayers[Pe],de.type!==U.type?this._updatedSources[U.source]="clear":(this._updatedSources[U.source]="reload",this.sourceCaches[U.source].pause())}this._updateLayer(U),U.onAdd&&U.onAdd(this.map)}}},$.prototype.moveLayer=function(q,te){if(this._checkLoaded(),this._changed=!0,this._layers[q]){if(q!==te){var xe=this._order.indexOf(q);this._order.splice(xe,1);var Pe=te?this._order.indexOf(te):this._order.length;te&&-1===Pe?this.fire(new f.ErrorEvent(new Error('Layer with id "'+te+'" does not exist on this map.'))):(this._order.splice(Pe,0,q),this._layerOrderChanged=!0)}}else this.fire(new f.ErrorEvent(new Error("The layer '"+q+"' does not exist in the map's style and cannot be moved.")))},$.prototype.removeLayer=function(q){this._checkLoaded();var te=this._layers[q];if(te){te.setEventedParent(null);var xe=this._order.indexOf(q);this._order.splice(xe,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[q]=te,delete this._layers[q],delete this._serializedLayers[q],delete this._updatedLayers[q],delete this._updatedPaintProps[q],te.onRemove&&te.onRemove(this.map)}else this.fire(new f.ErrorEvent(new Error("The layer '"+q+"' does not exist in the map's style and cannot be removed.")))},$.prototype.getLayer=function(q){return this._layers[q]},$.prototype.hasLayer=function(q){return q in this._layers},$.prototype.setLayerZoomRange=function(q,te,xe){this._checkLoaded();var Pe=this.getLayer(q);Pe?Pe.minzoom===te&&Pe.maxzoom===xe||(null!=te&&(Pe.minzoom=te),null!=xe&&(Pe.maxzoom=xe),this._updateLayer(Pe)):this.fire(new f.ErrorEvent(new Error("The layer '"+q+"' does not exist in the map's style and cannot have zoom extent.")))},$.prototype.setFilter=function(q,te,xe){void 0===xe&&(xe={}),this._checkLoaded();var Pe=this.getLayer(q);if(Pe){if(!f.deepEqual(Pe.filter,te))return null==te?(Pe.filter=void 0,void this._updateLayer(Pe)):void(this._validate(f.validateStyle.filter,"layers."+Pe.id+".filter",te,null,xe)||(Pe.filter=f.clone$1(te),this._updateLayer(Pe)))}else this.fire(new f.ErrorEvent(new Error("The layer '"+q+"' does not exist in the map's style and cannot be filtered.")))},$.prototype.getFilter=function(q){return f.clone$1(this.getLayer(q).filter)},$.prototype.setLayoutProperty=function(q,te,xe,Pe){void 0===Pe&&(Pe={}),this._checkLoaded();var U=this.getLayer(q);U?f.deepEqual(U.getLayoutProperty(te),xe)||(U.setLayoutProperty(te,xe,Pe),this._updateLayer(U)):this.fire(new f.ErrorEvent(new Error("The layer '"+q+"' does not exist in the map's style and cannot be styled.")))},$.prototype.getLayoutProperty=function(q,te){var xe=this.getLayer(q);if(xe)return xe.getLayoutProperty(te);this.fire(new f.ErrorEvent(new Error("The layer '"+q+"' does not exist in the map's style.")))},$.prototype.setPaintProperty=function(q,te,xe,Pe){void 0===Pe&&(Pe={}),this._checkLoaded();var U=this.getLayer(q);U?f.deepEqual(U.getPaintProperty(te),xe)||(U.setPaintProperty(te,xe,Pe)&&this._updateLayer(U),this._changed=!0,this._updatedPaintProps[q]=!0):this.fire(new f.ErrorEvent(new Error("The layer '"+q+"' does not exist in the map's style and cannot be styled.")))},$.prototype.getPaintProperty=function(q,te){return this.getLayer(q).getPaintProperty(te)},$.prototype.setFeatureState=function(q,te){this._checkLoaded();var xe=q.source,Pe=q.sourceLayer,U=this.sourceCaches[xe];if(void 0!==U){var ie=U.getSource().type;"geojson"===ie&&Pe?this.fire(new f.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):"vector"!==ie||Pe?(void 0===q.id&&this.fire(new f.ErrorEvent(new Error("The feature id parameter must be provided."))),U.setFeatureState(Pe,q.id,te)):this.fire(new f.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new f.ErrorEvent(new Error("The source '"+xe+"' does not exist in the map's style.")))},$.prototype.removeFeatureState=function(q,te){this._checkLoaded();var xe=q.source,Pe=this.sourceCaches[xe];if(void 0!==Pe){var U=Pe.getSource().type,ie="vector"===U?q.sourceLayer:void 0;"vector"!==U||ie?te&&"string"!=typeof q.id&&"number"!=typeof q.id?this.fire(new f.ErrorEvent(new Error("A feature id is requred to remove its specific state property."))):Pe.removeFeatureState(ie,q.id,te):this.fire(new f.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new f.ErrorEvent(new Error("The source '"+xe+"' does not exist in the map's style.")))},$.prototype.getFeatureState=function(q){this._checkLoaded();var te=q.source,xe=q.sourceLayer,Pe=this.sourceCaches[te];if(void 0!==Pe){if("vector"!==Pe.getSource().type||xe)return void 0===q.id&&this.fire(new f.ErrorEvent(new Error("The feature id parameter must be provided."))),Pe.getFeatureState(xe,q.id);this.fire(new f.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new f.ErrorEvent(new Error("The source '"+te+"' does not exist in the map's style.")))},$.prototype.getTransition=function(){return f.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},$.prototype.serialize=function(){return f.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:f.mapObject(this.sourceCaches,function(q){return q.serialize()}),layers:this._serializeLayers(this._order)},function(q){return void 0!==q})},$.prototype._updateLayer=function(q){this._updatedLayers[q.id]=!0,q.source&&!this._updatedSources[q.source]&&"raster"!==this.sourceCaches[q.source].getSource().type&&(this._updatedSources[q.source]="reload",this.sourceCaches[q.source].pause()),this._changed=!0},$.prototype._flattenAndSortRenderedFeatures=function(q){for(var te=this,xe=function(rn){return"fill-extrusion"===te._layers[rn].type},Pe={},U=[],ie=this._order.length-1;ie>=0;ie--){var de=this._order[ie];if(xe(de)){Pe[de]=ie;for(var Te=0,Ee=q;Te<Ee.length;Te+=1){var Fe=Ee[Te][de];if(Fe)for(var Ye=0,Xe=Fe;Ye<Xe.length;Ye+=1)U.push(Xe[Ye])}}}U.sort(function(rn,In){return In.intersectionZ-rn.intersectionZ});for(var nt=[],lt=this._order.length-1;lt>=0;lt--){var xt=this._order[lt];if(xe(xt))for(var Mt=U.length-1;Mt>=0;Mt--){var jt=U[Mt].feature;if(Pe[jt.layer.id]<lt)break;nt.push(jt),U.pop()}else for(var Vt=0,Bt=q;Vt<Bt.length;Vt+=1){var Xt=Bt[Vt][xt];if(Xt)for(var Ut=0,mn=Xt;Ut<mn.length;Ut+=1)nt.push(mn[Ut].feature)}}return nt},$.prototype.queryRenderedFeatures=function(q,te,xe){te&&te.filter&&this._validate(f.validateStyle.filter,"queryRenderedFeatures.filter",te.filter,null,te);var Pe={};if(te&&te.layers){if(!Array.isArray(te.layers))return this.fire(new f.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(var U=0,ie=te.layers;U<ie.length;U+=1){var de=ie[U],Te=this._layers[de];if(!Te)return this.fire(new f.ErrorEvent(new Error("The layer '"+de+"' does not exist in the map's style and cannot be queried for features."))),[];Pe[Te.source]=!0}}var Ee=[];for(var Fe in te.availableImages=this._availableImages,this.sourceCaches)te.layers&&!Pe[Fe]||Ee.push(ne(this.sourceCaches[Fe],this._layers,this._serializedLayers,q,te,xe));return this.placement&&Ee.push(function(Ye,Xe,Qe,nt,lt,xt,Mt){for(var jt={},Vt=xt.queryRenderedSymbols(nt),Bt=[],Xt=0,Ut=Object.keys(Vt).map(Number);Xt<Ut.length;Xt+=1)Bt.push(Mt[Ut[Xt]]);Bt.sort(Q);for(var sn=function(){var rr=In[rn],pr=rr.featureIndex.lookupSymbolFeatures(Vt[rr.bucketInstanceId],Xe,rr.bucketIndex,rr.sourceLayerIndex,lt.filter,lt.layers,lt.availableImages,Ye);for(var yr in pr){var Er=jt[yr]=jt[yr]||[],Sr=pr[yr];Sr.sort(function(cr,Ar){var Nr=rr.featureSortOrder;if(Nr){var Wr=Nr.indexOf(cr.featureIndex);return Nr.indexOf(Ar.featureIndex)-Wr}return Ar.featureIndex-cr.featureIndex});for(var Rr=0,qr=Sr;Rr<qr.length;Rr+=1)Er.push(qr[Rr])}},rn=0,In=Bt;rn<In.length;rn+=1)sn();var Pn=function(rr){jt[rr].forEach(function(pr){var yr=pr.feature,Sr=Qe[Ye[rr].source].getFeatureState(yr.layer["source-layer"],yr.id);yr.source=yr.layer.source,yr.layer["source-layer"]&&(yr.sourceLayer=yr.layer["source-layer"]),yr.state=Sr})};for(var tr in jt)Pn(tr);return jt}(this._layers,this._serializedLayers,this.sourceCaches,q,te,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(Ee)},$.prototype.querySourceFeatures=function(q,te){te&&te.filter&&this._validate(f.validateStyle.filter,"querySourceFeatures.filter",te.filter,null,te);var xe=this.sourceCaches[q];return xe?function(Pe,U){for(var ie=Pe.getRenderableIds().map(function(Xe){return Pe.getTileByID(Xe)}),de=[],Te={},Ee=0;Ee<ie.length;Ee++){var Fe=ie[Ee],Ye=Fe.tileID.canonical.key;Te[Ye]||(Te[Ye]=!0,Fe.querySourceFeatures(de,U))}return de}(xe,te):[]},$.prototype.addSourceType=function(q,te,xe){return $.getSourceType(q)?xe(new Error('A source type called "'+q+'" already exists.')):($.setSourceType(q,te),te.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:q,url:te.workerSourceURL},xe):xe(null,null))},$.prototype.getLight=function(){return this.light.getLight()},$.prototype.setLight=function(q,te){void 0===te&&(te={}),this._checkLoaded();var xe=this.light.getLight(),Pe=!1;for(var U in q)if(!f.deepEqual(q[U],xe[U])){Pe=!0;break}if(Pe){var ie={now:f.browser.now(),transition:f.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(q,te),this.light.updateTransitions(ie)}},$.prototype._validate=function(q,te,xe,Pe,U){return void 0===U&&(U={}),(!U||!1!==U.validate)&&ir(this,q.call(f.validateStyle,f.extend({key:te,style:this.serialize(),value:xe,styleSpec:f.styleSpec},Pe)))},$.prototype._remove=function(){for(var q in this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),f.evented.off("pluginStateChange",this._rtlTextPluginCallback),this._layers)this._layers[q].setEventedParent(null);for(var te in this.sourceCaches)this.sourceCaches[te].clearTiles(),this.sourceCaches[te].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()},$.prototype._clearSource=function(q){this.sourceCaches[q].clearTiles()},$.prototype._reloadSource=function(q){this.sourceCaches[q].resume(),this.sourceCaches[q].reload()},$.prototype._updateSources=function(q){for(var te in this.sourceCaches)this.sourceCaches[te].update(q)},$.prototype._generateCollisionBoxes=function(){for(var q in this.sourceCaches)this._reloadSource(q)},$.prototype._updatePlacement=function(q,te,xe,Pe,U){void 0===U&&(U=!1);for(var ie=!1,de=!1,Te={},Ee=0,Fe=this._order;Ee<Fe.length;Ee+=1){var Xe=this._layers[Fe[Ee]];if("symbol"===Xe.type){if(!Te[Xe.source]){var Qe=this.sourceCaches[Xe.source];Te[Xe.source]=Qe.getRenderableIds(!0).map(function(Vt){return Qe.getTileByID(Vt)}).sort(function(Vt,Bt){return Bt.tileID.overscaledZ-Vt.tileID.overscaledZ||(Vt.tileID.isLessThan(Bt.tileID)?-1:1)})}var nt=this.crossTileSymbolIndex.addLayer(Xe,Te[Xe.source],q.center.lng);ie=ie||nt}}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((U=U||this._layerOrderChanged||0===xe)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(f.browser.now(),q.zoom))&&(this.pauseablePlacement=new cn(q,this._order,U,te,xe,Pe,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,Te),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(f.browser.now()),de=!0),ie&&this.pauseablePlacement.placement.setStale()),de||ie)for(var lt=0,xt=this._order;lt<xt.length;lt+=1){var jt=this._layers[xt[lt]];"symbol"===jt.type&&this.placement.updateLayerOpacities(jt,Te[jt.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(f.browser.now())},$.prototype._releaseSymbolFadeTiles=function(){for(var q in this.sourceCaches)this.sourceCaches[q].releaseSymbolFadeTiles()},$.prototype.getImages=function(q,te,xe){this.imageManager.getImages(te.icons,xe),this._updateTilesForChangedImages();var Pe=this.sourceCaches[te.source];Pe&&Pe.setDependencies(te.tileID.key,te.type,te.icons)},$.prototype.getGlyphs=function(q,te,xe){this.glyphManager.getGlyphs(te.stacks,xe)},$.prototype.getResource=function(q,te,xe){return f.makeRequest(te,xe)},$}(f.Evented);Tr.getSourceType=function(V){return se[V]},Tr.setSourceType=function(V,$){se[V]=$},Tr.registerForPluginStateChange=f.registerForPluginStateChange;var Mr=f.createLayout([{name:"a_pos",type:"Int16",components:2}]),Or=Vi("#ifdef GL_ES\nprecision mediump float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif","#ifdef GL_ES\nprecision highp float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif\nvec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0\n);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}"),Qn=Vi("uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),Yr=Vi("uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),nr=Vi("varying vec3 v_data;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main(void) {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,0,1);} else {gl_Position=u_matrix*vec4(circle_center,0,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}"),Fr=Vi("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),ri=Vi("uniform highp float u_intensity;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#define GAUSS_COEF 0.3989422804014327\nvoid main() {\n#pragma mapbox: initialize highp float weight\nfloat d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#pragma mapbox: define mediump float radius\nconst highp float ZERO=1.0/255.0/16.0;\n#define GAUSS_COEF 0.3989422804014327\nvoid main(void) {\n#pragma mapbox: initialize highp float weight\n#pragma mapbox: initialize mediump float radius\nvec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}"),$i=Vi("uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(0.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),uo=Vi("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),to=Vi("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),oo=Vi("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,0,1);}"),Qi=Vi("#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_FragColor=color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);}"),Io=Vi("varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),Ys=Vi("uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),di=Vi("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}"),Fs=Vi("varying vec4 v_color;void main() {gl_FragColor=v_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec4 v_color;\n#pragma mapbox: define highp float base\n#pragma mapbox: define highp float height\n#pragma mapbox: define highp vec4 color\nvoid main() {\n#pragma mapbox: initialize highp float base\n#pragma mapbox: initialize highp float height\n#pragma mapbox: initialize highp vec4 color\nvec3 normal=a_normal_ed.xyz;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}"),tc=Vi("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0\n? a_pos\n: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}"),ca=Vi("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform float u_maxzoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggeration=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/ pow(2.0,(u_zoom-u_maxzoom)*exaggeration+19.2562-u_zoom);gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),lu=Vi("uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;\n#define PI 3.141592653589793\nvoid main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),nf=Vi("uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}"),ji=Vi("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp float v_lineprogress;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,vec2(v_lineprogress,0.5));gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define MAX_LINE_DISTANCE 32767.0\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_lineprogress;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_lineprogress=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0/MAX_LINE_DISTANCE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}"),Rf=Vi("uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}"),uu=Vi("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}"),$r=Vi("uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),Cs=Vi("uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nlowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),0.0,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));}"),jo=Vi("#define SDF_PX 8.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}"),cu=Vi("#define SDF_PX 8.0\n#define SDF 1.0\n#define ICON 0.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\nreturn;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}");function Vi(V,$){var q=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,te={};return{fragmentSource:V=V.replace(q,function(xe,Pe,U,ie,de){return te[de]=!0,"define"===Pe?"\n#ifndef HAS_UNIFORM_u_"+de+"\nvarying "+U+" "+ie+" "+de+";\n#else\nuniform "+U+" "+ie+" u_"+de+";\n#endif\n":"\n#ifdef HAS_UNIFORM_u_"+de+"\n    "+U+" "+ie+" "+de+" = u_"+de+";\n#endif\n"}),vertexSource:$=$.replace(q,function(xe,Pe,U,ie,de){var Te="float"===ie?"vec2":"vec4",Ee=de.match(/color/)?"color":Te;return te[de]?"define"===Pe?"\n#ifndef HAS_UNIFORM_u_"+de+"\nuniform lowp float u_"+de+"_t;\nattribute "+U+" "+Te+" a_"+de+";\nvarying "+U+" "+ie+" "+de+";\n#else\nuniform "+U+" "+ie+" u_"+de+";\n#endif\n":"vec4"===Ee?"\n#ifndef HAS_UNIFORM_u_"+de+"\n    "+de+" = a_"+de+";\n#else\n    "+U+" "+ie+" "+de+" = u_"+de+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+de+"\n    "+de+" = unpack_mix_"+Ee+"(a_"+de+", u_"+de+"_t);\n#else\n    "+U+" "+ie+" "+de+" = u_"+de+";\n#endif\n":"define"===Pe?"\n#ifndef HAS_UNIFORM_u_"+de+"\nuniform lowp float u_"+de+"_t;\nattribute "+U+" "+Te+" a_"+de+";\n#else\nuniform "+U+" "+ie+" u_"+de+";\n#endif\n":"vec4"===Ee?"\n#ifndef HAS_UNIFORM_u_"+de+"\n    "+U+" "+ie+" "+de+" = a_"+de+";\n#else\n    "+U+" "+ie+" "+de+" = u_"+de+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+de+"\n    "+U+" "+ie+" "+de+" = unpack_mix_"+Ee+"(a_"+de+", u_"+de+"_t);\n#else\n    "+U+" "+ie+" "+de+" = u_"+de+";\n#endif\n"})}}var Zs=Object.freeze({__proto__:null,prelude:Or,background:Qn,backgroundPattern:Yr,circle:nr,clippingMask:Fr,heatmap:ri,heatmapTexture:$i,collisionBox:uo,collisionCircle:to,debug:oo,fill:Qi,fillOutline:Io,fillOutlinePattern:Ys,fillPattern:di,fillExtrusion:Fs,fillExtrusionPattern:tc,hillshadePrepare:ca,hillshade:lu,line:nf,lineGradient:ji,linePattern:Rf,lineSDF:uu,raster:$r,symbolIcon:Cs,symbolSDF:jo,symbolTextAndIcon:cu}),Wa=function(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null};Wa.prototype.bind=function(V,$,q,te,xe,Pe,U,ie){this.context=V;for(var de=this.boundPaintVertexBuffers.length!==te.length,Te=0;!de&&Te<te.length;Te++)this.boundPaintVertexBuffers[Te]!==te[Te]&&(de=!0);V.extVertexArrayObject&&this.vao&&this.boundProgram===$&&this.boundLayoutVertexBuffer===q&&!de&&this.boundIndexBuffer===xe&&this.boundVertexOffset===Pe&&this.boundDynamicVertexBuffer===U&&this.boundDynamicVertexBuffer2===ie?(V.bindVertexArrayOES.set(this.vao),U&&U.bind(),xe&&xe.dynamicDraw&&xe.bind(),ie&&ie.bind()):this.freshBind($,q,te,xe,Pe,U,ie)},Wa.prototype.freshBind=function(V,$,q,te,xe,Pe,U){var ie,de=V.numAttributes,Te=this.context,Ee=Te.gl;if(Te.extVertexArrayObject)this.vao&&this.destroy(),this.vao=Te.extVertexArrayObject.createVertexArrayOES(),Te.bindVertexArrayOES.set(this.vao),ie=0,this.boundProgram=V,this.boundLayoutVertexBuffer=$,this.boundPaintVertexBuffers=q,this.boundIndexBuffer=te,this.boundVertexOffset=xe,this.boundDynamicVertexBuffer=Pe,this.boundDynamicVertexBuffer2=U;else{ie=Te.currentNumAttributes||0;for(var Fe=de;Fe<ie;Fe++)Ee.disableVertexAttribArray(Fe)}$.enableAttributes(Ee,V);for(var Ye=0,Xe=q;Ye<Xe.length;Ye+=1)Xe[Ye].enableAttributes(Ee,V);Pe&&Pe.enableAttributes(Ee,V),U&&U.enableAttributes(Ee,V),$.bind(),$.setVertexAttribPointers(Ee,V,xe);for(var Qe=0,nt=q;Qe<nt.length;Qe+=1){var lt=nt[Qe];lt.bind(),lt.setVertexAttribPointers(Ee,V,xe)}Pe&&(Pe.bind(),Pe.setVertexAttribPointers(Ee,V,xe)),te&&te.bind(),U&&(U.bind(),U.setVertexAttribPointers(Ee,V,xe)),Te.currentNumAttributes=de},Wa.prototype.destroy=function(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)};var El=function(V,$,q,te,xe){var Pe=V.gl;this.program=Pe.createProgram();var U=q?q.defines():[];xe&&U.push("#define OVERDRAW_INSPECTOR;");var ie=U.concat(Or.fragmentSource,$.fragmentSource).join("\n"),de=U.concat(Or.vertexSource,$.vertexSource).join("\n"),Te=Pe.createShader(Pe.FRAGMENT_SHADER);if(Pe.isContextLost())this.failedToCreate=!0;else{Pe.shaderSource(Te,ie),Pe.compileShader(Te),Pe.attachShader(this.program,Te);var Ee=Pe.createShader(Pe.VERTEX_SHADER);if(Pe.isContextLost())this.failedToCreate=!0;else{Pe.shaderSource(Ee,de),Pe.compileShader(Ee),Pe.attachShader(this.program,Ee);for(var Fe=q?q.layoutAttributes:[],Ye=0;Ye<Fe.length;Ye++)Pe.bindAttribLocation(this.program,Ye,Fe[Ye].name);Pe.linkProgram(this.program),Pe.deleteShader(Ee),Pe.deleteShader(Te),this.numAttributes=Pe.getProgramParameter(this.program,Pe.ACTIVE_ATTRIBUTES),this.attributes={};for(var Xe={},Qe=0;Qe<this.numAttributes;Qe++){var nt=Pe.getActiveAttrib(this.program,Qe);nt&&(this.attributes[nt.name]=Pe.getAttribLocation(this.program,nt.name))}for(var lt=Pe.getProgramParameter(this.program,Pe.ACTIVE_UNIFORMS),xt=0;xt<lt;xt++){var Mt=Pe.getActiveUniform(this.program,xt);Mt&&(Xe[Mt.name]=Pe.getUniformLocation(this.program,Mt.name))}this.fixedUniforms=te(V,Xe),this.binderUniforms=q?q.getUniforms(V,Xe):[]}}};function Xs(V,$,q){var te=1/mr(q,1,$.transform.tileZoom),xe=Math.pow(2,q.tileID.overscaledZ),Pe=q.tileSize*Math.pow(2,$.transform.tileZoom)/xe,U=Pe*(q.tileID.canonical.x+q.tileID.wrap*xe),ie=Pe*q.tileID.canonical.y;return{u_image:0,u_texsize:q.imageAtlasTexture.size,u_scale:[te,V.fromScale,V.toScale],u_fade:V.t,u_pixel_coord_upper:[U>>16,ie>>16],u_pixel_coord_lower:[65535&U,65535&ie]}}El.prototype.draw=function(V,$,q,te,xe,Pe,U,ie,de,Te,Ee,Fe,Ye,Xe,Qe,nt){var lt,xt=V.gl;if(!this.failedToCreate){for(var Mt in V.program.set(this.program),V.setDepthMode(q),V.setStencilMode(te),V.setColorMode(xe),V.setCullFace(Pe),this.fixedUniforms)this.fixedUniforms[Mt].set(U[Mt]);Xe&&Xe.setUniforms(V,this.binderUniforms,Fe,{zoom:Ye});for(var jt=(lt={},lt[xt.LINES]=2,lt[xt.TRIANGLES]=3,lt[xt.LINE_STRIP]=1,lt)[$],Vt=0,Bt=Ee.get();Vt<Bt.length;Vt+=1){var Xt=Bt[Vt],Ut=Xt.vaos||(Xt.vaos={});(Ut[ie]||(Ut[ie]=new Wa)).bind(V,this,de,Xe?Xe.getPaintVertexBuffers():[],Te,Xt.vertexOffset,Qe,nt),xt.drawElements($,Xt.primitiveLength*jt,xt.UNSIGNED_SHORT,Xt.primitiveOffset*jt*2)}}};var Wl=function(V,$,q,te){var xe=$.style.light,Pe=xe.properties.get("position"),U=[Pe.x,Pe.y,Pe.z],ie=f.create$1();"viewport"===xe.properties.get("anchor")&&f.fromRotation(ie,-$.transform.angle),f.transformMat3(U,U,ie);var de=xe.properties.get("color");return{u_matrix:V,u_lightpos:U,u_lightintensity:xe.properties.get("intensity"),u_lightcolor:[de.r,de.g,de.b],u_vertical_gradient:+q,u_opacity:te}},Cl=function(V,$,q,te,xe,Pe,U){return f.extend(Wl(V,$,q,te),Xs(Pe,$,U),{u_height_factor:-Math.pow(2,xe.overscaledZ)/U.tileSize/8})},Dl=function(V){return{u_matrix:V}},Il=function(V,$,q,te){return f.extend(Dl(V),Xs(q,$,te))},nc=function(V,$){return{u_matrix:V,u_world:$}},zs=function(V,$,q,te,xe){return f.extend(Il(V,$,q,te),{u_world:xe})},rf=function(V,$,q,te){var xe,Pe,U=V.transform;if("map"===te.paint.get("circle-pitch-alignment")){var ie=mr(q,1,U.zoom);xe=!0,Pe=[ie,ie]}else xe=!1,Pe=U.pixelsToGLUnits;return{u_camera_to_center_distance:U.cameraToCenterDistance,u_scale_with_map:+("map"===te.paint.get("circle-pitch-scale")),u_matrix:V.translatePosMatrix($.posMatrix,q,te.paint.get("circle-translate"),te.paint.get("circle-translate-anchor")),u_pitch_with_map:+xe,u_device_pixel_ratio:f.browser.devicePixelRatio,u_extrude_scale:Pe}},Mc=function(V,$,q){var te=mr(q,1,$.zoom),xe=Math.pow(2,$.zoom-q.tileID.overscaledZ),Pe=q.tileID.overscaleFactor();return{u_matrix:V,u_camera_to_center_distance:$.cameraToCenterDistance,u_pixels_to_tile_units:te,u_extrude_scale:[$.pixelsToGLUnits[0]/(te*xe),$.pixelsToGLUnits[1]/(te*xe)],u_overscale_factor:Pe}},af=function(V,$,q){return{u_matrix:V,u_inv_matrix:$,u_camera_to_center_distance:q.cameraToCenterDistance,u_viewport_size:[q.width,q.height]}},rc=function(V,$,q){return void 0===q&&(q=1),{u_matrix:V,u_color:$,u_overlay:0,u_overlay_scale:q}},$l=function(V){return{u_matrix:V}},fu=function(V,$,q,te){return{u_matrix:V,u_extrude_scale:mr($,1,q),u_intensity:te}},Ru=function(V,$,q){var te=V.transform;return{u_matrix:Js(V,$,q),u_ratio:1/mr($,1,te.zoom),u_device_pixel_ratio:f.browser.devicePixelRatio,u_units_to_pixels:[1/te.pixelsToGLUnits[0],1/te.pixelsToGLUnits[1]]}},Br=function(V,$,q){return f.extend(Ru(V,$,q),{u_image:0})},du=function(V,$,q,te){var xe=V.transform,Pe=Bs($,xe);return{u_matrix:Js(V,$,q),u_texsize:$.imageAtlasTexture.size,u_ratio:1/mr($,1,xe.zoom),u_device_pixel_ratio:f.browser.devicePixelRatio,u_image:0,u_scale:[Pe,te.fromScale,te.toScale],u_fade:te.t,u_units_to_pixels:[1/xe.pixelsToGLUnits[0],1/xe.pixelsToGLUnits[1]]}},is=function(V,$,q,te,xe){var U=V.lineAtlas,ie=Bs($,V.transform),de="round"===q.layout.get("line-cap"),Te=U.getDash(te.from,de),Ee=U.getDash(te.to,de),Fe=Te.width*xe.fromScale,Ye=Ee.width*xe.toScale;return f.extend(Ru(V,$,q),{u_patternscale_a:[ie/Fe,-Te.height/2],u_patternscale_b:[ie/Ye,-Ee.height/2],u_sdfgamma:U.width/(256*Math.min(Fe,Ye)*f.browser.devicePixelRatio)/2,u_image:0,u_tex_y_a:Te.y,u_tex_y_b:Ee.y,u_mix:xe.t})};function Bs(V,$){return 1/mr(V,1,$.tileZoom)}function Js(V,$,q){return V.translatePosMatrix($.tileID.posMatrix,$,q.paint.get("line-translate"),q.paint.get("line-translate-anchor"))}var cl=function(V,$,q,te,xe){return{u_matrix:V,u_tl_parent:$,u_scale_parent:q,u_buffer_scale:1,u_fade_t:te.mix,u_opacity:te.opacity*xe.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:xe.paint.get("raster-brightness-min"),u_brightness_high:xe.paint.get("raster-brightness-max"),u_saturation_factor:(U=xe.paint.get("raster-saturation"),U>0?1-1/(1.001-U):-U),u_contrast_factor:(Pe=xe.paint.get("raster-contrast"),Pe>0?1/(1-Pe):1+Pe),u_spin_weights:sf(xe.paint.get("raster-hue-rotate"))};var Pe,U};function sf(V){V*=Math.PI/180;var $=Math.sin(V),q=Math.cos(V);return[(2*q+1)/3,(-Math.sqrt(3)*$-q+1)/3,(Math.sqrt(3)*$-q+1)/3]}var Fa,Yi=function(V,$,q,te,xe,Pe,U,ie,de,Te){var Ee=xe.transform;return{u_is_size_zoom_constant:+("constant"===V||"source"===V),u_is_size_feature_constant:+("constant"===V||"camera"===V),u_size_t:$?$.uSizeT:0,u_size:$?$.uSize:0,u_camera_to_center_distance:Ee.cameraToCenterDistance,u_pitch:Ee.pitch/360*2*Math.PI,u_rotate_symbol:+q,u_aspect_ratio:Ee.width/Ee.height,u_fade_change:xe.options.fadeDuration?xe.symbolFadeChange:1,u_matrix:Pe,u_label_plane_matrix:U,u_coord_matrix:ie,u_is_text:+de,u_pitch_with_map:+te,u_texsize:Te,u_texture:0}},Qo=function(V,$,q,te,xe,Pe,U,ie,de,Te,Ee){var Fe=xe.transform;return f.extend(Yi(V,$,q,te,xe,Pe,U,ie,de,Te),{u_gamma_scale:te?Math.cos(Fe._pitch)*Fe.cameraToCenterDistance:1,u_device_pixel_ratio:f.browser.devicePixelRatio,u_is_halo:+Ee})},os=function(V,$,q,te,xe,Pe,U,ie,de,Te){return f.extend(Qo(V,$,q,te,xe,Pe,U,ie,!0,de,!0),{u_texsize_icon:Te,u_texture_icon:1})},Mi=function(V,$,q){return{u_matrix:V,u_opacity:$,u_color:q}},Ks=function(V,$,q,te,xe,Pe){return f.extend((ie=Pe,Te=xe,Ee=(de=q).imageManager.getPattern((U=te).from.toString()),Fe=de.imageManager.getPattern(U.to.toString()),Xe=(Ye=de.imageManager.getPixelSize()).width,Qe=Ye.height,nt=Math.pow(2,Te.tileID.overscaledZ),xt=(lt=Te.tileSize*Math.pow(2,de.transform.tileZoom)/nt)*(Te.tileID.canonical.x+Te.tileID.wrap*nt),Mt=lt*Te.tileID.canonical.y,{u_image:0,u_pattern_tl_a:Ee.tl,u_pattern_br_a:Ee.br,u_pattern_tl_b:Fe.tl,u_pattern_br_b:Fe.br,u_texsize:[Xe,Qe],u_mix:ie.t,u_pattern_size_a:Ee.displaySize,u_pattern_size_b:Fe.displaySize,u_scale_a:ie.fromScale,u_scale_b:ie.toScale,u_tile_units_to_pixels:1/mr(Te,1,de.transform.tileZoom),u_pixel_coord_upper:[xt>>16,Mt>>16],u_pixel_coord_lower:[65535&xt,65535&Mt]}),{u_matrix:V,u_opacity:$});var U,ie,de,Te,Ee,Fe,Ye,Xe,Qe,nt,lt,xt,Mt},Ac={fillExtrusion:function(V,$){return{u_matrix:new f.UniformMatrix4f(V,$.u_matrix),u_lightpos:new f.Uniform3f(V,$.u_lightpos),u_lightintensity:new f.Uniform1f(V,$.u_lightintensity),u_lightcolor:new f.Uniform3f(V,$.u_lightcolor),u_vertical_gradient:new f.Uniform1f(V,$.u_vertical_gradient),u_opacity:new f.Uniform1f(V,$.u_opacity)}},fillExtrusionPattern:function(V,$){return{u_matrix:new f.UniformMatrix4f(V,$.u_matrix),u_lightpos:new f.Uniform3f(V,$.u_lightpos),u_lightintensity:new f.Uniform1f(V,$.u_lightintensity),u_lightcolor:new f.Uniform3f(V,$.u_lightcolor),u_vertical_gradient:new f.Uniform1f(V,$.u_vertical_gradient),u_height_factor:new f.Uniform1f(V,$.u_height_factor),u_image:new f.Uniform1i(V,$.u_image),u_texsize:new f.Uniform2f(V,$.u_texsize),u_pixel_coord_upper:new f.Uniform2f(V,$.u_pixel_coord_upper),u_pixel_coord_lower:new f.Uniform2f(V,$.u_pixel_coord_lower),u_scale:new f.Uniform3f(V,$.u_scale),u_fade:new f.Uniform1f(V,$.u_fade),u_opacity:new f.Uniform1f(V,$.u_opacity)}},fill:function(V,$){return{u_matrix:new f.UniformMatrix4f(V,$.u_matrix)}},fillPattern:function(V,$){return{u_matrix:new f.UniformMatrix4f(V,$.u_matrix),u_image:new f.Uniform1i(V,$.u_image),u_texsize:new f.Uniform2f(V,$.u_texsize),u_pixel_coord_upper:new f.Uniform2f(V,$.u_pixel_coord_upper),u_pixel_coord_lower:new f.Uniform2f(V,$.u_pixel_coord_lower),u_scale:new f.Uniform3f(V,$.u_scale),u_fade:new f.Uniform1f(V,$.u_fade)}},fillOutline:function(V,$){return{u_matrix:new f.UniformMatrix4f(V,$.u_matrix),u_world:new f.Uniform2f(V,$.u_world)}},fillOutlinePattern:function(V,$){return{u_matrix:new f.UniformMatrix4f(V,$.u_matrix),u_world:new f.Uniform2f(V,$.u_world),u_image:new f.Uniform1i(V,$.u_image),u_texsize:new f.Uniform2f(V,$.u_texsize),u_pixel_coord_upper:new f.Uniform2f(V,$.u_pixel_coord_upper),u_pixel_coord_lower:new f.Uniform2f(V,$.u_pixel_coord_lower),u_scale:new f.Uniform3f(V,$.u_scale),u_fade:new f.Uniform1f(V,$.u_fade)}},circle:function(V,$){return{u_camera_to_center_distance:new f.Uniform1f(V,$.u_camera_to_center_distance),u_scale_with_map:new f.Uniform1i(V,$.u_scale_with_map),u_pitch_with_map:new f.Uniform1i(V,$.u_pitch_with_map),u_extrude_scale:new f.Uniform2f(V,$.u_extrude_scale),u_device_pixel_ratio:new f.Uniform1f(V,$.u_device_pixel_ratio),u_matrix:new f.UniformMatrix4f(V,$.u_matrix)}},collisionBox:function(V,$){return{u_matrix:new f.UniformMatrix4f(V,$.u_matrix),u_camera_to_center_distance:new f.Uniform1f(V,$.u_camera_to_center_distance),u_pixels_to_tile_units:new f.Uniform1f(V,$.u_pixels_to_tile_units),u_extrude_scale:new f.Uniform2f(V,$.u_extrude_scale),u_overscale_factor:new f.Uniform1f(V,$.u_overscale_factor)}},collisionCircle:function(V,$){return{u_matrix:new f.UniformMatrix4f(V,$.u_matrix),u_inv_matrix:new f.UniformMatrix4f(V,$.u_inv_matrix),u_camera_to_center_distance:new f.Uniform1f(V,$.u_camera_to_center_distance),u_viewport_size:new f.Uniform2f(V,$.u_viewport_size)}},debug:function(V,$){return{u_color:new f.UniformColor(V,$.u_color),u_matrix:new f.UniformMatrix4f(V,$.u_matrix),u_overlay:new f.Uniform1i(V,$.u_overlay),u_overlay_scale:new f.Uniform1f(V,$.u_overlay_scale)}},clippingMask:function(V,$){return{u_matrix:new f.UniformMatrix4f(V,$.u_matrix)}},heatmap:function(V,$){return{u_extrude_scale:new f.Uniform1f(V,$.u_extrude_scale),u_intensity:new f.Uniform1f(V,$.u_intensity),u_matrix:new f.UniformMatrix4f(V,$.u_matrix)}},heatmapTexture:function(V,$){return{u_matrix:new f.UniformMatrix4f(V,$.u_matrix),u_world:new f.Uniform2f(V,$.u_world),u_image:new f.Uniform1i(V,$.u_image),u_color_ramp:new f.Uniform1i(V,$.u_color_ramp),u_opacity:new f.Uniform1f(V,$.u_opacity)}},hillshade:function(V,$){return{u_matrix:new f.UniformMatrix4f(V,$.u_matrix),u_image:new f.Uniform1i(V,$.u_image),u_latrange:new f.Uniform2f(V,$.u_latrange),u_light:new f.Uniform2f(V,$.u_light),u_shadow:new f.UniformColor(V,$.u_shadow),u_highlight:new f.UniformColor(V,$.u_highlight),u_accent:new f.UniformColor(V,$.u_accent)}},hillshadePrepare:function(V,$){return{u_matrix:new f.UniformMatrix4f(V,$.u_matrix),u_image:new f.Uniform1i(V,$.u_image),u_dimension:new f.Uniform2f(V,$.u_dimension),u_zoom:new f.Uniform1f(V,$.u_zoom),u_maxzoom:new f.Uniform1f(V,$.u_maxzoom),u_unpack:new f.Uniform4f(V,$.u_unpack)}},line:function(V,$){return{u_matrix:new f.UniformMatrix4f(V,$.u_matrix),u_ratio:new f.Uniform1f(V,$.u_ratio),u_device_pixel_ratio:new f.Uniform1f(V,$.u_device_pixel_ratio),u_units_to_pixels:new f.Uniform2f(V,$.u_units_to_pixels)}},lineGradient:function(V,$){return{u_matrix:new f.UniformMatrix4f(V,$.u_matrix),u_ratio:new f.Uniform1f(V,$.u_ratio),u_device_pixel_ratio:new f.Uniform1f(V,$.u_device_pixel_ratio),u_units_to_pixels:new f.Uniform2f(V,$.u_units_to_pixels),u_image:new f.Uniform1i(V,$.u_image)}},linePattern:function(V,$){return{u_matrix:new f.UniformMatrix4f(V,$.u_matrix),u_texsize:new f.Uniform2f(V,$.u_texsize),u_ratio:new f.Uniform1f(V,$.u_ratio),u_device_pixel_ratio:new f.Uniform1f(V,$.u_device_pixel_ratio),u_image:new f.Uniform1i(V,$.u_image),u_units_to_pixels:new f.Uniform2f(V,$.u_units_to_pixels),u_scale:new f.Uniform3f(V,$.u_scale),u_fade:new f.Uniform1f(V,$.u_fade)}},lineSDF:function(V,$){return{u_matrix:new f.UniformMatrix4f(V,$.u_matrix),u_ratio:new f.Uniform1f(V,$.u_ratio),u_device_pixel_ratio:new f.Uniform1f(V,$.u_device_pixel_ratio),u_units_to_pixels:new f.Uniform2f(V,$.u_units_to_pixels),u_patternscale_a:new f.Uniform2f(V,$.u_patternscale_a),u_patternscale_b:new f.Uniform2f(V,$.u_patternscale_b),u_sdfgamma:new f.Uniform1f(V,$.u_sdfgamma),u_image:new f.Uniform1i(V,$.u_image),u_tex_y_a:new f.Uniform1f(V,$.u_tex_y_a),u_tex_y_b:new f.Uniform1f(V,$.u_tex_y_b),u_mix:new f.Uniform1f(V,$.u_mix)}},raster:function(V,$){return{u_matrix:new f.UniformMatrix4f(V,$.u_matrix),u_tl_parent:new f.Uniform2f(V,$.u_tl_parent),u_scale_parent:new f.Uniform1f(V,$.u_scale_parent),u_buffer_scale:new f.Uniform1f(V,$.u_buffer_scale),u_fade_t:new f.Uniform1f(V,$.u_fade_t),u_opacity:new f.Uniform1f(V,$.u_opacity),u_image0:new f.Uniform1i(V,$.u_image0),u_image1:new f.Uniform1i(V,$.u_image1),u_brightness_low:new f.Uniform1f(V,$.u_brightness_low),u_brightness_high:new f.Uniform1f(V,$.u_brightness_high),u_saturation_factor:new f.Uniform1f(V,$.u_saturation_factor),u_contrast_factor:new f.Uniform1f(V,$.u_contrast_factor),u_spin_weights:new f.Uniform3f(V,$.u_spin_weights)}},symbolIcon:function(V,$){return{u_is_size_zoom_constant:new f.Uniform1i(V,$.u_is_size_zoom_constant),u_is_size_feature_constant:new f.Uniform1i(V,$.u_is_size_feature_constant),u_size_t:new f.Uniform1f(V,$.u_size_t),u_size:new f.Uniform1f(V,$.u_size),u_camera_to_center_distance:new f.Uniform1f(V,$.u_camera_to_center_distance),u_pitch:new f.Uniform1f(V,$.u_pitch),u_rotate_symbol:new f.Uniform1i(V,$.u_rotate_symbol),u_aspect_ratio:new f.Uniform1f(V,$.u_aspect_ratio),u_fade_change:new f.Uniform1f(V,$.u_fade_change),u_matrix:new f.UniformMatrix4f(V,$.u_matrix),u_label_plane_matrix:new f.UniformMatrix4f(V,$.u_label_plane_matrix),u_coord_matrix:new f.UniformMatrix4f(V,$.u_coord_matrix),u_is_text:new f.Uniform1i(V,$.u_is_text),u_pitch_with_map:new f.Uniform1i(V,$.u_pitch_with_map),u_texsize:new f.Uniform2f(V,$.u_texsize),u_texture:new f.Uniform1i(V,$.u_texture)}},symbolSDF:function(V,$){return{u_is_size_zoom_constant:new f.Uniform1i(V,$.u_is_size_zoom_constant),u_is_size_feature_constant:new f.Uniform1i(V,$.u_is_size_feature_constant),u_size_t:new f.Uniform1f(V,$.u_size_t),u_size:new f.Uniform1f(V,$.u_size),u_camera_to_center_distance:new f.Uniform1f(V,$.u_camera_to_center_distance),u_pitch:new f.Uniform1f(V,$.u_pitch),u_rotate_symbol:new f.Uniform1i(V,$.u_rotate_symbol),u_aspect_ratio:new f.Uniform1f(V,$.u_aspect_ratio),u_fade_change:new f.Uniform1f(V,$.u_fade_change),u_matrix:new f.UniformMatrix4f(V,$.u_matrix),u_label_plane_matrix:new f.UniformMatrix4f(V,$.u_label_plane_matrix),u_coord_matrix:new f.UniformMatrix4f(V,$.u_coord_matrix),u_is_text:new f.Uniform1i(V,$.u_is_text),u_pitch_with_map:new f.Uniform1i(V,$.u_pitch_with_map),u_texsize:new f.Uniform2f(V,$.u_texsize),u_texture:new f.Uniform1i(V,$.u_texture),u_gamma_scale:new f.Uniform1f(V,$.u_gamma_scale),u_device_pixel_ratio:new f.Uniform1f(V,$.u_device_pixel_ratio),u_is_halo:new f.Uniform1i(V,$.u_is_halo)}},symbolTextAndIcon:function(V,$){return{u_is_size_zoom_constant:new f.Uniform1i(V,$.u_is_size_zoom_constant),u_is_size_feature_constant:new f.Uniform1i(V,$.u_is_size_feature_constant),u_size_t:new f.Uniform1f(V,$.u_size_t),u_size:new f.Uniform1f(V,$.u_size),u_camera_to_center_distance:new f.Uniform1f(V,$.u_camera_to_center_distance),u_pitch:new f.Uniform1f(V,$.u_pitch),u_rotate_symbol:new f.Uniform1i(V,$.u_rotate_symbol),u_aspect_ratio:new f.Uniform1f(V,$.u_aspect_ratio),u_fade_change:new f.Uniform1f(V,$.u_fade_change),u_matrix:new f.UniformMatrix4f(V,$.u_matrix),u_label_plane_matrix:new f.UniformMatrix4f(V,$.u_label_plane_matrix),u_coord_matrix:new f.UniformMatrix4f(V,$.u_coord_matrix),u_is_text:new f.Uniform1i(V,$.u_is_text),u_pitch_with_map:new f.Uniform1i(V,$.u_pitch_with_map),u_texsize:new f.Uniform2f(V,$.u_texsize),u_texsize_icon:new f.Uniform2f(V,$.u_texsize_icon),u_texture:new f.Uniform1i(V,$.u_texture),u_texture_icon:new f.Uniform1i(V,$.u_texture_icon),u_gamma_scale:new f.Uniform1f(V,$.u_gamma_scale),u_device_pixel_ratio:new f.Uniform1f(V,$.u_device_pixel_ratio),u_is_halo:new f.Uniform1i(V,$.u_is_halo)}},background:function(V,$){return{u_matrix:new f.UniformMatrix4f(V,$.u_matrix),u_opacity:new f.Uniform1f(V,$.u_opacity),u_color:new f.UniformColor(V,$.u_color)}},backgroundPattern:function(V,$){return{u_matrix:new f.UniformMatrix4f(V,$.u_matrix),u_opacity:new f.Uniform1f(V,$.u_opacity),u_image:new f.Uniform1i(V,$.u_image),u_pattern_tl_a:new f.Uniform2f(V,$.u_pattern_tl_a),u_pattern_br_a:new f.Uniform2f(V,$.u_pattern_br_a),u_pattern_tl_b:new f.Uniform2f(V,$.u_pattern_tl_b),u_pattern_br_b:new f.Uniform2f(V,$.u_pattern_br_b),u_texsize:new f.Uniform2f(V,$.u_texsize),u_mix:new f.Uniform1f(V,$.u_mix),u_pattern_size_a:new f.Uniform2f(V,$.u_pattern_size_a),u_pattern_size_b:new f.Uniform2f(V,$.u_pattern_size_b),u_scale_a:new f.Uniform1f(V,$.u_scale_a),u_scale_b:new f.Uniform1f(V,$.u_scale_b),u_pixel_coord_upper:new f.Uniform2f(V,$.u_pixel_coord_upper),u_pixel_coord_lower:new f.Uniform2f(V,$.u_pixel_coord_lower),u_tile_units_to_pixels:new f.Uniform1f(V,$.u_tile_units_to_pixels)}}};function hu(V,$,q,te,xe,Pe,U){for(var ie=V.context,de=ie.gl,Te=V.useProgram("collisionBox"),Ee=[],Fe=0,Ye=0,Xe=0;Xe<te.length;Xe++){var Qe=te[Xe],nt=$.getTile(Qe),lt=nt.getBucket(q);if(lt){var xt=Qe.posMatrix;0===xe[0]&&0===xe[1]||(xt=V.translatePosMatrix(Qe.posMatrix,nt,xe,Pe));var Mt=U?lt.textCollisionBox:lt.iconCollisionBox,jt=lt.collisionCircleArray;if(jt.length>0){var Vt=f.create(),Bt=xt;f.mul(Vt,lt.placementInvProjMatrix,V.transform.glCoordMatrix),f.mul(Vt,Vt,lt.placementViewportMatrix),Ee.push({circleArray:jt,circleOffset:Ye,transform:Bt,invTransform:Vt}),Ye=Fe+=jt.length/4}Mt&&Te.draw(ie,de.LINES,Ht.disabled,tt.disabled,V.colorModeForRenderPass(),Je.disabled,Mc(xt,V.transform,nt),q.id,Mt.layoutVertexBuffer,Mt.indexBuffer,Mt.segments,null,V.transform.zoom,null,null,Mt.collisionVertexBuffer)}}if(U&&Ee.length){var Xt=V.useProgram("collisionCircle"),Ut=new f.StructArrayLayout2f1f2i16;Ut.resize(4*Fe),Ut._trim();for(var mn=0,sn=0,rn=Ee;sn<rn.length;sn+=1)for(var In=rn[sn],Pn=0;Pn<In.circleArray.length/4;Pn++){var tr=4*Pn,rr=In.circleArray[tr+0],pr=In.circleArray[tr+1],yr=In.circleArray[tr+2],Er=In.circleArray[tr+3];Ut.emplace(mn++,rr,pr,yr,Er,0),Ut.emplace(mn++,rr,pr,yr,Er,1),Ut.emplace(mn++,rr,pr,yr,Er,2),Ut.emplace(mn++,rr,pr,yr,Er,3)}(!Fa||Fa.length<2*Fe)&&(Fa=function(Nr){var Wr=2*Nr,ti=new f.StructArrayLayout3ui6;ti.resize(Wr),ti._trim();for(var ci=0;ci<Wr;ci++){var Li=6*ci;ti.uint16[Li+0]=4*ci+0,ti.uint16[Li+1]=4*ci+1,ti.uint16[Li+2]=4*ci+2,ti.uint16[Li+3]=4*ci+2,ti.uint16[Li+4]=4*ci+3,ti.uint16[Li+5]=4*ci+0}return ti}(Fe));for(var Sr=ie.createIndexBuffer(Fa,!0),Rr=ie.createVertexBuffer(Ut,f.collisionCircleLayout.members,!0),qr=0,oi=Ee;qr<oi.length;qr+=1){var cr=oi[qr],Ar=af(cr.transform,cr.invTransform,V.transform);Xt.draw(ie,de.TRIANGLES,Ht.disabled,tt.disabled,V.colorModeForRenderPass(),Je.disabled,Ar,q.id,Rr,Sr,f.SegmentVector.simpleSegment(0,2*cr.circleOffset,cr.circleArray.length,cr.circleArray.length/2),null,V.transform.zoom,null,null,null)}Rr.destroy(),Sr.destroy()}}var Sc=f.identity(new Float32Array(16));function Qs(V,$,q,te,xe,Pe){var U=f.getAnchorAlignment(V),ie=-(U.horizontalAlign-.5)*$,de=-(U.verticalAlign-.5)*q,Te=f.evaluateVariableOffset(V,te);return new f.Point((ie/xe+Te[0])*Pe,(de/xe+Te[1])*Pe)}function fl(V,$,q,te,xe,Pe,U,ie,de,Te,Ee){var Fe=V.text.placedSymbolArray,Ye=V.text.dynamicLayoutVertexArray,Xe=V.icon.dynamicLayoutVertexArray,Qe={};Ye.clear();for(var nt=0;nt<Fe.length;nt++){var lt=Fe.get(nt),Mt=lt.hidden||!lt.crossTileID||V.allowVerticalPlacement&&!lt.placedOrientation?null:te[lt.crossTileID];if(Mt){var jt=new f.Point(lt.anchorX,lt.anchorY),Vt=on(jt,q?ie:U),Bt=vn(Pe.cameraToCenterDistance,Vt.signedDistanceFromCamera),Xt=xe.evaluateSizeForFeature(V.textSizeData,Te,lt)*Bt/f.ONE_EM;q&&(Xt*=V.tilePixelRatio/de);for(var sn=Qs(Mt.anchor,Mt.width,Mt.height,Mt.textOffset,Mt.textBoxScale,Xt),rn=q?on(jt.add(sn),U).point:Vt.point.add($?sn.rotate(-Pe.angle):sn),In=V.allowVerticalPlacement&&lt.placedOrientation===f.WritingMode.vertical?Math.PI/2:0,Pn=0;Pn<lt.numGlyphs;Pn++)f.addDynamicAttributes(Ye,rn,In);Ee&&lt.associatedIconIndex>=0&&(Qe[lt.associatedIconIndex]={shiftedAnchor:rn,angle:In})}else gr(lt.numGlyphs,Ye)}if(Ee){Xe.clear();for(var tr=V.icon.placedSymbolArray,rr=0;rr<tr.length;rr++){var pr=tr.get(rr);if(pr.hidden)gr(pr.numGlyphs,Xe);else{var yr=Qe[rr];if(yr)for(var Er=0;Er<pr.numGlyphs;Er++)f.addDynamicAttributes(Xe,yr.shiftedAnchor,yr.angle);else gr(pr.numGlyphs,Xe)}}V.icon.dynamicLayoutVertexBuffer.updateData(Xe)}V.text.dynamicLayoutVertexBuffer.updateData(Ye)}function Zl(V,$,q){return q.iconsInText&&$?"symbolTextAndIcon":V?"symbolSDF":"symbolIcon"}function pu(V,$,q,te,xe,Pe,U,ie,de,Te,Ee,Fe){for(var Ye=V.context,Xe=Ye.gl,Qe=V.transform,nt="map"===ie,lt="map"===de,xt=nt&&"point"!==q.layout.get("symbol-placement"),Mt=nt&&!lt&&!xt,jt=void 0!==q.layout.get("symbol-sort-key").constantOr(1),Vt=V.depthModeForSublayer(0,Ht.ReadOnly),Bt=q.layout.get("text-variable-anchor"),Xt=[],Ut=0,mn=te;Ut<mn.length;Ut+=1){var sn=mn[Ut],rn=$.getTile(sn),In=rn.getBucket(q);if(In){var Pn=xe?In.text:In.icon;if(Pn&&Pn.segments.get().length){var tr=Pn.programConfigurations.get(q.id),rr=xe||In.sdfIcons,pr=xe?In.textSizeData:In.iconSizeData,yr=lt||0!==Qe.pitch,Er=V.useProgram(Zl(rr,xe,In),tr),Sr=f.evaluateSizeForZoom(pr,Qe.zoom),Rr=void 0,qr=[0,0],oi=void 0,cr=void 0,Ar=null,Nr=void 0;if(xe)oi=rn.glyphAtlasTexture,cr=Xe.LINEAR,Rr=rn.glyphAtlasTexture.size,In.iconsInText&&(qr=rn.imageAtlasTexture.size,Ar=rn.imageAtlasTexture,Nr=yr||V.options.rotating||V.options.zooming||"composite"===pr.kind||"camera"===pr.kind?Xe.LINEAR:Xe.NEAREST);else{var ti=1!==q.layout.get("icon-size").constantOr(0)||In.iconsNeedLinear;oi=rn.imageAtlasTexture,cr=rr||V.options.rotating||V.options.zooming||ti||yr?Xe.LINEAR:Xe.NEAREST,Rr=rn.imageAtlasTexture.size}var ci=mr(rn,1,V.transform.zoom),Li=Un(sn.posMatrix,lt,nt,V.transform,ci),ro=Sn(sn.posMatrix,lt,nt,V.transform,ci),fo=Bt&&In.hasTextData(),Ai="none"!==q.layout.get("icon-text-fit")&&fo&&In.hasIconData();xt&&Tn(In,sn.posMatrix,V,xe,Li,ro,lt,Te);var Ji=V.translatePosMatrix(sn.posMatrix,rn,Pe,U),Vo=xt||xe&&Bt||Ai?Sc:Li,_a=V.translatePosMatrix(ro,rn,Pe,U,!0),Zo=rr&&0!==q.paint.get(xe?"text-halo-width":"icon-halo-width").constantOr(1),oa={program:Er,buffers:Pn,uniformValues:rr?In.iconsInText?os(pr.kind,Sr,Mt,lt,V,Ji,Vo,_a,Rr,qr):Qo(pr.kind,Sr,Mt,lt,V,Ji,Vo,_a,xe,Rr,!0):Yi(pr.kind,Sr,Mt,lt,V,Ji,Vo,_a,xe,Rr),atlasTexture:oi,atlasTextureIcon:Ar,atlasInterpolation:cr,atlasInterpolationIcon:Nr,isSDF:rr,hasHalo:Zo};if(jt)for(var Ui=0,ki=Pn.segments.get();Ui<ki.length;Ui+=1){var ho=ki[Ui];Xt.push({segments:new f.SegmentVector([ho]),sortKey:ho.sortKey,state:oa})}else Xt.push({segments:Pn.segments,sortKey:0,state:oa})}}}jt&&Xt.sort(function(il,go){return il.sortKey-go.sortKey});for(var Pi=0,po=Xt;Pi<po.length;Pi+=1){var ja=po[Pi],pi=ja.state;if(Ye.activeTexture.set(Xe.TEXTURE0),pi.atlasTexture.bind(pi.atlasInterpolation,Xe.CLAMP_TO_EDGE),pi.atlasTextureIcon&&(Ye.activeTexture.set(Xe.TEXTURE1),pi.atlasTextureIcon&&pi.atlasTextureIcon.bind(pi.atlasInterpolationIcon,Xe.CLAMP_TO_EDGE)),pi.isSDF){var Hi=pi.uniformValues;pi.hasHalo&&(Hi.u_is_halo=1,el(pi.buffers,ja.segments,q,V,pi.program,Vt,Ee,Fe,Hi)),Hi.u_is_halo=0}el(pi.buffers,ja.segments,q,V,pi.program,Vt,Ee,Fe,pi.uniformValues)}}function el(V,$,q,te,xe,Pe,U,ie,de){var Te=te.context;xe.draw(Te,Te.gl.TRIANGLES,Pe,U,ie,Je.disabled,de,q.id,V.layoutVertexBuffer,V.indexBuffer,$,q.paint,te.transform.zoom,V.programConfigurations.get(q.id),V.dynamicLayoutVertexBuffer,V.opacityVertexBuffer)}function tl(V,$,q,te,xe,Pe,U){var ie,de,Te,Ee,Fe,Ye=V.context.gl,Xe=q.paint.get("fill-pattern"),Qe=Xe&&Xe.constantOr(1),nt=q.getCrossfadeParameters();U?(de=Qe&&!q.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",ie=Ye.LINES):(de=Qe?"fillPattern":"fill",ie=Ye.TRIANGLES);for(var lt=0,xt=te;lt<xt.length;lt+=1){var Mt=xt[lt],jt=$.getTile(Mt);if(!Qe||jt.patternsLoaded()){var Vt=jt.getBucket(q);if(Vt){var Bt=Vt.programConfigurations.get(q.id),Xt=V.useProgram(de,Bt);Qe&&(V.context.activeTexture.set(Ye.TEXTURE0),jt.imageAtlasTexture.bind(Ye.LINEAR,Ye.CLAMP_TO_EDGE),Bt.updatePaintBuffers(nt));var Ut=Xe.constantOr(null);if(Ut&&jt.imageAtlas){var mn=jt.imageAtlas,sn=mn.patternPositions[Ut.to.toString()],rn=mn.patternPositions[Ut.from.toString()];sn&&rn&&Bt.setConstantPatternPositions(sn,rn)}var In=V.translatePosMatrix(Mt.posMatrix,jt,q.paint.get("fill-translate"),q.paint.get("fill-translate-anchor"));if(U){Ee=Vt.indexBuffer2,Fe=Vt.segments2;var Pn=[Ye.drawingBufferWidth,Ye.drawingBufferHeight];Te="fillOutlinePattern"===de&&Qe?zs(In,V,nt,jt,Pn):nc(In,Pn)}else Ee=Vt.indexBuffer,Fe=Vt.segments,Te=Qe?Il(In,V,nt,jt):Dl(In);Xt.draw(V.context,ie,xe,V.stencilModeForClipping(Mt),Pe,Je.disabled,Te,q.id,Vt.layoutVertexBuffer,Ee,Fe,q.paint,V.transform.zoom,Bt)}}}}function dl(V,$,q,te,xe,Pe,U){for(var ie=V.context,de=ie.gl,Te=q.paint.get("fill-extrusion-pattern"),Ee=Te.constantOr(1),Fe=q.getCrossfadeParameters(),Ye=q.paint.get("fill-extrusion-opacity"),Xe=0,Qe=te;Xe<Qe.length;Xe+=1){var nt=Qe[Xe],lt=$.getTile(nt),xt=lt.getBucket(q);if(xt){var Mt=xt.programConfigurations.get(q.id),jt=V.useProgram(Ee?"fillExtrusionPattern":"fillExtrusion",Mt);Ee&&(V.context.activeTexture.set(de.TEXTURE0),lt.imageAtlasTexture.bind(de.LINEAR,de.CLAMP_TO_EDGE),Mt.updatePaintBuffers(Fe));var Vt=Te.constantOr(null);if(Vt&&lt.imageAtlas){var Bt=lt.imageAtlas,Xt=Bt.patternPositions[Vt.to.toString()],Ut=Bt.patternPositions[Vt.from.toString()];Xt&&Ut&&Mt.setConstantPatternPositions(Xt,Ut)}var mn=V.translatePosMatrix(nt.posMatrix,lt,q.paint.get("fill-extrusion-translate"),q.paint.get("fill-extrusion-translate-anchor")),sn=q.paint.get("fill-extrusion-vertical-gradient"),rn=Ee?Cl(mn,V,sn,Ye,nt,Fe,lt):Wl(mn,V,sn,Ye);jt.draw(ie,ie.gl.TRIANGLES,xe,Pe,U,Je.backCCW,rn,q.id,xt.layoutVertexBuffer,xt.indexBuffer,xt.segments,q.paint,V.transform.zoom,Mt)}}}function xs(V,$,q,te,xe,Pe){var U=V.context,ie=U.gl,de=$.fbo;if(de){var Te=V.useProgram("hillshade");U.activeTexture.set(ie.TEXTURE0),ie.bindTexture(ie.TEXTURE_2D,de.colorAttachment.get());var Ee=function(V,$,q){var te=q.paint.get("hillshade-shadow-color"),xe=q.paint.get("hillshade-highlight-color"),Pe=q.paint.get("hillshade-accent-color"),U=q.paint.get("hillshade-illumination-direction")*(Math.PI/180);"viewport"===q.paint.get("hillshade-illumination-anchor")&&(U-=V.transform.angle);var ie,de,Te,Ee=!V.options.moving;return{u_matrix:V.transform.calculatePosMatrix($.tileID.toUnwrapped(),Ee),u_image:0,u_latrange:(ie=$.tileID,de=Math.pow(2,ie.canonical.z),Te=ie.canonical.y,[new f.MercatorCoordinate(0,Te/de).toLngLat().lat,new f.MercatorCoordinate(0,(Te+1)/de).toLngLat().lat]),u_light:[q.paint.get("hillshade-exaggeration"),U],u_shadow:te,u_highlight:xe,u_accent:Pe}}(V,$,q);Te.draw(U,ie.TRIANGLES,te,xe,Pe,Je.disabled,Ee,q.id,V.rasterBoundsBuffer,V.quadTriangleIndexBuffer,V.rasterBoundsSegments)}}function Lu(V,$,q,te,xe,Pe,U){var ie=V.context,de=ie.gl,Te=$.dem;if(Te&&Te.data){var Ee=Te.dim,Fe=Te.stride,Ye=Te.getPixels();if(ie.activeTexture.set(de.TEXTURE1),ie.pixelStoreUnpackPremultiplyAlpha.set(!1),$.demTexture=$.demTexture||V.getTileTexture(Fe),$.demTexture){var Xe=$.demTexture;Xe.update(Ye,{premultiply:!1}),Xe.bind(de.NEAREST,de.CLAMP_TO_EDGE)}else $.demTexture=new f.Texture(ie,Ye,de.RGBA,{premultiply:!1}),$.demTexture.bind(de.NEAREST,de.CLAMP_TO_EDGE);ie.activeTexture.set(de.TEXTURE0);var Qe=$.fbo;if(!Qe){var nt=new f.Texture(ie,{width:Ee,height:Ee,data:null},de.RGBA);nt.bind(de.LINEAR,de.CLAMP_TO_EDGE),(Qe=$.fbo=ie.createFramebuffer(Ee,Ee,!0)).colorAttachment.set(nt.texture)}ie.bindFramebuffer.set(Qe.framebuffer),ie.viewport.set([0,0,Ee,Ee]),V.useProgram("hillshadePrepare").draw(ie,de.TRIANGLES,xe,Pe,U,Je.disabled,function(V,$,q){var te=$.stride,xe=f.create();return f.ortho(xe,0,f.EXTENT,-f.EXTENT,0,0,1),f.translate(xe,xe,[0,-f.EXTENT,0]),{u_matrix:xe,u_image:1,u_dimension:[te,te],u_zoom:V.overscaledZ,u_maxzoom:q,u_unpack:$.getUnpackVector()}}($.tileID,Te,te),q.id,V.rasterBoundsBuffer,V.quadTriangleIndexBuffer,V.rasterBoundsSegments),$.needsHillshadePrepare=!1}}function Ds(V,$,q,te,xe){var Pe=te.paint.get("raster-fade-duration");if(Pe>0){var U=f.browser.now(),ie=(U-V.timeAdded)/Pe,de=$?(U-$.timeAdded)/Pe:-1,Te=q.getSource(),Ee=xe.coveringZoomLevel({tileSize:Te.tileSize,roundZoom:Te.roundZoom}),Fe=!$||Math.abs($.tileID.overscaledZ-Ee)>Math.abs(V.tileID.overscaledZ-Ee),Ye=Fe&&V.refreshedUponExpiration?1:f.clamp(Fe?ie:1-de,0,1);return V.refreshedUponExpiration&&ie>=1&&(V.refreshedUponExpiration=!1),$?{opacity:1,mix:1-Ye}:{opacity:Ye,mix:0}}return{opacity:1,mix:0}}var lf=new f.Color(1,0,0,1),kc=new f.Color(0,1,0,1),ic=new f.Color(0,0,1,1),Ol=new f.Color(1,0,1,1),as=new f.Color(0,1,1,1);function oc(V,$,q,te){Jl(V,0,$+q/2,V.transform.width,q,te)}function gu(V,$,q,te){Jl(V,$-q/2,0,q,V.transform.height,te)}function Jl(V,$,q,te,xe,Pe){var U=V.context,ie=U.gl;ie.enable(ie.SCISSOR_TEST),ie.scissor($*f.browser.devicePixelRatio,q*f.browser.devicePixelRatio,te*f.browser.devicePixelRatio,xe*f.browser.devicePixelRatio),U.clear({color:Pe}),ie.disable(ie.SCISSOR_TEST)}function Nu(V,$,q){var te=V.context,xe=te.gl,Pe=q.posMatrix,U=V.useProgram("debug"),ie=Ht.disabled,de=tt.disabled,Te=V.colorModeForRenderPass();te.activeTexture.set(xe.TEXTURE0),V.emptyTexture.bind(xe.LINEAR,xe.CLAMP_TO_EDGE),U.draw(te,xe.LINE_STRIP,ie,de,Te,Je.disabled,rc(Pe,f.Color.red),"$debug",V.debugBuffer,V.tileBorderIndexBuffer,V.debugSegments);var Fe=$.getTileByID(q.key).latestRawTileData,Xe=Math.floor((Fe&&Fe.byteLength||0)/1024),Qe=$.getTile(q).tileSize,nt=512/Math.min(Qe,512)*(q.overscaledZ/V.transform.zoom)*.5,lt=q.canonical.toString();q.overscaledZ!==q.canonical.z&&(lt+=" => "+q.overscaledZ),function(xt,Mt){xt.initDebugOverlayCanvas();var jt=xt.debugOverlayCanvas,Vt=xt.context.gl,Bt=xt.debugOverlayCanvas.getContext("2d");Bt.clearRect(0,0,jt.width,jt.height),Bt.shadowColor="white",Bt.shadowBlur=2,Bt.lineWidth=1.5,Bt.strokeStyle="white",Bt.textBaseline="top",Bt.font="bold 36px Open Sans, sans-serif",Bt.fillText(Mt,5,5),Bt.strokeText(Mt,5,5),xt.debugOverlayTexture.update(jt),xt.debugOverlayTexture.bind(Vt.LINEAR,Vt.CLAMP_TO_EDGE)}(V,lt+" "+Xe+"kb"),U.draw(te,xe.TRIANGLES,ie,de,it.alphaBlended,Je.disabled,rc(Pe,f.Color.transparent,nt),"$debug",V.debugBuffer,V.quadTriangleIndexBuffer,V.debugSegments)}var mu={symbol:function(V,$,q,te,xe){if("translucent"===V.renderPass){var Pe=tt.disabled,U=V.colorModeForRenderPass();q.layout.get("text-variable-anchor")&&function(ie,de,Te,Ee,Fe,Ye,Xe){for(var Qe=de.transform,nt="map"===Fe,lt="map"===Ye,xt=0,Mt=ie;xt<Mt.length;xt+=1){var jt=Mt[xt],Vt=Ee.getTile(jt),Bt=Vt.getBucket(Te);if(Bt&&Bt.text&&Bt.text.segments.get().length){var Ut=f.evaluateSizeForZoom(Bt.textSizeData,Qe.zoom),mn=mr(Vt,1,de.transform.zoom),sn=Un(jt.posMatrix,lt,nt,de.transform,mn),rn="none"!==Te.layout.get("icon-text-fit")&&Bt.hasIconData();if(Ut){var In=Math.pow(2,Qe.zoom-Vt.tileID.overscaledZ);fl(Bt,nt,lt,Xe,f.symbolSize,Qe,sn,jt.posMatrix,In,Ut,rn)}}}}(te,V,q,$,q.layout.get("text-rotation-alignment"),q.layout.get("text-pitch-alignment"),xe),0!==q.paint.get("icon-opacity").constantOr(1)&&pu(V,$,q,te,!1,q.paint.get("icon-translate"),q.paint.get("icon-translate-anchor"),q.layout.get("icon-rotation-alignment"),q.layout.get("icon-pitch-alignment"),q.layout.get("icon-keep-upright"),Pe,U),0!==q.paint.get("text-opacity").constantOr(1)&&pu(V,$,q,te,!0,q.paint.get("text-translate"),q.paint.get("text-translate-anchor"),q.layout.get("text-rotation-alignment"),q.layout.get("text-pitch-alignment"),q.layout.get("text-keep-upright"),Pe,U),$.map.showCollisionBoxes&&(hu(V,$,q,te,q.paint.get("text-translate"),q.paint.get("text-translate-anchor"),!0),hu(V,$,q,te,q.paint.get("icon-translate"),q.paint.get("icon-translate-anchor"),!1))}},circle:function(V,$,q,te){if("translucent"===V.renderPass){var xe=q.paint.get("circle-opacity"),Pe=q.paint.get("circle-stroke-width"),U=q.paint.get("circle-stroke-opacity"),ie=void 0!==q.layout.get("circle-sort-key").constantOr(1);if(0!==xe.constantOr(1)||0!==Pe.constantOr(1)&&0!==U.constantOr(1)){for(var de=V.context,Te=de.gl,Ee=V.depthModeForSublayer(0,Ht.ReadOnly),Fe=tt.disabled,Ye=V.colorModeForRenderPass(),Xe=[],Qe=0;Qe<te.length;Qe++){var nt=te[Qe],lt=$.getTile(nt),xt=lt.getBucket(q);if(xt){var Mt=xt.programConfigurations.get(q.id),jt={programConfiguration:Mt,program:V.useProgram("circle",Mt),layoutVertexBuffer:xt.layoutVertexBuffer,indexBuffer:xt.indexBuffer,uniformValues:rf(V,nt,lt,q)};if(ie)for(var Vt=0,Bt=xt.segments.get();Vt<Bt.length;Vt+=1){var Xt=Bt[Vt];Xe.push({segments:new f.SegmentVector([Xt]),sortKey:Xt.sortKey,state:jt})}else Xe.push({segments:xt.segments,sortKey:0,state:jt})}}ie&&Xe.sort(function(Er,Sr){return Er.sortKey-Sr.sortKey});for(var Ut=0,mn=Xe;Ut<mn.length;Ut+=1){var sn=mn[Ut],rn=sn.state;rn.program.draw(de,Te.TRIANGLES,Ee,Fe,Ye,Je.disabled,rn.uniformValues,q.id,rn.layoutVertexBuffer,rn.indexBuffer,sn.segments,q.paint,V.transform.zoom,rn.programConfiguration)}}}},heatmap:function(V,$,q,te){if(0!==q.paint.get("heatmap-opacity"))if("offscreen"===V.renderPass){var xe=V.context,Pe=xe.gl,U=tt.disabled,ie=new it([Pe.ONE,Pe.ONE],f.Color.transparent,[!0,!0,!0,!0]);(function(nt,lt,xt){var Mt=nt.gl;nt.activeTexture.set(Mt.TEXTURE1),nt.viewport.set([0,0,lt.width/4,lt.height/4]);var Bt,Xt,Ut,mn,sn,jt=xt.heatmapFbo;if(jt)Mt.bindTexture(Mt.TEXTURE_2D,jt.colorAttachment.get()),nt.bindFramebuffer.set(jt.framebuffer);else{var Vt=Mt.createTexture();Mt.bindTexture(Mt.TEXTURE_2D,Vt),Mt.texParameteri(Mt.TEXTURE_2D,Mt.TEXTURE_WRAP_S,Mt.CLAMP_TO_EDGE),Mt.texParameteri(Mt.TEXTURE_2D,Mt.TEXTURE_WRAP_T,Mt.CLAMP_TO_EDGE),Mt.texParameteri(Mt.TEXTURE_2D,Mt.TEXTURE_MIN_FILTER,Mt.LINEAR),Mt.texParameteri(Mt.TEXTURE_2D,Mt.TEXTURE_MAG_FILTER,Mt.LINEAR),Ut=Vt,mn=jt=xt.heatmapFbo=nt.createFramebuffer(lt.width/4,lt.height/4,!1),(sn=(Bt=nt).gl).texImage2D(sn.TEXTURE_2D,0,sn.RGBA,(Xt=lt).width/4,Xt.height/4,0,sn.RGBA,Bt.extRenderToTextureHalfFloat?Bt.extTextureHalfFloat.HALF_FLOAT_OES:sn.UNSIGNED_BYTE,null),mn.colorAttachment.set(Ut)}})(xe,V,q),xe.clear({color:f.Color.transparent});for(var de=0;de<te.length;de++){var Te=te[de];if(!$.hasRenderableParent(Te)){var Ee=$.getTile(Te),Fe=Ee.getBucket(q);if(Fe){var Ye=Fe.programConfigurations.get(q.id);V.useProgram("heatmap",Ye).draw(xe,Pe.TRIANGLES,Ht.disabled,U,ie,Je.disabled,fu(Te.posMatrix,Ee,V.transform.zoom,q.paint.get("heatmap-intensity")),q.id,Fe.layoutVertexBuffer,Fe.indexBuffer,Fe.segments,q.paint,V.transform.zoom,Ye)}}}xe.viewport.set([0,0,V.width,V.height])}else"translucent"===V.renderPass&&(V.context.setColorMode(V.colorModeForRenderPass()),function(nt,lt){var xt=nt.context,Mt=xt.gl,jt=lt.heatmapFbo;if(jt){xt.activeTexture.set(Mt.TEXTURE0),Mt.bindTexture(Mt.TEXTURE_2D,jt.colorAttachment.get()),xt.activeTexture.set(Mt.TEXTURE1);var Vt=lt.colorRampTexture;Vt||(Vt=lt.colorRampTexture=new f.Texture(xt,lt.colorRamp,Mt.RGBA)),Vt.bind(Mt.LINEAR,Mt.CLAMP_TO_EDGE),nt.useProgram("heatmapTexture").draw(xt,Mt.TRIANGLES,Ht.disabled,tt.disabled,nt.colorModeForRenderPass(),Je.disabled,function(V,$,q,te){var xe=f.create();f.ortho(xe,0,V.width,V.height,0,0,1);var Pe=V.context.gl;return{u_matrix:xe,u_world:[Pe.drawingBufferWidth,Pe.drawingBufferHeight],u_image:q,u_color_ramp:te,u_opacity:$.paint.get("heatmap-opacity")}}(nt,lt,0,1),lt.id,nt.viewportBuffer,nt.quadTriangleIndexBuffer,nt.viewportSegments,lt.paint,nt.transform.zoom)}}(V,q))},line:function(V,$,q,te){if("translucent"===V.renderPass){var xe=q.paint.get("line-opacity"),Pe=q.paint.get("line-width");if(0!==xe.constantOr(1)&&0!==Pe.constantOr(1)){var U=V.depthModeForSublayer(0,Ht.ReadOnly),ie=V.colorModeForRenderPass(),de=q.paint.get("line-dasharray"),Te=q.paint.get("line-pattern"),Ee=Te.constantOr(1),Fe=q.paint.get("line-gradient"),Ye=q.getCrossfadeParameters(),Xe=Ee?"linePattern":de?"lineSDF":Fe?"lineGradient":"line",Qe=V.context,nt=Qe.gl,lt=!0;if(Fe){Qe.activeTexture.set(nt.TEXTURE0);var xt=q.gradientTexture;if(!q.gradient)return;xt||(xt=q.gradientTexture=new f.Texture(Qe,q.gradient,nt.RGBA)),xt.bind(nt.LINEAR,nt.CLAMP_TO_EDGE)}for(var Mt=0,jt=te;Mt<jt.length;Mt+=1){var Vt=jt[Mt],Bt=$.getTile(Vt);if(!Ee||Bt.patternsLoaded()){var Xt=Bt.getBucket(q);if(Xt){var Ut=Xt.programConfigurations.get(q.id),mn=V.context.program.get(),sn=V.useProgram(Xe,Ut),rn=lt||sn.program!==mn,In=Te.constantOr(null);if(In&&Bt.imageAtlas){var Pn=Bt.imageAtlas,tr=Pn.patternPositions[In.to.toString()],rr=Pn.patternPositions[In.from.toString()];tr&&rr&&Ut.setConstantPatternPositions(tr,rr)}var pr=Ee?du(V,Bt,q,Ye):de?is(V,Bt,q,de,Ye):Fe?Br(V,Bt,q):Ru(V,Bt,q);Ee?(Qe.activeTexture.set(nt.TEXTURE0),Bt.imageAtlasTexture.bind(nt.LINEAR,nt.CLAMP_TO_EDGE),Ut.updatePaintBuffers(Ye)):de&&(rn||V.lineAtlas.dirty)&&(Qe.activeTexture.set(nt.TEXTURE0),V.lineAtlas.bind(Qe)),sn.draw(Qe,nt.TRIANGLES,U,V.stencilModeForClipping(Vt),ie,Je.disabled,pr,q.id,Xt.layoutVertexBuffer,Xt.indexBuffer,Xt.segments,q.paint,V.transform.zoom,Ut),lt=!1}}}}}},fill:function(V,$,q,te){var xe=q.paint.get("fill-color"),Pe=q.paint.get("fill-opacity");if(0!==Pe.constantOr(1)){var U=V.colorModeForRenderPass(),ie=q.paint.get("fill-pattern"),de=V.opaquePassEnabledForLayer()&&!ie.constantOr(1)&&1===xe.constantOr(f.Color.transparent).a&&1===Pe.constantOr(0)?"opaque":"translucent";if(V.renderPass===de){var Te=V.depthModeForSublayer(1,"opaque"===V.renderPass?Ht.ReadWrite:Ht.ReadOnly);tl(V,$,q,te,Te,U,!1)}if("translucent"===V.renderPass&&q.paint.get("fill-antialias")){var Ee=V.depthModeForSublayer(q.getPaintProperty("fill-outline-color")?2:0,Ht.ReadOnly);tl(V,$,q,te,Ee,U,!0)}}},"fill-extrusion":function(V,$,q,te){var xe=q.paint.get("fill-extrusion-opacity");if(0!==xe&&"translucent"===V.renderPass){var Pe=new Ht(V.context.gl.LEQUAL,Ht.ReadWrite,V.depthRangeFor3D);if(1!==xe||q.paint.get("fill-extrusion-pattern").constantOr(1))dl(V,$,q,te,Pe,tt.disabled,it.disabled),dl(V,$,q,te,Pe,V.stencilModeFor3D(),V.colorModeForRenderPass());else{var U=V.colorModeForRenderPass();dl(V,$,q,te,Pe,tt.disabled,U)}}},hillshade:function(V,$,q,te){if("offscreen"===V.renderPass||"translucent"===V.renderPass){for(var xe=V.context,Pe=$.getSource().maxzoom,U=V.depthModeForSublayer(0,Ht.ReadOnly),ie=V.colorModeForRenderPass(),de="translucent"===V.renderPass?V.stencilConfigForOverlap(te):[{},te],Te=de[0],Ee=0,Fe=de[1];Ee<Fe.length;Ee+=1){var Ye=Fe[Ee],Xe=$.getTile(Ye);Xe.needsHillshadePrepare&&"offscreen"===V.renderPass?Lu(V,Xe,q,Pe,U,tt.disabled,ie):"translucent"===V.renderPass&&xs(V,Xe,q,U,Te[Ye.overscaledZ],ie)}xe.viewport.set([0,0,V.width,V.height])}},raster:function(V,$,q,te){if("translucent"===V.renderPass&&0!==q.paint.get("raster-opacity")&&te.length)for(var xe=V.context,Pe=xe.gl,U=$.getSource(),ie=V.useProgram("raster"),de=V.colorModeForRenderPass(),Te=U instanceof H?[{},te]:V.stencilConfigForOverlap(te),Ee=Te[0],Fe=Te[1],Ye=Fe[Fe.length-1].overscaledZ,Xe=!V.options.moving,Qe=0,nt=Fe;Qe<nt.length;Qe+=1){var lt=nt[Qe],xt=V.depthModeForSublayer(lt.overscaledZ-Ye,1===q.paint.get("raster-opacity")?Ht.ReadWrite:Ht.ReadOnly,Pe.LESS),Mt=$.getTile(lt),jt=V.transform.calculatePosMatrix(lt.toUnwrapped(),Xe);Mt.registerFadeDuration(q.paint.get("raster-fade-duration"));var Vt=$.findLoadedParent(lt,0),Bt=Ds(Mt,Vt,$,q,V.transform),Xt=void 0,Ut=void 0,mn="nearest"===q.paint.get("raster-resampling")?Pe.NEAREST:Pe.LINEAR;xe.activeTexture.set(Pe.TEXTURE0),Mt.texture.bind(mn,Pe.CLAMP_TO_EDGE,Pe.LINEAR_MIPMAP_NEAREST),xe.activeTexture.set(Pe.TEXTURE1),Vt?(Vt.texture.bind(mn,Pe.CLAMP_TO_EDGE,Pe.LINEAR_MIPMAP_NEAREST),Xt=Math.pow(2,Vt.tileID.overscaledZ-Mt.tileID.overscaledZ),Ut=[Mt.tileID.canonical.x*Xt%1,Mt.tileID.canonical.y*Xt%1]):Mt.texture.bind(mn,Pe.CLAMP_TO_EDGE,Pe.LINEAR_MIPMAP_NEAREST);var sn=cl(jt,Ut||[0,0],Xt||1,Bt,q);U instanceof H?ie.draw(xe,Pe.TRIANGLES,xt,tt.disabled,de,Je.disabled,sn,q.id,U.boundsBuffer,V.quadTriangleIndexBuffer,U.boundsSegments):ie.draw(xe,Pe.TRIANGLES,xt,Ee[lt.overscaledZ],de,Je.disabled,sn,q.id,V.rasterBoundsBuffer,V.quadTriangleIndexBuffer,V.rasterBoundsSegments)}},background:function(V,$,q){var te=q.paint.get("background-color"),xe=q.paint.get("background-opacity");if(0!==xe){var Pe=V.context,U=Pe.gl,ie=V.transform,de=ie.tileSize,Te=q.paint.get("background-pattern");if(!V.isPatternMissing(Te)){var Ee=!Te&&1===te.a&&1===xe&&V.opaquePassEnabledForLayer()?"opaque":"translucent";if(V.renderPass===Ee){var Fe=tt.disabled,Ye=V.depthModeForSublayer(0,"opaque"===Ee?Ht.ReadWrite:Ht.ReadOnly),Xe=V.colorModeForRenderPass(),Qe=V.useProgram(Te?"backgroundPattern":"background"),nt=ie.coveringTiles({tileSize:de});Te&&(Pe.activeTexture.set(U.TEXTURE0),V.imageManager.bind(V.context));for(var lt=q.getCrossfadeParameters(),xt=0,Mt=nt;xt<Mt.length;xt+=1){var jt=Mt[xt],Vt=V.transform.calculatePosMatrix(jt.toUnwrapped()),Bt=Te?Ks(Vt,xe,V,Te,{tileID:jt,tileSize:de},lt):Mi(Vt,xe,te);Qe.draw(Pe,U.TRIANGLES,Ye,Fe,Xe,Je.disabled,Bt,q.id,V.tileExtentBuffer,V.quadTriangleIndexBuffer,V.tileExtentSegments)}}}}},debug:function(V,$,q){for(var te=0;te<q.length;te++)Nu(V,$,q[te])},custom:function(V,$,q){var te=V.context,xe=q.implementation;if("offscreen"===V.renderPass){var Pe=xe.prerender;Pe&&(V.setCustomLayerDefaults(),te.setColorMode(V.colorModeForRenderPass()),Pe.call(xe,te.gl,V.transform.customLayerMatrix()),te.setDirty(),V.setBaseState())}else if("translucent"===V.renderPass){V.setCustomLayerDefaults(),te.setColorMode(V.colorModeForRenderPass()),te.setStencilMode(tt.disabled);var U="3d"===xe.renderingMode?new Ht(V.context.gl.LEQUAL,Ht.ReadWrite,V.depthRangeFor3D):V.depthModeForSublayer(0,Ht.ReadOnly);te.setDepthMode(U),xe.render(te.gl,V.transform.customLayerMatrix()),te.setDirty(),V.setBaseState(),te.bindFramebuffer.set(null)}}},no=function(V,$){this.context=new ot(V),this.transform=$,this._tileTextures={},this.setup(),this.numSublayers=gt.maxUnderzooming+gt.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new hr,this.gpuTimers={}};no.prototype.resize=function(V,$){if(this.width=V*f.browser.devicePixelRatio,this.height=$*f.browser.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(var q=0,te=this.style._order;q<te.length;q+=1)this.style._layers[te[q]].resize()},no.prototype.setup=function(){var V=this.context,$=new f.StructArrayLayout2i4;$.emplaceBack(0,0),$.emplaceBack(f.EXTENT,0),$.emplaceBack(0,f.EXTENT),$.emplaceBack(f.EXTENT,f.EXTENT),this.tileExtentBuffer=V.createVertexBuffer($,Mr.members),this.tileExtentSegments=f.SegmentVector.simpleSegment(0,0,4,2);var q=new f.StructArrayLayout2i4;q.emplaceBack(0,0),q.emplaceBack(f.EXTENT,0),q.emplaceBack(0,f.EXTENT),q.emplaceBack(f.EXTENT,f.EXTENT),this.debugBuffer=V.createVertexBuffer(q,Mr.members),this.debugSegments=f.SegmentVector.simpleSegment(0,0,4,5);var te=new f.StructArrayLayout4i8;te.emplaceBack(0,0,0,0),te.emplaceBack(f.EXTENT,0,f.EXTENT,0),te.emplaceBack(0,f.EXTENT,0,f.EXTENT),te.emplaceBack(f.EXTENT,f.EXTENT,f.EXTENT,f.EXTENT),this.rasterBoundsBuffer=V.createVertexBuffer(te,G.members),this.rasterBoundsSegments=f.SegmentVector.simpleSegment(0,0,4,2);var xe=new f.StructArrayLayout2i4;xe.emplaceBack(0,0),xe.emplaceBack(1,0),xe.emplaceBack(0,1),xe.emplaceBack(1,1),this.viewportBuffer=V.createVertexBuffer(xe,Mr.members),this.viewportSegments=f.SegmentVector.simpleSegment(0,0,4,2);var Pe=new f.StructArrayLayout1ui2;Pe.emplaceBack(0),Pe.emplaceBack(1),Pe.emplaceBack(3),Pe.emplaceBack(2),Pe.emplaceBack(0),this.tileBorderIndexBuffer=V.createIndexBuffer(Pe);var U=new f.StructArrayLayout3ui6;U.emplaceBack(0,1,2),U.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=V.createIndexBuffer(U),this.emptyTexture=new f.Texture(V,{width:1,height:1,data:new Uint8Array([0,0,0,0])},V.gl.RGBA);var ie=this.context.gl;this.stencilClearMode=new tt({func:ie.ALWAYS,mask:0},0,255,ie.ZERO,ie.ZERO,ie.ZERO)},no.prototype.clearStencil=function(){var V=this.context,$=V.gl;this.nextStencilID=1,this.currentStencilSource=void 0;var q=f.create();f.ortho(q,0,this.width,this.height,0,0,1),f.scale(q,q,[$.drawingBufferWidth,$.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(V,$.TRIANGLES,Ht.disabled,this.stencilClearMode,it.disabled,Je.disabled,$l(q),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)},no.prototype._renderTileClippingMasks=function(V,$){if(this.currentStencilSource!==V.source&&V.isTileClipped()&&$&&$.length){this.currentStencilSource=V.source;var q=this.context,te=q.gl;this.nextStencilID+$.length>256&&this.clearStencil(),q.setColorMode(it.disabled),q.setDepthMode(Ht.disabled);var xe=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(var Pe=0,U=$;Pe<U.length;Pe+=1){var ie=U[Pe],de=this._tileClippingMaskIDs[ie.key]=this.nextStencilID++;xe.draw(q,te.TRIANGLES,Ht.disabled,new tt({func:te.ALWAYS,mask:0},de,255,te.KEEP,te.KEEP,te.REPLACE),it.disabled,Je.disabled,$l(ie.posMatrix),"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}},no.prototype.stencilModeFor3D=function(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();var V=this.nextStencilID++,$=this.context.gl;return new tt({func:$.NOTEQUAL,mask:255},V,255,$.KEEP,$.KEEP,$.REPLACE)},no.prototype.stencilModeForClipping=function(V){var $=this.context.gl;return new tt({func:$.EQUAL,mask:255},this._tileClippingMaskIDs[V.key],0,$.KEEP,$.KEEP,$.REPLACE)},no.prototype.stencilConfigForOverlap=function(V){var $,q=this.context.gl,te=V.sort(function(de,Te){return Te.overscaledZ-de.overscaledZ}),xe=te[te.length-1].overscaledZ,Pe=te[0].overscaledZ-xe+1;if(Pe>1){this.currentStencilSource=void 0,this.nextStencilID+Pe>256&&this.clearStencil();for(var U={},ie=0;ie<Pe;ie++)U[ie+xe]=new tt({func:q.GEQUAL,mask:255},ie+this.nextStencilID,255,q.KEEP,q.KEEP,q.REPLACE);return this.nextStencilID+=Pe,[U,te]}return[($={},$[xe]=tt.disabled,$),te]},no.prototype.colorModeForRenderPass=function(){var V=this.context.gl;if(this._showOverdrawInspector){var $=.125;return new it([V.CONSTANT_COLOR,V.ONE],new f.Color($,$,$,0),[!0,!0,!0,!0])}return"opaque"===this.renderPass?it.unblended:it.alphaBlended},no.prototype.depthModeForSublayer=function(V,$,q){if(!this.opaquePassEnabledForLayer())return Ht.disabled;var te=1-((1+this.currentLayer)*this.numSublayers+V)*this.depthEpsilon;return new Ht(q||this.context.gl.LEQUAL,$,[te,te])},no.prototype.opaquePassEnabledForLayer=function(){return this.currentLayer<this.opaquePassCutoff},no.prototype.render=function(V,$){var q=this;this.style=V,this.options=$,this.lineAtlas=V.lineAtlas,this.imageManager=V.imageManager,this.glyphManager=V.glyphManager,this.symbolFadeChange=V.placement.symbolFadeChange(f.browser.now()),this.imageManager.beginFrame();var te=this.style._order,xe=this.style.sourceCaches;for(var Pe in xe){var U=xe[Pe];U.used&&U.prepare(this.context)}var ie,de,Te={},Ee={},Fe={};for(var Ye in xe){var Xe=xe[Ye];Te[Ye]=Xe.getVisibleCoordinates(),Ee[Ye]=Te[Ye].slice().reverse(),Fe[Ye]=Xe.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(var Qe=0;Qe<te.length;Qe++)if(this.style._layers[te[Qe]].is3D()){this.opaquePassCutoff=Qe;break}this.renderPass="offscreen";for(var lt=0,xt=te;lt<xt.length;lt+=1){var jt=this.style._layers[xt[lt]];if(jt.hasOffscreenPass()&&!jt.isHidden(this.transform.zoom)){var Vt=Ee[jt.source];("custom"===jt.type||Vt.length)&&this.renderLayer(this,xe[jt.source],jt,Vt)}}for(this.context.bindFramebuffer.set(null),this.context.clear({color:$.showOverdrawInspector?f.Color.black:f.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=$.showOverdrawInspector,this.depthRangeFor3D=[0,1-(V._order.length+2)*this.numSublayers*this.depthEpsilon],this.renderPass="opaque",this.currentLayer=te.length-1;this.currentLayer>=0;this.currentLayer--){var Bt=this.style._layers[te[this.currentLayer]],Xt=xe[Bt.source],Ut=Te[Bt.source];this._renderTileClippingMasks(Bt,Ut),this.renderLayer(this,Xt,Bt,Ut)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<te.length;this.currentLayer++){var mn=this.style._layers[te[this.currentLayer]],sn=xe[mn.source],rn=("symbol"===mn.type?Fe:Ee)[mn.source];this._renderTileClippingMasks(mn,Te[mn.source]),this.renderLayer(this,sn,mn,rn)}this.options.showTileBoundaries&&(f.values(this.style._layers).forEach(function(In){In.source&&!In.isHidden(q.transform.zoom)&&(In.source!==(de&&de.id)&&(de=q.style.sourceCaches[In.source]),(!ie||ie.getSource().maxzoom<de.getSource().maxzoom)&&(ie=de))}),ie&&mu.debug(this,ie,ie.getVisibleCoordinates())),this.options.showPadding&&function Xl(V){var $=V.transform.padding;oc(V,V.transform.height-($.top||0),3,lf),oc(V,$.bottom||0,3,kc),gu(V,$.left||0,3,ic),gu(V,V.transform.width-($.right||0),3,Ol);var te,xe,Pe,U,q=V.transform.centerPoint;Jl(te=V,(xe=q.x)-1,(Pe=V.transform.height-q.y)-10,2,20,U=as),Jl(te,xe-10,Pe-1,20,2,U)}(this),this.context.setDefault()},no.prototype.renderLayer=function(V,$,q,te){q.isHidden(this.transform.zoom)||("background"===q.type||"custom"===q.type||te.length)&&(this.id=q.id,this.gpuTimingStart(q),mu[q.type](V,$,q,te,this.style.placement.variableOffsets),this.gpuTimingEnd())},no.prototype.gpuTimingStart=function(V){if(this.options.gpuTiming){var $=this.context.extTimerQuery,q=this.gpuTimers[V.id];q||(q=this.gpuTimers[V.id]={calls:0,cpuTime:0,query:$.createQueryEXT()}),q.calls++,$.beginQueryEXT($.TIME_ELAPSED_EXT,q.query)}},no.prototype.gpuTimingEnd=function(){if(this.options.gpuTiming){var V=this.context.extTimerQuery;V.endQueryEXT(V.TIME_ELAPSED_EXT)}},no.prototype.collectGpuTimers=function(){var V=this.gpuTimers;return this.gpuTimers={},V},no.prototype.queryGpuTimers=function(V){var $={};for(var q in V){var te=V[q],xe=this.context.extTimerQuery,Pe=xe.getQueryObjectEXT(te.query,xe.QUERY_RESULT_EXT)/1e6;xe.deleteQueryEXT(te.query),$[q]=Pe}return $},no.prototype.translatePosMatrix=function(V,$,q,te,xe){if(!q[0]&&!q[1])return V;var Pe=xe?"map"===te?this.transform.angle:0:"viewport"===te?-this.transform.angle:0;if(Pe){var U=Math.sin(Pe),ie=Math.cos(Pe);q=[q[0]*ie-q[1]*U,q[0]*U+q[1]*ie]}var de=[xe?q[0]:mr($,q[0],this.transform.zoom),xe?q[1]:mr($,q[1],this.transform.zoom),0],Te=new Float32Array(16);return f.translate(Te,V,de),Te},no.prototype.saveTileTexture=function(V){var $=this._tileTextures[V.size[0]];$?$.push(V):this._tileTextures[V.size[0]]=[V]},no.prototype.getTileTexture=function(V){var $=this._tileTextures[V];return $&&$.length>0?$.pop():null},no.prototype.isPatternMissing=function(V){if(!V)return!1;if(!V.from||!V.to)return!0;var $=this.imageManager.getPattern(V.from.toString()),q=this.imageManager.getPattern(V.to.toString());return!$||!q},no.prototype.useProgram=function(V,$){this.cache=this.cache||{};var q=""+V+($?$.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[q]||(this.cache[q]=new El(this.context,Zs[V],$,Ac[V],this._showOverdrawInspector)),this.cache[q]},no.prototype.setCustomLayerDefaults=function(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()},no.prototype.setBaseState=function(){var V=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(V.FUNC_ADD)},no.prototype.initDebugOverlayCanvas=function(){null==this.debugOverlayCanvas&&(this.debugOverlayCanvas=f.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new f.Texture(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))},no.prototype.destroy=function(){this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy()};var Pl=function(V,$){this.points=V,this.planes=$};Pl.fromInvProjectionMatrix=function(V,$,q){var te=Math.pow(2,q),xe=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(function(U){return f.transformMat4([],U,V)}).map(function(U){return f.scale$1([],U,1/U[3]/$*te)}),Pe=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(function(U){var ie=f.sub([],xe[U[0]],xe[U[1]]),de=f.sub([],xe[U[2]],xe[U[1]]),Te=f.normalize([],f.cross([],ie,de)),Ee=-f.dot(Te,xe[U[1]]);return Te.concat(Ee)});return new Pl(xe,Pe)};var hl=function(V,$){this.min=V,this.max=$,this.center=f.scale$2([],f.add([],this.min,this.max),.5)};hl.prototype.quadrant=function(V){for(var $=[V%2==0,V<2],q=f.clone$2(this.min),te=f.clone$2(this.max),xe=0;xe<$.length;xe++)q[xe]=$[xe]?this.min[xe]:this.center[xe],te[xe]=$[xe]?this.center[xe]:this.max[xe];return te[2]=this.max[2],new hl(q,te)},hl.prototype.distanceX=function(V){return Math.max(Math.min(this.max[0],V[0]),this.min[0])-V[0]},hl.prototype.distanceY=function(V){return Math.max(Math.min(this.max[1],V[1]),this.min[1])-V[1]},hl.prototype.intersects=function(V){for(var $=[[this.min[0],this.min[1],0,1],[this.max[0],this.min[1],0,1],[this.max[0],this.max[1],0,1],[this.min[0],this.max[1],0,1]],q=!0,te=0;te<V.planes.length;te++){for(var xe=V.planes[te],Pe=0,U=0;U<$.length;U++)Pe+=f.dot$1(xe,$[U])>=0;if(0===Pe)return 0;Pe!==$.length&&(q=!1)}if(q)return 2;for(var ie=0;ie<3;ie++){for(var de=Number.MAX_VALUE,Te=-Number.MAX_VALUE,Ee=0;Ee<V.points.length;Ee++){var Fe=V.points[Ee][ie]-this.min[ie];de=Math.min(de,Fe),Te=Math.max(Te,Fe)}if(Te<0||de>this.max[ie]-this.min[ie])return 0}return 1};var pa=function(V,$,q,te){if(void 0===V&&(V=0),void 0===$&&($=0),void 0===q&&(q=0),void 0===te&&(te=0),isNaN(V)||V<0||isNaN($)||$<0||isNaN(q)||q<0||isNaN(te)||te<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=V,this.bottom=$,this.left=q,this.right=te};pa.prototype.interpolate=function(V,$,q){return null!=$.top&&null!=V.top&&(this.top=f.number(V.top,$.top,q)),null!=$.bottom&&null!=V.bottom&&(this.bottom=f.number(V.bottom,$.bottom,q)),null!=$.left&&null!=V.left&&(this.left=f.number(V.left,$.left,q)),null!=$.right&&null!=V.right&&(this.right=f.number(V.right,$.right,q)),this},pa.prototype.getCenter=function(V,$){var q=f.clamp((this.left+V-this.right)/2,0,V),te=f.clamp((this.top+$-this.bottom)/2,0,$);return new f.Point(q,te)},pa.prototype.equals=function(V){return this.top===V.top&&this.bottom===V.bottom&&this.left===V.left&&this.right===V.right},pa.prototype.clone=function(){return new pa(this.top,this.bottom,this.left,this.right)},pa.prototype.toJSON=function(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}};var hi=function(V,$,q,te,xe){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=void 0===xe||xe,this._minZoom=V||0,this._maxZoom=$||22,this._minPitch=q??0,this._maxPitch=te??60,this.setMaxBounds(),this.width=0,this.height=0,this._center=new f.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new pa,this._posMatrixCache={},this._alignedPosMatrixCache={}},Zi={minZoom:{configurable:!0},maxZoom:{configurable:!0},minPitch:{configurable:!0},maxPitch:{configurable:!0},renderWorldCopies:{configurable:!0},worldSize:{configurable:!0},centerOffset:{configurable:!0},size:{configurable:!0},bearing:{configurable:!0},pitch:{configurable:!0},fov:{configurable:!0},zoom:{configurable:!0},center:{configurable:!0},padding:{configurable:!0},centerPoint:{configurable:!0},unmodified:{configurable:!0},point:{configurable:!0}};hi.prototype.clone=function(){var V=new hi(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return V.tileSize=this.tileSize,V.latRange=this.latRange,V.width=this.width,V.height=this.height,V._center=this._center,V.zoom=this.zoom,V.angle=this.angle,V._fov=this._fov,V._pitch=this._pitch,V._unmodified=this._unmodified,V._edgeInsets=this._edgeInsets.clone(),V._calcMatrices(),V},Zi.minZoom.get=function(){return this._minZoom},Zi.minZoom.set=function(V){this._minZoom!==V&&(this._minZoom=V,this.zoom=Math.max(this.zoom,V))},Zi.maxZoom.get=function(){return this._maxZoom},Zi.maxZoom.set=function(V){this._maxZoom!==V&&(this._maxZoom=V,this.zoom=Math.min(this.zoom,V))},Zi.minPitch.get=function(){return this._minPitch},Zi.minPitch.set=function(V){this._minPitch!==V&&(this._minPitch=V,this.pitch=Math.max(this.pitch,V))},Zi.maxPitch.get=function(){return this._maxPitch},Zi.maxPitch.set=function(V){this._maxPitch!==V&&(this._maxPitch=V,this.pitch=Math.min(this.pitch,V))},Zi.renderWorldCopies.get=function(){return this._renderWorldCopies},Zi.renderWorldCopies.set=function(V){void 0===V?V=!0:null===V&&(V=!1),this._renderWorldCopies=V},Zi.worldSize.get=function(){return this.tileSize*this.scale},Zi.centerOffset.get=function(){return this.centerPoint._sub(this.size._div(2))},Zi.size.get=function(){return new f.Point(this.width,this.height)},Zi.bearing.get=function(){return-this.angle/Math.PI*180},Zi.bearing.set=function(V){var $=-f.wrap(V,-180,180)*Math.PI/180;this.angle!==$&&(this._unmodified=!1,this.angle=$,this._calcMatrices(),this.rotationMatrix=f.create$2(),f.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},Zi.pitch.get=function(){return this._pitch/Math.PI*180},Zi.pitch.set=function(V){var $=f.clamp(V,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==$&&(this._unmodified=!1,this._pitch=$,this._calcMatrices())},Zi.fov.get=function(){return this._fov/Math.PI*180},Zi.fov.set=function(V){V=Math.max(.01,Math.min(60,V)),this._fov!==V&&(this._unmodified=!1,this._fov=V/180*Math.PI,this._calcMatrices())},Zi.zoom.get=function(){return this._zoom},Zi.zoom.set=function(V){var $=Math.min(Math.max(V,this.minZoom),this.maxZoom);this._zoom!==$&&(this._unmodified=!1,this._zoom=$,this.scale=this.zoomScale($),this.tileZoom=Math.floor($),this.zoomFraction=$-this.tileZoom,this._constrain(),this._calcMatrices())},Zi.center.get=function(){return this._center},Zi.center.set=function(V){V.lat===this._center.lat&&V.lng===this._center.lng||(this._unmodified=!1,this._center=V,this._constrain(),this._calcMatrices())},Zi.padding.get=function(){return this._edgeInsets.toJSON()},Zi.padding.set=function(V){this._edgeInsets.equals(V)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,V,1),this._calcMatrices())},Zi.centerPoint.get=function(){return this._edgeInsets.getCenter(this.width,this.height)},hi.prototype.isPaddingEqual=function(V){return this._edgeInsets.equals(V)},hi.prototype.interpolatePadding=function(V,$,q){this._unmodified=!1,this._edgeInsets.interpolate(V,$,q),this._constrain(),this._calcMatrices()},hi.prototype.coveringZoomLevel=function(V){var $=(V.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/V.tileSize));return Math.max(0,$)},hi.prototype.getVisibleUnwrappedCoordinates=function(V){var $=[new f.UnwrappedTileID(0,V)];if(this._renderWorldCopies)for(var q=this.pointCoordinate(new f.Point(0,0)),te=this.pointCoordinate(new f.Point(this.width,0)),xe=this.pointCoordinate(new f.Point(this.width,this.height)),Pe=this.pointCoordinate(new f.Point(0,this.height)),U=Math.floor(Math.min(q.x,te.x,xe.x,Pe.x)),ie=Math.floor(Math.max(q.x,te.x,xe.x,Pe.x)),de=U-1;de<=ie+1;de++)0!==de&&$.push(new f.UnwrappedTileID(de,V));return $},hi.prototype.coveringTiles=function(V){var $=this.coveringZoomLevel(V),q=$;if(void 0!==V.minzoom&&$<V.minzoom)return[];void 0!==V.maxzoom&&$>V.maxzoom&&($=V.maxzoom);var te=f.MercatorCoordinate.fromLngLat(this.center),xe=Math.pow(2,$),Pe=[xe*te.x,xe*te.y,0],U=Pl.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,$),ie=V.minzoom||0;this.pitch<=60&&this._edgeInsets.top<.1&&(ie=$);var de=function(rn){return{aabb:new hl([rn*xe,0,0],[(rn+1)*xe,xe,0]),zoom:0,x:0,y:0,wrap:rn,fullyVisible:!1}},Te=[],Ee=[],Fe=$,Ye=V.reparseOverscaled?q:$;if(this._renderWorldCopies)for(var Xe=1;Xe<=3;Xe++)Te.push(de(-Xe)),Te.push(de(Xe));for(Te.push(de(0));Te.length>0;){var Qe=Te.pop(),nt=Qe.x,lt=Qe.y,xt=Qe.fullyVisible;if(!xt){var Mt=Qe.aabb.intersects(U);if(0===Mt)continue;xt=2===Mt}var jt=Qe.aabb.distanceX(Pe),Vt=Qe.aabb.distanceY(Pe),Bt=Math.max(Math.abs(jt),Math.abs(Vt));if(Qe.zoom===Fe||Bt>3+(1<<Fe-Qe.zoom)-2&&Qe.zoom>=ie)Ee.push({tileID:new f.OverscaledTileID(Qe.zoom===Fe?Ye:Qe.zoom,Qe.wrap,Qe.zoom,nt,lt),distanceSq:f.sqrLen([Pe[0]-.5-nt,Pe[1]-.5-lt])});else for(var Ut=0;Ut<4;Ut++){var mn=(nt<<1)+Ut%2,sn=(lt<<1)+(Ut>>1);Te.push({aabb:Qe.aabb.quadrant(Ut),zoom:Qe.zoom+1,x:mn,y:sn,wrap:Qe.wrap,fullyVisible:xt})}}return Ee.sort(function(rn,In){return rn.distanceSq-In.distanceSq}).map(function(rn){return rn.tileID})},hi.prototype.resize=function(V,$){this.width=V,this.height=$,this.pixelsToGLUnits=[2/V,-2/$],this._constrain(),this._calcMatrices()},Zi.unmodified.get=function(){return this._unmodified},hi.prototype.zoomScale=function(V){return Math.pow(2,V)},hi.prototype.scaleZoom=function(V){return Math.log(V)/Math.LN2},hi.prototype.project=function(V){var $=f.clamp(V.lat,-this.maxValidLatitude,this.maxValidLatitude);return new f.Point(f.mercatorXfromLng(V.lng)*this.worldSize,f.mercatorYfromLat($)*this.worldSize)},hi.prototype.unproject=function(V){return new f.MercatorCoordinate(V.x/this.worldSize,V.y/this.worldSize).toLngLat()},Zi.point.get=function(){return this.project(this.center)},hi.prototype.setLocationAtPoint=function(V,$){var q=this.pointCoordinate($),te=this.pointCoordinate(this.centerPoint),xe=this.locationCoordinate(V),Pe=new f.MercatorCoordinate(xe.x-(q.x-te.x),xe.y-(q.y-te.y));this.center=this.coordinateLocation(Pe),this._renderWorldCopies&&(this.center=this.center.wrap())},hi.prototype.locationPoint=function(V){return this.coordinatePoint(this.locationCoordinate(V))},hi.prototype.pointLocation=function(V){return this.coordinateLocation(this.pointCoordinate(V))},hi.prototype.locationCoordinate=function(V){return f.MercatorCoordinate.fromLngLat(V)},hi.prototype.coordinateLocation=function(V){return V.toLngLat()},hi.prototype.pointCoordinate=function(V){var $=[V.x,V.y,0,1],q=[V.x,V.y,1,1];f.transformMat4($,$,this.pixelMatrixInverse),f.transformMat4(q,q,this.pixelMatrixInverse);var te=$[3],xe=q[3],ie=$[1]/te,de=q[1]/xe,Te=$[2]/te,Ee=q[2]/xe,Fe=Te===Ee?0:(0-Te)/(Ee-Te);return new f.MercatorCoordinate(f.number($[0]/te,q[0]/xe,Fe)/this.worldSize,f.number(ie,de,Fe)/this.worldSize)},hi.prototype.coordinatePoint=function(V){var $=[V.x*this.worldSize,V.y*this.worldSize,0,1];return f.transformMat4($,$,this.pixelMatrix),new f.Point($[0]/$[3],$[1]/$[3])},hi.prototype.getBounds=function(){return(new f.LngLatBounds).extend(this.pointLocation(new f.Point(0,0))).extend(this.pointLocation(new f.Point(this.width,0))).extend(this.pointLocation(new f.Point(this.width,this.height))).extend(this.pointLocation(new f.Point(0,this.height)))},hi.prototype.getMaxBounds=function(){return this.latRange&&2===this.latRange.length&&this.lngRange&&2===this.lngRange.length?new f.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null},hi.prototype.setMaxBounds=function(V){V?(this.lngRange=[V.getWest(),V.getEast()],this.latRange=[V.getSouth(),V.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])},hi.prototype.calculatePosMatrix=function(V,$){void 0===$&&($=!1);var q=V.key,te=$?this._alignedPosMatrixCache:this._posMatrixCache;if(te[q])return te[q];var xe=V.canonical,Pe=this.worldSize/this.zoomScale(xe.z),U=xe.x+Math.pow(2,xe.z)*V.wrap,ie=f.identity(new Float64Array(16));return f.translate(ie,ie,[U*Pe,xe.y*Pe,0]),f.scale(ie,ie,[Pe/f.EXTENT,Pe/f.EXTENT,1]),f.multiply(ie,$?this.alignedProjMatrix:this.projMatrix,ie),te[q]=new Float32Array(ie),te[q]},hi.prototype.customLayerMatrix=function(){return this.mercatorMatrix.slice()},hi.prototype._constrain=function(){if(this.center&&this.width&&this.height&&!this._constraining){this._constraining=!0;var V,$,q,te,xe=-90,Pe=90,U=-180,ie=180,de=this.size,Te=this._unmodified;if(this.latRange){var Ee=this.latRange;xe=f.mercatorYfromLat(Ee[1])*this.worldSize,V=(Pe=f.mercatorYfromLat(Ee[0])*this.worldSize)-xe<de.y?de.y/(Pe-xe):0}if(this.lngRange){var Fe=this.lngRange;U=f.mercatorXfromLng(Fe[0])*this.worldSize,$=(ie=f.mercatorXfromLng(Fe[1])*this.worldSize)-U<de.x?de.x/(ie-U):0}var Ye=this.point,Xe=Math.max($||0,V||0);if(Xe)return this.center=this.unproject(new f.Point($?(ie+U)/2:Ye.x,V?(Pe+xe)/2:Ye.y)),this.zoom+=this.scaleZoom(Xe),this._unmodified=Te,void(this._constraining=!1);if(this.latRange){var Qe=Ye.y,nt=de.y/2;Qe-nt<xe&&(te=xe+nt),Qe+nt>Pe&&(te=Pe-nt)}if(this.lngRange){var lt=Ye.x,xt=de.x/2;lt-xt<U&&(q=U+xt),lt+xt>ie&&(q=ie-xt)}void 0===q&&void 0===te||(this.center=this.unproject(new f.Point(void 0!==q?q:Ye.x,void 0!==te?te:Ye.y))),this._unmodified=Te,this._constraining=!1}},hi.prototype._calcMatrices=function(){if(this.height){var $=this.centerOffset;this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height;var q=Math.PI/2+this._pitch,te=this._fov*(.5+$.y/this.height),xe=Math.sin(te)*this.cameraToCenterDistance/Math.sin(f.clamp(Math.PI-q-te,.01,Math.PI-.01)),Pe=this.point,U=Pe.x,ie=Pe.y,de=1.01*(Math.cos(Math.PI/2-this._pitch)*xe+this.cameraToCenterDistance),Te=this.height/50,Ee=new Float64Array(16);f.perspective(Ee,this._fov,this.width/this.height,Te,de),Ee[8]=2*-$.x/this.width,Ee[9]=2*$.y/this.height,f.scale(Ee,Ee,[1,-1,1]),f.translate(Ee,Ee,[0,0,-this.cameraToCenterDistance]),f.rotateX(Ee,Ee,this._pitch),f.rotateZ(Ee,Ee,this.angle),f.translate(Ee,Ee,[-U,-ie,0]),this.mercatorMatrix=f.scale([],Ee,[this.worldSize,this.worldSize,this.worldSize]),f.scale(Ee,Ee,[1,1,f.mercatorZfromAltitude(1,this.center.lat)*this.worldSize,1]),this.projMatrix=Ee,this.invProjMatrix=f.invert([],this.projMatrix);var Fe=this.width%2/2,Ye=this.height%2/2,Xe=Math.cos(this.angle),Qe=Math.sin(this.angle),nt=U-Math.round(U)+Xe*Fe+Qe*Ye,lt=ie-Math.round(ie)+Xe*Ye+Qe*Fe,xt=new Float64Array(Ee);if(f.translate(xt,xt,[nt>.5?nt-1:nt,lt>.5?lt-1:lt,0]),this.alignedProjMatrix=xt,Ee=f.create(),f.scale(Ee,Ee,[this.width/2,-this.height/2,1]),f.translate(Ee,Ee,[1,-1,0]),this.labelPlaneMatrix=Ee,Ee=f.create(),f.scale(Ee,Ee,[1,-1,1]),f.translate(Ee,Ee,[-1,-1,0]),f.scale(Ee,Ee,[2/this.width,2/this.height,1]),this.glCoordMatrix=Ee,this.pixelMatrix=f.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),!(Ee=f.invert(new Float64Array(16),this.pixelMatrix)))throw new Error("failed to invert matrix");this.pixelMatrixInverse=Ee,this._posMatrixCache={},this._alignedPosMatrixCache={}}},hi.prototype.maxPitchScaleFactor=function(){if(!this.pixelMatrixInverse)return 1;var V=this.pointCoordinate(new f.Point(0,0)),$=[V.x*this.worldSize,V.y*this.worldSize,0,1];return f.transformMat4($,$,this.pixelMatrix)[3]/this.cameraToCenterDistance},hi.prototype.getCameraPoint=function(){var $=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new f.Point(0,$))},hi.prototype.getCameraQueryGeometry=function(V){var $=this.getCameraPoint();if(1===V.length)return[V[0],$];for(var q=$.x,te=$.y,xe=$.x,Pe=$.y,U=0,ie=V;U<ie.length;U+=1){var de=ie[U];q=Math.min(q,de.x),te=Math.min(te,de.y),xe=Math.max(xe,de.x),Pe=Math.max(Pe,de.y)}return[new f.Point(q,te),new f.Point(xe,te),new f.Point(xe,Pe),new f.Point(q,Pe),new f.Point(q,te)]},Object.defineProperties(hi.prototype,Zi);var Rl=function(V){var $,te,xe,Pe;this._hashName=V&&encodeURIComponent(V),f.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=($=this._updateHashUnthrottled.bind(this),300,te=!1,xe=null,Pe=function(){xe=null,te&&($(),xe=setTimeout(Pe,300),te=!1)},function(){return te=!0,xe||Pe(),xe})};Rl.prototype.addTo=function(V){return this._map=V,f.window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},Rl.prototype.remove=function(){return f.window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this},Rl.prototype.getHashString=function(V){var $=this._map.getCenter(),q=Math.round(100*this._map.getZoom())/100,te=Math.ceil((q*Math.LN2+Math.log(512/360/.5))/Math.LN10),xe=Math.pow(10,te),Pe=Math.round($.lng*xe)/xe,U=Math.round($.lat*xe)/xe,ie=this._map.getBearing(),de=this._map.getPitch(),Te="";if(Te+=V?"/"+Pe+"/"+U+"/"+q:q+"/"+U+"/"+Pe,(ie||de)&&(Te+="/"+Math.round(10*ie)/10),de&&(Te+="/"+Math.round(de)),this._hashName){var Ee=this._hashName,Fe=!1,Ye=f.window.location.hash.slice(1).split("&").map(function(Xe){var Qe=Xe.split("=")[0];return Qe===Ee?(Fe=!0,Qe+"="+Te):Xe}).filter(function(Xe){return Xe});return Fe||Ye.push(Ee+"="+Te),"#"+Ye.join("&")}return"#"+Te},Rl.prototype._getCurrentHash=function(){var V,$=this,q=f.window.location.hash.replace("#","");return this._hashName?(q.split("&").map(function(te){return te.split("=")}).forEach(function(te){te[0]===$._hashName&&(V=te)}),(V&&V[1]||"").split("/")):q.split("/")},Rl.prototype._onHashChange=function(){var V=this._getCurrentHash();if(V.length>=3&&!V.some(function(q){return isNaN(q)})){var $=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(V[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+V[2],+V[1]],zoom:+V[0],bearing:$,pitch:+(V[4]||0)}),!0}return!1},Rl.prototype._updateHashUnthrottled=function(){var V=this.getHashString();try{f.window.history.replaceState(f.window.history.state,"",V)}catch{}};var pl={linearity:.3,easing:f.bezier(0,0,.3,1)},Xi=f.extend({deceleration:2500,maxSpeed:1400},pl),Fu=f.extend({deceleration:20,maxSpeed:1400},pl),ml=f.extend({deceleration:1e3,maxSpeed:360},pl),jr=f.extend({deceleration:1e3,maxSpeed:90},pl),$o=function(V){this._map=V,this.clear()};function Ei(V,$){(!V.duration||V.duration<$.duration)&&(V.duration=$.duration,V.easing=$.easing)}function Oo(V,$,q){var te=q.maxSpeed,xe=q.linearity,Pe=q.deceleration,U=f.clamp(V*xe/($/1e3),-te,te),ie=Math.abs(U)/(Pe*xe);return{easing:q.easing,duration:1e3*ie,amount:U*(ie/2)}}$o.prototype.clear=function(){this._inertiaBuffer=[]},$o.prototype.record=function(V){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:f.browser.now(),settings:V})},$o.prototype._drainInertiaBuffer=function(){for(var V=this._inertiaBuffer,$=f.browser.now();V.length>0&&$-V[0].time>160;)V.shift()},$o.prototype._onMoveEnd=function(V){if(this._drainInertiaBuffer(),!(this._inertiaBuffer.length<2)){for(var $={zoom:0,bearing:0,pitch:0,pan:new f.Point(0,0),pinchAround:void 0,around:void 0},q=0,te=this._inertiaBuffer;q<te.length;q+=1){var xe=te[q].settings;$.zoom+=xe.zoomDelta||0,$.bearing+=xe.bearingDelta||0,$.pitch+=xe.pitchDelta||0,xe.panDelta&&$.pan._add(xe.panDelta),xe.around&&($.around=xe.around),xe.pinchAround&&($.pinchAround=xe.pinchAround)}var Pe=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,U={};if($.pan.mag()){var ie=Oo($.pan.mag(),Pe,f.extend({},Xi,V||{}));U.offset=$.pan.mult(ie.amount/$.pan.mag()),U.center=this._map.transform.center,Ei(U,ie)}if($.zoom){var de=Oo($.zoom,Pe,Fu);U.zoom=this._map.transform.zoom+de.amount,Ei(U,de)}if($.bearing){var Te=Oo($.bearing,Pe,ml);U.bearing=this._map.transform.bearing+f.clamp(Te.amount,-179,179),Ei(U,Te)}if($.pitch){var Ee=Oo($.pitch,Pe,jr);U.pitch=this._map.transform.pitch+Ee.amount,Ei(U,Ee)}if(U.zoom||U.bearing){var Fe=void 0===$.pinchAround?$.around:$.pinchAround;U.around=Fe?this._map.unproject(Fe):this._map.getCenter()}return this.clear(),f.extend(U,{noMoveStart:!0})}};var Di=function(V){function $(te,xe,Pe,U){void 0===U&&(U={});var ie=M.mousePos(xe.getCanvasContainer(),Pe),de=xe.unproject(ie);V.call(this,te,f.extend({point:ie,lngLat:de,originalEvent:Pe},U)),this._defaultPrevented=!1,this.target=xe}V&&($.__proto__=V),($.prototype=Object.create(V&&V.prototype)).constructor=$;var q={defaultPrevented:{configurable:!0}};return $.prototype.preventDefault=function(){this._defaultPrevented=!0},q.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties($.prototype,q),$}(f.Event),Is=function(V){function $(te,xe,Pe){var U="touchend"===te?Pe.changedTouches:Pe.touches,ie=M.touchPos(xe.getCanvasContainer(),U),de=ie.map(function(Fe){return xe.unproject(Fe)}),Te=ie.reduce(function(Fe,Ye,Xe,Qe){return Fe.add(Ye.div(Qe.length))},new f.Point(0,0)),Ee=xe.unproject(Te);V.call(this,te,{points:ie,point:Te,lngLats:de,lngLat:Ee,originalEvent:Pe}),this._defaultPrevented=!1}V&&($.__proto__=V),($.prototype=Object.create(V&&V.prototype)).constructor=$;var q={defaultPrevented:{configurable:!0}};return $.prototype.preventDefault=function(){this._defaultPrevented=!0},q.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties($.prototype,q),$}(f.Event),ga=function(V){function $(te,xe,Pe){V.call(this,te,{originalEvent:Pe}),this._defaultPrevented=!1}V&&($.__proto__=V),($.prototype=Object.create(V&&V.prototype)).constructor=$;var q={defaultPrevented:{configurable:!0}};return $.prototype.preventDefault=function(){this._defaultPrevented=!0},q.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties($.prototype,q),$}(f.Event),ea=function(V,$){this._map=V,this._clickTolerance=$.clickTolerance};ea.prototype.reset=function(){delete this._mousedownPos},ea.prototype.wheel=function(V){return this._firePreventable(new ga(V.type,this._map,V))},ea.prototype.mousedown=function(V,$){return this._mousedownPos=$,this._firePreventable(new Di(V.type,this._map,V))},ea.prototype.mouseup=function(V){this._map.fire(new Di(V.type,this._map,V))},ea.prototype.click=function(V,$){this._mousedownPos&&this._mousedownPos.dist($)>=this._clickTolerance||this._map.fire(new Di(V.type,this._map,V))},ea.prototype.dblclick=function(V){return this._firePreventable(new Di(V.type,this._map,V))},ea.prototype.mouseover=function(V){this._map.fire(new Di(V.type,this._map,V))},ea.prototype.mouseout=function(V){this._map.fire(new Di(V.type,this._map,V))},ea.prototype.touchstart=function(V){return this._firePreventable(new Is(V.type,this._map,V))},ea.prototype.touchmove=function(V){this._map.fire(new Is(V.type,this._map,V))},ea.prototype.touchend=function(V){this._map.fire(new Is(V.type,this._map,V))},ea.prototype.touchcancel=function(V){this._map.fire(new Is(V.type,this._map,V))},ea.prototype._firePreventable=function(V){if(this._map.fire(V),V.defaultPrevented)return{}},ea.prototype.isEnabled=function(){return!0},ea.prototype.isActive=function(){return!1},ea.prototype.enable=function(){},ea.prototype.disable=function(){};var Ma=function(V){this._map=V};Ma.prototype.reset=function(){this._delayContextMenu=!1,delete this._contextMenuEvent},Ma.prototype.mousemove=function(V){this._map.fire(new Di(V.type,this._map,V))},Ma.prototype.mousedown=function(){this._delayContextMenu=!0},Ma.prototype.mouseup=function(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new Di("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)},Ma.prototype.contextmenu=function(V){this._delayContextMenu?this._contextMenuEvent=V:this._map.fire(new Di(V.type,this._map,V)),this._map.listens("contextmenu")&&V.preventDefault()},Ma.prototype.isEnabled=function(){return!0},Ma.prototype.isActive=function(){return!1},Ma.prototype.enable=function(){},Ma.prototype.disable=function(){};var ta=function(V,$){this._map=V,this._el=V.getCanvasContainer(),this._container=V.getContainer(),this._clickTolerance=$.clickTolerance||1};function fa(V,$){for(var q={},te=0;te<V.length;te++)q[V[te].identifier]=$[te];return q}ta.prototype.isEnabled=function(){return!!this._enabled},ta.prototype.isActive=function(){return!!this._active},ta.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},ta.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},ta.prototype.mousedown=function(V,$){this.isEnabled()&&V.shiftKey&&0===V.button&&(M.disableDrag(),this._startPos=this._lastPos=$,this._active=!0)},ta.prototype.mousemoveWindow=function(V,$){if(this._active){var q=$;if(!(this._lastPos.equals(q)||!this._box&&q.dist(this._startPos)<this._clickTolerance)){var te=this._startPos;this._lastPos=q,this._box||(this._box=M.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",V));var xe=Math.min(te.x,q.x),Pe=Math.max(te.x,q.x),U=Math.min(te.y,q.y),ie=Math.max(te.y,q.y);M.setTransform(this._box,"translate("+xe+"px,"+U+"px)"),this._box.style.width=Pe-xe+"px",this._box.style.height=ie-U+"px"}}},ta.prototype.mouseupWindow=function(V,$){var q=this;if(this._active&&0===V.button){var te=this._startPos,xe=$;if(this.reset(),M.suppressClick(),te.x!==xe.x||te.y!==xe.y)return this._map.fire(new f.Event("boxzoomend",{originalEvent:V})),{cameraAnimation:function(Pe){return Pe.fitScreenCoordinates(te,xe,q._map.getBearing(),{linear:!0})}};this._fireEvent("boxzoomcancel",V)}},ta.prototype.keydown=function(V){this._active&&27===V.keyCode&&(this.reset(),this._fireEvent("boxzoomcancel",V))},ta.prototype.reset=function(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(M.remove(this._box),this._box=null),M.enableDrag(),delete this._startPos,delete this._lastPos},ta.prototype._fireEvent=function(V,$){return this._map.fire(new f.Event(V,{originalEvent:$}))};var za=function(V){this.reset(),this.numTouches=V.numTouches};za.prototype.reset=function(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1},za.prototype.touchstart=function(V,$,q){(this.centroid||q.length>this.numTouches)&&(this.aborted=!0),this.aborted||(void 0===this.startTime&&(this.startTime=V.timeStamp),q.length===this.numTouches&&(this.centroid=function(te){for(var xe=new f.Point(0,0),Pe=0,U=te;Pe<U.length;Pe+=1)xe._add(U[Pe]);return xe.div(te.length)}($),this.touches=fa(q,$)))},za.prototype.touchmove=function(V,$,q){if(!this.aborted&&this.centroid){var te=fa(q,$);for(var xe in this.touches){var U=te[xe];(!U||U.dist(this.touches[xe])>30)&&(this.aborted=!0)}}},za.prototype.touchend=function(V,$,q){if((!this.centroid||V.timeStamp-this.startTime>500)&&(this.aborted=!0),0===q.length){var te=!this.aborted&&this.centroid;if(this.reset(),te)return te}};var ao=function(V){this.singleTap=new za(V),this.numTaps=V.numTaps,this.reset()};ao.prototype.reset=function(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()},ao.prototype.touchstart=function(V,$,q){this.singleTap.touchstart(V,$,q)},ao.prototype.touchmove=function(V,$,q){this.singleTap.touchmove(V,$,q)},ao.prototype.touchend=function(V,$,q){var te=this.singleTap.touchend(V,$,q);if(te){var xe=V.timeStamp-this.lastTime<500,Pe=!this.lastTap||this.lastTap.dist(te)<30;if(xe&&Pe||this.reset(),this.count++,this.lastTime=V.timeStamp,this.lastTap=te,this.count===this.numTaps)return this.reset(),te}};var Gr=function(){this._zoomIn=new ao({numTouches:1,numTaps:2}),this._zoomOut=new ao({numTouches:2,numTaps:1}),this.reset()};Gr.prototype.reset=function(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()},Gr.prototype.touchstart=function(V,$,q){this._zoomIn.touchstart(V,$,q),this._zoomOut.touchstart(V,$,q)},Gr.prototype.touchmove=function(V,$,q){this._zoomIn.touchmove(V,$,q),this._zoomOut.touchmove(V,$,q)},Gr.prototype.touchend=function(V,$,q){var te=this,xe=this._zoomIn.touchend(V,$,q),Pe=this._zoomOut.touchend(V,$,q);return xe?(this._active=!0,V.preventDefault(),setTimeout(function(){return te.reset()},0),{cameraAnimation:function(U){return U.easeTo({duration:300,zoom:U.getZoom()+1,around:U.unproject(xe)},{originalEvent:V})}}):Pe?(this._active=!0,V.preventDefault(),setTimeout(function(){return te.reset()},0),{cameraAnimation:function(U){return U.easeTo({duration:300,zoom:U.getZoom()-1,around:U.unproject(Pe)},{originalEvent:V})}}):void 0},Gr.prototype.touchcancel=function(){this.reset()},Gr.prototype.enable=function(){this._enabled=!0},Gr.prototype.disable=function(){this._enabled=!1,this.reset()},Gr.prototype.isEnabled=function(){return this._enabled},Gr.prototype.isActive=function(){return this._active};var ii=function(V){this.reset(),this._clickTolerance=V.clickTolerance||1};ii.prototype.reset=function(){this._active=!1,this._moved=!1,delete this._lastPoint,delete this._eventButton},ii.prototype._correctButton=function(V,$){return!1},ii.prototype._move=function(V,$){return{}},ii.prototype.mousedown=function(V,$){if(!this._lastPoint){var q=M.mouseButton(V);this._correctButton(V,q)&&(this._lastPoint=$,this._eventButton=q)}},ii.prototype.mousemoveWindow=function(V,$){var q=this._lastPoint;if(q&&(V.preventDefault(),this._moved||!($.dist(q)<this._clickTolerance)))return this._moved=!0,this._lastPoint=$,this._move(q,$)},ii.prototype.mouseupWindow=function(V){M.mouseButton(V)===this._eventButton&&(this._moved&&M.suppressClick(),this.reset())},ii.prototype.enable=function(){this._enabled=!0},ii.prototype.disable=function(){this._enabled=!1,this.reset()},ii.prototype.isEnabled=function(){return this._enabled},ii.prototype.isActive=function(){return this._active};var Ni=function(V){function $(){V.apply(this,arguments)}return V&&($.__proto__=V),($.prototype=Object.create(V&&V.prototype)).constructor=$,$.prototype.mousedown=function(q,te){V.prototype.mousedown.call(this,q,te),this._lastPoint&&(this._active=!0)},$.prototype._correctButton=function(q,te){return 0===te&&!q.ctrlKey},$.prototype._move=function(q,te){return{around:te,panDelta:te.sub(q)}},$}(ii),Yo=function(V){function $(){V.apply(this,arguments)}return V&&($.__proto__=V),($.prototype=Object.create(V&&V.prototype)).constructor=$,$.prototype._correctButton=function(q,te){return 0===te&&q.ctrlKey||2===te},$.prototype._move=function(q,te){var xe=.8*(te.x-q.x);if(xe)return this._active=!0,{bearingDelta:xe}},$.prototype.contextmenu=function(q){q.preventDefault()},$}(ii),Ll=function(V){function $(){V.apply(this,arguments)}return V&&($.__proto__=V),($.prototype=Object.create(V&&V.prototype)).constructor=$,$.prototype._correctButton=function(q,te){return 0===te&&q.ctrlKey||2===te},$.prototype._move=function(q,te){var xe=-.5*(te.y-q.y);if(xe)return this._active=!0,{pitchDelta:xe}},$.prototype.contextmenu=function(q){q.preventDefault()},$}(ii),co=function(V){this._minTouches=1,this._clickTolerance=V.clickTolerance||1,this.reset()};co.prototype.reset=function(){this._active=!1,this._touches={},this._sum=new f.Point(0,0)},co.prototype.touchstart=function(V,$,q){return this._calculateTransform(V,$,q)},co.prototype.touchmove=function(V,$,q){if(this._active)return V.preventDefault(),this._calculateTransform(V,$,q)},co.prototype.touchend=function(V,$,q){this._calculateTransform(V,$,q),this._active&&q.length<this._minTouches&&this.reset()},co.prototype.touchcancel=function(){this.reset()},co.prototype._calculateTransform=function(V,$,q){q.length>0&&(this._active=!0);var te=fa(q,$),xe=new f.Point(0,0),Pe=new f.Point(0,0),U=0;for(var ie in te){var de=te[ie],Te=this._touches[ie];Te&&(xe._add(de),Pe._add(de.sub(Te)),U++,te[ie]=de)}if(this._touches=te,!(U<this._minTouches)&&Pe.mag()){var Ee=Pe.div(U);if(this._sum._add(Ee),!(this._sum.mag()<this._clickTolerance))return{around:xe.div(U),panDelta:Ee}}},co.prototype.enable=function(){this._enabled=!0},co.prototype.disable=function(){this._enabled=!1,this.reset()},co.prototype.isEnabled=function(){return this._enabled},co.prototype.isActive=function(){return this._active};var Po=function(){this.reset()};function Lr(V,$,q){for(var te=0;te<V.length;te++)if(V[te].identifier===q)return $[te]}function Ro(V,$){return Math.log(V/$)/Math.LN2}Po.prototype.reset=function(){this._active=!1,delete this._firstTwoTouches},Po.prototype._start=function(V){},Po.prototype._move=function(V,$,q){return{}},Po.prototype.touchstart=function(V,$,q){this._firstTwoTouches||q.length<2||(this._firstTwoTouches=[q[0].identifier,q[1].identifier],this._start([$[0],$[1]]))},Po.prototype.touchmove=function(V,$,q){if(this._firstTwoTouches){V.preventDefault();var te=this._firstTwoTouches,Pe=te[1],U=Lr(q,$,te[0]),ie=Lr(q,$,Pe);if(U&&ie){var de=this._aroundCenter?null:U.add(ie).div(2);return this._move([U,ie],de,V)}}},Po.prototype.touchend=function(V,$,q){if(this._firstTwoTouches){var te=this._firstTwoTouches,Pe=te[1],U=Lr(q,$,te[0]),ie=Lr(q,$,Pe);U&&ie||(this._active&&M.suppressClick(),this.reset())}},Po.prototype.touchcancel=function(){this.reset()},Po.prototype.enable=function(V){this._enabled=!0,this._aroundCenter=!!V&&"center"===V.around},Po.prototype.disable=function(){this._enabled=!1,this.reset()},Po.prototype.isEnabled=function(){return this._enabled},Po.prototype.isActive=function(){return this._active};var nl=function(V){function $(){V.apply(this,arguments)}return V&&($.__proto__=V),($.prototype=Object.create(V&&V.prototype)).constructor=$,$.prototype.reset=function(){V.prototype.reset.call(this),delete this._distance,delete this._startDistance},$.prototype._start=function(q){this._startDistance=this._distance=q[0].dist(q[1])},$.prototype._move=function(q,te){var xe=this._distance;if(this._distance=q[0].dist(q[1]),this._active||!(Math.abs(Ro(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:Ro(this._distance,xe),pinchAround:te}},$}(Po);function vi(V,$){return 180*V.angleWith($)/Math.PI}var js=function(V){function $(){V.apply(this,arguments)}return V&&($.__proto__=V),($.prototype=Object.create(V&&V.prototype)).constructor=$,$.prototype.reset=function(){V.prototype.reset.call(this),delete this._minDiameter,delete this._startVector,delete this._vector},$.prototype._start=function(q){this._startVector=this._vector=q[0].sub(q[1]),this._minDiameter=q[0].dist(q[1])},$.prototype._move=function(q,te){var xe=this._vector;if(this._vector=q[0].sub(q[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:vi(this._vector,xe),pinchAround:te}},$.prototype._isBelowThreshold=function(q){this._minDiameter=Math.min(this._minDiameter,q.mag());var te=25/(Math.PI*this._minDiameter)*360,xe=vi(q,this._startVector);return Math.abs(xe)<te},$}(Po);function Nl(V){return Math.abs(V.y)>Math.abs(V.x)}var ss=function(V){function $(){V.apply(this,arguments)}return V&&($.__proto__=V),($.prototype=Object.create(V&&V.prototype)).constructor=$,$.prototype.reset=function(){V.prototype.reset.call(this),this._valid=void 0,delete this._firstMove,delete this._lastPoints},$.prototype._start=function(q){this._lastPoints=q,Nl(q[0].sub(q[1]))&&(this._valid=!1)},$.prototype._move=function(q,te,xe){var Pe=q[0].sub(this._lastPoints[0]),U=q[1].sub(this._lastPoints[1]);if(this._valid=this.gestureBeginsVertically(Pe,U,xe.timeStamp),this._valid)return this._lastPoints=q,this._active=!0,{pitchDelta:(Pe.y+U.y)/2*-.5}},$.prototype.gestureBeginsVertically=function(q,te,xe){if(void 0!==this._valid)return this._valid;var Pe=q.mag()>=2,U=te.mag()>=2;if(Pe||U){if(!Pe||!U)return void 0===this._firstMove&&(this._firstMove=xe),xe-this._firstMove<100&&void 0;var ie=q.y>0==te.y>0;return Nl(q)&&Nl(te)&&ie}},$}(Po),Dr={panStep:100,bearingStep:15,pitchStep:10},Ya=function(){var V=Dr;this._panStep=V.panStep,this._bearingStep=V.bearingStep,this._pitchStep=V.pitchStep};function Vs(V){return V*(2-V)}Ya.prototype.reset=function(){this._active=!1},Ya.prototype.keydown=function(V){var $=this;if(!(V.altKey||V.ctrlKey||V.metaKey)){var q=0,te=0,xe=0,Pe=0,U=0;switch(V.keyCode){case 61:case 107:case 171:case 187:q=1;break;case 189:case 109:case 173:q=-1;break;case 37:V.shiftKey?te=-1:(V.preventDefault(),Pe=-1);break;case 39:V.shiftKey?te=1:(V.preventDefault(),Pe=1);break;case 38:V.shiftKey?xe=1:(V.preventDefault(),U=-1);break;case 40:V.shiftKey?xe=-1:(V.preventDefault(),U=1);break;default:return}return{cameraAnimation:function(ie){var de=ie.getZoom();ie.easeTo({duration:300,easeId:"keyboardHandler",easing:Vs,zoom:q?Math.round(de)+q*(V.shiftKey?2:1):de,bearing:ie.getBearing()+te*$._bearingStep,pitch:ie.getPitch()+xe*$._pitchStep,offset:[-Pe*$._panStep,-U*$._panStep],center:ie.getCenter()},{originalEvent:V})}}}},Ya.prototype.enable=function(){this._enabled=!0},Ya.prototype.disable=function(){this._enabled=!1,this.reset()},Ya.prototype.isEnabled=function(){return this._enabled},Ya.prototype.isActive=function(){return this._active};var ls=4.000244140625,na=function(V,$){this._map=V,this._el=V.getCanvasContainer(),this._handler=$,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222,f.bindAll(["_onWheel","_onTimeout","_onScrollFrame","_onScrollFinished"],this)};na.prototype.setZoomRate=function(V){this._defaultZoomRate=V},na.prototype.setWheelZoomRate=function(V){this._wheelZoomRate=V},na.prototype.isEnabled=function(){return!!this._enabled},na.prototype.isActive=function(){return!!this._active||void 0!==this._finishTimeout},na.prototype.isZooming=function(){return!!this._zooming},na.prototype.enable=function(V){this.isEnabled()||(this._enabled=!0,this._aroundCenter=V&&"center"===V.around)},na.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},na.prototype.wheel=function(V){if(this.isEnabled()){var $=V.deltaMode===f.window.WheelEvent.DOM_DELTA_LINE?40*V.deltaY:V.deltaY,q=f.browser.now(),te=q-(this._lastWheelEventTime||0);this._lastWheelEventTime=q,0!==$&&$%ls==0?this._type="wheel":0!==$&&Math.abs($)<4?this._type="trackpad":te>400?(this._type=null,this._lastValue=$,this._timeout=setTimeout(this._onTimeout,40,V)):this._type||(this._type=Math.abs(te*$)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,$+=this._lastValue)),V.shiftKey&&$&&($/=4),this._type&&(this._lastWheelEvent=V,this._delta-=$,this._active||this._start(V)),V.preventDefault()}},na.prototype._onTimeout=function(V){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(V)},na.prototype._start=function(V){if(this._delta){this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);var $=M.mousePos(this._el,V);this._around=f.LngLat.convert(this._aroundCenter?this._map.getCenter():this._map.unproject($)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}},na.prototype.renderFrame=function(){return this._onScrollFrame()},na.prototype._onScrollFrame=function(){var V=this;if(this._frameId&&(this._frameId=null,this.isActive())){var $=this._map.transform;if(0!==this._delta){var q="wheel"===this._type&&Math.abs(this._delta)>ls?this._wheelZoomRate:this._defaultZoomRate,te=2/(1+Math.exp(-Math.abs(this._delta*q)));this._delta<0&&0!==te&&(te=1/te);var xe="number"==typeof this._targetZoom?$.zoomScale(this._targetZoom):$.scale;this._targetZoom=Math.min($.maxZoom,Math.max($.minZoom,$.scaleZoom(xe*te))),"wheel"===this._type&&(this._startZoom=$.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}var Pe,U="number"==typeof this._targetZoom?this._targetZoom:$.zoom,ie=this._startZoom,de=this._easing,Te=!1;if("wheel"===this._type&&ie&&de){var Ee=Math.min((f.browser.now()-this._lastWheelEventTime)/200,1),Fe=de(Ee);Pe=f.number(ie,U,Fe),Ee<1?this._frameId||(this._frameId=!0):Te=!0}else Pe=U,Te=!0;return this._active=!0,Te&&(this._active=!1,this._finishTimeout=setTimeout(function(){V._zooming=!1,V._handler._triggerRenderFrame(),delete V._targetZoom,delete V._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!Te,zoomDelta:Pe-$.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}},na.prototype._smoothOutEasing=function(V){var $=f.ease;if(this._prevEase){var q=this._prevEase,te=(f.browser.now()-q.start)/q.duration,xe=q.easing(te+.01)-q.easing(te),Pe=.27/Math.sqrt(xe*xe+1e-4)*.01,U=Math.sqrt(.0729-Pe*Pe);$=f.bezier(Pe,U,.25,1)}return this._prevEase={start:f.browser.now(),duration:V,easing:$},$},na.prototype.reset=function(){this._active=!1};var Os=function(V,$){this._clickZoom=V,this._tapZoom=$};Os.prototype.enable=function(){this._clickZoom.enable(),this._tapZoom.enable()},Os.prototype.disable=function(){this._clickZoom.disable(),this._tapZoom.disable()},Os.prototype.isEnabled=function(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()},Os.prototype.isActive=function(){return this._clickZoom.isActive()||this._tapZoom.isActive()};var ma=function(){this.reset()};ma.prototype.reset=function(){this._active=!1},ma.prototype.dblclick=function(V,$){return V.preventDefault(),{cameraAnimation:function(q){q.easeTo({duration:300,zoom:q.getZoom()+(V.shiftKey?-1:1),around:q.unproject($)},{originalEvent:V})}}},ma.prototype.enable=function(){this._enabled=!0},ma.prototype.disable=function(){this._enabled=!1,this.reset()},ma.prototype.isEnabled=function(){return this._enabled},ma.prototype.isActive=function(){return this._active};var ra=function(){this._tap=new ao({numTouches:1,numTaps:1}),this.reset()};ra.prototype.reset=function(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,this._tap.reset()},ra.prototype.touchstart=function(V,$,q){this._swipePoint||(this._tapTime&&V.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?q.length>0&&(this._swipePoint=$[0],this._swipeTouch=q[0].identifier):this._tap.touchstart(V,$,q))},ra.prototype.touchmove=function(V,$,q){if(this._tapTime){if(this._swipePoint){if(q[0].identifier!==this._swipeTouch)return;var te=$[0],xe=te.y-this._swipePoint.y;return this._swipePoint=te,V.preventDefault(),this._active=!0,{zoomDelta:xe/128}}}else this._tap.touchmove(V,$,q)},ra.prototype.touchend=function(V,$,q){this._tapTime?this._swipePoint&&0===q.length&&this.reset():this._tap.touchend(V,$,q)&&(this._tapTime=V.timeStamp)},ra.prototype.touchcancel=function(){this.reset()},ra.prototype.enable=function(){this._enabled=!0},ra.prototype.disable=function(){this._enabled=!1,this.reset()},ra.prototype.isEnabled=function(){return this._enabled},ra.prototype.isActive=function(){return this._active};var us=function(V,$,q){this._el=V,this._mousePan=$,this._touchPan=q};us.prototype.enable=function(V){this._inertiaOptions=V||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")},us.prototype.disable=function(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")},us.prototype.isEnabled=function(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()},us.prototype.isActive=function(){return this._mousePan.isActive()||this._touchPan.isActive()};var bs=function(V,$,q){this._pitchWithRotate=V.pitchWithRotate,this._mouseRotate=$,this._mousePitch=q};bs.prototype.enable=function(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()},bs.prototype.disable=function(){this._mouseRotate.disable(),this._mousePitch.disable()},bs.prototype.isEnabled=function(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())},bs.prototype.isActive=function(){return this._mouseRotate.isActive()||this._mousePitch.isActive()};var ai=function(V,$,q,te){this._el=V,this._touchZoom=$,this._touchRotate=q,this._tapDragZoom=te,this._rotationDisabled=!1,this._enabled=!0};ai.prototype.enable=function(V){this._touchZoom.enable(V),this._rotationDisabled||this._touchRotate.enable(V),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")},ai.prototype.disable=function(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")},ai.prototype.isEnabled=function(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()},ai.prototype.isActive=function(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()},ai.prototype.disableRotation=function(){this._rotationDisabled=!0,this._touchRotate.disable()},ai.prototype.enableRotation=function(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()};var vu=function(V){return V.zoom||V.drag||V.pitch||V.rotate},Fl=function(V){function $(){V.apply(this,arguments)}return V&&($.__proto__=V),($.prototype=Object.create(V&&V.prototype)).constructor=$,$}(f.Event);function da(V){return V.panDelta&&V.panDelta.mag()||V.zoomDelta||V.bearingDelta||V.pitchDelta}var Ii=function(V,$){this._map=V,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new $o(V),this._bearingSnap=$.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers($),f.bindAll(["handleEvent","handleWindowEvent"],this);var q=this._el;this._listeners=[[q,"touchstart",{passive:!1}],[q,"touchmove",{passive:!1}],[q,"touchend",void 0],[q,"touchcancel",void 0],[q,"mousedown",void 0],[q,"mousemove",void 0],[q,"mouseup",void 0],[f.window.document,"mousemove",{capture:!0}],[f.window.document,"mouseup",void 0],[q,"mouseover",void 0],[q,"mouseout",void 0],[q,"dblclick",void 0],[q,"click",void 0],[q,"keydown",{capture:!1}],[q,"keyup",void 0],[q,"wheel",{passive:!1}],[q,"contextmenu",void 0],[f.window,"blur",void 0]];for(var te=0,xe=this._listeners;te<xe.length;te+=1){var Pe=xe[te],U=Pe[0];M.addEventListener(U,Pe[1],U===f.window.document?this.handleWindowEvent:this.handleEvent,Pe[2])}};Ii.prototype.destroy=function(){for(var V=0,$=this._listeners;V<$.length;V+=1){var q=$[V],te=q[0];M.removeEventListener(te,q[1],te===f.window.document?this.handleWindowEvent:this.handleEvent,q[2])}},Ii.prototype._addDefaultHandlers=function(V){var $=this._map,q=$.getCanvasContainer();this._add("mapEvent",new ea($,V));var te=$.boxZoom=new ta($,V);this._add("boxZoom",te);var xe=new Gr,Pe=new ma;$.doubleClickZoom=new Os(Pe,xe),this._add("tapZoom",xe),this._add("clickZoom",Pe);var U=new ra;this._add("tapDragZoom",U);var ie=$.touchPitch=new ss;this._add("touchPitch",ie);var de=new Yo(V),Te=new Ll(V);$.dragRotate=new bs(V,de,Te),this._add("mouseRotate",de,["mousePitch"]),this._add("mousePitch",Te,["mouseRotate"]);var Ee=new Ni(V),Fe=new co(V);$.dragPan=new us(q,Ee,Fe),this._add("mousePan",Ee),this._add("touchPan",Fe,["touchZoom","touchRotate"]);var Ye=new js,Xe=new nl;$.touchZoomRotate=new ai(q,Xe,Ye,U),this._add("touchRotate",Ye,["touchPan","touchZoom"]),this._add("touchZoom",Xe,["touchPan","touchRotate"]);var Qe=$.scrollZoom=new na($,this);this._add("scrollZoom",Qe,["mousePan"]);var nt=$.keyboard=new Ya;this._add("keyboard",nt),this._add("blockableMapEvent",new Ma($));for(var lt=0,xt=["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"];lt<xt.length;lt+=1){var Mt=xt[lt];V.interactive&&V[Mt]&&$[Mt].enable(V[Mt])}},Ii.prototype._add=function(V,$,q){this._handlers.push({handlerName:V,handler:$,allowed:q}),this._handlersById[V]=$},Ii.prototype.stop=function(){if(!this._updatingCamera){for(var V=0,$=this._handlers;V<$.length;V+=1)$[V].handler.reset();this._inertia.clear(),this._fireEvents({},{}),this._changes=[]}},Ii.prototype.isActive=function(){for(var V=0,$=this._handlers;V<$.length;V+=1)if($[V].handler.isActive())return!0;return!1},Ii.prototype.isZooming=function(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()},Ii.prototype.isRotating=function(){return!!this._eventsInProgress.rotate},Ii.prototype.isMoving=function(){return!!vu(this._eventsInProgress)||this.isZooming()},Ii.prototype._blockedByActive=function(V,$,q){for(var te in V)if(te!==q&&(!$||$.indexOf(te)<0))return!0;return!1},Ii.prototype.handleWindowEvent=function(V){this.handleEvent(V,V.type+"Window")},Ii.prototype._getMapTouches=function(V){for(var $=[],q=0,te=V;q<te.length;q+=1){var xe=te[q];this._el.contains(xe.target)&&$.push(xe)}return $},Ii.prototype.handleEvent=function(V,$){if("blur"!==V.type){this._updatingCamera=!0;for(var q="renderFrame"===V.type?void 0:V,te={needsRenderFrame:!1},xe={},Pe={},U=V.touches?this._getMapTouches(V.touches):void 0,ie=U?M.touchPos(this._el,U):M.mousePos(this._el,V),de=0,Te=this._handlers;de<Te.length;de+=1){var Ee=Te[de],Fe=Ee.handlerName,Ye=Ee.handler,Xe=Ee.allowed;if(Ye.isEnabled()){var Qe=void 0;this._blockedByActive(Pe,Xe,Fe)?Ye.reset():Ye[$||V.type]&&(Qe=Ye[$||V.type](V,ie,U),this.mergeHandlerResult(te,xe,Qe,Fe,q),Qe&&Qe.needsRenderFrame&&this._triggerRenderFrame()),(Qe||Ye.isActive())&&(Pe[Fe]=Ye)}}var nt={};for(var lt in this._previousActiveHandlers)Pe[lt]||(nt[lt]=q);this._previousActiveHandlers=Pe,(Object.keys(nt).length||da(te))&&(this._changes.push([te,xe,nt]),this._triggerRenderFrame()),(Object.keys(Pe).length||da(te))&&this._map._stop(!0),this._updatingCamera=!1;var xt=te.cameraAnimation;xt&&(this._inertia.clear(),this._fireEvents({},{}),this._changes=[],xt(this._map))}else this.stop()},Ii.prototype.mergeHandlerResult=function(V,$,q,te,xe){if(q){f.extend(V,q);var Pe={handlerName:te,originalEvent:q.originalEvent||xe};void 0!==q.zoomDelta&&($.zoom=Pe),void 0!==q.panDelta&&($.drag=Pe),void 0!==q.pitchDelta&&($.pitch=Pe),void 0!==q.bearingDelta&&($.rotate=Pe)}},Ii.prototype._applyChanges=function(){for(var V={},$={},q={},te=0,xe=this._changes;te<xe.length;te+=1){var Pe=xe[te],U=Pe[0],ie=Pe[1],de=Pe[2];U.panDelta&&(V.panDelta=(V.panDelta||new f.Point(0,0))._add(U.panDelta)),U.zoomDelta&&(V.zoomDelta=(V.zoomDelta||0)+U.zoomDelta),U.bearingDelta&&(V.bearingDelta=(V.bearingDelta||0)+U.bearingDelta),U.pitchDelta&&(V.pitchDelta=(V.pitchDelta||0)+U.pitchDelta),void 0!==U.around&&(V.around=U.around),void 0!==U.pinchAround&&(V.pinchAround=U.pinchAround),U.noInertia&&(V.noInertia=U.noInertia),f.extend($,ie),f.extend(q,de)}this._updateMapTransform(V,$,q),this._changes=[]},Ii.prototype._updateMapTransform=function(V,$,q){var te=this._map,xe=te.transform;if(!da(V))return this._fireEvents($,q);var Pe=V.panDelta,U=V.zoomDelta,ie=V.bearingDelta,de=V.pitchDelta,Te=V.around,Ee=V.pinchAround;void 0!==Ee&&(Te=Ee),te._stop(!0),Te=Te||te.transform.centerPoint;var Fe=xe.pointLocation(Pe?Te.sub(Pe):Te);ie&&(xe.bearing+=ie),de&&(xe.pitch+=de),U&&(xe.zoom+=U),xe.setLocationAtPoint(Fe,Te),this._map._update(),V.noInertia||this._inertia.record(V),this._fireEvents($,q)},Ii.prototype._fireEvents=function(V,$){var q=this,te=vu(this._eventsInProgress),xe=vu(V),Pe={};for(var U in V)this._eventsInProgress[U]||(Pe[U+"start"]=V[U].originalEvent),this._eventsInProgress[U]=V[U];for(var de in!te&&xe&&this._fireEvent("movestart",xe.originalEvent),Pe)this._fireEvent(de,Pe[de]);for(var Te in V.rotate&&(this._bearingChanged=!0),xe&&this._fireEvent("move",xe.originalEvent),V)this._fireEvent(Te,V[Te].originalEvent);var Fe,Ye={};for(var Xe in this._eventsInProgress){var Qe=this._eventsInProgress[Xe],nt=Qe.handlerName,lt=Qe.originalEvent;this._handlersById[nt].isActive()||(delete this._eventsInProgress[Xe],Ye[Xe+"end"]=Fe=$[nt]||lt)}for(var xt in Ye)this._fireEvent(xt,Ye[xt]);var Mt=vu(this._eventsInProgress);if((te||xe)&&!Mt){this._updatingCamera=!0;var jt=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),Vt=function(Bt){return 0!==Bt&&-q._bearingSnap<Bt&&Bt<q._bearingSnap};jt?(Vt(jt.bearing||this._map.getBearing())&&(jt.bearing=0),this._map.easeTo(jt,{originalEvent:Fe})):(this._map.fire(new f.Event("moveend",{originalEvent:Fe})),Vt(this._map.getBearing())&&this._map.resetNorth()),this._bearingChanged=!1,this._updatingCamera=!1}},Ii.prototype._fireEvent=function(V,$){this._map.fire(new f.Event(V,$?{originalEvent:$}:{}))},Ii.prototype._triggerRenderFrame=function(){var V=this;void 0===this._frameId&&(this._frameId=this._map._requestRenderFrame(function($){delete V._frameId,V.handleEvent(new Fl("renderFrame",{timeStamp:$})),V._applyChanges()}))};var zl=function(V){function $(q,te){V.call(this),this._moving=!1,this._zooming=!1,this.transform=q,this._bearingSnap=te.bearingSnap,f.bindAll(["_renderFrameCallback"],this)}return V&&($.__proto__=V),($.prototype=Object.create(V&&V.prototype)).constructor=$,$.prototype.getCenter=function(){return new f.LngLat(this.transform.center.lng,this.transform.center.lat)},$.prototype.setCenter=function(q,te){return this.jumpTo({center:q},te)},$.prototype.panBy=function(q,te,xe){return q=f.Point.convert(q).mult(-1),this.panTo(this.transform.center,f.extend({offset:q},te),xe)},$.prototype.panTo=function(q,te,xe){return this.easeTo(f.extend({center:q},te),xe)},$.prototype.getZoom=function(){return this.transform.zoom},$.prototype.setZoom=function(q,te){return this.jumpTo({zoom:q},te),this},$.prototype.zoomTo=function(q,te,xe){return this.easeTo(f.extend({zoom:q},te),xe)},$.prototype.zoomIn=function(q,te){return this.zoomTo(this.getZoom()+1,q,te),this},$.prototype.zoomOut=function(q,te){return this.zoomTo(this.getZoom()-1,q,te),this},$.prototype.getBearing=function(){return this.transform.bearing},$.prototype.setBearing=function(q,te){return this.jumpTo({bearing:q},te),this},$.prototype.getPadding=function(){return this.transform.padding},$.prototype.setPadding=function(q,te){return this.jumpTo({padding:q},te),this},$.prototype.rotateTo=function(q,te,xe){return this.easeTo(f.extend({bearing:q},te),xe)},$.prototype.resetNorth=function(q,te){return this.rotateTo(0,f.extend({duration:1e3},q),te),this},$.prototype.resetNorthPitch=function(q,te){return this.easeTo(f.extend({bearing:0,pitch:0,duration:1e3},q),te),this},$.prototype.snapToNorth=function(q,te){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(q,te):this},$.prototype.getPitch=function(){return this.transform.pitch},$.prototype.setPitch=function(q,te){return this.jumpTo({pitch:q},te),this},$.prototype.cameraForBounds=function(q,te){return q=f.LngLatBounds.convert(q),this._cameraForBoxAndBearing(q.getNorthWest(),q.getSouthEast(),0,te)},$.prototype._cameraForBoxAndBearing=function(q,te,xe,Pe){var U={top:0,bottom:0,right:0,left:0};if("number"==typeof(Pe=f.extend({padding:U,offset:[0,0],maxZoom:this.transform.maxZoom},Pe)).padding){var ie=Pe.padding;Pe.padding={top:ie,bottom:ie,right:ie,left:ie}}Pe.padding=f.extend(U,Pe.padding);var de=this.transform,Te=de.padding,Ee=de.project(f.LngLat.convert(q)),Fe=de.project(f.LngLat.convert(te)),Ye=Ee.rotate(-xe*Math.PI/180),Xe=Fe.rotate(-xe*Math.PI/180),Qe=new f.Point(Math.max(Ye.x,Xe.x),Math.max(Ye.y,Xe.y)),nt=new f.Point(Math.min(Ye.x,Xe.x),Math.min(Ye.y,Xe.y)),lt=Qe.sub(nt),xt=(de.width-(Te.left+Te.right+Pe.padding.left+Pe.padding.right))/lt.x,Mt=(de.height-(Te.top+Te.bottom+Pe.padding.top+Pe.padding.bottom))/lt.y;if(!(Mt<0||xt<0)){var jt=Math.min(de.scaleZoom(de.scale*Math.min(xt,Mt)),Pe.maxZoom),Vt=f.Point.convert(Pe.offset),Ut=new f.Point(Vt.x+(Pe.padding.left-Pe.padding.right)/2,Vt.y+(Pe.padding.top-Pe.padding.bottom)/2).mult(de.scale/de.zoomScale(jt));return{center:de.unproject(Ee.add(Fe).div(2).sub(Ut)),zoom:jt,bearing:xe}}f.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.")},$.prototype.fitBounds=function(q,te,xe){return this._fitInternal(this.cameraForBounds(q,te),te,xe)},$.prototype.fitScreenCoordinates=function(q,te,xe,Pe,U){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(f.Point.convert(q)),this.transform.pointLocation(f.Point.convert(te)),xe,Pe),Pe,U)},$.prototype._fitInternal=function(q,te,xe){return q?(delete(te=f.extend(q,te)).padding,te.linear?this.easeTo(te,xe):this.flyTo(te,xe)):this},$.prototype.jumpTo=function(q,te){this.stop();var xe=this.transform,Pe=!1,U=!1,ie=!1;return"zoom"in q&&xe.zoom!==+q.zoom&&(Pe=!0,xe.zoom=+q.zoom),void 0!==q.center&&(xe.center=f.LngLat.convert(q.center)),"bearing"in q&&xe.bearing!==+q.bearing&&(U=!0,xe.bearing=+q.bearing),"pitch"in q&&xe.pitch!==+q.pitch&&(ie=!0,xe.pitch=+q.pitch),null==q.padding||xe.isPaddingEqual(q.padding)||(xe.padding=q.padding),this.fire(new f.Event("movestart",te)).fire(new f.Event("move",te)),Pe&&this.fire(new f.Event("zoomstart",te)).fire(new f.Event("zoom",te)).fire(new f.Event("zoomend",te)),U&&this.fire(new f.Event("rotatestart",te)).fire(new f.Event("rotate",te)).fire(new f.Event("rotateend",te)),ie&&this.fire(new f.Event("pitchstart",te)).fire(new f.Event("pitch",te)).fire(new f.Event("pitchend",te)),this.fire(new f.Event("moveend",te))},$.prototype.easeTo=function(q,te){var xe=this;this._stop(!1,q.easeId),(!1===(q=f.extend({offset:[0,0],duration:500,easing:f.ease},q)).animate||!q.essential&&f.browser.prefersReducedMotion)&&(q.duration=0);var Pe=this.transform,U=this.getZoom(),ie=this.getBearing(),de=this.getPitch(),Te=this.getPadding(),Ee="zoom"in q?+q.zoom:U,Fe="bearing"in q?this._normalizeBearing(q.bearing,ie):ie,Ye="pitch"in q?+q.pitch:de,Xe="padding"in q?q.padding:Pe.padding,Qe=f.Point.convert(q.offset),nt=Pe.centerPoint.add(Qe),lt=Pe.pointLocation(nt),xt=f.LngLat.convert(q.center||lt);this._normalizeCenter(xt);var Mt,jt,Vt=Pe.project(lt),Bt=Pe.project(xt).sub(Vt),Xt=Pe.zoomScale(Ee-U);q.around&&(Mt=f.LngLat.convert(q.around),jt=Pe.locationPoint(Mt));var Ut={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||Ee!==U,this._rotating=this._rotating||ie!==Fe,this._pitching=this._pitching||Ye!==de,this._padding=!Pe.isPaddingEqual(Xe),this._easeId=q.easeId,this._prepareEase(te,q.noMoveStart,Ut),clearTimeout(this._easeEndTimeoutID),this._ease(function(mn){if(xe._zooming&&(Pe.zoom=f.number(U,Ee,mn)),xe._rotating&&(Pe.bearing=f.number(ie,Fe,mn)),xe._pitching&&(Pe.pitch=f.number(de,Ye,mn)),xe._padding&&(Pe.interpolatePadding(Te,Xe,mn),nt=Pe.centerPoint.add(Qe)),Mt)Pe.setLocationAtPoint(Mt,jt);else{var sn=Pe.zoomScale(Pe.zoom-U),rn=Ee>U?Math.min(2,Xt):Math.max(.5,Xt),In=Math.pow(rn,1-mn),Pn=Pe.unproject(Vt.add(Bt.mult(mn*In)).mult(sn));Pe.setLocationAtPoint(Pe.renderWorldCopies?Pn.wrap():Pn,nt)}xe._fireMoveEvents(te)},function(mn){xe._afterEase(te,mn)},q),this},$.prototype._prepareEase=function(q,te,xe){void 0===xe&&(xe={}),this._moving=!0,te||xe.moving||this.fire(new f.Event("movestart",q)),this._zooming&&!xe.zooming&&this.fire(new f.Event("zoomstart",q)),this._rotating&&!xe.rotating&&this.fire(new f.Event("rotatestart",q)),this._pitching&&!xe.pitching&&this.fire(new f.Event("pitchstart",q))},$.prototype._fireMoveEvents=function(q){this.fire(new f.Event("move",q)),this._zooming&&this.fire(new f.Event("zoom",q)),this._rotating&&this.fire(new f.Event("rotate",q)),this._pitching&&this.fire(new f.Event("pitch",q))},$.prototype._afterEase=function(q,te){if(!this._easeId||!te||this._easeId!==te){delete this._easeId;var xe=this._zooming,Pe=this._rotating,U=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,xe&&this.fire(new f.Event("zoomend",q)),Pe&&this.fire(new f.Event("rotateend",q)),U&&this.fire(new f.Event("pitchend",q)),this.fire(new f.Event("moveend",q))}},$.prototype.flyTo=function(q,te){var xe=this;if(!q.essential&&f.browser.prefersReducedMotion){var Pe=f.pick(q,["center","zoom","bearing","pitch","around"]);return this.jumpTo(Pe,te)}this.stop(),q=f.extend({offset:[0,0],speed:1.2,curve:1.42,easing:f.ease},q);var U=this.transform,ie=this.getZoom(),de=this.getBearing(),Te=this.getPitch(),Ee=this.getPadding(),Fe="zoom"in q?f.clamp(+q.zoom,U.minZoom,U.maxZoom):ie,Ye="bearing"in q?this._normalizeBearing(q.bearing,de):de,Xe="pitch"in q?+q.pitch:Te,Qe="padding"in q?q.padding:U.padding,nt=U.zoomScale(Fe-ie),lt=f.Point.convert(q.offset),xt=U.centerPoint.add(lt),Mt=U.pointLocation(xt),jt=f.LngLat.convert(q.center||Mt);this._normalizeCenter(jt);var Vt=U.project(Mt),Bt=U.project(jt).sub(Vt),Xt=q.curve,Ut=Math.max(U.width,U.height),mn=Ut/nt,sn=Bt.mag();if("minZoom"in q){var rn=f.clamp(Math.min(q.minZoom,ie,Fe),U.minZoom,U.maxZoom),In=Ut/U.zoomScale(rn-ie);Xt=Math.sqrt(In/sn*2)}var Pn=Xt*Xt;function tr(cr){var Ar=(mn*mn-Ut*Ut+(cr?-1:1)*Pn*Pn*sn*sn)/(2*(cr?mn:Ut)*Pn*sn);return Math.log(Math.sqrt(Ar*Ar+1)-Ar)}function rr(cr){return(Math.exp(cr)-Math.exp(-cr))/2}function pr(cr){return(Math.exp(cr)+Math.exp(-cr))/2}var yr=tr(0),Er=function(cr){return pr(yr)/pr(yr+Xt*cr)},Sr=function(cr){return Ut*((pr(yr)*(rr(Ar=yr+Xt*cr)/pr(Ar))-rr(yr))/Pn)/sn;var Ar},Rr=(tr(1)-yr)/Xt;if(Math.abs(sn)<1e-6||!isFinite(Rr)){if(Math.abs(Ut-mn)<1e-6)return this.easeTo(q,te);var qr=mn<Ut?-1:1;Rr=Math.abs(Math.log(mn/Ut))/Xt,Sr=function(){return 0},Er=function(cr){return Math.exp(qr*Xt*cr)}}return q.duration="duration"in q?+q.duration:1e3*Rr/("screenSpeed"in q?+q.screenSpeed/Xt:+q.speed),q.maxDuration&&q.duration>q.maxDuration&&(q.duration=0),this._zooming=!0,this._rotating=de!==Ye,this._pitching=Xe!==Te,this._padding=!U.isPaddingEqual(Qe),this._prepareEase(te,!1),this._ease(function(cr){var Ar=cr*Rr,Nr=1/Er(Ar);U.zoom=1===cr?Fe:ie+U.scaleZoom(Nr),xe._rotating&&(U.bearing=f.number(de,Ye,cr)),xe._pitching&&(U.pitch=f.number(Te,Xe,cr)),xe._padding&&(U.interpolatePadding(Ee,Qe,cr),xt=U.centerPoint.add(lt));var Wr=1===cr?jt:U.unproject(Vt.add(Bt.mult(Sr(Ar))).mult(Nr));U.setLocationAtPoint(U.renderWorldCopies?Wr.wrap():Wr,xt),xe._fireMoveEvents(te)},function(){return xe._afterEase(te)},q),this},$.prototype.isEasing=function(){return!!this._easeFrameId},$.prototype.stop=function(){return this._stop()},$.prototype._stop=function(q,te){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){var xe=this._onEaseEnd;delete this._onEaseEnd,xe.call(this,te)}if(!q){var Pe=this.handlers;Pe&&Pe.stop()}return this},$.prototype._ease=function(q,te,xe){!1===xe.animate||0===xe.duration?(q(1),te()):(this._easeStart=f.browser.now(),this._easeOptions=xe,this._onEaseFrame=q,this._onEaseEnd=te,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))},$.prototype._renderFrameCallback=function(){var q=Math.min((f.browser.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(q)),q<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},$.prototype._normalizeBearing=function(q,te){q=f.wrap(q,-180,180);var xe=Math.abs(q-te);return Math.abs(q-360-te)<xe&&(q-=360),Math.abs(q+360-te)<xe&&(q+=360),q},$.prototype._normalizeCenter=function(q){var te=this.transform;if(te.renderWorldCopies&&!te.lngRange){var xe=q.lng-te.center.lng;q.lng+=xe>180?-360:xe<-180?360:0}},$}(f.Evented),va=function(V){void 0===V&&(V={}),this.options=V,f.bindAll(["_updateEditLink","_updateData","_updateCompact"],this)};va.prototype.getDefaultPosition=function(){return"bottom-right"},va.prototype.onAdd=function(V){var $=this.options&&this.options.compact;return this._map=V,this._container=M.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._innerContainer=M.create("div","mapboxgl-ctrl-attrib-inner",this._container),$&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),void 0===$&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},va.prototype.onRemove=function(){M.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0},va.prototype._updateEditLink=function(){var V=this._editLink;V||(V=this._editLink=this._container.querySelector(".mapbox-improve-map"));var $=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||f.config.ACCESS_TOKEN}];if(V){var q=$.reduce(function(te,xe,Pe){return xe.value&&(te+=xe.key+"="+xe.value+(Pe<$.length-1?"&":"")),te},"?");V.href=f.config.FEEDBACK_URL+"/"+q+(this._map._hash?this._map._hash.getHashString(!0):""),V.rel="noopener nofollow"}},va.prototype._updateData=function(V){!V||"metadata"!==V.sourceDataType&&"style"!==V.dataType||(this._updateAttributions(),this._updateEditLink())},va.prototype._updateAttributions=function(){if(this._map.style){var V=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?V=V.concat(this.options.customAttribution.map(function(ie){return"string"!=typeof ie?"":ie})):"string"==typeof this.options.customAttribution&&V.push(this.options.customAttribution)),this._map.style.stylesheet){var $=this._map.style.stylesheet;this.styleOwner=$.owner,this.styleId=$.id}var q=this._map.style.sourceCaches;for(var te in q){var xe=q[te];if(xe.used){var Pe=xe.getSource();Pe.attribution&&V.indexOf(Pe.attribution)<0&&V.push(Pe.attribution)}}V.sort(function(ie,de){return ie.length-de.length});var U=(V=V.filter(function(ie,de){for(var Te=de+1;Te<V.length;Te++)if(V[Te].indexOf(ie)>=0)return!1;return!0})).join(" | ");U!==this._attribHTML&&(this._attribHTML=U,V.length?(this._innerContainer.innerHTML=U,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}},va.prototype._updateCompact=function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact")};var Lo=function(){f.bindAll(["_updateLogo"],this),f.bindAll(["_updateCompact"],this)};Lo.prototype.onAdd=function(V){this._map=V,this._container=M.create("div","mapboxgl-ctrl");var $=M.create("a","mapboxgl-ctrl-logo");return $.target="_blank",$.rel="noopener nofollow",$.href="https://www.mapbox.com/",$.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),$.setAttribute("rel","noopener nofollow"),this._container.appendChild($),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container},Lo.prototype.onRemove=function(){M.remove(this._container),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)},Lo.prototype.getDefaultPosition=function(){return"bottom-left"},Lo.prototype._updateLogo=function(V){V&&"metadata"!==V.sourceDataType||(this._container.style.display=this._logoRequired()?"block":"none")},Lo.prototype._logoRequired=function(){if(this._map.style){var V=this._map.style.sourceCaches;for(var $ in V)if(V[$].getSource().mapbox_logo)return!0;return!1}},Lo.prototype._updateCompact=function(){var V=this._container.children;if(V.length){var $=V[0];this._map.getCanvasContainer().offsetWidth<250?$.classList.add("mapboxgl-compact"):$.classList.remove("mapboxgl-compact")}};var bo=function(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1};bo.prototype.add=function(V){var $=++this._id;return this._queue.push({callback:V,id:$,cancelled:!1}),$},bo.prototype.remove=function(V){for(var $=this._currentlyRunning,q=0,te=$?this._queue.concat($):this._queue;q<te.length;q+=1){var xe=te[q];if(xe.id===V)return void(xe.cancelled=!0)}},bo.prototype.run=function(V){void 0===V&&(V=0);var $=this._currentlyRunning=this._queue;this._queue=[];for(var q=0,te=$;q<te.length;q+=1){var xe=te[q];if(!xe.cancelled&&(xe.callback(V),this._cleared))break}this._cleared=!1,this._currentlyRunning=!1},bo.prototype.clear=function(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]};var uf={"FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm"},Fi=f.window.HTMLImageElement,wi=f.window.HTMLElement,Za=f.window.ImageBitmap,cs={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0},fs=function(V){function $(te){var xe=this;if(null!=(te=f.extend({},cs,te)).minZoom&&null!=te.maxZoom&&te.minZoom>te.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(null!=te.minPitch&&null!=te.maxPitch&&te.minPitch>te.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(null!=te.minPitch&&te.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(null!=te.maxPitch&&te.maxPitch>60)throw new Error("maxPitch must be less than or equal to 60");var Pe=new hi(te.minZoom,te.maxZoom,te.minPitch,te.maxPitch,te.renderWorldCopies);if(V.call(this,Pe,te),this._interactive=te.interactive,this._maxTileCacheSize=te.maxTileCacheSize,this._failIfMajorPerformanceCaveat=te.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=te.preserveDrawingBuffer,this._antialias=te.antialias,this._trackResize=te.trackResize,this._bearingSnap=te.bearingSnap,this._refreshExpiredTiles=te.refreshExpiredTiles,this._fadeDuration=te.fadeDuration,this._crossSourceCollisions=te.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=te.collectResourceTiming,this._renderTaskQueue=new bo,this._controls=[],this._mapId=f.uniqueId(),this._locale=f.extend({},uf,te.locale),this._requestManager=new f.RequestManager(te.transformRequest,te.accessToken),"string"==typeof te.container){if(this._container=f.window.document.getElementById(te.container),!this._container)throw new Error("Container '"+te.container+"' not found.")}else{if(!(te.container instanceof wi))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=te.container}if(te.maxBounds&&this.setMaxBounds(te.maxBounds),f.bindAll(["_onWindowOnline","_onWindowResize","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),void 0===this.painter)throw new Error("Failed to initialize WebGL.");this.on("move",function(){return xe._update(!1)}),this.on("moveend",function(){return xe._update(!1)}),this.on("zoom",function(){return xe._update(!0)}),void 0!==f.window&&(f.window.addEventListener("online",this._onWindowOnline,!1),f.window.addEventListener("resize",this._onWindowResize,!1)),this.handlers=new Ii(this,te),this._hash=te.hash&&new Rl("string"==typeof te.hash&&te.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:te.center,zoom:te.zoom,bearing:te.bearing,pitch:te.pitch}),te.bounds&&(this.resize(),this.fitBounds(te.bounds,f.extend({},te.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=te.localIdeographFontFamily,te.style&&this.setStyle(te.style,{localIdeographFontFamily:te.localIdeographFontFamily}),te.attributionControl&&this.addControl(new va({customAttribution:te.customAttribution})),this.addControl(new Lo,te.logoPosition),this.on("style.load",function(){xe.transform.unmodified&&xe.jumpTo(xe.style.stylesheet)}),this.on("data",function(ie){xe._update("style"===ie.dataType),xe.fire(new f.Event(ie.dataType+"data",ie))}),this.on("dataloading",function(ie){xe.fire(new f.Event(ie.dataType+"dataloading",ie))})}V&&($.__proto__=V),($.prototype=Object.create(V&&V.prototype)).constructor=$;var q={showTileBoundaries:{configurable:!0},showPadding:{configurable:!0},showCollisionBoxes:{configurable:!0},showOverdrawInspector:{configurable:!0},repaint:{configurable:!0},vertices:{configurable:!0},version:{configurable:!0}};return $.prototype._getMapId=function(){return this._mapId},$.prototype.addControl=function(te,xe){if(void 0===xe&&te.getDefaultPosition&&(xe=te.getDefaultPosition()),void 0===xe&&(xe="top-right"),!te||!te.onAdd)return this.fire(new f.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));var Pe=te.onAdd(this);this._controls.push(te);var U=this._controlPositions[xe];return-1!==xe.indexOf("bottom")?U.insertBefore(Pe,U.firstChild):U.appendChild(Pe),this},$.prototype.removeControl=function(te){if(!te||!te.onRemove)return this.fire(new f.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));var xe=this._controls.indexOf(te);return xe>-1&&this._controls.splice(xe,1),te.onRemove(this),this},$.prototype.resize=function(te){var xe=this._containerDimensions(),Pe=xe[0],U=xe[1];this._resizeCanvas(Pe,U),this.transform.resize(Pe,U),this.painter.resize(Pe,U);var ie=!this._moving;return ie&&(this.stop(),this.fire(new f.Event("movestart",te)).fire(new f.Event("move",te))),this.fire(new f.Event("resize",te)),ie&&this.fire(new f.Event("moveend",te)),this},$.prototype.getBounds=function(){return this.transform.getBounds()},$.prototype.getMaxBounds=function(){return this.transform.getMaxBounds()},$.prototype.setMaxBounds=function(te){return this.transform.setMaxBounds(f.LngLatBounds.convert(te)),this._update()},$.prototype.setMinZoom=function(te){if((te=te??-2)>=-2&&te<=this.transform.maxZoom)return this.transform.minZoom=te,this._update(),this.getZoom()<te&&this.setZoom(te),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")},$.prototype.getMinZoom=function(){return this.transform.minZoom},$.prototype.setMaxZoom=function(te){if((te=te??22)>=this.transform.minZoom)return this.transform.maxZoom=te,this._update(),this.getZoom()>te&&this.setZoom(te),this;throw new Error("maxZoom must be greater than the current minZoom")},$.prototype.getMaxZoom=function(){return this.transform.maxZoom},$.prototype.setMinPitch=function(te){if((te=te??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(te>=0&&te<=this.transform.maxPitch)return this.transform.minPitch=te,this._update(),this.getPitch()<te&&this.setPitch(te),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")},$.prototype.getMinPitch=function(){return this.transform.minPitch},$.prototype.setMaxPitch=function(te){if((te=te??60)>60)throw new Error("maxPitch must be less than or equal to 60");if(te>=this.transform.minPitch)return this.transform.maxPitch=te,this._update(),this.getPitch()>te&&this.setPitch(te),this;throw new Error("maxPitch must be greater than the current minPitch")},$.prototype.getMaxPitch=function(){return this.transform.maxPitch},$.prototype.getRenderWorldCopies=function(){return this.transform.renderWorldCopies},$.prototype.setRenderWorldCopies=function(te){return this.transform.renderWorldCopies=te,this._update()},$.prototype.project=function(te){return this.transform.locationPoint(f.LngLat.convert(te))},$.prototype.unproject=function(te){return this.transform.pointLocation(f.Point.convert(te))},$.prototype.isMoving=function(){return this._moving||this.handlers.isMoving()},$.prototype.isZooming=function(){return this._zooming||this.handlers.isZooming()},$.prototype.isRotating=function(){return this._rotating||this.handlers.isRotating()},$.prototype._createDelegatedListener=function(te,xe,Pe){var U,ie=this;if("mouseenter"===te||"mouseover"===te){var de=!1;return{layer:xe,listener:Pe,delegates:{mousemove:function(Ee){var Fe=ie.getLayer(xe)?ie.queryRenderedFeatures(Ee.point,{layers:[xe]}):[];Fe.length?de||(de=!0,Pe.call(ie,new Di(te,ie,Ee.originalEvent,{features:Fe}))):de=!1},mouseout:function(){de=!1}}}}if("mouseleave"===te||"mouseout"===te){var Te=!1;return{layer:xe,listener:Pe,delegates:{mousemove:function(Ee){(ie.getLayer(xe)?ie.queryRenderedFeatures(Ee.point,{layers:[xe]}):[]).length?Te=!0:Te&&(Te=!1,Pe.call(ie,new Di(te,ie,Ee.originalEvent)))},mouseout:function(Ee){Te&&(Te=!1,Pe.call(ie,new Di(te,ie,Ee.originalEvent)))}}}}return{layer:xe,listener:Pe,delegates:(U={},U[te]=function(Ee){var Fe=ie.getLayer(xe)?ie.queryRenderedFeatures(Ee.point,{layers:[xe]}):[];Fe.length&&(Ee.features=Fe,Pe.call(ie,Ee),delete Ee.features)},U)}},$.prototype.on=function(te,xe,Pe){if(void 0===Pe)return V.prototype.on.call(this,te,xe);var U=this._createDelegatedListener(te,xe,Pe);for(var ie in this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[te]=this._delegatedListeners[te]||[],this._delegatedListeners[te].push(U),U.delegates)this.on(ie,U.delegates[ie]);return this},$.prototype.once=function(te,xe,Pe){if(void 0===Pe)return V.prototype.once.call(this,te,xe);var U=this._createDelegatedListener(te,xe,Pe);for(var ie in U.delegates)this.once(ie,U.delegates[ie]);return this},$.prototype.off=function(te,xe,Pe){var U=this;return void 0===Pe?V.prototype.off.call(this,te,xe):(this._delegatedListeners&&this._delegatedListeners[te]&&function(ie){for(var de=ie[te],Te=0;Te<de.length;Te++){var Ee=de[Te];if(Ee.layer===xe&&Ee.listener===Pe){for(var Fe in Ee.delegates)U.off(Fe,Ee.delegates[Fe]);return de.splice(Te,1),U}}}(this._delegatedListeners),this)},$.prototype.queryRenderedFeatures=function(te,xe){if(!this.style)return[];var Pe;if(void 0!==xe||void 0===te||te instanceof f.Point||Array.isArray(te)||(xe=te,te=void 0),xe=xe||{},(te=te||[[0,0],[this.transform.width,this.transform.height]])instanceof f.Point||"number"==typeof te[0])Pe=[f.Point.convert(te)];else{var U=f.Point.convert(te[0]),ie=f.Point.convert(te[1]);Pe=[U,new f.Point(ie.x,U.y),ie,new f.Point(U.x,ie.y),U]}return this.style.queryRenderedFeatures(Pe,xe,this.transform)},$.prototype.querySourceFeatures=function(te,xe){return this.style.querySourceFeatures(te,xe)},$.prototype.setStyle=function(te,xe){return!1!==(xe=f.extend({},{localIdeographFontFamily:this._localIdeographFontFamily},xe)).diff&&xe.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&te?(this._diffStyle(te,xe),this):(this._localIdeographFontFamily=xe.localIdeographFontFamily,this._updateStyle(te,xe))},$.prototype._getUIString=function(te){var xe=this._locale[te];if(null==xe)throw new Error("Missing UI string '"+te+"'");return xe},$.prototype._updateStyle=function(te,xe){return this.style&&(this.style.setEventedParent(null),this.style._remove()),te?(this.style=new Tr(this,xe||{}),this.style.setEventedParent(this,{style:this.style}),"string"==typeof te?this.style.loadURL(te):this.style.loadJSON(te),this):(delete this.style,this)},$.prototype._lazyInitEmptyStyle=function(){this.style||(this.style=new Tr(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())},$.prototype._diffStyle=function(te,xe){var Pe=this;if("string"==typeof te){var U=this._requestManager.normalizeStyleURL(te),ie=this._requestManager.transformRequest(U,f.ResourceType.Style);f.getJSON(ie,function(de,Te){de?Pe.fire(new f.ErrorEvent(de)):Te&&Pe._updateDiff(Te,xe)})}else"object"==typeof te&&this._updateDiff(te,xe)},$.prototype._updateDiff=function(te,xe){try{this.style.setState(te)&&this._update(!0)}catch(Pe){f.warnOnce("Unable to perform style diff: "+(Pe.message||Pe.error||Pe)+".  Rebuilding the style from scratch."),this._updateStyle(te,xe)}},$.prototype.getStyle=function(){if(this.style)return this.style.serialize()},$.prototype.isStyleLoaded=function(){return this.style?this.style.loaded():f.warnOnce("There is no style added to the map.")},$.prototype.addSource=function(te,xe){return this._lazyInitEmptyStyle(),this.style.addSource(te,xe),this._update(!0)},$.prototype.isSourceLoaded=function(te){var xe=this.style&&this.style.sourceCaches[te];if(void 0!==xe)return xe.loaded();this.fire(new f.ErrorEvent(new Error("There is no source with ID '"+te+"'")))},$.prototype.areTilesLoaded=function(){var te=this.style&&this.style.sourceCaches;for(var xe in te){var Pe=te[xe]._tiles;for(var U in Pe){var ie=Pe[U];if("loaded"!==ie.state&&"errored"!==ie.state)return!1}}return!0},$.prototype.addSourceType=function(te,xe,Pe){return this._lazyInitEmptyStyle(),this.style.addSourceType(te,xe,Pe)},$.prototype.removeSource=function(te){return this.style.removeSource(te),this._update(!0)},$.prototype.getSource=function(te){return this.style.getSource(te)},$.prototype.addImage=function(te,xe,Pe){void 0===Pe&&(Pe={});var U=Pe.pixelRatio;void 0===U&&(U=1);var ie=Pe.sdf;void 0===ie&&(ie=!1);var de=Pe.stretchX,Te=Pe.stretchY,Ee=Pe.content;if(this._lazyInitEmptyStyle(),xe instanceof Fi||Za&&xe instanceof Za){var Fe=f.browser.getImageData(xe);this.style.addImage(te,{data:new f.RGBAImage({width:Fe.width,height:Fe.height},Fe.data),pixelRatio:U,stretchX:de,stretchY:Te,content:Ee,sdf:ie,version:0})}else{if(void 0===xe.width||void 0===xe.height)return this.fire(new f.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));var Mt=xe;this.style.addImage(te,{data:new f.RGBAImage({width:xe.width,height:xe.height},new Uint8Array(xe.data)),pixelRatio:U,stretchX:de,stretchY:Te,content:Ee,sdf:ie,version:0,userImage:Mt}),Mt.onAdd&&Mt.onAdd(this,te)}},$.prototype.updateImage=function(te,xe){var Pe=this.style.getImage(te);if(!Pe)return this.fire(new f.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));var U=xe instanceof Fi||Za&&xe instanceof Za?f.browser.getImageData(xe):xe,ie=U.width,de=U.height,Te=U.data;return void 0===ie||void 0===de?this.fire(new f.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`"))):ie!==Pe.data.width||de!==Pe.data.height?this.fire(new f.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image"))):(Pe.data.replace(Te,!(xe instanceof Fi||Za&&xe instanceof Za)),void this.style.updateImage(te,Pe))},$.prototype.hasImage=function(te){return te?!!this.style.getImage(te):(this.fire(new f.ErrorEvent(new Error("Missing required image id"))),!1)},$.prototype.removeImage=function(te){this.style.removeImage(te)},$.prototype.loadImage=function(te,xe){f.getImage(this._requestManager.transformRequest(te,f.ResourceType.Image),xe)},$.prototype.listImages=function(){return this.style.listImages()},$.prototype.addLayer=function(te,xe){return this._lazyInitEmptyStyle(),this.style.addLayer(te,xe),this._update(!0)},$.prototype.moveLayer=function(te,xe){return this.style.moveLayer(te,xe),this._update(!0)},$.prototype.removeLayer=function(te){return this.style.removeLayer(te),this._update(!0)},$.prototype.getLayer=function(te){return this.style.getLayer(te)},$.prototype.setLayerZoomRange=function(te,xe,Pe){return this.style.setLayerZoomRange(te,xe,Pe),this._update(!0)},$.prototype.setFilter=function(te,xe,Pe){return void 0===Pe&&(Pe={}),this.style.setFilter(te,xe,Pe),this._update(!0)},$.prototype.getFilter=function(te){return this.style.getFilter(te)},$.prototype.setPaintProperty=function(te,xe,Pe,U){return void 0===U&&(U={}),this.style.setPaintProperty(te,xe,Pe,U),this._update(!0)},$.prototype.getPaintProperty=function(te,xe){return this.style.getPaintProperty(te,xe)},$.prototype.setLayoutProperty=function(te,xe,Pe,U){return void 0===U&&(U={}),this.style.setLayoutProperty(te,xe,Pe,U),this._update(!0)},$.prototype.getLayoutProperty=function(te,xe){return this.style.getLayoutProperty(te,xe)},$.prototype.setLight=function(te,xe){return void 0===xe&&(xe={}),this._lazyInitEmptyStyle(),this.style.setLight(te,xe),this._update(!0)},$.prototype.getLight=function(){return this.style.getLight()},$.prototype.setFeatureState=function(te,xe){return this.style.setFeatureState(te,xe),this._update()},$.prototype.removeFeatureState=function(te,xe){return this.style.removeFeatureState(te,xe),this._update()},$.prototype.getFeatureState=function(te){return this.style.getFeatureState(te)},$.prototype.getContainer=function(){return this._container},$.prototype.getCanvasContainer=function(){return this._canvasContainer},$.prototype.getCanvas=function(){return this._canvas},$.prototype._containerDimensions=function(){var te=0,xe=0;return this._container&&(te=this._container.clientWidth||400,xe=this._container.clientHeight||300),[te,xe]},$.prototype._detectMissingCSS=function(){"rgb(250, 128, 114)"!==f.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")&&f.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")},$.prototype._setupContainer=function(){var te=this._container;te.classList.add("mapboxgl-map"),(this._missingCSSCanary=M.create("div","mapboxgl-canary",te)).style.visibility="hidden",this._detectMissingCSS();var xe=this._canvasContainer=M.create("div","mapboxgl-canvas-container",te);this._interactive&&xe.classList.add("mapboxgl-interactive"),this._canvas=M.create("canvas","mapboxgl-canvas",xe),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map");var Pe=this._containerDimensions();this._resizeCanvas(Pe[0],Pe[1]);var U=this._controlContainer=M.create("div","mapboxgl-control-container",te),ie=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(function(de){ie[de]=M.create("div","mapboxgl-ctrl-"+de,U)})},$.prototype._resizeCanvas=function(te,xe){var Pe=f.browser.devicePixelRatio||1;this._canvas.width=Pe*te,this._canvas.height=Pe*xe,this._canvas.style.width=te+"px",this._canvas.style.height=xe+"px"},$.prototype._setupPainter=function(){var te=f.extend({},k.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),xe=this._canvas.getContext("webgl",te)||this._canvas.getContext("experimental-webgl",te);xe?(this.painter=new no(xe,this.transform),f.webpSupported.testSupport(xe)):this.fire(new f.ErrorEvent(new Error("Failed to initialize WebGL")))},$.prototype._contextLost=function(te){te.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new f.Event("webglcontextlost",{originalEvent:te}))},$.prototype._contextRestored=function(te){this._setupPainter(),this.resize(),this._update(),this.fire(new f.Event("webglcontextrestored",{originalEvent:te}))},$.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()},$.prototype._update=function(te){return this.style?(this._styleDirty=this._styleDirty||te,this._sourcesDirty=!0,this.triggerRepaint(),this):this},$.prototype._requestRenderFrame=function(te){return this._update(),this._renderTaskQueue.add(te)},$.prototype._cancelRenderFrame=function(te){this._renderTaskQueue.remove(te)},$.prototype._render=function(te){var xe,Pe=this,U=0,ie=this.painter.context.extTimerQuery;if(this.listens("gpu-timing-frame")&&(xe=ie.createQueryEXT(),ie.beginQueryEXT(ie.TIME_ELAPSED_EXT,xe),U=f.browser.now()),this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(te),!this._removed){var de=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;var Te=this.transform.zoom,Ee=f.browser.now();this.style.zoomHistory.update(Te,Ee);var Fe=new f.EvaluationParameters(Te,{now:Ee,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),Ye=Fe.crossFadingFactor();1===Ye&&Ye===this._crossFadingFactor||(de=!0,this._crossFadingFactor=Ye),this.style.update(Fe)}if(this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:this._fadeDuration,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer")}),this.fire(new f.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new f.Event("load"))),this.style&&(this.style.hasTransitions()||de)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this.listens("gpu-timing-frame")){var Xe=f.browser.now()-U;ie.endQueryEXT(ie.TIME_ELAPSED_EXT,xe),setTimeout(function(){var nt=ie.getQueryObjectEXT(xe,ie.QUERY_RESULT_EXT)/1e6;ie.deleteQueryEXT(xe),Pe.fire(new f.Event("gpu-timing-frame",{cpuTime:Xe,gpuTime:nt}))},50)}if(this.listens("gpu-timing-layer")){var Qe=this.painter.collectGpuTimers();setTimeout(function(){var nt=Pe.painter.queryGpuTimers(Qe);Pe.fire(new f.Event("gpu-timing-layer",{layerTimes:nt}))},50)}return this._sourcesDirty||this._styleDirty||this._placementDirty||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&(this._fullyLoaded||(this._fullyLoaded=!0),this.fire(new f.Event("idle"))),this}},$.prototype.remove=function(){this._hash&&this._hash.remove();for(var te=0,xe=this._controls;te<xe.length;te+=1)xe[te].onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),void 0!==f.window&&(f.window.removeEventListener("resize",this._onWindowResize,!1),f.window.removeEventListener("online",this._onWindowOnline,!1));var Pe=this.painter.context.gl.getExtension("WEBGL_lose_context");Pe&&Pe.loseContext(),rl(this._canvasContainer),rl(this._controlContainer),rl(this._missingCSSCanary),this._container.classList.remove("mapboxgl-map"),this._removed=!0,this.fire(new f.Event("remove"))},$.prototype.triggerRepaint=function(){var te=this;this.style&&!this._frame&&(this._frame=f.browser.frame(function(xe){te._frame=null,te._render(xe)}))},$.prototype._onWindowOnline=function(){this._update()},$.prototype._onWindowResize=function(te){this._trackResize&&this.resize({originalEvent:te})._update()},q.showTileBoundaries.get=function(){return!!this._showTileBoundaries},q.showTileBoundaries.set=function(te){this._showTileBoundaries!==te&&(this._showTileBoundaries=te,this._update())},q.showPadding.get=function(){return!!this._showPadding},q.showPadding.set=function(te){this._showPadding!==te&&(this._showPadding=te,this._update())},q.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},q.showCollisionBoxes.set=function(te){this._showCollisionBoxes!==te&&(this._showCollisionBoxes=te,te?this.style._generateCollisionBoxes():this._update())},q.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},q.showOverdrawInspector.set=function(te){this._showOverdrawInspector!==te&&(this._showOverdrawInspector=te,this._update())},q.repaint.get=function(){return!!this._repaint},q.repaint.set=function(te){this._repaint!==te&&(this._repaint=te,this.triggerRepaint())},q.vertices.get=function(){return!!this._vertices},q.vertices.set=function(te){this._vertices=te,this._update()},$.prototype._setCacheLimits=function(te,xe){f.setCacheLimits(te,xe)},q.version.get=function(){return f.version},Object.defineProperties($.prototype,q),$}(zl);function rl(V){V.parentNode&&V.parentNode.removeChild(V)}var Kl={showCompass:!0,showZoom:!0,visualizePitch:!1},ia=function(V){var $=this;this.options=f.extend({},Kl,V),this._container=M.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",function(q){return q.preventDefault()}),this.options.showZoom&&(f.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",function(q){return $._map.zoomIn({},{originalEvent:q})}),M.create("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden",!0),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",function(q){return $._map.zoomOut({},{originalEvent:q})}),M.create("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden",!0)),this.options.showCompass&&(f.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",function(q){$.options.visualizePitch?$._map.resetNorthPitch({},{originalEvent:q}):$._map.resetNorth({},{originalEvent:q})}),this._compassIcon=M.create("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden",!0))};ia.prototype._updateZoomButtons=function(){var V=this._map.getZoom();this._zoomInButton.disabled=V===this._map.getMaxZoom(),this._zoomOutButton.disabled=V===this._map.getMinZoom()},ia.prototype._rotateCompassArrow=function(){var V=this.options.visualizePitch?"scale("+1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)+") rotateX("+this._map.transform.pitch+"deg) rotateZ("+this._map.transform.angle*(180/Math.PI)+"deg)":"rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassIcon.style.transform=V},ia.prototype.onAdd=function(V){return this._map=V,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new Oa(this._map,this._compass,this.options.visualizePitch)),this._container},ia.prototype.onRemove=function(){M.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map},ia.prototype._createButton=function(V,$){var q=M.create("button",V,this._container);return q.type="button",q.addEventListener("click",$),q},ia.prototype._setButtonTitle=function(V,$){var q=this._map._getUIString("NavigationControl."+$);V.title=q,V.setAttribute("aria-label",q)};var Oa=function(V,$,q){void 0===q&&(q=!1),this._clickTolerance=10,this.element=$,this.mouseRotate=new Yo({clickTolerance:V.dragRotate._mouseRotate._clickTolerance}),this.map=V,q&&(this.mousePitch=new Ll({clickTolerance:V.dragRotate._mousePitch._clickTolerance})),f.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),M.addEventListener($,"mousedown",this.mousedown),M.addEventListener($,"touchstart",this.touchstart,{passive:!1}),M.addEventListener($,"touchmove",this.touchmove),M.addEventListener($,"touchend",this.touchend),M.addEventListener($,"touchcancel",this.reset)};function Kr(V,$,q){if(V=new f.LngLat(V.lng,V.lat),$){var te=new f.LngLat(V.lng-360,V.lat),xe=new f.LngLat(V.lng+360,V.lat),Pe=q.locationPoint(V).distSqr($);q.locationPoint(te).distSqr($)<Pe?V=te:q.locationPoint(xe).distSqr($)<Pe&&(V=xe)}for(;Math.abs(V.lng-q.center.lng)>180;){var U=q.locationPoint(V);if(U.x>=0&&U.y>=0&&U.x<=q.width&&U.y<=q.height)break;V.lng>q.center.lng?V.lng-=360:V.lng+=360}return V}Oa.prototype.down=function(V,$){this.mouseRotate.mousedown(V,$),this.mousePitch&&this.mousePitch.mousedown(V,$),M.disableDrag()},Oa.prototype.move=function(V,$){var q=this.map,te=this.mouseRotate.mousemoveWindow(V,$);if(te&&te.bearingDelta&&q.setBearing(q.getBearing()+te.bearingDelta),this.mousePitch){var xe=this.mousePitch.mousemoveWindow(V,$);xe&&xe.pitchDelta&&q.setPitch(q.getPitch()+xe.pitchDelta)}},Oa.prototype.off=function(){var V=this.element;M.removeEventListener(V,"mousedown",this.mousedown),M.removeEventListener(V,"touchstart",this.touchstart,{passive:!1}),M.removeEventListener(V,"touchmove",this.touchmove),M.removeEventListener(V,"touchend",this.touchend),M.removeEventListener(V,"touchcancel",this.reset),this.offTemp()},Oa.prototype.offTemp=function(){M.enableDrag(),M.removeEventListener(f.window,"mousemove",this.mousemove),M.removeEventListener(f.window,"mouseup",this.mouseup)},Oa.prototype.mousedown=function(V){this.down(f.extend({},V,{ctrlKey:!0,preventDefault:function(){return V.preventDefault()}}),M.mousePos(this.element,V)),M.addEventListener(f.window,"mousemove",this.mousemove),M.addEventListener(f.window,"mouseup",this.mouseup)},Oa.prototype.mousemove=function(V){this.move(V,M.mousePos(this.element,V))},Oa.prototype.mouseup=function(V){this.mouseRotate.mouseupWindow(V),this.mousePitch&&this.mousePitch.mouseupWindow(V),this.offTemp()},Oa.prototype.touchstart=function(V){1!==V.targetTouches.length?this.reset():(this._startPos=this._lastPos=M.touchPos(this.element,V.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:function(){return V.preventDefault()}},this._startPos))},Oa.prototype.touchmove=function(V){1!==V.targetTouches.length?this.reset():(this._lastPos=M.touchPos(this.element,V.targetTouches)[0],this.move({preventDefault:function(){return V.preventDefault()}},this._lastPos))},Oa.prototype.touchend=function(V){0===V.targetTouches.length&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()},Oa.prototype.reset=function(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()};var ei={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function zu(V,$,q){var te=V.classList;for(var xe in ei)te.remove("mapboxgl-"+q+"-anchor-"+xe);te.add("mapboxgl-"+q+"-anchor-"+$)}var Xa,Ql=function(V){function $(q,te){var xe=this;if(V.call(this),(q instanceof f.window.HTMLElement||te)&&(q=f.extend({element:q},te)),f.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress"],this),this._anchor=q&&q.anchor||"center",this._color=q&&q.color||"#3FB1CE",this._draggable=q&&q.draggable||!1,this._state="inactive",this._rotation=q&&q.rotation||0,this._rotationAlignment=q&&q.rotationAlignment||"auto",this._pitchAlignment=q&&q.pitchAlignment&&"auto"!==q.pitchAlignment?q.pitchAlignment:this._rotationAlignment,q&&q.element)this._element=q.element,this._offset=f.Point.convert(q&&q.offset||[0,0]);else{this._defaultMarker=!0,this._element=M.create("div"),this._element.setAttribute("aria-label","Map marker");var Pe=M.createNS("http://www.w3.org/2000/svg","svg");Pe.setAttributeNS(null,"display","block"),Pe.setAttributeNS(null,"height","41px"),Pe.setAttributeNS(null,"width","27px"),Pe.setAttributeNS(null,"viewBox","0 0 27 41");var U=M.createNS("http://www.w3.org/2000/svg","g");U.setAttributeNS(null,"stroke","none"),U.setAttributeNS(null,"stroke-width","1"),U.setAttributeNS(null,"fill","none"),U.setAttributeNS(null,"fill-rule","evenodd");var ie=M.createNS("http://www.w3.org/2000/svg","g");ie.setAttributeNS(null,"fill-rule","nonzero");var de=M.createNS("http://www.w3.org/2000/svg","g");de.setAttributeNS(null,"transform","translate(3.0, 29.0)"),de.setAttributeNS(null,"fill","#000000");for(var Te=0,Ee=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];Te<Ee.length;Te+=1){var Fe=Ee[Te],Ye=M.createNS("http://www.w3.org/2000/svg","ellipse");Ye.setAttributeNS(null,"opacity","0.04"),Ye.setAttributeNS(null,"cx","10.5"),Ye.setAttributeNS(null,"cy","5.80029008"),Ye.setAttributeNS(null,"rx",Fe.rx),Ye.setAttributeNS(null,"ry",Fe.ry),de.appendChild(Ye)}var Xe=M.createNS("http://www.w3.org/2000/svg","g");Xe.setAttributeNS(null,"fill",this._color);var Qe=M.createNS("http://www.w3.org/2000/svg","path");Qe.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),Xe.appendChild(Qe);var nt=M.createNS("http://www.w3.org/2000/svg","g");nt.setAttributeNS(null,"opacity","0.25"),nt.setAttributeNS(null,"fill","#000000");var lt=M.createNS("http://www.w3.org/2000/svg","path");lt.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),nt.appendChild(lt);var xt=M.createNS("http://www.w3.org/2000/svg","g");xt.setAttributeNS(null,"transform","translate(6.0, 7.0)"),xt.setAttributeNS(null,"fill","#FFFFFF");var Mt=M.createNS("http://www.w3.org/2000/svg","g");Mt.setAttributeNS(null,"transform","translate(8.0, 8.0)");var jt=M.createNS("http://www.w3.org/2000/svg","circle");jt.setAttributeNS(null,"fill","#000000"),jt.setAttributeNS(null,"opacity","0.25"),jt.setAttributeNS(null,"cx","5.5"),jt.setAttributeNS(null,"cy","5.5"),jt.setAttributeNS(null,"r","5.4999962");var Vt=M.createNS("http://www.w3.org/2000/svg","circle");Vt.setAttributeNS(null,"fill","#FFFFFF"),Vt.setAttributeNS(null,"cx","5.5"),Vt.setAttributeNS(null,"cy","5.5"),Vt.setAttributeNS(null,"r","5.4999962"),Mt.appendChild(jt),Mt.appendChild(Vt),ie.appendChild(de),ie.appendChild(Xe),ie.appendChild(nt),ie.appendChild(xt),ie.appendChild(Mt),Pe.appendChild(ie),this._element.appendChild(Pe),this._offset=f.Point.convert(q&&q.offset||[0,-14])}this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",function(Bt){Bt.preventDefault()}),this._element.addEventListener("mousedown",function(Bt){Bt.preventDefault()}),this._element.addEventListener("focus",function(){var Bt=xe._map.getContainer();Bt.scrollTop=0,Bt.scrollLeft=0}),zu(this._element,this._anchor,"marker"),this._popup=null}return V&&($.__proto__=V),($.prototype=Object.create(V&&V.prototype)).constructor=$,$.prototype.addTo=function(q){return this.remove(),this._map=q,q.getCanvasContainer().appendChild(this._element),q.on("move",this._update),q.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this},$.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),M.remove(this._element),this._popup&&this._popup.remove(),this},$.prototype.getLngLat=function(){return this._lngLat},$.prototype.setLngLat=function(q){return this._lngLat=f.LngLat.convert(q),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},$.prototype.getElement=function(){return this._element},$.prototype.setPopup=function(q){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),q){if(!("offset"in q.options)){var xe=Math.sqrt(Math.pow(13.5,2)/2);q.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[xe,-1*(24.6+xe)],"bottom-right":[-xe,-1*(24.6+xe)],left:[13.5,-24.6],right:[-13.5,-24.6]}:this._offset}this._popup=q,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this},$.prototype._onKeyPress=function(q){var te=q.code,xe=q.charCode||q.keyCode;"Space"!==te&&"Enter"!==te&&32!==xe&&13!==xe||this.togglePopup()},$.prototype._onMapClick=function(q){var te=q.originalEvent.target,xe=this._element;this._popup&&(te===xe||xe.contains(te))&&this.togglePopup()},$.prototype.getPopup=function(){return this._popup},$.prototype.togglePopup=function(){var q=this._popup;return q?(q.isOpen()?q.remove():q.addTo(this._map),this):this},$.prototype._update=function(q){if(this._map){this._map.transform.renderWorldCopies&&(this._lngLat=Kr(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);var te="";"viewport"===this._rotationAlignment||"auto"===this._rotationAlignment?te="rotateZ("+this._rotation+"deg)":"map"===this._rotationAlignment&&(te="rotateZ("+(this._rotation-this._map.getBearing())+"deg)");var xe="";"viewport"===this._pitchAlignment||"auto"===this._pitchAlignment?xe="rotateX(0deg)":"map"===this._pitchAlignment&&(xe="rotateX("+this._map.getPitch()+"deg)"),q&&"moveend"!==q.type||(this._pos=this._pos.round()),M.setTransform(this._element,ei[this._anchor]+" translate("+this._pos.x+"px, "+this._pos.y+"px) "+xe+" "+te)}},$.prototype.getOffset=function(){return this._offset},$.prototype.setOffset=function(q){return this._offset=f.Point.convert(q),this._update(),this},$.prototype._onMove=function(q){this._pos=q.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none","pending"===this._state&&(this._state="active",this.fire(new f.Event("dragstart"))),this.fire(new f.Event("drag"))},$.prototype._onUp=function(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),"active"===this._state&&this.fire(new f.Event("dragend")),this._state="inactive"},$.prototype._addDragHandler=function(q){this._element.contains(q.originalEvent.target)&&(q.preventDefault(),this._positionDelta=q.point.sub(this._pos).add(this._offset),this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},$.prototype.setDraggable=function(q){return this._draggable=!!q,this._map&&(q?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this},$.prototype.isDraggable=function(){return this._draggable},$.prototype.setRotation=function(q){return this._rotation=q||0,this._update(),this},$.prototype.getRotation=function(){return this._rotation},$.prototype.setRotationAlignment=function(q){return this._rotationAlignment=q||"auto",this._update(),this},$.prototype.getRotationAlignment=function(){return this._rotationAlignment},$.prototype.setPitchAlignment=function(q){return this._pitchAlignment=q&&"auto"!==q?q:this._rotationAlignment,this._update(),this},$.prototype.getPitchAlignment=function(){return this._pitchAlignment},$}(f.Evented),Pa={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0},Bu=0,Ra=!1,eu=function(V){function $(q){V.call(this),this.options=f.extend({},Pa,q),f.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker"],this)}return V&&($.__proto__=V),($.prototype=Object.create(V&&V.prototype)).constructor=$,$.prototype.onAdd=function(q){return this._map=q,this._container=M.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),te=this._setupUI,void 0!==Xa?te(Xa):void 0!==f.window.navigator.permissions?f.window.navigator.permissions.query({name:"geolocation"}).then(function(xe){te(Xa="denied"!==xe.state)}):te(Xa=!!f.window.navigator.geolocation),this._container;var te},$.prototype.onRemove=function(){void 0!==this._geolocationWatchID&&(f.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),M.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,Bu=0,Ra=!1},$.prototype._isOutOfMapMaxBounds=function(q){var te=this._map.getMaxBounds(),xe=q.coords;return te&&(xe.longitude<te.getWest()||xe.longitude>te.getEast()||xe.latitude<te.getSouth()||xe.latitude>te.getNorth())},$.prototype._setErrorState=function(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}},$.prototype._onSuccess=function(q){if(this._map){if(this._isOutOfMapMaxBounds(q))return this._setErrorState(),this.fire(new f.Event("outofmaxbounds",q)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=q,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&"OFF"!==this._watchState&&this._updateMarker(q),this.options.trackUserLocation&&"ACTIVE_LOCK"!==this._watchState||this._updateCamera(q),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new f.Event("geolocate",q)),this._finish()}},$.prototype._updateCamera=function(q){var te=new f.LngLat(q.coords.longitude,q.coords.latitude),xe=q.coords.accuracy,Pe=this._map.getBearing(),U=f.extend({bearing:Pe},this.options.fitBoundsOptions);this._map.fitBounds(te.toBounds(xe),U,{geolocateSource:!0})},$.prototype._updateMarker=function(q){if(q){var te=new f.LngLat(q.coords.longitude,q.coords.latitude);this._accuracyCircleMarker.setLngLat(te).addTo(this._map),this._userLocationDotMarker.setLngLat(te).addTo(this._map),this._accuracy=q.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},$.prototype._updateCircleRadius=function(){var q=this._map._container.clientHeight/2,te=this._map.unproject([0,q]),xe=this._map.unproject([1,q]),Pe=te.distanceTo(xe),U=Math.ceil(2*this._accuracy/Pe);this._circleElement.style.width=U+"px",this._circleElement.style.height=U+"px"},$.prototype._onZoom=function(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},$.prototype._onError=function(q){if(this._map){if(this.options.trackUserLocation)if(1===q.code){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;var te=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=te,this._geolocateButton.setAttribute("aria-label",te),void 0!==this._geolocationWatchID&&this._clearWatch()}else{if(3===q.code&&Ra)return;this._setErrorState()}"OFF"!==this._watchState&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new f.Event("error",q)),this._finish()}},$.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},$.prototype._setupUI=function(q){var te=this;if(this._container.addEventListener("contextmenu",function(U){return U.preventDefault()}),this._geolocateButton=M.create("button","mapboxgl-ctrl-geolocate",this._container),M.create("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden",!0),this._geolocateButton.type="button",!1===q){f.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");var xe=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=xe,this._geolocateButton.setAttribute("aria-label",xe)}else{var Pe=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=Pe,this._geolocateButton.setAttribute("aria-label",Pe)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=M.create("div","mapboxgl-user-location-dot"),this._userLocationDotMarker=new Ql(this._dotElement),this._circleElement=M.create("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new Ql({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",function(U){U.geolocateSource||"ACTIVE_LOCK"!==te._watchState||U.originalEvent&&"resize"===U.originalEvent.type||(te._watchState="BACKGROUND",te._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),te._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),te.fire(new f.Event("trackuserlocationend")))})},$.prototype.trigger=function(){if(!this._setup)return f.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new f.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":Bu--,Ra=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new f.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new f.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}if("OFF"===this._watchState&&void 0!==this._geolocationWatchID)this._clearWatch();else if(void 0===this._geolocationWatchID){var q;this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),++Bu>1?(q={maximumAge:6e5,timeout:0},Ra=!0):(q=this.options.positionOptions,Ra=!1),this._geolocationWatchID=f.window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,q)}}else f.window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0},$.prototype._clearWatch=function(){f.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)},$}(f.Evented),tu={maxWidth:100,unit:"metric"},li=function(V){this.options=f.extend({},tu,V),f.bindAll(["_onMove","setUnit"],this)};function ya(V,$,q){var te=q&&q.maxWidth||100,xe=V._container.clientHeight/2,Pe=V.unproject([0,xe]),U=V.unproject([te,xe]),ie=Pe.distanceTo(U);if(q&&"imperial"===q.unit){var de=3.2808*ie;de>5280?vl($,te,de/5280,V._getUIString("ScaleControl.Miles")):vl($,te,de,V._getUIString("ScaleControl.Feet"))}else q&&"nautical"===q.unit?vl($,te,ie/1852,V._getUIString("ScaleControl.NauticalMiles")):ie>=1e3?vl($,te,ie/1e3,V._getUIString("ScaleControl.Kilometers")):vl($,te,ie,V._getUIString("ScaleControl.Meters"))}function vl(V,$,q,te){var xe,Pe,U,Te,Ee,ie=(xe=q,(Pe=Math.pow(10,(""+Math.floor(xe)).length-1))*((U=xe/Pe)>=10?10:U>=5?5:U>=3?3:U>=2?2:U>=1?1:(Te=U,Ee=Math.pow(10,Math.ceil(-Math.log(Te)/Math.LN10)),Math.round(Te*Ee)/Ee)));V.style.width=$*(ie/q)+"px",V.innerHTML=ie+"&nbsp;"+te}li.prototype.getDefaultPosition=function(){return"bottom-left"},li.prototype._onMove=function(){ya(this._map,this._container,this.options)},li.prototype.onAdd=function(V){return this._map=V,this._container=M.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",V.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},li.prototype.onRemove=function(){M.remove(this._container),this._map.off("move",this._onMove),this._map=void 0},li.prototype.setUnit=function(V){this.options.unit=V,ya(this._map,this._container,this.options)};var ws=function(V){this._fullscreen=!1,V&&V.container&&(V.container instanceof f.window.HTMLElement?this._container=V.container:f.warnOnce("Full screen control 'container' must be a DOM element.")),f.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in f.window.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in f.window.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in f.window.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in f.window.document&&(this._fullscreenchange="MSFullscreenChange")};ws.prototype.onAdd=function(V){return this._map=V,this._container||(this._container=this._map.getContainer()),this._controlContainer=M.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",f.warnOnce("This device does not support fullscreen mode.")),this._controlContainer},ws.prototype.onRemove=function(){M.remove(this._controlContainer),this._map=null,f.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)},ws.prototype._checkFullscreenSupport=function(){return!!(f.window.document.fullscreenEnabled||f.window.document.mozFullScreenEnabled||f.window.document.msFullscreenEnabled||f.window.document.webkitFullscreenEnabled)},ws.prototype._setupUI=function(){var V=this._fullscreenButton=M.create("button","mapboxgl-ctrl-fullscreen",this._controlContainer);M.create("span","mapboxgl-ctrl-icon",V).setAttribute("aria-hidden",!0),V.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),f.window.document.addEventListener(this._fullscreenchange,this._changeIcon)},ws.prototype._updateTitle=function(){var V=this._getTitle();this._fullscreenButton.setAttribute("aria-label",V),this._fullscreenButton.title=V},ws.prototype._getTitle=function(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")},ws.prototype._isFullscreen=function(){return this._fullscreen},ws.prototype._changeIcon=function(){(f.window.document.fullscreenElement||f.window.document.mozFullScreenElement||f.window.document.webkitFullscreenElement||f.window.document.msFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())},ws.prototype._onClickFullscreen=function(){this._isFullscreen()?f.window.document.exitFullscreen?f.window.document.exitFullscreen():f.window.document.mozCancelFullScreen?f.window.document.mozCancelFullScreen():f.window.document.msExitFullscreen?f.window.document.msExitFullscreen():f.window.document.webkitCancelFullScreen&&f.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()};var Bl={closeButton:!0,closeOnClick:!0,className:"",maxWidth:"240px"},nu=function(V){function $(q){V.call(this),this.options=f.extend(Object.create(Bl),q),f.bindAll(["_update","_onClose","remove","_onMouseMove","_onMouseUp","_onDrag"],this)}return V&&($.__proto__=V),($.prototype=Object.create(V&&V.prototype)).constructor=$,$.prototype.addTo=function(q){return this._map&&this.remove(),this._map=q,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")):this._map.on("move",this._update),this.fire(new f.Event("open")),this},$.prototype.isOpen=function(){return!!this._map},$.prototype.remove=function(){return this._content&&M.remove(this._content),this._container&&(M.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new f.Event("close")),this},$.prototype.getLngLat=function(){return this._lngLat},$.prototype.setLngLat=function(q){return this._lngLat=f.LngLat.convert(q),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.remove("mapboxgl-track-pointer")),this},$.prototype.trackPointer=function(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")),this},$.prototype.getElement=function(){return this._container},$.prototype.setText=function(q){return this.setDOMContent(f.window.document.createTextNode(q))},$.prototype.setHTML=function(q){var te,xe=f.window.document.createDocumentFragment(),Pe=f.window.document.createElement("body");for(Pe.innerHTML=q;te=Pe.firstChild;)xe.appendChild(te);return this.setDOMContent(xe)},$.prototype.getMaxWidth=function(){return this._container&&this._container.style.maxWidth},$.prototype.setMaxWidth=function(q){return this.options.maxWidth=q,this._update(),this},$.prototype.setDOMContent=function(q){return this._createContent(),this._content.appendChild(q),this._update(),this},$.prototype.addClassName=function(q){this._container&&this._container.classList.add(q)},$.prototype.removeClassName=function(q){this._container&&this._container.classList.remove(q)},$.prototype.toggleClassName=function(q){if(this._container)return this._container.classList.toggle(q)},$.prototype._createContent=function(){this._content&&M.remove(this._content),this._content=M.create("div","mapboxgl-popup-content",this._container),this.options.closeButton&&(this._closeButton=M.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))},$.prototype._onMouseUp=function(q){this._update(q.point)},$.prototype._onMouseMove=function(q){this._update(q.point)},$.prototype._onDrag=function(q){this._update(q.point)},$.prototype._update=function(q){var te=this;if(this._map&&(this._lngLat||this._trackPointer)&&this._content&&(this._container||(this._container=M.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=M.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach(function(Ye){return te._container.classList.add(Ye)}),this._trackPointer&&this._container.classList.add("mapboxgl-popup-track-pointer")),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=Kr(this._lngLat,this._pos,this._map.transform)),!this._trackPointer||q)){var Pe=this._pos=this._trackPointer&&q?q:this._map.project(this._lngLat),U=this.options.anchor,ie=yu(this.options.offset);if(!U){var de,Te=this._container.offsetWidth,Ee=this._container.offsetHeight;de=Pe.y+ie.bottom.y<Ee?["top"]:Pe.y>this._map.transform.height-Ee?["bottom"]:[],Pe.x<Te/2?de.push("left"):Pe.x>this._map.transform.width-Te/2&&de.push("right"),U=0===de.length?"bottom":de.join("-")}var Fe=Pe.add(ie[U]).round();M.setTransform(this._container,ei[U]+" translate("+Fe.x+"px,"+Fe.y+"px)"),zu(this._container,U,"popup")}},$.prototype._onClose=function(){this.remove()},$}(f.Evented);function yu(V){if(V){if("number"==typeof V){var $=Math.round(Math.sqrt(.5*Math.pow(V,2)));return{center:new f.Point(0,0),top:new f.Point(0,V),"top-left":new f.Point($,$),"top-right":new f.Point(-$,$),bottom:new f.Point(0,-V),"bottom-left":new f.Point($,-$),"bottom-right":new f.Point(-$,-$),left:new f.Point(V,0),right:new f.Point(-V,0)}}if(V instanceof f.Point||Array.isArray(V)){var q=f.Point.convert(V);return{center:q,top:q,"top-left":q,"top-right":q,bottom:q,"bottom-left":q,"bottom-right":q,left:q,right:q}}return{center:f.Point.convert(V.center||[0,0]),top:f.Point.convert(V.top||[0,0]),"top-left":f.Point.convert(V["top-left"]||[0,0]),"top-right":f.Point.convert(V["top-right"]||[0,0]),bottom:f.Point.convert(V.bottom||[0,0]),"bottom-left":f.Point.convert(V["bottom-left"]||[0,0]),"bottom-right":f.Point.convert(V["bottom-right"]||[0,0]),left:f.Point.convert(V.left||[0,0]),right:f.Point.convert(V.right||[0,0])}}return yu(new f.Point(0,0))}var jl={version:f.version,supported:k,setRTLTextPlugin:f.setRTLTextPlugin,getRTLTextPluginStatus:f.getRTLTextPluginStatus,Map:fs,NavigationControl:ia,GeolocateControl:eu,AttributionControl:va,ScaleControl:li,FullscreenControl:ws,Popup:nu,Marker:Ql,Style:Tr,LngLat:f.LngLat,LngLatBounds:f.LngLatBounds,Point:f.Point,MercatorCoordinate:f.MercatorCoordinate,Evented:f.Evented,config:f.config,prewarm:function(){St().acquire(dt)},clearPrewarmedResources:function(){var V=At;V&&(V.isPreloaded()&&1===V.numActive()?(V.release(dt),At=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get accessToken(){return f.config.ACCESS_TOKEN},set accessToken(V){f.config.ACCESS_TOKEN=V},get baseApiUrl(){return f.config.API_URL},set baseApiUrl(V){f.config.API_URL=V},get workerCount(){return ut.workerCount},set workerCount(V){ut.workerCount=V},get maxParallelImageRequests(){return f.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(V){f.config.MAX_PARALLEL_IMAGE_REQUESTS=V},clearStorage:function(V){f.clearTileCache(V)},workerUrl:""};return jl}),D}()},27084:function(ae){"use strict";ae.exports=Math.log2||function(B){return Math.log(B)*Math.LOG2E}},16825:function(ae,B,r){"use strict";ae.exports=function(E,f){f||(f=E,E=window);var k=0,M=0,y=0,c={shift:!1,alt:!1,control:!1,meta:!1},i=!1;function s(m){var w=!1;return"altKey"in m&&(w=w||m.altKey!==c.alt,c.alt=!!m.altKey),"shiftKey"in m&&(w=w||m.shiftKey!==c.shift,c.shift=!!m.shiftKey),"ctrlKey"in m&&(w=w||m.ctrlKey!==c.control,c.control=!!m.ctrlKey),"metaKey"in m&&(w=w||m.metaKey!==c.meta,c.meta=!!m.metaKey),w}function a(m,w){var x=D.x(w),b=D.y(w);"buttons"in w&&(m=0|w.buttons),(m!==k||x!==M||b!==y||s(w))&&(k=0|m,M=x||0,y=b||0,f&&f(k,M,y,c))}function o(m){a(0,m)}function l(){(k||M||y||c.shift||c.alt||c.meta||c.control)&&(M=y=0,k=0,c.shift=c.alt=c.control=c.meta=!1,f&&f(0,0,0,c))}function u(m){s(m)&&f&&f(k,M,y,c)}function h(m){0===D.buttons(m)?a(0,m):a(k,m)}function v(m){a(k|D.buttons(m),m)}function p(m){a(k&~D.buttons(m),m)}function T(){i||(i=!0,E.addEventListener("mousemove",h),E.addEventListener("mousedown",v),E.addEventListener("mouseup",p),E.addEventListener("mouseleave",o),E.addEventListener("mouseenter",o),E.addEventListener("mouseout",o),E.addEventListener("mouseover",o),E.addEventListener("blur",l),E.addEventListener("keyup",u),E.addEventListener("keydown",u),E.addEventListener("keypress",u),E!==window&&(window.addEventListener("blur",l),window.addEventListener("keyup",u),window.addEventListener("keydown",u),window.addEventListener("keypress",u)))}T();var _={element:E};return Object.defineProperties(_,{enabled:{get:function(){return i},set:function(m){m?T():i&&(i=!1,E.removeEventListener("mousemove",h),E.removeEventListener("mousedown",v),E.removeEventListener("mouseup",p),E.removeEventListener("mouseleave",o),E.removeEventListener("mouseenter",o),E.removeEventListener("mouseout",o),E.removeEventListener("mouseover",o),E.removeEventListener("blur",l),E.removeEventListener("keyup",u),E.removeEventListener("keydown",u),E.removeEventListener("keypress",u),E!==window&&(window.removeEventListener("blur",l),window.removeEventListener("keyup",u),window.removeEventListener("keydown",u),window.removeEventListener("keypress",u)))},enumerable:!0},buttons:{get:function(){return k},enumerable:!0},x:{get:function(){return M},enumerable:!0},y:{get:function(){return y},enumerable:!0},mods:{get:function(){return c},enumerable:!0}}),_};var D=r(74311)},48956:function(ae){var B={left:0,top:0};ae.exports=function(r,D,E){D=D||r.currentTarget||r.srcElement,Array.isArray(E)||(E=[0,0]);var f,k=r.clientX||0,M=r.clientY||0,y=(f=D)===window||f===document||f===document.body?B:f.getBoundingClientRect();return E[0]=k-y.left,E[1]=M-y.top,E}},74311:function(ae,B){"use strict";function r(D){return D.target||D.srcElement||window}B.buttons=function(D){if("object"==typeof D){if("buttons"in D)return D.buttons;if("which"in D){if(2===(E=D.which))return 4;if(3===E)return 2;if(E>0)return 1<<E-1}else if("button"in D){var E;if(1===(E=D.button))return 4;if(2===E)return 2;if(E>=0)return 1<<E}}return 0},B.element=r,B.x=function(D){if("object"==typeof D){if("offsetX"in D)return D.offsetX;var E=r(D).getBoundingClientRect();return D.clientX-E.left}return 0},B.y=function(D){if("object"==typeof D){if("offsetY"in D)return D.offsetY;var E=r(D).getBoundingClientRect();return D.clientY-E.top}return 0}},1195:function(ae,B,r){"use strict";var D=r(75686);ae.exports=function(E,f,k){"function"==typeof E&&(k=!!f,f=E,E=window);var M=D("ex",E),y=function(c){k&&c.preventDefault();var i=c.deltaX||0,s=c.deltaY||0,a=c.deltaZ||0,o=1;switch(c.deltaMode){case 1:o=M;break;case 2:o=window.innerHeight}if(s*=o,a*=o,(i*=o)||s||a)return f(i,s,a,c)};return E.addEventListener("wheel",y),y}},7417:function(ae,B,r){var D,E,f;(f=void 0!==r.g?r.g:this)[E="Promise"]=f[E]||function(){"use strict";var M,y,c,i=Object.prototype.toString,s=typeof setImmediate<"u"?function(x){return setImmediate(x)}:setTimeout;try{Object.defineProperty({},"x",{}),M=function(x,b,A,g){return Object.defineProperty(x,b,{value:A,writable:!0,configurable:!1!==g})}}catch{M=function(b,A,g){return b[A]=g,b}}function a(x,b){c.add(x,b),y||(y=s(c.drain))}function o(x){var b,A=typeof x;return null==x||"object"!=A&&"function"!=A||(b=x.then),"function"==typeof b&&b}function l(){for(var x=0;x<this.chain.length;x++)u(this,1===this.state?this.chain[x].success:this.chain[x].failure,this.chain[x]);this.chain.length=0}function u(x,b,A){var g,I;try{!1===b?A.reject(x.msg):(g=!0===b?x.msg:b.call(void 0,x.msg))===A.promise?A.reject(TypeError("Promise-chain cycle")):(I=o(g))?I.call(g,A.resolve,A.reject):A.resolve(g)}catch(S){A.reject(S)}}function h(x){var b,A=this;if(!A.triggered){A.triggered=!0,A.def&&(A=A.def);try{(b=o(x))?a(function(){var g=new T(A);try{b.call(x,function(){h.apply(g,arguments)},function(){v.apply(g,arguments)})}catch(I){v.call(g,I)}}):(A.msg=x,A.state=1,A.chain.length>0&&a(l,A))}catch(g){v.call(new T(A),g)}}}function v(x){var b=this;b.triggered||(b.triggered=!0,b.def&&(b=b.def),b.msg=x,b.state=2,b.chain.length>0&&a(l,b))}function p(x,b,A,g){for(var I=0;I<b.length;I++)!function(S){x.resolve(b[S]).then(function(O){A(S,O)},g)}(I)}function T(x){this.def=x,this.triggered=!1}function _(x){this.promise=x,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function m(x){if("function"!=typeof x)throw TypeError("Not a function");if(0!==this.__NPO__)throw TypeError("Not a promise");this.__NPO__=1;var b=new _(this);this.then=function(A,g){var I={success:"function"!=typeof A||A,failure:"function"==typeof g&&g};return I.promise=new this.constructor(function(S,O){if("function"!=typeof S||"function"!=typeof O)throw TypeError("Not a function");I.resolve=S,I.reject=O}),b.chain.push(I),0!==b.state&&a(l,b),I.promise},this.catch=function(A){return this.then(void 0,A)};try{x.call(void 0,function(A){h.call(b,A)},function(A){v.call(b,A)})}catch(A){v.call(b,A)}}c=function(){var x,b,A;function g(I,S){this.fn=I,this.self=S,this.next=void 0}return{add:function(I,S){A=new g(I,S),b?b.next=A:x=A,b=A,A=void 0},drain:function(){var I=x;for(x=b=y=void 0;I;)I.fn.call(I.self),I=I.next}}}();var w=M({},"constructor",m,!1);return m.prototype=w,M(w,"__NPO__",0,!1),M(m,"resolve",function(x){return x&&"object"==typeof x&&1===x.__NPO__?x:new this(function(b,A){if("function"!=typeof b||"function"!=typeof A)throw TypeError("Not a function");b(x)})}),M(m,"reject",function(x){return new this(function(b,A){if("function"!=typeof b||"function"!=typeof A)throw TypeError("Not a function");A(x)})}),M(m,"all",function(x){var b=this;return"[object Array]"!=i.call(x)?b.reject(TypeError("Not an array")):0===x.length?b.resolve([]):new b(function(A,g){if("function"!=typeof A||"function"!=typeof g)throw TypeError("Not a function");var I=x.length,S=Array(I),O=0;p(b,x,function(R,L){S[R]=L,++O===I&&A(S)},g)})}),M(m,"race",function(x){var b=this;return"[object Array]"!=i.call(x)?b.reject(TypeError("Not an array")):new b(function(A,g){if("function"!=typeof A||"function"!=typeof g)throw TypeError("Not a function");p(b,x,function(I,S){A(S)},g)})}),m}(),ae.exports?ae.exports=f[E]:void 0===(D=function(){return f[E]}.call(B,r,B,ae))||(ae.exports=D)},18625:function(ae){var B=Math.PI,r=M(120);function D(y,c,i,s){return["C",y,c,i,s,i,s]}function E(y,c,i,s,a,o){return["C",y/3+.6666666666666666*i,c/3+.6666666666666666*s,a/3+.6666666666666666*i,o/3+.6666666666666666*s,a,o]}function f(y,c,i,s,a,o,l,u,h,v){if(v)I=v[0],S=v[1],A=v[2],g=v[3];else{var p=k(y,c,-a);c=p.y;var T=((y=p.x)-(u=(p=k(u,h,-a)).x))/2,_=(c-(h=p.y))/2,m=T*T/(i*i)+_*_/(s*s);m>1&&(i*=m=Math.sqrt(m),s*=m);var w=i*i,x=s*s,b=(o==l?-1:1)*Math.sqrt(Math.abs((w*x-w*_*_-x*T*T)/(w*_*_+x*T*T)));b==1/0&&(b=1);var A=b*i*_/s+(y+u)/2,g=b*-s*T/i+(c+h)/2,I=Math.asin(((c-g)/s).toFixed(9)),S=Math.asin(((h-g)/s).toFixed(9));(I=y<A?B-I:I)<0&&(I=2*B+I),(S=u<A?B-S:S)<0&&(S=2*B+S),l&&I>S&&(I-=2*B),!l&&S>I&&(S-=2*B)}if(Math.abs(S-I)>r){var O=S,R=u,L=h;S=I+r*(l&&S>I?1:-1);var N=f(u=A+i*Math.cos(S),h=g+s*Math.sin(S),i,s,a,0,l,R,L,[S,O,A,g])}var j=Math.tan((S-I)/4),X=4/3*i*j,F=4/3*s*j,Y=[2*y-(y+X*Math.sin(I)),2*c-(c-F*Math.cos(I)),u+X*Math.sin(S),h-F*Math.cos(S),u,h];if(v)return Y;N&&(Y=Y.concat(N));for(var G=0;G<Y.length;){var H=k(Y[G],Y[G+1],a);Y[G++]=H.x,Y[G++]=H.y}return Y}function k(y,c,i){return{x:y*Math.cos(i)-c*Math.sin(i),y:y*Math.sin(i)+c*Math.cos(i)}}function M(y){return y*(B/180)}ae.exports=function(y){for(var c,i=[],s=0,a=0,o=0,l=0,u=null,h=null,v=0,p=0,T=0,_=y.length;T<_;T++){var m=y[T],w=m[0];switch(w){case"M":o=m[1],l=m[2];break;case"A":(m=f(v,p,m[1],m[2],M(m[3]),m[4],m[5],m[6],m[7])).unshift("C"),m.length>7&&(i.push(m.splice(0,7)),m.unshift("C"));break;case"S":var x=v,b=p;"C"!=c&&"S"!=c||(x+=x-s,b+=b-a),m=["C",x,b,m[1],m[2],m[3],m[4]];break;case"T":"Q"==c||"T"==c?(u=2*v-u,h=2*p-h):(u=v,h=p),m=E(v,p,u,h,m[1],m[2]);break;case"Q":u=m[1],h=m[2],m=E(v,p,m[1],m[2],m[3],m[4]);break;case"L":m=D(v,p,m[1],m[2]);break;case"H":m=D(v,p,m[1],p);break;case"V":m=D(v,p,v,m[1]);break;case"Z":m=D(v,p,o,l)}c=w,v=m[m.length-2],p=m[m.length-1],m.length>4?(s=m[m.length-4],a=m[m.length-3]):(s=v,a=p),i.push(m)}return i}},56131:function(ae){"use strict";var B=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,D=Object.prototype.propertyIsEnumerable;ae.exports=function(){try{if(!Object.assign)return!1;var E=new String("abc");if(E[5]="de","5"===Object.getOwnPropertyNames(E)[0])return!1;for(var f={},k=0;k<10;k++)f["_"+String.fromCharCode(k)]=k;if("0123456789"!==Object.getOwnPropertyNames(f).map(function(y){return f[y]}).join(""))return!1;var M={};return"abcdefghijklmnopqrst".split("").forEach(function(y){M[y]=y}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},M)).join("")}catch{return!1}}()?Object.assign:function(E,f){for(var k,M,y=function(a){if(null==a)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(a)}(E),c=1;c<arguments.length;c++){for(var i in k=Object(arguments[c]))r.call(k,i)&&(y[i]=k[i]);if(B){M=B(k);for(var s=0;s<M.length;s++)D.call(k,M[s])&&(y[M[s]]=k[M[s]])}}return y}},65848:function(ae){"use strict";var B=function(r){return r!=r};ae.exports=function(r,D){return 0===r&&0===D?1/r==1/D:r===D||!(!B(r)||!B(D))}},64003:function(ae,B,r){"use strict";var D=r(17045),E=r(68222),f=r(65848),k=r(27015),M=r(55572),y=E(k(),Object);D(y,{getPolyfill:k,implementation:f,shim:M}),ae.exports=y},27015:function(ae,B,r){"use strict";var D=r(65848);ae.exports=function(){return"function"==typeof Object.is?Object.is:D}},55572:function(ae,B,r){"use strict";var D=r(27015),E=r(17045);ae.exports=function(){var f=D();return E(Object,{is:f},{is:function(){return Object.is!==f}}),f}},99019:function(ae,B,r){"use strict";var D;if(!Object.keys){var E=Object.prototype.hasOwnProperty,f=Object.prototype.toString,k=r(64178),M=Object.prototype.propertyIsEnumerable,y=!M.call({toString:null},"toString"),c=M.call(function(){},"prototype"),i=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],s=function(l){var u=l.constructor;return u&&u.prototype===l},a={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},o=function(){if(typeof window>"u")return!1;for(var l in window)try{if(!a["$"+l]&&E.call(window,l)&&null!==window[l]&&"object"==typeof window[l])try{s(window[l])}catch{return!0}}catch{return!0}return!1}();D=function(l){var u=null!==l&&"object"==typeof l,h="[object Function]"===f.call(l),v=k(l),p=u&&"[object String]"===f.call(l),T=[];if(!u&&!h&&!v)throw new TypeError("Object.keys called on a non-object");var _=c&&h;if(p&&l.length>0&&!E.call(l,0))for(var m=0;m<l.length;++m)T.push(String(m));if(v&&l.length>0)for(var w=0;w<l.length;++w)T.push(String(w));else for(var x in l)_&&"prototype"===x||!E.call(l,x)||T.push(String(x));if(y)for(var b=function(g){if(typeof window>"u"||!o)return s(g);try{return s(g)}catch{return!1}}(l),A=0;A<i.length;++A)b&&"constructor"===i[A]||!E.call(l,i[A])||T.push(i[A]);return T}}ae.exports=D},8709:function(ae,B,r){"use strict";var D=Array.prototype.slice,E=r(64178),f=Object.keys,k=f?function(y){return f(y)}:r(99019),M=Object.keys;k.shim=function(){if(Object.keys){var y=function(){var c=Object.keys(arguments);return c&&c.length===arguments.length}(1,2);y||(Object.keys=function(c){return E(c)?M(D.call(c)):M(c)})}else Object.keys=k;return Object.keys||k},ae.exports=k},64178:function(ae){"use strict";var B=Object.prototype.toString;ae.exports=function(r){var D=B.call(r),E="[object Arguments]"===D;return E||(E="[object Array]"!==D&&null!==r&&"object"==typeof r&&"number"==typeof r.length&&r.length>=0&&"[object Function]"===B.call(r.callee)),E}},88641:function(ae){"use strict";function B(E,f){if("string"!=typeof E)return[E];var k=[E];"string"==typeof f||Array.isArray(f)?f={brackets:f}:f||(f={});var M=f.brackets?Array.isArray(f.brackets)?f.brackets:[f.brackets]:["{}","[]","()"],y=f.escape||"___",c=!!f.flat;M.forEach(function(s){var a=new RegExp(["\\",s[0],"[^\\",s[0],"\\",s[1],"]*\\",s[1]].join("")),o=[];function l(u,h,v){var p=k.push(u.slice(s[0].length,-s[1].length))-1;return o.push(p),y+p+y}k.forEach(function(u,h){for(var v,p=0;u!=v;)if(v=u,u=u.replace(a,l),p++>1e4)throw Error("References have circular dependency. Please, check them.");k[h]=u}),o=o.reverse(),k=k.map(function(u){return o.forEach(function(h){u=u.replace(new RegExp("(\\"+y+h+"\\"+y+")","g"),s[0]+"$1"+s[1])}),u})});var i=new RegExp("\\"+y+"([0-9]+)\\"+y);return c?k:function s(a,o,l){for(var u,h=[],v=0;u=i.exec(a);){if(v++>1e4)throw Error("Circular references in parenthesis");h.push(a.slice(0,u.index)),h.push(s(o[u[1]],o)),a=a.slice(u.index+u[0].length)}return h.push(a),h}(k[0],k)}function r(E,f){if(f&&f.flat){var k,M=f&&f.escape||"___",y=E[0];if(!y)return"";for(var c=new RegExp("\\"+M+"([0-9]+)\\"+M),i=0;y!=k;){if(i++>1e4)throw Error("Circular references in "+E);k=y,y=y.replace(c,s)}return y}return E.reduce(function a(o,l){return Array.isArray(l)&&(l=l.reduce(a,"")),o+l},"");function s(a,o){if(null==E[o])throw Error("Reference "+o+"is undefined");return E[o]}}function D(E,f){return Array.isArray(E)?r(E,f):B(E,f)}D.parse=B,D.stringify=r,ae.exports=D},18863:function(ae,B,r){"use strict";var D=r(71299);ae.exports=function(E){var f;return arguments.length>1&&(E=arguments),"string"==typeof E?E=E.split(/\s/).map(parseFloat):"number"==typeof E&&(E=[E]),E.length&&"number"==typeof E[0]?f=1===E.length?{width:E[0],height:E[0],x:0,y:0}:2===E.length?{width:E[0],height:E[1],x:0,y:0}:{x:E[0],y:E[1],width:E[2]-E[0]||0,height:E[3]-E[1]||0}:E&&((f={x:(E=D(E,{left:"x l left Left",top:"y t top Top",width:"w width W Width",height:"h height W Width",bottom:"b bottom Bottom",right:"r right Right"})).left||0,y:E.top||0}).width=null==E.width?E.right?E.right-f.x:0:E.width,f.height=null==E.height?E.bottom?E.bottom-f.y:0:E.height),f}},95616:function(ae){ae.exports=function(E){var f=[];return E.replace(r,function(k,M,y){var s,c=M.toLowerCase();for(s=void 0,y=(s=y.match(D))?s.map(Number):[],"m"==c&&y.length>2&&(f.push([M].concat(y.splice(0,2))),c="l",M="m"==M?"l":"L");;){if(y.length==B[c])return y.unshift(M),f.push(y);if(y.length<B[c])throw new Error("malformed path data");f.push([M].concat(y.splice(0,B[c])))}}),f};var B={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},r=/([astvzqmhlc])([^astvzqmhlc]*)/gi,D=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/gi},25677:function(ae){ae.exports=function(B,r){r||(r=[0,""]),B=String(B);var D=parseFloat(B,10);return r[0]=D,r[1]=B.match(/[\d.\-\+]*\s*(.*)/)[1]||"",r}},9748:function(ae,B,r){var D=r(90386);(function(){var E,f,k,M,y,c;typeof performance<"u"&&null!==performance&&performance.now?ae.exports=function(){return performance.now()}:null!=D&&D.hrtime?(ae.exports=function(){return(E()-y)/1e6},f=D.hrtime,M=(E=function(){var i;return 1e9*(i=f())[0]+i[1]})(),c=1e9*D.uptime(),y=M-c):Date.now?(ae.exports=function(){return Date.now()-k},k=Date.now()):(ae.exports=function(){return(new Date).getTime()-k},k=(new Date).getTime())}).call(this)},71299:function(ae){"use strict";ae.exports=function(D,E,f){var k,M,y={};if("string"==typeof E&&(E=r(E)),Array.isArray(E)){var c={};for(M=0;M<E.length;M++)c[E[M]]=!0;E=c}for(k in E)E[k]=r(E[k]);var i={};for(k in E){var s=E[k];if(Array.isArray(s))for(M=0;M<s.length;M++){var a=s[M];if(f&&(i[a]=!0),a in D){if(y[k]=D[a],f)for(var o=M;o<s.length;o++)i[s[o]]=!0;break}}else k in D&&(E[k]&&(y[k]=D[k]),f&&(i[k]=!0))}if(f)for(k in D)i[k]||(y[k]=D[k]);return y};var B={};function r(D){return B[D]?B[D]:("string"==typeof D&&(D=B[D]=D.split(/\s*,\s*|\s+/)),D)}},38258:function(ae){ae.exports=function(B,r,D,E){var f=B[0],k=B[1],M=!1;void 0===D&&(D=0),void 0===E&&(E=r.length);for(var y=E-D,c=0,i=y-1;c<y;i=c++){var s=r[c+D][0],a=r[c+D][1],l=r[i+D][1];a>k!=l>k&&f<(r[i+D][0]-s)*(k-a)/(l-a)+s&&(M=!M)}return M}},52142:function(ae,B,r){var D,E=r(69444),f=r(29023),k=r(87263),M=r(11328),y=r(55968),c=r(10670),i=!1,s=f();function a(o,l,u){var h=D.segments(o),v=D.segments(l),p=u(D.combine(h,v));return D.polygon(p)}D={buildLog:function(o){return!0===o?i=E():!1===o&&(i=!1),!1!==i&&i.list},epsilon:function(o){return s.epsilon(o)},segments:function(o){var l=k(!0,s,i);return o.regions.forEach(l.addRegion),{segments:l.calculate(o.inverted),inverted:o.inverted}},combine:function(o,l){return{combined:k(!1,s,i).calculate(o.segments,o.inverted,l.segments,l.inverted),inverted1:o.inverted,inverted2:l.inverted}},selectUnion:function(o){return{segments:y.union(o.combined,i),inverted:o.inverted1||o.inverted2}},selectIntersect:function(o){return{segments:y.intersect(o.combined,i),inverted:o.inverted1&&o.inverted2}},selectDifference:function(o){return{segments:y.difference(o.combined,i),inverted:o.inverted1&&!o.inverted2}},selectDifferenceRev:function(o){return{segments:y.differenceRev(o.combined,i),inverted:!o.inverted1&&o.inverted2}},selectXor:function(o){return{segments:y.xor(o.combined,i),inverted:o.inverted1!==o.inverted2}},polygon:function(o){return{regions:M(o.segments,s,i),inverted:o.inverted}},polygonFromGeoJSON:function(o){return c.toPolygon(D,o)},polygonToGeoJSON:function(o){return c.fromPolygon(D,s,o)},union:function(o,l){return a(o,l,D.selectUnion)},intersect:function(o,l){return a(o,l,D.selectIntersect)},difference:function(o,l){return a(o,l,D.selectDifference)},differenceRev:function(o,l){return a(o,l,D.selectDifferenceRev)},xor:function(o,l){return a(o,l,D.selectXor)}},"object"==typeof window&&(window.PolyBool=D),ae.exports=D},69444:function(ae){ae.exports=function(){var B,r=0,D=!1;function E(f,k){return B.list.push({type:f,data:k?JSON.parse(JSON.stringify(k)):void 0}),B}return B={list:[],segmentId:function(){return r++},checkIntersection:function(f,k){return E("check",{seg1:f,seg2:k})},segmentChop:function(f,k){return E("div_seg",{seg:f,pt:k}),E("chop",{seg:f,pt:k})},statusRemove:function(f){return E("pop_seg",{seg:f})},segmentUpdate:function(f){return E("seg_update",{seg:f})},segmentNew:function(f,k){return E("new_seg",{seg:f,primary:k})},segmentRemove:function(f){return E("rem_seg",{seg:f})},tempStatus:function(f,k,M){return E("temp_status",{seg:f,above:k,below:M})},rewind:function(f){return E("rewind",{seg:f})},status:function(f,k,M){return E("status",{seg:f,above:k,below:M})},vert:function(f){return f===D?B:(D=f,E("vert",{x:f}))},log:function(f){return"string"!=typeof f&&(f=JSON.stringify(f,!1,"  ")),E("log",{txt:f})},reset:function(){return E("reset")},selected:function(f){return E("selected",{segs:f})},chainStart:function(f){return E("chain_start",{seg:f})},chainRemoveHead:function(f,k){return E("chain_rem_head",{index:f,pt:k})},chainRemoveTail:function(f,k){return E("chain_rem_tail",{index:f,pt:k})},chainNew:function(f,k){return E("chain_new",{pt1:f,pt2:k})},chainMatch:function(f){return E("chain_match",{index:f})},chainClose:function(f){return E("chain_close",{index:f})},chainAddHead:function(f,k){return E("chain_add_head",{index:f,pt:k})},chainAddTail:function(f,k){return E("chain_add_tail",{index:f,pt:k})},chainConnect:function(f,k){return E("chain_con",{index1:f,index2:k})},chainReverse:function(f){return E("chain_rev",{index:f})},chainJoin:function(f,k){return E("chain_join",{index1:f,index2:k})},done:function(){return E("done")}}}},29023:function(ae){ae.exports=function(B){"number"!=typeof B&&(B=1e-10);var r={epsilon:function(D){return"number"==typeof D&&(B=D),B},pointAboveOrOnLine:function(D,E,f){var k=E[0],M=E[1];return(f[0]-k)*(D[1]-M)-(f[1]-M)*(D[0]-k)>=-B},pointBetween:function(D,E,f){var M=f[0]-E[0],c=f[1]-E[1],i=(D[0]-E[0])*M+(D[1]-E[1])*c;return!(i<B||i-(M*M+c*c)>-B)},pointsSameX:function(D,E){return Math.abs(D[0]-E[0])<B},pointsSameY:function(D,E){return Math.abs(D[1]-E[1])<B},pointsSame:function(D,E){return r.pointsSameX(D,E)&&r.pointsSameY(D,E)},pointsCompare:function(D,E){return r.pointsSameX(D,E)?r.pointsSameY(D,E)?0:D[1]<E[1]?-1:1:D[0]<E[0]?-1:1},pointsCollinear:function(D,E,f){return Math.abs((D[0]-E[0])*(E[1]-f[1])-(E[0]-f[0])*(D[1]-E[1]))<B},linesIntersect:function(D,E,f,k){var M=E[0]-D[0],y=E[1]-D[1],c=k[0]-f[0],i=k[1]-f[1],s=M*i-y*c;if(Math.abs(s)<B)return!1;var a=D[0]-f[0],o=D[1]-f[1],l=(c*o-i*a)/s,u=(M*o-y*a)/s,h={alongA:0,alongB:0,pt:[D[0]+l*M,D[1]+l*y]};return h.alongA=l<=-B?-2:l<B?-1:l-1<=-B?0:l-1<B?1:2,h.alongB=u<=-B?-2:u<B?-1:u-1<=-B?0:u-1<B?1:2,h},pointInsideRegion:function(D,E){for(var f=D[0],k=D[1],M=E[E.length-1][0],y=E[E.length-1][1],c=!1,i=0;i<E.length;i++){var s=E[i][0],a=E[i][1];a-k>B!=y-k>B&&(M-s)*(k-a)/(y-a)+s-f>B&&(c=!c),M=s,y=a}return c}};return r}},10670:function(ae){ae.exports={toPolygon:function(r,D){function E(M){if(M.length<=0)return r.segments({inverted:!1,regions:[]});function y(s){var a=s.slice(0,s.length-1);return r.segments({inverted:!1,regions:[a]})}for(var c=y(M[0]),i=1;i<M.length;i++)c=r.selectDifference(r.combine(c,y(M[i])));return c}if("Polygon"===D.type)return r.polygon(E(D.coordinates));if("MultiPolygon"===D.type){for(var f=r.segments({inverted:!1,regions:[]}),k=0;k<D.coordinates.length;k++)f=r.selectUnion(r.combine(f,E(D.coordinates[k])));return r.polygon(f)}throw new Error("PolyBool: Cannot convert GeoJSON object to PolyBool polygon")},fromPolygon:function(r,D,E){function f(u,h){return D.pointInsideRegion([.5*(u[0][0]+u[1][0]),.5*(u[0][1]+u[1][1])],h)}function k(u){return{region:u,children:[]}}E=r.polygon(r.segments(E));var M=k(null);function y(u,h){for(var v=0;v<u.children.length;v++)if(f(h,(T=u.children[v]).region))return void y(T,h);var p=k(h);for(v=0;v<u.children.length;v++){var T;f((T=u.children[v]).region,h)&&(p.children.push(T),u.children.splice(v,1),v--)}u.children.push(p)}for(var c=0;c<E.regions.length;c++){var i=E.regions[c];i.length<3||y(M,i)}function s(u,h){for(var v=0,p=u[u.length-1][0],T=u[u.length-1][1],_=[],m=0;m<u.length;m++){var w=u[m][0],x=u[m][1];_.push([w,x]),v+=x*p-w*T,p=w,T=x}return v<0!==h&&_.reverse(),_.push([_[0][0],_[0][1]]),_}var a=[];function o(u){var h=[s(u.region,!1)];a.push(h);for(var v=0;v<u.children.length;v++)h.push(l(u.children[v]))}function l(u){for(var h=0;h<u.children.length;h++)o(u.children[h]);return s(u.region,!0)}for(c=0;c<M.children.length;c++)o(M.children[c]);return a.length<=0?{type:"Polygon",coordinates:[]}:1==a.length?{type:"Polygon",coordinates:a[0]}:{type:"MultiPolygon",coordinates:a}}}},87263:function(ae,B,r){var D=r(26859);ae.exports=function(E,f,k){function M(o,l,u){return{id:k?k.segmentId():-1,start:o,end:l,myFill:{above:u.myFill.above,below:u.myFill.below},otherFill:null}}var y=D.create();function c(o,l){y.insertBefore(o,function(u){return h=o.isStart,p=l,T=u.isStart,m=u.other.pt,(0!==(w=f.pointsCompare(o.pt,_=u.pt))?w:f.pointsSame(p,m)?0:h!==T?h?1:-1:f.pointAboveOrOnLine(p,T?_:m,T?m:_)?1:-1)<0;var h,p,T,_,m,w})}function i(o,l){var h,p,u=(c(p=D.node({isStart:!0,pt:(h=o).start,seg:h,primary:l,other:null,status:null}),h.end),p);return function(h,v,p){var T=D.node({isStart:!1,pt:v.end,seg:v,primary:p,other:h,status:null});h.other=T,c(T,h.pt)}(u,o,l),u}function s(o,l){var h,v,u=M(l,o.seg.end,o.seg);return h=o,v=l,k&&k.segmentChop(h.seg,v),h.other.remove(),h.seg.end=v,h.other.pt=v,c(h.other,h.pt),i(u,o.primary)}function a(o,l){var u=D.create();function h(O){return u.findTransition(function(R){var L,N,j,X,F,Y;return X=(L=O).seg.end,(f.pointsCollinear(j=L.seg.start,F=(N=R.ev).seg.start,Y=N.seg.end)?f.pointsCollinear(X,F,Y)||f.pointAboveOrOnLine(X,F,Y)?1:-1:f.pointAboveOrOnLine(j,F,Y)?1:-1)>0})}function v(O,R){var L=O.seg,N=R.seg,j=L.start,X=L.end,F=N.start,Y=N.end;k&&k.checkIntersection(L,N);var G=f.linesIntersect(j,X,F,Y);if(!1===G){if(!f.pointsCollinear(j,X,F)||f.pointsSame(j,Y)||f.pointsSame(X,F))return!1;var H=f.pointsSame(j,F),W=f.pointsSame(X,Y);if(H&&W)return R;var Z=!H&&f.pointBetween(j,F,Y),se=!W&&f.pointBetween(X,F,Y);if(H)return se?s(R,X):s(O,Y),R;Z&&(W||(se?s(R,X):s(O,Y)),s(R,j))}else 0===G.alongA&&(-1===G.alongB?s(O,F):0===G.alongB?s(O,G.pt):1===G.alongB&&s(O,Y)),0===G.alongB&&(-1===G.alongA?s(R,j):0===G.alongA?s(R,G.pt):1===G.alongA&&s(R,X));return!1}for(var p=[];!y.isEmpty();){var T=y.getHead();if(k&&k.vert(T.pt[0]),T.isStart){let O=function(){if(m){var R=v(T,m);if(R)return R}return!!w&&v(T,w)};k&&k.segmentNew(T.seg,T.primary);var _=h(T),m=_.before?_.before.ev:null,w=_.after?_.after.ev:null;k&&k.tempStatus(T.seg,!!m&&m.seg,!!w&&w.seg);var x,b,A=O();if(A&&(E?(b=null===T.seg.myFill.below||T.seg.myFill.above!==T.seg.myFill.below)&&(A.seg.myFill.above=!A.seg.myFill.above):A.seg.otherFill=T.seg.myFill,k&&k.segmentUpdate(A.seg),T.other.remove(),T.remove()),y.getHead()!==T){k&&k.rewind(T.seg);continue}E?(b=null===T.seg.myFill.below||T.seg.myFill.above!==T.seg.myFill.below,T.seg.myFill.below=w?w.seg.myFill.above:o,T.seg.myFill.above=b?!T.seg.myFill.below:T.seg.myFill.below):null===T.seg.otherFill&&(T.seg.otherFill={above:x=w?T.primary===w.primary?w.seg.otherFill.above:w.seg.myFill.above:T.primary?l:o,below:x}),k&&k.status(T.seg,!!m&&m.seg,!!w&&w.seg),T.other.status=_.insert(D.node({ev:T}))}else{var g=T.status;if(null===g)throw new Error("PolyBool: Zero-length segment detected; your epsilon is probably too small or too large");if(u.exists(g.prev)&&u.exists(g.next)&&v(g.prev.ev,g.next.ev),k&&k.statusRemove(g.ev.seg),g.remove(),!T.primary){var I=T.seg.myFill;T.seg.myFill=T.seg.otherFill,T.seg.otherFill=I}p.push(T.seg)}y.getHead().remove()}return k&&k.done(),p}return E?{addRegion:function(o){for(var l,u,h,v=o[o.length-1],p=0;p<o.length;p++){var T=f.pointsCompare(l=v,v=o[p]);0!==T&&i((u=T<0?l:v,h=T<0?v:l,{id:k?k.segmentId():-1,start:u,end:h,myFill:{above:null,below:null},otherFill:null}),!0)}},calculate:function(o){return a(o,!1)}}:{calculate:function(o,l,u,h){return o.forEach(function(v){i(M(v.start,v.end,v),!0)}),u.forEach(function(v){i(M(v.start,v.end,v),!1)}),a(l,h)}}}},26859:function(ae){ae.exports={create:function(){var B={root:{root:!0,next:null},exists:function(r){return null!==r&&r!==B.root},isEmpty:function(){return null===B.root.next},getHead:function(){return B.root.next},insertBefore:function(r,D){for(var E=B.root,f=B.root.next;null!==f;){if(D(f))return r.prev=f.prev,r.next=f,f.prev.next=r,void(f.prev=r);E=f,f=f.next}E.next=r,r.prev=E,r.next=null},findTransition:function(r){for(var D=B.root,E=B.root.next;null!==E&&!r(E);)D=E,E=E.next;return{before:D===B.root?null:D,after:E,insert:function(f){return f.prev=D,f.next=E,D.next=f,null!==E&&(E.prev=f),f}}}};return B},node:function(B){return B.prev=null,B.next=null,B.remove=function(){B.prev.next=B.next,B.next&&(B.next.prev=B.prev),B.prev=null,B.next=null},B}}},11328:function(ae){ae.exports=function(B,r,D){var E=[],f=[];return B.forEach(function(k){var M=k.start,y=k.end;if(r.pointsSame(M,y))console.warn("PolyBool: Warning: Zero-length segment detected; your epsilon is probably too small or too large");else{D&&D.chainStart(k);for(var c={index:0,matches_head:!1,matches_pt1:!1},i={index:0,matches_head:!1,matches_pt1:!1},s=c,a=0;a<E.length;a++){var o=(p=E[a])[0],l=p[p.length-1];if(r.pointsSame(o,M)){if(g(a,!0,!0))break}else if(r.pointsSame(o,y)){if(g(a,!0,!1))break}else if(r.pointsSame(l,M)){if(g(a,!1,!0))break}else if(r.pointsSame(l,y)&&g(a,!1,!1))break}if(s===c)return E.push([M,y]),void(D&&D.chainNew(M,y));if(s===i){D&&D.chainMatch(c.index);var u=c.index,h=c.matches_pt1?y:M,v=c.matches_head,p=E[u],T=v?p[0]:p[p.length-1],_=v?p[1]:p[p.length-2],m=v?p[p.length-1]:p[0],w=v?p[p.length-2]:p[1];return r.pointsCollinear(_,T,h)&&(v?(D&&D.chainRemoveHead(c.index,h),p.shift()):(D&&D.chainRemoveTail(c.index,h),p.pop()),T=_),r.pointsSame(m,h)?(E.splice(u,1),r.pointsCollinear(w,m,T)&&(v?(D&&D.chainRemoveTail(c.index,T),p.pop()):(D&&D.chainRemoveHead(c.index,T),p.shift())),D&&D.chainClose(c.index),void f.push(p)):void(v?(D&&D.chainAddHead(c.index,h),p.unshift(h)):(D&&D.chainAddTail(c.index,h),p.push(h)))}var x=c.index,b=i.index;D&&D.chainConnect(x,b);var A=E[x].length<E[b].length;c.matches_head?i.matches_head?A?(I(x),S(x,b)):(I(b),S(b,x)):S(b,x):i.matches_head?S(x,b):A?(I(x),S(b,x)):(I(b),S(x,b))}function g(O,R,L){return s.index=O,s.matches_head=R,s.matches_pt1=L,s===c?(s=i,!1):(s=null,!0)}function I(O){D&&D.chainReverse(O),E[O].reverse()}function S(O,R){var L=E[O],N=E[R],j=L[L.length-1],X=L[L.length-2],F=N[0],Y=N[1];r.pointsCollinear(X,j,F)&&(D&&D.chainRemoveTail(O,j),L.pop(),j=X),r.pointsCollinear(j,F,Y)&&(D&&D.chainRemoveHead(R,F),N.shift()),D&&D.chainJoin(O,R),E[O]=L.concat(N),E.splice(R,1)}}),f}},55968:function(ae){function B(D,E,f){var k=[];return D.forEach(function(M){var y=(M.myFill.above?8:0)+(M.myFill.below?4:0)+(M.otherFill&&M.otherFill.above?2:0)+(M.otherFill&&M.otherFill.below?1:0);0!==E[y]&&k.push({id:f?f.segmentId():-1,start:M.start,end:M.end,myFill:{above:1===E[y],below:2===E[y]},otherFill:null})}),f&&f.selected(k),k}ae.exports={union:function(D,E){return B(D,[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0],E)},intersect:function(D,E){return B(D,[0,0,0,0,0,2,0,2,0,0,1,1,0,2,1,0],E)},difference:function(D,E){return B(D,[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0],E)},differenceRev:function(D,E){return B(D,[0,2,1,0,0,0,1,1,0,2,0,2,0,0,0,0],E)},xor:function(D,E){return B(D,[0,2,1,0,2,0,0,1,1,0,0,2,0,1,2,0],E)}}},14847:function(ae,B,r){"use strict";var D=r(21630).Transform,E=r(90715);function f(){D.call(this,{readableObjectMode:!0})}function k(M,y,c){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack||"",this.name=this.constructor.name,this.message=M,y&&(this.code=y),c&&(this.statusCode=c)}(f.prototype=Object.create(D.prototype)).constructor=f,E(f.prototype),B.OF=function(M,y,c){for(var i=y,s=0;s<c.length;)if(M[i++]!==c[s++])return!1;return!0},B.eG=function(M,y){var c=[],i=0;if(y&&"hex"===y)for(;i<M.length;)c.push(parseInt(M.slice(i,i+2),16)),i+=2;else for(;i<M.length;i++)c.push(255&M.charCodeAt(i));return c},B.mP=function(M,y){return M[y]|M[y+1]<<8},B.n8=function(M,y){return M[y+1]|M[y]<<8},B.nm=function(M,y){return M[y]|M[y+1]<<8|M[y+2]<<16|16777216*M[y+3]},B.Ag=function(M,y){return M[y+3]|M[y+2]<<8|M[y+1]<<16|16777216*M[y]},(k.prototype=Object.create(Error.prototype)).constructor=k},71371:function(ae){"use strict";function B(E,f){var k=new Error(E);return k.code=f,k}function r(E){try{return decodeURIComponent(escape(E))}catch{return E}}function D(E,f,k){this.input=E.subarray(f,k),this.start=f;var M=String.fromCharCode.apply(null,this.input.subarray(0,4));if("II*\0"!==M&&"MM\0*"!==M)throw B("invalid TIFF signature","EBADDATA");this.big_endian="M"===M[0]}D.prototype.each=function(E){this.aborted=!1;var f=this.read_uint32(4);for(this.ifds_to_read=[{id:0,offset:f}];this.ifds_to_read.length>0&&!this.aborted;){var k=this.ifds_to_read.shift();k.offset&&this.scan_ifd(k.id,k.offset,E)}},D.prototype.read_uint16=function(E){var f=this.input;if(E+2>f.length)throw B("unexpected EOF","EBADDATA");return this.big_endian?256*f[E]+f[E+1]:f[E]+256*f[E+1]},D.prototype.read_uint32=function(E){var f=this.input;if(E+4>f.length)throw B("unexpected EOF","EBADDATA");return this.big_endian?16777216*f[E]+65536*f[E+1]+256*f[E+2]+f[E+3]:f[E]+256*f[E+1]+65536*f[E+2]+16777216*f[E+3]},D.prototype.is_subifd_link=function(E,f){return 0===E&&34665===f||0===E&&34853===f||34665===E&&40965===f},D.prototype.exif_format_length=function(E){switch(E){case 1:case 2:case 6:case 7:return 1;case 3:case 8:return 2;case 4:case 9:case 11:return 4;case 5:case 10:case 12:return 8;default:return 0}},D.prototype.exif_format_read=function(E,f){var k;switch(E){case 1:case 2:return this.input[f];case 6:return(k=this.input[f])|33554430*(128&k);case 3:return this.read_uint16(f);case 8:return(k=this.read_uint16(f))|131070*(32768&k);case 4:return this.read_uint32(f);case 9:return 0|this.read_uint32(f);default:return null}},D.prototype.scan_ifd=function(E,f,k){var M=this.read_uint16(f);f+=2;for(var y=0;y<M;y++){var c=this.read_uint16(f),i=this.read_uint16(f+2),s=this.read_uint32(f+4),a=this.exif_format_length(i),o=s*a,l=o<=4?f+8:this.read_uint32(f+8),u=!1;if(l+o>this.input.length)throw B("unexpected EOF","EBADDATA");for(var h=[],v=l,p=0;p<s;p++,v+=a){var T=this.exif_format_read(i,v);if(null===T){h=null;break}h.push(T)}if(Array.isArray(h)&&2===i&&(h=r(String.fromCharCode.apply(null,h)))&&"\0"===h[h.length-1]&&(h=h.slice(0,-1)),this.is_subifd_link(E,c)&&Array.isArray(h)&&Number.isInteger(h[0])&&h[0]>0&&(this.ifds_to_read.push({id:c,offset:h[0]}),u=!0),!1===k({is_big_endian:this.big_endian,ifd:E,tag:c,format:i,count:s,entry_offset:f+this.start,data_length:o,data_offset:l+this.start,value:h,is_subifd_link:u}))return void(this.aborted=!0);f+=12}0===E&&this.ifds_to_read.push({id:1,offset:this.read_uint32(f)})},ae.exports.ExifParser=D,ae.exports.get_orientation=function(E){var f=0;try{return new D(E,0,E.length).each(function(k){if(0===k.ifd&&274===k.tag&&Array.isArray(k.value))return f=k.value[0],!1}),f}catch{return-1}}},76767:function(ae,B,r){"use strict";var D=r(14847).n8,E=r(14847).Ag;function f(s,a){if(s.length<4+a)return null;var o=E(s,a);return s.length<o+a||o<8?null:{boxtype:String.fromCharCode.apply(null,s.slice(a+4,a+8)),data:s.slice(a+8,a+o),end:a+o}}function k(s,a){for(var o=0;;){var l=f(s,o);if(!l)break;switch(l.boxtype){case"ispe":a.sizes.push({width:E(l.data,4),height:E(l.data,8)});break;case"irot":a.transforms.push({type:"irot",value:3&l.data[0]});break;case"imir":a.transforms.push({type:"imir",value:1&l.data[0]})}o=l.end}}function M(s,a,o){for(var l=0,u=0;u<o;u++)l=256*l+(s[a+u]||0);return l}function y(s,a){for(var o=s[4]>>4&15,l=15&s[4],u=s[5]>>4&15,h=D(s,6),v=8,p=0;p<h;p++){var T=D(s,v),_=D(s,v+=2),m=M(s,v+=2,u),w=D(s,v+=u);if(v+=2,0===_&&1===w){var x=M(s,v,o),b=M(s,v+o,l);a.item_loc[T]={length:b,offset:x+m}}v+=w*(o+l)}}function c(s,a){for(var o=D(s,4),l=6,u=0;u<o;u++){var h=f(s,l);if(!h)break;if("infe"===h.boxtype){for(var v=D(h.data,4),p="",T=8;T<h.data.length&&h.data[T];T++)p+=String.fromCharCode(h.data[T]);a.item_inf[p]=v}l=h.end}}function i(s,a){for(var o=0;;){var l=f(s,o);if(!l)break;"ipco"===l.boxtype&&k(l.data,a),o=l.end}}ae.exports.unbox=f,ae.exports.readSizeFromMeta=function(s){var a={sizes:[],transforms:[],item_inf:{},item_loc:{}};if(function(T,_){for(var m=4;;){var w=f(T,m);if(!w)break;"iprp"===w.boxtype&&i(w.data,_),"iloc"===w.boxtype&&y(w.data,_),"iinf"===w.boxtype&&c(w.data,_),m=w.end}}(s,a),a.sizes.length){var o,l,u,h=(l=(o=a.sizes).reduce(function(T,_){return T.width>_.width||T.width===_.width&&T.height>_.height?T:_}),u=o.reduce(function(T,_){return T.height>_.height||T.height===_.height&&T.width>_.width?T:_}),l.width>u.height||l.width===u.height&&l.height>u.width?l:u),v=1;a.transforms.forEach(function(T){var _={1:6,2:5,3:8,4:7,5:4,6:3,7:2,8:1},m={1:4,2:3,3:2,4:1,5:6,6:5,7:8,8:7};if("imir"===T.type&&(v=0===T.value?m[v]:_[v=_[v=m[v]]]),"irot"===T.type)for(var w=0;w<T.value;w++)v=_[v]});var p=null;return a.item_inf.Exif&&(p=a.item_loc[a.item_inf.Exif]),{width:h.width,height:h.height,orientation:a.transforms.length?v:null,variants:a.sizes,exif_location:p}}},ae.exports.getMimeType=function(s){var a=String.fromCharCode.apply(null,s.slice(0,4)),o={};o[a]=!0;for(var l=8;l<s.length;l+=4)o[String.fromCharCode.apply(null,s.slice(l,l+4))]=!0;if(o.mif1||o.msf1||o.miaf)return"avif"===a||"avis"===a||"avio"===a?{type:"avif",mime:"image/avif"}:"heic"===a||"heix"===a?{type:"heic",mime:"image/heic"}:"hevc"===a||"hevx"===a?{type:"heic",mime:"image/heic-sequence"}:o.avif||o.avis?{type:"avif",mime:"image/avif"}:o.heic||o.heix||o.hevc||o.hevx||o.heis?o.msf1?{type:"heif",mime:"image/heif-sequence"}:{type:"heif",mime:"image/heif"}:{type:"avif",mime:"image/avif"}}},24461:function(ae,B,r){"use strict";var D=r(14847).eG,E=r(14847).OF,f=r(14847).Ag,k=r(76767),M=r(71371),y=D("ftyp");ae.exports=function(c){if(E(c,4,y)){var i=k.unbox(c,0);if(i){var s=k.getMimeType(i.data);if(s){for(var a,o=i.end;;){var l=k.unbox(c,o);if(!l)break;if(o=l.end,"mdat"===l.boxtype)return;if("meta"===l.boxtype){a=l.data;break}}if(a){var u=k.readSizeFromMeta(a);if(u){var h={width:u.width,height:u.height,type:s.type,mime:s.mime,wUnits:"px",hUnits:"px"};if(u.variants.length>1&&(h.variants=u.variants),u.orientation&&(h.orientation=u.orientation),u.exif_location&&u.exif_location.offset+u.exif_location.length<=c.length){var v=f(c,u.exif_location.offset),p=c.slice(u.exif_location.offset+v+4,u.exif_location.offset+u.exif_location.length),T=M.get_orientation(p);T>0&&(h.orientation=T)}return h}}}}}}},2504:function(ae,B,r){"use strict";var D=r(14847).eG,E=r(14847).OF,f=r(14847).mP,k=D("BM");ae.exports=function(M){if(!(M.length<26)&&E(M,0,k))return{width:f(M,18),height:f(M,22),type:"bmp",mime:"image/bmp",wUnits:"px",hUnits:"px"}}},47342:function(ae,B,r){"use strict";var D=r(14847).eG,E=r(14847).OF,f=r(14847).mP,k=D("GIF87a"),M=D("GIF89a");ae.exports=function(y){if(!(y.length<10)&&(E(y,0,k)||E(y,0,M)))return{width:f(y,6),height:f(y,8),type:"gif",mime:"image/gif",wUnits:"px",hUnits:"px"}}},31355:function(ae,B,r){"use strict";var D=r(14847).mP;ae.exports=function(E){var f=D(E,0),k=D(E,2),M=D(E,4);if(0===f&&1===k&&M){for(var y=[],c={width:0,height:0},i=0;i<M;i++){var s=E[6+16*i]||256,a=E[6+16*i+1]||256,o={width:s,height:a};y.push(o),(s>c.width||a>c.height)&&(c=o)}return{width:c.width,height:c.height,variants:y,type:"ico",mime:"image/x-icon",wUnits:"px",hUnits:"px"}}}},54261:function(ae,B,r){"use strict";var D=r(14847).n8,E=r(14847).eG,f=r(14847).OF,k=r(71371),M=E("Exif\0\0");ae.exports=function(y){if(!(y.length<2)&&255===y[0]&&216===y[1]&&255===y[2])for(var c=2;;){for(;;){if(y.length-c<2)return;if(255===y[c++])break}for(var i,s,a=y[c++];255===a;)a=y[c++];if(208<=a&&a<=217||1===a)i=0;else{if(!(192<=a&&a<=254)||y.length-c<2)return;i=D(y,c)-2,c+=2}if(217===a||218===a)return;if(225===a&&i>=10&&f(y,c,M)&&(s=k.get_orientation(y.slice(c+6,c+i))),i>=5&&192<=a&&a<=207&&196!==a&&200!==a&&204!==a){if(y.length-c<i)return;var o={width:D(y,c+3),height:D(y,c+1),type:"jpg",mime:"image/jpeg",wUnits:"px",hUnits:"px"};return s>0&&(o.orientation=s),o}c+=i}}},6303:function(ae,B,r){"use strict";var D=r(14847).eG,E=r(14847).OF,f=r(14847).Ag,k=D("\x89PNG\r\n\x1a\n"),M=D("IHDR");ae.exports=function(y){if(!(y.length<24)&&E(y,0,k)&&E(y,12,M))return{width:f(y,16),height:f(y,20),type:"png",mime:"image/png",wUnits:"px",hUnits:"px"}}},38689:function(ae,B,r){"use strict";var D=r(14847).eG,E=r(14847).OF,f=r(14847).Ag,k=D("8BPS\0\x01");ae.exports=function(M){if(!(M.length<22)&&E(M,0,k))return{width:f(M,18),height:f(M,14),type:"psd",mime:"image/vnd.adobe.photoshop",wUnits:"px",hUnits:"px"}}},6881:function(ae){"use strict";function B(c){return"number"==typeof c&&isFinite(c)&&c>0}var r=/<[-_.:a-zA-Z0-9][^>]*>/,D=/^<([-_.:a-zA-Z0-9]+:)?svg\s/,E=/[^-]\bwidth="([^%]+?)"|[^-]\bwidth='([^%]+?)'/,f=/\bheight="([^%]+?)"|\bheight='([^%]+?)'/,k=/\bview[bB]ox="(.+?)"|\bview[bB]ox='(.+?)'/,M=/in$|mm$|cm$|pt$|pc$|px$|em$|ex$/;function y(c){return M.test(c)?c.match(M)[0]:"px"}ae.exports=function(c){if(function(m){var w,x=0,b=m.length;for(239===m[0]&&187===m[1]&&191===m[2]&&(x=3);x<b&&(32===(w=m[x])||9===w||13===w||10===w);)x++;return x!==b&&60===m[x]}(c)){for(var i="",s=0;s<c.length;s++)i+=String.fromCharCode(c[s]);var a=(i.match(r)||[""])[0];if(D.test(a)){var o=(w=(m=a).match(E),x=m.match(f),b=m.match(k),{width:w&&(w[1]||w[2]),height:x&&(x[1]||x[2]),viewbox:b&&(b[1]||b[2])}),l=parseFloat(o.width),u=parseFloat(o.height);if(o.width&&o.height)return B(l)&&B(u)?{width:l,height:u,type:"svg",mime:"image/svg+xml",wUnits:y(o.width),hUnits:y(o.height)}:void 0;var h=(o.viewbox||"").split(" "),v={width:h[2],height:h[3]},p=parseFloat(v.width),T=parseFloat(v.height);if(B(p)&&B(T)&&y(v.width)===y(v.height)){var _=p/T;return o.width?B(l)?{width:l,height:l/_,type:"svg",mime:"image/svg+xml",wUnits:y(o.width),hUnits:y(o.width)}:void 0:o.height?B(u)?{width:u*_,height:u,type:"svg",mime:"image/svg+xml",wUnits:y(o.height),hUnits:y(o.height)}:void 0:{width:p,height:T,type:"svg",mime:"image/svg+xml",wUnits:y(v.width),hUnits:y(v.height)}}}}var m,w,x,b}},66278:function(ae,B,r){"use strict";var D=r(14847).eG,E=r(14847).OF,f=r(14847).mP,k=r(14847).n8,M=r(14847).nm,y=r(14847).Ag,c=D("II*\0"),i=D("MM\0*");function s(l,u,h){return h?k(l,u):f(l,u)}function a(l,u,h){return h?y(l,u):M(l,u)}function o(l,u,h){var v=s(l,u+2,h);return 1!==a(l,u+4,h)||3!==v&&4!==v?null:3===v?s(l,u+8,h):a(l,u+8,h)}ae.exports=function(l){if(!(l.length<8)&&(E(l,0,c)||E(l,0,i))){var u=77===l[0],h=a(l,4,u)-8;if(!(h<0)){var v=h+8;if(!(l.length-v<2)){var p=12*s(l,v+0,u);if(!(p<=0||(v+=2,l.length-v<p))){var T,_,m,w;for(T=0;T<p;T+=12)256===(w=s(l,v+T,u))?_=o(l,v+T,u):257===w&&(m=o(l,v+T,u));return _&&m?{width:_,height:m,type:"tiff",mime:"image/tiff",wUnits:"px",hUnits:"px"}:void 0}}}}}},90784:function(ae,B,r){"use strict";var D=r(14847).eG,E=r(14847).OF,f=r(14847).mP,k=r(14847).nm,M=r(71371),y=D("RIFF"),c=D("WEBP");function i(o,l){if(157===o[l+3]&&1===o[l+4]&&42===o[l+5])return{width:16383&f(o,l+6),height:16383&f(o,l+8),type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}function s(o,l){if(47===o[l]){var u=k(o,l+1);return{width:1+(16383&u),height:1+(u>>14&16383),type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}}function a(o,l){return{width:1+(o[l+6]<<16|o[l+5]<<8|o[l+4]),height:1+(o[l+9]<<l|o[l+8]<<8|o[l+7]),type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}ae.exports=function(o){if(!(o.length<16)&&(E(o,0,y)||E(o,8,c))){var l=12,u=null,h=0,v=k(o,4)+8;if(!(v>o.length)){for(;l+8<v;)if(0!==o[l]){var p=String.fromCharCode.apply(null,o.slice(l,l+4)),T=k(o,l+4);"VP8 "===p&&T>=10?u=u||i(o,l+8):"VP8L"===p&&T>=9?u=u||s(o,l+8):"VP8X"===p&&T>=10?u=u||a(o,l+8):"EXIF"===p&&(h=M.get_orientation(o.slice(l+8,l+8+T)),l=1/0),l+=8+T}else l++;if(u)return h>0&&(u.orientation=h),u}}}},91497:function(ae,B,r){"use strict";ae.exports={avif:r(24461),bmp:r(2504),gif:r(47342),ico:r(31355),jpeg:r(54261),png:r(6303),psd:r(38689),svg:r(6881),tiff:r(66278),webp:r(90784)}},33575:function(ae,B,r){"use strict";var D=r(91497);ae.exports=function(E){return function(f){for(var k=Object.keys(D),M=0;M<k.length;M++){var y=D[k[M]](f);if(y)return y}return null}(E)},ae.exports.parsers=D},90386:function(ae){var B,r,D=ae.exports={};function E(){throw new Error("setTimeout has not been defined")}function f(){throw new Error("clearTimeout has not been defined")}function k(u){if(B===setTimeout)return setTimeout(u,0);if((B===E||!B)&&setTimeout)return B=setTimeout,setTimeout(u,0);try{return B(u,0)}catch{try{return B.call(null,u,0)}catch{return B.call(this,u,0)}}}!function(){try{B="function"==typeof setTimeout?setTimeout:E}catch{B=E}try{r="function"==typeof clearTimeout?clearTimeout:f}catch{r=f}}();var M,y=[],c=!1,i=-1;function s(){c&&M&&(c=!1,M.length?y=M.concat(y):i=-1,y.length&&a())}function a(){if(!c){var u=k(s);c=!0;for(var h=y.length;h;){for(M=y,y=[];++i<h;)M&&M[i].run();i=-1,h=y.length}M=null,c=!1,function(v){if(r===clearTimeout)return clearTimeout(v);if((r===f||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(v);try{return r(v)}catch{try{return r.call(null,v)}catch{return r.call(this,v)}}}(u)}}function o(u,h){this.fun=u,this.array=h}function l(){}D.nextTick=function(u){var h=new Array(arguments.length-1);if(arguments.length>1)for(var v=1;v<arguments.length;v++)h[v-1]=arguments[v];y.push(new o(u,h)),1!==y.length||c||k(a)},o.prototype.run=function(){this.fun.apply(null,this.array)},D.title="browser",D.browser=!0,D.env={},D.argv=[],D.version="",D.versions={},D.on=l,D.addListener=l,D.once=l,D.off=l,D.removeListener=l,D.removeAllListeners=l,D.emit=l,D.prependListener=l,D.prependOnceListener=l,D.listeners=function(u){return[]},D.binding=function(u){throw new Error("process.binding is not supported")},D.cwd=function(){return"/"},D.chdir=function(u){throw new Error("process.chdir is not supported")},D.umask=function(){return 0}},5877:function(ae,B,r){for(var D=r(9748),E=typeof window>"u"?r.g:window,f=["moz","webkit"],k="AnimationFrame",M=E["request"+k],y=E["cancel"+k]||E["cancelRequest"+k],c=0;!M&&c<f.length;c++)M=E[f[c]+"Request"+k],y=E[f[c]+"Cancel"+k]||E[f[c]+"CancelRequest"+k];if(!M||!y){var i=0,s=0,a=[];M=function(o){if(0===a.length){var l=D(),u=Math.max(0,16.666666666666668-(l-i));i=u+l,setTimeout(function(){var h=a.slice(0);a.length=0;for(var v=0;v<h.length;v++)if(!h[v].cancelled)try{h[v].callback(i)}catch(p){setTimeout(function(){throw p},0)}},Math.round(u))}return a.push({handle:++s,callback:o,cancelled:!1}),s},y=function(o){for(var l=0;l<a.length;l++)a[l].handle===o&&(a[l].cancelled=!0)}}ae.exports=function(o){return M.call(E,o)},ae.exports.cancel=function(){y.apply(E,arguments)},ae.exports.polyfill=function(o){o||(o=E),o.requestAnimationFrame=M,o.cancelAnimationFrame=y}},3593:function(ae,B,r){"use strict";var D=r(21527),E=r(25075),f=r(93447),k=r(71299),M=r(56131),y=r(30120),c=r(57060),i=c.float32,s=c.fract32;ae.exports=function(o,l){if("function"==typeof o?(l||(l={}),l.regl=o):l=o,l.length&&(l.positions=l),!(o=l.regl).hasExtension("ANGLE_instanced_arrays"))throw Error("regl-error2d: `ANGLE_instanced_arrays` extension should be enabled");var u,h,v,p,T,_,m=o._gl,w={color:"black",capSize:5,lineWidth:1,opacity:1,viewport:null,range:null,offset:0,count:0,bounds:null,positions:[],errors:[]},x=[];return p=o.buffer({usage:"dynamic",type:"uint8",data:new Uint8Array(0)}),h=o.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),v=o.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),T=o.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),_=o.buffer({usage:"static",type:"float",data:a}),I(l),u=o({vert:"\n\t\tprecision highp float;\n\n\t\tattribute vec2 position, positionFract;\n\t\tattribute vec4 error;\n\t\tattribute vec4 color;\n\n\t\tattribute vec2 direction, lineOffset, capOffset;\n\n\t\tuniform vec4 viewport;\n\t\tuniform float lineWidth, capSize;\n\t\tuniform vec2 scale, scaleFract, translate, translateFract;\n\n\t\tvarying vec4 fragColor;\n\n\t\tvoid main() {\n\t\t\tfragColor = color / 255.;\n\n\t\t\tvec2 pixelOffset = lineWidth * lineOffset + (capSize + lineWidth) * capOffset;\n\n\t\t\tvec2 dxy = -step(.5, direction.xy) * error.xz + step(direction.xy, vec2(-.5)) * error.yw;\n\n\t\t\tvec2 position = position + dxy;\n\n\t\t\tvec2 pos = (position + translate) * scale\n\t\t\t\t+ (positionFract + translateFract) * scale\n\t\t\t\t+ (position + translate) * scaleFract\n\t\t\t\t+ (positionFract + translateFract) * scaleFract;\n\n\t\t\tpos += pixelOffset / viewport.zw;\n\n\t\t\tgl_Position = vec4(pos * 2. - 1., 0, 1);\n\t\t}\n\t\t",frag:"\n\t\tprecision highp float;\n\n\t\tvarying vec4 fragColor;\n\n\t\tuniform float opacity;\n\n\t\tvoid main() {\n\t\t\tgl_FragColor = fragColor;\n\t\t\tgl_FragColor.a *= opacity;\n\t\t}\n\t\t",uniforms:{range:o.prop("range"),lineWidth:o.prop("lineWidth"),capSize:o.prop("capSize"),opacity:o.prop("opacity"),scale:o.prop("scale"),translate:o.prop("translate"),scaleFract:o.prop("scaleFract"),translateFract:o.prop("translateFract"),viewport:function(O,R){return[R.viewport.x,R.viewport.y,O.viewportWidth,O.viewportHeight]}},attributes:{color:{buffer:p,offset:function(O,R){return 4*R.offset},divisor:1},position:{buffer:h,offset:function(O,R){return 8*R.offset},divisor:1},positionFract:{buffer:v,offset:function(O,R){return 8*R.offset},divisor:1},error:{buffer:T,offset:function(O,R){return 16*R.offset},divisor:1},direction:{buffer:_,stride:24,offset:0},lineOffset:{buffer:_,stride:24,offset:8},capOffset:{buffer:_,stride:24,offset:16}},primitive:"triangles",blend:{enable:!0,color:[0,0,0,0],equation:{rgb:"add",alpha:"add"},func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},depth:{enable:!1},scissor:{enable:!0,box:o.prop("viewport")},viewport:o.prop("viewport"),stencil:!1,instances:o.prop("count"),count:a.length}),M(b,{update:I,draw:A,destroy:S,regl:o,gl:m,canvas:m.canvas,groups:x}),b;function b(O){O?I(O):null===O&&S(),A()}function A(O){if("number"==typeof O)return g(O);O&&!Array.isArray(O)&&(O=[O]),o._refresh(),x.forEach(function(R,L){R&&(O&&(R.draw=!!O[L]),R.draw?g(L):R.draw=!0)})}function g(O){"number"==typeof O&&(O=x[O]),null!=O&&O&&O.count&&O.color&&O.opacity&&O.positions&&O.positions.length>1&&(O.scaleRatio=[O.scale[0]*O.viewport.width,O.scale[1]*O.viewport.height],u(O),O.after&&O.after(O))}function I(O){if(O){null!=O.length?"number"==typeof O[0]&&(O=[{positions:O}]):Array.isArray(O)||(O=[O]);var R=0,L=0;if(b.groups=x=O.map(function(H,W){var Z=x[W];return H&&("function"==typeof H?H={after:H}:"number"==typeof H[0]&&(H={positions:H}),H=k(H,{color:"color colors fill",capSize:"capSize cap capsize cap-size",lineWidth:"lineWidth line-width width line thickness",opacity:"opacity alpha",range:"range dataBox",viewport:"viewport viewBox",errors:"errors error",positions:"positions position data points"}),Z||(x[W]=Z={id:W,scale:null,translate:null,scaleFract:null,translateFract:null,draw:!0},H=M({},w,H)),f(Z,H,[{lineWidth:function(se){return.5*+se},capSize:function(se){return.5*+se},opacity:parseFloat,errors:function(se){return se=y(se),L+=se.length,se},positions:function(se,re){return se=y(se,"float64"),re.count=Math.floor(se.length/2),re.bounds=D(se,2),re.offset=R,R+=re.count,se}},{color:function(se,re){var ne=re.count;if(se||(se="transparent"),!Array.isArray(se)||"number"==typeof se[0]){var Q=se;se=Array(ne);for(var ee=0;ee<ne;ee++)se[ee]=Q}if(se.length<ne)throw Error("Not enough colors");for(var oe=new Uint8Array(4*ne),ce=0;ce<ne;ce++){var fe=E(se[ce],"uint8");oe.set(fe,4*ce)}return oe},range:function(se,re,ne){return se||(se=re.bounds),re.scale=[1/(se[2]-se[0]),1/(se[3]-se[1])],re.translate=[-se[0],-se[1]],re.scaleFract=s(re.scale),re.translateFract=s(re.translate),se},viewport:function(se){var re;return Array.isArray(se)?re={x:se[0],y:se[1],width:se[2]-se[0],height:se[3]-se[1]}:se?((re={x:se.x||se.left||0,y:se.y||se.top||0}).width=se.right?se.right-re.x:se.w||se.width||0,re.height=se.bottom?se.bottom-re.y:se.h||se.height||0):re={x:0,y:0,width:m.drawingBufferWidth,height:m.drawingBufferHeight},re}}])),Z}),R||L){var N=x.reduce(function(H,W,Z){return H+(W?W.count:0)},0),j=new Float64Array(2*N),X=new Uint8Array(4*N),F=new Float32Array(4*N);x.forEach(function(H,W){if(H){var Z=H.positions,re=H.offset,Q=H.errors;H.count&&(X.set(H.color,4*re),F.set(Q,4*re),j.set(Z,2*re))}});var Y=i(j);h(Y);var G=s(j,Y);v(G),p(X),T(F)}}}function S(){h.destroy(),v.destroy(),p.destroy(),T.destroy(),_.destroy()}};var a=[[1,0,0,1,0,0],[1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,1,0,0],[1,0,0,1,0,0],[1,0,-1,0,0,1],[1,0,-1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,1],[1,0,-1,0,0,1],[-1,0,-1,0,0,1],[-1,0,-1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,1],[-1,0,-1,0,0,1],[0,1,1,0,0,0],[0,1,-1,0,0,0],[0,-1,-1,0,0,0],[0,-1,-1,0,0,0],[0,1,1,0,0,0],[0,-1,1,0,0,0],[0,1,0,-1,1,0],[0,1,0,-1,-1,0],[0,1,0,1,-1,0],[0,1,0,1,1,0],[0,1,0,-1,1,0],[0,1,0,1,-1,0],[0,-1,0,-1,1,0],[0,-1,0,-1,-1,0],[0,-1,0,1,-1,0],[0,-1,0,1,1,0],[0,-1,0,-1,1,0],[0,-1,0,1,-1,0]]},46075:function(ae,B,r){"use strict";var D=r(25075),E=r(21527),f=r(56131),k=r(56068),M=r(71299),y=r(30120),c=r(11474),i=r(54),s=r(57060),a=s.float32,o=s.fract32,l=r(83522),u=r(18863),h=r(6851);function v(p,T){if(!(this instanceof v))return new v(p,T);if("function"==typeof p?(T||(T={}),T.regl=p):T=p,T.length&&(T.positions=T),!(p=T.regl).hasExtension("ANGLE_instanced_arrays"))throw Error("regl-error2d: `ANGLE_instanced_arrays` extension should be enabled");this.gl=p._gl,this.regl=p,this.passes=[],this.shaders=v.shaders.has(p)?v.shaders.get(p):v.shaders.set(p,v.createShaders(p)).get(p),this.update(T)}ae.exports=v,v.dashMult=2,v.maxPatternLength=256,v.precisionThreshold=3e6,v.maxPoints=1e4,v.maxLines=2048,v.shaders=new l,v.createShaders=function(p){var T,_=p.buffer({usage:"static",type:"float",data:[0,1,0,0,1,1,1,0]}),m={primitive:"triangle strip",instances:p.prop("count"),count:4,offset:0,uniforms:{miterMode:function(x,b){return"round"===b.join?2:1},miterLimit:p.prop("miterLimit"),scale:p.prop("scale"),scaleFract:p.prop("scaleFract"),translateFract:p.prop("translateFract"),translate:p.prop("translate"),thickness:p.prop("thickness"),dashTexture:p.prop("dashTexture"),opacity:p.prop("opacity"),pixelRatio:p.context("pixelRatio"),id:p.prop("id"),dashLength:p.prop("dashLength"),viewport:function(x,b){return[b.viewport.x,b.viewport.y,x.viewportWidth,x.viewportHeight]},depth:p.prop("depth")},blend:{enable:!0,color:[0,0,0,0],equation:{rgb:"add",alpha:"add"},func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},depth:{enable:function(x,b){return!b.overlay}},stencil:{enable:!1},scissor:{enable:!0,box:p.prop("viewport")},viewport:p.prop("viewport")},w=p(f({vert:k(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec2 aCoord, bCoord, aCoordFract, bCoordFract;\nattribute vec4 color;\nattribute float lineEnd, lineTop;\n\nuniform vec2 scale, scaleFract, translate, translateFract;\nuniform float thickness, pixelRatio, id, depth;\nuniform vec4 viewport;\n\nvarying vec4 fragColor;\nvarying vec2 tangent;\n\nvec2 project(vec2 position, vec2 positionFract, vec2 scale, vec2 scaleFract, vec2 translate, vec2 translateFract) {\n\t// the order is important\n\treturn position * scale + translate\n       + positionFract * scale + translateFract\n       + position * scaleFract\n       + positionFract * scaleFract;\n}\n\nvoid main() {\n\tfloat lineStart = 1. - lineEnd;\n\tfloat lineOffset = lineTop * 2. - 1.;\n\n\tvec2 diff = (bCoord + bCoordFract - aCoord - aCoordFract);\n\ttangent = normalize(diff * scale * viewport.zw);\n\tvec2 normal = vec2(-tangent.y, tangent.x);\n\n\tvec2 position = project(aCoord, aCoordFract, scale, scaleFract, translate, translateFract) * lineStart\n\t\t+ project(bCoord, bCoordFract, scale, scaleFract, translate, translateFract) * lineEnd\n\n\t\t+ thickness * normal * .5 * lineOffset / viewport.zw;\n\n\tgl_Position = vec4(position * 2.0 - 1.0, depth, 1);\n\n\tfragColor = color / 255.;\n}\n"]),frag:k(["precision highp float;\n#define GLSLIFY 1\n\nuniform float dashLength, pixelRatio, thickness, opacity, id;\nuniform sampler2D dashTexture;\n\nvarying vec4 fragColor;\nvarying vec2 tangent;\n\nvoid main() {\n\tfloat alpha = 1.;\n\n\tfloat t = fract(dot(tangent, gl_FragCoord.xy) / dashLength) * .5 + .25;\n\tfloat dash = texture2D(dashTexture, vec2(t, .5)).r;\n\n\tgl_FragColor = fragColor;\n\tgl_FragColor.a *= alpha * opacity * dash;\n}\n"]),attributes:{lineEnd:{buffer:_,divisor:0,stride:8,offset:0},lineTop:{buffer:_,divisor:0,stride:8,offset:4},aCoord:{buffer:p.prop("positionBuffer"),stride:8,offset:8,divisor:1},bCoord:{buffer:p.prop("positionBuffer"),stride:8,offset:16,divisor:1},aCoordFract:{buffer:p.prop("positionFractBuffer"),stride:8,offset:8,divisor:1},bCoordFract:{buffer:p.prop("positionFractBuffer"),stride:8,offset:16,divisor:1},color:{buffer:p.prop("colorBuffer"),stride:4,offset:0,divisor:1}}},m));try{T=p(f({cull:{enable:!0,face:"back"},vert:k(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec2 aCoord, bCoord, nextCoord, prevCoord;\nattribute vec4 aColor, bColor;\nattribute float lineEnd, lineTop;\n\nuniform vec2 scale, translate;\nuniform float thickness, pixelRatio, id, depth;\nuniform vec4 viewport;\nuniform float miterLimit, miterMode;\n\nvarying vec4 fragColor;\nvarying vec4 startCutoff, endCutoff;\nvarying vec2 tangent;\nvarying vec2 startCoord, endCoord;\nvarying float enableStartMiter, enableEndMiter;\n\nconst float REVERSE_THRESHOLD = -.875;\nconst float MIN_DIFF = 1e-6;\n\n// TODO: possible optimizations: avoid overcalculating all for vertices and calc just one instead\n// TODO: precalculate dot products, normalize things beforehead etc.\n// TODO: refactor to rectangular algorithm\n\nfloat distToLine(vec2 p, vec2 a, vec2 b) {\n\tvec2 diff = b - a;\n\tvec2 perp = normalize(vec2(-diff.y, diff.x));\n\treturn dot(p - a, perp);\n}\n\nbool isNaN( float val ){\n  return ( val < 0.0 || 0.0 < val || val == 0.0 ) ? false : true;\n}\n\nvoid main() {\n\tvec2 aCoord = aCoord, bCoord = bCoord, prevCoord = prevCoord, nextCoord = nextCoord;\n\n  vec2 adjustedScale;\n  adjustedScale.x = (abs(scale.x) < MIN_DIFF) ? MIN_DIFF : scale.x;\n  adjustedScale.y = (abs(scale.y) < MIN_DIFF) ? MIN_DIFF : scale.y;\n\n  vec2 scaleRatio = adjustedScale * viewport.zw;\n\tvec2 normalWidth = thickness / scaleRatio;\n\n\tfloat lineStart = 1. - lineEnd;\n\tfloat lineBot = 1. - lineTop;\n\n\tfragColor = (lineStart * aColor + lineEnd * bColor) / 255.;\n\n\tif (isNaN(aCoord.x) || isNaN(aCoord.y) || isNaN(bCoord.x) || isNaN(bCoord.y)) return;\n\n\tif (aCoord == prevCoord) prevCoord = aCoord + normalize(bCoord - aCoord);\n\tif (bCoord == nextCoord) nextCoord = bCoord - normalize(bCoord - aCoord);\n\n\tvec2 prevDiff = aCoord - prevCoord;\n\tvec2 currDiff = bCoord - aCoord;\n\tvec2 nextDiff = nextCoord - bCoord;\n\n\tvec2 prevTangent = normalize(prevDiff * scaleRatio);\n\tvec2 currTangent = normalize(currDiff * scaleRatio);\n\tvec2 nextTangent = normalize(nextDiff * scaleRatio);\n\n\tvec2 prevNormal = vec2(-prevTangent.y, prevTangent.x);\n\tvec2 currNormal = vec2(-currTangent.y, currTangent.x);\n\tvec2 nextNormal = vec2(-nextTangent.y, nextTangent.x);\n\n\tvec2 startJoinDirection = normalize(prevTangent - currTangent);\n\tvec2 endJoinDirection = normalize(currTangent - nextTangent);\n\n\t// collapsed/unidirectional segment cases\n\t// FIXME: there should be more elegant solution\n\tvec2 prevTanDiff = abs(prevTangent - currTangent);\n\tvec2 nextTanDiff = abs(nextTangent - currTangent);\n\tif (max(prevTanDiff.x, prevTanDiff.y) < MIN_DIFF) {\n\t\tstartJoinDirection = currNormal;\n\t}\n\tif (max(nextTanDiff.x, nextTanDiff.y) < MIN_DIFF) {\n\t\tendJoinDirection = currNormal;\n\t}\n\tif (aCoord == bCoord) {\n\t\tendJoinDirection = startJoinDirection;\n\t\tcurrNormal = prevNormal;\n\t\tcurrTangent = prevTangent;\n\t}\n\n\ttangent = currTangent;\n\n\t//calculate join shifts relative to normals\n\tfloat startJoinShift = dot(currNormal, startJoinDirection);\n\tfloat endJoinShift = dot(currNormal, endJoinDirection);\n\n\tfloat startMiterRatio = abs(1. / startJoinShift);\n\tfloat endMiterRatio = abs(1. / endJoinShift);\n\n\tvec2 startJoin = startJoinDirection * startMiterRatio;\n\tvec2 endJoin = endJoinDirection * endMiterRatio;\n\n\tvec2 startTopJoin, startBotJoin, endTopJoin, endBotJoin;\n\tstartTopJoin = sign(startJoinShift) * startJoin * .5;\n\tstartBotJoin = -startTopJoin;\n\n\tendTopJoin = sign(endJoinShift) * endJoin * .5;\n\tendBotJoin = -endTopJoin;\n\n\tvec2 aTopCoord = aCoord + normalWidth * startTopJoin;\n\tvec2 bTopCoord = bCoord + normalWidth * endTopJoin;\n\tvec2 aBotCoord = aCoord + normalWidth * startBotJoin;\n\tvec2 bBotCoord = bCoord + normalWidth * endBotJoin;\n\n\t//miter anti-clipping\n\tfloat baClipping = distToLine(bCoord, aCoord, aBotCoord) / dot(normalize(normalWidth * endBotJoin), normalize(normalWidth.yx * vec2(-startBotJoin.y, startBotJoin.x)));\n\tfloat abClipping = distToLine(aCoord, bCoord, bTopCoord) / dot(normalize(normalWidth * startBotJoin), normalize(normalWidth.yx * vec2(-endBotJoin.y, endBotJoin.x)));\n\n\t//prevent close to reverse direction switch\n\tbool prevReverse = dot(currTangent, prevTangent) <= REVERSE_THRESHOLD && abs(dot(currTangent, prevNormal)) * min(length(prevDiff), length(currDiff)) <  length(normalWidth * currNormal);\n\tbool nextReverse = dot(currTangent, nextTangent) <= REVERSE_THRESHOLD && abs(dot(currTangent, nextNormal)) * min(length(nextDiff), length(currDiff)) <  length(normalWidth * currNormal);\n\n\tif (prevReverse) {\n\t\t//make join rectangular\n\t\tvec2 miterShift = normalWidth * startJoinDirection * miterLimit * .5;\n\t\tfloat normalAdjust = 1. - min(miterLimit / startMiterRatio, 1.);\n\t\taBotCoord = aCoord + miterShift - normalAdjust * normalWidth * currNormal * .5;\n\t\taTopCoord = aCoord + miterShift + normalAdjust * normalWidth * currNormal * .5;\n\t}\n\telse if (!nextReverse && baClipping > 0. && baClipping < length(normalWidth * endBotJoin)) {\n\t\t//handle miter clipping\n\t\tbTopCoord -= normalWidth * endTopJoin;\n\t\tbTopCoord += normalize(endTopJoin * normalWidth) * baClipping;\n\t}\n\n\tif (nextReverse) {\n\t\t//make join rectangular\n\t\tvec2 miterShift = normalWidth * endJoinDirection * miterLimit * .5;\n\t\tfloat normalAdjust = 1. - min(miterLimit / endMiterRatio, 1.);\n\t\tbBotCoord = bCoord + miterShift - normalAdjust * normalWidth * currNormal * .5;\n\t\tbTopCoord = bCoord + miterShift + normalAdjust * normalWidth * currNormal * .5;\n\t}\n\telse if (!prevReverse && abClipping > 0. && abClipping < length(normalWidth * startBotJoin)) {\n\t\t//handle miter clipping\n\t\taBotCoord -= normalWidth * startBotJoin;\n\t\taBotCoord += normalize(startBotJoin * normalWidth) * abClipping;\n\t}\n\n\tvec2 aTopPosition = (aTopCoord) * adjustedScale + translate;\n\tvec2 aBotPosition = (aBotCoord) * adjustedScale + translate;\n\n\tvec2 bTopPosition = (bTopCoord) * adjustedScale + translate;\n\tvec2 bBotPosition = (bBotCoord) * adjustedScale + translate;\n\n\t//position is normalized 0..1 coord on the screen\n\tvec2 position = (aTopPosition * lineTop + aBotPosition * lineBot) * lineStart + (bTopPosition * lineTop + bBotPosition * lineBot) * lineEnd;\n\n\tstartCoord = aCoord * scaleRatio + translate * viewport.zw + viewport.xy;\n\tendCoord = bCoord * scaleRatio + translate * viewport.zw + viewport.xy;\n\n\tgl_Position = vec4(position  * 2.0 - 1.0, depth, 1);\n\n\tenableStartMiter = step(dot(currTangent, prevTangent), .5);\n\tenableEndMiter = step(dot(currTangent, nextTangent), .5);\n\n\t//bevel miter cutoffs\n\tif (miterMode == 1.) {\n\t\tif (enableStartMiter == 1.) {\n\t\t\tvec2 startMiterWidth = vec2(startJoinDirection) * thickness * miterLimit * .5;\n\t\t\tstartCutoff = vec4(aCoord, aCoord);\n\t\t\tstartCutoff.zw += vec2(-startJoinDirection.y, startJoinDirection.x) / scaleRatio;\n\t\t\tstartCutoff = startCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;\n\t\t\tstartCutoff += viewport.xyxy;\n\t\t\tstartCutoff += startMiterWidth.xyxy;\n\t\t}\n\n\t\tif (enableEndMiter == 1.) {\n\t\t\tvec2 endMiterWidth = vec2(endJoinDirection) * thickness * miterLimit * .5;\n\t\t\tendCutoff = vec4(bCoord, bCoord);\n\t\t\tendCutoff.zw += vec2(-endJoinDirection.y, endJoinDirection.x)  / scaleRatio;\n\t\t\tendCutoff = endCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;\n\t\t\tendCutoff += viewport.xyxy;\n\t\t\tendCutoff += endMiterWidth.xyxy;\n\t\t}\n\t}\n\n\t//round miter cutoffs\n\telse if (miterMode == 2.) {\n\t\tif (enableStartMiter == 1.) {\n\t\t\tvec2 startMiterWidth = vec2(startJoinDirection) * thickness * abs(dot(startJoinDirection, currNormal)) * .5;\n\t\t\tstartCutoff = vec4(aCoord, aCoord);\n\t\t\tstartCutoff.zw += vec2(-startJoinDirection.y, startJoinDirection.x) / scaleRatio;\n\t\t\tstartCutoff = startCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;\n\t\t\tstartCutoff += viewport.xyxy;\n\t\t\tstartCutoff += startMiterWidth.xyxy;\n\t\t}\n\n\t\tif (enableEndMiter == 1.) {\n\t\t\tvec2 endMiterWidth = vec2(endJoinDirection) * thickness * abs(dot(endJoinDirection, currNormal)) * .5;\n\t\t\tendCutoff = vec4(bCoord, bCoord);\n\t\t\tendCutoff.zw += vec2(-endJoinDirection.y, endJoinDirection.x)  / scaleRatio;\n\t\t\tendCutoff = endCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;\n\t\t\tendCutoff += viewport.xyxy;\n\t\t\tendCutoff += endMiterWidth.xyxy;\n\t\t}\n\t}\n}\n"]),frag:k(["precision highp float;\n#define GLSLIFY 1\n\nuniform float dashLength, pixelRatio, thickness, opacity, id, miterMode;\nuniform sampler2D dashTexture;\n\nvarying vec4 fragColor;\nvarying vec2 tangent;\nvarying vec4 startCutoff, endCutoff;\nvarying vec2 startCoord, endCoord;\nvarying float enableStartMiter, enableEndMiter;\n\nfloat distToLine(vec2 p, vec2 a, vec2 b) {\n\tvec2 diff = b - a;\n\tvec2 perp = normalize(vec2(-diff.y, diff.x));\n\treturn dot(p - a, perp);\n}\n\nvoid main() {\n\tfloat alpha = 1., distToStart, distToEnd;\n\tfloat cutoff = thickness * .5;\n\n\t//bevel miter\n\tif (miterMode == 1.) {\n\t\tif (enableStartMiter == 1.) {\n\t\t\tdistToStart = distToLine(gl_FragCoord.xy, startCutoff.xy, startCutoff.zw);\n\t\t\tif (distToStart < -1.) {\n\t\t\t\tdiscard;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\talpha *= min(max(distToStart + 1., 0.), 1.);\n\t\t}\n\n\t\tif (enableEndMiter == 1.) {\n\t\t\tdistToEnd = distToLine(gl_FragCoord.xy, endCutoff.xy, endCutoff.zw);\n\t\t\tif (distToEnd < -1.) {\n\t\t\t\tdiscard;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\talpha *= min(max(distToEnd + 1., 0.), 1.);\n\t\t}\n\t}\n\n\t// round miter\n\telse if (miterMode == 2.) {\n\t\tif (enableStartMiter == 1.) {\n\t\t\tdistToStart = distToLine(gl_FragCoord.xy, startCutoff.xy, startCutoff.zw);\n\t\t\tif (distToStart < 0.) {\n\t\t\t\tfloat radius = length(gl_FragCoord.xy - startCoord);\n\n\t\t\t\tif(radius > cutoff + .5) {\n\t\t\t\t\tdiscard;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\talpha -= smoothstep(cutoff - .5, cutoff + .5, radius);\n\t\t\t}\n\t\t}\n\n\t\tif (enableEndMiter == 1.) {\n\t\t\tdistToEnd = distToLine(gl_FragCoord.xy, endCutoff.xy, endCutoff.zw);\n\t\t\tif (distToEnd < 0.) {\n\t\t\t\tfloat radius = length(gl_FragCoord.xy - endCoord);\n\n\t\t\t\tif(radius > cutoff + .5) {\n\t\t\t\t\tdiscard;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\talpha -= smoothstep(cutoff - .5, cutoff + .5, radius);\n\t\t\t}\n\t\t}\n\t}\n\n\tfloat t = fract(dot(tangent, gl_FragCoord.xy) / dashLength) * .5 + .25;\n\tfloat dash = texture2D(dashTexture, vec2(t, .5)).r;\n\n\tgl_FragColor = fragColor;\n\tgl_FragColor.a *= alpha * opacity * dash;\n}\n"]),attributes:{lineEnd:{buffer:_,divisor:0,stride:8,offset:0},lineTop:{buffer:_,divisor:0,stride:8,offset:4},aColor:{buffer:p.prop("colorBuffer"),stride:4,offset:0,divisor:1},bColor:{buffer:p.prop("colorBuffer"),stride:4,offset:4,divisor:1},prevCoord:{buffer:p.prop("positionBuffer"),stride:8,offset:0,divisor:1},aCoord:{buffer:p.prop("positionBuffer"),stride:8,offset:8,divisor:1},bCoord:{buffer:p.prop("positionBuffer"),stride:8,offset:16,divisor:1},nextCoord:{buffer:p.prop("positionBuffer"),stride:8,offset:24,divisor:1}}},m))}catch{T=w}return{fill:p({primitive:"triangle",elements:function(x,b){return b.triangles},offset:0,vert:k(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec2 position, positionFract;\n\nuniform vec4 color;\nuniform vec2 scale, scaleFract, translate, translateFract;\nuniform float pixelRatio, id;\nuniform vec4 viewport;\nuniform float opacity;\n\nvarying vec4 fragColor;\n\nconst float MAX_LINES = 256.;\n\nvoid main() {\n\tfloat depth = (MAX_LINES - 4. - id) / (MAX_LINES);\n\n\tvec2 position = position * scale + translate\n       + positionFract * scale + translateFract\n       + position * scaleFract\n       + positionFract * scaleFract;\n\n\tgl_Position = vec4(position * 2.0 - 1.0, depth, 1);\n\n\tfragColor = color / 255.;\n\tfragColor.a *= opacity;\n}\n"]),frag:k(["precision highp float;\n#define GLSLIFY 1\n\nvarying vec4 fragColor;\n\nvoid main() {\n\tgl_FragColor = fragColor;\n}\n"]),uniforms:{scale:p.prop("scale"),color:p.prop("fill"),scaleFract:p.prop("scaleFract"),translateFract:p.prop("translateFract"),translate:p.prop("translate"),opacity:p.prop("opacity"),pixelRatio:p.context("pixelRatio"),id:p.prop("id"),viewport:function(x,b){return[b.viewport.x,b.viewport.y,x.viewportWidth,x.viewportHeight]}},attributes:{position:{buffer:p.prop("positionBuffer"),stride:8,offset:8},positionFract:{buffer:p.prop("positionFractBuffer"),stride:8,offset:8}},blend:m.blend,depth:{enable:!1},scissor:m.scissor,stencil:m.stencil,viewport:m.viewport}),rect:w,miter:T}},v.defaults={dashes:null,join:"miter",miterLimit:1,thickness:10,cap:"square",color:"black",opacity:1,overlay:!1,viewport:null,range:null,close:!1,fill:null},v.prototype.render=function(){for(var p,T=[],_=arguments.length;_--;)T[_]=arguments[_];T.length&&(p=this).update.apply(p,T),this.draw()},v.prototype.draw=function(){for(var p=this,T=[],_=arguments.length;_--;)T[_]=arguments[_];return(T.length?T:this.passes).forEach(function(m,w){var x;if(m&&Array.isArray(m))return(x=p).draw.apply(x,m);"number"==typeof m&&(m=p.passes[m]),m&&m.count>1&&m.opacity&&(p.regl._refresh(),m.fill&&m.triangles&&m.triangles.length>2&&p.shaders.fill(m),m.thickness&&(m.scale[0]*m.viewport.width>v.precisionThreshold||m.scale[1]*m.viewport.height>v.precisionThreshold||"rect"===m.join||!m.join&&(m.thickness<=2||m.count>=v.maxPoints)?p.shaders.rect(m):p.shaders.miter(m)))}),this},v.prototype.update=function(p){var T=this;if(p){null!=p.length?"number"==typeof p[0]&&(p=[{positions:p}]):Array.isArray(p)||(p=[p]);var _=this.regl,m=this.gl;if(p.forEach(function(g,I){var S=T.passes[I];if(void 0!==g)if(null!==g){if("number"==typeof g[0]&&(g={positions:g}),g=M(g,{positions:"positions points data coords",thickness:"thickness lineWidth lineWidths line-width linewidth width stroke-width strokewidth strokeWidth",join:"lineJoin linejoin join type mode",miterLimit:"miterlimit miterLimit",dashes:"dash dashes dasharray dash-array dashArray",color:"color colour stroke colors colours stroke-color strokeColor",fill:"fill fill-color fillColor",opacity:"alpha opacity",overlay:"overlay crease overlap intersect",close:"closed close closed-path closePath",range:"range dataBox",viewport:"viewport viewBox",hole:"holes hole hollow",splitNull:"splitNull"}),S||(T.passes[I]=S={id:I,scale:null,scaleFract:null,translate:null,translateFract:null,count:0,hole:[],depth:0,dashLength:1,dashTexture:_.texture({channels:1,data:new Uint8Array([255]),width:1,height:1,mag:"linear",min:"linear"}),colorBuffer:_.buffer({usage:"dynamic",type:"uint8",data:new Uint8Array}),positionBuffer:_.buffer({usage:"dynamic",type:"float",data:new Uint8Array}),positionFractBuffer:_.buffer({usage:"dynamic",type:"float",data:new Uint8Array})},g=f({},v.defaults,g)),null!=g.thickness&&(S.thickness=parseFloat(g.thickness)),null!=g.opacity&&(S.opacity=parseFloat(g.opacity)),null!=g.miterLimit&&(S.miterLimit=parseFloat(g.miterLimit)),null!=g.overlay&&(S.overlay=!!g.overlay,I<v.maxLines&&(S.depth=2*(v.maxLines-1-I%v.maxLines)/v.maxLines-1)),null!=g.join&&(S.join=g.join),null!=g.hole&&(S.hole=g.hole),null!=g.fill&&(S.fill=g.fill?D(g.fill,"uint8"):null),null!=g.viewport&&(S.viewport=u(g.viewport)),S.viewport||(S.viewport=u([m.drawingBufferWidth,m.drawingBufferHeight])),null!=g.close&&(S.close=g.close),null===g.positions&&(g.positions=[]),g.positions){var O,R;if(g.positions.x&&g.positions.y){var L=g.positions.x,N=g.positions.y;R=S.count=Math.max(L.length,N.length),O=new Float64Array(2*R);for(var j=0;j<R;j++)O[2*j]=L[j],O[2*j+1]=N[j]}else O=y(g.positions,"float64"),R=S.count=Math.floor(O.length/2);var X=S.bounds=E(O,2);if(S.fill){for(var F=[],Y={},G=0,H=0,W=0,Z=S.count;H<Z;H++){var se=O[2*H],re=O[2*H+1];isNaN(se)||isNaN(re)||null==se||null==re?(se=O[2*G],re=O[2*G+1],Y[H]=G):G=H,F[W++]=se,F[W++]=re}if(g.splitNull){S.count-1 in Y||(Y[S.count]=S.count-1);var ne=Object.keys(Y).map(Number).sort(function(Et,ht){return Et-ht}),Q=[],ee=0,oe=null!=S.hole?S.hole[0]:null;if(null!=oe){var ce=h(ne,function(Et){return Et>=oe});(ne=ne.slice(0,ce)).push(oe)}for(var fe=function(Et){var ht=F.slice(2*ee,2*ne[Et]).concat(oe?F.slice(2*oe):[]),pt=(S.hole||[]).map(function(zt){return zt-oe+(ne[Et]-ee)}),Pt=c(ht,pt);Pt=Pt.map(function(zt){return zt+ee+(zt+ee<ne[Et]?0:oe-ne[Et])}),Q.push.apply(Q,Pt),ee=ne[Et]+1},le=0;le<ne.length;le++)fe(le);for(var pe=0,Me=Q.length;pe<Me;pe++)null!=Y[Q[pe]]&&(Q[pe]=Y[Q[pe]]);S.triangles=Q}else{for(var Ae=c(F,S.hole||[]),be=0,ye=Ae.length;be<ye;be++)null!=Y[Ae[be]]&&(Ae[be]=Y[Ae[be]]);S.triangles=Ae}}var we=new Float64Array(O);i(we,2,X);var ze=new Float64Array(2*R+6);S.close?O[0]===O[2*R-2]&&O[1]===O[2*R-1]?(ze[0]=we[2*R-4],ze[1]=we[2*R-3]):(ze[0]=we[2*R-2],ze[1]=we[2*R-1]):(ze[0]=we[0],ze[1]=we[1]),ze.set(we,2),S.close?O[0]===O[2*R-2]&&O[1]===O[2*R-1]?(ze[2*R+2]=we[2],ze[2*R+3]=we[3],S.count-=1):(ze[2*R+2]=we[0],ze[2*R+3]=we[1],ze[2*R+4]=we[2],ze[2*R+5]=we[3]):(ze[2*R+2]=we[2*R-2],ze[2*R+3]=we[2*R-1],ze[2*R+4]=we[2*R-2],ze[2*R+5]=we[2*R-1]);var Se=a(ze);S.positionBuffer(Se);var Ce=o(ze,Se);S.positionFractBuffer(Ce)}if(g.range?S.range=g.range:S.range||(S.range=S.bounds),(g.range||g.positions)&&S.count){var ge=S.bounds,Le=S.range[2]-S.range[0],Ie=S.range[3]-S.range[1];S.scale=[(ge[2]-ge[0])/Le,(ge[3]-ge[1])/Ie],S.translate=[-S.range[0]/Le+ge[0]/Le||0,-S.range[1]/Ie+ge[1]/Ie||0],S.scaleFract=o(S.scale),S.translateFract=o(S.translate)}if(g.dashes){var De,je=0;if(!g.dashes||g.dashes.length<2)je=1,De=new Uint8Array([255,255,255,255,255,255,255,255]);else{je=0;for(var qe=0;qe<g.dashes.length;++qe)je+=g.dashes[qe];De=new Uint8Array(je*v.dashMult);for(var ve=0,Oe=255,ke=0;ke<2;ke++)for(var Be=0;Be<g.dashes.length;++Be){for(var We=0,Ge=g.dashes[Be]*v.dashMult*.5;We<Ge;++We)De[ve++]=Oe;Oe^=255}}S.dashLength=je,S.dashTexture({channels:1,data:De,width:De.length,height:1,mag:"linear",min:"linear"},0,0)}if(g.color){var Ke=S.count,et=g.color;et||(et="transparent");var at=new Uint8Array(4*Ke+4);if(Array.isArray(et)&&"number"!=typeof et[0]){for(var mt=0;mt<Ke;mt++){var ct=D(et[mt],"uint8");at.set(ct,4*mt)}at.set(D(et[0],"uint8"),4*Ke)}else for(var kt=D(et,"uint8"),Dt=0;Dt<Ke+1;Dt++)at.set(kt,4*Dt);S.colorBuffer({usage:"dynamic",type:"uint8",data:at})}}else T.passes[I]=null}),p.length<this.passes.length){for(var w=p.length;w<this.passes.length;w++){var x=this.passes[w];x&&(x.colorBuffer.destroy(),x.positionBuffer.destroy(),x.dashTexture.destroy())}this.passes.length=p.length}for(var b=[],A=0;A<this.passes.length;A++)null!==this.passes[A]&&b.push(this.passes[A]);return this.passes=b,this}},v.prototype.destroy=function(){return this.passes.forEach(function(p){p.colorBuffer.destroy(),p.positionBuffer.destroy(),p.dashTexture.destroy()}),this.passes.length=0,this}},11870:function(ae,B,r){"use strict";function D(m,w){return function(x){if(Array.isArray(x))return x}(m)||function(x,b){var A=null==x?null:typeof Symbol<"u"&&x[Symbol.iterator]||x["@@iterator"];if(null!=A){var g,I,S,O,R=[],L=!0,N=!1;try{if(S=(A=A.call(x)).next,0===b){if(Object(A)!==A)return;L=!1}else for(;!(L=(g=S.call(A)).done)&&(R.push(g.value),R.length!==b);L=!0);}catch(j){N=!0,I=j}finally{try{if(!L&&null!=A.return&&(O=A.return(),Object(O)!==O))return}finally{if(N)throw I}}return R}}(m,w)||E(m,w)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(m,w){if(m){if("string"==typeof m)return f(m,w);var x=Object.prototype.toString.call(m).slice(8,-1);return"Object"===x&&m.constructor&&(x=m.constructor.name),"Map"===x||"Set"===x?Array.from(m):"Arguments"===x||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x)?f(m,w):void 0}}function f(m,w){(null==w||w>m.length)&&(w=m.length);for(var x=0,b=new Array(w);x<w;x++)b[x]=m[x];return b}var k=r(25075),M=r(21527),y=r(6475),c=r(88294),i=r(56131),s=r(56068),a=r(71299),o=r(93447),l=r(30120),u=r(62683),h=r(57060),v=r(18863),p=T;function T(m,w){var x=this;if(!(this instanceof T))return new T(m,w);"function"==typeof m?(w||(w={}),w.regl=m):(w=m,m=null),w&&w.length&&(w.positions=w);var b,A=(m=w.regl)._gl,g=[];this.tooManyColors=u,b=m.texture({data:new Uint8Array(1020),width:255,height:1,type:"uint8",format:"rgba",wrapS:"clamp",wrapT:"clamp",mag:"nearest",min:"nearest"}),i(this,{regl:m,gl:A,groups:[],markerCache:[null],markerTextures:[null],palette:g,paletteIds:{},paletteTexture:b,maxColors:255,maxSize:100,canvas:A.canvas}),this.update(w);var I={uniforms:{constPointSize:!!w.constPointSize,opacity:m.prop("opacity"),paletteSize:function(R,L){return[x.tooManyColors?0:255,b.height]},pixelRatio:m.context("pixelRatio"),scale:m.prop("scale"),scaleFract:m.prop("scaleFract"),translate:m.prop("translate"),translateFract:m.prop("translateFract"),markerTexture:m.prop("markerTexture"),paletteTexture:b},attributes:{x:function(R,L){return L.xAttr||{buffer:L.positionBuffer,stride:8,offset:0}},y:function(R,L){return L.yAttr||{buffer:L.positionBuffer,stride:8,offset:4}},xFract:function(R,L){return L.xAttr?{constant:[0,0]}:{buffer:L.positionFractBuffer,stride:8,offset:0}},yFract:function(R,L){return L.yAttr?{constant:[0,0]}:{buffer:L.positionFractBuffer,stride:8,offset:4}},size:function(R,L){return L.size.length?{buffer:L.sizeBuffer,stride:2,offset:0}:{constant:[Math.round(255*L.size/x.maxSize)]}},borderSize:function(R,L){return L.borderSize.length?{buffer:L.sizeBuffer,stride:2,offset:1}:{constant:[Math.round(255*L.borderSize/x.maxSize)]}},colorId:function(R,L){return L.color.length?{buffer:L.colorBuffer,stride:x.tooManyColors?8:4,offset:0}:{constant:x.tooManyColors?g.slice(4*L.color,4*L.color+4):[L.color]}},borderColorId:function(R,L){return L.borderColor.length?{buffer:L.colorBuffer,stride:x.tooManyColors?8:4,offset:x.tooManyColors?4:2}:{constant:x.tooManyColors?g.slice(4*L.borderColor,4*L.borderColor+4):[L.borderColor]}},isActive:function(R,L){return!0===L.activation?{constant:[1]}:L.activation?L.activation:{constant:[0]}}},blend:{enable:!0,color:[0,0,0,1],func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},scissor:{enable:!0,box:m.prop("viewport")},viewport:m.prop("viewport"),stencil:{enable:!1},depth:{enable:!1},elements:m.prop("elements"),count:m.prop("count"),offset:m.prop("offset"),primitive:"points"},S=i({},I);S.frag=s(["precision highp float;\n#define GLSLIFY 1\n\nuniform float opacity;\nuniform sampler2D markerTexture;\n\nvarying vec4 fragColor, fragBorderColor;\nvarying float fragWidth, fragBorderColorLevel, fragColorLevel;\n\nfloat smoothStep(float x, float y) {\n  return 1.0 / (1.0 + exp(50.0*(x - y)));\n}\n\nvoid main() {\n  float dist = texture2D(markerTexture, gl_PointCoord).r, delta = fragWidth;\n\n  // max-distance alpha\n  if (dist < 0.003) discard;\n\n  // null-border case\n  if (fragBorderColorLevel == fragColorLevel || fragBorderColor.a == 0.) {\n    float colorAmt = smoothstep(.5 - delta, .5 + delta, dist);\n    gl_FragColor = vec4(fragColor.rgb, colorAmt * fragColor.a * opacity);\n  }\n  else {\n    float borderColorAmt = smoothstep(fragBorderColorLevel - delta, fragBorderColorLevel + delta, dist);\n    float colorAmt = smoothstep(fragColorLevel - delta, fragColorLevel + delta, dist);\n\n    vec4 color = fragBorderColor;\n    color.a *= borderColorAmt;\n    color = mix(color, fragColor, colorAmt);\n    color.a *= opacity;\n\n    gl_FragColor = color;\n  }\n\n}\n"]),S.vert=s(["precision highp float;\n#define GLSLIFY 1\n\nattribute float x, y, xFract, yFract;\nattribute float size, borderSize;\nattribute vec4 colorId, borderColorId;\nattribute float isActive;\n\nuniform bool constPointSize;\nuniform float pixelRatio;\nuniform vec2 scale, scaleFract, translate, translateFract, paletteSize;\nuniform sampler2D paletteTexture;\n\nconst float maxSize = 100.;\nconst float borderLevel = .5;\n\nvarying vec4 fragColor, fragBorderColor;\nvarying float fragPointSize, fragBorderRadius, fragWidth, fragBorderColorLevel, fragColorLevel;\n\nfloat pointSizeScale = (constPointSize) ? 2. : pixelRatio;\n\nbool isDirect = (paletteSize.x < 1.);\n\nvec4 getColor(vec4 id) {\n  return isDirect ? id / 255. : texture2D(paletteTexture,\n    vec2(\n      (id.x + .5) / paletteSize.x,\n      (id.y + .5) / paletteSize.y\n    )\n  );\n}\n\nvoid main() {\n  // ignore inactive points\n  if (isActive == 0.) return;\n\n  vec2 position = vec2(x, y);\n  vec2 positionFract = vec2(xFract, yFract);\n\n  vec4 color = getColor(colorId);\n  vec4 borderColor = getColor(borderColorId);\n\n  float size = size * maxSize / 255.;\n  float borderSize = borderSize * maxSize / 255.;\n\n  gl_PointSize = 2. * size * pointSizeScale;\n  fragPointSize = size * pixelRatio;\n\n  vec2 pos = (position + translate) * scale\n      + (positionFract + translateFract) * scale\n      + (position + translate) * scaleFract\n      + (positionFract + translateFract) * scaleFract;\n\n  gl_Position = vec4(pos * 2. - 1., 0., 1.);\n\n  fragColor = color;\n  fragBorderColor = borderColor;\n  fragWidth = 1. / gl_PointSize;\n\n  fragBorderColorLevel = clamp(borderLevel - borderLevel * borderSize / size, 0., 1.);\n  fragColorLevel = clamp(borderLevel + (1. - borderLevel) * borderSize / size, 0., 1.);\n}"]),this.drawMarker=m(S);var O=i({},I);O.frag=s(["precision highp float;\n#define GLSLIFY 1\n\nvarying vec4 fragColor, fragBorderColor;\nvarying float fragBorderRadius, fragWidth;\n\nuniform float opacity;\n\nfloat smoothStep(float edge0, float edge1, float x) {\n\tfloat t;\n\tt = clamp((x - edge0) / (edge1 - edge0), 0.0, 1.0);\n\treturn t * t * (3.0 - 2.0 * t);\n}\n\nvoid main() {\n\tfloat radius, alpha = 1.0, delta = fragWidth;\n\n\tradius = length(2.0 * gl_PointCoord.xy - 1.0);\n\n\tif (radius > 1.0 + delta) {\n\t\tdiscard;\n\t}\n\n\talpha -= smoothstep(1.0 - delta, 1.0 + delta, radius);\n\n\tfloat borderRadius = fragBorderRadius;\n\tfloat ratio = smoothstep(borderRadius - delta, borderRadius + delta, radius);\n\tvec4 color = mix(fragColor, fragBorderColor, ratio);\n\tcolor.a *= alpha * opacity;\n\tgl_FragColor = color;\n}\n"]),O.vert=s(["precision highp float;\n#define GLSLIFY 1\n\nattribute float x, y, xFract, yFract;\nattribute float size, borderSize;\nattribute vec4 colorId, borderColorId;\nattribute float isActive;\n\nuniform bool constPointSize;\nuniform float pixelRatio;\nuniform vec2 paletteSize, scale, scaleFract, translate, translateFract;\nuniform sampler2D paletteTexture;\n\nconst float maxSize = 100.;\n\nvarying vec4 fragColor, fragBorderColor;\nvarying float fragBorderRadius, fragWidth;\n\nfloat pointSizeScale = (constPointSize) ? 2. : pixelRatio;\n\nbool isDirect = (paletteSize.x < 1.);\n\nvec4 getColor(vec4 id) {\n  return isDirect ? id / 255. : texture2D(paletteTexture,\n    vec2(\n      (id.x + .5) / paletteSize.x,\n      (id.y + .5) / paletteSize.y\n    )\n  );\n}\n\nvoid main() {\n  // ignore inactive points\n  if (isActive == 0.) return;\n\n  vec2 position = vec2(x, y);\n  vec2 positionFract = vec2(xFract, yFract);\n\n  vec4 color = getColor(colorId);\n  vec4 borderColor = getColor(borderColorId);\n\n  float size = size * maxSize / 255.;\n  float borderSize = borderSize * maxSize / 255.;\n\n  gl_PointSize = (size + borderSize) * pointSizeScale;\n\n  vec2 pos = (position + translate) * scale\n      + (positionFract + translateFract) * scale\n      + (position + translate) * scaleFract\n      + (positionFract + translateFract) * scaleFract;\n\n  gl_Position = vec4(pos * 2. - 1., 0., 1.);\n\n  fragBorderRadius = 1. - 2. * borderSize / (size + borderSize);\n  fragColor = color;\n  fragBorderColor = borderColor.a == 0. || borderSize == 0. ? vec4(color.rgb, 0.) : borderColor;\n  fragWidth = 1. / gl_PointSize;\n}\n"]),u&&(O.frag=O.frag.replace("smoothstep","smoothStep"),S.frag=S.frag.replace("smoothstep","smoothStep")),this.drawCircle=m(O)}T.defaults={color:"black",borderColor:"transparent",borderSize:0,size:12,opacity:1,marker:void 0,viewport:null,range:null,pixelSize:null,count:0,offset:0,bounds:null,positions:[],snap:1e4},T.prototype.render=function(){return arguments.length&&this.update.apply(this,arguments),this.draw(),this},T.prototype.draw=function(){for(var m=this,w=arguments.length,x=new Array(w),b=0;b<w;b++)x[b]=arguments[b];var A=this.groups;if(1===x.length&&Array.isArray(x[0])&&(null===x[0][0]||Array.isArray(x[0][0]))&&(x=x[0]),this.regl._refresh(),x.length)for(var g=0;g<x.length;g++)this.drawItem(g,x[g]);else A.forEach(function(I,S){m.drawItem(S)});return this},T.prototype.drawItem=function(m,w){var x,b=this.groups,A=b[m];if("number"==typeof w&&(m=w,A=b[w],w=null),A&&A.count&&A.opacity){A.activation[0]&&this.drawCircle(this.getMarkerDrawOptions(0,A,w));for(var g=[],I=1;I<A.activation.length;I++)A.activation[I]&&(!0===A.activation[I]||A.activation[I].data.length)&&g.push.apply(g,function(S){if(Array.isArray(S))return f(S)}(x=this.getMarkerDrawOptions(I,A,w))||function(S){if(typeof Symbol<"u"&&null!=S[Symbol.iterator]||null!=S["@@iterator"])return Array.from(S)}(x)||E(x)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());g.length&&this.drawMarker(g)}},T.prototype.getMarkerDrawOptions=function(m,w,x){var b=w.range,A=w.tree,g=w.viewport,I=w.activation,S=w.selectionBuffer,O=w.count;if(!A)return x?[i({},w,{markerTexture:this.markerTextures[m],activation:I[m],count:x.length,elements:x,offset:0})]:[i({},w,{markerTexture:this.markerTextures[m],activation:I[m],offset:0})];var R=[],L=A.range(b,{lod:!0,px:[(b[2]-b[0])/g.width,(b[3]-b[1])/g.height]});if(x){for(var N=I[m].data,j=new Uint8Array(O),X=0;X<x.length;X++){var F=x[X];j[F]=N?N[F]:1}S.subdata(j)}for(var Y=L.length;Y--;){var G=D(L[Y],2),H=G[0];R.push(i({},w,{markerTexture:this.markerTextures[m],activation:x?S:I[m],offset:H,count:G[1]-H}))}return R},T.prototype.update=function(){for(var m=this,w=arguments.length,x=new Array(w),b=0;b<w;b++)x[b]=arguments[b];if(x.length){1===x.length&&Array.isArray(x[0])&&(x=x[0]);var A=this.groups,g=this.gl,I=this.regl,S=this.maxSize,O=this.maxColors,R=this.palette;this.groups=A=x.map(function(L,N){var j=A[N];if(void 0===L)return j;null===L?L={positions:null}:"function"==typeof L?L={ondraw:L}:"number"==typeof L[0]&&(L={positions:L}),null===(L=a(L,{positions:"positions data points",snap:"snap cluster lod tree",size:"sizes size radius",borderSize:"borderSizes borderSize border-size bordersize borderWidth borderWidths border-width borderwidth stroke-width strokeWidth strokewidth outline",color:"colors color fill fill-color fillColor",borderColor:"borderColors borderColor stroke stroke-color strokeColor",marker:"markers marker shape",range:"range dataBox databox",viewport:"viewport viewPort viewBox viewbox",opacity:"opacity alpha transparency",bounds:"bound bounds boundaries limits",tooManyColors:"tooManyColors palette paletteMode optimizePalette enablePalette"})).positions&&(L.positions=[]),null!=L.tooManyColors&&(m.tooManyColors=L.tooManyColors),j||(A[N]=j={id:N,scale:null,translate:null,scaleFract:null,translateFract:null,activation:[],selectionBuffer:I.buffer({data:new Uint8Array(0),usage:"stream",type:"uint8"}),sizeBuffer:I.buffer({data:new Uint8Array(0),usage:"dynamic",type:"uint8"}),colorBuffer:I.buffer({data:new Uint8Array(0),usage:"dynamic",type:"uint8"}),positionBuffer:I.buffer({data:new Uint8Array(0),usage:"dynamic",type:"float"}),positionFractBuffer:I.buffer({data:new Uint8Array(0),usage:"dynamic",type:"float"})},L=i({},T.defaults,L)),L.positions&&!("marker"in L)&&(L.marker=j.marker,delete j.marker),L.marker&&!("positions"in L)&&(L.positions=j.positions,delete j.positions);var X=0,F=0;if(o(j,L,[{snap:!0,size:function(be,ye){return null==be&&(be=T.defaults.size),X+=be&&be.length?1:0,be},borderSize:function(be,ye){return null==be&&(be=T.defaults.borderSize),X+=be&&be.length?1:0,be},opacity:parseFloat,color:function(be,ye){return null==be&&(be=T.defaults.color),be=m.updateColor(be),F++,be},borderColor:function(be,ye){return null==be&&(be=T.defaults.borderColor),be=m.updateColor(be),F++,be},bounds:function(be,ye,we){return"range"in we||(we.range=null),be},positions:function(be,ye,we){var ze=ye.snap,Se=ye.positionBuffer,Ce=ye.positionFractBuffer,ge=ye.selectionBuffer;if(be.x||be.y)return ye.xAttr=be.x.length?{buffer:I.buffer(be.x),offset:0,stride:4,count:be.x.length}:{buffer:be.x.buffer,offset:4*be.x.offset||0,stride:4*(be.x.stride||1),count:be.x.count},ye.yAttr=be.y.length?{buffer:I.buffer(be.y),offset:0,stride:4,count:be.y.length}:{buffer:be.y.buffer,offset:4*be.y.offset||0,stride:4*(be.y.stride||1),count:be.y.count},ye.count=Math.max(ye.xAttr.count,ye.yAttr.count),be;be=l(be,"float64");var he=ye.count=Math.floor(be.length/2),_e=ye.bounds=he?M(be,2):null;if(we.range||ye.range||(delete ye.range,we.range=_e),we.marker||ye.marker||(delete ye.marker,we.marker=null),ze&&(!0===ze||he>ze)?ye.tree=c(be,{bounds:_e}):ze&&ze.length&&(ye.tree=ze),ye.tree){var Le={primitive:"points",usage:"static",data:ye.tree,type:"uint32"};ye.elements?ye.elements(Le):ye.elements=I.elements(Le)}var Ie=h.float32(be);return Se({data:Ie,usage:"dynamic"}),Ce({data:h.fract32(be,Ie),usage:"dynamic"}),ge({data:new Uint8Array(he),type:"uint8",usage:"stream"}),be}},{marker:function(be,ye,we){var ze=ye.activation;if(ze.forEach(function(Ie){return Ie&&Ie.destroy&&Ie.destroy()}),ze.length=0,be&&"number"!=typeof be[0]){for(var Se=[],Ce=0,ge=Math.min(be.length,ye.count);Ce<ge;Ce++){var he=m.addMarker(be[Ce]);Se[he]||(Se[he]=new Uint8Array(ye.count)),Se[he][Ce]=1}for(var _e=0;_e<Se.length;_e++)if(Se[_e]){var Le={data:Se[_e],type:"uint8",usage:"static"};ze[_e]?ze[_e](Le):ze[_e]=I.buffer(Le),ze[_e].data=Se[_e]}}else ze[m.addMarker(be)]=!0;return be},range:function(be,ye,we){var ze=ye.bounds;if(ze)return be||(be=ze),ye.scale=[1/(be[2]-be[0]),1/(be[3]-be[1])],ye.translate=[-be[0],-be[1]],ye.scaleFract=h.fract(ye.scale),ye.translateFract=h.fract(ye.translate),be},viewport:function(be){return v(be||[g.drawingBufferWidth,g.drawingBufferHeight])}}]),X){var G=j.count,H=j.size,W=j.borderSize,Z=j.sizeBuffer,se=new Uint8Array(2*G);if(H.length||W.length)for(var re=0;re<G;re++)se[2*re]=Math.round(255*(null==H[re]?H:H[re])/S),se[2*re+1]=Math.round(255*(null==W[re]?W:W[re])/S);Z({data:se,usage:"dynamic"})}if(F){var ne,ee=j.count,oe=j.color,ce=j.borderColor,fe=j.colorBuffer;if(m.tooManyColors){if(oe.length||ce.length){ne=new Uint8Array(8*ee);for(var le=0;le<ee;le++){var pe=oe[le];ne[8*le]=R[4*pe],ne[8*le+1]=R[4*pe+1],ne[8*le+2]=R[4*pe+2],ne[8*le+3]=R[4*pe+3];var Me=ce[le];ne[8*le+4]=R[4*Me],ne[8*le+5]=R[4*Me+1],ne[8*le+6]=R[4*Me+2],ne[8*le+7]=R[4*Me+3]}}}else if(oe.length||ce.length){ne=new Uint8Array(4*ee+2);for(var Ae=0;Ae<ee;Ae++)null!=oe[Ae]&&(ne[4*Ae]=oe[Ae]%O,ne[4*Ae+1]=Math.floor(oe[Ae]/O)),null!=ce[Ae]&&(ne[4*Ae+2]=ce[Ae]%O,ne[4*Ae+3]=Math.floor(ce[Ae]/O))}fe({data:ne||new Uint8Array(0),type:"uint8",usage:"dynamic"})}return j})}},T.prototype.addMarker=function(m){var w,x=this.markerTextures,b=this.regl,A=this.markerCache,g=null==m?0:A.indexOf(m);if(g>=0)return g;if(m instanceof Uint8Array||m instanceof Uint8ClampedArray)w=m;else{w=new Uint8Array(m.length);for(var I=0,S=m.length;I<S;I++)w[I]=255*m[I]}var O=Math.floor(Math.sqrt(w.length));return g=x.length,A.push(m),x.push(b.texture({channels:1,data:w,radius:O,mag:"linear",min:"linear"})),g},T.prototype.updateColor=function(m){var w=this.paletteIds,x=this.palette,b=this.maxColors;Array.isArray(m)||(m=[m]);var A=[];if("number"==typeof m[0]){var g=[];if(Array.isArray(m))for(var I=0;I<m.length;I+=4)g.push(m.slice(I,I+4));else for(var S=0;S<m.length;S+=4)g.push(m.subarray(S,S+4));m=g}for(var O=0;O<m.length;O++){var R=m[O];R=k(R,"uint8");var L=y(R,!1);if(null==w[L]){var N=x.length;w[L]=Math.floor(N/4),x[N]=R[0],x[N+1]=R[1],x[N+2]=R[2],x[N+3]=R[3]}A[O]=w[L]}return!this.tooManyColors&&x.length>4*b&&(this.tooManyColors=!0),this.updatePalette(x),1===A.length?A[0]:A},T.prototype.updatePalette=function(m){if(!this.tooManyColors){var w=this.maxColors,x=this.paletteTexture,b=Math.ceil(.25*m.length/w);if(b>1)for(var A=.25*(m=m.slice()).length%w;A<b*w;A++)m.push(0,0,0,0);x.height<b&&x.resize(w,b),x.subimage({width:Math.min(.25*m.length,w),height:b,data:m},0,0)}},T.prototype.destroy=function(){return this.groups.forEach(function(m){m.sizeBuffer.destroy(),m.positionBuffer.destroy(),m.positionFractBuffer.destroy(),m.colorBuffer.destroy(),m.activation.forEach(function(w){return w&&w.destroy&&w.destroy()}),m.selectionBuffer.destroy(),m.elements&&m.elements.destroy()}),this.groups.length=0,this.paletteTexture.destroy(),this.markerTextures.forEach(function(m){return m&&m.destroy&&m.destroy()}),this};var _=r(56131);ae.exports=function(m,w){var x=new p(m,w),b=x.render.bind(x);return _(b,{render:b,update:x.update.bind(x),draw:x.draw.bind(x),destroy:x.destroy.bind(x),regl:x.regl,gl:x.gl,canvas:x.gl.canvas,groups:x.groups,markers:x.markerCache,palette:x.palette}),b}},60487:function(ae,B,r){"use strict";var D=r(11870),E=r(71299),f=r(21527),k=r(5877),M=r(57471),y=r(18863),c=r(30120);function i(l,u){if(!(this instanceof i))return new i(l,u);this.traces=[],this.passes={},this.regl=l,this.scatter=D(l),this.canvas=this.scatter.canvas}function s(l,u,h){return(null!=l.id?l.id:l)<<16|(255&u)<<8|255&h}function a(l,u,h){var v,p,T,_,m=l[u],w=l[h];return m.length>2?(v=m[1],p=m[3]):m.length?(v=m[0],p=m[1]):(v=m.y,p=m.y+m.height),w.length>2?(T=w[0],_=w[2]):w.length?(T=w[0],_=w[1]):(T=w.x,_=w.x+w.width),[T,v,_,p]}function o(l){if("number"==typeof l)return[l,l,l,l];if(2===l.length)return[l[0],l[1],l[0],l[1]];var u=y(l);return[u.x,u.y,u.x+u.width,u.y+u.height]}ae.exports=i,i.prototype.render=function(){for(var l,u=this,h=[],v=arguments.length;v--;)h[v]=arguments[v];return h.length&&(l=this).update.apply(l,h),this.regl.attributes.preserveDrawingBuffer?this.draw():(this.dirty?null==this.planned&&(this.planned=k(function(){u.draw(),u.dirty=!0,u.planned=null})):(this.draw(),this.dirty=!0,k(function(){u.dirty=!1})),this)},i.prototype.update=function(){for(var l,u=[],h=arguments.length;h--;)u[h]=arguments[h];if(u.length){for(var v=0;v<u.length;v++)this.updateItem(v,u[v]);this.traces=this.traces.filter(Boolean);for(var p=[],T=0,_=0;_<this.traces.length;_++){for(var m=this.traces[_],w=this.traces[_].passes,x=0;x<w.length;x++)p.push(this.passes[w[x]]);m.passOffset=T,T+=m.passes.length}return(l=this.scatter).update.apply(l,p),this}},i.prototype.updateItem=function(l,u){var h=this.regl;if(null===u)return this.traces[l]=null,this;if(!u)return this;var v,p=E(u,{data:"data items columns rows values dimensions samples x",snap:"snap cluster",size:"sizes size radius",color:"colors color fill fill-color fillColor",opacity:"opacity alpha transparency opaque",borderSize:"borderSizes borderSize border-size bordersize borderWidth borderWidths border-width borderwidth stroke-width strokeWidth strokewidth outline",borderColor:"borderColors borderColor bordercolor stroke stroke-color strokeColor",marker:"markers marker shape",range:"range ranges databox dataBox",viewport:"viewport viewBox viewbox",domain:"domain domains area areas",padding:"pad padding paddings pads margin margins",transpose:"transpose transposed",diagonal:"diagonal diag showDiagonal",upper:"upper up top upperhalf upperHalf showupperhalf showUpper showUpperHalf",lower:"lower low bottom lowerhalf lowerHalf showlowerhalf showLowerHalf showLower"}),T=this.traces[l]||(this.traces[l]={id:l,buffer:h.buffer({usage:"dynamic",type:"float",data:new Uint8Array}),color:"black",marker:null,size:12,borderColor:"transparent",borderSize:1,viewport:y([h._gl.drawingBufferWidth,h._gl.drawingBufferHeight]),padding:[0,0,0,0],opacity:1,diagonal:!0,upper:!0,lower:!0});if(null!=p.color&&(T.color=p.color),null!=p.size&&(T.size=p.size),null!=p.marker&&(T.marker=p.marker),null!=p.borderColor&&(T.borderColor=p.borderColor),null!=p.borderSize&&(T.borderSize=p.borderSize),null!=p.opacity&&(T.opacity=p.opacity),p.viewport&&(T.viewport=y(p.viewport)),null!=p.diagonal&&(T.diagonal=p.diagonal),null!=p.upper&&(T.upper=p.upper),null!=p.lower&&(T.lower=p.lower),p.data){T.buffer(c(p.data)),T.columns=p.data.length,T.count=p.data[0].length,T.bounds=[];for(var _=0;_<T.columns;_++)T.bounds[_]=f(p.data[_],1)}p.range&&(T.range=p.range,v=T.range&&"number"!=typeof T.range[0]),p.domain&&(T.domain=p.domain);var m=!1;null!=p.padding&&(Array.isArray(p.padding)&&p.padding.length===T.columns&&"number"==typeof p.padding[p.padding.length-1]?(T.padding=p.padding.map(o),m=!0):T.padding=o(p.padding));var w=T.columns,x=T.count,b=T.viewport.width,A=T.viewport.height,g=T.viewport.x,I=T.viewport.y,S=b/w,O=A/w;T.passes=[];for(var R=0;R<w;R++)for(var L=0;L<w;L++)if((T.diagonal||L!==R)&&(T.upper||!(R>L))&&(T.lower||!(R<L))){var N=s(T.id,R,L),j=this.passes[N]||(this.passes[N]={});if(p.data&&(j.positions=p.transpose?{x:{buffer:T.buffer,offset:L,count:x,stride:w},y:{buffer:T.buffer,offset:R,count:x,stride:w}}:{x:{buffer:T.buffer,offset:L*x,count:x},y:{buffer:T.buffer,offset:R*x,count:x}},j.bounds=a(T.bounds,R,L)),p.domain||p.viewport||p.data){var X=m?a(T.padding,R,L):T.padding;if(T.domain){var F=a(T.domain,R,L);j.viewport=[g+F[0]*b+X[0],I+F[1]*A+X[1],g+F[2]*b-X[2],I+F[3]*A-X[3]]}else j.viewport=[g+L*S+S*X[0],I+R*O+O*X[1],g+(L+1)*S-S*X[2],I+(R+1)*O-O*X[3]]}p.color&&(j.color=T.color),p.size&&(j.size=T.size),p.marker&&(j.marker=T.marker),p.borderSize&&(j.borderSize=T.borderSize),p.borderColor&&(j.borderColor=T.borderColor),p.opacity&&(j.opacity=T.opacity),p.range&&(j.range=v?a(T.range,R,L):T.range||j.bounds),T.passes.push(N)}return this},i.prototype.draw=function(){for(var l,u=[],h=arguments.length;h--;)u[h]=arguments[h];if(u.length){for(var v=[],p=0;p<u.length;p++)if("number"==typeof u[p]){var T=this.traces[u[p]],m=T.passOffset;v.push.apply(v,M(m,m+T.passes.length))}else if(u[p].length){var w=u[p],x=this.traces[p],b=x.passes,A=x.passOffset;b=b.map(function(g,I){v[A+I]=w})}(l=this.scatter).draw.apply(l,v)}else this.scatter.draw();return this},i.prototype.destroy=function(){return this.traces.forEach(function(l){l.buffer&&l.buffer.destroy&&l.buffer.destroy()}),this.traces=null,this.passes=null,this.scatter.destroy(),this}},98580:function(ae){ae.exports=function(){function B(Je,ot){this.id=ce++,this.type=Je,this.data=ot}function r(Je){if(0===Je.length)return[];var ot=Je.charAt(0),gt=Je.charAt(Je.length-1);if(1<Je.length&&ot===gt&&('"'===ot||"'"===ot))return['"'+Je.substr(1,Je.length-2).replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'];if(ot=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(Je))return r(Je.substr(0,ot.index)).concat(r(ot[1])).concat(r(Je.substr(ot.index+ot[0].length)));if(1===(ot=Je.split(".")).length)return['"'+Je.replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'];for(Je=[],gt=0;gt<ot.length;++gt)Je=Je.concat(r(ot[gt]));return Je}function D(Je){return"["+r(Je).join("][")+"]"}function E(Je){return"string"==typeof Je?Je.split():Je}function f(Je){return"string"==typeof Je?document.querySelector(Je):Je}function M(Je,ot){for(var gt=Array(Je),ft=0;ft<Je;++ft)gt[ft]=ot(ft);return gt}function y(Je){var ot,gt;return ot=(65535<Je)<<4,ot|=gt=(255<(Je>>>=ot))<<3,(ot|=gt=(15<(Je>>>=gt))<<2)|(gt=(3<(Je>>>=gt))<<1)|Je>>>gt>>1}function c(){function Je(ft){e:{for(var Ue=16;268435456>=Ue;Ue*=16)if(ft<=Ue){ft=Ue;break e}ft=0}return 0<(Ue=gt[y(ft)>>2]).length?Ue.pop():new ArrayBuffer(ft)}function ot(ft){gt[y(ft.byteLength)>>2].push(ft)}var gt=M(8,function(){return[]});return{alloc:Je,free:ot,allocType:function(ft,Ue){var $e=null;switch(ft){case 5120:$e=new Int8Array(Je(Ue),0,Ue);break;case 5121:$e=new Uint8Array(Je(Ue),0,Ue);break;case 5122:$e=new Int16Array(Je(2*Ue),0,Ue);break;case 5123:$e=new Uint16Array(Je(2*Ue),0,Ue);break;case 5124:$e=new Int32Array(Je(4*Ue),0,Ue);break;case 5125:$e=new Uint32Array(Je(4*Ue),0,Ue);break;case 5126:$e=new Float32Array(Je(4*Ue),0,Ue);break;default:return null}return $e.length!==Ue?$e.subarray(0,Ue):$e},freeType:function(ft){ot(ft.buffer)}}}function i(Je){return!!Je&&"object"==typeof Je&&Array.isArray(Je.shape)&&Array.isArray(Je.stride)&&"number"==typeof Je.offset&&Je.shape.length===Je.stride.length&&(Array.isArray(Je.data)||be(Je.data))}function s(Je,ot,gt,ft,Ue,$e){for(var dt=0;dt<ot;++dt)for(var ut=Je[dt],At=0;At<gt;++At)for(var wt=ut[At],St=0;St<ft;++St)Ue[$e++]=wt[St]}function a(Je,ot,gt,ft,Ue){for(var $e=1,dt=gt+1;dt<ot.length;++dt)$e*=ot[dt];var ut=ot[gt];if(ot.length-gt==4){var At=ot[gt+1],wt=ot[gt+2];for(ot=ot[gt+3],dt=0;dt<ut;++dt)s(Je[dt],At,wt,ot,ft,Ue),Ue+=$e}else for(dt=0;dt<ut;++dt)a(Je[dt],ot,gt+1,ft,Ue),Ue+=$e}function o(Je){return 0|ze[Object.prototype.toString.call(Je)]}function l(Je,ot){for(var gt=0;gt<ot.length;++gt)Je[gt]=ot[gt]}function u(Je,ot,gt,ft,Ue,$e,dt){for(var ut=0,At=0;At<gt;++At)for(var wt=0;wt<ft;++wt)Je[ut++]=ot[Ue*At+$e*wt+dt]}function p(Je){for(var ot=Me.allocType(5123,Je.length),gt=0;gt<Je.length;++gt)if(isNaN(Je[gt]))ot[gt]=65535;else if(Je[gt]===1/0)ot[gt]=31744;else if(Je[gt]===-1/0)ot[gt]=64512;else{Ie[0]=Je[gt];var ft=($e=De[0])>>>31<<15,Ue=($e<<1>>>24)-127,$e=$e>>13&1023;ot[gt]=-24>Ue?ft:-14>Ue?ft+($e+1024>>-14-Ue):15<Ue?ft+31744:ft+(Ue+15<<10)+$e}return ot}function T(Je){return Array.isArray(Je)||be(Je)}function _(Je){return"[object "+Je+"]"}function m(Je){return Array.isArray(Je)&&(0===Je.length||"number"==typeof Je[0])}function w(Je){return!(!Array.isArray(Je)||0===Je.length||!T(Je[0]))}function x(Je){return Object.prototype.toString.call(Je)}function b(Je){if(!Je)return!1;var ot=x(Je);return 0<=et.indexOf(ot)||m(Je)||w(Je)||i(Je)}function A(Je,ot){36193===Je.type?(Je.data=p(ot),Me.freeType(ot)):Je.data=ot}function g(Je,ot,gt,ft,Ue,$e){if(Je=void 0!==mt[Je]?mt[Je]:ve[Je]*at[ot],$e&&(Je*=6),Ue){for(ft=0;1<=gt;)ft+=Je*gt*gt,gt/=2;return ft}return Je*gt*ft}function O(){this.w=this.z=this.y=this.x=this.state=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=5126,this.divisor=this.stride=this.offset=0}function j(Je,ot){return Je>>>ot|Je<<32-ot}function X(Je,ot){var gt=(65535&Je)+(65535&ot);return(Je>>16)+(ot>>16)+(gt>>16)<<16|65535&gt}function F(Je){return Array.prototype.slice.call(Je)}function Y(Je){return F(Je).join("")}function H(Je){return Array.isArray(Je)||be(Je)||i(Je)}function W(Je){return Je.sort(function(ot,gt){return"viewport"===ot?-1:"viewport"===gt?1:ot<gt?-1:1})}function Z(Je,ot,gt,ft){this.thisDep=Je,this.contextDep=ot,this.propDep=gt,this.append=ft}function se(Je){return Je&&!(Je.thisDep||Je.contextDep||Je.propDep)}function re(Je){return new Z(!1,!1,!1,Je)}function ne(Je,ot){var gt=Je.type;if(0===gt)return new Z(!0,1<=(gt=Je.data.length),2<=gt,ot);if(4===gt)return new Z((gt=Je.data).thisDep,gt.contextDep,gt.propDep,ot);if(5===gt)return new Z(!1,!1,!1,ot);if(6===gt){for(var ft=gt=!1,Ue=!1,$e=0;$e<Je.data.length;++$e){var dt=Je.data[$e];1===dt.type?Ue=!0:2===dt.type?ft=!0:3===dt.type?gt=!0:0===dt.type?(gt=!0,1<=(dt=dt.data)&&(ft=!0),2<=dt&&(Ue=!0)):4===dt.type&&(gt=gt||dt.data.thisDep,ft=ft||dt.data.contextDep,Ue=Ue||dt.data.propDep)}return new Z(gt,ft,Ue,ot)}return new Z(3===gt,2===gt,1===gt,ot)}function Q(Je,ot,gt,ft,Ue,$e,dt,ut,At,wt,St,_t,Rt,bt,Tt,It){function Wt(Ft){return Ft.replace(".","_")}function $t(Ft,an,hn){var Dn=Wt(Ft);sr.push(Ft),Bn[Dn]=Cn[Dn]=!!hn,yn[Dn]=an}function Qt(Ft,an,hn){var Dn=Wt(Ft);sr.push(Ft),Array.isArray(hn)?(Cn[Dn]=hn.slice(),Bn[Dn]=hn.slice()):Cn[Dn]=Bn[Dn]=hn,Zn[Dn]=an}function pn(){var Ft=function G(Je){function ot(){var St=[],_t=[];return oe(function(){St.push.apply(St,F(arguments))},{def:function(){var Rt="v"+Ue++;return _t.push(Rt),0<arguments.length&&(St.push(Rt,"="),St.push.apply(St,F(arguments)),St.push(";")),Rt},toString:function(){return Y([0<_t.length?"var "+_t.join(",")+";":"",Y(St)])}})}function gt(){function St(It,Wt){Rt(It,Wt,"=",_t.def(It,Wt),";")}var _t=ot(),Rt=ot(),bt=_t.toString,Tt=Rt.toString;return oe(function(){_t.apply(_t,F(arguments))},{def:_t.def,entry:_t,exit:Rt,save:St,set:function(It,Wt,$t){St(It,Wt),_t(It,Wt,"=",$t,";")},toString:function(){return bt()+Tt()}})}var ft=Je&&Je.cache,Ue=0,$e=[],dt=[],ut=[],At=ot(),wt={};return{global:At,link:function(St,_t){var Rt=_t&&_t.stable;if(!Rt)for(var bt=0;bt<dt.length;++bt)if(dt[bt]===St&&!ut[bt])return $e[bt];return bt="g"+Ue++,$e.push(bt),dt.push(St),ut.push(Rt),bt},block:ot,proc:function(St,_t){function Rt(){var Wt="a"+bt.length;return bt.push(Wt),Wt}var bt=[];_t=_t||0;for(var Tt=0;Tt<_t;++Tt)Rt();var It=(Tt=gt()).toString;return wt[St]=oe(Tt,{arg:Rt,toString:function(){return Y(["function(",bt.join(),"){",It(),"}"])}})},scope:gt,cond:function(){var St=Y(arguments),_t=gt(),Rt=gt(),bt=_t.toString,Tt=Rt.toString;return oe(_t,{then:function(){return _t.apply(_t,F(arguments)),this},else:function(){return Rt.apply(Rt,F(arguments)),this},toString:function(){var It=Tt();return It&&(It="else{"+It+"}"),Y(["if(",St,"){",bt(),"}",It])}})},compile:function(){var St=['"use strict";',At,"return {"];Object.keys(wt).forEach(function(bt){St.push('"',bt,'":',wt[bt].toString(),",")}),St.push("}");var _t,Rt=Y(St).replace(/;/g,";\n").replace(/}/g,"}\n").replace(/{/g,"{\n");return ft&&(_t=function(bt){for(var Tt,It="",Wt=0;Wt<bt.length;Wt++)Tt=bt.charCodeAt(Wt),It+="0123456789abcdef".charAt(Tt>>>4&15)+"0123456789abcdef".charAt(15&Tt);return It}(function(bt){for(var Tt=Array(bt.length>>2),It=0;It<Tt.length;It++)Tt[It]=0;for(It=0;It<8*bt.length;It+=8)Tt[It>>5]|=(255&bt.charCodeAt(It/8))<<24-It%32;var Wt,$t,Qt,pn,en,nn,fn,On,Un,Sn,on,vn=8*bt.length;for(bt=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225],It=Array(64),Tt[vn>>5]|=128<<24-vn%32,Tt[15+(vn+64>>9<<4)]=vn,On=0;On<Tt.length;On+=16){for(vn=bt[0],Wt=bt[1],$t=bt[2],Qt=bt[3],pn=bt[4],en=bt[5],nn=bt[6],fn=bt[7],Un=0;64>Un;Un++){var un;16>Un?It[Un]=Tt[Un+On]:(Sn=Un,on=X(on=j(on=It[Un-2],17)^j(on,19)^on>>>10,It[Un-7]),un=j(un=It[Un-15],7)^j(un,18)^un>>>3,It[Sn]=X(X(on,un),It[Un-16])),Sn=X(X(X(X(fn,Sn=j(Sn=pn,6)^j(Sn,11)^j(Sn,25)),pn&en^~pn&nn),ht[Un]),It[Un]),on=X(fn=j(fn=vn,2)^j(fn,13)^j(fn,22),vn&Wt^vn&$t^Wt&$t),fn=nn,nn=en,en=pn,pn=X(Qt,Sn),Qt=$t,$t=Wt,Wt=vn,vn=X(Sn,on)}bt[0]=X(vn,bt[0]),bt[1]=X(Wt,bt[1]),bt[2]=X($t,bt[2]),bt[3]=X(Qt,bt[3]),bt[4]=X(pn,bt[4]),bt[5]=X(en,bt[5]),bt[6]=X(nn,bt[6]),bt[7]=X(fn,bt[7])}for(Tt="",It=0;It<32*bt.length;It+=8)Tt+=String.fromCharCode(bt[It>>5]>>>24-It%32&255);return Tt}(function(bt){for(var Tt,It,Wt="",$t=-1;++$t<bt.length;)Tt=bt.charCodeAt($t),It=$t+1<bt.length?bt.charCodeAt($t+1):0,55296<=Tt&&56319>=Tt&&56320<=It&&57343>=It&&(Tt=65536+((1023&Tt)<<10)+(1023&It),$t++),127>=Tt?Wt+=String.fromCharCode(Tt):2047>=Tt?Wt+=String.fromCharCode(192|Tt>>>6&31,128|63&Tt):65535>=Tt?Wt+=String.fromCharCode(224|Tt>>>12&15,128|Tt>>>6&63,128|63&Tt):2097151>=Tt&&(Wt+=String.fromCharCode(240|Tt>>>18&7,128|Tt>>>12&63,128|Tt>>>6&63,128|63&Tt));return Wt}(Rt))),ft[_t])?ft[_t].apply(null,dt):(Rt=Function.apply(null,$e.concat(Rt)),ft&&(ft[_t]=Rt),Rt.apply(null,dt))}}}({cache:Tt}),an=Ft.link,hn=Ft.global;Ft.id=Nn++,Ft.batchId="0";var Dn=an(Xn),Ln=Ft.shared={props:"a0"};Object.keys(Xn).forEach(function(wn){Ln[wn]=hn.def(Dn,".",wn)});var Vn=Ft.next={},Mn=Ft.current={};Object.keys(Zn).forEach(function(wn){Array.isArray(Cn[wn])&&(Vn[wn]=hn.def(Ln.next,".",wn),Mn[wn]=hn.def(Ln.current,".",wn))});var ln=Ft.constants={};Object.keys(Jt).forEach(function(wn){ln[wn]=hn.def(JSON.stringify(Jt[wn]))}),Ft.invoke=function(wn,An){switch(An.type){case 0:var Gn=["this",Ln.context,Ln.props,Ft.batchId];return wn.def(an(An.data),".call(",Gn.slice(0,Math.max(An.data.length+1,4)),")");case 1:return wn.def(Ln.props,An.data);case 2:return wn.def(Ln.context,An.data);case 3:return wn.def("this",An.data);case 4:return An.data.append(Ft,wn),An.data.ref;case 5:return An.data.toString();case 6:return An.data.map(function(Yn){return Ft.invoke(wn,Yn)})}},Ft.attribCache={};var cn={};return Ft.scopeAttrib=function(wn){if((wn=ot.id(wn))in cn)return cn[wn];var An=wt.scope[wn];return An||(An=wt.scope[wn]=new mr),cn[wn]=an(An)},Ft}function Un(Ft,an,hn,Dn,Ln){function Vn(_r){var ur=ln[_r];ur&&(wn[_r]=ur)}var _r,or,Tr,Mr,Mn=function(_r,ur){if("string"==typeof(or=_r.static).frag&&"string"==typeof or.vert){if(0<Object.keys(ur.dynamic).length)return null;var or=ur.static,Tr=Object.keys(or);if(0<Tr.length&&"number"==typeof or[Tr[0]]){for(var Mr=[],Or=0;Or<Tr.length;++Or)Mr.push([0|or[Tr[Or]],Tr[Or]]);return Mr}}return null}(Ft,an),ln=function(_r,ur,or){function Tr(Yr){if(Yr in Mr){var nr=Mr[Yr];Yr=!0;var Fr,ri,$i=0|nr.x,uo=0|nr.y;return"width"in nr?Fr=0|nr.width:Yr=!1,"height"in nr?ri=0|nr.height:Yr=!1,new Z(!Yr&&ur&&ur.thisDep,!Yr&&ur&&ur.contextDep,!Yr&&ur&&ur.propDep,function(oo,Qi){var Io=oo.shared.context,Ys=Fr;"width"in nr||(Ys=Qi.def(Io,".","framebufferWidth","-",$i));var di=ri;return"height"in nr||(di=Qi.def(Io,".","framebufferHeight","-",uo)),[$i,uo,Ys,di]})}if(Yr in Or){var to=Or[Yr];return Yr=ne(to,function(oo,Qi){var Io=oo.invoke(Qi,to),Ys=oo.shared.context,di=Qi.def(Io,".x|0"),Fs=Qi.def(Io,".y|0");return[di,Fs,Qi.def('"width" in ',Io,"?",Io,".width|0:","(",Ys,".","framebufferWidth","-",di,")"),Io=Qi.def('"height" in ',Io,"?",Io,".height|0:","(",Ys,".","framebufferHeight","-",Fs,")")]}),ur&&(Yr.thisDep=Yr.thisDep||ur.thisDep,Yr.contextDep=Yr.contextDep||ur.contextDep,Yr.propDep=Yr.propDep||ur.propDep),Yr}return ur?new Z(ur.thisDep,ur.contextDep,ur.propDep,function(oo,Qi){var Io=oo.shared.context;return[0,0,Qi.def(Io,".","framebufferWidth"),Qi.def(Io,".","framebufferHeight")]}):null}var Mr=_r.static,Or=_r.dynamic;if(_r=Tr("viewport")){var Qn=_r;_r=new Z(_r.thisDep,_r.contextDep,_r.propDep,function(Yr,nr){var Fr=Qn.append(Yr,nr),ri=Yr.shared.context;return nr.set(ri,".viewportWidth",Fr[2]),nr.set(ri,".viewportHeight",Fr[3]),Fr})}return{viewport:_r,scissor_box:Tr("scissor.box")}}(Ft,Gn=function en(Ft,an){var hn=Ft.static,Dn=Ft.dynamic;if("framebuffer"in hn){var Ln=hn.framebuffer;return Ln?(Ln=ut.getFramebuffer(Ln),re(function(Mn,ln){var cn=Mn.link(Ln),wn=Mn.shared;return ln.set(wn.framebuffer,".next",cn),ln.set(wn=wn.context,".framebufferWidth",cn+".width"),ln.set(wn,".framebufferHeight",cn+".height"),cn})):re(function(Mn,ln){var cn=Mn.shared;return ln.set(cn.framebuffer,".next","null"),ln.set(cn=cn.context,".framebufferWidth",cn+".drawingBufferWidth"),ln.set(cn,".framebufferHeight",cn+".drawingBufferHeight"),"null"})}if("framebuffer"in Dn){var Vn=Dn.framebuffer;return ne(Vn,function(Mn,ln){var cn=Mn.invoke(ln,Vn),wn=Mn.shared,An=wn.framebuffer;return cn=ln.def(An,".getFramebuffer(",cn,")"),ln.set(An,".next",cn),ln.set(wn=wn.context,".framebufferWidth",cn+"?"+cn+".width:"+wn+".drawingBufferWidth"),ln.set(wn,".framebufferHeight",cn+"?"+cn+".height:"+wn+".drawingBufferHeight"),cn})}return null}(Ft)),cn=function fn(Ft,an){function hn(ir,_r){if(ir in Dn){var ur=0|Dn[ir];return _r?Vn.offset=ur:Vn.instances=ur,re(function(Tr,Mr){return _r&&(Tr.OFFSET=ur),ur})}if(ir in Ln){var or=Ln[ir];return ne(or,function(Tr,Mr){var Or=Tr.invoke(Mr,or);return _r&&(Tr.OFFSET=Or),Or})}if(_r){if(cn)return re(function(Tr,Mr){return Tr.OFFSET=0});if(Mn)return new Z(ln.thisDep,ln.contextDep,ln.propDep,function(Tr,Mr){return Mr.def(Tr.shared.vao+".currentVAO?"+Tr.shared.vao+".currentVAO.offset:0")})}else if(Mn)return new Z(ln.thisDep,ln.contextDep,ln.propDep,function(Tr,Mr){return Mr.def(Tr.shared.vao+".currentVAO?"+Tr.shared.vao+".currentVAO.instances:-1")});return null}var Dn=Ft.static,Ln=Ft.dynamic,Vn={},Mn=!1,ln=function(){if("vao"in Dn){var ir=Dn.vao;return null!==ir&&null===wt.getVAO(ir)&&(ir=wt.createVAO(ir)),Mn=!0,Vn.vao=ir,re(function(ur){var or=wt.getVAO(ir);return or?ur.link(or):"null"})}if("vao"in Ln){Mn=!0;var _r=Ln.vao;return ne(_r,function(ur,or){var Tr=ur.invoke(or,_r);return or.def(ur.shared.vao+".getVAO("+Tr+")")})}return null}(),cn=!1,wn=function(){if("elements"in Dn){var ir=Dn.elements;if(Vn.elements=ir,H(ir)){var _r=Vn.elements=$e.create(ir,!0);ir=$e.getElements(_r),cn=!0}else ir&&(ir=$e.getElements(ir),cn=!0);return(_r=re(function(or,Tr){if(ir){var Mr=or.link(ir);return or.ELEMENTS=Mr}return or.ELEMENTS=null})).value=ir,_r}if("elements"in Ln){cn=!0;var ur=Ln.elements;return ne(ur,function(or,Tr){var Mr=(Or=or.shared).isBufferArgs,Or=Or.elements,Qn=or.invoke(Tr,ur),Yr=Tr.def("null");return Mr=Tr.def(Mr,"(",Qn,")"),Qn=or.cond(Mr).then(Yr,"=",Or,".createStream(",Qn,");").else(Yr,"=",Or,".getElements(",Qn,");"),Tr.entry(Qn),Tr.exit(or.cond(Mr).then(Or,".destroyStream(",Yr,");")),or.ELEMENTS=Yr})}return Mn?new Z(ln.thisDep,ln.contextDep,ln.propDep,function(or,Tr){return Tr.def(or.shared.vao+".currentVAO?"+or.shared.elements+".getElements("+or.shared.vao+".currentVAO.elements):null")}):null}(),An=hn("offset",!0),Gn=function(){if("primitive"in Dn){var ir=Dn.primitive;return Vn.primitive=ir,re(function(ur,or){return Le[ir]})}if("primitive"in Ln){var _r=Ln.primitive;return ne(_r,function(ur,or){var Tr=ur.constants.primTypes,Mr=ur.invoke(or,_r);return or.def(Tr,"[",Mr,"]")})}return cn?se(wn)?re(wn.value?function(ur,or){return or.def(ur.ELEMENTS,".primType")}:function(){return 4}):new Z(wn.thisDep,wn.contextDep,wn.propDep,function(ur,or){var Tr=ur.ELEMENTS;return or.def(Tr,"?",Tr,".primType:",4)}):Mn?new Z(ln.thisDep,ln.contextDep,ln.propDep,function(ur,or){return or.def(ur.shared.vao+".currentVAO?"+ur.shared.vao+".currentVAO.primitive:4")}):null}(),Yn=function(){if("count"in Dn){var ir=0|Dn.count;return Vn.count=ir,re(function(){return ir})}if("count"in Ln){var _r=Ln.count;return ne(_r,function(ur,or){return ur.invoke(or,_r)})}return cn?se(wn)?wn?An?new Z(An.thisDep,An.contextDep,An.propDep,function(ur,or){return or.def(ur.ELEMENTS,".vertCount-",ur.OFFSET)}):re(function(ur,or){return or.def(ur.ELEMENTS,".vertCount")}):re(function(){return-1}):new Z(wn.thisDep||An.thisDep,wn.contextDep||An.contextDep,wn.propDep||An.propDep,function(ur,or){var Tr=ur.ELEMENTS;return ur.OFFSET?or.def(Tr,"?",Tr,".vertCount-",ur.OFFSET,":-1"):or.def(Tr,"?",Tr,".vertCount:-1")}):Mn?new Z(ln.thisDep,ln.contextDep,ln.propDep,function(ur,or){return or.def(ur.shared.vao,".currentVAO?",ur.shared.vao,".currentVAO.count:-1")}):null}(),hr=hn("instances",!1);return{elements:wn,primitive:Gn,count:Yn,instances:hr,offset:An,vao:ln,vaoActive:Mn,elementsActive:cn,static:Vn}}(Ft),wn=(or=(_r=Ft).static,Tr=_r.dynamic,Mr={},sr.forEach(function(Or){function Qn(nr,Fr){if(Or in or){var ri=nr(or[Or]);Mr[Yr]=re(function(){return ri})}else if(Or in Tr){var $i=Tr[Or];Mr[Yr]=ne($i,function(uo,to){return Fr(uo,to,uo.invoke(to,$i))})}}var Yr=Wt(Or);switch(Or){case"cull.enable":case"blend.enable":case"dither":case"stencil.enable":case"depth.enable":case"scissor.enable":case"polygonOffset.enable":case"sample.alpha":case"sample.enable":case"depth.mask":case"lineWidth":return Qn(function(nr){return nr},function(nr,Fr,ri){return ri});case"depth.func":return Qn(function(nr){return Ht[nr]},function(nr,Fr,ri){return Fr.def(nr.constants.compareFuncs,"[",ri,"]")});case"depth.range":return Qn(function(nr){return nr},function(nr,Fr,ri){return[Fr.def("+",ri,"[0]"),Fr=Fr.def("+",ri,"[1]")]});case"blend.func":return Qn(function(nr){return[zt["srcRGB"in nr?nr.srcRGB:nr.src],zt["dstRGB"in nr?nr.dstRGB:nr.dst],zt["srcAlpha"in nr?nr.srcAlpha:nr.src],zt["dstAlpha"in nr?nr.dstAlpha:nr.dst]]},function(nr,Fr,ri){function $i(Qi,Io){return Fr.def('"',Qi,Io,'" in ',ri,"?",ri,".",Qi,Io,":",ri,".",Qi)}nr=nr.constants.blendFuncs;var uo=$i("src","RGB"),to=$i("dst","RGB"),oo=(uo=Fr.def(nr,"[",uo,"]"),Fr.def(nr,"[",$i("src","Alpha"),"]"));return[uo,to=Fr.def(nr,"[",to,"]"),oo,nr=Fr.def(nr,"[",$i("dst","Alpha"),"]")]});case"blend.equation":return Qn(function(nr){return"string"==typeof nr?[Ir[nr],Ir[nr]]:"object"==typeof nr?[Ir[nr.rgb],Ir[nr.alpha]]:void 0},function(nr,Fr,ri){var $i=nr.constants.blendEquations,uo=Fr.def(),to=Fr.def();return(nr=nr.cond("typeof ",ri,'==="string"')).then(uo,"=",to,"=",$i,"[",ri,"];"),nr.else(uo,"=",$i,"[",ri,".rgb];",to,"=",$i,"[",ri,".alpha];"),Fr(nr),[uo,to]});case"blend.color":return Qn(function(nr){return M(4,function(Fr){return+nr[Fr]})},function(nr,Fr,ri){return M(4,function($i){return Fr.def("+",ri,"[",$i,"]")})});case"stencil.mask":return Qn(function(nr){return 0|nr},function(nr,Fr,ri){return Fr.def(ri,"|0")});case"stencil.func":return Qn(function(nr){return[Ht[nr.cmp||"keep"],nr.ref||0,"mask"in nr?nr.mask:-1]},function(nr,Fr,ri){return[nr=Fr.def('"cmp" in ',ri,"?",nr.constants.compareFuncs,"[",ri,".cmp]",":",7680),Fr.def(ri,".ref|0"),Fr=Fr.def('"mask" in ',ri,"?",ri,".mask|0:-1")]});case"stencil.opFront":case"stencil.opBack":return Qn(function(nr){return["stencil.opBack"===Or?1029:1028,Lt[nr.fail||"keep"],Lt[nr.zfail||"keep"],Lt[nr.zpass||"keep"]]},function(nr,Fr,ri){function $i(to){return Fr.def('"',to,'" in ',ri,"?",uo,"[",ri,".",to,"]:",7680)}var uo=nr.constants.stencilOps;return["stencil.opBack"===Or?1029:1028,$i("fail"),$i("zfail"),$i("zpass")]});case"polygonOffset.offset":return Qn(function(nr){return[0|nr.factor,0|nr.units]},function(nr,Fr,ri){return[Fr.def(ri,".factor|0"),Fr=Fr.def(ri,".units|0")]});case"cull.face":return Qn(function(nr){var Fr=0;return"front"===nr?Fr=1028:"back"===nr&&(Fr=1029),Fr},function(nr,Fr,ri){return Fr.def(ri,'==="front"?',1028,":",1029)});case"frontFace":return Qn(function(nr){return tt[nr]},function(nr,Fr,ri){return Fr.def(ri+'==="cw"?2304:2305')});case"colorMask":return Qn(function(nr){return nr.map(function(Fr){return!!Fr})},function(nr,Fr,ri){return M(4,function($i){return"!!"+ri+"["+$i+"]"})});case"sample.coverage":return Qn(function(nr){return["value"in nr?nr.value:1,!!nr.invert]},function(nr,Fr,ri){return[Fr.def('"value" in ',ri,"?+",ri,".value:1"),Fr=Fr.def("!!",ri,".invert")]})}}),Mr),An=function nn(Ft,an,hn){function Dn(wn){if(wn in Ln){var An=ot.id(Ln[wn]);return(wn=re(function(){return An})).id=An,wn}if(wn in Vn){var Gn=Vn[wn];return ne(Gn,function(Yn,hr){var ir=Yn.invoke(hr,Gn);return hr.def(Yn.shared.strings,".id(",ir,")")})}return null}var Ln=Ft.static,Vn=Ft.dynamic,Mn=Dn("frag"),ln=Dn("vert"),cn=null;return se(Mn)&&se(ln)?(cn=St.program(ln.id,Mn.id,null,hn),Ft=re(function(wn,An){return wn.link(cn)})):Ft=new Z(Mn&&Mn.thisDep||ln&&ln.thisDep,Mn&&Mn.contextDep||ln&&ln.contextDep,Mn&&Mn.propDep||ln&&ln.propDep,function(wn,An){var Gn,Yn,hr=wn.shared.shader;return Gn=Mn?Mn.append(wn,An):An.def(hr,".","frag"),Yn=ln?ln.append(wn,An):An.def(hr,".","vert"),An.def(hr+".program("+Yn+","+Gn+")")}),{frag:Mn,vert:ln,progVar:Ft,program:cn}}(Ft,0,Mn);Vn("viewport"),Vn(Wt("scissor.box"));var Gn,Yn=0<Object.keys(wn).length;if((Gn={framebuffer:Gn,draw:cn,shader:An,state:wn,dirty:Yn,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}}).profile=function(_r){var ur,or=_r.static;if(_r=_r.dynamic,"profile"in or){var Tr=!!or.profile;(ur=re(function(Or,Qn){return Tr})).enable=Tr}else if("profile"in _r){var Mr=_r.profile;ur=ne(Mr,function(Or,Qn){return Or.invoke(Qn,Mr)})}return ur}(Ft),Gn.uniforms=function(_r,ur){var or=_r.static,Tr=_r.dynamic,Mr={};return Object.keys(or).forEach(function(Or){var Qn,Yr=or[Or];if("number"==typeof Yr||"boolean"==typeof Yr)Qn=re(function(){return Yr});else if("function"==typeof Yr){var nr=Yr._reglType;"texture2d"===nr||"textureCube"===nr?Qn=re(function(Fr){return Fr.link(Yr)}):"framebuffer"!==nr&&"framebufferCube"!==nr||(Qn=re(function(Fr){return Fr.link(Yr.color[0])}))}else T(Yr)&&(Qn=re(function(Fr){return Fr.global.def("[",M(Yr.length,function(ri){return Yr[ri]}),"]")}));Qn.value=Yr,Mr[Or]=Qn}),Object.keys(Tr).forEach(function(Or){var Qn=Tr[Or];Mr[Or]=ne(Qn,function(Yr,nr){return Yr.invoke(nr,Qn)})}),Mr}(hn),Gn.drawVAO=Gn.scopeVAO=cn.vao,!Gn.drawVAO&&An.program&&!Mn&&gt.angle_instanced_arrays&&cn.static.elements){var hr=!0;if(Ft=An.program.attributes.map(function(_r){return _r=an.static[_r],hr=hr&&!!_r,_r}),hr&&0<Ft.length){var ir=wt.getVAO(wt.createVAO({attributes:Ft,elements:cn.static.elements}));Gn.drawVAO=new Z(null,null,null,function(_r,ur){return _r.link(ir)}),Gn.useVAO=!0}}return Mn?Gn.useVAO=!0:Gn.attributes=function On(Ft,an){var hn=Ft.static,Dn=Ft.dynamic,Ln={};return Object.keys(hn).forEach(function(Vn){var Mn=hn[Vn],ln=ot.id(Vn),cn=new mr;if(H(Mn))cn.state=1,cn.buffer=Ue.getBuffer(Ue.create(Mn,34962,!1,!0)),cn.type=0;else if(An=Ue.getBuffer(Mn))cn.state=1,cn.buffer=An,cn.type=0;else if("constant"in Mn){var wn=Mn.constant;cn.buffer="null",cn.state=2,"number"==typeof wn?cn.x=wn:pt.forEach(function(ur,or){or<wn.length&&(cn[ur]=wn[or])})}else{var An=H(Mn.buffer)?Ue.getBuffer(Ue.create(Mn.buffer,34962,!1,!0)):Ue.getBuffer(Mn.buffer),Gn=0|Mn.offset,Yn=0|Mn.stride,hr=0|Mn.size,ir=!!Mn.normalized,_r=0;"type"in Mn&&(_r=Se[Mn.type]),Mn=0|Mn.divisor,cn.buffer=An,cn.state=1,cn.size=hr,cn.normalized=ir,cn.type=_r||An.dtype,cn.offset=Gn,cn.stride=Yn,cn.divisor=Mn}Ln[Vn]=re(function(ur,or){var Tr=ur.attribCache;if(ln in Tr)return Tr[ln];var Mr={isStream:!1};return Object.keys(cn).forEach(function(Or){Mr[Or]=cn[Or]}),cn.buffer&&(Mr.buffer=ur.link(cn.buffer),Mr.type=Mr.type||Mr.buffer+".dtype"),Tr[ln]=Mr})}),Object.keys(Dn).forEach(function(Vn){var Mn=Dn[Vn];Ln[Vn]=ne(Mn,function(ln,cn){function wn(Tr){cn(ir[Tr],"=",An,".",Tr,"|0;")}var An=ln.invoke(cn,Mn),Gn=ln.shared,Yn=ln.constants,hr=Gn.isBufferArgs,ir=(Gn=Gn.buffer,{isStream:cn.def(!1)}),_r=new mr;_r.state=1,Object.keys(_r).forEach(function(Tr){ir[Tr]=cn.def(""+_r[Tr])});var ur=ir.buffer,or=ir.type;return cn("if(",hr,"(",An,")){",ir.isStream,"=true;",ur,"=",Gn,".createStream(",34962,",",An,");",or,"=",ur,".dtype;","}else{",ur,"=",Gn,".getBuffer(",An,");","if(",ur,"){",or,"=",ur,".dtype;",'}else if("constant" in ',An,"){",ir.state,"=",2,";","if(typeof "+An+'.constant === "number"){',ir[pt[0]],"=",An,".constant;",pt.slice(1).map(function(Tr){return ir[Tr]}).join("="),"=0;","}else{",pt.map(function(Tr,Mr){return ir[Tr]+"="+An+".constant.length>"+Mr+"?"+An+".constant["+Mr+"]:0;"}).join(""),"}}else{","if(",hr,"(",An,".buffer)){",ur,"=",Gn,".createStream(",34962,",",An,".buffer);","}else{",ur,"=",Gn,".getBuffer(",An,".buffer);","}",or,'="type" in ',An,"?",Yn.glTypes,"[",An,".type]:",ur,".dtype;",ir.normalized,"=!!",An,".normalized;"),wn("size"),wn("offset"),wn("stride"),wn("divisor"),cn("}}"),cn.exit("if(",ir.isStream,"){",Gn,".destroyStream(",ur,");","}"),ir})}),Ln}(an),Gn.context=function(_r){var ur=_r.static,or=_r.dynamic,Tr={};return Object.keys(ur).forEach(function(Mr){var Or=ur[Mr];Tr[Mr]=re(function(Qn,Yr){return"number"==typeof Or||"boolean"==typeof Or?""+Or:Qn.link(Or)})}),Object.keys(or).forEach(function(Mr){var Or=or[Mr];Tr[Mr]=ne(Or,function(Qn,Yr){return Qn.invoke(Yr,Or)})}),Tr}(Dn),Gn}function Sn(Ft,an,hn){var Dn=Ft.shared.context,Ln=Ft.scope();Object.keys(hn).forEach(function(Vn){an.save(Dn,"."+Vn);var Mn=hn[Vn].append(Ft,an);Array.isArray(Mn)?Ln(Dn,".",Vn,"=[",Mn.join(),"];"):Ln(Dn,".",Vn,"=",Mn,";")}),an(Ln)}function on(Ft,an,hn,Dn){var Ln,Vn=(ln=Ft.shared).gl,Mn=ln.framebuffer;tn&&(Ln=an.def(ln.extensions,".webgl_draw_buffers"));var ln=(cn=Ft.constants).drawBuffer,cn=cn.backBuffer;Ft=hn?hn.append(Ft,an):an.def(Mn,".next"),Dn||an("if(",Ft,"!==",Mn,".cur){"),an("if(",Ft,"){",Vn,".bindFramebuffer(",36160,",",Ft,".framebuffer);"),tn&&an(Ln,".drawBuffersWEBGL(",ln,"[",Ft,".colorAttachments.length]);"),an("}else{",Vn,".bindFramebuffer(",36160,",null);"),tn&&an(Ln,".drawBuffersWEBGL(",cn,");"),an("}",Mn,".cur=",Ft,";"),Dn||an("}")}function vn(Ft,an,hn){var Dn=Ft.shared,Ln=Dn.gl,Vn=Ft.current,Mn=Ft.next,ln=Dn.current,cn=Dn.next,wn=Ft.cond(ln,".dirty");sr.forEach(function(An){var Gn,Yn;if(!((An=Wt(An))in hn.state))if(An in Mn){Gn=Mn[An],Yn=Vn[An];var hr=M(Cn[An].length,function(ir){return wn.def(Gn,"[",ir,"]")});wn(Ft.cond(hr.map(function(ir,_r){return ir+"!=="+Yn+"["+_r+"]"}).join("||")).then(Ln,".",Zn[An],"(",hr,");",hr.map(function(ir,_r){return Yn+"["+_r+"]="+ir}).join(";"),";"))}else Gn=wn.def(cn,".",An),hr=Ft.cond(Gn,"!==",ln,".",An),wn(hr),An in yn?hr(Ft.cond(Gn).then(Ln,".enable(",yn[An],");").else(Ln,".disable(",yn[An],");"),ln,".",An,"=",Gn,";"):hr(Ln,".",Zn[An],"(",Gn,");",ln,".",An,"=",Gn,";")}),0===Object.keys(hn.state).length&&wn(ln,".dirty=false;"),an(wn)}function un(Ft,an,hn,Dn){var Ln,Vn=Ft.shared,Mn=Ft.current,ln=Vn.current,cn=Vn.gl;W(Object.keys(hn)).forEach(function(wn){var An=hn[wn];if(!Dn||Dn(An)){var Gn=An.append(Ft,an);if(yn[wn]){var Yn=yn[wn];se(An)?(Ln=Ft.link(Gn,{stable:!0}),an(Ft.cond(Ln).then(cn,".enable(",Yn,");").else(cn,".disable(",Yn,");")),an(ln,".",wn,"=",Ln,";")):(an(Ft.cond(Gn).then(cn,".enable(",Yn,");").else(cn,".disable(",Yn,");")),an(ln,".",wn,"=",Gn,";"))}else if(T(Gn)){var hr=Mn[wn];an(cn,".",Zn[wn],"(",Gn,");",Gn.map(function(ir,_r){return hr+"["+_r+"]="+ir}).join(";"),";")}else se(An)?(Ln=Ft.link(Gn,{stable:!0}),an(cn,".",Zn[wn],"(",Ln,");",ln,".",wn,"=",Ln,";")):an(cn,".",Zn[wn],"(",Gn,");",ln,".",wn,"=",Gn,";")}})}function Tn(Ft,an){qt&&(Ft.instancing=an.def(Ft.shared.extensions,".angle_instanced_arrays"))}function kn(Ft,an,hn,Dn,Ln){function Vn(){return typeof performance>"u"?"Date.now()":"performance.now()"}function Mn(_r){_r(wn=an.def(),"=",Vn(),";"),"string"==typeof Ln?_r(Yn,".count+=",Ln,";"):_r(Yn,".count++;"),bt&&(Dn?_r(An=an.def(),"=",ir,".getNumPendingQueries();"):_r(ir,".beginQuery(",Yn,");"))}function ln(_r){_r(Yn,".cpuTime+=",Vn(),"-",wn,";"),bt&&(Dn?_r(ir,".pushScopeStats(",An,",",ir,".getNumPendingQueries(),",Yn,");"):_r(ir,".endQuery();"))}function cn(_r){var ur=an.def(hr,".profile");an(hr,".profile=",_r,";"),an.exit(hr,".profile=",ur,";")}var wn,An,Gn=Ft.shared,Yn=Ft.stats,hr=Gn.current,ir=Gn.timer;if(hn=hn.profile){if(se(hn))return void(hn.enable?(Mn(an),ln(an.exit),cn("true")):cn("false"));cn(hn=hn.append(Ft,an))}else hn=an.def(hr,".profile");Mn(Gn=Ft.block()),an("if(",hn,"){",Gn,"}"),ln(Ft=Ft.block()),an.exit("if(",hn,"){",Ft,"}")}function xn(Ft,an,hn,Dn,Ln){var Mn=Ft.shared;Dn.forEach(function(ln){var cn,wn=ln.name,An=hn.attributes[wn];if(An){if(!Ln(An))return;cn=An.append(Ft,an)}else{if(!Ln(it))return;var Gn=Ft.scopeAttrib(wn);cn={},Object.keys(new mr).forEach(function(Yn){cn[Yn]=an.def(Gn,".",Yn)})}!function Vn(ln,cn,wn){function An(){an("if(!",ir,".buffer){",Yn,".enableVertexAttribArray(",hr,");}");var Tr,Mr=wn.type;Tr=wn.size?an.def(wn.size,"||",cn):cn,an("if(",ir,".type!==",Mr,"||",ir,".size!==",Tr,"||",or.map(function(Or){return ir+"."+Or+"!=="+wn[Or]}).join("||"),"){",Yn,".bindBuffer(",34962,",",_r,".buffer);",Yn,".vertexAttribPointer(",[hr,Tr,Mr,wn.normalized,wn.stride,wn.offset],");",ir,".type=",Mr,";",ir,".size=",Tr,";",or.map(function(Or){return ir+"."+Or+"="+wn[Or]+";"}).join(""),"}"),qt&&an("if(",ir,".divisor!==",Mr=wn.divisor,"){",Ft.instancing,".vertexAttribDivisorANGLE(",[hr,Mr],");",ir,".divisor=",Mr,";}")}function Gn(){an("if(",ir,".buffer){",Yn,".disableVertexAttribArray(",hr,");",ir,".buffer=null;","}if(",pt.map(function(Tr,Mr){return ir+"."+Tr+"!=="+ur[Mr]}).join("||"),"){",Yn,".vertexAttrib4f(",hr,",",ur,");",pt.map(function(Tr,Mr){return ir+"."+Tr+"="+ur[Mr]+";"}).join(""),"}")}var Yn=Mn.gl,hr=an.def(ln,".location"),ir=an.def(Mn.attributes,"[",hr,"]"),_r=wn.buffer,ur=[wn.x,wn.y,wn.z,wn.w],or=["buffer","normalized","offset","stride"];1===(ln=wn.state)?An():2===ln?Gn():(an("if(",ln,"===",1,"){"),An(),an("}else{"),Gn(),an("}"))}(Ft.link(ln),function(Yn){switch(Yn){case 35664:case 35667:case 35671:return 2;case 35665:case 35668:case 35672:return 3;case 35666:case 35669:case 35673:return 4;default:return 1}}(ln.info.type),cn)})}function Rn(Ft,an,hn,Dn,Ln,Vn){for(var Mn,ln=Ft.shared,cn=ln.gl,wn=0;wn<Dn.length;++wn){var An,Gn=(ir=Dn[wn]).name,Yn=ir.info.type,hr=hn.uniforms[Gn],ir=Ft.link(ir)+".location";if(hr){if(!Ln(hr))continue;if(se(hr)){if(Gn=hr.value,35678===Yn||35680===Yn)an(cn,".uniform1i(",ir,",",(Yn=Ft.link(Gn._texture||Gn.color[0]._texture))+".bind());"),an.exit(Yn,".unbind();");else if(35674===Yn||35675===Yn||35676===Yn)hr=2,35675===Yn?hr=3:35676===Yn&&(hr=4),an(cn,".uniformMatrix",hr,"fv(",ir,",false,",Gn=Ft.global.def("new Float32Array(["+Array.prototype.slice.call(Gn)+"])"),");");else{switch(Yn){case 5126:Mn="1f";break;case 35664:Mn="2f";break;case 35665:Mn="3f";break;case 35666:Mn="4f";break;case 35670:case 5124:Mn="1i";break;case 35671:case 35667:Mn="2i";break;case 35672:case 35668:Mn="3i";break;case 35673:case 35669:Mn="4i"}an(cn,".uniform",Mn,"(",ir,",",T(Gn)?Array.prototype.slice.call(Gn):Gn,");")}continue}An=hr.append(Ft,an)}else{if(!Ln(it))continue;An=an.def(ln.uniforms,"[",ot.id(Gn),"]")}switch(35678===Yn?an("if(",An,"&&",An,'._reglType==="framebuffer"){',An,"=",An,".color[0];","}"):35680===Yn&&an("if(",An,"&&",An,'._reglType==="framebufferCube"){',An,"=",An,".color[0];","}"),Gn=1,Yn){case 35678:case 35680:Yn=an.def(An,"._texture"),an(cn,".uniform1i(",ir,",",Yn,".bind());"),an.exit(Yn,".unbind();");continue;case 5124:case 35670:Mn="1i";break;case 35667:case 35671:Mn="2i",Gn=2;break;case 35668:case 35672:Mn="3i",Gn=3;break;case 35669:case 35673:Mn="4i",Gn=4;break;case 5126:Mn="1f";break;case 35664:Mn="2f",Gn=2;break;case 35665:Mn="3f",Gn=3;break;case 35666:Mn="4f",Gn=4;break;case 35674:Mn="Matrix2fv";break;case 35675:Mn="Matrix3fv";break;case 35676:Mn="Matrix4fv"}if("M"===Mn.charAt(0)){an(cn,".uniform",Mn,"(",ir,","),ir=Math.pow(Yn-35674+2,2);var _r=Ft.global.def("new Float32Array(",ir,")");Array.isArray(An)?an("false,(",M(ir,function(or){return _r+"["+or+"]="+An[or]}),",",_r,")"):an("false,(Array.isArray(",An,")||",An," instanceof Float32Array)?",An,":(",M(ir,function(or){return _r+"["+or+"]="+An+"["+or+"]"}),",",_r,")"),an(");")}else{if(1<Gn){Yn=[];var ur=[];for(hr=0;hr<Gn;++hr)Array.isArray(An)?ur.push(An[hr]):ur.push(an.def(An+"["+hr+"]")),Vn&&Yn.push(an.def());Vn&&an("if(!",Ft.batchId,"||",Yn.map(function(or,Tr){return or+"!=="+ur[Tr]}).join("||"),"){",Yn.map(function(or,Tr){return or+"="+ur[Tr]+";"}).join("")),an(cn,".uniform",Mn,"(",ir,",",ur.join(","),");")}else Vn&&(Yn=an.def(),an("if(!",Ft.batchId,"||",Yn,"!==",An,"){",Yn,"=",An,";")),an(cn,".uniform",Mn,"(",ir,",",An,");");Vn&&an("}")}}}function Hn(Ft,an,hn,Dn){function Ln(Mr){var Or=Yn[Mr];return Or?Or.append(Ft,Or.contextDep&&Dn.contextDynamic||Or.propDep?hn:an):an.def(Gn,".",Mr)}function Vn(){function Mr(){hn(cn,".drawElementsInstancedANGLE(",[ir,ur,or,_r+"<<(("+or+"-5121)>>1)",ln],");")}function Or(){hn(cn,".drawArraysInstancedANGLE(",[ir,_r,ur,ln],");")}hr&&"null"!==hr?Tr?Mr():(hn("if(",hr,"){"),Mr(),hn("}else{"),Or(),hn("}")):Or()}function Mn(){function Mr(){hn(An+".drawElements("+[ir,ur,or,_r+"<<(("+or+"-5121)>>1)"]+");")}function Or(){hn(An+".drawArrays("+[ir,_r,ur]+");")}hr&&"null"!==hr?Tr?Mr():(hn("if(",hr,"){"),Mr(),hn("}else{"),Or(),hn("}")):Or()}var ln,cn,Mr,Or,wn=Ft.shared,An=wn.gl,Gn=wn.draw,Yn=Dn.draw,hr=(Or=an,(Mr=Yn.elements)?((Mr.contextDep&&Dn.contextDynamic||Mr.propDep)&&(Or=hn),Mr=Mr.append(Ft,Or),Yn.elementsActive&&Or("if("+Mr+")"+An+".bindBuffer(34963,"+Mr+".buffer.buffer);")):(Mr=Or.def(),Or(Mr,"=",Gn,".","elements",";","if(",Mr,"){",An,".bindBuffer(",34963,",",Mr,".buffer.buffer);}","else if(",wn.vao,".currentVAO){",Mr,"=",Ft.shared.elements+".getElements("+wn.vao,".currentVAO.elements);",bn?"":"if("+Mr+")"+An+".bindBuffer(34963,"+Mr+".buffer.buffer);","}")),Mr),ir=Ln("primitive"),_r=Ln("offset"),ur=function(){var Mr=Yn.count,Or=an;return Mr?((Mr.contextDep&&Dn.contextDynamic||Mr.propDep)&&(Or=hn),Mr=Mr.append(Ft,Or)):Mr=Or.def(Gn,".","count"),Mr}();if("number"==typeof ur){if(0===ur)return}else hn("if(",ur,"){"),hn.exit("}");qt&&(ln=Ln("instances"),cn=Ft.instancing);var or=hr+".type",Tr=Yn.elements&&se(Yn.elements)&&!Yn.vaoActive;qt&&("number"!=typeof ln||0<=ln)?"string"==typeof ln?(hn("if(",ln,">0){"),Vn(),hn("}else if(",ln,"<0){"),Mn(),hn("}")):Vn():Mn()}function En(Ft,an,hn,Dn,Ln){return Ln=(an=pn()).proc("body",Ln),qt&&(an.instancing=Ln.def(an.shared.extensions,".angle_instanced_arrays")),Ft(an,Ln,hn,Dn),an.compile().body}function Wn(Ft,an,hn,Dn){Tn(Ft,an),hn.useVAO?hn.drawVAO?an(Ft.shared.vao,".setVAO(",hn.drawVAO.append(Ft,an),");"):an(Ft.shared.vao,".setVAO(",Ft.shared.vao,".targetVAO);"):(an(Ft.shared.vao,".setVAO(null);"),xn(Ft,an,hn,Dn.attributes,function(){return!0})),Rn(Ft,an,hn,Dn.uniforms,function(){return!0},!1),Hn(Ft,an,an,hn)}function gr(Ft,an,hn,Dn){function Ln(){return!0}Ft.batchId="a1",Tn(Ft,an),xn(Ft,an,hn,Dn.attributes,Ln),Rn(Ft,an,hn,Dn.uniforms,Ln,!1),Hn(Ft,an,an,hn)}function lr(Ft,an,hn,Dn){function Ln(Gn){return Gn.contextDep&&Mn||Gn.propDep}function Vn(Gn){return!Ln(Gn)}Tn(Ft,an);var Mn=hn.contextDep,ln=an.def(),cn=an.def();Ft.shared.props=cn,Ft.batchId=ln;var wn=Ft.scope(),An=Ft.scope();an(wn.entry,"for(",ln,"=0;",ln,"<","a1",";++",ln,"){",cn,"=","a0","[",ln,"];",An,"}",wn.exit),hn.needsContext&&Sn(Ft,An,hn.context),hn.needsFramebuffer&&on(Ft,An,hn.framebuffer),un(Ft,An,hn.state,Ln),hn.profile&&Ln(hn.profile)&&kn(Ft,An,hn,!1,!0),Dn?(hn.useVAO?hn.drawVAO?Ln(hn.drawVAO)?An(Ft.shared.vao,".setVAO(",hn.drawVAO.append(Ft,An),");"):wn(Ft.shared.vao,".setVAO(",hn.drawVAO.append(Ft,wn),");"):wn(Ft.shared.vao,".setVAO(",Ft.shared.vao,".targetVAO);"):(wn(Ft.shared.vao,".setVAO(null);"),xn(Ft,wn,hn,Dn.attributes,Vn),xn(Ft,An,hn,Dn.attributes,Ln)),Rn(Ft,wn,hn,Dn.uniforms,Vn,!1),Rn(Ft,An,hn,Dn.uniforms,Ln,!0),Hn(Ft,wn,An,hn)):(an=Ft.global.def("{}"),Dn=hn.shader.progVar.append(Ft,An),cn=An.def(Dn,".id"),wn=An.def(an,"[",cn,"]"),An(Ft.shared.gl,".useProgram(",Dn,".program);","if(!",wn,"){",wn,"=",an,"[",cn,"]=",Ft.link(function(Gn){return En(gr,Ft,hn,Gn,2)}),"(",Dn,");}",wn,".call(this,a0[",ln,"],",ln,");"))}function dr(Ft,an,hn){var Dn=an.static[hn];if(Dn&&function(An){if("object"==typeof An&&!T(An)){for(var Gn=Object.keys(An),Yn=0;Yn<Gn.length;++Yn)if(fe.isDynamic(An[Gn[Yn]]))return!0;return!1}}(Dn)){var Ln=Ft.global,Vn=Object.keys(Dn),Mn=!1,ln=!1,cn=!1,wn=Ft.global.def("{}");Vn.forEach(function(An){var Gn=Dn[An];if(fe.isDynamic(Gn))"function"==typeof Gn&&(Gn=Dn[An]=fe.unbox(Gn)),An=ne(Gn,null),Mn=Mn||An.thisDep,cn=cn||An.propDep,ln=ln||An.contextDep;else{switch(Ln(wn,".",An,"="),typeof Gn){case"number":Ln(Gn);break;case"string":Ln('"',Gn,'"');break;case"object":Array.isArray(Gn)&&Ln("[",Gn.join(),"]");break;default:Ln(Ft.link(Gn))}Ln(";")}}),an.dynamic[hn]=new fe.DynamicVariable(4,{thisDep:Mn,contextDep:ln,propDep:cn,ref:wn,append:function(An,Gn){Vn.forEach(function(Yn){var hr=Dn[Yn];fe.isDynamic(hr)&&(hr=An.invoke(Gn,hr),Gn(wn,".",Yn,"=",hr,";"))})}}),delete an.static[hn]}}var mr=wt.Record,Ir={add:32774,subtract:32778,"reverse subtract":32779};gt.ext_blend_minmax&&(Ir.min=32775,Ir.max=32776);var qt=gt.angle_instanced_arrays,tn=gt.webgl_draw_buffers,bn=gt.oes_vertex_array_object,Cn={dirty:!0,profile:It.profile},Bn={},sr=[],yn={},Zn={};$t("dither",3024),$t("blend.enable",3042),Qt("blend.color","blendColor",[0,0,0,0]),Qt("blend.equation","blendEquationSeparate",[32774,32774]),Qt("blend.func","blendFuncSeparate",[1,0,1,0]),$t("depth.enable",2929,!0),Qt("depth.func","depthFunc",513),Qt("depth.range","depthRange",[0,1]),Qt("depth.mask","depthMask",!0),Qt("colorMask","colorMask",[!0,!0,!0,!0]),$t("cull.enable",2884),Qt("cull.face","cullFace",1029),Qt("frontFace","frontFace",2305),Qt("lineWidth","lineWidth",1),$t("polygonOffset.enable",32823),Qt("polygonOffset.offset","polygonOffset",[0,0]),$t("sample.alpha",32926),$t("sample.enable",32928),Qt("sample.coverage","sampleCoverage",[1,!1]),$t("stencil.enable",2960),Qt("stencil.mask","stencilMask",-1),Qt("stencil.func","stencilFunc",[519,0,-1]),Qt("stencil.opFront","stencilOpSeparate",[1028,7680,7680,7680]),Qt("stencil.opBack","stencilOpSeparate",[1029,7680,7680,7680]),$t("scissor.enable",3089),Qt("scissor.box","scissor",[0,0,Je.drawingBufferWidth,Je.drawingBufferHeight]),Qt("viewport","viewport",[0,0,Je.drawingBufferWidth,Je.drawingBufferHeight]);var Xn={gl:Je,context:Rt,strings:ot,next:Bn,current:Cn,draw:_t,elements:$e,buffer:Ue,shader:St,attributes:wt.state,vao:wt,uniforms:At,framebuffer:ut,extensions:gt,timer:bt,isBufferArgs:H},Jt={primTypes:Le,compareFuncs:Ht,blendFuncs:zt,blendEquations:Ir,stencilOps:Lt,glTypes:Se,orientationType:tt};tn&&(Jt.backBuffer=[1029],Jt.drawBuffer=M(ft.maxDrawbuffers,function(Ft){return 0===Ft?[0]:M(Ft,function(an){return 36064+an})}));var Nn=0;return{next:Bn,current:Cn,procs:function(){var Ft=pn(),an=Ft.proc("poll"),hn=Ft.proc("refresh"),Dn=Ft.block();an(Dn),hn(Dn);var Ln,Vn=(cn=Ft.shared).gl,Mn=cn.next,ln=cn.current;Dn(ln,".dirty=false;"),on(Ft,an),on(Ft,hn,null,!0),qt&&(Ln=Ft.link(qt)),gt.oes_vertex_array_object&&hn(Ft.link(gt.oes_vertex_array_object),".bindVertexArrayOES(null);");var cn=hn.def(cn.attributes),wn=hn.def(0),An=Ft.cond(wn,".buffer");An.then(Vn,".enableVertexAttribArray(i);",Vn,".bindBuffer(",34962,",",wn,".buffer.buffer);",Vn,".vertexAttribPointer(i,",wn,".size,",wn,".type,",wn,".normalized,",wn,".stride,",wn,".offset);").else(Vn,".disableVertexAttribArray(i);",Vn,".vertexAttrib4f(i,",wn,".x,",wn,".y,",wn,".z,",wn,".w);",wn,".buffer=null;");var Gn=Ft.link(ft.maxAttributes,{stable:!0});return hn("for(var i=0;i<",Gn,";++i){",wn,"=",cn,"[i];",An,"}"),qt&&hn("for(var i=0;i<",Gn,";++i){",Ln,".vertexAttribDivisorANGLE(i,",cn,"[i].divisor);","}"),hn(Ft.shared.vao,".currentVAO=null;",Ft.shared.vao,".setVAO(",Ft.shared.vao,".targetVAO);"),Object.keys(yn).forEach(function(Yn){var hr=yn[Yn],ir=Dn.def(Mn,".",Yn),_r=Ft.block();_r("if(",ir,"){",Vn,".enable(",hr,")}else{",Vn,".disable(",hr,")}",ln,".",Yn,"=",ir,";"),hn(_r),an("if(",ir,"!==",ln,".",Yn,"){",_r,"}")}),Object.keys(Zn).forEach(function(Yn){var hr,ir,_r=Zn[Yn],ur=Cn[Yn],or=Ft.block();or(Vn,".",_r,"("),T(ur)?(_r=ur.length,hr=Ft.global.def(Mn,".",Yn),ir=Ft.global.def(ln,".",Yn),or(M(_r,function(Tr){return hr+"["+Tr+"]"}),");",M(_r,function(Tr){return ir+"["+Tr+"]="+hr+"["+Tr+"];"}).join("")),an("if(",M(_r,function(Tr){return hr+"["+Tr+"]!=="+ir+"["+Tr+"]"}).join("||"),"){",or,"}")):(hr=Dn.def(Mn,".",Yn),ir=Dn.def(ln,".",Yn),or(hr,");",ln,".",Yn,"=",hr,";"),an("if(",hr,"!==",ir,"){",or,"}")),hn(or)}),Ft.compile()}(),compile:function(Ft,an,hn,Dn,Ln){var Vn=pn();Vn.stats=Vn.link(Ln),Object.keys(an.static).forEach(function(ln){dr(Vn,an,ln)}),Pt.forEach(function(ln){dr(Vn,Ft,ln)});var Mn=Un(Ft,an,hn,Dn);return Mn.shader.program&&(Mn.shader.program.attributes.sort(function(ln,cn){return ln.name<cn.name?-1:1}),Mn.shader.program.uniforms.sort(function(ln,cn){return ln.name<cn.name?-1:1})),function(ln,cn){var wn=ln.proc("draw",1);Tn(ln,wn),Sn(ln,wn,cn.context),on(ln,wn,cn.framebuffer),vn(ln,wn,cn),un(ln,wn,cn.state),kn(ln,wn,cn,!1,!0);var An=cn.shader.progVar.append(ln,wn);if(wn(ln.shared.gl,".useProgram(",An,".program);"),cn.shader.program)Wn(ln,wn,cn,cn.shader.program);else{wn(ln.shared.vao,".setVAO(null);");var Gn=ln.global.def("{}"),Yn=wn.def(An,".id"),hr=wn.def(Gn,"[",Yn,"]");wn(ln.cond(hr).then(hr,".call(this,a0);").else(hr,"=",Gn,"[",Yn,"]=",ln.link(function(ir){return En(Wn,ln,cn,ir,1)}),"(",An,");",hr,".call(this,a0);"))}0<Object.keys(cn.state).length&&wn(ln.shared.current,".dirty=true;"),ln.shared.vao&&wn(ln.shared.vao,".setVAO(null);")}(Vn,Mn),function wr(Ft,an){function hn(ln){var cn=an.shader[ln];cn&&(cn=cn.append(Ft,Dn),isNaN(cn)?Dn.set(Ln.shader,"."+ln,cn):Dn.set(Ln.shader,"."+ln,Ft.link(cn,{stable:!0})))}var Dn=Ft.proc("scope",3);Ft.batchId="a2";var Ln=Ft.shared,Vn=Ln.current;if(Sn(Ft,Dn,an.context),an.framebuffer&&an.framebuffer.append(Ft,Dn),W(Object.keys(an.state)).forEach(function(ln){var cn=an.state[ln],wn=cn.append(Ft,Dn);T(wn)?wn.forEach(function(An,Gn){isNaN(An)?Dn.set(Ft.next[ln],"["+Gn+"]",An):Dn.set(Ft.next[ln],"["+Gn+"]",Ft.link(An,{stable:!0}))}):se(cn)?Dn.set(Ln.next,"."+ln,Ft.link(wn,{stable:!0})):Dn.set(Ln.next,"."+ln,wn)}),kn(Ft,Dn,an,!0,!0),["elements","offset","count","instances","primitive"].forEach(function(ln){var cn=an.draw[ln];cn&&(cn=cn.append(Ft,Dn),isNaN(cn)?Dn.set(Ln.draw,"."+ln,cn):Dn.set(Ln.draw,"."+ln,Ft.link(cn),{stable:!0}))}),Object.keys(an.uniforms).forEach(function(ln){var cn=an.uniforms[ln].append(Ft,Dn);Array.isArray(cn)&&(cn="["+cn.map(function(wn){return isNaN(wn)?wn:Ft.link(wn,{stable:!0})})+"]"),Dn.set(Ln.uniforms,"["+Ft.link(ot.id(ln),{stable:!0})+"]",cn)}),Object.keys(an.attributes).forEach(function(ln){var cn=an.attributes[ln].append(Ft,Dn),wn=Ft.scopeAttrib(ln);Object.keys(new mr).forEach(function(An){Dn.set(wn,"."+An,cn[An])})}),an.scopeVAO){var Mn=an.scopeVAO.append(Ft,Dn);isNaN(Mn)?Dn.set(Ln.vao,".targetVAO",Mn):Dn.set(Ln.vao,".targetVAO",Ft.link(Mn,{stable:!0}))}hn("vert"),hn("frag"),0<Object.keys(an.state).length&&(Dn(Vn,".dirty=true;"),Dn.exit(Vn,".dirty=true;")),Dn("a1(",Ft.shared.context,",a0,",Ft.batchId,");")}(Vn,Mn),function(ln,cn){function wn(ur){return ur.contextDep&&Gn||ur.propDep}var An=ln.proc("batch",2);ln.batchId="0",Tn(ln,An);var Gn=!1,Yn=!0;Object.keys(cn.context).forEach(function(ur){Gn=Gn||cn.context[ur].propDep}),Gn||(Sn(ln,An,cn.context),Yn=!1);var hr=!1;if((ir=cn.framebuffer)?(ir.propDep?Gn=hr=!0:ir.contextDep&&Gn&&(hr=!0),hr||on(ln,An,ir)):on(ln,An,null),cn.state.viewport&&cn.state.viewport.propDep&&(Gn=!0),vn(ln,An,cn),un(ln,An,cn.state,function(ur){return!wn(ur)}),cn.profile&&wn(cn.profile)||kn(ln,An,cn,!1,"a1"),cn.contextDep=Gn,cn.needsContext=Yn,cn.needsFramebuffer=hr,(Yn=cn.shader.progVar).contextDep&&Gn||Yn.propDep)lr(ln,An,cn,null);else if(Yn=Yn.append(ln,An),An(ln.shared.gl,".useProgram(",Yn,".program);"),cn.shader.program)lr(ln,An,cn,cn.shader.program);else{An(ln.shared.vao,".setVAO(null);");var ir=ln.global.def("{}"),_r=(hr=An.def(Yn,".id"),An.def(ir,"[",hr,"]"));An(ln.cond(_r).then(_r,".call(this,a0,a1);").else(_r,"=",ir,"[",hr,"]=",ln.link(function(ur){return En(lr,ln,cn,ur,2)}),"(",Yn,");",_r,".call(this,a0,a1);"))}0<Object.keys(cn.state).length&&An(ln.shared.current,".dirty=true;"),ln.shared.vao&&An(ln.shared.vao,".setVAO(null);")}(Vn,Mn),oe(Vn.compile(),{destroy:function(){Mn.shader.program.destroy()}})}}}function ee(Je,ot){for(var gt=0;gt<Je.length;++gt)if(Je[gt]===ot)return gt;return-1}var oe=function(Je,ot){for(var gt=Object.keys(ot),ft=0;ft<gt.length;++ft)Je[gt[ft]]=ot[gt[ft]];return Je},ce=0,fe={DynamicVariable:B,define:function(Je,ot){return new B(Je,D(ot+""))},isDynamic:function(Je){return"function"==typeof Je&&!Je._reglType||Je instanceof B},unbox:function Je(ot,gt){return"function"==typeof ot?new B(0,ot):"number"==typeof ot||"boolean"==typeof ot?new B(5,ot):Array.isArray(ot)?new B(6,ot.map(function(ft,Ue){return Je(ft,gt+"["+Ue+"]")})):ot instanceof B?ot:void 0},accessor:D},le={next:"function"==typeof requestAnimationFrame?function(Je){return requestAnimationFrame(Je)}:function(Je){return setTimeout(Je,16)},cancel:"function"==typeof cancelAnimationFrame?function(Je){return cancelAnimationFrame(Je)}:clearTimeout},pe=typeof performance<"u"&&performance.now?function(){return performance.now()}:function(){return+new Date},Me=c();Me.zero=c();var be=function(Je){return Je instanceof Uint8Array||Je instanceof Uint16Array||Je instanceof Uint32Array||Je instanceof Int8Array||Je instanceof Int16Array||Je instanceof Int32Array||Je instanceof Float32Array||Je instanceof Float64Array||Je instanceof Uint8ClampedArray},ye=function(Je){return Object.keys(Je).map(function(ot){return Je[ot]})},we={shape:function(Je){for(var ot=[];Je.length;Je=Je[0])ot.push(Je.length);return ot},flatten:function(Je,ot,gt,ft){var Ue=1;if(ot.length)for(var $e=0;$e<ot.length;++$e)Ue*=ot[$e];else Ue=0;switch(gt=ft||Me.allocType(gt,Ue),ot.length){case 0:break;case 1:for(ft=ot[0],ot=0;ot<ft;++ot)gt[ot]=Je[ot];break;case 2:for(ft=ot[0],ot=ot[1],$e=Ue=0;$e<ft;++$e)for(var dt=Je[$e],ut=0;ut<ot;++ut)gt[Ue++]=dt[ut];break;case 3:s(Je,ot[0],ot[1],ot[2],gt,0);break;default:a(Je,ot,0,gt,0)}return gt}},ze={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},Se={int8:5120,int16:5122,int32:5124,uint8:5121,uint16:5123,uint32:5125,float:5126,float32:5126},Ce={dynamic:35048,stream:35040,static:35044},ge=we.flatten,he=we.shape,_e=[];_e[5120]=1,_e[5122]=2,_e[5124]=4,_e[5121]=1,_e[5123]=2,_e[5125]=4,_e[5126]=4;var Le={points:0,point:0,lines:1,line:1,triangles:4,triangle:4,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},Ie=new Float32Array(1),De=new Uint32Array(Ie.buffer),je=[9984,9986,9985,9987],qe=[0,6409,6410,6407,6408],ve={};ve[6409]=ve[6406]=ve[6402]=1,ve[34041]=ve[6410]=2,ve[6407]=ve[35904]=3,ve[6408]=ve[35906]=4;var Oe=_("HTMLCanvasElement"),ke=_("OffscreenCanvas"),Be=_("CanvasRenderingContext2D"),We=_("ImageBitmap"),Ge=_("HTMLImageElement"),Ke=_("HTMLVideoElement"),et=Object.keys(ze).concat([Oe,ke,Be,We,Ge,Ke]),at=[];at[5121]=1,at[5126]=4,at[36193]=2,at[5123]=2,at[5125]=4;var mt=[];mt[32854]=2,mt[32855]=2,mt[36194]=2,mt[34041]=4,mt[33776]=.5,mt[33777]=.5,mt[33778]=1,mt[33779]=1,mt[35986]=.5,mt[35987]=1,mt[34798]=1,mt[35840]=.5,mt[35841]=.25,mt[35842]=.5,mt[35843]=.25,mt[36196]=.5;var ct=[];ct[32854]=2,ct[32855]=2,ct[36194]=2,ct[33189]=2,ct[36168]=1,ct[34041]=4,ct[35907]=4,ct[34836]=16,ct[34842]=8,ct[34843]=6;var Dt=[];Dt[6408]=4,Dt[6407]=3;var Et=[];Et[5121]=1,Et[5126]=4,Et[36193]=2;var ht=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],pt=["x","y","z","w"],Pt="blend.func blend.equation stencil.func stencil.opFront stencil.opBack sample.coverage viewport scissor.box polygonOffset.offset".split(" "),zt={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},Ht={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},Lt={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},tt={cw:2304,ccw:2305},it=new Z(!1,!1,!1,function(){});return function(Je){function ot(){if(0===gr.length)en&&en.update(),mr=null;else{mr=le.next(ot),St();for(var qt=gr.length-1;0<=qt;--qt){var tn=gr[qt];tn&&tn(Un,null,0)}bt.flush(),en&&en.update()}}function gt(){!mr&&0<gr.length&&(mr=le.next(ot))}function ft(){mr&&(le.cancel(ot),mr=null)}function Ue(qt){qt.preventDefault(),ft(),lr.forEach(function(tn){tn()})}function $e(qt){bt.getError(),It.restore(),Tn.restore(),on.restore(),kn.restore(),xn.restore(),Rn.restore(),un.restore(),en&&en.restore(),Hn.procs.refresh(),gt(),wr.forEach(function(tn){tn()})}function dt(qt){function tn(Ft,an){var hn={},Dn={};return Object.keys(Ft).forEach(function(Ln){var Vn=Ft[Ln];if(fe.isDynamic(Vn))Dn[Ln]=fe.unbox(Vn,Ln);else{if(an&&Array.isArray(Vn))for(var Mn=0;Mn<Vn.length;++Mn)if(fe.isDynamic(Vn[Mn]))return void(Dn[Ln]=fe.unbox(Vn,Ln));hn[Ln]=Vn}}),{dynamic:Dn,static:hn}}var bn=tn(qt.context||{},!0),Cn=tn(qt.uniforms||{},!0),Bn=tn(qt.attributes||{},!1);qt=tn(function(Ft){function an(Dn){if(Dn in hn){var Ln=hn[Dn];delete hn[Dn],Object.keys(Ln).forEach(function(Vn){hn[Dn+"."+Vn]=Ln[Vn]})}}var hn=oe({},Ft);return delete hn.uniforms,delete hn.attributes,delete hn.context,delete hn.vao,"stencil"in hn&&hn.stencil.op&&(hn.stencil.opBack=hn.stencil.opFront=hn.stencil.op,delete hn.stencil.op),an("blend"),an("depth"),an("cull"),an("stencil"),an("polygonOffset"),an("scissor"),an("sample"),"vao"in Ft&&(hn.vao=Ft.vao),hn}(qt),!1);var sr={gpuTime:0,cpuTime:0,count:0},yn=Hn.compile(qt,Bn,Cn,bn,sr),Zn=yn.draw,Xn=yn.batch,Jt=yn.scope,Nn=[];return oe(function(Ft,an){var hn;if("function"==typeof Ft)return Jt.call(this,null,Ft,0);if("function"==typeof an)if("number"==typeof Ft)for(hn=0;hn<Ft;++hn)Jt.call(this,null,an,hn);else{if(!Array.isArray(Ft))return Jt.call(this,Ft,an,0);for(hn=0;hn<Ft.length;++hn)Jt.call(this,Ft[hn],an,hn)}else if("number"==typeof Ft){if(0<Ft)return Xn.call(this,function(Dn){for(;Nn.length<Dn;)Nn.push(null);return Nn}(0|Ft),0|Ft)}else{if(!Array.isArray(Ft))return Zn.call(this,Ft);if(Ft.length)return Xn.call(this,Ft,Ft.length)}},{stats:sr,destroy:function(){yn.destroy()}})}function ut(qt,tn){var bn=0;Hn.procs.poll();var Cn=tn.color;Cn&&(bt.clearColor(+Cn[0]||0,+Cn[1]||0,+Cn[2]||0,+Cn[3]||0),bn|=16384),"depth"in tn&&(bt.clearDepth(+tn.depth),bn|=256),"stencil"in tn&&(bt.clearStencil(0|tn.stencil),bn|=1024),bt.clear(bn)}function At(qt){return gr.push(qt),gt(),{cancel:function(){var tn=ee(gr,qt);gr[tn]=function bn(){var Cn=ee(gr,bn);gr[Cn]=gr[gr.length-1],--gr.length,0>=gr.length&&ft()}}}}function wt(){var qt=En.viewport,tn=En.scissor_box;qt[0]=qt[1]=tn[0]=tn[1]=0,Un.viewportWidth=Un.framebufferWidth=Un.drawingBufferWidth=qt[2]=tn[2]=bt.drawingBufferWidth,Un.viewportHeight=Un.framebufferHeight=Un.drawingBufferHeight=qt[3]=tn[3]=bt.drawingBufferHeight}function St(){Un.tick+=1,Un.time=Rt(),wt(),Hn.procs.poll()}function _t(){kn.refresh(),wt(),Hn.procs.refresh(),en&&en.update()}function Rt(){return(pe()-nn)/1e3}if(!(Je=function k(Je){var ot,gt,ft,Ue,$e=Je||{};Je={};var dt=[],ut=[],At=typeof window>"u"?1:window.devicePixelRatio,wt=!1,St={},_t=function(bt){},Rt=function(){};if("string"==typeof $e?ot=document.querySelector($e):"object"==typeof $e&&("string"==typeof $e.nodeName&&"function"==typeof $e.appendChild&&"function"==typeof $e.getBoundingClientRect?ot=$e:"function"==typeof $e.drawArrays||"function"==typeof $e.drawElements?ft=(Ue=$e).canvas:("gl"in $e?Ue=$e.gl:"canvas"in $e?ft=f($e.canvas):"container"in $e&&(gt=f($e.container)),"attributes"in $e&&(Je=$e.attributes),"extensions"in $e&&(dt=E($e.extensions)),"optionalExtensions"in $e&&(ut=E($e.optionalExtensions)),"onDone"in $e&&(_t=$e.onDone),"profile"in $e&&(wt=!!$e.profile),"pixelRatio"in $e&&(At=+$e.pixelRatio),"cachedCode"in $e&&(St=$e.cachedCode))),ot&&("canvas"===ot.nodeName.toLowerCase()?ft=ot:gt=ot),!Ue){if(!ft){if(!(ot=function(bt,Tt,It){function Wt(){var pn=window.innerWidth,en=window.innerHeight;bt!==document.body&&(pn=(en=Qt.getBoundingClientRect()).right-en.left,en=en.bottom-en.top),Qt.width=It*pn,Qt.height=It*en}var $t,Qt=document.createElement("canvas");return oe(Qt.style,{border:0,margin:0,padding:0,top:0,left:0,width:"100%",height:"100%"}),bt.appendChild(Qt),bt===document.body&&(Qt.style.position="absolute",oe(bt.style,{margin:0,padding:0})),bt!==document.body&&"function"==typeof ResizeObserver?($t=new ResizeObserver(function(){setTimeout(Wt)})).observe(bt):window.addEventListener("resize",Wt,!1),Wt(),{canvas:Qt,onDestroy:function(){$t?$t.disconnect():window.removeEventListener("resize",Wt),bt.removeChild(Qt)}}}(gt||document.body,0,At)))return null;ft=ot.canvas,Rt=ot.onDestroy}void 0===Je.premultipliedAlpha&&(Je.premultipliedAlpha=!0),Ue=function(bt,Tt){function It(Wt){try{return bt.getContext(Wt,Tt)}catch{return null}}return It("webgl")||It("experimental-webgl")||It("webgl-experimental")}(ft,Je)}return Ue?{gl:Ue,canvas:ft,container:gt,extensions:dt,optionalExtensions:ut,pixelRatio:At,profile:wt,cachedCode:St,onDone:_t,onDestroy:Rt}:(Rt(),_t("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}(Je)))return null;var bt=Je.gl,Tt=bt.getContextAttributes();bt.isContextLost();var It=function(qt,tn){function bn(yn){var Zn;yn=yn.toLowerCase();try{Zn=Cn[yn]=qt.getExtension(yn)}catch{}return!!Zn}for(var Cn={},Bn=0;Bn<tn.extensions.length;++Bn){var sr=tn.extensions[Bn];if(!bn(sr))return tn.onDestroy(),tn.onDone('"'+sr+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return tn.optionalExtensions.forEach(bn),{extensions:Cn,restore:function(){Object.keys(Cn).forEach(function(yn){if(Cn[yn]&&!bn(yn))throw Error("(regl): error restoring extension "+yn)})}}}(bt,Je);if(!It)return null;var qt,tn,Wt=(qt={"":0},tn=[""],{id:function(bn){var Cn=qt[bn];return Cn||(Cn=qt[bn]=tn.length,tn.push(bn),Cn)},str:function(bn){return tn[bn]}}),$t={vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0},Qt=Je.cachedCode||{},pn=It.extensions,en=function(qt,tn){function bn(){this.endQueryIndex=this.startQueryIndex=-1,this.sum=0,this.stats=null}function Cn(Nn,Ft,an){var hn=yn.pop()||new bn;hn.startQueryIndex=Nn,hn.endQueryIndex=Ft,hn.sum=0,hn.stats=an,Zn.push(hn)}if(!tn.ext_disjoint_timer_query)return null;var Bn=[],sr=[],yn=[],Zn=[],Xn=[],Jt=[];return{beginQuery:function(Nn){var Ft=Bn.pop()||tn.ext_disjoint_timer_query.createQueryEXT();tn.ext_disjoint_timer_query.beginQueryEXT(35007,Ft),sr.push(Ft),Cn(sr.length-1,sr.length,Nn)},endQuery:function(){tn.ext_disjoint_timer_query.endQueryEXT(35007)},pushScopeStats:Cn,update:function(){var Nn,Ft;if(0!==(Nn=sr.length)){Jt.length=Math.max(Jt.length,Nn+1),Xn.length=Math.max(Xn.length,Nn+1),Xn[0]=0;var an=Jt[0]=0;for(Ft=Nn=0;Ft<sr.length;++Ft){var hn=sr[Ft];tn.ext_disjoint_timer_query.getQueryObjectEXT(hn,34919)?(an+=tn.ext_disjoint_timer_query.getQueryObjectEXT(hn,34918),Bn.push(hn)):sr[Nn++]=hn,Xn[Ft+1]=an,Jt[Ft+1]=Nn}for(sr.length=Nn,Ft=Nn=0;Ft<Zn.length;++Ft){var Dn=(an=Zn[Ft]).startQueryIndex;an.sum+=Xn[hn=an.endQueryIndex]-Xn[Dn],(hn=Jt[hn])===(Dn=Jt[Dn])?(an.stats.gpuTime+=an.sum/1e6,yn.push(an)):(an.startQueryIndex=Dn,an.endQueryIndex=hn,Zn[Nn++]=an)}Zn.length=Nn}},getNumPendingQueries:function(){return sr.length},clear:function(){Bn.push.apply(Bn,sr);for(var Nn=0;Nn<Bn.length;Nn++)tn.ext_disjoint_timer_query.deleteQueryEXT(Bn[Nn]);sr.length=0,Bn.length=0},restore:function(){sr.length=0,Bn.length=0}}}(0,pn),nn=pe(),fn=bt.drawingBufferWidth,On=bt.drawingBufferHeight,Un={tick:0,time:0,viewportWidth:fn,viewportHeight:On,framebufferWidth:fn,framebufferHeight:On,drawingBufferWidth:fn,drawingBufferHeight:On,pixelRatio:Je.pixelRatio},Sn=(fn={elements:null,primitive:4,count:-1,offset:0,instances:-1},function(Je,ot){var gt=1;ot.ext_texture_filter_anisotropic&&(gt=Je.getParameter(34047));var ft=1,Ue=1;ot.webgl_draw_buffers&&(ft=Je.getParameter(34852),Ue=Je.getParameter(36063));var $e=!!ot.oes_texture_float;if($e){$e=Je.createTexture(),Je.bindTexture(3553,$e),Je.texImage2D(3553,0,6408,1,1,0,6408,5126,null);var dt=Je.createFramebuffer();if(Je.bindFramebuffer(36160,dt),Je.framebufferTexture2D(36160,36064,3553,$e,0),Je.bindTexture(3553,null),36053!==Je.checkFramebufferStatus(36160))$e=!1;else{Je.viewport(0,0,1,1),Je.clearColor(1,0,0,1),Je.clear(16384);var ut=Me.allocType(5126,4);Je.readPixels(0,0,1,1,6408,5126,ut),Je.getError()?$e=!1:(Je.deleteFramebuffer(dt),Je.deleteTexture($e),$e=1===ut[0]),Me.freeType(ut)}}return ut=!0,typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent))||(ut=Je.createTexture(),dt=Me.allocType(5121,36),Je.activeTexture(33984),Je.bindTexture(34067,ut),Je.texImage2D(34069,0,6408,3,3,0,6408,5121,dt),Me.freeType(dt),Je.bindTexture(34067,null),Je.deleteTexture(ut),ut=!Je.getError()),{colorBits:[Je.getParameter(3410),Je.getParameter(3411),Je.getParameter(3412),Je.getParameter(3413)],depthBits:Je.getParameter(3414),stencilBits:Je.getParameter(3415),subpixelBits:Je.getParameter(3408),extensions:Object.keys(ot).filter(function(At){return!!ot[At]}),maxAnisotropic:gt,maxDrawbuffers:ft,maxColorAttachments:Ue,pointSizeDims:Je.getParameter(33901),lineWidthDims:Je.getParameter(33902),maxViewportDims:Je.getParameter(3386),maxCombinedTextureUnits:Je.getParameter(35661),maxCubeMapSize:Je.getParameter(34076),maxRenderbufferSize:Je.getParameter(34024),maxTextureUnits:Je.getParameter(34930),maxTextureSize:Je.getParameter(3379),maxAttributes:Je.getParameter(34921),maxVertexUniforms:Je.getParameter(36347),maxVertexTextureUnits:Je.getParameter(35660),maxVaryingVectors:Je.getParameter(36348),maxFragmentUniforms:Je.getParameter(36349),glsl:Je.getParameter(35724),renderer:Je.getParameter(7937),vendor:Je.getParameter(7936),version:Je.getParameter(7938),readFloat:$e,npotTextureCube:ut}}(bt,pn)),on=function h(Je,ot,gt,ft){function Ue(_t){this.id=At++,this.buffer=Je.createBuffer(),this.type=_t,this.usage=35044,this.byteLength=0,this.dimension=1,this.dtype=5121,this.persistentData=null,gt.profile&&(this.stats={size:0})}function $e(_t,Rt,bt){_t.byteLength=Rt.byteLength,Je.bufferData(_t.type,Rt,bt)}function dt(_t,Rt,bt,Tt,It,Wt){if(_t.usage=bt,Array.isArray(Rt)){if(_t.dtype=Tt||5126,0<Rt.length)if(Array.isArray(Rt[0])){It=he(Rt);for(var $t=Tt=1;$t<It.length;++$t)Tt*=It[$t];_t.dimension=Tt,$e(_t,Rt=ge(Rt,It,_t.dtype),bt),Wt?_t.persistentData=Rt:Me.freeType(Rt)}else"number"==typeof Rt[0]?(_t.dimension=It,l(It=Me.allocType(_t.dtype,Rt.length),Rt),$e(_t,It,bt),Wt?_t.persistentData=It:Me.freeType(It)):be(Rt[0])&&(_t.dimension=Rt[0].length,_t.dtype=Tt||o(Rt[0])||5126,$e(_t,Rt=ge(Rt,[Rt.length,Rt[0].length],_t.dtype),bt),Wt?_t.persistentData=Rt:Me.freeType(Rt))}else if(be(Rt))_t.dtype=Tt||o(Rt),_t.dimension=It,$e(_t,Rt,bt),Wt&&(_t.persistentData=new Uint8Array(new Uint8Array(Rt.buffer)));else if(i(Rt)){var Qt=Rt.stride,pn=($t=Rt.offset,0),en=0,nn=0,fn=0;1===(It=Rt.shape).length?(pn=It[0],en=1,nn=Qt[0],fn=0):2===It.length&&(pn=It[0],en=It[1],nn=Qt[0],fn=Qt[1]),_t.dtype=Tt||o(Rt.data)||5126,_t.dimension=en,u(It=Me.allocType(_t.dtype,pn*en),Rt.data,pn,en,nn,fn,$t),$e(_t,It,bt),Wt?_t.persistentData=It:Me.freeType(It)}else Rt instanceof ArrayBuffer&&(_t.dtype=5121,_t.dimension=It,$e(_t,Rt,bt),Wt&&(_t.persistentData=new Uint8Array(new Uint8Array(Rt))))}function ut(_t){ot.bufferCount--,ft(_t),Je.deleteBuffer(_t.buffer),_t.buffer=null,delete wt[_t.id]}var At=0,wt={};Ue.prototype.bind=function(){Je.bindBuffer(this.type,this.buffer)},Ue.prototype.destroy=function(){ut(this)};var St=[];return gt.profile&&(ot.getTotalBufferSize=function(){var _t=0;return Object.keys(wt).forEach(function(Rt){_t+=wt[Rt].stats.size}),_t}),{create:function(_t,Rt,bt,Tt){function It($t){var Qt=35044,pn=null,en=0,nn=0,fn=1;return Array.isArray($t)||be($t)||i($t)||$t instanceof ArrayBuffer?pn=$t:"number"==typeof $t?en=0|$t:$t&&("data"in $t&&(pn=$t.data),"usage"in $t&&(Qt=Ce[$t.usage]),"type"in $t&&(nn=Se[$t.type]),"dimension"in $t&&(fn=0|$t.dimension),"length"in $t&&(en=0|$t.length)),Wt.bind(),pn?dt(Wt,pn,Qt,nn,fn,Tt):(en&&Je.bufferData(Wt.type,en,Qt),Wt.dtype=nn||5121,Wt.usage=Qt,Wt.dimension=fn,Wt.byteLength=en),gt.profile&&(Wt.stats.size=Wt.byteLength*_e[Wt.dtype]),It}ot.bufferCount++;var Wt=new Ue(Rt);return wt[Wt.id]=Wt,bt||It(_t),It._reglType="buffer",It._buffer=Wt,It.subdata=function($t,Qt){var pn,en=0|(Qt||0);if(Wt.bind(),be($t)||$t instanceof ArrayBuffer)Je.bufferSubData(Wt.type,en,$t);else if(Array.isArray($t)){if(0<$t.length)if("number"==typeof $t[0]){var nn=Me.allocType(Wt.dtype,$t.length);l(nn,$t),Je.bufferSubData(Wt.type,en,nn),Me.freeType(nn)}else(Array.isArray($t[0])||be($t[0]))&&(pn=he($t),nn=ge($t,pn,Wt.dtype),Je.bufferSubData(Wt.type,en,nn),Me.freeType(nn))}else if(i($t)){var fn=$t.stride,On=nn=0,Un=0,Sn=0;1===(pn=$t.shape).length?(nn=pn[0],On=1,Un=fn[0],Sn=0):2===pn.length&&(nn=pn[0],On=pn[1],Un=fn[0],Sn=fn[1]),pn=Array.isArray($t.data)?Wt.dtype:o($t.data),u(pn=Me.allocType(pn,nn*On),$t.data,nn,On,Un,Sn,$t.offset),Je.bufferSubData(Wt.type,en,pn),Me.freeType(pn)}return It},gt.profile&&(It.stats=Wt.stats),It.destroy=function(){ut(Wt)},It},createStream:function(_t,Rt){var bt=St.pop();return bt||(bt=new Ue(_t)),bt.bind(),dt(bt,Rt,35040,0,1,!1),bt},destroyStream:function(_t){St.push(_t)},clear:function(){ye(wt).forEach(ut),St.forEach(ut)},getBuffer:function(_t){return _t&&_t._buffer instanceof Ue?_t._buffer:null},restore:function(){ye(wt).forEach(function(_t){_t.buffer=Je.createBuffer(),Je.bindBuffer(_t.type,_t.buffer),Je.bufferData(_t.type,_t.persistentData||_t.byteLength,_t.usage)})},_initBuffer:dt}}(bt,$t,Je,function(qt){return un.destroyBuffer(qt)}),vn=function v(Je,ot,gt,ft){function Ue(_t){this.id=At++,ut[this.id]=this,this.buffer=_t,this.primType=4,this.type=this.vertCount=0}function $e(_t,Rt,bt,Tt,It,Wt,$t){var Qt;if(_t.buffer.bind(),Rt?((Qt=$t)||be(Rt)&&(!i(Rt)||be(Rt.data))||(Qt=ot.oes_element_index_uint?5125:5123),gt._initBuffer(_t.buffer,Rt,bt,Qt,3)):(Je.bufferData(34963,Wt,bt),_t.buffer.dtype=Qt||5121,_t.buffer.usage=bt,_t.buffer.dimension=3,_t.buffer.byteLength=Wt),Qt=$t,!$t){switch(_t.buffer.dtype){case 5121:case 5120:Qt=5121;break;case 5123:case 5122:Qt=5123;break;case 5125:case 5124:Qt=5125}_t.buffer.dtype=Qt}_t.type=Qt,0>(Rt=It)&&(Rt=_t.buffer.byteLength,5123===Qt?Rt>>=1:5125===Qt&&(Rt>>=2)),_t.vertCount=Rt,Rt=Tt,0>Tt&&(Rt=4,1===(Tt=_t.buffer.dimension)&&(Rt=0),2===Tt&&(Rt=1),3===Tt&&(Rt=4)),_t.primType=Rt}function dt(_t){ft.elementsCount--,delete ut[_t.id],_t.buffer.destroy(),_t.buffer=null}var ut={},At=0,wt={uint8:5121,uint16:5123};ot.oes_element_index_uint&&(wt.uint32=5125),Ue.prototype.bind=function(){this.buffer.bind()};var St=[];return{create:function(_t,Rt){function bt(Wt){if(Wt)if("number"==typeof Wt)Tt(Wt),It.primType=4,It.vertCount=0|Wt,It.type=5121;else{var $t=null,Qt=35044,pn=-1,en=-1,nn=0,fn=0;Array.isArray(Wt)||be(Wt)||i(Wt)?$t=Wt:("data"in Wt&&($t=Wt.data),"usage"in Wt&&(Qt=Ce[Wt.usage]),"primitive"in Wt&&(pn=Le[Wt.primitive]),"count"in Wt&&(en=0|Wt.count),"type"in Wt&&(fn=wt[Wt.type]),"length"in Wt?nn=0|Wt.length:(nn=en,5123===fn||5122===fn?nn*=2:5125!==fn&&5124!==fn||(nn*=4))),$e(It,$t,Qt,pn,en,nn,fn)}else Tt(),It.primType=4,It.vertCount=0,It.type=5121;return bt}var Tt=gt.create(null,34963,!0),It=new Ue(Tt._buffer);return ft.elementsCount++,bt(_t),bt._reglType="elements",bt._elements=It,bt.subdata=function(Wt,$t){return Tt.subdata(Wt,$t),bt},bt.destroy=function(){dt(It)},bt},createStream:function(_t){var Rt=St.pop();return Rt||(Rt=new Ue(gt.create(null,34963,!0,!1)._buffer)),$e(Rt,_t,35040,-1,-1,0,0),Rt},destroyStream:function(_t){St.push(_t)},getElements:function(_t){return"function"==typeof _t&&_t._elements instanceof Ue?_t._elements:null},clear:function(){ye(ut).forEach(dt)}}}(bt,pn,on,$t),un=function R(Je,ot,gt,ft,Ue,$e,dt){function ut(){this.id=++St,this.attributes=[],this.elements=null,this.ownsElements=!1,this.offset=this.count=0,this.instances=-1,this.primitive=4;var bt=ot.oes_vertex_array_object;this.vao=bt?bt.createVertexArrayOES():null,_t[this.id]=this,this.buffers=[]}var At=gt.maxAttributes,wt=Array(At);for(gt=0;gt<At;++gt)wt[gt]=new O;var St=0,_t={},Rt={Record:O,scope:{},state:wt,currentVAO:null,targetVAO:null,restore:ot.oes_vertex_array_object?function(){ot.oes_vertex_array_object&&ye(_t).forEach(function(bt){bt.refresh()})}:function(){},createVAO:function(bt){function Tt(Wt){var $t;Array.isArray(Wt)?($t=Wt,It.elements&&It.ownsElements&&It.elements.destroy(),It.elements=null,It.ownsElements=!1,It.offset=0,It.count=0,It.instances=-1,It.primitive=4):(Wt.elements?($t=Wt.elements,It.ownsElements?("function"==typeof $t&&"elements"===$t._reglType?It.elements.destroy():It.elements($t),It.ownsElements=!1):$e.getElements(Wt.elements)?(It.elements=Wt.elements,It.ownsElements=!1):(It.elements=$e.create(Wt.elements),It.ownsElements=!0)):(It.elements=null,It.ownsElements=!1),$t=Wt.attributes,It.offset=0,It.count=-1,It.instances=-1,It.primitive=4,It.elements&&(It.count=It.elements._elements.vertCount,It.primitive=It.elements._elements.primType),"offset"in Wt&&(It.offset=0|Wt.offset),"count"in Wt&&(It.count=0|Wt.count),"instances"in Wt&&(It.instances=0|Wt.instances),"primitive"in Wt&&(It.primitive=Le[Wt.primitive])),Wt={};var Qt=It.attributes;Qt.length=$t.length;for(var pn=0;pn<$t.length;++pn){var en,nn=$t[pn],fn=Qt[pn]=new O,On=nn.data||nn;Array.isArray(On)||be(On)||i(On)?(It.buffers[pn]&&(en=It.buffers[pn],be(On)&&en._buffer.byteLength>=On.byteLength?en.subdata(On):(en.destroy(),It.buffers[pn]=null)),It.buffers[pn]||(en=It.buffers[pn]=Ue.create(nn,34962,!1,!0)),fn.buffer=Ue.getBuffer(en),fn.size=0|fn.buffer.dimension,fn.normalized=!1,fn.type=fn.buffer.dtype,fn.offset=0,fn.stride=0,fn.divisor=0,fn.state=1,Wt[pn]=1):Ue.getBuffer(nn)?(fn.buffer=Ue.getBuffer(nn),fn.size=0|fn.buffer.dimension,fn.normalized=!1,fn.type=fn.buffer.dtype,fn.offset=0,fn.stride=0,fn.divisor=0,fn.state=1):Ue.getBuffer(nn.buffer)?(fn.buffer=Ue.getBuffer(nn.buffer),fn.size=0|(+nn.size||fn.buffer.dimension),fn.normalized=!!nn.normalized||!1,fn.type="type"in nn?Se[nn.type]:fn.buffer.dtype,fn.offset=0|(nn.offset||0),fn.stride=0|(nn.stride||0),fn.divisor=0|(nn.divisor||0),fn.state=1):"x"in nn&&(fn.x=+nn.x||0,fn.y=+nn.y||0,fn.z=+nn.z||0,fn.w=+nn.w||0,fn.state=2)}for(en=0;en<It.buffers.length;++en)!Wt[en]&&It.buffers[en]&&(It.buffers[en].destroy(),It.buffers[en]=null);return It.refresh(),Tt}var It=new ut;return ft.vaoCount+=1,Tt.destroy=function(){for(var Wt=0;Wt<It.buffers.length;++Wt)It.buffers[Wt]&&It.buffers[Wt].destroy();It.buffers.length=0,It.ownsElements&&(It.elements.destroy(),It.elements=null,It.ownsElements=!1),It.destroy()},Tt._vao=It,Tt._reglType="vao",Tt(bt)},getVAO:function(bt){return"function"==typeof bt&&bt._vao?bt._vao:null},destroyBuffer:function(bt){for(var Tt=0;Tt<wt.length;++Tt){var It=wt[Tt];It.buffer===bt&&(Je.disableVertexAttribArray(Tt),It.buffer=null)}},setVAO:ot.oes_vertex_array_object?function(bt){bt!==Rt.currentVAO&&(ot.oes_vertex_array_object.bindVertexArrayOES(bt?bt.vao:null),Rt.currentVAO=bt)}:function(bt){if(bt!==Rt.currentVAO){if(bt)bt.bindAttrs();else{for(var Tt=ot.angle_instanced_arrays,It=0;It<wt.length;++It){var Wt=wt[It];Wt.buffer?(Je.enableVertexAttribArray(It),Wt.buffer.bind(),Je.vertexAttribPointer(It,Wt.size,Wt.type,Wt.normalized,Wt.stride,Wt.offfset),Tt&&Wt.divisor&&Tt.vertexAttribDivisorANGLE(It,Wt.divisor)):(Je.disableVertexAttribArray(It),Je.vertexAttrib4f(It,Wt.x,Wt.y,Wt.z,Wt.w))}Je.bindBuffer(34963,dt.elements?dt.elements.buffer.buffer:null)}Rt.currentVAO=bt}},clear:ot.oes_vertex_array_object?function(){ye(_t).forEach(function(bt){bt.destroy()})}:function(){}};return ut.prototype.bindAttrs=function(){for(var bt=ot.angle_instanced_arrays,Tt=this.attributes,It=0;It<Tt.length;++It){var Wt=Tt[It];Wt.buffer?(Je.enableVertexAttribArray(It),Je.bindBuffer(34962,Wt.buffer.buffer),Je.vertexAttribPointer(It,Wt.size,Wt.type,Wt.normalized,Wt.stride,Wt.offset),bt&&Wt.divisor&&bt.vertexAttribDivisorANGLE(It,Wt.divisor)):(Je.disableVertexAttribArray(It),Je.vertexAttrib4f(It,Wt.x,Wt.y,Wt.z,Wt.w))}for(bt=Tt.length;bt<At;++bt)Je.disableVertexAttribArray(bt);(bt=$e.getElements(this.elements))?Je.bindBuffer(34963,bt.buffer.buffer):Je.bindBuffer(34963,null)},ut.prototype.refresh=function(){var bt=ot.oes_vertex_array_object;bt&&(bt.bindVertexArrayOES(this.vao),this.bindAttrs(),Rt.currentVAO=null,bt.bindVertexArrayOES(null))},ut.prototype.destroy=function(){if(this.vao){var bt=ot.oes_vertex_array_object;this===Rt.currentVAO&&(Rt.currentVAO=null,bt.bindVertexArrayOES(null)),bt.deleteVertexArrayOES(this.vao),this.vao=null}this.ownsElements&&(this.elements.destroy(),this.elements=null,this.ownsElements=!1),_t[this.id]&&(delete _t[this.id],--ft.vaoCount)},Rt}(bt,pn,Sn,$t,on,vn,fn),Tn=function L(Je,ot,gt,ft){function Ue(Tt,It,Wt,$t){this.name=Tt,this.id=It,this.location=Wt,this.info=$t}function $e(Tt,It){for(var Wt=0;Wt<Tt.length;++Wt)if(Tt[Wt].id===It.id)return void(Tt[Wt].location=It.location);Tt.push(It)}function dt(Tt,It,Wt){if(!(Qt=(Wt=35632===Tt?wt:St)[It])){var $t=ot.str(It),Qt=Je.createShader(Tt);Je.shaderSource(Qt,$t),Je.compileShader(Qt),Wt[It]=Qt}return Qt}function ut(Tt,It){this.id=bt++,this.fragId=Tt,this.vertId=It,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,ft.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function At(Tt,It,Wt){var $t;$t=dt(35632,Tt.fragId);var Qt=dt(35633,Tt.vertId);if(It=Tt.program=Je.createProgram(),Je.attachShader(It,$t),Je.attachShader(It,Qt),Wt)for($t=0;$t<Wt.length;++$t)Je.bindAttribLocation(It,(Qt=Wt[$t])[0],Qt[1]);Je.linkProgram(It),Qt=Je.getProgramParameter(It,35718),ft.profile&&(Tt.stats.uniformsCount=Qt);var pn=Tt.uniforms;for($t=0;$t<Qt;++$t)if(Wt=Je.getActiveUniform(It,$t))if(1<Wt.size)for(var en=0;en<Wt.size;++en){var nn=Wt.name.replace("[0]","["+en+"]");$e(pn,new Ue(nn,ot.id(nn),Je.getUniformLocation(It,nn),Wt))}else $e(pn,new Ue(Wt.name,ot.id(Wt.name),Je.getUniformLocation(It,Wt.name),Wt));for(Qt=Je.getProgramParameter(It,35721),ft.profile&&(Tt.stats.attributesCount=Qt),Tt=Tt.attributes,$t=0;$t<Qt;++$t)(Wt=Je.getActiveAttrib(It,$t))&&$e(Tt,new Ue(Wt.name,ot.id(Wt.name),Je.getAttribLocation(It,Wt.name),Wt))}var wt={},St={},_t={},Rt=[],bt=0;return ft.profile&&(gt.getMaxUniformsCount=function(){var Tt=0;return Rt.forEach(function(It){It.stats.uniformsCount>Tt&&(Tt=It.stats.uniformsCount)}),Tt},gt.getMaxAttributesCount=function(){var Tt=0;return Rt.forEach(function(It){It.stats.attributesCount>Tt&&(Tt=It.stats.attributesCount)}),Tt}),{clear:function(){var Tt=Je.deleteShader.bind(Je);ye(wt).forEach(Tt),wt={},ye(St).forEach(Tt),St={},Rt.forEach(function(It){Je.deleteProgram(It.program)}),Rt.length=0,_t={},gt.shaderCount=0},program:function(Tt,It,Wt,$t){var Qt=_t[It];Qt||(Qt=_t[It]={});var pn=Qt[Tt];if(pn&&(pn.refCount++,!$t))return pn;var en=new ut(It,Tt);return gt.shaderCount++,At(en,Wt,$t),pn||(Qt[Tt]=en),Rt.push(en),oe(en,{destroy:function(){if(en.refCount--,0>=en.refCount){Je.deleteProgram(en.program);var nn=Rt.indexOf(en);Rt.splice(nn,1),gt.shaderCount--}0>=Qt[en.vertId].refCount&&(Je.deleteShader(St[en.vertId]),delete St[en.vertId],delete _t[en.fragId][en.vertId]),Object.keys(_t[en.fragId]).length||(Je.deleteShader(wt[en.fragId]),delete wt[en.fragId],delete _t[en.fragId])}})},restore:function(){wt={},St={};for(var Tt=0;Tt<Rt.length;++Tt)At(Rt[Tt],null,Rt[Tt].attributes.map(function(It){return[It.location,It.name]}))},shader:dt,frag:-1,vert:-1}}(bt,Wt,$t,Je),kn=function I(Je,ot,gt,ft,Ue,$e,dt){function ut(){this.format=this.internalformat=6408,this.type=5121,this.flipY=this.premultiplyAlpha=this.compressed=!1,this.unpackAlignment=1,this.colorSpace=37444,this.channels=this.height=this.width=0}function At(Jt,Nn){Jt.internalformat=Nn.internalformat,Jt.format=Nn.format,Jt.type=Nn.type,Jt.compressed=Nn.compressed,Jt.premultiplyAlpha=Nn.premultiplyAlpha,Jt.flipY=Nn.flipY,Jt.unpackAlignment=Nn.unpackAlignment,Jt.colorSpace=Nn.colorSpace,Jt.width=Nn.width,Jt.height=Nn.height,Jt.channels=Nn.channels}function wt(Jt,Nn){if("object"==typeof Nn&&Nn){"premultiplyAlpha"in Nn&&(Jt.premultiplyAlpha=Nn.premultiplyAlpha),"flipY"in Nn&&(Jt.flipY=Nn.flipY),"alignment"in Nn&&(Jt.unpackAlignment=Nn.alignment),"colorSpace"in Nn&&(Jt.colorSpace=Hn[Nn.colorSpace]),"type"in Nn&&(Jt.type=En[Nn.type]);var Ft=Jt.width,an=Jt.height,hn=Jt.channels,Dn=!1;"shape"in Nn?(Ft=Nn.shape[0],an=Nn.shape[1],3===Nn.shape.length&&(hn=Nn.shape[2],Dn=!0)):("radius"in Nn&&(Ft=an=Nn.radius),"width"in Nn&&(Ft=Nn.width),"height"in Nn&&(an=Nn.height),"channels"in Nn&&(hn=Nn.channels,Dn=!0)),Jt.width=0|Ft,Jt.height=0|an,Jt.channels=0|hn,Ft=!1,"format"in Nn&&(an=Jt.internalformat=Wn[Ft=Nn.format],Jt.format=bn[an],Ft in En&&!("type"in Nn)&&(Jt.type=En[Ft]),Ft in gr&&(Jt.compressed=!0),Ft=!0),!Dn&&Ft?Jt.channels=ve[Jt.format]:Dn&&!Ft&&Jt.channels!==qe[Jt.format]&&(Jt.format=Jt.internalformat=qe[Jt.channels])}}function St(Jt){Je.pixelStorei(37440,Jt.flipY),Je.pixelStorei(37441,Jt.premultiplyAlpha),Je.pixelStorei(37443,Jt.colorSpace),Je.pixelStorei(3317,Jt.unpackAlignment)}function _t(){ut.call(this),this.yOffset=this.xOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function Rt(Jt,Nn){var Ft=null;if(b(Nn)?Ft=Nn:Nn&&(wt(Jt,Nn),"x"in Nn&&(Jt.xOffset=0|Nn.x),"y"in Nn&&(Jt.yOffset=0|Nn.y),b(Nn.data)&&(Ft=Nn.data)),Nn.copy){var an=Ue.viewportWidth,hn=Ue.viewportHeight;Jt.width=Jt.width||an-Jt.xOffset,Jt.height=Jt.height||hn-Jt.yOffset,Jt.needsCopy=!0}else if(Ft){if(be(Ft))Jt.channels=Jt.channels||4,Jt.data=Ft,"type"in Nn||5121!==Jt.type||(Jt.type=0|ze[Object.prototype.toString.call(Ft)]);else if(m(Ft)){switch(Jt.channels=Jt.channels||4,hn=(an=Ft).length,Jt.type){case 5121:case 5123:case 5125:case 5126:(hn=Me.allocType(Jt.type,hn)).set(an),Jt.data=hn;break;case 36193:Jt.data=p(an)}Jt.alignment=1,Jt.needsFree=!0}else if(i(Ft)){an=Ft.data,Array.isArray(an)||5121!==Jt.type||(Jt.type=0|ze[Object.prototype.toString.call(an)]);var Dn,Ln,Vn,Mn,ln=Ft.stride;3===(hn=Ft.shape).length?(Vn=hn[2],Mn=ln[2]):Mn=Vn=1,Dn=hn[0],Ln=hn[1],hn=ln[0],ln=ln[1],Jt.alignment=1,Jt.width=Dn,Jt.height=Ln,Jt.channels=Vn,Jt.format=Jt.internalformat=qe[Vn],Jt.needsFree=!0,Dn=Mn,Ft=Ft.offset;for(var cn=Me.allocType(36193===Jt.type?5126:Jt.type,(Vn=Jt.width)*(Mn=Jt.height)*(Ln=Jt.channels)),wn=0,An=0;An<Mn;++An)for(var Gn=0;Gn<Vn;++Gn)for(var Yn=0;Yn<Ln;++Yn)cn[wn++]=an[hn*Gn+ln*An+Dn*Yn+Ft];A(Jt,cn)}else if(x(Ft)===Oe||x(Ft)===ke||x(Ft)===Be)Jt.element=x(Ft)===Oe||x(Ft)===ke?Ft:Ft.canvas,Jt.width=Jt.element.width,Jt.height=Jt.element.height,Jt.channels=4;else if(x(Ft)===We)Jt.element=Ft,Jt.width=Ft.width,Jt.height=Ft.height,Jt.channels=4;else if(x(Ft)===Ge)Jt.element=Ft,Jt.width=Ft.naturalWidth,Jt.height=Ft.naturalHeight,Jt.channels=4;else if(x(Ft)===Ke)Jt.element=Ft,Jt.width=Ft.videoWidth,Jt.height=Ft.videoHeight,Jt.channels=4;else if(w(Ft)){for(an=Jt.width||Ft[0].length,hn=Jt.height||Ft.length,ln=Jt.channels,ln=T(Ft[0][0])?ln||Ft[0][0].length:ln||1,Dn=we.shape(Ft),Vn=1,Mn=0;Mn<Dn.length;++Mn)Vn*=Dn[Mn];Vn=Me.allocType(36193===Jt.type?5126:Jt.type,Vn),we.flatten(Ft,Dn,"",Vn),A(Jt,Vn),Jt.alignment=1,Jt.width=an,Jt.height=hn,Jt.channels=ln,Jt.format=Jt.internalformat=qe[ln],Jt.needsFree=!0}}else Jt.width=Jt.width||1,Jt.height=Jt.height||1,Jt.channels=Jt.channels||4}function bt(Jt,Nn,Ft,an,hn){var Dn=Jt.element,Ln=Jt.data,Vn=Jt.internalformat,Mn=Jt.format,ln=Jt.type,cn=Jt.width,wn=Jt.height;St(Jt),Dn?Je.texSubImage2D(Nn,hn,Ft,an,Mn,ln,Dn):Jt.compressed?Je.compressedTexSubImage2D(Nn,hn,Ft,an,Vn,cn,wn,Ln):Jt.needsCopy?(ft(),Je.copyTexSubImage2D(Nn,hn,Ft,an,Jt.xOffset,Jt.yOffset,cn,wn)):Je.texSubImage2D(Nn,hn,Ft,an,cn,wn,Mn,ln,Ln)}function Tt(){return Cn.pop()||new _t}function It(Jt){Jt.needsFree&&Me.freeType(Jt.data),_t.call(Jt),Cn.push(Jt)}function Wt(){ut.call(this),this.genMipmaps=!1,this.mipmapHint=4352,this.mipmask=0,this.images=Array(16)}function $t(Jt,Nn,Ft){var an=Jt.images[0]=Tt();Jt.mipmask=1,an.width=Jt.width=Nn,an.height=Jt.height=Ft,an.channels=Jt.channels=4}function Qt(Jt,Nn){var Ft=null;if(b(Nn))At(Ft=Jt.images[0]=Tt(),Jt),Rt(Ft,Nn),Jt.mipmask=1;else if(wt(Jt,Nn),Array.isArray(Nn.mipmap))for(var an=Nn.mipmap,hn=0;hn<an.length;++hn)At(Ft=Jt.images[hn]=Tt(),Jt),Ft.width>>=hn,Ft.height>>=hn,Rt(Ft,an[hn]),Jt.mipmask|=1<<hn;else At(Ft=Jt.images[0]=Tt(),Jt),Rt(Ft,Nn),Jt.mipmask=1;At(Jt,Jt.images[0])}function pn(Jt,Nn){for(var Ft=Jt.images,an=0;an<Ft.length&&Ft[an];++an){var hn=Ft[an],Dn=Nn,Ln=an,Vn=hn.element,Mn=hn.data,ln=hn.internalformat,cn=hn.format,wn=hn.type,An=hn.width,Gn=hn.height;St(hn),Vn?Je.texImage2D(Dn,Ln,cn,cn,wn,Vn):hn.compressed?Je.compressedTexImage2D(Dn,Ln,ln,An,Gn,0,Mn):hn.needsCopy?(ft(),Je.copyTexImage2D(Dn,Ln,cn,hn.xOffset,hn.yOffset,An,Gn,0)):Je.texImage2D(Dn,Ln,cn,An,Gn,0,cn,wn,Mn||null)}}function en(){var Jt=Bn.pop()||new Wt;ut.call(Jt);for(var Nn=Jt.mipmask=0;16>Nn;++Nn)Jt.images[Nn]=null;return Jt}function nn(Jt){for(var Nn=Jt.images,Ft=0;Ft<Nn.length;++Ft)Nn[Ft]&&It(Nn[Ft]),Nn[Ft]=null;Bn.push(Jt)}function fn(){this.magFilter=this.minFilter=9728,this.wrapT=this.wrapS=33071,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=4352}function On(Jt,Nn){"min"in Nn&&(Jt.minFilter=Rn[Nn.min],0<=je.indexOf(Jt.minFilter)&&!("faces"in Nn)&&(Jt.genMipmaps=!0)),"mag"in Nn&&(Jt.magFilter=xn[Nn.mag]);var Ft=Jt.wrapS,an=Jt.wrapT;if("wrap"in Nn){var hn=Nn.wrap;"string"==typeof hn?Ft=an=kn[hn]:Array.isArray(hn)&&(Ft=kn[hn[0]],an=kn[hn[1]])}else"wrapS"in Nn&&(Ft=kn[Nn.wrapS]),"wrapT"in Nn&&(an=kn[Nn.wrapT]);if(Jt.wrapS=Ft,Jt.wrapT=an,"anisotropic"in Nn&&(Jt.anisotropic=Nn.anisotropic),"mipmap"in Nn){switch(Ft=!1,typeof Nn.mipmap){case"string":Jt.mipmapHint=Tn[Nn.mipmap],Ft=Jt.genMipmaps=!0;break;case"boolean":Ft=Jt.genMipmaps=Nn.mipmap;break;case"object":Jt.genMipmaps=!1,Ft=!0}!Ft||"min"in Nn||(Jt.minFilter=9984)}}function Un(Jt,Nn){Je.texParameteri(Nn,10241,Jt.minFilter),Je.texParameteri(Nn,10240,Jt.magFilter),Je.texParameteri(Nn,10242,Jt.wrapS),Je.texParameteri(Nn,10243,Jt.wrapT),ot.ext_texture_filter_anisotropic&&Je.texParameteri(Nn,34046,Jt.anisotropic),Jt.genMipmaps&&(Je.hint(33170,Jt.mipmapHint),Je.generateMipmap(Nn))}function Sn(Jt){ut.call(this),this.mipmask=0,this.internalformat=6408,this.id=sr++,this.refCount=1,this.target=Jt,this.texture=Je.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new fn,dt.profile&&(this.stats={size:0})}function on(Jt){Je.activeTexture(33984),Je.bindTexture(Jt.target,Jt.texture)}function vn(){var Jt=Xn[0];Jt?Je.bindTexture(Jt.target,Jt.texture):Je.bindTexture(3553,null)}function un(Jt){var Nn=Jt.texture,Ft=Jt.unit,an=Jt.target;0<=Ft&&(Je.activeTexture(33984+Ft),Je.bindTexture(an,null),Xn[Ft]=null),Je.deleteTexture(Nn),Jt.texture=null,Jt.params=null,Jt.pixels=null,Jt.refCount=0,delete yn[Jt.id],$e.textureCount--}var Tn={"don't care":4352,"dont care":4352,nice:4354,fast:4353},kn={repeat:10497,clamp:33071,mirror:33648},xn={nearest:9728,linear:9729},Rn=oe({mipmap:9987,"nearest mipmap nearest":9984,"linear mipmap nearest":9985,"nearest mipmap linear":9986,"linear mipmap linear":9987},xn),Hn={none:0,browser:37444},En={uint8:5121,rgba4:32819,rgb565:33635,"rgb5 a1":32820},Wn={alpha:6406,luminance:6409,"luminance alpha":6410,rgb:6407,rgba:6408,rgba4:32854,"rgb5 a1":32855,rgb565:36194},gr={};ot.ext_srgb&&(Wn.srgb=35904,Wn.srgba=35906),ot.oes_texture_float&&(En.float32=En.float=5126),ot.oes_texture_half_float&&(En.float16=En["half float"]=36193),ot.webgl_depth_texture&&(oe(Wn,{depth:6402,"depth stencil":34041}),oe(En,{uint16:5123,uint32:5125,"depth stencil":34042})),ot.webgl_compressed_texture_s3tc&&oe(gr,{"rgb s3tc dxt1":33776,"rgba s3tc dxt1":33777,"rgba s3tc dxt3":33778,"rgba s3tc dxt5":33779}),ot.webgl_compressed_texture_atc&&oe(gr,{"rgb atc":35986,"rgba atc explicit alpha":35987,"rgba atc interpolated alpha":34798}),ot.webgl_compressed_texture_pvrtc&&oe(gr,{"rgb pvrtc 4bppv1":35840,"rgb pvrtc 2bppv1":35841,"rgba pvrtc 4bppv1":35842,"rgba pvrtc 2bppv1":35843}),ot.webgl_compressed_texture_etc1&&(gr["rgb etc1"]=36196);var lr=Array.prototype.slice.call(Je.getParameter(34467));Object.keys(gr).forEach(function(Jt){var Nn=gr[Jt];0<=lr.indexOf(Nn)&&(Wn[Jt]=Nn)});var wr=Object.keys(Wn);gt.textureFormats=wr;var dr=[];Object.keys(Wn).forEach(function(Jt){dr[Wn[Jt]]=Jt});var mr=[];Object.keys(En).forEach(function(Jt){mr[En[Jt]]=Jt});var Ir=[];Object.keys(xn).forEach(function(Jt){Ir[xn[Jt]]=Jt});var qt=[];Object.keys(Rn).forEach(function(Jt){qt[Rn[Jt]]=Jt});var tn=[];Object.keys(kn).forEach(function(Jt){tn[kn[Jt]]=Jt});var bn=wr.reduce(function(Jt,Nn){var Ft=Wn[Nn];return Jt[Ft]=6409===Ft||6406===Ft||6409===Ft||6410===Ft||6402===Ft||34041===Ft||ot.ext_srgb&&(35904===Ft||35906===Ft)?Ft:32855===Ft||0<=Nn.indexOf("rgba")?6408:6407,Jt},{}),Cn=[],Bn=[],sr=0,yn={},Zn=gt.maxTextureUnits,Xn=Array(Zn).map(function(){return null});return oe(Sn.prototype,{bind:function(){this.bindCount+=1;var Jt=this.unit;if(0>Jt){for(var Nn=0;Nn<Zn;++Nn){var Ft=Xn[Nn];if(Ft){if(0<Ft.bindCount)continue;Ft.unit=-1}Xn[Nn]=this,Jt=Nn;break}dt.profile&&$e.maxTextureUnits<Jt+1&&($e.maxTextureUnits=Jt+1),this.unit=Jt,Je.activeTexture(33984+Jt),Je.bindTexture(this.target,this.texture)}return Jt},unbind:function(){--this.bindCount},decRef:function(){0>=--this.refCount&&un(this)}}),dt.profile&&($e.getTotalTextureSize=function(){var Jt=0;return Object.keys(yn).forEach(function(Nn){Jt+=yn[Nn].stats.size}),Jt}),{create2D:function(Jt,Nn){function Ft(hn,Dn){var Ln=an.texInfo;fn.call(Ln);var Vn=en();return"number"==typeof hn?$t(Vn,0|hn,"number"==typeof Dn?0|Dn:0|hn):hn?(On(Ln,hn),Qt(Vn,hn)):$t(Vn,1,1),Ln.genMipmaps&&(Vn.mipmask=(Vn.width<<1)-1),an.mipmask=Vn.mipmask,At(an,Vn),an.internalformat=Vn.internalformat,Ft.width=Vn.width,Ft.height=Vn.height,on(an),pn(Vn,3553),Un(Ln,3553),vn(),nn(Vn),dt.profile&&(an.stats.size=g(an.internalformat,an.type,Vn.width,Vn.height,Ln.genMipmaps,!1)),Ft.format=dr[an.internalformat],Ft.type=mr[an.type],Ft.mag=Ir[Ln.magFilter],Ft.min=qt[Ln.minFilter],Ft.wrapS=tn[Ln.wrapS],Ft.wrapT=tn[Ln.wrapT],Ft}var an=new Sn(3553);return yn[an.id]=an,$e.textureCount++,Ft(Jt,Nn),Ft.subimage=function(hn,Dn,Ln,Vn){Dn|=0,Ln|=0,Vn|=0;var Mn=Tt();return At(Mn,an),Mn.width=0,Mn.height=0,Rt(Mn,hn),Mn.width=Mn.width||(an.width>>Vn)-Dn,Mn.height=Mn.height||(an.height>>Vn)-Ln,on(an),bt(Mn,3553,Dn,Ln,Vn),vn(),It(Mn),Ft},Ft.resize=function(hn,Dn){var Ln=0|hn,Vn=0|Dn||Ln;if(Ln===an.width&&Vn===an.height)return Ft;Ft.width=an.width=Ln,Ft.height=an.height=Vn,on(an);for(var Mn=0;an.mipmask>>Mn;++Mn){var ln=Ln>>Mn,cn=Vn>>Mn;if(!ln||!cn)break;Je.texImage2D(3553,Mn,an.format,ln,cn,0,an.format,an.type,null)}return vn(),dt.profile&&(an.stats.size=g(an.internalformat,an.type,Ln,Vn,!1,!1)),Ft},Ft._reglType="texture2d",Ft._texture=an,dt.profile&&(Ft.stats=an.stats),Ft.destroy=function(){an.decRef()},Ft},createCube:function(Jt,Nn,Ft,an,hn,Dn){function Ln(ln,cn,wn,An,Gn,Yn){var hr,ir=Vn.texInfo;for(fn.call(ir),hr=0;6>hr;++hr)Mn[hr]=en();if("number"!=typeof ln&&ln){if("object"==typeof ln)if(cn)Qt(Mn[0],ln),Qt(Mn[1],cn),Qt(Mn[2],wn),Qt(Mn[3],An),Qt(Mn[4],Gn),Qt(Mn[5],Yn);else if(On(ir,ln),wt(Vn,ln),"faces"in ln)for(ln=ln.faces,hr=0;6>hr;++hr)At(Mn[hr],Vn),Qt(Mn[hr],ln[hr]);else for(hr=0;6>hr;++hr)Qt(Mn[hr],ln)}else for(ln=0|ln||1,hr=0;6>hr;++hr)$t(Mn[hr],ln,ln);for(At(Vn,Mn[0]),Vn.mipmask=ir.genMipmaps?(Mn[0].width<<1)-1:Mn[0].mipmask,Vn.internalformat=Mn[0].internalformat,Ln.width=Mn[0].width,Ln.height=Mn[0].height,on(Vn),hr=0;6>hr;++hr)pn(Mn[hr],34069+hr);for(Un(ir,34067),vn(),dt.profile&&(Vn.stats.size=g(Vn.internalformat,Vn.type,Ln.width,Ln.height,ir.genMipmaps,!0)),Ln.format=dr[Vn.internalformat],Ln.type=mr[Vn.type],Ln.mag=Ir[ir.magFilter],Ln.min=qt[ir.minFilter],Ln.wrapS=tn[ir.wrapS],Ln.wrapT=tn[ir.wrapT],hr=0;6>hr;++hr)nn(Mn[hr]);return Ln}var Vn=new Sn(34067);yn[Vn.id]=Vn,$e.cubeCount++;var Mn=Array(6);return Ln(Jt,Nn,Ft,an,hn,Dn),Ln.subimage=function(ln,cn,wn,An,Gn){wn|=0,An|=0,Gn|=0;var Yn=Tt();return At(Yn,Vn),Yn.width=0,Yn.height=0,Rt(Yn,cn),Yn.width=Yn.width||(Vn.width>>Gn)-wn,Yn.height=Yn.height||(Vn.height>>Gn)-An,on(Vn),bt(Yn,34069+ln,wn,An,Gn),vn(),It(Yn),Ln},Ln.resize=function(ln){if((ln|=0)!==Vn.width){Ln.width=Vn.width=ln,Ln.height=Vn.height=ln,on(Vn);for(var cn=0;6>cn;++cn)for(var wn=0;Vn.mipmask>>wn;++wn)Je.texImage2D(34069+cn,wn,Vn.format,ln>>wn,ln>>wn,0,Vn.format,Vn.type,null);return vn(),dt.profile&&(Vn.stats.size=g(Vn.internalformat,Vn.type,Ln.width,Ln.height,!1,!0)),Ln}},Ln._reglType="textureCube",Ln._texture=Vn,dt.profile&&(Ln.stats=Vn.stats),Ln.destroy=function(){Vn.decRef()},Ln},clear:function(){for(var Jt=0;Jt<Zn;++Jt)Je.activeTexture(33984+Jt),Je.bindTexture(3553,null),Xn[Jt]=null;ye(yn).forEach(un),$e.cubeCount=0,$e.textureCount=0},getTexture:function(Jt){return null},restore:function(){for(var Jt=0;Jt<Zn;++Jt){var Nn=Xn[Jt];Nn&&(Nn.bindCount=0,Nn.unit=-1,Xn[Jt]=null)}ye(yn).forEach(function(Ft){Ft.texture=Je.createTexture(),Je.bindTexture(Ft.target,Ft.texture);for(var an=0;32>an;++an)if(Ft.mipmask&1<<an)if(3553===Ft.target)Je.texImage2D(3553,an,Ft.internalformat,Ft.width>>an,Ft.height>>an,0,Ft.internalformat,Ft.type,null);else for(var hn=0;6>hn;++hn)Je.texImage2D(34069+hn,an,Ft.internalformat,Ft.width>>an,Ft.height>>an,0,Ft.internalformat,Ft.type,null);Un(Ft.texInfo,Ft.target)})},refresh:function(){for(var Jt=0;Jt<Zn;++Jt){var Nn=Xn[Jt];Nn&&(Nn.bindCount=0,Nn.unit=-1,Xn[Jt]=null),Je.activeTexture(33984+Jt),Je.bindTexture(3553,null),Je.bindTexture(34067,null)}}}}(bt,pn,Sn,function(){Hn.procs.poll()},Un,$t,Je),xn=function(Je,ot,gt,ft,Ue){function $e(_t){this.id=wt++,this.refCount=1,this.renderbuffer=_t,this.format=32854,this.height=this.width=0,Ue.profile&&(this.stats={size:0})}function dt(_t){var Rt=_t.renderbuffer;Je.bindRenderbuffer(36161,null),Je.deleteRenderbuffer(Rt),_t.renderbuffer=null,_t.refCount=0,delete St[_t.id],ft.renderbufferCount--}var ut={rgba4:32854,rgb565:36194,"rgb5 a1":32855,depth:33189,stencil:36168,"depth stencil":34041};ot.ext_srgb&&(ut.srgba=35907),ot.ext_color_buffer_half_float&&(ut.rgba16f=34842,ut.rgb16f=34843),ot.webgl_color_buffer_float&&(ut.rgba32f=34836);var At=[];Object.keys(ut).forEach(function(_t){At[ut[_t]]=_t});var wt=0,St={};return $e.prototype.decRef=function(){0>=--this.refCount&&dt(this)},Ue.profile&&(ft.getTotalRenderbufferSize=function(){var _t=0;return Object.keys(St).forEach(function(Rt){_t+=St[Rt].stats.size}),_t}),{create:function(_t,Rt){function bt(It,Wt){var $t=0,Qt=0,pn=32854;if("object"==typeof It&&It?("shape"in It?($t=0|(Qt=It.shape)[0],Qt=0|Qt[1]):("radius"in It&&($t=Qt=0|It.radius),"width"in It&&($t=0|It.width),"height"in It&&(Qt=0|It.height)),"format"in It&&(pn=ut[It.format])):"number"==typeof It?($t=0|It,Qt="number"==typeof Wt?0|Wt:$t):It||($t=Qt=1),$t!==Tt.width||Qt!==Tt.height||pn!==Tt.format)return bt.width=Tt.width=$t,bt.height=Tt.height=Qt,Tt.format=pn,Je.bindRenderbuffer(36161,Tt.renderbuffer),Je.renderbufferStorage(36161,pn,$t,Qt),Ue.profile&&(Tt.stats.size=ct[Tt.format]*Tt.width*Tt.height),bt.format=At[Tt.format],bt}var Tt=new $e(Je.createRenderbuffer());return St[Tt.id]=Tt,ft.renderbufferCount++,bt(_t,Rt),bt.resize=function(It,Wt){var $t=0|It,Qt=0|Wt||$t;return $t===Tt.width&&Qt===Tt.height||(bt.width=Tt.width=$t,bt.height=Tt.height=Qt,Je.bindRenderbuffer(36161,Tt.renderbuffer),Je.renderbufferStorage(36161,Tt.format,$t,Qt),Ue.profile&&(Tt.stats.size=ct[Tt.format]*Tt.width*Tt.height)),bt},bt._reglType="renderbuffer",bt._renderbuffer=Tt,Ue.profile&&(bt.stats=Tt.stats),bt.destroy=function(){Tt.decRef()},bt},clear:function(){ye(St).forEach(dt)},restore:function(){ye(St).forEach(function(_t){_t.renderbuffer=Je.createRenderbuffer(),Je.bindRenderbuffer(36161,_t.renderbuffer),Je.renderbufferStorage(36161,_t.format,_t.width,_t.height)}),Je.bindRenderbuffer(36161,null)}}}(bt,pn,0,$t,Je),Rn=function S(Je,ot,gt,ft,Ue,$e){function dt(Sn,on,vn){this.target=Sn,this.texture=on,this.renderbuffer=vn;var un=Sn=0;on?(Sn=on.width,un=on.height):vn&&(Sn=vn.width,un=vn.height),this.width=Sn,this.height=un}function ut(Sn){Sn&&(Sn.texture&&Sn.texture._texture.decRef(),Sn.renderbuffer&&Sn.renderbuffer._renderbuffer.decRef())}function At(Sn,on,vn){Sn&&(Sn.texture?Sn.texture._texture.refCount+=1:Sn.renderbuffer._renderbuffer.refCount+=1)}function wt(Sn,on){on&&(on.texture?Je.framebufferTexture2D(36160,Sn,on.target,on.texture._texture.texture,0):Je.framebufferRenderbuffer(36160,Sn,36161,on.renderbuffer._renderbuffer.renderbuffer))}function St(Sn){var on=3553,vn=null,un=null,Tn=Sn;return"object"==typeof Sn&&(Tn=Sn.data,"target"in Sn&&(on=0|Sn.target)),"texture2d"===(Sn=Tn._reglType)||"textureCube"===Sn?vn=Tn:"renderbuffer"===Sn&&(un=Tn,on=36161),new dt(on,vn,un)}function _t(Sn,on,vn,un,Tn){return vn?((Sn=ft.create2D({width:Sn,height:on,format:un,type:Tn}))._texture.refCount=0,new dt(3553,Sn,null)):((Sn=Ue.create({width:Sn,height:on,format:un}))._renderbuffer.refCount=0,new dt(36161,null,Sn))}function Rt(Sn){return Sn&&(Sn.texture||Sn.renderbuffer)}function bt(Sn,on,vn){Sn&&(Sn.texture?Sn.texture.resize(on,vn):Sn.renderbuffer&&Sn.renderbuffer.resize(on,vn),Sn.width=on,Sn.height=vn)}function Tt(){this.id=On++,Un[this.id]=this,this.framebuffer=Je.createFramebuffer(),this.height=this.width=0,this.colorAttachments=[],this.depthStencilAttachment=this.stencilAttachment=this.depthAttachment=null}function It(Sn){Sn.colorAttachments.forEach(ut),ut(Sn.depthAttachment),ut(Sn.stencilAttachment),ut(Sn.depthStencilAttachment)}function Wt(Sn){Je.deleteFramebuffer(Sn.framebuffer),Sn.framebuffer=null,$e.framebufferCount--,delete Un[Sn.id]}function $t(Sn){var on;Je.bindFramebuffer(36160,Sn.framebuffer);var vn=Sn.colorAttachments;for(on=0;on<vn.length;++on)wt(36064+on,vn[on]);for(on=vn.length;on<gt.maxColorAttachments;++on)Je.framebufferTexture2D(36160,36064+on,3553,null,0);Je.framebufferTexture2D(36160,33306,3553,null,0),Je.framebufferTexture2D(36160,36096,3553,null,0),Je.framebufferTexture2D(36160,36128,3553,null,0),wt(36096,Sn.depthAttachment),wt(36128,Sn.stencilAttachment),wt(33306,Sn.depthStencilAttachment),Je.checkFramebufferStatus(36160),Je.isContextLost(),Je.bindFramebuffer(36160,pn.next?pn.next.framebuffer:null),pn.cur=pn.next,Je.getError()}function Qt(Sn,on){function vn(Tn,kn){var xn,Rn=0,Hn=0,En=!0,Wn=!0;xn=null;var gr=!0,lr="rgba",wr="uint8",dr=1,mr=null,Ir=null,qt=null,tn=!1;"number"==typeof Tn?(Rn=0|Tn,Hn=0|kn||Rn):Tn?("shape"in Tn?(Rn=(Hn=Tn.shape)[0],Hn=Hn[1]):("radius"in Tn&&(Rn=Hn=Tn.radius),"width"in Tn&&(Rn=Tn.width),"height"in Tn&&(Hn=Tn.height)),("color"in Tn||"colors"in Tn)&&(xn=Tn.color||Tn.colors,Array.isArray(xn)),xn||("colorCount"in Tn&&(dr=0|Tn.colorCount),"colorTexture"in Tn&&(gr=!!Tn.colorTexture,lr="rgba4"),"colorType"in Tn&&(wr=Tn.colorType,!gr)&&("half float"===wr||"float16"===wr?lr="rgba16f":"float"!==wr&&"float32"!==wr||(lr="rgba32f")),"colorFormat"in Tn&&(0<=en.indexOf(lr=Tn.colorFormat)?gr=!0:0<=nn.indexOf(lr)&&(gr=!1))),("depthTexture"in Tn||"depthStencilTexture"in Tn)&&(tn=!(!Tn.depthTexture&&!Tn.depthStencilTexture)),"depth"in Tn&&("boolean"==typeof Tn.depth?En=Tn.depth:(mr=Tn.depth,Wn=!1)),"stencil"in Tn&&("boolean"==typeof Tn.stencil?Wn=Tn.stencil:(Ir=Tn.stencil,En=!1)),"depthStencil"in Tn&&("boolean"==typeof Tn.depthStencil?En=Wn=Tn.depthStencil:(qt=Tn.depthStencil,Wn=En=!1))):Rn=Hn=1;var bn=null,Cn=null,Bn=null,sr=null;if(Array.isArray(xn))bn=xn.map(St);else if(xn)bn=[St(xn)];else for(bn=Array(dr),xn=0;xn<dr;++xn)bn[xn]=_t(Rn,Hn,gr,lr,wr);for(Rn=Rn||bn[0].width,Hn=Hn||bn[0].height,mr?Cn=St(mr):En&&!Wn&&(Cn=_t(Rn,Hn,tn,"depth","uint32")),Ir?Bn=St(Ir):Wn&&!En&&(Bn=_t(Rn,Hn,!1,"stencil","uint8")),qt?sr=St(qt):!mr&&!Ir&&Wn&&En&&(sr=_t(Rn,Hn,tn,"depth stencil","depth stencil")),En=null,xn=0;xn<bn.length;++xn)At(bn[xn]),bn[xn]&&bn[xn].texture&&(Wn=Dt[bn[xn].texture._texture.format]*Et[bn[xn].texture._texture.type],null===En&&(En=Wn));return At(Cn),At(Bn),At(sr),It(un),un.width=Rn,un.height=Hn,un.colorAttachments=bn,un.depthAttachment=Cn,un.stencilAttachment=Bn,un.depthStencilAttachment=sr,vn.color=bn.map(Rt),vn.depth=Rt(Cn),vn.stencil=Rt(Bn),vn.depthStencil=Rt(sr),vn.width=un.width,vn.height=un.height,$t(un),vn}var un=new Tt;return $e.framebufferCount++,vn(Sn,on),oe(vn,{resize:function(Tn,kn){var xn=Math.max(0|Tn,1),Rn=Math.max(0|kn||xn,1);if(xn===un.width&&Rn===un.height)return vn;for(var Hn=un.colorAttachments,En=0;En<Hn.length;++En)bt(Hn[En],xn,Rn);return bt(un.depthAttachment,xn,Rn),bt(un.stencilAttachment,xn,Rn),bt(un.depthStencilAttachment,xn,Rn),un.width=vn.width=xn,un.height=vn.height=Rn,$t(un),vn},_reglType:"framebuffer",_framebuffer:un,destroy:function(){Wt(un),It(un)},use:function(Tn){pn.setFBO({framebuffer:vn},Tn)}})}var pn={cur:null,next:null,dirty:!1,setFBO:null},en=["rgba"],nn=["rgba4","rgb565","rgb5 a1"];ot.ext_srgb&&nn.push("srgba"),ot.ext_color_buffer_half_float&&nn.push("rgba16f","rgb16f"),ot.webgl_color_buffer_float&&nn.push("rgba32f");var fn=["uint8"];ot.oes_texture_half_float&&fn.push("half float","float16"),ot.oes_texture_float&&fn.push("float","float32");var On=0,Un={};return oe(pn,{getFramebuffer:function(Sn){return"function"==typeof Sn&&"framebuffer"===Sn._reglType&&(Sn=Sn._framebuffer)instanceof Tt?Sn:null},create:Qt,createCube:function(Sn){function on(un){var Tn,kn={color:null},xn=0,Rn=null;Tn="rgba";var Hn="uint8",En=1;if("number"==typeof un?xn=0|un:un?("shape"in un?xn=un.shape[0]:("radius"in un&&(xn=0|un.radius),"width"in un?xn=0|un.width:"height"in un&&(xn=0|un.height)),("color"in un||"colors"in un)&&(Rn=un.color||un.colors,Array.isArray(Rn)),Rn||("colorCount"in un&&(En=0|un.colorCount),"colorType"in un&&(Hn=un.colorType),"colorFormat"in un&&(Tn=un.colorFormat)),"depth"in un&&(kn.depth=un.depth),"stencil"in un&&(kn.stencil=un.stencil),"depthStencil"in un&&(kn.depthStencil=un.depthStencil)):xn=1,Rn)if(Array.isArray(Rn))for(un=[],Tn=0;Tn<Rn.length;++Tn)un[Tn]=Rn[Tn];else un=[Rn];else for(un=Array(En),Rn={radius:xn,format:Tn,type:Hn},Tn=0;Tn<En;++Tn)un[Tn]=ft.createCube(Rn);for(kn.color=Array(un.length),Tn=0;Tn<un.length;++Tn)En=un[Tn],xn=xn||En.width,kn.color[Tn]={target:34069,data:un[Tn]};for(Tn=0;6>Tn;++Tn){for(En=0;En<un.length;++En)kn.color[En].target=34069+Tn;0<Tn&&(kn.depth=vn[0].depth,kn.stencil=vn[0].stencil,kn.depthStencil=vn[0].depthStencil),vn[Tn]?vn[Tn](kn):vn[Tn]=Qt(kn)}return oe(on,{width:xn,height:xn,color:un})}var vn=Array(6);return on(Sn),oe(on,{faces:vn,resize:function(un){var Tn=0|un;if(Tn===on.width)return on;var kn=on.color;for(un=0;un<kn.length;++un)kn[un].resize(Tn);for(un=0;6>un;++un)vn[un].resize(Tn);return on.width=on.height=Tn,on},_reglType:"framebufferCube",destroy:function(){vn.forEach(function(un){un.destroy()})}})},clear:function(){ye(Un).forEach(Wt)},restore:function(){pn.cur=null,pn.next=null,pn.dirty=!0,ye(Un).forEach(function(Sn){Sn.framebuffer=Je.createFramebuffer(),$t(Sn)})}})}(bt,pn,Sn,kn,xn,$t),Hn=Q(bt,Wt,pn,Sn,on,vn,0,Rn,{},un,Tn,fn,Un,en,Qt,Je),En=(Wt=function N(Je,ot,gt,ft,Ue,$e,dt){function ut(At){var wt;wt=null===ot.next?5121:ot.next.colorAttachments[0].texture._texture.type;var St=0,_t=0,Rt=ft.framebufferWidth,bt=ft.framebufferHeight,Tt=null;return be(At)?Tt=At:At&&(St=0|At.x,_t=0|At.y,Rt=0|(At.width||ft.framebufferWidth-St),bt=0|(At.height||ft.framebufferHeight-_t),Tt=At.data||null),gt(),At=Rt*bt*4,Tt||(5121===wt?Tt=new Uint8Array(At):5126===wt&&(Tt=Tt||new Float32Array(At))),Je.pixelStorei(3333,4),Je.readPixels(St,_t,Rt,bt,6408,wt,Tt),Tt}return function(At){return At&&"framebuffer"in At?(ot.setFBO({framebuffer:(wt=At).framebuffer},function(){St=ut(wt)}),St):ut(At);var wt,St}}(bt,Rn,Hn.procs.poll,Un),Hn.next),Wn=bt.canvas,gr=[],lr=[],wr=[],dr=[Je.onDestroy],mr=null;Wn&&(Wn.addEventListener("webglcontextlost",Ue,!1),Wn.addEventListener("webglcontextrestored",$e,!1));var Ir=Rn.setFBO=dt({framebuffer:fe.define.call(null,1,"framebuffer")});return _t(),Tt=oe(dt,{clear:function(qt){if("framebuffer"in qt)if(qt.framebuffer&&"framebufferCube"===qt.framebuffer_reglType)for(var tn=0;6>tn;++tn)Ir(oe({framebuffer:qt.framebuffer.faces[tn]},qt),ut);else Ir(qt,ut);else ut(0,qt)},prop:fe.define.bind(null,1),context:fe.define.bind(null,2),this:fe.define.bind(null,3),draw:dt({}),buffer:function(qt){return on.create(qt,34962,!1,!1)},elements:function(qt){return vn.create(qt,!1)},texture:kn.create2D,cube:kn.createCube,renderbuffer:xn.create,framebuffer:Rn.create,framebufferCube:Rn.createCube,vao:un.createVAO,attributes:Tt,frame:At,on:function(qt,tn){var bn;switch(qt){case"frame":return At(tn);case"lost":bn=lr;break;case"restore":bn=wr;break;case"destroy":bn=dr}return bn.push(tn),{cancel:function(){for(var Cn=0;Cn<bn.length;++Cn)if(bn[Cn]===tn){bn[Cn]=bn[bn.length-1],bn.pop();break}}}},limits:Sn,hasExtension:function(qt){return 0<=Sn.extensions.indexOf(qt.toLowerCase())},read:Wt,destroy:function(){gr.length=0,ft(),Wn&&(Wn.removeEventListener("webglcontextlost",Ue),Wn.removeEventListener("webglcontextrestored",$e)),Tn.clear(),Rn.clear(),xn.clear(),un.clear(),kn.clear(),vn.clear(),on.clear(),en&&en.clear(),dr.forEach(function(qt){qt()})},_gl:bt,_refresh:_t,poll:function(){St(),en&&en.update()},now:Rt,stats:$t,getCachedCode:function(){return Qt},preloadCachedCode:function(qt){Object.entries(qt).forEach(function(tn){Qt[tn[0]]=tn[1]})}}),Je.onDone(null,Tt),Tt}}()},71665:function(ae,B,r){var D=r(12856),E=D.Buffer;function f(M,y){for(var c in M)y[c]=M[c]}function k(M,y,c){return E(M,y,c)}E.from&&E.alloc&&E.allocUnsafe&&E.allocUnsafeSlow?ae.exports=D:(f(D,B),B.Buffer=k),k.prototype=Object.create(E.prototype),f(E,k),k.from=function(M,y,c){if("number"==typeof M)throw new TypeError("Argument must not be a number");return E(M,y,c)},k.alloc=function(M,y,c){if("number"!=typeof M)throw new TypeError("Argument must be a number");var i=E(M);return void 0!==y?"string"==typeof c?i.fill(y,c):i.fill(y):i.fill(0),i},k.allocUnsafe=function(M){if("number"!=typeof M)throw new TypeError("Argument must be a number");return E(M)},k.allocUnsafeSlow=function(M){if("number"!=typeof M)throw new TypeError("Argument must be a number");return D.SlowBuffer(M)}},21630:function(ae,B,r){ae.exports=E;var D=r(15398).EventEmitter;function E(){D.call(this)}r(42018)(E,D),E.Readable=r(40410),E.Writable=r(37493),E.Duplex=r(37865),E.Transform=r(74308),E.PassThrough=r(66897),E.finished=r(12726),E.pipeline=r(10168),E.Stream=E,E.prototype.pipe=function(f,k){var M=this;function y(u){f.writable&&!1===f.write(u)&&M.pause&&M.pause()}function c(){M.readable&&M.resume&&M.resume()}M.on("data",y),f.on("drain",c),f._isStdio||k&&!1===k.end||(M.on("end",s),M.on("close",a));var i=!1;function s(){i||(i=!0,f.end())}function a(){i||(i=!0,"function"==typeof f.destroy&&f.destroy())}function o(u){if(l(),0===D.listenerCount(this,"error"))throw u}function l(){M.removeListener("data",y),f.removeListener("drain",c),M.removeListener("end",s),M.removeListener("close",a),M.removeListener("error",o),f.removeListener("error",o),M.removeListener("end",l),M.removeListener("close",l),f.removeListener("close",l)}return M.on("error",o),f.on("error",o),M.on("end",l),M.on("close",l),f.on("close",l),f.emit("pipe",M),f}},74322:function(ae){"use strict";var B={};function r(E,f,k){k||(k=Error);var M=function(y){var c,i;function s(a,o,l){return y.call(this,"string"==typeof f?f:f(a,o,l))||this}return i=y,(c=s).prototype=Object.create(i.prototype),c.prototype.constructor=c,c.__proto__=i,s}(k);M.prototype.name=k.name,M.prototype.code=E,B[E]=M}function D(E,f){if(Array.isArray(E)){var k=E.length;return E=E.map(function(M){return String(M)}),k>2?"one of ".concat(f," ").concat(E.slice(0,k-1).join(", "),", or ")+E[k-1]:2===k?"one of ".concat(f," ").concat(E[0]," or ").concat(E[1]):"of ".concat(f," ").concat(E[0])}return"of ".concat(f," ").concat(String(E))}r("ERR_INVALID_OPT_VALUE",function(E,f){return'The value "'+f+'" is invalid for option "'+E+'"'},TypeError),r("ERR_INVALID_ARG_TYPE",function(E,f,k){var M,c,i,s,o,u;if("string"==typeof f&&("not ","not "===f.substr(0,4))?(M="must not be",f=f.replace(/^not /,"")):M="must be",o=E," argument",(void 0===u||u>o.length)&&(u=o.length)," argument"===o.substring(u-9,u))c="The ".concat(E," ").concat(M," ").concat(D(f,"type"));else{var a=("number"!=typeof s&&(s=0),s+1>(i=E).length||-1===i.indexOf(".",s)?"argument":"property");c='The "'.concat(E,'" ').concat(a," ").concat(M," ").concat(D(f,"type"))}return c+". Received type ".concat(typeof k)},TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",function(E){return"The "+E+" method is not implemented"}),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",function(E){return"Cannot call "+E+" after a stream was destroyed"}),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",function(E){return"Unknown encoding: "+E},TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),ae.exports.q=B},37865:function(ae,B,r){"use strict";var D=r(90386),E=Object.keys||function(o){var l=[];for(var u in o)l.push(u);return l};ae.exports=i;var f=r(40410),k=r(37493);r(42018)(i,f);for(var M=E(k.prototype),y=0;y<M.length;y++){var c=M[y];i.prototype[c]||(i.prototype[c]=k.prototype[c])}function i(o){if(!(this instanceof i))return new i(o);f.call(this,o),k.call(this,o),this.allowHalfOpen=!0,o&&(!1===o.readable&&(this.readable=!1),!1===o.writable&&(this.writable=!1),!1===o.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",s)))}function s(){this._writableState.ended||D.nextTick(a,this)}function a(o){o.end()}Object.defineProperty(i.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(i.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(i.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(i.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(o){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=o,this._writableState.destroyed=o)}})},66897:function(ae,B,r){"use strict";ae.exports=E;var D=r(74308);function E(f){if(!(this instanceof E))return new E(f);D.call(this,f)}r(42018)(E,D),E.prototype._transform=function(f,k,M){M(null,f)}},40410:function(ae,B,r){"use strict";var D,E=r(90386);ae.exports=A,A.ReadableState=b,r(15398);var f,k=function(re,ne){return re.listeners(ne).length},M=r(71405),y=r(12856).Buffer,c=r.g.Uint8Array||function(){},i=r(40964);f=i&&i.debuglog?i.debuglog("stream"):function(){};var s,a,o,l=r(31125),u=r(65756),h=r(56306).getHighWaterMark,v=r(74322).q,p=v.ERR_INVALID_ARG_TYPE,T=v.ERR_STREAM_PUSH_AFTER_EOF,_=v.ERR_METHOD_NOT_IMPLEMENTED,m=v.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;r(42018)(A,M);var w=u.errorOrDestroy,x=["error","close","destroy","pause","resume"];function b(re,ne,Q){D=D||r(37865),"boolean"!=typeof Q&&(Q=ne instanceof D),this.objectMode=!!(re=re||{}).objectMode,Q&&(this.objectMode=this.objectMode||!!re.readableObjectMode),this.highWaterMark=h(this,re,"readableHighWaterMark",Q),this.buffer=new l,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==re.emitClose,this.autoDestroy=!!re.autoDestroy,this.destroyed=!1,this.defaultEncoding=re.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,re.encoding&&(s||(s=r(68019).s),this.decoder=new s(re.encoding),this.encoding=re.encoding)}function A(re){if(D=D||r(37865),!(this instanceof A))return new A(re);this._readableState=new b(re,this,this instanceof D),this.readable=!0,re&&("function"==typeof re.read&&(this._read=re.read),"function"==typeof re.destroy&&(this._destroy=re.destroy)),M.call(this)}function g(re,ne,Q,ee,oe){f("readableAddChunk",ne);var ce,le,pe,Me,Ae,fe=re._readableState;if(null===ne)fe.reading=!1,function(le,pe){if(f("onEofChunk"),!pe.ended){if(pe.decoder){var Me=pe.decoder.end();Me&&Me.length&&(pe.buffer.push(Me),pe.length+=pe.objectMode?1:Me.length)}pe.ended=!0,pe.sync?R(le):(pe.needReadable=!1,pe.emittedReadable||(pe.emittedReadable=!0,L(le)))}}(re,fe);else if(oe||(le=fe,y.isBuffer(Ae=pe=ne)||Ae instanceof c||"string"==typeof pe||void 0===pe||le.objectMode||(Me=new p("chunk",["string","Buffer","Uint8Array"],pe)),ce=Me),ce)w(re,ce);else if(fe.objectMode||ne&&ne.length>0)if("string"==typeof ne||fe.objectMode||Object.getPrototypeOf(ne)===y.prototype||(ne=function(le){return y.from(le)}(ne)),ee)fe.endEmitted?w(re,new m):I(re,fe,ne,!0);else if(fe.ended)w(re,new T);else{if(fe.destroyed)return!1;fe.reading=!1,fe.decoder&&!Q?(ne=fe.decoder.write(ne),fe.objectMode||0!==ne.length?I(re,fe,ne,!1):N(re,fe)):I(re,fe,ne,!1)}else ee||(fe.reading=!1,N(re,fe));return!fe.ended&&(fe.length<fe.highWaterMark||0===fe.length)}function I(re,ne,Q,ee){ne.flowing&&0===ne.length&&!ne.sync?(ne.awaitDrain=0,re.emit("data",Q)):(ne.length+=ne.objectMode?1:Q.length,ee?ne.buffer.unshift(Q):ne.buffer.push(Q),ne.needReadable&&R(re)),N(re,ne)}Object.defineProperty(A.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(re){this._readableState&&(this._readableState.destroyed=re)}}),A.prototype.destroy=u.destroy,A.prototype._undestroy=u.undestroy,A.prototype._destroy=function(re,ne){ne(re)},A.prototype.push=function(re,ne){var Q,ee=this._readableState;return ee.objectMode?Q=!0:"string"==typeof re&&((ne=ne||ee.defaultEncoding)!==ee.encoding&&(re=y.from(re,ne),ne=""),Q=!0),g(this,re,ne,!1,Q)},A.prototype.unshift=function(re){return g(this,re,null,!0,!1)},A.prototype.isPaused=function(){return!1===this._readableState.flowing},A.prototype.setEncoding=function(re){s||(s=r(68019).s);var ne=new s(re);this._readableState.decoder=ne,this._readableState.encoding=this._readableState.decoder.encoding;for(var Q=this._readableState.buffer.head,ee="";null!==Q;)ee+=ne.write(Q.data),Q=Q.next;return this._readableState.buffer.clear(),""!==ee&&this._readableState.buffer.push(ee),this._readableState.length=ee.length,this};var S=1073741824;function O(re,ne){return re<=0||0===ne.length&&ne.ended?0:ne.objectMode?1:re!=re?ne.flowing&&ne.length?ne.buffer.head.data.length:ne.length:(re>ne.highWaterMark&&(ne.highWaterMark=((Q=re)>=S?Q=S:(Q--,Q|=Q>>>1,Q|=Q>>>2,Q|=Q>>>4,Q|=Q>>>8,Q|=Q>>>16,Q++),Q)),re<=ne.length?re:ne.ended?ne.length:(ne.needReadable=!0,0));var Q}function R(re){var ne=re._readableState;f("emitReadable",ne.needReadable,ne.emittedReadable),ne.needReadable=!1,ne.emittedReadable||(f("emitReadable",ne.flowing),ne.emittedReadable=!0,E.nextTick(L,re))}function L(re){var ne=re._readableState;f("emitReadable_",ne.destroyed,ne.length,ne.ended),ne.destroyed||!ne.length&&!ne.ended||(re.emit("readable"),ne.emittedReadable=!1),ne.needReadable=!ne.flowing&&!ne.ended&&ne.length<=ne.highWaterMark,G(re)}function N(re,ne){ne.readingMore||(ne.readingMore=!0,E.nextTick(j,re,ne))}function j(re,ne){for(;!ne.reading&&!ne.ended&&(ne.length<ne.highWaterMark||ne.flowing&&0===ne.length);){var Q=ne.length;if(f("maybeReadMore read 0"),re.read(0),Q===ne.length)break}ne.readingMore=!1}function X(re){var ne=re._readableState;ne.readableListening=re.listenerCount("readable")>0,ne.resumeScheduled&&!ne.paused?ne.flowing=!0:re.listenerCount("data")>0&&re.resume()}function F(re){f("readable nexttick read 0"),re.read(0)}function Y(re,ne){f("resume",ne.reading),ne.reading||re.read(0),ne.resumeScheduled=!1,re.emit("resume"),G(re),ne.flowing&&!ne.reading&&re.read(0)}function G(re){var ne=re._readableState;for(f("flow",ne.flowing);ne.flowing&&null!==re.read(););}function H(re,ne){return 0===ne.length?null:(ne.objectMode?Q=ne.buffer.shift():!re||re>=ne.length?(Q=ne.decoder?ne.buffer.join(""):1===ne.buffer.length?ne.buffer.first():ne.buffer.concat(ne.length),ne.buffer.clear()):Q=ne.buffer.consume(re,ne.decoder),Q);var Q}function W(re){var ne=re._readableState;f("endReadable",ne.endEmitted),ne.endEmitted||(ne.ended=!0,E.nextTick(Z,ne,re))}function Z(re,ne){if(f("endReadableNT",re.endEmitted,re.length),!re.endEmitted&&0===re.length&&(re.endEmitted=!0,ne.readable=!1,ne.emit("end"),re.autoDestroy)){var Q=ne._writableState;(!Q||Q.autoDestroy&&Q.finished)&&ne.destroy()}}function se(re,ne){for(var Q=0,ee=re.length;Q<ee;Q++)if(re[Q]===ne)return Q;return-1}A.prototype.read=function(re){f("read",re),re=parseInt(re,10);var ne=this._readableState,Q=re;if(0!==re&&(ne.emittedReadable=!1),0===re&&ne.needReadable&&((0!==ne.highWaterMark?ne.length>=ne.highWaterMark:ne.length>0)||ne.ended))return f("read: emitReadable",ne.length,ne.ended),0===ne.length&&ne.ended?W(this):R(this),null;if(0===(re=O(re,ne))&&ne.ended)return 0===ne.length&&W(this),null;var ee,oe=ne.needReadable;return f("need readable",oe),(0===ne.length||ne.length-re<ne.highWaterMark)&&f("length less than watermark",oe=!0),ne.ended||ne.reading?f("reading or ended",oe=!1):oe&&(f("do read"),ne.reading=!0,ne.sync=!0,0===ne.length&&(ne.needReadable=!0),this._read(ne.highWaterMark),ne.sync=!1,ne.reading||(re=O(Q,ne))),null===(ee=re>0?H(re,ne):null)?(ne.needReadable=ne.length<=ne.highWaterMark,re=0):(ne.length-=re,ne.awaitDrain=0),0===ne.length&&(ne.ended||(ne.needReadable=!0),Q!==re&&ne.ended&&W(this)),null!==ee&&this.emit("data",ee),ee},A.prototype._read=function(re){w(this,new _("_read()"))},A.prototype.pipe=function(re,ne){var Q=this,ee=this._readableState;switch(ee.pipesCount){case 0:ee.pipes=re;break;case 1:ee.pipes=[ee.pipes,re];break;default:ee.pipes.push(re)}ee.pipesCount+=1,f("pipe count=%d opts=%j",ee.pipesCount,ne);var oe=ne&&!1===ne.end||re===E.stdout||re===E.stderr?ye:ce;function ce(){f("onend"),re.end()}ee.endEmitted?E.nextTick(oe):Q.once("end",oe),re.on("unpipe",function we(ze,Se){f("onunpipe"),ze===Q&&Se&&!1===Se.hasUnpiped&&(Se.hasUnpiped=!0,f("cleanup"),re.removeListener("close",Ae),re.removeListener("finish",be),re.removeListener("drain",fe),re.removeListener("error",Me),re.removeListener("unpipe",we),Q.removeListener("end",ce),Q.removeListener("end",ye),Q.removeListener("data",pe),le=!0,!ee.awaitDrain||re._writableState&&!re._writableState.needDrain||fe())});var we,fe=(we=Q,function(){var ze=we._readableState;f("pipeOnDrain",ze.awaitDrain),ze.awaitDrain&&ze.awaitDrain--,0===ze.awaitDrain&&k(we,"data")&&(ze.flowing=!0,G(we))});re.on("drain",fe);var le=!1;function pe(we){f("ondata");var ze=re.write(we);f("dest.write",ze),!1===ze&&((1===ee.pipesCount&&ee.pipes===re||ee.pipesCount>1&&-1!==se(ee.pipes,re))&&!le&&(f("false write response, pause",ee.awaitDrain),ee.awaitDrain++),Q.pause())}function Me(we){f("onerror",we),ye(),re.removeListener("error",Me),0===k(re,"error")&&w(re,we)}function Ae(){re.removeListener("finish",be),ye()}function be(){f("onfinish"),re.removeListener("close",Ae),ye()}function ye(){f("unpipe"),Q.unpipe(re)}return Q.on("data",pe),function(we,ze,Se){if("function"==typeof we.prependListener)return we.prependListener(ze,Se);we._events&&we._events[ze]?Array.isArray(we._events[ze])?we._events[ze].unshift(Se):we._events[ze]=[Se,we._events[ze]]:we.on(ze,Se)}(re,"error",Me),re.once("close",Ae),re.once("finish",be),re.emit("pipe",Q),ee.flowing||(f("pipe resume"),Q.resume()),re},A.prototype.unpipe=function(re){var ne=this._readableState,Q={hasUnpiped:!1};if(0===ne.pipesCount)return this;if(1===ne.pipesCount)return re&&re!==ne.pipes||(re||(re=ne.pipes),ne.pipes=null,ne.pipesCount=0,ne.flowing=!1,re&&re.emit("unpipe",this,Q)),this;if(!re){var ee=ne.pipes,oe=ne.pipesCount;ne.pipes=null,ne.pipesCount=0,ne.flowing=!1;for(var ce=0;ce<oe;ce++)ee[ce].emit("unpipe",this,{hasUnpiped:!1});return this}var fe=se(ne.pipes,re);return-1===fe||(ne.pipes.splice(fe,1),ne.pipesCount-=1,1===ne.pipesCount&&(ne.pipes=ne.pipes[0]),re.emit("unpipe",this,Q)),this},A.prototype.addListener=A.prototype.on=function(re,ne){var Q=M.prototype.on.call(this,re,ne),ee=this._readableState;return"data"===re?(ee.readableListening=this.listenerCount("readable")>0,!1!==ee.flowing&&this.resume()):"readable"===re&&(ee.endEmitted||ee.readableListening||(ee.readableListening=ee.needReadable=!0,ee.flowing=!1,ee.emittedReadable=!1,f("on readable",ee.length,ee.reading),ee.length?R(this):ee.reading||E.nextTick(F,this))),Q},A.prototype.removeListener=function(re,ne){var Q=M.prototype.removeListener.call(this,re,ne);return"readable"===re&&E.nextTick(X,this),Q},A.prototype.removeAllListeners=function(re){var ne=M.prototype.removeAllListeners.apply(this,arguments);return"readable"!==re&&void 0!==re||E.nextTick(X,this),ne},A.prototype.resume=function(){var Q,re=this._readableState;return re.flowing||(f("resume"),re.flowing=!re.readableListening,this,(Q=re).resumeScheduled||(Q.resumeScheduled=!0,E.nextTick(Y,this,Q))),re.paused=!1,this},A.prototype.pause=function(){return f("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(f("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},A.prototype.wrap=function(re){var ne=this,Q=this._readableState,ee=!1;for(var oe in re.on("end",function(){if(f("wrapped end"),Q.decoder&&!Q.ended){var fe=Q.decoder.end();fe&&fe.length&&ne.push(fe)}ne.push(null)}),re.on("data",function(fe){f("wrapped data"),Q.decoder&&(fe=Q.decoder.write(fe)),Q.objectMode&&null==fe||(Q.objectMode||fe&&fe.length)&&(ne.push(fe)||(ee=!0,re.pause()))}),re)void 0===this[oe]&&"function"==typeof re[oe]&&(this[oe]=function(fe){return function(){return re[fe].apply(re,arguments)}}(oe));for(var ce=0;ce<x.length;ce++)re.on(x[ce],this.emit.bind(this,x[ce]));return this._read=function(fe){f("wrapped _read",fe),ee&&(ee=!1,re.resume())},this},"function"==typeof Symbol&&(A.prototype[Symbol.asyncIterator]=function(){return void 0===a&&(a=r(68221)),a(this)}),Object.defineProperty(A.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(A.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(A.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(re){this._readableState&&(this._readableState.flowing=re)}}),A._fromList=H,Object.defineProperty(A.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(A.from=function(re,ne){return void 0===o&&(o=r(31748)),o(A,re,ne)})},74308:function(ae,B,r){"use strict";ae.exports=i;var D=r(74322).q,E=D.ERR_METHOD_NOT_IMPLEMENTED,f=D.ERR_MULTIPLE_CALLBACK,k=D.ERR_TRANSFORM_ALREADY_TRANSFORMING,M=D.ERR_TRANSFORM_WITH_LENGTH_0,y=r(37865);function c(o,l){var u=this._transformState;u.transforming=!1;var h=u.writecb;if(null===h)return this.emit("error",new f);u.writechunk=null,u.writecb=null,null!=l&&this.push(l),h(o);var v=this._readableState;v.reading=!1,(v.needReadable||v.length<v.highWaterMark)&&this._read(v.highWaterMark)}function i(o){if(!(this instanceof i))return new i(o);y.call(this,o),this._transformState={afterTransform:c.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,o&&("function"==typeof o.transform&&(this._transform=o.transform),"function"==typeof o.flush&&(this._flush=o.flush)),this.on("prefinish",s)}function s(){var o=this;"function"!=typeof this._flush||this._readableState.destroyed?a(this,null,null):this._flush(function(l,u){a(o,l,u)})}function a(o,l,u){if(l)return o.emit("error",l);if(null!=u&&o.push(u),o._writableState.length)throw new M;if(o._transformState.transforming)throw new k;return o.push(null)}r(42018)(i,y),i.prototype.push=function(o,l){return this._transformState.needTransform=!1,y.prototype.push.call(this,o,l)},i.prototype._transform=function(o,l,u){u(new E("_transform()"))},i.prototype._write=function(o,l,u){var h=this._transformState;if(h.writecb=u,h.writechunk=o,h.writeencoding=l,!h.transforming){var v=this._readableState;(h.needTransform||v.needReadable||v.length<v.highWaterMark)&&this._read(v.highWaterMark)}},i.prototype._read=function(o){var l=this._transformState;null===l.writechunk||l.transforming?l.needTransform=!0:(l.transforming=!0,this._transform(l.writechunk,l.writeencoding,l.afterTransform))},i.prototype._destroy=function(o,l){y.prototype._destroy.call(this,o,function(u){l(u)})}},37493:function(ae,B,r){"use strict";var D,E=r(90386);function f(N){var j=this;this.next=null,this.entry=null,this.finish=function(){!function(X,F,Y){var G=X.entry;for(X.entry=null;G;){var H=G.callback;F.pendingcb--,H(void 0),G=G.next}F.corkedRequestsFree.next=X}(j,N)}}ae.exports=A,A.WritableState=b;var k,M={deprecate:r(20588)},y=r(71405),c=r(12856).Buffer,i=r.g.Uint8Array||function(){},s=r(65756),a=r(56306).getHighWaterMark,o=r(74322).q,l=o.ERR_INVALID_ARG_TYPE,u=o.ERR_METHOD_NOT_IMPLEMENTED,h=o.ERR_MULTIPLE_CALLBACK,v=o.ERR_STREAM_CANNOT_PIPE,p=o.ERR_STREAM_DESTROYED,T=o.ERR_STREAM_NULL_VALUES,_=o.ERR_STREAM_WRITE_AFTER_END,m=o.ERR_UNKNOWN_ENCODING,w=s.errorOrDestroy;function x(){}function b(N,j,X){D=D||r(37865),"boolean"!=typeof X&&(X=j instanceof D),this.objectMode=!!(N=N||{}).objectMode,X&&(this.objectMode=this.objectMode||!!N.writableObjectMode),this.highWaterMark=a(this,N,"writableHighWaterMark",X),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(!1===N.decodeStrings),this.defaultEncoding=N.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Y){!function(G,H){var ne,W=G._writableState,Z=W.sync,se=W.writecb;if("function"!=typeof se)throw new h;if((ne=W).writing=!1,ne.writecb=null,ne.length-=ne.writelen,ne.writelen=0,H)!function(ne,Q,ee,oe,ce){--Q.pendingcb,ee?(E.nextTick(ce,oe),E.nextTick(L,ne,Q),ne._writableState.errorEmitted=!0,w(ne,oe)):(ce(oe),ne._writableState.errorEmitted=!0,w(ne,oe),L(ne,Q))}(G,W,Z,H,se);else{var re=O(W)||G.destroyed;re||W.corked||W.bufferProcessing||!W.bufferedRequest||S(G,W),Z?E.nextTick(I,G,W,re,se):I(G,W,re,se)}}(j,Y)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==N.emitClose,this.autoDestroy=!!N.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new f(this)}function A(N){var j=this instanceof(D=D||r(37865));if(!j&&!k.call(A,this))return new A(N);this._writableState=new b(N,this,j),this.writable=!0,N&&("function"==typeof N.write&&(this._write=N.write),"function"==typeof N.writev&&(this._writev=N.writev),"function"==typeof N.destroy&&(this._destroy=N.destroy),"function"==typeof N.final&&(this._final=N.final)),y.call(this)}function g(N,j,X,F,Y,G,H){j.writelen=F,j.writecb=H,j.writing=!0,j.sync=!0,j.destroyed?j.onwrite(new p("write")):X?N._writev(Y,j.onwrite):N._write(Y,G,j.onwrite),j.sync=!1}function I(N,j,X,F){var Y,G;X||(Y=N,0===(G=j).length&&G.needDrain&&(G.needDrain=!1,Y.emit("drain"))),j.pendingcb--,F(),L(N,j)}function S(N,j){j.bufferProcessing=!0;var X=j.bufferedRequest;if(N._writev&&X&&X.next){var Y=new Array(j.bufferedRequestCount),G=j.corkedRequestsFree;G.entry=X;for(var H=0,W=!0;X;)Y[H]=X,X.isBuf||(W=!1),X=X.next,H+=1;Y.allBuffers=W,g(N,j,!0,j.length,Y,"",G.finish),j.pendingcb++,j.lastBufferedRequest=null,G.next?(j.corkedRequestsFree=G.next,G.next=null):j.corkedRequestsFree=new f(j),j.bufferedRequestCount=0}else{for(;X;){var Z=X.chunk;if(g(N,j,!1,j.objectMode?1:Z.length,Z,X.encoding,X.callback),X=X.next,j.bufferedRequestCount--,j.writing)break}null===X&&(j.lastBufferedRequest=null)}j.bufferedRequest=X,j.bufferProcessing=!1}function O(N){return N.ending&&0===N.length&&null===N.bufferedRequest&&!N.finished&&!N.writing}function R(N,j){N._final(function(X){j.pendingcb--,X&&w(N,X),j.prefinished=!0,N.emit("prefinish"),L(N,j)})}function L(N,j){var Y,G,X=O(j);if(X&&(Y=N,(G=j).prefinished||G.finalCalled||("function"!=typeof Y._final||G.destroyed?(G.prefinished=!0,Y.emit("prefinish")):(G.pendingcb++,G.finalCalled=!0,E.nextTick(R,Y,G))),0===j.pendingcb&&(j.finished=!0,N.emit("finish"),j.autoDestroy))){var F=N._readableState;(!F||F.autoDestroy&&F.endEmitted)&&N.destroy()}return X}r(42018)(A,y),b.prototype.getBuffer=function(){for(var N=this.bufferedRequest,j=[];N;)j.push(N),N=N.next;return j},function(){try{Object.defineProperty(b.prototype,"buffer",{get:M.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(k=Function.prototype[Symbol.hasInstance],Object.defineProperty(A,Symbol.hasInstance,{value:function(N){return!!k.call(this,N)||this===A&&N&&N._writableState instanceof b}})):k=function(N){return N instanceof this},A.prototype.pipe=function(){w(this,new v)},A.prototype.write=function(N,j,X){var F,W,Z,se,Y=this._writableState,G=!1,H=!Y.objectMode&&(c.isBuffer(F=N)||F instanceof i);return H&&!c.isBuffer(N)&&(N=c.from(N)),"function"==typeof j&&(X=j,j=null),H?j="buffer":j||(j=Y.defaultEncoding),"function"!=typeof X&&(X=x),Y.ending?(W=this,Z=X,se=new _,w(W,se),E.nextTick(Z,se)):(H||function(W,Z,se,re){var ne;return null===se?ne=new T:"string"==typeof se||Z.objectMode||(ne=new l("chunk",["string","Buffer"],se)),!ne||(w(W,ne),E.nextTick(re,ne),!1)}(this,Y,N,X))&&(Y.pendingcb++,G=function(W,Z,se,re,ne,Q){if(!se){var ee=(pe=re,(le=Z).objectMode||!1===le.decodeStrings||"string"!=typeof pe||(pe=c.from(pe,ne)),pe);re!==ee&&(se=!0,ne="buffer",re=ee)}var le,pe,oe=Z.objectMode?1:re.length;Z.length+=oe;var ce=Z.length<Z.highWaterMark;if(ce||(Z.needDrain=!0),Z.writing||Z.corked){var fe=Z.lastBufferedRequest;Z.lastBufferedRequest={chunk:re,encoding:ne,isBuf:se,callback:Q,next:null},fe?fe.next=Z.lastBufferedRequest:Z.bufferedRequest=Z.lastBufferedRequest,Z.bufferedRequestCount+=1}else g(W,Z,!1,oe,re,ne,Q);return ce}(this,Y,H,N,j,X)),G},A.prototype.cork=function(){this._writableState.corked++},A.prototype.uncork=function(){var N=this._writableState;N.corked&&(N.corked--,N.writing||N.corked||N.bufferProcessing||!N.bufferedRequest||S(this,N))},A.prototype.setDefaultEncoding=function(N){if("string"==typeof N&&(N=N.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((N+"").toLowerCase())>-1))throw new m(N);return this._writableState.defaultEncoding=N,this},Object.defineProperty(A.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(A.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),A.prototype._write=function(N,j,X){X(new u("_write()"))},A.prototype._writev=null,A.prototype.end=function(N,j,X){var Y,G,H,F=this._writableState;return"function"==typeof N?(X=N,N=null,j=null):"function"==typeof j&&(X=j,j=null),null!=N&&this.write(N,j),F.corked&&(F.corked=1,this.uncork()),F.ending||(Y=this,H=X,(G=F).ending=!0,L(Y,G),H&&(G.finished?E.nextTick(H):Y.once("finish",H)),G.ended=!0,Y.writable=!1),this},Object.defineProperty(A.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(A.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(N){this._writableState&&(this._writableState.destroyed=N)}}),A.prototype.destroy=s.destroy,A.prototype._undestroy=s.undestroy,A.prototype._destroy=function(N,j){j(N)}},68221:function(ae,B,r){"use strict";var D,E=r(90386);function f(T,_,m){return _ in T?Object.defineProperty(T,_,{value:m,enumerable:!0,configurable:!0,writable:!0}):T[_]=m,T}var k=r(12726),M=Symbol("lastResolve"),y=Symbol("lastReject"),c=Symbol("error"),i=Symbol("ended"),s=Symbol("lastPromise"),a=Symbol("handlePromise"),o=Symbol("stream");function l(T,_){return{value:T,done:_}}function u(T){var _=T[M];if(null!==_){var m=T[o].read();null!==m&&(T[s]=null,T[M]=null,T[y]=null,_(l(m,!1)))}}function h(T){E.nextTick(u,T)}var v=Object.getPrototypeOf(function(){}),p=Object.setPrototypeOf((f(D={get stream(){return this[o]},next:function(){var T=this,_=this[c];if(null!==_)return Promise.reject(_);if(this[i])return Promise.resolve(l(void 0,!0));if(this[o].destroyed)return new Promise(function(b,A){E.nextTick(function(){T[c]?A(T[c]):b(l(void 0,!0))})});var m,b,A,w=this[s];if(w)m=new Promise((b=w,A=this,function(g,I){b.then(function(){A[i]?g(l(void 0,!0)):A[a](g,I)},I)}));else{var x=this[o].read();if(null!==x)return Promise.resolve(l(x,!1));m=new Promise(this[a])}return this[s]=m,m}},Symbol.asyncIterator,function(){return this}),f(D,"return",function(){var T=this;return new Promise(function(_,m){T[o].destroy(null,function(w){w?m(w):_(l(void 0,!0))})})}),D),v);ae.exports=function(T){var _,m=Object.create(p,(f(_={},o,{value:T,writable:!0}),f(_,M,{value:null,writable:!0}),f(_,y,{value:null,writable:!0}),f(_,c,{value:null,writable:!0}),f(_,i,{value:T._readableState.endEmitted,writable:!0}),f(_,a,{value:function(w,x){var b=m[o].read();b?(m[s]=null,m[M]=null,m[y]=null,w(l(b,!1))):(m[M]=w,m[y]=x)},writable:!0}),_));return m[s]=null,k(T,function(w){if(w&&"ERR_STREAM_PREMATURE_CLOSE"!==w.code){var x=m[y];return null!==x&&(m[s]=null,m[M]=null,m[y]=null,x(w)),void(m[c]=w)}var b=m[M];null!==b&&(m[s]=null,m[M]=null,m[y]=null,b(l(void 0,!0))),m[i]=!0}),T.on("readable",h.bind(null,m)),m}},31125:function(ae,B,r){"use strict";function D(c,i){var s=Object.keys(c);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(c);i&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(c,o).enumerable})),s.push.apply(s,a)}return s}function E(c,i,s){return i in c?Object.defineProperty(c,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):c[i]=s,c}var k=r(12856).Buffer,M=r(69862).inspect,y=M&&M.custom||"inspect";ae.exports=function(){function c(){(function(a,o){if(!(a instanceof o))throw new TypeError("Cannot call a class as a function")})(this,c),this.head=null,this.tail=null,this.length=0}var s;return s=[{key:"push",value:function(a){var o={data:a,next:null};this.length>0?this.tail.next=o:this.head=o,this.tail=o,++this.length}},{key:"unshift",value:function(a){var o={data:a,next:this.head};0===this.length&&(this.tail=o),this.head=o,++this.length}},{key:"shift",value:function(){if(0!==this.length){var a=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,a}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(a){if(0===this.length)return"";for(var o=this.head,l=""+o.data;o=o.next;)l+=a+o.data;return l}},{key:"concat",value:function(a){if(0===this.length)return k.alloc(0);for(var h=k.allocUnsafe(a>>>0),v=this.head,p=0;v;)k.prototype.copy.call(v.data,h,p),p+=v.data.length,v=v.next;return h}},{key:"consume",value:function(a,o){var l;return a<this.head.data.length?(l=this.head.data.slice(0,a),this.head.data=this.head.data.slice(a)):l=a===this.head.data.length?this.shift():o?this._getString(a):this._getBuffer(a),l}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(a){var o=this.head,l=1,u=o.data;for(a-=u.length;o=o.next;){var h=o.data,v=a>h.length?h.length:a;if(u+=v===h.length?h:h.slice(0,a),0==(a-=v)){v===h.length?(++l,this.head=o.next?o.next:this.tail=null):(this.head=o,o.data=h.slice(v));break}++l}return this.length-=l,u}},{key:"_getBuffer",value:function(a){var o=k.allocUnsafe(a),l=this.head,u=1;for(l.data.copy(o),a-=l.data.length;l=l.next;){var h=l.data,v=a>h.length?h.length:a;if(h.copy(o,o.length-a,0,v),0==(a-=v)){v===h.length?(++u,this.head=l.next?l.next:this.tail=null):(this.head=l,l.data=h.slice(v));break}++u}return this.length-=u,o}},{key:y,value:function(a,o){return M(this,function(l){for(var u=1;u<arguments.length;u++){var h=null!=arguments[u]?arguments[u]:{};u%2?D(Object(h),!0).forEach(function(v){E(l,v,h[v])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(h)):D(Object(h)).forEach(function(v){Object.defineProperty(l,v,Object.getOwnPropertyDescriptor(h,v))})}return l}({},o,{depth:0,customInspect:!1}))}}],s&&function f(c,i){for(var s=0;s<i.length;s++){var a=i[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(c,a.key,a)}}(c.prototype,s),c}()},65756:function(ae,B,r){"use strict";var D=r(90386);function E(M,y){k(M,y),f(M)}function f(M){M._writableState&&!M._writableState.emitClose||M._readableState&&!M._readableState.emitClose||M.emit("close")}function k(M,y){M.emit("error",y)}ae.exports={destroy:function(M,y){var c=this;return this._readableState&&this._readableState.destroyed||this._writableState&&this._writableState.destroyed?(y?y(M):M&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,D.nextTick(k,this,M)):D.nextTick(k,this,M)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(M||null,function(a){!y&&a?c._writableState?c._writableState.errorEmitted?D.nextTick(f,c):(c._writableState.errorEmitted=!0,D.nextTick(E,c,a)):D.nextTick(E,c,a):y?(D.nextTick(f,c),y(a)):D.nextTick(f,c)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(M,y){var c=M._readableState,i=M._writableState;c&&c.autoDestroy||i&&i.autoDestroy?M.destroy(y):M.emit("error",y)}}},12726:function(ae,B,r){"use strict";var D=r(74322).q.ERR_STREAM_PREMATURE_CLOSE;function E(){}ae.exports=function f(k,M,y){if("function"==typeof M)return f(k,null,M);var T,_;M||(M={}),T=y||E,_=!1,y=function(){if(!_){_=!0;for(var m=arguments.length,w=new Array(m),x=0;x<m;x++)w[x]=arguments[x];T.apply(this,w)}};var c=M.readable||!1!==M.readable&&k.readable,i=M.writable||!1!==M.writable&&k.writable,s=function(){k.writable||o()},a=k._writableState&&k._writableState.finished,o=function(){i=!1,a=!0,c||y.call(k)},l=k._readableState&&k._readableState.endEmitted,u=function(){c=!1,l=!0,i||y.call(k)},h=function(T){y.call(k,T)},v=function(){var T;return c&&!l?(k._readableState&&k._readableState.ended||(T=new D),y.call(k,T)):i&&!a?(k._writableState&&k._writableState.ended||(T=new D),y.call(k,T)):void 0},p=function(){k.req.on("finish",o)};return function(T){return T.setHeader&&"function"==typeof T.abort}(k)?(k.on("complete",o),k.on("abort",v),k.req?p():k.on("request",p)):i&&!k._writableState&&(k.on("end",s),k.on("close",s)),k.on("end",u),k.on("finish",o),!1!==M.error&&k.on("error",h),k.on("close",v),function(){k.removeListener("complete",o),k.removeListener("abort",v),k.removeListener("request",p),k.req&&k.req.removeListener("finish",o),k.removeListener("end",s),k.removeListener("close",s),k.removeListener("finish",o),k.removeListener("end",u),k.removeListener("error",h),k.removeListener("close",v)}}},31748:function(ae){ae.exports=function(){throw new Error("Readable.from is not available in the browser")}},10168:function(ae,B,r){"use strict";var D,E=r(74322).q,f=E.ERR_MISSING_ARGS,k=E.ERR_STREAM_DESTROYED;function M(i){if(i)throw i}function y(i){i()}function c(i,s){return i.pipe(s)}ae.exports=function(){for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];var o,h,l=(h=s).length?"function"!=typeof h[h.length-1]?M:h.pop():M;if(Array.isArray(s[0])&&(s=s[0]),s.length<2)throw new f("streams");var u=s.map(function(h,v){var p=v<s.length-1;return function(T,_,m,w){var A,g;A=w,g=!1,w=function(){g||(g=!0,A.apply(void 0,arguments))};var x=!1;T.on("close",function(){x=!0}),void 0===D&&(D=r(12726)),D(T,{readable:_,writable:m},function(A){if(A)return w(A);x=!0,w()});var b=!1;return function(A){if(!x&&!b)return b=!0,function(g){return g.setHeader&&"function"==typeof g.abort}(T)?T.abort():"function"==typeof T.destroy?T.destroy():void w(A||new k("pipe"))}}(h,p,v>0,function(T){o||(o=T),T&&u.forEach(y),p||(u.forEach(y),l(o))})});return s.reduce(c)}},56306:function(ae,B,r){"use strict";var D=r(74322).q.ERR_INVALID_OPT_VALUE;ae.exports={getHighWaterMark:function(E,f,k,M){var c,y=null!=(c=f).highWaterMark?c.highWaterMark:M?c[k]:null;if(null!=y){if(!isFinite(y)||Math.floor(y)!==y||y<0)throw new D(M?k:"highWaterMark",y);return Math.floor(y)}return E.objectMode?16:16384}}},71405:function(ae,B,r){ae.exports=r(15398).EventEmitter},68019:function(ae,B,r){"use strict";var D=r(71665).Buffer,E=D.isEncoding||function(l){switch((l=""+l)&&l.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function f(l){var u;switch(this.encoding=function(h){var v=function(p){if(!p)return"utf8";for(var T;;)switch(p){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return p;default:if(T)return;p=(""+p).toLowerCase(),T=!0}}(h);if("string"!=typeof v&&(D.isEncoding===E||!E(h)))throw new Error("Unknown encoding: "+h);return v||h}(l),this.encoding){case"utf16le":this.text=y,this.end=c,u=4;break;case"utf8":this.fillLast=M,u=4;break;case"base64":this.text=i,this.end=s,u=3;break;default:return this.write=a,void(this.end=o)}this.lastNeed=0,this.lastTotal=0,this.lastChar=D.allocUnsafe(u)}function k(l){return l<=127?0:l>>5==6?2:l>>4==14?3:l>>3==30?4:l>>6==2?-1:-2}function M(l){var u=this.lastTotal-this.lastNeed,h=function(v,p,T){if(128!=(192&p[0]))return v.lastNeed=0,"\ufffd";if(v.lastNeed>1&&p.length>1){if(128!=(192&p[1]))return v.lastNeed=1,"\ufffd";if(v.lastNeed>2&&p.length>2&&128!=(192&p[2]))return v.lastNeed=2,"\ufffd"}}(this,l);return void 0!==h?h:this.lastNeed<=l.length?(l.copy(this.lastChar,u,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(l.copy(this.lastChar,u,0,l.length),void(this.lastNeed-=l.length))}function y(l,u){if((l.length-u)%2==0){var h=l.toString("utf16le",u);if(h){var v=h.charCodeAt(h.length-1);if(v>=55296&&v<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=l[l.length-2],this.lastChar[1]=l[l.length-1],h.slice(0,-1)}return h}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=l[l.length-1],l.toString("utf16le",u,l.length-1)}function c(l){var u=l&&l.length?this.write(l):"";return this.lastNeed?u+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):u}function i(l,u){var h=(l.length-u)%3;return 0===h?l.toString("base64",u):(this.lastNeed=3-h,this.lastTotal=3,1===h?this.lastChar[0]=l[l.length-1]:(this.lastChar[0]=l[l.length-2],this.lastChar[1]=l[l.length-1]),l.toString("base64",u,l.length-h))}function s(l){var u=l&&l.length?this.write(l):"";return this.lastNeed?u+this.lastChar.toString("base64",0,3-this.lastNeed):u}function a(l){return l.toString(this.encoding)}function o(l){return l&&l.length?this.write(l):""}B.s=f,f.prototype.write=function(l){if(0===l.length)return"";var u,h;if(this.lastNeed){if(void 0===(u=this.fillLast(l)))return"";h=this.lastNeed,this.lastNeed=0}else h=0;return h<l.length?u?u+this.text(l,h):this.text(l,h):u||""},f.prototype.end=function(l){var u=l&&l.length?this.write(l):"";return this.lastNeed?u+"\ufffd":u},f.prototype.text=function(l,u){var h=function(p,T,_){var m=T.length-1;if(m<_)return 0;var w=k(T[m]);return w>=0?(w>0&&(p.lastNeed=w-1),w):--m<_||-2===w?0:(w=k(T[m]))>=0?(w>0&&(p.lastNeed=w-2),w):--m<_||-2===w?0:(w=k(T[m]))>=0?(w>0&&(2===w?w=0:p.lastNeed=w-3),w):0}(this,l,u);if(!this.lastNeed)return l.toString("utf8",u);this.lastTotal=h;var v=l.length-(h-this.lastNeed);return l.copy(this.lastChar,0,v),l.toString("utf8",u,v)},f.prototype.fillLast=function(l){if(this.lastNeed<=l.length)return l.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);l.copy(this.lastChar,this.lastTotal-this.lastNeed,0,l.length),this.lastNeed-=l.length}},90715:function(ae,B,r){var D=r(32791),E=r(41633)("stream-parser");ae.exports=function(p){var T=p&&"function"==typeof p._transform;if(!(T||p&&"function"==typeof p._write))throw new Error("must pass a Writable or Transform stream in");E("extending Parser into stream"),p._bytes=i,p._skipBytes=s,T&&(p._passthrough=a),T?p._transform=l:p._write=o};var f=-1,k=0,M=1,y=2;function c(p){E("initializing parser stream"),p._parserBytesLeft=0,p._parserBuffers=[],p._parserBuffered=0,p._parserState=f,p._parserCallback=null,"function"==typeof p.push&&(p._parserOutput=p.push.bind(p)),p._parserInit=!0}function i(p,T){D(!this._parserCallback,'there is already a "callback" set!'),D(isFinite(p)&&p>0,'can only buffer a finite number of bytes > 0, got "'+p+'"'),this._parserInit||c(this),E("buffering %o bytes",p),this._parserBytesLeft=p,this._parserCallback=T,this._parserState=k}function s(p,T){D(!this._parserCallback,'there is already a "callback" set!'),D(p>0,'can only skip > 0 bytes, got "'+p+'"'),this._parserInit||c(this),E("skipping %o bytes",p),this._parserBytesLeft=p,this._parserCallback=T,this._parserState=M}function a(p,T){D(!this._parserCallback,'There is already a "callback" set!'),D(p>0,'can only pass through > 0 bytes, got "'+p+'"'),this._parserInit||c(this),E("passing through %o bytes",p),this._parserBytesLeft=p,this._parserCallback=T,this._parserState=y}function o(p,T,_){this._parserInit||c(this),E("write(%o bytes)",p.length),"function"==typeof T&&(_=T),h(this,p,null,_)}function l(p,T,_){this._parserInit||c(this),E("transform(%o bytes)",p.length),"function"!=typeof T&&(T=this._parserOutput),h(this,p,T,_)}function u(p,T,_,m){if(p._parserBytesLeft-=T.length,E("%o bytes left for stream piece",p._parserBytesLeft),p._parserState===k?(p._parserBuffers.push(T),p._parserBuffered+=T.length):p._parserState===y&&_(T),0!==p._parserBytesLeft)return m;var w=p._parserCallback;if(w&&p._parserState===k&&p._parserBuffers.length>1&&(T=Buffer.concat(p._parserBuffers,p._parserBuffered)),p._parserState!==k&&(T=null),p._parserCallback=null,p._parserBuffered=0,p._parserState=f,p._parserBuffers.splice(0),w){var x=[];T&&x.push(T),_&&x.push(_);var b=w.length>x.length;b&&x.push(v(m));var A=w.apply(p,x);if(!b||m===A)return m}}var h=v(function p(T,_,m,w){return T._parserBytesLeft<=0?w(new Error("got data but not currently parsing anything")):_.length<=T._parserBytesLeft?function(){return u(T,_,m,w)}:function(){var x=_.slice(0,T._parserBytesLeft);return u(T,x,m,function(b){return b?w(b):_.length>x.length?function(){return p(T,_.slice(x.length),m,w)}:void 0})}});function v(p){return function(){for(var T=p.apply(this,arguments);"function"==typeof T;)T=T();return T}}},41633:function(ae,B,r){var D=r(90386);function E(){var f;try{f=B.storage.debug}catch{}return!f&&void 0!==D&&"env"in D&&(f=D.env.DEBUG),f}(B=ae.exports=r(74469)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},B.formatArgs=function(f){var k=this.useColors;if(f[0]=(k?"%c":"")+this.namespace+(k?" %c":" ")+f[0]+(k?"%c ":" ")+"+"+B.humanize(this.diff),k){var M="color: "+this.color;f.splice(1,0,M,"color: inherit");var y=0,c=0;f[0].replace(/%[a-zA-Z%]/g,function(i){"%%"!==i&&(y++,"%c"===i&&(c=y))}),f.splice(c,0,M)}},B.save=function(f){try{null==f?B.storage.removeItem("debug"):B.storage.debug=f}catch{}},B.load=E,B.useColors=function(){return!(typeof window>"u"||!window.process||"renderer"!==window.process.type)||typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},B.storage=typeof chrome<"u"&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch{}}(),B.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],B.formatters.j=function(f){try{return JSON.stringify(f)}catch(k){return"[UnexpectedJSONParseError]: "+k.message}},B.enable(E())},74469:function(ae,B,r){var D;function E(f){function k(){if(k.enabled){var M=k,y=+new Date;M.diff=y-(D||y),M.prev=D,M.curr=y,D=y;for(var i=new Array(arguments.length),s=0;s<i.length;s++)i[s]=arguments[s];i[0]=B.coerce(i[0]),"string"!=typeof i[0]&&i.unshift("%O");var a=0;i[0]=i[0].replace(/%([a-zA-Z%])/g,function(o,l){if("%%"===o)return o;a++;var u=B.formatters[l];return"function"==typeof u&&(o=u.call(M,i[a]),i.splice(a,1),a--),o}),B.formatArgs.call(M,i),(k.log||B.log||console.log.bind(console)).apply(M,i)}}return k.namespace=f,k.enabled=B.enabled(f),k.useColors=B.useColors(),k.color=function(M){var y,c=0;for(y in M)c=(c<<5)-c+M.charCodeAt(y),c|=0;return B.colors[Math.abs(c)%B.colors.length]}(f),"function"==typeof B.init&&B.init(k),k}(B=ae.exports=E.debug=E.default=E).coerce=function(f){return f instanceof Error?f.stack||f.message:f},B.disable=function(){B.enable("")},B.enable=function(f){B.save(f),B.names=[],B.skips=[];for(var k=("string"==typeof f?f:"").split(/[\s,]+/),M=k.length,y=0;y<M;y++)k[y]&&("-"===(f=k[y].replace(/\*/g,".*?"))[0]?B.skips.push(new RegExp("^"+f.substr(1)+"$")):B.names.push(new RegExp("^"+f+"$")))},B.enabled=function(f){var k,M;for(k=0,M=B.skips.length;k<M;k++)if(B.skips[k].test(f))return!1;for(k=0,M=B.names.length;k<M;k++)if(B.names[k].test(f))return!0;return!1},B.humanize=r(11375),B.names=[],B.skips=[],B.formatters={}},11375:function(ae){var B=1e3,r=60*B,D=60*r,E=24*D;function f(k,M,y){if(!(k<M))return k<1.5*M?Math.floor(k/M)+" "+y:Math.ceil(k/M)+" "+y+"s"}ae.exports=function(k,M){M=M||{};var y,i,c=typeof k;if("string"===c&&k.length>0)return function(i){if(!((i=String(i)).length>100)){var s=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(i);if(s){var a=parseFloat(s[1]);switch((s[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*a;case"days":case"day":case"d":return a*E;case"hours":case"hour":case"hrs":case"hr":case"h":return a*D;case"minutes":case"minute":case"mins":case"min":case"m":return a*r;case"seconds":case"second":case"secs":case"sec":case"s":return a*B;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}}}(k);if("number"===c&&!1===isNaN(k))return M.long?f(y=k,E,"day")||f(y,D,"hour")||f(y,r,"minute")||f(y,B,"second")||y+" ms":(i=k)>=E?Math.round(i/E)+"d":i>=D?Math.round(i/D)+"h":i>=r?Math.round(i/r)+"m":i>=B?Math.round(i/B)+"s":i+"ms";throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(k))}},99011:function(ae,B,r){"use strict";var D=r(88641);ae.exports=function(E,f,k){if(null==E)throw Error("First argument should be a string");if(null==f)throw Error("Separator should be a string or a RegExp");k?("string"==typeof k||Array.isArray(k))&&(k={ignore:k}):k={},null==k.escape&&(k.escape=!0),null==k.ignore?k.ignore=["[]","()","{}","<>",'""',"''","``","\u201c\u201d","\xab\xbb"]:("string"==typeof k.ignore&&(k.ignore=[k.ignore]),k.ignore=k.ignore.map(function(o){return 1===o.length&&(o+=o),o}));var M=D.parse(E,{flat:!0,brackets:k.ignore}),y=M[0].split(f);if(k.escape){for(var c=[],i=0;i<y.length;i++){var s=y[i];"\\"===s[s.length-1]&&"\\"!==s[s.length-2]?(c.push(s+f+y[i+1]),i++):c.push(s)}y=c}for(i=0;i<y.length;i++)M[0]=y[i],y[i]=D.stringify(M,{flat:!0});return y}},68664:function(ae){"use strict";ae.exports=function(B){for(var r=B.length,D=new Array(r),E=new Array(r),f=new Array(r),k=new Array(r),M=new Array(r),y=new Array(r),c=0;c<r;++c)D[c]=-1,E[c]=0,f[c]=!1,k[c]=0,M[c]=-1,y[c]=[];var i,s=0,a=[],o=[];function l(v){var p=[v],T=[v];for(D[v]=E[v]=s,f[v]=!0,s+=1;T.length>0;){var _=B[v=T[T.length-1]];if(k[v]<_.length){for(var m=k[v];m<_.length;++m){var w=_[m];if(D[w]<0){D[w]=E[w]=s,f[w]=!0,s+=1,p.push(w),T.push(w);break}f[w]&&(E[v]=0|Math.min(E[v],E[w])),M[w]>=0&&y[v].push(M[w])}k[v]=m}else{if(E[v]===D[v]){var x=[],b=[],A=0;for(m=p.length-1;m>=0;--m){var g=p[m];if(f[g]=!1,x.push(g),b.push(y[g]),A+=y[g].length,M[g]=a.length,g===v){p.length=m;break}}a.push(x);var I=new Array(A);for(m=0;m<b.length;m++)for(var S=0;S<b[m].length;S++)I[--A]=b[m][S];o.push(I)}T.pop()}}}for(c=0;c<r;++c)D[c]<0&&l(c);for(c=0;c<o.length;c++){var u=o[c];if(0!==u.length){u.sort(function(v,p){return v-p}),i=[u[0]];for(var h=1;h<u.length;h++)u[h]!==u[h-1]&&i.push(u[h]);o[c]=i}}return{components:a,adjacencyList:o}}},7095:function(ae,B,r){"use strict";r.r(B);var D=2*Math.PI,E=function(M,y,c,i,s,a,o){var l=M.x,u=M.y;return{x:i*(l*=y)-s*(u*=c)+a,y:s*l+i*u+o}},f=function(M,y){var c=1.5707963267948966===y?.551915024494:-1.5707963267948966===y?-.551915024494:1.3333333333333333*Math.tan(y/4),i=Math.cos(M),s=Math.sin(M),a=Math.cos(M+y),o=Math.sin(M+y);return[{x:i-s*c,y:s+i*c},{x:a+o*c,y:o-a*c},{x:a,y:o}]},k=function(M,y,c,i){var s=M*c+y*i;return s>1&&(s=1),s<-1&&(s=-1),(M*i-y*c<0?-1:1)*Math.acos(s)};B.default=function(M){var y=M.px,c=M.py,i=M.cx,s=M.cy,a=M.rx,o=M.ry,l=M.xAxisRotation,u=void 0===l?0:l,h=M.largeArcFlag,v=void 0===h?0:h,p=M.sweepFlag,T=void 0===p?0:p,_=[];if(0===a||0===o)return[];var m=Math.sin(u*D/360),w=Math.cos(u*D/360),x=w*(y-i)/2+m*(c-s)/2,b=-m*(y-i)/2+w*(c-s)/2;if(0===x&&0===b)return[];a=Math.abs(a),o=Math.abs(o);var A=Math.pow(x,2)/Math.pow(a,2)+Math.pow(b,2)/Math.pow(o,2);A>1&&(a*=Math.sqrt(A),o*=Math.sqrt(A));var I=function(F,Y){if(Array.isArray(F))return F;if(Symbol.iterator in Object(F))return function(G,H){var W=[],Z=!0,se=!1,re=void 0;try{for(var ne,Q=G[Symbol.iterator]();!(Z=(ne=Q.next()).done)&&(W.push(ne.value),4!==W.length);Z=!0);}catch(ee){se=!0,re=ee}finally{try{!Z&&Q.return&&Q.return()}finally{if(se)throw re}}return W}(F);throw new TypeError("Invalid attempt to destructure non-iterable instance")}(function(F,Y,G,H,W,Z,se,re,ne,Q,ee,oe){var ce=Math.pow(W,2),fe=Math.pow(Z,2),le=Math.pow(ee,2),pe=Math.pow(oe,2),Me=ce*fe-ce*pe-fe*le;Me<0&&(Me=0),Me/=ce*pe+fe*le;var Ae=(Me=Math.sqrt(Me)*(se===re?-1:1))*W/Z*oe,be=Me*-Z/W*ee,ye=Q*Ae-ne*be+(F+G)/2,we=ne*Ae+Q*be+(Y+H)/2,ze=(ee-Ae)/W,Se=(oe-be)/Z,Ce=(-ee-Ae)/W,ge=(-oe-be)/Z,he=k(1,0,ze,Se),_e=k(ze,Se,Ce,ge);return 0===re&&_e>0&&(_e-=D),1===re&&_e<0&&(_e+=D),[ye,we,he,_e]}(y,c,i,s,a,o,v,T,m,w,x,b)),S=I[0],O=I[1],R=I[2],L=I[3],N=Math.abs(L)/(D/4);Math.abs(1-N)<1e-7&&(N=1);var j=Math.max(Math.ceil(N),1);L/=j;for(var X=0;X<j;X++)_.push(f(R,L)),R+=L;return _.map(function(F){var Y=E(F[0],a,o,w,m,S,O),G=Y.x,H=Y.y,W=E(F[1],a,o,w,m,S,O),Z=W.x,se=W.y,re=E(F[2],a,o,w,m,S,O);return{x1:G,y1:H,x2:Z,y2:se,x:re.x,y:re.y}})}},1750:function(ae,B,r){"use strict";var D=r(95616),E=r(65185),f=r(29988),k=r(89546),M=r(32791);ae.exports=function(y){if(Array.isArray(y)&&1===y.length&&"string"==typeof y[0]&&(y=y[0]),"string"==typeof y&&(M(k(y),"String is not an SVG path."),y=D(y)),M(Array.isArray(y),"Argument should be a string or an array of path segments."),y=E(y),!(y=f(y)).length)return[0,0,0,0];for(var c=[1/0,1/0,-1/0,-1/0],i=0,s=y.length;i<s;i++)for(var a=y[i].slice(1),o=0;o<a.length;o+=2)a[o+0]<c[0]&&(c[0]=a[o+0]),a[o+1]<c[1]&&(c[1]=a[o+1]),a[o+0]>c[2]&&(c[2]=a[o+0]),a[o+1]>c[3]&&(c[3]=a[o+1]);return c}},29988:function(ae,B,r){"use strict";ae.exports=function(k){for(var M,y=[],c=0,i=0,s=0,a=0,o=null,l=null,u=0,h=0,v=0,p=k.length;v<p;v++){var T=k[v],_=T[0];switch(_){case"M":s=T[1],a=T[2];break;case"A":var m=D({px:u,py:h,cx:T[6],cy:T[7],rx:T[1],ry:T[2],xAxisRotation:T[3],largeArcFlag:T[4],sweepFlag:T[5]});if(!m.length)continue;for(var w,x=0;x<m.length;x++)T=["C",(w=m[x]).x1,w.y1,w.x2,w.y2,w.x,w.y],x<m.length-1&&y.push(T);break;case"S":var b=u,A=h;"C"!=M&&"S"!=M||(b+=b-c,A+=A-i),T=["C",b,A,T[1],T[2],T[3],T[4]];break;case"T":"Q"==M||"T"==M?(o=2*u-o,l=2*h-l):(o=u,l=h),T=f(u,h,o,l,T[1],T[2]);break;case"Q":o=T[1],l=T[2],T=f(u,h,T[1],T[2],T[3],T[4]);break;case"L":T=E(u,h,T[1],T[2]);break;case"H":T=E(u,h,T[1],h);break;case"V":T=E(u,h,u,T[1]);break;case"Z":T=E(u,h,s,a)}M=_,u=T[T.length-2],h=T[T.length-1],T.length>4?(c=T[T.length-4],i=T[T.length-3]):(c=u,i=h),y.push(T)}return y};var D=r(7095);function E(k,M,y,c){return["C",k,M,y,c,y,c]}function f(k,M,y,c,i,s){return["C",k/3+.6666666666666666*y,M/3+.6666666666666666*c,i/3+.6666666666666666*y,s/3+.6666666666666666*c,i,s]}},82019:function(ae,B,r){"use strict";var D,E=r(1750),f=r(95616),k=r(31457),M=r(89546),y=r(44781),c=document.createElement("canvas"),i=c.getContext("2d");ae.exports=function(s,a){if(!M(s))throw Error("Argument should be valid svg path string");var o,l;a||(a={}),a.shape?(o=a.shape[0],l=a.shape[1]):(o=c.width=a.w||a.width||200,l=c.height=a.h||a.height||200);var u=Math.min(o,l),h=a.stroke||0,v=a.viewbox||a.viewBox||E(s),p=[o/(v[2]-v[0]),l/(v[3]-v[1])],T=Math.min(p[0]||0,p[1]||0)/2;if(i.fillStyle="black",i.fillRect(0,0,o,l),i.fillStyle="white",h&&("number"!=typeof h&&(h=1),i.strokeStyle=h>0?"white":"black",i.lineWidth=Math.abs(h)),i.translate(.5*o,.5*l),i.scale(T,T),function(){if(null!=D)return D;var w=document.createElement("canvas").getContext("2d");if(w.canvas.width=w.canvas.height=1,!window.Path2D)return D=!1;var x=new Path2D("M0,0h1v1h-1v-1Z");w.fillStyle="black",w.fill(x);var b=w.getImageData(0,0,1,1);return D=b&&b.data&&255===b.data[3]}()){var _=new Path2D(s);i.fill(_),h&&i.stroke(_)}else{var m=f(s);k(i,m),i.fill(),h&&i.stroke()}return i.setTransform(1,0,0,1,0,0),y(i,{cutoff:null!=a.cutoff?a.cutoff:.5,radius:null!=a.radius?a.radius:.5*u})}},84267:function(ae,B,r){var D;!function(E){var f=/^\s+/,k=/\s+$/,M=0,y=E.round,c=E.min,i=E.max,s=E.random;function a(ee,oe){if(oe=oe||{},(ee=ee||"")instanceof a)return ee;if(!(this instanceof a))return new a(ee,oe);var fe,pe,Me,Ae,be,ye,we,ze,Se,Ce,ce=(Ae={r:0,g:0,b:0},be=1,ye=null,we=null,ze=null,Se=!1,Ce=!1,"string"==typeof(fe=ee)&&(fe=function(ge){ge=ge.replace(f,"").replace(k,"").toLowerCase();var he,_e=!1;if(R[ge])ge=R[ge],_e=!0;else if("transparent"==ge)return{r:0,g:0,b:0,a:0,format:"name"};return(he=ne.rgb.exec(ge))?{r:he[1],g:he[2],b:he[3]}:(he=ne.rgba.exec(ge))?{r:he[1],g:he[2],b:he[3],a:he[4]}:(he=ne.hsl.exec(ge))?{h:he[1],s:he[2],l:he[3]}:(he=ne.hsla.exec(ge))?{h:he[1],s:he[2],l:he[3],a:he[4]}:(he=ne.hsv.exec(ge))?{h:he[1],s:he[2],v:he[3]}:(he=ne.hsva.exec(ge))?{h:he[1],s:he[2],v:he[3],a:he[4]}:(he=ne.hex8.exec(ge))?{r:F(he[1]),g:F(he[2]),b:F(he[3]),a:W(he[4]),format:_e?"name":"hex8"}:(he=ne.hex6.exec(ge))?{r:F(he[1]),g:F(he[2]),b:F(he[3]),format:_e?"name":"hex"}:(he=ne.hex4.exec(ge))?{r:F(he[1]+""+he[1]),g:F(he[2]+""+he[2]),b:F(he[3]+""+he[3]),a:W(he[4]+""+he[4]),format:_e?"name":"hex8"}:!!(he=ne.hex3.exec(ge))&&{r:F(he[1]+""+he[1]),g:F(he[2]+""+he[2]),b:F(he[3]+""+he[3]),format:_e?"name":"hex"}}(fe)),"object"==typeof fe&&(Q(fe.r)&&Q(fe.g)&&Q(fe.b)?(pe=fe.g,Me=fe.b,Ae={r:255*j(fe.r,255),g:255*j(pe,255),b:255*j(Me,255)},Se=!0,Ce="%"===String(fe.r).substr(-1)?"prgb":"rgb"):Q(fe.h)&&Q(fe.s)&&Q(fe.v)?(ye=G(fe.s),we=G(fe.v),Ae=function(ge,he,_e){ge=6*j(ge,360),he=j(he,100),_e=j(_e,100);var Le=E.floor(ge),Ie=ge-Le,De=_e*(1-he),je=_e*(1-Ie*he),qe=_e*(1-(1-Ie)*he),ve=Le%6;return{r:255*[_e,je,De,De,qe,_e][ve],g:255*[qe,_e,_e,je,De,De][ve],b:255*[De,De,qe,_e,_e,je][ve]}}(fe.h,ye,we),Se=!0,Ce="hsv"):Q(fe.h)&&Q(fe.s)&&Q(fe.l)&&(ye=G(fe.s),ze=G(fe.l),Ae=function(ge,he,_e){var Le,Ie,De;function je(Oe,ke,Be){return Be<0&&(Be+=1),Be>1&&(Be-=1),Be<1/6?Oe+6*(ke-Oe)*Be:Be<.5?ke:Be<2/3?Oe+(ke-Oe)*(2/3-Be)*6:Oe}if(ge=j(ge,360),he=j(he,100),_e=j(_e,100),0===he)Le=Ie=De=_e;else{var qe=_e<.5?_e*(1+he):_e+he-_e*he,ve=2*_e-qe;Le=je(ve,qe,ge+1/3),Ie=je(ve,qe,ge),De=je(ve,qe,ge-1/3)}return{r:255*Le,g:255*Ie,b:255*De}}(fe.h,ye,ze),Se=!0,Ce="hsl"),fe.hasOwnProperty("a")&&(be=fe.a)),be=N(be),{ok:Se,format:fe.format||Ce,r:c(255,i(Ae.r,0)),g:c(255,i(Ae.g,0)),b:c(255,i(Ae.b,0)),a:be});this._originalInput=ee,this._r=ce.r,this._g=ce.g,this._b=ce.b,this._a=ce.a,this._roundA=y(100*this._a)/100,this._format=oe.format||ce.format,this._gradientType=oe.gradientType,this._r<1&&(this._r=y(this._r)),this._g<1&&(this._g=y(this._g)),this._b<1&&(this._b=y(this._b)),this._ok=ce.ok,this._tc_id=M++}function o(ee,oe,ce){ee=j(ee,255),oe=j(oe,255),ce=j(ce,255);var fe,le,pe=i(ee,oe,ce),Me=c(ee,oe,ce),Ae=(pe+Me)/2;if(pe==Me)fe=le=0;else{var be=pe-Me;switch(le=Ae>.5?be/(2-pe-Me):be/(pe+Me),pe){case ee:fe=(oe-ce)/be+(oe<ce?6:0);break;case oe:fe=(ce-ee)/be+2;break;case ce:fe=(ee-oe)/be+4}fe/=6}return{h:fe,s:le,l:Ae}}function l(ee,oe,ce){ee=j(ee,255),oe=j(oe,255),ce=j(ce,255);var fe,le,pe=i(ee,oe,ce),Me=c(ee,oe,ce),Ae=pe,be=pe-Me;if(le=0===pe?0:be/pe,pe==Me)fe=0;else{switch(pe){case ee:fe=(oe-ce)/be+(oe<ce?6:0);break;case oe:fe=(ce-ee)/be+2;break;case ce:fe=(ee-oe)/be+4}fe/=6}return{h:fe,s:le,v:Ae}}function u(ee,oe,ce,fe){var le=[Y(y(ee).toString(16)),Y(y(oe).toString(16)),Y(y(ce).toString(16))];return fe&&le[0].charAt(0)==le[0].charAt(1)&&le[1].charAt(0)==le[1].charAt(1)&&le[2].charAt(0)==le[2].charAt(1)?le[0].charAt(0)+le[1].charAt(0)+le[2].charAt(0):le.join("")}function h(ee,oe,ce,fe){return[Y(H(fe)),Y(y(ee).toString(16)),Y(y(oe).toString(16)),Y(y(ce).toString(16))].join("")}function v(ee,oe){oe=0===oe?0:oe||10;var ce=a(ee).toHsl();return ce.s-=oe/100,ce.s=X(ce.s),a(ce)}function p(ee,oe){oe=0===oe?0:oe||10;var ce=a(ee).toHsl();return ce.s+=oe/100,ce.s=X(ce.s),a(ce)}function T(ee){return a(ee).desaturate(100)}function _(ee,oe){oe=0===oe?0:oe||10;var ce=a(ee).toHsl();return ce.l+=oe/100,ce.l=X(ce.l),a(ce)}function m(ee,oe){oe=0===oe?0:oe||10;var ce=a(ee).toRgb();return ce.r=i(0,c(255,ce.r-y(-oe/100*255))),ce.g=i(0,c(255,ce.g-y(-oe/100*255))),ce.b=i(0,c(255,ce.b-y(-oe/100*255))),a(ce)}function w(ee,oe){oe=0===oe?0:oe||10;var ce=a(ee).toHsl();return ce.l-=oe/100,ce.l=X(ce.l),a(ce)}function x(ee,oe){var ce=a(ee).toHsl(),fe=(ce.h+oe)%360;return ce.h=fe<0?360+fe:fe,a(ce)}function b(ee){var oe=a(ee).toHsl();return oe.h=(oe.h+180)%360,a(oe)}function A(ee){var oe=a(ee).toHsl(),ce=oe.h;return[a(ee),a({h:(ce+120)%360,s:oe.s,l:oe.l}),a({h:(ce+240)%360,s:oe.s,l:oe.l})]}function g(ee){var oe=a(ee).toHsl(),ce=oe.h;return[a(ee),a({h:(ce+90)%360,s:oe.s,l:oe.l}),a({h:(ce+180)%360,s:oe.s,l:oe.l}),a({h:(ce+270)%360,s:oe.s,l:oe.l})]}function I(ee){var oe=a(ee).toHsl(),ce=oe.h;return[a(ee),a({h:(ce+72)%360,s:oe.s,l:oe.l}),a({h:(ce+216)%360,s:oe.s,l:oe.l})]}function S(ee,oe,ce){oe=oe||6,ce=ce||30;var fe=a(ee).toHsl(),le=360/ce,pe=[a(ee)];for(fe.h=(fe.h-(le*oe>>1)+720)%360;--oe;)fe.h=(fe.h+le)%360,pe.push(a(fe));return pe}function O(ee,oe){oe=oe||6;for(var ce=a(ee).toHsv(),fe=ce.h,le=ce.s,pe=ce.v,Me=[],Ae=1/oe;oe--;)Me.push(a({h:fe,s:le,v:pe})),pe=(pe+Ae)%1;return Me}a.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var ee=this.toRgb();return(299*ee.r+587*ee.g+114*ee.b)/1e3},getLuminance:function(){var ee,oe,ce,fe=this.toRgb();return oe=fe.g/255,ce=fe.b/255,.2126*((ee=fe.r/255)<=.03928?ee/12.92:E.pow((ee+.055)/1.055,2.4))+.7152*(oe<=.03928?oe/12.92:E.pow((oe+.055)/1.055,2.4))+.0722*(ce<=.03928?ce/12.92:E.pow((ce+.055)/1.055,2.4))},setAlpha:function(ee){return this._a=N(ee),this._roundA=y(100*this._a)/100,this},toHsv:function(){var ee=l(this._r,this._g,this._b);return{h:360*ee.h,s:ee.s,v:ee.v,a:this._a}},toHsvString:function(){var ee=l(this._r,this._g,this._b),oe=y(360*ee.h),ce=y(100*ee.s),fe=y(100*ee.v);return 1==this._a?"hsv("+oe+", "+ce+"%, "+fe+"%)":"hsva("+oe+", "+ce+"%, "+fe+"%, "+this._roundA+")"},toHsl:function(){var ee=o(this._r,this._g,this._b);return{h:360*ee.h,s:ee.s,l:ee.l,a:this._a}},toHslString:function(){var ee=o(this._r,this._g,this._b),oe=y(360*ee.h),ce=y(100*ee.s),fe=y(100*ee.l);return 1==this._a?"hsl("+oe+", "+ce+"%, "+fe+"%)":"hsla("+oe+", "+ce+"%, "+fe+"%, "+this._roundA+")"},toHex:function(ee){return u(this._r,this._g,this._b,ee)},toHexString:function(ee){return"#"+this.toHex(ee)},toHex8:function(ee){return ce=this._g,fe=this._b,le=this._a,pe=ee,Me=[Y(y(this._r).toString(16)),Y(y(ce).toString(16)),Y(y(fe).toString(16)),Y(H(le))],pe&&Me[0].charAt(0)==Me[0].charAt(1)&&Me[1].charAt(0)==Me[1].charAt(1)&&Me[2].charAt(0)==Me[2].charAt(1)&&Me[3].charAt(0)==Me[3].charAt(1)?Me[0].charAt(0)+Me[1].charAt(0)+Me[2].charAt(0)+Me[3].charAt(0):Me.join("");var ce,fe,le,pe,Me},toHex8String:function(ee){return"#"+this.toHex8(ee)},toRgb:function(){return{r:y(this._r),g:y(this._g),b:y(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+y(this._r)+", "+y(this._g)+", "+y(this._b)+")":"rgba("+y(this._r)+", "+y(this._g)+", "+y(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:y(100*j(this._r,255))+"%",g:y(100*j(this._g,255))+"%",b:y(100*j(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+y(100*j(this._r,255))+"%, "+y(100*j(this._g,255))+"%, "+y(100*j(this._b,255))+"%)":"rgba("+y(100*j(this._r,255))+"%, "+y(100*j(this._g,255))+"%, "+y(100*j(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(L[u(this._r,this._g,this._b,!0)]||!1)},toFilter:function(ee){var oe="#"+h(this._r,this._g,this._b,this._a),ce=oe,fe=this._gradientType?"GradientType = 1, ":"";if(ee){var le=a(ee);ce="#"+h(le._r,le._g,le._b,le._a)}return"progid:DXImageTransform.Microsoft.gradient("+fe+"startColorstr="+oe+",endColorstr="+ce+")"},toString:function(ee){var oe=!!ee;ee=ee||this._format;var ce=!1;return oe||!(this._a<1&&this._a>=0)||"hex"!==ee&&"hex6"!==ee&&"hex3"!==ee&&"hex4"!==ee&&"hex8"!==ee&&"name"!==ee?("rgb"===ee&&(ce=this.toRgbString()),"prgb"===ee&&(ce=this.toPercentageRgbString()),"hex"!==ee&&"hex6"!==ee||(ce=this.toHexString()),"hex3"===ee&&(ce=this.toHexString(!0)),"hex4"===ee&&(ce=this.toHex8String(!0)),"hex8"===ee&&(ce=this.toHex8String()),"name"===ee&&(ce=this.toName()),"hsl"===ee&&(ce=this.toHslString()),"hsv"===ee&&(ce=this.toHsvString()),ce||this.toHexString()):"name"===ee&&0===this._a?this.toName():this.toRgbString()},clone:function(){return a(this.toString())},_applyModification:function(ee,oe){var ce=ee.apply(null,[this].concat([].slice.call(oe)));return this._r=ce._r,this._g=ce._g,this._b=ce._b,this.setAlpha(ce._a),this},lighten:function(){return this._applyModification(_,arguments)},brighten:function(){return this._applyModification(m,arguments)},darken:function(){return this._applyModification(w,arguments)},desaturate:function(){return this._applyModification(v,arguments)},saturate:function(){return this._applyModification(p,arguments)},greyscale:function(){return this._applyModification(T,arguments)},spin:function(){return this._applyModification(x,arguments)},_applyCombination:function(ee,oe){return ee.apply(null,[this].concat([].slice.call(oe)))},analogous:function(){return this._applyCombination(S,arguments)},complement:function(){return this._applyCombination(b,arguments)},monochromatic:function(){return this._applyCombination(O,arguments)},splitcomplement:function(){return this._applyCombination(I,arguments)},triad:function(){return this._applyCombination(A,arguments)},tetrad:function(){return this._applyCombination(g,arguments)}},a.fromRatio=function(ee,oe){if("object"==typeof ee){var ce={};for(var fe in ee)ee.hasOwnProperty(fe)&&(ce[fe]="a"===fe?ee[fe]:G(ee[fe]));ee=ce}return a(ee,oe)},a.equals=function(ee,oe){return!(!ee||!oe)&&a(ee).toRgbString()==a(oe).toRgbString()},a.random=function(){return a.fromRatio({r:s(),g:s(),b:s()})},a.mix=function(ee,oe,ce){ce=0===ce?0:ce||50;var fe=a(ee).toRgb(),le=a(oe).toRgb(),pe=ce/100;return a({r:(le.r-fe.r)*pe+fe.r,g:(le.g-fe.g)*pe+fe.g,b:(le.b-fe.b)*pe+fe.b,a:(le.a-fe.a)*pe+fe.a})},a.readability=function(ee,oe){var ce=a(ee),fe=a(oe);return(E.max(ce.getLuminance(),fe.getLuminance())+.05)/(E.min(ce.getLuminance(),fe.getLuminance())+.05)},a.isReadable=function(ee,oe,ce){var fe,le,pe,Me,Ae,be=a.readability(ee,oe);switch(le=!1,(pe=ce,"AA"!==(Me=((pe=pe||{level:"AA",size:"small"}).level||"AA").toUpperCase())&&"AAA"!==Me&&(Me="AA"),"small"!==(Ae=(pe.size||"small").toLowerCase())&&"large"!==Ae&&(Ae="small"),fe={level:Me,size:Ae}).level+fe.size){case"AAsmall":case"AAAlarge":le=be>=4.5;break;case"AAlarge":le=be>=3;break;case"AAAsmall":le=be>=7}return le},a.mostReadable=function(ee,oe,ce){var fe,le,pe,Me,Ae=null,be=0;le=(ce=ce||{}).includeFallbackColors,pe=ce.level,Me=ce.size;for(var ye=0;ye<oe.length;ye++)(fe=a.readability(ee,oe[ye]))>be&&(be=fe,Ae=a(oe[ye]));return a.isReadable(ee,Ae,{level:pe,size:Me})||!le?Ae:(ce.includeFallbackColors=!1,a.mostReadable(ee,["#fff","#000"],ce))};var R=a.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},L=a.hexNames=function(ee){var oe={};for(var ce in ee)ee.hasOwnProperty(ce)&&(oe[ee[ce]]=ce);return oe}(R);function N(ee){return ee=parseFloat(ee),(isNaN(ee)||ee<0||ee>1)&&(ee=1),ee}function j(ee,oe){var fe;"string"==typeof(fe=ee)&&-1!=fe.indexOf(".")&&1===parseFloat(fe)&&(ee="100%");var ce=function(fe){return"string"==typeof fe&&-1!=fe.indexOf("%")}(ee);return ee=c(oe,i(0,parseFloat(ee))),ce&&(ee=parseInt(ee*oe,10)/100),E.abs(ee-oe)<1e-6?1:ee%oe/parseFloat(oe)}function X(ee){return c(1,i(0,ee))}function F(ee){return parseInt(ee,16)}function Y(ee){return 1==ee.length?"0"+ee:""+ee}function G(ee){return ee<=1&&(ee=100*ee+"%"),ee}function H(ee){return E.round(255*parseFloat(ee)).toString(16)}function W(ee){return F(ee)/255}var Z,se,re,ne=(se="[\\s|\\(]+("+(Z="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+Z+")[,|\\s]+("+Z+")\\s*\\)?",re="[\\s|\\(]+("+Z+")[,|\\s]+("+Z+")[,|\\s]+("+Z+")[,|\\s]+("+Z+")\\s*\\)?",{CSS_UNIT:new RegExp(Z),rgb:new RegExp("rgb"+se),rgba:new RegExp("rgba"+re),hsl:new RegExp("hsl"+se),hsla:new RegExp("hsla"+re),hsv:new RegExp("hsv"+se),hsva:new RegExp("hsva"+re),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function Q(ee){return!!ne.CSS_UNIT.exec(ee)}ae.exports?ae.exports=a:void 0===(D=function(){return a}.call(B,r,B,ae))||(ae.exports=D)}(Math)},57060:function(ae){"use strict";ae.exports=r,ae.exports.float32=ae.exports.float=r,ae.exports.fract32=ae.exports.fract=function(D,E){if(D.length){if(D instanceof Float32Array)return new Float32Array(D.length);E instanceof Float32Array||(E=r(D));for(var f=0,k=E.length;f<k;f++)E[f]=D[f]-E[f];return E}return r(D-r(D))};var B=new Float32Array(1);function r(D){return D.length?D instanceof Float32Array?D:new Float32Array(D):(B[0]=D,B[0])}},75686:function(ae,B,r){"use strict";var D=r(25677);ae.exports=k;var E=96;function f(M,y){var c=D(getComputedStyle(M).getPropertyValue(y));return c[0]*k(c[1],M)}function k(M,y){switch(y=y||document.body,M=(M||"px").trim().toLowerCase(),y!==window&&y!==document||(y=document.body),M){case"%":return y.clientHeight/100;case"ch":case"ex":return function(c,i){var s=document.createElement("div");s.style["font-size"]="128"+c,i.appendChild(s);var a=f(s,"font-size")/128;return i.removeChild(s),a}(M,y);case"em":return f(y,"font-size");case"rem":return f(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return E;case"cm":return E/2.54;case"mm":return E/25.4;case"pt":return E/72;case"pc":return E/6}return 1}},96892:function(ae,B,r){"use strict";function D(k){return k}function E(k,M){return"string"==typeof M&&(M=k.objects[M]),"GeometryCollection"===M.type?{type:"FeatureCollection",features:M.geometries.map(function(y){return f(k,y)})}:f(k,M)}function f(k,M){var y=M.id,c=M.bbox,i=null==M.properties?{}:M.properties,s=function(a,o){var l=function(m){if(null==m)return D;var w,x,b=m.scale[0],A=m.scale[1],g=m.translate[0],I=m.translate[1];return function(S,O){O||(w=x=0);var R=2,L=S.length,N=new Array(L);for(N[0]=(w+=S[0])*b+g,N[1]=(x+=S[1])*A+I;R<L;)N[R]=S[R],++R;return N}}(a.transform),u=a.arcs;function h(m,w){w.length&&w.pop();for(var x=u[m<0?~m:m],b=0,A=x.length;b<A;++b)w.push(l(x[b],b));m<0&&function(g,I){for(var S,O=g.length,R=O-I;R<--O;)S=g[R],g[R++]=g[O],g[O]=S}(w,A)}function v(m){return l(m)}function p(m){for(var w=[],x=0,b=m.length;x<b;++x)h(m[x],w);return w.length<2&&w.push(w[0]),w}function T(m){for(var w=p(m);w.length<4;)w.push(w[0]);return w}function _(m){return m.map(T)}return function m(w){var x,b=w.type;switch(b){case"GeometryCollection":return{type:b,geometries:w.geometries.map(m)};case"Point":x=v(w.coordinates);break;case"MultiPoint":x=w.coordinates.map(v);break;case"LineString":x=p(w.arcs);break;case"MultiLineString":x=w.arcs.map(p);break;case"Polygon":x=_(w.arcs);break;case"MultiPolygon":x=w.arcs.map(_);break;default:return null}return{type:b,coordinates:x}}(o)}(k,M);return null==y&&null==c?{type:"Feature",properties:i,geometry:s}:null==c?{type:"Feature",id:y,properties:i,geometry:s}:{type:"Feature",id:y,bbox:c,properties:i,geometry:s}}r.d(B,{zL:function(){return E}})},73116:function(ae,B,r){"use strict";var D=r(24511);ae.exports=function(E){if("function"!=typeof E||!hasOwnProperty.call(E,"length"))return!1;try{if("number"!=typeof E.length||"function"!=typeof E.call||"function"!=typeof E.apply)return!1}catch{return!1}return!D(E)}},69190:function(ae,B,r){"use strict";var D=r(24582),E=r(47403),f=r(9234),k=r(6048),M=function(y,c){return y.replace("%v",k(c))};ae.exports=function(y,c,i){if(!E(i))throw new TypeError(M(c,y));if(!D(y)){if("default"in i)return i.default;if(i.isOptional)return null}var s=f(i.errorMessage);throw D(s)||(s=c),new TypeError(M(s,y))}},18497:function(ae){"use strict";ae.exports=function(B){try{return B.toString()}catch{try{return String(B)}catch{return null}}}},6048:function(ae,B,r){"use strict";var D=r(18497),E=/[\n\r\u2028\u2029]/g;ae.exports=function(f){var k=D(f);return null===k?"<Non-coercible to string value>":(k.length>100&&(k=k.slice(0,99)+"\u2026"),k=k.replace(E,function(M){switch(M){case"\n":return"\\n";case"\r":return"\\r";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw new Error("Unexpected character")}}))}},47403:function(ae,B,r){"use strict";var D=r(24582),E={object:!0,function:!0,undefined:!0};ae.exports=function(f){return!!D(f)&&hasOwnProperty.call(E,typeof f)}},82527:function(ae,B,r){"use strict";var D=r(69190),E=r(84985);ae.exports=function(f){return E(f)?f:D(f,"%v is not a plain function",arguments[1])}},84985:function(ae,B,r){"use strict";var D=r(73116),E=/^\s*class[\s{/}]/,f=Function.prototype.toString;ae.exports=function(k){return!!D(k)&&!E.test(f.call(k))}},24511:function(ae,B,r){"use strict";var D=r(47403);ae.exports=function(E){if(!D(E))return!1;try{return!!E.constructor&&E.constructor.prototype===E}catch{return!1}}},9234:function(ae,B,r){"use strict";var D=r(24582),E=r(47403),f=Object.prototype.toString;ae.exports=function(k){if(!D(k))return null;if(E(k)){var M=k.toString;if("function"!=typeof M||M===f)return null}try{return""+k}catch{return null}}},10424:function(ae,B,r){"use strict";var D=r(69190),E=r(24582);ae.exports=function(f){return E(f)?f:D(f,"Cannot use %v",arguments[1])}},24582:function(ae){"use strict";ae.exports=function(B){return null!=B}},58404:function(ae,B,r){"use strict";var D=r(13547),E=r(12129),f=r(12856).Buffer;r.g.__TYPEDARRAY_POOL||(r.g.__TYPEDARRAY_POOL={UINT8:E([32,0]),UINT16:E([32,0]),UINT32:E([32,0]),BIGUINT64:E([32,0]),INT8:E([32,0]),INT16:E([32,0]),INT32:E([32,0]),BIGINT64:E([32,0]),FLOAT:E([32,0]),DOUBLE:E([32,0]),DATA:E([32,0]),UINT8C:E([32,0]),BUFFER:E([32,0])});var k=typeof Uint8ClampedArray<"u",M=typeof BigUint64Array<"u",y=typeof BigInt64Array<"u",c=r.g.__TYPEDARRAY_POOL;c.UINT8C||(c.UINT8C=E([32,0])),c.BIGUINT64||(c.BIGUINT64=E([32,0])),c.BIGINT64||(c.BIGINT64=E([32,0])),c.BUFFER||(c.BUFFER=E([32,0]));var i=c.DATA,s=c.BUFFER;function a(I){if(I){var O=D.log2(I.length||I.byteLength);i[O].push(I)}}function o(I){I=D.nextPow2(I);var S=D.log2(I),O=i[S];return O.length>0?O.pop():new ArrayBuffer(I)}function l(I){return new Uint8Array(o(I),0,I)}function u(I){return new Uint16Array(o(2*I),0,I)}function h(I){return new Uint32Array(o(4*I),0,I)}function v(I){return new Int8Array(o(I),0,I)}function p(I){return new Int16Array(o(2*I),0,I)}function T(I){return new Int32Array(o(4*I),0,I)}function _(I){return new Float32Array(o(4*I),0,I)}function m(I){return new Float64Array(o(8*I),0,I)}function w(I){return k?new Uint8ClampedArray(o(I),0,I):l(I)}function x(I){return M?new BigUint64Array(o(8*I),0,I):null}function b(I){return y?new BigInt64Array(o(8*I),0,I):null}function A(I){return new DataView(o(I),0,I)}function g(I){I=D.nextPow2(I);var S=D.log2(I),O=s[S];return O.length>0?O.pop():new f(I)}B.free=function(I){if(f.isBuffer(I))s[D.log2(I.length)].push(I);else{if("[object ArrayBuffer]"!==Object.prototype.toString.call(I)&&(I=I.buffer),!I)return;var O=0|D.log2(I.length||I.byteLength);i[O].push(I)}},B.freeUint8=B.freeUint16=B.freeUint32=B.freeBigUint64=B.freeInt8=B.freeInt16=B.freeInt32=B.freeBigInt64=B.freeFloat32=B.freeFloat=B.freeFloat64=B.freeDouble=B.freeUint8Clamped=B.freeDataView=function(I){a(I.buffer)},B.freeArrayBuffer=a,B.freeBuffer=function(I){s[D.log2(I.length)].push(I)},B.malloc=function(I,S){if(void 0===S||"arraybuffer"===S)return o(I);switch(S){case"uint8":return l(I);case"uint16":return u(I);case"uint32":return h(I);case"int8":return v(I);case"int16":return p(I);case"int32":return T(I);case"float":case"float32":return _(I);case"double":case"float64":return m(I);case"uint8_clamped":return w(I);case"bigint64":return b(I);case"biguint64":return x(I);case"buffer":return g(I);case"data":case"dataview":return A(I);default:return null}return null},B.mallocArrayBuffer=o,B.mallocUint8=l,B.mallocUint16=u,B.mallocUint32=h,B.mallocInt8=v,B.mallocInt16=p,B.mallocInt32=T,B.mallocFloat32=B.mallocFloat=_,B.mallocFloat64=B.mallocDouble=m,B.mallocUint8Clamped=w,B.mallocBigUint64=x,B.mallocBigInt64=b,B.mallocDataView=A,B.mallocBuffer=g,B.clearCache=function(){for(var I=0;I<32;++I)c.UINT8[I].length=0,c.UINT16[I].length=0,c.UINT32[I].length=0,c.INT8[I].length=0,c.INT16[I].length=0,c.INT32[I].length=0,c.FLOAT[I].length=0,c.DOUBLE[I].length=0,c.BIGUINT64[I].length=0,c.BIGINT64[I].length=0,c.UINT8C[I].length=0,i[I].length=0,s[I].length=0}},90448:function(ae){var B=/[\'\"]/;ae.exports=function(r){return r?(B.test(r.charAt(0))&&(r=r.substr(1)),B.test(r.charAt(r.length-1))&&(r=r.substr(0,r.length-1)),r):""}},93447:function(ae){"use strict";ae.exports=function(B,r,D){Array.isArray(D)||(D=[].slice.call(arguments,2));for(var E=0,f=D.length;E<f;E++){var k=D[E];for(var M in k)if((void 0===r[M]||Array.isArray(r[M])||B[M]!==r[M])&&M in r){var y;if(!0===k[M])y=r[M];else if(!1===k[M]||"function"==typeof k[M]&&void 0===(y=k[M](r[M],B,r)))continue;B[M]=y}}return B}},20588:function(ae,B,r){function D(E){try{if(!r.g.localStorage)return!1}catch{return!1}var f=r.g.localStorage[E];return null!=f&&"true"===String(f).toLowerCase()}ae.exports=function(E,f){if(D("noDeprecation"))return E;var k=!1;return function(){if(!k){if(D("throwDeprecation"))throw new Error(f);D("traceDeprecation")?console.trace(f):console.warn(f),k=!0}return E.apply(this,arguments)}}},45920:function(ae){ae.exports=function(B){return B&&"object"==typeof B&&"function"==typeof B.copy&&"function"==typeof B.fill&&"function"==typeof B.readUInt8}},4936:function(ae,B,r){"use strict";var D=r(47216),E=r(65481),f=r(21099),k=r(9187);function M(j){return j.call.bind(j)}var y=typeof BigInt<"u",c=typeof Symbol<"u",i=M(Object.prototype.toString),s=M(Number.prototype.valueOf),a=M(String.prototype.valueOf),o=M(Boolean.prototype.valueOf);if(y)var l=M(BigInt.prototype.valueOf);if(c)var u=M(Symbol.prototype.valueOf);function h(j,X){if("object"!=typeof j)return!1;try{return X(j),!0}catch{return!1}}function v(j){return"[object Map]"===i(j)}function p(j){return"[object Set]"===i(j)}function T(j){return"[object WeakMap]"===i(j)}function _(j){return"[object WeakSet]"===i(j)}function m(j){return"[object ArrayBuffer]"===i(j)}function w(j){return typeof ArrayBuffer<"u"&&(m.working?m(j):j instanceof ArrayBuffer)}function x(j){return"[object DataView]"===i(j)}function b(j){return typeof DataView<"u"&&(x.working?x(j):j instanceof DataView)}B.isArgumentsObject=D,B.isGeneratorFunction=E,B.isTypedArray=k,B.isPromise=function(j){return typeof Promise<"u"&&j instanceof Promise||null!==j&&"object"==typeof j&&"function"==typeof j.then&&"function"==typeof j.catch},B.isArrayBufferView=function(j){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(j):k(j)||b(j)},B.isUint8Array=function(j){return"Uint8Array"===f(j)},B.isUint8ClampedArray=function(j){return"Uint8ClampedArray"===f(j)},B.isUint16Array=function(j){return"Uint16Array"===f(j)},B.isUint32Array=function(j){return"Uint32Array"===f(j)},B.isInt8Array=function(j){return"Int8Array"===f(j)},B.isInt16Array=function(j){return"Int16Array"===f(j)},B.isInt32Array=function(j){return"Int32Array"===f(j)},B.isFloat32Array=function(j){return"Float32Array"===f(j)},B.isFloat64Array=function(j){return"Float64Array"===f(j)},B.isBigInt64Array=function(j){return"BigInt64Array"===f(j)},B.isBigUint64Array=function(j){return"BigUint64Array"===f(j)},v.working=typeof Map<"u"&&v(new Map),B.isMap=function(j){return typeof Map<"u"&&(v.working?v(j):j instanceof Map)},p.working=typeof Set<"u"&&p(new Set),B.isSet=function(j){return typeof Set<"u"&&(p.working?p(j):j instanceof Set)},T.working=typeof WeakMap<"u"&&T(new WeakMap),B.isWeakMap=function(j){return typeof WeakMap<"u"&&(T.working?T(j):j instanceof WeakMap)},_.working=typeof WeakSet<"u"&&_(new WeakSet),B.isWeakSet=function(j){return _(j)},m.working=typeof ArrayBuffer<"u"&&m(new ArrayBuffer),B.isArrayBuffer=w,x.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&x(new DataView(new ArrayBuffer(1),0,1)),B.isDataView=b;var A=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function g(j){return"[object SharedArrayBuffer]"===i(j)}function I(j){return void 0!==A&&(void 0===g.working&&(g.working=g(new A)),g.working?g(j):j instanceof A)}function S(j){return h(j,s)}function O(j){return h(j,a)}function R(j){return h(j,o)}function L(j){return y&&h(j,l)}function N(j){return c&&h(j,u)}B.isSharedArrayBuffer=I,B.isAsyncFunction=function(j){return"[object AsyncFunction]"===i(j)},B.isMapIterator=function(j){return"[object Map Iterator]"===i(j)},B.isSetIterator=function(j){return"[object Set Iterator]"===i(j)},B.isGeneratorObject=function(j){return"[object Generator]"===i(j)},B.isWebAssemblyCompiledModule=function(j){return"[object WebAssembly.Module]"===i(j)},B.isNumberObject=S,B.isStringObject=O,B.isBooleanObject=R,B.isBigIntObject=L,B.isSymbolObject=N,B.isBoxedPrimitive=function(j){return S(j)||O(j)||R(j)||L(j)||N(j)},B.isAnyArrayBuffer=function(j){return typeof Uint8Array<"u"&&(w(j)||I(j))},["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(j){Object.defineProperty(B,j,{enumerable:!1,value:function(){throw new Error(j+" is not supported in userland")}})})},43827:function(ae,B,r){var D=r(90386),E=Object.getOwnPropertyDescriptors||function(N){for(var j=Object.keys(N),X={},F=0;F<j.length;F++)X[j[F]]=Object.getOwnPropertyDescriptor(N,j[F]);return X},f=/%[sdj%]/g;B.format=function(N){if(!T(N)){for(var j=[],X=0;X<arguments.length;X++)j.push(c(arguments[X]));return j.join(" ")}X=1;for(var F=arguments,Y=F.length,G=String(N).replace(f,function(W){if("%%"===W)return"%";if(X>=Y)return W;switch(W){case"%s":return String(F[X++]);case"%d":return Number(F[X++]);case"%j":try{return JSON.stringify(F[X++])}catch{return"[Circular]"}default:return W}}),H=F[X];X<Y;H=F[++X])v(H)||!w(H)?G+=" "+H:G+=" "+c(H);return G},B.deprecate=function(N,j){if(void 0!==D&&!0===D.noDeprecation)return N;if(void 0===D)return function(){return B.deprecate(N,j).apply(this,arguments)};var X=!1;return function(){if(!X){if(D.throwDeprecation)throw new Error(j);D.traceDeprecation?console.trace(j):console.error(j),X=!0}return N.apply(this,arguments)}};var k={},M=/^$/;if(D.env.NODE_DEBUG){var y=D.env.NODE_DEBUG;y=y.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),M=new RegExp("^"+y+"$","i")}function c(N,j){var X={seen:[],stylize:s};return arguments.length>=3&&(X.depth=arguments[2]),arguments.length>=4&&(X.colors=arguments[3]),h(j)?X.showHidden=j:j&&B._extend(X,j),_(X.showHidden)&&(X.showHidden=!1),_(X.depth)&&(X.depth=2),_(X.colors)&&(X.colors=!1),_(X.customInspect)&&(X.customInspect=!0),X.colors&&(X.stylize=i),a(X,N,X.depth)}function i(N,j){var X=c.styles[j];return X?"\x1b["+c.colors[X][0]+"m"+N+"\x1b["+c.colors[X][1]+"m":N}function s(N,j){return N}function a(N,j,X){if(N.customInspect&&j&&A(j.inspect)&&j.inspect!==B.inspect&&(!j.constructor||j.constructor.prototype!==j)){var F=j.inspect(X,N);return T(F)||(F=a(N,F,X)),F}var Y=function(Q,ee){if(_(ee))return Q.stylize("undefined","undefined");if(T(ee)){var oe="'"+JSON.stringify(ee).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return Q.stylize(oe,"string")}return p(ee)?Q.stylize(""+ee,"number"):h(ee)?Q.stylize(""+ee,"boolean"):v(ee)?Q.stylize("null","null"):void 0}(N,j);if(Y)return Y;var ee,G=Object.keys(j),H=(ee={},G.forEach(function(oe,ce){ee[oe]=!0}),ee);if(N.showHidden&&(G=Object.getOwnPropertyNames(j)),b(j)&&(G.indexOf("message")>=0||G.indexOf("description")>=0))return o(j);if(0===G.length){if(A(j))return N.stylize("[Function"+(j.name?": "+j.name:"")+"]","special");if(m(j))return N.stylize(RegExp.prototype.toString.call(j),"regexp");if(x(j))return N.stylize(Date.prototype.toString.call(j),"date");if(b(j))return o(j)}var Z,se="",re=!1,ne=["{","}"];return u(j)&&(re=!0,ne=["[","]"]),A(j)&&(se=" [Function"+(j.name?": "+j.name:"")+"]"),m(j)&&(se=" "+RegExp.prototype.toString.call(j)),x(j)&&(se=" "+Date.prototype.toUTCString.call(j)),b(j)&&(se=" "+o(j)),0!==G.length||re&&0!=j.length?X<0?m(j)?N.stylize(RegExp.prototype.toString.call(j),"regexp"):N.stylize("[Object]","special"):(N.seen.push(j),Z=re?function(Q,ee,oe,ce,fe){for(var le=[],pe=0,Me=ee.length;pe<Me;++pe)O(ee,String(pe))?le.push(l(Q,ee,oe,ce,String(pe),!0)):le.push("");return fe.forEach(function(Ae){Ae.match(/^\d+$/)||le.push(l(Q,ee,oe,ce,Ae,!0))}),le}(N,j,X,H,G):G.map(function(Q){return l(N,j,X,H,Q,re)}),N.seen.pop(),function(Q,ee,oe){return Q.reduce(function(ce,fe){return fe.indexOf("\n"),ce+fe.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?oe[0]+(""===ee?"":ee+"\n ")+" "+Q.join(",\n  ")+" "+oe[1]:oe[0]+ee+" "+Q.join(", ")+" "+oe[1]}(Z,se,ne)):ne[0]+se+ne[1]}function o(N){return"["+Error.prototype.toString.call(N)+"]"}function l(N,j,X,F,Y,G){var H,W,Z;if((Z=Object.getOwnPropertyDescriptor(j,Y)||{value:j[Y]}).get?W=N.stylize(Z.set?"[Getter/Setter]":"[Getter]","special"):Z.set&&(W=N.stylize("[Setter]","special")),O(F,Y)||(H="["+Y+"]"),W||(N.seen.indexOf(Z.value)<0?(W=v(X)?a(N,Z.value,null):a(N,Z.value,X-1)).indexOf("\n")>-1&&(W=G?W.split("\n").map(function(se){return"  "+se}).join("\n").slice(2):"\n"+W.split("\n").map(function(se){return"   "+se}).join("\n")):W=N.stylize("[Circular]","special")),_(H)){if(G&&Y.match(/^\d+$/))return W;(H=JSON.stringify(""+Y)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(H=H.slice(1,-1),H=N.stylize(H,"name")):(H=H.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),H=N.stylize(H,"string"))}return H+": "+W}function u(N){return Array.isArray(N)}function h(N){return"boolean"==typeof N}function v(N){return null===N}function p(N){return"number"==typeof N}function T(N){return"string"==typeof N}function _(N){return void 0===N}function m(N){return w(N)&&"[object RegExp]"===g(N)}function w(N){return"object"==typeof N&&null!==N}function x(N){return w(N)&&"[object Date]"===g(N)}function b(N){return w(N)&&("[object Error]"===g(N)||N instanceof Error)}function A(N){return"function"==typeof N}function g(N){return Object.prototype.toString.call(N)}function I(N){return N<10?"0"+N.toString(10):N.toString(10)}B.debuglog=function(N){if(N=N.toUpperCase(),!k[N])if(M.test(N)){var j=D.pid;k[N]=function(){var X=B.format.apply(B,arguments);console.error("%s %d: %s",N,j,X)}}else k[N]=function(){};return k[N]},B.inspect=c,c.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},c.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},B.types=r(4936),B.isArray=u,B.isBoolean=h,B.isNull=v,B.isNullOrUndefined=function(N){return null==N},B.isNumber=p,B.isString=T,B.isSymbol=function(N){return"symbol"==typeof N},B.isUndefined=_,B.isRegExp=m,B.types.isRegExp=m,B.isObject=w,B.isDate=x,B.types.isDate=x,B.isError=b,B.types.isNativeError=b,B.isFunction=A,B.isPrimitive=function(N){return null===N||"boolean"==typeof N||"number"==typeof N||"string"==typeof N||"symbol"==typeof N||void 0===N},B.isBuffer=r(45920);var S=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function O(N,j){return Object.prototype.hasOwnProperty.call(N,j)}B.log=function(){var N,j;console.log("%s - %s",(j=[I((N=new Date).getHours()),I(N.getMinutes()),I(N.getSeconds())].join(":"),[N.getDate(),S[N.getMonth()],j].join(" ")),B.format.apply(B,arguments))},B.inherits=r(42018),B._extend=function(N,j){if(!j||!w(j))return N;for(var X=Object.keys(j),F=X.length;F--;)N[X[F]]=j[X[F]];return N};var R=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;function L(N,j){if(!N){var X=new Error("Promise was rejected with a falsy value");X.reason=N,N=X}return j(N)}B.promisify=function(N){if("function"!=typeof N)throw new TypeError('The "original" argument must be of type Function');if(R&&N[R]){var j;if("function"!=typeof(j=N[R]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(j,R,{value:j,enumerable:!1,writable:!1,configurable:!0}),j}function j(){for(var X,F,Y=new Promise(function(W,Z){X=W,F=Z}),G=[],H=0;H<arguments.length;H++)G.push(arguments[H]);G.push(function(W,Z){W?F(W):X(Z)});try{N.apply(this,G)}catch(W){F(W)}return Y}return Object.setPrototypeOf(j,Object.getPrototypeOf(N)),R&&Object.defineProperty(j,R,{value:j,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(j,E(N))},B.promisify.custom=R,B.callbackify=function(N){if("function"!=typeof N)throw new TypeError('The "original" argument must be of type Function');function j(){for(var X=[],F=0;F<arguments.length;F++)X.push(arguments[F]);var Y=X.pop();if("function"!=typeof Y)throw new TypeError("The last argument must be of type Function");var G=this,H=function(){return Y.apply(G,arguments)};N.apply(this,X).then(function(W){D.nextTick(H.bind(null,null,W))},function(W){D.nextTick(L.bind(null,W,H))})}return Object.setPrototypeOf(j,Object.getPrototypeOf(N)),Object.defineProperties(j,E(N)),j}},40372:function(ae,B,r){var D=r(86249);ae.exports=function(E){return D("webgl",E)}},21099:function(ae,B,r){"use strict";var D=r(31353),E=r(72077),f=r(6614),k=r(40383),M=f("Object.prototype.toString"),y=r(84543)(),c=typeof globalThis>"u"?r.g:globalThis,i=E(),s=f("String.prototype.slice"),a={},o=Object.getPrototypeOf;y&&k&&o&&D(i,function(u){if("function"==typeof c[u]){var h=new c[u];if(Symbol.toStringTag in h){var v=o(h),p=k(v,Symbol.toStringTag);if(!p){var T=o(v);p=k(T,Symbol.toStringTag)}a[u]=p.get}}});var l=r(9187);ae.exports=function(u){return!!l(u)&&(y&&Symbol.toStringTag in u?(h=u,v=!1,D(a,function(p,T){if(!v)try{var _=p.call(h);_===T&&(v=_)}catch{}}),v):s(M(u),8,-1));var h,v}},3961:function(ae,B,r){var D=r(63489),E=r(56131),f=D.instance();function k(o){this.local=this.regionalOptions[o||""]||this.regionalOptions[""]}E(k.prototype=new D.baseCalendar,{name:"Chinese",jdEpoch:1721425.5,hasYearZero:!1,minMonth:0,firstMonth:0,minDay:1,regionalOptions:{"":{name:"Chinese",epochs:["BEC","EC"],monthNumbers:function(o,l){if("string"==typeof o){var u=o.match(y);return u?u[0]:""}var h=this._validateYear(o),v=o.month(),p=""+this.toChineseMonth(h,v);return l&&p.length<2&&(p="0"+p),this.isIntercalaryMonth(h,v)&&(p+="i"),p},monthNames:function(o){if("string"==typeof o){var l=o.match(c);return l?l[0]:""}var u=this._validateYear(o),h=o.month(),v=["\u4e00\u6708","\u4e8c\u6708","\u4e09\u6708","\u56db\u6708","\u4e94\u6708","\u516d\u6708","\u4e03\u6708","\u516b\u6708","\u4e5d\u6708","\u5341\u6708","\u5341\u4e00\u6708","\u5341\u4e8c\u6708"][this.toChineseMonth(u,h)-1];return this.isIntercalaryMonth(u,h)&&(v="\u95f0"+v),v},monthNamesShort:function(o){if("string"==typeof o){var l=o.match(i);return l?l[0]:""}var u=this._validateYear(o),h=o.month(),v=["\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d","\u4e03","\u516b","\u4e5d","\u5341","\u5341\u4e00","\u5341\u4e8c"][this.toChineseMonth(u,h)-1];return this.isIntercalaryMonth(u,h)&&(v="\u95f0"+v),v},parseMonth:function(o,l){o=this._validateYear(o);var u,h=parseInt(l);if(isNaN(h))"\u95f0"===l[0]&&(u=!0,l=l.substring(1)),"\u6708"===l[l.length-1]&&(l=l.substring(0,l.length-1)),h=1+["\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d","\u4e03","\u516b","\u4e5d","\u5341","\u5341\u4e00","\u5341\u4e8c"].indexOf(l);else{var v=l[l.length-1];u="i"===v||"I"===v}return this.toMonthIndex(o,h,u)},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},_validateYear:function(o,l){if(o.year&&(o=o.year()),"number"!=typeof o||o<1888||o>2111)throw l.replace(/\{0\}/,this.local.name);return o},toMonthIndex:function(o,l,u){var h=this.intercalaryMonth(o);if(u&&l!==h||l<1||l>12)throw D.local.invalidMonth.replace(/\{0\}/,this.local.name);return h?!u&&l<=h?l-1:l:l-1},toChineseMonth:function(o,l){o.year&&(l=(o=o.year()).month());var u=this.intercalaryMonth(o);if(l<0||l>(u?12:11))throw D.local.invalidMonth.replace(/\{0\}/,this.local.name);return u?l<u?l+1:l:l+1},intercalaryMonth:function(o){return o=this._validateYear(o),s[o-s[0]]>>13},isIntercalaryMonth:function(o,l){o.year&&(l=(o=o.year()).month());var u=this.intercalaryMonth(o);return!!u&&u===l},leapYear:function(o){return 0!==this.intercalaryMonth(o)},weekOfYear:function(o,l,u){var h,v=this._validateYear(o,D.local.invalidyear),p=a[v-a[0]];(h=f.newDate(p>>9&4095,p>>5&15,31&p)).add(4-(h.dayOfWeek()||7),"d");var w=this.toJD(o,l,u)-h.toJD();return 1+Math.floor(w/7)},monthsInYear:function(o){return this.leapYear(o)?13:12},daysInMonth:function(o,l){o.year&&(l=o.month(),o=o.year()),o=this._validateYear(o);var u=s[o-s[0]];if(l>(u>>13?12:11))throw D.local.invalidMonth.replace(/\{0\}/,this.local.name);return u&1<<12-l?30:29},weekDay:function(o,l,u){return(this.dayOfWeek(o,l,u)||7)<6},toJD:function(o,l,u){var h=this._validate(o,p,u,D.local.invalidDate);o=this._validateYear(h.year()),l=h.month(),u=h.day();var v=this.isIntercalaryMonth(o,l),p=this.toChineseMonth(o,l),T=function(_,m,w,x,b){var A,g,I;if("object"==typeof _)g=_,A=m||{};else{var S;if(!("number"==typeof _&&_>=1888&&_<=2111))throw new Error("Lunar year outside range 1888-2111");if(!("number"==typeof m&&m>=1&&m<=12))throw new Error("Lunar month outside range 1 - 12");if(!("number"==typeof w&&w>=1&&w<=30))throw new Error("Lunar day outside range 1 - 30");"object"==typeof x?(S=!1,A=x):(S=!!x,A={}),g={year:_,month:m,day:w,isIntercalary:S}}I=g.day-1;var O,R=s[g.year-s[0]],L=R>>13;O=L&&(g.month>L||g.isIntercalary)?g.month:g.month-1;for(var N=0;N<O;N++)I+=R&1<<12-N?30:29;var j=a[g.year-a[0]],X=new Date(j>>9&4095,(j>>5&15)-1,(31&j)+I);return A.year=X.getFullYear(),A.month=1+X.getMonth(),A.day=X.getDate(),A}(o,p,u,v);return f.toJD(T.year,T.month,T.day)},fromJD:function(o){var l=f.fromJD(o),u=function(v,p,T,_){var m,w;if("object"==typeof v)m=v,w=p||{};else{if(!("number"==typeof v&&v>=1888&&v<=2111))throw new Error("Solar year outside range 1888-2111");if(!("number"==typeof p&&p>=1&&p<=12))throw new Error("Solar month outside range 1 - 12");if(!("number"==typeof T&&T>=1&&T<=31))throw new Error("Solar day outside range 1 - 31");m={year:v,month:p,day:T},w={}}var x=a[m.year-a[0]];w.year=(m.year<<9|m.month<<5|m.day)>=x?m.year:m.year-1,x=a[w.year-a[0]];var A,g=new Date(x>>9&4095,(x>>5&15)-1,31&x),I=new Date(m.year,m.month-1,m.day);A=Math.round((I-g)/864e5);var S,O=s[w.year-s[0]];for(S=0;S<13;S++){var R=O&1<<12-S?30:29;if(A<R)break;A-=R}var L=O>>13;return!L||S<L?(w.isIntercalary=!1,w.month=1+S):S===L?(w.isIntercalary=!0,w.month=S):(w.isIntercalary=!1,w.month=S),w.day=1+A,w}(l.year(),l.month(),l.day()),h=this.toMonthIndex(u.year,u.month,u.isIntercalary);return this.newDate(u.year,h,u.day)},fromString:function(o){var l=o.match(M),u=this._validateYear(+l[1]),p=this.toMonthIndex(u,+l[2],!!l[3]);return this.newDate(u,p,+l[4])},add:function(o,l,u){var h=o.year(),v=o.month(),p=this.isIntercalaryMonth(h,v),T=this.toChineseMonth(h,v),_=Object.getPrototypeOf(k.prototype).add.call(this,o,l,u);if("y"===u){var m=_.year(),w=_.month(),x=this.isIntercalaryMonth(m,T),b=this.toMonthIndex(m,T,!(!p||!x));b!==w&&_.month(b)}return _}});var M=/^\s*(-?\d\d\d\d|\d\d)[-/](\d?\d)([iI]?)[-/](\d?\d)/m,y=/^\d?\d[iI]?/m,c=/^\u95f0?\u5341?[\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d]?\u6708/m,i=/^\u95f0?\u5341?[\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d]?/m;D.calendars.chinese=k;var s=[1887,5780,5802,19157,2742,50359,1198,2646,46378,7466,3412,30122,5482,67949,2396,5294,43597,6732,6954,36181,2772,4954,18781,2396,54427,5274,6730,47781,5800,6868,21210,4790,59703,2350,5270,46667,3402,3496,38325,1388,4782,18735,2350,52374,6804,7498,44457,2906,1388,29294,4700,63789,6442,6804,56138,5802,2772,38235,1210,4698,22827,5418,63125,3476,5802,43701,2484,5302,27223,2646,70954,7466,3412,54698,5482,2412,38062,5294,2636,32038,6954,60245,2772,4826,43357,2394,5274,39501,6730,72357,5800,5844,53978,4790,2358,38039,5270,87627,3402,3496,54708,5484,4782,43311,2350,3222,27978,7498,68965,2904,5484,45677,4700,6444,39573,6804,6986,19285,2772,62811,1210,4698,47403,5418,5780,38570,5546,76469,2420,5302,51799,2646,5414,36501,3412,5546,18869,2412,54446,5276,6732,48422,6822,2900,28010,4826,92509,2394,5274,55883,6730,6820,47956,5812,2778,18779,2358,62615,5270,5450,46757,3492,5556,27318,4718,67887,2350,3222,52554,7498,3428,38252,5468,4700,31022,6444,64149,6804,6986,43861,2772,5338,35421,2650,70955,5418,5780,54954,5546,2740,38074,5302,2646,29991,3366,61011,3412,5546,43445,2412,5294,35406,6732,72998,6820,6996,52586,2778,2396,38045,5274,6698,23333,6820,64338,5812,2746,43355,2358,5270,39499,5450,79525,3492,5548],a=[1887,966732,967231,967733,968265,968766,969297,969798,970298,970829,971330,971830,972362,972863,973395,973896,974397,974928,975428,975929,976461,976962,977462,977994,978494,979026,979526,980026,980558,981059,981559,982091,982593,983124,983624,984124,984656,985157,985656,986189,986690,987191,987722,988222,988753,989254,989754,990286,990788,991288,991819,992319,992851,993352,993851,994383,994885,995385,995917,996418,996918,997450,997949,998481,998982,999483,1000014,1000515,1001016,1001548,1002047,1002578,1003080,1003580,1004111,1004613,1005113,1005645,1006146,1006645,1007177,1007678,1008209,1008710,1009211,1009743,1010243,1010743,1011275,1011775,1012306,1012807,1013308,1013840,1014341,1014841,1015373,1015874,1016404,1016905,1017405,1017937,1018438,1018939,1019471,1019972,1020471,1021002,1021503,1022035,1022535,1023036,1023568,1024069,1024568,1025100,1025601,1026102,1026633,1027133,1027666,1028167,1028666,1029198,1029699,1030199,1030730,1031231,1031763,1032264,1032764,1033296,1033797,1034297,1034828,1035329,1035830,1036362,1036861,1037393,1037894,1038394,1038925,1039427,1039927,1040459,1040959,1041491,1041992,1042492,1043023,1043524,1044024,1044556,1045057,1045558,1046090,1046590,1047121,1047622,1048122,1048654,1049154,1049655,1050187,1050689,1051219,1051720,1052220,1052751,1053252,1053752,1054284,1054786,1055285,1055817,1056317,1056849,1057349,1057850,1058382,1058883,1059383,1059915,1060415,1060947,1061447,1061947,1062479,1062981,1063480,1064012,1064514,1065014,1065545,1066045,1066577,1067078,1067578,1068110,1068611,1069112,1069642,1070142,1070674,1071175,1071675,1072207,1072709,1073209,1073740,1074241,1074741,1075273,1075773,1076305,1076807,1077308,1077839,1078340,1078840,1079372,1079871,1080403,1080904]},38751:function(ae,B,r){var D=r(63489);function f(k){this.local=this.regionalOptions[k||""]||this.regionalOptions[""]}r(56131)(f.prototype=new D.baseCalendar,{name:"Coptic",jdEpoch:1825029.5,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Coptic",epochs:["BAM","AM"],monthNames:["Thout","Paopi","Hathor","Koiak","Tobi","Meshir","Paremhat","Paremoude","Pashons","Paoni","Epip","Mesori","Pi Kogi Enavot"],monthNamesShort:["Tho","Pao","Hath","Koi","Tob","Mesh","Pat","Pad","Pash","Pao","Epi","Meso","PiK"],dayNames:["Tkyriaka","Pesnau","Pshoment","Peftoou","Ptiou","Psoou","Psabbaton"],dayNamesShort:["Tky","Pes","Psh","Pef","Pti","Pso","Psa"],dayNamesMin:["Tk","Pes","Psh","Pef","Pt","Pso","Psa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(k){var M=this._validate(k,this.minMonth,this.minDay,D.local.invalidYear);return(k=M.year()+(M.year()<0?1:0))%4==3||k%4==-1},monthsInYear:function(k){return this._validate(k,this.minMonth,this.minDay,D.local.invalidYear||D.regionalOptions[""].invalidYear),13},weekOfYear:function(k,M,y){var c=this.newDate(k,M,y);return c.add(-c.dayOfWeek(),"d"),Math.floor((c.dayOfYear()-1)/7)+1},daysInMonth:function(k,M){var y=this._validate(k,M,this.minDay,D.local.invalidMonth);return this.daysPerMonth[y.month()-1]+(13===y.month()&&this.leapYear(y.year())?1:0)},weekDay:function(k,M,y){return(this.dayOfWeek(k,M,y)||7)<6},toJD:function(k,M,y){var c=this._validate(k,M,y,D.local.invalidDate);return(k=c.year())<0&&k++,c.day()+30*(c.month()-1)+365*(k-1)+Math.floor(k/4)+this.jdEpoch-1},fromJD:function(k){var M=Math.floor(k)+.5-this.jdEpoch,y=Math.floor((M-Math.floor((M+366)/1461))/365)+1;y<=0&&y--,M=Math.floor(k)+.5-this.newDate(y,1,1).toJD();var c=Math.floor(M/30)+1;return this.newDate(y,c,M-30*(c-1)+1)}}),D.calendars.coptic=f},86825:function(ae,B,r){var D=r(63489);function f(M){this.local=this.regionalOptions[M||""]||this.regionalOptions[""]}r(56131)(f.prototype=new D.baseCalendar,{name:"Discworld",jdEpoch:1721425.5,daysPerMonth:[16,32,32,32,32,32,32,32,32,32,32,32,32],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Discworld",epochs:["BUC","UC"],monthNames:["Ick","Offle","February","March","April","May","June","Grune","August","Spune","Sektober","Ember","December"],monthNamesShort:["Ick","Off","Feb","Mar","Apr","May","Jun","Gru","Aug","Spu","Sek","Emb","Dec"],dayNames:["Sunday","Octeday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Oct","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Oc","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:2,isRTL:!1}},leapYear:function(M){return this._validate(M,this.minMonth,this.minDay,D.local.invalidYear),!1},monthsInYear:function(M){return this._validate(M,this.minMonth,this.minDay,D.local.invalidYear),13},daysInYear:function(M){return this._validate(M,this.minMonth,this.minDay,D.local.invalidYear),400},weekOfYear:function(M,y,c){var i=this.newDate(M,y,c);return i.add(-i.dayOfWeek(),"d"),Math.floor((i.dayOfYear()-1)/8)+1},daysInMonth:function(M,y){var c=this._validate(M,y,this.minDay,D.local.invalidMonth);return this.daysPerMonth[c.month()-1]},daysInWeek:function(){return 8},dayOfWeek:function(M,y,c){return(this._validate(M,y,c,D.local.invalidDate).day()+1)%8},weekDay:function(M,y,c){var i=this.dayOfWeek(M,y,c);return i>=2&&i<=6},extraInfo:function(M,y,c){var i=this._validate(M,y,c,D.local.invalidDate);return{century:k[Math.floor((i.year()-1)/100)+1]||""}},toJD:function(M,y,c){var i=this._validate(M,y,c,D.local.invalidDate);return M=i.year()+(i.year()<0?1:0),y=i.month(),(c=i.day())+(y>1?16:0)+(y>2?32*(y-2):0)+400*(M-1)+this.jdEpoch-1},fromJD:function(M){M=Math.floor(M+.5)-Math.floor(this.jdEpoch)-1;var y=Math.floor(M/400)+1;M-=400*(y-1),M+=M>15?16:0;var c=Math.floor(M/32)+1;return this.newDate(y<=0?y-1:y,c,M-32*(c-1)+1)}});var k={20:"Fruitbat",21:"Anchovy"};D.calendars.discworld=f},37715:function(ae,B,r){var D=r(63489);function f(k){this.local=this.regionalOptions[k||""]||this.regionalOptions[""]}r(56131)(f.prototype=new D.baseCalendar,{name:"Ethiopian",jdEpoch:1724220.5,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Ethiopian",epochs:["BEE","EE"],monthNames:["Meskerem","Tikemet","Hidar","Tahesas","Tir","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehase","Pagume"],monthNamesShort:["Mes","Tik","Hid","Tah","Tir","Yek","Meg","Mia","Gen","Sen","Ham","Neh","Pag"],dayNames:["Ehud","Segno","Maksegno","Irob","Hamus","Arb","Kidame"],dayNamesShort:["Ehu","Seg","Mak","Iro","Ham","Arb","Kid"],dayNamesMin:["Eh","Se","Ma","Ir","Ha","Ar","Ki"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(k){var M=this._validate(k,this.minMonth,this.minDay,D.local.invalidYear);return(k=M.year()+(M.year()<0?1:0))%4==3||k%4==-1},monthsInYear:function(k){return this._validate(k,this.minMonth,this.minDay,D.local.invalidYear||D.regionalOptions[""].invalidYear),13},weekOfYear:function(k,M,y){var c=this.newDate(k,M,y);return c.add(-c.dayOfWeek(),"d"),Math.floor((c.dayOfYear()-1)/7)+1},daysInMonth:function(k,M){var y=this._validate(k,M,this.minDay,D.local.invalidMonth);return this.daysPerMonth[y.month()-1]+(13===y.month()&&this.leapYear(y.year())?1:0)},weekDay:function(k,M,y){return(this.dayOfWeek(k,M,y)||7)<6},toJD:function(k,M,y){var c=this._validate(k,M,y,D.local.invalidDate);return(k=c.year())<0&&k++,c.day()+30*(c.month()-1)+365*(k-1)+Math.floor(k/4)+this.jdEpoch-1},fromJD:function(k){var M=Math.floor(k)+.5-this.jdEpoch,y=Math.floor((M-Math.floor((M+366)/1461))/365)+1;y<=0&&y--,M=Math.floor(k)+.5-this.newDate(y,1,1).toJD();var c=Math.floor(M/30)+1;return this.newDate(y,c,M-30*(c-1)+1)}}),D.calendars.ethiopian=f},99384:function(ae,B,r){var D=r(63489);function f(M){this.local=this.regionalOptions[M||""]||this.regionalOptions[""]}function k(M,y){return M-y*Math.floor(M/y)}r(56131)(f.prototype=new D.baseCalendar,{name:"Hebrew",jdEpoch:347995.5,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29,29],hasYearZero:!1,minMonth:1,firstMonth:7,minDay:1,regionalOptions:{"":{name:"Hebrew",epochs:["BAM","AM"],monthNames:["Nisan","Iyar","Sivan","Tammuz","Av","Elul","Tishrei","Cheshvan","Kislev","Tevet","Shevat","Adar","Adar II"],monthNamesShort:["Nis","Iya","Siv","Tam","Av","Elu","Tis","Che","Kis","Tev","She","Ada","Ad2"],dayNames:["Yom Rishon","Yom Sheni","Yom Shlishi","Yom Revi'i","Yom Chamishi","Yom Shishi","Yom Shabbat"],dayNamesShort:["Ris","She","Shl","Rev","Cha","Shi","Sha"],dayNamesMin:["Ri","She","Shl","Re","Ch","Shi","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(M){var y=this._validate(M,this.minMonth,this.minDay,D.local.invalidYear);return this._leapYear(y.year())},_leapYear:function(M){return k(7*(M=M<0?M+1:M)+1,19)<7},monthsInYear:function(M){return this._validate(M,this.minMonth,this.minDay,D.local.invalidYear),this._leapYear(M.year?M.year():M)?13:12},weekOfYear:function(M,y,c){var i=this.newDate(M,y,c);return i.add(-i.dayOfWeek(),"d"),Math.floor((i.dayOfYear()-1)/7)+1},daysInYear:function(M){return M=this._validate(M,this.minMonth,this.minDay,D.local.invalidYear).year(),this.toJD(-1===M?1:M+1,7,1)-this.toJD(M,7,1)},daysInMonth:function(M,y){return M.year&&(y=M.month(),M=M.year()),this._validate(M,y,this.minDay,D.local.invalidMonth),12===y&&this.leapYear(M)||8===y&&5===k(this.daysInYear(M),10)?30:9===y&&3===k(this.daysInYear(M),10)?29:this.daysPerMonth[y-1]},weekDay:function(M,y,c){return 6!==this.dayOfWeek(M,y,c)},extraInfo:function(M,y,c){var i=this._validate(M,y,c,D.local.invalidDate);return{yearType:(this.leapYear(i)?"embolismic":"common")+" "+["deficient","regular","complete"][this.daysInYear(i)%10-3]}},toJD:function(M,y,c){var i=this._validate(M,y,c,D.local.invalidDate);M=i.year(),y=i.month(),c=i.day();var s=M<=0?M+1:M,a=this.jdEpoch+this._delay1(s)+this._delay2(s)+c+1;if(y<7){for(var o=7;o<=this.monthsInYear(M);o++)a+=this.daysInMonth(M,o);for(o=1;o<y;o++)a+=this.daysInMonth(M,o)}else for(o=7;o<y;o++)a+=this.daysInMonth(M,o);return a},_delay1:function(M){var y=Math.floor((235*M-234)/19),i=29*y+Math.floor((12084+13753*y)/25920);return k(3*(i+1),7)<3&&i++,i},_delay2:function(M){var y=this._delay1(M-1),c=this._delay1(M);return this._delay1(M+1)-c==356?2:c-y==382?1:0},fromJD:function(M){M=Math.floor(M)+.5;for(var y=Math.floor(98496*(M-this.jdEpoch)/35975351)-1;M>=this.toJD(-1===y?1:y+1,7,1);)y++;for(var c=M<this.toJD(y,1,1)?7:1;M>this.toJD(y,c,this.daysInMonth(y,c));)c++;var i=M-this.toJD(y,c,1)+1;return this.newDate(y,c,i)}}),D.calendars.hebrew=f},43805:function(ae,B,r){var D=r(63489);function f(k){this.local=this.regionalOptions[k||""]||this.regionalOptions[""]}r(56131)(f.prototype=new D.baseCalendar,{name:"Islamic",jdEpoch:1948439.5,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Islamic",epochs:["BH","AH"],monthNames:["Muharram","Safar","Rabi' al-awwal","Rabi' al-thani","Jumada al-awwal","Jumada al-thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-ahad","Yawm al-ithnayn","Yawm ath-thulaathaa'","Yawm al-arbi'aa'","Yawm al-kham\u012bs","Yawm al-jum'a","Yawm as-sabt"],dayNamesShort:["Aha","Ith","Thu","Arb","Kha","Jum","Sab"],dayNamesMin:["Ah","It","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(k){return(11*this._validate(k,this.minMonth,this.minDay,D.local.invalidYear).year()+14)%30<11},weekOfYear:function(k,M,y){var c=this.newDate(k,M,y);return c.add(-c.dayOfWeek(),"d"),Math.floor((c.dayOfYear()-1)/7)+1},daysInYear:function(k){return this.leapYear(k)?355:354},daysInMonth:function(k,M){var y=this._validate(k,M,this.minDay,D.local.invalidMonth);return this.daysPerMonth[y.month()-1]+(12===y.month()&&this.leapYear(y.year())?1:0)},weekDay:function(k,M,y){return 5!==this.dayOfWeek(k,M,y)},toJD:function(k,M,y){var c=this._validate(k,M,y,D.local.invalidDate);return k=c.year(),M=c.month(),k=k<=0?k+1:k,(y=c.day())+Math.ceil(29.5*(M-1))+354*(k-1)+Math.floor((3+11*k)/30)+this.jdEpoch-1},fromJD:function(k){k=Math.floor(k)+.5;var M=Math.floor((30*(k-this.jdEpoch)+10646)/10631);M=M<=0?M-1:M;var y=Math.min(12,Math.ceil((k-29-this.toJD(M,1,1))/29.5)+1),c=k-this.toJD(M,y,1)+1;return this.newDate(M,y,c)}}),D.calendars.islamic=f},88874:function(ae,B,r){var D=r(63489);function f(k){this.local=this.regionalOptions[k||""]||this.regionalOptions[""]}r(56131)(f.prototype=new D.baseCalendar,{name:"Julian",jdEpoch:1721423.5,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Julian",epochs:["BC","AD"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(k){var M=this._validate(k,this.minMonth,this.minDay,D.local.invalidYear);return(k=M.year()<0?M.year()+1:M.year())%4==0},weekOfYear:function(k,M,y){var c=this.newDate(k,M,y);return c.add(4-(c.dayOfWeek()||7),"d"),Math.floor((c.dayOfYear()-1)/7)+1},daysInMonth:function(k,M){var y=this._validate(k,M,this.minDay,D.local.invalidMonth);return this.daysPerMonth[y.month()-1]+(2===y.month()&&this.leapYear(y.year())?1:0)},weekDay:function(k,M,y){return(this.dayOfWeek(k,M,y)||7)<6},toJD:function(k,M,y){var c=this._validate(k,M,y,D.local.invalidDate);return k=c.year(),M=c.month(),y=c.day(),k<0&&k++,M<=2&&(k--,M+=12),Math.floor(365.25*(k+4716))+Math.floor(30.6001*(M+1))+y-1524.5},fromJD:function(k){var M=Math.floor(k+.5)+1524,y=Math.floor((M-122.1)/365.25),c=Math.floor(365.25*y),i=Math.floor((M-c)/30.6001),s=i-Math.floor(i<14?1:13),a=y-Math.floor(s>2?4716:4715),o=M-c-Math.floor(30.6001*i);return a<=0&&a--,this.newDate(a,s,o)}}),D.calendars.julian=f},83290:function(ae,B,r){var D=r(63489);function f(y){this.local=this.regionalOptions[y||""]||this.regionalOptions[""]}function k(y,c){return y-c*Math.floor(y/c)}function M(y,c){return k(y-1,c)+1}r(56131)(f.prototype=new D.baseCalendar,{name:"Mayan",jdEpoch:584282.5,hasYearZero:!0,minMonth:0,firstMonth:0,minDay:0,regionalOptions:{"":{name:"Mayan",epochs:["",""],monthNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],monthNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],dayNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesMin:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],digits:null,dateFormat:"YYYY.m.d",firstDay:0,isRTL:!1,haabMonths:["Pop","Uo","Zip","Zotz","Tzec","Xul","Yaxkin","Mol","Chen","Yax","Zac","Ceh","Mac","Kankin","Muan","Pax","Kayab","Cumku","Uayeb"],tzolkinMonths:["Imix","Ik","Akbal","Kan","Chicchan","Cimi","Manik","Lamat","Muluc","Oc","Chuen","Eb","Ben","Ix","Men","Cib","Caban","Etznab","Cauac","Ahau"]}},leapYear:function(y){return this._validate(y,this.minMonth,this.minDay,D.local.invalidYear),!1},formatYear:function(y){y=this._validate(y,this.minMonth,this.minDay,D.local.invalidYear).year();var c=Math.floor(y/400);return y%=400,y+=y<0?400:0,c+"."+Math.floor(y/20)+"."+y%20},forYear:function(y){if((y=y.split(".")).length<3)throw"Invalid Mayan year";for(var c=0,i=0;i<y.length;i++){var s=parseInt(y[i],10);if(Math.abs(s)>19||i>0&&s<0)throw"Invalid Mayan year";c=20*c+s}return c},monthsInYear:function(y){return this._validate(y,this.minMonth,this.minDay,D.local.invalidYear),18},weekOfYear:function(y,c,i){return this._validate(y,c,i,D.local.invalidDate),0},daysInYear:function(y){return this._validate(y,this.minMonth,this.minDay,D.local.invalidYear),360},daysInMonth:function(y,c){return this._validate(y,c,this.minDay,D.local.invalidMonth),20},daysInWeek:function(){return 5},dayOfWeek:function(y,c,i){return this._validate(y,c,i,D.local.invalidDate).day()},weekDay:function(y,c,i){return this._validate(y,c,i,D.local.invalidDate),!0},extraInfo:function(y,c,i){var s=this._validate(y,c,i,D.local.invalidDate).toJD(),a=this._toHaab(s),o=this._toTzolkin(s);return{haabMonthName:this.local.haabMonths[a[0]-1],haabMonth:a[0],haabDay:a[1],tzolkinDayName:this.local.tzolkinMonths[o[0]-1],tzolkinDay:o[0],tzolkinTrecena:o[1]}},_toHaab:function(y){var c=k(8+(y-=this.jdEpoch)+340,365);return[Math.floor(c/20)+1,k(c,20)]},_toTzolkin:function(y){return[M(20+(y-=this.jdEpoch),20),M(y+4,13)]},toJD:function(y,c,i){var s=this._validate(y,c,i,D.local.invalidDate);return s.day()+20*s.month()+360*s.year()+this.jdEpoch},fromJD:function(y){y=Math.floor(y)+.5-this.jdEpoch;var c=Math.floor(y/360);y%=360,y+=y<0?360:0;var i=Math.floor(y/20);return this.newDate(c,i,y%20)}}),D.calendars.mayan=f},29108:function(ae,B,r){var D=r(63489),E=r(56131);function f(M){this.local=this.regionalOptions[M||""]||this.regionalOptions[""]}f.prototype=new D.baseCalendar;var k=D.instance("gregorian");E(f.prototype,{name:"Nanakshahi",jdEpoch:2257673.5,daysPerMonth:[31,31,31,31,31,30,30,30,30,30,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Nanakshahi",epochs:["BN","AN"],monthNames:["Chet","Vaisakh","Jeth","Harh","Sawan","Bhadon","Assu","Katak","Maghar","Poh","Magh","Phagun"],monthNamesShort:["Che","Vai","Jet","Har","Saw","Bha","Ass","Kat","Mgr","Poh","Mgh","Pha"],dayNames:["Somvaar","Mangalvar","Budhvaar","Veervaar","Shukarvaar","Sanicharvaar","Etvaar"],dayNamesShort:["Som","Mangal","Budh","Veer","Shukar","Sanichar","Et"],dayNamesMin:["So","Ma","Bu","Ve","Sh","Sa","Et"],digits:null,dateFormat:"dd-mm-yyyy",firstDay:0,isRTL:!1}},leapYear:function(M){var y=this._validate(M,this.minMonth,this.minDay,D.local.invalidYear||D.regionalOptions[""].invalidYear);return k.leapYear(y.year()+(y.year()<1?1:0)+1469)},weekOfYear:function(M,y,c){var i=this.newDate(M,y,c);return i.add(1-(i.dayOfWeek()||7),"d"),Math.floor((i.dayOfYear()-1)/7)+1},daysInMonth:function(M,y){var c=this._validate(M,y,this.minDay,D.local.invalidMonth);return this.daysPerMonth[c.month()-1]+(12===c.month()&&this.leapYear(c.year())?1:0)},weekDay:function(M,y,c){return(this.dayOfWeek(M,y,c)||7)<6},toJD:function(M,y,c){var i=this._validate(M,y,c,D.local.invalidMonth);(M=i.year())<0&&M++;for(var s=i.day(),a=1;a<i.month();a++)s+=this.daysPerMonth[a-1];return s+k.toJD(M+1468,3,13)},fromJD:function(M){M=Math.floor(M+.5);for(var y=Math.floor((M-(this.jdEpoch-1))/366);M>=this.toJD(y+1,1,1);)y++;for(var c=M-Math.floor(this.toJD(y,1,1)+.5)+1,i=1;c>this.daysInMonth(y,i);)c-=this.daysInMonth(y,i),i++;return this.newDate(y,i,c)}}),D.calendars.nanakshahi=f},55422:function(ae,B,r){var D=r(63489);function f(k){this.local=this.regionalOptions[k||""]||this.regionalOptions[""]}r(56131)(f.prototype=new D.baseCalendar,{name:"Nepali",jdEpoch:1700709.5,daysPerMonth:[31,31,32,32,31,30,30,29,30,29,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,daysPerYear:365,regionalOptions:{"":{name:"Nepali",epochs:["BBS","ABS"],monthNames:["Baisakh","Jestha","Ashadh","Shrawan","Bhadra","Ashwin","Kartik","Mangsir","Paush","Mangh","Falgun","Chaitra"],monthNamesShort:["Bai","Je","As","Shra","Bha","Ash","Kar","Mang","Pau","Ma","Fal","Chai"],dayNames:["Aaitabaar","Sombaar","Manglbaar","Budhabaar","Bihibaar","Shukrabaar","Shanibaar"],dayNamesShort:["Aaita","Som","Mangl","Budha","Bihi","Shukra","Shani"],dayNamesMin:["Aai","So","Man","Bu","Bi","Shu","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:1,isRTL:!1}},leapYear:function(k){return this.daysInYear(k)!==this.daysPerYear},weekOfYear:function(k,M,y){var c=this.newDate(k,M,y);return c.add(-c.dayOfWeek(),"d"),Math.floor((c.dayOfYear()-1)/7)+1},daysInYear:function(k){if(k=this._validate(k,this.minMonth,this.minDay,D.local.invalidYear).year(),void 0===this.NEPALI_CALENDAR_DATA[k])return this.daysPerYear;for(var M=0,y=this.minMonth;y<=12;y++)M+=this.NEPALI_CALENDAR_DATA[k][y];return M},daysInMonth:function(k,M){return k.year&&(M=k.month(),k=k.year()),this._validate(k,M,this.minDay,D.local.invalidMonth),void 0===this.NEPALI_CALENDAR_DATA[k]?this.daysPerMonth[M-1]:this.NEPALI_CALENDAR_DATA[k][M]},weekDay:function(k,M,y){return 6!==this.dayOfWeek(k,M,y)},toJD:function(k,M,y){var c=this._validate(k,M,y,D.local.invalidDate);k=c.year(),M=c.month(),y=c.day();var i=D.instance(),s=0,a=M,o=k;this._createMissingCalendarData(k);var l=k-(a>9||9===a&&y>=this.NEPALI_CALENDAR_DATA[o][0]?56:57);for(9!==M&&(s=y,a--);9!==a;)a<=0&&(a=12,o--),s+=this.NEPALI_CALENDAR_DATA[o][a],a--;return 9===M?(s+=y-this.NEPALI_CALENDAR_DATA[o][0])<0&&(s+=i.daysInYear(l)):s+=this.NEPALI_CALENDAR_DATA[o][9]-this.NEPALI_CALENDAR_DATA[o][0],i.newDate(l,1,1).add(s,"d").toJD()},fromJD:function(k){var M=D.instance().fromJD(k),y=M.year(),c=M.dayOfYear(),i=y+56;this._createMissingCalendarData(i);for(var s=9,o=this.NEPALI_CALENDAR_DATA[i][s]-this.NEPALI_CALENDAR_DATA[i][0]+1;c>o;)++s>12&&(s=1,i++),o+=this.NEPALI_CALENDAR_DATA[i][s];return this.newDate(i,s,this.NEPALI_CALENDAR_DATA[i][s]-(o-c))},_createMissingCalendarData:function(k){var M=this.daysPerMonth.slice(0);M.unshift(17);for(var y=k-1;y<k+2;y++)void 0===this.NEPALI_CALENDAR_DATA[y]&&(this.NEPALI_CALENDAR_DATA[y]=M)},NEPALI_CALENDAR_DATA:{1970:[18,31,31,32,31,31,31,30,29,30,29,30,30],1971:[18,31,31,32,31,32,30,30,29,30,29,30,30],1972:[17,31,32,31,32,31,30,30,30,29,29,30,30],1973:[19,30,32,31,32,31,30,30,30,29,30,29,31],1974:[19,31,31,32,30,31,31,30,29,30,29,30,30],1975:[18,31,31,32,32,30,31,30,29,30,29,30,30],1976:[17,31,32,31,32,31,30,30,30,29,29,30,31],1977:[18,31,32,31,32,31,31,29,30,29,30,29,31],1978:[18,31,31,32,31,31,31,30,29,30,29,30,30],1979:[18,31,31,32,32,31,30,30,29,30,29,30,30],1980:[17,31,32,31,32,31,30,30,30,29,29,30,31],1981:[18,31,31,31,32,31,31,29,30,30,29,30,30],1982:[18,31,31,32,31,31,31,30,29,30,29,30,30],1983:[18,31,31,32,32,31,30,30,29,30,29,30,30],1984:[17,31,32,31,32,31,30,30,30,29,29,30,31],1985:[18,31,31,31,32,31,31,29,30,30,29,30,30],1986:[18,31,31,32,31,31,31,30,29,30,29,30,30],1987:[18,31,32,31,32,31,30,30,29,30,29,30,30],1988:[17,31,32,31,32,31,30,30,30,29,29,30,31],1989:[18,31,31,31,32,31,31,30,29,30,29,30,30],1990:[18,31,31,32,31,31,31,30,29,30,29,30,30],1991:[18,31,32,31,32,31,30,30,29,30,29,30,30],1992:[17,31,32,31,32,31,30,30,30,29,30,29,31],1993:[18,31,31,31,32,31,31,30,29,30,29,30,30],1994:[18,31,31,32,31,31,31,30,29,30,29,30,30],1995:[17,31,32,31,32,31,30,30,30,29,29,30,30],1996:[17,31,32,31,32,31,30,30,30,29,30,29,31],1997:[18,31,31,32,31,31,31,30,29,30,29,30,30],1998:[18,31,31,32,31,31,31,30,29,30,29,30,30],1999:[17,31,32,31,32,31,30,30,30,29,29,30,31],2e3:[17,30,32,31,32,31,30,30,30,29,30,29,31],2001:[18,31,31,32,31,31,31,30,29,30,29,30,30],2002:[18,31,31,32,32,31,30,30,29,30,29,30,30],2003:[17,31,32,31,32,31,30,30,30,29,29,30,31],2004:[17,30,32,31,32,31,30,30,30,29,30,29,31],2005:[18,31,31,32,31,31,31,30,29,30,29,30,30],2006:[18,31,31,32,32,31,30,30,29,30,29,30,30],2007:[17,31,32,31,32,31,30,30,30,29,29,30,31],2008:[17,31,31,31,32,31,31,29,30,30,29,29,31],2009:[18,31,31,32,31,31,31,30,29,30,29,30,30],2010:[18,31,31,32,32,31,30,30,29,30,29,30,30],2011:[17,31,32,31,32,31,30,30,30,29,29,30,31],2012:[17,31,31,31,32,31,31,29,30,30,29,30,30],2013:[18,31,31,32,31,31,31,30,29,30,29,30,30],2014:[18,31,31,32,32,31,30,30,29,30,29,30,30],2015:[17,31,32,31,32,31,30,30,30,29,29,30,31],2016:[17,31,31,31,32,31,31,29,30,30,29,30,30],2017:[18,31,31,32,31,31,31,30,29,30,29,30,30],2018:[18,31,32,31,32,31,30,30,29,30,29,30,30],2019:[17,31,32,31,32,31,30,30,30,29,30,29,31],2020:[17,31,31,31,32,31,31,30,29,30,29,30,30],2021:[18,31,31,32,31,31,31,30,29,30,29,30,30],2022:[17,31,32,31,32,31,30,30,30,29,29,30,30],2023:[17,31,32,31,32,31,30,30,30,29,30,29,31],2024:[17,31,31,31,32,31,31,30,29,30,29,30,30],2025:[18,31,31,32,31,31,31,30,29,30,29,30,30],2026:[17,31,32,31,32,31,30,30,30,29,29,30,31],2027:[17,30,32,31,32,31,30,30,30,29,30,29,31],2028:[17,31,31,32,31,31,31,30,29,30,29,30,30],2029:[18,31,31,32,31,32,30,30,29,30,29,30,30],2030:[17,31,32,31,32,31,30,30,30,30,30,30,31],2031:[17,31,32,31,32,31,31,31,31,31,31,31,31],2032:[17,32,32,32,32,32,32,32,32,32,32,32,32],2033:[18,31,31,32,32,31,30,30,29,30,29,30,30],2034:[17,31,32,31,32,31,30,30,30,29,29,30,31],2035:[17,30,32,31,32,31,31,29,30,30,29,29,31],2036:[17,31,31,32,31,31,31,30,29,30,29,30,30],2037:[18,31,31,32,32,31,30,30,29,30,29,30,30],2038:[17,31,32,31,32,31,30,30,30,29,29,30,31],2039:[17,31,31,31,32,31,31,29,30,30,29,30,30],2040:[17,31,31,32,31,31,31,30,29,30,29,30,30],2041:[18,31,31,32,32,31,30,30,29,30,29,30,30],2042:[17,31,32,31,32,31,30,30,30,29,29,30,31],2043:[17,31,31,31,32,31,31,29,30,30,29,30,30],2044:[17,31,31,32,31,31,31,30,29,30,29,30,30],2045:[18,31,32,31,32,31,30,30,29,30,29,30,30],2046:[17,31,32,31,32,31,30,30,30,29,29,30,31],2047:[17,31,31,31,32,31,31,30,29,30,29,30,30],2048:[17,31,31,32,31,31,31,30,29,30,29,30,30],2049:[17,31,32,31,32,31,30,30,30,29,29,30,30],2050:[17,31,32,31,32,31,30,30,30,29,30,29,31],2051:[17,31,31,31,32,31,31,30,29,30,29,30,30],2052:[17,31,31,32,31,31,31,30,29,30,29,30,30],2053:[17,31,32,31,32,31,30,30,30,29,29,30,30],2054:[17,31,32,31,32,31,30,30,30,29,30,29,31],2055:[17,31,31,32,31,31,31,30,29,30,30,29,30],2056:[17,31,31,32,31,32,30,30,29,30,29,30,30],2057:[17,31,32,31,32,31,30,30,30,29,29,30,31],2058:[17,30,32,31,32,31,30,30,30,29,30,29,31],2059:[17,31,31,32,31,31,31,30,29,30,29,30,30],2060:[17,31,31,32,32,31,30,30,29,30,29,30,30],2061:[17,31,32,31,32,31,30,30,30,29,29,30,31],2062:[17,30,32,31,32,31,31,29,30,29,30,29,31],2063:[17,31,31,32,31,31,31,30,29,30,29,30,30],2064:[17,31,31,32,32,31,30,30,29,30,29,30,30],2065:[17,31,32,31,32,31,30,30,30,29,29,30,31],2066:[17,31,31,31,32,31,31,29,30,30,29,29,31],2067:[17,31,31,32,31,31,31,30,29,30,29,30,30],2068:[17,31,31,32,32,31,30,30,29,30,29,30,30],2069:[17,31,32,31,32,31,30,30,30,29,29,30,31],2070:[17,31,31,31,32,31,31,29,30,30,29,30,30],2071:[17,31,31,32,31,31,31,30,29,30,29,30,30],2072:[17,31,32,31,32,31,30,30,29,30,29,30,30],2073:[17,31,32,31,32,31,30,30,30,29,29,30,31],2074:[17,31,31,31,32,31,31,30,29,30,29,30,30],2075:[17,31,31,32,31,31,31,30,29,30,29,30,30],2076:[16,31,32,31,32,31,30,30,30,29,29,30,30],2077:[17,31,32,31,32,31,30,30,30,29,30,29,31],2078:[17,31,31,31,32,31,31,30,29,30,29,30,30],2079:[17,31,31,32,31,31,31,30,29,30,29,30,30],2080:[16,31,32,31,32,31,30,30,30,29,29,30,30],2081:[17,31,31,32,32,31,30,30,30,29,30,30,30],2082:[17,31,32,31,32,31,30,30,30,29,30,30,30],2083:[17,31,31,32,31,31,30,30,30,29,30,30,30],2084:[17,31,31,32,31,31,30,30,30,29,30,30,30],2085:[17,31,32,31,32,31,31,30,30,29,30,30,30],2086:[17,31,32,31,32,31,30,30,30,29,30,30,30],2087:[16,31,31,32,31,31,31,30,30,29,30,30,30],2088:[16,30,31,32,32,30,31,30,30,29,30,30,30],2089:[17,31,32,31,32,31,30,30,30,29,30,30,30],2090:[17,31,32,31,32,31,30,30,30,29,30,30,30],2091:[16,31,31,32,31,31,31,30,30,29,30,30,30],2092:[16,31,31,32,32,31,30,30,30,29,30,30,30],2093:[17,31,32,31,32,31,30,30,30,29,30,30,30],2094:[17,31,31,32,31,31,30,30,30,29,30,30,30],2095:[17,31,31,32,31,31,31,30,29,30,30,30,30],2096:[17,30,31,32,32,31,30,30,29,30,29,30,30],2097:[17,31,32,31,32,31,30,30,30,29,30,30,30],2098:[17,31,31,32,31,31,31,29,30,29,30,30,31],2099:[17,31,31,32,31,31,31,30,29,29,30,30,30],2100:[17,31,32,31,32,30,31,30,29,30,29,30,30]}}),D.calendars.nepali=f},94320:function(ae,B,r){var D=r(63489);function f(M){this.local=this.regionalOptions[M||""]||this.regionalOptions[""]}function k(M,y){return M-y*Math.floor(M/y)}r(56131)(f.prototype=new D.baseCalendar,{name:"Persian",jdEpoch:1948320.5,daysPerMonth:[31,31,31,31,31,31,30,30,30,30,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Persian",epochs:["BP","AP"],monthNames:["Farvardin","Ordibehesht","Khordad","Tir","Mordad","Shahrivar","Mehr","Aban","Azar","Day","Bahman","Esfand"],monthNamesShort:["Far","Ord","Kho","Tir","Mor","Sha","Meh","Aba","Aza","Day","Bah","Esf"],dayNames:["Yekshambe","Doshambe","Seshambe","Ch\xe6harshambe","Panjshambe","Jom'e","Shambe"],dayNamesShort:["Yek","Do","Se","Ch\xe6","Panj","Jom","Sha"],dayNamesMin:["Ye","Do","Se","Ch","Pa","Jo","Sh"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(M){var y=this._validate(M,this.minMonth,this.minDay,D.local.invalidYear);return 682*((y.year()-(y.year()>0?474:473))%2820+474+38)%2816<682},weekOfYear:function(M,y,c){var i=this.newDate(M,y,c);return i.add(-(i.dayOfWeek()+1)%7,"d"),Math.floor((i.dayOfYear()-1)/7)+1},daysInMonth:function(M,y){var c=this._validate(M,y,this.minDay,D.local.invalidMonth);return this.daysPerMonth[c.month()-1]+(12===c.month()&&this.leapYear(c.year())?1:0)},weekDay:function(M,y,c){return 5!==this.dayOfWeek(M,y,c)},toJD:function(M,y,c){var i=this._validate(M,y,c,D.local.invalidDate);M=i.year(),y=i.month(),c=i.day();var s=M-(M>=0?474:473),a=474+k(s,2820);return c+(y<=7?31*(y-1):30*(y-1)+6)+Math.floor((682*a-110)/2816)+365*(a-1)+1029983*Math.floor(s/2820)+this.jdEpoch-1},fromJD:function(M){var y=(M=Math.floor(M)+.5)-this.toJD(475,1,1),c=Math.floor(y/1029983),i=k(y,1029983),s=2820;if(1029982!==i){var a=Math.floor(i/366),o=k(i,366);s=Math.floor((2134*a+2816*o+2815)/1028522)+a+1}var l=s+2820*c+474,u=M-this.toJD(l=l<=0?l-1:l,1,1)+1,h=u<=186?Math.ceil(u/31):Math.ceil((u-6)/30),v=M-this.toJD(l,h,1)+1;return this.newDate(l,h,v)}}),D.calendars.persian=f,D.calendars.jalali=f},31320:function(ae,B,r){var D=r(63489),E=r(56131),f=D.instance();function k(M){this.local=this.regionalOptions[M||""]||this.regionalOptions[""]}E(k.prototype=new D.baseCalendar,{name:"Taiwan",jdEpoch:2419402.5,yearsOffset:1911,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Taiwan",epochs:["BROC","ROC"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},leapYear:function(M){var y=this._validate(M,this.minMonth,this.minDay,D.local.invalidYear);return M=this._t2gYear(y.year()),f.leapYear(M)},weekOfYear:function(M,y,c){var i=this._validate(M,this.minMonth,this.minDay,D.local.invalidYear);return M=this._t2gYear(i.year()),f.weekOfYear(M,i.month(),i.day())},daysInMonth:function(M,y){var c=this._validate(M,y,this.minDay,D.local.invalidMonth);return this.daysPerMonth[c.month()-1]+(2===c.month()&&this.leapYear(c.year())?1:0)},weekDay:function(M,y,c){return(this.dayOfWeek(M,y,c)||7)<6},toJD:function(M,y,c){var i=this._validate(M,y,c,D.local.invalidDate);return M=this._t2gYear(i.year()),f.toJD(M,i.month(),i.day())},fromJD:function(M){var y=f.fromJD(M),c=this._g2tYear(y.year());return this.newDate(c,y.month(),y.day())},_t2gYear:function(M){return M+this.yearsOffset+(M>=-this.yearsOffset&&M<=-1?1:0)},_g2tYear:function(M){return M-this.yearsOffset-(M>=1&&M<=this.yearsOffset?1:0)}}),D.calendars.taiwan=k},51367:function(ae,B,r){var D=r(63489),E=r(56131),f=D.instance();function k(M){this.local=this.regionalOptions[M||""]||this.regionalOptions[""]}E(k.prototype=new D.baseCalendar,{name:"Thai",jdEpoch:1523098.5,yearsOffset:543,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Thai",epochs:["BBE","BE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(M){var y=this._validate(M,this.minMonth,this.minDay,D.local.invalidYear);return M=this._t2gYear(y.year()),f.leapYear(M)},weekOfYear:function(M,y,c){var i=this._validate(M,this.minMonth,this.minDay,D.local.invalidYear);return M=this._t2gYear(i.year()),f.weekOfYear(M,i.month(),i.day())},daysInMonth:function(M,y){var c=this._validate(M,y,this.minDay,D.local.invalidMonth);return this.daysPerMonth[c.month()-1]+(2===c.month()&&this.leapYear(c.year())?1:0)},weekDay:function(M,y,c){return(this.dayOfWeek(M,y,c)||7)<6},toJD:function(M,y,c){var i=this._validate(M,y,c,D.local.invalidDate);return M=this._t2gYear(i.year()),f.toJD(M,i.month(),i.day())},fromJD:function(M){var y=f.fromJD(M),c=this._g2tYear(y.year());return this.newDate(c,y.month(),y.day())},_t2gYear:function(M){return M-this.yearsOffset-(M>=1&&M<=this.yearsOffset?1:0)},_g2tYear:function(M){return M+this.yearsOffset+(M>=-this.yearsOffset&&M<=-1?1:0)}}),D.calendars.thai=k},21457:function(ae,B,r){var D=r(63489);function f(M){this.local=this.regionalOptions[M||""]||this.regionalOptions[""]}r(56131)(f.prototype=new D.baseCalendar,{name:"UmmAlQura",hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Umm al-Qura",epochs:["BH","AH"],monthNames:["Al-Muharram","Safar","Rabi' al-awwal","Rabi' Al-Thani","Jumada Al-Awwal","Jumada Al-Thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-Ahad","Yawm al-Ithnain","Yawm al-Thal\u0101th\u0101\u2019","Yawm al-Arba\u2018\u0101\u2019","Yawm al-Kham\u012bs","Yawm al-Jum\u2018a","Yawm al-Sabt"],dayNamesMin:["Ah","Ith","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!0}},leapYear:function(M){var y=this._validate(M,this.minMonth,this.minDay,D.local.invalidYear);return 355===this.daysInYear(y.year())},weekOfYear:function(M,y,c){var i=this.newDate(M,y,c);return i.add(-i.dayOfWeek(),"d"),Math.floor((i.dayOfYear()-1)/7)+1},daysInYear:function(M){for(var y=0,c=1;c<=12;c++)y+=this.daysInMonth(M,c);return y},daysInMonth:function(M,y){for(var c=this._validate(M,y,this.minDay,D.local.invalidMonth).toJD()-24e5+.5,i=0,s=0;s<k.length;s++){if(k[s]>c)return k[i]-k[i-1];i++}return 30},weekDay:function(M,y,c){return 5!==this.dayOfWeek(M,y,c)},toJD:function(M,y,c){var i=this._validate(M,y,c,D.local.invalidDate),s=12*(i.year()-1)+i.month()-15292;return i.day()+k[s-1]-1+24e5-.5},fromJD:function(M){for(var y=M-24e5+.5,c=0,i=0;i<k.length&&!(k[i]>y);i++)c++;var s=c+15292,a=Math.floor((s-1)/12);return this.newDate(a+1,s-12*a,y-k[c-1]+1)},isValid:function(M,y,c){var i=D.baseCalendar.prototype.isValid.apply(this,arguments);return i&&(i=(M=null!=M.year?M.year:M)>=1276&&M<=1500),i},_validate:function(M,y,c,i){var s=D.baseCalendar.prototype._validate.apply(this,arguments);if(s.year<1276||s.year>1500)throw i.replace(/\{0\}/,this.local.name);return s}}),D.calendars.ummalqura=f;var k=[20,50,79,109,138,168,197,227,256,286,315,345,374,404,433,463,492,522,551,581,611,641,670,700,729,759,788,818,847,877,906,936,965,995,1024,1054,1083,1113,1142,1172,1201,1231,1260,1290,1320,1350,1379,1409,1438,1468,1497,1527,1556,1586,1615,1645,1674,1704,1733,1763,1792,1822,1851,1881,1910,1940,1969,1999,2028,2058,2087,2117,2146,2176,2205,2235,2264,2294,2323,2353,2383,2413,2442,2472,2501,2531,2560,2590,2619,2649,2678,2708,2737,2767,2796,2826,2855,2885,2914,2944,2973,3003,3032,3062,3091,3121,3150,3180,3209,3239,3268,3298,3327,3357,3386,3416,3446,3476,3505,3535,3564,3594,3623,3653,3682,3712,3741,3771,3800,3830,3859,3889,3918,3948,3977,4007,4036,4066,4095,4125,4155,4185,4214,4244,4273,4303,4332,4362,4391,4421,4450,4480,4509,4539,4568,4598,4627,4657,4686,4716,4745,4775,4804,4834,4863,4893,4922,4952,4981,5011,5040,5070,5099,5129,5158,5188,5218,5248,5277,5307,5336,5366,5395,5425,5454,5484,5513,5543,5572,5602,5631,5661,5690,5720,5749,5779,5808,5838,5867,5897,5926,5956,5985,6015,6044,6074,6103,6133,6162,6192,6221,6251,6281,6311,6340,6370,6399,6429,6458,6488,6517,6547,6576,6606,6635,6665,6694,6724,6753,6783,6812,6842,6871,6901,6930,6960,6989,7019,7048,7078,7107,7137,7166,7196,7225,7255,7284,7314,7344,7374,7403,7433,7462,7492,7521,7551,7580,7610,7639,7669,7698,7728,7757,7787,7816,7846,7875,7905,7934,7964,7993,8023,8053,8083,8112,8142,8171,8201,8230,8260,8289,8319,8348,8378,8407,8437,8466,8496,8525,8555,8584,8614,8643,8673,8702,8732,8761,8791,8821,8850,8880,8909,8938,8968,8997,9027,9056,9086,9115,9145,9175,9205,9234,9264,9293,9322,9352,9381,9410,9440,9470,9499,9529,9559,9589,9618,9648,9677,9706,9736,9765,9794,9824,9853,9883,9913,9943,9972,10002,10032,10061,10090,10120,10149,10178,10208,10237,10267,10297,10326,10356,10386,10415,10445,10474,10504,10533,10562,10592,10621,10651,10680,10710,10740,10770,10799,10829,10858,10888,10917,10947,10976,11005,11035,11064,11094,11124,11153,11183,11213,11242,11272,11301,11331,11360,11389,11419,11448,11478,11507,11537,11567,11596,11626,11655,11685,11715,11744,11774,11803,11832,11862,11891,11921,11950,11980,12010,12039,12069,12099,12128,12158,12187,12216,12246,12275,12304,12334,12364,12393,12423,12453,12483,12512,12542,12571,12600,12630,12659,12688,12718,12747,12777,12807,12837,12866,12896,12926,12955,12984,13014,13043,13072,13102,13131,13161,13191,13220,13250,13280,13310,13339,13368,13398,13427,13456,13486,13515,13545,13574,13604,13634,13664,13693,13723,13752,13782,13811,13840,13870,13899,13929,13958,13988,14018,14047,14077,14107,14136,14166,14195,14224,14254,14283,14313,14342,14372,14401,14431,14461,14490,14520,14550,14579,14609,14638,14667,14697,14726,14756,14785,14815,14844,14874,14904,14933,14963,14993,15021,15051,15081,15110,15140,15169,15199,15228,15258,15287,15317,15347,15377,15406,15436,15465,15494,15524,15553,15582,15612,15641,15671,15701,15731,15760,15790,15820,15849,15878,15908,15937,15966,15996,16025,16055,16085,16114,16144,16174,16204,16233,16262,16292,16321,16350,16380,16409,16439,16468,16498,16528,16558,16587,16617,16646,16676,16705,16734,16764,16793,16823,16852,16882,16912,16941,16971,17001,17030,17060,17089,17118,17148,17177,17207,17236,17266,17295,17325,17355,17384,17414,17444,17473,17502,17532,17561,17591,17620,17650,17679,17709,17738,17768,17798,17827,17857,17886,17916,17945,17975,18004,18034,18063,18093,18122,18152,18181,18211,18241,18270,18300,18330,18359,18388,18418,18447,18476,18506,18535,18565,18595,18625,18654,18684,18714,18743,18772,18802,18831,18860,18890,18919,18949,18979,19008,19038,19068,19098,19127,19156,19186,19215,19244,19274,19303,19333,19362,19392,19422,19452,19481,19511,19540,19570,19599,19628,19658,19687,19717,19746,19776,19806,19836,19865,19895,19924,19954,19983,20012,20042,20071,20101,20130,20160,20190,20219,20249,20279,20308,20338,20367,20396,20426,20455,20485,20514,20544,20573,20603,20633,20662,20692,20721,20751,20780,20810,20839,20869,20898,20928,20957,20987,21016,21046,21076,21105,21135,21164,21194,21223,21253,21282,21312,21341,21371,21400,21430,21459,21489,21519,21548,21578,21607,21637,21666,21696,21725,21754,21784,21813,21843,21873,21902,21932,21962,21991,22021,22050,22080,22109,22138,22168,22197,22227,22256,22286,22316,22346,22375,22405,22434,22464,22493,22522,22552,22581,22611,22640,22670,22700,22730,22759,22789,22818,22848,22877,22906,22936,22965,22994,23024,23054,23083,23113,23143,23173,23202,23232,23261,23290,23320,23349,23379,23408,23438,23467,23497,23527,23556,23586,23616,23645,23674,23704,23733,23763,23792,23822,23851,23881,23910,23940,23970,23999,24029,24058,24088,24117,24147,24176,24206,24235,24265,24294,24324,24353,24383,24413,24442,24472,24501,24531,24560,24590,24619,24648,24678,24707,24737,24767,24796,24826,24856,24885,24915,24944,24974,25003,25032,25062,25091,25121,25150,25180,25210,25240,25269,25299,25328,25358,25387,25416,25446,25475,25505,25534,25564,25594,25624,25653,25683,25712,25742,25771,25800,25830,25859,25888,25918,25948,25977,26007,26037,26067,26096,26126,26155,26184,26214,26243,26272,26302,26332,26361,26391,26421,26451,26480,26510,26539,26568,26598,26627,26656,26686,26715,26745,26775,26805,26834,26864,26893,26923,26952,26982,27011,27041,27070,27099,27129,27159,27188,27218,27248,27277,27307,27336,27366,27395,27425,27454,27484,27513,27542,27572,27602,27631,27661,27691,27720,27750,27779,27809,27838,27868,27897,27926,27956,27985,28015,28045,28074,28104,28134,28163,28193,28222,28252,28281,28310,28340,28369,28399,28428,28458,28488,28517,28547,28577,28607,28636,28665,28695,28724,28754,28783,28813,28843,28872,28901,28931,28960,28990,29019,29049,29078,29108,29137,29167,29196,29226,29255,29285,29315,29345,29375,29404,29434,29463,29492,29522,29551,29580,29610,29640,29669,29699,29729,29759,29788,29818,29847,29876,29906,29935,29964,29994,30023,30053,30082,30112,30141,30171,30200,30230,30259,30289,30318,30348,30378,30408,30437,30467,30496,30526,30555,30585,30614,30644,30673,30703,30732,30762,30791,30821,30850,30880,30909,30939,30968,30998,31027,31057,31086,31116,31145,31175,31204,31234,31263,31293,31322,31352,31381,31411,31441,31471,31500,31530,31559,31589,31618,31648,31676,31706,31736,31766,31795,31825,31854,31884,31913,31943,31972,32002,32031,32061,32090,32120,32150,32180,32209,32239,32268,32298,32327,32357,32386,32416,32445,32475,32504,32534,32563,32593,32622,32652,32681,32711,32740,32770,32799,32829,32858,32888,32917,32947,32976,33006,33035,33065,33094,33124,33153,33183,33213,33243,33272,33302,33331,33361,33390,33420,33450,33479,33509,33539,33568,33598,33627,33657,33686,33716,33745,33775,33804,33834,33863,33893,33922,33952,33981,34011,34040,34069,34099,34128,34158,34187,34217,34247,34277,34306,34336,34365,34395,34424,34454,34483,34512,34542,34571,34601,34631,34660,34690,34719,34749,34778,34808,34837,34867,34896,34926,34955,34985,35015,35044,35074,35103,35133,35162,35192,35222,35251,35280,35310,35340,35370,35399,35429,35458,35488,35517,35547,35576,35605,35635,35665,35694,35723,35753,35782,35811,35841,35871,35901,35930,35960,35989,36019,36048,36078,36107,36136,36166,36195,36225,36254,36284,36314,36343,36373,36403,36433,36462,36492,36521,36551,36580,36610,36639,36669,36698,36728,36757,36786,36816,36845,36875,36904,36934,36963,36993,37022,37052,37081,37111,37141,37170,37200,37229,37259,37288,37318,37347,37377,37406,37436,37465,37495,37524,37554,37584,37613,37643,37672,37701,37731,37760,37790,37819,37849,37878,37908,37938,37967,37997,38027,38056,38085,38115,38144,38174,38203,38233,38262,38292,38322,38351,38381,38410,38440,38469,38499,38528,38558,38587,38617,38646,38676,38705,38735,38764,38794,38823,38853,38882,38912,38941,38971,39001,39030,39059,39089,39118,39148,39178,39208,39237,39267,39297,39326,39355,39385,39414,39444,39473,39503,39532,39562,39592,39621,39650,39680,39709,39739,39768,39798,39827,39857,39886,39916,39946,39975,40005,40035,40064,40094,40123,40153,40182,40212,40241,40271,40300,40330,40359,40389,40418,40448,40477,40507,40536,40566,40595,40625,40655,40685,40714,40744,40773,40803,40832,40862,40892,40921,40951,40980,41009,41039,41068,41098,41127,41157,41186,41216,41245,41275,41304,41334,41364,41393,41422,41452,41481,41511,41540,41570,41599,41629,41658,41688,41718,41748,41777,41807,41836,41865,41894,41924,41953,41983,42012,42042,42072,42102,42131,42161,42190,42220,42249,42279,42308,42337,42367,42397,42426,42456,42485,42515,42545,42574,42604,42633,42662,42692,42721,42751,42780,42810,42839,42869,42899,42929,42958,42988,43017,43046,43076,43105,43135,43164,43194,43223,43253,43283,43312,43342,43371,43401,43430,43460,43489,43519,43548,43578,43607,43637,43666,43696,43726,43755,43785,43814,43844,43873,43903,43932,43962,43991,44021,44050,44080,44109,44139,44169,44198,44228,44258,44287,44317,44346,44375,44405,44434,44464,44493,44523,44553,44582,44612,44641,44671,44700,44730,44759,44788,44818,44847,44877,44906,44936,44966,44996,45025,45055,45084,45114,45143,45172,45202,45231,45261,45290,45320,45350,45380,45409,45439,45468,45498,45527,45556,45586,45615,45644,45674,45704,45733,45763,45793,45823,45852,45882,45911,45940,45970,45999,46028,46058,46088,46117,46147,46177,46206,46236,46265,46295,46324,46354,46383,46413,46442,46472,46501,46531,46560,46590,46620,46649,46679,46708,46738,46767,46797,46826,46856,46885,46915,46944,46974,47003,47033,47063,47092,47122,47151,47181,47210,47240,47269,47298,47328,47357,47387,47417,47446,47476,47506,47535,47565,47594,47624,47653,47682,47712,47741,47771,47800,47830,47860,47890,47919,47949,47978,48008,48037,48066,48096,48125,48155,48184,48214,48244,48273,48303,48333,48362,48392,48421,48450,48480,48509,48538,48568,48598,48627,48657,48687,48717,48746,48776,48805,48834,48864,48893,48922,48952,48982,49011,49041,49071,49100,49130,49160,49189,49218,49248,49277,49306,49336,49365,49395,49425,49455,49484,49514,49543,49573,49602,49632,49661,49690,49720,49749,49779,49809,49838,49868,49898,49927,49957,49986,50016,50045,50075,50104,50133,50163,50192,50222,50252,50281,50311,50340,50370,50400,50429,50459,50488,50518,50547,50576,50606,50635,50665,50694,50724,50754,50784,50813,50843,50872,50902,50931,50960,50990,51019,51049,51078,51108,51138,51167,51197,51227,51256,51286,51315,51345,51374,51403,51433,51462,51492,51522,51552,51582,51611,51641,51670,51699,51729,51758,51787,51816,51846,51876,51906,51936,51965,51995,52025,52054,52083,52113,52142,52171,52200,52230,52260,52290,52319,52349,52379,52408,52438,52467,52497,52526,52555,52585,52614,52644,52673,52703,52733,52762,52792,52822,52851,52881,52910,52939,52969,52998,53028,53057,53087,53116,53146,53176,53205,53235,53264,53294,53324,53353,53383,53412,53441,53471,53500,53530,53559,53589,53619,53648,53678,53708,53737,53767,53796,53825,53855,53884,53913,53943,53973,54003,54032,54062,54092,54121,54151,54180,54209,54239,54268,54297,54327,54357,54387,54416,54446,54476,54505,54535,54564,54593,54623,54652,54681,54711,54741,54770,54800,54830,54859,54889,54919,54948,54977,55007,55036,55066,55095,55125,55154,55184,55213,55243,55273,55302,55332,55361,55391,55420,55450,55479,55508,55538,55567,55597,55627,55657,55686,55716,55745,55775,55804,55834,55863,55892,55922,55951,55981,56011,56040,56070,56100,56129,56159,56188,56218,56247,56276,56306,56335,56365,56394,56424,56454,56483,56513,56543,56572,56601,56631,56660,56690,56719,56749,56778,56808,56837,56867,56897,56926,56956,56985,57015,57044,57074,57103,57133,57162,57192,57221,57251,57280,57310,57340,57369,57399,57429,57458,57487,57517,57546,57576,57605,57634,57664,57694,57723,57753,57783,57813,57842,57871,57901,57930,57959,57989,58018,58048,58077,58107,58137,58167,58196,58226,58255,58285,58314,58343,58373,58402,58432,58461,58491,58521,58551,58580,58610,58639,58669,58698,58727,58757,58786,58816,58845,58875,58905,58934,58964,58994,59023,59053,59082,59111,59141,59170,59200,59229,59259,59288,59318,59348,59377,59407,59436,59466,59495,59525,59554,59584,59613,59643,59672,59702,59731,59761,59791,59820,59850,59879,59909,59939,59968,59997,60027,60056,60086,60115,60145,60174,60204,60234,60264,60293,60323,60352,60381,60411,60440,60469,60499,60528,60558,60588,60618,60648,60677,60707,60736,60765,60795,60824,60853,60883,60912,60942,60972,61002,61031,61061,61090,61120,61149,61179,61208,61237,61267,61296,61326,61356,61385,61415,61445,61474,61504,61533,61563,61592,61621,61651,61680,61710,61739,61769,61799,61828,61858,61888,61917,61947,61976,62006,62035,62064,62094,62123,62153,62182,62212,62242,62271,62301,62331,62360,62390,62419,62448,62478,62507,62537,62566,62596,62625,62655,62685,62715,62744,62774,62803,62832,62862,62891,62921,62950,62980,63009,63039,63069,63099,63128,63157,63187,63216,63246,63275,63305,63334,63363,63393,63423,63453,63482,63512,63541,63571,63600,63630,63659,63689,63718,63747,63777,63807,63836,63866,63895,63925,63955,63984,64014,64043,64073,64102,64131,64161,64190,64220,64249,64279,64309,64339,64368,64398,64427,64457,64486,64515,64545,64574,64603,64633,64663,64692,64722,64752,64782,64811,64841,64870,64899,64929,64958,64987,65017,65047,65076,65106,65136,65166,65195,65225,65254,65283,65313,65342,65371,65401,65431,65460,65490,65520,65549,65579,65608,65638,65667,65697,65726,65755,65785,65815,65844,65874,65903,65933,65963,65992,66022,66051,66081,66110,66140,66169,66199,66228,66258,66287,66317,66346,66376,66405,66435,66465,66494,66524,66553,66583,66612,66641,66671,66700,66730,66760,66789,66819,66849,66878,66908,66937,66967,66996,67025,67055,67084,67114,67143,67173,67203,67233,67262,67292,67321,67351,67380,67409,67439,67468,67497,67527,67557,67587,67617,67646,67676,67705,67735,67764,67793,67823,67852,67882,67911,67941,67971,68e3,68030,68060,68089,68119,68148,68177,68207,68236,68266,68295,68325,68354,68384,68414,68443,68473,68502,68532,68561,68591,68620,68650,68679,68708,68738,68768,68797,68827,68857,68886,68916,68946,68975,69004,69034,69063,69092,69122,69152,69181,69211,69240,69270,69300,69330,69359,69388,69418,69447,69476,69506,69535,69565,69595,69624,69654,69684,69713,69743,69772,69802,69831,69861,69890,69919,69949,69978,70008,70038,70067,70097,70126,70156,70186,70215,70245,70274,70303,70333,70362,70392,70421,70451,70481,70510,70540,70570,70599,70629,70658,70687,70717,70746,70776,70805,70835,70864,70894,70924,70954,70983,71013,71042,71071,71101,71130,71159,71189,71218,71248,71278,71308,71337,71367,71397,71426,71455,71485,71514,71543,71573,71602,71632,71662,71691,71721,71751,71781,71810,71839,71869,71898,71927,71957,71986,72016,72046,72075,72105,72135,72164,72194,72223,72253,72282,72311,72341,72370,72400,72429,72459,72489,72518,72548,72577,72607,72637,72666,72695,72725,72754,72784,72813,72843,72872,72902,72931,72961,72991,73020,73050,73080,73109,73139,73168,73197,73227,73256,73286,73315,73345,73375,73404,73434,73464,73493,73523,73552,73581,73611,73640,73669,73699,73729,73758,73788,73818,73848,73877,73907,73936,73965,73995,74024,74053,74083,74113,74142,74172,74202,74231,74261,74291,74320,74349,74379,74408,74437,74467,74497,74526,74556,74586,74615,74645,74675,74704,74733,74763,74792,74822,74851,74881,74910,74940,74969,74999,75029,75058,75088,75117,75147,75176,75206,75235,75264,75294,75323,75353,75383,75412,75442,75472,75501,75531,75560,75590,75619,75648,75678,75707,75737,75766,75796,75826,75856,75885,75915,75944,75974,76003,76032,76062,76091,76121,76150,76180,76210,76239,76269,76299,76328,76358,76387,76416,76446,76475,76505,76534,76564,76593,76623,76653,76682,76712,76741,76771,76801,76830,76859,76889,76918,76948,76977,77007,77036,77066,77096,77125,77155,77185,77214,77243,77273,77302,77332,77361,77390,77420,77450,77479,77509,77539,77569,77598,77627,77657,77686,77715,77745,77774,77804,77833,77863,77893,77923,77952,77982,78011,78041,78070,78099,78129,78158,78188,78217,78247,78277,78307,78336,78366,78395,78425,78454,78483,78513,78542,78572,78601,78631,78661,78690,78720,78750,78779,78808,78838,78867,78897,78926,78956,78985,79015,79044,79074,79104,79133,79163,79192,79222,79251,79281,79310,79340,79369,79399,79428,79458,79487,79517,79546,79576,79606,79635,79665,79695,79724,79753,79783,79812,79841,79871,79900,79930,79960,79990]},63489:function(ae,B,r){var D=r(56131);function E(){this.regionalOptions=[],this.regionalOptions[""]={invalidCalendar:"Calendar {0} not found",invalidDate:"Invalid {0} date",invalidMonth:"Invalid {0} month",invalidYear:"Invalid {0} year",differentCalendars:"Cannot mix {0} and {1} dates"},this.local=this.regionalOptions[""],this.calendars={},this._localCals={}}function f(i,s,a,o){if(this._calendar=i,this._year=s,this._month=a,this._day=o,0===this._calendar._validateLevel&&!this._calendar.isValid(this._year,this._month,this._day))throw(c.local.invalidDate||c.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name)}function k(i,s){return"000000".substring(0,s-(i=""+i).length)+i}function M(){this.shortYearCutoff="+10"}function y(i){this.local=this.regionalOptions[i]||this.regionalOptions[""]}D(E.prototype,{instance:function(i,s){i=(i||"gregorian").toLowerCase();var a=this._localCals[i+"-"+(s=s||"")];if(!a&&this.calendars[i]&&(a=new this.calendars[i](s),this._localCals[i+"-"+s]=a),!a)throw(this.local.invalidCalendar||this.regionalOptions[""].invalidCalendar).replace(/\{0\}/,i);return a},newDate:function(i,s,a,o,l){return(o=(null!=i&&i.year?i.calendar():"string"==typeof o?this.instance(o,l):o)||this.instance()).newDate(i,s,a)},substituteDigits:function(i){return function(s){return(s+"").replace(/[0-9]/g,function(a){return i[a]})}},substituteChineseDigits:function(i,s){return function(a){for(var o="",l=0;a>0;){var u=a%10;o=(0===u?"":i[u]+s[l])+o,l++,a=Math.floor(a/10)}return 0===o.indexOf(i[1]+s[1])&&(o=o.substr(1)),o||i[0]}}}),D(f.prototype,{newDate:function(i,s,a){return this._calendar.newDate(i??this,s,a)},year:function(i){return 0===arguments.length?this._year:this.set(i,"y")},month:function(i){return 0===arguments.length?this._month:this.set(i,"m")},day:function(i){return 0===arguments.length?this._day:this.set(i,"d")},date:function(i,s,a){if(!this._calendar.isValid(i,s,a))throw(c.local.invalidDate||c.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name);return this._year=i,this._month=s,this._day=a,this},leapYear:function(){return this._calendar.leapYear(this)},epoch:function(){return this._calendar.epoch(this)},formatYear:function(){return this._calendar.formatYear(this)},monthOfYear:function(){return this._calendar.monthOfYear(this)},weekOfYear:function(){return this._calendar.weekOfYear(this)},daysInYear:function(){return this._calendar.daysInYear(this)},dayOfYear:function(){return this._calendar.dayOfYear(this)},daysInMonth:function(){return this._calendar.daysInMonth(this)},dayOfWeek:function(){return this._calendar.dayOfWeek(this)},weekDay:function(){return this._calendar.weekDay(this)},extraInfo:function(){return this._calendar.extraInfo(this)},add:function(i,s){return this._calendar.add(this,i,s)},set:function(i,s){return this._calendar.set(this,i,s)},compareTo:function(i){if(this._calendar.name!==i._calendar.name)throw(c.local.differentCalendars||c.regionalOptions[""].differentCalendars).replace(/\{0\}/,this._calendar.local.name).replace(/\{1\}/,i._calendar.local.name);var s=this._year!==i._year?this._year-i._year:this._month!==i._month?this.monthOfYear()-i.monthOfYear():this._day-i._day;return 0===s?0:s<0?-1:1},calendar:function(){return this._calendar},toJD:function(){return this._calendar.toJD(this)},fromJD:function(i){return this._calendar.fromJD(i)},toJSDate:function(){return this._calendar.toJSDate(this)},fromJSDate:function(i){return this._calendar.fromJSDate(i)},toString:function(){return(this.year()<0?"-":"")+k(Math.abs(this.year()),4)+"-"+k(this.month(),2)+"-"+k(this.day(),2)}}),D(M.prototype,{_validateLevel:0,newDate:function(i,s,a){return null==i?this.today():(i.year&&(this._validate(i,s,a,c.local.invalidDate||c.regionalOptions[""].invalidDate),a=i.day(),s=i.month(),i=i.year()),new f(this,i,s,a))},today:function(){return this.fromJSDate(new Date)},epoch:function(i){return this._validate(i,this.minMonth,this.minDay,c.local.invalidYear||c.regionalOptions[""].invalidYear).year()<0?this.local.epochs[0]:this.local.epochs[1]},formatYear:function(i){var s=this._validate(i,this.minMonth,this.minDay,c.local.invalidYear||c.regionalOptions[""].invalidYear);return(s.year()<0?"-":"")+k(Math.abs(s.year()),4)},monthsInYear:function(i){return this._validate(i,this.minMonth,this.minDay,c.local.invalidYear||c.regionalOptions[""].invalidYear),12},monthOfYear:function(i,s){var a=this._validate(i,s,this.minDay,c.local.invalidMonth||c.regionalOptions[""].invalidMonth);return(a.month()+this.monthsInYear(a)-this.firstMonth)%this.monthsInYear(a)+this.minMonth},fromMonthOfYear:function(i,s){var a=(s+this.firstMonth-2*this.minMonth)%this.monthsInYear(i)+this.minMonth;return this._validate(i,a,this.minDay,c.local.invalidMonth||c.regionalOptions[""].invalidMonth),a},daysInYear:function(i){var s=this._validate(i,this.minMonth,this.minDay,c.local.invalidYear||c.regionalOptions[""].invalidYear);return this.leapYear(s)?366:365},dayOfYear:function(i,s,a){var o=this._validate(i,s,a,c.local.invalidDate||c.regionalOptions[""].invalidDate);return o.toJD()-this.newDate(o.year(),this.fromMonthOfYear(o.year(),this.minMonth),this.minDay).toJD()+1},daysInWeek:function(){return 7},dayOfWeek:function(i,s,a){var o=this._validate(i,s,a,c.local.invalidDate||c.regionalOptions[""].invalidDate);return(Math.floor(this.toJD(o))+2)%this.daysInWeek()},extraInfo:function(i,s,a){return this._validate(i,s,a,c.local.invalidDate||c.regionalOptions[""].invalidDate),{}},add:function(i,s,a){return this._validate(i,this.minMonth,this.minDay,c.local.invalidDate||c.regionalOptions[""].invalidDate),this._correctAdd(i,this._add(i,s,a),s,a)},_add:function(i,s,a){if(this._validateLevel++,"d"===a||"w"===a){var o=i.toJD()+s*("w"===a?this.daysInWeek():1),l=i.calendar().fromJD(o);return this._validateLevel--,[l.year(),l.month(),l.day()]}try{var u=i.year()+("y"===a?s:0),h=i.monthOfYear()+("m"===a?s:0);l=i.day(),"y"===a?(i.month()!==this.fromMonthOfYear(u,h)&&(h=this.newDate(u,i.month(),this.minDay).monthOfYear()),h=Math.min(h,this.monthsInYear(u)),l=Math.min(l,this.daysInMonth(u,this.fromMonthOfYear(u,h)))):"m"===a&&(function(p){for(;h<p.minMonth;)u--,h+=p.monthsInYear(u);for(var T=p.monthsInYear(u);h>T-1+p.minMonth;)u++,h-=T,T=p.monthsInYear(u)}(this),l=Math.min(l,this.daysInMonth(u,this.fromMonthOfYear(u,h))));var v=[u,this.fromMonthOfYear(u,h),l];return this._validateLevel--,v}catch(p){throw this._validateLevel--,p}},_correctAdd:function(i,s,a,o){if(!(this.hasYearZero||"y"!==o&&"m"!==o||0!==s[0]&&i.year()>0==s[0]>0)){var l={y:[1,1,"y"],m:[1,this.monthsInYear(-1),"m"],w:[this.daysInWeek(),this.daysInYear(-1),"d"],d:[1,this.daysInYear(-1),"d"]}[o];s=this._add(i,a*l[0]+(a<0?-1:1)*l[1],l[2])}return i.date(s[0],s[1],s[2])},set:function(i,s,a){this._validate(i,this.minMonth,this.minDay,c.local.invalidDate||c.regionalOptions[""].invalidDate);var o="y"===a?s:i.year(),l="m"===a?s:i.month(),u="d"===a?s:i.day();return"y"!==a&&"m"!==a||(u=Math.min(u,this.daysInMonth(o,l))),i.date(o,l,u)},isValid:function(i,s,a){this._validateLevel++;var o=this.hasYearZero||0!==i;if(o){var l=this.newDate(i,s,this.minDay);o=s>=this.minMonth&&s-this.minMonth<this.monthsInYear(l)&&a>=this.minDay&&a-this.minDay<this.daysInMonth(l)}return this._validateLevel--,o},toJSDate:function(i,s,a){var o=this._validate(i,s,a,c.local.invalidDate||c.regionalOptions[""].invalidDate);return c.instance().fromJD(this.toJD(o)).toJSDate()},fromJSDate:function(i){return this.fromJD(c.instance().fromJSDate(i).toJD())},_validate:function(i,s,a,o){if(i.year){if(0===this._validateLevel&&this.name!==i.calendar().name)throw(c.local.differentCalendars||c.regionalOptions[""].differentCalendars).replace(/\{0\}/,this.local.name).replace(/\{1\}/,i.calendar().local.name);return i}try{if(this._validateLevel++,1===this._validateLevel&&!this.isValid(i,s,a))throw o.replace(/\{0\}/,this.local.name);var l=this.newDate(i,s,a);return this._validateLevel--,l}catch(u){throw this._validateLevel--,u}}}),D(y.prototype=new M,{name:"Gregorian",jdEpoch:1721425.5,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Gregorian",epochs:["BCE","CE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(i){var s=this._validate(i,this.minMonth,this.minDay,c.local.invalidYear||c.regionalOptions[""].invalidYear);return(i=s.year()+(s.year()<0?1:0))%4==0&&(i%100!=0||i%400==0)},weekOfYear:function(i,s,a){var o=this.newDate(i,s,a);return o.add(4-(o.dayOfWeek()||7),"d"),Math.floor((o.dayOfYear()-1)/7)+1},daysInMonth:function(i,s){var a=this._validate(i,s,this.minDay,c.local.invalidMonth||c.regionalOptions[""].invalidMonth);return this.daysPerMonth[a.month()-1]+(2===a.month()&&this.leapYear(a.year())?1:0)},weekDay:function(i,s,a){return(this.dayOfWeek(i,s,a)||7)<6},toJD:function(i,s,a){var o=this._validate(i,s,a,c.local.invalidDate||c.regionalOptions[""].invalidDate);i=o.year(),s=o.month(),a=o.day(),i<0&&i++,s<3&&(s+=12,i--);var l=Math.floor(i/100),u=2-l+Math.floor(l/4);return Math.floor(365.25*(i+4716))+Math.floor(30.6001*(s+1))+a+u-1524.5},fromJD:function(i){var s=Math.floor(i+.5),a=Math.floor((s-1867216.25)/36524.25),o=1524+(a=s+1+a-Math.floor(a/4)),l=Math.floor((o-122.1)/365.25),u=Math.floor(365.25*l),h=Math.floor((o-u)/30.6001),v=o-u-Math.floor(30.6001*h),p=h-(h>13.5?13:1),T=l-(p>2.5?4716:4715);return T<=0&&T--,this.newDate(T,p,v)},toJSDate:function(i,s,a){var o=this._validate(i,s,a,c.local.invalidDate||c.regionalOptions[""].invalidDate),l=new Date(o.year(),o.month()-1,o.day());return l.setHours(0),l.setMinutes(0),l.setSeconds(0),l.setMilliseconds(0),l.setHours(l.getHours()>12?l.getHours()+2:0),l},fromJSDate:function(i){return this.newDate(i.getFullYear(),i.getMonth()+1,i.getDate())}});var c=ae.exports=new E;c.cdate=f,c.baseCalendar=M,c.calendars.gregorian=y},94338:function(ae,B,r){var D=r(56131),E=r(63489);D(E.regionalOptions[""],{invalidArguments:"Invalid arguments",invalidFormat:"Cannot format a date from another calendar",missingNumberAt:"Missing number at position {0}",unknownNameAt:"Unknown name at position {0}",unexpectedLiteralAt:"Unexpected literal at position {0}",unexpectedText:"Additional text found at end"}),E.local=E.regionalOptions[""],D(E.cdate.prototype,{formatDate:function(f,k){return"string"!=typeof f&&(k=f,f=""),this._calendar.formatDate(f||"",this,k)}}),D(E.baseCalendar.prototype,{UNIX_EPOCH:E.instance().newDate(1970,1,1).toJD(),SECS_PER_DAY:86400,TICKS_EPOCH:E.instance().jdEpoch,TICKS_PER_DAY:864e9,ATOM:"yyyy-mm-dd",COOKIE:"D, dd M yyyy",FULL:"DD, MM d, yyyy",ISO_8601:"yyyy-mm-dd",JULIAN:"J",RFC_822:"D, d M yy",RFC_850:"DD, dd-M-yy",RFC_1036:"D, d M yy",RFC_1123:"D, d M yyyy",RFC_2822:"D, d M yyyy",RSS:"D, d M yy",TICKS:"!",TIMESTAMP:"@",W3C:"yyyy-mm-dd",formatDate:function(f,k,M){if("string"!=typeof f&&(M=k,k=f,f=""),!k)return"";if(k.calendar()!==this)throw E.local.invalidFormat||E.regionalOptions[""].invalidFormat;f=f||this.local.dateFormat;for(var y,c,i,s=(M=M||{}).dayNamesShort||this.local.dayNamesShort,a=M.dayNames||this.local.dayNames,o=M.monthNumbers||this.local.monthNumbers,l=M.monthNamesShort||this.local.monthNamesShort,u=M.monthNames||this.local.monthNames,h=function(g,I){for(var S=1;A+S<f.length&&f.charAt(A+S)===g;)S++;return A+=S-1,Math.floor(S/(I||1))>1},v=function(g,I,S,O){var R=""+I;if(h(g,O))for(;R.length<S;)R="0"+R;return R},p=this,_=function(g,I){return I?"function"==typeof u?u.call(p,g):u[g.month()-p.minMonth]:"function"==typeof l?l.call(p,g):l[g.month()-p.minMonth]},m=this.local.digits,w=function(g){return M.localNumbers&&m?m(g):g},x="",b=!1,A=0;A<f.length;A++)if(b)"'"!==f.charAt(A)||h("'")?x+=f.charAt(A):b=!1;else switch(f.charAt(A)){case"d":x+=w(v("d",k.day(),2));break;case"D":x+=(y=k.dayOfWeek(),c=s,i=a,h("D")?i[y]:c[y]);break;case"o":x+=v("o",k.dayOfYear(),3);break;case"w":x+=v("w",k.weekOfYear(),2);break;case"m":x+=(g=k,"function"==typeof o?o.call(p,g,h("m")):w(v("m",g.month(),2)));break;case"M":x+=_(k,h("M"));break;case"y":x+=h("y",2)?k.year():(k.year()%100<10?"0":"")+k.year()%100;break;case"Y":h("Y",2),x+=k.formatYear();break;case"J":x+=k.toJD();break;case"@":x+=(k.toJD()-this.UNIX_EPOCH)*this.SECS_PER_DAY;break;case"!":x+=(k.toJD()-this.TICKS_EPOCH)*this.TICKS_PER_DAY;break;case"'":h("'")?x+="'":b=!0;break;default:x+=f.charAt(A)}var g;return x},parseDate:function(f,k,M){if(null==k)throw E.local.invalidArguments||E.regionalOptions[""].invalidArguments;if(""===(k="object"==typeof k?k.toString():k+""))return null;f=f||this.local.dateFormat;var y=(M=M||{}).shortYearCutoff||this.shortYearCutoff;y="string"!=typeof y?y:this.today().year()%100+parseInt(y,10);for(var c=M.dayNamesShort||this.local.dayNamesShort,i=M.dayNames||this.local.dayNames,s=M.parseMonth||this.local.parseMonth,a=M.monthNumbers||this.local.monthNumbers,o=M.monthNamesShort||this.local.monthNamesShort,l=M.monthNames||this.local.monthNames,u=-1,h=-1,v=-1,p=-1,T=-1,_=!1,m=!1,w=function(j,X){for(var F=1;R+F<f.length&&f.charAt(R+F)===j;)F++;return R+=F-1,Math.floor(F/(X||1))>1},x=function(j,X){var F=w(j,X),Y=[2,3,F?4:2,F?4:2,10,11,20]["oyYJ@!".indexOf(j)+1],G=new RegExp("^-?\\d{1,"+Y+"}"),H=k.substring(O).match(G);if(!H)throw(E.local.missingNumberAt||E.regionalOptions[""].missingNumberAt).replace(/\{0\}/,O);return O+=H[0].length,parseInt(H[0],10)},b=this,A=function(){if("function"==typeof a){w("m");var j=a.call(b,k.substring(O));return O+=j.length,j}return x("m")},g=function(j,X,F,Y){for(var G=w(j,Y)?F:X,H=0;H<G.length;H++)if(k.substr(O,G[H].length).toLowerCase()===G[H].toLowerCase())return O+=G[H].length,H+b.minMonth;throw(E.local.unknownNameAt||E.regionalOptions[""].unknownNameAt).replace(/\{0\}/,O)},I=function(){if("function"==typeof l){var j=w("M")?l.call(b,k.substring(O)):o.call(b,k.substring(O));return O+=j.length,j}return g("M",o,l)},S=function(){if(k.charAt(O)!==f.charAt(R))throw(E.local.unexpectedLiteralAt||E.regionalOptions[""].unexpectedLiteralAt).replace(/\{0\}/,O);O++},O=0,R=0;R<f.length;R++)if(m)"'"!==f.charAt(R)||w("'")?S():m=!1;else switch(f.charAt(R)){case"d":p=x("d");break;case"D":g("D",c,i);break;case"o":T=x("o");break;case"w":x("w");break;case"m":v=A();break;case"M":v=I();break;case"y":var L=R;_=!w("y",2),R=L,h=x("y",2);break;case"Y":h=x("Y",2);break;case"J":u=x("J")+.5,"."===k.charAt(O)&&(O++,x("J"));break;case"@":u=x("@")/this.SECS_PER_DAY+this.UNIX_EPOCH;break;case"!":u=x("!")/this.TICKS_PER_DAY+this.TICKS_EPOCH;break;case"*":O=k.length;break;case"'":w("'")?S():m=!0;break;default:S()}if(O<k.length)throw E.local.unexpectedText||E.regionalOptions[""].unexpectedText;if(-1===h?h=this.today().year():h<100&&_&&(h+=-1===y?1900:this.today().year()-this.today().year()%100-(h<=y?0:100)),"string"==typeof v&&(v=s.call(this,h,v)),T>-1){p=T;for(var N=this.daysInMonth(h,v=1);p>N;N=this.daysInMonth(h,v))v++,p-=N}return u>-1?this.fromJD(u):this.newDate(h,v,p)},determineDate:function(f,k,M,y,c){M&&"object"!=typeof M&&(c=y,y=M,M=null),"string"!=typeof y&&(c=y,y="");var i=this;return k=k?k.newDate():null,null==f?k:"string"==typeof f?function(s){try{return i.parseDate(y,s,c)}catch{}for(var a=((s=s.toLowerCase()).match(/^c/)&&M?M.newDate():null)||i.today(),o=/([+-]?[0-9]+)\s*(d|w|m|y)?/g,l=o.exec(s);l;)a.add(parseInt(l[1],10),l[2]||"d"),l=o.exec(s);return a}(f):"number"==typeof f?isNaN(f)||f===1/0||f===-1/0?k:i.today().add(f,"d"):i.newDate(f)}})},69862:function(){},40964:function(){},72077:function(ae,B,r){"use strict";var D=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],E=typeof globalThis>"u"?r.g:globalThis;ae.exports=function(){for(var f=[],k=0;k<D.length;k++)"function"==typeof E[D[k]]&&(f[f.length]=D[k]);return f}},81684:function(ae,B,r){"use strict";function D(be,ye,we){be.prototype=ye.prototype=we,we.constructor=be}function E(be,ye){var we=Object.create(be.prototype);for(var ze in ye)we[ze]=ye[ze];return we}function f(){}r.d(B,{sX:function(){return Ae},k4:function(){return Q}});var k=.7,M=1/k,y="\\s*([+-]?\\d+)\\s*",c="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",i="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",s=/^#([0-9a-f]{3,8})$/,a=new RegExp("^rgb\\(".concat(y,",").concat(y,",").concat(y,"\\)$")),o=new RegExp("^rgb\\(".concat(i,",").concat(i,",").concat(i,"\\)$")),l=new RegExp("^rgba\\(".concat(y,",").concat(y,",").concat(y,",").concat(c,"\\)$")),u=new RegExp("^rgba\\(".concat(i,",").concat(i,",").concat(i,",").concat(c,"\\)$")),h=new RegExp("^hsl\\(".concat(c,",").concat(i,",").concat(i,"\\)$")),v=new RegExp("^hsla\\(".concat(c,",").concat(i,",").concat(i,",").concat(c,"\\)$")),p={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function T(){return this.rgb().formatHex()}function _(){return this.rgb().formatRgb()}function m(be){var ye,we;return be=(be+"").trim().toLowerCase(),(ye=s.exec(be))?(we=ye[1].length,ye=parseInt(ye[1],16),6===we?w(ye):3===we?new A(ye>>8&15|ye>>4&240,ye>>4&15|240&ye,(15&ye)<<4|15&ye,1):8===we?x(ye>>24&255,ye>>16&255,ye>>8&255,(255&ye)/255):4===we?x(ye>>12&15|ye>>8&240,ye>>8&15|ye>>4&240,ye>>4&15|240&ye,((15&ye)<<4|15&ye)/255):null):(ye=a.exec(be))?new A(ye[1],ye[2],ye[3],1):(ye=o.exec(be))?new A(255*ye[1]/100,255*ye[2]/100,255*ye[3]/100,1):(ye=l.exec(be))?x(ye[1],ye[2],ye[3],ye[4]):(ye=u.exec(be))?x(255*ye[1]/100,255*ye[2]/100,255*ye[3]/100,ye[4]):(ye=h.exec(be))?L(ye[1],ye[2]/100,ye[3]/100,1):(ye=v.exec(be))?L(ye[1],ye[2]/100,ye[3]/100,ye[4]):p.hasOwnProperty(be)?w(p[be]):"transparent"===be?new A(NaN,NaN,NaN,0):null}function w(be){return new A(be>>16&255,be>>8&255,255&be,1)}function x(be,ye,we,ze){return ze<=0&&(be=ye=we=NaN),new A(be,ye,we,ze)}function b(be,ye,we,ze){return 1===arguments.length?((Se=be)instanceof f||(Se=m(Se)),Se?new A((Se=Se.rgb()).r,Se.g,Se.b,Se.opacity):new A):new A(be,ye,we,ze??1);var Se}function A(be,ye,we,ze){this.r=+be,this.g=+ye,this.b=+we,this.opacity=+ze}function g(){return"#".concat(R(this.r)).concat(R(this.g)).concat(R(this.b))}function I(){var be=S(this.opacity);return"".concat(1===be?"rgb(":"rgba(").concat(O(this.r),", ").concat(O(this.g),", ").concat(O(this.b)).concat(1===be?")":", ".concat(be,")"))}function S(be){return isNaN(be)?1:Math.max(0,Math.min(1,be))}function O(be){return Math.max(0,Math.min(255,Math.round(be)||0))}function R(be){return((be=O(be))<16?"0":"")+be.toString(16)}function L(be,ye,we,ze){return ze<=0?be=ye=we=NaN:we<=0||we>=1?be=ye=NaN:ye<=0&&(be=NaN),new j(be,ye,we,ze)}function N(be){if(be instanceof j)return new j(be.h,be.s,be.l,be.opacity);if(be instanceof f||(be=m(be)),!be)return new j;if(be instanceof j)return be;var ye=(be=be.rgb()).r/255,we=be.g/255,ze=be.b/255,Se=Math.min(ye,we,ze),Ce=Math.max(ye,we,ze),ge=NaN,he=Ce-Se,_e=(Ce+Se)/2;return he?(ge=ye===Ce?(we-ze)/he+6*(we<ze):we===Ce?(ze-ye)/he+2:(ye-we)/he+4,he/=_e<.5?Ce+Se:2-Ce-Se,ge*=60):he=_e>0&&_e<1?0:ge,new j(ge,he,_e,be.opacity)}function j(be,ye,we,ze){this.h=+be,this.s=+ye,this.l=+we,this.opacity=+ze}function X(be){return(be=(be||0)%360)<0?be+360:be}function F(be){return Math.max(0,Math.min(1,be||0))}function Y(be,ye,we){return 255*(be<60?ye+(we-ye)*be/60:be<180?we:be<240?ye+(we-ye)*(240-be)/60:ye)}function G(be,ye,we,ze,Se){var Ce=be*be,ge=Ce*be;return((1-3*be+3*Ce-ge)*ye+(4-6*Ce+3*ge)*we+(1+3*be+3*Ce-3*ge)*ze+ge*Se)/6}D(f,m,{copy:function(be){return Object.assign(new this.constructor,this,be)},displayable:function(){return this.rgb().displayable()},hex:T,formatHex:T,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return N(this).formatHsl()},formatRgb:_,toString:_}),D(A,b,E(f,{brighter:function(be){return be=null==be?M:Math.pow(M,be),new A(this.r*be,this.g*be,this.b*be,this.opacity)},darker:function(be){return be=null==be?k:Math.pow(k,be),new A(this.r*be,this.g*be,this.b*be,this.opacity)},rgb:function(){return this},clamp:function(){return new A(O(this.r),O(this.g),O(this.b),S(this.opacity))},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:g,formatHex:g,formatHex8:function(){return"#".concat(R(this.r)).concat(R(this.g)).concat(R(this.b)).concat(R(255*(isNaN(this.opacity)?1:this.opacity)))},formatRgb:I,toString:I})),D(j,function(be,ye,we,ze){return 1===arguments.length?N(be):new j(be,ye,we,ze??1)},E(f,{brighter:function(be){return be=null==be?M:Math.pow(M,be),new j(this.h,this.s,this.l*be,this.opacity)},darker:function(be){return be=null==be?k:Math.pow(k,be),new j(this.h,this.s,this.l*be,this.opacity)},rgb:function(){var be=this.h%360+360*(this.h<0),ye=isNaN(be)||isNaN(this.s)?0:this.s,we=this.l,ze=we+(we<.5?we:1-we)*ye,Se=2*we-ze;return new A(Y(be>=240?be-240:be+120,Se,ze),Y(be,Se,ze),Y(be<120?be+240:be-120,Se,ze),this.opacity)},clamp:function(){return new j(X(this.h),F(this.s),F(this.l),S(this.opacity))},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var be=S(this.opacity);return"".concat(1===be?"hsl(":"hsla(").concat(X(this.h),", ").concat(100*F(this.s),"%, ").concat(100*F(this.l),"%").concat(1===be?")":", ".concat(be,")"))}}));var H=function(be){return function(){return be}};function W(be,ye){var ze,Se,we=ye-be;return we?(ze=be,Se=we,function(Ce){return ze+Ce*Se}):H(isNaN(be)?ye:be)}var Z=function be(ye){var Se,we=1==(Se=+(Se=ye))?W:function(Ce,ge){return ge-Ce?(he=Ce,_e=ge,Le=Se,he=Math.pow(he,Le),_e=Math.pow(_e,Le)-he,Le=1/Le,function(Ie){return Math.pow(he+Ie*_e,Le)}):H(isNaN(Ce)?ge:Ce);var he,_e,Le};function ze(Se,Ce){var ge=we((Se=b(Se)).r,(Ce=b(Ce)).r),he=we(Se.g,Ce.g),_e=we(Se.b,Ce.b),Le=W(Se.opacity,Ce.opacity);return function(Ie){return Se.r=ge(Ie),Se.g=he(Ie),Se.b=_e(Ie),Se.opacity=Le(Ie),Se+""}}return ze.gamma=be,ze}(1);function se(be){return function(ye){var we,ze,Se=ye.length,Ce=new Array(Se),ge=new Array(Se),he=new Array(Se);for(we=0;we<Se;++we)ze=b(ye[we]),Ce[we]=ze.r||0,ge[we]=ze.g||0,he[we]=ze.b||0;return Ce=be(Ce),ge=be(ge),he=be(he),ze.opacity=1,function(_e){return ze.r=Ce(_e),ze.g=ge(_e),ze.b=he(_e),ze+""}}}function re(be,ye){var we,ze=ye?ye.length:0,Se=be?Math.min(ze,be.length):0,Ce=new Array(Se),ge=new Array(ze);for(we=0;we<Se;++we)Ce[we]=Ae(be[we],ye[we]);for(;we<ze;++we)ge[we]=ye[we];return function(he){for(we=0;we<Se;++we)ge[we]=Ce[we](he);return ge}}function ne(be,ye){var we=new Date;return be=+be,ye=+ye,function(ze){return we.setTime(be*(1-ze)+ye*ze),we}}function Q(be,ye){return be=+be,ye=+ye,function(we){return be*(1-we)+ye*we}}function ee(be){return(ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(ye){return typeof ye}:function(ye){return ye&&"function"==typeof Symbol&&ye.constructor===Symbol&&ye!==Symbol.prototype?"symbol":typeof ye})(be)}function oe(be,ye){var we,ze={},Se={};for(we in null!==be&&"object"===ee(be)||(be={}),null!==ye&&"object"===ee(ye)||(ye={}),ye)we in be?ze[we]=Ae(be[we],ye[we]):Se[we]=ye[we];return function(Ce){for(we in ze)Se[we]=ze[we](Ce);return Se}}se(function(be){var ye=be.length-1;return function(we){var ze=we<=0?we=0:we>=1?(we=1,ye-1):Math.floor(we*ye),Se=be[ze],Ce=be[ze+1];return G((we-ze/ye)*ye,ze>0?be[ze-1]:2*Se-Ce,Se,Ce,ze<ye-1?be[ze+2]:2*Ce-Se)}}),se(function(be){var ye=be.length;return function(we){var ze=Math.floor(((we%=1)<0?++we:we)*ye);return G((we-ze/ye)*ye,be[(ze+ye-1)%ye],be[ze%ye],be[(ze+1)%ye],be[(ze+2)%ye])}});var ce=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,fe=new RegExp(ce.source,"g");function le(be,ye){var we,ze,Se,Le,Ce=ce.lastIndex=fe.lastIndex=0,ge=-1,he=[],_e=[];for(be+="",ye+="";(we=ce.exec(be))&&(ze=fe.exec(ye));)(Se=ze.index)>Ce&&(Se=ye.slice(Ce,Se),he[ge]?he[ge]+=Se:he[++ge]=Se),(we=we[0])===(ze=ze[0])?he[ge]?he[ge]+=ze:he[++ge]=ze:(he[++ge]=null,_e.push({i:ge,x:Q(we,ze)})),Ce=fe.lastIndex;return Ce<ye.length&&(Se=ye.slice(Ce),he[ge]?he[ge]+=Se:he[++ge]=Se),he.length<2?_e[0]?(Le=_e[0].x,function(Ie){return Le(Ie)+""}):function(Le){return function(){return Le}}(ye):(ye=_e.length,function(Le){for(var Ie,De=0;De<ye;++De)he[(Ie=_e[De]).i]=Ie.x(Le);return he.join("")})}function pe(be,ye){ye||(ye=[]);var we,ze=be?Math.min(ye.length,be.length):0,Se=ye.slice();return function(Ce){for(we=0;we<ze;++we)Se[we]=be[we]*(1-Ce)+ye[we]*Ce;return Se}}function Me(be){return(Me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(ye){return typeof ye}:function(ye){return ye&&"function"==typeof Symbol&&ye.constructor===Symbol&&ye!==Symbol.prototype?"symbol":typeof ye})(be)}function Ae(be,ye){var we,ze,Se=Me(ye);return null==ye||"boolean"===Se?H(ye):("number"===Se?Q:"string"===Se?(we=m(ye))?(ye=we,Z):le:ye instanceof m?Z:ye instanceof Date?ne:(ze=ye,!ArrayBuffer.isView(ze)||ze instanceof DataView?Array.isArray(ye)?re:"function"!=typeof ye.valueOf&&"function"!=typeof ye.toString||isNaN(ye)?oe:Q:pe))(be,ye)}},40402:function(ae){"use strict";ae.exports=JSON.parse('["xx-small","x-small","small","medium","large","x-large","xx-large","larger","smaller"]')},83794:function(ae){"use strict";ae.exports=JSON.parse('["normal","condensed","semi-condensed","extra-condensed","ultra-condensed","expanded","semi-expanded","extra-expanded","ultra-expanded"]')},96209:function(ae){"use strict";ae.exports=JSON.parse('["normal","italic","oblique"]')},15659:function(ae){"use strict";ae.exports=JSON.parse('["normal","bold","bolder","lighter","100","200","300","400","500","600","700","800","900"]')},38732:function(ae){"use strict";ae.exports=JSON.parse('["inherit","initial","unset"]')},41901:function(ae){"use strict";ae.exports=JSON.parse('["caption","icon","menu","message-box","small-caption","status-bar"]')}},tf={};function Ci(ae){var B=tf[ae];if(void 0!==B)return B.exports;var r=tf[ae]={exports:{}};return ld[ae].call(r.exports,r,r.exports,Ci),r.exports}return Ci.n=function(ae){var B=ae&&ae.__esModule?function(){return ae.default}:function(){return ae};return Ci.d(B,{a:B}),B},Ci.d=function(ae,B){for(var r in B)Ci.o(B,r)&&!Ci.o(ae,r)&&Object.defineProperty(ae,r,{enumerable:!0,get:B[r]})},Ci.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch{if("object"==typeof window)return window}}(),Ci.o=function(ae,B){return Object.prototype.hasOwnProperty.call(ae,B)},Ci.r=function(ae){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(ae,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(ae,"__esModule",{value:!0})},Ci(27909)}()},614:()=>{"use strict";const Pf=":";const oe=function(le,...pe){if(oe.translate){const Ae=oe.translate(le,pe);le=Ae[0],pe=Ae[1]}let Me=fe(le[0],le.raw[0]);for(let Ae=1;Ae<le.length;Ae++)Me+=pe[Ae-1]+fe(le[Ae],le.raw[Ae]);return Me},ce=":";function fe(le,pe){return pe.charAt(0)===ce?le.substring(function F(le,pe){for(let Me=1,Ae=1;Me<le.length;Me++,Ae++)if("\\"===pe[Ae])Ae++;else if(le[Me]===Pf)return Me;throw new Error(`Unterminated $localize metadata block in "${pe}".`)}(le,pe)+1):le}globalThis.$localize=oe}},Pf=>{var ld=Ci=>Pf(Pf.s=Ci);ld(614),ld(206)}]);